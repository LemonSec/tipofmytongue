1
00:00:03,259 --> 00:00:06,000
so as a paramedic if anybody has chest

2
00:00:06,000 --> 00:00:08,519
pain let me know I'll call 9-1-1 which I

3
00:00:08,519 --> 00:00:11,940
don't think works in this country so I

4
00:00:11,940 --> 00:00:13,259
haven't actually learned the emerge the

5
00:00:13,259 --> 00:00:15,440
local emergency number

6
00:00:15,440 --> 00:00:19,500
this presentation is a deliberate fire

7
00:00:19,500 --> 00:00:21,840
hose I have about three hours of

8
00:00:21,840 --> 00:00:22,859
material

9
00:00:22,859 --> 00:00:24,539
that we're going to cover in 30 minutes

10
00:00:24,539 --> 00:00:27,420
and the focus is not for all the little

11
00:00:27,420 --> 00:00:30,000
bits and pieces on all of the slides

12
00:00:30,000 --> 00:00:32,940
it's to focus on a few key Concepts as

13
00:00:32,940 --> 00:00:35,340
we go through and then you can use the

14
00:00:35,340 --> 00:00:36,899
slides as a reference later if you want

15
00:00:36,899 --> 00:00:38,700
to go ahead and read them so obviously

16
00:00:38,700 --> 00:00:40,739
the slots we made available or you can

17
00:00:40,739 --> 00:00:43,440
contact me afterwards uh I got involved

18
00:00:43,440 --> 00:00:44,879
in Cloud very very early I've been doing

19
00:00:44,879 --> 00:00:48,239
this for about 12 years and I also have

20
00:00:48,239 --> 00:00:49,980
This Disaster Response background that I

21
00:00:49,980 --> 00:00:51,899
was involved with nobody cares about

22
00:00:51,899 --> 00:00:53,579
that what is appreciative is sometimes I

23
00:00:53,579 --> 00:00:55,920
dress up like a Storm Trooper that's all

24
00:00:55,920 --> 00:00:57,480
you need to know about me and so what

25
00:00:57,480 --> 00:00:58,260
we're going to do is we're going to

26
00:00:58,260 --> 00:01:01,320
cover two major Concepts we're going to

27
00:01:01,320 --> 00:01:03,840
look at leveraging devsecops techniques

28
00:01:03,840 --> 00:01:06,119
for incident response and then as well

29
00:01:06,119 --> 00:01:09,240
as using uh Cloud native techniques to

30
00:01:09,240 --> 00:01:11,100
improve the incident response process so

31
00:01:11,100 --> 00:01:13,740
this is very much Cloud focused if you

32
00:01:13,740 --> 00:01:15,420
want to go learn about malware analysis

33
00:01:15,420 --> 00:01:17,340
not going to be your talk if you want to

34
00:01:17,340 --> 00:01:18,780
learn how to do incident response using

35
00:01:18,780 --> 00:01:20,820
devops techniques in cloud and kind of

36
00:01:20,820 --> 00:01:21,960
seeing what the future of incident

37
00:01:21,960 --> 00:01:24,240
response is this is absolutely the right

38
00:01:24,240 --> 00:01:25,619
talk for that

39
00:01:25,619 --> 00:01:28,080
now there's a lot of different

40
00:01:28,080 --> 00:01:30,299
definitions of devops because there's

41
00:01:30,299 --> 00:01:31,920
not a definition of devops it's kind of

42
00:01:31,920 --> 00:01:34,259
a philosophy it's kind of a culture but

43
00:01:34,259 --> 00:01:35,939
there are some key characteristics

44
00:01:35,939 --> 00:01:38,040
within devops and these are things that

45
00:01:38,040 --> 00:01:40,920
I can find can dramatically improve our

46
00:01:40,920 --> 00:01:43,740
ability to do incident response and it

47
00:01:43,740 --> 00:01:45,360
was background a lot of this is material

48
00:01:45,360 --> 00:01:47,460
we developed um I teach incident

49
00:01:47,460 --> 00:01:50,040
response for cloud at blackcat with

50
00:01:50,040 --> 00:01:51,420
different organizations I've been kind

51
00:01:51,420 --> 00:01:53,100
of involved with this for a long time

52
00:01:53,100 --> 00:01:55,979
and we found that there's some really

53
00:01:55,979 --> 00:01:58,020
awesome stuff you can do that's actually

54
00:01:58,020 --> 00:02:00,540
much better or more efficient than we've

55
00:02:00,540 --> 00:02:02,220
done in traditional on-premise incident

56
00:02:02,220 --> 00:02:03,479
response

57
00:02:03,479 --> 00:02:06,240
now the key devops characteristics are

58
00:02:06,240 --> 00:02:08,038
collaboration communication Automation

59
00:02:08,038 --> 00:02:10,258
observability and continuous Improvement

60
00:02:10,258 --> 00:02:12,060
and you guys have seen this if you do CI

61
00:02:12,060 --> 00:02:14,160
CD pipelines and if you've built any of

62
00:02:14,160 --> 00:02:15,360
this out yourself and you've done

63
00:02:15,360 --> 00:02:17,340
software deployments that's the entire I

64
00:02:17,340 --> 00:02:18,660
mean that's the name of it let's put the

65
00:02:18,660 --> 00:02:21,180
dev let's put the Ops people together

66
00:02:21,180 --> 00:02:23,099
and we can actually leverage this for

67
00:02:23,099 --> 00:02:24,840
instant response in a bunch of the major

68
00:02:24,840 --> 00:02:27,480
areas of the incident response process

69
00:02:27,480 --> 00:02:28,980
and so I'm going to break that down from

70
00:02:28,980 --> 00:02:30,780
collecting Telemetry to detection

71
00:02:30,780 --> 00:02:32,459
engineering to threat hunting and the

72
00:02:32,459 --> 00:02:35,099
actual response pieces itself and if we

73
00:02:35,099 --> 00:02:37,080
think about it the dev side like there's

74
00:02:37,080 --> 00:02:39,180
a lot of detection engineering that's

75
00:02:39,180 --> 00:02:41,459
basically development it's a development

76
00:02:41,459 --> 00:02:43,260
process to come up with the different

77
00:02:43,260 --> 00:02:44,879
detectors and integrate them into our

78
00:02:44,879 --> 00:02:46,980
systems and actually have the automation

79
00:02:46,980 --> 00:02:48,540
to look at those and it continuously

80
00:02:48,540 --> 00:02:51,420
test those the operational side is more

81
00:02:51,420 --> 00:02:55,019
the monitoring analysis detection the

82
00:02:55,019 --> 00:02:56,340
actual detection part not the

83
00:02:56,340 --> 00:02:59,160
engineering part and the response piece

84
00:02:59,160 --> 00:03:01,019
and so if I break out some of these

85
00:03:01,019 --> 00:03:02,160
Concepts there's a bunch of different

86
00:03:02,160 --> 00:03:04,560
areas where we can actually take

87
00:03:04,560 --> 00:03:06,900
advantage of those devops techniques so

88
00:03:06,900 --> 00:03:09,180
for collaboration uh you'll see and

89
00:03:09,180 --> 00:03:10,560
again this is all stuff I'm going to get

90
00:03:10,560 --> 00:03:13,500
into but especially in cloud and not

91
00:03:13,500 --> 00:03:14,700
just Cloud as we're moving more into

92
00:03:14,700 --> 00:03:16,459
containers and more of these

93
00:03:16,459 --> 00:03:18,540
decentralized operations where

94
00:03:18,540 --> 00:03:20,580
individual teams and development teams

95
00:03:20,580 --> 00:03:22,319
have a lot more autonomy than they've

96
00:03:22,319 --> 00:03:25,620
ever had before we can't do incident

97
00:03:25,620 --> 00:03:27,840
response and manage it completely

98
00:03:27,840 --> 00:03:29,879
centrally it just doesn't work anymore

99
00:03:29,879 --> 00:03:31,500
we don't know what they're running we

100
00:03:31,500 --> 00:03:32,760
don't always have access to the

101
00:03:32,760 --> 00:03:35,459
environments and so moving more into a

102
00:03:35,459 --> 00:03:37,319
more collaborative model of instant

103
00:03:37,319 --> 00:03:39,840
response using devops tools and I mean

104
00:03:39,840 --> 00:03:41,580
like technical tools I don't mean like

105
00:03:41,580 --> 00:03:44,220
you know somebody will call having a

106
00:03:44,220 --> 00:03:46,500
nice handshake a tool or knowing how to

107
00:03:46,500 --> 00:03:48,180
have people skills people skills are not

108
00:03:48,180 --> 00:03:50,400
tools um I mean some people are tools

109
00:03:50,400 --> 00:03:52,799
but that's anyway uh I'm getting a

110
00:03:52,799 --> 00:03:54,720
little off topic here so maybe I should

111
00:03:54,720 --> 00:03:57,000
focus so the collaborative pieces we're

112
00:03:57,000 --> 00:03:58,680
going to work on the right way to do

113
00:03:58,680 --> 00:04:00,299
that to actually really help improve the

114
00:04:00,299 --> 00:04:01,560
instant response process without

115
00:04:01,560 --> 00:04:04,260
increasing security exposures chat Ops

116
00:04:04,260 --> 00:04:05,700
is a really powerful way of doing that

117
00:04:05,700 --> 00:04:07,640
we'll talk more about automation

118
00:04:07,640 --> 00:04:09,900
observability continuous Improvement

119
00:04:09,900 --> 00:04:12,000
fast feedback Cycles that's where some

120
00:04:12,000 --> 00:04:13,200
of the new detection engineering

121
00:04:13,200 --> 00:04:15,540
approaches are coming into play there's

122
00:04:15,540 --> 00:04:17,220
like hopefully an open source tool

123
00:04:17,220 --> 00:04:19,858
that's being released let's just say not

124
00:04:19,858 --> 00:04:21,298
out of North America but somewhere on

125
00:04:21,298 --> 00:04:23,280
this continent I can't talk about that's

126
00:04:23,280 --> 00:04:24,360
actually really designed to help

127
00:04:24,360 --> 00:04:25,979
streamline processes of detection

128
00:04:25,979 --> 00:04:27,479
engineering so there's really some

129
00:04:27,479 --> 00:04:29,639
interesting advances going on there

130
00:04:29,639 --> 00:04:31,979
now at the same time if I'm doing

131
00:04:31,979 --> 00:04:34,500
response in cloud and I've started to

132
00:04:34,500 --> 00:04:36,419
throw containers in like if you have a

133
00:04:36,419 --> 00:04:37,800
big on-premise Coupes deployment

134
00:04:37,800 --> 00:04:39,540
kubernetes deployment that's kind of

135
00:04:39,540 --> 00:04:41,759
like having the fourth cloud like the

136
00:04:41,759 --> 00:04:44,759
first Amazon Azure Google kubernetes are

137
00:04:44,759 --> 00:04:46,139
kind of the four clouds these days just

138
00:04:46,139 --> 00:04:47,160
because of the abstraction the

139
00:04:47,160 --> 00:04:49,320
complexity that's involved uh but the

140
00:04:49,320 --> 00:04:50,820
things that will change that's kind of

141
00:04:50,820 --> 00:04:52,800
forcing us to actually do some of the

142
00:04:52,800 --> 00:04:54,540
things I'm talking about today in

143
00:04:54,540 --> 00:04:57,479
incident response are largely because of

144
00:04:57,479 --> 00:05:00,000
the impact of cloud and of containers

145
00:05:00,000 --> 00:05:01,979
things are very ephemeral like how do

146
00:05:01,979 --> 00:05:03,960
you do forensics on an instance that was

147
00:05:03,960 --> 00:05:05,540
running for about five minutes

148
00:05:05,540 --> 00:05:07,800
compromise then compromise something

149
00:05:07,800 --> 00:05:09,660
else then was terminated and doesn't

150
00:05:09,660 --> 00:05:11,940
exist anymore and those are the kinds of

151
00:05:11,940 --> 00:05:13,919
challenges that we legitimately face

152
00:05:13,919 --> 00:05:15,479
when you're doing instant response in

153
00:05:15,479 --> 00:05:17,460
the cloud process things are more event

154
00:05:17,460 --> 00:05:20,100
driven more distributed more

155
00:05:20,100 --> 00:05:21,419
decentralized and then you get into

156
00:05:21,419 --> 00:05:23,400
serverless like how do you do security

157
00:05:23,400 --> 00:05:25,380
monitoring of Lambda functions or Azure

158
00:05:25,380 --> 00:05:27,060
functions and so we have to have all

159
00:05:27,060 --> 00:05:28,259
these different approaches and different

160
00:05:28,259 --> 00:05:30,900
sources of telemetry we can't do

161
00:05:30,900 --> 00:05:33,120
everything with EDR and network packet

162
00:05:33,120 --> 00:05:34,560
captures anymore because you probably

163
00:05:34,560 --> 00:05:36,419
don't have EDR or network packet

164
00:05:36,419 --> 00:05:38,100
captures to work with in these

165
00:05:38,100 --> 00:05:39,419
environments

166
00:05:39,419 --> 00:05:41,039
and what I want to get across to you

167
00:05:41,039 --> 00:05:43,199
today is how to collect the Telemetry

168
00:05:43,199 --> 00:05:44,580
you're going to need particularly in

169
00:05:44,580 --> 00:05:46,199
these cloud and ephemeral environments

170
00:05:46,199 --> 00:05:47,880
how to build Cloud native threat

171
00:05:47,880 --> 00:05:50,160
detectors using the devops techniques to

172
00:05:50,160 --> 00:05:52,320
improve the process and then how I

173
00:05:52,320 --> 00:05:53,820
really like chat Ops I think that's one

174
00:05:53,820 --> 00:05:55,380
of the coolest like parts of all of this

175
00:05:55,380 --> 00:05:57,360
is integrating chat UPS as the

176
00:05:57,360 --> 00:05:59,340
collaboration tool for not just your

177
00:05:59,340 --> 00:06:01,440
team on the instant response process but

178
00:06:01,440 --> 00:06:02,940
utilizing chat Ops to integrate with

179
00:06:02,940 --> 00:06:05,280
those other teams so let's break it out

180
00:06:05,280 --> 00:06:07,440
into the individual areas

181
00:06:07,440 --> 00:06:10,740
starting with collecting telemetry I've

182
00:06:10,740 --> 00:06:13,500
done many many dozens of cloud

183
00:06:13,500 --> 00:06:15,180
assessments often a very large

184
00:06:15,180 --> 00:06:16,979
organizations government entities both

185
00:06:16,979 --> 00:06:18,500
in North America and over here in Europe

186
00:06:18,500 --> 00:06:22,500
and I find really consistently one of

187
00:06:22,500 --> 00:06:25,500
the biggest obstacles IR teams face if

188
00:06:25,500 --> 00:06:26,880
they even know to look for it in Cloud

189
00:06:26,880 --> 00:06:28,319
they don't have access to the

190
00:06:28,319 --> 00:06:29,520
environments

191
00:06:29,520 --> 00:06:32,759
if I have a AWS organization I might

192
00:06:32,759 --> 00:06:34,380
have hundreds or thousands of Amazon

193
00:06:34,380 --> 00:06:36,840
accounts within that organization a lot

194
00:06:36,840 --> 00:06:38,699
of the identity and access management is

195
00:06:38,699 --> 00:06:40,259
managed by the team that's building that

196
00:06:40,259 --> 00:06:41,639
environment they're using their own

197
00:06:41,639 --> 00:06:43,440
pipelines infrastructures code terraform

198
00:06:43,440 --> 00:06:45,720
cloud formation whatever it is me as I

199
00:06:45,720 --> 00:06:48,419
are I may not have read access and I

200
00:06:48,419 --> 00:06:50,160
very likely don't have read and write

201
00:06:50,160 --> 00:06:51,720
access to actually do any containment

202
00:06:51,720 --> 00:06:54,180
incident response process and it really

203
00:06:54,180 --> 00:06:56,220
becomes critical for you as responders

204
00:06:56,220 --> 00:06:57,600
if you get nothing else out of this

205
00:06:57,600 --> 00:06:59,580
entire talk if you're managing Cloud

206
00:06:59,580 --> 00:07:01,680
environments you have to have access to

207
00:07:01,680 --> 00:07:04,139
those environments now why does this

208
00:07:04,139 --> 00:07:05,699
happen and why don't we realize it's a

209
00:07:05,699 --> 00:07:07,259
problem at first when we're coming from

210
00:07:07,259 --> 00:07:10,020
the IR background because figuring with

211
00:07:10,020 --> 00:07:11,580
incident response we don't need access

212
00:07:11,580 --> 00:07:13,020
to the environment because it's our

213
00:07:13,020 --> 00:07:14,460
freaking Network and we have the network

214
00:07:14,460 --> 00:07:16,620
packet captures and we have the Sim log

215
00:07:16,620 --> 00:07:18,539
entries we have all the information we

216
00:07:18,539 --> 00:07:20,699
use for our analysis but with Cloud you

217
00:07:20,699 --> 00:07:23,160
can't just run off of the outside

218
00:07:23,160 --> 00:07:25,860
Telemetry and the investigation is very

219
00:07:25,860 --> 00:07:27,539
likely going to involve going into that

220
00:07:27,539 --> 00:07:29,400
environment to get the Telemetry because

221
00:07:29,400 --> 00:07:30,479
you don't know the resource

222
00:07:30,479 --> 00:07:31,979
configurations and other things that you

223
00:07:31,979 --> 00:07:34,440
need so make sure you have access make

224
00:07:34,440 --> 00:07:35,880
sure you have a potential directory of

225
00:07:35,880 --> 00:07:38,039
who to contact I was actually working

226
00:07:38,039 --> 00:07:40,380
with a client um that I have here in

227
00:07:40,380 --> 00:07:42,300
Ireland yesterday uh spent the day

228
00:07:42,300 --> 00:07:43,560
working with them

229
00:07:43,560 --> 00:07:45,840
and that was one of the big things was

230
00:07:45,840 --> 00:07:47,819
documenting in their formal requirements

231
00:07:47,819 --> 00:07:49,440
their control objectives that they

232
00:07:49,440 --> 00:07:50,759
actually build a registry and the

233
00:07:50,759 --> 00:07:51,900
information to be in that central

234
00:07:51,900 --> 00:07:53,880
registry and my contact there is like

235
00:07:53,880 --> 00:07:55,560
hey well that's hard because this is how

236
00:07:55,560 --> 00:07:58,020
we do it today I go yeah but if you see

237
00:07:58,020 --> 00:08:00,060
a subscription ID they're in an Azure

238
00:08:00,060 --> 00:08:02,340
environment in a log entry how do you

239
00:08:02,340 --> 00:08:03,660
know who the business owner and the

240
00:08:03,660 --> 00:08:04,860
technical contacts are for that

241
00:08:04,860 --> 00:08:06,660
subscription if you don't know that you

242
00:08:06,660 --> 00:08:08,639
can't respond

243
00:08:08,639 --> 00:08:11,220
then we want to make sure we get the

244
00:08:11,220 --> 00:08:13,620
right Telemetry and with Cloud there's

245
00:08:13,620 --> 00:08:15,180
three sources two of which are on this

246
00:08:15,180 --> 00:08:16,319
Slide the third I'll get to in a little

247
00:08:16,319 --> 00:08:18,660
bit logs are pretty straightforward and

248
00:08:18,660 --> 00:08:19,979
the main ones we want there are like the

249
00:08:19,979 --> 00:08:22,199
activity logs the API logs of all the

250
00:08:22,199 --> 00:08:24,300
API API activity going on in that cloud

251
00:08:24,300 --> 00:08:25,379
environment so it's going to be your

252
00:08:25,379 --> 00:08:28,319
cloud trail your Azure activity log logs

253
00:08:28,319 --> 00:08:30,660
tend to be saved in files files tend to

254
00:08:30,660 --> 00:08:33,419
be batch batch tends to be delayed now

255
00:08:33,419 --> 00:08:34,979
remember Cloud very real time in the

256
00:08:34,979 --> 00:08:36,839
nature of the attacks and stuff and so a

257
00:08:36,839 --> 00:08:38,159
lot of what we need to do is understand

258
00:08:38,159 --> 00:08:40,919
the speeds and feeds or feeds and speeds

259
00:08:40,919 --> 00:08:42,599
what information I'm getting how long is

260
00:08:42,599 --> 00:08:45,060
the delay on those particular entries

261
00:08:45,060 --> 00:08:48,360
the logs tend to be very robust uh if

262
00:08:48,360 --> 00:08:49,560
unless you're in Azure which doesn't

263
00:08:49,560 --> 00:08:50,700
give you everything they don't give you

264
00:08:50,700 --> 00:08:52,140
any right activity so you can't detect

265
00:08:52,140 --> 00:08:54,720
reconnaissance in Azure uh that's yeah

266
00:08:54,720 --> 00:08:56,160
so don't use Azure for instance don't

267
00:08:56,160 --> 00:08:59,160
let friends use Azure or Oracle but the

268
00:08:59,160 --> 00:09:01,800
is Microsoft a sponsor

269
00:09:01,800 --> 00:09:04,200
okay this that was an uncomfortable

270
00:09:04,200 --> 00:09:05,279
laugh

271
00:09:05,279 --> 00:09:07,800
your uncomfortable laughs make me very

272
00:09:07,800 --> 00:09:10,920
uncomfortable on stage so yeah

273
00:09:10,920 --> 00:09:12,660
um so we got the log files tend to be

274
00:09:12,660 --> 00:09:14,399
relatively complete what's different in

275
00:09:14,399 --> 00:09:16,260
Quad is we have events every major cloud

276
00:09:16,260 --> 00:09:18,959
provider supports these and events are

277
00:09:18,959 --> 00:09:20,760
fascinating because they tend to be just

278
00:09:20,760 --> 00:09:23,160
for specific activities they can be very

279
00:09:23,160 --> 00:09:25,080
robust or they cannot be or the line

280
00:09:25,080 --> 00:09:27,779
between logs and events may be almost

281
00:09:27,779 --> 00:09:29,760
doesn't exist maybe every log entry can

282
00:09:29,760 --> 00:09:31,080
be an event which is the way it is

283
00:09:31,080 --> 00:09:32,820
actually in Azure

284
00:09:32,820 --> 00:09:35,160
um events aren't saved unless you tell

285
00:09:35,160 --> 00:09:37,140
them to save now to describe it as the

286
00:09:37,140 --> 00:09:39,060
salmon swimming up the river and you've

287
00:09:39,060 --> 00:09:40,380
got the bear sitting there and the

288
00:09:40,380 --> 00:09:42,120
events the salmon and the salmon jumps

289
00:09:42,120 --> 00:09:43,500
out of the water and back into the water

290
00:09:43,500 --> 00:09:45,600
if the bear snags it out of the air he

291
00:09:45,600 --> 00:09:47,399
gets to eat it if the bear doesn't snag

292
00:09:47,399 --> 00:09:49,080
it out of the air it tends to go away

293
00:09:49,080 --> 00:09:51,000
and this is something we miss a lot

294
00:09:51,000 --> 00:09:52,980
because if you're not familiar with

295
00:09:52,980 --> 00:09:54,600
these and sometimes your vendors aren't

296
00:09:54,600 --> 00:09:56,040
good at capturing all the ones you want

297
00:09:56,040 --> 00:09:57,800
you don't know to turn on the the

298
00:09:57,800 --> 00:10:00,240
Technologies to be able to capture the

299
00:10:00,240 --> 00:10:02,519
events and the events are often far more

300
00:10:02,519 --> 00:10:04,019
interesting than what you're going to

301
00:10:04,019 --> 00:10:05,820
get in the log files got guard Duty

302
00:10:05,820 --> 00:10:07,560
Defender for cloud all of those are

303
00:10:07,560 --> 00:10:09,540
generating events of security Telemetry

304
00:10:09,540 --> 00:10:12,240
on top of the actual events of what the

305
00:10:12,240 --> 00:10:13,320
users are doing inside of your

306
00:10:13,320 --> 00:10:14,399
environments

307
00:10:14,399 --> 00:10:16,440
and so the major feeds we get for these

308
00:10:16,440 --> 00:10:17,580
tend to be

309
00:10:17,580 --> 00:10:20,100
and that's just an AWS diagram that I

310
00:10:20,100 --> 00:10:21,480
stole so you have a pretty picture to

311
00:10:21,480 --> 00:10:24,240
look at I didn't write that but API

312
00:10:24,240 --> 00:10:26,640
activity that's the all of the API calls

313
00:10:26,640 --> 00:10:29,100
at least all of the change calls with

314
00:10:29,100 --> 00:10:31,560
some of the providers Microsoft you

315
00:10:31,560 --> 00:10:34,200
don't get the read activity and you

316
00:10:34,200 --> 00:10:35,820
absolutely absolutely that's going to be

317
00:10:35,820 --> 00:10:37,860
your essential Telemetry to collect then

318
00:10:37,860 --> 00:10:40,560
we have resource logs which is like API

319
00:10:40,560 --> 00:10:42,779
gateways and storage accounts those

320
00:10:42,779 --> 00:10:45,300
sorts of things you selectively tend to

321
00:10:45,300 --> 00:10:47,220
turn those on because maybe you don't

322
00:10:47,220 --> 00:10:49,380
want to pay to cut those on everywhere

323
00:10:49,380 --> 00:10:51,480
you pay to have those on only in the

324
00:10:51,480 --> 00:10:53,279
places you want them you guys oh did I

325
00:10:53,279 --> 00:10:54,600
mention you have to pay for every log

326
00:10:54,600 --> 00:10:56,820
entry from every provider like you don't

327
00:10:56,820 --> 00:10:58,800
get it for free and that's on top of

328
00:10:58,800 --> 00:11:00,480
your storage costs wherever you send it

329
00:11:00,480 --> 00:11:03,000
I I really should learn to mention those

330
00:11:03,000 --> 00:11:06,000
things okay then the workload logs like

331
00:11:06,000 --> 00:11:08,160
your regular server instance logs you're

332
00:11:08,160 --> 00:11:09,360
going to need to collect those kinds of

333
00:11:09,360 --> 00:11:10,920
things then there's other things I'm

334
00:11:10,920 --> 00:11:12,240
just lumping in is service and

335
00:11:12,240 --> 00:11:13,620
diagnostic logs depending on the

336
00:11:13,620 --> 00:11:16,920
platform VPC flow logs or v-net flow

337
00:11:16,920 --> 00:11:18,660
logs those those are network

338
00:11:18,660 --> 00:11:20,220
connectivity logs it's kind of like

339
00:11:20,220 --> 00:11:22,500
netflow that you're going to get but you

340
00:11:22,500 --> 00:11:23,940
have to turn that on if you don't turn

341
00:11:23,940 --> 00:11:26,040
it on you don't get it and all these

342
00:11:26,040 --> 00:11:27,839
different cloud services

343
00:11:27,839 --> 00:11:31,560
all have different logs it is complex I

344
00:11:31,560 --> 00:11:34,440
have spreadsheets that are this big I

345
00:11:34,440 --> 00:11:35,640
don't know how a digital thing can be

346
00:11:35,640 --> 00:11:38,880
that big but it's this big of all the

347
00:11:38,880 --> 00:11:40,620
different sources where you can collect

348
00:11:40,620 --> 00:11:42,779
it is it a log or an event if it's a log

349
00:11:42,779 --> 00:11:44,339
file where is it saved because there's

350
00:11:44,339 --> 00:11:45,480
like four or five different places

351
00:11:45,480 --> 00:11:47,279
typically in each cloud provider those

352
00:11:47,279 --> 00:11:49,079
can be saved and I'm not saying that

353
00:11:49,079 --> 00:11:51,899
this is overly complex think of all the

354
00:11:51,899 --> 00:11:54,000
stuff we do traditional on premise it's

355
00:11:54,000 --> 00:11:56,160
just that if you've done this in a data

356
00:11:56,160 --> 00:11:57,839
center you know where all this stuff is

357
00:11:57,839 --> 00:11:59,640
already so it's just a matter of upping

358
00:11:59,640 --> 00:12:00,959
your skills to know where those are in

359
00:12:00,959 --> 00:12:04,260
Cloud as well as understanding the

360
00:12:04,260 --> 00:12:07,680
speeds part of the feeds and speeds

361
00:12:07,680 --> 00:12:10,740
when I'm doing my design of my security

362
00:12:10,740 --> 00:12:13,200
Telemetry for cloud I tend to break it

363
00:12:13,200 --> 00:12:15,899
up into two kind of major Pathways uh

364
00:12:15,899 --> 00:12:18,540
sometimes there's a third pathway one is

365
00:12:18,540 --> 00:12:22,500
the fast path fastpath has two tiers in

366
00:12:22,500 --> 00:12:25,320
the fast pad for example

367
00:12:25,320 --> 00:12:28,140
the way I have my stuff set up the um I

368
00:12:28,140 --> 00:12:29,399
cheat because I use my own product for

369
00:12:29,399 --> 00:12:31,079
these pieces but the way we have that

370
00:12:31,079 --> 00:12:33,180
set up I will see in less than 30

371
00:12:33,180 --> 00:12:34,920
seconds almost any piece of activity in

372
00:12:34,920 --> 00:12:36,000
an account

373
00:12:36,000 --> 00:12:38,339
and so I'll get the alert so that's the

374
00:12:38,339 --> 00:12:40,200
fast path we're using cloudwatch events

375
00:12:40,200 --> 00:12:43,079
uh from cloudtrail uh and then we push

376
00:12:43,079 --> 00:12:44,880
those events onto an event bus and then

377
00:12:44,880 --> 00:12:47,339
I can do my rules and my fill forwarded

378
00:12:47,339 --> 00:12:51,180
on to my uh analysis system from there

379
00:12:51,180 --> 00:12:52,740
if it's not going to be within a few

380
00:12:52,740 --> 00:12:54,420
seconds you're probably going to be able

381
00:12:54,420 --> 00:12:56,820
to get a lot of stuff within 15 minutes

382
00:12:56,820 --> 00:12:59,880
why 15 minutes because the default for

383
00:12:59,880 --> 00:13:01,680
batching tends to be about five minutes

384
00:13:01,680 --> 00:13:03,839
if it's going to be a file based log and

385
00:13:03,839 --> 00:13:05,820
then that batch file gets saved down so

386
00:13:05,820 --> 00:13:06,839
you're probably gonna be somewhere in

387
00:13:06,839 --> 00:13:09,120
that 5 to 15 minute range to see that

388
00:13:09,120 --> 00:13:11,279
activity so that's that fast pass side

389
00:13:11,279 --> 00:13:13,680
now the slow path is if it's saved into

390
00:13:13,680 --> 00:13:16,200
those files and it's batched and then it

391
00:13:16,200 --> 00:13:18,000
has to go to a collector or forwarder so

392
00:13:18,000 --> 00:13:19,500
slow path is like most of the stuff

393
00:13:19,500 --> 00:13:21,000
you're sending to Splunk you're probably

394
00:13:21,000 --> 00:13:22,079
not going to see it for like an hour

395
00:13:22,079 --> 00:13:23,639
depending on how you have Splunk

396
00:13:23,639 --> 00:13:26,100
configured you can tune that down to

397
00:13:26,100 --> 00:13:28,079
like 15 minutes now why make a big deal

398
00:13:28,079 --> 00:13:30,060
out of this if you have an active

399
00:13:30,060 --> 00:13:32,339
attacker in your environment do you

400
00:13:32,339 --> 00:13:33,720
always want to be

401
00:13:33,720 --> 00:13:35,339
do you want to be a few seconds behind

402
00:13:35,339 --> 00:13:36,899
their activity a few minutes behind

403
00:13:36,899 --> 00:13:38,700
their activity or an hour behind what

404
00:13:38,700 --> 00:13:40,380
they're doing and I have gone into

405
00:13:40,380 --> 00:13:41,579
environments where people have

406
00:13:41,579 --> 00:13:43,800
configured things in ways and mostly

407
00:13:43,800 --> 00:13:45,480
these are places where they send back

408
00:13:45,480 --> 00:13:49,019
stuff back onto their on-prem Sim and

409
00:13:49,019 --> 00:13:50,279
frequently it's Splunk but it could be

410
00:13:50,279 --> 00:13:51,240
anything else it's not a problem with

411
00:13:51,240 --> 00:13:52,500
splog but the way they have it all

412
00:13:52,500 --> 00:13:54,839
configured is they won't see the the

413
00:13:54,839 --> 00:13:57,300
actual activity for up to an hour after

414
00:13:57,300 --> 00:13:59,459
it occurs and even some of the cloud

415
00:13:59,459 --> 00:14:01,380
provider logs there's some in Azure for

416
00:14:01,380 --> 00:14:03,779
example that it's an hour delivery time

417
00:14:03,779 --> 00:14:05,100
and others you get things in a few

418
00:14:05,100 --> 00:14:05,940
seconds

419
00:14:05,940 --> 00:14:08,579
uh Amazon a bunch of stuff hits it 20

420
00:14:08,579 --> 00:14:10,560
minutes like uh guard Duty most of the

421
00:14:10,560 --> 00:14:12,360
Guard Duty stuff is on a about a 20

422
00:14:12,360 --> 00:14:13,500
minute delay

423
00:14:13,500 --> 00:14:16,740
so for me is the responder figuring out

424
00:14:16,740 --> 00:14:18,720
what I need to do I need to have an

425
00:14:18,720 --> 00:14:21,839
intimate understanding of what is eye

426
00:14:21,839 --> 00:14:23,160
collecting and how fast am I getting

427
00:14:23,160 --> 00:14:24,600
that information

428
00:14:24,600 --> 00:14:26,100
we also have to watch out about storage

429
00:14:26,100 --> 00:14:27,779
volume and this is blown apart this is

430
00:14:27,779 --> 00:14:29,100
particularly a problem if you throw a

431
00:14:29,100 --> 00:14:30,899
bunch of stuff on premise it's less of a

432
00:14:30,899 --> 00:14:31,980
problem if you keep it in cloud and you

433
00:14:31,980 --> 00:14:34,019
understand your cloud storage but if you

434
00:14:34,019 --> 00:14:35,220
take

435
00:14:35,220 --> 00:14:36,839
um I have a friend in an organization

436
00:14:36,839 --> 00:14:39,360
that has 16 000 Amazon accounts

437
00:14:39,360 --> 00:14:42,180
sixteen thousand AWS accounts they have

438
00:14:42,180 --> 00:14:43,680
to collect security Telemetry from all

439
00:14:43,680 --> 00:14:44,820
of those

440
00:14:44,820 --> 00:14:47,399
imagine if you have to collect all of

441
00:14:47,399 --> 00:14:48,720
that into a single location now that's

442
00:14:48,720 --> 00:14:50,639
going to blow out your storage cost

443
00:14:50,639 --> 00:14:52,680
and your ability to store all of those

444
00:14:52,680 --> 00:14:54,899
so we do tend to sometimes follow this

445
00:14:54,899 --> 00:14:57,120
collection architecture of uh I call it

446
00:14:57,120 --> 00:14:58,620
kind of a filtering and forwarding where

447
00:14:58,620 --> 00:15:00,779
some stuff is set local and then you

448
00:15:00,779 --> 00:15:04,019
stage out and you push the

449
00:15:04,019 --> 00:15:05,639
um the filtered results out for the

450
00:15:05,639 --> 00:15:08,100
things that matter for security so for

451
00:15:08,100 --> 00:15:09,240
example

452
00:15:09,240 --> 00:15:10,860
uh when I'm running training classes a

453
00:15:10,860 --> 00:15:12,600
lot of times I'll see people keep all

454
00:15:12,600 --> 00:15:15,360
your raw logs in that account

455
00:15:15,360 --> 00:15:19,800
then or in that environment uh then you

456
00:15:19,800 --> 00:15:21,360
can build alerts and you can send the

457
00:15:21,360 --> 00:15:24,120
alerts out or a subsection of filtered

458
00:15:24,120 --> 00:15:26,699
version of those events we had this once

459
00:15:26,699 --> 00:15:29,300
I was working with an org they were

460
00:15:29,300 --> 00:15:31,940
hitting us with a massive stream of data

461
00:15:31,940 --> 00:15:34,740
and it actually like I we had a really

462
00:15:34,740 --> 00:15:36,720
scalable system but it still started

463
00:15:36,720 --> 00:15:38,100
like pushing stuff on the edges because

464
00:15:38,100 --> 00:15:39,899
it was such a sudden jump and they had

465
00:15:39,899 --> 00:15:41,880
turned on these uh the this particular

466
00:15:41,880 --> 00:15:44,279
kind of KMS event event that was

467
00:15:44,279 --> 00:15:46,139
actually flooding the event bus and the

468
00:15:46,139 --> 00:15:48,300
API endpoints where we were collecting

469
00:15:48,300 --> 00:15:50,220
that data from and then all we had to do

470
00:15:50,220 --> 00:15:51,600
is change the rule because those events

471
00:15:51,600 --> 00:15:53,100
were not of security significance the

472
00:15:53,100 --> 00:15:54,600
ones that were being sent over and we

473
00:15:54,600 --> 00:15:56,279
got the security significant ones where

474
00:15:56,279 --> 00:15:58,079
they needed to be those raw events were

475
00:15:58,079 --> 00:16:00,300
still available locally so there's

476
00:16:00,300 --> 00:16:02,339
nothing wrong with using a distributed

477
00:16:02,339 --> 00:16:03,779
architecture and that's why I call it

478
00:16:03,779 --> 00:16:05,579
that cascading that filter and then

479
00:16:05,579 --> 00:16:07,560
forward filter and then forward to the

480
00:16:07,560 --> 00:16:09,480
next step and you're already doing this

481
00:16:09,480 --> 00:16:11,579
even if you don't know it uh like if

482
00:16:11,579 --> 00:16:13,440
you're using like the like somebody

483
00:16:13,440 --> 00:16:16,199
worked with a bit nine carbon black they

484
00:16:16,199 --> 00:16:19,260
kept all of it in that system but as

485
00:16:19,260 --> 00:16:21,420
that developed alerts that require an

486
00:16:21,420 --> 00:16:23,519
investigation those alerts will work out

487
00:16:23,519 --> 00:16:25,620
forward to the Sim that so this is

488
00:16:25,620 --> 00:16:27,600
nothing different it's just we haven't

489
00:16:27,600 --> 00:16:30,120
used those kinds of Technologies before

490
00:16:30,120 --> 00:16:31,560
I'm gonna just blast through this

491
00:16:31,560 --> 00:16:33,120
providers all have a bunch of essential

492
00:16:33,120 --> 00:16:35,579
feeds I will provide the slides I'm only

493
00:16:35,579 --> 00:16:36,959
still talking about this because I so

494
00:16:36,959 --> 00:16:38,100
many pick up their phone to take a

495
00:16:38,100 --> 00:16:39,540
picture of it

496
00:16:39,540 --> 00:16:41,399
um and the providers don't always have

497
00:16:41,399 --> 00:16:43,800
overlapping stuff like yeah Microsoft

498
00:16:43,800 --> 00:16:47,399
has a SIM uh Sentinel I've heard it's

499
00:16:47,399 --> 00:16:48,720
pretty decent just a little pricey

500
00:16:48,720 --> 00:16:50,940
Google's got Chronicle Google now has

501
00:16:50,940 --> 00:16:53,040
well Mandan and all sorts of stuff that

502
00:16:53,040 --> 00:16:55,560
uh that's in there Amazon doesn't have a

503
00:16:55,560 --> 00:16:57,480
SIM uh they all have some kind of cloud

504
00:16:57,480 --> 00:16:58,980
security posture management they all

505
00:16:58,980 --> 00:17:01,740
have some kind of DLP and so again know

506
00:17:01,740 --> 00:17:03,000
the environment that you're working in

507
00:17:03,000 --> 00:17:05,220
to figure out those tools

508
00:17:05,220 --> 00:17:06,660
now

509
00:17:06,660 --> 00:17:08,819
when we're actually and this is almost

510
00:17:08,819 --> 00:17:10,199
to the last of the collecting the

511
00:17:10,199 --> 00:17:12,179
Telemetry piece

512
00:17:12,179 --> 00:17:14,880
the way I like to think about it in my

513
00:17:14,880 --> 00:17:17,459
head just to organize these there's

514
00:17:17,459 --> 00:17:19,500
operational feeds which is the what are

515
00:17:19,500 --> 00:17:20,819
people doing

516
00:17:20,819 --> 00:17:23,699
and then there's the security tool feeds

517
00:17:23,699 --> 00:17:25,260
which is the security tools the cloud

518
00:17:25,260 --> 00:17:26,699
providers give you I'm not even talking

519
00:17:26,699 --> 00:17:28,380
about your third-party tooling and so

520
00:17:28,380 --> 00:17:29,940
for the operational feeds it's like the

521
00:17:29,940 --> 00:17:32,040
API activity it's the service logs the

522
00:17:32,040 --> 00:17:34,080
resource logs Diagnostics logs those all

523
00:17:34,080 --> 00:17:36,179
matter for security most of the matter

524
00:17:36,179 --> 00:17:38,100
for security especially depending on the

525
00:17:38,100 --> 00:17:38,940
environment we need to know about them

526
00:17:38,940 --> 00:17:39,960
we need to collect them we need to be

527
00:17:39,960 --> 00:17:41,640
able to forward those things on uh

528
00:17:41,640 --> 00:17:43,080
appropriately and these are just some

529
00:17:43,080 --> 00:17:44,520
examples on

530
00:17:44,520 --> 00:17:46,559
excuse me AWS because that's where I

531
00:17:46,559 --> 00:17:48,840
tend to do most of my work then we have

532
00:17:48,840 --> 00:17:51,480
security feeds so go Duty alerts guard

533
00:17:51,480 --> 00:17:54,240
duty is Amazon's like IDs if it sends me

534
00:17:54,240 --> 00:17:55,919
an alert well that's something I

535
00:17:55,919 --> 00:17:57,299
probably need to pay more attention to

536
00:17:57,299 --> 00:18:00,780
than just the regular old API calls

537
00:18:00,780 --> 00:18:02,280
um I have security Hub which is a

538
00:18:02,280 --> 00:18:03,780
posture checks for misconfigurations

539
00:18:03,780 --> 00:18:07,140
like public S3 buckets so uh every

540
00:18:07,140 --> 00:18:09,179
single cloud provider supports these

541
00:18:09,179 --> 00:18:10,440
you're going to have your operational

542
00:18:10,440 --> 00:18:12,240
side of things you're going to have your

543
00:18:12,240 --> 00:18:14,160
security side of things

544
00:18:14,160 --> 00:18:15,780
how do I tie it all together and how do

545
00:18:15,780 --> 00:18:17,640
I collect all this stuff in the first

546
00:18:17,640 --> 00:18:18,419
place

547
00:18:18,419 --> 00:18:21,600
there's no one right answer I have my

548
00:18:21,600 --> 00:18:24,000
biased preferences based on how I like

549
00:18:24,000 --> 00:18:26,220
to work in environments but then I still

550
00:18:26,220 --> 00:18:28,020
will go in some place maybe they have to

551
00:18:28,020 --> 00:18:29,340
do it a different way than the way that

552
00:18:29,340 --> 00:18:31,200
I normally like to do it but again it

553
00:18:31,200 --> 00:18:32,460
comes out of this Cascade and filter

554
00:18:32,460 --> 00:18:36,000
pattern where I have everything all the

555
00:18:36,000 --> 00:18:38,820
key Telemetry turned on within an

556
00:18:38,820 --> 00:18:40,679
account an account a subscription a

557
00:18:40,679 --> 00:18:41,880
project different providers use

558
00:18:41,880 --> 00:18:44,059
different terminology for this

559
00:18:44,059 --> 00:18:47,580
the events I will typically feed to a

560
00:18:47,580 --> 00:18:49,740
cloud detection and response tool

561
00:18:49,740 --> 00:18:51,900
now if you don't have one of those you

562
00:18:51,900 --> 00:18:53,940
feed it to your sim the events are the

563
00:18:53,940 --> 00:18:55,679
guard Duty alerts it's the real time

564
00:18:55,679 --> 00:18:57,840
it's the less than 15 minutes and

565
00:18:57,840 --> 00:18:59,940
usually less than 15 seconds feeds

566
00:18:59,940 --> 00:19:01,799
Defender for cloud those are all

567
00:19:01,799 --> 00:19:05,220
examples of the event based feed systems

568
00:19:05,220 --> 00:19:07,200
that you want to push out

569
00:19:07,200 --> 00:19:09,419
raw logs you're still going to collect

570
00:19:09,419 --> 00:19:10,860
those and probably send them to a Sim or

571
00:19:10,860 --> 00:19:12,720
something equivalent there

572
00:19:12,720 --> 00:19:14,280
uh there's also going to be a cloud

573
00:19:14,280 --> 00:19:16,320
security posture management which is the

574
00:19:16,320 --> 00:19:18,000
tooling that detects oh you have public

575
00:19:18,000 --> 00:19:20,400
S3 buckets so this IAM is misconfigured

576
00:19:20,400 --> 00:19:22,679
or this uh Port 22 is open on this

577
00:19:22,679 --> 00:19:24,000
instance so there's your you're going to

578
00:19:24,000 --> 00:19:25,740
have that piece as well you're going to

579
00:19:25,740 --> 00:19:27,419
forward that into whatever you're using

580
00:19:27,419 --> 00:19:28,980
for your detection and response tooling

581
00:19:28,980 --> 00:19:30,240
for some of you you don't have that

582
00:19:30,240 --> 00:19:31,320
you're just going to run everything out

583
00:19:31,320 --> 00:19:34,020
of the Sim and then you can depending on

584
00:19:34,020 --> 00:19:36,000
the environment you can do the alerting

585
00:19:36,000 --> 00:19:37,440
from the cloud native the cloud

586
00:19:37,440 --> 00:19:39,000
detection response and then send those

587
00:19:39,000 --> 00:19:41,220
alerts in your sim if your sock analysts

588
00:19:41,220 --> 00:19:42,900
are used to running stuff out of you

589
00:19:42,900 --> 00:19:44,400
know Splunk or Sumo or whatever they're

590
00:19:44,400 --> 00:19:46,980
using or you can also go the other way

591
00:19:46,980 --> 00:19:48,720
what Sims are really good for is the low

592
00:19:48,720 --> 00:19:50,400
and slow attacks the read activity

593
00:19:50,400 --> 00:19:52,440
reconnaissance you know except I'm Azure

594
00:19:52,440 --> 00:19:54,960
because you can't but uh Gathering that

595
00:19:54,960 --> 00:19:57,360
not that I have a if anybody in

596
00:19:57,360 --> 00:19:58,860
Microsoft can fix that just let me know

597
00:19:58,860 --> 00:20:00,600
I'm here for you

598
00:20:00,600 --> 00:20:03,360
um but uh you might send the the Sim

599
00:20:03,360 --> 00:20:04,559
alerts through the other way so there's

600
00:20:04,559 --> 00:20:05,700
a bunch of different ways to kind of

601
00:20:05,700 --> 00:20:08,160
architect to this get those Alert

602
00:20:08,160 --> 00:20:09,660
central and then if you need to you can

603
00:20:09,660 --> 00:20:11,400
dive into these environments to do your

604
00:20:11,400 --> 00:20:13,679
deeper investigation

605
00:20:13,679 --> 00:20:15,660
so that first part just to really tell

606
00:20:15,660 --> 00:20:17,400
you how do I collect this give you a

607
00:20:17,400 --> 00:20:18,480
sense it's going to be different in

608
00:20:18,480 --> 00:20:20,220
Cloud there's some newer architectural

609
00:20:20,220 --> 00:20:22,559
approaches that you can take to do this

610
00:20:22,559 --> 00:20:24,179
you can use a lot of your existing

611
00:20:24,179 --> 00:20:25,559
tooling I will tell you you're probably

612
00:20:25,559 --> 00:20:26,760
going to want to start looking at more

613
00:20:26,760 --> 00:20:28,919
of like a cloud Sim of some sort I'm not

614
00:20:28,919 --> 00:20:30,720
selling it I don't sell a cloud Sim like

615
00:20:30,720 --> 00:20:32,820
I just try to send all this to your

616
00:20:32,820 --> 00:20:34,740
on-premise sim get your Cloud SIM from

617
00:20:34,740 --> 00:20:36,299
the same vendor I don't care but trying

618
00:20:36,299 --> 00:20:37,559
to send this all into your data center

619
00:20:37,559 --> 00:20:39,000
the only one that's going to be really

620
00:20:39,000 --> 00:20:40,500
happy is whoever's selling you your hard

621
00:20:40,500 --> 00:20:41,720
drives

622
00:20:41,720 --> 00:20:44,940
now in detection engineering it's a

623
00:20:44,940 --> 00:20:46,260
little bit different because now we are

624
00:20:46,260 --> 00:20:48,240
looking at the management plane we have

625
00:20:48,240 --> 00:20:49,980
these widely varying deployment

626
00:20:49,980 --> 00:20:51,840
environments and we have the fees from

627
00:20:51,840 --> 00:20:53,460
the cloud service providers that need to

628
00:20:53,460 --> 00:20:55,500
be integrated this really hammered home

629
00:20:55,500 --> 00:20:57,000
I needed to write this slide and have

630
00:20:57,000 --> 00:20:58,200
this section of a talk when I was

631
00:20:58,200 --> 00:20:59,700
working with an org that they're

632
00:20:59,700 --> 00:21:01,620
detection Engineers were just taking

633
00:21:01,620 --> 00:21:04,500
standard iocs like IP addresses and such

634
00:21:04,500 --> 00:21:06,179
and looking for those in cloud trail

635
00:21:06,179 --> 00:21:09,059
logs for their AWS environment that's

636
00:21:09,059 --> 00:21:10,620
but they were missing all the cloud

637
00:21:10,620 --> 00:21:14,340
native kinds of events that mattered uh

638
00:21:14,340 --> 00:21:16,799
now with the text engineering there's

639
00:21:16,799 --> 00:21:18,299
two aspects of this I've been kind of

640
00:21:18,299 --> 00:21:19,919
talking a lot about integrating cloud in

641
00:21:19,919 --> 00:21:21,299
but now we're going to get into some of

642
00:21:21,299 --> 00:21:22,679
the devops techniques that we can

643
00:21:22,679 --> 00:21:25,500
integrate because I think of detection

644
00:21:25,500 --> 00:21:27,720
Engineering in these environments as a

645
00:21:27,720 --> 00:21:29,340
devops process

646
00:21:29,340 --> 00:21:31,620
I think of it as a development process

647
00:21:31,620 --> 00:21:35,580
I'm going to use CI CD pipelines to

648
00:21:35,580 --> 00:21:37,380
create my detectors and push those out

649
00:21:37,380 --> 00:21:39,539
now why does this matter

650
00:21:39,539 --> 00:21:41,820
I may have to push these out in a much

651
00:21:41,820 --> 00:21:43,320
more distributed decentralized

652
00:21:43,320 --> 00:21:44,820
architecture than I ever have before

653
00:21:44,820 --> 00:21:46,200
you're not going to run around and

654
00:21:46,200 --> 00:21:47,220
manually do these you're not going to

655
00:21:47,220 --> 00:21:48,960
import them from spreadsheets and you're

656
00:21:48,960 --> 00:21:50,039
not going to get all the ones you need

657
00:21:50,039 --> 00:21:52,020
from your your vendors so you're going

658
00:21:52,020 --> 00:21:53,039
to have to have your own internal

659
00:21:53,039 --> 00:21:55,140
detection Engineering Process

660
00:21:55,140 --> 00:21:57,480
other things like do I want to run every

661
00:21:57,480 --> 00:21:58,799
detection in a development environment

662
00:21:58,799 --> 00:22:00,419
probably not do I want to run everyone

663
00:22:00,419 --> 00:22:02,580
in a production environment probably or

664
00:22:02,580 --> 00:22:03,720
maybe it's going to be different between

665
00:22:03,720 --> 00:22:05,039
the two so I'm going to think about

666
00:22:05,039 --> 00:22:07,559
using templates and CI CD pipelines and

667
00:22:07,559 --> 00:22:09,320
tagging for the appropriate environments

668
00:22:09,320 --> 00:22:11,820
uh also when I get information from

669
00:22:11,820 --> 00:22:13,140
feeds I got one today I wish I could

670
00:22:13,140 --> 00:22:14,640
show you on my laptop I had to log in

671
00:22:14,640 --> 00:22:16,260
with my root account to do something in

672
00:22:16,260 --> 00:22:17,820
one of my Amazon accounts and it's a

673
00:22:17,820 --> 00:22:20,880
blob of Json like I can read it but it's

674
00:22:20,880 --> 00:22:24,900
not nice and the uh what if I could

675
00:22:24,900 --> 00:22:26,220
enrich that and make it more human

676
00:22:26,220 --> 00:22:27,900
readable and add data like well what

677
00:22:27,900 --> 00:22:29,280
environment is that how is that thing

678
00:22:29,280 --> 00:22:31,260
tagged what data is in there those are

679
00:22:31,260 --> 00:22:32,100
the kinds of things that you can

680
00:22:32,100 --> 00:22:33,659
actually start building into your

681
00:22:33,659 --> 00:22:36,000
detectors and holy crap I picked the

682
00:22:36,000 --> 00:22:37,260
wrong colors to try and read the slide

683
00:22:37,260 --> 00:22:39,960
from myself down here so if I think

684
00:22:39,960 --> 00:22:42,120
about it on the dev side of detection

685
00:22:42,120 --> 00:22:43,500
engineering

686
00:22:43,500 --> 00:22:45,780
so in the middle there in the planning

687
00:22:45,780 --> 00:22:48,780
page research and Intel and there are

688
00:22:48,780 --> 00:22:50,580
some sources I'll show you a few of

689
00:22:50,580 --> 00:22:52,980
those before we get there uh there's

690
00:22:52,980 --> 00:22:54,780
some uh there's some new detection

691
00:22:54,780 --> 00:22:56,520
communities that are out there have been

692
00:22:56,520 --> 00:22:57,840
developed for cloud to get the info

693
00:22:57,840 --> 00:23:00,000
about what I need to do then we have to

694
00:23:00,000 --> 00:23:01,679
Define that and that's going to be in a

695
00:23:01,679 --> 00:23:02,940
template ideally in kind of an

696
00:23:02,940 --> 00:23:05,820
infrastructure as code uh like you Sigma

697
00:23:05,820 --> 00:23:07,200
is not really meant for cloud but

698
00:23:07,200 --> 00:23:08,760
something sigma-like maybe you have to

699
00:23:08,760 --> 00:23:10,380
do it yourself today I do know there's

700
00:23:10,380 --> 00:23:12,900
some more industry standard-ish things

701
00:23:12,900 --> 00:23:14,460
being developed I just they're not out

702
00:23:14,460 --> 00:23:15,659
there yet so I can't give you the

703
00:23:15,659 --> 00:23:17,520
references to those but if I'm going to

704
00:23:17,520 --> 00:23:18,600
start this today and I didn't have

705
00:23:18,600 --> 00:23:19,919
anything else I'd look at like miter

706
00:23:19,919 --> 00:23:21,360
attack for cloud and I would look at

707
00:23:21,360 --> 00:23:23,100
converting those things into Sigma rules

708
00:23:23,100 --> 00:23:25,020
that's what we're talking uh about here

709
00:23:25,020 --> 00:23:27,419
then you have to code them up so is

710
00:23:27,419 --> 00:23:28,799
there going to be a Splunk query is

711
00:23:28,799 --> 00:23:29,940
there going to be a native query and a

712
00:23:29,940 --> 00:23:31,260
different kind of tool how are you

713
00:23:31,260 --> 00:23:32,220
actually going to do that detection

714
00:23:32,220 --> 00:23:34,559
itself then you want to test and

715
00:23:34,559 --> 00:23:35,880
simulate that

716
00:23:35,880 --> 00:23:38,580
so uh we're seeing an emergence of more

717
00:23:38,580 --> 00:23:40,740
simulation tooling that you can actually

718
00:23:40,740 --> 00:23:42,840
simulate and the easiest way to simulate

719
00:23:42,840 --> 00:23:45,179
is do an attack yourself record those

720
00:23:45,179 --> 00:23:47,400
events replay the events so you actually

721
00:23:47,400 --> 00:23:48,840
able to test your detections work

722
00:23:48,840 --> 00:23:50,580
because cloud is so different

723
00:23:50,580 --> 00:23:52,380
distributed and fragile you're going to

724
00:23:52,380 --> 00:23:53,340
want to get to the point where you can

725
00:23:53,340 --> 00:23:54,780
automate some of this fault injection

726
00:23:54,780 --> 00:23:56,880
across your environments because you may

727
00:23:56,880 --> 00:23:58,380
lose feeds

728
00:23:58,380 --> 00:24:00,539
because if you don't get any guard Duty

729
00:24:00,539 --> 00:24:02,460
alerts for five years does that mean you

730
00:24:02,460 --> 00:24:03,600
weren't attacked does that mean that

731
00:24:03,600 --> 00:24:05,220
that got turned off and nobody noticed

732
00:24:05,220 --> 00:24:06,960
so you're going to want to have a way of

733
00:24:06,960 --> 00:24:08,640
validating that you're still being able

734
00:24:08,640 --> 00:24:10,320
to get that information tune it over

735
00:24:10,320 --> 00:24:12,780
time provide feedback and then enrich

736
00:24:12,780 --> 00:24:14,940
that data when you do it operationally

737
00:24:14,940 --> 00:24:16,260
and those detections you're going to

738
00:24:16,260 --> 00:24:17,880
pull from three places two we've talked

739
00:24:17,880 --> 00:24:19,440
about the logs and the alerts that's

740
00:24:19,440 --> 00:24:22,020
pretty clear the third one though gets

741
00:24:22,020 --> 00:24:23,940
more interesting and that's the actual

742
00:24:23,940 --> 00:24:27,419
configuration itself uh and I call this

743
00:24:27,419 --> 00:24:30,419
Schrodinger's misconfigurations

744
00:24:30,419 --> 00:24:32,760
if you find out that somebody made an S3

745
00:24:32,760 --> 00:24:34,320
bucket bucket or a storage account

746
00:24:34,320 --> 00:24:35,640
public

747
00:24:35,640 --> 00:24:37,620
is that an attack

748
00:24:37,620 --> 00:24:40,559
is that a misconfiguration or was that

749
00:24:40,559 --> 00:24:42,000
meant to be done and they just forgot to

750
00:24:42,000 --> 00:24:45,059
ask for their exemption from the policy

751
00:24:45,059 --> 00:24:46,740
you don't know until you look and this

752
00:24:46,740 --> 00:24:48,720
is why access to these environments

753
00:24:48,720 --> 00:24:52,320
becomes so absolutely critical and you

754
00:24:52,320 --> 00:24:54,299
don't even know when you look based on

755
00:24:54,299 --> 00:24:56,820
who made the change because the single

756
00:24:56,820 --> 00:24:59,460
largest source of cloud breaches today

757
00:24:59,460 --> 00:25:01,140
is

758
00:25:01,140 --> 00:25:03,240
exposed credentials

759
00:25:03,240 --> 00:25:04,799
and it could be service account

760
00:25:04,799 --> 00:25:06,240
credentials it could be developer

761
00:25:06,240 --> 00:25:09,360
credentials admin credentials so exposed

762
00:25:09,360 --> 00:25:11,400
credentials impersonation of the users

763
00:25:11,400 --> 00:25:13,980
the biggest Vector of attack then I find

764
00:25:13,980 --> 00:25:15,780
a misconfiguration but I don't know if

765
00:25:15,780 --> 00:25:16,980
they meant to do that because it's a

766
00:25:16,980 --> 00:25:18,120
decentralized environment that they

767
00:25:18,120 --> 00:25:19,740
manage themselves

768
00:25:19,740 --> 00:25:21,960
so this is the first critical stage of

769
00:25:21,960 --> 00:25:23,880
this this is why to me I want those

770
00:25:23,880 --> 00:25:26,100
misconfigurations like normally you

771
00:25:26,100 --> 00:25:27,779
don't take your vulnerability assessment

772
00:25:27,779 --> 00:25:29,760
results and use those to trigger an

773
00:25:29,760 --> 00:25:31,740
incident response process and a lot of

774
00:25:31,740 --> 00:25:33,000
us think of cloud security posture

775
00:25:33,000 --> 00:25:35,039
management tools as like a vulnerability

776
00:25:35,039 --> 00:25:37,200
assessment tool do I have an exposed

777
00:25:37,200 --> 00:25:39,000
misconfiguration but when that

778
00:25:39,000 --> 00:25:41,039
misconfiguration happens at the point in

779
00:25:41,039 --> 00:25:43,500
time that very much could be the

780
00:25:43,500 --> 00:25:46,799
indicator of an attack a public snapshot

781
00:25:46,799 --> 00:25:50,940
is a a an exfiltration technique used by

782
00:25:50,940 --> 00:25:53,400
multiple attack groups today

783
00:25:53,400 --> 00:25:55,620
was that a public snapshot meant to be

784
00:25:55,620 --> 00:25:57,240
there or was that an attacker being

785
00:25:57,240 --> 00:25:58,620
there and so that's why that's really

786
00:25:58,620 --> 00:26:00,120
really important

787
00:26:00,120 --> 00:26:01,440
so what are some of the things when I'm

788
00:26:01,440 --> 00:26:02,940
looking at those misconfigurations that

789
00:26:02,940 --> 00:26:04,559
give me a higher index of Suspicion

790
00:26:04,559 --> 00:26:06,960
what's the source IP was there any

791
00:26:06,960 --> 00:26:09,360
reconnaissance uh what's the environment

792
00:26:09,360 --> 00:26:11,580
is it a production environment and like

793
00:26:11,580 --> 00:26:14,279
that should never be public uh or was it

794
00:26:14,279 --> 00:26:15,179
a development environment where

795
00:26:15,179 --> 00:26:16,559
developers doing it just to exchange

796
00:26:16,559 --> 00:26:17,940
data between accounts and they were too

797
00:26:17,940 --> 00:26:19,919
lazy to get the two account IDs to do it

798
00:26:19,919 --> 00:26:23,159
uh differently and really the best way

799
00:26:23,159 --> 00:26:25,140
to do this is going to be chat Ops we're

800
00:26:25,140 --> 00:26:26,580
going to get back to that in just a

801
00:26:26,580 --> 00:26:28,679
moment so when I'm looking through these

802
00:26:28,679 --> 00:26:30,240
log files when I simulate attacks from

803
00:26:30,240 --> 00:26:32,520
my students in training classes it's a

804
00:26:32,520 --> 00:26:34,440
lot of it is I'll show them the same

805
00:26:34,440 --> 00:26:37,320
attack coming from a trusted IP address

806
00:26:37,320 --> 00:26:39,059
and from a non-trusted IP address we'll

807
00:26:39,059 --> 00:26:40,500
fully simulate that just to give them

808
00:26:40,500 --> 00:26:42,720
different indexes of Suspicion around

809
00:26:42,720 --> 00:26:43,799
things

810
00:26:43,799 --> 00:26:45,299
a lot of different places that you can

811
00:26:45,299 --> 00:26:46,980
detect you can do it in the Sim you can

812
00:26:46,980 --> 00:26:48,360
get detection straight from your Cloud

813
00:26:48,360 --> 00:26:50,279
providers Defender for cloud Amazon

814
00:26:50,279 --> 00:26:52,620
guard Duty your Cloud security posture

815
00:26:52,620 --> 00:26:54,900
management may do some detections uh

816
00:26:54,900 --> 00:26:55,860
that's kind of how you're going to get

817
00:26:55,860 --> 00:26:57,659
your misconfigurations and then there's

818
00:26:57,659 --> 00:26:59,100
this newer category of plot detection

819
00:26:59,100 --> 00:27:01,320
and response tools or CDR tools EDR

820
00:27:01,320 --> 00:27:05,279
tools MDR tools xdr tools I don't know

821
00:27:05,279 --> 00:27:06,960
what my if anybody has any other letters

822
00:27:06,960 --> 00:27:08,400
they want to put in front of Dr let me

823
00:27:08,400 --> 00:27:10,320
know and I'll go patent that

824
00:27:10,320 --> 00:27:14,100
um make a lot of money probably so

825
00:27:14,100 --> 00:27:16,080
these are some examples this is a CIS

826
00:27:16,080 --> 00:27:17,700
benchmarks uh Center for Internet

827
00:27:17,700 --> 00:27:19,620
Security benchmarks for AWS it's a

828
00:27:19,620 --> 00:27:21,000
pretty good list they've got a similar

829
00:27:21,000 --> 00:27:23,279
list as well for the other providers

830
00:27:23,279 --> 00:27:25,380
here's some examples of indicators of

831
00:27:25,380 --> 00:27:27,360
compromise things like get caller

832
00:27:27,360 --> 00:27:29,340
identity which is an API call in AWS

833
00:27:29,340 --> 00:27:32,400
that says tell me who I am how often

834
00:27:32,400 --> 00:27:34,200
would a service account try and find out

835
00:27:34,200 --> 00:27:35,820
its own identity

836
00:27:35,820 --> 00:27:38,159
probably not too often higher index of

837
00:27:38,159 --> 00:27:40,799
Suspicion sharing between accounts that

838
00:27:40,799 --> 00:27:42,360
I don't know about making something

839
00:27:42,360 --> 00:27:45,179
public these are all iocs the problem is

840
00:27:45,179 --> 00:27:47,159
is they can be difficult to capture all

841
00:27:47,159 --> 00:27:48,179
of these activities if you don't know

842
00:27:48,179 --> 00:27:49,799
what to look for so this is where the

843
00:27:49,799 --> 00:27:52,140
research Intel piece comes in and again

844
00:27:52,140 --> 00:27:53,700
there's we're starting to get more of

845
00:27:53,700 --> 00:27:55,020
this being in public when I first

846
00:27:55,020 --> 00:27:57,000
started talking about these I had to

847
00:27:57,000 --> 00:27:58,140
kind of make all my own up because I've

848
00:27:58,140 --> 00:27:59,640
been doing it for 12 years but now

849
00:27:59,640 --> 00:28:02,279
there's some uh different areas in the

850
00:28:02,279 --> 00:28:03,900
the cloud security communities some

851
00:28:03,900 --> 00:28:05,159
people are starting to share more of

852
00:28:05,159 --> 00:28:06,240
these more

853
00:28:06,240 --> 00:28:08,820
uh so what are your recommendations your

854
00:28:08,820 --> 00:28:10,980
old iocs don't go away some of those do

855
00:28:10,980 --> 00:28:12,299
still matter it's going to increase your

856
00:28:12,299 --> 00:28:15,000
index of Suspicion uh I focus on the

857
00:28:15,000 --> 00:28:16,740
management plane I call it Cloud log

858
00:28:16,740 --> 00:28:19,320
before syslog for these attacks I go

859
00:28:19,320 --> 00:28:20,640
into Orcs they care more about the

860
00:28:20,640 --> 00:28:21,779
network side of things because that's

861
00:28:21,779 --> 00:28:22,980
how they built up they're going to look

862
00:28:22,980 --> 00:28:25,380
for their MDR stuff or EDR stuff sorry

863
00:28:25,380 --> 00:28:26,760
that's how they're they're used to

864
00:28:26,760 --> 00:28:27,900
looking at their endpoint and their

865
00:28:27,900 --> 00:28:29,100
Network

866
00:28:29,100 --> 00:28:30,960
I'm A Cloud guy I only have a about

867
00:28:30,960 --> 00:28:33,059
endpoints and networks like all right

868
00:28:33,059 --> 00:28:36,120
those are like highly disposable it's

869
00:28:36,120 --> 00:28:38,039
like I have three kids so I have a spare

870
00:28:38,039 --> 00:28:40,440
like I'll have three vpcs so I have a

871
00:28:40,440 --> 00:28:43,260
spare like who gives a and sorry I

872
00:28:43,260 --> 00:28:45,779
promised Brian I would curse on stage so

873
00:28:45,779 --> 00:28:49,620
I I just had to do that yeah no I I I'm

874
00:28:49,620 --> 00:28:51,740
gonna blame you yeah

875
00:28:51,740 --> 00:28:55,140
uh so your normal iocs will still work

876
00:28:55,140 --> 00:28:57,779
but those come later focus on these more

877
00:28:57,779 --> 00:28:59,760
native iscs starting with things like

878
00:28:59,760 --> 00:29:01,799
identity and access management all

879
00:29:01,799 --> 00:29:03,299
called security failures are IAM

880
00:29:03,299 --> 00:29:05,460
failures all IAM failures are governance

881
00:29:05,460 --> 00:29:07,320
failures so look at different kinds of I

882
00:29:07,320 --> 00:29:08,880
am activity and privilege escalations

883
00:29:08,880 --> 00:29:10,559
and new account creation new credentials

884
00:29:10,559 --> 00:29:12,419
created uh things sharing between

885
00:29:12,419 --> 00:29:14,340
accounts things becoming public

886
00:29:14,340 --> 00:29:16,860
it's really not much more than this list

887
00:29:16,860 --> 00:29:19,260
on this page it's not overly complicated

888
00:29:19,260 --> 00:29:21,360
and I kind of talked about all that

889
00:29:21,360 --> 00:29:23,039
already on the previous slide

890
00:29:23,039 --> 00:29:25,080
I also really am a fan of canaries uh

891
00:29:25,080 --> 00:29:26,520
thinks Canary does a really good job

892
00:29:26,520 --> 00:29:29,159
with AWS stuff because if exposed

893
00:29:29,159 --> 00:29:32,039
credentials are the number one source of

894
00:29:32,039 --> 00:29:34,140
cloud breaches why not just expose a

895
00:29:34,140 --> 00:29:35,159
whole bunch of credentials that don't

896
00:29:35,159 --> 00:29:36,840
matter and instrument off of those and

897
00:29:36,840 --> 00:29:38,520
if I know where I seeded them in my

898
00:29:38,520 --> 00:29:40,320
environment then that can direct me to

899
00:29:40,320 --> 00:29:41,580
the compromised environment because

900
00:29:41,580 --> 00:29:42,960
regular employees shouldn't be used

901
00:29:42,960 --> 00:29:44,520
trying to use those if a regular

902
00:29:44,520 --> 00:29:46,740
employee does try and use those then you

903
00:29:46,740 --> 00:29:49,320
terminate your employee that means fire

904
00:29:49,320 --> 00:29:51,779
not like German

905
00:29:51,779 --> 00:29:54,539
okay uh the link on the bottom is from

906
00:29:54,539 --> 00:29:56,399
uh the guy actually do the cloud uh the

907
00:29:56,399 --> 00:29:57,659
instant response training class with

908
00:29:57,659 --> 00:29:59,820
Will Bankston he ran a bunch of uh Cloud

909
00:29:59,820 --> 00:30:01,679
security at Netflix he runs it over at

910
00:30:01,679 --> 00:30:03,600
hasher Corp now run I think he's the

911
00:30:03,600 --> 00:30:04,919
number two guy for security at hasher

912
00:30:04,919 --> 00:30:07,260
Corp uh he has a really cool automation

913
00:30:07,260 --> 00:30:10,200
technique uh for handling that

914
00:30:10,200 --> 00:30:12,059
as I mentioned you want to have Labs you

915
00:30:12,059 --> 00:30:13,559
want to be able to simulate these push

916
00:30:13,559 --> 00:30:15,419
these into different environments and

917
00:30:15,419 --> 00:30:17,460
you can use your CI CD pipelines for

918
00:30:17,460 --> 00:30:18,559
that

919
00:30:18,559 --> 00:30:21,960
the last part of this is uh and I'm

920
00:30:21,960 --> 00:30:24,059
gonna begin three hours and 30 minutes

921
00:30:24,059 --> 00:30:26,520
and I'm now at 31 minutes I believe uh

922
00:30:26,520 --> 00:30:28,919
so I got to finish up uh

923
00:30:28,919 --> 00:30:31,500
distributed response

924
00:30:31,500 --> 00:30:33,000
you have an attack

925
00:30:33,000 --> 00:30:35,460
you detect it you're going to enrich

926
00:30:35,460 --> 00:30:36,720
that data through your automation

927
00:30:36,720 --> 00:30:38,100
platforms and eventually all of it's

928
00:30:38,100 --> 00:30:40,140
going to get routed to a sock analyst

929
00:30:40,140 --> 00:30:41,760
that analyst isn't going to have any

930
00:30:41,760 --> 00:30:43,140
 idea if that matters or not

931
00:30:43,140 --> 00:30:45,240
unless it's a really obvious alert like

932
00:30:45,240 --> 00:30:47,700
a change for something becoming public

933
00:30:47,700 --> 00:30:50,820
well I the this guy at slack Ryan Huber

934
00:30:50,820 --> 00:30:52,620
who's now off doing other things now he

935
00:30:52,620 --> 00:30:54,120
was the first person I knew to do this

936
00:30:54,120 --> 00:30:56,520
when he got these alerts he would just

937
00:30:56,520 --> 00:30:58,020
automatically slack him to the person

938
00:30:58,020 --> 00:30:59,760
associated with those credentials and

939
00:30:59,760 --> 00:31:01,500
said did you mean to do this

940
00:31:01,500 --> 00:31:04,740
out of band if they said yes the issue

941
00:31:04,740 --> 00:31:06,779
is closed

942
00:31:06,779 --> 00:31:08,039
um unless it was something that was a

943
00:31:08,039 --> 00:31:11,640
huge policy violation just that aspect

944
00:31:11,640 --> 00:31:13,080
of communicating with the people

945
00:31:13,080 --> 00:31:15,419
responsible for that environment will

946
00:31:15,419 --> 00:31:16,919
let us know if that's something that

947
00:31:16,919 --> 00:31:18,659
matters or not and we can do that in

948
00:31:18,659 --> 00:31:20,580
ways we never could before they're in

949
00:31:20,580 --> 00:31:22,980
chat Ops we're in chat Ops we're all

950
00:31:22,980 --> 00:31:24,960
using slacker teams or something else so

951
00:31:24,960 --> 00:31:28,080
send that message over and have them and

952
00:31:28,080 --> 00:31:31,260
you see it at the same time security and

953
00:31:31,260 --> 00:31:33,059
that team and you get instant

954
00:31:33,059 --> 00:31:34,679
collaboration you're not sending emails

955
00:31:34,679 --> 00:31:36,000
and spreadsheets or getting somebody's

956
00:31:36,000 --> 00:31:37,679
attention it drops into the same feed

957
00:31:37,679 --> 00:31:39,840
their team is using all day every day as

958
00:31:39,840 --> 00:31:41,640
it is and you can even tie in

959
00:31:41,640 --> 00:31:43,140
automations there's some tooling to do

960
00:31:43,140 --> 00:31:46,380
this this is not new or matte well it's

961
00:31:46,380 --> 00:31:48,299
new but it's not magic like AWS has

962
00:31:48,299 --> 00:31:50,340
their chat Bots stuff and there's a

963
00:31:50,340 --> 00:31:51,659
bunch of vendors and stuff coming out

964
00:31:51,659 --> 00:31:53,640
that have this already are coming out

965
00:31:53,640 --> 00:31:55,380
with these kinds of things that

966
00:31:55,380 --> 00:31:57,419
integration that collaboration breaking

967
00:31:57,419 --> 00:31:59,940
down the silos can really help us as

968
00:31:59,940 --> 00:32:01,559
instant responders to figure out what's

969
00:32:01,559 --> 00:32:02,820
going on

970
00:32:02,820 --> 00:32:04,380
I don't really have time to go through

971
00:32:04,380 --> 00:32:06,240
the threat hunting stuff just some pain

972
00:32:06,240 --> 00:32:07,620
points these are some of the technical

973
00:32:07,620 --> 00:32:09,480
things the fact that the cloud providers

974
00:32:09,480 --> 00:32:11,039
can often be bad like if I want to do a

975
00:32:11,039 --> 00:32:12,779
search on a resource I have to look in

976
00:32:12,779 --> 00:32:14,520
three different places in cloudtrail

977
00:32:14,520 --> 00:32:16,860
logs because and the one named resource

978
00:32:16,860 --> 00:32:18,419
is probably the wrong one because it's

979
00:32:18,419 --> 00:32:20,279
almost never populated you have to look

980
00:32:20,279 --> 00:32:22,500
at the API request and the API response

981
00:32:22,500 --> 00:32:23,880
and then azure's got a completely

982
00:32:23,880 --> 00:32:25,799
different structure for their doing it

983
00:32:25,799 --> 00:32:27,240
but what's going to help me with all of

984
00:32:27,240 --> 00:32:29,640
this going back to what I've tied about

985
00:32:29,640 --> 00:32:31,860
talked about using the tooling

986
00:32:31,860 --> 00:32:34,020
collecting it automatically enriching it

987
00:32:34,020 --> 00:32:35,880
imagine seeing the information about a

988
00:32:35,880 --> 00:32:38,100
resource when you get the alert tied to

989
00:32:38,100 --> 00:32:39,539
that resource these are all just API

990
00:32:39,539 --> 00:32:42,059
calls away I've seen products do this

991
00:32:42,059 --> 00:32:44,159
I've seen people code it themselves this

992
00:32:44,159 --> 00:32:46,380
is the future for working inside of

993
00:32:46,380 --> 00:32:47,520
these environments so we have all this

994
00:32:47,520 --> 00:32:49,080
metadata that we can access just throw

995
00:32:49,080 --> 00:32:50,520
it in front of me don't make me go out

996
00:32:50,520 --> 00:32:51,960
and look for it I don't have to go do

997
00:32:51,960 --> 00:32:53,940
you know forensics the same way I used

998
00:32:53,940 --> 00:32:55,320
to do forensics at least for the cloud

999
00:32:55,320 --> 00:32:57,480
management plane stuff which is what

1000
00:32:57,480 --> 00:33:00,120
this is heavily focused on

1001
00:33:00,120 --> 00:33:02,340
uh and then have your run books

1002
00:33:02,340 --> 00:33:03,840
automated have the queries built have

1003
00:33:03,840 --> 00:33:05,640
the code built to automatically do all

1004
00:33:05,640 --> 00:33:07,980
the scans and everything else uh and

1005
00:33:07,980 --> 00:33:09,659
this is you know really common will the

1006
00:33:09,659 --> 00:33:11,700
guy that works over at hashicorp anytime

1007
00:33:11,700 --> 00:33:12,899
they have a new instance somebody has to

1008
00:33:12,899 --> 00:33:13,919
write a run book and they have to

1009
00:33:13,919 --> 00:33:15,059
pre-build the queries for the next

1010
00:33:15,059 --> 00:33:16,799
analyst sock analyst that's going to go

1011
00:33:16,799 --> 00:33:18,899
through and manage that

1012
00:33:18,899 --> 00:33:20,519
so if I look at the overall maturity of

1013
00:33:20,519 --> 00:33:22,200
the process the more I can become

1014
00:33:22,200 --> 00:33:24,120
automated the more I can become policy

1015
00:33:24,120 --> 00:33:25,380
based and the more I can take advantage

1016
00:33:25,380 --> 00:33:28,140
of this collaboration of CI CD pipelines

1017
00:33:28,140 --> 00:33:30,659
of writing things more as code pushing

1018
00:33:30,659 --> 00:33:32,940
them out and having the consistency and

1019
00:33:32,940 --> 00:33:35,580
process the better my life is going to

1020
00:33:35,580 --> 00:33:37,919
be when doing IR in these kind of newer

1021
00:33:37,919 --> 00:33:40,140
and more distributed decentralized and

1022
00:33:40,140 --> 00:33:41,399
to be honest these are alien

1023
00:33:41,399 --> 00:33:43,440
Technologies for many of us it was an

1024
00:33:43,440 --> 00:33:44,820
alien technology for me for the first

1025
00:33:44,820 --> 00:33:46,559
three of the 12 years I've spent working

1026
00:33:46,559 --> 00:33:47,640
with it

1027
00:33:47,640 --> 00:33:51,080
that's it thank you for your time

