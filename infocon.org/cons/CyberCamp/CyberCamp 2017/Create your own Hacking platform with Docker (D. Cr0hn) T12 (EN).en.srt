1
00:00:17,910 --> 00:00:29,460
fine yes I I know that I'm being

2
00:00:24,880 --> 00:00:36,370
recorded and we are out on on streaming

3
00:00:29,460 --> 00:00:38,829
so what is this all about well in my

4
00:00:36,370 --> 00:00:41,828
daily life in my daily work with my

5
00:00:38,829 --> 00:00:43,720
colleagues it's a long time since I

6
00:00:41,829 --> 00:00:47,530
started hacking and breaking things and

7
00:00:43,720 --> 00:00:49,479
for for strange things in life I'm on

8
00:00:47,530 --> 00:00:52,420
the other side I'm trying to stop the

9
00:00:49,479 --> 00:00:55,500
people who are breaking it up so it's a

10
00:00:52,420 --> 00:00:58,600
changing paradigm for me so I realized

11
00:00:55,500 --> 00:01:01,960
the things that I learned for those

12
00:00:58,600 --> 00:01:04,330
years and that were so complex when you

13
00:01:01,960 --> 00:01:05,740
understand the four basic concepts

14
00:01:04,330 --> 00:01:11,080
that's not that easy

15
00:01:05,740 --> 00:01:13,560
it's not that easy what is basic things

16
00:01:11,080 --> 00:01:17,289
what do I mean by saying basic fingers

17
00:01:13,560 --> 00:01:21,790
deploy servers in a rapid automated way

18
00:01:17,289 --> 00:01:23,649
to create clusters in cloak which is not

19
00:01:21,790 --> 00:01:26,409
that fashionable we compare when

20
00:01:23,649 --> 00:01:35,469
compared with machine learning and to do

21
00:01:26,409 --> 00:01:38,590
it easily and cheaply two years ago I

22
00:01:35,469 --> 00:01:42,130
started to learn that I asked you about

23
00:01:38,590 --> 00:01:47,110
runchy because we're going to use it

24
00:01:42,130 --> 00:01:51,729
today okay I'll give you the mental

25
00:01:47,110 --> 00:01:54,430
roadmap my notes is a txt I'm going to

26
00:01:51,729 --> 00:01:57,908
explain it up step by step from zero how

27
00:01:54,430 --> 00:02:00,969
to mount a pass we open source software

28
00:01:57,909 --> 00:02:04,060
for free except for the machines for

29
00:02:00,969 --> 00:02:05,649
obvious reasons and step by step but

30
00:02:04,060 --> 00:02:06,640
we're going to deploy a series of

31
00:02:05,649 --> 00:02:12,090
certain of things we're going to

32
00:02:06,640 --> 00:02:15,730
escalate them and I'm going to start

33
00:02:12,090 --> 00:02:19,450
with a very easy exercise or any

34
00:02:15,730 --> 00:02:24,940
exercise you can do play open Bisceglie

35
00:02:19,450 --> 00:02:28,959
or anything and it is multi environment

36
00:02:24,940 --> 00:02:31,500
I say I said I used to say a lot of rude

37
00:02:28,959 --> 00:02:34,920
words so my apologies

38
00:02:31,500 --> 00:02:37,050
but what you said hacking in your title

39
00:02:34,920 --> 00:02:40,829
well yes between inverted commas white

40
00:02:37,050 --> 00:02:43,830
hacking what is how many people here

41
00:02:40,830 --> 00:02:45,650
work in hacking pentesting have you

42
00:02:43,830 --> 00:02:49,140
worked in hacking pentesting yes

43
00:02:45,650 --> 00:02:54,090
developers programmers raise your hands

44
00:02:49,140 --> 00:02:58,970
please when you do the pen testing and

45
00:02:54,090 --> 00:03:02,850
hacking pool you have to make a note it

46
00:02:58,970 --> 00:03:06,050
normally you have two options either you

47
00:03:02,850 --> 00:03:08,730
do it in your PC or you have a server

48
00:03:06,050 --> 00:03:11,280
you share with colleagues normally it's

49
00:03:08,730 --> 00:03:12,660
a big machine under the table and

50
00:03:11,280 --> 00:03:14,910
everything is connected there and you

51
00:03:12,660 --> 00:03:19,620
share things or the third option is that

52
00:03:14,910 --> 00:03:23,900
you have this in a Russian server weird

53
00:03:19,620 --> 00:03:26,239
Russian server and you have to pay but

54
00:03:23,900 --> 00:03:30,660
suppliers don't like that

55
00:03:26,239 --> 00:03:32,880
the basic story there is that if you're

56
00:03:30,660 --> 00:03:35,750
a lot of people for me it's more than

57
00:03:32,880 --> 00:03:39,900
three you have to share machines

58
00:03:35,750 --> 00:03:42,870
resources and software the open bars

59
00:03:39,900 --> 00:03:45,720
Nexus and the machines if you have a

60
00:03:42,870 --> 00:03:48,560
Kali you want to use it in a remote

61
00:03:45,720 --> 00:03:50,850
server with a good internet connection

62
00:03:48,560 --> 00:03:55,590
with for scanning it's a try you have to

63
00:03:50,850 --> 00:03:58,680
share that with your colleagues so these

64
00:03:55,590 --> 00:03:59,160
are bad implications you have to do

65
00:03:58,680 --> 00:04:08,640
better

66
00:03:59,160 --> 00:04:10,620
administration if I had to make it an

67
00:04:08,640 --> 00:04:13,440
audit I would like to have a cluster or

68
00:04:10,620 --> 00:04:15,060
a site or a place with a click and I

69
00:04:13,440 --> 00:04:18,660
would like to have a whole environment

70
00:04:15,060 --> 00:04:22,620
for me I can do my scannings my panels

71
00:04:18,660 --> 00:04:27,720
I made a spray and when I finish I can

72
00:04:22,620 --> 00:04:32,160
clean it up and I can rebuild it easily

73
00:04:27,720 --> 00:04:34,350
for if there's any need so we have a

74
00:04:32,160 --> 00:04:39,500
small site that we don't interfere with

75
00:04:34,350 --> 00:04:43,050
our colleagues this is good for security

76
00:04:39,500 --> 00:04:44,050
but if you do WordPress it's good to

77
00:04:43,050 --> 00:04:47,050
have this

78
00:04:44,050 --> 00:04:52,270
for you though I'm going to talk about

79
00:04:47,050 --> 00:04:54,610
hacking but nobody does this and once

80
00:04:52,270 --> 00:04:58,090
you do it it's very comfortable to have

81
00:04:54,610 --> 00:05:03,879
this place for you so this is my spam

82
00:04:58,090 --> 00:05:06,060
this is my good photo so it's a bit

83
00:05:03,879 --> 00:05:09,759
blurry so that you can't really see me

84
00:05:06,060 --> 00:05:15,930
my Twitter account and many other things

85
00:05:09,759 --> 00:05:18,900
that you could in my name is is Kron

86
00:05:15,930 --> 00:05:24,039
let's toss

87
00:05:18,900 --> 00:05:26,469
hobby it's okay but otherwise I don't

88
00:05:24,039 --> 00:05:33,180
need to move a lot because I'm a miracle

89
00:05:26,469 --> 00:05:38,740
I mean what is a pee a s it's a basic

90
00:05:33,180 --> 00:05:44,039
from left to right you can see this

91
00:05:38,740 --> 00:05:53,110
photo many places we have our hardware

92
00:05:44,039 --> 00:05:55,539
we have our PCs you manage you do

93
00:05:53,110 --> 00:05:59,909
everything internet connection there

94
00:05:55,539 --> 00:06:03,370
with tricity users middleware runtime

95
00:05:59,909 --> 00:06:09,300
everything you do it all that's when you

96
00:06:03,370 --> 00:06:14,669
might you managed then for the server

97
00:06:09,300 --> 00:06:17,919
the eager well you didn't delegate it

98
00:06:14,669 --> 00:06:21,008
that's on the second column platform as

99
00:06:17,919 --> 00:06:22,990
a service virtualization and operating

100
00:06:21,009 --> 00:06:25,779
systems are managed by someone someone

101
00:06:22,990 --> 00:06:29,229
else and we only do our applications

102
00:06:25,779 --> 00:06:32,590
aren't data it's our software and what

103
00:06:29,229 --> 00:06:36,128
is software as a service team a that's

104
00:06:32,590 --> 00:06:38,888
jemaine's software as a service so

105
00:06:36,129 --> 00:06:41,319
something I will delegate and we just

106
00:06:38,889 --> 00:06:43,360
hired that it's very simple that's the

107
00:06:41,319 --> 00:06:47,069
level of responsibility here so we're

108
00:06:43,360 --> 00:06:54,180
going to mount a paas called pass

109
00:06:47,069 --> 00:06:56,260
because I want this to be easy

110
00:06:54,180 --> 00:06:59,050
user-friendly

111
00:06:56,260 --> 00:07:01,030
not difficult to maintain we're doing

112
00:06:59,050 --> 00:07:03,760
piston ting been testing and hacking I

113
00:07:01,030 --> 00:07:05,919
just want to have a nexus or a Kali

114
00:07:03,760 --> 00:07:07,990
what's underneath I just don't care I

115
00:07:05,920 --> 00:07:11,020
want you to manage just the basic

116
00:07:07,990 --> 00:07:15,540
elements I need not the rest so you know

117
00:07:11,020 --> 00:07:15,539
what what docker is a brief definition

118
00:07:16,440 --> 00:07:30,610
these are snapshot from it's the website

119
00:07:24,730 --> 00:07:37,270
is standardized way of packaging your

120
00:07:30,610 --> 00:07:39,520
software what does it mean really docker

121
00:07:37,270 --> 00:07:43,870
is not a virtual machine it's not a

122
00:07:39,520 --> 00:07:47,400
virtual machine it's not a virtual

123
00:07:43,870 --> 00:07:50,590
machine when in Windows it virtualizes

124
00:07:47,400 --> 00:07:55,179
yes but it's not a virtual machine we

125
00:07:50,590 --> 00:07:57,609
take Apache you tanka and Matt and

126
00:07:55,180 --> 00:08:01,320
instead of to run it in the operating

127
00:07:57,610 --> 00:08:04,420
system you put it in a chroot like a

128
00:08:01,320 --> 00:08:05,950
package and what are the events just all

129
00:08:04,420 --> 00:08:07,780
the dependencies that you would install

130
00:08:05,950 --> 00:08:10,539
in your operating system your install it

131
00:08:07,780 --> 00:08:14,260
in your docker so you you're not going

132
00:08:10,540 --> 00:08:18,730
to fill your operating system with

133
00:08:14,260 --> 00:08:23,860
or with spam this is for you and this is

134
00:08:18,730 --> 00:08:34,479
free and it's clean it could be a chroot

135
00:08:23,860 --> 00:08:38,729
ok next step you know what is a docker

136
00:08:34,479 --> 00:08:42,790
Orchestrator you can raise your hands Oh

137
00:08:38,729 --> 00:08:44,770
couple people yeah I think you are going

138
00:08:42,789 --> 00:08:49,240
to raise your hand too much you're going

139
00:08:44,770 --> 00:08:54,280
to get bored an Orchestrator in docker

140
00:08:49,240 --> 00:08:59,340
means that it manages containers does it

141
00:08:54,280 --> 00:09:02,800
do is the following we can manage our

142
00:08:59,340 --> 00:09:04,699
applications as chroot they are

143
00:09:02,800 --> 00:09:08,008
encapsulated

144
00:09:04,699 --> 00:09:12,089
what we gain is that it's easy to make

145
00:09:08,009 --> 00:09:15,120
small portions small bits and pieces and

146
00:09:12,089 --> 00:09:17,279
everything runs independently with the

147
00:09:15,120 --> 00:09:21,019
more bits you have the more chunks you

148
00:09:17,279 --> 00:09:21,019
have you have to manage more elements

149
00:09:21,079 --> 00:09:28,410
it's like at the beginning of the

150
00:09:23,339 --> 00:09:30,120
internet we we had too many domains and

151
00:09:28,410 --> 00:09:31,379
you can't remember everything you have

152
00:09:30,120 --> 00:09:35,279
lots of containers and lots of pictures

153
00:09:31,379 --> 00:09:37,740
you have you need someone to say to you

154
00:09:35,279 --> 00:09:40,350
this is shot off yeah I have to reset it

155
00:09:37,740 --> 00:09:42,449
I have to restart again I'm getting this

156
00:09:40,350 --> 00:09:45,449
container and put it there so but

157
00:09:42,449 --> 00:09:52,469
somebody has to manage these containers

158
00:09:45,449 --> 00:09:57,258
that's the orchestrator today these are

159
00:09:52,470 --> 00:10:01,500
the most important or orchestrators

160
00:09:57,259 --> 00:10:05,819
kubernetes by google it's a benchmark

161
00:10:01,500 --> 00:10:07,800
now in the world of docker it's easy to

162
00:10:05,819 --> 00:10:10,050
use it's very comfortable and there's

163
00:10:07,800 --> 00:10:11,790
somebody else who's paying because it's

164
00:10:10,050 --> 00:10:16,139
Google paying for that for that behind

165
00:10:11,790 --> 00:10:18,389
swarm it could belongs to docker project

166
00:10:16,139 --> 00:10:20,730
it's an open project and it's got its

167
00:10:18,389 --> 00:10:28,410
own Orchestrator and on the right you've

168
00:10:20,730 --> 00:10:31,350
got cattle rancher is an American

169
00:10:28,410 --> 00:10:34,199
startup they started to do this control

170
00:10:31,350 --> 00:10:37,199
program so that this is easy to manage

171
00:10:34,199 --> 00:10:39,719
and for any reason I don't know they

172
00:10:37,199 --> 00:10:44,189
created their own their own Orchestrator

173
00:10:39,720 --> 00:10:46,550
called cattle it's small very small if

174
00:10:44,189 --> 00:10:51,149
compared with the other it's kind of a a

175
00:10:46,550 --> 00:10:53,250
toy that can manage 300 machines so it's

176
00:10:51,149 --> 00:10:59,360
very small it's in Java

177
00:10:53,250 --> 00:11:03,089
I hate Java so for me it's a problem

178
00:10:59,360 --> 00:11:06,930
well regardless of Java it has more

179
00:11:03,089 --> 00:11:09,389
memory requirements what these are

180
00:11:06,930 --> 00:11:13,430
orchestrators we're going to use Rancher

181
00:11:09,389 --> 00:11:16,780
by default why because it's a toy but

182
00:11:13,430 --> 00:11:19,120
it's so easy to set up

183
00:11:16,780 --> 00:11:22,569
configuration is so easy you don't need

184
00:11:19,120 --> 00:11:25,990
to do anything I don't have a clustering

185
00:11:22,570 --> 00:11:27,790
at home with 300 machines if I had 300

186
00:11:25,990 --> 00:11:30,130
machine means I have a lot of customers

187
00:11:27,790 --> 00:11:35,849
and I wouldn't be here I would be

188
00:11:30,130 --> 00:11:35,850
drinking beer so the concept is clear I

189
00:11:36,600 --> 00:11:45,160
have no more slides this picture is a

190
00:11:43,330 --> 00:11:50,130
bit silly but it reflects what an

191
00:11:45,160 --> 00:11:52,719
Orchestrator does they are there you see

192
00:11:50,130 --> 00:11:55,930
subgroups with different colors it's a

193
00:11:52,720 --> 00:11:58,270
logical grouping of boxes that's docker

194
00:11:55,930 --> 00:12:00,069
when an Orchestrator is doing this group

195
00:11:58,270 --> 00:12:02,439
these boxes in a logic way and it

196
00:12:00,070 --> 00:12:06,270
manages as a whole you don't care about

197
00:12:02,440 --> 00:12:10,600
that it does it for you

198
00:12:06,270 --> 00:12:15,490
the blue part can be a service WordPress

199
00:12:10,600 --> 00:12:18,400
with SQL for the cachet these are three

200
00:12:15,490 --> 00:12:20,140
containers logically there's only one

201
00:12:18,400 --> 00:12:27,550
application where each one is in one

202
00:12:20,140 --> 00:12:31,420
machine is like an oval and I think it

203
00:12:27,550 --> 00:12:36,449
reflects the concept this is the shelf

204
00:12:31,420 --> 00:12:36,449
life and the slides

205
00:12:37,589 --> 00:12:42,420
what is docker what is Orchestrator

206
00:12:46,530 --> 00:12:55,780
there are seven of those I have no

207
00:12:53,980 --> 00:12:57,790
videos to show you nothing is cream

208
00:12:55,780 --> 00:13:03,670
mounted I'm going to mount it here with

209
00:12:57,790 --> 00:13:13,510
you from scratch okay I'm so happy that

210
00:13:03,670 --> 00:13:19,120
you meet you know what I mean sighs too

211
00:13:13,510 --> 00:13:23,069
many compliments I'm not lying

212
00:13:19,120 --> 00:13:25,540
so I'm going to log in with my account I

213
00:13:23,070 --> 00:13:29,860
think about it I'm using the Wi-Fi

214
00:13:25,540 --> 00:13:36,520
please it has to work the login

215
00:13:29,860 --> 00:13:38,740
in digital ocean with my colleagues in

216
00:13:36,520 --> 00:13:41,130
Madrid we are dealing with this together

217
00:13:38,740 --> 00:13:44,950
and we're going to mount a pass to offer

218
00:13:41,130 --> 00:13:46,380
free service to the world dependence

219
00:13:44,950 --> 00:13:50,110
analysis software and everything will be

220
00:13:46,380 --> 00:13:56,380
put here two-factor authentication

221
00:13:50,110 --> 00:13:58,470
double factor I was talking about

222
00:13:56,380 --> 00:14:09,150
patience it's gonna be like this like

223
00:13:58,470 --> 00:14:09,150
waiting for the things to happen my face

224
00:14:11,670 --> 00:14:18,930
is this a joke I forgot the password

225
00:14:22,200 --> 00:14:31,420
I've got too many accounts I don't want

226
00:14:29,410 --> 00:14:42,189
to say rude words that's why I'm just

227
00:14:31,420 --> 00:14:47,530
saying droplet I'm going to

228
00:14:42,190 --> 00:14:52,870
explain what run cherries I'm going to

229
00:14:47,530 --> 00:14:56,380
thank once again my colleague cool and

230
00:14:52,870 --> 00:14:59,590
works in venture and this morning I

231
00:14:56,380 --> 00:15:03,750
called him because I wasn't I I couldn't

232
00:14:59,590 --> 00:15:06,160
do something it was a sat at 12 a

233
00:15:03,750 --> 00:15:15,070
Saturday and he's a saint and he helped

234
00:15:06,160 --> 00:15:17,520
me Rancher you can mount pass you it's

235
00:15:15,070 --> 00:15:20,710
open source

236
00:15:17,520 --> 00:15:23,199
they're quite cute they started like a

237
00:15:20,710 --> 00:15:30,370
test and now they're competing with

238
00:15:23,200 --> 00:15:31,990
other brands been chief and others what

239
00:15:30,370 --> 00:15:38,460
do they get the money consultancy

240
00:15:31,990 --> 00:15:50,520
consultancy what are we going to do now

241
00:15:38,460 --> 00:15:53,940
the code is in github first rancher has

242
00:15:50,520 --> 00:15:55,589
various parts the server it's the we

243
00:15:53,940 --> 00:15:58,470
that we're going to see it when we

244
00:15:55,589 --> 00:16:02,580
deploy it and then that helps which

245
00:15:58,470 --> 00:16:05,120
executes the actions I I'm going to

246
00:16:02,580 --> 00:16:08,880
deploy the machines in digital ocean

247
00:16:05,120 --> 00:16:14,010
let's create a droplet you know how to

248
00:16:08,880 --> 00:16:16,320
use digital ocean it's for dummies so

249
00:16:14,010 --> 00:16:18,300
digital ocean instead of installing the

250
00:16:16,320 --> 00:16:19,980
machine and installing the docker let's

251
00:16:18,300 --> 00:16:27,270
take the docker application that's

252
00:16:19,980 --> 00:16:33,930
already there 10 euros I'm paying for

253
00:16:27,270 --> 00:16:38,010
that let's mount it on the same CPD I'll

254
00:16:33,930 --> 00:16:43,859
explain why we don't want this but we

255
00:16:38,010 --> 00:16:49,550
want a private eye peas label Mac really

256
00:16:43,860 --> 00:16:53,040
call it 1 2 server so it's being created

257
00:16:49,550 --> 00:16:55,920
I'm going to talk about the path the Box

258
00:16:53,040 --> 00:16:58,140
so Rancher with the interview graphic

259
00:16:55,920 --> 00:17:03,930
interface and the server pot which

260
00:16:58,140 --> 00:17:07,379
coordinates all the house the rancher

261
00:17:03,930 --> 00:17:09,928
server yourself shouldn't be a part of

262
00:17:07,380 --> 00:17:12,569
what is executed in the software because

263
00:17:09,929 --> 00:17:15,420
it's managing the rest if the software

264
00:17:12,569 --> 00:17:18,359
manager has to do more things at the

265
00:17:15,420 --> 00:17:27,290
same time the result is bad so I chose a

266
00:17:18,359 --> 00:17:30,059
machine of at one Giger Wireless because

267
00:17:27,290 --> 00:17:32,670
this is in Java for the moment for the

268
00:17:30,059 --> 00:17:37,200
moment the java virtual machine what

269
00:17:32,670 --> 00:17:40,700
needs a minimum of one gigas ram memory

270
00:17:37,200 --> 00:17:42,720
so that's why one geiger is the minimum

271
00:17:40,700 --> 00:17:46,280
the machine is there we're going to

272
00:17:42,720 --> 00:17:46,280
connect with it

273
00:17:47,340 --> 00:18:02,490
I don't remember if it was a 1/2 perfect

274
00:17:58,460 --> 00:18:09,090
we're there as a route and how do we

275
00:18:02,490 --> 00:18:11,600
install rancher right it's not that

276
00:18:09,090 --> 00:18:13,649
difficult I it was going to be easy

277
00:18:11,600 --> 00:18:16,199
there were various ways of installing

278
00:18:13,650 --> 00:18:18,660
because rancher has a database with all

279
00:18:16,200 --> 00:18:22,430
the status you can put it in another

280
00:18:18,660 --> 00:18:22,430
server but everything is gonna be there

281
00:18:22,940 --> 00:18:32,250
otherwise it's going to be too long and

282
00:18:25,230 --> 00:18:38,510
I speak too much well I'll show you how

283
00:18:32,250 --> 00:18:42,570
to install Rancher the port is 80

284
00:18:38,510 --> 00:18:44,210
listening from the port 80 and let's

285
00:18:42,570 --> 00:18:47,760
wait yes

286
00:18:44,210 --> 00:18:51,480
adoring the code while it's mounted and

287
00:18:47,760 --> 00:18:53,550
the server is a bit easy because it

288
00:18:51,480 --> 00:18:58,740
starts a lot of processes and at the end

289
00:18:53,550 --> 00:19:02,600
let's do a control no user no ID no

290
00:18:58,740 --> 00:19:02,600
password I'll change the password

291
00:19:03,200 --> 00:19:09,150
because I don't want you to see mine

292
00:19:05,610 --> 00:19:12,899
well and we'll add execution hubs the

293
00:19:09,150 --> 00:19:18,560
notes and then I'll show you the part of

294
00:19:12,900 --> 00:19:23,060
the catalog the stack the users volumes

295
00:19:18,560 --> 00:19:30,389
the DNS distributed it's so easy for

296
00:19:23,060 --> 00:19:34,080
kids I'm gonna try to use the locals but

297
00:19:30,390 --> 00:19:40,260
in fact it's for G so I'm connected to

298
00:19:34,080 --> 00:19:45,379
the Wi-Fi and it's not that fast talker

299
00:19:40,260 --> 00:19:48,540
logs I'm very impatient

300
00:19:45,380 --> 00:19:51,210
look it's downloaded according to the

301
00:19:48,540 --> 00:19:55,290
operating system it's version northeast

302
00:19:51,210 --> 00:19:57,720
and at the end when it finishes IP port

303
00:19:55,290 --> 00:19:59,399
and then we'll get it I will get inside

304
00:19:57,720 --> 00:20:00,640
you can ask me questions by the

305
00:19:59,400 --> 00:20:04,780
microphone please

306
00:20:00,640 --> 00:20:14,680
you have any questions but not too many

307
00:20:04,780 --> 00:20:20,740
offenses one Geiger and it still it's

308
00:20:14,680 --> 00:20:23,050
slow in real production in another place

309
00:20:20,740 --> 00:20:31,740
I have 20 hubs and it's okay

310
00:20:23,050 --> 00:20:34,480
no problem but about the private IP why

311
00:20:31,740 --> 00:20:37,090
all the hubs need to connect with

312
00:20:34,480 --> 00:20:39,700
Rancher what Rancher does were took an

313
00:20:37,090 --> 00:20:42,550
ax munication generally within hopes its

314
00:20:39,700 --> 00:20:43,420
create an VPN between the hops it's

315
00:20:42,550 --> 00:20:46,419
encrypted

316
00:20:43,420 --> 00:20:49,120
it's okay what is the advantage we can

317
00:20:46,420 --> 00:20:50,890
have at least in theory because in the

318
00:20:49,120 --> 00:20:56,590
practice it's not real it's not in fact

319
00:20:50,890 --> 00:20:59,830
we could have a multi cloud pass digital

320
00:20:56,590 --> 00:21:02,679
ocean in one and an Rancher communicates

321
00:20:59,830 --> 00:21:05,100
to us through FB and VPN in for you it's

322
00:21:02,680 --> 00:21:05,100
the same

323
00:21:09,930 --> 00:21:30,450
I don't like seeing valid invalid

324
00:21:13,760 --> 00:21:33,780
connection refuse don't like that LP

325
00:21:30,450 --> 00:21:35,490
private I'll I'll if you put I'll public

326
00:21:33,780 --> 00:21:37,800
LP you can communicate it as a whole but

327
00:21:35,490 --> 00:21:39,900
for performance reasons if you

328
00:21:37,800 --> 00:21:42,570
communicate all the hops through the

329
00:21:39,900 --> 00:21:45,780
private network with the same CPD in the

330
00:21:42,570 --> 00:21:47,610
same service going to be faster you will

331
00:21:45,780 --> 00:21:49,760
gain insecurity for everything goes

332
00:21:47,610 --> 00:21:52,500
through the private network that's why I

333
00:21:49,760 --> 00:21:59,160
insisted on private network I'm going to

334
00:21:52,500 --> 00:22:02,300
mount an NF distributed NFC if we do the

335
00:21:59,160 --> 00:22:02,300
public IP it's slower

336
00:22:03,290 --> 00:22:09,840
I should see welcome to Rancho if

337
00:22:07,740 --> 00:22:16,770
everything is okay oh look at that

338
00:22:09,840 --> 00:22:21,600
welcome to Ranger well good rancher is

339
00:22:16,770 --> 00:22:26,400
installed ok let's do something else

340
00:22:21,600 --> 00:22:31,770
first like mobile notifications what

341
00:22:26,400 --> 00:22:34,320
does it want event occasion access

342
00:22:31,770 --> 00:22:35,879
control this is a type of

343
00:22:34,320 --> 00:22:39,389
authentications that you can choose

344
00:22:35,880 --> 00:22:41,930
Active Directory github if you want to

345
00:22:39,390 --> 00:22:46,710
authenticate with github it's important

346
00:22:41,930 --> 00:22:52,350
you can say what user in github I want

347
00:22:46,710 --> 00:22:59,580
to identify or authenticate or local you

348
00:22:52,350 --> 00:23:02,090
local user name Crone password I'm not

349
00:22:59,580 --> 00:23:02,090
going to say it

350
00:23:08,390 --> 00:23:11,740
I saw

351
00:23:12,660 --> 00:23:26,830
okay the authentication is done add your

352
00:23:23,650 --> 00:23:30,190
first host the host is the cluster hops

353
00:23:26,830 --> 00:23:32,470
in fact before adding this hops in the

354
00:23:30,190 --> 00:23:36,010
cluster I'm going to show how its

355
00:23:32,470 --> 00:23:39,460
distributed here first we have the

356
00:23:36,010 --> 00:23:45,879
environments what is an environment an

357
00:23:39,460 --> 00:23:49,150
environment is a logic unit where a lot

358
00:23:45,880 --> 00:23:53,140
of applications can be managed what is

359
00:23:49,150 --> 00:23:57,790
an application an application is a set

360
00:23:53,140 --> 00:23:59,800
of services a wordpress with SQL with

361
00:23:57,790 --> 00:24:02,500
all this is an application this is

362
00:23:59,800 --> 00:24:07,120
called stack here you can have a lot of

363
00:24:02,500 --> 00:24:10,120
stacks or a lot of sets and services and

364
00:24:07,120 --> 00:24:13,330
the father of the group is called an

365
00:24:10,120 --> 00:24:17,530
environment you can have different

366
00:24:13,330 --> 00:24:21,280
environments and you can manage the

367
00:24:17,530 --> 00:24:23,200
users per environment this has to will

368
00:24:21,280 --> 00:24:26,399
only access to this one or to this other

369
00:24:23,200 --> 00:24:31,450
by each environment has its own machines

370
00:24:26,400 --> 00:24:33,940
so it's quite flexible if you want to do

371
00:24:31,450 --> 00:24:36,490
different things you don't need to

372
00:24:33,940 --> 00:24:40,690
change this because this works okay with

373
00:24:36,490 --> 00:24:42,780
this and by default this is active here

374
00:24:40,690 --> 00:24:53,260
its own I was telling you about

375
00:24:42,780 --> 00:24:57,060
orchestrators by default the cattle

376
00:24:53,260 --> 00:24:57,060
Orchestrator is active you can change it

377
00:25:01,690 --> 00:25:07,789
it's open here in this tag you can play

378
00:25:05,929 --> 00:25:12,110
with that you can change cattle and

379
00:25:07,789 --> 00:25:15,679
Messrs awkward mentees mm-hmm missus is

380
00:25:12,110 --> 00:25:18,320
he here for historical reasons but you

381
00:25:15,679 --> 00:25:21,289
can change the the orchestrator what it

382
00:25:18,320 --> 00:25:23,809
is that is the grouping of services the

383
00:25:21,289 --> 00:25:26,779
set of services this is a system service

384
00:25:23,809 --> 00:25:31,059
we don't network services

385
00:25:26,779 --> 00:25:34,039
it's the scheduler why are they in red

386
00:25:31,059 --> 00:25:36,529
because Rancher is waiting to deploy

387
00:25:34,039 --> 00:25:38,029
them obviously they're not deployed

388
00:25:36,529 --> 00:25:40,330
because there's nobody there there's no

389
00:25:38,029 --> 00:25:43,010
machine way or way we can execute

390
00:25:40,330 --> 00:25:45,770
executive that it's in red when we add a

391
00:25:43,010 --> 00:25:47,379
machine all of them will be green and it

392
00:25:45,770 --> 00:25:49,960
will be just they will be distributed

393
00:25:47,380 --> 00:25:53,289
catalog what is it what's the catalog I

394
00:25:49,960 --> 00:25:56,899
love these double-click things that work

395
00:25:53,289 --> 00:26:01,840
Bancha has a lot of double-click thing

396
00:25:56,899 --> 00:26:04,899
is that work you have Apache zookeeper

397
00:26:01,840 --> 00:26:10,520
confluence you have a lot of those a

398
00:26:04,899 --> 00:26:13,820
word press ok you go to this WordPress

399
00:26:10,520 --> 00:26:15,649
template you double click and you've got

400
00:26:13,820 --> 00:26:17,000
this and map it's mounted it's

401
00:26:15,649 --> 00:26:20,539
distributed you want another one

402
00:26:17,000 --> 00:26:28,159
we'll pick one the template is there you

403
00:26:20,539 --> 00:26:34,309
have templates of almost everything now

404
00:26:28,159 --> 00:26:40,909
the hosts to add a host what is this

405
00:26:34,309 --> 00:26:48,649
asking us well before anything I'm going

406
00:26:40,909 --> 00:26:52,730
to do this change this is they'll be in

407
00:26:48,649 --> 00:26:55,639
Rancher APL the rancher APL we have to

408
00:26:52,730 --> 00:26:58,399
say to tell the knobs where the rancher

409
00:26:55,640 --> 00:27:02,539
is never an IP because it is the piper

410
00:26:58,399 --> 00:27:05,620
changes we're so what do we have

411
00:27:02,539 --> 00:27:09,549
three hops they will start running and

412
00:27:05,620 --> 00:27:13,659
let associate a domain name to this

413
00:27:09,549 --> 00:27:16,720
let's run and let's start three hops

414
00:27:13,660 --> 00:27:26,230
they will they will start to run these

415
00:27:16,720 --> 00:27:35,190
are cheaper the cheapest ones in

416
00:27:26,230 --> 00:27:35,190
Amsterdam with private IP how many three

417
00:27:35,850 --> 00:27:53,709
Rancho node so it's it's now creating

418
00:27:49,540 --> 00:28:00,190
the three will manage the DNS is to

419
00:27:53,710 --> 00:28:01,780
manage the DNS si use Club fed strange

420
00:28:00,190 --> 00:28:05,650
pronunciation and I will say why it's

421
00:28:01,780 --> 00:28:09,280
free it gives you free service because

422
00:28:05,650 --> 00:28:14,650
it's rate server great server it seems

423
00:28:09,280 --> 00:28:22,930
just instantaneous and SSL and without

424
00:28:14,650 --> 00:28:27,900
SSL SSL or without SSL it's an SSL that

425
00:28:22,930 --> 00:28:31,570
is not signed but almost all browsers

426
00:28:27,900 --> 00:28:35,050
it's not ticked sorry depends you have

427
00:28:31,570 --> 00:29:00,149
to put your certificate I'm going to

428
00:28:35,050 --> 00:29:00,149
allocate a domain IP we add the register

429
00:29:08,610 --> 00:29:20,620
it's not one two three four

430
00:29:12,280 --> 00:29:29,710
that's not my password where were we we

431
00:29:20,620 --> 00:29:30,699
were adding hosts look by default this

432
00:29:29,710 --> 00:29:36,100
is the result

433
00:29:30,700 --> 00:29:44,200
the first house with the IP it's bad you

434
00:29:36,100 --> 00:29:49,060
have to add this name by default this is

435
00:29:44,200 --> 00:29:53,130
a URL that that nodes are going to use

436
00:29:49,060 --> 00:30:03,340
to connect with each other following

437
00:29:53,130 --> 00:30:05,230
next I mean my digitalocean how many I

438
00:30:03,340 --> 00:30:09,850
do what they need in a number of tokens

439
00:30:05,230 --> 00:30:16,990
24 you have say to assure there's more

440
00:30:09,850 --> 00:30:19,240
drivers also you have a lot of sites so

441
00:30:16,990 --> 00:30:22,990
this machine by machine it's executing

442
00:30:19,240 --> 00:30:30,010
Rancher and you have a lot of

443
00:30:22,990 --> 00:30:32,230
possibilities I love this ok some other

444
00:30:30,010 --> 00:30:34,510
things the first thing the first time I

445
00:30:32,230 --> 00:30:41,380
saw Rancher I didn't know what this was

446
00:30:34,510 --> 00:30:45,310
here there it says a line X machine look

447
00:30:41,380 --> 00:30:48,340
at the security groups and look at the

448
00:30:45,310 --> 00:30:51,340
firewall add a label if you want to

449
00:30:48,340 --> 00:30:54,429
because the hosts can be labelled we

450
00:30:51,340 --> 00:30:58,060
don't have to label them now and then it

451
00:30:54,430 --> 00:31:02,140
says what is the IP of the host that

452
00:30:58,060 --> 00:31:04,629
you're going to register maybe we don't

453
00:31:02,140 --> 00:31:08,200
always read this and we make a common

454
00:31:04,630 --> 00:31:11,560
mistake myself include did because the

455
00:31:08,200 --> 00:31:12,850
IP that they're asking you for is that

456
00:31:11,560 --> 00:31:16,389
for the machine that you want to add not

457
00:31:12,850 --> 00:31:17,919
further Rancher it's the IP that Rancher

458
00:31:16,390 --> 00:31:19,600
uses to connect to the host it's

459
00:31:17,920 --> 00:31:21,010
completely opposite you could say oh the

460
00:31:19,600 --> 00:31:24,000
host isn't working because you haven't

461
00:31:21,010 --> 00:31:24,000
put the IP in

462
00:31:26,730 --> 00:31:35,380
so we start with no.3 put the IP of node

463
00:31:31,660 --> 00:31:39,070
3 up here you can see command at the

464
00:31:35,380 --> 00:31:43,120
bottom to that you have to run that

465
00:31:39,070 --> 00:31:46,179
machine I'm gonna open a session let's

466
00:31:43,120 --> 00:31:48,449
close this one because we don't need it

467
00:31:46,180 --> 00:31:48,450
anymore

468
00:31:55,480 --> 00:32:08,990
so we connect to the Machine now we're a

469
00:32:00,050 --> 00:32:12,379
route and to just copy and paste and now

470
00:32:08,990 --> 00:32:19,280
we're going to our rancher we said no to

471
00:32:12,380 --> 00:32:24,250
this one so we here that's just to show

472
00:32:19,280 --> 00:32:29,780
you how long the node takes to appear

473
00:32:24,250 --> 00:32:32,560
you can see it in real time we've

474
00:32:29,780 --> 00:32:32,560
launched it

475
00:32:43,639 --> 00:32:51,750
I'll see you remember things that were

476
00:32:49,230 --> 00:32:57,179
in red they're now running because

477
00:32:51,750 --> 00:32:58,889
they've got a place to run of course

478
00:32:57,179 --> 00:33:02,549
it's all done in mohos because they have

479
00:32:58,889 --> 00:33:04,320
no other room to do it so they'll start

480
00:33:02,549 --> 00:33:07,168
to go yellow and then they'll start to

481
00:33:04,320 --> 00:33:09,000
go green when they're in yelets because

482
00:33:07,169 --> 00:33:11,690
they're being builds are being created

483
00:33:09,000 --> 00:33:14,039
and then they'll gradually turned green

484
00:33:11,690 --> 00:33:16,850
so we've got a host let's now add

485
00:33:14,039 --> 00:33:16,850
another one

486
00:33:25,110 --> 00:33:30,658
we don't need anything from this host so

487
00:33:27,700 --> 00:33:30,659
we just exit

488
00:33:40,679 --> 00:33:48,179
so we've run this run all of this

489
00:34:09,539 --> 00:34:16,500
now you have to wait for the notes if

490
00:34:13,440 --> 00:34:19,829
you use the drivers and hear the notes

491
00:34:16,500 --> 00:34:23,280
you can see them popping up it's easy to

492
00:34:19,829 --> 00:34:24,119
use because if you say you want 25

493
00:34:23,280 --> 00:34:26,700
that's fine

494
00:34:24,119 --> 00:34:28,260
you get one after another when they've

495
00:34:26,699 --> 00:34:31,259
all popped up there you go

496
00:34:28,260 --> 00:34:46,719
we'll carry on so now I'm going to close

497
00:34:31,260 --> 00:34:48,169
the consoles okay if you realize rancher

498
00:34:46,719 --> 00:34:51,299
[Music]

499
00:34:48,168 --> 00:34:54,029
what it does is it goes from one side to

500
00:34:51,299 --> 00:34:55,230
the other and it distributes everything

501
00:34:54,030 --> 00:34:56,940
around all the machines that we've got

502
00:34:55,230 --> 00:35:02,099
if we had 50 it would distributed all

503
00:34:56,940 --> 00:35:04,170
around 50 it takes a while to start big

504
00:35:02,099 --> 00:35:11,760
that's normal because it's got to

505
00:35:04,170 --> 00:35:14,700
download the pictures etc etc look

506
00:35:11,760 --> 00:35:17,789
something's already active and then

507
00:35:14,700 --> 00:35:25,618
network drivers are act if the I piece

508
00:35:17,789 --> 00:35:29,039
set the health checks is a service that

509
00:35:25,619 --> 00:35:32,539
Roger offers which monitors each and

510
00:35:29,039 --> 00:35:36,599
every one of the containers to check

511
00:35:32,539 --> 00:35:39,510
whether it's it's crashed and we can say

512
00:35:36,599 --> 00:35:42,390
whether we want to restart it or not and

513
00:35:39,510 --> 00:35:50,609
as I said before the next thing that I'm

514
00:35:42,390 --> 00:35:55,759
going to do I need a word press now

515
00:35:50,609 --> 00:35:55,759
let's just get a word press here okay

516
00:35:57,059 --> 00:36:16,990
so we need let's just see if it's

517
00:36:10,990 --> 00:36:20,379
working now one way absurd of

518
00:36:16,990 --> 00:36:23,770
guaranteeing your or making the traffic

519
00:36:20,380 --> 00:36:33,099
to your control panel

520
00:36:23,770 --> 00:36:38,799
is using SSL come on the wireless is a

521
00:36:33,099 --> 00:36:43,000
little slow in the meantime we can add

522
00:36:38,799 --> 00:36:48,910
data these are a formula that you can

523
00:36:43,000 --> 00:36:51,160
parameterize you can put the parameters

524
00:36:48,910 --> 00:36:53,740
there that you want name what does that

525
00:36:51,160 --> 00:36:57,009
name mean it's the name that we're going

526
00:36:53,740 --> 00:37:01,089
to we're going to give one we list all

527
00:36:57,010 --> 00:37:05,410
the stacks my I'm going to call it my

528
00:37:01,089 --> 00:37:07,630
WordPress one and in environment 24 the

529
00:37:05,410 --> 00:37:10,890
rest are just default values and that's

530
00:37:07,630 --> 00:37:10,890
we're going to leave them as they are

531
00:37:13,380 --> 00:37:30,130
just taking time to start but luckily

532
00:37:26,040 --> 00:37:38,799
this is a network problem

533
00:37:30,130 --> 00:37:46,960
I should have had this in 4G well and

534
00:37:38,799 --> 00:37:51,099
okay no okay let's progress one of the

535
00:37:46,960 --> 00:37:53,740
obvious problems of organizing a web

536
00:37:51,099 --> 00:37:56,410
service is okay you can have four

537
00:37:53,740 --> 00:37:59,229
machines three or twenty-eight where do

538
00:37:56,410 --> 00:38:03,490
I write my DNS s I don't if you've

539
00:37:59,230 --> 00:38:09,059
realized that I've got 25 machines or 25

540
00:38:03,490 --> 00:38:12,578
VPS where do I write the DNS by default

541
00:38:09,059 --> 00:38:22,329
virtually all those templates that have

542
00:38:12,579 --> 00:38:24,250
Rancher have a balancer for a port which

543
00:38:22,329 --> 00:38:27,660
goes service to service so you need to

544
00:38:24,250 --> 00:38:31,420
know where the port is to write it down

545
00:38:27,660 --> 00:38:33,940
so if you want to start this the next

546
00:38:31,420 --> 00:38:35,980
thing you have to do after looking at

547
00:38:33,940 --> 00:38:39,009
the WordPress and after adding WordPress

548
00:38:35,980 --> 00:38:41,890
is to see how we can make this more

549
00:38:39,009 --> 00:38:46,150
dynamic how we can manage dynamic

550
00:38:41,890 --> 00:38:50,980
services and how dynamic we want to tag

551
00:38:46,150 --> 00:38:52,839
them if I put on a service attack I need

552
00:38:50,980 --> 00:38:54,789
to put a name and name in a domain and

553
00:38:52,839 --> 00:39:01,500
this way we can separate one thing from

554
00:38:54,789 --> 00:39:01,500
another well this network is Sisler

555
00:39:11,570 --> 00:39:18,700
se me hace la Merced okay he's my senior

556
00:39:15,070 --> 00:39:18,700
senior como becauseI

557
00:39:30,130 --> 00:39:36,519
a problem occupy the Posada equality Oh

558
00:39:33,220 --> 00:39:42,788
another problem that you can have is

559
00:39:36,519 --> 00:39:48,089
that when everything starts and in the

560
00:39:42,789 --> 00:39:52,349
meantime let's do something WordPress I

561
00:39:48,089 --> 00:40:01,000
don't know where I'm gonna deploy it

562
00:39:52,349 --> 00:40:02,950
this is so slow any questions in the

563
00:40:01,000 --> 00:40:19,890
meantime I can answer them because this

564
00:40:02,950 --> 00:40:24,549
is obviously taking a long time see

565
00:40:19,890 --> 00:40:27,368
question yeah this is what I said I was

566
00:40:24,549 --> 00:40:28,509
going to do and I should have done thank

567
00:40:27,369 --> 00:40:34,529
you for the question which we didn't

568
00:40:28,509 --> 00:40:34,529
hear you can communicate in the same way

569
00:40:35,190 --> 00:40:39,180
what this is probably what's happening

570
00:40:36,970 --> 00:40:43,529
to me and that's what's going so slowly

571
00:40:39,180 --> 00:40:43,529
let's copy it again and see what happens

572
00:40:48,960 --> 00:40:57,460
afterwards if you want to distribute it

573
00:40:51,880 --> 00:40:59,970
NFC by distributed public networks then

574
00:40:57,460 --> 00:40:59,970
things are different

575
00:41:02,400 --> 00:41:06,640
Melik what's the latest on mucho much el

576
00:41:04,839 --> 00:41:07,839
culo delle Vigne - what this is probably

577
00:41:06,640 --> 00:41:10,319
taking a lot longer than it normally

578
00:41:07,839 --> 00:41:10,319
would do

579
00:41:16,980 --> 00:41:20,980
mental model there's a paraffin Beckham

580
00:41:19,359 --> 00:41:27,098
and now the other I'm gonna change

581
00:41:20,980 --> 00:41:31,589
browser see if that helps waiting for a

582
00:41:27,099 --> 00:41:31,589
rancher that's the new title of my talk

583
00:41:50,880 --> 00:41:55,540
naomi thibodeaux gonzalez i'm just

584
00:41:53,710 --> 00:41:57,690
getting a bit nervous because it's not

585
00:41:55,540 --> 00:41:57,690
working

586
00:41:57,840 --> 00:42:04,660
Holly one yeah look at all the rubbish

587
00:42:01,120 --> 00:42:13,930
that's appearing incredible let's look

588
00:42:04,660 --> 00:42:23,890
at IP private private IP I'm gonna try

589
00:42:13,930 --> 00:42:25,960
and change it all and see if it works if

590
00:42:23,890 --> 00:42:27,460
you know a command just to kill

591
00:42:25,960 --> 00:42:30,630
everything just tell me because this is

592
00:42:27,460 --> 00:42:30,630
going so slow it's unreal

593
00:42:56,750 --> 00:42:59,750
Maddie

594
00:43:05,609 --> 00:43:11,470
pick another fight again the drama that

595
00:43:08,400 --> 00:43:14,380
you don't have to go into branches

596
00:43:11,470 --> 00:43:15,939
control panel again it's only going to

597
00:43:14,380 --> 00:43:18,270
ask me for an IP but we know the private

598
00:43:15,940 --> 00:43:18,270
IP

599
00:43:23,190 --> 00:43:51,480
and now we're connecting that's another

600
00:43:37,230 --> 00:43:53,240
trace see my auto color key getting a

601
00:43:51,480 --> 00:43:59,430
little tougher

602
00:43:53,240 --> 00:44:03,419
yeah April Emma yeah it's kind of Markus

603
00:43:59,430 --> 00:44:09,470
turned over so my wife's a goblet para

604
00:44:03,420 --> 00:44:20,270
que por necesito una cosa esta su SMF a

605
00:44:09,470 --> 00:44:20,270
fn8 our survey say see no

606
00:44:25,410 --> 00:44:32,450
another just a shower in the metallic

607
00:44:26,910 --> 00:44:36,029
went mad cause of the fiercest toes

608
00:44:32,450 --> 00:44:42,058
EPOC so physicals are there directo he

609
00:44:36,029 --> 00:44:57,180
mother berlando buddhist say Stano say

610
00:44:42,059 --> 00:45:05,720
thank whole team Yamazaki acapella

611
00:44:57,180 --> 00:45:05,720
commander Camilla todo todo if call face

612
00:45:15,590 --> 00:45:23,460
my alibi when I'm Archer okay

613
00:45:20,460 --> 00:45:27,260
ranches should now work let's see if it

614
00:45:23,460 --> 00:45:27,260
does see what happens

615
00:45:40,820 --> 00:45:49,340
Bravard yeah put poor probar coldly pay

616
00:45:43,500 --> 00:45:49,340
the ranch's dry with a IP around your IP

617
00:45:54,050 --> 00:46:00,720
Rancho Gallardo an academic in a

618
00:45:57,900 --> 00:46:03,620
no-contest Amira given enough

619
00:46:00,720 --> 00:46:03,620
information that I guess

620
00:46:19,520 --> 00:46:31,080
mr. niver me Polly Marley being

621
00:46:26,600 --> 00:46:34,190
infrastructure the name Allah knows okay

622
00:46:31,080 --> 00:46:34,190
let's look at the notes

623
00:46:50,540 --> 00:47:03,660
listen Bob behin Elizondo que los in

624
00:46:55,730 --> 00:47:06,589
Honduras a better than when i'm economic

625
00:47:03,660 --> 00:47:06,589
heroes

626
00:47:15,010 --> 00:47:29,590
laughing oh gentle you're just no way to

627
00:47:23,680 --> 00:47:31,540
live no see I guess I'll go the RFC no

628
00:47:29,590 --> 00:47:32,920
letters together oh I had to be

629
00:47:31,540 --> 00:47:34,509
something to do with their network

630
00:47:32,920 --> 00:47:38,400
otherwise it wouldn't have given at this

631
00:47:34,510 --> 00:47:41,950
this mistake okay we've done it at last

632
00:47:38,400 --> 00:47:48,190
don't applaud because it might suddenly

633
00:47:41,950 --> 00:47:58,180
crash normally this is more stable

634
00:47:48,190 --> 00:48:00,820
I swear to it if not very stable and

635
00:47:58,180 --> 00:48:04,629
it's distributing everything the stacks

636
00:48:00,820 --> 00:48:07,800
daksa P initializing let's see if we can

637
00:48:04,630 --> 00:48:07,800
deploy WordPress

638
00:48:14,200 --> 00:48:19,600
let's yes let's deploy WordPress again

639
00:48:31,160 --> 00:48:34,940
doesn't even give you time to think

640
00:48:49,080 --> 00:48:57,340
let's see if I can get into other videos

641
00:48:51,250 --> 00:48:59,110
I make a miracle most alum again on

642
00:48:57,340 --> 00:49:00,700
delete illusion no as I guessed a beta I

643
00:48:59,110 --> 00:49:02,110
see one

644
00:49:00,700 --> 00:49:03,640
let's have a look and see how the

645
00:49:02,110 --> 00:49:07,500
machine is just a checker it's not

646
00:49:03,640 --> 00:49:07,500
completely full shouldn't be

647
00:49:22,590 --> 00:49:25,850
so the CPUs that

648
00:49:59,210 --> 00:50:07,200
have you told about how did you see what

649
00:50:01,890 --> 00:50:13,440
happened this is something that's really

650
00:50:07,200 --> 00:50:18,140
gone wrong of course it won't work

651
00:50:13,440 --> 00:50:23,340
because Dockers chock-a-block you know

652
00:50:18,140 --> 00:50:32,040
what the command is to restart the

653
00:50:23,340 --> 00:50:33,120
service I can't remember so we're not

654
00:50:32,040 --> 00:50:39,750
about to do very much

655
00:50:33,120 --> 00:50:42,020
by the time docker dies okay starting up

656
00:50:39,750 --> 00:50:42,020
a game

657
00:50:49,960 --> 00:50:55,550
it actually is has given me all sorts of

658
00:50:53,840 --> 00:50:57,940
mistakes but I've never had docker die

659
00:50:55,550 --> 00:50:57,940
on me

660
00:51:06,069 --> 00:51:10,930
okay database starting up

661
00:51:18,619 --> 00:51:30,140
if it works and it works the next three

662
00:51:26,910 --> 00:51:34,040
minutes if not I'll start all over again

663
00:51:30,140 --> 00:51:34,040
because it's embarrassing

664
00:51:34,130 --> 00:51:38,960
especially when I've done this hundreds

665
00:51:36,060 --> 00:51:38,960
of thousands of times

666
00:51:50,269 --> 00:51:55,729
when all the services that are working

667
00:51:56,480 --> 00:52:05,519
ranches still will manage it but it

668
00:52:00,210 --> 00:52:07,109
doesn't matter if the master crashes so

669
00:52:05,519 --> 00:52:11,129
what is already up and running we'll

670
00:52:07,109 --> 00:52:13,109
carry on running they won't be

671
00:52:11,130 --> 00:52:22,230
connecting to his masters but the

672
00:52:13,109 --> 00:52:26,910
service won't go down let's go to the

673
00:52:22,230 --> 00:52:29,749
catalog again let's just hope docker

674
00:52:26,910 --> 00:52:29,749
doesn't crash now

675
00:52:38,030 --> 00:52:41,590
let's try and launch WordPress

676
00:52:49,630 --> 00:53:01,160
then it creates a stack and the stack

677
00:52:54,739 --> 00:53:03,940
has a unique name those are all the

678
00:53:01,160 --> 00:53:07,160
services that are already deployed and

679
00:53:03,940 --> 00:53:09,229
now we're building this new stack if you

680
00:53:07,160 --> 00:53:12,259
go inside it you can see the containers

681
00:53:09,229 --> 00:53:15,799
that it has all the services that make

682
00:53:12,259 --> 00:53:21,650
it up there you can see it WordPress the

683
00:53:15,799 --> 00:53:23,239
balance so that I said we'll start with

684
00:53:21,650 --> 00:53:33,589
the machine that it's supposed to start

685
00:53:23,239 --> 00:53:35,420
with by default and when you on all of

686
00:53:33,589 --> 00:53:37,519
you that know that if you play with

687
00:53:35,420 --> 00:53:39,559
Rancher you can make different

688
00:53:37,519 --> 00:53:42,828
dependencies between services and that's

689
00:53:39,559 --> 00:53:47,900
what's happening now it's got this

690
00:53:42,829 --> 00:53:52,999
dependency WordPress has a dependency so

691
00:53:47,900 --> 00:53:57,289
it's starting up in the order and in the

692
00:53:52,999 --> 00:54:05,598
meantime let's see where the container

693
00:53:57,289 --> 00:54:08,749
is with the web interface the bouncer is

694
00:54:05,599 --> 00:54:13,130
there in observer and the database and

695
00:54:08,749 --> 00:54:16,729
the patch is in a different it actually

696
00:54:13,130 --> 00:54:19,759
doesn't matter so what do we do to make

697
00:54:16,729 --> 00:54:20,960
progress we'll have to put the domain in

698
00:54:19,759 --> 00:54:23,079
this machine because we don't got the

699
00:54:20,960 --> 00:54:27,469
balancer

700
00:54:23,079 --> 00:54:30,440
everything's gone up but if you look you

701
00:54:27,469 --> 00:54:35,089
can see the icon here this little icon

702
00:54:30,440 --> 00:54:36,349
means it's an entry point and here that

703
00:54:35,089 --> 00:54:39,130
if we click on this will take us

704
00:54:36,349 --> 00:54:39,130
directly to the port

705
00:54:46,780 --> 00:54:55,380
does anybody know why this isn't working

706
00:54:50,140 --> 00:54:57,819
can anybody tell me anybody out there

707
00:54:55,380 --> 00:55:00,849
because we put the private IP that's

708
00:54:57,820 --> 00:55:03,970
great but well let's call it the

709
00:55:00,849 --> 00:55:07,349
equivalently I the public IP and I can't

710
00:55:03,970 --> 00:55:07,348
really what it was called a rancher two

711
00:55:08,880 --> 00:55:30,190
droplets Bramlett droplets when I've

712
00:55:19,660 --> 00:55:38,460
just started the WordPress Jaime

713
00:55:30,190 --> 00:55:38,460
Lannister personalized Activa

714
00:55:46,720 --> 00:55:49,720
shabanam

715
00:56:07,220 --> 00:56:14,680
mmm bloody better tambien boy stars VIPs

716
00:56:11,630 --> 00:56:14,680
are all in the right place

717
00:56:18,619 --> 00:56:31,860
for some reason a data-based starts and

718
00:56:21,869 --> 00:56:38,550
then dies let's add a stack manually who

719
00:56:31,860 --> 00:56:40,950
cares how can we do this manually sand

720
00:56:38,550 --> 00:56:45,510
and just make sure that it's not lying

721
00:56:40,950 --> 00:56:47,609
to us let's go to the different nets I

722
00:56:45,510 --> 00:56:54,030
hate to say this works at home but it's

723
00:56:47,610 --> 00:57:01,800
true okay let's have an a.1 - lets add

724
00:56:54,030 --> 00:57:12,840
on a bunt oh well let's launch a net

725
00:57:01,800 --> 00:57:16,010
let's just create a network let's do

726
00:57:12,840 --> 00:57:16,010
what wordpress isn't doing

727
00:57:21,220 --> 00:57:29,709
I don't know why workers simply won't

728
00:57:23,560 --> 00:57:33,130
work but it won't so now we have to add

729
00:57:29,710 --> 00:57:36,300
a port to be able to connect and how are

730
00:57:33,130 --> 00:57:36,300
we going to do this we're going to add

731
00:57:37,650 --> 00:57:49,420
and now we're being asked to map routes

732
00:57:44,910 --> 00:57:54,839
red red it doesn't go by HTTP em but go

733
00:57:49,420 --> 00:57:54,839
for a normal the port is three three

734
00:57:57,510 --> 00:58:01,319
let's just have a look you

735
00:58:12,350 --> 00:58:36,569
if you hear you can go to the container

736
00:58:16,430 --> 00:58:43,140
of the console okay ready stock let's

737
00:58:36,570 --> 00:58:46,860
see if we could find it I can't remember

738
00:58:43,140 --> 00:58:52,410
which port six is six three seven nine

739
00:58:46,860 --> 00:58:56,520
that's the one we want six three seven

740
00:58:52,410 --> 00:59:01,890
nine and let's connect let's connect to

741
00:58:56,520 --> 00:59:13,440
Redis two six three seven nine give it a

742
00:59:01,890 --> 00:59:15,180
name my load balancer I promise if we

743
00:59:13,440 --> 00:59:17,310
connect this port in theory there should

744
00:59:15,180 --> 00:59:21,540
be no problems let's do what we did

745
00:59:17,310 --> 00:59:24,299
before so we've got Redis in this

746
00:59:21,540 --> 00:59:28,680
machine and the balancer in a different

747
00:59:24,300 --> 00:59:34,740
one so we should be able to connect to

748
00:59:28,680 --> 00:59:38,359
where the machine is so let's do it I'm

749
00:59:34,740 --> 00:59:40,350
gonna get the public IP of that machine

750
00:59:38,360 --> 00:59:47,400
for some reason this doesn't ought to

751
00:59:40,350 --> 00:59:53,460
work I was in note 1 I'm gonna close

752
00:59:47,400 --> 00:59:55,970
what it doesn't work fine the balancer

753
00:59:53,460 --> 00:59:55,970
is active

754
01:00:02,960 --> 01:00:08,020
theory if I put the IP ready in Berman's

755
01:00:24,340 --> 01:00:30,670
the hostess there now it was it's very

756
01:00:28,810 --> 01:00:33,400
bad tester that you can't see because

757
01:00:30,670 --> 01:00:35,950
it's down there but it's sending and

758
01:00:33,400 --> 01:00:37,960
receiving package packages and now it's

759
01:00:35,950 --> 01:00:41,950
connected now we have a balancer and

760
01:00:37,960 --> 01:00:47,580
something is now working the WordPress

761
01:00:41,950 --> 01:00:47,580
is not working this one stack is running

762
01:00:47,940 --> 01:00:51,910
the reading is in green because it's

763
01:00:50,380 --> 01:00:58,050
it's working

764
01:00:51,910 --> 01:00:58,049
WordPress I'm gonna just put it away

765
01:00:59,340 --> 01:01:10,120
what else can we do in 57 minutes plus

766
01:01:06,280 --> 01:01:13,330
40 minutes of things that don't work and

767
01:01:10,120 --> 01:01:17,529
that I've wasted something in the

768
01:01:13,330 --> 01:01:19,810
catalog that I can show you I wanted to

769
01:01:17,530 --> 01:01:22,540
show you this with the WordPress but it

770
01:01:19,810 --> 01:01:29,070
doesn't work I can't do it everything at

771
01:01:22,540 --> 01:01:32,860
the same time let's go to my catalog

772
01:01:29,070 --> 01:01:35,500
what we've been doing before there

773
01:01:32,860 --> 01:01:38,230
beforehand well it's a catalog we can

774
01:01:35,500 --> 01:01:43,770
add any cutter I'm going to add another

775
01:01:38,230 --> 01:01:43,770
catalog that I have in my github

776
01:01:46,750 --> 01:01:56,650
it's my catalog and I have new things

777
01:01:51,730 --> 01:02:04,690
here we are its catalog let's copy the

778
01:01:56,650 --> 01:02:11,109
deer dress to manage catalogs add add a

779
01:02:04,690 --> 01:02:13,000
catalog excuse myself I'm getting very

780
01:02:11,109 --> 01:02:16,869
nervous now because it's not working

781
01:02:13,000 --> 01:02:22,599
properly so the catalog indicates

782
01:02:16,869 --> 01:02:25,660
repository get so in a public or private

783
01:02:22,599 --> 01:02:33,340
kit you have to put the authentication

784
01:02:25,660 --> 01:02:38,640
before so he goes to our gift it

785
01:02:33,340 --> 01:02:38,640
downloads and my catalog is named cron

786
01:02:59,870 --> 01:03:07,170
que la tropa de fire pero esto no pero

787
01:03:02,820 --> 01:03:16,200
que this shouldn't fail it's impossible

788
01:03:07,170 --> 01:03:23,040
that it can't upload the catalog I do

789
01:03:16,200 --> 01:03:25,470
apologize but they do that well maybe

790
01:03:23,040 --> 01:03:33,360
there's the unstable server by default

791
01:03:25,470 --> 01:03:49,770
because they normally don't manage all

792
01:03:33,360 --> 01:03:53,390
this at the same time I don't even know

793
01:03:49,770 --> 01:03:53,390
which one I've installed now

794
01:04:02,750 --> 01:04:07,890
he's talking to the guests at that bug

795
01:04:05,190 --> 01:04:12,000
of this is not working and I'm really

796
01:04:07,890 --> 01:04:14,509
sorry for that I'm going to look for web

797
01:04:12,000 --> 01:04:14,510
interface

798
01:04:22,359 --> 01:04:26,459
let's launch this

799
01:04:28,210 --> 01:04:34,029
until our people answered otras course

800
01:04:32,319 --> 01:04:36,009
as a mask I'm going to launch two or

801
01:04:34,029 --> 01:04:44,289
three more things to see if something

802
01:04:36,010 --> 01:04:48,789
works its pilot traffic untied

803
01:04:44,289 --> 01:05:02,700
you know what toys Dido is it's four

804
01:04:48,789 --> 01:05:02,700
screw scrum wise management I get love

805
01:05:11,240 --> 01:05:18,080
Lavelle a configuration brother

806
01:05:13,440 --> 01:05:22,140
I'm going to put the settings by default

807
01:05:18,080 --> 01:05:25,160
the only one that doesn't work is put

808
01:05:22,140 --> 01:05:28,160
WordPress and it's the one I prepared

809
01:05:25,160 --> 01:05:28,160
fantastic

810
01:05:30,590 --> 01:05:41,880
maybe the machine is right you see how

811
01:05:39,390 --> 01:05:43,830
much time it takes to upload that

812
01:05:41,880 --> 01:05:49,710
template but the problem is with

813
01:05:43,830 --> 01:05:51,930
WordPress come on me rock-a-bye the pair

814
01:05:49,710 --> 01:05:53,970
on the boss because is deploying little

815
01:05:51,930 --> 01:05:58,560
things here what we call from the get

816
01:05:53,970 --> 01:06:01,220
lab it's deploying when it's downloading

817
01:05:58,560 --> 01:06:01,220
the image

818
01:06:13,920 --> 01:06:22,630
we got a thermos corriendo Ravana what

819
01:06:18,489 --> 01:06:28,869
is run a graph honor the Reddy's get

820
01:06:22,630 --> 01:06:32,219
love it's uploading at least there's

821
01:06:28,869 --> 01:06:32,219
that already works

822
01:06:39,359 --> 01:06:49,989
know what press definitely says no get

823
01:06:45,130 --> 01:06:52,839
lab server released us let's be

824
01:06:49,989 --> 01:06:55,660
realistic out of water I wanted to show

825
01:06:52,839 --> 01:07:00,719
you here this doesn't work and this

826
01:06:55,660 --> 01:07:00,719
doesn't work there's no way to run it

827
01:07:02,160 --> 01:07:07,499
either there's a web service that can be

828
01:07:05,109 --> 01:07:11,670
up I'll show it I'll show it to you

829
01:07:07,499 --> 01:07:11,669
let's see what I can really show you

830
01:07:12,599 --> 01:07:21,479
okay show you the little pretend with a

831
01:07:16,269 --> 01:07:21,479
web something I hope it works

832
01:07:21,569 --> 01:07:27,630
drunk it's been started

833
01:07:41,110 --> 01:07:46,820
we're giving quality finca lomas a lead

834
01:07:43,910 --> 01:07:50,710
on other now it's been 45 minutes

835
01:07:46,820 --> 01:07:54,290
since nothing appeared and nothing works

836
01:07:50,710 --> 01:07:57,640
and you're going to run at my favorite

837
01:07:54,290 --> 01:08:01,660
to laugh at me that's why you come here

838
01:07:57,640 --> 01:08:05,620
to laugh at me cuz then nothing works

839
01:08:01,660 --> 01:08:05,620
it's been like that for an hour

840
01:08:14,560 --> 01:08:24,019
yeah you're watching that in streaming

841
01:08:18,460 --> 01:08:26,840
really and it's real that mean it's live

842
01:08:24,020 --> 01:08:29,500
streaming everything all the nodes have

843
01:08:26,840 --> 01:08:29,500
been disconnected

844
01:08:37,240 --> 01:08:45,319
what can I do now Mina better call me

845
01:08:42,950 --> 01:08:48,080
pass I'm going to do it with my pass

846
01:08:45,319 --> 01:08:52,309
with one that I already mounted that

847
01:08:48,080 --> 01:08:54,819
something that is already available it's

848
01:08:52,310 --> 01:09:01,820
mine and it works it's already mounted

849
01:08:54,819 --> 01:09:05,359
but it's the last possibility this is

850
01:09:01,819 --> 01:09:11,509
one that is mounted it works and nothing

851
01:09:05,359 --> 01:09:14,049
has failed until now I'm going to launch

852
01:09:11,510 --> 01:09:18,370
award press here to see what happens

853
01:09:14,050 --> 01:09:23,300
it's personal it's getting personal

854
01:09:18,370 --> 01:09:25,819
 WordPress if you have saggy

855
01:09:23,300 --> 01:09:32,029
tango mica 1000 that my catalogue is

856
01:09:25,819 --> 01:09:37,819
here and it's loading it it's loading

857
01:09:32,029 --> 01:09:40,939
slowly but it's loading its 4G and I

858
01:09:37,819 --> 01:09:44,139
don't have a lot of coverage maybe this

859
01:09:40,939 --> 01:09:44,139
is not going to work

860
01:09:53,380 --> 01:10:01,750
but they it's a shame but this is

861
01:09:58,369 --> 01:10:07,759
worrying because this is mine it's ready

862
01:10:01,750 --> 01:10:14,389
this is worrying me if it says it's

863
01:10:07,760 --> 01:10:17,210
loading okay but who knows yeah I'm a

864
01:10:14,389 --> 01:10:20,710
now we're thinking out let's change the

865
01:10:17,210 --> 01:10:20,710
Wi-Fi I'll choose another one

866
01:10:29,050 --> 01:10:35,400
don't cut

867
01:10:43,489 --> 01:10:50,449
WordPress as a vase WordPress again you

868
01:10:48,179 --> 01:10:50,449
know

869
01:10:54,699 --> 01:11:03,110
well maybe when it's finished it's going

870
01:10:57,320 --> 01:11:07,909
to be so fast it's horrible but maybe it

871
01:11:03,110 --> 01:11:09,860
will happen when I'm finished because

872
01:11:07,909 --> 01:11:10,639
WordPress is not running and it's not

873
01:11:09,860 --> 01:11:14,210
starting

874
01:11:10,640 --> 01:11:17,810
I'm going to show you my catalog the one

875
01:11:14,210 --> 01:11:37,429
that was in good oh this is fun this is

876
01:11:17,810 --> 01:11:40,880
real fun this is my cat you okay

877
01:11:37,429 --> 01:11:42,350
then go Sandra I have a sentry MySQL

878
01:11:40,880 --> 01:11:43,159
what's the difference where the original

879
01:11:42,350 --> 01:11:45,530
catalog

880
01:11:43,159 --> 01:11:48,889
this is copy/paste but we have

881
01:11:45,530 --> 01:11:53,929
additional setting parameters and I have

882
01:11:48,890 --> 01:12:00,770
my own template for instance in the

883
01:11:53,929 --> 01:12:04,070
database in the post great student

884
01:12:00,770 --> 01:12:09,020
information it's going to be kept at

885
01:12:04,070 --> 01:12:11,509
local level when an FPS it's in fierce

886
01:12:09,020 --> 01:12:14,360
database phase when it's bad it's not

887
01:12:11,510 --> 01:12:16,969
the solution but if you do it in the

888
01:12:14,360 --> 01:12:19,759
local network if you don't have millions

889
01:12:16,969 --> 01:12:23,960
of concurrent connections this is quite

890
01:12:19,760 --> 01:12:26,690
acceptable but if you put and MPs with

891
01:12:23,960 --> 01:12:30,170
machine and an external volume in just

892
01:12:26,690 --> 01:12:32,349
one location all the machines are

893
01:12:30,170 --> 01:12:35,350
crushing but you're not losing your

894
01:12:32,350 --> 01:12:35,350
database

895
01:12:35,440 --> 01:12:49,339
what presses on almost started to think

896
01:12:47,150 --> 01:12:55,250
that there's a problem with a picture in

897
01:12:49,340 --> 01:13:01,580
WordPress education brahmic all imagine

898
01:12:55,250 --> 01:13:03,210
I quali Silesia market let's say the

899
01:13:01,580 --> 01:13:07,320
images

900
01:13:03,210 --> 01:13:07,320
what Prez is fantastic

901
01:13:14,869 --> 01:13:31,709
nice table camera handy Norma

902
01:13:18,089 --> 01:13:40,459
this is not stable why do why do we use

903
01:13:31,709 --> 01:13:48,148
WordPress I'm going to replace it with

904
01:13:40,459 --> 01:13:51,599
WordPress for Ace maybe the planets have

905
01:13:48,149 --> 01:14:00,689
aligned against me so you have to take

906
01:13:51,599 --> 01:14:03,419
care be careful with app templates now

907
01:14:00,689 --> 01:14:06,419
please a round of applause because I

908
01:14:03,419 --> 01:14:11,039
recovered WordPress it's it's on it's on

909
01:14:06,419 --> 01:14:16,799
I know that's awfully important after

910
01:14:11,039 --> 01:14:23,309
this suffering an hour and 20 minutes

911
01:14:16,799 --> 01:14:27,449
you have nothing else better to do I

912
01:14:23,309 --> 01:14:33,959
don't know what but now we have the word

913
01:14:27,449 --> 01:14:38,478
Chris it's running on an AP we want to

914
01:14:33,959 --> 01:14:41,519
run in a service and a domain first

915
01:14:38,479 --> 01:14:44,909
we're gonna see where our WordPress is

916
01:14:41,519 --> 01:14:47,459
running the WordPress balancer it's

917
01:14:44,909 --> 01:14:57,619
running in this machine with the public

918
01:14:47,459 --> 01:15:04,829
IP it's true let's go to this DNS and

919
01:14:57,619 --> 01:15:08,279
then we type WordPress cron calm and we

920
01:15:04,829 --> 01:15:10,799
will have the same fantastic we still

921
01:15:08,279 --> 01:15:14,840
have the problem

922
01:15:10,800 --> 01:15:17,340
we have to know where the balancer is

923
01:15:14,840 --> 01:15:19,730
obviously that's another good idea let's

924
01:15:17,340 --> 01:15:23,760
mount a balancer that is called traffic

925
01:15:19,730 --> 01:15:27,769
by domain name will not be inverted what

926
01:15:23,760 --> 01:15:33,090
it corresponds it's easy traffic

927
01:15:27,770 --> 01:15:36,300
well the ranger version of traffic reads

928
01:15:33,090 --> 01:15:40,380
labels so internally it knows how to

929
01:15:36,300 --> 01:15:44,270
invert it I'm going to do the demo

930
01:15:40,380 --> 01:15:44,270
because after this everything will work

931
01:15:46,550 --> 01:15:59,810
balancers let's add traffic is in the

932
01:15:55,170 --> 01:15:59,810
catalog let's take it from the catalog

933
01:16:06,219 --> 01:16:18,690
to traffic so it's waiting for the

934
01:16:12,789 --> 01:16:24,550
instructions if it wants to load them

935
01:16:18,690 --> 01:16:25,799
look this is a mini guide of how it

936
01:16:24,550 --> 01:16:29,650
works

937
01:16:25,800 --> 01:16:32,340
settings configurations metrics -

938
01:16:29,650 --> 01:16:37,239
Prometheus a lot of things

939
01:16:32,340 --> 01:16:41,800
the youths transparent let's concentrate

940
01:16:37,239 --> 01:16:45,428
on this traffic will only be right rised

941
01:16:41,800 --> 01:16:47,229
in Hosts that you label with traffic lb

942
01:16:45,429 --> 01:16:49,630
if you don't have a house with that

943
01:16:47,229 --> 01:16:52,239
label it's not going to be up or if you

944
01:16:49,630 --> 01:16:55,690
have a interest it will be up interests

945
01:16:52,239 --> 01:16:57,478
internally it's going to be balanced you

946
01:16:55,690 --> 01:17:04,928
can find a way that the LS you can do

947
01:16:57,479 --> 01:17:06,670
round-robin it's quite simple then to

948
01:17:04,929 --> 01:17:10,630
net next ports

949
01:17:06,670 --> 01:17:13,479
well this OTP is exposes the services is

950
01:17:10,630 --> 01:17:15,699
not 8080 it's just a tea I have an

951
01:17:13,479 --> 01:17:18,460
option for SSL for the moment by moment

952
01:17:15,699 --> 01:17:21,909
going to manage because it's still too

953
01:17:18,460 --> 01:17:25,570
early in the 8 4 4 3 it's an

954
01:17:21,909 --> 01:17:27,159
administrative the option for traffic it

955
01:17:25,570 --> 01:17:32,499
gives you information of what you put in

956
01:17:27,159 --> 01:17:35,969
there the nice thing about this is that

957
01:17:32,499 --> 01:17:39,489
here has it if you take this house

958
01:17:35,969 --> 01:17:46,690
it's a tether here that's it

959
01:17:39,489 --> 01:17:49,780
launched and as it's starting it's going

960
01:17:46,690 --> 01:17:51,728
to be called in those servers in those

961
01:17:49,780 --> 01:18:00,179
machines were it's labeled with a

962
01:17:51,729 --> 01:18:00,179
traffic I'm going to wait

963
01:18:02,719 --> 01:18:06,170
why not give the ice

964
01:18:06,909 --> 01:18:12,690
I don't know where I was the traffic

965
01:18:12,719 --> 01:18:24,130
well the surface is up but it's not it's

966
01:18:16,870 --> 01:18:26,080
not running any host you see I'm not

967
01:18:24,130 --> 01:18:27,909
running a host because you don't have

968
01:18:26,080 --> 01:18:36,909
labeled a machine I'm going to label now

969
01:18:27,909 --> 01:18:48,489
this machine editing label traffic it

970
01:18:36,909 --> 01:18:50,980
will be it's updated it does it every 20

971
01:18:48,489 --> 01:18:53,379
to 30 seconds the traffic is analyzing

972
01:18:50,980 --> 01:18:56,888
the labels and it's going to be up when

973
01:18:53,380 --> 01:19:01,659
it corresponds violence it's doing that

974
01:18:56,889 --> 01:19:04,860
let's go to their WordPress and let's

975
01:19:01,659 --> 01:19:07,299
put the labels that traffic told us

976
01:19:04,860 --> 01:19:10,059
instead of doing the routing in the

977
01:19:07,300 --> 01:19:13,780
balance seeing it one by one the traffic

978
01:19:10,060 --> 01:19:28,330
is going to do that instead of us we go

979
01:19:13,780 --> 01:19:29,769
to WordPress stop so the balancer in

980
01:19:28,330 --> 01:19:32,139
fact with balance of when you want

981
01:19:29,770 --> 01:19:34,570
virtual hosts this is the surface

982
01:19:32,139 --> 01:19:36,610
service which is called target it's a

983
01:19:34,570 --> 01:19:39,030
target by traffic instead you connect

984
01:19:36,610 --> 01:19:39,030
there

985
01:19:44,630 --> 01:19:55,139
what is easy to do doing its I have to

986
01:19:53,189 --> 01:19:58,709
tell traffic what is the service and in

987
01:19:55,139 --> 01:20:01,530
which port it is listening this service

988
01:19:58,709 --> 01:20:08,999
internally it's 80 than the number of

989
01:20:01,530 --> 01:20:13,459
the port they both we add a label which

990
01:20:08,999 --> 01:20:25,249
ones we have it here

991
01:20:13,459 --> 01:20:25,249
traffic mote stack domain

992
01:20:28,849 --> 01:20:40,519
traffic port okay before pressing well

993
01:20:37,429 --> 01:20:45,829
you see traffic it's working it's up I'm

994
01:20:40,519 --> 01:20:47,899
going to assure myself that the address

995
01:20:45,829 --> 01:21:01,219
is okay I don't want to forget any

996
01:20:47,899 --> 01:21:05,619
labels I told you that this port was for

997
01:21:01,219 --> 01:21:11,359
administration of traffic but by default

998
01:21:05,619 --> 01:21:15,469
well it's not possible to do that this

999
01:21:11,359 --> 01:21:17,749
is a it's more a small dashboard or what

1000
01:21:15,469 --> 01:21:19,399
of what traffic is doing because nothing

1001
01:21:17,749 --> 01:21:19,999
is labeled yet but we're going to leave

1002
01:21:19,399 --> 01:21:22,280
it there

1003
01:21:19,999 --> 01:21:24,739
so when we're going to label something

1004
01:21:22,280 --> 01:21:40,728
you'll see that very very rapidly it

1005
01:21:24,739 --> 01:21:47,688
will appear we don't want 132 PS boards

1006
01:21:40,729 --> 01:21:51,699
labels range reintegration that's what

1007
01:21:47,689 --> 01:21:59,059
I'm looking for our domain we've got it

1008
01:21:51,699 --> 01:22:01,659
the alias this was missing so I need to

1009
01:21:59,059 --> 01:22:01,659
add it

1010
01:22:02,309 --> 01:22:15,809
let's call it WordPress now I want you

1011
01:22:11,520 --> 01:22:18,570
to see that traffic gets its and we're

1012
01:22:15,809 --> 01:22:29,400
going to see the service name that we

1013
01:22:18,570 --> 01:22:34,230
are using updating right clicked on

1014
01:22:29,400 --> 01:22:37,589
update upgrade we can edit the images

1015
01:22:34,230 --> 01:22:41,308
the parameters and lots of new things

1016
01:22:37,590 --> 01:22:43,889
and it rises to containers the one that

1017
01:22:41,309 --> 01:22:45,270
is executed another parallel in parallel

1018
01:22:43,889 --> 01:22:51,480
with the new options and the two are

1019
01:22:45,270 --> 01:22:53,699
waiting when you click here okay it's a

1020
01:22:51,480 --> 01:22:55,919
radius and the balance the internal

1021
01:22:53,699 --> 01:22:58,138
balance has changed so the one that is

1022
01:22:55,920 --> 01:23:01,230
in execution is the new one and not the

1023
01:22:58,139 --> 01:23:03,690
old one and in case the new version

1024
01:23:01,230 --> 01:23:07,650
fails you can do a rollback without

1025
01:23:03,690 --> 01:23:13,428
losing the service so it's updated apply

1026
01:23:07,650 --> 01:23:13,429
the changes we have just one container

1027
01:23:15,230 --> 01:23:23,119
traffic is still running

1028
01:23:24,619 --> 01:23:28,848
maybe this will fail too

1029
01:23:32,580 --> 01:23:50,340
so I'm gonna get sure that it's traffic

1030
01:23:37,420 --> 01:23:50,340
enable stuck meanwhile

1031
01:23:54,300 --> 01:24:08,429
it doesn't find it yet

1032
01:23:57,360 --> 01:24:11,130
traffic board would press the term its

1033
01:24:08,429 --> 01:24:13,309
domain has to go to another throw

1034
01:24:11,130 --> 01:24:16,770
another way that the guy who did traffic

1035
01:24:13,309 --> 01:24:19,170
he didn't think to expose these stocks

1036
01:24:16,770 --> 01:24:23,639
in this way with a stack not

1037
01:24:19,170 --> 01:24:27,480
corresponding to domain but so that you

1038
01:24:23,639 --> 01:24:30,780
have the HTTP label a host with an big

1039
01:24:27,480 --> 01:24:32,759
name with a long name it was devised in

1040
01:24:30,780 --> 01:24:35,040
a different way we people with the users

1041
01:24:32,760 --> 01:24:38,760
we always said okay that would be great

1042
01:24:35,040 --> 01:25:01,369
to you to use it in this way that's why

1043
01:24:38,760 --> 01:25:01,369
it's been modified it's not found in it

1044
01:25:06,539 --> 01:25:17,280
possible salivation the traffic version

1045
01:25:09,820 --> 01:25:17,280
has changed yesterday and has changed

1046
01:25:49,230 --> 01:26:12,490
you may punish another Punk a Korean no

1047
01:25:57,630 --> 01:26:20,800
let's the queries are here traffic is

1048
01:26:12,490 --> 01:26:24,309
running well it's not getting it's quite

1049
01:26:20,800 --> 01:26:27,600
complex in fact everything is failing

1050
01:26:24,310 --> 01:26:29,830
with them you know probabilities

1051
01:26:27,600 --> 01:26:32,230
normally would be an odds and

1052
01:26:29,830 --> 01:26:36,010
probabilities will be in my favor now

1053
01:26:32,230 --> 01:26:38,950
that nothing has worked but with your

1054
01:26:36,010 --> 01:26:42,100
demo these demos and I'm showing if you

1055
01:26:38,950 --> 01:26:49,059
wanted to mount the NFS they distributed

1056
01:26:42,100 --> 01:26:52,180
NFS in the catalog in one chair you have

1057
01:26:49,060 --> 01:26:56,290
a service that integrates by default

1058
01:26:52,180 --> 01:26:58,120
Grainger it's called Ranger and VFS it

1059
01:26:56,290 --> 01:27:00,910
installs an agent in each of the

1060
01:26:58,120 --> 01:27:03,849
machines and this agent is connected

1061
01:27:00,910 --> 01:27:08,590
with the server the NFS server that you

1062
01:27:03,850 --> 01:27:11,920
choose and what is this doing when you

1063
01:27:08,590 --> 01:27:14,620
deploy an application in the catalog as

1064
01:27:11,920 --> 01:27:17,320
we are doing it now when you select the

1065
01:27:14,620 --> 01:27:20,620
storage instead of the local you can

1066
01:27:17,320 --> 01:27:25,000
select it as driver Ranger NFS and

1067
01:27:20,620 --> 01:27:26,890
underneath Ranger is doing this task and

1068
01:27:25,000 --> 01:27:29,140
your container you will see this local

1069
01:27:26,890 --> 01:27:36,340
what everything is distributed and it's

1070
01:27:29,140 --> 01:27:37,960
going to NFS this is the service you

1071
01:27:36,340 --> 01:27:43,090
can't deploy it because it's already

1072
01:27:37,960 --> 01:27:45,640
deployed when you deploy it you can you

1073
01:27:43,090 --> 01:27:54,300
say the the IP or the name where the

1074
01:27:45,640 --> 01:27:54,300
machine is running and then in each host

1075
01:27:59,620 --> 01:28:11,750
or levanta there's a driver for NFS if

1076
01:28:06,920 --> 01:28:14,960
this driver is doing the catching to

1077
01:28:11,750 --> 01:28:17,890
have all the machines agreeing and many

1078
01:28:14,960 --> 01:28:22,370
other functions and from the interface

1079
01:28:17,890 --> 01:28:29,960
you go to storage you can manage all the

1080
01:28:22,370 --> 01:28:32,510
nodes the network of nodes based on the

1081
01:28:29,960 --> 01:28:37,190
nodes that are part of this NFS or the

1082
01:28:32,510 --> 01:28:43,340
net the node network of NFS and here you

1083
01:28:37,190 --> 01:28:47,230
have the distributed volumes so it gives

1084
01:28:43,340 --> 01:28:47,230
you it's some information about that

1085
01:28:48,640 --> 01:29:02,750
when using this the NFS if you go to

1086
01:28:55,970 --> 01:29:06,920
your catalog this is a difference with

1087
01:29:02,750 --> 01:29:07,550
the original version with the volume

1088
01:29:06,920 --> 01:29:09,680
called

1089
01:29:07,550 --> 01:29:13,130
driver you have the local it's stored in

1090
01:29:09,680 --> 01:29:17,150
local the LVS and inoffensive for Amazon

1091
01:29:13,130 --> 01:29:19,520
but you can say an NFS only and then

1092
01:29:17,150 --> 01:29:27,110
creates a distributed volume that is

1093
01:29:19,520 --> 01:29:29,180
transparent for you this phenomenon

1094
01:29:27,110 --> 01:29:31,910
scenario it's not working what I'm gonna

1095
01:29:29,180 --> 01:29:37,430
do is say it sure you have a templates

1096
01:29:31,910 --> 01:29:41,230
work in this one which I've got in gets

1097
01:29:37,430 --> 01:29:43,850
up and it's got not much relevant

1098
01:29:41,230 --> 01:29:46,040
information it so you can click on a

1099
01:29:43,850 --> 01:29:50,230
public repository course all the

1100
01:29:46,040 --> 01:29:50,230
relevant informations in parameters

1101
01:29:51,190 --> 01:30:04,360
there you can see on the right the

1102
01:29:53,930 --> 01:30:10,750
instructions an each file has these

1103
01:30:04,360 --> 01:30:14,080
three little files in it so you have the

1104
01:30:10,750 --> 01:30:18,370
different categories if you want to put

1105
01:30:14,080 --> 01:30:21,640
the categories you want and the most

1106
01:30:18,370 --> 01:30:25,750
recent version that you want to see by

1107
01:30:21,640 --> 01:30:28,870
default and you put all the ones that

1108
01:30:25,750 --> 01:30:35,500
you want so normally each number is a

1109
01:30:28,870 --> 01:30:39,340
software version that we want to map in

1110
01:30:35,500 --> 01:30:43,780
the overall file what we do is we refer

1111
01:30:39,340 --> 01:30:54,150
to one of the default setups and we get

1112
01:30:43,780 --> 01:30:54,150
a name run ship composer docker compose

1113
01:30:54,690 --> 01:30:58,990
what it does is it sets up this

1114
01:30:57,000 --> 01:31:01,200
interface that we've seen it's as simple

1115
01:30:58,990 --> 01:31:01,200
as that

1116
01:31:03,240 --> 01:31:14,290
and the version we've got in the general

1117
01:31:06,550 --> 01:31:15,850
file here if you want a minimum here you

1118
01:31:14,290 --> 01:31:20,110
can do it and so when you get to

1119
01:31:15,850 --> 01:31:23,920
questions that the users are are such as

1120
01:31:20,110 --> 01:31:25,900
the current password username and it's

1121
01:31:23,920 --> 01:31:28,990
got different types for example test

1122
01:31:25,900 --> 01:31:30,969
text or a list see here you've got the

1123
01:31:28,990 --> 01:31:35,830
new numbers and you see that on the

1124
01:31:30,970 --> 01:31:38,920
interface so you get a list and the same

1125
01:31:35,830 --> 01:31:41,380
goes here in ranch shall we say to it

1126
01:31:38,920 --> 01:31:43,570
and that's what it becomes so what do we

1127
01:31:41,380 --> 01:31:47,070
want so we do our copy-paste and it's

1128
01:31:43,570 --> 01:31:49,269
the same for everything the description

1129
01:31:47,070 --> 01:31:52,630
where's its whether it's necessary or

1130
01:31:49,270 --> 01:31:56,530
not it's a default value and what else

1131
01:31:52,630 --> 01:31:59,440
is important what variables what we're

1132
01:31:56,530 --> 01:32:01,679
talking about what we're going to call

1133
01:31:59,440 --> 01:32:01,679
them

1134
01:32:03,450 --> 01:32:11,380
but once caught a hostname one's a

1135
01:32:06,550 --> 01:32:14,440
volume driver etc so let's go to docker

1136
01:32:11,380 --> 01:32:19,600
compose and in docker compose its order

1137
01:32:14,440 --> 01:32:21,480
in parrot parameterised and now I don't

1138
01:32:19,600 --> 01:32:36,130
if you've realized that when we see here

1139
01:32:21,480 --> 01:32:39,849
this this option comes here very easy to

1140
01:32:36,130 --> 01:32:43,150
create you a general template I'm not

1141
01:32:39,850 --> 01:32:46,350
gonna have time to do it so but so sure

1142
01:32:43,150 --> 01:32:50,230
you've got to your hucking environment

1143
01:32:46,350 --> 01:32:53,290
you've got whatever you want what's the

1144
01:32:50,230 --> 01:32:56,549
only option that you could need the

1145
01:32:53,290 --> 01:33:01,630
default password did you give the SSH

1146
01:32:56,550 --> 01:33:05,460
that you can include in here you might

1147
01:33:01,630 --> 01:33:09,820
have an open bus and open by sato nine

1148
01:33:05,460 --> 01:33:15,730
and you've got nexus 4 or 5 so you can

1149
01:33:09,820 --> 01:33:24,210
choose which ones you want to set up so

1150
01:33:15,730 --> 01:33:26,740
docker compose that's the same so we

1151
01:33:24,210 --> 01:33:27,160
upload this with a catapult that we saw

1152
01:33:26,740 --> 01:33:31,269
before

1153
01:33:27,160 --> 01:33:33,190
off we go I've got 25 minutes left and

1154
01:33:31,270 --> 01:33:36,750
because absolutely everything else has

1155
01:33:33,190 --> 01:33:39,280
gone wrong what I'm gonna try to do now

1156
01:33:36,750 --> 01:33:41,200
even though I'm sure it's not gonna work

1157
01:33:39,280 --> 01:33:44,800
because everything else hasn't worked

1158
01:33:41,200 --> 01:33:46,420
it's going to do assemble something

1159
01:33:44,800 --> 01:33:55,080
something anything I really don't mind

1160
01:33:46,420 --> 01:33:55,080
what any ideas let's do an open bus

1161
01:34:05,060 --> 01:34:24,930
open bus set up for a ranger open bus

1162
01:34:13,560 --> 01:34:30,600
service database and right let's start

1163
01:34:24,930 --> 01:34:36,870
mapping Ranger compose let's call it

1164
01:34:30,600 --> 01:34:40,280
version zero zero one what question are

1165
01:34:36,870 --> 01:34:40,280
we gonna ask the open bus

1166
01:34:52,469 --> 01:34:58,480
and as we've seen that the traffic

1167
01:34:54,579 --> 01:35:02,230
doesn't work let's put the balancer open

1168
01:34:58,480 --> 01:35:05,169
bus balancer I'll explain what we're

1169
01:35:02,230 --> 01:35:12,339
seeing here all of these services that

1170
01:35:05,170 --> 01:35:15,790
you start in Rancho server if they do

1171
01:35:12,340 --> 01:35:16,809
not health check mechanism that means

1172
01:35:15,790 --> 01:35:20,500
that it's not going to work it's going

1173
01:35:16,809 --> 01:35:22,090
to be in red red or yellow so if you've

1174
01:35:20,500 --> 01:35:26,079
got no way of checking it

1175
01:35:22,090 --> 01:35:33,070
the default policy is to just start up

1176
01:35:26,079 --> 01:35:42,639
again restart to reboot and you then you

1177
01:35:33,070 --> 01:35:45,099
don't know what's happening so it's like

1178
01:35:42,639 --> 01:35:48,159
when we said to rancher to get the

1179
01:35:45,099 --> 01:35:50,500
balancer I'll tell you what it

1180
01:35:48,159 --> 01:35:55,379
corresponds to in a minute but by

1181
01:35:50,500 --> 01:35:55,380
default let's have a look at it here

1182
01:35:59,399 --> 01:36:07,869
we finished this let's move on now to

1183
01:36:03,099 --> 01:36:14,769
pops just so that we can see it in

1184
01:36:07,869 --> 01:36:20,938
parallel the balance are open bus this

1185
01:36:14,769 --> 01:36:25,229
is what we weren't and the there it is

1186
01:36:20,939 --> 01:36:28,929
and this is the the port we can ask

1187
01:36:25,229 --> 01:36:32,559
that's what we need it so let's create a

1188
01:36:28,929 --> 01:36:34,539
service called open bus and the image of

1189
01:36:32,559 --> 01:36:36,369
open when the bus let's have a look at

1190
01:36:34,539 --> 01:36:38,699
what sort of image do we want to bus

1191
01:36:36,369 --> 01:36:38,699
docker

1192
01:36:45,250 --> 01:36:57,110
that's what it looks like and what about

1193
01:36:53,900 --> 01:36:58,190
the environment doesn't talk about there

1194
01:36:57,110 --> 01:37:05,690
and if it doesn't send thing about the

1195
01:36:58,190 --> 01:37:08,240
environment in in the tower sir I know

1196
01:37:05,690 --> 01:37:09,410
we're doing a very simple version but

1197
01:37:08,240 --> 01:37:13,000
because everything is seems to be going

1198
01:37:09,410 --> 01:37:18,800
wrong as you can imagine I want to be

1199
01:37:13,000 --> 01:37:25,790
have a zero risk so what's the port for

1200
01:37:18,800 --> 01:37:31,360
the control panel 9390 yeah so you go to

1201
01:37:25,790 --> 01:37:31,360
filler to control this port 9390 okay

1202
01:37:31,390 --> 01:37:46,720
port 9390 okay didn't need any more than

1203
01:37:41,210 --> 01:37:46,720
that description here

1204
01:37:58,389 --> 01:38:05,550
right one get rid of this I add it to

1205
01:38:03,249 --> 01:38:05,550
get

1206
01:38:11,639 --> 01:38:14,449
okay

1207
01:38:15,090 --> 01:38:25,200
well I really my friend a there we've

1208
01:38:21,330 --> 01:38:36,450
got the image let's go back to our

1209
01:38:25,200 --> 01:38:41,250
catalog I want me now to need to just to

1210
01:38:36,450 --> 01:38:43,580
refresh it when of course when it wants

1211
01:38:41,250 --> 01:38:43,580
to load

1212
01:38:54,310 --> 01:38:59,130
and it gives us a get pool to update

1213
01:39:09,360 --> 01:39:14,670
there we've got it our open bus service

1214
01:39:15,030 --> 01:39:23,230
and what question if we put there the

1215
01:39:18,850 --> 01:39:31,690
port we should have put the label but

1216
01:39:23,230 --> 01:39:33,820
I've removed it launched there you see

1217
01:39:31,690 --> 01:39:35,969
the balance are deployed as we asked for

1218
01:39:33,820 --> 01:39:35,969
it

1219
01:39:36,300 --> 01:39:44,340
9390 the open bus unfortunately would

1220
01:39:40,180 --> 01:39:46,750
take a little while that's the downside

1221
01:39:44,340 --> 01:39:51,940
because what I think it does is it

1222
01:39:46,750 --> 01:39:58,330
updates all the database but if you go

1223
01:39:51,940 --> 01:40:02,469
to infrastructure this is something I

1224
01:39:58,330 --> 01:40:07,150
should don't like what if you're waiting

1225
01:40:02,469 --> 01:40:12,510
for the open bus you when it downloads

1226
01:40:07,150 --> 01:40:15,549
the image you allow you to see the logs

1227
01:40:12,510 --> 01:40:17,440
so if you set go on see logs and there

1228
01:40:15,550 --> 01:40:21,010
you can see what's happening but for

1229
01:40:17,440 --> 01:40:23,790
this you have to have downloaded first

1230
01:40:21,010 --> 01:40:23,790
the image

1231
01:40:31,770 --> 01:40:38,490
and of all the things that I haven't

1232
01:40:35,850 --> 01:40:41,880
been able to show you let's see if I can

1233
01:40:38,490 --> 01:40:48,030
show you an NFS okay it's saying let's

1234
01:40:41,880 --> 01:40:55,290
encrypt might even work another thing

1235
01:40:48,030 --> 01:40:59,190
but another thing that appears in the

1236
01:40:55,290 --> 01:41:04,380
catalog which Rancher has called let's

1237
01:40:59,190 --> 01:41:09,509
encrypt let's encrypt lifts another

1238
01:41:04,380 --> 01:41:15,510
stack with this set the setups that you

1239
01:41:09,510 --> 01:41:18,870
want every three months when it runs out

1240
01:41:15,510 --> 01:41:20,910
it'll renew your certificate well what

1241
01:41:18,870 --> 01:41:22,890
do you want that for well if you've got

1242
01:41:20,910 --> 01:41:26,550
a license you want some kind of a

1243
01:41:22,890 --> 01:41:38,280
certificate email difficut the domains

1244
01:41:26,550 --> 01:41:39,630
are separated by commas another thing

1245
01:41:38,280 --> 01:41:45,780
that you perhaps not interested in but

1246
01:41:39,630 --> 01:41:49,920
just have a look at this one of the

1247
01:41:45,780 --> 01:41:56,639
things to choose flower for it is

1248
01:41:49,920 --> 01:41:59,520
something that you can so you've got

1249
01:41:56,640 --> 01:42:03,180
let's encrypt and it will manage it for

1250
01:41:59,520 --> 01:42:04,350
you automatically I'm not going to do

1251
01:42:03,180 --> 01:42:07,800
because I've already done it but I

1252
01:42:04,350 --> 01:42:13,860
wanted to show it to you when you run

1253
01:42:07,800 --> 01:42:17,100
this it'll create a create a select

1254
01:42:13,860 --> 01:42:18,089
encrypt duck why have I got them

1255
01:42:17,100 --> 01:42:21,300
separated because I've got a letter

1256
01:42:18,090 --> 01:42:23,760
let's encrypt service per domain so when

1257
01:42:21,300 --> 01:42:27,330
you want to add a new domain you have to

1258
01:42:23,760 --> 01:42:33,260
stop the service start it again this one

1259
01:42:27,330 --> 01:42:38,720
for example look at the setup action

1260
01:42:33,260 --> 01:42:40,350
reduction this is the DNS server look

1261
01:42:38,720 --> 01:42:42,079
there you got it

1262
01:42:40,350 --> 01:42:47,659
copy paste

1263
01:42:42,079 --> 01:42:49,989
and everything that I've asked for I've

1264
01:42:47,659 --> 01:42:52,999
asked for the certificates that's all

1265
01:42:49,989 --> 01:42:58,699
that's great so then how do I use these

1266
01:42:52,999 --> 01:43:03,760
ssl certificates go to the stack if you

1267
01:42:58,699 --> 01:43:05,749
know look these stacks it's a logical

1268
01:43:03,760 --> 01:43:08,869
grouping together of all our

1269
01:43:05,749 --> 01:43:12,469
infrastructure because I've got

1270
01:43:08,869 --> 01:43:16,999
everything functioning I've got in there

1271
01:43:12,469 --> 01:43:20,749
first and it's all working ok you can

1272
01:43:16,999 --> 01:43:24,409
see the nf I've got my paper server my

1273
01:43:20,749 --> 01:43:26,179
rabbit server my trafficker which isn't

1274
01:43:24,409 --> 01:43:28,999
working on nothing's working I've got

1275
01:43:26,179 --> 01:43:32,989
WordPress which seems to collapsed once

1276
01:43:28,999 --> 01:43:36,079
again but I've got like little pieces in

1277
01:43:32,989 --> 01:43:37,188
a logical order and after it's like what

1278
01:43:36,079 --> 01:43:41,268
I do is I connect them all up together

1279
01:43:37,189 --> 01:43:45,559
so I like to put in at one stack all the

1280
01:43:41,269 --> 01:43:51,189
balances normally because everything is

1281
01:43:45,559 --> 01:43:55,179
then ordered look at the balancer here

1282
01:43:51,189 --> 01:43:59,989
either put a machine or by domain

1283
01:43:55,179 --> 01:44:01,879
however you want it it's the same IP I'm

1284
01:43:59,989 --> 01:44:04,239
just getting all the balances ready and

1285
01:44:01,879 --> 01:44:06,379
in this case I've got in one machine

1286
01:44:04,239 --> 01:44:08,419
iPad answer that does some things

1287
01:44:06,379 --> 01:44:16,429
another does others giving us a

1288
01:44:08,419 --> 01:44:18,050
different service ok so we set up the

1289
01:44:16,429 --> 01:44:22,489
let's encrypt certificate when we add a

1290
01:44:18,050 --> 01:44:26,829
balancer I've shown you how to do parent

1291
01:44:22,489 --> 01:44:28,938
say yes this is a classical balancer

1292
01:44:26,829 --> 01:44:33,858
these are the port's that we're using

1293
01:44:28,939 --> 01:44:37,159
this is the URL HTTP and the HTTP and

1294
01:44:33,859 --> 01:44:45,649
here we add the hosting routes that we

1295
01:44:37,159 --> 01:44:48,049
want and in my case it's ok what for

1296
01:44:45,649 --> 01:44:51,820
port 3 it goes to service where I've got

1297
01:44:48,050 --> 01:44:51,820
everything and then it goes to the port

1298
01:44:51,860 --> 01:44:58,170
the ports 9000 without SSL it's the

1299
01:44:55,320 --> 01:45:02,519
balance of the proxy SSL and where is

1300
01:44:58,170 --> 01:45:04,800
this SL if you go down here these

1301
01:45:02,520 --> 01:45:10,500
certificates that's managed let's

1302
01:45:04,800 --> 01:45:12,239
encrypt there are allowed by Rancher if

1303
01:45:10,500 --> 01:45:13,380
you want to go to certificates or you

1304
01:45:12,239 --> 01:45:19,559
can go down to infrastructure

1305
01:45:13,380 --> 01:45:21,270
certificates and as let's encrypt us it

1306
01:45:19,560 --> 01:45:27,719
works it leaves you a certificate here a

1307
01:45:21,270 --> 01:45:28,440
public one and you can see here two

1308
01:45:27,719 --> 01:45:31,830
subdomains

1309
01:45:28,440 --> 01:45:34,830
and here I've got six and it gradually

1310
01:45:31,830 --> 01:45:37,050
updates adds one with all the domains

1311
01:45:34,830 --> 01:45:41,670
but they it does it itself that's what's

1312
01:45:37,050 --> 01:45:43,820
so good about this all you have to do is

1313
01:45:41,670 --> 01:45:57,780
when you look here on four four three

1314
01:45:43,820 --> 01:45:59,969
check the corresponding certificate and

1315
01:45:57,780 --> 01:46:04,679
then you go to certificates again and

1316
01:45:59,969 --> 01:46:06,390
import over let's see certificates paste

1317
01:46:04,680 --> 01:46:11,180
and that's it

1318
01:46:06,390 --> 01:46:11,180
copy paste whatever you're ready for I

1319
01:46:13,790 --> 01:46:18,180
know that the demo is not working as it

1320
01:46:16,230 --> 01:46:25,259
should do but let me just see if I can

1321
01:46:18,180 --> 01:46:29,310
give you an idea and then dr. a this is

1322
01:46:25,260 --> 01:46:31,860
correct caught quite normal have you

1323
01:46:29,310 --> 01:46:36,680
ever done a docker register register

1324
01:46:31,860 --> 01:46:42,870
it's just an image in version two which

1325
01:46:36,680 --> 01:46:45,660
is without SSL but uses the five

1326
01:46:42,870 --> 01:46:47,580
thousand port but your docker client

1327
01:46:45,660 --> 01:46:50,730
your local docker client won't work

1328
01:46:47,580 --> 01:46:52,230
without SSL you can do docker push to

1329
01:46:50,730 --> 01:46:54,540
your private server but if you don't

1330
01:46:52,230 --> 01:47:01,049
have an SSL it'll say it won't do it you

1331
01:46:54,540 --> 01:47:02,790
can do a harp but if you put a

1332
01:47:01,050 --> 01:47:04,159
certificate which isn't valid either it

1333
01:47:02,790 --> 01:47:10,460
won't accept

1334
01:47:04,159 --> 01:47:12,860
so that the only thing you can do is add

1335
01:47:10,460 --> 01:47:16,429
a valid certificate if you want to have

1336
01:47:12,860 --> 01:47:19,519
your own dot image server and that is a

1337
01:47:16,429 --> 01:47:29,090
very simple way of doing it and I'm

1338
01:47:19,520 --> 01:47:36,760
gonna use this registry here we've got

1339
01:47:29,090 --> 01:47:39,199
an NFS volume internally and it max but

1340
01:47:36,760 --> 01:47:42,860
if you realize here this there's no

1341
01:47:39,199 --> 01:47:47,299
Rooter because it uses the rancher

1342
01:47:42,860 --> 01:47:55,519
driver and internally when we've shown

1343
01:47:47,300 --> 01:47:59,630
you all the distributed names I've got

1344
01:47:55,520 --> 01:48:02,449
them all now it's all my images I've got

1345
01:47:59,630 --> 01:48:04,489
my set my server and NFS

1346
01:48:02,449 --> 01:48:07,699
but it's completely transparent so it

1347
01:48:04,489 --> 01:48:13,280
doesn't matter and it's really

1348
01:48:07,699 --> 01:48:13,759
comfortable let's hope the open bus is

1349
01:48:13,280 --> 01:48:17,559
finished

1350
01:48:13,760 --> 01:48:17,560
if we're lucky of course not on it

1351
01:48:21,400 --> 01:48:25,299
I'm a gentleman there's another column I

1352
01:48:23,500 --> 01:48:29,260
can see if I could least download an

1353
01:48:25,300 --> 01:48:32,140
image because haven't even downloaded

1354
01:48:29,260 --> 01:48:33,450
image because an open bus images like

1355
01:48:32,140 --> 01:48:37,570
2.8

1356
01:48:33,450 --> 01:48:46,030
gigas which isn't by no means chicken

1357
01:48:37,570 --> 01:48:52,090
feed let's encrypt is there let's go to

1358
01:48:46,030 --> 01:48:59,639
command line watcher hasn't an FLI when

1359
01:48:52,090 --> 01:49:05,530
we can automate things the my idea idea

1360
01:48:59,640 --> 01:49:10,030
is to do this demo and with all the

1361
01:49:05,530 --> 01:49:13,719
environment what I wanted to do was for

1362
01:49:10,030 --> 01:49:20,019
the script to create a domain a stack

1363
01:49:13,720 --> 01:49:23,950
and using traffic it would map this

1364
01:49:20,020 --> 01:49:26,080
domain directly to the open bus and to

1365
01:49:23,950 --> 01:49:28,450
do this automatically it's like I said

1366
01:49:26,080 --> 01:49:30,580
at the beginning if there are four

1367
01:49:28,450 --> 01:49:33,480
auditors we're gonna have ordered to one

1368
01:49:30,580 --> 01:49:39,460
order to do order to three order to four

1369
01:49:33,480 --> 01:49:43,049
so you can each maps it start and as

1370
01:49:39,460 --> 01:49:43,050
unfortunately nothing is working

1371
01:49:43,890 --> 01:49:49,140
show you the commands of how this works

1372
01:49:55,410 --> 01:50:04,990
a domain there's a library so I've

1373
01:50:01,450 --> 01:50:12,940
written a script and you put the domain

1374
01:50:04,990 --> 01:50:14,139
name and I know this works and of course

1375
01:50:12,940 --> 01:50:19,570
it's not gonna work today as you already

1376
01:50:14,140 --> 01:50:24,960
know how how does this little script

1377
01:50:19,570 --> 01:50:24,960
work it's very simple

1378
01:50:25,660 --> 01:50:36,180
can you see the bottom here otherwise if

1379
01:50:33,580 --> 01:50:36,180
not I'll change

1380
01:51:01,800 --> 01:51:07,300
when Esther Esther say let's click a

1381
01:51:04,540 --> 01:51:10,920
subir another place man this is the

1382
01:51:07,300 --> 01:51:10,920
script that we're going to put there

1383
01:51:11,250 --> 01:51:16,260
there's only one dependency which is

1384
01:51:17,040 --> 01:51:46,510
club flare here you see what I'm typing

1385
01:51:26,380 --> 01:51:48,010
in and what happens is no such tell them

1386
01:51:46,510 --> 01:51:50,800
although Sofia is there we've got two

1387
01:51:48,010 --> 01:51:55,950
actions we can either create a subdomain

1388
01:51:50,800 --> 01:51:59,410
or remove it that's all we need really

1389
01:51:55,950 --> 01:52:01,960
it will do it will create it but it will

1390
01:51:59,410 --> 01:52:04,380
fail you'll see this will definitely

1391
01:52:01,960 --> 01:52:04,380
fail

1392
01:52:10,460 --> 01:52:17,989
this wasn't the fault that I was

1393
01:52:11,989 --> 01:52:22,849
expecting what's a fault it's a pretty

1394
01:52:17,989 --> 01:52:24,200
horrible thought because gives us

1395
01:52:22,850 --> 01:52:27,770
because never done had any

1396
01:52:24,200 --> 01:52:36,710
authentication credentials so for this

1397
01:52:27,770 --> 01:52:44,060
to be taken seriously it's taken from

1398
01:52:36,710 --> 01:52:46,100
the credential environment variables you

1399
01:52:44,060 --> 01:52:49,580
have to be careful with what you're

1400
01:52:46,100 --> 01:52:52,700
doing so the credentials have Taft this

1401
01:52:49,580 --> 01:52:54,219
name I didn't put this name there it was

1402
01:52:52,700 --> 01:53:01,460
the library that did that

1403
01:52:54,219 --> 01:53:05,570
that's the username and the club for AP

1404
01:53:01,460 --> 01:53:06,920
key so it's important here I've given

1405
01:53:05,570 --> 01:53:15,489
you the example of course I've shown you

1406
01:53:06,920 --> 01:53:17,480
the example we load it and you'll see

1407
01:53:15,489 --> 01:53:19,429
should create a domain

1408
01:53:17,480 --> 01:53:23,030
it hasn't said I think so it should have

1409
01:53:19,430 --> 01:53:24,980
created the domain it was just a

1410
01:53:23,030 --> 01:53:33,190
statistical matter this had to go right

1411
01:53:24,980 --> 01:53:35,660
if you know luckily IPP to be discrete

1412
01:53:33,190 --> 01:53:40,280
it's just a stupid little piece of

1413
01:53:35,660 --> 01:53:47,570
script but scripting all this is kind of

1414
01:53:40,280 --> 01:53:49,849
useful there you go to manage your

1415
01:53:47,570 --> 01:53:54,759
domains what do we what to do now what

1416
01:53:49,850 --> 01:53:58,280
we want is to deploy a new stack

1417
01:53:54,760 --> 01:54:04,030
whichever one we fancy so how do we

1418
01:53:58,280 --> 01:54:07,489
create a new stack Rancher to download

1419
01:54:04,030 --> 01:54:09,559
well your Rancher you go down to the

1420
01:54:07,489 --> 01:54:14,179
bottom and here you can see it says CNI

1421
01:54:09,560 --> 01:54:16,610
on the right can you see that well you

1422
01:54:14,180 --> 01:54:18,920
can leave Roger Campos but you don't

1423
01:54:16,610 --> 01:54:23,169
want rancher compose you want Rancher

1424
01:54:18,920 --> 01:54:25,329
CLI they're binary it's

1425
01:54:23,169 --> 01:54:31,179
so it should all go okay all right

1426
01:54:25,329 --> 01:54:32,679
that's it now what am I going to do I'm

1427
01:54:31,179 --> 01:54:36,399
gonna go see where I've got my binary

1428
01:54:32,679 --> 01:54:39,909
there it is what can we do here

1429
01:54:36,399 --> 01:54:59,469
come online virtually anything really we

1430
01:54:39,909 --> 01:55:03,879
can install stacks got all the stacks

1431
01:54:59,469 --> 01:55:05,559
there you got them and we can show the

1432
01:55:03,880 --> 01:55:08,590
services which isn't the same as the

1433
01:55:05,559 --> 01:55:14,349
stacks remember a stack can have many

1434
01:55:08,590 --> 01:55:23,289
services you can see the state it's

1435
01:55:14,349 --> 01:55:30,280
healthy Ward's image what's this

1436
01:55:23,289 --> 01:55:33,989
this is thought out because any balances

1437
01:55:30,280 --> 01:55:40,478
that you've got deployed if you want to

1438
01:55:33,989 --> 01:55:44,228
deploy an image with the McCawley with

1439
01:55:40,479 --> 01:55:46,449
SSH but the SSH can't be balanced there

1440
01:55:44,229 --> 01:55:51,309
can't be balanced by domain you can't do

1441
01:55:46,449 --> 01:55:54,188
it with PP com so obviously the machine

1442
01:55:51,309 --> 01:55:58,659
will want to put it I need to have a

1443
01:55:54,189 --> 01:56:00,340
port I'm gonna stick it so that you can

1444
01:55:58,659 --> 01:56:03,820
see it I just want you to have a look at

1445
01:56:00,340 --> 01:56:07,749
it here what we did was find in the

1446
01:56:03,820 --> 01:56:10,869
machine it's a balance free port and

1447
01:56:07,749 --> 01:56:14,019
once we've got a free port then what we

1448
01:56:10,869 --> 01:56:16,688
do in our catalog as we've seen the open

1449
01:56:14,019 --> 01:56:19,119
bus we just put a question is the

1450
01:56:16,689 --> 01:56:21,369
question was tell me the port remember

1451
01:56:19,119 --> 01:56:23,709
so we said okay this is gonna be the

1452
01:56:21,369 --> 01:56:26,610
port but everything has to be automated

1453
01:56:23,709 --> 01:56:29,610
so how do we deploy something from the

1454
01:56:26,610 --> 01:56:29,610
catalog

1455
01:56:35,620 --> 01:56:38,410
if you just write catalog I'll show you

1456
01:56:37,480 --> 01:56:41,799
everything that you've got in the

1457
01:56:38,410 --> 01:56:44,950
catalog all the things that you've got a

1458
01:56:41,800 --> 01:57:14,380
cat so let's go back and deploy the open

1459
01:56:44,950 --> 01:57:22,530
bus again for our catalog demo con water

1460
01:57:14,380 --> 01:57:22,530
pressure told us don't face

1461
01:57:22,740 --> 01:57:30,910
si por que se hakurei's they wanted a

1462
01:57:29,560 --> 01:57:33,550
man of high water I don't if you

1463
01:57:30,910 --> 01:57:35,800
remember that's why there's all sorts of

1464
01:57:33,550 --> 01:57:40,150
words that all questions that we asked

1465
01:57:35,800 --> 01:57:41,560
before launching and in the case of what

1466
01:57:40,150 --> 01:57:46,960
we did with the open pass you remember

1467
01:57:41,560 --> 01:57:48,970
the ports are we asked for I don't know

1468
01:57:46,960 --> 01:57:54,850
what's happened to WordPress Karen

1469
01:57:48,970 --> 01:57:57,690
LeBlanc T y esto SI que estaba probably

1470
01:57:54,850 --> 01:57:57,690
Simon today litter

1471
01:58:03,969 --> 01:58:16,719
my TTT community valley under study and

1472
01:58:13,420 --> 01:58:22,480
Oh que tenemos el sitio creo station but

1473
01:58:16,719 --> 01:58:24,090
you got Punto game la cañada various

1474
01:58:22,480 --> 01:58:28,120
pregunta la variables

1475
01:58:24,090 --> 01:58:32,650
how'd you know this no Slava sake caper

1476
01:58:28,120 --> 01:58:35,110
wanta public port there's a lava relic

1477
01:58:32,650 --> 01:58:39,460
at any a public poor you can see public

1478
01:58:35,110 --> 01:58:42,489
port user but if we're scripting this

1479
01:58:39,460 --> 01:58:49,239
it's senseless that it asks as anything

1480
01:58:42,489 --> 01:58:51,519
so for that reason they've got an option

1481
01:58:49,239 --> 01:59:01,030
here that says go back to directly to

1482
01:58:51,520 --> 01:59:02,800
response with the option of - a and you

1483
01:59:01,030 --> 01:59:07,780
give them a response what sort of format

1484
01:59:02,800 --> 01:59:13,000
do the text files have variable name

1485
01:59:07,780 --> 01:59:14,380
equals value is very simple so you've

1486
01:59:13,000 --> 01:59:17,460
got to have all the ones that it asks

1487
01:59:14,380 --> 01:59:17,460
for otherwise it'll stop

1488
01:59:29,729 --> 01:59:38,420
in a con esto and with this I think

1489
01:59:32,789 --> 01:59:44,009
we've nearly finished this workshop okay

1490
01:59:38,420 --> 01:59:48,679
this interior in theory you can say okay

1491
01:59:44,010 --> 01:59:48,679
I'm deploying a no no more questions

1492
01:59:49,010 --> 01:59:55,709
hasn't asked any question its deployed

1493
01:59:52,190 --> 01:59:58,049
now I have no time I wanted to mix the

1494
01:59:55,709 --> 02:00:01,679
fact that it this is a or domain and

1495
01:59:58,050 --> 02:00:04,530
automatically install and I launched a

1496
02:00:01,679 --> 02:00:09,179
template with the parameters I choose

1497
02:00:04,530 --> 02:00:11,999
and we click I create the whole

1498
02:00:09,179 --> 02:00:13,699
environment and with another click I can

1499
02:00:11,999 --> 02:00:18,050
delete it

1500
02:00:13,699 --> 02:00:21,460
what else I'm really sorry for this

1501
02:00:18,050 --> 02:00:31,020
disturbance thank you very much

1502
02:00:21,460 --> 02:00:31,020
[Applause]

