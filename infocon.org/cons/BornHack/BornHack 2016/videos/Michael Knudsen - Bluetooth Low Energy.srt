1
00:00:00,000 --> 00:00:09,960
yes and we are welcoming me k or michael

2
00:00:06,899 --> 00:00:14,610
knudsen<font color="#CCCCCC"> mckay occlusion who's talking</font>

3
00:00:09,960 --> 00:00:19,289
<font color="#CCCCCC">about bluetooth okay yes so this is a</font>

4
00:00:14,610 --> 00:00:20,730
talk on Bluetooth Low Energy yeah so

5
00:00:19,289 --> 00:00:22,289
this<font color="#E5E5E5"> is like if just a brief overview</font>

6
00:00:20,730 --> 00:00:23,820
first<font color="#CCCCCC"> I'm</font><font color="#E5E5E5"> going</font><font color="#CCCCCC"> to talk about bit about</font>

7
00:00:22,289 --> 00:00:25,109
classic Bluetooth just to sort of set

8
00:00:23,820 --> 00:00:28,349
some reference as to what it's actually

9
00:00:25,109 --> 00:00:31,859
<font color="#CCCCCC">low-energy about this and then i'll talk</font>

10
00:00:28,349 --> 00:00:36,480
about the when again hopefully<font color="#E5E5E5"> i'll have</font>

11
00:00:31,859 --> 00:00:38,550
time for some demos<font color="#CCCCCC"> okay so first of all</font>

12
00:00:36,480 --> 00:00:40,110
what is in this talk this is this is<font color="#CCCCCC"> not</font>

13
00:00:38,550 --> 00:00:41,519
a like a hard cock on Bluetooth Low

14
00:00:40,110 --> 00:00:43,800
Energy this is supposed to<font color="#E5E5E5"> give you an</font>

15
00:00:41,520 --> 00:00:46,110
idea of the the principles and<font color="#CCCCCC"> the like</font>

16
00:00:43,800 --> 00:00:47,430
it design decisions what are the goals

17
00:00:46,110 --> 00:00:49,469
that you're trying<font color="#E5E5E5"> to</font><font color="#CCCCCC"> achieve with this</font>

18
00:00:47,430 --> 00:00:53,699
talk and sort of give you an<font color="#E5E5E5"> idea of</font><font color="#CCCCCC"> the</font>

19
00:00:49,469 --> 00:00:55,469
rough ideas of like rough idea of how

20
00:00:53,699 --> 00:00:58,079
this is actually implemented<font color="#E5E5E5"> how this</font>

21
00:00:55,469 --> 00:01:00,000
works so what is<font color="#E5E5E5"> not as in this talk is</font>

22
00:00:58,079 --> 00:01:03,629
none<font color="#CCCCCC"> of the hosts stack and applications</font>

23
00:01:00,000 --> 00:01:05,129
aspect you would say<font color="#CCCCCC"> that this is</font>

24
00:01:03,629 --> 00:01:06,509
because it's sort of radio centered I'm

25
00:01:05,129 --> 00:01:09,420
not<font color="#E5E5E5"> going to talk about security or</font>

26
00:01:06,510 --> 00:01:13,170
competing technologies because i'm not

27
00:01:09,420 --> 00:01:17,159
very not familiar with them with these

28
00:01:13,170 --> 00:01:19,890
these aspects so<font color="#CCCCCC"> okay</font><font color="#E5E5E5"> so first of all</font>

29
00:01:17,159 --> 00:01:21,600
classic bluetooth so classic bluetooths

30
00:01:19,890 --> 00:01:25,409
operates in like the 2.4 gigahertz

31
00:01:21,600 --> 00:01:29,250
frequency spectrum just like your Wi-Fi

32
00:01:25,409 --> 00:01:31,619
and<font color="#E5E5E5"> that's full of stuff so it's a yeah</font>

33
00:01:29,250 --> 00:01:33,509
it's like 79 channels of<font color="#E5E5E5"> one megahertz</font>

34
00:01:31,619 --> 00:01:35,189
each and the connection to<font color="#E5E5E5"> apologies</font>

35
00:01:33,509 --> 00:01:37,079
like you can have a maximum of seven

36
00:01:35,189 --> 00:01:38,789
connections and they they're<font color="#CCCCCC"> all sort</font><font color="#E5E5E5"> of</font>

37
00:01:37,079 --> 00:01:42,419
connected to some sort of central master

38
00:01:38,790 --> 00:01:43,920
there's a bunch of<font color="#CCCCCC"> different versions of</font>

39
00:01:42,420 --> 00:01:46,229
classic bluetooth I've left to have some

40
00:01:43,920 --> 00:01:48,060
of the really old ones here so like the

41
00:01:46,229 --> 00:01:49,890
classic blue tooth has been with one

42
00:01:48,060 --> 00:01:52,560
megabit so 30 megabits or whatever

43
00:01:49,890 --> 00:01:55,079
depending on which stand on standard

44
00:01:52,560 --> 00:01:57,119
you're implementing so in in one ear

45
00:01:55,079 --> 00:01:59,460
sorry in two point oh we got the the new

46
00:01:57,119 --> 00:02:02,549
enhanced data rate which took bandwidth

47
00:01:59,460 --> 00:02:04,919
to 3 megabits and in<font color="#CCCCCC"> three-point oh they</font>

48
00:02:02,549 --> 00:02:06,750
implemented this scheme of being able<font color="#E5E5E5"> to</font>

49
00:02:04,920 --> 00:02:08,729
<font color="#CCCCCC">use what's called an alternate Mac</font><font color="#E5E5E5"> 5</font>

50
00:02:06,750 --> 00:02:10,500
which is basically this allows you to

51
00:02:08,729 --> 00:02:13,440
use Wi-Fi to do file transfers like

52
00:02:10,500 --> 00:02:16,620
offloading large data

53
00:02:13,440 --> 00:02:19,530
verse 22<font color="#E5E5E5"> y5 in practice nobody really</font>

54
00:02:16,620 --> 00:02:22,740
uses this in<font color="#E5E5E5"> four-point-oh which i think</font>

55
00:02:19,530 --> 00:02:26,190
<font color="#CCCCCC">came out in 2010 we got this new idea</font><font color="#E5E5E5"> of</font>

56
00:02:22,740 --> 00:02:28,320
the bluetooth low energy like aspect of

57
00:02:26,190 --> 00:02:29,730
this and there's a new spec<font color="#CCCCCC"> 5 point out</font>

58
00:02:28,320 --> 00:02:34,200
coming out which is<font color="#E5E5E5"> a bunch of</font>

59
00:02:29,730 --> 00:02:37,109
extensions to the le le spec which for

60
00:02:34,200 --> 00:02:41,160
instance like 2 megabits long range and

61
00:02:37,110 --> 00:02:43,110
some Direction finding scheme so<font color="#CCCCCC"> ok the</font>

62
00:02:41,160 --> 00:02:45,060
topologies in classic bluetooth is that

63
00:02:43,110 --> 00:02:46,620
yourself<font color="#E5E5E5"> you can have like a single</font>

64
00:02:45,060 --> 00:02:48,090
master in a single slave or you can have

65
00:02:46,620 --> 00:02:50,370
a single master which has a bunch of

66
00:02:48,090 --> 00:02:52,020
slaves or you can have like complex

67
00:02:50,370 --> 00:02:54,060
topologies where there's a bunch of

68
00:02:52,020 --> 00:02:56,310
masters which have a number of slaves

69
00:02:54,060 --> 00:02:58,590
associated with them and some of these

70
00:02:56,310 --> 00:03:01,590
masters are slaves on some links and

71
00:02:58,590 --> 00:03:03,330
masters on their own link there's this

72
00:03:01,590 --> 00:03:05,640
scheme<font color="#CCCCCC"> of the master repeating repeating</font>

73
00:03:03,330 --> 00:03:07,200
<font color="#CCCCCC">Lee pulling its slaves so just checking</font>

74
00:03:05,640 --> 00:03:09,149
do you have something for<font color="#E5E5E5"> me or here's</font>

75
00:03:07,200 --> 00:03:11,700
some data for you which means<font color="#E5E5E5"> there that</font>

76
00:03:09,150 --> 00:03:13,200
the slaves have to be be alive a lot of

77
00:03:11,700 --> 00:03:15,420
the time to be able<font color="#E5E5E5"> to respond to these</font>

78
00:03:13,200 --> 00:03:17,488
queries it's possible<font color="#CCCCCC"> to do role switch</font>

79
00:03:15,420 --> 00:03:19,019
that you become the mass from the

80
00:03:17,489 --> 00:03:20,760
linkage that master which means<font color="#CCCCCC"> that</font>

81
00:03:19,020 --> 00:03:23,550
sometimes you<font color="#E5E5E5"> can save a bit of power by</font>

82
00:03:20,760 --> 00:03:26,549
deciding when to actually do radio

83
00:03:23,550 --> 00:03:28,230
communication and this the whole<font color="#CCCCCC"> the</font>

84
00:03:26,550 --> 00:03:30,600
scheme for doing this device discovery

85
00:03:28,230 --> 00:03:33,988
and and and setting up connection is

86
00:03:30,600 --> 00:03:37,440
done through paging where the possible

87
00:03:33,989 --> 00:03:39,840
clients are required to every now and

88
00:03:37,440 --> 00:03:43,140
again go out and listen to listen for

89
00:03:39,840 --> 00:03:45,660
what is called paging for fairly long

90
00:03:43,140 --> 00:03:49,500
periods of time so this<font color="#CCCCCC"> is sort of</font><font color="#E5E5E5"> the</font>

91
00:03:45,660 --> 00:03:52,079
deep at the classic bluetooth<font color="#CCCCCC"> okay so</font>

92
00:03:49,500 --> 00:03:54,360
quickly about Bluetooth Low Energy it

93
00:03:52,080 --> 00:03:57,090
was originally developed at nokia under

94
00:03:54,360 --> 00:03:59,400
the name<font color="#E5E5E5"> of</font><font color="#CCCCCC"> library I was taken in by</font>

95
00:03:57,090 --> 00:04:01,200
the<font color="#E5E5E5"> Bluetooth special interest group and</font>

96
00:03:59,400 --> 00:04:03,000
they've tried<font color="#CCCCCC"> to use a lot of different</font>

97
00:04:01,200 --> 00:04:05,130
<font color="#E5E5E5">names for</font><font color="#CCCCCC"> it's so like Bluetooth Low</font>

98
00:04:03,000 --> 00:04:07,800
<font color="#CCCCCC">Energy low-energy Bluetooth le bluetooth</font>

99
00:04:05,130 --> 00:04:10,290
smart I<font color="#E5E5E5"> think there is even more names</font>

100
00:04:07,800 --> 00:04:13,620
but it's from a branding perspective

101
00:04:10,290 --> 00:04:18,180
this<font color="#CCCCCC"> is a bit confusing this yeah this</font>

102
00:04:13,620 --> 00:04:20,310
this is not very<font color="#E5E5E5"> success successful so</font>

103
00:04:18,180 --> 00:04:21,959
okay before we had more into bluetooth

104
00:04:20,310 --> 00:04:25,260
low and just<font color="#CCCCCC"> a brief detour about</font>

105
00:04:21,959 --> 00:04:26,609
sensors if we have like sensor<font color="#CCCCCC"> networks</font>

106
00:04:25,260 --> 00:04:29,159
we often have diff

107
00:04:26,610 --> 00:04:30,449
kinds of network topologies like we can

108
00:04:29,159 --> 00:04:32,520
have whereas<font color="#E5E5E5"> some something is</font>

109
00:04:30,449 --> 00:04:33,960
broadcasting it or you can have like

110
00:04:32,520 --> 00:04:36,180
something is just broadcasting the

111
00:04:33,960 --> 00:04:37,590
temperature is 50 degrees or you can

112
00:04:36,180 --> 00:04:39,659
have like point-to-point collection

113
00:04:37,590 --> 00:04:41,429
saying you set up a connection and<font color="#CCCCCC"> you</font>

114
00:04:39,659 --> 00:04:45,150
<font color="#CCCCCC">sort of sync to some device and you</font>

115
00:04:41,430 --> 00:04:47,310
repeatedly listen to a sensor update

116
00:04:45,150 --> 00:04:50,099
from this particular device orphans

117
00:04:47,310 --> 00:04:52,919
often sensors as a battery or power

118
00:04:50,099 --> 00:04:54,840
constrained because<font color="#CCCCCC"> they're I mean we</font>

119
00:04:52,919 --> 00:04:56,460
want them to be small because<font color="#CCCCCC"> because I</font>

120
00:04:54,840 --> 00:04:59,549
mean this makes them easy to<font color="#CCCCCC"> to put in</font>

121
00:04:56,460 --> 00:05:01,080
some place without like being a<font color="#E5E5E5"> it's I</font>

122
00:04:59,550 --> 00:05:02,879
mean this is it's useful if they're

123
00:05:01,080 --> 00:05:04,500
small you can put them everywhere and

124
00:05:02,879 --> 00:05:06,930
also<font color="#CCCCCC"> I</font><font color="#E5E5E5"> mean this makes them cheap to to</font>

125
00:05:04,500 --> 00:05:08,759
produce but this often puts a constraint

126
00:05:06,930 --> 00:05:10,469
in the battery size which means they can

127
00:05:08,759 --> 00:05:12,120
use a lot of<font color="#E5E5E5"> power because if they use a</font>

128
00:05:10,469 --> 00:05:15,120
lot of power the battery will drain in

129
00:05:12,120 --> 00:05:16,979
no time so this<font color="#CCCCCC"> is a I mean so there's</font>

130
00:05:15,120 --> 00:05:19,110
some physical constraints on on this

131
00:05:16,979 --> 00:05:21,060
whereas often when you<font color="#E5E5E5"> look at the the</font>

132
00:05:19,110 --> 00:05:23,099
<font color="#CCCCCC">data collections out of this this is</font>

133
00:05:21,060 --> 00:05:26,639
<font color="#CCCCCC">often centralized so you have some sort</font>

134
00:05:23,099 --> 00:05:28,139
of thing that<font color="#E5E5E5"> maybe connect a this is</font>

135
00:05:26,639 --> 00:05:30,569
often<font color="#CCCCCC"> may be placed inside your house</font>

136
00:05:28,139 --> 00:05:32,009
like your temperature which shows raise

137
00:05:30,569 --> 00:05:34,139
some display which shows but the

138
00:05:32,009 --> 00:05:36,330
temperatures outside or whatever and

139
00:05:34,139 --> 00:05:38,430
these<font color="#CCCCCC"> are often I mean they these are</font>

140
00:05:36,330 --> 00:05:39,750
maybe have a big batteries because

141
00:05:38,430 --> 00:05:41,430
there's some sort<font color="#CCCCCC"> of big screen on them</font>

142
00:05:39,750 --> 00:05:43,469
or maybe they were even connected to<font color="#E5E5E5"> the</font>

143
00:05:41,430 --> 00:05:47,819
electrical grid so they can these get to

144
00:05:43,469 --> 00:05:49,560
use a lot<font color="#CCCCCC"> of power so yeah and I mean</font>

145
00:05:47,819 --> 00:05:51,300
<font color="#CCCCCC">it's it's it's not as inconvenient</font>

146
00:05:49,560 --> 00:05:52,770
changing the batteries in<font color="#E5E5E5"> the units that</font>

147
00:05:51,300 --> 00:05:54,000
are inside your house then going out to

148
00:05:52,770 --> 00:05:55,919
to your<font color="#CCCCCC"> garden and finding whatever</font>

149
00:05:54,000 --> 00:05:59,219
wherever you put the the thermometer

150
00:05:55,919 --> 00:06:01,799
there but really I mean this is<font color="#CCCCCC"> not just</font>

151
00:05:59,219 --> 00:06:04,110
for sensor so I mean and whenever I say

152
00:06:01,800 --> 00:06:06,689
sends us in this this<font color="#E5E5E5"> is sort of an in</font>

153
00:06:04,110 --> 00:06:08,219
the ease of abstract sense this is

154
00:06:06,689 --> 00:06:10,710
<font color="#E5E5E5">something</font><font color="#CCCCCC"> that generates some dates and</font>

155
00:06:08,219 --> 00:06:15,060
something else wants to obtain this data

156
00:06:10,710 --> 00:06:17,878
<font color="#E5E5E5">okay so low power 101 how do I actually</font>

157
00:06:15,060 --> 00:06:19,529
achieve low power well first of all the

158
00:06:17,879 --> 00:06:21,900
ideas<font color="#E5E5E5"> you have low peak power whenever</font>

159
00:06:19,529 --> 00:06:25,620
we use the<font color="#E5E5E5"> most power we make sure this</font>

160
00:06:21,900 --> 00:06:27,479
<font color="#CCCCCC">is very</font><font color="#E5E5E5"> little we try to do fast</font>

161
00:06:25,620 --> 00:06:29,310
connections and I'll come back to this

162
00:06:27,479 --> 00:06:30,750
later<font color="#E5E5E5"> to say what this is if we can if</font>

163
00:06:29,310 --> 00:06:34,319
we can have a fast connection it means

164
00:06:30,750 --> 00:06:36,659
yet this has some nice properties and

165
00:06:34,319 --> 00:06:39,930
basically well fundamentally we've also

166
00:06:36,659 --> 00:06:42,240
want to do this so we have the maximum I

167
00:06:39,930 --> 00:06:44,580
sleep time the more time we can make our

168
00:06:42,240 --> 00:06:48,810
devices do absolutely nothing the less

169
00:06:44,580 --> 00:06:50,940
battery they will require so okay low

170
00:06:48,810 --> 00:06:52,830
peak power basically this<font color="#CCCCCC"> is because we</font>

171
00:06:50,940 --> 00:06:58,919
would like something to run off like I'm

172
00:06:52,830 --> 00:07:02,430
<font color="#CCCCCC">fine self at I have some small tokens</font>

173
00:06:58,919 --> 00:07:05,820
here which are like<font color="#E5E5E5"> okay so this is a</font>

174
00:07:02,430 --> 00:07:10,380
development board so this<font color="#E5E5E5"> is not a very</font>

175
00:07:05,820 --> 00:07:12,300
that's not a design which<font color="#CCCCCC"> is good for me</font>

176
00:07:10,380 --> 00:07:15,810
but anyway these are a small run off

177
00:07:12,300 --> 00:07:19,470
like a cr2032 and they can run off from

178
00:07:15,810 --> 00:07:23,880
<font color="#E5E5E5">a year or two and basically you can use</font>

179
00:07:19,470 --> 00:07:25,620
<font color="#E5E5E5">these for various purposes so these</font>

180
00:07:23,880 --> 00:07:28,740
devices run off a coin cell battery for

181
00:07:25,620 --> 00:07:30,539
a long period of time ok so in classic

182
00:07:28,740 --> 00:07:32,400
blusas there's this concept of<font color="#E5E5E5"> having a</font>

183
00:07:30,539 --> 00:07:34,889
power of classes where you could say<font color="#CCCCCC"> I'm</font>

184
00:07:32,400 --> 00:07:37,590
a power class where I can transmit up to

185
00:07:34,889 --> 00:07:40,560
this<font color="#E5E5E5"> this amount of power and business</font>

186
00:07:37,590 --> 00:07:42,599
somewhat complex scheme for<font color="#E5E5E5"> devices</font>

187
00:07:40,560 --> 00:07:44,610
trying to figure out whether to increase

188
00:07:42,599 --> 00:07:46,229
or decrease the<font color="#E5E5E5"> signal strength like if</font>

189
00:07:44,610 --> 00:07:49,949
someone is yelling you can tell them it

190
00:07:46,229 --> 00:07:53,280
like turn it<font color="#E5E5E5"> down a notch also low peak</font>

191
00:07:49,949 --> 00:07:55,620
power means we state that we would like

192
00:07:53,280 --> 00:07:59,549
a receive a sensitivity at a minus

193
00:07:55,620 --> 00:08:01,740
seventy DBM but really we expect a

194
00:07:59,550 --> 00:08:04,260
real-world devices to<font color="#CCCCCC"> be able</font><font color="#E5E5E5"> to work at</font>

195
00:08:01,740 --> 00:08:06,090
minus<font color="#CCCCCC"> ninety TPM so this means that the</font>

196
00:08:04,260 --> 00:08:08,699
the devices must be able<font color="#CCCCCC"> to</font><font color="#E5E5E5"> pick up</font>

197
00:08:06,090 --> 00:08:10,138
quite faint signals finally there's

198
00:08:08,699 --> 00:08:12,599
something in RF called the the

199
00:08:10,139 --> 00:08:15,930
modulation<font color="#E5E5E5"> index and for Ellie this is a</font>

200
00:08:12,599 --> 00:08:18,719
0.5 and for a classic<font color="#E5E5E5"> Bluetooth this is</font>

201
00:08:15,930 --> 00:08:21,990
zero point 25 basically this means that

202
00:08:18,720 --> 00:08:24,659
it's it's much easier<font color="#E5E5E5"> to distinguish a</font>

203
00:08:21,990 --> 00:08:26,940
<font color="#E5E5E5">zero from a one inkling in Le than it is</font>

204
00:08:24,659 --> 00:08:29,130
in classic bluetooth so this gives an

205
00:08:26,940 --> 00:08:30,960
increased robustness for a<font color="#E5E5E5"> given power</font>

206
00:08:29,130 --> 00:08:33,059
level I<font color="#E5E5E5"> mean and when you</font><font color="#CCCCCC"> have</font><font color="#E5E5E5"> increased</font>

207
00:08:30,960 --> 00:08:34,919
robustness this means that with that

208
00:08:33,059 --> 00:08:38,010
with the smaller<font color="#E5E5E5"> amount of power your</font>

209
00:08:34,919 --> 00:08:41,610
signal can be transferred on longer

210
00:08:38,010 --> 00:08:43,919
distances and still be able<font color="#E5E5E5"> to be picked</font>

211
00:08:41,610 --> 00:08:49,200
up correctly at the the other end of the

212
00:08:43,919 --> 00:08:53,189
connection so yeah so that's low<font color="#E5E5E5"> power</font>

213
00:08:49,200 --> 00:08:53,550
of fast connections so basically in<font color="#CCCCCC"> two</font>

214
00:08:53,190 --> 00:08:56,430
in<font color="#E5E5E5"> all</font>

215
00:08:53,550 --> 00:08:58,019
to do device discovery in in a classic

216
00:08:56,430 --> 00:08:59,969
bluetooth we have to go out<font color="#CCCCCC"> and listen</font>

217
00:08:58,019 --> 00:09:03,060
for paging for<font color="#E5E5E5"> 20 milliseconds at a time</font>

218
00:08:59,970 --> 00:09:04,920
whereas in sorry we have<font color="#CCCCCC"> to be sent out</font>

219
00:09:03,060 --> 00:09:07,500
paging packets for 20 milliseconds at a

220
00:09:04,920 --> 00:09:09,329
time whereas in<font color="#CCCCCC"> le what we do is call</font>

221
00:09:07,500 --> 00:09:11,700
advertising and we do this and<font color="#CCCCCC"> these</font>

222
00:09:09,330 --> 00:09:13,920
take down to two milliseconds in order

223
00:09:11,700 --> 00:09:15,600
<font color="#E5E5E5">to establish a connection and classic</font>

224
00:09:13,920 --> 00:09:18,029
<font color="#CCCCCC">Bluetooth you can have maybe some ham</font>

225
00:09:15,600 --> 00:09:20,190
this takes<font color="#E5E5E5"> on the order of maybe 100</font>

226
00:09:18,029 --> 00:09:22,230
milliseconds because you have<font color="#E5E5E5"> to complex</font>

227
00:09:20,190 --> 00:09:24,000
negotiation scheme whereas in Le there's

228
00:09:22,230 --> 00:09:27,120
a connection request which is over in<font color="#CCCCCC"> 1</font>

229
00:09:24,000 --> 00:09:29,279
millisecond and data transfer and<font color="#E5E5E5"> Ellie</font>

230
00:09:27,120 --> 00:09:32,610
is limited to taking three milliseconds

231
00:09:29,279 --> 00:09:35,070
at the time so this<font color="#CCCCCC"> is what we mean by</font>

232
00:09:32,610 --> 00:09:37,440
<font color="#E5E5E5">fast connections this is not fast as in</font>

233
00:09:35,070 --> 00:09:39,360
a lot<font color="#E5E5E5"> of bandwidth transferred at a time</font>

234
00:09:37,440 --> 00:09:42,120
this means that you have<font color="#E5E5E5"> your radio</font>

235
00:09:39,360 --> 00:09:43,890
turned on<font color="#CCCCCC"> you do your transmission</font>

236
00:09:42,120 --> 00:09:47,519
quickly so you<font color="#E5E5E5"> can quickly turn off your</font>

237
00:09:43,890 --> 00:09:49,680
radio ok finally maximizing sleep time

238
00:09:47,519 --> 00:09:52,860
so in it for classic<font color="#CCCCCC"> Bluetooth there's</font>

239
00:09:49,680 --> 00:09:55,109
<font color="#CCCCCC">four paging a does</font><font color="#E5E5E5"> this scheme would it</font>

240
00:09:52,860 --> 00:09:58,079
<font color="#E5E5E5">uses a 16 or 32 channels to jump around</font>

241
00:09:55,110 --> 00:09:59,579
<font color="#E5E5E5">and listen for paging whereas in their</font>

242
00:09:58,079 --> 00:10:02,819
bluetooth low energy use<font color="#CCCCCC"> three</font>

243
00:09:59,579 --> 00:10:04,560
advertising channels so basically<font color="#E5E5E5"> this</font>

244
00:10:02,820 --> 00:10:06,060
means that whereas in classic blues if

245
00:10:04,560 --> 00:10:08,880
you have your radio turned on for<font color="#E5E5E5"> 20</font>

246
00:10:06,060 --> 00:10:11,670
<font color="#E5E5E5">milliseconds in low-energy Bluetooth you</font>

247
00:10:08,880 --> 00:10:13,620
can have it turned on for maybe just 625

248
00:10:11,670 --> 00:10:16,709
or twelve hundred and 50 microseconds

249
00:10:13,620 --> 00:10:18,750
which is much less I mean all these

250
00:10:16,709 --> 00:10:21,119
things combined together means that the

251
00:10:18,750 --> 00:10:23,190
idle current of your your device is

252
00:10:21,120 --> 00:10:24,870
actually dominated by how much power

253
00:10:23,190 --> 00:10:26,790
does it use when it's<font color="#E5E5E5"> not doing anything</font>

254
00:10:24,870 --> 00:10:29,399
just<font color="#E5E5E5"> its sleep current because most of</font>

255
00:10:26,790 --> 00:10:31,949
the time it will<font color="#CCCCCC"> be</font><font color="#E5E5E5"> sleeping and this is</font>

256
00:10:29,399 --> 00:10:34,649
actually ideally suited for central

257
00:10:31,950 --> 00:10:36,720
applications because often sensors have

258
00:10:34,649 --> 00:10:38,640
a i'm not saying<font color="#E5E5E5"> always but often</font>

259
00:10:36,720 --> 00:10:40,199
sensors have a fairly low data

260
00:10:38,640 --> 00:10:42,060
transmission frequency like every hour

261
00:10:40,199 --> 00:10:45,479
your thermometer updates and says now

262
00:10:42,060 --> 00:10:47,099
it's two degrees celsius outside so

263
00:10:45,480 --> 00:10:49,500
basically<font color="#E5E5E5"> we want to make sure that the</font>

264
00:10:47,100 --> 00:10:52,350
device can use very little power for the

265
00:10:49,500 --> 00:10:54,750
remainder of of that our basically this

266
00:10:52,350 --> 00:10:57,690
means that the the amount<font color="#E5E5E5"> of current</font>

267
00:10:54,750 --> 00:10:59,699
that you're using when actually doing

268
00:10:57,690 --> 00:11:00,990
your radio transmission is it doesn't

269
00:10:59,699 --> 00:11:02,099
really matter in the picture picture

270
00:11:00,990 --> 00:11:03,420
because most of the time you're<font color="#E5E5E5"> not</font>

271
00:11:02,100 --> 00:11:06,360
going to be transmitting anything or

272
00:11:03,420 --> 00:11:08,099
receiving so this is<font color="#CCCCCC"> a</font>

273
00:11:06,360 --> 00:11:12,779
this is really one of<font color="#E5E5E5"> the big point of</font>

274
00:11:08,100 --> 00:11:14,760
<font color="#E5E5E5">the same sources of saving power ok so</font>

275
00:11:12,779 --> 00:11:16,800
the fundamentals of<font color="#E5E5E5"> bluetooth low energy</font>

276
00:11:14,760 --> 00:11:19,410
is that we have three modes of operation

277
00:11:16,800 --> 00:11:20,790
we have what is<font color="#CCCCCC"> called advertising and</font>

278
00:11:19,410 --> 00:11:23,010
scanning and then you can you can have

279
00:11:20,790 --> 00:11:24,480
connections these boats of operation

280
00:11:23,010 --> 00:11:26,730
used to be like partially mutually

281
00:11:24,480 --> 00:11:29,339
exclusive but I<font color="#E5E5E5"> think in the 4.1 SPECT</font>

282
00:11:26,730 --> 00:11:31,649
this was really these constraints we've

283
00:11:29,339 --> 00:11:33,540
removed but I mean these constraints are

284
00:11:31,649 --> 00:11:34,740
not<font color="#E5E5E5"> really relevant for sensor</font>

285
00:11:33,540 --> 00:11:36,779
applications at least on the on the

286
00:11:34,740 --> 00:11:38,700
<font color="#CCCCCC">center</font><font color="#E5E5E5"> side because typically you will</font>

287
00:11:36,779 --> 00:11:41,189
<font color="#E5E5E5">not be</font><font color="#CCCCCC"> doing all these things at the</font>

288
00:11:38,700 --> 00:11:42,660
same time so yeah it doesn't really

289
00:11:41,190 --> 00:11:44,550
matter if you get a four point no device

290
00:11:42,660 --> 00:11:48,719
it should still be fine for for doing

291
00:11:44,550 --> 00:11:50,310
<font color="#E5E5E5">various sensory implementations so okay</font>

292
00:11:48,720 --> 00:11:52,110
<font color="#E5E5E5">so first of all I'm going to talk about</font>

293
00:11:50,310 --> 00:11:54,149
connections connections are

294
00:11:52,110 --> 00:11:56,550
<font color="#CCCCCC">point-to-point</font><font color="#E5E5E5"> on a connection there's a</font>

295
00:11:54,149 --> 00:11:58,260
<font color="#CCCCCC">master and a slave and this there's</font><font color="#E5E5E5"> only</font>

296
00:11:56,550 --> 00:12:00,300
I mean we only<font color="#E5E5E5"> have these two entities</font>

297
00:11:58,260 --> 00:12:01,410
on the<font color="#E5E5E5"> connection whereas in classic</font>

298
00:12:00,300 --> 00:12:05,699
boot that you would have<font color="#CCCCCC"> a mass for an</font>

299
00:12:01,410 --> 00:12:07,769
up to 26 / 07 basically the key concepts

300
00:12:05,700 --> 00:12:09,329
that define this connection is we have

301
00:12:07,769 --> 00:12:11,730
something<font color="#CCCCCC"> called connection events and</font>

302
00:12:09,329 --> 00:12:14,160
we have something<font color="#CCCCCC"> called the</font><font color="#E5E5E5"> connection</font>

303
00:12:11,730 --> 00:12:16,230
interval essentially you should see the

304
00:12:14,160 --> 00:12:18,779
connection bluetooth low energy as some

305
00:12:16,230 --> 00:12:22,649
sort of recurring rendezvous with what<font color="#E5E5E5"> I</font>

306
00:12:18,779 --> 00:12:24,510
call Kwazii fixed periodicity but I

307
00:12:22,649 --> 00:12:27,029
guess in some sort of I mean some sense

308
00:12:24,510 --> 00:12:29,160
all connections<font color="#E5E5E5"> could be expressed to be</font>

309
00:12:27,029 --> 00:12:31,079
like<font color="#E5E5E5"> this so okay so what is this</font>

310
00:12:29,160 --> 00:12:34,260
connections event connection events are

311
00:12:31,079 --> 00:12:37,109
basically evenly spaced points in time

312
00:12:34,260 --> 00:12:38,699
and these<font color="#E5E5E5"> are</font><font color="#CCCCCC"> the only opportunities for</font>

313
00:12:37,110 --> 00:12:43,740
communications between the two devices

314
00:12:38,699 --> 00:12:46,260
involved on a on<font color="#E5E5E5"> a connection the</font>

315
00:12:43,740 --> 00:12:47,790
connection interval defines the the time

316
00:12:46,260 --> 00:12:50,939
between connection amends so basically

317
00:12:47,790 --> 00:12:52,199
the higher sorry the lower connection

318
00:12:50,940 --> 00:12:53,790
interval you have the more power you

319
00:12:52,199 --> 00:12:55,829
will be using because the more

320
00:12:53,790 --> 00:12:58,290
frequently you will be communicating

321
00:12:55,829 --> 00:13:00,000
<font color="#CCCCCC">with your peer device and the connection</font>

322
00:12:58,290 --> 00:13:02,010
interval can be a<font color="#E5E5E5"> from seven and a half</font>

323
00:13:00,000 --> 00:13:04,649
milliseconds up to four seconds and

324
00:13:02,010 --> 00:13:07,589
there's a granularity of one point 25

325
00:13:04,649 --> 00:13:09,029
milliseconds and once you've established

326
00:13:07,589 --> 00:13:11,070
the connection you can actually

327
00:13:09,029 --> 00:13:13,949
renegotiate this connection as well if

328
00:13:11,070 --> 00:13:15,300
you want<font color="#CCCCCC"> to</font><font color="#E5E5E5"> change this you can also do</font>

329
00:13:13,949 --> 00:13:16,680
something called slave late and see

330
00:13:15,300 --> 00:13:18,479
where the mastered<font color="#CCCCCC"> sells the slave</font>

331
00:13:16,680 --> 00:13:20,339
device that you don't<font color="#E5E5E5"> need to show up</font>

332
00:13:18,480 --> 00:13:22,680
every time you<font color="#E5E5E5"> get to show up maybe only</font>

333
00:13:20,339 --> 00:13:26,040
nine times out of ten or sorry at<font color="#CCCCCC"> 1</font>

334
00:13:22,680 --> 00:13:28,349
times out of<font color="#E5E5E5"> 10 or whatever so this</font>

335
00:13:26,040 --> 00:13:30,149
allows the slave to sort of

336
00:13:28,350 --> 00:13:32,009
opportunistically say<font color="#CCCCCC"> I'm not</font><font color="#E5E5E5"> going to</font>

337
00:13:30,149 --> 00:13:33,959
wake up now<font color="#E5E5E5"> because I'll just wake up</font>

338
00:13:32,009 --> 00:13:36,059
for the<font color="#E5E5E5"> following event because that way</font>

339
00:13:33,959 --> 00:13:37,888
I can save even more power or I can see

340
00:13:36,059 --> 00:13:39,719
that<font color="#E5E5E5"> for the past hour my temperature</font>

341
00:13:37,889 --> 00:13:41,220
has not been changing so I mean it's not

342
00:13:39,720 --> 00:13:45,029
going to change in the<font color="#CCCCCC"> next four seconds</font>

343
00:13:41,220 --> 00:13:46,110
anyway and it's also possible to sort of

344
00:13:45,029 --> 00:13:47,999
specify some sort of temporal

345
00:13:46,110 --> 00:13:49,439
displacement of connection events this

346
00:13:47,999 --> 00:13:50,939
allows you to align your your

347
00:13:49,439 --> 00:13:53,550
connections with other periodic

348
00:13:50,939 --> 00:13:55,980
activities suppose you're at device you

349
00:13:53,550 --> 00:13:57,990
only have one radio and you have maybe

350
00:13:55,980 --> 00:13:59,850
two connections so this allows you to

351
00:13:57,990 --> 00:14:01,949
make<font color="#E5E5E5"> sure that the connections are not</font>

352
00:13:59,850 --> 00:14:04,079
supposed to be serviced at<font color="#CCCCCC"> the same</font>

353
00:14:01,949 --> 00:14:05,969
point<font color="#E5E5E5"> in time because then you'll have</font>

354
00:14:04,079 --> 00:14:08,370
to skip connecting to either device but

355
00:14:05,970 --> 00:14:11,459
it also<font color="#E5E5E5"> means that you can align your</font>

356
00:14:08,370 --> 00:14:13,110
connection such that you turn on your

357
00:14:11,459 --> 00:14:16,469
radio you do the communication when you

358
00:14:13,110 --> 00:14:19,259
have<font color="#E5E5E5"> woken up to some other like in</font><font color="#CCCCCC"> in</font>

359
00:14:16,470 --> 00:14:20,910
<font color="#CCCCCC">in five minutes my my thermometer kicks</font>

360
00:14:19,259 --> 00:14:22,800
in and gives me an interrupt with some

361
00:14:20,910 --> 00:14:24,749
sort of temperature reading just make

362
00:14:22,800 --> 00:14:26,309
sure<font color="#CCCCCC"> that when that happens I'll be</font>

363
00:14:24,749 --> 00:14:27,509
doing my communication there as well

364
00:14:26,309 --> 00:14:29,670
because otherwise you'll<font color="#CCCCCC"> have to sleep</font>

365
00:14:27,509 --> 00:14:33,420
and wake up only to do radio community

366
00:14:29,670 --> 00:14:35,069
communication so I mean this is this

367
00:14:33,420 --> 00:14:37,050
basically allows you to make the

368
00:14:35,069 --> 00:14:40,079
connection happen sort of at the<font color="#CCCCCC"> point</font>

369
00:14:37,050 --> 00:14:42,209
in time which is<font color="#E5E5E5"> suitable to you so on</font>

370
00:14:40,079 --> 00:14:44,489
basically this<font color="#E5E5E5"> shows the the connection</font>

371
00:14:42,209 --> 00:14:46,829
we have a bunch of master slave sluts so

372
00:14:44,490 --> 00:14:49,199
first the master transmit it transmits

373
00:14:46,829 --> 00:14:51,809
and then there and during this point in

374
00:14:49,199 --> 00:14:54,120
time the slaves has this receiver turned

375
00:14:51,809 --> 00:14:56,429
on and then<font color="#E5E5E5"> if there's a hundred and</font>

376
00:14:54,120 --> 00:14:57,899
five a 50 micro second gap and then the

377
00:14:56,429 --> 00:15:00,329
master is listening and the slave<font color="#CCCCCC"> is</font>

378
00:14:57,899 --> 00:15:03,660
transmitting so in each in these two

379
00:15:00,329 --> 00:15:04,859
slots the device gets to you can hear

380
00:15:03,660 --> 00:15:05,939
whether the other guys there for

381
00:15:04,860 --> 00:15:07,649
instance<font color="#CCCCCC"> if the master is doing</font>

382
00:15:05,939 --> 00:15:09,389
<font color="#E5E5E5">something else the slave can hear that</font>

383
00:15:07,649 --> 00:15:11,129
<font color="#CCCCCC">okay the master wasn't there so he can</font>

384
00:15:09,389 --> 00:15:12,660
just go back<font color="#CCCCCC"> to</font><font color="#E5E5E5"> sleep and wait for the</font>

385
00:15:11,129 --> 00:15:16,829
next connection a connection event

386
00:15:12,660 --> 00:15:18,480
similarly if<font color="#CCCCCC"> the master doesn't get an</font>

387
00:15:16,829 --> 00:15:19,859
<font color="#CCCCCC">acknowledgement after he's done his</font>

388
00:15:18,480 --> 00:15:22,559
transmission the slave<font color="#CCCCCC"> is supposed to</font>

389
00:15:19,860 --> 00:15:23,790
acknowledge and sent back some data if

390
00:15:22,559 --> 00:15:25,230
the master doesn't hear from<font color="#E5E5E5"> the slave</font>

391
00:15:23,790 --> 00:15:27,809
there he knows that okay he's<font color="#CCCCCC"> not around</font>

392
00:15:25,230 --> 00:15:30,600
so he can<font color="#E5E5E5"> turn off his receiver early so</font>

393
00:15:27,809 --> 00:15:31,920
this is<font color="#CCCCCC"> basically basically an le</font>

394
00:15:30,600 --> 00:15:32,930
connection and there's some sort of

395
00:15:31,920 --> 00:15:34,520
fixed the

396
00:15:32,930 --> 00:15:37,910
X milliseconds connection interval

397
00:15:34,520 --> 00:15:39,319
between each of these connections and as

398
00:15:37,910 --> 00:15:40,819
I said these are the only point in time

399
00:15:39,320 --> 00:15:44,630
where these guys can actually

400
00:15:40,820 --> 00:15:47,029
communicate so if after like a<font color="#E5E5E5"> quarter</font>

401
00:15:44,630 --> 00:15:48,800
of X milliseconds the master realizes

402
00:15:47,029 --> 00:15:50,810
that he has stated that<font color="#E5E5E5"> he would really</font>

403
00:15:48,800 --> 00:15:52,760
like to send to the slave device well

404
00:15:50,810 --> 00:15:56,449
it's<font color="#CCCCCC"> just too bad because</font><font color="#E5E5E5"> he can't do it</font>

405
00:15:52,760 --> 00:15:58,189
<font color="#E5E5E5">until in</font><font color="#CCCCCC"> the next connection event so</font>

406
00:15:56,450 --> 00:16:00,589
these are when we do the data exchange

407
00:15:58,190 --> 00:16:02,930
and you can exchange 31 bytes in the

408
00:16:00,589 --> 00:16:04,279
<font color="#CCCCCC">four-point knows maybe this which is not</font>

409
00:16:02,930 --> 00:16:07,370
a lot<font color="#CCCCCC"> of data but friends for</font>

410
00:16:04,279 --> 00:16:10,520
temperature readings or precious sensors

411
00:16:07,370 --> 00:16:13,130
so heartbeat monitors or whatever this

412
00:16:10,520 --> 00:16:14,689
is I mean more than<font color="#CCCCCC"> enough data there's</font>

413
00:16:13,130 --> 00:16:19,100
an optional extension where you can<font color="#E5E5E5"> send</font>

414
00:16:14,690 --> 00:16:22,459
I think up to 255 bites and there's also

415
00:16:19,100 --> 00:16:24,140
a sort of a neat thing where if you have

416
00:16:22,459 --> 00:16:25,819
if you have<font color="#CCCCCC"> a connection</font><font color="#E5E5E5"> of any you can</font>

417
00:16:24,140 --> 00:16:27,260
<font color="#E5E5E5">see that</font><font color="#CCCCCC"> i have actually I've got 32</font>

418
00:16:25,820 --> 00:16:28,730
bytes that I would like<font color="#CCCCCC"> to</font><font color="#E5E5E5"> send to the</font>

419
00:16:27,260 --> 00:16:30,740
other guy instead of<font color="#E5E5E5"> having to wait</font>

420
00:16:28,730 --> 00:16:32,720
maybe four seconds until you get to send

421
00:16:30,740 --> 00:16:34,339
<font color="#E5E5E5">the final bite</font><font color="#CCCCCC"> thus this point where you</font>

422
00:16:32,720 --> 00:16:37,160
can set like what is called<font color="#CCCCCC"> the more</font>

423
00:16:34,339 --> 00:16:38,990
data bit in the header which means that

424
00:16:37,160 --> 00:16:40,910
<font color="#E5E5E5">you tell the other guy</font><font color="#CCCCCC"> that I have</font>

425
00:16:38,990 --> 00:16:43,100
actually got another I've got more data

426
00:16:40,910 --> 00:16:45,980
for you and that requests him to after

427
00:16:43,100 --> 00:16:47,779
after you have done your transmission

428
00:16:45,980 --> 00:16:49,940
you tell them that<font color="#E5E5E5"> you need to come</font><font color="#CCCCCC"> back</font>

429
00:16:47,779 --> 00:16:52,400
and listen again this<font color="#E5E5E5"> there's</font><font color="#CCCCCC"> no</font>

430
00:16:49,940 --> 00:16:54,770
obligation for the the peer device to

431
00:16:52,400 --> 00:16:56,870
come up<font color="#E5E5E5"> again but this I mean often the</font>

432
00:16:54,770 --> 00:17:02,870
device will have the<font color="#CCCCCC"> ability to to zone</font>

433
00:16:56,870 --> 00:17:05,089
so yeah so I mean<font color="#E5E5E5"> this</font><font color="#CCCCCC"> is a even though</font>

434
00:17:02,870 --> 00:17:06,709
we can set a fairly<font color="#E5E5E5"> a high connexion</font>

435
00:17:05,089 --> 00:17:08,750
interval so that we sleep for a long

436
00:17:06,709 --> 00:17:11,390
time and still get to<font color="#E5E5E5"> transfer a lot of</font>

437
00:17:08,750 --> 00:17:14,599
data all be somewhat slowly when we get

438
00:17:11,390 --> 00:17:19,220
to the connection<font color="#E5E5E5"> point so this is I</font>

439
00:17:14,599 --> 00:17:22,879
mean this is reasonably flexible<font color="#CCCCCC"> okay so</font>

440
00:17:19,220 --> 00:17:25,130
advertising basically advertising<font color="#E5E5E5"> is</font>

441
00:17:22,880 --> 00:17:27,319
where you configure your device to to

442
00:17:25,130 --> 00:17:30,650
broadcast a packet and then optionally

443
00:17:27,319 --> 00:17:32,570
wait for a response so these

444
00:17:30,650 --> 00:17:34,490
advertisement packets have three

445
00:17:32,570 --> 00:17:36,770
properties and I know there's four items

446
00:17:34,490 --> 00:17:38,660
on the list but today they can<font color="#E5E5E5"> be</font>

447
00:17:36,770 --> 00:17:41,510
directed which means that they can have

448
00:17:38,660 --> 00:17:43,190
a an address of the recipient on<font color="#E5E5E5"> it so</font>

449
00:17:41,510 --> 00:17:45,200
<font color="#E5E5E5">for instance I can put in I would like</font>

450
00:17:43,190 --> 00:17:46,169
this I'm transmitting this packet and

451
00:17:45,200 --> 00:17:47,759
it's supposed

452
00:17:46,169 --> 00:17:50,220
be my sports watch that's picking this

453
00:17:47,759 --> 00:17:51,600
up it can also<font color="#E5E5E5"> be connectable which</font>

454
00:17:50,220 --> 00:17:53,399
means that<font color="#E5E5E5"> someone can respond</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> this</font>

455
00:17:51,600 --> 00:17:55,439
and say<font color="#CCCCCC"> I would like to connect to you</font>

456
00:17:53,399 --> 00:17:59,100
and then finally<font color="#CCCCCC"> it can be scannable</font>

457
00:17:55,440 --> 00:18:01,019
where which which<font color="#CCCCCC"> is an indication where</font>

458
00:17:59,100 --> 00:18:02,459
it says you can ask me if I<font color="#E5E5E5"> have some</font>

459
00:18:01,019 --> 00:18:04,739
<font color="#E5E5E5">more data than what I've just</font><font color="#CCCCCC"> sent</font><font color="#E5E5E5"> out</font>

460
00:18:02,460 --> 00:18:06,480
finally in the 5 coin toss back you get

461
00:18:04,739 --> 00:18:07,980
the fourth property where you can say

462
00:18:06,480 --> 00:18:10,109
<font color="#E5E5E5">that it's anonymous so you can do a</font>

463
00:18:07,980 --> 00:18:11,789
transmission and it doesn't<font color="#E5E5E5"> have a like</font>

464
00:18:10,109 --> 00:18:13,859
it<font color="#E5E5E5"> doesn't say give give out your</font>

465
00:18:11,789 --> 00:18:15,690
address<font color="#E5E5E5"> so basically the other guy</font>

466
00:18:13,859 --> 00:18:17,309
doesn't<font color="#CCCCCC"> know who he might be connecting</font>

467
00:18:15,690 --> 00:18:20,700
to which the moments of this is or

468
00:18:17,309 --> 00:18:23,279
whatever there's a optionally you can

469
00:18:20,700 --> 00:18:26,519
put in some payload data as where you

470
00:18:23,279 --> 00:18:28,830
get up to 31 bytes which for instance

471
00:18:26,519 --> 00:18:30,779
could say that I'm a thermometer my name

472
00:18:28,830 --> 00:18:32,519
is Bob or whatever so<font color="#E5E5E5"> you could put in</font>

473
00:18:30,779 --> 00:18:34,590
stuff such the other devices know

474
00:18:32,519 --> 00:18:40,019
whether it might be relevant<font color="#E5E5E5"> to try to</font>

475
00:18:34,590 --> 00:18:43,949
connect to you<font color="#CCCCCC"> okay so the two primary</font>

476
00:18:40,019 --> 00:18:47,730
connection sorry configuration options

477
00:18:43,950 --> 00:18:50,879
for the advertising is you get to set up

478
00:18:47,730 --> 00:18:52,440
at the interval at which you do<font color="#E5E5E5"> this you</font>

479
00:18:50,879 --> 00:18:53,879
can also set up which of the three

480
00:18:52,440 --> 00:18:56,249
advertising channels you would like to

481
00:18:53,879 --> 00:19:01,109
use but normally you just use all of

482
00:18:56,249 --> 00:19:02,730
them yeah but the so<font color="#CCCCCC"> yeah the connection</font>

483
00:19:01,109 --> 00:19:04,320
<font color="#E5E5E5">is well basically means that if</font><font color="#CCCCCC"> you if</font>

484
00:19:02,730 --> 00:19:06,059
you think what<font color="#CCCCCC"> you're advertising</font><font color="#E5E5E5"> is</font>

485
00:19:04,320 --> 00:19:07,499
super important you do a very low

486
00:19:06,059 --> 00:19:09,090
connection interval which means you'll

487
00:19:07,499 --> 00:19:13,230
be<font color="#E5E5E5"> waking up frequently and you'll be</font>

488
00:19:09,090 --> 00:19:14,309
using a lot of power<font color="#CCCCCC"> as yeah so</font>

489
00:19:13,230 --> 00:19:16,379
<font color="#CCCCCC">basically this is whatever what</font>

490
00:19:14,309 --> 00:19:22,529
advertising looks like so we got first

491
00:19:16,379 --> 00:19:24,570
and advertising on channel 37 which is

492
00:19:22,529 --> 00:19:28,889
the first appetizing channel then one<font color="#CCCCCC"> on</font>

493
00:19:24,570 --> 00:19:33,658
and nothing happens after that then we

494
00:19:28,889 --> 00:19:35,369
have an appetizing channel on sorry

495
00:19:33,659 --> 00:19:37,200
we're advertising on channel 38 and

496
00:19:35,369 --> 00:19:38,759
finding one on 39 and then basically

497
00:19:37,200 --> 00:19:41,429
weird one with this once we've done

498
00:19:38,759 --> 00:19:43,919
these three advertising advertising we

499
00:19:41,429 --> 00:19:45,029
had we turn off the radio and maybe go

500
00:19:43,919 --> 00:19:49,739
back to sleep unless we have something

501
00:19:45,029 --> 00:19:51,179
else<font color="#E5E5E5"> to do yeah</font><font color="#CCCCCC"> I said earlier that you</font>

502
00:19:49,739 --> 00:19:56,609
could optionally wait for a response

503
00:19:51,179 --> 00:19:58,349
this is<font color="#CCCCCC"> because</font><font color="#E5E5E5"> you can ok so the kinds</font>

504
00:19:56,609 --> 00:19:59,669
<font color="#E5E5E5">of responses you can get us you can get</font>

505
00:19:58,349 --> 00:20:01,230
what is called a scan request

506
00:19:59,670 --> 00:20:02,940
and you only get this<font color="#CCCCCC"> you're only</font>

507
00:20:01,230 --> 00:20:04,920
supposed to get this if you have set

508
00:20:02,940 --> 00:20:07,830
that you're a scannable appetizer while

509
00:20:04,920 --> 00:20:09,330
you can get a connection<font color="#E5E5E5"> request so if</font>

510
00:20:07,830 --> 00:20:10,980
you get the scan request this basically

511
00:20:09,330 --> 00:20:13,020
means<font color="#E5E5E5"> that someone says I would like to</font>

512
00:20:10,980 --> 00:20:15,540
<font color="#E5E5E5">know</font><font color="#CCCCCC"> more and then you optionally can</font>

513
00:20:13,020 --> 00:20:17,430
send back a scan response which can be

514
00:20:15,540 --> 00:20:18,899
up to 31 bites and for<font color="#E5E5E5"> instance this</font>

515
00:20:17,430 --> 00:20:22,920
could<font color="#E5E5E5"> be</font><font color="#CCCCCC"> that your advertising saying</font>

516
00:20:18,900 --> 00:20:24,360
I'm a thermometer and then there's a the

517
00:20:22,920 --> 00:20:27,360
ideas that maybe you don't want to tell

518
00:20:24,360 --> 00:20:29,129
everybody which the moment<font color="#CCCCCC"> your is you</font>

519
00:20:27,360 --> 00:20:31,350
only do this extra transmission in case

520
00:20:29,130 --> 00:20:32,610
someone comes comes and tells you i

521
00:20:31,350 --> 00:20:34,409
would like<font color="#CCCCCC"> to know more than</font><font color="#E5E5E5"> you can</font>

522
00:20:32,610 --> 00:20:36,300
sort of save the save a bit of power by

523
00:20:34,410 --> 00:20:39,390
now they're transmitting all of it every

524
00:20:36,300 --> 00:20:41,220
time but you can also get<font color="#E5E5E5"> a</font><font color="#CCCCCC"> connection</font>

525
00:20:39,390 --> 00:20:44,010
request and if you get<font color="#CCCCCC"> a</font><font color="#E5E5E5"> connection</font>

526
00:20:41,220 --> 00:20:46,380
request you don't respond<font color="#CCCCCC"> to it</font><font color="#E5E5E5"> instead</font>

527
00:20:44,010 --> 00:20:47,490
it's you have a rendezvous in a<font color="#E5E5E5"> six</font>

528
00:20:46,380 --> 00:20:49,920
connection when it's basically the

529
00:20:47,490 --> 00:20:52,260
connection event the connection<font color="#E5E5E5"> request</font>

530
00:20:49,920 --> 00:20:54,420
tells you when to which ever<font color="#CCCCCC"> i mean</font>

531
00:20:52,260 --> 00:20:56,700
where to show up in<font color="#E5E5E5"> the radio spectrum</font>

532
00:20:54,420 --> 00:20:59,160
at which point in time and then you

533
00:20:56,700 --> 00:21:01,860
basically just say that the connection

534
00:20:59,160 --> 00:21:04,710
is started at this point in<font color="#CCCCCC"> time so this</font>

535
00:21:01,860 --> 00:21:06,179
<font color="#CCCCCC">is</font><font color="#E5E5E5"> what this is what this is a figure is</font>

536
00:21:04,710 --> 00:21:08,880
<font color="#CCCCCC">sony so first we have an advertisement</font>

537
00:21:06,180 --> 00:21:10,530
and nobody responds to this then we have

538
00:21:08,880 --> 00:21:12,570
another advertisement and somebody sends

539
00:21:10,530 --> 00:21:18,480
a scan request and then we respond<font color="#CCCCCC"> with</font>

540
00:21:12,570 --> 00:21:20,550
a scan of response one thing I forgot to

541
00:21:18,480 --> 00:21:24,030
mention is after sending one of<font color="#E5E5E5"> these</font>

542
00:21:20,550 --> 00:21:26,730
advertisement of requests we we wait<font color="#E5E5E5"> 150</font>

543
00:21:24,030 --> 00:21:28,080
sorry we send an advertisement we after

544
00:21:26,730 --> 00:21:30,630
sending one of these advertisements we

545
00:21:28,080 --> 00:21:33,060
wait 150 micro seconds and then we turn

546
00:21:30,630 --> 00:21:35,040
on our receiver if we want<font color="#CCCCCC"> to listen to</font>

547
00:21:33,060 --> 00:21:37,770
<font color="#E5E5E5">a response and if we</font><font color="#CCCCCC"> don't</font><font color="#E5E5E5"> hear anything</font>

548
00:21:35,040 --> 00:21:40,050
<font color="#E5E5E5">in 150 micro seconds we can turn it off</font>

549
00:21:37,770 --> 00:21:42,960
almost immediately because nobody is

550
00:21:40,050 --> 00:21:45,750
going to show up this it there's no I

551
00:21:42,960 --> 00:21:47,760
mean the<font color="#E5E5E5"> concept is that you show up 150</font>

552
00:21:45,750 --> 00:21:49,530
micro seconds after the advertisement

553
00:21:47,760 --> 00:21:51,930
and that's<font color="#E5E5E5"> your only chance if</font><font color="#CCCCCC"> you come</font>

554
00:21:49,530 --> 00:21:54,510
show up at 152 microseconds it's too

555
00:21:51,930 --> 00:21:56,910
late so basically this allows the guy

556
00:21:54,510 --> 00:21:59,160
who is advertising to determine when

557
00:21:56,910 --> 00:22:01,680
other people have the chance to<font color="#E5E5E5"> talk to</font>

558
00:21:59,160 --> 00:22:03,780
<font color="#E5E5E5">you so if i'm doing an advertisement to</font>

559
00:22:01,680 --> 00:22:06,030
<font color="#E5E5E5">say that I'm here you can connect to me</font>

560
00:22:03,780 --> 00:22:09,750
<font color="#CCCCCC">i get to decide when I would like to</font>

561
00:22:06,030 --> 00:22:11,760
listen for connection requests and this

562
00:22:09,750 --> 00:22:13,590
is the idea is that the guy who is

563
00:22:11,760 --> 00:22:15,570
trying to establish if the connection is

564
00:22:13,590 --> 00:22:17,490
for instance in the thermometer scenario

565
00:22:15,570 --> 00:22:20,129
that's<font color="#E5E5E5"> my big base station inside the</font>

566
00:22:17,490 --> 00:22:22,470
house so he gets to he gets to have his

567
00:22:20,130 --> 00:22:24,690
radio turned on and listen and<font color="#E5E5E5"> wait for</font>

568
00:22:22,470 --> 00:22:26,850
my advertisements and so this cost

569
00:22:24,690 --> 00:22:28,830
simple but I can be sleeping for maybe

570
00:22:26,850 --> 00:22:30,658
like four seconds<font color="#CCCCCC"> Everett's on them and</font>

571
00:22:28,830 --> 00:22:34,168
and before I do the radio<font color="#E5E5E5"> transmission</font>

572
00:22:30,659 --> 00:22:36,419
so I can I can the advertiser side gets

573
00:22:34,169 --> 00:22:38,039
to decide sort of how much power would

574
00:22:36,419 --> 00:22:42,360
he like to invest in having this

575
00:22:38,039 --> 00:22:44,908
connection established yeah so this is

576
00:22:42,360 --> 00:22:47,219
<font color="#E5E5E5">this is quite actually this is pretty</font>

577
00:22:44,909 --> 00:22:48,659
<font color="#E5E5E5">good to sign because you can you can be</font>

578
00:22:47,220 --> 00:22:50,640
very<font color="#E5E5E5"> aggressive about turning off your</font>

579
00:22:48,659 --> 00:22:52,830
radio because this you don't<font color="#CCCCCC"> have to</font>

580
00:22:50,640 --> 00:22:54,299
wait for maybe<font color="#E5E5E5"> 10 milliseconds or just</font>

581
00:22:52,830 --> 00:22:56,730
one millisecond for the guy to show up

582
00:22:54,299 --> 00:23:00,270
he has 150 min microseconds and that's

583
00:22:56,730 --> 00:23:01,679
it<font color="#CCCCCC"> okay so and anyway in this case we</font>

584
00:23:00,270 --> 00:23:05,250
have we do that précisément we rate

585
00:23:01,679 --> 00:23:07,500
150 micro seconds we get the scan

586
00:23:05,250 --> 00:23:09,059
request then we weighed 150 micro

587
00:23:07,500 --> 00:23:11,130
seconds again and then we do<font color="#CCCCCC"> the scan</font>

588
00:23:09,059 --> 00:23:12,750
response and then we're done he can't

589
00:23:11,130 --> 00:23:14,220
after the scan response he's not able<font color="#CCCCCC"> to</font>

590
00:23:12,750 --> 00:23:18,750
come<font color="#CCCCCC"> and say then</font><font color="#E5E5E5"> I would like</font><font color="#CCCCCC"> to</font>

591
00:23:14,220 --> 00:23:20,340
connect he<font color="#CCCCCC"> would he has to wait yes and</font>

592
00:23:18,750 --> 00:23:21,960
<font color="#E5E5E5">once we've done this so we go back</font><font color="#CCCCCC"> to</font>

593
00:23:20,340 --> 00:23:25,620
the<font color="#E5E5E5"> final advertising channel and then</font>

594
00:23:21,960 --> 00:23:28,020
we do the advertising there so this is

595
00:23:25,620 --> 00:23:29,939
<font color="#E5E5E5">the so this</font><font color="#CCCCCC"> is</font><font color="#E5E5E5"> the scenario where we</font>

596
00:23:28,020 --> 00:23:31,289
connect so we do an advertising and and

597
00:23:29,940 --> 00:23:33,570
nobody hears that we do the next

598
00:23:31,289 --> 00:23:35,129
advertising and then somebody hears this

599
00:23:33,570 --> 00:23:37,110
and waits the hundred and<font color="#E5E5E5"> 50</font>

600
00:23:35,130 --> 00:23:39,510
microseconds and since the connection

601
00:23:37,110 --> 00:23:42,209
connection<font color="#CCCCCC"> requests and that's it at</font>

602
00:23:39,510 --> 00:23:44,520
this point we<font color="#CCCCCC"> are connected so after</font>

603
00:23:42,210 --> 00:23:47,520
receiving the connection request and or

604
00:23:44,520 --> 00:23:49,168
sending it we basically<font color="#E5E5E5"> inform our hosts</font>

605
00:23:47,520 --> 00:23:51,750
tax upper layers that now we were

606
00:23:49,169 --> 00:23:53,820
connected to this guy because<font color="#E5E5E5"> the idea</font>

607
00:23:51,750 --> 00:23:56,159
is that normally this will this will

608
00:23:53,820 --> 00:23:57,960
actually succeed so there's no point in

609
00:23:56,159 --> 00:24:00,299
waiting and until we've heard<font color="#E5E5E5"> from the</font>

610
00:23:57,960 --> 00:24:02,820
<font color="#E5E5E5">other guy to to actually</font><font color="#CCCCCC"> get on with the</font>

611
00:24:00,299 --> 00:24:04,200
connection so<font color="#CCCCCC"> apuleius might have to do</font>

612
00:24:02,820 --> 00:24:08,370
some sort<font color="#CCCCCC"> of initialization or whatever</font>

613
00:24:04,200 --> 00:24:10,890
and they can do this<font color="#E5E5E5"> okay so scanning</font>

614
00:24:08,370 --> 00:24:12,899
I'm just check the time scanning is

615
00:24:10,890 --> 00:24:14,549
basically the opposite of advertising so

616
00:24:12,899 --> 00:24:17,250
this is<font color="#E5E5E5"> listening for advertisements and</font>

617
00:24:14,549 --> 00:24:19,440
you do this<font color="#E5E5E5"> in order to do to obtain the</font>

618
00:24:17,250 --> 00:24:21,120
advertisement data and you can do this

619
00:24:19,440 --> 00:24:23,520
in a passive or an active way I'll<font color="#E5E5E5"> get</font>

620
00:24:21,120 --> 00:24:26,370
back to<font color="#E5E5E5"> this or you can do this in order</font>

621
00:24:23,520 --> 00:24:27,510
to do the connection establishment so if

622
00:24:26,370 --> 00:24:30,239
<font color="#CCCCCC">we do the connection we stab</font>

623
00:24:27,510 --> 00:24:34,560
this is called initiation a sorry

624
00:24:30,240 --> 00:24:36,330
initiation so active versus passive

625
00:24:34,560 --> 00:24:39,210
scanning is basically whether you decide

626
00:24:36,330 --> 00:24:40,649
to respond to an advertisement with the

627
00:24:39,210 --> 00:24:43,920
scan<font color="#E5E5E5"> request so if you do active</font>

628
00:24:40,650 --> 00:24:45,330
scanning yes<font color="#CCCCCC"> you you you</font><font color="#E5E5E5"> sense can</font>

629
00:24:43,920 --> 00:24:48,120
request saying I would like<font color="#CCCCCC"> to</font><font color="#E5E5E5"> know more</font>

630
00:24:45,330 --> 00:24:49,379
and then you wait for a response so

631
00:24:48,120 --> 00:24:51,989
obviously if you don't really<font color="#E5E5E5"> care about</font>

632
00:24:49,380 --> 00:24:55,020
devices in detail you just do passive

633
00:24:51,990 --> 00:24:56,310
scanning and then you leave it up to

634
00:24:55,020 --> 00:24:57,870
upper layers to reconfigure to act

635
00:24:56,310 --> 00:25:00,060
active scanning if it looks like<font color="#CCCCCC"> it</font>

636
00:24:57,870 --> 00:25:02,129
might be starting to be relevant<font color="#E5E5E5"> and the</font>

637
00:25:00,060 --> 00:25:05,010
idea<font color="#E5E5E5"> is that you can also configure the</font>

638
00:25:02,130 --> 00:25:09,720
the scanning in test intensity simply by

639
00:25:05,010 --> 00:25:11,040
you<font color="#CCCCCC"> set up scanning into it into you</font>

640
00:25:09,720 --> 00:25:13,860
have two properties basically you have

641
00:25:11,040 --> 00:25:16,470
the scan interval and the scan window so

642
00:25:13,860 --> 00:25:18,929
that means the the scan interval is from

643
00:25:16,470 --> 00:25:21,330
two and a half mil a millisecond up to a

644
00:25:18,930 --> 00:25:23,160
ten-point 24 seconds so you can set up

645
00:25:21,330 --> 00:25:25,199
<font color="#CCCCCC">your scanner saying every ten point 24</font>

646
00:25:23,160 --> 00:25:28,050
seconds I would like<font color="#CCCCCC"> to</font><font color="#E5E5E5"> scan for a</font>

647
00:25:25,200 --> 00:25:29,790
window of<font color="#E5E5E5"> two-and-a-half millisecond or</font>

648
00:25:28,050 --> 00:25:31,290
you can say every two<font color="#E5E5E5"> and a half</font>

649
00:25:29,790 --> 00:25:33,149
milliseconds I want to scan for

650
00:25:31,290 --> 00:25:35,250
<font color="#E5E5E5">two-and-a-half milliseconds so you can</font>

651
00:25:33,150 --> 00:25:36,720
you basically get to decide how much

652
00:25:35,250 --> 00:25:38,280
time would you<font color="#CCCCCC"> like to spend scanning</font>

653
00:25:36,720 --> 00:25:40,380
and ultimately this means how much power

654
00:25:38,280 --> 00:25:43,200
would I like to use this there's a

655
00:25:40,380 --> 00:25:49,260
granularity in scanning of 625

656
00:25:43,200 --> 00:25:53,100
microseconds so yes the idea as I said

657
00:25:49,260 --> 00:25:56,940
<font color="#E5E5E5">at the</font><font color="#CCCCCC"> time is to offload the the the</font>

658
00:25:53,100 --> 00:25:59,699
intensive part of sorry the offloading

659
00:25:56,940 --> 00:26:02,130
the the aspect of connection

660
00:25:59,700 --> 00:26:04,260
establishment or finding the<font color="#E5E5E5"> Pierre</font>

661
00:26:02,130 --> 00:26:07,710
<font color="#E5E5E5">device to the device</font><font color="#CCCCCC"> that actually wants</font>

662
00:26:04,260 --> 00:26:09,570
to<font color="#E5E5E5"> find you because if you're if you're</font>

663
00:26:07,710 --> 00:26:10,800
one of these<font color="#E5E5E5"> devices you don't really</font>

664
00:26:09,570 --> 00:26:12,210
know<font color="#E5E5E5"> if there's anybody around that</font>

665
00:26:10,800 --> 00:26:13,830
would<font color="#E5E5E5"> actually like to connect to you so</font>

666
00:26:12,210 --> 00:26:16,620
why should you be listening all the time

667
00:26:13,830 --> 00:26:20,310
just to in case<font color="#E5E5E5"> somebody might want to</font>

668
00:26:16,620 --> 00:26:22,560
find<font color="#E5E5E5"> you so instead instead the design</font>

669
00:26:20,310 --> 00:26:24,030
is such that these guys decide when they

670
00:26:22,560 --> 00:26:25,560
would like others to have a chance<font color="#E5E5E5"> to</font>

671
00:26:24,030 --> 00:26:27,510
<font color="#E5E5E5">connect to them so</font><font color="#CCCCCC"> they can decide how</font>

672
00:26:25,560 --> 00:26:29,310
<font color="#E5E5E5">much power to invest in establishing a</font>

673
00:26:27,510 --> 00:26:32,040
connection but still the other side can

674
00:26:29,310 --> 00:26:33,570
also say I'm reasonably interested in

675
00:26:32,040 --> 00:26:35,430
scanning so i'll be doing this half the

676
00:26:33,570 --> 00:26:37,169
time or<font color="#CCCCCC"> i'm not very</font><font color="#E5E5E5"> interested in</font>

677
00:26:35,430 --> 00:26:38,659
scanning so<font color="#E5E5E5"> i'll do this like ten</font>

678
00:26:37,170 --> 00:26:43,489
percent of the time or<font color="#E5E5E5"> whatever</font>

679
00:26:38,659 --> 00:26:45,529
so okay<font color="#E5E5E5"> so once we're we're scanning and</font>

680
00:26:43,489 --> 00:26:47,809
we found somebody what do we do well

681
00:26:45,529 --> 00:26:49,519
<font color="#E5E5E5">basically if this is scanning a nut</font>

682
00:26:47,809 --> 00:26:52,639
connection establishment I mean we

683
00:26:49,519 --> 00:26:54,739
inform<font color="#CCCCCC"> Apuleius so in the upper liz you</font>

684
00:26:52,639 --> 00:26:56,238
get maybe some some data which was in

685
00:26:54,739 --> 00:26:58,489
the advertisement packet which they can

686
00:26:56,239 --> 00:27:00,289
inspect so the upper layer like the

687
00:26:58,489 --> 00:27:01,580
stack this could<font color="#E5E5E5"> be your cell phone you</font>

688
00:27:00,289 --> 00:27:03,859
can see that<font color="#CCCCCC"> okay there's a thermometer</font>

689
00:27:01,580 --> 00:27:06,139
around and I should try<font color="#E5E5E5"> to connect to it</font>

690
00:27:03,859 --> 00:27:09,559
but basically<font color="#E5E5E5"> they can just react to the</font>

691
00:27:06,139 --> 00:27:11,988
presence oh my the bluetooth<font color="#CCCCCC"> dongle</font>

692
00:27:09,559 --> 00:27:14,269
which is in my keychain has entered<font color="#CCCCCC"> the</font>

693
00:27:11,989 --> 00:27:15,799
area<font color="#E5E5E5"> I should probably try to connect it</font>

694
00:27:14,269 --> 00:27:18,409
or make it beep because it's been gone

695
00:27:15,799 --> 00:27:19,849
and I need to find<font color="#E5E5E5"> it and then when you</font>

696
00:27:18,409 --> 00:27:21,739
connect to<font color="#E5E5E5"> it you can send it at command</font>

697
00:27:19,849 --> 00:27:24,499
so it'll turn on some<font color="#E5E5E5"> bass or whatever</font>

698
00:27:21,739 --> 00:27:27,440
and also<font color="#E5E5E5"> when you do the scanning you</font>

699
00:27:24,499 --> 00:27:31,820
get the chip in forms of the<font color="#E5E5E5"> RSSI value</font>

700
00:27:27,440 --> 00:27:33,979
<font color="#CCCCCC">RSSI means received signal what is</font>

701
00:27:31,820 --> 00:27:36,200
received signal strength indication

702
00:27:33,979 --> 00:27:37,970
basically this is<font color="#E5E5E5"> some sort</font><font color="#CCCCCC"> of it tells</font>

703
00:27:36,200 --> 00:27:39,619
you how how loudly you had the peer

704
00:27:37,970 --> 00:27:41,779
device and<font color="#E5E5E5"> this can be used to get like</font>

705
00:27:39,619 --> 00:27:44,238
any idea<font color="#CCCCCC"> of the broth distance to the</font>

706
00:27:41,779 --> 00:27:45,769
other device and also<font color="#E5E5E5"> if the if you're</font>

707
00:27:44,239 --> 00:27:47,629
scanning repeatedly and you keep<font color="#E5E5E5"> seeing</font>

708
00:27:45,769 --> 00:27:50,539
the other device and the RSSI value

709
00:27:47,629 --> 00:27:52,309
changes from maybe minus 52 minus 80 you

710
00:27:50,539 --> 00:27:54,320
know<font color="#CCCCCC"> okay we're probably moving away</font>

711
00:27:52,309 --> 00:27:57,619
from each other so it gives you an idea

712
00:27:54,320 --> 00:28:01,070
of<font color="#E5E5E5"> the relative movement between the you</font>

713
00:27:57,619 --> 00:28:03,259
and the<font color="#E5E5E5"> peer device</font><font color="#CCCCCC"> okay so when you do</font>

714
00:28:01,070 --> 00:28:04,428
initialize initiation<font color="#E5E5E5"> you respond to the</font>

715
00:28:03,259 --> 00:28:06,109
advertisement with the connection

716
00:28:04,429 --> 00:28:08,179
request and then<font color="#CCCCCC"> immediately inform the</font>

717
00:28:06,109 --> 00:28:10,158
upper layers of the connection<font color="#E5E5E5"> the</font>

718
00:28:08,179 --> 00:28:12,019
master selects<font color="#E5E5E5"> the car the connection</font>

719
00:28:10,159 --> 00:28:14,179
<font color="#CCCCCC">parameters so basically the master can</font>

720
00:28:12,019 --> 00:28:18,470
say I want<font color="#E5E5E5"> to connect air with this</font>

721
00:28:14,179 --> 00:28:20,389
connection interval and so basically<font color="#E5E5E5"> the</font>

722
00:28:18,470 --> 00:28:23,690
master gets to<font color="#CCCCCC"> choose how frequently to</font>

723
00:28:20,389 --> 00:28:26,449
to communicate both sides can<font color="#E5E5E5"> change the</font>

724
00:28:23,690 --> 00:28:31,369
parameters afterwards in case the

725
00:28:26,450 --> 00:28:37,669
parameters are not to their liking okay

726
00:28:31,369 --> 00:28:39,590
so basically this was this was a<font color="#E5E5E5"> I guess</font>

727
00:28:37,669 --> 00:28:41,749
the the design ideas behind blue to the

728
00:28:39,590 --> 00:28:43,820
flow energy and how some of the low

729
00:28:41,749 --> 00:28:46,849
power of things low-power aspect is

730
00:28:43,820 --> 00:28:49,099
achieved so now I'll try to<font color="#E5E5E5"> do a demo</font>

731
00:28:46,849 --> 00:28:52,280
with I had<font color="#E5E5E5"> these two development kits</font>

732
00:28:49,099 --> 00:28:55,760
which are very unhandy cell phones and

733
00:28:52,280 --> 00:28:59,000
then I I have these tokens that I've

734
00:28:55,760 --> 00:29:00,410
turned on that I will see that I mean

735
00:28:59,000 --> 00:29:03,740
you can go<font color="#E5E5E5"> and search</font><font color="#CCCCCC"> for these and</font>

736
00:29:00,410 --> 00:29:07,040
it'll<font color="#CCCCCC"> show how frequently devices can be</font>

737
00:29:03,740 --> 00:29:09,920
found and yeah<font color="#E5E5E5"> okay so for this i'm</font>

738
00:29:07,040 --> 00:29:11,870
using a proprietary tool called apt

739
00:29:09,920 --> 00:29:13,760
Clive which is not related to picture

740
00:29:11,870 --> 00:29:17,330
and so it's a command line command line

741
00:29:13,760 --> 00:29:19,490
interface using which you can you can

742
00:29:17,330 --> 00:29:20,689
omit the like the low level control

743
00:29:19,490 --> 00:29:25,580
commands<font color="#CCCCCC"> to set up your</font><font color="#E5E5E5"> Bluetooth</font>

744
00:29:20,690 --> 00:29:27,410
control I think in a lot of cases you'll

745
00:29:25,580 --> 00:29:29,720
have some sort of<font color="#E5E5E5"> API which corresponds</font>

746
00:29:27,410 --> 00:29:31,670
exactly to these a these are<font color="#E5E5E5"> these</font>

747
00:29:29,720 --> 00:29:33,590
commands this tool is generally not

748
00:29:31,670 --> 00:29:36,020
available but I've the company that did

749
00:29:33,590 --> 00:29:37,459
it may have more or less intentionally

750
00:29:36,020 --> 00:29:41,870
leaked it so it might<font color="#CCCCCC"> be possible to</font>

751
00:29:37,460 --> 00:29:44,780
pick it up somewhere<font color="#CCCCCC"> okay okay</font><font color="#E5E5E5"> so in in</font>

752
00:29:41,870 --> 00:29:46,219
this right now I have two screens so one

753
00:29:44,780 --> 00:29:48,649
<font color="#CCCCCC">for each phone so I can try</font><font color="#E5E5E5"> to read the</font>

754
00:29:46,220 --> 00:29:52,730
blue bluetooth address on one and read

755
00:29:48,650 --> 00:29:54,830
it<font color="#E5E5E5"> on the other one</font><font color="#CCCCCC"> okay first i'll try</font>

756
00:29:52,730 --> 00:30:01,790
to set up a connection just using

757
00:29:54,830 --> 00:30:03,379
regular<font color="#E5E5E5"> bluetooth this sometimes takes</font>

758
00:30:01,790 --> 00:30:06,530
awhile and sometimes it's reasonably

759
00:30:03,380 --> 00:30:08,270
fast but this is a this is a very simple

760
00:30:06,530 --> 00:30:10,490
a connection so often often there's a

761
00:30:08,270 --> 00:30:12,050
lot of negotiation on top of this for

762
00:30:10,490 --> 00:30:16,400
anyway it's<font color="#CCCCCC"> connait establishing the</font>

763
00:30:12,050 --> 00:30:17,899
connection and now it is yeah i think it

764
00:30:16,400 --> 00:30:19,460
was connect now so this took like I

765
00:30:17,900 --> 00:30:25,040
don't<font color="#E5E5E5"> know maybe a second or so I'll</font>

766
00:30:19,460 --> 00:30:26,780
just disconnect this whoops I'll try<font color="#CCCCCC"> to</font>

767
00:30:25,040 --> 00:30:31,610
set up an le connection instead and

768
00:30:26,780 --> 00:30:34,490
hopefully<font color="#E5E5E5"> I mean if I what I've said is</font>

769
00:30:31,610 --> 00:30:40,459
true this is a bit faster than the other

770
00:30:34,490 --> 00:30:42,590
thing<font color="#CCCCCC"> which ok so I'm connecting now ok</font>

771
00:30:40,460 --> 00:30:46,100
to connect it so this was much faster I

772
00:30:42,590 --> 00:30:49,429
<font color="#E5E5E5">can try to send these connection try to</font>

773
00:30:46,100 --> 00:30:52,219
send some data across and so this<font color="#E5E5E5"> also</font>

774
00:30:49,430 --> 00:30:54,230
came across quite quickly it says when

775
00:30:52,220 --> 00:30:56,510
the connection<font color="#CCCCCC"> comes up that on this</font>

776
00:30:54,230 --> 00:30:58,160
connection this this device is at the

777
00:30:56,510 --> 00:31:01,190
slave device it has<font color="#CCCCCC"> a connection</font>

778
00:30:58,160 --> 00:31:03,530
interval of 148 and I must admit I don't

779
00:31:01,190 --> 00:31:04,730
recall but the unit is I<font color="#E5E5E5"> think it might</font>

780
00:31:03,530 --> 00:31:08,540
<font color="#E5E5E5">be</font>

781
00:31:04,730 --> 00:31:11,510
625 micro second slots but I'm not<font color="#CCCCCC"> sure</font>

782
00:31:08,540 --> 00:31:14,090
anyway so this<font color="#CCCCCC"> is a reasonably</font>

783
00:31:11,510 --> 00:31:18,230
aggressive connection these communicated

784
00:31:14,090 --> 00:31:23,120
fairly often I can try to disconnect it

785
00:31:18,230 --> 00:31:25,190
again and then I can try to make this

786
00:31:23,120 --> 00:31:26,629
it's so right what I've set up<font color="#E5E5E5"> now is</font>

787
00:31:25,190 --> 00:31:28,370
I've told the one device to try to

788
00:31:26,630 --> 00:31:30,620
connect to the other device again the

789
00:31:28,370 --> 00:31:32,719
device that<font color="#E5E5E5"> was just connected</font><font color="#CCCCCC"> to but</font>

790
00:31:30,620 --> 00:31:34,760
the<font color="#E5E5E5"> other device is not advertising so</font>

791
00:31:32,720 --> 00:31:36,080
but now I'll turn on the advertising on

792
00:31:34,760 --> 00:31:38,179
<font color="#CCCCCC">the other device and we should see that</font>

793
00:31:36,080 --> 00:31:41,330
reasonably quickly the connection comes

794
00:31:38,179 --> 00:31:43,280
up<font color="#CCCCCC"> ok it's already up so basically my</font>

795
00:31:41,330 --> 00:31:45,439
finger<font color="#CCCCCC"> is still touching the return key</font>

796
00:31:43,280 --> 00:31:47,178
so this<font color="#CCCCCC"> is</font><font color="#E5E5E5"> how fast connection</font>

797
00:31:45,440 --> 00:31:49,970
establishment is so this means if you're

798
00:31:47,179 --> 00:31:53,270
a thermometer<font color="#E5E5E5"> you can basically do</font>

799
00:31:49,970 --> 00:31:54,770
nothing go out<font color="#CCCCCC"> and scan find the other</font>

800
00:31:53,270 --> 00:31:56,330
device and connect and then disconnect

801
00:31:54,770 --> 00:31:58,129
again or the other device can do this so

802
00:31:56,330 --> 00:32:03,110
<font color="#E5E5E5">I mean</font><font color="#CCCCCC"> because the connections happen</font>

803
00:31:58,130 --> 00:32:04,610
this fast I mean it you don't really

804
00:32:03,110 --> 00:32:07,010
<font color="#E5E5E5">need to establish a connection in</font>

805
00:32:04,610 --> 00:32:09,020
advance but you can't do<font color="#E5E5E5"> it if this is</font>

806
00:32:07,010 --> 00:32:11,390
convenient I mean this basically you get

807
00:32:09,020 --> 00:32:14,000
to choose this in your in your

808
00:32:11,390 --> 00:32:15,230
application if also this a as i said in

809
00:32:14,000 --> 00:32:17,179
classic bluetooth there's this scheme

810
00:32:15,230 --> 00:32:18,740
where you and<font color="#E5E5E5"> the master can change a</font>

811
00:32:17,179 --> 00:32:21,740
can trade places so you become the

812
00:32:18,740 --> 00:32:25,010
master there's nothing<font color="#E5E5E5"> like this in le</font>

813
00:32:21,740 --> 00:32:27,559
but if<font color="#E5E5E5"> these guys wanted to to turn off</font>

814
00:32:25,010 --> 00:32:30,260
the connection sorry to do a role switch

815
00:32:27,559 --> 00:32:31,850
it's much simpler to just disconnect and

816
00:32:30,260 --> 00:32:33,200
let the other<font color="#E5E5E5"> guys do an advertisement</font>

817
00:32:31,850 --> 00:32:35,360
and then you connect back to him because

818
00:32:33,200 --> 00:32:38,150
it's just<font color="#CCCCCC"> so</font><font color="#E5E5E5"> fast so</font><font color="#CCCCCC"> i have complicated</font>

819
00:32:35,360 --> 00:32:46,010
rules for for<font color="#E5E5E5"> doing to enroll switches</font>

820
00:32:38,150 --> 00:32:48,710
ok so now<font color="#E5E5E5"> just now I'll</font><font color="#CCCCCC"> just demonstrate</font>

821
00:32:46,010 --> 00:32:53,900
scanning which is not for for connection

822
00:32:48,710 --> 00:32:55,820
establishment so let me<font color="#CCCCCC"> just</font><font color="#E5E5E5"> I'll just</font>

823
00:32:53,900 --> 00:32:57,410
do this on this device so now i'm using

824
00:32:55,820 --> 00:32:58,668
<font color="#E5E5E5">this is not one command this is a</font>

825
00:32:57,410 --> 00:33:01,190
command which sets up scanning with

826
00:32:58,669 --> 00:33:02,780
<font color="#E5E5E5">fairly aggressive scanning parameters</font>

827
00:33:01,190 --> 00:33:06,020
and then we should be<font color="#E5E5E5"> able to see that</font>

828
00:33:02,780 --> 00:33:09,980
some devices show up ok so these are

829
00:33:06,020 --> 00:33:11,360
these tokens that show<font color="#E5E5E5"> up</font><font color="#CCCCCC"> i can stop the</font>

830
00:33:09,980 --> 00:33:14,480
scanning so just so we can see<font color="#CCCCCC"> what it</font>

831
00:33:11,360 --> 00:33:15,799
<font color="#CCCCCC">is so basically what we can see this is</font>

832
00:33:14,480 --> 00:33:17,940
a what is called as an advertising

833
00:33:15,799 --> 00:33:20,820
report basically this says that

834
00:33:17,940 --> 00:33:22,620
I have this is an<font color="#E5E5E5"> event from the</font>

835
00:33:20,820 --> 00:33:26,549
controller saying<font color="#CCCCCC"> I've found someone</font>

836
00:33:22,620 --> 00:33:28,379
else<font color="#CCCCCC"> I've found some device this is see</font>

837
00:33:26,549 --> 00:33:30,960
you here which means<font color="#CCCCCC"> that this is a</font>

838
00:33:28,379 --> 00:33:32,879
advertise that we could<font color="#E5E5E5"> have connected</font>

839
00:33:30,960 --> 00:33:34,110
to<font color="#E5E5E5"> as a could have responded with the</font>

840
00:33:32,879 --> 00:33:38,820
<font color="#E5E5E5">connection request and</font><font color="#CCCCCC"> established a</font>

841
00:33:34,110 --> 00:33:40,678
<font color="#CCCCCC">connection the address type is it's this</font>

842
00:33:38,820 --> 00:33:43,350
device has made this transmission using

843
00:33:40,679 --> 00:33:46,350
its public address so it's the address

844
00:33:43,350 --> 00:33:48,209
which is<font color="#E5E5E5"> in a in the packet is actually</font>

845
00:33:46,350 --> 00:33:50,129
the one which is widened there in the in

846
00:33:48,210 --> 00:33:51,539
the rom on the chip and finally there's

847
00:33:50,129 --> 00:33:54,570
some days in here which says this is a

848
00:33:51,539 --> 00:33:57,539
csr<font color="#E5E5E5"> a security token and finally the</font>

849
00:33:54,570 --> 00:34:01,289
received signal strength is minus 80 TPM

850
00:33:57,539 --> 00:34:02,669
which is not very<font color="#E5E5E5"> good given that they</font>

851
00:34:01,289 --> 00:34:04,980
are lying here but these are development

852
00:34:02,669 --> 00:34:07,980
kits which don't have trimmed radio so I

853
00:34:04,980 --> 00:34:10,649
mean we should really expect real well I

854
00:34:07,980 --> 00:34:15,060
<font color="#E5E5E5">mean like product like performance from</font>

855
00:34:10,649 --> 00:34:18,239
these so I'll just restart the scanning

856
00:34:15,060 --> 00:34:21,599
and then i'll try<font color="#E5E5E5"> to set up the the</font>

857
00:34:18,239 --> 00:34:23,009
advertiser on the other side so<font color="#E5E5E5"> i do</font>

858
00:34:21,599 --> 00:34:26,730
this then we can see that<font color="#E5E5E5"> the other guys</font>

859
00:34:23,010 --> 00:34:29,730
advertising pretty a pretty frequently

860
00:34:26,730 --> 00:34:36,929
and then i can stop it again and then

861
00:34:29,730 --> 00:34:38,639
immediately<font color="#E5E5E5"> it stops so so if we look at</font>

862
00:34:36,929 --> 00:34:40,918
this suddenly we start seeing these

863
00:34:38,639 --> 00:34:42,780
advertising reports show up much quicker

864
00:34:40,918 --> 00:34:46,949
and<font color="#E5E5E5"> much more frequently than the tokens</font>

865
00:34:42,780 --> 00:34:49,260
that's because the command<font color="#CCCCCC"> imbues i've</font>

866
00:34:46,949 --> 00:34:50,699
used is to is intended for setting up

867
00:34:49,260 --> 00:34:53,609
connections and this is<font color="#E5E5E5"> not these</font>

868
00:34:50,699 --> 00:34:57,750
<font color="#E5E5E5">devices are not power constraint so if i</font>

869
00:34:53,609 --> 00:35:00,960
do this scanning again and i start

870
00:34:57,750 --> 00:35:07,020
scanning over here and then i can try to

871
00:35:00,960 --> 00:35:08,160
change the data just oops i just<font color="#E5E5E5"> send</font>

872
00:35:07,020 --> 00:35:11,420
out a bunch of<font color="#E5E5E5"> phase and this should</font>

873
00:35:08,160 --> 00:35:11,420
show up in the data

874
00:35:15,450 --> 00:35:27,720
okay me okay that's<font color="#E5E5E5"> some back here I</font>

875
00:35:26,040 --> 00:35:29,310
don't know with the tool<font color="#CCCCCC"> anyway we</font><font color="#E5E5E5"> can</font>

876
00:35:27,720 --> 00:35:33,598
see that<font color="#E5E5E5"> the signal strength from the</font>

877
00:35:29,310 --> 00:35:37,799
<font color="#E5E5E5">chief phone devices is like minus 38 dbm</font>

878
00:35:33,599 --> 00:35:39,900
so this is reasonably good i mean yeah i

879
00:35:37,800 --> 00:35:41,579
don't<font color="#CCCCCC"> i don't know why but</font><font color="#E5E5E5"> i think</font><font color="#CCCCCC"> there</font>

880
00:35:39,900 --> 00:35:49,920
<font color="#E5E5E5">may be the radios on these tokens are</font>

881
00:35:41,579 --> 00:35:53,520
not very<font color="#E5E5E5"> good I don't know so I</font><font color="#CCCCCC"> think</font>

882
00:35:49,920 --> 00:35:57,960
this was this was all I wanted<font color="#E5E5E5"> to</font>

883
00:35:53,520 --> 00:36:00,060
demonstrate so okay moving on in case

884
00:35:57,960 --> 00:36:01,500
<font color="#E5E5E5">there's any singers out there so if you</font>

885
00:36:00,060 --> 00:36:03,930
want to Hardware this<font color="#E5E5E5"> it seems like</font>

886
00:36:01,500 --> 00:36:06,270
<font color="#E5E5E5">there's a plethora of devices which have</font>

887
00:36:03,930 --> 00:36:09,419
controllers from Nordic semi these are

888
00:36:06,270 --> 00:36:11,550
the NRF some numbers<font color="#E5E5E5"> at chips they seem</font>

889
00:36:09,420 --> 00:36:13,050
to be everywhere see I seem to have some

890
00:36:11,550 --> 00:36:17,400
sort of chip which people also use for

891
00:36:13,050 --> 00:36:19,440
for making these like a arduino stuff

892
00:36:17,400 --> 00:36:22,500
that I've seen<font color="#E5E5E5"> the apart from red pair</font>

893
00:36:19,440 --> 00:36:24,990
red pair lap a dub a dub fruit has some

894
00:36:22,500 --> 00:36:26,280
devices not there's like a twenty-dollar

895
00:36:24,990 --> 00:36:28,709
bought from seat and you can get

896
00:36:26,280 --> 00:36:31,410
<font color="#CCCCCC">ibeacons</font><font color="#E5E5E5"> which are basically small</font>

897
00:36:28,710 --> 00:36:33,540
devices<font color="#CCCCCC"> I mean</font><font color="#E5E5E5"> actually an ibeacon is</font>

898
00:36:31,410 --> 00:36:36,420
something<font color="#E5E5E5"> like this just</font><font color="#CCCCCC"> with some</font><font color="#E5E5E5"> apple</font>

899
00:36:33,540 --> 00:36:38,550
<font color="#E5E5E5">apple</font><font color="#CCCCCC"> defined protocol in</font><font color="#E5E5E5"> the data that</font>

900
00:36:36,420 --> 00:36:40,920
<font color="#E5E5E5">is transmitted so I mean you can get a</font>

901
00:36:38,550 --> 00:36:42,720
bunch of stuff most I<font color="#E5E5E5"> think most cell</font>

902
00:36:40,920 --> 00:36:45,089
phones today will have le support so<font color="#CCCCCC"> you</font>

903
00:36:42,720 --> 00:36:46,649
can I mean you might be able<font color="#E5E5E5"> to pick up</font>

904
00:36:45,089 --> 00:36:52,109
the signals from these tokens just using

905
00:36:46,650 --> 00:36:57,650
your cell phone yeah so that's basically

906
00:36:52,109 --> 00:37:04,308
any questions yep

907
00:36:57,650 --> 00:37:07,039
yes so basically a pairing is handled

908
00:37:04,309 --> 00:37:08,779
using okay so okay so the questions is

909
00:37:07,039 --> 00:37:13,849
about pairing in classic bluetooth

910
00:37:08,779 --> 00:37:16,490
pairing is done using like<font color="#E5E5E5"> link level</font>

911
00:37:13,849 --> 00:37:17,779
commands but in in in<font color="#CCCCCC"> le this</font><font color="#E5E5E5"> is done</font>

912
00:37:16,490 --> 00:37:19,578
using a higher level command so you

913
00:37:17,779 --> 00:37:21,109
establish a connection and you send data

914
00:37:19,579 --> 00:37:25,609
packets back and forth saying<font color="#E5E5E5"> I would</font>

915
00:37:21,109 --> 00:37:27,078
like to to do a parent with you and then

916
00:37:25,609 --> 00:37:28,609
I think when once you've done<font color="#E5E5E5"> the</font>

917
00:37:27,079 --> 00:37:30,619
pairing you use some low-level commands

918
00:37:28,609 --> 00:37:33,920
<font color="#E5E5E5">to set up your link saying now it's</font>

919
00:37:30,619 --> 00:37:36,020
encrypted start using these keys pairing

920
00:37:33,920 --> 00:37:38,240
this<font color="#E5E5E5"> on a level on</font><font color="#CCCCCC"> its</font><font color="#E5E5E5"> it's higher up</font>

921
00:37:36,020 --> 00:37:44,599
than what I normally do so the details

922
00:37:38,240 --> 00:37:49,209
are a bit sketchy to me so okay there's

923
00:37:44,599 --> 00:37:49,210
no more questions okay<font color="#CCCCCC"> one question</font>

924
00:38:04,260 --> 00:38:10,110
<font color="#E5E5E5">okay so the question is what would I</font>

925
00:38:08,430 --> 00:38:12,149
mean<font color="#CCCCCC"> software-wise what is a good</font>

926
00:38:10,110 --> 00:38:13,800
starting<font color="#E5E5E5"> point i think the the Nordic</font>

927
00:38:12,150 --> 00:38:15,330
ports<font color="#CCCCCC"> I haven't had</font><font color="#E5E5E5"> a chance to use them</font>

928
00:38:13,800 --> 00:38:18,420
yet but I<font color="#CCCCCC"> think they're actually quite</font>

929
00:38:15,330 --> 00:38:20,370
cool because basically what<font color="#E5E5E5"> I think what</font>

930
00:38:18,420 --> 00:38:23,340
you do is they give you some library and

931
00:38:20,370 --> 00:38:24,779
then you<font color="#E5E5E5"> you build an application which</font>

932
00:38:23,340 --> 00:38:26,580
you linked with this library and then

933
00:38:24,780 --> 00:38:28,170
you program it directly to<font color="#E5E5E5"> onto their</font>

934
00:38:26,580 --> 00:38:31,529
controller so their control is like a

935
00:38:28,170 --> 00:38:32,880
seems like a<font color="#E5E5E5"> an IOT style controller</font>

936
00:38:31,530 --> 00:38:34,200
where you put an application on to the

937
00:38:32,880 --> 00:38:36,120
actual controllers who don't you don't

938
00:38:34,200 --> 00:38:38,850
need to have a lot of you don't need an

939
00:38:36,120 --> 00:38:40,859
extra process of whatever to to do this

940
00:38:38,850 --> 00:38:48,330
but I haven't had a chance to<font color="#E5E5E5"> use them</font>

941
00:38:40,860 --> 00:38:50,220
myself ok so that's last question just

942
00:38:48,330 --> 00:38:51,690
thanks for<font color="#E5E5E5"> listening and feel free</font><font color="#CCCCCC"> to</font>

943
00:38:50,220 --> 00:38:56,480
come and say hi if you want to some sort

944
00:38:51,690 --> 00:38:56,480
of demo or whatever yeah that's all

