1
00:00:04,819 --> 00:00:11,219
welcome<font color="#CCCCCC"> in Chile Peter</font><font color="#E5E5E5"> welcome</font><font color="#CCCCCC"> to Peter</font>

2
00:00:08,940 --> 00:00:16,740
<font color="#E5E5E5">that will give us a tale of software</font>

3
00:00:11,219 --> 00:00:19,169
<font color="#CCCCCC">quality in the cloud thanks a lot</font><font color="#E5E5E5"> thanks</font>

4
00:00:16,740 --> 00:00:22,049
for coming and things to<font color="#E5E5E5"> Mike for</font>

5
00:00:19,170 --> 00:00:24,090
introducing me<font color="#CCCCCC"> yeah</font><font color="#E5E5E5"> so this presentation</font>

6
00:00:22,050 --> 00:00:28,380
<font color="#E5E5E5">is on the software quality in the cloud</font>

7
00:00:24,090 --> 00:00:32,820
and it's sort of<font color="#CCCCCC"> tales from the</font><font color="#E5E5E5"> trenches</font>

8
00:00:28,380 --> 00:00:36,660
thing so<font color="#E5E5E5"> basically I've been repeatedly</font>

9
00:00:32,820 --> 00:00:38,579
<font color="#CCCCCC">ranting on IRC about some troubles I've</font>

10
00:00:36,660 --> 00:00:42,750
been having with<font color="#CCCCCC"> the AWS and in that</font>

11
00:00:38,579 --> 00:00:48,270
<font color="#CCCCCC">regard I was</font><font color="#E5E5E5"> told that it would make for</font>

12
00:00:42,750 --> 00:00:52,170
<font color="#CCCCCC">a good subject</font><font color="#E5E5E5"> so yeah so I'll give a</font>

13
00:00:48,270 --> 00:00:53,309
presentation<font color="#CCCCCC"> overview now first I'll</font>

14
00:00:52,170 --> 00:00:56,910
give a little<font color="#E5E5E5"> bit</font><font color="#CCCCCC"> of background about</font>

15
00:00:53,309 --> 00:01:00,500
myself<font color="#E5E5E5"> and then some of my motivation</font>

16
00:00:56,910 --> 00:01:05,640
for<font color="#E5E5E5"> having for making this presentation</font>

17
00:01:00,500 --> 00:01:08,430
<font color="#E5E5E5">then I'll talk about service we we run</font>

18
00:01:05,640 --> 00:01:15,619
in<font color="#CCCCCC"> production in at the company I work</font>

19
00:01:08,430 --> 00:01:15,619
for<font color="#E5E5E5"> called donkey</font><font color="#CCCCCC"> where we were really</font>

20
00:01:17,000 --> 00:01:22,740
reinstalling problem and in December

21
00:01:19,850 --> 00:01:25,830
2017 we started<font color="#E5E5E5"> getting reports of</font>

22
00:01:22,740 --> 00:01:30,509
<font color="#E5E5E5">crippling performance and that coincided</font>

23
00:01:25,830 --> 00:01:34,829
with HTTP to enabling<font color="#E5E5E5"> so and so this</font>

24
00:01:30,509 --> 00:01:36,720
talk<font color="#CCCCCC"> is about how we we I did a lot of</font>

25
00:01:34,829 --> 00:01:39,298
analysis to try<font color="#E5E5E5"> to uncover the</font>

26
00:01:36,720 --> 00:01:41,640
<font color="#CCCCCC">underlying problem and we ended</font><font color="#E5E5E5"> up</font>

27
00:01:39,299 --> 00:01:46,560
<font color="#E5E5E5">paying premium support at a premium</font><font color="#CCCCCC"> by</font>

28
00:01:41,640 --> 00:01:50,310
not receiving any so I<font color="#E5E5E5"> turned to blog</font>

29
00:01:46,560 --> 00:01:52,710
posting and<font color="#CCCCCC"> then that way</font><font color="#E5E5E5"> we actually</font>

30
00:01:50,310 --> 00:01:57,390
<font color="#E5E5E5">managed</font><font color="#CCCCCC"> to have our problem it's</font>

31
00:01:52,710 --> 00:01:58,949
<font color="#CCCCCC">priority</font><font color="#E5E5E5"> escalate</font><font color="#CCCCCC"> and then yeah by</font><font color="#E5E5E5"> the</font>

32
00:01:57,390 --> 00:02:02,070
<font color="#E5E5E5">end of the talk I'll</font><font color="#CCCCCC"> talk a</font><font color="#E5E5E5"> little bit</font>

33
00:01:58,950 --> 00:02:06,020
about the aftermath<font color="#E5E5E5"> of the</font>

34
00:02:02,070 --> 00:02:09,869
<font color="#CCCCCC">acknowledgment and and outlook on</font>

35
00:02:06,020 --> 00:02:12,880
<font color="#E5E5E5">resolution problem resolution so Who am</font>

36
00:02:09,869 --> 00:02:14,860
<font color="#E5E5E5">I my name is Peter Forsberg</font>

37
00:02:12,880 --> 00:02:17,680
<font color="#E5E5E5">you can find me on IRC under the</font>

38
00:02:14,860 --> 00:02:21,400
<font color="#E5E5E5">nickname</font><font color="#CCCCCC"> PTR F and I'm on Twitter</font><font color="#E5E5E5"> I'm</font>

39
00:02:17,680 --> 00:02:23,560
not really that active but there is some

40
00:02:21,400 --> 00:02:26,440
work-related<font color="#E5E5E5"> stuff including a link</font><font color="#CCCCCC"> to</font>

41
00:02:23,560 --> 00:02:28,080
the medium<font color="#E5E5E5"> post that made the basis for</font>

42
00:02:26,440 --> 00:02:30,490
this presentation

43
00:02:28,080 --> 00:02:34,420
so yeah I'm Peter Forsberg on<font color="#E5E5E5"> Twitter</font>

44
00:02:30,490 --> 00:02:37,270
and professionally<font color="#E5E5E5"> I'm employed at a</font>

45
00:02:34,420 --> 00:02:41,040
company<font color="#E5E5E5"> in Denmark called shotgun and in</font>

46
00:02:37,270 --> 00:02:46,900
copening<font color="#E5E5E5"> I'm a peg</font><font color="#CCCCCC"> and engineer so</font>

47
00:02:41,040 --> 00:02:51,880
<font color="#E5E5E5">shotgun is one of the sponsors here</font><font color="#CCCCCC"> they</font>

48
00:02:46,900 --> 00:02:55,060
<font color="#E5E5E5">provided the run</font><font color="#CCCCCC"> I think the truck for</font>

49
00:02:51,880 --> 00:02:58,960
transportation and previous<font color="#E5E5E5"> years has</font>

50
00:02:55,060 --> 00:03:00,400
been<font color="#E5E5E5"> fridges</font><font color="#CCCCCC"> so I think there's only</font><font color="#E5E5E5"> one</font>

51
00:02:58,960 --> 00:03:03,550
<font color="#E5E5E5">this might be</font><font color="#CCCCCC"> something I need to</font><font color="#E5E5E5"> update</font>

52
00:03:00,400 --> 00:03:05,140
but so we were<font color="#E5E5E5"> supposed to have a my</font>

53
00:03:03,550 --> 00:03:08,080
colleague<font color="#CCCCCC"> Yorkie was supposed to talk</font>

54
00:03:05,140 --> 00:03:11,109
about Cuban eats and and then on Monday

55
00:03:08,080 --> 00:03:13,360
Monday afternoon my the seats your

56
00:03:11,110 --> 00:03:15,430
shotgun will<font color="#E5E5E5"> come</font><font color="#CCCCCC"> Morten you will come</font>

57
00:03:13,360 --> 00:03:19,090
and talk about<font color="#E5E5E5"> algorithmically inspired</font>

58
00:03:15,430 --> 00:03:21,610
design and that should be rather

59
00:03:19,090 --> 00:03:26,380
<font color="#CCCCCC">interesting</font><font color="#E5E5E5"> so</font><font color="#CCCCCC"> I recommend</font><font color="#E5E5E5"> going there</font>

60
00:03:21,610 --> 00:03:28,180
<font color="#E5E5E5">but but just so you know this I'm not</font>

61
00:03:26,380 --> 00:03:29,710
<font color="#CCCCCC">really</font><font color="#E5E5E5"> presenting on behalf of my</font>

62
00:03:28,180 --> 00:03:32,560
company<font color="#CCCCCC"> like I'm here as a private</font>

63
00:03:29,710 --> 00:03:35,500
<font color="#E5E5E5">person</font><font color="#CCCCCC"> I didn't even get a sponsorship</font>

64
00:03:32,560 --> 00:03:40,570
ticket so but that<font color="#CCCCCC"> was me being ahead of</font>

65
00:03:35,500 --> 00:03:44,290
<font color="#E5E5E5">my time so yeah</font><font color="#CCCCCC"> so continued I'm from</font>

66
00:03:40,570 --> 00:03:46,329
Copenhagen as I mentioned I've been<font color="#E5E5E5"> at</font>

67
00:03:44,290 --> 00:03:49,630
porn<font color="#E5E5E5"> heck since the first one I was</font>

68
00:03:46,330 --> 00:03:51,490
<font color="#CCCCCC">actually here in</font><font color="#E5E5E5"> October 2015 when we</font>

69
00:03:49,630 --> 00:03:54,600
surveyed<font color="#CCCCCC"> Yahoo's</font><font color="#E5E5E5"> go and we decided</font><font color="#CCCCCC"> to</font>

70
00:03:51,490 --> 00:03:58,450
<font color="#E5E5E5">have this place I was part of that</font><font color="#CCCCCC"> trip</font>

71
00:03:54,600 --> 00:04:00,609
but then only<font color="#E5E5E5"> been engaged on</font><font color="#CCCCCC"> the on the</font>

72
00:03:58,450 --> 00:04:03,459
outside<font color="#E5E5E5"> since then</font>

73
00:04:00,610 --> 00:04:06,270
helping out and this year I'm a member

74
00:04:03,459 --> 00:04:12,970
of<font color="#CCCCCC"> away team and hacker jeopardy</font>

75
00:04:06,270 --> 00:04:16,329
so Heaven's Gate<font color="#E5E5E5"> away team not the Star</font>

76
00:04:12,970 --> 00:04:19,510
Trek<font color="#E5E5E5"> one and then I'm a member of dining</font>

77
00:04:16,329 --> 00:04:22,270
cloth and so dining club<font color="#E5E5E5"> I will I will</font>

78
00:04:19,510 --> 00:04:23,020
<font color="#E5E5E5">probably give a lightning talk about</font>

79
00:04:22,270 --> 00:04:24,609
that later

80
00:04:23,020 --> 00:04:28,840
it's<font color="#E5E5E5"> interesting subject and we cook</font>

81
00:04:24,610 --> 00:04:31,270
some good<font color="#E5E5E5"> food so obviously moving on to</font>

82
00:04:28,840 --> 00:04:34,560
a motivation like obviously because this

83
00:04:31,270 --> 00:04:37,000
<font color="#E5E5E5">is something I've</font><font color="#CCCCCC"> worked with this is</font>

84
00:04:34,560 --> 00:04:40,629
occupationally<font color="#E5E5E5"> rooted some of my</font>

85
00:04:37,000 --> 00:04:42,610
motivation so I say<font color="#E5E5E5"> I thought a long</font>

86
00:04:40,629 --> 00:04:45,580
time about<font color="#CCCCCC"> how to write this slide and I</font>

87
00:04:42,610 --> 00:04:48,629
would<font color="#E5E5E5"> just say that cloud services can</font>

88
00:04:45,580 --> 00:04:51,520
be<font color="#E5E5E5"> construed as an occupational hazard</font>

89
00:04:48,629 --> 00:04:54,430
<font color="#CCCCCC">so what do you want to do you want to</font>

90
00:04:51,520 --> 00:04:58,710
implement<font color="#CCCCCC"> scalable API services</font><font color="#E5E5E5"> meaning</font>

91
00:04:54,430 --> 00:05:04,750
<font color="#CCCCCC">that you want to handle peak demands of</font>

92
00:04:58,710 --> 00:05:07,539
requests<font color="#CCCCCC"> of Ben</font><font color="#E5E5E5"> even</font><font color="#CCCCCC"> yeah</font><font color="#E5E5E5"> sorry you want</font>

93
00:05:04,750 --> 00:05:09,750
<font color="#E5E5E5">to be able to handle a</font><font color="#CCCCCC"> lot</font><font color="#E5E5E5"> of requests</font>

94
00:05:07,539 --> 00:05:13,630
<font color="#E5E5E5">and you want to not be able you want to</font>

95
00:05:09,750 --> 00:05:17,199
not<font color="#E5E5E5"> look into how the physical part</font>

96
00:05:13,630 --> 00:05:19,840
works<font color="#CCCCCC"> you've you're a company you</font>

97
00:05:17,199 --> 00:05:23,440
already do some open<font color="#E5E5E5"> source development</font>

98
00:05:19,840 --> 00:05:26,349
<font color="#CCCCCC">and particularly we do it in in Erlang</font>

99
00:05:23,440 --> 00:05:29,050
<font color="#E5E5E5">and the open</font><font color="#CCCCCC"> silicon platform which is</font>

100
00:05:26,349 --> 00:05:30,699
<font color="#CCCCCC">the standard library</font><font color="#E5E5E5"> furling and that's</font>

101
00:05:29,050 --> 00:05:34,050
what we sort<font color="#E5E5E5"> of specialize in so we</font>

102
00:05:30,699 --> 00:05:37,180
don't<font color="#CCCCCC"> really deal with with the</font>

103
00:05:34,050 --> 00:05:39,909
intricacies<font color="#CCCCCC"> of managing servers</font><font color="#E5E5E5"> and so</font>

104
00:05:37,180 --> 00:05:41,740
it's a business decision to<font color="#E5E5E5"> delegate</font>

105
00:05:39,909 --> 00:05:44,500
<font color="#CCCCCC">that responsibility to a company such as</font>

106
00:05:41,740 --> 00:05:48,669
AWS will you pay<font color="#E5E5E5"> for a service</font><font color="#CCCCCC"> that is</font>

107
00:05:44,500 --> 00:05:51,279
<font color="#E5E5E5">intended to solve this generic</font><font color="#CCCCCC"> problem</font>

108
00:05:48,669 --> 00:05:53,469
rather than<font color="#CCCCCC"> the specific</font><font color="#E5E5E5"> problem at hand</font>

109
00:05:51,279 --> 00:05:57,130
which<font color="#CCCCCC"> is what is</font><font color="#E5E5E5"> your business case so</font>

110
00:05:53,469 --> 00:06:00,610
<font color="#E5E5E5">this is the context</font><font color="#CCCCCC"> for us having it's</font>

111
00:05:57,130 --> 00:06:05,080
not a choice<font color="#E5E5E5"> that I made</font><font color="#CCCCCC"> obviously or</font>

112
00:06:00,610 --> 00:06:09,630
maybe not<font color="#E5E5E5"> but yeah we're focusing on the</font>

113
00:06:05,080 --> 00:06:13,479
specifics here when at our company<font color="#E5E5E5"> and</font>

114
00:06:09,630 --> 00:06:17,469
so AWS provides as a means of delimiting

115
00:06:13,479 --> 00:06:19,150
<font color="#E5E5E5">our efforts to only focus</font><font color="#CCCCCC"> on that</font><font color="#E5E5E5"> and or</font>

116
00:06:17,469 --> 00:06:22,000
at least that's<font color="#E5E5E5"> the that's</font><font color="#CCCCCC"> the claim</font>

117
00:06:19,150 --> 00:06:24,068
here that<font color="#E5E5E5"> we're sort of contesting so my</font>

118
00:06:22,000 --> 00:06:27,310
personal<font color="#CCCCCC"> motivation as I mentioned</font>

119
00:06:24,069 --> 00:06:30,219
before<font color="#E5E5E5"> I was told by when I was renting</font>

120
00:06:27,310 --> 00:06:32,979
<font color="#CCCCCC">an RC</font><font color="#E5E5E5"> I was told about how this would</font>

121
00:06:30,219 --> 00:06:36,430
make a good software good talk so yeah

122
00:06:32,979 --> 00:06:36,990
so when when I look at<font color="#E5E5E5"> it like most of</font>

123
00:06:36,430 --> 00:06:41,199
my

124
00:06:36,990 --> 00:06:43,689
most of<font color="#CCCCCC"> my hiking</font><font color="#E5E5E5"> is is in relation to</font>

125
00:06:41,199 --> 00:06:45,279
work and so this is sort<font color="#E5E5E5"> of like</font>

126
00:06:43,689 --> 00:06:49,569
insights from line from a<font color="#E5E5E5"> nine-to-five</font>

127
00:06:45,279 --> 00:06:52,389
<font color="#E5E5E5">and as well a case study and problem</font>

128
00:06:49,569 --> 00:06:56,589
identification and analysis in like a

129
00:06:52,389 --> 00:07:00,129
workplace<font color="#E5E5E5"> environment</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> think for some</font>

130
00:06:56,589 --> 00:07:04,479
<font color="#CCCCCC">year they're not so</font><font color="#E5E5E5"> much into</font>

131
00:07:00,129 --> 00:07:06,789
programming in in an Occupational

132
00:07:04,479 --> 00:07:08,860
<font color="#CCCCCC">setting some may be working</font><font color="#E5E5E5"> on open</font>

133
00:07:06,789 --> 00:07:12,639
source projects but this<font color="#E5E5E5"> is rather</font>

134
00:07:08,860 --> 00:07:16,330
<font color="#E5E5E5">specific to the</font><font color="#CCCCCC"> tasks you are delegated</font>

135
00:07:12,639 --> 00:07:18,490
to do at work<font color="#E5E5E5"> so and so it's also a</font>

136
00:07:16,330 --> 00:07:21,219
little<font color="#CCCCCC"> bit</font><font color="#E5E5E5"> of</font><font color="#CCCCCC"> a commentary</font><font color="#E5E5E5"> of how no</font>

137
00:07:18,490 --> 00:07:23,259
<font color="#E5E5E5">matter what fancy</font><font color="#CCCCCC"> cloud buzzwords</font><font color="#E5E5E5"> you</font>

138
00:07:21,219 --> 00:07:26,649
know whatever you throw at<font color="#CCCCCC"> me</font><font color="#E5E5E5"> like</font>

139
00:07:23,259 --> 00:07:30,069
there's still software<font color="#E5E5E5"> it can</font><font color="#CCCCCC"> still be</font>

140
00:07:26,649 --> 00:07:36,069
<font color="#CCCCCC">broken and like it's just</font><font color="#E5E5E5"> fixing it</font>

141
00:07:30,069 --> 00:07:37,779
never gonna be improved by just<font color="#E5E5E5"> thinking</font>

142
00:07:36,069 --> 00:07:39,909
about oh<font color="#CCCCCC"> let's put</font><font color="#E5E5E5"> everything in the</font>

143
00:07:37,779 --> 00:07:41,709
cloud let's reduce the issues you're

144
00:07:39,909 --> 00:07:45,759
still gonna have a lot<font color="#CCCCCC"> of issues</font><font color="#E5E5E5"> and so</font>

145
00:07:41,709 --> 00:07:50,919
this is a particular case study<font color="#E5E5E5"> of one</font>

146
00:07:45,759 --> 00:07:54,039
of<font color="#E5E5E5"> those problems</font><font color="#CCCCCC"> so okay moving</font><font color="#E5E5E5"> on</font><font color="#CCCCCC"> I'd</font>

147
00:07:50,919 --> 00:07:55,899
like to talk about<font color="#E5E5E5"> donkey which is the</font>

148
00:07:54,039 --> 00:07:57,399
assets<font color="#E5E5E5"> upload service that I mentioned</font>

149
00:07:55,899 --> 00:08:01,199
before<font color="#E5E5E5"> so this is a software service</font>

150
00:07:57,399 --> 00:08:03,789
<font color="#E5E5E5">that I've been implementing and it's</font>

151
00:08:01,199 --> 00:08:07,749
it's really<font color="#E5E5E5"> simple actually</font>

152
00:08:03,789 --> 00:08:13,709
we have<font color="#E5E5E5"> shotgun for those of you who</font>

153
00:08:07,749 --> 00:08:18,430
<font color="#E5E5E5">don't know the company is a we are a</font>

154
00:08:13,709 --> 00:08:21,999
free to use service for people in

155
00:08:18,430 --> 00:08:25,180
Denmark Norway Sweden Netherlands and

156
00:08:21,999 --> 00:08:27,699
Poland<font color="#E5E5E5"> and you are we index offer</font>

157
00:08:25,180 --> 00:08:31,029
<font color="#E5E5E5">catalogs making you able to search for</font>

158
00:08:27,699 --> 00:08:33,699
offers and search<font color="#E5E5E5"> and look at what</font>

159
00:08:31,029 --> 00:08:39,578
<font color="#CCCCCC">catalogues and hear your buy</font><font color="#E5E5E5"> catalog I</font>

160
00:08:33,698 --> 00:08:41,889
mean like NATO<font color="#E5E5E5"> Buick hair or the Caliph</font>

161
00:08:39,578 --> 00:08:43,989
or if you're more internationally

162
00:08:41,889 --> 00:08:47,949
inclined<font color="#E5E5E5"> but yeah so grocery shopping</font>

163
00:08:43,990 --> 00:08:49,990
supermarkets<font color="#CCCCCC"> and so our clients and</font>

164
00:08:47,949 --> 00:08:52,930
<font color="#CCCCCC">ourselves</font><font color="#E5E5E5"> we often need</font>

165
00:08:49,990 --> 00:08:55,600
<font color="#CCCCCC">introduced so</font><font color="#E5E5E5"> that means persist in some</font>

166
00:08:52,930 --> 00:08:59,229
way<font color="#CCCCCC"> an image or a</font><font color="#E5E5E5"> PDF file in our system</font>

167
00:08:55,600 --> 00:09:03,250
<font color="#E5E5E5">and we want</font><font color="#CCCCCC"> to do some validations this</font>

168
00:08:59,230 --> 00:09:05,800
could be size or content type<font color="#E5E5E5"> prior</font><font color="#CCCCCC"> to</font>

169
00:09:03,250 --> 00:09:08,470
actually accepting these these files and

170
00:09:05,800 --> 00:09:11,260
then we want to<font color="#E5E5E5"> return a transient</font>

171
00:09:08,470 --> 00:09:13,420
<font color="#E5E5E5">reference meaning a rest a reference</font>

172
00:09:11,260 --> 00:09:16,390
that<font color="#E5E5E5"> is</font><font color="#CCCCCC"> available for a</font><font color="#E5E5E5"> given amount of</font>

173
00:09:13,420 --> 00:09:18,490
time<font color="#E5E5E5"> for you to do processing at a later</font>

174
00:09:16,390 --> 00:09:21,670
time<font color="#E5E5E5"> so this could be resizing rendering</font>

175
00:09:18,490 --> 00:09:28,899
whatever<font color="#E5E5E5"> which is the basics of having a</font>

176
00:09:21,670 --> 00:09:30,670
data<font color="#CCCCCC"> data storage and database a system</font>

177
00:09:28,899 --> 00:09:32,860
that incorporates<font color="#E5E5E5"> data storage</font><font color="#CCCCCC"> and</font>

178
00:09:30,670 --> 00:09:38,020
<font color="#CCCCCC">databases where you can reference these</font>

179
00:09:32,860 --> 00:09:39,070
things<font color="#E5E5E5"> internally</font><font color="#CCCCCC"> so that's it and the</font>

180
00:09:38,020 --> 00:09:39,790
API description is pretty

181
00:09:39,070 --> 00:09:42,339
<font color="#E5E5E5">straightforward</font>

182
00:09:39,790 --> 00:09:45,060
<font color="#CCCCCC">it's rest ish there's a little bit of</font>

183
00:09:42,339 --> 00:09:47,950
<font color="#E5E5E5">distinction so</font><font color="#CCCCCC"> restless represents a</font>

184
00:09:45,060 --> 00:09:52,829
representational state transfer<font color="#E5E5E5"> and so</font>

185
00:09:47,950 --> 00:09:57,880
<font color="#E5E5E5">it's means of exchanging over web</font>

186
00:09:52,830 --> 00:10:00,959
documents and objects<font color="#CCCCCC"> and so that's</font><font color="#E5E5E5"> for</font>

187
00:09:57,880 --> 00:10:03,970
<font color="#E5E5E5">perfect for us we have a single post</font>

188
00:10:00,959 --> 00:10:07,899
endpoint<font color="#CCCCCC"> that you can create</font><font color="#E5E5E5"> a new</font>

189
00:10:03,970 --> 00:10:11,520
object with and so the content<font color="#E5E5E5"> types</font><font color="#CCCCCC"> I</font>

190
00:10:07,899 --> 00:10:13,839
accepted<font color="#E5E5E5"> it's a multi-part form data</font><font color="#CCCCCC"> I</font>

191
00:10:11,520 --> 00:10:15,880
didn't make<font color="#CCCCCC"> that choice</font><font color="#E5E5E5"> but apparently</font>

192
00:10:13,839 --> 00:10:18,640
that's what Java<font color="#E5E5E5"> scripts needs in order</font>

193
00:10:15,880 --> 00:10:20,620
<font color="#CCCCCC">for file uploads to work with Chrome I</font>

194
00:10:18,640 --> 00:10:24,459
don't know<font color="#E5E5E5"> that was the I was told that</font>

195
00:10:20,620 --> 00:10:27,279
was what I<font color="#CCCCCC"> should do so I did</font><font color="#E5E5E5"> it and we</font>

196
00:10:24,459 --> 00:10:31,510
<font color="#CCCCCC">returned</font><font color="#E5E5E5"> the references as application</font>

197
00:10:27,279 --> 00:10:34,149
<font color="#E5E5E5">Jason and just a little</font><font color="#CCCCCC"> note multiplier</font>

198
00:10:31,510 --> 00:10:37,029
form data sucks as<font color="#CCCCCC"> Microsoft's old</font>

199
00:10:34,149 --> 00:10:40,959
Microsoft format and like so<font color="#E5E5E5"> basically</font>

200
00:10:37,029 --> 00:10:42,640
you<font color="#E5E5E5"> can package multiple you can you</font><font color="#CCCCCC"> in</font>

201
00:10:40,959 --> 00:10:44,199
<font color="#E5E5E5">your you can have a single request</font><font color="#CCCCCC"> and</font>

202
00:10:42,640 --> 00:10:48,399
you can package multiple foreign

203
00:10:44,200 --> 00:10:51,130
elements into the same requests so this

204
00:10:48,399 --> 00:10:53,770
could be files or it takes<font color="#CCCCCC"> data</font><font color="#E5E5E5"> or</font>

205
00:10:51,130 --> 00:10:57,550
<font color="#E5E5E5">whatever but this protocol doesn't</font>

206
00:10:53,770 --> 00:10:59,350
really specify how many this format it

207
00:10:57,550 --> 00:11:01,300
doesn't specify<font color="#E5E5E5"> how many parts</font><font color="#CCCCCC"> would</font>

208
00:10:59,350 --> 00:11:03,850
<font color="#CCCCCC">support request</font><font color="#E5E5E5"> contains and it also</font>

209
00:11:01,300 --> 00:11:07,829
doesn't specify part<font color="#CCCCCC"> lengths</font>

210
00:11:03,850 --> 00:11:11,190
and that's just two of<font color="#E5E5E5"> these issues and</font>

211
00:11:07,830 --> 00:11:14,860
yeah so so there's a<font color="#E5E5E5"> little bit</font><font color="#CCCCCC"> extra</font>

212
00:11:11,190 --> 00:11:18,190
processing<font color="#E5E5E5"> for me to do but it's it's</font>

213
00:11:14,860 --> 00:11:20,580
rather simple<font color="#CCCCCC"> it's It's Made</font><font color="#E5E5E5"> in Erlang</font>

214
00:11:18,190 --> 00:11:27,460
so there's a library<font color="#E5E5E5"> called cowboy and</font>

215
00:11:20,580 --> 00:11:30,970
this implements<font color="#E5E5E5"> a TCP connection</font><font color="#CCCCCC"> library</font>

216
00:11:27,460 --> 00:11:33,400
facilities and HTTP to request

217
00:11:30,970 --> 00:11:35,710
processing<font color="#E5E5E5"> through via state machine so</font>

218
00:11:33,400 --> 00:11:37,540
<font color="#CCCCCC">this means that</font><font color="#E5E5E5"> you can plug in at</font>

219
00:11:35,710 --> 00:11:42,310
different<font color="#E5E5E5"> points and the request</font>

220
00:11:37,540 --> 00:11:44,550
processing which is<font color="#E5E5E5"> really neat we don't</font>

221
00:11:42,310 --> 00:11:47,199
even have nginx we don't have<font color="#CCCCCC"> anything</font>

222
00:11:44,550 --> 00:11:50,469
we just<font color="#CCCCCC"> run it</font><font color="#E5E5E5"> straight in Erlang and</font>

223
00:11:47,200 --> 00:11:55,150
then we shell out to make use of image

224
00:11:50,470 --> 00:11:59,290
magic<font color="#E5E5E5"> and for image property extraction</font>

225
00:11:55,150 --> 00:12:01,660
<font color="#E5E5E5">and then we use lip magic to sort of get</font>

226
00:11:59,290 --> 00:12:03,339
a<font color="#E5E5E5"> guess then someone who can public</font>

227
00:12:01,660 --> 00:12:05,079
thing here<font color="#CCCCCC"> that they can come with a PDF</font>

228
00:12:03,340 --> 00:12:08,260
<font color="#E5E5E5">file that</font><font color="#CCCCCC"> might look magic will say as a</font>

229
00:12:05,080 --> 00:12:11,100
PDF file but<font color="#E5E5E5"> it's not and yeah that's</font>

230
00:12:08,260 --> 00:12:15,550
true<font color="#CCCCCC"> but like in</font><font color="#E5E5E5"> the most cases we still</font>

231
00:12:11,100 --> 00:12:16,990
we we still accept<font color="#CCCCCC"> as as a</font><font color="#E5E5E5"> PDF so</font><font color="#CCCCCC"> you we</font>

232
00:12:15,550 --> 00:12:19,780
want<font color="#E5E5E5"> to ensure that the content type</font>

233
00:12:16,990 --> 00:12:23,320
<font color="#CCCCCC">that a request claims a file</font><font color="#E5E5E5"> is is</font>

234
00:12:19,780 --> 00:12:26,439
actually<font color="#E5E5E5"> the content type of the file</font><font color="#CCCCCC"> so</font>

235
00:12:23,320 --> 00:12:30,520
these are the validations<font color="#E5E5E5"> and then we</font>

236
00:12:26,440 --> 00:12:34,330
use the AWS<font color="#CCCCCC"> command</font><font color="#E5E5E5"> line tools for the</font>

237
00:12:30,520 --> 00:12:38,110
API that<font color="#CCCCCC"> we persist these files</font><font color="#E5E5E5"> within</font>

238
00:12:34,330 --> 00:12:39,970
<font color="#E5E5E5">the simple storage solution I don't</font>

239
00:12:38,110 --> 00:12:42,670
remember the name but<font color="#CCCCCC"> is Amazon has like</font>

240
00:12:39,970 --> 00:12:48,090
this s3 so in general you<font color="#E5E5E5"> can see that</font>

241
00:12:42,670 --> 00:12:51,010
we<font color="#CCCCCC"> are using Erlang runtime system that</font>

242
00:12:48,090 --> 00:12:55,810
contains all of<font color="#E5E5E5"> our software developed</font>

243
00:12:51,010 --> 00:12:59,230
with this particular problem<font color="#E5E5E5"> of</font>

244
00:12:55,810 --> 00:13:02,969
persisting images<font color="#E5E5E5"> and PDFs but then we</font>

245
00:12:59,230 --> 00:13:07,140
use it then we have<font color="#CCCCCC"> it in</font><font color="#E5E5E5"> an AWS setting</font>

246
00:13:02,970 --> 00:13:10,240
<font color="#CCCCCC">so it's a containers all the way down</font>

247
00:13:07,140 --> 00:13:13,540
<font color="#E5E5E5">yeah this is just a little bit about the</font>

248
00:13:10,240 --> 00:13:15,050
service<font color="#CCCCCC"> architecture most what I want to</font>

249
00:13:13,540 --> 00:13:17,030
say is that

250
00:13:15,050 --> 00:13:18,949
it's built with<font color="#E5E5E5"> open-source software and</font>

251
00:13:17,030 --> 00:13:26,000
<font color="#CCCCCC">it solves like a specific recurrent</font>

252
00:13:18,950 --> 00:13:27,350
issue<font color="#E5E5E5"> and we use Cuba needs so the</font>

253
00:13:26,000 --> 00:13:29,090
torque is<font color="#E5E5E5"> not in the</font><font color="#CCCCCC"> program anymore</font>

254
00:13:27,350 --> 00:13:32,810
<font color="#E5E5E5">which</font><font color="#CCCCCC"> is a little bit</font><font color="#E5E5E5"> weird my</font>

255
00:13:29,090 --> 00:13:35,470
colleagues<font color="#E5E5E5"> talk but yeah I I wanted to</font>

256
00:13:32,810 --> 00:13:38,630
<font color="#E5E5E5">talk a little about the Cuba needs a bit</font>

257
00:13:35,470 --> 00:13:40,460
reproducibility<font color="#E5E5E5"> and scalability but I</font>

258
00:13:38,630 --> 00:13:42,950
don't<font color="#E5E5E5"> think it makes a lot of sense if</font>

259
00:13:40,460 --> 00:13:47,120
he's not gonna<font color="#E5E5E5"> have a store so leaving</font>

260
00:13:42,950 --> 00:13:49,460
<font color="#E5E5E5">that out</font><font color="#CCCCCC"> and yeah so we leverage AWS for</font>

261
00:13:47,120 --> 00:13:51,460
<font color="#CCCCCC">operation of this service and for</font>

262
00:13:49,460 --> 00:13:56,900
solving the generic issues such as

263
00:13:51,460 --> 00:13:58,820
providing a load balancer<font color="#CCCCCC"> so so so this</font>

264
00:13:56,900 --> 00:14:06,140
problem<font color="#CCCCCC"> I was referring to in the</font>

265
00:13:58,820 --> 00:14:08,360
beginning<font color="#CCCCCC"> so basically we we had a so</font>

266
00:14:06,140 --> 00:14:10,790
there's a<font color="#CCCCCC"> sua cultura form that allows</font>

267
00:14:08,360 --> 00:14:14,420
you<font color="#E5E5E5"> to declaratively specify how you</font>

268
00:14:10,790 --> 00:14:18,829
want<font color="#E5E5E5"> AWS to set up your your</font>

269
00:14:14,420 --> 00:14:22,990
<font color="#E5E5E5">infrastructure which is good and so the</font>

270
00:14:18,830 --> 00:14:30,530
setup<font color="#E5E5E5"> for donkey was overhauled in</font>

271
00:14:22,990 --> 00:14:33,530
December 2017<font color="#E5E5E5"> and we started we enabled</font>

272
00:14:30,530 --> 00:14:35,540
the new product a new<font color="#CCCCCC"> load balancer</font>

273
00:14:33,530 --> 00:14:38,000
<font color="#E5E5E5">edition from AWS it's called a</font>

274
00:14:35,540 --> 00:14:41,750
application load balancer or<font color="#CCCCCC"> referred to</font>

275
00:14:38,000 --> 00:14:43,540
as<font color="#CCCCCC"> 'il be v2 e OBS and elastic load</font>

276
00:14:41,750 --> 00:14:46,700
balancer<font color="#CCCCCC"> that was the</font><font color="#E5E5E5"> previous name and</font>

277
00:14:43,540 --> 00:14:49,459
then we were like<font color="#E5E5E5"> oh one of the one of</font>

278
00:14:46,700 --> 00:14:53,390
the one<font color="#CCCCCC"> of the added benefits is that</font>

279
00:14:49,460 --> 00:14:55,400
<font color="#CCCCCC">the load balance analysis supports HTTP</font>

280
00:14:53,390 --> 00:14:55,930
<font color="#CCCCCC">two so we thought oh that's good that's</font>

281
00:14:55,400 --> 00:15:00,560
great

282
00:14:55,930 --> 00:15:03,380
so like the day<font color="#CCCCCC"> after this was deployed</font>

283
00:15:00,560 --> 00:15:06,500
into production<font color="#E5E5E5"> and like our</font><font color="#CCCCCC"> client</font>

284
00:15:03,380 --> 00:15:08,720
started using this<font color="#E5E5E5"> our operations team</font>

285
00:15:06,500 --> 00:15:11,090
that is the ones that<font color="#CCCCCC"> are handling</font>

286
00:15:08,720 --> 00:15:12,740
client relations they were reporting

287
00:15:11,090 --> 00:15:15,290
that<font color="#E5E5E5"> people were saying hey this is</font>

288
00:15:12,740 --> 00:15:17,870
super slow now<font color="#E5E5E5"> whenever</font><font color="#CCCCCC"> we try to upload</font>

289
00:15:15,290 --> 00:15:19,810
<font color="#E5E5E5">a</font><font color="#CCCCCC"> catalogue it takes forever and it just</font>

290
00:15:17,870 --> 00:15:23,810
times out<font color="#E5E5E5"> nothing works and I was like</font>

291
00:15:19,810 --> 00:15:24,920
how could that happen<font color="#CCCCCC"> so he had</font><font color="#E5E5E5"> this</font>

292
00:15:23,810 --> 00:15:28,939
with the day after the production

293
00:15:24,920 --> 00:15:31,760
deployment<font color="#E5E5E5"> and I was figuring</font><font color="#CCCCCC"> I'll be</font>

294
00:15:28,940 --> 00:15:34,430
this-this-this<font color="#CCCCCC"> lb product</font><font color="#E5E5E5"> it was</font>

295
00:15:31,760 --> 00:15:36,830
initially announced in August 2016

296
00:15:34,430 --> 00:15:41,329
and like they announced that<font color="#E5E5E5"> they had</font>

297
00:15:36,830 --> 00:15:45,800
<font color="#E5E5E5">HTTP to support and so what's missing</font>

298
00:15:41,330 --> 00:15:47,870
<font color="#CCCCCC">here is that I I tried to search around</font>

299
00:15:45,800 --> 00:15:51,349
and I couldn't<font color="#E5E5E5"> find anything that</font>

300
00:15:47,870 --> 00:15:53,630
determined like that anyone any reports

301
00:15:51,350 --> 00:15:56,450
or<font color="#E5E5E5"> any mentions of performance</font>

302
00:15:53,630 --> 00:15:59,510
degradation when<font color="#E5E5E5"> using HTTP</font><font color="#CCCCCC"> - for file</font>

303
00:15:56,450 --> 00:16:01,850
uploads<font color="#E5E5E5"> just like this is it was as if</font>

304
00:15:59,510 --> 00:16:03,920
no<font color="#CCCCCC"> one had had - had</font><font color="#E5E5E5"> seen that before</font><font color="#CCCCCC"> so</font>

305
00:16:01,850 --> 00:16:06,800
<font color="#CCCCCC">I was like okay</font><font color="#E5E5E5"> something must be wrong</font>

306
00:16:03,920 --> 00:16:08,839
<font color="#E5E5E5">with either cowboy or donkey and but</font>

307
00:16:06,800 --> 00:16:12,819
that<font color="#E5E5E5"> is also</font><font color="#CCCCCC"> Earling and</font><font color="#E5E5E5"> I can look into</font>

308
00:16:08,840 --> 00:16:16,070
<font color="#CCCCCC">that so I</font><font color="#E5E5E5"> started looking into this</font><font color="#CCCCCC"> and</font>

309
00:16:12,820 --> 00:16:19,550
so<font color="#E5E5E5"> first I found that well it only</font>

310
00:16:16,070 --> 00:16:24,950
affects<font color="#E5E5E5"> HTTP</font><font color="#CCCCCC"> - requests so any requests</font>

311
00:16:19,550 --> 00:16:29,060
made against the<font color="#E5E5E5"> alb</font><font color="#CCCCCC"> which sits in front</font>

312
00:16:24,950 --> 00:16:31,030
of<font color="#E5E5E5"> the service and distributes so we can</font>

313
00:16:29,060 --> 00:16:33,459
scale up<font color="#CCCCCC"> it distributes all these</font>

314
00:16:31,030 --> 00:16:36,980
requests<font color="#E5E5E5"> among the different donkey</font>

315
00:16:33,460 --> 00:16:40,160
<font color="#E5E5E5">servers so whenever you</font><font color="#CCCCCC"> would hit it</font>

316
00:16:36,980 --> 00:16:44,440
with HTTP 1.1 it would<font color="#CCCCCC"> perform as before</font>

317
00:16:40,160 --> 00:16:49,459
but by performing it with HTTP<font color="#CCCCCC"> 2 is so</font>

318
00:16:44,440 --> 00:16:53,750
<font color="#CCCCCC">downgraded like effector</font><font color="#E5E5E5"> 304 in time in</font>

319
00:16:49,460 --> 00:16:56,840
turn in terms of response times and

320
00:16:53,750 --> 00:17:00,650
sometimes<font color="#CCCCCC"> just</font><font color="#E5E5E5"> timeout so I thought well</font>

321
00:16:56,840 --> 00:17:02,720
<font color="#CCCCCC">let's upgrade to</font><font color="#E5E5E5"> cowboy - before</font><font color="#CCCCCC"> this</font>

322
00:17:00,650 --> 00:17:05,480
this was a earlier version of cowboy and

323
00:17:02,720 --> 00:17:09,079
I was like<font color="#CCCCCC"> ok</font><font color="#E5E5E5"> let's upgrade it because a</font>

324
00:17:05,480 --> 00:17:13,339
<font color="#E5E5E5">cowboy who has HTTP to support just</font><font color="#CCCCCC"> like</font>

325
00:17:09,079 --> 00:17:19,819
<font color="#CCCCCC">ok but it still persisted this issue and</font>

326
00:17:13,339 --> 00:17:23,389
and but what we found was<font color="#CCCCCC"> that if we</font><font color="#E5E5E5"> if</font>

327
00:17:19,819 --> 00:17:27,020
<font color="#CCCCCC">Iran donkey and I connected to it</font><font color="#E5E5E5"> I made</font>

328
00:17:23,390 --> 00:17:29,420
a request by passing the<font color="#E5E5E5"> alb</font><font color="#CCCCCC"> then it</font>

329
00:17:27,020 --> 00:17:33,110
worked perfectly fine<font color="#E5E5E5"> so now there</font><font color="#CCCCCC"> is</font>

330
00:17:29,420 --> 00:17:36,290
sort of<font color="#E5E5E5"> like a way of finding out</font><font color="#CCCCCC"> ok</font><font color="#E5E5E5"> now</font>

331
00:17:33,110 --> 00:17:39,469
I started like triaging<font color="#CCCCCC"> where the what</font>

332
00:17:36,290 --> 00:17:40,760
the issue was<font color="#CCCCCC"> and you got every you got</font>

333
00:17:39,470 --> 00:17:41,960
<font color="#E5E5E5">a you got to</font><font color="#CCCCCC"> remember that this is</font>

334
00:17:40,760 --> 00:17:42,680
<font color="#E5E5E5">something that came in</font><font color="#CCCCCC"> from</font><font color="#E5E5E5"> the side</font>

335
00:17:41,960 --> 00:17:45,170
<font color="#E5E5E5">because</font>

336
00:17:42,680 --> 00:17:47,750
I have a lot<font color="#CCCCCC"> of other projects</font><font color="#E5E5E5"> and then</font>

337
00:17:45,170 --> 00:17:50,390
suddenly because there is something

338
00:17:47,750 --> 00:17:52,490
<font color="#CCCCCC">wrong</font><font color="#E5E5E5"> somewhere else I</font><font color="#CCCCCC"> have to</font><font color="#E5E5E5"> put aside</font>

339
00:17:50,390 --> 00:17:55,160
time<font color="#E5E5E5"> to</font><font color="#CCCCCC"> actually also investigate this</font>

340
00:17:52,490 --> 00:17:59,330
<font color="#E5E5E5">so this was still on the on the side and</font>

341
00:17:55,160 --> 00:18:01,640
<font color="#E5E5E5">I was still</font><font color="#CCCCCC"> doing this</font><font color="#E5E5E5"> sort of like on</font>

342
00:17:59,330 --> 00:18:06,290
the side while while performing other

343
00:18:01,640 --> 00:18:08,540
tasks at work and and this for this

344
00:18:06,290 --> 00:18:10,340
<font color="#CCCCCC">reason I missed</font><font color="#E5E5E5"> the fact in the in the</font>

345
00:18:08,540 --> 00:18:12,590
documentation<font color="#CCCCCC"> that the alb the</font>

346
00:18:10,340 --> 00:18:14,899
application load balancer<font color="#CCCCCC"> it takes any</font>

347
00:18:12,590 --> 00:18:18,050
<font color="#CCCCCC">requests any HTTP to</font><font color="#E5E5E5"> request and then it</font>

348
00:18:14,900 --> 00:18:21,920
<font color="#CCCCCC">translates it internally to HTTP 1.1 and</font>

349
00:18:18,050 --> 00:18:23,690
then distributed among<font color="#E5E5E5"> the the target</font>

350
00:18:21,920 --> 00:18:26,990
instances in the load balancing group

351
00:18:23,690 --> 00:18:29,870
which is<font color="#CCCCCC"> okay so we couldn't leverage</font>

352
00:18:26,990 --> 00:18:32,870
<font color="#E5E5E5">HTTP</font><font color="#CCCCCC"> 2 directly</font><font color="#E5E5E5"> so it was futile</font>

353
00:18:29,870 --> 00:18:34,669
attempts and that was like<font color="#E5E5E5"> eventually we</font>

354
00:18:32,870 --> 00:18:36,020
downgraded<font color="#E5E5E5"> to the elastic load balancer</font>

355
00:18:34,670 --> 00:18:37,520
<font color="#CCCCCC">and I was told</font><font color="#E5E5E5"> to continue to</font>

356
00:18:36,020 --> 00:18:40,550
investigate<font color="#CCCCCC"> the</font><font color="#E5E5E5"> problem whenever I had</font>

357
00:18:37,520 --> 00:18:43,160
<font color="#CCCCCC">time but we had like some some</font><font color="#E5E5E5"> stepping</font>

358
00:18:40,550 --> 00:18:48,940
around<font color="#E5E5E5"> and I found that</font><font color="#CCCCCC"> ok I need I</font>

359
00:18:43,160 --> 00:18:48,940
needed some<font color="#E5E5E5"> more</font><font color="#CCCCCC"> I needed some more</font>

360
00:18:49,240 --> 00:19:00,230
<font color="#E5E5E5">method method method</font><font color="#CCCCCC"> a methodological</font>

361
00:18:53,770 --> 00:19:02,810
<font color="#E5E5E5">methodological I needed I needed</font><font color="#CCCCCC"> some a</font>

362
00:19:00,230 --> 00:19:06,650
better way of like finding<font color="#E5E5E5"> out what was</font>

363
00:19:02,810 --> 00:19:09,500
<font color="#E5E5E5">wrong so I sat down with TCP dump</font><font color="#CCCCCC"> which</font>

364
00:19:06,650 --> 00:19:13,610
is a<font color="#CCCCCC"> peg</font><font color="#E5E5E5"> TCP is the transmission control</font>

365
00:19:09,500 --> 00:19:17,150
<font color="#E5E5E5">protocol which</font><font color="#CCCCCC"> allows for clients to</font>

366
00:19:13,610 --> 00:19:19,459
<font color="#CCCCCC">have data transfer for those of you who</font>

367
00:19:17,150 --> 00:19:23,560
might not<font color="#E5E5E5"> know what what it is but it it</font>

368
00:19:19,460 --> 00:19:23,560
it it makes it so that<font color="#E5E5E5"> you can have like</font>

369
00:19:24,580 --> 00:19:28,250
yeah<font color="#E5E5E5"> never mind</font>

370
00:19:26,360 --> 00:19:30,800
so basically<font color="#E5E5E5"> I sat down with the TCP</font>

371
00:19:28,250 --> 00:19:33,470
dump<font color="#E5E5E5"> tool and got a peg obtained a</font>

372
00:19:30,800 --> 00:19:36,050
packet trace of of the data and I

373
00:19:33,470 --> 00:19:39,230
started graphing it<font color="#E5E5E5"> with this tool</font>

374
00:19:36,050 --> 00:19:42,800
called<font color="#E5E5E5"> CSP trace and just like sort of</font>

375
00:19:39,230 --> 00:19:45,170
explore what could be wrong what can<font color="#CCCCCC"> I</font>

376
00:19:42,800 --> 00:19:51,020
find<font color="#E5E5E5"> anything that that that reveals</font>

377
00:19:45,170 --> 00:19:53,780
what's wrong and and yeah I mean<font color="#E5E5E5"> so this</font>

378
00:19:51,020 --> 00:19:55,950
this<font color="#E5E5E5"> graph I hope you can see it it's</font>

379
00:19:53,780 --> 00:19:59,610
it's a little<font color="#E5E5E5"> bit on</font>

380
00:19:55,950 --> 00:20:01,680
<font color="#CCCCCC">CCP tres doesn't really make that make</font>

381
00:19:59,610 --> 00:20:05,909
graphs that<font color="#CCCCCC"> well but</font><font color="#E5E5E5"> so what what you</font>

382
00:20:01,680 --> 00:20:10,290
<font color="#E5E5E5">see here on this graph is like so it's a</font>

383
00:20:05,910 --> 00:20:13,770
time on the x-axis and then segment size

384
00:20:10,290 --> 00:20:17,909
on the on the<font color="#CCCCCC"> y-axis</font><font color="#E5E5E5"> and so the segment</font>

385
00:20:13,770 --> 00:20:22,560
<font color="#E5E5E5">size says each each the TCP connection</font>

386
00:20:17,910 --> 00:20:26,510
is comprised of several packets that<font color="#E5E5E5"> are</font>

387
00:20:22,560 --> 00:20:31,290
ordered and each of the packets have a

388
00:20:26,510 --> 00:20:33,450
maximum size<font color="#E5E5E5"> that it can have and and so</font>

389
00:20:31,290 --> 00:20:38,430
the<font color="#E5E5E5"> topmost line if that's visible to</font>

390
00:20:33,450 --> 00:20:40,350
<font color="#E5E5E5">you just that that is the maximum size</font>

391
00:20:38,430 --> 00:20:42,300
and<font color="#E5E5E5"> then you see a lot of spikes in the</font>

392
00:20:40,350 --> 00:20:44,730
middle you<font color="#CCCCCC"> see a lot of you see a lot of</font>

393
00:20:42,300 --> 00:20:47,340
jumping up<font color="#E5E5E5"> and down in the middle and</font>

394
00:20:44,730 --> 00:20:49,170
that's just because<font color="#E5E5E5"> there's a loss</font><font color="#CCCCCC"> in</font>

395
00:20:47,340 --> 00:20:52,439
transmission I think I made this graph

396
00:20:49,170 --> 00:20:54,870
on a Wi-Fi so sometimes you get these

397
00:20:52,440 --> 00:20:56,730
these graphs but but what's what's<font color="#E5E5E5"> most</font>

398
00:20:54,870 --> 00:20:59,610
significant here is<font color="#E5E5E5"> that you see the</font>

399
00:20:56,730 --> 00:21:03,200
requests process that the response time

400
00:20:59,610 --> 00:21:06,600
is is or the requests<font color="#E5E5E5"> response time is</font>

401
00:21:03,200 --> 00:21:09,990
is it's on<font color="#E5E5E5"> the</font><font color="#CCCCCC"> a on the</font><font color="#E5E5E5"> x axis</font><font color="#CCCCCC"> and it</font>

402
00:21:06,600 --> 00:21:11,459
says<font color="#E5E5E5"> six and a half seconds roughly so</font>

403
00:21:09,990 --> 00:21:13,860
it takes six and a half seconds to

404
00:21:11,460 --> 00:21:17,280
complete this<font color="#E5E5E5"> particular request which</font>

405
00:21:13,860 --> 00:21:21,209
involves and uploading a 65 megabyte PDF

406
00:21:17,280 --> 00:21:25,260
<font color="#E5E5E5">through donkey now this is the segment</font>

407
00:21:21,210 --> 00:21:27,840
<font color="#E5E5E5">size this</font><font color="#CCCCCC"> is the segment size</font><font color="#E5E5E5"> the</font>

408
00:21:25,260 --> 00:21:32,879
equivalent graph<font color="#E5E5E5"> only one made with HTTP</font>

409
00:21:27,840 --> 00:21:35,909
<font color="#CCCCCC">two</font><font color="#E5E5E5"> and so it says the last number down</font>

410
00:21:32,880 --> 00:21:39,120
<font color="#CCCCCC">there says</font><font color="#E5E5E5"> 25 seconds but yeah so this</font>

411
00:21:35,910 --> 00:21:41,220
<font color="#CCCCCC">is roughly thirty seconds and so this is</font>

412
00:21:39,120 --> 00:21:42,689
<font color="#E5E5E5">not even</font><font color="#CCCCCC"> the full graph</font><font color="#E5E5E5"> there is</font>

413
00:21:41,220 --> 00:21:45,840
something missing<font color="#E5E5E5"> I had to cut it off</font>

414
00:21:42,690 --> 00:21:50,040
<font color="#E5E5E5">I've I've sumed in and you see like this</font>

415
00:21:45,840 --> 00:21:51,899
sawtooth pattern<font color="#CCCCCC"> and so that was the</font>

416
00:21:50,040 --> 00:21:54,270
<font color="#CCCCCC">first time</font><font color="#E5E5E5"> where it's like okay there's</font>

417
00:21:51,900 --> 00:21:58,820
there's<font color="#CCCCCC"> something wrong so what this</font>

418
00:21:54,270 --> 00:22:03,960
graph actually<font color="#E5E5E5"> says is it</font><font color="#CCCCCC"> says that the</font>

419
00:21:58,820 --> 00:22:08,320
client gets<font color="#CCCCCC"> to transmit packets</font><font color="#E5E5E5"> in</font>

420
00:22:03,960 --> 00:22:11,889
bursts<font color="#E5E5E5"> and then it gets told you can it</font>

421
00:22:08,320 --> 00:22:13,809
it just<font color="#E5E5E5"> stops transmitting so rather</font>

422
00:22:11,889 --> 00:22:17,620
than just<font color="#E5E5E5"> sending</font><font color="#CCCCCC"> packets</font><font color="#E5E5E5"> back to back</font>

423
00:22:13,809 --> 00:22:18,220
which<font color="#CCCCCC"> TCP normally allows you you're</font>

424
00:22:17,620 --> 00:22:20,500
told

425
00:22:18,220 --> 00:22:23,110
it'll it's<font color="#CCCCCC"> -</font><font color="#E5E5E5"> it's it's constantly</font>

426
00:22:20,500 --> 00:22:25,659
stopping<font color="#E5E5E5"> so it's sort of like it's</font><font color="#CCCCCC"> like</font>

427
00:22:23,110 --> 00:22:29,580
constantly<font color="#E5E5E5"> halting and not being able to</font>

428
00:22:25,659 --> 00:22:33,009
use the TCP congestion control

429
00:22:29,580 --> 00:22:36,639
mechanisms that facilitate sending data

430
00:22:33,009 --> 00:22:40,090
back<font color="#E5E5E5"> to back in a in a in a in a in a</font>

431
00:22:36,639 --> 00:22:42,639
proper<font color="#CCCCCC"> way</font><font color="#E5E5E5"> and it was like I</font><font color="#CCCCCC"> gotta look</font>

432
00:22:40,090 --> 00:22:44,830
more into this like this is - there<font color="#E5E5E5"> must</font>

433
00:22:42,639 --> 00:22:46,209
<font color="#E5E5E5">be something wrong with with with their</font>

434
00:22:44,830 --> 00:22:49,240
implementation because this was

435
00:22:46,210 --> 00:22:50,799
<font color="#E5E5E5">regardless of whether</font><font color="#CCCCCC"> where was what</font>

436
00:22:49,240 --> 00:22:53,110
where I was<font color="#E5E5E5"> located what type of</font>

437
00:22:50,799 --> 00:22:54,908
connection which client I was<font color="#CCCCCC"> using</font><font color="#E5E5E5"> like</font>

438
00:22:53,110 --> 00:22:59,158
all<font color="#E5E5E5"> these things I could repeat it</font>

439
00:22:54,909 --> 00:23:02,860
whenever so at this point I'm still

440
00:22:59,159 --> 00:23:05,320
mentally here I'm still in the process

441
00:23:02,860 --> 00:23:08,590
of convincing<font color="#E5E5E5"> someone else that my</font>

442
00:23:05,320 --> 00:23:10,990
<font color="#E5E5E5">software</font><font color="#CCCCCC"> is not performing badly so so</font>

443
00:23:08,590 --> 00:23:14,439
so this is<font color="#CCCCCC"> what I'm this is</font><font color="#E5E5E5"> and and</font>

444
00:23:10,990 --> 00:23:17,289
doing<font color="#E5E5E5"> so on the side not like as them as</font>

445
00:23:14,440 --> 00:23:19,149
my primary<font color="#CCCCCC"> tasks so it was a little bit</font>

446
00:23:17,289 --> 00:23:23,139
like<font color="#CCCCCC"> now have you found what was wrong</font>

447
00:23:19,149 --> 00:23:26,918
<font color="#E5E5E5">no you know so a little bit</font><font color="#CCCCCC"> of a ting</font>

448
00:23:23,139 --> 00:23:28,840
but<font color="#E5E5E5"> I got to study the HTTP</font><font color="#CCCCCC"> - protocol</font>

449
00:23:26,919 --> 00:23:29,919
<font color="#E5E5E5">which I've heard about on multiple</font>

450
00:23:28,840 --> 00:23:32,259
occasions<font color="#E5E5E5"> but I hadn't</font><font color="#CCCCCC"> really looked</font>

451
00:23:29,919 --> 00:23:35,919
further<font color="#CCCCCC"> into it so basically it's an</font>

452
00:23:32,259 --> 00:23:40,029
attempt at fixing<font color="#E5E5E5"> or facilitating the</font>

453
00:23:35,919 --> 00:23:42,700
modern web<font color="#CCCCCC"> meaning</font><font color="#E5E5E5"> so what is the modern</font>

454
00:23:40,029 --> 00:23:47,610
web but<font color="#CCCCCC"> but like</font><font color="#E5E5E5"> most interactions</font>

455
00:23:42,700 --> 00:23:49,899
<font color="#E5E5E5">online today are smartphones and</font>

456
00:23:47,610 --> 00:23:52,330
people's computer where they're on

457
00:23:49,899 --> 00:23:54,399
Facebook<font color="#CCCCCC"> or Twitter or</font><font color="#E5E5E5"> whatever and so</font>

458
00:23:52,330 --> 00:23:57,039
they want<font color="#E5E5E5"> to upload a lot of pictures</font>

459
00:23:54,399 --> 00:24:00,549
<font color="#E5E5E5">and like create a post on some social</font>

460
00:23:57,039 --> 00:24:03,149
<font color="#CCCCCC">media</font><font color="#E5E5E5"> side while at the</font><font color="#CCCCCC"> same time</font><font color="#E5E5E5"> having</font>

461
00:24:00,549 --> 00:24:06,908
<font color="#E5E5E5">an interactive chat connection and how</font>

462
00:24:03,149 --> 00:24:09,189
HTTP<font color="#CCCCCC"> 2 facilitates this is it opens one</font>

463
00:24:06,909 --> 00:24:12,629
<font color="#E5E5E5">connection to the server but it runs</font>

464
00:24:09,190 --> 00:24:18,010
<font color="#E5E5E5">multiple requests in that connection and</font>

465
00:24:12,629 --> 00:24:22,209
so so just like with TCP we now have a

466
00:24:18,010 --> 00:24:25,899
congestion<font color="#E5E5E5"> protocol inside of HTTP</font><font color="#CCCCCC"> 2</font>

467
00:24:22,210 --> 00:24:29,230
so you have streams of frames and<font color="#E5E5E5"> each</font>

468
00:24:25,899 --> 00:24:32,590
stream<font color="#E5E5E5"> has assigned a a specific is</font>

469
00:24:29,230 --> 00:24:35,679
request as a scientist<font color="#CCCCCC"> a stream</font><font color="#E5E5E5"> and the</font>

470
00:24:32,590 --> 00:24:38,949
streams have associated windows so the

471
00:24:35,679 --> 00:24:41,139
windows are the way that<font color="#CCCCCC"> you can say</font>

472
00:24:38,950 --> 00:24:44,710
<font color="#E5E5E5">okay you can send like so much data and</font>

473
00:24:41,139 --> 00:24:47,619
then I'm<font color="#E5E5E5"> gonna cut you</font><font color="#CCCCCC"> off</font><font color="#E5E5E5"> that's you</font>

474
00:24:44,710 --> 00:24:52,240
<font color="#CCCCCC">you do that using windows the window</font>

475
00:24:47,619 --> 00:24:55,990
update frames<font color="#E5E5E5"> and so there is a tool</font>

476
00:24:52,240 --> 00:24:59,499
called<font color="#E5E5E5"> ng HTTP 1 which is I've I don't</font>

477
00:24:55,990 --> 00:25:04,480
<font color="#E5E5E5">recall ng particularly but yeah it's</font>

478
00:24:59,499 --> 00:25:06,399
it's it's<font color="#E5E5E5"> the reference and HTTP</font><font color="#CCCCCC"> 2</font>

479
00:25:04,480 --> 00:25:11,110
implementation<font color="#E5E5E5"> and it's what's being</font>

480
00:25:06,399 --> 00:25:13,949
<font color="#CCCCCC">used by curl and most major browsers and</font>

481
00:25:11,110 --> 00:25:16,119
maybe maybe Google<font color="#E5E5E5"> has their own</font>

482
00:25:13,950 --> 00:25:18,909
<font color="#E5E5E5">implementation for</font><font color="#CCCCCC"> Chrome a chromium but</font>

483
00:25:16,119 --> 00:25:21,129
like most others used<font color="#CCCCCC"> introduced</font><font color="#E5E5E5"> to</font>

484
00:25:18,909 --> 00:25:25,360
library and like they have a curl like

485
00:25:21,129 --> 00:25:27,009
tool called<font color="#CCCCCC"> ng d ng HTTP and this allows</font>

486
00:25:25,360 --> 00:25:29,678
you to<font color="#CCCCCC"> obtain</font><font color="#E5E5E5"> our connection</font><font color="#CCCCCC"> trace and</font>

487
00:25:27,009 --> 00:25:31,749
this<font color="#E5E5E5"> is so I've</font><font color="#CCCCCC"> just included</font><font color="#E5E5E5"> a snippet</font>

488
00:25:29,679 --> 00:25:33,309
<font color="#E5E5E5">and it's like a really raw strip it but</font>

489
00:25:31,749 --> 00:25:35,499
<font color="#CCCCCC">basically you see you have some timing</font>

490
00:25:33,309 --> 00:25:39,519
<font color="#CCCCCC">information you have some protocol</font>

491
00:25:35,499 --> 00:25:41,320
information<font color="#E5E5E5"> and then you there is some</font>

492
00:25:39,519 --> 00:25:44,379
messages being sent back<font color="#E5E5E5"> and</font><font color="#CCCCCC"> force you</font>

493
00:25:41,320 --> 00:25:48,158
<font color="#CCCCCC">to</font><font color="#E5E5E5"> begin with we receive a settings</font>

494
00:25:44,379 --> 00:25:49,928
frame from the<font color="#E5E5E5"> server and</font><font color="#CCCCCC"> then after at</font>

495
00:25:48,159 --> 00:25:52,539
<font color="#E5E5E5">the same time we also send some headers</font>

496
00:25:49,929 --> 00:25:56,590
to<font color="#E5E5E5"> the server and what it says it says</font>

497
00:25:52,539 --> 00:25:59,049
<font color="#E5E5E5">open</font><font color="#CCCCCC"> new stream and then so then the</font>

498
00:25:56,590 --> 00:26:02,799
<font color="#E5E5E5">following part is what's actually the</font>

499
00:25:59,049 --> 00:26:06,279
<font color="#E5E5E5">request so the the a particular</font><font color="#CCCCCC"> requests</font>

500
00:26:02,799 --> 00:26:12,129
that<font color="#E5E5E5"> is contained in</font><font color="#CCCCCC"> the stream and and</font>

501
00:26:06,279 --> 00:26:13,960
handled via HTTP<font color="#E5E5E5"> to so I expected to</font>

502
00:26:12,129 --> 00:26:18,119
find something like<font color="#E5E5E5"> this and this this</font>

503
00:26:13,960 --> 00:26:22,179
this<font color="#CCCCCC"> is</font><font color="#E5E5E5"> the connect this is a snippet of</font>

504
00:26:18,119 --> 00:26:26,889
of a<font color="#E5E5E5"> connection trace that I that iris</font>

505
00:26:22,179 --> 00:26:29,559
that I've obtained by<font color="#CCCCCC"> connecting</font>

506
00:26:26,889 --> 00:26:32,350
directly<font color="#CCCCCC"> to Tonchi over HTTP 2 and what</font>

507
00:26:29,559 --> 00:26:34,559
you see is you we have a stream with<font color="#E5E5E5"> the</font>

508
00:26:32,350 --> 00:26:40,080
stream ID 13

509
00:26:34,559 --> 00:26:44,820
and my client<font color="#E5E5E5"> emits multiple data frames</font>

510
00:26:40,080 --> 00:26:48,928
there is a lot<font color="#E5E5E5"> of data going up I forgot</font>

511
00:26:44,820 --> 00:26:52,499
ellipses to<font color="#E5E5E5"> denote</font><font color="#CCCCCC"> that but so yeah so</font>

512
00:26:48,929 --> 00:26:56,070
<font color="#E5E5E5">we have we have packages frames each of</font>

513
00:26:52,499 --> 00:26:57,840
size 16 kilobytes<font color="#CCCCCC"> except</font><font color="#E5E5E5"> for the last</font>

514
00:26:56,070 --> 00:27:00,749
<font color="#E5E5E5">one which is</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> little bit more than</font><font color="#CCCCCC"> four</font>

515
00:26:57,840 --> 00:27:02,730
<font color="#E5E5E5">and then the server sends the server's</font>

516
00:27:00,749 --> 00:27:04,860
<font color="#E5E5E5">since that's why it says received</font>

517
00:27:02,730 --> 00:27:06,570
because<font color="#E5E5E5"> the clients receive a window</font>

518
00:27:04,860 --> 00:27:10,019
update frame that denotes that the

519
00:27:06,570 --> 00:27:12,149
window size increment is eight eight

520
00:27:10,019 --> 00:27:16,559
million so roughly<font color="#CCCCCC"> little less than</font>

521
00:27:12,149 --> 00:27:20,809
<font color="#CCCCCC">eight megabytes</font><font color="#E5E5E5"> now that makes my client</font>

522
00:27:16,559 --> 00:27:24,240
<font color="#E5E5E5">able to transmit again</font><font color="#CCCCCC"> and it sends it</font>

523
00:27:20,809 --> 00:27:27,330
<font color="#CCCCCC">completely fills the window</font><font color="#E5E5E5"> and then it</font>

524
00:27:24,240 --> 00:27:29,369
<font color="#E5E5E5">sits back waits 300 milliseconds for a</font>

525
00:27:27,330 --> 00:27:31,529
little bit less than<font color="#E5E5E5"> 400 milliseconds</font>

526
00:27:29,369 --> 00:27:33,570
<font color="#E5E5E5">for a new window update the reason why</font>

527
00:27:31,529 --> 00:27:35,789
we're waiting is because all of<font color="#E5E5E5"> these</font>

528
00:27:33,570 --> 00:27:38,549
packages<font color="#E5E5E5"> have to</font><font color="#CCCCCC"> be</font><font color="#E5E5E5"> acknowledged</font><font color="#CCCCCC"> before</font>

529
00:27:35,789 --> 00:27:42,389
being received at<font color="#CCCCCC"> the at the end</font><font color="#E5E5E5"> so</font>

530
00:27:38,549 --> 00:27:45,240
<font color="#E5E5E5">that's why the HTTP to implementation in</font>

531
00:27:42,389 --> 00:27:48,119
<font color="#CCCCCC">the server</font><font color="#E5E5E5"> doesn't respond until after</font>

532
00:27:45,240 --> 00:27:52,139
that time and<font color="#E5E5E5"> this is one of the reasons</font>

533
00:27:48,119 --> 00:27:55,769
why implementing a congestion protocol

534
00:27:52,139 --> 00:27:57,269
in an<font color="#CCCCCC"> application layer it's in the</font>

535
00:27:55,769 --> 00:28:03,059
application<font color="#E5E5E5"> layer is bad when TCP</font>

536
00:27:57,269 --> 00:28:06,269
already provides<font color="#CCCCCC"> it but yeah so this is</font>

537
00:28:03,059 --> 00:28:09,600
<font color="#CCCCCC">what I found</font><font color="#E5E5E5"> when connecting through the</font>

538
00:28:06,269 --> 00:28:12,299
<font color="#CCCCCC">alb</font><font color="#E5E5E5"> you see that you get to send one</font>

539
00:28:09,600 --> 00:28:15,719
data frame and<font color="#E5E5E5"> then you receive a window</font>

540
00:28:12,299 --> 00:28:18,149
update and then you send one data frame

541
00:28:15,720 --> 00:28:21,149
<font color="#E5E5E5">and you have the way to receive</font><font color="#CCCCCC"> a window</font>

542
00:28:18,149 --> 00:28:25,489
update and then you get then then

543
00:28:21,149 --> 00:28:28,110
<font color="#E5E5E5">they're being then they're being rather</font>

544
00:28:25,490 --> 00:28:32,129
<font color="#CCCCCC">then they're then they're feeling great</font>

545
00:28:28,110 --> 00:28:34,320
<font color="#E5E5E5">so they're they're handing you a window</font>

546
00:28:32,129 --> 00:28:35,879
size increment of 32 kilobyte which

547
00:28:34,320 --> 00:28:38,789
means that you can send<font color="#E5E5E5"> three data</font>

548
00:28:35,879 --> 00:28:43,889
frames and then<font color="#E5E5E5"> you have to wait and so</font>

549
00:28:38,789 --> 00:28:46,230
going back here<font color="#E5E5E5"> you see a direct</font><font color="#CCCCCC"> mapping</font>

550
00:28:43,889 --> 00:28:47,939
between the sawtooth pattern that I

551
00:28:46,230 --> 00:28:52,230
observed when look

552
00:28:47,940 --> 00:28:57,299
<font color="#CCCCCC">the connection trace</font><font color="#E5E5E5"> and how and and</font>

553
00:28:52,230 --> 00:29:00,779
these and this<font color="#CCCCCC"> behavior and so I was</font>

554
00:28:57,299 --> 00:29:03,509
<font color="#E5E5E5">like okay this this is it so we I</font>

555
00:29:00,779 --> 00:29:06,210
reported this in January<font color="#E5E5E5"> 2018 we had our</font>

556
00:29:03,509 --> 00:29:10,080
initial correspondences<font color="#E5E5E5"> in like</font><font color="#CCCCCC"> medial</font>

557
00:29:06,210 --> 00:29:12,120
<font color="#E5E5E5">January and then our</font><font color="#CCCCCC"> account manager</font><font color="#E5E5E5"> he</font>

558
00:29:10,080 --> 00:29:14,399
would you told us yeah you<font color="#CCCCCC"> gotta</font><font color="#E5E5E5"> upgrade</font>

559
00:29:12,120 --> 00:29:16,620
<font color="#E5E5E5">on January 17 he was like you got</font><font color="#CCCCCC"> to</font>

560
00:29:14,399 --> 00:29:18,360
upgrade<font color="#E5E5E5"> to a</font><font color="#CCCCCC"> me</font><font color="#E5E5E5"> aw as premium support if</font>

561
00:29:16,620 --> 00:29:21,570
<font color="#CCCCCC">you</font><font color="#E5E5E5"> want to have this case taken</font>

562
00:29:18,360 --> 00:29:23,370
seriously like your claim is you<font color="#CCCCCC"> don't</font>

563
00:29:21,570 --> 00:29:25,710
you<font color="#E5E5E5"> don't</font><font color="#CCCCCC"> have the privileges</font><font color="#E5E5E5"> you you</font>

564
00:29:23,370 --> 00:29:28,529
have to escalate to your to the<font color="#E5E5E5"> premium</font>

565
00:29:25,710 --> 00:29:31,440
<font color="#CCCCCC">support package so I guess</font><font color="#E5E5E5"> that's what</font>

566
00:29:28,529 --> 00:29:34,169
my our CTO did he was like okay let's

567
00:29:31,440 --> 00:29:36,090
let them let them<font color="#E5E5E5"> do it</font><font color="#CCCCCC"> and then we had</font>

568
00:29:34,169 --> 00:29:38,009
a big bit of pay it back and forth and<font color="#E5E5E5"> I</font>

569
00:29:36,090 --> 00:29:43,439
submitted some<font color="#E5E5E5"> words</font><font color="#CCCCCC"> his epitomes</font><font color="#E5E5E5"> and</font>

570
00:29:38,009 --> 00:29:45,210
and our case the case<font color="#E5E5E5"> handler informed</font>

571
00:29:43,440 --> 00:29:47,639
us that they<font color="#E5E5E5"> would return back so this</font>

572
00:29:45,210 --> 00:29:50,279
<font color="#E5E5E5">is this</font><font color="#CCCCCC"> is on January</font><font color="#E5E5E5"> 24 that's the last</font>

573
00:29:47,639 --> 00:29:52,889
<font color="#CCCCCC">correspondence we have with</font><font color="#E5E5E5"> them for</font>

574
00:29:50,279 --> 00:29:55,590
like six months<font color="#E5E5E5"> and they were like we're</font>

575
00:29:52,889 --> 00:29:58,678
<font color="#E5E5E5">gonna follow up</font><font color="#CCCCCC"> and so this again</font><font color="#E5E5E5"> this</font>

576
00:29:55,590 --> 00:30:02,370
was<font color="#CCCCCC"> something I did on the</font><font color="#E5E5E5"> side</font><font color="#CCCCCC"> so so</font>

577
00:29:58,679 --> 00:30:07,460
quickly<font color="#CCCCCC"> time flies and so but we never</font>

578
00:30:02,370 --> 00:30:10,229
heard<font color="#E5E5E5"> anything from AWS it's like no and</font>

579
00:30:07,460 --> 00:30:13,200
at some point we had your Kim<font color="#E5E5E5"> who was</font>

580
00:30:10,230 --> 00:30:15,740
supposed to talk<font color="#CCCCCC"> about Cuba needs so so</font>

581
00:30:13,200 --> 00:30:17,700
he starts and he's starting to we

582
00:30:15,740 --> 00:30:19,799
<font color="#E5E5E5">reinvestigate</font><font color="#CCCCCC"> it a</font><font color="#E5E5E5"> little bit because I</font>

583
00:30:17,700 --> 00:30:22,830
I<font color="#CCCCCC"> remember it I'm like have we ever</font>

584
00:30:19,799 --> 00:30:24,149
heard back and so so he's like oh yeah

585
00:30:22,830 --> 00:30:26,269
but you<font color="#E5E5E5"> can just disable there's an</font>

586
00:30:24,149 --> 00:30:30,779
option now and I was like what<font color="#E5E5E5"> why I</font>

587
00:30:26,269 --> 00:30:32,909
there's no option but<font color="#E5E5E5"> so I go in and I I</font>

588
00:30:30,779 --> 00:30:35,970
find on the<font color="#CCCCCC"> github repositories for the</font>

589
00:30:32,909 --> 00:30:38,879
SDKs for<font color="#E5E5E5"> go and for JavaScript that they</font>

590
00:30:35,970 --> 00:30:40,679
have been updated on February 22nd<font color="#CCCCCC"> to</font>

591
00:30:38,879 --> 00:30:43,439
include an option<font color="#CCCCCC"> that I</font><font color="#E5E5E5"> have failed to</font>

592
00:30:40,679 --> 00:30:46,649
<font color="#E5E5E5">paste into my slides</font><font color="#CCCCCC"> but basically it's</font>

593
00:30:43,440 --> 00:30:49,230
routing<font color="#CCCCCC"> Todd ng routing toward</font><font color="#E5E5E5"> HTTP</font><font color="#CCCCCC"> to</font>

594
00:30:46,649 --> 00:30:52,258
and then you can<font color="#CCCCCC"> enable and disable it</font>

595
00:30:49,230 --> 00:30:54,179
and so this one this<font color="#E5E5E5"> is on</font><font color="#CCCCCC"> February 22nd</font>

596
00:30:52,259 --> 00:30:57,210
and we<font color="#CCCCCC"> didn't hear anything about</font><font color="#E5E5E5"> it and</font>

597
00:30:54,179 --> 00:31:01,350
it would<font color="#E5E5E5"> have been by informing us that</font>

598
00:30:57,210 --> 00:31:03,840
<font color="#E5E5E5">we had this option to disable HTTP</font><font color="#CCCCCC"> to we</font>

599
00:31:01,350 --> 00:31:05,490
could have<font color="#E5E5E5"> enabled the old load the new</font>

600
00:31:03,840 --> 00:31:10,620
load balancer rather than using<font color="#E5E5E5"> the old</font>

601
00:31:05,490 --> 00:31:12,720
one<font color="#E5E5E5"> but they didn't tell us</font><font color="#CCCCCC"> and so yeah</font>

602
00:31:10,620 --> 00:31:15,870
so<font color="#CCCCCC"> we canceled</font><font color="#E5E5E5"> the premium support</font><font color="#CCCCCC"> I</font>

603
00:31:12,720 --> 00:31:17,970
think<font color="#CCCCCC"> my I think we had I think</font><font color="#E5E5E5"> we paid</font>

604
00:31:15,870 --> 00:31:20,580
it for<font color="#CCCCCC"> awhile actually it's it's</font><font color="#E5E5E5"> quite</font>

605
00:31:17,970 --> 00:31:25,070
<font color="#E5E5E5">expensive</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> like I guess you</font><font color="#CCCCCC"> got a</font>

606
00:31:20,580 --> 00:31:28,620
prize for<font color="#E5E5E5"> being stupid enough</font><font color="#CCCCCC"> to pay no</font>

607
00:31:25,070 --> 00:31:30,149
<font color="#E5E5E5">yeah so again time flies we have no time</font>

608
00:31:28,620 --> 00:31:32,820
<font color="#E5E5E5">frame on the resolution of this issue</font>

609
00:31:30,150 --> 00:31:34,350
and at this point<font color="#E5E5E5"> we haven't even had</font>

610
00:31:32,820 --> 00:31:36,689
any<font color="#CCCCCC"> acknowledgement we were just told</font>

611
00:31:34,350 --> 00:31:38,490
<font color="#CCCCCC">that we'd be letting</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> know and</font><font color="#E5E5E5"> now</font>

612
00:31:36,690 --> 00:31:42,419
the subscription<font color="#E5E5E5"> has been cancelled and</font>

613
00:31:38,490 --> 00:31:48,169
it's like what<font color="#E5E5E5"> what can we do so tying</font>

614
00:31:42,419 --> 00:31:48,169
<font color="#E5E5E5">back to</font><font color="#CCCCCC"> the initial</font><font color="#E5E5E5"> through my initial</font>

615
00:31:49,580 --> 00:31:56,010
problem<font color="#E5E5E5"> analysis I found that there were</font>

616
00:31:53,850 --> 00:31:58,020
<font color="#E5E5E5">no one else that had reported anything</font>

617
00:31:56,010 --> 00:32:01,080
like it was really<font color="#E5E5E5"> really hard to</font><font color="#CCCCCC"> find</font>

618
00:31:58,020 --> 00:32:05,990
<font color="#E5E5E5">anything remotely related</font><font color="#CCCCCC"> to my issue so</font>

619
00:32:01,080 --> 00:32:09,539
I thought I just<font color="#CCCCCC"> thought that liked it</font>

620
00:32:05,990 --> 00:32:14,059
<font color="#E5E5E5">it seemed at the time it seemed</font>

621
00:32:09,539 --> 00:32:14,059
especially<font color="#E5E5E5"> in December it seemed rather</font>

622
00:32:14,419 --> 00:32:20,370
<font color="#E5E5E5">it seemed like it would be its first off</font>

623
00:32:19,169 --> 00:32:21,600
it seemed like it would<font color="#CCCCCC"> be ashamed that</font>

624
00:32:20,370 --> 00:32:25,530
my<font color="#E5E5E5"> efforts go to waste</font>

625
00:32:21,600 --> 00:32:28,860
obviously this my we still had<font color="#E5E5E5"> the</font>

626
00:32:25,530 --> 00:32:31,260
problems and it at this<font color="#E5E5E5"> time</font><font color="#CCCCCC"> I was</font>

627
00:32:28,860 --> 00:32:33,899
apparent<font color="#E5E5E5"> to me</font><font color="#CCCCCC"> that no one else had</font>

628
00:32:31,260 --> 00:32:36,419
reported this at this time<font color="#E5E5E5"> so so I</font>

629
00:32:33,900 --> 00:32:40,260
decided I'd make a public<font color="#E5E5E5"> reporting</font>

630
00:32:36,419 --> 00:32:42,419
<font color="#E5E5E5">about it I wrote a medium blog post</font><font color="#CCCCCC"> so</font>

631
00:32:40,260 --> 00:32:44,908
the basis was of course the<font color="#CCCCCC"> initial</font>

632
00:32:42,419 --> 00:32:48,600
report submitted<font color="#E5E5E5"> in</font><font color="#CCCCCC"> China in January and</font>

633
00:32:44,909 --> 00:32:51,870
and so I also added a narrative<font color="#E5E5E5"> to</font><font color="#CCCCCC"> sort</font>

634
00:32:48,600 --> 00:32:54,959
<font color="#E5E5E5">of explain this and the slides will have</font>

635
00:32:51,870 --> 00:32:56,189
will<font color="#E5E5E5"> be online later and they have</font><font color="#CCCCCC"> there</font>

636
00:32:54,960 --> 00:32:58,620
<font color="#E5E5E5">is a link you can</font><font color="#CCCCCC"> also find it</font><font color="#E5E5E5"> on my</font>

637
00:32:56,190 --> 00:33:02,010
<font color="#CCCCCC">Twitter page</font><font color="#E5E5E5"> and it's it contains like</font>

638
00:32:58,620 --> 00:33:08,399
the detailed write-up<font color="#CCCCCC"> that explains all</font>

639
00:33:02,010 --> 00:33:11,970
<font color="#CCCCCC">the all the contains links</font><font color="#E5E5E5"> to the ng</font><font color="#CCCCCC"> hcp</font>

640
00:33:08,400 --> 00:33:14,120
suicide and CCP<font color="#E5E5E5"> trade side and you get</font>

641
00:33:11,970 --> 00:33:17,690
much more<font color="#E5E5E5"> details from</font><font color="#CCCCCC"> that</font>

642
00:33:14,120 --> 00:33:21,908
and it was a nice exercise<font color="#E5E5E5"> to sort of</font>

643
00:33:17,690 --> 00:33:25,279
make a<font color="#CCCCCC"> write up that would get indexed</font>

644
00:33:21,909 --> 00:33:27,140
<font color="#E5E5E5">so medium has this thing where</font><font color="#CCCCCC"> you</font><font color="#E5E5E5"> press</font>

645
00:33:25,279 --> 00:33:30,340
share<font color="#E5E5E5"> and I was like I</font><font color="#CCCCCC"> never used it</font>

646
00:33:27,140 --> 00:33:33,710
<font color="#E5E5E5">before so</font><font color="#CCCCCC"> I did that</font><font color="#E5E5E5"> and I had the most</font>

647
00:33:30,340 --> 00:33:36,439
boring<font color="#E5E5E5"> Twitter posts added to my Twitter</font>

648
00:33:33,710 --> 00:33:40,039
account it's like okay<font color="#E5E5E5"> so nothing really</font>

649
00:33:36,440 --> 00:33:42,409
happened<font color="#E5E5E5"> and then in July I was like</font><font color="#CCCCCC"> hmm</font>

650
00:33:40,039 --> 00:33:45,950
<font color="#E5E5E5">what</font><font color="#CCCCCC"> happens if I posted on lobsters so</font>

651
00:33:42,409 --> 00:33:49,700
lobsters is the crustaceans hacker news

652
00:33:45,950 --> 00:33:53,330
<font color="#CCCCCC">and so basically hacker news is terrible</font>

653
00:33:49,700 --> 00:33:56,059
and don't spend time there<font color="#E5E5E5"> I don't so</font>

654
00:33:53,330 --> 00:33:58,309
but lobsters is like a community<font color="#E5E5E5"> similar</font>

655
00:33:56,059 --> 00:34:02,149
to that link aggregation<font color="#E5E5E5"> and commenting</font>

656
00:33:58,309 --> 00:34:05,750
site and<font color="#E5E5E5"> it's yeah I figure it it's a</font>

657
00:34:02,149 --> 00:34:07,729
<font color="#E5E5E5">shot let's post it there and then I got</font>

658
00:34:05,750 --> 00:34:09,619
<font color="#E5E5E5">like</font><font color="#CCCCCC"> fifty fifteen hundred wreaths</font><font color="#E5E5E5"> on</font>

659
00:34:07,730 --> 00:34:12,199
<font color="#E5E5E5">the medium statistics thing it's like</font>

660
00:34:09,619 --> 00:34:14,839
<font color="#CCCCCC">okay and</font><font color="#E5E5E5"> eventually it caught wind I was</font>

661
00:34:12,199 --> 00:34:17,658
on<font color="#CCCCCC"> vacation in Portugal and I had a I</font>

662
00:34:14,839 --> 00:34:21,080
had an email<font color="#E5E5E5"> from</font><font color="#CCCCCC"> my boss</font><font color="#E5E5E5"> about Amazon</font>

663
00:34:17,659 --> 00:34:24,220
reaching out so so yeah the aftermath of

664
00:34:21,080 --> 00:34:28,549
this is that after<font color="#CCCCCC"> having the</font><font color="#E5E5E5"> publicly</font>

665
00:34:24,219 --> 00:34:30,529
denounced<font color="#E5E5E5"> their HTTP to support</font><font color="#CCCCCC"> they've</font>

666
00:34:28,550 --> 00:34:32,089
actually reached out and they've been

667
00:34:30,530 --> 00:34:34,760
working<font color="#E5E5E5"> with</font><font color="#CCCCCC"> us they've been extending</font>

668
00:34:32,089 --> 00:34:36,889
their sincere apologies<font color="#E5E5E5"> and they've</font>

669
00:34:34,760 --> 00:34:40,970
acknowledged the issue so this was

670
00:34:36,889 --> 00:34:45,260
important<font color="#CCCCCC"> I remember I remember at</font><font color="#E5E5E5"> this</font>

671
00:34:40,969 --> 00:34:47,750
<font color="#CCCCCC">I remember</font><font color="#E5E5E5"> after the meeting I was my</font>

672
00:34:45,260 --> 00:34:52,520
<font color="#E5E5E5">RCT always like yeah you're right</font><font color="#CCCCCC"> it's</font>

673
00:34:47,750 --> 00:34:55,129
like I know<font color="#E5E5E5"> like but apparently like he</font>

674
00:34:52,520 --> 00:34:56,899
needed<font color="#CCCCCC"> that</font><font color="#E5E5E5"> and so which is</font><font color="#CCCCCC"> fine but</font>

675
00:34:55,129 --> 00:34:59,509
<font color="#E5E5E5">it's just</font><font color="#CCCCCC"> like this is what they're</font>

676
00:34:56,899 --> 00:35:02,900
<font color="#E5E5E5">holding back</font><font color="#CCCCCC"> and they've got a</font>

677
00:34:59,510 --> 00:35:04,670
<font color="#E5E5E5">preliminary fix that</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> have tested and</font>

678
00:35:02,900 --> 00:35:06,530
<font color="#E5E5E5">it works is there's like no performance</font>

679
00:35:04,670 --> 00:35:10,250
<font color="#E5E5E5">degradation whatsoever</font><font color="#CCCCCC"> now so that's</font>

680
00:35:06,530 --> 00:35:14,810
fine<font color="#E5E5E5"> and we've gotten sizable discounts</font>

681
00:35:10,250 --> 00:35:18,290
on our AWS bill so I don't know maybe<font color="#E5E5E5"> I</font>

682
00:35:14,810 --> 00:35:20,180
should get a raise and so for the

683
00:35:18,290 --> 00:35:23,869
technically<font color="#E5E5E5"> inclined</font><font color="#CCCCCC"> what they did was</font>

684
00:35:20,180 --> 00:35:27,140
they if<font color="#E5E5E5"> you remember the</font><font color="#CCCCCC"> VIN the snippet</font>

685
00:35:23,869 --> 00:35:29,900
before<font color="#CCCCCC"> they proactively omit</font>

686
00:35:27,140 --> 00:35:31,250
window<font color="#CCCCCC"> update frames ahead of</font><font color="#E5E5E5"> time</font><font color="#CCCCCC"> so</font>

687
00:35:29,900 --> 00:35:33,350
<font color="#E5E5E5">there's the reason</font><font color="#CCCCCC"> why</font><font color="#E5E5E5"> we have the</font>

688
00:35:31,250 --> 00:35:36,380
sawtooth pattern is<font color="#E5E5E5"> that the client</font>

689
00:35:33,350 --> 00:35:39,080
quickly exhausts<font color="#E5E5E5"> it's a loud window of</font>

690
00:35:36,380 --> 00:35:42,140
packages<font color="#E5E5E5"> and then it has to wait</font><font color="#CCCCCC"> for</font><font color="#E5E5E5"> the</font>

691
00:35:39,080 --> 00:35:44,569
<font color="#CCCCCC">HTTP to server to respond back and say</font>

692
00:35:42,140 --> 00:35:47,569
hey you can send some more<font color="#E5E5E5"> so now if</font>

693
00:35:44,570 --> 00:35:49,130
they are able<font color="#E5E5E5"> to handle more data they</font>

694
00:35:47,570 --> 00:35:51,500
will<font color="#E5E5E5"> just send</font><font color="#CCCCCC"> you new window update</font>

695
00:35:49,130 --> 00:35:55,120
frames and so they will send<font color="#E5E5E5"> them with</font>

696
00:35:51,500 --> 00:35:59,090
various<font color="#CCCCCC"> window size increments but but</font>

697
00:35:55,120 --> 00:36:02,690
it's particularly the client will never

698
00:35:59,090 --> 00:36:04,790
<font color="#E5E5E5">exhaust</font><font color="#CCCCCC"> its window</font><font color="#E5E5E5"> on this there is a</font>

699
00:36:02,690 --> 00:36:08,300
<font color="#E5E5E5">reason to it and that will prevent the</font>

700
00:36:04,790 --> 00:36:17,830
sawtooth pattern behavior<font color="#CCCCCC"> to</font><font color="#E5E5E5"> stop and go</font>

701
00:36:08,300 --> 00:36:19,240
behavior so that's it<font color="#E5E5E5"> thanks for</font><font color="#CCCCCC"> coming</font>

702
00:36:17,830 --> 00:36:29,420
[Applause]

703
00:36:19,240 --> 00:36:30,890
<font color="#CCCCCC">any questions so I didn't</font><font color="#E5E5E5"> quite catch</font><font color="#CCCCCC"> if</font>

704
00:36:29,420 --> 00:36:32,570
you mention it but why were<font color="#E5E5E5"> you the only</font>

705
00:36:30,890 --> 00:36:34,339
one<font color="#E5E5E5"> to encounter this issue this sounds</font>

706
00:36:32,570 --> 00:36:37,160
<font color="#CCCCCC">like a general problem today should be</font>

707
00:36:34,340 --> 00:36:42,080
<font color="#E5E5E5">to implementation</font><font color="#CCCCCC"> there is the</font><font color="#E5E5E5"> eye I</font>

708
00:36:37,160 --> 00:36:45,379
guess I guess so I I guess that<font color="#E5E5E5"> so this</font>

709
00:36:42,080 --> 00:36:49,100
what<font color="#CCCCCC"> amazon so</font><font color="#E5E5E5"> there are multiple</font>

710
00:36:45,380 --> 00:36:51,260
questions here so first the there are

711
00:36:49,100 --> 00:36:52,790
multiple answers<font color="#E5E5E5"> here so first I'm I</font>

712
00:36:51,260 --> 00:36:54,170
don't<font color="#E5E5E5"> think we</font><font color="#CCCCCC"> are the</font><font color="#E5E5E5"> first ones to</font>

713
00:36:52,790 --> 00:36:57,550
<font color="#E5E5E5">discover it but I think we're the first</font>

714
00:36:54,170 --> 00:37:00,950
<font color="#CCCCCC">ones to actually ignore like</font>

715
00:36:57,550 --> 00:37:02,930
investigated<font color="#CCCCCC"> secondly it only</font><font color="#E5E5E5"> effects</font>

716
00:37:00,950 --> 00:37:04,879
clients uploading so there is no

717
00:37:02,930 --> 00:37:06,799
performance<font color="#CCCCCC"> degradation when you're</font>

718
00:37:04,880 --> 00:37:08,750
downloading<font color="#E5E5E5"> like when when when a</font>

719
00:37:06,800 --> 00:37:10,400
service is streaming something through

720
00:37:08,750 --> 00:37:15,290
the<font color="#CCCCCC"> elbe to a client there is no</font>

721
00:37:10,400 --> 00:37:17,600
degradation<font color="#E5E5E5"> and so</font><font color="#CCCCCC"> amazon have</font>

722
00:37:15,290 --> 00:37:19,910
acknowledged the<font color="#E5E5E5"> particular case where</font>

723
00:37:17,600 --> 00:37:24,560
it's a problem with<font color="#E5E5E5"> the</font><font color="#CCCCCC"> upload only and</font>

724
00:37:19,910 --> 00:37:28,640
then<font color="#E5E5E5"> someone wrote a medium post reply</font>

725
00:37:24,560 --> 00:37:31,850
on on the post<font color="#E5E5E5"> about</font><font color="#CCCCCC"> that they had</font>

726
00:37:28,640 --> 00:37:34,129
experienced the same issues and that

727
00:37:31,850 --> 00:37:38,360
they were grateful for<font color="#CCCCCC"> our reports</font><font color="#E5E5E5"> so</font>

728
00:37:34,130 --> 00:37:39,800
why is the other quiet<font color="#E5E5E5"> likewise is is a</font>

729
00:37:38,360 --> 00:37:40,460
different question but<font color="#CCCCCC"> I think</font><font color="#E5E5E5"> that most</font>

730
00:37:39,800 --> 00:37:42,470
<font color="#E5E5E5">people would</font><font color="#CCCCCC"> just</font>

731
00:37:40,460 --> 00:37:44,660
if you run into<font color="#E5E5E5"> this issue and you're</font>

732
00:37:42,470 --> 00:37:46,009
faced with a AWS support you're like

733
00:37:44,660 --> 00:37:48,680
<font color="#E5E5E5">okay you can go to the forum you</font><font color="#CCCCCC"> can</font>

734
00:37:46,010 --> 00:37:52,370
<font color="#E5E5E5">post something and then you know maybe</font>

735
00:37:48,680 --> 00:37:53,890
<font color="#E5E5E5">just maybe someone will say you did this</font>

736
00:37:52,370 --> 00:37:56,990
wrong<font color="#E5E5E5"> or you did this wrong but</font>

737
00:37:53,890 --> 00:37:59,120
<font color="#E5E5E5">acknowledgement on behalf of like</font><font color="#CCCCCC"> having</font>

738
00:37:56,990 --> 00:38:00,859
<font color="#E5E5E5">a cloud service</font><font color="#CCCCCC"> provider like</font><font color="#E5E5E5"> Amazon</font>

739
00:37:59,120 --> 00:38:02,569
<font color="#CCCCCC">acknowledge that</font><font color="#E5E5E5"> there's an issue in</font>

740
00:38:00,860 --> 00:38:04,550
<font color="#CCCCCC">their implementation is just</font><font color="#E5E5E5"> extremely</font>

741
00:38:02,570 --> 00:38:06,860
hard as the<font color="#E5E5E5"> shows even for something</font>

742
00:38:04,550 --> 00:38:09,770
with a very simple<font color="#E5E5E5"> fix</font><font color="#CCCCCC"> like</font><font color="#E5E5E5"> this was</font>

743
00:38:06,860 --> 00:38:13,640
really<font color="#E5E5E5"> simple to fix and simple to</font>

744
00:38:09,770 --> 00:38:17,330
<font color="#E5E5E5">acknowledge in my humble opinion</font><font color="#CCCCCC"> but</font>

745
00:38:13,640 --> 00:38:18,859
yeah so so I guess they<font color="#CCCCCC"> just I</font><font color="#E5E5E5"> think if</font>

746
00:38:17,330 --> 00:38:21,259
you run into<font color="#CCCCCC"> this issue</font>

747
00:38:18,860 --> 00:38:26,150
you just downgrade as we did with<font color="#E5E5E5"> to the</font>

748
00:38:21,260 --> 00:38:30,930
you'll be<font color="#E5E5E5"> good question though any more</font>

749
00:38:26,150 --> 00:38:36,880
questions well thank you<font color="#E5E5E5"> Peter</font>

750
00:38:30,930 --> 00:38:36,879
[Applause]

