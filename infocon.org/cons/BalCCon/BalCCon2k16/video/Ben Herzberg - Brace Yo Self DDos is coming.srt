1
00:00:20,830 --> 00:00:24,788
man Hertzberg will be holding the
lecture brace yourself

2
00:00:24,789 --> 00:00:32,739
the darkness is coming thank you

3
00:00:32,738 --> 00:00:38,739
ok I kind of first spread all over the
room so that surely helps with my ADHD

4
00:00:38,739 --> 00:00:46,360
so let that let s start and start by
saying that this is a a part of the

5
00:00:46,360 --> 00:00:51,879
workshop but because it was sort of a
last minute the thing it will be just an

6
00:00:51,879 --> 00:00:57,159
hour so i'll try to squeeze in as much
as that we can hope it will be fun we'll

7
00:00:57,159 --> 00:01:04,809
have some live demo and talk about
dildos and it will surely be fun

8
00:01:04,809 --> 00:01:12,190
so first of all let's start with me i
have two children a boy and a girl i'm

9
00:01:12,190 --> 00:01:17,860
on my career path was there mainly
offensive security and the development

10
00:01:17,860 --> 00:01:25,660
and so that's my that's what is that
also heats what I like to do and

11
00:01:25,660 --> 00:01:29,619
currently I'm the security research
group manager for a pervert incapsula

12
00:01:29,620 --> 00:01:35,230
where we do those mitigation web
application protection and sophisticated

13
00:01:35,230 --> 00:01:40,990
the automation attacks mitigation and
such so that that's what I do and

14
00:01:40,990 --> 00:01:49,149
there's also my social media skills my
social media links so I disclaimer

15
00:01:49,150 --> 00:01:54,970
whatever I say or do is the way the this
presentation is mine and not the

16
00:01:54,970 --> 00:02:00,340
company's so if I say something i don't
know i will try not to say something bad

17
00:02:00,340 --> 00:02:01,659
that if I will

18
00:02:01,659 --> 00:02:06,670
it's mine and we also have a small game
rule because they will be in the talk

19
00:02:06,670 --> 00:02:10,209
two days ago and I thought that there is
a tradition with the rockiest things

20
00:02:10,209 --> 00:02:17,530
that the that's here so i think this is
a digital stock excluding this slide

21
00:02:17,530 --> 00:02:20,410
which I have to explain the rule

22
00:02:20,410 --> 00:02:26,920
and whenever I say amplification ok
there's the there's a shot for all food

23
00:02:26,920 --> 00:02:32,200
whoever won from this area but I I need
a volunteer to do this so who wants to

24
00:02:32,200 --> 00:02:37,030
volunteer I need something someone
responsible so come on someone to help

25
00:02:37,030 --> 00:02:42,160
me out here and I need someone who's but
we can wait until the end of the talk

26
00:02:42,160 --> 00:02:42,790
okay

27
00:02:42,790 --> 00:02:45,880
no no stress come on come on

28
00:02:45,880 --> 00:02:55,930
ok you ok yes the volunteer needs to
handle the shot issue when I say

29
00:02:55,930 --> 00:03:01,660
whenever I say amplification that's a
but he has to be responsible i don't

30
00:03:01,660 --> 00:03:08,650
also not give you two under 18 0 so lots
of responsibilities so here it is okay

31
00:03:08,650 --> 00:03:14,350
if I say if i say amplification outside
of this light and they will so you see

32
00:03:14,350 --> 00:03:19,390
anyone want to take a shot at work no
but yeah you give a shout-out to whoever

33
00:03:19,390 --> 00:03:20,679
wants to wear

34
00:03:20,680 --> 00:03:23,890
yeah tough game

35
00:03:23,890 --> 00:03:29,859
ok it only the nao consider it ok ok you
can send as well

36
00:03:29,860 --> 00:03:35,980
okay so well let's start with the actual
talk and so let's start with de dos

37
00:03:35,980 --> 00:03:40,570
attacks because i'm i'm sure that their
many of you are familiar with the

38
00:03:40,570 --> 00:03:43,780
attacks but let's do a small intro just
in case

39
00:03:43,780 --> 00:03:51,550
so what adidas attack adidas attack is
any attack as that the that goes that

40
00:03:51,550 --> 00:04:00,400
that that is aimed at this a disrupting
or add the RM RM denying service any

41
00:04:00,400 --> 00:04:04,209
type of service and there are two terms
Addison the

42
00:04:04,800 --> 00:04:10,530
and the dog attacks and the difference
is the extra day in the beginning which

43
00:04:10,530 --> 00:04:16,950
means distributed so any dos attack is
basically an attack that is aimed at

44
00:04:16,950 --> 00:04:18,959
disrupting service right

45
00:04:18,959 --> 00:04:23,730
adidas attack is distributed meaning
that we are running it through a lot of

46
00:04:23,730 --> 00:04:31,710
parallel a machines and the idea is
first to leverage and leverage yourself

47
00:04:31,710 --> 00:04:39,210
so if I have one mega beat and and i'm
using a 100 other machines who have one

48
00:04:39,210 --> 00:04:45,930
megabit i have now 100 feet or jacob it
so that the first thing in the end it's

49
00:04:45,930 --> 00:04:52,080
another layer of separation between the
attacker and the and the victims as we

50
00:04:52,080 --> 00:04:57,419
will lay soon see but the terms are used
interchangeably today so today mostly

51
00:04:57,420 --> 00:05:00,030
when it referred to it Dios attacks

52
00:05:00,030 --> 00:05:06,030
ok so let's make another distinction
between a volumetric attacks and and the

53
00:05:06,030 --> 00:05:11,880
application layer attacks and volumetric
attacks are attacks that are aimed at

54
00:05:11,880 --> 00:05:14,580
sending a lot of traffic

55
00:05:14,580 --> 00:05:18,180
well usually it's either a lot of
traffic or a lot of packets a lot of

56
00:05:18,180 --> 00:05:26,460
small packets to an a to the victim and
usually the this is established using

57
00:05:26,460 --> 00:05:30,479
get and reflective amplification and
techniques

58
00:05:30,480 --> 00:05:37,200
ok I needed someone responsible

59
00:05:37,200 --> 00:05:40,830
ok you can hit so no no you go ahead

60
00:05:41,400 --> 00:05:47,580
ok so I'm so usually that the context
that was speaking about that don't want

61
00:05:47,580 --> 00:05:53,280
people to get drunk in the beginning so
I am so basically this Technic

62
00:05:53,280 --> 00:06:03,450
reflective me is is basically sending a
command sending packets to a service and

63
00:06:03,450 --> 00:06:13,050
usually over UDP where what's missing in
UDP in contradicted to tcp yeah the

64
00:06:13,050 --> 00:06:14,220
triple handshake

65
00:06:14,220 --> 00:06:16,230
so in UDP I can say

66
00:06:16,230 --> 00:06:21,720
I'm the source and give a fake IP
address and then I'm asking a question

67
00:06:21,720 --> 00:06:30,450
getting a lot of fair and a lot of
getting more data from a server that I'm

68
00:06:30,450 --> 00:06:35,670
queering and that data is not time to me
sent to the victim and we will see that

69
00:06:35,670 --> 00:06:42,150
the film we also around a small test to
see how it looks like network wise so

70
00:06:42,150 --> 00:06:47,729
this is how basically it looks like in
in our systems to the left you can see

71
00:06:47,730 --> 00:06:56,910
you can see a band with a event with
based the volumetric attack so we have

72
00:06:56,910 --> 00:07:05,250
around 300 bit of traffic and going
through to the to the victim and the pic

73
00:07:05,250 --> 00:07:11,610
that the top that we've seen so far is
470 gigabit per second and to the right

74
00:07:11,610 --> 00:07:14,610
you see an attack that's a

75
00:07:15,110 --> 00:07:20,090
a base that high makeup makeup packets
per second meaning that we're sending

76
00:07:20,090 --> 00:07:24,919
smaller packets that we're sending a lot
of packets now what's the idea behind

77
00:07:24,920 --> 00:07:33,110
this this think basically since we need
to deny the service we don't really care

78
00:07:33,110 --> 00:07:41,120
how so one of the ways is to to exhaust
the bandwidth of our victim and another

79
00:07:41,120 --> 00:07:46,400
way is to send so many packets that the
controls like the edge router and the

80
00:07:46,400 --> 00:07:49,400
firewall will not be able to

81
00:07:50,090 --> 00:07:58,340
to take care of and and then we also
have a denial-of-service a opposed to a

82
00:07:58,340 --> 00:08:04,250
volumetric attacks layer 7 attacks or
application their attacks attacks and is

83
00:08:04,250 --> 00:08:11,960
that are done not by spoofing addresses
or sending a lot of the packet but by a

84
00:08:11,960 --> 00:08:20,900
by causing and operations that are a
expensive to the victim and and we're

85
00:08:20,900 --> 00:08:26,330
sending them for example if I have a
price comparison website and the price

86
00:08:26,330 --> 00:08:32,689
comparison website i don't know where if
how many of you deal with database

87
00:08:32,690 --> 00:08:37,729
design but usually when you have such a
website you would try to index it

88
00:08:37,729 --> 00:08:44,750
properly because a lot of people will
try to get the a product sorted by the

89
00:08:44,750 --> 00:08:50,360
lowest price right or the highest rating
so if I'm an attacker i will do the

90
00:08:50,360 --> 00:08:57,380
opposite i will try to to get to
probably a content that is it's not

91
00:08:57,380 --> 00:09:03,620
catchable and their content that page 29
sorted by I don't know where company

92
00:09:03,620 --> 00:09:09,200
size or a or something like that and
doing whatever I can so that each

93
00:09:09,200 --> 00:09:15,260
request to the database would take more
effort and sending enough of these the

94
00:09:15,260 --> 00:09:21,350
can can disrupt the service because the
database service its server will not

95
00:09:21,350 --> 00:09:27,589
function or end or the web server will
not function so and the layer 7 attacks

96
00:09:27,589 --> 00:09:31,850
can also be logical for example if I
have a bank account at a bank if I have

97
00:09:31,850 --> 00:09:37,130
a bank and they don't have a bank but if
I had a bank and if the forgot password

98
00:09:37,130 --> 00:09:44,300
mechanism it would when I am placing an
email let's say it blocks this account

99
00:09:44,300 --> 00:09:49,520
until a it reset the password send the
new password by mail with the talkin

100
00:09:49,520 --> 00:09:51,120
link

101
00:09:51,120 --> 00:09:57,089
it's and the activation link to the a to
the client but then it blocks the

102
00:09:57,089 --> 00:10:02,910
account infinitely if I can enumerate
all the email addresses of the bank

103
00:10:02,910 --> 00:10:08,550
clients i can deny service in a logical
way by simply resetting all the

104
00:10:08,550 --> 00:10:13,560
passwords of all the clients so that's
another type now there's something in

105
00:10:13,560 --> 00:10:18,270
the middle between volumetric attack and
layer 7 attacks that a volumetric layer

106
00:10:18,270 --> 00:10:23,160
7 attacks basically sending a lot of
fair HTTP request so it means that we're

107
00:10:23,160 --> 00:10:29,910
completing the three-way handshake and
sending let's say a post request just

108
00:10:29,910 --> 00:10:34,980
sending example you metrically sending
tons of them and usually using a button

109
00:10:34,980 --> 00:10:42,390
it so that that's how those attacks
looks like so we see a LOL and a in

110
00:10:42,390 --> 00:10:49,110
proportionate amount of traffic being
sent to a website and we're seeing tons

111
00:10:49,110 --> 00:10:53,220
of requests sent to the to the website
and there's those are all a

112
00:10:53,830 --> 00:10:59,590
and the attack you can see in the bottom
you almost can't see that the legitimate

113
00:10:59,590 --> 00:11:06,220
traffic because the the attack is so
much stronger so that that's how it

114
00:11:06,220 --> 00:11:13,660
looks like when the website is the being
being gay attacked using the application

115
00:11:13,660 --> 00:11:20,230
layer volumetric attack what we do about
these types of attacks we fingerprint

116
00:11:20,230 --> 00:11:28,480
clients according to my certain and
layers of the fingerprinting is to find

117
00:11:28,480 --> 00:11:33,700
out that what they bought and what's not
there and when they're initiating the

118
00:11:33,700 --> 00:11:37,630
connection so anyway before we go

119
00:11:38,530 --> 00:11:42,040
a further just two more read statistics

120
00:11:42,700 --> 00:11:48,550
ok so we make this quarterly report like
every research group make some sort of

121
00:11:48,550 --> 00:11:53,560
quarterly report and so we make a
quarterly this report and in the

122
00:11:54,310 --> 00:11:59,650
in the last one almost twenty-five
percent of the attacks were multi-vector

123
00:11:59,650 --> 00:12:05,860
at once so and this keeps going a higher
and and the attackers are of course

124
00:12:05,860 --> 00:12:10,600
getting more sophisticated and for
example they're using javascript

125
00:12:10,600 --> 00:12:18,940
supported clients in order to to bypass
some of the adidas mitigation and a

126
00:12:18,940 --> 00:12:25,060
tools they're using their supporting
cookies they're doing a lot of things to

127
00:12:25,060 --> 00:12:32,079
to to steal and get an advantage in this
study this game and and these

128
00:12:32,080 --> 00:12:37,360
percentages keeps going I of course and
second thing is that what we've seen

129
00:12:37,360 --> 00:12:39,310
that sides are getting attacked

130
00:12:39,310 --> 00:12:44,439
even though the sites we have statistics
for our site which are protected so even

131
00:12:44,440 --> 00:12:49,930
though their tax fail and we see that
more and more a sites are getting greedy

132
00:12:49,930 --> 00:12:55,089
attacked the reason to that i will not
go in in depth about that because I

133
00:12:55,089 --> 00:13:00,490
deleted it from the presentation because
we don't have a lot of time and is the

134
00:13:00,490 --> 00:13:08,890
digital economy which it's very cheap to
issue these attacks and just today to

135
00:13:08,890 --> 00:13:16,420
Israeli guys from my country were
arrested for running an adidas a call it

136
00:13:16,420 --> 00:13:21,459
does booter called videos and they were
arrested today but they were operating

137
00:13:21,460 --> 00:13:29,710
for two years and and he is a earned
over six hundred thousand dollars and

138
00:13:29,710 --> 00:13:35,290
revenue for doing the DDoS attacks so
they had some pocket money for it and

139
00:13:35,290 --> 00:13:35,980
the

140
00:13:35,980 --> 00:13:43,150
and and usually these types of attacks
cost between anywhere between five and

141
00:13:43,150 --> 00:13:48,579
thirty dollars and $MONEY per month for
let's say for about an hour of attack

142
00:13:48,580 --> 00:13:51,400
which is enough

143
00:13:51,400 --> 00:13:59,800
and to cause considerable damage so why
why why would anyone want to do this I

144
00:13:59,800 --> 00:14:05,949
mean I can understand that why i want to
do with a sequel injection and to get

145
00:14:05,950 --> 00:14:12,100
credit card so I can buy stuff I can
understand why I want to do it with a

146
00:14:12,100 --> 00:14:19,240
sequel injection attacks in order to get
information which I can trade with I can

147
00:14:19,240 --> 00:14:24,580
understand why I want remote code
execution over a machine because of

148
00:14:24,580 --> 00:14:30,670
reasons and I can understand why I want
their store excess why would they want

149
00:14:30,670 --> 00:14:35,260
to do a two-run adidas campaign and this
is a question for you guys

150
00:14:36,430 --> 00:14:49,329
anyone has a reason why but I didn't say
amplification ok now I didn't finish it

151
00:14:49,330 --> 00:14:54,130
ok who said that this extortion
extortion is a good reason

152
00:14:54,130 --> 00:15:00,400
okay whatever what other reason let this
we taking out the competition at Oh like

153
00:15:00,400 --> 00:15:04,120
taking out the competition taking out
the competition to your site yeah taking

154
00:15:04,120 --> 00:15:09,610
out the competition is good what else
ransom ransom extortion

155
00:15:09,610 --> 00:15:15,310
ok ya too

156
00:15:15,970 --> 00:15:22,570
ok you hate that you have something just
some bad feelings about their company

157
00:15:23,080 --> 00:15:27,910
yeah this person get on your nerves i
can understand that written if you have

158
00:15:27,910 --> 00:15:32,680
too much time you have too much time
right you have your board you have too

159
00:15:32,680 --> 00:15:39,310
much time like more fun for fun for fun
okay okay anyone else more reasons

160
00:15:39,310 --> 00:15:44,949
okay i think we probably summed it up
pretty good so let's see what i wrote

161
00:15:44,950 --> 00:15:48,910
and see how we how close we are so
rivalry

162
00:15:48,910 --> 00:15:51,100
I think we mentioned this right

163
00:15:51,100 --> 00:15:58,930
business rivalry I i have a shop it
sells instruments someone else sells

164
00:15:58,930 --> 00:16:06,550
instruments i want to sell more so I I
just the doctors right off it costs and

165
00:16:06,550 --> 00:16:12,099
it doesn't cost a lot and and people
will buy for me again the the costs are

166
00:16:12,100 --> 00:16:19,330
very low standards extortion and you you
send an email an anonymized email with

167
00:16:19,330 --> 00:16:23,410
the Bitcoin and before you know it you
have some cash in your pockets because

168
00:16:23,410 --> 00:16:27,640
basically what you're saying is at pay
me now

169
00:16:28,300 --> 00:16:34,089
usually it's as ever eh way we see is
about 15 bitcoins and so it's a let's

170
00:16:34,090 --> 00:16:38,260
say a reasonable amount for an
organization to pay and if you don't pay

171
00:16:38,260 --> 00:16:43,060
me once i attack you will have to pay me
twenty-five and then each day and 10

172
00:16:43,060 --> 00:16:48,849
more now did you know the attackers are
also they're saying I'm from X for

173
00:16:48,850 --> 00:16:54,190
example from my Armada collective and
now since this is an anonymized the

174
00:16:54,190 --> 00:16:59,620
personal sending it is either a
affiliated with that organization or not

175
00:16:59,620 --> 00:17:01,830
but you're getting the

176
00:17:01,830 --> 00:17:07,530
extortion anyway if someone pays and
again you you only need to either do

177
00:17:07,530 --> 00:17:11,369
nothing before you send this extortion
letters or you need to do a short

178
00:17:11,369 --> 00:17:17,639
10-minute 20-minute DDoS attack saying
hey I knocked your services of now if

179
00:17:17,640 --> 00:17:23,100
you don't pay me i can do it for a full
day so this is a this is the one of the

180
00:17:23,099 --> 00:17:31,469
leading reason there's activists and
performing attacks so for many different

181
00:17:31,470 --> 00:17:39,270
reasons and they can be really many many
different reasons as long as it it's

182
00:17:39,270 --> 00:17:44,670
trendy you getting even volunteers to
help you set up at the botnet even

183
00:17:44,670 --> 00:17:50,820
people who volunteered to participate to
be part of that apartment then we didn't

184
00:17:50,820 --> 00:17:56,820
mention state sponsor their cyber
terrorism like a allegedly Russia

185
00:17:56,820 --> 00:18:01,860
disconnected the Estonia from the
internet a couple of years ago and now

186
00:18:01,860 --> 00:18:09,149
the the great thing about it in terms of
course the attacker is if if let's say

187
00:18:09,150 --> 00:18:11,590
Israel now

188
00:18:11,590 --> 00:18:17,260
send striker brown bears to bomb Iran or
vice versa

189
00:18:17,260 --> 00:18:21,520
it will start a war but when you're
doing something like this you can create

190
00:18:21,520 --> 00:18:26,770
a lot of damage however you're not
really starting a war so it's so it's a

191
00:18:26,770 --> 00:18:32,020
something that the state can play with
and of course in terms of defence

192
00:18:32,020 --> 00:18:37,900
budgets its peanuts it's like the the I
don't know the spring waters a server

193
00:18:37,900 --> 00:18:43,720
for meetings it's nothing for them so
state-sponsored is also a reason /

194
00:18:43,720 --> 00:18:48,370
cyberterrorism nowadays some of the
terrorist organizations or it has the

195
00:18:48,370 --> 00:18:55,330
funds of state so it's more or less the
same like ideas and such then we said if

196
00:18:55,330 --> 00:18:59,049
you just don't like that person you
don't like that company so that that's

197
00:18:59,049 --> 00:19:06,309
also a good reason why people a a doodle
attacks and and then there's another

198
00:19:06,309 --> 00:19:07,389
reason

199
00:19:07,390 --> 00:19:12,640
supposedly the latest attack in
Australia it was the smokescreen attack

200
00:19:12,640 --> 00:19:20,049
meaning that there's a DDoS attack
everybody runs to the monitors wants to

201
00:19:20,049 --> 00:19:22,980
get their network back up and then

202
00:19:22,980 --> 00:19:24,830
a small attack

203
00:19:24,830 --> 00:19:32,600
breach happens or any sort of more ram
and conceal the attack happens now this

204
00:19:32,600 --> 00:19:37,490
can this this is one type of the
smokescreen the other type is you're

205
00:19:37,490 --> 00:19:42,769
doing adidas then the then the
application switches to a dr and then

206
00:19:42,769 --> 00:19:47,539
you attack the less the defendant maybe
it's not up to date maybe not fully

207
00:19:47,539 --> 00:19:55,129
patched like the a production site and
so that's a again another reason and

208
00:19:55,130 --> 00:20:01,010
last but not least laws and sometimes
people are bored and that's what bored

209
00:20:01,010 --> 00:20:02,389
people do

210
00:20:02,389 --> 00:20:08,120
we've seen attacks for example after
soccer games they're attacking the rival

211
00:20:08,120 --> 00:20:13,760
city or the rival team or a rival
country depending what the what's the

212
00:20:13,760 --> 00:20:17,600
game and then such a attack attack say
on

213
00:20:18,310 --> 00:20:23,530
a pop stars rock stars the tetra just
because you don't like the same general

214
00:20:23,530 --> 00:20:33,580
music music so that another image in
another and another reason so now what I

215
00:20:33,580 --> 00:20:36,610
was thinking of doing is the to simulate
an attack

216
00:20:37,120 --> 00:20:43,629
ok volumetric attack and let the let's
see what they were going to do it now

217
00:20:43,630 --> 00:20:50,080
it's it's a simple a demonstration right
it's a very simple demonstration even

218
00:20:50,080 --> 00:20:56,590
and and i think that there i hope that
it gets you to think also in other ways

219
00:20:56,590 --> 00:21:01,090
about playing with network protocols as
well and see how fun it is if you're not

220
00:21:01,090 --> 00:21:02,290
already doing it

221
00:21:02,290 --> 00:21:07,120
so when we're starting to do the
simulation of the volumetric attack

222
00:21:07,120 --> 00:21:14,770
let's just do a quick recap everybody
knows the seven layers always i right

223
00:21:14,770 --> 00:21:22,720
ok so let's let's just do it quick let's
not deal with well the physical layer

224
00:21:22,720 --> 00:21:28,510
and layer 2 as well as we're talking
about the attacks over the internet so

225
00:21:28,510 --> 00:21:33,430
we're starting at layers three layers
three is the IP protocol and basically

226
00:21:33,430 --> 00:21:39,070
the routing where you want to be going
like the address i want to go to nobody

227
00:21:39,070 --> 00:21:47,050
thought okay I want to go to IPA . a . a
. eight so this is the AIP on top of IP

228
00:21:47,050 --> 00:21:53,980
we have layer for which is transport
protocol

229
00:21:53,980 --> 00:22:03,580
ok cool so what's your favorite
transport protocol UDP ok there's no

230
00:22:03,580 --> 00:22:09,129
correct answer is a favorite their
protocol so anyway so there's mostly tcp

231
00:22:09,130 --> 00:22:15,760
and UDP like we mentioned UDP a tcp has
the three-way handshake and so we will

232
00:22:15,760 --> 00:22:21,190
not use the tcp for the demonstration
but we will use UDP what what is the

233
00:22:21,190 --> 00:22:28,570
most common application layer protocol a
on top of UDP mhm

234
00:22:29,070 --> 00:22:43,649
no no dns ok so dns and we'll use the NS
a pretty classic so this is a layer

235
00:22:43,649 --> 00:22:49,889
seven layer 7 protocol that wheel we're
going to be using so in order to do that

236
00:22:49,889 --> 00:22:55,139
and to demonstrate some level you metric
attacks and now I know that went running

237
00:22:55,139 --> 00:23:01,500
this things will go wrong so bear with
me and always with the most this problem

238
00:23:01,500 --> 00:23:08,610
so let's see what we're going to do a
tool introduction and wireshark that as

239
00:23:08,610 --> 00:23:13,799
simple as possible wireshark we're going
to use wireshark in order to see the

240
00:23:13,799 --> 00:23:21,029
packets coming in HB m3h ps3 is a very
simple command-line tool that you can

241
00:23:21,029 --> 00:23:30,539
use in order to send packets escapee a
escapee which is a python library for

242
00:23:30,539 --> 00:23:35,429
which you can do a lot of fat cool
network stuff and what we're going to

243
00:23:35,429 --> 00:23:41,639
use it for today is the the cost of them
all which is to create your own packets

244
00:23:41,639 --> 00:23:48,149
way you can control pretty much anything
you you want and when you're crafting

245
00:23:48,149 --> 00:23:55,139
packets using escapee you can send
illegal packets with illegal checksums

246
00:23:55,139 --> 00:23:59,699
you can you can do whatever pretty much
whatever you want you can say you're

247
00:23:59,700 --> 00:24:04,799
sending for records but really include
five you can you can they do a lot of it

248
00:24:04,799 --> 00:24:09,000
you can use it for fasting you can do it
for many other reasons and

249
00:24:09,730 --> 00:24:15,760
and end it and I think that we should
all use it for one thing or another and

250
00:24:15,760 --> 00:24:22,660
let's let's have a quick and the glance
of what we're going to do so first of

251
00:24:22,660 --> 00:24:28,870
all this is in flat seam flat is
basically saying sending you seen a tcp

252
00:24:28,870 --> 00:24:36,790
syn packet saying hi where the
destination which will go through ID so

253
00:24:36,790 --> 00:24:42,790
high 1.1 . 1.1 I to point to point to
point to even though I'm not okay so we

254
00:24:42,790 --> 00:24:49,389
can complete this three-way handshake
but left hand shake and the Machine on

255
00:24:49,390 --> 00:24:54,700
the other hand will have to set to will
have to keep state of this connection

256
00:24:54,700 --> 00:25:00,730
and and it will send sure to point to
point to point to let them shake and

257
00:25:00,730 --> 00:25:03,520
attending the result that the response
to someone else

258
00:25:03,520 --> 00:25:09,010
ok but we don't care about it or we may
even care about it there so where we can

259
00:25:09,010 --> 00:25:17,230
change the attack but but that's a that
basically a syn flood let's look at a

260
00:25:17,230 --> 00:25:22,930
simple and in flood so let's around
collie

261
00:25:29,020 --> 00:25:35,920
ok so first of all so first of all let's
have a victim and who's better at being

262
00:25:35,920 --> 00:25:37,360
victims and windows

263
00:25:37,360 --> 00:25:44,260
let's have a windows victim a victim
machine and ok so this is the windows

264
00:25:44,260 --> 00:25:49,720
victim now this is a machines are on the
net but of course since it's over IP it

265
00:25:49,720 --> 00:25:57,040
can also be external ip's it's all the
same so this machine is 10.0

266
00:25:57,040 --> 00:26:11,409
point-to-point 15 right and this machine
is is 10.0 . 2.6 ok so we can send a

267
00:26:11,410 --> 00:26:22,810
simple let's open a wire shark on the
other side and we're opening that on a

268
00:26:22,810 --> 00:26:34,629
windows machine and so we can send
basically Pink's 210 book the output to

269
00:26:34,630 --> 00:26:43,090
. . 15 right so we can send these and
they will arrive and like when windows

270
00:26:43,090 --> 00:26:47,919
it's not icmp beings it's a tcp things
so let's stop it

271
00:26:48,730 --> 00:26:56,770
so we can send that but we can also send
say that we want to say seen

272
00:26:56,770 --> 00:27:04,210
specifically ok and we want to send them
a real fast okay so we do a flood

273
00:27:04,810 --> 00:27:13,960
ok and then we're sending the a lot of
lots of the request flowing into our a

274
00:27:13,960 --> 00:27:14,500
server

275
00:27:14,500 --> 00:27:21,040
ok now of course if we if we look up
here in the task manager so we see that

276
00:27:21,040 --> 00:27:26,200
we're spending quite a bit of traffic
now of course if we have a botnet we we

277
00:27:26,200 --> 00:27:32,710
can send a you know where send it in the
multiplication of where the the bots

278
00:27:32,710 --> 00:27:34,120
that there we own

279
00:27:34,120 --> 00:27:41,379
let's stop this attack now what you've
seen is very is not

280
00:27:41,940 --> 00:27:46,860
is not spoofing the IP a source right
I'm sending it from my source IP so you

281
00:27:46,860 --> 00:27:52,229
can also i think its run source but
maybe I'm wrong

282
00:27:52,230 --> 00:27:59,940
ok-ran source and then when i send this
let's see if our shark is steel up and

283
00:27:59,940 --> 00:28:04,200
when I do this it will send it from
random sources of course

284
00:28:05,549 --> 00:28:10,799
ok so we send it from random forces
which is both more useful for a feeling

285
00:28:10,799 --> 00:28:19,139
up at the and the table for a our victim
and also a more useful as in not sending

286
00:28:19,139 --> 00:28:25,889
our IP and to the to the victim now this
is of course just a sample and with the

287
00:28:25,889 --> 00:28:31,709
HP ink three and of course with many
other tools and the basically any

288
00:28:31,710 --> 00:28:38,070
programming language we can send a ton
of feathers area of this packet we can

289
00:28:38,070 --> 00:28:43,620
send different tcp flag for examples and
cmax send the

290
00:28:44,390 --> 00:28:51,920
reset and other a flags to some of them
to trick mitigation this medication

291
00:28:51,920 --> 00:28:55,640
appliances and so you're getting the
idea

292
00:28:55,640 --> 00:29:02,690
this is the H pink and this is what it
does send lots of packets so we can also

293
00:29:02,690 --> 00:29:07,790
send an axe lad which is basically
instead of dash S you're doing dish a

294
00:29:07,790 --> 00:29:14,780
and it said that the the flag of act or
a or a scenic again mostly these these

295
00:29:14,780 --> 00:29:22,370
games are used because in order to fool
a mitigation services of the four

296
00:29:22,370 --> 00:29:29,989
victims so and we can do it again
reflected the attack by sending a scene

297
00:29:29,990 --> 00:29:36,320
packets and saying I'm the victim and
i'm sending us thin and then all the the

298
00:29:36,320 --> 00:29:41,629
victims all the machines that I'm
conducting will send back a snack to the

299
00:29:41,630 --> 00:29:46,670
to the real victim which will get lots
of packets from lots of different

300
00:29:46,670 --> 00:29:50,150
sources so so far so good

301
00:29:50,150 --> 00:29:58,550
ok so this is just sending sending
packets so I let's a look at the another

302
00:29:58,550 --> 00:30:01,550
example I think that this will be even
nicer

303
00:30:02,210 --> 00:30:05,900
let's look at the dns amplification map
example

304
00:30:05,900 --> 00:30:08,900
okay good

305
00:30:09,410 --> 00:30:13,100
I are you drinking them yourself when
you're just everything it

306
00:30:13,640 --> 00:30:16,050
no okay

307
00:30:16,050 --> 00:30:24,000
come on ok good so basically with the
dns amplification with we spoke about it

308
00:30:24,000 --> 00:30:31,860
before and and what we are asking from
the dns server is any data basically it

309
00:30:31,860 --> 00:30:37,199
in this example and in most attacks will
ask just give me anything you have on

310
00:30:37,200 --> 00:30:43,410
the thing on the on the domain and and
then and then it will send all this

311
00:30:43,410 --> 00:30:50,760
reply to the to the victim now the
reason it's called the amplified attacks

312
00:30:50,760 --> 00:30:53,790
is I don't know

313
00:30:53,790 --> 00:30:57,659
okay good because I tricked you

314
00:30:57,660 --> 00:31:05,280
ok this is a shot this is like five shot
that's that serbia serbia that's the

315
00:31:05,280 --> 00:31:18,360
servants ok I'll try not to trick you
anymore okay okay so basically okay so

316
00:31:18,360 --> 00:31:21,360
basically in this type of attack

317
00:31:21,960 --> 00:31:29,790
we're asking for a lot of data so we're
leveraging our power where we can send

318
00:31:29,790 --> 00:31:37,800
and 40 bytes or slightly more and the
attacker their victim get 400 so if we

319
00:31:37,800 --> 00:31:44,100
have a1g gigabit connection we can now
have a 10-bit attack power so let's see

320
00:31:44,100 --> 00:31:45,570
how we do that

321
00:31:45,570 --> 00:31:51,720
ok and this is by the way this is just a
table is it took from an Easter a

322
00:31:51,720 --> 00:31:55,620
website from the hour from the US search
site sorry

323
00:31:56,730 --> 00:32:05,700
showing different III factors for of the
multiplication between sending the

324
00:32:05,700 --> 00:32:11,190
traffic and receiving the traffic what
you said and what the victim gets ok so

325
00:32:11,190 --> 00:32:13,890
let's let the run one of these attacks

326
00:32:13,890 --> 00:32:22,380
ok and for that we will have another and
another virtual machine which is cool

327
00:32:22,380 --> 00:32:23,220
bank

328
00:32:23,220 --> 00:32:28,770
ok just a victim machine it it's just a
dns for this example at least it's just

329
00:32:28,770 --> 00:32:39,120
a dns it runs bind on it behind is the
common linux said dns and and bind the

330
00:32:39,120 --> 00:32:43,678
way Tory it's very simple to work this
is not that the skull but and we can

331
00:32:43,679 --> 00:32:53,790
define and dns records on in it and it
replies with dns information so so if we

332
00:32:53,790 --> 00:33:00,899
have this so this is the dns record for
cool bank.com it has bunch of I wanted

333
00:33:00,900 --> 00:33:06,630
to say bunch of it is a bunch of records
in it so at the nameserver they record

334
00:33:06,630 --> 00:33:14,700
the txt record the MX of course so just
typical a a dns a record and which we're

335
00:33:14,700 --> 00:33:21,630
going to use another thing we're going
to need is the IP of our dns server now

336
00:33:21,630 --> 00:33:28,230
this DNS server and let's not get into a
dns recursion recursion here but this

337
00:33:28,230 --> 00:33:32,460
DNS server the one that we're attacking
doesn't necessarily need to be the name

338
00:33:32,460 --> 00:33:36,600
server for the demand domain because it
can get all this information recursively

339
00:33:36,600 --> 00:33:45,750
so there we have it and our IP is 10.0
point-to-point form so now let's say

340
00:33:45,750 --> 00:33:53,220
let's do the attack first of all let's
clear to let clearwire shark and let's

341
00:33:53,220 --> 00:33:56,220
say only look at traffic we have

342
00:33:57,580 --> 00:34:10,029
from $YEAR to $YEAR . but it 4644 was
dns error on what it's for

343
00:34:10,719 --> 00:34:17,379
yeah okay so we're looking for a for
traffic coming from and dns server now

344
00:34:17,380 --> 00:34:19,419
let's say the

345
00:34:19,418 --> 00:34:28,328
and start the attack and in order to do
so let's run scrapie and now escape you

346
00:34:28,329 --> 00:34:36,220
can either run as a standalone or it can
run and and the model in Python so it's

347
00:34:36,219 --> 00:34:42,279
because it's in Python it's
multi-platform it can they run on linux

348
00:34:42,280 --> 00:34:49,149
it can run on mac windows for mac it
needs a little pushing to get it to work

349
00:34:49,149 --> 00:34:54,250
but the but at least for me it took some
we're pushing but eventually worked ok

350
00:34:54,250 --> 00:34:58,809
so we're going to define the packet that
we're going to send so let's start with

351
00:34:58,809 --> 00:35:06,549
IP so we just call it creating the
object IP is the IP let's call UDP as

352
00:35:06,549 --> 00:35:13,900
you p and we also going to need dns of
the dns and another structure we're

353
00:35:13,900 --> 00:35:25,750
going to need is the dns a wiry very dns
QR ok so now we have the object now it's

354
00:35:25,750 --> 00:35:31,030
very easy to play with with the escape
even if you haven't touched it in a long

355
00:35:31,030 --> 00:35:40,329
time you you can just use display so
display shows all the property that you

356
00:35:40,329 --> 00:35:53,140
can set for a for the the object so the
product that yeah he doesn't so I i

357
00:35:53,140 --> 00:35:55,779
highlighted them so now it shows

358
00:35:55,780 --> 00:36:05,440
okay okay so-so IP version 4 of course
we can we can send ipv6 a packet in it

359
00:36:05,440 --> 00:36:08,920
and what we want to change is of course
at the

360
00:36:09,550 --> 00:36:15,670
and destination because we wanted to
reach which server the windows are they

361
00:36:15,670 --> 00:36:23,980
knocks their socks right the dns server
so we wanted to reach 10.0

362
00:36:23,980 --> 00:36:30,430
point-to-point for right now once we do
that it automatically set the source IP

363
00:36:30,430 --> 00:36:33,910
2 r.i.p just to make life easier

364
00:36:33,910 --> 00:36:39,700
ok so that's about it about the the IP
of course we can play with it

365
00:36:39,700 --> 00:36:47,379
so in other projects we can play with it
and then after I p we have UDP no UDP

366
00:36:47,380 --> 00:36:53,680
comes by default with the dns ok so the
source port and destination port by

367
00:36:53,680 --> 00:37:02,410
default it's a 53 the necessary support
and so we don't need to touch rupee and

368
00:37:02,410 --> 00:37:11,920
let's jump to the dns QR dns QR we need
to set the queue name which is the

369
00:37:11,920 --> 00:37:20,650
domain we are wearing about so let's do
that coupe bank.com and the queue type

370
00:37:20,650 --> 00:37:26,770
which is what type of information are we
looking for MX record a record triple-a

371
00:37:26,770 --> 00:37:33,190
records so we're setting it to 255 which
is any ok so that's it we reconfigure

372
00:37:33,190 --> 00:37:41,680
the DNS a query record and now let's set
up the dns so with the dns what we want

373
00:37:41,680 --> 00:37:50,500
to do it is a first of all we want to
set it to well in this case we don't

374
00:37:50,500 --> 00:37:56,530
need to but still best practice a
recursive desired meaning that we want

375
00:37:56,530 --> 00:38:02,680
the if the server we're asking doesn't
have the information we wanted to go to

376
00:38:02,680 --> 00:38:06,100
to start with corruption and get the
information for us

377
00:38:06,100 --> 00:38:14,110
ok and what are we missing dns cutie
count which is a query desired account

378
00:38:14,110 --> 00:38:19,450
so let's set it to one because we sent
one query now for different tests we can

379
00:38:19,450 --> 00:38:21,169
like play with this

380
00:38:21,170 --> 00:38:28,130
send for requests and in the the NSA put
just the one or vice versa we can do a

381
00:38:28,130 --> 00:38:32,390
lot of fact cool things with the escape
because basically we can set everything

382
00:38:32,390 --> 00:38:42,828
and let the QD cutie is basically an
object of type a dns query so we wanted

383
00:38:42,829 --> 00:38:51,619
to be the dns QR ok so now i have the
feeling that they that i forgot

384
00:38:51,619 --> 00:39:00,079
something but let's see if it still
works so let's let's do sr1 which is

385
00:39:00,079 --> 00:39:08,059
which sends the request and of Iping HUP
/ Dennis and we have an error

386
00:39:08,059 --> 00:39:19,220
ok oh I it's not me it's the rocky okay
so okay now we send the packet and this

387
00:39:19,220 --> 00:39:28,009
is the what we got a formatted in XML
sort of xml it's a it's the response we

388
00:39:28,010 --> 00:39:33,349
can see here i will highlight everything
so we can see we're getting the NS

389
00:39:33,349 --> 00:39:36,470
records we getting the a records we
getting the

390
00:39:37,160 --> 00:39:41,720
yeah what else do we have here where we
getting everything that we have about

391
00:39:41,720 --> 00:39:49,279
this the txt record so we getting
everything ok now this attack is still

392
00:39:49,280 --> 00:39:54,859
not reflected right because we're
getting the data and instead of our

393
00:39:54,859 --> 00:39:55,759
victim

394
00:39:55,760 --> 00:40:00,200
so what do we need to change in order
for the victim to get that back the

395
00:40:00,200 --> 00:40:08,240
source IP right so IP . source equals
10.0 point-to-point what was the windows

396
00:40:08,240 --> 00:40:15,740
15 i think not sure first case someone
here will get there we'll get the packet

397
00:40:15,740 --> 00:40:21,740
okay so when we're sending this if I
will run again sr1 i will have a problem

398
00:40:21,740 --> 00:40:32,538
a slight problem and that that that I'm
the scape is now waiting for more a

399
00:40:32,539 --> 00:40:43,190
packets because because i used sl1 what
they can do is you send then just send

400
00:40:43,190 --> 00:40:49,039
it a synchronously and doesn't wait for
response so when i'm doing send it sends

401
00:40:49,039 --> 00:40:54,589
one packet and now in wireshark that
clear it but we've seen that it got the

402
00:40:54,589 --> 00:40:58,578
packet in wireshark it got it got the
packet okay

403
00:40:59,180 --> 00:41:07,098
no this is just an example of course but
the length here is 4 402 bites of the

404
00:41:07,099 --> 00:41:08,930
the of what we got

405
00:41:08,930 --> 00:41:14,118
then actually by the way because I
because of windows it also sent an ICMP

406
00:41:14,119 --> 00:41:18,589
of destination and reachable because the
port was unreachable because we don't

407
00:41:18,589 --> 00:41:24,109
have a dns a a waiting on port 53 to
listen for this

408
00:41:24,109 --> 00:41:34,190
so basically it lets say use pythons
built in length function to see how long

409
00:41:34,190 --> 00:41:39,829
is the packet that we're sending ok so
the package we're sending is

410
00:41:40,580 --> 00:41:41,880
it is the

411
00:41:41,880 --> 00:41:52,680
is 58 bites and the packet we are
getting is 402 not including the ICMP

412
00:41:52,680 --> 00:42:03,509
which is another 432 our outbound a
traffic but that means that basically 58

413
00:42:03,510 --> 00:42:08,490
/ foreign to that means that the
amplification factor is about six times

414
00:42:08,490 --> 00:42:12,839
ok now it all depends on the amount of
dns records we have but that the

415
00:42:12,840 --> 00:42:21,120
amplification factor that we have here
about 126 so this is a how it works we

416
00:42:21,120 --> 00:42:36,839
can also wear and and let's say we can
also put it in in a Python script so

417
00:42:36,840 --> 00:42:42,690
we're still in this KP we can put it in
a Python script because of time

418
00:42:42,690 --> 00:42:48,330
limitations let me just show you a small
test here but basically because it's

419
00:42:48,330 --> 00:42:55,049
also a Python model we can use it in
Python so this thing does the same it

420
00:42:55,050 --> 00:43:00,300
does exactly the same as we've done here
come online but then afterwards it just

421
00:43:00,300 --> 00:43:02,799
run the loop sending gay

422
00:43:02,799 --> 00:43:07,569
a hundred thousand their packets to our
victim so it imagine also not

423
00:43:07,569 --> 00:43:11,109
necessarily about deals also about other
things you can use this

424
00:43:12,640 --> 00:43:18,910
for many for funding and other other
things as well I want to show you also

425
00:43:18,910 --> 00:43:21,879
how are the type of attack

426
00:43:21,880 --> 00:43:30,730
looks like on different controls so I i
built a sort of fair and demonstration

427
00:43:30,730 --> 00:43:34,119
that dashboard to show different types
of attack

428
00:43:34,119 --> 00:43:39,579
ok now let's let's take a quick look at
what day we have here so we can just

429
00:43:39,579 --> 00:43:47,589
demonstrate what happens in the
receivers and of these attack so we have

430
00:43:47,589 --> 00:43:53,500
here in the top left corner we have the
edge router in the the inbound router in

431
00:43:53,500 --> 00:44:00,819
the entrance to the organization network
and it has a cpu monitoring on it and it

432
00:44:00,819 --> 00:44:06,339
have the bandwidth and packets per
second monitor for the edge router ok we

433
00:44:06,339 --> 00:44:13,599
also have the firewall and the firewall
has the cpu monitoring's and the block

434
00:44:13,599 --> 00:44:19,089
versus passed a monitoring and we also
have monitoring of the outbound traffic

435
00:44:19,089 --> 00:44:25,450
and here we have just a simple and
high-level sample of we have a web

436
00:44:25,450 --> 00:44:31,629
server and database server so the web
server we have cpu ram storage and the

437
00:44:31,630 --> 00:44:37,269
requests per second and we also have the
amount of sessions and that are

438
00:44:37,269 --> 00:44:41,859
currently running on our website and for
the database we have the cpu the memory

439
00:44:41,859 --> 00:44:47,680
storage and the network a transfer and
the amount of connections on the

440
00:44:47,680 --> 00:44:53,470
database and in here the fun we have a
chat window it's not just for fun it's

441
00:44:53,470 --> 00:44:58,720
because a lot of times the we're not
we're getting the information about that

442
00:44:58,720 --> 00:45:02,828
affect not from the actual network
control but they're from our clients

443
00:45:02,829 --> 00:45:08,140
whether they're inside the organization
or outside so let's go to attacks let

444
00:45:08,140 --> 00:45:11,379
the do a dns amplification attack

445
00:45:11,380 --> 00:45:18,190
okay so when we're doing a dns
amplification attack and of course the

446
00:45:18,190 --> 00:45:19,509
time varies

447
00:45:19,509 --> 00:45:21,160
ok it the

448
00:45:21,160 --> 00:45:24,069
it it may take a

449
00:45:24,069 --> 00:45:29,769
five seconds it may take five minutes
but eventually what we have here is

450
00:45:29,769 --> 00:45:34,029
first of all a lot of times you're
getting ticket you're getting supporting

451
00:45:34,029 --> 00:45:39,099
it like we have clients who can they
can't access the website at the website

452
00:45:39,099 --> 00:45:46,599
or any any other web infrastructure and
then the edge routers cpu goes up

453
00:45:46,599 --> 00:45:51,910
because it needs to handle more and more
traffic but not not by a lot

454
00:45:51,910 --> 00:45:57,489
not like if it has to handle a lot of
packets per second this is more also

455
00:45:57,489 --> 00:46:03,400
been with issue but it doesn't need to
take care of that many packets so the

456
00:46:03,400 --> 00:46:09,849
cpu stays about the same and packets per
second stays about the same the firewall

457
00:46:09,849 --> 00:46:16,690
starts working harder and and and and
start blocking more and more illegal

458
00:46:16,690 --> 00:46:21,369
packets because no one is expecting
those DNS requests coming at the port

459
00:46:21,369 --> 00:46:27,190
443 of our a website so it blocks them
but it still works harder and the

460
00:46:27,190 --> 00:46:28,539
traffic heart out

461
00:46:28,539 --> 00:46:33,819
continue the same the web server and
database servers are a pretty much the

462
00:46:33,819 --> 00:46:39,339
same we may get a call from our isp
saying hey you're using a lot of more

463
00:46:39,339 --> 00:46:42,339
red traffic maybe you want to upgrade
because

464
00:46:43,230 --> 00:46:46,380
because you're selling more or yours

465
00:46:46,380 --> 00:46:50,850
you started the campaign and the web
server starts to get less traffic so if

466
00:46:50,850 --> 00:46:54,330
we're monitoring this we're seeing an
alert not that it has a hundred percent

467
00:46:54,330 --> 00:47:00,660
of you that it has less than less than
usual cpu and now that the basically

468
00:47:00,660 --> 00:47:07,799
with dns amplification in most cases
what will happen after a while is a now

469
00:47:07,800 --> 00:47:12,750
world meaning that your isp will catch
you down or you or you been with will

470
00:47:12,750 --> 00:47:20,790
simply be full and and that it and then
your boss says can you please step into

471
00:47:20,790 --> 00:47:26,730
my office for a second so that and that
game over so that that's the NSA

472
00:47:26,730 --> 00:47:30,510
amplification like it looks in the
control of the organization of course

473
00:47:30,510 --> 00:47:36,030
everything gave varies and i would like
to start show another attack just to

474
00:47:36,030 --> 00:47:42,510
show where the difference who I
mentioned ipps attacked before so as our

475
00:47:42,510 --> 00:47:48,270
attacks again in the network level but
we're sending a lot of fierce in packet

476
00:47:48,270 --> 00:47:54,750
and and so it different smaller packets
so the bandwidth as you can see it goes

477
00:47:54,750 --> 00:47:59,490
up but moderately not by a lot and the
packets per second

478
00:48:00,549 --> 00:48:05,920
it rises you know more and this is of
course at them on this board so you

479
00:48:05,920 --> 00:48:09,609
don't see all the fluctuations that you
will see in the normal network which

480
00:48:09,609 --> 00:48:15,400
will confuse you of course and then
they're starting getting a complaint and

481
00:48:15,400 --> 00:48:21,759
our firewall and edge router are now a
in a high PPS attack there now competing

482
00:48:21,759 --> 00:48:26,109
on who breaks first depending on the
model depending on the configuration for

483
00:48:26,109 --> 00:48:31,929
example if we have packet inspection
enabled on one and it's good it's

484
00:48:31,929 --> 00:48:36,249
trade-off right unwanted it's good
because the because it's good for her to

485
00:48:36,249 --> 00:48:42,428
Detective a certain type of of attacks
but on the other hand and because we

486
00:48:42,429 --> 00:48:48,309
have the packet inspection it will take
more cpu / air traffic so again we will

487
00:48:48,309 --> 00:48:53,619
see more and more blocked blocked
responses and then probably the firewall

488
00:48:53,619 --> 00:48:59,529
will crash or the edge router will crash
so these two attacks also very similar

489
00:48:59,529 --> 00:49:00,819
in terms of attack

490
00:49:00,819 --> 00:49:08,140
you're sending traffic you're sending
small packets of offer probably seen but

491
00:49:08,140 --> 00:49:12,038
not necessarily or you're sending large
packets using gay

492
00:49:12,810 --> 00:49:24,000
reflective amplification but thank you
but I will drink water but on the on the

493
00:49:24,000 --> 00:49:27,330
control of the organization they will
look totally different and I think that

494
00:49:27,330 --> 00:49:32,759
this is one of the challenges we didn't
act that they look a totally different

495
00:49:32,760 --> 00:49:36,600
different types of attacks i will just
give another example of a d-flat

496
00:49:36,600 --> 00:49:44,250
database flat attack like the one I
mentioned before and this one this one

497
00:49:44,250 --> 00:49:48,030
doesn't show anything on the a on the
natural control

498
00:49:48,030 --> 00:49:53,190
why because the traffic is meaningless
today it's a marginal it's not it's not

499
00:49:53,190 --> 00:50:01,710
it's not a lot of traffic coming in but
on the other hand the web server starts

500
00:50:01,710 --> 00:50:06,780
working hard and the database servers
memory starts working very hard and cpu

501
00:50:06,780 --> 00:50:11,790
also and again this really depends on
the type of database that you're using

502
00:50:11,790 --> 00:50:17,160
the the configuration so if you set up a
lot of fair memory for the

503
00:50:18,360 --> 00:50:26,700
for your database it may reflect more on
cpu if you put less memory it may take

504
00:50:26,700 --> 00:50:28,020
more and more memory

505
00:50:28,020 --> 00:50:32,100
it all depends on the current
configuration and there and also on what

506
00:50:32,100 --> 00:50:37,020
the actual database attack is doing that
query information that's hard to query

507
00:50:37,020 --> 00:50:44,160
that it do lots of inserts updates etc
so again these attacks are and very

508
00:50:44,160 --> 00:50:47,160
different and how they portray in our
systems

509
00:50:50,100 --> 00:51:02,580
ok so getting back to our i see that
there this is 340 so we have until 345

510
00:51:02,580 --> 00:51:03,569
on something

511
00:51:03,570 --> 00:51:10,710
ok so i think that i think since I plant
more content but you know how it is

512
00:51:10,710 --> 00:51:16,950
usually more time because it sort of the
workshop so before questions I would

513
00:51:16,950 --> 00:51:23,850
like to thank you all and I I i
practiced on this so I'm monogamous

514
00:51:23,850 --> 00:51:26,850
Paula

515
00:51:29,170 --> 00:51:36,280
ok and there again questions would be
lovely and of course there i can answer

516
00:51:36,280 --> 00:51:41,319
questions and you know in the corridor
as well but any questions would be

517
00:51:41,319 --> 00:52:00,339
lovely with my way whichever you want
what you what you do when you're under

518
00:52:00,339 --> 00:52:02,109
attack

519
00:52:02,109 --> 00:52:08,348
well this is a first of all it's a I
know that it's a always the the thing

520
00:52:08,349 --> 00:52:14,109
with the information security and also
when I was in offensive security working

521
00:52:14,109 --> 00:52:19,390
at the penetration tester and head of
offensive security we always had clients

522
00:52:19,390 --> 00:52:23,650
coming up to us when they were under
attack and of course the simple solution

523
00:52:23,650 --> 00:52:29,049
would be plan ahead and don't don't get
yourself in a position where you don't

524
00:52:29,049 --> 00:52:35,619
know where what to do now because your
attack now it depends on the type of

525
00:52:35,619 --> 00:52:40,480
attack but because the tax versatile of
course my initial instinct would be a

526
00:52:40,480 --> 00:52:44,710
call in capsules are not me but the sale
guys wear which will solve your problem

527
00:52:44,710 --> 00:52:48,760
but seriously because the tax deduction
attacks are

528
00:52:49,530 --> 00:52:56,970
sometimes or most times using bandwidth
that is more than the bandwidth you have

529
00:52:56,970 --> 00:53:02,850
mostly the the solution is to route your
traffic through the cloud either always

530
00:53:02,850 --> 00:53:05,850
or or just when you're under attack

531
00:53:06,420 --> 00:53:12,870
so basically what you're doing is a
again it differs between services but

532
00:53:12,870 --> 00:53:20,430
you route your your IP a auric or subnet
is routed through it through the cloud

533
00:53:20,430 --> 00:53:25,350
provider like us of course and and then
it goes

534
00:53:25,350 --> 00:53:30,900
let's say through a GRE tunnel to your
infrastructure and it gets grabbed in

535
00:53:30,900 --> 00:53:38,010
the cloud now there are also a lot of a
lot of solutions in the organization but

536
00:53:38,010 --> 00:53:44,370
if you will get a you is saturated if
your bandwidth will get saturated then

537
00:53:44,370 --> 00:53:48,990
you can have the best appliance that
will actually know and this is not the

538
00:53:48,990 --> 00:53:53,520
the situation but it will actually know
for each packet in real-time what's an

539
00:53:53,520 --> 00:53:58,410
intact and whatnot but about that since
you're limited in your bandwidth and

540
00:53:58,410 --> 00:53:59,810
it's a

541
00:53:59,810 --> 00:54:05,630
then you will still be down because it's
very easy to get a lot of bandwidth to

542
00:54:05,630 --> 00:54:10,580
get you down unless your Google or
Microsoft Amazon where you have a

543
00:54:10,580 --> 00:54:16,220
bandwidth to spare you know if you have
more bandwidth in the attacker so this

544
00:54:16,220 --> 00:54:18,140
is not a problem for you

545
00:54:18,140 --> 00:54:25,100
so most if not all dealers medication
services in the world are using the

546
00:54:25,100 --> 00:54:31,520
cloud is there only cloud or a hybrid
solution and meaning that the part of

547
00:54:31,520 --> 00:54:38,180
the attack is mitigated in the cloud and
part of it is in the organization hope

548
00:54:38,180 --> 00:54:41,180
that helps

549
00:54:45,200 --> 00:54:47,629
I have a question

550
00:54:47,630 --> 00:55:12,770
okay it's okay Charlie song website

551
00:55:12,770 --> 00:55:26,600
15 ok so the actual service so so again
this is this is a more or less the same

552
00:55:26,600 --> 00:55:31,730
and I've seen a PLC lately i I'm sorry
but they don't remember who's the

553
00:55:31,730 --> 00:55:38,480
researcher who did the the demonstration
but the same with a with the Google

554
00:55:38,480 --> 00:55:43,880
because Google has the open redirect and
the they don't see it as a security

555
00:55:43,880 --> 00:55:49,010
vulnerability so if you're you're
sending client yet you can send for

556
00:55:49,010 --> 00:55:54,050
example xhr requests in a web page to a
client then he goes to google and then

557
00:55:54,050 --> 00:56:01,130
Google redirected to the webpage or a
you can use some of their services and

558
00:56:01,130 --> 00:56:03,410
use these services of an attack

559
00:56:03,410 --> 00:56:08,750
there's also uh for example the google
translate where you can you know check

560
00:56:08,750 --> 00:56:14,480
payloads without when actually your
google is the one sending the request so

561
00:56:14,480 --> 00:56:21,980
yeah sure if if there is the service
that is that allows you to send lots of

562
00:56:21,980 --> 00:56:24,080
traffic through it then

563
00:56:24,080 --> 00:56:29,870
and of course a let's say that people
will be reluctant in blocking google to

564
00:56:29,870 --> 00:56:35,660
their application of blocking facebook
and that that may be a good they're good

565
00:56:35,660 --> 00:56:39,859
idea i don't know if it qualifies for
their bounty will have to ask them but

566
00:56:44,130 --> 00:56:49,440
great talk where can i play with that
word where can you what lay with the

567
00:56:49,440 --> 00:56:56,190
dashboard with what those words all the
one you song the one you are wondering

568
00:56:56,190 --> 00:57:02,160
well first of all thats words are inline
machine so if you can give you my

569
00:57:02,160 --> 00:57:04,049
password and you can play with it

570
00:57:04,050 --> 00:57:10,380
okay and well because it's still i'm
working in a company still high hoping

571
00:57:10,380 --> 00:57:14,910
that they after this talk with the rocky
idea which I didn't ask anyone about it

572
00:57:14,910 --> 00:57:21,270
i will still be working in in my company
but anyway and so because it's a company

573
00:57:21,270 --> 00:57:29,250
so they have to clear first it's still a
you know like a a Midway project but

574
00:57:29,250 --> 00:57:33,720
once we will let ya i will be happy you
know to connect with you and once it's a

575
00:57:33,720 --> 00:57:39,750
publicly available for playing with you
can you then i can send you the link

576
00:57:52,480 --> 00:57:55,480
yeah

577
00:57:56,990 --> 00:57:58,098
yeah

578
00:57:58,099 --> 00:58:00,560
yeah

579
00:58:00,560 --> 00:58:08,150
hi I have a question about details for
example you gave the example when I say

580
00:58:08,150 --> 00:58:13,250
something like how it is if I said that
to everyone in this room hi I'm Ben I

581
00:58:13,250 --> 00:58:17,270
want to can shake with you and everyone
sends acknowledged packet to you back

582
00:58:17,270 --> 00:58:26,690
how traceable is that to me as an
attacker it's it's not in the internet

583
00:58:26,690 --> 00:58:31,790
in a land it may be easier of course but
in the internet because of the way the

584
00:58:31,790 --> 00:58:34,570
internet works it's basically

585
00:58:34,570 --> 00:58:36,390
and I'm not saying

586
00:58:36,390 --> 00:58:41,940
NSA impossible but it's virtually
impossible to detect you first of all

587
00:58:41,940 --> 00:58:47,670
when you're attacking someone you will
probably a at least in the beginning use

588
00:58:47,670 --> 00:58:55,230
use one of the details for hire services
so first of all that the first layer of

589
00:58:55,230 --> 00:59:02,099
separation and then they will send the
NS a request for example and to the

590
00:59:02,099 --> 00:59:07,049
server in order to create the end of
simplification attack and good you're

591
00:59:07,049 --> 00:59:08,339
you're alert

592
00:59:08,339 --> 00:59:17,009
ok so and then and then and then this
server replies to the source IP city has

593
00:59:17,010 --> 00:59:26,910
so and of course because DNS requests
are so so common the and you will only

594
00:59:26,910 --> 00:59:28,230
have the last hope

595
00:59:28,230 --> 00:59:35,039
because of the way BTW works basically a
if he tries to trace route for example

596
00:59:35,039 --> 00:59:39,539
you will try to trace route to the
victim not to you and are not saying

597
00:59:39,539 --> 00:59:46,920
that you can't be caught but all of the
attackers were called doing that were

598
00:59:46,920 --> 00:59:50,579
called for other isn't the two israeli
guys who got arrested or they also

599
00:59:50,579 --> 00:59:55,799
weren't caught for for the attack itself
they were called because they fear the

600
00:59:55,799 --> 00:59:59,030
vulnerability in the web application and

601
00:59:59,030 --> 01:00:05,570
and.and someone use that in order to
expose them so and that's usually where

602
01:00:05,570 --> 01:00:06,200
it goes

603
01:00:06,200 --> 01:00:10,850
someone either traces the money or
something like that or someone Bragg's

604
01:00:10,850 --> 01:00:12,830
or someone snitches

605
01:00:12,830 --> 01:00:17,630
it's not that trivial to find the source
of DDoS attacks

606
01:00:18,440 --> 01:00:24,050
thank you but don't do it different
actors because it's a on keeping it's

607
01:00:24,050 --> 01:00:27,050
hard to detect

608
01:00:33,270 --> 01:00:36,270
yeah

609
01:00:37,960 --> 01:00:42,970
hello great presentation and
organizations a i would like to ask

610
01:00:42,970 --> 01:00:47,319
about the apt attacks know what ntp
database attacks that you messaged him

611
01:00:48,040 --> 01:00:54,369
ok with the barracks and is it actually
the configuration of the database or the

612
01:00:54,369 --> 01:00:59,859
application that is reason behind it can
be both you later the application you'll

613
01:00:59,859 --> 01:01:05,799
its application and when I was back in
the days and the good ol days when we're

614
01:01:05,800 --> 01:01:12,970
used to excite for a living and be a
penetration tester if you think before

615
01:01:12,970 --> 01:01:17,379
that I was a developer so if you think
like a like a developer when you're

616
01:01:17,380 --> 01:01:20,230
accessing the database the accessing the
database

617
01:01:20,230 --> 01:01:25,119
let's say for an e-commerce website is
enough of a challenge as is and thinking

618
01:01:25,119 --> 01:01:31,540
of not what the a how-to you're trying
to work for the benefit of the majority

619
01:01:31,540 --> 01:01:36,009
of your clients so you're setting the
indexes that way you can't index all the

620
01:01:36,010 --> 01:01:40,540
columns in all the tables and you have
to do trade shows and usually it's in

621
01:01:40,540 --> 01:01:46,540
the application layer some of the times
it may be a process so you may and let

622
01:01:46,540 --> 01:01:52,720
them i called two females and talk from
the first day you may use for example

623
01:01:52,720 --> 01:01:58,000
had this browsers in order to complete
the full cycle of some sort of a process

624
01:01:58,000 --> 01:02:02,950
that will cause the big gas training
together on the application i can

625
01:02:02,950 --> 01:02:07,598
remember for example there was an
application and mapping application it's

626
01:02:07,599 --> 01:02:14,109
got as a parameter it get the it was
sort of get image . whatever and then as

627
01:02:14,109 --> 01:02:18,190
a parameter you get the the size of the
image that you want to do and they use

628
01:02:18,190 --> 01:02:19,810
something like I don't know

629
01:02:19,810 --> 01:02:24,759
SP jpg image magic or whatever in order
to resize it but it wasn't limited so

630
01:02:24,760 --> 01:02:29,530
you could set it to 52 debate and
chicken gigabyte and when you do that it

631
01:02:29,530 --> 01:02:33,220
consumes tons of memory this is not
database of course this is layer 7

632
01:02:33,220 --> 01:02:38,348
attack not thats related but I think it
also answers your question when doing a

633
01:02:38,349 --> 01:02:44,140
sophisticated the web application and
unfortunately a lot of times I

634
01:02:44,720 --> 01:02:50,450
the the security comes in only when
everything is finished and you're just

635
01:02:50,450 --> 01:02:55,910
doing a pity to get it published in the
best-case scenario in the worst case and

636
01:02:55,910 --> 01:03:00,589
are you don't even do that so and when
you do the penetration that think net

637
01:03:00,590 --> 01:03:07,310
usually a DW neglected doses neglect
like neglected the penetration testers

638
01:03:07,310 --> 01:03:12,500
and are always looking for the sequel
injection and that's good and that's

639
01:03:12,500 --> 01:03:16,130
what i was looking for as well and
sequel injection remote code execution

640
01:03:16,130 --> 01:03:22,550
the pastor of ourselves etc etc all the
sexy stuff that you can get actual data

641
01:03:22,550 --> 01:03:28,070
from the system as a like measuring
latency is between request so you can

642
01:03:28,070 --> 01:03:32,420
prove that someone with one single
machine can knock off your website that

643
01:03:32,420 --> 01:03:38,090
something that most penetration testers
don't do it's usually even outside of

644
01:03:38,090 --> 01:03:41,900
the scope of the project so usually the
application not the configuration

645
01:03:41,900 --> 01:03:50,180
because I tea and I'm saying this
carefully but I tea and DevOps usually

646
01:03:51,520 --> 01:03:56,950
well I wouldn't say they usually follow
best practices because they don't but

647
01:03:56,950 --> 01:03:59,950
the but i would say that most of its
application steel

648
01:04:11,369 --> 01:04:13,440
yeah

649
01:04:13,440 --> 01:04:15,260
come on

650
01:04:15,260 --> 01:04:18,260
work isn't

651
01:04:19,290 --> 01:04:24,600
I would i will give the the bottle to
then the next to the next question I saw

652
01:04:24,600 --> 01:04:30,089
that this this technique was done here I
so I'm copycatting ok yes you have a

653
01:04:30,090 --> 01:04:35,460
question say no again but better

654
01:04:35,460 --> 01:04:41,880
normal holla know where pour me a drink
and then i can say two in-service

655
01:04:41,880 --> 01:04:46,080
Medical Institute oh right we need to
drink it like this location in the right

656
01:04:46,080 --> 01:04:54,540
can go go gala

