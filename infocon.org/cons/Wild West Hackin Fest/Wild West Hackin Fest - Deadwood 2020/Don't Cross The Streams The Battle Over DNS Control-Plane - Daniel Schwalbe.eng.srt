1
00:00:00,569 --> 00:00:07,270
right Daniel are you ready to go sir you

2
00:00:03,729 --> 00:00:08,800
look so good I like the backdrop I'm now

3
00:00:07,270 --> 00:00:11,230
wondering what's behind the curtain

4
00:00:08,800 --> 00:00:14,380
telling no one will ever know oh yeah

5
00:00:11,230 --> 00:00:16,590
yeah all right with that sir all right

6
00:00:14,380 --> 00:00:18,760
we'll take it away then all righty well

7
00:00:16,590 --> 00:00:21,250
thanks everybody my name is Daniel

8
00:00:18,760 --> 00:00:24,670
Swabia I'm the deputy CEO and director

9
00:00:21,250 --> 00:00:28,030
of engineering at far side security we

10
00:00:24,670 --> 00:00:30,520
do passive DNS and so not super

11
00:00:28,030 --> 00:00:32,830
unsurprisingly I am gonna talk a little

12
00:00:30,520 --> 00:00:35,260
bit about DNS today and most importantly

13
00:00:32,830 --> 00:00:38,379
in the battle of the DNS control plan

14
00:00:35,260 --> 00:00:40,629
I'm going to probably save questions

15
00:00:38,380 --> 00:00:43,690
till the end I've got this court open

16
00:00:40,630 --> 00:00:45,190
somebody really wants to you know have a

17
00:00:43,690 --> 00:00:47,140
question answer right then right there

18
00:00:45,190 --> 00:00:48,940
might be able to do that but in general

19
00:00:47,140 --> 00:00:51,160
probably going to try to save questions

20
00:00:48,940 --> 00:00:51,720
till the end all right so what this talk

21
00:00:51,160 --> 00:00:56,860
is about

22
00:00:51,720 --> 00:01:00,370
euh Dinah's over https in d-o-t dns over

23
00:00:56,860 --> 00:01:04,870
TLS are certainly on everybody's mind if

24
00:01:00,370 --> 00:01:06,460
you're in InfoSec or adjacent and so the

25
00:01:04,870 --> 00:01:08,560
reason I put this talk together is

26
00:01:06,460 --> 00:01:13,000
because I'm actually oftentimes

27
00:01:08,560 --> 00:01:14,560
surprised how little our fellow security

28
00:01:13,000 --> 00:01:17,729
professionals have actually given this

29
00:01:14,560 --> 00:01:21,549
thought and so we're going to talk about

30
00:01:17,729 --> 00:01:23,890
aspects of performance security network

31
00:01:21,549 --> 00:01:28,380
management and privacy when it comes to

32
00:01:23,890 --> 00:01:31,570
the do H and do T which Tina's over TLS

33
00:01:28,380 --> 00:01:33,759
and at the end I'll offer some personal

34
00:01:31,570 --> 00:01:37,149
opinion why I think one or the other are

35
00:01:33,760 --> 00:01:39,190
better or what sort of the caveats are

36
00:01:37,150 --> 00:01:41,560
that really people don't necessarily

37
00:01:39,190 --> 00:01:43,509
talk about the key points here my

38
00:01:41,560 --> 00:01:45,340
hypothesis is encrypted resolution

39
00:01:43,510 --> 00:01:47,950
servers just cause as many problems as

40
00:01:45,340 --> 00:01:50,650
they solve I have put out the obligatory

41
00:01:47,950 --> 00:01:52,780
disclaimer that first at security my

42
00:01:50,650 --> 00:01:55,360
employer we collect passive DNS above

43
00:01:52,780 --> 00:01:57,610
the recur sir and so we have no qualms

44
00:01:55,360 --> 00:01:59,890
about encrypted resolution if your

45
00:01:57,610 --> 00:02:02,920
threat model supports that and a second

46
00:01:59,890 --> 00:02:04,840
disclaimer after some some feedback at a

47
00:02:02,920 --> 00:02:07,150
previous version of this talk is that

48
00:02:04,840 --> 00:02:09,549
our study encourages to use of curry

49
00:02:07,150 --> 00:02:10,390
minimization so Q&A minimization I

50
00:02:09,549 --> 00:02:11,890
meaning

51
00:02:10,389 --> 00:02:13,899
resolver no longer sends the full

52
00:02:11,890 --> 00:02:15,880
original queue name to the upstream

53
00:02:13,900 --> 00:02:18,790
their name server we support that so

54
00:02:15,880 --> 00:02:21,160
that's one way you can kind of limit

55
00:02:18,790 --> 00:02:23,380
giving away the whole farm when you're

56
00:02:21,160 --> 00:02:25,780
when you're making queries but that's an

57
00:02:23,380 --> 00:02:27,670
implementation issue and yeah that's not

58
00:02:25,780 --> 00:02:32,470
going probably as well as it should be

59
00:02:27,670 --> 00:02:35,589
so why would you encrypt your name

60
00:02:32,470 --> 00:02:37,090
resolutions traditional DNS as it's been

61
00:02:35,590 --> 00:02:40,450
around for nearly 40 years

62
00:02:37,090 --> 00:02:42,760
sends a query in plain text so if

63
00:02:40,450 --> 00:02:44,500
somebody is on your local network they

64
00:02:42,760 --> 00:02:48,640
could sniff that if they are in the path

65
00:02:44,500 --> 00:02:50,230
between you and your isp or and if you

66
00:02:48,640 --> 00:02:52,359
use in a resolver that's on the open

67
00:02:50,230 --> 00:02:54,190
Internet that information could be

68
00:02:52,360 --> 00:02:57,310
intercepted and so somebody can see what

69
00:02:54,190 --> 00:02:59,829
DNS cruz you're making which is a pretty

70
00:02:57,310 --> 00:03:01,209
interesting source of intelligence there

71
00:02:59,830 --> 00:03:03,100
might be some information in there that

72
00:03:01,209 --> 00:03:05,980
you might not want other people to know

73
00:03:03,100 --> 00:03:08,859
you know what websites you visit between

74
00:03:05,980 --> 00:03:10,869
you and your browser so the typical

75
00:03:08,860 --> 00:03:14,440
threat models in this situation are I

76
00:03:10,870 --> 00:03:16,120
don't trust my ISP my ISPs evil I only

77
00:03:14,440 --> 00:03:18,250
have one or two to choose from so it's

78
00:03:16,120 --> 00:03:20,530
not like I can just switch to whoever I

79
00:03:18,250 --> 00:03:22,360
want and they're monitoring all my

80
00:03:20,530 --> 00:03:23,700
traffic I don't want them to see what

81
00:03:22,360 --> 00:03:25,959
I'm doing okay

82
00:03:23,700 --> 00:03:27,790
next thread model I don't trust my

83
00:03:25,959 --> 00:03:30,130
government okay depending on where you

84
00:03:27,790 --> 00:03:32,140
live that you may have good reason or

85
00:03:30,130 --> 00:03:33,880
you may just be off the reservation that

86
00:03:32,140 --> 00:03:35,500
you know in government should stay out

87
00:03:33,880 --> 00:03:37,209
of my business no matter what and I

88
00:03:35,500 --> 00:03:39,160
don't want them to know what I do what I

89
00:03:37,209 --> 00:03:42,100
am doing on the Internet so yeah you're

90
00:03:39,160 --> 00:03:45,280
interested okay that's that's another

91
00:03:42,100 --> 00:03:47,380
pretty common approach some people don't

92
00:03:45,280 --> 00:03:49,239
trust their employer or their roommate

93
00:03:47,380 --> 00:03:51,579
or the local coffee shop where they use

94
00:03:49,239 --> 00:03:53,079
the free Wi-Fi okay there's a whole

95
00:03:51,579 --> 00:03:56,019
bunch of things to unpack there but

96
00:03:53,079 --> 00:03:58,600
ultimately so those are reasonable

97
00:03:56,019 --> 00:04:01,540
threat models for some people if you are

98
00:03:58,600 --> 00:04:02,980
on your employers network and you're you

99
00:04:01,540 --> 00:04:04,660
know wanting composed aware you're

100
00:04:02,980 --> 00:04:06,280
probably violating some kind of policy

101
00:04:04,660 --> 00:04:08,079
if you're worried about what they may or

102
00:04:06,280 --> 00:04:10,959
may not be able to see but regardless

103
00:04:08,079 --> 00:04:12,970
that's another worth discussing and then

104
00:04:10,959 --> 00:04:16,660
finally there are people who don't trust

105
00:04:12,970 --> 00:04:18,640
large crowd providers I don't I'm Claude

106
00:04:16,660 --> 00:04:20,289
averse but we had Clark as many

107
00:04:18,640 --> 00:04:22,419
wonderful things for lots of people and

108
00:04:20,289 --> 00:04:24,479
there are certainly useful applications

109
00:04:22,419 --> 00:04:26,909
for that but ultimately I

110
00:04:24,480 --> 00:04:29,160
a bit of a distrust in terms of the data

111
00:04:26,910 --> 00:04:32,070
that is being collected through cloud

112
00:04:29,160 --> 00:04:34,200
services and what people end up doing

113
00:04:32,070 --> 00:04:36,540
with it so those are the kind of threat

114
00:04:34,200 --> 00:04:38,789
models worth considering when we're

115
00:04:36,540 --> 00:04:40,920
talking about why somebody might want to

116
00:04:38,790 --> 00:04:43,380
encrypt their name resolutions from

117
00:04:40,920 --> 00:04:46,800
their Co client until they get the

118
00:04:43,380 --> 00:04:50,490
answer back as far as encrypted resolver

119
00:04:46,800 --> 00:04:53,340
options go these days there's d-o-t dns

120
00:04:50,490 --> 00:04:57,180
over TLS which uses TLS encryption

121
00:04:53,340 --> 00:04:59,549
between new localhost and your recursive

122
00:04:57,180 --> 00:05:02,310
resolver it has to be supported by the

123
00:04:59,550 --> 00:05:05,130
resolver and it requires some some

124
00:05:02,310 --> 00:05:07,140
changes to the earth software locally to

125
00:05:05,130 --> 00:05:09,719
facilitate that encryption and it's

126
00:05:07,140 --> 00:05:16,320
between you and the result then there's

127
00:05:09,720 --> 00:05:21,270
D H nu by duties RFC 78589 s over HTTPS

128
00:05:16,320 --> 00:05:24,090
is our C 84-84 and it bypasses the

129
00:05:21,270 --> 00:05:28,469
traditional name resolution path and

130
00:05:24,090 --> 00:05:31,429
puts the question in HTTP packet which

131
00:05:28,470 --> 00:05:36,330
gets sent over a TLS encrypted HTTP

132
00:05:31,430 --> 00:05:38,850
session to over port 443 to a resolver

133
00:05:36,330 --> 00:05:41,219
that affords type of name resolution to

134
00:05:38,850 --> 00:05:43,680
resolve our unpacks DHCP packet looks

135
00:05:41,220 --> 00:05:46,140
into it does the recursive look up there

136
00:05:43,680 --> 00:05:48,510
what's the answer back into an HTTP

137
00:05:46,140 --> 00:05:50,490
packet and sends it back using TLS

138
00:05:48,510 --> 00:05:52,890
encryption to your typically a browser

139
00:05:50,490 --> 00:05:55,020
and then your browser can use the answer

140
00:05:52,890 --> 00:05:57,479
I've got and reach the resource you're

141
00:05:55,020 --> 00:06:01,020
trying to connect you there are other

142
00:05:57,480 --> 00:06:03,450
options to keep your name resolution

143
00:06:01,020 --> 00:06:05,729
traffic from prying eyes you could be

144
00:06:03,450 --> 00:06:07,530
using a VPN and so that usually bypasses

145
00:06:05,730 --> 00:06:10,770
any visibility of your local resolver

146
00:06:07,530 --> 00:06:12,840
because it tunnels out and then your

147
00:06:10,770 --> 00:06:14,849
resolutions are originating from the

148
00:06:12,840 --> 00:06:18,119
endpoint where the region is hosted that

149
00:06:14,850 --> 00:06:19,590
kind of gets around local ISP visibility

150
00:06:18,120 --> 00:06:20,750
but of course you have to trust your VPN

151
00:06:19,590 --> 00:06:23,940
provider because they can see everything

152
00:06:20,750 --> 00:06:26,910
tor is certainly an option although it

153
00:06:23,940 --> 00:06:29,040
has other problems it's still pretty

154
00:06:26,910 --> 00:06:30,750
sluggish to use in my experience you

155
00:06:29,040 --> 00:06:34,260
have to you know install software for

156
00:06:30,750 --> 00:06:36,630
that and while it can hide where your

157
00:06:34,260 --> 00:06:38,219
originating from you still are on me as

158
00:06:36,630 --> 00:06:40,500
mr. curious the exit

159
00:06:38,220 --> 00:06:42,540
that you're popping out from and if

160
00:06:40,500 --> 00:06:44,100
somebody's monitoring that if you're not

161
00:06:42,540 --> 00:06:45,780
using additional encryption for your

162
00:06:44,100 --> 00:06:47,460
name resolution at that point then the

163
00:06:45,780 --> 00:06:49,229
exit node operator can see what makes

164
00:06:47,460 --> 00:06:51,570
you look up there are some other options

165
00:06:49,230 --> 00:06:54,240
however I got asked this questions a few

166
00:06:51,570 --> 00:06:56,370
times DNS SEC has nothing to do with

167
00:06:54,240 --> 00:06:58,890
encrypted resolver options that is

168
00:06:56,370 --> 00:07:01,610
unisex to secure your users own records

169
00:06:58,890 --> 00:07:05,370
but it has nothing to do with encrypting

170
00:07:01,610 --> 00:07:06,870
name resolution I like pictures so I

171
00:07:05,370 --> 00:07:10,950
threw these together just to kind of

172
00:07:06,870 --> 00:07:13,470
visualize DNS over TLS encrypts the name

173
00:07:10,950 --> 00:07:15,599
resolution path between your endpoint

174
00:07:13,470 --> 00:07:17,760
and the local recursos this could also

175
00:07:15,600 --> 00:07:20,070
be a recursos on the open Internet

176
00:07:17,760 --> 00:07:23,250
provided your local service provider

177
00:07:20,070 --> 00:07:24,990
does not block name resolutions outside

178
00:07:23,250 --> 00:07:27,900
of their network it really depends on

179
00:07:24,990 --> 00:07:29,070
who your ISPs and certain company

180
00:07:27,900 --> 00:07:30,989
environments or universities etc

181
00:07:29,070 --> 00:07:33,990
sometimes will force you to use their

182
00:07:30,990 --> 00:07:37,140
local recursos and will not allow port

183
00:07:33,990 --> 00:07:40,830
53 traffic or in the case of the DVT

184
00:07:37,140 --> 00:07:43,380
port 853 traffic that may be blocked but

185
00:07:40,830 --> 00:07:45,330
if it's configured correctly your local

186
00:07:43,380 --> 00:07:48,000
client will make a regular query to a

187
00:07:45,330 --> 00:07:50,520
name server except the request will be

188
00:07:48,000 --> 00:07:52,050
secured by a TLS important after that

189
00:07:50,520 --> 00:07:54,900
the recursos still reaches out to the

190
00:07:52,050 --> 00:07:56,190
root 2 TLD and authoritative as it would

191
00:07:54,900 --> 00:07:58,890
if it doesn't have the information in

192
00:07:56,190 --> 00:08:02,610
the cache then you got D H DNS or HTTPS

193
00:07:58,890 --> 00:08:04,740
which bypasses the local recursive

194
00:08:02,610 --> 00:08:09,390
infrastructure completely it essentially

195
00:08:04,740 --> 00:08:12,060
uses and port 443 tunnel if you will to

196
00:08:09,390 --> 00:08:16,020
a recur sir on the open Internet

197
00:08:12,060 --> 00:08:19,110
typically that supports D H and it looks

198
00:08:16,020 --> 00:08:20,820
just like any other TLS connection from

199
00:08:19,110 --> 00:08:22,560
a network management standpoint it's

200
00:08:20,820 --> 00:08:24,990
indistinguishable between there's

201
00:08:22,560 --> 00:08:27,690
somebody accessing a website over HTTPS

202
00:08:24,990 --> 00:08:29,760
and making a query so that's part of the

203
00:08:27,690 --> 00:08:31,740
problem we'll talk about that here the

204
00:08:29,760 --> 00:08:34,049
recur sir that's out there with eh

205
00:08:31,740 --> 00:08:35,430
support also if it doesn't have the

206
00:08:34,049 --> 00:08:37,650
answer you're looking for in its cache

207
00:08:35,429 --> 00:08:41,010
will reach out to the roots TLD is an

208
00:08:37,650 --> 00:08:43,380
authoritative but the point is that the

209
00:08:41,010 --> 00:08:46,410
name resolution path bypasses the local

210
00:08:43,380 --> 00:08:49,410
networks resolution that's offered in

211
00:08:46,410 --> 00:08:51,540
the configuration there there's also a

212
00:08:49,410 --> 00:08:54,540
possibility of sort of a

213
00:08:51,540 --> 00:08:57,420
hybrid approach if you will you could as

214
00:08:54,540 --> 00:09:01,740
a network operator conceivably offer do

215
00:08:57,420 --> 00:09:03,870
age services on the local recurse er

216
00:09:01,740 --> 00:09:06,079
that you operate there's nothing

217
00:09:03,870 --> 00:09:11,399
technically preventing you from that now

218
00:09:06,079 --> 00:09:13,500
how your users would find out about it

219
00:09:11,399 --> 00:09:16,079
and would have to configure their

220
00:09:13,500 --> 00:09:18,389
browsers to use that name resolution

221
00:09:16,079 --> 00:09:21,750
path there's some effort involved in

222
00:09:18,389 --> 00:09:24,149
there it's not gonna be automatic the

223
00:09:21,750 --> 00:09:27,029
popular you know browsers chrome firefox

224
00:09:24,149 --> 00:09:29,730
etc have their preferred toh providers

225
00:09:27,029 --> 00:09:32,490
google's 8.88 service Zilla is

226
00:09:29,730 --> 00:09:34,880
partnering with CloudFlare and mozilla

227
00:09:32,490 --> 00:09:38,040
now by default if you install it just

228
00:09:34,880 --> 00:09:40,980
enabling DRH to the CloudFlare service

229
00:09:38,040 --> 00:09:42,540
as a user you can disable that but by

230
00:09:40,980 --> 00:09:44,490
default that just happened a couple

231
00:09:42,540 --> 00:09:46,349
weeks ago I think they flipped the

232
00:09:44,490 --> 00:09:48,269
switch and now I'm moving all of their

233
00:09:46,350 --> 00:09:50,940
resolutions to the DRH service with

234
00:09:48,269 --> 00:09:52,769
Clark there so that's it's a whole

235
00:09:50,940 --> 00:09:55,649
nother discussion about changing a

236
00:09:52,769 --> 00:09:58,199
default thing by having users having to

237
00:09:55,649 --> 00:10:00,149
opt out versus opt in but that's not

238
00:09:58,199 --> 00:10:03,029
exactly but the point being is that you

239
00:10:00,149 --> 00:10:04,949
could run a deal which resolve our

240
00:10:03,029 --> 00:10:07,980
village capable resolver on your local

241
00:10:04,949 --> 00:10:09,990
network and have your users point at

242
00:10:07,980 --> 00:10:12,600
that and then after that the recursion

243
00:10:09,990 --> 00:10:14,490
goes the same way route TLT authorities

244
00:10:12,600 --> 00:10:16,649
to the local server but this sort of

245
00:10:14,490 --> 00:10:18,870
good and a hybrid approach that is not

246
00:10:16,649 --> 00:10:20,699
as common yet but it's been pointed out

247
00:10:18,870 --> 00:10:22,440
that you know this is possible so I

248
00:10:20,699 --> 00:10:25,380
should mention it okay sure

249
00:10:22,440 --> 00:10:28,730
fair point all right let's talk a little

250
00:10:25,380 --> 00:10:31,319
bit about performance because when do h

251
00:10:28,730 --> 00:10:33,810
first came out people saying like oh

252
00:10:31,319 --> 00:10:36,959
there's so much overhead shoving you

253
00:10:33,810 --> 00:10:39,989
know the name resolution into an HTTP

254
00:10:36,959 --> 00:10:41,699
package it's it's gonna be have dismal

255
00:10:39,990 --> 00:10:44,850
performance you're gonna have you know

256
00:10:41,699 --> 00:10:47,099
way laggy TTL response time the round

257
00:10:44,850 --> 00:10:48,750
trips are going to be you know way

258
00:10:47,100 --> 00:10:51,240
longer it's it's not going to work real

259
00:10:48,750 --> 00:10:54,000
well realistically if you're on a

260
00:10:51,240 --> 00:10:56,220
reasonably good connection the overhead

261
00:10:54,000 --> 00:10:58,439
is fairly negligible

262
00:10:56,220 --> 00:11:01,649
you got to invest a little bit in the

263
00:10:58,439 --> 00:11:04,079
crypto for the HTTP connection but again

264
00:11:01,649 --> 00:11:05,790
most websites these days

265
00:11:04,080 --> 00:11:07,770
use it browsers are fairly capable

266
00:11:05,790 --> 00:11:10,290
unless you're running a system that's

267
00:11:07,770 --> 00:11:12,630
like 15 years old as your your your end

268
00:11:10,290 --> 00:11:13,949
point it's probably not going to be

269
00:11:12,630 --> 00:11:16,260
making a big difference

270
00:11:13,950 --> 00:11:18,840
caching can make a difference in the

271
00:11:16,260 --> 00:11:23,250
universe as far one of the strong

272
00:11:18,840 --> 00:11:25,890
benefits of using your network operators

273
00:11:23,250 --> 00:11:28,650
local recursos because you have the

274
00:11:25,890 --> 00:11:32,100
shortest distance to that and if that

275
00:11:28,650 --> 00:11:34,230
recur sir is fairly busy it will have a

276
00:11:32,100 --> 00:11:36,690
fair amount of resolutions all right in

277
00:11:34,230 --> 00:11:37,760
its cache so that round-trip time is is

278
00:11:36,690 --> 00:11:42,300
really fast

279
00:11:37,760 --> 00:11:46,980
normal DNS resolutions use UDP where DNS

280
00:11:42,300 --> 00:11:49,530
over TLS as well as do age use TCP

281
00:11:46,980 --> 00:11:50,940
sessions which have to be established

282
00:11:49,530 --> 00:11:52,319
three-way handshake all that kind of

283
00:11:50,940 --> 00:11:55,110
stuff so there's a little bit of a

284
00:11:52,320 --> 00:11:57,540
performance penalty but again from a

285
00:11:55,110 --> 00:11:59,700
user experience it's probably pretty

286
00:11:57,540 --> 00:12:01,829
negligible so I'm certainly not in the

287
00:11:59,700 --> 00:12:04,560
camp of saying like you know do age is

288
00:12:01,830 --> 00:12:06,630
bad because it's a performance hit of

289
00:12:04,560 --> 00:12:08,969
course browsers can you know do prefetch

290
00:12:06,630 --> 00:12:10,650
and do some browser level caching

291
00:12:08,970 --> 00:12:13,350
although there's other problems with

292
00:12:10,650 --> 00:12:15,540
that so but it should be mentioned here

293
00:12:13,350 --> 00:12:18,210
you know the OS can do it a little bit

294
00:12:15,540 --> 00:12:21,540
of its own caching depending on the kind

295
00:12:18,210 --> 00:12:22,920
of services you're accessing but that

296
00:12:21,540 --> 00:12:24,380
overhead and the crypto overhead this

297
00:12:22,920 --> 00:12:31,010
pretty negligible amount of hardware

298
00:12:24,380 --> 00:12:33,270
however I don't think there is much

299
00:12:31,010 --> 00:12:35,760
disagreement that a well-designed local

300
00:12:33,270 --> 00:12:38,819
caching server will perform better than

301
00:12:35,760 --> 00:12:42,150
a cloud-based ëoh server because shorter

302
00:12:38,820 --> 00:12:44,490
distances rendre Pama packets etc that's

303
00:12:42,150 --> 00:12:46,650
just yeah simple math if you have to

304
00:12:44,490 --> 00:12:49,320
reach further out it's gonna result in a

305
00:12:46,650 --> 00:12:51,540
little bit of a delay but it's unlikely

306
00:12:49,320 --> 00:12:53,750
to differ any significant sort of way so

307
00:12:51,540 --> 00:12:56,939
as far as performance goes I think

308
00:12:53,750 --> 00:13:01,260
traditional DNS and encrypted resolution

309
00:12:56,940 --> 00:13:04,230
is probably a 50/50 in terms of what's

310
00:13:01,260 --> 00:13:05,580
what's working better security now we're

311
00:13:04,230 --> 00:13:08,730
all security professionals so that's

312
00:13:05,580 --> 00:13:11,100
certainly near and dear to us in in our

313
00:13:08,730 --> 00:13:14,550
wheelhouse there is an argument to be

314
00:13:11,100 --> 00:13:14,780
made that more encryption between the

315
00:13:14,550 --> 00:13:16,130
end

316
00:13:14,780 --> 00:13:18,380
user and whatever service they're

317
00:13:16,130 --> 00:13:20,720
accessing it is a good thing you know

318
00:13:18,380 --> 00:13:22,310
there's you know nation state

319
00:13:20,720 --> 00:13:24,530
surveillance there's corporate

320
00:13:22,310 --> 00:13:26,989
surveillance the information economy the

321
00:13:24,530 --> 00:13:29,540
more information can be gathered etc is

322
00:13:26,990 --> 00:13:32,990
certainly concerning and as the end user

323
00:13:29,540 --> 00:13:35,180
I you know I want to limit as much as

324
00:13:32,990 --> 00:13:37,640
possible who is access to my personal

325
00:13:35,180 --> 00:13:39,770
data and who is collecting it and making

326
00:13:37,640 --> 00:13:42,710
a bunch of money with it so if I use

327
00:13:39,770 --> 00:13:45,920
more encryption in terms of the services

328
00:13:42,710 --> 00:13:47,690
that I use it makes it harder for casual

329
00:13:45,920 --> 00:13:50,209
surveillance or in pass surveillance of

330
00:13:47,690 --> 00:13:52,550
the things that I do using encrypted

331
00:13:50,210 --> 00:13:55,130
name resolution certainly adds to that

332
00:13:52,550 --> 00:13:58,819
in that portions of the signal path will

333
00:13:55,130 --> 00:14:00,590
be encrypted again if your ISP is you

334
00:13:58,820 --> 00:14:01,970
know depending on again where around the

335
00:14:00,590 --> 00:14:04,310
world you look at its there may be a

336
00:14:01,970 --> 00:14:05,390
little bit more interested in what users

337
00:14:04,310 --> 00:14:06,589
are doing there may be more engine

338
00:14:05,390 --> 00:14:09,319
monitoring traffic a little bit more

339
00:14:06,590 --> 00:14:11,180
accurate actively however of course if

340
00:14:09,320 --> 00:14:13,700
the ISP already operates your local

341
00:14:11,180 --> 00:14:15,770
recur sir then you know by using that

342
00:14:13,700 --> 00:14:18,140
for name resolution they can see all of

343
00:14:15,770 --> 00:14:21,079
the names you're looking at so the local

344
00:14:18,140 --> 00:14:22,630
ISP is probably a little bit of a

345
00:14:21,080 --> 00:14:25,190
separate beast because if they have

346
00:14:22,630 --> 00:14:27,140
ultimate visibility by virtue of being a

347
00:14:25,190 --> 00:14:29,090
network operator but once it goes

348
00:14:27,140 --> 00:14:31,310
outside of the ISP network depending on

349
00:14:29,090 --> 00:14:33,830
what country you live in having and

350
00:14:31,310 --> 00:14:37,189
encrypt the signal path you may cut down

351
00:14:33,830 --> 00:14:39,470
a little bit on how easily entities that

352
00:14:37,190 --> 00:14:41,060
have visibility into the upstream

353
00:14:39,470 --> 00:14:43,000
connectivity between your prior and

354
00:14:41,060 --> 00:14:45,199
whatever you're reaching is a little

355
00:14:43,000 --> 00:14:46,730
they have a better ability to see that

356
00:14:45,200 --> 00:14:47,450
so by using encryption there it makes it

357
00:14:46,730 --> 00:14:51,200
a little bit harder

358
00:14:47,450 --> 00:14:54,200
there are certificate trust issues

359
00:14:51,200 --> 00:14:57,080
currently in deenis of a TLS has

360
00:14:54,200 --> 00:15:00,500
actually no mechanism to verify that the

361
00:14:57,080 --> 00:15:04,130
TLS cert on the Ricker sir is not easy

362
00:15:00,500 --> 00:15:05,780
to verify that so you kind of have to be

363
00:15:04,130 --> 00:15:09,620
a little bit concerned about manner

364
00:15:05,780 --> 00:15:12,800
meddling there I suspect there will be a

365
00:15:09,620 --> 00:15:14,420
revision that allows the software to do

366
00:15:12,800 --> 00:15:16,609
some certificate validation but right

367
00:15:14,420 --> 00:15:18,050
now that's a little iffy so yes your

368
00:15:16,610 --> 00:15:21,710
encryption your connection is encrypted

369
00:15:18,050 --> 00:15:24,079
but unlike with web browsers etc it's

370
00:15:21,710 --> 00:15:25,970
not as straightforward to validate the

371
00:15:24,080 --> 00:15:28,220
TLS connection that there's not some

372
00:15:25,970 --> 00:15:32,420
statistical spoofing issue going on

373
00:15:28,220 --> 00:15:34,640
DNS over HTTP of course uses the TLS

374
00:15:32,420 --> 00:15:36,620
certificate of whatever the server is

375
00:15:34,640 --> 00:15:39,470
that's answering your D which connection

376
00:15:36,620 --> 00:15:42,230
and you can validate that similarly to

377
00:15:39,470 --> 00:15:43,910
if you were to connect to a website

378
00:15:42,230 --> 00:15:45,650
using a browser since it as of right now

379
00:15:43,910 --> 00:15:48,260
the easiest way to utilize

380
00:15:45,650 --> 00:15:50,030
tina's over HTTPS is by having your

381
00:15:48,260 --> 00:15:51,710
browser support it and having it enabled

382
00:15:50,030 --> 00:15:53,089
the browser handles the whole thing

383
00:15:51,710 --> 00:15:55,610
you'll get a certificate warning if

384
00:15:53,090 --> 00:16:00,350
there's something going on in terms of

385
00:15:55,610 --> 00:16:02,270
how somebody might try to figure out

386
00:16:00,350 --> 00:16:06,110
which websites you're looking at and

387
00:16:02,270 --> 00:16:08,030
visiting if you are using thank

388
00:16:06,110 --> 00:16:11,060
encrypted name resolution you are

389
00:16:08,030 --> 00:16:12,740
preventing the answer the question and

390
00:16:11,060 --> 00:16:15,560
the answer that you're getting back from

391
00:16:12,740 --> 00:16:17,720
being observed however if you are then

392
00:16:15,560 --> 00:16:21,079
accessing a resource that only supports

393
00:16:17,720 --> 00:16:22,130
HTTP that request is going to go in

394
00:16:21,080 --> 00:16:24,680
plaintext

395
00:16:22,130 --> 00:16:27,290
so even though more and more website

396
00:16:24,680 --> 00:16:29,060
operators are moving to HTTPS as a

397
00:16:27,290 --> 00:16:30,949
default there still is a significant

398
00:16:29,060 --> 00:16:33,979
amount of our web sites out there that

399
00:16:30,950 --> 00:16:36,280
don't offer HTTPS or don't enable it by

400
00:16:33,980 --> 00:16:39,740
default you know if you get your HD

401
00:16:36,280 --> 00:16:41,810
HTTPS all the time plug-in enabled that

402
00:16:39,740 --> 00:16:43,820
can help but there's still a fair amount

403
00:16:41,810 --> 00:16:47,300
of resources out there that don't even

404
00:16:43,820 --> 00:16:49,850
have HTTPS enabled as a as a possibility

405
00:16:47,300 --> 00:16:52,250
on the web server so what good is your

406
00:16:49,850 --> 00:16:53,900
encrypted dns resolution resolution if

407
00:16:52,250 --> 00:16:55,490
the immediate next packet that makes a

408
00:16:53,900 --> 00:16:57,110
connection is in plain text and has the

409
00:16:55,490 --> 00:17:00,370
information in there so that's something

410
00:16:57,110 --> 00:17:02,930
to be aware of if you're concerned about

411
00:17:00,370 --> 00:17:04,640
who knows what names you're looking up

412
00:17:02,930 --> 00:17:06,200
and more websites you're accessing at

413
00:17:04,640 --> 00:17:08,209
that point it's definitely worthwhile

414
00:17:06,200 --> 00:17:10,880
considering a VPN connection because

415
00:17:08,209 --> 00:17:12,860
then your entire resolution plus the

416
00:17:10,880 --> 00:17:14,750
access of the website is kept from the

417
00:17:12,859 --> 00:17:16,849
prying eyes of your ISP or your local

418
00:17:14,750 --> 00:17:19,040
government and of course you have to

419
00:17:16,849 --> 00:17:22,159
trust your VPN operator which is a hole

420
00:17:19,040 --> 00:17:23,659
not a cuttlefish I'm not gonna spend too

421
00:17:22,160 --> 00:17:24,890
much time going into this because it

422
00:17:23,660 --> 00:17:26,090
really is a rabbit hole and we could

423
00:17:24,890 --> 00:17:28,400
probably have a whole nother talk on

424
00:17:26,089 --> 00:17:32,120
that but sni server name indication and

425
00:17:28,400 --> 00:17:36,020
encrypted sni is a potential solution to

426
00:17:32,120 --> 00:17:38,600
the problem of having the access of a

427
00:17:36,020 --> 00:17:39,289
site being observable there's an RFC for

428
00:17:38,600 --> 00:17:42,019
that

429
00:17:39,289 --> 00:17:44,929
the web server has to be configured for

430
00:17:42,019 --> 00:17:46,669
that which not a lot of them on the

431
00:17:44,929 --> 00:17:49,880
whole as far as you know the LexA top 1

432
00:17:46,669 --> 00:17:53,090
million etc whatever goes that

433
00:17:49,880 --> 00:17:54,289
technology is is still slowly to be

434
00:17:53,090 --> 00:17:56,360
adopted

435
00:17:54,289 --> 00:17:57,260
you know TLS 1.3 will have something to

436
00:17:56,360 --> 00:17:59,539
say about that

437
00:17:57,260 --> 00:18:03,049
again not a lot of service today

438
00:17:59,539 --> 00:18:05,419
actually support that so if and when the

439
00:18:03,049 --> 00:18:07,340
needle on s in my and yes and I moves

440
00:18:05,419 --> 00:18:11,019
that'll make a difference but for right

441
00:18:07,340 --> 00:18:14,389
now because an initial connection to a

442
00:18:11,019 --> 00:18:16,880
HDS server still has to involve some

443
00:18:14,389 --> 00:18:19,070
plain text before the session key can be

444
00:18:16,880 --> 00:18:22,940
negotiated there's a potential of

445
00:18:19,070 --> 00:18:24,439
observing at least the initial name when

446
00:18:22,940 --> 00:18:26,809
you make a connection and that's

447
00:18:24,440 --> 00:18:29,630
potential for disclosing name that

448
00:18:26,809 --> 00:18:32,720
you're trying to access I went when do H

449
00:18:29,630 --> 00:18:35,179
first came onto the scene I heard a lot

450
00:18:32,720 --> 00:18:37,159
of talk about oh this is going to be

451
00:18:35,179 --> 00:18:39,350
great that's gonna protect you know

452
00:18:37,159 --> 00:18:41,149
dissidents and hostile territories and

453
00:18:39,350 --> 00:18:43,010
make it much harder for oppressive

454
00:18:41,149 --> 00:18:44,989
governments to spy on their citizens and

455
00:18:43,010 --> 00:18:47,450
potentially you know by accessing

456
00:18:44,990 --> 00:18:49,070
undesirable websites get somebody in

457
00:18:47,450 --> 00:18:53,740
trouble I can't stress this enough

458
00:18:49,070 --> 00:18:57,049
please do not recommend do age as a

459
00:18:53,740 --> 00:18:58,820
solution to a potential dissident etc if

460
00:18:57,049 --> 00:19:01,940
somebody's life depends on it do age

461
00:18:58,820 --> 00:19:04,370
will not protect them sufficiently

462
00:19:01,940 --> 00:19:06,019
enough it can help don't recommend it to

463
00:19:04,370 --> 00:19:07,879
a dissident there they're much better

464
00:19:06,019 --> 00:19:10,220
off using something like a VPN or tor

465
00:19:07,880 --> 00:19:12,919
for that matter because there's just too

466
00:19:10,220 --> 00:19:14,690
many pitfalls where a highly motivated

467
00:19:12,919 --> 00:19:16,039
oppresses government could still get a

468
00:19:14,690 --> 00:19:18,620
whole bunch of information out there

469
00:19:16,039 --> 00:19:21,590
tor of course has its own issues because

470
00:19:18,620 --> 00:19:23,418
it's you know sometimes it's slow and it

471
00:19:21,590 --> 00:19:25,010
doesn't you know it's not exactly for

472
00:19:23,419 --> 00:19:26,990
the faint of heart at times it's gotten

473
00:19:25,010 --> 00:19:28,970
a lot better I teach an infra set class

474
00:19:26,990 --> 00:19:30,679
to undergrads once a year and I always

475
00:19:28,970 --> 00:19:32,539
make them install tor go through the

476
00:19:30,679 --> 00:19:34,909
whole setting it up making a connection

477
00:19:32,539 --> 00:19:37,158
just so they get so a real-world feel

478
00:19:34,909 --> 00:19:40,250
for that and the most recent time we did

479
00:19:37,159 --> 00:19:42,200
it about half of the 35 students in my

480
00:19:40,250 --> 00:19:43,610
class got it done pretty easily but half

481
00:19:42,200 --> 00:19:46,220
of them didn't need help and these are

482
00:19:43,610 --> 00:19:48,908
you know 20 22 year-old young adults

483
00:19:46,220 --> 00:19:51,480
that are reasonably technology so they

484
00:19:48,909 --> 00:19:53,040
have some trouble getting that set

485
00:19:51,480 --> 00:19:55,380
good luck trying to you know get your

486
00:19:53,040 --> 00:19:58,170
grandma to use tor but it's still better

487
00:19:55,380 --> 00:20:00,300
in do edge because it tunnels all your

488
00:19:58,170 --> 00:20:02,670
traffic from your endpoint all the way

489
00:20:00,300 --> 00:20:04,470
through to the exit nodes which you have

490
00:20:02,670 --> 00:20:06,990
to trust the exit node but that's again

491
00:20:04,470 --> 00:20:11,130
a separate issue network management

492
00:20:06,990 --> 00:20:14,100
that's okay can you please expand on the

493
00:20:11,130 --> 00:20:17,220
dissident part explain more okay so if

494
00:20:14,100 --> 00:20:19,889
you live in a country that has an

495
00:20:17,220 --> 00:20:24,240
oppressive government where by simply

496
00:20:19,890 --> 00:20:27,750
accessing websites that are considered

497
00:20:24,240 --> 00:20:30,660
undesirable by that government they may

498
00:20:27,750 --> 00:20:32,280
block them straight up however you know

499
00:20:30,660 --> 00:20:34,830
new stuff pops up and filters are only

500
00:20:32,280 --> 00:20:38,490
so good as the person or script that

501
00:20:34,830 --> 00:20:41,100
maintains them so if you are a dissident

502
00:20:38,490 --> 00:20:42,540
and disagreeing with the government and

503
00:20:41,100 --> 00:20:43,860
trying to connect with like-minded folks

504
00:20:42,540 --> 00:20:46,080
on the internet and you're trying to get

505
00:20:43,860 --> 00:20:48,570
that information out there chances are

506
00:20:46,080 --> 00:20:50,669
you're going to end up on set of

507
00:20:48,570 --> 00:20:52,470
pressive governments radar and they

508
00:20:50,670 --> 00:20:53,880
might try to monitor your internet

509
00:20:52,470 --> 00:20:56,400
connection to see what you're up to and

510
00:20:53,880 --> 00:20:58,290
if you accessing the wrong things or

511
00:20:56,400 --> 00:21:01,050
doing the wrong things yeah you might

512
00:20:58,290 --> 00:21:03,180
disappear and never be seen again so in

513
00:21:01,050 --> 00:21:04,980
the early days when doah rolled out it

514
00:21:03,180 --> 00:21:06,990
was sort of billed as oh this is the

515
00:21:04,980 --> 00:21:08,820
perfect solution because you don't

516
00:21:06,990 --> 00:21:10,830
really have to install additional

517
00:21:08,820 --> 00:21:12,929
software just have a browser that's

518
00:21:10,830 --> 00:21:15,659
capable of it gives you no VPNs might be

519
00:21:12,930 --> 00:21:17,400
banned in certain countries also you can

520
00:21:15,660 --> 00:21:20,820
just hide your name resolution in

521
00:21:17,400 --> 00:21:23,730
regular HTTP traffic because it's from

522
00:21:20,820 --> 00:21:25,980
from a observational path it's

523
00:21:23,730 --> 00:21:29,000
essentially indistinguishable especially

524
00:21:25,980 --> 00:21:32,370
if a village endpoint is commingled with

525
00:21:29,000 --> 00:21:33,810
regular website hosting so in Google's

526
00:21:32,370 --> 00:21:36,840
case they have made the kid the pledge

527
00:21:33,810 --> 00:21:39,740
that they will not co-mingle endpoints

528
00:21:36,840 --> 00:21:42,120
that offer the Google search engine with

529
00:21:39,740 --> 00:21:43,920
endpoints that also offer do edge

530
00:21:42,120 --> 00:21:46,439
services so if you wanted to block a

531
00:21:43,920 --> 00:21:48,660
date that 8:00 from your network you can

532
00:21:46,440 --> 00:21:50,520
without impacting any of the other

533
00:21:48,660 --> 00:21:52,200
Google services and the conference

534
00:21:50,520 --> 00:21:55,290
that's a lot more difficult because

535
00:21:52,200 --> 00:21:58,020
they're doah resolvers are in IP space

536
00:21:55,290 --> 00:21:59,940
that is also used for other clusters so

537
00:21:58,020 --> 00:22:02,639
if you block that then you know losing

538
00:21:59,940 --> 00:22:04,750
access to a few million web sites pretty

539
00:22:02,640 --> 00:22:07,120
much right away so

540
00:22:04,750 --> 00:22:09,220
I telling dissidents oh just used UAH

541
00:22:07,120 --> 00:22:11,199
and all of your traffic you know getting

542
00:22:09,220 --> 00:22:13,120
resolutions will no longer be observable

543
00:22:11,200 --> 00:22:15,880
by the government I think that's a

544
00:22:13,120 --> 00:22:21,310
dangerous recommendation to make because

545
00:22:15,880 --> 00:22:23,200
of the sni issue and off HTTP resources

546
00:22:21,310 --> 00:22:26,710
that if you encrypt your name resolution

547
00:22:23,200 --> 00:22:28,810
you then access a site that it doesn't

548
00:22:26,710 --> 00:22:30,850
offer encryption as part of the access

549
00:22:28,810 --> 00:22:32,530
then whoever's trying to observe your

550
00:22:30,850 --> 00:22:35,620
traffic you can still figure out which

551
00:22:32,530 --> 00:22:37,840
websites you're visiting and so by

552
00:22:35,620 --> 00:22:40,659
simply using DNA doah is a kind of a

553
00:22:37,840 --> 00:22:43,659
false sense of security I many years

554
00:22:40,660 --> 00:22:45,580
worked at a stock of a major university

555
00:22:43,660 --> 00:22:48,880
and for the last five years of that I

556
00:22:45,580 --> 00:22:51,370
ran that sock so the responsibility of

557
00:22:48,880 --> 00:22:53,830
protecting you know half a million

558
00:22:51,370 --> 00:22:55,570
machines on that network and you know

559
00:22:53,830 --> 00:22:57,490
use a base of somewhere over a hundred

560
00:22:55,570 --> 00:23:00,280
thousand active users any given day

561
00:22:57,490 --> 00:23:03,580
being able to control the network path

562
00:23:00,280 --> 00:23:06,370
and what my users were able to access or

563
00:23:03,580 --> 00:23:08,020
not was a critical tool in my tool chest

564
00:23:06,370 --> 00:23:10,409
in order to make sure to keep the

565
00:23:08,020 --> 00:23:13,570
university safe we made extensive use of

566
00:23:10,410 --> 00:23:16,990
our PC a response policy zone in DNS

567
00:23:13,570 --> 00:23:20,590
where essentially you can inject a list

568
00:23:16,990 --> 00:23:23,410
of names that you don't want your local

569
00:23:20,590 --> 00:23:25,240
recursive to results if I find that

570
00:23:23,410 --> 00:23:27,040
there is you know I fit new phishing

571
00:23:25,240 --> 00:23:29,560
site or something I injected in my local

572
00:23:27,040 --> 00:23:32,290
DNS recurse the recursive DNS server and

573
00:23:29,560 --> 00:23:34,750
if a user on my network clicks on the

574
00:23:32,290 --> 00:23:36,340
link their system will go out try to

575
00:23:34,750 --> 00:23:39,430
make the name resolution by contacting

576
00:23:36,340 --> 00:23:40,870
my local recur sir and if I flagged that

577
00:23:39,430 --> 00:23:42,760
domain then they're either going to get

578
00:23:40,870 --> 00:23:44,679
redirected to you know a server that

579
00:23:42,760 --> 00:23:45,940
says hey you click on something that we

580
00:23:44,680 --> 00:23:47,290
don't want you to call us if you have

581
00:23:45,940 --> 00:23:50,220
questions or it just like doesn't

582
00:23:47,290 --> 00:23:53,139
resolve period and it times out that is

583
00:23:50,220 --> 00:23:54,370
a critical component of managing your

584
00:23:53,140 --> 00:23:57,070
local network if you're responsible for

585
00:23:54,370 --> 00:24:00,429
it in do H by essentially tunneling

586
00:23:57,070 --> 00:24:03,879
through over port 443 I lose that

587
00:24:00,430 --> 00:24:06,280
ability to who limit what my local users

588
00:24:03,880 --> 00:24:08,230
can do on the in terms of name

589
00:24:06,280 --> 00:24:09,940
resolutions I can no longer block what I

590
00:24:08,230 --> 00:24:12,370
deem as the operator of the network

591
00:24:09,940 --> 00:24:14,740
resolution of a malicious name through

592
00:24:12,370 --> 00:24:16,600
DNS so that's problematic if you were

593
00:24:14,740 --> 00:24:19,360
living if you are working

594
00:24:16,600 --> 00:24:21,550
a highly regulated in industry you know

595
00:24:19,360 --> 00:24:25,570
banking healthcare etcetera a single

596
00:24:21,550 --> 00:24:27,399
click on a malicious link you know could

597
00:24:25,570 --> 00:24:29,800
level you know a million dollar HIPAA

598
00:24:27,400 --> 00:24:32,950
fine and you know a consent decree for

599
00:24:29,800 --> 00:24:34,899
three years of monitoring so as the

600
00:24:32,950 --> 00:24:37,390
local network operator you really have

601
00:24:34,900 --> 00:24:39,910
to have the ability to limit what your

602
00:24:37,390 --> 00:24:42,190
users can access and so the ability to

603
00:24:39,910 --> 00:24:43,540
maintain a positive control over the DNS

604
00:24:42,190 --> 00:24:45,610
and an enterprise is critical

605
00:24:43,540 --> 00:24:47,680
as defendants off the network to be able

606
00:24:45,610 --> 00:24:50,229
to do and do edge kind of blows a giant

607
00:24:47,680 --> 00:24:53,290
hole into that and because certain

608
00:24:50,230 --> 00:24:56,020
operators of DRH services do not make it

609
00:24:53,290 --> 00:24:58,270
clear which IPS they use for that

610
00:24:56,020 --> 00:25:00,400
resolution it's really impossible to

611
00:24:58,270 --> 00:25:02,500
block yeah you could invest if you have

612
00:25:00,400 --> 00:25:04,330
the resources you could proxy all of

613
00:25:02,500 --> 00:25:06,880
your traffic in just man a middle every

614
00:25:04,330 --> 00:25:09,399
TLS connection and inspect it and see if

615
00:25:06,880 --> 00:25:11,560
there's you know HT be is if there's DNS

616
00:25:09,400 --> 00:25:14,200
requests in it and you know then just

617
00:25:11,560 --> 00:25:16,510
block that but that's very expensive to

618
00:25:14,200 --> 00:25:18,880
do at scale it slows things down and

619
00:25:16,510 --> 00:25:21,400
you're also running into the issue that

620
00:25:18,880 --> 00:25:23,440
you're then having to decrypt every HTTP

621
00:25:21,400 --> 00:25:25,300
connection which you know in an

622
00:25:23,440 --> 00:25:27,130
healthcare environment may contain pH I

623
00:25:25,300 --> 00:25:28,870
then you have to properly secure your

624
00:25:27,130 --> 00:25:31,030
proxy make sure who has access to that

625
00:25:28,870 --> 00:25:34,179
it cetera it just adds tons of layers of

626
00:25:31,030 --> 00:25:36,280
complexity and expense that if you're

627
00:25:34,180 --> 00:25:38,620
able to manage your own local DNS and

628
00:25:36,280 --> 00:25:40,660
force all your users to use it you you

629
00:25:38,620 --> 00:25:42,370
don't have to invest into that overhead

630
00:25:40,660 --> 00:25:44,160
and headache of you know trying to

631
00:25:42,370 --> 00:25:46,870
manage middle every TLS connection

632
00:25:44,160 --> 00:25:50,170
compliance and certain regulatory

633
00:25:46,870 --> 00:25:54,219
obligations make something like do eh

634
00:25:50,170 --> 00:25:56,140
really a touchy subject because if you

635
00:25:54,220 --> 00:25:58,990
get audited having to answer to your

636
00:25:56,140 --> 00:26:01,390
regulator why you were not able to block

637
00:25:58,990 --> 00:26:03,340
access to this malicious website because

638
00:26:01,390 --> 00:26:05,350
there was toh on your network and you

639
00:26:03,340 --> 00:26:07,629
did not be able to do anything about it

640
00:26:05,350 --> 00:26:09,639
is going to be a difficult conversation

641
00:26:07,630 --> 00:26:12,400
to have so DNS firewalls which are

642
00:26:09,640 --> 00:26:14,380
pretty common which is kind of a step up

643
00:26:12,400 --> 00:26:16,570
in terms of manageability from just

644
00:26:14,380 --> 00:26:18,370
maintaining an RPC list on on your local

645
00:26:16,570 --> 00:26:20,110
recur sir our solution for that but

646
00:26:18,370 --> 00:26:22,479
again fewh completely bypasses that

647
00:26:20,110 --> 00:26:24,340
because it doesn't use the local recur

648
00:26:22,480 --> 00:26:26,770
sir where that information could be

649
00:26:24,340 --> 00:26:28,389
affected and in terms of firewall dating

650
00:26:26,770 --> 00:26:29,350
again unless I'm a normal the TLS

651
00:26:28,390 --> 00:26:32,710
connection its

652
00:26:29,350 --> 00:26:34,959
not really doing anything lastly there

653
00:26:32,710 --> 00:26:39,340
is a the privacy aspect of course which

654
00:26:34,960 --> 00:26:41,860
security privacy are joined at the hip

655
00:26:39,340 --> 00:26:46,059
they are adjacent for sure but they have

656
00:26:41,860 --> 00:26:48,340
different purposes and sometimes also at

657
00:26:46,059 --> 00:26:50,289
odds with it you know if something is

658
00:26:48,340 --> 00:26:51,490
super privacy focused they may not be as

659
00:26:50,289 --> 00:26:53,980
secure and vice versa

660
00:26:51,490 --> 00:26:56,260
ideally there is a happy medium and you

661
00:26:53,980 --> 00:26:58,419
can implement solutions that both

662
00:26:56,260 --> 00:27:00,340
address sufficient enough privacy but

663
00:26:58,419 --> 00:27:04,090
also I hadn't handled the security

664
00:27:00,340 --> 00:27:07,270
aspect so in terms of encrypted and

665
00:27:04,090 --> 00:27:11,289
named resolutions and unlinked UDP

666
00:27:07,270 --> 00:27:14,260
versus a TCP streams in you're able to

667
00:27:11,289 --> 00:27:19,240
be in the single path and intercept a

668
00:27:14,260 --> 00:27:21,640
user's connection you can reassemble TCP

669
00:27:19,240 --> 00:27:25,210
streams and gain a lot of information

670
00:27:21,640 --> 00:27:28,600
about what a user is doing do H and do T

671
00:27:25,210 --> 00:27:30,909
do both use TCP because of the session

672
00:27:28,600 --> 00:27:33,490
negotiation and being able to start a

673
00:27:30,909 --> 00:27:37,169
TLS connection where traditional DNS in

674
00:27:33,490 --> 00:27:40,570
the vast majority of cases uses UDP and

675
00:27:37,169 --> 00:27:43,539
the in terms of being able to figure out

676
00:27:40,570 --> 00:27:45,520
what somebody is doing TCP because of

677
00:27:43,539 --> 00:27:47,470
the ability to reassemble sessions is is

678
00:27:45,520 --> 00:27:50,408
a little bit more risky there I don't

679
00:27:47,470 --> 00:27:52,419
know that that is by itself enough to

680
00:27:50,409 --> 00:27:54,220
you know advocate against either one of

681
00:27:52,419 --> 00:27:56,860
them but it is something worth

682
00:27:54,220 --> 00:27:59,110
considering because of the nature of the

683
00:27:56,860 --> 00:28:00,520
two protocols being so different ones

684
00:27:59,110 --> 00:28:02,979
connection oriented and the other one

685
00:28:00,520 --> 00:28:05,200
it's just like I was letting go the

686
00:28:02,980 --> 00:28:07,390
other argument in terms of privacy and

687
00:28:05,200 --> 00:28:09,490
this mostly applies to the United States

688
00:28:07,390 --> 00:28:11,110
because I'm familiar with how our laws

689
00:28:09,490 --> 00:28:13,270
work here other countries have slightly

690
00:28:11,110 --> 00:28:16,418
different rules there but if I'm

691
00:28:13,270 --> 00:28:18,309
contracting with my local ISP I'm paying

692
00:28:16,419 --> 00:28:22,270
them money there are our Terms of

693
00:28:18,309 --> 00:28:24,820
Service there are user agreements and I

694
00:28:22,270 --> 00:28:26,860
can pretty much know what to expect

695
00:28:24,820 --> 00:28:29,439
based of the information that an ISP is

696
00:28:26,860 --> 00:28:31,209
publishing if they are telling me in

697
00:28:29,440 --> 00:28:33,190
writing as part of this contract that

698
00:28:31,210 --> 00:28:36,429
they are not data mining my DNS queries

699
00:28:33,190 --> 00:28:39,040
then that is an enforceable thing

700
00:28:36,429 --> 00:28:40,840
because it's a contractual agreement if

701
00:28:39,040 --> 00:28:42,330
they change it or later on get caught

702
00:28:40,840 --> 00:28:43,919
doing otherwise I have

703
00:28:42,330 --> 00:28:45,449
technically legal recourse I'm gonna

704
00:28:43,920 --> 00:28:48,990
assume is Pete that's a different story

705
00:28:45,450 --> 00:28:51,780
but in terms of contract language if I'm

706
00:28:48,990 --> 00:28:53,760
paying my local ISP I should know

707
00:28:51,780 --> 00:28:55,410
exactly what they're doing and have some

708
00:28:53,760 --> 00:28:57,540
kind of recourse if they're not doing

709
00:28:55,410 --> 00:28:59,550
that and so in terms of like can you

710
00:28:57,540 --> 00:29:01,050
trust your local ISP well it depends on

711
00:28:59,550 --> 00:29:04,020
the contract at your site with them a

712
00:29:01,050 --> 00:29:05,250
free cloud service you know it's a

713
00:29:04,020 --> 00:29:07,950
little bit right but the old adage goes

714
00:29:05,250 --> 00:29:11,190
if you're not paying for it then you're

715
00:29:07,950 --> 00:29:14,220
the product if you're using a cloud

716
00:29:11,190 --> 00:29:15,540
service do H end point you're not

717
00:29:14,220 --> 00:29:17,190
signing a contract with them you don't

718
00:29:15,540 --> 00:29:18,720
have to Ackley to agree to a User

719
00:29:17,190 --> 00:29:20,970
Agreement every time you use it you just

720
00:29:18,720 --> 00:29:21,930
ask the question of it it yields you an

721
00:29:20,970 --> 00:29:25,230
answer and off you go

722
00:29:21,930 --> 00:29:27,960
so it's not super clear what that

723
00:29:25,230 --> 00:29:29,400
operator of such set D which end point

724
00:29:27,960 --> 00:29:31,740
in the cloud is going to do with your

725
00:29:29,400 --> 00:29:33,870
name resolution you could say well all I

726
00:29:31,740 --> 00:29:36,090
know is my IP address well call so they

727
00:29:33,870 --> 00:29:37,919
also know your user agent string and we

728
00:29:36,090 --> 00:29:39,629
all know how much of that information

729
00:29:37,920 --> 00:29:42,300
can actually be used to identify

730
00:29:39,630 --> 00:29:44,370
individual users and if you are already

731
00:29:42,300 --> 00:29:46,050
using some of their other services

732
00:29:44,370 --> 00:29:47,550
you've probably given them enough

733
00:29:46,050 --> 00:29:50,760
information that they can very easily

734
00:29:47,550 --> 00:29:53,460
correlate by the D wait requests that

735
00:29:50,760 --> 00:29:55,740
you're making what user profile to tie

736
00:29:53,460 --> 00:29:57,510
these to a recommendation often gets

737
00:29:55,740 --> 00:29:58,740
made well just run your own local recur

738
00:29:57,510 --> 00:29:59,310
sir and don't worry about any of those

739
00:29:58,740 --> 00:30:01,590
things

740
00:29:59,310 --> 00:30:03,300
well actually do run my own local recur

741
00:30:01,590 --> 00:30:04,919
service because we're DNS company so

742
00:30:03,300 --> 00:30:07,649
it's not something I would just

743
00:30:04,920 --> 00:30:10,560
recommend for anybody you know

744
00:30:07,650 --> 00:30:12,780
raspberry pie and that's my recursive

745
00:30:10,560 --> 00:30:14,520
for my network here but there's an

746
00:30:12,780 --> 00:30:17,040
argument to be made that if you run your

747
00:30:14,520 --> 00:30:18,900
own recur sir and you only have you know

748
00:30:17,040 --> 00:30:22,110
three four people living in your

749
00:30:18,900 --> 00:30:23,820
household your query volume is low

750
00:30:22,110 --> 00:30:26,729
enough that it can actually be more

751
00:30:23,820 --> 00:30:29,040
easily identified and picked out rather

752
00:30:26,730 --> 00:30:30,450
than if you're using a recursive as you

753
00:30:29,040 --> 00:30:32,730
know a thousand or ten thousand users

754
00:30:30,450 --> 00:30:35,760
where your individual requests can blend

755
00:30:32,730 --> 00:30:38,310
in the noise so the argument there is

756
00:30:35,760 --> 00:30:39,900
let's use a recur sir out there on the

757
00:30:38,310 --> 00:30:43,530
internet that has millions and millions

758
00:30:39,900 --> 00:30:45,300
of queries in a minute and you're much

759
00:30:43,530 --> 00:30:48,030
more easily able to hide in the noise

760
00:30:45,300 --> 00:30:50,639
there well that's all nice and well but

761
00:30:48,030 --> 00:30:51,899
that also creates an aggregation of risk

762
00:30:50,640 --> 00:30:54,360
which we'll talk about here in a second

763
00:30:51,900 --> 00:30:55,510
in terms of privacy on your threat

764
00:30:54,360 --> 00:30:57,790
models depending on who

765
00:30:55,510 --> 00:30:59,800
you might be concerned is looking for

766
00:30:57,790 --> 00:31:02,409
your data are trying to surveil you your

767
00:30:59,800 --> 00:31:03,730
ISPs recur sir with if there is peace

768
00:31:02,410 --> 00:31:05,200
sufficiently big enough probably

769
00:31:03,730 --> 00:31:07,510
provides a decent amount of cover

770
00:31:05,200 --> 00:31:08,860
running your own local recursos probably

771
00:31:07,510 --> 00:31:10,180
a little bit more risky just because the

772
00:31:08,860 --> 00:31:13,149
volume is low enough where they can

773
00:31:10,180 --> 00:31:16,030
easily monitor the traffic that goes out

774
00:31:13,150 --> 00:31:18,370
to the roots and TLD servers so that

775
00:31:16,030 --> 00:31:20,379
might make it more easy to identify your

776
00:31:18,370 --> 00:31:22,750
queries even if you're trying to not use

777
00:31:20,380 --> 00:31:24,720
a third party streaker sir so there's a

778
00:31:22,750 --> 00:31:27,790
trade-off there as well in conclusion

779
00:31:24,720 --> 00:31:30,460
this is personal opinion I've been at

780
00:31:27,790 --> 00:31:32,020
this for about twenty years and I get

781
00:31:30,460 --> 00:31:34,570
asked a lot of questions by your friends

782
00:31:32,020 --> 00:31:36,879
families etc and then you know I teach

783
00:31:34,570 --> 00:31:39,129
so students ask a lot of good questions

784
00:31:36,880 --> 00:31:40,960
and that so I do want to make clear this

785
00:31:39,130 --> 00:31:41,920
is my personal opinion but I do feel

786
00:31:40,960 --> 00:31:43,590
strongly about it

787
00:31:41,920 --> 00:31:45,790
depending on your threat model

788
00:31:43,590 --> 00:31:48,240
encrypting your name resolution may

789
00:31:45,790 --> 00:31:50,590
actually not gain you gain you much you

790
00:31:48,240 --> 00:31:52,840
might think incur all the things is a

791
00:31:50,590 --> 00:31:57,189
good thing and I don't disagree with

792
00:31:52,840 --> 00:31:59,800
that in general but to utilize

793
00:31:57,190 --> 00:32:01,990
encryption of your name resolution if

794
00:31:59,800 --> 00:32:04,360
you don't fully understand what it gains

795
00:32:01,990 --> 00:32:07,090
your or what the the drawbacks there are

796
00:32:04,360 --> 00:32:09,370
it might give you a false sense of

797
00:32:07,090 --> 00:32:11,980
security so just because something can

798
00:32:09,370 --> 00:32:13,510
be encrypted it's not always adding you

799
00:32:11,980 --> 00:32:13,870
know great value or great protection

800
00:32:13,510 --> 00:32:16,300
there

801
00:32:13,870 --> 00:32:19,330
I think DNS over TLS is useful

802
00:32:16,300 --> 00:32:22,000
especially if you are you know in a

803
00:32:19,330 --> 00:32:23,980
shared network environment where you

804
00:32:22,000 --> 00:32:24,760
know let's say open Wi-Fi etcetera that

805
00:32:23,980 --> 00:32:28,210
kind of stuff

806
00:32:24,760 --> 00:32:29,680
being able to set what recur sir you

807
00:32:28,210 --> 00:32:31,300
connect to and encrypting that

808
00:32:29,680 --> 00:32:33,490
connection between in the you and the

809
00:32:31,300 --> 00:32:35,050
recur sir can be helpful do not have

810
00:32:33,490 --> 00:32:37,360
your signal path intercept that on a

811
00:32:35,050 --> 00:32:39,850
shared network so I think there is is

812
00:32:37,360 --> 00:32:42,159
married to that it's not catching on as

813
00:32:39,850 --> 00:32:45,219
much as I think some people would have

814
00:32:42,160 --> 00:32:47,830
hoped but I think as a technology DNS of

815
00:32:45,220 --> 00:32:49,660
a TLS is absolutely useful as I

816
00:32:47,830 --> 00:32:52,810
mentioned before I personally am cloud

817
00:32:49,660 --> 00:32:55,030
averse and so I have personally a really

818
00:32:52,810 --> 00:32:57,700
hard time putting essentially all of my

819
00:32:55,030 --> 00:33:00,730
eggs in one basket so okay I use Google

820
00:32:57,700 --> 00:33:02,290
search engine it's it's great there's

821
00:33:00,730 --> 00:33:04,480
you know it's difficult to argue with

822
00:33:02,290 --> 00:33:06,129
that but because of that they already

823
00:33:04,480 --> 00:33:08,509
know a whole bunch about me and so one

824
00:33:06,130 --> 00:33:10,279
of the sort of last missing piece

825
00:33:08,509 --> 00:33:13,279
in terms of my you know user data

826
00:33:10,279 --> 00:33:15,859
profiles like okay what websites does

827
00:33:13,279 --> 00:33:19,309
this person visit that are not you know

828
00:33:15,859 --> 00:33:21,228
tracked by Google Analytics its etc so

829
00:33:19,309 --> 00:33:23,449
by using and I'm just using another

830
00:33:21,229 --> 00:33:28,249
example I don't mean to pick on them so

831
00:33:23,449 --> 00:33:29,779
if I now use tuh on the 8.88 server I am

832
00:33:28,249 --> 00:33:33,529
handing them one more piece of the

833
00:33:29,779 --> 00:33:35,149
puzzle and now they have all of my name

834
00:33:33,529 --> 00:33:36,469
resolution information in addition to

835
00:33:35,149 --> 00:33:38,079
all my other browsing habits that I

836
00:33:36,469 --> 00:33:41,269
already have so it gives them more

837
00:33:38,079 --> 00:33:43,729
intelligence on my likes dislikes etc

838
00:33:41,269 --> 00:33:46,579
which all translates into serving more

839
00:33:43,729 --> 00:33:49,129
ads and arguably better ads but I mean I

840
00:33:46,579 --> 00:33:51,109
want that so by by putting all of your

841
00:33:49,129 --> 00:33:54,589
eggs into one basket you know there's

842
00:33:51,109 --> 00:33:56,389
probably three major operators of DRH

843
00:33:54,589 --> 00:33:58,158
servers out there right now there's a

844
00:33:56,389 --> 00:33:59,869
bunch of smaller other ones but if you

845
00:33:58,159 --> 00:34:01,669
don't know about them you can't you know

846
00:33:59,869 --> 00:34:03,678
use them or you know it's cumbersome to

847
00:34:01,669 --> 00:34:06,649
change your browser so you know chrome

848
00:34:03,679 --> 00:34:09,019
is if you turn it on uses the Google

849
00:34:06,649 --> 00:34:11,839
service Firefox uses the cloud lessers

850
00:34:09,018 --> 00:34:13,939
you know Clark Flair let's let's be

851
00:34:11,839 --> 00:34:15,619
clear they are also in the information

852
00:34:13,940 --> 00:34:19,429
business they're hosting a lot of

853
00:34:15,619 --> 00:34:21,649
websites or or providing them DDoS

854
00:34:19,429 --> 00:34:22,970
protection depending on who you ask but

855
00:34:21,649 --> 00:34:25,038
they're also collecting a ton of

856
00:34:22,969 --> 00:34:26,598
information on anybody who is visit that

857
00:34:25,039 --> 00:34:28,069
website because they're terminating the

858
00:34:26,599 --> 00:34:30,470
initial connection and so you're

859
00:34:28,069 --> 00:34:32,268
collecting a lot of info so by handing

860
00:34:30,469 --> 00:34:34,219
them yet another piece of the

861
00:34:32,268 --> 00:34:35,899
information about all of the sites that

862
00:34:34,219 --> 00:34:38,388
aren't cloud fair hosted that you are

863
00:34:35,899 --> 00:34:40,399
still accessing is in the aggregate a

864
00:34:38,389 --> 00:34:42,980
pretty huge thing and there is money to

865
00:34:40,399 --> 00:34:44,989
be made in terms of I personally would

866
00:34:42,980 --> 00:34:47,599
rather take my chances with my local ISP

867
00:34:44,989 --> 00:34:50,508
which limits the visibility they can see

868
00:34:47,599 --> 00:34:53,000
my stuff but it's not in the aggregation

869
00:34:50,509 --> 00:34:55,909
my ISP doesn't have you know 50 million

870
00:34:53,000 --> 00:34:57,500
customers so but if we all switch over

871
00:34:55,909 --> 00:34:59,839
to do H and pick one of the two or three

872
00:34:57,500 --> 00:35:01,579
providers out there all of a sudden the

873
00:34:59,839 --> 00:35:04,460
world's name resolutions are happening

874
00:35:01,579 --> 00:35:08,420
in three places if I'm a government and

875
00:35:04,460 --> 00:35:10,700
I want to get a subpoena by having to go

876
00:35:08,420 --> 00:35:12,049
to a bunch of different ISPs and trying

877
00:35:10,700 --> 00:35:14,240
to get that information is a lot harder

878
00:35:12,049 --> 00:35:16,038
if I just have a one-stop shop because

879
00:35:14,240 --> 00:35:18,640
there is one or two major D rights

880
00:35:16,039 --> 00:35:21,870
providers and I can just pinna them

881
00:35:18,640 --> 00:35:24,370
I'm making it in my opinion too easy on

882
00:35:21,870 --> 00:35:26,319
people that are trying to you know

883
00:35:24,370 --> 00:35:29,170
figure out what it is that I'm doing I

884
00:35:26,320 --> 00:35:31,390
also have a real problem on a personal

885
00:35:29,170 --> 00:35:34,420
note with forced defaults I'm not at all

886
00:35:31,390 --> 00:35:38,410
happy with what Mozilla did by forcing

887
00:35:34,420 --> 00:35:40,540
everybody by forcing everybody on to do

888
00:35:38,410 --> 00:35:42,310
H as a default yes you can opt out but

889
00:35:40,540 --> 00:35:45,279
why wasn't that given the choice to opt

890
00:35:42,310 --> 00:35:48,130
in so force defaults are bad especially

891
00:35:45,280 --> 00:35:49,810
if you're changing a default that the

892
00:35:48,130 --> 00:35:51,700
installation off the browser was set and

893
00:35:49,810 --> 00:35:53,740
then all of a sudden you as a third

894
00:35:51,700 --> 00:35:55,390
party or second party in this case I

895
00:35:53,740 --> 00:35:57,310
guess come in and changed my defaults

896
00:35:55,390 --> 00:36:01,480
I'm not particularly happy with that so

897
00:35:57,310 --> 00:36:02,980
I used to be a big fan of Mozilla but

898
00:36:01,480 --> 00:36:05,350
that kind of soured me on them a little

899
00:36:02,980 --> 00:36:08,560
bit by making that choice before user

900
00:36:05,350 --> 00:36:10,990
not you know involving them and then the

901
00:36:08,560 --> 00:36:14,410
whole thing that I'm really big on is

902
00:36:10,990 --> 00:36:15,970
there are data brokers out there that

903
00:36:14,410 --> 00:36:18,220
are collecting digital profiles on all

904
00:36:15,970 --> 00:36:21,040
of us that's no news but by handing them

905
00:36:18,220 --> 00:36:22,899
yet another piece of the puzzle is in my

906
00:36:21,040 --> 00:36:25,029
mind something that should be done

907
00:36:22,900 --> 00:36:26,770
knowingly and cautiously and I'm just

908
00:36:25,030 --> 00:36:29,380
not willing to do it personally I see a

909
00:36:26,770 --> 00:36:31,540
question or a statement in this Court

910
00:36:29,380 --> 00:36:34,840
Google is absolutely no logging of any

911
00:36:31,540 --> 00:36:36,850
kind on a date a date okay that's what

912
00:36:34,840 --> 00:36:39,550
they're saying we have to take them by

913
00:36:36,850 --> 00:36:41,290
their word now if you read the register

914
00:36:39,550 --> 00:36:43,600
the other day Google also from Long's

915
00:36:41,290 --> 00:36:46,090
time claimed that they're not using the

916
00:36:43,600 --> 00:36:47,980
identifiers in the Chrome browser to do

917
00:36:46,090 --> 00:36:49,450
any sort of correlation and then it

918
00:36:47,980 --> 00:36:51,910
turns out they are doing it and so they

919
00:36:49,450 --> 00:36:53,770
had to backtrack on that so forgive me

920
00:36:51,910 --> 00:36:55,000
if I don't 100% believe Google when

921
00:36:53,770 --> 00:36:56,350
they're saying oh we're never going to

922
00:36:55,000 --> 00:36:58,150
do anything with that information even

923
00:36:56,350 --> 00:37:00,130
if they're not doing it today all they

924
00:36:58,150 --> 00:37:01,840
have to do is change their policy which

925
00:37:00,130 --> 00:37:03,250
I don't have to notify anybody about and

926
00:37:01,840 --> 00:37:04,660
all of a sudden they can do whatever

927
00:37:03,250 --> 00:37:07,030
they please with that information which

928
00:37:04,660 --> 00:37:09,339
it's legal it's their right to do but

929
00:37:07,030 --> 00:37:11,200
forgive me if I don't trust a giant

930
00:37:09,340 --> 00:37:13,360
cloud writer when they say something

931
00:37:11,200 --> 00:37:14,890
which have been several instances where

932
00:37:13,360 --> 00:37:17,940
then later were like oh wait and we

933
00:37:14,890 --> 00:37:20,680
actually didn't meet that with that

934
00:37:17,940 --> 00:37:23,800
thank you and I'm certainly happy to

935
00:37:20,680 --> 00:37:24,790
take any kind of questions you need to

936
00:37:23,800 --> 00:37:27,010
know what's behind the curtain

937
00:37:24,790 --> 00:37:28,420
it's my ugly office wall that's super

938
00:37:27,010 --> 00:37:30,490
busy in that since this is being

939
00:37:28,420 --> 00:37:31,010
recorded I figured out sue distraction

940
00:37:30,490 --> 00:37:33,830
so I

941
00:37:31,010 --> 00:37:35,510
I'm a wrinkled cheek alright so sorry I

942
00:37:33,830 --> 00:37:38,930
stepped out to the other room so I guess

943
00:37:35,510 --> 00:37:41,240
we're taking questions now and are you

944
00:37:38,930 --> 00:37:43,160
watching the oh here we go

945
00:37:41,240 --> 00:37:45,379
did you answer this one using internal

946
00:37:43,160 --> 00:37:48,259
resolvers how do you block users from

947
00:37:45,380 --> 00:37:50,510
using free DNS providers and no I did

948
00:37:48,260 --> 00:37:53,090
not answer that one so if you're a

949
00:37:50,510 --> 00:37:56,300
network operator you can certainly block

950
00:37:53,090 --> 00:37:58,820
out by on TCP UDP 53 so traditional

951
00:37:56,300 --> 00:38:01,430
resolution you can force people to use

952
00:37:58,820 --> 00:38:04,160
your local ones blocking do age is

953
00:38:01,430 --> 00:38:07,399
really difficult because it looks just

954
00:38:04,160 --> 00:38:09,200
like any other HTTP request now in

955
00:38:07,400 --> 00:38:12,230
Google's case I will definitely give

956
00:38:09,200 --> 00:38:14,180
them credit they publish their DNS

957
00:38:12,230 --> 00:38:16,970
resolvers Andy that is definitely the

958
00:38:14,180 --> 00:38:20,149
you know catchiest one and they have

959
00:38:16,970 --> 00:38:22,490
made a commitment to not co-mingle name

960
00:38:20,150 --> 00:38:24,830
resolution services like do age with any

961
00:38:22,490 --> 00:38:26,750
other of their web properties so you can

962
00:38:24,830 --> 00:38:28,580
block a tie they that ate at your border

963
00:38:26,750 --> 00:38:31,250
and effectively prevent jewish

964
00:38:28,580 --> 00:38:33,049
connections to Google and not impact

965
00:38:31,250 --> 00:38:34,970
like Google search for example

966
00:38:33,050 --> 00:38:37,010
CloudFlare on the other hand has not

967
00:38:34,970 --> 00:38:39,140
been willing to do that and so if you

968
00:38:37,010 --> 00:38:41,510
block cloud for IP ranges you will

969
00:38:39,140 --> 00:38:43,279
probably block access to you know a few

970
00:38:41,510 --> 00:38:46,370
million websites for your users and that

971
00:38:43,280 --> 00:38:48,920
typically isn't tenable okay and then I

972
00:38:46,370 --> 00:38:52,250
had someone just texted me a question

973
00:38:48,920 --> 00:38:53,750
directly system on will not detect this

974
00:38:52,250 --> 00:38:55,130
either like even if you have system on

975
00:38:53,750 --> 00:38:56,960
and you're actually watching the browser

976
00:38:55,130 --> 00:39:00,280
correctly it's not going to pick it up

977
00:38:56,960 --> 00:39:05,420
either correct that's correct yep okay

978
00:39:00,280 --> 00:39:07,250
very cool and then that uh still learnin

979
00:39:05,420 --> 00:39:09,830
asked if you're trying to monitor

980
00:39:07,250 --> 00:39:11,690
someone using tonight DNS maliciously as

981
00:39:09,830 --> 00:39:14,930
a c2 Channel what do you recommend and

982
00:39:11,690 --> 00:39:17,270
then Jeff recommended Rita for standard

983
00:39:14,930 --> 00:39:18,589
DNS requests and the only thing that

984
00:39:17,270 --> 00:39:21,530
Rita would be able to pick up for this

985
00:39:18,590 --> 00:39:23,750
would be the actual beaconing basically

986
00:39:21,530 --> 00:39:25,130
the suffered HTTP well that's a good

987
00:39:23,750 --> 00:39:28,490
question with this is it just

988
00:39:25,130 --> 00:39:32,090
establishing one HTTP session to the DNS

989
00:39:28,490 --> 00:39:34,669
resolvers over HTTP or is every single

990
00:39:32,090 --> 00:39:37,460
request going to be a separate TCP

991
00:39:34,670 --> 00:39:39,860
section session sorry every single

992
00:39:37,460 --> 00:39:41,810
request with the or H is a separate TCP

993
00:39:39,860 --> 00:39:43,610
session okay it does not keep a

994
00:39:41,810 --> 00:39:45,890
connection open because it's a one

995
00:39:43,610 --> 00:39:48,890
time resolution and for you know for

996
00:39:45,890 --> 00:39:51,350
state purposes once the answer comes

997
00:39:48,890 --> 00:39:53,270
back it shuts that session so another

998
00:39:51,350 --> 00:39:55,790
question do you know of any group policy

999
00:39:53,270 --> 00:39:58,610
templates for people to control their

1000
00:39:55,790 --> 00:40:00,230
browsers so they don't have do H not off

1001
00:39:58,610 --> 00:40:04,580
the top of my head but I do know they

1002
00:40:00,230 --> 00:40:07,910
exist because the the way you until now

1003
00:40:04,580 --> 00:40:10,370
can disable do H in the browser is in

1004
00:40:07,910 --> 00:40:12,350
the configuration and so Mozilla to

1005
00:40:10,370 --> 00:40:14,210
their credit has published information

1006
00:40:12,350 --> 00:40:16,940
on how to disable the rich and I think

1007
00:40:14,210 --> 00:40:18,350
they actually making some gpo available

1008
00:40:16,940 --> 00:40:20,210
you can deploy if not personally

1009
00:40:18,350 --> 00:40:22,430
experiment with that I'm not in a

1010
00:40:20,210 --> 00:40:24,470
managed domain so I haven't tried that

1011
00:40:22,430 --> 00:40:25,819
but I do believe if you're in a managed

1012
00:40:24,470 --> 00:40:27,730
workstation environment where you can

1013
00:40:25,820 --> 00:40:30,110
control the endpoint you can push

1014
00:40:27,730 --> 00:40:33,070
configurations to them that actively

1015
00:40:30,110 --> 00:40:36,080
disables browsers from using deal which

1016
00:40:33,070 --> 00:40:38,330
now it looks like the link guy just put

1017
00:40:36,080 --> 00:40:41,960
up group policy options for everything

1018
00:40:38,330 --> 00:40:44,120
in about : config which is your full

1019
00:40:41,960 --> 00:40:45,440
configuration of your browser now this

1020
00:40:44,120 --> 00:40:48,049
kind of gets into a bit of a

1021
00:40:45,440 --> 00:40:49,460
philosophical collision right where you

1022
00:40:48,050 --> 00:40:51,860
know if we're talking about do H is a

1023
00:40:49,460 --> 00:40:53,990
security perspective for individuals we

1024
00:40:51,860 --> 00:40:54,950
love it because it gives us privacy but

1025
00:40:53,990 --> 00:40:57,080
when you're looking at it from the

1026
00:40:54,950 --> 00:40:58,460
enterprise perspective all the sudden

1027
00:40:57,080 --> 00:41:00,950
that becomes a little bit more of a

1028
00:40:58,460 --> 00:41:02,270
nightmare so what is your take on this

1029
00:41:00,950 --> 00:41:04,460
do you look at this one way or the other

1030
00:41:02,270 --> 00:41:06,650
do you have you applauded the improved

1031
00:41:04,460 --> 00:41:09,290
security is it more of a concern for

1032
00:41:06,650 --> 00:41:11,690
enterprises to be able to lock down to

1033
00:41:09,290 --> 00:41:13,970
stop this and have visibility where do

1034
00:41:11,690 --> 00:41:14,990
you stand on this I definitely think for

1035
00:41:13,970 --> 00:41:18,259
the enterprise this is a nightmare

1036
00:41:14,990 --> 00:41:20,500
because there is no straightforward way

1037
00:41:18,260 --> 00:41:23,630
to block it for all of the providers

1038
00:41:20,500 --> 00:41:26,060
BYOD is a thing so even more and more

1039
00:41:23,630 --> 00:41:28,430
enterprise --is will start allowing non

1040
00:41:26,060 --> 00:41:30,290
managed devices to at least use

1041
00:41:28,430 --> 00:41:31,700
connectivity from their network you

1042
00:41:30,290 --> 00:41:33,200
might not be able to access like you

1043
00:41:31,700 --> 00:41:35,689
know that the restricted areas or the

1044
00:41:33,200 --> 00:41:37,069
inner sanctums but nonetheless if your

1045
00:41:35,690 --> 00:41:40,070
processing company data on the device

1046
00:41:37,070 --> 00:41:41,750
you know your email on your phone etc it

1047
00:41:40,070 --> 00:41:43,430
becomes part of the risk footprint off

1048
00:41:41,750 --> 00:41:46,190
the enterprise and if I can't control on

1049
00:41:43,430 --> 00:41:48,350
my network DNS resolutions are happening

1050
00:41:46,190 --> 00:41:50,810
that's a huge blind spot and can

1051
00:41:48,350 --> 00:41:52,430
potentially incur me huge liabilities in

1052
00:41:50,810 --> 00:41:53,810
terms of compliance as somebody

1053
00:41:52,430 --> 00:41:56,240
mentioned in the C to channel

1054
00:41:53,810 --> 00:41:58,279
communication over DNS that's a thing

1055
00:41:56,240 --> 00:42:00,770
we've already seen malware trying to

1056
00:41:58,280 --> 00:42:04,280
take advantage of do H to do their own

1057
00:42:00,770 --> 00:42:06,890
DNS resolutions that to you know no one

1058
00:42:04,280 --> 00:42:10,160
see and sees that ordinarily I'll put in

1059
00:42:06,890 --> 00:42:12,348
an RPC and my cursor and if my local

1060
00:42:10,160 --> 00:42:14,240
trying client tries to reach it not only

1061
00:42:12,349 --> 00:42:15,800
will I block it but I may even alert

1062
00:42:14,240 --> 00:42:16,939
myself and say oh this machine needs to

1063
00:42:15,800 --> 00:42:18,260
be looked at it's probably infected

1064
00:42:16,940 --> 00:42:22,010
because it tried to reach out to this

1065
00:42:18,260 --> 00:42:24,980
you know Neagle domain by using do H

1066
00:42:22,010 --> 00:42:26,359
you're baked into malware there is no

1067
00:42:24,980 --> 00:42:28,099
way for me to see that it just looks

1068
00:42:26,359 --> 00:42:29,869
like another court for for three HTTP

1069
00:42:28,099 --> 00:42:32,150
requests and I'm completely blind to it

1070
00:42:29,869 --> 00:42:35,300
from a personal point of view I don't

1071
00:42:32,150 --> 00:42:36,830
use do H I like I said I run my own

1072
00:42:35,300 --> 00:42:39,140
local requester which you know it's not

1073
00:42:36,830 --> 00:42:41,480
for the faint of heart but in general I

1074
00:42:39,140 --> 00:42:43,940
would say at least if you live in the

1075
00:42:41,480 --> 00:42:46,160
u.s. stick with your recur so that's

1076
00:42:43,940 --> 00:42:47,839
provided by your ISP as an a personal

1077
00:42:46,160 --> 00:42:50,720
individual because you do have a

1078
00:42:47,839 --> 00:42:52,880
contract with them and in terms of risk

1079
00:42:50,720 --> 00:42:55,669
aggregation you're spreading your risk

1080
00:42:52,880 --> 00:42:56,810
across a few more places rather than you

1081
00:42:55,670 --> 00:42:59,119
know putting all your eggs in one basket

1082
00:42:56,810 --> 00:43:01,009
cool and the one thing that I was also

1083
00:42:59,119 --> 00:43:03,470
thinking about while your talk was going

1084
00:43:01,010 --> 00:43:06,230
on is you have the about : you're

1085
00:43:03,470 --> 00:43:07,730
talking about configs yes and I've just

1086
00:43:06,230 --> 00:43:09,260
kicked through this up and you can

1087
00:43:07,730 --> 00:43:10,820
actually view all the requests that are

1088
00:43:09,260 --> 00:43:14,300
being made or have been made through

1089
00:43:10,820 --> 00:43:15,950
about : cache now is anybody or do you

1090
00:43:14,300 --> 00:43:18,890
know maybe is there a way that you could

1091
00:43:15,950 --> 00:43:20,390
forward that cash off the browsers to

1092
00:43:18,890 --> 00:43:23,540
where maybe you could parse that oh

1093
00:43:20,390 --> 00:43:25,400
absolutely you can access that

1094
00:43:23,540 --> 00:43:27,200
information with an extension now the

1095
00:43:25,400 --> 00:43:29,270
user has to give the appropriate

1096
00:43:27,200 --> 00:43:30,649
permissions but you know how many people

1097
00:43:29,270 --> 00:43:33,770
are pay attention when they click okay

1098
00:43:30,650 --> 00:43:35,480
except the browser extensions can be

1099
00:43:33,770 --> 00:43:37,780
configured to have access to the full

1100
00:43:35,480 --> 00:43:40,580
network stack and also to any sort of

1101
00:43:37,780 --> 00:43:41,960
name resolution that occurs as far as

1102
00:43:40,580 --> 00:43:43,910
the browser is concerned and I can

1103
00:43:41,960 --> 00:43:44,869
collect that information as a matter of

1104
00:43:43,910 --> 00:43:47,540
fact virustotal

1105
00:43:44,869 --> 00:43:49,310
just recently updated their browser

1106
00:43:47,540 --> 00:43:51,440
plugin which is a it's a good service I

1107
00:43:49,310 --> 00:43:54,529
use it but with the plug-in you can give

1108
00:43:51,440 --> 00:43:57,320
permission for them to monitor and

1109
00:43:54,530 --> 00:43:58,970
collect if you so choose your local DNS

1110
00:43:57,320 --> 00:44:01,250
resolutions I think they're using it for

1111
00:43:58,970 --> 00:44:03,230
some form of passive DNS based on the

1112
00:44:01,250 --> 00:44:05,089
local browser but the capability

1113
00:44:03,230 --> 00:44:06,830
definitely exists and it's not

1114
00:44:05,089 --> 00:44:08,470
inconceivable that there might be a

1115
00:44:06,830 --> 00:44:09,730
malicious extension

1116
00:44:08,470 --> 00:44:11,859
out there that slips through the

1117
00:44:09,730 --> 00:44:13,780
verification cracks and there's happily

1118
00:44:11,859 --> 00:44:15,730
a slipper now all that information and

1119
00:44:13,780 --> 00:44:18,400
sending off to who knows where so the

1120
00:44:15,730 --> 00:44:20,380
technical capability exists so you know

1121
00:44:18,400 --> 00:44:22,540
if it works the bad guys are gonna start

1122
00:44:20,380 --> 00:44:24,340
using it yeah absolutely

1123
00:44:22,540 --> 00:44:26,380
also I was just plugging around Firefox

1124
00:44:24,340 --> 00:44:29,050
and it looks like the cache from what

1125
00:44:26,380 --> 00:44:30,369
I'm seeing is there's no IPC support

1126
00:44:29,050 --> 00:44:33,280
it's only accessible to the default

1127
00:44:30,369 --> 00:44:35,080
process so we'd have to come up with

1128
00:44:33,280 --> 00:44:37,180
ways that we can actually pull that off

1129
00:44:35,080 --> 00:44:38,980
I mean we're seeing a lot of people

1130
00:44:37,180 --> 00:44:41,890
talking about sis Mon and Jeff's right

1131
00:44:38,980 --> 00:44:48,490
sis Mon does log DNS but sis Mon is not

1132
00:44:41,890 --> 00:44:50,049
going to log do H requests yet yes so I

1133
00:44:48,490 --> 00:44:51,819
think that this is definitely an area I

1134
00:44:50,050 --> 00:44:54,040
think it's just a matter of time before

1135
00:44:51,820 --> 00:44:56,170
we get to the point where blue teams

1136
00:44:54,040 --> 00:44:58,390
have the visibility into this because I

1137
00:44:56,170 --> 00:44:59,710
can't see enterprises allowing something

1138
00:44:58,390 --> 00:45:03,400
like this to happen with zero visibility

1139
00:44:59,710 --> 00:45:07,090
especially when so many IOC s are built

1140
00:45:03,400 --> 00:45:10,330
upon it so we'll just have to I just for

1141
00:45:07,090 --> 00:45:12,190
those folks who want to use the O H you

1142
00:45:10,330 --> 00:45:14,259
know no judgement more power to it but

1143
00:45:12,190 --> 00:45:16,450
in the enterprise if I'm a defender

1144
00:45:14,260 --> 00:45:19,290
there this is certainly starting to keep

1145
00:45:16,450 --> 00:45:21,430
me up at night I think one way to

1146
00:45:19,290 --> 00:45:23,500
address it is definitely preventing your

1147
00:45:21,430 --> 00:45:25,049
browsers from doing that but with BYOD

1148
00:45:23,500 --> 00:45:28,800
that's becoming more and more difficult

1149
00:45:25,050 --> 00:45:31,839
again I want to highlight that Google

1150
00:45:28,800 --> 00:45:33,820
using name resolutions on a known set of

1151
00:45:31,839 --> 00:45:36,430
IPs that if you want to can't block

1152
00:45:33,820 --> 00:45:37,270
without impacting other services it is a

1153
00:45:36,430 --> 00:45:39,520
good option

1154
00:45:37,270 --> 00:45:41,530
I really wish CloudFlare would be more

1155
00:45:39,520 --> 00:45:44,109
transparent and say okay this is the IP

1156
00:45:41,530 --> 00:45:45,339
ranges that we're using do H on if you

1157
00:45:44,109 --> 00:45:47,560
don't want your users to access it you

1158
00:45:45,339 --> 00:45:49,119
can block this cider and you know you're

1159
00:45:47,560 --> 00:45:50,859
home free but they're not willing to do

1160
00:45:49,119 --> 00:45:52,810
that and if you start blocking them you

1161
00:45:50,859 --> 00:45:54,970
start blocking access off you know

1162
00:45:52,810 --> 00:45:57,880
millions of websites and that's just not

1163
00:45:54,970 --> 00:45:59,560
tenable yeah well and I also I don't

1164
00:45:57,880 --> 00:46:01,150
once again this is an area that are

1165
00:45:59,560 --> 00:46:03,040
really the one of main reasons why we

1166
00:46:01,150 --> 00:46:05,170
brought this talk in is because it's an

1167
00:46:03,040 --> 00:46:07,540
area that I just don't know as much as

1168
00:46:05,170 --> 00:46:09,310
I'd like to know about it at all and you

1169
00:46:07,540 --> 00:46:10,630
know you talk about CloudFlare and

1170
00:46:09,310 --> 00:46:13,060
wonder if you have those requests coming

1171
00:46:10,630 --> 00:46:14,619
in over HTTP it could be that those

1172
00:46:13,060 --> 00:46:16,029
requests are being completely handled by

1173
00:46:14,619 --> 00:46:18,760
load balancer and it's going to be

1174
00:46:16,030 --> 00:46:19,950
commingled with web servers and toh as

1175
00:46:18,760 --> 00:46:23,099
well

1176
00:46:19,950 --> 00:46:27,210
it could definitely be mass moving

1177
00:46:23,099 --> 00:46:30,119
forward yeah too big to block exactly so

1178
00:46:27,210 --> 00:46:31,560
bump it up yeah and somebody has pointed

1179
00:46:30,119 --> 00:46:34,829
out what I described is the explicit

1180
00:46:31,560 --> 00:46:36,570
goal of cloud flares doah servers but on

1181
00:46:34,829 --> 00:46:38,280
the flip side you know if you look at it

1182
00:46:36,570 --> 00:46:41,040
from cloud prospective not even on the

1183
00:46:38,280 --> 00:46:43,109
flip side they have a vested interest in

1184
00:46:41,040 --> 00:46:44,759
making sure that all of this stuff is

1185
00:46:43,109 --> 00:46:46,770
undercover so enterprises can't look

1186
00:46:44,760 --> 00:46:48,510
into it because eventually that becomes

1187
00:46:46,770 --> 00:46:49,950
a service that CloudFlare can provide

1188
00:46:48,510 --> 00:46:53,490
where they're gonna handle that type of

1189
00:46:49,950 --> 00:46:55,439
DNS filtering quote-unquote for you all

1190
00:46:53,490 --> 00:46:57,689
right so any other questions trying to

1191
00:46:55,440 --> 00:47:00,599
jump in and handle as many of them as I

1192
00:46:57,690 --> 00:47:02,099
can in two different places any other

1193
00:47:00,599 --> 00:47:03,030
questions or comments I think there's a

1194
00:47:02,099 --> 00:47:05,790
lot to think about

1195
00:47:03,030 --> 00:47:09,270
I honestly don't see do H taking over

1196
00:47:05,790 --> 00:47:11,130
that fast for general population but I

1197
00:47:09,270 --> 00:47:13,560
think the biggest concern that I had is

1198
00:47:11,130 --> 00:47:15,450
right now do H is something that we see

1199
00:47:13,560 --> 00:47:17,009
heavily used by people that are trying

1200
00:47:15,450 --> 00:47:19,319
to screw around corporate policies

1201
00:47:17,010 --> 00:47:21,839
especially whenever I see schools a lot

1202
00:47:19,320 --> 00:47:22,920
of schools use DNS filtering let's try

1203
00:47:21,839 --> 00:47:24,509
to protect their students and their

1204
00:47:22,920 --> 00:47:27,300
networks and the kids can go in and set

1205
00:47:24,510 --> 00:47:30,270
this and bypass it right on the fly so

1206
00:47:27,300 --> 00:47:33,630
on that note it's interesting that

1207
00:47:30,270 --> 00:47:35,940
Mozilla decided to forcefully opt-in all

1208
00:47:33,630 --> 00:47:39,390
of its users in the US but they're

1209
00:47:35,940 --> 00:47:41,520
certainly not doing that in Europe PR

1210
00:47:39,390 --> 00:47:45,629
reasons and also there are countries

1211
00:47:41,520 --> 00:47:47,579
that require ISPs to block certain list

1212
00:47:45,630 --> 00:47:50,520
of domains usually you know Child

1213
00:47:47,579 --> 00:47:52,290
Exploitation type stuff and the

1214
00:47:50,520 --> 00:47:53,819
operators of DRH don't want to be in the

1215
00:47:52,290 --> 00:47:56,130
business of having to maintain those

1216
00:47:53,819 --> 00:47:57,690
lists so they're simply not turning it

1217
00:47:56,130 --> 00:47:59,760
on as a default in countries that

1218
00:47:57,690 --> 00:48:01,619
require that because it could very

1219
00:47:59,760 --> 00:48:03,720
easily bypass and you know if those that

1220
00:48:01,619 --> 00:48:06,660
kind of filtering so kind of makes me

1221
00:48:03,720 --> 00:48:08,609
wonder okay so it's not good enough for

1222
00:48:06,660 --> 00:48:11,430
the European Union but you know we all

1223
00:48:08,609 --> 00:48:13,200
just you know get forcefully opted in

1224
00:48:11,430 --> 00:48:17,098
that's kind of an interesting double

1225
00:48:13,200 --> 00:48:18,750
standard yeah and some final things just

1226
00:48:17,099 --> 00:48:21,300
kind of as a reminder sense post has

1227
00:48:18,750 --> 00:48:23,730
Godot which i think is fantastic the

1228
00:48:21,300 --> 00:48:26,579
whole waiting for godot princes which is

1229
00:48:23,730 --> 00:48:29,069
a c2 over do H and spider labs also has

1230
00:48:26,579 --> 00:48:32,609
dohc too so this will give you an idea

1231
00:48:29,069 --> 00:48:33,329
of how well your team as it stands right

1232
00:48:32,609 --> 00:48:34,288
now can actual

1233
00:48:33,329 --> 00:48:37,259
they detect this type of

1234
00:48:34,289 --> 00:48:38,729
command-and-control well just fantastic

1235
00:48:37,259 --> 00:48:40,349
thank you so much for a good

1236
00:48:38,729 --> 00:48:42,419
presentation and kind of bringing

1237
00:48:40,349 --> 00:48:44,160
people's awareness to this and we'll

1238
00:48:42,420 --> 00:48:45,660
have to bring you back and hopefully we

1239
00:48:44,160 --> 00:48:49,729
need some more visibility moving forward

1240
00:48:45,660 --> 00:48:49,729
cool thank you very much I enjoyed it

