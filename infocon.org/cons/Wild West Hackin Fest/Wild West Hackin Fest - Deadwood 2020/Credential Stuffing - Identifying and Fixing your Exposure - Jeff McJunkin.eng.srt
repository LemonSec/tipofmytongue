1
00:00:00,739 --> 00:00:06,560
the broadcast is now starting IIIi guess

2
00:00:04,190 --> 00:00:09,230
we started the broadcast it gave me a

3
00:00:06,560 --> 00:00:12,760
message that had a default and then I

4
00:00:09,230 --> 00:00:12,760
stopped reading the press the default

5
00:00:13,780 --> 00:00:19,429
said something along the lines of please

6
00:00:16,939 --> 00:00:21,529
don't click this message click here to

7
00:00:19,429 --> 00:00:23,890
click yes right well that means

8
00:00:21,529 --> 00:00:25,698
everybody can hear us so good morning

9
00:00:23,890 --> 00:00:28,279
good morning

10
00:00:25,699 --> 00:00:31,009
now knowing Jeff having kicked around

11
00:00:28,279 --> 00:00:33,800
with Jeff occasionally some sans events

12
00:00:31,009 --> 00:00:36,739
his presentation is more than likely to

13
00:00:33,800 --> 00:00:39,199
be entertaining and informing at the

14
00:00:36,739 --> 00:00:41,328
same time because Jeff's a pretty cool

15
00:00:39,199 --> 00:00:44,210
guy and does some pretty cool stuff and

16
00:00:41,329 --> 00:00:46,550
that's another way of me saying I didn't

17
00:00:44,210 --> 00:00:54,140
read Jeff's by it without further ado

18
00:00:46,550 --> 00:00:55,998
Jeff take it away as we go today we're

19
00:00:54,140 --> 00:00:59,239
going to talk about credential stuffing

20
00:00:55,999 --> 00:01:01,879
no I do reserve the right to go onto

21
00:00:59,239 --> 00:01:04,518
tangents as we go because life is a

22
00:01:01,879 --> 00:01:06,950
series of tangents anybody can ask

23
00:01:04,519 --> 00:01:09,500
questions the track to talks on the disk

24
00:01:06,950 --> 00:01:11,329
or and I'll try to keep up as we go as

25
00:01:09,500 --> 00:01:15,020
well all right let's go ahead and get

26
00:01:11,329 --> 00:01:15,529
started the coffee's in frame madam Who

27
00:01:15,020 --> 00:01:17,750
am I

28
00:01:15,530 --> 00:01:20,479
go ahead and read up on it later if you

29
00:01:17,750 --> 00:01:22,219
like these slides will be available I do

30
00:01:20,479 --> 00:01:24,289
my own consultancy now at Rogue Valley

31
00:01:22,219 --> 00:01:26,149
Information Security it's like the Black

32
00:01:24,290 --> 00:01:28,100
Hills information security of the Rogue

33
00:01:26,149 --> 00:01:30,439
Valley I'm not very inventive as it

34
00:01:28,100 --> 00:01:32,270
turns out as John mentioned I'm a sans

35
00:01:30,439 --> 00:01:34,490
certified instructor and author of the

36
00:01:32,270 --> 00:01:36,380
two named Metasploit course as well I

37
00:01:34,490 --> 00:01:39,949
made some of the prior versions of

38
00:01:36,380 --> 00:01:42,110
Coronet Wars I have a problem with

39
00:01:39,950 --> 00:01:45,409
obtaining letters after my name and they

40
00:01:42,110 --> 00:01:47,299
came from the net admin sysadmin world

41
00:01:45,409 --> 00:01:49,280
and then put a little bit more offensive

42
00:01:47,299 --> 00:01:50,810
in nature sorry works for counter hack

43
00:01:49,280 --> 00:01:52,520
with people that are actually hood the

44
00:01:50,810 --> 00:01:54,680
chimp right now like Daniel Pendolino

45
00:01:52,520 --> 00:01:57,170
Ron Bo's loving it

46
00:01:54,680 --> 00:01:59,689
now I consult but most importantly you

47
00:01:57,170 --> 00:02:02,179
now know me all as the Lynx guy so I

48
00:01:59,689 --> 00:02:04,699
will happily accept my role thanks for

49
00:02:02,179 --> 00:02:06,979
that Krenzel stuffing credential

50
00:02:04,700 --> 00:02:10,190
stuffing is possible because of three

51
00:02:06,979 --> 00:02:13,610
major points I'll be going over first

52
00:02:10,190 --> 00:02:14,760
major point human beings are notoriously

53
00:02:13,610 --> 00:02:17,849
bad at

54
00:02:14,760 --> 00:02:20,220
entropy intervene being randomness so we

55
00:02:17,849 --> 00:02:24,018
only have so much precious precious

56
00:02:20,220 --> 00:02:27,750
small amount of entropy in our passwords

57
00:02:24,019 --> 00:02:30,239
some few of us some choose to I have a

58
00:02:27,750 --> 00:02:32,640
one pass key pass and last pass on

59
00:02:30,239 --> 00:02:35,549
screen now some people choose to use a

60
00:02:32,640 --> 00:02:38,879
password manager and only know like one

61
00:02:35,549 --> 00:02:41,310
or a few passwords unfortunately there

62
00:02:38,879 --> 00:02:43,828
are still things on premise that don't

63
00:02:41,310 --> 00:02:46,319
support password managers ahead active

64
00:02:43,829 --> 00:02:48,060
directory for the most part so that's

65
00:02:46,319 --> 00:02:51,390
the first point right we only memorize

66
00:02:48,060 --> 00:02:52,920
so many passwords if you want to try

67
00:02:51,390 --> 00:02:55,589
them in the channel how many passwords

68
00:02:52,920 --> 00:02:58,048
you have memorized is it is it's one or

69
00:02:55,590 --> 00:03:00,450
two or three or maybe four and maybe

70
00:02:58,049 --> 00:03:03,090
like to vary with variations you have

71
00:03:00,450 --> 00:03:04,470
the crappy crappy password that you

72
00:03:03,090 --> 00:03:06,989
don't even want to bother putting your

73
00:03:04,470 --> 00:03:09,450
password manager like Netflix you have

74
00:03:06,989 --> 00:03:12,359
the strong password for your customer

75
00:03:09,450 --> 00:03:15,089
manager if so and the other you get some

76
00:03:12,359 --> 00:03:17,209
variations as necessary access point

77
00:03:15,090 --> 00:03:21,209
number one humans are bad and entropy

78
00:03:17,209 --> 00:03:22,590
point number two sites get breached we

79
00:03:21,209 --> 00:03:25,500
have on the right side of the screen

80
00:03:22,590 --> 00:03:28,680
right now I think that way the

81
00:03:25,500 --> 00:03:31,799
screenshot from one example raid forums

82
00:03:28,680 --> 00:03:34,410
just showing a few of fairly recent

83
00:03:31,799 --> 00:03:37,410
breaches normally these are sometimes

84
00:03:34,410 --> 00:03:39,660
referred to as combo lists as in email

85
00:03:37,410 --> 00:03:41,730
colon password

86
00:03:39,660 --> 00:03:44,670
and I have a little bit of terminal

87
00:03:41,730 --> 00:03:47,790
output showing on my own box some

88
00:03:44,670 --> 00:03:50,220
downloaded combo lists I hate the term

89
00:03:47,790 --> 00:03:51,720
and a few random ones and then they're

90
00:03:50,220 --> 00:03:54,480
just showing the site that it came from

91
00:03:51,720 --> 00:03:57,440
and I'm showing with the find command

92
00:03:54,480 --> 00:04:00,380
there how many different files

93
00:03:57,440 --> 00:04:02,970
essentially are the are different leaks

94
00:04:00,380 --> 00:04:04,890
mr. J Haman it's something that I

95
00:04:02,970 --> 00:04:06,270
remember all my password that's a great

96
00:04:04,890 --> 00:04:09,779
password I like it

97
00:04:06,270 --> 00:04:13,920
arc Oh George is being my link guy Oh

98
00:04:09,780 --> 00:04:15,960
have done the role all right so I got a

99
00:04:13,920 --> 00:04:18,209
point number two sites get breached and

100
00:04:15,960 --> 00:04:22,950
since people have small amounts of

101
00:04:18,209 --> 00:04:25,320
entropy a few passwords because you

102
00:04:22,950 --> 00:04:27,219
personally use single factor

103
00:04:25,320 --> 00:04:31,420
authentication

104
00:04:27,220 --> 00:04:33,160
that means credential stuffing works now

105
00:04:31,420 --> 00:04:34,960
two-factor authentication is what we're

106
00:04:33,160 --> 00:04:37,600
going to save everything needs two moves

107
00:04:34,960 --> 00:04:40,479
into a faith I'm fine with two in pay I

108
00:04:37,600 --> 00:04:43,180
love multiple factor authentication like

109
00:04:40,480 --> 00:04:45,040
codes I'm not a huge fan of SMS based

110
00:04:43,180 --> 00:04:48,250
two-factor authentication but hey it's

111
00:04:45,040 --> 00:04:50,440
still like leaps and bounds above just

112
00:04:48,250 --> 00:04:52,810
past authentication my pet peeve

113
00:04:50,440 --> 00:04:55,110
recently though is people essentially

114
00:04:52,810 --> 00:04:58,270
saying we're moving to two FA and

115
00:04:55,110 --> 00:05:00,370
therefore you can have the week crappy

116
00:04:58,270 --> 00:05:03,070
password that you also used for LinkedIn

117
00:05:00,370 --> 00:05:04,840
2011 and that's just fine

118
00:05:03,070 --> 00:05:06,849
that's my pet peeve and that's why

119
00:05:04,840 --> 00:05:09,039
credential stuffing is a problem because

120
00:05:06,850 --> 00:05:11,650
a lot of people think they only expose

121
00:05:09,040 --> 00:05:14,860
to FA externally but maybe it's single

122
00:05:11,650 --> 00:05:18,849
factor on Prem right you log into your

123
00:05:14,860 --> 00:05:21,310
outlook web access with your RSA or your

124
00:05:18,850 --> 00:05:25,390
SMS based two-factor authentication or

125
00:05:21,310 --> 00:05:27,070
your application but I bet that every

126
00:05:25,390 --> 00:05:30,760
single company that attending this or

127
00:05:27,070 --> 00:05:32,950
viewing wave later on YouTube absolutely

128
00:05:30,760 --> 00:05:34,840
has single factor authentication exposed

129
00:05:32,950 --> 00:05:38,320
to the outside Internet as well so it's

130
00:05:34,840 --> 00:05:40,299
really easy to accidentally expose talk

131
00:05:38,320 --> 00:05:42,280
through a couple definitions before we

132
00:05:40,300 --> 00:05:43,780
continue on so I like to define

133
00:05:42,280 --> 00:05:45,280
terminology right make sure we know what

134
00:05:43,780 --> 00:05:47,770
we're talking about and frankly I

135
00:05:45,280 --> 00:05:49,960
couldn't give a discussion on credential

136
00:05:47,770 --> 00:05:51,760
stuffing if I don't define credential

137
00:05:49,960 --> 00:05:54,250
stuffing at some point so first of all

138
00:05:51,760 --> 00:05:55,990
we have password cracking it's an

139
00:05:54,250 --> 00:05:59,620
offline attack it means you've already

140
00:05:55,990 --> 00:06:01,600
compromised some box and found something

141
00:05:59,620 --> 00:06:04,060
that was built with a password commonly

142
00:06:01,600 --> 00:06:06,010
is represented as a hash but things like

143
00:06:04,060 --> 00:06:08,260
kerb roasting are a little bit weird in

144
00:06:06,010 --> 00:06:11,950
that sense right that means after I've

145
00:06:08,260 --> 00:06:14,320
compromised your own some other box I

146
00:06:11,950 --> 00:06:17,440
can take unlimited guesses as to the

147
00:06:14,320 --> 00:06:21,040
password and intrinsically the online

148
00:06:17,440 --> 00:06:22,750
service where I got that hash is unable

149
00:06:21,040 --> 00:06:25,720
to notice how many times I've attempted

150
00:06:22,750 --> 00:06:28,390
to crack that password all right next up

151
00:06:25,720 --> 00:06:29,919
we have password guessing that's where

152
00:06:28,390 --> 00:06:31,599
guessing is attempting to log in to an

153
00:06:29,919 --> 00:06:34,240
online system something that's

154
00:06:31,600 --> 00:06:36,550
validating your login I I avoid say an

155
00:06:34,240 --> 00:06:39,550
online system because look if you're

156
00:06:36,550 --> 00:06:41,110
logging to an offline Windows desktop or

157
00:06:39,550 --> 00:06:42,819
laptop whatever

158
00:06:41,110 --> 00:06:45,250
that's still an online attack in the

159
00:06:42,819 --> 00:06:47,229
sense that the authenticating system is

160
00:06:45,250 --> 00:06:49,750
fundamentally aware of your

161
00:06:47,229 --> 00:06:52,659
authentication attempt all right so the

162
00:06:49,750 --> 00:06:54,159
password guessing a subset a specialized

163
00:06:52,659 --> 00:06:56,650
type of password guessing his password

164
00:06:54,159 --> 00:06:58,990
spraying who really really commonly used

165
00:06:56,650 --> 00:07:01,299
once attackers gets inside your

166
00:06:58,990 --> 00:07:04,629
environment it's easy to forget but half

167
00:07:01,300 --> 00:07:07,569
of the trouble of password guessing is

168
00:07:04,629 --> 00:07:09,729
the username and any authenticate view

169
00:07:07,569 --> 00:07:11,770
therefore one example inside of Active

170
00:07:09,729 --> 00:07:14,349
Directory conduct all Active Directory

171
00:07:11,770 --> 00:07:17,258
usernames and therefore somebody's gonna

172
00:07:14,349 --> 00:07:18,610
have the password winter 2020 or if

173
00:07:17,259 --> 00:07:21,729
they're really forward-thinking they

174
00:07:18,610 --> 00:07:24,009
might call this spring but

175
00:07:21,729 --> 00:07:26,229
it's not spring yet I'm sorry some

176
00:07:24,009 --> 00:07:28,870
places like sunny San Diego doesn't have

177
00:07:26,229 --> 00:07:30,729
seasons so maybe the season based haha

178
00:07:28,870 --> 00:07:33,370
passwords are a little less common there

179
00:07:30,729 --> 00:07:36,008
alright so the purpose of password

180
00:07:33,370 --> 00:07:38,409
spraying by the way is usually to avoid

181
00:07:36,009 --> 00:07:41,409
account locket or minimize the risks you

182
00:07:38,409 --> 00:07:44,199
can't avoid it entirely but minimize the

183
00:07:41,409 --> 00:07:46,449
risk by having one or maybe a few

184
00:07:44,199 --> 00:07:49,389
password guesses per account

185
00:07:46,449 --> 00:07:52,029
alright so defining up my actual term

186
00:07:49,389 --> 00:07:54,939
here Krenzel stuffing is passwords frame

187
00:07:52,029 --> 00:07:57,308
but instead of a few common passwords

188
00:07:54,939 --> 00:08:00,819
I'm specifically targeting targeting the

189
00:07:57,309 --> 00:08:02,289
human beings with those usernames sorry

190
00:08:00,819 --> 00:08:03,819
George's comments there about

191
00:08:02,289 --> 00:08:06,009
coronavirus speaking passwords seems

192
00:08:03,819 --> 00:08:08,740
very likely as well passwords

193
00:08:06,009 --> 00:08:10,860
Krenzel stuffiness passwords frame but

194
00:08:08,740 --> 00:08:14,080
targeting the human beings and their

195
00:08:10,860 --> 00:08:16,089
previously compromised credentials right

196
00:08:14,080 --> 00:08:17,889
so we have of course the relevant X

197
00:08:16,089 --> 00:08:19,960
feeds because there's always a relevant

198
00:08:17,889 --> 00:08:21,879
xkcd and I'm not sure I can do a

199
00:08:19,960 --> 00:08:24,399
presentation at any point without

200
00:08:21,879 --> 00:08:27,459
referencing xkcd but the the right pane

201
00:08:24,399 --> 00:08:29,499
there right how happy actually works Hey

202
00:08:27,459 --> 00:08:32,169
look to Malik the emails and passwords

203
00:08:29,499 --> 00:08:35,370
from smashmouth message boards huit

204
00:08:32,169 --> 00:08:38,429
let's try them all in ven though

205
00:08:35,370 --> 00:08:41,580
that that's a very critical stuffing it

206
00:08:38,429 --> 00:08:44,039
sprays as take the existing credentials

207
00:08:41,580 --> 00:08:46,110
and stuffed them into a new

208
00:08:44,039 --> 00:08:46,710
authenticating source like in this case

209
00:08:46,110 --> 00:08:48,779
venmo

210
00:08:46,710 --> 00:08:51,120
that turns out you can directly

211
00:08:48,779 --> 00:08:54,120
financially gain from guessing people's

212
00:08:51,120 --> 00:08:56,000
venmo luck that's one example all right

213
00:08:54,120 --> 00:08:57,620
that makes sense

214
00:08:56,000 --> 00:08:59,450
excellent I've seen some nods in the

215
00:08:57,620 --> 00:09:01,340
room thank you for that for context

216
00:08:59,450 --> 00:09:04,100
I have webcams all of your webcam

217
00:09:01,340 --> 00:09:06,560
joining live I have visit visual access

218
00:09:04,100 --> 00:09:08,990
plan a separate monitor over here so

219
00:09:06,560 --> 00:09:11,199
thank you for dotty all right sorts of

220
00:09:08,990 --> 00:09:13,700
grin chills right we have rain forms

221
00:09:11,200 --> 00:09:16,340
individual unreported breaches are

222
00:09:13,700 --> 00:09:18,890
absolutely possible as well brighten as

223
00:09:16,340 --> 00:09:22,570
an attacker who complex yes Smash Mouth

224
00:09:18,890 --> 00:09:26,030
or whatever could absolutely reuse that

225
00:09:22,570 --> 00:09:29,390
combo list themselves special shout out

226
00:09:26,030 --> 00:09:31,339
for those trying to investigate cran

227
00:09:29,390 --> 00:09:33,830
shil stuffing themselves on the right

228
00:09:31,340 --> 00:09:35,630
side of this screen right now we have

229
00:09:33,830 --> 00:09:38,660
the collection number one through five

230
00:09:35,630 --> 00:09:40,790
ante public list that's a huge huge list

231
00:09:38,660 --> 00:09:43,459
it's 120 gigabytes that's compressed a

232
00:09:40,790 --> 00:09:45,530
terabyte of questions over all creepy

233
00:09:43,460 --> 00:09:48,259
Jeff creepy death is creepy as far as

234
00:09:45,530 --> 00:09:51,350
single factor authentication sources

235
00:09:48,259 --> 00:09:54,139
everyone listed his presentation as

236
00:09:51,350 --> 00:09:56,329
single factor authentication exposed the

237
00:09:54,139 --> 00:09:59,540
outside world I will make that bet

238
00:09:56,329 --> 00:10:02,299
I will make that very strongly the

239
00:09:59,540 --> 00:10:04,699
classic example is having Outlook Web

240
00:10:02,299 --> 00:10:06,259
App with a username and a password but

241
00:10:04,699 --> 00:10:08,118
even if you have two Americanization on

242
00:10:06,259 --> 00:10:10,429
Outlook Web App Black Hills Information

243
00:10:08,119 --> 00:10:13,429
Security has actually done a blog posts

244
00:10:10,429 --> 00:10:16,039
on it turn down other endpoints like EWS

245
00:10:13,429 --> 00:10:16,759
exchange web services can someone look

246
00:10:16,039 --> 00:10:19,729
up real quick

247
00:10:16,759 --> 00:10:22,009
pH is EWS and maybe single factor

248
00:10:19,729 --> 00:10:23,689
authentication and secure that link

249
00:10:22,009 --> 00:10:25,729
alright and I'll share it in the slide

250
00:10:23,689 --> 00:10:27,529
notes as well and by the way of course I

251
00:10:25,729 --> 00:10:30,529
always share the slides at the end of

252
00:10:27,529 --> 00:10:32,569
the talk and there's the speaker notes

253
00:10:30,529 --> 00:10:35,449
as well thank you Ron

254
00:10:32,569 --> 00:10:37,579
all right office 365 login of course for

255
00:10:35,449 --> 00:10:39,919
any organization dealing with office 55

256
00:10:37,579 --> 00:10:42,649
that's extremely common one of my

257
00:10:39,919 --> 00:10:44,829
personal recent favorites notice in the

258
00:10:42,649 --> 00:10:50,929
lower right of the screen

259
00:10:44,829 --> 00:10:54,169
250 off gssapi ntlm many organizations

260
00:10:50,929 --> 00:10:56,269
still expose port 25 SMTP Simple Mail

261
00:10:54,169 --> 00:11:00,319
Transfer Protocol to the outside world

262
00:10:56,269 --> 00:11:03,699
did you know that by default exchange

263
00:11:00,319 --> 00:11:07,639
supports ntlm based authentication as in

264
00:11:03,699 --> 00:11:10,099
single factor authentication to Active

265
00:11:07,639 --> 00:11:13,490
Directory back source which is pretty

266
00:11:10,100 --> 00:11:16,040
ideal for credential stuffing honestly

267
00:11:13,490 --> 00:11:17,389
now there's other things as well I just

268
00:11:16,040 --> 00:11:19,849
wanted to show the number of results I

269
00:11:17,389 --> 00:11:21,199
have a screenshot of OpenVPN there's

270
00:11:19,850 --> 00:11:23,569
lots of them I don't know how many of

271
00:11:21,199 --> 00:11:25,459
those are single fact authentication but

272
00:11:23,569 --> 00:11:26,929
a special shout-out to the lower left of

273
00:11:25,459 --> 00:11:29,059
the screen that hecqs that I'm searching

274
00:11:26,929 --> 00:11:30,740
for is remote desktop being exposed

275
00:11:29,059 --> 00:11:34,040
that's that well that could be

276
00:11:30,740 --> 00:11:36,069
two-factor authentication as well but

277
00:11:34,040 --> 00:11:38,149
between these right we only need one

278
00:11:36,069 --> 00:11:39,920
single factor authentication source

279
00:11:38,149 --> 00:11:42,470
commonly pointing to Active Directory

280
00:11:39,920 --> 00:11:44,118
but it doesn't have to be in order to

281
00:11:42,470 --> 00:11:45,920
expose the entire organization to

282
00:11:44,119 --> 00:11:48,860
credential stuffing attacks from the

283
00:11:45,920 --> 00:11:51,740
outside world and look if it's Outlook

284
00:11:48,860 --> 00:11:54,589
Web App or I can fish one user to giving

285
00:11:51,740 --> 00:11:56,449
credentials then suddenly internal

286
00:11:54,589 --> 00:11:59,329
phishing is so much more effective

287
00:11:56,449 --> 00:12:00,998
once I get VPN there's always going to

288
00:11:59,329 --> 00:12:03,920
be signal factor authentication services

289
00:12:00,999 --> 00:12:07,129
on-premise inside the environment yes

290
00:12:03,920 --> 00:12:09,229
there's the shadow of Google has beyond

291
00:12:07,129 --> 00:12:11,329
core right everything there is no

292
00:12:09,230 --> 00:12:14,119
special internal sub that everything is

293
00:12:11,329 --> 00:12:16,899
exposed to the outside world I'm not

294
00:12:14,119 --> 00:12:19,740
saying this in a mean way beyond Corp

295
00:12:16,899 --> 00:12:22,050
mislead the industry

296
00:12:19,740 --> 00:12:24,450
to many organizations that were far too

297
00:12:22,050 --> 00:12:25,979
small said Oh Google is just exposing

298
00:12:24,450 --> 00:12:27,240
everything downside the world we should

299
00:12:25,980 --> 00:12:29,370
do that too

300
00:12:27,240 --> 00:12:31,920
that seems like a great idea and then

301
00:12:29,370 --> 00:12:34,410
they exposed Brandi custom colored

302
00:12:31,920 --> 00:12:36,510
applications internal web applications

303
00:12:34,410 --> 00:12:38,339
that are just full of flaws right web

304
00:12:36,510 --> 00:12:40,860
application penetration testing exists

305
00:12:38,340 --> 00:12:42,870
as a field to a rounding error because

306
00:12:40,860 --> 00:12:45,660
there are so many Crump custom coded

307
00:12:42,870 --> 00:12:48,750
crappy PHP applications out there don't

308
00:12:45,660 --> 00:12:51,329
expose small side reins as promised

309
00:12:48,750 --> 00:12:54,810
tangents are here on the uncork their

310
00:12:51,330 --> 00:12:56,490
high couple recent statistics Microsoft

311
00:12:54,810 --> 00:12:58,890
obviously seems a lot of these

312
00:12:56,490 --> 00:13:00,840
credentials stuffing attacks or replay

313
00:12:58,890 --> 00:13:03,810
in this case they're talking not just

314
00:13:00,840 --> 00:13:06,510
Rachel stuffing but also password

315
00:13:03,810 --> 00:13:09,150
guessing over all right and they said

316
00:13:06,510 --> 00:13:11,670
480 thousand accounts were compromised

317
00:13:09,150 --> 00:13:15,030
by replay in just January this was over

318
00:13:11,670 --> 00:13:17,640
at the RSA Conference of this year where

319
00:13:15,030 --> 00:13:19,860
I hear people were exposed anyway moving

320
00:13:17,640 --> 00:13:21,660
on a couple of recent examples right we

321
00:13:19,860 --> 00:13:24,060
got Krebs on security that Citrix

322
00:13:21,660 --> 00:13:28,620
attacked recently that again was

323
00:13:24,060 --> 00:13:32,099
password spraying which yes it might be

324
00:13:28,620 --> 00:13:34,740
here's the username and winter 2020 is

325
00:13:32,100 --> 00:13:37,080
that like the classic example or in this

326
00:13:34,740 --> 00:13:39,030
case maybe Citrix one exclamation point

327
00:13:37,080 --> 00:13:42,840
why did I do the one exclamation point

328
00:13:39,030 --> 00:13:44,970
two reasons first of all because usually

329
00:13:42,840 --> 00:13:47,820
8 characters is required as minimum

330
00:13:44,970 --> 00:13:49,710
length seconds because one next relation

331
00:13:47,820 --> 00:13:52,020
points add to other categories so it

332
00:13:49,710 --> 00:13:53,640
makes it a complex password so there's

333
00:13:52,020 --> 00:13:56,130
additional links in the class notes

334
00:13:53,640 --> 00:13:59,100
started starting in the slide notes as

335
00:13:56,130 --> 00:14:01,110
well but one more example right Krebs on

336
00:13:59,100 --> 00:14:03,600
security recent breaches this stuff

337
00:14:01,110 --> 00:14:05,790
gives you in the door very commonly

338
00:14:03,600 --> 00:14:08,520
every presentation has to have that good

339
00:14:05,790 --> 00:14:09,990
old miner attack matrix and I love minor

340
00:14:08,520 --> 00:14:12,360
attack majors don't get me wrong this is

341
00:14:09,990 --> 00:14:15,600
not making fun of it I love that we have

342
00:14:12,360 --> 00:14:18,720
a common language to describe attacker

343
00:14:15,600 --> 00:14:21,280
techniques I do think it's a little

344
00:14:18,720 --> 00:14:24,160
overwhelming at first

345
00:14:21,280 --> 00:14:27,189
so let's take a couple of other looks

346
00:14:24,160 --> 00:14:28,959
first of all I did a last talk at well

347
00:14:27,190 --> 00:14:30,640
must have confessed on finding malware's

348
00:14:28,960 --> 00:14:33,460
on your own environment I like to talk

349
00:14:30,640 --> 00:14:35,260
blue and red right and the attacker

350
00:14:33,460 --> 00:14:37,930
perspective on the attack matrix is not

351
00:14:35,260 --> 00:14:40,210
this visual recommend visual

352
00:14:37,930 --> 00:14:42,819
visualization of attack matrix is from

353
00:14:40,210 --> 00:14:45,790
the attacker point of view I don't know

354
00:14:42,820 --> 00:14:48,340
which of those techniques is actually

355
00:14:45,790 --> 00:14:51,579
monitored by the organization once I

356
00:14:48,340 --> 00:14:54,010
land inside so on the far left of the

357
00:14:51,580 --> 00:14:56,260
screen we have the initial access column

358
00:14:54,010 --> 00:14:58,270
and it might be something like a

359
00:14:56,260 --> 00:15:00,640
spearfishing link look fishing is

360
00:14:58,270 --> 00:15:02,500
ridiculously prevalent but by the way

361
00:15:00,640 --> 00:15:03,730
the bottom on additional axis is valid

362
00:15:02,500 --> 00:15:05,650
accounts just logging in

363
00:15:03,730 --> 00:15:09,059
that's credential stuffing is one

364
00:15:05,650 --> 00:15:12,629
possible method for that

365
00:15:09,059 --> 00:15:15,118
I have the top left mine and minesweeper

366
00:15:12,629 --> 00:15:16,649
already clicked upon because you as this

367
00:15:15,119 --> 00:15:19,499
hacker once you land inside an

368
00:15:16,649 --> 00:15:22,769
environment you've already potentially

369
00:15:19,499 --> 00:15:26,909
triggered some kind of detective control

370
00:15:22,769 --> 00:15:29,129
you just don't know if you triggered one

371
00:15:26,909 --> 00:15:31,319
but you have to play the game you have

372
00:15:29,129 --> 00:15:33,239
to use techniques to move laterally

373
00:15:31,319 --> 00:15:34,919
inside the environment you don't know

374
00:15:33,239 --> 00:15:37,139
when blue is going to detect you and

375
00:15:34,919 --> 00:15:39,598
very importantly there's fog of war in

376
00:15:37,139 --> 00:15:42,059
both directions people very commonly

377
00:15:39,599 --> 00:15:44,309
understate how long it takes attackers

378
00:15:42,059 --> 00:15:46,289
to figure out what the hell is going on

379
00:15:44,309 --> 00:15:48,868
with the environment like it is very

380
00:15:46,289 --> 00:15:51,629
common pen testers in the chat room back

381
00:15:48,869 --> 00:15:53,489
me up here it takes very little time on

382
00:15:51,629 --> 00:15:55,079
average for a new environment to gain

383
00:15:53,489 --> 00:15:57,629
something like domain admin rights or

384
00:15:55,079 --> 00:15:59,368
credentials right very privileged

385
00:15:57,629 --> 00:16:01,949
credentials with access to the data that

386
00:15:59,369 --> 00:16:03,869
is important to your client it takes a

387
00:16:01,949 --> 00:16:06,868
lot more time on average to figure out

388
00:16:03,869 --> 00:16:08,489
where is the important data what's

389
00:16:06,869 --> 00:16:09,869
what's going on in this environment how

390
00:16:08,489 --> 00:16:11,999
do they have their son that's up what is

391
00:16:09,869 --> 00:16:13,979
their naming scheme all that sort of

392
00:16:11,999 --> 00:16:16,529
little stuff that takes even longer than

393
00:16:13,979 --> 00:16:18,389
getting credentials you have to use

394
00:16:16,529 --> 00:16:20,069
techniques as an attacker the minds

395
00:16:18,389 --> 00:16:21,239
right are monitored techniques they

396
00:16:20,069 --> 00:16:24,718
don't necessarily kick you out

397
00:16:21,239 --> 00:16:26,819
immediately I'm a huge huge fan of

398
00:16:24,719 --> 00:16:28,649
detective controls over preventative

399
00:16:26,819 --> 00:16:30,589
controls but we'll get to that a little

400
00:16:28,649 --> 00:16:33,239
bit later I have side rants on that one

401
00:16:30,589 --> 00:16:34,679
let's make the attack matrix a little

402
00:16:33,239 --> 00:16:38,569
easier to deal with little less

403
00:16:34,679 --> 00:16:41,459
overwhelming I very much try to focus on

404
00:16:38,569 --> 00:16:42,839
accessible language to my clients right

405
00:16:41,459 --> 00:16:44,968
I want them to be able to understand

406
00:16:42,839 --> 00:16:46,559
even if they're at the executive level

407
00:16:44,969 --> 00:16:49,649
beside notes I heard people talking

408
00:16:46,559 --> 00:16:51,779
about the c-suite yesterday executive

409
00:16:49,649 --> 00:16:53,609
staff executive personnel is more what

410
00:16:51,779 --> 00:16:56,489
actual executives refer to themselves as

411
00:16:53,609 --> 00:16:59,069
c-suite is pretty much just like people

412
00:16:56,489 --> 00:17:00,959
in the lower tiers of the environment to

413
00:16:59,069 --> 00:17:03,659
call them so right having the right

414
00:17:00,959 --> 00:17:05,819
terminology to talk to your clients is

415
00:17:03,659 --> 00:17:08,209
very important as well all pretty much

416
00:17:05,819 --> 00:17:11,178
every attack needs internal access

417
00:17:08,209 --> 00:17:15,029
because beyond Corp isn't everywhere

418
00:17:11,179 --> 00:17:17,189
pretty much every attack needs some

419
00:17:15,029 --> 00:17:20,339
privileges right the same reason that

420
00:17:17,189 --> 00:17:22,279
you need IT to logging a computer to

421
00:17:20,339 --> 00:17:24,868
install whatever software or to update

422
00:17:22,279 --> 00:17:27,990
Adobe Acrobat or whatever

423
00:17:24,868 --> 00:17:29,340
step three finding that the data that's

424
00:17:27,990 --> 00:17:31,759
important to your client that takes a

425
00:17:29,340 --> 00:17:35,369
lot longer as mentioned before then

426
00:17:31,759 --> 00:17:37,710
clients tend to perceive out of all of

427
00:17:35,369 --> 00:17:39,869
the stuff out of all of these four

428
00:17:37,710 --> 00:17:42,240
things that attackers need I would say

429
00:17:39,869 --> 00:17:42,959
that step three probably takes the

430
00:17:42,240 --> 00:17:46,230
longest

431
00:17:42,960 --> 00:17:47,909
if the append tester goal is to find and

432
00:17:46,230 --> 00:17:50,340
copy and exfiltrate

433
00:17:47,909 --> 00:17:53,519
some valuable data which is one of my

434
00:17:50,340 --> 00:17:55,289
favorites more common goals in a pen

435
00:17:53,519 --> 00:17:57,119
test I'm a huge proponent of goal based

436
00:17:55,289 --> 00:17:59,220
penetration testing but that's not the

437
00:17:57,119 --> 00:18:02,158
topic of the day number three

438
00:17:59,220 --> 00:18:04,590
finding the valuable data takes a lot

439
00:18:02,159 --> 00:18:06,299
longer than people think this is why it

440
00:18:04,590 --> 00:18:09,570
takes a long time between initial

441
00:18:06,299 --> 00:18:11,668
compromise all the way to breach breach

442
00:18:09,570 --> 00:18:14,119
being you appeared you're the headline

443
00:18:11,669 --> 00:18:16,919
of Krebs on security calm and

444
00:18:14,119 --> 00:18:19,139
compromised being someone gained a shell

445
00:18:16,919 --> 00:18:21,170
internally internal access internal

446
00:18:19,139 --> 00:18:23,990
access is an

447
00:18:21,170 --> 00:18:26,640
stop them before step 4

448
00:18:23,990 --> 00:18:28,680
so I can map that to the attack matrix

449
00:18:26,640 --> 00:18:31,380
as well because this does math pretty

450
00:18:28,680 --> 00:18:33,420
nicely and this is nothing against

451
00:18:31,380 --> 00:18:34,920
attack please don't get me wrong but I

452
00:18:33,420 --> 00:18:37,980
think attack is a little bit

453
00:18:34,920 --> 00:18:40,260
overwhelming to defenders or attackers

454
00:18:37,980 --> 00:18:42,120
look at it for the first time with

455
00:18:40,260 --> 00:18:45,810
internal access of course you have some

456
00:18:42,120 --> 00:18:48,239
access mechanism you have some method of

457
00:18:45,810 --> 00:18:50,310
code execution of your choosing it might

458
00:18:48,240 --> 00:18:51,960
be meterpreter it might be cobalt strike

459
00:18:50,310 --> 00:18:53,909
it might be PowerShell Empire might be

460
00:18:51,960 --> 00:18:56,310
covenant in fact there's a thing on c2

461
00:18:53,910 --> 00:18:58,380
matrix hey George do you have a link to

462
00:18:56,310 --> 00:18:59,760
see two matrix handy you can share that

463
00:18:58,380 --> 00:19:01,740
in the channel and be great and I'll put

464
00:18:59,760 --> 00:19:03,600
on this line of course he needs some

465
00:19:01,740 --> 00:19:05,940
kind of persistence mechanism over all

466
00:19:03,600 --> 00:19:07,590
right so the Machine reboots you don't

467
00:19:05,940 --> 00:19:10,320
just lose access inside the environment

468
00:19:07,590 --> 00:19:12,419
overall if there's some kind of endpoint

469
00:19:10,320 --> 00:19:14,220
detection the response edr agent like

470
00:19:12,420 --> 00:19:16,170
syslog is my absolute favorite from the

471
00:19:14,220 --> 00:19:18,480
defenders perspective and then you might

472
00:19:16,170 --> 00:19:22,140
need to evade some of that where

473
00:19:18,480 --> 00:19:24,090
possible but usually strong detective

474
00:19:22,140 --> 00:19:27,480
controls you might not be in a position

475
00:19:24,090 --> 00:19:29,550
on the environment but stop those

476
00:19:27,480 --> 00:19:32,490
detective controls so I stuff that out

477
00:19:29,550 --> 00:19:36,810
to Matt to seyn who definitely showed

478
00:19:32,490 --> 00:19:39,210
some pretty elite hacker foo by doing

479
00:19:36,810 --> 00:19:41,970
things like null routes to the

480
00:19:39,210 --> 00:19:44,280
monitoring server so if you have

481
00:19:41,970 --> 00:19:47,460
something like sis lon you have windows

482
00:19:44,280 --> 00:19:49,560
event 14 you have endgame what if I add

483
00:19:47,460 --> 00:19:52,500
like literally the round add commands a

484
00:19:49,560 --> 00:19:54,720
null route a bad route to the end game

485
00:19:52,500 --> 00:19:59,310
server so can't phone oh right defense

486
00:19:54,720 --> 00:20:01,440
evasion so internal access implies two

487
00:19:59,310 --> 00:20:04,050
three four five different attack makers

488
00:20:01,440 --> 00:20:05,490
techniques already we have privileges

489
00:20:04,050 --> 00:20:07,230
right gaining privileges behind the

490
00:20:05,490 --> 00:20:08,880
environment so it's classically

491
00:20:07,230 --> 00:20:11,160
privilege escalation but there's also

492
00:20:08,880 --> 00:20:13,200
credential access that they they have

493
00:20:11,160 --> 00:20:15,060
two different categories here because me

494
00:20:13,200 --> 00:20:19,080
gaining local administrator permissions

495
00:20:15,060 --> 00:20:21,120
is very different than hey you share

496
00:20:19,080 --> 00:20:24,389
this file share with the entire

497
00:20:21,120 --> 00:20:26,939
environment and it has a domain admin

498
00:20:24,390 --> 00:20:28,740
password in it or it has a local admin

499
00:20:26,940 --> 00:20:32,440
on some server where there's a domain

500
00:20:28,740 --> 00:20:36,100
admin logged on I find this pattern

501
00:20:32,440 --> 00:20:38,530
all too commonly step 3 discovery right

502
00:20:36,100 --> 00:20:42,070
just what do I have access to now I'm a

503
00:20:38,530 --> 00:20:45,190
domain admin but of what right I please

504
00:20:42,070 --> 00:20:46,870
don't think I'm I do tend to like

505
00:20:45,190 --> 00:20:48,160
getting domain admin right I like to be

506
00:20:46,870 --> 00:20:51,969
in charge of other people's environments

507
00:20:48,160 --> 00:20:55,030
as well but domain admin is pretty much

508
00:20:51,970 --> 00:20:58,240
never necessary for any realistic attack

509
00:20:55,030 --> 00:21:00,220
it is useful for pretty much every

510
00:20:58,240 --> 00:21:01,990
realistic attack but it's never really

511
00:21:00,220 --> 00:21:06,220
necessary if the goal is to gain access

512
00:21:01,990 --> 00:21:08,470
to development environment and push new

513
00:21:06,220 --> 00:21:10,630
code to your clients software or

514
00:21:08,470 --> 00:21:14,830
demonstrate the capability to do so

515
00:21:10,630 --> 00:21:18,010
then look if you fish a developer when

516
00:21:14,830 --> 00:21:20,020
sometimes all of these things can be

517
00:21:18,010 --> 00:21:21,460
collapsed pretty down down pretty

518
00:21:20,020 --> 00:21:23,920
shortly because things like ransomware

519
00:21:21,460 --> 00:21:26,560
are the favorite example recently you

520
00:21:23,920 --> 00:21:29,110
don't need privilege escalation if you

521
00:21:26,560 --> 00:21:31,270
already have access to the important

522
00:21:29,110 --> 00:21:33,040
data that isn't backed up that's what

523
00:21:31,270 --> 00:21:36,160
ransomware is all about it's easier to

524
00:21:33,040 --> 00:21:39,100
scale frankly as an attacker Oh copy

525
00:21:36,160 --> 00:21:40,120
Nixle trading that data stereotypically

526
00:21:39,100 --> 00:21:42,520
this is something like an encrypted

527
00:21:40,120 --> 00:21:45,189
7-zip document of all of the stuff I've

528
00:21:42,520 --> 00:21:47,200
staged from all over but it depends on

529
00:21:45,190 --> 00:21:49,450
whatever the impact or sometimes people

530
00:21:47,200 --> 00:21:51,280
refer to this as actions on objective as

531
00:21:49,450 --> 00:21:54,150
in the attacker doing what they actually

532
00:21:51,280 --> 00:21:57,190
wanted to do so we have internal access

533
00:21:54,150 --> 00:21:59,050
but that most environments are probably

534
00:21:57,190 --> 00:22:01,150
nothing Atlanta is a local admin

535
00:21:59,050 --> 00:22:04,720
immediately so you need some privileges

536
00:22:01,150 --> 00:22:06,430
right maybe local admin may be getting

537
00:22:04,720 --> 00:22:08,200
privileges in the right area then you

538
00:22:06,430 --> 00:22:10,690
figure out where the important stuff is

539
00:22:08,200 --> 00:22:13,360
you walk over you grab it so maybe a

540
00:22:10,690 --> 00:22:16,570
very important thing is copies of

541
00:22:13,360 --> 00:22:18,610
backdoors and breaches available on

542
00:22:16,570 --> 00:22:20,260
Amazon now right you have to look around

543
00:22:18,610 --> 00:22:22,419
find throughout your environment I have

544
00:22:20,260 --> 00:22:24,400
like copies of this deck all over

545
00:22:22,420 --> 00:22:27,400
because look I asked very very nicely

546
00:22:24,400 --> 00:22:29,110
it's so copying stealing that data once

547
00:22:27,400 --> 00:22:31,510
you find access to it but looking around

548
00:22:29,110 --> 00:22:34,330
the environment digitally can take some

549
00:22:31,510 --> 00:22:37,180
time credential stopping right often

550
00:22:34,330 --> 00:22:39,040
gets number one and two for free or very

551
00:22:37,180 --> 00:22:41,290
commonly internal access bike rental

552
00:22:39,040 --> 00:22:43,659
stuffing and privilege escalation via

553
00:22:41,290 --> 00:22:44,980
either Krenzel stuffing or just password

554
00:22:43,660 --> 00:22:47,500
sprain

555
00:22:44,980 --> 00:22:52,030
I walked in the door because I'm gonna

556
00:22:47,500 --> 00:22:54,040
say Vaz Lowe had his email was available

557
00:22:52,030 --> 00:22:55,510
on the outside world he has a LinkedIn

558
00:22:54,040 --> 00:22:58,389
account and it turns out it's really

559
00:22:55,510 --> 00:23:01,600
easy to gain access to someone's email

560
00:22:58,390 --> 00:23:03,850
address and then he's already been

561
00:23:01,600 --> 00:23:06,428
breached because sorry fellow but you

562
00:23:03,850 --> 00:23:08,620
used LinkedIn back in 2011 and your

563
00:23:06,429 --> 00:23:10,690
password hash was correct sorry bad low

564
00:23:08,620 --> 00:23:12,909
checking your exposure right I said

565
00:23:10,690 --> 00:23:15,250
finding and fixing your exposure

566
00:23:12,910 --> 00:23:16,780
credential stuffing so let's let's talk

567
00:23:15,250 --> 00:23:18,610
through the options to work with here

568
00:23:16,780 --> 00:23:20,740
Adam this one's for you at the bottom

569
00:23:18,610 --> 00:23:24,219
there right halo reference we have

570
00:23:20,740 --> 00:23:27,130
different modes here if you have as your

571
00:23:24,220 --> 00:23:29,500
ad easy mode is available please use

572
00:23:27,130 --> 00:23:31,390
easy mode as your ad has something

573
00:23:29,500 --> 00:23:33,130
called banned passwords list it's

574
00:23:31,390 --> 00:23:35,880
amazing password protection it's like a

575
00:23:33,130 --> 00:23:38,820
literal checkbox it's great

576
00:23:35,880 --> 00:23:41,280
far more commonly though people

577
00:23:38,820 --> 00:23:44,399
attending this talk either live or

578
00:23:41,280 --> 00:23:47,460
looking at YouTube later you may not

579
00:23:44,400 --> 00:23:50,340
have as your ad so you could just dump

580
00:23:47,460 --> 00:23:53,460
password hashes and use a word list of

581
00:23:50,340 --> 00:23:55,649
just the compromised passwords nots

582
00:23:53,460 --> 00:23:57,690
doing password cracking overall because

583
00:23:55,650 --> 00:23:58,200
it's unrealistic as an attacker that I

584
00:23:57,690 --> 00:24:00,870
can do

585
00:23:58,200 --> 00:24:02,130
millions of attempts per account without

586
00:24:00,870 --> 00:24:04,049
triggering account lockout write

587
00:24:02,130 --> 00:24:06,660
password guessing is intrinsically

588
00:24:04,049 --> 00:24:08,760
different than password cracking hard

589
00:24:06,660 --> 00:24:09,929
mode therefore is doing real Krenzel

590
00:24:08,760 --> 00:24:11,908
stuffing against single factor

591
00:24:09,929 --> 00:24:15,090
authentication logon sources look I'll

592
00:24:11,909 --> 00:24:18,450
consult and do the hard mode but as a

593
00:24:15,090 --> 00:24:20,730
defender why would you write absolutely

594
00:24:18,450 --> 00:24:22,890
take advantage of the easy on-premise

595
00:24:20,730 --> 00:24:24,900
access absolutely take advantage of the

596
00:24:22,890 --> 00:24:26,850
fact that you can not trigger account

597
00:24:24,900 --> 00:24:29,010
lockout by doing password cracking

598
00:24:26,850 --> 00:24:31,289
instead so first of all I'll shout out

599
00:24:29,010 --> 00:24:34,140
and there's the link in the slide notes

600
00:24:31,289 --> 00:24:36,090
as well the on premise password

601
00:24:34,140 --> 00:24:39,000
protection of Azure well you have to be

602
00:24:36,090 --> 00:24:40,908
as your ad admin and last time I gave a

603
00:24:39,000 --> 00:24:44,429
talk at wild let's hack infest I think I

604
00:24:40,909 --> 00:24:46,860
said to deploy sis Mon link it to the

605
00:24:44,429 --> 00:24:48,910
domain room as a group policy just Yolo

606
00:24:46,860 --> 00:24:50,679
install it everywhere

607
00:24:48,910 --> 00:24:52,450
I'm pretty much saying the same thing

608
00:24:50,680 --> 00:24:55,810
today look if you're and as your ad

609
00:24:52,450 --> 00:24:57,580
admin click this checkbox you can do it

610
00:24:55,810 --> 00:25:00,820
live anybody logged in this as your ad

611
00:24:57,580 --> 00:25:03,520
admin right now just it's up Friday we

612
00:25:00,820 --> 00:25:04,659
always deploy to production on Fridays

613
00:25:03,520 --> 00:25:07,060
it'll be fine

614
00:25:04,660 --> 00:25:09,340
deploy to production on Friday the 13th

615
00:25:07,060 --> 00:25:11,500
that is my advice to you apparently I've

616
00:25:09,340 --> 00:25:14,679
forgotten everything remembered as a

617
00:25:11,500 --> 00:25:16,990
Systems Administrator make sure just in

618
00:25:14,680 --> 00:25:19,720
on it mode audit mode means upon

619
00:25:16,990 --> 00:25:21,970
passwords change essential hit deploy

620
00:25:19,720 --> 00:25:24,670
button press excellent Thank You Husker

621
00:25:21,970 --> 00:25:26,590
man zero zero seven all right so audit

622
00:25:24,670 --> 00:25:28,690
mode doesn't actually stop people who

623
00:25:26,590 --> 00:25:30,429
changed their password but enable past

624
00:25:28,690 --> 00:25:32,700
protection yes this is for your on

625
00:25:30,430 --> 00:25:35,890
premise this is not just for as your ad

626
00:25:32,700 --> 00:25:37,780
this is for on premise as well because

627
00:25:35,890 --> 00:25:39,940
in a very secure fashion I've talked to

628
00:25:37,780 --> 00:25:44,560
mark this house key about where's house

629
00:25:39,940 --> 00:25:45,910
mark M last name here about it that they

630
00:25:44,560 --> 00:25:48,909
do in very secure way but they are

631
00:25:45,910 --> 00:25:51,160
syncing hashes from on-premise to add

632
00:25:48,910 --> 00:25:53,410
your ad but it's actually a half to the

633
00:25:51,160 --> 00:25:56,470
hash essentially and they're comparing

634
00:25:53,410 --> 00:25:59,860
that hash of the hash to a band list

635
00:25:56,470 --> 00:26:02,560
it's a very very big list it's great do

636
00:25:59,860 --> 00:26:04,840
that even also remember Timothy was

637
00:26:02,560 --> 00:26:07,270
talking about packing gum early I loved

638
00:26:04,840 --> 00:26:08,679
it and you'd have that cuss I'm pointing

639
00:26:07,270 --> 00:26:10,629
up my screen right now so you can all

640
00:26:08,680 --> 00:26:13,900
see it it of course we have the custom

641
00:26:10,630 --> 00:26:18,550
band passwords list why can people use

642
00:26:13,900 --> 00:26:21,310
summer fall winter autumn spring in

643
00:26:18,550 --> 00:26:23,500
their passwords why can people use your

644
00:26:21,310 --> 00:26:26,409
company name why can people use the word

645
00:26:23,500 --> 00:26:28,360
welcome in the password that's probably

646
00:26:26,410 --> 00:26:31,440
not a great idea why can people use

647
00:26:28,360 --> 00:26:34,719
previously compromised credentials as

648
00:26:31,440 --> 00:26:37,840
their password that's what this talk is

649
00:26:34,720 --> 00:26:39,790
about fixing that problem so if you had

650
00:26:37,840 --> 00:26:41,290
your ID look there's a little bit more

651
00:26:39,790 --> 00:26:42,909
to deploying that even if you don't

652
00:26:41,290 --> 00:26:46,480
already sync but you probably already

653
00:26:42,910 --> 00:26:47,860
have as your ad sync going on legendary

654
00:26:46,480 --> 00:26:49,450
mode

655
00:26:47,860 --> 00:26:51,820
I want to talk through a little bit

656
00:26:49,450 --> 00:26:55,240
about the consulting side effects right

657
00:26:51,820 --> 00:26:56,740
my target individual human beings I try

658
00:26:55,240 --> 00:26:58,450
to do that in a very scalable way so

659
00:26:56,740 --> 00:27:00,070
I've heard you think who can I give an

660
00:26:58,450 --> 00:27:02,740
example of that probably won't mind

661
00:27:00,070 --> 00:27:05,409
being in a slide as the example and I

662
00:27:02,740 --> 00:27:07,960
did crop out some of the sources the

663
00:27:05,410 --> 00:27:10,210
domains for email addresses for John

664
00:27:07,960 --> 00:27:13,179
strand black fields information security

665
00:27:10,210 --> 00:27:13,480
owner and founder so this was finally

666
00:27:13,179 --> 00:27:15,190
dead

667
00:27:13,480 --> 00:27:17,200
right LinkedIn is really really common

668
00:27:15,190 --> 00:27:19,600
but I'm using specifically rocket reach

669
00:27:17,200 --> 00:27:21,549
it's usually meant for like marketing

670
00:27:19,600 --> 00:27:23,428
people to look up email addresses and

671
00:27:21,549 --> 00:27:26,080
even phone numbers which is terrifying

672
00:27:23,429 --> 00:27:28,240
side note there's a question about is

673
00:27:26,080 --> 00:27:30,939
the as your list limited to 500 entries

674
00:27:28,240 --> 00:27:32,980
I believe the custom password list is is

675
00:27:30,940 --> 00:27:34,929
limited but frankly I'm far less

676
00:27:32,980 --> 00:27:36,669
concerned about that because that's just

677
00:27:34,929 --> 00:27:39,190
searching for patterns essentially

678
00:27:36,669 --> 00:27:41,799
inside the password itself alright so

679
00:27:39,190 --> 00:27:44,860
for John strand if I knew John's Frank

680
00:27:41,799 --> 00:27:46,900
was at my clients company I try to look

681
00:27:44,860 --> 00:27:49,360
up everyone that's at my clients company

682
00:27:46,900 --> 00:27:51,100
all of their corporate email addresses

683
00:27:49,360 --> 00:27:53,110
because it's look some people do

684
00:27:51,100 --> 00:27:55,149
research like LinkedIn or whatever with

685
00:27:53,110 --> 00:27:57,760
their corporate email address but that's

686
00:27:55,150 --> 00:27:59,710
less likely then they're merging with

687
00:27:57,760 --> 00:28:02,200
their personal email address so one

688
00:27:59,710 --> 00:28:05,130
thing I'll try to do to correlate is to

689
00:28:02,200 --> 00:28:07,690
find for each human being at my client

690
00:28:05,130 --> 00:28:10,720
what personal email addresses do they

691
00:28:07,690 --> 00:28:15,580
have and have those ever been breached

692
00:28:10,720 --> 00:28:18,910
if so per each human grab all of those

693
00:28:15,580 --> 00:28:20,799
prior breached passwords and then well I

694
00:28:18,910 --> 00:28:24,820
don't want to do just those I'll do

695
00:28:20,799 --> 00:28:28,299
something like hash cat best 64 dot rule

696
00:28:24,820 --> 00:28:30,610
and only allow the password hashes that

697
00:28:28,299 --> 00:28:32,980
actually match complexity requirements

698
00:28:30,610 --> 00:28:35,350
of the target organization and then for

699
00:28:32,980 --> 00:28:37,090
each user I might have looks like a

700
00:28:35,350 --> 00:28:38,830
hundred account a hundred passwords to

701
00:28:37,090 --> 00:28:41,049
guess let's say I'm attacking a demotion

702
00:28:38,830 --> 00:28:42,760
Qi sorry Adam you just have to deal with

703
00:28:41,049 --> 00:28:45,820
it I might have a couple hundred

704
00:28:42,760 --> 00:28:48,879
passwords to try for Adam account

705
00:28:45,820 --> 00:28:50,320
lockout policies usually like five bad

706
00:28:48,880 --> 00:28:52,290
log attempts in a half hour

707
00:28:50,320 --> 00:28:56,269
rotating window so I might do one

708
00:28:52,290 --> 00:28:58,190
attempt per one hour per cap

709
00:28:56,269 --> 00:29:01,369
but there's a 158 hours in a given week

710
00:28:58,190 --> 00:29:04,580
I can pretty much do credential stuffing

711
00:29:01,369 --> 00:29:06,708
at a fairly low pace not lucky at

712
00:29:04,580 --> 00:29:09,739
accounts or minimizing the risk of

713
00:29:06,709 --> 00:29:11,899
locking out accounts all remotely and

714
00:29:09,739 --> 00:29:13,429
usually not causing much in the way of

715
00:29:11,899 --> 00:29:16,099
Hansel but I might get some valid

716
00:29:13,429 --> 00:29:19,099
credulous I usually only takes one to

717
00:29:16,099 --> 00:29:20,479
get inside in the environment but you

718
00:29:19,099 --> 00:29:21,559
don't need to do this as a defender you

719
00:29:20,479 --> 00:29:23,450
don't need to do this it's more

720
00:29:21,559 --> 00:29:25,700
complicated and frankly there's a higher

721
00:29:23,450 --> 00:29:27,619
risk intrinsically because password

722
00:29:25,700 --> 00:29:30,229
guessing is we've just defined it

723
00:29:27,619 --> 00:29:32,658
against the online authenticating system

724
00:29:30,229 --> 00:29:34,380
and therefore account lockout is always

725
00:29:32,659 --> 00:29:36,840
a concern

726
00:29:34,380 --> 00:29:38,370
normal difficulty if you really want to

727
00:29:36,840 --> 00:29:39,959
do e there's the thing for this called

728
00:29:38,370 --> 00:29:41,939
compromise checker it's and it's in this

729
00:29:39,960 --> 00:29:43,410
slide right here if you can deal with a

730
00:29:41,940 --> 00:29:45,420
bit of PowerShell though there is a

731
00:29:43,410 --> 00:29:46,110
PowerShell module called match ad

732
00:29:45,420 --> 00:29:48,870
hatches

733
00:29:46,110 --> 00:29:51,090
I love powershell commandlets because

734
00:29:48,870 --> 00:29:54,120
what does match ad hashes do it matches

735
00:29:51,090 --> 00:29:56,480
verb - noun match all of the Active

736
00:29:54,120 --> 00:29:58,609
Directory hashes - what

737
00:29:56,480 --> 00:30:00,950
the previously compromised ones or

738
00:29:58,609 --> 00:30:03,529
whatever hatch to tear you provide so

739
00:30:00,950 --> 00:30:05,809
the usage I I just ran this last night

740
00:30:03,529 --> 00:30:09,830
when I was finishing up my presentation

741
00:30:05,809 --> 00:30:12,739
match ad hatchets pointing to the user

742
00:30:09,830 --> 00:30:13,999
database of your organization this is

743
00:30:12,739 --> 00:30:16,549
technically password cracking new who

744
00:30:13,999 --> 00:30:18,830
can pick well you shall do in comparison

745
00:30:16,549 --> 00:30:21,100
and then hatch dictionary pointing to in

746
00:30:18,830 --> 00:30:23,480
this case have I've been posed

747
00:30:21,100 --> 00:30:26,719
previously compromised credentials list

748
00:30:23,480 --> 00:30:28,429
in ng hash format so what is the result

749
00:30:26,720 --> 00:30:30,320
look like now I'm doing the Select

750
00:30:28,429 --> 00:30:33,679
object at first one it just gives you

751
00:30:30,320 --> 00:30:36,320
the user or users if it's plural how

752
00:30:33,679 --> 00:30:39,320
badly how common that password is so the

753
00:30:36,320 --> 00:30:40,939
frequency is how many times that

754
00:30:39,320 --> 00:30:42,529
particular password hash has appeared

755
00:30:40,940 --> 00:30:45,259
and I'm gonna tell you this this

756
00:30:42,529 --> 00:30:49,249
password hash tag with v79 it's the

757
00:30:45,259 --> 00:30:53,450
password Mercedes all lowercase no

758
00:30:49,249 --> 00:30:55,789
complexity this makes me very very sad

759
00:30:53,450 --> 00:30:57,950
for this truck here kolenda I was

760
00:30:55,789 --> 00:30:59,869
testing with us right so frequency being

761
00:30:57,950 --> 00:31:01,669
high means it's a commonly reused

762
00:30:59,869 --> 00:31:04,279
credential really common pattern

763
00:31:01,669 --> 00:31:06,619
frequency B being low is a stronger

764
00:31:04,279 --> 00:31:08,570
indicator that it might be that human

765
00:31:06,619 --> 00:31:11,359
beings fire password and look at

766
00:31:08,570 --> 00:31:13,450
frequency as one boy I hunted have my

767
00:31:11,359 --> 00:31:17,418
bonus only seen that password once

768
00:31:13,450 --> 00:31:19,249
that's not a great son all right art too

769
00:31:17,419 --> 00:31:22,100
so I showed you the overview the actual

770
00:31:19,249 --> 00:31:25,070
commands for match ad hatches I shall

771
00:31:22,100 --> 00:31:27,859
give user underscore hash txt the format

772
00:31:25,070 --> 00:31:29,989
is just the user name colon the ng hash

773
00:31:27,859 --> 00:31:33,529
notice I had the domain name on the

774
00:31:29,989 --> 00:31:37,940
prior slide as well so I'm a huge fan of

775
00:31:33,529 --> 00:31:39,859
nice safe easily discussable methods of

776
00:31:37,940 --> 00:31:42,739
gaining password hashes with my client

777
00:31:39,859 --> 00:31:46,100
I love NTDs util there's a certain tier

778
00:31:42,739 --> 00:31:48,919
of trust when it comes to this binary is

779
00:31:46,100 --> 00:31:52,428
Microsoft signed can I run it on your

780
00:31:48,919 --> 00:31:52,820
environment Microsoft signed it go right

781
00:31:52,429 --> 00:31:54,259
ahead

782
00:31:52,820 --> 00:31:57,049
where do you want to run it which

783
00:31:54,259 --> 00:31:59,090
credentials right NDSU Tillich is used

784
00:31:57,049 --> 00:32:01,789
for many things but in this case making

785
00:31:59,090 --> 00:32:04,220
an install from media backed up this is

786
00:32:01,789 --> 00:32:05,960
the right way to dump password hashes

787
00:32:04,220 --> 00:32:06,889
safely if you do things like volume

788
00:32:05,960 --> 00:32:09,779
Shadow Copy

789
00:32:06,889 --> 00:32:13,289
or reboot a domain controller in a very

790
00:32:09,779 --> 00:32:14,700
load or DC sync with mini cats but if I

791
00:32:13,289 --> 00:32:18,179
talk to an active directory admin and

792
00:32:14,700 --> 00:32:23,460
say hi I'd like to run code from the

793
00:32:18,179 --> 00:32:26,609
mini cats to dump password hashes from a

794
00:32:23,460 --> 00:32:28,649
domain controller by pretending to be a

795
00:32:26,609 --> 00:32:31,080
new domain controller inside your

796
00:32:28,649 --> 00:32:31,820
environment that conversation doesn't go

797
00:32:31,080 --> 00:32:34,529
very well

798
00:32:31,820 --> 00:32:36,869
NTDs util though that's an easy

799
00:32:34,529 --> 00:32:39,929
conversation to have right and there you

800
00:32:36,869 --> 00:32:41,099
can shorten the command look last time I

801
00:32:39,929 --> 00:32:43,259
ran this it was literally by a

802
00:32:41,099 --> 00:32:44,999
meterpreter shell because it turns out

803
00:32:43,259 --> 00:32:46,769
it's easy to get butter butter inside of

804
00:32:44,999 --> 00:32:50,149
modern environments because AV evasion

805
00:32:46,769 --> 00:32:53,429
is trivial because AV as an industry is

806
00:32:50,149 --> 00:32:56,279
I'd stop myself from saying fraud but I

807
00:32:53,429 --> 00:32:58,500
wanted to have like 90% oh that's anyway

808
00:32:56,279 --> 00:33:00,400
moving on

809
00:32:58,500 --> 00:33:03,400
part three

810
00:33:00,400 --> 00:33:06,010
course treat and GBS utilize this backup

811
00:33:03,400 --> 00:33:09,700
you just created very very carefully

812
00:33:06,010 --> 00:33:15,129
password hashes our credentials password

813
00:33:09,700 --> 00:33:18,130
matches our credentials every form of

814
00:33:15,130 --> 00:33:21,610
network authentication for on-premise

815
00:33:18,130 --> 00:33:23,230
Active Directory for Kerberos for any

816
00:33:21,610 --> 00:33:27,280
land for land man challenge spots for

817
00:33:23,230 --> 00:33:29,080
insulin V 1 and V 2 they're all thanks

818
00:33:27,280 --> 00:33:32,139
for toward repeating that one they're

819
00:33:29,080 --> 00:33:33,939
all using the password hash as the

820
00:33:32,140 --> 00:33:35,860
shared secret when you want them to keep

821
00:33:33,940 --> 00:33:39,160
over the network by Angelo b2 by

822
00:33:35,860 --> 00:33:41,350
Kerberos via win RM via PS exactly

823
00:33:39,160 --> 00:33:43,510
whatever you're using on film

824
00:33:41,350 --> 00:33:45,790
technologies the shared secret the thing

825
00:33:43,510 --> 00:33:46,740
you're proving access to is the password

826
00:33:45,790 --> 00:33:49,480
hash

827
00:33:46,740 --> 00:33:51,520
so those NGVs YouTube files

828
00:33:49,480 --> 00:33:53,080
that's keys to the kingdom until

829
00:33:51,520 --> 00:33:55,210
everyone in the environment change their

830
00:33:53,080 --> 00:33:56,409
password along with the car PGG but I'm

831
00:33:55,210 --> 00:33:59,200
not going to talk about golden ticket

832
00:33:56,410 --> 00:34:00,850
that's just now so treat those files

833
00:33:59,200 --> 00:34:02,800
very carefully look if someone already

834
00:34:00,850 --> 00:34:04,240
compromised a domain controller I'm

835
00:34:02,800 --> 00:34:05,940
going to say this is live on the webcast

836
00:34:04,240 --> 00:34:07,860
your boat

837
00:34:05,940 --> 00:34:10,380
but if you're copying them elsewhere

838
00:34:07,860 --> 00:34:12,620
treat that box just as importantly as a

839
00:34:10,380 --> 00:34:15,679
domain controller recommendation here

840
00:34:12,620 --> 00:34:19,020
you have a process for imaging a laptop

841
00:34:15,679 --> 00:34:21,150
use a fresh image do this password on it

842
00:34:19,020 --> 00:34:24,239
and then reimage it afterwards good to

843
00:34:21,150 --> 00:34:26,550
go so the easiest way to extract

844
00:34:24,239 --> 00:34:28,739
password hashes from them nhts util back

845
00:34:26,550 --> 00:34:31,230
up something called impact or one

846
00:34:28,739 --> 00:34:34,678
specific module in there called secret

847
00:34:31,230 --> 00:34:37,168
stuff py but Colleen felt as impacted -

848
00:34:34,679 --> 00:34:38,730
secret stuff so I have the exact syntax

849
00:34:37,168 --> 00:34:41,190
here it's the exact working syntax

850
00:34:38,730 --> 00:34:42,570
because as it turns out the NGS usually

851
00:34:41,190 --> 00:34:44,280
will make a couple of directories

852
00:34:42,570 --> 00:34:46,110
wherever and sub directories of where

853
00:34:44,280 --> 00:34:48,600
you'd like to so I did C colon backslash

854
00:34:46,110 --> 00:34:51,120
I'm pointing at my screen again path to

855
00:34:48,600 --> 00:34:53,699
backup it would make two subfolders one

856
00:34:51,120 --> 00:34:55,659
called active directory and one called

857
00:34:53,699 --> 00:34:57,220
registry

858
00:34:55,659 --> 00:34:59,349
the Active Directory folder is gonna

859
00:34:57,220 --> 00:35:01,419
have a file called NGOs death then it's

860
00:34:59,349 --> 00:35:03,190
like the Corps beating heart of Active

861
00:35:01,420 --> 00:35:05,109
Directory itself and those password

862
00:35:03,190 --> 00:35:08,019
hashes are actually technically

863
00:35:05,109 --> 00:35:09,690
encrypted but they're encrypted using

864
00:35:08,019 --> 00:35:12,879
keys that are stored in the registry

865
00:35:09,690 --> 00:35:15,039
this is my favorite example of encrypted

866
00:35:12,880 --> 00:35:17,140
does not mean the game is over you don't

867
00:35:15,039 --> 00:35:20,319
to worry encrypted means where's the key

868
00:35:17,140 --> 00:35:22,690
I taught at military base recently and I

869
00:35:20,319 --> 00:35:24,130
was teaching normal Sam's class and look

870
00:35:22,690 --> 00:35:25,779
in the back of the room and like oh hey

871
00:35:24,130 --> 00:35:28,029
look there's a network cabin in the back

872
00:35:25,779 --> 00:35:31,540
of room and it is locked it meets the

873
00:35:28,029 --> 00:35:33,580
requirement check for being locked

874
00:35:31,540 --> 00:35:34,720
is it a useful lock though because the

875
00:35:33,580 --> 00:35:39,529
following questions always will where's

876
00:35:34,720 --> 00:35:42,410
the key the key is stored in the lock

877
00:35:39,530 --> 00:35:45,500
we can all agree it meets the check mark

878
00:35:42,410 --> 00:35:48,140
of it is it's it's locked

879
00:35:45,500 --> 00:35:49,640
absolutely but is it a useful lock I

880
00:35:48,140 --> 00:35:51,920
think we can agree that's a less useful

881
00:35:49,640 --> 00:35:53,450
lock if the key is stored physically in

882
00:35:51,920 --> 00:35:55,810
the lock and yes it was a crappy way for

883
00:35:53,450 --> 00:35:58,839
lock Ron all right

884
00:35:55,810 --> 00:36:02,049
okay so the impact hits commands as

885
00:35:58,840 --> 00:36:04,270
listed there staves out let's do secret

886
00:36:02,050 --> 00:36:05,800
stuff let's see the output file it'll

887
00:36:04,270 --> 00:36:06,820
save a number of files and we'll see

888
00:36:05,800 --> 00:36:10,000
good stuff that's actually technically a

889
00:36:06,820 --> 00:36:13,330
prefix fever stuff NGS will be the

890
00:36:10,000 --> 00:36:15,580
domain hatches and Landman NT format

891
00:36:13,330 --> 00:36:17,620
some say take the first field to the

892
00:36:15,580 --> 00:36:19,509
username and the fourth field which is

893
00:36:17,620 --> 00:36:21,190
the NT hatch and save it as a file

894
00:36:19,510 --> 00:36:23,410
called user underscore half dot txt

895
00:36:21,190 --> 00:36:26,290
that's the exact file name I mentioned

896
00:36:23,410 --> 00:36:27,220
before so some people might be saying oh

897
00:36:26,290 --> 00:36:30,910
gosh

898
00:36:27,220 --> 00:36:33,069
Kaali I could do Kaali on a VM or there

899
00:36:30,910 --> 00:36:35,290
is windows subsystem for Linux is weird

900
00:36:33,070 --> 00:36:36,790
nowadays yeah Ubuntu as just one more

901
00:36:35,290 --> 00:36:39,040
application with the terminal there's

902
00:36:36,790 --> 00:36:40,960
also Kali just installable from the

903
00:36:39,040 --> 00:36:43,259
Windows Store we live in a weird world

904
00:36:40,960 --> 00:36:47,620
also you can install powershell on

905
00:36:43,260 --> 00:36:49,480
freebsd and mac OS and linux now this is

906
00:36:47,620 --> 00:36:52,120
a weird weird world we live in

907
00:36:49,480 --> 00:36:55,330
oh yes and the Indies with a few secrets

908
00:36:52,120 --> 00:36:58,900
up from Kali you can get in packets from

909
00:36:55,330 --> 00:37:00,970
like compiled binaries from - pi to exe

910
00:36:58,900 --> 00:37:02,410
and such your PI installer I didn't want

911
00:37:00,970 --> 00:37:05,919
to have a recommendation in my slides

912
00:37:02,410 --> 00:37:07,870
for take somebody else's compiled binary

913
00:37:05,920 --> 00:37:09,760
download to your machine and give it

914
00:37:07,870 --> 00:37:12,339
access to password hashes so I decided

915
00:37:09,760 --> 00:37:13,000
instead to give recommendations to point

916
00:37:12,340 --> 00:37:16,060
to the source

917
00:37:13,000 --> 00:37:18,880
some organizations NIST has special

918
00:37:16,060 --> 00:37:21,460
powers for all of the gummies right the

919
00:37:18,880 --> 00:37:24,880
government folk in the room did you know

920
00:37:21,460 --> 00:37:26,920
mistre choirs you to rotate compromised

921
00:37:24,880 --> 00:37:29,500
credentials you must force a password

922
00:37:26,920 --> 00:37:33,520
change if there's an own complex

923
00:37:29,500 --> 00:37:37,570
Princeville well we could I suppose as a

924
00:37:33,520 --> 00:37:39,040
strategic plan just never ever look to

925
00:37:37,570 --> 00:37:42,340
see if any of our crystals are already

926
00:37:39,040 --> 00:37:44,920
compromised but that seems like a little

927
00:37:42,340 --> 00:37:49,480
bit willful ignorance so you kind of

928
00:37:44,920 --> 00:37:51,520
should write use NIST as your excuse to

929
00:37:49,480 --> 00:37:54,610
check for already compromised

930
00:37:51,520 --> 00:37:56,830
credentials right so just for some

931
00:37:54,610 --> 00:37:59,440
organizations yes the new NIST standards

932
00:37:56,830 --> 00:38:02,170
actually recommend no longer requiring

933
00:37:59,440 --> 00:38:04,570
pasteurization attachment expiration

934
00:38:02,170 --> 00:38:06,520
except if that password is known to be

935
00:38:04,570 --> 00:38:09,040
compromised which is the excuse that you

936
00:38:06,520 --> 00:38:09,190
needed not the one you deserved in order

937
00:38:09,040 --> 00:38:11,589
to

938
00:38:09,190 --> 00:38:13,839
a check for already compromised

939
00:38:11,589 --> 00:38:15,759
credentials it also no longer recommends

940
00:38:13,839 --> 00:38:17,799
password complexity because as it turns

941
00:38:15,760 --> 00:38:20,369
out people just append one or

942
00:38:17,800 --> 00:38:23,109
exclamation point to a capitalized word

943
00:38:20,369 --> 00:38:25,089
we have the old phrase and it's a good

944
00:38:23,109 --> 00:38:26,319
phrase prevention is ideal but detection

945
00:38:25,089 --> 00:38:28,630
is a must I wanted to have a little

946
00:38:26,319 --> 00:38:30,819
shout out for my new phrase the new

947
00:38:28,630 --> 00:38:31,660
phrase to take away prevention is

948
00:38:30,819 --> 00:38:35,200
impossible

949
00:38:31,660 --> 00:38:37,060
people will land on essentially random

950
00:38:35,200 --> 00:38:40,210
end points maybe by credential stuffing

951
00:38:37,060 --> 00:38:41,529
maybe vibe fishing

952
00:38:40,210 --> 00:38:42,940
and that's about it those are the main

953
00:38:41,530 --> 00:38:44,859
two methods people get inside your

954
00:38:42,940 --> 00:38:47,470
apartment darn other methods of initial

955
00:38:44,859 --> 00:38:49,960
access but it's fairly rare for

956
00:38:47,470 --> 00:38:52,899
realistic real-world adversaries to show

957
00:38:49,960 --> 00:38:55,089
up on site with a I ll USB rubber ducky

958
00:38:52,900 --> 00:38:56,980
fine and unattended but logged in

959
00:38:55,089 --> 00:38:58,779
machine and get their payload running by

960
00:38:56,980 --> 00:39:01,690
keystroke injection that's fairly rare

961
00:38:58,780 --> 00:39:04,450
for realistic passwords are realistic

962
00:39:01,690 --> 00:39:07,420
attacks and my job as a penetration

963
00:39:04,450 --> 00:39:09,759
tester is to model real-world realistic

964
00:39:07,420 --> 00:39:14,020
penetration test people will land on

965
00:39:09,760 --> 00:39:15,970
your endpoints hopefully slim user

966
00:39:14,020 --> 00:39:18,840
hopefully

967
00:39:15,970 --> 00:39:21,540
let me phrase it differently

968
00:39:18,840 --> 00:39:23,030
breaches are when attackers make it

969
00:39:21,540 --> 00:39:25,350
through steps one through four

970
00:39:23,030 --> 00:39:29,130
compromise is when they land on initial

971
00:39:25,350 --> 00:39:31,259
endpoint compromise is inevitable you

972
00:39:29,130 --> 00:39:32,940
can work around it and please I am just

973
00:39:31,260 --> 00:39:34,320
I want a shout out in the the slide

974
00:39:32,940 --> 00:39:36,210
notes hey Ron

975
00:39:34,320 --> 00:39:38,810
what's that link for social engineering

976
00:39:36,210 --> 00:39:42,800
Kayla's a patient in the chat please

977
00:39:38,810 --> 00:39:47,960
shut up for why can your users execute

978
00:39:42,800 --> 00:39:50,240
code from over email what why he's gonna

979
00:39:47,960 --> 00:39:51,080
let like macros are a good place to

980
00:39:50,240 --> 00:39:52,490
start don't get me wrong

981
00:39:51,080 --> 00:39:54,799
last breach I worked with incident

982
00:39:52,490 --> 00:39:57,319
response a city was ransomware because

983
00:39:54,800 --> 00:39:59,180
someone opened a do see were documented

984
00:39:57,320 --> 00:40:01,610
with macros enabled that gained the

985
00:39:59,180 --> 00:40:03,680
initial code execution but there are

986
00:40:01,610 --> 00:40:06,980
lots of methods of Constitution that

987
00:40:03,680 --> 00:40:08,540
your regular users can do over email why

988
00:40:06,980 --> 00:40:10,850
which ones

989
00:40:08,540 --> 00:40:12,730
you know let's once take a look at that

990
00:40:10,850 --> 00:40:15,440
right prevention is impossible but

991
00:40:12,730 --> 00:40:17,510
lockdown the methods that look per in

992
00:40:15,440 --> 00:40:19,130
his idea of sure it's ideal but it's

993
00:40:17,510 --> 00:40:20,090
also a plus it's both those things

994
00:40:19,130 --> 00:40:22,220
simultaneously

995
00:40:20,090 --> 00:40:24,140
lockdown the methods of connotations

996
00:40:22,220 --> 00:40:25,700
regular users that you don't use inside

997
00:40:24,140 --> 00:40:27,140
your organization how do you know which

998
00:40:25,700 --> 00:40:29,629
ones they use and don't use you're gonna

999
00:40:27,140 --> 00:40:31,549
have to audit and logging before you

1000
00:40:29,630 --> 00:40:33,470
make sweeping changes except for

1001
00:40:31,550 --> 00:40:36,350
enabling as your ad van passwords just

1002
00:40:33,470 --> 00:40:38,930
yellow click that check block / mentions

1003
00:40:36,350 --> 00:40:39,560
the possible therefore detection is a

1004
00:40:38,930 --> 00:40:41,990
must

1005
00:40:39,560 --> 00:40:44,360
thank you Ron Franklin that link that's

1006
00:40:41,990 --> 00:40:46,220
the end of my regular discussion any

1007
00:40:44,360 --> 00:40:48,350
questions in the chat room please bring

1008
00:40:46,220 --> 00:40:50,149
them up as we go do many many things to

1009
00:40:48,350 --> 00:40:52,400
almost a confessed I know it's a lot

1010
00:40:50,150 --> 00:40:55,700
more than John's franso special thanks

1011
00:40:52,400 --> 00:40:58,430
to Deb and John and John's Tran and

1012
00:40:55,700 --> 00:41:00,379
Jason Blanchard I know they've had very

1013
00:40:58,430 --> 00:41:02,210
very busy time putting this together

1014
00:41:00,380 --> 00:41:03,830
thanks to all of you on the chat this

1015
00:41:02,210 --> 00:41:07,940
has been an awesome presentation I get

1016
00:41:03,830 --> 00:41:10,430
involved with loving it and I do have a

1017
00:41:07,940 --> 00:41:12,470
spot for questions and as always my

1018
00:41:10,430 --> 00:41:14,899
slides are online this is literally the

1019
00:41:12,470 --> 00:41:16,879
bitly link yes yes click on my bitly

1020
00:41:14,900 --> 00:41:18,710
link haha this is literally the link to

1021
00:41:16,880 --> 00:41:20,630
the presentation I'm giving now now I'm

1022
00:41:18,710 --> 00:41:23,240
pretty sure couples to end the meeting

1023
00:41:20,630 --> 00:41:25,340
for everyone right that's gonna cause us

1024
00:41:23,240 --> 00:41:31,810
to have a good time please don't do that

1025
00:41:25,340 --> 00:41:31,810
for us Jeff I got you back I got you fam

