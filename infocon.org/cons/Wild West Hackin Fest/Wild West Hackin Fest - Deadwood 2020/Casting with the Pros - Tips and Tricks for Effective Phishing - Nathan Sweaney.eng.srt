1
00:00:01,199 --> 00:00:05,838
it is time for our next talk

2
00:00:03,439 --> 00:00:07,279
here in track two with nathan sweeney uh

3
00:00:05,839 --> 00:00:08,960
nathan's title of this talk is

4
00:00:07,279 --> 00:00:10,320
casting with the pros tips and tricks

5
00:00:08,960 --> 00:00:12,160
for effective fishing

6
00:00:10,320 --> 00:00:14,240
at that anytime you have any issues

7
00:00:12,160 --> 00:00:15,200
please post it in the discord and i'll

8
00:00:14,240 --> 00:00:16,720
take a look

9
00:00:15,200 --> 00:00:18,640
but other than that let's turn it over

10
00:00:16,720 --> 00:00:19,359
to nathan from secure ideas and thank

11
00:00:18,640 --> 00:00:20,400
you for being here

12
00:00:19,359 --> 00:00:22,800
and thank you all for being here on

13
00:00:20,400 --> 00:00:24,320
track too thanks jason

14
00:00:22,800 --> 00:00:25,599
normally when i'm speaking in public

15
00:00:24,320 --> 00:00:26,320
this is the time where i ask the

16
00:00:25,599 --> 00:00:28,000
audience like

17
00:00:26,320 --> 00:00:30,080
are we mostly red team are we mostly

18
00:00:28,000 --> 00:00:31,920
blue time try to get a feel for

19
00:00:30,080 --> 00:00:33,760
you know who's management and just get a

20
00:00:31,920 --> 00:00:35,120
feel for the audience so feel free if

21
00:00:33,760 --> 00:00:36,000
you're red team blue team throw that

22
00:00:35,120 --> 00:00:38,559
discord let me

23
00:00:36,000 --> 00:00:39,280
give you an idea that kind of helps me

24
00:00:38,559 --> 00:00:41,199
target

25
00:00:39,280 --> 00:00:43,280
the talk a little bit seeing lots of

26
00:00:41,200 --> 00:00:45,039
blue a few reds mixed in here

27
00:00:43,280 --> 00:00:46,640
all right so we'll we'll go purple i

28
00:00:45,039 --> 00:00:48,000
like it usually there's a couple there

29
00:00:46,640 --> 00:00:49,520
you go executive leadership some

30
00:00:48,000 --> 00:00:50,800
management folks that don't really

31
00:00:49,520 --> 00:00:54,480
understand either term but

32
00:00:50,800 --> 00:00:54,959
are here just in case so awesome so this

33
00:00:54,480 --> 00:00:57,279
talk

34
00:00:54,960 --> 00:00:58,000
i basically put this together as a you

35
00:00:57,280 --> 00:00:59,520
know hey we do

36
00:00:58,000 --> 00:01:02,079
phishing as part of our security

37
00:00:59,520 --> 00:01:03,520
consulting engagements interesting

38
00:01:02,079 --> 00:01:04,720
testing red team that sort of thing

39
00:01:03,520 --> 00:01:06,479
we've been doing it for a long time i've

40
00:01:04,720 --> 00:01:08,240
got a lot of experience of figuring out

41
00:01:06,479 --> 00:01:10,240
what works well what doesn't

42
00:01:08,240 --> 00:01:11,759
made a lot of mistakes along the way and

43
00:01:10,240 --> 00:01:14,798
so this is basically just kind of

44
00:01:11,760 --> 00:01:16,080
some tips and tricks for things that

45
00:01:14,799 --> 00:01:17,680
will hopefully maybe help you be a

46
00:01:16,080 --> 00:01:18,880
little bit more efficient more effective

47
00:01:17,680 --> 00:01:20,000
or if you're on the blue team

48
00:01:18,880 --> 00:01:21,439
some things to think about how do we

49
00:01:20,000 --> 00:01:22,960
defend against this how do we prevent

50
00:01:21,439 --> 00:01:24,798
that how do we train people

51
00:01:22,960 --> 00:01:26,320
to watch out for this sort of thing so

52
00:01:24,799 --> 00:01:28,960
that's what i'm going for

53
00:01:26,320 --> 00:01:30,559
there's nothing on here that's just well

54
00:01:28,960 --> 00:01:31,119
i i'll skip ahead you'll see what's in

55
00:01:30,560 --> 00:01:32,720
here

56
00:01:31,119 --> 00:01:34,720
so this is me i'm not gonna spend a lot

57
00:01:32,720 --> 00:01:35,360
of time on my intro i have to brag about

58
00:01:34,720 --> 00:01:36,798
this picture

59
00:01:35,360 --> 00:01:38,640
i was in the bahamas speaking of the

60
00:01:36,799 --> 00:01:40,880
conference about a month and a half ago

61
00:01:38,640 --> 00:01:42,159
and i looked up i'm eating dinner and i

62
00:01:40,880 --> 00:01:42,960
look up and there's the sign that says

63
00:01:42,159 --> 00:01:44,399
no hacking

64
00:01:42,960 --> 00:01:45,759
i'm like oh my gosh that's awesome so i

65
00:01:44,399 --> 00:01:46,079
went i had to get my picture taken with

66
00:01:45,759 --> 00:01:48,240
it

67
00:01:46,079 --> 00:01:49,360
turns out down there hacking is the term

68
00:01:48,240 --> 00:01:50,960
they use for

69
00:01:49,360 --> 00:01:53,119
when somebody has a car and pretends to

70
00:01:50,960 --> 00:01:54,158
be a taxi but they they're not licensed

71
00:01:53,119 --> 00:01:56,320
by the government so

72
00:01:54,159 --> 00:01:58,399
they call it hacking and uh anyway this

73
00:01:56,320 --> 00:01:59,839
this dude saw me taking a picture and he

74
00:01:58,399 --> 00:02:01,759
had no idea what i was doing he didn't

75
00:01:59,840 --> 00:02:03,200
understand that at all but uh

76
00:02:01,759 --> 00:02:04,880
i thought it was pretty cool you can

77
00:02:03,200 --> 00:02:06,719
catch me on twitter at sweeney i have a

78
00:02:04,880 --> 00:02:08,079
fantastic story that i need to tell one

79
00:02:06,719 --> 00:02:10,560
of these days about how i

80
00:02:08,080 --> 00:02:11,599
confiscated that uh handle from a

81
00:02:10,560 --> 00:02:13,440
neo-nazi

82
00:02:11,599 --> 00:02:14,959
good good times and you can also find me

83
00:02:13,440 --> 00:02:16,160
nathan securities.com i'm the only

84
00:02:14,959 --> 00:02:17,360
nathan sweeney in the world so if you

85
00:02:16,160 --> 00:02:18,799
can spell my name right

86
00:02:17,360 --> 00:02:21,920
pretty much everything on google is

87
00:02:18,800 --> 00:02:23,599
about me i'm also i will say i am a

88
00:02:21,920 --> 00:02:24,958
professional security consultant we use

89
00:02:23,599 --> 00:02:26,480
secure ideas we use the tag

90
00:02:24,959 --> 00:02:27,440
professionally evil and we

91
00:02:26,480 --> 00:02:29,519
put a lot of emphasis on that

92
00:02:27,440 --> 00:02:32,319
professional side with that said

93
00:02:29,520 --> 00:02:33,680
i am not a criminal so my talk today or

94
00:02:32,319 --> 00:02:34,079
all the examples and things that i'm

95
00:02:33,680 --> 00:02:36,800
going to

96
00:02:34,080 --> 00:02:37,360
be giving you are from the perspective

97
00:02:36,800 --> 00:02:40,239
of

98
00:02:37,360 --> 00:02:41,680
a good guy right the the non-criminal

99
00:02:40,239 --> 00:02:42,640
who's trying to help organizations

100
00:02:41,680 --> 00:02:44,319
become better

101
00:02:42,640 --> 00:02:46,640
using phishing and red team examples and

102
00:02:44,319 --> 00:02:48,560
stuff like that so if you are a criminal

103
00:02:46,640 --> 00:02:50,480
uh your results may vary take this with

104
00:02:48,560 --> 00:02:52,800
a grain of salt

105
00:02:50,480 --> 00:02:53,920
the obligatory agenda slide basically we

106
00:02:52,800 --> 00:02:54,800
got four different topics here we're

107
00:02:53,920 --> 00:02:55,920
going to be talking about

108
00:02:54,800 --> 00:02:58,400
i'm going to talk about some some

109
00:02:55,920 --> 00:03:00,879
considerations for campaign design

110
00:02:58,400 --> 00:03:02,400
some targeting stuff infrastructure set

111
00:03:00,879 --> 00:03:04,000
up some ideas not going to spend a lot

112
00:03:02,400 --> 00:03:05,680
of time on that but touch briefly and

113
00:03:04,000 --> 00:03:09,040
then a little bit on

114
00:03:05,680 --> 00:03:11,040
bypassing defenses and um stuff there

115
00:03:09,040 --> 00:03:13,040
oh i didn't mention also i'm gonna do my

116
00:03:11,040 --> 00:03:14,319
best to i've got discord over here on my

117
00:03:13,040 --> 00:03:15,040
left i'm gonna do my best to try to

118
00:03:14,319 --> 00:03:16,958
watch it

119
00:03:15,040 --> 00:03:18,400
if you have questions as i go please

120
00:03:16,959 --> 00:03:20,159
feel free i

121
00:03:18,400 --> 00:03:22,400
love when i'm speaking to have the

122
00:03:20,159 --> 00:03:23,599
audience engage and participate and ask

123
00:03:22,400 --> 00:03:24,319
questions and kind of help direct the

124
00:03:23,599 --> 00:03:25,920
talk

125
00:03:24,319 --> 00:03:27,760
that's going to be more difficult to do

126
00:03:25,920 --> 00:03:28,319
in this format but i will try to watch

127
00:03:27,760 --> 00:03:29,679
if

128
00:03:28,319 --> 00:03:30,879
i miss your question i think jason's

129
00:03:29,680 --> 00:03:31,599
going to watch and we'll cover that back

130
00:03:30,879 --> 00:03:33,120
at the end

131
00:03:31,599 --> 00:03:34,798
or there may be some that i just put off

132
00:03:33,120 --> 00:03:35,360
till the end you know if i feel like i

133
00:03:34,799 --> 00:03:37,280
need to

134
00:03:35,360 --> 00:03:39,440
keep going but dude definitely feel free

135
00:03:37,280 --> 00:03:42,159
to throw those up there

136
00:03:39,440 --> 00:03:43,680
so fishing why do we fish just kind of a

137
00:03:42,159 --> 00:03:44,640
level set to talk about why we fish in

138
00:03:43,680 --> 00:03:46,959
the first place

139
00:03:44,640 --> 00:03:48,319
fishing is sexy it's fun everybody likes

140
00:03:46,959 --> 00:03:49,519
to do it sometimes

141
00:03:48,319 --> 00:03:51,119
it's a lot better than fishing right

142
00:03:49,519 --> 00:03:52,400
nobody likes to make those phone calls

143
00:03:51,120 --> 00:03:53,680
but

144
00:03:52,400 --> 00:03:55,760
fishing is one of those things that can

145
00:03:53,680 --> 00:03:57,360
be really exciting to do

146
00:03:55,760 --> 00:03:58,879
and yet also really easy to forget the

147
00:03:57,360 --> 00:04:00,319
point you know sometimes we get

148
00:03:58,879 --> 00:04:02,079
so caught up in the mechanics of it we

149
00:04:00,319 --> 00:04:03,518
get so caught up in the you know the

150
00:04:02,080 --> 00:04:04,560
epic attack that we're doing that we

151
00:04:03,519 --> 00:04:06,720
forget

152
00:04:04,560 --> 00:04:08,159
what are we here for what are we doing a

153
00:04:06,720 --> 00:04:09,599
couple reasons you know things to think

154
00:04:08,159 --> 00:04:11,120
about me where is vulnerable we all talk

155
00:04:09,599 --> 00:04:12,480
about software and hardware we know that

156
00:04:11,120 --> 00:04:13,599
meatware is one of the most vulnerable

157
00:04:12,480 --> 00:04:16,000
parts of organizations

158
00:04:13,599 --> 00:04:17,759
we know that a lot of recent breaches

159
00:04:16,000 --> 00:04:20,560
have been specifically

160
00:04:17,759 --> 00:04:22,240
started through some sort of fishing or

161
00:04:20,560 --> 00:04:22,880
some sort of social engineering right we

162
00:04:22,240 --> 00:04:25,280
know that

163
00:04:22,880 --> 00:04:26,800
that much as as much effort and money as

164
00:04:25,280 --> 00:04:27,520
as companies put into their defensive

165
00:04:26,800 --> 00:04:30,720
posture

166
00:04:27,520 --> 00:04:33,280
often the users are the weakest

167
00:04:30,720 --> 00:04:34,720
point of that user awareness training

168
00:04:33,280 --> 00:04:36,000
obviously sometimes we have different

169
00:04:34,720 --> 00:04:37,600
types of phishing whether it's

170
00:04:36,000 --> 00:04:39,360
you know going after specific people to

171
00:04:37,600 --> 00:04:39,840
demonstrate you know what an attacker

172
00:04:39,360 --> 00:04:41,440
could do

173
00:04:39,840 --> 00:04:42,719
or whether it's just to train users

174
00:04:41,440 --> 00:04:43,199
we'll speak a little bit more on that

175
00:04:42,720 --> 00:04:44,960
later

176
00:04:43,199 --> 00:04:46,560
but that's an example and then also

177
00:04:44,960 --> 00:04:47,680
executive impact sometimes

178
00:04:46,560 --> 00:04:49,680
you know putting that out there and

179
00:04:47,680 --> 00:04:50,720
letting executives see hey this is what

180
00:04:49,680 --> 00:04:53,040
could really happen

181
00:04:50,720 --> 00:04:54,400
has a much bigger impact than just

182
00:04:53,040 --> 00:04:56,400
assuming you know hey we've seen the

183
00:04:54,400 --> 00:04:58,080
scan results we know what's going on

184
00:04:56,400 --> 00:04:59,599
lance asked in india says does anyone's

185
00:04:58,080 --> 00:05:01,440
company fire people who fail phishing

186
00:04:59,600 --> 00:05:03,919
tests i've not seen people fire

187
00:05:01,440 --> 00:05:05,120
but i have seen a trend in the financial

188
00:05:03,919 --> 00:05:08,639
services industry

189
00:05:05,120 --> 00:05:11,440
most of the major banks now tie bonuses

190
00:05:08,639 --> 00:05:12,240
and kpis directly to how they do on

191
00:05:11,440 --> 00:05:13,360
fishing results

192
00:05:12,240 --> 00:05:14,960
i participate in a couple of

193
00:05:13,360 --> 00:05:16,160
associations where i'm on some of their

194
00:05:14,960 --> 00:05:17,758
security committees

195
00:05:16,160 --> 00:05:19,360
and that is something that in the last

196
00:05:17,759 --> 00:05:20,560
year i have seen

197
00:05:19,360 --> 00:05:22,560
although i'm not going to mention names

198
00:05:20,560 --> 00:05:23,520
but basically if you use one of the top

199
00:05:22,560 --> 00:05:25,600
10 banks

200
00:05:23,520 --> 00:05:26,960
they probably have their people doing

201
00:05:25,600 --> 00:05:28,720
fishing exercises

202
00:05:26,960 --> 00:05:30,638
and those are being tied to whether or

203
00:05:28,720 --> 00:05:32,320
not either as an individual they get a

204
00:05:30,639 --> 00:05:34,160
bonus or whether or not the whole team

205
00:05:32,320 --> 00:05:36,240
gets a bonus so that's an interesting

206
00:05:34,160 --> 00:05:37,840
interesting trend i did not expect

207
00:05:36,240 --> 00:05:39,680
in this talk i'm going to talk about the

208
00:05:37,840 --> 00:05:40,719
latest greatest executable payloads if

209
00:05:39,680 --> 00:05:42,960
you're if you're

210
00:05:40,720 --> 00:05:44,960
an expert fisher we're going to outline

211
00:05:42,960 --> 00:05:45,680
the coolest attacks that you can do that

212
00:05:44,960 --> 00:05:48,239
will get past

213
00:05:45,680 --> 00:05:49,360
all of the blue team's defenses and you

214
00:05:48,240 --> 00:05:50,720
know we're going to drop some

215
00:05:49,360 --> 00:05:52,400
no no we're not there's not going to be

216
00:05:50,720 --> 00:05:53,520
any zero day if you've been doing this

217
00:05:52,400 --> 00:05:55,679
for a long time

218
00:05:53,520 --> 00:05:57,919
you may not learn anything new hopefully

219
00:05:55,680 --> 00:05:59,199
i can give you some ideas maybe kind of

220
00:05:57,919 --> 00:05:59,919
give you some tips and tricks and things

221
00:05:59,199 --> 00:06:01,840
to try

222
00:05:59,919 --> 00:06:03,758
but ultimately my my goal is just to

223
00:06:01,840 --> 00:06:06,479
kind of raise everybody up a level

224
00:06:03,759 --> 00:06:08,560
through this talk so let's talk about

225
00:06:06,479 --> 00:06:09,758
campaign design the first of my four

226
00:06:08,560 --> 00:06:11,039
agenda points

227
00:06:09,759 --> 00:06:12,400
kind of trying to scroll discord you

228
00:06:11,039 --> 00:06:13,680
guys are chatting a lot that's awesome i

229
00:06:12,400 --> 00:06:15,120
assume that's good participation

230
00:06:13,680 --> 00:06:17,520
maybe we should have discord as a

231
00:06:15,120 --> 00:06:18,880
regular for like in-person conferences

232
00:06:17,520 --> 00:06:20,799
from now on right that way we can have

233
00:06:18,880 --> 00:06:22,319
communications and when the speaker gets

234
00:06:20,800 --> 00:06:23,520
boring we can go ahead and keep chatting

235
00:06:22,319 --> 00:06:25,520
and provide some

236
00:06:23,520 --> 00:06:26,719
some valuable content i don't know

237
00:06:25,520 --> 00:06:28,159
something that's there

238
00:06:26,720 --> 00:06:29,840
we have to put phone chargers in every

239
00:06:28,160 --> 00:06:31,680
seat for that right so we don't

240
00:06:29,840 --> 00:06:32,960
run our batteries down some things to

241
00:06:31,680 --> 00:06:35,120
think about from the campaign design the

242
00:06:32,960 --> 00:06:36,719
first thing is the assessment goal

243
00:06:35,120 --> 00:06:38,000
what is the organization hoping to get

244
00:06:36,720 --> 00:06:38,720
out of it you know the organization that

245
00:06:38,000 --> 00:06:40,080
you're fishing

246
00:06:38,720 --> 00:06:42,000
i give another talk actually i gave a

247
00:06:40,080 --> 00:06:43,039
talk at beside san diego last weekend

248
00:06:42,000 --> 00:06:45,520
about

249
00:06:43,039 --> 00:06:46,639
nobody cares how late you are it's all

250
00:06:45,520 --> 00:06:48,639
about how do you provide

251
00:06:46,639 --> 00:06:50,319
value to the organization right what do

252
00:06:48,639 --> 00:06:50,880
you as a red team or as a penetration

253
00:06:50,319 --> 00:06:52,479
tester

254
00:06:50,880 --> 00:06:53,759
what are you doing to provide value to

255
00:06:52,479 --> 00:06:54,800
the organization that's paying you

256
00:06:53,759 --> 00:06:55,280
because that's what they really care

257
00:06:54,800 --> 00:06:56,720
about

258
00:06:55,280 --> 00:06:58,479
so that's an important consideration

259
00:06:56,720 --> 00:06:59,599
within the assessment is what are they

260
00:06:58,479 --> 00:07:01,199
wanting to get out of it

261
00:06:59,599 --> 00:07:03,280
what security controls have they put in

262
00:07:01,199 --> 00:07:04,720
place you know what is their blue team

263
00:07:03,280 --> 00:07:06,400
actively trying to do

264
00:07:04,720 --> 00:07:08,479
how can you augment that to test those

265
00:07:06,400 --> 00:07:09,840
controls another thing to think about is

266
00:07:08,479 --> 00:07:11,359
goal oriented test versus awareness

267
00:07:09,840 --> 00:07:13,039
training i mentioned this before

268
00:07:11,360 --> 00:07:14,880
generally with a goal oriented test

269
00:07:13,039 --> 00:07:16,080
that's where i'm trying to do a specific

270
00:07:14,880 --> 00:07:17,360
thing as part of a penetration

271
00:07:16,080 --> 00:07:19,199
test i'm we're going to talk about some

272
00:07:17,360 --> 00:07:21,039
goals here in a minute but i'm trying to

273
00:07:19,199 --> 00:07:23,120
accomplish a specific task

274
00:07:21,039 --> 00:07:24,240
as opposed to i'm just going to use more

275
00:07:23,120 --> 00:07:26,000
of a blanket

276
00:07:24,240 --> 00:07:28,560
fish that gets sent to everybody with

277
00:07:26,000 --> 00:07:30,160
the goal of letting those users

278
00:07:28,560 --> 00:07:31,680
know hey here's what an actual attack

279
00:07:30,160 --> 00:07:34,160
looks like and what you can do to

280
00:07:31,680 --> 00:07:35,039
to improve also consider wide box gray

281
00:07:34,160 --> 00:07:36,880
box testing

282
00:07:35,039 --> 00:07:38,159
it's really so we have clients come to

283
00:07:36,880 --> 00:07:39,199
us and say hey we want you to do this

284
00:07:38,160 --> 00:07:40,560
fishing they won't tell you any

285
00:07:39,199 --> 00:07:42,479
information go find some

286
00:07:40,560 --> 00:07:44,800
usernames online somewhere shoot us

287
00:07:42,479 --> 00:07:47,360
emails and see what you can do

288
00:07:44,800 --> 00:07:49,280
i get i get the idea of doing that i

289
00:07:47,360 --> 00:07:49,599
really don't like black box testing like

290
00:07:49,280 --> 00:07:52,080
that

291
00:07:49,599 --> 00:07:53,360
or even dark gray box testing i think

292
00:07:52,080 --> 00:07:54,479
there's a lot more value to an

293
00:07:53,360 --> 00:07:56,400
organization if you're going to pay

294
00:07:54,479 --> 00:07:59,599
somebody to do fishing for you

295
00:07:56,400 --> 00:08:00,878
there's more value to discussing hey

296
00:07:59,599 --> 00:08:01,919
here's what our blue team has

297
00:08:00,879 --> 00:08:03,360
implemented here are the security

298
00:08:01,919 --> 00:08:05,919
controls we have in place

299
00:08:03,360 --> 00:08:06,400
you know we get as an attacker i can't

300
00:08:05,919 --> 00:08:09,039
send

301
00:08:06,400 --> 00:08:09,919
a million phishing attacks against your

302
00:08:09,039 --> 00:08:11,440
organization

303
00:08:09,919 --> 00:08:13,039
a real attacker can right they can

304
00:08:11,440 --> 00:08:13,599
spread it out over a long period of time

305
00:08:13,039 --> 00:08:15,039
and

306
00:08:13,599 --> 00:08:16,639
they can try brute forcing things until

307
00:08:15,039 --> 00:08:19,520
they find that thing that works as

308
00:08:16,639 --> 00:08:20,400
a as a penetration tester or red team

309
00:08:19,520 --> 00:08:22,000
teamer

310
00:08:20,400 --> 00:08:23,198
i have to simulate those attacks and i

311
00:08:22,000 --> 00:08:24,639
have to find out you know what's the

312
00:08:23,199 --> 00:08:26,639
most efficient effective use

313
00:08:24,639 --> 00:08:28,160
i can so consider that what you can do

314
00:08:26,639 --> 00:08:29,520
to make those better

315
00:08:28,160 --> 00:08:31,039
and then also different levels of

316
00:08:29,520 --> 00:08:32,159
simulation we work with some folks where

317
00:08:31,039 --> 00:08:33,439
it's like hey we're going to try this

318
00:08:32,159 --> 00:08:34,958
thing see how it works

319
00:08:33,440 --> 00:08:36,240
and then okay we're going to add this in

320
00:08:34,958 --> 00:08:37,518
see what happens here we're going to try

321
00:08:36,240 --> 00:08:39,279
this and see what happens then

322
00:08:37,519 --> 00:08:41,120
so try to find better ways to be more

323
00:08:39,279 --> 00:08:44,159
efficient effective is

324
00:08:41,120 --> 00:08:46,240
part of the campaign design motto

325
00:08:44,159 --> 00:08:47,279
and just remember ultimately the red

326
00:08:46,240 --> 00:08:49,120
team's job

327
00:08:47,279 --> 00:08:50,880
is to make the blue team better it's

328
00:08:49,120 --> 00:08:52,480
really easy to get caught in the

329
00:08:50,880 --> 00:08:54,000
you know hey i want to demonstrate how

330
00:08:52,480 --> 00:08:55,920
awesome and cool

331
00:08:54,000 --> 00:08:57,040
i am and these amazing things i can do

332
00:08:55,920 --> 00:08:58,560
but at the end of the day if you're not

333
00:08:57,040 --> 00:08:59,519
making a blue team better you're failing

334
00:08:58,560 --> 00:09:00,880
at that

335
00:08:59,519 --> 00:09:02,560
so the next thing to consider some

336
00:09:00,880 --> 00:09:04,240
desired outcomes you know i talked about

337
00:09:02,560 --> 00:09:05,199
the goals of a goal-oriented test what

338
00:09:04,240 --> 00:09:06,880
are you trying to do

339
00:09:05,200 --> 00:09:08,399
there's just some specifics here some

340
00:09:06,880 --> 00:09:10,160
things to think about i want to get the

341
00:09:08,399 --> 00:09:11,600
user to click a link to a malicious site

342
00:09:10,160 --> 00:09:13,760
right i have something i know they're

343
00:09:11,600 --> 00:09:15,680
vulnerable they've got some

344
00:09:13,760 --> 00:09:17,360
some browser extension or something if i

345
00:09:15,680 --> 00:09:18,239
can get them to go to the site i know i

346
00:09:17,360 --> 00:09:19,839
can do something

347
00:09:18,240 --> 00:09:21,360
or or maybe that's just the scope of the

348
00:09:19,839 --> 00:09:22,640
test right if i can get them to go to

349
00:09:21,360 --> 00:09:24,080
this i've demonstrated

350
00:09:22,640 --> 00:09:25,920
this goal maybe i want to get them to

351
00:09:24,080 --> 00:09:27,760
download and execute a file

352
00:09:25,920 --> 00:09:29,839
pretty straightforward maybe i want to

353
00:09:27,760 --> 00:09:31,439
somehow get remote access

354
00:09:29,839 --> 00:09:32,880
you know using some type of executable

355
00:09:31,440 --> 00:09:34,399
thing or something on their system

356
00:09:32,880 --> 00:09:35,680
providing credentials maybe i want to

357
00:09:34,399 --> 00:09:36,959
get them to come to a site that looks

358
00:09:35,680 --> 00:09:38,399
like something they're used to provide

359
00:09:36,959 --> 00:09:39,760
credentials and send them to me

360
00:09:38,399 --> 00:09:41,279
cross-site scripting is one that a lot

361
00:09:39,760 --> 00:09:42,800
of people don't think about anymore but

362
00:09:41,279 --> 00:09:44,720
sometimes if i can get you to go to a

363
00:09:42,800 --> 00:09:45,359
malicious site and execute scripting

364
00:09:44,720 --> 00:09:47,120
really it's not

365
00:09:45,360 --> 00:09:48,399
cross-site scripting maybe at that point

366
00:09:47,120 --> 00:09:49,680
or maybe it is maybe you have an

367
00:09:48,399 --> 00:09:51,200
internal portal

368
00:09:49,680 --> 00:09:52,640
that is vulnerable to something

369
00:09:51,200 --> 00:09:53,680
vulnerable to cross-site scripting and i

370
00:09:52,640 --> 00:09:55,439
can send you a link

371
00:09:53,680 --> 00:09:56,959
so that you click on that and execute

372
00:09:55,440 --> 00:09:58,000
that internally there's different things

373
00:09:56,959 --> 00:09:59,599
you can do there

374
00:09:58,000 --> 00:10:01,440
and then another one the last one is

375
00:09:59,600 --> 00:10:02,480
just to establish rapport sometimes the

376
00:10:01,440 --> 00:10:04,480
goal of phishing

377
00:10:02,480 --> 00:10:05,600
is to set up the next attack i don't

378
00:10:04,480 --> 00:10:07,760
know how many people

379
00:10:05,600 --> 00:10:10,480
listen to dark net diaries that's become

380
00:10:07,760 --> 00:10:12,160
one of my new favorite podcasts

381
00:10:10,480 --> 00:10:13,839
jack interviewed it's been some time ago

382
00:10:12,160 --> 00:10:15,120
if you go back i recommend going back to

383
00:10:13,839 --> 00:10:15,920
the beginning and starting it over but

384
00:10:15,120 --> 00:10:18,480
he interviewed

385
00:10:15,920 --> 00:10:19,279
jeky and she's a red teamer social

386
00:10:18,480 --> 00:10:20,720
engineer

387
00:10:19,279 --> 00:10:22,959
that does a lot of this kind of stuff

388
00:10:20,720 --> 00:10:24,240
and they told the story of this attack

389
00:10:22,959 --> 00:10:27,199
they performed where

390
00:10:24,240 --> 00:10:28,000
they were targeting an organization in a

391
00:10:27,200 --> 00:10:29,839
foreign country

392
00:10:28,000 --> 00:10:31,279
and so and it was a different language

393
00:10:29,839 --> 00:10:32,720
than than what they spoke and so what

394
00:10:31,279 --> 00:10:33,920
they did is they set up this back and

395
00:10:32,720 --> 00:10:35,600
forth email

396
00:10:33,920 --> 00:10:37,920
about hey this trip we're having and

397
00:10:35,600 --> 00:10:38,480
pretended they were co-workers of the

398
00:10:37,920 --> 00:10:40,319
company

399
00:10:38,480 --> 00:10:42,000
but from a different country and then

400
00:10:40,320 --> 00:10:43,519
they had this whole thing going on of

401
00:10:42,000 --> 00:10:44,560
you know back and forth in these emails

402
00:10:43,519 --> 00:10:45,760
and then saying oh well you know what we

403
00:10:44,560 --> 00:10:46,719
should reach out to somebody over there

404
00:10:45,760 --> 00:10:47,360
since we're going to be in the country

405
00:10:46,720 --> 00:10:49,200
anyway

406
00:10:47,360 --> 00:10:50,800
maybe we can visit and see what's going

407
00:10:49,200 --> 00:10:53,360
on and see what they're doing there

408
00:10:50,800 --> 00:10:55,120
and then they you know had some ruse for

409
00:10:53,360 --> 00:10:56,640
how they got somebody's email and they

410
00:10:55,120 --> 00:10:57,839
they basically just forwarded them that

411
00:10:56,640 --> 00:10:59,040
email and said hey we're going to be

412
00:10:57,839 --> 00:10:59,600
there we'd love to chat with you or

413
00:10:59,040 --> 00:11:01,199
whatnot

414
00:10:59,600 --> 00:11:03,200
and they built up this whole thing the

415
00:11:01,200 --> 00:11:04,720
only purpose of that attack

416
00:11:03,200 --> 00:11:06,959
was to build up the rapport so that when

417
00:11:04,720 --> 00:11:08,560
they got on site ultimately the people

418
00:11:06,959 --> 00:11:09,599
at that company invited them to come

419
00:11:08,560 --> 00:11:11,920
into the building

420
00:11:09,600 --> 00:11:13,680
gave them the opportunity to plant a

421
00:11:11,920 --> 00:11:15,680
device where then they could you know

422
00:11:13,680 --> 00:11:16,880
pivot and do other stuffs on the network

423
00:11:15,680 --> 00:11:18,719
but that's an example of you know

424
00:11:16,880 --> 00:11:20,720
sometimes the goal of a phishing

425
00:11:18,720 --> 00:11:22,560
attack doesn't need to be technical

426
00:11:20,720 --> 00:11:23,839
sometimes it just needs to be social

427
00:11:22,560 --> 00:11:25,599
i see the question there what problems

428
00:11:23,839 --> 00:11:26,399
can't be solved with the right 25 lines

429
00:11:25,600 --> 00:11:29,600
of python

430
00:11:26,399 --> 00:11:31,839
that's right or uh pearl and you won't

431
00:11:29,600 --> 00:11:33,839
know whether the problem solved or not

432
00:11:31,839 --> 00:11:35,760
another consideration of campaign design

433
00:11:33,839 --> 00:11:37,279
is ruse considerations what are we

434
00:11:35,760 --> 00:11:38,560
actually going to do so we've kind of

435
00:11:37,279 --> 00:11:39,439
figured out our target we know what

436
00:11:38,560 --> 00:11:41,439
we're going for

437
00:11:39,440 --> 00:11:43,440
we know what our goal is what are we

438
00:11:41,440 --> 00:11:44,800
going to use one thing that works really

439
00:11:43,440 --> 00:11:45,680
really well we've all seen this used

440
00:11:44,800 --> 00:11:47,920
current events

441
00:11:45,680 --> 00:11:49,599
especially emotionally charged events

442
00:11:47,920 --> 00:11:50,399
one of the most successful fishes i ever

443
00:11:49,600 --> 00:11:52,959
used

444
00:11:50,399 --> 00:11:54,480
was a it was right after trump took

445
00:11:52,959 --> 00:11:55,359
office it was it was in like late

446
00:11:54,480 --> 00:11:57,519
january

447
00:11:55,360 --> 00:11:59,440
this was for a university we sent out an

448
00:11:57,519 --> 00:12:00,720
email and it was targeted it was due

449
00:11:59,440 --> 00:12:02,720
just to the it staff

450
00:12:00,720 --> 00:12:04,320
but we sent out this email saying hey

451
00:12:02,720 --> 00:12:05,519
because of the recent changes by the

452
00:12:04,320 --> 00:12:06,800
trump administration

453
00:12:05,519 --> 00:12:08,240
unfortunately we have to change our

454
00:12:06,800 --> 00:12:09,519
benefits and some of you are going to

455
00:12:08,240 --> 00:12:10,720
lose some benefits i'm sure you've heard

456
00:12:09,519 --> 00:12:12,079
about in the news

457
00:12:10,720 --> 00:12:14,079
our costs are going to go up but we've

458
00:12:12,079 --> 00:12:16,479
tried to limit the the effects there

459
00:12:14,079 --> 00:12:18,160
here's this spreadsheet attached please

460
00:12:16,480 --> 00:12:19,680
check out the summary of the changes and

461
00:12:18,160 --> 00:12:21,360
let us know if you have any questions

462
00:12:19,680 --> 00:12:23,120
you know that that was fantastic it was

463
00:12:21,360 --> 00:12:24,240
amazing we put some other uh observation

464
00:12:23,120 --> 00:12:25,680
there i'll mention later

465
00:12:24,240 --> 00:12:27,200
but that had a simple i think it was

466
00:12:25,680 --> 00:12:28,160
powershell empire maybe is what we used

467
00:12:27,200 --> 00:12:30,560
at the time

468
00:12:28,160 --> 00:12:32,399
literally i i want to say we had like a

469
00:12:30,560 --> 00:12:34,160
95 96

470
00:12:32,399 --> 00:12:35,920
return rate on the number of people that

471
00:12:34,160 --> 00:12:37,120
opened that attachment everybody fell

472
00:12:35,920 --> 00:12:38,000
for it simply because it was an

473
00:12:37,120 --> 00:12:39,680
emotionally charged

474
00:12:38,000 --> 00:12:41,440
event they were really excited you got

475
00:12:39,680 --> 00:12:43,839
to be careful with this though

476
00:12:41,440 --> 00:12:45,440
malware jake posted on twitter yesterday

477
00:12:43,839 --> 00:12:49,120
asking the question

478
00:12:45,440 --> 00:12:52,320
is it ethical or not to use covet 19

479
00:12:49,120 --> 00:12:53,680
as a phishing test

480
00:12:52,320 --> 00:12:55,600
that's one you got to be careful for

481
00:12:53,680 --> 00:12:56,880
like you would have a very successful

482
00:12:55,600 --> 00:12:59,200
fish i guarantee you

483
00:12:56,880 --> 00:13:00,480
if you crafted it well you might also be

484
00:12:59,200 --> 00:13:01,839
looking for a new job

485
00:13:00,480 --> 00:13:02,880
so that's one of the things you got to

486
00:13:01,839 --> 00:13:03,519
be careful when you're using current

487
00:13:02,880 --> 00:13:05,519
events

488
00:13:03,519 --> 00:13:06,880
try to find that balance between you

489
00:13:05,519 --> 00:13:08,720
know hey we want to prepare our people

490
00:13:06,880 --> 00:13:11,760
and demonstrate what's possible

491
00:13:08,720 --> 00:13:14,240
but we also don't want to you know be

492
00:13:11,760 --> 00:13:15,600
too insensitive thanks thanks i don't

493
00:13:14,240 --> 00:13:17,680
know how to say that bubble fat that's

494
00:13:15,600 --> 00:13:19,120
what i'm going to go with double fat

495
00:13:17,680 --> 00:13:20,880
but yes if you've been watching if

496
00:13:19,120 --> 00:13:22,720
you're on the blue team kova 19

497
00:13:20,880 --> 00:13:23,360
absolutely has been used in the wild for

498
00:13:22,720 --> 00:13:25,600
fishing

499
00:13:23,360 --> 00:13:26,480
stuff so far another great example is

500
00:13:25,600 --> 00:13:27,839
holidays

501
00:13:26,480 --> 00:13:30,160
using like hey when it's getting close

502
00:13:27,839 --> 00:13:32,639
to a major holiday sending stuff about

503
00:13:30,160 --> 00:13:34,240
the the christmas party or you know time

504
00:13:32,639 --> 00:13:35,600
off schedules and stuff like that that's

505
00:13:34,240 --> 00:13:38,160
a great way to get people

506
00:13:35,600 --> 00:13:39,519
to to click on things i used one one

507
00:13:38,160 --> 00:13:40,959
time with march madness

508
00:13:39,519 --> 00:13:43,040
you know hey we've got this march

509
00:13:40,959 --> 00:13:45,680
madness tournament going on and that was

510
00:13:43,040 --> 00:13:46,719
really really effective part of that you

511
00:13:45,680 --> 00:13:49,680
have to understand

512
00:13:46,720 --> 00:13:51,839
the the social i don't know the

513
00:13:49,680 --> 00:13:53,120
interactions of that organization right

514
00:13:51,839 --> 00:13:54,399
for some organizations

515
00:13:53,120 --> 00:13:56,639
a march madness tournament is going to

516
00:13:54,399 --> 00:13:59,120
be very successful for others

517
00:13:56,639 --> 00:14:00,480
maybe not at all i'll be honest like my

518
00:13:59,120 --> 00:14:02,800
my co-workers

519
00:14:00,480 --> 00:14:04,480
not a lot of sports guys march madness

520
00:14:02,800 --> 00:14:05,839
probably is not going to be a big hit i

521
00:14:04,480 --> 00:14:06,560
don't i doubt any of them are listening

522
00:14:05,839 --> 00:14:08,000
but uh

523
00:14:06,560 --> 00:14:09,518
you know that that would probably not be

524
00:14:08,000 --> 00:14:10,320
the best uh effective thing if you're

525
00:14:09,519 --> 00:14:12,240
trying to

526
00:14:10,320 --> 00:14:14,000
hit us another example is target

527
00:14:12,240 --> 00:14:15,519
specific situations what i mean by this

528
00:14:14,000 --> 00:14:16,880
is doing reconnaissance on the specific

529
00:14:15,519 --> 00:14:19,040
targets you're going after

530
00:14:16,880 --> 00:14:20,240
and trying to come up with specific

531
00:14:19,040 --> 00:14:22,160
things to attack them

532
00:14:20,240 --> 00:14:23,839
an example we had a customer that we

533
00:14:22,160 --> 00:14:26,719
were we were doing some work with

534
00:14:23,839 --> 00:14:28,079
and we discovered through reconnaissance

535
00:14:26,720 --> 00:14:29,279
it hadn't even been publicly released

536
00:14:28,079 --> 00:14:30,560
yet but we discovered that they had a

537
00:14:29,279 --> 00:14:32,720
big merger coming up

538
00:14:30,560 --> 00:14:34,160
and so we were able to use a phishing

539
00:14:32,720 --> 00:14:36,320
attack that

540
00:14:34,160 --> 00:14:37,439
mentioned the merger and referenced some

541
00:14:36,320 --> 00:14:39,920
changes in i.t

542
00:14:37,440 --> 00:14:41,279
you know with email and and all of the

543
00:14:39,920 --> 00:14:42,639
different changes that were coming up we

544
00:14:41,279 --> 00:14:43,040
were able to get people to do some stuff

545
00:14:42,639 --> 00:14:44,639
there

546
00:14:43,040 --> 00:14:46,319
so that's something to think about and

547
00:14:44,639 --> 00:14:47,600
then also existing technologies if you

548
00:14:46,320 --> 00:14:49,199
can find out what they're using

549
00:14:47,600 --> 00:14:51,040
sometimes there are vulnerabilities

550
00:14:49,199 --> 00:14:52,880
that you can use to do different stuff

551
00:14:51,040 --> 00:14:55,040
we did a test on a really popular

552
00:14:52,880 --> 00:14:56,880
identity and access management tool and

553
00:14:55,040 --> 00:14:58,240
found some pretty significant

554
00:14:56,880 --> 00:15:00,320
cross-site request forgery

555
00:14:58,240 --> 00:15:02,959
vulnerabilities that would allow

556
00:15:00,320 --> 00:15:04,720
because basically these users in using

557
00:15:02,959 --> 00:15:06,319
this tool it's a web-based tool

558
00:15:04,720 --> 00:15:08,160
they were used to getting emails

559
00:15:06,320 --> 00:15:10,480
requesting changes

560
00:15:08,160 --> 00:15:11,680
to permissions and groups and so we

561
00:15:10,480 --> 00:15:13,040
discovered if we send an email that

562
00:15:11,680 --> 00:15:14,239
looks just like it they're already used

563
00:15:13,040 --> 00:15:15,360
to clicking those links

564
00:15:14,240 --> 00:15:17,120
they click the link because of the

565
00:15:15,360 --> 00:15:18,880
cross-site request forgery we were able

566
00:15:17,120 --> 00:15:20,880
to add a user to the domain admin

567
00:15:18,880 --> 00:15:22,480
you know so finding that combination of

568
00:15:20,880 --> 00:15:23,920
knowing what they're already using

569
00:15:22,480 --> 00:15:25,440
we did that for a government agency we

570
00:15:23,920 --> 00:15:26,000
found out what system they were using to

571
00:15:25,440 --> 00:15:28,399
manage their

572
00:15:26,000 --> 00:15:29,360
hr stuff and then send an email to their

573
00:15:28,399 --> 00:15:31,279
it folk

574
00:15:29,360 --> 00:15:32,560
referencing time off schedules for the

575
00:15:31,279 --> 00:15:34,639
upcoming holidays

576
00:15:32,560 --> 00:15:35,839
using the exact template that that hr

577
00:15:34,639 --> 00:15:37,279
company used

578
00:15:35,839 --> 00:15:39,120
again we're just using what they already

579
00:15:37,279 --> 00:15:41,040
have in place to go there

580
00:15:39,120 --> 00:15:42,880
the last part of campaign design is

581
00:15:41,040 --> 00:15:43,519
thinking about domain name selection

582
00:15:42,880 --> 00:15:44,720
this is probably

583
00:15:43,519 --> 00:15:47,360
one of the biggest things to pay

584
00:15:44,720 --> 00:15:48,880
attention to we train people to

585
00:15:47,360 --> 00:15:50,560
watch for domain names right when they

586
00:15:48,880 --> 00:15:51,519
get an email we train them to look at it

587
00:15:50,560 --> 00:15:52,638
make sure it's legit

588
00:15:51,519 --> 00:15:53,920
it's where you think it is and stuff

589
00:15:52,639 --> 00:15:55,440
like that whether or not that's

590
00:15:53,920 --> 00:15:57,199
successful is a different story

591
00:15:55,440 --> 00:15:58,880
but we do know that some people look at

592
00:15:57,199 --> 00:16:00,319
that so also we have a lot of defensive

593
00:15:58,880 --> 00:16:02,160
tools to look for domain names and

594
00:16:00,320 --> 00:16:04,079
things like age of the domain and

595
00:16:02,160 --> 00:16:05,120
reputation and stuff like that so

596
00:16:04,079 --> 00:16:06,560
definitely we need to put a lot of

597
00:16:05,120 --> 00:16:07,519
effort into this start with

598
00:16:06,560 --> 00:16:09,199
reconnaissance

599
00:16:07,519 --> 00:16:10,639
learn what your target is already using

600
00:16:09,199 --> 00:16:12,319
you know look for their sub domains and

601
00:16:10,639 --> 00:16:14,079
look and see what they have out there

602
00:16:12,320 --> 00:16:15,920
look at third party services i mentioned

603
00:16:14,079 --> 00:16:16,959
hr but things like payroll if they use a

604
00:16:15,920 --> 00:16:18,240
training site

605
00:16:16,959 --> 00:16:20,319
anything like that that they're already

606
00:16:18,240 --> 00:16:22,079
used to seeing try to find a domain name

607
00:16:20,320 --> 00:16:23,600
that you can use that is similar

608
00:16:22,079 --> 00:16:25,359
using familiar domains or similar

609
00:16:23,600 --> 00:16:27,600
domains you know company mail

610
00:16:25,360 --> 00:16:30,079
instead of company.com companymail.com

611
00:16:27,600 --> 00:16:32,399
or mail.com.mailserver.com

612
00:16:30,079 --> 00:16:33,279
anything you go like that an example of

613
00:16:32,399 --> 00:16:35,440
that is the

614
00:16:33,279 --> 00:16:37,040
the equifax breach settlement site if

615
00:16:35,440 --> 00:16:37,600
you guys remember that after equifax

616
00:16:37,040 --> 00:16:38,800
happened

617
00:16:37,600 --> 00:16:41,519
instead of having people go to

618
00:16:38,800 --> 00:16:42,880
equifax.com they put out a link to

619
00:16:41,519 --> 00:16:44,279
some i don't remember what it was but it

620
00:16:42,880 --> 00:16:46,000
was some long equifax

621
00:16:44,279 --> 00:16:47,839
settlementbreach.com or something

622
00:16:46,000 --> 00:16:50,160
and immediately people started coming up

623
00:16:47,839 --> 00:16:52,240
with slight variations of that name

624
00:16:50,160 --> 00:16:53,279
and sending those out to people because

625
00:16:52,240 --> 00:16:55,360
what are you going to do if you're if

626
00:16:53,279 --> 00:16:56,959
your credit bureau is compromised

627
00:16:55,360 --> 00:16:58,800
you're going to go sign up and of course

628
00:16:56,959 --> 00:17:00,319
you identify yourself with all your

629
00:16:58,800 --> 00:17:02,399
identifying information

630
00:17:00,320 --> 00:17:04,400
generic domains is another easy one mail

631
00:17:02,399 --> 00:17:06,160
sender event eventcoordinator.com stuff

632
00:17:04,400 --> 00:17:08,000
like that we use a lot of those for

633
00:17:06,160 --> 00:17:09,600
some of our user awareness fishing so we

634
00:17:08,000 --> 00:17:11,119
can set up one generic domain it looks

635
00:17:09,599 --> 00:17:12,559
fairly common and then use it repeatedly

636
00:17:11,119 --> 00:17:13,839
for a number of different stuff

637
00:17:12,559 --> 00:17:15,839
the thing you have to be careful with

638
00:17:13,839 --> 00:17:17,438
again with all these is you know

639
00:17:15,839 --> 00:17:19,678
how long they've been around and you

640
00:17:17,439 --> 00:17:21,280
know if they get blacklisted you're done

641
00:17:19,679 --> 00:17:22,799
and of course puny code i'm not going to

642
00:17:21,280 --> 00:17:23,199
spend a lot of time mentioning puny code

643
00:17:22,799 --> 00:17:26,480
but

644
00:17:23,199 --> 00:17:30,039
the idea of using non-ascii characters

645
00:17:26,480 --> 00:17:31,679
in your urls you can see there that

646
00:17:30,039 --> 00:17:33,919
portal.xn-secure

647
00:17:31,679 --> 00:17:35,919
not quite an eye but almost you can see

648
00:17:33,919 --> 00:17:37,679
that when it loads in the browser it

649
00:17:35,919 --> 00:17:38,960
actually looks like the the second link

650
00:17:37,679 --> 00:17:41,200
there portal

651
00:17:38,960 --> 00:17:42,799
secure ideas.com i guess it's the e that

652
00:17:41,200 --> 00:17:44,320
has the little thing over it

653
00:17:42,799 --> 00:17:46,080
you can you can google a lot about that

654
00:17:44,320 --> 00:17:46,879
and learn different ways of that last

655
00:17:46,080 --> 00:17:48,240
thing i said

656
00:17:46,880 --> 00:17:50,080
i said domain was last name but the last

657
00:17:48,240 --> 00:17:51,120
thing on campaign design is to use

658
00:17:50,080 --> 00:17:52,960
psychology

659
00:17:51,120 --> 00:17:54,399
humans are easily controllable so i

660
00:17:52,960 --> 00:17:56,000
mentioned urgency before

661
00:17:54,400 --> 00:17:58,480
think about things like emotion

662
00:17:56,000 --> 00:18:00,240
familiarity eagerness to help serve

663
00:17:58,480 --> 00:18:01,760
people want to do things so the more you

664
00:18:00,240 --> 00:18:03,600
learn about human psychology

665
00:18:01,760 --> 00:18:05,200
the more you can use that against them

666
00:18:03,600 --> 00:18:06,320
ultimately this goes back to the very

667
00:18:05,200 --> 00:18:07,360
beginning when i talked about meatware

668
00:18:06,320 --> 00:18:08,879
vulnerabilities

669
00:18:07,360 --> 00:18:10,559
and it's really a study of psychology

670
00:18:08,880 --> 00:18:11,120
right understanding where people are

671
00:18:10,559 --> 00:18:12,720
weak

672
00:18:11,120 --> 00:18:14,320
and how you can use that against them

673
00:18:12,720 --> 00:18:15,679
another consideration there if you're

674
00:18:14,320 --> 00:18:16,639
not familiar with the concept of the

675
00:18:15,679 --> 00:18:19,840
critical faculty

676
00:18:16,640 --> 00:18:20,960
a critical factor critical faculty what

677
00:18:19,840 --> 00:18:22,320
that means is

678
00:18:20,960 --> 00:18:24,480
it's basically our ability to make

679
00:18:22,320 --> 00:18:26,480
judgments about what is true

680
00:18:24,480 --> 00:18:28,480
and so you know our conscience is not

681
00:18:26,480 --> 00:18:30,480
able to handle all of the data

682
00:18:28,480 --> 00:18:31,600
that our our input receives right our

683
00:18:30,480 --> 00:18:33,600
eyes our ears

684
00:18:31,600 --> 00:18:34,879
all of the different data around us our

685
00:18:33,600 --> 00:18:36,799
our subconscious

686
00:18:34,880 --> 00:18:38,160
receives that but doesn't really process

687
00:18:36,799 --> 00:18:40,160
it over the conscience

688
00:18:38,160 --> 00:18:41,360
because there's just too much going on

689
00:18:40,160 --> 00:18:42,480
and so what happens is

690
00:18:41,360 --> 00:18:44,399
we have this thing called the critical

691
00:18:42,480 --> 00:18:46,320
faculty where we basically shut off

692
00:18:44,400 --> 00:18:47,600
all the data we don't need and things

693
00:18:46,320 --> 00:18:49,918
that are

694
00:18:47,600 --> 00:18:51,600
it's sort of a selective ignoring those

695
00:18:49,919 --> 00:18:52,799
things until a certain threshold is

696
00:18:51,600 --> 00:18:53,439
triggered right so i'm driving down the

697
00:18:52,799 --> 00:18:55,039
road

698
00:18:53,440 --> 00:18:56,720
i can zone off in my car because i'm

699
00:18:55,039 --> 00:18:57,360
used to driving and all of a sudden when

700
00:18:56,720 --> 00:18:59,360
i see

701
00:18:57,360 --> 00:19:00,719
something that looks like a car or

702
00:18:59,360 --> 00:19:02,080
something looks like a person

703
00:19:00,720 --> 00:19:04,240
or something flashes where something

704
00:19:02,080 --> 00:19:07,600
shouldn't flash immediately my

705
00:19:04,240 --> 00:19:08,880
my mind pays attention to that so

706
00:19:07,600 --> 00:19:10,879
you know there's several examples of

707
00:19:08,880 --> 00:19:11,919
things we can do there to make sure that

708
00:19:10,880 --> 00:19:14,160
our phishing

709
00:19:11,919 --> 00:19:15,760
doesn't bypass that critical faculty

710
00:19:14,160 --> 00:19:17,200
right we want people are used to just

711
00:19:15,760 --> 00:19:18,559
responding to email and clicking next

712
00:19:17,200 --> 00:19:19,760
next doing things whatever

713
00:19:18,559 --> 00:19:21,600
we want to make sure we don't give

714
00:19:19,760 --> 00:19:23,440
anything that's going to trigger that

715
00:19:21,600 --> 00:19:25,520
and then do that one thing to be careful

716
00:19:23,440 --> 00:19:27,200
about is is be careful about using real

717
00:19:25,520 --> 00:19:29,200
people's names in the signature

718
00:19:27,200 --> 00:19:30,559
that uh what a recent email we sent it

719
00:19:29,200 --> 00:19:31,520
would send it out and i don't remember

720
00:19:30,559 --> 00:19:33,039
if it was hr

721
00:19:31,520 --> 00:19:34,799
or legal or something like that but we

722
00:19:33,039 --> 00:19:36,000
sent the email out and we decided to use

723
00:19:34,799 --> 00:19:38,000
a real person's name

724
00:19:36,000 --> 00:19:39,280
and title because that's an actual

725
00:19:38,000 --> 00:19:40,720
person and people it was a small enough

726
00:19:39,280 --> 00:19:42,480
company people would know who that was

727
00:19:40,720 --> 00:19:44,960
and we wanted it to look legit well

728
00:19:42,480 --> 00:19:46,720
unfortunately what happened was

729
00:19:44,960 --> 00:19:48,080
like we changed the email address we

730
00:19:46,720 --> 00:19:49,440
changed the phone number so that that

731
00:19:48,080 --> 00:19:52,159
person wouldn't get a hassle

732
00:19:49,440 --> 00:19:53,200
what we didn't think about is nobody

733
00:19:52,160 --> 00:19:55,280
looks up

734
00:19:53,200 --> 00:19:56,640
email address from the they don't click

735
00:19:55,280 --> 00:19:58,320
the link in the in the

736
00:19:56,640 --> 00:19:59,360
signature what they do is they open a

737
00:19:58,320 --> 00:20:01,200
new email and they start typing that

738
00:19:59,360 --> 00:20:02,799
person's name and it automatically fills

739
00:20:01,200 --> 00:20:04,799
it out from the exchange

740
00:20:02,799 --> 00:20:06,080
address book and so they were able to do

741
00:20:04,799 --> 00:20:08,000
that similarly

742
00:20:06,080 --> 00:20:09,918
people they just dialed you know like

743
00:20:08,000 --> 00:20:11,360
the last four extensions of that person

744
00:20:09,919 --> 00:20:12,559
on the on the phone and started calling

745
00:20:11,360 --> 00:20:14,559
them so that person got

746
00:20:12,559 --> 00:20:15,918
a lot of hassle of what the heck are you

747
00:20:14,559 --> 00:20:17,039
doing you know why are we doing this

748
00:20:15,919 --> 00:20:18,960
what is this all about

749
00:20:17,039 --> 00:20:20,158
and they had no idea so that that's a

750
00:20:18,960 --> 00:20:20,720
great way to kind of piss off some

751
00:20:20,159 --> 00:20:22,559
people

752
00:20:20,720 --> 00:20:24,000
the last thing is just like i said be

753
00:20:22,559 --> 00:20:25,039
evil think about it from an attacker

754
00:20:24,000 --> 00:20:28,080
perspective

755
00:20:25,039 --> 00:20:29,600
what what can i do mr smith there's been

756
00:20:28,080 --> 00:20:31,280
an active shooter situation a little

757
00:20:29,600 --> 00:20:32,799
johnny school we've been unable to

758
00:20:31,280 --> 00:20:34,559
locate your son if he has contacted you

759
00:20:32,799 --> 00:20:36,080
please notify us asap

760
00:20:34,559 --> 00:20:37,520
for the most up-to-date info click this

761
00:20:36,080 --> 00:20:39,280
link and run this little java applet

762
00:20:37,520 --> 00:20:40,960
it's all safe trust us we promise

763
00:20:39,280 --> 00:20:43,039
right that's maybe a little bit too over

764
00:20:40,960 --> 00:20:43,840
the top that's that's probably where you

765
00:20:43,039 --> 00:20:46,400
draw the line

766
00:20:43,840 --> 00:20:47,439
so be evil but not too evil a couple

767
00:20:46,400 --> 00:20:48,480
other fun examples

768
00:20:47,440 --> 00:20:50,720
you know we're in the process of

769
00:20:48,480 --> 00:20:52,000
expanding our email storage facilities

770
00:20:50,720 --> 00:20:54,080
if you're currently receiving alerts

771
00:20:52,000 --> 00:20:55,200
that your inbox is full click this link

772
00:20:54,080 --> 00:20:56,720
go here do this thing

773
00:20:55,200 --> 00:20:58,320
log in right everybody falls for that

774
00:20:56,720 --> 00:20:59,360
stuff that's a pretty safe way to get

775
00:20:58,320 --> 00:21:00,720
stuff

776
00:20:59,360 --> 00:21:02,158
another one this is the one i was

777
00:21:00,720 --> 00:21:02,960
talking about with the uh the hr

778
00:21:02,159 --> 00:21:04,320
benefits

779
00:21:02,960 --> 00:21:05,440
uh well actually this was a little bit

780
00:21:04,320 --> 00:21:06,158
different we basically sent the same

781
00:21:05,440 --> 00:21:08,559
type of thing

782
00:21:06,159 --> 00:21:09,840
we created a site open enrollment.com

783
00:21:08,559 --> 00:21:11,918
benefits are one of those things when i

784
00:21:09,840 --> 00:21:13,199
talked about urgency and emotion

785
00:21:11,919 --> 00:21:14,960
benefits are one of those things that

786
00:21:13,200 --> 00:21:17,200
gets everybody anxious

787
00:21:14,960 --> 00:21:18,720
and pisses everybody off it's just such

788
00:21:17,200 --> 00:21:19,360
a hassle with dealing with insurance and

789
00:21:18,720 --> 00:21:21,120
all that

790
00:21:19,360 --> 00:21:23,199
so that's a great one to take advantage

791
00:21:21,120 --> 00:21:24,959
of you just got to be careful

792
00:21:23,200 --> 00:21:26,640
this this was actually a legit email i

793
00:21:24,960 --> 00:21:27,760
got from my uncle he sent me a christmas

794
00:21:26,640 --> 00:21:29,679
greeting card

795
00:21:27,760 --> 00:21:31,360
i never clicked on it i think it's legit

796
00:21:29,679 --> 00:21:33,520
anyway but that's

797
00:21:31,360 --> 00:21:34,959
surprisingly those things still work you

798
00:21:33,520 --> 00:21:36,559
know if you target it if you

799
00:21:34,960 --> 00:21:38,400
if it looks stupid like something from

800
00:21:36,559 --> 00:21:40,720
the blue mountain and you're targeting

801
00:21:38,400 --> 00:21:41,520
an i.t person that's not gonna that's

802
00:21:40,720 --> 00:21:43,039
not gonna work

803
00:21:41,520 --> 00:21:44,559
but if you can target it to something

804
00:21:43,039 --> 00:21:48,640
that would maybe impress you

805
00:21:44,559 --> 00:21:50,158
that might work but to sue in marketing

806
00:21:48,640 --> 00:21:51,760
yeah she may click on this right it's

807
00:21:50,159 --> 00:21:52,400
just a matter of figuring out what the

808
00:21:51,760 --> 00:21:54,240
right

809
00:21:52,400 --> 00:21:55,600
right uh type of attack is for that

810
00:21:54,240 --> 00:21:57,039
individual person

811
00:21:55,600 --> 00:21:58,879
this is one of my favorites this should

812
00:21:57,039 --> 00:22:00,480
never work and yet it does don't click

813
00:21:58,880 --> 00:22:01,840
this button and a button

814
00:22:00,480 --> 00:22:03,039
people click that all the time and go to

815
00:22:01,840 --> 00:22:04,320
whatever link there you know if that's

816
00:22:03,039 --> 00:22:05,840
your goal is just to get them to come to

817
00:22:04,320 --> 00:22:07,280
a site that's one of the easiest ways to

818
00:22:05,840 --> 00:22:08,480
do it

819
00:22:07,280 --> 00:22:10,320
so now i'm going to talk about targeting

820
00:22:08,480 --> 00:22:11,120
a little bit how we pick our specific

821
00:22:10,320 --> 00:22:12,720
victims

822
00:22:11,120 --> 00:22:14,559
some things to think about you know we

823
00:22:12,720 --> 00:22:15,760
want after one particular person

824
00:22:14,559 --> 00:22:17,280
are we gonna go after several are we

825
00:22:15,760 --> 00:22:18,158
gonna go after everyone again it comes

826
00:22:17,280 --> 00:22:20,080
back to the goal

827
00:22:18,159 --> 00:22:21,360
some things to consider how long does it

828
00:22:20,080 --> 00:22:22,000
take for folks to start reading the

829
00:22:21,360 --> 00:22:23,840
email

830
00:22:22,000 --> 00:22:25,440
and doing stuff you know what does that

831
00:22:23,840 --> 00:22:26,720
response time look like

832
00:22:25,440 --> 00:22:28,159
targeting when you're going to send that

833
00:22:26,720 --> 00:22:28,720
email kind of also plays into that as

834
00:22:28,159 --> 00:22:29,919
well

835
00:22:28,720 --> 00:22:31,840
part of that response time is how long

836
00:22:29,919 --> 00:22:33,919
does it take the blue team to detect

837
00:22:31,840 --> 00:22:35,678
an attack and respond right if your blue

838
00:22:33,919 --> 00:22:37,679
team is really really on it if

839
00:22:35,679 --> 00:22:39,039
if they're kidding things really quickly

840
00:22:37,679 --> 00:22:39,760
and detecting and deleting it from

841
00:22:39,039 --> 00:22:42,158
everybody's

842
00:22:39,760 --> 00:22:42,799
uh inbox maybe you want to only send one

843
00:22:42,159 --> 00:22:44,799
or two

844
00:22:42,799 --> 00:22:46,158
emails at a time to targeted people

845
00:22:44,799 --> 00:22:47,600
because if you send it to a bunch it's

846
00:22:46,159 --> 00:22:49,440
immediately going to get flagged

847
00:22:47,600 --> 00:22:50,639
versus if you're going against you know

848
00:22:49,440 --> 00:22:51,840
an it group that

849
00:22:50,640 --> 00:22:53,280
really is not paying attention and it's

850
00:22:51,840 --> 00:22:54,480
not going to notice you know maybe you

851
00:22:53,280 --> 00:22:56,158
can send it to several more

852
00:22:54,480 --> 00:22:57,679
or a whole group something to think

853
00:22:56,159 --> 00:22:58,880
about is the prairie dog issue

854
00:22:57,679 --> 00:23:01,280
this is where you know you've got a

855
00:22:58,880 --> 00:23:03,440
cubicle of a big cubicle farm

856
00:23:01,280 --> 00:23:05,678
and if you send to the same phishing

857
00:23:03,440 --> 00:23:07,039
email to everybody in a particular group

858
00:23:05,679 --> 00:23:08,320
all of a sudden they step up and say hey

859
00:23:07,039 --> 00:23:09,120
did you get this email hey did you get

860
00:23:08,320 --> 00:23:11,439
this email

861
00:23:09,120 --> 00:23:12,559
and very quickly it's a you know this is

862
00:23:11,440 --> 00:23:14,559
this is a

863
00:23:12,559 --> 00:23:16,080
phishing attack or spam of some kind and

864
00:23:14,559 --> 00:23:17,440
they they kill it out there so it's

865
00:23:16,080 --> 00:23:18,639
something to consider

866
00:23:17,440 --> 00:23:20,640
you also want to consider the victim

867
00:23:18,640 --> 00:23:22,799
type just in my experience

868
00:23:20,640 --> 00:23:25,200
some particularly vulnerable parts of an

869
00:23:22,799 --> 00:23:26,799
organization legal hr accounting sales

870
00:23:25,200 --> 00:23:28,000
here's the thing these are all groups

871
00:23:26,799 --> 00:23:29,200
that are used to interacting with

872
00:23:28,000 --> 00:23:30,640
outsiders they're used to opening

873
00:23:29,200 --> 00:23:32,880
documents clicking links

874
00:23:30,640 --> 00:23:34,799
it's not unusual for them to get emails

875
00:23:32,880 --> 00:23:36,559
they say this came from outside

876
00:23:34,799 --> 00:23:38,000
you know the external little thing that

877
00:23:36,559 --> 00:23:40,000
gets added to email nowadays

878
00:23:38,000 --> 00:23:41,760
so they tend to be much more vulnerable

879
00:23:40,000 --> 00:23:42,799
for stuff like that they also put less

880
00:23:41,760 --> 00:23:46,158
focus on

881
00:23:42,799 --> 00:23:47,360
the training and and understanding the

882
00:23:46,159 --> 00:23:49,039
threat that sort of thing

883
00:23:47,360 --> 00:23:51,439
another consideration is particularly

884
00:23:49,039 --> 00:23:52,240
privileged folks right sysadmins network

885
00:23:51,440 --> 00:23:54,640
admins

886
00:23:52,240 --> 00:23:55,520
executives in most organizations

887
00:23:54,640 --> 00:23:58,320
executives still have

888
00:23:55,520 --> 00:23:59,120
way more privilege than they need or if

889
00:23:58,320 --> 00:24:00,879
they don't have

890
00:23:59,120 --> 00:24:02,479
privileged access at least if you can

891
00:24:00,880 --> 00:24:04,400
compromise their system and get access

892
00:24:02,480 --> 00:24:06,400
to their email or to their credentials

893
00:24:04,400 --> 00:24:07,840
then you can use their actual email

894
00:24:06,400 --> 00:24:08,480
account to send additional phishing

895
00:24:07,840 --> 00:24:10,399
attacks

896
00:24:08,480 --> 00:24:12,240
again within scope be careful of that

897
00:24:10,400 --> 00:24:13,840
obviously help desk things like that

898
00:24:12,240 --> 00:24:16,640
again remember to build situations that

899
00:24:13,840 --> 00:24:19,279
are familiar sometimes if you get into

900
00:24:16,640 --> 00:24:20,720
a low value targets email you can see

901
00:24:19,279 --> 00:24:21,200
what types of emails they're used to

902
00:24:20,720 --> 00:24:22,880
getting

903
00:24:21,200 --> 00:24:24,799
see what technologies they're using and

904
00:24:22,880 --> 00:24:26,240
then use that to facilitate the next

905
00:24:24,799 --> 00:24:27,600
level of attack against somebody else

906
00:24:26,240 --> 00:24:30,159
who's likely to be a little bit more

907
00:24:27,600 --> 00:24:30,158
suspicious

908
00:24:30,799 --> 00:24:35,840
oh i'm getting uh i'm getting lots of

909
00:24:33,760 --> 00:24:38,559
social media requests now

910
00:24:35,840 --> 00:24:39,439
all right so finding victims ironically

911
00:24:38,559 --> 00:24:41,600
social media

912
00:24:39,440 --> 00:24:43,919
is is a great one one tip on social

913
00:24:41,600 --> 00:24:44,639
media don't just connect to your target

914
00:24:43,919 --> 00:24:46,640
right away

915
00:24:44,640 --> 00:24:48,159
connect to people around them either

916
00:24:46,640 --> 00:24:50,240
other people in the company

917
00:24:48,159 --> 00:24:51,440
maybe people at their school that they

918
00:24:50,240 --> 00:24:51,840
went to school with people at their

919
00:24:51,440 --> 00:24:53,440
church

920
00:24:51,840 --> 00:24:55,678
other family members you know whether

921
00:24:53,440 --> 00:24:57,360
it's linkedin facebook whatever

922
00:24:55,679 --> 00:24:58,799
introduce yourself to their group

923
00:24:57,360 --> 00:25:00,799
because lots of people will start click

924
00:24:58,799 --> 00:25:02,240
and then when you connect to your target

925
00:25:00,799 --> 00:25:04,000
they're more likely to accept it because

926
00:25:02,240 --> 00:25:05,679
they see that familiarity

927
00:25:04,000 --> 00:25:07,039
lead generation sites there used to be a

928
00:25:05,679 --> 00:25:08,480
lot of these i mean there's still quite

929
00:25:07,039 --> 00:25:09,919
a few out there but a lot of them more

930
00:25:08,480 --> 00:25:12,080
pay to play nowadays

931
00:25:09,919 --> 00:25:13,279
you know biz shark nipple people i'm not

932
00:25:12,080 --> 00:25:15,600
sure how to say that clear bit

933
00:25:13,279 --> 00:25:18,080
a lot of times here's here's this game

934
00:25:15,600 --> 00:25:19,520
where they want their data to be seen on

935
00:25:18,080 --> 00:25:20,720
google to a point like when you search

936
00:25:19,520 --> 00:25:21,279
for something they want you to be able

937
00:25:20,720 --> 00:25:23,760
to find

938
00:25:21,279 --> 00:25:25,039
their name their company their whatever

939
00:25:23,760 --> 00:25:26,640
so you come to them

940
00:25:25,039 --> 00:25:27,679
but they don't want to give access to

941
00:25:26,640 --> 00:25:29,120
all of their stuff they don't want to

942
00:25:27,679 --> 00:25:30,960
make it easy spider-man

943
00:25:29,120 --> 00:25:32,959
so they're constantly changing how these

944
00:25:30,960 --> 00:25:34,799
pages are set up and also these these

945
00:25:32,960 --> 00:25:36,480
sites go away new ones come up

946
00:25:34,799 --> 00:25:38,639
generally what you can do is you can

947
00:25:36,480 --> 00:25:39,440
once you find a particular person at a

948
00:25:38,640 --> 00:25:41,039
company's

949
00:25:39,440 --> 00:25:42,559
user information on one of these sites

950
00:25:41,039 --> 00:25:43,840
maybe it's just username password

951
00:25:42,559 --> 00:25:45,678
i'm sorry maybe it's just first name

952
00:25:43,840 --> 00:25:46,959
last name maybe it's you know actual

953
00:25:45,679 --> 00:25:48,559
email address or phone number

954
00:25:46,960 --> 00:25:50,000
if you're lucky but even if it's just

955
00:25:48,559 --> 00:25:51,600
first name and last name if you look at

956
00:25:50,000 --> 00:25:53,120
that individual page

957
00:25:51,600 --> 00:25:54,799
try to find things that are unique about

958
00:25:53,120 --> 00:25:57,678
that page that then you can

959
00:25:54,799 --> 00:25:58,158
search with search operatives like the

960
00:25:57,679 --> 00:26:00,640
site

961
00:25:58,159 --> 00:26:02,080
or in url or stuff like that then you

962
00:26:00,640 --> 00:26:04,400
can start narrowing it down

963
00:26:02,080 --> 00:26:05,279
and find ways to find okay you know this

964
00:26:04,400 --> 00:26:07,600
lists

965
00:26:05,279 --> 00:26:09,120
company name colon the company name and

966
00:26:07,600 --> 00:26:10,879
then whatever maybe i can search for

967
00:26:09,120 --> 00:26:11,360
pages that just have that specific thing

968
00:26:10,880 --> 00:26:13,200
in it

969
00:26:11,360 --> 00:26:15,279
on this domain there's there's ways of

970
00:26:13,200 --> 00:26:16,799
doing that data.com used to be the best

971
00:26:15,279 --> 00:26:17,840
at this that was an amazing site

972
00:26:16,799 --> 00:26:19,039
i'm not gonna spend a lot of time

973
00:26:17,840 --> 00:26:20,720
talking about it but unfortunately

974
00:26:19,039 --> 00:26:21,440
salesforce bought it and realized how

975
00:26:20,720 --> 00:26:23,120
bad it was

976
00:26:21,440 --> 00:26:25,279
and shut it down so the value of

977
00:26:23,120 --> 00:26:27,120
data.com was you could sign up for a

978
00:26:25,279 --> 00:26:29,039
free account and get free access

979
00:26:27,120 --> 00:26:30,239
if you shared all of your contact

980
00:26:29,039 --> 00:26:31,679
information and so

981
00:26:30,240 --> 00:26:33,360
every sales person in the world every

982
00:26:31,679 --> 00:26:34,000
marketing person in the world they don't

983
00:26:33,360 --> 00:26:36,158
care about

984
00:26:34,000 --> 00:26:37,840
the privacy of the of their customers

985
00:26:36,159 --> 00:26:38,320
data so sure they would connect and

986
00:26:37,840 --> 00:26:40,720
share it

987
00:26:38,320 --> 00:26:41,520
and that gave them access to other

988
00:26:40,720 --> 00:26:42,559
people and so

989
00:26:41,520 --> 00:26:43,520
there was no way it's kind of like the

990
00:26:42,559 --> 00:26:45,039
facebook thing there was no way to

991
00:26:43,520 --> 00:26:46,400
protect your information

992
00:26:45,039 --> 00:26:47,679
other people that you've already given

993
00:26:46,400 --> 00:26:48,159
your information have to protect it for

994
00:26:47,679 --> 00:26:50,000
you

995
00:26:48,159 --> 00:26:51,679
and grab a lot there's some tools out

996
00:26:50,000 --> 00:26:53,440
there recon ng the harvester davis

997
00:26:51,679 --> 00:26:55,760
exploit you can google those and find

998
00:26:53,440 --> 00:26:57,279
tutorials and stuff like that

999
00:26:55,760 --> 00:26:58,799
some other things to find victims the

1000
00:26:57,279 --> 00:27:00,480
company's website obviously look at

1001
00:26:58,799 --> 00:27:02,639
their blog look at people that post

1002
00:27:00,480 --> 00:27:03,520
stuff like that metadata right if you

1003
00:27:02,640 --> 00:27:05,919
use like a

1004
00:27:03,520 --> 00:27:06,879
file type operative on google or bing

1005
00:27:05,919 --> 00:27:09,840
has something similar

1006
00:27:06,880 --> 00:27:10,480
find files pdfs or documents excel files

1007
00:27:09,840 --> 00:27:11,760
whatever

1008
00:27:10,480 --> 00:27:13,520
download those and then look at the

1009
00:27:11,760 --> 00:27:14,799
document metadata a lot of times that's

1010
00:27:13,520 --> 00:27:16,000
a way to find some user names and

1011
00:27:14,799 --> 00:27:17,679
targets and that sort of stuff

1012
00:27:16,000 --> 00:27:19,919
you know social media i mentioned third

1013
00:27:17,679 --> 00:27:21,279
party tools find out what types of tools

1014
00:27:19,919 --> 00:27:22,080
they're using what systems do your

1015
00:27:21,279 --> 00:27:23,919
targets use

1016
00:27:22,080 --> 00:27:25,199
if they post stuff on github great go to

1017
00:27:23,919 --> 00:27:27,279
github and let's look for

1018
00:27:25,200 --> 00:27:28,720
who are contributing to you know maybe

1019
00:27:27,279 --> 00:27:30,159
their open source projects you know

1020
00:27:28,720 --> 00:27:31,279
stuff like that looking around there's

1021
00:27:30,159 --> 00:27:33,039
ways of doing that

1022
00:27:31,279 --> 00:27:34,080
if they put out press releases who's you

1023
00:27:33,039 --> 00:27:34,879
know what names are on the press

1024
00:27:34,080 --> 00:27:36,240
releases

1025
00:27:34,880 --> 00:27:37,919
that's that's the way to do it data

1026
00:27:36,240 --> 00:27:39,520
breach dumps is another one before we

1027
00:27:37,919 --> 00:27:42,000
start any engagement we've got

1028
00:27:39,520 --> 00:27:43,760
a pretty significant data repository of

1029
00:27:42,000 --> 00:27:45,840
data breach dumps that we've downloaded

1030
00:27:43,760 --> 00:27:47,360
and so we'll go grab for that particular

1031
00:27:45,840 --> 00:27:49,520
organization's domain name

1032
00:27:47,360 --> 00:27:51,199
find users that are in that and then you

1033
00:27:49,520 --> 00:27:52,240
know that's the potential targets that

1034
00:27:51,200 --> 00:27:53,840
we can use

1035
00:27:52,240 --> 00:27:55,840
active directory obviously if you can

1036
00:27:53,840 --> 00:27:57,120
get into ad you can do username

1037
00:27:55,840 --> 00:27:58,158
harvesting stuff like that that's a

1038
00:27:57,120 --> 00:27:59,918
great option

1039
00:27:58,159 --> 00:28:02,159
uh also things like you know if they

1040
00:27:59,919 --> 00:28:04,399
have a an email like a webmail

1041
00:28:02,159 --> 00:28:06,080
or an smtp server anything that you can

1042
00:28:04,399 --> 00:28:07,918
connect to and do username harvesting

1043
00:28:06,080 --> 00:28:09,279
you know if you combine the username or

1044
00:28:07,919 --> 00:28:10,640
i'm sorry the first name last name that

1045
00:28:09,279 --> 00:28:11,520
you got from some of the other you know

1046
00:28:10,640 --> 00:28:14,000
social media

1047
00:28:11,520 --> 00:28:15,360
and and the other sites combine that

1048
00:28:14,000 --> 00:28:17,200
with username harvesting figure out

1049
00:28:15,360 --> 00:28:19,199
their their username format that's a

1050
00:28:17,200 --> 00:28:21,360
that's a way to find targets there

1051
00:28:19,200 --> 00:28:23,360
and then of course fishing or phishing

1052
00:28:21,360 --> 00:28:24,959
sales people are trained to be helpful

1053
00:28:23,360 --> 00:28:25,600
and so if you can get a sales person on

1054
00:28:24,960 --> 00:28:27,520
the call

1055
00:28:25,600 --> 00:28:29,439
call the company ask to talk to their

1056
00:28:27,520 --> 00:28:30,080
sales department and then have a ruse

1057
00:28:29,440 --> 00:28:31,440
and start

1058
00:28:30,080 --> 00:28:33,279
that's a great way to find out more

1059
00:28:31,440 --> 00:28:33,600
information finding out who a particular

1060
00:28:33,279 --> 00:28:35,760
set

1061
00:28:33,600 --> 00:28:37,520
sysadmin or a support team for a

1062
00:28:35,760 --> 00:28:39,600
particular product might be difficult

1063
00:28:37,520 --> 00:28:41,600
but that sales person you know hey i'm

1064
00:28:39,600 --> 00:28:43,039
customer blah blah blah i'm working with

1065
00:28:41,600 --> 00:28:44,879
i was working with one of your admins i

1066
00:28:43,039 --> 00:28:46,158
ran into this problem and and we've been

1067
00:28:44,880 --> 00:28:47,360
a customer for a while but i had this

1068
00:28:46,159 --> 00:28:49,200
problem and it's a hassle and

1069
00:28:47,360 --> 00:28:50,639
i can't remember this guy's name i i've

1070
00:28:49,200 --> 00:28:52,080
gone through the support that the first

1071
00:28:50,640 --> 00:28:53,520
level and it sucks but i got

1072
00:28:52,080 --> 00:28:55,439
i got a hold of this one admin and he

1073
00:28:53,520 --> 00:28:57,120
was awesome can you help me can you can

1074
00:28:55,440 --> 00:28:58,640
you forward me to him so that i can

1075
00:28:57,120 --> 00:29:00,639
follow up with this issue we were on

1076
00:28:58,640 --> 00:29:01,919
before find the right person be just a

1077
00:29:00,640 --> 00:29:03,760
little bit of an annoyance

1078
00:29:01,919 --> 00:29:05,120
and give them an easy out and a lot of

1079
00:29:03,760 --> 00:29:06,640
times they will forward you to or give

1080
00:29:05,120 --> 00:29:08,000
you the name of somebody like that that

1081
00:29:06,640 --> 00:29:09,279
would be an awesome target so that's

1082
00:29:08,000 --> 00:29:10,320
that's something to think about there

1083
00:29:09,279 --> 00:29:11,840
the next section i'm going to spend a

1084
00:29:10,320 --> 00:29:12,320
little time talking about infrastructure

1085
00:29:11,840 --> 00:29:13,760
setup

1086
00:29:12,320 --> 00:29:15,360
i'm gonna kind of rush over this just

1087
00:29:13,760 --> 00:29:17,279
for the sake of time so

1088
00:29:15,360 --> 00:29:18,639
obviously you know your laptop is really

1089
00:29:17,279 --> 00:29:20,320
all you need to send emails that's

1090
00:29:18,640 --> 00:29:22,640
probably not the most effective use

1091
00:29:20,320 --> 00:29:23,918
we do stuff in aws you know moving stuff

1092
00:29:22,640 --> 00:29:25,360
cloud base has been helpful

1093
00:29:23,919 --> 00:29:28,080
honestly sending stuff through gmail or

1094
00:29:25,360 --> 00:29:29,918
office 365 is my go-to if i can send an

1095
00:29:28,080 --> 00:29:32,000
email through gmail or office 365

1096
00:29:29,919 --> 00:29:33,679
and it gets passed and it gets past

1097
00:29:32,000 --> 00:29:34,799
their spam protection

1098
00:29:33,679 --> 00:29:36,240
it's almost certainly going to get to

1099
00:29:34,799 --> 00:29:37,440
the user now sometimes you have to be

1100
00:29:36,240 --> 00:29:39,120
careful because you send something you

1101
00:29:37,440 --> 00:29:40,080
test it it works you send it again and

1102
00:29:39,120 --> 00:29:41,279
now it's blocked

1103
00:29:40,080 --> 00:29:43,039
right they're pretty proactive on that

1104
00:29:41,279 --> 00:29:44,880
kind of stuff but if you can use those

1105
00:29:43,039 --> 00:29:46,559
existing services that's a great way

1106
00:29:44,880 --> 00:29:48,159
things like mailchimp and sendgrid i've

1107
00:29:46,559 --> 00:29:49,600
seen people use those but you got to

1108
00:29:48,159 --> 00:29:50,799
recognize you're probably violating

1109
00:29:49,600 --> 00:29:52,639
their terms of service

1110
00:29:50,799 --> 00:29:54,000
so think about that or if you can do

1111
00:29:52,640 --> 00:29:55,200
some reconnaissance if your target has

1112
00:29:54,000 --> 00:29:57,039
an open mail relay

1113
00:29:55,200 --> 00:29:59,200
a lot of organizations have internal

1114
00:29:57,039 --> 00:30:00,960
open relays so if you combine like a

1115
00:29:59,200 --> 00:30:03,039
phishing attack as part of an

1116
00:30:00,960 --> 00:30:04,399
existing internal attack you know maybe

1117
00:30:03,039 --> 00:30:05,279
you're simulating a compromised

1118
00:30:04,399 --> 00:30:06,879
workstation

1119
00:30:05,279 --> 00:30:08,559
you can use an open relay maybe to send

1120
00:30:06,880 --> 00:30:09,520
internal emails that otherwise would

1121
00:30:08,559 --> 00:30:10,639
have been blocked

1122
00:30:09,520 --> 00:30:12,158
some other considerations on the

1123
00:30:10,640 --> 00:30:13,440
infrastructure server age i talked about

1124
00:30:12,159 --> 00:30:15,039
that before domain age

1125
00:30:13,440 --> 00:30:16,799
ip reputations those are all things you

1126
00:30:15,039 --> 00:30:19,279
need to take into consideration

1127
00:30:16,799 --> 00:30:20,080
some specific tools you can use just do

1128
00:30:19,279 --> 00:30:21,360
some of this

1129
00:30:20,080 --> 00:30:22,639
send mail there's different tool kits

1130
00:30:21,360 --> 00:30:23,760
out there again i'm not going to walk

1131
00:30:22,640 --> 00:30:25,440
through all of these you can google

1132
00:30:23,760 --> 00:30:27,200
those there's lots of different things

1133
00:30:25,440 --> 00:30:28,799
like any good problem in security lots

1134
00:30:27,200 --> 00:30:29,440
of people have come up with open source

1135
00:30:28,799 --> 00:30:30,960
tools

1136
00:30:29,440 --> 00:30:32,480
that are out there and so finding the

1137
00:30:30,960 --> 00:30:33,120
right one that works best for you is

1138
00:30:32,480 --> 00:30:34,559
great

1139
00:30:33,120 --> 00:30:36,000
fish me know before stuff like that

1140
00:30:34,559 --> 00:30:37,120
again it comes back to what's your goal

1141
00:30:36,000 --> 00:30:38,559
what are you trying to do

1142
00:30:37,120 --> 00:30:40,158
and figuring out the right technology

1143
00:30:38,559 --> 00:30:41,678
the right toolkit for that some

1144
00:30:40,159 --> 00:30:42,559
alternatives to think about as far as

1145
00:30:41,679 --> 00:30:45,039
infrastructure goes

1146
00:30:42,559 --> 00:30:46,559
you know sms text messages social media

1147
00:30:45,039 --> 00:30:48,000
whatsapp slack next door

1148
00:30:46,559 --> 00:30:50,080
you don't have to it doesn't have to be

1149
00:30:48,000 --> 00:30:51,840
all email anymore right so you find you

1150
00:30:50,080 --> 00:30:53,439
know depending on what your goal is

1151
00:30:51,840 --> 00:30:54,879
finding ways to bypass maybe those

1152
00:30:53,440 --> 00:30:56,640
bluetooth i'll tell you this

1153
00:30:54,880 --> 00:30:58,720
most blue team departments do a great

1154
00:30:56,640 --> 00:31:01,039
job with

1155
00:30:58,720 --> 00:31:03,200
with with catching email-based fishing

1156
00:31:01,039 --> 00:31:04,799
they do a much worse job with slack and

1157
00:31:03,200 --> 00:31:06,720
next door and whatsapp and stuff like

1158
00:31:04,799 --> 00:31:08,158
that so those are great ways to bypass

1159
00:31:06,720 --> 00:31:10,480
some of those existing controls that are

1160
00:31:08,159 --> 00:31:13,039
in place again think outside the box

1161
00:31:10,480 --> 00:31:14,720
suspicion is contents it's sensitive

1162
00:31:13,039 --> 00:31:16,399
then the last section as i'm kind of

1163
00:31:14,720 --> 00:31:17,519
getting close to the end here the last

1164
00:31:16,399 --> 00:31:19,199
section i want to talk a little bit

1165
00:31:17,519 --> 00:31:20,640
about is on bypassing defenses

1166
00:31:19,200 --> 00:31:22,080
and i already said like i'm not going to

1167
00:31:20,640 --> 00:31:23,360
give you the latest greatest most

1168
00:31:22,080 --> 00:31:24,879
amazing things that are out there but

1169
00:31:23,360 --> 00:31:25,840
there are some things that consistently

1170
00:31:24,880 --> 00:31:28,240
work over time

1171
00:31:25,840 --> 00:31:30,000
first off antivirus stuff tends to still

1172
00:31:28,240 --> 00:31:31,279
be fairly reliable it's getting worse

1173
00:31:30,000 --> 00:31:32,960
now it's not getting worse the the

1174
00:31:31,279 --> 00:31:34,480
defenses are getting better i'll tell

1175
00:31:32,960 --> 00:31:36,720
you i've said before when

1176
00:31:34,480 --> 00:31:37,840
when the the advanced ddr solutions when

1177
00:31:36,720 --> 00:31:39,760
that becomes the norm

1178
00:31:37,840 --> 00:31:41,360
and not the exception we're still at

1179
00:31:39,760 --> 00:31:43,360
that point where it's becoming more and

1180
00:31:41,360 --> 00:31:45,199
more popular but for most of our tests

1181
00:31:43,360 --> 00:31:46,879
it's the exception when it becomes the

1182
00:31:45,200 --> 00:31:48,320
norm i'm probably going to go find a new

1183
00:31:46,880 --> 00:31:49,440
job i don't know maybe i'll graduate

1184
00:31:48,320 --> 00:31:49,918
into management or something at that

1185
00:31:49,440 --> 00:31:51,279
point

1186
00:31:49,919 --> 00:31:52,720
because those tools are doing a great

1187
00:31:51,279 --> 00:31:53,679
job of detecting this kind of stuff

1188
00:31:52,720 --> 00:31:54,320
we're having to be more and more

1189
00:31:53,679 --> 00:31:56,080
creative

1190
00:31:54,320 --> 00:31:58,240
but those are some other options for

1191
00:31:56,080 --> 00:32:00,879
detecting what will be detected by

1192
00:31:58,240 --> 00:32:02,159
by uh malware i will tell you this i

1193
00:32:00,880 --> 00:32:03,440
thought this was funny we had a we had a

1194
00:32:02,159 --> 00:32:04,799
customer that required us to have

1195
00:32:03,440 --> 00:32:05,519
policies you know as part of our due

1196
00:32:04,799 --> 00:32:07,840
diligence

1197
00:32:05,519 --> 00:32:08,960
for con for the contract we had to to

1198
00:32:07,840 --> 00:32:11,360
send them our

1199
00:32:08,960 --> 00:32:12,799
our uh incident response policy and our

1200
00:32:11,360 --> 00:32:14,080
disaster recovery policy and all this

1201
00:32:12,799 --> 00:32:16,000
and they required us to have a

1202
00:32:14,080 --> 00:32:17,678
antivirus policy we didn't have one we

1203
00:32:16,000 --> 00:32:18,559
didn't have a formal av policy we're a

1204
00:32:17,679 --> 00:32:20,480
small company

1205
00:32:18,559 --> 00:32:22,480
at the time i think we all used macs and

1206
00:32:20,480 --> 00:32:25,360
so i made up our policy our poli

1207
00:32:22,480 --> 00:32:26,240
our official secure ideas antivirus

1208
00:32:25,360 --> 00:32:27,760
policy was

1209
00:32:26,240 --> 00:32:29,760
do not upload your payloads to

1210
00:32:27,760 --> 00:32:30,480
virustotal and so we wrote that as our

1211
00:32:29,760 --> 00:32:32,320
official

1212
00:32:30,480 --> 00:32:33,840
virus policy i was pretty pretty pleased

1213
00:32:32,320 --> 00:32:35,600
with that how well does defender with

1214
00:32:33,840 --> 00:32:38,399
atp do against this stuff

1215
00:32:35,600 --> 00:32:39,439
really really good atp has gotten

1216
00:32:38,399 --> 00:32:42,158
incredible i

1217
00:32:39,440 --> 00:32:43,840
i've been really really impressed and

1218
00:32:42,159 --> 00:32:44,640
depressed at the same time with how well

1219
00:32:43,840 --> 00:32:46,639
that has gotten

1220
00:32:44,640 --> 00:32:48,960
i'll tell you i met at black hat last

1221
00:32:46,640 --> 00:32:50,960
year every other person i met was from

1222
00:32:48,960 --> 00:32:51,840
either the atp team or the defender team

1223
00:32:50,960 --> 00:32:53,519
at microsoft

1224
00:32:51,840 --> 00:32:54,879
i think they hired half of the people in

1225
00:32:53,519 --> 00:32:56,399
israel to come work for them

1226
00:32:54,880 --> 00:32:57,600
and they have just put a ridiculous

1227
00:32:56,399 --> 00:32:58,080
amount of resources into making that

1228
00:32:57,600 --> 00:33:00,158
better

1229
00:32:58,080 --> 00:33:01,600
so i i'm a big fan i don't get anything

1230
00:33:00,159 --> 00:33:02,399
out of that i'm not a microsoft fanboy

1231
00:33:01,600 --> 00:33:05,039
by any stretch

1232
00:33:02,399 --> 00:33:05,760
doing this from a mac but uh i i do like

1233
00:33:05,039 --> 00:33:07,200
atp

1234
00:33:05,760 --> 00:33:08,320
and you know some of the others too

1235
00:33:07,200 --> 00:33:09,279
that's not to say anything negative

1236
00:33:08,320 --> 00:33:10,399
about the others there's some other

1237
00:33:09,279 --> 00:33:12,880
great ones as well

1238
00:33:10,399 --> 00:33:14,879
watch out for automated sandbox analysis

1239
00:33:12,880 --> 00:33:16,480
when you send that phishing email

1240
00:33:14,880 --> 00:33:18,159
you if they have any kind of security

1241
00:33:16,480 --> 00:33:19,919
controls in place you almost certainly

1242
00:33:18,159 --> 00:33:23,360
will get connections back to you

1243
00:33:19,919 --> 00:33:24,000
from ips from places like palo alto or

1244
00:33:23,360 --> 00:33:25,360
crowdstrike

1245
00:33:24,000 --> 00:33:26,799
or whatever like they're taking this

1246
00:33:25,360 --> 00:33:28,080
stuff they're seeing it they come in

1247
00:33:26,799 --> 00:33:31,519
they send it off to a

1248
00:33:28,080 --> 00:33:32,960
to a virtual machine sandbox do an

1249
00:33:31,519 --> 00:33:34,240
analysis and that kind of stuff

1250
00:33:32,960 --> 00:33:36,399
so there are some things you can do to

1251
00:33:34,240 --> 00:33:37,360
kind of prevent that pay attention edr i

1252
00:33:36,399 --> 00:33:38,799
already talked about that

1253
00:33:37,360 --> 00:33:41,360
good luck i have found that keeping it

1254
00:33:38,799 --> 00:33:44,158
simple is the best way if you can attack

1255
00:33:41,360 --> 00:33:46,240
people's psychology their mentality if

1256
00:33:44,159 --> 00:33:47,840
you can attack their good nature

1257
00:33:46,240 --> 00:33:50,000
without actually having malicious

1258
00:33:47,840 --> 00:33:52,879
content in email that's the most

1259
00:33:50,000 --> 00:33:54,960
successful attack method i don't know

1260
00:33:52,880 --> 00:33:56,640
how to say your name sci-14r

1261
00:33:54,960 --> 00:33:58,960
suggested that uh if microsoft would

1262
00:33:56,640 --> 00:34:00,399
release atp for for home version

1263
00:33:58,960 --> 00:34:01,919
they would definitely be able to collect

1264
00:34:00,399 --> 00:34:02,879
a lot of a lot of data it'd be pretty

1265
00:34:01,919 --> 00:34:05,279
awesome

1266
00:34:02,880 --> 00:34:07,039
so bypassing content filtering my

1267
00:34:05,279 --> 00:34:09,280
solution for bypassing content filtering

1268
00:34:07,039 --> 00:34:10,960
so there's a couple of options one is

1269
00:34:09,280 --> 00:34:12,960
you can go through like all of these

1270
00:34:10,960 --> 00:34:14,639
solutions have their ability to go

1271
00:34:12,960 --> 00:34:16,240
submit your site

1272
00:34:14,639 --> 00:34:17,760
to the form so that it can get

1273
00:34:16,239 --> 00:34:19,918
whitelisted my recommendation

1274
00:34:17,760 --> 00:34:20,879
get your new domain name put something

1275
00:34:19,918 --> 00:34:23,679
very benign

1276
00:34:20,879 --> 00:34:25,679
on it send an email or submit the form

1277
00:34:23,679 --> 00:34:27,359
to these saying hey this is just a

1278
00:34:25,679 --> 00:34:28,879
site that our customers use to check the

1279
00:34:27,359 --> 00:34:31,359
status of a server or

1280
00:34:28,879 --> 00:34:32,319
whatever right something very simple get

1281
00:34:31,359 --> 00:34:34,560
it approved

1282
00:34:32,320 --> 00:34:35,760
and then you can go change the content

1283
00:34:34,560 --> 00:34:38,078
or if you want to watch

1284
00:34:35,760 --> 00:34:39,440
watch the uh watch your logs and so

1285
00:34:38,079 --> 00:34:41,440
after you submit this

1286
00:34:39,440 --> 00:34:43,520
watch the logs to see the ip addresses

1287
00:34:41,440 --> 00:34:44,240
of where they're coming from to check

1288
00:34:43,520 --> 00:34:46,399
these

1289
00:34:44,239 --> 00:34:47,520
and then go put in custom responses in

1290
00:34:46,399 --> 00:34:49,520
your web server

1291
00:34:47,520 --> 00:34:51,199
so that if any of those ips come back

1292
00:34:49,520 --> 00:34:52,800
all they see is the benign site

1293
00:34:51,199 --> 00:34:54,239
if your target ips come back they see

1294
00:34:52,800 --> 00:34:54,960
the malicious stuff something to

1295
00:34:54,239 --> 00:34:57,118
consider

1296
00:34:54,960 --> 00:34:58,079
another consideration expired domains

1297
00:34:57,119 --> 00:34:59,680
there's two sites here expired

1298
00:34:58,079 --> 00:35:00,560
domains.net freshdrop.com there's

1299
00:34:59,680 --> 00:35:02,078
probably others

1300
00:35:00,560 --> 00:35:03,920
these basically make a list of all the

1301
00:35:02,079 --> 00:35:06,480
domains that have expired in the last 24

1302
00:35:03,920 --> 00:35:08,720
hours 48 hours 72 hours whatever

1303
00:35:06,480 --> 00:35:10,400
this is a fantastic solution i mentioned

1304
00:35:08,720 --> 00:35:12,560
earlier the march madness thing

1305
00:35:10,400 --> 00:35:14,160
i wanted to do this and so i didn't know

1306
00:35:12,560 --> 00:35:15,200
what content filtering the customer used

1307
00:35:14,160 --> 00:35:16,319
and i knew it would take a hassle to

1308
00:35:15,200 --> 00:35:16,879
figure that out and do that for common

1309
00:35:16,320 --> 00:35:18,480
sense

1310
00:35:16,880 --> 00:35:20,079
what i did was i basically went and i

1311
00:35:18,480 --> 00:35:20,640
searched for expired domains this was

1312
00:35:20,079 --> 00:35:22,320
like in

1313
00:35:20,640 --> 00:35:23,759
it was either early march late february

1314
00:35:22,320 --> 00:35:25,280
or something like that but i searched

1315
00:35:23,760 --> 00:35:27,720
for expired domains that contain the

1316
00:35:25,280 --> 00:35:29,119
words march madness and i found one

1317
00:35:27,720 --> 00:35:30,799
marchmadnessjunkie.com

1318
00:35:29,119 --> 00:35:32,320
somebody had a great idea they built a

1319
00:35:30,800 --> 00:35:34,320
site they got it approved

1320
00:35:32,320 --> 00:35:35,760
it was you know properly registered with

1321
00:35:34,320 --> 00:35:37,440
all the content filtering

1322
00:35:35,760 --> 00:35:39,359
and it was unsuccessful and so they left

1323
00:35:37,440 --> 00:35:39,680
the domain name expire so i registered

1324
00:35:39,359 --> 00:35:41,759
it

1325
00:35:39,680 --> 00:35:43,200
i copied an existing march madness site

1326
00:35:41,760 --> 00:35:45,680
and then i used that as the

1327
00:35:43,200 --> 00:35:47,279
in you know for my for my fish that was

1328
00:35:45,680 --> 00:35:47,598
a great way to i didn't have to worry

1329
00:35:47,280 --> 00:35:49,040
about

1330
00:35:47,599 --> 00:35:50,880
submitting it for filtering i just let

1331
00:35:49,040 --> 00:35:52,960
them do what they already had

1332
00:35:50,880 --> 00:35:54,160
some things about watching for anti-spam

1333
00:35:52,960 --> 00:35:55,920
somebody mentioned proofpoint yeah they

1334
00:35:54,160 --> 00:35:57,680
do a really good job of blocking stuff

1335
00:35:55,920 --> 00:35:59,920
make sure your spf records and your dkim

1336
00:35:57,680 --> 00:36:00,640
rep records and your dmarc stuff is all

1337
00:35:59,920 --> 00:36:03,040
set up

1338
00:36:00,640 --> 00:36:03,759
consider sending via gmail in office 365

1339
00:36:03,040 --> 00:36:06,640
i mentioned that

1340
00:36:03,760 --> 00:36:07,680
check blacklists regularly consistently

1341
00:36:06,640 --> 00:36:08,240
make sure your stuff's not getting

1342
00:36:07,680 --> 00:36:10,000
blocked

1343
00:36:08,240 --> 00:36:11,839
there are several resources that are

1344
00:36:10,000 --> 00:36:13,280
great for checking whether or not some

1345
00:36:11,839 --> 00:36:15,200
your email is going to get blocked by

1346
00:36:13,280 --> 00:36:17,440
spam so so try those out

1347
00:36:15,200 --> 00:36:19,040
use those tools they're legitimate tools

1348
00:36:17,440 --> 00:36:20,960
we might as well use them to uh

1349
00:36:19,040 --> 00:36:22,160
to check our our attack simulations as

1350
00:36:20,960 --> 00:36:23,839
well also

1351
00:36:22,160 --> 00:36:25,040
find out what your customer uses right

1352
00:36:23,839 --> 00:36:26,320
i've talked about that before if you can

1353
00:36:25,040 --> 00:36:27,200
find out what controls they have in

1354
00:36:26,320 --> 00:36:28,560
place

1355
00:36:27,200 --> 00:36:30,160
maybe something with march madness being

1356
00:36:28,560 --> 00:36:30,480
cancelled would work because the code

1357
00:36:30,160 --> 00:36:32,160
the

1358
00:36:30,480 --> 00:36:33,280
19 instance of yeah exactly you know

1359
00:36:32,160 --> 00:36:34,240
trying to find that boundary of what's

1360
00:36:33,280 --> 00:36:35,920
safe and what's not

1361
00:36:34,240 --> 00:36:37,520
and then again discuss with the client

1362
00:36:35,920 --> 00:36:38,720
if you make it more of a gray box or a

1363
00:36:37,520 --> 00:36:40,880
white box test

1364
00:36:38,720 --> 00:36:43,040
sometimes you can get more successful

1365
00:36:40,880 --> 00:36:44,480
results getting close to the end here

1366
00:36:43,040 --> 00:36:45,920
talking about landing pages

1367
00:36:44,480 --> 00:36:47,599
you know some consideration there

1368
00:36:45,920 --> 00:36:48,880
duplicate real side to build your own

1369
00:36:47,599 --> 00:36:50,480
there's some options there

1370
00:36:48,880 --> 00:36:51,920
one of the things that we do for our

1371
00:36:50,480 --> 00:36:53,520
user awareness training when we do a

1372
00:36:51,920 --> 00:36:55,359
large amount of fishing and sometimes we

1373
00:36:53,520 --> 00:36:56,079
do this for goal based attacks if we

1374
00:36:55,359 --> 00:36:58,000
have a

1375
00:36:56,079 --> 00:37:00,079
significant number of people is we will

1376
00:36:58,000 --> 00:37:00,960
have a user i'm sorry a unique user

1377
00:37:00,079 --> 00:37:03,280
identifier

1378
00:37:00,960 --> 00:37:04,560
so that every link in that email has

1379
00:37:03,280 --> 00:37:06,000
that uuid

1380
00:37:04,560 --> 00:37:07,279
and then that way we can track so even

1381
00:37:06,000 --> 00:37:08,720
if somebody comes to the site but they

1382
00:37:07,280 --> 00:37:10,000
don't actually put in

1383
00:37:08,720 --> 00:37:11,598
credentials or maybe they don't put in

1384
00:37:10,000 --> 00:37:12,240
valid credentials we can at least

1385
00:37:11,599 --> 00:37:13,680
identify

1386
00:37:12,240 --> 00:37:15,359
here's the email address that was sent

1387
00:37:13,680 --> 00:37:16,960
to and here's who clicked it

1388
00:37:15,359 --> 00:37:18,640
that's really fun when you have people

1389
00:37:16,960 --> 00:37:19,680
like we i can't remember what the fish

1390
00:37:18,640 --> 00:37:20,400
was but we had one that was really

1391
00:37:19,680 --> 00:37:22,319
successful

1392
00:37:20,400 --> 00:37:23,599
the dude opened it he couldn't get it to

1393
00:37:22,320 --> 00:37:26,640
work like the the

1394
00:37:23,599 --> 00:37:28,000
the executable we had the file it didn't

1395
00:37:26,640 --> 00:37:29,359
run it crashed or something or maybe i

1396
00:37:28,000 --> 00:37:31,200
think it gave us a shell

1397
00:37:29,359 --> 00:37:33,119
again it was you know interpreter or

1398
00:37:31,200 --> 00:37:34,560
powershell empire or something like that

1399
00:37:33,119 --> 00:37:35,839
but then like he didn't see what he was

1400
00:37:34,560 --> 00:37:36,799
expecting and so he sent it to another

1401
00:37:35,839 --> 00:37:38,000
computer and that didn't work and then

1402
00:37:36,800 --> 00:37:39,440
he sent it to his wife's

1403
00:37:38,000 --> 00:37:41,440
at work and then he opened it from home

1404
00:37:39,440 --> 00:37:43,200
and we got like five or six different

1405
00:37:41,440 --> 00:37:44,720
shells on different computers from this

1406
00:37:43,200 --> 00:37:45,919
one guy we were able to tell that just

1407
00:37:44,720 --> 00:37:47,919
because the uuid

1408
00:37:45,920 --> 00:37:49,280
included them also it's useful to be

1409
00:37:47,920 --> 00:37:50,640
able to tell the difference between

1410
00:37:49,280 --> 00:37:51,760
a b testing right we're going to send

1411
00:37:50,640 --> 00:37:52,400
this email to this group and this email

1412
00:37:51,760 --> 00:37:53,760
to this group

1413
00:37:52,400 --> 00:37:55,599
and being able to identify which ones

1414
00:37:53,760 --> 00:37:57,200
went where source ip restrictions i

1415
00:37:55,599 --> 00:37:59,200
mentioned that as a way to get past

1416
00:37:57,200 --> 00:38:01,118
some of that automated detection time

1417
00:37:59,200 --> 00:38:02,879
restrictions we do that sometimes where

1418
00:38:01,119 --> 00:38:04,400
we're going to send this fishing here

1419
00:38:02,880 --> 00:38:05,440
and we expect people to click on it the

1420
00:38:04,400 --> 00:38:07,119
next three hours

1421
00:38:05,440 --> 00:38:08,640
and so the malicious page is only going

1422
00:38:07,119 --> 00:38:10,400
to be available for three hours and then

1423
00:38:08,640 --> 00:38:13,040
after that it changes to something else

1424
00:38:10,400 --> 00:38:13,760
those are ways to prevent your your

1425
00:38:13,040 --> 00:38:15,440
newly

1426
00:38:13,760 --> 00:38:17,520
registered domain name from getting

1427
00:38:15,440 --> 00:38:18,640
blocked javascript observation there's a

1428
00:38:17,520 --> 00:38:20,160
lot of stuff out there about that i'm

1429
00:38:18,640 --> 00:38:22,240
not going to talk too much about that

1430
00:38:20,160 --> 00:38:23,839
subdomains versus directories right do i

1431
00:38:22,240 --> 00:38:27,200
do i send something to

1432
00:38:23,839 --> 00:38:29,279
mail you know companyname.mailserver.com

1433
00:38:27,200 --> 00:38:31,439
or do i send something to mailserver.com

1434
00:38:29,280 --> 00:38:32,800
companyname i tend to think that people

1435
00:38:31,440 --> 00:38:34,560
are fooled more by

1436
00:38:32,800 --> 00:38:35,920
using a subdomain but that's a little

1437
00:38:34,560 --> 00:38:37,119
bit more of a hassle to set up on a

1438
00:38:35,920 --> 00:38:39,359
case-by-case basis

1439
00:38:37,119 --> 00:38:40,640
i think having an a b testing there of

1440
00:38:39,359 --> 00:38:41,200
being able to go through and say you

1441
00:38:40,640 --> 00:38:43,279
know hey

1442
00:38:41,200 --> 00:38:44,399
we're going to send out a million fishes

1443
00:38:43,280 --> 00:38:45,680
this year and do

1444
00:38:44,400 --> 00:38:47,520
all of it using subdomains we're going

1445
00:38:45,680 --> 00:38:48,799
to send out a million doing directories

1446
00:38:47,520 --> 00:38:50,400
only i think that'd be really cool to

1447
00:38:48,800 --> 00:38:51,680
see the results but i don't have direct

1448
00:38:50,400 --> 00:38:53,040
impact

1449
00:38:51,680 --> 00:38:54,879
payloads i kind of already talked about

1450
00:38:53,040 --> 00:38:56,400
this you know chicago night is dead we

1451
00:38:54,880 --> 00:38:58,480
can't really use that anymore

1452
00:38:56,400 --> 00:38:59,440
this is a constant battle it's a couple

1453
00:38:58,480 --> 00:39:02,320
of things to consider

1454
00:38:59,440 --> 00:39:03,200
use use hosted known sites right use use

1455
00:39:02,320 --> 00:39:06,079
google drive

1456
00:39:03,200 --> 00:39:07,279
use you know known sites that uh dropbox

1457
00:39:06,079 --> 00:39:08,480
places that people are used to

1458
00:39:07,280 --> 00:39:10,880
downloading files from

1459
00:39:08,480 --> 00:39:12,560
that can be a better way to get payloads

1460
00:39:10,880 --> 00:39:14,960
into an organization rather than sending

1461
00:39:12,560 --> 00:39:17,520
it through an email test burn and repeat

1462
00:39:14,960 --> 00:39:18,240
so when an organization says we want you

1463
00:39:17,520 --> 00:39:19,839
to test

1464
00:39:18,240 --> 00:39:21,279
sending us malicious payloads like

1465
00:39:19,839 --> 00:39:22,320
specifically that's what we want we want

1466
00:39:21,280 --> 00:39:23,119
to see if you can get a malicious

1467
00:39:22,320 --> 00:39:24,480
payload buy

1468
00:39:23,119 --> 00:39:25,680
i'm not going to do that as a black box

1469
00:39:24,480 --> 00:39:26,320
thing that would be a total waste of

1470
00:39:25,680 --> 00:39:27,839
time

1471
00:39:26,320 --> 00:39:30,079
what i will do and we've done this on

1472
00:39:27,839 --> 00:39:33,359
several occasions and i don't like it

1473
00:39:30,079 --> 00:39:34,800
but we will generate 30 40 50 payloads

1474
00:39:33,359 --> 00:39:35,200
maybe 20 i don't know whatever the line

1475
00:39:34,800 --> 00:39:36,240
is

1476
00:39:35,200 --> 00:39:38,160
whatever they're willing to pay for is

1477
00:39:36,240 --> 00:39:38,640
what it comes down to we'll send a

1478
00:39:38,160 --> 00:39:41,118
couple

1479
00:39:38,640 --> 00:39:42,400
test them out see if they get through

1480
00:39:41,119 --> 00:39:43,599
try again send a couple more

1481
00:39:42,400 --> 00:39:45,440
try and see what they get through and so

1482
00:39:43,599 --> 00:39:46,880
you're modifying what you're doing

1483
00:39:45,440 --> 00:39:48,960
based on the controls of the

1484
00:39:46,880 --> 00:39:49,520
organization that's very much a white

1485
00:39:48,960 --> 00:39:51,520
box

1486
00:39:49,520 --> 00:39:52,560
type of test where we basically say okay

1487
00:39:51,520 --> 00:39:53,440
i'm going to send you a file you're

1488
00:39:52,560 --> 00:39:54,560
going to open it see what happens i'm

1489
00:39:53,440 --> 00:39:56,079
going to do another file

1490
00:39:54,560 --> 00:39:57,920
try to open it see what happens that is

1491
00:39:56,079 --> 00:39:59,920
a valid option for being able to

1492
00:39:57,920 --> 00:40:02,480
determine the weaknesses in their

1493
00:39:59,920 --> 00:40:04,000
security controls not quite as much of a

1494
00:40:02,480 --> 00:40:05,119
fishing but it does at least help them

1495
00:40:04,000 --> 00:40:07,440
determine are their

1496
00:40:05,119 --> 00:40:08,160
phishing defenses successful and my

1497
00:40:07,440 --> 00:40:09,440
favorite

1498
00:40:08,160 --> 00:40:11,040
and there's different ways of doing this

1499
00:40:09,440 --> 00:40:12,000
it still works fairly well it's sending

1500
00:40:11,040 --> 00:40:14,880
an encrypted

1501
00:40:12,000 --> 00:40:17,040
excel file and by that i mean you send

1502
00:40:14,880 --> 00:40:18,640
an excel file with macros

1503
00:40:17,040 --> 00:40:20,400
of course everybody's been not taught

1504
00:40:18,640 --> 00:40:22,560
not to enable macros right

1505
00:40:20,400 --> 00:40:23,839
so what i've done on multiple occasions

1506
00:40:22,560 --> 00:40:25,119
and i hate that i'm going to burn this

1507
00:40:23,839 --> 00:40:26,160
but i am because it works too well and

1508
00:40:25,119 --> 00:40:28,800
everybody should know about it

1509
00:40:26,160 --> 00:40:30,319
send an excel file with just nothing but

1510
00:40:28,800 --> 00:40:31,920
you know look like random it looks like

1511
00:40:30,319 --> 00:40:33,200
encrypted data right all i did is is

1512
00:40:31,920 --> 00:40:35,040
mashed on my keyboard a bunch of times

1513
00:40:33,200 --> 00:40:37,520
copy and pasted that a thousand times

1514
00:40:35,040 --> 00:40:38,800
and now i just have a thousand cells of

1515
00:40:37,520 --> 00:40:41,200
encrypted data

1516
00:40:38,800 --> 00:40:42,720
and then the very top line says

1517
00:40:41,200 --> 00:40:45,359
something along the lines of

1518
00:40:42,720 --> 00:40:46,319
this file is intended only for users at

1519
00:40:45,359 --> 00:40:47,680
this organization

1520
00:40:46,319 --> 00:40:50,240
if you're not at this organization

1521
00:40:47,680 --> 00:40:51,759
please notify us and and delete it

1522
00:40:50,240 --> 00:40:53,680
if you are a member of this organization

1523
00:40:51,760 --> 00:40:54,560
the file has been encrypted for your

1524
00:40:53,680 --> 00:40:56,240
protection

1525
00:40:54,560 --> 00:40:59,040
please click the enable macros button at

1526
00:40:56,240 --> 00:41:01,598
the top in yellow to decrypt the file

1527
00:40:59,040 --> 00:41:02,480
i will tell you everybody does that

1528
00:41:01,599 --> 00:41:04,000
unless they've

1529
00:41:02,480 --> 00:41:06,079
been specifically trained and seen as an

1530
00:41:04,000 --> 00:41:07,680
example everybody says oh

1531
00:41:06,079 --> 00:41:09,520
okay this is my team they're protecting

1532
00:41:07,680 --> 00:41:10,640
me this is a security control i need to

1533
00:41:09,520 --> 00:41:13,359
run the macros

1534
00:41:10,640 --> 00:41:14,640
to decrypt my file and see what it is so

1535
00:41:13,359 --> 00:41:15,839
a couple final thoughts and then we've

1536
00:41:14,640 --> 00:41:17,680
got time for a couple questions

1537
00:41:15,839 --> 00:41:19,040
remember your goal remember that use

1538
00:41:17,680 --> 00:41:20,078
back channels with clients i didn't

1539
00:41:19,040 --> 00:41:21,359
mention that but

1540
00:41:20,079 --> 00:41:22,640
don't if you've got a client that you're

1541
00:41:21,359 --> 00:41:23,440
interacting with that's not part of the

1542
00:41:22,640 --> 00:41:25,040
blue team

1543
00:41:23,440 --> 00:41:26,319
don't be sending stuff back and forth

1544
00:41:25,040 --> 00:41:27,200
and samples and talking about what

1545
00:41:26,319 --> 00:41:28,960
you're going to do

1546
00:41:27,200 --> 00:41:30,000
and then send the actual fit because if

1547
00:41:28,960 --> 00:41:31,440
you're trying to get around the blue

1548
00:41:30,000 --> 00:41:32,319
team from detecting it

1549
00:41:31,440 --> 00:41:33,280
they're going to go back and they're

1550
00:41:32,319 --> 00:41:35,119
going to search through all the email

1551
00:41:33,280 --> 00:41:36,319
they're going to see your back and forth

1552
00:41:35,119 --> 00:41:38,000
and then that's going to burn your whole

1553
00:41:36,319 --> 00:41:38,400
thing especially if you're trying to be

1554
00:41:38,000 --> 00:41:39,920
quiet

1555
00:41:38,400 --> 00:41:41,680
keep it simple i made it that make it

1556
00:41:39,920 --> 00:41:45,440
familiar and then of course

1557
00:41:41,680 --> 00:41:47,680
don't be too evil so with that questions

1558
00:41:45,440 --> 00:41:49,440
see one there why can your regular users

1559
00:41:47,680 --> 00:41:51,598
execute code via email that's a great

1560
00:41:49,440 --> 00:41:52,720
question which ways can they do that

1561
00:41:51,599 --> 00:41:54,240
and which can you lock down because

1562
00:41:52,720 --> 00:41:55,439
they're not in use inside your own

1563
00:41:54,240 --> 00:41:56,479
organization yeah that's that's

1564
00:41:55,440 --> 00:41:57,839
absolutely great

1565
00:41:56,480 --> 00:41:59,520
in my opinion there's no reason that

1566
00:41:57,839 --> 00:42:01,680
anybody needs to get uh

1567
00:41:59,520 --> 00:42:03,759
executable code in an email but it still

1568
00:42:01,680 --> 00:42:05,040
happens agent rasputin are the slides

1569
00:42:03,760 --> 00:42:07,040
available for the webinar available for

1570
00:42:05,040 --> 00:42:08,560
download i do not have these anywhere

1571
00:42:07,040 --> 00:42:10,400
jason i don't know if there's a formal

1572
00:42:08,560 --> 00:42:11,440
way that you guys are providing slides

1573
00:42:10,400 --> 00:42:12,079
or if i should just provide a link

1574
00:42:11,440 --> 00:42:13,839
somewhere

1575
00:42:12,079 --> 00:42:15,599
but i will make them available so we

1576
00:42:13,839 --> 00:42:17,119
have in the discord we have a place

1577
00:42:15,599 --> 00:42:19,440
called download slides

1578
00:42:17,119 --> 00:42:21,119
so if you put them somewhere go ahead

1579
00:42:19,440 --> 00:42:23,280
and drop that link in there

1580
00:42:21,119 --> 00:42:24,560
okay i will do that after we get done

1581
00:42:23,280 --> 00:42:25,599
here were there any other questions i

1582
00:42:24,560 --> 00:42:26,799
missed i know there's a lot of chatter

1583
00:42:25,599 --> 00:42:29,200
going back and forth

1584
00:42:26,800 --> 00:42:30,400
thanks jeff let's let's i like that make

1585
00:42:29,200 --> 00:42:32,560
sure to enable macros with the

1586
00:42:30,400 --> 00:42:35,119
powerpoint yes

1587
00:42:32,560 --> 00:42:36,720
absolutely all right well like i said

1588
00:42:35,119 --> 00:42:38,720
you can get me at swainey or

1589
00:42:36,720 --> 00:42:40,640
uh nathan at secureaudios.com or i'll be

1590
00:42:38,720 --> 00:42:42,720
in uh i'm in discord i'm swaini

1591
00:42:40,640 --> 00:42:44,078
discord so feel free to reach out to me

1592
00:42:42,720 --> 00:42:46,319
anytime over the next couple days

1593
00:42:44,079 --> 00:42:47,760
and uh is this is this what's your plan

1594
00:42:46,319 --> 00:42:49,119
is this gonna die after a couple days or

1595
00:42:47,760 --> 00:42:50,640
is it gonna stay around or do you know

1596
00:42:49,119 --> 00:42:52,400
since while this hacking fest is a thing

1597
00:42:50,640 --> 00:42:53,040
that we keep going this will either

1598
00:42:52,400 --> 00:42:56,240
evolve

1599
00:42:53,040 --> 00:42:57,119
into deadwood or it will be a place

1600
00:42:56,240 --> 00:42:58,799
where

1601
00:42:57,119 --> 00:43:01,440
we are launching lawless hackingfest

1602
00:42:58,800 --> 00:43:03,280
webcast okay very soon so

1603
00:43:01,440 --> 00:43:04,560
uh just like black hills does webcast

1604
00:43:03,280 --> 00:43:06,640
wallace hackingfest is going to do

1605
00:43:04,560 --> 00:43:08,240
webcast and this will be the discord

1606
00:43:06,640 --> 00:43:09,920
for the webcast so that when they're

1607
00:43:08,240 --> 00:43:11,759
live people can go and chat and

1608
00:43:09,920 --> 00:43:13,599
communicate with each other

1609
00:43:11,760 --> 00:43:15,119
i like it for those of you that just

1610
00:43:13,599 --> 00:43:18,319
heard that don't tell anyone

1611
00:43:15,119 --> 00:43:19,359
i said that out now i i i'm disappointed

1612
00:43:18,319 --> 00:43:20,560
i totally think you guys should use

1613
00:43:19,359 --> 00:43:22,000
slack instead

1614
00:43:20,560 --> 00:43:23,599
and i'm just saying that because at

1615
00:43:22,000 --> 00:43:25,119
secure ideas we use we have a

1616
00:43:23,599 --> 00:43:26,160
professionally evil slack team that we

1617
00:43:25,119 --> 00:43:27,359
do the same thing with

1618
00:43:26,160 --> 00:43:29,440
it would be a lot easier if everybody

1619
00:43:27,359 --> 00:43:31,040
just had one

1620
00:43:29,440 --> 00:43:32,640
i hate discord just because it's the

1621
00:43:31,040 --> 00:43:33,279
young millennials in our organization

1622
00:43:32,640 --> 00:43:35,359
that use it

1623
00:43:33,280 --> 00:43:36,720
and got me into it and so i feel like i

1624
00:43:35,359 --> 00:43:37,200
want to be the disgruntled get off my

1625
00:43:36,720 --> 00:43:40,799
lawn

1626
00:43:37,200 --> 00:43:42,480
guys don't make me have another client

1627
00:43:40,800 --> 00:43:44,240
totally hear that what happened was we

1628
00:43:42,480 --> 00:43:45,920
took this class on streaming

1629
00:43:44,240 --> 00:43:47,759
and we were realizing that there's this

1630
00:43:45,920 --> 00:43:48,319
generation of people coming in infosec

1631
00:43:47,760 --> 00:43:51,040
that are just

1632
00:43:48,319 --> 00:43:53,359
all almost all gamification almost all

1633
00:43:51,040 --> 00:43:55,520
ctfs and

1634
00:43:53,359 --> 00:43:57,440
ccdc and it's just like what's a way to

1635
00:43:55,520 --> 00:43:59,440
connect with them so that way

1636
00:43:57,440 --> 00:44:00,880
we're not losing out yeah yeah it's

1637
00:43:59,440 --> 00:44:03,760
great well done

1638
00:44:00,880 --> 00:44:03,760
all right and uh

1639
00:44:05,040 --> 00:44:08,880
okay boomerang

