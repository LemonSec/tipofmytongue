1
00:00:03,439 --> 00:00:06,000
hello everyone hello

2
00:00:06,000 --> 00:00:08,559
welcome to california um i love this

3
00:00:08,559 --> 00:00:10,240
idea that now that you're in california

4
00:00:10,240 --> 00:00:11,519
and you've been here for a little bit

5
00:00:11,519 --> 00:00:13,599
you are obligated to both do yoga and

6
00:00:13,599 --> 00:00:15,839
eat avocado toast i don't know nobody

7
00:00:15,839 --> 00:00:17,760
did yoga it sound like avocado toast to

8
00:00:17,760 --> 00:00:19,680
anyone maybe look at that a ton of hands

9
00:00:19,680 --> 00:00:21,520
went up that's fantastic yeah okay

10
00:00:21,520 --> 00:00:23,920
that's good yeah perfect

11
00:00:23,920 --> 00:00:25,439
it is cool

12
00:00:25,439 --> 00:00:28,080
and strange to be back in person doing

13
00:00:28,080 --> 00:00:29,119
these sorts of things i don't know if

14
00:00:29,119 --> 00:00:32,079
anybody else is kind of feeling that way

15
00:00:32,079 --> 00:00:34,559
and it's it's weird seeing you all again

16
00:00:34,559 --> 00:00:36,800
because you know i know a handful of you

17
00:00:36,800 --> 00:00:38,160
but i almost don't recognize people

18
00:00:38,160 --> 00:00:39,680
without their zoom backgrounds that's

19
00:00:39,680 --> 00:00:42,079
been very strange also i don't know how

20
00:00:42,079 --> 00:00:43,760
many of you have been playing the game

21
00:00:43,760 --> 00:00:44,480
but

22
00:00:44,480 --> 00:00:46,320
taller or shorter than you thought they

23
00:00:46,320 --> 00:00:48,719
were has anybody been playing that

24
00:00:48,719 --> 00:00:50,719
i usually get the yeah i'm shorter than

25
00:00:50,719 --> 00:00:52,320
i thought it was yeah that's usually

26
00:00:52,320 --> 00:00:55,120
mine that's which is fair um so hello to

27
00:00:55,120 --> 00:00:57,120
all of you in person hello to you on the

28
00:00:57,120 --> 00:00:59,920
stream everyone that's watching live

29
00:00:59,920 --> 00:01:02,000
sorry you can't be here but again it's

30
00:01:02,000 --> 00:01:03,760
great that we have both options for

31
00:01:03,760 --> 00:01:05,280
folks who can't make it here in person

32
00:01:05,280 --> 00:01:06,799
for all sorts of reasons so i'm glad we

33
00:01:06,799 --> 00:01:09,600
get to do all that

34
00:01:09,760 --> 00:01:11,119
big thanks to the wild west hack and

35
00:01:11,119 --> 00:01:13,040
fest team for having me here today and

36
00:01:13,040 --> 00:01:15,360
for setting all this up and everything

37
00:01:15,360 --> 00:01:17,520
this is and i don't know if all of you

38
00:01:17,520 --> 00:01:19,360
share this opinion but this is one of my

39
00:01:19,360 --> 00:01:22,000
favorite conferences bar none i find

40
00:01:22,000 --> 00:01:24,320
that this audience and the speakers that

41
00:01:24,320 --> 00:01:25,520
come to these

42
00:01:25,520 --> 00:01:28,720
and just how accessible everything is in

43
00:01:28,720 --> 00:01:30,159
wild west hackfest so hopefully you all

44
00:01:30,159 --> 00:01:32,159
feel that way as well but i always

45
00:01:32,159 --> 00:01:34,079
recommend for folks who are especially

46
00:01:34,079 --> 00:01:36,079
starting out wild was hack invest is

47
00:01:36,079 --> 00:01:37,680
great so tell people who don't know

48
00:01:37,680 --> 00:01:40,640
about this place about this place

49
00:01:40,640 --> 00:01:41,600
um

50
00:01:41,600 --> 00:01:44,000
cool let's go ahead and get started

51
00:01:44,000 --> 00:01:45,439
um today

52
00:01:45,439 --> 00:01:46,880
we're presenting on what is attack

53
00:01:46,880 --> 00:01:49,200
coverage anyway the breadth and depth

54
00:01:49,200 --> 00:01:51,759
analysis with atomic red team that'd be

55
00:01:51,759 --> 00:01:54,159
fun so

56
00:01:54,159 --> 00:01:56,880
you all heard the spiel about me i'm

57
00:01:56,880 --> 00:01:58,719
adam meshinshi i'm the director of open

58
00:01:58,719 --> 00:02:00,479
source programs at red canary so you can

59
00:02:00,479 --> 00:02:01,680
think of me as kind of the head of

60
00:02:01,680 --> 00:02:03,439
product over all the open source stuff

61
00:02:03,439 --> 00:02:05,040
which is very fun

62
00:02:05,040 --> 00:02:07,920
my background is in privacy encryption

63
00:02:07,920 --> 00:02:09,919
adversary simulation emulation you can

64
00:02:09,919 --> 00:02:12,000
have fisticuffs over those two words and

65
00:02:12,000 --> 00:02:13,520
what they mean together later it'd be

66
00:02:13,520 --> 00:02:15,120
fun um

67
00:02:15,120 --> 00:02:16,000
but

68
00:02:16,000 --> 00:02:17,920
my soul is a product manager under the

69
00:02:17,920 --> 00:02:19,920
hood i i do have a technical background

70
00:02:19,920 --> 00:02:22,319
i know enough code to be dangerous i

71
00:02:22,319 --> 00:02:24,239
write a little i'm not good at it but

72
00:02:24,239 --> 00:02:26,879
it's fine gets the job done um but

73
00:02:26,879 --> 00:02:27,760
really

74
00:02:27,760 --> 00:02:31,200
with all my love of purple teaming and

75
00:02:31,200 --> 00:02:32,879
the kind of stuff that i want to promote

76
00:02:32,879 --> 00:02:35,040
open source in particular go wild west

77
00:02:35,040 --> 00:02:37,200
hacking fest tool shed which is very

78
00:02:37,200 --> 00:02:39,040
neat you shall check that out as well if

79
00:02:39,040 --> 00:02:40,879
you weren't planning on it

80
00:02:40,879 --> 00:02:43,840
my big goal is to be an enabler right i

81
00:02:43,840 --> 00:02:45,840
want to enable people to do whatever

82
00:02:45,840 --> 00:02:48,400
they should be doing for example if

83
00:02:48,400 --> 00:02:50,160
there's an open source program or

84
00:02:50,160 --> 00:02:51,840
project that has a maintainers team and

85
00:02:51,840 --> 00:02:53,440
they want to just be maintainers and not

86
00:02:53,440 --> 00:02:54,800
have to worry about all the crazy stuff

87
00:02:54,800 --> 00:02:56,480
or come to conferences and talk about

88
00:02:56,480 --> 00:02:58,319
their project and they just want to do

89
00:02:58,319 --> 00:03:00,239
maintainery things great i want to

90
00:03:00,239 --> 00:03:02,000
enable them to do that if there are

91
00:03:02,000 --> 00:03:03,760
contributors to an open source program

92
00:03:03,760 --> 00:03:05,120
and they want to come do this sort of

93
00:03:05,120 --> 00:03:06,959
stuff i want to enable them to do that

94
00:03:06,959 --> 00:03:07,840
those are all the things that have

95
00:03:07,840 --> 00:03:09,440
wrapped up in my role

96
00:03:09,440 --> 00:03:12,080
um okay

97
00:03:12,080 --> 00:03:14,080
so let's get started

98
00:03:14,080 --> 00:03:16,560
apologies in advance we are talking

99
00:03:16,560 --> 00:03:18,319
about mitre attack it's in the title you

100
00:03:18,319 --> 00:03:20,959
all knew it was coming but obligatory

101
00:03:20,959 --> 00:03:22,720
slide yes you're going to be hearing

102
00:03:22,720 --> 00:03:24,480
about miter attack probably a billion

103
00:03:24,480 --> 00:03:27,360
times in the next few days um so if this

104
00:03:27,360 --> 00:03:28,560
is the first time you're hearing about

105
00:03:28,560 --> 00:03:30,480
it cool we're going to have some

106
00:03:30,480 --> 00:03:33,280
explanation about that um

107
00:03:33,280 --> 00:03:34,959
and it's only a matter of time as you

108
00:03:34,959 --> 00:03:36,879
all know till every vendor on the planet

109
00:03:36,879 --> 00:03:38,239
is talking about mitre attack to you if

110
00:03:38,239 --> 00:03:39,920
you haven't heard that already and then

111
00:03:39,920 --> 00:03:41,519
you know the clock is ticking down for

112
00:03:41,519 --> 00:03:42,640
when your family brings it up at

113
00:03:42,640 --> 00:03:43,760
thanksgiving and that should be

114
00:03:43,760 --> 00:03:45,360
interesting too

115
00:03:45,360 --> 00:03:46,959
so yes we're talking about mitre attack

116
00:03:46,959 --> 00:03:49,120
today sorry in advance but it's gonna be

117
00:03:49,120 --> 00:03:50,959
good

118
00:03:50,959 --> 00:03:52,799
this talk is kind of an interesting one

119
00:03:52,799 --> 00:03:54,720
for some of you who run the conference

120
00:03:54,720 --> 00:03:56,640
scene this might sound a little familiar

121
00:03:56,640 --> 00:03:58,400
um this is actually the the end of a

122
00:03:58,400 --> 00:04:00,319
trilogy of talks that all kind of had

123
00:04:00,319 --> 00:04:01,760
the similar title

124
00:04:01,760 --> 00:04:05,280
the first one we did was a one about

125
00:04:05,280 --> 00:04:06,879
coverage this project when it was just

126
00:04:06,879 --> 00:04:08,159
getting kicked off but it was really

127
00:04:08,159 --> 00:04:10,239
about a way to structure

128
00:04:10,239 --> 00:04:13,280
internships in cyber security for folks

129
00:04:13,280 --> 00:04:14,799
who are looking to spin up those kind of

130
00:04:14,799 --> 00:04:16,798
programs it was done under the lens of

131
00:04:16,798 --> 00:04:18,320
this project and that was a lot of fun

132
00:04:18,320 --> 00:04:20,399
to be able to create a talk like that it

133
00:04:20,399 --> 00:04:22,800
was called a two topic talk it was very

134
00:04:22,800 --> 00:04:25,120
tricky to create and have those threads

135
00:04:25,120 --> 00:04:26,720
interleaved but it was fun and again

136
00:04:26,720 --> 00:04:28,000
thanks to all of us hack and fest for

137
00:04:28,000 --> 00:04:29,840
letting me experiment and to talk in

138
00:04:29,840 --> 00:04:31,040
that way

139
00:04:31,040 --> 00:04:33,199
we then give a 15 minute update to this

140
00:04:33,199 --> 00:04:35,680
project at attack con my colleague brian

141
00:04:35,680 --> 00:04:38,400
donahue gave that talk brian lives very

142
00:04:38,400 --> 00:04:40,639
close to attack khan and i live very far

143
00:04:40,639 --> 00:04:42,639
away from attack khan so we just kind of

144
00:04:42,639 --> 00:04:44,639
obligated him he did a great job thanks

145
00:04:44,639 --> 00:04:46,479
to brian for doing that

146
00:04:46,479 --> 00:04:48,240
um and today

147
00:04:48,240 --> 00:04:50,160
we're going to wrap up the trilogy

148
00:04:50,160 --> 00:04:53,440
kind of so it'll be fun

149
00:04:53,440 --> 00:04:56,160
some definitions before we move too far

150
00:04:56,160 --> 00:04:57,600
for those of you who do not know what

151
00:04:57,600 --> 00:04:59,520
atomic red team is

152
00:04:59,520 --> 00:05:02,560
um atomic red team is this open source

153
00:05:02,560 --> 00:05:04,400
library of

154
00:05:04,400 --> 00:05:05,280
threat

155
00:05:05,280 --> 00:05:07,039
examples

156
00:05:07,039 --> 00:05:08,720
that are aligned to mitre attack

157
00:05:08,720 --> 00:05:11,919
technique ids that's what it is

158
00:05:11,919 --> 00:05:13,840
and one of the common misconceptions

159
00:05:13,840 --> 00:05:15,120
about atomic red team is that it's

160
00:05:15,120 --> 00:05:17,440
software it is not software it's a

161
00:05:17,440 --> 00:05:19,919
library of examples i'm going to

162
00:05:19,919 --> 00:05:22,880
mention this a few times but

163
00:05:22,880 --> 00:05:24,639
just keep that in mind as we talk about

164
00:05:24,639 --> 00:05:26,800
things it's a library of examples that

165
00:05:26,800 --> 00:05:29,120
are aligned to miter attack

166
00:05:29,120 --> 00:05:30,560
um

167
00:05:30,560 --> 00:05:33,680
now mitre attack that thing is a matrix

168
00:05:33,680 --> 00:05:34,880
of

169
00:05:34,880 --> 00:05:36,840
adversary ethics and techniques and

170
00:05:36,840 --> 00:05:38,639
procedures

171
00:05:38,639 --> 00:05:40,400
and it's a knowledge base of those

172
00:05:40,400 --> 00:05:43,360
things that have specific ids so for

173
00:05:43,360 --> 00:05:44,560
example

174
00:05:44,560 --> 00:05:46,720
system time discovery is

175
00:05:46,720 --> 00:05:49,120
t 11 24 something like that and

176
00:05:49,120 --> 00:05:51,360
everything is aligned in that way

177
00:05:51,360 --> 00:05:52,560
so for those of you who don't know what

178
00:05:52,560 --> 00:05:55,120
mitre attack is this is just the tldr on

179
00:05:55,120 --> 00:05:55,919
that

180
00:05:55,919 --> 00:05:57,680
a friend of mine jeff mcjunkin also

181
00:05:57,680 --> 00:06:00,160
calls mitre attack a game of minesweeper

182
00:06:00,160 --> 00:06:02,160
for adversaries which is an analogy that

183
00:06:02,160 --> 00:06:03,840
i love you know in this grid of

184
00:06:03,840 --> 00:06:06,080
adversarial things that a

185
00:06:06,080 --> 00:06:08,240
offensive individual could do

186
00:06:08,240 --> 00:06:10,160
these are the kinds of minds that a

187
00:06:10,160 --> 00:06:12,560
given adversary might trip over as they

188
00:06:12,560 --> 00:06:15,280
try out different ttps if you will

189
00:06:15,280 --> 00:06:18,160
and so they're also the idea that

190
00:06:18,160 --> 00:06:20,560
as a blue team as a defender you can

191
00:06:20,560 --> 00:06:23,280
design tripwires around certain

192
00:06:23,280 --> 00:06:25,039
adversary behaviors that you want to

193
00:06:25,039 --> 00:06:26,720
make sure that you can detect and again

194
00:06:26,720 --> 00:06:29,039
it's kind of just a cool lens by which

195
00:06:29,039 --> 00:06:31,680
to think about mitre attack so to

196
00:06:31,680 --> 00:06:33,600
visualize it a different way

197
00:06:33,600 --> 00:06:36,240
again on the left here we have

198
00:06:36,240 --> 00:06:38,000
just a snapshot of the miter attack

199
00:06:38,000 --> 00:06:39,680
matrix you know under discovery there's

200
00:06:39,680 --> 00:06:41,360
account discovery and there's sub

201
00:06:41,360 --> 00:06:43,440
techniques accordingly there and then on

202
00:06:43,440 --> 00:06:45,759
the right there's a bit of yaml

203
00:06:45,759 --> 00:06:47,520
regardless of how you feel about yaml

204
00:06:47,520 --> 00:06:50,800
atomic red team is aligned to yaml

205
00:06:50,800 --> 00:06:52,319
with the goal being that we have this

206
00:06:52,319 --> 00:06:55,440
library of tests yaml format and it was

207
00:06:55,440 --> 00:06:57,360
though created by red canary the

208
00:06:57,360 --> 00:06:58,560
organization

209
00:06:58,560 --> 00:07:00,400
it is maintained

210
00:07:00,400 --> 00:07:02,880
almost exclusively by the community

211
00:07:02,880 --> 00:07:04,880
the community are the ones who add tests

212
00:07:04,880 --> 00:07:06,639
to it and maintain it

213
00:07:06,639 --> 00:07:08,639
of the maintainers team for the open

214
00:07:08,639 --> 00:07:10,880
source project only one of them is a red

215
00:07:10,880 --> 00:07:13,360
canary staffer and so again this is an

216
00:07:13,360 --> 00:07:16,000
entirely community driven initiative to

217
00:07:16,000 --> 00:07:17,759
create this library and have it provide

218
00:07:17,759 --> 00:07:20,080
value and it is mapped one for one with

219
00:07:20,080 --> 00:07:22,479
these miter attack ids which creates

220
00:07:22,479 --> 00:07:24,160
some odd scenarios if you have an

221
00:07:24,160 --> 00:07:26,880
example for a given technique id

222
00:07:26,880 --> 00:07:28,319
but it also kind of applies to another

223
00:07:28,319 --> 00:07:30,000
one well where should it go and the

224
00:07:30,000 --> 00:07:31,840
maintainers help assign those things and

225
00:07:31,840 --> 00:07:33,360
sometimes you just duplicate it and put

226
00:07:33,360 --> 00:07:34,960
both places because that's where it

227
00:07:34,960 --> 00:07:35,919
should go

228
00:07:35,919 --> 00:07:37,199
so anyway

229
00:07:37,199 --> 00:07:38,960
just another view about what atomic red

230
00:07:38,960 --> 00:07:41,120
team is

231
00:07:41,120 --> 00:07:43,199
what's cool about atomic red team just

232
00:07:43,199 --> 00:07:44,560
by nature of it being an open source

233
00:07:44,560 --> 00:07:46,800
project it has a lot of value to other

234
00:07:46,800 --> 00:07:49,120
organizations so for example if you're

235
00:07:49,120 --> 00:07:50,879
an organization designing emulation

236
00:07:50,879 --> 00:07:52,160
plans

237
00:07:52,160 --> 00:07:54,080
well those things can actually just be

238
00:07:54,080 --> 00:07:56,000
atomic red team atomic tests under the

239
00:07:56,000 --> 00:07:57,919
hood and that's what we've seen so for

240
00:07:57,919 --> 00:07:59,120
example

241
00:07:59,120 --> 00:08:01,360
miters adversary emulation plans those

242
00:08:01,360 --> 00:08:03,440
things are if you look at them a lot of

243
00:08:03,440 --> 00:08:06,639
them are just atomic red team tests

244
00:08:06,639 --> 00:08:08,960
another one cites community threats a

245
00:08:08,960 --> 00:08:10,720
lot of those tests that are developed

246
00:08:10,720 --> 00:08:12,319
those come from atomic red team which is

247
00:08:12,319 --> 00:08:14,479
very very cool

248
00:08:14,479 --> 00:08:16,479
red canary's threat detection report all

249
00:08:16,479 --> 00:08:18,160
the examples provided in that thing

250
00:08:18,160 --> 00:08:20,720
atomic red team tests

251
00:08:20,720 --> 00:08:22,319
now i mentioned earlier atomic red team

252
00:08:22,319 --> 00:08:24,319
is not software but you need software to

253
00:08:24,319 --> 00:08:26,800
run the tests all these examples right

254
00:08:26,800 --> 00:08:28,240
there's execution frameworks that do

255
00:08:28,240 --> 00:08:30,000
that many of them are open source so

256
00:08:30,000 --> 00:08:31,680
invoke atomic atomic test harnesses

257
00:08:31,680 --> 00:08:33,919
atomic operator caldera if you've ever

258
00:08:33,919 --> 00:08:35,360
heard of these things these are the

259
00:08:35,360 --> 00:08:37,919
software that run atomics and atomic

260
00:08:37,919 --> 00:08:40,080
tests not atomic red team itself so it's

261
00:08:40,080 --> 00:08:42,080
just a really subtle distinction as you

262
00:08:42,080 --> 00:08:44,240
try to research this and

263
00:08:44,240 --> 00:08:45,920
get started with it

264
00:08:45,920 --> 00:08:47,519
and then finally commercial products

265
00:08:47,519 --> 00:08:48,880
also use atomic red team they've

266
00:08:48,880 --> 00:08:51,040
implemented this open source project

267
00:08:51,040 --> 00:08:52,839
into their frameworks whether they be

268
00:08:52,839 --> 00:08:55,360
execution defensive or otherwise so we

269
00:08:55,360 --> 00:08:57,279
mentioned scythe prelude operator is

270
00:08:57,279 --> 00:08:59,040
another one attack iq

271
00:08:59,040 --> 00:09:01,600
lima charlie also has some atomic red

272
00:09:01,600 --> 00:09:02,880
team integration from a defensive

273
00:09:02,880 --> 00:09:05,120
perspective snap attack who did some

274
00:09:05,120 --> 00:09:07,440
speaking at attack con they also have

275
00:09:07,440 --> 00:09:09,120
this whole thing that uses atomic red

276
00:09:09,120 --> 00:09:10,880
team so you'll see this all over the

277
00:09:10,880 --> 00:09:12,640
place

278
00:09:12,640 --> 00:09:15,120
but the goal of atomics and these atomic

279
00:09:15,120 --> 00:09:18,000
tests is library of examples in my mind

280
00:09:18,000 --> 00:09:19,600
it's to solve

281
00:09:19,600 --> 00:09:21,680
the now what problem

282
00:09:21,680 --> 00:09:23,839
and i think many of you who have to deal

283
00:09:23,839 --> 00:09:26,240
with or get to deal with threat intel

284
00:09:26,240 --> 00:09:28,560
profiles and the like um bump into this

285
00:09:28,560 --> 00:09:29,760
right you get a threat intelligence

286
00:09:29,760 --> 00:09:31,279
report neat

287
00:09:31,279 --> 00:09:32,640
thank you for describing this threat

288
00:09:32,640 --> 00:09:33,920
actor and the behaviors that they've

289
00:09:33,920 --> 00:09:36,640
done oh look mitre attack ids this is

290
00:09:36,640 --> 00:09:39,279
super useful cool but but but but

291
00:09:39,279 --> 00:09:41,760
there's no examples of the ways that the

292
00:09:41,760 --> 00:09:43,440
threat actor actually did it what was

293
00:09:43,440 --> 00:09:44,880
the command that the threat actually

294
00:09:44,880 --> 00:09:46,800
actually used i want to know that too

295
00:09:46,800 --> 00:09:48,480
right i want to build detections around

296
00:09:48,480 --> 00:09:49,680
that thing

297
00:09:49,680 --> 00:09:51,760
and so to fill that gap

298
00:09:51,760 --> 00:09:53,279
well now that you've given me some vague

299
00:09:53,279 --> 00:09:54,959
information now what

300
00:09:54,959 --> 00:09:56,560
atomic red team can answer that question

301
00:09:56,560 --> 00:09:57,600
for you

302
00:09:57,600 --> 00:09:59,760
because it has examples that you can

303
00:09:59,760 --> 00:10:02,160
utilize for the now what if you see

304
00:10:02,160 --> 00:10:04,320
technique 1 two three four but you don't

305
00:10:04,320 --> 00:10:05,839
have any example about how to execute

306
00:10:05,839 --> 00:10:07,519
that or what it looks like or anything

307
00:10:07,519 --> 00:10:09,440
the atomic red team is here to help so

308
00:10:09,440 --> 00:10:11,040
that's the goal

309
00:10:11,040 --> 00:10:13,279
atomics provide that actionable baseline

310
00:10:13,279 --> 00:10:15,760
for you to use this threat and tell and

311
00:10:15,760 --> 00:10:18,160
actually build detections on it or use

312
00:10:18,160 --> 00:10:20,880
it in your red teaming as an example

313
00:10:20,880 --> 00:10:22,720
so hopefully that makes sense

314
00:10:22,720 --> 00:10:24,399
and of course if you start to learn

315
00:10:24,399 --> 00:10:26,000
about these atomic tests well you can

316
00:10:26,000 --> 00:10:27,680
learn and grow you could say oh

317
00:10:27,680 --> 00:10:29,360
that's a cool test but i could modify

318
00:10:29,360 --> 00:10:30,720
that slightly to do something a little

319
00:10:30,720 --> 00:10:33,040
more interesting

320
00:10:33,040 --> 00:10:34,959
some last things

321
00:10:34,959 --> 00:10:37,519
atomic red team the spec in the way that

322
00:10:37,519 --> 00:10:39,680
that project works that library is added

323
00:10:39,680 --> 00:10:42,399
to by design was to have the barrier to

324
00:10:42,399 --> 00:10:44,000
entry be low

325
00:10:44,000 --> 00:10:46,959
we want strangers on the internet to add

326
00:10:46,959 --> 00:10:49,360
tests to atomic red team it is really

327
00:10:49,360 --> 00:10:50,880
important that people can do that

328
00:10:50,880 --> 00:10:53,839
quickly and easily all of you could add

329
00:10:53,839 --> 00:10:56,560
tests to atomic red team whether they

330
00:10:56,560 --> 00:10:57,680
are you're adding a test or you're

331
00:10:57,680 --> 00:10:59,519
adding a typo or whatever changing

332
00:10:59,519 --> 00:11:02,000
fixing a typo not adding a typo please

333
00:11:02,000 --> 00:11:03,839
um regardless

334
00:11:03,839 --> 00:11:06,320
we want folks to be able to contribute

335
00:11:06,320 --> 00:11:08,000
to this that's the goal you shouldn't

336
00:11:08,000 --> 00:11:09,920
have to have

337
00:11:09,920 --> 00:11:12,240
two decades in threat intelligence to

338
00:11:12,240 --> 00:11:14,240
build that tests out for atomic red team

339
00:11:14,240 --> 00:11:16,880
we want that barrier to entry to be low

340
00:11:16,880 --> 00:11:19,360
consequently there's some side effects

341
00:11:19,360 --> 00:11:20,880
to that decision which we'll talk about

342
00:11:20,880 --> 00:11:23,519
in a bit such as defining success and

343
00:11:23,519 --> 00:11:25,040
failure gets kind of weird but again

344
00:11:25,040 --> 00:11:27,040
we'll talk about that in a little bit

345
00:11:27,040 --> 00:11:29,600
but again atomic red team they're atomic

346
00:11:29,600 --> 00:11:31,760
tests both like

347
00:11:31,760 --> 00:11:34,480
uppercase and lowercase a atomic test

348
00:11:34,480 --> 00:11:35,440
one thing

349
00:11:35,440 --> 00:11:38,000
they're not an adversary emulation plan

350
00:11:38,000 --> 00:11:40,000
not software

351
00:11:40,000 --> 00:11:41,600
okay enough definitions we're like what

352
00:11:41,600 --> 00:11:43,120
15 minutes in and we haven't even got to

353
00:11:43,120 --> 00:11:45,279
the meat of this presentation

354
00:11:45,279 --> 00:11:46,800
problem number one

355
00:11:46,800 --> 00:11:48,800
what is coverage in the context of

356
00:11:48,800 --> 00:11:52,320
atomic red team and mitre attack

357
00:11:52,320 --> 00:11:55,279
this is the coverage part of the talk

358
00:11:55,279 --> 00:11:57,040
the first problem we encounter when we

359
00:11:57,040 --> 00:11:59,519
talk about coverage is how do you define

360
00:11:59,519 --> 00:12:00,800
coverage

361
00:12:00,800 --> 00:12:02,639
kind of a weird question but actually

362
00:12:02,639 --> 00:12:04,320
when you think about it it gets a little

363
00:12:04,320 --> 00:12:06,639
complex as it turns out so

364
00:12:06,639 --> 00:12:09,519
the naive approach to coverage

365
00:12:09,519 --> 00:12:12,000
well there's this grid of

366
00:12:12,000 --> 00:12:13,120
ids

367
00:12:13,120 --> 00:12:16,160
do you have tests for each id if yes

368
00:12:16,160 --> 00:12:19,200
that thing is covered when easy solved

369
00:12:19,200 --> 00:12:20,800
right um

370
00:12:20,800 --> 00:12:22,800
that is breadth coverage generally

371
00:12:22,800 --> 00:12:25,120
speaking that's a simple one

372
00:12:25,120 --> 00:12:27,279
there's x amount of tests

373
00:12:27,279 --> 00:12:28,480
there's

374
00:12:28,480 --> 00:12:30,240
x amount of technique ids what are those

375
00:12:30,240 --> 00:12:31,519
numbers done

376
00:12:31,519 --> 00:12:32,399
um

377
00:12:32,399 --> 00:12:33,360
cool

378
00:12:33,360 --> 00:12:34,639
and then you can break that down by

379
00:12:34,639 --> 00:12:36,240
platform and platform in the miter

380
00:12:36,240 --> 00:12:38,639
attack concept is kind of where you're

381
00:12:38,639 --> 00:12:41,440
doing the test so windows mac linux

382
00:12:41,440 --> 00:12:43,279
infrastructure as a service containers

383
00:12:43,279 --> 00:12:44,800
the like there so you can break those

384
00:12:44,800 --> 00:12:47,120
things down that's pretty easy

385
00:12:47,120 --> 00:12:49,200
but what about depth

386
00:12:49,200 --> 00:12:51,519
depth coverage is a little trickier to

387
00:12:51,519 --> 00:12:53,040
define because it can mean all sorts of

388
00:12:53,040 --> 00:12:54,639
things if you depending on which way you

389
00:12:54,639 --> 00:12:56,000
want to slice it

390
00:12:56,000 --> 00:12:58,560
um how well does a group of tests cover

391
00:12:58,560 --> 00:13:01,200
a technique how do you quantify that

392
00:13:01,200 --> 00:13:03,600
how do you conceptualize that how do you

393
00:13:03,600 --> 00:13:06,399
automate that kind of question away how

394
00:13:06,399 --> 00:13:07,519
difficult

395
00:13:07,519 --> 00:13:10,399
are tests to execute again how do you

396
00:13:10,399 --> 00:13:12,160
figure that out how do you do the maths

397
00:13:12,160 --> 00:13:14,240
to figure that out um and then what

398
00:13:14,240 --> 00:13:16,399
about a concept that the atomic red team

399
00:13:16,399 --> 00:13:18,480
has that miter attack does not

400
00:13:18,480 --> 00:13:20,959
sub platforms well infrastructure as a

401
00:13:20,959 --> 00:13:23,440
service is a platform in mitre attack

402
00:13:23,440 --> 00:13:24,320
neat

403
00:13:24,320 --> 00:13:25,440
but

404
00:13:25,440 --> 00:13:26,720
aws

405
00:13:26,720 --> 00:13:28,800
and azure are both infrastructure as a

406
00:13:28,800 --> 00:13:30,560
service but the way you think about the

407
00:13:30,560 --> 00:13:32,079
techniques in those things is wildly

408
00:13:32,079 --> 00:13:33,519
different and the examples you would

409
00:13:33,519 --> 00:13:35,279
provide for both of those things is

410
00:13:35,279 --> 00:13:36,800
entirely different so we have to think

411
00:13:36,800 --> 00:13:37,920
about that sort of thing a little

412
00:13:37,920 --> 00:13:39,040
differently

413
00:13:39,040 --> 00:13:41,120
so again we had to conceptualize what

414
00:13:41,120 --> 00:13:43,440
coverage was

415
00:13:43,440 --> 00:13:44,560
now

416
00:13:44,560 --> 00:13:46,000
oh yeah you can't there's no way you can

417
00:13:46,000 --> 00:13:48,320
read that the galaxy brain text on this

418
00:13:48,320 --> 00:13:50,160
slide i think i actually found what i

419
00:13:50,160 --> 00:13:51,360
had written there originally when i was

420
00:13:51,360 --> 00:13:52,800
generating this and it's something along

421
00:13:52,800 --> 00:13:54,000
the lines of

422
00:13:54,000 --> 00:13:55,519
let's see so there's count techniques

423
00:13:55,519 --> 00:13:57,680
breakdown by platform and then the one

424
00:13:57,680 --> 00:13:58,639
is uh

425
00:13:58,639 --> 00:14:00,399
create a rubric for defining difficulty

426
00:14:00,399 --> 00:14:02,160
to execute a test based on a number of

427
00:14:02,160 --> 00:14:04,079
criteria which can be duplicated by any

428
00:14:04,079 --> 00:14:05,839
human with said rubric or via script

429
00:14:05,839 --> 00:14:07,360
preferably in python because go is too

430
00:14:07,360 --> 00:14:08,959
hard to set up an environment in and to

431
00:14:08,959 --> 00:14:10,160
develop and really who wants to use

432
00:14:10,160 --> 00:14:11,519
something like ruby or rust these days

433
00:14:11,519 --> 00:14:12,959
because it's probably just trendy and i

434
00:14:12,959 --> 00:14:14,160
could probably get made fun of them if i

435
00:14:14,160 --> 00:14:16,399
tried to write any code in them now you

436
00:14:16,399 --> 00:14:17,440
wouldn't make jokes at me because you're

437
00:14:17,440 --> 00:14:18,639
all really good audience i'm just saying

438
00:14:18,639 --> 00:14:21,839
it's reasonable concern you know

439
00:14:23,760 --> 00:14:25,120
thank goodness i kept that text

440
00:14:25,120 --> 00:14:26,480
somewhere i'd never be able to figure it

441
00:14:26,480 --> 00:14:28,480
out anyway moving on

442
00:14:28,480 --> 00:14:30,959
problem number b

443
00:14:30,959 --> 00:14:32,639
okay if we define coverage who's going

444
00:14:32,639 --> 00:14:34,720
to actually help us fix the coverage

445
00:14:34,720 --> 00:14:36,880
problem that we might define

446
00:14:36,880 --> 00:14:38,560
um

447
00:14:38,560 --> 00:14:40,639
yeah that's a tricky one and the way and

448
00:14:40,639 --> 00:14:43,199
we alluded this earlier um

449
00:14:43,199 --> 00:14:46,079
is you need to find resources to do that

450
00:14:46,079 --> 00:14:47,760
but open source projects you know a lot

451
00:14:47,760 --> 00:14:49,120
of folks who contribute to these things

452
00:14:49,120 --> 00:14:51,440
it's not their full-time job right it's

453
00:14:51,440 --> 00:14:53,040
my full-time job to care about open

454
00:14:53,040 --> 00:14:55,120
source stuff but as per prior slides i'm

455
00:14:55,120 --> 00:14:56,880
not a full-time developer

456
00:14:56,880 --> 00:14:58,639
i don't know i can write enough code to

457
00:14:58,639 --> 00:15:01,040
be dangerous and asking project

458
00:15:01,040 --> 00:15:02,720
maintainers and contributors to help out

459
00:15:02,720 --> 00:15:03,839
that's all well and good but it's not

460
00:15:03,839 --> 00:15:05,680
their full-time job either right they

461
00:15:05,680 --> 00:15:07,040
already give a lot of time to these

462
00:15:07,040 --> 00:15:09,440
things so who can help us with it and

463
00:15:09,440 --> 00:15:11,440
really just to brief aside thank you to

464
00:15:11,440 --> 00:15:12,959
the maintainers and project contributors

465
00:15:12,959 --> 00:15:14,720
for everything you do the project would

466
00:15:14,720 --> 00:15:16,480
be nothing without you literally so

467
00:15:16,480 --> 00:15:17,760
you're all the best

468
00:15:17,760 --> 00:15:19,519
thank you

469
00:15:19,519 --> 00:15:21,519
and project maintainers and contributors

470
00:15:21,519 --> 00:15:23,519
are really good at small changes like

471
00:15:23,519 --> 00:15:25,760
adding a test fixing one thing but this

472
00:15:25,760 --> 00:15:27,760
kind of broad we want to evaluate

473
00:15:27,760 --> 00:15:30,079
coverage across the entire project it's

474
00:15:30,079 --> 00:15:31,680
non-trivial to do

475
00:15:31,680 --> 00:15:33,120
quick shameless plug if any of you

476
00:15:33,120 --> 00:15:34,720
contribute to atomic red team you get a

477
00:15:34,720 --> 00:15:36,639
free t-shirt it's pretty cool you should

478
00:15:36,639 --> 00:15:39,680
do that atomicrteam.io to learn more

479
00:15:39,680 --> 00:15:40,560
anyway

480
00:15:40,560 --> 00:15:42,720
um so the the solution to who should

481
00:15:42,720 --> 00:15:45,759
help us coverage thing and solve it

482
00:15:45,759 --> 00:15:47,680
the answer was interns ultimately it

483
00:15:47,680 --> 00:15:50,160
turns out you can you can say hey this

484
00:15:50,160 --> 00:15:52,320
is a really specific project that

485
00:15:52,320 --> 00:15:54,800
requires a lot of learning um this is

486
00:15:54,800 --> 00:15:57,360
probably perfect for an intern to assist

487
00:15:57,360 --> 00:15:58,399
with

488
00:15:58,399 --> 00:16:01,440
really quick internships 101. again we

489
00:16:01,440 --> 00:16:02,959
did a whole thing about this the first

490
00:16:02,959 --> 00:16:05,440
version of this talk but

491
00:16:05,440 --> 00:16:07,120
if you are considering

492
00:16:07,120 --> 00:16:09,519
hiring interns

493
00:16:09,519 --> 00:16:10,959
rule number one

494
00:16:10,959 --> 00:16:12,880
pay your interns treat them like a

495
00:16:12,880 --> 00:16:15,519
part-time full-time contractor whatever

496
00:16:15,519 --> 00:16:16,399
pay

497
00:16:16,399 --> 00:16:18,959
your interns okay rule number one well

498
00:16:18,959 --> 00:16:20,079
number two

499
00:16:20,079 --> 00:16:21,680
offer to work with the educational

500
00:16:21,680 --> 00:16:23,360
institutions if they are in an

501
00:16:23,360 --> 00:16:25,600
educational institution please do that

502
00:16:25,600 --> 00:16:27,120
it's very important

503
00:16:27,120 --> 00:16:28,399
number three

504
00:16:28,399 --> 00:16:30,079
treat them like you would any other

505
00:16:30,079 --> 00:16:33,360
teammate they are not there to wash cars

506
00:16:33,360 --> 00:16:34,560
because nobody else on the team's there

507
00:16:34,560 --> 00:16:36,959
to wash cars like they're like anybody

508
00:16:36,959 --> 00:16:38,639
else treat them that way rule number

509
00:16:38,639 --> 00:16:41,279
four pay your interns just do it just do

510
00:16:41,279 --> 00:16:42,160
it

511
00:16:42,160 --> 00:16:44,959
shouldn't be hard okay and then

512
00:16:44,959 --> 00:16:47,680
do not under any circumstances hire

513
00:16:47,680 --> 00:16:50,639
interns to do menial repetitive tasks

514
00:16:50,639 --> 00:16:53,040
occasionally you'll bump into situations

515
00:16:53,040 --> 00:16:54,880
like hey we need three months of data

516
00:16:54,880 --> 00:16:56,800
entry right just people putting stuff

517
00:16:56,800 --> 00:16:58,720
into spreadsheets or databases

518
00:16:58,720 --> 00:16:59,759
cool

519
00:16:59,759 --> 00:17:01,920
hire a data entry person

520
00:17:01,920 --> 00:17:03,759
not an intern

521
00:17:03,759 --> 00:17:05,439
interns are there to learn from you and

522
00:17:05,439 --> 00:17:07,359
to get experience so having them fill

523
00:17:07,359 --> 00:17:09,039
out spreadsheets all day every day is

524
00:17:09,039 --> 00:17:11,359
probably not optimal and finally don't

525
00:17:11,359 --> 00:17:14,319
just use like great company culture as a

526
00:17:14,319 --> 00:17:16,160
selling point like they're there to

527
00:17:16,160 --> 00:17:17,839
learn not just hang out with the water

528
00:17:17,839 --> 00:17:19,439
cooler that should not be the only

529
00:17:19,439 --> 00:17:21,520
selling point which you've also solved

530
00:17:21,520 --> 00:17:23,280
if you listen to rules number one and

531
00:17:23,280 --> 00:17:25,199
four and you're paying them

532
00:17:25,199 --> 00:17:26,480
okay

533
00:17:26,480 --> 00:17:28,160
so who helped us with this coverage

534
00:17:28,160 --> 00:17:29,600
thing that i've been talking about this

535
00:17:29,600 --> 00:17:31,919
is cameron the intern former intern at

536
00:17:31,919 --> 00:17:33,919
red canary cameron roberts camera's

537
00:17:33,919 --> 00:17:34,720
great

538
00:17:34,720 --> 00:17:36,080
cameron created all the prototypes for

539
00:17:36,080 --> 00:17:37,679
everything you're about to see so thank

540
00:17:37,679 --> 00:17:39,280
you to cameron for the for your hard

541
00:17:39,280 --> 00:17:41,520
work there um cameron

542
00:17:41,520 --> 00:17:42,799
has worked at a bunch of cyber security

543
00:17:42,799 --> 00:17:45,520
firms an awesome open source contributor

544
00:17:45,520 --> 00:17:47,360
likes hacking video games and playing

545
00:17:47,360 --> 00:17:49,039
video games it was actually pretty cool

546
00:17:49,039 --> 00:17:51,200
anyway if you find bump in the camera

547
00:17:51,200 --> 00:17:52,640
and ask about video game hacking it's

548
00:17:52,640 --> 00:17:55,840
very very neat so thank you cameron

549
00:17:55,840 --> 00:17:56,880
so this

550
00:17:56,880 --> 00:17:58,400
this is the atomic red team coverage

551
00:17:58,400 --> 00:18:01,039
project kind of soup to nuts number one

552
00:18:01,039 --> 00:18:03,440
we did an analysis or needed to analyze

553
00:18:03,440 --> 00:18:05,600
all of the tests and count them

554
00:18:05,600 --> 00:18:07,440
basically quantify them but do that in a

555
00:18:07,440 --> 00:18:09,039
scripting way and then a way to

556
00:18:09,039 --> 00:18:11,120
visualize that coverage so it's quick

557
00:18:11,120 --> 00:18:13,919
and easy to understand part two was to

558
00:18:13,919 --> 00:18:16,240
categorize the tests we have again that

559
00:18:16,240 --> 00:18:18,000
depth coverage we need to do analysis

560
00:18:18,000 --> 00:18:20,160
there and generate that data

561
00:18:20,160 --> 00:18:21,679
but first we had to find a means to do

562
00:18:21,679 --> 00:18:22,559
that

563
00:18:22,559 --> 00:18:24,559
number three after we did the gap in l

564
00:18:24,559 --> 00:18:26,320
we wanted to do gap analysis once we had

565
00:18:26,320 --> 00:18:27,919
that coverage visualized we're kind of

566
00:18:27,919 --> 00:18:29,600
still there which we'll talk about that

567
00:18:29,600 --> 00:18:32,000
here in a moment and then talk about the

568
00:18:32,000 --> 00:18:33,280
future which we're also going to do

569
00:18:33,280 --> 00:18:36,559
today but this was the plan of execution

570
00:18:36,559 --> 00:18:38,000
part one

571
00:18:38,000 --> 00:18:39,919
count these things

572
00:18:39,919 --> 00:18:41,919
sounds pretty easy right the breadth

573
00:18:41,919 --> 00:18:43,600
analysis part do you have tests for that

574
00:18:43,600 --> 00:18:46,400
thing if yes that's a win neat so

575
00:18:46,400 --> 00:18:47,919
cameron the first to go with this we

576
00:18:47,919 --> 00:18:49,280
we're gonna do it in python and then we

577
00:18:49,280 --> 00:18:51,760
did in javascript to visualize it pretty

578
00:18:51,760 --> 00:18:54,320
uh pretty straightforward seemingly as

579
00:18:54,320 --> 00:18:56,160
it turns out it wasn't straightforward

580
00:18:56,160 --> 00:18:58,320
um you know the initial goal was hey

581
00:18:58,320 --> 00:19:00,080
let's just make a giant spreadsheet of

582
00:19:00,080 --> 00:19:02,160
atomic tests and miter attack ids and

583
00:19:02,160 --> 00:19:03,760
see what the delta is

584
00:19:03,760 --> 00:19:05,919
but there's this weird misunderstanding

585
00:19:05,919 --> 00:19:07,200
we bumped into

586
00:19:07,200 --> 00:19:10,640
target platform was a field that

587
00:19:10,640 --> 00:19:12,880
created some unexpected problems so

588
00:19:12,880 --> 00:19:14,880
again in the mitre attack context a

589
00:19:14,880 --> 00:19:16,400
platform is where you're gonna the

590
00:19:16,400 --> 00:19:18,160
adversary is doing the thing like the

591
00:19:18,160 --> 00:19:20,000
target os if you will

592
00:19:20,000 --> 00:19:21,200
however

593
00:19:21,200 --> 00:19:23,360
in atomics tests we've kind of been

594
00:19:23,360 --> 00:19:25,200
wrapped around the axle a little bit and

595
00:19:25,200 --> 00:19:27,360
that target platform was where you might

596
00:19:27,360 --> 00:19:29,520
be executing the test because

597
00:19:29,520 --> 00:19:31,200
historically atomic red team was based

598
00:19:31,200 --> 00:19:33,360
on endpoints and so you think well i

599
00:19:33,360 --> 00:19:34,559
need to run windows commands on a

600
00:19:34,559 --> 00:19:36,400
windows box platform's windows easy

601
00:19:36,400 --> 00:19:38,320
enough but that gets really complicated

602
00:19:38,320 --> 00:19:41,039
when you start talking about cloud tests

603
00:19:41,039 --> 00:19:42,960
because say you're doing a test against

604
00:19:42,960 --> 00:19:44,160
aws

605
00:19:44,160 --> 00:19:46,080
well if you're doing a test against aws

606
00:19:46,080 --> 00:19:48,000
you're using an executor on a mac or

607
00:19:48,000 --> 00:19:50,720
something to run that command

608
00:19:50,720 --> 00:19:52,480
what is the target platform is it where

609
00:19:52,480 --> 00:19:53,840
you're running the command or the thing

610
00:19:53,840 --> 00:19:56,000
you're targeting and as it turns out

611
00:19:56,000 --> 00:19:57,440
this was misunderstood and

612
00:19:57,440 --> 00:19:59,760
miscategorized to a pretty substantial

613
00:19:59,760 --> 00:20:02,240
extent so we had to figure this one out

614
00:20:02,240 --> 00:20:04,080
and define that platform really strictly

615
00:20:04,080 --> 00:20:05,200
in order to count these things

616
00:20:05,200 --> 00:20:06,480
effectively

617
00:20:06,480 --> 00:20:08,640
so it was non-trivial and again atomic

618
00:20:08,640 --> 00:20:10,039
red team has this concept of

619
00:20:10,039 --> 00:20:12,159
sub-platforms because

620
00:20:12,159 --> 00:20:14,799
gcp and azure and aws are all

621
00:20:14,799 --> 00:20:16,320
infrastructure as a service but they're

622
00:20:16,320 --> 00:20:17,520
not all the same the commands are

623
00:20:17,520 --> 00:20:18,880
different right so we had to figure all

624
00:20:18,880 --> 00:20:21,760
that out however

625
00:20:21,760 --> 00:20:23,600
with the good work we were able to count

626
00:20:23,600 --> 00:20:24,880
those things very effectively and

627
00:20:24,880 --> 00:20:26,640
generate some cool stuff like how neat

628
00:20:26,640 --> 00:20:29,200
those charts and graphs are um

629
00:20:29,200 --> 00:20:30,480
we're really proud of these because

630
00:20:30,480 --> 00:20:33,679
these allow us a visual indicator of how

631
00:20:33,679 --> 00:20:35,760
good our test coverage is how many tests

632
00:20:35,760 --> 00:20:37,440
for a given technique we have it's all

633
00:20:37,440 --> 00:20:39,600
heat maps people love heat maps right

634
00:20:39,600 --> 00:20:42,720
right right maybe okay i'm seeing nods

635
00:20:42,720 --> 00:20:44,799
that's close enough

636
00:20:44,799 --> 00:20:46,240
real quick many of you want to make

637
00:20:46,240 --> 00:20:48,080
charts and graphs do not write your own

638
00:20:48,080 --> 00:20:50,320
graphing libraries please just use

639
00:20:50,320 --> 00:20:52,400
google charts.js

640
00:20:52,400 --> 00:20:54,400
makes your life way easier but here in

641
00:20:54,400 --> 00:20:56,480
these heat maps you could see over on

642
00:20:56,480 --> 00:20:58,799
the right oh green means there's lots of

643
00:20:58,799 --> 00:21:01,280
tests for that technique id

644
00:21:01,280 --> 00:21:04,799
red not so many white there's none or uh

645
00:21:04,799 --> 00:21:06,240
over there we see this bar chart it

646
00:21:06,240 --> 00:21:07,919
looks like the miter attack matrix if

647
00:21:07,919 --> 00:21:09,919
you look at it and it shows like how

648
00:21:09,919 --> 00:21:11,840
many tests we have covered at the tactic

649
00:21:11,840 --> 00:21:14,640
level how neat right it's such a simple

650
00:21:14,640 --> 00:21:16,960
thing but having these as visual

651
00:21:16,960 --> 00:21:19,919
indicators enabled us to have a

652
00:21:19,919 --> 00:21:22,480
quick easy way oh that we're missing

653
00:21:22,480 --> 00:21:24,080
stuff there we're missing stuff for that

654
00:21:24,080 --> 00:21:25,600
technique we should probably that's an

655
00:21:25,600 --> 00:21:27,840
easy tactic let's just do that

656
00:21:27,840 --> 00:21:29,840
it gave us that visual indication which

657
00:21:29,840 --> 00:21:32,559
is really really important

658
00:21:32,559 --> 00:21:34,159
now to the tricky part

659
00:21:34,159 --> 00:21:36,159
how do we categorize this stuff that

660
00:21:36,159 --> 00:21:38,480
depth analysis how well covered is a

661
00:21:38,480 --> 00:21:40,799
given technique id and we need to find a

662
00:21:40,799 --> 00:21:43,280
practical sorting method

663
00:21:43,280 --> 00:21:45,360
and again that's just it's just

664
00:21:45,360 --> 00:21:48,080
non-trivial at the face of it because

665
00:21:48,080 --> 00:21:50,400
you know here on this left image here

666
00:21:50,400 --> 00:21:52,400
well if you have it covered turn the

667
00:21:52,400 --> 00:21:54,080
color and then you're done

668
00:21:54,080 --> 00:21:56,559
okay easy enough but when we start to

669
00:21:56,559 --> 00:21:59,039
say oh well what if this technique id

670
00:21:59,039 --> 00:22:01,760
has 14 tests that's good that's covered

671
00:22:01,760 --> 00:22:03,679
but only two of them are for linux is

672
00:22:03,679 --> 00:22:06,880
that good is that good coverage right or

673
00:22:06,880 --> 00:22:10,000
what if it has 14 tests but some of them

674
00:22:10,000 --> 00:22:12,080
or all of them are really really hard

675
00:22:12,080 --> 00:22:14,159
for someone to execute is that well

676
00:22:14,159 --> 00:22:16,159
covered

677
00:22:16,159 --> 00:22:17,679
these are the kinds of questions that we

678
00:22:17,679 --> 00:22:19,600
had and then to further complicate

679
00:22:19,600 --> 00:22:21,600
things some of these technique ids are

680
00:22:21,600 --> 00:22:23,679
inherently tricky to do system time

681
00:22:23,679 --> 00:22:25,360
discovery is

682
00:22:25,360 --> 00:22:27,039
the easiest technique to test for in my

683
00:22:27,039 --> 00:22:28,880
mind you type date into a command prompt

684
00:22:28,880 --> 00:22:30,720
and you're done but then you think about

685
00:22:30,720 --> 00:22:33,280
things like network network sniffing

686
00:22:33,280 --> 00:22:35,520
well is that easy to execute you need a

687
00:22:35,520 --> 00:22:36,960
network and you need some other

688
00:22:36,960 --> 00:22:39,200
applications right it's just non-trivial

689
00:22:39,200 --> 00:22:41,039
inherently and then you talk about

690
00:22:41,039 --> 00:22:42,799
things like cloud storage object

691
00:22:42,799 --> 00:22:44,000
discovery well now you have to sign up

692
00:22:44,000 --> 00:22:45,200
for a cloud provider and you need all

693
00:22:45,200 --> 00:22:47,520
this stuff and api keys to do that

694
00:22:47,520 --> 00:22:49,679
again it's non-trivial inherently so how

695
00:22:49,679 --> 00:22:51,760
do you count how well covered that thing

696
00:22:51,760 --> 00:22:52,640
is

697
00:22:52,640 --> 00:22:55,120
the answer was this scoring rubric this

698
00:22:55,120 --> 00:22:56,640
is what we came up with

699
00:22:56,640 --> 00:22:57,520
and

700
00:22:57,520 --> 00:23:00,159
the goals of this were one

701
00:23:00,159 --> 00:23:03,120
only use what's in the yaml

702
00:23:03,120 --> 00:23:06,080
two define just some simple if logic

703
00:23:06,080 --> 00:23:08,400
around it to define a score and then

704
00:23:08,400 --> 00:23:09,919
apply that to what we call the

705
00:23:09,919 --> 00:23:11,600
difficulty score

706
00:23:11,600 --> 00:23:13,600
and then with that difficulty score we

707
00:23:13,600 --> 00:23:16,080
can start to auto apply stuff and check

708
00:23:16,080 --> 00:23:17,760
stuff and grade on a curve and all sorts

709
00:23:17,760 --> 00:23:19,760
of fun stuff there

710
00:23:19,760 --> 00:23:22,799
so here's the example of the rubric

711
00:23:22,799 --> 00:23:25,120
again just a simple one but hey can you

712
00:23:25,120 --> 00:23:26,320
copy and paste this thing would that

713
00:23:26,320 --> 00:23:29,280
work if yes nice

714
00:23:29,280 --> 00:23:31,760
low points um does it have prerequisites

715
00:23:31,760 --> 00:23:32,799
if so

716
00:23:32,799 --> 00:23:34,960
high points and so on and so forth and

717
00:23:34,960 --> 00:23:36,320
this is how we defined our scale of

718
00:23:36,320 --> 00:23:37,919
difficulty that was entirely machine

719
00:23:37,919 --> 00:23:39,440
readable

720
00:23:39,440 --> 00:23:40,880
the actual rubric is defined about

721
00:23:40,880 --> 00:23:42,559
prerequisites do you have to download a

722
00:23:42,559 --> 00:23:44,080
tool from the internet do you need

723
00:23:44,080 --> 00:23:46,559
elevation privileges does it support the

724
00:23:46,559 --> 00:23:48,000
recent version of the platform or only

725
00:23:48,000 --> 00:23:51,039
run on windows me that kind of thing

726
00:23:51,039 --> 00:23:52,720
does it require input arguments does the

727
00:23:52,720 --> 00:23:54,799
user need to interact with this thing

728
00:23:54,799 --> 00:23:57,200
all these uh does it use an application

729
00:23:57,200 --> 00:23:59,840
does the test executor and the

730
00:23:59,840 --> 00:24:02,159
prerequisite executor do they match if

731
00:24:02,159 --> 00:24:04,559
not more points that sort of thing and

732
00:24:04,559 --> 00:24:06,159
uh does some

733
00:24:06,159 --> 00:24:07,679
does this thing require like manual

734
00:24:07,679 --> 00:24:10,000
interaction again more points that way

735
00:24:10,000 --> 00:24:12,000
so we defined this rubric

736
00:24:12,000 --> 00:24:14,480
and what shook out of that

737
00:24:14,480 --> 00:24:16,320
was a pretty neat stuff

738
00:24:16,320 --> 00:24:19,440
so now we had scripts and charts and

739
00:24:19,440 --> 00:24:21,679
graphs to define coverage

740
00:24:21,679 --> 00:24:24,880
and we could see at a glance oh cool

741
00:24:24,880 --> 00:24:26,240
you know mac os doesn't have enough

742
00:24:26,240 --> 00:24:27,840
tests over there we should maybe go

743
00:24:27,840 --> 00:24:29,360
build tests over there and then we had

744
00:24:29,360 --> 00:24:31,679
difficulty graphs of oh

745
00:24:31,679 --> 00:24:33,440
check that out it turns out that

746
00:24:33,440 --> 00:24:35,200
technique idea is really really hard to

747
00:24:35,200 --> 00:24:37,440
execute how could we make that easier

748
00:24:37,440 --> 00:24:39,919
and so this combination of breadth and

749
00:24:39,919 --> 00:24:42,960
depth coverage gave us a lot of ability

750
00:24:42,960 --> 00:24:45,520
to really analyze

751
00:24:45,520 --> 00:24:47,600
the project and its entirety in a way

752
00:24:47,600 --> 00:24:49,360
that those raw numbers kind of didn't

753
00:24:49,360 --> 00:24:52,240
really convey and again it was cool it

754
00:24:52,240 --> 00:24:54,320
was all built up by an intern right it

755
00:24:54,320 --> 00:24:55,840
was someone who could learn

756
00:24:55,840 --> 00:24:58,559
everything about this these frameworks

757
00:24:58,559 --> 00:25:00,000
these open source projects and get

758
00:25:00,000 --> 00:25:01,840
really deeply involved in understanding

759
00:25:01,840 --> 00:25:03,760
it and so it wasn't just a menial task

760
00:25:03,760 --> 00:25:06,159
it was how do you create automation

761
00:25:06,159 --> 00:25:09,120
around this complex thing so it's pretty

762
00:25:09,120 --> 00:25:10,240
neat

763
00:25:10,240 --> 00:25:11,679
so we came up with ways to visualize

764
00:25:11,679 --> 00:25:12,640
that

765
00:25:12,640 --> 00:25:14,960
and then once we had ways to visualize

766
00:25:14,960 --> 00:25:17,039
it well now we have to figure out how to

767
00:25:17,039 --> 00:25:19,039
fill those gaps we've identified places

768
00:25:19,039 --> 00:25:21,279
that we're missing stuff how do we make

769
00:25:21,279 --> 00:25:24,080
the project better for everybody

770
00:25:24,080 --> 00:25:26,320
um how do we make tests easier easier to

771
00:25:26,320 --> 00:25:27,840
use how do we add more tests more

772
00:25:27,840 --> 00:25:28,799
quickly

773
00:25:28,799 --> 00:25:31,279
and answer what i one of the biggest

774
00:25:31,279 --> 00:25:32,960
questions is if any of you wanted to

775
00:25:32,960 --> 00:25:35,440
start helping with atomic red team today

776
00:25:35,440 --> 00:25:36,880
you're like well where should i start

777
00:25:36,880 --> 00:25:39,440
which atomic test should i add first i

778
00:25:39,440 --> 00:25:41,279
want to be able to answer that question

779
00:25:41,279 --> 00:25:43,279
quickly and easily and not just like

780
00:25:43,279 --> 00:25:44,400
lick my finger and put it in the air and

781
00:25:44,400 --> 00:25:46,480
be like oh that one sounds good i

782
00:25:46,480 --> 00:25:48,159
actually have you know have a means to

783
00:25:48,159 --> 00:25:49,600
tell you where to start that was the

784
00:25:49,600 --> 00:25:50,480
goal

785
00:25:50,480 --> 00:25:51,279
so

786
00:25:51,279 --> 00:25:52,799
to meet that goal we have kind of this

787
00:25:52,799 --> 00:25:54,400
idea of the heat map to end all heat

788
00:25:54,400 --> 00:25:56,400
maps and right here this is our

789
00:25:56,400 --> 00:25:58,640
difficulty heat map with in a miter tech

790
00:25:58,640 --> 00:26:01,120
navigator layer here and we could see

791
00:26:01,120 --> 00:26:03,200
quickly and easily oh

792
00:26:03,200 --> 00:26:04,159
the

793
00:26:04,159 --> 00:26:07,200
red or orangey ones those ones are

794
00:26:07,200 --> 00:26:09,840
trickier tests to execute the green ones

795
00:26:09,840 --> 00:26:12,000
are easier tests to execute and again

796
00:26:12,000 --> 00:26:14,080
the ones in white have no tests right

797
00:26:14,080 --> 00:26:15,039
here

798
00:26:15,039 --> 00:26:16,640
it's super easy to figure out where you

799
00:26:16,640 --> 00:26:18,159
should start do one of the ones that

800
00:26:18,159 --> 00:26:20,720
have nothing or maybe try to help out if

801
00:26:20,720 --> 00:26:21,440
you

802
00:26:21,440 --> 00:26:23,360
know how help out with one of the ones

803
00:26:23,360 --> 00:26:25,520
that is a little trickier to do cool

804
00:26:25,520 --> 00:26:28,080
easy question answered visually not with

805
00:26:28,080 --> 00:26:30,159
numbers and spreadsheets right that's

806
00:26:30,159 --> 00:26:32,000
the compelling bit to why we wanted to

807
00:26:32,000 --> 00:26:33,840
visualize all this stuff

808
00:26:33,840 --> 00:26:35,120
but again

809
00:26:35,120 --> 00:26:36,720
difficulty gaps

810
00:26:36,720 --> 00:26:38,799
this is a non-trivial problem to figure

811
00:26:38,799 --> 00:26:40,799
out because

812
00:26:40,799 --> 00:26:44,080
it seems like some techniques and some

813
00:26:44,080 --> 00:26:46,400
tactics are just

814
00:26:46,400 --> 00:26:47,279
harder

815
00:26:47,279 --> 00:26:49,200
right they're just harder inherently to

816
00:26:49,200 --> 00:26:51,919
add tests to and to write tests for

817
00:26:51,919 --> 00:26:53,200
example

818
00:26:53,200 --> 00:26:56,080
rootkit 1014

819
00:26:56,080 --> 00:26:57,279
like

820
00:26:57,279 --> 00:26:58,880
how easy can you make designing a

821
00:26:58,880 --> 00:27:01,360
rootkit test like can you turn that into

822
00:27:01,360 --> 00:27:03,039
a one-liner without any sort of prereqs

823
00:27:03,039 --> 00:27:04,799
or downloading anything or what have you

824
00:27:04,799 --> 00:27:06,400
like that doesn't seem seems like it

825
00:27:06,400 --> 00:27:08,240
shouldn't be that easy so maybe that one

826
00:27:08,240 --> 00:27:10,480
will always have to be difficult another

827
00:27:10,480 --> 00:27:12,960
one is data from a shared network drive

828
00:27:12,960 --> 00:27:14,880
well inherently you need a shared

829
00:27:14,880 --> 00:27:17,200
network drive which adds complexity to

830
00:27:17,200 --> 00:27:20,480
that test so again it's non-trivial

831
00:27:20,480 --> 00:27:22,880
and so maybe there's no there's less

832
00:27:22,880 --> 00:27:25,200
value and trying to make root kit tests

833
00:27:25,200 --> 00:27:27,360
easier immediately and so defining that

834
00:27:27,360 --> 00:27:30,159
value became also a little tricky and

835
00:27:30,159 --> 00:27:31,679
you know some techniques are just more

836
00:27:31,679 --> 00:27:34,720
critical for us as defenders to

837
00:27:34,720 --> 00:27:36,640
focus on because adversaries use them

838
00:27:36,640 --> 00:27:39,840
more right and so defining all this was

839
00:27:39,840 --> 00:27:41,760
it's just hard to do and it required a

840
00:27:41,760 --> 00:27:43,039
lot of homework when we were thinking

841
00:27:43,039 --> 00:27:44,000
about it

842
00:27:44,000 --> 00:27:46,080
so looking at this again bringing back

843
00:27:46,080 --> 00:27:48,240
one of our difficulty heat maps here

844
00:27:48,240 --> 00:27:50,480
defense evasion as an example defensive

845
00:27:50,480 --> 00:27:52,159
asian as a tactic

846
00:27:52,159 --> 00:27:54,399
is just more difficult to write tests

847
00:27:54,399 --> 00:27:56,159
for we can see that visually here

848
00:27:56,159 --> 00:27:58,080
quickly and easily and i didn't have to

849
00:27:58,080 --> 00:27:59,360
comb through a bunch of stuff and make

850
00:27:59,360 --> 00:28:01,279
guesses we just know that now based off

851
00:28:01,279 --> 00:28:02,799
the rubric we designed and all the

852
00:28:02,799 --> 00:28:05,200
automation we built around it and so

853
00:28:05,200 --> 00:28:07,520
if that one is just more difficult maybe

854
00:28:07,520 --> 00:28:09,840
there is less value in asking strangers

855
00:28:09,840 --> 00:28:11,200
to write tests for it immediately

856
00:28:11,200 --> 00:28:13,039
whereas a bunch of other things clearly

857
00:28:13,039 --> 00:28:15,200
need some tests

858
00:28:15,200 --> 00:28:17,600
again the whole point of this is to take

859
00:28:17,600 --> 00:28:19,520
something that is complex and growing

860
00:28:19,520 --> 00:28:21,600
organically and has new tests every

861
00:28:21,600 --> 00:28:23,600
being built every moment and to add some

862
00:28:23,600 --> 00:28:25,360
visibility for people who want to get

863
00:28:25,360 --> 00:28:27,120
started and to tell us where we need

864
00:28:27,120 --> 00:28:28,720
some support

865
00:28:28,720 --> 00:28:30,720
another way we could think about it is

866
00:28:30,720 --> 00:28:32,640
using this old product manager trick an

867
00:28:32,640 --> 00:28:35,039
effort to value ratio right if we took

868
00:28:35,039 --> 00:28:36,640
all of the stuff we could do

869
00:28:36,640 --> 00:28:38,240
we could quickly and easily give it some

870
00:28:38,240 --> 00:28:41,360
scores of oh that tactic is trickier so

871
00:28:41,360 --> 00:28:43,520
the effort's higher but if there's no

872
00:28:43,520 --> 00:28:45,679
tests there maybe the value is also high

873
00:28:45,679 --> 00:28:47,679
and so we can define scores this way

874
00:28:47,679 --> 00:28:49,520
again it's just like a ye oldie product

875
00:28:49,520 --> 00:28:51,360
manager trick that we could utilize as

876
00:28:51,360 --> 00:28:53,679
we have all this coverage mapping to say

877
00:28:53,679 --> 00:28:55,120
oh yeah we actually need help in these

878
00:28:55,120 --> 00:28:57,520
places more than others

879
00:28:57,520 --> 00:28:59,039
so filling these gaps it's a work in

880
00:28:59,039 --> 00:29:01,039
progress but we have lots of mechanisms

881
00:29:01,039 --> 00:29:03,120
now that we did not have before to help

882
00:29:03,120 --> 00:29:05,279
us achieve these goals

883
00:29:05,279 --> 00:29:08,960
which brings us to the future

884
00:29:08,960 --> 00:29:09,919
which is

885
00:29:09,919 --> 00:29:12,880
kind of the call to action for today

886
00:29:12,880 --> 00:29:14,159
one thing i'm going to talk about is

887
00:29:14,159 --> 00:29:15,360
atomic test boundaries and the other

888
00:29:15,360 --> 00:29:18,480
thing is detection and alerting coverage

889
00:29:18,480 --> 00:29:20,159
so now that we've got all these maps and

890
00:29:20,159 --> 00:29:22,960
all this data what do we do with it

891
00:29:22,960 --> 00:29:24,799
sorry in advance to walmart's hackfest

892
00:29:24,799 --> 00:29:26,640
if using this picture gets the stream

893
00:29:26,640 --> 00:29:28,880
dmca takedown oh hold on no actually i

894
00:29:28,880 --> 00:29:31,039
can fix that really quick there we go

895
00:29:31,039 --> 00:29:32,720
okay cool so

896
00:29:32,720 --> 00:29:34,320
let's say we wanted to make an atomic

897
00:29:34,320 --> 00:29:37,360
bounty program right i say dear everyone

898
00:29:37,360 --> 00:29:38,880
there's a test i want you to make and i

899
00:29:38,880 --> 00:29:41,279
have really specific criteria for how i

900
00:29:41,279 --> 00:29:43,039
think the test should be created or

901
00:29:43,039 --> 00:29:46,399
things that i want to have in that test

902
00:29:46,399 --> 00:29:47,760
and

903
00:29:47,760 --> 00:29:49,039
you know the reward for this thing is

904
00:29:49,039 --> 00:29:50,240
variable because i actually have an idea

905
00:29:50,240 --> 00:29:51,600
of how difficult it might be to achieve

906
00:29:51,600 --> 00:29:55,600
this goal right neat wouldn't it be neat

907
00:29:55,600 --> 00:29:57,279
if a corporate

908
00:29:57,279 --> 00:29:59,200
organization would sponsor the filling

909
00:29:59,200 --> 00:30:01,360
of this sort of bounty it's not just you

910
00:30:01,360 --> 00:30:03,440
being a good community member and like

911
00:30:03,440 --> 00:30:05,120
wanting to commit to open source it's

912
00:30:05,120 --> 00:30:06,399
you saying like hey i could get a gift

913
00:30:06,399 --> 00:30:08,480
card out of this how cool is that well

914
00:30:08,480 --> 00:30:10,399
lo and behold

915
00:30:10,399 --> 00:30:12,000
auntie siphon training a john strand

916
00:30:12,000 --> 00:30:15,120
corporation um actually has a bounty for

917
00:30:15,120 --> 00:30:17,360
atomics right now it's going right now

918
00:30:17,360 --> 00:30:18,960
it i think it goes till what the the

919
00:30:18,960 --> 00:30:20,000
18th

920
00:30:20,000 --> 00:30:21,200
and so

921
00:30:21,200 --> 00:30:24,080
you all can go find that thing and

922
00:30:24,080 --> 00:30:26,720
create atomics that are defined and the

923
00:30:26,720 --> 00:30:28,640
ones that are great

924
00:30:28,640 --> 00:30:30,960
get stuff from anti-siphon that's

925
00:30:30,960 --> 00:30:32,960
amazing right and this just happened

926
00:30:32,960 --> 00:30:34,399
independently because it's an open

927
00:30:34,399 --> 00:30:36,320
source project and the community loves

928
00:30:36,320 --> 00:30:38,320
to help out and this is the sort of

929
00:30:38,320 --> 00:30:39,919
thing we want to do more and more and

930
00:30:39,919 --> 00:30:41,760
more of as more organizations have

931
00:30:41,760 --> 00:30:44,159
vested interest in this if we flash back

932
00:30:44,159 --> 00:30:45,760
to earlier remember there's all these

933
00:30:45,760 --> 00:30:47,520
for-profit companies that use atomic red

934
00:30:47,520 --> 00:30:48,880
team under the hood and they just reap

935
00:30:48,880 --> 00:30:51,039
all the benefits from community work

936
00:30:51,039 --> 00:30:52,159
well

937
00:30:52,159 --> 00:30:54,480
guess what they want more free features

938
00:30:54,480 --> 00:30:56,320
in their stuff and the community can

939
00:30:56,320 --> 00:30:58,399
provide them that and so they can create

940
00:30:58,399 --> 00:31:00,159
a development cycle where it's like hey

941
00:31:00,159 --> 00:31:02,640
we'll give you stuff if you uh push

942
00:31:02,640 --> 00:31:04,399
stuff upstream to atomic red team and

943
00:31:04,399 --> 00:31:06,159
then everyone wins right the whole

944
00:31:06,159 --> 00:31:08,640
community is made better by this sort of

945
00:31:08,640 --> 00:31:11,440
project in these sorts of additions

946
00:31:11,440 --> 00:31:12,880
so that's very cool

947
00:31:12,880 --> 00:31:14,240
now this is gonna be this is a

948
00:31:14,240 --> 00:31:16,000
problematic slide i apologize i'm about

949
00:31:16,000 --> 00:31:17,679
to change the definition of coverage for

950
00:31:17,679 --> 00:31:19,039
everyone as we've been talking about it

951
00:31:19,039 --> 00:31:22,399
for 30 minutes detection coverage

952
00:31:22,399 --> 00:31:24,640
this is the next place that atomic red

953
00:31:24,640 --> 00:31:27,120
team probably needs to go so imagine a

954
00:31:27,120 --> 00:31:28,960
world where you all have this library of

955
00:31:28,960 --> 00:31:32,480
cool adversary ttp examples right

956
00:31:32,480 --> 00:31:33,840
well wouldn't it be neat if you could

957
00:31:33,840 --> 00:31:35,679
automatically fire all of those things

958
00:31:35,679 --> 00:31:37,200
in your environment and see if you can

959
00:31:37,200 --> 00:31:40,080
detect them how cool would that be

960
00:31:40,080 --> 00:31:41,679
like you could just see

961
00:31:41,679 --> 00:31:43,600
automatically like oh yeah we're

962
00:31:43,600 --> 00:31:46,000
alerting on all these things and then we

963
00:31:46,000 --> 00:31:47,679
made a we changed a rule and could we

964
00:31:47,679 --> 00:31:49,440
fire them again oh look we're

965
00:31:49,440 --> 00:31:50,880
automatically detecting all these things

966
00:31:50,880 --> 00:31:52,799
but we're missing that one like how neat

967
00:31:52,799 --> 00:31:54,799
would that cadence be if anybody could

968
00:31:54,799 --> 00:31:57,039
do that

969
00:31:57,039 --> 00:31:59,360
this is the holy grail if we as a

970
00:31:59,360 --> 00:32:01,200
community can define a way that

971
00:32:01,200 --> 00:32:02,799
everybody can do this

972
00:32:02,799 --> 00:32:05,120
there's much winning to be had

973
00:32:05,120 --> 00:32:06,559
and there's been a lot of conversations

974
00:32:06,559 --> 00:32:08,000
about how you could achieve this at a

975
00:32:08,000 --> 00:32:09,840
community perspective we've talked about

976
00:32:09,840 --> 00:32:11,440
sigma we've talked about sysmon we've

977
00:32:11,440 --> 00:32:13,519
talked about maybe new libraries maybe

978
00:32:13,519 --> 00:32:14,720
adding to the atomic red team

979
00:32:14,720 --> 00:32:17,440
specification there's all sorts of ways

980
00:32:17,440 --> 00:32:20,320
we could achieve this goal

981
00:32:20,320 --> 00:32:22,559
and the atomic team maintainers are open

982
00:32:22,559 --> 00:32:25,200
to ideas here like definitely so if

983
00:32:25,200 --> 00:32:27,279
anybody has thoughts on this let them be

984
00:32:27,279 --> 00:32:29,120
heard this is a community project we can

985
00:32:29,120 --> 00:32:31,200
only all be better because of minds like

986
00:32:31,200 --> 00:32:32,240
yours

987
00:32:32,240 --> 00:32:33,360
so

988
00:32:33,360 --> 00:32:34,320
this is

989
00:32:34,320 --> 00:32:36,080
there's no defined answer for this even

990
00:32:36,080 --> 00:32:37,519
though we've started to see movement in

991
00:32:37,519 --> 00:32:39,360
this space i mentioned snap attack

992
00:32:39,360 --> 00:32:41,039
earlier at attack con they demoed a

993
00:32:41,039 --> 00:32:42,799
thing that was this

994
00:32:42,799 --> 00:32:44,799
right but again that's a pro

995
00:32:44,799 --> 00:32:46,640
proprietary company that's how they make

996
00:32:46,640 --> 00:32:48,960
their money and so if the community can

997
00:32:48,960 --> 00:32:51,279
come up with a way to do this that'd be

998
00:32:51,279 --> 00:32:52,799
pretty compelling

999
00:32:52,799 --> 00:32:54,399
so

1000
00:32:54,399 --> 00:32:56,320
again the future detection coverage how

1001
00:32:56,320 --> 00:32:58,240
could we figure this out together

1002
00:32:58,240 --> 00:32:59,679
however

1003
00:32:59,679 --> 00:33:01,600
there's a known problem and i mentioned

1004
00:33:01,600 --> 00:33:03,120
this earlier

1005
00:33:03,120 --> 00:33:05,279
we made a choice in building atomic red

1006
00:33:05,279 --> 00:33:07,120
team and the way it's designed to make

1007
00:33:07,120 --> 00:33:09,519
it so that people can add tests quickly

1008
00:33:09,519 --> 00:33:11,519
and easily and you don't need to be a

1009
00:33:11,519 --> 00:33:13,360
super expert and need to know every

1010
00:33:13,360 --> 00:33:14,799
single little process that the thing

1011
00:33:14,799 --> 00:33:16,399
might make or all the exit codes you

1012
00:33:16,399 --> 00:33:17,679
might have or any of that stuff you just

1013
00:33:17,679 --> 00:33:20,080
write a test and push it upstream

1014
00:33:20,080 --> 00:33:22,960
but because a given atomic test is just

1015
00:33:22,960 --> 00:33:25,279
an example and there's no concept of

1016
00:33:25,279 --> 00:33:26,880
success and failure in the atomic red

1017
00:33:26,880 --> 00:33:28,080
team spec

1018
00:33:28,080 --> 00:33:29,679
well if you're going to automatically

1019
00:33:29,679 --> 00:33:30,960
run a bunch of these things and then

1020
00:33:30,960 --> 00:33:32,799
determine your detections

1021
00:33:32,799 --> 00:33:34,240
logic off of that

1022
00:33:34,240 --> 00:33:36,399
how do you know all those tests worked

1023
00:33:36,399 --> 00:33:37,760
without looking at all of them

1024
00:33:37,760 --> 00:33:39,679
individually

1025
00:33:39,679 --> 00:33:41,279
how do you know that the thing you were

1026
00:33:41,279 --> 00:33:43,600
trying to do actually happened and that

1027
00:33:43,600 --> 00:33:45,440
you're not getting some sort of weird

1028
00:33:45,440 --> 00:33:46,799
flag that you weren't expecting or an

1029
00:33:46,799 --> 00:33:48,720
event log that isn't appropriate because

1030
00:33:48,720 --> 00:33:51,760
the test didn't actually work in bulk

1031
00:33:51,760 --> 00:33:53,440
because the atomic red team spec doesn't

1032
00:33:53,440 --> 00:33:56,080
have that concept of success and failure

1033
00:33:56,080 --> 00:33:58,000
this problem is very very tricky and

1034
00:33:58,000 --> 00:34:00,240
again we are open to ideas about how to

1035
00:34:00,240 --> 00:34:01,440
achieve this

1036
00:34:01,440 --> 00:34:03,360
huge library of detection coverage that

1037
00:34:03,360 --> 00:34:05,200
you could apply automatically

1038
00:34:05,200 --> 00:34:07,440
and one example of like how tricky this

1039
00:34:07,440 --> 00:34:09,119
can be let's go again my favorite

1040
00:34:09,119 --> 00:34:11,199
example system date or system time

1041
00:34:11,199 --> 00:34:13,119
discovery t1124

1042
00:34:13,119 --> 00:34:14,239
again

1043
00:34:14,239 --> 00:34:16,239
the test for this is the word date in a

1044
00:34:16,239 --> 00:34:18,159
command prompt and you push enter right

1045
00:34:18,159 --> 00:34:20,719
that's the easiest you could get

1046
00:34:20,719 --> 00:34:22,320
but how do you determine that that was

1047
00:34:22,320 --> 00:34:23,918
successful that you ran that test

1048
00:34:23,918 --> 00:34:26,879
successfully is it an exit code is it a

1049
00:34:26,879 --> 00:34:29,440
value that it returns what if you're not

1050
00:34:29,440 --> 00:34:31,199
in the us and date formatting is

1051
00:34:31,199 --> 00:34:34,399
differently how do you define success

1052
00:34:34,399 --> 00:34:35,760
for that command

1053
00:34:35,760 --> 00:34:37,440
every single time

1054
00:34:37,440 --> 00:34:39,839
and how does a person just

1055
00:34:39,839 --> 00:34:42,000
create that and what is the expectation

1056
00:34:42,000 --> 00:34:44,159
around creating that test

1057
00:34:44,159 --> 00:34:46,560
again it's non-trivial to define these

1058
00:34:46,560 --> 00:34:49,280
things and we are open to suggestions

1059
00:34:49,280 --> 00:34:51,040
and we we know that specifications need

1060
00:34:51,040 --> 00:34:52,639
to grow over time we know that these

1061
00:34:52,639 --> 00:34:54,719
projects need to adapt but

1062
00:34:54,719 --> 00:34:57,040
this problem this is the holy grail that

1063
00:34:57,040 --> 00:34:58,960
i challenge you all to try to answer for

1064
00:34:58,960 --> 00:35:00,800
the community

1065
00:35:00,800 --> 00:35:02,480
because we're working on it and it's

1066
00:35:02,480 --> 00:35:04,160
it's tricky so where do we go from here

1067
00:35:04,160 --> 00:35:05,599
we've talked about a lot of stuff right

1068
00:35:05,599 --> 00:35:07,200
i've talked about charts and graphs and

1069
00:35:07,200 --> 00:35:08,880
information and atomic red team and

1070
00:35:08,880 --> 00:35:11,040
miter attack

1071
00:35:11,040 --> 00:35:13,440
if you want to just dive into this if

1072
00:35:13,440 --> 00:35:15,119
you want to explore atomic red team

1073
00:35:15,119 --> 00:35:16,640
atomics if you want to learn about this

1074
00:35:16,640 --> 00:35:17,920
kind of testing if you want to

1075
00:35:17,920 --> 00:35:19,280
contribute stuff or join the slack

1076
00:35:19,280 --> 00:35:20,640
channel for this community or any of

1077
00:35:20,640 --> 00:35:23,200
this stuff where do you go well you

1078
00:35:23,200 --> 00:35:24,400
could go here

1079
00:35:24,400 --> 00:35:27,280
atomic red team dot io we just launched

1080
00:35:27,280 --> 00:35:29,200
a cool new version of this site

1081
00:35:29,200 --> 00:35:32,800
and it has all the integrated charts and

1082
00:35:32,800 --> 00:35:34,800
graphs and stuff we're adding atomics

1083
00:35:34,800 --> 00:35:36,400
all the time there's a bunch of new

1084
00:35:36,400 --> 00:35:38,079
features and functionality and it's much

1085
00:35:38,079 --> 00:35:40,320
more rich of a resource for people who

1086
00:35:40,320 --> 00:35:43,440
don't want to just like carve through a

1087
00:35:43,440 --> 00:35:44,640
github

1088
00:35:44,640 --> 00:35:46,000
blob of

1089
00:35:46,000 --> 00:35:48,480
yaml that's the goal of what we've done

1090
00:35:48,480 --> 00:35:50,560
and to like to show

1091
00:35:50,560 --> 00:35:52,160
does it work is my animation working

1092
00:35:52,160 --> 00:35:53,839
look at that so let's see you want to

1093
00:35:53,839 --> 00:35:55,760
search for lsas tests so look you just

1094
00:35:55,760 --> 00:35:57,280
type in elses and everything just pops

1095
00:35:57,280 --> 00:35:58,960
up and it happens in real time you don't

1096
00:35:58,960 --> 00:36:00,800
have to search github for stuff because

1097
00:36:00,800 --> 00:36:01,760
search

1098
00:36:01,760 --> 00:36:02,880
isn't great

1099
00:36:02,880 --> 00:36:04,640
not great

1100
00:36:04,640 --> 00:36:05,440
so

1101
00:36:05,440 --> 00:36:07,680
solve that problem a little bit so

1102
00:36:07,680 --> 00:36:09,040
this is one of the things that you can

1103
00:36:09,040 --> 00:36:10,400
do now if you want to search for an

1104
00:36:10,400 --> 00:36:12,160
atomic test you just put in a search bar

1105
00:36:12,160 --> 00:36:13,280
bang you're right there all the

1106
00:36:13,280 --> 00:36:16,079
information available to you

1107
00:36:16,079 --> 00:36:18,320
huge shout out to jose hernandez one of

1108
00:36:18,320 --> 00:36:19,760
the atomic red team maintainers for

1109
00:36:19,760 --> 00:36:21,359
building all this functionality out

1110
00:36:21,359 --> 00:36:23,119
again i know enough code to be dangerous

1111
00:36:23,119 --> 00:36:25,440
but jose really drove this this

1112
00:36:25,440 --> 00:36:27,720
functionality home so that's all there

1113
00:36:27,720 --> 00:36:29,359
atomicredteam.io you can search all the

1114
00:36:29,359 --> 00:36:30,800
atomic tests right now which is very

1115
00:36:30,800 --> 00:36:33,599
very cool uh another one again all this

1116
00:36:33,599 --> 00:36:35,599
great work cameron roberts did we have

1117
00:36:35,599 --> 00:36:36,880
all these cool charts and graphs look at

1118
00:36:36,880 --> 00:36:39,119
this thing you change it and it

1119
00:36:39,119 --> 00:36:41,599
animation happens it's very cool so

1120
00:36:41,599 --> 00:36:43,040
we're pretty proud of this but again it

1121
00:36:43,040 --> 00:36:44,960
provides you all that at a glance

1122
00:36:44,960 --> 00:36:46,800
visibility of coverage that you just

1123
00:36:46,800 --> 00:36:48,720
have and you can download attack

1124
00:36:48,720 --> 00:36:50,320
navigator layers and just throw those

1125
00:36:50,320 --> 00:36:52,480
into the attack navigator ui and boom

1126
00:36:52,480 --> 00:36:54,880
it's done also if you have not played

1127
00:36:54,880 --> 00:36:56,720
with mitre attack navigator and you do

1128
00:36:56,720 --> 00:36:58,480
stuff with mitre attack go check out the

1129
00:36:58,480 --> 00:37:00,560
attack navigator seriously it's very

1130
00:37:00,560 --> 00:37:03,040
very very very cool and it's very useful

1131
00:37:03,040 --> 00:37:05,040
when you're defining a way to visually

1132
00:37:05,040 --> 00:37:06,800
map this stuff because it can be a

1133
00:37:06,800 --> 00:37:08,720
little arcane as you're talking about

1134
00:37:08,720 --> 00:37:10,320
technique ids especially to people who

1135
00:37:10,320 --> 00:37:12,079
have no idea what this stuff is so

1136
00:37:12,079 --> 00:37:14,320
that's all cool and exists now and you

1137
00:37:14,320 --> 00:37:15,599
should check out navigator if you

1138
00:37:15,599 --> 00:37:18,560
haven't done so before so takeaways if

1139
00:37:18,560 --> 00:37:20,320
you've just been like playing fortnite

1140
00:37:20,320 --> 00:37:21,760
on your phone throughout this whole talk

1141
00:37:21,760 --> 00:37:23,280
these are the things you need to know

1142
00:37:23,280 --> 00:37:26,400
number one pay your interns just do it

1143
00:37:26,400 --> 00:37:27,520
if you take nothing else away from the

1144
00:37:27,520 --> 00:37:28,800
talk please do that

1145
00:37:28,800 --> 00:37:31,599
next up in atomic red team land atomic

1146
00:37:31,599 --> 00:37:34,079
test gap analysis is underway we've done

1147
00:37:34,079 --> 00:37:35,760
some very very cool stuff there it's now

1148
00:37:35,760 --> 00:37:37,440
visible to all so if you want to get

1149
00:37:37,440 --> 00:37:38,880
started with this it's all available to

1150
00:37:38,880 --> 00:37:41,440
you we launched a new site we've got new

1151
00:37:41,440 --> 00:37:43,440
tests being created by the community

1152
00:37:43,440 --> 00:37:44,800
like you all

1153
00:37:44,800 --> 00:37:46,880
every day which is very very cool we

1154
00:37:46,880 --> 00:37:48,720
have more information on what an atomic

1155
00:37:48,720 --> 00:37:50,240
bounty program might look like again

1156
00:37:50,240 --> 00:37:52,000
thanks to anti-siphon for making one

1157
00:37:52,000 --> 00:37:53,920
already but more bounty stuff and

1158
00:37:53,920 --> 00:37:56,160
knowledge about their coming soon tm

1159
00:37:56,160 --> 00:37:58,240
also you should contribute to atomic red

1160
00:37:58,240 --> 00:38:00,400
team it is very very easy

1161
00:38:00,400 --> 00:38:02,480
i mean it it is really easy and don't

1162
00:38:02,480 --> 00:38:04,720
just take my word for it

1163
00:38:04,720 --> 00:38:06,160
george ortiz

1164
00:38:06,160 --> 00:38:07,520
just tweeted this the other day

1165
00:38:07,520 --> 00:38:09,440
literally like a one-line test and added

1166
00:38:09,440 --> 00:38:11,359
to atomic red team i think what did he

1167
00:38:11,359 --> 00:38:13,280
use drop the imposter syndrome was how

1168
00:38:13,280 --> 00:38:15,680
he started the tweet anyone can be a

1169
00:38:15,680 --> 00:38:18,320
contributor so if you even have an

1170
00:38:18,320 --> 00:38:20,800
inkling of thinking about it

1171
00:38:20,800 --> 00:38:22,880
please do so because only together as a

1172
00:38:22,880 --> 00:38:24,720
community can we make this library more

1173
00:38:24,720 --> 00:38:26,960
rich and add to the value of this thing

1174
00:38:26,960 --> 00:38:29,280
for everyone

1175
00:38:29,280 --> 00:38:30,800
again you get free stuff

1176
00:38:30,800 --> 00:38:32,960
you can just fix typos it's great

1177
00:38:32,960 --> 00:38:35,040
anything we want anything any help at

1178
00:38:35,040 --> 00:38:37,359
all would be fantastic also we give

1179
00:38:37,359 --> 00:38:38,880
shout outs to new and top contributors

1180
00:38:38,880 --> 00:38:40,240
in the atomic newsletter which goes out

1181
00:38:40,240 --> 00:38:42,079
every month get your github name right

1182
00:38:42,079 --> 00:38:43,839
there like hey you're great

1183
00:38:43,839 --> 00:38:46,240
and everybody should know it

1184
00:38:46,240 --> 00:38:47,680
we have slack community

1185
00:38:47,680 --> 00:38:49,839
team dot io it's all there

1186
00:38:49,839 --> 00:38:50,960
cool

1187
00:38:50,960 --> 00:38:52,960
so we're done a little early but if you

1188
00:38:52,960 --> 00:38:54,960
want to know more i said atomic range

1189
00:38:54,960 --> 00:38:57,359
theme.io it's the place thanks everyone

1190
00:38:57,359 --> 00:38:59,119
thanks waldo hackenfest for having me

1191
00:38:59,119 --> 00:39:00,320
thank you all for being great

1192
00:39:00,320 --> 00:39:01,839
participants thank you all on the live

1193
00:39:01,839 --> 00:39:03,510
stream we're all done

1194
00:39:03,510 --> 00:39:07,440
[Applause]

1195
00:39:07,440 --> 00:39:09,760
adam

1196
00:39:10,240 --> 00:39:12,560
i want to thank adam for coming to grace

1197
00:39:12,560 --> 00:39:15,119
us with his presence and convincing us

1198
00:39:15,119 --> 00:39:17,839
all to use the attack framework this is

1199
00:39:17,839 --> 00:39:21,200
another in the encouragement to become

1200
00:39:21,200 --> 00:39:23,040
part of the community that's what the

1201
00:39:23,040 --> 00:39:25,040
message you're hearing here lots of open

1202
00:39:25,040 --> 00:39:28,560
source lots of everybody pitching in so

1203
00:39:28,560 --> 00:39:30,560
don't forget to pitch in and go check

1204
00:39:30,560 --> 00:39:32,880
out the workshops be sure and come back

1205
00:39:32,880 --> 00:39:35,359
for the next talk that starts at 10

1206
00:39:35,359 --> 00:39:36,880
o'clock

1207
00:39:36,880 --> 00:39:37,920
and

1208
00:39:37,920 --> 00:39:40,400
any questions from the audience

1209
00:39:40,400 --> 00:39:41,760
no

1210
00:39:41,760 --> 00:39:43,359
how about your handouts where can people

1211
00:39:43,359 --> 00:39:44,720
get your hand out so you're gonna post

1212
00:39:44,720 --> 00:39:46,720
them to the discord

1213
00:39:46,720 --> 00:39:49,760
yeah so if you want to talk to me or

1214
00:39:49,760 --> 00:39:51,440
learn more about red canary or atomic

1215
00:39:51,440 --> 00:39:53,440
red team stuff we're in the vendor area

1216
00:39:53,440 --> 00:39:55,359
just look for the red bird

1217
00:39:55,359 --> 00:39:57,440
bird um so you can come over there we're

1218
00:39:57,440 --> 00:39:59,359
giving away some free stuff too um as

1219
00:39:59,359 --> 00:40:01,119
far as handouts and slides and all that

1220
00:40:01,119 --> 00:40:03,119
stuff i'll post those when i post those

1221
00:40:03,119 --> 00:40:04,720
i'm sorry in advance it won't be in the

1222
00:40:04,720 --> 00:40:06,720
next 20 minutes and not i'm very ill

1223
00:40:06,720 --> 00:40:08,880
prepared wi-fi is problematic it's a

1224
00:40:08,880 --> 00:40:10,880
whole thing so but i will post these

1225
00:40:10,880 --> 00:40:14,319
slides asap somewhere soon so for those

1226
00:40:14,319 --> 00:40:17,280
on the on the live stream stay tuned

1227
00:40:17,280 --> 00:40:19,359
this is just early the morning of the

1228
00:40:19,359 --> 00:40:21,599
first day of the conference and it will

1229
00:40:21,599 --> 00:40:24,319
be a good day by the end of the day

1230
00:40:24,319 --> 00:40:25,920
evening and morning yeah it's gonna be

1231
00:40:25,920 --> 00:40:26,800
great

1232
00:40:26,800 --> 00:40:28,880
so stick around for the next talk too

1233
00:40:28,880 --> 00:40:30,800
come back at 10 o'clock if you need to

1234
00:40:30,800 --> 00:40:32,800
take a break buy a break take care of

1235
00:40:32,800 --> 00:40:36,560
yourselves don't be in the chair

1236
00:40:36,640 --> 00:40:39,839
it's code of conduct

