1
00:00:20,920 --> 00:00:23,810
excellent i'm happy to introduce Dan

2
00:00:23,810 --> 00:00:27,200
kuykendahl he is with NT objectives he

3
00:00:27,200 --> 00:00:28,670
manages their software development

4
00:00:28,670 --> 00:00:31,490
activities there he has in the past been

5
00:00:31,490 --> 00:00:35,180
with found stone I'm happy to say I used

6
00:00:35,180 --> 00:00:37,610
their tools and find them quite useful

7
00:00:37,610 --> 00:00:39,620
and he's also worked with Fortas in the

8
00:00:39,620 --> 00:00:41,750
past he'll talk to us today about the

9
00:00:41,750 --> 00:00:44,150
latest generation of web applications

10
00:00:44,150 --> 00:00:48,530
and how they have changed the game dan

11
00:00:48,530 --> 00:00:54,140
welcome thank you very much ok so I

12
00:00:54,140 --> 00:00:56,690
think people probably still be filing in

13
00:00:56,690 --> 00:00:58,790
a little bit but we got to get going

14
00:00:58,790 --> 00:01:00,200
because we've got lunch coming so I'm

15
00:01:00,200 --> 00:01:01,190
going to try to go through this quickly

16
00:01:01,190 --> 00:01:03,350
because I know everybody's going to be

17
00:01:03,350 --> 00:01:07,130
anxious to get to lunch but our key

18
00:01:07,130 --> 00:01:09,170
topic for today is really going to be

19
00:01:09,170 --> 00:01:11,780
about web apps and how things have been

20
00:01:11,780 --> 00:01:14,270
changing the formats and that sort of

21
00:01:14,270 --> 00:01:17,960
thing as you mentioned I'm currently the

22
00:01:17,960 --> 00:01:21,770
co-ceo CTO of anti objectives we do web

23
00:01:21,770 --> 00:01:24,950
application scanning we've been as a

24
00:01:24,950 --> 00:01:26,740
company around for about 10 years

25
00:01:26,740 --> 00:01:29,270
building nto spider which is our core

26
00:01:29,270 --> 00:01:32,360
product plus I do some podcasting

27
00:01:32,360 --> 00:01:33,619
actually on the podcast with Mike

28
00:01:33,619 --> 00:01:35,689
Farnham the organizer of this conference

29
00:01:35,689 --> 00:01:38,390
and do a bunch of open source

30
00:01:38,390 --> 00:01:42,770
development it kind of skipped the stuff

31
00:01:42,770 --> 00:01:44,930
about the company stop by the booth

32
00:01:44,930 --> 00:01:46,340
we're giving out the shirts something

33
00:01:46,340 --> 00:01:49,070
I'm wearing one here so stop by the

34
00:01:49,070 --> 00:01:50,479
booth when give you more information

35
00:01:50,479 --> 00:01:55,580
about our products so this is basically

36
00:01:55,580 --> 00:01:56,930
the overview of what I'm going to go

37
00:01:56,930 --> 00:01:58,790
through we're talking about what the

38
00:01:58,790 --> 00:02:00,680
current trends are in application

39
00:02:00,680 --> 00:02:04,729
security the importance that is really

40
00:02:04,729 --> 00:02:06,170
how important their starting to become

41
00:02:06,170 --> 00:02:09,139
what the focus is really in the security

42
00:02:09,139 --> 00:02:12,980
industry and how the applications have

43
00:02:12,980 --> 00:02:15,290
been you know kind of the legacy or what

44
00:02:15,290 --> 00:02:17,989
I call Graham granddad's apps want to

45
00:02:17,989 --> 00:02:19,489
kind of go through how those look in

46
00:02:19,489 --> 00:02:21,440
comparison with what's happening now

47
00:02:21,440 --> 00:02:23,930
what some of the new the new

48
00:02:23,930 --> 00:02:25,790
applications how they send their data

49
00:02:25,790 --> 00:02:28,489
including mobile apps and really the

50
00:02:28,489 --> 00:02:30,120
lack of defenses

51
00:02:30,120 --> 00:02:34,950
involved so why this all matters well

52
00:02:34,950 --> 00:02:37,110
this is really becoming the focus you

53
00:02:37,110 --> 00:02:38,760
know most of the attacks are coming

54
00:02:38,760 --> 00:02:40,769
against the applications most of the

55
00:02:40,769 --> 00:02:43,980
successful attacks sans institute says

56
00:02:43,980 --> 00:02:45,959
sixty percent of the total attacks are

57
00:02:45,959 --> 00:02:48,599
coming across the internet what we're

58
00:02:48,599 --> 00:02:51,720
seeing is that there's legislation that

59
00:02:51,720 --> 00:02:55,069
is trying to help and standards like PCI

60
00:02:55,069 --> 00:02:57,470
legislation around like HIPAA

61
00:02:57,470 --> 00:03:01,200
sarbanes-oxley those sort of regulations

62
00:03:01,200 --> 00:03:03,329
are coming into effect but what we end

63
00:03:03,329 --> 00:03:05,129
up seeing is that fifty-four percent of

64
00:03:05,129 --> 00:03:06,359
the actual attacks are starting to

65
00:03:06,359 --> 00:03:10,109
happen against the web apps but i guess

66
00:03:10,109 --> 00:03:11,609
the network guys have been securing

67
00:03:11,609 --> 00:03:15,000
things better so the success rate of the

68
00:03:15,000 --> 00:03:16,620
still the stolen attacks are mostly

69
00:03:16,620 --> 00:03:18,390
coming from the app web applications

70
00:03:18,390 --> 00:03:20,099
ninety-two percent of the actual stolen

71
00:03:20,099 --> 00:03:22,290
records are from the web applications

72
00:03:22,290 --> 00:03:24,599
and and that's really key here this is

73
00:03:24,599 --> 00:03:27,840
where the activity is going alright this

74
00:03:27,840 --> 00:03:29,370
the network layer has really been doing

75
00:03:29,370 --> 00:03:32,430
a good job of protecting itself and

76
00:03:32,430 --> 00:03:35,040
here's the basic attacks that are really

77
00:03:35,040 --> 00:03:37,530
popular the ones that that tend to work

78
00:03:37,530 --> 00:03:40,019
are things like cross-site scripting and

79
00:03:40,019 --> 00:03:41,900
that's where you're basically using a

80
00:03:41,900 --> 00:03:46,019
trusted site to hack their users sequel

81
00:03:46,019 --> 00:03:48,480
injection another major one where you're

82
00:03:48,480 --> 00:03:49,980
obviously able to get into the database

83
00:03:49,980 --> 00:03:51,799
behind the scenes powering the web app

84
00:03:51,799 --> 00:03:54,569
there's information leakage being able

85
00:03:54,569 --> 00:03:56,129
to get to data that you weren't supposed

86
00:03:56,129 --> 00:03:59,400
to that sort of thing and these are the

87
00:03:59,400 --> 00:04:00,980
these are the main attacks that we see

88
00:04:00,980 --> 00:04:04,500
authentication bypasses another key key

89
00:04:04,500 --> 00:04:07,319
issue we're able to get into areas of

90
00:04:07,319 --> 00:04:08,790
the application or to data that you

91
00:04:08,790 --> 00:04:12,120
weren't supposed to so this is what it

92
00:04:12,120 --> 00:04:15,329
tends to look like in the current

93
00:04:15,329 --> 00:04:16,769
applications behind the scenes behind

94
00:04:16,769 --> 00:04:18,570
the brits happening behind the scenes in

95
00:04:18,570 --> 00:04:20,639
the browser hopefully you can see this

96
00:04:20,639 --> 00:04:24,060
okay what we end up seeing is very

97
00:04:24,060 --> 00:04:26,870
simple attack structure attacks surface

98
00:04:26,870 --> 00:04:30,090
the the name and value pairs are very

99
00:04:30,090 --> 00:04:32,400
simple you see them on your URL on your

100
00:04:32,400 --> 00:04:34,260
web browser all the time right in this

101
00:04:34,260 --> 00:04:36,419
example I've got the you know this page

102
00:04:36,419 --> 00:04:40,070
and ID equals for now it's very simple

103
00:04:40,070 --> 00:04:43,900
you know our name equals rake over

104
00:04:43,900 --> 00:04:48,160
it's all very simple input format right

105
00:04:48,160 --> 00:04:49,780
it's a very well defined and well

106
00:04:49,780 --> 00:04:52,419
utilized format even when you're doing a

107
00:04:52,419 --> 00:04:54,190
post when you're submitting a form it's

108
00:04:54,190 --> 00:04:56,979
the same format but instead it instead

109
00:04:56,979 --> 00:04:59,770
of sticking it on the URL it's going to

110
00:04:59,770 --> 00:05:01,600
be sticking it in the post section of

111
00:05:01,600 --> 00:05:03,639
the HTTP header all right so what you

112
00:05:03,639 --> 00:05:05,440
know then this is normally stuff you see

113
00:05:05,440 --> 00:05:07,419
this is actually why people often

114
00:05:07,419 --> 00:05:10,479
falsely think that a post is is more

115
00:05:10,479 --> 00:05:12,340
secure than it yet because you're just

116
00:05:12,340 --> 00:05:14,169
not seeing it but it's still there if

117
00:05:14,169 --> 00:05:15,820
you're looking at the traffic so

118
00:05:15,820 --> 00:05:17,650
somebody sitting over your shoulder may

119
00:05:17,650 --> 00:05:20,949
not see what those values are but that's

120
00:05:20,949 --> 00:05:22,449
not really the person you're generally

121
00:05:22,449 --> 00:05:27,130
worried about the attack inserting the

122
00:05:27,130 --> 00:05:28,419
attacks is pretty straightforward

123
00:05:28,419 --> 00:05:29,800
because you're going to put them in

124
00:05:29,800 --> 00:05:32,169
those well defined areas right here

125
00:05:32,169 --> 00:05:33,780
would be a cross-site scripting attack

126
00:05:33,780 --> 00:05:36,190
taking that that example from the

127
00:05:36,190 --> 00:05:38,560
previous page or I had name equals rake

128
00:05:38,560 --> 00:05:40,510
now I'm going to take name equals rake

129
00:05:40,510 --> 00:05:42,430
and add a cross-site scripting payload

130
00:05:42,430 --> 00:05:44,889
very easy very simple stuff we've been

131
00:05:44,889 --> 00:05:47,949
doing this a long long time I guess not

132
00:05:47,949 --> 00:05:49,690
everybody has been doing this but us in

133
00:05:49,690 --> 00:05:51,130
the in the app sex-based I've been doing

134
00:05:51,130 --> 00:05:53,650
this forever and what happens with these

135
00:05:53,650 --> 00:05:55,930
kind of attacks is you know I'm going to

136
00:05:55,930 --> 00:05:59,229
inject this this HTML content and then

137
00:05:59,229 --> 00:06:00,940
it's going to and in this case some

138
00:06:00,940 --> 00:06:02,590
JavaScript and it's going to end up

139
00:06:02,590 --> 00:06:05,229
showing up on the resulting response

140
00:06:05,229 --> 00:06:07,330
page all right this is something I could

141
00:06:07,330 --> 00:06:10,539
then send that link to to somebody they

142
00:06:10,539 --> 00:06:12,430
click on it it's going to execute my

143
00:06:12,430 --> 00:06:16,479
code from the trusted site right so this

144
00:06:16,479 --> 00:06:17,800
is the stuff that we've been doing for a

145
00:06:17,800 --> 00:06:19,840
long time you know this is you know

146
00:06:19,840 --> 00:06:21,940
we're getting kind of older I'm getting

147
00:06:21,940 --> 00:06:25,090
older been doing this forever and and

148
00:06:25,090 --> 00:06:26,979
you know this is kind of the granddad's

149
00:06:26,979 --> 00:06:28,780
web apps and the attacks that have been

150
00:06:28,780 --> 00:06:32,020
going on for a long time there's tools

151
00:06:32,020 --> 00:06:34,300
to help you find these issues right

152
00:06:34,300 --> 00:06:36,849
these classic you know granddad web apps

153
00:06:36,849 --> 00:06:38,680
type of things is you know web one point

154
00:06:38,680 --> 00:06:41,470
of whatever you want to call it there

155
00:06:41,470 --> 00:06:43,930
are good tools to help you find these

156
00:06:43,930 --> 00:06:47,080
issues all right our product nto spiders

157
00:06:47,080 --> 00:06:49,120
one of them there's apps can web inspect

158
00:06:49,120 --> 00:06:51,610
it was mommy tuna there's a ton of web

159
00:06:51,610 --> 00:06:55,300
scanners out there you know all ranging

160
00:06:55,300 --> 00:06:57,610
and quality there's source code review

161
00:06:57,610 --> 00:06:59,979
tools like fortify let's say you out

162
00:06:59,979 --> 00:07:02,439
there you know there's good sass

163
00:07:02,439 --> 00:07:05,680
products out there that are decent at

164
00:07:05,680 --> 00:07:07,180
finding some of these issues and helping

165
00:07:07,180 --> 00:07:08,889
you out helping you identify them

166
00:07:08,889 --> 00:07:11,250
there's good open source products and

167
00:07:11,250 --> 00:07:15,520
quasi nearly free tools like perros web

168
00:07:15,520 --> 00:07:19,150
scarab there's burb and then there's the

169
00:07:19,150 --> 00:07:21,819
defensive tools because this format of

170
00:07:21,819 --> 00:07:23,729
these attacks are so straight forward

171
00:07:23,729 --> 00:07:26,080
web app firewalls are able to kind of

172
00:07:26,080 --> 00:07:27,610
protect them because they can parse that

173
00:07:27,610 --> 00:07:31,330
format tear it apart find the values and

174
00:07:31,330 --> 00:07:33,009
look for attack payloads in there they

175
00:07:33,009 --> 00:07:36,039
can understand that and they there you

176
00:07:36,039 --> 00:07:38,169
know they vary in effectiveness as well

177
00:07:38,169 --> 00:07:40,870
but there are tools and there's good

178
00:07:40,870 --> 00:07:42,729
resources to learn how to do this stuff

179
00:07:42,729 --> 00:07:45,069
all right there's good books and and

180
00:07:45,069 --> 00:07:49,139
it's talked about at conferences a lot

181
00:07:49,139 --> 00:07:51,340
but what we're end up seeing here is

182
00:07:51,340 --> 00:07:53,979
things are moving forward on the

183
00:07:53,979 --> 00:07:55,539
development side of things the way

184
00:07:55,539 --> 00:07:57,699
people build tools and build web

185
00:07:57,699 --> 00:08:00,719
applications has really been moving so

186
00:08:00,719 --> 00:08:03,159
what we see is the attack surface for a

187
00:08:03,159 --> 00:08:04,509
while there was a little bit of you know

188
00:08:04,509 --> 00:08:06,909
what we call what web 2.0 which is these

189
00:08:06,909 --> 00:08:10,150
ajax e type of applications they

190
00:08:10,150 --> 00:08:11,199
certainly introduce some of these

191
00:08:11,199 --> 00:08:14,740
problems but as we start moving forward

192
00:08:14,740 --> 00:08:16,120
are starting to get more layers on top

193
00:08:16,120 --> 00:08:18,490
of that you know we've got some of the

194
00:08:18,490 --> 00:08:21,930
html5 stuff we've got flash and flex

195
00:08:21,930 --> 00:08:26,080
which uses EMF for a lot of its traffic

196
00:08:26,080 --> 00:08:29,339
there's a lot more JSON traffic going on

197
00:08:29,339 --> 00:08:32,260
the rest based stuff so there's all

198
00:08:32,260 --> 00:08:34,979
kinds of stuff sitting on top of our

199
00:08:34,979 --> 00:08:37,539
HTTP stack all right on what we've seen

200
00:08:37,539 --> 00:08:40,208
all the HTTP traffic is no longer simple

201
00:08:40,208 --> 00:08:42,370
gets in posts there's a lot more data

202
00:08:42,370 --> 00:08:46,980
now and structured in different ways so

203
00:08:47,190 --> 00:08:50,560
you know we as things move forward we're

204
00:08:50,560 --> 00:08:52,800
going to continue having URLs and

205
00:08:52,800 --> 00:08:55,839
standard URL based inputs and form

206
00:08:55,839 --> 00:08:57,670
inputs but we're going to start getting

207
00:08:57,670 --> 00:08:59,350
a lot more of this execution in the

208
00:08:59,350 --> 00:09:03,180
browser or execution by other

209
00:09:03,180 --> 00:09:04,990
applications that are going to be

210
00:09:04,990 --> 00:09:06,220
sending their traffic over the web

211
00:09:06,220 --> 00:09:08,199
mobile apps are a great example of that

212
00:09:08,199 --> 00:09:10,569
we're seeing the ton of that and most

213
00:09:10,569 --> 00:09:11,350
mobile apps

214
00:09:11,350 --> 00:09:14,170
using like JSON for their traffic that

215
00:09:14,170 --> 00:09:18,700
tends to be what I'm saying the with

216
00:09:18,700 --> 00:09:19,960
these new applications they're going to

217
00:09:19,960 --> 00:09:22,620
be exposed to the same kind of problems

218
00:09:22,620 --> 00:09:25,330
sequel injection certainly these

219
00:09:25,330 --> 00:09:26,860
backends are going to be vulnerable and

220
00:09:26,860 --> 00:09:28,210
this is what we really want to be

221
00:09:28,210 --> 00:09:29,440
talking about there's going to be also

222
00:09:29,440 --> 00:09:31,090
you know cross-site scripting is still

223
00:09:31,090 --> 00:09:33,790
going to really be an issue and it's

224
00:09:33,790 --> 00:09:35,680
interesting because now you're dealing

225
00:09:35,680 --> 00:09:39,880
with an application that is more dynamic

226
00:09:39,880 --> 00:09:41,950
in the browser and it's executing more

227
00:09:41,950 --> 00:09:44,290
stuff and and certainly it's going to

228
00:09:44,290 --> 00:09:46,720
get interesting with html5 and the local

229
00:09:46,720 --> 00:09:50,320
storage it's going to be interesting to

230
00:09:50,320 --> 00:09:51,910
see how we're going to be able to

231
00:09:51,910 --> 00:09:53,860
exploit that as we start digging into

232
00:09:53,860 --> 00:09:57,820
that you know we're seeing new flaws

233
00:09:57,820 --> 00:09:59,380
that are becoming more and more

234
00:09:59,380 --> 00:10:01,300
effective as we have more xml-based off

235
00:10:01,300 --> 00:10:03,760
things like XPath and of course we

236
00:10:03,760 --> 00:10:06,730
continue to be like ldap and those sort

237
00:10:06,730 --> 00:10:12,310
of problems these things are changing

238
00:10:12,310 --> 00:10:14,170
and it's been interesting because you

239
00:10:14,170 --> 00:10:16,450
would hope that the security community

240
00:10:16,450 --> 00:10:18,730
or you know the people that are in the

241
00:10:18,730 --> 00:10:20,890
know would have a handle on this stuff

242
00:10:20,890 --> 00:10:23,370
but you can even look at the OWASP top

243
00:10:23,370 --> 00:10:26,980
10 and how its evolved over the years to

244
00:10:26,980 --> 00:10:28,720
understand that we still don't

245
00:10:28,720 --> 00:10:30,820
understand us in that are focused on web

246
00:10:30,820 --> 00:10:32,590
application security we still have a

247
00:10:32,590 --> 00:10:34,210
hard time really deciding what's

248
00:10:34,210 --> 00:10:36,850
important and you kind of see that as

249
00:10:36,850 --> 00:10:38,590
you know even owasp has had to change

250
00:10:38,590 --> 00:10:40,900
over the years and and sort things out

251
00:10:40,900 --> 00:10:45,210
to what's important what do we focus on

252
00:10:45,210 --> 00:10:47,350
it's kind of like you have to focus on

253
00:10:47,350 --> 00:10:51,610
everything in a sense and largely this

254
00:10:51,610 --> 00:10:54,330
is because these new applications are

255
00:10:54,330 --> 00:10:56,620
changing the structure of how we do

256
00:10:56,620 --> 00:10:59,050
things you know instead of going you

257
00:10:59,050 --> 00:11:00,460
know we used to have a web browser that

258
00:11:00,460 --> 00:11:03,580
would go to a web server it would do a

259
00:11:03,580 --> 00:11:05,110
whole bunch of parsing and then it would

260
00:11:05,110 --> 00:11:07,840
go and talk to application services and

261
00:11:07,840 --> 00:11:10,510
databases behind the scenes some of

262
00:11:10,510 --> 00:11:13,180
these newer rich clients all right some

263
00:11:13,180 --> 00:11:20,130
of the the soap based stuff or the

264
00:11:20,130 --> 00:11:22,750
mobile apps they're really sending their

265
00:11:22,750 --> 00:11:23,950
data almost

266
00:11:23,950 --> 00:11:26,620
more directly to the the real

267
00:11:26,620 --> 00:11:28,180
application servers and getting closer

268
00:11:28,180 --> 00:11:30,850
to the databases because they're just

269
00:11:30,850 --> 00:11:32,440
kind of using these api's that are

270
00:11:32,440 --> 00:11:34,210
developed and they may still hit the web

271
00:11:34,210 --> 00:11:36,640
server but it's a very thin layer on the

272
00:11:36,640 --> 00:11:38,230
web server so they get more direct

273
00:11:38,230 --> 00:11:41,470
access to the core resources and and

274
00:11:41,470 --> 00:11:44,700
that's where it gets kind of scary so

275
00:11:44,700 --> 00:11:46,990
instead of having this nice structured

276
00:11:46,990 --> 00:11:49,420
format things are getting more dynamic

277
00:11:49,420 --> 00:11:51,730
the interfaces are different people are

278
00:11:51,730 --> 00:11:54,400
defining their own interfaces they're

279
00:11:54,400 --> 00:11:56,020
not maybe using JSON they've built their

280
00:11:56,020 --> 00:12:00,160
own rest based format because of all of

281
00:12:00,160 --> 00:12:03,370
this it really becomes hard to attack

282
00:12:03,370 --> 00:12:07,330
these things with tools and you know

283
00:12:07,330 --> 00:12:09,520
these these formats are fairly obvious

284
00:12:09,520 --> 00:12:11,350
skated to the tools so I'm not going to

285
00:12:11,350 --> 00:12:12,760
go through is show you what I mean by

286
00:12:12,760 --> 00:12:15,070
this and then and then just hopefully

287
00:12:15,070 --> 00:12:17,050
give you an understanding of why none of

288
00:12:17,050 --> 00:12:19,600
the tools out there are really helping

289
00:12:19,600 --> 00:12:21,400
you especially the commercial tools and

290
00:12:21,400 --> 00:12:24,400
that includes our own this is just a

291
00:12:24,400 --> 00:12:25,510
problem that we're having a hard time

292
00:12:25,510 --> 00:12:28,090
solving you know with our future version

293
00:12:28,090 --> 00:12:29,110
were you know and I'll talk about that

294
00:12:29,110 --> 00:12:31,000
briefly we are starting to solve some of

295
00:12:31,000 --> 00:12:35,440
this stuff but it's hard problem so

296
00:12:35,440 --> 00:12:37,480
here's what it looks like when you're

297
00:12:37,480 --> 00:12:39,220
dealing with a flash application I'm

298
00:12:39,220 --> 00:12:41,650
gonna talk about amf here for a sec when

299
00:12:41,650 --> 00:12:43,120
you're dealing with a flash app all

300
00:12:43,120 --> 00:12:44,590
right it's got a little Swift file you

301
00:12:44,590 --> 00:12:46,060
guys probably seen that sort of thing a

302
00:12:46,060 --> 00:12:48,160
little embedded in the browser is going

303
00:12:48,160 --> 00:12:49,930
to be an object call and it's going to

304
00:12:49,930 --> 00:12:52,630
load up a flash app the flash app is

305
00:12:52,630 --> 00:12:54,700
then when it wants to talk to a server

306
00:12:54,700 --> 00:12:57,340
it usually uses amf which is Adobe's

307
00:12:57,340 --> 00:13:00,730
messaging format and so you load it up

308
00:13:00,730 --> 00:13:01,990
and what you're going to see behind the

309
00:13:01,990 --> 00:13:03,790
scenes if you were to capture this

310
00:13:03,790 --> 00:13:05,920
traffic is it's going to be sending this

311
00:13:05,920 --> 00:13:08,170
garbage down below it's going to be

312
00:13:08,170 --> 00:13:13,240
sending a PO HTTP request and it's going

313
00:13:13,240 --> 00:13:14,770
to be sending a post and in that post

314
00:13:14,770 --> 00:13:17,140
base instead of name equal value pairs

315
00:13:17,140 --> 00:13:19,410
it's going to be sending this data block

316
00:13:19,410 --> 00:13:21,970
right so you can see the content type is

317
00:13:21,970 --> 00:13:25,180
application EMF and it's going to have

318
00:13:25,180 --> 00:13:28,330
this binary data I can't just directly

319
00:13:28,330 --> 00:13:30,310
modify that binary data because it's

320
00:13:30,310 --> 00:13:31,840
going to mess up the check sums and it's

321
00:13:31,840 --> 00:13:34,990
just not going to work so when you look

322
00:13:34,990 --> 00:13:36,800
at that traffic

323
00:13:36,800 --> 00:13:38,120
or you know and the scanner looks at

324
00:13:38,120 --> 00:13:40,279
this traffic or a web app firewall looks

325
00:13:40,279 --> 00:13:42,110
of this traffic has no idea what to do

326
00:13:42,110 --> 00:13:43,100
with it it's just going to send it

327
00:13:43,100 --> 00:13:46,040
through but there are ways to decompile

328
00:13:46,040 --> 00:13:49,100
this stuff EMF is a well-defined format

329
00:13:49,100 --> 00:13:51,440
and there's a lot of libraries out there

330
00:13:51,440 --> 00:13:53,450
to decode it so what I'm going to do

331
00:13:53,450 --> 00:13:54,800
here is show you this is a little video

332
00:13:54,800 --> 00:13:57,890
of me doing this attack where this is

333
00:13:57,890 --> 00:14:00,230
actually in that browser window it looks

334
00:14:00,230 --> 00:14:02,180
like a regular web form but it's not as

335
00:14:02,180 --> 00:14:04,459
actually a little amf applet and I'm

336
00:14:04,459 --> 00:14:06,920
submitting my credentials and it's not

337
00:14:06,920 --> 00:14:08,660
going to let me in all right when I did

338
00:14:08,660 --> 00:14:11,089
when I did a good log in it's a

339
00:14:11,089 --> 00:14:13,730
successful when I failed it it told me I

340
00:14:13,730 --> 00:14:17,029
failed so I'm actually going to use Bert

341
00:14:17,029 --> 00:14:20,510
proxy here and what we can see is that

342
00:14:20,510 --> 00:14:23,450
that traffic my phone up point here we

343
00:14:23,450 --> 00:14:27,440
go there are tools that help you decode

344
00:14:27,440 --> 00:14:30,860
this stuff is my point oh there we go ok

345
00:14:30,860 --> 00:14:33,470
so with with burp i can actually decode

346
00:14:33,470 --> 00:14:34,779
the data nodes and i'm not sure why this

347
00:14:34,779 --> 00:14:37,790
video is not playing properly let me uh

348
00:14:37,790 --> 00:14:43,870
let me try this way

349
00:14:48,860 --> 00:14:51,860
yeah there's the junk data and sober

350
00:14:51,860 --> 00:14:53,870
proxy has the ability to let you decode

351
00:14:53,870 --> 00:14:57,620
this this the data node so it actually

352
00:14:57,620 --> 00:15:00,050
breaks it down into its object and so

353
00:15:00,050 --> 00:15:01,250
you can kind of navigate this thing and

354
00:15:01,250 --> 00:15:02,450
you can see the data nodes here we got

355
00:15:02,450 --> 00:15:08,240
admin and the password junk and what's

356
00:15:08,240 --> 00:15:09,650
great with burp does it allow you to

357
00:15:09,650 --> 00:15:11,300
actually take and see the response right

358
00:15:11,300 --> 00:15:13,520
says that I did I failed to login and

359
00:15:13,520 --> 00:15:15,650
then I could actually send this over to

360
00:15:15,650 --> 00:15:18,620
repeater and and then expand it out

361
00:15:18,620 --> 00:15:21,500
there and modify the data notes all

362
00:15:21,500 --> 00:15:22,550
right so I'm going to actually modify

363
00:15:22,550 --> 00:15:26,000
the the password of junk and and put in

364
00:15:26,000 --> 00:15:29,710
a little a sequel injection attack okay

365
00:15:29,710 --> 00:15:32,240
normal sequel injection stuff you know a

366
00:15:32,240 --> 00:15:34,190
simple or one equals one type of attack

367
00:15:34,190 --> 00:15:38,030
and it's going to rebuild a an amf

368
00:15:38,030 --> 00:15:39,710
packet that's going to go out send it

369
00:15:39,710 --> 00:15:41,240
and actually now you can see that we got

370
00:15:41,240 --> 00:15:43,610
ourselves logged in all right so this is

371
00:15:43,610 --> 00:15:46,100
all still very attackable but people

372
00:15:46,100 --> 00:15:47,750
aren't doing it most of the time because

373
00:15:47,750 --> 00:15:49,520
it's not something that you're that

374
00:15:49,520 --> 00:15:52,730
you're used to dealing with so you know

375
00:15:52,730 --> 00:15:55,610
on this end the the web scanners and you

376
00:15:55,610 --> 00:15:57,350
know various tools out there don't make

377
00:15:57,350 --> 00:15:59,780
this particularly easy all right you

378
00:15:59,780 --> 00:16:02,470
have to really know and even burps amf

379
00:16:02,470 --> 00:16:05,140
encoder and decoder doesn't always work

380
00:16:05,140 --> 00:16:07,070
it's a little flaky with some of the

381
00:16:07,070 --> 00:16:15,380
versions of a MF so that's one format

382
00:16:15,380 --> 00:16:17,690
JSON is another JSON has a couple

383
00:16:17,690 --> 00:16:20,570
different ways it can be done json is a

384
00:16:20,570 --> 00:16:25,490
what we call a serialized array and so

385
00:16:25,490 --> 00:16:27,380
it can actually be very nested you can

386
00:16:27,380 --> 00:16:29,630
have things you know basically lists

387
00:16:29,630 --> 00:16:31,580
within lists within list and it can all

388
00:16:31,580 --> 00:16:33,320
be structured that way but it's a great

389
00:16:33,320 --> 00:16:35,810
data format it's very easy to parse and

390
00:16:35,810 --> 00:16:39,020
easy to generate usually what we see

391
00:16:39,020 --> 00:16:40,910
behind the scenes is I kind of spread it

392
00:16:40,910 --> 00:16:42,290
out so you kind of see all the different

393
00:16:42,290 --> 00:16:44,630
values there normally it's going to be

394
00:16:44,630 --> 00:16:47,350
shown as one line like down below here

395
00:16:47,350 --> 00:16:50,240
but again scanners aren't really

396
00:16:50,240 --> 00:16:51,470
handling this very well what about

397
00:16:51,470 --> 00:16:54,290
firewalls aren't handling this and

398
00:16:54,290 --> 00:16:55,880
here's a little video this video's

399
00:16:55,880 --> 00:16:57,980
aren't playing right so when doing a

400
00:16:57,980 --> 00:16:58,420
little more

401
00:16:58,420 --> 00:17:05,470
rectly all right no it's not zoomed in

402
00:17:05,470 --> 00:17:07,449
but hopefully you can see it we got here

403
00:17:07,449 --> 00:17:09,400
is a little simple web app that's using

404
00:17:09,400 --> 00:17:11,439
JSON behind the scenes this is grabbing

405
00:17:11,439 --> 00:17:13,900
some news but then we also have a little

406
00:17:13,900 --> 00:17:15,069
stock feature so it's going to do a

407
00:17:15,069 --> 00:17:17,890
stock ticker look up and we're going to

408
00:17:17,890 --> 00:17:19,240
see behind the scenes is some JSON

409
00:17:19,240 --> 00:17:21,939
traffic okay so right here it's a very

410
00:17:21,939 --> 00:17:23,949
simple one and this one it's very very

411
00:17:23,949 --> 00:17:27,819
simple it's it's got index index is the

412
00:17:27,819 --> 00:17:29,410
parameter name and the value of one

413
00:17:29,410 --> 00:17:32,290
right it's a very simple little bit of

414
00:17:32,290 --> 00:17:38,020
JSON values and when you send that it

415
00:17:38,020 --> 00:17:39,700
the back end is going to be parsing it

416
00:17:39,700 --> 00:17:42,760
and it's going to look up a record okay

417
00:17:42,760 --> 00:17:45,250
very simple I could change that now I'm

418
00:17:45,250 --> 00:17:46,750
going to go and do it the same kind of

419
00:17:46,750 --> 00:17:48,309
sequel injection attack i'm gonna send

420
00:17:48,309 --> 00:17:51,669
it over to repeater i'm still using burp

421
00:17:51,669 --> 00:17:55,510
here and i'm going to change it i'm

422
00:17:55,510 --> 00:17:56,740
gonna toss in a little sequel injection

423
00:17:56,740 --> 00:18:04,679
attack yeah there we go or one equals 10

424
00:18:04,679 --> 00:18:06,850
okay first I put a little single quote

425
00:18:06,850 --> 00:18:09,429
and I get a sequel error back alright so

426
00:18:09,429 --> 00:18:12,460
I'm just kind of testing it out so I

427
00:18:12,460 --> 00:18:14,740
know that it's connecting to a database

428
00:18:14,740 --> 00:18:16,900
and making a request based on that value

429
00:18:16,900 --> 00:18:18,760
alright so the application is going to

430
00:18:18,760 --> 00:18:21,640
parse that and deal with it then I'll go

431
00:18:21,640 --> 00:18:24,010
and put a more extensive sequel

432
00:18:24,010 --> 00:18:28,919
injection attack in there here we go

433
00:18:31,890 --> 00:18:36,390
there we go there's my or 1 equals 1 oh

434
00:18:37,290 --> 00:18:40,450
here we go that's a lot better all right

435
00:18:40,450 --> 00:18:41,860
and now it's going to end up showing me

436
00:18:41,860 --> 00:18:43,150
all the records in the date in that

437
00:18:43,150 --> 00:18:46,870
table all right so it just bypass you

438
00:18:46,870 --> 00:18:48,160
know doing one record at a time it's

439
00:18:48,160 --> 00:18:50,050
going to show me a whole list and a lot

440
00:18:50,050 --> 00:18:51,700
of JSON backends will do that this

441
00:18:51,700 --> 00:18:53,050
pretty standard thing that they'll do if

442
00:18:53,050 --> 00:18:55,330
they get multiple records they just use

443
00:18:55,330 --> 00:18:57,340
their existing structure and so I can

444
00:18:57,340 --> 00:18:59,290
get in there I could do cross-site

445
00:18:59,290 --> 00:19:00,940
scripting the same kind of way because

446
00:19:00,940 --> 00:19:02,860
this is going to take that JSON trap

447
00:19:02,860 --> 00:19:05,350
that the response from that JSON request

448
00:19:05,350 --> 00:19:09,880
and generate content for the web page I

449
00:19:09,880 --> 00:19:11,560
could still do I can even do cross-site

450
00:19:11,560 --> 00:19:18,520
scripting jump ahead a little bit yeah

451
00:19:18,520 --> 00:19:19,990
it's going to go through it oh yeah

452
00:19:19,990 --> 00:19:21,460
there i put the cross-site scripting up

453
00:19:21,460 --> 00:19:25,090
on the top you know and i just did that

454
00:19:25,090 --> 00:19:27,040
on the URL again it's going to be

455
00:19:27,040 --> 00:19:28,210
sending that traffic it's going to be

456
00:19:28,210 --> 00:19:30,970
just as vulnerable same type of attacks

457
00:19:30,970 --> 00:19:33,130
but the format is different the way you

458
00:19:33,130 --> 00:19:35,290
have to where you have to insert the

459
00:19:35,290 --> 00:19:38,170
payload keeps changing with these

460
00:19:38,170 --> 00:19:40,890
different formats

461
00:19:48,180 --> 00:19:51,280
json has an XML format as well looks

462
00:19:51,280 --> 00:19:54,850
like this same basic thing same basic

463
00:19:54,850 --> 00:19:58,480
structure just in an XML format and it's

464
00:19:58,480 --> 00:20:00,490
the just as attackable same kind of

465
00:20:00,490 --> 00:20:05,560
thing so with with wiz dolls or soap has

466
00:20:05,560 --> 00:20:07,060
kind of a structure that gives you a

467
00:20:07,060 --> 00:20:09,790
definition of the service behind the

468
00:20:09,790 --> 00:20:11,860
scenes and so soap is going to give you

469
00:20:11,860 --> 00:20:14,290
this structure and based on this I can

470
00:20:14,290 --> 00:20:16,060
actually take this data and put it into

471
00:20:16,060 --> 00:20:18,760
a tool so I can generate soap soap

472
00:20:18,760 --> 00:20:21,850
attacks soap is kind of structured and

473
00:20:21,850 --> 00:20:24,490
it's a very nice well-defined format and

474
00:20:24,490 --> 00:20:27,250
there's a basic envelope and then it has

475
00:20:27,250 --> 00:20:28,150
the same thing you're going to be

476
00:20:28,150 --> 00:20:30,400
calling a function and what you see here

477
00:20:30,400 --> 00:20:32,860
is ID and the value of one right it's an

478
00:20:32,860 --> 00:20:34,510
XML format so it's going to have the

479
00:20:34,510 --> 00:20:36,880
value and I'm running to get product

480
00:20:36,880 --> 00:20:41,260
info method in this case right so I can

481
00:20:41,260 --> 00:20:43,480
attack this the same way all right is

482
00:20:43,480 --> 00:20:45,850
these applications this one's actually

483
00:20:45,850 --> 00:20:49,690
plays okay here all right so this is a

484
00:20:49,690 --> 00:20:52,330
tool called WS scanner from blue in fee

485
00:20:52,330 --> 00:20:54,640
great little utility for doing this but

486
00:20:54,640 --> 00:20:58,900
it again allows me to take this and see

487
00:20:58,900 --> 00:21:00,310
my methods it's going to load up the

488
00:21:00,310 --> 00:21:02,500
wisdom for me and and parse it out and

489
00:21:02,500 --> 00:21:05,110
show me my methods and allow me to more

490
00:21:05,110 --> 00:21:08,830
easily build up an attack but I can do

491
00:21:08,830 --> 00:21:10,120
these attacks against these soap

492
00:21:10,120 --> 00:21:15,100
interfaces so I'm going to do here yeah

493
00:21:15,100 --> 00:21:17,560
there's the routine and right now it's

494
00:21:17,560 --> 00:21:19,420
going to be i'm going to and tell don't

495
00:21:19,420 --> 00:21:23,050
want to create an attack here and by

496
00:21:23,050 --> 00:21:25,630
default the way this does it is it it

497
00:21:25,630 --> 00:21:27,310
it's going to go into its listening mode

498
00:21:27,310 --> 00:21:31,570
and send the request and you should see

499
00:21:31,570 --> 00:21:32,710
it show up here I'll show what the

500
00:21:32,710 --> 00:21:36,700
functions are ya get product info write

501
00:21:36,700 --> 00:21:40,550
a whole bunch of stuff here no

502
00:21:40,550 --> 00:21:42,380
you see if I can play this video a

503
00:21:42,380 --> 00:21:44,740
little better

504
00:21:54,770 --> 00:21:56,750
yeah so first let me get the object and

505
00:21:56,750 --> 00:21:58,370
it's going to start off by giving me a

506
00:21:58,370 --> 00:21:59,690
value of a star so I'm going to put a

507
00:21:59,690 --> 00:22:02,840
one in there and send it and what I get

508
00:22:02,840 --> 00:22:06,410
back is and here goes the response

509
00:22:06,410 --> 00:22:10,190
scroll down we're going to see is it's

510
00:22:10,190 --> 00:22:12,620
going to give me data about a movie here

511
00:22:12,620 --> 00:22:15,770
or its yeah Toy Story bug's life give me

512
00:22:15,770 --> 00:22:18,170
some some data is the object if I switch

513
00:22:18,170 --> 00:22:23,390
over to the the info what I'm going to

514
00:22:23,390 --> 00:22:25,480
get back in my response is some

515
00:22:25,480 --> 00:22:28,910
information about one of the videos this

516
00:22:28,910 --> 00:22:31,220
is a like back into the back end is a

517
00:22:31,220 --> 00:22:33,560
video website alright that's going to

518
00:22:33,560 --> 00:22:35,540
finding an email that's my first my

519
00:22:35,540 --> 00:22:37,520
first record i'm going there and change

520
00:22:37,520 --> 00:22:41,210
it and get different records but now I

521
00:22:41,210 --> 00:22:42,920
came off so I can also you know things

522
00:22:42,920 --> 00:22:45,230
change it to a to send it and skip a

523
00:22:45,230 --> 00:22:47,990
little head we've got bend it like

524
00:22:47,990 --> 00:22:50,480
beckham is the second record in this in

525
00:22:50,480 --> 00:22:54,380
this database I can toss into or one

526
00:22:54,380 --> 00:22:57,080
equals one type of attack right so if

527
00:22:57,080 --> 00:22:58,880
you can see there on the top section

528
00:22:58,880 --> 00:23:03,080
says 2 or 1 equals 1 alright so i can

529
00:23:03,080 --> 00:23:04,760
actually see i'm putting in my attack

530
00:23:04,760 --> 00:23:07,250
payload same kind of thing as long as

531
00:23:07,250 --> 00:23:08,660
the back end doesn't validate the data

532
00:23:08,660 --> 00:23:12,620
properly which is usually the case i can

533
00:23:12,620 --> 00:23:13,970
go and do my same attack and what I'm

534
00:23:13,970 --> 00:23:16,460
going to see now is a series of records

535
00:23:16,460 --> 00:23:18,380
alright so it's given me a list of

536
00:23:18,380 --> 00:23:21,710
records so I'm starting to see where I'm

537
00:23:21,710 --> 00:23:23,270
able to inject these attacks see what

538
00:23:23,270 --> 00:23:24,820
the different records are on that table

539
00:23:24,820 --> 00:23:27,920
you know this is you know certainly once

540
00:23:27,920 --> 00:23:30,560
you get these type of locations that are

541
00:23:30,560 --> 00:23:34,070
vulnerable you want to dig in deeper but

542
00:23:34,070 --> 00:23:36,560
this is all a very manual process right

543
00:23:36,560 --> 00:23:38,570
I can do all this you know the stuff

544
00:23:38,570 --> 00:23:43,190
with with with a MF with JSON with soap

545
00:23:43,190 --> 00:23:45,530
all of these same type of attacks are

546
00:23:45,530 --> 00:23:50,780
still coming into play but and people

547
00:23:50,780 --> 00:23:52,070
are getting more creative i mean the

548
00:23:52,070 --> 00:23:55,220
attacks are getting more interesting the

549
00:23:55,220 --> 00:23:57,440
war i can inject these attacks this is

550
00:23:57,440 --> 00:23:58,820
getting interesting I mean it's getting

551
00:23:58,820 --> 00:24:01,970
to be fun stuff you know some of the new

552
00:24:01,970 --> 00:24:03,230
attacks are interesting i'll click

553
00:24:03,230 --> 00:24:06,330
jacking where its kind

554
00:24:06,330 --> 00:24:08,700
a play on some of the cross-site

555
00:24:08,700 --> 00:24:10,260
scripting attacks where I'm going to

556
00:24:10,260 --> 00:24:12,799
inject stuff because I want to make you

557
00:24:12,799 --> 00:24:15,360
perform a certain function I might need

558
00:24:15,360 --> 00:24:17,970
you to click on something and to do that

559
00:24:17,970 --> 00:24:19,860
I need to kind of trick you all right so

560
00:24:19,860 --> 00:24:21,659
this is a very simple example of a

561
00:24:21,659 --> 00:24:24,090
clickjacking attack as we start getting

562
00:24:24,090 --> 00:24:25,500
into these new formats what I'm seeing

563
00:24:25,500 --> 00:24:27,659
here is you know I want there's this

564
00:24:27,659 --> 00:24:29,070
dialogue that's going to show up on the

565
00:24:29,070 --> 00:24:30,809
screen do you want to send email to all

566
00:24:30,809 --> 00:24:33,120
users all right and normally going to

567
00:24:33,120 --> 00:24:35,909
say no so what I may do is actually

568
00:24:35,909 --> 00:24:39,570
create a floating div or something is

569
00:24:39,570 --> 00:24:40,559
going to be on the page that's going to

570
00:24:40,559 --> 00:24:43,260
sit on top and so i'll create it where

571
00:24:43,260 --> 00:24:44,669
it'll have a different question all

572
00:24:44,669 --> 00:24:46,620
right you want a free ipad and i'll

573
00:24:46,620 --> 00:24:47,880
leave that i'll leave one of the spaces

574
00:24:47,880 --> 00:24:51,419
blank in there and that's going to be

575
00:24:51,419 --> 00:24:53,010
what I'm you're going to actually end up

576
00:24:53,010 --> 00:24:55,470
seeing right so when I merge them

577
00:24:55,470 --> 00:24:57,059
together now of course they're kind of

578
00:24:57,059 --> 00:24:58,980
superimposed you're not going to

579
00:24:58,980 --> 00:25:00,419
actually see the send email to all users

580
00:25:00,419 --> 00:25:02,159
all you're going to see is do you want a

581
00:25:02,159 --> 00:25:04,710
free iPad all right and you click on yes

582
00:25:04,710 --> 00:25:06,029
and now you've just performed the

583
00:25:06,029 --> 00:25:08,100
function that I wanted you to all right

584
00:25:08,100 --> 00:25:09,389
so things are getting interesting people

585
00:25:09,389 --> 00:25:11,100
are attacking these back ends

586
00:25:11,100 --> 00:25:13,350
differently even the attacks on the

587
00:25:13,350 --> 00:25:15,179
browsers are getting are getting more

588
00:25:15,179 --> 00:25:18,870
interesting and more creative mobile

589
00:25:18,870 --> 00:25:22,320
apps use a lot of these formats right

590
00:25:22,320 --> 00:25:24,269
the mobile apps these days on the smart

591
00:25:24,269 --> 00:25:29,100
phones are amazing little web apps or

592
00:25:29,100 --> 00:25:31,769
they're not exactly web apps in the

593
00:25:31,769 --> 00:25:32,789
traditional sense they're not always

594
00:25:32,789 --> 00:25:35,639
browser driven but they are going back

595
00:25:35,639 --> 00:25:39,269
to a server and getting data all right

596
00:25:39,269 --> 00:25:41,549
you know the google phone everything is

597
00:25:41,549 --> 00:25:43,169
constantly hitting the network and

598
00:25:43,169 --> 00:25:45,299
grabbing new updates to your contacts

599
00:25:45,299 --> 00:25:47,970
and all kinds of stuff to do that it's

600
00:25:47,970 --> 00:25:49,710
using these different formats using

601
00:25:49,710 --> 00:25:52,019
things like JSON and sending out its

602
00:25:52,019 --> 00:25:54,600
request to the backend and getting data

603
00:25:54,600 --> 00:25:57,539
back all right there you know MJ Keith

604
00:25:57,539 --> 00:25:59,429
sitting over here last year he did the

605
00:25:59,429 --> 00:26:02,279
pone on the go talk about hacking bump

606
00:26:02,279 --> 00:26:07,220
and it bump was using JSON traffic right

607
00:26:10,660 --> 00:26:13,309
ok

608
00:26:13,309 --> 00:26:15,539
right and the short of what that what he

609
00:26:15,539 --> 00:26:17,399
did in this and this is one of the

610
00:26:17,399 --> 00:26:18,720
things that inspired me to start digging

611
00:26:18,720 --> 00:26:23,070
into a lot of this was that basically if

612
00:26:23,070 --> 00:26:24,960
you're familiar with bump it's a little

613
00:26:24,960 --> 00:26:26,789
application where you can bump two

614
00:26:26,789 --> 00:26:29,100
phones together and it's going to send

615
00:26:29,100 --> 00:26:31,049
each other the contacts the contact

616
00:26:31,049 --> 00:26:32,820
information right so instead of trading

617
00:26:32,820 --> 00:26:35,010
business cards you bump these things in

618
00:26:35,010 --> 00:26:38,809
it it transfers the contact information

619
00:26:38,809 --> 00:26:43,080
well the way it does that is by matching

620
00:26:43,080 --> 00:26:45,330
you up based on your location and timing

621
00:26:45,330 --> 00:26:47,519
all right when did you bump and where

622
00:26:47,519 --> 00:26:49,889
are you right and so what it doesn't

623
00:26:49,889 --> 00:26:51,510
actually send phone to phone actually

624
00:26:51,510 --> 00:26:54,029
sends up to a server okay if I get this

625
00:26:54,029 --> 00:26:55,440
right or if I get this wrong correct me

626
00:26:55,440 --> 00:26:57,929
but it sends it up to the server so

627
00:26:57,929 --> 00:27:00,659
what's going to happen is the the bump

628
00:27:00,659 --> 00:27:03,380
back end is going to get to requests and

629
00:27:03,380 --> 00:27:05,880
two requests come in at the same time

630
00:27:05,880 --> 00:27:08,970
and based on gps coordinates and time

631
00:27:08,970 --> 00:27:10,679
it's going to match them up and then

632
00:27:10,679 --> 00:27:11,970
it's going to send them both you know

633
00:27:11,970 --> 00:27:16,830
each other's information and and this

634
00:27:16,830 --> 00:27:19,080
becomes really interesting because and

635
00:27:19,080 --> 00:27:22,130
kind of fun because you could basically

636
00:27:22,130 --> 00:27:24,240
what i think what you had done actually

637
00:27:24,240 --> 00:27:25,620
kind of wrote my own i wrote a little

638
00:27:25,620 --> 00:27:28,500
perl script that did this but I just SAT

639
00:27:28,500 --> 00:27:30,149
there what he found is that would he had

640
00:27:30,149 --> 00:27:32,130
to come up with is that when it figures

641
00:27:32,130 --> 00:27:33,779
out the GPS coordinates it's actually

642
00:27:33,779 --> 00:27:35,909
asking the phone all right so the phone

643
00:27:35,909 --> 00:27:37,980
sending up its GPS coordinates but it's

644
00:27:37,980 --> 00:27:40,919
also sending up its accuracy reading

645
00:27:40,919 --> 00:27:43,500
right and GPS coordinates are you know

646
00:27:43,500 --> 00:27:45,690
usually accurate to three meters or

647
00:27:45,690 --> 00:27:50,250
whatever it's going to be but it wasn't

648
00:27:50,250 --> 00:27:53,850
setting real boundary conditions on how

649
00:27:53,850 --> 00:27:56,070
accurate that was all right so the phone

650
00:27:56,070 --> 00:27:58,139
would decide so with my little perl

651
00:27:58,139 --> 00:27:59,909
script i wrote i was able to set it up i

652
00:27:59,909 --> 00:28:01,549
actually put it over the Moscone and

653
00:28:01,549 --> 00:28:04,830
made it accurate to within a mile all

654
00:28:04,830 --> 00:28:05,700
right so I kind of took the whole

655
00:28:05,700 --> 00:28:09,000
moscone center right and just have this

656
00:28:09,000 --> 00:28:10,740
thing running in a script and I would

657
00:28:10,740 --> 00:28:12,059
see people coming up and i would get

658
00:28:12,059 --> 00:28:14,190
pairs I'd get matched up all right cuz

659
00:28:14,190 --> 00:28:16,019
mines just fast and it's going fast and

660
00:28:16,019 --> 00:28:19,289
you can potentially beat both of them

661
00:28:19,289 --> 00:28:21,389
and what I tried to figure out and I

662
00:28:21,389 --> 00:28:23,340
have difficulty with but what you can

663
00:28:23,340 --> 00:28:24,590
kind of do

664
00:28:24,590 --> 00:28:28,789
is to remember how my developer did this

665
00:28:28,789 --> 00:28:31,250
but he the way he structured it was it

666
00:28:31,250 --> 00:28:35,720
would it would catch both of them right

667
00:28:35,720 --> 00:28:37,850
so I say you know Paul's here and

668
00:28:37,850 --> 00:28:41,150
David's here they bump each other what

669
00:28:41,150 --> 00:28:43,070
happened is our script would catch both

670
00:28:43,070 --> 00:28:45,650
of them right and say okay I've got

671
00:28:45,650 --> 00:28:47,450
these two I would say yes I want that I

672
00:28:47,450 --> 00:28:50,299
was the person I bumped and and I

673
00:28:50,299 --> 00:28:51,860
wouldn't and they would get back kind of

674
00:28:51,860 --> 00:28:53,990
junk contact information right or I

675
00:28:53,990 --> 00:28:55,610
would just not fully respond and I would

676
00:28:55,610 --> 00:28:58,039
they would fail right so they would bump

677
00:28:58,039 --> 00:28:59,179
again because it was like well that's

678
00:28:59,179 --> 00:29:01,190
not you that's not right all right and

679
00:29:01,190 --> 00:29:03,080
because i had like unknown for all my

680
00:29:03,080 --> 00:29:06,260
fields and so they bump again and I had

681
00:29:06,260 --> 00:29:08,960
both of their information and I could

682
00:29:08,960 --> 00:29:10,909
actually now send them back each other

683
00:29:10,909 --> 00:29:13,700
stuff right so now I'm sending them

684
00:29:13,700 --> 00:29:15,260
they're legitimate data but I've again

685
00:29:15,260 --> 00:29:16,970
intercepted both of these requests and

686
00:29:16,970 --> 00:29:20,299
now I can alter data to and I and he

687
00:29:20,299 --> 00:29:21,440
goes in deeper I'm not going to go into

688
00:29:21,440 --> 00:29:23,149
this part of it but he goes in to

689
00:29:23,149 --> 00:29:26,450
exploit browser bugs by sending a

690
00:29:26,450 --> 00:29:28,580
malicious link and then they click on

691
00:29:28,580 --> 00:29:30,350
the link in that contact information and

692
00:29:30,350 --> 00:29:33,140
bad things happen right but these are

693
00:29:33,140 --> 00:29:34,340
getting interesting but you need to

694
00:29:34,340 --> 00:29:35,929
understand how some of these back ends

695
00:29:35,929 --> 00:29:38,450
our packaging up their data so that you

696
00:29:38,450 --> 00:29:43,669
can attack them you know the commercial

697
00:29:43,669 --> 00:29:46,130
tools out there not really doing a

698
00:29:46,130 --> 00:29:50,539
superb job of this the you know really I

699
00:29:50,539 --> 00:29:52,010
don't haven't seen anybody else we've

700
00:29:52,010 --> 00:29:53,480
got our product coming out in February

701
00:29:53,480 --> 00:29:55,279
that finally does this we're able to

702
00:29:55,279 --> 00:30:01,460
handle amf JSON so you know we can do

703
00:30:01,460 --> 00:30:03,350
some of the rest based stuff and we even

704
00:30:03,350 --> 00:30:04,549
kind of have a structure we can build

705
00:30:04,549 --> 00:30:07,580
your own parser but that's getting you

706
00:30:07,580 --> 00:30:09,020
know we're finally breaking out but

707
00:30:09,020 --> 00:30:10,279
there's really nobody else doing this

708
00:30:10,279 --> 00:30:12,529
stuff yet the source code review tools

709
00:30:12,529 --> 00:30:15,159
are still very good at helping with this

710
00:30:15,159 --> 00:30:17,360
because these are still application

711
00:30:17,360 --> 00:30:19,760
problems of course the limitation there

712
00:30:19,760 --> 00:30:22,130
is that they end up having a lot of

713
00:30:22,130 --> 00:30:24,080
false positives to begin with and people

714
00:30:24,080 --> 00:30:27,559
don't always use them the manual pen

715
00:30:27,559 --> 00:30:30,799
testing tools are pretty thin most of

716
00:30:30,799 --> 00:30:33,440
them don't support this stuff you know

717
00:30:33,440 --> 00:30:35,360
daph it with what he's done with Bert

718
00:30:35,360 --> 00:30:37,340
proxy has been great finally adding

719
00:30:37,340 --> 00:30:38,390
support in there

720
00:30:38,390 --> 00:30:41,150
I saw that Charles proxy supports this

721
00:30:41,150 --> 00:30:43,940
WS scanner is very good for the the soap

722
00:30:43,940 --> 00:30:47,090
attacks but it's all very manual all

723
00:30:47,090 --> 00:30:49,220
right it's a it's a massive effort to

724
00:30:49,220 --> 00:30:50,990
audit an application like this it really

725
00:30:50,990 --> 00:30:54,110
takes tons of human time to go through

726
00:30:54,110 --> 00:30:57,260
it thoroughly the defensive tools the

727
00:30:57,260 --> 00:30:59,900
web application firewalls they don't

728
00:30:59,900 --> 00:31:01,490
understand this traffic so they just

729
00:31:01,490 --> 00:31:03,050
send it through all right they don't

730
00:31:03,050 --> 00:31:05,120
know how to even really look in them for

731
00:31:05,120 --> 00:31:07,460
attack payloads so they don't understand

732
00:31:07,460 --> 00:31:09,820
the format so they just let it go

733
00:31:09,820 --> 00:31:12,610
actually had a call with somebody and

734
00:31:12,610 --> 00:31:18,320
they were reviewing our product and very

735
00:31:18,320 --> 00:31:20,360
quickly into the call what I'll do is

736
00:31:20,360 --> 00:31:22,130
I'll ask him to show me their sites and

737
00:31:22,130 --> 00:31:23,720
and we'll kind of talk about how the

738
00:31:23,720 --> 00:31:26,660
tool would would test their site and I

739
00:31:26,660 --> 00:31:29,720
looked at it set up we're not going to

740
00:31:29,720 --> 00:31:31,280
handle this stuff right it's all in a MF

741
00:31:31,280 --> 00:31:32,960
traffic we can't help you right now

742
00:31:32,960 --> 00:31:35,300
maybe talk to us you know februari march

743
00:31:35,300 --> 00:31:37,190
level a version that will help you but

744
00:31:37,190 --> 00:31:39,920
with today's version can't do anything

745
00:31:39,920 --> 00:31:42,320
for you he's like really why not and I

746
00:31:42,320 --> 00:31:43,550
kind of went through it and explained a

747
00:31:43,550 --> 00:31:46,310
lot of this stuff to him and he said

748
00:31:46,310 --> 00:31:47,600
well what about the web app firewalls

749
00:31:47,600 --> 00:31:48,770
actually I mentioned I said the web app

750
00:31:48,770 --> 00:31:49,940
firewalls are going to go handle it

751
00:31:49,940 --> 00:31:52,100
either said well I'm on the phone I've

752
00:31:52,100 --> 00:31:53,900
been I'm actually ready to purchase this

753
00:31:53,900 --> 00:31:57,620
laughs and they told me it would work

754
00:31:57,620 --> 00:32:01,910
fine and I said well it's not okay you

755
00:32:01,910 --> 00:32:02,780
know I don't care what they're telling

756
00:32:02,780 --> 00:32:04,040
you it's not going to protect your

757
00:32:04,040 --> 00:32:06,680
application it they don't have the

758
00:32:06,680 --> 00:32:08,210
ability at this point to parse these

759
00:32:08,210 --> 00:32:11,180
things and to inspect them they're just

760
00:32:11,180 --> 00:32:13,520
going to forward the traffic and he's

761
00:32:13,520 --> 00:32:14,720
like well that's interesting and I

762
00:32:14,720 --> 00:32:17,660
wished him good luck and and and got off

763
00:32:17,660 --> 00:32:21,650
phone with them and he ended up calling

764
00:32:21,650 --> 00:32:23,840
our sales person back up and he got me

765
00:32:23,840 --> 00:32:27,290
on the phone and he said you saved me

766
00:32:27,290 --> 00:32:30,440
like 80 grand because I actually told

767
00:32:30,440 --> 00:32:33,830
the vendor I was told it won't work I

768
00:32:33,830 --> 00:32:36,050
need you to prove that it would all

769
00:32:36,050 --> 00:32:37,070
right and they're like oh no it'll work

770
00:32:37,070 --> 00:32:38,450
it'll work so he said we got to prove it

771
00:32:38,450 --> 00:32:39,650
so they actually brought their appliance

772
00:32:39,650 --> 00:32:42,980
out and and set it up and and he tested

773
00:32:42,980 --> 00:32:45,080
he had known vulnerabilities and he

774
00:32:45,080 --> 00:32:47,900
tested him right and the wife did

775
00:32:47,900 --> 00:32:50,750
nothing for any of them didn't block any

776
00:32:50,750 --> 00:32:52,160
of the attack pelo

777
00:32:52,160 --> 00:32:55,190
did was totally useless and so he's like

778
00:32:55,190 --> 00:32:56,870
well get out of here you know and sent

779
00:32:56,870 --> 00:32:58,430
him away but it's just a part of the

780
00:32:58,430 --> 00:32:59,570
issue is that they're not being honest

781
00:32:59,570 --> 00:33:01,580
about it right and this is that part of

782
00:33:01,580 --> 00:33:04,460
the difficulty in the challenge and I

783
00:33:04,460 --> 00:33:05,870
think probably the sales people didn't

784
00:33:05,870 --> 00:33:07,340
understand either they don't know

785
00:33:07,340 --> 00:33:09,950
there's a lack of awareness to the fact

786
00:33:09,950 --> 00:33:12,710
that all of this new traffic all of

787
00:33:12,710 --> 00:33:15,490
these new formats there's not a lot of

788
00:33:15,490 --> 00:33:17,660
resources to help I mean some of the

789
00:33:17,660 --> 00:33:20,380
books talks like this we're very few

790
00:33:20,380 --> 00:33:24,560
there's not a lot out there and you know

791
00:33:24,560 --> 00:33:27,500
the sdlc helps but it's often ignored

792
00:33:27,500 --> 00:33:30,170
you know if people are developing their

793
00:33:30,170 --> 00:33:32,270
applications in a secure fashion it'll

794
00:33:32,270 --> 00:33:36,710
work it'll help but really what's

795
00:33:36,710 --> 00:33:37,940
happening is people are just building

796
00:33:37,940 --> 00:33:40,280
new stuff very quickly all right

797
00:33:40,280 --> 00:33:41,930
features are going to keep continue to

798
00:33:41,930 --> 00:33:45,170
trump security and you know at some

799
00:33:45,170 --> 00:33:46,580
point we've got to figure this out we've

800
00:33:46,580 --> 00:33:48,770
got to help enforce it you know the

801
00:33:48,770 --> 00:33:51,890
mobile applications you know I they're

802
00:33:51,890 --> 00:33:54,220
easy to build I have my son that was a

803
00:33:54,220 --> 00:33:56,450
sixth grade going into seventh grade and

804
00:33:56,450 --> 00:33:58,430
his summer project this summer was to

805
00:33:58,430 --> 00:34:00,680
build a mobile app and he's like what am

806
00:34:00,680 --> 00:34:01,610
I gonna build on I don't care you just

807
00:34:01,610 --> 00:34:02,780
got built something it has to do

808
00:34:02,780 --> 00:34:05,120
something he made a little game but he

809
00:34:05,120 --> 00:34:07,430
he's a sixth grader going into seventh

810
00:34:07,430 --> 00:34:08,449
grade he was able to build a little

811
00:34:08,449 --> 00:34:13,850
mobile app and it's really easy you know

812
00:34:13,850 --> 00:34:14,900
I had to help him a little bit but

813
00:34:14,900 --> 00:34:17,000
nonetheless you do good job but it's

814
00:34:17,000 --> 00:34:18,260
really easy and people are building

815
00:34:18,260 --> 00:34:20,090
these things you see so many apps and

816
00:34:20,090 --> 00:34:21,860
the ones that are turning around talking

817
00:34:21,860 --> 00:34:23,600
to the back end how many of them have

818
00:34:23,600 --> 00:34:26,030
developers that understand how to

819
00:34:26,030 --> 00:34:29,960
validate inputs either on the app that

820
00:34:29,960 --> 00:34:31,699
sitting on the phone or when they build

821
00:34:31,699 --> 00:34:33,679
their back in to support the thing all

822
00:34:33,679 --> 00:34:36,350
right I did this with was it words with

823
00:34:36,350 --> 00:34:38,270
friends I actually start attacking that

824
00:34:38,270 --> 00:34:41,540
and and it had two calls I had one call

825
00:34:41,540 --> 00:34:44,570
to to check the word and another one to

826
00:34:44,570 --> 00:34:46,130
submit it they had actually broken into

827
00:34:46,130 --> 00:34:48,110
two calls which was really stupid and so

828
00:34:48,110 --> 00:34:50,090
I was able to ignore you know I had a

829
00:34:50,090 --> 00:34:51,560
low proxy running I was able to ignore

830
00:34:51,560 --> 00:34:53,719
the are actually modify it so that it

831
00:34:53,719 --> 00:34:55,699
would tell my local awards with prox

832
00:34:55,699 --> 00:34:57,860
that word words with friends that the

833
00:34:57,860 --> 00:34:59,750
Lord was okay and it would shove it on

834
00:34:59,750 --> 00:35:01,460
its screen and send it as its submitted

835
00:35:01,460 --> 00:35:03,500
word and I was sent a junk and my cousin

836
00:35:03,500 --> 00:35:04,610
was playing with my cousin

837
00:35:04,610 --> 00:35:07,460
and he's like that's not a word it you

838
00:35:07,460 --> 00:35:10,130
do this but you know these back ends

839
00:35:10,130 --> 00:35:11,090
they don't understand how to validate

840
00:35:11,090 --> 00:35:12,650
input they're not thinking about it that

841
00:35:12,650 --> 00:35:16,040
way you know so the tool these new

842
00:35:16,040 --> 00:35:17,300
standards are popping up all over the

843
00:35:17,300 --> 00:35:19,910
place people are building their own rest

844
00:35:19,910 --> 00:35:22,310
based stuff it's getting crazy and the

845
00:35:22,310 --> 00:35:23,510
commercial products are having a very

846
00:35:23,510 --> 00:35:25,610
hard time so I don't have a lot of

847
00:35:25,610 --> 00:35:27,950
things to help you solve this problem I

848
00:35:27,950 --> 00:35:29,720
don't really have ways to point you to

849
00:35:29,720 --> 00:35:34,310
that this trend is going to continue you

850
00:35:34,310 --> 00:35:37,130
know hopefully dast and SAS vendors you

851
00:35:37,130 --> 00:35:38,660
know like ourselves hopefully we're

852
00:35:38,660 --> 00:35:40,190
going to continue to innovate and start

853
00:35:40,190 --> 00:35:41,690
moving into this space and starting to

854
00:35:41,690 --> 00:35:46,190
help and really the vendors you know I

855
00:35:46,190 --> 00:35:48,650
kind of pinpoint the defensive tools but

856
00:35:48,650 --> 00:35:50,540
it's not just them it's also any of the

857
00:35:50,540 --> 00:35:52,490
testing tools we need to be honest with

858
00:35:52,490 --> 00:35:54,680
the users about what we can and cannot

859
00:35:54,680 --> 00:35:58,460
do and maybe that's going to help some

860
00:35:58,460 --> 00:35:59,630
of these users start to understand well

861
00:35:59,630 --> 00:36:00,920
maybe we don't want to implement this

862
00:36:00,920 --> 00:36:02,480
stuff yet because we can't test it for

863
00:36:02,480 --> 00:36:05,720
you know the security issues yet but if

864
00:36:05,720 --> 00:36:06,920
we're going to that we're gonna have to

865
00:36:06,920 --> 00:36:08,360
spend the money for professional

866
00:36:08,360 --> 00:36:11,630
services to help audit these things you

867
00:36:11,630 --> 00:36:12,890
know we've been here before this is

868
00:36:12,890 --> 00:36:15,350
exactly what happened with web app you

869
00:36:15,350 --> 00:36:18,320
know one point o stuff people jumped

870
00:36:18,320 --> 00:36:19,910
into a way before the tools were

871
00:36:19,910 --> 00:36:23,030
available you know we've been here

872
00:36:23,030 --> 00:36:25,760
before and really what I'm just trying

873
00:36:25,760 --> 00:36:28,220
to do is make people more aware of these

874
00:36:28,220 --> 00:36:30,800
issues of the fact that as you start

875
00:36:30,800 --> 00:36:33,050
moving forward with these protocols with

876
00:36:33,050 --> 00:36:35,840
these new standards there's not a lot in

877
00:36:35,840 --> 00:36:37,480
the way of security tools to help you

878
00:36:37,480 --> 00:36:40,400
defend yourself and test these four for

879
00:36:40,400 --> 00:36:42,230
the security issues so you know that's

880
00:36:42,230 --> 00:36:46,240
it now we're open to questions

