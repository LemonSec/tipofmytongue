1
00:00:11,360 --> 00:00:15,239
thank<font color="#CCCCCC"> you all very much how are you guys</font>

2
00:00:13,529 --> 00:00:17,669
doing<font color="#CCCCCC"> good</font>

3
00:00:15,240 --> 00:00:20,400
thank you - Doug<font color="#E5E5E5"> Phil and the rest of</font>

4
00:00:17,669 --> 00:00:21,720
<font color="#E5E5E5">the team for today and all the effort</font>

5
00:00:20,400 --> 00:00:24,000
that<font color="#CCCCCC"> you guys have</font><font color="#E5E5E5"> put into it</font>

6
00:00:21,720 --> 00:00:26,698
<font color="#E5E5E5">especially that good lunch</font><font color="#CCCCCC"> I know that</font>

7
00:00:24,000 --> 00:00:28,800
being<font color="#E5E5E5"> the first session after lunch I'll</font>

8
00:00:26,699 --> 00:00:30,929
probably have some<font color="#E5E5E5"> of you take asleep</font>

9
00:00:28,800 --> 00:00:33,629
<font color="#CCCCCC">take a</font><font color="#E5E5E5"> small nap and I'm okay</font><font color="#CCCCCC"> with that</font>

10
00:00:30,929 --> 00:00:35,760
I will not be offended<font color="#CCCCCC"> I just</font><font color="#E5E5E5"> ask please</font>

11
00:00:33,629 --> 00:00:39,629
keep the snoring to<font color="#CCCCCC"> a minimum so that</font>

12
00:00:35,760 --> 00:00:41,280
your neighbor<font color="#E5E5E5"> can listen okay</font><font color="#CCCCCC"> all right</font>

13
00:00:39,629 --> 00:00:44,160
so as Phil mentioned<font color="#E5E5E5"> my</font><font color="#CCCCCC"> name</font><font color="#E5E5E5"> is Josh</font>

14
00:00:41,280 --> 00:00:47,010
Brower<font color="#CCCCCC"> I've been in</font><font color="#E5E5E5"> IT since my teens</font>

15
00:00:44,160 --> 00:00:49,828
<font color="#E5E5E5">I've been doing InfoSec for the last</font><font color="#CCCCCC"> ten</font>

16
00:00:47,010 --> 00:00:53,430
years with a<font color="#E5E5E5"> focus on</font><font color="#CCCCCC"> endpoint</font><font color="#E5E5E5"> detection</font>

17
00:00:49,829 --> 00:00:56,100
<font color="#E5E5E5">as well as Network detection and we're</font>

18
00:00:53,430 --> 00:00:59,280
gonna be<font color="#E5E5E5"> talking about</font><font color="#CCCCCC"> grading os query</font>

19
00:00:56,100 --> 00:01:02,370
into security onion has anybody heard of

20
00:00:59,280 --> 00:01:04,769
<font color="#CCCCCC">os query before this session</font><font color="#E5E5E5"> quite a few</font>

21
00:01:02,370 --> 00:01:09,899
all right how many<font color="#E5E5E5"> people</font><font color="#CCCCCC"> are actively</font>

22
00:01:04,769 --> 00:01:12,090
<font color="#CCCCCC">using OS query</font><font color="#E5E5E5"> in your organization okay</font>

23
00:01:09,899 --> 00:01:14,880
<font color="#E5E5E5">so I don't</font><font color="#CCCCCC"> think I</font><font color="#E5E5E5"> even saw</font><font color="#CCCCCC"> one hand</font><font color="#E5E5E5"> so</font>

24
00:01:12,090 --> 00:01:15,420
this is a great opportunity<font color="#E5E5E5"> right</font><font color="#CCCCCC"> okay</font>

25
00:01:14,880 --> 00:01:18,119
<font color="#E5E5E5">very good</font>

26
00:01:15,420 --> 00:01:20,399
<font color="#E5E5E5">so in the last few years I've</font><font color="#CCCCCC"> spent</font>

27
00:01:18,119 --> 00:01:23,729
quite a bit<font color="#E5E5E5"> of time focusing on getting</font>

28
00:01:20,399 --> 00:01:25,860
<font color="#E5E5E5">a visibility to my in into mutton points</font>

29
00:01:23,729 --> 00:01:28,739
I've really struggled<font color="#CCCCCC"> with as I'm sure</font>

30
00:01:25,860 --> 00:01:31,649
you have with<font color="#E5E5E5"> network traffic continuing</font>

31
00:01:28,739 --> 00:01:33,690
to be encrypted<font color="#CCCCCC"> as well as remote</font>

32
00:01:31,649 --> 00:01:35,789
workers right we just have<font color="#E5E5E5"> for the</font>

33
00:01:33,690 --> 00:01:38,009
people<font color="#CCCCCC"> I work with</font><font color="#E5E5E5"> we have a lot</font><font color="#CCCCCC"> of</font>

34
00:01:35,789 --> 00:01:40,440
remote workers it's very<font color="#E5E5E5"> difficult to</font>

35
00:01:38,009 --> 00:01:42,390
get that<font color="#E5E5E5"> visibility</font><font color="#CCCCCC"> into the network</font>

36
00:01:40,440 --> 00:01:44,280
both for the encryption side of things

37
00:01:42,390 --> 00:01:45,929
<font color="#E5E5E5">and the</font><font color="#CCCCCC"> remote workers and so that's</font>

38
00:01:44,280 --> 00:01:47,759
where<font color="#CCCCCC"> last couple years I've been</font>

39
00:01:45,929 --> 00:01:49,349
working<font color="#CCCCCC"> through integrating</font><font color="#E5E5E5"> OS query</font>

40
00:01:47,759 --> 00:01:51,179
getting those queries on to our

41
00:01:49,349 --> 00:01:53,160
endpoints and finding a<font color="#E5E5E5"> way to integrate</font>

42
00:01:51,179 --> 00:01:57,539
that with<font color="#E5E5E5"> the network data that we have</font>

43
00:01:53,160 --> 00:01:59,250
and so<font color="#E5E5E5"> OS query is a</font><font color="#CCCCCC"> face book project</font>

44
00:01:57,539 --> 00:02:02,660
there we go<font color="#E5E5E5"> OS queries an opensource</font>

45
00:01:59,250 --> 00:02:04,020
a face book project put out in<font color="#E5E5E5"> 2014</font>

46
00:02:02,660 --> 00:02:07,709
<font color="#E5E5E5">excuse me</font>

47
00:02:04,020 --> 00:02:10,228
and if you can't tell<font color="#CCCCCC"> from the name</font><font color="#E5E5E5"> it</font>

48
00:02:07,709 --> 00:02:12,780
allows you<font color="#E5E5E5"> to query your system as if</font>

49
00:02:10,229 --> 00:02:15,720
it's a relational database<font color="#CCCCCC"> okay so you</font>

50
00:02:12,780 --> 00:02:17,400
<font color="#E5E5E5">can use sequel syntax you</font><font color="#CCCCCC"> can say if you</font>

51
00:02:15,720 --> 00:02:20,269
want<font color="#CCCCCC"> to see all the users</font><font color="#E5E5E5"> on the system</font>

52
00:02:17,400 --> 00:02:22,950
<font color="#CCCCCC">you can say select star from users</font>

53
00:02:20,269 --> 00:02:25,109
semicolon you hit enter<font color="#E5E5E5"> and you get all</font>

54
00:02:22,950 --> 00:02:30,209
the users back as well as metadata<font color="#CCCCCC"> about</font>

55
00:02:25,109 --> 00:02:33,180
those users<font color="#E5E5E5"> it's also cross-platform</font><font color="#CCCCCC"> you</font>

56
00:02:30,209 --> 00:02:35,670
<font color="#E5E5E5">see if I can switch this</font><font color="#CCCCCC"> alright</font>

57
00:02:33,180 --> 00:02:40,769
it's cross-platform<font color="#E5E5E5"> it has wide support</font>

58
00:02:35,670 --> 00:02:41,939
<font color="#E5E5E5">on</font><font color="#CCCCCC"> Linux</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> BSP Mac OS</font><font color="#E5E5E5"> and Windows</font><font color="#CCCCCC"> and</font>

59
00:02:40,769 --> 00:02:45,180
the last<font color="#E5E5E5"> two I want to talk</font><font color="#CCCCCC"> about</font>

60
00:02:41,939 --> 00:02:46,799
together<font color="#E5E5E5"> performant and read-only</font><font color="#CCCCCC"> this</font>

61
00:02:45,180 --> 00:02:48,810
is really important<font color="#E5E5E5"> especially</font><font color="#CCCCCC"> for those</font>

62
00:02:46,799 --> 00:02:51,299
<font color="#E5E5E5">of</font><font color="#CCCCCC"> us in</font><font color="#E5E5E5"> organizations where</font>

63
00:02:48,810 --> 00:02:53,310
infrastructure and<font color="#CCCCCC"> operations are not</font>

64
00:02:51,299 --> 00:02:55,980
happy<font color="#CCCCCC"> with putting yet another agent on</font>

65
00:02:53,310 --> 00:02:58,409
the system right<font color="#E5E5E5"> how can we convince our</font>

66
00:02:55,980 --> 00:03:00,179
operations teams<font color="#CCCCCC"> - hey can I throw</font>

67
00:02:58,409 --> 00:03:02,640
another<font color="#E5E5E5"> agent on our mission critical</font>

68
00:03:00,180 --> 00:03:04,680
systems<font color="#CCCCCC"> OS query was built from</font><font color="#E5E5E5"> the</font>

69
00:03:02,640 --> 00:03:07,379
<font color="#CCCCCC">ground up to</font><font color="#E5E5E5"> be high performance it was</font>

70
00:03:04,680 --> 00:03:11,310
built to<font color="#CCCCCC"> be run in production</font><font color="#E5E5E5"> on</font>

71
00:03:07,379 --> 00:03:13,290
critical systems<font color="#E5E5E5"> it's also</font><font color="#CCCCCC"> read-only in</font>

72
00:03:11,310 --> 00:03:15,840
core<font color="#E5E5E5"> which</font><font color="#CCCCCC"> means that it's not</font><font color="#E5E5E5"> going to</font>

73
00:03:13,290 --> 00:03:17,730
make state changes to your systems<font color="#CCCCCC"> so</font>

74
00:03:15,840 --> 00:03:20,700
<font color="#CCCCCC">you can be assured your operations team</font>

75
00:03:17,730 --> 00:03:21,689
can be assured<font color="#E5E5E5"> that you and your secured</font>

76
00:03:20,700 --> 00:03:24,030
tools and not going<font color="#E5E5E5"> to be making</font>

77
00:03:21,689 --> 00:03:26,939
<font color="#E5E5E5">unauthorized changes to your critical</font>

78
00:03:24,030 --> 00:03:29,159
<font color="#CCCCCC">systems especially in</font><font color="#E5E5E5"> production</font><font color="#CCCCCC"> that</font>

79
00:03:26,939 --> 00:03:31,650
<font color="#E5E5E5">making sense so far that's sounding</font>

80
00:03:29,159 --> 00:03:35,279
pretty<font color="#E5E5E5"> good somewhat yes yes all right</font>

81
00:03:31,650 --> 00:03:37,439
<font color="#CCCCCC">yes I heard that yes thank you</font><font color="#E5E5E5"> so what</font>

82
00:03:35,279 --> 00:03:39,230
does this<font color="#E5E5E5"> look like in a practical</font>

83
00:03:37,439 --> 00:03:41,999
<font color="#CCCCCC">situation let's talk about a recent</font>

84
00:03:39,230 --> 00:03:43,798
<font color="#E5E5E5">incident</font><font color="#CCCCCC"> two recent issue I think</font><font color="#E5E5E5"> this</font>

85
00:03:41,999 --> 00:03:47,900
was<font color="#E5E5E5"> about six weeks ago anybody remember</font>

86
00:03:43,799 --> 00:03:50,939
this<font color="#E5E5E5"> but he saw this okay so this was a</font>

87
00:03:47,900 --> 00:03:52,920
it's<font color="#E5E5E5"> about six</font><font color="#CCCCCC"> weeks</font><font color="#E5E5E5"> ago</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> mega</font><font color="#CCCCCC"> chrome</font>

88
00:03:50,939 --> 00:03:55,590
extension which has<font color="#E5E5E5"> about</font><font color="#CCCCCC"> two million</font>

89
00:03:52,920 --> 00:03:57,450
active users<font color="#E5E5E5"> the latest version was</font>

90
00:03:55,590 --> 00:04:01,590
compromised<font color="#E5E5E5"> and it was sending your</font>

91
00:03:57,450 --> 00:04:04,168
credentials<font color="#E5E5E5"> to Amazon for Amazon github</font>

92
00:04:01,590 --> 00:04:07,049
Google and Microsoft<font color="#CCCCCC"> - the perpetrator</font>

93
00:04:04,169 --> 00:04:09,450
<font color="#CCCCCC">all</font><font color="#E5E5E5"> right not not</font><font color="#CCCCCC"> a good thing right</font><font color="#E5E5E5"> so</font>

94
00:04:07,049 --> 00:04:11,909
if we<font color="#CCCCCC"> are in security for an</font>

95
00:04:09,450 --> 00:04:14,819
organization how can we verify<font color="#CCCCCC"> that our</font>

96
00:04:11,909 --> 00:04:18,238
<font color="#E5E5E5">users nobody especially our IT people</font>

97
00:04:14,819 --> 00:04:20,399
have not installed this<font color="#E5E5E5"> Chrome extension</font>

98
00:04:18,238 --> 00:04:23,460
<font color="#E5E5E5">and is now siphoning off our user</font>

99
00:04:20,399 --> 00:04:26,310
credentials<font color="#E5E5E5"> well what we can do is first</font>

100
00:04:23,460 --> 00:04:29,130
look<font color="#CCCCCC"> at what tables are available for OS</font>

101
00:04:26,310 --> 00:04:33,150
query to query as I mentioned<font color="#E5E5E5"> Oh</font><font color="#CCCCCC"> Square</font>

102
00:04:29,130 --> 00:04:35,310
allows you to query<font color="#E5E5E5"> tables or different</font>

103
00:04:33,150 --> 00:04:38,159
specific instances

104
00:04:35,310 --> 00:04:40,560
<font color="#CCCCCC">on your on your</font><font color="#E5E5E5"> system</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> these tables</font>

105
00:04:38,160 --> 00:04:43,230
<font color="#E5E5E5">cover different areas so you</font><font color="#CCCCCC"> have the</font>

106
00:04:40,560 --> 00:04:46,440
users table<font color="#CCCCCC"> you could have in some cases</font>

107
00:04:43,230 --> 00:04:48,600
<font color="#E5E5E5">we'll talk about the processes table you</font>

108
00:04:46,440 --> 00:04:50,969
have the<font color="#E5E5E5"> cron jobs</font><font color="#CCCCCC"> give all sorts of</font>

109
00:04:48,600 --> 00:04:53,040
<font color="#E5E5E5">different tables that you can query and</font>

110
00:04:50,970 --> 00:04:54,720
so there are 220 plus tables<font color="#E5E5E5"> they're</font>

111
00:04:53,040 --> 00:04:56,970
added the more are added<font color="#CCCCCC"> on a regular</font>

112
00:04:54,720 --> 00:04:59,880
<font color="#E5E5E5">basis and you can find what you can</font>

113
00:04:56,970 --> 00:05:03,270
<font color="#E5E5E5">query on</font><font color="#CCCCCC"> the website Oh OS query</font><font color="#E5E5E5"> dot io</font>

114
00:04:59,880 --> 00:05:04,909
/<font color="#E5E5E5"> schema there is a lot a lot</font><font color="#CCCCCC"> of</font>

115
00:05:03,270 --> 00:05:07,650
<font color="#CCCCCC">information there you can filter it by</font>

116
00:05:04,910 --> 00:05:10,470
platform as well as version<font color="#E5E5E5"> number for</font>

117
00:05:07,650 --> 00:05:12,870
<font color="#CCCCCC">O's query fortunately for us there is a</font>

118
00:05:10,470 --> 00:05:16,710
Chrome extension stable<font color="#E5E5E5"> across all</font>

119
00:05:12,870 --> 00:05:18,270
platforms<font color="#E5E5E5"> you can see a</font><font color="#CCCCCC"> little</font><font color="#E5E5E5"> bit not</font>

120
00:05:16,710 --> 00:05:19,979
sure<font color="#E5E5E5"> how well</font><font color="#CCCCCC"> you can see that you can</font>

121
00:05:18,270 --> 00:05:22,770
see the schema<font color="#E5E5E5"> we have chrome underscore</font>

122
00:05:19,980 --> 00:05:24,630
under<font color="#E5E5E5"> store extensions we have the</font>

123
00:05:22,770 --> 00:05:26,609
schema right over<font color="#E5E5E5"> here the different</font>

124
00:05:24,630 --> 00:05:28,230
<font color="#E5E5E5">columns and then we have platform</font>

125
00:05:26,610 --> 00:05:31,950
support on the far upper<font color="#E5E5E5"> right hand</font>

126
00:05:28,230 --> 00:05:34,980
corner we have<font color="#CCCCCC"> Mac OS Linux</font><font color="#E5E5E5"> windows and</font>

127
00:05:31,950 --> 00:05:38,060
the<font color="#CCCCCC"> BSD s so</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> write</font><font color="#E5E5E5"> the query we're</font>

128
00:05:34,980 --> 00:05:41,190
going to say<font color="#E5E5E5"> just very very quickly</font>

129
00:05:38,060 --> 00:05:43,830
<font color="#E5E5E5">select</font><font color="#CCCCCC"> the user ID</font><font color="#E5E5E5"> the name column the</font>

130
00:05:41,190 --> 00:05:46,770
identifier column<font color="#E5E5E5"> from</font><font color="#CCCCCC"> chrome under</font>

131
00:05:43,830 --> 00:05:48,870
store underscore extensions<font color="#E5E5E5"> and it's</font>

132
00:05:46,770 --> 00:05:51,000
<font color="#E5E5E5">going to give us this result it's going</font>

133
00:05:48,870 --> 00:05:53,160
<font color="#CCCCCC">to give</font><font color="#E5E5E5"> us all</font><font color="#CCCCCC"> of the extensions</font><font color="#E5E5E5"> on</font><font color="#CCCCCC"> the</font>

134
00:05:51,000 --> 00:05:55,710
system the user<font color="#CCCCCC"> ID is on</font><font color="#E5E5E5"> the far left</font>

135
00:05:53,160 --> 00:05:58,800
<font color="#CCCCCC">hand side</font><font color="#E5E5E5"> the name of the extension the</font>

136
00:05:55,710 --> 00:06:00,359
version number and<font color="#E5E5E5"> the</font><font color="#CCCCCC"> identifier</font><font color="#E5E5E5"> now</font>

137
00:05:58,800 --> 00:06:03,270
for<font color="#E5E5E5"> Chrome extensions each</font><font color="#CCCCCC"> Chrome</font>

138
00:06:00,360 --> 00:06:05,370
extension has a unique<font color="#E5E5E5"> identifier</font><font color="#CCCCCC"> you</font>

139
00:06:03,270 --> 00:06:08,150
can easily find<font color="#CCCCCC"> it the</font><font color="#E5E5E5"> identifier by</font>

140
00:06:05,370 --> 00:06:10,890
<font color="#CCCCCC">went to the chrome extensions store</font>

141
00:06:08,150 --> 00:06:13,320
<font color="#E5E5E5">online and you can look up</font><font color="#CCCCCC"> that</font>

142
00:06:10,890 --> 00:06:15,390
extension<font color="#E5E5E5"> within the</font><font color="#CCCCCC"> URL you</font><font color="#E5E5E5"> will find</font>

143
00:06:13,320 --> 00:06:17,370
<font color="#E5E5E5">that unique identifier</font><font color="#CCCCCC"> that's</font><font color="#E5E5E5"> what all</font>

144
00:06:15,390 --> 00:06:21,000
these identifiers are so very easily

145
00:06:17,370 --> 00:06:22,140
defined so this is great<font color="#E5E5E5"> but if we're</font>

146
00:06:21,000 --> 00:06:24,240
<font color="#CCCCCC">doing this across our entire</font>

147
00:06:22,140 --> 00:06:26,430
<font color="#CCCCCC">organization</font><font color="#E5E5E5"> we have thousands and</font>

148
00:06:24,240 --> 00:06:28,350
thousands of rows returned<font color="#CCCCCC"> it's going to</font>

149
00:06:26,430 --> 00:06:31,200
<font color="#E5E5E5">be very difficult for us to find the</font>

150
00:06:28,350 --> 00:06:33,300
mega extension in this<font color="#E5E5E5"> right so next up</font>

151
00:06:31,200 --> 00:06:35,909
we're going<font color="#E5E5E5"> to filter specifically for</font>

152
00:06:33,300 --> 00:06:37,920
the mega extension that's going to look

153
00:06:35,910 --> 00:06:39,870
<font color="#E5E5E5">like we're gonna have that select phrase</font>

154
00:06:37,920 --> 00:06:42,270
up there select user ID name identifier

155
00:06:39,870 --> 00:06:43,530
from<font color="#E5E5E5"> the Chrome extensions table now</font>

156
00:06:42,270 --> 00:06:46,500
we're<font color="#E5E5E5"> going</font><font color="#CCCCCC"> to filter</font><font color="#E5E5E5"> we're</font><font color="#CCCCCC"> gonna say</font>

157
00:06:43,530 --> 00:06:48,719
where the<font color="#E5E5E5"> identifier equals that's a</font>

158
00:06:46,500 --> 00:06:52,020
mega extension identifier

159
00:06:48,720 --> 00:06:55,140
and the<font color="#E5E5E5"> version number is three</font><font color="#CCCCCC"> 39.4</font>

160
00:06:52,020 --> 00:06:57,479
<font color="#E5E5E5">okay so we're specifically looking</font><font color="#CCCCCC"> for</font>

161
00:06:55,140 --> 00:06:58,289
the<font color="#CCCCCC"> the</font><font color="#E5E5E5"> version that has been</font>

162
00:06:57,480 --> 00:07:01,490
compromised

163
00:06:58,290 --> 00:07:04,440
on the system and also have that version

164
00:07:01,490 --> 00:07:06,420
<font color="#E5E5E5">filter struck out because in a scenario</font>

165
00:07:04,440 --> 00:07:07,830
<font color="#CCCCCC">like</font><font color="#E5E5E5"> this you'll run out you'll want</font><font color="#CCCCCC"> to</font>

166
00:07:06,420 --> 00:07:09,720
run<font color="#CCCCCC"> a couple</font><font color="#E5E5E5"> different queries</font><font color="#CCCCCC"> you want</font>

167
00:07:07,830 --> 00:07:11,700
to see<font color="#E5E5E5"> first of all if there is a</font>

168
00:07:09,720 --> 00:07:13,860
compromised version installed for sure

169
00:07:11,700 --> 00:07:15,750
<font color="#E5E5E5">but you'll also want to back out and say</font>

170
00:07:13,860 --> 00:07:17,430
does anybody in<font color="#E5E5E5"> my organization have</font>

171
00:07:15,750 --> 00:07:19,770
<font color="#E5E5E5">this extension installed no matter the</font>

172
00:07:17,430 --> 00:07:22,200
version because<font color="#E5E5E5"> of</font><font color="#CCCCCC"> that version</font><font color="#E5E5E5"> if that</font>

173
00:07:19,770 --> 00:07:24,539
compromised version is<font color="#E5E5E5"> still live on the</font>

174
00:07:22,200 --> 00:07:27,150
extension store it's very likely<font color="#CCCCCC"> that</font>

175
00:07:24,540 --> 00:07:29,480
our<font color="#E5E5E5"> users are</font><font color="#CCCCCC"> the the</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> plug-in will</font>

176
00:07:27,150 --> 00:07:32,489
<font color="#E5E5E5">update and it will go out and get that</font>

177
00:07:29,480 --> 00:07:34,350
<font color="#E5E5E5">compromised version so we want to see if</font>

178
00:07:32,490 --> 00:07:37,770
there's anybody at all running<font color="#E5E5E5"> the</font>

179
00:07:34,350 --> 00:07:39,840
Chrome extension<font color="#E5E5E5"> for mega all right so</font>

180
00:07:37,770 --> 00:07:42,120
that is going<font color="#CCCCCC"> to</font><font color="#E5E5E5"> give us one result on</font>

181
00:07:39,840 --> 00:07:45,419
these in this particular instance<font color="#CCCCCC"> and</font>

182
00:07:42,120 --> 00:07:47,430
<font color="#E5E5E5">the user ID is 501 and we see they</font>

183
00:07:45,419 --> 00:07:49,740
identify the name of mega and the

184
00:07:47,430 --> 00:07:51,810
<font color="#E5E5E5">version number now there are certainly a</font>

185
00:07:49,740 --> 00:07:53,700
<font color="#E5E5E5">lot of other columns for this for the</font>

186
00:07:51,810 --> 00:07:57,870
<font color="#E5E5E5">Chrome extensions table we're only just</font>

187
00:07:53,700 --> 00:07:59,610
querying these<font color="#E5E5E5"> for our purposes</font><font color="#CCCCCC"> now up</font>

188
00:07:57,870 --> 00:08:02,040
to this<font color="#E5E5E5"> point we found something but</font>

189
00:07:59,610 --> 00:08:04,350
<font color="#E5E5E5">with this</font><font color="#CCCCCC"> specific query we're not</font>

190
00:08:02,040 --> 00:08:05,729
actually<font color="#E5E5E5"> going to get all of the users</font>

191
00:08:04,350 --> 00:08:08,040
on the<font color="#CCCCCC"> system let's say you're querying</font>

192
00:08:05,729 --> 00:08:11,039
a Windows<font color="#E5E5E5"> term server and you have a</font>

193
00:08:08,040 --> 00:08:14,190
bunch<font color="#E5E5E5"> of local users</font><font color="#CCCCCC"> or domain profiles</font>

194
00:08:11,040 --> 00:08:17,490
on that box<font color="#CCCCCC"> this</font><font color="#E5E5E5"> query will only get the</font>

195
00:08:14,190 --> 00:08:18,479
current user not all of the users so

196
00:08:17,490 --> 00:08:20,940
what we're gonna have<font color="#E5E5E5"> to do we're</font><font color="#CCCCCC"> going</font>

197
00:08:18,479 --> 00:08:23,310
<font color="#CCCCCC">to</font><font color="#E5E5E5"> have to join the Chrome extensions</font>

198
00:08:20,940 --> 00:08:24,900
table with the users<font color="#E5E5E5"> table and that will</font>

199
00:08:23,310 --> 00:08:27,150
enumerate<font color="#E5E5E5"> through all the different</font>

200
00:08:24,900 --> 00:08:29,520
users<font color="#E5E5E5"> on the box and it</font><font color="#CCCCCC"> will give us a</font>

201
00:08:27,150 --> 00:08:33,120
nice<font color="#CCCCCC"> byproduct of changing out that user</font>

202
00:08:29,520 --> 00:08:36,838
ID<font color="#CCCCCC"> to the</font><font color="#E5E5E5"> user name okay so let's go</font>

203
00:08:33,120 --> 00:08:39,120
<font color="#E5E5E5">ahead and do</font><font color="#CCCCCC"> that now we have modified</font>

204
00:08:36,839 --> 00:08:41,640
<font color="#CCCCCC">that top portion we say select</font><font color="#E5E5E5"> the users</font>

205
00:08:39,120 --> 00:08:44,280
<font color="#CCCCCC">dye user name</font><font color="#E5E5E5"> Chrome extensions out name</font>

206
00:08:41,640 --> 00:08:47,490
<font color="#CCCCCC">Chrome extensions</font><font color="#E5E5E5"> that version from the</font>

207
00:08:44,280 --> 00:08:50,400
<font color="#E5E5E5">users table cross join</font><font color="#CCCCCC"> Chrome extensions</font>

208
00:08:47,490 --> 00:08:52,710
using<font color="#E5E5E5"> the user ID column okay that's is</font>

209
00:08:50,400 --> 00:08:55,110
a common column<font color="#E5E5E5"> between the two</font><font color="#CCCCCC"> tables</font>

210
00:08:52,710 --> 00:08:57,180
<font color="#E5E5E5">now if you're not</font><font color="#CCCCCC"> familiar with sequel</font>

211
00:08:55,110 --> 00:08:59,010
syntax this definitely might not make

212
00:08:57,180 --> 00:09:01,500
<font color="#E5E5E5">any</font><font color="#CCCCCC"> sense to you and</font><font color="#E5E5E5"> that is completely</font>

213
00:08:59,010 --> 00:09:02,490
<font color="#E5E5E5">fine that's actually what I think is one</font>

214
00:09:01,500 --> 00:09:04,709
of<font color="#E5E5E5"> the big benefit</font>

215
00:09:02,490 --> 00:09:06,480
of using OS query there isn't some

216
00:09:04,709 --> 00:09:08,969
esoteric<font color="#CCCCCC"> language that you need to learn</font>

217
00:09:06,480 --> 00:09:11,430
and understand<font color="#CCCCCC"> to query and use os query</font>

218
00:09:08,970 --> 00:09:13,800
<font color="#E5E5E5">you can use standard sequel syntax and</font>

219
00:09:11,430 --> 00:09:16,290
there are plenty<font color="#E5E5E5"> of great free or</font>

220
00:09:13,800 --> 00:09:18,839
<font color="#CCCCCC">low-cost</font><font color="#E5E5E5"> training out</font><font color="#CCCCCC"> there for sequel</font>

221
00:09:16,290 --> 00:09:21,569
<font color="#CCCCCC">ok</font><font color="#E5E5E5"> so this would be pretty</font><font color="#CCCCCC"> easy to get</font>

222
00:09:18,839 --> 00:09:25,140
up to<font color="#E5E5E5"> speed on how</font><font color="#CCCCCC"> to run these queries</font>

223
00:09:21,570 --> 00:09:26,790
<font color="#CCCCCC">now if you are a query guru and you're</font>

224
00:09:25,140 --> 00:09:28,020
wondering<font color="#E5E5E5"> why we're using a cross join</font>

225
00:09:26,790 --> 00:09:30,120
there instead<font color="#CCCCCC"> of a different kind of</font>

226
00:09:28,020 --> 00:09:31,649
join there is some issues with the

227
00:09:30,120 --> 00:09:33,690
<font color="#E5E5E5">Chrome extensions table this gives us</font>

228
00:09:31,649 --> 00:09:35,160
more consistent results<font color="#CCCCCC"> which</font><font color="#E5E5E5"> is</font><font color="#CCCCCC"> why</font>

229
00:09:33,690 --> 00:09:37,380
we're using<font color="#E5E5E5"> the</font><font color="#CCCCCC"> cross join just as a</font>

230
00:09:35,160 --> 00:09:40,890
side note there so this<font color="#CCCCCC"> is going</font><font color="#E5E5E5"> to give</font>

231
00:09:37,380 --> 00:09:42,689
us<font color="#E5E5E5"> the final</font><font color="#CCCCCC"> results</font><font color="#E5E5E5"> to users</font><font color="#CCCCCC"> Dresden</font>

232
00:09:40,890 --> 00:09:47,430
<font color="#E5E5E5">and Everett's so it's converted that</font>

233
00:09:42,690 --> 00:09:48,959
user ID<font color="#E5E5E5"> to</font><font color="#CCCCCC"> v2 the</font><font color="#E5E5E5"> user name and the name</font>

234
00:09:47,430 --> 00:09:52,140
of<font color="#E5E5E5"> the extension is</font><font color="#CCCCCC"> Megha and the</font>

235
00:09:48,959 --> 00:09:55,020
<font color="#E5E5E5">version number</font><font color="#CCCCCC"> ok</font><font color="#E5E5E5"> is that somewhat</font>

236
00:09:52,140 --> 00:09:57,569
making sense we're using<font color="#E5E5E5"> OS query to</font>

237
00:09:55,020 --> 00:09:59,149
query the state of our system<font color="#CCCCCC"> thank you</font>

238
00:09:57,570 --> 00:10:02,880
<font color="#E5E5E5">for that thumbs up appreciate it</font>

239
00:09:59,149 --> 00:10:04,440
<font color="#CCCCCC">alright from</font><font color="#E5E5E5"> here it's kind of cool when</font>

240
00:10:02,880 --> 00:10:06,450
you think<font color="#CCCCCC"> about okay Josh you're doing</font>

241
00:10:04,440 --> 00:10:08,670
this on the single system<font color="#E5E5E5"> doing it on</font>

242
00:10:06,450 --> 00:10:11,880
maybe a terminal server you see all the

243
00:10:08,670 --> 00:10:13,880
users<font color="#CCCCCC"> on the system</font><font color="#E5E5E5"> now let's do this at</font>

244
00:10:11,880 --> 00:10:16,050
scale let's do this<font color="#E5E5E5"> across our entire</font>

245
00:10:13,880 --> 00:10:19,439
<font color="#CCCCCC">organization and</font><font color="#E5E5E5"> all of our endpoints</font>

246
00:10:16,050 --> 00:10:21,510
let's see what that<font color="#CCCCCC"> looks like</font><font color="#E5E5E5"> so</font><font color="#CCCCCC"> from a</font>

247
00:10:19,440 --> 00:10:23,250
distributed perspective we're going to

248
00:10:21,510 --> 00:10:24,810
run a<font color="#E5E5E5"> couple different types of queries</font>

249
00:10:23,250 --> 00:10:27,209
<font color="#E5E5E5">we're going to have aa square installed</font>

250
00:10:24,810 --> 00:10:29,069
on all of<font color="#CCCCCC"> our endpoints we can run an</font>

251
00:10:27,209 --> 00:10:31,739
<font color="#CCCCCC">ad-hoc query which is</font><font color="#E5E5E5"> exactly what we</font>

252
00:10:29,070 --> 00:10:33,390
<font color="#CCCCCC">just saw we we have an issue we want</font><font color="#E5E5E5"> to</font>

253
00:10:31,740 --> 00:10:35,940
see if the<font color="#E5E5E5"> Chrome extension is</font><font color="#CCCCCC"> installed</font>

254
00:10:33,390 --> 00:10:37,829
we want to see if if there is anything

255
00:10:35,940 --> 00:10:40,170
<font color="#E5E5E5">relevant in the Etsy host file we can</font>

256
00:10:37,829 --> 00:10:42,300
run those<font color="#E5E5E5"> queries ad hoc across your</font>

257
00:10:40,170 --> 00:10:44,849
entire<font color="#CCCCCC"> infrastructure</font><font color="#E5E5E5"> there's also</font>

258
00:10:42,300 --> 00:10:47,160
scheduled queries scheduled queries

259
00:10:44,850 --> 00:10:50,250
allow us to say run these sets of

260
00:10:47,160 --> 00:10:52,469
queries<font color="#CCCCCC"> every</font><font color="#E5E5E5"> 180 seconds for these sets</font>

261
00:10:50,250 --> 00:10:54,899
<font color="#E5E5E5">of hosts and then send me</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> results</font>

262
00:10:52,470 --> 00:10:56,820
there's a couple<font color="#E5E5E5"> different</font><font color="#CCCCCC"> ways of</font>

263
00:10:54,899 --> 00:10:58,500
logging those<font color="#E5E5E5"> scheduled queries you can</font>

264
00:10:56,820 --> 00:11:00,779
do snapshots<font color="#E5E5E5"> or you could do</font>

265
00:10:58,500 --> 00:11:03,839
<font color="#E5E5E5">differential with differential you could</font>

266
00:11:00,779 --> 00:11:06,209
say like<font color="#E5E5E5"> you know select star from the</font>

267
00:11:03,839 --> 00:11:08,820
users table<font color="#E5E5E5"> once you've gotten all</font><font color="#CCCCCC"> that</font>

268
00:11:06,209 --> 00:11:11,760
initial users<font color="#E5E5E5"> data then</font><font color="#CCCCCC"> anytime</font><font color="#E5E5E5"> a new</font>

269
00:11:08,820 --> 00:11:13,650
<font color="#E5E5E5">user is</font><font color="#CCCCCC"> added to the system</font><font color="#E5E5E5"> it's only</font>

270
00:11:11,760 --> 00:11:15,420
<font color="#E5E5E5">going to give you under a differential</font>

271
00:11:13,650 --> 00:11:15,769
query it's only going<font color="#E5E5E5"> to give you that</font>

272
00:11:15,420 --> 00:11:17,179
new

273
00:11:15,769 --> 00:11:18,679
<font color="#E5E5E5">user that's been added</font><font color="#CCCCCC"> so you're not</font>

274
00:11:17,179 --> 00:11:20,449
getting<font color="#CCCCCC"> back all of</font><font color="#E5E5E5"> the users on the</font>

275
00:11:18,679 --> 00:11:24,050
<font color="#CCCCCC">system</font><font color="#E5E5E5"> every</font><font color="#CCCCCC"> time you're running</font><font color="#E5E5E5"> that</font>

276
00:11:20,449 --> 00:11:26,209
query<font color="#CCCCCC"> okay</font><font color="#E5E5E5"> and so let's look at this</font>

277
00:11:24,050 --> 00:11:28,128
from<font color="#CCCCCC"> a technical</font><font color="#E5E5E5"> perspective we have our</font>

278
00:11:26,209 --> 00:11:28,488
<font color="#CCCCCC">endpoints we have O's query installed on</font>

279
00:11:28,129 --> 00:11:31,369
them

280
00:11:28,489 --> 00:11:34,279
we need a fleet manager we need some way

281
00:11:31,369 --> 00:11:35,600
<font color="#CCCCCC">to manage</font><font color="#E5E5E5"> these clients right and so</font>

282
00:11:34,279 --> 00:11:37,730
there's a bunch<font color="#CCCCCC"> of options</font><font color="#E5E5E5"> out there for</font>

283
00:11:35,600 --> 00:11:40,009
<font color="#CCCCCC">house query both commercial</font><font color="#E5E5E5"> and open</font>

284
00:11:37,730 --> 00:11:41,689
source<font color="#E5E5E5"> the one you'll see that</font><font color="#CCCCCC"> we're</font>

285
00:11:40,009 --> 00:11:42,410
<font color="#CCCCCC">gonna demo in just a minute</font><font color="#E5E5E5"> is from</font>

286
00:11:41,689 --> 00:11:45,589
collide

287
00:11:42,410 --> 00:11:47,959
it's called fleet<font color="#CCCCCC"> and we so</font><font color="#E5E5E5"> we have a</font>

288
00:11:45,589 --> 00:11:50,480
<font color="#E5E5E5">fleet server installed that is the one</font>

289
00:11:47,959 --> 00:11:53,299
that is sending<font color="#CCCCCC"> its managing all of</font>

290
00:11:50,480 --> 00:11:55,069
these hosts<font color="#E5E5E5"> out there for OS query</font><font color="#CCCCCC"> its</font>

291
00:11:53,299 --> 00:11:57,170
communicating with them<font color="#E5E5E5"> it's saying run</font>

292
00:11:55,069 --> 00:12:00,229
these scheduled queries<font color="#CCCCCC"> every so often</font>

293
00:11:57,170 --> 00:12:02,199
send the results back to me<font color="#CCCCCC"> okay so that</font>

294
00:12:00,230 --> 00:12:05,660
is<font color="#CCCCCC"> the fleet manager there in the center</font>

295
00:12:02,199 --> 00:12:07,969
from there we're<font color="#CCCCCC"> gonna</font><font color="#E5E5E5"> go ahead and send</font>

296
00:12:05,660 --> 00:12:10,100
all of<font color="#E5E5E5"> that data that fleet has gathered</font>

297
00:12:07,970 --> 00:12:12,019
<font color="#E5E5E5">we'll send that over to</font><font color="#CCCCCC"> secure</font><font color="#E5E5E5"> Union</font>

298
00:12:10,100 --> 00:12:14,420
<font color="#E5E5E5">we'll use file beats on the fleet server</font>

299
00:12:12,019 --> 00:12:16,939
<font color="#CCCCCC">and we'll send that</font><font color="#E5E5E5"> data over to</font>

300
00:12:14,420 --> 00:12:19,488
security onion using<font color="#CCCCCC"> logs -</font><font color="#E5E5E5"> all right</font>

301
00:12:16,939 --> 00:12:21,079
<font color="#E5E5E5">and from there let's see what kind of</font>

302
00:12:19,489 --> 00:12:22,699
integrations we can do right because<font color="#CCCCCC"> we</font>

303
00:12:21,079 --> 00:12:25,040
<font color="#E5E5E5">have the host side of data we have a lot</font>

304
00:12:22,699 --> 00:12:26,920
<font color="#CCCCCC">of</font><font color="#E5E5E5"> network data and secure Union what</font>

305
00:12:25,040 --> 00:12:30,589
can we do if we bring these<font color="#E5E5E5"> two</font><font color="#CCCCCC"> together</font>

306
00:12:26,920 --> 00:12:32,540
<font color="#CCCCCC">this</font><font color="#E5E5E5"> is where the demo comes in and I've</font>

307
00:12:30,589 --> 00:12:36,189
actually<font color="#E5E5E5"> already had issues with the</font>

308
00:12:32,540 --> 00:12:39,290
demo twice<font color="#E5E5E5"> today so it doesn't bode well</font>

309
00:12:36,189 --> 00:12:43,009
<font color="#CCCCCC">if this does not work I do have a</font>

310
00:12:39,290 --> 00:12:44,360
recording<font color="#E5E5E5"> that</font><font color="#CCCCCC"> we can run so can someone</font>

311
00:12:43,009 --> 00:12:47,559
<font color="#E5E5E5">you please sacrifice a chicken</font><font color="#CCCCCC"> or</font>

312
00:12:44,360 --> 00:12:55,549
<font color="#CCCCCC">something</font><font color="#E5E5E5"> make sure we we do this right</font>

313
00:12:47,559 --> 00:13:02,799
thank you<font color="#CCCCCC"> thank</font><font color="#E5E5E5"> you that was</font><font color="#CCCCCC"> the</font>

314
00:12:55,549 --> 00:13:05,480
<font color="#E5E5E5">previous issue yep yeah so with this</font>

315
00:13:02,799 --> 00:13:06,740
unfortunately my hard drive got

316
00:13:05,480 --> 00:13:08,749
disconnected<font color="#E5E5E5"> in the middle of everything</font>

317
00:13:06,740 --> 00:13:10,790
running<font color="#E5E5E5"> about 15 minutes ago and</font><font color="#CCCCCC"> so</font>

318
00:13:08,749 --> 00:13:13,009
everything crashed<font color="#E5E5E5"> so well I'm going to</font>

319
00:13:10,790 --> 00:13:14,929
<font color="#E5E5E5">run the video for you</font><font color="#CCCCCC"> it'll be a short</font>

320
00:13:13,009 --> 00:13:18,049
<font color="#E5E5E5">video I may pause it back and forth and</font>

321
00:13:14,929 --> 00:13:23,569
talk<font color="#E5E5E5"> about it</font><font color="#CCCCCC"> so let's try the video and</font>

322
00:13:18,049 --> 00:13:26,649
hopefully<font color="#E5E5E5"> that will work don't mind the</font>

323
00:13:23,569 --> 00:13:26,649
wizard<font color="#E5E5E5"> behind the curtain</font>

324
00:13:32,870 --> 00:13:36,610
let's make sure audio works

325
00:13:45,029 --> 00:13:49,859
everybody<font color="#CCCCCC"> hear that okay all</font><font color="#E5E5E5"> right</font>

326
00:13:55,660 --> 00:14:02,569
<font color="#CCCCCC">where these in just a couple</font><font color="#E5E5E5"> of minutes</font>

327
00:13:58,450 --> 00:14:06,230
<font color="#E5E5E5">we go over to the secure</font><font color="#CCCCCC"> union dashboard</font>

328
00:14:02,570 --> 00:14:06,710
the<font color="#E5E5E5"> overview when you think about how</font><font color="#CCCCCC"> is</font>

329
00:14:06,230 --> 00:14:10,580
<font color="#CCCCCC">secure</font>

330
00:14:06,710 --> 00:14:12,860
NS uses<font color="#E5E5E5"> secure</font><font color="#CCCCCC"> Union and how they might</font>

331
00:14:10,580 --> 00:14:15,380
look at<font color="#E5E5E5"> us query logs there's</font><font color="#CCCCCC"> a couple</font>

332
00:14:12,860 --> 00:14:19,490
different workflows<font color="#E5E5E5"> the first one is</font>

333
00:14:15,380 --> 00:14:21,200
started with a square data and looking

334
00:14:19,490 --> 00:14:23,420
through<font color="#CCCCCC"> it and if they see something</font>

335
00:14:21,200 --> 00:14:25,970
that<font color="#CCCCCC"> they</font><font color="#E5E5E5"> want more context on they</font>

336
00:14:23,420 --> 00:14:29,120
pivot from the<font color="#CCCCCC"> o square data to the</font>

337
00:14:25,970 --> 00:14:31,820
other<font color="#CCCCCC"> data that Oh score that security</font>

338
00:14:29,120 --> 00:14:33,530
onion provides the other<font color="#E5E5E5"> workflow is the</font>

339
00:14:31,820 --> 00:14:36,560
opposite is starting with other data

340
00:14:33,530 --> 00:14:39,829
<font color="#CCCCCC">like a</font><font color="#E5E5E5"> network like an is alert</font><font color="#CCCCCC"> and then</font>

341
00:14:36,560 --> 00:14:42,619
pivoting to the<font color="#E5E5E5"> OS query data so when</font>

342
00:14:39,830 --> 00:14:44,990
you look at both<font color="#E5E5E5"> scenarios are both</font>

343
00:14:42,620 --> 00:14:48,080
workflows<font color="#E5E5E5"> let's start out with the first</font>

344
00:14:44,990 --> 00:14:52,460
one though if you scroll down there is

345
00:14:48,080 --> 00:14:55,940
<font color="#E5E5E5">an OS query dashboard and this gives us</font>

346
00:14:52,460 --> 00:14:59,420
an overview<font color="#E5E5E5"> of the OS query data in our</font>

347
00:14:55,940 --> 00:15:01,280
system<font color="#CCCCCC"> you can see we have overview of</font>

348
00:14:59,420 --> 00:15:04,010
how many changes<font color="#CCCCCC"> across how many systems</font>

349
00:15:01,280 --> 00:15:06,800
<font color="#E5E5E5">if we have alerts we'd see them here and</font>

350
00:15:04,010 --> 00:15:09,890
in<font color="#E5E5E5"> this box right</font><font color="#CCCCCC"> here and</font><font color="#E5E5E5"> then we do</font>

351
00:15:06,800 --> 00:15:12,979
have changes by system there's a Windows

352
00:15:09,890 --> 00:15:15,800
10 system and the bun<font color="#E5E5E5"> 2 system then we</font>

353
00:15:12,980 --> 00:15:19,280
<font color="#E5E5E5">had more detailed</font><font color="#CCCCCC"> changes</font><font color="#E5E5E5"> right over</font>

354
00:15:15,800 --> 00:15:21,189
<font color="#E5E5E5">here this is the</font><font color="#CCCCCC"> host name and the</font>

355
00:15:19,280 --> 00:15:24,439
change type the change type is

356
00:15:21,190 --> 00:15:27,470
essentially<font color="#E5E5E5"> what's queries generated the</font>

357
00:15:24,440 --> 00:15:31,010
<font color="#CCCCCC">data without</font><font color="#E5E5E5"> going getting into a lot of</font>

358
00:15:27,470 --> 00:15:33,380
detail<font color="#E5E5E5"> we basically package up queries</font>

359
00:15:31,010 --> 00:15:37,569
<font color="#E5E5E5">into packs and then deploy them</font><font color="#CCCCCC"> to</font>

360
00:15:33,380 --> 00:15:40,610
specific hosts and so here we<font color="#E5E5E5"> have</font>

361
00:15:37,570 --> 00:15:43,670
queries<font color="#E5E5E5"> called</font><font color="#CCCCCC"> Windows tasks so that</font>

362
00:15:40,610 --> 00:15:47,690
<font color="#CCCCCC">schedule tasks users listening ports</font>

363
00:15:43,670 --> 00:15:51,530
<font color="#CCCCCC">Chrome extension startup items again</font>

364
00:15:47,690 --> 00:15:56,480
users again<font color="#E5E5E5"> so lots of different queries</font>

365
00:15:51,530 --> 00:16:00,410
that we have scheduled<font color="#E5E5E5"> and let's see</font><font color="#CCCCCC"> we</font>

366
00:15:56,480 --> 00:16:03,050
also can select a<font color="#E5E5E5"> system to get a little</font>

367
00:16:00,410 --> 00:16:04,189
bit more granular on<font color="#E5E5E5"> it that will filter</font>

368
00:16:03,050 --> 00:16:06,469
it

369
00:16:04,190 --> 00:16:08,389
for the all<font color="#E5E5E5"> the Oh square logs down here</font>

370
00:16:06,470 --> 00:16:10,670
as well as alerts if there were any

371
00:16:08,389 --> 00:16:13,639
<font color="#E5E5E5">alerts you can</font><font color="#CCCCCC"> also look at</font><font color="#E5E5E5"> the change</font>

372
00:16:10,670 --> 00:16:16,810
type which we just mentioned<font color="#CCCCCC"> so now we</font>

373
00:16:13,639 --> 00:16:19,009
can filter for<font color="#CCCCCC"> a specific</font><font color="#E5E5E5"> change type</font>

374
00:16:16,810 --> 00:16:21,109
speaking of filtering<font color="#CCCCCC"> let's talk about</font>

375
00:16:19,009 --> 00:16:24,290
the filters up here to the<font color="#CCCCCC"> left-hand</font>

376
00:16:21,110 --> 00:16:26,509
side<font color="#CCCCCC"> there is a servers only</font><font color="#E5E5E5"> filter when</font>

377
00:16:24,290 --> 00:16:27,829
you think about<font color="#E5E5E5"> the data that you're</font>

378
00:16:26,509 --> 00:16:30,470
<font color="#CCCCCC">getting</font><font color="#E5E5E5"> from your endpoints are</font><font color="#CCCCCC"> gonna</font>

379
00:16:27,829 --> 00:16:31,609
<font color="#CCCCCC">have</font><font color="#E5E5E5"> different categories</font><font color="#CCCCCC"> of systems</font>

380
00:16:30,470 --> 00:16:35,540
<font color="#E5E5E5">you're going to have your clients</font>

381
00:16:31,610 --> 00:16:37,399
potentially laptops desktops servers<font color="#CCCCCC"> and</font>

382
00:16:35,540 --> 00:16:39,139
you'll<font color="#E5E5E5"> probably want a filter of some</font>

383
00:16:37,399 --> 00:16:42,490
kind so that<font color="#E5E5E5"> when you're looking</font><font color="#CCCCCC"> at your</font>

384
00:16:39,139 --> 00:16:44,480
<font color="#CCCCCC">query data</font><font color="#E5E5E5"> you're not just looking at</font>

385
00:16:42,490 --> 00:16:46,490
broad you<font color="#CCCCCC"> know a bunch of different</font>

386
00:16:44,480 --> 00:16:49,610
<font color="#CCCCCC">categories</font><font color="#E5E5E5"> together so this filter</font>

387
00:16:46,490 --> 00:16:52,940
allows us to look<font color="#E5E5E5"> at just the</font><font color="#CCCCCC"> servers</font>

388
00:16:49,610 --> 00:16:57,769
which we see<font color="#CCCCCC"> right here</font><font color="#E5E5E5"> there's also a</font>

389
00:16:52,940 --> 00:17:00,680
<font color="#E5E5E5">not initial queries or systems what this</font>

390
00:16:57,769 --> 00:17:04,429
means is that as you bring new systems

391
00:17:00,680 --> 00:17:06,168
online<font color="#E5E5E5"> or you deploy new queries</font><font color="#CCCCCC"> you</font>

392
00:17:04,429 --> 00:17:08,600
want to make a distinction as an analyst

393
00:17:06,169 --> 00:17:11,059
between the<font color="#E5E5E5"> initial data which we could</font>

394
00:17:08,599 --> 00:17:14,240
<font color="#CCCCCC">call the</font><font color="#E5E5E5"> baseline and then any changes</font>

395
00:17:11,059 --> 00:17:16,668
to<font color="#CCCCCC"> that baseline</font><font color="#E5E5E5"> and so when we use this</font>

396
00:17:14,240 --> 00:17:18,530
filter<font color="#E5E5E5"> that</font><font color="#CCCCCC"> is filtering</font><font color="#E5E5E5"> out</font><font color="#CCCCCC"> all of</font><font color="#E5E5E5"> that</font>

397
00:17:16,669 --> 00:17:22,010
<font color="#E5E5E5">baseline data all</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> data that was</font>

398
00:17:18,530 --> 00:17:26,030
<font color="#E5E5E5">initially sent for the query</font><font color="#CCCCCC"> or the new</font>

399
00:17:22,010 --> 00:17:28,610
system<font color="#E5E5E5"> okay and</font><font color="#CCCCCC"> then</font><font color="#E5E5E5"> let's scroll down</font>

400
00:17:26,030 --> 00:17:32,120
<font color="#E5E5E5">here and we can</font><font color="#CCCCCC"> look at</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> actual raw</font>

401
00:17:28,610 --> 00:17:37,250
logs<font color="#E5E5E5"> we dive into this one actually</font>

402
00:17:32,120 --> 00:17:39,739
let's find a<font color="#E5E5E5"> services one we can look</font><font color="#CCCCCC"> at</font>

403
00:17:37,250 --> 00:17:43,700
the more specific information<font color="#E5E5E5"> about the</font>

404
00:17:39,740 --> 00:17:47,780
<font color="#E5E5E5">service</font><font color="#CCCCCC"> what was the display name what</font>

405
00:17:43,700 --> 00:17:50,330
was<font color="#E5E5E5"> name the path the user</font><font color="#CCCCCC"> account so</font>

406
00:17:47,780 --> 00:17:52,158
within each of<font color="#E5E5E5"> these there</font><font color="#CCCCCC"> is a ton more</font>

407
00:17:50,330 --> 00:17:54,500
information<font color="#CCCCCC"> related to the query that</font>

408
00:17:52,159 --> 00:17:56,419
<font color="#E5E5E5">was run and as you can imagine you could</font>

409
00:17:54,500 --> 00:17:58,730
take a bunch of<font color="#E5E5E5"> these queries and build</font>

410
00:17:56,419 --> 00:18:00,620
specific dashboards off of them so<font color="#CCCCCC"> you</font>

411
00:17:58,730 --> 00:18:02,929
could build a Chrome extension dashboard

412
00:18:00,620 --> 00:18:04,340
<font color="#E5E5E5">which will display different metadata</font>

413
00:18:02,929 --> 00:18:07,130
<font color="#E5E5E5">about the Chrome extensions you have</font>

414
00:18:04,340 --> 00:18:10,428
<font color="#E5E5E5">installed and it gives you a bit more of</font>

415
00:18:07,130 --> 00:18:13,490
a an ability to deep<font color="#CCCCCC"> dive into that type</font>

416
00:18:10,429 --> 00:18:14,600
of data we just pause it real quick<font color="#E5E5E5"> as I</font>

417
00:18:13,490 --> 00:18:16,280
mentioned one of<font color="#E5E5E5"> the things</font><font color="#CCCCCC"> I don't</font>

418
00:18:14,600 --> 00:18:17,360
really<font color="#E5E5E5"> go and do a lot of detail in the</font>

419
00:18:16,280 --> 00:18:20,660
video<font color="#E5E5E5"> is</font>

420
00:18:17,360 --> 00:18:23,928
there is a ton of data<font color="#E5E5E5"> that is in those</font>

421
00:18:20,660 --> 00:18:25,400
raw logs from<font color="#E5E5E5"> OS query and so what I've</font>

422
00:18:23,929 --> 00:18:26,960
done<font color="#CCCCCC"> personally I don't have it shown</font>

423
00:18:25,400 --> 00:18:29,240
here is<font color="#CCCCCC"> that I've built dashboards</font>

424
00:18:26,960 --> 00:18:32,540
around a lot<font color="#E5E5E5"> of different queries that</font>

425
00:18:29,240 --> 00:18:35,840
we run so<font color="#E5E5E5"> Chrome extensions here are the</font>

426
00:18:32,540 --> 00:18:37,490
names here are the users we haven't seen

427
00:18:35,840 --> 00:18:39,470
this<font color="#CCCCCC"> Chrome extension before</font>

428
00:18:37,490 --> 00:18:41,660
here's metadata about<font color="#E5E5E5"> that</font><font color="#CCCCCC"> Chrome</font>

429
00:18:39,470 --> 00:18:43,460
extension what are the permissions<font color="#E5E5E5"> that</font>

430
00:18:41,660 --> 00:18:45,650
that<font color="#E5E5E5"> chrome extension looks for or is</font>

431
00:18:43,460 --> 00:18:47,809
asking for and so right here<font color="#CCCCCC"> you're just</font>

432
00:18:45,650 --> 00:18:49,220
seeing an overview but<font color="#E5E5E5"> really you would</font>

433
00:18:47,809 --> 00:18:50,750
be<font color="#E5E5E5"> looking</font><font color="#CCCCCC"> to build out some</font><font color="#E5E5E5"> more</font>

434
00:18:49,220 --> 00:18:57,860
detailed dashboards to do a bit more

435
00:18:50,750 --> 00:19:00,049
<font color="#CCCCCC">looking</font><font color="#E5E5E5"> into the data</font><font color="#CCCCCC"> next up we see</font>

436
00:18:57,860 --> 00:19:03,649
<font color="#E5E5E5">that there is a live query link here</font>

437
00:19:00,049 --> 00:19:06,559
<font color="#CCCCCC">what</font><font color="#E5E5E5"> this does is if we want to go ahead</font>

438
00:19:03,650 --> 00:19:09,049
<font color="#E5E5E5">we see log here that's interesting we</font>

439
00:19:06,559 --> 00:19:11,960
want to live query the<font color="#E5E5E5"> system you can</font>

440
00:19:09,049 --> 00:19:15,650
click it<font color="#E5E5E5"> and it's going to bring us over</font>

441
00:19:11,960 --> 00:19:17,150
<font color="#E5E5E5">it does it</font><font color="#CCCCCC"> actually goes to a helper PHP</font>

442
00:19:15,650 --> 00:19:19,990
script which does a couple<font color="#E5E5E5"> things</font><font color="#CCCCCC"> and</font>

443
00:19:17,150 --> 00:19:22,070
<font color="#E5E5E5">then directs over to collide fleets and</font>

444
00:19:19,990 --> 00:19:24,500
selects<font color="#E5E5E5"> the system that you want</font><font color="#CCCCCC"> to</font>

445
00:19:22,070 --> 00:19:28,460
<font color="#E5E5E5">query so we see that the system is</font>

446
00:19:24,500 --> 00:19:34,220
<font color="#E5E5E5">online so</font><font color="#CCCCCC"> let's go ahead and</font><font color="#E5E5E5"> query it we</font>

447
00:19:28,460 --> 00:19:38,720
say select<font color="#CCCCCC"> star from say users</font><font color="#E5E5E5"> and hit</font>

448
00:19:34,220 --> 00:19:41,270
run maximize it<font color="#E5E5E5"> and we can see all</font><font color="#CCCCCC"> the</font>

449
00:19:38,720 --> 00:19:46,340
users<font color="#E5E5E5"> we can also do some filtering</font><font color="#CCCCCC"> up</font>

450
00:19:41,270 --> 00:19:49,070
here and look a bit<font color="#CCCCCC"> more into it</font><font color="#E5E5E5"> okay so</font>

451
00:19:46,340 --> 00:19:52,070
that's<font color="#E5E5E5"> the live query pivot and then</font>

452
00:19:49,070 --> 00:19:55,879
also if we<font color="#CCCCCC"> want to pivot to the</font><font color="#E5E5E5"> other</font>

453
00:19:52,070 --> 00:19:58,879
types of<font color="#CCCCCC"> data</font><font color="#E5E5E5"> for this system that that</font>

454
00:19:55,880 --> 00:20:01,370
security onion has we<font color="#CCCCCC"> can click</font><font color="#E5E5E5"> on the</font>

455
00:19:58,880 --> 00:20:05,030
indicator link and that's<font color="#E5E5E5"> just going to</font>

456
00:20:01,370 --> 00:20:07,879
<font color="#E5E5E5">bring us up to the indicator page which</font>

457
00:20:05,030 --> 00:20:10,129
gives<font color="#CCCCCC"> us all the other types of</font><font color="#E5E5E5"> data</font>

458
00:20:07,880 --> 00:20:14,410
<font color="#CCCCCC">that security onion has for this</font>

459
00:20:10,130 --> 00:20:17,240
particular system<font color="#CCCCCC"> okay so that</font><font color="#E5E5E5"> was the</font>

460
00:20:14,410 --> 00:20:19,850
<font color="#E5E5E5">that was the first workflow starting</font>

461
00:20:17,240 --> 00:20:21,610
with OS query data and then looking at

462
00:20:19,850 --> 00:20:23,928
<font color="#CCCCCC">it and pivoting to other types of data</font>

463
00:20:21,610 --> 00:20:25,899
<font color="#E5E5E5">let's go from the opposite direction</font>

464
00:20:23,929 --> 00:20:29,120
<font color="#E5E5E5">let's look at</font>

465
00:20:25,900 --> 00:20:30,400
pivoting our list let's start with like

466
00:20:29,120 --> 00:20:32,500
an is alert

467
00:20:30,400 --> 00:20:35,950
and then that brings you up to<font color="#CCCCCC"> the</font>

468
00:20:32,500 --> 00:20:38,620
indicators page yeah this is what<font color="#E5E5E5"> we</font>

469
00:20:35,950 --> 00:20:40,540
<font color="#E5E5E5">want right here</font><font color="#CCCCCC"> so</font><font color="#E5E5E5"> let's say you have so</font>

470
00:20:38,620 --> 00:20:42,550
my what I'm trying to<font color="#E5E5E5"> show</font><font color="#CCCCCC"> here is that</font>

471
00:20:40,540 --> 00:20:44,230
we<font color="#E5E5E5"> are looking at the</font><font color="#CCCCCC"> other</font><font color="#E5E5E5"> analyst</font>

472
00:20:42,550 --> 00:20:46,810
workflow where I'm looking<font color="#CCCCCC"> at an is</font>

473
00:20:44,230 --> 00:20:49,030
alert<font color="#CCCCCC"> and there's</font><font color="#E5E5E5"> something</font><font color="#CCCCCC"> that I'm</font>

474
00:20:46,810 --> 00:20:52,659
running<font color="#E5E5E5"> down</font><font color="#CCCCCC"> from there and</font><font color="#E5E5E5"> then I pivot</font>

475
00:20:49,030 --> 00:20:54,970
to the<font color="#E5E5E5"> OS query data from there you are</font>

476
00:20:52,660 --> 00:20:58,210
investigating<font color="#E5E5E5"> a mids alerts this brings</font>

477
00:20:54,970 --> 00:21:00,190
you up to the the page for the<font color="#CCCCCC"> Linux</font>

478
00:20:58,210 --> 00:21:02,170
<font color="#E5E5E5">server which is this guy right here and</font>

479
00:21:00,190 --> 00:21:05,470
as you're<font color="#E5E5E5"> scrolling down you can see</font>

480
00:21:02,170 --> 00:21:08,530
<font color="#E5E5E5">that there are</font><font color="#CCCCCC"> query logs that on the</font>

481
00:21:05,470 --> 00:21:12,220
system if you scroll down<font color="#E5E5E5"> all</font><font color="#CCCCCC"> the way</font>

482
00:21:08,530 --> 00:21:15,639
down<font color="#E5E5E5"> there is an OS query</font><font color="#CCCCCC"> section on the</font>

483
00:21:12,220 --> 00:21:18,070
indicators page this gives you the

484
00:21:15,640 --> 00:21:18,580
changes on the system during<font color="#E5E5E5"> this time</font>

485
00:21:18,070 --> 00:21:22,360
period

486
00:21:18,580 --> 00:21:25,120
so users<font color="#CCCCCC"> linux cron jobs listening ports</font>

487
00:21:22,360 --> 00:21:27,370
<font color="#E5E5E5">obviously we can filter for</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> as well</font>

488
00:21:25,120 --> 00:21:30,639
if we<font color="#E5E5E5"> filter for</font><font color="#CCCCCC"> that it's</font><font color="#E5E5E5"> going to give</font>

489
00:21:27,370 --> 00:21:34,419
<font color="#E5E5E5">us the these specific logs we can dive</font>

490
00:21:30,640 --> 00:21:38,350
into the logs from here as well<font color="#E5E5E5"> and then</font>

491
00:21:34,420 --> 00:21:40,240
there's also network connections<font color="#E5E5E5"> for</font>

492
00:21:38,350 --> 00:21:43,629
<font color="#E5E5E5">this particular system we have network</font>

493
00:21:40,240 --> 00:21:48,940
connections from<font color="#E5E5E5"> OS query</font><font color="#CCCCCC"> right</font><font color="#E5E5E5"> now we</font>

494
00:21:43,630 --> 00:21:52,630
see that if we scroll<font color="#E5E5E5"> down we have let's</font>

495
00:21:48,940 --> 00:21:55,840
see there<font color="#E5E5E5"> was a connection outbound to</font>

496
00:21:52,630 --> 00:21:59,440
this IP<font color="#CCCCCC"> address on port 80 from this</font>

497
00:21:55,840 --> 00:22:03,070
binary<font color="#E5E5E5"> from that process okay and this</font>

498
00:21:59,440 --> 00:22:05,530
is done by<font color="#CCCCCC"> a special table for us query</font>

499
00:22:03,070 --> 00:22:06,850
I haven't mentioned<font color="#CCCCCC"> them yet you may</font>

500
00:22:05,530 --> 00:22:10,510
have been<font color="#E5E5E5"> thinking up to this point that</font>

501
00:22:06,850 --> 00:22:12,370
<font color="#CCCCCC">owes query sounds pretty neat but what</font>

502
00:22:10,510 --> 00:22:15,310
<font color="#E5E5E5">about state changes that happen</font><font color="#CCCCCC"> to a</font>

503
00:22:12,370 --> 00:22:18,250
system<font color="#CCCCCC"> in between the time when you do a</font>

504
00:22:15,310 --> 00:22:20,350
query<font color="#E5E5E5"> right so if you're saying</font><font color="#CCCCCC"> let's</font>

505
00:22:18,250 --> 00:22:23,110
say network connections or processes for

506
00:22:20,350 --> 00:22:25,030
network connections if you say you know

507
00:22:23,110 --> 00:22:28,060
<font color="#CCCCCC">a select star from network connections</font>

508
00:22:25,030 --> 00:22:30,370
table every<font color="#E5E5E5"> 30 seconds</font><font color="#CCCCCC"> if there's a</font>

509
00:22:28,060 --> 00:22:32,590
short-lived<font color="#E5E5E5"> network connection</font><font color="#CCCCCC"> which is</font>

510
00:22:30,370 --> 00:22:34,389
<font color="#E5E5E5">very possible within that 30-second time</font>

511
00:22:32,590 --> 00:22:37,030
frame<font color="#E5E5E5"> you're gonna you're</font><font color="#CCCCCC"> not going to</font>

512
00:22:34,390 --> 00:22:40,150
pick<font color="#E5E5E5"> that up</font><font color="#CCCCCC"> right</font><font color="#E5E5E5"> that's where event</font><font color="#CCCCCC"> 2</font>

513
00:22:37,030 --> 00:22:43,480
tables come into play event<font color="#CCCCCC"> and tables</font>

514
00:22:40,150 --> 00:22:45,430
are a special type of<font color="#E5E5E5"> a square table</font>

515
00:22:43,480 --> 00:22:48,010
<font color="#E5E5E5">that allows you to capture all the</font>

516
00:22:45,430 --> 00:22:50,740
events<font color="#E5E5E5"> from a specific</font><font color="#CCCCCC"> system subsystem</font>

517
00:22:48,010 --> 00:22:52,930
<font color="#CCCCCC">on the endpoint so in this case network</font>

518
00:22:50,740 --> 00:22:55,510
connections once we set up<font color="#E5E5E5"> the</font><font color="#CCCCCC"> event to</font>

519
00:22:52,930 --> 00:22:58,060
table<font color="#E5E5E5"> the</font><font color="#CCCCCC"> socket underscore events</font><font color="#E5E5E5"> table</font>

520
00:22:55,510 --> 00:23:00,850
for the<font color="#CCCCCC"> Linux server it's going to</font>

521
00:22:58,060 --> 00:23:02,649
capture<font color="#E5E5E5"> all the different</font><font color="#CCCCCC"> Network events</font>

522
00:23:00,850 --> 00:23:05,169
that are happening on the system and

523
00:23:02,650 --> 00:23:07,060
then<font color="#CCCCCC"> you can</font><font color="#E5E5E5"> query that table</font><font color="#CCCCCC"> just like</font>

524
00:23:05,170 --> 00:23:10,300
any other query which<font color="#CCCCCC"> is what we've done</font>

525
00:23:07,060 --> 00:23:12,990
<font color="#E5E5E5">here</font><font color="#CCCCCC"> and it's going to</font><font color="#E5E5E5"> it's going to</font>

526
00:23:10,300 --> 00:23:16,240
<font color="#E5E5E5">store the network connections in a file</font>

527
00:23:12,990 --> 00:23:19,330
on a database on the system until you

528
00:23:16,240 --> 00:23:21,400
have selected and pulled those records

529
00:23:19,330 --> 00:23:24,600
out and then<font color="#E5E5E5"> eventually they expire off</font>

530
00:23:21,400 --> 00:23:27,790
of the<font color="#CCCCCC"> box ok</font><font color="#E5E5E5"> and so as you can imagine</font>

531
00:23:24,600 --> 00:23:30,879
<font color="#E5E5E5">so</font><font color="#CCCCCC"> evented tables which I just</font><font color="#E5E5E5"> mentioned</font>

532
00:23:27,790 --> 00:23:33,909
are<font color="#CCCCCC"> pretty big</font><font color="#E5E5E5"> for OS query allows you</font>

533
00:23:30,880 --> 00:23:36,250
to capture that<font color="#CCCCCC"> data that otherwise you</font>

534
00:23:33,910 --> 00:23:38,260
<font color="#CCCCCC">would lose in between those queries</font><font color="#E5E5E5"> that</font>

535
00:23:36,250 --> 00:23:40,120
you make<font color="#E5E5E5"> that's how they implement file</font>

536
00:23:38,260 --> 00:23:42,940
integrity monitoring as well<font color="#CCCCCC"> as process</font>

537
00:23:40,120 --> 00:23:46,929
auditing network connections<font color="#E5E5E5"> there's</font>

538
00:23:42,940 --> 00:23:49,810
also<font color="#E5E5E5"> you can ship event log sis logs all</font>

539
00:23:46,930 --> 00:23:51,190
that with OS query so there's quite a

540
00:23:49,810 --> 00:23:53,290
<font color="#CCCCCC">few</font><font color="#E5E5E5"> different I</font><font color="#CCCCCC"> think there's</font><font color="#E5E5E5"> 14</font>

541
00:23:51,190 --> 00:23:56,380
<font color="#CCCCCC">different</font><font color="#E5E5E5"> event tables across the</font>

542
00:23:53,290 --> 00:23:57,850
different platforms<font color="#CCCCCC"> there is quite a bit</font>

543
00:23:56,380 --> 00:23:59,950
of this could generate<font color="#CCCCCC"> a ton</font><font color="#E5E5E5"> of</font>

544
00:23:57,850 --> 00:24:02,110
<font color="#CCCCCC">different logs</font><font color="#E5E5E5"> and so you'd want</font><font color="#CCCCCC"> to be</font>

545
00:23:59,950 --> 00:24:03,370
<font color="#CCCCCC">cautious of how you deployed it but I</font>

546
00:24:02,110 --> 00:24:05,020
wanted to<font color="#E5E5E5"> at</font><font color="#CCCCCC"> least show it</font><font color="#E5E5E5"> to you</font>

547
00:24:03,370 --> 00:24:08,949
<font color="#CCCCCC">because it gives you an idea</font><font color="#E5E5E5"> of how we</font>

548
00:24:05,020 --> 00:24:12,490
can we can<font color="#CCCCCC"> weaken because it gives you</font>

549
00:24:08,950 --> 00:24:16,980
an idea<font color="#E5E5E5"> of how we can tie the processes</font>

550
00:24:12,490 --> 00:24:20,200
to<font color="#CCCCCC"> the network connections</font><font color="#E5E5E5"> together</font><font color="#CCCCCC"> ok</font>

551
00:24:16,980 --> 00:24:22,060
so scroll back up<font color="#E5E5E5"> so that was starting</font>

552
00:24:20,200 --> 00:24:26,340
<font color="#CCCCCC">with other types of data um a scroll</font>

553
00:24:22,060 --> 00:24:29,260
back down<font color="#E5E5E5"> I forgot we do still</font><font color="#CCCCCC"> have that</font>

554
00:24:26,340 --> 00:24:30,760
<font color="#E5E5E5">that live query link so if you're you</font>

555
00:24:29,260 --> 00:24:32,650
want<font color="#E5E5E5"> to go ahead and live query the</font>

556
00:24:30,760 --> 00:24:35,460
<font color="#CCCCCC">system you</font><font color="#E5E5E5"> can click that</font><font color="#CCCCCC"> link and</font><font color="#E5E5E5"> you</font>

557
00:24:32,650 --> 00:24:37,750
<font color="#CCCCCC">can live query this</font><font color="#E5E5E5"> system from there</font><font color="#CCCCCC"> ok</font>

558
00:24:35,460 --> 00:24:39,430
<font color="#E5E5E5">so those</font><font color="#CCCCCC"> are the two</font><font color="#E5E5E5"> different workflows</font>

559
00:24:37,750 --> 00:24:42,040
starting with<font color="#E5E5E5"> us query data and then</font>

560
00:24:39,430 --> 00:24:44,740
starting with other types of data one

561
00:24:42,040 --> 00:24:49,350
last integration<font color="#CCCCCC"> I wanted</font><font color="#E5E5E5"> to show you</font>

562
00:24:44,740 --> 00:24:53,860
and this<font color="#E5E5E5"> is</font><font color="#CCCCCC"> definitely</font><font color="#E5E5E5"> proof of concept</font>

563
00:24:49,350 --> 00:24:55,840
<font color="#CCCCCC">query has</font><font color="#E5E5E5"> a very robust extensions</font>

564
00:24:53,860 --> 00:24:57,199
framework allows you to build extensions

565
00:24:55,840 --> 00:25:00,678
<font color="#CCCCCC">for</font>

566
00:24:57,200 --> 00:25:02,690
now<font color="#CCCCCC"> anything</font><font color="#E5E5E5"> any functionality that</font>

567
00:25:00,679 --> 00:25:05,950
doesn't belong in core should<font color="#E5E5E5"> be</font><font color="#CCCCCC"> an</font>

568
00:25:02,690 --> 00:25:09,770
<font color="#E5E5E5">extension so as we mentioned earlier</font>

569
00:25:05,950 --> 00:25:12,710
<font color="#CCCCCC">yeah functionality that changes the</font>

570
00:25:09,770 --> 00:25:15,049
system<font color="#CCCCCC"> in what some way should not</font><font color="#E5E5E5"> be in</font>

571
00:25:12,710 --> 00:25:16,789
core it should be in an extension<font color="#CCCCCC"> and</font>

572
00:25:15,049 --> 00:25:19,158
there's an extension<font color="#CCCCCC"> and I'm going to</font>

573
00:25:16,789 --> 00:25:21,470
demo<font color="#CCCCCC"> for you it's called</font><font color="#E5E5E5"> it's done by</font>

574
00:25:19,159 --> 00:25:24,110
<font color="#E5E5E5">trail bits it's an</font><font color="#CCCCCC"> open source extension</font>

575
00:25:21,470 --> 00:25:27,590
it's called firewall control allows you

576
00:25:24,110 --> 00:25:29,809
to do insert queries that you can

577
00:25:27,590 --> 00:25:32,090
basically<font color="#E5E5E5"> control the endpoints</font><font color="#CCCCCC"> of</font>

578
00:25:29,809 --> 00:25:36,100
firewall you can insert and delete

579
00:25:32,090 --> 00:25:39,860
modify firewall rules<font color="#E5E5E5"> using the</font><font color="#CCCCCC"> built in</font>

580
00:25:36,100 --> 00:25:43,850
endpoints<font color="#E5E5E5"> firewalls so this works on Mac</font>

581
00:25:39,860 --> 00:25:46,969
OS Linux and<font color="#CCCCCC"> Windows</font><font color="#E5E5E5"> and the extension</font>

582
00:25:43,850 --> 00:25:49,279
uses the native firewall<font color="#CCCCCC"> of the system</font>

583
00:25:46,970 --> 00:25:52,279
<font color="#CCCCCC">alright</font><font color="#E5E5E5"> so let's take a look and see</font>

584
00:25:49,279 --> 00:25:54,559
what this how we could use<font color="#CCCCCC"> this</font><font color="#E5E5E5"> right</font>

585
00:25:52,279 --> 00:25:57,620
now I'm on<font color="#E5E5E5"> the indicator page and I'm</font>

586
00:25:54,559 --> 00:26:02,629
looking at this gmail dot<font color="#E5E5E5"> gobbly gook</font>

587
00:25:57,620 --> 00:26:04,100
rocks<font color="#CCCCCC"> okay let's say that this is a this</font>

588
00:26:02,630 --> 00:26:06,440
<font color="#CCCCCC">is a phishing site that you're</font>

589
00:26:04,100 --> 00:26:08,740
investigating<font color="#CCCCCC"> it's a campaign</font><font color="#E5E5E5"> that's</font>

590
00:26:06,440 --> 00:26:11,779
<font color="#CCCCCC">been targeted</font><font color="#E5E5E5"> it's an active campaign</font>

591
00:26:08,740 --> 00:26:13,960
against your organization<font color="#E5E5E5"> we can</font><font color="#CCCCCC"> see</font>

592
00:26:11,779 --> 00:26:17,270
that we already<font color="#E5E5E5"> have had HTTP traffic</font>

593
00:26:13,960 --> 00:26:22,899
<font color="#E5E5E5">outbound from our systems to this domain</font>

594
00:26:17,270 --> 00:26:26,960
so if we scroll<font color="#E5E5E5"> down and</font><font color="#CCCCCC"> we find the</font>

595
00:26:22,899 --> 00:26:29,029
HTTP<font color="#E5E5E5"> sites visualization here there's a</font>

596
00:26:26,960 --> 00:26:32,720
column here that<font color="#E5E5E5"> says</font><font color="#CCCCCC"> query blacklist</font>

597
00:26:29,029 --> 00:26:36,049
<font color="#E5E5E5">all we can do is click on this and this</font>

598
00:26:32,720 --> 00:26:38,990
<font color="#CCCCCC">just calls a small PHP script which does</font>

599
00:26:36,049 --> 00:26:41,179
a couple<font color="#E5E5E5"> things</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> then</font><font color="#CCCCCC"> runs the query</font>

600
00:26:38,990 --> 00:26:43,549
which<font color="#CCCCCC"> we can see right here we said</font>

601
00:26:41,179 --> 00:26:47,539
insert into<font color="#E5E5E5"> the host blacklist</font><font color="#CCCCCC"> which is</font>

602
00:26:43,549 --> 00:26:52,309
a table<font color="#E5E5E5"> and we're inserting the domain</font>

603
00:26:47,539 --> 00:26:54,799
name<font color="#E5E5E5"> Gmail table</font><font color="#CCCCCC"> gook rocks this is the</font>

604
00:26:52,309 --> 00:26:57,830
host that<font color="#E5E5E5"> it was inserted on and the</font>

605
00:26:54,799 --> 00:27:00,649
insert is complete this this domain<font color="#E5E5E5"> has</font>

606
00:26:57,830 --> 00:27:03,710
<font color="#CCCCCC">been blacklisted now I forgot to</font>

607
00:27:00,649 --> 00:27:05,299
actually<font color="#E5E5E5"> start and they ping this is the</font>

608
00:27:03,710 --> 00:27:09,710
server<font color="#E5E5E5"> that it was just blacklisted on</font>

609
00:27:05,299 --> 00:27:13,010
<font color="#E5E5E5">but you can see that when we try to ping</font>

610
00:27:09,710 --> 00:27:16,540
we actually<font color="#CCCCCC"> get replies back from</font>

611
00:27:13,010 --> 00:27:19,910
<font color="#CCCCCC">localhost</font><font color="#E5E5E5"> this is because in addition to</font>

612
00:27:16,540 --> 00:27:22,220
<font color="#E5E5E5">in addition to</font><font color="#CCCCCC"> blacklisting the IP</font>

613
00:27:19,910 --> 00:27:24,770
address in<font color="#CCCCCC"> the local firewall which is</font>

614
00:27:22,220 --> 00:27:28,940
IP tables for this<font color="#CCCCCC"> linux server it's</font>

615
00:27:24,770 --> 00:27:31,190
also<font color="#E5E5E5"> no routing the domain on the</font><font color="#CCCCCC"> Etsy</font>

616
00:27:28,940 --> 00:27:32,809
host file<font color="#CCCCCC"> okay so you have both the its</font>

617
00:27:31,190 --> 00:27:35,690
the<font color="#E5E5E5"> host file that's being modified and</font>

618
00:27:32,809 --> 00:27:37,820
the native firewall<font color="#E5E5E5"> to the system</font><font color="#CCCCCC"> visit</font>

619
00:27:35,690 --> 00:27:39,890
<font color="#E5E5E5">at this point this would allow us</font><font color="#CCCCCC"> to</font>

620
00:27:37,820 --> 00:27:42,020
make sure<font color="#CCCCCC"> that all of</font><font color="#E5E5E5"> our systems</font>

621
00:27:39,890 --> 00:27:44,270
whether they're on site or they are

622
00:27:42,020 --> 00:27:47,570
remotely working we've been able to

623
00:27:44,270 --> 00:27:49,750
blacklist this phishing site that has an

624
00:27:47,570 --> 00:27:53,809
<font color="#E5E5E5">active campaign against us</font><font color="#CCCCCC"> all right</font>

625
00:27:49,750 --> 00:27:55,130
<font color="#CCCCCC">okay that was the integration and thank</font>

626
00:27:53,809 --> 00:27:58,668
you so<font color="#E5E5E5"> much for putting up</font><font color="#CCCCCC"> with</font><font color="#E5E5E5"> a video</font>

627
00:27:55,130 --> 00:28:01,970
<font color="#CCCCCC">of it unfortunately thanks</font><font color="#E5E5E5"> Chris for</font>

628
00:27:58,669 --> 00:28:03,950
<font color="#CCCCCC">mentioning</font><font color="#E5E5E5"> that I should record it</font><font color="#CCCCCC"> the</font>

629
00:28:01,970 --> 00:28:05,809
demo didn't work out for<font color="#E5E5E5"> you this this</font>

630
00:28:03,950 --> 00:28:07,370
morning<font color="#E5E5E5"> of this afternoon but the video</font>

631
00:28:05,809 --> 00:28:09,379
hopefully showed you a couple<font color="#CCCCCC"> of</font>

632
00:28:07,370 --> 00:28:11,949
<font color="#E5E5E5">different</font><font color="#CCCCCC"> things that you can do the</font>

633
00:28:09,380 --> 00:28:14,299
pivot links specifically between

634
00:28:11,950 --> 00:28:17,809
<font color="#E5E5E5">starting with the OS query data and</font>

635
00:28:14,299 --> 00:28:20,120
pivoting to a live query<font color="#E5E5E5"> there was there</font>

636
00:28:17,809 --> 00:28:23,210
was actually<font color="#CCCCCC"> a situation this is a</font>

637
00:28:20,120 --> 00:28:26,659
couple weeks<font color="#CCCCCC"> ago where we got a network</font>

638
00:28:23,210 --> 00:28:28,460
<font color="#E5E5E5">alert for most likely it was a</font>

639
00:28:26,660 --> 00:28:31,610
particular app that was<font color="#E5E5E5"> installed and</font>

640
00:28:28,460 --> 00:28:33,440
some adware with<font color="#E5E5E5"> it</font><font color="#CCCCCC"> and at this point</font><font color="#E5E5E5"> I</font>

641
00:28:31,610 --> 00:28:35,000
didn't have the pivot<font color="#E5E5E5"> link up and</font>

642
00:28:33,440 --> 00:28:37,280
running<font color="#E5E5E5"> but it would have been so much</font>

643
00:28:35,000 --> 00:28:39,679
<font color="#CCCCCC">easier if</font><font color="#E5E5E5"> I had</font><font color="#CCCCCC"> just been</font><font color="#E5E5E5"> able to be</font><font color="#CCCCCC"> on</font>

644
00:28:37,280 --> 00:28:42,500
the indicators page I<font color="#E5E5E5"> just click on the</font>

645
00:28:39,679 --> 00:28:43,850
<font color="#E5E5E5">pivot link BAM select star from apps or</font>

646
00:28:42,500 --> 00:28:45,710
whatever<font color="#CCCCCC"> it</font><font color="#E5E5E5"> was and I could confirm</font>

647
00:28:43,850 --> 00:28:47,928
right then and there<font color="#E5E5E5"> within 60 seconds</font>

648
00:28:45,710 --> 00:28:50,390
that<font color="#CCCCCC"> there that app was installed on</font><font color="#E5E5E5"> the</font>

649
00:28:47,929 --> 00:28:53,240
<font color="#CCCCCC">machine and that's the goal is trying</font><font color="#E5E5E5"> to</font>

650
00:28:50,390 --> 00:28:54,530
think<font color="#CCCCCC"> through ways as I am working</font>

651
00:28:53,240 --> 00:28:56,630
<font color="#CCCCCC">through the alerts and working with</font><font color="#E5E5E5"> our</font>

652
00:28:54,530 --> 00:28:59,059
team what can<font color="#E5E5E5"> we do to make that</font>

653
00:28:56,630 --> 00:29:01,840
<font color="#E5E5E5">transition smoother between the network</font>

654
00:28:59,059 --> 00:29:06,260
and the host data<font color="#E5E5E5"> does that making sense</font>

655
00:29:01,840 --> 00:29:07,970
<font color="#CCCCCC">alright so now that</font><font color="#E5E5E5"> everybody's asleep</font>

656
00:29:06,260 --> 00:29:10,040
<font color="#E5E5E5">after that video we just</font><font color="#CCCCCC"> have a couple</font>

657
00:29:07,970 --> 00:29:12,860
<font color="#E5E5E5">more minutes</font><font color="#CCCCCC"> there</font><font color="#E5E5E5"> are a couple other</font>

658
00:29:10,040 --> 00:29:16,220
<font color="#E5E5E5">ways that we could integrate OS query so</font>

659
00:29:12,860 --> 00:29:19,100
<font color="#CCCCCC">wazoo which security Nena has recently</font>

660
00:29:16,220 --> 00:29:21,919
integrated<font color="#E5E5E5"> does have support as a</font>

661
00:29:19,100 --> 00:29:22,509
<font color="#E5E5E5">version 3 5 4 OS query I believe that</font>

662
00:29:21,919 --> 00:29:26,079
was<font color="#CCCCCC"> just</font>

663
00:29:22,509 --> 00:29:27,699
a couple<font color="#CCCCCC"> months ago</font><font color="#E5E5E5"> however it's</font><font color="#CCCCCC"> it's in</font>

664
00:29:26,079 --> 00:29:29,979
a<font color="#E5E5E5"> very basic form and it's not clear</font>

665
00:29:27,699 --> 00:29:31,989
<font color="#CCCCCC">exactly how</font><font color="#E5E5E5"> much they're going to</font>

666
00:29:29,979 --> 00:29:34,329
<font color="#CCCCCC">integrate</font><font color="#E5E5E5"> it further</font><font color="#CCCCCC"> I believe they're</font>

667
00:29:31,989 --> 00:29:36,759
gonna try to do that<font color="#CCCCCC"> lot query so that</font>

668
00:29:34,329 --> 00:29:39,309
<font color="#CCCCCC">you can run</font><font color="#E5E5E5"> ad hoc and schedule queries</font>

669
00:29:36,759 --> 00:29:41,559
through wazoo across all<font color="#E5E5E5"> of your hosts</font>

670
00:29:39,309 --> 00:29:43,149
and so that might be<font color="#E5E5E5"> a way to do</font><font color="#CCCCCC"> it</font><font color="#E5E5E5"> but</font>

671
00:29:41,559 --> 00:29:45,099
I<font color="#CCCCCC"> don't think they're going</font><font color="#E5E5E5"> to do based</font>

672
00:29:43,149 --> 00:29:46,268
on<font color="#E5E5E5"> what they were saying in the</font><font color="#CCCCCC"> Google</font>

673
00:29:45,099 --> 00:29:49,359
<font color="#CCCCCC">Group I don't think they're gonna</font><font color="#E5E5E5"> be</font>

674
00:29:46,269 --> 00:29:50,799
doing<font color="#E5E5E5"> the fleet management portion of OS</font>

675
00:29:49,359 --> 00:29:52,839
<font color="#E5E5E5">queries so you would still need some</font>

676
00:29:50,799 --> 00:29:54,039
<font color="#E5E5E5">other</font><font color="#CCCCCC"> way to manage your query fleet</font>

677
00:29:52,839 --> 00:29:57,519
outside of wazoo

678
00:29:54,039 --> 00:30:00,639
there's also bro<font color="#E5E5E5"> now I guess Zeke</font>

679
00:29:57,519 --> 00:30:03,909
<font color="#CCCCCC">OS query</font><font color="#E5E5E5"> currently bro OS query was</font>

680
00:30:00,639 --> 00:30:06,609
released<font color="#E5E5E5"> about six months ago</font><font color="#CCCCCC"> it's it</font>

681
00:30:03,909 --> 00:30:09,669
basically you<font color="#E5E5E5"> write bro scripts to</font>

682
00:30:06,609 --> 00:30:12,339
manage<font color="#CCCCCC"> OS query</font><font color="#E5E5E5"> so it becomes your OS</font>

683
00:30:09,669 --> 00:30:14,349
query fleet manager and and that allows

684
00:30:12,339 --> 00:30:16,658
<font color="#CCCCCC">for an even deeper</font><font color="#E5E5E5"> integration than what</font>

685
00:30:14,349 --> 00:30:18,309
we've seen<font color="#CCCCCC"> here of the network and host</font>

686
00:30:16,659 --> 00:30:20,559
<font color="#E5E5E5">Dana I think</font><font color="#CCCCCC"> that's a very interesting</font>

687
00:30:18,309 --> 00:30:22,959
<font color="#E5E5E5">project to look at considering that</font>

688
00:30:20,559 --> 00:30:26,649
security<font color="#E5E5E5"> on</font><font color="#CCCCCC"> ian has such deep support</font>

689
00:30:22,959 --> 00:30:28,479
<font color="#E5E5E5">and integral support for bro as well so</font>

690
00:30:26,649 --> 00:30:31,718
<font color="#E5E5E5">at this point I think we are done on</font>

691
00:30:28,479 --> 00:30:33,219
just a couple<font color="#CCCCCC"> things</font><font color="#E5E5E5"> to note last last</font>

692
00:30:31,719 --> 00:30:35,859
week<font color="#CCCCCC"> with</font><font color="#E5E5E5"> Chris Sanders and applied</font>

693
00:30:33,219 --> 00:30:37,749
<font color="#E5E5E5">network defense</font><font color="#CCCCCC"> I published a new online</font>

694
00:30:35,859 --> 00:30:39,698
training called<font color="#CCCCCC"> OS query for security</font>

695
00:30:37,749 --> 00:30:43,149
analysis you can check it out at learn

696
00:30:39,699 --> 00:30:44,889
<font color="#CCCCCC">OS query comm on my blog</font><font color="#E5E5E5"> defense of</font>

697
00:30:43,149 --> 00:30:47,228
<font color="#E5E5E5">depth</font><font color="#CCCCCC"> comm there should have been a blog</font>

698
00:30:44,889 --> 00:30:49,119
post that was automatically published<font color="#CCCCCC"> I</font>

699
00:30:47,229 --> 00:30:51,669
think<font color="#CCCCCC"> around this time maybe</font><font color="#E5E5E5"> around 2:00</font>

700
00:30:49,119 --> 00:30:53,559
p.m.<font color="#E5E5E5"> that</font><font color="#CCCCCC"> we'll have details</font><font color="#E5E5E5"> of the</font>

701
00:30:51,669 --> 00:30:55,779
integrations<font color="#E5E5E5"> I posted as well as</font><font color="#CCCCCC"> these</font>

702
00:30:53,559 --> 00:30:58,299
slides<font color="#E5E5E5"> for this talk so</font><font color="#CCCCCC"> if you go to</font>

703
00:30:55,779 --> 00:31:00,759
<font color="#E5E5E5">defensive DEP comm the very first blog</font>

704
00:30:58,299 --> 00:31:02,469
<font color="#CCCCCC">post there will be the slides</font><font color="#E5E5E5"> the</font>

705
00:31:00,759 --> 00:31:04,739
<font color="#CCCCCC">logstash</font><font color="#E5E5E5"> configuration and some of the</font>

706
00:31:02,469 --> 00:31:07,539
other information<font color="#E5E5E5"> that are referenced</font>

707
00:31:04,739 --> 00:31:11,249
<font color="#E5E5E5">that's about it any questions comments</font>

708
00:31:07,539 --> 00:31:11,249
or<font color="#CCCCCC"> snod remarks at this time</font>

709
00:31:15,600 --> 00:31:27,510
I'm okay<font color="#E5E5E5"> with awkward silences it's not</font>

710
00:31:18,240 --> 00:31:30,570
a problem yes yes so I'll be<font color="#E5E5E5"> at besides</font>

711
00:31:27,510 --> 00:31:33,000
<font color="#CCCCCC">tomorrow doing a</font><font color="#E5E5E5"> 20 25 minute</font>

712
00:31:30,570 --> 00:31:36,210
presentation<font color="#E5E5E5"> what we'll be</font><font color="#CCCCCC"> doing will be</font>

713
00:31:33,000 --> 00:31:37,710
doing another<font color="#E5E5E5"> demo but this time it'll</font>

714
00:31:36,210 --> 00:31:40,710
<font color="#CCCCCC">be a shorter demo and</font><font color="#E5E5E5"> it will be</font>

715
00:31:37,710 --> 00:31:43,049
specifically using OS query<font color="#E5E5E5"> to do live</font>

716
00:31:40,710 --> 00:31:45,419
<font color="#E5E5E5">interrogations so we'll do some will be</font>

717
00:31:43,049 --> 00:31:46,889
doing hands-on interactive<font color="#CCCCCC"> OS query</font>

718
00:31:45,419 --> 00:31:48,450
<font color="#CCCCCC">we'll be</font><font color="#E5E5E5"> looking at process</font>

719
00:31:46,890 --> 00:31:50,549
<font color="#E5E5E5">interrogation and how to look</font><font color="#CCCCCC"> for a</font>

720
00:31:48,450 --> 00:31:53,100
piece<font color="#CCCCCC"> of malware on a Windows 10 system</font>

721
00:31:50,549 --> 00:31:54,750
<font color="#E5E5E5">using OS query so that's all I don't</font>

722
00:31:53,100 --> 00:31:59,760
<font color="#E5E5E5">even have</font><font color="#CCCCCC"> a video recorded for that</font><font color="#E5E5E5"> so</font>

723
00:31:54,750 --> 00:32:02,419
<font color="#CCCCCC">hopefully that goes well we'll see</font><font color="#E5E5E5"> all</font>

724
00:31:59,760 --> 00:32:02,419
<font color="#E5E5E5">right</font><font color="#CCCCCC"> yes</font>

725
00:32:15,530 --> 00:32:20,510
yeah I<font color="#CCCCCC"> think I heard maybe par that I'm</font>

726
00:32:17,990 --> 00:32:22,190
sorry<font color="#CCCCCC"> you're asking are</font><font color="#E5E5E5"> you asking about</font>

727
00:32:20,510 --> 00:32:33,440
the performance hit of using something

728
00:32:22,190 --> 00:32:36,130
<font color="#E5E5E5">like this</font><font color="#CCCCCC"> within</font><font color="#E5E5E5"> s oh okay so the way</font>

729
00:32:33,440 --> 00:32:39,500
the the<font color="#E5E5E5"> only integration right now is</font>

730
00:32:36,130 --> 00:32:42,140
<font color="#E5E5E5">I'm pushing the O's query logs from the</font>

731
00:32:39,500 --> 00:32:44,090
<font color="#E5E5E5">fleet server which is in JSON format</font>

732
00:32:42,140 --> 00:32:46,910
<font color="#E5E5E5">already we're just pushing</font><font color="#CCCCCC"> that using</font>

733
00:32:44,090 --> 00:32:49,429
file<font color="#E5E5E5"> beat over to log stash on secure</font>

734
00:32:46,910 --> 00:32:52,340
<font color="#E5E5E5">Union and then from there for the pivot</font>

735
00:32:49,430 --> 00:32:54,050
<font color="#E5E5E5">links there's just a very</font><font color="#CCCCCC"> very short PHP</font>

736
00:32:52,340 --> 00:32:58,040
script that's just using<font color="#CCCCCC"> the variable</font>

737
00:32:54,050 --> 00:33:00,139
for the current the<font color="#E5E5E5"> current search term</font>

738
00:32:58,040 --> 00:33:01,940
that<font color="#CCCCCC"> you have on the indicators page or</font>

739
00:33:00,140 --> 00:33:03,890
whatever<font color="#CCCCCC"> it may be and</font><font color="#E5E5E5"> that's just using</font>

740
00:33:01,940 --> 00:33:05,540
<font color="#CCCCCC">it as a</font><font color="#E5E5E5"> variable within the PHP script</font>

741
00:33:03,890 --> 00:33:06,260
that I wrote<font color="#E5E5E5"> that's hosted on security</font>

742
00:33:05,540 --> 00:33:09,170
<font color="#CCCCCC">onion box</font>

743
00:33:06,260 --> 00:33:11,240
that's redirecting it over to the fleet

744
00:33:09,170 --> 00:33:12,830
server<font color="#E5E5E5"> so there's no permissions there's</font>

745
00:33:11,240 --> 00:33:13,580
not a whole<font color="#CCCCCC"> lot of integration</font><font color="#E5E5E5"> from that</font>

746
00:33:12,830 --> 00:33:16,699
perspective

747
00:33:13,580 --> 00:33:20,210
just some redirects<font color="#E5E5E5"> as well as the</font><font color="#CCCCCC"> logs</font>

748
00:33:16,700 --> 00:33:23,830
being sent over hopefully<font color="#CCCCCC"> that answered</font>

749
00:33:20,210 --> 00:33:23,830
the<font color="#E5E5E5"> question</font><font color="#CCCCCC"> yes</font>

750
00:33:26,080 --> 00:33:32,689
not too much surprisingly<font color="#E5E5E5"> because it's</font>

751
00:33:29,180 --> 00:33:35,030
already<font color="#E5E5E5"> in JSON format</font><font color="#CCCCCC"> we I</font><font color="#E5E5E5"> just had to</font>

752
00:33:32,690 --> 00:33:36,950
do a couple<font color="#CCCCCC"> different things</font><font color="#E5E5E5"> but I'm</font>

753
00:33:35,030 --> 00:33:39,020
using the templates that<font color="#CCCCCC"> they already</font>

754
00:33:36,950 --> 00:33:41,120
have for

755
00:33:39,020 --> 00:33:44,840
so the<font color="#CCCCCC"> logstash template</font><font color="#E5E5E5"> I'm already</font>

756
00:33:41,120 --> 00:33:47,929
using so<font color="#E5E5E5"> I just I added a tag for</font><font color="#CCCCCC"> O's</font>

757
00:33:44,840 --> 00:33:50,689
query and I added<font color="#E5E5E5"> the field event</font>

758
00:33:47,930 --> 00:33:52,670
underscore type host query and then as

759
00:33:50,690 --> 00:33:55,340
so brought in most of most<font color="#E5E5E5"> of the rest</font>

760
00:33:52,670 --> 00:33:57,020
<font color="#E5E5E5">of its no I did not have to do much log</font>

761
00:33:55,340 --> 00:34:00,110
stash magic or anything<font color="#CCCCCC"> like</font><font color="#E5E5E5"> that to</font>

762
00:33:57,020 --> 00:34:03,410
make<font color="#CCCCCC"> it work which was a big</font><font color="#E5E5E5"> deal</font><font color="#CCCCCC"> cuz</font>

763
00:34:00,110 --> 00:34:06,469
<font color="#E5E5E5">that can definitely</font><font color="#CCCCCC"> get complex</font><font color="#E5E5E5"> and that</font>

764
00:34:03,410 --> 00:34:08,480
<font color="#CCCCCC">is log stash config is up on the site</font>

765
00:34:06,470 --> 00:34:14,000
but<font color="#E5E5E5"> again it's only like</font><font color="#CCCCCC"> ten lines it's</font>

766
00:34:08,480 --> 00:34:15,120
<font color="#CCCCCC">not much alright thank</font><font color="#E5E5E5"> you all for your</font>

767
00:34:14,000 --> 00:34:18,739
time appreciate it

768
00:34:15,120 --> 00:34:18,739
[Applause]

