1
00:00:00,000 --> 00:00:05,549
<font color="#E5E5E5">okay I guess we're starting everyone can</font>

2
00:00:02,129 --> 00:00:07,638
hear<font color="#E5E5E5"> me okay hopefully yeah everyone can</font>

3
00:00:05,549 --> 00:00:10,800
<font color="#E5E5E5">see my</font><font color="#CCCCCC"> fabulous outfit okay all right</font>

4
00:00:07,639 --> 00:00:15,980
<font color="#E5E5E5">super</font><font color="#CCCCCC"> I don't have a</font><font color="#E5E5E5"> good first day of</font>

5
00:00:10,800 --> 00:00:18,330
no<font color="#E5E5E5"> Lacan yeah super okay</font><font color="#CCCCCC"> so this talk is</font>

6
00:00:15,980 --> 00:00:21,600
largely about<font color="#E5E5E5"> what happens and what</font>

7
00:00:18,330 --> 00:00:25,470
you're gonna do after<font color="#E5E5E5"> you get shell on a</font>

8
00:00:21,600 --> 00:00:29,099
Mac<font color="#E5E5E5"> end point so this talk is brought to</font>

9
00:00:25,470 --> 00:00:31,439
you by Black Sun hackers<font color="#E5E5E5"> Club in joint</font>

10
00:00:29,099 --> 00:00:32,070
production with proper villains<font color="#E5E5E5"> that</font><font color="#CCCCCC"> is</font>

11
00:00:31,439 --> 00:00:34,340
all the bio

12
00:00:32,070 --> 00:00:37,969
you will get so a little<font color="#E5E5E5"> bit</font><font color="#CCCCCC"> of a</font>

13
00:00:34,340 --> 00:00:40,980
disclaimer is updates and circumstances

14
00:00:37,969 --> 00:00:42,510
so disclaimer one just<font color="#E5E5E5"> because I get</font>

15
00:00:40,980 --> 00:00:44,370
asked like over and over<font color="#CCCCCC"> and over and</font>

16
00:00:42,510 --> 00:00:46,199
<font color="#CCCCCC">over about</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> me pistol thing and the</font>

17
00:00:44,370 --> 00:00:49,379
moist<font color="#CCCCCC"> petal thing I'm just</font><font color="#E5E5E5"> going to like</font>

18
00:00:46,200 --> 00:00:51,809
take a quick second to to kind of like

19
00:00:49,379 --> 00:00:55,710
set<font color="#CCCCCC"> the ground here this talks not gonna</font>

20
00:00:51,809 --> 00:01:00,480
be about<font color="#E5E5E5"> that</font><font color="#CCCCCC"> obviously</font><font color="#E5E5E5"> it's probably</font>

21
00:00:55,710 --> 00:01:03,359
<font color="#E5E5E5">not gonna get</font><font color="#CCCCCC"> open-source so sorry</font><font color="#E5E5E5"> yeah</font>

22
00:01:00,480 --> 00:01:06,539
it's it's a bummer<font color="#E5E5E5"> um like when all that</font>

23
00:01:03,359 --> 00:01:08,570
stuff<font color="#E5E5E5"> happened</font><font color="#CCCCCC"> I was sort of like fired</font>

24
00:01:06,540 --> 00:01:10,979
and then not fired and then in

25
00:01:08,570 --> 00:01:13,439
negotiations with<font color="#E5E5E5"> lawyers</font><font color="#CCCCCC"> and stuff and</font>

26
00:01:10,979 --> 00:01:15,420
they basically<font color="#E5E5E5"> wanted me they wanted to</font>

27
00:01:13,439 --> 00:01:17,548
give<font color="#E5E5E5"> me like over</font><font color="#CCCCCC"> a hundred grand for</font>

28
00:01:15,420 --> 00:01:20,640
<font color="#E5E5E5">like hush money and I sort of turned my</font>

29
00:01:17,549 --> 00:01:22,140
back<font color="#E5E5E5"> on that</font><font color="#CCCCCC"> trying to</font><font color="#E5E5E5"> get the tool open</font>

30
00:01:20,640 --> 00:01:23,520
<font color="#E5E5E5">source and like being like we should</font>

31
00:01:22,140 --> 00:01:26,250
really<font color="#CCCCCC"> open source it this is gonna be</font>

32
00:01:23,520 --> 00:01:28,350
bad<font color="#CCCCCC"> but</font><font color="#E5E5E5"> like once things get buried in</font>

33
00:01:26,250 --> 00:01:30,840
legal processes<font color="#E5E5E5"> they don't really like</font>

34
00:01:28,350 --> 00:01:34,500
ever come out so my ability<font color="#CCCCCC"> to</font><font color="#E5E5E5"> actually</font>

35
00:01:30,840 --> 00:01:36,420
<font color="#CCCCCC">open source</font><font color="#E5E5E5"> it is is not really any now</font>

36
00:01:34,500 --> 00:01:37,920
because if I do anything I'm pretty sure

37
00:01:36,420 --> 00:01:40,500
that<font color="#E5E5E5"> I will have a full force of a</font>

38
00:01:37,920 --> 00:01:44,549
terrible thing has happened<font color="#E5E5E5"> to me that</font>

39
00:01:40,500 --> 00:01:45,899
said there is work on an on a new tool<font color="#E5E5E5"> I</font>

40
00:01:44,549 --> 00:01:48,630
know some<font color="#CCCCCC"> of you have</font><font color="#E5E5E5"> watched</font><font color="#CCCCCC"> it like</font>

41
00:01:45,899 --> 00:01:50,729
moist petal repo<font color="#CCCCCC"> there is work being</font>

42
00:01:48,630 --> 00:01:53,009
<font color="#CCCCCC">done that will get</font><font color="#E5E5E5"> updated there is</font>

43
00:01:50,729 --> 00:01:54,298
something<font color="#E5E5E5"> happening but it's it's gonna</font>

44
00:01:53,009 --> 00:01:57,540
be<font color="#CCCCCC"> sometime I think</font><font color="#E5E5E5"> so</font>

45
00:01:54,299 --> 00:01:59,100
um that said about<font color="#CCCCCC"> my like previous</font>

46
00:01:57,540 --> 00:02:02,189
<font color="#E5E5E5">employer you</font><font color="#CCCCCC"> know they're</font><font color="#E5E5E5"> not</font><font color="#CCCCCC"> that bad</font>

47
00:01:59,100 --> 00:02:03,960
like<font color="#E5E5E5"> people</font><font color="#CCCCCC"> make mistakes I know</font>

48
00:02:02,189 --> 00:02:06,000
everyone<font color="#E5E5E5"> loves to hate</font><font color="#CCCCCC"> on</font><font color="#E5E5E5"> hate on them</font>

49
00:02:03,960 --> 00:02:07,860
but<font color="#E5E5E5"> like so like a lot of the stuff I'm</font>

50
00:02:06,000 --> 00:02:10,050
talking<font color="#CCCCCC"> about like I learned like</font><font color="#E5E5E5"> being</font>

51
00:02:07,860 --> 00:02:12,440
on an<font color="#CCCCCC"> awesome</font><font color="#E5E5E5"> red team there right so</font>

52
00:02:10,050 --> 00:02:14,270
like this

53
00:02:12,440 --> 00:02:16,520
<font color="#E5E5E5">fools appetite for getting owned really</font>

54
00:02:14,270 --> 00:02:18,440
hard and<font color="#CCCCCC"> having like an awesome red team</font>

55
00:02:16,520 --> 00:02:21,320
pushing their in<font color="#E5E5E5"> all the time is</font>

56
00:02:18,440 --> 00:02:23,180
maybe it runs<font color="#E5E5E5"> out after time</font><font color="#CCCCCC"> but good</font>

57
00:02:21,320 --> 00:02:26,950
<font color="#E5E5E5">news is I did get a new job</font><font color="#CCCCCC"> thank you</font>

58
00:02:23,180 --> 00:02:29,090
for asking<font color="#E5E5E5"> I am</font><font color="#CCCCCC"> over at</font><font color="#E5E5E5"> oath now</font>

59
00:02:26,950 --> 00:02:30,859
<font color="#E5E5E5">directing the offensive security program</font>

60
00:02:29,090 --> 00:02:33,680
<font color="#E5E5E5">they're building out a red team</font><font color="#CCCCCC"> I am</font>

61
00:02:30,860 --> 00:02:36,830
<font color="#CCCCCC">here in no way representing them at all</font>

62
00:02:33,680 --> 00:02:38,990
this talk<font color="#E5E5E5"> is way before I even took the</font>

63
00:02:36,830 --> 00:02:42,980
job there<font color="#E5E5E5"> nothing I say here reflects</font>

64
00:02:38,990 --> 00:02:45,740
their views<font color="#CCCCCC"> or opinions etc etc</font><font color="#E5E5E5"> this is</font>

65
00:02:42,980 --> 00:02:49,880
<font color="#E5E5E5">just fuzzy not Josh dances on stage and</font>

66
00:02:45,740 --> 00:02:51,260
talks<font color="#E5E5E5"> about max up also some good news</font>

67
00:02:49,880 --> 00:02:52,730
and<font color="#E5E5E5"> some bad news some</font><font color="#CCCCCC"> unfortunate</font>

68
00:02:51,260 --> 00:02:54,649
<font color="#CCCCCC">circumstances</font><font color="#E5E5E5"> I was supposed to have</font><font color="#CCCCCC"> a</font>

69
00:02:52,730 --> 00:02:57,410
co-presenter here today<font color="#E5E5E5"> he had a family</font>

70
00:02:54,650 --> 00:02:59,570
emergency<font color="#E5E5E5"> and I wasn't even able to get</font>

71
00:02:57,410 --> 00:03:02,570
<font color="#CCCCCC">ahold</font><font color="#E5E5E5"> of him for for a few days but um</font>

72
00:02:59,570 --> 00:03:06,170
good news is he did most<font color="#E5E5E5"> of the research</font>

73
00:03:02,570 --> 00:03:09,290
for<font color="#E5E5E5"> this like months ago</font><font color="#CCCCCC"> so we have all</font>

74
00:03:06,170 --> 00:03:15,649
that stuff I<font color="#E5E5E5"> think the the flood is</font>

75
00:03:09,290 --> 00:03:18,350
coming<font color="#CCCCCC"> with it via is it just is</font><font color="#E5E5E5"> it the</font>

76
00:03:15,650 --> 00:03:25,459
end<font color="#E5E5E5"> of days or okay well we better make</font>

77
00:03:18,350 --> 00:03:28,850
this count okay so I<font color="#E5E5E5"> will try my</font><font color="#CCCCCC"> best</font><font color="#E5E5E5"> to</font>

78
00:03:25,459 --> 00:03:31,130
<font color="#CCCCCC">UM to present the research as as</font><font color="#E5E5E5"> good as</font>

79
00:03:28,850 --> 00:03:32,840
possible<font color="#E5E5E5"> and I think</font><font color="#CCCCCC"> because he's not</font>

80
00:03:31,130 --> 00:03:34,880
<font color="#CCCCCC">here I'll</font><font color="#E5E5E5"> probably just tell more</font>

81
00:03:32,840 --> 00:03:36,730
stories about<font color="#E5E5E5"> myself because</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> get to do</font>

82
00:03:34,880 --> 00:03:40,390
that<font color="#E5E5E5"> because it's just me here now I</font>

83
00:03:36,730 --> 00:03:43,850
[Music]

84
00:03:40,390 --> 00:03:45,799
like<font color="#E5E5E5"> to</font><font color="#CCCCCC"> new ok</font><font color="#E5E5E5"> so here's here's a bit</font><font color="#CCCCCC"> of</font>

85
00:03:43,850 --> 00:03:47,870
the<font color="#E5E5E5"> agenda we're like man you got shell</font>

86
00:03:45,800 --> 00:03:50,030
on<font color="#E5E5E5"> Mac talk about how we get to this</font>

87
00:03:47,870 --> 00:03:51,739
point<font color="#E5E5E5"> or how this even happened kind of</font>

88
00:03:50,030 --> 00:03:53,120
like what you're gonna do when you're

89
00:03:51,739 --> 00:03:54,980
like man I should start<font color="#CCCCCC"> stealing some</font>

90
00:03:53,120 --> 00:03:56,450
things<font color="#E5E5E5"> ways you might have some</font>

91
00:03:54,980 --> 00:03:58,310
persistence and keeping<font color="#E5E5E5"> that ways you</font>

92
00:03:56,450 --> 00:04:01,220
can get root things you can do with<font color="#CCCCCC"> root</font>

93
00:03:58,310 --> 00:04:05,060
and then if we have time<font color="#CCCCCC"> I will show you</font>

94
00:04:01,220 --> 00:04:06,230
a<font color="#E5E5E5"> really easy to</font><font color="#CCCCCC"> have a bypass</font><font color="#E5E5E5"> so how</font>

95
00:04:05,060 --> 00:04:08,269
did I<font color="#E5E5E5"> get here</font>

96
00:04:06,230 --> 00:04:13,220
it's a pretty straight I mean really

97
00:04:08,269 --> 00:04:15,260
like how did I get here<font color="#CCCCCC"> a long</font><font color="#E5E5E5"> time ago</font>

98
00:04:13,220 --> 00:04:17,570
I<font color="#CCCCCC"> was I was working at an incident</font>

99
00:04:15,260 --> 00:04:19,519
<font color="#E5E5E5">response company and they were largely</font>

100
00:04:17,570 --> 00:04:21,380
regarded as I think<font color="#CCCCCC"> the best</font><font color="#E5E5E5"> I our</font>

101
00:04:19,519 --> 00:04:23,320
company and call them when<font color="#E5E5E5"> your stuff</font>

102
00:04:21,380 --> 00:04:25,550
<font color="#E5E5E5">was getting messed up by China or so and</font>

103
00:04:23,320 --> 00:04:26,210
so they had a lot of<font color="#E5E5E5"> customers and</font><font color="#CCCCCC"> then</font>

104
00:04:25,550 --> 00:04:27,680
I worked in<font color="#E5E5E5"> this</font>

105
00:04:26,210 --> 00:04:29,630
<font color="#E5E5E5">small office out on</font><font color="#CCCCCC"> it's out in San</font>

106
00:04:27,680 --> 00:04:31,100
Francisco and we started<font color="#E5E5E5"> getting</font><font color="#CCCCCC"> some of</font>

107
00:04:29,630 --> 00:04:33,229
the customers there and they would want

108
00:04:31,100 --> 00:04:34,849
pen<font color="#E5E5E5"> test because you know everyone sort</font>

109
00:04:33,229 --> 00:04:36,650
<font color="#E5E5E5">of makes the</font><font color="#CCCCCC"> mistake that like</font><font color="#E5E5E5"> if you're</font>

110
00:04:34,849 --> 00:04:38,300
good at<font color="#CCCCCC"> something you</font><font color="#E5E5E5"> must be good at</font>

111
00:04:36,650 --> 00:04:39,888
<font color="#CCCCCC">everything right so because they were</font>

112
00:04:38,300 --> 00:04:41,090
<font color="#E5E5E5">good at IR people were starting to</font><font color="#CCCCCC"> buy</font>

113
00:04:39,889 --> 00:04:44,000
pen<font color="#CCCCCC"> tests</font><font color="#E5E5E5"> from them which isn't make</font>

114
00:04:41,090 --> 00:04:45,770
sense<font color="#CCCCCC"> I started to get some</font><font color="#E5E5E5"> of these pen</font>

115
00:04:44,000 --> 00:04:47,750
test jobs assigned to me because I was

116
00:04:45,770 --> 00:04:51,770
good at CTF I guess and they were like

117
00:04:47,750 --> 00:04:54,259
you you can do<font color="#E5E5E5"> it so the very first one</font>

118
00:04:51,770 --> 00:04:56,840
I<font color="#E5E5E5"> ever did I go on site and it's this</font>

119
00:04:54,259 --> 00:04:58,669
like<font color="#E5E5E5"> biotech startup and they like</font>

120
00:04:56,840 --> 00:05:00,830
sequence DNA or<font color="#CCCCCC"> something like</font><font color="#E5E5E5"> that and</font>

121
00:04:58,669 --> 00:05:03,770
I'm supposed to<font color="#E5E5E5"> show up on site I'm</font>

122
00:05:00,830 --> 00:05:06,130
supposed to<font color="#E5E5E5"> do a Wi-Fi scan and a you</font>

123
00:05:03,770 --> 00:05:10,250
know like a network<font color="#E5E5E5"> scan so I'm like</font>

124
00:05:06,130 --> 00:05:11,990
okay<font color="#CCCCCC"> I show up I think I like download</font>

125
00:05:10,250 --> 00:05:14,750
<font color="#CCCCCC">Nessus now I'm there and</font><font color="#E5E5E5"> I'm like</font>

126
00:05:11,990 --> 00:05:17,150
starting<font color="#E5E5E5"> some scans and I'm thinking</font>

127
00:05:14,750 --> 00:05:20,030
like<font color="#E5E5E5"> what what am I even doing</font><font color="#CCCCCC"> here and</font>

128
00:05:17,150 --> 00:05:21,650
<font color="#E5E5E5">also thinking like Wi-Fi scan like what</font>

129
00:05:20,030 --> 00:05:23,539
do they<font color="#CCCCCC"> even mean by that like am i</font>

130
00:05:21,650 --> 00:05:25,580
scanning for Wi-Fi networks<font color="#CCCCCC"> am I</font>

131
00:05:23,539 --> 00:05:27,860
supposed to scan what it's available<font color="#E5E5E5"> in</font>

132
00:05:25,580 --> 00:05:29,930
the internal Wi-Fi<font color="#CCCCCC"> and I'm like</font><font color="#E5E5E5"> I did</font>

133
00:05:27,860 --> 00:05:31,539
<font color="#E5E5E5">that it's been about 15 minutes like</font>

134
00:05:29,930 --> 00:05:34,639
maybe I should go talk to the<font color="#CCCCCC"> seaso here</font>

135
00:05:31,539 --> 00:05:37,009
so I go talk to this<font color="#CCCCCC"> he's so super cool</font>

136
00:05:34,639 --> 00:05:38,630
guy<font color="#E5E5E5"> he's really excited to tell me about</font>

137
00:05:37,009 --> 00:05:41,090
<font color="#E5E5E5">how awesome security stuff</font><font color="#CCCCCC"> it's really</font>

138
00:05:38,630 --> 00:05:42,380
<font color="#E5E5E5">proud of it and we get to the point</font>

139
00:05:41,090 --> 00:05:46,130
<font color="#E5E5E5">where</font><font color="#CCCCCC"> like we're talking back and</font><font color="#E5E5E5"> forth</font>

140
00:05:42,380 --> 00:05:47,750
<font color="#E5E5E5">and I asked him like</font><font color="#CCCCCC"> oh like</font><font color="#E5E5E5"> do you do</font>

141
00:05:46,130 --> 00:05:49,250
internal scanning and he's like yes<font color="#E5E5E5"> we</font>

142
00:05:47,750 --> 00:05:51,650
do credentialed<font color="#CCCCCC"> necess scanning like</font>

143
00:05:49,250 --> 00:05:53,599
<font color="#CCCCCC">everyday on internal and external</font><font color="#E5E5E5"> and</font>

144
00:05:51,650 --> 00:05:56,299
then like<font color="#CCCCCC"> probably being</font><font color="#E5E5E5"> like the worst</font>

145
00:05:53,599 --> 00:05:58,250
consultant on site ever<font color="#E5E5E5"> I'm like why did</font>

146
00:05:56,300 --> 00:06:01,880
<font color="#E5E5E5">you even pay for me to come here and do</font>

147
00:05:58,250 --> 00:06:03,560
this<font color="#E5E5E5"> and and he's like</font><font color="#CCCCCC"> mmm</font>

148
00:06:01,880 --> 00:06:06,710
they<font color="#CCCCCC"> just sold me some</font><font color="#E5E5E5"> stuff and we</font>

149
00:06:03,560 --> 00:06:09,050
bought<font color="#CCCCCC"> it and so I was</font><font color="#E5E5E5"> like that sucks</font>

150
00:06:06,710 --> 00:06:10,250
<font color="#CCCCCC">like</font><font color="#E5E5E5"> I don't</font><font color="#CCCCCC"> think I'm gonna find</font>

151
00:06:09,050 --> 00:06:13,190
<font color="#CCCCCC">anything that you don't</font><font color="#E5E5E5"> already know</font>

152
00:06:10,250 --> 00:06:14,659
about<font color="#E5E5E5"> so we start</font><font color="#CCCCCC"> talking</font><font color="#E5E5E5"> more and he's</font>

153
00:06:13,190 --> 00:06:16,909
like he starts complaining<font color="#E5E5E5"> about like</font>

154
00:06:14,659 --> 00:06:18,830
there's MongoDB s and these guys do this

155
00:06:16,909 --> 00:06:21,229
other<font color="#E5E5E5"> stuff</font><font color="#CCCCCC"> and I'm like</font><font color="#E5E5E5"> hey why</font><font color="#CCCCCC"> don't</font>

156
00:06:18,830 --> 00:06:22,820
<font color="#CCCCCC">we open up the scope</font><font color="#E5E5E5"> like let's change</font>

157
00:06:21,229 --> 00:06:24,380
the scope<font color="#E5E5E5"> I mean you're the one who</font>

158
00:06:22,820 --> 00:06:26,360
bought it like you can approve<font color="#E5E5E5"> that</font>

159
00:06:24,380 --> 00:06:28,009
let's change<font color="#E5E5E5"> the scope and like let me</font>

160
00:06:26,360 --> 00:06:29,539
do social engineering like let me fish

161
00:06:28,009 --> 00:06:31,880
people I mean let me try<font color="#E5E5E5"> and get to this</font>

162
00:06:29,539 --> 00:06:33,860
stuff that<font color="#E5E5E5"> you actually care</font><font color="#CCCCCC"> about</font><font color="#E5E5E5"> and</font>

163
00:06:31,880 --> 00:06:36,050
he's like yeah<font color="#E5E5E5"> cool do it I mean he's</font>

164
00:06:33,860 --> 00:06:37,699
like<font color="#E5E5E5"> but you know we have we have to</font><font color="#CCCCCC"> FA</font>

165
00:06:36,050 --> 00:06:38,930
on stuff so<font color="#CCCCCC"> you like</font><font color="#E5E5E5"> probably won't be</font>

166
00:06:37,699 --> 00:06:39,800
<font color="#E5E5E5">able to get into anything so I'm like</font>

167
00:06:38,930 --> 00:06:42,740
<font color="#E5E5E5">okay</font>

168
00:06:39,800 --> 00:06:44,629
cool it's on<font color="#CCCCCC"> setup a</font><font color="#E5E5E5"> phishing page pick</font>

169
00:06:42,740 --> 00:06:48,949
a few targets<font color="#E5E5E5"> fish them I get their</font>

170
00:06:44,629 --> 00:06:50,720
creds<font color="#CCCCCC"> I go to login</font><font color="#E5E5E5"> as he said to FA it</font>

171
00:06:48,949 --> 00:06:54,259
sends them<font color="#E5E5E5"> it sends this sends</font><font color="#CCCCCC"> this</font>

172
00:06:50,720 --> 00:06:55,490
sweet<font color="#CCCCCC"> old lady a an SMS to her phone and</font>

173
00:06:54,259 --> 00:06:58,129
back then it<font color="#CCCCCC"> wasn't like super</font><font color="#E5E5E5"> clear</font>

174
00:06:55,490 --> 00:06:59,180
<font color="#CCCCCC">just</font><font color="#E5E5E5"> feel like SMS with some numbers I'm</font>

175
00:06:58,129 --> 00:07:02,449
like crap<font color="#CCCCCC"> okay</font>

176
00:06:59,180 --> 00:07:04,520
well I<font color="#E5E5E5"> guess I'll</font><font color="#CCCCCC"> just</font><font color="#E5E5E5"> keep doing that</font>

177
00:07:02,449 --> 00:07:07,250
just keep<font color="#E5E5E5"> logging in like once per hour</font>

178
00:07:04,520 --> 00:07:09,409
<font color="#E5E5E5">for the remainder of the day and then</font>

179
00:07:07,250 --> 00:07:10,849
towards the<font color="#E5E5E5"> end</font><font color="#CCCCCC"> of the day</font><font color="#E5E5E5"> give her a</font>

180
00:07:09,409 --> 00:07:13,669
call<font color="#CCCCCC"> all right</font>

181
00:07:10,849 --> 00:07:16,219
hey this is Andrew from Google

182
00:07:13,669 --> 00:07:17,750
authentication<font color="#E5E5E5"> response services have</font>

183
00:07:16,219 --> 00:07:20,960
you noticed anything strange happening

184
00:07:17,750 --> 00:07:21,860
today<font color="#E5E5E5"> she of course is like yeah I'm</font>

185
00:07:20,960 --> 00:07:23,840
like<font color="#E5E5E5"> getting all these</font><font color="#CCCCCC"> weird messages</font>

186
00:07:21,860 --> 00:07:26,870
<font color="#E5E5E5">like ah yeah that's a problem</font><font color="#CCCCCC"> we have</font>

187
00:07:23,840 --> 00:07:30,068
<font color="#CCCCCC">right now</font><font color="#E5E5E5"> your cryptographic the</font>

188
00:07:26,870 --> 00:07:32,810
synchronization token is out<font color="#E5E5E5"> of sync and</font>

189
00:07:30,069 --> 00:07:34,580
I can sync it there's gonna be a<font color="#E5E5E5"> long</font>

190
00:07:32,810 --> 00:07:35,990
<font color="#E5E5E5">term</font><font color="#CCCCCC"> fix but I'm smart I'm part of a</font>

191
00:07:34,580 --> 00:07:38,270
special task<font color="#E5E5E5"> force that's going around</font>

192
00:07:35,990 --> 00:07:40,520
<font color="#E5E5E5">and and responding</font><font color="#CCCCCC"> to this and I can fix</font>

193
00:07:38,270 --> 00:07:41,780
<font color="#E5E5E5">it for you today if if you want and then</font>

194
00:07:40,520 --> 00:07:44,120
<font color="#CCCCCC">you</font><font color="#E5E5E5"> won't</font><font color="#CCCCCC"> get any</font><font color="#E5E5E5"> more</font><font color="#CCCCCC"> of these</font><font color="#E5E5E5"> messages</font>

195
00:07:41,780 --> 00:07:45,679
and<font color="#CCCCCC"> you like oh yeah okay</font>

196
00:07:44,120 --> 00:07:47,360
<font color="#CCCCCC">I</font><font color="#E5E5E5"> make sure so I'm just gonna have</font><font color="#CCCCCC"> to</font>

197
00:07:45,680 --> 00:07:49,819
send<font color="#E5E5E5"> you</font><font color="#CCCCCC"> a reset code and you're just</font>

198
00:07:47,360 --> 00:07:50,060
<font color="#E5E5E5">gonna tell</font><font color="#CCCCCC"> me that</font><font color="#E5E5E5"> code back okay</font><font color="#CCCCCC"> login</font>

199
00:07:49,819 --> 00:07:51,590
again

200
00:07:50,060 --> 00:07:53,319
code she tells me the code and<font color="#CCCCCC"> I've</font>

201
00:07:51,590 --> 00:07:55,669
logged in and<font color="#E5E5E5"> then once</font><font color="#CCCCCC"> you're logged in</font>

202
00:07:53,319 --> 00:07:58,130
of course it's like<font color="#E5E5E5"> flat network and you</font>

203
00:07:55,669 --> 00:08:01,068
<font color="#E5E5E5">can just run train on it I was able to</font>

204
00:07:58,130 --> 00:08:03,710
get<font color="#E5E5E5"> to all those things so from that</font>

205
00:08:01,069 --> 00:08:05,830
from that<font color="#CCCCCC"> moment I was pretty much</font>

206
00:08:03,710 --> 00:08:07,489
addicted<font color="#E5E5E5"> to like the</font><font color="#CCCCCC"> yoloz scope</font>

207
00:08:05,830 --> 00:08:09,169
mentality where I was<font color="#E5E5E5"> like the like</font>

208
00:08:07,490 --> 00:08:10,639
there's no way I can<font color="#CCCCCC"> go back to just</font>

209
00:08:09,169 --> 00:08:13,580
going<font color="#E5E5E5"> to doing scanning and stuff like</font>

210
00:08:10,639 --> 00:08:15,259
that<font color="#E5E5E5"> so as that was like my job getting</font>

211
00:08:13,580 --> 00:08:17,180
sent off<font color="#CCCCCC"> to do that stuff I didn't stay</font>

212
00:08:15,259 --> 00:08:19,610
at<font color="#E5E5E5"> the company</font><font color="#CCCCCC"> very much longer</font><font color="#E5E5E5"> and then</font>

213
00:08:17,180 --> 00:08:21,550
I went<font color="#E5E5E5"> off to</font><font color="#CCCCCC"> uh</font><font color="#E5E5E5"> the next journey</font><font color="#CCCCCC"> which</font>

214
00:08:19,610 --> 00:08:24,050
ended spectacularly as you all remember

215
00:08:21,550 --> 00:08:25,729
but it but<font color="#E5E5E5"> it was a great ride the next</font>

216
00:08:24,050 --> 00:08:27,800
journey was just<font color="#CCCCCC"> like Red Team stuff and</font>

217
00:08:25,729 --> 00:08:30,289
now that<font color="#E5E5E5"> that startup</font><font color="#CCCCCC"> that I was pen</font>

218
00:08:27,800 --> 00:08:31,819
testing was like probably<font color="#E5E5E5"> like</font><font color="#CCCCCC"> 80%</font><font color="#E5E5E5"> Mac</font>

219
00:08:30,289 --> 00:08:33,348
<font color="#CCCCCC">endpoints and</font><font color="#E5E5E5"> the rest is like Linux</font>

220
00:08:31,819 --> 00:08:35,180
stuff maybe there<font color="#E5E5E5"> was</font><font color="#CCCCCC"> one like one or</font>

221
00:08:33,349 --> 00:08:37,010
few<font color="#E5E5E5"> Windows boxes and then the next</font>

222
00:08:35,179 --> 00:08:40,098
thing like you<font color="#CCCCCC"> know a company</font><font color="#E5E5E5"> that shall</font>

223
00:08:37,010 --> 00:08:42,740
not be named also like tons and tons and

224
00:08:40,099 --> 00:08:45,380
<font color="#CCCCCC">tons of Mac's everywhere so first day on</font>

225
00:08:42,740 --> 00:08:49,430
the job<font color="#E5E5E5"> they're like go get shell go</font>

226
00:08:45,380 --> 00:08:51,860
hack prod go do something<font color="#E5E5E5"> okay so write</font>

227
00:08:49,430 --> 00:08:53,109
some malware<font color="#E5E5E5"> start fishing people and</font>

228
00:08:51,860 --> 00:08:56,110
I'm<font color="#E5E5E5"> winding up with</font><font color="#CCCCCC"> a shell</font>

229
00:08:53,110 --> 00:08:59,020
max again<font color="#CCCCCC"> and I'm like I don't really</font>

230
00:08:56,110 --> 00:09:02,080
<font color="#E5E5E5">know what I'm doing here so time to</font>

231
00:08:59,020 --> 00:09:04,780
figure<font color="#E5E5E5"> it out so like</font><font color="#CCCCCC"> probably better</font>

232
00:09:02,080 --> 00:09:08,170
steal something I guess<font color="#E5E5E5"> so let's talk</font>

233
00:09:04,780 --> 00:09:10,000
<font color="#E5E5E5">about</font><font color="#CCCCCC"> how some post exploitation 101</font>

234
00:09:08,170 --> 00:09:11,949
<font color="#E5E5E5">right</font><font color="#CCCCCC"> of course like there's</font><font color="#E5E5E5"> lots of</font>

235
00:09:10,000 --> 00:09:13,750
good post exploitation cheat sheets<font color="#E5E5E5"> out</font>

236
00:09:11,950 --> 00:09:16,090
there you can do all<font color="#E5E5E5"> that</font><font color="#CCCCCC"> stuff I mean</font>

237
00:09:13,750 --> 00:09:19,540
there's lots of things<font color="#CCCCCC"> you can</font><font color="#E5E5E5"> look for</font>

238
00:09:16,090 --> 00:09:20,770
<font color="#E5E5E5">here's just a quick view of the things</font>

239
00:09:19,540 --> 00:09:22,150
that like right when I get<font color="#E5E5E5"> on the</font><font color="#CCCCCC"> Box</font>

240
00:09:20,770 --> 00:09:24,730
I'm like<font color="#E5E5E5"> okay this is what I should</font><font color="#CCCCCC"> look</font>

241
00:09:22,150 --> 00:09:26,500
for<font color="#E5E5E5"> first - history</font><font color="#CCCCCC"> well before I go</font>

242
00:09:24,730 --> 00:09:29,950
looking<font color="#E5E5E5"> for their</font><font color="#CCCCCC"> batch history</font><font color="#E5E5E5"> I unset</font>

243
00:09:26,500 --> 00:09:31,660
mine<font color="#E5E5E5"> because I don't want them like -</font>

244
00:09:29,950 --> 00:09:33,100
<font color="#CCCCCC">history's really</font><font color="#E5E5E5"> really good for you to</font>

245
00:09:31,660 --> 00:09:34,719
see what the users doing<font color="#E5E5E5"> but it's also</font>

246
00:09:33,100 --> 00:09:36,520
good for<font color="#E5E5E5"> the people to see what you're</font>

247
00:09:34,720 --> 00:09:38,020
<font color="#E5E5E5">doing - so unset the</font><font color="#CCCCCC"> bash history you</font>

248
00:09:36,520 --> 00:09:41,920
don't<font color="#CCCCCC"> want to leave a stupid trail like</font>

249
00:09:38,020 --> 00:09:43,210
that behind<font color="#E5E5E5"> now I think most</font><font color="#CCCCCC"> people</font>

250
00:09:41,920 --> 00:09:47,469
<font color="#E5E5E5">think like what are you going to find a</font>

251
00:09:43,210 --> 00:09:48,850
bash history<font color="#E5E5E5"> passwords yeah sometimes</font>

252
00:09:47,470 --> 00:09:50,440
yeah if someone I've seen it once or

253
00:09:48,850 --> 00:09:52,420
<font color="#CCCCCC">twice someone</font><font color="#E5E5E5"> fat-fingers their password</font>

254
00:09:50,440 --> 00:09:53,860
and<font color="#CCCCCC"> it goes into the bash history</font>

255
00:09:52,420 --> 00:09:58,660
because they didn't type sudo first or

256
00:09:53,860 --> 00:09:59,920
something<font color="#CCCCCC"> like</font><font color="#E5E5E5"> that yeah or pass</font><font color="#CCCCCC"> it on</font>

257
00:09:58,660 --> 00:10:01,870
<font color="#E5E5E5">the</font><font color="#CCCCCC"> command line</font><font color="#E5E5E5"> you know you can search</font>

258
00:09:59,920 --> 00:10:03,969
<font color="#E5E5E5">for like -</font><font color="#CCCCCC"> PE and</font><font color="#E5E5E5"> see if someone's</font>

259
00:10:01,870 --> 00:10:06,310
<font color="#E5E5E5">trying to pass it</font><font color="#CCCCCC"> through for the most</font>

260
00:10:03,970 --> 00:10:07,660
part<font color="#CCCCCC"> bash has three though it's like you</font>

261
00:10:06,310 --> 00:10:08,709
<font color="#E5E5E5">should just read it like just just</font>

262
00:10:07,660 --> 00:10:11,110
scroll through because it gives you

263
00:10:08,710 --> 00:10:13,540
context of what that<font color="#E5E5E5"> person does on the</font>

264
00:10:11,110 --> 00:10:16,720
system right<font color="#E5E5E5"> it gives</font><font color="#CCCCCC"> you about</font><font color="#E5E5E5"> them and</font>

265
00:10:13,540 --> 00:10:18,910
I normally search for like<font color="#E5E5E5"> SSH in bash</font>

266
00:10:16,720 --> 00:10:21,280
history so like does this person<font color="#E5E5E5"> move to</font>

267
00:10:18,910 --> 00:10:23,560
other boxes because if I<font color="#E5E5E5"> fish someone</font>

268
00:10:21,280 --> 00:10:26,589
getting<font color="#CCCCCC"> onto</font><font color="#E5E5E5"> their machine is hardly</font>

269
00:10:23,560 --> 00:10:28,239
ever<font color="#E5E5E5"> like my end goal right my end goal</font>

270
00:10:26,590 --> 00:10:30,790
<font color="#E5E5E5">is far away so I need to know how to get</font>

271
00:10:28,240 --> 00:10:32,170
<font color="#E5E5E5">to other places</font><font color="#CCCCCC"> so seeing SSH in their</font>

272
00:10:30,790 --> 00:10:33,329
bash histories like<font color="#E5E5E5"> way better cuz I'm</font>

273
00:10:32,170 --> 00:10:35,410
like<font color="#E5E5E5"> if they've went there before</font>

274
00:10:33,330 --> 00:10:37,660
<font color="#E5E5E5">they'll probably go there again</font><font color="#CCCCCC"> that's</font>

275
00:10:35,410 --> 00:10:39,490
<font color="#E5E5E5">gonna be useful simulator also just</font>

276
00:10:37,660 --> 00:10:41,199
<font color="#E5E5E5">looking at hidden files give it a quick</font>

277
00:10:39,490 --> 00:10:42,310
<font color="#E5E5E5">find just look for any hidden files in</font>

278
00:10:41,200 --> 00:10:44,830
the system<font color="#E5E5E5"> you know they're typically</font>

279
00:10:42,310 --> 00:10:46,569
hidden<font color="#E5E5E5"> for a reason</font><font color="#CCCCCC"> you'll find ativ s</font>

280
00:10:44,830 --> 00:10:48,760
creds there you'll find<font color="#E5E5E5"> tons of stuff I</font>

281
00:10:46,570 --> 00:10:52,090
<font color="#E5E5E5">mean you guys know</font><font color="#CCCCCC"> that environment</font>

282
00:10:48,760 --> 00:10:53,650
<font color="#CCCCCC">variables I don't understand why exactly</font>

283
00:10:52,090 --> 00:10:55,240
<font color="#E5E5E5">that like at some</font><font color="#CCCCCC"> point everyone was</font>

284
00:10:53,650 --> 00:10:57,490
like we can't have environment we can't

285
00:10:55,240 --> 00:10:59,140
have passwords<font color="#E5E5E5"> and scripts so let's use</font>

286
00:10:57,490 --> 00:11:01,590
the<font color="#E5E5E5"> environment variables</font>

287
00:10:59,140 --> 00:11:04,000
<font color="#E5E5E5">aka like some secure Enclave</font><font color="#CCCCCC"> right</font>

288
00:11:01,590 --> 00:11:05,650
<font color="#E5E5E5">there's only one password</font><font color="#CCCCCC"> that unlocks</font>

289
00:11:04,000 --> 00:11:06,520
it<font color="#E5E5E5"> it's env when you type it on the</font>

290
00:11:05,650 --> 00:11:08,530
<font color="#E5E5E5">system</font>

291
00:11:06,520 --> 00:11:10,720
<font color="#CCCCCC">I don't know but for some reason there's</font>

292
00:11:08,530 --> 00:11:13,270
tons<font color="#E5E5E5"> of stuff</font><font color="#CCCCCC"> they're typically looking</font>

293
00:11:10,720 --> 00:11:16,090
at you know<font color="#E5E5E5"> output of PS again looking</font>

294
00:11:13,270 --> 00:11:17,650
<font color="#E5E5E5">for</font><font color="#CCCCCC"> like SSH connections</font><font color="#E5E5E5"> also looking</font>

295
00:11:16,090 --> 00:11:19,120
for any type<font color="#E5E5E5"> of little script that's</font>

296
00:11:17,650 --> 00:11:20,530
running<font color="#E5E5E5"> if there's any script and not</font>

297
00:11:19,120 --> 00:11:21,940
<font color="#E5E5E5">like a program that's running</font><font color="#CCCCCC"> and you</font>

298
00:11:20,530 --> 00:11:23,560
just like<font color="#E5E5E5"> okay cool any scripts</font><font color="#CCCCCC"> that are</font>

299
00:11:21,940 --> 00:11:25,060
<font color="#E5E5E5">running I'm gonna go look for</font><font color="#CCCCCC"> those</font>

300
00:11:23,560 --> 00:11:26,349
<font color="#E5E5E5">scripts scripts on disk if I can write</font>

301
00:11:25,060 --> 00:11:28,000
<font color="#E5E5E5">to them especially if they're running in</font>

302
00:11:26,350 --> 00:11:30,160
the context of<font color="#E5E5E5"> a different user like</font>

303
00:11:28,000 --> 00:11:32,500
really<font color="#CCCCCC"> really quick and</font><font color="#E5E5E5"> easy escalation</font>

304
00:11:30,160 --> 00:11:34,329
technique probably want to<font color="#E5E5E5"> see who else</font>

305
00:11:32,500 --> 00:11:36,910
is log<font color="#E5E5E5"> on to the</font><font color="#CCCCCC"> Box might be useful</font>

306
00:11:34,330 --> 00:11:39,310
really important I want to see who

307
00:11:36,910 --> 00:11:40,510
continues to<font color="#E5E5E5"> log</font><font color="#CCCCCC"> into the box remotely</font>

308
00:11:39,310 --> 00:11:43,300
<font color="#E5E5E5">so running the last command to get</font><font color="#CCCCCC"> a</font>

309
00:11:40,510 --> 00:11:45,490
list of who's logged in before if I see

310
00:11:43,300 --> 00:11:47,530
that<font color="#E5E5E5"> you know regularly there's some</font>

311
00:11:45,490 --> 00:11:48,820
super admin account or a service<font color="#E5E5E5"> account</font>

312
00:11:47,530 --> 00:11:51,130
that<font color="#E5E5E5"> logs into the box</font>

313
00:11:48,820 --> 00:11:52,840
suddenly it may be like my<font color="#E5E5E5"> next tactic</font>

314
00:11:51,130 --> 00:11:54,550
is like well if I get<font color="#CCCCCC"> rude</font><font color="#E5E5E5"> I'm gonna put</font>

315
00:11:52,840 --> 00:11:56,140
a<font color="#CCCCCC"> pan module</font><font color="#E5E5E5"> in this box I'm gonna wait</font>

316
00:11:54,550 --> 00:11:57,880
<font color="#CCCCCC">for that thing to come by</font><font color="#E5E5E5"> and log in</font>

317
00:11:56,140 --> 00:11:58,810
again<font color="#E5E5E5"> I'm gonna take that password and</font>

318
00:11:57,880 --> 00:12:01,780
suddenly have<font color="#CCCCCC"> lateral movement</font>

319
00:11:58,810 --> 00:12:04,119
<font color="#E5E5E5">everywhere so so those are like basic</font>

320
00:12:01,780 --> 00:12:06,850
post exploitation stuff the<font color="#E5E5E5"> the</font>

321
00:12:04,120 --> 00:12:08,620
<font color="#E5E5E5">clipboard for some reason is also a</font>

322
00:12:06,850 --> 00:12:10,360
secure Enclave for passwords mostly

323
00:12:08,620 --> 00:12:12,790
because<font color="#E5E5E5"> just of the way password</font>

324
00:12:10,360 --> 00:12:14,740
managers work they make you a really

325
00:12:12,790 --> 00:12:16,630
really<font color="#CCCCCC"> long password string</font><font color="#E5E5E5"> that you</font>

326
00:12:14,740 --> 00:12:18,640
could never type or never remember<font color="#CCCCCC"> you</font>

327
00:12:16,630 --> 00:12:20,230
<font color="#CCCCCC">know thank you</font><font color="#E5E5E5"> and then in order for you</font>

328
00:12:18,640 --> 00:12:21,760
<font color="#E5E5E5">to use it they copy it up into the</font>

329
00:12:20,230 --> 00:12:23,980
clipboard<font color="#CCCCCC"> and then paste it</font><font color="#E5E5E5"> back in so</font>

330
00:12:21,760 --> 00:12:26,230
here's two different<font color="#CCCCCC"> ways to do it wanna</font>

331
00:12:23,980 --> 00:12:29,110
<font color="#CCCCCC">want and bash I think I think you wrote</font>

332
00:12:26,230 --> 00:12:31,390
<font color="#E5E5E5">that actually so sorry to share your</font>

333
00:12:29,110 --> 00:12:33,430
super super secrets here but essentially

334
00:12:31,390 --> 00:12:35,920
<font color="#CCCCCC">all</font><font color="#E5E5E5"> we're doing is like using the</font><font color="#CCCCCC"> PB</font>

335
00:12:33,430 --> 00:12:37,530
paste command by the way<font color="#E5E5E5"> built</font><font color="#CCCCCC"> into OSX</font>

336
00:12:35,920 --> 00:12:39,939
<font color="#E5E5E5">to dump the contents of the clipboard</font>

337
00:12:37,530 --> 00:12:41,770
<font color="#CCCCCC">anytime</font><font color="#E5E5E5"> that changes well let's log it</font>

338
00:12:39,940 --> 00:12:44,590
down to a file<font color="#CCCCCC"> that way I can like</font><font color="#E5E5E5"> start</font>

339
00:12:41,770 --> 00:12:46,150
running this<font color="#CCCCCC"> wait</font><font color="#E5E5E5"> to the next day</font><font color="#CCCCCC"> see a</font>

340
00:12:44,590 --> 00:12:47,260
<font color="#E5E5E5">some context of what they've been doing</font>

341
00:12:46,150 --> 00:12:49,540
<font color="#E5E5E5">what they're copying and pasting</font>

342
00:12:47,260 --> 00:12:51,430
<font color="#E5E5E5">hopefully it's not like love letters or</font>

343
00:12:49,540 --> 00:12:52,209
<font color="#E5E5E5">Craigslist personal ads oh wait those</font>

344
00:12:51,430 --> 00:13:00,280
<font color="#E5E5E5">don't</font><font color="#CCCCCC"> exist anymore</font>

345
00:12:52,210 --> 00:13:01,810
<font color="#E5E5E5">oh thanks</font><font color="#CCCCCC"> plip on linux cool but yeah</font>

346
00:13:00,280 --> 00:13:03,610
<font color="#E5E5E5">passwords probably</font><font color="#CCCCCC"> gonna be</font><font color="#E5E5E5"> there so</font>

347
00:13:01,810 --> 00:13:06,339
neat thanks for<font color="#E5E5E5"> sx for building in that</font>

348
00:13:03,610 --> 00:13:07,630
tool so at a<font color="#E5E5E5"> certain point kind of</font>

349
00:13:06,340 --> 00:13:09,970
depends on<font color="#E5E5E5"> how</font><font color="#CCCCCC"> you got show on what kind</font>

350
00:13:07,630 --> 00:13:11,980
of malware you're using<font color="#E5E5E5"> you know the</font>

351
00:13:09,970 --> 00:13:14,560
<font color="#E5E5E5">quality of most</font><font color="#CCCCCC"> malware out there is a</font>

352
00:13:11,980 --> 00:13:17,140
little bit lacking<font color="#CCCCCC"> there's a there's a</font>

353
00:13:14,560 --> 00:13:19,180
void where a really good<font color="#E5E5E5"> framework could</font>

354
00:13:17,140 --> 00:13:20,540
probably be out<font color="#E5E5E5"> there and the</font><font color="#CCCCCC"> arrays</font>

355
00:13:19,180 --> 00:13:23,489
<font color="#CCCCCC">that quality but uh</font>

356
00:13:20,540 --> 00:13:25,050
right yeah well you probably like man I

357
00:13:23,490 --> 00:13:26,970
want<font color="#CCCCCC"> to</font><font color="#E5E5E5"> keep this shell so you</font><font color="#CCCCCC"> need to</font>

358
00:13:25,050 --> 00:13:28,439
<font color="#E5E5E5">have some type of persistence and you</font>

359
00:13:26,970 --> 00:13:30,510
know you have like old<font color="#E5E5E5"> Linux style</font>

360
00:13:28,440 --> 00:13:32,280
persistence<font color="#E5E5E5"> cron that's built into</font><font color="#CCCCCC"> OSX</font>

361
00:13:30,510 --> 00:13:35,069
as<font color="#E5E5E5"> well so you could go and</font><font color="#CCCCCC"> edit the</font>

362
00:13:32,280 --> 00:13:37,470
crontab and say like every<font color="#E5E5E5"> minute I want</font>

363
00:13:35,070 --> 00:13:39,930
my malware to run and make sure it's on

364
00:13:37,470 --> 00:13:42,120
<font color="#CCCCCC">the system or you can say like well it's</font>

365
00:13:39,930 --> 00:13:43,770
<font color="#CCCCCC">gonna sit in memory until like the</font>

366
00:13:42,120 --> 00:13:45,270
system reboots<font color="#CCCCCC"> but then when it reboots</font>

367
00:13:43,770 --> 00:13:47,460
I want it to<font color="#E5E5E5"> run again right so</font><font color="#CCCCCC"> that can</font>

368
00:13:45,270 --> 00:13:50,160
be<font color="#CCCCCC"> Chrisitan most incident responders</font>

369
00:13:47,460 --> 00:13:52,470
will check cron<font color="#CCCCCC"> it's sort of</font><font color="#E5E5E5"> like a like</font>

370
00:13:50,160 --> 00:13:53,760
101<font color="#E5E5E5"> stuff for them but it is a thing</font>

371
00:13:52,470 --> 00:13:55,590
<font color="#CCCCCC">that</font><font color="#E5E5E5"> you can use there's actually quite</font>

372
00:13:53,760 --> 00:13:59,189
a few<font color="#CCCCCC"> options on OSX that you're gonna</font>

373
00:13:55,590 --> 00:14:01,500
have you have<font color="#E5E5E5"> at CRC common and you like</font>

374
00:13:59,190 --> 00:14:03,870
login items<font color="#E5E5E5"> like whenever whenever the</font>

375
00:14:01,500 --> 00:14:05,280
system<font color="#CCCCCC"> starts up like and the user log</font>

376
00:14:03,870 --> 00:14:06,990
is<font color="#E5E5E5"> in like all this</font><font color="#CCCCCC"> stuff is gonna</font><font color="#E5E5E5"> get</font>

377
00:14:05,280 --> 00:14:08,520
run so if you put some commands in there

378
00:14:06,990 --> 00:14:11,670
they're gonna<font color="#E5E5E5"> get run however editing</font>

379
00:14:08,520 --> 00:14:14,310
<font color="#E5E5E5">that requires me so you also have system</font>

380
00:14:11,670 --> 00:14:17,189
library startup items<font color="#E5E5E5"> editing this also</font>

381
00:14:14,310 --> 00:14:21,569
<font color="#E5E5E5">requires route</font><font color="#CCCCCC"> you also have library</font>

382
00:14:17,190 --> 00:14:24,330
preferences by<font color="#CCCCCC"> host</font><font color="#E5E5E5"> what this is a few</font>

383
00:14:21,570 --> 00:14:25,680
<font color="#E5E5E5">thing this is the reopen item so you</font>

384
00:14:24,330 --> 00:14:27,870
know how like on<font color="#E5E5E5"> OSX when you're like</font>

385
00:14:25,680 --> 00:14:30,180
I'm gonna restart<font color="#E5E5E5"> and it's like I want</font>

386
00:14:27,870 --> 00:14:33,060
<font color="#CCCCCC">all these other windows</font><font color="#E5E5E5"> to reopen</font><font color="#CCCCCC"> again</font>

387
00:14:30,180 --> 00:14:34,469
so like<font color="#E5E5E5"> if you put stuff in here when</font>

388
00:14:33,060 --> 00:14:36,959
that like reopen function gets called

389
00:14:34,470 --> 00:14:38,160
like it will pull your<font color="#CCCCCC"> Mauer up to and</font>

390
00:14:36,960 --> 00:14:39,960
run that again so it's kind of a neat

391
00:14:38,160 --> 00:14:41,730
persistence mechanism however you

392
00:14:39,960 --> 00:14:44,010
probably<font color="#E5E5E5"> need some other type of watcher</font>

393
00:14:41,730 --> 00:14:45,780
process there because these files get

394
00:14:44,010 --> 00:14:48,030
<font color="#E5E5E5">clobbered and pretty regularly so if you</font>

395
00:14:45,780 --> 00:14:50,310
put it in one of<font color="#E5E5E5"> the files and someone</font>

396
00:14:48,030 --> 00:14:52,439
goes to restart and<font color="#E5E5E5"> they click reopen</font>

397
00:14:50,310 --> 00:14:54,119
windows login<font color="#E5E5E5"> it might overwrite the</font>

398
00:14:52,440 --> 00:14:56,280
stuff that you<font color="#E5E5E5"> put in there</font><font color="#CCCCCC"> so it's not</font>

399
00:14:54,120 --> 00:14:58,200
<font color="#E5E5E5">- uh not super</font><font color="#CCCCCC"> reliable but it does work</font>

400
00:14:56,280 --> 00:15:00,540
<font color="#E5E5E5">and then though this kind of goes on and</font>

401
00:14:58,200 --> 00:15:03,270
there's special cases<font color="#CCCCCC"> for them</font><font color="#E5E5E5"> however</font>

402
00:15:00,540 --> 00:15:05,550
<font color="#CCCCCC">Launch D is sort of like your best</font>

403
00:15:03,270 --> 00:15:07,199
framework for persistent stuff

404
00:15:05,550 --> 00:15:09,150
<font color="#E5E5E5">unfortunately like many people know</font>

405
00:15:07,200 --> 00:15:11,070
about<font color="#E5E5E5"> this</font><font color="#CCCCCC"> too</font><font color="#E5E5E5"> but if you want Mauer</font>

406
00:15:09,150 --> 00:15:12,530
like stay on the system and this is<font color="#E5E5E5"> this</font>

407
00:15:11,070 --> 00:15:15,900
<font color="#E5E5E5">is meant for it's an</font><font color="#CCCCCC"> open source</font>

408
00:15:12,530 --> 00:15:18,420
scripting engine<font color="#E5E5E5"> using XML that</font><font color="#CCCCCC"> allows</font>

409
00:15:15,900 --> 00:15:20,670
you<font color="#E5E5E5"> to</font><font color="#CCCCCC"> basically identify under what</font>

410
00:15:18,420 --> 00:15:22,579
conditions<font color="#E5E5E5"> and what should run and then</font>

411
00:15:20,670 --> 00:15:24,750
<font color="#E5E5E5">the conditions actually are are pretty</font>

412
00:15:22,580 --> 00:15:26,970
<font color="#E5E5E5">pretty robust you can do a lot</font><font color="#CCCCCC"> of things</font>

413
00:15:24,750 --> 00:15:29,430
<font color="#E5E5E5">the best and</font><font color="#CCCCCC"> most obvious one like the</font>

414
00:15:26,970 --> 00:15:31,350
classic example is you are<font color="#E5E5E5"> going to be</font>

415
00:15:29,430 --> 00:15:34,079
like keep keep alive so here let me<font color="#CCCCCC"> call</font>

416
00:15:31,350 --> 00:15:37,260
this so

417
00:15:34,080 --> 00:15:41,220
yeah<font color="#E5E5E5"> yeah I can see that</font><font color="#CCCCCC"> maybe yeah</font>

418
00:15:37,260 --> 00:15:43,050
so you're basically<font color="#E5E5E5"> giving it like</font><font color="#CCCCCC"> label</font>

419
00:15:41,220 --> 00:15:44,130
which<font color="#CCCCCC"> is what you're going to see as the</font>

420
00:15:43,050 --> 00:15:46,219
thing that's<font color="#E5E5E5"> just</font><font color="#CCCCCC"> heard when it's</font>

421
00:15:44,130 --> 00:15:48,960
running<font color="#E5E5E5"> why do you run</font><font color="#CCCCCC"> like</font><font color="#E5E5E5"> launch so</font>

422
00:15:46,220 --> 00:15:52,560
like<font color="#E5E5E5"> launch CTL is the command that does</font>

423
00:15:48,960 --> 00:15:54,780
this that's how you interact with it the

424
00:15:52,560 --> 00:15:57,689
label<font color="#CCCCCC"> is going to register program is</font>

425
00:15:54,780 --> 00:15:59,370
what is going<font color="#CCCCCC"> to get run so for all for</font>

426
00:15:57,690 --> 00:16:01,110
a<font color="#E5E5E5"> few of these demos I think like you</font>

427
00:15:59,370 --> 00:16:04,440
<font color="#E5E5E5">know people aren't popping calculator on</font>

428
00:16:01,110 --> 00:16:08,340
systems as often enough so<font color="#E5E5E5"> I've wrote</font>

429
00:16:04,440 --> 00:16:10,770
this exploit here<font color="#CCCCCC"> too</font><font color="#E5E5E5"> to run calculator</font>

430
00:16:08,340 --> 00:16:13,650
so our malware<font color="#E5E5E5"> will be calculators so</font>

431
00:16:10,770 --> 00:16:17,640
we'll hold them<font color="#CCCCCC"> on this run at load</font>

432
00:16:13,650 --> 00:16:19,620
means<font color="#E5E5E5"> startup anytime I load the module</font>

433
00:16:17,640 --> 00:16:22,020
<font color="#CCCCCC">so</font><font color="#E5E5E5"> that way you can use this to also</font>

434
00:16:19,620 --> 00:16:24,000
<font color="#E5E5E5">launch the malware as well you don't</font>

435
00:16:22,020 --> 00:16:25,680
<font color="#E5E5E5">need to include</font><font color="#CCCCCC"> that keep alive</font>

436
00:16:24,000 --> 00:16:27,720
<font color="#E5E5E5">basically this tells the operating</font>

437
00:16:25,680 --> 00:16:29,040
system<font color="#CCCCCC"> that like no matter what keep</font>

438
00:16:27,720 --> 00:16:31,830
this thing running<font color="#E5E5E5"> which is pretty</font>

439
00:16:29,040 --> 00:16:33,540
<font color="#CCCCCC">useful for your mouth so let me uh let's</font>

440
00:16:31,830 --> 00:16:33,900
let's let's<font color="#E5E5E5"> take a look at this in</font>

441
00:16:33,540 --> 00:16:36,870
<font color="#E5E5E5">action</font>

442
00:16:33,900 --> 00:16:44,189
so<font color="#CCCCCC"> we'll do you probably</font><font color="#E5E5E5"> can't see</font><font color="#CCCCCC"> that</font>

443
00:16:36,870 --> 00:16:47,570
<font color="#CCCCCC">on</font><font color="#E5E5E5"> nothing well launch oh yeah I can't</font>

444
00:16:44,190 --> 00:16:47,570
<font color="#E5E5E5">take today on CTL</font>

445
00:16:48,130 --> 00:17:01,270
I I noticed that if I hit<font color="#CCCCCC"> my foot</font>

446
00:16:59,650 --> 00:17:05,550
against<font color="#E5E5E5"> the ground like</font><font color="#CCCCCC"> this that</font>

447
00:17:01,270 --> 00:17:05,550
happens so I'm gonna try not<font color="#CCCCCC"> to</font><font color="#E5E5E5"> do that</font>

448
00:17:05,670 --> 00:17:12,880
okay so this one let's take<font color="#E5E5E5"> a look at</font>

449
00:17:10,180 --> 00:17:14,740
our classic<font color="#E5E5E5"> yes plist so we're loading</font>

450
00:17:12,880 --> 00:17:16,959
<font color="#E5E5E5">that and doom it launches</font><font color="#CCCCCC"> that at load</font>

451
00:17:14,740 --> 00:17:18,790
<font color="#E5E5E5">calculators popped up</font><font color="#CCCCCC"> I'd be like I</font>

452
00:17:16,959 --> 00:17:20,860
<font color="#E5E5E5">don't want calculator to be running and</font>

453
00:17:18,790 --> 00:17:23,170
the operating<font color="#E5E5E5"> centers gonna be like no</font>

454
00:17:20,859 --> 00:17:24,849
no<font color="#E5E5E5"> no calculator needs to stay running</font>

455
00:17:23,170 --> 00:17:27,550
it's really important that<font color="#E5E5E5"> calculators</font>

456
00:17:24,849 --> 00:17:28,810
<font color="#E5E5E5">stays running all the time so I guess</font>

457
00:17:27,550 --> 00:17:30,639
you could prank someone<font color="#E5E5E5"> with this and</font>

458
00:17:28,810 --> 00:17:32,440
that'd be quite<font color="#E5E5E5"> annoying so maybe I can</font>

459
00:17:30,640 --> 00:17:38,400
<font color="#E5E5E5">unload it before calculator pops up</font>

460
00:17:32,440 --> 00:17:40,960
again almost<font color="#E5E5E5"> okay yeah all right we got</font>

461
00:17:38,400 --> 00:17:42,340
so other than this<font color="#E5E5E5"> keep alive so this is</font>

462
00:17:40,960 --> 00:17:44,080
like<font color="#E5E5E5"> your basic thing right like if you</font>

463
00:17:42,340 --> 00:17:46,959
throw this<font color="#E5E5E5"> on a system like</font><font color="#CCCCCC"> Bower</font><font color="#E5E5E5"> is</font>

464
00:17:44,080 --> 00:17:49,570
gonna stay on it so I<font color="#E5E5E5"> thought we could</font>

465
00:17:46,960 --> 00:17:51,700
have a<font color="#E5E5E5"> couple more creative ways</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> use</font>

466
00:17:49,570 --> 00:17:53,320
<font color="#CCCCCC">it</font><font color="#E5E5E5"> because it is really flexible</font><font color="#CCCCCC"> so</font>

467
00:17:51,700 --> 00:17:54,670
rather than just<font color="#E5E5E5"> having like this thing</font>

468
00:17:53,320 --> 00:17:57,040
that's<font color="#E5E5E5"> like hey keep it running no</font>

469
00:17:54,670 --> 00:17:58,420
matter<font color="#E5E5E5"> what maybe we want like a dropper</font>

470
00:17:57,040 --> 00:18:01,480
script or some kind of<font color="#E5E5E5"> thing to happen</font>

471
00:17:58,420 --> 00:18:03,460
<font color="#E5E5E5">like at sort of random intervals and</font>

472
00:18:01,480 --> 00:18:04,960
instead<font color="#CCCCCC"> of</font><font color="#E5E5E5"> coding in random intervals</font>

473
00:18:03,460 --> 00:18:09,070
and letting it like sleep all the<font color="#CCCCCC"> time</font>

474
00:18:04,960 --> 00:18:10,600
we<font color="#E5E5E5"> can just have a launch agent watch a</font>

475
00:18:09,070 --> 00:18:12,790
directory<font color="#E5E5E5"> and then when something</font>

476
00:18:10,600 --> 00:18:15,399
changes in<font color="#CCCCCC"> that directory say like</font>

477
00:18:12,790 --> 00:18:17,020
<font color="#E5E5E5">anytime</font><font color="#CCCCCC"> a user downloads a file or</font>

478
00:18:15,400 --> 00:18:19,060
<font color="#CCCCCC">anytime</font><font color="#E5E5E5"> something gets hitting temp</font>

479
00:18:17,020 --> 00:18:30,400
<font color="#E5E5E5">maybe then we're gonna launch them our</font>

480
00:18:19,060 --> 00:18:33,340
so this looks<font color="#CCCCCC"> like this</font><font color="#E5E5E5"> launch on gear</font>

481
00:18:30,400 --> 00:18:36,330
change<font color="#E5E5E5"> and actually</font><font color="#CCCCCC"> I'm let me show you</font>

482
00:18:33,340 --> 00:18:36,330
the code here

483
00:18:38,440 --> 00:18:51,140
<font color="#E5E5E5">okay</font><font color="#CCCCCC"> alright so this one is like this so</font>

484
00:18:49,550 --> 00:18:52,940
what we're saying<font color="#CCCCCC"> here is like we're</font>

485
00:18:51,140 --> 00:18:55,790
<font color="#E5E5E5">giving it a watch path and watch path</font>

486
00:18:52,940 --> 00:18:57,890
says if you give it a path it will watch

487
00:18:55,790 --> 00:19:00,620
<font color="#E5E5E5">everything inside</font><font color="#CCCCCC"> that path and anytime</font>

488
00:18:57,890 --> 00:19:02,810
something changes or is modified inside

489
00:19:00,620 --> 00:19:04,850
that<font color="#CCCCCC"> directory</font><font color="#E5E5E5"> it will run whatever you</font>

490
00:19:02,810 --> 00:19:07,159
want it<font color="#E5E5E5"> to run so we're</font><font color="#CCCCCC"> running you know</font>

491
00:19:04,850 --> 00:19:11,090
our calculator<font color="#E5E5E5"> exploit here the most</font>

492
00:19:07,160 --> 00:19:14,120
<font color="#E5E5E5">malicious</font><font color="#CCCCCC"> of malware</font><font color="#E5E5E5"> and oh it's also</font>

493
00:19:11,090 --> 00:19:16,429
going to<font color="#E5E5E5"> run that would well or no I</font>

494
00:19:14,120 --> 00:19:18,790
think<font color="#CCCCCC"> I took that out along</font><font color="#E5E5E5"> okay so now</font>

495
00:19:16,430 --> 00:19:26,390
we have it watching<font color="#E5E5E5"> the Downloads folder</font>

496
00:19:18,790 --> 00:19:29,740
<font color="#E5E5E5">go to Chrome and</font><font color="#CCCCCC"> pincode it's not a</font>

497
00:19:26,390 --> 00:19:29,740
picture<font color="#E5E5E5"> that they can</font><font color="#CCCCCC"> Co can download it</font>

498
00:19:37,930 --> 00:19:42,590
so you can also see like if<font color="#E5E5E5"> I'm</font><font color="#CCCCCC"> like oh</font>

499
00:19:40,640 --> 00:19:44,450
<font color="#E5E5E5"> I didn't mean to download a picture</font>

500
00:19:42,590 --> 00:19:46,610
<font color="#CCCCCC">of Dane Cook</font><font color="#E5E5E5"> on my computer I didn't</font>

501
00:19:44,450 --> 00:19:48,260
want<font color="#CCCCCC"> that</font><font color="#E5E5E5"> seems to be running like</font>

502
00:19:46,610 --> 00:19:52,879
<font color="#CCCCCC">anytime something changes there</font><font color="#E5E5E5"> that's</font>

503
00:19:48,260 --> 00:19:57,800
good<font color="#CCCCCC"> yeah yep</font><font color="#E5E5E5"> if I'm like you get</font><font color="#CCCCCC"> out of</font>

504
00:19:52,880 --> 00:19:59,600
<font color="#E5E5E5">here Dane Cook okay right so it's like</font>

505
00:19:57,800 --> 00:20:01,040
<font color="#E5E5E5">pretty decent persistence mechanism</font>

506
00:19:59,600 --> 00:20:02,959
where like something<font color="#CCCCCC"> is</font><font color="#E5E5E5"> going to keep</font>

507
00:20:01,040 --> 00:20:05,300
<font color="#E5E5E5">running but it's based on user behavior</font>

508
00:20:02,960 --> 00:20:09,010
<font color="#CCCCCC">so this can be useful later</font><font color="#E5E5E5"> where you're</font>

509
00:20:05,300 --> 00:20:09,010
like I know that<font color="#CCCCCC"> like</font><font color="#E5E5E5"> the user</font>

510
00:20:12,000 --> 00:20:25,290
how good this<font color="#E5E5E5"> is the</font><font color="#CCCCCC"> best sound ever in</font>

511
00:20:16,800 --> 00:20:26,580
here<font color="#CCCCCC"> all right so I should probably</font>

512
00:20:25,290 --> 00:20:29,899
unload that<font color="#E5E5E5"> otherwise it's gonna</font>

513
00:20:26,580 --> 00:20:29,899
calculate<font color="#CCCCCC"> is</font><font color="#E5E5E5"> going to keep popping up</font>

514
00:20:31,230 --> 00:20:38,380
[Music]

515
00:20:35,940 --> 00:20:43,270
this is like<font color="#CCCCCC"> hardmode</font><font color="#E5E5E5"> doing a whole</font><font color="#CCCCCC"> lot</font>

516
00:20:38,380 --> 00:20:44,559
of<font color="#E5E5E5"> stuff up</font><font color="#CCCCCC"> here</font><font color="#E5E5E5"> okay another</font><font color="#CCCCCC"> thing I</font>

517
00:20:43,270 --> 00:20:46,179
thought would might be interesting is if

518
00:20:44,559 --> 00:20:47,500
<font color="#CCCCCC">you want</font><font color="#E5E5E5"> to have a system and</font><font color="#CCCCCC"> you want</font>

519
00:20:46,179 --> 00:20:49,960
to infect it but you don't<font color="#E5E5E5"> want</font><font color="#CCCCCC"> the</font>

520
00:20:47,500 --> 00:20:53,080
<font color="#E5E5E5">Mauer to run at</font><font color="#CCCCCC"> all until you maybe</font>

521
00:20:49,960 --> 00:20:55,020
trigger it remotely later so we could do

522
00:20:53,080 --> 00:20:58,870
something<font color="#CCCCCC"> like</font><font color="#E5E5E5"> add a socket listener</font>

523
00:20:55,020 --> 00:21:01,150
<font color="#E5E5E5">which is going to look</font><font color="#CCCCCC"> like this</font><font color="#E5E5E5"> and</font>

524
00:20:58,870 --> 00:21:02,678
here we are<font color="#E5E5E5"> saying okay this is the</font>

525
00:21:01,150 --> 00:21:05,409
program we're gonna run calculator

526
00:21:02,679 --> 00:21:07,360
exploit<font color="#CCCCCC"> we're gonna have sockets</font><font color="#E5E5E5"> and</font>

527
00:21:05,409 --> 00:21:09,490
listeners and we're going to<font color="#E5E5E5"> let it</font>

528
00:21:07,360 --> 00:21:11,770
listen on localhost<font color="#CCCCCC"> for anybody to</font><font color="#E5E5E5"> talk</font>

529
00:21:09,490 --> 00:21:21,549
<font color="#CCCCCC">to it</font><font color="#E5E5E5"> and if someone hits port 3 1 3 3 7</font>

530
00:21:11,770 --> 00:21:29,139
<font color="#E5E5E5">then it's going to suddenly launch and</font>

531
00:21:21,549 --> 00:21:38,740
this is socket so no calculator<font color="#CCCCCC"> I'm just</font>

532
00:21:29,140 --> 00:21:39,970
gonna do<font color="#E5E5E5"> it to</font><font color="#CCCCCC"> myself here ok</font><font color="#E5E5E5"> so this</font>

533
00:21:38,740 --> 00:21:41,980
<font color="#CCCCCC">could be triggered remotely too as well</font>

534
00:21:39,970 --> 00:21:43,840
so you<font color="#CCCCCC"> can imagine you like</font><font color="#E5E5E5"> infect a</font>

535
00:21:41,980 --> 00:21:46,510
whole bunch of<font color="#E5E5E5"> systems with this but you</font>

536
00:21:43,840 --> 00:21:48,699
<font color="#E5E5E5">don't want every box in the environment</font>

537
00:21:46,510 --> 00:21:50,470
shelling out all at once<font color="#E5E5E5"> but you want</font>

538
00:21:48,700 --> 00:21:52,600
like some ability later to be like oh

539
00:21:50,470 --> 00:21:54,640
this system I want<font color="#E5E5E5"> a shell</font><font color="#CCCCCC"> ok I'm just</font>

540
00:21:52,600 --> 00:21:57,219
<font color="#E5E5E5">gonna</font><font color="#CCCCCC"> like netcat one port and it's</font>

541
00:21:54,640 --> 00:21:58,570
<font color="#CCCCCC">going to shell out to my CT so some</font>

542
00:21:57,220 --> 00:22:06,780
<font color="#E5E5E5">other creative ways to</font><font color="#CCCCCC"> use it</font><font color="#E5E5E5"> when</font>

543
00:21:58,570 --> 00:22:06,780
you're in environment doesn't

544
00:22:13,460 --> 00:22:17,510
so well that one's this<font color="#E5E5E5"> won't come</font><font color="#CCCCCC"> back</font>

545
00:22:16,100 --> 00:22:19,459
with anything<font color="#E5E5E5"> there is there is no</font>

546
00:22:17,510 --> 00:22:22,010
listener listening it is just looking

547
00:22:19,460 --> 00:22:23,480
for when something<font color="#CCCCCC"> like hits that tries</font>

548
00:22:22,010 --> 00:22:25,430
to<font color="#CCCCCC"> hit</font><font color="#E5E5E5"> that port whether or not it's</font>

549
00:22:23,480 --> 00:22:39,650
open so you could do<font color="#E5E5E5"> it to an open port</font>

550
00:22:25,430 --> 00:22:41,030
<font color="#CCCCCC">I think actually</font><font color="#E5E5E5"> okay</font><font color="#CCCCCC"> okay so yeah we</font>

551
00:22:39,650 --> 00:22:43,070
have malware yeah we have persistence

552
00:22:41,030 --> 00:22:45,879
<font color="#CCCCCC">but</font><font color="#E5E5E5"> let's go</font><font color="#CCCCCC"> back</font><font color="#E5E5E5"> to this thing we're</font>

553
00:22:43,070 --> 00:22:49,399
like we have a shell<font color="#E5E5E5"> on a Mac and</font>

554
00:22:45,880 --> 00:22:52,190
there's not a whole<font color="#CCCCCC"> lot we can</font><font color="#E5E5E5"> do</font>

555
00:22:49,400 --> 00:22:53,960
without root right I mean there's a

556
00:22:52,190 --> 00:22:55,490
whole bunch<font color="#E5E5E5"> of cool</font><font color="#CCCCCC"> stuff we can do but</font>

557
00:22:53,960 --> 00:22:57,650
the<font color="#CCCCCC"> weight Mac's are mostly set up is</font>

558
00:22:55,490 --> 00:23:03,190
that<font color="#E5E5E5"> the</font><font color="#CCCCCC"> local user is going to</font><font color="#E5E5E5"> have</font>

559
00:22:57,650 --> 00:23:05,660
root on their system<font color="#CCCCCC"> so I am</font><font color="#E5E5E5"> okay like I</font>

560
00:23:03,190 --> 00:23:07,250
talked about this I<font color="#CCCCCC"> just I just wanna</font>

561
00:23:05,660 --> 00:23:11,680
let you<font color="#E5E5E5"> guys know I talked about this</font>

562
00:23:07,250 --> 00:23:15,370
<font color="#E5E5E5">same technique four years ago okay and</font>

563
00:23:11,680 --> 00:23:18,140
this general technique<font color="#CCCCCC"> four years</font><font color="#E5E5E5"> ago</font>

564
00:23:15,370 --> 00:23:20,000
<font color="#E5E5E5">still works and I've never been caught</font>

565
00:23:18,140 --> 00:23:22,550
like<font color="#CCCCCC"> that it came it came out</font><font color="#E5E5E5"> of a</font>

566
00:23:20,000 --> 00:23:24,530
<font color="#CCCCCC">moment of</font><font color="#E5E5E5"> desperation</font><font color="#CCCCCC"> where I was on a</font>

567
00:23:22,550 --> 00:23:26,510
test had a<font color="#CCCCCC"> fellow Mac couldn't find the</font>

568
00:23:24,530 --> 00:23:28,340
<font color="#E5E5E5">users</font><font color="#CCCCCC"> path or anywhere none of the key</font>

569
00:23:26,510 --> 00:23:29,390
loggers working user land<font color="#CCCCCC"> I can't be</font>

570
00:23:28,340 --> 00:23:31,639
<font color="#CCCCCC">root</font><font color="#E5E5E5"> because I don't know the password</font>

571
00:23:29,390 --> 00:23:33,020
<font color="#CCCCCC">I'm just frustrated I'm like banging in</font>

572
00:23:31,640 --> 00:23:35,120
<font color="#CCCCCC">my head for a week I can't get off the</font>

573
00:23:33,020 --> 00:23:36,530
system<font color="#CCCCCC"> and</font><font color="#E5E5E5"> I</font><font color="#CCCCCC"> go to my</font><font color="#E5E5E5"> boss and</font><font color="#CCCCCC"> like I</font>

574
00:23:35,120 --> 00:23:38,419
think<font color="#E5E5E5"> I can use this thing</font><font color="#CCCCCC"> to just</font><font color="#E5E5E5"> like</font>

575
00:23:36,530 --> 00:23:40,430
prompt<font color="#E5E5E5"> them for their</font><font color="#CCCCCC"> password and like</font>

576
00:23:38,420 --> 00:23:43,220
make a fake prompt and my boss<font color="#E5E5E5"> at the</font>

577
00:23:40,430 --> 00:23:45,110
time<font color="#E5E5E5"> says like that</font><font color="#CCCCCC"> will never work they</font>

578
00:23:43,220 --> 00:23:47,360
will<font color="#E5E5E5"> report you immediately</font><font color="#CCCCCC"> that's so</font>

579
00:23:45,110 --> 00:23:48,590
crazy<font color="#E5E5E5"> so I like didn't do it for other</font>

580
00:23:47,360 --> 00:23:49,729
couple days I'm just<font color="#CCCCCC"> like I'm desperate</font>

581
00:23:48,590 --> 00:23:51,470
I'm gonna do it<font color="#E5E5E5"> and I'll see</font><font color="#CCCCCC"> what</font>

582
00:23:49,730 --> 00:23:52,940
<font color="#CCCCCC">happens I like throw up</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> box on them</font>

583
00:23:51,470 --> 00:23:55,820
and they instantly<font color="#CCCCCC"> type their password</font>

584
00:23:52,940 --> 00:23:58,340
since then I have never gotten caught by

585
00:23:55,820 --> 00:23:59,419
doing this<font color="#E5E5E5"> and it works basically a</font>

586
00:23:58,340 --> 00:24:00,649
<font color="#E5E5E5">hundred</font><font color="#CCCCCC"> percent</font><font color="#E5E5E5"> of the time as</font><font color="#CCCCCC"> long as</font>

587
00:23:59,420 --> 00:24:04,100
the user<font color="#CCCCCC"> is there to take their password</font>

588
00:24:00,650 --> 00:24:05,840
<font color="#CCCCCC">in</font><font color="#E5E5E5"> so since I first talked</font><font color="#CCCCCC"> about this</font>

589
00:24:04,100 --> 00:24:08,120
years ago<font color="#CCCCCC"> I've gotten a little</font><font color="#E5E5E5"> bit</font>

590
00:24:05,840 --> 00:24:11,689
<font color="#E5E5E5">better at this originally I thought you</font>

591
00:24:08,120 --> 00:24:14,840
had to make a specific<font color="#E5E5E5"> application do</font>

592
00:24:11,690 --> 00:24:16,670
this but there<font color="#CCCCCC"> is a like</font><font color="#E5E5E5"> grand like you</font>

593
00:24:14,840 --> 00:24:18,020
I think<font color="#CCCCCC"> all system events</font><font color="#E5E5E5"> that's</font>

594
00:24:16,670 --> 00:24:19,640
available<font color="#E5E5E5"> so you can send messages</font><font color="#CCCCCC"> to</font>

595
00:24:18,020 --> 00:24:23,060
that<font color="#E5E5E5"> and it will pop up on top of</font>

596
00:24:19,640 --> 00:24:24,830
<font color="#E5E5E5">everything</font><font color="#CCCCCC"> the the code that I</font><font color="#E5E5E5"> released</font>

597
00:24:23,060 --> 00:24:26,269
got included<font color="#E5E5E5"> an empire so if you ever</font>

598
00:24:24,830 --> 00:24:27,559
are<font color="#E5E5E5"> using Empire there</font>

599
00:24:26,269 --> 00:24:28,729
there is a module<font color="#E5E5E5"> for this so this</font>

600
00:24:27,559 --> 00:24:30,320
probably<font color="#E5E5E5"> is</font><font color="#CCCCCC"> that should probably get</font>

601
00:24:28,729 --> 00:24:33,109
<font color="#E5E5E5">updated because this is way better</font>

602
00:24:30,320 --> 00:24:34,458
<font color="#E5E5E5">because before</font><font color="#CCCCCC"> you had to like open some</font>

603
00:24:33,109 --> 00:24:36,349
application and like bring<font color="#E5E5E5"> it to the</font>

604
00:24:34,459 --> 00:24:38,089
front<font color="#E5E5E5"> of the screen but this you can</font><font color="#CCCCCC"> use</font>

605
00:24:36,349 --> 00:24:40,009
system events and it just pops up<font color="#E5E5E5"> on top</font>

606
00:24:38,089 --> 00:24:42,379
<font color="#E5E5E5">of everything</font><font color="#CCCCCC"> so the general way it's</font>

607
00:24:40,009 --> 00:24:43,969
built<font color="#E5E5E5"> is there is a built in method in</font>

608
00:24:42,379 --> 00:24:46,070
<font color="#CCCCCC">Apple script</font><font color="#E5E5E5"> and you can run it with Oso</font>

609
00:24:43,969 --> 00:24:47,839
script -<font color="#CCCCCC"> E</font><font color="#E5E5E5"> and you just type in Apple</font>

610
00:24:46,070 --> 00:24:50,629
<font color="#E5E5E5">script but this can run any kind of</font>

611
00:24:47,839 --> 00:24:52,729
scripting<font color="#E5E5E5"> osan scripting language but if</font>

612
00:24:50,629 --> 00:24:54,139
you sell tell it display<font color="#E5E5E5"> dialogue it</font>

613
00:24:52,729 --> 00:24:56,179
kind of gives you<font color="#CCCCCC"> a base set</font><font color="#E5E5E5"> of things</font>

614
00:24:54,139 --> 00:24:58,158
<font color="#E5E5E5">already and if you just say like</font><font color="#CCCCCC"> the</font>

615
00:24:56,179 --> 00:24:59,899
<font color="#CCCCCC">dialogue is give me</font><font color="#E5E5E5"> your password you</font>

616
00:24:58,159 --> 00:25:01,849
have<font color="#E5E5E5"> like a dialogue that</font><font color="#CCCCCC"> will pop up</font>

617
00:24:59,899 --> 00:25:03,408
<font color="#CCCCCC">and if those cancel button an OK button</font>

618
00:25:01,849 --> 00:25:06,049
<font color="#CCCCCC">so you like start building</font><font color="#E5E5E5"> from there</font>

619
00:25:03,409 --> 00:25:07,879
<font color="#E5E5E5">you probably need them have a place</font><font color="#CCCCCC"> to</font>

620
00:25:06,049 --> 00:25:10,729
type their password in so if you<font color="#CCCCCC"> use</font>

621
00:25:07,879 --> 00:25:12,289
default answer as well in<font color="#E5E5E5"> this command</font>

622
00:25:10,729 --> 00:25:14,690
<font color="#E5E5E5">they will have a place to type their</font>

623
00:25:12,289 --> 00:25:16,820
password but passwords<font color="#E5E5E5"> being typed in</font>

624
00:25:14,690 --> 00:25:19,399
<font color="#E5E5E5">clear text kind of garbage right so if</font>

625
00:25:16,820 --> 00:25:21,049
you<font color="#E5E5E5"> then also say with hidden answer it</font>

626
00:25:19,399 --> 00:25:23,629
hides the<font color="#E5E5E5"> password now</font><font color="#CCCCCC"> we're looking a</font>

627
00:25:21,049 --> 00:25:26,839
<font color="#E5E5E5">little bit more legitimate</font><font color="#CCCCCC"> so let</font><font color="#E5E5E5"> me</font>

628
00:25:23,629 --> 00:25:28,668
show<font color="#E5E5E5"> you something interesting</font><font color="#CCCCCC"> here but</font>

629
00:25:26,839 --> 00:25:31,009
I didn't know<font color="#E5E5E5"> this four years ago but</font><font color="#CCCCCC"> I</font>

630
00:25:28,669 --> 00:25:34,849
do know I do this I get<font color="#CCCCCC"> this pop-up</font>

631
00:25:31,009 --> 00:25:37,279
<font color="#CCCCCC">right if I'm like most users I'm like I</font>

632
00:25:34,849 --> 00:25:40,579
don't want<font color="#CCCCCC"> pop-ups escape</font><font color="#E5E5E5"> button and it</font>

633
00:25:37,279 --> 00:25:43,039
goes<font color="#CCCCCC"> away</font><font color="#E5E5E5"> right so I don't really like</font>

634
00:25:40,579 --> 00:25:45,229
that that can happen<font color="#E5E5E5"> and I don't like</font>

635
00:25:43,039 --> 00:25:49,070
that there's a option to<font color="#CCCCCC"> cancel here at</font>

636
00:25:45,229 --> 00:25:50,899
all<font color="#E5E5E5"> so if we do with text buttons</font><font color="#CCCCCC"> okay</font>

637
00:25:49,070 --> 00:25:52,549
<font color="#E5E5E5">meaning the only button is okay and the</font>

638
00:25:50,899 --> 00:25:53,988
default button<font color="#E5E5E5"> is one if you don't use</font>

639
00:25:52,549 --> 00:25:55,940
default button one when they hit enter

640
00:25:53,989 --> 00:25:56,599
it won't<font color="#CCCCCC"> they won't submit</font><font color="#E5E5E5"> so that's</font>

641
00:25:55,940 --> 00:26:09,369
what<font color="#E5E5E5"> that's</font><font color="#CCCCCC"> for</font>

642
00:25:56,599 --> 00:26:11,718
but if you do<font color="#E5E5E5"> that</font><font color="#CCCCCC"> do</font><font color="#E5E5E5"> that</font>

643
00:26:09,369 --> 00:26:13,879
that's me hitting<font color="#E5E5E5"> the escape button and</font>

644
00:26:11,719 --> 00:26:15,200
getting the system<font color="#CCCCCC"> bail that's</font><font color="#E5E5E5"> like you</font>

645
00:26:13,879 --> 00:26:17,869
can't escape me<font color="#E5E5E5"> there's there's no</font>

646
00:26:15,200 --> 00:26:23,599
cancel about it<font color="#E5E5E5"> you can't escape</font>

647
00:26:17,869 --> 00:26:25,668
and so and actually<font color="#E5E5E5"> yeah</font><font color="#CCCCCC"> people</font><font color="#E5E5E5"> ask me a</font>

648
00:26:23,599 --> 00:26:27,379
<font color="#E5E5E5">couple days</font><font color="#CCCCCC"> ago</font><font color="#E5E5E5"> if like you could kill</font>

649
00:26:25,669 --> 00:26:30,229
this from<font color="#E5E5E5"> System Preferences or kill the</font>

650
00:26:27,379 --> 00:26:32,718
process<font color="#E5E5E5"> and I couldn't find an easy way</font>

651
00:26:30,229 --> 00:26:34,099
<font color="#CCCCCC">to do</font><font color="#E5E5E5"> that as well so</font><font color="#CCCCCC"> you're lame</font><font color="#E5E5E5"> you're</font>

652
00:26:32,719 --> 00:26:36,409
lame user is gonna be like their only

653
00:26:34,099 --> 00:26:38,928
option is<font color="#CCCCCC"> to try and</font><font color="#E5E5E5"> hit enter without</font>

654
00:26:36,409 --> 00:26:39,890
<font color="#E5E5E5">typing their password which makes it go</font>

655
00:26:38,929 --> 00:26:41,240
away

656
00:26:39,890 --> 00:26:43,190
if you come back here<font color="#CCCCCC"> and you</font><font color="#E5E5E5"> see that</font>

657
00:26:41,240 --> 00:26:44,870
there's no<font color="#E5E5E5"> text returned</font><font color="#CCCCCC"> guess what your</font>

658
00:26:43,190 --> 00:26:48,110
move is hey<font color="#CCCCCC"> man you didn't type your</font>

659
00:26:44,870 --> 00:26:50,510
password<font color="#CCCCCC"> get back up</font><font color="#E5E5E5"> there right so when</font>

660
00:26:48,110 --> 00:26:52,370
they type their password this<font color="#E5E5E5"> comes back</font>

661
00:26:50,510 --> 00:26:56,540
down<font color="#E5E5E5"> to here oh man I shouldn't have</font>

662
00:26:52,370 --> 00:26:59,199
take my real<font color="#CCCCCC"> password into their sad lot</font>

663
00:26:56,540 --> 00:27:02,899
<font color="#E5E5E5">cause that's what it's called</font>

664
00:26:59,200 --> 00:27:05,540
<font color="#E5E5E5">okay so still doesn't look very</font>

665
00:27:02,900 --> 00:27:06,920
legitimate<font color="#CCCCCC"> you can add a title so you</font>

666
00:27:05,540 --> 00:27:09,860
can say the<font color="#CCCCCC"> title is</font><font color="#E5E5E5"> software update</font>

667
00:27:06,920 --> 00:27:11,390
<font color="#E5E5E5">something like that</font><font color="#CCCCCC"> ah you got an icon</font>

668
00:27:09,860 --> 00:27:12,469
file<font color="#E5E5E5"> this is where it gets really</font>

669
00:27:11,390 --> 00:27:15,350
interesting<font color="#E5E5E5"> because you can sort it</font><font color="#CCCCCC"> out</font>

670
00:27:12,470 --> 00:27:16,970
an icon file from anything<font color="#CCCCCC"> in the in the</font>

671
00:27:15,350 --> 00:27:18,350
<font color="#CCCCCC">old method if you</font><font color="#E5E5E5"> were pointing towards</font>

672
00:27:16,970 --> 00:27:21,080
an application it would automatically

673
00:27:18,350 --> 00:27:23,360
<font color="#CCCCCC">take that apps icon but you can point</font><font color="#E5E5E5"> it</font>

674
00:27:21,080 --> 00:27:26,960
towards any applications icon<font color="#CCCCCC"> it's going</font>

675
00:27:23,360 --> 00:27:28,550
to be like because<font color="#CCCCCC"> mac-like applications</font>

676
00:27:26,960 --> 00:27:30,830
dot app they're<font color="#E5E5E5"> basically a folder with</font>

677
00:27:28,550 --> 00:27:32,540
things<font color="#E5E5E5"> inside of them so</font><font color="#CCCCCC"> you</font><font color="#E5E5E5"> can go</font>

678
00:27:30,830 --> 00:27:33,770
under like contents resources and the

679
00:27:32,540 --> 00:27:35,149
icon file will<font color="#CCCCCC"> be in there so you go</font>

680
00:27:33,770 --> 00:27:38,540
grab<font color="#CCCCCC"> it from any application on the</font>

681
00:27:35,150 --> 00:27:40,430
system you<font color="#E5E5E5"> want here's a couple for your</font>

682
00:27:38,540 --> 00:27:41,629
use<font color="#E5E5E5"> that is too small to see but you</font>

683
00:27:40,430 --> 00:27:45,310
<font color="#E5E5E5">know maybe you'll go see</font><font color="#CCCCCC"> you later</font>

684
00:27:41,630 --> 00:27:47,360
there's a software<font color="#E5E5E5"> update file vault</font>

685
00:27:45,310 --> 00:27:50,780
<font color="#CCCCCC">iCloud could make for</font><font color="#E5E5E5"> some</font><font color="#CCCCCC"> interesting</font>

686
00:27:47,360 --> 00:27:52,490
ones<font color="#CCCCCC"> if at the</font><font color="#E5E5E5"> bottom there you can see</font>

687
00:27:50,780 --> 00:27:56,750
if you want to just search for icon

688
00:27:52,490 --> 00:27:59,540
files<font color="#E5E5E5"> do fine dot that I</font><font color="#CCCCCC"> named star dot</font>

689
00:27:56,750 --> 00:28:01,460
<font color="#E5E5E5">icns which is the icon file format and</font>

690
00:27:59,540 --> 00:28:03,080
<font color="#CCCCCC">just like let it search the</font><font color="#E5E5E5"> system for</font>

691
00:28:01,460 --> 00:28:04,280
icon files and you'll have a big list of

692
00:28:03,080 --> 00:28:06,169
<font color="#CCCCCC">things that you can use and pick and</font>

693
00:28:04,280 --> 00:28:08,540
<font color="#E5E5E5">choose</font><font color="#CCCCCC"> from one thing I've noticed is</font>

694
00:28:06,170 --> 00:28:10,370
this whole like<font color="#E5E5E5"> oh so script thing isn't</font>

695
00:28:08,540 --> 00:28:13,100
<font color="#CCCCCC">just a tool for like doing</font><font color="#E5E5E5"> evil deeds</font>

696
00:28:10,370 --> 00:28:15,379
<font color="#E5E5E5">lots of like fleet endpoint management</font>

697
00:28:13,100 --> 00:28:16,939
people<font color="#CCCCCC"> will use it when they're like oh</font>

698
00:28:15,380 --> 00:28:18,380
I need to<font color="#E5E5E5"> prompt everybody in the</font>

699
00:28:16,940 --> 00:28:19,340
environment<font color="#E5E5E5"> for their</font><font color="#CCCCCC"> password to update</font>

700
00:28:18,380 --> 00:28:20,660
it on<font color="#E5E5E5"> the back end or something like</font>

701
00:28:19,340 --> 00:28:22,760
that<font color="#CCCCCC"> so they'll</font><font color="#E5E5E5"> make their own</font><font color="#CCCCCC"> Oso</font>

702
00:28:20,660 --> 00:28:24,890
script prompts<font color="#E5E5E5"> and maybe for</font><font color="#CCCCCC"> some other</font>

703
00:28:22,760 --> 00:28:27,470
<font color="#E5E5E5">reasons they may put the company logo</font>

704
00:28:24,890 --> 00:28:28,730
icon<font color="#E5E5E5"> file on the system so if you wanted</font>

705
00:28:27,470 --> 00:28:30,140
you could probably<font color="#E5E5E5"> grab the company's</font>

706
00:28:28,730 --> 00:28:33,950
logo and create some<font color="#E5E5E5"> kind of</font><font color="#CCCCCC"> pop-up</font>

707
00:28:30,140 --> 00:28:35,510
<font color="#CCCCCC">dialog as the company to just uh</font><font color="#E5E5E5"> just</font>

708
00:28:33,950 --> 00:28:37,490
the thought so you end<font color="#CCCCCC"> up</font><font color="#E5E5E5"> getting</font>

709
00:28:35,510 --> 00:28:38,030
<font color="#E5E5E5">something</font><font color="#CCCCCC"> like</font><font color="#E5E5E5"> this which like it's not</font>

710
00:28:37,490 --> 00:28:41,480
<font color="#E5E5E5">bad</font>

711
00:28:38,030 --> 00:28:42,920
I mean it's it's<font color="#CCCCCC"> okay</font><font color="#E5E5E5"> it's been around</font>

712
00:28:41,480 --> 00:28:45,710
for a while<font color="#E5E5E5"> for</font><font color="#CCCCCC"> some reason it still</font>

713
00:28:42,920 --> 00:28:48,230
<font color="#E5E5E5">works so my hope here is by telling</font><font color="#CCCCCC"> you</font>

714
00:28:45,710 --> 00:28:51,020
all<font color="#CCCCCC"> this</font><font color="#E5E5E5"> again</font><font color="#CCCCCC"> more</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> more</font><font color="#E5E5E5"> of you will</font>

715
00:28:48,230 --> 00:28:52,730
<font color="#E5E5E5">use this on engagements and maybe like</font>

716
00:28:51,020 --> 00:28:54,129
internally at your company<font color="#E5E5E5"> and then like</font>

717
00:28:52,730 --> 00:28:56,290
slowly<font color="#E5E5E5"> it won't</font>

718
00:28:54,130 --> 00:28:57,970
work anymore<font color="#CCCCCC"> right</font><font color="#E5E5E5"> because it's it's</font>

719
00:28:56,290 --> 00:28:59,740
been it's<font color="#CCCCCC"> been a while like people</font>

720
00:28:57,970 --> 00:29:03,760
<font color="#E5E5E5">shouldn't fall for this anymore but they</font>

721
00:28:59,740 --> 00:29:05,830
do so yeah this this<font color="#CCCCCC"> isn't that you</font><font color="#E5E5E5"> know</font>

722
00:29:03,760 --> 00:29:07,330
so we've got this you could probably

723
00:29:05,830 --> 00:29:12,970
trigger this<font color="#E5E5E5"> automatically from Empire</font>

724
00:29:07,330 --> 00:29:15,730
now<font color="#E5E5E5"> so but it's</font><font color="#CCCCCC"> not it's</font><font color="#E5E5E5"> not</font><font color="#CCCCCC"> like it's</font>

725
00:29:12,970 --> 00:29:18,310
<font color="#E5E5E5">not perfect right</font><font color="#CCCCCC"> cuz</font><font color="#E5E5E5"> like real prompts</font>

726
00:29:15,730 --> 00:29:20,860
they look like this you know they have

727
00:29:18,310 --> 00:29:23,290
two text<font color="#E5E5E5"> fields one has the username</font>

728
00:29:20,860 --> 00:29:27,389
they've got<font color="#E5E5E5"> bold text at the top and</font>

729
00:29:23,290 --> 00:29:30,250
then a subtext<font color="#E5E5E5"> there's a big lock icon</font>

730
00:29:27,390 --> 00:29:33,160
<font color="#CCCCCC">so like you know we kind</font><font color="#E5E5E5"> of knew that we</font>

731
00:29:30,250 --> 00:29:34,480
we<font color="#E5E5E5"> weren't it wasn't perfect so my</font><font color="#CCCCCC"> shout</font>

732
00:29:33,160 --> 00:29:37,950
<font color="#CCCCCC">outs</font><font color="#E5E5E5"> when</font><font color="#CCCCCC"> I co-presenter he wasn't here</font>

733
00:29:34,480 --> 00:29:40,980
he's like okay I got this

734
00:29:37,950 --> 00:29:44,230
here's a here's a fake one

735
00:29:40,980 --> 00:29:45,730
also using<font color="#CCCCCC"> Oso script here's the source</font>

736
00:29:44,230 --> 00:29:47,020
code for the background so see that's

737
00:29:45,730 --> 00:29:48,820
<font color="#CCCCCC">just in case</font><font color="#E5E5E5"> something doesn't get</font>

738
00:29:47,020 --> 00:29:53,400
<font color="#CCCCCC">open-source</font><font color="#E5E5E5"> you guys can find tooth comb</font>

739
00:29:48,820 --> 00:29:55,990
<font color="#CCCCCC">bat and recreated no so here's how</font>

740
00:29:53,400 --> 00:29:58,570
here's how this works<font color="#CCCCCC"> so</font><font color="#E5E5E5"> the script is</font>

741
00:29:55,990 --> 00:30:01,150
basically using<font color="#E5E5E5"> the cocoa framework and</font>

742
00:29:58,570 --> 00:30:02,560
it is just drawing<font color="#E5E5E5"> all these</font><font color="#CCCCCC"> elements so</font>

743
00:30:01,150 --> 00:30:04,810
<font color="#E5E5E5">like when you use Apple script and</font>

744
00:30:02,560 --> 00:30:06,280
you're<font color="#E5E5E5"> like hey like display dialogue it</font>

745
00:30:04,810 --> 00:30:07,899
like automatically creates a bunch<font color="#E5E5E5"> of</font>

746
00:30:06,280 --> 00:30:09,970
this stuff<font color="#E5E5E5"> for you but you can call the</font>

747
00:30:07,900 --> 00:30:11,800
underlying substance subsystems<font color="#CCCCCC"> and draw</font>

748
00:30:09,970 --> 00:30:13,900
stuff in an accessory view and<font color="#CCCCCC"> just put</font>

749
00:30:11,800 --> 00:30:17,379
whatever you<font color="#CCCCCC"> want in there so he's</font>

750
00:30:13,900 --> 00:30:19,600
basically making an overlay to<font color="#CCCCCC"> get</font><font color="#E5E5E5"> this</font>

751
00:30:17,380 --> 00:30:23,710
lock icon and put another<font color="#E5E5E5"> icon on top of</font>

752
00:30:19,600 --> 00:30:26,500
it<font color="#E5E5E5"> so it looks legitimate and then</font>

753
00:30:23,710 --> 00:30:30,370
everything else<font color="#E5E5E5"> is just manually drawing</font>

754
00:30:26,500 --> 00:30:35,230
the window so this is what this looks

755
00:30:30,370 --> 00:30:44,610
<font color="#CCCCCC">like</font><font color="#E5E5E5"> it's like and here's a little old</font>

756
00:30:35,230 --> 00:30:48,090
so it<font color="#E5E5E5"> bars for a second okay</font>

757
00:30:44,610 --> 00:30:52,649
I've tested<font color="#CCCCCC"> this about</font><font color="#E5E5E5"> 70 times</font><font color="#CCCCCC"> first</font>

758
00:30:48,090 --> 00:30:54,209
time that's happened I'm<font color="#E5E5E5"> gonna laugh if</font>

759
00:30:52,649 --> 00:30:57,080
it doesn't work again<font color="#CCCCCC"> okay there we go</font>

760
00:30:54,210 --> 00:31:01,649
<font color="#E5E5E5">okay so here is here</font><font color="#CCCCCC"> is our fake guy</font>

761
00:30:57,080 --> 00:31:06,720
<font color="#E5E5E5">pretty cool</font><font color="#CCCCCC"> for comparison</font><font color="#E5E5E5"> here is</font><font color="#CCCCCC"> the</font>

762
00:31:01,649 --> 00:31:08,100
one<font color="#CCCCCC"> we</font><font color="#E5E5E5"> were copying right now</font><font color="#CCCCCC"> this it's</font>

763
00:31:06,720 --> 00:31:11,279
the prompt that<font color="#E5E5E5"> happens when you try and</font>

764
00:31:08,100 --> 00:31:15,830
do<font color="#E5E5E5"> this click on lock to make changes so</font>

765
00:31:11,279 --> 00:31:19,019
a real one<font color="#E5E5E5"> think what real one big one</font>

766
00:31:15,830 --> 00:31:21,779
slightly<font color="#E5E5E5"> different right tiny</font>

767
00:31:19,019 --> 00:31:23,549
differences you<font color="#E5E5E5"> know it's kind of</font><font color="#CCCCCC"> hard</font>

768
00:31:21,779 --> 00:31:26,580
to see I'm<font color="#E5E5E5"> trying to zoom in on</font><font color="#CCCCCC"> my</font>

769
00:31:23,549 --> 00:31:27,809
screen it's<font color="#E5E5E5"> not working but um pretty</font>

770
00:31:26,580 --> 00:31:33,320
pretty good right

771
00:31:27,809 --> 00:31:33,320
pretty pretty slick yeah thanks<font color="#CCCCCC"> a</font><font color="#E5E5E5"> - so</font>

772
00:31:35,419 --> 00:31:43,470
thanks thanks thanks<font color="#CCCCCC"> okay</font><font color="#E5E5E5"> so I was</font>

773
00:31:40,529 --> 00:31:45,870
<font color="#CCCCCC">thinking maybe I could</font><font color="#E5E5E5"> so like if that</font>

774
00:31:43,470 --> 00:31:48,480
thing just pops up<font color="#E5E5E5"> you know still so</font>

775
00:31:45,870 --> 00:31:50,309
having the like my boss's words echo in

776
00:31:48,480 --> 00:31:51,779
<font color="#CCCCCC">my head for all</font><font color="#E5E5E5"> eternity like that's</font>

777
00:31:50,309 --> 00:31:53,908
never gonna<font color="#CCCCCC"> work you're gonna</font><font color="#E5E5E5"> get caught</font>

778
00:31:51,779 --> 00:31:57,990
instantly<font color="#CCCCCC"> I was thinking</font><font color="#E5E5E5"> like okay it's</font>

779
00:31:53,909 --> 00:31:59,070
weird<font color="#CCCCCC"> if that pops</font><font color="#E5E5E5"> up out of</font><font color="#CCCCCC"> the blue so</font>

780
00:31:57,990 --> 00:32:03,360
<font color="#CCCCCC">I'm just thinking maybe we</font><font color="#E5E5E5"> can combine</font>

781
00:31:59,070 --> 00:32:05,970
<font color="#E5E5E5">these two techniques so that when the</font>

782
00:32:03,360 --> 00:32:08,340
<font color="#CCCCCC">user does something they get</font><font color="#E5E5E5"> this prompt</font>

783
00:32:05,970 --> 00:32:10,769
<font color="#E5E5E5">that way it's sort of like more normal</font>

784
00:32:08,340 --> 00:32:13,320
operating system<font color="#E5E5E5"> type of things so I had</font>

785
00:32:10,769 --> 00:32:15,120
an idea<font color="#CCCCCC"> that</font><font color="#E5E5E5"> so like we have</font><font color="#CCCCCC"> this</font>

786
00:32:13,320 --> 00:32:18,320
keychain<font color="#E5E5E5"> access app which we'll talk</font>

787
00:32:15,120 --> 00:32:20,370
<font color="#E5E5E5">about this a little bit more but</font><font color="#CCCCCC"> um most</font>

788
00:32:18,320 --> 00:32:21,928
<font color="#E5E5E5">applications</font><font color="#CCCCCC"> will store secrets in here</font>

789
00:32:20,370 --> 00:32:24,090
<font color="#E5E5E5">so like when you install stuff like</font>

790
00:32:21,929 --> 00:32:25,049
things change in here pretty<font color="#E5E5E5"> regularly</font>

791
00:32:24,090 --> 00:32:27,809
<font color="#CCCCCC">and this</font><font color="#E5E5E5"> is something that like</font>

792
00:32:25,049 --> 00:32:29,190
<font color="#E5E5E5">typically is important so perhaps they</font>

793
00:32:27,809 --> 00:32:31,049
are getting<font color="#E5E5E5"> these pop-ups where like you</font>

794
00:32:29,190 --> 00:32:33,720
have to click allow<font color="#E5E5E5"> for certain things</font>

795
00:32:31,049 --> 00:32:39,110
<font color="#E5E5E5">so like sliding our pop-up in at the</font>

796
00:32:33,720 --> 00:32:43,049
<font color="#E5E5E5">same time would be good</font><font color="#CCCCCC"> so the idea was</font>

797
00:32:39,110 --> 00:32:45,209
<font color="#E5E5E5">let's do a watch path on the keychain</font>

798
00:32:43,049 --> 00:32:48,690
itself so let's<font color="#E5E5E5"> watch for the keychain</font>

799
00:32:45,210 --> 00:32:52,470
<font color="#CCCCCC">file to change and then let's trigger</font>

800
00:32:48,690 --> 00:32:55,909
our<font color="#CCCCCC"> OSA props</font><font color="#E5E5E5"> does that make sense yeah</font>

801
00:32:52,470 --> 00:32:55,909
so this<font color="#E5E5E5"> guy</font>

802
00:32:57,950 --> 00:33:06,780
<font color="#CCCCCC">load and</font><font color="#E5E5E5"> this is</font><font color="#CCCCCC"> OSA on you so now this</font>

803
00:33:04,830 --> 00:33:09,659
is<font color="#CCCCCC"> gonna watch for the keychain file to</font>

804
00:33:06,780 --> 00:33:10,830
change<font color="#E5E5E5"> and I'm gonna like like this</font>

805
00:33:09,660 --> 00:33:14,280
would happen<font color="#CCCCCC"> this happens pretty</font>

806
00:33:10,830 --> 00:33:16,980
frequently<font color="#E5E5E5"> like actually let me see if I</font>

807
00:33:14,280 --> 00:33:19,399
can<font color="#E5E5E5"> do this let me launch slack which I</font>

808
00:33:16,980 --> 00:33:23,090
<font color="#E5E5E5">think does a read of the</font><font color="#CCCCCC"> keychain and</font>

809
00:33:19,400 --> 00:33:23,090
slack is popping up

810
00:33:23,180 --> 00:33:28,830
<font color="#E5E5E5">maybe my thing will pop up too</font>

811
00:33:25,440 --> 00:33:32,460
I didn't test it<font color="#E5E5E5"> like this maybe that's</font>

812
00:33:28,830 --> 00:33:34,260
not<font color="#CCCCCC"> what's significant</font><font color="#E5E5E5"> so if something</font>

813
00:33:32,460 --> 00:33:39,960
got added<font color="#E5E5E5"> to the keychain brand the open</font>

814
00:33:34,260 --> 00:33:42,030
oh there it<font color="#E5E5E5"> is it's just</font><font color="#CCCCCC"> too</font><font color="#E5E5E5"> slow I've</font>

815
00:33:39,960 --> 00:33:47,400
lost it<font color="#E5E5E5"> you guys all saw it though it</font>

816
00:33:42,030 --> 00:33:50,310
was there it's legit<font color="#E5E5E5"> I should play first</font>

817
00:33:47,400 --> 00:33:52,320
<font color="#E5E5E5">more first-person shooters then huh so</font>

818
00:33:50,310 --> 00:33:54,060
here we go<font color="#E5E5E5"> so like I launched slack and</font>

819
00:33:52,320 --> 00:33:56,159
<font color="#E5E5E5">system preferences is now trying to</font>

820
00:33:54,060 --> 00:33:57,510
unlock security so I could cheat<font color="#E5E5E5"> I mean</font>

821
00:33:56,160 --> 00:33:58,860
<font color="#E5E5E5">remember like we're drawing whatever we</font>

822
00:33:57,510 --> 00:34:00,570
want<font color="#E5E5E5"> on here so</font><font color="#CCCCCC"> we could make it like</font>

823
00:33:58,860 --> 00:34:01,709
<font color="#E5E5E5">okay we're gonna target slack</font>

824
00:34:00,570 --> 00:34:03,419
specifically or we're<font color="#E5E5E5"> going to target</font>

825
00:34:01,710 --> 00:34:08,420
<font color="#E5E5E5">the keychain so when the keychain</font>

826
00:34:03,420 --> 00:34:08,420
changes our<font color="#E5E5E5"> OSA Script problem pops up</font>

827
00:34:11,389 --> 00:34:15,480
yeah you could so you could you can take

828
00:34:14,010 --> 00:34:18,090
this and<font color="#E5E5E5"> you</font><font color="#CCCCCC"> could wrap it in a script</font>

829
00:34:15,480 --> 00:34:22,860
and<font color="#E5E5E5"> then</font><font color="#CCCCCC"> you could like so so whatever I</font>

830
00:34:18,090 --> 00:34:31,800
type in<font color="#E5E5E5"> here real passwords</font><font color="#CCCCCC"> okay is then</font>

831
00:34:22,860 --> 00:34:33,380
going to<font color="#E5E5E5"> be logged out</font><font color="#CCCCCC"> to I forget where</font>

832
00:34:31,800 --> 00:34:37,800
I logged it

833
00:34:33,380 --> 00:34:39,000
big<font color="#CCCCCC"> pop that lock yeah so passers are</font>

834
00:34:37,800 --> 00:34:41,250
gonna be logged here<font color="#E5E5E5"> so you could have</font>

835
00:34:39,000 --> 00:34:44,940
<font color="#CCCCCC">another script that's like</font><font color="#E5E5E5"> watching this</font>

836
00:34:41,250 --> 00:34:46,710
and is like<font color="#E5E5E5"> hey I got</font><font color="#CCCCCC"> a password</font><font color="#E5E5E5"> like is</font>

837
00:34:44,940 --> 00:34:50,550
<font color="#E5E5E5">it right like</font><font color="#CCCCCC"> doesn't work for me to</font>

838
00:34:46,710 --> 00:34:54,990
<font color="#CCCCCC">sudo on a system if that fails then like</font>

839
00:34:50,550 --> 00:34:56,970
prompt again<font color="#CCCCCC"> chances aren't so when I</font>

840
00:34:54,989 --> 00:34:58,830
look in<font color="#CCCCCC"> the past when I've used like</font><font color="#E5E5E5"> the</font>

841
00:34:56,969 --> 00:35:00,720
<font color="#E5E5E5">manual little Oso script thing when I</font>

842
00:34:58,830 --> 00:35:02,160
prompt people<font color="#E5E5E5"> even if they type their</font>

843
00:35:00,720 --> 00:35:04,500
password in right<font color="#CCCCCC"> away sometimes I just</font>

844
00:35:02,160 --> 00:35:05,910
<font color="#E5E5E5">prompt them again to see</font><font color="#CCCCCC"> if they'll type</font>

845
00:35:04,500 --> 00:35:07,140
in a slightly<font color="#E5E5E5"> different password because</font>

846
00:35:05,910 --> 00:35:08,370
<font color="#E5E5E5">maybe they have like a password for</font>

847
00:35:07,140 --> 00:35:09,690
<font color="#E5E5E5">their system and a password</font>

848
00:35:08,370 --> 00:35:11,759
so<font color="#CCCCCC"> so and they like</font><font color="#E5E5E5"> getting mixed up all</font>

849
00:35:09,690 --> 00:35:12,810
the<font color="#E5E5E5"> time so I'm like and if I can get</font>

850
00:35:11,760 --> 00:35:14,430
<font color="#E5E5E5">like maybe they</font><font color="#CCCCCC"> think maybe it's</font><font color="#E5E5E5"> like</font>

851
00:35:12,810 --> 00:35:16,230
old password<font color="#CCCCCC"> and new password and</font><font color="#E5E5E5"> they</font>

852
00:35:14,430 --> 00:35:18,930
take both that sort of gives<font color="#E5E5E5"> me the idea</font>

853
00:35:16,230 --> 00:35:20,820
<font color="#CCCCCC">of like</font><font color="#E5E5E5"> okay</font><font color="#CCCCCC"> this</font><font color="#E5E5E5"> is how they change</font>

854
00:35:18,930 --> 00:35:22,140
their password over iterations and like

855
00:35:20,820 --> 00:35:47,900
maybe I'll be able<font color="#E5E5E5"> to guess all</font>

856
00:35:22,140 --> 00:35:51,120
<font color="#E5E5E5">passwords then from the future right</font>

857
00:35:47,900 --> 00:35:53,550
<font color="#E5E5E5">yeah so I think the combination of these</font>

858
00:35:51,120 --> 00:35:56,190
two techniques<font color="#CCCCCC"> being able to watch</font><font color="#E5E5E5"> any</font>

859
00:35:53,550 --> 00:35:58,500
file on the system for changes<font color="#E5E5E5"> and then</font>

860
00:35:56,190 --> 00:35:59,100
being able to<font color="#E5E5E5"> trigger like a prompt</font>

861
00:35:58,500 --> 00:36:01,260
coming up

862
00:35:59,100 --> 00:36:03,089
you could then be<font color="#E5E5E5"> like okay like I mean</font>

863
00:36:01,260 --> 00:36:04,980
<font color="#E5E5E5">this descent it becomes an</font><font color="#CCCCCC"> exercise of</font>

864
00:36:03,090 --> 00:36:07,500
going<font color="#E5E5E5"> to find the right file to watch</font>

865
00:36:04,980 --> 00:36:08,730
<font color="#CCCCCC">right so like if</font><font color="#E5E5E5"> I want to target slack</font>

866
00:36:07,500 --> 00:36:09,980
specifically<font color="#CCCCCC"> there maybe I</font><font color="#E5E5E5"> want</font><font color="#CCCCCC"> to</font>

867
00:36:08,730 --> 00:36:13,140
target<font color="#E5E5E5"> like a password manager</font>

868
00:36:09,980 --> 00:36:14,850
<font color="#E5E5E5">specifically I'll be like okay I'm going</font>

869
00:36:13,140 --> 00:36:17,160
<font color="#E5E5E5">to you I'll show you something actually</font>

870
00:36:14,850 --> 00:36:19,589
<font color="#E5E5E5">in Mexico</font><font color="#CCCCCC"> sighs</font><font color="#E5E5E5"> but it's like I want to</font>

871
00:36:17,160 --> 00:36:20,850
figure<font color="#CCCCCC"> out what files that thing touches</font>

872
00:36:19,590 --> 00:36:22,500
when it starts up<font color="#E5E5E5"> and I just want to</font>

873
00:36:20,850 --> 00:36:24,390
<font color="#E5E5E5">watch like one of those files that never</font>

874
00:36:22,500 --> 00:36:26,180
<font color="#E5E5E5">gets touch any other time</font><font color="#CCCCCC"> that way like</font>

875
00:36:24,390 --> 00:36:28,049
and then<font color="#E5E5E5"> my prompt will</font><font color="#CCCCCC"> be like</font>

876
00:36:26,180 --> 00:36:30,299
specifically drawn for that application

877
00:36:28,050 --> 00:36:32,160
<font color="#CCCCCC">right</font><font color="#E5E5E5"> so maybe it's like one password</font>

878
00:36:30,300 --> 00:36:33,630
<font color="#CCCCCC">and I want to do an extra one password</font>

879
00:36:32,160 --> 00:36:35,609
<font color="#E5E5E5">prompt but I'll wait for them to launch</font>

880
00:36:33,630 --> 00:36:37,290
one password<font color="#CCCCCC"> that</font><font color="#E5E5E5"> way it's not</font><font color="#CCCCCC"> just like</font>

881
00:36:35,610 --> 00:36:39,690
hacker randomly<font color="#E5E5E5"> doing something on the</font>

882
00:36:37,290 --> 00:36:57,509
box but<font color="#CCCCCC"> its user does something</font><font color="#E5E5E5"> system</font>

883
00:36:39,690 --> 00:36:59,760
prompts<font color="#E5E5E5"> them again</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> haven't tried</font>

884
00:36:57,510 --> 00:37:03,150
combining them into<font color="#E5E5E5"> a bunch of plist I</font>

885
00:36:59,760 --> 00:37:06,000
think each<font color="#CCCCCC"> one only takes one</font><font color="#E5E5E5"> programmer</font>

886
00:37:03,150 --> 00:37:07,710
argument but it is<font color="#E5E5E5"> XML so see you know</font>

887
00:37:06,000 --> 00:37:12,080
my co-presenter would have been able<font color="#E5E5E5"> to</font>

888
00:37:07,710 --> 00:37:12,080
<font color="#E5E5E5">answer that question</font><font color="#CCCCCC"> ring</font><font color="#E5E5E5"> rip</font>

889
00:37:12,370 --> 00:37:17,029
<font color="#CCCCCC">okay so now we have this like</font><font color="#E5E5E5"> cool</font>

890
00:37:14,960 --> 00:37:18,460
technique and like in in the vein<font color="#CCCCCC"> of</font>

891
00:37:17,030 --> 00:37:20,750
like maybe<font color="#E5E5E5"> we want to find other</font><font color="#CCCCCC"> things</font>

892
00:37:18,460 --> 00:37:22,400
<font color="#E5E5E5">but we also have like access to the</font>

893
00:37:20,750 --> 00:37:26,270
<font color="#CCCCCC">keychain</font><font color="#E5E5E5"> now like if we have their</font>

894
00:37:22,400 --> 00:37:28,280
password<font color="#E5E5E5"> the keychain application is</font>

895
00:37:26,270 --> 00:37:31,520
<font color="#E5E5E5">basically like a password vault for all</font>

896
00:37:28,280 --> 00:37:33,560
things<font color="#E5E5E5"> like on the system right so the</font>

897
00:37:31,520 --> 00:37:35,450
<font color="#CCCCCC">users password</font><font color="#E5E5E5"> unlocks it though so now</font>

898
00:37:33,560 --> 00:37:36,980
you have the<font color="#E5E5E5"> users password</font><font color="#CCCCCC"> you can just</font>

899
00:37:35,450 --> 00:37:38,899
<font color="#E5E5E5">grab their teaching you can type in</font>

900
00:37:36,980 --> 00:37:40,310
security<font color="#CCCCCC"> lists keychains it will tell</font>

901
00:37:38,900 --> 00:37:42,470
you where they<font color="#CCCCCC"> are the default locations</font>

902
00:37:40,310 --> 00:37:46,100
in the<font color="#E5E5E5"> users home folder under library</font>

903
00:37:42,470 --> 00:37:48,109
keychains<font color="#E5E5E5"> login</font><font color="#CCCCCC"> doc you</font><font color="#E5E5E5"> can be don't try</font>

904
00:37:46,100 --> 00:37:50,480
<font color="#CCCCCC">and mess with their keychain on their</font>

905
00:37:48,110 --> 00:37:51,980
system<font color="#E5E5E5"> you can use a security command to</font>

906
00:37:50,480 --> 00:37:53,570
like try and query it and stuff<font color="#E5E5E5"> like</font>

907
00:37:51,980 --> 00:37:56,150
that but it causes<font color="#E5E5E5"> like crazy mad</font>

908
00:37:53,570 --> 00:37:58,280
<font color="#E5E5E5">pop-ups like malware is trying to access</font>

909
00:37:56,150 --> 00:37:59,660
<font color="#E5E5E5">your keychain</font><font color="#CCCCCC"> it's you have</font><font color="#E5E5E5"> access to</font>

910
00:37:58,280 --> 00:38:01,640
the file<font color="#E5E5E5"> because you're the user you</font>

911
00:37:59,660 --> 00:38:03,589
<font color="#CCCCCC">just take it</font><font color="#E5E5E5"> off their system you can</font>

912
00:38:01,640 --> 00:38:05,089
either throw it on another<font color="#E5E5E5"> Mac system or</font>

913
00:38:03,590 --> 00:38:06,530
there's a tool called<font color="#E5E5E5"> chain breaker that</font>

914
00:38:05,090 --> 00:38:09,080
runs on Linux<font color="#E5E5E5"> that you can use the query</font>

915
00:38:06,530 --> 00:38:11,000
<font color="#E5E5E5">in and get stuff out of it so what's</font>

916
00:38:09,080 --> 00:38:13,040
inside keychain might you<font color="#CCCCCC"> ask first</font>

917
00:38:11,000 --> 00:38:15,140
<font color="#CCCCCC">chrome safe storage</font><font color="#E5E5E5"> key which is where</font>

918
00:38:13,040 --> 00:38:18,110
<font color="#CCCCCC">all the all the</font><font color="#E5E5E5"> chrome cookies are</font>

919
00:38:15,140 --> 00:38:20,240
encrypted with<font color="#E5E5E5"> there's also application</font>

920
00:38:18,110 --> 00:38:22,670
secrets which I'm<font color="#CCCCCC"> gonna</font><font color="#E5E5E5"> show you a nice</font>

921
00:38:20,240 --> 00:38:24,620
trick<font color="#CCCCCC"> with</font><font color="#E5E5E5"> Safari by default saves all</font>

922
00:38:22,670 --> 00:38:26,780
their passwords<font color="#CCCCCC"> into their Wi-Fi</font>

923
00:38:24,620 --> 00:38:29,930
passwords get saved<font color="#E5E5E5"> into</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> system</font>

924
00:38:26,780 --> 00:38:31,910
keychain<font color="#CCCCCC"> if you add SSH keys here at</font>

925
00:38:29,930 --> 00:38:33,440
<font color="#CCCCCC">Sage agent on</font><font color="#E5E5E5"> OSX like they get saved in</font>

926
00:38:31,910 --> 00:38:35,060
their certificates are saved in<font color="#CCCCCC"> there</font>

927
00:38:33,440 --> 00:38:36,380
<font color="#CCCCCC">well this goes</font><font color="#E5E5E5"> on there's a whole bunch</font>

928
00:38:35,060 --> 00:38:37,640
of stuff in<font color="#CCCCCC"> it might be good to</font><font color="#E5E5E5"> like</font>

929
00:38:36,380 --> 00:38:40,850
take a look at your<font color="#CCCCCC"> keychain and see</font>

930
00:38:37,640 --> 00:38:43,220
what's inside there so how about

931
00:38:40,850 --> 00:38:45,290
stealing<font color="#CCCCCC"> applications statement so you</font>

932
00:38:43,220 --> 00:38:46,939
ever noticed like there's some

933
00:38:45,290 --> 00:38:49,400
<font color="#CCCCCC">applications that basically like once</font>

934
00:38:46,940 --> 00:38:50,960
you sign<font color="#CCCCCC"> into them it</font><font color="#E5E5E5"> doesn't</font><font color="#CCCCCC"> matter if</font>

935
00:38:49,400 --> 00:38:53,030
you restart<font color="#E5E5E5"> your computer it doesn't</font>

936
00:38:50,960 --> 00:38:54,710
<font color="#E5E5E5">matter if it</font><font color="#CCCCCC"> goes like anything happens</font>

937
00:38:53,030 --> 00:38:58,190
you basically like start it up again<font color="#CCCCCC"> and</font>

938
00:38:54,710 --> 00:39:00,680
<font color="#E5E5E5">it is forever signed in slack being a</font>

939
00:38:58,190 --> 00:39:02,780
good example<font color="#E5E5E5"> since</font><font color="#CCCCCC"> a lot of</font><font color="#E5E5E5"> people use</font>

940
00:39:00,680 --> 00:39:05,390
<font color="#CCCCCC">that but this</font><font color="#E5E5E5"> general approach will work</font>

941
00:39:02,780 --> 00:39:07,670
for anything<font color="#E5E5E5"> that works like</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> so</font>

942
00:39:05,390 --> 00:39:09,230
step<font color="#E5E5E5"> one would be like notice that this</font>

943
00:39:07,670 --> 00:39:11,480
thing is in the<font color="#E5E5E5"> keychain in the first</font>

944
00:39:09,230 --> 00:39:12,920
place so I'm like<font color="#E5E5E5"> ooh I see slack is</font>

945
00:39:11,480 --> 00:39:15,020
saving something<font color="#E5E5E5"> in the keychain</font>

946
00:39:12,920 --> 00:39:16,790
step two is be like okay I want<font color="#CCCCCC"> to see</font>

947
00:39:15,020 --> 00:39:18,320
what it's saving particularly like maybe

948
00:39:16,790 --> 00:39:19,670
like maybe it's just<font color="#E5E5E5"> clear text</font>

949
00:39:18,320 --> 00:39:23,030
passwords in there that I can<font color="#CCCCCC"> now</font>

950
00:39:19,670 --> 00:39:25,070
decrypt<font color="#E5E5E5"> it's not inside mine there's</font>

951
00:39:23,030 --> 00:39:27,290
<font color="#E5E5E5">this thing that says top</font><font color="#CCCCCC"> 5 nm</font>

952
00:39:25,070 --> 00:39:28,670
gut okay whatever that<font color="#E5E5E5"> is I think that's</font>

953
00:39:27,290 --> 00:39:32,300
<font color="#E5E5E5">something that's related to my</font><font color="#CCCCCC"> user name</font>

954
00:39:28,670 --> 00:39:34,730
<font color="#CCCCCC">I am I was stuck on figuring</font><font color="#E5E5E5"> out how to</font>

955
00:39:32,300 --> 00:39:38,770
<font color="#E5E5E5">get this</font><font color="#CCCCCC"> to work for like weeks and</font>

956
00:39:34,730 --> 00:39:41,120
weeks<font color="#CCCCCC"> because I didn't</font><font color="#E5E5E5"> realize that the</font>

957
00:39:38,770 --> 00:39:43,910
output<font color="#E5E5E5"> here where it's like show</font>

958
00:39:41,120 --> 00:39:46,130
password<font color="#E5E5E5"> can be multi-line and if you</font>

959
00:39:43,910 --> 00:39:48,109
press<font color="#E5E5E5"> down there's like seven lines of</font>

960
00:39:46,130 --> 00:39:50,090
stuff underneath that so I was<font color="#E5E5E5"> like</font>

961
00:39:48,110 --> 00:39:52,130
manually copying over<font color="#E5E5E5"> this awful</font>

962
00:39:50,090 --> 00:39:53,990
<font color="#E5E5E5">business value typing in like top five</font>

963
00:39:52,130 --> 00:39:55,310
<font color="#CCCCCC">of</font><font color="#E5E5E5"> them got into like another thing and</font>

964
00:39:53,990 --> 00:39:57,979
it's like<font color="#E5E5E5"> not working</font><font color="#CCCCCC"> I'm like Carl</font>

965
00:39:55,310 --> 00:40:01,509
what's<font color="#E5E5E5"> the problem so I figured this out</font>

966
00:39:57,980 --> 00:40:01,510
<font color="#E5E5E5">today actually</font>

967
00:40:01,790 --> 00:40:05,570
so the deceptive be like okay<font color="#E5E5E5"> you be</font>

968
00:40:03,620 --> 00:40:07,279
like I have the users keychain<font color="#CCCCCC"> I see</font>

969
00:40:05,570 --> 00:40:09,980
that they're saving<font color="#E5E5E5"> this application</font>

970
00:40:07,280 --> 00:40:11,600
secret in there<font color="#E5E5E5"> okay like I'm just gonna</font>

971
00:40:09,980 --> 00:40:14,510
go get the application and install it on

972
00:40:11,600 --> 00:40:16,430
my<font color="#E5E5E5"> computer as well and then I'm</font><font color="#CCCCCC"> just</font>

973
00:40:14,510 --> 00:40:18,230
<font color="#CCCCCC">gonna take those values I'm just</font><font color="#E5E5E5"> gonna</font>

974
00:40:16,430 --> 00:40:20,029
copy them<font color="#CCCCCC"> from their keychain into my</font>

975
00:40:18,230 --> 00:40:22,130
keychain<font color="#E5E5E5"> and see what happens like</font>

976
00:40:20,030 --> 00:40:25,760
launch the app again<font color="#E5E5E5"> if you do this it</font>

977
00:40:22,130 --> 00:40:27,920
fails it<font color="#CCCCCC"> fails</font><font color="#E5E5E5"> pretty spectacularly</font>

978
00:40:25,760 --> 00:40:30,770
<font color="#E5E5E5">typically like you're logged out chances</font>

979
00:40:27,920 --> 00:40:32,330
are because<font color="#E5E5E5"> that secret isn't everything</font>

980
00:40:30,770 --> 00:40:35,050
there's probably other configuration

981
00:40:32,330 --> 00:40:38,509
files on the system<font color="#E5E5E5"> somewhere</font><font color="#CCCCCC"> right</font>

982
00:40:35,050 --> 00:40:40,610
so step<font color="#E5E5E5"> 5 is figure out how to how to do</font>

983
00:40:38,510 --> 00:40:42,170
this<font color="#E5E5E5"> so let me show you in um if you</font>

984
00:40:40,610 --> 00:40:44,420
have<font color="#E5E5E5"> Xcode</font><font color="#CCCCCC"> and developer tools on your</font>

985
00:40:42,170 --> 00:40:46,850
<font color="#CCCCCC">Mac</font><font color="#E5E5E5"> you have this really powerful thing</font>

986
00:40:44,420 --> 00:40:48,500
called<font color="#E5E5E5"> instruments so if you go to</font>

987
00:40:46,850 --> 00:40:50,240
instruments and you're like give me a

988
00:40:48,500 --> 00:40:52,490
new instruments project<font color="#E5E5E5"> you can say</font><font color="#CCCCCC"> I</font>

989
00:40:50,240 --> 00:40:54,589
want<font color="#CCCCCC"> to monitor all file activity</font><font color="#E5E5E5"> or</font>

990
00:40:52,490 --> 00:40:56,779
<font color="#E5E5E5">something and you can give it slack app</font>

991
00:40:54,590 --> 00:40:59,510
and then<font color="#E5E5E5"> you can start it and you can</font>

992
00:40:56,780 --> 00:41:01,790
click<font color="#E5E5E5"> record and</font><font color="#CCCCCC"> it will launch slack</font>

993
00:40:59,510 --> 00:41:03,950
open and it will trace all the<font color="#CCCCCC"> files</font>

994
00:41:01,790 --> 00:41:05,810
that<font color="#E5E5E5"> it touches so then I can scroll</font>

995
00:41:03,950 --> 00:41:07,520
<font color="#CCCCCC">through here kind of looking for like</font>

996
00:41:05,810 --> 00:41:10,850
hey like where does slack like put it

997
00:41:07,520 --> 00:41:13,730
stuff in scrolling through here<font color="#CCCCCC"> I find</font>

998
00:41:10,850 --> 00:41:15,620
this guy right under my user<font color="#CCCCCC"> under</font>

999
00:41:13,730 --> 00:41:17,780
library under containers under<font color="#CCCCCC"> combo</font>

1000
00:41:15,620 --> 00:41:19,640
tiny<font color="#CCCCCC"> spec</font><font color="#E5E5E5"> top slack</font><font color="#CCCCCC"> Mac</font><font color="#E5E5E5"> app data library</font>

1001
00:41:17,780 --> 00:41:23,170
application support slack<font color="#CCCCCC"> and then</font>

1002
00:41:19,640 --> 00:41:26,390
<font color="#E5E5E5">there's a bunch of stuff</font><font color="#CCCCCC"> in there so</font>

1003
00:41:23,170 --> 00:41:28,790
like okay<font color="#CCCCCC"> maybe these files are what I</font>

1004
00:41:26,390 --> 00:41:31,160
<font color="#E5E5E5">need so I'm gonna just take all</font><font color="#CCCCCC"> of just</font>

1005
00:41:28,790 --> 00:41:32,570
all of these files I could I could by

1006
00:41:31,160 --> 00:41:35,120
trial and<font color="#E5E5E5"> error or by reverse</font>

1007
00:41:32,570 --> 00:41:37,160
<font color="#CCCCCC">engineering slack figure out exactly</font>

1008
00:41:35,120 --> 00:41:40,460
which file has that one key

1009
00:41:37,160 --> 00:41:42,618
<font color="#CCCCCC">the important piece of information in</font>

1010
00:41:40,460 --> 00:41:45,349
trying<font color="#E5E5E5"> to do that</font><font color="#CCCCCC"> I was able</font><font color="#E5E5E5"> to get like</font>

1011
00:41:42,619 --> 00:41:47,660
<font color="#CCCCCC">all of the various like slack channels I</font>

1012
00:41:45,349 --> 00:41:49,099
was in like pulled up but all of them

1013
00:41:47,660 --> 00:41:50,089
are<font color="#CCCCCC"> asking me to off again so there's</font>

1014
00:41:49,099 --> 00:41:52,460
<font color="#CCCCCC">something</font><font color="#E5E5E5"> else that I</font><font color="#CCCCCC"> haven't quite</font>

1015
00:41:50,089 --> 00:41:54,288
found yet<font color="#E5E5E5"> but it doesn't really matter</font>

1016
00:41:52,460 --> 00:41:57,980
because<font color="#E5E5E5"> we have everything</font><font color="#CCCCCC"> we need we</font>

1017
00:41:54,289 --> 00:42:01,309
<font color="#CCCCCC">can just take this whole thing</font><font color="#E5E5E5"> so wait</font>

1018
00:41:57,980 --> 00:42:02,660
let<font color="#E5E5E5"> me um let me try</font><font color="#CCCCCC"> and how much time</font>

1019
00:42:01,309 --> 00:42:06,440
<font color="#CCCCCC">how long is it</font><font color="#E5E5E5"> talk much how do I have</font>

1020
00:42:02,660 --> 00:42:09,859
<font color="#CCCCCC">that 20 minutes</font><font color="#E5E5E5"> still think okay cool</font>

1021
00:42:06,440 --> 00:42:15,140
<font color="#E5E5E5">let's do this</font><font color="#CCCCCC"> I have another</font><font color="#E5E5E5"> user</font>

1022
00:42:09,859 --> 00:42:17,480
account<font color="#E5E5E5"> on</font><font color="#CCCCCC"> this system and I am</font><font color="#E5E5E5"> going</font><font color="#CCCCCC"> to</font>

1023
00:42:15,140 --> 00:42:21,740
then like let me just<font color="#E5E5E5"> show you I suppose</font>

1024
00:42:17,480 --> 00:42:26,510
<font color="#E5E5E5">see if this works</font><font color="#CCCCCC"> so I either not fuzzy</font>

1025
00:42:21,740 --> 00:42:28,819
<font color="#E5E5E5">not user and over here</font><font color="#CCCCCC"> Here I am</font><font color="#E5E5E5"> I have</font>

1026
00:42:26,510 --> 00:42:31,010
slack<font color="#E5E5E5"> logged in I'm logged into</font><font color="#CCCCCC"> the</font>

1027
00:42:28,819 --> 00:42:33,890
nothing to see here space<font color="#E5E5E5"> is not fuzzy</font>

1028
00:42:31,010 --> 00:42:36,710
<font color="#E5E5E5">my life is great I</font><font color="#CCCCCC"> can I can use slack</font>

1029
00:42:33,890 --> 00:42:39,020
it's amazing<font color="#CCCCCC"> okay</font><font color="#E5E5E5"> so I'm gonna get get</font>

1030
00:42:36,710 --> 00:42:41,359
out of slack<font color="#CCCCCC"> just to avoid complications</font>

1031
00:42:39,020 --> 00:42:43,069
<font color="#E5E5E5">I don't think it matters actually you</font>

1032
00:42:41,359 --> 00:42:45,078
can move all these<font color="#E5E5E5"> files and change them</font>

1033
00:42:43,069 --> 00:42:46,339
in<font color="#E5E5E5"> the next time slack is loaded but it</font>

1034
00:42:45,079 --> 00:42:49,520
could get a<font color="#E5E5E5"> little messy if things are</font>

1035
00:42:46,339 --> 00:42:54,380
updating and pushing down<font color="#CCCCCC"> so in here I</font>

1036
00:42:49,520 --> 00:42:57,890
<font color="#CCCCCC">have I know right you suddenly like</font>

1037
00:42:54,380 --> 00:43:00,890
never trust<font color="#E5E5E5"> your computer</font><font color="#CCCCCC"> anymore so I</font>

1038
00:42:57,890 --> 00:43:03,348
mean here<font color="#E5E5E5"> I have some values for my</font>

1039
00:43:00,890 --> 00:43:07,660
tokens that<font color="#E5E5E5"> keep me logged</font><font color="#CCCCCC"> into</font><font color="#E5E5E5"> slack</font>

1040
00:43:03,349 --> 00:43:09,799
I have<font color="#CCCCCC"> already copied out my values for</font>

1041
00:43:07,660 --> 00:43:11,240
this other thing<font color="#E5E5E5"> which I probably</font>

1042
00:43:09,799 --> 00:43:14,990
shouldn't be<font color="#CCCCCC"> putting up on the screen</font>

1043
00:43:11,240 --> 00:43:19,129
<font color="#E5E5E5">right now no they think of that luckily</font>

1044
00:43:14,990 --> 00:43:22,129
<font color="#E5E5E5">is real small so I'm gonna change it</font><font color="#CCCCCC"> I</font>

1045
00:43:19,130 --> 00:43:25,369
<font color="#E5E5E5">want to post these values from my slack</font>

1046
00:43:22,130 --> 00:43:26,900
<font color="#E5E5E5">my slack login so now this guy's in</font>

1047
00:43:25,369 --> 00:43:29,150
there I'm gonna click Save<font color="#CCCCCC"> Changes now</font>

1048
00:43:26,900 --> 00:43:32,630
<font color="#CCCCCC">the keychain</font><font color="#E5E5E5"> has been updated for this</font>

1049
00:43:29,150 --> 00:43:35,260
user<font color="#CCCCCC"> it's gonna be easier for</font><font color="#E5E5E5"> me if I go</font>

1050
00:43:32,630 --> 00:43:35,260
back over<font color="#CCCCCC"> here</font>

1051
00:43:38,670 --> 00:43:56,130
did I prepare<font color="#E5E5E5"> okay</font>

1052
00:43:51,869 --> 00:43:59,069
so just<font color="#E5E5E5"> to</font><font color="#CCCCCC"> be safe I am going</font><font color="#E5E5E5"> to</font>

1053
00:43:56,130 --> 00:44:01,230
<font color="#E5E5E5">completely blow away all of the files</font>

1054
00:43:59,069 --> 00:44:14,910
<font color="#CCCCCC">that are in that slack</font><font color="#E5E5E5"> folder for</font><font color="#CCCCCC"> that</font>

1055
00:44:01,230 --> 00:44:17,339
other user by just removing<font color="#CCCCCC"> it and then</font>

1056
00:44:14,910 --> 00:44:18,839
I'm<font color="#E5E5E5"> going to copy these now you'd be</font>

1057
00:44:17,339 --> 00:44:20,910
doing this<font color="#E5E5E5"> on a remote system not like</font>

1058
00:44:18,839 --> 00:44:23,308
some one user to another but like for

1059
00:44:20,910 --> 00:44:26,009
demo purposes I think<font color="#CCCCCC"> this works</font><font color="#E5E5E5"> I'm</font>

1060
00:44:23,309 --> 00:44:28,500
<font color="#CCCCCC">gonna</font><font color="#E5E5E5"> copy those files over and then</font>

1061
00:44:26,010 --> 00:44:30,599
also I they're<font color="#CCCCCC"> all still owned by</font>

1062
00:44:28,500 --> 00:44:32,549
regular fuzzy<font color="#CCCCCC"> naath users so I'm going</font>

1063
00:44:30,599 --> 00:44:35,309
to<font color="#E5E5E5"> update the permissions to be the</font>

1064
00:44:32,549 --> 00:44:36,750
correct<font color="#E5E5E5"> user over there so now what</font>

1065
00:44:35,309 --> 00:44:38,460
those files are in place they've been

1066
00:44:36,750 --> 00:44:40,650
moved over<font color="#E5E5E5"> the</font><font color="#CCCCCC"> keychains been updated</font>

1067
00:44:38,460 --> 00:44:45,779
<font color="#E5E5E5">I'm gonna pop back over to this other</font>

1068
00:44:40,650 --> 00:44:47,759
<font color="#CCCCCC">guy and I'm gonna</font><font color="#E5E5E5"> launch slack it's</font>

1069
00:44:45,779 --> 00:44:49,589
gonna ask<font color="#E5E5E5"> me</font><font color="#CCCCCC"> this so this would</font><font color="#E5E5E5"> be</font>

1070
00:44:47,759 --> 00:44:51,660
<font color="#CCCCCC">happening on</font><font color="#E5E5E5"> a system that you control</font>

1071
00:44:49,589 --> 00:44:53,910
<font color="#E5E5E5">so the user</font><font color="#CCCCCC"> is never gonna see</font><font color="#E5E5E5"> anything</font>

1072
00:44:51,660 --> 00:44:57,269
<font color="#E5E5E5">change or be weird because of this good</font>

1073
00:44:53,910 --> 00:45:03,480
<font color="#CCCCCC">to</font><font color="#E5E5E5"> good to know</font><font color="#CCCCCC"> I cross my fingers</font>

1074
00:44:57,269 --> 00:45:06,029
oh damn guys so yep<font color="#E5E5E5"> here we</font><font color="#CCCCCC"> are this is</font>

1075
00:45:03,480 --> 00:45:09,000
my<font color="#E5E5E5"> personal slack that this other not</font>

1076
00:45:06,029 --> 00:45:10,950
<font color="#E5E5E5">fuzzy is suddenly logged</font><font color="#CCCCCC"> into</font><font color="#E5E5E5"> game over</font>

1077
00:45:09,000 --> 00:45:14,130
so now I have a really<font color="#CCCCCC"> great place to</font>

1078
00:45:10,950 --> 00:45:17,970
fish people from to monitor what the

1079
00:45:14,130 --> 00:45:19,140
blue<font color="#CCCCCC"> team's doing to read</font><font color="#E5E5E5"> messages to</font>

1080
00:45:17,970 --> 00:45:24,299
look at files that have been<font color="#E5E5E5"> shared</font>

1081
00:45:19,140 --> 00:45:25,980
<font color="#E5E5E5">previously in slack and if same a maybe</font>

1082
00:45:24,299 --> 00:45:28,680
<font color="#E5E5E5">like they're doing slack good and they</font>

1083
00:45:25,980 --> 00:45:30,359
like when you go to log in<font color="#E5E5E5"> to slack it's</font>

1084
00:45:28,680 --> 00:45:32,368
like<font color="#CCCCCC"> two</font><font color="#E5E5E5"> FA and everything through a</font>

1085
00:45:30,359 --> 00:45:34,140
single sign-on portal this technique

1086
00:45:32,369 --> 00:45:36,450
<font color="#E5E5E5">would effectively bypass that</font><font color="#CCCCCC"> and you</font>

1087
00:45:34,140 --> 00:45:41,629
can be logged<font color="#CCCCCC"> into people's slack</font>

1088
00:45:36,450 --> 00:45:41,629
instances from some other system

1089
00:45:42,910 --> 00:45:51,069
not bad right<font color="#CCCCCC"> so this general approach</font>

1090
00:45:47,460 --> 00:45:53,680
isn't<font color="#CCCCCC"> like a slack specific thing</font><font color="#E5E5E5"> right</font>

1091
00:45:51,069 --> 00:45:55,690
<font color="#E5E5E5">like I I originally made this uh this</font>

1092
00:45:53,680 --> 00:45:58,660
<font color="#E5E5E5">demo for a class and used HipChat but</font>

1093
00:45:55,690 --> 00:46:02,589
like HipChat sort of like gone away<font color="#E5E5E5"> but</font>

1094
00:45:58,660 --> 00:46:05,859
<font color="#E5E5E5">like any anything anything</font><font color="#CCCCCC"> on the system</font>

1095
00:46:02,589 --> 00:46:08,140
<font color="#E5E5E5">that</font><font color="#CCCCCC"> you noticed</font><font color="#E5E5E5"> like</font><font color="#CCCCCC"> well I stay logged</font>

1096
00:46:05,859 --> 00:46:09,369
in through reboots<font color="#E5E5E5"> something like this</font>

1097
00:46:08,140 --> 00:46:10,900
is<font color="#E5E5E5"> probably</font><font color="#CCCCCC"> going to be</font><font color="#E5E5E5"> possible because</font>

1098
00:46:09,369 --> 00:46:12,819
there is stuff in<font color="#CCCCCC"> dis</font><font color="#E5E5E5"> and was probably</font>

1099
00:46:10,900 --> 00:46:14,559
<font color="#E5E5E5">secrets in the keychain</font><font color="#CCCCCC"> that allow you</font>

1100
00:46:12,819 --> 00:46:16,420
to<font color="#CCCCCC"> reciate</font><font color="#E5E5E5"> that application state and</font>

1101
00:46:14,559 --> 00:46:20,589
pull it up somewhere<font color="#CCCCCC"> else so this also</font>

1102
00:46:16,420 --> 00:46:22,240
works<font color="#E5E5E5"> for like they</font><font color="#CCCCCC"> firefox</font><font color="#E5E5E5"> right all of</font>

1103
00:46:20,589 --> 00:46:24,250
your<font color="#E5E5E5"> firefox like sessions you</font><font color="#CCCCCC"> know how</font>

1104
00:46:22,240 --> 00:46:25,720
when you<font color="#E5E5E5"> close firefox out or it like</font>

1105
00:46:24,250 --> 00:46:27,160
something<font color="#E5E5E5"> bad happens and you start it</font>

1106
00:46:25,720 --> 00:46:28,899
up again<font color="#E5E5E5"> and it's like whoa like do you</font>

1107
00:46:27,160 --> 00:46:30,279
want to restore all your<font color="#E5E5E5"> tabs</font><font color="#CCCCCC"> you're</font>

1108
00:46:28,900 --> 00:46:31,720
<font color="#E5E5E5">like yes</font><font color="#CCCCCC"> please and</font><font color="#E5E5E5"> you get large back</font>

1109
00:46:30,279 --> 00:46:33,819
in the<font color="#CCCCCC"> Gmail and a ton of other places</font>

1110
00:46:31,720 --> 00:46:35,109
<font color="#CCCCCC">you can basically</font><font color="#E5E5E5"> just take like that</font>

1111
00:46:33,819 --> 00:46:36,460
entire there's nothing in the<font color="#CCCCCC"> keychain</font>

1112
00:46:35,109 --> 00:46:38,380
in this case you<font color="#E5E5E5"> take that entire</font>

1113
00:46:36,460 --> 00:46:40,690
Firefox folder<font color="#E5E5E5"> you throw it onto</font><font color="#CCCCCC"> another</font>

1114
00:46:38,380 --> 00:46:43,269
VM<font color="#CCCCCC"> you open up</font><font color="#E5E5E5"> Firefox and click restore</font>

1115
00:46:40,690 --> 00:46:44,920
you get logged<font color="#CCCCCC"> into</font><font color="#E5E5E5"> everything</font><font color="#CCCCCC"> so this</font>

1116
00:46:43,269 --> 00:46:47,558
general approach will scale and work

1117
00:46:44,920 --> 00:46:49,930
<font color="#E5E5E5">with lots and</font><font color="#CCCCCC"> lots and</font><font color="#E5E5E5"> lots of things so</font>

1118
00:46:47,559 --> 00:46:51,880
steps here interview<font color="#E5E5E5"> transfer</font><font color="#CCCCCC"> secrets</font>

1119
00:46:49,930 --> 00:46:53,919
from the keychain<font color="#E5E5E5"> find those config</font>

1120
00:46:51,880 --> 00:46:55,150
files on disk<font color="#E5E5E5"> recreate the state</font>

1121
00:46:53,920 --> 00:46:59,769
<font color="#E5E5E5">somewhere else by</font><font color="#CCCCCC"> losing them to another</font>

1122
00:46:55,150 --> 00:47:02,589
machine<font color="#CCCCCC"> profit if</font><font color="#E5E5E5"> you so one potential</font>

1123
00:46:59,769 --> 00:47:04,930
like mitigation to this<font color="#CCCCCC"> maybe they are</font>

1124
00:47:02,589 --> 00:47:06,549
like<font color="#E5E5E5"> really paying attention to</font><font color="#CCCCCC"> where</font>

1125
00:47:04,930 --> 00:47:08,470
you're logged in from<font color="#E5E5E5"> and if you get</font>

1126
00:47:06,549 --> 00:47:10,930
logged in from somewhere<font color="#CCCCCC"> else</font><font color="#E5E5E5"> that's</font>

1127
00:47:08,470 --> 00:47:13,089
<font color="#E5E5E5">like no no and they log you out but</font>

1128
00:47:10,930 --> 00:47:14,680
remember you probably<font color="#E5E5E5"> have shell on that</font>

1129
00:47:13,089 --> 00:47:16,480
person's<font color="#E5E5E5"> computer so just set up a</font>

1130
00:47:14,680 --> 00:47:18,279
reverse tunnel with like a<font color="#CCCCCC"> socks5 proxy</font>

1131
00:47:16,480 --> 00:47:19,569
and push the traffic through<font color="#E5E5E5"> their</font>

1132
00:47:18,279 --> 00:47:20,650
system<font color="#E5E5E5"> that way it's still coming from</font>

1133
00:47:19,569 --> 00:47:24,549
the same<font color="#E5E5E5"> place and you'd be able</font><font color="#CCCCCC"> get</font>

1134
00:47:20,650 --> 00:47:27,099
<font color="#CCCCCC">around that ok one last thing this is</font>

1135
00:47:24,549 --> 00:47:28,750
<font color="#E5E5E5">the easiest most stupid</font><font color="#CCCCCC"> to FA</font><font color="#E5E5E5"> bypass</font>

1136
00:47:27,099 --> 00:47:30,220
that has been working<font color="#CCCCCC"> for</font><font color="#E5E5E5"> me great</font>

1137
00:47:28,750 --> 00:47:32,529
<font color="#E5E5E5">lately and just</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> few</font><font color="#CCCCCC"> things about</font><font color="#E5E5E5"> it so</font>

1138
00:47:30,220 --> 00:47:34,000
<font color="#CCCCCC">I originally discovered this not</font><font color="#E5E5E5"> because</font>

1139
00:47:32,529 --> 00:47:35,440
I was like I'm gonna do some research

1140
00:47:34,000 --> 00:47:38,049
<font color="#E5E5E5">and find some leet hacks on how to</font>

1141
00:47:35,440 --> 00:47:40,930
bypass<font color="#E5E5E5"> TFA but because while on an</font>

1142
00:47:38,049 --> 00:47:44,319
operation<font color="#CCCCCC"> I while looting</font><font color="#E5E5E5"> their bash</font>

1143
00:47:40,930 --> 00:47:46,569
history and seeing the PS output of them

1144
00:47:44,319 --> 00:47:48,759
SS aging somewhere<font color="#E5E5E5"> I just</font><font color="#CCCCCC"> like copied</font>

1145
00:47:46,569 --> 00:47:51,069
the<font color="#E5E5E5"> SSH command like typed it in got</font>

1146
00:47:48,759 --> 00:47:53,589
logged into like a bashed in with no

1147
00:47:51,069 --> 00:47:56,450
prompt for a password<font color="#CCCCCC"> no problem to</font><font color="#E5E5E5"> up a</font>

1148
00:47:53,589 --> 00:47:58,190
so like

1149
00:47:56,450 --> 00:48:00,439
<font color="#E5E5E5">why did</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> happen that's really</font>

1150
00:47:58,190 --> 00:48:02,300
strange<font color="#E5E5E5"> that's not supposed to happen it</font>

1151
00:48:00,440 --> 00:48:03,950
turns out that if you<font color="#E5E5E5"> google control</font>

1152
00:48:02,300 --> 00:48:06,230
<font color="#CCCCCC">master</font><font color="#E5E5E5"> for</font><font color="#CCCCCC"> ssh it's</font><font color="#E5E5E5"> a setting that</font>

1153
00:48:03,950 --> 00:48:08,149
everyone loves to use so that<font color="#CCCCCC"> you can</font>

1154
00:48:06,230 --> 00:48:10,130
multiplex your<font color="#CCCCCC"> ssh connection</font><font color="#E5E5E5"> so once</font>

1155
00:48:08,150 --> 00:48:12,680
you<font color="#E5E5E5"> log</font><font color="#CCCCCC"> in</font><font color="#E5E5E5"> once you can go do things</font>

1156
00:48:10,130 --> 00:48:14,329
<font color="#E5E5E5">like</font><font color="#CCCCCC"> SCP</font><font color="#E5E5E5"> and ssh open up new terminals</font>

1157
00:48:12,680 --> 00:48:17,540
<font color="#E5E5E5">without having to log in without having</font>

1158
00:48:14,329 --> 00:48:21,140
<font color="#E5E5E5">to hit</font><font color="#CCCCCC"> 2fa again</font><font color="#E5E5E5"> so if you put this in</font>

1159
00:48:17,540 --> 00:48:24,109
someone's config file for them and you

1160
00:48:21,140 --> 00:48:26,569
wait for<font color="#CCCCCC"> them to</font><font color="#E5E5E5"> log into</font><font color="#CCCCCC"> a bastion you</font>

1161
00:48:24,109 --> 00:48:27,319
can then log<font color="#E5E5E5"> into</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> bastion also and</font>

1162
00:48:26,570 --> 00:48:28,640
follow them

1163
00:48:27,320 --> 00:48:29,960
<font color="#E5E5E5">and you can keep</font><font color="#CCCCCC"> doing</font><font color="#E5E5E5"> that through</font>

1164
00:48:28,640 --> 00:48:33,020
production environments and effectively

1165
00:48:29,960 --> 00:48:36,380
bypass<font color="#E5E5E5"> to</font><font color="#CCCCCC"> FAA measures</font><font color="#E5E5E5"> there so perhaps</font>

1166
00:48:33,020 --> 00:48:37,640
<font color="#E5E5E5">you're like what if they're like you</font>

1167
00:48:36,380 --> 00:48:39,310
know maybe a<font color="#E5E5E5"> company's like we're gonna</font>

1168
00:48:37,640 --> 00:48:42,410
stop this from happening by like

1169
00:48:39,310 --> 00:48:44,420
mandating<font color="#E5E5E5"> SSH config so people can't do</font>

1170
00:48:42,410 --> 00:48:46,279
this<font color="#CCCCCC"> well then you would just maybe go</font>

1171
00:48:44,420 --> 00:48:49,220
into<font color="#CCCCCC"> their bash profile and create an</font>

1172
00:48:46,280 --> 00:48:50,570
alias<font color="#CCCCCC"> for SSH</font><font color="#E5E5E5"> to add these commands onto</font>

1173
00:48:49,220 --> 00:48:52,848
the command<font color="#E5E5E5"> line so</font><font color="#CCCCCC"> anytime</font><font color="#E5E5E5"> that type</font>

1174
00:48:50,570 --> 00:48:55,160
SSH that gets done anyways<font color="#E5E5E5"> - right so</font>

1175
00:48:52,849 --> 00:48:57,770
probably multiple<font color="#E5E5E5"> ways to do this</font><font color="#CCCCCC"> a few</font>

1176
00:48:55,160 --> 00:48:59,480
<font color="#CCCCCC">important things if you put it in auto</font>

1177
00:48:57,770 --> 00:49:00,530
mode you can scope it to<font color="#E5E5E5"> host so maybe</font>

1178
00:48:59,480 --> 00:49:03,099
you don't<font color="#E5E5E5"> want it to happen to every</font>

1179
00:49:00,530 --> 00:49:05,300
single<font color="#CCCCCC"> thing I mean why not though</font>

1180
00:49:03,099 --> 00:49:06,410
<font color="#CCCCCC">control nuts or</font><font color="#E5E5E5"> auto it's going to take</font>

1181
00:49:05,300 --> 00:49:08,510
care<font color="#E5E5E5"> of everything and do it</font>

1182
00:49:06,410 --> 00:49:10,250
automatically<font color="#E5E5E5"> for you the control path</font>

1183
00:49:08,510 --> 00:49:12,560
is where it's<font color="#E5E5E5"> going to store a socket</font>

1184
00:49:10,250 --> 00:49:15,650
<font color="#E5E5E5">file you can put this anywhere</font><font color="#CCCCCC"> you want</font>

1185
00:49:12,560 --> 00:49:18,020
<font color="#E5E5E5">if you use things like</font><font color="#CCCCCC"> percent</font><font color="#E5E5E5"> H or % r</font>

1186
00:49:15,650 --> 00:49:20,660
%<font color="#E5E5E5"> P that will fill out things like the</font>

1187
00:49:18,020 --> 00:49:23,390
<font color="#CCCCCC">username</font><font color="#E5E5E5"> the host the port in the file</font>

1188
00:49:20,660 --> 00:49:26,569
name<font color="#CCCCCC"> for you</font><font color="#E5E5E5"> so that you can have like</font>

1189
00:49:23,390 --> 00:49:28,339
multiple<font color="#E5E5E5"> ones on disk so</font><font color="#CCCCCC"> with with this</font>

1190
00:49:26,569 --> 00:49:30,710
the<font color="#CCCCCC"> original configure I found just</font><font color="#E5E5E5"> had</font>

1191
00:49:28,339 --> 00:49:32,420
these first two<font color="#E5E5E5"> things right which kind</font>

1192
00:49:30,710 --> 00:49:34,400
of<font color="#E5E5E5"> sucks because if I follow someone in</font>

1193
00:49:32,420 --> 00:49:37,220
and they<font color="#CCCCCC"> close their master connection</font>

1194
00:49:34,400 --> 00:49:39,410
the first one it boots me out<font color="#CCCCCC"> - but if</font><font color="#E5E5E5"> I</font>

1195
00:49:37,220 --> 00:49:41,930
say control persist and control<font color="#CCCCCC"> persists</font>

1196
00:49:39,410 --> 00:49:43,129
could take a time like a week a month<font color="#CCCCCC"> or</font>

1197
00:49:41,930 --> 00:49:45,200
<font color="#E5E5E5">something like</font><font color="#CCCCCC"> that but</font><font color="#E5E5E5"> if you just say</font>

1198
00:49:43,130 --> 00:49:46,819
yes it persist indefinitely until the

1199
00:49:45,200 --> 00:49:51,009
socket<font color="#E5E5E5"> times</font><font color="#CCCCCC"> out breaks or</font><font color="#E5E5E5"> something</font>

1200
00:49:46,819 --> 00:49:53,599
<font color="#CCCCCC">like that so then if they quit it still</font>

1201
00:49:51,010 --> 00:49:55,280
it still<font color="#E5E5E5"> lets you stay</font><font color="#CCCCCC"> in and you can</font>

1202
00:49:53,599 --> 00:49:57,530
keep using<font color="#CCCCCC"> that socket forever</font>

1203
00:49:55,280 --> 00:49:59,000
so basically once they make a<font color="#CCCCCC"> connection</font>

1204
00:49:57,530 --> 00:50:02,000
<font color="#E5E5E5">to any host at all you'll be</font><font color="#CCCCCC"> able</font><font color="#E5E5E5"> to go</font>

1205
00:49:59,000 --> 00:50:04,369
<font color="#E5E5E5">there without any passwords at all one</font>

1206
00:50:02,000 --> 00:50:08,060
more caveat discovered yesterday<font color="#E5E5E5"> by the</font>

1207
00:50:04,369 --> 00:50:10,160
class I was<font color="#E5E5E5"> teaching</font><font color="#CCCCCC"> they we we noticed</font>

1208
00:50:08,060 --> 00:50:12,200
<font color="#CCCCCC">that when you</font><font color="#E5E5E5"> log out</font>

1209
00:50:10,160 --> 00:50:14,390
of your main session there is<font color="#E5E5E5"> one thing</font>

1210
00:50:12,200 --> 00:50:17,598
that<font color="#E5E5E5"> you see differently you suddenly</font>

1211
00:50:14,390 --> 00:50:21,348
see shared connection to whatever<font color="#CCCCCC"> host</font>

1212
00:50:17,599 --> 00:50:22,670
<font color="#E5E5E5">closed which is like a different</font><font color="#CCCCCC"> message</font>

1213
00:50:21,349 --> 00:50:24,769
than<font color="#E5E5E5"> you would normally see</font><font color="#CCCCCC"> when you log</font>

1214
00:50:22,670 --> 00:50:26,450
out<font color="#CCCCCC"> so the way to</font><font color="#E5E5E5"> get rid of that is to</font>

1215
00:50:24,769 --> 00:50:28,189
add log level quiet<font color="#E5E5E5"> and then they don't</font>

1216
00:50:26,450 --> 00:50:39,379
<font color="#E5E5E5">see that at all</font><font color="#CCCCCC"> so now the solution is</font>

1217
00:50:28,190 --> 00:50:52,029
good and that's<font color="#E5E5E5"> the end</font><font color="#CCCCCC"> are there any</font>

1218
00:50:39,380 --> 00:50:54,900
questions<font color="#CCCCCC"> to cede the first question no</font>

1219
00:50:52,029 --> 00:51:00,150
way in the back

1220
00:50:54,900 --> 00:51:00,150
[Music]

1221
00:51:09,020 --> 00:51:14,610
yeah<font color="#CCCCCC"> I would</font><font color="#E5E5E5"> say the techniques are</font>

1222
00:51:12,600 --> 00:51:16,200
<font color="#E5E5E5">transferable but</font><font color="#CCCCCC"> copying and pasting the</font>

1223
00:51:14,610 --> 00:51:27,330
<font color="#E5E5E5">commands definitely won't work you'll</font>

1224
00:51:16,200 --> 00:51:31,830
have to find similar<font color="#CCCCCC"> things right yep</font>

1225
00:51:27,330 --> 00:51:33,690
yeah<font color="#E5E5E5"> all right I'm gonna get off this</font>

1226
00:51:31,830 --> 00:51:35,680
stage I'm sick of<font color="#E5E5E5"> hearing</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> sound</font><font color="#CCCCCC"> bye</font>

1227
00:51:33,690 --> 00:51:37,740
thank you

1228
00:51:35,680 --> 00:51:37,740
you

