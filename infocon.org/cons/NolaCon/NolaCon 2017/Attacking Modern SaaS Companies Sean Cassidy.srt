1
00:00:00,030 --> 00:00:08,610
okay so<font color="#CCCCCC"> so pre-brief intro of</font><font color="#E5E5E5"> Who I am</font><font color="#CCCCCC"> I</font>

2
00:00:05,730 --> 00:00:11,309
am<font color="#CCCCCC"> the CTO</font><font color="#E5E5E5"> of Defense storm we are</font><font color="#CCCCCC"> at</font>

3
00:00:08,610 --> 00:00:13,110
cloud<font color="#CCCCCC"> cybersecurity</font><font color="#E5E5E5"> company the sim in</font>

4
00:00:11,309 --> 00:00:15,059
the clouds you send all your<font color="#E5E5E5"> events to</font>

5
00:00:13,110 --> 00:00:17,939
us you can alert<font color="#E5E5E5"> and search do all that</font>

6
00:00:15,059 --> 00:00:21,480
kind<font color="#CCCCCC"> of stuff on them gave a cool talk</font>

7
00:00:17,940 --> 00:00:23,300
last year<font color="#E5E5E5"> at</font><font color="#CCCCCC"> mooc</font><font color="#E5E5E5"> on called boss</font><font color="#CCCCCC"> paths</font>

8
00:00:21,480 --> 00:00:26,010
<font color="#CCCCCC">it's kind of a cool phishing attack</font>

9
00:00:23,300 --> 00:00:28,220
against LastPass they got all of<font color="#CCCCCC"> your</font>

10
00:00:26,010 --> 00:00:30,869
credentials including your two-factor

11
00:00:28,220 --> 00:00:33,690
<font color="#E5E5E5">stole your so all your all of your data</font>

12
00:00:30,869 --> 00:00:36,210
<font color="#E5E5E5">it was a really really cool</font><font color="#CCCCCC"> phishing</font>

13
00:00:33,690 --> 00:00:38,040
attack<font color="#CCCCCC"> and then last year</font><font color="#E5E5E5"> gherkin I did</font>

14
00:00:36,210 --> 00:00:41,460
how to implement crypto poorly<font color="#E5E5E5"> I</font>

15
00:00:38,040 --> 00:00:43,860
basically found maybe 20<font color="#CCCCCC"> or so examples</font>

16
00:00:41,460 --> 00:00:46,680
completely<font color="#CCCCCC"> hand rolled crypto like not</font>

17
00:00:43,860 --> 00:00:48,420
<font color="#E5E5E5">even using AES or md5 like making up</font>

18
00:00:46,680 --> 00:00:49,710
their own<font color="#E5E5E5"> stuff</font>

19
00:00:48,420 --> 00:00:52,199
finding<font color="#E5E5E5"> where companies were actually</font>

20
00:00:49,710 --> 00:00:53,640
<font color="#CCCCCC">using it and then</font><font color="#E5E5E5"> kind of my adventure</font>

21
00:00:52,199 --> 00:00:57,149
and trying to get them to<font color="#CCCCCC"> not do that</font>

22
00:00:53,640 --> 00:00:58,890
which was<font color="#E5E5E5"> not super</font><font color="#CCCCCC"> successful but</font><font color="#E5E5E5"> here</font>

23
00:00:57,149 --> 00:01:01,489
I'm<font color="#CCCCCC"> talking about</font><font color="#E5E5E5"> software service</font><font color="#CCCCCC"> today</font>

24
00:00:58,890 --> 00:01:03,539
so software<font color="#CCCCCC"> is</font><font color="#E5E5E5"> a service</font>

25
00:01:01,489 --> 00:01:05,548
basically everybody uses software

26
00:01:03,539 --> 00:01:08,070
<font color="#E5E5E5">service nowadays it's basically becoming</font>

27
00:01:05,549 --> 00:01:10,290
the predominant<font color="#CCCCCC"> model of software</font>

28
00:01:08,070 --> 00:01:13,229
<font color="#E5E5E5">delivery</font><font color="#CCCCCC"> all these companies help stop</font>

29
00:01:10,290 --> 00:01:15,000
snapchat Gmail Google all these are

30
00:01:13,229 --> 00:01:17,310
different examples<font color="#CCCCCC"> of software servers</font>

31
00:01:15,000 --> 00:01:18,840
you don't buy software anymore<font color="#E5E5E5"> you buy</font>

32
00:01:17,310 --> 00:01:20,640
<font color="#E5E5E5">the software service you don't run the</font>

33
00:01:18,840 --> 00:01:21,930
computers anymore<font color="#E5E5E5"> you buy the whole</font>

34
00:01:20,640 --> 00:01:23,549
<font color="#CCCCCC">thing</font>

35
00:01:21,930 --> 00:01:25,619
it's a huge market it's over a hundred

36
00:01:23,549 --> 00:01:29,009
<font color="#CCCCCC">billion</font><font color="#E5E5E5"> dollars a</font><font color="#CCCCCC"> year in revenue</font><font color="#E5E5E5"> now</font>

37
00:01:25,619 --> 00:01:31,200
<font color="#E5E5E5">and its</font><font color="#CCCCCC"> projected to</font><font color="#E5E5E5"> keep growing this</font>

38
00:01:29,009 --> 00:01:34,799
<font color="#E5E5E5">is</font><font color="#CCCCCC"> an absolutely enormous market from a</font>

39
00:01:31,200 --> 00:01:37,020
value value perspective<font color="#E5E5E5"> and security</font>

40
00:01:34,799 --> 00:01:40,409
people<font color="#E5E5E5"> need to know you know what to</font>

41
00:01:37,020 --> 00:01:42,090
what<font color="#E5E5E5"> to do to test it</font><font color="#CCCCCC"> some motivation</font>

42
00:01:40,409 --> 00:01:44,009
<font color="#E5E5E5">from</font><font color="#CCCCCC"> D DiNozzo V I really like this</font>

43
00:01:42,090 --> 00:01:46,049
<font color="#E5E5E5">tweet in</font><font color="#CCCCCC"> ten years will be three major</font>

44
00:01:44,009 --> 00:01:47,909
operating systems<font color="#CCCCCC"> Amazon Web Services</font>

45
00:01:46,049 --> 00:01:49,229
Google compute measure<font color="#CCCCCC"> and kind of a</font>

46
00:01:47,909 --> 00:01:51,810
very different way of<font color="#CCCCCC"> thinking about</font>

47
00:01:49,229 --> 00:01:53,880
computing right it's what we're no

48
00:01:51,810 --> 00:01:56,579
longer thinking<font color="#E5E5E5"> Windows Mac Linux we're</font>

49
00:01:53,880 --> 00:02:00,390
thinking how do I do this on AWS<font color="#E5E5E5"> maybe</font>

50
00:01:56,579 --> 00:02:02,100
lambdas or Google's bigquery<font color="#E5E5E5"> another bit</font>

51
00:02:00,390 --> 00:02:04,140
of<font color="#CCCCCC"> motivation is there</font><font color="#E5E5E5"> was a executive</font>

52
00:02:02,100 --> 00:02:05,640
<font color="#E5E5E5">order I think last week</font><font color="#CCCCCC"> basically</font>

53
00:02:04,140 --> 00:02:08,669
mandating the<font color="#E5E5E5"> federal government to move</font>

54
00:02:05,640 --> 00:02:10,410
<font color="#E5E5E5">clouds and cloud gov so even even the</font>

55
00:02:08,669 --> 00:02:12,309
federal government is moving<font color="#E5E5E5"> to</font><font color="#CCCCCC"> the</font>

56
00:02:10,410 --> 00:02:14,680
cloud and<font color="#CCCCCC"> to kind</font><font color="#E5E5E5"> of</font>

57
00:02:12,310 --> 00:02:17,080
<font color="#CCCCCC">SAP software development with</font><font color="#E5E5E5"> 18f and</font>

58
00:02:14,680 --> 00:02:19,330
that kind<font color="#CCCCCC"> of stuff so my</font><font color="#E5E5E5"> gold</font><font color="#CCCCCC"> friends</font>

59
00:02:17,080 --> 00:02:21,310
talk is to explain<font color="#CCCCCC"> how SAP software is</font>

60
00:02:19,330 --> 00:02:23,200
made and why that's<font color="#CCCCCC"> useful for</font><font color="#E5E5E5"> security</font>

61
00:02:21,310 --> 00:02:25,120
people<font color="#E5E5E5"> to know and vice versa if you're</font>

62
00:02:23,200 --> 00:02:27,280
a<font color="#E5E5E5"> software</font><font color="#CCCCCC"> person why like what</font><font color="#E5E5E5"> you're</font>

63
00:02:25,120 --> 00:02:29,410
going<font color="#E5E5E5"> to be doing wrong</font><font color="#CCCCCC"> this</font><font color="#E5E5E5"> is kind of</font>

64
00:02:27,280 --> 00:02:31,180
<font color="#CCCCCC">a really</font><font color="#E5E5E5"> huge broad topic so this is an</font>

65
00:02:29,410 --> 00:02:33,490
introduction<font color="#E5E5E5"> isn't going to be a deep</font>

66
00:02:31,180 --> 00:02:35,280
dive in any<font color="#CCCCCC"> particular area because I'm</font>

67
00:02:33,490 --> 00:02:37,600
going specifically for breath<font color="#E5E5E5"> over them</font>

68
00:02:35,280 --> 00:02:39,660
<font color="#CCCCCC">okay</font><font color="#E5E5E5"> I like to start</font><font color="#CCCCCC"> my talks to the</font>

69
00:02:37,600 --> 00:02:42,100
conclusion so my conclusion is that

70
00:02:39,660 --> 00:02:44,079
access to a developer's laptop is

71
00:02:42,100 --> 00:02:46,989
basically equal access to<font color="#CCCCCC"> everything</font><font color="#E5E5E5"> you</font>

72
00:02:44,080 --> 00:02:48,520
can get access<font color="#E5E5E5"> to them you're in if you</font>

73
00:02:46,990 --> 00:02:50,020
have access<font color="#CCCCCC"> to the build server</font><font color="#E5E5E5"> you also</font>

74
00:02:48,520 --> 00:02:51,370
have access<font color="#E5E5E5"> to everything because now</font>

75
00:02:50,020 --> 00:02:53,530
you can back<font color="#CCCCCC"> to where everything filled</font>

76
00:02:51,370 --> 00:02:55,060
<font color="#E5E5E5">that kind</font><font color="#CCCCCC"> of stuff if you have access to</font>

77
00:02:53,530 --> 00:02:56,770
the artifact server well now you can

78
00:02:55,060 --> 00:02:58,690
upload<font color="#CCCCCC"> back doored artifacts</font><font color="#E5E5E5"> and still</font>

79
00:02:56,770 --> 00:03:00,070
get you know access everything<font color="#E5E5E5"> that says</font>

80
00:02:58,690 --> 00:03:01,810
to the configuration<font color="#E5E5E5"> management server</font>

81
00:03:00,070 --> 00:03:03,549
<font color="#E5E5E5">give access everything because you can</font>

82
00:03:01,810 --> 00:03:04,930
<font color="#E5E5E5">control how nodes are provisioned if you</font>

83
00:03:03,550 --> 00:03:06,130
have access<font color="#CCCCCC"> to no sequel database you</font>

84
00:03:04,930 --> 00:03:08,950
please give access<font color="#E5E5E5"> everything because</font>

85
00:03:06,130 --> 00:03:10,390
now you have<font color="#CCCCCC"> all the data or</font><font color="#E5E5E5"> the docker</font>

86
00:03:08,950 --> 00:03:13,000
container configuration<font color="#CCCCCC"> or the</font><font color="#E5E5E5"> cloud API</font>

87
00:03:10,390 --> 00:03:14,170
really<font color="#E5E5E5"> access to anything is access to</font>

88
00:03:13,000 --> 00:03:17,709
<font color="#E5E5E5">everything this is a really</font><font color="#CCCCCC"> kind of</font>

89
00:03:14,170 --> 00:03:19,089
unfortunate state of affairs so why are

90
00:03:17,709 --> 00:03:20,440
<font color="#CCCCCC">sass companies different why is it not</font>

91
00:03:19,090 --> 00:03:24,820
<font color="#CCCCCC">just exactly</font><font color="#E5E5E5"> the same as every other</font>

92
00:03:20,440 --> 00:03:26,560
company<font color="#CCCCCC"> so</font><font color="#E5E5E5"> sass come is a fast iterative</font>

93
00:03:24,820 --> 00:03:28,870
development process they usually take

94
00:03:26,560 --> 00:03:30,250
<font color="#E5E5E5">you know hours to days deploy new</font>

95
00:03:28,870 --> 00:03:32,920
software instead of weeks months or

96
00:03:30,250 --> 00:03:35,470
quarters or years lots lots of

97
00:03:32,920 --> 00:03:36,910
automation<font color="#E5E5E5"> developers like to pride</font>

98
00:03:35,470 --> 00:03:38,620
themselves<font color="#E5E5E5"> and like oh I didn't have to</font>

99
00:03:36,910 --> 00:03:42,010
click many buttons<font color="#E5E5E5"> to</font><font color="#CCCCCC"> get out</font><font color="#E5E5E5"> it was all</font>

100
00:03:38,620 --> 00:03:43,330
that tested and deployed automatic

101
00:03:42,010 --> 00:03:46,120
monitors let me know when it stops

102
00:03:43,330 --> 00:03:47,500
working<font color="#CCCCCC"> engineers are very very</font>

103
00:03:46,120 --> 00:03:49,360
empowered usually they have<font color="#E5E5E5"> access to</font>

104
00:03:47,500 --> 00:03:52,390
production<font color="#E5E5E5"> they like to do lots of stuff</font>

105
00:03:49,360 --> 00:03:54,010
<font color="#E5E5E5">they provision new nodes they do lots of</font>

106
00:03:52,390 --> 00:03:55,619
crazy things<font color="#E5E5E5"> they have very powerful</font>

107
00:03:54,010 --> 00:03:58,510
<font color="#CCCCCC">tools to do so</font>

108
00:03:55,620 --> 00:04:00,340
and these new powerful<font color="#E5E5E5"> tools</font><font color="#CCCCCC"> well</font>

109
00:03:58,510 --> 00:04:04,060
they're great<font color="#E5E5E5"> you know they're also they</font>

110
00:04:00,340 --> 00:04:06,940
can<font color="#E5E5E5"> be used by attackers to create great</font>

111
00:04:04,060 --> 00:04:10,360
purposes<font color="#CCCCCC"> and this</font><font color="#E5E5E5"> isn't really specific</font>

112
00:04:06,940 --> 00:04:11,440
to SAS companies but there's<font color="#CCCCCC"> something</font>

113
00:04:10,360 --> 00:04:13,090
everywhere<font color="#E5E5E5"> else is really a lack of</font>

114
00:04:11,440 --> 00:04:15,850
<font color="#E5E5E5">security</font><font color="#CCCCCC"> culture a lot of engineers</font>

115
00:04:13,090 --> 00:04:17,350
don't know of what<font color="#CCCCCC"> exactly they need</font><font color="#E5E5E5"> to</font>

116
00:04:15,850 --> 00:04:19,298
do<font color="#E5E5E5"> to secure their software sometimes</font>

117
00:04:17,350 --> 00:04:20,770
<font color="#E5E5E5">they'll go to DEFCON</font><font color="#CCCCCC"> and then can take</font>

118
00:04:19,298 --> 00:04:23,409
the wrong impressions away I've seen

119
00:04:20,769 --> 00:04:24,940
<font color="#E5E5E5">that a</font><font color="#CCCCCC"> lot</font><font color="#E5E5E5"> and they don't really</font>

120
00:04:23,410 --> 00:04:26,440
understand<font color="#E5E5E5"> the kind of risk benefit</font>

121
00:04:24,940 --> 00:04:29,410
trade-offs

122
00:04:26,440 --> 00:04:31,449
so all those<font color="#E5E5E5"> differences also correspond</font>

123
00:04:29,410 --> 00:04:33,580
to weaknesses<font color="#E5E5E5"> so the fast iterative</font>

124
00:04:31,449 --> 00:04:36,010
development process really<font color="#E5E5E5"> it would need</font>

125
00:04:33,580 --> 00:04:37,479
you need linchpin servers right<font color="#E5E5E5"> you need</font>

126
00:04:36,010 --> 00:04:39,190
like you know<font color="#CCCCCC"> git server and your</font>

127
00:04:37,479 --> 00:04:41,080
Jenkins<font color="#CCCCCC"> server and your chest server you</font>

128
00:04:39,190 --> 00:04:43,570
need all these specific servers that<font color="#E5E5E5"> are</font>

129
00:04:41,080 --> 00:04:46,120
<font color="#E5E5E5">very very crucial to your SAS</font>

130
00:04:43,570 --> 00:04:47,800
<font color="#E5E5E5">deployments</font><font color="#CCCCCC"> even though there's lots of</font>

131
00:04:46,120 --> 00:04:49,510
automation<font color="#E5E5E5"> there's not usually</font><font color="#CCCCCC"> a lot of</font>

132
00:04:47,800 --> 00:04:51,340
security monitoring really advanced

133
00:04:49,510 --> 00:04:52,930
<font color="#CCCCCC">startup</font><font color="#E5E5E5"> some</font><font color="#CCCCCC"> tasks companies good</font>

134
00:04:51,340 --> 00:04:56,049
<font color="#E5E5E5">security monitoring that's definitely</font>

135
00:04:52,930 --> 00:04:58,600
<font color="#E5E5E5">not the norm</font><font color="#CCCCCC"> really there's no security</font>

136
00:04:56,050 --> 00:05:00,520
strategy<font color="#CCCCCC"> you're planning</font><font color="#E5E5E5"> those powerful</font>

137
00:04:58,600 --> 00:05:02,669
tools can be<font color="#E5E5E5"> used for evil</font><font color="#CCCCCC"> and there's</font>

138
00:05:00,520 --> 00:05:06,370
really little<font color="#CCCCCC"> to no budget for security</font>

139
00:05:02,669 --> 00:05:08,590
<font color="#E5E5E5">maybe they'll get you know great log or</font>

140
00:05:06,370 --> 00:05:11,949
elasticsearch monitoring their logs and

141
00:05:08,590 --> 00:05:14,919
that's it so how does fast companies

142
00:05:11,949 --> 00:05:15,940
work<font color="#E5E5E5"> so step one the engineer needs to</font>

143
00:05:14,919 --> 00:05:17,198
write code they're going to take the

144
00:05:15,940 --> 00:05:18,969
products back<font color="#E5E5E5"> they're going to write the</font>

145
00:05:17,199 --> 00:05:21,400
<font color="#E5E5E5">code they're going to make it do what</font>

146
00:05:18,970 --> 00:05:23,620
they want to do engineer is going<font color="#CCCCCC"> to</font>

147
00:05:21,400 --> 00:05:26,429
commit<font color="#CCCCCC"> to code</font><font color="#E5E5E5"> usually to get subversion</font>

148
00:05:23,620 --> 00:05:28,930
they're going to push it somewhere and

149
00:05:26,430 --> 00:05:30,669
<font color="#CCCCCC">the continuous integration jenkins</font>

150
00:05:28,930 --> 00:05:32,800
<font color="#E5E5E5">travis circle CI something is going to</font>

151
00:05:30,669 --> 00:05:34,719
build the code<font color="#E5E5E5"> and run the tests even if</font>

152
00:05:32,800 --> 00:05:36,130
you're using<font color="#CCCCCC"> python or something them</font>

153
00:05:34,720 --> 00:05:37,570
technically has to be built it's

154
00:05:36,130 --> 00:05:38,950
probably<font color="#CCCCCC"> gonna be packaged something and</font>

155
00:05:37,570 --> 00:05:41,620
<font color="#CCCCCC">there something is</font><font color="#E5E5E5"> going to run the</font>

156
00:05:38,950 --> 00:05:43,900
tests there's going to<font color="#E5E5E5"> be automatically</font>

157
00:05:41,620 --> 00:05:44,860
deployed to dev which is usually<font color="#E5E5E5"> the</font>

158
00:05:43,900 --> 00:05:46,840
name of<font color="#E5E5E5"> your development environment</font>

159
00:05:44,860 --> 00:05:48,400
<font color="#CCCCCC">sometimes there's a lot</font><font color="#E5E5E5"> of other</font>

160
00:05:46,840 --> 00:05:50,109
different<font color="#CCCCCC"> names</font><font color="#E5E5E5"> so jenkins going to</font>

161
00:05:48,400 --> 00:05:52,840
deploy<font color="#CCCCCC"> it to dev and then you might</font><font color="#E5E5E5"> have</font>

162
00:05:50,110 --> 00:05:55,740
a<font color="#CCCCCC"> staging or QA environment</font><font color="#E5E5E5"> sometimes</font>

163
00:05:52,840 --> 00:05:58,000
<font color="#CCCCCC">that's automatic based on tests and then</font>

164
00:05:55,740 --> 00:05:59,560
deploying to production is usually

165
00:05:58,000 --> 00:06:01,240
manual<font color="#E5E5E5"> although some really advanced</font>

166
00:05:59,560 --> 00:06:03,310
companies like<font color="#CCCCCC"> Facebook or</font><font color="#E5E5E5"> something</font>

167
00:06:01,240 --> 00:06:05,080
<font color="#CCCCCC">have that completely</font><font color="#E5E5E5"> automated as long</font>

168
00:06:03,310 --> 00:06:07,360
<font color="#E5E5E5">as it passed all the tests it goes out</font>

169
00:06:05,080 --> 00:06:09,310
<font color="#E5E5E5">but how does how does just this part</font>

170
00:06:07,360 --> 00:06:12,039
<font color="#CCCCCC">work so let's dive</font><font color="#E5E5E5"> in just here for a</font>

171
00:06:09,310 --> 00:06:14,949
second so<font color="#CCCCCC"> this</font><font color="#E5E5E5"> is Jenkins</font><font color="#CCCCCC"> I'm sure a</font><font color="#E5E5E5"> lot</font>

172
00:06:12,039 --> 00:06:16,870
of you<font color="#CCCCCC"> seen jackets before you can start</font>

173
00:06:14,949 --> 00:06:18,370
<font color="#E5E5E5">up new projects on here get them</font>

174
00:06:16,870 --> 00:06:19,720
building get them tested<font color="#E5E5E5"> very easily it</font>

175
00:06:18,370 --> 00:06:23,139
sports basically every<font color="#E5E5E5"> programming</font>

176
00:06:19,720 --> 00:06:24,520
<font color="#CCCCCC">language</font><font color="#E5E5E5"> and it's most used by Java</font>

177
00:06:23,139 --> 00:06:26,550
because<font color="#E5E5E5"> that's kind of its bread and</font>

178
00:06:24,520 --> 00:06:30,159
butter<font color="#E5E5E5"> but you can do anything with</font>

179
00:06:26,550 --> 00:06:32,020
Jenkins<font color="#E5E5E5"> so how does Jenkins work build</font>

180
00:06:30,160 --> 00:06:34,570
is triggered either<font color="#E5E5E5"> it's</font><font color="#CCCCCC"> polling or a</font>

181
00:06:32,020 --> 00:06:37,359
web<font color="#E5E5E5"> hook something like that source code</font>

182
00:06:34,570 --> 00:06:39,440
<font color="#CCCCCC">is downloaded</font><font color="#E5E5E5"> source</font><font color="#CCCCCC"> code</font><font color="#E5E5E5"> compiled tests</font>

183
00:06:37,360 --> 00:06:40,820
<font color="#E5E5E5">are run software's package</font>

184
00:06:39,440 --> 00:06:42,620
and then it's uploaded to the artifact

185
00:06:40,820 --> 00:06:47,000
server so now let's go<font color="#CCCCCC"> through some of</font>

186
00:06:42,620 --> 00:06:50,510
these steps<font color="#CCCCCC"> so</font><font color="#E5E5E5"> here is an</font><font color="#CCCCCC"> example of</font><font color="#E5E5E5"> how</font>

187
00:06:47,000 --> 00:06:52,340
<font color="#E5E5E5">to like break in if if you're kind of</font>

188
00:06:50,510 --> 00:06:55,610
<font color="#CCCCCC">thinking of</font><font color="#E5E5E5"> a</font><font color="#CCCCCC"> SAS company is a separate</font>

189
00:06:52,340 --> 00:06:56,840
sort of<font color="#E5E5E5"> entity</font><font color="#CCCCCC"> we want to run</font><font color="#E5E5E5"> our code</font>

190
00:06:55,610 --> 00:06:58,820
on Jenkins<font color="#E5E5E5"> right because I said</font><font color="#CCCCCC"> with a</font>

191
00:06:56,840 --> 00:07:00,049
<font color="#E5E5E5">lynchpin server and if we run our code</font>

192
00:06:58,820 --> 00:07:01,550
in the<font color="#E5E5E5"> Jenkins we can backdoor</font>

193
00:07:00,050 --> 00:07:02,810
everything of the<font color="#CCCCCC"> build back to</font>

194
00:07:01,550 --> 00:07:04,730
everything<font color="#CCCCCC"> that it builds we have access</font>

195
00:07:02,810 --> 00:07:08,540
<font color="#E5E5E5">to basically of dev staging production</font>

196
00:07:04,730 --> 00:07:10,790
we win<font color="#E5E5E5"> as attackers</font><font color="#CCCCCC"> one</font><font color="#E5E5E5"> thing I noticed</font>

197
00:07:08,540 --> 00:07:13,910
is that<font color="#E5E5E5"> basically anyone can submit pull</font>

198
00:07:10,790 --> 00:07:15,560
requests on public github projects some

199
00:07:13,910 --> 00:07:18,440
people use Jenkins for their public<font color="#E5E5E5"> you</font>

200
00:07:15,560 --> 00:07:20,360
know projects so<font color="#E5E5E5"> I was wondering if we</font>

201
00:07:18,440 --> 00:07:22,370
submit<font color="#E5E5E5"> pull requests will it just run</font>

202
00:07:20,360 --> 00:07:23,870
our code<font color="#E5E5E5"> right if I just submitted tests</font>

203
00:07:22,370 --> 00:07:25,940
<font color="#CCCCCC">will it run our code</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> actually I</font>

204
00:07:23,870 --> 00:07:27,890
found<font color="#CCCCCC"> this tweet</font><font color="#E5E5E5"> yes it will so actually</font>

205
00:07:25,940 --> 00:07:29,900
there are people out there<font color="#E5E5E5"> that</font><font color="#CCCCCC"> have</font>

206
00:07:27,890 --> 00:07:31,669
that<font color="#E5E5E5"> make pull requests that literally</font>

207
00:07:29,900 --> 00:07:34,370
just replace all the tests with Bitcoin

208
00:07:31,670 --> 00:07:36,950
mining code and now they have<font color="#E5E5E5"> Jenkins or</font>

209
00:07:34,370 --> 00:07:39,380
whatever running Bitcoin mining code

210
00:07:36,950 --> 00:07:40,820
trying to get you know bitcoins<font color="#CCCCCC"> mined</font>

211
00:07:39,380 --> 00:07:43,540
and<font color="#E5E5E5"> this works</font>

212
00:07:40,820 --> 00:07:45,320
apparently this<font color="#CCCCCC"> works</font><font color="#E5E5E5"> this works on</font>

213
00:07:43,540 --> 00:07:48,500
<font color="#E5E5E5">several different</font><font color="#CCCCCC"> continuous integration</font>

214
00:07:45,320 --> 00:07:50,800
<font color="#E5E5E5">servers and it's usually where it's set</font>

215
00:07:48,500 --> 00:07:53,810
up<font color="#CCCCCC"> to automatically build and run tests</font>

216
00:07:50,800 --> 00:07:57,610
<font color="#CCCCCC">the most popular github pull request</font>

217
00:07:53,810 --> 00:08:00,860
builder though has a one caveat in here

218
00:07:57,610 --> 00:08:03,200
<font color="#CCCCCC">it when</font><font color="#E5E5E5"> a new pour request is opened it</font>

219
00:08:00,860 --> 00:08:05,390
<font color="#E5E5E5">will actually post a comment in there</font>

220
00:08:03,200 --> 00:08:07,370
<font color="#E5E5E5">saying can one of the admins verify this</font>

221
00:08:05,390 --> 00:08:09,200
<font color="#CCCCCC">batch</font><font color="#E5E5E5"> right which seems reasonable</font><font color="#CCCCCC"> so</font>

222
00:08:07,370 --> 00:08:10,520
that you could be admin can check and

223
00:08:09,200 --> 00:08:12,200
<font color="#E5E5E5">make sure</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> all the code hasn't been</font>

224
00:08:10,520 --> 00:08:14,570
<font color="#CCCCCC">replaced by some kind of Bitcoin mining</font>

225
00:08:12,200 --> 00:08:17,180
code right<font color="#CCCCCC"> so I was</font><font color="#E5E5E5"> saying</font><font color="#CCCCCC"> about this</font>

226
00:08:14,570 --> 00:08:19,820
because this is<font color="#E5E5E5"> you know as an attacker</font>

227
00:08:17,180 --> 00:08:22,580
now I can't add my<font color="#CCCCCC"> pick coin mining code</font>

228
00:08:19,820 --> 00:08:26,900
or take over<font color="#CCCCCC"> the Jenkins</font><font color="#E5E5E5"> right</font><font color="#CCCCCC"> so I</font>

229
00:08:22,580 --> 00:08:29,870
tried<font color="#CCCCCC"> it out</font><font color="#E5E5E5"> this is</font><font color="#CCCCCC"> my pull request</font><font color="#E5E5E5"> and</font>

230
00:08:26,900 --> 00:08:31,370
I noticed that after<font color="#E5E5E5"> the difference</font>

231
00:08:29,870 --> 00:08:33,860
<font color="#CCCCCC">between my pull request where I wrote</font>

232
00:08:31,370 --> 00:08:35,330
<font color="#E5E5E5">ABC and where the bots replied can when</font>

233
00:08:33,860 --> 00:08:37,190
<font color="#CCCCCC">they added and</font><font color="#E5E5E5"> verified</font><font color="#CCCCCC"> batch I</font><font color="#E5E5E5"> notice</font>

234
00:08:35,330 --> 00:08:38,780
<font color="#E5E5E5">it was five minutes</font><font color="#CCCCCC"> high medicine really</font>

235
00:08:37,190 --> 00:08:41,450
suspicious<font color="#E5E5E5"> to me it seemed like polling</font>

236
00:08:38,780 --> 00:08:42,770
and that's exactly<font color="#CCCCCC"> how it works so</font><font color="#E5E5E5"> this</font>

237
00:08:41,450 --> 00:08:44,480
how it works<font color="#E5E5E5"> every five minutes</font><font color="#CCCCCC"> it's</font>

238
00:08:42,770 --> 00:08:47,030
going to pull all open pull requests

239
00:08:44,480 --> 00:08:48,290
it's going to find every open one check

240
00:08:47,030 --> 00:08:50,180
to see if<font color="#E5E5E5"> either the author's</font>

241
00:08:48,290 --> 00:08:51,689
<font color="#CCCCCC">whitelisted like you know I trust James</font>

242
00:08:50,180 --> 00:08:55,109
or whatever

243
00:08:51,690 --> 00:08:56,850
- right not Bitcoin mining code or if

244
00:08:55,110 --> 00:08:59,220
the pull request<font color="#E5E5E5"> is accepted the admin</font>

245
00:08:56,850 --> 00:09:01,800
said yes<font color="#E5E5E5"> you should run the test so I am</font>

246
00:08:59,220 --> 00:09:03,330
going<font color="#CCCCCC"> to merge this if not post a</font>

247
00:09:01,800 --> 00:09:05,189
comment<font color="#E5E5E5"> and if so build the pull request</font>

248
00:09:03,330 --> 00:09:07,260
<font color="#CCCCCC">and run the</font><font color="#E5E5E5"> test so we want to get to</font>

249
00:09:05,190 --> 00:09:08,310
<font color="#CCCCCC">step five</font><font color="#E5E5E5"> right so</font><font color="#CCCCCC"> five is</font><font color="#E5E5E5"> where we want</font>

250
00:09:07,260 --> 00:09:10,530
<font color="#CCCCCC">to get to because</font><font color="#E5E5E5"> we want</font><font color="#CCCCCC"> to run our</font>

251
00:09:08,310 --> 00:09:12,689
<font color="#CCCCCC">test</font><font color="#E5E5E5"> but we don't want to have the admin</font>

252
00:09:10,530 --> 00:09:15,329
looking at our malicious code<font color="#E5E5E5"> so how do</font>

253
00:09:12,690 --> 00:09:16,680
<font color="#CCCCCC">we do this we're going to</font><font color="#E5E5E5"> post</font><font color="#CCCCCC"> it an</font>

254
00:09:15,330 --> 00:09:18,300
<font color="#E5E5E5">oculus pull request that requires</font>

255
00:09:16,680 --> 00:09:20,609
running the<font color="#E5E5E5"> test maybe</font><font color="#CCCCCC"> we're eFax with</font>

256
00:09:18,300 --> 00:09:22,709
<font color="#CCCCCC">code something right it requires running</font>

257
00:09:20,610 --> 00:09:25,020
<font color="#E5E5E5">tests the bot will post can the admin</font>

258
00:09:22,710 --> 00:09:26,370
verify<font color="#E5E5E5"> presumably the admin</font><font color="#CCCCCC"> will say</font>

259
00:09:25,020 --> 00:09:28,949
test this<font color="#E5E5E5"> please write because</font>

260
00:09:26,370 --> 00:09:30,630
<font color="#E5E5E5">everything's good but then within five</font>

261
00:09:28,950 --> 00:09:32,960
minutes<font color="#E5E5E5"> I have five whole minutes now I</font>

262
00:09:30,630 --> 00:09:35,130
can force push a new malicious commit

263
00:09:32,960 --> 00:09:37,380
<font color="#CCCCCC">this is how you force</font><font color="#E5E5E5"> push you just get</font>

264
00:09:35,130 --> 00:09:39,420
<font color="#E5E5E5">commit amend you overwrite your all the</font>

265
00:09:37,380 --> 00:09:41,580
one<font color="#E5E5E5"> you just push you force bullshit and</font>

266
00:09:39,420 --> 00:09:43,020
<font color="#E5E5E5">this is important</font><font color="#CCCCCC"> because if you</font><font color="#E5E5E5"> don't</font>

267
00:09:41,580 --> 00:09:44,520
<font color="#E5E5E5">do this you just add a new commit it</font>

268
00:09:43,020 --> 00:09:46,199
github is going to send a<font color="#E5E5E5"> message out to</font>

269
00:09:44,520 --> 00:09:48,000
people saying hey a new commit was added

270
00:09:46,200 --> 00:09:49,830
and<font color="#CCCCCC"> you want to</font><font color="#E5E5E5"> avoid this email because</font>

271
00:09:48,000 --> 00:09:53,100
<font color="#E5E5E5">you're trying to trick the admin and if</font>

272
00:09:49,830 --> 00:09:56,330
you do this<font color="#CCCCCC"> like like I just</font><font color="#E5E5E5"> did so</font><font color="#CCCCCC"> on</font>

273
00:09:53,100 --> 00:10:00,180
<font color="#CCCCCC">the admin write test this</font><font color="#E5E5E5"> please</font><font color="#CCCCCC"> and</font>

274
00:09:56,330 --> 00:10:02,850
<font color="#E5E5E5">Jenkins ran ran my</font><font color="#CCCCCC"> test here</font>

275
00:10:00,180 --> 00:10:05,370
but what did<font color="#CCCCCC"> it run so I actually</font><font color="#E5E5E5"> this</font>

276
00:10:02,850 --> 00:10:08,280
is the thing I force pushed<font color="#E5E5E5"> I actually</font>

277
00:10:05,370 --> 00:10:10,800
added<font color="#CCCCCC"> you</font><font color="#E5E5E5"> know just the string I'm going</font>

278
00:10:08,280 --> 00:10:12,360
<font color="#CCCCCC">to</font><font color="#E5E5E5"> print out the string hacked</font><font color="#CCCCCC"> like</font>

279
00:10:10,800 --> 00:10:14,370
<font color="#E5E5E5">obviously you could put some</font><font color="#CCCCCC"> more</font>

280
00:10:12,360 --> 00:10:16,920
malicious<font color="#E5E5E5"> code in there</font><font color="#CCCCCC"> and on my</font>

281
00:10:14,370 --> 00:10:20,850
drinkin we can see<font color="#E5E5E5"> it's building my pull</font>

282
00:10:16,920 --> 00:10:22,920
request right here and it<font color="#E5E5E5"> actually ran</font>

283
00:10:20,850 --> 00:10:25,560
my hacked version<font color="#CCCCCC"> and the admin had</font>

284
00:10:22,920 --> 00:10:28,589
approved the<font color="#CCCCCC"> one without this so because</font>

285
00:10:25,560 --> 00:10:32,130
<font color="#E5E5E5">of this the admin had basically allowed</font>

286
00:10:28,590 --> 00:10:34,380
the running of malicious code<font color="#CCCCCC"> and if you</font>

287
00:10:32,130 --> 00:10:37,080
look<font color="#E5E5E5"> around this is a very popular pull</font>

288
00:10:34,380 --> 00:10:39,510
request<font color="#CCCCCC"> plug-in lots of</font><font color="#E5E5E5"> people use it</font>

289
00:10:37,080 --> 00:10:42,900
and has this kind<font color="#E5E5E5"> of inherent race</font>

290
00:10:39,510 --> 00:10:44,460
condition<font color="#E5E5E5"> built in so what do you do if</font>

291
00:10:42,900 --> 00:10:46,230
you do get challenging<font color="#CCCCCC"> two</font><font color="#E5E5E5"> different</font>

292
00:10:44,460 --> 00:10:49,170
ways you<font color="#CCCCCC"> might get shell on Jenkins</font><font color="#E5E5E5"> what</font>

293
00:10:46,230 --> 00:10:51,030
you do<font color="#CCCCCC"> so the best thing about this is</font>

294
00:10:49,170 --> 00:10:54,030
<font color="#CCCCCC">you can read or write any file Jenkins</font>

295
00:10:51,030 --> 00:10:57,839
controls it has no<font color="#CCCCCC"> segmentations know</font>

296
00:10:54,030 --> 00:11:00,060
like<font color="#E5E5E5"> chroot or anything like that it</font>

297
00:10:57,839 --> 00:11:01,860
basically<font color="#CCCCCC"> if you get access</font><font color="#E5E5E5"> to Jenkins</font>

298
00:11:00,060 --> 00:11:04,260
you can read and<font color="#E5E5E5"> write as</font><font color="#CCCCCC"> a Jenkins user</font>

299
00:11:01,860 --> 00:11:05,459
so what can<font color="#E5E5E5"> you do</font><font color="#CCCCCC"> they can</font><font color="#E5E5E5"> take that</font>

300
00:11:04,260 --> 00:11:06,809
XML file is

301
00:11:05,459 --> 00:11:08,518
<font color="#CCCCCC">is a file that</font><font color="#E5E5E5"> controls the</font>

302
00:11:06,809 --> 00:11:10,050
configuration<font color="#CCCCCC"> of</font><font color="#E5E5E5"> Jenkins you can add</font>

303
00:11:08,519 --> 00:11:12,689
your own<font color="#CCCCCC"> plugins you can</font><font color="#E5E5E5"> do that kind of</font>

304
00:11:10,050 --> 00:11:15,889
stuff<font color="#CCCCCC"> the credentials</font><font color="#E5E5E5"> that XML that's a</font>

305
00:11:12,689 --> 00:11:18,599
really fun file that's where all<font color="#CCCCCC"> of the</font>

306
00:11:15,889 --> 00:11:20,189
like secret like ooofff tokens<font color="#E5E5E5"> for</font>

307
00:11:18,600 --> 00:11:21,660
github<font color="#E5E5E5"> or</font><font color="#CCCCCC"> username passwords for</font>

308
00:11:20,189 --> 00:11:24,679
artifactory or something like<font color="#CCCCCC"> that</font><font color="#E5E5E5"> will</font>

309
00:11:21,660 --> 00:11:28,199
live<font color="#E5E5E5"> you'll you might even have</font><font color="#CCCCCC"> ssh</font>

310
00:11:24,679 --> 00:11:30,059
username and password in there<font color="#CCCCCC"> m2</font><font color="#E5E5E5"> that's</font>

311
00:11:28,199 --> 00:11:31,889
if you're a Java<font color="#CCCCCC"> developer that's where</font>

312
00:11:30,059 --> 00:11:33,569
all<font color="#CCCCCC"> your</font><font color="#E5E5E5"> libraries are so you can</font>

313
00:11:31,889 --> 00:11:36,059
<font color="#CCCCCC">actually back to our libraries that when</font>

314
00:11:33,569 --> 00:11:37,378
the code is built using<font color="#E5E5E5"> done and</font><font color="#CCCCCC"> - all</font>

315
00:11:36,059 --> 00:11:41,129
<font color="#E5E5E5">that stuff</font><font color="#CCCCCC"> is going to</font><font color="#E5E5E5"> be taking them</font>

316
00:11:37,379 --> 00:11:43,290
<font color="#E5E5E5">there</font><font color="#CCCCCC"> secrets is where you get basically</font>

317
00:11:41,129 --> 00:11:45,360
<font color="#CCCCCC">the keys to decrypt the credentials file</font>

318
00:11:43,290 --> 00:11:46,860
and the<font color="#E5E5E5"> workspace down there that's</font>

319
00:11:45,360 --> 00:11:48,689
<font color="#E5E5E5">actually</font><font color="#CCCCCC"> where all</font><font color="#E5E5E5"> the code lives if you</font>

320
00:11:46,860 --> 00:11:51,089
<font color="#E5E5E5">want</font><font color="#CCCCCC"> to actually</font><font color="#E5E5E5"> backdoor the code</font>

321
00:11:48,689 --> 00:11:53,099
itself it's all there so if you want<font color="#CCCCCC"> a</font>

322
00:11:51,089 --> 00:11:56,730
<font color="#CCCCCC">backdoor jars</font>

323
00:11:53,100 --> 00:11:58,589
this is the way I do it<font color="#CCCCCC"> so the victims</font>

324
00:11:56,730 --> 00:12:02,910
<font color="#CCCCCC">out my class this is</font><font color="#E5E5E5"> going</font><font color="#CCCCCC"> to be the</font>

325
00:11:58,589 --> 00:12:05,519
main class<font color="#E5E5E5"> for whatever the victim is</font>

326
00:12:02,910 --> 00:12:07,949
<font color="#E5E5E5">this works with like spring boot or</font>

327
00:12:05,519 --> 00:12:10,470
anything in<font color="#E5E5E5"> Java and</font><font color="#CCCCCC"> you don't</font><font color="#E5E5E5"> actually</font>

328
00:12:07,949 --> 00:12:12,779
need the actual<font color="#E5E5E5"> class you can</font><font color="#CCCCCC"> just</font>

329
00:12:10,470 --> 00:12:15,360
basically make a dummy class that has

330
00:12:12,779 --> 00:12:17,519
that exact<font color="#E5E5E5"> signature and all you need is</font>

331
00:12:15,360 --> 00:12:19,230
<font color="#CCCCCC">this class file</font><font color="#E5E5E5"> as you compile it</font>

332
00:12:17,519 --> 00:12:20,910
<font color="#E5E5E5">obviously you're not going to print out</font>

333
00:12:19,230 --> 00:12:23,279
<font color="#E5E5E5">have to do something more interesting</font>

334
00:12:20,910 --> 00:12:26,040
you're going to have a Terp<font color="#CCCCCC"> retriever</font>

335
00:12:23,279 --> 00:12:28,829
shell or<font color="#E5E5E5"> something cool in there and</font>

336
00:12:26,040 --> 00:12:32,069
it's<font color="#E5E5E5"> very easy</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> add</font><font color="#CCCCCC"> to the jar file so</font>

337
00:12:28,829 --> 00:12:34,138
all<font color="#E5E5E5"> you need</font><font color="#CCCCCC"> to do is tell</font><font color="#E5E5E5"> Java that you</font>

338
00:12:32,069 --> 00:12:36,540
have a new main class at my path is

339
00:12:34,139 --> 00:12:39,019
called<font color="#CCCCCC"> hack done hacked</font><font color="#E5E5E5"> and what you</font>

340
00:12:36,540 --> 00:12:43,049
need to do is you first need<font color="#CCCCCC"> to add the</font>

341
00:12:39,019 --> 00:12:45,029
your jar<font color="#CCCCCC"> to sorry your class to the</font>

342
00:12:43,049 --> 00:12:46,769
victim jar that's<font color="#E5E5E5"> what the first jar</font>

343
00:12:45,029 --> 00:12:50,429
line does and then you need<font color="#E5E5E5"> to add your</font>

344
00:12:46,769 --> 00:12:52,259
manifest file<font color="#E5E5E5"> to victim jar and then</font>

345
00:12:50,429 --> 00:12:53,759
once you do that your main file is<font color="#E5E5E5"> going</font>

346
00:12:52,259 --> 00:12:55,970
<font color="#E5E5E5">to run before there's and then you're</font>

347
00:12:53,759 --> 00:12:57,869
going to call<font color="#CCCCCC"> theirs</font><font color="#E5E5E5"> and then that is</font>

348
00:12:55,970 --> 00:13:00,139
<font color="#E5E5E5">backdoor very very simple very</font>

349
00:12:57,869 --> 00:13:03,660
straightforward way this<font color="#E5E5E5"> isn't like</font>

350
00:13:00,139 --> 00:13:06,410
super advanced but<font color="#E5E5E5"> it's very</font><font color="#CCCCCC"> effective</font>

351
00:13:03,660 --> 00:13:09,569
it's very easy<font color="#CCCCCC"> to do by backdooring</font>

352
00:13:06,410 --> 00:13:10,769
<font color="#E5E5E5">Jenkins</font><font color="#CCCCCC"> it's very easy to setup maven or</font>

353
00:13:09,569 --> 00:13:13,139
something to<font color="#E5E5E5"> automatically choose for</font>

354
00:13:10,769 --> 00:13:15,779
you<font color="#E5E5E5"> and if you want to decrypt any</font>

355
00:13:13,139 --> 00:13:17,639
Jenkins secrets<font color="#CCCCCC"> pretty straightforward</font>

356
00:13:15,779 --> 00:13:18,600
to<font color="#E5E5E5"> do you just</font><font color="#CCCCCC"> login to</font><font color="#E5E5E5"> Jenkins</font><font color="#CCCCCC"> flash</font>

357
00:13:17,639 --> 00:13:20,640
script

358
00:13:18,600 --> 00:13:22,110
and it has a script<font color="#CCCCCC"> council and all you</font>

359
00:13:20,640 --> 00:13:24,360
need<font color="#E5E5E5"> to do is print line</font><font color="#CCCCCC"> Hudson's</font><font color="#E5E5E5"> I</font>

360
00:13:22,110 --> 00:13:25,350
utility courtesy gripped<font color="#E5E5E5"> pop in</font><font color="#CCCCCC"> The</font>

361
00:13:24,360 --> 00:13:26,940
<font color="#CCCCCC">Seeker right here</font><font color="#E5E5E5"> and it will spit out</font>

362
00:13:25,350 --> 00:13:29,010
the plain text supporter ever<font color="#E5E5E5"> it is you</font>

363
00:13:26,940 --> 00:13:31,860
just<font color="#E5E5E5"> take</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> credential</font><font color="#CCCCCC"> son</font><font color="#E5E5E5"> XML file</font>

364
00:13:29,010 --> 00:13:33,000
<font color="#E5E5E5">and you can just put in various secrets</font>

365
00:13:31,860 --> 00:13:35,030
in there and<font color="#CCCCCC"> will just</font><font color="#E5E5E5"> print them out</font>

366
00:13:33,000 --> 00:13:39,630
<font color="#E5E5E5">you know</font><font color="#CCCCCC"> OAuth tokens this way you get</font>

367
00:13:35,030 --> 00:13:42,689
<font color="#E5E5E5">SSH keys artifactory username password</font>

368
00:13:39,630 --> 00:13:44,250
<font color="#E5E5E5">all that stuff in there</font><font color="#CCCCCC"> there's</font><font color="#E5E5E5"> loads</font>

369
00:13:42,690 --> 00:13:46,110
more you can do with<font color="#CCCCCC"> this</font><font color="#E5E5E5"> one talk I</font>

370
00:13:44,250 --> 00:13:48,060
really liked was<font color="#CCCCCC"> Jonathan Claudius's</font>

371
00:13:46,110 --> 00:13:49,800
talk<font color="#E5E5E5"> attacking cloud services source</font>

372
00:13:48,060 --> 00:13:52,020
code has lots of neat ideas and<font color="#CCCCCC"> they're</font>

373
00:13:49,800 --> 00:13:54,750
about<font color="#E5E5E5"> other things you can do</font><font color="#CCCCCC"> his is</font>

374
00:13:52,020 --> 00:13:57,510
more focused on<font color="#E5E5E5"> Ruby but it's basically</font>

375
00:13:54,750 --> 00:13:59,420
applicable to any any language<font color="#E5E5E5"> so what</font>

376
00:13:57,510 --> 00:14:01,439
happened to build after<font color="#E5E5E5"> it's built</font>

377
00:13:59,420 --> 00:14:03,060
uploaded to an<font color="#E5E5E5"> artifact server</font><font color="#CCCCCC"> and</font>

378
00:14:01,440 --> 00:14:04,350
what's the<font color="#E5E5E5"> artifact servers basically</font>

379
00:14:03,060 --> 00:14:06,209
<font color="#E5E5E5">just</font><font color="#CCCCCC"> fancy web server</font><font color="#E5E5E5"> that holds</font>

380
00:14:04,350 --> 00:14:09,090
versions of software artifacts version 1

381
00:14:06,210 --> 00:14:10,470
version 2 version 3<font color="#E5E5E5"> usually you can't</font>

382
00:14:09,090 --> 00:14:13,230
delete them or overwrite them which make

383
00:14:10,470 --> 00:14:14,540
<font color="#E5E5E5">sense unless</font><font color="#CCCCCC"> its development</font><font color="#E5E5E5"> version</font>

384
00:14:13,230 --> 00:14:16,650
which going to be continuously updated

385
00:14:14,540 --> 00:14:18,270
<font color="#CCCCCC">your continuous integration is going to</font>

386
00:14:16,650 --> 00:14:19,650
keep uploading to this and your

387
00:14:18,270 --> 00:14:21,510
deployment software whatever<font color="#E5E5E5"> that is is</font>

388
00:14:19,650 --> 00:14:23,850
<font color="#CCCCCC">going</font><font color="#E5E5E5"> to download from the artifact</font>

389
00:14:21,510 --> 00:14:26,670
server<font color="#CCCCCC"> some examples of this is sono</font>

390
00:14:23,850 --> 00:14:28,650
type<font color="#E5E5E5"> nexus</font><font color="#CCCCCC"> chief j frog's art factory</font><font color="#E5E5E5"> or</font>

391
00:14:26,670 --> 00:14:31,260
even<font color="#CCCCCC"> a</font><font color="#E5E5E5"> docker registry counts as an</font>

392
00:14:28,650 --> 00:14:33,949
artifact server and all<font color="#CCCCCC"> of</font><font color="#E5E5E5"> these the</font>

393
00:14:31,260 --> 00:14:36,480
Nexus<font color="#CCCCCC"> and artifactory are Java based but</font>

394
00:14:33,950 --> 00:14:40,380
they support<font color="#E5E5E5"> basically any programming</font>

395
00:14:36,480 --> 00:14:41,880
language<font color="#CCCCCC"> so if you can upload to</font><font color="#E5E5E5"> the</font>

396
00:14:40,380 --> 00:14:43,890
artifact server maybe you've stolen<font color="#E5E5E5"> the</font>

397
00:14:41,880 --> 00:14:45,360
credentials<font color="#E5E5E5"> out of the</font><font color="#CCCCCC"> consul's dot xml</font>

398
00:14:43,890 --> 00:14:47,100
you<font color="#E5E5E5"> can upload back to our versions of</font>

399
00:14:45,360 --> 00:14:48,750
code directly<font color="#E5E5E5"> you don't have to do the</font>

400
00:14:47,100 --> 00:14:52,260
whole maven automatic<font color="#CCCCCC"> backdooring</font>

401
00:14:48,750 --> 00:14:54,510
you can just use curl<font color="#E5E5E5"> to upload to</font><font color="#CCCCCC"> them</font>

402
00:14:52,260 --> 00:14:58,319
very simple<font color="#E5E5E5"> just</font><font color="#CCCCCC"> upload file specify the</font>

403
00:14:54,510 --> 00:14:59,970
path and<font color="#CCCCCC"> you have a release there</font><font color="#E5E5E5"> this</font>

404
00:14:58,320 --> 00:15:01,920
is easiest<font color="#E5E5E5"> to do on development versions</font>

405
00:14:59,970 --> 00:15:02,730
not tagged versions<font color="#E5E5E5"> tagged versions you</font>

406
00:15:01,920 --> 00:15:06,780
can overwrite

407
00:15:02,730 --> 00:15:08,640
so it's all<font color="#E5E5E5"> versions can deployment so</font>

408
00:15:06,780 --> 00:15:10,530
after we've committed<font color="#E5E5E5"> code built the</font>

409
00:15:08,640 --> 00:15:12,240
code we<font color="#CCCCCC"> need to get the code on machines</font>

410
00:15:10,530 --> 00:15:14,550
<font color="#E5E5E5">that are gonna be running usually in the</font>

411
00:15:12,240 --> 00:15:17,100
cloud how do we do this there's two<font color="#E5E5E5"> main</font>

412
00:15:14,550 --> 00:15:20,609
<font color="#CCCCCC">ways people</font><font color="#E5E5E5"> do this nowadays</font><font color="#CCCCCC"> some kind</font>

413
00:15:17,100 --> 00:15:22,860
of Linux container like dr.<font color="#CCCCCC"> core OS this</font>

414
00:15:20,610 --> 00:15:24,060
<font color="#E5E5E5">is a virtualized OS and the job you know</font>

415
00:15:22,860 --> 00:15:25,710
most people<font color="#CCCCCC"> note</font><font color="#E5E5E5"> how it's not the same</font>

416
00:15:24,060 --> 00:15:27,900
<font color="#CCCCCC">thing as the VirtualBox in VMware</font>

417
00:15:25,710 --> 00:15:31,080
different type of virtualization<font color="#E5E5E5"> usually</font>

418
00:15:27,900 --> 00:15:32,160
all<font color="#CCCCCC"> the dependencies</font><font color="#E5E5E5"> are included</font><font color="#CCCCCC"> since</font>

419
00:15:31,080 --> 00:15:34,889
<font color="#E5E5E5">you have like</font>

420
00:15:32,160 --> 00:15:36,779
see libraries you need or specific<font color="#CCCCCC"> Java</font>

421
00:15:34,889 --> 00:15:38,040
<font color="#E5E5E5">version or specific Python libraries all</font>

422
00:15:36,779 --> 00:15:40,500
that<font color="#E5E5E5"> will be built</font><font color="#CCCCCC"> into your docker</font>

423
00:15:38,040 --> 00:15:42,300
image<font color="#E5E5E5"> and usually your Jenkins will</font>

424
00:15:40,500 --> 00:15:43,589
build the entire<font color="#E5E5E5"> image and this is</font>

425
00:15:42,300 --> 00:15:45,569
<font color="#E5E5E5">really nice because your developers can</font>

426
00:15:43,589 --> 00:15:46,440
put on their laptops<font color="#E5E5E5"> and run the exact</font>

427
00:15:45,569 --> 00:15:49,829
same<font color="#CCCCCC"> things they're running in</font>

428
00:15:46,440 --> 00:15:51,120
production<font color="#E5E5E5"> without any problems the</font>

429
00:15:49,829 --> 00:15:52,949
other<font color="#CCCCCC"> way I've seen people do it</font><font color="#E5E5E5"> is</font>

430
00:15:51,120 --> 00:15:55,259
configuration<font color="#CCCCCC"> management software chef</font>

431
00:15:52,949 --> 00:15:56,758
or puppet<font color="#CCCCCC"> ansible</font><font color="#E5E5E5"> salt</font><font color="#CCCCCC"> any of these</font>

432
00:15:55,259 --> 00:15:59,879
things<font color="#E5E5E5"> they're actually</font><font color="#CCCCCC"> very very</font>

433
00:15:56,759 --> 00:16:01,379
<font color="#E5E5E5">effective at deploying software to nodes</font>

434
00:15:59,879 --> 00:16:02,670
<font color="#E5E5E5">and production and the other thing</font>

435
00:16:01,379 --> 00:16:04,800
people<font color="#E5E5E5"> use is custom scripts batch</font>

436
00:16:02,670 --> 00:16:07,889
scripts downloading things<font color="#E5E5E5"> mark factory</font>

437
00:16:04,800 --> 00:16:11,069
putting<font color="#CCCCCC"> in particular</font><font color="#E5E5E5"> places</font><font color="#CCCCCC"> so let's</font>

438
00:16:07,889 --> 00:16:12,300
talk<font color="#E5E5E5"> about all these so containers</font><font color="#CCCCCC"> I try</font>

439
00:16:11,069 --> 00:16:14,160
<font color="#E5E5E5">to find</font><font color="#CCCCCC"> a list of all the different</font>

440
00:16:12,300 --> 00:16:16,050
containers and technologies and most of

441
00:16:14,160 --> 00:16:18,329
these I didn't know about<font color="#CCCCCC"> dr kubernetes</font>

442
00:16:16,050 --> 00:16:20,639
core OS mezzos<font color="#CCCCCC"> are can keep</font><font color="#E5E5E5"> adamak</font><font color="#CCCCCC"> Dave</font>

443
00:16:18,329 --> 00:16:22,949
<font color="#E5E5E5">retainer Rancher</font><font color="#CCCCCC"> shipyard there was</font>

444
00:16:20,639 --> 00:16:24,389
about<font color="#E5E5E5"> 20 more I didn't have on</font><font color="#CCCCCC"> here it's</font>

445
00:16:22,949 --> 00:16:27,359
crazy it really makes me want<font color="#CCCCCC"> to kill</font>

446
00:16:24,389 --> 00:16:28,620
<font color="#CCCCCC">myself</font><font color="#E5E5E5"> and I like containers and all</font>

447
00:16:27,360 --> 00:16:30,060
this stuff<font color="#CCCCCC"> I</font><font color="#E5E5E5"> think they're</font><font color="#CCCCCC"> really cool</font>

448
00:16:28,620 --> 00:16:32,610
<font color="#E5E5E5">and</font><font color="#CCCCCC"> there's just so much stuff out</font><font color="#E5E5E5"> there</font>

449
00:16:30,060 --> 00:16:35,849
<font color="#E5E5E5">just happening so fast</font><font color="#CCCCCC"> it's really hard</font>

450
00:16:32,610 --> 00:16:38,000
to keep up<font color="#E5E5E5"> with and</font><font color="#CCCCCC"> that that's</font><font color="#E5E5E5"> if</font>

451
00:16:35,850 --> 00:16:40,290
you're<font color="#CCCCCC"> somebody who's</font><font color="#E5E5E5"> kind of into this</font>

452
00:16:38,000 --> 00:16:42,329
<font color="#CCCCCC">if you're kind</font><font color="#E5E5E5"> of new to this there's</font>

453
00:16:40,290 --> 00:16:43,680
<font color="#E5E5E5">actually really funny a blog post called</font>

454
00:16:42,329 --> 00:16:46,199
<font color="#CCCCCC">The</font><font color="#E5E5E5"> Illustrated</font><font color="#CCCCCC"> children's guide to</font>

455
00:16:43,680 --> 00:16:47,758
kubernetes<font color="#E5E5E5"> it's kind of fun</font><font color="#CCCCCC"> it's a</font>

456
00:16:46,199 --> 00:16:49,800
<font color="#E5E5E5">really good like a little lightweight</font>

457
00:16:47,759 --> 00:16:51,990
introduction to this<font color="#E5E5E5"> I like pointing</font>

458
00:16:49,800 --> 00:16:54,389
people to<font color="#E5E5E5"> this because I get</font><font color="#CCCCCC"> kick out of</font>

459
00:16:51,990 --> 00:16:57,209
<font color="#CCCCCC">kit imagining kids are eating coding</font>

460
00:16:54,389 --> 00:16:59,009
about them<font color="#CCCCCC"> so containers so there's</font>

461
00:16:57,209 --> 00:17:00,599
<font color="#E5E5E5">security trade-offs</font>

462
00:16:59,009 --> 00:17:02,790
one thing about containers is it's

463
00:17:00,600 --> 00:17:04,559
really<font color="#E5E5E5"> easy to patch an update</font>

464
00:17:02,790 --> 00:17:07,079
it fits<font color="#CCCCCC"> microservices really well which</font>

465
00:17:04,559 --> 00:17:08,819
we'll talk about<font color="#E5E5E5"> in</font><font color="#CCCCCC"> a bit it's easy to</font>

466
00:17:07,079 --> 00:17:10,139
automate building and deployment of them

467
00:17:08,819 --> 00:17:12,869
there's actually really<font color="#CCCCCC"> really great</font>

468
00:17:10,140 --> 00:17:14,929
tools<font color="#CCCCCC"> for building docker images</font>

469
00:17:12,869 --> 00:17:16,889
nowadays and keeping them up to date

470
00:17:14,929 --> 00:17:20,039
<font color="#CCCCCC">building</font><font color="#E5E5E5"> your things into them in</font>

471
00:17:16,890 --> 00:17:21,360
deploying<font color="#E5E5E5"> one surprising thing and that</font>

472
00:17:20,039 --> 00:17:22,740
<font color="#CCCCCC">especially a lot</font><font color="#E5E5E5"> of developers don't</font>

473
00:17:21,359 --> 00:17:25,678
know<font color="#E5E5E5"> this is that</font><font color="#CCCCCC"> they're not</font><font color="#E5E5E5"> a security</font>

474
00:17:22,740 --> 00:17:27,449
<font color="#CCCCCC">barrier I've actually only met one</font>

475
00:17:25,679 --> 00:17:28,590
developer<font color="#E5E5E5"> at a developer conference</font><font color="#CCCCCC"> like</font>

476
00:17:27,449 --> 00:17:29,400
not at a security conference because

477
00:17:28,590 --> 00:17:30,959
<font color="#E5E5E5">itself is like go to security</font>

478
00:17:29,400 --> 00:17:33,120
conferences usually<font color="#E5E5E5"> know a little bit</font>

479
00:17:30,960 --> 00:17:34,320
<font color="#E5E5E5">more</font><font color="#CCCCCC"> about security</font><font color="#E5E5E5"> I've only met</font><font color="#CCCCCC"> one of</font>

480
00:17:33,120 --> 00:17:36,899
<font color="#E5E5E5">the developer conference that actually</font>

481
00:17:34,320 --> 00:17:39,330
knew<font color="#E5E5E5"> that docker was not a security</font>

482
00:17:36,900 --> 00:17:41,159
<font color="#CCCCCC">barrier</font><font color="#E5E5E5"> so it's really not well known</font>

483
00:17:39,330 --> 00:17:43,168
even<font color="#E5E5E5"> though that's a pretty standard</font>

484
00:17:41,159 --> 00:17:45,250
<font color="#CCCCCC">thing the doctor says</font><font color="#E5E5E5"> we'll talk about</font>

485
00:17:43,169 --> 00:17:46,540
<font color="#E5E5E5">that more</font><font color="#CCCCCC"> in a little bit</font>

486
00:17:45,250 --> 00:17:48,640
and the<font color="#E5E5E5"> biggest danger is that all these</font>

487
00:17:46,540 --> 00:17:49,960
tools is that<font color="#CCCCCC"> they're pretty</font><font color="#E5E5E5"> new so even</font>

488
00:17:48,640 --> 00:17:51,250
as a<font color="#E5E5E5"> security person you might not be</font>

489
00:17:49,960 --> 00:17:52,900
<font color="#CCCCCC">aware of</font><font color="#E5E5E5"> the security trade-offs you're</font>

490
00:17:51,250 --> 00:17:54,250
making let's talk about those things<font color="#CCCCCC"> so</font>

491
00:17:52,900 --> 00:17:57,370
<font color="#CCCCCC">here's an example</font>

492
00:17:54,250 --> 00:18:00,250
so kubernetes automates<font color="#E5E5E5"> deployments</font><font color="#CCCCCC"> and</font>

493
00:17:57,370 --> 00:18:02,050
containers so you<font color="#CCCCCC"> might have an</font><font color="#E5E5E5"> SSH</font>

494
00:18:00,250 --> 00:18:03,970
<font color="#E5E5E5">Bastion host right because you want all</font>

495
00:18:02,050 --> 00:18:06,100
of your at<font color="#E5E5E5"> Sage to go into one machines</font>

496
00:18:03,970 --> 00:18:07,750
you<font color="#CCCCCC"> can check it and</font><font color="#E5E5E5"> do two factor and</font>

497
00:18:06,100 --> 00:18:08,800
log and do all the great stuff<font color="#E5E5E5"> you want</font>

498
00:18:07,750 --> 00:18:10,330
to<font color="#E5E5E5"> do because you're a security person</font>

499
00:18:08,800 --> 00:18:12,490
<font color="#CCCCCC">and you might not realize that</font>

500
00:18:10,330 --> 00:18:14,350
kubernetes actually can bypass SSH

501
00:18:12,490 --> 00:18:16,420
directly and this is a cool feature it

502
00:18:14,350 --> 00:18:18,399
has<font color="#E5E5E5"> you just do coups ETL exec you</font>

503
00:18:16,420 --> 00:18:20,710
specify the pod name or the container

504
00:18:18,400 --> 00:18:22,240
name and you do<font color="#E5E5E5"> slash pin match now you</font>

505
00:18:20,710 --> 00:18:24,130
have a bash<font color="#CCCCCC"> shell</font><font color="#E5E5E5"> and this actually</font>

506
00:18:22,240 --> 00:18:26,440
tunnels over<font color="#E5E5E5"> a 443 to the kubernetes</font>

507
00:18:24,130 --> 00:18:29,140
master and you if you've done<font color="#CCCCCC"> all of</font><font color="#E5E5E5"> you</font>

508
00:18:26,440 --> 00:18:30,970
all this work<font color="#CCCCCC"> to</font><font color="#E5E5E5"> set up SSH and set up</font>

509
00:18:29,140 --> 00:18:32,890
your logging<font color="#E5E5E5"> and to factor all</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> stuff</font>

510
00:18:30,970 --> 00:18:34,630
<font color="#E5E5E5">so carefully</font><font color="#CCCCCC"> you just didn't realize</font>

511
00:18:32,890 --> 00:18:36,160
<font color="#E5E5E5">that by running kubernetes now there's</font>

512
00:18:34,630 --> 00:18:37,480
<font color="#E5E5E5">kind</font><font color="#CCCCCC"> of a side door into your</font>

513
00:18:36,160 --> 00:18:39,040
architecture and<font color="#E5E5E5"> this isn't a bug this</font>

514
00:18:37,480 --> 00:18:42,340
<font color="#E5E5E5">is absolutely a feature it's super</font>

515
00:18:39,040 --> 00:18:43,780
convenient<font color="#CCCCCC"> and</font><font color="#E5E5E5"> developers love it but</font>

516
00:18:42,340 --> 00:18:47,139
<font color="#E5E5E5">you have to be you know careful with</font>

517
00:18:43,780 --> 00:18:49,180
<font color="#E5E5E5">this</font><font color="#CCCCCC"> this I got this from a really cool</font>

518
00:18:47,140 --> 00:18:50,410
talk at<font color="#E5E5E5"> sector</font><font color="#CCCCCC"> crash</font><font color="#E5E5E5"> course and</font>

519
00:18:49,180 --> 00:18:52,000
kubernetes and<font color="#E5E5E5"> security by matt</font>

520
00:18:50,410 --> 00:18:54,720
<font color="#CCCCCC">johansson really interesting if you're</font>

521
00:18:52,000 --> 00:18:54,720
interested in kubernetes

522
00:18:55,180 --> 00:19:00,750
another thing easy<font color="#CCCCCC"> dr root shell</font><font color="#E5E5E5"> this</font>

523
00:18:57,670 --> 00:19:02,590
isn't like a super advanced but this is

524
00:19:00,750 --> 00:19:04,450
something<font color="#CCCCCC"> that some people don't know</font>

525
00:19:02,590 --> 00:19:06,490
about<font color="#E5E5E5"> if the user is in the docker group</font>

526
00:19:04,450 --> 00:19:09,430
they can<font color="#CCCCCC"> basically run containers of</font>

527
00:19:06,490 --> 00:19:11,080
that to do and they have access to<font color="#CCCCCC"> route</font>

528
00:19:09,430 --> 00:19:14,890
essentially because<font color="#E5E5E5"> of how docker works</font>

529
00:19:11,080 --> 00:19:17,409
so this<font color="#E5E5E5"> first command is going to start</font>

530
00:19:14,890 --> 00:19:18,760
a docker container they going<font color="#E5E5E5"> up one to</font>

531
00:19:17,410 --> 00:19:22,270
image<font color="#CCCCCC"> and</font><font color="#E5E5E5"> it's going to map the</font><font color="#CCCCCC"> users</font>

532
00:19:18,760 --> 00:19:24,879
<font color="#E5E5E5">home directory to /h</font><font color="#CCCCCC"> Docs</font><font color="#E5E5E5"> it's going to</font>

533
00:19:22,270 --> 00:19:27,400
copy a bash shell in the docker

534
00:19:24,880 --> 00:19:28,440
container to<font color="#E5E5E5"> /h</font><font color="#CCCCCC"> docks which the same</font>

535
00:19:27,400 --> 00:19:31,150
thing as the<font color="#CCCCCC"> user's home directory</font>

536
00:19:28,440 --> 00:19:34,230
<font color="#E5E5E5">called slash root shell and then it's</font>

537
00:19:31,150 --> 00:19:36,850
<font color="#E5E5E5">going to set you ID that root shell okay</font>

538
00:19:34,230 --> 00:19:39,730
so then<font color="#E5E5E5"> outside</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> the docker image on</font>

539
00:19:36,850 --> 00:19:40,899
the host<font color="#E5E5E5"> it's going to you know we're</font>

540
00:19:39,730 --> 00:19:44,940
<font color="#CCCCCC">looking</font><font color="#E5E5E5"> at the root shell and it's owned</font>

541
00:19:40,900 --> 00:19:47,710
by<font color="#E5E5E5"> root on</font><font color="#CCCCCC"> the host</font><font color="#E5E5E5"> and it's at UID so</font>

542
00:19:44,940 --> 00:19:49,060
even though you know in the<font color="#E5E5E5"> doctor image</font>

543
00:19:47,710 --> 00:19:50,560
you were<font color="#E5E5E5"> root and outside the docker</font>

544
00:19:49,060 --> 00:19:53,370
image you were also root so when you run

545
00:19:50,560 --> 00:19:55,899
<font color="#CCCCCC">that root shell</font><font color="#E5E5E5"> using high speed of</font>

546
00:19:53,370 --> 00:19:58,419
<font color="#E5E5E5">honor set UID</font><font color="#CCCCCC"> you can get a root shell</font>

547
00:19:55,900 --> 00:19:59,140
<font color="#E5E5E5">and this is not a bug this is absolutely</font>

548
00:19:58,420 --> 00:20:03,100
a feature doctor

549
00:19:59,140 --> 00:20:04,660
and they will not fix this<font color="#CCCCCC"> and this</font>

550
00:20:03,100 --> 00:20:06,669
<font color="#E5E5E5">trips you go up all the</font><font color="#CCCCCC"> time because</font>

551
00:20:04,660 --> 00:20:07,960
<font color="#E5E5E5">they're like oh you know I have</font><font color="#CCCCCC"> doctor</font>

552
00:20:06,670 --> 00:20:11,040
it's like<font color="#CCCCCC"> stay true something</font><font color="#E5E5E5"> I'll run</font>

553
00:20:07,960 --> 00:20:14,590
all my<font color="#E5E5E5"> applications is</font><font color="#CCCCCC"> rude this happens</font>

554
00:20:11,040 --> 00:20:16,450
so like Dockers<font color="#E5E5E5"> are the cool for</font>

555
00:20:14,590 --> 00:20:19,149
security<font color="#E5E5E5"> in some aspects and it has some</font>

556
00:20:16,450 --> 00:20:20,830
<font color="#E5E5E5">kind</font><font color="#CCCCCC"> of pitfalls</font><font color="#E5E5E5"> another one</font><font color="#CCCCCC"> other</font>

557
00:20:19,150 --> 00:20:23,170
things I found was<font color="#CCCCCC"> I just decided</font><font color="#E5E5E5"> to</font>

558
00:20:20,830 --> 00:20:26,199
look on<font color="#CCCCCC"> showdown for just what I could</font>

559
00:20:23,170 --> 00:20:28,750
find for docker<font color="#CCCCCC"> I</font><font color="#E5E5E5"> found a port</font><font color="#CCCCCC"> a nur</font><font color="#E5E5E5"> on</font>

560
00:20:26,200 --> 00:20:29,800
the<font color="#CCCCCC"> Internet if</font><font color="#E5E5E5"> you put this kind of</font>

561
00:20:28,750 --> 00:20:33,070
stuff on the internet<font color="#E5E5E5"> you've ever owned</font>

562
00:20:29,800 --> 00:20:37,090
yourself because I all these you can

563
00:20:33,070 --> 00:20:39,399
just<font color="#CCCCCC"> login to directly</font><font color="#E5E5E5"> from your port</font>

564
00:20:37,090 --> 00:20:40,959
<font color="#CCCCCC">Aynor here I can start stop anything I</font>

565
00:20:39,400 --> 00:20:43,360
want<font color="#E5E5E5"> this is obviously a huge</font><font color="#CCCCCC"> problem</font>

566
00:20:40,960 --> 00:20:45,070
<font color="#CCCCCC">and part of the</font><font color="#E5E5E5"> problem with this is</font>

567
00:20:43,360 --> 00:20:46,990
that<font color="#CCCCCC"> they don't</font><font color="#E5E5E5"> come built-in with</font>

568
00:20:45,070 --> 00:20:49,060
<font color="#E5E5E5">authentication</font><font color="#CCCCCC"> zall network off that's a</font>

569
00:20:46,990 --> 00:20:51,010
very<font color="#E5E5E5"> very common thing with all these</font>

570
00:20:49,060 --> 00:20:52,810
<font color="#E5E5E5">new tools it's like Oh lock it down and</font>

571
00:20:51,010 --> 00:20:54,490
but then people<font color="#E5E5E5"> like but I want to</font>

572
00:20:52,810 --> 00:20:56,169
<font color="#E5E5E5">access</font><font color="#CCCCCC"> it from</font><font color="#E5E5E5"> home or my VPN and they</font>

573
00:20:54,490 --> 00:20:57,070
mess<font color="#CCCCCC"> it up</font><font color="#E5E5E5"> and they accidentally</font><font color="#CCCCCC"> put it</font>

574
00:20:56,170 --> 00:20:58,840
on the Internet

575
00:20:57,070 --> 00:21:00,520
<font color="#E5E5E5">that's another one this is kubernetes</font>

576
00:20:58,840 --> 00:21:03,250
<font color="#CCCCCC">and actually</font><font color="#E5E5E5"> found the</font><font color="#CCCCCC"> jenkins password</font>

577
00:21:00,520 --> 00:21:05,680
just<font color="#E5E5E5"> right away and they were</font><font color="#CCCCCC"> obviously</font>

578
00:21:03,250 --> 00:21:07,630
running<font color="#CCCCCC"> jenkins</font><font color="#E5E5E5"> in a doctor</font><font color="#CCCCCC"> i could</font><font color="#E5E5E5"> log</font>

579
00:21:05,680 --> 00:21:10,990
<font color="#CCCCCC">into</font><font color="#E5E5E5"> it directly which I didn't do that</font>

580
00:21:07,630 --> 00:21:13,270
<font color="#CCCCCC">would</font><font color="#E5E5E5"> be</font><font color="#CCCCCC"> illegal</font><font color="#E5E5E5"> but you could do is all</font>

581
00:21:10,990 --> 00:21:14,590
<font color="#E5E5E5">in here in it</font><font color="#CCCCCC"> actually all the docker</font>

582
00:21:13,270 --> 00:21:16,000
images also<font color="#CCCCCC"> on the internet which is</font>

583
00:21:14,590 --> 00:21:18,730
<font color="#E5E5E5">that that was weird</font>

584
00:21:16,000 --> 00:21:20,130
usually that<font color="#E5E5E5"> doesn't happen but so you</font>

585
00:21:18,730 --> 00:21:21,940
might<font color="#E5E5E5"> also see this where people</font>

586
00:21:20,130 --> 00:21:23,700
<font color="#E5E5E5">accidentally put this kind of stuff</font>

587
00:21:21,940 --> 00:21:26,050
<font color="#E5E5E5">directly on the Internet</font>

588
00:21:23,700 --> 00:21:30,160
okay so config management is the other

589
00:21:26,050 --> 00:21:33,340
major<font color="#E5E5E5"> wage deploy software</font><font color="#CCCCCC"> and maybe</font>

590
00:21:30,160 --> 00:21:36,430
configure your docker hosts so your

591
00:21:33,340 --> 00:21:37,810
software might depend on ntpd running

592
00:21:36,430 --> 00:21:39,550
and the time being correct<font color="#E5E5E5"> maybe a</font>

593
00:21:37,810 --> 00:21:44,050
recent Linux kernel version<font color="#E5E5E5"> imagemagick</font>

594
00:21:39,550 --> 00:21:45,159
installed hopefully not<font color="#CCCCCC"> maybe you want</font>

595
00:21:44,050 --> 00:21:46,899
<font color="#CCCCCC">to ask the question are all of your</font>

596
00:21:45,160 --> 00:21:49,030
<font color="#E5E5E5">nodes</font><font color="#CCCCCC"> up-to-date like are they all the</font>

597
00:21:46,900 --> 00:21:51,010
current patches<font color="#E5E5E5"> they all these specific</font>

598
00:21:49,030 --> 00:21:52,120
<font color="#E5E5E5">packages installed configuration</font>

599
00:21:51,010 --> 00:21:55,780
management answers all<font color="#CCCCCC"> of these</font>

600
00:21:52,120 --> 00:21:58,090
<font color="#E5E5E5">questions</font><font color="#CCCCCC"> one thing</font><font color="#E5E5E5"> that I really like</font>

601
00:21:55,780 --> 00:22:00,070
about<font color="#E5E5E5"> it is it also gives you a way</font><font color="#CCCCCC"> to</font>

602
00:21:58,090 --> 00:22:01,330
peer review<font color="#E5E5E5"> changes to your</font>

603
00:22:00,070 --> 00:22:03,370
<font color="#E5E5E5">infrastructure because all of</font><font color="#CCCCCC"> your</font>

604
00:22:01,330 --> 00:22:05,169
configuration<font color="#E5E5E5"> management can be</font>

605
00:22:03,370 --> 00:22:06,790
described in files which would be

606
00:22:05,170 --> 00:22:09,100
<font color="#CCCCCC">checking</font><font color="#E5E5E5"> to get and then somebody can</font>

607
00:22:06,790 --> 00:22:11,320
review your<font color="#E5E5E5"> changes which is really nice</font>

608
00:22:09,100 --> 00:22:12,639
<font color="#E5E5E5">so chef is</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> very popular one it's not</font>

609
00:22:11,320 --> 00:22:14,830
<font color="#CCCCCC">the</font><font color="#E5E5E5"> only one</font>

610
00:22:12,640 --> 00:22:18,970
<font color="#CCCCCC">to</font><font color="#E5E5E5"> what I know best</font><font color="#CCCCCC"> but basically all</font>

611
00:22:14,830 --> 00:22:21,970
these apply<font color="#E5E5E5"> to any old concepts apply to</font>

612
00:22:18,970 --> 00:22:23,260
any major figuration management<font color="#CCCCCC"> chef is</font>

613
00:22:21,970 --> 00:22:26,590
cool because<font color="#CCCCCC"> it treats an infrastructure</font>

614
00:22:23,260 --> 00:22:28,180
<font color="#CCCCCC">is code and you describe what not how so</font>

615
00:22:26,590 --> 00:22:29,709
<font color="#E5E5E5">like basically every programming</font>

616
00:22:28,180 --> 00:22:31,750
language describes how to do<font color="#E5E5E5"> something</font>

617
00:22:29,710 --> 00:22:33,610
<font color="#E5E5E5">but chef does it kind</font><font color="#CCCCCC"> of the other</font><font color="#E5E5E5"> way</font>

618
00:22:31,750 --> 00:22:36,130
<font color="#E5E5E5">it says okay well this directory should</font>

619
00:22:33,610 --> 00:22:37,510
<font color="#E5E5E5">exist that op slash application you can</font>

620
00:22:36,130 --> 00:22:40,630
fig that's<font color="#E5E5E5"> going to be like</font><font color="#CCCCCC"> fig</font>

621
00:22:37,510 --> 00:22:43,270
directory it's owned by service and this

622
00:22:40,630 --> 00:22:45,090
mode<font color="#CCCCCC"> make sure you create it and create</font>

623
00:22:43,270 --> 00:22:47,889
any directories of you know recursively

624
00:22:45,090 --> 00:22:49,810
<font color="#CCCCCC">and what's nice</font><font color="#E5E5E5"> about this is</font><font color="#CCCCCC"> it's ident</font>

625
00:22:47,890 --> 00:22:51,430
<font color="#CCCCCC">so if you keep doing it over</font><font color="#E5E5E5"> and over</font>

626
00:22:49,810 --> 00:22:52,870
<font color="#E5E5E5">and</font><font color="#CCCCCC"> over it doesn't</font><font color="#E5E5E5"> make new directories</font>

627
00:22:51,430 --> 00:22:54,820
<font color="#E5E5E5">as</font><font color="#CCCCCC"> you try to</font><font color="#E5E5E5"> adjust checks at the</font>

628
00:22:52,870 --> 00:22:57,189
directory<font color="#CCCCCC"> exists directory is like the</font>

629
00:22:54,820 --> 00:22:58,929
most<font color="#E5E5E5"> simple example but you</font><font color="#CCCCCC"> can make</font>

630
00:22:57,190 --> 00:23:01,000
very<font color="#E5E5E5"> very complicated resources like</font>

631
00:22:58,930 --> 00:23:02,860
this is my<font color="#E5E5E5"> move my entire application</font>

632
00:23:01,000 --> 00:23:07,630
and then<font color="#E5E5E5"> you can describe in Ruby code</font>

633
00:23:02,860 --> 00:23:09,100
exactly<font color="#CCCCCC"> how that</font><font color="#E5E5E5"> works</font><font color="#CCCCCC"> nice</font><font color="#E5E5E5"> is the</font>

634
00:23:07,630 --> 00:23:10,720
<font color="#E5E5E5">command line tool</font><font color="#CCCCCC"> interacts with chef</font>

635
00:23:09,100 --> 00:23:14,110
chef is<font color="#CCCCCC"> very kind of cutesy it has</font>

636
00:23:10,720 --> 00:23:15,180
<font color="#E5E5E5">cookbooks and recipes</font><font color="#CCCCCC"> and knives</font><font color="#E5E5E5"> it's</font>

637
00:23:14,110 --> 00:23:19,750
kind of annoying actually

638
00:23:15,180 --> 00:23:20,920
<font color="#CCCCCC">so in chef's</font><font color="#E5E5E5"> knife</font><font color="#CCCCCC"> RB this is tells you</font>

639
00:23:19,750 --> 00:23:22,630
where<font color="#E5E5E5"> the chef server is if you could</font>

640
00:23:20,920 --> 00:23:23,920
access your<font color="#E5E5E5"> developers machine this is</font>

641
00:23:22,630 --> 00:23:27,700
<font color="#CCCCCC">going to tell you where</font><font color="#E5E5E5"> their chef</font>

642
00:23:23,920 --> 00:23:29,230
server is and<font color="#E5E5E5"> this</font><font color="#CCCCCC"> is their key</font><font color="#E5E5E5"> to talk</font>

643
00:23:27,700 --> 00:23:30,880
to chefs or any both of these you just

644
00:23:29,230 --> 00:23:32,320
<font color="#E5E5E5">put them in that directory knife will</font>

645
00:23:30,880 --> 00:23:36,070
use them<font color="#E5E5E5"> and now you can talk to their</font>

646
00:23:32,320 --> 00:23:37,600
chef server so you have<font color="#E5E5E5"> access</font><font color="#CCCCCC"> to their</font>

647
00:23:36,070 --> 00:23:38,980
chef server and now you want a list of

648
00:23:37,600 --> 00:23:41,020
every node in every<font color="#CCCCCC"> environment this can</font>

649
00:23:38,980 --> 00:23:42,250
be very useful<font color="#CCCCCC"> for you used to knife</font>

650
00:23:41,020 --> 00:23:44,620
nodes list<font color="#E5E5E5"> it will print out every</font>

651
00:23:42,250 --> 00:23:47,470
<font color="#E5E5E5">single node with helpful names and</font>

652
00:23:44,620 --> 00:23:49,300
descriptions<font color="#CCCCCC"> you want to see em</font><font color="#E5E5E5"> install</font>

653
00:23:47,470 --> 00:23:52,030
<font color="#E5E5E5">packages for every machine you just</font>

654
00:23:49,300 --> 00:23:55,389
search<font color="#CCCCCC"> the quoted asterisk is basically</font>

655
00:23:52,030 --> 00:23:57,760
just<font color="#CCCCCC"> all</font><font color="#E5E5E5"> you can specify environments or</font>

656
00:23:55,390 --> 00:23:59,770
you can segment<font color="#E5E5E5"> that up a little bit and</font>

657
00:23:57,760 --> 00:24:02,020
the -<font color="#CCCCCC"> a packages tells it I want</font><font color="#E5E5E5"> to see</font>

658
00:23:59,770 --> 00:24:03,940
all the packages I want see which<font color="#CCCCCC"> its</font>

659
00:24:02,020 --> 00:24:06,430
<font color="#E5E5E5">come over not</font><font color="#CCCCCC"> in the excursion which</font>

660
00:24:03,940 --> 00:24:08,490
like<font color="#CCCCCC"> imagemagick installed a lot kind of</font>

661
00:24:06,430 --> 00:24:12,070
<font color="#CCCCCC">sublet which versions over</font><font color="#E5E5E5"> that cell</font>

662
00:24:08,490 --> 00:24:15,100
<font color="#E5E5E5">kernel version is different you kernel</font>

663
00:24:12,070 --> 00:24:16,600
release and secrets basically this -<font color="#E5E5E5"> L</font>

664
00:24:15,100 --> 00:24:19,389
is<font color="#E5E5E5"> basically says give me all the</font>

665
00:24:16,600 --> 00:24:20,409
<font color="#CCCCCC">attributes that the every node has and</font>

666
00:24:19,390 --> 00:24:21,820
I'm<font color="#E5E5E5"> just going to correct for maybe</font>

667
00:24:20,410 --> 00:24:23,740
password but<font color="#E5E5E5"> you can just look</font><font color="#CCCCCC"> through</font>

668
00:24:21,820 --> 00:24:24,549
all of this and find<font color="#CCCCCC"> maybe useful</font><font color="#E5E5E5"> bits</font>

669
00:24:23,740 --> 00:24:26,499
of information

670
00:24:24,549 --> 00:24:28,269
you're not supposed to put secrets in

671
00:24:26,499 --> 00:24:29,529
this not a best practice for<font color="#CCCCCC"> chef's</font>

672
00:24:28,269 --> 00:24:32,219
<font color="#E5E5E5">developing people do this all the time</font>

673
00:24:29,529 --> 00:24:35,649
<font color="#E5E5E5">when you put passwords secrets in here</font>

674
00:24:32,219 --> 00:24:38,769
<font color="#CCCCCC">so you</font><font color="#E5E5E5"> have</font><font color="#CCCCCC"> selkies and all this</font><font color="#E5E5E5"> from</font>

675
00:24:35,649 --> 00:24:40,268
<font color="#E5E5E5">the</font><font color="#CCCCCC"> chef server you can find even more</font>

676
00:24:38,769 --> 00:24:45,070
data where you're supposed to put<font color="#CCCCCC"> things</font>

677
00:24:40,269 --> 00:24:47,950
<font color="#E5E5E5">as</font><font color="#CCCCCC"> difficult data bags so like</font><font color="#E5E5E5"> you</font>

678
00:24:45,070 --> 00:24:50,439
<font color="#CCCCCC">chef's we store our data bit our pub key</font>

679
00:24:47,950 --> 00:24:53,619
<font color="#E5E5E5">search in our data bags and you would</font>

680
00:24:50,440 --> 00:24:56,320
<font color="#E5E5E5">show them like this</font><font color="#CCCCCC"> you can run</font>

681
00:24:53,619 --> 00:24:59,109
arbitrary<font color="#E5E5E5"> SSH commands like with salts</font>

682
00:24:56,320 --> 00:25:01,899
or ansible<font color="#E5E5E5"> but this isn't going to be</font>

683
00:24:59,109 --> 00:25:04,059
super<font color="#CCCCCC"> useful for you</font><font color="#E5E5E5"> because you need SH</font>

684
00:25:01,899 --> 00:25:05,589
off and if<font color="#E5E5E5"> you have SSH off as an</font>

685
00:25:04,059 --> 00:25:06,849
attacker usually you have<font color="#CCCCCC"> everything you</font>

686
00:25:05,589 --> 00:25:08,499
need already and you don't<font color="#E5E5E5"> need to use</font>

687
00:25:06,849 --> 00:25:10,658
chef but this is<font color="#E5E5E5"> just kind of for</font>

688
00:25:08,499 --> 00:25:14,019
completeness<font color="#E5E5E5"> susceptance usually like</font>

689
00:25:10,659 --> 00:25:16,269
using<font color="#E5E5E5"> nice and staged</font><font color="#CCCCCC"> so we</font><font color="#E5E5E5"> went back</font><font color="#CCCCCC"> to</font>

690
00:25:14,019 --> 00:25:17,619
<font color="#CCCCCC">our chefs</font><font color="#E5E5E5"> it's pretty it's pretty simple</font>

691
00:25:16,269 --> 00:25:19,059
<font color="#E5E5E5">the</font><font color="#CCCCCC"> first</font><font color="#E5E5E5"> thing you want to do is you</font>

692
00:25:17,619 --> 00:25:20,859
want to<font color="#E5E5E5"> find a recipe the most</font><font color="#CCCCCC"> use</font>

693
00:25:19,059 --> 00:25:22,539
because<font color="#E5E5E5"> you want to back</font><font color="#CCCCCC"> to or</font>

694
00:25:20,859 --> 00:25:23,349
<font color="#E5E5E5">everything right you want to get your</font>

695
00:25:22,539 --> 00:25:24,849
stuff<font color="#E5E5E5"> everywhere</font>

696
00:25:23,349 --> 00:25:29,249
so all this is<font color="#E5E5E5"> going to do is just</font><font color="#CCCCCC"> find</font>

697
00:25:24,849 --> 00:25:31,869
the<font color="#E5E5E5"> most common recipe that's used so on</font>

698
00:25:29,249 --> 00:25:34,119
<font color="#CCCCCC">my system zishe was the first which</font>

699
00:25:31,869 --> 00:25:36,639
obviously<font color="#E5E5E5"> makes sense because it was the</font>

700
00:25:34,119 --> 00:25:40,208
shell and every machine Walter shell<font color="#CCCCCC"> we</font>

701
00:25:36,639 --> 00:25:41,649
also have to do on<font color="#E5E5E5"> our machine</font><font color="#CCCCCC"> slack so</font>

702
00:25:40,209 --> 00:25:43,389
we're<font color="#E5E5E5"> going to download the cookbook for</font>

703
00:25:41,649 --> 00:25:48,099
zishe and we're<font color="#CCCCCC"> just</font><font color="#E5E5E5"> going to add our</font>

704
00:25:43,389 --> 00:25:49,299
<font color="#E5E5E5">backdoor to the default recipe I'll show</font>

705
00:25:48,099 --> 00:25:50,829
you what that<font color="#E5E5E5"> backdoor is in a minute</font>

706
00:25:49,299 --> 00:25:52,959
and as soon<font color="#E5E5E5"> as we do that all you have</font>

707
00:25:50,829 --> 00:25:54,549
to do is upload<font color="#E5E5E5"> it you don't have</font><font color="#CCCCCC"> to do</font>

708
00:25:52,959 --> 00:25:56,229
<font color="#E5E5E5">git commit or</font><font color="#CCCCCC"> anything if you</font><font color="#E5E5E5"> have</font>

709
00:25:54,549 --> 00:25:58,209
access to<font color="#E5E5E5"> this you can</font><font color="#CCCCCC"> actually talk to</font>

710
00:25:56,229 --> 00:26:01,269
<font color="#E5E5E5">the chef server directly which is really</font>

711
00:25:58,209 --> 00:26:03,489
nice<font color="#CCCCCC"> you don't have to bother leaving</font>

712
00:26:01,269 --> 00:26:07,239
trail of<font color="#E5E5E5"> like commit messages or</font>

713
00:26:03,489 --> 00:26:08,619
anything<font color="#CCCCCC"> and the backdoor</font><font color="#E5E5E5"> that you know</font>

714
00:26:07,239 --> 00:26:11,889
I wrote for this is<font color="#E5E5E5"> just very</font><font color="#CCCCCC"> very</font>

715
00:26:08,619 --> 00:26:14,079
<font color="#CCCCCC">simple</font><font color="#E5E5E5"> it's just it's run this bash</font>

716
00:26:11,889 --> 00:26:18,279
download this<font color="#CCCCCC"> F staged script and just</font>

717
00:26:14,079 --> 00:26:20,079
<font color="#E5E5E5">execute it</font><font color="#CCCCCC"> and this is</font><font color="#E5E5E5"> very simple you</font>

718
00:26:18,279 --> 00:26:22,269
<font color="#E5E5E5">could write a really nice one that was I</font>

719
00:26:20,079 --> 00:26:26,200
didn't and all that kind<font color="#CCCCCC"> of fun DevOps</font><font color="#E5E5E5"> e</font>

720
00:26:22,269 --> 00:26:28,779
stuff but<font color="#CCCCCC"> it's just very simple and then</font>

721
00:26:26,200 --> 00:26:30,669
every<font color="#CCCCCC"> single node that wants</font><font color="#E5E5E5"> to install</font>

722
00:26:28,779 --> 00:26:33,969
zishe is now going<font color="#E5E5E5"> to run this every</font>

723
00:26:30,669 --> 00:26:36,070
<font color="#E5E5E5">time it run</font><font color="#CCCCCC"> one thing I want</font><font color="#E5E5E5"> to talk</font>

724
00:26:33,969 --> 00:26:37,869
about is<font color="#E5E5E5"> micro services because this is</font>

725
00:26:36,070 --> 00:26:39,428
a kind<font color="#CCCCCC"> of defining</font><font color="#E5E5E5"> feature of SAS</font>

726
00:26:37,869 --> 00:26:41,049
company

727
00:26:39,429 --> 00:26:42,399
<font color="#CCCCCC">they're</font><font color="#E5E5E5"> really small services that do a</font>

728
00:26:41,049 --> 00:26:45,490
few things<font color="#E5E5E5"> they're kind of like a</font><font color="#CCCCCC"> unique</font>

729
00:26:42,399 --> 00:26:47,979
<font color="#E5E5E5">philosophy applied to services so</font>

730
00:26:45,490 --> 00:26:49,840
instead of<font color="#E5E5E5"> making a huge program that</font>

731
00:26:47,980 --> 00:26:51,549
does everything<font color="#E5E5E5"> you make a tool like</font><font color="#CCCCCC"> cut</font>

732
00:26:49,840 --> 00:26:53,709
<font color="#CCCCCC">switch just cut strings up or something</font>

733
00:26:51,549 --> 00:26:55,210
like<font color="#CCCCCC"> that usually they're</font><font color="#E5E5E5"> centered</font>

734
00:26:53,710 --> 00:26:58,240
around<font color="#E5E5E5"> some kind</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> business area like</font>

735
00:26:55,210 --> 00:27:00,370
if you have a to do<font color="#E5E5E5"> part of your app you</font>

736
00:26:58,240 --> 00:27:03,429
have<font color="#CCCCCC"> a to-do list</font><font color="#E5E5E5"> service right like an</font>

737
00:27:00,370 --> 00:27:05,408
Gmail Gmail<font color="#E5E5E5"> it to do a little thing and</font>

738
00:27:03,429 --> 00:27:07,809
that's probably<font color="#E5E5E5"> some micro service</font>

739
00:27:05,409 --> 00:27:10,450
somewhere they usually communicate

740
00:27:07,809 --> 00:27:12,879
exclusively via API there's no shared

741
00:27:10,450 --> 00:27:15,429
memory or anything<font color="#E5E5E5"> nothing like that</font>

742
00:27:12,879 --> 00:27:18,428
usually it's rest which is<font color="#E5E5E5"> over HTTP</font><font color="#CCCCCC"> and</font>

743
00:27:15,429 --> 00:27:21,399
JSON<font color="#CCCCCC"> but sometimes you see some kind of</font>

744
00:27:18,429 --> 00:27:24,490
<font color="#CCCCCC">queuing</font><font color="#E5E5E5"> system like</font><font color="#CCCCCC"> RabbitMQ and Dundas</font>

745
00:27:21,399 --> 00:27:26,979
to ask<font color="#E5E5E5"> that sort of thing</font><font color="#CCCCCC"> why do we use</font>

746
00:27:24,490 --> 00:27:28,210
<font color="#E5E5E5">them why do developers like them that's</font>

747
00:27:26,980 --> 00:27:29,559
developed<font color="#E5E5E5"> in time I don't have to</font>

748
00:27:28,210 --> 00:27:31,029
consider<font color="#E5E5E5"> this huge codebase I can</font>

749
00:27:29,559 --> 00:27:34,120
consider<font color="#E5E5E5"> a much smaller codebase when</font>

750
00:27:31,029 --> 00:27:37,629
I'm making my changes<font color="#CCCCCC"> it's easy to</font>

751
00:27:34,120 --> 00:27:38,918
separate your code logically my<font color="#CCCCCC"> codes to</font>

752
00:27:37,629 --> 00:27:41,620
do<font color="#E5E5E5"> this has nothing to do with my code</font>

753
00:27:38,919 --> 00:27:44,519
<font color="#CCCCCC">that says email</font><font color="#E5E5E5"> different keep them far</font>

754
00:27:41,620 --> 00:27:46,809
<font color="#CCCCCC">apart it's very easy to monitor</font><font color="#E5E5E5"> and</font>

755
00:27:44,519 --> 00:27:49,419
services<font color="#E5E5E5"> can remain partially up during</font>

756
00:27:46,809 --> 00:27:51,340
disruptions<font color="#E5E5E5"> this is why you might see</font>

757
00:27:49,419 --> 00:27:53,710
like<font color="#E5E5E5"> on Gmail where calendar is not</font>

758
00:27:51,340 --> 00:27:56,769
working but certain aspects<font color="#E5E5E5"> of like</font>

759
00:27:53,710 --> 00:27:58,539
<font color="#CCCCCC">maybe</font><font color="#E5E5E5"> Google Drive is working it's very</font>

760
00:27:56,769 --> 00:28:00,460
easy<font color="#E5E5E5"> to test and release automatically</font>

761
00:27:58,539 --> 00:28:02,019
much easier to<font color="#E5E5E5"> test in relief I'm just</font>

762
00:28:00,460 --> 00:28:04,269
going<font color="#E5E5E5"> to change this one small aspect</font><font color="#CCCCCC"> of</font>

763
00:28:02,019 --> 00:28:06,820
my codes of my entire company's<font color="#E5E5E5"> entire</font>

764
00:28:04,269 --> 00:28:08,470
code<font color="#CCCCCC"> base so if we had a</font><font color="#E5E5E5"> to this</font>

765
00:28:06,820 --> 00:28:10,658
application<font color="#CCCCCC"> here's our user it's going</font>

766
00:28:08,470 --> 00:28:12,490
to download the<font color="#CCCCCC"> front-end maybe angular</font>

767
00:28:10,659 --> 00:28:14,740
react or something<font color="#E5E5E5"> it's going to hit the</font>

768
00:28:12,490 --> 00:28:16,659
off load balancer<font color="#CCCCCC"> talk to some kind of</font>

769
00:28:14,740 --> 00:28:18,759
<font color="#CCCCCC">login</font><font color="#E5E5E5"> off service who's going to talk to</font>

770
00:28:16,659 --> 00:28:20,379
its<font color="#CCCCCC"> database and then once it's logged</font>

771
00:28:18,759 --> 00:28:21,820
in and<font color="#CCCCCC"> hit some login cookie or</font>

772
00:28:20,379 --> 00:28:24,330
<font color="#CCCCCC">something like that</font><font color="#E5E5E5"> it's going to</font><font color="#CCCCCC"> now</font>

773
00:28:21,820 --> 00:28:26,918
<font color="#CCCCCC">talk to the actual</font><font color="#E5E5E5"> micro service to do</font>

774
00:28:24,330 --> 00:28:30,370
to talk to one or<font color="#E5E5E5"> more to do services</font>

775
00:28:26,919 --> 00:28:32,919
and it needs to<font color="#E5E5E5"> talk</font><font color="#CCCCCC"> to the auth service</font>

776
00:28:30,370 --> 00:28:35,709
to make sure that it's logged in<font color="#E5E5E5"> because</font>

777
00:28:32,919 --> 00:28:37,179
now the to do service can't it doesn't

778
00:28:35,710 --> 00:28:39,009
<font color="#CCCCCC">know who's logged in right - that needs</font>

779
00:28:37,179 --> 00:28:40,929
<font color="#E5E5E5">to talk to something else so</font><font color="#CCCCCC"> it talks</font>

780
00:28:39,009 --> 00:28:43,690
<font color="#CCCCCC">about service hey is this</font><font color="#E5E5E5"> a valid cookie</font>

781
00:28:40,929 --> 00:28:46,870
or<font color="#CCCCCC"> something then it needs to</font><font color="#E5E5E5"> talk to</font>

782
00:28:43,690 --> 00:28:48,120
<font color="#CCCCCC">suited to date to do database</font><font color="#E5E5E5"> kind of a</font>

783
00:28:46,870 --> 00:28:50,520
tongue<font color="#CCCCCC"> twister</font>

784
00:28:48,120 --> 00:28:53,100
to make sure like you<font color="#E5E5E5"> know to add</font><font color="#CCCCCC"> new</font>

785
00:28:50,520 --> 00:28:55,830
<font color="#CCCCCC">to-do</font><font color="#E5E5E5"> items it might talk to</font><font color="#CCCCCC"> a queue for</font>

786
00:28:53,100 --> 00:28:59,969
some reason<font color="#E5E5E5"> I don't know to do batch</font>

787
00:28:55,830 --> 00:29:01,139
processing<font color="#E5E5E5"> and question is might start</font>

788
00:28:59,970 --> 00:29:02,670
<font color="#CCCCCC">asking yourself is like how is this</font>

789
00:29:01,140 --> 00:29:06,420
authenticate how is it service<font color="#E5E5E5"> to</font>

790
00:29:02,670 --> 00:29:09,270
services authenticated<font color="#CCCCCC"> if their rate</font>

791
00:29:06,420 --> 00:29:10,830
limiting<font color="#CCCCCC"> is their input validation and</font>

792
00:29:09,270 --> 00:29:12,629
one thing I<font color="#E5E5E5"> like to do is like is</font><font color="#CCCCCC"> there</font>

793
00:29:10,830 --> 00:29:14,370
sequel injection all the way like kind

794
00:29:12,630 --> 00:29:16,200
<font color="#CCCCCC">of the</font><font color="#E5E5E5"> back</font><font color="#CCCCCC"> end</font><font color="#E5E5E5"> there a lot of people do</font>

795
00:29:14,370 --> 00:29:18,239
sequel injection kind of question

796
00:29:16,200 --> 00:29:20,460
response<font color="#CCCCCC"> but there's actually a lot of</font>

797
00:29:18,240 --> 00:29:23,220
<font color="#E5E5E5">batch processing a lot of these SAS</font>

798
00:29:20,460 --> 00:29:25,650
applications very very common<font color="#E5E5E5"> and sequel</font>

799
00:29:23,220 --> 00:29:28,260
injections actually tend to crop<font color="#CCCCCC"> up you</font>

800
00:29:25,650 --> 00:29:31,260
know everywhere and a place<font color="#CCCCCC"> if not</font><font color="#E5E5E5"> very</font>

801
00:29:28,260 --> 00:29:35,400
<font color="#E5E5E5">well</font><font color="#CCCCCC"> tested is like after after being in</font>

802
00:29:31,260 --> 00:29:37,530
queue or something<font color="#CCCCCC"> I really like to draw</font>

803
00:29:35,400 --> 00:29:39,840
a line here<font color="#CCCCCC"> just based on like being a</font>

804
00:29:37,530 --> 00:29:42,240
developer<font color="#E5E5E5"> stuff to the left</font><font color="#CCCCCC"> is usually</font>

805
00:29:39,840 --> 00:29:43,919
pretty<font color="#CCCCCC"> good we don't</font><font color="#E5E5E5"> mess that up as</font>

806
00:29:42,240 --> 00:29:46,260
quite as much like you<font color="#E5E5E5"> know load</font>

807
00:29:43,920 --> 00:29:47,400
balancers we're pretty familiar with<font color="#E5E5E5"> we</font>

808
00:29:46,260 --> 00:29:49,200
know how to secure them and<font color="#E5E5E5"> everything</font>

809
00:29:47,400 --> 00:29:50,820
<font color="#E5E5E5">but</font><font color="#CCCCCC"> then if you have</font><font color="#E5E5E5"> access anything on</font>

810
00:29:49,200 --> 00:29:52,500
the<font color="#CCCCCC"> right-hand</font><font color="#E5E5E5"> side that's where we've</font>

811
00:29:50,820 --> 00:29:54,419
messed up that's where we've cut corners

812
00:29:52,500 --> 00:29:55,950
and<font color="#E5E5E5"> everything we</font><font color="#CCCCCC"> have not if you have</font>

813
00:29:54,420 --> 00:29:58,170
access to<font color="#CCCCCC"> our to do box we haven't</font>

814
00:29:55,950 --> 00:30:01,320
<font color="#E5E5E5">really considered what that means as a</font>

815
00:29:58,170 --> 00:30:03,030
defender so how do you figure<font color="#E5E5E5"> out what</font>

816
00:30:01,320 --> 00:30:04,250
the API is this is this is<font color="#E5E5E5"> pretty</font>

817
00:30:03,030 --> 00:30:07,680
<font color="#CCCCCC">straightforward</font>

818
00:30:04,250 --> 00:30:09,780
every<font color="#CCCCCC"> nose burp suite you know you're</font>

819
00:30:07,680 --> 00:30:11,610
going<font color="#CCCCCC"> to have offset example coms a</font>

820
00:30:09,780 --> 00:30:13,470
<font color="#E5E5E5">login</font><font color="#CCCCCC"> you might have something as</font>

821
00:30:11,610 --> 00:30:17,070
verbose as the to do the<font color="#CCCCCC"> service</font>

822
00:30:13,470 --> 00:30:18,750
production example<font color="#E5E5E5"> comm and this is very</font>

823
00:30:17,070 --> 00:30:20,820
instructive<font color="#CCCCCC"> because now you</font><font color="#E5E5E5"> know that</font>

824
00:30:18,750 --> 00:30:23,850
they embed<font color="#E5E5E5"> the environment in their URLs</font>

825
00:30:20,820 --> 00:30:25,530
<font color="#CCCCCC">so it might</font><font color="#E5E5E5"> have</font><font color="#CCCCCC"> dev or</font><font color="#E5E5E5"> staging or QA in</font>

826
00:30:23,850 --> 00:30:27,149
their URLs you can<font color="#E5E5E5"> just flip that out</font>

827
00:30:25,530 --> 00:30:31,020
and<font color="#E5E5E5"> try to enumerate their different</font>

828
00:30:27,150 --> 00:30:33,210
environments<font color="#CCCCCC"> one thing that I like burp</font>

829
00:30:31,020 --> 00:30:34,560
<font color="#CCCCCC">suite</font><font color="#E5E5E5"> does this automatically</font><font color="#CCCCCC"> but a lot</font>

830
00:30:33,210 --> 00:30:36,090
of<font color="#E5E5E5"> programmers actually might not know</font>

831
00:30:34,560 --> 00:30:37,470
about it<font color="#CCCCCC"> is you</font><font color="#E5E5E5"> can</font><font color="#CCCCCC"> use the web</font>

832
00:30:36,090 --> 00:30:40,230
application description language or the

833
00:30:37,470 --> 00:30:41,670
wisdom<font color="#CCCCCC"> this is what it looks</font><font color="#E5E5E5"> like and</font>

834
00:30:40,230 --> 00:30:43,890
<font color="#E5E5E5">like I said burp or something like that</font>

835
00:30:41,670 --> 00:30:45,240
<font color="#E5E5E5">we'll try to find this automatically but</font>

836
00:30:43,890 --> 00:30:46,770
sometimes when I point this out to

837
00:30:45,240 --> 00:30:48,750
developers they don't know<font color="#E5E5E5"> that they're</font>

838
00:30:46,770 --> 00:30:50,910
actually advertising<font color="#E5E5E5"> every single thing</font>

839
00:30:48,750 --> 00:30:53,340
<font color="#CCCCCC">that your application can do at every</font>

840
00:30:50,910 --> 00:30:56,610
path so in this example this is<font color="#E5E5E5"> some</font><font color="#CCCCCC"> XML</font>

841
00:30:53,340 --> 00:31:00,240
<font color="#E5E5E5">to describe to get getting</font><font color="#CCCCCC"> a to-do item</font>

842
00:30:56,610 --> 00:31:01,830
at<font color="#E5E5E5"> slash we have to do and in</font>

843
00:31:00,240 --> 00:31:05,910
practice is<font color="#E5E5E5"> the ID there could be some</font>

844
00:31:01,830 --> 00:31:07,949
kind<font color="#CCCCCC"> of ID its string you can see pram</font>

845
00:31:05,910 --> 00:31:09,870
ID<font color="#E5E5E5"> string and then our methods going to</font>

846
00:31:07,950 --> 00:31:11,490
get we're going<font color="#E5E5E5"> to return application</font>

847
00:31:09,870 --> 00:31:13,770
JSON this just<font color="#E5E5E5"> tells you</font><font color="#CCCCCC"> how</font><font color="#E5E5E5"> to interact</font>

848
00:31:11,490 --> 00:31:15,900
with it<font color="#CCCCCC"> but as an attacker this is super</font>

849
00:31:13,770 --> 00:31:18,120
useful<font color="#E5E5E5"> information because you know</font>

850
00:31:15,900 --> 00:31:21,840
exactly<font color="#CCCCCC"> what you</font><font color="#E5E5E5"> need to put in to do</font>

851
00:31:18,120 --> 00:31:23,520
this and if you try to<font color="#E5E5E5"> like fuzz or</font>

852
00:31:21,840 --> 00:31:25,320
something<font color="#CCCCCC"> outside of this it's going to</font>

853
00:31:23,520 --> 00:31:27,420
be not as fruitful if you're doing<font color="#E5E5E5"> it</font>

854
00:31:25,320 --> 00:31:28,649
within the bounds of this because like

855
00:31:27,420 --> 00:31:31,290
<font color="#E5E5E5">Jersey and that kind of stuff is pretty</font>

856
00:31:28,650 --> 00:31:34,110
<font color="#E5E5E5">well tested and the application code is</font>

857
00:31:31,290 --> 00:31:35,129
use your<font color="#CCCCCC"> little less well tested and</font>

858
00:31:34,110 --> 00:31:37,439
<font color="#E5E5E5">usually this is just</font><font color="#CCCCCC"> that slash</font>

859
00:31:35,130 --> 00:31:40,980
application dot<font color="#E5E5E5"> wdl</font>

860
00:31:37,440 --> 00:31:42,870
for<font color="#CCCCCC"> java</font><font color="#E5E5E5"> but there's also</font><font color="#CCCCCC"> WSDL and</font>

861
00:31:40,980 --> 00:31:44,700
there's tons of these different ones<font color="#E5E5E5"> and</font>

862
00:31:42,870 --> 00:31:47,790
<font color="#E5E5E5">those programs programmers don't know</font>

863
00:31:44,700 --> 00:31:48,900
they're<font color="#E5E5E5"> there</font><font color="#CCCCCC"> let's talk about</font><font color="#E5E5E5"> some</font>

864
00:31:47,790 --> 00:31:53,428
weaknesses like how is this

865
00:31:48,900 --> 00:31:54,900
authenticated<font color="#CCCCCC"> one thing is interactions</font>

866
00:31:53,429 --> 00:31:56,640
between<font color="#CCCCCC"> micro-services tend to get</font>

867
00:31:54,900 --> 00:31:59,340
<font color="#CCCCCC">pretty complicated and</font><font color="#E5E5E5"> this is a pretty</font>

868
00:31:56,640 --> 00:32:01,559
good argument<font color="#CCCCCC"> against microservices at</font>

869
00:31:59,340 --> 00:32:02,939
some level<font color="#E5E5E5"> because if you have</font><font color="#CCCCCC"> ten</font>

870
00:32:01,559 --> 00:32:04,910
different<font color="#CCCCCC"> things they're all talking to</font>

871
00:32:02,940 --> 00:32:07,110
<font color="#CCCCCC">each</font><font color="#E5E5E5"> other</font><font color="#CCCCCC"> it can get</font><font color="#E5E5E5"> pretty</font><font color="#CCCCCC"> complicated</font>

872
00:32:04,910 --> 00:32:09,000
<font color="#E5E5E5">both from security perspective and from</font>

873
00:32:07,110 --> 00:32:10,260
<font color="#E5E5E5">just</font><font color="#CCCCCC"> a normal programming perspective</font>

874
00:32:09,000 --> 00:32:11,940
because<font color="#E5E5E5"> now you have</font><font color="#CCCCCC"> to say</font><font color="#E5E5E5"> like okay</font>

875
00:32:10,260 --> 00:32:13,530
<font color="#E5E5E5">what happens with service</font><font color="#CCCCCC"> eh talks to B</font>

876
00:32:11,940 --> 00:32:15,320
and<font color="#E5E5E5"> then</font><font color="#CCCCCC"> B</font><font color="#E5E5E5"> is down so it's trying to do</font>

877
00:32:13,530 --> 00:32:17,639
this<font color="#CCCCCC"> Matt it's pretty complicated</font>

878
00:32:15,320 --> 00:32:19,559
<font color="#CCCCCC">something that I see a</font><font color="#E5E5E5"> lot of people get</font>

879
00:32:17,640 --> 00:32:22,500
wrong<font color="#CCCCCC"> it's service the service off so</font>

880
00:32:19,559 --> 00:32:23,700
<font color="#E5E5E5">that means like how does the task</font>

881
00:32:22,500 --> 00:32:27,090
service need to talk to the email

882
00:32:23,700 --> 00:32:29,130
service<font color="#E5E5E5"> to link tasks email</font><font color="#CCCCCC"> the most</font>

883
00:32:27,090 --> 00:32:30,540
common unfortunately<font color="#CCCCCC"> just</font><font color="#E5E5E5"> network level</font>

884
00:32:29,130 --> 00:32:32,280
<font color="#E5E5E5">off if you can talk to the service</font>

885
00:32:30,540 --> 00:32:34,470
<font color="#E5E5E5">you're allowed in this is super super</font>

886
00:32:32,280 --> 00:32:37,050
common<font color="#E5E5E5"> and if you get</font><font color="#CCCCCC"> access to any of</font>

887
00:32:34,470 --> 00:32:39,090
<font color="#E5E5E5">their network you can talk to it as</font>

888
00:32:37,050 --> 00:32:40,649
<font color="#E5E5E5">basically anything you want</font><font color="#CCCCCC"> usually you</font>

889
00:32:39,090 --> 00:32:43,409
know any create read update delete

890
00:32:40,650 --> 00:32:46,260
operations you can do the next<font color="#CCCCCC"> most</font>

891
00:32:43,410 --> 00:32:48,300
<font color="#CCCCCC">common is shared key custom off</font><font color="#E5E5E5"> so you</font>

892
00:32:46,260 --> 00:32:49,379
might<font color="#E5E5E5"> have everything over HTTP</font><font color="#CCCCCC"> and</font>

893
00:32:48,300 --> 00:32:51,928
<font color="#E5E5E5">you're going</font><font color="#CCCCCC"> to add</font><font color="#E5E5E5"> just</font><font color="#CCCCCC"> some header</font>

894
00:32:49,380 --> 00:32:54,540
like X<font color="#E5E5E5"> company off equal to some</font><font color="#CCCCCC"> string</font>

895
00:32:51,929 --> 00:32:55,710
<font color="#E5E5E5">and you're like oh that over HTTP I'm</font>

896
00:32:54,540 --> 00:32:58,020
safe

897
00:32:55,710 --> 00:32:59,730
<font color="#CCCCCC">no</font><font color="#E5E5E5"> no network attacker can get in but</font>

898
00:32:58,020 --> 00:33:01,050
because it's shared key if you<font color="#E5E5E5"> had</font>

899
00:32:59,730 --> 00:33:03,270
<font color="#CCCCCC">access to one of</font><font color="#E5E5E5"> them you</font><font color="#CCCCCC"> like</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> solve</font>

900
00:33:01,050 --> 00:33:06,809
them and it's only really slightly

901
00:33:03,270 --> 00:33:08,250
marginally better<font color="#CCCCCC"> next when</font><font color="#E5E5E5"> I see is</font>

902
00:33:06,809 --> 00:33:09,990
<font color="#E5E5E5">passed through credentials</font><font color="#CCCCCC"> actually like</font>

903
00:33:08,250 --> 00:33:11,550
this<font color="#E5E5E5"> one it's pretty simple for people</font>

904
00:33:09,990 --> 00:33:13,470
<font color="#CCCCCC">to do</font><font color="#E5E5E5"> and you don't need to do some kind</font>

905
00:33:11,550 --> 00:33:14,190
<font color="#CCCCCC">of complicated</font><font color="#E5E5E5"> thing it's basically you</font>

906
00:33:13,470 --> 00:33:17,580
just<font color="#E5E5E5"> act on the</font>

907
00:33:14,190 --> 00:33:19,500
half of user<font color="#E5E5E5"> so you are like task</font>

908
00:33:17,580 --> 00:33:20,220
service and you have the cookie and

909
00:33:19,500 --> 00:33:22,019
<font color="#E5E5E5">you're gonna be like I'm going to</font>

910
00:33:20,220 --> 00:33:23,970
pretend to be<font color="#E5E5E5"> the user and</font><font color="#CCCCCC"> I'm going to</font>

911
00:33:22,019 --> 00:33:26,490
<font color="#E5E5E5">talk to this back-end</font>

912
00:33:23,970 --> 00:33:30,600
<font color="#CCCCCC">thing you have to you do have to worry</font>

913
00:33:26,490 --> 00:33:31,559
about<font color="#CCCCCC"> server-side like redirections and</font>

914
00:33:30,600 --> 00:33:33,809
that kind of stuff<font color="#CCCCCC"> you</font><font color="#E5E5E5"> have</font><font color="#CCCCCC"> to make sure</font>

915
00:33:31,559 --> 00:33:38,059
<font color="#E5E5E5">the user can't specify who is talking to</font>

916
00:33:33,809 --> 00:33:43,428
<font color="#E5E5E5">but I like that</font><font color="#CCCCCC"> do the question huh</font>

917
00:33:38,059 --> 00:33:48,720
<font color="#E5E5E5">course yes cross-origin cross-origin</font>

918
00:33:43,429 --> 00:33:50,009
requests this isn't a big<font color="#E5E5E5"> deal when</font>

919
00:33:48,720 --> 00:33:53,250
you're talking service to service

920
00:33:50,009 --> 00:33:56,129
<font color="#E5E5E5">because that browser but yeah people do</font>

921
00:33:53,250 --> 00:33:57,929
mess<font color="#E5E5E5"> up course quite a bit</font><font color="#CCCCCC"> I see that a</font>

922
00:33:56,129 --> 00:33:59,730
loss where they<font color="#E5E5E5"> just allow everything</font><font color="#CCCCCC"> in</font>

923
00:33:57,929 --> 00:34:02,639
and they basically broken<font color="#E5E5E5"> their browsers</font>

924
00:33:59,730 --> 00:34:05,220
<font color="#E5E5E5">built-in security</font><font color="#CCCCCC"> it's up at the cloud</font>

925
00:34:02,639 --> 00:34:06,779
real quick<font color="#CCCCCC"> cloud what's the cloud</font>

926
00:34:05,220 --> 00:34:10,230
everybody knows the cloud is a nice<font color="#CCCCCC"> talk</font>

927
00:34:06,779 --> 00:34:12,329
<font color="#E5E5E5">about with cloud is access keys</font><font color="#CCCCCC"> so one</font>

928
00:34:10,230 --> 00:34:14,010
of<font color="#E5E5E5"> the best parts about AWS and</font><font color="#CCCCCC"> Azure is</font>

929
00:34:12,329 --> 00:34:16,500
it as<font color="#E5E5E5"> extremely fine</font><font color="#CCCCCC"> grained permission</font>

930
00:34:14,010 --> 00:34:17,760
but<font color="#E5E5E5"> ops and dev</font><font color="#CCCCCC"> teams</font><font color="#E5E5E5"> sometimes just</font>

931
00:34:16,500 --> 00:34:19,530
give themselves wide<font color="#CCCCCC"> Commission's I'm</font>

932
00:34:17,760 --> 00:34:20,760
the CTO my company I deserve to have

933
00:34:19,530 --> 00:34:23,369
<font color="#E5E5E5">access</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> everything I'll just give</font>

934
00:34:20,760 --> 00:34:24,810
myself<font color="#E5E5E5"> whatever and it's just sitting on</font>

935
00:34:23,369 --> 00:34:28,069
my<font color="#CCCCCC"> machine and</font><font color="#E5E5E5"> it gives access to</font>

936
00:34:24,810 --> 00:34:31,168
<font color="#E5E5E5">everything I have it's pretty common</font>

937
00:34:28,069 --> 00:34:34,859
<font color="#CCCCCC">parade</font><font color="#E5E5E5"> of us they usually live in</font><font color="#CCCCCC"> done</font>

938
00:34:31,168 --> 00:34:35,940
AWS credentials using<font color="#E5E5E5"> AWS CLI but really</font>

939
00:34:34,859 --> 00:34:37,469
<font color="#CCCCCC">sometimes they're committed to source</font>

940
00:34:35,940 --> 00:34:39,149
control<font color="#CCCCCC"> and then</font><font color="#E5E5E5"> reverted because people</font>

941
00:34:37,469 --> 00:34:40,828
<font color="#CCCCCC">forget that</font><font color="#E5E5E5"> get vert</font><font color="#CCCCCC"> is not the same</font>

942
00:34:39,149 --> 00:34:43,049
thing as removing<font color="#CCCCCC"> commits it just was an</font>

943
00:34:40,829 --> 00:34:44,790
inverse<font color="#E5E5E5"> commit</font><font color="#CCCCCC"> so</font><font color="#E5E5E5"> I'd like</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> use the</font>

944
00:34:43,050 --> 00:34:45,869
<font color="#E5E5E5">command like this just search for AWS</font>

945
00:34:44,790 --> 00:34:48,779
keys

946
00:34:45,869 --> 00:34:50,550
this one actually<font color="#CCCCCC"> there's</font><font color="#E5E5E5"> this is not</font>

947
00:34:48,780 --> 00:34:52,440
the official regex<font color="#E5E5E5"> to use for eight</font><font color="#CCCCCC"> of</font>

948
00:34:50,550 --> 00:34:54,480
us keys it's the one I use though they

949
00:34:52,440 --> 00:34:57,690
<font color="#CCCCCC">actually have you just</font><font color="#E5E5E5"> do any uppercase</font>

950
00:34:54,480 --> 00:34:59,160
letter a<font color="#CCCCCC"> number but</font><font color="#E5E5E5"> 20 of them I've</font>

951
00:34:57,690 --> 00:35:00,540
never seen one<font color="#CCCCCC"> that hasn't started with</font>

952
00:34:59,160 --> 00:35:02,879
a and I get<font color="#CCCCCC"> a lot of</font><font color="#E5E5E5"> false positives</font>

953
00:35:00,540 --> 00:35:06,779
<font color="#CCCCCC">when</font><font color="#E5E5E5"> just do that because you know</font><font color="#CCCCCC"> just</font>

954
00:35:02,880 --> 00:35:08,490
20 uppercase letters numbers it's a lot

955
00:35:06,780 --> 00:35:11,390
<font color="#E5E5E5">of things like you</font><font color="#CCCCCC"> know and empty five</font>

956
00:35:08,490 --> 00:35:11,390
<font color="#CCCCCC">hashes that kind of</font><font color="#E5E5E5"> stuff</font>

957
00:35:11,490 --> 00:35:19,319
one of the best parts about the cloud is

958
00:35:14,400 --> 00:35:21,089
logs<font color="#CCCCCC"> so here is AWS cloud trail so we</font>

959
00:35:19,319 --> 00:35:23,099
have a bunch of<font color="#E5E5E5"> logs here like Andrew at</font>

960
00:35:21,089 --> 00:35:25,350
the bottom<font color="#E5E5E5"> stops an instance of an</font><font color="#CCCCCC"> eric</font>

961
00:35:23,099 --> 00:35:27,180
logged<font color="#CCCCCC"> into</font><font color="#E5E5E5"> the console and</font><font color="#CCCCCC"> then</font>

962
00:35:25,350 --> 00:35:29,610
<font color="#E5E5E5">you started an infant's very very</font><font color="#CCCCCC"> useful</font>

963
00:35:27,180 --> 00:35:31,230
to have<font color="#E5E5E5"> these logs and you</font><font color="#CCCCCC"> gotta</font><font color="#E5E5E5"> put</font>

964
00:35:29,610 --> 00:35:35,610
these in<font color="#CCCCCC"> some kind of</font><font color="#E5E5E5"> sim some</font>

965
00:35:31,230 --> 00:35:38,610
monitoring<font color="#CCCCCC"> grade logs</font><font color="#E5E5E5"> and like that but</font>

966
00:35:35,610 --> 00:35:40,410
you<font color="#E5E5E5"> can disrupt logging obviously the</font>

967
00:35:38,610 --> 00:35:42,570
most<font color="#E5E5E5"> brute-force way to do this is just</font>

968
00:35:40,410 --> 00:35:44,580
to<font color="#E5E5E5"> delete the whole entire thing</font><font color="#CCCCCC"> this</font><font color="#E5E5E5"> is</font>

969
00:35:42,570 --> 00:35:48,300
like<font color="#CCCCCC"> the most loud angry thing you could</font>

970
00:35:44,580 --> 00:35:51,360
do<font color="#CCCCCC"> just delete all of the cloud trail</font>

971
00:35:48,300 --> 00:35:52,800
configuration to stop<font color="#CCCCCC"> the next thing you</font>

972
00:35:51,360 --> 00:35:54,210
do<font color="#E5E5E5"> is just</font><font color="#CCCCCC"> tell it to stop</font><font color="#E5E5E5"> it'll keep</font>

973
00:35:52,800 --> 00:35:57,960
all configuration but it won't continue

974
00:35:54,210 --> 00:36:02,520
logging anymore<font color="#CCCCCC"> this one is really</font>

975
00:35:57,960 --> 00:36:04,590
clever<font color="#CCCCCC"> if you update the cloud trail</font>

976
00:36:02,520 --> 00:36:07,410
basically to say you<font color="#CCCCCC"> instead of</font><font color="#E5E5E5"> acting</font>

977
00:36:04,590 --> 00:36:09,510
globally you act in<font color="#E5E5E5"> this one region</font><font color="#CCCCCC"> this</font>

978
00:36:07,410 --> 00:36:11,670
<font color="#E5E5E5">actually restricts tons of API calls</font>

979
00:36:09,510 --> 00:36:13,800
<font color="#CCCCCC">from</font><font color="#E5E5E5"> being logs because the</font><font color="#CCCCCC"> api's are</font>

980
00:36:11,670 --> 00:36:15,540
<font color="#E5E5E5">global for instance like s3 is global</font>

981
00:36:13,800 --> 00:36:18,240
everything interacting with it is global

982
00:36:15,540 --> 00:36:19,950
<font color="#E5E5E5">so</font><font color="#CCCCCC"> there's no region so this stops</font><font color="#E5E5E5"> any</font>

983
00:36:18,240 --> 00:36:23,609
logging associated with that<font color="#E5E5E5"> but you get</font>

984
00:36:19,950 --> 00:36:26,189
some logs so if you have a lot you're a

985
00:36:23,610 --> 00:36:28,530
learning system that's like if I<font color="#CCCCCC"> don't</font>

986
00:36:26,190 --> 00:36:30,710
have any<font color="#CCCCCC"> log</font><font color="#E5E5E5"> send me an email that</font><font color="#CCCCCC"> you</font>

987
00:36:28,530 --> 00:36:33,000
<font color="#CCCCCC">will still get some</font><font color="#E5E5E5"> logs</font><font color="#CCCCCC"> pretty clever</font>

988
00:36:30,710 --> 00:36:34,950
<font color="#CCCCCC">you can also just do</font><font color="#E5E5E5"> things like</font>

989
00:36:33,000 --> 00:36:38,040
<font color="#CCCCCC">removing the bucket which</font><font color="#E5E5E5"> is going to</font>

990
00:36:34,950 --> 00:36:40,859
silently start failing<font color="#E5E5E5"> logging because</font>

991
00:36:38,040 --> 00:36:42,779
s3 cloud<font color="#E5E5E5"> rousing start storing all the</font>

992
00:36:40,860 --> 00:36:46,500
logs in the bucket there's no bucket

993
00:36:42,780 --> 00:36:48,090
there<font color="#CCCCCC"> you can't</font><font color="#E5E5E5"> store the logs this one</font>

994
00:36:46,500 --> 00:36:50,220
made me laugh and<font color="#E5E5E5"> s3 lifecycle the rules</font>

995
00:36:48,090 --> 00:36:52,110
of the<font color="#E5E5E5"> legal logs after one second which</font>

996
00:36:50,220 --> 00:36:54,959
you're probably<font color="#CCCCCC"> not fast enough to</font><font color="#E5E5E5"> get</font>

997
00:36:52,110 --> 00:36:56,100
to get the logs and this was<font color="#E5E5E5"> pretty</font>

998
00:36:54,960 --> 00:36:57,840
clever

999
00:36:56,100 --> 00:36:59,610
encrypt the logs<font color="#E5E5E5"> the key the company</font>

1000
00:36:57,840 --> 00:37:00,900
doesn't<font color="#E5E5E5"> have the logs are in f3</font><font color="#CCCCCC"> they're</font>

1001
00:36:59,610 --> 00:37:03,120
there but<font color="#E5E5E5"> you can't read them because</font>

1002
00:37:00,900 --> 00:37:04,770
the you didn't<font color="#E5E5E5"> configure it encrypted</font>

1003
00:37:03,120 --> 00:37:06,540
<font color="#E5E5E5">and they just change your kms key and</font>

1004
00:37:04,770 --> 00:37:08,580
now it's<font color="#E5E5E5"> something else I got all these</font>

1005
00:37:06,540 --> 00:37:11,310
ideas<font color="#E5E5E5"> for this blog post by</font><font color="#CCCCCC"> Daniel</font>

1006
00:37:08,580 --> 00:37:13,500
grizzle AK<font color="#E5E5E5"> really clever</font><font color="#CCCCCC"> and there's</font>

1007
00:37:11,310 --> 00:37:14,850
tons<font color="#E5E5E5"> more here so</font><font color="#CCCCCC"> the lesson here is if</font>

1008
00:37:13,500 --> 00:37:17,400
you're<font color="#E5E5E5"> a defender you have to look for</font>

1009
00:37:14,850 --> 00:37:19,830
every single<font color="#E5E5E5"> one of these different ways</font>

1010
00:37:17,400 --> 00:37:21,330
your<font color="#E5E5E5"> log and</font><font color="#CCCCCC"> can be</font><font color="#E5E5E5"> disrupted</font><font color="#CCCCCC"> but</font><font color="#E5E5E5"> not</font>

1011
00:37:19,830 --> 00:37:23,250
<font color="#CCCCCC">only</font><font color="#E5E5E5"> just are you not getting any logs</font>

1012
00:37:21,330 --> 00:37:25,470
but like partial degradation and that

1013
00:37:23,250 --> 00:37:28,440
kind of stuff

1014
00:37:25,470 --> 00:37:29,939
AWS remote access tool<font color="#CCCCCC"> it's like how do</font>

1015
00:37:28,440 --> 00:37:31,800
you persist<font color="#CCCCCC"> your compromised</font><font color="#E5E5E5"> native us</font>

1016
00:37:29,940 --> 00:37:33,870
if you've gotten access<font color="#CCCCCC"> keys or</font>

1017
00:37:31,800 --> 00:37:37,020
something<font color="#E5E5E5"> how do you keep it</font>

1018
00:37:33,870 --> 00:37:39,130
if AWS is operating system like<font color="#E5E5E5"> dang of</font>

1019
00:37:37,020 --> 00:37:41,440
<font color="#CCCCCC">geumsan</font><font color="#E5E5E5"> so he was saying</font>

1020
00:37:39,130 --> 00:37:43,270
if you<font color="#E5E5E5"> just use a user with</font><font color="#CCCCCC"> credentials</font>

1021
00:37:41,440 --> 00:37:45,010
<font color="#E5E5E5">those users or credentials are often</font>

1022
00:37:43,270 --> 00:37:47,200
audited<font color="#E5E5E5"> if you have any company of any</font>

1023
00:37:45,010 --> 00:37:48,850
scale one of the main things is<font color="#E5E5E5"> that</font>

1024
00:37:47,200 --> 00:37:50,169
they all say okay well let's<font color="#CCCCCC"> print</font><font color="#E5E5E5"> out a</font>

1025
00:37:48,850 --> 00:37:52,779
list<font color="#CCCCCC"> of</font><font color="#E5E5E5"> all</font><font color="#CCCCCC"> the users and they're</font><font color="#E5E5E5"> going</font>

1026
00:37:50,170 --> 00:37:54,610
to be like<font color="#E5E5E5"> who's this person that that</font>

1027
00:37:52,780 --> 00:37:56,790
that happens in basically every company

1028
00:37:54,610 --> 00:37:59,170
even even pretty minor companies do that

1029
00:37:56,790 --> 00:38:00,970
<font color="#CCCCCC">if you start an</font><font color="#E5E5E5"> easy-to instance and</font>

1030
00:37:59,170 --> 00:38:05,650
just you<font color="#CCCCCC"> know use that</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> cost some</font>

1031
00:38:00,970 --> 00:38:07,149
money<font color="#CCCCCC"> so what you do</font><font color="#E5E5E5"> so I think lambdas</font>

1032
00:38:05,650 --> 00:38:09,040
are<font color="#CCCCCC"> the best tool here if you</font><font color="#E5E5E5"> don't know</font>

1033
00:38:07,150 --> 00:38:10,630
what a<font color="#CCCCCC"> lambda is basically it's</font><font color="#E5E5E5"> server</font>

1034
00:38:09,040 --> 00:38:12,250
<font color="#CCCCCC">lives computing which some people</font><font color="#E5E5E5"> kind</font>

1035
00:38:10,630 --> 00:38:13,630
of get missed by because it's like well

1036
00:38:12,250 --> 00:38:16,360
<font color="#E5E5E5">there is a server there it's just you're</font>

1037
00:38:13,630 --> 00:38:17,830
not<font color="#E5E5E5"> running it</font><font color="#CCCCCC"> so you upload code you</font>

1038
00:38:16,360 --> 00:38:19,420
<font color="#CCCCCC">don't run Linux any more</font><font color="#E5E5E5"> users upload</font>

1039
00:38:17,830 --> 00:38:22,330
code here's my code run the code when

1040
00:38:19,420 --> 00:38:25,600
API is hit<font color="#CCCCCC"> it's kind</font><font color="#E5E5E5"> of at the moment</font>

1041
00:38:22,330 --> 00:38:27,130
<font color="#CCCCCC">it's underutilized some kind of people</font>

1042
00:38:25,600 --> 00:38:29,049
are trying to<font color="#E5E5E5"> build entire business</font>

1043
00:38:27,130 --> 00:38:31,360
<font color="#E5E5E5">around it but it's not super common yet</font>

1044
00:38:29,050 --> 00:38:34,360
<font color="#CCCCCC">the most important things</font><font color="#E5E5E5"> it's</font><font color="#CCCCCC"> freakier</font>

1045
00:38:31,360 --> 00:38:36,430
eligible so it does not if you<font color="#CCCCCC"> use a</font>

1046
00:38:34,360 --> 00:38:38,380
very<font color="#CCCCCC"> small</font><font color="#E5E5E5"> amount of it it does not cost</font>

1047
00:38:36,430 --> 00:38:40,089
the company money it<font color="#E5E5E5"> will not show</font><font color="#CCCCCC"> up</font><font color="#E5E5E5"> on</font>

1048
00:38:38,380 --> 00:38:41,860
their billing<font color="#CCCCCC"> report</font><font color="#E5E5E5"> so when the CFO</font><font color="#CCCCCC"> is</font>

1049
00:38:40,090 --> 00:38:43,630
looking at it he<font color="#E5E5E5"> doesn't see what is</font>

1050
00:38:41,860 --> 00:38:46,450
this lambda thing and then since the

1051
00:38:43,630 --> 00:38:49,120
developer also<font color="#E5E5E5"> look at it</font><font color="#CCCCCC"> you can assign</font>

1052
00:38:46,450 --> 00:38:50,439
a role to the lambda<font color="#E5E5E5"> and roles are nice</font>

1053
00:38:49,120 --> 00:38:52,690
<font color="#E5E5E5">because they don't</font><font color="#CCCCCC"> have access</font><font color="#E5E5E5"> keys you</font>

1054
00:38:50,440 --> 00:38:54,580
just say<font color="#E5E5E5"> this</font><font color="#CCCCCC"> lambda can do this it can</font>

1055
00:38:52,690 --> 00:38:57,820
upload things<font color="#E5E5E5"> to be a three bucket or</font>

1056
00:38:54,580 --> 00:38:59,920
something<font color="#CCCCCC"> like that and roles are less</font>

1057
00:38:57,820 --> 00:39:02,860
often audited than users right because

1058
00:38:59,920 --> 00:39:04,420
roles are a means to<font color="#E5E5E5"> an end and not</font>

1059
00:39:02,860 --> 00:39:08,050
<font color="#E5E5E5">you're never gonna look login with</font><font color="#CCCCCC"> a</font>

1060
00:39:04,420 --> 00:39:09,250
role to that<font color="#E5E5E5"> machine</font><font color="#CCCCCC"> and the</font><font color="#E5E5E5"> last thing</font>

1061
00:39:08,050 --> 00:39:11,440
we're going to do is we're in deploy in

1062
00:39:09,250 --> 00:39:13,990
a region that<font color="#E5E5E5"> they don't use AWS has</font>

1063
00:39:11,440 --> 00:39:15,640
like 20 regions<font color="#E5E5E5"> if you ever use AWS the</font>

1064
00:39:13,990 --> 00:39:17,950
way to look through different<font color="#E5E5E5"> regions is</font>

1065
00:39:15,640 --> 00:39:19,270
to go into the<font color="#CCCCCC"> upright click the region</font>

1066
00:39:17,950 --> 00:39:21,549
thing and<font color="#E5E5E5"> then manually switch your</font>

1067
00:39:19,270 --> 00:39:23,110
region<font color="#CCCCCC"> to</font><font color="#E5E5E5"> looking for for instance</font><font color="#CCCCCC"> if</font>

1068
00:39:21,550 --> 00:39:27,190
you want to<font color="#E5E5E5"> look for this remote access</font>

1069
00:39:23,110 --> 00:39:29,080
tool in your account via the<font color="#E5E5E5"> VD UI</font><font color="#CCCCCC"> you</font>

1070
00:39:27,190 --> 00:39:31,420
would have to first<font color="#E5E5E5"> go in your region</font>

1071
00:39:29,080 --> 00:39:33,100
<font color="#E5E5E5">click and then go to the next one</font><font color="#CCCCCC"> you</font>

1072
00:39:31,420 --> 00:39:35,500
click<font color="#CCCCCC"> and</font><font color="#E5E5E5"> for the next one click and</font>

1073
00:39:33,100 --> 00:39:39,100
you'd have<font color="#E5E5E5"> to</font><font color="#CCCCCC"> do that</font><font color="#E5E5E5"> 20 times</font><font color="#CCCCCC"> via API</font>

1074
00:39:35,500 --> 00:39:40,390
you do that pretty<font color="#E5E5E5"> pretty quickly but if</font>

1075
00:39:39,100 --> 00:39:43,870
you don't know to<font color="#E5E5E5"> do that you wouldn't</font>

1076
00:39:40,390 --> 00:39:46,120
be doing code<font color="#E5E5E5"> demo code coming soon</font>

1077
00:39:43,870 --> 00:39:48,970
I'll nearly done with<font color="#E5E5E5"> it you can issue</font>

1078
00:39:46,120 --> 00:39:51,200
commands remotely which is cool<font color="#CCCCCC"> it</font>

1079
00:39:48,970 --> 00:39:53,450
<font color="#E5E5E5">messes blog via the</font>

1080
00:39:51,200 --> 00:39:56,359
<font color="#CCCCCC">helped the update</font><font color="#E5E5E5"> cloud trail one where</font>

1081
00:39:53,450 --> 00:39:59,930
it disables global logging just during

1082
00:39:56,359 --> 00:40:02,180
its own operation and<font color="#E5E5E5"> because it</font>

1083
00:39:59,930 --> 00:40:04,490
disables multi-region stuff and it's

1084
00:40:02,180 --> 00:40:06,560
deployed in<font color="#E5E5E5"> the region that you are not</font>

1085
00:40:04,490 --> 00:40:08,509
in<font color="#E5E5E5"> it tends not to have any logs</font>

1086
00:40:06,560 --> 00:40:10,339
associated with it<font color="#E5E5E5"> and so the</font><font color="#CCCCCC"> price for</font>

1087
00:40:08,510 --> 00:40:13,250
using<font color="#E5E5E5"> it is basically don't cost the</font>

1088
00:40:10,339 --> 00:40:15,020
company money<font color="#E5E5E5"> the thing that companies</font>

1089
00:40:13,250 --> 00:40:18,050
pay attention to the<font color="#E5E5E5"> most is their</font>

1090
00:40:15,020 --> 00:40:20,060
<font color="#E5E5E5">spending and usually CFOs</font><font color="#CCCCCC"> asking</font><font color="#E5E5E5"> a lot</font>

1091
00:40:18,050 --> 00:40:22,820
of<font color="#CCCCCC"> questions exactly</font><font color="#E5E5E5"> why</font><font color="#CCCCCC"> did our s3</font>

1092
00:40:20,060 --> 00:40:24,259
usage go up that<font color="#E5E5E5"> kind</font><font color="#CCCCCC"> of stuff and</font><font color="#E5E5E5"> you</font>

1093
00:40:22,820 --> 00:40:27,040
<font color="#CCCCCC">get</font><font color="#E5E5E5"> research which events are generated</font>

1094
00:40:24,260 --> 00:40:30,050
this<font color="#E5E5E5"> is still kind of a new</font><font color="#CCCCCC"> field</font>

1095
00:40:27,040 --> 00:40:32,079
<font color="#CCCCCC">advanced for blue</font><font color="#E5E5E5"> team you got a</font>

1096
00:40:30,050 --> 00:40:34,609
<font color="#CCCCCC">restricted</font><font color="#E5E5E5"> direct developer access which</font>

1097
00:40:32,079 --> 00:40:36,560
engineers tend to bristle at a little

1098
00:40:34,609 --> 00:40:37,609
bit but you<font color="#CCCCCC"> can sell it to them by</font>

1099
00:40:36,560 --> 00:40:39,859
telling<font color="#CCCCCC"> them actually we're</font><font color="#E5E5E5"> going to</font>

1100
00:40:37,609 --> 00:40:42,740
<font color="#E5E5E5">automate everything instead of you</font>

1101
00:40:39,859 --> 00:40:44,420
logging in<font color="#E5E5E5"> and typing on servers</font><font color="#CCCCCC"> is</font><font color="#E5E5E5"> a</font>

1102
00:40:42,740 --> 00:40:46,490
bad<font color="#E5E5E5"> idea we're going</font><font color="#CCCCCC"> to automate</font>

1103
00:40:44,420 --> 00:40:49,040
<font color="#CCCCCC">everything and tell person to get behind</font>

1104
00:40:46,490 --> 00:40:50,509
<font color="#E5E5E5">that and even if you're taking access</font>

1105
00:40:49,040 --> 00:40:53,690
away from them they tend<font color="#E5E5E5"> to like it</font>

1106
00:40:50,510 --> 00:40:54,980
<font color="#CCCCCC">because they like automation continuous</font>

1107
00:40:53,690 --> 00:40:57,349
<font color="#E5E5E5">integration despite the kind</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> cool</font>

1108
00:40:54,980 --> 00:40:58,550
<font color="#CCCCCC">thing we did earlier</font><font color="#E5E5E5"> is actually a great</font>

1109
00:40:57,349 --> 00:41:00,740
boon<font color="#CCCCCC"> to security because you're</font>

1110
00:40:58,550 --> 00:41:03,859
constantly testing your software and you

1111
00:41:00,740 --> 00:41:07,339
<font color="#CCCCCC">can include</font><font color="#E5E5E5"> in your steps like an s2</font>

1112
00:41:03,859 --> 00:41:09,230
scan or code<font color="#CCCCCC"> hinting that kind of stuff</font>

1113
00:41:07,339 --> 00:41:11,000
peer review<font color="#E5E5E5"> is really really great peer</font>

1114
00:41:09,230 --> 00:41:14,180
reviewing<font color="#E5E5E5"> 100% your codes and I highly</font>

1115
00:41:11,000 --> 00:41:16,040
<font color="#CCCCCC">recommend choosing your NewTek carefully</font>

1116
00:41:14,180 --> 00:41:19,009
a lot of people get tripped<font color="#E5E5E5"> up by new</font>

1117
00:41:16,040 --> 00:41:21,380
tools these new<font color="#E5E5E5"> DevOps tools there's</font>

1118
00:41:19,010 --> 00:41:26,390
actually some<font color="#CCCCCC"> people we're talking</font><font color="#E5E5E5"> on</font>

1119
00:41:21,380 --> 00:41:28,550
flak about this kind of nice key secret

1120
00:41:26,390 --> 00:41:31,400
sharing program called vault<font color="#E5E5E5"> but the way</font>

1121
00:41:28,550 --> 00:41:33,170
vault works is when<font color="#CCCCCC"> you add your secrets</font>

1122
00:41:31,400 --> 00:41:34,790
to it you have<font color="#CCCCCC"> to specify them on the</font>

1123
00:41:33,170 --> 00:41:36,680
command<font color="#E5E5E5"> line you have</font><font color="#CCCCCC"> to say and just</font>

1124
00:41:34,790 --> 00:41:39,380
evolved<font color="#E5E5E5"> and my secret password on the</font>

1125
00:41:36,680 --> 00:41:40,609
command line<font color="#CCCCCC"> and well it's writing</font><font color="#E5E5E5"> on</font>

1126
00:41:39,380 --> 00:41:42,260
the command<font color="#E5E5E5"> line it goes in your</font><font color="#CCCCCC"> bash</font>

1127
00:41:40,609 --> 00:41:43,640
history and you have<font color="#CCCCCC"> access to your</font>

1128
00:41:42,260 --> 00:41:44,630
machine<font color="#CCCCCC"> now you have access to all of</font>

1129
00:41:43,640 --> 00:41:46,460
<font color="#CCCCCC">that even though you don't have</font><font color="#E5E5E5"> the</font>

1130
00:41:44,630 --> 00:41:48,560
secret vault<font color="#CCCCCC"> password so after your bash</font>

1131
00:41:46,460 --> 00:41:49,970
history<font color="#E5E5E5"> contains a complete plaintext</font><font color="#CCCCCC"> of</font>

1132
00:41:48,560 --> 00:41:52,099
<font color="#E5E5E5">everything in the vault and they</font>

1133
00:41:49,970 --> 00:41:53,450
specifically say we're not going to fix

1134
00:41:52,099 --> 00:41:56,780
that that is outside the<font color="#CCCCCC"> scope of our</font>

1135
00:41:53,450 --> 00:41:59,750
project<font color="#E5E5E5"> six six</font><font color="#CCCCCC"> bash which is</font><font color="#E5E5E5"> crazy</font>

1136
00:41:56,780 --> 00:42:00,890
but you know as a security<font color="#CCCCCC"> person the</font>

1137
00:41:59,750 --> 00:42:03,470
company you have to<font color="#CCCCCC"> be</font><font color="#E5E5E5"> like</font><font color="#CCCCCC"> okay well</font>

1138
00:42:00,890 --> 00:42:07,220
<font color="#E5E5E5">how are my developers using vault or</font>

1139
00:42:03,470 --> 00:42:08,330
all of these tools<font color="#CCCCCC"> it's daunting then</font>

1140
00:42:07,220 --> 00:42:10,040
obviously<font color="#E5E5E5"> of the extra self what</font>

1141
00:42:08,330 --> 00:42:11,900
<font color="#CCCCCC">happened this is compromised</font>

1142
00:42:10,040 --> 00:42:13,220
so like<font color="#CCCCCC"> linchpin</font><font color="#E5E5E5"> servers what happens is</font>

1143
00:42:11,900 --> 00:42:15,050
my continuous integration servers

1144
00:42:13,220 --> 00:42:17,689
<font color="#E5E5E5">compromised how do how do we do that how</font>

1145
00:42:15,050 --> 00:42:19,730
we protect against that<font color="#CCCCCC"> your chef server</font>

1146
00:42:17,690 --> 00:42:20,900
<font color="#E5E5E5">the</font><font color="#CCCCCC"> artifact server your</font><font color="#E5E5E5"> bastion</font><font color="#CCCCCC"> hose</font>

1147
00:42:19,730 --> 00:42:22,460
and these are these<font color="#CCCCCC"> are very very</font>

1148
00:42:20,900 --> 00:42:24,650
challenging somebody gets access to<font color="#E5E5E5"> your</font>

1149
00:42:22,460 --> 00:42:29,570
<font color="#E5E5E5">chef server I don't have a lot of super</font>

1150
00:42:24,650 --> 00:42:33,310
great advice<font color="#CCCCCC"> but that</font><font color="#E5E5E5"> planning that out</font>

1151
00:42:29,570 --> 00:42:35,750
<font color="#CCCCCC">is</font><font color="#E5E5E5"> that is better than nothing</font>

1152
00:42:33,310 --> 00:42:38,840
<font color="#E5E5E5">so yeah how do you</font><font color="#CCCCCC"> how do you detect</font>

1153
00:42:35,750 --> 00:42:40,340
<font color="#E5E5E5">that that's a key</font><font color="#CCCCCC"> thing there cloud</font>

1154
00:42:38,840 --> 00:42:42,260
specific don't<font color="#E5E5E5"> use</font><font color="#CCCCCC"> root</font><font color="#E5E5E5"> account use</font>

1155
00:42:40,340 --> 00:42:43,880
roles not access<font color="#E5E5E5"> keys access key you</font>

1156
00:42:42,260 --> 00:42:45,970
basically don't<font color="#E5E5E5"> have to use</font><font color="#CCCCCC"> anymore</font>

1157
00:42:43,880 --> 00:42:49,010
unless you're using<font color="#CCCCCC"> band line tools</font>

1158
00:42:45,970 --> 00:42:50,629
<font color="#CCCCCC">recommend</font><font color="#E5E5E5"> moving away from that</font><font color="#CCCCCC"> roles</font>

1159
00:42:49,010 --> 00:42:53,720
are great so if you are<font color="#E5E5E5"> deploying</font>

1160
00:42:50,630 --> 00:42:55,010
anything<font color="#E5E5E5"> into AWS or Google</font><font color="#CCCCCC"> two are the</font>

1161
00:42:53,720 --> 00:42:57,709
same<font color="#E5E5E5"> thing as your has a very similar</font>

1162
00:42:55,010 --> 00:43:00,340
thing<font color="#CCCCCC"> you can</font><font color="#E5E5E5"> just give that ec2</font>

1163
00:42:57,710 --> 00:43:03,220
instance a role which<font color="#CCCCCC"> lets it</font><font color="#E5E5E5"> do things</font>

1164
00:43:00,340 --> 00:43:05,869
<font color="#CCCCCC">because</font><font color="#E5E5E5"> then access</font><font color="#CCCCCC"> keep can't be stolen</font>

1165
00:43:03,220 --> 00:43:08,180
<font color="#E5E5E5">obviously used to if they always watch</font>

1166
00:43:05,869 --> 00:43:12,770
it alert on your<font color="#E5E5E5"> logs</font><font color="#CCCCCC"> all of the</font>

1167
00:43:08,180 --> 00:43:14,089
including all the disrupting ones and

1168
00:43:12,770 --> 00:43:16,339
<font color="#CCCCCC">segments your network</font><font color="#E5E5E5"> using groups this</font>

1169
00:43:14,089 --> 00:43:19,369
<font color="#CCCCCC">is something that ops</font><font color="#E5E5E5"> people tend to be</font>

1170
00:43:16,339 --> 00:43:21,710
like to want<font color="#E5E5E5"> to do they want</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> make a</font>

1171
00:43:19,369 --> 00:43:23,570
<font color="#E5E5E5">software-defined network that is cool</font>

1172
00:43:21,710 --> 00:43:26,930
the database only allowed to talk<font color="#CCCCCC"> to</font>

1173
00:43:23,570 --> 00:43:30,349
this<font color="#CCCCCC"> no</font><font color="#E5E5E5"> something like that and you know</font>

1174
00:43:26,930 --> 00:43:32,200
<font color="#CCCCCC">you're I am regularly make sure</font><font color="#E5E5E5"> that</font>

1175
00:43:30,349 --> 00:43:35,089
there's no back to work user and<font color="#CCCCCC"> they're</font>

1176
00:43:32,200 --> 00:43:38,390
what to alert on<font color="#CCCCCC"> obviously new access</font>

1177
00:43:35,089 --> 00:43:39,859
keys just<font color="#E5E5E5"> like any system new provision</font>

1178
00:43:38,390 --> 00:43:42,710
users<font color="#E5E5E5"> roles and groups which is pretty</font>

1179
00:43:39,859 --> 00:43:45,109
uncommon<font color="#E5E5E5"> new instances we we alerted on</font>

1180
00:43:42,710 --> 00:43:47,060
this but it's<font color="#E5E5E5"> super noisy</font><font color="#CCCCCC"> I don't know</font>

1181
00:43:45,109 --> 00:43:49,819
exactly<font color="#E5E5E5"> what to do to</font><font color="#CCCCCC"> make this less</font>

1182
00:43:47,060 --> 00:43:51,950
<font color="#CCCCCC">noisy we start up at</font><font color="#E5E5E5"> least</font><font color="#CCCCCC"> ten a day and</font>

1183
00:43:49,820 --> 00:43:53,240
we<font color="#CCCCCC"> shut it</font><font color="#E5E5E5"> went down</font><font color="#CCCCCC"> I don't</font><font color="#E5E5E5"> really have</font>

1184
00:43:51,950 --> 00:43:55,220
any great ideas for this<font color="#E5E5E5"> because</font>

1185
00:43:53,240 --> 00:43:56,839
<font color="#E5E5E5">attackers would do this but we do this</font>

1186
00:43:55,220 --> 00:43:58,339
<font color="#CCCCCC">too so anybody is any really good ideas</font>

1187
00:43:56,839 --> 00:44:00,200
<font color="#CCCCCC">for</font><font color="#E5E5E5"> that I've been thinking about trying</font>

1188
00:43:58,339 --> 00:44:03,650
<font color="#CCCCCC">to like model like what types we use</font>

1189
00:44:00,200 --> 00:44:05,569
what availability zones but obviously

1190
00:44:03,650 --> 00:44:07,640
stuff like suspicious<font color="#E5E5E5"> console log in and</font>

1191
00:44:05,570 --> 00:44:10,520
disruption of logging all<font color="#CCCCCC"> the different</font>

1192
00:44:07,640 --> 00:44:12,319
ones we talked about<font color="#CCCCCC"> there's</font><font color="#E5E5E5"> tons</font>

1193
00:44:10,520 --> 00:44:14,210
there's tons more<font color="#E5E5E5"> here and it's really</font>

1194
00:44:12,320 --> 00:44:15,559
not a<font color="#E5E5E5"> great list of best practices yet</font>

1195
00:44:14,210 --> 00:44:18,410
for what to alert on like

1196
00:44:15,559 --> 00:44:20,180
from<font color="#CCCCCC"> Google computer as your AWS and I'd</font>

1197
00:44:18,410 --> 00:44:22,609
love<font color="#E5E5E5"> to</font><font color="#CCCCCC"> say bring any</font><font color="#E5E5E5"> resources about</font>

1198
00:44:20,180 --> 00:44:37,969
<font color="#E5E5E5">that that's it</font>

1199
00:44:22,609 --> 00:44:39,410
any questions yes it's it's it's very

1200
00:44:37,969 --> 00:44:41,930
<font color="#E5E5E5">similar</font>

1201
00:44:39,410 --> 00:44:43,759
<font color="#E5E5E5">well basically</font><font color="#CCCCCC"> Google compute and as</font>

1202
00:44:41,930 --> 00:44:45,499
<font color="#E5E5E5">you're an AWS for the stuff I was</font>

1203
00:44:43,759 --> 00:44:48,920
<font color="#CCCCCC">talking about are basically comparable</font>

1204
00:44:45,499 --> 00:44:50,718
<font color="#CCCCCC">they they</font><font color="#E5E5E5"> all have the idea of roles and</font>

1205
00:44:48,920 --> 00:44:52,849
<font color="#E5E5E5">access keys and obviously wanna protect</font>

1206
00:44:50,719 --> 00:44:54,739
your expertise not use them use roles

1207
00:44:52,849 --> 00:44:56,839
<font color="#CCCCCC">all the support</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> si and that kind of</font>

1208
00:44:54,739 --> 00:44:58,519
stuff<font color="#E5E5E5"> all of them have a similar</font><font color="#CCCCCC"> type</font>

1209
00:44:56,839 --> 00:45:00,288
logging thing<font color="#CCCCCC"> although I'm most familiar</font>

1210
00:44:58,519 --> 00:45:10,999
<font color="#E5E5E5">with AWS</font><font color="#CCCCCC"> which is why it talks about</font>

1211
00:45:00,289 --> 00:45:21,979
<font color="#E5E5E5">here</font><font color="#CCCCCC"> yep yeah till to lock down</font><font color="#E5E5E5"> any of</font>

1212
00:45:10,999 --> 00:45:23,689
us yeah so the question<font color="#CCCCCC"> was</font><font color="#E5E5E5"> are</font><font color="#CCCCCC"> there</font>

1213
00:45:21,979 --> 00:45:25,819
any<font color="#E5E5E5"> open source tools or anything to</font>

1214
00:45:23,689 --> 00:45:27,670
lock down and secure a tip<font color="#E5E5E5"> us there's a</font>

1215
00:45:25,819 --> 00:45:32,019
few for-profit companies to do that

1216
00:45:27,670 --> 00:45:35,359
<font color="#CCCCCC">which</font><font color="#E5E5E5"> you know</font><font color="#CCCCCC"> because a</font><font color="#E5E5E5"> lot of money</font>

1217
00:45:32,019 --> 00:45:37,428
<font color="#CCCCCC">there</font><font color="#E5E5E5"> are a few able us has something</font>

1218
00:45:35,359 --> 00:45:39,319
<font color="#CCCCCC">called trusted advisor built-in</font><font color="#E5E5E5"> it's not</font>

1219
00:45:37,429 --> 00:45:41,929
great and they<font color="#E5E5E5"> actually charge you a bit</font>

1220
00:45:39,319 --> 00:45:43,749
of<font color="#E5E5E5"> money for</font><font color="#CCCCCC"> it and it basically says oh</font>

1221
00:45:41,929 --> 00:45:48,019
you don't have to<font color="#CCCCCC"> eff a setup which is</font>

1222
00:45:43,749 --> 00:45:50,058
mildly useful<font color="#CCCCCC"> there are a</font><font color="#E5E5E5"> few I'm</font>

1223
00:45:48,019 --> 00:45:54,410
blanking on the name<font color="#CCCCCC"> of one</font><font color="#E5E5E5"> of them but</font>

1224
00:45:50,059 --> 00:45:56,059
the problem<font color="#E5E5E5"> is that and why there's</font>

1225
00:45:54,410 --> 00:45:58,098
for-profit companies that do this<font color="#CCCCCC"> rather</font>

1226
00:45:56,059 --> 00:46:00,109
<font color="#CCCCCC">than open source is it's a ton of</font><font color="#E5E5E5"> work</font>

1227
00:45:58,099 --> 00:46:02,619
<font color="#E5E5E5">to</font><font color="#CCCCCC"> figure out all of</font><font color="#E5E5E5"> the different</font>

1228
00:46:00,109 --> 00:46:06,469
possible use cases for AWS and to

1229
00:46:02,619 --> 00:46:08,749
recommend secure<font color="#CCCCCC"> configuration and that</font>

1230
00:46:06,469 --> 00:46:10,400
<font color="#CCCCCC">there was one project but</font><font color="#E5E5E5"> I'm blanking</font>

1231
00:46:08,749 --> 00:46:12,198
on the name<font color="#CCCCCC"> of</font><font color="#E5E5E5"> that exact project right</font>

1232
00:46:10,400 --> 00:46:14,539
now<font color="#E5E5E5"> but it is kind</font><font color="#CCCCCC"> of it's very</font><font color="#E5E5E5"> nascent</font>

1233
00:46:12,199 --> 00:46:16,279
it's it's very<font color="#E5E5E5"> early</font><font color="#CCCCCC"> in this whole thing</font>

1234
00:46:14,539 --> 00:46:20,170
so I don't<font color="#CCCCCC"> know if anybody happens to</font>

1235
00:46:16,279 --> 00:46:20,170
know great

1236
00:46:36,869 --> 00:46:44,609
yes<font color="#CCCCCC"> so it's good yeah</font>

1237
00:46:40,779 --> 00:46:46,689
cloud<font color="#E5E5E5"> checker what was that one dome</font><font color="#CCCCCC"> 9</font>

1238
00:46:44,609 --> 00:46:49,180
there's a few for-profit companies like

1239
00:46:46,689 --> 00:47:06,999
<font color="#E5E5E5">evident</font><font color="#CCCCCC"> io and there's a ton of them</font><font color="#E5E5E5"> out</font>

1240
00:46:49,180 --> 00:47:09,328
there<font color="#E5E5E5"> to do this yep cool any other</font>

1241
00:47:06,999 --> 00:47:09,328
questions

1242
00:47:09,779 --> 00:47:18,760
<font color="#CCCCCC">alright thanks</font><font color="#E5E5E5"> everybody</font>

1243
00:47:12,790 --> 00:47:18,759
[Applause]

