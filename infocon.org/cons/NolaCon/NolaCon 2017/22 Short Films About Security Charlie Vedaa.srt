1
00:00:00,829 --> 00:00:12,870
<font color="#CCCCCC">we're going awesome</font><font color="#E5E5E5"> thank you</font>

2
00:00:05,700 --> 00:00:14,879
<font color="#CCCCCC">bye now you know my name is Charlie this</font>

3
00:00:12,870 --> 00:00:16,980
is my<font color="#E5E5E5"> first time in</font><font color="#CCCCCC"> NOLA con I'm having</font>

4
00:00:14,880 --> 00:00:18,270
a great<font color="#E5E5E5"> time</font><font color="#CCCCCC"> so far a special shout-out</font>

5
00:00:16,980 --> 00:00:19,710
to<font color="#CCCCCC"> all of y'all that think</font><font color="#E5E5E5"> you're at the</font>

6
00:00:18,270 --> 00:00:23,460
ransomware talk<font color="#CCCCCC"> they're too polite to</font>

7
00:00:19,710 --> 00:00:25,170
<font color="#E5E5E5">leave</font><font color="#CCCCCC"> I don't actually have any films</font>

8
00:00:23,460 --> 00:00:27,480
<font color="#E5E5E5">for you today this title is stolen from</font>

9
00:00:25,170 --> 00:00:28,859
<font color="#CCCCCC">a classic episode of The Simpsons that</font>

10
00:00:27,480 --> 00:00:31,140
featured a<font color="#E5E5E5"> bunch of loosely related</font>

11
00:00:28,859 --> 00:00:34,680
short stories and<font color="#E5E5E5"> that's what I have for</font>

12
00:00:31,140 --> 00:00:38,540
<font color="#CCCCCC">you</font><font color="#E5E5E5"> tonight is sort of a meta talk about</font>

13
00:00:34,680 --> 00:00:40,950
my experiences as a speaker and all<font color="#E5E5E5"> the</font>

14
00:00:38,540 --> 00:00:43,440
all the<font color="#E5E5E5"> rejected ideas I haven't had a</font>

15
00:00:40,950 --> 00:00:45,420
<font color="#CCCCCC">chance to</font><font color="#E5E5E5"> present before so some of</font>

16
00:00:43,440 --> 00:00:47,579
<font color="#E5E5E5">these ideas have</font><font color="#CCCCCC"> been rejected by CFP</font>

17
00:00:45,420 --> 00:00:49,590
review boards<font color="#E5E5E5"> others were rejected by me</font>

18
00:00:47,579 --> 00:00:50,910
but projection is something that happens

19
00:00:49,590 --> 00:00:53,250
to everyone<font color="#E5E5E5"> and it's nothing to</font><font color="#CCCCCC"> stress</font>

20
00:00:50,910 --> 00:00:55,769
<font color="#CCCCCC">about if you need convincing</font>

21
00:00:53,250 --> 00:00:57,739
<font color="#CCCCCC">check out this excellent blog post by</font>

22
00:00:55,770 --> 00:00:59,760
Jake Williams

23
00:00:57,739 --> 00:01:01,828
<font color="#CCCCCC">alright I've</font><font color="#E5E5E5"> been going to hacker</font>

24
00:00:59,760 --> 00:01:03,180
conferences for<font color="#E5E5E5"> more than</font><font color="#CCCCCC"> 10 years and</font>

25
00:01:01,829 --> 00:01:05,220
<font color="#E5E5E5">my favorite part of the conference</font>

26
00:01:03,180 --> 00:01:06,630
experience<font color="#CCCCCC"> is hearing other people's</font>

27
00:01:05,220 --> 00:01:09,119
summaries of what<font color="#CCCCCC"> they seen</font>

28
00:01:06,630 --> 00:01:11,789
I'm not picky<font color="#E5E5E5"> I like to hear everybody's</font>

29
00:01:09,119 --> 00:01:13,310
conference<font color="#E5E5E5"> Cliff's Notes</font><font color="#CCCCCC"> but it's</font>

30
00:01:11,790 --> 00:01:15,299
especially awesome<font color="#E5E5E5"> when a friend</font>

31
00:01:13,310 --> 00:01:17,729
condenses the<font color="#E5E5E5"> day's worth the</font>

32
00:01:15,299 --> 00:01:19,500
presentations and bar conversations into

33
00:01:17,729 --> 00:01:20,909
the few minutes<font color="#CCCCCC"> of</font><font color="#E5E5E5"> stuff that I really</font>

34
00:01:19,500 --> 00:01:22,560
wanted<font color="#E5E5E5"> to hear I feel like that's the</font>

35
00:01:20,909 --> 00:01:25,380
closest I'm going to get to<font color="#E5E5E5"> that matrix</font>

36
00:01:22,560 --> 00:01:27,090
<font color="#E5E5E5">I know kung-fu sensation so I'm super</font>

37
00:01:25,380 --> 00:01:32,100
excited tonight<font color="#CCCCCC"> to be delivering a bunch</font>

38
00:01:27,090 --> 00:01:34,290
<font color="#E5E5E5">of talks in TL DR for</font><font color="#CCCCCC"> my wife is a web</font>

39
00:01:32,100 --> 00:01:36,570
designer and<font color="#E5E5E5"> a couple years</font><font color="#CCCCCC"> ago a few</font>

40
00:01:34,290 --> 00:01:38,280
<font color="#E5E5E5">years ago</font><font color="#CCCCCC"> she</font><font color="#E5E5E5"> was I was helping her move</font>

41
00:01:36,570 --> 00:01:40,139
stuff<font color="#E5E5E5"> to a new server</font><font color="#CCCCCC"> she</font><font color="#E5E5E5"> had been</font>

42
00:01:38,280 --> 00:01:42,450
pretty diligent<font color="#CCCCCC"> about patching her old</font>

43
00:01:40,140 --> 00:01:44,280
lamp server<font color="#E5E5E5"> it was running several web</font>

44
00:01:42,450 --> 00:01:46,560
applications<font color="#E5E5E5"> that were installed outside</font>

45
00:01:44,280 --> 00:01:50,040
<font color="#CCCCCC">of the OS package manager</font><font color="#E5E5E5"> and weren't</font>

46
00:01:46,560 --> 00:01:51,600
getting updated<font color="#CCCCCC"> luckily for her none of</font>

47
00:01:50,040 --> 00:01:53,310
these vulnerable<font color="#E5E5E5"> vhosts we're still in</font>

48
00:01:51,600 --> 00:01:56,429
<font color="#E5E5E5">DNS these were all domains she had</font>

49
00:01:53,310 --> 00:01:58,350
previously<font color="#E5E5E5"> moved or let expire the web</font>

50
00:01:56,430 --> 00:02:00,960
applications were still exploitable they

51
00:01:58,350 --> 00:02:02,729
just weren't easy to enumerate so I

52
00:02:00,960 --> 00:02:06,479
<font color="#E5E5E5">started to take a look at what it would</font>

53
00:02:02,729 --> 00:02:07,399
how to<font color="#E5E5E5"> identify these orphan</font><font color="#CCCCCC"> v hosts at</font>

54
00:02:06,479 --> 00:02:10,169
a large scale

55
00:02:07,399 --> 00:02:13,330
<font color="#E5E5E5">this tool from</font><font color="#CCCCCC"> Sai Barris</font><font color="#E5E5E5"> does</font><font color="#CCCCCC"> der</font>

56
00:02:10,169 --> 00:02:15,100
<font color="#E5E5E5">buster style brute forcing a V hosts the</font>

57
00:02:13,330 --> 00:02:17,200
tool from portcullis takes a<font color="#CCCCCC"> different</font>

58
00:02:15,100 --> 00:02:19,239
<font color="#E5E5E5">approach looking at the server cert for</font>

59
00:02:17,200 --> 00:02:20,700
<font color="#CCCCCC">subjects alternative names</font><font color="#E5E5E5"> and searching</font>

60
00:02:19,240 --> 00:02:23,770
the<font color="#E5E5E5"> server IP against several websites</font>

61
00:02:20,700 --> 00:02:24,940
including<font color="#E5E5E5"> Bing</font><font color="#CCCCCC"> but</font><font color="#E5E5E5"> neither these tools</font>

62
00:02:23,770 --> 00:02:28,000
are particularly<font color="#CCCCCC"> well-suited</font><font color="#E5E5E5"> for</font>

63
00:02:24,940 --> 00:02:30,780
<font color="#E5E5E5">large-scale scanning</font><font color="#CCCCCC"> I think a robust</font>

64
00:02:28,000 --> 00:02:34,150
<font color="#CCCCCC">solution we based on historical DNS data</font>

65
00:02:30,780 --> 00:02:36,100
but understandably the the free options

66
00:02:34,150 --> 00:02:41,350
for<font color="#E5E5E5"> this are limited I think the best a</font>

67
00:02:36,100 --> 00:02:42,790
<font color="#E5E5E5">lot is probably DNS trails</font><font color="#CCCCCC"> comm</font><font color="#E5E5E5"> but even</font>

68
00:02:41,350 --> 00:02:45,100
they suggest that<font color="#E5E5E5"> you contact them</font>

69
00:02:42,790 --> 00:02:46,570
before doing bulk lookups<font color="#CCCCCC"> I thought</font>

70
00:02:45,100 --> 00:02:48,250
about this problem<font color="#E5E5E5"> for</font><font color="#CCCCCC"> a while</font><font color="#E5E5E5"> but then</font>

71
00:02:46,570 --> 00:02:51,220
<font color="#CCCCCC">ultimately just sort of</font><font color="#E5E5E5"> lost interest</font>

72
00:02:48,250 --> 00:02:54,580
<font color="#E5E5E5">before</font><font color="#CCCCCC"> building a tool</font><font color="#E5E5E5"> so it's sort of</font>

73
00:02:51,220 --> 00:02:55,030
anti-climatic but that's the<font color="#E5E5E5"> two minute</font>

74
00:02:54,580 --> 00:02:56,830
summary

75
00:02:55,030 --> 00:02:57,730
so<font color="#E5E5E5"> these check out these links if</font><font color="#CCCCCC"> you're</font>

76
00:02:56,830 --> 00:03:01,060
<font color="#CCCCCC">interested</font><font color="#E5E5E5"> in these sort of</font>

77
00:02:57,730 --> 00:03:02,739
<font color="#CCCCCC">configuration issues</font><font color="#E5E5E5"> this slide these</font>

78
00:03:01,060 --> 00:03:05,230
slides are on my website<font color="#CCCCCC"> you'll see</font><font color="#E5E5E5"> the</font>

79
00:03:02,740 --> 00:03:10,600
link at<font color="#E5E5E5"> the end of the presentation on</font>

80
00:03:05,230 --> 00:03:12,850
to the<font color="#E5E5E5"> next</font><font color="#CCCCCC"> talk in 2014</font><font color="#E5E5E5"> I gave a</font><font color="#CCCCCC"> talk</font>

81
00:03:10,600 --> 00:03:17,019
<font color="#E5E5E5">with my friend Mike</font><font color="#CCCCCC"> Larsen</font><font color="#E5E5E5"> about tor</font>

82
00:03:12,850 --> 00:03:19,060
<font color="#CCCCCC">traffic analysis the TLDR here was that</font>

83
00:03:17,020 --> 00:03:22,239
the<font color="#CCCCCC"> Tor protocol is similar enough to</font>

84
00:03:19,060 --> 00:03:25,360
<font color="#E5E5E5">HTTPS</font><font color="#CCCCCC"> that some simple</font><font color="#E5E5E5"> JavaScript can</font>

85
00:03:22,239 --> 00:03:28,300
generate<font color="#E5E5E5"> traffic</font><font color="#CCCCCC"> that'll fool the rules</font>

86
00:03:25,360 --> 00:03:32,709
of<font color="#E5E5E5"> IDs and IPS sensors they're trying to</font>

87
00:03:28,300 --> 00:03:34,900
<font color="#E5E5E5">identify tor</font><font color="#CCCCCC"> traffic so later</font><font color="#E5E5E5"> that</font>

88
00:03:32,709 --> 00:03:36,580
summer after this talk<font color="#E5E5E5"> I was still</font>

89
00:03:34,900 --> 00:03:40,180
running<font color="#E5E5E5"> a bunch of tor nodes when I saw</font>

90
00:03:36,580 --> 00:03:41,470
this tweet so cool this<font color="#CCCCCC"> is the</font><font color="#E5E5E5"> same</font>

91
00:03:40,180 --> 00:03:43,900
<font color="#E5E5E5">problem that we were just talking about</font>

92
00:03:41,470 --> 00:03:45,820
where the the web servers<font color="#CCCCCC"> the host</font>

93
00:03:43,900 --> 00:03:48,820
configuration<font color="#E5E5E5"> is acting</font><font color="#CCCCCC"> as sort of an</font>

94
00:03:45,820 --> 00:03:51,010
accidental security layer but if<font color="#E5E5E5"> people</font>

95
00:03:48,820 --> 00:03:52,870
really are exposing<font color="#E5E5E5"> hidden services to</font>

96
00:03:51,010 --> 00:03:54,579
the<font color="#E5E5E5"> Internet this way there's even</font>

97
00:03:52,870 --> 00:03:57,280
simpler tests we can try we could just

98
00:03:54,580 --> 00:03:59,080
enumerate SSH in services<font color="#E5E5E5"> collect the</font>

99
00:03:57,280 --> 00:04:01,690
public key fingerprints<font color="#E5E5E5"> and then scan</font>

100
00:03:59,080 --> 00:04:03,400
the<font color="#CCCCCC"> internet for them so I</font><font color="#E5E5E5"> thought it</font>

101
00:04:01,690 --> 00:04:06,190
<font color="#E5E5E5">would be a cool project something</font><font color="#CCCCCC"> that I</font>

102
00:04:03,400 --> 00:04:08,440
could do and then John Mather<font color="#CCCCCC"> Lee blows</font>

103
00:04:06,190 --> 00:04:12,100
up my spot<font color="#E5E5E5"> and puts all</font><font color="#CCCCCC"> of that DNS</font>

104
00:04:08,440 --> 00:04:14,049
fingerprint information<font color="#CCCCCC"> in showed in so</font>

105
00:04:12,100 --> 00:04:16,298
he did<font color="#E5E5E5"> all the hard work all I could do</font>

106
00:04:14,049 --> 00:04:19,600
was<font color="#CCCCCC"> tweet the idea and move on to</font>

107
00:04:16,298 --> 00:04:21,880
something<font color="#E5E5E5"> else</font><font color="#CCCCCC"> if you're skeptical the</font>

108
00:04:19,600 --> 00:04:24,669
<font color="#E5E5E5">Dan's approach would have worked in 2015</font>

109
00:04:21,880 --> 00:04:26,889
the<font color="#CCCCCC"> cthulhu found that there really are</font>

110
00:04:24,669 --> 00:04:32,378
web servers set<font color="#E5E5E5"> up this way as a show</font>

111
00:04:26,889 --> 00:04:33,520
shown here via<font color="#E5E5E5"> Apache mod status</font><font color="#CCCCCC"> if</font>

112
00:04:32,379 --> 00:04:35,080
<font color="#E5E5E5">you're interested in</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> sort of</font>

113
00:04:33,520 --> 00:04:39,810
<font color="#E5E5E5">research definitely check out Sarah</font>

114
00:04:35,080 --> 00:04:39,810
<font color="#E5E5E5">Jamie Lewis's awesome onion scan project</font>

115
00:04:40,229 --> 00:04:48,520
my<font color="#E5E5E5"> favorite tour my favorite or story of</font>

116
00:04:44,830 --> 00:04:50,979
2016 was this the<font color="#CCCCCC"> pinion bug and firefox</font>

117
00:04:48,520 --> 00:04:54,370
<font color="#CCCCCC">from the tor browser this was</font><font color="#E5E5E5"> initially</font>

118
00:04:50,979 --> 00:04:56,050
discovered<font color="#E5E5E5"> by the Tor</font><font color="#CCCCCC"> fork guy but it</font>

119
00:04:54,370 --> 00:04:57,039
was<font color="#E5E5E5"> just sort</font><font color="#CCCCCC"> of dismissed as him being</font>

120
00:04:56,050 --> 00:04:59,430
<font color="#CCCCCC">an angry jerk</font>

121
00:04:57,039 --> 00:05:01,930
<font color="#E5E5E5">ryan duff really saved the day here and</font>

122
00:04:59,430 --> 00:05:05,349
found the<font color="#E5E5E5"> route and identified the root</font>

123
00:05:01,930 --> 00:05:07,810
cause and got the bug killed<font color="#E5E5E5"> so I've</font>

124
00:05:05,349 --> 00:05:11,199
been that guy<font color="#E5E5E5"> is anybody else here been</font>

125
00:05:07,810 --> 00:05:12,550
that guy been<font color="#E5E5E5"> the angry jerk</font><font color="#CCCCCC"> please</font>

126
00:05:11,199 --> 00:05:14,379
don't be that<font color="#CCCCCC"> person</font>

127
00:05:12,550 --> 00:05:16,539
<font color="#E5E5E5">for most of us in our careers our</font>

128
00:05:14,379 --> 00:05:18,310
ability to<font color="#E5E5E5"> build rapport and persuade</font>

129
00:05:16,539 --> 00:05:23,500
<font color="#CCCCCC">people be just as important as our</font>

130
00:05:18,310 --> 00:05:27,699
<font color="#E5E5E5">technical skills for we're just keeping</font>

131
00:05:23,500 --> 00:05:29,469
<font color="#CCCCCC">going</font><font color="#E5E5E5"> all right for a long time I've</font>

132
00:05:27,699 --> 00:05:31,270
want to<font color="#E5E5E5"> give a talk on security career</font>

133
00:05:29,469 --> 00:05:34,419
advice<font color="#E5E5E5"> there's just one problem</font>

134
00:05:31,270 --> 00:05:36,789
I'm not<font color="#E5E5E5"> very successful</font><font color="#CCCCCC"> I wouldn't</font>

135
00:05:34,419 --> 00:05:37,750
listen to<font color="#E5E5E5"> me but who I would listen to</font>

136
00:05:36,789 --> 00:05:40,719
<font color="#E5E5E5">is</font><font color="#CCCCCC"> 2</font><font color="#E5E5E5"> Chainz</font>

137
00:05:37,750 --> 00:05:42,639
I love hip-hop and 2 Chainz is super

138
00:05:40,719 --> 00:05:46,360
successful<font color="#CCCCCC"> so let's see what he has to</font>

139
00:05:42,639 --> 00:05:47,789
say<font color="#E5E5E5"> if you have a job and your last</font>

140
00:05:46,360 --> 00:05:49,659
paycheck<font color="#CCCCCC"> tin and bounce your</font>

141
00:05:47,789 --> 00:05:50,949
<font color="#E5E5E5">organization is live to fight another</font>

142
00:05:49,659 --> 00:05:52,688
day

143
00:05:50,949 --> 00:05:55,270
cynicism is part of<font color="#E5E5E5"> the hacker mindset</font>

144
00:05:52,689 --> 00:05:56,740
so pessimism doesn't need to be things

145
00:05:55,270 --> 00:06:01,599
are getting better on lots of security

146
00:05:56,740 --> 00:06:05,469
<font color="#E5E5E5">frauds keeping up to date is a challenge</font>

147
00:06:01,599 --> 00:06:08,620
we all<font color="#E5E5E5"> share</font><font color="#CCCCCC"> for years I</font><font color="#E5E5E5"> follow a ton of</font>

148
00:06:05,469 --> 00:06:11,469
security people<font color="#E5E5E5"> on Twitter and follow</font>

149
00:06:08,620 --> 00:06:13,930
more than a thousand blogs and listened

150
00:06:11,469 --> 00:06:15,460
<font color="#CCCCCC">to six to eight hours a week of security</font>

151
00:06:13,930 --> 00:06:19,899
<font color="#E5E5E5">podcasts when I'm not listening to</font>

152
00:06:15,460 --> 00:06:21,370
hip-hop<font color="#CCCCCC"> nation and the vast majority of</font>

153
00:06:19,899 --> 00:06:23,289
useful stuffs I've learned through<font color="#E5E5E5"> these</font>

154
00:06:21,370 --> 00:06:25,960
<font color="#E5E5E5">channels I've also seen come</font><font color="#CCCCCC"> through our</font>

155
00:06:23,289 --> 00:06:29,620
<font color="#E5E5E5">net</font><font color="#CCCCCC"> sack</font><font color="#E5E5E5"> so props to these folks this is</font>

156
00:06:25,960 --> 00:06:32,169
a great resource as<font color="#CCCCCC"> well</font><font color="#E5E5E5"> as those mods</font>

157
00:06:29,620 --> 00:06:35,620
tweeted even the CIA reads our net sack

158
00:06:32,169 --> 00:06:37,479
this<font color="#CCCCCC"> is from</font><font color="#E5E5E5"> the vault</font><font color="#CCCCCC"> 7li it's a link</font>

159
00:06:35,620 --> 00:06:41,430
to a net<font color="#CCCCCC"> sect discussion about UAC</font>

160
00:06:37,479 --> 00:06:41,430
bypass on<font color="#CCCCCC"> grey hat hacker</font>

161
00:06:43,450 --> 00:06:47,830
in a few<font color="#E5E5E5"> months some</font><font color="#CCCCCC"> of you may be at</font>

162
00:06:45,790 --> 00:06:50,110
the the black hat business<font color="#E5E5E5"> hall hearing</font>

163
00:06:47,830 --> 00:06:52,390
all the<font color="#E5E5E5"> latest product pitches this year</font>

164
00:06:50,110 --> 00:06:53,590
<font color="#CCCCCC">promise to be just like last</font><font color="#E5E5E5"> year except</font>

165
00:06:52,390 --> 00:06:57,909
machine learning<font color="#E5E5E5"> that's been added</font><font color="#CCCCCC"> to</font>

166
00:06:53,590 --> 00:06:58,330
<font color="#CCCCCC">everything</font><font color="#E5E5E5"> okay so this doesn't sound</font>

167
00:06:57,910 --> 00:07:00,850
<font color="#E5E5E5">too bad</font>

168
00:06:58,330 --> 00:07:02,680
everybody<font color="#E5E5E5"> sim does some stats the most</font>

169
00:07:00,850 --> 00:07:06,210
frequently<font color="#E5E5E5"> seen the least frequently</font>

170
00:07:02,680 --> 00:07:08,110
seen or<font color="#E5E5E5"> what else can we do</font>

171
00:07:06,210 --> 00:07:10,270
counting seems like a good<font color="#E5E5E5"> place</font><font color="#CCCCCC"> to</font>

172
00:07:08,110 --> 00:07:11,770
<font color="#E5E5E5">start I'm going</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> show a couple of</font>

173
00:07:10,270 --> 00:07:13,960
samples with<font color="#CCCCCC"> Splunk that you should be</font>

174
00:07:11,770 --> 00:07:15,729
able to<font color="#E5E5E5"> do this with any modern sim this</font>

175
00:07:13,960 --> 00:07:19,810
is a simple indicator<font color="#E5E5E5"> from Chris</font><font color="#CCCCCC"> Gates</font>

176
00:07:15,730 --> 00:07:21,790
<font color="#E5E5E5">excellent purple team talk a random 16</font>

177
00:07:19,810 --> 00:07:26,260
character<font color="#E5E5E5"> workstation name from</font>

178
00:07:21,790 --> 00:07:29,020
<font color="#CCCCCC">Metasploit SMB</font><font color="#E5E5E5"> choir so here's that</font>

179
00:07:26,260 --> 00:07:32,140
search<font color="#E5E5E5"> these next two searches require</font>

180
00:07:29,020 --> 00:07:34,330
this app this<font color="#CCCCCC"> Splunk app</font><font color="#E5E5E5"> we can</font>

181
00:07:32,140 --> 00:07:36,760
<font color="#E5E5E5">calculate entropy</font><font color="#CCCCCC"> - defined</font><font color="#E5E5E5"> random ish</font>

182
00:07:34,330 --> 00:07:40,659
to find random ish data you're<font color="#E5E5E5"> looking</font>

183
00:07:36,760 --> 00:07:42,460
at domain names<font color="#CCCCCC"> or we can</font><font color="#E5E5E5"> calculate</font>

184
00:07:40,660 --> 00:07:44,590
levenshtein distance to find similar

185
00:07:42,460 --> 00:07:48,010
strings here looking for domain similar

186
00:07:44,590 --> 00:07:49,960
to google.com<font color="#E5E5E5"> or</font><font color="#CCCCCC"> we can calculate</font><font color="#E5E5E5"> the</font>

187
00:07:48,010 --> 00:07:53,349
<font color="#CCCCCC">average time between connections</font><font color="#E5E5E5"> to</font>

188
00:07:49,960 --> 00:07:56,380
identify beaconing but statistical

189
00:07:53,350 --> 00:07:59,260
analysis is going<font color="#E5E5E5"> to</font><font color="#CCCCCC"> identify anomalies</font>

190
00:07:56,380 --> 00:08:01,750
and<font color="#E5E5E5"> not incidents</font><font color="#CCCCCC"> I have high hopes for</font>

191
00:07:59,260 --> 00:08:03,490
machine learning solutions but most

192
00:08:01,750 --> 00:08:05,950
organizations aren't going to find value

193
00:08:03,490 --> 00:08:12,760
in investigating every statistical

194
00:08:05,950 --> 00:08:15,250
anomaly<font color="#CCCCCC"> security architectures and</font>

195
00:08:12,760 --> 00:08:18,219
control frameworks<font color="#E5E5E5"> are great resources</font>

196
00:08:15,250 --> 00:08:22,150
<font color="#CCCCCC">to identify where you are</font><font color="#E5E5E5"> and where you</font>

197
00:08:18,220 --> 00:08:23,350
want<font color="#CCCCCC"> to go but unfortunately</font><font color="#E5E5E5"> seems like</font>

198
00:08:22,150 --> 00:08:25,690
all the<font color="#E5E5E5"> options from the NIST</font>

199
00:08:23,350 --> 00:08:27,910
cybersecurity framework<font color="#CCCCCC"> to 20 critical</font>

200
00:08:25,690 --> 00:08:31,060
<font color="#E5E5E5">security controls require big bucks to</font>

201
00:08:27,910 --> 00:08:33,130
implement years ago when you<font color="#CCCCCC"> Nature had</font>

202
00:08:31,060 --> 00:08:34,929
advocated<font color="#E5E5E5"> for building similar resources</font>

203
00:08:33,130 --> 00:08:38,650
<font color="#E5E5E5">for people</font><font color="#CCCCCC"> living below the security</font>

204
00:08:34,929 --> 00:08:40,419
poverty line<font color="#CCCCCC"> and as far as</font><font color="#E5E5E5"> I can tell</font>

205
00:08:38,650 --> 00:08:43,530
the<font color="#E5E5E5"> first the person making the most</font>

206
00:08:40,419 --> 00:08:47,770
progress on this front<font color="#CCCCCC"> is Taylor Swift</font>

207
00:08:43,530 --> 00:08:49,689
<font color="#E5E5E5">Taylor's website features security</font>

208
00:08:47,770 --> 00:08:51,520
information<font color="#CCCCCC"> written for IT</font><font color="#E5E5E5"> professionals</font>

209
00:08:49,690 --> 00:08:54,330
and the security<font color="#CCCCCC"> community definitely</font>

210
00:08:51,520 --> 00:08:57,760
<font color="#E5E5E5">needs more outreach like</font>

211
00:08:54,330 --> 00:08:59,650
so I'm<font color="#E5E5E5"> not suggesting just clarify I'm</font>

212
00:08:57,760 --> 00:09:01,330
<font color="#CCCCCC">not suggesting that</font><font color="#E5E5E5"> you're going to</font>

213
00:08:59,650 --> 00:09:03,790
<font color="#E5E5E5">solve the world security problems with a</font>

214
00:09:01,330 --> 00:09:05,260
blog post<font color="#CCCCCC"> but</font><font color="#E5E5E5"> I am suggesting that more</font>

215
00:09:03,790 --> 00:09:12,250
<font color="#E5E5E5">than</font><font color="#CCCCCC"> just the hacker</font><font color="#E5E5E5"> community can</font>

216
00:09:05,260 --> 00:09:13,540
benefit from<font color="#E5E5E5"> your expertise</font><font color="#CCCCCC"> in 2011 I</font>

217
00:09:12,250 --> 00:09:17,320
gave this choose your own adventure

218
00:09:13,540 --> 00:09:21,819
style<font color="#E5E5E5"> talk at besides Las Vegas and</font>

219
00:09:17,320 --> 00:09:23,530
hacker<font color="#CCCCCC"> con I don't know if you can tell</font>

220
00:09:21,820 --> 00:09:25,750
<font color="#CCCCCC">from this gift</font><font color="#E5E5E5"> but that's Dave Kennedy</font>

221
00:09:23,530 --> 00:09:29,520
<font color="#E5E5E5">he seems like a really nice guy</font><font color="#CCCCCC"> but if</font>

222
00:09:25,750 --> 00:09:33,820
you look closely he's stealing my wallet

223
00:09:29,520 --> 00:09:36,460
<font color="#CCCCCC">the TLDR there was</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> I didn't</font><font color="#E5E5E5"> think</font>

224
00:09:33,820 --> 00:09:38,860
most<font color="#E5E5E5"> companies were ready were mature</font>

225
00:09:36,460 --> 00:09:40,630
<font color="#CCCCCC">enough for</font><font color="#E5E5E5"> penetration testing and now</font>

226
00:09:38,860 --> 00:09:42,760
more<font color="#CCCCCC"> than five years later I still</font><font color="#E5E5E5"> feel</font>

227
00:09:40,630 --> 00:09:45,730
the<font color="#E5E5E5"> same way</font><font color="#CCCCCC"> and props to Adrian for</font>

228
00:09:42,760 --> 00:09:47,560
recording<font color="#CCCCCC"> this</font><font color="#E5E5E5"> he's a real asset</font><font color="#CCCCCC"> to our</font>

229
00:09:45,730 --> 00:09:50,380
community<font color="#CCCCCC"> he's been doing this for years</font>

230
00:09:47,560 --> 00:09:52,359
<font color="#CCCCCC">and it's amazing that these videos</font><font color="#E5E5E5"> are</font>

231
00:09:50,380 --> 00:09:53,860
out there he's probably sitting right

232
00:09:52,360 --> 00:09:55,420
over<font color="#CCCCCC"> there</font><font color="#E5E5E5"> so clap a little bit louder</font>

233
00:09:53,860 --> 00:09:55,950
so he can hear<font color="#E5E5E5"> you</font><font color="#CCCCCC"> on the other side of</font>

234
00:09:55,420 --> 00:10:01,240
<font color="#CCCCCC">the wall</font>

235
00:09:55,950 --> 00:10:03,190
thanks Adrian thank you

236
00:10:01,240 --> 00:10:07,480
<font color="#E5E5E5">so the dirty secret of the penetration</font>

237
00:10:03,190 --> 00:10:09,130
<font color="#E5E5E5">testing business</font><font color="#CCCCCC"> is that a lot</font><font color="#E5E5E5"> of the</font>

238
00:10:07,480 --> 00:10:10,840
lessons<font color="#CCCCCC"> learned from these penetration</font>

239
00:10:09,130 --> 00:10:12,640
tests there<font color="#E5E5E5"> are essentially the same and</font>

240
00:10:10,840 --> 00:10:15,070
you don't<font color="#E5E5E5"> need to pay for a test to</font>

241
00:10:12,640 --> 00:10:17,500
learn them for example there's<font color="#E5E5E5"> this</font>

242
00:10:15,070 --> 00:10:20,710
report from Victorian<font color="#E5E5E5"> labs and this</font>

243
00:10:17,500 --> 00:10:22,450
other<font color="#E5E5E5"> one from rapid7</font><font color="#CCCCCC"> and the primary</font>

244
00:10:20,710 --> 00:10:24,280
lesson<font color="#E5E5E5"> that most organizations haven't</font>

245
00:10:22,450 --> 00:10:26,470
learned is about<font color="#E5E5E5"> protecting credentials</font>

246
00:10:24,280 --> 00:10:27,880
<font color="#E5E5E5">so this guidance from Microsoft is</font>

247
00:10:26,470 --> 00:10:30,010
<font color="#E5E5E5">pretty simple</font>

248
00:10:27,880 --> 00:10:31,900
they suggest you just organize your

249
00:10:30,010 --> 00:10:33,550
system administration<font color="#CCCCCC"> activities and in</font>

250
00:10:31,900 --> 00:10:36,160
a way that your admin creds<font color="#E5E5E5"> are</font>

251
00:10:33,550 --> 00:10:37,930
unnecessarily exposed so this isn't

252
00:10:36,160 --> 00:10:39,670
<font color="#CCCCCC">technically difficult</font><font color="#E5E5E5"> or censored to</font>

253
00:10:37,930 --> 00:10:41,910
implement but does require<font color="#E5E5E5"> changes in</font>

254
00:10:39,670 --> 00:10:44,140
<font color="#CCCCCC">system administration</font><font color="#E5E5E5"> behavior an</font>

255
00:10:41,910 --> 00:10:45,880
<font color="#E5E5E5">organization</font><font color="#CCCCCC"> should at least invest some</font>

256
00:10:44,140 --> 00:10:49,000
resources<font color="#CCCCCC"> and protecting credentials</font>

257
00:10:45,880 --> 00:10:51,040
before<font color="#E5E5E5"> paying for a pen</font><font color="#CCCCCC"> test a word of</font>

258
00:10:49,000 --> 00:10:52,660
warning<font color="#CCCCCC"> if you are a networked person</font>

259
00:10:51,040 --> 00:10:54,060
looking<font color="#E5E5E5"> at this picture</font><font color="#CCCCCC"> you may think</font>

260
00:10:52,660 --> 00:10:56,650
that this<font color="#CCCCCC"> is</font><font color="#E5E5E5"> about network segmentation</font>

261
00:10:54,060 --> 00:10:58,599
<font color="#CCCCCC">it's actually</font><font color="#E5E5E5"> not it's about how and</font>

262
00:10:56,650 --> 00:11:02,050
where admin credentials are used on<font color="#CCCCCC"> your</font>

263
00:10:58,600 --> 00:11:03,790
network so if you're<font color="#E5E5E5"> not familiar with</font>

264
00:11:02,050 --> 00:11:05,620
<font color="#E5E5E5">these sort of escalation paths</font>

265
00:11:03,790 --> 00:11:07,059
<font color="#E5E5E5">definitely check out bloodhound it was</font>

266
00:11:05,620 --> 00:11:09,009
an open source tool released

267
00:11:07,059 --> 00:11:11,709
last year<font color="#CCCCCC"> DEFCON and</font><font color="#E5E5E5"> was updated just</font>

268
00:11:09,009 --> 00:11:13,869
<font color="#E5E5E5">this week</font><font color="#CCCCCC"> but</font><font color="#E5E5E5"> even if you choose to</font>

269
00:11:11,709 --> 00:11:15,478
<font color="#CCCCCC">adopt this tiered</font><font color="#E5E5E5"> administration model</font>

270
00:11:13,869 --> 00:11:18,579
you're probably going<font color="#E5E5E5"> to fuck it</font><font color="#CCCCCC"> up</font><font color="#E5E5E5"> and</font>

271
00:11:15,479 --> 00:11:19,689
here are<font color="#E5E5E5"> some of the ways like here are</font>

272
00:11:18,579 --> 00:11:21,478
some<font color="#CCCCCC"> of the</font><font color="#E5E5E5"> problems that you're likely</font>

273
00:11:19,689 --> 00:11:26,858
to<font color="#CCCCCC"> encounter</font>

274
00:11:21,479 --> 00:11:29,649
starting with<font color="#CCCCCC"> essentially anyone that</font>

275
00:11:26,859 --> 00:11:32,169
has read access<font color="#CCCCCC"> to NTDs zip file on</font><font color="#E5E5E5"> a</font>

276
00:11:29,649 --> 00:11:34,329
domain<font color="#E5E5E5"> controller is de facto domain</font>

277
00:11:32,169 --> 00:11:36,339
admin and if you run<font color="#E5E5E5"> virtualized domain</font>

278
00:11:34,329 --> 00:11:38,618
controllers<font color="#E5E5E5"> this may include the people</font>

279
00:11:36,339 --> 00:11:42,369
<font color="#CCCCCC">that manage the virtualization or shared</font>

280
00:11:38,619 --> 00:11:46,479
storage layers so those users need to<font color="#CCCCCC"> be</font>

281
00:11:42,369 --> 00:11:48,699
<font color="#E5E5E5">treated as tier 0 users and if you've</font>

282
00:11:46,479 --> 00:11:50,379
delegated group policy management<font color="#E5E5E5"> to</font>

283
00:11:48,699 --> 00:11:54,608
members of the group<font color="#CCCCCC"> policy creators</font>

284
00:11:50,379 --> 00:11:56,859
<font color="#E5E5E5">owners group and then link their GPOs</font><font color="#CCCCCC"> to</font>

285
00:11:54,609 --> 00:12:00,609
tier 0 assets<font color="#CCCCCC"> then they also need to</font><font color="#E5E5E5"> be</font>

286
00:11:56,859 --> 00:12:02,439
treated as tier 0<font color="#E5E5E5"> users here's another</font>

287
00:12:00,609 --> 00:12:04,149
layer of delegation to keep an eye on

288
00:12:02,439 --> 00:12:06,009
<font color="#E5E5E5">this script will show you things like</font>

289
00:12:04,149 --> 00:12:09,009
<font color="#E5E5E5">who can reset the passwords on your</font>

290
00:12:06,009 --> 00:12:10,779
critical accounts<font color="#E5E5E5"> and this is part of</font>

291
00:12:09,009 --> 00:12:14,559
the functionality that<font color="#E5E5E5"> was just added to</font>

292
00:12:10,779 --> 00:12:16,659
bloodhound 1.3<font color="#E5E5E5"> this tool doesn't get</font>

293
00:12:14,559 --> 00:12:18,488
enough love<font color="#CCCCCC"> Mykel graph emitters vs</font>

294
00:12:16,659 --> 00:12:20,499
internals PowerShell module will parse

295
00:12:18,489 --> 00:12:22,089
your<font color="#CCCCCC"> entity F</font><font color="#E5E5E5"> stats it and can show you</font>

296
00:12:20,499 --> 00:12:24,279
things<font color="#CCCCCC"> like which accounts share the</font>

297
00:12:22,089 --> 00:12:27,219
same password so this is<font color="#E5E5E5"> valuable</font>

298
00:12:24,279 --> 00:12:31,569
because if you have admin ik admins with

299
00:12:27,219 --> 00:12:33,099
accounts and multiple tiers<font color="#CCCCCC"> any</font><font color="#E5E5E5"> security</font>

300
00:12:31,569 --> 00:12:37,478
benefit of having<font color="#E5E5E5"> separate accounts is</font>

301
00:12:33,099 --> 00:12:39,669
lost if they share the same password<font color="#CCCCCC"> if</font>

302
00:12:37,479 --> 00:12:41,379
you<font color="#E5E5E5"> require smart cards for</font><font color="#CCCCCC"> logon you</font>

303
00:12:39,669 --> 00:12:44,049
might not<font color="#CCCCCC"> think that</font><font color="#E5E5E5"> the password issues</font>

304
00:12:41,379 --> 00:12:46,689
<font color="#E5E5E5">apply to you but users can still change</font>

305
00:12:44,049 --> 00:12:51,039
they're still change their password<font color="#CCCCCC"> and</font>

306
00:12:46,689 --> 00:12:53,019
the hash never expires so to work<font color="#CCCCCC"> around</font>

307
00:12:51,039 --> 00:12:56,439
this<font color="#E5E5E5"> you</font><font color="#CCCCCC"> can</font><font color="#E5E5E5"> toggle</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> smart card logon</font>

308
00:12:53,019 --> 00:12:58,149
require it off<font color="#E5E5E5"> then on</font><font color="#CCCCCC"> and you'll have</font>

309
00:12:56,439 --> 00:12:59,589
to rely on this workaround until both

310
00:12:58,149 --> 00:13:04,689
the<font color="#CCCCCC"> domain and forest functional level</font>

311
00:12:59,589 --> 00:13:08,829
are updated<font color="#CCCCCC"> to Server 2016 yeah that</font>

312
00:13:04,689 --> 00:13:10,329
might be<font color="#CCCCCC"> a while in some places another</font>

313
00:13:08,829 --> 00:13:11,888
<font color="#E5E5E5">thing you may want</font><font color="#CCCCCC"> to look at</font><font color="#E5E5E5"> it that</font>

314
00:13:10,329 --> 00:13:13,449
<font color="#CCCCCC">you want to take a close look at is all</font>

315
00:13:11,889 --> 00:13:15,579
of the agents running<font color="#CCCCCC"> on your tier</font><font color="#E5E5E5"> 0</font>

316
00:13:13,449 --> 00:13:17,709
assets including your endpoint<font color="#E5E5E5"> security</font>

317
00:13:15,579 --> 00:13:19,899
software<font color="#CCCCCC"> but a good place to start is</font>

318
00:13:17,709 --> 00:13:21,010
with<font color="#E5E5E5"> the patch management client the</font>

319
00:13:19,899 --> 00:13:22,840
<font color="#CCCCCC">role-based</font><font color="#E5E5E5"> access</font>

320
00:13:21,010 --> 00:13:25,030
<font color="#E5E5E5">then each</font><font color="#CCCCCC"> of these tools</font><font color="#E5E5E5"> needs to match</font>

321
00:13:22,840 --> 00:13:29,050
the<font color="#CCCCCC"> cheered administration model for it</font>

322
00:13:25,030 --> 00:13:30,790
to be effective<font color="#CCCCCC"> all</font><font color="#E5E5E5"> right so I still</font>

323
00:13:29,050 --> 00:13:32,680
believe in the value<font color="#CCCCCC"> of pen testing I</font>

324
00:13:30,790 --> 00:13:34,540
just<font color="#E5E5E5"> don't think it's for everybody</font><font color="#CCCCCC"> I</font>

325
00:13:32,680 --> 00:13:35,949
like to hear<font color="#E5E5E5"> your ideas about getting</font>

326
00:13:34,540 --> 00:13:37,599
<font color="#E5E5E5">the most value</font><font color="#CCCCCC"> out of a test</font>

327
00:13:35,950 --> 00:13:39,430
feel free to yell them out or I'll be

328
00:13:37,600 --> 00:13:44,310
<font color="#E5E5E5">around for the</font><font color="#CCCCCC"> rest the weekend come</font>

329
00:13:39,430 --> 00:13:48,609
chat<font color="#E5E5E5"> in conclusion</font><font color="#CCCCCC"> keep doing your</font><font color="#E5E5E5"> thing</font>

330
00:13:44,310 --> 00:13:50,530
<font color="#CCCCCC">submit to the next CF PUC and</font><font color="#E5E5E5"> don't</font>

331
00:13:48,610 --> 00:13:53,830
worry about<font color="#E5E5E5"> getting rejected</font><font color="#CCCCCC"> I can't</font>

332
00:13:50,530 --> 00:13:55,920
wait to see<font color="#E5E5E5"> your talk that</font><font color="#CCCCCC"> was it thank</font>

333
00:13:53,830 --> 00:13:55,920
you

334
00:13:56,290 --> 00:13:59,650
[Applause]

