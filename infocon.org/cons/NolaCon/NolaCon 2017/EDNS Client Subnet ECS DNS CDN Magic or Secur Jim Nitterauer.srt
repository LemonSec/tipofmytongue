1
00:00:00,030 --> 00:00:03,929
hi folks<font color="#E5E5E5"> I'm gig here</font><font color="#CCCCCC"> unfortunately they</font>

2
00:00:02,460 --> 00:00:05,609
did not<font color="#E5E5E5"> have the microphone on from</font>

3
00:00:03,929 --> 00:00:07,589
previous talk and that continued on to

4
00:00:05,609 --> 00:00:09,300
this talk until about<font color="#CCCCCC"> the</font><font color="#E5E5E5"> two-minute</font><font color="#CCCCCC"> 37</font>

5
00:00:07,589 --> 00:00:11,580
second<font color="#CCCCCC"> mark at that point</font><font color="#E5E5E5"> you will</font><font color="#CCCCCC"> be</font>

6
00:00:09,300 --> 00:00:13,920
hearing Jim's beautiful voice<font color="#E5E5E5"> so hang</font>

7
00:00:11,580 --> 00:00:17,630
out<font color="#CCCCCC"> too then and the talk will continue</font>

8
00:00:13,920 --> 00:00:17,630
sorry for the technical inconveniences

9
00:02:37,660 --> 00:02:51,490
<font color="#E5E5E5">product now speak here now can you hear</font>

10
00:02:43,840 --> 00:02:52,270
<font color="#CCCCCC">me okay good start</font><font color="#E5E5E5"> over</font><font color="#CCCCCC"> all</font><font color="#E5E5E5"> right we'll</font>

11
00:02:51,490 --> 00:03:05,520
start<font color="#CCCCCC"> over</font>

12
00:02:52,270 --> 00:03:05,520
we'll rewind this thing is um there we

13
00:03:05,610 --> 00:03:14,920
the Evalia very quiet<font color="#E5E5E5"> when you start</font>

14
00:03:09,160 --> 00:03:16,420
<font color="#E5E5E5">again</font><font color="#CCCCCC"> Adrian going</font><font color="#E5E5E5"> okay so one of the</font>

15
00:03:14,920 --> 00:03:18,369
things that we want to<font color="#E5E5E5"> look at is what</font>

16
00:03:16,420 --> 00:03:21,459
<font color="#E5E5E5">kinds of things</font><font color="#CCCCCC"> have happened</font><font color="#E5E5E5"> when we're</font>

17
00:03:18,370 --> 00:03:23,440
browsing<font color="#CCCCCC"> the internet that give</font><font color="#E5E5E5"> away</font><font color="#CCCCCC"> our</font>

18
00:03:21,460 --> 00:03:25,780
data<font color="#E5E5E5"> but recently what happened</font><font color="#CCCCCC"> in the</font>

19
00:03:23,440 --> 00:03:28,780
news what did what did<font color="#CCCCCC"> Congress do for</font>

20
00:03:25,780 --> 00:03:32,020
us<font color="#E5E5E5"> that doesn't protect our privacy any</font>

21
00:03:28,780 --> 00:03:34,840
longer<font color="#CCCCCC"> right there was a congressional</font>

22
00:03:32,020 --> 00:03:37,090
<font color="#E5E5E5">Senate resolution that allows internet</font>

23
00:03:34,840 --> 00:03:41,020
providers now to track<font color="#E5E5E5"> your personal</font>

24
00:03:37,090 --> 00:03:43,000
data<font color="#E5E5E5"> and sell it for</font><font color="#CCCCCC"> a profit right</font><font color="#E5E5E5"> okay</font>

25
00:03:41,020 --> 00:03:44,440
so<font color="#E5E5E5"> this is all going back to</font><font color="#CCCCCC"> the there's</font>

26
00:03:43,000 --> 00:03:45,970
a there's a bigger story<font color="#CCCCCC"> here</font><font color="#E5E5E5"> that</font>

27
00:03:44,440 --> 00:03:49,690
<font color="#E5E5E5">you'll kind of put the pieces together</font>

28
00:03:45,970 --> 00:03:53,320
as we<font color="#CCCCCC"> go so what ended up happening here</font>

29
00:03:49,690 --> 00:03:55,120
was<font color="#E5E5E5"> these</font><font color="#CCCCCC"> people started grabbing</font><font color="#E5E5E5"> your</font>

30
00:03:53,320 --> 00:03:57,549
data<font color="#E5E5E5"> and they're starting to sell it as</font>

31
00:03:55,120 --> 00:04:00,160
feeds now we're going<font color="#E5E5E5"> to we're</font><font color="#CCCCCC"> gonna</font><font color="#E5E5E5"> get</font>

32
00:03:57,550 --> 00:04:01,720
<font color="#CCCCCC">ahead</font><font color="#E5E5E5"> here look at what is e DNS what</font>

33
00:04:00,160 --> 00:04:04,090
does he<font color="#CCCCCC"> do in</font><font color="#E5E5E5"> a suppliant subnet and why</font>

34
00:04:01,720 --> 00:04:06,340
is it<font color="#E5E5E5"> important so I can't move around</font>

35
00:04:04,090 --> 00:04:08,920
too much<font color="#CCCCCC"> the microphone really noisy</font>

36
00:04:06,340 --> 00:04:12,700
<font color="#CCCCCC">button what you see on the screen here</font>

37
00:04:08,920 --> 00:04:15,458
is a packet capture<font color="#E5E5E5"> from a single DNS</font>

38
00:04:12,700 --> 00:04:17,529
query that has<font color="#CCCCCC"> EDS client subnet data in</font>

39
00:04:15,459 --> 00:04:19,358
it and the<font color="#E5E5E5"> yellow highlighted part is</font>

40
00:04:17,529 --> 00:04:22,119
the<font color="#E5E5E5"> information that's being disclosed</font>

41
00:04:19,358 --> 00:04:25,930
<font color="#E5E5E5">not only to your upstream recursive</font>

42
00:04:22,120 --> 00:04:27,940
server<font color="#E5E5E5"> follow this logic but to every</font>

43
00:04:25,930 --> 00:04:29,590
server in the DNS chain all the<font color="#CCCCCC"> way to</font>

44
00:04:27,940 --> 00:04:32,530
the root server and every other server

45
00:04:29,590 --> 00:04:34,150
that's<font color="#E5E5E5"> queried to answer that query this</font>

46
00:04:32,530 --> 00:04:36,429
is disturbing<font color="#E5E5E5"> right because normally in</font>

47
00:04:34,150 --> 00:04:38,590
a DNS query<font color="#E5E5E5"> you would query an upstream</font>

48
00:04:36,430 --> 00:04:40,120
resolver and it would send<font color="#CCCCCC"> the query out</font>

49
00:04:38,590 --> 00:04:42,400
on your behalf if it couldn't<font color="#E5E5E5"> answer</font>

50
00:04:40,120 --> 00:04:44,860
from the cache<font color="#E5E5E5"> but the upstream queries</font>

51
00:04:42,400 --> 00:04:48,280
from<font color="#E5E5E5"> that server had no idea what your</font>

52
00:04:44,860 --> 00:04:50,050
IP address<font color="#E5E5E5"> was okay with EDX</font><font color="#CCCCCC"> clients</font>

53
00:04:48,280 --> 00:04:50,770
something that deployment that's no

54
00:04:50,050 --> 00:04:51,129
longer true

55
00:04:50,770 --> 00:04:53,020
<font color="#E5E5E5">we're</font>

56
00:04:51,129 --> 00:04:55,089
<font color="#CCCCCC">go</font><font color="#E5E5E5"> over how all of that works so</font>

57
00:04:53,020 --> 00:04:57,459
normally we think DNS we're answering or

58
00:04:55,089 --> 00:04:59,259
<font color="#CCCCCC">getting a question to a server</font><font color="#E5E5E5"> we're</font>

59
00:04:57,459 --> 00:05:01,029
getting an answer<font color="#E5E5E5"> we're moving on</font><font color="#CCCCCC"> we</font>

60
00:04:59,259 --> 00:05:04,689
don't really<font color="#CCCCCC"> think</font><font color="#E5E5E5"> much</font><font color="#CCCCCC"> about our DNS</font>

61
00:05:01,029 --> 00:05:06,069
unless it doesn't<font color="#CCCCCC"> work</font><font color="#E5E5E5"> right</font><font color="#CCCCCC"> so our</font>

62
00:05:04,689 --> 00:05:08,110
goals for today we're going to<font color="#E5E5E5"> review</font>

63
00:05:06,069 --> 00:05:11,199
brief history of DNS all the way from

64
00:05:08,110 --> 00:05:12,580
the<font color="#CCCCCC"> beginning</font><font color="#E5E5E5"> a long time back some</font><font color="#CCCCCC"> of</font>

65
00:05:11,199 --> 00:05:14,429
you<font color="#E5E5E5"> aren't even that old so you won't</font>

66
00:05:12,580 --> 00:05:17,080
know much<font color="#E5E5E5"> about this because</font><font color="#CCCCCC"> you were</font>

67
00:05:14,429 --> 00:05:19,958
tiny at the time we're<font color="#E5E5E5"> going to discuss</font>

68
00:05:17,080 --> 00:05:21,969
a<font color="#E5E5E5"> DNS</font><font color="#CCCCCC"> 0 RFC's we're going to look</font><font color="#E5E5E5"> at how</font>

69
00:05:19,959 --> 00:05:24,249
they came into being we're going to

70
00:05:21,969 --> 00:05:25,808
explain one of<font color="#E5E5E5"> those a DNS</font><font color="#CCCCCC"> options we're</font>

71
00:05:24,249 --> 00:05:27,189
going to say what they are<font color="#E5E5E5"> we're going</font>

72
00:05:25,809 --> 00:05:29,229
to<font color="#E5E5E5"> examine</font><font color="#CCCCCC"> one of those particular</font>

73
00:05:27,189 --> 00:05:31,149
<font color="#CCCCCC">options that's in play which is a DNS</font>

74
00:05:29,229 --> 00:05:34,300
client subnet<font color="#E5E5E5"> we're going to look at</font>

75
00:05:31,149 --> 00:05:36,309
some tools for how we would check DNS

76
00:05:34,300 --> 00:05:37,719
servers to see if they do support<font color="#CCCCCC"> that</font>

77
00:05:36,309 --> 00:05:40,719
if we're getting<font color="#CCCCCC"> responses or they're</font>

78
00:05:37,719 --> 00:05:42,069
leaking<font color="#E5E5E5"> data on our behalf and then</font>

79
00:05:40,719 --> 00:05:43,659
<font color="#E5E5E5">we're going</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> discuss</font><font color="#CCCCCC"> some security</font>

80
00:05:42,069 --> 00:05:45,069
<font color="#CCCCCC">concerns with that</font><font color="#E5E5E5"> and look for some</font>

81
00:05:43,659 --> 00:05:57,459
look at some ways<font color="#E5E5E5"> that</font><font color="#CCCCCC"> could potentially</font>

82
00:05:45,069 --> 00:05:59,439
<font color="#E5E5E5">be abused</font><font color="#CCCCCC"> alright so we're</font><font color="#E5E5E5"> gonna fire up</font>

83
00:05:57,459 --> 00:06:03,089
<font color="#E5E5E5">the</font><font color="#CCCCCC"> wayback machine and going back there</font>

84
00:05:59,439 --> 00:06:03,089
<font color="#CCCCCC">anybody know what cartoon this is from</font>

85
00:06:03,599 --> 00:06:07,329
yes<font color="#E5E5E5"> bingo</font><font color="#CCCCCC"> you get the prize rocky and</font>

86
00:06:06,819 --> 00:06:11,159
bullwinkle

87
00:06:07,329 --> 00:06:14,259
<font color="#CCCCCC">all right</font><font color="#E5E5E5"> so DNS was introduced in 1983</font>

88
00:06:11,159 --> 00:06:18,369
<font color="#CCCCCC">came about as a research project under</font>

89
00:06:14,259 --> 00:06:20,979
<font color="#E5E5E5">the</font><font color="#CCCCCC"> ARPANET program initially email was</font>

90
00:06:18,369 --> 00:06:23,289
the first protocol used on the ARPANET

91
00:06:20,979 --> 00:06:25,479
right there was people<font color="#E5E5E5"> just exchanging</font>

92
00:06:23,289 --> 00:06:27,369
messages back and<font color="#E5E5E5"> forth</font><font color="#CCCCCC"> as more hosts</font>

93
00:06:25,479 --> 00:06:29,949
were added to the<font color="#E5E5E5"> network people had to</font>

94
00:06:27,369 --> 00:06:32,559
<font color="#E5E5E5">have a way to know how to send an email</font>

95
00:06:29,949 --> 00:06:34,990
to a particular host well<font color="#E5E5E5"> the</font><font color="#CCCCCC"> owner what</font>

96
00:06:32,559 --> 00:06:37,240
<font color="#CCCCCC">host files are right</font><font color="#E5E5E5"> so those host files</font>

97
00:06:34,990 --> 00:06:39,399
used<font color="#E5E5E5"> to be the only way DNS work there</font>

98
00:06:37,240 --> 00:06:42,189
was a key group<font color="#E5E5E5"> of</font><font color="#CCCCCC"> host files that were</font>

99
00:06:39,399 --> 00:06:44,110
exchanged among<font color="#E5E5E5"> servers somebody took</font>

100
00:06:42,189 --> 00:06:46,149
care of those servers if you wanted to

101
00:06:44,110 --> 00:06:47,529
add<font color="#E5E5E5"> another server to your network</font><font color="#CCCCCC"> had</font>

102
00:06:46,149 --> 00:06:51,249
to go in and manually edit<font color="#CCCCCC"> the hosts</font>

103
00:06:47,529 --> 00:06:55,240
file<font color="#E5E5E5"> DNS was introduced in</font><font color="#CCCCCC"> 1980 by Paul</font>

104
00:06:51,249 --> 00:06:57,189
<font color="#CCCCCC">maca Petri</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> jon postel they</font><font color="#E5E5E5"> worked at</font>

105
00:06:55,240 --> 00:07:01,240
<font color="#E5E5E5">the</font><font color="#CCCCCC"> information Sciences Institute at</font>

106
00:06:57,189 --> 00:07:04,660
USC the original RFC's for DNS<font color="#E5E5E5"> are</font><font color="#CCCCCC"> a RFC</font>

107
00:07:01,240 --> 00:07:08,680
882 and 883<font color="#E5E5E5"> both have been</font>

108
00:07:04,660 --> 00:07:12,790
updated in 1986<font color="#CCCCCC"> and the current RFC's</font>

109
00:07:08,680 --> 00:07:15,640
<font color="#CCCCCC">per DNS are 1034 which describes</font><font color="#E5E5E5"> the</font>

110
00:07:12,790 --> 00:07:17,440
data structure for<font color="#E5E5E5"> DNS and</font><font color="#CCCCCC"> 1035 which</font>

111
00:07:15,640 --> 00:07:18,940
describes how<font color="#CCCCCC"> the records and</font>

112
00:07:17,440 --> 00:07:23,290
infrastructures are formatted when

113
00:07:18,940 --> 00:07:24,969
they're shipped over the network<font color="#E5E5E5"> so 1973</font>

114
00:07:23,290 --> 00:07:27,340
these files were kept in a central

115
00:07:24,970 --> 00:07:29,200
system<font color="#E5E5E5"> that was called the host master</font>

116
00:07:27,340 --> 00:07:31,030
<font color="#E5E5E5">so that's where you get the name host</font>

117
00:07:29,200 --> 00:07:33,370
master<font color="#E5E5E5"> from in the</font><font color="#CCCCCC"> Internet when you're</font>

118
00:07:31,030 --> 00:07:34,599
<font color="#E5E5E5">talking about host master at that's why</font>

119
00:07:33,370 --> 00:07:36,940
you would<font color="#E5E5E5"> tend to request the host</font>

120
00:07:34,600 --> 00:07:39,160
<font color="#CCCCCC">master to grab</font><font color="#E5E5E5"> your DNS records and put</font>

121
00:07:36,940 --> 00:07:39,900
them back on<font color="#E5E5E5"> your server to update</font><font color="#CCCCCC"> your</font>

122
00:07:39,160 --> 00:07:42,820
server

123
00:07:39,900 --> 00:07:44,739
<font color="#CCCCCC">alright so DNS is a distributed database</font>

124
00:07:42,820 --> 00:07:46,570
<font color="#CCCCCC">now I want to</font><font color="#E5E5E5"> make</font><font color="#CCCCCC"> a distinction</font><font color="#E5E5E5"> here</font>

125
00:07:44,740 --> 00:07:48,640
when I'm talking about DNS I'm talking

126
00:07:46,570 --> 00:07:50,650
about<font color="#E5E5E5"> structure of the distributed</font>

127
00:07:48,640 --> 00:07:52,390
database and not the service that

128
00:07:50,650 --> 00:07:54,489
manages<font color="#E5E5E5"> that database right now they're</font>

129
00:07:52,390 --> 00:07:56,530
two distinct entities<font color="#CCCCCC"> and</font><font color="#E5E5E5"> we'll get to</font>

130
00:07:54,490 --> 00:07:58,360
both of them here<font color="#E5E5E5"> so the main components</font>

131
00:07:56,530 --> 00:08:01,150
in distributed database<font color="#CCCCCC"> or the namespace</font>

132
00:07:58,360 --> 00:08:02,920
the<font color="#CCCCCC"> namespace is defined as the layer in</font>

133
00:08:01,150 --> 00:08:06,330
the tree where that records where your

134
00:08:02,920 --> 00:08:08,800
records are<font color="#E5E5E5"> stored the root is the dot</font>

135
00:08:06,330 --> 00:08:11,530
domain<font color="#CCCCCC"> okay the dot domain</font><font color="#E5E5E5"> so anytime</font>

136
00:08:08,800 --> 00:08:13,840
<font color="#E5E5E5">you do a DNS</font><font color="#CCCCCC"> lookup with DNS</font><font color="#E5E5E5"> lookup that</font>

137
00:08:11,530 --> 00:08:16,750
<font color="#E5E5E5">trailing dot is the root that's telling</font>

138
00:08:13,840 --> 00:08:18,820
that<font color="#E5E5E5"> needs to</font><font color="#CCCCCC"> be in your</font><font color="#E5E5E5"> DNS query some</font>

139
00:08:16,750 --> 00:08:20,770
servers<font color="#E5E5E5"> and operating systems put it in</font>

140
00:08:18,820 --> 00:08:23,200
there automatically others ignore<font color="#CCCCCC"> it</font><font color="#E5E5E5"> but</font>

141
00:08:20,770 --> 00:08:24,849
that's<font color="#E5E5E5"> why it's always a DNS entry ends</font>

142
00:08:23,200 --> 00:08:29,229
in a dot because that's the root of<font color="#E5E5E5"> all</font>

143
00:08:24,850 --> 00:08:31,140
DNS but the dot in that query so they go

144
00:08:29,230 --> 00:08:34,330
<font color="#CCCCCC">back to the root or master domains</font><font color="#E5E5E5"> each</font>

145
00:08:31,140 --> 00:08:35,590
of the<font color="#E5E5E5"> namespaces have resource records</font>

146
00:08:34,330 --> 00:08:37,539
<font color="#CCCCCC">they're called our RS or resource</font>

147
00:08:35,590 --> 00:08:39,610
records and those resource records then

148
00:08:37,539 --> 00:08:41,979
tell what resolvers and name servers are

149
00:08:39,610 --> 00:08:45,190
allowed to answer authoritative<font color="#CCCCCC"> lis for</font>

150
00:08:41,979 --> 00:08:50,890
that domain on<font color="#CCCCCC"> the original reason that</font>

151
00:08:45,190 --> 00:08:52,660
DNS came out<font color="#E5E5E5"> conclusion was that excuse</font>

152
00:08:50,890 --> 00:08:55,150
me my throat's a little dry here<font color="#CCCCCC"> and</font>

153
00:08:52,660 --> 00:08:57,969
that that when DNS<font color="#E5E5E5"> came out was to allow</font>

154
00:08:55,150 --> 00:09:01,209
<font color="#E5E5E5">users</font><font color="#CCCCCC"> to have</font><font color="#E5E5E5"> a name to apply to an IP</font>

155
00:08:57,970 --> 00:09:03,850
address John Possible's quote there so

156
00:09:01,210 --> 00:09:06,310
this is what the DNS<font color="#CCCCCC"> namespace looked</font>

157
00:09:03,850 --> 00:09:07,870
like in 1987 what<font color="#E5E5E5"> wasn't much bigger</font>

158
00:09:06,310 --> 00:09:10,569
than this was a little bit bigger<font color="#E5E5E5"> than</font>

159
00:09:07,870 --> 00:09:12,310
this but<font color="#CCCCCC"> it really</font><font color="#E5E5E5"> wasn't</font><font color="#CCCCCC"> too big</font><font color="#E5E5E5"> so it</font>

160
00:09:10,570 --> 00:09:15,520
<font color="#E5E5E5">wasn't too</font><font color="#CCCCCC"> much</font><font color="#E5E5E5"> to it at that point in</font>

161
00:09:12,310 --> 00:09:18,520
<font color="#CCCCCC">time</font><font color="#E5E5E5"> so keep in mind we need to have a</font>

162
00:09:15,520 --> 00:09:20,860
way<font color="#CCCCCC"> to define what</font>

163
00:09:18,520 --> 00:09:23,170
the way that the data<font color="#E5E5E5"> was transferred</font>

164
00:09:20,860 --> 00:09:24,550
<font color="#E5E5E5">between servers and how we're going to</font>

165
00:09:23,170 --> 00:09:27,399
keep that distributed database

166
00:09:24,550 --> 00:09:29,140
<font color="#CCCCCC">up-to-date so</font><font color="#E5E5E5"> DNS came out and it did</font>

167
00:09:27,399 --> 00:09:31,510
not really define anything<font color="#E5E5E5"> other than</font>

168
00:09:29,140 --> 00:09:33,240
the host master<font color="#E5E5E5"> files and servers that</font>

169
00:09:31,510 --> 00:09:38,110
could<font color="#CCCCCC"> exchange that data</font>

170
00:09:33,240 --> 00:09:40,750
<font color="#CCCCCC">second-generation</font><font color="#E5E5E5"> DNS was improved by</font>

171
00:09:38,110 --> 00:09:43,690
<font color="#E5E5E5">defining a master in</font><font color="#CCCCCC"> a primary server</font><font color="#E5E5E5"> at</font>

172
00:09:40,750 --> 00:09:46,870
least one master and several<font color="#E5E5E5"> slave</font>

173
00:09:43,690 --> 00:09:49,600
servers for DNS it added<font color="#E5E5E5"> to notify so</font>

174
00:09:46,870 --> 00:09:52,029
when a record changed in a DNS zone<font color="#CCCCCC"> you</font>

175
00:09:49,600 --> 00:09:54,370
could notify<font color="#E5E5E5"> the downstream host and it</font>

176
00:09:52,029 --> 00:09:58,350
added<font color="#E5E5E5"> zone transfers</font><font color="#CCCCCC"> okay</font>

177
00:09:54,370 --> 00:10:02,589
so initially when DNS was put in place

178
00:09:58,350 --> 00:10:04,270
<font color="#E5E5E5">if you changed one record in a zone you</font>

179
00:10:02,589 --> 00:10:06,279
hosted on your DNS<font color="#CCCCCC"> server and</font><font color="#E5E5E5"> you were</font>

180
00:10:04,270 --> 00:10:08,140
<font color="#E5E5E5">part of the DNS chain you had to</font>

181
00:10:06,279 --> 00:10:10,029
transfer all your<font color="#E5E5E5"> zones to</font><font color="#CCCCCC"> the next</font>

182
00:10:08,140 --> 00:10:11,410
<font color="#CCCCCC">neighbour</font><font color="#E5E5E5"> everybody had to transfer all</font>

183
00:10:10,029 --> 00:10:14,170
the<font color="#E5E5E5"> zones there was no</font><font color="#CCCCCC"> mechanism to</font>

184
00:10:11,410 --> 00:10:16,959
<font color="#E5E5E5">transfer just one zone zone meaning</font>

185
00:10:14,170 --> 00:10:19,660
think domain<font color="#E5E5E5"> to the neighbor upstream</font>

186
00:10:16,959 --> 00:10:22,390
<font color="#E5E5E5">this brought in the ability</font><font color="#CCCCCC"> to transfer</font>

187
00:10:19,660 --> 00:10:26,020
one zone one<font color="#CCCCCC"> domain set of data to</font>

188
00:10:22,390 --> 00:10:27,550
<font color="#E5E5E5">upstream neighbors and it also</font><font color="#CCCCCC"> defined</font>

189
00:10:26,020 --> 00:10:29,620
how the transfer<font color="#E5E5E5"> would happen</font>

190
00:10:27,550 --> 00:10:32,050
it added a notify telling the upstream

191
00:10:29,620 --> 00:10:34,300
provider or the<font color="#E5E5E5"> upstream servers that</font><font color="#CCCCCC"> a</font>

192
00:10:32,050 --> 00:10:36,520
change it happened<font color="#E5E5E5"> and</font><font color="#CCCCCC"> that was linked</font>

193
00:10:34,300 --> 00:10:40,589
to<font color="#E5E5E5"> a serial number in</font><font color="#CCCCCC"> the SLA record for</font>

194
00:10:36,520 --> 00:10:43,000
DNS third generation made<font color="#CCCCCC"> DNS even more</font>

195
00:10:40,589 --> 00:10:45,970
optimized by implementing<font color="#CCCCCC"> dynamic</font>

196
00:10:43,000 --> 00:10:48,040
updates<font color="#E5E5E5"> this allowed a single record</font>

197
00:10:45,970 --> 00:10:49,990
<font color="#CCCCCC">within a zone</font><font color="#E5E5E5"> to be exchanged between</font>

198
00:10:48,040 --> 00:10:51,579
DNS servers so the whole zone didn't

199
00:10:49,990 --> 00:10:54,160
have to be transferred just that one

200
00:10:51,579 --> 00:10:55,810
changed record it also started this is

201
00:10:54,160 --> 00:10:58,779
where we see<font color="#E5E5E5"> the</font><font color="#CCCCCC"> introduction of</font>

202
00:10:55,810 --> 00:11:03,910
mechanisms for DNS a DNS<font color="#CCCCCC"> 0 which are</font>

203
00:10:58,779 --> 00:11:05,439
RFC's 26<font color="#E5E5E5"> 71 and 20 or 68 91</font><font color="#CCCCCC"> we'll come</font>

204
00:11:03,910 --> 00:11:07,149
back to this here<font color="#E5E5E5"> in a little</font><font color="#CCCCCC"> bit but</font>

205
00:11:05,440 --> 00:11:10,000
<font color="#E5E5E5">this is</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> time frame that these were</font>

206
00:11:07,149 --> 00:11:13,329
<font color="#E5E5E5">added these these last two</font><font color="#CCCCCC"> are FCS were</font>

207
00:11:10,000 --> 00:11:15,310
proposed by Paul vixie<font color="#CCCCCC"> a fourth</font>

208
00:11:13,329 --> 00:11:17,050
<font color="#CCCCCC">generation DNS added some clarifications</font>

209
00:11:15,310 --> 00:11:19,180
for<font color="#E5E5E5"> the structure of DNS and it</font>

210
00:11:17,050 --> 00:11:22,079
implemented provisions for negative

211
00:11:19,180 --> 00:11:26,260
responses which are<font color="#E5E5E5"> called NX domains</font>

212
00:11:22,079 --> 00:11:27,790
<font color="#E5E5E5">fifth</font><font color="#CCCCCC"> generation DNS</font><font color="#E5E5E5"> implemented DNS SEC</font>

213
00:11:26,260 --> 00:11:29,529
which everybody knows kind of sucks

214
00:11:27,790 --> 00:11:30,910
because not everybody does it<font color="#CCCCCC"> right if</font>

215
00:11:29,529 --> 00:11:31,900
everybody did it it would work nobody

216
00:11:30,910 --> 00:11:34,000
<font color="#E5E5E5">does right</font>

217
00:11:31,900 --> 00:11:35,890
especially the dot-gov domains anybody

218
00:11:34,000 --> 00:11:38,380
ever have a day where the dot-gov

219
00:11:35,890 --> 00:11:40,210
domains their certificates expired<font color="#CCCCCC"> new</font>

220
00:11:38,380 --> 00:11:42,040
enforcing DNS<font color="#E5E5E5"> sex on their domains</font>

221
00:11:40,210 --> 00:11:43,660
<font color="#E5E5E5">that's always a fun when when our</font>

222
00:11:42,040 --> 00:11:45,040
customers<font color="#CCCCCC"> call</font><font color="#E5E5E5"> together</font><font color="#CCCCCC"> you're not</font>

223
00:11:43,660 --> 00:11:46,990
resolving<font color="#CCCCCC"> d as for them the</font><font color="#E5E5E5"> other</font>

224
00:11:45,040 --> 00:11:49,630
<font color="#E5E5E5">certificates are expired they didn't</font>

225
00:11:46,990 --> 00:11:51,850
<font color="#CCCCCC">rotate them and it also</font><font color="#E5E5E5"> promoted the</font><font color="#CCCCCC"> use</font>

226
00:11:49,630 --> 00:11:53,560
of these<font color="#E5E5E5"> a DNS option codes which we're</font>

227
00:11:51,850 --> 00:11:56,140
going<font color="#E5E5E5"> to talk about here and a little</font>

228
00:11:53,560 --> 00:11:58,540
<font color="#CCCCCC">bit</font><font color="#E5E5E5"> more before</font><font color="#CCCCCC"> I go on</font><font color="#E5E5E5"> and talk about</font>

229
00:11:56,140 --> 00:12:01,540
<font color="#E5E5E5">the</font><font color="#CCCCCC"> e dns option codes we want to talk a</font>

230
00:11:58,540 --> 00:12:04,360
little<font color="#CCCCCC"> bit about the service</font><font color="#E5E5E5"> that</font>

231
00:12:01,540 --> 00:12:06,880
<font color="#E5E5E5">actually manages DNS so a DNS daemon or</font>

232
00:12:04,360 --> 00:12:09,460
servers bind was the first one it was

233
00:12:06,880 --> 00:12:12,700
<font color="#E5E5E5">funded by a DARPA grant UC Berkeley was</font>

234
00:12:09,460 --> 00:12:14,650
put together by<font color="#E5E5E5"> Doug</font><font color="#CCCCCC"> Terry</font><font color="#E5E5E5"> mark painter</font>

235
00:12:12,700 --> 00:12:16,240
and David<font color="#CCCCCC"> Riggle</font><font color="#E5E5E5"> and I don't know how to</font>

236
00:12:14,650 --> 00:12:18,430
<font color="#E5E5E5">pronounce this guy's name I</font><font color="#CCCCCC"> think it's</font>

237
00:12:16,240 --> 00:12:22,960
<font color="#CCCCCC">out and it was described in</font><font color="#E5E5E5"> a paper in</font>

238
00:12:18,430 --> 00:12:26,620
1984 by 1985 Paul vixie and<font color="#E5E5E5"> ISC took</font>

239
00:12:22,960 --> 00:12:29,050
over production<font color="#CCCCCC"> of mine ran</font><font color="#E5E5E5"> that as part</font>

240
00:12:26,620 --> 00:12:32,500
of their contribution to the network

241
00:12:29,050 --> 00:12:35,520
community<font color="#E5E5E5"> and that company is</font><font color="#CCCCCC"> C still</font>

242
00:12:32,500 --> 00:12:38,080
manages that service or<font color="#E5E5E5"> that particular</font>

243
00:12:35,520 --> 00:12:39,340
<font color="#E5E5E5">daemon and</font><font color="#CCCCCC"> publicly</font><font color="#E5E5E5"> doesn't work for</font>

244
00:12:38,080 --> 00:12:41,680
<font color="#E5E5E5">them anymore he works for Farsight</font>

245
00:12:39,340 --> 00:12:42,880
security the<font color="#E5E5E5"> first internet daemon was</font>

246
00:12:41,680 --> 00:12:44,819
buying but there are other ones<font color="#E5E5E5"> that are</font>

247
00:12:42,880 --> 00:12:48,370
<font color="#E5E5E5">in place</font><font color="#CCCCCC"> now obviously</font><font color="#E5E5E5"> Active Directory</font>

248
00:12:44,820 --> 00:12:51,310
<font color="#E5E5E5">DNS or Microsoft DNS simple DNS plus no</font>

249
00:12:48,370 --> 00:12:53,770
<font color="#CCCCCC">Miam</font><font color="#E5E5E5"> unbound</font><font color="#CCCCCC"> DNS</font><font color="#E5E5E5"> mask</font><font color="#CCCCCC"> now keep in mind</font>

250
00:12:51,310 --> 00:12:55,510
<font color="#E5E5E5">that some DNS servers can work as both</font>

251
00:12:53,770 --> 00:12:58,650
an authoritative and a recursive or

252
00:12:55,510 --> 00:13:01,420
caching server<font color="#E5E5E5"> others can only work as a</font>

253
00:12:58,650 --> 00:13:03,550
recursive server so<font color="#CCCCCC"> unbound for example</font>

254
00:13:01,420 --> 00:13:06,430
<font color="#E5E5E5">it doesn't do any authoritative zones</font>

255
00:13:03,550 --> 00:13:11,589
it's just simple caching server some of

256
00:13:06,430 --> 00:13:12,910
the other ones will do both<font color="#CCCCCC"> alright so</font>

257
00:13:11,590 --> 00:13:13,960
here's a couple references<font color="#E5E5E5"> if you want</font>

258
00:13:12,910 --> 00:13:17,310
to go back and<font color="#E5E5E5"> look at the history</font><font color="#CCCCCC"> of</font>

259
00:13:13,960 --> 00:13:20,560
DNS obviously the book on the<font color="#CCCCCC"> right is</font>

260
00:13:17,310 --> 00:13:22,239
the manual the Bible on DNS<font color="#E5E5E5"> one on the</font>

261
00:13:20,560 --> 00:13:23,680
left is available on the internet gives

262
00:13:22,240 --> 00:13:24,700
you a good<font color="#E5E5E5"> overview of DNS so you can</font>

263
00:13:23,680 --> 00:13:27,420
understand it<font color="#E5E5E5"> a little bit better</font>

264
00:13:24,700 --> 00:13:30,400
explains it in fairly simple terms<font color="#E5E5E5"> so</font>

265
00:13:27,420 --> 00:13:35,589
<font color="#CCCCCC">now we want to go</font><font color="#E5E5E5"> on and look at these</font>

266
00:13:30,400 --> 00:13:38,829
<font color="#E5E5E5">RFC s26 71 and 68 91 these RFC is now</font>

267
00:13:35,590 --> 00:13:42,010
deal with<font color="#CCCCCC"> the e DNS options the e DNS</font>

268
00:13:38,830 --> 00:13:44,970
<font color="#E5E5E5">zero options that were added to DNS</font>

269
00:13:42,010 --> 00:13:51,069
so these were proposed by<font color="#E5E5E5"> Paul vixie in</font>

270
00:13:44,970 --> 00:13:53,140
1999 and replaced by<font color="#E5E5E5"> 68 91 in 2013 so</font>

271
00:13:51,070 --> 00:13:56,590
<font color="#E5E5E5">these are standards for allowing DNS</font>

272
00:13:53,140 --> 00:13:58,960
zones or records<font color="#E5E5E5"> to</font><font color="#CCCCCC"> exchange data that</font>

273
00:13:56,590 --> 00:14:01,120
are<font color="#E5E5E5"> longer than 500 called</font><font color="#CCCCCC"> bytes bases I</font>

274
00:13:58,960 --> 00:14:03,010
look at it<font color="#E5E5E5"> that way there came a time</font>

275
00:14:01,120 --> 00:14:04,840
where certain<font color="#CCCCCC"> types of information</font><font color="#E5E5E5"> on</font>

276
00:14:03,010 --> 00:14:07,480
networks particularly<font color="#CCCCCC"> active</font><font color="#E5E5E5"> directory</font>

277
00:14:04,840 --> 00:14:08,950
<font color="#E5E5E5">now exchange they need record data</font>

278
00:14:07,480 --> 00:14:11,560
that's much<font color="#E5E5E5"> longer than what you could</font>

279
00:14:08,950 --> 00:14:13,690
fit in<font color="#CCCCCC"> the</font><font color="#E5E5E5"> normal DNS packet so now this</font>

280
00:14:11,560 --> 00:14:16,060
<font color="#E5E5E5">provides a mechanism for text records</font>

281
00:14:13,690 --> 00:14:18,010
<font color="#E5E5E5">are our</font><font color="#CCCCCC"> cigarette words</font><font color="#E5E5E5"> the things that</font>

282
00:14:16,060 --> 00:14:19,119
make<font color="#E5E5E5"> DNS tech work the kinds of</font><font color="#CCCCCC"> records</font>

283
00:14:18,010 --> 00:14:23,020
that<font color="#CCCCCC"> are bigger than what you would</font>

284
00:14:19,120 --> 00:14:27,580
<font color="#CCCCCC">normally see</font><font color="#E5E5E5"> it</font><font color="#CCCCCC"> also defined a standard</font>

285
00:14:23,020 --> 00:14:29,290
for adding<font color="#CCCCCC"> certain features to DNS that</font>

286
00:14:27,580 --> 00:14:31,810
we're<font color="#E5E5E5"> not going to talk</font><font color="#CCCCCC"> about</font><font color="#E5E5E5"> today</font><font color="#CCCCCC"> it</font>

287
00:14:29,290 --> 00:14:34,150
divides some transport standards and it

288
00:14:31,810 --> 00:14:39,069
<font color="#E5E5E5">defined some options in the</font><font color="#CCCCCC"> format's</font><font color="#E5E5E5"> and</font>

289
00:14:34,150 --> 00:14:42,250
assignments of these<font color="#E5E5E5"> dns codes so these</font>

290
00:14:39,070 --> 00:14:46,600
<font color="#E5E5E5">DNS option codes are defined within this</font>

291
00:14:42,250 --> 00:14:48,670
<font color="#CCCCCC">EBN s0 specification there's a long list</font>

292
00:14:46,600 --> 00:14:49,690
of RFC's now the next<font color="#E5E5E5"> slide</font><font color="#CCCCCC"> shows you</font>

293
00:14:48,670 --> 00:14:52,540
<font color="#CCCCCC">some of</font><font color="#E5E5E5"> the ones</font><font color="#CCCCCC"> that are in place</font>

294
00:14:49,690 --> 00:14:55,600
currently<font color="#E5E5E5"> with IANA the e DNS option</font>

295
00:14:52,540 --> 00:14:58,839
code for client subnet<font color="#CCCCCC"> is 8</font><font color="#E5E5E5"> now there's</font>

296
00:14:55,600 --> 00:15:00,970
in play there are<font color="#E5E5E5"> about</font><font color="#CCCCCC"> 12 rfcs in play</font>

297
00:14:58,840 --> 00:15:03,310
and about three to four drafts<font color="#E5E5E5"> in the</font>

298
00:15:00,970 --> 00:15:05,290
works<font color="#E5E5E5"> and there's some other uses of</font>

299
00:15:03,310 --> 00:15:07,719
these option codes that aren't even

300
00:15:05,290 --> 00:15:12,099
<font color="#E5E5E5">documented</font><font color="#CCCCCC"> okay this is why I got</font>

301
00:15:07,720 --> 00:15:13,930
<font color="#E5E5E5">involved in this talk</font><font color="#CCCCCC"> there are 65,535</font>

302
00:15:12,100 --> 00:15:17,140
different option codes<font color="#E5E5E5"> defined within</font>

303
00:15:13,930 --> 00:15:19,479
<font color="#E5E5E5">the eb and s0 options under these option</font>

304
00:15:17,140 --> 00:15:22,360
codes so<font color="#CCCCCC"> that gives you the</font><font color="#E5E5E5"> option to</font>

305
00:15:19,480 --> 00:15:24,400
<font color="#E5E5E5">have 65,000</font><font color="#CCCCCC"> different types of</font><font color="#E5E5E5"> data that</font>

306
00:15:22,360 --> 00:15:26,550
<font color="#CCCCCC">can be transferred inside a</font><font color="#E5E5E5"> dns packet</font>

307
00:15:24,400 --> 00:15:29,050
either in or<font color="#E5E5E5"> out</font><font color="#CCCCCC"> of the</font><font color="#E5E5E5"> network</font><font color="#CCCCCC"> ok</font>

308
00:15:26,550 --> 00:15:32,199
what we don't know<font color="#CCCCCC"> is what people</font><font color="#E5E5E5"> are</font>

309
00:15:29,050 --> 00:15:34,479
using<font color="#E5E5E5"> those packets for that we're not</font>

310
00:15:32,200 --> 00:15:37,000
monitoring or knowing about<font color="#E5E5E5"> right there</font>

311
00:15:34,480 --> 00:15:38,710
<font color="#CCCCCC">there that space exists</font><font color="#E5E5E5"> DNS servers will</font>

312
00:15:37,000 --> 00:15:40,510
forward that<font color="#E5E5E5"> data they will receive that</font>

313
00:15:38,710 --> 00:15:43,050
<font color="#E5E5E5">data so we don't really know what's</font>

314
00:15:40,510 --> 00:15:47,020
<font color="#CCCCCC">happening with</font><font color="#E5E5E5"> the undefined or unused</font>

315
00:15:43,050 --> 00:15:49,390
<font color="#E5E5E5">option codes in DNS this is a screenshot</font>

316
00:15:47,020 --> 00:15:52,720
from<font color="#E5E5E5"> the</font><font color="#CCCCCC"> I on a website</font><font color="#E5E5E5"> the section that</font>

317
00:15:49,390 --> 00:15:54,939
defines<font color="#CCCCCC"> e DNS 0 option codes they're</font>

318
00:15:52,720 --> 00:15:56,890
known as<font color="#E5E5E5"> opt it's a particular type of</font>

319
00:15:54,940 --> 00:15:59,230
NS<font color="#CCCCCC"> records same as an a record a pointer</font>

320
00:15:56,890 --> 00:16:04,810
and<font color="#E5E5E5"> opt record has a certain structure</font>

321
00:15:59,230 --> 00:16:08,350
<font color="#E5E5E5">and format here we go for the</font><font color="#CCCCCC"> option</font>

322
00:16:04,810 --> 00:16:10,780
<font color="#CCCCCC">resource record format is this if you</font>

323
00:16:08,350 --> 00:16:12,040
look at the record it's got a name the

324
00:16:10,780 --> 00:16:13,810
name always<font color="#E5E5E5"> has to be the root domain</font>

325
00:16:12,040 --> 00:16:15,939
don't ask me why but<font color="#E5E5E5"> that's the way they</font>

326
00:16:13,810 --> 00:16:18,849
set it up<font color="#E5E5E5"> the part that's interesting is</font>

327
00:16:15,940 --> 00:16:20,320
the very last<font color="#E5E5E5"> record the our data octet</font>

328
00:16:18,850 --> 00:16:22,750
stream that's where these name value

329
00:16:20,320 --> 00:16:25,210
pairs<font color="#CCCCCC"> the 65 thousand</font><font color="#E5E5E5"> three hundred</font>

330
00:16:22,750 --> 00:16:29,160
fifty<font color="#E5E5E5"> five different</font><font color="#CCCCCC"> options</font><font color="#E5E5E5"> could go in</font>

331
00:16:25,210 --> 00:16:31,630
this record stream as a name value pair

332
00:16:29,160 --> 00:16:34,089
so here's the structure<font color="#E5E5E5"> of what goes in</font>

333
00:16:31,630 --> 00:16:35,860
that<font color="#CCCCCC"> name value pair area and you'll see</font>

334
00:16:34,090 --> 00:16:38,740
<font color="#E5E5E5">that there's an option code which is the</font>

335
00:16:35,860 --> 00:16:42,040
<font color="#E5E5E5">number and a DNS client subnet is option</font>

336
00:16:38,740 --> 00:16:44,410
<font color="#E5E5E5">eight but it could be</font><font color="#CCCCCC"> one through 65 335</font>

337
00:16:42,040 --> 00:16:46,240
<font color="#E5E5E5">the length tells how many</font><font color="#CCCCCC"> bytes are in</font>

338
00:16:44,410 --> 00:16:48,010
the packet<font color="#E5E5E5"> that it needs to look at and</font>

339
00:16:46,240 --> 00:16:49,420
then<font color="#E5E5E5"> the option data and I'll show you</font>

340
00:16:48,010 --> 00:16:52,360
some<font color="#CCCCCC"> examples of</font><font color="#E5E5E5"> that that's going to be</font>

341
00:16:49,420 --> 00:16:55,660
the data<font color="#E5E5E5"> that's specific</font><font color="#CCCCCC"> for the RFC</font><font color="#E5E5E5"> for</font>

342
00:16:52,360 --> 00:16:58,660
that particular<font color="#CCCCCC"> option so this initial</font>

343
00:16:55,660 --> 00:17:01,569
draft came out in believes 2011 it was

344
00:16:58,660 --> 00:17:04,780
called the draft<font color="#E5E5E5"> van der gas a DNS</font>

345
00:17:01,570 --> 00:17:08,050
client<font color="#E5E5E5"> subnet zero so the way I</font><font color="#CCCCCC"> Ana</font>

346
00:17:04,780 --> 00:17:09,520
works in the ite<font color="#E5E5E5"> F is they give when</font>

347
00:17:08,050 --> 00:17:11,470
somebody requests the use of something

348
00:17:09,520 --> 00:17:14,470
<font color="#CCCCCC">particular</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> make an addition</font><font color="#E5E5E5"> or a</font>

349
00:17:11,470 --> 00:17:16,839
change to a known RFC protocol they

350
00:17:14,470 --> 00:17:18,670
first apply for a draft and<font color="#E5E5E5"> then it's</font>

351
00:17:16,839 --> 00:17:19,149
got<font color="#E5E5E5"> whoever the first author's name is</font>

352
00:17:18,670 --> 00:17:20,920
in it

353
00:17:19,150 --> 00:17:22,600
<font color="#E5E5E5">then the name</font><font color="#CCCCCC"> of that</font><font color="#E5E5E5"> draft or where it</font>

354
00:17:20,920 --> 00:17:26,290
falls in the<font color="#E5E5E5"> tree of that particular</font>

355
00:17:22,599 --> 00:17:28,569
protocol<font color="#E5E5E5"> so in this case draft person's</font>

356
00:17:26,290 --> 00:17:31,060
name van der<font color="#E5E5E5"> gas</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> DNS and then client</font>

357
00:17:28,569 --> 00:17:34,780
subnet<font color="#CCCCCC"> is the name of it</font><font color="#E5E5E5"> okay so you'll</font>

358
00:17:31,060 --> 00:17:37,480
see you can search<font color="#CCCCCC"> for rfcs that have -</font>

359
00:17:34,780 --> 00:17:40,090
a<font color="#E5E5E5"> DNS - in the names of them</font><font color="#CCCCCC"> and you'll</font>

360
00:17:37,480 --> 00:17:42,310
find all<font color="#CCCCCC"> the RFC s or drafts</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> come</font>

361
00:17:40,090 --> 00:17:45,090
up that<font color="#E5E5E5"> want to use these option codes</font>

362
00:17:42,310 --> 00:17:47,500
to shift data back and forth via<font color="#E5E5E5"> DNS</font>

363
00:17:45,090 --> 00:17:51,070
this was<font color="#E5E5E5"> submitted by a couple of</font><font color="#CCCCCC"> guys</font>

364
00:17:47,500 --> 00:17:53,770
<font color="#CCCCCC">from</font><font color="#E5E5E5"> Google</font><font color="#CCCCCC"> Verisign</font><font color="#E5E5E5"> a new Star</font><font color="#CCCCCC"> and 2011</font>

365
00:17:51,070 --> 00:17:55,360
really didn't<font color="#E5E5E5"> get</font><font color="#CCCCCC"> much attention the</font>

366
00:17:53,770 --> 00:17:59,110
second<font color="#CCCCCC"> revision to it interestingly</font>

367
00:17:55,360 --> 00:18:01,030
enough was submitted on July 4th 2013<font color="#CCCCCC"> so</font>

368
00:17:59,110 --> 00:18:02,919
I kind of look at<font color="#E5E5E5"> that as</font><font color="#CCCCCC"> like well and</font>

369
00:18:01,030 --> 00:18:05,200
Independence Day but<font color="#E5E5E5"> they're taking</font><font color="#CCCCCC"> away</font>

370
00:18:02,920 --> 00:18:08,050
<font color="#CCCCCC">our Independence to browse the Internet</font>

371
00:18:05,200 --> 00:18:11,110
seems a little<font color="#CCCCCC"> ironic than me</font><font color="#E5E5E5"> the next</font>

372
00:18:08,050 --> 00:18:14,470
<font color="#E5E5E5">draft was submitted by they added some</font>

373
00:18:11,110 --> 00:18:16,600
people from Akamai<font color="#E5E5E5"> in 2015 and there's a</font>

374
00:18:14,470 --> 00:18:17,950
very quick<font color="#E5E5E5"> history here now I put this</font>

375
00:18:16,600 --> 00:18:20,379
in here<font color="#CCCCCC"> because I want you to take</font>

376
00:18:17,950 --> 00:18:24,640
notice<font color="#CCCCCC"> we go from going back</font><font color="#E5E5E5"> to slide we</font>

377
00:18:20,380 --> 00:18:26,890
go<font color="#E5E5E5"> from 2011 to 2015 having the second</font>

378
00:18:24,640 --> 00:18:30,250
drafts put in right so it took<font color="#E5E5E5"> it for</font>

379
00:18:26,890 --> 00:18:32,710
years<font color="#E5E5E5"> now</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> sudden July 6 2015</font>

380
00:18:30,250 --> 00:18:35,370
revision to<font color="#E5E5E5"> revision</font><font color="#CCCCCC"> 3 in August</font>

381
00:18:32,710 --> 00:18:38,110
provision for in September revision<font color="#E5E5E5"> 5 in</font>

382
00:18:35,370 --> 00:18:41,409
December provision<font color="#E5E5E5"> 6 again in December</font>

383
00:18:38,110 --> 00:18:44,770
<font color="#CCCCCC">there was a mistake</font><font color="#E5E5E5"> in revision 5</font><font color="#CCCCCC"> risen</font>

384
00:18:41,410 --> 00:18:48,010
<font color="#E5E5E5">7 came out in March 8 in April and the</font>

385
00:18:44,770 --> 00:18:49,660
RFC was passed in May<font color="#CCCCCC"> of 2016 how many</font>

386
00:18:48,010 --> 00:18:55,510
of you knew that<font color="#CCCCCC"> that became an RFC last</font>

387
00:18:49,660 --> 00:18:58,570
year nobody right so this does this have

388
00:18:55,510 --> 00:19:01,680
a foul smell to<font color="#CCCCCC"> it when you see who's</font>

389
00:18:58,570 --> 00:19:04,480
<font color="#CCCCCC">behind what behind who's pushing this</font>

390
00:19:01,680 --> 00:19:08,260
<font color="#E5E5E5">Google Akamai a few others right the</font>

391
00:19:04,480 --> 00:19:09,130
cloud DNS<font color="#E5E5E5"> providers we'll get to why</font>

392
00:19:08,260 --> 00:19:10,840
they're doing<font color="#E5E5E5"> that</font>

393
00:19:09,130 --> 00:19:12,610
another interesting<font color="#CCCCCC"> thing which I</font>

394
00:19:10,840 --> 00:19:14,889
<font color="#E5E5E5">searched for patents on these e DNS</font>

395
00:19:12,610 --> 00:19:18,429
options<font color="#E5E5E5"> I did find that somebody tried</font>

396
00:19:14,890 --> 00:19:21,010
<font color="#CCCCCC">to submit to patent this the use of this</font>

397
00:19:18,430 --> 00:19:23,500
<font color="#E5E5E5">option both in the US and</font><font color="#CCCCCC"> in Europe that</font>

398
00:19:21,010 --> 00:19:26,410
tells you how much they value<font color="#CCCCCC"> these DNS</font>

399
00:19:23,500 --> 00:19:27,910
options and their use in<font color="#E5E5E5"> DNS traffic the</font>

400
00:19:26,410 --> 00:19:29,050
patents are still pending I don't think

401
00:19:27,910 --> 00:19:31,510
they're<font color="#E5E5E5"> going</font><font color="#CCCCCC"> to pass I don't think</font>

402
00:19:29,050 --> 00:19:33,100
they'll<font color="#E5E5E5"> ever get anywhere but they did</font>

403
00:19:31,510 --> 00:19:33,850
file the patents so we'll see what

404
00:19:33,100 --> 00:19:37,449
<font color="#E5E5E5">happens with that</font>

405
00:19:33,850 --> 00:19:40,540
so how does the DNS client subnet work

406
00:19:37,450 --> 00:19:43,720
when a query<font color="#E5E5E5"> is being resolved</font><font color="#CCCCCC"> normally</font>

407
00:19:40,540 --> 00:19:45,610
a client checks<font color="#E5E5E5"> sends a query</font><font color="#CCCCCC"> to its</font>

408
00:19:43,720 --> 00:19:47,740
resolving server or<font color="#CCCCCC"> its</font><font color="#E5E5E5"> ad server</font>

409
00:19:45,610 --> 00:19:49,540
whichever one it has a cache it checks

410
00:19:47,740 --> 00:19:51,190
the cache returns a result<font color="#E5E5E5"> of its there</font>

411
00:19:49,540 --> 00:19:54,810
otherwise<font color="#E5E5E5"> it forwards it on to the next</font>

412
00:19:51,190 --> 00:19:57,670
resolver upstream problem here if the

413
00:19:54,810 --> 00:20:00,429
DNS resolver<font color="#E5E5E5"> that you're querying</font>

414
00:19:57,670 --> 00:20:01,030
supports client subnet it's going to

415
00:20:00,430 --> 00:20:03,490
append

416
00:20:01,030 --> 00:20:05,980
your local IP address<font color="#E5E5E5"> or your machines</font>

417
00:20:03,490 --> 00:20:10,000
IP address in this<font color="#E5E5E5"> case to the DNS</font>

418
00:20:05,980 --> 00:20:11,890
packet in the<font color="#CCCCCC"> e DNS option</font><font color="#E5E5E5"> 8 our data</font>

419
00:20:10,000 --> 00:20:13,750
packet it's going to send that<font color="#E5E5E5"> up to the</font>

420
00:20:11,890 --> 00:20:15,670
<font color="#E5E5E5">next server the</font><font color="#CCCCCC"> next server is going to</font>

421
00:20:13,750 --> 00:20:18,010
<font color="#E5E5E5">say oh I support this</font><font color="#CCCCCC"> - I see</font><font color="#E5E5E5"> this came</font>

422
00:20:15,670 --> 00:20:18,450
from<font color="#E5E5E5"> that computer down there</font><font color="#CCCCCC"> ok I'm</font>

423
00:20:18,010 --> 00:20:19,620
just<font color="#E5E5E5"> going to</font>

424
00:20:18,450 --> 00:20:21,690
<font color="#CCCCCC">bordered on to the next</font><font color="#E5E5E5"> guy</font><font color="#CCCCCC"> and it keeps</font>

425
00:20:19,620 --> 00:20:23,639
going<font color="#E5E5E5"> up and</font><font color="#CCCCCC"> up the chain</font><font color="#E5E5E5"> the answer</font>

426
00:20:21,690 --> 00:20:26,340
comes back<font color="#E5E5E5"> and it what happens</font><font color="#CCCCCC"> then when</font>

427
00:20:23,640 --> 00:20:29,310
<font color="#E5E5E5">it reaches</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> name server</font><font color="#CCCCCC"> to part a the</font>

428
00:20:26,340 --> 00:20:32,310
<font color="#E5E5E5">damn servers work like this imagine</font>

429
00:20:29,310 --> 00:20:34,409
<font color="#CCCCCC">Google</font><font color="#E5E5E5"> has I'll just say five sites so</font>

430
00:20:32,310 --> 00:20:37,050
they have five<font color="#CCCCCC"> different</font><font color="#E5E5E5"> a records for</font>

431
00:20:34,410 --> 00:20:38,610
google.com<font color="#CCCCCC"> those five different a</font>

432
00:20:37,050 --> 00:20:41,190
records are<font color="#E5E5E5"> associated</font><font color="#CCCCCC"> with some</font>

433
00:20:38,610 --> 00:20:45,840
geolocation data that allows their

434
00:20:41,190 --> 00:20:48,780
proprietary DNS server<font color="#CCCCCC"> to find</font><font color="#E5E5E5"> the right</font>

435
00:20:45,840 --> 00:20:50,520
<font color="#E5E5E5">IP address for your geolocation compared</font>

436
00:20:48,780 --> 00:20:52,470
to theirs<font color="#CCCCCC"> so how does</font><font color="#E5E5E5"> it do</font><font color="#CCCCCC"> that how</font>

437
00:20:50,520 --> 00:20:54,690
<font color="#CCCCCC">does it know who the client is that made</font>

438
00:20:52,470 --> 00:20:56,670
the<font color="#E5E5E5"> request right the only way it does</font>

439
00:20:54,690 --> 00:20:58,860
that<font color="#E5E5E5"> is</font><font color="#CCCCCC"> because it sees in the DNS</font>

440
00:20:56,670 --> 00:21:01,740
packet the original requesting<font color="#E5E5E5"> client in</font>

441
00:20:58,860 --> 00:21:03,899
that<font color="#CCCCCC"> a DNS client subnet packet</font><font color="#E5E5E5"> so the</font>

442
00:21:01,740 --> 00:21:07,020
comparison returns the right<font color="#E5E5E5"> IP address</font>

443
00:21:03,900 --> 00:21:11,970
for the<font color="#E5E5E5"> client not the requesting DNS</font>

444
00:21:07,020 --> 00:21:14,790
server<font color="#E5E5E5"> okay so they're calling that CDN</font>

445
00:21:11,970 --> 00:21:17,210
<font color="#CCCCCC">thru DNS right we can do content</font>

446
00:21:14,790 --> 00:21:19,889
delivery based on DNS so there's

447
00:21:17,210 --> 00:21:21,480
hundreds of domains<font color="#E5E5E5"> that do this Netflix</font>

448
00:21:19,890 --> 00:21:24,360
does a<font color="#E5E5E5"> CloudFlare does it pretty much</font>

449
00:21:21,480 --> 00:21:26,670
everybody that delivers<font color="#CCCCCC"> content via</font><font color="#E5E5E5"> what</font>

450
00:21:24,360 --> 00:21:28,860
used to<font color="#CCCCCC"> be through web content delivery</font>

451
00:21:26,670 --> 00:21:31,950
now uses DNS content delivery to make

452
00:21:28,860 --> 00:21:33,540
<font color="#CCCCCC">your content</font><font color="#E5E5E5"> confessor so when the</font>

453
00:21:31,950 --> 00:21:34,890
client<font color="#CCCCCC"> gets the</font><font color="#E5E5E5"> data back they get the</font>

454
00:21:33,540 --> 00:21:37,409
data<font color="#E5E5E5"> that's supposed to direct them to</font>

455
00:21:34,890 --> 00:21:40,560
<font color="#CCCCCC">the</font><font color="#E5E5E5"> geo-located site that's nearest</font><font color="#CCCCCC"> to</font>

456
00:21:37,410 --> 00:21:42,420
them so here's one<font color="#CCCCCC"> of these packets look</font>

457
00:21:40,560 --> 00:21:44,760
like this is<font color="#E5E5E5"> the information</font><font color="#CCCCCC"> that's</font><font color="#E5E5E5"> in</font>

458
00:21:42,420 --> 00:21:46,200
there<font color="#CCCCCC"> you'll see</font><font color="#E5E5E5"> that there's the option</font>

459
00:21:44,760 --> 00:21:48,210
<font color="#E5E5E5">code</font><font color="#CCCCCC"> eight and it tells you the length</font>

460
00:21:46,200 --> 00:21:51,420
the rest of the data the option data

461
00:21:48,210 --> 00:21:53,190
family source<font color="#E5E5E5"> scope and subnet that's</font>

462
00:21:51,420 --> 00:21:56,670
all of the data that's put in the packet

463
00:21:53,190 --> 00:21:59,910
<font color="#E5E5E5">the source</font><font color="#CCCCCC"> net mask is the net mask</font><font color="#E5E5E5"> of</font>

464
00:21:56,670 --> 00:22:01,890
the local network<font color="#CCCCCC"> it's supposed</font><font color="#E5E5E5"> to be</font>

465
00:21:59,910 --> 00:22:05,010
transferred as a slash<font color="#CCCCCC"> twenty four or</font>

466
00:22:01,890 --> 00:22:08,040
greater<font color="#E5E5E5"> that's what the RFC says this is</font>

467
00:22:05,010 --> 00:22:12,240
what I got back from Google<font color="#E5E5E5"> slash 32</font>

468
00:22:08,040 --> 00:22:16,040
right so it tells me my my my single IP

469
00:22:12,240 --> 00:22:18,240
<font color="#E5E5E5">the scope net mask is the</font><font color="#CCCCCC"> scope</font><font color="#E5E5E5"> of the a</font>

470
00:22:16,040 --> 00:22:21,450
record<font color="#E5E5E5"> that was sent back</font><font color="#CCCCCC"> to me the</font>

471
00:22:18,240 --> 00:22:24,210
scope<font color="#CCCCCC"> based on my block that</font><font color="#E5E5E5"> was sent to</font>

472
00:22:21,450 --> 00:22:25,350
it<font color="#E5E5E5"> and</font><font color="#CCCCCC"> then this is actually</font><font color="#E5E5E5"> the client</font>

473
00:22:24,210 --> 00:22:28,410
<font color="#E5E5E5">that was actually doing the look of that</font>

474
00:22:25,350 --> 00:22:31,689
<font color="#CCCCCC">fifty IP address here's what a big</font>

475
00:22:28,410 --> 00:22:33,639
packet looks like when you use<font color="#E5E5E5"> the</font>

476
00:22:31,690 --> 00:22:34,809
<font color="#E5E5E5">Plus subnet</font><font color="#CCCCCC"> optional you can see it on</font>

477
00:22:33,639 --> 00:22:36,549
the<font color="#E5E5E5"> screen but you're doing a dig</font>

478
00:22:34,809 --> 00:22:38,110
against<font color="#CCCCCC"> Google and you had</font><font color="#E5E5E5"> plus subnet</font>

479
00:22:36,549 --> 00:22:40,509
equals and there's an IP address<font color="#E5E5E5"> there</font>

480
00:22:38,110 --> 00:22:43,120
that just<font color="#E5E5E5"> happens to be</font><font color="#CCCCCC"> on an IP address</font>

481
00:22:40,509 --> 00:22:45,460
in<font color="#E5E5E5"> our Dallas data center but the</font>

482
00:22:43,120 --> 00:22:47,439
<font color="#E5E5E5">interesting thing</font><font color="#CCCCCC"> isn't in the opposite</font>

483
00:22:45,460 --> 00:22:49,149
<font color="#CCCCCC">Code section</font><font color="#E5E5E5"> do</font><font color="#CCCCCC"> you saying different</font><font color="#E5E5E5"> in</font>

484
00:22:47,440 --> 00:22:52,389
there than what<font color="#E5E5E5"> you</font><font color="#CCCCCC"> normally</font><font color="#E5E5E5"> see in a</font>

485
00:22:49,149 --> 00:22:54,939
regular query so the second line right

486
00:22:52,389 --> 00:22:57,668
it says client - subnet : it's got the

487
00:22:54,940 --> 00:23:00,190
IP address and<font color="#CCCCCC"> then it's</font><font color="#E5E5E5"> got the slash</font>

488
00:22:57,669 --> 00:23:03,549
32 which is<font color="#E5E5E5"> the local subnet and then</font>

489
00:23:00,190 --> 00:23:06,100
the net for the<font color="#E5E5E5"> answer is in there it's</font>

490
00:23:03,549 --> 00:23:08,320
taking my IP<font color="#CCCCCC"> address and passing up the</font>

491
00:23:06,100 --> 00:23:09,969
chain and<font color="#E5E5E5"> it came</font><font color="#CCCCCC"> back in the query so I</font>

492
00:23:08,320 --> 00:23:12,879
know it went<font color="#CCCCCC"> through</font><font color="#E5E5E5"> the whole chain and</font>

493
00:23:09,970 --> 00:23:15,669
came back<font color="#CCCCCC"> without</font><font color="#E5E5E5"> being altered that</font>

494
00:23:12,879 --> 00:23:17,379
<font color="#E5E5E5">make sense</font><font color="#CCCCCC"> in the case</font><font color="#E5E5E5"> of a private</font><font color="#CCCCCC"> IP I</font>

495
00:23:15,669 --> 00:23:20,799
did<font color="#E5E5E5"> this</font><font color="#CCCCCC"> from</font><font color="#E5E5E5"> a</font><font color="#CCCCCC"> machine that was behind</font>

496
00:23:17,379 --> 00:23:23,590
a NAT<font color="#E5E5E5"> right so the private IP gets</font>

497
00:23:20,799 --> 00:23:25,480
lopped off by the<font color="#CCCCCC"> upstream provider and</font>

498
00:23:23,590 --> 00:23:28,178
the way an IP then gets swapped out and

499
00:23:25,480 --> 00:23:31,990
sent on<font color="#CCCCCC"> ok</font><font color="#E5E5E5"> so they can't find who you</font>

500
00:23:28,179 --> 00:23:34,929
are<font color="#E5E5E5"> who knows about ipv6 does not exist</font>

501
00:23:31,990 --> 00:23:36,909
in ipv6<font color="#CCCCCC"> there's no such thing as</font><font color="#E5E5E5"> Matt</font>

502
00:23:34,929 --> 00:23:39,399
right<font color="#E5E5E5"> there's no such thing as private</font>

503
00:23:36,909 --> 00:23:40,570
IP space<font color="#CCCCCC"> in ipv6 I want to tell you</font>

504
00:23:39,399 --> 00:23:42,399
about a couple<font color="#CCCCCC"> things that'll make your</font>

505
00:23:40,570 --> 00:23:43,600
hair<font color="#E5E5E5"> stand on end here near the end here</font>

506
00:23:42,399 --> 00:23:45,789
about what's going on with some<font color="#E5E5E5"> of the</font>

507
00:23:43,600 --> 00:23:48,009
other options<font color="#E5E5E5"> so this is what you get</font>

508
00:23:45,789 --> 00:23:50,379
when<font color="#E5E5E5"> you see a query that returns a</font>

509
00:23:48,009 --> 00:23:53,169
result<font color="#E5E5E5"> you know that upstream server</font>

510
00:23:50,379 --> 00:23:55,480
that you queried supports a<font color="#E5E5E5"> DNS client</font>

511
00:23:53,169 --> 00:23:57,009
subnet<font color="#E5E5E5"> as I said it puts the subnet data</font>

512
00:23:55,480 --> 00:24:01,480
and it came<font color="#CCCCCC"> back with an answer it says</font>

513
00:23:57,009 --> 00:24:05,740
I support<font color="#E5E5E5"> it now go back and aside some</font>

514
00:24:01,480 --> 00:24:08,919
servers upstream will bark when you send

515
00:24:05,740 --> 00:24:10,750
them<font color="#CCCCCC"> client subnet data Disney was a</font>

516
00:24:08,919 --> 00:24:13,690
great one<font color="#E5E5E5"> to do this one this first got</font>

517
00:24:10,750 --> 00:24:16,389
rolled out we deployed this in our<font color="#E5E5E5"> cache</font>

518
00:24:13,690 --> 00:24:18,250
<font color="#CCCCCC">center to send out</font><font color="#E5E5E5"> for our clients</font>

519
00:24:16,389 --> 00:24:20,168
<font color="#E5E5E5">because our clients are</font><font color="#CCCCCC"> not all in the</font>

520
00:24:18,250 --> 00:24:23,200
same area they're all over the region

521
00:24:20,169 --> 00:24:24,610
<font color="#CCCCCC">for</font><font color="#E5E5E5"> each data center so we noticed all</font>

522
00:24:23,200 --> 00:24:26,710
the sudden when we deployed this that

523
00:24:24,610 --> 00:24:29,199
Disney<font color="#E5E5E5"> would quit responding to queries</font>

524
00:24:26,710 --> 00:24:30,639
<font color="#E5E5E5">they thought that the data was malformed</font>

525
00:24:29,200 --> 00:24:33,730
so they weren't<font color="#E5E5E5"> following the RFC</font>

526
00:24:30,639 --> 00:24:34,990
so we had to do some trickery<font color="#E5E5E5"> to make</font>

527
00:24:33,730 --> 00:24:37,529
our queries get through to<font color="#E5E5E5"> them without</font>

528
00:24:34,990 --> 00:24:40,299
<font color="#E5E5E5">sending the client subnet data to them</font>

529
00:24:37,529 --> 00:24:41,769
but it's supposed<font color="#E5E5E5"> to be</font><font color="#CCCCCC"> if you get the</font>

530
00:24:40,299 --> 00:24:43,179
data<font color="#E5E5E5"> to</font><font color="#CCCCCC"> your server</font><font color="#E5E5E5"> and you don't</font>

531
00:24:41,769 --> 00:24:43,710
support it<font color="#E5E5E5"> you just ignore it and move</font>

532
00:24:43,179 --> 00:24:45,990
<font color="#E5E5E5">on</font>

533
00:24:43,710 --> 00:24:48,030
so there's two<font color="#CCCCCC"> kinds of</font><font color="#E5E5E5"> servers</font>

534
00:24:45,990 --> 00:24:50,730
obviously as authoritative servers and

535
00:24:48,030 --> 00:24:52,770
<font color="#E5E5E5">services right a server in my mind is</font>

536
00:24:50,730 --> 00:24:54,720
software<font color="#CCCCCC"> I can install or a box I can</font>

537
00:24:52,770 --> 00:24:57,900
<font color="#E5E5E5">run</font><font color="#CCCCCC"> service would</font><font color="#E5E5E5"> be something like</font>

538
00:24:54,720 --> 00:24:59,700
<font color="#E5E5E5">Google</font><font color="#CCCCCC"> recursive and authoritative the</font>

539
00:24:57,900 --> 00:25:01,920
authoritative ones have special

540
00:24:59,700 --> 00:25:04,770
proprietary<font color="#CCCCCC"> software's allow you to host</font>

541
00:25:01,920 --> 00:25:06,570
<font color="#CCCCCC">primary records on their</font><font color="#E5E5E5"> services for</font>

542
00:25:04,770 --> 00:25:09,870
<font color="#E5E5E5">geolocation it's a little bit more</font>

543
00:25:06,570 --> 00:25:10,980
complicated but it works by 9.11 is

544
00:25:09,870 --> 00:25:12,959
going to be released and it's going<font color="#E5E5E5"> to</font>

545
00:25:10,980 --> 00:25:15,450
<font color="#E5E5E5">support</font><font color="#CCCCCC"> it natively so you can configure</font>

546
00:25:12,960 --> 00:25:18,060
it and manage it<font color="#E5E5E5"> through text files own</font>

547
00:25:15,450 --> 00:25:19,500
files<font color="#CCCCCC"> yourself you want to</font><font color="#E5E5E5"> do that so</font>

548
00:25:18,060 --> 00:25:22,050
once that<font color="#E5E5E5"> rolls out you're going to see</font>

549
00:25:19,500 --> 00:25:24,870
<font color="#CCCCCC">a greater proliferation</font><font color="#E5E5E5"> of support for a</font>

550
00:25:22,050 --> 00:25:28,740
<font color="#E5E5E5">DNS client submit these recursive</font>

551
00:25:24,870 --> 00:25:30,810
servers all support<font color="#E5E5E5"> it now unbound</font><font color="#CCCCCC"> sent</font>

552
00:25:28,740 --> 00:25:34,560
aside if who uses<font color="#E5E5E5"> unbound as a DNS</font>

553
00:25:30,810 --> 00:25:39,960
caching resolver<font color="#E5E5E5"> you can put your hand</font>

554
00:25:34,560 --> 00:25:41,790
up<font color="#CCCCCC"> you're one</font><font color="#E5E5E5"> of the smarter ones so if</font>

555
00:25:39,960 --> 00:25:45,660
you're if<font color="#CCCCCC"> you're going to</font><font color="#E5E5E5"> deploy a cache</font>

556
00:25:41,790 --> 00:25:47,850
resolve or use unbalanced ears why<font color="#E5E5E5"> one</font>

557
00:25:45,660 --> 00:25:51,030
they support pre-emptive cache lookups

558
00:25:47,850 --> 00:25:53,280
<font color="#E5E5E5">so the service actually runs on the DNS</font>

559
00:25:51,030 --> 00:25:55,830
server<font color="#E5E5E5"> it monitors the</font><font color="#CCCCCC"> number of queries</font>

560
00:25:53,280 --> 00:25:57,720
<font color="#E5E5E5">coming for the various domains</font><font color="#CCCCCC"> it has in</font>

561
00:25:55,830 --> 00:25:59,580
the cache<font color="#E5E5E5"> if it sees a lot of queries</font>

562
00:25:57,720 --> 00:26:01,710
for example from<font color="#E5E5E5"> Google instead of</font>

563
00:25:59,580 --> 00:26:03,659
letting that expire in the<font color="#E5E5E5"> cache</font><font color="#CCCCCC"> it will</font>

564
00:26:01,710 --> 00:26:05,550
preemptively go out on the cut on<font color="#E5E5E5"> the</font>

565
00:26:03,660 --> 00:26:08,130
clients behalf and get the new updated

566
00:26:05,550 --> 00:26:09,570
<font color="#E5E5E5">data before the TTL runs out so</font><font color="#CCCCCC"> the</font>

567
00:26:08,130 --> 00:26:11,910
customer doesn't<font color="#E5E5E5"> take the hit for</font><font color="#CCCCCC"> the</font>

568
00:26:09,570 --> 00:26:14,220
latency on making that<font color="#E5E5E5"> work it's also</font>

569
00:26:11,910 --> 00:26:17,760
<font color="#E5E5E5">very lightweight it</font><font color="#CCCCCC"> has a very</font><font color="#E5E5E5"> small</font>

570
00:26:14,220 --> 00:26:18,990
footprint<font color="#E5E5E5"> and many fewer vulnerabilities</font>

571
00:26:17,760 --> 00:26:21,930
than<font color="#CCCCCC"> binds if you're gonna use</font><font color="#E5E5E5"> caching</font>

572
00:26:18,990 --> 00:26:23,790
<font color="#E5E5E5">server it's really the way to go but the</font>

573
00:26:21,930 --> 00:26:26,460
<font color="#E5E5E5">one point six</font><font color="#CCCCCC"> to the</font><font color="#E5E5E5"> latest release that</font>

574
00:26:23,790 --> 00:26:29,909
you can download off<font color="#CCCCCC"> of the unbound net</font>

575
00:26:26,460 --> 00:26:32,130
<font color="#CCCCCC">website now has</font><font color="#E5E5E5"> built-in support</font><font color="#CCCCCC"> for a</font>

576
00:26:29,910 --> 00:26:33,660
<font color="#E5E5E5">DNS client subnet so you configure it</font>

577
00:26:32,130 --> 00:26:36,740
<font color="#CCCCCC">and it works</font><font color="#E5E5E5"> out of</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> box</font>

578
00:26:33,660 --> 00:26:39,960
so this<font color="#E5E5E5"> just came out like two</font><font color="#CCCCCC"> weeks ago</font>

579
00:26:36,740 --> 00:26:43,320
<font color="#E5E5E5">so you're going</font><font color="#CCCCCC"> to see a huge spike in</font>

580
00:26:39,960 --> 00:26:45,420
<font color="#E5E5E5">the number</font><font color="#CCCCCC"> of cache resolvers that</font>

581
00:26:43,320 --> 00:26:47,960
transmit a DNS client<font color="#CCCCCC"> sudden</font><font color="#E5E5E5"> that data</font>

582
00:26:45,420 --> 00:26:50,230
through the DNS request chain

583
00:26:47,960 --> 00:26:51,500
these other servers supported as well

584
00:26:50,230 --> 00:26:55,300
<font color="#CCCCCC">OpenDNS</font>

585
00:26:51,500 --> 00:26:58,970
does they do some odd trickery<font color="#CCCCCC"> they use</font>

586
00:26:55,300 --> 00:27:01,190
two<font color="#CCCCCC"> different options</font><font color="#E5E5E5"> in the twenty two</font>

587
00:26:58,970 --> 00:27:03,700
<font color="#E5E5E5">thousand range to send specific</font>

588
00:27:01,190 --> 00:27:07,190
<font color="#E5E5E5">information</font><font color="#CCCCCC"> from</font><font color="#E5E5E5"> your particular</font>

589
00:27:03,700 --> 00:27:09,080
<font color="#E5E5E5">workstation to their servers if you have</font>

590
00:27:07,190 --> 00:27:10,640
the<font color="#CCCCCC"> open DNS or whether they call</font>

591
00:27:09,080 --> 00:27:13,820
<font color="#CCCCCC">umbrella client installed on your</font>

592
00:27:10,640 --> 00:27:15,620
machine<font color="#CCCCCC"> so it will actually reveal much</font>

593
00:27:13,820 --> 00:27:17,600
more<font color="#E5E5E5"> information about the workstation</font>

594
00:27:15,620 --> 00:27:20,090
<font color="#CCCCCC">its installed</font><font color="#E5E5E5"> on</font><font color="#CCCCCC"> then you might want to</font>

595
00:27:17,600 --> 00:27:23,240
be revealing so it's all say about that

596
00:27:20,090 --> 00:27:25,790
Amazon CloudFront<font color="#CCCCCC"> also supports</font><font color="#E5E5E5"> client</font>

597
00:27:23,240 --> 00:27:29,390
subnet data by<font color="#CCCCCC"> default</font><font color="#E5E5E5"> right</font><font color="#CCCCCC"> out of the</font>

598
00:27:25,790 --> 00:27:35,480
box<font color="#E5E5E5"> so if you're</font><font color="#CCCCCC"> doing engagements</font>

599
00:27:29,390 --> 00:27:37,820
behind Amazon CloudFront<font color="#E5E5E5"> right doing pen</font>

600
00:27:35,480 --> 00:27:39,560
test engagements are using their<font color="#E5E5E5"> DNS to</font>

601
00:27:37,820 --> 00:27:43,280
do your DNS lookup so you think that's a

602
00:27:39,560 --> 00:27:46,429
<font color="#CCCCCC">good thing</font><font color="#E5E5E5"> right</font><font color="#CCCCCC"> because they're</font><font color="#E5E5E5"> going</font>

603
00:27:43,280 --> 00:27:48,500
<font color="#E5E5E5">to broadcast</font><font color="#CCCCCC"> your</font><font color="#E5E5E5"> Amazon IP to everybody</font>

604
00:27:46,430 --> 00:27:49,090
in the chain right so how do you get

605
00:27:48,500 --> 00:27:51,800
around<font color="#E5E5E5"> that</font>

606
00:27:49,090 --> 00:27:53,629
<font color="#E5E5E5">I'm talk</font><font color="#CCCCCC"> about it a little</font><font color="#E5E5E5"> bit the basic</font>

607
00:27:51,800 --> 00:27:55,940
idea would be<font color="#E5E5E5"> you build your own DNS</font>

608
00:27:53,630 --> 00:27:58,040
server in the Amazon Cloud<font color="#CCCCCC"> turnoff a DNS</font>

609
00:27:55,940 --> 00:28:00,500
client subnet use it for resolution<font color="#E5E5E5"> and</font>

610
00:27:58,040 --> 00:28:06,350
it wouldn't forward any data<font color="#E5E5E5"> out past</font>

611
00:28:00,500 --> 00:28:09,410
your<font color="#E5E5E5"> pasture network so when this first</font>

612
00:28:06,350 --> 00:28:11,389
came<font color="#E5E5E5"> out in 2011 a consortium was formed</font>

613
00:28:09,410 --> 00:28:13,520
<font color="#E5E5E5">called a faster internet includes all</font>

614
00:28:11,390 --> 00:28:16,580
<font color="#E5E5E5">these players here the problem</font><font color="#CCCCCC"> with in</font>

615
00:28:13,520 --> 00:28:18,650
DNS client subnet is that nobody<font color="#CCCCCC"> is kept</font>

616
00:28:16,580 --> 00:28:20,540
<font color="#CCCCCC">a repository</font><font color="#E5E5E5"> as to who supports it who</font>

617
00:28:18,650 --> 00:28:22,160
doesn't<font color="#E5E5E5"> support it though from a primary</font>

618
00:28:20,540 --> 00:28:25,280
<font color="#CCCCCC">and from a</font><font color="#E5E5E5"> caching</font><font color="#CCCCCC"> side so</font><font color="#E5E5E5"> it's very</font>

619
00:28:22,160 --> 00:28:26,570
<font color="#E5E5E5">difficult to tell how</font><font color="#CCCCCC"> it impacts</font><font color="#E5E5E5"> your</font>

620
00:28:25,280 --> 00:28:29,750
network and<font color="#E5E5E5"> how it's</font><font color="#CCCCCC"> going</font><font color="#E5E5E5"> to impact</font>

621
00:28:26,570 --> 00:28:31,490
<font color="#CCCCCC">your browsing in your privacy</font><font color="#E5E5E5"> so this</font>

622
00:28:29,750 --> 00:28:34,430
website hasn't<font color="#E5E5E5"> been updated</font><font color="#CCCCCC"> in quite</font>

623
00:28:31,490 --> 00:28:36,200
some<font color="#E5E5E5"> time as you can tell cause</font><font color="#CCCCCC"> amazon</font>

624
00:28:34,430 --> 00:28:40,550
changed their name to<font color="#E5E5E5"> Amazon CloudFront</font>

625
00:28:36,200 --> 00:28:42,410
<font color="#E5E5E5">services now this is an example of that</font>

626
00:28:40,550 --> 00:28:44,480
one of<font color="#CCCCCC"> the providers</font><font color="#E5E5E5"> put on their</font>

627
00:28:42,410 --> 00:28:46,180
<font color="#CCCCCC">website I stole it from them the name</font>

628
00:28:44,480 --> 00:28:49,190
where I got us down there<font color="#E5E5E5"> in the bottom</font>

629
00:28:46,180 --> 00:28:50,900
<font color="#E5E5E5">basically</font><font color="#CCCCCC"> this</font><font color="#E5E5E5"> just shows how you</font><font color="#CCCCCC"> can</font>

630
00:28:49,190 --> 00:28:52,910
send<font color="#E5E5E5"> a DNS query all the way around the</font>

631
00:28:50,900 --> 00:28:54,380
globe<font color="#CCCCCC"> if that server is answering based</font>

632
00:28:52,910 --> 00:28:57,100
on geolocation it's still going to

633
00:28:54,380 --> 00:28:59,030
return the IP address for<font color="#E5E5E5"> the nearest</font>

634
00:28:57,100 --> 00:29:00,179
content that you're looking for on the

635
00:28:59,030 --> 00:29:02,980
<font color="#E5E5E5">Internet</font>

636
00:29:00,180 --> 00:29:05,710
so<font color="#E5E5E5"> it kind of works like</font><font color="#CCCCCC"> this</font><font color="#E5E5E5"> the</font>

637
00:29:02,980 --> 00:29:08,710
clients in Kansas here there's these six

638
00:29:05,710 --> 00:29:10,930
different<font color="#E5E5E5"> data centers globally</font><font color="#CCCCCC"> and the</font>

639
00:29:08,710 --> 00:29:14,530
client makes a<font color="#E5E5E5"> DNS query how does the</font>

640
00:29:10,930 --> 00:29:16,000
DNS server<font color="#CCCCCC"> know which data center to</font>

641
00:29:14,530 --> 00:29:18,970
send that client<font color="#E5E5E5"> to and it's all based</font>

642
00:29:16,000 --> 00:29:20,740
on geolocation so in<font color="#E5E5E5"> this case the one</font>

643
00:29:18,970 --> 00:29:22,810
that's in Denver would probably be the

644
00:29:20,740 --> 00:29:24,670
closest by geolocation so that IP

645
00:29:22,810 --> 00:29:27,220
address would<font color="#E5E5E5"> be turned returned in the</font>

646
00:29:24,670 --> 00:29:29,740
a record by an authoritative server that

647
00:29:27,220 --> 00:29:34,030
supports<font color="#E5E5E5"> the e DNS client subnet</font>

648
00:29:29,740 --> 00:29:37,270
information<font color="#E5E5E5"> so and again to a few tricks</font>

649
00:29:34,030 --> 00:29:39,160
here for<font color="#E5E5E5"> testing so what I guess I said</font>

650
00:29:37,270 --> 00:29:42,879
<font color="#E5E5E5">earlier there's no registry or</font>

651
00:29:39,160 --> 00:29:45,250
repository<font color="#E5E5E5"> of providers that support is</font>

652
00:29:42,880 --> 00:29:47,530
caching or authoritative side again<font color="#E5E5E5"> the</font>

653
00:29:45,250 --> 00:29:49,720
faster<font color="#E5E5E5"> internet is not current</font>

654
00:29:47,530 --> 00:29:52,690
there's no registry<font color="#E5E5E5"> listing for</font>

655
00:29:49,720 --> 00:29:54,640
recursive providers either<font color="#CCCCCC"> the services</font>

656
00:29:52,690 --> 00:29:57,700
<font color="#E5E5E5">that are coming out the software unbound</font>

657
00:29:54,640 --> 00:29:59,500
<font color="#E5E5E5">and buying now support it the</font><font color="#CCCCCC"> thine is</font>

658
00:29:57,700 --> 00:30:01,960
in version<font color="#E5E5E5"> 9.11 that's not the</font>

659
00:29:59,500 --> 00:30:04,390
<font color="#E5E5E5">mainstream that's the beta process that</font>

660
00:30:01,960 --> 00:30:06,790
they're working<font color="#E5E5E5"> on now so we can use</font>

661
00:30:04,390 --> 00:30:08,440
<font color="#E5E5E5">some tricks for testing this and I</font>

662
00:30:06,790 --> 00:30:11,470
didn't have time to take<font color="#E5E5E5"> the top one out</font>

663
00:30:08,440 --> 00:30:13,660
<font color="#CCCCCC">unfortunately the top one here is at dig</font>

664
00:30:11,470 --> 00:30:17,250
command<font color="#E5E5E5"> and this has to be</font><font color="#CCCCCC"> done on</font>

665
00:30:13,660 --> 00:30:19,630
Windows unfortunately because the<font color="#CCCCCC"> plus</font>

666
00:30:17,250 --> 00:30:21,910
subnet option when you use the<font color="#CCCCCC"> Plus</font>

667
00:30:19,630 --> 00:30:23,530
subnet option it doesn't work in some

668
00:30:21,910 --> 00:30:26,980
versions of<font color="#E5E5E5"> Linux because of the way</font>

669
00:30:23,530 --> 00:30:30,460
bond gets installed so an aside if you

670
00:30:26,980 --> 00:30:33,220
<font color="#E5E5E5">want to install dig on Windows go to is</font>

671
00:30:30,460 --> 00:30:35,560
<font color="#E5E5E5">C org download the Windows zip file for</font>

672
00:30:33,220 --> 00:30:37,450
<font color="#E5E5E5">all the bind installs there's nothing to</font>

673
00:30:35,560 --> 00:30:40,450
install<font color="#E5E5E5"> just unzip that file into</font><font color="#CCCCCC"> a</font>

674
00:30:37,450 --> 00:30:43,660
folder<font color="#CCCCCC"> on</font><font color="#E5E5E5"> your computer</font><font color="#CCCCCC"> like</font><font color="#E5E5E5"> C backslash</font>

675
00:30:40,450 --> 00:30:46,360
dig and then<font color="#E5E5E5"> run dig put it in your path</font>

676
00:30:43,660 --> 00:30:49,540
<font color="#E5E5E5">and run dig it'll work okay</font><font color="#CCCCCC"> much easier</font>

677
00:30:46,360 --> 00:30:52,530
to<font color="#CCCCCC"> use then look</font><font color="#E5E5E5"> up so the first one</font>

678
00:30:49,540 --> 00:30:54,610
here we're actually using<font color="#E5E5E5"> a dig against</font>

679
00:30:52,530 --> 00:30:57,940
Google and we're getting<font color="#E5E5E5"> a short return</font>

680
00:30:54,610 --> 00:31:01,240
<font color="#E5E5E5">in this domain here a DNS that's client</font>

681
00:30:57,940 --> 00:31:03,310
that subnet<font color="#CCCCCC"> is registered and it was</font>

682
00:31:01,240 --> 00:31:06,310
<font color="#CCCCCC">registered by power DNS and for a while</font>

683
00:31:03,310 --> 00:31:07,720
they<font color="#E5E5E5"> were returning JSON data that gave</font>

684
00:31:06,310 --> 00:31:10,000
you a whole<font color="#E5E5E5"> lot of insight</font><font color="#CCCCCC"> into</font><font color="#E5E5E5"> what was</font>

685
00:31:07,720 --> 00:31:11,389
<font color="#CCCCCC">going on</font><font color="#E5E5E5"> at a DNS now last time I tested</font>

686
00:31:10,000 --> 00:31:13,669
this a couple days ago

687
00:31:11,389 --> 00:31:15,049
<font color="#CCCCCC">it didn't work so</font><font color="#E5E5E5"> I think they took it</font>

688
00:31:13,669 --> 00:31:16,999
<font color="#CCCCCC">down but I'm going</font><font color="#E5E5E5"> to leave it in the</font>

689
00:31:15,049 --> 00:31:18,940
slides in case somebody wants<font color="#E5E5E5"> it in the</font>

690
00:31:16,999 --> 00:31:21,859
presentation<font color="#E5E5E5"> they may put it back</font><font color="#CCCCCC"> online</font>

691
00:31:18,940 --> 00:31:24,320
<font color="#E5E5E5">as a second use of</font><font color="#CCCCCC"> dig here where you</font>

692
00:31:21,859 --> 00:31:25,369
use this<font color="#CCCCCC"> Plus subnet option will</font>

693
00:31:24,320 --> 00:31:28,099
actually work

694
00:31:25,369 --> 00:31:30,139
so basically dig you target<font color="#E5E5E5"> dig at</font>

695
00:31:28,099 --> 00:31:32,539
<font color="#E5E5E5">whatever name server you want to</font><font color="#CCCCCC"> target</font>

696
00:31:30,139 --> 00:31:34,718
<font color="#E5E5E5">and then you just use the Plus subnet</font>

697
00:31:32,539 --> 00:31:38,149
add that on there<font color="#E5E5E5"> if you start to see</font>

698
00:31:34,719 --> 00:31:40,369
<font color="#E5E5E5">one you'll see the data come back in the</font>

699
00:31:38,149 --> 00:31:42,320
option pseudo section but also<font color="#E5E5E5"> you'll</font>

700
00:31:40,369 --> 00:31:44,839
<font color="#CCCCCC">see different IP addresses come back</font>

701
00:31:42,320 --> 00:31:49,039
depending on the IP address that<font color="#CCCCCC"> you</font><font color="#E5E5E5"> put</font>

702
00:31:44,839 --> 00:31:50,509
into<font color="#E5E5E5"> a client subnet so you can anybody</font>

703
00:31:49,039 --> 00:31:52,369
see a<font color="#E5E5E5"> little vulnerability and client</font>

704
00:31:50,509 --> 00:31:55,669
subnet just from what I showed<font color="#CCCCCC"> you here</font>

705
00:31:52,369 --> 00:31:57,738
with dig right so you can use dig<font color="#E5E5E5"> to</font>

706
00:31:55,669 --> 00:31:59,269
tell an upstream provider that<font color="#E5E5E5"> you're</font>

707
00:31:57,739 --> 00:32:01,129
somebody<font color="#E5E5E5"> different than who you really</font>

708
00:31:59,269 --> 00:32:04,309
are right<font color="#E5E5E5"> there's no security in the</font>

709
00:32:01,129 --> 00:32:07,279
option subnet<font color="#E5E5E5"> that's sent to the</font>

710
00:32:04,309 --> 00:32:10,579
upstream<font color="#E5E5E5"> servers so if you wanted to for</font>

711
00:32:07,279 --> 00:32:15,200
example<font color="#CCCCCC"> make it look like your</font><font color="#E5E5E5"> neighbors</font>

712
00:32:10,579 --> 00:32:17,299
browsing porn use their subnet and start

713
00:32:15,200 --> 00:32:19,999
sending<font color="#CCCCCC"> a ton of data to upstream</font>

714
00:32:17,299 --> 00:32:22,459
providers right somebody might take note

715
00:32:19,999 --> 00:32:25,399
of that<font color="#E5E5E5"> information being gathered by</font>

716
00:32:22,459 --> 00:32:29,059
the<font color="#E5E5E5"> upstream servers and you could do</font>

717
00:32:25,399 --> 00:32:31,639
some really<font color="#E5E5E5"> strange</font><font color="#CCCCCC"> things with the</font><font color="#E5E5E5"> data</font>

718
00:32:29,059 --> 00:32:33,320
<font color="#E5E5E5">that goes out so let you get back this</font>

719
00:32:31,639 --> 00:32:36,079
again we looked at this earlier<font color="#E5E5E5"> the</font>

720
00:32:33,320 --> 00:32:37,958
important part is<font color="#E5E5E5"> in the</font><font color="#CCCCCC"> option</font><font color="#E5E5E5"> pseudo</font>

721
00:32:36,079 --> 00:32:40,759
section you'll see<font color="#E5E5E5"> the client subnet</font>

722
00:32:37,959 --> 00:32:43,519
<font color="#E5E5E5">data in there if that's in there that's</font>

723
00:32:40,759 --> 00:32:45,320
<font color="#E5E5E5">that server upstream supports it</font><font color="#CCCCCC"> okay</font>

724
00:32:43,519 --> 00:32:49,309
because here<font color="#E5E5E5"> in dig you're doing a query</font>

725
00:32:45,320 --> 00:32:51,589
<font color="#E5E5E5">directly against the server so if if a</font>

726
00:32:49,309 --> 00:32:53,149
<font color="#E5E5E5">servers authoritative for a domain if</font>

727
00:32:51,589 --> 00:32:55,129
they are authoritative<font color="#E5E5E5"> for like</font>

728
00:32:53,149 --> 00:32:56,988
Microsoft you can<font color="#E5E5E5"> query that server for</font>

729
00:32:55,129 --> 00:32:58,728
microsoft.com<font color="#CCCCCC"> and it will respond to you</font>

730
00:32:56,989 --> 00:33:00,349
<font color="#CCCCCC">if they're not if it's an authoritative</font>

731
00:32:58,729 --> 00:33:03,079
server and they're not authoritative for

732
00:33:00,349 --> 00:33:04,579
a domain you'll get recursion denied

733
00:33:03,079 --> 00:33:06,499
<font color="#CCCCCC">back from</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> servant notes and</font>

734
00:33:04,579 --> 00:33:07,849
authoritative server<font color="#E5E5E5"> recursive servers</font>

735
00:33:06,499 --> 00:33:09,200
don't<font color="#E5E5E5"> care they'll just answer for</font>

736
00:33:07,849 --> 00:33:12,739
<font color="#E5E5E5">anybody as long</font><font color="#CCCCCC"> as you're allowed to</font>

737
00:33:09,200 --> 00:33:16,099
connect to<font color="#E5E5E5"> that server</font><font color="#CCCCCC"> alright so how</font>

738
00:33:12,739 --> 00:33:17,989
can we also test with other ways to test

739
00:33:16,099 --> 00:33:20,928
one<font color="#CCCCCC"> of the things it's a</font><font color="#E5E5E5"> really cool</font>

740
00:33:17,989 --> 00:33:23,309
tool<font color="#E5E5E5"> if you're familiar with it</font><font color="#CCCCCC"> it's</font>

741
00:33:20,929 --> 00:33:26,970
part of the elk stack is<font color="#E5E5E5"> the packet</font><font color="#CCCCCC"> be</font>

742
00:33:23,309 --> 00:33:28,230
<font color="#E5E5E5">has anybody used that yes so you can</font>

743
00:33:26,970 --> 00:33:32,190
install this on<font color="#CCCCCC"> your DNS server</font>

744
00:33:28,230 --> 00:33:33,809
<font color="#E5E5E5">basically it's a out-of-band network</font>

745
00:33:32,190 --> 00:33:35,220
analyzer with several<font color="#CCCCCC"> different</font>

746
00:33:33,809 --> 00:33:38,158
protocols that<font color="#E5E5E5"> are built in one of them</font>

747
00:33:35,220 --> 00:33:40,080
is DNS it will grab all the DNS<font color="#CCCCCC"> traffic</font>

748
00:33:38,159 --> 00:33:41,940
it will<font color="#E5E5E5"> parse it out into a nice little</font>

749
00:33:40,080 --> 00:33:44,879
packet and send it wherever you want<font color="#CCCCCC"> it</font>

750
00:33:41,940 --> 00:33:46,049
<font color="#CCCCCC">to</font><font color="#E5E5E5"> go and in my case I use</font><font color="#CCCCCC"> Greylock to</font>

751
00:33:44,879 --> 00:33:48,269
do it<font color="#E5E5E5"> because we</font><font color="#CCCCCC"> already have</font><font color="#E5E5E5"> that built</font>

752
00:33:46,049 --> 00:33:50,129
<font color="#E5E5E5">into our environment for monitoring so</font>

753
00:33:48,269 --> 00:33:52,409
we can<font color="#CCCCCC"> actually</font><font color="#E5E5E5"> send all</font><font color="#CCCCCC"> of our data</font>

754
00:33:50,129 --> 00:33:55,259
<font color="#E5E5E5">from our</font><font color="#CCCCCC"> cache servers on our</font>

755
00:33:52,409 --> 00:33:58,860
authoritative servers to<font color="#CCCCCC"> gray log and we</font>

756
00:33:55,259 --> 00:34:00,899
can actually see whether servers are

757
00:33:58,860 --> 00:34:04,350
returning<font color="#E5E5E5"> the</font><font color="#CCCCCC"> clients subnet data in the</font>

758
00:34:00,899 --> 00:34:05,549
packet<font color="#E5E5E5"> what you could do if you really</font>

759
00:34:04,350 --> 00:34:07,649
wanted to go further you<font color="#E5E5E5"> can create a</font>

760
00:34:05,549 --> 00:34:10,139
stream and<font color="#E5E5E5"> tag all the DNS messages that</font>

761
00:34:07,649 --> 00:34:11,819
have that<font color="#E5E5E5"> field in there and then set</font>

762
00:34:10,139 --> 00:34:13,800
alerts on that if you wanted to see<font color="#E5E5E5"> what</font>

763
00:34:11,819 --> 00:34:15,029
<font color="#CCCCCC">kind of name servers</font><font color="#E5E5E5"> were doing it I</font>

764
00:34:13,800 --> 00:34:18,030
<font color="#E5E5E5">don't know if you can see this real well</font>

765
00:34:15,030 --> 00:34:21,060
but<font color="#CCCCCC"> this is a picture</font><font color="#E5E5E5"> here of from our</font>

766
00:34:18,030 --> 00:34:23,460
<font color="#E5E5E5">cache servers in an ISP settings so this</font>

767
00:34:21,060 --> 00:34:25,859
is not out of the realm that<font color="#E5E5E5"> any ISP</font>

768
00:34:23,460 --> 00:34:27,949
could do this<font color="#E5E5E5"> right so this</font><font color="#CCCCCC"> is a there's</font>

769
00:34:25,859 --> 00:34:30,899
<font color="#CCCCCC">four cached servers that report to this</font>

770
00:34:27,949 --> 00:34:32,819
<font color="#E5E5E5">gray log set up those cache servers are</font>

771
00:34:30,899 --> 00:34:34,199
all running<font color="#E5E5E5"> packet beats so when</font>

772
00:34:32,819 --> 00:34:36,300
somebody hits<font color="#E5E5E5"> that cluster of</font><font color="#CCCCCC"> cache</font>

773
00:34:34,199 --> 00:34:38,040
servers the queries come in they come

774
00:34:36,300 --> 00:34:40,440
back and<font color="#E5E5E5"> we're able to filter through to</font>

775
00:34:38,040 --> 00:34:43,500
see which upstream providers provide

776
00:34:40,440 --> 00:34:45,300
clients<font color="#E5E5E5"> of that information</font><font color="#CCCCCC"> back to</font><font color="#E5E5E5"> the</font>

777
00:34:43,500 --> 00:34:50,010
requester which is our cache server and

778
00:34:45,300 --> 00:34:52,109
the clients below it we can also use

779
00:34:50,010 --> 00:34:55,649
Wireshark<font color="#E5E5E5"> we can capture traffic on a</font>

780
00:34:52,109 --> 00:34:57,180
local interface<font color="#E5E5E5"> or do a</font><font color="#CCCCCC"> TCP dump what</font>

781
00:34:55,649 --> 00:34:58,859
will<font color="#E5E5E5"> happen</font><font color="#CCCCCC"> then is we can take that and</font>

782
00:34:57,180 --> 00:35:00,960
we can<font color="#E5E5E5"> filter that using some</font><font color="#CCCCCC"> of the</font>

783
00:34:58,859 --> 00:35:02,910
filters<font color="#CCCCCC"> that are in Wireshark</font><font color="#E5E5E5"> the</font>

784
00:35:00,960 --> 00:35:05,670
biggest filter is the<font color="#E5E5E5"> DNS option code</font>

785
00:35:02,910 --> 00:35:07,589
<font color="#CCCCCC">double equals you can either leave the</font>

786
00:35:05,670 --> 00:35:09,780
double equals and the number off and get

787
00:35:07,589 --> 00:35:11,730
<font color="#E5E5E5">all of the DNS packets that had option</font>

788
00:35:09,780 --> 00:35:14,880
codes in them<font color="#CCCCCC"> or you</font><font color="#E5E5E5"> can search</font><font color="#CCCCCC"> by</font><font color="#E5E5E5"> the</font>

789
00:35:11,730 --> 00:35:16,800
number anywhere from<font color="#E5E5E5"> 1 through 65 335</font>

790
00:35:14,880 --> 00:35:18,030
and see what's out there<font color="#E5E5E5"> so it's a fun</font>

791
00:35:16,800 --> 00:35:20,130
<font color="#E5E5E5">little game you might want to do</font><font color="#CCCCCC"> that</font>

792
00:35:18,030 --> 00:35:21,930
with some DNS<font color="#E5E5E5"> traffic on your network</font>

793
00:35:20,130 --> 00:35:25,200
from time to time to see<font color="#E5E5E5"> how that's</font>

794
00:35:21,930 --> 00:35:28,379
changing note in the data the data

795
00:35:25,200 --> 00:35:30,089
<font color="#E5E5E5">that's included</font><font color="#CCCCCC"> in our our data is there</font>

796
00:35:28,380 --> 00:35:31,380
highlighted in yellow so that's the kind

797
00:35:30,089 --> 00:35:33,450
of<font color="#E5E5E5"> information you would see in the</font>

798
00:35:31,380 --> 00:35:35,609
wireshark capture and I've expanded<font color="#E5E5E5"> all</font>

799
00:35:33,450 --> 00:35:36,560
that out so you<font color="#CCCCCC"> have</font><font color="#E5E5E5"> to expand that</font><font color="#CCCCCC"> out</font>

800
00:35:35,609 --> 00:35:40,069
in the view<font color="#CCCCCC"> and</font>

801
00:35:36,560 --> 00:35:42,700
<font color="#CCCCCC">Wireshark</font><font color="#E5E5E5"> to be</font><font color="#CCCCCC"> able</font><font color="#E5E5E5"> to see it all here</font>

802
00:35:40,070 --> 00:35:46,040
<font color="#E5E5E5">again is a bigger picture the same thing</font>

803
00:35:42,700 --> 00:35:47,290
<font color="#E5E5E5">you can see the data that's highlighted</font>

804
00:35:46,040 --> 00:35:49,970
<font color="#E5E5E5">there</font>

805
00:35:47,290 --> 00:35:52,279
there is also an nmap script that

806
00:35:49,970 --> 00:35:54,649
<font color="#E5E5E5">somebody wrote several</font><font color="#CCCCCC"> years</font><font color="#E5E5E5"> ago to test</font>

807
00:35:52,280 --> 00:35:57,380
for the ability<font color="#CCCCCC"> to support a DNS</font><font color="#E5E5E5"> client</font>

808
00:35:54,650 --> 00:35:58,970
subnet upstream from you<font color="#E5E5E5"> it's kind</font><font color="#CCCCCC"> of</font>

809
00:35:57,380 --> 00:36:01,370
limited in<font color="#E5E5E5"> its use it's not really</font>

810
00:35:58,970 --> 00:36:03,770
useful<font color="#E5E5E5"> anymore since</font><font color="#CCCCCC"> Big has it</font><font color="#E5E5E5"> built in</font>

811
00:36:01,370 --> 00:36:05,299
you can<font color="#CCCCCC"> just do it directly with dig</font><font color="#E5E5E5"> it</font>

812
00:36:03,770 --> 00:36:06,680
does work<font color="#E5E5E5"> so if you're doing an</font>

813
00:36:05,300 --> 00:36:08,300
engagement you want to check this you

814
00:36:06,680 --> 00:36:12,500
<font color="#E5E5E5">can make</font><font color="#CCCCCC"> it</font><font color="#E5E5E5"> part of a script that you</font>

815
00:36:08,300 --> 00:36:14,270
run<font color="#E5E5E5"> see if it works</font><font color="#CCCCCC"> the last thing here</font>

816
00:36:12,500 --> 00:36:17,000
is we<font color="#CCCCCC"> can roll our own we're working on</font>

817
00:36:14,270 --> 00:36:19,070
doing<font color="#E5E5E5"> a test against the Alexa top 1</font>

818
00:36:17,000 --> 00:36:21,020
million sites to see which<font color="#E5E5E5"> ones support</font>

819
00:36:19,070 --> 00:36:23,270
and don't support<font color="#CCCCCC"> easy MS</font><font color="#E5E5E5"> client subnet</font>

820
00:36:21,020 --> 00:36:25,070
our goal is really<font color="#E5E5E5"> to write something</font>

821
00:36:23,270 --> 00:36:27,020
that<font color="#E5E5E5"> will run on a recurring basis so we</font>

822
00:36:25,070 --> 00:36:29,060
can see trends<font color="#E5E5E5"> and</font><font color="#CCCCCC"> changes and the</font>

823
00:36:27,020 --> 00:36:32,720
implementation of EDS<font color="#E5E5E5"> client sudden that</font>

824
00:36:29,060 --> 00:36:35,270
over time<font color="#CCCCCC"> problem is we need</font><font color="#E5E5E5"> to run this</font>

825
00:36:32,720 --> 00:36:37,549
just<font color="#E5E5E5"> on a</font><font color="#CCCCCC"> regular basis like every day</font>

826
00:36:35,270 --> 00:36:40,100
<font color="#E5E5E5">it takes a while</font><font color="#CCCCCC"> to scan</font><font color="#E5E5E5"> 1 million names</font>

827
00:36:37,550 --> 00:36:42,470
first<font color="#E5E5E5"> and</font><font color="#CCCCCC"> they change right the top 1</font>

828
00:36:40,100 --> 00:36:43,700
million change every so often so we can

829
00:36:42,470 --> 00:36:45,770
actually<font color="#CCCCCC"> go through</font><font color="#E5E5E5"> and parse out the</font>

830
00:36:43,700 --> 00:36:47,720
<font color="#E5E5E5">data</font><font color="#CCCCCC"> run</font><font color="#E5E5E5"> a Python</font><font color="#CCCCCC"> script to pull out the</font>

831
00:36:45,770 --> 00:36:50,480
<font color="#CCCCCC">EECS</font><font color="#E5E5E5"> data and see what trends are</font>

832
00:36:47,720 --> 00:36:53,120
happening<font color="#E5E5E5"> with that so why is</font><font color="#CCCCCC"> e CS bad</font>

833
00:36:50,480 --> 00:36:56,300
for security one<font color="#E5E5E5"> it leaks information</font>

834
00:36:53,120 --> 00:36:59,960
<font color="#E5E5E5">pretty badly</font><font color="#CCCCCC"> and again we're using this</font>

835
00:36:56,300 --> 00:37:02,180
<font color="#E5E5E5">e CS client subnet B DNS client subnet</font>

836
00:36:59,960 --> 00:37:05,150
as an<font color="#E5E5E5"> example of the greater problem</font>

837
00:37:02,180 --> 00:37:07,700
<font color="#E5E5E5">with option codes in the e DNS zero</font>

838
00:37:05,150 --> 00:37:09,500
<font color="#E5E5E5">packets so it leaks</font><font color="#CCCCCC"> information every</font>

839
00:37:07,700 --> 00:37:13,160
DNS server in the chain that's touched

840
00:37:09,500 --> 00:37:15,500
gets access to<font color="#E5E5E5"> your</font><font color="#CCCCCC"> client</font><font color="#E5E5E5"> IP if it</font>

841
00:37:13,160 --> 00:37:17,149
wants it<font color="#E5E5E5"> there's no way to honor any</font>

842
00:37:15,500 --> 00:37:19,780
subnet restrictions<font color="#E5E5E5"> the interesting</font>

843
00:37:17,150 --> 00:37:23,060
<font color="#E5E5E5">thing is all the RFC s</font>

844
00:37:19,780 --> 00:37:24,860
they call<font color="#E5E5E5"> for they spell</font><font color="#CCCCCC"> out very</font>

845
00:37:23,060 --> 00:37:26,750
clearly that these are<font color="#E5E5E5"> privacy</font><font color="#CCCCCC"> concerns</font>

846
00:37:24,860 --> 00:37:28,580
<font color="#CCCCCC">and the RFC you can read the</font><font color="#E5E5E5"> text and</font>

847
00:37:26,750 --> 00:37:30,350
they say that they mandate<font color="#E5E5E5"> that they</font>

848
00:37:28,580 --> 00:37:32,960
have an opt-out mechanism to allow<font color="#E5E5E5"> you</font>

849
00:37:30,350 --> 00:37:34,279
<font color="#CCCCCC">to opt out of sending</font><font color="#E5E5E5"> this</font><font color="#CCCCCC"> data how many</font>

850
00:37:32,960 --> 00:37:36,050
of you<font color="#E5E5E5"> would not have ever heard</font><font color="#CCCCCC"> your</font>

851
00:37:34,280 --> 00:37:39,470
<font color="#CCCCCC">ISP</font><font color="#E5E5E5"> come in and say hey we're doing this</font>

852
00:37:36,050 --> 00:37:42,230
do you want<font color="#CCCCCC"> to</font><font color="#E5E5E5"> opt out yeah nobody right</font>

853
00:37:39,470 --> 00:37:43,399
so the way you would opt out if you ran

854
00:37:42,230 --> 00:37:45,470
your<font color="#CCCCCC"> own servers you just turn the</font>

855
00:37:43,400 --> 00:37:46,500
feature<font color="#E5E5E5"> off but it's not</font><font color="#CCCCCC"> easy</font><font color="#E5E5E5"> to do it's</font>

856
00:37:45,470 --> 00:37:48,529
<font color="#E5E5E5">built in and you have to</font>

857
00:37:46,500 --> 00:37:50,850
to great lengths<font color="#CCCCCC"> to turn it off and</font>

858
00:37:48,530 --> 00:37:53,790
they're<font color="#CCCCCC"> not supposed to send</font><font color="#E5E5E5"> this last</font>

859
00:37:50,850 --> 00:37:55,589
<font color="#E5E5E5">30 to upstream but they do the data can</font>

860
00:37:53,790 --> 00:37:58,020
be<font color="#CCCCCC"> shared and can be</font><font color="#E5E5E5"> manipulated like I</font>

861
00:37:55,590 --> 00:38:00,180
told you you can<font color="#CCCCCC"> fake</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> data that's</font>

862
00:37:58,020 --> 00:38:02,880
<font color="#E5E5E5">going to upstream server right so those</font>

863
00:38:00,180 --> 00:38:05,100
upstream servers are gathering that data

864
00:38:02,880 --> 00:38:07,290
I'm pretty sure they will or they are

865
00:38:05,100 --> 00:38:11,520
and probably<font color="#CCCCCC"> going</font><font color="#E5E5E5"> to make that data</font>

866
00:38:07,290 --> 00:38:14,970
available for<font color="#E5E5E5"> sale right the data has</font>

867
00:38:11,520 --> 00:38:16,950
valid uses so Google<font color="#E5E5E5"> will say we do this</font>

868
00:38:14,970 --> 00:38:19,379
we track this one to give people a

869
00:38:16,950 --> 00:38:20,910
faster<font color="#E5E5E5"> experience browsing Google and</font>

870
00:38:19,380 --> 00:38:23,580
for<font color="#E5E5E5"> us to be</font><font color="#CCCCCC"> able to analyze that data</font>

871
00:38:20,910 --> 00:38:25,620
that we collect<font color="#E5E5E5"> so we can scale out</font><font color="#CCCCCC"> our</font>

872
00:38:23,580 --> 00:38:27,270
data centers accordingly to traffic

873
00:38:25,620 --> 00:38:30,660
coming<font color="#E5E5E5"> from different geo locations that</font>

874
00:38:27,270 --> 00:38:32,130
makes sense but they don't leave it at

875
00:38:30,660 --> 00:38:33,810
that<font color="#E5E5E5"> and they don't give you any data</font>

876
00:38:32,130 --> 00:38:35,100
retention policy they don't tell you

877
00:38:33,810 --> 00:38:36,720
what they're doing with that<font color="#E5E5E5"> data now</font>

878
00:38:35,100 --> 00:38:39,390
they have the right<font color="#E5E5E5"> to sell that data as</font>

879
00:38:36,720 --> 00:38:43,020
do every other<font color="#E5E5E5"> provider in the stream so</font>

880
00:38:39,390 --> 00:38:44,670
it's also particularly invasive<font color="#E5E5E5"> if law</font>

881
00:38:43,020 --> 00:38:47,850
enforcement<font color="#CCCCCC"> gets involved</font><font color="#E5E5E5"> right the law</font>

882
00:38:44,670 --> 00:38:48,570
enforcement<font color="#E5E5E5"> not usually on top of things</font>

883
00:38:47,850 --> 00:38:50,940
when it<font color="#CCCCCC"> comes to understanding</font>

884
00:38:48,570 --> 00:38:53,130
<font color="#E5E5E5">technology they see a frightening thing</font>

885
00:38:50,940 --> 00:38:54,840
oh we got DNA<font color="#E5E5E5"> we can</font><font color="#CCCCCC"> you know</font>

886
00:38:53,130 --> 00:38:56,100
fingerprint DNA we<font color="#CCCCCC"> can check</font>

887
00:38:54,840 --> 00:38:57,750
fingerprints we can do all these great

888
00:38:56,100 --> 00:39:00,210
<font color="#CCCCCC">things but</font><font color="#E5E5E5"> they</font><font color="#CCCCCC"> don't understand the</font>

889
00:38:57,750 --> 00:39:02,250
<font color="#E5E5E5">details and</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> implications and if this</font>

890
00:39:00,210 --> 00:39:04,440
is not secure so<font color="#E5E5E5"> this data is</font><font color="#CCCCCC"> really</font>

891
00:39:02,250 --> 00:39:06,020
kind of meaningless<font color="#E5E5E5"> but you're also</font>

892
00:39:04,440 --> 00:39:09,410
going to see<font color="#CCCCCC"> things like I would say</font>

893
00:39:06,020 --> 00:39:13,620
credit agencies insurance companies

894
00:39:09,410 --> 00:39:15,720
maybe employers buying this information

895
00:39:13,620 --> 00:39:18,540
and figuring out who<font color="#E5E5E5"> you are and what</font>

896
00:39:15,720 --> 00:39:19,169
<font color="#CCCCCC">your browsing habits are it's kind of</font>

897
00:39:18,540 --> 00:39:22,050
scary right

898
00:39:19,170 --> 00:39:23,490
<font color="#E5E5E5">so I mean you may think I'm a little out</font>

899
00:39:22,050 --> 00:39:25,800
there<font color="#CCCCCC"> saying that</font><font color="#E5E5E5"> but I can guarantee</font>

900
00:39:23,490 --> 00:39:28,290
<font color="#E5E5E5">you</font><font color="#CCCCCC"> it will</font><font color="#E5E5E5"> happen right</font><font color="#CCCCCC"> when did years</font>

901
00:39:25,800 --> 00:39:30,030
<font color="#CCCCCC">ago who remembers when you when you got</font>

902
00:39:28,290 --> 00:39:31,529
insurance<font color="#CCCCCC"> somebody ever tell you you had</font>

903
00:39:30,030 --> 00:39:33,570
<font color="#E5E5E5">to have a credit check to get your car</font>

904
00:39:31,530 --> 00:39:36,390
insurance<font color="#CCCCCC"> that was unheard</font><font color="#E5E5E5"> of</font>

905
00:39:33,570 --> 00:39:38,720
right now its standard practice it's

906
00:39:36,390 --> 00:39:41,129
that same<font color="#CCCCCC"> kind of thing</font><font color="#E5E5E5"> they're using</font>

907
00:39:38,720 --> 00:39:43,500
protecting their assets<font color="#E5E5E5"> as a way to get</font>

908
00:39:41,130 --> 00:39:45,870
<font color="#E5E5E5">at your private data the last problem</font>

909
00:39:43,500 --> 00:39:49,560
with his<font color="#CCCCCC"> third-party data recipients can</font>

910
00:39:45,870 --> 00:39:52,350
again by the by the data and they can

911
00:39:49,560 --> 00:39:55,049
<font color="#E5E5E5">see</font><font color="#CCCCCC"> what you're</font><font color="#E5E5E5"> doing and if your DNS</font>

912
00:39:52,350 --> 00:39:56,110
provider registers your<font color="#CCCCCC"> LAN IP address</font>

913
00:39:55,050 --> 00:39:58,630
in their<font color="#E5E5E5"> River</font>

914
00:39:56,110 --> 00:40:00,340
<font color="#E5E5E5">the NS when you connect on they can</font>

915
00:39:58,630 --> 00:40:02,170
correlate the DNS data that they're

916
00:40:00,340 --> 00:40:03,700
getting<font color="#E5E5E5"> back to who's connected and what</font>

917
00:40:02,170 --> 00:40:07,960
the name is and location and<font color="#E5E5E5"> everything</font>

918
00:40:03,700 --> 00:40:09,970
<font color="#CCCCCC">else so it's it's really not well</font>

919
00:40:07,960 --> 00:40:16,030
<font color="#E5E5E5">thought out the implications</font><font color="#CCCCCC"> of what</font>

920
00:40:09,970 --> 00:40:17,980
<font color="#E5E5E5">could happen</font><font color="#CCCCCC"> are not not solidified</font><font color="#E5E5E5"> so I</font>

921
00:40:16,030 --> 00:40:20,080
would ask<font color="#E5E5E5"> your providers if they're</font>

922
00:40:17,980 --> 00:40:21,430
supporting this not supporting it<font color="#E5E5E5"> one of</font>

923
00:40:20,080 --> 00:40:23,860
the other<font color="#CCCCCC"> things with the RFC</font><font color="#E5E5E5"> is</font>

924
00:40:21,430 --> 00:40:27,759
remember<font color="#E5E5E5"> to be RFC compliance you have</font>

925
00:40:23,860 --> 00:40:30,970
to support all<font color="#E5E5E5"> the RFC s there's talk of</font>

926
00:40:27,760 --> 00:40:34,690
some other options<font color="#E5E5E5"> being used one</font><font color="#CCCCCC"> of</font>

927
00:40:30,970 --> 00:40:36,549
them by rather<font color="#E5E5E5"> large company to ship</font>

928
00:40:34,690 --> 00:40:41,440
your MAC address<font color="#E5E5E5"> from</font><font color="#CCCCCC"> your device</font>

929
00:40:36,550 --> 00:40:44,650
<font color="#CCCCCC">upstream through the DNS chain</font><font color="#E5E5E5"> so how</font>

930
00:40:41,440 --> 00:40:46,210
would you stop that<font color="#CCCCCC"> right the intent is</font>

931
00:40:44,650 --> 00:40:49,300
to<font color="#CCCCCC"> use it for</font><font color="#E5E5E5"> good</font><font color="#CCCCCC"> to attribute</font>

932
00:40:46,210 --> 00:40:52,630
<font color="#E5E5E5">infection and malware compromise to a</font>

933
00:40:49,300 --> 00:40:54,190
particular device<font color="#CCCCCC"> I don't</font><font color="#E5E5E5"> think you're</font>

934
00:40:52,630 --> 00:40:55,570
thinking<font color="#CCCCCC"> through</font><font color="#E5E5E5"> the whole process and</font>

935
00:40:54,190 --> 00:40:56,140
<font color="#E5E5E5">making it known to people what's going</font>

936
00:40:55,570 --> 00:40:58,180
<font color="#CCCCCC">on</font>

937
00:40:56,140 --> 00:40:59,680
so again summarize<font color="#CCCCCC"> Edie</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> ask</font><font color="#E5E5E5"> on</font>

938
00:40:58,180 --> 00:41:01,210
something that has several<font color="#E5E5E5"> useful</font>

939
00:40:59,680 --> 00:41:03,100
purposes it does serve some good

940
00:41:01,210 --> 00:41:05,890
purposes it provides it gives people

941
00:41:03,100 --> 00:41:08,470
ability to<font color="#CCCCCC"> geo locate sites provide you</font>

942
00:41:05,890 --> 00:41:10,359
a better browsing experience<font color="#E5E5E5"> it enables</font>

943
00:41:08,470 --> 00:41:12,669
multi-tenant cache servers to serve up

944
00:41:10,360 --> 00:41:15,520
the<font color="#CCCCCC"> right data</font><font color="#E5E5E5"> for people</font><font color="#CCCCCC"> based on their</font>

945
00:41:12,670 --> 00:41:17,260
geolocation<font color="#CCCCCC"> has potentials for abuse</font><font color="#E5E5E5"> and</font>

946
00:41:15,520 --> 00:41:19,690
if you get a chance<font color="#CCCCCC"> to</font><font color="#E5E5E5"> go look at some</font>

947
00:41:17,260 --> 00:41:21,400
of the other<font color="#CCCCCC"> DNS</font><font color="#E5E5E5"> option codes and see</font>

948
00:41:19,690 --> 00:41:22,690
what kinds of things<font color="#CCCCCC"> are out there you</font>

949
00:41:21,400 --> 00:41:25,330
might<font color="#E5E5E5"> be a little surprised at what's</font>

950
00:41:22,690 --> 00:41:26,470
going<font color="#CCCCCC"> on</font><font color="#E5E5E5"> and don't let the ass bite you</font>

951
00:41:25,330 --> 00:41:28,060
in the ass next<font color="#E5E5E5"> time you're doing</font>

952
00:41:26,470 --> 00:41:30,220
<font color="#CCCCCC">something</font><font color="#E5E5E5"> you don't want anybody</font><font color="#CCCCCC"> else to</font>

953
00:41:28,060 --> 00:41:32,290
<font color="#CCCCCC">know about</font><font color="#E5E5E5"> all right so that's that's</font>

954
00:41:30,220 --> 00:41:54,310
all I've got<font color="#CCCCCC"> I think a</font><font color="#E5E5E5"> 45 minutes that's</font>

955
00:41:32,290 --> 00:41:57,250
good any questions I have TFS money<font color="#E5E5E5"> so</font>

956
00:41:54,310 --> 00:42:01,580
it<font color="#E5E5E5"> runs</font><font color="#CCCCCC"> unmount it runs unbound inside</font>

957
00:41:57,250 --> 00:42:05,630
PSN<font color="#E5E5E5"> so okay so would we</font>

958
00:42:01,580 --> 00:42:07,430
next like relevance<font color="#E5E5E5"> Django</font>

959
00:42:05,630 --> 00:42:11,900
it'll take<font color="#E5E5E5"> a remote IP and do it right</font>

960
00:42:07,430 --> 00:42:13,850
<font color="#E5E5E5">so yeah it's so if there's not an IP in</font>

961
00:42:11,900 --> 00:42:15,290
the<font color="#CCCCCC"> packets private IP the next stream</font>

962
00:42:13,850 --> 00:42:17,270
outside<font color="#E5E5E5"> your land will</font><font color="#CCCCCC"> get put in the</font>

963
00:42:15,290 --> 00:42:18,529
way<font color="#E5E5E5"> and IP and go forward so the way</font>

964
00:42:17,270 --> 00:42:20,180
around that you would have to tunnel

965
00:42:18,530 --> 00:42:22,490
<font color="#E5E5E5">your DNS somewhere we knew where it's</font>

966
00:42:20,180 --> 00:42:23,870
going put it to a<font color="#E5E5E5"> cache resolver and</font>

967
00:42:22,490 --> 00:42:25,939
then<font color="#CCCCCC"> proximately and that's back out</font>

968
00:42:23,870 --> 00:42:28,190
somewhere else<font color="#CCCCCC"> it's really</font><font color="#E5E5E5"> difficult to</font>

969
00:42:25,940 --> 00:42:33,920
<font color="#CCCCCC">keep information</font><font color="#E5E5E5"> from being leaked by</font>

970
00:42:28,190 --> 00:42:36,050
<font color="#CCCCCC">the NIV yes or you have to fake the IP</font>

971
00:42:33,920 --> 00:42:37,910
address that's<font color="#E5E5E5"> in that option packet</font>

972
00:42:36,050 --> 00:42:42,620
right<font color="#CCCCCC"> remember I told you</font><font color="#E5E5E5"> could do that</font>

973
00:42:37,910 --> 00:42:44,990
<font color="#CCCCCC">yeah yep and some of the cache resolvers</font>

974
00:42:42,620 --> 00:42:47,359
allow you to specify which servers you

975
00:42:44,990 --> 00:42:49,399
send that<font color="#CCCCCC"> EDS data to but it</font><font color="#E5E5E5"> doesn't</font>

976
00:42:47,360 --> 00:42:51,550
matter if the guy next<font color="#E5E5E5"> hop up just add</font>

977
00:42:49,400 --> 00:43:00,950
<font color="#E5E5E5">it's automatically right which they will</font>

978
00:42:51,550 --> 00:43:02,960
yep yeah it<font color="#E5E5E5"> is it's so numerous in 2016</font>

979
00:43:00,950 --> 00:43:05,149
it was just<font color="#E5E5E5"> put</font><font color="#CCCCCC"> in play as an RFC</font><font color="#E5E5E5"> and</font>

980
00:43:02,960 --> 00:43:06,800
there's a whole<font color="#E5E5E5"> slew of other drafts out</font>

981
00:43:05,150 --> 00:43:08,420
there that are<font color="#CCCCCC"> coming people</font><font color="#E5E5E5"> just are</font>

982
00:43:06,800 --> 00:43:11,660
<font color="#E5E5E5">blindsided by this they don't even know</font>

983
00:43:08,420 --> 00:43:30,290
the implication<font color="#E5E5E5"> yeah it could be yep</font>

984
00:43:11,660 --> 00:43:37,069
definitely yep I know<font color="#E5E5E5"> that I</font><font color="#CCCCCC"> gave</font><font color="#E5E5E5"> no</font>

985
00:43:30,290 --> 00:43:39,620
<font color="#CCCCCC">requests on that hose ID I get requests</font>

986
00:43:37,070 --> 00:43:48,740
for<font color="#E5E5E5"> the host date but I never actually</font>

987
00:43:39,620 --> 00:43:50,690
get a<font color="#E5E5E5"> connection like</font><font color="#CCCCCC"> that idea so and</font>

988
00:43:48,740 --> 00:43:52,759
so there<font color="#E5E5E5"> you could actually probably go</font>

989
00:43:50,690 --> 00:43:54,110
<font color="#CCCCCC">hey</font><font color="#E5E5E5"> what step further</font><font color="#CCCCCC"> you know that that</font>

990
00:43:52,760 --> 00:43:56,120
ID is real if there were some

991
00:43:54,110 --> 00:43:58,070
attribution to<font color="#E5E5E5"> it and you had a list</font>

992
00:43:56,120 --> 00:43:59,810
<font color="#CCCCCC">that</font><font color="#E5E5E5"> you knew was a good list of</font>

993
00:43:58,070 --> 00:44:02,180
blacklist<font color="#E5E5E5"> it would just not allow</font><font color="#CCCCCC"> that</font>

994
00:43:59,810 --> 00:44:04,970
<font color="#E5E5E5">DNS through right yeah but again there's</font>

995
00:44:02,180 --> 00:44:06,440
no<font color="#CCCCCC"> integrity in that</font><font color="#E5E5E5"> packet so you don't</font>

996
00:44:04,970 --> 00:44:09,939
know somebody<font color="#CCCCCC"> could fake it right could</font>

997
00:44:06,440 --> 00:44:09,940
<font color="#E5E5E5">be spooked</font><font color="#CCCCCC"> completely</font>

998
00:44:11,070 --> 00:44:26,710
any other questions<font color="#CCCCCC"> alright well if</font><font color="#E5E5E5"> you</font>

999
00:44:16,420 --> 00:44:28,570
got a<font color="#E5E5E5"> question good</font><font color="#CCCCCC"> question so you're</font>

1000
00:44:26,710 --> 00:44:34,330
saying in<font color="#E5E5E5"> the DNS when the DNS traffic</font>

1001
00:44:28,570 --> 00:44:36,850
goes out<font color="#CCCCCC"> are me so authoritative servers</font>

1002
00:44:34,330 --> 00:44:38,799
don't<font color="#E5E5E5"> really care about</font><font color="#CCCCCC"> the ECS data</font>

1003
00:44:36,850 --> 00:44:40,450
unless<font color="#E5E5E5"> you're using a CDN Network it's</font>

1004
00:44:38,800 --> 00:44:42,820
more the recursive ones we send<font color="#CCCCCC"> that out</font>

1005
00:44:40,450 --> 00:44:45,189
right<font color="#E5E5E5"> now Microsoft</font><font color="#CCCCCC"> ad server doesn't</font>

1006
00:44:42,820 --> 00:44:46,930
<font color="#E5E5E5">support</font><font color="#CCCCCC"> it so on</font><font color="#E5E5E5"> the internal side you</font>

1007
00:44:45,190 --> 00:44:50,050
don't<font color="#E5E5E5"> see it we only see it on the</font>

1008
00:44:46,930 --> 00:44:51,490
external<font color="#E5E5E5"> side</font><font color="#CCCCCC"> cache servers outside but</font>

1009
00:44:50,050 --> 00:44:53,260
if you send directly<font color="#E5E5E5"> to</font><font color="#CCCCCC"> the root the</font>

1010
00:44:51,490 --> 00:44:54,640
root servers<font color="#E5E5E5"> don't care about client</font>

1011
00:44:53,260 --> 00:44:58,090
subnet<font color="#E5E5E5"> and they're not going</font><font color="#CCCCCC"> to support</font>

1012
00:44:54,640 --> 00:45:00,069
it any time<font color="#CCCCCC"> soon so it's forward to a</font>

1013
00:44:58,090 --> 00:45:03,250
<font color="#CCCCCC">known DNS server from your</font><font color="#E5E5E5"> ad server or</font>

1014
00:45:00,070 --> 00:45:05,080
forward to the root servers<font color="#E5E5E5"> right and if</font>

1015
00:45:03,250 --> 00:45:06,910
you're<font color="#E5E5E5"> forwarding to known servers for</font>

1016
00:45:05,080 --> 00:45:08,650
security reasons<font color="#E5E5E5"> don't</font><font color="#CCCCCC"> order</font><font color="#E5E5E5"> the root</font>

1017
00:45:06,910 --> 00:45:12,310
servers<font color="#E5E5E5"> fifth root servers will always</font>

1018
00:45:08,650 --> 00:45:13,480
answer<font color="#E5E5E5"> right no kind of answered your</font>

1019
00:45:12,310 --> 00:45:15,190
question we<font color="#E5E5E5"> talk about it more</font>

1020
00:45:13,480 --> 00:45:16,840
<font color="#E5E5E5">afterwards I don't know if I'm</font>

1021
00:45:15,190 --> 00:45:20,440
understanding quite what<font color="#E5E5E5"> you're asking</font>

1022
00:45:16,840 --> 00:45:31,720
me but<font color="#E5E5E5"> we'll talk about it okay any</font>

1023
00:45:20,440 --> 00:45:34,180
<font color="#E5E5E5">other</font><font color="#CCCCCC"> questions Jackie be good</font><font color="#E5E5E5"> as</font><font color="#CCCCCC"> a</font>

1024
00:45:31,720 --> 00:45:35,529
<font color="#E5E5E5">thing to</font><font color="#CCCCCC"> do</font><font color="#E5E5E5"> yeah you could do that you</font>

1025
00:45:34,180 --> 00:45:38,740
<font color="#E5E5E5">could</font><font color="#CCCCCC"> turn it off with the problems the</font>

1026
00:45:35,530 --> 00:45:42,100
next hop up right so yeah what you have

1027
00:45:38,740 --> 00:45:45,490
to<font color="#E5E5E5"> write so then you have to inject you</font>

1028
00:45:42,100 --> 00:45:46,960
know you have to inject the spoofed IP

1029
00:45:45,490 --> 00:45:48,580
<font color="#CCCCCC">ease</font><font color="#E5E5E5"> into the package so</font><font color="#CCCCCC"> that the</font>

1030
00:45:46,960 --> 00:45:54,400
upstream provider doesn't<font color="#E5E5E5"> replace that</font>

1031
00:45:48,580 --> 00:45:55,900
data so the next<font color="#E5E5E5"> the next server up</font>

1032
00:45:54,400 --> 00:46:00,880
though would add a fact if it<font color="#CCCCCC"> supports</font>

1033
00:45:55,900 --> 00:46:02,620
it yeah so<font color="#E5E5E5"> remember your UDP packet has</font>

1034
00:46:00,880 --> 00:46:05,200
a header<font color="#E5E5E5"> as it has the IP address that's</font>

1035
00:46:02,620 --> 00:46:10,710
coming from<font color="#E5E5E5"> so the</font><font color="#CCCCCC"> ECS date is not there</font>

1036
00:46:05,200 --> 00:46:10,710
with that in VCS dated forward<font color="#E5E5E5"> desert</font>

1037
00:46:14,090 --> 00:46:22,790
I haven't seen that<font color="#E5E5E5"> mm-hmm nope</font>

1038
00:46:20,480 --> 00:46:25,340
which is a good talk that should be it

1039
00:46:22,790 --> 00:46:27,500
should match right so the first<font color="#E5E5E5"> hop up</font>

1040
00:46:25,340 --> 00:46:30,170
should see the same<font color="#E5E5E5"> IP or the same IP</font>

1041
00:46:27,500 --> 00:46:32,600
block in the<font color="#CCCCCC"> EECS packet as in the UDP</font>

1042
00:46:30,170 --> 00:46:34,310
<font color="#E5E5E5">header right you</font><font color="#CCCCCC"> match it</font><font color="#E5E5E5"> doesn't match</font>

1043
00:46:32,600 --> 00:46:35,630
them<font color="#CCCCCC"> it's a problem with</font><font color="#E5E5E5"> not owning it</font>

1044
00:46:34,310 --> 00:46:35,930
but<font color="#E5E5E5"> again nobody's thought that far</font>

1045
00:46:35,630 --> 00:46:38,840
ahead

1046
00:46:35,930 --> 00:46:43,609
right<font color="#E5E5E5"> DNS</font><font color="#CCCCCC"> is inherently insecure</font><font color="#E5E5E5"> it's</font>

1047
00:46:38,840 --> 00:46:46,730
inherently problematic and so<font color="#CCCCCC"> look up</font>

1048
00:46:43,610 --> 00:46:52,190
this<font color="#E5E5E5"> option to</font><font color="#CCCCCC"> here</font><font color="#E5E5E5"> to stupidity</font>

1049
00:46:46,730 --> 00:46:57,500
<font color="#CCCCCC">somebody proposed</font><font color="#E5E5E5"> a DNS API DNS over SSL</font>

1050
00:46:52,190 --> 00:46:59,660
tunnel it's a draft so<font color="#E5E5E5"> yeah so imagine</font>

1051
00:46:57,500 --> 00:47:01,010
if that ever gets put<font color="#CCCCCC"> out there how hard</font>

1052
00:46:59,660 --> 00:47:06,649
<font color="#E5E5E5">is it going to be then to detect malware</font>

1053
00:47:01,010 --> 00:47:14,780
<font color="#E5E5E5">via the NS just</font><font color="#CCCCCC"> a thought any other</font>

1054
00:47:06,650 --> 00:47:17,240
questions yeah you could

1055
00:47:14,780 --> 00:47:18,410
hell yeah you<font color="#E5E5E5"> could you could you're</font>

1056
00:47:17,240 --> 00:47:20,720
getting so<font color="#E5E5E5"> that you're getting to my</font>

1057
00:47:18,410 --> 00:47:23,529
<font color="#CCCCCC">next you're getting to my next</font><font color="#E5E5E5"> pocket</font><font color="#CCCCCC"> is</font>

1058
00:47:20,720 --> 00:47:26,689
<font color="#E5E5E5">be</font><font color="#CCCCCC"> size or</font><font color="#E5E5E5"> maybe DEFCON</font><font color="#CCCCCC"> opposed</font><font color="#E5E5E5"> idiot so</font>

1059
00:47:23,530 --> 00:47:28,760
that data could<font color="#CCCCCC"> be used by malware that</font>

1060
00:47:26,690 --> 00:47:30,650
<font color="#E5E5E5">those data packets to exfiltrate data</font>

1061
00:47:28,760 --> 00:47:32,240
from your<font color="#CCCCCC"> network</font><font color="#E5E5E5"> they could be used as</font>

1062
00:47:30,650 --> 00:47:36,110
botnet command and control right because

1063
00:47:32,240 --> 00:47:37,580
<font color="#E5E5E5">they're yeah</font><font color="#CCCCCC"> but in that particular data</font>

1064
00:47:36,110 --> 00:47:40,700
they're not doing is they're typically

1065
00:47:37,580 --> 00:47:42,230
<font color="#E5E5E5">doing it by text files or by sub domains</font>

1066
00:47:40,700 --> 00:47:42,710
that are for legitimate<font color="#E5E5E5"> registered</font>

1067
00:47:42,230 --> 00:47:44,300
<font color="#CCCCCC">delaine's</font>

1068
00:47:42,710 --> 00:47:46,390
when they figure out<font color="#CCCCCC"> that they can do</font>

1069
00:47:44,300 --> 00:47:53,800
<font color="#E5E5E5">this it's going to be very problematic</font>

1070
00:47:46,390 --> 00:47:53,799
<font color="#E5E5E5">so</font><font color="#CCCCCC"> okay questions and more</font><font color="#E5E5E5"> questions</font><font color="#CCCCCC"> I</font>

1071
00:47:54,160 --> 00:47:58,960
have a gift for you safe<font color="#E5E5E5"> I'm up here</font>

1072
00:47:59,140 --> 00:48:12,500
<font color="#CCCCCC">this</font><font color="#E5E5E5"> warrior his</font><font color="#CCCCCC"> ugly nervous</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> Dave</font>

1073
00:48:10,100 --> 00:48:15,940
<font color="#CCCCCC">help me</font><font color="#E5E5E5"> out last year and</font><font color="#CCCCCC"> prop a lot</font>

1074
00:48:12,500 --> 00:48:15,940
<font color="#E5E5E5">thank you</font><font color="#CCCCCC"> Tom play this</font>

1075
00:48:19,260 --> 00:48:31,270
[Applause]

1076
00:48:24,960 --> 00:48:32,410
about<font color="#E5E5E5"> doing your tomorrow</font><font color="#CCCCCC"> all right I'll</font>

1077
00:48:31,270 --> 00:48:36,210
be around<font color="#CCCCCC"> after it's everybody any</font>

1078
00:48:32,410 --> 00:48:36,210
questions thanks appreciate your time

