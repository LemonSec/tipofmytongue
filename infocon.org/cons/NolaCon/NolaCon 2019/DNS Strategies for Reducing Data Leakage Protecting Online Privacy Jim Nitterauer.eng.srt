1
00:00:00,030 --> 00:00:04,230
my name is Jim knitter our I'm a senior

2
00:00:02,009 --> 00:00:06,508
security specialist that app River now

3
00:00:04,230 --> 00:00:07,529
part of the zix corporation before we

4
00:00:06,509 --> 00:00:10,920
get started how many are having a good

5
00:00:07,529 --> 00:00:12,210
time in Ola con that doesn't sound like

6
00:00:10,920 --> 00:00:15,150
it's very convincing home

7
00:00:12,210 --> 00:00:16,619
so if you see Rob and Eric and Yvonne

8
00:00:15,150 --> 00:00:18,330
give them a big thanks and all the

9
00:00:16,619 --> 00:00:20,970
volunteers everybody wearing the red

10
00:00:18,330 --> 00:00:22,709
shirts this is probably one of the best

11
00:00:20,970 --> 00:00:24,359
conferences I go to I go to quite a

12
00:00:22,710 --> 00:00:26,099
number of them and this one's really

13
00:00:24,359 --> 00:00:28,710
well run people are hospitable it's one

14
00:00:26,099 --> 00:00:30,869
of the best ones going and it's a really

15
00:00:28,710 --> 00:00:32,040
great camaraderie so thanks for coming

16
00:00:30,869 --> 00:00:35,430
and thanks to those guys for putting it

17
00:00:32,040 --> 00:00:37,860
on alright so today our talk is DNS

18
00:00:35,430 --> 00:00:41,070
strategies for reducing data leakage and

19
00:00:37,860 --> 00:00:44,399
protecting online privacy right DNS

20
00:00:41,070 --> 00:00:45,860
that's always DNS right before we get

21
00:00:44,399 --> 00:00:47,820
going

22
00:00:45,860 --> 00:00:51,000
disclaimer the information I'm going to

23
00:00:47,820 --> 00:00:52,230
share today is intended for your use and

24
00:00:51,000 --> 00:00:53,850
to improve your security and privacy

25
00:00:52,230 --> 00:00:55,980
posture not to be used for unethical

26
00:00:53,850 --> 00:00:58,199
purposes we're going to talk about a few

27
00:00:55,980 --> 00:00:59,849
things that are you could do but most

28
00:00:58,199 --> 00:01:01,289
people in here are good everybody in

29
00:00:59,850 --> 00:01:03,660
here is good right I can do anything

30
00:01:01,289 --> 00:01:05,250
malicious concepts presented today or no

31
00:01:03,660 --> 00:01:06,990
way meant to imply original research on

32
00:01:05,250 --> 00:01:08,610
my part most of this is informational

33
00:01:06,990 --> 00:01:10,140
the information presented here is

34
00:01:08,610 --> 00:01:11,729
gathered from public and private sources

35
00:01:10,140 --> 00:01:15,119
and the views expressed are not

36
00:01:11,729 --> 00:01:16,619
necessarily those of my employer these

37
00:01:15,119 --> 00:01:17,939
are some of the places I've spoken and

38
00:01:16,619 --> 00:01:19,020
some of the things I've worked with I'm

39
00:01:17,939 --> 00:01:20,908
not gonna spend a lot of time on this

40
00:01:19,020 --> 00:01:23,460
but this is the article that kind of

41
00:01:20,909 --> 00:01:25,710
inspired this talk saw this article is

42
00:01:23,460 --> 00:01:29,520
wondering how everybody's heard of net

43
00:01:25,710 --> 00:01:31,289
neutrality right and and the lack of net

44
00:01:29,520 --> 00:01:35,429
neutrality and how that's no longer in

45
00:01:31,290 --> 00:01:36,869
play so what does that give your ISPs

46
00:01:35,430 --> 00:01:38,430
and providers the right to do it gives

47
00:01:36,869 --> 00:01:39,990
them the right to collect data sell that

48
00:01:38,430 --> 00:01:41,939
data and make a profit on that data

49
00:01:39,990 --> 00:01:45,270
without your permission or consent how

50
00:01:41,939 --> 00:01:46,439
many people want that to happen no right

51
00:01:45,270 --> 00:01:47,369
you don't want you know what you want to

52
00:01:46,439 --> 00:01:50,070
know what's happening with your data

53
00:01:47,369 --> 00:01:52,290
right so one of the ways that they do

54
00:01:50,070 --> 00:01:53,639
this is that they look at your DNS

55
00:01:52,290 --> 00:01:55,799
traffic and we're going to talk today

56
00:01:53,640 --> 00:01:57,960
about how that happens what they do and

57
00:01:55,799 --> 00:02:02,340
some strategies that you can put in play

58
00:01:57,960 --> 00:02:04,380
to prevent them from doing this so what

59
00:02:02,340 --> 00:02:05,759
happens with some ISPs did you really

60
00:02:04,380 --> 00:02:09,478
have any of your pen testers here in the

61
00:02:05,759 --> 00:02:11,970
room anybody ever do a pen test from a

62
00:02:09,479 --> 00:02:13,740
cable modem or DSL provider and wonder

63
00:02:11,970 --> 00:02:16,790
why port 53 is always

64
00:02:13,740 --> 00:02:19,200
on every IP address that you test

65
00:02:16,790 --> 00:02:21,390
interesting question right not every

66
00:02:19,200 --> 00:02:24,359
server on the Internet is a DNS server

67
00:02:21,390 --> 00:02:26,579
why would poor 53 be open inbound right

68
00:02:24,360 --> 00:02:28,440
it's it lets you find that on a network

69
00:02:26,580 --> 00:02:30,510
because your ISP is filtering and

70
00:02:28,440 --> 00:02:33,750
redirecting all poor 53 traffic to their

71
00:02:30,510 --> 00:02:35,880
DNS servers another way you can tell

72
00:02:33,750 --> 00:02:38,250
very quickly ever browse a web page on

73
00:02:35,880 --> 00:02:40,790
your ISP page doesn't exist and you get

74
00:02:38,250 --> 00:02:43,560
some search page for mediacom or Cox or

75
00:02:40,790 --> 00:02:45,209
Comcast whoever your provider is how are

76
00:02:43,560 --> 00:02:46,860
they doing that they're redirecting DNS

77
00:02:45,210 --> 00:02:48,660
because the DNS query failed to load the

78
00:02:46,860 --> 00:02:51,420
web page to redirect DNS to their own

79
00:02:48,660 --> 00:02:53,160
response through their server and send

80
00:02:51,420 --> 00:02:54,269
you to their web page so those are the

81
00:02:53,160 --> 00:02:55,859
kinds of things we're going to talk

82
00:02:54,270 --> 00:02:57,780
about today I'm gonna give you some

83
00:02:55,860 --> 00:03:00,390
strategies that you can look at for

84
00:02:57,780 --> 00:03:01,320
making your DNS more secure so what are

85
00:03:00,390 --> 00:03:03,540
we going to cover we're going to cover

86
00:03:01,320 --> 00:03:04,709
why is DNS important from a privacy

87
00:03:03,540 --> 00:03:06,630
perspective what are your browsing

88
00:03:04,710 --> 00:03:08,490
habits that they can find out what kind

89
00:03:06,630 --> 00:03:10,829
of internal service information can they

90
00:03:08,490 --> 00:03:12,510
find this is both direct data that they

91
00:03:10,830 --> 00:03:14,700
can collect and what kind of data can be

92
00:03:12,510 --> 00:03:16,859
inferred from what they collect why

93
00:03:14,700 --> 00:03:18,450
should I care do you care maybe you

94
00:03:16,860 --> 00:03:19,860
don't care I don't know but to do a lot

95
00:03:18,450 --> 00:03:21,299
of people here so you probably do care

96
00:03:19,860 --> 00:03:22,920
the data can be used for direct

97
00:03:21,300 --> 00:03:24,330
advertising it can be used for malicious

98
00:03:22,920 --> 00:03:25,829
purposes we're gonna talk about that in

99
00:03:24,330 --> 00:03:28,170
a minute we're gonna look at some of the

100
00:03:25,830 --> 00:03:31,260
common ways that data DNS can be

101
00:03:28,170 --> 00:03:33,269
exploited via data privacy leaks we're

102
00:03:31,260 --> 00:03:35,070
going to look at what sort of data might

103
00:03:33,270 --> 00:03:36,780
be leaked via DNS as well as what

104
00:03:35,070 --> 00:03:38,310
information might be inferred we're

105
00:03:36,780 --> 00:03:41,190
gonna look at ways that you can track

106
00:03:38,310 --> 00:03:42,780
DNS data either through logging or

107
00:03:41,190 --> 00:03:45,120
through packet sniffing we're going to

108
00:03:42,780 --> 00:03:48,420
talk about a couple of odd things in DNS

109
00:03:45,120 --> 00:03:49,560
this DNS zero option we'll talk a little

110
00:03:48,420 --> 00:03:51,299
bit more in detail about that most

111
00:03:49,560 --> 00:03:52,230
people don't know what that is but it's

112
00:03:51,300 --> 00:03:54,750
kind of a big deal

113
00:03:52,230 --> 00:03:57,239
we're gonna discuss insecure DNS

114
00:03:54,750 --> 00:03:58,890
resolution what it is how it happens why

115
00:03:57,240 --> 00:04:00,240
it matters and we're going to look at

116
00:03:58,890 --> 00:04:02,130
some of the leakage points in the DNS

117
00:04:00,240 --> 00:04:04,650
process then we're going to talk about

118
00:04:02,130 --> 00:04:08,970
some solutions we're going to review DNS

119
00:04:04,650 --> 00:04:10,860
over HTTPS which is called do s or do H

120
00:04:08,970 --> 00:04:13,890
I'm sorry Doug or and the other one is

121
00:04:10,860 --> 00:04:15,540
called DNS over TLS or do T can describe

122
00:04:13,890 --> 00:04:17,399
what they are how they work compare and

123
00:04:15,540 --> 00:04:19,500
contrast them look at some providers

124
00:04:17,399 --> 00:04:21,238
that offer that service how you can set

125
00:04:19,500 --> 00:04:22,919
up some of your own services at home to

126
00:04:21,238 --> 00:04:24,419
use take advantage of those services

127
00:04:22,919 --> 00:04:27,630
they're going to look at some solutions

128
00:04:24,419 --> 00:04:33,719
for anonymizing your DNS traffic

129
00:04:27,630 --> 00:04:35,070
now caveat is security absolute no it's

130
00:04:33,720 --> 00:04:37,170
not there's no such thing as absolute

131
00:04:35,070 --> 00:04:38,430
security security is only designed to

132
00:04:37,170 --> 00:04:40,140
mitigate the risk to a level that's

133
00:04:38,430 --> 00:04:40,680
acceptable for you and everybody's

134
00:04:40,140 --> 00:04:42,300
different

135
00:04:40,680 --> 00:04:44,880
same thing with privacy there's no

136
00:04:42,300 --> 00:04:47,100
absolute privacy privacy is what

137
00:04:44,880 --> 00:04:48,810
mitigates your leakage of data to a

138
00:04:47,100 --> 00:04:50,340
level that's acceptable to you okay

139
00:04:48,810 --> 00:04:52,320
don't get those confused never an

140
00:04:50,340 --> 00:04:53,640
absolute in both of those so that's the

141
00:04:52,320 --> 00:04:56,280
premise of some of the parts of this

142
00:04:53,640 --> 00:04:58,080
talk we're gonna be looking at solutions

143
00:04:56,280 --> 00:05:00,059
to protect and anonymize your own DNS

144
00:04:58,080 --> 00:05:00,690
traffic if you want to do this and we're

145
00:05:00,060 --> 00:05:02,280
going to look at some of the

146
00:05:00,690 --> 00:05:04,980
shortcomings that are involved with some

147
00:05:02,280 --> 00:05:06,299
of the new things multicast dns and ipv6

148
00:05:04,980 --> 00:05:08,480
we're gonna look at some of the issues

149
00:05:06,300 --> 00:05:11,280
that might come about because of that

150
00:05:08,480 --> 00:05:12,330
alright so here we go why is DNS

151
00:05:11,280 --> 00:05:15,750
important from a privacy perspective

152
00:05:12,330 --> 00:05:17,130
well it may not be critical to us living

153
00:05:15,750 --> 00:05:19,110
the United States we may think of it as

154
00:05:17,130 --> 00:05:20,730
a inconvenience it may be something that

155
00:05:19,110 --> 00:05:22,230
people used to market to us they may

156
00:05:20,730 --> 00:05:25,980
send us email they may send us phone

157
00:05:22,230 --> 00:05:29,340
calls how many of you get I'm over 55 so

158
00:05:25,980 --> 00:05:31,050
I get calls from crazy spammers on my

159
00:05:29,340 --> 00:05:32,489
cell phone trying to sell me back braces

160
00:05:31,050 --> 00:05:34,080
and all this other crap that I don't

161
00:05:32,490 --> 00:05:35,580
need right so where did they get that

162
00:05:34,080 --> 00:05:38,609
information how did they find out that

163
00:05:35,580 --> 00:05:40,469
I'm over 55 they bought that information

164
00:05:38,610 --> 00:05:42,120
from somebody right maybe they got it

165
00:05:40,470 --> 00:05:44,790
from browsing habits at home maybe they

166
00:05:42,120 --> 00:05:49,710
see that I maintain my AARP membership

167
00:05:44,790 --> 00:05:51,270
yes I'm an AARP member thank you hey it

168
00:05:49,710 --> 00:05:54,000
does have its benefits good hotel rates

169
00:05:51,270 --> 00:05:56,070
anyway for most of us we just don't want

170
00:05:54,000 --> 00:05:57,510
people spying on our activity but in

171
00:05:56,070 --> 00:05:59,520
some countries in some parts of the

172
00:05:57,510 --> 00:06:02,010
world people getting on the internet and

173
00:05:59,520 --> 00:06:04,080
what they do via the Internet is

174
00:06:02,010 --> 00:06:06,750
monitored very closely and it could cost

175
00:06:04,080 --> 00:06:09,359
them their lives right so it's a it's

176
00:06:06,750 --> 00:06:10,590
it's a pretty important concept to

177
00:06:09,360 --> 00:06:12,720
understand how it works and what's

178
00:06:10,590 --> 00:06:14,429
happening so what we may have freedoms

179
00:06:12,720 --> 00:06:16,860
here but these same techniques and

180
00:06:14,430 --> 00:06:18,390
strategies are being used to oppress

181
00:06:16,860 --> 00:06:20,160
other people in other countries to keep

182
00:06:18,390 --> 00:06:22,020
them from using the Internet to its full

183
00:06:20,160 --> 00:06:23,910
potential so we're going to look at some

184
00:06:22,020 --> 00:06:27,359
ways how do we tell if our ISP is

185
00:06:23,910 --> 00:06:29,610
hijacking our DNS traffic quick search

186
00:06:27,360 --> 00:06:31,650
the internet says it's pretty common all

187
00:06:29,610 --> 00:06:33,240
right and there's searches out there

188
00:06:31,650 --> 00:06:35,640
that companies that they'll tell you

189
00:06:33,240 --> 00:06:36,960
that they're doing this right AT&T we're

190
00:06:35,640 --> 00:06:39,780
turning your DNS logs into a

191
00:06:36,960 --> 00:06:40,760
money-making proposition right are they

192
00:06:39,780 --> 00:06:42,469
returning that profit

193
00:06:40,760 --> 00:06:44,150
your data are you getting commissioned

194
00:06:42,470 --> 00:06:46,280
for that data no they're making the

195
00:06:44,150 --> 00:06:49,429
money off of it what kind of information

196
00:06:46,280 --> 00:06:51,289
are they getting from up from a DNS law

197
00:06:49,430 --> 00:06:52,670
well the typical stuff you can think of

198
00:06:51,290 --> 00:06:55,160
they're going to get your LAN IP the

199
00:06:52,670 --> 00:06:57,860
time of day the domain you requested the

200
00:06:55,160 --> 00:06:59,510
types of records you're requesting maybe

201
00:06:57,860 --> 00:07:04,030
the servers that you queried along the

202
00:06:59,510 --> 00:07:04,030
DNS path and some of the DNS responses

203
00:07:04,420 --> 00:07:07,940
but why is it important these are the

204
00:07:06,710 --> 00:07:09,950
things that they can look at some of the

205
00:07:07,940 --> 00:07:12,440
things that you don't think about is

206
00:07:09,950 --> 00:07:14,930
they can look at internal IPs how many

207
00:07:12,440 --> 00:07:16,550
people have ever seen DNS logs from an

208
00:07:14,930 --> 00:07:18,350
external DNS server and you've seen

209
00:07:16,550 --> 00:07:20,990
Active Directory DNS queries in those

210
00:07:18,350 --> 00:07:22,670
logs right well if they happen to be

211
00:07:20,990 --> 00:07:24,440
text records or some other types of lot

212
00:07:22,670 --> 00:07:27,020
of DNS queries they might contain

213
00:07:24,440 --> 00:07:28,910
private IP information they might be SRV

214
00:07:27,020 --> 00:07:30,349
records that are indicating what's

215
00:07:28,910 --> 00:07:31,820
happening on an Active Directory server

216
00:07:30,350 --> 00:07:34,190
in a network that stuff should never

217
00:07:31,820 --> 00:07:37,670
reach the public Internet but it does so

218
00:07:34,190 --> 00:07:39,680
that information could be out there data

219
00:07:37,670 --> 00:07:41,060
that can be inferred also includes email

220
00:07:39,680 --> 00:07:42,980
interactions what type of mail servers

221
00:07:41,060 --> 00:07:44,300
are you interacting with on your network

222
00:07:42,980 --> 00:07:46,250
who what companies are you doing

223
00:07:44,300 --> 00:07:50,210
business with who are you sending email

224
00:07:46,250 --> 00:07:52,100
to email records in DNS also have SPF

225
00:07:50,210 --> 00:07:54,409
records right SPF record sender policy

226
00:07:52,100 --> 00:07:56,150
framework records that tell you what

227
00:07:54,410 --> 00:07:56,930
servers are allowed to send mail on your

228
00:07:56,150 --> 00:07:59,570
behalf

229
00:07:56,930 --> 00:08:01,520
pretty interesting way to give people

230
00:07:59,570 --> 00:08:02,990
that want to fish you and spam you a way

231
00:08:01,520 --> 00:08:05,030
to figure out how to hone their mail

232
00:08:02,990 --> 00:08:06,140
delivery to the right servers right they

233
00:08:05,030 --> 00:08:07,760
don't have to waste their time they can

234
00:08:06,140 --> 00:08:09,169
figure out what mail is gonna what

235
00:08:07,760 --> 00:08:12,230
servers are gonna accept mail for this

236
00:08:09,170 --> 00:08:14,270
for this domain internal web

237
00:08:12,230 --> 00:08:17,170
applications how many of you use things

238
00:08:14,270 --> 00:08:19,849
like carbon black or SonicWALL or

239
00:08:17,170 --> 00:08:21,500
anti-virus applications have you ever

240
00:08:19,850 --> 00:08:24,080
looked at your DNS that's outbound on

241
00:08:21,500 --> 00:08:25,850
your network from those applications how

242
00:08:24,080 --> 00:08:27,650
do you think they do reputation services

243
00:08:25,850 --> 00:08:30,110
for domains that are being looked at on

244
00:08:27,650 --> 00:08:32,240
each individual machine they hash the

245
00:08:30,110 --> 00:08:35,120
domain value send it out to a DNS server

246
00:08:32,240 --> 00:08:37,310
that's hosted by the company you'll say

247
00:08:35,120 --> 00:08:39,380
it's ESET for example they'll send the

248
00:08:37,309 --> 00:08:41,299
DNS request to ESET ESET will get a

249
00:08:39,380 --> 00:08:42,559
value on that DNS request and send it

250
00:08:41,299 --> 00:08:45,500
back to the servers running on that

251
00:08:42,559 --> 00:08:47,359
machine got anything it's possible some

252
00:08:45,500 --> 00:08:49,280
of those DNS packets may have other data

253
00:08:47,360 --> 00:08:52,400
in it besides just the request for the

254
00:08:49,280 --> 00:08:53,600
domain yeah you're darn straight they do

255
00:08:52,400 --> 00:08:54,579
and I'll show you where that's found a

256
00:08:53,600 --> 00:08:58,280
little bit later on

257
00:08:54,580 --> 00:09:05,240
so what other kinds of things can happen

258
00:08:58,280 --> 00:09:06,829
with DNS well people are this this shows

259
00:09:05,240 --> 00:09:08,870
you here how a man-in-the-middle attack

260
00:09:06,830 --> 00:09:10,250
occurs you go set up Wi-Fi somewhere you

261
00:09:08,870 --> 00:09:11,960
become the man in the middle byte ARP

262
00:09:10,250 --> 00:09:13,490
spoofing and you become the router and

263
00:09:11,960 --> 00:09:15,620
everybody routes or traffic through you

264
00:09:13,490 --> 00:09:18,020
you could set up your own DHCP server

265
00:09:15,620 --> 00:09:19,730
and become DNS right I think that's kind

266
00:09:18,020 --> 00:09:21,590
of nefarious right that's kind of weird

267
00:09:19,730 --> 00:09:24,020
that somebody does that well isn't it

268
00:09:21,590 --> 00:09:26,420
weird that your ISP does that very thing

269
00:09:24,020 --> 00:09:29,260
to you when you sign up and get service

270
00:09:26,420 --> 00:09:31,610
from them how is it any different right

271
00:09:29,260 --> 00:09:33,200
you're at a coffee shop in your own home

272
00:09:31,610 --> 00:09:34,760
and you're wired you don't even know it

273
00:09:33,200 --> 00:09:36,020
it's basically the same concept right

274
00:09:34,760 --> 00:09:37,819
they're filtering the traffic and

275
00:09:36,020 --> 00:09:39,319
sending the traffic where they think it

276
00:09:37,820 --> 00:09:41,780
should go not where you think it should

277
00:09:39,320 --> 00:09:43,610
go these men and middle attacks are

278
00:09:41,780 --> 00:09:45,260
really not funny think you got to figure

279
00:09:43,610 --> 00:09:50,090
out is whether you can trust your

280
00:09:45,260 --> 00:09:50,689
service providers DNS so why should I

281
00:09:50,090 --> 00:09:52,970
care

282
00:09:50,690 --> 00:09:55,490
there's malicious possibilities as well

283
00:09:52,970 --> 00:09:57,320
right it's not particularly easy to do

284
00:09:55,490 --> 00:09:59,540
at a network level unless you own the

285
00:09:57,320 --> 00:10:01,070
network but it's it's pretty easy to do

286
00:09:59,540 --> 00:10:04,640
if you're on the network where the data

287
00:10:01,070 --> 00:10:05,900
is being transferred I'm other malicious

288
00:10:04,640 --> 00:10:09,439
possibilities how many of you've gotten

289
00:10:05,900 --> 00:10:11,390
these crazy emails hey we've got video

290
00:10:09,440 --> 00:10:13,430
evidence of you doing the various things

291
00:10:11,390 --> 00:10:15,740
on the internet and if you don't pay us

292
00:10:13,430 --> 00:10:17,270
this ransom by X and X date we're going

293
00:10:15,740 --> 00:10:19,700
to release this to your friends and your

294
00:10:17,270 --> 00:10:21,260
family and we know your password right

295
00:10:19,700 --> 00:10:23,990
because they've gone out into the black

296
00:10:21,260 --> 00:10:25,939
the dark web and found out passwords

297
00:10:23,990 --> 00:10:27,590
that you might have used in the past so

298
00:10:25,940 --> 00:10:28,490
you get this feeling of how somebody

299
00:10:27,590 --> 00:10:30,170
really knows something well they're

300
00:10:28,490 --> 00:10:32,060
complete that's complete BS they don't

301
00:10:30,170 --> 00:10:33,349
have that data and you know that if

302
00:10:32,060 --> 00:10:36,560
you're smart enough you're not going to

303
00:10:33,350 --> 00:10:39,890
reply to this right but what if somebody

304
00:10:36,560 --> 00:10:41,150
is able to gather DNS data from what's

305
00:10:39,890 --> 00:10:42,650
been happening on your either home

306
00:10:41,150 --> 00:10:45,590
network private network cell phone

307
00:10:42,650 --> 00:10:47,150
network Wi-Fi network maybe somebody at

308
00:10:45,590 --> 00:10:49,190
that network is doing things like

309
00:10:47,150 --> 00:10:51,709
browsing porn or doing things that maybe

310
00:10:49,190 --> 00:10:53,480
a little nefarious now they send you an

311
00:10:51,710 --> 00:10:54,650
email saying I've got this data on you

312
00:10:53,480 --> 00:10:56,660
how do you know they don't have this

313
00:10:54,650 --> 00:10:59,240
data on you right you see how that can

314
00:10:56,660 --> 00:11:02,500
be used to get people to do things that

315
00:10:59,240 --> 00:11:04,700
they may not normally do and it's it's a

316
00:11:02,500 --> 00:11:06,350
it's pretty interesting the things that

317
00:11:04,700 --> 00:11:08,100
could happen in a corporate network if

318
00:11:06,350 --> 00:11:10,560
that if that ever comes to

319
00:11:08,100 --> 00:11:13,680
so could this browsing data be used to

320
00:11:10,560 --> 00:11:15,089
coerce somebody to do something yeah it

321
00:11:13,680 --> 00:11:19,949
might be able to be but these are just

322
00:11:15,090 --> 00:11:22,230
ideas about why leaking DNS data has

323
00:11:19,950 --> 00:11:25,800
some some implications for your network

324
00:11:22,230 --> 00:11:28,260
security so where are the leakage points

325
00:11:25,800 --> 00:11:29,280
for DNS how many of you use a product

326
00:11:28,260 --> 00:11:31,770
like umbrella

327
00:11:29,280 --> 00:11:33,569
Cisco's umbrella agent right so that

328
00:11:31,770 --> 00:11:35,010
runs as an agent it runs on SonicWALL

329
00:11:33,570 --> 00:11:38,070
firewalls it runs on a lot of different

330
00:11:35,010 --> 00:11:39,510
firewalls that umbrella agent pretty

331
00:11:38,070 --> 00:11:41,790
nefarious and leaks pretty much data

332
00:11:39,510 --> 00:11:42,870
about every device that it's on I'll

333
00:11:41,790 --> 00:11:44,910
show you a little bit more information

334
00:11:42,870 --> 00:11:48,060
about that but antivirus programs

335
00:11:44,910 --> 00:11:52,469
endpoint security programs they all will

336
00:11:48,060 --> 00:11:54,270
log in and look at DNS data happening on

337
00:11:52,470 --> 00:11:56,670
the device that there's installed on I

338
00:11:54,270 --> 00:11:59,970
mean even though that most browsers have

339
00:11:56,670 --> 00:12:03,540
built-in dns stack hmm didn't know that

340
00:11:59,970 --> 00:12:05,820
huh so you wonder why Chrome so fast you

341
00:12:03,540 --> 00:12:08,310
load a web page cnn.com it might have 20

342
00:12:05,820 --> 00:12:09,870
or 30 included domains your machines not

343
00:12:08,310 --> 00:12:11,609
doing all those lookups on the network

344
00:12:09,870 --> 00:12:13,410
stack on your device they're happening

345
00:12:11,610 --> 00:12:14,940
asynchronously through a different DNS

346
00:12:13,410 --> 00:12:17,400
resolver that's built into the browser

347
00:12:14,940 --> 00:12:20,340
it's happening so fast you don't see it

348
00:12:17,400 --> 00:12:21,870
but do you think they're not taking that

349
00:12:20,340 --> 00:12:24,180
DNS data do you think Google doesn't

350
00:12:21,870 --> 00:12:26,010
care about that data right that happens

351
00:12:24,180 --> 00:12:28,680
in the background and you don't even

352
00:12:26,010 --> 00:12:30,630
know it as you can load a web page and

353
00:12:28,680 --> 00:12:33,449
you might see a couple of domains being

354
00:12:30,630 --> 00:12:36,120
resolved over the wire on your DNS if

355
00:12:33,450 --> 00:12:38,220
you're looking for just DNS port 53 but

356
00:12:36,120 --> 00:12:40,110
if you look at multicast DNS which

357
00:12:38,220 --> 00:12:43,320
Google runs multicast DNS servers via

358
00:12:40,110 --> 00:12:44,820
UDP they'll do this asynchronous DNS

359
00:12:43,320 --> 00:12:47,220
lookup in the background and cache it

360
00:12:44,820 --> 00:12:51,210
within the browser and a lot of times

361
00:12:47,220 --> 00:12:52,770
it's done over DNS over HTTPS so you

362
00:12:51,210 --> 00:12:54,480
can't even see it looks like regular web

363
00:12:52,770 --> 00:12:55,189
traffic okay so you don't know what's

364
00:12:54,480 --> 00:12:58,110
happening

365
00:12:55,190 --> 00:13:00,510
ISP is we're logging DNS data coming off

366
00:12:58,110 --> 00:13:04,860
your network obviously and intermediate

367
00:13:00,510 --> 00:13:06,569
DNS servers also log requests so DNS C

368
00:13:04,860 --> 00:13:07,980
gets resolved from a cache server if the

369
00:13:06,570 --> 00:13:09,720
cache server doesn't have the answer it

370
00:13:07,980 --> 00:13:11,280
sends it through many many hops over the

371
00:13:09,720 --> 00:13:13,650
Internet till it gets an authoritative

372
00:13:11,280 --> 00:13:15,540
server and then the data comes back to

373
00:13:13,650 --> 00:13:18,240
the cache server at every step in that

374
00:13:15,540 --> 00:13:21,160
process there is a point where data

375
00:13:18,240 --> 00:13:22,720
could be leaked to

376
00:13:21,160 --> 00:13:25,810
anybody that wanted to aggregate that

377
00:13:22,720 --> 00:13:27,130
data so again this is the kind of data

378
00:13:25,810 --> 00:13:28,719
that could be leaked we talked about the

379
00:13:27,130 --> 00:13:30,820
basic stuff this is basic log

380
00:13:28,720 --> 00:13:33,040
information but if somebody wants to go

381
00:13:30,820 --> 00:13:34,270
to the extent of putting packets in the

382
00:13:33,040 --> 00:13:35,740
resultant network they could log

383
00:13:34,270 --> 00:13:38,680
everything that's within every DNS

384
00:13:35,740 --> 00:13:40,900
packet that leaves your network some of

385
00:13:38,680 --> 00:13:44,170
the included content again are the text

386
00:13:40,900 --> 00:13:46,120
records the SPF records D Kim keys how

387
00:13:44,170 --> 00:13:49,030
many of you know how you authenticate a

388
00:13:46,120 --> 00:13:50,950
domain against office 365 there's a

389
00:13:49,030 --> 00:13:53,860
special text record that you put a hash

390
00:13:50,950 --> 00:13:55,600
in your DNS right well somebody gets a

391
00:13:53,860 --> 00:13:57,280
sniff your DNS and potentially because

392
00:13:55,600 --> 00:14:00,250
they use that hash maybe to spoof you or

393
00:13:57,280 --> 00:14:04,120
spoof their network onto your office 365

394
00:14:00,250 --> 00:14:05,620
install not saying it's possible but

395
00:14:04,120 --> 00:14:07,750
it's likely that they could with the

396
00:14:05,620 --> 00:14:09,430
right amount of effort right so you have

397
00:14:07,750 --> 00:14:11,230
to be careful about in DNS is a great

398
00:14:09,430 --> 00:14:12,430
solution but is it always secure is it

399
00:14:11,230 --> 00:14:16,810
always the best way to share information

400
00:14:12,430 --> 00:14:19,089
not necessarily DNS information can also

401
00:14:16,810 --> 00:14:22,329
be added to DNS packets via the software

402
00:14:19,090 --> 00:14:24,130
on devices and sometimes on firewalls

403
00:14:22,330 --> 00:14:27,600
and proxies one of the big ones

404
00:14:24,130 --> 00:14:30,460
Cisco umbrella their agent puts I

405
00:14:27,600 --> 00:14:31,630
believe in the e DNS zero packet and I

406
00:14:30,460 --> 00:14:33,490
forget what the number is and I'll

407
00:14:31,630 --> 00:14:35,320
explain this a little more a little bit

408
00:14:33,490 --> 00:14:38,230
they put the device MAC address the

409
00:14:35,320 --> 00:14:39,430
local IP address the device name and a

410
00:14:38,230 --> 00:14:41,290
couple of other pieces of information

411
00:14:39,430 --> 00:14:43,630
sometimes the use of this logged in to

412
00:14:41,290 --> 00:14:45,730
that device I'll get put in a DNS packet

413
00:14:43,630 --> 00:14:47,620
and a special record in that DNS packet

414
00:14:45,730 --> 00:14:50,220
and sent along with the DNS requests out

415
00:14:47,620 --> 00:14:54,400
to the Internet didn't know that digit

416
00:14:50,220 --> 00:14:55,690
interesting how that happens so what

417
00:14:54,400 --> 00:15:00,030
kind of data could be leaked this is an

418
00:14:55,690 --> 00:15:02,710
example here of an e DNS 0

419
00:15:00,030 --> 00:15:04,030
client subnet packet who knows what

420
00:15:02,710 --> 00:15:07,660
eating ask clients something that is

421
00:15:04,030 --> 00:15:08,920
who's heard of it nobody ok well you use

422
00:15:07,660 --> 00:15:11,740
it all the time you don't even know it

423
00:15:08,920 --> 00:15:13,510
how many of you CDN networks content

424
00:15:11,740 --> 00:15:15,340
delivery networks right used to be you

425
00:15:13,510 --> 00:15:16,750
had the proxy to a website that was

426
00:15:15,340 --> 00:15:19,660
closest to you you had to pick it by

427
00:15:16,750 --> 00:15:21,880
location geolocation and do it by URL

428
00:15:19,660 --> 00:15:23,920
well Google and optimize several years

429
00:15:21,880 --> 00:15:26,680
ago came up with a way around that it's

430
00:15:23,920 --> 00:15:29,740
called geo location via DNS and it's

431
00:15:26,680 --> 00:15:31,750
done via a DNS client subnet in a

432
00:15:29,740 --> 00:15:34,150
special DNS resolver that several of the

433
00:15:31,750 --> 00:15:34,899
major resolver support Google being one

434
00:15:34,150 --> 00:15:36,600
of them Akamai

435
00:15:34,899 --> 00:15:39,129
I think CloudFlare supports it but

436
00:15:36,600 --> 00:15:40,680
within each DNS record basically if

437
00:15:39,129 --> 00:15:43,569
you're an authoritative server and

438
00:15:40,680 --> 00:15:46,059
you've got let's say you've got an East

439
00:15:43,569 --> 00:15:47,290
node in the West node for your cloud

440
00:15:46,059 --> 00:15:48,459
let's say it's Netflix they got an

441
00:15:47,290 --> 00:15:50,559
Eastside in the west side of the country

442
00:15:48,459 --> 00:15:52,689
they have two different IP addresses for

443
00:15:50,559 --> 00:15:55,360
those two sides of the country when you

444
00:15:52,689 --> 00:15:57,610
resolve the DNS it goes against the

445
00:15:55,360 --> 00:15:59,529
database that shows your information

446
00:15:57,610 --> 00:16:01,689
this right here that's the source IP

447
00:15:59,529 --> 00:16:03,579
that's your one IP address that's packed

448
00:16:01,689 --> 00:16:05,559
into the DNS packets sent out to the

449
00:16:03,579 --> 00:16:08,050
Internet and it's in a special packet

450
00:16:05,559 --> 00:16:09,490
I'll show you this in a second when that

451
00:16:08,050 --> 00:16:11,258
gets to the DNS server the DNS server

452
00:16:09,490 --> 00:16:12,999
goes oh that's geo located on the East

453
00:16:11,259 --> 00:16:15,999
Coast I'll return the DNS for the East

454
00:16:12,999 --> 00:16:17,139
Coast and then you go to Netflix on the

455
00:16:15,999 --> 00:16:19,179
East Coast if that's where you live

456
00:16:17,139 --> 00:16:20,949
that's a simplified way that it works

457
00:16:19,179 --> 00:16:25,240
but as much faster and much quicker than

458
00:16:20,949 --> 00:16:27,099
doing it via HTTP HTTP proxy so that's

459
00:16:25,240 --> 00:16:30,610
how that works but this all of this

460
00:16:27,100 --> 00:16:33,009
information here is included in the

461
00:16:30,610 --> 00:16:34,629
payload in that one packet I'm going to

462
00:16:33,009 --> 00:16:38,709
show you how that's structured in just a

463
00:16:34,629 --> 00:16:44,129
second so this is actually a wireshark

464
00:16:38,709 --> 00:16:47,949
capture of the a dns option record for

465
00:16:44,129 --> 00:16:50,529
one dns request so then that DNS request

466
00:16:47,949 --> 00:16:52,660
up top would be all of the regular DNS

467
00:16:50,529 --> 00:16:55,059
information but this is down in the

468
00:16:52,660 --> 00:16:58,269
payload portion that's in the e DNS zero

469
00:16:55,059 --> 00:16:59,889
option three DNS option packet and right

470
00:16:58,269 --> 00:17:02,350
in here is the option code that's used

471
00:16:59,889 --> 00:17:04,750
there's interesting parties of six

472
00:17:02,350 --> 00:17:05,949
thousand sixty-five thousand five

473
00:17:04,750 --> 00:17:07,510
hundred and thirty three different

474
00:17:05,949 --> 00:17:11,439
options that are available there's only

475
00:17:07,510 --> 00:17:13,029
about twelve that are in use so if

476
00:17:11,439 --> 00:17:16,149
you're into writing malicious code and

477
00:17:13,029 --> 00:17:18,159
you want to transfer data via DNS that's

478
00:17:16,148 --> 00:17:19,809
the place to do it in the e DNS option

479
00:17:18,159 --> 00:17:21,579
packets I'm not telling you should do

480
00:17:19,809 --> 00:17:22,658
that but that's where you could do it if

481
00:17:21,579 --> 00:17:24,908
you could write something that would

482
00:17:22,659 --> 00:17:26,140
read option fifteen hundred and ninety

483
00:17:24,909 --> 00:17:27,669
five you could send your data back and

484
00:17:26,140 --> 00:17:30,760
forth in those packets nobody would ever

485
00:17:27,669 --> 00:17:32,890
see it in DNS they don't look for it it

486
00:17:30,760 --> 00:17:34,740
would be completely stealthy nobody

487
00:17:32,890 --> 00:17:37,270
would ever see it

488
00:17:34,740 --> 00:17:38,830
this option eight is the name of the

489
00:17:37,270 --> 00:17:44,889
number of the option they're assigned 0

490
00:17:38,830 --> 00:17:46,658
through 65 334 that one's a RFC one and

491
00:17:44,889 --> 00:17:48,790
that's the one does e DNS client subnet

492
00:17:46,659 --> 00:17:50,530
and it tells you the source net masse

493
00:17:48,790 --> 00:17:53,050
the scope of the mask and the client IP

494
00:17:50,530 --> 00:17:55,570
that's the IP address of the LAN that

495
00:17:53,050 --> 00:17:57,490
made the request and every DNS server

496
00:17:55,570 --> 00:17:59,350
will just simply forward that packet on

497
00:17:57,490 --> 00:18:01,800
to the next server so it's in every DNS

498
00:17:59,350 --> 00:18:06,520
packet as it hops across the Internet

499
00:18:01,800 --> 00:18:09,250
this is a quick view of it's a gray log

500
00:18:06,520 --> 00:18:11,740
interface that we use to look at data on

501
00:18:09,250 --> 00:18:14,830
some cache servers on a very small ISP

502
00:18:11,740 --> 00:18:18,700
that we run kind of as a experimental

503
00:18:14,830 --> 00:18:20,830
thing but basically this is using packet

504
00:18:18,700 --> 00:18:23,380
beat as part of the elk stack you can

505
00:18:20,830 --> 00:18:25,600
install packet beat on a there can be a

506
00:18:23,380 --> 00:18:27,700
buying server can be unbound in this

507
00:18:25,600 --> 00:18:30,010
case it's unbound and it actually just

508
00:18:27,700 --> 00:18:33,970
sniffs all the DNS traffic in parallel

509
00:18:30,010 --> 00:18:35,410
ships it off in a packet that gray log

510
00:18:33,970 --> 00:18:37,540
understands and then we can look at the

511
00:18:35,410 --> 00:18:39,160
data and what this query here tells me

512
00:18:37,540 --> 00:18:41,560
basically can't read it's kind of small

513
00:18:39,160 --> 00:18:43,000
but it's telling me show me every packet

514
00:18:41,560 --> 00:18:45,820
that's leaving the internet or the

515
00:18:43,000 --> 00:18:48,220
connection of the DNS server that has a

516
00:18:45,820 --> 00:18:50,200
DNS client subnet data in it and this is

517
00:18:48,220 --> 00:18:53,260
a very small ISP against to the number

518
00:18:50,200 --> 00:18:56,320
of 300 200 but this is every it's every

519
00:18:53,260 --> 00:18:57,760
second so those every second that

520
00:18:56,320 --> 00:19:00,580
information is being leaked out to the

521
00:18:57,760 --> 00:19:01,810
Internet to upstream servers and that

522
00:19:00,580 --> 00:19:03,220
just shows you that you can actually

523
00:19:01,810 --> 00:19:03,460
monitor it so we'll talk about that in a

524
00:19:03,220 --> 00:19:06,100
minute

525
00:19:03,460 --> 00:19:08,470
other information that can be overlooked

526
00:19:06,100 --> 00:19:11,649
in DNS that you see if you were to log

527
00:19:08,470 --> 00:19:14,380
it or sniff DNS traffic our MX records

528
00:19:11,650 --> 00:19:16,540
this'n fits in firm a lav it's email

529
00:19:14,380 --> 00:19:19,150
habits who am I talking to what

530
00:19:16,540 --> 00:19:20,770
customers what places am i sending data

531
00:19:19,150 --> 00:19:24,160
who should I go after who should i

532
00:19:20,770 --> 00:19:26,980
target if I want to fish somebody and

533
00:19:24,160 --> 00:19:28,720
also its service provider and that's

534
00:19:26,980 --> 00:19:30,880
what I mean by that is the ones that are

535
00:19:28,720 --> 00:19:33,400
doing your east set and all of those

536
00:19:30,880 --> 00:19:35,110
kinds of things the service or software

537
00:19:33,400 --> 00:19:36,850
that's on your machine they're actually

538
00:19:35,110 --> 00:19:38,850
using DNS to validate the score of

539
00:19:36,850 --> 00:19:41,169
domains and URLs so they send a

540
00:19:38,850 --> 00:19:43,389
specifically crafted DNS packet for

541
00:19:41,170 --> 00:19:45,690
every different domain or URL to an

542
00:19:43,390 --> 00:19:48,940
outside source and get a response back

543
00:19:45,690 --> 00:19:51,730
basically idea DNS blacklist and rbl

544
00:19:48,940 --> 00:19:54,250
lists kind of thing so this also can

545
00:19:51,730 --> 00:19:55,570
disclose to people that are looking at

546
00:19:54,250 --> 00:19:57,190
your DNS what software you have

547
00:19:55,570 --> 00:19:59,110
installed on your network if they know

548
00:19:57,190 --> 00:20:01,030
what to look for right and every vendor

549
00:19:59,110 --> 00:20:02,979
puts this out there if you dig through

550
00:20:01,030 --> 00:20:04,720
their documentation you'll find

551
00:20:02,980 --> 00:20:07,149
they don't advertise what they do but if

552
00:20:04,720 --> 00:20:08,379
you ask they'll tell you that this is

553
00:20:07,149 --> 00:20:09,699
the kind of information that they're

554
00:20:08,379 --> 00:20:13,059
using and how they're getting it out to

555
00:20:09,700 --> 00:20:16,870
the internet so how's the DNS tracked

556
00:20:13,059 --> 00:20:19,120
well your ISP or your local ad cache

557
00:20:16,870 --> 00:20:23,559
server or anybody in the path of your

558
00:20:19,120 --> 00:20:25,989
DNS will obviously log it they can log

559
00:20:23,559 --> 00:20:28,418
the DNS through the regular log methods

560
00:20:25,990 --> 00:20:31,299
some firewalls log at some proxies log

561
00:20:28,419 --> 00:20:33,909
DNS local devices third-party analytics

562
00:20:31,299 --> 00:20:35,710
log DNS or you could do package sniffing

563
00:20:33,909 --> 00:20:39,220
where you gather all of the DNS packets

564
00:20:35,710 --> 00:20:41,619
a lot of times IPS an IDs devices do

565
00:20:39,220 --> 00:20:44,350
this and ISPs will do this a hundred

566
00:20:41,619 --> 00:20:46,139
percent because ISPs are looking for

567
00:20:44,350 --> 00:20:47,918
more and more one of the big

568
00:20:46,139 --> 00:20:49,360
vulnerabilities or one of the big

569
00:20:47,919 --> 00:20:51,850
exploits that they see is data

570
00:20:49,360 --> 00:20:53,139
exfiltration via DNS how many of you

571
00:20:51,850 --> 00:20:57,759
ever seen that on your network what it

572
00:20:53,139 --> 00:20:59,639
looks like you would know it when you

573
00:20:57,759 --> 00:21:02,230
saw it but you won't look for it because

574
00:20:59,639 --> 00:21:03,219
it kind of flies under the radar there's

575
00:21:02,230 --> 00:21:05,139
something called domain generation

576
00:21:03,220 --> 00:21:08,470
algorithms that most malware will use

577
00:21:05,139 --> 00:21:12,789
it'll generate random subnet or yeah

578
00:21:08,470 --> 00:21:15,100
subnet domains for a normal domain and

579
00:21:12,789 --> 00:21:16,570
it'll use these domains to send out over

580
00:21:15,100 --> 00:21:18,490
your DNS server most of them will fail

581
00:21:16,570 --> 00:21:19,928
they'll be NX lookups but a few of those

582
00:21:18,490 --> 00:21:21,669
will be the legitimate domain they're

583
00:21:19,929 --> 00:21:23,289
actually registered they have a name

584
00:21:21,669 --> 00:21:25,269
server on the other side the name server

585
00:21:23,289 --> 00:21:26,980
responds with a proper piece of

586
00:21:25,269 --> 00:21:29,769
information IP address whatever the type

587
00:21:26,980 --> 00:21:31,840
record it's looking for but the far away

588
00:21:29,769 --> 00:21:33,700
mails are the following DNS server the

589
00:21:31,840 --> 00:21:35,350
malicious one does some other features

590
00:21:33,700 --> 00:21:38,009
it reactor gates the data that's being

591
00:21:35,350 --> 00:21:40,809
sent as part of the subnet data are the

592
00:21:38,009 --> 00:21:43,990
record data over to that DNS server so

593
00:21:40,809 --> 00:21:45,668
you can exit rate data from devices or

594
00:21:43,990 --> 00:21:50,559
do botnet command control very easily

595
00:21:45,669 --> 00:21:53,529
using DNS this is a typical DNS

596
00:21:50,559 --> 00:21:55,269
resolution process obviously if a host

597
00:21:53,529 --> 00:21:56,740
request from a cache server what the

598
00:21:55,269 --> 00:21:58,899
domain is cache server has it in its

599
00:21:56,740 --> 00:22:00,700
cache it goes right back nothing else

600
00:21:58,899 --> 00:22:03,309
leaves out to the Internet at some point

601
00:22:00,700 --> 00:22:06,600
in life this cache server has to go out

602
00:22:03,309 --> 00:22:09,519
to the root server get the root server

603
00:22:06,600 --> 00:22:11,830
top-level domain server for the domain

604
00:22:09,519 --> 00:22:14,289
say you're doing a prefer Kham Kham is

605
00:22:11,830 --> 00:22:15,889
the root the dot-com root server knows

606
00:22:14,289 --> 00:22:18,740
that a prefer com

607
00:22:15,890 --> 00:22:20,390
is hosted by these two name servers then

608
00:22:18,740 --> 00:22:22,370
we have to go to those two name servers

609
00:22:20,390 --> 00:22:24,260
to get well actually the root server

610
00:22:22,370 --> 00:22:25,129
knows that the dot-coms there then we

611
00:22:24,260 --> 00:22:26,600
have to go out to the authoritative

612
00:22:25,130 --> 00:22:28,700
server and then back to the cache server

613
00:22:26,600 --> 00:22:30,770
back to the localhost so there's eight

614
00:22:28,700 --> 00:22:33,050
steps involved here and every one of

615
00:22:30,770 --> 00:22:38,960
those eight steps and DNS data could be

616
00:22:33,050 --> 00:22:41,000
leaked through that process so you have

617
00:22:38,960 --> 00:22:42,740
leakage points on your land so if you're

618
00:22:41,000 --> 00:22:44,480
on a at your home network you're

619
00:22:42,740 --> 00:22:45,680
probably not monitoring your DNS right I

620
00:22:44,480 --> 00:22:47,360
mean there's probably nothing happening

621
00:22:45,680 --> 00:22:48,680
there but if you're in a work network if

622
00:22:47,360 --> 00:22:50,719
you in a coffee shop if you're anywhere

623
00:22:48,680 --> 00:22:53,360
where you're it's untrusted you're

624
00:22:50,720 --> 00:22:55,070
probably having some sort of information

625
00:22:53,360 --> 00:22:58,189
gathered about your DNS that's happening

626
00:22:55,070 --> 00:22:59,870
I guarantee you your ISP is monitoring

627
00:22:58,190 --> 00:23:03,500
logging and looking at all of your DNS

628
00:22:59,870 --> 00:23:05,540
data the upstream cache servers probably

629
00:23:03,500 --> 00:23:07,280
are the authoritative servers are the

630
00:23:05,540 --> 00:23:08,870
root servers they pretty much advertise

631
00:23:07,280 --> 00:23:11,420
that they don't do any gathering they're

632
00:23:08,870 --> 00:23:13,129
selling of data they will do it only for

633
00:23:11,420 --> 00:23:14,480
purposes of logging and troubleshooting

634
00:23:13,130 --> 00:23:16,100
and I don't think they keep the data for

635
00:23:14,480 --> 00:23:20,870
any period of time that's part of their

636
00:23:16,100 --> 00:23:22,939
agreement with with ICANN I think in the

637
00:23:20,870 --> 00:23:25,270
our IANA that allows them to be root

638
00:23:22,940 --> 00:23:27,260
servers so they have some pretty strict

639
00:23:25,270 --> 00:23:28,730
requirements for what they can and can't

640
00:23:27,260 --> 00:23:30,080
do so the root servers are pretty safe

641
00:23:28,730 --> 00:23:34,220
but the rest of the servers in the path

642
00:23:30,080 --> 00:23:37,610
not so much so how do you secure dns

643
00:23:34,220 --> 00:23:40,040
remember security is relative it's not

644
00:23:37,610 --> 00:23:41,510
absolute so we're looking here from

645
00:23:40,040 --> 00:23:43,960
security we're talking about privacy

646
00:23:41,510 --> 00:23:46,100
only and the other part of it would be

647
00:23:43,960 --> 00:23:48,440
assurance that the domain that you look

648
00:23:46,100 --> 00:23:49,790
up is really the the response that

649
00:23:48,440 --> 00:23:51,320
you're getting is really from the domain

650
00:23:49,790 --> 00:23:52,850
server that should be handling that

651
00:23:51,320 --> 00:23:55,070
response so there's two different things

652
00:23:52,850 --> 00:24:00,590
that are happening here the ways that

653
00:23:55,070 --> 00:24:04,939
this happen are using DNS over HTTP this

654
00:24:00,590 --> 00:24:08,030
is defined in RFC 84-84 uses standard

655
00:24:04,940 --> 00:24:12,560
port 443 and a standard HTTP connection

656
00:24:08,030 --> 00:24:14,060
with a normal HTTP handshake now most of

657
00:24:12,560 --> 00:24:18,050
the implementations i've looked at of

658
00:24:14,060 --> 00:24:19,940
this are using TLS 1.3 which is a much a

659
00:24:18,050 --> 00:24:22,399
very new standard for TLS connections

660
00:24:19,940 --> 00:24:27,070
well the big difference is between TLS

661
00:24:22,400 --> 00:24:29,549
1.1 1.2 and now 1.3 is the number of

662
00:24:27,070 --> 00:24:31,360
back-and-forth

663
00:24:29,549 --> 00:24:34,389
handshakes that have to happen before

664
00:24:31,360 --> 00:24:38,290
the connection is established so in with

665
00:24:34,390 --> 00:24:41,230
TLS 1.3 it's much faster because it does

666
00:24:38,290 --> 00:24:43,450
all of the handshake information in one

667
00:24:41,230 --> 00:24:45,160
roundtrip essentially so the initial

668
00:24:43,450 --> 00:24:47,080
client will send everything it needs to

669
00:24:45,160 --> 00:24:48,910
the server the server will then initiate

670
00:24:47,080 --> 00:24:50,678
the connection agree to the connection

671
00:24:48,910 --> 00:24:52,809
and send back an encrypted connection

672
00:24:50,679 --> 00:24:56,290
with a handshake yes now we can send

673
00:24:52,809 --> 00:24:58,960
data encrypted very quickly whereas 1.1

674
00:24:56,290 --> 00:25:00,879
1.2 1.0 you shouldn't be using 1.0

675
00:24:58,960 --> 00:25:03,190
shouldn't be using SSL 3.0 you should

676
00:25:00,880 --> 00:25:04,090
turn that off you know turn that

677
00:25:03,190 --> 00:25:08,260
off okay

678
00:25:04,090 --> 00:25:11,260
be done with it turn it off right it's

679
00:25:08,260 --> 00:25:14,200
really bad it's not a good thing but

680
00:25:11,260 --> 00:25:16,179
anyway um I gave a talk a couple weeks

681
00:25:14,200 --> 00:25:18,270
ago on that so um I don't wanna get off

682
00:25:16,179 --> 00:25:21,190
on that tangent but anyway

683
00:25:18,270 --> 00:25:22,570
TLS 1.3 is much faster and it's a much

684
00:25:21,190 --> 00:25:24,640
more secure one of the problems and

685
00:25:22,570 --> 00:25:28,090
aside with TLS 1.3 as browsers will

686
00:25:24,640 --> 00:25:30,730
start to have support for encrypted s ni

687
00:25:28,090 --> 00:25:32,889
s ni is server name indicator so if you

688
00:25:30,730 --> 00:25:36,309
ever sniffed packets on your network and

689
00:25:32,890 --> 00:25:38,200
you're using TLS 1.1 1.2 you can tell

690
00:25:36,309 --> 00:25:39,490
the domain where those where that data

691
00:25:38,200 --> 00:25:41,440
is traveling back and forth because

692
00:25:39,490 --> 00:25:43,660
that's the server name indicator packet

693
00:25:41,440 --> 00:25:45,240
so when it gets to the remote server you

694
00:25:43,660 --> 00:25:48,220
don't have to have an IP for every

695
00:25:45,240 --> 00:25:49,960
website you're hosting or every API you

696
00:25:48,220 --> 00:25:52,480
have one IP and it's done by host

697
00:25:49,960 --> 00:25:55,630
headers well tell us one point three has

698
00:25:52,480 --> 00:25:59,350
a built-in RFC for encrypting the s ni

699
00:25:55,630 --> 00:26:03,240
headers so if you do any kind of packet

700
00:25:59,350 --> 00:26:05,439
sniffing or man-in-the-middle for HTTP s

701
00:26:03,240 --> 00:26:07,419
you can kiss that goodbye because they

702
00:26:05,440 --> 00:26:08,500
ain't gonna work with encrypted s ni

703
00:26:07,419 --> 00:26:10,179
header so you'll never know where the

704
00:26:08,500 --> 00:26:11,380
data is going and you won't be able to

705
00:26:10,179 --> 00:26:12,820
figure out where to get the certificate

706
00:26:11,380 --> 00:26:14,830
to be able to decrypt the data in

707
00:26:12,820 --> 00:26:19,270
transit to see what's happening so this

708
00:26:14,830 --> 00:26:22,149
is a big deal the other standard for dns

709
00:26:19,270 --> 00:26:25,090
security is DNS over TLS this is

710
00:26:22,150 --> 00:26:28,840
different this is these two rfcs here

711
00:26:25,090 --> 00:26:32,409
and it includes two pieces so normal DNS

712
00:26:28,840 --> 00:26:35,740
traffic is UDP this sets up a standard

713
00:26:32,410 --> 00:26:39,820
where you can implement Datagram UDP

714
00:26:35,740 --> 00:26:42,310
over TLS so it more like GAE an IPSec

715
00:26:39,820 --> 00:26:44,409
VPN tunnel instead of an HTTP connect

716
00:26:42,310 --> 00:26:47,050
and think of it that way but the

717
00:26:44,410 --> 00:26:49,570
standard uses actually DNS over TLS so

718
00:26:47,050 --> 00:26:52,330
all of the queries are sent over it and

719
00:26:49,570 --> 00:26:53,500
cryptid TLS connection over TCP so

720
00:26:52,330 --> 00:26:55,899
server on the other side answers

721
00:26:53,500 --> 00:26:58,930
everything on TCP essentially and it

722
00:26:55,900 --> 00:27:00,820
uses a standard port 853 and it's a TCP

723
00:26:58,930 --> 00:27:05,200
connection so the two are a little bit

724
00:27:00,820 --> 00:27:06,460
different when they both came out of

725
00:27:05,200 --> 00:27:07,510
course you have to have Twitter there

726
00:27:06,460 --> 00:27:09,490
has to be a pissing match about

727
00:27:07,510 --> 00:27:11,800
something right nobody can agree on a

728
00:27:09,490 --> 00:27:14,310
standard because nobody wants to agree

729
00:27:11,800 --> 00:27:16,389
on things so Nick Sullivan works at

730
00:27:14,310 --> 00:27:20,590
CloudFlare he's one of the developers of

731
00:27:16,390 --> 00:27:23,800
this whole DNS over HTTP the do H and

732
00:27:20,590 --> 00:27:27,340
anybody who Paul vixie is the guy that

733
00:27:23,800 --> 00:27:30,100
invented bind right so he's kind of the

734
00:27:27,340 --> 00:27:32,500
father of DNS he now works at Farsight

735
00:27:30,100 --> 00:27:35,230
technology won a president founder of

736
00:27:32,500 --> 00:27:37,150
that company and his his comment

737
00:27:35,230 --> 00:27:39,010
obviously is and this is a quote this is

738
00:27:37,150 --> 00:27:40,810
actually what the tweet said it's a

739
00:27:39,010 --> 00:27:42,190
cluster duck for Internet security sorry

740
00:27:40,810 --> 00:27:44,590
to rain on your parade the inmates have

741
00:27:42,190 --> 00:27:46,930
taken over the asylum so why would that

742
00:27:44,590 --> 00:27:50,530
be thinking through shouldn't DNS be

743
00:27:46,930 --> 00:27:52,030
secure yeah maybe but he has some points

744
00:27:50,530 --> 00:27:54,360
and I think they both make good points

745
00:27:52,030 --> 00:27:57,250
about things what we want to look at

746
00:27:54,360 --> 00:28:02,379
contrast and compare these two different

747
00:27:57,250 --> 00:28:05,910
technologies so DNS over HTTP uses an

748
00:28:02,380 --> 00:28:08,200
existing port 443 an existing protocol

749
00:28:05,910 --> 00:28:10,270
you see any problems and that might

750
00:28:08,200 --> 00:28:12,030
present if you're trying to filter DNS

751
00:28:10,270 --> 00:28:15,070
based on bad domain name look ups

752
00:28:12,030 --> 00:28:16,240
there's no sni and that you can't see

753
00:28:15,070 --> 00:28:18,429
what they're looking up

754
00:28:16,240 --> 00:28:21,070
you can't filter the DNS you can't even

755
00:28:18,430 --> 00:28:22,390
see the DNS traffic all right so now if

756
00:28:21,070 --> 00:28:24,040
you're infected with malware how the

757
00:28:22,390 --> 00:28:27,220
hell are you going to tell if all of

758
00:28:24,040 --> 00:28:28,840
your network is using DNS over HTTP to

759
00:28:27,220 --> 00:28:31,000
send DNS traffic back and forth to your

760
00:28:28,840 --> 00:28:32,439
cache resolvers now you have to do on

761
00:28:31,000 --> 00:28:34,780
the endpoint you have to look at DNS on

762
00:28:32,440 --> 00:28:36,880
the endpoints so it hides the traffic in

763
00:28:34,780 --> 00:28:38,410
existing HTTP traffic so you don't know

764
00:28:36,880 --> 00:28:41,890
the difference between DNS and what's

765
00:28:38,410 --> 00:28:43,600
real HTTP traffic it's possible to do

766
00:28:41,890 --> 00:28:46,180
man-in-the-middle because you can do

767
00:28:43,600 --> 00:28:48,969
inspection not every client right now

768
00:28:46,180 --> 00:28:50,950
uses the encrypted sni once that happens

769
00:28:48,970 --> 00:28:52,540
you won't be able to inspect it it's

770
00:28:50,950 --> 00:28:53,940
hard to block just malicious domains

771
00:28:52,540 --> 00:28:57,809
without import

772
00:28:53,940 --> 00:29:00,929
impacting the DNS process it ensures

773
00:28:57,809 --> 00:29:03,299
reasonable privacy but at the expense of

774
00:29:00,929 --> 00:29:06,230
a great deal of overhead and it's slow

775
00:29:03,299 --> 00:29:09,149
it's much slower than normal DNS the

776
00:29:06,230 --> 00:29:11,250
other thing is it has caching issues it

777
00:29:09,149 --> 00:29:14,250
doesn't use the normal DNS cache on your

778
00:29:11,250 --> 00:29:16,740
computer because it's HTTP right so the

779
00:29:14,250 --> 00:29:19,200
DNS on a local device might get a query

780
00:29:16,740 --> 00:29:21,149
through DNS over HTTP but there's really

781
00:29:19,200 --> 00:29:23,730
no way to cache that information in a

782
00:29:21,149 --> 00:29:26,189
way that works well the other standard

783
00:29:23,730 --> 00:29:30,629
is really think of it more like standard

784
00:29:26,190 --> 00:29:33,029
DNS that's just using TCP protocol and a

785
00:29:30,629 --> 00:29:34,199
dedicated port 853 the traffic is

786
00:29:33,029 --> 00:29:35,730
visible because you can look at the

787
00:29:34,200 --> 00:29:38,129
traffic that's happening over that port

788
00:29:35,730 --> 00:29:40,289
but you can't see what's in the traffic

789
00:29:38,129 --> 00:29:43,199
because it's encrypted in a basically a

790
00:29:40,289 --> 00:29:45,360
TLS encrypted tunnel between the DNS

791
00:29:43,200 --> 00:29:46,649
server that's making the request of the

792
00:29:45,360 --> 00:29:50,908
DNS endpoint that's answering the

793
00:29:46,649 --> 00:29:52,110
request now keep in mind this is not at

794
00:29:50,909 --> 00:29:53,909
this point we're not talking about the

795
00:29:52,110 --> 00:29:55,769
client encrypting DNS on the network

796
00:29:53,909 --> 00:29:58,889
stack we're talking about the DNS server

797
00:29:55,769 --> 00:30:01,289
that's being queried locally making an

798
00:29:58,889 --> 00:30:02,928
outbound query to another machine that

799
00:30:01,289 --> 00:30:05,789
is doing it over an encrypted tunnel

800
00:30:02,929 --> 00:30:09,120
okay we'll get to how we can encrypt it

801
00:30:05,789 --> 00:30:11,879
from the endpoint in just a minute the

802
00:30:09,120 --> 00:30:14,459
full privacy is guaranteed if you trust

803
00:30:11,879 --> 00:30:15,809
the cache resolvers now cached resolvers

804
00:30:14,460 --> 00:30:17,250
on the other side may log that

805
00:30:15,809 --> 00:30:20,789
information so again this is where

806
00:30:17,250 --> 00:30:22,379
privacy is relative right at what what

807
00:30:20,789 --> 00:30:23,908
point are you willing to trust somebody

808
00:30:22,379 --> 00:30:25,799
to give you an answer that you're going

809
00:30:23,909 --> 00:30:27,539
to accept it's basically the question

810
00:30:25,799 --> 00:30:29,269
it's a whole lot less overhead and it

811
00:30:27,539 --> 00:30:34,370
requires both the server and the client

812
00:30:29,269 --> 00:30:37,649
to rework their communications protocol

813
00:30:34,370 --> 00:30:39,989
so how can I check to see if my DNS is

814
00:30:37,649 --> 00:30:41,668
leaking information typically you think

815
00:30:39,990 --> 00:30:43,200
of DNS leaking when you're doing

816
00:30:41,669 --> 00:30:45,330
something like a VPN tunnel or doing

817
00:30:43,200 --> 00:30:46,919
something over tor but really it can

818
00:30:45,330 --> 00:30:48,809
happen with any network it's just a

819
00:30:46,919 --> 00:30:51,149
matter of what that data is being

820
00:30:48,809 --> 00:30:54,120
tunneled through so one of the ways you

821
00:30:51,149 --> 00:30:56,309
can do it pretty quickly is use bind if

822
00:30:54,120 --> 00:30:59,309
you're using bind for Windows the way to

823
00:30:56,309 --> 00:31:01,168
do that is go to is c.org download go

824
00:30:59,309 --> 00:31:02,129
down and download the bind for Windows

825
00:31:01,169 --> 00:31:05,190
it's a zip file

826
00:31:02,129 --> 00:31:07,070
put it on your disk in a C colon

827
00:31:05,190 --> 00:31:08,810
backslash bind unzip it

828
00:31:07,070 --> 00:31:11,480
you have to run this C++ runtime

829
00:31:08,810 --> 00:31:14,060
installer one time to make the program

830
00:31:11,480 --> 00:31:16,790
work doesn't install bind as a service

831
00:31:14,060 --> 00:31:18,860
but one of the features of the whole

832
00:31:16,790 --> 00:31:22,340
buying package is that you can do use

833
00:31:18,860 --> 00:31:25,760
dig on Windows so quick and easy way to

834
00:31:22,340 --> 00:31:29,500
find out if your ISP is redirecting

835
00:31:25,760 --> 00:31:30,770
filtering or intercepting your DNS go to

836
00:31:29,500 --> 00:31:32,570
Internet

837
00:31:30,770 --> 00:31:34,970
pick a domain name look up the name

838
00:31:32,570 --> 00:31:36,950
servers for that domain name you would

839
00:31:34,970 --> 00:31:38,810
go say you're looking at Microsoft calm

840
00:31:36,950 --> 00:31:40,610
and you know that there are name servers

841
00:31:38,810 --> 00:31:43,340
ns1 Microsoft com

842
00:31:40,610 --> 00:31:45,979
so the question would be dig at ns1

843
00:31:43,340 --> 00:31:49,459
Microsoft's calm space Microsoft comm

844
00:31:45,980 --> 00:31:53,450
enter you get a reply back and there's a

845
00:31:49,460 --> 00:31:56,720
flag field and if you told Digg to go to

846
00:31:53,450 --> 00:31:59,600
Microsoft comm and s1 Microsoft comm and

847
00:31:56,720 --> 00:32:03,170
there's no a a flag in that record that

848
00:31:59,600 --> 00:32:05,209
comes back you got a problem that record

849
00:32:03,170 --> 00:32:07,520
means it's an authoritative answer it

850
00:32:05,210 --> 00:32:09,620
came from an authoritative server if

851
00:32:07,520 --> 00:32:11,480
your ISP or whoever you're working with

852
00:32:09,620 --> 00:32:13,760
is redirecting that request that you

853
00:32:11,480 --> 00:32:16,340
point into the authoritative server it's

854
00:32:13,760 --> 00:32:17,750
coming back with no a a flag that means

855
00:32:16,340 --> 00:32:19,340
you never reach the authoritative server

856
00:32:17,750 --> 00:32:21,020
some cache server intermediately

857
00:32:19,340 --> 00:32:23,149
answered that query on your behalf

858
00:32:21,020 --> 00:32:26,389
that's a direct indication that

859
00:32:23,150 --> 00:32:28,100
somebody's screwing your dns this tool

860
00:32:26,390 --> 00:32:31,760
Google put out several years ago it's a

861
00:32:28,100 --> 00:32:33,260
great tool for comparing DNS speeds it's

862
00:32:31,760 --> 00:32:35,870
called name bench you can get it at this

863
00:32:33,260 --> 00:32:36,830
URL but it has a censorship check in

864
00:32:35,870 --> 00:32:39,050
there that will tell you whether your

865
00:32:36,830 --> 00:32:40,790
DNS is being filtered or redirected so

866
00:32:39,050 --> 00:32:44,060
it takes a while to run so you know

867
00:32:40,790 --> 00:32:46,670
start it up set the settings run it and

868
00:32:44,060 --> 00:32:47,690
then go to lunch or something cuz it

869
00:32:46,670 --> 00:32:49,670
will take a while but it will give you

870
00:32:47,690 --> 00:32:51,710
some interesting results an easier way

871
00:32:49,670 --> 00:32:56,840
to is remember something if you're doing

872
00:32:51,710 --> 00:32:58,430
penetration tests or go to nmap get nmap

873
00:32:56,840 --> 00:33:01,850
and you can actually just start scanning

874
00:32:58,430 --> 00:33:05,060
random IPS every IP you scan for port 53

875
00:33:01,850 --> 00:33:07,189
has port 53 open that's probably not a

876
00:33:05,060 --> 00:33:09,620
true reading so that means again

877
00:33:07,190 --> 00:33:12,260
something in line between you and your

878
00:33:09,620 --> 00:33:14,689
target is redirecting port 53 to a

879
00:33:12,260 --> 00:33:16,100
device that has 453 open right there's

880
00:33:14,690 --> 00:33:20,510
not everybody on the internet answers on

881
00:33:16,100 --> 00:33:20,658
port 53 either some DNS leak test here

882
00:33:20,510 --> 00:33:22,879
the

883
00:33:20,659 --> 00:33:25,429
intended to test for leakage of

884
00:33:22,879 --> 00:33:27,978
information over VPN connections what

885
00:33:25,429 --> 00:33:29,779
they'll tell you basically is are the

886
00:33:27,979 --> 00:33:32,149
DNS queries that are going out of my

887
00:33:29,779 --> 00:33:34,789
network from my browser from my devices

888
00:33:32,149 --> 00:33:36,619
are they actually going to the DNS

889
00:33:34,789 --> 00:33:37,789
servers that I expect them to be going

890
00:33:36,619 --> 00:33:39,978
to and that's really all you're looking

891
00:33:37,789 --> 00:33:41,779
for right you want to make sure that the

892
00:33:39,979 --> 00:33:43,279
DNS queries are being forwarded to the

893
00:33:41,779 --> 00:33:45,769
location that you think they should be

894
00:33:43,279 --> 00:33:49,549
and these are some three different ways

895
00:33:45,769 --> 00:33:52,399
that you can do that all right and the

896
00:33:49,549 --> 00:33:55,129
last way is to run Wireshark and you can

897
00:33:52,399 --> 00:33:57,998
actually just set up a capture filter on

898
00:33:55,129 --> 00:34:02,779
port 53 or port 853 in case you're using

899
00:33:57,999 --> 00:34:06,190
encrypted er the DNS over TLS and you

900
00:34:02,779 --> 00:34:08,510
also have to do poor TCP as well because

901
00:34:06,190 --> 00:34:10,210
there's a new standard in DNS it's not

902
00:34:08,510 --> 00:34:13,010
new but it's been there for a while but

903
00:34:10,210 --> 00:34:14,869
DNS servers that are RFC compliant need

904
00:34:13,010 --> 00:34:16,849
to answer on TCP as well because of the

905
00:34:14,869 --> 00:34:18,859
record size it could be returned so

906
00:34:16,849 --> 00:34:21,530
sometimes you'll make a query to a DNS

907
00:34:18,859 --> 00:34:22,788
server via UDP it will reply and say I

908
00:34:21,530 --> 00:34:24,440
got that answer but you got to answer

909
00:34:22,789 --> 00:34:26,750
you got to ask on TCP because I'll

910
00:34:24,440 --> 00:34:29,480
fragment it if I answer on UDP so you

911
00:34:26,750 --> 00:34:31,819
have to be able to respond and read DNS

912
00:34:29,480 --> 00:34:33,710
on TCP as well capture what's happening

913
00:34:31,819 --> 00:34:36,349
and see where the conversations happen

914
00:34:33,710 --> 00:34:37,609
Wireshark has a feature up in the menu

915
00:34:36,349 --> 00:34:39,049
where you can look at conversations

916
00:34:37,609 --> 00:34:40,520
after you've done some captures on your

917
00:34:39,049 --> 00:34:42,918
network so it makes it pretty easy to

918
00:34:40,520 --> 00:34:47,750
see where your DNS traffic is going on

919
00:34:42,918 --> 00:34:50,480
your network how can I log my DNS all

920
00:34:47,750 --> 00:34:53,629
right on time here one of the ways that

921
00:34:50,480 --> 00:34:56,839
we do it on our local DNS servers is we

922
00:34:53,629 --> 00:34:58,640
use Unbound on CentOS for some local

923
00:34:56,839 --> 00:35:02,180
cache servers and we'll just use packet

924
00:34:58,640 --> 00:35:04,940
beat it's basically a router basically

925
00:35:02,180 --> 00:35:06,919
route snips and routes data from what it

926
00:35:04,940 --> 00:35:09,440
sniffs back to some log aggregation

927
00:35:06,920 --> 00:35:10,730
point we just happen to use gray logs it

928
00:35:09,440 --> 00:35:14,539
works really well it does what we need

929
00:35:10,730 --> 00:35:16,279
it to do it ingests the data so what we

930
00:35:14,539 --> 00:35:18,950
do is we take this we install it on our

931
00:35:16,279 --> 00:35:21,980
cache servers one of the options is set

932
00:35:18,950 --> 00:35:23,868
it to capture DNS and then we export it

933
00:35:21,980 --> 00:35:26,000
to gray log and that was some of the

934
00:35:23,869 --> 00:35:27,740
information I showed you earlier if you

935
00:35:26,000 --> 00:35:29,000
want to see more of this hit me up and

936
00:35:27,740 --> 00:35:30,529
I'll be glad to show you some more

937
00:35:29,000 --> 00:35:33,770
detail information but that's a whole

938
00:35:30,529 --> 00:35:36,470
other talk that I do on looking at DNS

939
00:35:33,770 --> 00:35:37,790
for looking for anomalies in DNS data so

940
00:35:36,470 --> 00:35:40,189
this way you can log and see what's

941
00:35:37,790 --> 00:35:41,779
going on in your DNS what servers are

942
00:35:40,190 --> 00:35:43,370
talking to what what requests are

943
00:35:41,780 --> 00:35:47,060
happening it's good for finding out if

944
00:35:43,370 --> 00:35:49,009
you're getting a ton of n X n X requests

945
00:35:47,060 --> 00:35:52,160
and X domain requests those sorts of

946
00:35:49,010 --> 00:35:54,350
things so now the next thing is again

947
00:35:52,160 --> 00:35:56,330
privacy is relative how private do I

948
00:35:54,350 --> 00:35:59,150
want to be do I trust my ISP maybe I do

949
00:35:56,330 --> 00:36:01,340
maybe maybe I've wasted your time here

950
00:35:59,150 --> 00:36:02,720
for I don't know going on 40 minutes

951
00:36:01,340 --> 00:36:04,190
here telling you all about this stuff

952
00:36:02,720 --> 00:36:05,450
and used one at home and continue to

953
00:36:04,190 --> 00:36:09,170
browse and share your data with the

954
00:36:05,450 --> 00:36:11,330
world that's up to you but there are

955
00:36:09,170 --> 00:36:13,460
ways that you can ensure that your

956
00:36:11,330 --> 00:36:15,590
privacy and the security of the DNS

957
00:36:13,460 --> 00:36:18,650
requests that you're getting are better

958
00:36:15,590 --> 00:36:20,750
than what you're getting now one of the

959
00:36:18,650 --> 00:36:22,940
ways CloudFlare they had obviously

960
00:36:20,750 --> 00:36:26,150
one-one-one-one and they announced that

961
00:36:22,940 --> 00:36:28,040
on what date anybody remember it was

962
00:36:26,150 --> 00:36:30,050
April 1st right April Fool's Day that

963
00:36:28,040 --> 00:36:31,370
was part of the part of the whole joke

964
00:36:30,050 --> 00:36:33,260
right we're going to do this on April

965
00:36:31,370 --> 00:36:35,120
Fool's no fooling it's free and we don't

966
00:36:33,260 --> 00:36:36,830
log anything I'll talk a little more out

967
00:36:35,120 --> 00:36:38,240
the details here they promised not to

968
00:36:36,830 --> 00:36:40,520
log in anything for more than 24 hours

969
00:36:38,240 --> 00:36:41,810
and I've talked to some of the people

970
00:36:40,520 --> 00:36:44,420
there and I know some people that work

971
00:36:41,810 --> 00:36:45,830
at CloudFlare and they do that they

972
00:36:44,420 --> 00:36:47,870
don't they don't care about the data to

973
00:36:45,830 --> 00:36:49,880
have no agenda to market at all they're

974
00:36:47,870 --> 00:36:51,339
doing is keeping the data long enough so

975
00:36:49,880 --> 00:36:53,750
they can make sure their stuff works

976
00:36:51,340 --> 00:37:00,230
soon after that Verisign came out with

977
00:36:53,750 --> 00:37:03,170
quad 9 their version of DMS is claims to

978
00:37:00,230 --> 00:37:05,390
block malicious domains I don't know

979
00:37:03,170 --> 00:37:08,210
whether it does or not I assume that it

980
00:37:05,390 --> 00:37:12,500
does they support DNS crypt and it

981
00:37:08,210 --> 00:37:15,920
supports DNS over T over TC TLS and DNS

982
00:37:12,500 --> 00:37:19,730
over HTTPS as does CloudFlare I just

983
00:37:15,920 --> 00:37:21,590
didn't put it in there so how private do

984
00:37:19,730 --> 00:37:23,600
you want your stuff to be right so you

985
00:37:21,590 --> 00:37:25,580
could go to the extreme and this is kind

986
00:37:23,600 --> 00:37:28,250
of the extreme you could go to a cloud

987
00:37:25,580 --> 00:37:31,700
service provider build yourself a VM in

988
00:37:28,250 --> 00:37:33,320
the cloud use unbound configure it and

989
00:37:31,700 --> 00:37:37,939
there's ways out there this wiki tells

990
00:37:33,320 --> 00:37:40,520
you how to configure unbound to use DNS

991
00:37:37,940 --> 00:37:42,800
over TLS to any outbound server any

992
00:37:40,520 --> 00:37:44,990
cache server that supports it so unbound

993
00:37:42,800 --> 00:37:46,880
becomes your cache server for your net

994
00:37:44,990 --> 00:37:51,649
work and then what you would do is you

995
00:37:46,880 --> 00:37:54,170
would use VPN or tor or both to connect

996
00:37:51,650 --> 00:37:56,150
to that server for your DNS and then

997
00:37:54,170 --> 00:37:59,510
that DNS would go out to the Internet

998
00:37:56,150 --> 00:38:01,610
and answer your queries but that would

999
00:37:59,510 --> 00:38:02,960
protect all of your DNS the logs would

1000
00:38:01,610 --> 00:38:05,210
only be gathered by the upstream

1001
00:38:02,960 --> 00:38:06,740
provider that you pointed this machine

1002
00:38:05,210 --> 00:38:09,080
to whom you might trust

1003
00:38:06,740 --> 00:38:11,060
maybe CloudFlare right so you're you're

1004
00:38:09,080 --> 00:38:12,529
reducing the leakage of data you're

1005
00:38:11,060 --> 00:38:14,630
reducing the likelihood but you're not

1006
00:38:12,530 --> 00:38:16,310
securing your privacy on a percent it's

1007
00:38:14,630 --> 00:38:18,590
a lot of work to do that right it might

1008
00:38:16,310 --> 00:38:19,970
be worth it if you need it I don't know

1009
00:38:18,590 --> 00:38:22,930
if it's the best approach but you can

1010
00:38:19,970 --> 00:38:25,368
mess around with it and see how it works

1011
00:38:22,930 --> 00:38:28,609
how private do I want to be opera again

1012
00:38:25,369 --> 00:38:31,460
has a how many of you used opera so has

1013
00:38:28,610 --> 00:38:34,430
a built-in VPN right anybody ever done

1014
00:38:31,460 --> 00:38:36,950
Wireshark on that VPN when you're doing

1015
00:38:34,430 --> 00:38:38,750
the data I wouldn't trust it first

1016
00:38:36,950 --> 00:38:39,140
there's no data encryption on that

1017
00:38:38,750 --> 00:38:41,510
tunnel

1018
00:38:39,140 --> 00:38:42,859
unless it's HTTP to the web so all of

1019
00:38:41,510 --> 00:38:46,580
your DNS queries are going over that

1020
00:38:42,860 --> 00:38:49,640
tunnel the VPN but they're all they're

1021
00:38:46,580 --> 00:38:51,319
all going to opera and they're logging

1022
00:38:49,640 --> 00:38:53,569
every damn thing you do so now you're

1023
00:38:51,320 --> 00:38:55,190
trading one problem for another instead

1024
00:38:53,570 --> 00:38:57,440
of selling the data giving the data to

1025
00:38:55,190 --> 00:38:59,330
your eyes p2 cell now you're giving it

1026
00:38:57,440 --> 00:39:00,770
to operas VPN provider they log

1027
00:38:59,330 --> 00:39:03,890
everything and they make no bones about

1028
00:39:00,770 --> 00:39:06,950
it the company that does the VPN service

1029
00:39:03,890 --> 00:39:08,600
it's kind of a long if you want to find

1030
00:39:06,950 --> 00:39:10,040
out it's kind of hard to figure out who

1031
00:39:08,600 --> 00:39:12,109
actually owns the company that does the

1032
00:39:10,040 --> 00:39:15,020
VPN service so you don't know how

1033
00:39:12,109 --> 00:39:16,790
protected that data is the companies

1034
00:39:15,020 --> 00:39:18,020
Canadian but they're owned by a company

1035
00:39:16,790 --> 00:39:19,400
out of Norway which is owned by a

1036
00:39:18,020 --> 00:39:22,730
company from somewhere else so it gets

1037
00:39:19,400 --> 00:39:24,890
very complicated bottom line is it keeps

1038
00:39:22,730 --> 00:39:26,210
your ISP from seeing your DNS queries

1039
00:39:24,890 --> 00:39:27,618
but then you're just trading one problem

1040
00:39:26,210 --> 00:39:29,660
for another somebody else sees your DNS

1041
00:39:27,619 --> 00:39:31,340
queries and they're they make no bones

1042
00:39:29,660 --> 00:39:34,339
about selling that and aggregating that

1043
00:39:31,340 --> 00:39:37,910
data so it doesn't hide anything Firefox

1044
00:39:34,340 --> 00:39:40,520
has no built in VPN it does however have

1045
00:39:37,910 --> 00:39:44,629
a nice setting for configuring DNS over

1046
00:39:40,520 --> 00:39:47,060
HTTP if you go into Firefox and the URL

1047
00:39:44,630 --> 00:39:50,780
and type in about that config and then

1048
00:39:47,060 --> 00:39:54,020
search for TR R stands for trusted

1049
00:39:50,780 --> 00:39:56,390
result reverse resolver there's a bunch

1050
00:39:54,020 --> 00:39:58,759
of settings in there and one of them is

1051
00:39:56,390 --> 00:40:00,589
where you can turn that on and you

1052
00:39:58,760 --> 00:40:06,440
and have it send all of the data out to

1053
00:40:00,590 --> 00:40:09,080
a Firefox or CloudFlare or any DNS over

1054
00:40:06,440 --> 00:40:11,750
HTTP provider that you choose and now

1055
00:40:09,080 --> 00:40:13,759
all your DNS queries go out to that okay

1056
00:40:11,750 --> 00:40:15,470
so it keeps your ISP from seeing your

1057
00:40:13,760 --> 00:40:17,990
DNS queries but it doesn't hide anything

1058
00:40:15,470 --> 00:40:19,339
else right so makes it secure in the

1059
00:40:17,990 --> 00:40:22,220
browser but now keep in mind you've got

1060
00:40:19,340 --> 00:40:23,930
other software on your machine you know

1061
00:40:22,220 --> 00:40:26,029
Outlook or whatever mail program you're

1062
00:40:23,930 --> 00:40:27,560
using other programs that use DNS so

1063
00:40:26,030 --> 00:40:31,100
you're only hiding the DNS from the

1064
00:40:27,560 --> 00:40:33,350
browser in this case it's not hiding the

1065
00:40:31,100 --> 00:40:34,940
DNS from your network this is just a

1066
00:40:33,350 --> 00:40:37,490
screenshot you can't see it here but it

1067
00:40:34,940 --> 00:40:39,680
here's the TRR setting it's modified you

1068
00:40:37,490 --> 00:40:43,779
set it to two and here's the DNS server

1069
00:40:39,680 --> 00:40:46,100
that it's going to and that's set to

1070
00:40:43,780 --> 00:40:49,220
send all of the data through the browser

1071
00:40:46,100 --> 00:40:51,920
to the encrypted DNS you can actually go

1072
00:40:49,220 --> 00:40:54,200
in here and you go into about dot

1073
00:40:51,920 --> 00:40:55,400
networking or about colon networking and

1074
00:40:54,200 --> 00:40:56,509
you can see there's some interesting

1075
00:40:55,400 --> 00:40:58,130
stuff so you can see what you're

1076
00:40:56,510 --> 00:41:00,860
actually browsing how many know all this

1077
00:40:58,130 --> 00:41:02,540
data is aggregated in your browser mmm

1078
00:41:00,860 --> 00:41:03,970
interesting huh so if you don't clear

1079
00:41:02,540 --> 00:41:06,140
out your history and your browser

1080
00:41:03,970 --> 00:41:08,180
somebody can go into your browser going

1081
00:41:06,140 --> 00:41:09,560
as a valid networking and see everything

1082
00:41:08,180 --> 00:41:10,759
you've done on your network since the

1083
00:41:09,560 --> 00:41:13,730
last time that you cleaned out your

1084
00:41:10,760 --> 00:41:15,800
browser's cache so keep them keep that

1085
00:41:13,730 --> 00:41:17,990
in mind the tor browser doesn't have

1086
00:41:15,800 --> 00:41:21,470
that enabled by default even though it

1087
00:41:17,990 --> 00:41:23,689
is a version of firefox or mozilla but

1088
00:41:21,470 --> 00:41:25,279
this is firefox and it is enabled to

1089
00:41:23,690 --> 00:41:28,490
what you can see here is that this

1090
00:41:25,280 --> 00:41:31,130
domain it's ipv4 and the TR is true

1091
00:41:28,490 --> 00:41:35,209
meaning that the dns query was sent out

1092
00:41:31,130 --> 00:41:37,730
to the https over dns endpoint and

1093
00:41:35,210 --> 00:41:39,470
return that way the other thing that it

1094
00:41:37,730 --> 00:41:41,990
has I just added this just so you had it

1095
00:41:39,470 --> 00:41:43,879
in here it will actually show you all of

1096
00:41:41,990 --> 00:41:46,339
the HTTP requests that you're making

1097
00:41:43,880 --> 00:41:48,560
what port whether it's HTTP to whether

1098
00:41:46,340 --> 00:41:50,030
it's SSL and whether the connection is

1099
00:41:48,560 --> 00:41:52,340
active so it's a way that you can see

1100
00:41:50,030 --> 00:41:53,690
what kind of security you're getting on

1101
00:41:52,340 --> 00:41:57,290
your website so I just threw that in

1102
00:41:53,690 --> 00:41:59,240
there and add in a tor browser will take

1103
00:41:57,290 --> 00:42:03,410
all traffic including DNS and route it

1104
00:41:59,240 --> 00:42:05,120
through a tor proxy through several tor

1105
00:42:03,410 --> 00:42:07,310
nodes and come out some tor exit nodes

1106
00:42:05,120 --> 00:42:08,540
right so it's very secure but you don't

1107
00:42:07,310 --> 00:42:10,250
know what they're doing on that tor exit

1108
00:42:08,540 --> 00:42:11,770
node right you hope the operators of

1109
00:42:10,250 --> 00:42:13,480
that last tor exit know that you

1110
00:42:11,770 --> 00:42:15,100
and a hit on that session our

1111
00:42:13,480 --> 00:42:16,120
trustworthy they may or may not be you

1112
00:42:15,100 --> 00:42:17,950
have no control over that

1113
00:42:16,120 --> 00:42:20,770
you can change who they are but you have

1114
00:42:17,950 --> 00:42:22,960
no no indication of the path that

1115
00:42:20,770 --> 00:42:26,410
they're going every time you start or

1116
00:42:22,960 --> 00:42:28,180
browser so it does happen it does have

1117
00:42:26,410 --> 00:42:30,609
settings for configuring the DNS over

1118
00:42:28,180 --> 00:42:33,460
HTTP they don't stick you have to set it

1119
00:42:30,610 --> 00:42:35,440
every time that you go into tor you can

1120
00:42:33,460 --> 00:42:37,090
view the activity again and you can

1121
00:42:35,440 --> 00:42:38,620
actually check in your browser go to

1122
00:42:37,090 --> 00:42:42,600
this website and it will tell you

1123
00:42:38,620 --> 00:42:46,509
whether your browser is configured for

1124
00:42:42,600 --> 00:42:50,380
TLS 1.3 whether it will work with DNS

1125
00:42:46,510 --> 00:42:52,060
SEC whether it will work with the DNS

1126
00:42:50,380 --> 00:42:53,830
over HTTPS and there's one other thing

1127
00:42:52,060 --> 00:42:55,960
that el encrypted S&I whether your

1128
00:42:53,830 --> 00:42:57,460
browser supports encrypted SNI so right

1129
00:42:55,960 --> 00:43:00,370
now most browsers don't support in

1130
00:42:57,460 --> 00:43:01,630
cryptid sni so it's doesn't happen so

1131
00:43:00,370 --> 00:43:03,910
one of the other things that I didn't

1132
00:43:01,630 --> 00:43:06,640
talk about much here but it's implied

1133
00:43:03,910 --> 00:43:09,339
with DNS over HTTP is that DNS SEC is

1134
00:43:06,640 --> 00:43:11,080
always enabled you can't disable it so

1135
00:43:09,340 --> 00:43:15,430
what is DNS SEC the quick and dirty

1136
00:43:11,080 --> 00:43:17,350
overview basically as a if you operate a

1137
00:43:15,430 --> 00:43:19,690
Thor attain of server for a domain you

1138
00:43:17,350 --> 00:43:21,610
have the option of turning on DNS SEC

1139
00:43:19,690 --> 00:43:25,900
for the domains that you host it means

1140
00:43:21,610 --> 00:43:27,280
DNS security extensions once you set

1141
00:43:25,900 --> 00:43:28,930
some keys you have to go into your

1142
00:43:27,280 --> 00:43:31,090
registrar and add one key to your

1143
00:43:28,930 --> 00:43:33,100
registrar set all the keys in DNS once

1144
00:43:31,090 --> 00:43:35,350
they're there somebody can make a query

1145
00:43:33,100 --> 00:43:37,569
to validate the DNS SEC is enabled and

1146
00:43:35,350 --> 00:43:40,029
that it's correct so that when they make

1147
00:43:37,570 --> 00:43:41,710
a connection to your DNS server they can

1148
00:43:40,030 --> 00:43:44,200
validate that there's a public private

1149
00:43:41,710 --> 00:43:46,360
is a public key that validates that your

1150
00:43:44,200 --> 00:43:47,890
domain name is coming from an

1151
00:43:46,360 --> 00:43:50,440
authoritative server that has the key

1152
00:43:47,890 --> 00:43:52,569
right so if DNS SEC fails

1153
00:43:50,440 --> 00:43:54,940
the thought as well as two things that

1154
00:43:52,570 --> 00:43:57,100
can happen either some server in line

1155
00:43:54,940 --> 00:43:59,380
doesn't support DNS SEC validation or

1156
00:43:57,100 --> 00:44:00,970
they query some other name server and

1157
00:43:59,380 --> 00:44:02,770
I'm getting bogus data that's the

1158
00:44:00,970 --> 00:44:04,750
problem with DNS SEC not everybody

1159
00:44:02,770 --> 00:44:07,240
supports DNS SEC validation through the

1160
00:44:04,750 --> 00:44:09,130
chain so you can't always trust it that

1161
00:44:07,240 --> 00:44:11,229
it's going to work a lot of companies

1162
00:44:09,130 --> 00:44:12,520
will say we got to turn DNS SEC on and

1163
00:44:11,230 --> 00:44:14,500
anything that doesn't pass we're going

1164
00:44:12,520 --> 00:44:16,509
to turn off we'll do that and you'll

1165
00:44:14,500 --> 00:44:17,860
have a really bad day with your company

1166
00:44:16,510 --> 00:44:21,850
because depending on who your DNS

1167
00:44:17,860 --> 00:44:24,340
provider is you may or may not get

1168
00:44:21,850 --> 00:44:25,359
correct DNS SEC information from all the

1169
00:44:24,340 --> 00:44:27,700
domains that are query

1170
00:44:25,359 --> 00:44:30,910
because all of the end operators that do

1171
00:44:27,700 --> 00:44:34,118
that don't always configure DNS SEC

1172
00:44:30,910 --> 00:44:36,038
properly so online with tor browser

1173
00:44:34,119 --> 00:44:38,440
keeps your ISP from seeing everything

1174
00:44:36,039 --> 00:44:40,509
that goes over your browser and it keeps

1175
00:44:38,440 --> 00:44:43,239
all traffic secure until it goes out of

1176
00:44:40,509 --> 00:44:49,180
the Tor exit node so last thing and I've

1177
00:44:43,239 --> 00:44:50,799
got five minutes so on time here we

1178
00:44:49,180 --> 00:44:53,680
talked about the endpoint not having

1179
00:44:50,799 --> 00:44:56,589
every DNS query from that endpoint going

1180
00:44:53,680 --> 00:44:59,558
through encrypted DNS either over TLS or

1181
00:44:56,589 --> 00:45:01,599
HTTP DNS crypt is a solution to the end

1182
00:44:59,559 --> 00:45:03,970
point making des queries to another

1183
00:45:01,599 --> 00:45:06,069
secure node endpoint it was implemented

1184
00:45:03,970 --> 00:45:08,439
both the client and the server it

1185
00:45:06,069 --> 00:45:10,058
there's a several proxies that you can

1186
00:45:08,440 --> 00:45:12,220
download you know put a proxy on your

1187
00:45:10,059 --> 00:45:14,499
network or you can put a client there's

1188
00:45:12,220 --> 00:45:15,910
a Windows client that works but

1189
00:45:14,499 --> 00:45:17,558
basically you put this client on a

1190
00:45:15,910 --> 00:45:19,660
Windows machine you do a couple of

1191
00:45:17,559 --> 00:45:21,640
settings and it takes over the DNS for

1192
00:45:19,660 --> 00:45:24,460
that machine for every application on

1193
00:45:21,640 --> 00:45:26,410
the machine and sends it to whatever DNS

1194
00:45:24,460 --> 00:45:28,539
crypt compliant server you tell it to

1195
00:45:26,410 --> 00:45:31,749
send it to and it typically does it with

1196
00:45:28,539 --> 00:45:33,430
DNS over TLS so it's a way that you can

1197
00:45:31,749 --> 00:45:35,618
make sure that all of the DNS for every

1198
00:45:33,430 --> 00:45:38,589
application on that particular device

1199
00:45:35,619 --> 00:45:41,619
goes through that end point and easier

1200
00:45:38,589 --> 00:45:43,779
way to do it I know on my home network I

1201
00:45:41,619 --> 00:45:47,049
run pfsense firewall as my firewall

1202
00:45:43,779 --> 00:45:49,390
behind my modem on that firewall I run

1203
00:45:47,049 --> 00:45:50,859
it runs unbound so unbound has a setting

1204
00:45:49,390 --> 00:45:54,569
that you can send all of your DNS

1205
00:45:50,859 --> 00:45:56,980
queries to a DNS over TLS provider like

1206
00:45:54,569 --> 00:45:58,900
CloudFlare or somebody like that so I

1207
00:45:56,980 --> 00:46:02,079
just send everything to CloudFlare DNS

1208
00:45:58,900 --> 00:46:04,329
over TLS and none of my DNS data leaks

1209
00:46:02,079 --> 00:46:05,619
to my ISP so that's a simple solution I

1210
00:46:04,329 --> 00:46:09,099
won't worry about it on the endpoints

1211
00:46:05,619 --> 00:46:11,559
there's different ways of doing it the

1212
00:46:09,099 --> 00:46:13,059
last keep in the wrong key here this

1213
00:46:11,559 --> 00:46:17,920
last thing how many of you heard a poor

1214
00:46:13,059 --> 00:46:20,410
ghost one person Wow okay

1215
00:46:17,920 --> 00:46:23,170
so if you want to be anonymous on your

1216
00:46:20,410 --> 00:46:25,629
cally box or a Linux box this is an open

1217
00:46:23,170 --> 00:46:27,339
source project called tor ghost you

1218
00:46:25,630 --> 00:46:30,390
downloaded from github you install it

1219
00:46:27,339 --> 00:46:31,839
you run it it runs as a service on on

1220
00:46:30,390 --> 00:46:33,999
Debian Kali

1221
00:46:31,839 --> 00:46:35,980
you run it and it automatically changes

1222
00:46:33,999 --> 00:46:37,269
your DNS resolvers and routes everything

1223
00:46:35,980 --> 00:46:38,980
out of your computer through the Tor

1224
00:46:37,269 --> 00:46:41,259
network every bit of

1225
00:46:38,980 --> 00:46:42,970
I've got ipv4 it shuts down ipv6 and

1226
00:46:41,260 --> 00:46:45,490
sends all the data over the Tor network

1227
00:46:42,970 --> 00:46:46,930
you turn it off and you're back to the

1228
00:46:45,490 --> 00:46:50,169
way you were before so it's a good way

1229
00:46:46,930 --> 00:46:51,940
of routing traffic away from your ISP or

1230
00:46:50,170 --> 00:46:53,290
away from a coffee shop or something

1231
00:46:51,940 --> 00:46:54,460
like that if you want to do that so if

1232
00:46:53,290 --> 00:46:57,040
you're browsing on the internet it's a

1233
00:46:54,460 --> 00:46:59,260
quick way of getting complete tor

1234
00:46:57,040 --> 00:47:01,570
activity for a machine it's pretty good

1235
00:46:59,260 --> 00:47:05,050
pretty good little solution so take-home

1236
00:47:01,570 --> 00:47:06,850
message these three technologies that we

1237
00:47:05,050 --> 00:47:08,950
talked about today they provide

1238
00:47:06,850 --> 00:47:11,980
assurance the dns isn't tampered with in

1239
00:47:08,950 --> 00:47:14,529
transit they do not ensure 100% privacy

1240
00:47:11,980 --> 00:47:17,500
getting 100% privacy is cumbersome and

1241
00:47:14,530 --> 00:47:20,619
basically impossible in some cases you

1242
00:47:17,500 --> 00:47:22,480
end up trading speed for privacy it

1243
00:47:20,619 --> 00:47:24,280
introduces complexity and more points of

1244
00:47:22,480 --> 00:47:26,770
failure depending on how complex you

1245
00:47:24,280 --> 00:47:28,150
make your environment and again privacy

1246
00:47:26,770 --> 00:47:30,580
is relative what's your goal who are you

1247
00:47:28,150 --> 00:47:33,460
trying to evade and you cannot evade

1248
00:47:30,580 --> 00:47:35,319
everyone easily temporary curiosity and

1249
00:47:33,460 --> 00:47:36,640
paranoia are good so validate your

1250
00:47:35,320 --> 00:47:39,640
assumptions make sure you know where

1251
00:47:36,640 --> 00:47:41,920
your data is going and I think we're

1252
00:47:39,640 --> 00:47:43,420
about out of time so that's going to be

1253
00:47:41,920 --> 00:47:45,700
it for today if you have questions I

1254
00:47:43,420 --> 00:47:47,109
will be happy to answer them for you if

1255
00:47:45,700 --> 00:47:48,129
you need any demos or I want to talk

1256
00:47:47,109 --> 00:47:50,370
more I'll be here the rest of the

1257
00:47:48,130 --> 00:47:59,110
weekend so appreciate your time

1258
00:47:50,370 --> 00:47:59,109
[Applause]

