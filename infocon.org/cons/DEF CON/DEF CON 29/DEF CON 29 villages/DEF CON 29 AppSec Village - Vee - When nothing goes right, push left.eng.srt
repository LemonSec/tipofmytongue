1
00:00:00,000 --> 00:00:03,120
good evening good morning everyone and

2
00:00:03,120 --> 00:00:06,240
welcome to if nothing goes right or she

3
00:00:06,240 --> 00:00:07,120
left

4
00:00:07,120 --> 00:00:10,400
um i'm very i'm happy to be talking at

5
00:00:10,400 --> 00:00:11,920
absec village this year

6
00:00:11,920 --> 00:00:14,000
i've recently been branching out into

7
00:00:14,000 --> 00:00:16,640
the field of application security

8
00:00:16,640 --> 00:00:19,199
um because i've been seeing some trends

9
00:00:19,199 --> 00:00:19,680
and

10
00:00:19,680 --> 00:00:21,680
and dealing with some things on the

11
00:00:21,680 --> 00:00:22,800
right hand side

12
00:00:22,800 --> 00:00:26,160
of um applications that has led me to

13
00:00:26,160 --> 00:00:26,960
believe

14
00:00:26,960 --> 00:00:29,039
that when nothing goes right we

15
00:00:29,039 --> 00:00:30,800
generally need to look for the solution

16
00:00:30,800 --> 00:00:32,800
on the left

17
00:00:32,800 --> 00:00:37,200
now who am i in short i'm currently

18
00:00:37,200 --> 00:00:39,200
an assistant professor at noroc

19
00:00:39,200 --> 00:00:41,600
university in norway i originally came

20
00:00:41,600 --> 00:00:42,960
from south africa

21
00:00:42,960 --> 00:00:45,600
where i was a director in incident

22
00:00:45,600 --> 00:00:46,879
response

23
00:00:46,879 --> 00:00:48,640
i've also recently been working

24
00:00:48,640 --> 00:00:51,360
extensively with medical manufacturers

25
00:00:51,360 --> 00:00:54,239
specifically in the security space and

26
00:00:54,239 --> 00:00:56,640
the application security space

27
00:00:56,640 --> 00:00:58,480
the most interesting thing probably

28
00:00:58,480 --> 00:01:00,239
about me is the fact that i am the

29
00:01:00,239 --> 00:01:02,480
cyborg that i have a little cardiac

30
00:01:02,480 --> 00:01:04,559
shocking machine that keeps me alive and

31
00:01:04,559 --> 00:01:06,720
keeps my heart behaving

32
00:01:06,720 --> 00:01:09,360
i'm also a good for defcon but the most

33
00:01:09,360 --> 00:01:10,159
important thing

34
00:01:10,159 --> 00:01:12,400
is i hack things i build things i

35
00:01:12,400 --> 00:01:13,439
protect things and i

36
00:01:13,439 --> 00:01:16,080
investigate them and that's kind of me

37
00:01:16,080 --> 00:01:17,920
in a nutshell

38
00:01:17,920 --> 00:01:20,080
so what are we going to be talking about

39
00:01:20,080 --> 00:01:22,240
today what is this talk all about what

40
00:01:22,240 --> 00:01:24,320
is she going to get on a soapbox with

41
00:01:24,320 --> 00:01:26,560
what am i going to share well i thought

42
00:01:26,560 --> 00:01:28,880
it would be important to share how i got

43
00:01:28,880 --> 00:01:29,840
to the point that i

44
00:01:29,840 --> 00:01:32,400
am today being um talking about

45
00:01:32,400 --> 00:01:33,759
applications here so

46
00:01:33,759 --> 00:01:36,000
yes application security from a forensic

47
00:01:36,000 --> 00:01:37,200
perspective

48
00:01:37,200 --> 00:01:38,960
i want to talk a little bit about the

49
00:01:38,960 --> 00:01:42,399
infosec color wheel my opinions on them

50
00:01:42,399 --> 00:01:44,640
which may not align with lots of other

51
00:01:44,640 --> 00:01:46,560
opinions but this is how i

52
00:01:46,560 --> 00:01:48,240
see the world i also want to talk a

53
00:01:48,240 --> 00:01:49,600
little bit about the developer

54
00:01:49,600 --> 00:01:50,720
perspective

55
00:01:50,720 --> 00:01:52,880
the security perspective and the dfir

56
00:01:52,880 --> 00:01:54,240
perspective

57
00:01:54,240 --> 00:01:57,280
now everything was inspired by two

58
00:01:57,280 --> 00:01:58,880
amazing books that i will talk about a

59
00:01:58,880 --> 00:02:00,079
little later

60
00:02:00,079 --> 00:02:02,479
and then out of this process spawned the

61
00:02:02,479 --> 00:02:04,320
five logging philosophies that

62
00:02:04,320 --> 00:02:06,479
developers can follow to consider

63
00:02:06,479 --> 00:02:10,959
what to do with application logs

64
00:02:10,959 --> 00:02:14,000
now my journey you know happened

65
00:02:14,000 --> 00:02:15,920
by accident that i got into the world of

66
00:02:15,920 --> 00:02:17,760
digital forensics that was before

67
00:02:17,760 --> 00:02:19,520
incident response was really a big thing

68
00:02:19,520 --> 00:02:20,640
in south africa

69
00:02:20,640 --> 00:02:22,400
we were still dealing about you know we

70
00:02:22,400 --> 00:02:24,560
pull the plug we do dead box forensics

71
00:02:24,560 --> 00:02:26,560
reconstruct file systems

72
00:02:26,560 --> 00:02:28,959
we go down to the hexadecimal values

73
00:02:28,959 --> 00:02:30,400
that's kind of where i lived and

74
00:02:30,400 --> 00:02:31,360
breathed

75
00:02:31,360 --> 00:02:33,280
however for me there was always a

76
00:02:33,280 --> 00:02:34,800
disconnect as to

77
00:02:34,800 --> 00:02:38,239
the motivations and the why the why do

78
00:02:38,239 --> 00:02:40,640
people do what they do

79
00:02:40,640 --> 00:02:42,319
fast forward a few years incident

80
00:02:42,319 --> 00:02:44,080
response became a

81
00:02:44,080 --> 00:02:46,480
necessary evil and we started dealing

82
00:02:46,480 --> 00:02:48,239
more and more with incident response

83
00:02:48,239 --> 00:02:50,000
which tweaked my interest because

84
00:02:50,000 --> 00:02:53,040
it's such a fast-paced adrenaline-filled

85
00:02:53,040 --> 00:02:54,000
position

86
00:02:54,000 --> 00:02:56,400
you never knew what was going your way

87
00:02:56,400 --> 00:02:57,920
now one of the things that i

88
00:02:57,920 --> 00:02:59,680
learned was that i didn't really

89
00:02:59,680 --> 00:03:01,200
understand i could understand and

90
00:03:01,200 --> 00:03:03,120
reconstruct from friends in perspective

91
00:03:03,120 --> 00:03:04,480
what happened but i could never

92
00:03:04,480 --> 00:03:07,200
understand the security perspective or

93
00:03:07,200 --> 00:03:10,159
the how our attacker got in what i did

94
00:03:10,159 --> 00:03:12,480
is i started learning more about red

95
00:03:12,480 --> 00:03:14,319
teaming that was the first place that i

96
00:03:14,319 --> 00:03:16,000
went and i was like

97
00:03:16,000 --> 00:03:18,720
well i want to understand more about the

98
00:03:18,720 --> 00:03:20,959
attacker mindset i wanted to understand

99
00:03:20,959 --> 00:03:23,040
how they thought how they view things

100
00:03:23,040 --> 00:03:26,080
i wanted to understand what steps they

101
00:03:26,080 --> 00:03:27,519
take when

102
00:03:27,519 --> 00:03:31,040
hacking an application or a device

103
00:03:31,040 --> 00:03:33,200
now once i had that it surely had an

104
00:03:33,200 --> 00:03:35,519
effect on my incident response i was now

105
00:03:35,519 --> 00:03:37,360
able to anticipate where my evidence

106
00:03:37,360 --> 00:03:38,720
would be

107
00:03:38,720 --> 00:03:40,879
again i fell short on well what

108
00:03:40,879 --> 00:03:43,040
recommendations do i offer now take into

109
00:03:43,040 --> 00:03:45,280
account this is the very siloed industry

110
00:03:45,280 --> 00:03:47,040
right in the beginning

111
00:03:47,040 --> 00:03:50,159
you did you didn't do digital forensics

112
00:03:50,159 --> 00:03:50,560
in

113
00:03:50,560 --> 00:03:52,959
insurance response and security however

114
00:03:52,959 --> 00:03:53,599
as things

115
00:03:53,599 --> 00:03:56,239
progressed and shifted we saw that we

116
00:03:56,239 --> 00:03:56,720
needed

117
00:03:56,720 --> 00:03:58,959
a more blue perspective a security

118
00:03:58,959 --> 00:04:01,120
perspective we needed to understand

119
00:04:01,120 --> 00:04:04,000
how to keep them off how to isolate them

120
00:04:04,000 --> 00:04:04,720
how to

121
00:04:04,720 --> 00:04:07,599
you know keep them out now understanding

122
00:04:07,599 --> 00:04:09,040
how the attacker thinks

123
00:04:09,040 --> 00:04:12,239
what evidence is generated and it was

124
00:04:12,239 --> 00:04:14,640
fairly easy for me to slip into security

125
00:04:14,640 --> 00:04:16,399
when i say easy i mean it's not

126
00:04:16,399 --> 00:04:18,399
impossible it was hard work on my part

127
00:04:18,399 --> 00:04:19,279
but

128
00:04:19,279 --> 00:04:22,560
i started to learn what controls can be

129
00:04:22,560 --> 00:04:23,360
used

130
00:04:23,360 --> 00:04:27,520
to keep a system from being broken into

131
00:04:27,520 --> 00:04:30,880
now once this was done i realized well

132
00:04:30,880 --> 00:04:35,040
now i know how attackers get in

133
00:04:35,040 --> 00:04:37,680
so that i can anticipate evidence i know

134
00:04:37,680 --> 00:04:38,080
what

135
00:04:38,080 --> 00:04:40,560
remediation actions i can take with that

136
00:04:40,560 --> 00:04:42,320
wouldn't affect any of the evidence that

137
00:04:42,320 --> 00:04:43,360
has been created

138
00:04:43,360 --> 00:04:45,280
and i thought i was done at this point

139
00:04:45,280 --> 00:04:47,680
well big surprise i realized well hey

140
00:04:47,680 --> 00:04:49,520
there's a reason that i don't quite

141
00:04:49,520 --> 00:04:51,360
understand some of the artifacts that

142
00:04:51,360 --> 00:04:52,560
are created

143
00:04:52,560 --> 00:04:54,240
now if you're in digital forensics

144
00:04:54,240 --> 00:04:55,520
you'll know that a lot of reverse

145
00:04:55,520 --> 00:04:56,000
engineering

146
00:04:56,000 --> 00:04:57,840
is done on airport to understand how

147
00:04:57,840 --> 00:04:59,440
operating systems

148
00:04:59,440 --> 00:05:02,240
work when they have been updated well i

149
00:05:02,240 --> 00:05:03,520
did exactly the same

150
00:05:03,520 --> 00:05:04,960
i started learning more about

151
00:05:04,960 --> 00:05:07,520
application development building

152
00:05:07,520 --> 00:05:10,080
and how software together trying to

153
00:05:10,080 --> 00:05:12,000
understand the building blocks that i

154
00:05:12,000 --> 00:05:15,039
am set to attack to defend and to

155
00:05:15,039 --> 00:05:16,720
investigate

156
00:05:16,720 --> 00:05:18,639
so that was kind of what led me to where

157
00:05:18,639 --> 00:05:21,280
i am today

158
00:05:21,280 --> 00:05:23,280
now the color wheel for this talk and

159
00:05:23,280 --> 00:05:24,960
this is is just

160
00:05:24,960 --> 00:05:26,720
to kind of frame where i'm going with

161
00:05:26,720 --> 00:05:28,479
this conversation is

162
00:05:28,479 --> 00:05:31,360
that red is our attacker but what's

163
00:05:31,360 --> 00:05:33,199
important to understand about raiders

164
00:05:33,199 --> 00:05:35,280
they only have to win once

165
00:05:35,280 --> 00:05:37,360
they only have to climb through a single

166
00:05:37,360 --> 00:05:38,560
window or break down

167
00:05:38,560 --> 00:05:41,680
a single barrier for them to win

168
00:05:41,680 --> 00:05:43,600
so they are always the team that wins

169
00:05:43,600 --> 00:05:45,039
because it's

170
00:05:45,039 --> 00:05:48,479
kind of a you only need one now blue

171
00:05:48,479 --> 00:05:51,440
is the defenders of the role and they

172
00:05:51,440 --> 00:05:52,000
have to

173
00:05:52,000 --> 00:05:55,039
keep red out and they have to also hope

174
00:05:55,039 --> 00:05:56,560
that no one has accidentally left the

175
00:05:56,560 --> 00:05:58,560
window just the jar enough so that

176
00:05:58,560 --> 00:06:01,520
someone can climb in

177
00:06:01,520 --> 00:06:03,840
blue is also there to anticipate that an

178
00:06:03,840 --> 00:06:05,759
attack is going to happen

179
00:06:05,759 --> 00:06:07,600
they have to see into the future and

180
00:06:07,600 --> 00:06:09,039
know that hey

181
00:06:09,039 --> 00:06:10,479
you know there's a there's a window

182
00:06:10,479 --> 00:06:12,960
that's going to be left open tomorrow

183
00:06:12,960 --> 00:06:16,560
at 11 a.m now in this talk

184
00:06:16,560 --> 00:06:19,199
purple is the dfir team and the reason

185
00:06:19,199 --> 00:06:20,960
that they are purple in this instance is

186
00:06:20,960 --> 00:06:22,400
because they make use of both

187
00:06:22,400 --> 00:06:24,720
red and blue tactics to investigate and

188
00:06:24,720 --> 00:06:26,319
examine and find the blue course or

189
00:06:26,319 --> 00:06:27,039
something that's

190
00:06:27,039 --> 00:06:28,319
you know happened in the incident

191
00:06:28,319 --> 00:06:31,360
response perspective

192
00:06:31,919 --> 00:06:35,039
we are there to inspect and find out

193
00:06:35,039 --> 00:06:36,800
what's happened we're the ones that find

194
00:06:36,800 --> 00:06:37,919
the clues like

195
00:06:37,919 --> 00:06:41,039
like your crime scene investigators our

196
00:06:41,039 --> 00:06:43,199
crime scenes our computers and systems

197
00:06:43,199 --> 00:06:45,199
and networks

198
00:06:45,199 --> 00:06:48,400
but we need to find out what was left

199
00:06:48,400 --> 00:06:51,120
behind by red when neighbor again

200
00:06:51,120 --> 00:06:53,120
now green is probably one of the coolest

201
00:06:53,120 --> 00:06:54,160
teams that i

202
00:06:54,160 --> 00:06:56,880
wish i could be part of and i wish i was

203
00:06:56,880 --> 00:06:58,960
able to do the cool things i do

204
00:06:58,960 --> 00:07:00,560
they're the ones that build things from

205
00:07:00,560 --> 00:07:03,360
nothing they the ones that make amazing

206
00:07:03,360 --> 00:07:05,360
things happen

207
00:07:05,360 --> 00:07:08,319
so purple blue and red are there in

208
00:07:08,319 --> 00:07:09,039
support

209
00:07:09,039 --> 00:07:12,319
of applications and devices and castles

210
00:07:12,319 --> 00:07:12,960
and

211
00:07:12,960 --> 00:07:15,440
cool things that green team builds so

212
00:07:15,440 --> 00:07:17,199
for this talk this is how we will be

213
00:07:17,199 --> 00:07:18,560
framing it

214
00:07:18,560 --> 00:07:22,240
and i hope you enjoy the trip with me

215
00:07:22,240 --> 00:07:24,880
now let's look a little bit at the blue

216
00:07:24,880 --> 00:07:25,919
team

217
00:07:25,919 --> 00:07:28,479
the blue team is our defenders of the

218
00:07:28,479 --> 00:07:29,039
realm

219
00:07:29,039 --> 00:07:31,280
our protectors are knights in shining

220
00:07:31,280 --> 00:07:32,880
armor

221
00:07:32,880 --> 00:07:35,520
they are often in application security

222
00:07:35,520 --> 00:07:35,919
um

223
00:07:35,919 --> 00:07:37,919
specifically in those environments that

224
00:07:37,919 --> 00:07:40,639
aren't very agile or very fast moving

225
00:07:40,639 --> 00:07:41,120
cooled

226
00:07:41,120 --> 00:07:44,319
in too late and not frequent enough

227
00:07:44,319 --> 00:07:46,960
or too much now this is a very

228
00:07:46,960 --> 00:07:48,720
contradictory statement

229
00:07:48,720 --> 00:07:51,919
so often you will find that teams build

230
00:07:51,919 --> 00:07:53,280
an application

231
00:07:53,280 --> 00:07:54,960
and don't consider some of the

232
00:07:54,960 --> 00:07:56,639
fundamental security about the

233
00:07:56,639 --> 00:07:58,560
implementation phase

234
00:07:58,560 --> 00:08:00,879
so they built their application to be

235
00:08:00,879 --> 00:08:02,400
you know

236
00:08:02,400 --> 00:08:04,800
good and they've built in all the

237
00:08:04,800 --> 00:08:06,400
controls they could think of but they

238
00:08:06,400 --> 00:08:08,240
just don't have the knowledge

239
00:08:08,240 --> 00:08:11,680
installed in them to consider how this

240
00:08:11,680 --> 00:08:13,680
piece of application integrate in the

241
00:08:13,680 --> 00:08:15,120
grand scheme of things

242
00:08:15,120 --> 00:08:17,440
and there's sometimes where security is

243
00:08:17,440 --> 00:08:19,199
called in too late

244
00:08:19,199 --> 00:08:21,759
however as you'll see later in the talk

245
00:08:21,759 --> 00:08:23,120
there are solutions

246
00:08:23,120 --> 00:08:25,840
into actually allowing you to build

247
00:08:25,840 --> 00:08:27,039
better

248
00:08:27,039 --> 00:08:30,479
with compromises in mind

249
00:08:30,479 --> 00:08:33,120
now security is often seen by the green

250
00:08:33,120 --> 00:08:34,479
team as those that bring

251
00:08:34,479 --> 00:08:37,279
more more work for them to do they're

252
00:08:37,279 --> 00:08:39,440
the ones that create more noise and more

253
00:08:39,440 --> 00:08:41,120
work and more things the green team

254
00:08:41,120 --> 00:08:43,360
that's already over stressed

255
00:08:43,360 --> 00:08:46,240
and burnt out and overworked has to deal

256
00:08:46,240 --> 00:08:48,240
with

257
00:08:48,240 --> 00:08:51,440
but they are their jobs

258
00:08:51,440 --> 00:08:54,080
whether we like it or not is to defend

259
00:08:54,080 --> 00:08:56,160
and to protect and to anticipate that an

260
00:08:56,160 --> 00:08:59,439
attack is going to happen

261
00:08:59,760 --> 00:09:01,600
so let's look at the defender's view

262
00:09:01,600 --> 00:09:03,360
because throughout this talk you'll see

263
00:09:03,360 --> 00:09:05,440
one glaringly obvious string that

264
00:09:05,440 --> 00:09:06,640
follows through that all of our

265
00:09:06,640 --> 00:09:08,080
perspectives although

266
00:09:08,080 --> 00:09:10,880
looking at the same information is very

267
00:09:10,880 --> 00:09:11,920
differently

268
00:09:11,920 --> 00:09:14,000
so how does the defenders or the blue

269
00:09:14,000 --> 00:09:15,680
team view application logs

270
00:09:15,680 --> 00:09:18,000
why are application logs important for

271
00:09:18,000 --> 00:09:19,600
the blue team

272
00:09:19,600 --> 00:09:22,480
well it's again the what who where when

273
00:09:22,480 --> 00:09:23,040
and why

274
00:09:23,040 --> 00:09:25,200
and those are kinds of things the dfir

275
00:09:25,200 --> 00:09:27,279
practitioners live by

276
00:09:27,279 --> 00:09:30,399
so the what they want to know what they

277
00:09:30,399 --> 00:09:32,320
are concerned with what information's in

278
00:09:32,320 --> 00:09:34,080
the logs and what information shouldn't

279
00:09:34,080 --> 00:09:34,959
be in the logs

280
00:09:34,959 --> 00:09:38,959
so are we disclosing secrets app keys

281
00:09:38,959 --> 00:09:43,519
perhaps even sensitive phi or pii

282
00:09:43,519 --> 00:09:45,839
they are concerned with the content that

283
00:09:45,839 --> 00:09:48,320
should not be there

284
00:09:48,320 --> 00:09:50,640
so the who they want to have

285
00:09:50,640 --> 00:09:52,880
auditability now auditability in

286
00:09:52,880 --> 00:09:55,200
in the security sense um or having an

287
00:09:55,200 --> 00:09:57,200
audit trail in the security sense

288
00:09:57,200 --> 00:10:00,240
is not exactly the same as having it in

289
00:10:00,240 --> 00:10:01,680
other industries that

290
00:10:01,680 --> 00:10:04,160
it's it's not about an auditory checker

291
00:10:04,160 --> 00:10:04,959
list

292
00:10:04,959 --> 00:10:07,760
auditability for the blue team is can i

293
00:10:07,760 --> 00:10:08,079
see

294
00:10:08,079 --> 00:10:10,240
who's accessed something can i see a log

295
00:10:10,240 --> 00:10:11,440
on a log off

296
00:10:11,440 --> 00:10:14,720
can i see um session management can i

297
00:10:14,720 --> 00:10:17,120
see the workflow in terms of how users

298
00:10:17,120 --> 00:10:18,959
access the system

299
00:10:18,959 --> 00:10:22,000
so for them they want to be able to have

300
00:10:22,000 --> 00:10:25,200
a security order to trail

301
00:10:25,200 --> 00:10:27,040
now this is also where a lot of

302
00:10:27,040 --> 00:10:28,640
applications fall flat

303
00:10:28,640 --> 00:10:31,120
because we do note that there's been

304
00:10:31,120 --> 00:10:33,360
successful logons but not always the

305
00:10:33,360 --> 00:10:34,560
failed logins

306
00:10:34,560 --> 00:10:36,640
are actually reported in the application

307
00:10:36,640 --> 00:10:40,079
logs they are crucial for blue's ability

308
00:10:40,079 --> 00:10:40,399
to

309
00:10:40,399 --> 00:10:42,000
actually see into the future that

310
00:10:42,000 --> 00:10:43,680
there's potentially mischief on the

311
00:10:43,680 --> 00:10:44,959
network

312
00:10:44,959 --> 00:10:47,120
and that's only one of the instances

313
00:10:47,120 --> 00:10:48,560
when it comes to the who

314
00:10:48,560 --> 00:10:51,920
that is important it is successful

315
00:10:51,920 --> 00:10:55,040
um logons versus unsuccessful logons as

316
00:10:55,040 --> 00:10:55,600
well

317
00:10:55,600 --> 00:10:59,040
as where users potentially escalated

318
00:10:59,040 --> 00:11:00,000
their privileges or

319
00:11:00,000 --> 00:11:02,640
access so that's the complete security

320
00:11:02,640 --> 00:11:03,360
audit trail

321
00:11:03,360 --> 00:11:04,800
if you would like to know more about

322
00:11:04,800 --> 00:11:06,959
that contact me offline and we can have

323
00:11:06,959 --> 00:11:07,200
an

324
00:11:07,200 --> 00:11:10,399
in-depth conversation now the where for

325
00:11:10,399 --> 00:11:11,279
the defenders

326
00:11:11,279 --> 00:11:13,519
is well where are the connections coming

327
00:11:13,519 --> 00:11:14,320
from

328
00:11:14,320 --> 00:11:16,720
whether it's a device a geo location if

329
00:11:16,720 --> 00:11:19,120
you're allowed to have that information

330
00:11:19,120 --> 00:11:22,160
or just the identifier of a user they

331
00:11:22,160 --> 00:11:23,839
want to know that when they're looking

332
00:11:23,839 --> 00:11:25,040
at it

333
00:11:25,040 --> 00:11:26,880
at potential traffic that it's coming

334
00:11:26,880 --> 00:11:28,560
from where it should or the connections

335
00:11:28,560 --> 00:11:29,600
originating

336
00:11:29,600 --> 00:11:31,360
from a device that's registered on the

337
00:11:31,360 --> 00:11:33,360
application

338
00:11:33,360 --> 00:11:35,920
now the when they are concerned with the

339
00:11:35,920 --> 00:11:37,839
date and time step because it gives them

340
00:11:37,839 --> 00:11:38,079
an

341
00:11:38,079 --> 00:11:40,560
idea of when something took place now

342
00:11:40,560 --> 00:11:42,560
it's much the same across the board

343
00:11:42,560 --> 00:11:44,959
um it's just the reasoning behind the

344
00:11:44,959 --> 00:11:46,399
wing we all want to know

345
00:11:46,399 --> 00:11:48,240
and do timeline analysis but the

346
00:11:48,240 --> 00:11:50,480
perspective from a blue teamer is

347
00:11:50,480 --> 00:11:53,279
we want to be able to identify trends on

348
00:11:53,279 --> 00:11:55,200
certain days

349
00:11:55,200 --> 00:11:58,000
now the why uh security wants to

350
00:11:58,000 --> 00:11:59,600
understand

351
00:11:59,600 --> 00:12:02,320
why someone was you know was able to

352
00:12:02,320 --> 00:12:04,480
access and authorize and i also want to

353
00:12:04,480 --> 00:12:05,120
know

354
00:12:05,120 --> 00:12:07,760
why things have changed because we want

355
00:12:07,760 --> 00:12:08,720
to know

356
00:12:08,720 --> 00:12:10,800
be able to track the workflow from a

357
00:12:10,800 --> 00:12:12,639
security perspective that everything is

358
00:12:12,639 --> 00:12:13,839
processing as it should

359
00:12:13,839 --> 00:12:15,680
connecting as it should and people only

360
00:12:15,680 --> 00:12:17,760
have access to what they should

361
00:12:17,760 --> 00:12:19,839
and if they change there should be a log

362
00:12:19,839 --> 00:12:22,639
that tells us about it

363
00:12:22,639 --> 00:12:24,720
now the red team our attackers are

364
00:12:24,720 --> 00:12:27,279
dragons the one that stomped down

365
00:12:27,279 --> 00:12:30,720
um the castle walls they are also the

366
00:12:30,720 --> 00:12:32,320
team that always wins

367
00:12:32,320 --> 00:12:35,440
sad but true um the red team will always

368
00:12:35,440 --> 00:12:37,519
get in

369
00:12:37,519 --> 00:12:40,160
now they only have to find a single

370
00:12:40,160 --> 00:12:41,839
window that's left open

371
00:12:41,839 --> 00:12:43,760
a single door that's unlocked or a

372
00:12:43,760 --> 00:12:45,920
vulnerability or they might just

373
00:12:45,920 --> 00:12:48,480
literally brute force their way in i've

374
00:12:48,480 --> 00:12:49,839
seen ping tests

375
00:12:49,839 --> 00:12:52,800
where people would take down the

376
00:12:52,800 --> 00:12:54,480
financial database while they're

377
00:12:54,480 --> 00:12:55,440
breaking in

378
00:12:55,440 --> 00:12:58,399
somewhere else so create noise in one

379
00:12:58,399 --> 00:13:00,160
area of the castle and attack it in

380
00:13:00,160 --> 00:13:01,600
another side

381
00:13:01,600 --> 00:13:03,600
it's kind of the same in real life as

382
00:13:03,600 --> 00:13:06,320
all when you look at war tactics so they

383
00:13:06,320 --> 00:13:08,399
are also our chaos card

384
00:13:08,399 --> 00:13:11,040
they kind of the the grenade that's

385
00:13:11,040 --> 00:13:12,399
thrown into

386
00:13:12,399 --> 00:13:14,800
into a room and explodes with glitter

387
00:13:14,800 --> 00:13:16,320
and everyone's covered in litter because

388
00:13:16,320 --> 00:13:18,000
everyone's going to get affected by the

389
00:13:18,000 --> 00:13:19,120
spool out

390
00:13:19,120 --> 00:13:20,800
when an attacker breaches your

391
00:13:20,800 --> 00:13:23,360
application and access a system within

392
00:13:23,360 --> 00:13:26,160
um an information that's stored uh

393
00:13:26,160 --> 00:13:26,639
there's

394
00:13:26,639 --> 00:13:28,240
there's many things that happen in the

395
00:13:28,240 --> 00:13:29,839
fallout and often

396
00:13:29,839 --> 00:13:32,079
the blue teams blame because they didn't

397
00:13:32,079 --> 00:13:34,240
defend against the best of all

398
00:13:34,240 --> 00:13:37,360
the fingers pointed towards you know the

399
00:13:37,360 --> 00:13:38,560
purple team that

400
00:13:38,560 --> 00:13:40,480
you know wasn't able to reconstruct the

401
00:13:40,480 --> 00:13:41,760
event

402
00:13:41,760 --> 00:13:43,839
and then lastly the finger gets pointed

403
00:13:43,839 --> 00:13:45,360
at our boulders and saying but you

404
00:13:45,360 --> 00:13:48,160
should have built it better

405
00:13:48,160 --> 00:13:50,399
but my question is we always say you

406
00:13:50,399 --> 00:13:52,399
should have built it better but do

407
00:13:52,399 --> 00:13:55,440
does your green team have the education

408
00:13:55,440 --> 00:13:57,120
the knowledge

409
00:13:57,120 --> 00:13:59,440
and the tools to build it better and by

410
00:13:59,440 --> 00:14:01,440
tools i mean

411
00:14:01,440 --> 00:14:03,440
thinking processes i don't mean some

412
00:14:03,440 --> 00:14:05,199
snazzy um

413
00:14:05,199 --> 00:14:07,519
tool that you've bought that does

414
00:14:07,519 --> 00:14:09,440
application security for you that looks

415
00:14:09,440 --> 00:14:10,720
at code

416
00:14:10,720 --> 00:14:13,040
i'm talking about the human element in

417
00:14:13,040 --> 00:14:15,120
your team

418
00:14:15,120 --> 00:14:18,480
now the rate team if the

419
00:14:18,480 --> 00:14:19,920
there's a weakness or there is a

420
00:14:19,920 --> 00:14:21,519
vulnerability they will find it and they

421
00:14:21,519 --> 00:14:23,680
will exploit that it's their jobs

422
00:14:23,680 --> 00:14:25,440
they are meant to attack they are made

423
00:14:25,440 --> 00:14:27,440
to find their way in

424
00:14:27,440 --> 00:14:30,160
now they also find application logs

425
00:14:30,160 --> 00:14:32,240
super useful

426
00:14:32,240 --> 00:14:34,880
but their perspective on them are vastly

427
00:14:34,880 --> 00:14:35,360
different

428
00:14:35,360 --> 00:14:38,399
so they want to know what information is

429
00:14:38,399 --> 00:14:39,600
in your locks

430
00:14:39,600 --> 00:14:43,199
and as someone that does that has done

431
00:14:43,199 --> 00:14:44,399
some hacking

432
00:14:44,399 --> 00:14:47,600
specifically um in the medical device

433
00:14:47,600 --> 00:14:49,440
manufacturing field

434
00:14:49,440 --> 00:14:52,000
that is one of the places where once we

435
00:14:52,000 --> 00:14:53,360
reverse engineer and get

436
00:14:53,360 --> 00:14:55,040
access to where we go look for

437
00:14:55,040 --> 00:14:58,160
information to learn more about your

438
00:14:58,160 --> 00:14:59,440
application

439
00:14:59,440 --> 00:15:01,600
another what so the what is what

440
00:15:01,600 --> 00:15:03,600
information can i possibly

441
00:15:03,600 --> 00:15:07,040
gain that is recorded within the logs

442
00:15:07,040 --> 00:15:09,680
so red teamers are very good at doing

443
00:15:09,680 --> 00:15:11,680
log analysis because they want to know

444
00:15:11,680 --> 00:15:12,160
exactly

445
00:15:12,160 --> 00:15:14,000
how your workflow works they want to

446
00:15:14,000 --> 00:15:16,000
know exactly what information it holds

447
00:15:16,000 --> 00:15:18,240
how it connects how it communicates

448
00:15:18,240 --> 00:15:21,680
how the user ids look they also want to

449
00:15:21,680 --> 00:15:22,000
see

450
00:15:22,000 --> 00:15:24,000
if there's potentially any print bodies

451
00:15:24,000 --> 00:15:25,920
that contain information which is often

452
00:15:25,920 --> 00:15:28,000
where sensitive data disclosure happens

453
00:15:28,000 --> 00:15:30,160
within the application level logs

454
00:15:30,160 --> 00:15:32,240
is when we just dump data out and we're

455
00:15:32,240 --> 00:15:34,320
not aware and fully cognizant of the

456
00:15:34,320 --> 00:15:35,120
fact that

457
00:15:35,120 --> 00:15:38,480
there is an jwt token in there there's

458
00:15:38,480 --> 00:15:40,959
potentially at keys and secrets

459
00:15:40,959 --> 00:15:42,639
so your print bodies are one of those

460
00:15:42,639 --> 00:15:44,639
areas that you need to be very careful

461
00:15:44,639 --> 00:15:46,160
with the information you record

462
00:15:46,160 --> 00:15:48,079
even if you think that it is innocent

463
00:15:48,079 --> 00:15:50,240
and there's nothing that can be used

464
00:15:50,240 --> 00:15:52,399
that piece of evidence could be the one

465
00:15:52,399 --> 00:15:54,240
puzzle piece the regimen needs to

466
00:15:54,240 --> 00:15:56,720
compromise the application further

467
00:15:56,720 --> 00:16:00,160
now the the where they want to know um

468
00:16:00,160 --> 00:16:02,800
where it connects to how it communicates

469
00:16:02,800 --> 00:16:03,759
and

470
00:16:03,759 --> 00:16:06,399
where it goes so what the workflow is

471
00:16:06,399 --> 00:16:08,880
for sending data receiving data

472
00:16:08,880 --> 00:16:10,800
receiving updates and things like that

473
00:16:10,800 --> 00:16:12,079
so it's

474
00:16:12,079 --> 00:16:14,720
it's again as you saw with the blue team

475
00:16:14,720 --> 00:16:16,399
it's very different with the

476
00:16:16,399 --> 00:16:18,160
where is we want to know from bluetooth

477
00:16:18,160 --> 00:16:19,519
where is it coming from

478
00:16:19,519 --> 00:16:21,920
red wants to know where is it going

479
00:16:21,920 --> 00:16:23,279
another why

480
00:16:23,279 --> 00:16:25,199
they want to know what sensitive

481
00:16:25,199 --> 00:16:26,399
information

482
00:16:26,399 --> 00:16:28,320
they could potentially use to exploit

483
00:16:28,320 --> 00:16:30,399
the business now this is not your

484
00:16:30,399 --> 00:16:33,199
internal rating potentially but a

485
00:16:33,199 --> 00:16:34,639
malicious actor or an

486
00:16:34,639 --> 00:16:36,240
insider threat that can use this

487
00:16:36,240 --> 00:16:38,880
information to blackmail an organization

488
00:16:38,880 --> 00:16:40,880
reputational damage when it comes to

489
00:16:40,880 --> 00:16:42,959
incident response it's all very much a

490
00:16:42,959 --> 00:16:45,120
shaming game which is something i do not

491
00:16:45,120 --> 00:16:46,000
agree with

492
00:16:46,000 --> 00:16:47,839
we should be creating an environment

493
00:16:47,839 --> 00:16:49,600
where people feel safe to disclose that

494
00:16:49,600 --> 00:16:50,399
they have

495
00:16:50,399 --> 00:16:52,959
suffered a compromise it's not so much

496
00:16:52,959 --> 00:16:54,399
about the fact that you have been

497
00:16:54,399 --> 00:16:56,560
compromised i mean that's nothing new

498
00:16:56,560 --> 00:16:58,399
we've all been hacked with all even

499
00:16:58,399 --> 00:16:59,920
though we don't might not want to admit

500
00:16:59,920 --> 00:17:02,320
it we've all suffered at the hands of

501
00:17:02,320 --> 00:17:05,119
cyber criminals it's about how you

502
00:17:05,119 --> 00:17:05,839
recover

503
00:17:05,839 --> 00:17:08,559
and how you handle the fallout that's

504
00:17:08,559 --> 00:17:09,919
the real important thing and i think

505
00:17:09,919 --> 00:17:12,160
that's not celebrated enough

506
00:17:12,160 --> 00:17:14,319
now the when um they want to know if

507
00:17:14,319 --> 00:17:15,199
they can hide

508
00:17:15,199 --> 00:17:17,359
information from you they want to know

509
00:17:17,359 --> 00:17:19,199
if they can manipulate the logs and

510
00:17:19,199 --> 00:17:20,959
clear it or erase it

511
00:17:20,959 --> 00:17:23,839
now one of the things that i found that

512
00:17:23,839 --> 00:17:24,240
you know

513
00:17:24,240 --> 00:17:27,439
application logs often don't have is we

514
00:17:27,439 --> 00:17:29,520
don't make sure that we can't do things

515
00:17:29,520 --> 00:17:31,200
like log injection attacks

516
00:17:31,200 --> 00:17:34,400
or you know we can if we have access to

517
00:17:34,400 --> 00:17:36,400
a local device is there a potential

518
00:17:36,400 --> 00:17:39,280
ability for us to manipulate the logs

519
00:17:39,280 --> 00:17:41,360
clear a tamper with the evidence you

520
00:17:41,360 --> 00:17:42,880
know the information

521
00:17:42,880 --> 00:17:47,360
and overall the law of content integrity

522
00:17:47,360 --> 00:17:50,720
so one dose does for instance not many

523
00:17:50,720 --> 00:17:51,760
things right

524
00:17:51,760 --> 00:17:54,480
but what it does do right is the ability

525
00:17:54,480 --> 00:17:56,480
is the security event log

526
00:17:56,480 --> 00:17:58,320
it's quite an awesome thing for a

527
00:17:58,320 --> 00:18:00,160
forensicator to pull through with the

528
00:18:00,160 --> 00:18:02,559
contains a lot of information

529
00:18:02,559 --> 00:18:05,679
um specifically around when log

530
00:18:05,679 --> 00:18:07,840
messages are deleted or changed or

531
00:18:07,840 --> 00:18:09,280
tampered with

532
00:18:09,280 --> 00:18:12,160
um it's got a fail safe that is built in

533
00:18:12,160 --> 00:18:13,440
now i oh am i

534
00:18:13,440 --> 00:18:15,520
always say to the building teams that i

535
00:18:15,520 --> 00:18:17,440
work with that you need to

536
00:18:17,440 --> 00:18:19,440
consider your logs as a source of

537
00:18:19,440 --> 00:18:21,919
evidence you need to consider your logs

538
00:18:21,919 --> 00:18:24,559
need to have forensic integrity

539
00:18:24,559 --> 00:18:27,360
your logs need we need to validate that

540
00:18:27,360 --> 00:18:29,120
they haven't been tampered with and that

541
00:18:29,120 --> 00:18:30,880
the information we're receiving is

542
00:18:30,880 --> 00:18:32,960
information regenerated and not that an

543
00:18:32,960 --> 00:18:37,200
attacker generated now green team

544
00:18:37,200 --> 00:18:40,240
our builders and our creators um

545
00:18:40,240 --> 00:18:43,360
our awesome team um

546
00:18:43,360 --> 00:18:45,200
this team is responsible for building

547
00:18:45,200 --> 00:18:47,760
the applications or the systems that we

548
00:18:47,760 --> 00:18:51,520
protect and attack but this team is

549
00:18:51,520 --> 00:18:54,160
often under immense pressure

550
00:18:54,160 --> 00:18:57,360
both for time and to perform

551
00:18:57,360 --> 00:19:00,799
um when it comes to finalizing um

552
00:19:00,799 --> 00:19:04,080
a release there's always stress

553
00:19:04,080 --> 00:19:07,360
there's always um pressure that's on the

554
00:19:07,360 --> 00:19:08,000
team

555
00:19:08,000 --> 00:19:11,200
so they are the team that potentially

556
00:19:11,200 --> 00:19:14,400
is the one that is suffering the most

557
00:19:14,400 --> 00:19:16,400
their focus is on delivering the product

558
00:19:16,400 --> 00:19:19,440
for the client client in a timely manner

559
00:19:19,440 --> 00:19:22,640
their focus is getting um

560
00:19:22,640 --> 00:19:24,880
the product out it's building something

561
00:19:24,880 --> 00:19:26,559
that the client wants and sending it on

562
00:19:26,559 --> 00:19:27,919
its way

563
00:19:27,919 --> 00:19:29,919
this is also the team that outnumbers

564
00:19:29,919 --> 00:19:31,280
every other second you know

565
00:19:31,280 --> 00:19:34,559
every other team um and we'll look at

566
00:19:34,559 --> 00:19:37,120
the numbers a little later

567
00:19:37,120 --> 00:19:39,600
now builders or developers also love

568
00:19:39,600 --> 00:19:41,360
their locks well the hope is they do

569
00:19:41,360 --> 00:19:43,200
because if they don't then if you have a

570
00:19:43,200 --> 00:19:45,200
really big problem

571
00:19:45,200 --> 00:19:47,440
um i recently did a survey which i will

572
00:19:47,440 --> 00:19:49,600
send out again about how much enjoyment

573
00:19:49,600 --> 00:19:51,360
you get from looking at your logs

574
00:19:51,360 --> 00:19:53,360
now i love looking at logs because i

575
00:19:53,360 --> 00:19:54,720
feel that they are

576
00:19:54,720 --> 00:19:56,720
the secret windows into how an

577
00:19:56,720 --> 00:19:58,559
application works

578
00:19:58,559 --> 00:20:02,000
now green team builds the logs

579
00:20:02,000 --> 00:20:04,080
and i always say application logs are

580
00:20:04,080 --> 00:20:06,559
built by developers for developers

581
00:20:06,559 --> 00:20:08,799
and they also look at it from the what

582
00:20:08,799 --> 00:20:10,960
when why who and where

583
00:20:10,960 --> 00:20:13,440
now the what what has happened can i

584
00:20:13,440 --> 00:20:14,960
tell that my application is

585
00:20:14,960 --> 00:20:17,440
actually functioning correctly can i

586
00:20:17,440 --> 00:20:18,559
tell that it's not

587
00:20:18,559 --> 00:20:21,840
am i able to debug it am i able to solve

588
00:20:21,840 --> 00:20:24,080
field investigations

589
00:20:24,080 --> 00:20:26,480
that's kind of the what the when well

590
00:20:26,480 --> 00:20:28,720
can i determine when an event is taking

591
00:20:28,720 --> 00:20:29,520
place

592
00:20:29,520 --> 00:20:31,280
especially when i have to debug it

593
00:20:31,280 --> 00:20:32,840
especially when i have to do field

594
00:20:32,840 --> 00:20:34,480
investigations

595
00:20:34,480 --> 00:20:37,360
the why well i want to know as a

596
00:20:37,360 --> 00:20:39,120
developer is my application

597
00:20:39,120 --> 00:20:41,760
functioning if not why is it not

598
00:20:41,760 --> 00:20:43,840
functioning if anything's changed into

599
00:20:43,840 --> 00:20:46,240
an unfavorable stage

600
00:20:46,240 --> 00:20:48,080
state i would want to be able to know

601
00:20:48,080 --> 00:20:49,840
that it's done that

602
00:20:49,840 --> 00:20:52,240
the who well we need to identify the

603
00:20:52,240 --> 00:20:53,120
user that

604
00:20:53,120 --> 00:20:55,360
the information is coming from or the

605
00:20:55,360 --> 00:20:57,039
system that it's coming from or even the

606
00:20:57,039 --> 00:20:59,440
component that's generating it

607
00:20:59,440 --> 00:21:01,840
one of the things i always say to to

608
00:21:01,840 --> 00:21:03,760
teams is when you are creating your

609
00:21:03,760 --> 00:21:05,919
application logs a good way for you to

610
00:21:05,919 --> 00:21:08,080
be able to do analytics is to have a

611
00:21:08,080 --> 00:21:10,880
category field within your events

612
00:21:10,880 --> 00:21:13,360
this is this category field is

613
00:21:13,360 --> 00:21:15,520
associated with a section of code that

614
00:21:15,520 --> 00:21:17,760
generates that event

615
00:21:17,760 --> 00:21:19,600
and if you see multiple errors being

616
00:21:19,600 --> 00:21:21,679
generated the same category that is an

617
00:21:21,679 --> 00:21:23,280
indication that perhaps you should go

618
00:21:23,280 --> 00:21:24,720
look at the code and see why it's

619
00:21:24,720 --> 00:21:26,080
generating that

620
00:21:26,080 --> 00:21:29,120
logs can be immensely powerful both from

621
00:21:29,120 --> 00:21:30,960
all the perspectives if they are built

622
00:21:30,960 --> 00:21:32,320
in a manner that

623
00:21:32,320 --> 00:21:35,520
pulls in the information we've also been

624
00:21:35,520 --> 00:21:37,200
able with the category fields to

625
00:21:37,200 --> 00:21:39,520
identify when components are breaking

626
00:21:39,520 --> 00:21:43,039
or when sections of code is functioning

627
00:21:43,039 --> 00:21:45,760
correctly or optimally functioning

628
00:21:45,760 --> 00:21:47,520
it also helps in terms of incident

629
00:21:47,520 --> 00:21:49,600
response when we see a certain component

630
00:21:49,600 --> 00:21:51,200
be more noisy

631
00:21:51,200 --> 00:21:53,200
in the in a certain amount of time than

632
00:21:53,200 --> 00:21:56,320
previously it also helps us to baseline

633
00:21:56,320 --> 00:21:59,520
what is normal behavior and what is not

634
00:21:59,520 --> 00:22:01,600
but this the perspective of the

635
00:22:01,600 --> 00:22:03,679
developer is often to debug

636
00:22:03,679 --> 00:22:05,360
to determine whether the system is

637
00:22:05,360 --> 00:22:07,200
functioning correctly and to measure the

638
00:22:07,200 --> 00:22:09,840
performance

639
00:22:09,919 --> 00:22:11,679
another purple team which is the one

640
00:22:11,679 --> 00:22:13,440
that i most associate with it's the

641
00:22:13,440 --> 00:22:15,600
magicians in the realm

642
00:22:15,600 --> 00:22:18,240
we often called in when red has climbed

643
00:22:18,240 --> 00:22:19,840
through the window and blue

644
00:22:19,840 --> 00:22:22,799
has been unable to defend we're kind of

645
00:22:22,799 --> 00:22:24,159
the merlins of the world

646
00:22:24,159 --> 00:22:27,520
but not as cool as merlin

647
00:22:27,520 --> 00:22:31,600
we are there to look at the um

648
00:22:31,600 --> 00:22:34,000
logs that the dragon hasn't produced and

649
00:22:34,000 --> 00:22:35,919
draw our magic potion

650
00:22:35,919 --> 00:22:37,919
so that we can see what was happening in

651
00:22:37,919 --> 00:22:40,320
the past future and prisons

652
00:22:40,320 --> 00:22:42,320
we often look at information and put the

653
00:22:42,320 --> 00:22:45,600
puzzle pieces together

654
00:22:45,600 --> 00:22:49,360
but often we are asked to make calls or

655
00:22:49,360 --> 00:22:51,919
base our findings on no information

656
00:22:51,919 --> 00:22:53,600
little information

657
00:22:53,600 --> 00:22:56,640
often the logs are not enough or too

658
00:22:56,640 --> 00:22:57,120
much

659
00:22:57,120 --> 00:22:59,120
and what that means is over verbosely

660
00:22:59,120 --> 00:23:01,200
logging is a problem for purple teamers

661
00:23:01,200 --> 00:23:01,840
it creates

662
00:23:01,840 --> 00:23:05,679
noise it creates confusion

663
00:23:05,679 --> 00:23:07,840
so i always say that what we like to see

664
00:23:07,840 --> 00:23:10,159
is a clear timeline a clear workflow of

665
00:23:10,159 --> 00:23:11,840
how your application's doing what it's

666
00:23:11,840 --> 00:23:13,360
supposed to be doing and how

667
00:23:13,360 --> 00:23:16,720
it is logging the information um

668
00:23:16,720 --> 00:23:18,799
we also the thrill seekers in the realm

669
00:23:18,799 --> 00:23:20,799
because i also think we did kind of sort

670
00:23:20,799 --> 00:23:22,159
of like to punish ourselves

671
00:23:22,159 --> 00:23:23,919
because we know that the logs aren't

672
00:23:23,919 --> 00:23:25,600
aren't gonna be what we need

673
00:23:25,600 --> 00:23:28,320
it's kind of part of the game where you

674
00:23:28,320 --> 00:23:29,760
know there's always a missing piece that

675
00:23:29,760 --> 00:23:30,480
we have to

676
00:23:30,480 --> 00:23:32,320
do this is why we layer our

677
00:23:32,320 --> 00:23:34,000
investigation

678
00:23:34,000 --> 00:23:36,559
we have various sources of information

679
00:23:36,559 --> 00:23:37,600
and logs but

680
00:23:37,600 --> 00:23:39,520
often the application logs is the one

681
00:23:39,520 --> 00:23:41,360
that tells us what is going on

682
00:23:41,360 --> 00:23:44,400
the most so if your logs are

683
00:23:44,400 --> 00:23:46,799
built with the purpose of reconstructing

684
00:23:46,799 --> 00:23:47,520
events

685
00:23:47,520 --> 00:23:49,919
or workflows and cleaner not overly

686
00:23:49,919 --> 00:23:50,880
verbose

687
00:23:50,880 --> 00:23:54,159
it makes the jobs of purple teamers so

688
00:23:54,159 --> 00:23:56,960
much easier

689
00:23:57,600 --> 00:24:00,000
now we also love logs we probably the

690
00:24:00,000 --> 00:24:01,679
people in the realm that loves the logs

691
00:24:01,679 --> 00:24:02,400
the most

692
00:24:02,400 --> 00:24:05,120
i mean i i kind of would do it like 24

693
00:24:05,120 --> 00:24:06,400
hours a day i would

694
00:24:06,400 --> 00:24:09,919
look at logs um and profile people

695
00:24:09,919 --> 00:24:12,240
we also able to look at the logs and

696
00:24:12,240 --> 00:24:13,200
tell

697
00:24:13,200 --> 00:24:14,799
you know whether or not the team's

698
00:24:14,799 --> 00:24:18,640
organized let's produce the logs um

699
00:24:18,640 --> 00:24:21,679
there is a saying i have a saying clean

700
00:24:21,679 --> 00:24:24,880
code produces clean logs

701
00:24:24,880 --> 00:24:27,600
when code quality is good i love quality

702
00:24:27,600 --> 00:24:30,240
is good because logs are a byproduct

703
00:24:30,240 --> 00:24:33,679
of code that's generating the events

704
00:24:33,679 --> 00:24:35,440
now the dfir perspective of an

705
00:24:35,440 --> 00:24:37,520
application logs is we also want to know

706
00:24:37,520 --> 00:24:38,640
the who when why

707
00:24:38,640 --> 00:24:40,559
what and where but slightly different

708
00:24:40,559 --> 00:24:42,240
than the rest of the teams

709
00:24:42,240 --> 00:24:45,360
we again want to be able to identify

710
00:24:45,360 --> 00:24:47,840
um authorization that's taking place

711
00:24:47,840 --> 00:24:49,600
access that's been granted

712
00:24:49,600 --> 00:24:51,520
as well as session management that's

713
00:24:51,520 --> 00:24:52,880
been done

714
00:24:52,880 --> 00:24:55,360
we want to be able to reconstruct who

715
00:24:55,360 --> 00:24:56,880
accessed a cert you know

716
00:24:56,880 --> 00:24:58,320
cert you know the application at a

717
00:24:58,320 --> 00:25:00,080
certain point of time

718
00:25:00,080 --> 00:25:02,640
it's all around the timeline of either

719
00:25:02,640 --> 00:25:04,000
something that's happened that needs

720
00:25:04,000 --> 00:25:05,919
digital forensics to come in

721
00:25:05,919 --> 00:25:09,200
or an ongoing active breach now the when

722
00:25:09,200 --> 00:25:11,120
is very important

723
00:25:11,120 --> 00:25:13,440
when you are creating applications with

724
00:25:13,440 --> 00:25:15,679
many moving components to generate the

725
00:25:15,679 --> 00:25:17,600
timestamps and various logs it's

726
00:25:17,600 --> 00:25:19,279
important to consider

727
00:25:19,279 --> 00:25:23,200
that you have a universal timestamp

728
00:25:23,200 --> 00:25:26,240
this means that it is best to stick to a

729
00:25:26,240 --> 00:25:27,520
single

730
00:25:27,520 --> 00:25:31,520
date and time slam format as well as to

731
00:25:31,520 --> 00:25:33,440
stick to perhaps considering whether

732
00:25:33,440 --> 00:25:34,640
you're going to lock utc

733
00:25:34,640 --> 00:25:37,520
versus local time on the device but also

734
00:25:37,520 --> 00:25:40,159
know that sometimes the device

735
00:25:40,159 --> 00:25:41,840
has an additional log that you might

736
00:25:41,840 --> 00:25:43,760
want to ingest that is now in local

737
00:25:43,760 --> 00:25:45,039
system time

738
00:25:45,039 --> 00:25:47,600
and the rest of your logs are in utc

739
00:25:47,600 --> 00:25:49,520
time zones are tricky even for the best

740
00:25:49,520 --> 00:25:50,480
of dfir

741
00:25:50,480 --> 00:25:52,960
practitioners doing time zone time zone

742
00:25:52,960 --> 00:25:55,360
translations on a global national

743
00:25:55,360 --> 00:25:58,000
is very hard so it's always good it's

744
00:25:58,000 --> 00:25:59,440
good practice to stick

745
00:25:59,440 --> 00:26:02,240
to a standardized date and time stamp

746
00:26:02,240 --> 00:26:04,000
across an organization

747
00:26:04,000 --> 00:26:06,400
not just across a certain application

748
00:26:06,400 --> 00:26:08,320
specifically if you have a security

749
00:26:08,320 --> 00:26:09,919
operation center that is going to be

750
00:26:09,919 --> 00:26:11,200
ingesting these logs

751
00:26:11,200 --> 00:26:13,120
you need to make sure that your logs are

752
00:26:13,120 --> 00:26:14,559
standardized

753
00:26:14,559 --> 00:26:17,840
you need to set a structure a format an

754
00:26:17,840 --> 00:26:19,760
approach for your logs across your whole

755
00:26:19,760 --> 00:26:21,919
organization

756
00:26:21,919 --> 00:26:24,240
now the why we want to know what has

757
00:26:24,240 --> 00:26:25,919
gone wrong in your workflow

758
00:26:25,919 --> 00:26:28,159
that has caused the attackers to gain

759
00:26:28,159 --> 00:26:29,919
access to the network

760
00:26:29,919 --> 00:26:32,320
um or we want to know if something's

761
00:26:32,320 --> 00:26:34,559
changed why it's changed when something

762
00:26:34,559 --> 00:26:36,640
changed from a favorable

763
00:26:36,640 --> 00:26:38,640
way of working or the normal behavior to

764
00:26:38,640 --> 00:26:40,400
abnormal we kind of want to be able to

765
00:26:40,400 --> 00:26:43,360
tell from the logs why this has occurred

766
00:26:43,360 --> 00:26:45,679
then again the what what steps were

767
00:26:45,679 --> 00:26:46,640
taken what was

768
00:26:46,640 --> 00:26:50,320
accessed um is what we want to know

769
00:26:50,320 --> 00:26:52,400
because we all about reconstructing

770
00:26:52,400 --> 00:26:55,440
what has taken place or potentially

771
00:26:55,440 --> 00:26:57,919
where an attacker is going to

772
00:26:57,919 --> 00:27:00,720
and that's all done by using kind of

773
00:27:00,720 --> 00:27:02,159
profiling

774
00:27:02,159 --> 00:27:04,400
the data and profiling the attackers

775
00:27:04,400 --> 00:27:05,279
through

776
00:27:05,279 --> 00:27:08,000
the steps that they take now we also

777
00:27:08,000 --> 00:27:08,880
want to know the way

778
00:27:08,880 --> 00:27:11,840
can we identify whether the attacker has

779
00:27:11,840 --> 00:27:13,919
managed to gain access to other

780
00:27:13,919 --> 00:27:16,720
services or systems you know that he

781
00:27:16,720 --> 00:27:17,840
pivot

782
00:27:17,840 --> 00:27:20,399
uh can we determine um where it

783
00:27:20,399 --> 00:27:22,320
originates from and i don't mean that to

784
00:27:22,320 --> 00:27:24,159
an ip address it's more just you know

785
00:27:24,159 --> 00:27:26,000
identify a device that's potentially

786
00:27:26,000 --> 00:27:27,200
connecting in that shouldn't be

787
00:27:27,200 --> 00:27:28,480
connecting in

788
00:27:28,480 --> 00:27:30,640
attribution is often hard the wear is

789
00:27:30,640 --> 00:27:31,919
often hard

790
00:27:31,919 --> 00:27:34,799
um it is it's not an easy thing just to

791
00:27:34,799 --> 00:27:36,880
like csi makes it look that we press a

792
00:27:36,880 --> 00:27:38,720
couple of buttons and ooh the hacker

793
00:27:38,720 --> 00:27:41,039
is sitting behind his computer and we're

794
00:27:41,039 --> 00:27:42,640
able to find him

795
00:27:42,640 --> 00:27:45,760
um often the focus is for us on

796
00:27:45,760 --> 00:27:49,360
who when why and what

797
00:27:49,360 --> 00:27:52,799
the where is very hard to do attribution

798
00:27:52,799 --> 00:27:54,080
to a person

799
00:27:54,080 --> 00:27:56,799
but we do try and do attribution to a

800
00:27:56,799 --> 00:27:59,520
computer or to a device or to a

801
00:27:59,520 --> 00:28:03,919
user account now

802
00:28:03,919 --> 00:28:05,679
when you put all these colors together

803
00:28:05,679 --> 00:28:07,600
all these ways of thinking

804
00:28:07,600 --> 00:28:09,679
this is kind of a road map that we need

805
00:28:09,679 --> 00:28:12,000
developers or the green team to have

806
00:28:12,000 --> 00:28:13,919
we need them to understand how they

807
00:28:13,919 --> 00:28:16,000
tackle things we need them to understand

808
00:28:16,000 --> 00:28:18,320
how the dragon's gonna attack it's

809
00:28:18,320 --> 00:28:20,480
important also to know that your

810
00:28:20,480 --> 00:28:22,720
green teamers are your best penetration

811
00:28:22,720 --> 00:28:23,760
testers

812
00:28:23,760 --> 00:28:25,919
green team makes up for some of the best

813
00:28:25,919 --> 00:28:27,520
red teamers because they understand the

814
00:28:27,520 --> 00:28:29,279
code that they've built they know where

815
00:28:29,279 --> 00:28:30,240
they're potentially

816
00:28:30,240 --> 00:28:33,039
vulnerable it's just about considering

817
00:28:33,039 --> 00:28:33,760
that

818
00:28:33,760 --> 00:28:35,919
going through a process before you

819
00:28:35,919 --> 00:28:37,520
actually put your hands on a keyboard

820
00:28:37,520 --> 00:28:39,760
and write the code is to consider well

821
00:28:39,760 --> 00:28:41,840
what do i not want to have happen what

822
00:28:41,840 --> 00:28:44,080
kind of attacks do i want to build

823
00:28:44,080 --> 00:28:47,840
um you know build the capacity against

824
00:28:47,840 --> 00:28:50,240
a good thing to run or a good thing to

825
00:28:50,240 --> 00:28:51,200
have your

826
00:28:51,200 --> 00:28:52,880
green team do is play a game called

827
00:28:52,880 --> 00:28:54,240
cornucopia

828
00:28:54,240 --> 00:28:56,799
it's something that i tell that i think

829
00:28:56,799 --> 00:28:58,559
is so good because it's threat modeling

830
00:28:58,559 --> 00:29:00,399
from a developer's perspective

831
00:29:00,399 --> 00:29:02,640
it's an inverted stride it's an almost

832
00:29:02,640 --> 00:29:03,520
project

833
00:29:03,520 --> 00:29:06,320
um i will put the link in the chat for

834
00:29:06,320 --> 00:29:07,840
you guys to find

835
00:29:07,840 --> 00:29:11,200
it is really an awesome way to

836
00:29:11,200 --> 00:29:15,520
think like a red teamer to build better

837
00:29:15,520 --> 00:29:18,159
but we also need now that we have our

838
00:29:18,159 --> 00:29:18,960
green team

839
00:29:18,960 --> 00:29:20,960
understanding how they will attack the

840
00:29:20,960 --> 00:29:22,240
application or

841
00:29:22,240 --> 00:29:26,159
you know the code they are able

842
00:29:26,159 --> 00:29:29,520
to actually produce

843
00:29:29,520 --> 00:29:31,679
better code that perhaps avoids that

844
00:29:31,679 --> 00:29:32,799
attack being

845
00:29:32,799 --> 00:29:35,840
able to be carried out but we also need

846
00:29:35,840 --> 00:29:37,760
them to think like the blue team things

847
00:29:37,760 --> 00:29:39,600
we need them to anticipate moves that

848
00:29:39,600 --> 00:29:40,559
are going to be made

849
00:29:40,559 --> 00:29:42,960
and building the controls that either

850
00:29:42,960 --> 00:29:45,039
tells us that it's going to happen

851
00:29:45,039 --> 00:29:47,279
or that protects it from having to

852
00:29:47,279 --> 00:29:49,840
happen so if a developer or your green

853
00:29:49,840 --> 00:29:51,760
team thinks like an attacker and they're

854
00:29:51,760 --> 00:29:53,039
able to defense

855
00:29:53,039 --> 00:29:55,520
defend against the attacks they created

856
00:29:55,520 --> 00:29:57,520
we already you know applying security

857
00:29:57,520 --> 00:29:58,720
principles

858
00:29:58,720 --> 00:30:02,000
before we've even designed any code

859
00:30:02,000 --> 00:30:03,919
but we also need them to think like the

860
00:30:03,919 --> 00:30:05,279
magicians

861
00:30:05,279 --> 00:30:08,320
consider from a forensic perspective

862
00:30:08,320 --> 00:30:11,120
what information do you need to generate

863
00:30:11,120 --> 00:30:13,279
specifically around potentially the

864
00:30:13,279 --> 00:30:15,039
vulnerabilities or weaknesses you've

865
00:30:15,039 --> 00:30:16,559
identified

866
00:30:16,559 --> 00:30:17,679
because then we're starting to do a

867
00:30:17,679 --> 00:30:20,240
layered approach we know where we weak

868
00:30:20,240 --> 00:30:22,159
we have building controls to defend

869
00:30:22,159 --> 00:30:24,399
against it but we've also built in

870
00:30:24,399 --> 00:30:26,399
actionable information that tells us

871
00:30:26,399 --> 00:30:28,240
that something's busy occurring

872
00:30:28,240 --> 00:30:30,399
or something that has occurred so again

873
00:30:30,399 --> 00:30:31,840
the future past and presence is

874
00:30:31,840 --> 00:30:34,399
important

875
00:30:34,640 --> 00:30:37,279
now once i identified that this is kind

876
00:30:37,279 --> 00:30:38,720
of where i wanted to go i

877
00:30:38,720 --> 00:30:40,159
i realized that i didn't quite

878
00:30:40,159 --> 00:30:42,000
understand how software development

879
00:30:42,000 --> 00:30:44,080
worked at an enterprise organizational

880
00:30:44,080 --> 00:30:45,840
level

881
00:30:45,840 --> 00:30:47,760
so i got recommended two books by

882
00:30:47,760 --> 00:30:50,159
friends and said

883
00:30:50,159 --> 00:30:52,480
to read them and see if i understand the

884
00:30:52,480 --> 00:30:54,480
world more

885
00:30:54,480 --> 00:30:56,480
and absolutely these books by gene kim

886
00:30:56,480 --> 00:30:58,640
is probably what is the foundational

887
00:30:58,640 --> 00:31:00,559
information that i've i've worked on for

888
00:31:00,559 --> 00:31:02,159
the last year

889
00:31:02,159 --> 00:31:05,360
building into my standardization of

890
00:31:05,360 --> 00:31:07,440
application logging that i want to build

891
00:31:07,440 --> 00:31:09,120
better logs and applications i want to

892
00:31:09,120 --> 00:31:10,960
build the logs that i need for future

893
00:31:10,960 --> 00:31:11,919
breaches

894
00:31:11,919 --> 00:31:13,679
i want to build the information that is

895
00:31:13,679 --> 00:31:14,960
needed in

896
00:31:14,960 --> 00:31:16,559
so i wrote the unicorn and the phoenix

897
00:31:16,559 --> 00:31:18,159
project and there's five

898
00:31:18,159 --> 00:31:22,880
ideals that are mentioned in the book

899
00:31:22,960 --> 00:31:25,279
um philosophies ideals the first is

900
00:31:25,279 --> 00:31:28,240
ideal is locality and simplicity

901
00:31:28,240 --> 00:31:30,080
you know things need to be simple we

902
00:31:30,080 --> 00:31:31,919
over complicate things as human beings

903
00:31:31,919 --> 00:31:34,240
and often that's it from both security

904
00:31:34,240 --> 00:31:36,559
red teamers green teamers and purple

905
00:31:36,559 --> 00:31:37,440
teamers we all

906
00:31:37,440 --> 00:31:39,600
over complicate things sometimes we

907
00:31:39,600 --> 00:31:41,279
should just keep it simple

908
00:31:41,279 --> 00:31:45,440
philosophy two is focus flow and joy

909
00:31:45,440 --> 00:31:48,480
a happy developer is a good developer

910
00:31:48,480 --> 00:31:51,200
is a productive developer it's kind of

911
00:31:51,200 --> 00:31:53,039
where it comes from we need to have joy

912
00:31:53,039 --> 00:31:55,200
in our lives and and these five

913
00:31:55,200 --> 00:31:56,240
philosophies

914
00:31:56,240 --> 00:31:58,640
are philosophies that security can take

915
00:31:58,640 --> 00:32:00,000
on board as all they apply

916
00:32:00,000 --> 00:32:03,039
to us as well the third philosophy is

917
00:32:03,039 --> 00:32:05,039
improvement of daily work

918
00:32:05,039 --> 00:32:07,919
right when you when it is easier and

919
00:32:07,919 --> 00:32:09,919
there's processes in place for you to be

920
00:32:09,919 --> 00:32:10,480
able

921
00:32:10,480 --> 00:32:13,279
to securely develop software where

922
00:32:13,279 --> 00:32:14,960
security is embedded

923
00:32:14,960 --> 00:32:17,840
right from the beginning it's also less

924
00:32:17,840 --> 00:32:19,360
work and less expensive than

925
00:32:19,360 --> 00:32:22,879
actually bolting it on at the end

926
00:32:23,039 --> 00:32:24,720
there's lots of organizations that would

927
00:32:24,720 --> 00:32:27,440
say to me but we do devsecops

928
00:32:27,440 --> 00:32:29,120
and when you start looking and working

929
00:32:29,120 --> 00:32:30,799
with them you realize they do

930
00:32:30,799 --> 00:32:32,799
they don't quite do that they do what i

931
00:32:32,799 --> 00:32:34,000
refer to as dev

932
00:32:34,000 --> 00:32:37,039
ops sec where security is still bolted

933
00:32:37,039 --> 00:32:39,760
on the end which is a super expensive

934
00:32:39,760 --> 00:32:41,440
exercise because now we're trying to

935
00:32:41,440 --> 00:32:43,200
change things and patch things but

936
00:32:43,200 --> 00:32:46,240
we really can't because we've already

937
00:32:46,240 --> 00:32:48,880
hit it to the point where you know the

938
00:32:48,880 --> 00:32:51,519
application's done we're just busy

939
00:32:51,519 --> 00:32:54,640
dealing with some things it's easier to

940
00:32:54,640 --> 00:32:58,000
build a boat sturdy than to try and

941
00:32:58,000 --> 00:32:59,519
patch

942
00:32:59,519 --> 00:33:01,600
holes while the water is trying to

943
00:33:01,600 --> 00:33:03,679
stream in

944
00:33:03,679 --> 00:33:05,840
the fourth philosophy is psychological

945
00:33:05,840 --> 00:33:07,039
safety

946
00:33:07,039 --> 00:33:09,840
we need to have an environment where we

947
00:33:09,840 --> 00:33:12,080
can able we are able to discuss

948
00:33:12,080 --> 00:33:15,200
that an incident has taken place we need

949
00:33:15,200 --> 00:33:17,039
to be able to have

950
00:33:17,039 --> 00:33:19,360
the safe space to say hey our

951
00:33:19,360 --> 00:33:21,200
organization got breached

952
00:33:21,200 --> 00:33:23,519
uh this is the root cause analysis and

953
00:33:23,519 --> 00:33:25,200
it's kind of in the incident response

954
00:33:25,200 --> 00:33:26,880
process one of the most critical thing

955
00:33:26,880 --> 00:33:27,279
is

956
00:33:27,279 --> 00:33:29,919
lessons learned and what i always tell

957
00:33:29,919 --> 00:33:31,600
my clients is this is the point where we

958
00:33:31,600 --> 00:33:32,159
don't

959
00:33:32,159 --> 00:33:35,279
point fingers and often you'll find that

960
00:33:35,279 --> 00:33:35,760
blue

961
00:33:35,760 --> 00:33:39,120
points at purple who points it green or

962
00:33:39,120 --> 00:33:40,720
you know any other color we're always

963
00:33:40,720 --> 00:33:42,159
pointing the finger back instead of

964
00:33:42,159 --> 00:33:43,360
saying well

965
00:33:43,360 --> 00:33:46,000
we are what did we learn how do we go

966
00:33:46,000 --> 00:33:46,799
forward

967
00:33:46,799 --> 00:33:48,799
and actually have a safe psychological

968
00:33:48,799 --> 00:33:51,760
space to have these conversations

969
00:33:51,760 --> 00:33:54,240
we live in an information security world

970
00:33:54,240 --> 00:33:56,799
where companies are ashamed on a daily

971
00:33:56,799 --> 00:33:59,039
basis teams are ashamed on a daily basis

972
00:33:59,039 --> 00:34:01,279
for when an incident happens

973
00:34:01,279 --> 00:34:03,519
well it's no surprise that that a breach

974
00:34:03,519 --> 00:34:06,080
has occurred because rate always wins i

975
00:34:06,080 --> 00:34:07,840
think the focus should shift from

976
00:34:07,840 --> 00:34:10,079
while you've been bridged delay let's

977
00:34:10,079 --> 00:34:10,960
see

978
00:34:10,960 --> 00:34:13,040
how you handled the incident let's see

979
00:34:13,040 --> 00:34:15,280
how you conducted yourself

980
00:34:15,280 --> 00:34:17,280
and often you know having the correct

981
00:34:17,280 --> 00:34:18,560
narrative

982
00:34:18,560 --> 00:34:21,199
on an incident and having the ability to

983
00:34:21,199 --> 00:34:21,679
not

984
00:34:21,679 --> 00:34:24,320
shame your teams when an incident has

985
00:34:24,320 --> 00:34:25,359
occurred

986
00:34:25,359 --> 00:34:29,199
yields and fosters the whole culture

987
00:34:29,199 --> 00:34:31,040
that people can make mistakes and learn

988
00:34:31,040 --> 00:34:32,839
from them and do them better in the

989
00:34:32,839 --> 00:34:34,320
future

990
00:34:34,320 --> 00:34:36,159
now the first idea from the books is

991
00:34:36,159 --> 00:34:37,839
customer focus we want to get our

992
00:34:37,839 --> 00:34:40,239
products out we don't want to have

993
00:34:40,239 --> 00:34:41,599
you know products that never see the

994
00:34:41,599 --> 00:34:43,599
market we want to produce

995
00:34:43,599 --> 00:34:46,079
products that keep our customers happy

996
00:34:46,079 --> 00:34:46,800
now these

997
00:34:46,800 --> 00:34:49,679
five ideals kind of made me think of

998
00:34:49,679 --> 00:34:50,079
well

999
00:34:50,079 --> 00:34:52,399
we should have five ideals for logging

1000
00:34:52,399 --> 00:34:54,320
logging is a very important component

1001
00:34:54,320 --> 00:34:55,119
and shouldn't be

1002
00:34:55,119 --> 00:34:58,320
a byproduct of code that you've designed

1003
00:34:58,320 --> 00:35:00,480
it should be something that is thought

1004
00:35:00,480 --> 00:35:02,000
of you should be

1005
00:35:02,000 --> 00:35:04,000
identifying what types of events you

1006
00:35:04,000 --> 00:35:05,760
would like in your logs and building

1007
00:35:05,760 --> 00:35:08,160
your code accordingly

1008
00:35:08,160 --> 00:35:10,320
now based upon these in various

1009
00:35:10,320 --> 00:35:12,640
conversations with different developers

1010
00:35:12,640 --> 00:35:14,960
as well as friends in the industry these

1011
00:35:14,960 --> 00:35:17,040
are the five philosophies for logging

1012
00:35:17,040 --> 00:35:19,280
that we came up with

1013
00:35:19,280 --> 00:35:21,839
now again philosophy one is much like in

1014
00:35:21,839 --> 00:35:23,040
the book from the unicorn and the

1015
00:35:23,040 --> 00:35:24,079
phoenix project

1016
00:35:24,079 --> 00:35:26,079
keep it simple keep it clean and

1017
00:35:26,079 --> 00:35:27,839
detailed enough

1018
00:35:27,839 --> 00:35:31,119
now logs should be able to be

1019
00:35:31,119 --> 00:35:33,119
read by anyone that knows nothing about

1020
00:35:33,119 --> 00:35:35,200
the application and at least be able to

1021
00:35:35,200 --> 00:35:36,640
fundamentally understand what they're

1022
00:35:36,640 --> 00:35:37,839
looking at

1023
00:35:37,839 --> 00:35:39,920
if you struggle to do log analysis on

1024
00:35:39,920 --> 00:35:41,200
your logs it should be

1025
00:35:41,200 --> 00:35:42,880
you should know that there is a problem

1026
00:35:42,880 --> 00:35:45,119
that has been overcomplicated and overly

1027
00:35:45,119 --> 00:35:46,480
proposed

1028
00:35:46,480 --> 00:35:49,200
often when we log too much it is when it

1029
00:35:49,200 --> 00:35:50,520
becomes

1030
00:35:50,520 --> 00:35:53,920
impossible unreadable and difficult to

1031
00:35:53,920 --> 00:35:55,040
follow

1032
00:35:55,040 --> 00:35:57,520
you should keep it clean know what goes

1033
00:35:57,520 --> 00:36:00,320
into your logs

1034
00:36:00,560 --> 00:36:03,200
it is really a big problem when we start

1035
00:36:03,200 --> 00:36:04,640
looking at legacy logs

1036
00:36:04,640 --> 00:36:06,800
and as iterations of applications have

1037
00:36:06,800 --> 00:36:07,680
happened

1038
00:36:07,680 --> 00:36:10,160
the logs get super clunky and super

1039
00:36:10,160 --> 00:36:11,359
messy

1040
00:36:11,359 --> 00:36:14,560
and just keep it detailed enough be

1041
00:36:14,560 --> 00:36:16,640
purposeful with what you put in the lots

1042
00:36:16,640 --> 00:36:18,960
and how you put it in your lots remember

1043
00:36:18,960 --> 00:36:23,280
control the information that is printed

1044
00:36:23,280 --> 00:36:25,760
often i see print bodies being put into

1045
00:36:25,760 --> 00:36:27,280
logs

1046
00:36:27,280 --> 00:36:31,040
they contain too much information

1047
00:36:31,040 --> 00:36:33,040
but again we have the other extreme we

1048
00:36:33,040 --> 00:36:34,560
might not have enough

1049
00:36:34,560 --> 00:36:36,400
information it's about finding the

1050
00:36:36,400 --> 00:36:38,320
balancing act between

1051
00:36:38,320 --> 00:36:41,119
all the perspectives and knowing that

1052
00:36:41,119 --> 00:36:42,800
you are able to say that

1053
00:36:42,800 --> 00:36:44,960
you you are able for example to do a

1054
00:36:44,960 --> 00:36:46,800
connection without having to print the

1055
00:36:46,800 --> 00:36:47,359
body

1056
00:36:47,359 --> 00:36:49,119
that still gives you the ability to

1057
00:36:49,119 --> 00:36:50,960
determine whether the account was

1058
00:36:50,960 --> 00:36:54,960
you know able to be given access

1059
00:36:54,960 --> 00:36:57,440
now philosophy two is keep it tight and

1060
00:36:57,440 --> 00:37:00,000
create metadata and use it

1061
00:37:00,000 --> 00:37:02,400
um and one of the one of the things that

1062
00:37:02,400 --> 00:37:04,079
i've seen a lot in application

1063
00:37:04,079 --> 00:37:06,800
um logs is sensitive data disclosure

1064
00:37:06,800 --> 00:37:08,240
it's still something that is a big

1065
00:37:08,240 --> 00:37:11,599
problem for organizations

1066
00:37:11,599 --> 00:37:13,760
when you consider having information

1067
00:37:13,760 --> 00:37:16,480
such as phi

1068
00:37:16,480 --> 00:37:19,200
tokens those kind of things and consider

1069
00:37:19,200 --> 00:37:21,839
tagging it within your code um

1070
00:37:21,839 --> 00:37:23,920
perhaps assigning at a privacy level and

1071
00:37:23,920 --> 00:37:25,680
then when it is printed in the logs

1072
00:37:25,680 --> 00:37:27,119
differentiate what

1073
00:37:27,119 --> 00:37:28,800
what you want to have in your production

1074
00:37:28,800 --> 00:37:30,400
logs versus what you don't want to have

1075
00:37:30,400 --> 00:37:31,920
in your production logs

1076
00:37:31,920 --> 00:37:34,320
um it's never a good idea to have the

1077
00:37:34,320 --> 00:37:35,920
same information that you would have at

1078
00:37:35,920 --> 00:37:37,920
a debug level in production

1079
00:37:37,920 --> 00:37:39,760
but i mean that's something i have you

1080
00:37:39,760 --> 00:37:42,800
know that's something everyone knows

1081
00:37:42,800 --> 00:37:44,560
but how do you build in the controls

1082
00:37:44,560 --> 00:37:46,240
that accidentally you don't have the

1083
00:37:46,240 --> 00:37:47,839
disclosure of the information

1084
00:37:47,839 --> 00:37:49,359
and that is done by tagging your

1085
00:37:49,359 --> 00:37:51,119
variables of data

1086
00:37:51,119 --> 00:37:53,359
with the appropriate phr you know

1087
00:37:53,359 --> 00:37:54,720
privacy levels

1088
00:37:54,720 --> 00:37:56,560
so right in the beginning discuss the

1089
00:37:56,560 --> 00:37:58,000
different kinds of information you're

1090
00:37:58,000 --> 00:37:59,359
recording

1091
00:37:59,359 --> 00:38:01,280
then discuss what the privacy level

1092
00:38:01,280 --> 00:38:02,880
should be and what steps

1093
00:38:02,880 --> 00:38:05,200
will be taken with each associated

1094
00:38:05,200 --> 00:38:06,480
privacy level

1095
00:38:06,480 --> 00:38:07,599
as to whether they're going to be

1096
00:38:07,599 --> 00:38:09,280
redacted whether they're going to be

1097
00:38:09,280 --> 00:38:11,040
just printed

1098
00:38:11,040 --> 00:38:13,520
or whether they're going to be hatched

1099
00:38:13,520 --> 00:38:14,960
there are different ways of dealing with

1100
00:38:14,960 --> 00:38:17,680
that but consider data privacy as part

1101
00:38:17,680 --> 00:38:18,800
of

1102
00:38:18,800 --> 00:38:22,240
your log design process now philosophy

1103
00:38:22,240 --> 00:38:23,680
three is the one that much like

1104
00:38:23,680 --> 00:38:25,680
technical debt everyone hates keep it

1105
00:38:25,680 --> 00:38:26,240
clean and

1106
00:38:26,240 --> 00:38:28,320
keep it focused now i mentioned a little

1107
00:38:28,320 --> 00:38:29,520
bit earlier that as

1108
00:38:29,520 --> 00:38:32,880
applications develop so their lobs grow

1109
00:38:32,880 --> 00:38:34,960
so with every update or new iteration

1110
00:38:34,960 --> 00:38:36,480
there's new things are introduced into

1111
00:38:36,480 --> 00:38:37,359
logs

1112
00:38:37,359 --> 00:38:39,119
and we start dealing with log data we

1113
00:38:39,119 --> 00:38:40,720
start dealing with logs that

1114
00:38:40,720 --> 00:38:42,640
or legacy systems that are still logging

1115
00:38:42,640 --> 00:38:44,480
or a certain

1116
00:38:44,480 --> 00:38:47,680
component could be producing excessive

1117
00:38:47,680 --> 00:38:48,560
lines within

1118
00:38:48,560 --> 00:38:51,599
in within logs deal with

1119
00:38:51,599 --> 00:38:54,640
at least one item vlogging date per

1120
00:38:54,640 --> 00:38:55,680
sprint

1121
00:38:55,680 --> 00:38:58,560
clean up one thing because those things

1122
00:38:58,560 --> 00:38:59,280
add up if

1123
00:38:59,280 --> 00:39:01,040
every developer on a team just deals

1124
00:39:01,040 --> 00:39:04,160
with one leg no logging debt or legacy

1125
00:39:04,160 --> 00:39:07,760
log issues it starts becoming achievable

1126
00:39:07,760 --> 00:39:09,440
it's all about breaking it down into

1127
00:39:09,440 --> 00:39:12,000
small manageable pieces now philosophy

1128
00:39:12,000 --> 00:39:15,040
4 is assumed at some point you will be

1129
00:39:15,040 --> 00:39:17,359
compromised and log accordingly

1130
00:39:17,359 --> 00:39:19,440
now if you have done a threat model for

1131
00:39:19,440 --> 00:39:21,359
example using something like cornucopia

1132
00:39:21,359 --> 00:39:22,640
or stride

1133
00:39:22,640 --> 00:39:24,560
and you know where your application is

1134
00:39:24,560 --> 00:39:26,240
potentially weak

1135
00:39:26,240 --> 00:39:28,480
log accordingly if that is where you are

1136
00:39:28,480 --> 00:39:29,839
going to be attacked

1137
00:39:29,839 --> 00:39:31,760
or most likely attacked build in the

1138
00:39:31,760 --> 00:39:33,680
controls within the logging

1139
00:39:33,680 --> 00:39:35,680
that triggers certain actions that are

1140
00:39:35,680 --> 00:39:37,359
being taken

1141
00:39:37,359 --> 00:39:39,440
it also helps when you have when you

1142
00:39:39,440 --> 00:39:41,599
ingest these logs that you are able to

1143
00:39:41,599 --> 00:39:45,280
trigger on certain events and be able to

1144
00:39:45,280 --> 00:39:48,560
identify a bridge much faster

1145
00:39:48,560 --> 00:39:51,200
now philosophy five consider who has

1146
00:39:51,200 --> 00:39:52,800
access to your logs and how they are

1147
00:39:52,800 --> 00:39:55,359
stored and how they are transported

1148
00:39:55,359 --> 00:39:57,440
often these application level logs

1149
00:39:57,440 --> 00:39:59,680
reside on a third-party application you

1150
00:39:59,680 --> 00:40:02,000
have no control over

1151
00:40:02,000 --> 00:40:04,880
you need to do some mutual

1152
00:40:04,880 --> 00:40:06,400
authentication to

1153
00:40:06,400 --> 00:40:08,720
an integrity checks to determine whether

1154
00:40:08,720 --> 00:40:09,680
or not

1155
00:40:09,680 --> 00:40:11,440
the logs that you have been sent is

1156
00:40:11,440 --> 00:40:13,440
indeed what you've received

1157
00:40:13,440 --> 00:40:15,760
uh now there's various ways of doing it

1158
00:40:15,760 --> 00:40:17,520
this is kind of applying the forensic

1159
00:40:17,520 --> 00:40:19,280
process um one of the ways

1160
00:40:19,280 --> 00:40:21,280
we do it is we would have a forensic hat

1161
00:40:21,280 --> 00:40:23,359
we'll have an md5 hash

1162
00:40:23,359 --> 00:40:25,359
or show one hash that's regenerated on

1163
00:40:25,359 --> 00:40:27,119
the contents of a file

1164
00:40:27,119 --> 00:40:29,359
now if you change as much as a single

1165
00:40:29,359 --> 00:40:30,640
space or a single

1166
00:40:30,640 --> 00:40:32,640
full stop in the document the hash value

1167
00:40:32,640 --> 00:40:33,760
will be different

1168
00:40:33,760 --> 00:40:35,440
now yes everyone's going to scream that

1169
00:40:35,440 --> 00:40:37,440
there's hashing um

1170
00:40:37,440 --> 00:40:39,599
hashing collisions well there's a paper

1171
00:40:39,599 --> 00:40:41,680
you can go read about it

1172
00:40:41,680 --> 00:40:43,760
even though that is possible and can

1173
00:40:43,760 --> 00:40:45,839
happen hashing is still a very good way

1174
00:40:45,839 --> 00:40:46,800
to

1175
00:40:46,800 --> 00:40:49,599
do integrity checks on contents of logs

1176
00:40:49,599 --> 00:40:52,160
um or forensic images for that purposes

1177
00:40:52,160 --> 00:40:54,720
because the content still needs to be

1178
00:40:54,720 --> 00:40:57,280
readable and ingestible and possible and

1179
00:40:57,280 --> 00:40:58,319
makes sense

1180
00:40:58,319 --> 00:41:01,440
and when you are generating a collision

1181
00:41:01,440 --> 00:41:04,319
often the the data contained within

1182
00:41:04,319 --> 00:41:06,640
would not make sense or fit the format

1183
00:41:06,640 --> 00:41:07,760
of a log

1184
00:41:07,760 --> 00:41:10,319
so it's important to do those kind of

1185
00:41:10,319 --> 00:41:11,680
random checks to

1186
00:41:11,680 --> 00:41:13,839
just validate the integrity of the locks

1187
00:41:13,839 --> 00:41:15,280
in the end of the day when a breach

1188
00:41:15,280 --> 00:41:16,400
occurs your logs

1189
00:41:16,400 --> 00:41:18,720
are one of the sources of evidence we

1190
00:41:18,720 --> 00:41:19,680
look and

1191
00:41:19,680 --> 00:41:22,000
if there's no integrity to them we can't

1192
00:41:22,000 --> 00:41:24,560
verify that they are correct

1193
00:41:24,560 --> 00:41:26,400
how can you do your incident response

1194
00:41:26,400 --> 00:41:28,560
and say that the logs were not tampered

1195
00:41:28,560 --> 00:41:30,799
with

1196
00:41:31,040 --> 00:41:32,800
so this is important that you need to

1197
00:41:32,800 --> 00:41:34,319
protect it at rest

1198
00:41:34,319 --> 00:41:35,839
you need to protect the contents you

1199
00:41:35,839 --> 00:41:37,440
need to protect how it's seen so

1200
00:41:37,440 --> 00:41:40,240
consider these things when you start

1201
00:41:40,240 --> 00:41:42,000
designing your logs that you can build

1202
00:41:42,000 --> 00:41:44,160
in the additional features for it able

1203
00:41:44,160 --> 00:41:44,800
to be

1204
00:41:44,800 --> 00:41:49,440
done in a very forensically sound manner

1205
00:41:49,440 --> 00:41:51,920
as i said all roads lead to the logs

1206
00:41:51,920 --> 00:41:54,079
inevitably if we would like to do

1207
00:41:54,079 --> 00:41:56,160
incident response from any perspective

1208
00:41:56,160 --> 00:41:57,760
and big surprise

1209
00:41:57,760 --> 00:42:00,640
red blue purple and green all do

1210
00:42:00,640 --> 00:42:02,000
incident response now you're going to

1211
00:42:02,000 --> 00:42:03,280
say veronica well

1212
00:42:03,280 --> 00:42:06,240
how the hell is that possible well great

1213
00:42:06,240 --> 00:42:08,480
team looks at the incident response from

1214
00:42:08,480 --> 00:42:09,680
a perspective of

1215
00:42:09,680 --> 00:42:11,760
well what do i need to gain from the

1216
00:42:11,760 --> 00:42:13,839
logs you know what what

1217
00:42:13,839 --> 00:42:17,760
do i need to do to break in

1218
00:42:17,760 --> 00:42:19,680
then we have blue team that is from the

1219
00:42:19,680 --> 00:42:21,839
perspective of their incident is well i

1220
00:42:21,839 --> 00:42:23,440
need to look at the logs and i either

1221
00:42:23,440 --> 00:42:24,800
need to know something's coming

1222
00:42:24,800 --> 00:42:26,480
something's happened or something's busy

1223
00:42:26,480 --> 00:42:27,599
happening

1224
00:42:27,599 --> 00:42:29,520
then you have incident responders where

1225
00:42:29,520 --> 00:42:31,359
we do the traditional incident response

1226
00:42:31,359 --> 00:42:32,960
the breaches occurred we want to know

1227
00:42:32,960 --> 00:42:34,560
who what why and where

1228
00:42:34,560 --> 00:42:36,800
uh we want to do timeline reconstruction

1229
00:42:36,800 --> 00:42:37,760
as well as

1230
00:42:37,760 --> 00:42:41,599
hand over the network to blue teamers

1231
00:42:41,599 --> 00:42:44,480
with information on how they can better

1232
00:42:44,480 --> 00:42:47,359
keep this from happening again but then

1233
00:42:47,359 --> 00:42:48,880
we have green team that also has an

1234
00:42:48,880 --> 00:42:50,160
incident response

1235
00:42:50,160 --> 00:42:52,000
they do it from a debugging perspective

1236
00:42:52,000 --> 00:42:54,000
they do it from a perspective of well

1237
00:42:54,000 --> 00:42:55,520
something's broken that needs to be

1238
00:42:55,520 --> 00:42:58,160
fixed field investigations

1239
00:42:58,160 --> 00:43:01,040
so all the roads lead to the log slots

1240
00:43:01,040 --> 00:43:02,960
are super important and they should be

1241
00:43:02,960 --> 00:43:04,800
given the consideration

1242
00:43:04,800 --> 00:43:07,280
that any other feature is given on a

1243
00:43:07,280 --> 00:43:08,240
application

1244
00:43:08,240 --> 00:43:10,640
in fact i firmly believe that logging

1245
00:43:10,640 --> 00:43:12,400
should be a feature

1246
00:43:12,400 --> 00:43:14,800
within application development that is

1247
00:43:14,800 --> 00:43:17,200
considered prior to building an

1248
00:43:17,200 --> 00:43:20,480
application itself now

1249
00:43:20,480 --> 00:43:22,400
uncle bob that has been a big

1250
00:43:22,400 --> 00:43:24,240
inspiration to me

1251
00:43:24,240 --> 00:43:26,319
in terms of how he talks about the

1252
00:43:26,319 --> 00:43:28,000
profession the profession

1253
00:43:28,000 --> 00:43:30,480
of being a developer and heart code

1254
00:43:30,480 --> 00:43:31,040
should be

1255
00:43:31,040 --> 00:43:33,599
um you said be kind to your future self

1256
00:43:33,599 --> 00:43:35,680
when you go back and you have to go read

1257
00:43:35,680 --> 00:43:37,200
your code after a year because

1258
00:43:37,200 --> 00:43:39,440
something's gone wrong it is often very

1259
00:43:39,440 --> 00:43:39,839
hard

1260
00:43:39,839 --> 00:43:42,640
context shift back to that that is

1261
00:43:42,640 --> 00:43:44,960
similar for for indicators or dfir

1262
00:43:44,960 --> 00:43:45,839
practitioners

1263
00:43:45,839 --> 00:43:47,839
so be kind to your future for indicator

1264
00:43:47,839 --> 00:43:49,520
when creating your logs

1265
00:43:49,520 --> 00:43:51,599
often we have to go back with them often

1266
00:43:51,599 --> 00:43:53,040
too late

1267
00:43:53,040 --> 00:43:54,800
not soon enough and we have to

1268
00:43:54,800 --> 00:43:57,440
reconstruct an event that's taken place

1269
00:43:57,440 --> 00:44:00,160
and it's sometimes also time critical um

1270
00:44:00,160 --> 00:44:00,960
as a

1271
00:44:00,960 --> 00:44:03,920
live breach is ongoing so as much as you

1272
00:44:03,920 --> 00:44:05,359
don't like to go back and looking at

1273
00:44:05,359 --> 00:44:07,200
your code we also don't

1274
00:44:07,200 --> 00:44:09,040
generally enjoy going back to look at

1275
00:44:09,040 --> 00:44:12,800
lots that are difficult to work with

1276
00:44:13,680 --> 00:44:15,920
so i said that blue team wants to

1277
00:44:15,920 --> 00:44:18,079
identify faster and the reason being is

1278
00:44:18,079 --> 00:44:20,000
that the average days that it currently

1279
00:44:20,000 --> 00:44:22,800
takes to detect to reach 280 days

1280
00:44:22,800 --> 00:44:25,040
unless the attackers have made it known

1281
00:44:25,040 --> 00:44:26,240
earlier

1282
00:44:26,240 --> 00:44:28,240
this is the average globally which is

1283
00:44:28,240 --> 00:44:29,760
far too long

1284
00:44:29,760 --> 00:44:31,760
and it's my firm belief that if we have

1285
00:44:31,760 --> 00:44:33,760
better application logs are ingested

1286
00:44:33,760 --> 00:44:36,720
into a centralized team we will be able

1287
00:44:36,720 --> 00:44:38,720
to do detection earlier i will be able

1288
00:44:38,720 --> 00:44:40,400
to baseline what is normal

1289
00:44:40,400 --> 00:44:42,480
what is abnormal and be able to trigger

1290
00:44:42,480 --> 00:44:43,839
upon that

1291
00:44:43,839 --> 00:44:46,400
now 80 of all breaches in the last year

1292
00:44:46,400 --> 00:44:47,599
contain phi

1293
00:44:47,599 --> 00:44:49,440
passwords and secrets and a lot of these

1294
00:44:49,440 --> 00:44:52,640
were found in in the logs themselves

1295
00:44:52,640 --> 00:44:55,680
so again sensitive data disclosure is

1296
00:44:55,680 --> 00:44:57,440
quite a big thing and your logs are the

1297
00:44:57,440 --> 00:44:59,119
ones where they often slip

1298
00:44:59,119 --> 00:45:02,160
in in many organizations

1299
00:45:02,160 --> 00:45:04,480
now let's play the numbers game because

1300
00:45:04,480 --> 00:45:06,400
i said to you how do we fix this or how

1301
00:45:06,400 --> 00:45:08,040
do we make this all better well

1302
00:45:08,040 --> 00:45:10,319
26.6 million developers in the world

1303
00:45:10,319 --> 00:45:11,200
green team

1304
00:45:11,200 --> 00:45:13,920
is is largely big this is also

1305
00:45:13,920 --> 00:45:16,319
estimations based on some research

1306
00:45:16,319 --> 00:45:19,119
um that i've done now there's about four

1307
00:45:19,119 --> 00:45:21,280
million cyber security professionals

1308
00:45:21,280 --> 00:45:22,960
worldwide um

1309
00:45:22,960 --> 00:45:24,720
now i don't think this number is totally

1310
00:45:24,720 --> 00:45:26,960
accurate but even if it was

1311
00:45:26,960 --> 00:45:29,680
um more than that it's it's still a lot

1312
00:45:29,680 --> 00:45:30,960
less than green

1313
00:45:30,960 --> 00:45:33,520
and in this is blue red and purple are

1314
00:45:33,520 --> 00:45:36,160
all considered a cyber security

1315
00:45:36,160 --> 00:45:38,640
so that shows you that for the solution

1316
00:45:38,640 --> 00:45:40,240
to work we need to empower

1317
00:45:40,240 --> 00:45:43,440
green to think like blue attack light

1318
00:45:43,440 --> 00:45:46,960
red and investigate like purple

1319
00:45:46,960 --> 00:45:49,440
so how do we do this well it is by

1320
00:45:49,440 --> 00:45:50,880
taking all the colors

1321
00:45:50,880 --> 00:45:52,880
and putting it in a combination team

1322
00:45:52,880 --> 00:45:54,160
it's bringing the

1323
00:45:54,160 --> 00:45:56,800
blue perspective to defend to the green

1324
00:45:56,800 --> 00:45:58,640
so they are able to build in the

1325
00:45:58,640 --> 00:46:02,640
security controls that we need um

1326
00:46:02,640 --> 00:46:04,800
it's also looking at where their

1327
00:46:04,800 --> 00:46:06,480
potential will be attacked because

1328
00:46:06,480 --> 00:46:08,240
then they know what security controls

1329
00:46:08,240 --> 00:46:09,920
the building as well as building in the

1330
00:46:09,920 --> 00:46:11,520
information that is needed to do the

1331
00:46:11,520 --> 00:46:13,760
investigations

1332
00:46:13,760 --> 00:46:16,480
the now when green has the ability to

1333
00:46:16,480 --> 00:46:18,319
consider all these things you will

1334
00:46:18,319 --> 00:46:20,720
start seeing better application logs you

1335
00:46:20,720 --> 00:46:22,000
will see logs where

1336
00:46:22,000 --> 00:46:25,359
we have information that shows the

1337
00:46:25,359 --> 00:46:27,839
security workflow

1338
00:46:27,839 --> 00:46:30,319
we'll see additional logging around the

1339
00:46:30,319 --> 00:46:31,440
weak areas

1340
00:46:31,440 --> 00:46:32,960
so that we know that we have the

1341
00:46:32,960 --> 00:46:34,720
information to find

1342
00:46:34,720 --> 00:46:39,280
what has happened now

1343
00:46:39,280 --> 00:46:41,599
read understands how to attack blue

1344
00:46:41,599 --> 00:46:43,040
understands the defend

1345
00:46:43,040 --> 00:46:46,079
and purple understands to investigate

1346
00:46:46,079 --> 00:46:47,599
but we should be instilling this

1347
00:46:47,599 --> 00:46:50,079
information to developers

1348
00:46:50,079 --> 00:46:52,640
giving them the tools and the mechanisms

1349
00:46:52,640 --> 00:46:53,359
to build

1350
00:46:53,359 --> 00:46:56,560
what we need in red

1351
00:46:56,560 --> 00:47:00,000
um anticipates that green inevitably

1352
00:47:00,000 --> 00:47:02,160
will build something with a weakness in

1353
00:47:02,160 --> 00:47:04,240
if not today at some point it becomes

1354
00:47:04,240 --> 00:47:06,160
vulnerable

1355
00:47:06,160 --> 00:47:08,800
blue once you know blue expects green to

1356
00:47:08,800 --> 00:47:11,040
build devices that red can't break into

1357
00:47:11,040 --> 00:47:15,040
but we've already said red always wins

1358
00:47:15,200 --> 00:47:17,839
but from my perspective i cannot build

1359
00:47:17,839 --> 00:47:19,839
the logs better once an incident and

1360
00:47:19,839 --> 00:47:21,680
taken place if the locks don't exist

1361
00:47:21,680 --> 00:47:23,040
they don't exist i don't

1362
00:47:23,040 --> 00:47:25,359
in real life wield any magic that is

1363
00:47:25,359 --> 00:47:26,480
able to produce

1364
00:47:26,480 --> 00:47:29,520
information that's not there i am

1365
00:47:29,520 --> 00:47:31,760
dependent on green team as building in

1366
00:47:31,760 --> 00:47:33,760
the necessary logs that i need to

1367
00:47:33,760 --> 00:47:37,520
investigate their future bridge

1368
00:47:37,680 --> 00:47:39,680
so how do we do this we turn them into

1369
00:47:39,680 --> 00:47:41,680
forensic coding ninjas

1370
00:47:41,680 --> 00:47:43,680
we share within our organizations our

1371
00:47:43,680 --> 00:47:45,280
information

1372
00:47:45,280 --> 00:47:48,240
we help them to develop from just being

1373
00:47:48,240 --> 00:47:48,960
builders

1374
00:47:48,960 --> 00:47:52,000
into builders that are breakers builders

1375
00:47:52,000 --> 00:47:53,359
that are defenders

1376
00:47:53,359 --> 00:47:56,960
holders that offer indicators we do this

1377
00:47:56,960 --> 00:47:59,040
by sharing our knowledge and sharing the

1378
00:47:59,040 --> 00:48:00,640
workload

1379
00:48:00,640 --> 00:48:03,200
having conversations passing on

1380
00:48:03,200 --> 00:48:04,559
education

1381
00:48:04,559 --> 00:48:07,680
and it will do both all you know blue

1382
00:48:07,680 --> 00:48:10,000
team and purple team the world of good

1383
00:48:10,000 --> 00:48:12,319
to go understand the constraints and the

1384
00:48:12,319 --> 00:48:14,640
difficulties that green faces

1385
00:48:14,640 --> 00:48:16,480
the complexities of code you know

1386
00:48:16,480 --> 00:48:18,400
software development

1387
00:48:18,400 --> 00:48:21,680
um i certainly feel that i've come full

1388
00:48:21,680 --> 00:48:23,839
circle in my journey to understand all

1389
00:48:23,839 --> 00:48:25,760
the perspectives and understand that the

1390
00:48:25,760 --> 00:48:27,680
way to solve what we're dealing with in

1391
00:48:27,680 --> 00:48:28,880
the field

1392
00:48:28,880 --> 00:48:31,119
is to influence how applications are

1393
00:48:31,119 --> 00:48:32,000
built

1394
00:48:32,000 --> 00:48:36,000
and the only way that that can be done

1395
00:48:36,000 --> 00:48:39,280
is to influence um green team

1396
00:48:39,280 --> 00:48:41,680
to become the all-star team to become

1397
00:48:41,680 --> 00:48:43,119
the team that encompasses

1398
00:48:43,119 --> 00:48:45,520
everything that understands the

1399
00:48:45,520 --> 00:48:48,800
perspectives of everyone

1400
00:48:48,800 --> 00:48:51,200
so in short your logs should always be

1401
00:48:51,200 --> 00:48:52,960
simple and structured structured is

1402
00:48:52,960 --> 00:48:54,319
super important

1403
00:48:54,319 --> 00:48:57,680
we want to be able to grip it you know

1404
00:48:57,680 --> 00:48:59,760
do searches again to do analytics or

1405
00:48:59,760 --> 00:49:00,960
ingestion

1406
00:49:00,960 --> 00:49:02,960
and if you're having to write passes for

1407
00:49:02,960 --> 00:49:05,359
every application you are doing logs

1408
00:49:05,359 --> 00:49:08,240
wrong and you should consider changing

1409
00:49:08,240 --> 00:49:10,400
this immediately

1410
00:49:10,400 --> 00:49:12,640
your log should not contain more

1411
00:49:12,640 --> 00:49:13,520
information

1412
00:49:13,520 --> 00:49:15,839
than is needed it should only contain

1413
00:49:15,839 --> 00:49:17,440
the bare minimum that is needed for

1414
00:49:17,440 --> 00:49:19,200
debugging purposes investigative

1415
00:49:19,200 --> 00:49:20,160
purposes

1416
00:49:20,160 --> 00:49:23,760
as well as general workflow purposes

1417
00:49:23,760 --> 00:49:25,760
if it doesn't need to be in the logs for

1418
00:49:25,760 --> 00:49:27,920
any of those perspectives

1419
00:49:27,920 --> 00:49:31,040
based cuts out avoid print bodies as far

1420
00:49:31,040 --> 00:49:32,240
as possible

1421
00:49:32,240 --> 00:49:33,920
find different ways to write the same

1422
00:49:33,920 --> 00:49:36,400
event

1423
00:49:37,359 --> 00:49:38,960
you don't want to disclose sensitive

1424
00:49:38,960 --> 00:49:40,559
information

1425
00:49:40,559 --> 00:49:43,680
80 of all data breaches occurred because

1426
00:49:43,680 --> 00:49:46,319
sensitive information was disclosed

1427
00:49:46,319 --> 00:49:48,400
often there is accidental information

1428
00:49:48,400 --> 00:49:50,240
disclosure and it happens within your

1429
00:49:50,240 --> 00:49:52,319
locks

1430
00:49:52,319 --> 00:49:56,000
this leads to future breaches though

1431
00:49:56,000 --> 00:49:57,680
so always consider when you are

1432
00:49:57,680 --> 00:49:59,440
designing your logs

1433
00:49:59,440 --> 00:50:01,839
that at some point you will be breached

1434
00:50:01,839 --> 00:50:03,520
it's not a question of if it's question

1435
00:50:03,520 --> 00:50:05,359
of when and whether or not you can

1436
00:50:05,359 --> 00:50:06,880
determine that it's happened based upon

1437
00:50:06,880 --> 00:50:08,400
your logs

1438
00:50:08,400 --> 00:50:09,920
whether you will know that it's happened

1439
00:50:09,920 --> 00:50:12,160
unless the attacker tells you

1440
00:50:12,160 --> 00:50:16,000
all roads lead to the logs

