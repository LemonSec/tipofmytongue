1
00:00:02,080 --> 00:00:03,840
hey what's up everyone alyssa knight

2
00:00:03,840 --> 00:00:06,480
here i want to thank nina ali and the

3
00:00:06,480 --> 00:00:08,639
rest of her team at biohacking village

4
00:00:08,639 --> 00:00:11,280
for inviting mitch and i to come speak

5
00:00:11,280 --> 00:00:13,200
on my recent vulnerability research on

6
00:00:13,200 --> 00:00:17,039
hacking fire apis and health apis so i'm

7
00:00:17,039 --> 00:00:18,960
going to start out with the view from

8
00:00:18,960 --> 00:00:21,199
the attacker my tactics and techniques

9
00:00:21,199 --> 00:00:24,240
and the results of me hacking these m

10
00:00:24,240 --> 00:00:26,480
health and fire apis and then we're

11
00:00:26,480 --> 00:00:28,400
going to transition over to mitch who

12
00:00:28,400 --> 00:00:30,960
will give his side in perspective as a

13
00:00:30,960 --> 00:00:34,399
defender and cso so without further ado

14
00:00:34,399 --> 00:00:36,960
let's get it started

15
00:00:36,960 --> 00:00:38,719
just so quick about me if any of you

16
00:00:38,719 --> 00:00:40,000
want to reach me you can feel free to

17
00:00:40,000 --> 00:00:42,079
reach out to me on my email at ak knight

18
00:00:42,079 --> 00:00:44,879
incmedia.com follow me on twitter

19
00:00:44,879 --> 00:00:46,719
subscribe my youtube channel

20
00:00:46,719 --> 00:00:48,719
hit that bell icon to be notified of new

21
00:00:48,719 --> 00:00:50,239
uploads i publish

22
00:00:50,239 --> 00:00:52,960
every week as well as live stream and

23
00:00:52,960 --> 00:00:54,640
that's the best way that you can support

24
00:00:54,640 --> 00:00:56,239
content creators and influencers in

25
00:00:56,239 --> 00:00:58,480
cyber security is to subscribe to our

26
00:00:58,480 --> 00:01:02,160
accounts and follow us and retweet it or

27
00:01:02,160 --> 00:01:04,959
re-share it so with that being said i'm

28
00:01:04,959 --> 00:01:07,280
a recovering hacker of 21 years so i've

29
00:01:07,280 --> 00:01:09,439
been in this for a long time

30
00:01:09,439 --> 00:01:12,720
um i'm an entrepreneur i've published a

31
00:01:12,720 --> 00:01:15,520
book on hacking connected cars i'm also

32
00:01:15,520 --> 00:01:18,799
working on a new book hacking apis i've

33
00:01:18,799 --> 00:01:20,640
started and sold two previous cyber

34
00:01:20,640 --> 00:01:23,680
security startups and buy side and m

35
00:01:23,680 --> 00:01:27,040
sell side m a transactions so

36
00:01:27,040 --> 00:01:29,040
i've been around the block i've been to

37
00:01:29,040 --> 00:01:31,280
the show i actually started out with in

38
00:01:31,280 --> 00:01:34,479
the bbs scene in seattle a long time ago

39
00:01:34,479 --> 00:01:37,360
many moons ago and i wrote a multi-node

40
00:01:37,360 --> 00:01:40,400
bbs and actually got started in hacking

41
00:01:40,400 --> 00:01:41,759
on irc

42
00:01:41,759 --> 00:01:44,320
so for any of you who've been around

43
00:01:44,320 --> 00:01:47,040
long enough to remember that um

44
00:01:47,040 --> 00:01:50,399
i also run in a venture capital fund m a

45
00:01:50,399 --> 00:01:52,320
night capital

46
00:01:52,320 --> 00:01:54,159
m a night entertainment so i'm in the

47
00:01:54,159 --> 00:01:55,840
process of actually writing a screenplay

48
00:01:55,840 --> 00:01:59,200
for a new tv series and also run knight

49
00:01:59,200 --> 00:02:01,439
inc which is a content marketing company

50
00:02:01,439 --> 00:02:02,960
i'm a cyber security filmmaker and

51
00:02:02,960 --> 00:02:04,960
content creator so i work with cyber

52
00:02:04,960 --> 00:02:07,280
security vendors brands challenger

53
00:02:07,280 --> 00:02:09,758
brands to create what i like to call

54
00:02:09,758 --> 00:02:12,400
adversarial content meaning that i

55
00:02:12,400 --> 00:02:14,319
create content from the views of the

56
00:02:14,319 --> 00:02:15,440
attacker

57
00:02:15,440 --> 00:02:16,400
and

58
00:02:16,400 --> 00:02:19,200
that is a new type of content that

59
00:02:19,200 --> 00:02:22,080
really shows content in the efficacy of

60
00:02:22,080 --> 00:02:24,560
a product in it being able to defend

61
00:02:24,560 --> 00:02:26,000
against the hacks that i'm running

62
00:02:26,000 --> 00:02:29,200
against it so if for example

63
00:02:29,200 --> 00:02:30,959
approve who's the sponsor of this

64
00:02:30,959 --> 00:02:33,599
research i thought well instead of just

65
00:02:33,599 --> 00:02:35,920
writing writing a boring white paper or

66
00:02:35,920 --> 00:02:37,840
doing a boring video on your features

67
00:02:37,840 --> 00:02:39,680
what if i were to hack apis and show how

68
00:02:39,680 --> 00:02:41,599
your product would have prevented it and

69
00:02:41,599 --> 00:02:43,440
that's exactly what i did and that was

70
00:02:43,440 --> 00:02:45,280
the impetus to my presentation to you

71
00:02:45,280 --> 00:02:46,800
today

72
00:02:46,800 --> 00:02:49,360
my api hack so i've kind of branded at

73
00:02:49,360 --> 00:02:51,760
this point as an api hacker in 2019 i

74
00:02:51,760 --> 00:02:55,519
hacked 30 financial apps and apis 2020 i

75
00:02:55,519 --> 00:02:58,640
hacked m uh 30m health apps and apis

76
00:02:58,640 --> 00:03:00,959
2021 i hacked federal and state law

77
00:03:00,959 --> 00:03:04,959
enforcement vehicles and

78
00:03:05,280 --> 00:03:09,040
2021 this year i'm hacking fire apis and

79
00:03:09,040 --> 00:03:11,680
also connected trains so i'm very

80
00:03:11,680 --> 00:03:13,280
passionate about hacking embedded

81
00:03:13,280 --> 00:03:16,000
systems everything today from the

82
00:03:16,000 --> 00:03:18,159
plumbing of our financial system now to

83
00:03:18,159 --> 00:03:20,319
our healthcare system with the fire

84
00:03:20,319 --> 00:03:21,519
deadlines

85
00:03:21,519 --> 00:03:22,319
uh

86
00:03:22,319 --> 00:03:25,760
are all communicating with apis so i'm

87
00:03:25,760 --> 00:03:27,760
really excited to talk about that today

88
00:03:27,760 --> 00:03:29,120
and give you a little bit of a brief

89
00:03:29,120 --> 00:03:31,120
background on fire

90
00:03:31,120 --> 00:03:32,799
and

91
00:03:32,799 --> 00:03:35,519
okay so as i mentioned approve sponsored

92
00:03:35,519 --> 00:03:37,200
this research into hacking healthcare

93
00:03:37,200 --> 00:03:40,239
apis um so you can actually go and

94
00:03:40,239 --> 00:03:43,120
download the report from approved.io

95
00:03:43,120 --> 00:03:44,879
and one thing that i do want to mention

96
00:03:44,879 --> 00:03:45,760
is

97
00:03:45,760 --> 00:03:47,599
and i'll go into this in the final part

98
00:03:47,599 --> 00:03:50,239
of my presentation but

99
00:03:50,239 --> 00:03:53,360
the apis that i hacked many of them were

100
00:03:53,360 --> 00:03:56,480
behind laughs and i'm going to talk

101
00:03:56,480 --> 00:03:58,080
about the dangers of using the wrong

102
00:03:58,080 --> 00:03:59,920
tool for the job

103
00:03:59,920 --> 00:04:01,599
when you're not using an api threat

104
00:04:01,599 --> 00:04:03,680
management solution that's been purpose

105
00:04:03,680 --> 00:04:06,640
built from the ground up to secure apis

106
00:04:06,640 --> 00:04:08,319
you're going to be under a false sense

107
00:04:08,319 --> 00:04:10,560
of security so

108
00:04:10,560 --> 00:04:12,400
take a look at the research hit the

109
00:04:12,400 --> 00:04:15,920
website and download it today

110
00:04:15,920 --> 00:04:17,279
okay so

111
00:04:17,279 --> 00:04:19,040
many of you will be

112
00:04:19,040 --> 00:04:22,079
hearing me refer to smart and fire or

113
00:04:22,079 --> 00:04:25,199
smart on fire and i want to really help

114
00:04:25,199 --> 00:04:27,120
you understand the difference between

115
00:04:27,120 --> 00:04:29,520
those because they're actually not one

116
00:04:29,520 --> 00:04:30,960
and the same

117
00:04:30,960 --> 00:04:32,560
some people may even conflate the two

118
00:04:32,560 --> 00:04:34,800
terms they're actually separate things

119
00:04:34,800 --> 00:04:36,479
so fire provides a set of models to

120
00:04:36,479 --> 00:04:37,840
standardize the representation of

121
00:04:37,840 --> 00:04:39,440
clinical concepts such as allergies and

122
00:04:39,440 --> 00:04:41,199
medications and an ehr other clinical

123
00:04:41,199 --> 00:04:43,759
data store basically what that means is

124
00:04:43,759 --> 00:04:45,280
fire

125
00:04:45,280 --> 00:04:48,000
creates the skeleton if you will for the

126
00:04:48,000 --> 00:04:50,479
ehr data and what i'm going to go to in

127
00:04:50,479 --> 00:04:52,400
later slides and i'll explain this later

128
00:04:52,400 --> 00:04:56,000
but when you go to a hospital prior to

129
00:04:56,000 --> 00:04:59,120
fire and prior to these these apis that

130
00:04:59,120 --> 00:05:01,600
just kind of allows these systems to

131
00:05:01,600 --> 00:05:03,440
talk to each other you could go to two

132
00:05:03,440 --> 00:05:05,360
different hospitals and they'll be using

133
00:05:05,360 --> 00:05:08,160
different ehrs or emr systems

134
00:05:08,160 --> 00:05:10,960
in this case cerner or epic

135
00:05:10,960 --> 00:05:12,800
and if you go to one hospital they're

136
00:05:12,800 --> 00:05:14,160
going to have all of your data and let's

137
00:05:14,160 --> 00:05:16,479
say you get sick the next day and you go

138
00:05:16,479 --> 00:05:18,240
to a different hospital and they're

139
00:05:18,240 --> 00:05:20,639
running a completely different emr

140
00:05:20,639 --> 00:05:22,720
um they will not be able to talk to that

141
00:05:22,720 --> 00:05:24,720
other system at that other hospital

142
00:05:24,720 --> 00:05:27,600
creating concerns over life and safety

143
00:05:27,600 --> 00:05:28,800
so

144
00:05:28,800 --> 00:05:30,560
it's a real problem

145
00:05:30,560 --> 00:05:32,800
so i i don't want you to think that oh

146
00:05:32,800 --> 00:05:35,919
alyssa is saying that fire is bad um

147
00:05:35,919 --> 00:05:38,479
what i'm saying is that this is very

148
00:05:38,479 --> 00:05:40,639
important that these systems are able to

149
00:05:40,639 --> 00:05:43,360
talk to each other and i'm a huge fan

150
00:05:43,360 --> 00:05:45,120
but i want to make sure that it's done

151
00:05:45,120 --> 00:05:48,000
securely because this is our phi this is

152
00:05:48,000 --> 00:05:50,080
our protected healthcare information and

153
00:05:50,080 --> 00:05:52,479
it needs to be secured smart

154
00:05:52,479 --> 00:05:53,919
standardizes the process through a

155
00:05:53,919 --> 00:05:56,000
third-party application could so a

156
00:05:56,000 --> 00:05:57,600
third-party application can plug into

157
00:05:57,600 --> 00:05:58,960
the data store and access that clinical

158
00:05:58,960 --> 00:06:01,520
information it basically applies oauth 2

159
00:06:01,520 --> 00:06:04,160
and open id connect so what that means

160
00:06:04,160 --> 00:06:06,160
is smart basically turns our healthcare

161
00:06:06,160 --> 00:06:08,560
system into an app-based economy so

162
00:06:08,560 --> 00:06:10,960
originally when smart first started out

163
00:06:10,960 --> 00:06:13,759
it actually was very similar to fire and

164
00:06:13,759 --> 00:06:16,960
was in essence competing against what

165
00:06:16,960 --> 00:06:18,560
fire was

166
00:06:18,560 --> 00:06:21,039
going to be and so the the team

167
00:06:21,039 --> 00:06:22,720
basically took a step back and said hey

168
00:06:22,720 --> 00:06:24,479
you know what um

169
00:06:24,479 --> 00:06:28,240
what they're doing over at hl7 or health

170
00:06:28,240 --> 00:06:30,000
level 7 international and i'll talk

171
00:06:30,000 --> 00:06:31,520
about that in a minute but what they're

172
00:06:31,520 --> 00:06:34,639
doing is is great and and you know this

173
00:06:34,639 --> 00:06:36,080
competing against them doesn't make

174
00:06:36,080 --> 00:06:38,720
sense so let's change the the mission

175
00:06:38,720 --> 00:06:40,960
for smart and let's make this about

176
00:06:40,960 --> 00:06:43,600
authentication with oauth 2 open id

177
00:06:43,600 --> 00:06:46,639
connect and really giving third party

178
00:06:46,639 --> 00:06:48,400
app developers the ability to make apps

179
00:06:48,400 --> 00:06:51,039
for these for fire apis

180
00:06:51,039 --> 00:06:53,840
um and so that was a large part of my

181
00:06:53,840 --> 00:06:55,680
attack surface actually were the third

182
00:06:55,680 --> 00:06:57,759
parties that came along making apps for

183
00:06:57,759 --> 00:07:00,240
fire aps i simply put fire standardized

184
00:07:00,240 --> 00:07:01,680
while

185
00:07:01,680 --> 00:07:04,319
and secures data access so think about

186
00:07:04,319 --> 00:07:07,120
smart as like the authentication and

187
00:07:07,120 --> 00:07:09,280
authorization on top of fire

188
00:07:09,280 --> 00:07:11,280
you might be wondering hey listen why

189
00:07:11,280 --> 00:07:14,080
smart why didn't fire just do this well

190
00:07:14,080 --> 00:07:15,759
an app developer can write an app once

191
00:07:15,759 --> 00:07:17,680
and expect that it will run anywhere in

192
00:07:17,680 --> 00:07:19,440
the health care system that's the

193
00:07:19,440 --> 00:07:22,080
importance of this right so if i wanted

194
00:07:22,080 --> 00:07:25,360
to start an a startup company and begin

195
00:07:25,360 --> 00:07:28,319
building buyer apps i know that anything

196
00:07:28,319 --> 00:07:31,120
that supports fire is going to be able

197
00:07:31,120 --> 00:07:33,360
to run that app anyhow i can go to any

198
00:07:33,360 --> 00:07:35,520
hospital and sell my app to them i can

199
00:07:35,520 --> 00:07:37,759
go to any healthcare provider and sell

200
00:07:37,759 --> 00:07:38,880
my app

201
00:07:38,880 --> 00:07:39,919
um

202
00:07:39,919 --> 00:07:42,720
it's creating a new economy of companies

203
00:07:42,720 --> 00:07:44,560
which was really interesting uh it

204
00:07:44,560 --> 00:07:45,840
basically creates an app store for

205
00:07:45,840 --> 00:07:46,800
health

206
00:07:46,800 --> 00:07:48,560
uh smart on fire provides a health app

207
00:07:48,560 --> 00:07:49,840
interface based on open standards

208
00:07:49,840 --> 00:07:52,000
including agel seven's fire oauth2 and

209
00:07:52,000 --> 00:07:54,800
open id connect so that's fire so let's

210
00:07:54,800 --> 00:07:57,599
actually get into the weeds now

211
00:07:57,599 --> 00:07:59,599
this is a screenshot of the approved

212
00:07:59,599 --> 00:08:02,720
fire client that skip built for me i was

213
00:08:02,720 --> 00:08:04,080
greatly appreciative because i wasn't

214
00:08:04,080 --> 00:08:06,720
going to sit there and build a fire app

215
00:08:06,720 --> 00:08:07,520
so

216
00:08:07,520 --> 00:08:09,840
basically you can see here and if i

217
00:08:09,840 --> 00:08:12,560
expand this out it actually will expand

218
00:08:12,560 --> 00:08:14,560
all the json

219
00:08:14,560 --> 00:08:16,879
results from the api containing all of

220
00:08:16,879 --> 00:08:19,840
the information for this patient

221
00:08:19,840 --> 00:08:22,319
so these are the testing phases in my

222
00:08:22,319 --> 00:08:25,039
research so in 2020 i did static code

223
00:08:25,039 --> 00:08:27,680
analysis of these fire of these mhealth

224
00:08:27,680 --> 00:08:29,759
apps and 20

225
00:08:29,759 --> 00:08:31,680
i also did traffic analysis basically

226
00:08:31,680 --> 00:08:33,039
using what i call women in the middle

227
00:08:33,039 --> 00:08:35,120
attacks to intercept that traffic and

228
00:08:35,120 --> 00:08:36,799
look at it to understand how the api

229
00:08:36,799 --> 00:08:37,839
worked

230
00:08:37,839 --> 00:08:39,519
then i actually did fuzzing

231
00:08:39,519 --> 00:08:43,039
and then static code analysis in 2021 so

232
00:08:43,039 --> 00:08:46,560
now i'm basically have downloaded the

233
00:08:46,560 --> 00:08:49,040
apps from the smart app store and

234
00:08:49,040 --> 00:08:50,560
there's actually a list

235
00:08:50,560 --> 00:08:53,200
and i began doing static code analysis

236
00:08:53,200 --> 00:08:54,240
of those looking for things like

237
00:08:54,240 --> 00:08:56,000
hard-coded keys and tokens and all the

238
00:08:56,000 --> 00:08:57,120
other bad

239
00:08:57,120 --> 00:08:58,080
stuff

240
00:08:58,080 --> 00:09:00,880
including stuff about the back-end api

241
00:09:00,880 --> 00:09:02,480
and how they work

242
00:09:02,480 --> 00:09:03,519
then

243
00:09:03,519 --> 00:09:06,160
traffic analysis was performed where i

244
00:09:06,160 --> 00:09:07,920
did network interdiction of the traffic

245
00:09:07,920 --> 00:09:09,279
in order to understand how the backend

246
00:09:09,279 --> 00:09:12,000
api worked and how what it expected in

247
00:09:12,000 --> 00:09:13,440
order to find things like broken object

248
00:09:13,440 --> 00:09:16,000
level authorization vulnerabilities

249
00:09:16,000 --> 00:09:17,760
and then did fuzzing

250
00:09:17,760 --> 00:09:19,600
i want to take a moment to talk about

251
00:09:19,600 --> 00:09:22,160
the importance of fuzzing apis i've been

252
00:09:22,160 --> 00:09:24,160
talking a lot about this lately and

253
00:09:24,160 --> 00:09:25,600
coming soon here

254
00:09:25,600 --> 00:09:26,959
you'll be seeing me talking a lot more

255
00:09:26,959 --> 00:09:28,560
about fuzzing apis and the importance of

256
00:09:28,560 --> 00:09:30,320
that so

257
00:09:30,320 --> 00:09:32,240
having said that

258
00:09:32,240 --> 00:09:34,080
what fuzzers will do is they'll

259
00:09:34,080 --> 00:09:36,720
for example like kite runner or wrestler

260
00:09:36,720 --> 00:09:39,839
will allow you to import in swagger file

261
00:09:39,839 --> 00:09:41,680
uh like with wrestler it'll allow you to

262
00:09:41,680 --> 00:09:43,040
import a swagger file and it will test

263
00:09:43,040 --> 00:09:45,360
that back in api against that swagger

264
00:09:45,360 --> 00:09:48,320
file um with kite render for example the

265
00:09:48,320 --> 00:09:50,560
developers have used like thousands of

266
00:09:50,560 --> 00:09:51,839
different swagger files out there on the

267
00:09:51,839 --> 00:09:53,839
internet in order to build kind of like

268
00:09:53,839 --> 00:09:56,399
this content discovery system for apis

269
00:09:56,399 --> 00:09:59,600
if you don't fuzz apis i guarantee you

270
00:09:59,600 --> 00:10:01,519
you will miss vulnerabilities fuzzing

271
00:10:01,519 --> 00:10:04,079
apis is so important it's not like you

272
00:10:04,079 --> 00:10:06,399
can run nessa scan or

273
00:10:06,399 --> 00:10:07,839
wipe out any other web application

274
00:10:07,839 --> 00:10:10,560
scanner against a back end fire api or

275
00:10:10,560 --> 00:10:13,839
any api uh the most effective tool that

276
00:10:13,839 --> 00:10:15,600
you can use against the target api is a

277
00:10:15,600 --> 00:10:19,600
fuzzer okay so um this was the actual

278
00:10:19,600 --> 00:10:21,760
different phases of my research the four

279
00:10:21,760 --> 00:10:23,360
most common vulnerabilities that i found

280
00:10:23,360 --> 00:10:24,720
in my research which you can read in the

281
00:10:24,720 --> 00:10:26,720
report were broken object level

282
00:10:26,720 --> 00:10:28,560
authorization broken user authentication

283
00:10:28,560 --> 00:10:29,839
excessive data exposure and mass

284
00:10:29,839 --> 00:10:32,399
assignment now um in this particular

285
00:10:32,399 --> 00:10:33,200
case

286
00:10:33,200 --> 00:10:34,880
um i'm going to explain what you're

287
00:10:34,880 --> 00:10:36,320
looking at in this drawing so a patient

288
00:10:36,320 --> 00:10:38,399
goes to a hospital running cerner for

289
00:10:38,399 --> 00:10:39,760
example

290
00:10:39,760 --> 00:10:40,880
and then

291
00:10:40,880 --> 00:10:43,040
that individual patient goes to a second

292
00:10:43,040 --> 00:10:46,480
hospital uh that's running epic um here

293
00:10:46,480 --> 00:10:48,800
in this case in my um

294
00:10:48,800 --> 00:10:52,320
diagram i actually targeted both apis uh

295
00:10:52,320 --> 00:10:54,079
attempting to gain access to patient

296
00:10:54,079 --> 00:10:56,000
records that i shouldn't have had access

297
00:10:56,000 --> 00:10:56,720
to

298
00:10:56,720 --> 00:10:57,760
um

299
00:10:57,760 --> 00:11:00,079
several organizations over the last two

300
00:11:00,079 --> 00:11:02,160
years have come up and

301
00:11:02,160 --> 00:11:03,760
told me that they wanted to support my

302
00:11:03,760 --> 00:11:06,240
work and get involved and i'm very

303
00:11:06,240 --> 00:11:08,320
appreciative including the emr companies

304
00:11:08,320 --> 00:11:10,880
so i want to say thanks to all of those

305
00:11:10,880 --> 00:11:12,800
companies that did get involved and help

306
00:11:12,800 --> 00:11:14,720
support this there's definitely less of

307
00:11:14,720 --> 00:11:16,160
an epistle relationship between

308
00:11:16,160 --> 00:11:17,680
vulnerability researchers and companies

309
00:11:17,680 --> 00:11:19,680
today than there was 20 years ago

310
00:11:19,680 --> 00:11:21,200
so

311
00:11:21,200 --> 00:11:23,120
you guys are all you guys and girls are

312
00:11:23,120 --> 00:11:25,120
all here for the actual results so let's

313
00:11:25,120 --> 00:11:27,279
get into them so

314
00:11:27,279 --> 00:11:29,760
here you can see the architecture of my

315
00:11:29,760 --> 00:11:33,279
attack uh in this mobile app uh i you

316
00:11:33,279 --> 00:11:34,959
can see that i've pulled i've logged in

317
00:11:34,959 --> 00:11:36,240
as a clinician and these are the

318
00:11:36,240 --> 00:11:37,360
patients that i was supposed to have

319
00:11:37,360 --> 00:11:38,399
access to

320
00:11:38,399 --> 00:11:40,959
um doing network interdiction i learned

321
00:11:40,959 --> 00:11:43,519
that this was the api request that was

322
00:11:43,519 --> 00:11:45,519
going to the api by just basically

323
00:11:45,519 --> 00:11:47,360
clicking every button in the mobile app

324
00:11:47,360 --> 00:11:49,600
and then you would it would really

325
00:11:49,600 --> 00:11:51,600
return that patient record but then i

326
00:11:51,600 --> 00:11:53,760
took those api requests and i loaded

327
00:11:53,760 --> 00:11:56,880
them into postman which is an amazing

328
00:11:56,880 --> 00:11:59,279
api client that i absolutely love

329
00:11:59,279 --> 00:12:01,120
postman if you're listening you guys do

330
00:12:01,120 --> 00:12:03,040
an amazing job and have made an amazing

331
00:12:03,040 --> 00:12:04,560
product so thank you

332
00:12:04,560 --> 00:12:05,440
um

333
00:12:05,440 --> 00:12:08,320
then i i basically paste those into

334
00:12:08,320 --> 00:12:12,000
postman and then change the requests

335
00:12:12,000 --> 00:12:12,880
from

336
00:12:12,880 --> 00:12:14,320
patient one zero zero one which is what

337
00:12:14,320 --> 00:12:15,920
i should read access to

338
00:12:15,920 --> 00:12:19,519
two one two three four and i had because

339
00:12:19,519 --> 00:12:22,320
of a bowl of vulnerability had access to

340
00:12:22,320 --> 00:12:24,880
tens of thousands of patient records and

341
00:12:24,880 --> 00:12:27,360
here on the right hand side you can see

342
00:12:27,360 --> 00:12:29,920
the screenshots of postman that allowed

343
00:12:29,920 --> 00:12:31,839
me to send those requests to the backend

344
00:12:31,839 --> 00:12:32,880
api

345
00:12:32,880 --> 00:12:35,519
and download those reports pathology

346
00:12:35,519 --> 00:12:38,720
reports x-rays all of these reports were

347
00:12:38,720 --> 00:12:40,800
available to me and here you can see the

348
00:12:40,800 --> 00:12:42,560
hard-coded keys and tokens that were

349
00:12:42,560 --> 00:12:46,000
found in those mobile apps so

350
00:12:46,000 --> 00:12:47,360
definitely a lot of vulnerables were

351
00:12:47,360 --> 00:12:49,600
found and what's neat about

352
00:12:49,600 --> 00:12:50,880
postman you'll see it here in the

353
00:12:50,880 --> 00:12:53,200
screenshot is and i didn't know it could

354
00:12:53,200 --> 00:12:55,760
do this but when i started requesting

355
00:12:55,760 --> 00:12:58,240
endpoint documents so actual pdf files

356
00:12:58,240 --> 00:12:59,760
from the api endpoint

357
00:12:59,760 --> 00:13:01,760
of course i got the pdf that i was

358
00:13:01,760 --> 00:13:04,480
requesting back um but

359
00:13:04,480 --> 00:13:06,160
postman lets you save that to a file

360
00:13:06,160 --> 00:13:08,639
which was really neat so over here is

361
00:13:08,639 --> 00:13:10,399
the screenshot of the actual pathology

362
00:13:10,399 --> 00:13:12,160
report that i downloaded from the api

363
00:13:12,160 --> 00:13:13,920
endpoint

364
00:13:13,920 --> 00:13:15,200
pause for

365
00:13:15,200 --> 00:13:18,320
sound of that pin drop

366
00:13:18,480 --> 00:13:20,720
sorry i have a real dry sense of humor

367
00:13:20,720 --> 00:13:23,519
um hard-coded api keys and tokens was a

368
00:13:23,519 --> 00:13:25,399
real problem i found

369
00:13:25,399 --> 00:13:28,800
104 hard-coded keys and tokens in the

370
00:13:28,800 --> 00:13:30,959
mobile apps um a lot of them were not

371
00:13:30,959 --> 00:13:33,680
only just keys and tokens to the apis

372
00:13:33,680 --> 00:13:35,600
api secrets to the aps for the mobile

373
00:13:35,600 --> 00:13:37,120
app but also to third parties like

374
00:13:37,120 --> 00:13:38,720
payment processors

375
00:13:38,720 --> 00:13:39,600
um

376
00:13:39,600 --> 00:13:42,639
so a lot of hard-coded nastiness and

377
00:13:42,639 --> 00:13:44,959
those mobile apps that were able to be

378
00:13:44,959 --> 00:13:47,519
reversed once i loaded them into my tool

379
00:13:47,519 --> 00:13:50,000
called mob sf here i was targeting a

380
00:13:50,000 --> 00:13:52,639
hospital and was able to download

381
00:13:52,639 --> 00:13:54,480
admission records for different patients

382
00:13:54,480 --> 00:13:57,360
that were admitted into the hospital

383
00:13:57,360 --> 00:13:59,279
here i've redacted a lot of this but you

384
00:13:59,279 --> 00:14:02,240
can see how much data is actually stored

385
00:14:02,240 --> 00:14:04,160
in these

386
00:14:04,160 --> 00:14:06,079
in these patient records the interesting

387
00:14:06,079 --> 00:14:07,440
thing here was i was able to actually

388
00:14:07,440 --> 00:14:09,760
download a lot of patient pictures

389
00:14:09,760 --> 00:14:11,600
so this hospital was taking pictures of

390
00:14:11,600 --> 00:14:13,120
patients as they were stored as they

391
00:14:13,120 --> 00:14:14,959
were processing them

392
00:14:14,959 --> 00:14:17,600
um i think i i strongly believe that

393
00:14:17,600 --> 00:14:20,560
this is why phi is worth a thousand

394
00:14:20,560 --> 00:14:21,839
times more

395
00:14:21,839 --> 00:14:23,279
than a

396
00:14:23,279 --> 00:14:25,600
uh credit card number on the dark web in

397
00:14:25,600 --> 00:14:28,000
a dark web marketplace is because of the

398
00:14:28,000 --> 00:14:30,240
fact that there's just so much data on

399
00:14:30,240 --> 00:14:32,320
an individual in a patient record and

400
00:14:32,320 --> 00:14:33,920
not only that but when i was going

401
00:14:33,920 --> 00:14:35,519
through this i found that i was actually

402
00:14:35,519 --> 00:14:37,600
able to access data for their next of

403
00:14:37,600 --> 00:14:40,399
kin and other family information so

404
00:14:40,399 --> 00:14:43,199
you know once this happens that's the

405
00:14:43,199 --> 00:14:45,360
other thing is that if your phi is

406
00:14:45,360 --> 00:14:47,600
compromised it's not like anyone can

407
00:14:47,600 --> 00:14:49,519
send you new phi

408
00:14:49,519 --> 00:14:51,519
um like if your bank card is compromised

409
00:14:51,519 --> 00:14:53,279
the bank can send you a new bank card

410
00:14:53,279 --> 00:14:55,600
what happens if your phi is compromised

411
00:14:55,600 --> 00:14:58,880
no one can generate new phi for you

412
00:14:58,880 --> 00:15:00,160
okay

413
00:15:00,160 --> 00:15:01,360
this was a really interesting

414
00:15:01,360 --> 00:15:04,079
vulnerability so what i found was that

415
00:15:04,079 --> 00:15:05,199
when

416
00:15:05,199 --> 00:15:06,959
you were

417
00:15:06,959 --> 00:15:09,279
in a lock session on an iphone

418
00:15:09,279 --> 00:15:11,360
whenever you unlocked it with your face

419
00:15:11,360 --> 00:15:14,320
the mobile app would send the secret and

420
00:15:14,320 --> 00:15:16,480
that string of letters and numbers never

421
00:15:16,480 --> 00:15:18,320
changed so

422
00:15:18,320 --> 00:15:20,079
like weeks would go by keep locking and

423
00:15:20,079 --> 00:15:21,360
locking my session and i looked at

424
00:15:21,360 --> 00:15:23,360
packets and it was the same key every

425
00:15:23,360 --> 00:15:24,240
time

426
00:15:24,240 --> 00:15:25,120
so

427
00:15:25,120 --> 00:15:28,000
what i found was this was hard-coded and

428
00:15:28,000 --> 00:15:31,040
like weeks later if i pasted that same

429
00:15:31,040 --> 00:15:34,880
secret to unlock that session

430
00:15:34,880 --> 00:15:37,519
it gave me the results of all the

431
00:15:37,519 --> 00:15:38,839
patient records

432
00:15:38,839 --> 00:15:41,120
so you know

433
00:15:41,120 --> 00:15:43,360
why the developer did this i don't know

434
00:15:43,360 --> 00:15:44,639
um

435
00:15:44,639 --> 00:15:46,320
but it was a pretty big finding i was

436
00:15:46,320 --> 00:15:48,160
pretty proud of it this slide is for all

437
00:15:48,160 --> 00:15:50,000
of you who want to know how to actually

438
00:15:50,000 --> 00:15:52,000
properly secure these things in my

439
00:15:52,000 --> 00:15:53,519
testing the only api i wasn't able to

440
00:15:53,519 --> 00:15:55,199
breach was protected by approve i do

441
00:15:55,199 --> 00:15:57,040
want to say that so

442
00:15:57,040 --> 00:16:00,720
i tested a number of apis and then

443
00:16:00,720 --> 00:16:02,079
approved worked with several

444
00:16:02,079 --> 00:16:04,639
organizations to

445
00:16:04,639 --> 00:16:06,800
stand up in installation and secure the

446
00:16:06,800 --> 00:16:09,279
api with approve and all of my tax

447
00:16:09,279 --> 00:16:11,519
failed basically the way it works is you

448
00:16:11,519 --> 00:16:12,320
have to

449
00:16:12,320 --> 00:16:15,680
compile your mobile app with your sdk

450
00:16:15,680 --> 00:16:17,519
and what it does is it basically

451
00:16:17,519 --> 00:16:19,279
prevents anything from talking to your

452
00:16:19,279 --> 00:16:21,360
api unless it's been compiled with that

453
00:16:21,360 --> 00:16:24,000
sdk so for those of you who are actually

454
00:16:24,000 --> 00:16:25,759
here looking for an api security

455
00:16:25,759 --> 00:16:29,279
solution um it's it's amazing it's

456
00:16:29,279 --> 00:16:31,120
absolutely amazing so especially if you

457
00:16:31,120 --> 00:16:33,040
have a mobile api i believe in their

458
00:16:33,040 --> 00:16:34,560
most recent version they added some

459
00:16:34,560 --> 00:16:36,880
support for some web apis so take a look

460
00:16:36,880 --> 00:16:39,279
at it um authorization vulnerabilities

461
00:16:39,279 --> 00:16:41,440
were everywhere uh developers were

462
00:16:41,440 --> 00:16:44,000
remembering to authenticate the requests

463
00:16:44,000 --> 00:16:46,399
um but they failed to authorize there

464
00:16:46,399 --> 00:16:48,240
were a bowl of vulnerabilities in every

465
00:16:48,240 --> 00:16:50,399
one of the apis i tested

466
00:16:50,399 --> 00:16:53,120
ensure scopes are being used with tokens

467
00:16:53,120 --> 00:16:54,560
so what developers would do is they

468
00:16:54,560 --> 00:16:56,320
would implement tokens but they wouldn't

469
00:16:56,320 --> 00:16:58,720
apply scopes so

470
00:16:58,720 --> 00:17:01,120
i had a token i was supposed to be there

471
00:17:01,120 --> 00:17:02,720
i was authorized to be there but i

472
00:17:02,720 --> 00:17:04,799
wasn't authorized to request the

473
00:17:04,799 --> 00:17:06,240
vulnerability the

474
00:17:06,240 --> 00:17:08,480
data that i was requesting and because

475
00:17:08,480 --> 00:17:11,359
there were no tokens or scopes uh sorry

476
00:17:11,359 --> 00:17:13,119
there were no scopes in place uh it

477
00:17:13,119 --> 00:17:15,839
prevented that from uh it allowed me to

478
00:17:15,839 --> 00:17:17,760
be able to do that

479
00:17:17,760 --> 00:17:19,760
jot token should really have short time

480
00:17:19,760 --> 00:17:23,039
to lives i i saw really long

481
00:17:23,039 --> 00:17:26,000
ttls for jot tokens um they really

482
00:17:26,000 --> 00:17:27,359
shouldn't be longer than five to ten

483
00:17:27,359 --> 00:17:29,600
minutes so that will really help with

484
00:17:29,600 --> 00:17:31,520
the whole you know women in the middle

485
00:17:31,520 --> 00:17:34,000
attack stuff and the other thing about a

486
00:17:34,000 --> 00:17:36,000
previous they have this ability to

487
00:17:36,000 --> 00:17:36,960
actually

488
00:17:36,960 --> 00:17:37,919
um

489
00:17:37,919 --> 00:17:40,000
help you to better manage

490
00:17:40,000 --> 00:17:41,600
certificate pinning so i spoke to a lot

491
00:17:41,600 --> 00:17:44,000
of developers when i asked them like hey

492
00:17:44,000 --> 00:17:45,280
almost all of these apps didn't

493
00:17:45,280 --> 00:17:47,600
implement pinning why and a lot of the

494
00:17:47,600 --> 00:17:48,799
developers said they were afraid of

495
00:17:48,799 --> 00:17:50,559
pinning bricking the app

496
00:17:50,559 --> 00:17:52,720
so you know

497
00:17:52,720 --> 00:17:55,280
the ability for you to better manage

498
00:17:55,280 --> 00:17:57,440
pinning is available and improved so i

499
00:17:57,440 --> 00:17:58,640
would definitely click that that's a

500
00:17:58,640 --> 00:18:01,520
concern of yours use refresh tokens just

501
00:18:01,520 --> 00:18:03,360
remember that refresh tokens

502
00:18:03,360 --> 00:18:05,919
can be revoked but access tokens can't

503
00:18:05,919 --> 00:18:08,000
so if an access token is compromised you

504
00:18:08,000 --> 00:18:10,799
can't revoke it but a refresh token you

505
00:18:10,799 --> 00:18:14,160
can so just remember to use refresh

506
00:18:14,160 --> 00:18:17,120
tokens and as an alternative to keys

507
00:18:17,120 --> 00:18:18,960
approve is specialist and protecting

508
00:18:18,960 --> 00:18:21,600
apis consumed by mobile apps um it's

509
00:18:21,600 --> 00:18:23,440
challenging to secure since anyone can

510
00:18:23,440 --> 00:18:24,640
download your mobile app hence a

511
00:18:24,640 --> 00:18:25,840
dedicated securities need for this

512
00:18:25,840 --> 00:18:27,200
challenge so

513
00:18:27,200 --> 00:18:28,960
that's the thing that's the scary thing

514
00:18:28,960 --> 00:18:30,720
about mobile apps is anyone can download

515
00:18:30,720 --> 00:18:33,120
them anyone so if you're storing

516
00:18:33,120 --> 00:18:35,200
anything sensitive in that data in that

517
00:18:35,200 --> 00:18:37,440
code in that apk file

518
00:18:37,440 --> 00:18:39,200
a hacker can download the apk file and

519
00:18:39,200 --> 00:18:40,720
reverse it back to the original source

520
00:18:40,720 --> 00:18:44,960
code and view it so keep that in mind

521
00:18:44,960 --> 00:18:45,840
and

522
00:18:45,840 --> 00:18:47,280
a previous specialist in protecting

523
00:18:47,280 --> 00:18:48,880
these kind of apis

524
00:18:48,880 --> 00:18:50,799
use hard-coded api keys and tokens as

525
00:18:50,799 --> 00:18:53,039
app identifiers and not as app secrets

526
00:18:53,039 --> 00:18:54,559
ensure that a second factor such as

527
00:18:54,559 --> 00:18:55,919
mobile application mobile app

528
00:18:55,919 --> 00:18:57,840
authentication is needed to use them

529
00:18:57,840 --> 00:18:58,559
so

530
00:18:58,559 --> 00:18:59,919
okay

531
00:18:59,919 --> 00:19:01,760
i've had that whole religious debate

532
00:19:01,760 --> 00:19:03,360
with developers about

533
00:19:03,360 --> 00:19:05,520
if i'm not supposed to store these keys

534
00:19:05,520 --> 00:19:06,799
and tokens in the code then where the

535
00:19:06,799 --> 00:19:09,840
hell am i supposed to store them

536
00:19:09,840 --> 00:19:12,400
you can store them and you can obfuscate

537
00:19:12,400 --> 00:19:15,120
the code okay fine but

538
00:19:15,120 --> 00:19:17,600
use multi-factor authentication don't

539
00:19:17,600 --> 00:19:20,320
just rely on just that token just that

540
00:19:20,320 --> 00:19:23,120
key for authentication also authenticate

541
00:19:23,120 --> 00:19:25,280
the app so make sure that your api

542
00:19:25,280 --> 00:19:27,200
security solution can authenticate the

543
00:19:27,200 --> 00:19:28,799
app as well

544
00:19:28,799 --> 00:19:30,720
remember that fire is a specification

545
00:19:30,720 --> 00:19:32,160
and doesn't mandate how it's secured

546
00:19:32,160 --> 00:19:33,840
vulnerabilities or implementation okay

547
00:19:33,840 --> 00:19:35,919
this is really important for me to make

548
00:19:35,919 --> 00:19:36,960
clear

549
00:19:36,960 --> 00:19:39,760
so nina and i can both implement a fire

550
00:19:39,760 --> 00:19:41,280
api

551
00:19:41,280 --> 00:19:44,160
but my implementation of the fire

552
00:19:44,160 --> 00:19:45,200
standard

553
00:19:45,200 --> 00:19:47,200
can be completely different from hers

554
00:19:47,200 --> 00:19:48,960
and mine can be full of vulnerabilities

555
00:19:48,960 --> 00:19:50,840
whereas hers wasn't

556
00:19:50,840 --> 00:19:52,880
so you know

557
00:19:52,880 --> 00:19:54,640
just because i found vulnerabilities or

558
00:19:54,640 --> 00:19:57,200
issues and and these apis it doesn't

559
00:19:57,200 --> 00:19:58,160
mean

560
00:19:58,160 --> 00:20:00,080
that there's a vulnerability or problem

561
00:20:00,080 --> 00:20:03,840
in the fire standard okay it's always

562
00:20:03,840 --> 00:20:05,919
going to be down to the implementation

563
00:20:05,919 --> 00:20:07,520
and that's something for all of you to

564
00:20:07,520 --> 00:20:08,480
remember

565
00:20:08,480 --> 00:20:10,039
so again the research is available at

566
00:20:10,039 --> 00:20:12,559
approved.io and again

567
00:20:12,559 --> 00:20:14,720
i want to thank nina ali and the rest of

568
00:20:14,720 --> 00:20:16,320
our team for inviting me to speak here

569
00:20:16,320 --> 00:20:19,440
along with mitch and mitch over to you

570
00:20:19,440 --> 00:20:22,000
so my part of presentation thank you

571
00:20:22,000 --> 00:20:24,240
again alyssa is how do we approach this

572
00:20:24,240 --> 00:20:27,600
from the provider's side

573
00:20:28,000 --> 00:20:30,320
so a big thing i always talk about is

574
00:20:30,320 --> 00:20:33,440
history i always like to talk talk about

575
00:20:33,440 --> 00:20:35,679
and lead off with some examples from

576
00:20:35,679 --> 00:20:36,880
history

577
00:20:36,880 --> 00:20:37,679
and

578
00:20:37,679 --> 00:20:38,960
one of the

579
00:20:38,960 --> 00:20:40,880
most apocal periods in history was late

580
00:20:40,880 --> 00:20:43,440
18th century and back then

581
00:20:43,440 --> 00:20:45,440
a learned person only needed to know

582
00:20:45,440 --> 00:20:47,039
what was in a few books to know

583
00:20:47,039 --> 00:20:48,720
everything they needed to succeed in the

584
00:20:48,720 --> 00:20:49,600
world

585
00:20:49,600 --> 00:20:51,919
the books about chemistry physics

586
00:20:51,919 --> 00:20:54,960
science and business you could fit on a

587
00:20:54,960 --> 00:20:56,799
bookshelf

588
00:20:56,799 --> 00:20:58,559
we are not in those days

589
00:20:58,559 --> 00:21:01,120
we are in a significantly more complex

590
00:21:01,120 --> 00:21:03,440
environment however our social

591
00:21:03,440 --> 00:21:06,320
structures really haven't evolved that

592
00:21:06,320 --> 00:21:07,200
much

593
00:21:07,200 --> 00:21:09,840
since the late 18th century

594
00:21:09,840 --> 00:21:12,240
and another way that

595
00:21:12,240 --> 00:21:14,320
we haven't really evolved has been with

596
00:21:14,320 --> 00:21:16,159
our work environment so back in the

597
00:21:16,159 --> 00:21:18,480
early 1900s frederick taylor did a lot

598
00:21:18,480 --> 00:21:21,039
of studies time studies

599
00:21:21,039 --> 00:21:23,919
in factories in philadelphia to

600
00:21:23,919 --> 00:21:26,720
determine how long it took someone to do

601
00:21:26,720 --> 00:21:27,919
work

602
00:21:27,919 --> 00:21:30,159
time series analysis

603
00:21:30,159 --> 00:21:31,600
and

604
00:21:31,600 --> 00:21:34,720
that is the fundamental metric by which

605
00:21:34,720 --> 00:21:38,480
people have measured work ever since

606
00:21:38,480 --> 00:21:41,200
but taylor had one challenge

607
00:21:41,200 --> 00:21:43,440
his challenge was that the work

608
00:21:43,440 --> 00:21:46,480
environments were not adversarial they

609
00:21:46,480 --> 00:21:48,720
assumed an ideal environment where the

610
00:21:48,720 --> 00:21:50,960
worker would always have supplies and

611
00:21:50,960 --> 00:21:52,559
there weren't people trying to take the

612
00:21:52,559 --> 00:21:54,159
workers items

613
00:21:54,159 --> 00:21:56,840
so that's not the case what we have

614
00:21:56,840 --> 00:21:59,520
today and we've built these management

615
00:21:59,520 --> 00:22:01,679
structures we've built business

616
00:22:01,679 --> 00:22:05,600
around the absence of adversaries

617
00:22:05,600 --> 00:22:08,640
trying to break down what we have which

618
00:22:08,640 --> 00:22:11,440
makes it a lot harder for us to be able

619
00:22:11,440 --> 00:22:14,720
to fit into the concept of business

620
00:22:14,720 --> 00:22:16,640
the idea of defense

621
00:22:16,640 --> 00:22:19,120
so we need to embrace that nature to

622
00:22:19,120 --> 00:22:22,159
provide that critical eye

623
00:22:22,159 --> 00:22:25,280
this means we need new capabilities

624
00:22:25,280 --> 00:22:27,039
we've built a lot of our electronic

625
00:22:27,039 --> 00:22:29,840
systems around how we've originally

626
00:22:29,840 --> 00:22:31,919
worked in business

627
00:22:31,919 --> 00:22:34,480
the absence of adversaries

628
00:22:34,480 --> 00:22:36,960
so we're moving from the pushing and

629
00:22:36,960 --> 00:22:40,400
pulling predictable of information to

630
00:22:40,400 --> 00:22:41,760
now full

631
00:22:41,760 --> 00:22:44,640
programmatic interaction

632
00:22:44,640 --> 00:22:48,799
and so in healthcare right now we have a

633
00:22:48,799 --> 00:22:50,799
obvious major change

634
00:22:50,799 --> 00:22:52,480
everything used to happen with

635
00:22:52,480 --> 00:22:54,960
predefined blocks of information

636
00:22:54,960 --> 00:22:58,000
going along predetermined sequences

637
00:22:58,000 --> 00:23:00,159
and the level of interaction was push

638
00:23:00,159 --> 00:23:01,200
pull

639
00:23:01,200 --> 00:23:03,600
now we're moving to full api level

640
00:23:03,600 --> 00:23:05,520
interaction with fire

641
00:23:05,520 --> 00:23:08,480
and oauth in healthcare

642
00:23:08,480 --> 00:23:09,200
so

643
00:23:09,200 --> 00:23:11,919
we need to build

644
00:23:11,919 --> 00:23:13,679
knowledge of how to

645
00:23:13,679 --> 00:23:16,159
address adversarial issues

646
00:23:16,159 --> 00:23:19,280
into our environment in two areas number

647
00:23:19,280 --> 00:23:22,080
one detecting the api issues and number

648
00:23:22,080 --> 00:23:24,000
two preventing them

649
00:23:24,000 --> 00:23:26,320
and right now we can't get the push pull

650
00:23:26,320 --> 00:23:29,120
right and now we're changing the

651
00:23:29,120 --> 00:23:31,520
complexity significantly and adding more

652
00:23:31,520 --> 00:23:33,360
on top

653
00:23:33,360 --> 00:23:34,240
so

654
00:23:34,240 --> 00:23:35,440
what are some of the challenges that

655
00:23:35,440 --> 00:23:36,880
we're seeing what are we seeing from my

656
00:23:36,880 --> 00:23:38,159
vantage point

657
00:23:38,159 --> 00:23:39,840
we have a lot of privacy issues with

658
00:23:39,840 --> 00:23:42,080
these new applications using fire to

659
00:23:42,080 --> 00:23:44,400
connect to get patients medical records

660
00:23:44,400 --> 00:23:45,840
so i put the link to healthcare dive

661
00:23:45,840 --> 00:23:48,320
here for people to take a look at

662
00:23:48,320 --> 00:23:49,520
and

663
00:23:49,520 --> 00:23:51,600
most of the apps that this group

664
00:23:51,600 --> 00:23:53,120
research group found

665
00:23:53,120 --> 00:23:56,799
had significant issues with privacy

666
00:23:56,799 --> 00:23:59,200
also we had the issue of a lot of these

667
00:23:59,200 --> 00:24:01,120
developers developing these apps are

668
00:24:01,120 --> 00:24:03,679
small and what they can do is they

669
00:24:03,679 --> 00:24:05,440
monetize the information by selling

670
00:24:05,440 --> 00:24:07,679
those details to marketers

671
00:24:07,679 --> 00:24:09,919
there already was one case where a

672
00:24:09,919 --> 00:24:12,080
healthcare application the owners of the

673
00:24:12,080 --> 00:24:14,720
application sold data on women's

674
00:24:14,720 --> 00:24:18,080
menstrual cycles to marketers

675
00:24:18,080 --> 00:24:20,159
i can't think of a greater invasion of

676
00:24:20,159 --> 00:24:22,799
privacy than bats

677
00:24:22,799 --> 00:24:25,679
and a lot of the powers that be in

678
00:24:25,679 --> 00:24:27,760
healthcare a lot of the big providers

679
00:24:27,760 --> 00:24:29,120
aren't really taking a look at this

680
00:24:29,120 --> 00:24:31,200
because the use of that data once it

681
00:24:31,200 --> 00:24:32,400
leaves their environment

682
00:24:32,400 --> 00:24:34,240
is out of scope according to the cures

683
00:24:34,240 --> 00:24:36,559
act final rules wording

684
00:24:36,559 --> 00:24:37,919
so

685
00:24:37,919 --> 00:24:40,320
what's our goal today our goal is that

686
00:24:40,320 --> 00:24:43,360
we're going to change that

687
00:24:43,360 --> 00:24:45,039
so what i always like to say about

688
00:24:45,039 --> 00:24:46,640
privacy issues is that when there's

689
00:24:46,640 --> 00:24:49,039
privacy issues there's security issues

690
00:24:49,039 --> 00:24:51,760
so today where there's smoke

691
00:24:51,760 --> 00:24:54,480
there's fire

692
00:24:54,480 --> 00:24:56,240
so what other types of issues do we

693
00:24:56,240 --> 00:24:58,320
anticipate seeing

694
00:24:58,320 --> 00:25:00,000
so a lot of these applications remember

695
00:25:00,000 --> 00:25:02,080
the programmatic applications we expect

696
00:25:02,080 --> 00:25:04,240
them to see malformed requests that

697
00:25:04,240 --> 00:25:06,320
don't handle context changes

698
00:25:06,320 --> 00:25:08,799
so back about 10 15 years ago we'd

699
00:25:08,799 --> 00:25:11,919
handle malformed hl7 in test you

700
00:25:11,919 --> 00:25:13,760
wouldn't see it in production guess what

701
00:25:13,760 --> 00:25:15,760
it's in production now

702
00:25:15,760 --> 00:25:19,520
insecure client application code yeah

703
00:25:19,520 --> 00:25:20,799
not much of a change you're just going

704
00:25:20,799 --> 00:25:22,480
to see a lot more of it

705
00:25:22,480 --> 00:25:24,320
and you're going to see the use of fire

706
00:25:24,320 --> 00:25:26,080
to transfer data between your electronic

707
00:25:26,080 --> 00:25:28,159
medical record systems a lot of

708
00:25:28,159 --> 00:25:30,480
unprotected local repositories and a lot

709
00:25:30,480 --> 00:25:34,080
of insecure cloud locations and now also

710
00:25:34,080 --> 00:25:38,240
with the fact that people do incredibly

711
00:25:38,240 --> 00:25:40,240
crazy marketing things you'll also see

712
00:25:40,240 --> 00:25:42,720
it on social media and the app builders

713
00:25:42,720 --> 00:25:44,400
out there are building these apps

714
00:25:44,400 --> 00:25:45,760
they're not going to have the security

715
00:25:45,760 --> 00:25:48,000
resources that you can call upon of your

716
00:25:48,000 --> 00:25:50,320
google or microsoft or one of the large

717
00:25:50,320 --> 00:25:52,000
gmr companies

718
00:25:52,000 --> 00:25:53,919
even if these small companies hire

719
00:25:53,919 --> 00:25:56,480
ex-employees of these big companies

720
00:25:56,480 --> 00:25:57,760
they're not going to have the resources

721
00:25:57,760 --> 00:25:59,039
to do it right

722
00:25:59,039 --> 00:26:00,640
and a lot of these small companies need

723
00:26:00,640 --> 00:26:02,080
extra help

724
00:26:02,080 --> 00:26:04,080
i know this because of the position i'm

725
00:26:04,080 --> 00:26:05,840
in my organization

726
00:26:05,840 --> 00:26:08,880
i deal with several hundred application

727
00:26:08,880 --> 00:26:11,279
vendors and i talk to them about source

728
00:26:11,279 --> 00:26:12,960
code analysis i talk to them about

729
00:26:12,960 --> 00:26:15,679
devsecops and new technologies they can

730
00:26:15,679 --> 00:26:16,799
use

731
00:26:16,799 --> 00:26:19,520
and one of the challenges that i have

732
00:26:19,520 --> 00:26:21,600
working with these organizations is a

733
00:26:21,600 --> 00:26:23,200
lot of them don't even know what to do

734
00:26:23,200 --> 00:26:24,960
or if they do a lot of them are

735
00:26:24,960 --> 00:26:28,480
significantly under resourced

736
00:26:28,559 --> 00:26:29,279
so

737
00:26:29,279 --> 00:26:31,840
what other issues do i expect to see

738
00:26:31,840 --> 00:26:34,799
i call this one guilt by association

739
00:26:34,799 --> 00:26:36,559
if there's anything big healthcare

740
00:26:36,559 --> 00:26:38,159
organizations are very protective of

741
00:26:38,159 --> 00:26:40,000
it's their brand

742
00:26:40,000 --> 00:26:41,840
and i expect there to be knee-jerk

743
00:26:41,840 --> 00:26:44,000
reactions the second that one of those

744
00:26:44,000 --> 00:26:45,279
unprecedented protected cloud

745
00:26:45,279 --> 00:26:47,440
repositories breaks

746
00:26:47,440 --> 00:26:48,880
and the next thing you know patients

747
00:26:48,880 --> 00:26:51,440
medical data from their facilities ends

748
00:26:51,440 --> 00:26:54,960
up in an unprotected cloud environments

749
00:26:54,960 --> 00:26:57,600
it's not going to be a breach because

750
00:26:57,600 --> 00:26:59,039
technically it was already it was

751
00:26:59,039 --> 00:27:00,880
downloaded from the healthcare app

752
00:27:00,880 --> 00:27:02,960
however if it's got a healthcare

753
00:27:02,960 --> 00:27:04,799
system's brand all over it there's going

754
00:27:04,799 --> 00:27:07,679
to be challenges and also

755
00:27:07,679 --> 00:27:09,840
integrating that data with social media

756
00:27:09,840 --> 00:27:12,559
we expect there to be outcry over that

757
00:27:12,559 --> 00:27:14,240
and when the first record starts showing

758
00:27:14,240 --> 00:27:16,400
up when people do

759
00:27:16,400 --> 00:27:18,080
integration and use it for marketing

760
00:27:18,080 --> 00:27:19,039
they're going to want to take some

761
00:27:19,039 --> 00:27:21,600
action

762
00:27:21,600 --> 00:27:24,559
so what else do we expect

763
00:27:24,559 --> 00:27:27,520
we also expect that there to have the

764
00:27:27,520 --> 00:27:29,520
api security holes caused by having

765
00:27:29,520 --> 00:27:31,440
those fire front ends to the legacy

766
00:27:31,440 --> 00:27:32,720
environments

767
00:27:32,720 --> 00:27:35,120
so these apis we're talking about that

768
00:27:35,120 --> 00:27:37,760
provide fire data to these applications

769
00:27:37,760 --> 00:27:39,760
there are front ends for other systems

770
00:27:39,760 --> 00:27:41,679
and a lot of them both on the legacy

771
00:27:41,679 --> 00:27:42,720
ones too

772
00:27:42,720 --> 00:27:44,880
aka those systems you can never get rid

773
00:27:44,880 --> 00:27:46,640
of that are probably going to outlive

774
00:27:46,640 --> 00:27:47,360
you

775
00:27:47,360 --> 00:27:48,880
and they'll be around when your kids are

776
00:27:48,880 --> 00:27:51,360
old enough to work in i.t

777
00:27:51,360 --> 00:27:53,840
and so one of the big things we always

778
00:27:53,840 --> 00:27:55,840
talk about with api vulnerabilities is

779
00:27:55,840 --> 00:27:59,120
the ability for them to execute code and

780
00:27:59,120 --> 00:28:00,880
lead the pivot points that you can use

781
00:28:00,880 --> 00:28:03,520
to attack other points on your network

782
00:28:03,520 --> 00:28:05,039
which is a technique we see from a lot

783
00:28:05,039 --> 00:28:08,080
of ransomware threat actors these days

784
00:28:08,080 --> 00:28:10,720
nice front ends however if you can get

785
00:28:10,720 --> 00:28:12,880
in there run code and attack the back

786
00:28:12,880 --> 00:28:14,640
end it becomes significantly more

787
00:28:14,640 --> 00:28:16,960
difficult another mimi for that coming

788
00:28:16,960 --> 00:28:18,080
up

789
00:28:18,080 --> 00:28:20,159
so you've got xml or json with large

790
00:28:20,159 --> 00:28:21,760
binary blobs handling your healthcare

791
00:28:21,760 --> 00:28:22,880
data

792
00:28:22,880 --> 00:28:26,320
what could possibly go wrong

793
00:28:26,559 --> 00:28:28,720
so bring it back to some more history in

794
00:28:28,720 --> 00:28:30,960
healthcare because healthcare has

795
00:28:30,960 --> 00:28:32,799
evolved

796
00:28:32,799 --> 00:28:36,399
not as much as the rest of it however

797
00:28:36,399 --> 00:28:38,720
healthcare you started out in the 80s

798
00:28:38,720 --> 00:28:41,279
you had your it guy they knew hardware

799
00:28:41,279 --> 00:28:44,799
and software very well in the 90s they

800
00:28:44,799 --> 00:28:46,320
started differentiating between each

801
00:28:46,320 --> 00:28:49,039
other and in the late 90s software

802
00:28:49,039 --> 00:28:50,399
development

803
00:28:50,399 --> 00:28:54,320
forked between client server and web

804
00:28:54,320 --> 00:28:55,600
and then

805
00:28:55,600 --> 00:28:58,799
security kind of grew out of a hybrid of

806
00:28:58,799 --> 00:29:02,240
the two in the early 2000s

807
00:29:02,240 --> 00:29:05,760
so now these days finally in the 2020s

808
00:29:05,760 --> 00:29:07,600
we're starting to see that reconvergence

809
00:29:07,600 --> 00:29:11,039
of security and development yet again

810
00:29:11,039 --> 00:29:13,840
and we consider this to be a good thing

811
00:29:13,840 --> 00:29:16,159
however healthcare always lags a little

812
00:29:16,159 --> 00:29:18,159
bit behind so

813
00:29:18,159 --> 00:29:20,080
we're going to try and make that

814
00:29:20,080 --> 00:29:21,760
advancement happen a little bit quicker

815
00:29:21,760 --> 00:29:24,000
there today

816
00:29:24,000 --> 00:29:26,799
so how are we going to address the

817
00:29:26,799 --> 00:29:29,600
challenges of these fire apis and the

818
00:29:29,600 --> 00:29:31,520
security issues that alissa and i have

819
00:29:31,520 --> 00:29:33,120
been talking about

820
00:29:33,120 --> 00:29:35,039
first of all we've got to change how we

821
00:29:35,039 --> 00:29:37,919
operate with developers and help them

822
00:29:37,919 --> 00:29:39,919
understand it's not about the lines of

823
00:29:39,919 --> 00:29:41,760
code you complete it's about how well

824
00:29:41,760 --> 00:29:44,799
you complete them against adversaries

825
00:29:44,799 --> 00:29:47,520
and to think in terms of adversarial

826
00:29:47,520 --> 00:29:48,720
attacks

827
00:29:48,720 --> 00:29:49,919
we have to take a look at how we scan

828
00:29:49,919 --> 00:29:51,360
for vulnerabilities because healthcare

829
00:29:51,360 --> 00:29:54,240
has done it one way for years and now we

830
00:29:54,240 --> 00:29:55,679
have to do it another way and we'll talk

831
00:29:55,679 --> 00:29:57,200
about that

832
00:29:57,200 --> 00:29:58,399
and

833
00:29:58,399 --> 00:30:01,200
third-party risk the conventional way of

834
00:30:01,200 --> 00:30:03,679
giving your vendors a huge questionnaire

835
00:30:03,679 --> 00:30:05,679
to fill out

836
00:30:05,679 --> 00:30:07,679
really doesn't work to mitigate risk

837
00:30:07,679 --> 00:30:09,440
anymore

838
00:30:09,440 --> 00:30:11,200
and trying to hand it off to a third

839
00:30:11,200 --> 00:30:12,640
party aka

840
00:30:12,640 --> 00:30:14,159
paying the people in nice suits that

841
00:30:14,159 --> 00:30:16,480
come up to you at big conferences

842
00:30:16,480 --> 00:30:17,919
and tell you how they can address your

843
00:30:17,919 --> 00:30:19,919
third-party risk issues or relentlessly

844
00:30:19,919 --> 00:30:22,399
spam you in your inbox

845
00:30:22,399 --> 00:30:23,760
that's not going to fix your problems

846
00:30:23,760 --> 00:30:26,559
here either and we'll talk about that

847
00:30:26,559 --> 00:30:30,320
so let's move on a little bit here

848
00:30:30,320 --> 00:30:32,159
big thing we need to really talk about

849
00:30:32,159 --> 00:30:33,919
here about security is

850
00:30:33,919 --> 00:30:36,159
blindly using those off-the-shelf

851
00:30:36,159 --> 00:30:38,320
solutions or the ones that claim they

852
00:30:38,320 --> 00:30:41,440
can fix most vulnerabilities before

853
00:30:41,440 --> 00:30:42,480
they

854
00:30:42,480 --> 00:30:44,960
even hit your servers

855
00:30:44,960 --> 00:30:47,200
they don't fix the root cause i don't

856
00:30:47,200 --> 00:30:49,440
think they fix much of anything and what

857
00:30:49,440 --> 00:30:51,039
happens when you use them is you put

858
00:30:51,039 --> 00:30:53,039
yourself in a situation where even

859
00:30:53,039 --> 00:30:55,520
though it says it protects you

860
00:30:55,520 --> 00:30:56,960
it does so at the expense of your

861
00:30:56,960 --> 00:30:59,200
functionality and it doesn't address

862
00:30:59,200 --> 00:31:01,600
where it breaks your stuff because it

863
00:31:01,600 --> 00:31:03,600
will and guess what when it breaks your

864
00:31:03,600 --> 00:31:06,240
stuff guess whose fault it is not the

865
00:31:06,240 --> 00:31:08,559
vendors it's yours

866
00:31:08,559 --> 00:31:11,200
and also these big wafts because of the

867
00:31:11,200 --> 00:31:13,200
fact that they are so expensive to

868
00:31:13,200 --> 00:31:15,360
license in a lot of cases they don't

869
00:31:15,360 --> 00:31:16,799
address the connectivity between your

870
00:31:16,799 --> 00:31:19,039
internal systems so you've got something

871
00:31:19,039 --> 00:31:21,360
where if you can get in and get binary

872
00:31:21,360 --> 00:31:23,760
code running on an api server

873
00:31:23,760 --> 00:31:27,200
it's not that hard to go and

874
00:31:27,200 --> 00:31:29,279
brachiate like we used to do in the on

875
00:31:29,279 --> 00:31:30,799
the bars at school

876
00:31:30,799 --> 00:31:33,600
and go across the environment you've got

877
00:31:33,600 --> 00:31:35,279
your way in

878
00:31:35,279 --> 00:31:37,760
and finally a web application firewall

879
00:31:37,760 --> 00:31:40,960
doesn't address the root cause aka

880
00:31:40,960 --> 00:31:43,840
insecure code so we have our challenges

881
00:31:43,840 --> 00:31:46,559
here we have to and this is how we can

882
00:31:46,559 --> 00:31:48,399
start addressing them

883
00:31:48,399 --> 00:31:49,200
so

884
00:31:49,200 --> 00:31:50,960
a lot of people are going to think well

885
00:31:50,960 --> 00:31:52,720
mitch

886
00:31:52,720 --> 00:31:55,120
all our vendors are high trust certified

887
00:31:55,120 --> 00:31:57,039
will high trust help us

888
00:31:57,039 --> 00:31:58,960
no

889
00:31:58,960 --> 00:32:00,880
i like the high trust people however

890
00:32:00,880 --> 00:32:02,640
their certification is not a swiss army

891
00:32:02,640 --> 00:32:03,919
knife

892
00:32:03,919 --> 00:32:05,840
it's really great for controls testing

893
00:32:05,840 --> 00:32:08,559
and accounting type work however it

894
00:32:08,559 --> 00:32:10,480
doesn't help developers as much as we'd

895
00:32:10,480 --> 00:32:11,440
like

896
00:32:11,440 --> 00:32:13,200
and it doesn't help the architectural

897
00:32:13,200 --> 00:32:14,399
issues

898
00:32:14,399 --> 00:32:17,039
and also it really doesn't help if you

899
00:32:17,039 --> 00:32:18,960
drop a high trust certified solution

900
00:32:18,960 --> 00:32:20,720
into a legacy environment where you've

901
00:32:20,720 --> 00:32:22,559
got systems running from when reagan was

902
00:32:22,559 --> 00:32:24,080
presidents

903
00:32:24,080 --> 00:32:26,399
really will not help you

904
00:32:26,399 --> 00:32:29,440
won't help with bush clinton or bush

905
00:32:29,440 --> 00:32:31,039
junior either

906
00:32:31,039 --> 00:32:31,840
so

907
00:32:31,840 --> 00:32:33,200
that's the situation you're in high

908
00:32:33,200 --> 00:32:36,159
trust is great however

909
00:32:36,159 --> 00:32:38,159
when it comes to integration doesn't

910
00:32:38,159 --> 00:32:40,880
work the greatest for the environment

911
00:32:40,880 --> 00:32:43,279
that it's in to get the full benefit you

912
00:32:43,279 --> 00:32:45,360
have to be fully high trust certified as

913
00:32:45,360 --> 00:32:48,159
well and there are very few healthcare

914
00:32:48,159 --> 00:32:50,240
delivery organizations that are that

915
00:32:50,240 --> 00:32:51,679
have actually done this

916
00:32:51,679 --> 00:32:53,440
even the large ones that i've spoken to

917
00:32:53,440 --> 00:32:54,799
have only certified part of their

918
00:32:54,799 --> 00:32:56,880
environment

919
00:32:56,880 --> 00:32:58,399
so this means we need to change our

920
00:32:58,399 --> 00:33:00,080
service model

921
00:33:00,080 --> 00:33:02,960
so a lot of your major emr companies

922
00:33:02,960 --> 00:33:04,960
when they offer up those apis they give

923
00:33:04,960 --> 00:33:07,120
sandboxes a testament those sandboxes

924
00:33:07,120 --> 00:33:09,039
are great however

925
00:33:09,039 --> 00:33:11,039
they're not testing the entire app

926
00:33:11,039 --> 00:33:12,640
that's accessing

927
00:33:12,640 --> 00:33:14,880
the apis they're not testing the

928
00:33:14,880 --> 00:33:17,919
gateways to legacy systems

929
00:33:17,919 --> 00:33:20,480
that app can be completely conformant

930
00:33:20,480 --> 00:33:23,120
and again can be horribly insecure we've

931
00:33:23,120 --> 00:33:24,480
proven that

932
00:33:24,480 --> 00:33:26,240
a lot of code that's written for apple

933
00:33:26,240 --> 00:33:27,279
and google

934
00:33:27,279 --> 00:33:29,440
for those devices

935
00:33:29,440 --> 00:33:32,480
code can be broken we know this

936
00:33:32,480 --> 00:33:33,279
and

937
00:33:33,279 --> 00:33:35,840
no questionnaire no piece of software

938
00:33:35,840 --> 00:33:37,440
they're not going to help you address

939
00:33:37,440 --> 00:33:40,159
the root causes of these issues so you

940
00:33:40,159 --> 00:33:42,080
have to modify how you test and we're

941
00:33:42,080 --> 00:33:44,640
going to talk about that

942
00:33:44,640 --> 00:33:45,519
so

943
00:33:45,519 --> 00:33:48,080
another challenge we find is mutually

944
00:33:48,080 --> 00:33:50,559
assured security

945
00:33:50,559 --> 00:33:52,799
so large design pattern that we've seen

946
00:33:52,799 --> 00:33:53,919
that's been supported by the major

947
00:33:53,919 --> 00:33:55,600
software development platforms has been

948
00:33:55,600 --> 00:33:57,200
the emergence of these distributed

949
00:33:57,200 --> 00:33:59,120
technologies

950
00:33:59,120 --> 00:34:01,120
now you have the extreme of people still

951
00:34:01,120 --> 00:34:03,840
doing things legacy way all the way to

952
00:34:03,840 --> 00:34:05,600
full running on smart contracts in

953
00:34:05,600 --> 00:34:06,960
blockchain

954
00:34:06,960 --> 00:34:08,879
and distributed technologies in

955
00:34:08,879 --> 00:34:11,359
healthcare kind of lean towards more a

956
00:34:11,359 --> 00:34:14,079
small evolution from where we were

957
00:34:14,079 --> 00:34:16,079
legacy systems

958
00:34:16,079 --> 00:34:17,520
and a big concern we see with that is

959
00:34:17,520 --> 00:34:19,679
you're only as secure as your weakest

960
00:34:19,679 --> 00:34:20,719
link

961
00:34:20,719 --> 00:34:22,719
especially internally

962
00:34:22,719 --> 00:34:24,480
and we have to be concerned because

963
00:34:24,480 --> 00:34:26,239
these apps that are now

964
00:34:26,239 --> 00:34:27,599
accessing

965
00:34:27,599 --> 00:34:29,599
our systems using fire contain our

966
00:34:29,599 --> 00:34:32,159
patients protected health information

967
00:34:32,159 --> 00:34:33,679
and even though

968
00:34:33,679 --> 00:34:37,040
the responsibility goes away

969
00:34:37,040 --> 00:34:40,239
as soon as that data gets downloaded

970
00:34:40,239 --> 00:34:42,480
we still consider even the mere

971
00:34:42,480 --> 00:34:44,399
existence of those apis the first place

972
00:34:44,399 --> 00:34:46,719
to be a major risk for our organization

973
00:34:46,719 --> 00:34:50,399
and again it's one part of a distributed

974
00:34:50,399 --> 00:34:53,280
chain which is how we look at it so we

975
00:34:53,280 --> 00:34:55,520
have to really think about it in the

976
00:34:55,520 --> 00:34:57,839
context of

977
00:34:57,839 --> 00:34:59,920
it's one part of a chain not some

978
00:34:59,920 --> 00:35:02,320
isolated little system whose scope drops

979
00:35:02,320 --> 00:35:05,599
off like the mariana trench

980
00:35:05,599 --> 00:35:06,640
so

981
00:35:06,640 --> 00:35:08,880
what we have to take a look at here

982
00:35:08,880 --> 00:35:11,040
and again i'm going to talk more about

983
00:35:11,040 --> 00:35:13,119
third-party risk companies here

984
00:35:13,119 --> 00:35:14,480
we don't go to companies that give us a

985
00:35:14,480 --> 00:35:16,400
score to make decisions about third

986
00:35:16,400 --> 00:35:17,839
party risk

987
00:35:17,839 --> 00:35:20,160
you actually have to do something about

988
00:35:20,160 --> 00:35:21,680
that and i don't care if i piss these

989
00:35:21,680 --> 00:35:23,440
companies off today why because i'm a

990
00:35:23,440 --> 00:35:24,800
defcon

991
00:35:24,800 --> 00:35:25,839
so

992
00:35:25,839 --> 00:35:28,240
what you have to do is you have to do

993
00:35:28,240 --> 00:35:30,160
some pretty serious purple teamwork to

994
00:35:30,160 --> 00:35:34,160
be able to ensure your apis are secured

995
00:35:34,160 --> 00:35:35,359
and that

996
00:35:35,359 --> 00:35:37,119
you've done a good job making sure your

997
00:35:37,119 --> 00:35:39,599
environment in total is secure not just

998
00:35:39,599 --> 00:35:41,920
your apis

999
00:35:41,920 --> 00:35:43,280
so what you do is you can figure out

1000
00:35:43,280 --> 00:35:45,599
some test systems to do the testing

1001
00:35:45,599 --> 00:35:47,440
that are configured like your production

1002
00:35:47,440 --> 00:35:49,280
environment on a similar network which

1003
00:35:49,280 --> 00:35:51,119
is much better than testing the apis in

1004
00:35:51,119 --> 00:35:53,520
the sandbox why because when you go live

1005
00:35:53,520 --> 00:35:55,280
all the fun stuff happens and you see a

1006
00:35:55,280 --> 00:35:56,560
lot of errors you didn't think you'd

1007
00:35:56,560 --> 00:35:58,079
ever see before and if you just test

1008
00:35:58,079 --> 00:36:00,079
against the sandbox

1009
00:36:00,079 --> 00:36:02,079
i can guarantee you 100 you're not going

1010
00:36:02,079 --> 00:36:03,520
to know what to do

1011
00:36:03,520 --> 00:36:04,480
if

1012
00:36:04,480 --> 00:36:06,720
i give you a sandbox to play with that's

1013
00:36:06,720 --> 00:36:08,880
a test system and a similar network

1014
00:36:08,880 --> 00:36:10,079
environment

1015
00:36:10,079 --> 00:36:12,000
when you see errors the probability of

1016
00:36:12,000 --> 00:36:13,599
you knowing what to do and being able to

1017
00:36:13,599 --> 00:36:15,920
address the issues is significantly

1018
00:36:15,920 --> 00:36:16,880
higher

1019
00:36:16,880 --> 00:36:18,160
and again

1020
00:36:18,160 --> 00:36:20,160
this is not something you pay the people

1021
00:36:20,160 --> 00:36:22,079
in the nice suits to say nice words

1022
00:36:22,079 --> 00:36:23,920
about

1023
00:36:23,920 --> 00:36:25,520
this is something you've got to do on

1024
00:36:25,520 --> 00:36:27,040
your own because you are allowing

1025
00:36:27,040 --> 00:36:30,720
programmatic access to your environments

1026
00:36:30,720 --> 00:36:32,560
this is not downloading pdfs like a

1027
00:36:32,560 --> 00:36:34,320
patient portal this is not downloading

1028
00:36:34,320 --> 00:36:37,119
html occupation portal this is

1029
00:36:37,119 --> 00:36:40,640
systems interfacing with yours that are

1030
00:36:40,640 --> 00:36:43,359
not yours and you have to be very very

1031
00:36:43,359 --> 00:36:45,440
careful here

1032
00:36:45,440 --> 00:36:47,760
so if you find issues you gotta let your

1033
00:36:47,760 --> 00:36:50,079
leadership know first

1034
00:36:50,079 --> 00:36:52,400
and here's the deal and i'm going to say

1035
00:36:52,400 --> 00:36:53,359
some things you're going to piss off

1036
00:36:53,359 --> 00:36:55,599
some cios right now

1037
00:36:55,599 --> 00:36:58,400
if they ignore the issues or if they're

1038
00:36:58,400 --> 00:37:00,960
profoundly ignorant and i have sadly

1039
00:37:00,960 --> 00:37:02,560
found a lot of people in healthcare

1040
00:37:02,560 --> 00:37:04,320
leadership positions that are profoundly

1041
00:37:04,320 --> 00:37:05,599
ignorant

1042
00:37:05,599 --> 00:37:08,240
do it anyway make sure the right people

1043
00:37:08,240 --> 00:37:10,320
know and document the living heck out of

1044
00:37:10,320 --> 00:37:13,200
the security issues that you find

1045
00:37:13,200 --> 00:37:15,200
and i'm going to go on record saying

1046
00:37:15,200 --> 00:37:16,240
this

1047
00:37:16,240 --> 00:37:19,359
ignorant leadership is no reason to

1048
00:37:19,359 --> 00:37:20,839
avoid

1049
00:37:20,839 --> 00:37:23,760
security what i've done in my career

1050
00:37:23,760 --> 00:37:26,160
has been tell cio's

1051
00:37:26,160 --> 00:37:27,920
you're not doing the right thing

1052
00:37:27,920 --> 00:37:29,680
this is what you need to do to mitigate

1053
00:37:29,680 --> 00:37:31,200
risk to your patients

1054
00:37:31,200 --> 00:37:33,520
and if they tell me don't do it a couple

1055
00:37:33,520 --> 00:37:36,320
times i've had to do it a perfect

1056
00:37:36,320 --> 00:37:37,920
example when i rolled that helped roll

1057
00:37:37,920 --> 00:37:40,320
out windows 7 at my last job many many

1058
00:37:40,320 --> 00:37:42,720
years ago i had the cio tell me to stop

1059
00:37:42,720 --> 00:37:44,000
work on it

1060
00:37:44,000 --> 00:37:46,480
i told them no

1061
00:37:46,480 --> 00:37:49,200
because i had people telling me

1062
00:37:49,200 --> 00:37:51,839
i'm buying laptops now that don't

1063
00:37:51,839 --> 00:37:55,200
run windows xp they only run windows 7.

1064
00:37:55,200 --> 00:37:57,680
so i need to have windows 7 or we can't

1065
00:37:57,680 --> 00:37:59,599
get people taking care of patients

1066
00:37:59,599 --> 00:38:01,359
laptops

1067
00:38:01,359 --> 00:38:02,960
so we made the best choice for the

1068
00:38:02,960 --> 00:38:04,960
patient and eventually the cio came

1069
00:38:04,960 --> 00:38:08,000
around to it but the way i look at it is

1070
00:38:08,000 --> 00:38:10,160
ignorance is no reason to stop security

1071
00:38:10,160 --> 00:38:11,200
work

1072
00:38:11,200 --> 00:38:14,160
and if you are dealing with leadership

1073
00:38:14,160 --> 00:38:17,359
that is being ignorant

1074
00:38:17,680 --> 00:38:19,680
do your best to protect them from their

1075
00:38:19,680 --> 00:38:22,000
own best interests and keep the interest

1076
00:38:22,000 --> 00:38:23,920
of your organization and patience in

1077
00:38:23,920 --> 00:38:26,079
mind

1078
00:38:26,079 --> 00:38:28,320
thankfully my organization i have a

1079
00:38:28,320 --> 00:38:30,880
really good boss in tim tarnowski

1080
00:38:30,880 --> 00:38:34,640
and i don't have to do this with them

1081
00:38:34,640 --> 00:38:35,839
also

1082
00:38:35,839 --> 00:38:39,040
we take a look at patient advocates

1083
00:38:39,040 --> 00:38:40,930
patient advocates are

1084
00:38:40,930 --> 00:38:42,160
[Music]

1085
00:38:42,160 --> 00:38:43,000
an

1086
00:38:43,000 --> 00:38:47,040
underutilized resource in health care

1087
00:38:47,040 --> 00:38:48,320
they've helped

1088
00:38:48,320 --> 00:38:50,000
many people

1089
00:38:50,000 --> 00:38:51,520
deal with

1090
00:38:51,520 --> 00:38:53,760
complex issues

1091
00:38:53,760 --> 00:38:55,440
and

1092
00:38:55,440 --> 00:38:58,800
concerns at the worst times in their

1093
00:38:58,800 --> 00:39:00,960
lives

1094
00:39:00,960 --> 00:39:01,839
so

1095
00:39:01,839 --> 00:39:03,680
i know a couple of them they deal with

1096
00:39:03,680 --> 00:39:06,880
people that have breast cancer or more

1097
00:39:06,880 --> 00:39:09,200
advanced forms of cancer that is the

1098
00:39:09,200 --> 00:39:12,000
absolute worst time in your life when

1099
00:39:12,000 --> 00:39:15,200
you have advanced cancer you need all

1100
00:39:15,200 --> 00:39:17,839
the help you can get

1101
00:39:17,839 --> 00:39:19,839
these are people that are susceptible

1102
00:39:19,839 --> 00:39:21,839
these patients are susceptible to scams

1103
00:39:21,839 --> 00:39:24,640
they're susceptible to all sorts of

1104
00:39:24,640 --> 00:39:27,119
things of people

1105
00:39:27,119 --> 00:39:29,359
with bad intentions trying to drain

1106
00:39:29,359 --> 00:39:30,560
their wallet

1107
00:39:30,560 --> 00:39:33,760
patient advocates deal with adversity

1108
00:39:33,760 --> 00:39:35,760
and adversarial behavior

1109
00:39:35,760 --> 00:39:37,280
better than your average healthcare

1110
00:39:37,280 --> 00:39:39,280
organization does

1111
00:39:39,280 --> 00:39:41,359
so here's the deal

1112
00:39:41,359 --> 00:39:43,599
i as a representative of a healthcare

1113
00:39:43,599 --> 00:39:46,560
organization cannot stop a patient from

1114
00:39:46,560 --> 00:39:49,520
downloading some of these applications

1115
00:39:49,520 --> 00:39:50,720
that prepare to help them with

1116
00:39:50,720 --> 00:39:53,599
healthcare data using fire that may have

1117
00:39:53,599 --> 00:39:56,160
privacy and security issues without

1118
00:39:56,160 --> 00:39:58,320
potential information blocking penalties

1119
00:39:58,320 --> 00:40:00,880
and complaints to the federal government

1120
00:40:00,880 --> 00:40:03,359
patient advocates do not have the same

1121
00:40:03,359 --> 00:40:05,440
restrictions that i have

1122
00:40:05,440 --> 00:40:07,359
they're not providers

1123
00:40:07,359 --> 00:40:09,839
they're neutral they can advise they can

1124
00:40:09,839 --> 00:40:12,160
warn

1125
00:40:13,280 --> 00:40:17,119
this is a new area and realistically

1126
00:40:17,119 --> 00:40:19,520
when you're dealing with a sickness like

1127
00:40:19,520 --> 00:40:22,000
cancer or covid

1128
00:40:22,000 --> 00:40:24,560
you're not in the best place to make a

1129
00:40:24,560 --> 00:40:26,480
judgment call

1130
00:40:26,480 --> 00:40:29,359
you're thinking about other things much

1131
00:40:29,359 --> 00:40:30,400
such as

1132
00:40:30,400 --> 00:40:32,240
how long am i going to live

1133
00:40:32,240 --> 00:40:34,160
or what's the quality of my life going

1134
00:40:34,160 --> 00:40:36,160
to be

1135
00:40:36,160 --> 00:40:37,440
and we need to make sure that these

1136
00:40:37,440 --> 00:40:40,240
patients get good guidance at the right

1137
00:40:40,240 --> 00:40:42,240
time in their life when they're at their

1138
00:40:42,240 --> 00:40:44,160
most sensitive

1139
00:40:44,160 --> 00:40:45,839
and one of my greatest concerns with

1140
00:40:45,839 --> 00:40:47,599
these applications is that people are

1141
00:40:47,599 --> 00:40:48,880
going to let the marketing buzzwords

1142
00:40:48,880 --> 00:40:50,960
take over instead of using something

1143
00:40:50,960 --> 00:40:52,960
that works

1144
00:40:52,960 --> 00:40:55,280
so we historically haven't engaged

1145
00:40:55,280 --> 00:40:57,520
patient advocates the way we need to and

1146
00:40:57,520 --> 00:40:58,960
i think now

1147
00:40:58,960 --> 00:41:01,680
they have the potential for really

1148
00:41:01,680 --> 00:41:03,680
helping us out

1149
00:41:03,680 --> 00:41:05,440
especially with these threats to patient

1150
00:41:05,440 --> 00:41:06,560
data

1151
00:41:06,560 --> 00:41:08,640
they and again i look at it this way

1152
00:41:08,640 --> 00:41:10,160
they're used to dealing with the

1153
00:41:10,160 --> 00:41:12,480
adversarial environment that can be

1154
00:41:12,480 --> 00:41:14,160
healthcare

1155
00:41:14,160 --> 00:41:15,839
i think they have some skills that can

1156
00:41:15,839 --> 00:41:17,760
transfer over to help patients out and

1157
00:41:17,760 --> 00:41:19,440
making the right decisions with the apps

1158
00:41:19,440 --> 00:41:21,040
that they use

1159
00:41:21,040 --> 00:41:22,800
so i look at it this way

1160
00:41:22,800 --> 00:41:24,880
keep them informed of everything you

1161
00:41:24,880 --> 00:41:26,880
find in privacy and security issues

1162
00:41:26,880 --> 00:41:28,480
there's nothing preventing us from doing

1163
00:41:28,480 --> 00:41:30,800
that

1164
00:41:30,800 --> 00:41:33,119
so what can we do besides informing

1165
00:41:33,119 --> 00:41:35,119
patient advocates of all the fun things

1166
00:41:35,119 --> 00:41:36,960
that we find

1167
00:41:36,960 --> 00:41:38,400
first of all we do our vulnerability

1168
00:41:38,400 --> 00:41:40,000
scans

1169
00:41:40,000 --> 00:41:42,640
we start with the outside the inside all

1170
00:41:42,640 --> 00:41:44,880
the vendor connections all the vpn and

1171
00:41:44,880 --> 00:41:47,200
rdp that no one thinks that

1172
00:41:47,200 --> 00:41:50,079
the it organization knows about

1173
00:41:50,079 --> 00:41:52,079
and also do a scan of your software so

1174
00:41:52,079 --> 00:41:53,359
many people have installed your caseta

1175
00:41:53,359 --> 00:41:54,319
agents

1176
00:41:54,319 --> 00:41:56,000
or others

1177
00:41:56,000 --> 00:41:58,160
and also take a look at your container

1178
00:41:58,160 --> 00:42:01,440
environments and all the work that they

1179
00:42:01,440 --> 00:42:03,599
said they did to security containers

1180
00:42:03,599 --> 00:42:05,680
because i can tell you they didn't do

1181
00:42:05,680 --> 00:42:07,520
that work

1182
00:42:07,520 --> 00:42:09,200
i have found one of the biggest new

1183
00:42:09,200 --> 00:42:11,040
challenges in healthcare has been with

1184
00:42:11,040 --> 00:42:13,119
people putting software in docker or

1185
00:42:13,119 --> 00:42:16,400
kubernetes and saying it's secure and

1186
00:42:16,400 --> 00:42:18,800
the only difference between that and

1187
00:42:18,800 --> 00:42:21,760
insecure software in a linux box is that

1188
00:42:21,760 --> 00:42:24,560
it's in a container

1189
00:42:24,560 --> 00:42:27,359
so what can we do next let's take a look

1190
00:42:27,359 --> 00:42:28,960
at what these fire apis are going to

1191
00:42:28,960 --> 00:42:31,359
connect to ultimately

1192
00:42:31,359 --> 00:42:34,079
and take a look and do a data flow

1193
00:42:34,079 --> 00:42:36,640
analysis so

1194
00:42:36,640 --> 00:42:38,319
patient connects with an app

1195
00:42:38,319 --> 00:42:41,440
sends a fire api call what systems is it

1196
00:42:41,440 --> 00:42:42,880
going to connect to

1197
00:42:42,880 --> 00:42:44,880
what dependent systems along the path is

1198
00:42:44,880 --> 00:42:46,160
it going to hit

1199
00:42:46,160 --> 00:42:47,520
and it's going to light up like a

1200
00:42:47,520 --> 00:42:49,680
christmas tree

1201
00:42:49,680 --> 00:42:50,880
because

1202
00:42:50,880 --> 00:42:53,119
what you had before was oh it's only

1203
00:42:53,119 --> 00:42:54,960
going to connect to this one system

1204
00:42:54,960 --> 00:42:55,920
well you're going to realize there's

1205
00:42:55,920 --> 00:42:57,599
about 20 systems in the path and you

1206
00:42:57,599 --> 00:43:00,000
have to understand what they all are

1207
00:43:00,000 --> 00:43:01,599
and one of the big challenges we found

1208
00:43:01,599 --> 00:43:03,920
in healthcare was that a lot of people

1209
00:43:03,920 --> 00:43:07,200
like to reduce scope to minimize risk so

1210
00:43:07,200 --> 00:43:08,640
they look better on the risk assessment

1211
00:43:08,640 --> 00:43:11,520
before they handed in senior leadership

1212
00:43:11,520 --> 00:43:14,000
i can tell you

1213
00:43:14,000 --> 00:43:16,640
there is no greater way to look like a

1214
00:43:16,640 --> 00:43:18,800
failure than to do that

1215
00:43:18,800 --> 00:43:21,599
this is not a time for reducing scope

1216
00:43:21,599 --> 00:43:23,839
especially with the existential threats

1217
00:43:23,839 --> 00:43:26,640
that we're facing to our businesses you

1218
00:43:26,640 --> 00:43:28,240
have to take a look at security along

1219
00:43:28,240 --> 00:43:29,599
that entire path

1220
00:43:29,599 --> 00:43:31,040
and so for all those dependent systems

1221
00:43:31,040 --> 00:43:33,119
you find from your dataflow analysis

1222
00:43:33,119 --> 00:43:35,119
do your analysis and assessments of

1223
00:43:35,119 --> 00:43:37,119
those systems that you find

1224
00:43:37,119 --> 00:43:39,119
don't descope because here's what's

1225
00:43:39,119 --> 00:43:40,800
funny i first started doing risk

1226
00:43:40,800 --> 00:43:43,520
assessments 12 years ago

1227
00:43:43,520 --> 00:43:45,200
it seems like every system that i was

1228
00:43:45,200 --> 00:43:48,079
told to scope by leadership mysteriously

1229
00:43:48,079 --> 00:43:50,640
ended up back in scope

1230
00:43:50,640 --> 00:43:52,960
later because of some other reason for

1231
00:43:52,960 --> 00:43:56,079
risks so the scoping leads to re-scoping

1232
00:43:56,079 --> 00:43:59,119
anyway so don't do scope

1233
00:43:59,119 --> 00:44:01,119
and so what you want to do based upon

1234
00:44:01,119 --> 00:44:03,280
your risk analysis is develop some good

1235
00:44:03,280 --> 00:44:04,880
short and long-term remediation plans

1236
00:44:04,880 --> 00:44:06,240
for these systems

1237
00:44:06,240 --> 00:44:08,960
so big one here patch

1238
00:44:08,960 --> 00:44:11,599
firewall segment change those default

1239
00:44:11,599 --> 00:44:13,040
passwords

1240
00:44:13,040 --> 00:44:15,280
turn off your unnecessary services

1241
00:44:15,280 --> 00:44:16,720
if you've got

1242
00:44:16,720 --> 00:44:19,520
privileged account management like

1243
00:44:19,520 --> 00:44:22,000
cyberark use it and develop good

1244
00:44:22,000 --> 00:44:24,319
operational plans take good backups and

1245
00:44:24,319 --> 00:44:26,240
store them somewhere else

1246
00:44:26,240 --> 00:44:28,160
and for your long term yes security is

1247
00:44:28,160 --> 00:44:30,000
now think in the long term

1248
00:44:30,000 --> 00:44:32,400
get current develop your plan to update

1249
00:44:32,400 --> 00:44:35,520
and upgrade every so often and keep a

1250
00:44:35,520 --> 00:44:38,160
good budget for running the system

1251
00:44:38,160 --> 00:44:39,680
well

1252
00:44:39,680 --> 00:44:40,800
and with

1253
00:44:40,800 --> 00:44:43,839
it we haven't seen a lot of good

1254
00:44:43,839 --> 00:44:46,000
long-term thought we're really trying to

1255
00:44:46,000 --> 00:44:47,839
change that here but again

1256
00:44:47,839 --> 00:44:49,440
that's your short and long term that's

1257
00:44:49,440 --> 00:44:52,400
to basically maintain the system

1258
00:44:52,400 --> 00:44:54,640
now we get to the fun part which is api

1259
00:44:54,640 --> 00:44:57,280
testing so you've got to develop plans

1260
00:44:57,280 --> 00:45:00,000
to do full api testing we recommend

1261
00:45:00,000 --> 00:45:02,240
using that purple team approach

1262
00:45:02,240 --> 00:45:04,640
again thanks bryson

1263
00:45:04,640 --> 00:45:07,200
this approach works incredibly well

1264
00:45:07,200 --> 00:45:09,200
because it helps you work with your blue

1265
00:45:09,200 --> 00:45:10,319
team to

1266
00:45:10,319 --> 00:45:12,880
go in there try and break these apis

1267
00:45:12,880 --> 00:45:14,960
trying to understand how these systems

1268
00:45:14,960 --> 00:45:16,880
work

1269
00:45:16,880 --> 00:45:19,599
and really try and programmatically look

1270
00:45:19,599 --> 00:45:20,480
at them

1271
00:45:20,480 --> 00:45:23,920
from an adversarial point of view

1272
00:45:23,920 --> 00:45:25,599
and if you can't do it yourself there's

1273
00:45:25,599 --> 00:45:28,000
a lot of great companies out there some

1274
00:45:28,000 --> 00:45:29,920
of whom are watching today who will help

1275
00:45:29,920 --> 00:45:31,280
you do so

1276
00:45:31,280 --> 00:45:32,720
and they'll help you develop that

1277
00:45:32,720 --> 00:45:35,760
testing plan and help you test

1278
00:45:35,760 --> 00:45:37,359
but when you're done testing you've

1279
00:45:37,359 --> 00:45:40,160
actually got to follow up and keep up

1280
00:45:40,160 --> 00:45:41,760
so you discover some high and critical

1281
00:45:41,760 --> 00:45:42,880
issues you got to address those

1282
00:45:42,880 --> 00:45:45,119
immediately you got to log them ticket

1283
00:45:45,119 --> 00:45:47,520
them and track the resolution if you've

1284
00:45:47,520 --> 00:45:49,760
got third party vendors you're going to

1285
00:45:49,760 --> 00:45:51,839
be following up

1286
00:45:51,839 --> 00:45:53,440
treat your third party vendors like you

1287
00:45:53,440 --> 00:45:55,920
would your internal systems

1288
00:45:55,920 --> 00:45:57,599
and again the approach that my

1289
00:45:57,599 --> 00:45:59,280
organization is taking

1290
00:45:59,280 --> 00:46:01,280
and the one that we recommend all

1291
00:46:01,280 --> 00:46:02,960
healthcare organizations take is to do

1292
00:46:02,960 --> 00:46:06,640
that purple team test at least annually

1293
00:46:06,640 --> 00:46:09,920
and when you have a major system upgrade

1294
00:46:09,920 --> 00:46:12,160
because here's the deal

1295
00:46:12,160 --> 00:46:14,240
what we've found with a lot of these

1296
00:46:14,240 --> 00:46:17,280
apis has been that

1297
00:46:17,280 --> 00:46:19,599
when you upgrade systems sometimes you

1298
00:46:19,599 --> 00:46:22,000
have some pretty bad regressions on

1299
00:46:22,000 --> 00:46:24,400
security issues a lot of organizations

1300
00:46:24,400 --> 00:46:26,640
aren't as agile as they need to be

1301
00:46:26,640 --> 00:46:29,359
when it comes to pushing fixes they

1302
00:46:29,359 --> 00:46:31,440
found or made

1303
00:46:31,440 --> 00:46:32,960
back into the next version of the

1304
00:46:32,960 --> 00:46:34,880
product that's still under development

1305
00:46:34,880 --> 00:46:36,160
so a lot of companies have done a great

1306
00:46:36,160 --> 00:46:37,760
job improving on that microsoft being

1307
00:46:37,760 --> 00:46:39,839
one of them google being another

1308
00:46:39,839 --> 00:46:41,680
but not all companies are microsoft and

1309
00:46:41,680 --> 00:46:42,880
google

1310
00:46:42,880 --> 00:46:43,680
so

1311
00:46:43,680 --> 00:46:45,599
we've got to make sure we're on that and

1312
00:46:45,599 --> 00:46:48,079
we keep doing that

1313
00:46:48,079 --> 00:46:48,880
so

1314
00:46:48,880 --> 00:46:50,079
with that

1315
00:46:50,079 --> 00:46:52,000
i'm going to follow up here and thank

1316
00:46:52,000 --> 00:46:53,760
you all for your time today

1317
00:46:53,760 --> 00:46:55,440
will you open up for any questions and

1318
00:46:55,440 --> 00:46:58,160
here is my contact information

1319
00:46:58,160 --> 00:47:00,720
so thank you all for your time thank you

1320
00:47:00,720 --> 00:47:02,640
alyssa for the incredible presentation

1321
00:47:02,640 --> 00:47:04,480
that led into this and have a great day

1322
00:47:04,480 --> 00:47:07,480
everyone

