1
00:00:00,240 --> 00:00:03,199
all right let's get started

2
00:00:03,199 --> 00:00:06,080
poking bots for fun and profit uh in the

3
00:00:06,080 --> 00:00:08,320
age of asynchronous stuff it's

4
00:00:08,320 --> 00:00:12,320
it's quite a long name uh but

5
00:00:12,320 --> 00:00:16,320
yeah my kid said this is a very long

6
00:00:16,320 --> 00:00:19,359
um title uh

7
00:00:19,359 --> 00:00:23,199
that and i i kind of agree

8
00:00:23,199 --> 00:00:26,240
let's see all right let's

9
00:00:26,240 --> 00:00:30,480
uh just a little bit about myself

10
00:00:30,480 --> 00:00:32,960
um you know working a security and

11
00:00:32,960 --> 00:00:33,760
financial

12
00:00:33,760 --> 00:00:37,600
industry for like over 10 years um

13
00:00:37,600 --> 00:00:40,960
really that that's that's some that are

14
00:00:40,960 --> 00:00:41,840
some experience

15
00:00:41,840 --> 00:00:44,559
there but there's a friend of mine told

16
00:00:44,559 --> 00:00:45,280
me

17
00:00:45,280 --> 00:00:48,320
a few months ago i really nobody you

18
00:00:48,320 --> 00:00:48,640
know

19
00:00:48,640 --> 00:00:52,239
just trying to get a research done

20
00:00:52,239 --> 00:00:55,440
and working the the indus for a couple

21
00:00:55,440 --> 00:00:56,239
of

22
00:00:56,239 --> 00:00:59,600
years you know fascinated

23
00:00:59,600 --> 00:01:02,800
you know why uh wife kids you know

24
00:01:02,800 --> 00:01:05,600
and authentication systems and disorder

25
00:01:05,600 --> 00:01:07,439
otherwise she's gonna kill me

26
00:01:07,439 --> 00:01:09,119
um i'm really interested in the machine

27
00:01:09,119 --> 00:01:10,799
learning behavior analysis

28
00:01:10,799 --> 00:01:12,720
i'm stronger believe about the

29
00:01:12,720 --> 00:01:14,560
programmers and you know research will

30
00:01:14,560 --> 00:01:15,840
rule the world so

31
00:01:15,840 --> 00:01:19,360
i i'm true believer that

32
00:01:19,360 --> 00:01:23,040
programming skill is a very foundational

33
00:01:23,040 --> 00:01:24,080
skill across

34
00:01:24,080 --> 00:01:27,600
all technology areas and

35
00:01:27,600 --> 00:01:30,640
that's it i think this is very important

36
00:01:30,640 --> 00:01:34,159
um just uh as a

37
00:01:34,159 --> 00:01:37,360
last independent research work i i had

38
00:01:37,360 --> 00:01:38,880
this cv

39
00:01:38,880 --> 00:01:41,840
um from their uh think of assistance

40
00:01:41,840 --> 00:01:42,880
publish it

41
00:01:42,880 --> 00:01:44,960
and this is just part of the you know

42
00:01:44,960 --> 00:01:46,640
things that i try to do

43
00:01:46,640 --> 00:01:48,799
inside and in parallel to everything

44
00:01:48,799 --> 00:01:52,840
else well that's that's pretty much me

45
00:01:52,840 --> 00:01:56,799
um uh the goal of this presentation i i

46
00:01:56,799 --> 00:01:59,280
just uh to give this an introduction why

47
00:01:59,280 --> 00:02:00,960
i got here and this

48
00:02:00,960 --> 00:02:03,520
particular this research a few years ago

49
00:02:03,520 --> 00:02:05,600
was working up a machine

50
00:02:05,600 --> 00:02:08,720
learning module in order to to fine

51
00:02:08,720 --> 00:02:10,639
tuning some false positive that was

52
00:02:10,639 --> 00:02:13,200
getting from a supervised mode

53
00:02:13,200 --> 00:02:16,160
so was i was building a system that

54
00:02:16,160 --> 00:02:16,720
would

55
00:02:16,720 --> 00:02:19,120
combine supervised and unsupervised

56
00:02:19,120 --> 00:02:19,840
modern

57
00:02:19,840 --> 00:02:22,000
and it would send me a message over

58
00:02:22,000 --> 00:02:23,040
telegram

59
00:02:23,040 --> 00:02:25,120
to uh tell me what you want to do with

60
00:02:25,120 --> 00:02:26,800
this alert is this something

61
00:02:26,800 --> 00:02:29,360
is it uh do you want to mark it as an

62
00:02:29,360 --> 00:02:31,040
unsupervised

63
00:02:31,040 --> 00:02:33,920
or you know how do you want to to handle

64
00:02:33,920 --> 00:02:35,840
this situation i want a very quick

65
00:02:35,840 --> 00:02:36,959
feedback connect

66
00:02:36,959 --> 00:02:40,080
i would like to interact with it

67
00:02:40,080 --> 00:02:43,360
anytime anywhere without the need to get

68
00:02:43,360 --> 00:02:45,440
into system and do anything

69
00:02:45,440 --> 00:02:47,440
so and that that i developed this bot

70
00:02:47,440 --> 00:02:49,360
and then i realized that okay there is

71
00:02:49,360 --> 00:02:50,239
an input there

72
00:02:50,239 --> 00:02:52,800
it's a menu on the on the telegram that

73
00:02:52,800 --> 00:02:54,000
you just click and say

74
00:02:54,000 --> 00:02:56,560
one or two or three or doesn't matter

75
00:02:56,560 --> 00:02:57,360
but

76
00:02:57,360 --> 00:02:59,599
the point is there was some input there

77
00:02:59,599 --> 00:03:00,800
and then when i was looking at the

78
00:03:00,800 --> 00:03:02,480
source code they said well

79
00:03:02,480 --> 00:03:05,040
if diagrams allow me to send some sql

80
00:03:05,040 --> 00:03:06,239
injection screen

81
00:03:06,239 --> 00:03:09,440
it could potentially be exploited so

82
00:03:09,440 --> 00:03:11,280
that that that's what they start and

83
00:03:11,280 --> 00:03:12,800
after a few months

84
00:03:12,800 --> 00:03:17,440
i i started seeing a lot of uh you know

85
00:03:17,440 --> 00:03:19,519
especially small business trying to

86
00:03:19,519 --> 00:03:20,480
build

87
00:03:20,480 --> 00:03:23,280
their business model on the top of those

88
00:03:23,280 --> 00:03:25,440
you know cross-platform things like

89
00:03:25,440 --> 00:03:27,840
telegram and the others uh because

90
00:03:27,840 --> 00:03:29,040
seeing this as a

91
00:03:29,040 --> 00:03:31,680
like a cheap way of deploying frameworks

92
00:03:31,680 --> 00:03:32,879
and front-ends

93
00:03:32,879 --> 00:03:35,599
in platforms that they wouldn't reach if

94
00:03:35,599 --> 00:03:36,560
they were going to

95
00:03:36,560 --> 00:03:38,560
to deliver like to develop application

96
00:03:38,560 --> 00:03:39,840
by themselves like

97
00:03:39,840 --> 00:03:42,879
through android or to ios

98
00:03:42,879 --> 00:03:46,239
so to apple store things like that so

99
00:03:46,239 --> 00:03:48,560
i i found it interesting start research

100
00:03:48,560 --> 00:03:49,760
on telegram bots

101
00:03:49,760 --> 00:03:52,480
and extended a little bit to other uh

102
00:03:52,480 --> 00:03:53,920
bots as well

103
00:03:53,920 --> 00:03:55,920
so the idea really is to raise the

104
00:03:55,920 --> 00:03:57,040
awareness

105
00:03:57,040 --> 00:03:59,360
regarding the ta secure tests on those

106
00:03:59,360 --> 00:04:00,080
bots and

107
00:04:00,080 --> 00:04:04,000
apps so some some platforms call it

108
00:04:04,000 --> 00:04:06,480
outbox other apps but essentially all

109
00:04:06,480 --> 00:04:07,360
applications

110
00:04:07,360 --> 00:04:09,519
and integra integration application that

111
00:04:09,519 --> 00:04:10,959
can i know

112
00:04:10,959 --> 00:04:14,159
uh tap into internal systems and bring

113
00:04:14,159 --> 00:04:16,160
things to the surface of

114
00:04:16,160 --> 00:04:19,519
those those uh communication platforms

115
00:04:19,519 --> 00:04:21,680
and i want i really want to share the

116
00:04:21,680 --> 00:04:23,120
challenge of testing this kind of

117
00:04:23,120 --> 00:04:24,240
application

118
00:04:24,240 --> 00:04:26,880
uh and try to set some some direction

119
00:04:26,880 --> 00:04:28,160
for whoever is

120
00:04:28,160 --> 00:04:30,080
is going to try it or is trying it

121
00:04:30,080 --> 00:04:31,360
currently and

122
00:04:31,360 --> 00:04:32,800
of course shed some light on the

123
00:04:32,800 --> 00:04:34,800
strategy on this and hopefully

124
00:04:34,800 --> 00:04:37,600
motivate companies include those kind of

125
00:04:37,600 --> 00:04:38,560
apps and

126
00:04:38,560 --> 00:04:40,960
their you know by hand like bounding

127
00:04:40,960 --> 00:04:42,560
problems so

128
00:04:42,560 --> 00:04:45,440
i haven't seen those explicitly on the

129
00:04:45,440 --> 00:04:46,000
polis

130
00:04:46,000 --> 00:04:50,240
so perhaps we can change that

131
00:04:50,800 --> 00:04:54,080
uh and of course no this is not about

132
00:04:54,080 --> 00:04:56,400
vacuum cleaners right that's they're

133
00:04:56,400 --> 00:04:58,000
they're vulnerable but

134
00:04:58,000 --> 00:05:03,280
i guess nobody cares and

135
00:05:03,360 --> 00:05:05,520
what does those bots and apps are use it

136
00:05:05,520 --> 00:05:06,800
of course

137
00:05:06,800 --> 00:05:09,199
uh where can you spot one if we start

138
00:05:09,199 --> 00:05:10,080
from there so

139
00:05:10,080 --> 00:05:12,080
the score is like telegram hangout all

140
00:05:12,080 --> 00:05:13,840
those guys support bots today

141
00:05:13,840 --> 00:05:17,199
right facebook our app uh principal

142
00:05:17,199 --> 00:05:19,440
communication apps are supporting those

143
00:05:19,440 --> 00:05:20,639
kind of things and then

144
00:05:20,639 --> 00:05:23,440
they came up with this concept of other

145
00:05:23,440 --> 00:05:24,080
people's

146
00:05:24,080 --> 00:05:27,199
program or building applications on opp

147
00:05:27,199 --> 00:05:28,800
which is other people's program and

148
00:05:28,800 --> 00:05:30,320
other platforms

149
00:05:30,320 --> 00:05:32,800
that allows you to build your own

150
00:05:32,800 --> 00:05:33,600
software or

151
00:05:33,600 --> 00:05:37,199
program there and then put

152
00:05:37,199 --> 00:05:38,560
make it available in things like

153
00:05:38,560 --> 00:05:40,320
marketplace and

154
00:05:40,320 --> 00:05:43,759
and uh and on other things so that

155
00:05:43,759 --> 00:05:44,160
that's

156
00:05:44,160 --> 00:05:46,160
you can spot everywhere bots are

157
00:05:46,160 --> 00:05:48,080
everywhere to all kind of integration

158
00:05:48,080 --> 00:05:49,680
you can call it bought or not

159
00:05:49,680 --> 00:05:51,919
integration apps are pretty much

160
00:05:51,919 --> 00:05:53,360
something that you can call it what they

161
00:05:53,360 --> 00:05:53,680
do

162
00:05:53,680 --> 00:05:57,360
is they do a process data

163
00:05:57,360 --> 00:06:00,319
and conversation and chats and file

164
00:06:00,319 --> 00:06:02,240
right that's all those things that they

165
00:06:02,240 --> 00:06:04,800
eat i used i used to say they eat all

166
00:06:04,800 --> 00:06:06,000
those things and what they

167
00:06:06,000 --> 00:06:07,680
do with those things so they can do a

168
00:06:07,680 --> 00:06:10,000
lot of things if you add a bot to our

169
00:06:10,000 --> 00:06:10,960
conversation

170
00:06:10,960 --> 00:06:13,600
in a group you can you just be aware

171
00:06:13,600 --> 00:06:14,160
that

172
00:06:14,160 --> 00:06:16,960
this bot will probably have rights to

173
00:06:16,960 --> 00:06:18,479
read all the masses and

174
00:06:18,479 --> 00:06:20,880
store it internally so from private's

175
00:06:20,880 --> 00:06:22,319
perspective better be

176
00:06:22,319 --> 00:06:24,319
careful when you deal with a bot in your

177
00:06:24,319 --> 00:06:26,800
chat so yeah they do a lot of things

178
00:06:26,800 --> 00:06:27,120
right

179
00:06:27,120 --> 00:06:29,440
chat group they provide quick response

180
00:06:29,440 --> 00:06:31,440
they tap into internal systems that

181
00:06:31,440 --> 00:06:33,840
give give you a quickie answers i i like

182
00:06:33,840 --> 00:06:34,720
say if you

183
00:06:34,720 --> 00:06:36,880
were in a conversation a group chat and

184
00:06:36,880 --> 00:06:38,400
say i would like to

185
00:06:38,400 --> 00:06:41,759
to know the budget from you know

186
00:06:41,759 --> 00:06:45,600
five years ago we just go but budget

187
00:06:45,600 --> 00:06:49,120
year and it will just

188
00:06:49,120 --> 00:06:51,039
you know bring it back to you without

189
00:06:51,039 --> 00:06:53,599
the need to open a system do something

190
00:06:53,599 --> 00:06:56,560
the information that is

191
00:06:56,800 --> 00:06:58,479
something that you need at the time and

192
00:06:58,479 --> 00:07:00,160
it's much faster you can

193
00:07:00,160 --> 00:07:03,120
do a lot of quick quick wings right

194
00:07:03,120 --> 00:07:03,840
there

195
00:07:03,840 --> 00:07:06,400
so and you have a lot of uh samples out

196
00:07:06,400 --> 00:07:07,680
there you see antivirus

197
00:07:07,680 --> 00:07:10,479
working in a group chat to to take care

198
00:07:10,479 --> 00:07:10,800
of

199
00:07:10,800 --> 00:07:14,080
files that uploaded their urls

200
00:07:14,080 --> 00:07:16,639
to avoid phishing and things like that

201
00:07:16,639 --> 00:07:17,840
and and some

202
00:07:17,840 --> 00:07:19,680
businesses are building like in from

203
00:07:19,680 --> 00:07:21,599
entire frontiers to

204
00:07:21,599 --> 00:07:24,960
um to to offer clients and and

205
00:07:24,960 --> 00:07:27,199
and other third parties integration with

206
00:07:27,199 --> 00:07:28,560
their products

207
00:07:28,560 --> 00:07:31,599
so it's really uh uh uh

208
00:07:31,599 --> 00:07:34,800
on a growing um uh

209
00:07:34,800 --> 00:07:37,919
privacy in the the industry

210
00:07:37,919 --> 00:07:40,479
and well i think one important message

211
00:07:40,479 --> 00:07:41,120
to deliver

212
00:07:41,120 --> 00:07:44,720
is that the bots not just a script yeah

213
00:07:44,720 --> 00:07:46,560
it could be if you're just sending a

214
00:07:46,560 --> 00:07:47,840
message from

215
00:07:47,840 --> 00:07:51,120
you know the the a server or just send a

216
00:07:51,120 --> 00:07:52,800
message and not taking anything

217
00:07:52,800 --> 00:07:54,639
back or not listening to what's going on

218
00:07:54,639 --> 00:07:56,560
maybe but most of the time it is an

219
00:07:56,560 --> 00:07:58,000
actual application and

220
00:07:58,000 --> 00:08:00,319
it is connected to like multiple system

221
00:08:00,319 --> 00:08:01,440
interacts with

222
00:08:01,440 --> 00:08:04,319
with the users and systems and and

223
00:08:04,319 --> 00:08:06,319
everything so it's an actual application

224
00:08:06,319 --> 00:08:07,759
and it needs to be

225
00:08:07,759 --> 00:08:11,440
secure tested um i let me touch base on

226
00:08:11,440 --> 00:08:11,759
the

227
00:08:11,759 --> 00:08:13,520
some common architectures because i

228
00:08:13,520 --> 00:08:15,520
think this this is helpful for us to

229
00:08:15,520 --> 00:08:16,720
understand

230
00:08:16,720 --> 00:08:20,080
so uh the there are

231
00:08:20,080 --> 00:08:21,680
different ways you can implement those

232
00:08:21,680 --> 00:08:23,840
those uh bots but

233
00:08:23,840 --> 00:08:25,840
you the way you see really see this is

234
00:08:25,840 --> 00:08:28,560
likewise in web sockets and web hooks

235
00:08:28,560 --> 00:08:31,599
uh you all see like a regular web base

236
00:08:31,599 --> 00:08:33,679
but it's very here right now because

237
00:08:33,679 --> 00:08:35,279
it's so it's so

238
00:08:35,279 --> 00:08:39,200
uh unresponsive and not very fast

239
00:08:39,200 --> 00:08:42,080
and like regular web base that is like

240
00:08:42,080 --> 00:08:42,880
you pretty much

241
00:08:42,880 --> 00:08:44,720
are searching uh you are looking at the

242
00:08:44,720 --> 00:08:46,880
page the page gets fresh at like

243
00:08:46,880 --> 00:08:49,200
every second two seconds per second and

244
00:08:49,200 --> 00:08:50,800
then you have the

245
00:08:50,800 --> 00:08:54,560
bot sensor there which is not really

246
00:08:54,560 --> 00:08:56,320
what we've seen today in terms of

247
00:08:56,320 --> 00:08:58,000
technology so web sockets is

248
00:08:58,000 --> 00:09:00,160
pretty much ruling those things and web

249
00:09:00,160 --> 00:09:01,440
hooks

250
00:09:01,440 --> 00:09:04,480
so and you have a mix between

251
00:09:04,480 --> 00:09:06,560
mix and http sometimes you send the

252
00:09:06,560 --> 00:09:08,640
requests over http

253
00:09:08,640 --> 00:09:11,200
and you receive the response through a

254
00:09:11,200 --> 00:09:12,959
webhook

255
00:09:12,959 --> 00:09:16,720
or a websocked right so you have

256
00:09:16,720 --> 00:09:19,200
two ways websocks you post message to a

257
00:09:19,200 --> 00:09:20,560
webhook waiting point

258
00:09:20,560 --> 00:09:22,720
endpoint and then you receive through a

259
00:09:22,720 --> 00:09:24,800
webhook endpoint so we'll go

260
00:09:24,800 --> 00:09:27,200
a little bit into this uh in the next

261
00:09:27,200 --> 00:09:28,560
slide

262
00:09:28,560 --> 00:09:31,279
so you pretty much there is a there is a

263
00:09:31,279 --> 00:09:31,839
different

264
00:09:31,839 --> 00:09:33,519
way of doing this you can use like

265
00:09:33,519 --> 00:09:36,160
pulling which you're constantly asking

266
00:09:36,160 --> 00:09:37,200
for updates

267
00:09:37,200 --> 00:09:40,160
right you are constantly uh uh asking

268
00:09:40,160 --> 00:09:41,040
for updates

269
00:09:41,040 --> 00:09:43,680
like is there an update yeah is there an

270
00:09:43,680 --> 00:09:44,959
update and i say no

271
00:09:44,959 --> 00:09:48,399
no no all day long if there isn't but

272
00:09:48,399 --> 00:09:50,399
at some point if you have an event that

273
00:09:50,399 --> 00:09:51,760
you are interested

274
00:09:51,760 --> 00:09:54,480
it will say yes there is here it is the

275
00:09:54,480 --> 00:09:56,080
the update

276
00:09:56,080 --> 00:09:58,959
but this this is a very expensive

277
00:09:58,959 --> 00:10:01,120
mechanism from that perspective and it

278
00:10:01,120 --> 00:10:02,880
is pretty hard to scale

279
00:10:02,880 --> 00:10:04,560
if you're implementing a corporate

280
00:10:04,560 --> 00:10:05,920
enterprise environment

281
00:10:05,920 --> 00:10:09,839
the web hook though your bot is only

282
00:10:09,839 --> 00:10:13,040
uh uh only receive the message

283
00:10:13,040 --> 00:10:15,839
when there is an event that i interested

284
00:10:15,839 --> 00:10:16,240
on

285
00:10:16,240 --> 00:10:18,160
so let's say you're about subscribed on

286
00:10:18,160 --> 00:10:19,360
any message

287
00:10:19,360 --> 00:10:21,519
so when you have an old message event on

288
00:10:21,519 --> 00:10:22,560
the platform

289
00:10:22,560 --> 00:10:24,880
you will receive a post post request and

290
00:10:24,880 --> 00:10:26,800
a web hook what is a web hook and

291
00:10:26,800 --> 00:10:29,760
web hook is just a end point that your

292
00:10:29,760 --> 00:10:30,320
bot

293
00:10:30,320 --> 00:10:33,040
has access to and it received data

294
00:10:33,040 --> 00:10:33,920
through it

295
00:10:33,920 --> 00:10:36,880
right uh so it's pretty much a web

296
00:10:36,880 --> 00:10:38,079
service

297
00:10:38,079 --> 00:10:40,720
endpoint that the platform is configured

298
00:10:40,720 --> 00:10:41,519
to call

299
00:10:41,519 --> 00:10:43,040
whenever there is a method that is

300
00:10:43,040 --> 00:10:44,720
interesting for you

301
00:10:44,720 --> 00:10:47,120
that's that's pretty much a webhook uh

302
00:10:47,120 --> 00:10:48,880
technology and then you also have web

303
00:10:48,880 --> 00:10:50,640
sockets websites pretty

304
00:10:50,640 --> 00:10:53,839
pretty neat as well uh you

305
00:10:53,839 --> 00:10:56,480
you see the implementation using either

306
00:10:56,480 --> 00:10:57,360
website

307
00:10:57,360 --> 00:10:59,760
web sucks for everything message control

308
00:10:59,760 --> 00:11:02,320
and also send and receive the message

309
00:11:02,320 --> 00:11:04,880
message control is like you know when

310
00:11:04,880 --> 00:11:07,040
somebody is typing another end

311
00:11:07,040 --> 00:11:09,680
or there are some signals that they send

312
00:11:09,680 --> 00:11:10,079
be

313
00:11:10,079 --> 00:11:12,399
in between two conversations in the chat

314
00:11:12,399 --> 00:11:14,880
that this is is there

315
00:11:14,880 --> 00:11:17,200
uh and also like the sequencing number

316
00:11:17,200 --> 00:11:19,360
id is to know which message comes first

317
00:11:19,360 --> 00:11:21,360
and organize those things and then the

318
00:11:21,360 --> 00:11:23,680
front-end glue together of those things

319
00:11:23,680 --> 00:11:25,200
and organize how it's gonna

320
00:11:25,200 --> 00:11:27,839
show and you have a mix of web socks in

321
00:11:27,839 --> 00:11:29,360
the way it's the proposed as i said

322
00:11:29,360 --> 00:11:30,160
before

323
00:11:30,160 --> 00:11:33,279
you send a message over i http post

324
00:11:33,279 --> 00:11:36,399
right to the channel uh using an api

325
00:11:36,399 --> 00:11:38,480
and then you pretty much receive message

326
00:11:38,480 --> 00:11:40,480
control and the actual message

327
00:11:40,480 --> 00:11:42,560
that that are in the chat you also bring

328
00:11:42,560 --> 00:11:44,800
it you receive it through the websock so

329
00:11:44,800 --> 00:11:46,800
this is another model

330
00:11:46,800 --> 00:11:49,519
so just to to fly through some uh

331
00:11:49,519 --> 00:11:50,480
weaknesses

332
00:11:50,480 --> 00:11:52,480
of the web hook and callback

333
00:11:52,480 --> 00:11:53,760
implementations

334
00:11:53,760 --> 00:11:56,000
so a web hook is supposed to be a kind

335
00:11:56,000 --> 00:11:58,000
of a web score url

336
00:11:58,000 --> 00:12:00,000
that you configure on the messaging

337
00:12:00,000 --> 00:12:02,240
platform so that this master platform

338
00:12:02,240 --> 00:12:04,480
you call your bot your website your

339
00:12:04,480 --> 00:12:05,600
endpoint

340
00:12:05,600 --> 00:12:09,600
um over the internet in order to

341
00:12:09,600 --> 00:12:11,600
uh deliver a message or whenever there

342
00:12:11,600 --> 00:12:13,279
is an event right

343
00:12:13,279 --> 00:12:17,360
uh so most of the time this is like a

344
00:12:17,360 --> 00:12:20,800
hidden world nobody's really

345
00:12:20,800 --> 00:12:22,839
should know about those things and and

346
00:12:22,839 --> 00:12:24,079
therefore

347
00:12:24,079 --> 00:12:26,399
nobody reach out to it because it does

348
00:12:26,399 --> 00:12:28,320
they don't know so there is an obscurity

349
00:12:28,320 --> 00:12:29,760
there that you expect that

350
00:12:29,760 --> 00:12:31,600
okay nobody knows israel nobody's going

351
00:12:31,600 --> 00:12:32,959
to reheat it

352
00:12:32,959 --> 00:12:35,279
but that's probably not the case most of

353
00:12:35,279 --> 00:12:36,160
the time

354
00:12:36,160 --> 00:12:38,560
so you do configure this role with

355
00:12:38,560 --> 00:12:40,320
whatever it requires and then it send

356
00:12:40,320 --> 00:12:42,240
the post data to our web hook

357
00:12:42,240 --> 00:12:44,399
uh every time there is a message that

358
00:12:44,399 --> 00:12:46,800
your bot is subscribed to

359
00:12:46,800 --> 00:12:51,040
then we from weakness perspective we see

360
00:12:51,040 --> 00:12:53,519
things like no authentication and

361
00:12:53,519 --> 00:12:54,639
international acts

362
00:12:54,639 --> 00:12:58,399
accessible debug enabled and i like

363
00:12:58,399 --> 00:13:00,160
and other things like node boundary

364
00:13:00,160 --> 00:13:02,720
restrictions and cache all those things

365
00:13:02,720 --> 00:13:04,800
contribute to expose this

366
00:13:04,800 --> 00:13:08,000
this this uh um this this web hook

367
00:13:08,000 --> 00:13:10,720
right because it's a endpoint some

368
00:13:10,720 --> 00:13:13,120
platforms do not require authentication

369
00:13:13,120 --> 00:13:14,800
they just suggest you

370
00:13:14,800 --> 00:13:17,519
to protect the vip address and say put a

371
00:13:17,519 --> 00:13:18,240
fire in

372
00:13:18,240 --> 00:13:20,079
and don't accept any connection to the

373
00:13:20,079 --> 00:13:21,920
xerol if you're not coming through

374
00:13:21,920 --> 00:13:25,360
from our ip address may work uh

375
00:13:25,360 --> 00:13:27,680
but there is some you know it's a

376
00:13:27,680 --> 00:13:29,680
suggestion there is no enforcement

377
00:13:29,680 --> 00:13:31,600
from the messaging platform for you to

378
00:13:31,600 --> 00:13:34,240
do it you do if you want to right

379
00:13:34,240 --> 00:13:36,959
internet accessible is is like if you if

380
00:13:36,959 --> 00:13:38,160
you have this open up

381
00:13:38,160 --> 00:13:41,279
open it up on the to the internet it you

382
00:13:41,279 --> 00:13:41,920
may

383
00:13:41,920 --> 00:13:44,079
be you can be reached for it by anyone

384
00:13:44,079 --> 00:13:45,760
and if you don't have authentication

385
00:13:45,760 --> 00:13:47,600
it's open to the internet

386
00:13:47,600 --> 00:13:50,800
well you can be your your your bot can

387
00:13:50,800 --> 00:13:51,600
be attacked

388
00:13:51,600 --> 00:13:54,240
right essentially the bot can receive a

389
00:13:54,240 --> 00:13:54,959
message

390
00:13:54,959 --> 00:13:58,079
from anyone on the internet uh

391
00:13:58,079 --> 00:14:00,480
pretty much that's it without going

392
00:14:00,480 --> 00:14:02,560
through the mastering platform

393
00:14:02,560 --> 00:14:04,720
if the bug is enabled that makes the

394
00:14:04,720 --> 00:14:06,800
life very easy if you get a

395
00:14:06,800 --> 00:14:09,920
some a very like a lot of debug when you

396
00:14:09,920 --> 00:14:11,519
send a post request they will

397
00:14:11,519 --> 00:14:13,440
regurgitate all the the

398
00:14:13,440 --> 00:14:15,279
fields and things that is wrong are

399
00:14:15,279 --> 00:14:17,440
missing that that helps a lot

400
00:14:17,440 --> 00:14:20,320
and at potential attacking potential

401
00:14:20,320 --> 00:14:22,320
autobiographies restriction helps when

402
00:14:22,320 --> 00:14:24,000
you have like a soft uh

403
00:14:24,000 --> 00:14:26,880
ssrf like server side requests for your

404
00:14:26,880 --> 00:14:29,199
vulnerability so that makes the life of

405
00:14:29,199 --> 00:14:31,040
attackers much easier as well

406
00:14:31,040 --> 00:14:32,800
and of course like things like obvious

407
00:14:32,800 --> 00:14:35,199
names and exit caches and

408
00:14:35,199 --> 00:14:38,639
search engine engines are help you to

409
00:14:38,639 --> 00:14:41,199
spot those things on like in search on

410
00:14:41,199 --> 00:14:43,680
google bing index like that

411
00:14:43,680 --> 00:14:45,600
right so all those things make makes

412
00:14:45,600 --> 00:14:47,120
your or your

413
00:14:47,120 --> 00:14:50,880
web hook more exposed and vulnerable

414
00:14:50,880 --> 00:14:53,360
so when we're attacking those things and

415
00:14:53,360 --> 00:14:54,800
talking about sticky from the secure

416
00:14:54,800 --> 00:14:55,279
test

417
00:14:55,279 --> 00:14:58,560
the testing perspective

418
00:14:59,040 --> 00:15:00,800
when you're testing a regular web

419
00:15:00,800 --> 00:15:02,079
application still

420
00:15:02,079 --> 00:15:04,560
you're really really dealing with a

421
00:15:04,560 --> 00:15:05,199
request

422
00:15:05,199 --> 00:15:08,000
response sometimes web socket and then

423
00:15:08,000 --> 00:15:09,600
it goes a little bit

424
00:15:09,600 --> 00:15:12,959
different there as well but essentially

425
00:15:12,959 --> 00:15:14,959
when you talk about all those bots you

426
00:15:14,959 --> 00:15:16,800
have all sort of different

427
00:15:16,800 --> 00:15:19,839
schemas technology protocols and

428
00:15:19,839 --> 00:15:21,920
things that happens inside that you need

429
00:15:21,920 --> 00:15:23,360
to be aware

430
00:15:23,360 --> 00:15:26,240
even to send off one request if you want

431
00:15:26,240 --> 00:15:27,279
to customize

432
00:15:27,279 --> 00:15:30,560
one request or one message to be posted

433
00:15:30,560 --> 00:15:33,759
to the the the messaging platform you

434
00:15:33,759 --> 00:15:35,440
need to deal with those things

435
00:15:35,440 --> 00:15:38,320
like i'm just uh mentioning a few of

436
00:15:38,320 --> 00:15:38,639
them

437
00:15:38,639 --> 00:15:40,720
things like mt prot that needs to be

438
00:15:40,720 --> 00:15:41,839
handled on the

439
00:15:41,839 --> 00:15:45,120
on the telegram side which is a not

440
00:15:45,120 --> 00:15:48,240
it's not http based protocol you need to

441
00:15:48,240 --> 00:15:49,440
tackle this

442
00:15:49,440 --> 00:15:51,920
and other stuff that happens there even

443
00:15:51,920 --> 00:15:53,440
id serialization

444
00:15:53,440 --> 00:15:56,800
it hm message has a one id a different

445
00:15:56,800 --> 00:15:58,639
id that you need to make sure you are in

446
00:15:58,639 --> 00:15:59,360
sync

447
00:15:59,360 --> 00:16:01,120
otherwise your message is going to be

448
00:16:01,120 --> 00:16:03,040
ignored so there are a lot of things

449
00:16:03,040 --> 00:16:05,279
uh a synchronous of course you send a

450
00:16:05,279 --> 00:16:06,880
message there is no guarantee that it's

451
00:16:06,880 --> 00:16:08,399
coming back

452
00:16:08,399 --> 00:16:11,680
that's one secondly if the message

453
00:16:11,680 --> 00:16:12,480
coming back

454
00:16:12,480 --> 00:16:14,240
it doesn't come back in the same

455
00:16:14,240 --> 00:16:16,160
response it comes back

456
00:16:16,160 --> 00:16:18,560
in form of other things like it comes

457
00:16:18,560 --> 00:16:20,480
through a web socket or things like that

458
00:16:20,480 --> 00:16:21,440
so it's not

459
00:16:21,440 --> 00:16:23,199
the same as testing a regular

460
00:16:23,199 --> 00:16:25,519
application rating limit is

461
00:16:25,519 --> 00:16:28,079
like but those platforms in forests are

462
00:16:28,079 --> 00:16:29,759
limiting the number of master that you

463
00:16:29,759 --> 00:16:30,639
send

464
00:16:30,639 --> 00:16:32,880
how fast you send and all those things

465
00:16:32,880 --> 00:16:34,959
and you can get your account banned if

466
00:16:34,959 --> 00:16:35,279
you

467
00:16:35,279 --> 00:16:39,040
go too fast too soon um

468
00:16:39,040 --> 00:16:41,279
another thing to to interesting that you

469
00:16:41,279 --> 00:16:42,800
need to consider is like understand the

470
00:16:42,800 --> 00:16:45,040
rules of engagement because

471
00:16:45,040 --> 00:16:46,399
this is important when you try to

472
00:16:46,399 --> 00:16:48,160
automate tests and i think

473
00:16:48,160 --> 00:16:50,639
the it bounced out to be the case here

474
00:16:50,639 --> 00:16:52,560
or talk about most of the how can

475
00:16:52,560 --> 00:16:55,279
automate tax again those bots

476
00:16:55,279 --> 00:16:58,079
um and penetrate tools and techniques

477
00:16:58,079 --> 00:16:59,920
that we use in other words

478
00:16:59,920 --> 00:17:03,360
here inside this one and things like

479
00:17:03,360 --> 00:17:05,679
bot versus bot is something that you're

480
00:17:05,679 --> 00:17:07,359
not supposed to do in telegram

481
00:17:07,359 --> 00:17:10,959
right not supposed to do and uh uh and

482
00:17:10,959 --> 00:17:12,319
is lack is fine

483
00:17:12,319 --> 00:17:14,640
so these things you need to consider

484
00:17:14,640 --> 00:17:16,640
when target a bot

485
00:17:16,640 --> 00:17:18,400
what is the situation which are the

486
00:17:18,400 --> 00:17:19,839
rules of engagement

487
00:17:19,839 --> 00:17:22,959
how should i proceed

488
00:17:22,959 --> 00:17:25,119
so from attacking approach perspective

489
00:17:25,119 --> 00:17:27,199
you have like manual tests on message

490
00:17:27,199 --> 00:17:28,160
from

491
00:17:28,160 --> 00:17:30,720
which is fine but the focus here really

492
00:17:30,720 --> 00:17:32,559
is on the trying to automate those

493
00:17:32,559 --> 00:17:33,520
things

494
00:17:33,520 --> 00:17:36,640
right uh manual test is fine you go to

495
00:17:36,640 --> 00:17:37,760
web chat and just

496
00:17:37,760 --> 00:17:40,880
start typing things you know like normal

497
00:17:40,880 --> 00:17:42,400
pattern person do

498
00:17:42,400 --> 00:17:44,720
and you can do this as that but the

499
00:17:44,720 --> 00:17:46,000
automation is like

500
00:17:46,000 --> 00:17:48,320
the challenge here and automated attacks

501
00:17:48,320 --> 00:17:50,320
on the web front end you can do using

502
00:17:50,320 --> 00:17:51,120
things like

503
00:17:51,120 --> 00:17:53,600
selenium or cypress cypress is very

504
00:17:53,600 --> 00:17:54,960
powerful now

505
00:17:54,960 --> 00:17:58,160
to to to perform uh end-to-end tests

506
00:17:58,160 --> 00:18:00,400
and you can divert this and use for

507
00:18:00,400 --> 00:18:02,720
security as well

508
00:18:02,720 --> 00:18:05,679
um which you use a web front end so all

509
00:18:05,679 --> 00:18:07,039
those those

510
00:18:07,039 --> 00:18:09,679
uh messaging platforms they do have web

511
00:18:09,679 --> 00:18:10,720
from 10 today it's

512
00:18:10,720 --> 00:18:12,960
it's not really common to see one that

513
00:18:12,960 --> 00:18:14,320
doesn't have

514
00:18:14,320 --> 00:18:16,320
make use of the message platform client

515
00:18:16,320 --> 00:18:18,320
api some of those platforms

516
00:18:18,320 --> 00:18:21,679
provide you with a client api to empower

517
00:18:21,679 --> 00:18:23,360
you to create your own client you can

518
00:18:23,360 --> 00:18:24,799
use this api

519
00:18:24,799 --> 00:18:27,039
to interact with the flat platform and

520
00:18:27,039 --> 00:18:28,080
say that you

521
00:18:28,080 --> 00:18:31,200
are building a security client

522
00:18:31,200 --> 00:18:33,840
tool with scanner whatever to test

523
00:18:33,840 --> 00:18:35,919
applications for this platform

524
00:18:35,919 --> 00:18:39,200
uh use a bot to test your

525
00:18:39,200 --> 00:18:41,600
target bot so it's a bot talking to

526
00:18:41,600 --> 00:18:42,720
another bot

527
00:18:42,720 --> 00:18:45,440
it's a very interesting approach as well

528
00:18:45,440 --> 00:18:46,720
the idea is

529
00:18:46,720 --> 00:18:49,440
to automate certain task criterias and

530
00:18:49,440 --> 00:18:49,919
then

531
00:18:49,919 --> 00:18:52,559
add those two bots to the same room and

532
00:18:52,559 --> 00:18:54,400
land one test another one

533
00:18:54,400 --> 00:18:56,799
right that that's one approach as well

534
00:18:56,799 --> 00:18:58,320
create a wrapper uh

535
00:18:58,320 --> 00:19:00,880
around the api to allow other security

536
00:19:00,880 --> 00:19:02,799
bots penetrate the masking platform

537
00:19:02,799 --> 00:19:06,000
and read the bot that's very challenge

538
00:19:06,000 --> 00:19:09,520
so my my suggestion is

539
00:19:09,520 --> 00:19:12,160
it's you you need to mock things up to

540
00:19:12,160 --> 00:19:12,960
make some

541
00:19:12,960 --> 00:19:15,679
response reliable and needs to be

542
00:19:15,679 --> 00:19:16,799
customized for

543
00:19:16,799 --> 00:19:19,840
every single test

544
00:19:19,840 --> 00:19:21,760
that you're going to perform against a

545
00:19:21,760 --> 00:19:22,960
certain target

546
00:19:22,960 --> 00:19:25,039
so you cannot just okay let's just wrap

547
00:19:25,039 --> 00:19:26,000
it and run it

548
00:19:26,000 --> 00:19:28,080
it's not going to happen there's a lot

549
00:19:28,080 --> 00:19:29,760
of tuning there

550
00:19:29,760 --> 00:19:31,840
especially when you were trying to use

551
00:19:31,840 --> 00:19:33,440
some time based

552
00:19:33,440 --> 00:19:36,559
payloads which might not work most of

553
00:19:36,559 --> 00:19:37,360
the time

554
00:19:37,360 --> 00:19:40,640
so and generate false policies uh

555
00:19:40,640 --> 00:19:42,960
okay another things to consider is like

556
00:19:42,960 --> 00:19:45,039
regular web security scans may not find

557
00:19:45,039 --> 00:19:46,240
anything upfront

558
00:19:46,240 --> 00:19:49,280
the same reason is a lot of you first of

559
00:19:49,280 --> 00:19:49,600
all

560
00:19:49,600 --> 00:19:51,760
track the response based on the request

561
00:19:51,760 --> 00:19:53,039
is challenging

562
00:19:53,039 --> 00:19:55,360
uh it does requires fine-tuning you need

563
00:19:55,360 --> 00:19:56,400
to check things

564
00:19:56,400 --> 00:19:58,559
i said in the slide before you have

565
00:19:58,559 --> 00:19:59,440
things like

566
00:19:59,440 --> 00:20:01,840
the ids and you know sequence you need

567
00:20:01,840 --> 00:20:03,280
to control all those

568
00:20:03,280 --> 00:20:06,320
those variables in order to have your

569
00:20:06,320 --> 00:20:08,640
message accepted by the messaging

570
00:20:08,640 --> 00:20:09,360
platform

571
00:20:09,360 --> 00:20:12,880
and flows through and reach out to your

572
00:20:12,880 --> 00:20:13,600
bot so

573
00:20:13,600 --> 00:20:15,919
be aware of those things as i said

574
00:20:15,919 --> 00:20:17,919
earlier time-based payloads

575
00:20:17,919 --> 00:20:19,600
may generate a tons of false policy

576
00:20:19,600 --> 00:20:21,679
because this is an asynchronous word

577
00:20:21,679 --> 00:20:23,440
and there are synchronous words you send

578
00:20:23,440 --> 00:20:25,120
something you may

579
00:20:25,120 --> 00:20:28,080
get something now as i answer you may

580
00:20:28,080 --> 00:20:28,720
not

581
00:20:28,720 --> 00:20:30,400
or you may receive in a different

582
00:20:30,400 --> 00:20:31,919
channel so

583
00:20:31,919 --> 00:20:36,480
the outcome of the method that you send

584
00:20:36,480 --> 00:20:39,600
it's not always as you expect and if and

585
00:20:39,600 --> 00:20:40,960
if there is an errands

586
00:20:40,960 --> 00:20:43,360
on answer you don't know is there so you

587
00:20:43,360 --> 00:20:44,240
don't know if

588
00:20:44,240 --> 00:20:47,679
a error occur

589
00:20:47,679 --> 00:20:50,960
you don't know if uh something

590
00:20:50,960 --> 00:20:53,600
you know went wrong or if just decide to

591
00:20:53,600 --> 00:20:55,360
not reply to you

592
00:20:55,360 --> 00:20:57,520
or if it was something that got lost in

593
00:20:57,520 --> 00:20:59,440
the middle so it's it's hard to track

594
00:20:59,440 --> 00:21:00,960
the answers there

595
00:21:00,960 --> 00:21:02,880
that's pretty much the synchronous prior

596
00:21:02,880 --> 00:21:04,320
time right the still response time is

597
00:21:04,320 --> 00:21:05,919
not constant i was getting ahead of

598
00:21:05,919 --> 00:21:07,520
myself but that's pretty much

599
00:21:07,520 --> 00:21:09,919
it payloads may have response sometime

600
00:21:09,919 --> 00:21:10,640
later

601
00:21:10,640 --> 00:21:13,440
right debug message hardly go back to

602
00:21:13,440 --> 00:21:15,200
the user and that's important because if

603
00:21:15,200 --> 00:21:16,799
you're testing about our integration

604
00:21:16,799 --> 00:21:17,840
application

605
00:21:17,840 --> 00:21:21,520
it there is like the developers and they

606
00:21:21,520 --> 00:21:23,520
need to be very creative

607
00:21:23,520 --> 00:21:27,120
to like to send back an error message

608
00:21:27,120 --> 00:21:28,640
from database

609
00:21:28,640 --> 00:21:32,240
to a chat a platform

610
00:21:32,240 --> 00:21:34,720
in the chat room it's they have to be

611
00:21:34,720 --> 00:21:36,559
like very creative

612
00:21:36,559 --> 00:21:39,679
so it requires a lot of effort to do it

613
00:21:39,679 --> 00:21:41,200
i mean

614
00:21:41,200 --> 00:21:45,919
this needs to be very creative let's see

615
00:21:45,919 --> 00:21:47,919
so analyze how this this is very

616
00:21:47,919 --> 00:21:50,159
important to analyze what the bots do so

617
00:21:50,159 --> 00:21:52,559
if you have a target a bot as a target

618
00:21:52,559 --> 00:21:55,120
you need to analyze how this bot

619
00:21:55,120 --> 00:21:56,400
interacts with people

620
00:21:56,400 --> 00:21:59,520
bots and other chat like if it

621
00:21:59,520 --> 00:22:02,559
mention users when replying or if need

622
00:22:02,559 --> 00:22:03,679
to be mentioning

623
00:22:03,679 --> 00:22:05,600
when you're sending some when you send

624
00:22:05,600 --> 00:22:06,799
some message

625
00:22:06,799 --> 00:22:08,400
right you need to understand what's the

626
00:22:08,400 --> 00:22:10,000
entry point

627
00:22:10,000 --> 00:22:12,000
when i send a message to this chat does

628
00:22:12,000 --> 00:22:13,760
this bot just pick it up and do

629
00:22:13,760 --> 00:22:14,480
something

630
00:22:14,480 --> 00:22:16,640
or i need to engage the bots say hey but

631
00:22:16,640 --> 00:22:18,559
does this to me and things like that

632
00:22:18,559 --> 00:22:20,240
because that will drive the

633
00:22:20,240 --> 00:22:23,360
your model's operands in your attack

634
00:22:23,360 --> 00:22:25,679
those it is commands so it's very common

635
00:22:25,679 --> 00:22:26,720
to see things like

636
00:22:26,720 --> 00:22:30,080
slash something liking you know discord

637
00:22:30,080 --> 00:22:31,919
even in the old

638
00:22:31,919 --> 00:22:35,440
irc which was very common to use there

639
00:22:35,440 --> 00:22:38,960
uh interesting thing is can i add my bot

640
00:22:38,960 --> 00:22:40,159
to the same channel

641
00:22:40,159 --> 00:22:43,280
or i can i i add the bot to

642
00:22:43,280 --> 00:22:46,480
my own channel so those things may may

643
00:22:46,480 --> 00:22:47,200
play

644
00:22:47,200 --> 00:22:49,760
around my strategy to see what how to

645
00:22:49,760 --> 00:22:51,520
best approach

646
00:22:51,520 --> 00:22:54,960
this this target so make sure

647
00:22:54,960 --> 00:22:57,280
you reach the bot with the intended

648
00:22:57,280 --> 00:22:58,720
payload

649
00:22:58,720 --> 00:23:01,200
you send a payload you need to make sure

650
00:23:01,200 --> 00:23:02,559
it's not getting butchered in the

651
00:23:02,559 --> 00:23:03,440
between

652
00:23:03,440 --> 00:23:06,000
sometimes it does happen so you need to

653
00:23:06,000 --> 00:23:08,000
check if the platform you're testing is

654
00:23:08,000 --> 00:23:09,919
not restricting certain types of

655
00:23:09,919 --> 00:23:11,360
characters

656
00:23:11,360 --> 00:23:15,200
it it's tricky sometimes because

657
00:23:15,200 --> 00:23:16,960
you need to understand if you're using a

658
00:23:16,960 --> 00:23:19,280
high level api for example the api might

659
00:23:19,280 --> 00:23:20,960
be throwing errors without even

660
00:23:20,960 --> 00:23:22,480
communicate to the backend so you need

661
00:23:22,480 --> 00:23:24,640
to determine if it is api or it's a back

662
00:23:24,640 --> 00:23:25,200
end

663
00:23:25,200 --> 00:23:26,880
where the validation happens things like

664
00:23:26,880 --> 00:23:28,480
that so

665
00:23:28,480 --> 00:23:31,200
that's kind of a trick and need to debug

666
00:23:31,200 --> 00:23:32,240
debug

667
00:23:32,240 --> 00:23:34,080
and follow rules and protocols required

668
00:23:34,080 --> 00:23:36,880
by the platform so as i said you are

669
00:23:36,880 --> 00:23:40,000
playing with somebody else's rules

670
00:23:40,000 --> 00:23:43,360
in order to to reach out to the target

671
00:23:43,360 --> 00:23:45,919
bot so if you don't do this correctly

672
00:23:45,919 --> 00:23:47,840
it will zap your communication to the

673
00:23:47,840 --> 00:23:48,960
bot and you will not

674
00:23:48,960 --> 00:23:51,279
read the bot so you need to have that in

675
00:23:51,279 --> 00:23:52,080
mind

676
00:23:52,080 --> 00:23:54,480
that there is a middleman there um

677
00:23:54,480 --> 00:23:55,520
taking the message

678
00:23:55,520 --> 00:23:57,919
and looking to what's going on

679
00:23:57,919 --> 00:23:59,840
protections may be in place so

680
00:23:59,840 --> 00:24:01,679
web application fire could be protecting

681
00:24:01,679 --> 00:24:03,840
the web hooks that's that's an approach

682
00:24:03,840 --> 00:24:05,360
that's an interesting approach you can

683
00:24:05,360 --> 00:24:06,400
have it there

684
00:24:06,400 --> 00:24:09,360
ips maybe come protect the communication

685
00:24:09,360 --> 00:24:10,720
from to the target bot

686
00:24:10,720 --> 00:24:13,200
as well doing some sort of ssl of

687
00:24:13,200 --> 00:24:14,080
loading and

688
00:24:14,080 --> 00:24:16,880
you know tap into the communication

689
00:24:16,880 --> 00:24:18,080
target bot might not

690
00:24:18,080 --> 00:24:20,559
interact with other bots so this happens

691
00:24:20,559 --> 00:24:22,720
if some platforms don't allow it

692
00:24:22,720 --> 00:24:25,600
but when it is allowed the developers

693
00:24:25,600 --> 00:24:26,240
choose to

694
00:24:26,240 --> 00:24:28,400
not talk to other bots in order to

695
00:24:28,400 --> 00:24:29,440
protect from

696
00:24:29,440 --> 00:24:32,559
spawn spans and things like that right

697
00:24:32,559 --> 00:24:34,559
from attack perspective so let's see the

698
00:24:34,559 --> 00:24:36,720
exploit opportunities of course

699
00:24:36,720 --> 00:24:39,919
once you pursue this veil you

700
00:24:39,919 --> 00:24:41,679
have other possible all the

701
00:24:41,679 --> 00:24:43,360
possibilities are in the table right

702
00:24:43,360 --> 00:24:46,640
file uploading processing is very common

703
00:24:46,640 --> 00:24:49,919
among uh bot applications so you see

704
00:24:49,919 --> 00:24:50,880
those things

705
00:24:50,880 --> 00:24:52,480
all the time bots having these

706
00:24:52,480 --> 00:24:54,559
functionalities url

707
00:24:54,559 --> 00:24:58,000
parsers and ssrf attacks well pretty

708
00:24:58,000 --> 00:24:58,480
much

709
00:24:58,480 --> 00:25:01,200
if you look at the presentation uh which

710
00:25:01,200 --> 00:25:01,679
is like

711
00:25:01,679 --> 00:25:04,880
make it make ssr a great again from

712
00:25:04,880 --> 00:25:07,520
from the past conference you see how

713
00:25:07,520 --> 00:25:09,600
many possibilities there are there

714
00:25:09,600 --> 00:25:12,720
to bypass your past so they are

715
00:25:12,720 --> 00:25:15,919
all in the scope database interactions

716
00:25:15,919 --> 00:25:17,120
try to figure out which

717
00:25:17,120 --> 00:25:19,760
uh uh functionaries from the bot might

718
00:25:19,760 --> 00:25:20,880
be interacting with

719
00:25:20,880 --> 00:25:23,520
database there might have protection

720
00:25:23,520 --> 00:25:25,360
functions that it can automate inside

721
00:25:25,360 --> 00:25:26,559
brute force

722
00:25:26,559 --> 00:25:28,799
you know things like that enumeration

723
00:25:28,799 --> 00:25:31,120
and you have like reports been generated

724
00:25:31,120 --> 00:25:32,080
here and there

725
00:25:32,080 --> 00:25:34,880
integration with apis things like google

726
00:25:34,880 --> 00:25:36,640
docs and other things

727
00:25:36,640 --> 00:25:40,320
trying to uh modify documents remotely

728
00:25:40,320 --> 00:25:42,000
to include malicious code things

729
00:25:42,000 --> 00:25:45,120
like that can can be do and eventually

730
00:25:45,120 --> 00:25:46,880
get some remote code execution if you're

731
00:25:46,880 --> 00:25:47,760
lucky

732
00:25:47,760 --> 00:25:51,279
right so many possibilities there

733
00:25:51,279 --> 00:25:54,000
now uh i just want to touch base a

734
00:25:54,000 --> 00:25:55,120
little bit on this

735
00:25:55,120 --> 00:25:57,039
software developer site and automation

736
00:25:57,039 --> 00:25:58,240
which is kind of

737
00:25:58,240 --> 00:26:00,240
the point that i want to to get here is

738
00:26:00,240 --> 00:26:02,320
like secure automation through ci cds

739
00:26:02,320 --> 00:26:03,919
vibe line first of all

740
00:26:03,919 --> 00:26:06,240
those applications should have all those

741
00:26:06,240 --> 00:26:07,520
because this is not

742
00:26:07,520 --> 00:26:09,600
just a script as i said this is a actual

743
00:26:09,600 --> 00:26:11,520
application and you need to test this

744
00:26:11,520 --> 00:26:12,320
totally

745
00:26:12,320 --> 00:26:14,080
as you do with another web application

746
00:26:14,080 --> 00:26:15,360
or any other application

747
00:26:15,360 --> 00:26:19,279
right so that's if you have a assassin

748
00:26:19,279 --> 00:26:22,400
sca all those tools that cycle to in the

749
00:26:22,400 --> 00:26:23,679
pipeline

750
00:26:23,679 --> 00:26:26,080
go for it though though those will be

751
00:26:26,080 --> 00:26:27,360
very helpful

752
00:26:27,360 --> 00:26:30,000
now for dust if you're using like a

753
00:26:30,000 --> 00:26:30,640
dynamic

754
00:26:30,640 --> 00:26:33,279
uh scanner like uh you know burpio asps

755
00:26:33,279 --> 00:26:34,880
up things like that

756
00:26:34,880 --> 00:26:37,120
you may may need a little bit more you

757
00:26:37,120 --> 00:26:38,400
need to you may

758
00:26:38,400 --> 00:26:40,960
consider expose a web hook just for

759
00:26:40,960 --> 00:26:41,919
those tests

760
00:26:41,919 --> 00:26:44,480
uh to make sure input validation

761
00:26:44,480 --> 00:26:46,159
authentication those things are working

762
00:26:46,159 --> 00:26:47,279
properly and then

763
00:26:47,279 --> 00:26:49,520
you can actually test those either

764
00:26:49,520 --> 00:26:50,480
manually or

765
00:26:50,480 --> 00:26:53,919
scanning automatically use api or bots

766
00:26:53,919 --> 00:26:54,799
to test for

767
00:26:54,799 --> 00:26:57,919
uh and for secure checks known to be

768
00:26:57,919 --> 00:26:59,679
important if they're like

769
00:26:59,679 --> 00:27:01,520
things like you have unit test

770
00:27:01,520 --> 00:27:02,880
integration tests

771
00:27:02,880 --> 00:27:05,679
put there some customize the attached to

772
00:27:05,679 --> 00:27:06,880
pre-perform

773
00:27:06,880 --> 00:27:08,880
every every time again to make sure

774
00:27:08,880 --> 00:27:10,080
nobody

775
00:27:10,080 --> 00:27:11,600
put everyone at a bill like that like

776
00:27:11,600 --> 00:27:13,440
something very obvious and things like

777
00:27:13,440 --> 00:27:14,159
that

778
00:27:14,159 --> 00:27:16,640
so consider your cypress i wouldn't

779
00:27:16,640 --> 00:27:18,399
still any web drive is

780
00:27:18,399 --> 00:27:20,559
probably possible as well but cyprus is

781
00:27:20,559 --> 00:27:22,799
a very modern framework to test

782
00:27:22,799 --> 00:27:25,360
that like use it for for end-to-end

783
00:27:25,360 --> 00:27:26,240
tests and which

784
00:27:26,240 --> 00:27:28,960
is a is very good too consider that

785
00:27:28,960 --> 00:27:30,320
because you can use it

786
00:27:30,320 --> 00:27:33,520
against the web ui and you don't need to

787
00:27:33,520 --> 00:27:34,240
do

788
00:27:34,240 --> 00:27:36,480
anything else though you can use cypress

789
00:27:36,480 --> 00:27:38,480
with the web ui directly

790
00:27:38,480 --> 00:27:41,279
respect the limit f when automating

791
00:27:41,279 --> 00:27:43,200
otherwise your account can be banned

792
00:27:43,200 --> 00:27:45,440
blocked things like that don't don't go

793
00:27:45,440 --> 00:27:47,039
too

794
00:27:47,039 --> 00:27:49,760
fast against those those things uh keep

795
00:27:49,760 --> 00:27:51,440
in mind this is an external environment

796
00:27:51,440 --> 00:27:53,760
like an opv you don't have control over

797
00:27:53,760 --> 00:27:54,720
it

798
00:27:54,720 --> 00:27:58,159
and that's pretty much what i i i had

799
00:27:58,159 --> 00:28:01,200
for it before the demo so let me

800
00:28:01,200 --> 00:28:04,720
just uh quickly show a first demo

801
00:28:04,720 --> 00:28:08,240
this demo is um

802
00:28:08,240 --> 00:28:11,440
pretty much we have here

803
00:28:11,440 --> 00:28:14,480
two bots in the same room one bot

804
00:28:14,480 --> 00:28:16,799
implement a function which is zeus zeus

805
00:28:16,799 --> 00:28:19,120
is the bot that implement the function

806
00:28:19,120 --> 00:28:22,320
and and aton is the bot that's going to

807
00:28:22,320 --> 00:28:24,480
exploit this function on zeros

808
00:28:24,480 --> 00:28:27,600
so what you see here is lag open and now

809
00:28:27,600 --> 00:28:28,559
i just

810
00:28:28,559 --> 00:28:32,000
uh started zeus application and you can

811
00:28:32,000 --> 00:28:32,799
see

812
00:28:32,799 --> 00:28:35,520
slack calling the web hook on zeus

813
00:28:35,520 --> 00:28:36,320
sending

814
00:28:36,320 --> 00:28:39,120
a pretty much posting uh events that

815
00:28:39,120 --> 00:28:41,120
happened in his lack while the bot was

816
00:28:41,120 --> 00:28:42,000
offline

817
00:28:42,000 --> 00:28:43,600
which is pretty much those dogs that you

818
00:28:43,600 --> 00:28:45,440
can see there those dogs are pretty much

819
00:28:45,440 --> 00:28:46,559
been posted

820
00:28:46,559 --> 00:28:49,760
on this black and web who

821
00:28:49,760 --> 00:28:54,159
buys lag in our web hook and end points

822
00:28:54,159 --> 00:28:58,080
now let's just take a look how the zeus

823
00:28:58,080 --> 00:29:01,760
bot works what this does is you send

824
00:29:01,760 --> 00:29:04,559
a message like invoice and reference

825
00:29:04,559 --> 00:29:05,279
number

826
00:29:05,279 --> 00:29:07,919
and then zeus comes back saying that oh

827
00:29:07,919 --> 00:29:10,000
this is the company and this is the

828
00:29:10,000 --> 00:29:13,200
amount of this invoice that's pretty

829
00:29:13,200 --> 00:29:13,520
much

830
00:29:13,520 --> 00:29:16,720
just to to to to true it's just an

831
00:29:16,720 --> 00:29:18,480
example on how a

832
00:29:18,480 --> 00:29:21,120
a vulnerable application would work so

833
00:29:21,120 --> 00:29:22,720
in this case i have the number of

834
00:29:22,720 --> 00:29:24,159
invoice that is valid

835
00:29:24,159 --> 00:29:26,320
and it says just to demonstrate how it

836
00:29:26,320 --> 00:29:28,240
works so you have the name of the

837
00:29:28,240 --> 00:29:29,039
company

838
00:29:29,039 --> 00:29:32,080
and then you have the amount right so

839
00:29:32,080 --> 00:29:34,320
if we try to do a sql injection for

840
00:29:34,320 --> 00:29:35,760
example right because it's

841
00:29:35,760 --> 00:29:38,080
it's clear something that is bringing

842
00:29:38,080 --> 00:29:40,080
something from potentially a database

843
00:29:40,080 --> 00:29:43,440
or a web api but what what happens if

844
00:29:43,440 --> 00:29:45,760
you try to do a simple sql injection

845
00:29:45,760 --> 00:29:46,720
here

846
00:29:46,720 --> 00:29:49,840
if you look at the debug of processing

847
00:29:49,840 --> 00:29:50,880
on sales

848
00:29:50,880 --> 00:29:54,080
you see that uh the query are logged

849
00:29:54,080 --> 00:29:55,200
there just for

850
00:29:55,200 --> 00:29:56,799
for us to understand what's going on the

851
00:29:56,799 --> 00:29:58,799
back end and the first

852
00:29:58,799 --> 00:30:01,600
query it goes okay the second one though

853
00:30:01,600 --> 00:30:03,039
only shows one

854
00:30:03,039 --> 00:30:05,760
it doesn't show r1 it goes on that

855
00:30:05,760 --> 00:30:08,000
happens because it's very common on

856
00:30:08,000 --> 00:30:11,120
bots too uh in

857
00:30:11,120 --> 00:30:13,440
to ignore space no it's not at the

858
00:30:13,440 --> 00:30:14,399
ignores

859
00:30:14,399 --> 00:30:17,279
it pretty much splits every space is a

860
00:30:17,279 --> 00:30:18,559
new command

861
00:30:18,559 --> 00:30:20,799
or it's a new parameter sorry it's a new

862
00:30:20,799 --> 00:30:22,799
parameter for the command

863
00:30:22,799 --> 00:30:25,679
so invoice is the command one is the

864
00:30:25,679 --> 00:30:26,720
parameter

865
00:30:26,720 --> 00:30:28,960
right and r becomes another one that's

866
00:30:28,960 --> 00:30:30,720
why it's ignored everything because it

867
00:30:30,720 --> 00:30:31,200
takes

868
00:30:31,200 --> 00:30:34,480
just the first parameter now what we're

869
00:30:34,480 --> 00:30:35,360
gonna do is

870
00:30:35,360 --> 00:30:39,120
we will run aton atom has a few payloads

871
00:30:39,120 --> 00:30:41,600
sql injection payloads and it will try

872
00:30:41,600 --> 00:30:42,720
one by one

873
00:30:42,720 --> 00:30:45,600
to see what's going to happen first it

874
00:30:45,600 --> 00:30:46,399
send

875
00:30:46,399 --> 00:30:48,480
the baseline payload which is the one

876
00:30:48,480 --> 00:30:49,600
that is true

877
00:30:49,600 --> 00:30:52,000
and then initiate with six payloads and

878
00:30:52,000 --> 00:30:53,360
send one by one

879
00:30:53,360 --> 00:30:56,399
you can see on the zeus uh screen

880
00:30:56,399 --> 00:30:58,720
that there are many errors in the sql

881
00:30:58,720 --> 00:30:59,760
right my sequel

882
00:30:59,760 --> 00:31:02,399
is just throwing up the errors because

883
00:31:02,399 --> 00:31:03,039
those

884
00:31:03,039 --> 00:31:05,919
queries are reaching the bot and the bot

885
00:31:05,919 --> 00:31:07,919
just trying to execute the query so we

886
00:31:07,919 --> 00:31:09,919
are interfering the query

887
00:31:09,919 --> 00:31:14,159
until we so the atom as a bot send

888
00:31:14,159 --> 00:31:17,200
a string that actually

889
00:31:17,200 --> 00:31:20,320
pierce through and make sense for mysql

890
00:31:20,320 --> 00:31:21,200
and

891
00:31:21,200 --> 00:31:24,799
make the the bot uh print out all those

892
00:31:24,799 --> 00:31:27,039
those companies and their invoice

893
00:31:27,039 --> 00:31:28,240
amounts

894
00:31:28,240 --> 00:31:31,840
as you can see uh it it send one there

895
00:31:31,840 --> 00:31:33,279
is no response

896
00:31:33,279 --> 00:31:35,760
another there is no response no response

897
00:31:35,760 --> 00:31:36,799
no response

898
00:31:36,799 --> 00:31:39,600
but when i when we use and see only

899
00:31:39,600 --> 00:31:40,799
thing that we did

900
00:31:40,799 --> 00:31:43,039
the difference from payload one and the

901
00:31:43,039 --> 00:31:44,480
the the payload

902
00:31:44,480 --> 00:31:48,240
six in this case was that we use it

903
00:31:48,240 --> 00:31:51,679
instead of space we use comments on on

904
00:31:51,679 --> 00:31:54,799
in case of on mysql and then it went

905
00:31:54,799 --> 00:31:55,600
through

906
00:31:55,600 --> 00:31:58,320
and then of course we made the sql

907
00:31:58,320 --> 00:31:59,760
injection happen

908
00:31:59,760 --> 00:32:02,320
and the bot just printed everything that

909
00:32:02,320 --> 00:32:03,919
came back from the

910
00:32:03,919 --> 00:32:07,120
from the database so that's it

911
00:32:07,120 --> 00:32:10,480
a single injection between two apps on

912
00:32:10,480 --> 00:32:13,760
slack one bot attacking

913
00:32:13,760 --> 00:32:16,880
another bot pretty much on a slack

914
00:32:16,880 --> 00:32:19,760
now the next demo is uh this is telegram

915
00:32:19,760 --> 00:32:20,320
demo

916
00:32:20,320 --> 00:32:24,399
so telegram uh let's see how it goes but

917
00:32:24,399 --> 00:32:27,039
this is pretty much a registration code

918
00:32:27,039 --> 00:32:30,240
and we and we use a cli telegram client

919
00:32:30,240 --> 00:32:32,880
to attack telegram bot in order to

920
00:32:32,880 --> 00:32:34,399
enumerate the right

921
00:32:34,399 --> 00:32:37,679
registration code it sends

922
00:32:37,679 --> 00:32:40,559
a few codes just just to automate and

923
00:32:40,559 --> 00:32:42,480
show how the automation works

924
00:32:42,480 --> 00:32:45,039
and you can see that please verify it

925
00:32:45,039 --> 00:32:46,000
again

926
00:32:46,000 --> 00:32:48,320
invalid registration code over and over

927
00:32:48,320 --> 00:32:49,279
again

928
00:32:49,279 --> 00:32:52,480
until you get an actual code that

929
00:32:52,480 --> 00:32:54,880
works and in this case i know what to

930
00:32:54,880 --> 00:32:57,600
expect when it accepts

931
00:32:57,600 --> 00:33:01,039
but but at the same time i know what is

932
00:33:01,039 --> 00:33:02,080
not acceptable

933
00:33:02,080 --> 00:33:04,000
right i know the end her message so i

934
00:33:04,000 --> 00:33:06,159
can automate this process

935
00:33:06,159 --> 00:33:08,880
and make it happen so this very much

936
00:33:08,880 --> 00:33:10,000
this this tool is

937
00:33:10,000 --> 00:33:12,159
will be available on github by the time

938
00:33:12,159 --> 00:33:14,240
the presentation is up

939
00:33:14,240 --> 00:33:17,200
and this is the end of the presentation

940
00:33:17,200 --> 00:33:18,399
this is it

941
00:33:18,399 --> 00:33:20,399
thanks so much connect with us in the

942
00:33:20,399 --> 00:33:22,840
discord we'll be answering the any

943
00:33:22,840 --> 00:33:24,080
questions

944
00:33:24,080 --> 00:33:27,039
alright thank you

