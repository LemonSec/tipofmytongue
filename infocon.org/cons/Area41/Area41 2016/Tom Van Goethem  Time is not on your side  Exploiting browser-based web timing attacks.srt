1
00:00:06,899 --> 00:00:15,070
okay thanks all for waking up this early

2
00:00:11,799 --> 00:00:21,130
<font color="#E5E5E5">and going to see this talk and so the</font>

3
00:00:15,070 --> 00:00:24,849
talk is about well it's mostly<font color="#E5E5E5"> the</font>

4
00:00:21,130 --> 00:00:27,609
<font color="#CCCCCC">research that I did at my university so</font>

5
00:00:24,849 --> 00:00:32,200
I'm a PhD student at the University of

6
00:00:27,609 --> 00:00:34,780
Louisville in Belgium and there I do

7
00:00:32,200 --> 00:00:38,710
research on security<font color="#CCCCCC"> and privacy on the</font>

8
00:00:34,780 --> 00:00:43,750
web which is like a broad thing but

9
00:00:38,710 --> 00:00:46,060
mainly my current focus is on side

10
00:00:43,750 --> 00:00:51,840
channel text in the web and in<font color="#E5E5E5"> the</font>

11
00:00:46,060 --> 00:00:51,840
browser as<font color="#E5E5E5"> I will be talking about today</font>

12
00:00:51,870 --> 00:01:00,519
so the<font color="#E5E5E5"> concept of Dianetics is that</font>

13
00:00:57,490 --> 00:01:04,900
they're a type of psychoanalytic which

14
00:01:00,520 --> 00:01:07,420
means<font color="#CCCCCC"> that it's not a direct attack like</font>

15
00:01:04,900 --> 00:01:11,640
a sequel injection or something but you

16
00:01:07,420 --> 00:01:14,399
try to infer information based on

17
00:01:11,640 --> 00:01:18,429
observations that you make from the

18
00:01:14,399 --> 00:01:20,590
<font color="#E5E5E5">environment and all these attacks are</font>

19
00:01:18,429 --> 00:01:24,159
definitely not new they've been<font color="#E5E5E5"> known</font>

20
00:01:20,590 --> 00:01:28,090
for decades but<font color="#CCCCCC"> it's it was mainly</font>

21
00:01:24,159 --> 00:01:31,329
applied in cryptography and there it was

22
00:01:28,090 --> 00:01:34,420
used to retrieve a cryptographic keys or

23
00:01:31,329 --> 00:01:36,309
retrieve the message that was sent like

24
00:01:34,420 --> 00:01:41,380
while the encrypted message that was

25
00:01:36,310 --> 00:01:43,840
sent or<font color="#E5E5E5"> to exploit secure connections so</font>

26
00:01:41,380 --> 00:01:47,289
for<font color="#E5E5E5"> instance I think most of you have</font>

27
00:01:43,840 --> 00:01:51,819
heard<font color="#E5E5E5"> about this lucky 13 attack it's</font>

28
00:01:47,289 --> 00:01:54,780
also a type of timing attack so the

29
00:01:51,819 --> 00:01:58,600
<font color="#E5E5E5">concept of diuretics is pretty simple</font>

30
00:01:54,780 --> 00:02:02,049
first you perform an action which can be

31
00:01:58,600 --> 00:02:05,408
pretty much anything but of course based

32
00:02:02,049 --> 00:02:07,749
well the action<font color="#CCCCCC"> that you</font><font color="#E5E5E5"> do or make is</font>

33
00:02:05,409 --> 00:02:10,000
of course based on the system<font color="#CCCCCC"> that</font>

34
00:02:07,749 --> 00:02:13,629
you're going<font color="#E5E5E5"> to attack and then you</font>

35
00:02:10,000 --> 00:02:16,689
measure the time from a starting<font color="#E5E5E5"> point</font>

36
00:02:13,629 --> 00:02:19,450
until the end so that's something that

37
00:02:16,689 --> 00:02:21,489
you observe and then you

38
00:02:19,450 --> 00:02:24,040
compare or analyze this timing

39
00:02:21,489 --> 00:02:27,400
measurement with some other time your

40
00:02:24,040 --> 00:02:32,649
measurements or just<font color="#E5E5E5"> its absolute value</font>

41
00:02:27,400 --> 00:02:35,200
and then well you can exploit it so some

42
00:02:32,650 --> 00:02:37,690
time<font color="#E5E5E5"> ago I came up with</font><font color="#CCCCCC"> this new type of</font>

43
00:02:35,200 --> 00:02:41,140
timing<font color="#E5E5E5"> attic called the drunkenness</font>

44
00:02:37,690 --> 00:02:43,090
timing attack so in the drunkenness time

45
00:02:41,140 --> 00:02:46,720
<font color="#CCCCCC">in tech you try to determine whether</font>

46
00:02:43,090 --> 00:02:49,209
certain person is drunk or not so to do

47
00:02:46,720 --> 00:02:52,630
this you first perform an action so you

48
00:02:49,209 --> 00:02:56,440
slept the person in the face and then

49
00:02:52,630 --> 00:02:59,010
you measure the time it takes from the

50
00:02:56,440 --> 00:03:02,700
starting point so the slap in the face

51
00:02:59,010 --> 00:03:05,709
until that person slaps you back and

52
00:03:02,700 --> 00:03:08,768
well if he slips you back quite quickly

53
00:03:05,709 --> 00:03:11,980
or you can assume<font color="#CCCCCC"> that he's not drunk</font>

54
00:03:08,769 --> 00:03:17,500
and if it's it's a long time<font color="#E5E5E5"> the person</font>

55
00:03:11,980 --> 00:03:21,518
<font color="#E5E5E5">is drunk</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> course I well in my research</font>

56
00:03:17,500 --> 00:03:25,870
I like to do experiments so that's what

57
00:03:21,519 --> 00:03:28,959
I did so I have this test subject who

58
00:03:25,870 --> 00:03:34,000
wanted to remain anonymous but that

59
00:03:28,959 --> 00:03:36,819
didn't happen so it's much as balance so

60
00:03:34,000 --> 00:03:38,620
I went<font color="#E5E5E5"> to him and I was wondering well</font>

61
00:03:36,819 --> 00:03:42,429
it was like in<font color="#E5E5E5"> the middle of the day and</font>

62
00:03:38,620 --> 00:03:45,549
I was wondering whether he was drunk so

63
00:03:42,430 --> 00:03:49,900
I performed the drunkenness timing

64
00:03:45,549 --> 00:03:54,010
attack I went<font color="#E5E5E5"> to them and I slapped him</font>

65
00:03:49,900 --> 00:03:59,170
in the face and so that's when I start

66
00:03:54,010 --> 00:04:02,769
my timer so you see falls down and quite

67
00:03:59,170 --> 00:04:05,828
quickly he slaps me back and so it takes

68
00:04:02,769 --> 00:04:10,109
about three seconds before he slaps me

69
00:04:05,829 --> 00:04:13,359
back so is he drunk well probably not

70
00:04:10,109 --> 00:04:17,978
but of course that's<font color="#CCCCCC"> just one</font>

71
00:04:13,359 --> 00:04:20,139
measurement that we took so yeah in

72
00:04:17,978 --> 00:04:23,020
order to make<font color="#CCCCCC"> sure</font><font color="#E5E5E5"> that this time a tech</font>

73
00:04:20,139 --> 00:04:24,880
actually works we need to do<font color="#CCCCCC"> another</font>

74
00:04:23,020 --> 00:04:28,030
timing measurement and they're

75
00:04:24,880 --> 00:04:32,449
preferably not just would<font color="#E5E5E5"> be drunk so</font>

76
00:04:28,030 --> 00:04:36,498
then I gave him some nice Belgian beers

77
00:04:32,449 --> 00:04:39,319
and after a few<font color="#E5E5E5"> minutes or because he</font>

78
00:04:36,499 --> 00:04:42,279
can't<font color="#E5E5E5"> really hold this liquor he was</font>

79
00:04:39,319 --> 00:04:47,689
drunk so I knew he was drunk so I

80
00:04:42,279 --> 00:04:53,409
performed the timing attack again so I

81
00:04:47,689 --> 00:04:58,309
go to<font color="#E5E5E5"> him and I slap him in the face and</font>

82
00:04:53,409 --> 00:05:01,729
then again i start my timer and now you

83
00:04:58,309 --> 00:05:05,240
see he has trouble<font color="#CCCCCC"> getting up so it</font>

84
00:05:01,729 --> 00:05:09,050
takes quite a while till the end yeah<font color="#E5E5E5"> it</font>

85
00:05:05,240 --> 00:05:12,620
slaps me back so it's like eight seconds

86
00:05:09,050 --> 00:05:16,969
so again the question is much<font color="#E5E5E5"> as drunk</font>

87
00:05:12,620 --> 00:05:19,400
well yes and that's because<font color="#E5E5E5"> the second</font>

88
00:05:16,969 --> 00:05:22,270
timing measurement was significantly

89
00:05:19,400 --> 00:05:25,549
higher<font color="#CCCCCC"> than</font><font color="#E5E5E5"> the first timing measurement</font>

90
00:05:22,270 --> 00:05:28,938
so basically<font color="#E5E5E5"> that's how timing attacks</font>

91
00:05:25,550 --> 00:05:31,309
work<font color="#E5E5E5"> and so with the drunkenness timing</font>

92
00:05:28,939 --> 00:05:36,259
attack the response time of the user or

93
00:05:31,309 --> 00:05:40,189
the victim relates to its well the

94
00:05:36,259 --> 00:05:44,120
person's drunkenness and<font color="#CCCCCC"> the same goes</font>

95
00:05:40,189 --> 00:05:46,849
for while recovering a cryptographic key

96
00:05:44,120 --> 00:05:49,279
so there<font color="#CCCCCC"> you measure the time it takes</font>

97
00:05:46,849 --> 00:05:51,560
to execute something and the time it

98
00:05:49,279 --> 00:05:54,050
takes<font color="#E5E5E5"> is related to whether a certain</font>

99
00:05:51,560 --> 00:05:57,560
bit of the key or the message<font color="#E5E5E5"> it's one</font>

100
00:05:54,050 --> 00:06:00,529
or zero and the same<font color="#CCCCCC"> thing goes for the</font>

101
00:05:57,560 --> 00:06:02,839
lucky 13 attack so there<font color="#CCCCCC"> you measure the</font>

102
00:06:00,529 --> 00:06:04,580
time it takes until you receive a TLS

103
00:06:02,839 --> 00:06:08,719
error and that gives you some

104
00:06:04,580 --> 00:06:12,680
information about whether the padding of

105
00:06:08,719 --> 00:06:16,520
the encrypted thing was correct and

106
00:06:12,680 --> 00:06:22,219
knowing that allows you to retrieve the

107
00:06:16,520 --> 00:06:25,370
message that was sent and then there<font color="#CCCCCC"> are</font>

108
00:06:22,219 --> 00:06:32,659
the<font color="#CCCCCC"> web-based Dianetics which will be</font>

109
00:06:25,370 --> 00:06:34,849
the main<font color="#CCCCCC"> focus of today so these</font>

110
00:06:32,659 --> 00:06:39,469
web-based I'm ethics they're also not

111
00:06:34,849 --> 00:06:44,688
new they've been known for a very long

112
00:06:39,469 --> 00:06:45,950
time so since 2002 give you an ID how

113
00:06:44,689 --> 00:06:50,270
long this is

114
00:06:45,950 --> 00:06:53,120
so in 1995 cookies were first introduced

115
00:06:50,270 --> 00:06:55,909
so five years after cookies were

116
00:06:53,120 --> 00:07:00,830
introduced and all they weren't<font color="#E5E5E5"> widely</font>

117
00:06:55,910 --> 00:07:05,060
used for some years<font color="#E5E5E5"> after that</font><font color="#CCCCCC"> timing</font>

118
00:07:00,830 --> 00:07:08,900
<font color="#CCCCCC">attacks had already been discovered and</font>

119
00:07:05,060 --> 00:07:14,000
then a bit later on there were some more

120
00:07:08,900 --> 00:07:20,270
advanced text like this nice thing by

121
00:07:14,000 --> 00:07:23,750
paul stone very good<font color="#CCCCCC"> read out of well</font>

122
00:07:20,270 --> 00:07:28,400
the value of a certain pixel in an

123
00:07:23,750 --> 00:07:33,290
iframe by adding a sweetie and CSS

124
00:07:28,400 --> 00:07:37,190
things to make the well to make the GPU

125
00:07:33,290 --> 00:07:42,260
render rendering time take a different

126
00:07:37,190 --> 00:07:47,450
<font color="#CCCCCC">time based on the color of the pixel and</font>

127
00:07:42,260 --> 00:07:50,960
in the same year Eduardo Vela wrote this

128
00:07:47,450 --> 00:07:54,710
nice blog post about a well timing

129
00:07:50,960 --> 00:07:56,870
attack value where input of the<font color="#E5E5E5"> attacker</font>

130
00:07:54,710 --> 00:08:00,590
is compared with<font color="#CCCCCC"> a certain secret and</font>

131
00:07:56,870 --> 00:08:03,260
the time it takes<font color="#CCCCCC"> to compare this well</font>

132
00:08:00,590 --> 00:08:06,349
so it's the<font color="#E5E5E5"> JavaScript execution time</font>

133
00:08:03,260 --> 00:08:08,750
it's<font color="#E5E5E5"> related to the secret so that</font>

134
00:08:06,350 --> 00:08:12,260
allows you to extract<font color="#E5E5E5"> information but a</font>

135
00:08:08,750 --> 00:08:14,510
secret<font color="#E5E5E5"> and then you have in the wall</font>

136
00:08:12,260 --> 00:08:17,539
they were I think<font color="#CCCCCC"> first introduced in</font>

137
00:08:14,510 --> 00:08:21,020
the<font color="#CCCCCC"> academic world and by boards and</font>

138
00:08:17,540 --> 00:08:23,240
bowling and so you they introduced the

139
00:08:21,020 --> 00:08:27,169
concept of direct timing attack and

140
00:08:23,240 --> 00:08:30,320
<font color="#CCCCCC">cross-eyed timing attack so a direct</font>

141
00:08:27,170 --> 00:08:33,560
timing attack well I<font color="#E5E5E5"> will show an</font>

142
00:08:30,320 --> 00:08:37,939
example of this so here you have your

143
00:08:33,559 --> 00:08:40,869
attacker and your server that's going to

144
00:08:37,940 --> 00:08:45,380
be attacked<font color="#E5E5E5"> and the attacker will try to</font>

145
00:08:40,870 --> 00:08:50,930
brute force the<font color="#E5E5E5"> password of the Batman</font>

146
00:08:45,380 --> 00:08:53,990
<font color="#E5E5E5">user and to do this he will send a post</font>

147
00:08:50,930 --> 00:08:57,920
request and measure<font color="#E5E5E5"> how long it takes</font>

148
00:08:53,990 --> 00:08:59,630
until he receives an error but well that

149
00:08:57,920 --> 00:09:03,400
the user name<font color="#CCCCCC"> is puts</font><font color="#E5E5E5"> battle</font>

150
00:08:59,630 --> 00:09:07,300
which matches here but<font color="#CCCCCC"> for the</font><font color="#E5E5E5"> past 40</font>

151
00:09:03,400 --> 00:09:10,579
well type well under<font color="#E5E5E5"> something like AAA</font>

152
00:09:07,300 --> 00:09:13,630
but because the first letter doesn't

153
00:09:10,580 --> 00:09:18,590
match the first letter of the password

154
00:09:13,630 --> 00:09:25,189
<font color="#E5E5E5">the well the tech well the server will</font>

155
00:09:18,590 --> 00:09:27,710
very early respond with an error so that

156
00:09:25,190 --> 00:09:31,370
allows the attacker to know that most

157
00:09:27,710 --> 00:09:33,970
likely<font color="#CCCCCC"> a is not the first character of</font>

158
00:09:31,370 --> 00:09:37,670
the password so then it tries again with

159
00:09:33,970 --> 00:09:40,280
<font color="#E5E5E5">be</font><font color="#CCCCCC"> AAA now you see that</font><font color="#E5E5E5"> the first letter</font>

160
00:09:37,670 --> 00:09:44,839
matched so the server compared the

161
00:09:40,280 --> 00:09:48,380
second character which didn't match so

162
00:09:44,840 --> 00:09:52,310
then an error was still returned but now

163
00:09:48,380 --> 00:09:55,460
<font color="#E5E5E5">the attacker learned that be was most</font>

164
00:09:52,310 --> 00:10:00,260
likely a correct guess because the

165
00:09:55,460 --> 00:10:02,630
<font color="#E5E5E5">timing was higher than before so well by</font>

166
00:10:00,260 --> 00:10:05,630
<font color="#E5E5E5">repeating this process that Decker can</font>

167
00:10:02,630 --> 00:10:12,820
try to<font color="#E5E5E5"> brute-force the password of the</font>

168
00:10:05,630 --> 00:10:19,189
<font color="#E5E5E5">user of course these things only work in</font>

169
00:10:12,820 --> 00:10:21,560
well a very optimal setup which is most

170
00:10:19,190 --> 00:10:25,090
of<font color="#E5E5E5"> the times not the case for the</font>

171
00:10:21,560 --> 00:10:29,599
attacker so there's many limitations

172
00:10:25,090 --> 00:10:31,970
regarding these direct<font color="#E5E5E5"> die matrix so one</font>

173
00:10:29,600 --> 00:10:35,510
of<font color="#E5E5E5"> the major</font><font color="#CCCCCC"> issues is that</font><font color="#E5E5E5"> you have to</font>

174
00:10:31,970 --> 00:10:38,180
<font color="#E5E5E5">deal with irregular irregularities on</font>

175
00:10:35,510 --> 00:10:40,670
the network so any chatter or congestion

176
00:10:38,180 --> 00:10:44,569
will mess up the timing measurements and

177
00:10:40,670 --> 00:10:48,319
will<font color="#E5E5E5"> require the attacker to either make</font>

178
00:10:44,570 --> 00:10:52,400
more measurements or just don't let him

179
00:10:48,320 --> 00:10:54,260
succeed in its attack also the<font color="#CCCCCC"> well the</font>

180
00:10:52,400 --> 00:10:57,410
concurrent users that are using the

181
00:10:54,260 --> 00:11:00,110
service may influence the timing

182
00:10:57,410 --> 00:11:02,660
measurements because thus the load<font color="#CCCCCC"> on</font>

183
00:11:00,110 --> 00:11:05,300
the server will fare I because of<font color="#E5E5E5"> well</font>

184
00:11:02,660 --> 00:11:08,939
if<font color="#E5E5E5"> there's more users it the load will</font>

185
00:11:05,300 --> 00:11:11,339
<font color="#CCCCCC">be higher and so on</font>

186
00:11:08,940 --> 00:11:14,730
but some smart people came<font color="#CCCCCC"> up with</font>

187
00:11:11,340 --> 00:11:18,120
solutions for these attackers so the

188
00:11:14,730 --> 00:11:22,350
main<font color="#CCCCCC"> thing is that attack well the</font>

189
00:11:18,120 --> 00:11:25,380
closer you get to the victim server well

190
00:11:22,350 --> 00:11:32,190
the more precise your timing

191
00:11:25,380 --> 00:11:37,950
measurements can be and well in the<font color="#E5E5E5"> in</font>

192
00:11:32,190 --> 00:11:41,540
the cloud architecture this can go to

193
00:11:37,950 --> 00:11:46,020
quite extreme forms so you can try to

194
00:11:41,540 --> 00:11:47,730
make<font color="#CCCCCC"> sure that your vm gets hosted on</font>

195
00:11:46,020 --> 00:11:53,870
the<font color="#E5E5E5"> same physical machine and that</font>

196
00:11:47,730 --> 00:11:58,920
<font color="#CCCCCC">allows you to do some cash attacks and</font>

197
00:11:53,870 --> 00:12:02,220
well it also<font color="#E5E5E5"> allows you to use very</font>

198
00:11:58,920 --> 00:12:05,699
precise timing methods like in the order

199
00:12:02,220 --> 00:12:07,980
of microseconds or even less and if you

200
00:12:05,700 --> 00:12:14,210
<font color="#CCCCCC">then use some additional statistical</font>

201
00:12:07,980 --> 00:12:17,070
tests many attacks will succeed but

202
00:12:14,210 --> 00:12:19,980
<font color="#CCCCCC">unfortunately it it would take very long</font>

203
00:12:17,070 --> 00:12:24,810
time<font color="#CCCCCC"> to explain all this it's not really</font>

204
00:12:19,980 --> 00:12:27,120
<font color="#E5E5E5">the focus of</font><font color="#CCCCCC"> this presentation so i will</font>

205
00:12:24,810 --> 00:12:28,469
just recommend that you read about these

206
00:12:27,120 --> 00:12:32,220
things because they're really

207
00:12:28,470 --> 00:12:36,390
interesting and<font color="#E5E5E5"> i'll move on to the main</font>

208
00:12:32,220 --> 00:12:39,990
<font color="#E5E5E5">topic of this talk namely</font><font color="#CCCCCC"> cross sites</font>

209
00:12:36,390 --> 00:12:42,960
timing attacks so these type of time

210
00:12:39,990 --> 00:12:46,020
<font color="#E5E5E5">matrix are quite different from the</font>

211
00:12:42,960 --> 00:12:50,730
director timing attacks because with the

212
00:12:46,020 --> 00:12:55,290
cross-site timing attacks the request is

213
00:12:50,730 --> 00:12:59,430
<font color="#E5E5E5">no longer sent by the attacker but here</font>

214
00:12:55,290 --> 00:13:04,410
the attacker makes this the<font color="#E5E5E5"> victim send</font>

215
00:12:59,430 --> 00:13:09,140
<font color="#E5E5E5">the request and because the web was</font>

216
00:13:04,410 --> 00:13:14,430
developed in such a wonderful way all

217
00:13:09,140 --> 00:13:18,480
well<font color="#E5E5E5"> request to</font><font color="#CCCCCC"> third party content will</font>

218
00:13:14,430 --> 00:13:21,810
have cookie attached to them so this

219
00:13:18,480 --> 00:13:22,830
means that the response that the user

220
00:13:21,810 --> 00:13:26,280
<font color="#E5E5E5">will get</font>

221
00:13:22,830 --> 00:13:29,280
based on the request that was sent will

222
00:13:26,280 --> 00:13:32,220
be based on<font color="#CCCCCC"> the state of that user so</font>

223
00:13:29,280 --> 00:13:36,630
for instance if a user is logged in you

224
00:13:32,220 --> 00:13:38,450
will see a dashboard if you Rick if you

225
00:13:36,630 --> 00:13:41,040
request the root of the domain and

226
00:13:38,450 --> 00:13:43,800
otherwise it will say<font color="#E5E5E5"> that you're not</font>

227
00:13:41,040 --> 00:13:46,620
logged<font color="#E5E5E5"> in and you need to log</font><font color="#CCCCCC"> in to</font><font color="#E5E5E5"> see</font>

228
00:13:43,800 --> 00:13:50,040
<font color="#CCCCCC">something</font><font color="#E5E5E5"> so then when you're logged in</font>

229
00:13:46,620 --> 00:13:52,170
the response will be large and when

230
00:13:50,040 --> 00:13:56,339
<font color="#CCCCCC">you're</font><font color="#E5E5E5"> not logged in at the response</font>

231
00:13:52,170 --> 00:13:59,280
will be small and then the attacker can

232
00:13:56,340 --> 00:14:02,720
measure<font color="#E5E5E5"> at the response time and so the</font>

233
00:13:59,280 --> 00:14:07,079
time it takes to download the resource

234
00:14:02,720 --> 00:14:11,100
with<font color="#E5E5E5"> JavaScript so basically</font><font color="#CCCCCC"> you can</font>

235
00:14:07,080 --> 00:14:14,840
load an image set the source and then

236
00:14:11,100 --> 00:14:18,990
start this timer and<font color="#E5E5E5"> when the image</font>

237
00:14:14,840 --> 00:14:21,440
sends this on error event the attacker

238
00:14:18,990 --> 00:14:23,940
can stop this timer<font color="#E5E5E5"> because well</font>

239
00:14:21,440 --> 00:14:26,820
typically the attacker is not interested

240
00:14:23,940 --> 00:14:29,070
in images with<font color="#E5E5E5"> rather HTML pages and</font>

241
00:14:26,820 --> 00:14:36,390
these are not valid images so that's why

242
00:14:29,070 --> 00:14:40,020
you listen on the on error event and so

243
00:14:36,390 --> 00:14:43,860
these attacks the main goal<font color="#E5E5E5"> of them is</font>

244
00:14:40,020 --> 00:14:46,140
to violate the same origin policy and

245
00:14:43,860 --> 00:14:48,830
just because<font color="#CCCCCC"> it's</font><font color="#E5E5E5"> so important I will</font>

246
00:14:46,140 --> 00:14:52,050
briefly zoom into<font color="#CCCCCC"> the same origin policy</font>

247
00:14:48,830 --> 00:14:55,610
so it's one of the main security

248
00:14:52,050 --> 00:15:01,500
principles that exists<font color="#E5E5E5"> on the web and</font>

249
00:14:55,610 --> 00:15:04,680
basically it says and<font color="#E5E5E5"> that's well so</font>

250
00:15:01,500 --> 00:15:09,480
well a<font color="#E5E5E5"> certain origin so for instance</font>

251
00:15:04,680 --> 00:15:13,640
attacker<font color="#E5E5E5"> com cannot read anything from</font>

252
00:15:09,480 --> 00:15:16,830
example that comes from an other origin

253
00:15:13,640 --> 00:15:21,000
so well it's not just the content<font color="#E5E5E5"> that</font>

254
00:15:16,830 --> 00:15:25,830
should be secrets but also the length of

255
00:15:21,000 --> 00:15:27,780
resources should be secret because well

256
00:15:25,830 --> 00:15:31,130
because the responses are based on the

257
00:15:27,780 --> 00:15:35,670
state of the user and if the length is

258
00:15:31,130 --> 00:15:36,870
impacted by this the attacker can learn

259
00:15:35,670 --> 00:15:41,310
things<font color="#E5E5E5"> about the state</font>

260
00:15:36,870 --> 00:15:44,010
of the user well and this contains a lot

261
00:15:41,310 --> 00:15:50,810
<font color="#CCCCCC">of private information as I will show</font>

262
00:15:44,010 --> 00:15:53,400
later on so I'll give a brief well

263
00:15:50,810 --> 00:15:56,689
overview<font color="#CCCCCC"> of how this attack would work</font>

264
00:15:53,400 --> 00:15:59,520
so here you have a social network

265
00:15:56,690 --> 00:16:03,980
consisting of two groups so you have the

266
00:15:59,520 --> 00:16:09,720
Batman group and the Joker group and

267
00:16:03,980 --> 00:16:13,100
here you have the victim and this victim

268
00:16:09,720 --> 00:16:18,960
is browsing to a non malicious website

269
00:16:13,100 --> 00:16:23,070
for instance google com and google com

270
00:16:18,960 --> 00:16:24,630
has this malicious advertiser well it

271
00:16:23,070 --> 00:16:26,670
<font color="#E5E5E5">wouldn't make sense that it's google.com</font>

272
00:16:24,630 --> 00:16:30,390
because school is an advertising but

273
00:16:26,670 --> 00:16:32,959
anyway let's say this is New York<font color="#E5E5E5"> Times</font>

274
00:16:30,390 --> 00:16:36,330
and New York<font color="#E5E5E5"> Times has a malicious</font>

275
00:16:32,960 --> 00:16:39,000
advertiser and<font color="#CCCCCC"> all this malicious</font>

276
00:16:36,330 --> 00:16:42,450
advertiser<font color="#E5E5E5"> he can execute JavaScript</font>

277
00:16:39,000 --> 00:16:46,200
<font color="#CCCCCC">with</font><font color="#E5E5E5"> only in the malicious advertisers</font>

278
00:16:42,450 --> 00:16:51,000
<font color="#CCCCCC">calm domain so he can treat out any</font>

279
00:16:46,200 --> 00:16:52,800
information from this social network and

280
00:16:51,000 --> 00:16:56,910
this advertiser will try to<font color="#E5E5E5"> determine</font>

281
00:16:52,800 --> 00:16:59,040
whether this user belongs to the Batman

282
00:16:56,910 --> 00:17:01,709
group or the Joker group because of

283
00:16:59,040 --> 00:17:04,050
obviously the advertisements that would

284
00:17:01,709 --> 00:17:08,790
be shown to the<font color="#CCCCCC"> user will depend on</font>

285
00:17:04,050 --> 00:17:11,309
which group he belongs<font color="#E5E5E5"> to so what</font>

286
00:17:08,790 --> 00:17:13,409
advertiser does is he makes the user

287
00:17:11,309 --> 00:17:16,559
initiates<font color="#E5E5E5"> a request to the Batman</font>

288
00:17:13,410 --> 00:17:20,030
resource and because the user is part of

289
00:17:16,559 --> 00:17:23,399
the<font color="#E5E5E5"> Batman group because he's robbing</font>

290
00:17:20,030 --> 00:17:28,490
the response will be a lot of rather<font color="#E5E5E5"> big</font>

291
00:17:23,400 --> 00:17:28,490
<font color="#CCCCCC">and so it will take around four seconds</font>

292
00:17:28,880 --> 00:17:34,620
then he does the same thing<font color="#E5E5E5"> but with a</font>

293
00:17:31,650 --> 00:17:39,320
joker group so he requests the Joker

294
00:17:34,620 --> 00:17:43,800
resource but as you can see and the

295
00:17:39,320 --> 00:17:46,800
responses returned its robber small so

296
00:17:43,800 --> 00:17:49,230
that<font color="#CCCCCC"> all the time</font><font color="#E5E5E5"> it will take to the</font>

297
00:17:46,800 --> 00:17:50,550
download this resource is also much

298
00:17:49,230 --> 00:17:55,320
smaller so

299
00:17:50,550 --> 00:17:58,710
the attacker measures that it's around

300
00:17:55,320 --> 00:18:00,659
<font color="#E5E5E5">two seconds so that</font><font color="#CCCCCC"> that's a lot less</font>

301
00:17:58,710 --> 00:18:04,620
<font color="#CCCCCC">than the four seconds that II saw before</font>

302
00:18:00,660 --> 00:18:08,490
so that allows this malicious advertiser

303
00:18:04,620 --> 00:18:12,870
to determine that the user is<font color="#E5E5E5"> from the</font>

304
00:18:08,490 --> 00:18:17,520
Batman group but of<font color="#CCCCCC"> course these things</font>

305
00:18:12,870 --> 00:18:21,239
only work in ideal situations which

306
00:18:17,520 --> 00:18:23,610
never occur in the wild because well in

307
00:18:21,240 --> 00:18:27,060
the wild a request might look like this

308
00:18:23,610 --> 00:18:31,290
so it moves over<font color="#CCCCCC"> the internets has some</font>

309
00:18:27,060 --> 00:18:33,690
congestion so as<font color="#E5E5E5"> you can see the timing</font>

310
00:18:31,290 --> 00:18:36,570
measurement of<font color="#CCCCCC"> the attacker now for the</font>

311
00:18:33,690 --> 00:18:39,420
Joker group it's at six seconds which

312
00:18:36,570 --> 00:18:47,220
was larger than it was for the Batman

313
00:18:39,420 --> 00:18:50,370
group so yeah this prevents the attacker

314
00:18:47,220 --> 00:18:54,300
from learning anything because he<font color="#E5E5E5"> can't</font>

315
00:18:50,370 --> 00:18:57,360
<font color="#E5E5E5">know for sure that this response time</font>

316
00:18:54,300 --> 00:19:00,180
was for the Joker group and it would

317
00:18:57,360 --> 00:19:05,669
always be smaller than for the Batman

318
00:19:00,180 --> 00:19:09,240
group so there's well these<font color="#CCCCCC"> Dianetics</font>

319
00:19:05,670 --> 00:19:11,940
have several limitations so there's

320
00:19:09,240 --> 00:19:16,710
first the network irregularities which

321
00:19:11,940 --> 00:19:18,570
were just<font color="#E5E5E5"> role similar as with direct</font>

322
00:19:16,710 --> 00:19:21,390
time in ticks but in this case there's

323
00:19:18,570 --> 00:19:24,120
they are worse because the attacker can

324
00:19:21,390 --> 00:19:27,540
control on which network the user is so

325
00:19:24,120 --> 00:19:31,080
if he's on a bad wireless network than

326
00:19:27,540 --> 00:19:34,550
the Well network timings will be<font color="#CCCCCC"> well</font>

327
00:19:31,080 --> 00:19:38,129
contain a lot of jitter and then there's

328
00:19:34,550 --> 00:19:41,520
gzip compression so it makes that the

329
00:19:38,130 --> 00:19:44,430
difference in response size is a lot

330
00:19:41,520 --> 00:19:49,170
smaller which makes it<font color="#CCCCCC"> much harder to</font>

331
00:19:44,430 --> 00:19:51,150
detect that there's a difference and so

332
00:19:49,170 --> 00:19:53,310
one of the things that an attacker can

333
00:19:51,150 --> 00:19:55,770
<font color="#E5E5E5">do if the timing measurements aren't</font>

334
00:19:53,310 --> 00:19:59,879
always correct or there's jitter on the

335
00:19:55,770 --> 00:20:01,770
timing measurements is to take a lot<font color="#CCCCCC"> of</font>

336
00:19:59,880 --> 00:20:04,250
time your measurements and then do

337
00:20:01,770 --> 00:20:08,520
something like take<font color="#CCCCCC"> the average</font>

338
00:20:04,250 --> 00:20:11,160
but in this case<font color="#E5E5E5"> the attacker will need</font>

339
00:20:08,520 --> 00:20:14,700
a round trip for every measurement at

340
00:20:11,160 --> 00:20:18,419
that he takes and if there's some<font color="#CCCCCC"> kind</font>

341
00:20:14,700 --> 00:20:24,360
of rate limiting on service his attack

342
00:20:18,419 --> 00:20:30,059
simply won't work so that's<font color="#E5E5E5"> where the</font>

343
00:20:24,360 --> 00:20:33,678
browser-based<font color="#E5E5E5"> time a text comment so</font>

344
00:20:30,059 --> 00:20:37,820
these are a new type of<font color="#CCCCCC"> timing attack</font>

345
00:20:33,679 --> 00:20:40,110
which will try to overcome all of the

346
00:20:37,820 --> 00:20:44,610
limitations or at least most of the

347
00:20:40,110 --> 00:20:48,389
limitations of the classic grow sites

348
00:20:44,610 --> 00:20:51,629
timing attacks so the goal here is to

349
00:20:48,390 --> 00:20:54,210
start your timing measurements only

350
00:20:51,630 --> 00:20:58,320
after<font color="#CCCCCC"> a resource has been downloaded and</font>

351
00:20:54,210 --> 00:21:01,799
by doing so well you don't have<font color="#E5E5E5"> any</font>

352
00:20:58,320 --> 00:21:04,139
cheddar or any irregularities of the

353
00:21:01,799 --> 00:21:09,450
network that could impact your timing

354
00:21:04,140 --> 00:21:12,630
<font color="#CCCCCC">measurement and another thing is that</font>

355
00:21:09,450 --> 00:21:15,360
<font color="#E5E5E5">these browser-based</font><font color="#CCCCCC"> Dianetics are much</font>

356
00:21:12,630 --> 00:21:19,110
more accurate which allows you to

357
00:21:15,360 --> 00:21:24,449
determine with more certainty which of

358
00:21:19,110 --> 00:21:26,459
two resources is the bigger one and<font color="#E5E5E5"> for</font>

359
00:21:24,450 --> 00:21:29,130
some of the<font color="#CCCCCC"> dianetics that I will</font>

360
00:21:26,460 --> 00:21:31,200
explain later a resource only needs to

361
00:21:29,130 --> 00:21:33,030
be<font color="#CCCCCC"> downloaded</font><font color="#E5E5E5"> at once and once it's</font>

362
00:21:31,200 --> 00:21:35,010
downloaded you can obtain a lot of

363
00:21:33,030 --> 00:21:41,309
measurements in a very short time

364
00:21:35,010 --> 00:21:43,379
interval so this is<font color="#E5E5E5"> what an</font>

365
00:21:41,309 --> 00:21:46,290
browser-based<font color="#E5E5E5"> time in Texas would look</font>

366
00:21:43,380 --> 00:21:48,840
like so again you made a request with

367
00:21:46,290 --> 00:21:51,480
the response could you see that<font color="#E5E5E5"> only</font>

368
00:21:48,840 --> 00:21:55,470
after<font color="#CCCCCC"> the response has been received you</font>

369
00:21:51,480 --> 00:21:57,630
start your timing measurements and you

370
00:21:55,470 --> 00:22:00,419
measure the time it takes to process

371
00:21:57,630 --> 00:22:05,690
this resource instead of download this

372
00:22:00,419 --> 00:22:08,610
resource so there's three types<font color="#E5E5E5"> of</font>

373
00:22:05,690 --> 00:22:13,460
processing that you can measure in a

374
00:22:08,610 --> 00:22:16,590
browser so first is to try to parse a

375
00:22:13,460 --> 00:22:17,789
certain resource as of in a specific

376
00:22:16,590 --> 00:22:20,570
format

377
00:22:17,789 --> 00:22:24,979
so for instance by trying to<font color="#E5E5E5"> parse an</font>

378
00:22:20,570 --> 00:22:28,549
HTML document as a video and if you

379
00:22:24,979 --> 00:22:33,330
<font color="#E5E5E5">manage to measure the time it takes to</font>

380
00:22:28,549 --> 00:22:39,179
process this so the processing time of

381
00:22:33,330 --> 00:22:42,059
the CPU you will well<font color="#E5E5E5"> learn the well</font>

382
00:22:39,179 --> 00:22:45,960
learn an estimate of the size of<font color="#CCCCCC"> the</font>

383
00:22:42,059 --> 00:22:49,408
resource and the<font color="#E5E5E5"> same goes for storing</font>

384
00:22:45,960 --> 00:22:56,429
or retrieving certain response from the

385
00:22:49,409 --> 00:23:01,799
cache or putting in it into the cash so

386
00:22:56,429 --> 00:23:05,429
<font color="#CCCCCC">I will show a very basic time it well</font>

387
00:23:01,799 --> 00:23:07,970
the most basic<font color="#E5E5E5"> one where you measure the</font>

388
00:23:05,429 --> 00:23:11,369
time it takes to parse a certain

389
00:23:07,970 --> 00:23:14,609
resource as a<font color="#E5E5E5"> video so first you create</font>

390
00:23:11,369 --> 00:23:17,220
a video element and you add to event

391
00:23:14,609 --> 00:23:21,559
listeners so the<font color="#E5E5E5"> first event listener is</font>

392
00:23:17,220 --> 00:23:24,859
on the suspend event and interestingly

393
00:23:21,559 --> 00:23:28,470
this event will fire as<font color="#CCCCCC"> soon as the</font>

394
00:23:24,859 --> 00:23:30,330
<font color="#E5E5E5">download of the video is complete so</font>

395
00:23:28,470 --> 00:23:33,239
that's when you start your timing<font color="#E5E5E5"> and</font>

396
00:23:30,330 --> 00:23:36,408
measurement and because while the time

397
00:23:33,239 --> 00:23:39,720
it takes to parse this element as a

398
00:23:36,409 --> 00:23:42,409
resource as a video<font color="#E5E5E5"> it's rather small</font>

399
00:23:39,720 --> 00:23:45,869
it's best to use<font color="#E5E5E5"> the high performance</font>

400
00:23:42,409 --> 00:23:51,389
resource timing so the window the

401
00:23:45,869 --> 00:23:55,019
performance<font color="#CCCCCC"> up now and</font><font color="#E5E5E5"> you all know that</font>

402
00:23:51,389 --> 00:23:57,570
a resource has stopped parsing as soon

403
00:23:55,019 --> 00:24:00,029
as the error event fires so that's when

404
00:23:57,570 --> 00:24:03,059
you stop your measurements and then you

405
00:24:00,029 --> 00:24:06,330
can simply set the source of you too

406
00:24:03,059 --> 00:24:10,399
well the thing you want<font color="#E5E5E5"> to know the</font><font color="#CCCCCC"> size</font>

407
00:24:06,330 --> 00:24:17,279
of and you<font color="#E5E5E5"> measure the time and then</font>

408
00:24:10,399 --> 00:24:20,279
well that's all you need so there's also

409
00:24:17,279 --> 00:24:24,020
another trick that you can do and let's

410
00:24:20,279 --> 00:24:28,340
to use application cache and that's

411
00:24:24,020 --> 00:24:30,680
so there you<font color="#E5E5E5"> can first put this resource</font>

412
00:24:28,340 --> 00:24:33,939
that<font color="#CCCCCC"> you want to know the size of in the</font>

413
00:24:30,680 --> 00:24:38,960
application cache so then it gets stored

414
00:24:33,940 --> 00:24:42,050
on on the<font color="#E5E5E5"> disk and so then every</font><font color="#CCCCCC"> time</font>

415
00:24:38,960 --> 00:24:43,910
you set the source of a video<font color="#E5E5E5"> element it</font>

416
00:24:42,050 --> 00:24:46,639
will take it from<font color="#E5E5E5"> the cash instead of</font>

417
00:24:43,910 --> 00:24:50,240
making a request to the<font color="#E5E5E5"> network so that</font>

418
00:24:46,640 --> 00:24:55,340
allows<font color="#E5E5E5"> you to I'll do these timing</font>

419
00:24:50,240 --> 00:24:58,910
measurements very quickly so another

420
00:24:55,340 --> 00:25:03,110
type of time a tech and the<font color="#CCCCCC"> browser is</font>

421
00:24:58,910 --> 00:25:05,890
the<font color="#E5E5E5"> cash storing time in tech so there</font>

422
00:25:03,110 --> 00:25:08,689
<font color="#E5E5E5">you will measure the time it takes to</font>

423
00:25:05,890 --> 00:25:15,050
have this response object and put it

424
00:25:08,690 --> 00:25:18,400
into the<font color="#E5E5E5"> cache so you make the request</font>

425
00:25:15,050 --> 00:25:22,909
object so these things are using the

426
00:25:18,400 --> 00:25:25,700
service worker related<font color="#CCCCCC"> ap ice so you</font>

427
00:25:22,910 --> 00:25:28,040
have your request<font color="#E5E5E5"> objects with the URL</font>

428
00:25:25,700 --> 00:25:31,850
you want to know the<font color="#E5E5E5"> size of some</font>

429
00:25:28,040 --> 00:25:35,000
options which make sure that the cookies

430
00:25:31,850 --> 00:25:38,750
are attached<font color="#E5E5E5"> to this request and then</font>

431
00:25:35,000 --> 00:25:42,280
some bogus requests so first you fetch

432
00:25:38,750 --> 00:25:45,200
the resource and once it's downloaded

433
00:25:42,280 --> 00:25:50,000
you know that you can stop start your

434
00:25:45,200 --> 00:25:53,960
timer and then you simply put it into

435
00:25:50,000 --> 00:25:57,530
<font color="#CCCCCC">the cache with a cache API so this</font>

436
00:25:53,960 --> 00:26:02,060
allows you to put any resource into the

437
00:25:57,530 --> 00:26:08,600
cache which i think is a pretty strange

438
00:26:02,060 --> 00:26:12,230
thing<font color="#E5E5E5"> security wise but anyway and so</font>

439
00:26:08,600 --> 00:26:15,010
once it's put into the cash you can stop

440
00:26:12,230 --> 00:26:19,130
your timer and so the<font color="#E5E5E5"> difference here</font>

441
00:26:15,010 --> 00:26:21,560
will allow you to infer some information

442
00:26:19,130 --> 00:26:24,440
about the size of<font color="#E5E5E5"> the resource because a</font>

443
00:26:21,560 --> 00:26:30,590
large resource will take a longer time

444
00:26:24,440 --> 00:26:34,790
<font color="#E5E5E5">to put into the cache so how well do do</font>

445
00:26:30,590 --> 00:26:36,449
this attack work at<font color="#E5E5E5"> X work so appears</font>

446
00:26:34,790 --> 00:26:41,270
that they were pretty

447
00:26:36,450 --> 00:26:44,730
nice so we did some measurements very

448
00:26:41,270 --> 00:26:50,970
try to determine how long it would take

449
00:26:44,730 --> 00:26:53,730
on average<font color="#CCCCCC"> two to differentiate between</font>

450
00:26:50,970 --> 00:26:58,290
two resources where the<font color="#E5E5E5"> difference of</font>

451
00:26:53,730 --> 00:27:01,310
<font color="#CCCCCC">the resource size is on the</font><font color="#E5E5E5"> x-axis so as</font>

452
00:26:58,290 --> 00:27:08,399
you can see for a classic<font color="#E5E5E5"> Diamond Tech's</font>

453
00:27:01,310 --> 00:27:12,770
it takes well like nine seconds to

454
00:27:08,400 --> 00:27:23,390
determine a difference<font color="#CCCCCC"> between file size</font>

455
00:27:12,770 --> 00:27:30,300
for files that are<font color="#CCCCCC"> 1015 kilobytes</font>

456
00:27:23,390 --> 00:27:32,760
different so it still works but these

457
00:27:30,300 --> 00:27:35,550
attacks were executed on our university

458
00:27:32,760 --> 00:27:38,190
<font color="#E5E5E5">Network which is relatively stable so</font>

459
00:27:35,550 --> 00:27:41,010
the measurements<font color="#CCCCCC"> that we hear obtained</font>

460
00:27:38,190 --> 00:27:44,880
were in the favor of these classic

461
00:27:41,010 --> 00:27:48,629
timing<font color="#CCCCCC"> attacks but it's also interesting</font>

462
00:27:44,880 --> 00:27:51,750
to<font color="#CCCCCC"> point out that's here for where the</font>

463
00:27:48,630 --> 00:27:55,200
difference<font color="#E5E5E5"> in file size was 540</font>

464
00:27:51,750 --> 00:27:58,470
kilobytes you can see that<font color="#E5E5E5"> the</font><font color="#CCCCCC"> attacker</font>

465
00:27:55,200 --> 00:28:01,730
didn't manage to perform his time in

466
00:27:58,470 --> 00:28:05,360
tech and most likely that was due to

467
00:28:01,730 --> 00:28:08,730
some kind<font color="#E5E5E5"> of network irregularity that</font>

468
00:28:05,360 --> 00:28:14,310
well that happens when we executed that

469
00:28:08,730 --> 00:28:16,740
experiment now when we<font color="#CCCCCC"> look</font><font color="#E5E5E5"> at the</font>

470
00:28:14,310 --> 00:28:22,590
browser-based time ethics so the green

471
00:28:16,740 --> 00:28:26,070
blue and purple you<font color="#E5E5E5"> can see that they</font>

472
00:28:22,590 --> 00:28:28,290
perform much better than the classic die

473
00:28:26,070 --> 00:28:32,520
matrix so even when the difference<font color="#E5E5E5"> in</font>

474
00:28:28,290 --> 00:28:37,250
file size is just<font color="#E5E5E5"> five kilobytes well</font>

475
00:28:32,520 --> 00:28:39,530
the worst dometic still manages to

476
00:28:37,250 --> 00:28:43,950
differentiate differentiates between

477
00:28:39,530 --> 00:28:45,780
file sizes in less than five seconds and

478
00:28:43,950 --> 00:28:48,600
when you<font color="#CCCCCC"> look at the</font><font color="#E5E5E5"> best performing</font>

479
00:28:45,780 --> 00:28:50,010
timing attacks or the cash plus video

480
00:28:48,600 --> 00:28:52,290
portion so when you

481
00:28:50,010 --> 00:28:55,020
put the resource in the into the

482
00:28:52,290 --> 00:29:00,389
application cache and then do this video

483
00:28:55,020 --> 00:29:02,070
parsing attack you can see<font color="#CCCCCC"> that in yeah</font>

484
00:29:00,390 --> 00:29:04,530
less than<font color="#CCCCCC"> 0 seconds you can</font>

485
00:29:02,070 --> 00:29:07,139
differentiate between files<font color="#E5E5E5"> it's our</font>

486
00:29:04,530 --> 00:29:13,590
only five kilobytes different in file

487
00:29:07,140 --> 00:29:19,440
size so i will be<font color="#CCCCCC"> showing a short</font>

488
00:29:13,590 --> 00:29:23,179
demonstration now and here i will focus

489
00:29:19,440 --> 00:29:26,010
mainly on facebook so<font color="#E5E5E5"> facebook has this</font>

490
00:29:23,180 --> 00:29:29,550
functionality where as a<font color="#E5E5E5"> facebook page</font>

491
00:29:26,010 --> 00:29:33,030
you can create<font color="#E5E5E5"> a post and you can limit</font>

492
00:29:29,550 --> 00:29:36,870
<font color="#E5E5E5">the visibility of this post so you can</font>

493
00:29:33,030 --> 00:29:40,410
make<font color="#CCCCCC"> sure that the people that can see</font>

494
00:29:36,870 --> 00:29:44,760
<font color="#CCCCCC">your post or from a</font><font color="#E5E5E5"> certain location or</font>

495
00:29:40,410 --> 00:29:48,840
are all men or women or are of a certain

496
00:29:44,760 --> 00:29:51,330
age so for<font color="#E5E5E5"> instance people that are 26</font>

497
00:29:48,840 --> 00:29:55,220
can see this<font color="#E5E5E5"> post and when you are not</font>

498
00:29:51,330 --> 00:29:59,460
36 you can see this post and you get

499
00:29:55,220 --> 00:30:01,830
well<font color="#E5E5E5"> the ball so when you try to request</font>

500
00:29:59,460 --> 00:30:03,900
it and you're not allowed to view it

501
00:30:01,830 --> 00:30:07,020
then you get this short error<font color="#E5E5E5"> message</font>

502
00:30:03,900 --> 00:30:12,350
saying<font color="#E5E5E5"> that you can't view it because</font>

503
00:30:07,020 --> 00:30:16,160
you're not in well the scope of the post

504
00:30:12,350 --> 00:30:20,250
so in the demonstration<font color="#E5E5E5"> I will try to</font>

505
00:30:16,160 --> 00:30:23,640
discover the<font color="#CCCCCC"> age of a user so this is</font>

506
00:30:20,250 --> 00:30:27,480
any user visiting any website so it

507
00:30:23,640 --> 00:30:30,390
could go<font color="#E5E5E5"> to New York Times com where</font>

508
00:30:27,480 --> 00:30:34,530
<font color="#E5E5E5">there's a malicious advertiser or a good</font>

509
00:30:30,390 --> 00:30:38,790
good girl hit he could go<font color="#E5E5E5"> to cute</font>

510
00:30:34,530 --> 00:30:42,840
<font color="#E5E5E5">kittens calm and gets his age exposed to</font>

511
00:30:38,790 --> 00:30:47,550
the administrators of cute kittens and

512
00:30:42,840 --> 00:30:50,310
so on<font color="#E5E5E5"> so the attack requires some</font>

513
00:30:47,550 --> 00:30:53,159
preparation by the attacker so the

514
00:30:50,310 --> 00:30:57,270
attacker first creates a<font color="#E5E5E5"> number of</font>

515
00:30:53,160 --> 00:31:02,659
facebook posts which are each targeted

516
00:30:57,270 --> 00:31:08,109
to users of a certain age so

517
00:31:02,659 --> 00:31:11,869
as you saw before you get well you could

518
00:31:08,109 --> 00:31:16,178
limit the posts to a certain range of

519
00:31:11,869 --> 00:31:18,799
Ages so you well the attacker first

520
00:31:16,179 --> 00:31:24,889
creates a post that's visible to people

521
00:31:18,799 --> 00:31:28,158
of the age 13<font color="#E5E5E5"> to 20 to 23 to 32 and so</font>

522
00:31:24,889 --> 00:31:31,519
on and then<font color="#E5E5E5"> we will try to</font><font color="#CCCCCC"> determine the</font>

523
00:31:28,159 --> 00:31:34,009
range of the age<font color="#CCCCCC"> the user is in and</font>

524
00:31:31,519 --> 00:31:37,489
<font color="#E5E5E5">that's because otherwise that occur</font>

525
00:31:34,009 --> 00:31:40,009
<font color="#E5E5E5">would need to do a lot more requests so</font>

526
00:31:37,489 --> 00:31:45,159
here you do some kind of not really

527
00:31:40,009 --> 00:31:51,559
binary search but something similar and

528
00:31:45,159 --> 00:31:54,229
then well when attacking the victim<font color="#E5E5E5"> the</font>

529
00:31:51,559 --> 00:31:56,899
attacker makes the victim<font color="#E5E5E5"> facial</font>

530
00:31:54,229 --> 00:32:00,049
corresponding resources so the posts

531
00:31:56,899 --> 00:32:02,840
were made and then obtained timing

532
00:32:00,049 --> 00:32:07,960
measurements for them and then try to

533
00:32:02,840 --> 00:32:09,949
determine the range of<font color="#E5E5E5"> H the user is in</font>

534
00:32:07,960 --> 00:32:13,700
regarding the value of the timing

535
00:32:09,950 --> 00:32:16,369
<font color="#CCCCCC">measurements and then in the third step</font>

536
00:32:13,700 --> 00:32:20,289
you will try to<font color="#CCCCCC"> determine the exact age</font>

537
00:32:16,369 --> 00:32:27,769
of the user by just repeating<font color="#E5E5E5"> all this</font>

538
00:32:20,289 --> 00:32:31,309
process again so here you will see a lot

539
00:32:27,769 --> 00:32:35,720
<font color="#E5E5E5">of boxes and the boxes or just box plots</font>

540
00:32:31,309 --> 00:32:38,418
with the timing measurements and so here

541
00:32:35,720 --> 00:32:40,729
you can see<font color="#CCCCCC"> that here it says start</font>

542
00:32:38,419 --> 00:32:44,779
downloading resources so that's<font color="#E5E5E5"> the</font>

543
00:32:40,729 --> 00:32:47,629
first<font color="#E5E5E5"> step so the attacker downloads the</font>

544
00:32:44,779 --> 00:32:53,119
resources corresponding<font color="#CCCCCC"> to these things</font>

545
00:32:47,629 --> 00:32:57,799
so these this is a post targeted to

546
00:32:53,119 --> 00:33:03,289
people of the age 13 to 22 and 23 to 32

547
00:32:57,799 --> 00:33:08,649
and so on<font color="#CCCCCC"> so it takes a while to</font>

548
00:33:03,289 --> 00:33:12,950
download the resources and then it will

549
00:33:08,649 --> 00:33:15,020
start obtaining timing measurements so

550
00:33:12,950 --> 00:33:18,850
after

551
00:33:15,020 --> 00:33:23,080
actually less<font color="#CCCCCC"> than 10 seconds or well</font>

552
00:33:18,850 --> 00:33:26,030
with some certainty around<font color="#E5E5E5"> 11 seconds</font>

553
00:33:23,080 --> 00:33:30,500
you can see that<font color="#E5E5E5"> the</font><font color="#CCCCCC"> diamond</font>

554
00:33:26,030 --> 00:33:36,410
measurements for the resource of users

555
00:33:30,500 --> 00:33:39,320
in<font color="#E5E5E5"> the age of 23 to 32 is significantly</font>

556
00:33:36,410 --> 00:33:43,490
higher than the rest of the<font color="#E5E5E5"> timing</font>

557
00:33:39,320 --> 00:33:48,080
measurements so that allows the attacker

558
00:33:43,490 --> 00:33:53,480
to know that the victim<font color="#CCCCCC"> is of the</font><font color="#E5E5E5"> H</font>

559
00:33:48,080 --> 00:33:58,040
between 23 and 32 so that's all<font color="#CCCCCC"> ten</font>

560
00:33:53,480 --> 00:34:01,040
different ages that he can be so then

561
00:33:58,040 --> 00:34:04,190
again<font color="#E5E5E5"> he does the same attack but then</font>

562
00:34:01,040 --> 00:34:08,029
for the specific age and you can see

563
00:34:04,190 --> 00:34:10,940
already that for the age 26 the timing

564
00:34:08,030 --> 00:34:15,260
measurements are again significantly

565
00:34:10,940 --> 00:34:18,889
higher<font color="#CCCCCC"> than for all the other ages so in</font>

566
00:34:15,260 --> 00:34:27,230
less than 30 seconds the attacker is

567
00:34:18,889 --> 00:34:30,440
able to determine the age of the user of

568
00:34:27,230 --> 00:34:35,179
course that was just<font color="#E5E5E5"> an attack that we</font>

569
00:34:30,440 --> 00:34:38,290
launched against facebook actually

570
00:34:35,179 --> 00:34:41,510
there's a lot of well many many more

571
00:34:38,290 --> 00:34:45,649
attacks that can be done by using these

572
00:34:41,510 --> 00:34:49,280
browser-based<font color="#E5E5E5"> Dianetics so on linkedin</font>

573
00:34:45,649 --> 00:34:51,859
for instance it's possible to add all to

574
00:34:49,280 --> 00:34:54,620
retrieve information about the

575
00:34:51,860 --> 00:35:00,020
connections of a certain user that's<font color="#E5E5E5"> on</font>

576
00:34:54,620 --> 00:35:04,609
<font color="#CCCCCC">a</font><font color="#E5E5E5"> website with twitter it's possible to</font>

577
00:35:00,020 --> 00:35:10,940
determine which users the user is

578
00:35:04,610 --> 00:35:15,020
following or in xfig<font color="#CCCCCC"> case even</font><font color="#E5E5E5"> try to</font>

579
00:35:10,940 --> 00:35:18,340
determine the identity of the user for

580
00:35:15,020 --> 00:35:21,890
google we found<font color="#E5E5E5"> that it was possible to</font>

581
00:35:18,340 --> 00:35:24,410
well to browse into your search history

582
00:35:21,890 --> 00:35:27,259
so any search term that you<font color="#E5E5E5"> enter in</font>

583
00:35:24,410 --> 00:35:28,850
<font color="#CCCCCC">google gets saved by</font><font color="#E5E5E5"> google and then</font>

584
00:35:27,260 --> 00:35:31,550
later<font color="#E5E5E5"> on you can search it</font>

585
00:35:28,850 --> 00:35:35,420
of course if you<font color="#E5E5E5"> have searches search it</font>

586
00:35:31,550 --> 00:35:39,020
and<font color="#E5E5E5"> Decker can also search it so it</font>

587
00:35:35,420 --> 00:35:42,620
allows them<font color="#E5E5E5"> to know things about what</font>

588
00:35:39,020 --> 00:35:46,040
you searched<font color="#E5E5E5"> for on</font><font color="#CCCCCC"> Amazon it's the same</font>

589
00:35:42,620 --> 00:35:51,549
<font color="#CCCCCC">thing but with your shopping history and</font>

590
00:35:46,040 --> 00:35:51,550
I lantech discovered by someone else

591
00:35:52,900 --> 00:36:02,150
yeah allows you to search well so in on

592
00:35:59,660 --> 00:36:05,390
gmail you have this search box where you

593
00:36:02,150 --> 00:36:08,210
can put<font color="#CCCCCC"> something in and as an attacker</font>

594
00:36:05,390 --> 00:36:10,759
you can make the same request and then

595
00:36:08,210 --> 00:36:13,520
figure<font color="#E5E5E5"> out how many responses were</font>

596
00:36:10,760 --> 00:36:18,400
returned and that allows the attacker to

597
00:36:13,520 --> 00:36:21,500
basically search into your inbox so I

598
00:36:18,400 --> 00:36:25,130
well these are just things<font color="#E5E5E5"> that we</font>

599
00:36:21,500 --> 00:36:27,830
looked at so i think<font color="#E5E5E5"> i spent</font><font color="#CCCCCC"> like 15</font>

600
00:36:25,130 --> 00:36:30,250
<font color="#CCCCCC">minutes for</font><font color="#E5E5E5"> each one to figure out to</font>

601
00:36:27,830 --> 00:36:33,259
come up<font color="#CCCCCC"> with one of these attacks</font><font color="#E5E5E5"> and so</font>

602
00:36:30,250 --> 00:36:36,380
there's many more because there's many

603
00:36:33,260 --> 00:36:40,160
<font color="#E5E5E5">more web service web services and all</font>

604
00:36:36,380 --> 00:36:44,420
because the ether Tex they exist by

605
00:36:40,160 --> 00:36:53,390
design of the web most of them are

606
00:36:44,420 --> 00:37:00,530
vulnerable so because these attacks are

607
00:36:53,390 --> 00:37:02,480
quite frightening I think it's best to

608
00:37:00,530 --> 00:37:06,560
try to come up with some kind of

609
00:37:02,480 --> 00:37:11,840
mitigation unfortunately these are not

610
00:37:06,560 --> 00:37:13,910
as easy on<font color="#E5E5E5"> the wall neither on the</font>

611
00:37:11,840 --> 00:37:17,060
client side as on the server side but

612
00:37:13,910 --> 00:37:20,149
especially on<font color="#E5E5E5"> the client side it's very</font>

613
00:37:17,060 --> 00:37:23,660
hard to mitigate these attacks<font color="#CCCCCC"> and</font>

614
00:37:20,150 --> 00:37:27,350
that's<font color="#E5E5E5"> because the techs are there by</font>

615
00:37:23,660 --> 00:37:34,310
the design of<font color="#E5E5E5"> the browser and the web in</font>

616
00:37:27,350 --> 00:37:37,850
general a very simplistic way of trying

617
00:37:34,310 --> 00:37:41,120
<font color="#E5E5E5">to mitigate these attacks would be to</font>

618
00:37:37,850 --> 00:37:42,549
reduce the resolution of the<font color="#E5E5E5"> timer but</font>

619
00:37:41,120 --> 00:37:47,470
unfortunately<font color="#CCCCCC"> that</font>

620
00:37:42,550 --> 00:37:50,980
don't work because if you make<font color="#E5E5E5"> the text</font>

621
00:37:47,470 --> 00:37:53,709
a bit<font color="#CCCCCC"> more intelligence the resolution</font>

622
00:37:50,980 --> 00:37:56,110
<font color="#CCCCCC">of one millisecond is already sufficient</font>

623
00:37:53,710 --> 00:37:59,890
so for<font color="#E5E5E5"> instance for the video parsing</font>

624
00:37:56,110 --> 00:38:04,440
you could<font color="#E5E5E5"> simply pass a video multiple</font>

625
00:37:59,890 --> 00:38:07,900
times after in a row and<font color="#CCCCCC"> then a</font>

626
00:38:04,440 --> 00:38:15,940
resolution of one millisecond would

627
00:38:07,900 --> 00:38:19,170
already suffice a promising solution

628
00:38:15,940 --> 00:38:25,060
might be to disable<font color="#E5E5E5"> third party cookies</font>

629
00:38:19,170 --> 00:38:27,670
so when well when<font color="#E5E5E5"> you're on New York</font>

630
00:38:25,060 --> 00:38:31,570
Times calm and you make a request to

631
00:38:27,670 --> 00:38:35,080
facebook com if the cookies are<font color="#E5E5E5"> not not</font>

632
00:38:31,570 --> 00:38:37,060
attached<font color="#CCCCCC"> to that request well the</font>

633
00:38:35,080 --> 00:38:39,759
responses will be returned will not be

634
00:38:37,060 --> 00:38:42,040
based on<font color="#E5E5E5"> the</font><font color="#CCCCCC"> state of the user so that</font>

635
00:38:39,760 --> 00:38:45,400
way the attacker will not be able to

636
00:38:42,040 --> 00:38:49,690
<font color="#CCCCCC">learn anything about knowing the size of</font>

637
00:38:45,400 --> 00:38:52,750
that<font color="#E5E5E5"> response so that's something that</font>

638
00:38:49,690 --> 00:38:56,350
you can do on<font color="#CCCCCC"> the client side so there's</font>

639
00:38:52,750 --> 00:38:59,650
also a same well the same side attribute

640
00:38:56,350 --> 00:39:02,620
on cookies which need to be<font color="#CCCCCC"> implemented</font>

641
00:38:59,650 --> 00:39:05,070
<font color="#E5E5E5">by</font><font color="#CCCCCC"> the server side so the main goal of</font>

642
00:39:02,620 --> 00:39:08,069
these same side cookies is to prevent

643
00:39:05,070 --> 00:39:14,790
things like cross-site request forgery

644
00:39:08,070 --> 00:39:19,290
and think<font color="#E5E5E5"> law the way it works is that</font>

645
00:39:14,790 --> 00:39:23,890
<font color="#E5E5E5">it's sort of also and it disables all</font>

646
00:39:19,290 --> 00:39:28,080
third-party cookies but again<font color="#E5E5E5"> it</font>

647
00:39:23,890 --> 00:39:31,270
requires an implementation effort by<font color="#E5E5E5"> the</font>

648
00:39:28,080 --> 00:39:33,610
by<font color="#E5E5E5"> the website that is going to be</font>

649
00:39:31,270 --> 00:39:38,350
attacked<font color="#E5E5E5"> and because there's so many</font>

650
00:39:33,610 --> 00:39:43,390
websites it's<font color="#E5E5E5"> unlikely that all of them</font>

651
00:39:38,350 --> 00:39:46,690
will implement this so<font color="#E5E5E5"> I've mentioned</font>

652
00:39:43,390 --> 00:39:49,230
before that the cause of these<font color="#CCCCCC"> attacks</font>

653
00:39:46,690 --> 00:39:52,410
is related to cross-site request forgery

654
00:39:49,230 --> 00:39:55,240
because in cross-site request forgery

655
00:39:52,410 --> 00:39:55,990
the cookies are also attached to the

656
00:39:55,240 --> 00:39:58,779
request

657
00:39:55,990 --> 00:40:04,618
and that allows the attacker to make

658
00:39:58,780 --> 00:40:09,820
some states changes at<font color="#CCCCCC"> the well at the</font>

659
00:40:04,619 --> 00:40:15,730
well website for the<font color="#E5E5E5"> user so if you can</font>

660
00:40:09,820 --> 00:40:20,530
prevent a religion<font color="#CCCCCC"> letter to a legend</font>

661
00:40:15,730 --> 00:40:24,310
timid across origin requests so for

662
00:40:20,530 --> 00:40:27,430
<font color="#E5E5E5">instance with</font><font color="#CCCCCC"> csrf token these attacks</font>

663
00:40:24,310 --> 00:40:31,509
would be prevented as well but here it's

664
00:40:27,430 --> 00:40:34,960
not only the post requests but also the

665
00:40:31,510 --> 00:40:38,080
get requests and putting a CSF token on

666
00:40:34,960 --> 00:40:46,150
every request it might<font color="#CCCCCC"> just be a lot</font><font color="#E5E5E5"> of</font>

667
00:40:38,080 --> 00:40:50,619
overkill so basically the security of

668
00:40:46,150 --> 00:40:57,000
browsers regarding these domestics it's

669
00:40:50,619 --> 00:41:01,390
not ideal and it will likely remain that

670
00:40:57,000 --> 00:41:04,600
so we<font color="#CCCCCC"> even discovered some new type of</font>

671
00:41:01,390 --> 00:41:06,700
attacks which will we will be disclosing

672
00:41:04,600 --> 00:41:11,230
so me and a colleague will be disclosing

673
00:41:06,700 --> 00:41:13,480
these attacks and this summer and these

674
00:41:11,230 --> 00:41:19,450
attacks allow you to<font color="#E5E5E5"> determine the exact</font>

675
00:41:13,480 --> 00:41:21,490
response size instead of estimate but

676
00:41:19,450 --> 00:41:24,730
the good thing is that it's possible for

677
00:41:21,490 --> 00:41:28,890
browsers to mitigate at least one<font color="#CCCCCC"> of</font>

678
00:41:24,730 --> 00:41:32,490
<font color="#E5E5E5">these two attacks but</font><font color="#CCCCCC"> unfortunately</font>

679
00:41:28,890 --> 00:41:35,980
browsers done<font color="#E5E5E5"> to or browser vendors or</font>

680
00:41:32,490 --> 00:41:38,430
standards people than to take quite a

681
00:41:35,980 --> 00:41:44,460
long time at<font color="#E5E5E5"> least in my experience to</font>

682
00:41:38,430 --> 00:41:49,230
try to fix these issues<font color="#CCCCCC"> so to</font><font color="#E5E5E5"> conclude</font>

683
00:41:44,460 --> 00:41:52,210
so<font color="#CCCCCC"> I've presented</font><font color="#E5E5E5"> this this node type of</font>

684
00:41:49,230 --> 00:41:55,180
browser based time antics where we

685
00:41:52,210 --> 00:41:57,880
measure the<font color="#E5E5E5"> time it takes to process a</font>

686
00:41:55,180 --> 00:42:00,669
resource so that's that happens<font color="#CCCCCC"> after</font>

687
00:41:57,880 --> 00:42:04,030
the resource has been downloaded which

688
00:42:00,670 --> 00:42:06,820
makes it the<font color="#E5E5E5"> attacks are much faster and</font>

689
00:42:04,030 --> 00:42:08,320
<font color="#E5E5E5">more robust than the classic timing</font>

690
00:42:06,820 --> 00:42:13,260
ethics

691
00:42:08,320 --> 00:42:17,320
and one of<font color="#E5E5E5"> the major issues</font><font color="#CCCCCC"> is that</font>

692
00:42:13,260 --> 00:42:19,960
<font color="#E5E5E5">these side channel side channels so</font>

693
00:42:17,320 --> 00:42:24,310
<font color="#CCCCCC">these timing side channels may exist by</font>

694
00:42:19,960 --> 00:42:28,960
the design of<font color="#CCCCCC"> the web and</font><font color="#E5E5E5"> the browser so</font>

695
00:42:24,310 --> 00:42:33,400
it's unlikely that these diamond texts

696
00:42:28,960 --> 00:42:38,680
will go away and well another issue is

697
00:42:33,400 --> 00:42:47,470
that many major popular web applications

698
00:42:38,680 --> 00:42:52,290
are vulnerable so we're well definitely

699
00:42:47,470 --> 00:42:55,419
not<font color="#E5E5E5"> there yet regarding a mitigation so</font>

700
00:42:52,290 --> 00:42:57,850
it will be interesting to see<font color="#E5E5E5"> what the</font>

701
00:42:55,420 --> 00:43:00,820
<font color="#CCCCCC">future will bring and</font><font color="#E5E5E5"> letter or</font>

702
00:42:57,850 --> 00:43:05,400
attackers or malicious people will start

703
00:43:00,820 --> 00:43:09,880
using these attacks or not we will see

704
00:43:05,400 --> 00:43:12,240
so if you have any questions feel free

705
00:43:09,880 --> 00:43:12,240
to ask

706
00:43:23,130 --> 00:43:26,130
ok

707
00:43:27,000 --> 00:43:32,910
there's no questions and thank you for

708
00:43:30,760 --> 00:43:32,910
listening

709
00:43:43,290 --> 00:43:45,350
you

