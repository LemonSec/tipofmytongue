1
00:00:19,500 --> 00:00:25,030
<font color="#E5E5E5">alright so thank you all for</font><font color="#CCCCCC"> coming</font>

2
00:00:23,020 --> 00:00:25,810
hopefully you enjoy this talk and<font color="#E5E5E5"> you're</font>

3
00:00:25,030 --> 00:00:28,540
not just here for the air conditioning

4
00:00:25,810 --> 00:00:30,189
<font color="#CCCCCC">because it's hot outside but</font><font color="#E5E5E5"> first of</font>

5
00:00:28,540 --> 00:00:31,990
all I'd like to thank<font color="#E5E5E5"> everyone at our be</font>

6
00:00:30,190 --> 00:00:34,630
a sec who put<font color="#E5E5E5"> this together the</font>

7
00:00:31,990 --> 00:00:36,430
volunteers contributors organizers this

8
00:00:34,630 --> 00:00:38,860
is an awesome conference first time I've

9
00:00:36,430 --> 00:00:40,269
been here we're usually from Maryland so

10
00:00:38,860 --> 00:00:42,970
we kind of do all the<font color="#CCCCCC"> conferences in</font>

11
00:00:40,270 --> 00:00:44,590
that local atmosphere but this is by far

12
00:00:42,970 --> 00:00:47,140
added the coolest badges I've ever seen

13
00:00:44,590 --> 00:00:49,809
and some sweet fanny packs so I'm

14
00:00:47,140 --> 00:00:51,400
<font color="#CCCCCC">looking forward to this I walk my dog</font>

15
00:00:49,809 --> 00:00:52,750
all the time miles and now I'm<font color="#CCCCCC"> gonna</font>

16
00:00:51,400 --> 00:00:54,790
wear this and people are just<font color="#E5E5E5"> going</font><font color="#CCCCCC"> to</font>

17
00:00:52,750 --> 00:00:56,140
look at me but I didn't care so<font color="#E5E5E5"> thank</font>

18
00:00:54,790 --> 00:00:58,870
you all very much and<font color="#CCCCCC"> this is a great</font>

19
00:00:56,140 --> 00:01:01,690
great<font color="#E5E5E5"> uh now talking event so appreciate</font>

20
00:00:58,870 --> 00:01:03,550
so on behalf of breakpoint labs my name

21
00:01:01,690 --> 00:01:05,410
is zach myers this is andrew niccol and

22
00:01:03,550 --> 00:01:07,479
today we're basically to be talking to

23
00:01:05,410 --> 00:01:09,789
<font color="#CCCCCC">you about how to go beyond automated</font>

24
00:01:07,479 --> 00:01:12,280
testing and automated testing Gus's say

25
00:01:09,790 --> 00:01:14,470
you run a vulnerability scan<font color="#E5E5E5"> okay that's</font>

26
00:01:12,280 --> 00:01:16,570
<font color="#E5E5E5">great no but that's just a starting</font>

27
00:01:14,470 --> 00:01:18,160
point<font color="#E5E5E5"> how can we go beyond automated</font>

28
00:01:16,570 --> 00:01:20,110
scan and a report<font color="#CCCCCC"> that we get from the</font>

29
00:01:18,160 --> 00:01:22,360
automated tool and do some manual

30
00:01:20,110 --> 00:01:24,580
testing essentially find a newt and

31
00:01:22,360 --> 00:01:26,020
enumerate additional vulnerabilities and

32
00:01:24,580 --> 00:01:27,789
breaking the stuff that's

33
00:01:26,020 --> 00:01:29,920
internet-facing that's<font color="#E5E5E5"> pretty much what</font>

34
00:01:27,790 --> 00:01:31,479
we're going to talk about<font color="#CCCCCC"> today here's a</font>

35
00:01:29,920 --> 00:01:33,340
quick agenda<font color="#E5E5E5"> I'm not going to bore you</font>

36
00:01:31,479 --> 00:01:34,479
to death<font color="#CCCCCC"> and read each bullet so feel</font>

37
00:01:33,340 --> 00:01:36,190
free to<font color="#E5E5E5"> read it if you like but</font>

38
00:01:34,479 --> 00:01:38,799
essentially we're going to go over our

39
00:01:36,190 --> 00:01:41,020
<font color="#E5E5E5">methodologies as external assessments</font>

40
00:01:38,799 --> 00:01:43,360
we're going<font color="#E5E5E5"> to go</font><font color="#CCCCCC"> into some really</font><font color="#E5E5E5"> good</font>

41
00:01:41,020 --> 00:01:44,830
examples and use cases of how we do

42
00:01:43,360 --> 00:01:46,929
manual testing we find additional

43
00:01:44,830 --> 00:01:48,750
vulnerabilities and then we're going<font color="#E5E5E5"> to</font>

44
00:01:46,930 --> 00:01:51,189
give you some<font color="#E5E5E5"> useful links and trainings</font>

45
00:01:48,750 --> 00:01:54,939
at the end so<font color="#E5E5E5"> you can take away some</font>

46
00:01:51,189 --> 00:01:57,100
stuff here though real quick I'm<font color="#CCCCCC"> Zach</font>

47
00:01:54,939 --> 00:01:59,229
this<font color="#CCCCCC"> is</font><font color="#E5E5E5"> andrew and find us on twitter</font>

48
00:01:57,100 --> 00:02:01,089
there's our handles right there we're

49
00:01:59,229 --> 00:02:03,070
essentially security eats at heart so we

50
00:02:01,090 --> 00:02:04,960
are we're red teamers at break point

51
00:02:03,070 --> 00:02:07,449
labs we're small business in the

52
00:02:04,960 --> 00:02:08,978
virginia maryland DC area you can find

53
00:02:07,450 --> 00:02:11,769
our twitter handle there is your<font color="#CCCCCC"> xcc</font>

54
00:02:08,979 --> 00:02:14,200
<font color="#E5E5E5">labs we're also in our free time we're</font>

55
00:02:11,769 --> 00:02:15,519
not wearing our day job hats we are we

56
00:02:14,200 --> 00:02:17,078
have a blog and<font color="#CCCCCC"> podcast that we</font>

57
00:02:15,519 --> 00:02:18,820
contribute to called primal security

58
00:02:17,079 --> 00:02:20,680
feel<font color="#E5E5E5"> free to give that at Google it's a</font>

59
00:02:18,820 --> 00:02:22,900
lot<font color="#E5E5E5"> of good blogs we do a monthly</font>

60
00:02:20,680 --> 00:02:24,329
podcast and we also just love to give

61
00:02:22,900 --> 00:02:27,880
back to<font color="#CCCCCC"> the community and</font><font color="#E5E5E5"> share things</font>

62
00:02:24,329 --> 00:02:29,319
if you find us there at primal set we're

63
00:02:27,880 --> 00:02:31,810
certification junkies we have a lot of

64
00:02:29,319 --> 00:02:33,170
offensive security<font color="#CCCCCC"> focused certs</font><font color="#E5E5E5"> and</font>

65
00:02:31,810 --> 00:02:36,770
sand certs

66
00:02:33,170 --> 00:02:38,359
like the code do<font color="#E5E5E5"> scripts</font><font color="#CCCCCC"> in</font><font color="#E5E5E5"> Python love</font>

67
00:02:36,770 --> 00:02:40,340
capture the<font color="#CCCCCC"> flag events so now they have</font>

68
00:02:38,360 --> 00:02:42,349
a great<font color="#E5E5E5"> one going on here we love to</font>

69
00:02:40,340 --> 00:02:43,910
learn things all the time everything's

70
00:02:42,349 --> 00:02:45,319
changing this job<font color="#CCCCCC"> and this atmosphere</font>

71
00:02:43,910 --> 00:02:47,900
we're in we're always learning something

72
00:02:45,319 --> 00:02:49,429
new it's adapting so it's always good to

73
00:02:47,900 --> 00:02:51,770
<font color="#E5E5E5">be in the know and learn new tools and</font>

74
00:02:49,430 --> 00:02:53,330
<font color="#E5E5E5">techniques and procedures and we also</font>

75
00:02:51,770 --> 00:02:55,640
like long walks on the beach<font color="#CCCCCC"> and by the</font>

76
00:02:53,330 --> 00:02:57,620
pier and<font color="#E5E5E5"> speaking of</font><font color="#CCCCCC"> which if you</font>

77
00:02:55,640 --> 00:03:00,980
enjoyed that as well and you live in

78
00:02:57,620 --> 00:03:02,959
Maryland I'm a co-organizer of a local

79
00:03:00,980 --> 00:03:04,760
meetup group on meetup.com call it

80
00:03:02,959 --> 00:03:06,950
knapsack it's an Annapolis we usually

81
00:03:04,760 --> 00:03:08,899
<font color="#CCCCCC">meet downtown Annapolis once a</font><font color="#E5E5E5"> month</font>

82
00:03:06,950 --> 00:03:10,790
it's a networking event for infosec

83
00:03:08,900 --> 00:03:12,410
people so if you free check it out it's

84
00:03:10,790 --> 00:03:14,450
<font color="#CCCCCC">just a happy hour kind of atmosphere you</font>

85
00:03:12,410 --> 00:03:17,900
talk meet new people<font color="#E5E5E5"> and we're</font><font color="#CCCCCC"> on meetup</font>

86
00:03:14,450 --> 00:03:20,390
com so feel free<font color="#E5E5E5"> to check it</font><font color="#CCCCCC"> out so</font>

87
00:03:17,900 --> 00:03:22,459
overview this talk the goal this is to

88
00:03:20,390 --> 00:03:25,010
basically share our experiences with

89
00:03:22,459 --> 00:03:27,080
external assessments and basically

90
00:03:25,010 --> 00:03:28,579
anything that's internet-facing what's

91
00:03:27,080 --> 00:03:30,950
the motivation of this talk I'll be

92
00:03:28,580 --> 00:03:32,660
honest with<font color="#CCCCCC"> you it's frustration and the</font>

93
00:03:30,950 --> 00:03:34,010
real reason of the frustration is how

94
00:03:32,660 --> 00:03:35,989
many<font color="#E5E5E5"> times have you heard this question</font>

95
00:03:34,010 --> 00:03:38,899
whether it's<font color="#E5E5E5"> from a manager or from a</font>

96
00:03:35,989 --> 00:03:41,420
co-worker or from whatever it may be is

97
00:03:38,900 --> 00:03:43,549
this scan done have<font color="#E5E5E5"> you scanned us</font>

98
00:03:41,420 --> 00:03:46,880
when's<font color="#E5E5E5"> the last time we had a scan are</font>

99
00:03:43,549 --> 00:03:48,470
we compliant those are the<font color="#E5E5E5"> questions we</font>

100
00:03:46,880 --> 00:03:51,320
get asked all the time of security

101
00:03:48,470 --> 00:03:53,630
professionals and the thing that with

102
00:03:51,320 --> 00:03:54,980
that is scanners are great automated

103
00:03:53,630 --> 00:03:56,480
tools are great but they're a starting

104
00:03:54,980 --> 00:03:58,040
point they're not the end point and

105
00:03:56,480 --> 00:04:00,108
<font color="#E5E5E5">that's the goal that's talked to to show</font>

106
00:03:58,040 --> 00:04:02,179
you the real power of that human

107
00:04:00,109 --> 00:04:05,390
validation human review and human

108
00:04:02,180 --> 00:04:06,859
interaction with<font color="#E5E5E5"> these applications so</font>

109
00:04:05,390 --> 00:04:08,980
on<font color="#CCCCCC"> am i testing to us it's running a</font>

110
00:04:06,859 --> 00:04:11,239
vulnerability scanner in this talk<font color="#E5E5E5"> okay</font>

111
00:04:08,980 --> 00:04:13,970
manual testing is everything else you do

112
00:04:11,239 --> 00:04:15,500
beyond the scope of that scan whether

113
00:04:13,970 --> 00:04:17,089
it's the<font color="#CCCCCC"> false positive reduction or</font>

114
00:04:15,500 --> 00:04:18,470
<font color="#E5E5E5">it's actually trying to find and</font>

115
00:04:17,089 --> 00:04:21,140
enumerate other things and think like a

116
00:04:18,470 --> 00:04:22,729
bit<font color="#CCCCCC"> babis airy so according to a</font>

117
00:04:21,140 --> 00:04:24,650
department of<font color="#E5E5E5"> homeland security report</font>

118
00:04:22,729 --> 00:04:26,240
that recently came out they stated that

119
00:04:24,650 --> 00:04:28,549
sixty-seven percent of high-impact

120
00:04:26,240 --> 00:04:30,289
vulnerabilities actually were found via

121
00:04:28,550 --> 00:04:32,180
manual testing and not by an automated

122
00:04:30,289 --> 00:04:33,530
<font color="#E5E5E5">phone ability scanner that's a pretty</font>

123
00:04:32,180 --> 00:04:36,229
<font color="#E5E5E5">cool fact and I was like the land that</font>

124
00:04:33,530 --> 00:04:38,000
point<font color="#CCCCCC"> so how do we</font><font color="#E5E5E5"> go beyond an</font>

125
00:04:36,229 --> 00:04:40,159
automated<font color="#CCCCCC"> scam well first we have to</font>

126
00:04:38,000 --> 00:04:42,020
have the mindset and the mindset is

127
00:04:40,160 --> 00:04:43,400
essentially you're a fail as a pen

128
00:04:42,020 --> 00:04:44,690
tester you're going to fail thousand

129
00:04:43,400 --> 00:04:46,099
<font color="#E5E5E5">more times and you're going to win and</font>

130
00:04:44,690 --> 00:04:48,320
you always<font color="#E5E5E5"> have to keep that</font>

131
00:04:46,100 --> 00:04:50,950
mindset and continue to<font color="#E5E5E5"> try and keep</font>

132
00:04:48,320 --> 00:04:53,719
trying<font color="#E5E5E5"> and once you have that mindset</font>

133
00:04:50,950 --> 00:04:55,580
<font color="#E5E5E5">you know you get your got everything</font>

134
00:04:53,720 --> 00:04:56,840
going<font color="#E5E5E5"> you</font><font color="#CCCCCC"> want to move into</font><font color="#E5E5E5"> this recon</font>

135
00:04:55,580 --> 00:04:58,400
and mapping phase with external

136
00:04:56,840 --> 00:04:59,869
assessments you want to find systems you

137
00:04:58,400 --> 00:05:01,340
want to find that content that<font color="#E5E5E5"> maybe I</font>

138
00:04:59,870 --> 00:05:04,190
want to<font color="#CCCCCC"> be a tool a</font><font color="#E5E5E5"> Miss because all</font>

139
00:05:01,340 --> 00:05:05,780
you're doing is pointed out a URL you

140
00:05:04,190 --> 00:05:08,180
want to also then run the appropriate

141
00:05:05,780 --> 00:05:10,190
tool for the job meaning you can run

142
00:05:08,180 --> 00:05:12,470
these commercial tools you know you're a

143
00:05:10,190 --> 00:05:15,560
kinetics your burp suite your HP web

144
00:05:12,470 --> 00:05:17,690
inspect but sometimes if you enumerate

145
00:05:15,560 --> 00:05:19,730
certain technology you may<font color="#E5E5E5"> want to run a</font>

146
00:05:17,690 --> 00:05:21,800
custom more oriented scanner or tool

147
00:05:19,730 --> 00:05:23,570
like a WP scanner juice can it's open

148
00:05:21,800 --> 00:05:25,820
source because that's the technology

149
00:05:23,570 --> 00:05:27,380
that's<font color="#E5E5E5"> powering the site then we really</font>

150
00:05:25,820 --> 00:05:29,150
get into the manual testing and this is

151
00:05:27,380 --> 00:05:31,310
what we're harping on here you want<font color="#E5E5E5"> to</font>

152
00:05:29,150 --> 00:05:32,989
identify and understand all areas that

153
00:05:31,310 --> 00:05:35,150
we can pass use your input and we want

154
00:05:32,990 --> 00:05:36,920
to fuzz the applications we want to

155
00:05:35,150 --> 00:05:38,780
research the versions if we can

156
00:05:36,920 --> 00:05:39,950
enumerate them and the technology<font color="#E5E5E5"> is</font>

157
00:05:38,780 --> 00:05:41,840
<font color="#CCCCCC">that we don't numerate and just</font>

158
00:05:39,950 --> 00:05:46,610
sometimes it's<font color="#CCCCCC"> just a simple google</font><font color="#E5E5E5"> and</font>

159
00:05:41,840 --> 00:05:49,190
go joomla version exploit DB not that

160
00:05:46,610 --> 00:05:50,690
bad<font color="#E5E5E5"> but that's the truth we can combine</font>

161
00:05:49,190 --> 00:05:52,070
all these different<font color="#E5E5E5"> things and we want</font>

162
00:05:50,690 --> 00:05:53,900
to take findings that we find from<font color="#E5E5E5"> these</font>

163
00:05:52,070 --> 00:05:55,610
autumn vegetables sometimes tools will

164
00:05:53,900 --> 00:05:57,349
say<font color="#CCCCCC"> alright</font><font color="#E5E5E5"> there's a low finding here a</font>

165
00:05:55,610 --> 00:05:58,520
little finding here no fighting<font color="#CCCCCC"> here but</font>

166
00:05:57,350 --> 00:06:00,320
we can bridge them together to make

167
00:05:58,520 --> 00:06:02,169
something<font color="#E5E5E5"> that's</font><font color="#CCCCCC"> actually a critical</font>

168
00:06:00,320 --> 00:06:04,580
thing and maybe can compromise<font color="#E5E5E5"> the site</font>

169
00:06:02,170 --> 00:06:06,680
we want to remove the false positives we

170
00:06:04,580 --> 00:06:09,109
all do that and then we also want to

171
00:06:06,680 --> 00:06:10,760
<font color="#E5E5E5">think how why did wanted to developer</font>

172
00:06:09,110 --> 00:06:12,410
make this in this feature for this

173
00:06:10,760 --> 00:06:15,349
application and how can we abuse it

174
00:06:12,410 --> 00:06:18,200
let's have the adversary mindset and at

175
00:06:15,350 --> 00:06:20,210
the end which we all dread as testers we

176
00:06:18,200 --> 00:06:21,590
have to put it all in a report and take

177
00:06:20,210 --> 00:06:24,560
all the method to our madness and

178
00:06:21,590 --> 00:06:28,039
present it<font color="#CCCCCC"> to everyone and basically</font>

179
00:06:24,560 --> 00:06:29,510
convey the business impact so with every

180
00:06:28,040 --> 00:06:32,030
single<font color="#E5E5E5"> assessment you want to have a</font>

181
00:06:29,510 --> 00:06:32,990
methodology<font color="#CCCCCC"> asala methodology is good</font>

182
00:06:32,030 --> 00:06:34,969
from a technical and business

183
00:06:32,990 --> 00:06:36,500
perspective you don't need<font color="#CCCCCC"> to marry the</font>

184
00:06:34,970 --> 00:06:39,140
methodology meaning you don't need to go

185
00:06:36,500 --> 00:06:41,030
in like sequential steps you can always

186
00:06:39,140 --> 00:06:42,710
jump back and forth and<font color="#E5E5E5"> we'll kind of</font>

187
00:06:41,030 --> 00:06:44,390
cover that a little bit but say you're

188
00:06:42,710 --> 00:06:45,770
doing<font color="#CCCCCC"> your reconnaissance then you do</font>

189
00:06:44,390 --> 00:06:47,030
your mapping you run an automated tool

190
00:06:45,770 --> 00:06:48,740
and while you're<font color="#CCCCCC"> doing</font><font color="#E5E5E5"> your manual</font>

191
00:06:47,030 --> 00:06:50,809
testing you find additional things new

192
00:06:48,740 --> 00:06:52,010
things you<font color="#CCCCCC"> can go back to recon you can</font>

193
00:06:50,810 --> 00:06:54,050
do freak on throughout the entire

194
00:06:52,010 --> 00:06:54,260
assessment always keep<font color="#E5E5E5"> that in mind you</font>

195
00:06:54,050 --> 00:06:56,510
don't

196
00:06:54,260 --> 00:06:58,789
have to go buy<font color="#CCCCCC"> a checklist</font><font color="#E5E5E5"> checklists</font>

197
00:06:56,510 --> 00:07:00,830
are good though a<font color="#E5E5E5"> checklist also do help</font>

198
00:06:58,790 --> 00:07:02,870
make sure<font color="#CCCCCC"> you</font><font color="#E5E5E5"> don't miss things so we</font>

199
00:07:00,830 --> 00:07:04,219
use them a lot<font color="#E5E5E5"> of people should use them</font>

200
00:07:02,870 --> 00:07:05,840
just to make sure that you cover the

201
00:07:04,220 --> 00:07:07,580
masses<font color="#E5E5E5"> the attack surface of what you're</font>

202
00:07:05,840 --> 00:07:08,929
going against here's some great

203
00:07:07,580 --> 00:07:11,330
methodologies that are open source you

204
00:07:08,930 --> 00:07:12,560
can sip on in the internet you just

205
00:07:11,330 --> 00:07:15,560
click on<font color="#CCCCCC"> these we need when you see our</font>

206
00:07:12,560 --> 00:07:17,210
<font color="#E5E5E5">slideshow online and we honestly believe</font>

207
00:07:15,560 --> 00:07:18,860
that with every methodology you not only

208
00:07:17,210 --> 00:07:20,750
<font color="#E5E5E5">want to have that automated aspect</font>

209
00:07:18,860 --> 00:07:22,100
because everyone does it what you want

210
00:07:20,750 --> 00:07:23,450
to have this manual testing we're<font color="#E5E5E5"> going</font>

211
00:07:22,100 --> 00:07:25,940
<font color="#E5E5E5">to go over some great use cases in a</font>

212
00:07:23,450 --> 00:07:28,430
little bit here's from our point of view

213
00:07:25,940 --> 00:07:30,980
our methodology we use from an external

214
00:07:28,430 --> 00:07:32,360
internet facing perspective we do the

215
00:07:30,980 --> 00:07:34,100
planning and scoping that's essentially

216
00:07:32,360 --> 00:07:35,630
your rules of engagement will get into

217
00:07:34,100 --> 00:07:37,910
<font color="#E5E5E5">all this in more detail reconnaissance</font>

218
00:07:35,630 --> 00:07:39,920
mapping automated testing followed by

219
00:07:37,910 --> 00:07:41,210
manual testing ordering the automated

220
00:07:39,920 --> 00:07:43,520
testing because tools run for a while

221
00:07:41,210 --> 00:07:45,260
<font color="#E5E5E5">and then it wraps up with that reporting</font>

222
00:07:43,520 --> 00:07:48,159
and it's also nice to do some icing on

223
00:07:45,260 --> 00:07:50,210
the cake all for remediation support

224
00:07:48,160 --> 00:07:51,980
sometimes they'll say we fix something

225
00:07:50,210 --> 00:07:55,640
but really they have it so it's nice to

226
00:07:51,980 --> 00:07:58,940
close the gaps so<font color="#E5E5E5"> Before we jump into</font>

227
00:07:55,640 --> 00:08:02,659
the rules of engagement we as testers

228
00:07:58,940 --> 00:08:05,780
nowadays have to basically have not only

229
00:08:02,660 --> 00:08:08,240
the hard skills to do the work we had to

230
00:08:05,780 --> 00:08:10,190
have the soft<font color="#E5E5E5"> skills as well and the</font>

231
00:08:08,240 --> 00:08:12,230
thing we also have to<font color="#CCCCCC"> do is just be</font>

232
00:08:10,190 --> 00:08:14,390
confident and convey everything that we

233
00:08:12,230 --> 00:08:16,550
found in as much detail as we can in the

234
00:08:14,390 --> 00:08:18,320
report and know that we are going to

235
00:08:16,550 --> 00:08:21,530
fail many<font color="#E5E5E5"> more times and we're going to</font>

236
00:08:18,320 --> 00:08:25,370
succeed but that's a<font color="#E5E5E5"> part of playing you</font>

237
00:08:21,530 --> 00:08:26,809
know the adversary essentially so when

238
00:08:25,370 --> 00:08:28,250
we go to planning we want understand the

239
00:08:26,810 --> 00:08:29,650
customer's goals what keeps them up at

240
00:08:28,250 --> 00:08:31,730
night<font color="#E5E5E5"> you know that's the main question</font>

241
00:08:29,650 --> 00:08:33,799
and we're going<font color="#CCCCCC"> to</font><font color="#E5E5E5"> establish the scope</font>

242
00:08:31,730 --> 00:08:36,320
which is the what establish<font color="#E5E5E5"> the rules of</font>

243
00:08:33,799 --> 00:08:38,270
<font color="#E5E5E5">engagement the how set up communication</font>

244
00:08:36,320 --> 00:08:41,000
channels in<font color="#CCCCCC"> the</font><font color="#E5E5E5"> time frame being the WHO</font>

245
00:08:38,270 --> 00:08:43,400
and the when and we also don't want<font color="#E5E5E5"> to</font>

246
00:08:41,000 --> 00:08:45,470
get caught up<font color="#CCCCCC"> in terms to me and you and</font>

247
00:08:43,400 --> 00:08:46,579
may<font color="#E5E5E5"> be different and anyone you hear the</font>

248
00:08:45,470 --> 00:08:48,470
word vulnerability scanning

249
00:08:46,580 --> 00:08:51,050
vulnerability assessment<font color="#CCCCCC"> pen testing</font>

250
00:08:48,470 --> 00:08:54,410
<font color="#E5E5E5">it's kind</font><font color="#CCCCCC"> of the thing where it's always</font>

251
00:08:51,050 --> 00:08:57,829
defined by your<font color="#CCCCCC"> own thing and you want</font>

252
00:08:54,410 --> 00:08:59,209
to basically establish you know what are

253
00:08:57,830 --> 00:09:00,800
you looking for here an in-depth

254
00:08:59,210 --> 00:09:02,690
vulnerability assessment that could

255
00:09:00,800 --> 00:09:04,099
order line become more of a pen test or

256
00:09:02,690 --> 00:09:05,810
do<font color="#E5E5E5"> you just want me</font><font color="#CCCCCC"> to run automated</font>

257
00:09:04,100 --> 00:09:07,209
<font color="#CCCCCC">phone ability scanners such as a nessus</font>

258
00:09:05,810 --> 00:09:08,800
or commercial

259
00:09:07,209 --> 00:09:10,929
<font color="#E5E5E5">cool and</font><font color="#CCCCCC"> just give you the output and</font>

260
00:09:08,800 --> 00:09:12,459
maybe remove the false positives so<font color="#E5E5E5"> find</font>

261
00:09:10,929 --> 00:09:15,069
<font color="#E5E5E5">out the level of effort you</font><font color="#CCCCCC"> know because</font>

262
00:09:12,459 --> 00:09:16,599
it's different<font color="#E5E5E5"> and figure out what the</font>

263
00:09:15,069 --> 00:09:18,009
company cares about most is<font color="#CCCCCC"> it can</font>

264
00:09:16,600 --> 00:09:19,689
confidentiality availability or

265
00:09:18,009 --> 00:09:21,339
integrity of the data that's truly

266
00:09:19,689 --> 00:09:23,889
important because sometimes its

267
00:09:21,339 --> 00:09:25,179
availability das is off the table so<font color="#E5E5E5"> you</font>

268
00:09:23,889 --> 00:09:27,999
got to<font color="#CCCCCC"> keep that</font><font color="#E5E5E5"> in mind you want to</font>

269
00:09:25,179 --> 00:09:30,160
piss them off and toss their stuff<font color="#E5E5E5"> so as</font>

270
00:09:27,999 --> 00:09:33,399
we do this I like this and this is<font color="#CCCCCC"> a</font>

271
00:09:30,160 --> 00:09:36,100
great<font color="#E5E5E5"> thing I like visuals I've always</font>

272
00:09:33,399 --> 00:09:38,980
been like an artsy kind of guy<font color="#CCCCCC"> so it's</font>

273
00:09:36,100 --> 00:09:40,809
nice<font color="#CCCCCC"> to have this essentially creating a</font>

274
00:09:38,980 --> 00:09:42,970
mind map and<font color="#CCCCCC"> you can</font><font color="#E5E5E5"> find</font><font color="#CCCCCC"> this is open</font>

275
00:09:40,809 --> 00:09:44,589
<font color="#E5E5E5">source tool called X mind and while</font>

276
00:09:42,970 --> 00:09:45,939
you're<font color="#CCCCCC"> doing your reconnaissance and</font>

277
00:09:44,589 --> 00:09:48,129
<font color="#CCCCCC">your</font><font color="#E5E5E5"> mapping and your meeting with the</font>

278
00:09:45,939 --> 00:09:50,649
<font color="#E5E5E5">organization you can</font><font color="#CCCCCC"> basically say</font>

279
00:09:48,129 --> 00:09:51,999
here's your org here's all your systems

280
00:09:50,649 --> 00:09:53,860
you know<font color="#E5E5E5"> whatever you want how you want</font>

281
00:09:51,999 --> 00:09:56,199
to organize it kind of gives you<font color="#E5E5E5"> a nice</font>

282
00:09:53,860 --> 00:09:57,550
visual of what's you're up against and

283
00:09:56,199 --> 00:09:59,559
what you're doing<font color="#CCCCCC"> and how you map</font>

284
00:09:57,550 --> 00:10:01,660
everything out and then you can put

285
00:09:59,559 --> 00:10:02,949
findings connected to these systems that

286
00:10:01,660 --> 00:10:04,809
you find them and it gives you that

287
00:10:02,949 --> 00:10:07,929
visual rather than just<font color="#E5E5E5"> a spreadsheet or</font>

288
00:10:04,809 --> 00:10:10,149
a word doc this is a nice thing so take

289
00:10:07,929 --> 00:10:12,790
it for what it's worth try my map out if

290
00:10:10,149 --> 00:10:15,399
you want to do all right in the Andrew

291
00:10:12,790 --> 00:10:16,899
exec so moving on to we're going<font color="#E5E5E5"> to</font><font color="#CCCCCC"> kind</font>

292
00:10:15,399 --> 00:10:19,209
of walk you guys through sort of our

293
00:10:16,899 --> 00:10:20,980
methodology almost through like a pseudo

294
00:10:19,209 --> 00:10:22,388
hold your hand through a pen test so to

295
00:10:20,980 --> 00:10:23,740
speak<font color="#E5E5E5"> so we're gonna start with</font>

296
00:10:22,389 --> 00:10:27,249
reconnaissance that covered the playing

297
00:10:23,740 --> 00:10:29,410
in a scoping now the customer says go so

298
00:10:27,249 --> 00:10:31,089
the goal here is given a company name

299
00:10:29,410 --> 00:10:32,769
you know how can you figure out their

300
00:10:31,089 --> 00:10:34,959
footprints so somebody said google com

301
00:10:32,769 --> 00:10:37,209
and set go how can you actually figure

302
00:10:34,959 --> 00:10:38,679
out their infrastructure and you can do

303
00:10:37,209 --> 00:10:40,508
it in a lot<font color="#CCCCCC"> of ways here at some of the</font>

304
00:10:38,679 --> 00:10:41,529
high-level ways that we go through we're

305
00:10:40,509 --> 00:10:43,569
going to kind<font color="#E5E5E5"> of talk about each of</font>

306
00:10:41,529 --> 00:10:44,589
these individually but essentially

307
00:10:43,569 --> 00:10:46,179
you're going to start<font color="#E5E5E5"> out with doing</font><font color="#CCCCCC"> a</font>

308
00:10:44,589 --> 00:10:48,730
google search and doing some basic IP

309
00:10:46,179 --> 00:10:51,850
and domain enumeration<font color="#CCCCCC"> i'm using some</font>

310
00:10:48,730 --> 00:10:53,920
dns tools dig who is<font color="#CCCCCC"> etc then system</font>

311
00:10:51,850 --> 00:10:55,749
enumeration or to talk about<font color="#E5E5E5"> that</font>

312
00:10:53,920 --> 00:10:58,269
subdomain enumeration is very important

313
00:10:55,749 --> 00:11:00,730
text a commemoration<font color="#CCCCCC"> Osen try to go</font><font color="#E5E5E5"> into</font>

314
00:10:58,269 --> 00:11:03,040
each of these<font color="#E5E5E5"> in another slide here so</font>

315
00:11:00,730 --> 00:11:04,179
starting<font color="#CCCCCC"> out with system enumeration one</font>

316
00:11:03,040 --> 00:11:05,110
of the<font color="#E5E5E5"> things that we really like to do</font>

317
00:11:04,179 --> 00:11:07,059
and this is<font color="#E5E5E5"> actually something I do</font>

318
00:11:05,110 --> 00:11:09,160
during the scoping phase as I<font color="#E5E5E5"> leverage</font>

319
00:11:07,059 --> 00:11:10,689
showed in and census I show it hands

320
00:11:09,160 --> 00:11:12,759
does anybody use these familiar with

321
00:11:10,689 --> 00:11:14,170
showed in a census<font color="#CCCCCC"> all right what we</font>

322
00:11:12,759 --> 00:11:16,419
haven't I've<font color="#E5E5E5"> just changed your life</font>

323
00:11:14,170 --> 00:11:18,219
these<font color="#CCCCCC"> are awesome these are</font><font color="#E5E5E5"> also they're</font>

324
00:11:16,419 --> 00:11:19,959
essentially third parties they scan the

325
00:11:18,220 --> 00:11:20,290
internet and they host the data for you

326
00:11:19,959 --> 00:11:22,119
so you

327
00:11:20,290 --> 00:11:24,459
can do some queries they have<font color="#CCCCCC"> api's and</font>

328
00:11:22,120 --> 00:11:27,160
python modules and also web interfaces

329
00:11:24,459 --> 00:11:29,050
to so if you're not<font color="#E5E5E5"> Python friendly but</font>

330
00:11:27,160 --> 00:11:30,699
this is a little Python script you see

331
00:11:29,050 --> 00:11:32,740
on<font color="#CCCCCC"> the screen here</font><font color="#E5E5E5"> that's searching</font>

332
00:11:30,699 --> 00:11:33,969
<font color="#E5E5E5">showed an just for a hostname google com</font>

333
00:11:32,740 --> 00:11:35,860
it's going to give<font color="#E5E5E5"> me everything that it</font>

334
00:11:33,970 --> 00:11:37,990
knows about with<font color="#CCCCCC"> Google so if I'm</font><font color="#E5E5E5"> going</font>

335
00:11:35,860 --> 00:11:39,459
for against<font color="#CCCCCC"> the</font><font color="#E5E5E5"> target customer they'll</font>

336
00:11:37,990 --> 00:11:40,930
say<font color="#CCCCCC"> okay I want to get an idea of how</font>

337
00:11:39,459 --> 00:11:43,060
<font color="#CCCCCC">long this will take this is a great way</font>

338
00:11:40,930 --> 00:11:44,949
<font color="#CCCCCC">I can find</font><font color="#E5E5E5"> out in seconds I can say okay</font>

339
00:11:43,060 --> 00:11:46,750
85,000 systems it's going to take me a

340
00:11:44,949 --> 00:11:49,029
little longer than five you know so you

341
00:11:46,750 --> 00:11:50,440
<font color="#E5E5E5">can get an idea some a quick bit of data</font>

342
00:11:49,029 --> 00:11:51,970
there and since this is<font color="#CCCCCC"> the same</font><font color="#E5E5E5"> kind of</font>

343
00:11:50,440 --> 00:11:53,800
thing since this is free showed in you

344
00:11:51,970 --> 00:11:55,300
have<font color="#E5E5E5"> to pay</font><font color="#CCCCCC"> it if some</font><font color="#E5E5E5"> if some free but</font>

345
00:11:53,800 --> 00:11:56,920
also paid for subscription but since

346
00:11:55,300 --> 00:11:59,290
this is completely free I'm definitely

347
00:11:56,920 --> 00:12:00,550
check them out and<font color="#E5E5E5"> then after we've gone</font>

348
00:11:59,290 --> 00:12:01,750
through here we actually starting to do

349
00:12:00,550 --> 00:12:03,910
the active probing we're going to use

350
00:12:01,750 --> 00:12:05,199
<font color="#CCCCCC">mask and an nmap I'm sure everybody here</font>

351
00:12:03,910 --> 00:12:07,509
has heard<font color="#E5E5E5"> of in maps a great tool</font>

352
00:12:05,199 --> 00:12:08,680
network probing and a lot<font color="#CCCCCC"> more</font>

353
00:12:07,509 --> 00:12:10,329
functionality with the scripting engine

354
00:12:08,680 --> 00:12:13,329
but you may not may not be as familiar

355
00:12:10,329 --> 00:12:15,849
with<font color="#E5E5E5"> masking so to give</font><font color="#CCCCCC"> you some idea if</font>

356
00:12:13,329 --> 00:12:17,649
we were to run in map across the / 16

357
00:12:15,850 --> 00:12:20,019
cedar range looking for some common web

358
00:12:17,649 --> 00:12:22,690
ports train name resolution off that

359
00:12:20,019 --> 00:12:24,610
might take 30 or 40 minutes<font color="#CCCCCC"> with mask</font>

360
00:12:22,690 --> 00:12:26,170
and we're talking<font color="#CCCCCC"> about 30 or 40 seconds</font>

361
00:12:24,610 --> 00:12:27,550
so it's<font color="#CCCCCC"> actually really cool from an</font>

362
00:12:26,170 --> 00:12:30,339
<font color="#CCCCCC">Internet perspective when you're doing</font>

363
00:12:27,550 --> 00:12:35,500
scans across large scopes it can give

364
00:12:30,339 --> 00:12:37,000
you some data quickly to go with then we

365
00:12:35,500 --> 00:12:38,380
move<font color="#E5E5E5"> into subdomain</font><font color="#CCCCCC"> integration so the</font>

366
00:12:37,000 --> 00:12:40,110
previous slide we found like our IPS

367
00:12:38,380 --> 00:12:42,610
that<font color="#CCCCCC"> are opera systems that are up and</font>

368
00:12:40,110 --> 00:12:44,079
this is getting idea of finding out all

369
00:12:42,610 --> 00:12:45,730
the sub domains that are tied back to

370
00:12:44,079 --> 00:12:48,010
that target organization so if we<font color="#CCCCCC"> take</font>

371
00:12:45,730 --> 00:12:50,980
<font color="#E5E5E5">for example google com a subdomain would</font>

372
00:12:48,010 --> 00:12:53,170
be support google com or helpdesk google

373
00:12:50,980 --> 00:12:55,510
com and finding out all these subdomains

374
00:12:53,170 --> 00:12:57,339
is very critical as we move<font color="#CCCCCC"> into</font><font color="#E5E5E5"> our</font>

375
00:12:55,510 --> 00:12:59,920
testing because you know you can't just

376
00:12:57,339 --> 00:13:01,449
judge an IP by its but by<font color="#E5E5E5"> its I people</font>

377
00:12:59,920 --> 00:13:03,430
talk about that another slide here if

378
00:13:01,449 --> 00:13:05,050
you're new to subdomain enumeration

379
00:13:03,430 --> 00:13:07,599
Jason<font color="#CCCCCC"> Haddix wrote a really cool script</font>

380
00:13:05,050 --> 00:13:09,160
that automates recon<font color="#E5E5E5"> and g4 for this</font>

381
00:13:07,600 --> 00:13:11,439
very task it's called<font color="#CCCCCC"> Eden um all that</font>

382
00:13:09,160 --> 00:13:13,089
<font color="#CCCCCC">Sh you can essentially just run it and</font>

383
00:13:11,439 --> 00:13:14,649
it pulls out subdomains and throws it to

384
00:13:13,089 --> 00:13:17,130
a CSV file you have to<font color="#E5E5E5"> kind of get to</font>

385
00:13:14,649 --> 00:13:20,439
take your recon<font color="#CCCCCC"> ng but it's not too bad</font>

386
00:13:17,130 --> 00:13:21,880
CRT that Sh looks at x.509 certificates

387
00:13:20,439 --> 00:13:23,829
and index<font color="#E5E5E5"> ism you can look at the common</font>

388
00:13:21,880 --> 00:13:25,689
name to pull out subdomains a lot of

389
00:13:23,829 --> 00:13:27,008
cool little tricks there but this is a

390
00:13:25,689 --> 00:13:30,099
very important<font color="#E5E5E5"> step that your tools</font>

391
00:13:27,009 --> 00:13:31,540
aren't going to do for you the next

392
00:13:30,100 --> 00:13:33,540
thing is we've<font color="#CCCCCC"> got our subdomains we've</font>

393
00:13:31,540 --> 00:13:35,819
got our system starting to build out

394
00:13:33,540 --> 00:13:37,110
scope we want to<font color="#E5E5E5"> get the text at won't</font>

395
00:13:35,820 --> 00:13:39,060
understand what kind of technologies are

396
00:13:37,110 --> 00:13:41,730
working with and we really like what web

397
00:13:39,060 --> 00:13:44,489
it's a<font color="#E5E5E5"> command-line Ruby script you</font>

398
00:13:41,730 --> 00:13:46,079
essentially<font color="#E5E5E5"> give it a list of URLs and</font>

399
00:13:44,490 --> 00:13:48,329
it will go out<font color="#CCCCCC"> and tell you will make a</font>

400
00:13:46,079 --> 00:13:49,560
head request or get<font color="#E5E5E5"> requests and it'll</font>

401
00:13:48,329 --> 00:13:52,019
tell you the technology<font color="#CCCCCC"> that's there in</font>

402
00:13:49,560 --> 00:13:54,899
a single reparable line so very friendly

403
00:13:52,019 --> 00:13:56,069
to you know grep said all foo you can

404
00:13:54,899 --> 00:13:58,350
basically grep and say where's you know

405
00:13:56,069 --> 00:14:00,060
<font color="#E5E5E5">Brett ColdFusion grep you know joomla</font>

406
00:13:58,350 --> 00:14:01,769
wordpress what have you and it grabs the

407
00:14:00,060 --> 00:14:03,329
title so it can be a great starting

408
00:14:01,769 --> 00:14:05,190
point if<font color="#E5E5E5"> you're looking at thousands of</font>

409
00:14:03,329 --> 00:14:07,739
applications<font color="#E5E5E5"> this can be like starting</font>

410
00:14:05,190 --> 00:14:09,630
to<font color="#E5E5E5"> get some idea there webalizer is a</font>

411
00:14:07,740 --> 00:14:11,009
browser<font color="#CCCCCC"> plugin</font><font color="#E5E5E5"> that will tell you in</font>

412
00:14:09,630 --> 00:14:12,630
your address bar the text stack as

413
00:14:11,009 --> 00:14:13,980
you're navigating to the to the<font color="#E5E5E5"> actual</font>

414
00:14:12,630 --> 00:14:16,589
website so you can actually click there

415
00:14:13,980 --> 00:14:17,790
and say<font color="#CCCCCC"> okay cool drupal awesome it just</font>

416
00:14:16,589 --> 00:14:20,220
gives<font color="#E5E5E5"> you a quick visual it's a nice</font>

417
00:14:17,790 --> 00:14:22,709
little tool<font color="#CCCCCC"> to help you</font><font color="#E5E5E5"> out I witness is</font>

418
00:14:20,220 --> 00:14:24,180
a very cool tool and it might<font color="#CCCCCC"> not be the</font>

419
00:14:22,709 --> 00:14:25,589
power might not be obvious to you if you

420
00:14:24,180 --> 00:14:27,630
haven't dealt with<font color="#CCCCCC"> the pen test it has</font>

421
00:14:25,589 --> 00:14:28,920
like thousands of apps in it so

422
00:14:27,630 --> 00:14:31,019
essentially it's a<font color="#E5E5E5"> Python script you</font>

423
00:14:28,920 --> 00:14:33,839
give it a list of URLs and it will break

424
00:14:31,019 --> 00:14:35,550
down that the headers and it was quick

425
00:14:33,839 --> 00:14:37,740
screenshot for you and it's in an HTML

426
00:14:35,550 --> 00:14:39,990
report so if you're<font color="#CCCCCC"> talking</font><font color="#E5E5E5"> about a</font>

427
00:14:37,740 --> 00:14:41,760
couple hundred URLs pulling those up in

428
00:14:39,990 --> 00:14:43,649
your address bar your browser it's going

429
00:14:41,760 --> 00:14:45,240
to crash<font color="#E5E5E5"> but this is a great</font><font color="#CCCCCC"> way to like</font>

430
00:14:43,649 --> 00:14:47,130
you know get a snapshot from a<font color="#E5E5E5"> high</font>

431
00:14:45,240 --> 00:14:48,839
<font color="#E5E5E5">level take a look and just see all your</font>

432
00:14:47,130 --> 00:14:51,209
scope where's the default<font color="#E5E5E5"> is where's the</font>

433
00:14:48,839 --> 00:14:52,769
default<font color="#CCCCCC"> tomcat and get you know start to</font>

434
00:14:51,209 --> 00:14:54,719
build that map<font color="#E5E5E5"> have a visual and you can</font>

435
00:14:52,769 --> 00:14:56,279
talk to your guys you're looking at the

436
00:14:54,720 --> 00:14:57,690
tom cat app and it's just much easier

437
00:14:56,279 --> 00:15:01,800
way to kind of see things from a high

438
00:14:57,690 --> 00:15:02,970
level then<font color="#CCCCCC"> Oh sent which can mean a lot</font>

439
00:15:01,800 --> 00:15:05,040
of different<font color="#CCCCCC"> things to different people</font>

440
00:15:02,970 --> 00:15:06,720
in the context of this talk and what we

441
00:15:05,040 --> 00:15:08,610
see<font color="#CCCCCC"> Osuna is</font><font color="#E5E5E5"> is you kind of look at it</font>

442
00:15:06,720 --> 00:15:10,589
in these ways<font color="#CCCCCC"> we</font><font color="#E5E5E5"> like to</font><font color="#CCCCCC"> find out is the</font>

443
00:15:08,610 --> 00:15:11,940
customer already compromised again<font color="#CCCCCC"> it's</font>

444
00:15:10,589 --> 00:15:13,949
kind of<font color="#E5E5E5"> something tues not I do for you</font>

445
00:15:11,940 --> 00:15:15,690
and<font color="#E5E5E5"> that can</font><font color="#CCCCCC"> be pretty big we've seen</font>

446
00:15:13,949 --> 00:15:17,279
instances recently on<font color="#CCCCCC"> twit but a</font>

447
00:15:15,690 --> 00:15:18,360
customer that<font color="#E5E5E5"> don't twitter they bad</font>

448
00:15:17,279 --> 00:15:20,279
guys were talking about sequel injection

449
00:15:18,360 --> 00:15:21,689
<font color="#CCCCCC">while their stuff and we're on</font><font color="#E5E5E5"> the</font>

450
00:15:20,279 --> 00:15:23,010
assessment and that really changed the

451
00:15:21,689 --> 00:15:24,269
way<font color="#E5E5E5"> we did our assessment but it added</font>

452
00:15:23,010 --> 00:15:25,620
value to the customer because now

453
00:15:24,269 --> 00:15:27,050
they're<font color="#E5E5E5"> like oh man it's kind of</font>

454
00:15:25,620 --> 00:15:30,029
switching<font color="#CCCCCC"> incident response modes here</font>

455
00:15:27,050 --> 00:15:32,069
but you might find things on maybe you

456
00:15:30,029 --> 00:15:33,480
know they've had password dumps and<font color="#E5E5E5"> pay</font>

457
00:15:32,069 --> 00:15:34,500
<font color="#E5E5E5">spin things like that and you can let</font>

458
00:15:33,480 --> 00:15:35,910
them<font color="#E5E5E5"> know they're not</font><font color="#CCCCCC"> too worried about</font>

459
00:15:34,500 --> 00:15:39,000
it but they<font color="#E5E5E5"> might be cool to reuse later</font>

460
00:15:35,910 --> 00:15:40,439
in the test that's important we also are

461
00:15:39,000 --> 00:15:42,360
<font color="#CCCCCC">looking for like usernames and go into</font>

462
00:15:40,439 --> 00:15:43,889
social<font color="#CCCCCC"> media to learn about</font><font color="#E5E5E5"> the users of</font>

463
00:15:42,360 --> 00:15:45,149
the system because later on we go to

464
00:15:43,889 --> 00:15:46,529
<font color="#CCCCCC">brute forcing and hammering our way</font><font color="#E5E5E5"> into</font>

465
00:15:45,149 --> 00:15:47,329
the app those going to be really

466
00:15:46,529 --> 00:15:49,759
important

467
00:15:47,329 --> 00:15:52,008
another funny thing is just postings on

468
00:15:49,759 --> 00:15:53,929
you know stack overflow already type of

469
00:15:52,009 --> 00:15:56,089
help forum you know Cisco<font color="#E5E5E5"> ESA configs</font>

470
00:15:53,929 --> 00:15:57,379
landing on the help forum you know those

471
00:15:56,089 --> 00:15:58,850
kind of things could be interesting it

472
00:15:57,379 --> 00:16:00,350
might just be a good FYI<font color="#E5E5E5"> to the customer</font>

473
00:15:58,850 --> 00:16:03,049
saying hey it'll change<font color="#E5E5E5"> your policy or</font>

474
00:16:00,350 --> 00:16:05,149
make sure you talk to this guy and then

475
00:16:03,049 --> 00:16:07,009
looking for source code so you<font color="#CCCCCC"> know</font>

476
00:16:05,149 --> 00:16:08,869
github a span can you find source code

477
00:16:07,009 --> 00:16:10,399
that's going to be helped free later

478
00:16:08,869 --> 00:16:11,660
they might<font color="#E5E5E5"> be</font><font color="#CCCCCC"> using some application</font>

479
00:16:10,399 --> 00:16:14,899
that you can you know pull source down

480
00:16:11,660 --> 00:16:16,699
and do some analysis there so after<font color="#CCCCCC"> we</font>

481
00:16:14,899 --> 00:16:18,110
finished our reconnaissance<font color="#E5E5E5"> the next</font>

482
00:16:16,699 --> 00:16:19,670
phase we do we've got our list of apps

483
00:16:18,110 --> 00:16:21,709
and technology<font color="#E5E5E5"> I know this is my cold</font>

484
00:16:19,670 --> 00:16:23,389
fusion exchange server I've got some

485
00:16:21,709 --> 00:16:24,859
some idea of what's going<font color="#E5E5E5"> on here and</font>

486
00:16:23,389 --> 00:16:26,629
<font color="#CCCCCC">now we're going to map that technology</font>

487
00:16:24,860 --> 00:16:29,689
to figure out the<font color="#E5E5E5"> next level of what's</font>

488
00:16:26,629 --> 00:16:31,519
actually there so mapping is key and<font color="#E5E5E5"> in</font>

489
00:16:29,689 --> 00:16:33,589
<font color="#E5E5E5">my opinion automated tools do it okay at</font>

490
00:16:31,519 --> 00:16:35,869
the job at<font color="#E5E5E5"> this they a spider and</font>

491
00:16:33,589 --> 00:16:37,459
<font color="#E5E5E5">spidering is essentially looking at what</font>

492
00:16:35,869 --> 00:16:40,309
it has references to in the code and

493
00:16:37,459 --> 00:16:42,170
building out that site map for you it's

494
00:16:40,309 --> 00:16:43,519
<font color="#E5E5E5">very easy to do in your burp you know</font>

495
00:16:42,170 --> 00:16:45,439
you'll right-click spider<font color="#E5E5E5"> the screenshot</font>

496
00:16:43,519 --> 00:16:46,910
of that and web inspect academics

497
00:16:45,439 --> 00:16:48,980
they're going to spider for you by

498
00:16:46,910 --> 00:16:51,799
default but what tools don't do a great

499
00:16:48,980 --> 00:16:52,699
job of is the unlinked concentration

500
00:16:51,799 --> 00:16:54,799
we're<font color="#E5E5E5"> going to show you how we do that</font>

501
00:16:52,699 --> 00:16:57,139
<font color="#E5E5E5">you're gonna get a</font><font color="#CCCCCC"> lot of wins if you're</font>

502
00:16:54,799 --> 00:16:59,179
going up against the large about a web

503
00:16:57,139 --> 00:17:01,429
apps online content in relations at gold

504
00:16:59,179 --> 00:17:03,169
mine remember<font color="#CCCCCC"> what I</font><font color="#E5E5E5"> was talking about</font>

505
00:17:01,429 --> 00:17:04,339
the old judges system by its IP this is

506
00:17:03,169 --> 00:17:06,289
critical because a lot of<font color="#CCCCCC"> talk a lot</font><font color="#E5E5E5"> of</font>

507
00:17:04,339 --> 00:17:07,819
times<font color="#CCCCCC"> are tools you give it a list of</font>

508
00:17:06,289 --> 00:17:10,309
targets right so if you give<font color="#E5E5E5"> it a list</font>

509
00:17:07,819 --> 00:17:11,928
of ips or even though<font color="#CCCCCC"> URLs based on the</font>

510
00:17:10,309 --> 00:17:14,059
IP you might be missing a lot<font color="#E5E5E5"> of stuff</font>

511
00:17:11,929 --> 00:17:16,039
because<font color="#E5E5E5"> with virtual hosting you could</font>

512
00:17:14,059 --> 00:17:17,510
have a lot apps sitting on one IP

513
00:17:16,039 --> 00:17:19,039
address that you<font color="#E5E5E5"> have to reference the</font>

514
00:17:17,510 --> 00:17:22,609
domain name<font color="#E5E5E5"> to actually get</font><font color="#CCCCCC"> the content</font>

515
00:17:19,039 --> 00:17:24,049
<font color="#E5E5E5">your you might be seeing a default is</font>

516
00:17:22,609 --> 00:17:25,789
page on the web root it doesn't redirect

517
00:17:24,049 --> 00:17:27,408
anything you're going<font color="#CCCCCC"> to</font><font color="#E5E5E5"> see that a</font><font color="#CCCCCC"> lot</font>

518
00:17:25,789 --> 00:17:29,090
actually and<font color="#E5E5E5"> you I think there's nothing</font>

519
00:17:27,409 --> 00:17:30,139
<font color="#E5E5E5">here you know I guess this is boring</font>

520
00:17:29,090 --> 00:17:34,279
maybe<font color="#E5E5E5"> I'll find something interesting</font>

521
00:17:30,139 --> 00:17:36,199
like poodle but be worried that<font color="#E5E5E5"> there</font>

522
00:17:34,279 --> 00:17:37,309
might be a directory an application

523
00:17:36,200 --> 00:17:39,230
living in a directory that's not

524
00:17:37,309 --> 00:17:40,370
automatically referenced by the<font color="#CCCCCC"> root so</font>

525
00:17:39,230 --> 00:17:43,240
you're going<font color="#E5E5E5"> to have to get unlike</font>

526
00:17:40,370 --> 00:17:46,219
content relation to really pull it out

527
00:17:43,240 --> 00:17:48,440
so how do you map an application this is

528
00:17:46,220 --> 00:17:50,090
burp suite if anybody<font color="#E5E5E5"> I'm sure if you've</font>

529
00:17:48,440 --> 00:17:51,980
done any bit of pen testing or security

530
00:17:50,090 --> 00:17:53,330
assessments you've probably used it they

531
00:17:51,980 --> 00:17:55,639
have a free version of pro version it's

532
00:17:53,330 --> 00:17:57,799
a awesome tool essentially<font color="#E5E5E5"> what you can</font>

533
00:17:55,639 --> 00:17:58,879
do is add a particular URL to your scope

534
00:17:57,799 --> 00:18:00,600
and you'll see it in<font color="#E5E5E5"> the window there</font>

535
00:17:58,880 --> 00:18:02,490
and you can<font color="#CCCCCC"> right click</font><font color="#E5E5E5"> in spider</font>

536
00:18:00,600 --> 00:18:04,350
it can take<font color="#CCCCCC"> a while spidering in fact</font>

537
00:18:02,490 --> 00:18:05,610
can take apps down be mindful of that

538
00:18:04,350 --> 00:18:06,810
you<font color="#E5E5E5"> know if the apps really sensitive</font>

539
00:18:05,610 --> 00:18:08,280
that could actually hurt it and you

540
00:18:06,810 --> 00:18:09,960
might have to just manually spider by

541
00:18:08,280 --> 00:18:12,660
using it be using the app in your

542
00:18:09,960 --> 00:18:13,710
browser but um this is essentially

543
00:18:12,660 --> 00:18:15,360
spidering it's going to crawl and<font color="#CCCCCC"> go to</font>

544
00:18:13,710 --> 00:18:18,140
all the link content on the application

545
00:18:15,360 --> 00:18:20,429
not a big deal they are not hard to do

546
00:18:18,140 --> 00:18:21,390
the unlink content piece of it is we're

547
00:18:20,430 --> 00:18:24,030
going to<font color="#E5E5E5"> get a lot</font><font color="#CCCCCC"> of wins that's the</font>

548
00:18:21,390 --> 00:18:25,470
treasure chest<font color="#CCCCCC"> with zelda zelda fan so</font>

549
00:18:24,030 --> 00:18:27,090
we'd like to use burps intruder for that

550
00:18:25,470 --> 00:18:28,860
it's got a lot of cool features a lot of

551
00:18:27,090 --> 00:18:31,169
cool control to automate requests rapid

552
00:18:28,860 --> 00:18:34,050
fire<font color="#CCCCCC"> I use a sniper a lot for that</font>

553
00:18:31,170 --> 00:18:35,760
particular resource I just identify set

554
00:18:34,050 --> 00:18:37,800
the the resource and requesting as the

555
00:18:35,760 --> 00:18:39,570
variable and then<font color="#CCCCCC"> I go through</font><font color="#E5E5E5"> a bunch</font>

556
00:18:37,800 --> 00:18:41,520
of wordless now these word lists are

557
00:18:39,570 --> 00:18:43,409
awesome setlist is a really good

558
00:18:41,520 --> 00:18:47,160
collection of all common word list for

559
00:18:43,410 --> 00:18:48,930
fuzzing password dumps web content<font color="#E5E5E5"> DNS</font>

560
00:18:47,160 --> 00:18:51,780
stuff and it's run by Daniel meisler and

561
00:18:48,930 --> 00:18:53,250
Jason<font color="#CCCCCC"> Haddix if if you leave here today</font>

562
00:18:51,780 --> 00:18:54,510
and you're going<font color="#E5E5E5"> to go to application</font>

563
00:18:53,250 --> 00:18:56,700
assessment you take one thing<font color="#E5E5E5"> away from</font>

564
00:18:54,510 --> 00:18:58,050
<font color="#CCCCCC">this talk run the wrath list against it</font>

565
00:18:56,700 --> 00:18:59,310
like seriously there's these rat there's

566
00:18:58,050 --> 00:19:01,320
these lists call draft list and<font color="#E5E5E5"> they're</font>

567
00:18:59,310 --> 00:19:02,970
in this particular get up project if you

568
00:19:01,320 --> 00:19:04,290
run the raffle asst against application

569
00:19:02,970 --> 00:19:06,060
you're going to find interesting stuff

570
00:19:04,290 --> 00:19:08,250
that<font color="#E5E5E5"> would have otherwise been missed I</font>

571
00:19:06,060 --> 00:19:11,820
can promise you that and there<font color="#E5E5E5"> might be</font>

572
00:19:08,250 --> 00:19:13,080
some other techniques here like using

573
00:19:11,820 --> 00:19:15,090
der Buster it's good that's still a<font color="#CCCCCC"> good</font>

574
00:19:13,080 --> 00:19:17,639
tool<font color="#E5E5E5"> I personally like to use intruder</font>

575
00:19:15,090 --> 00:19:20,100
but that's you know other things there's

576
00:19:17,640 --> 00:19:22,770
also<font color="#CCCCCC"> burps pro featured discover content</font>

577
00:19:20,100 --> 00:19:24,120
that dynamically builds<font color="#CCCCCC"> only content for</font>

578
00:19:22,770 --> 00:19:26,490
you so if you have the pro version it's

579
00:19:24,120 --> 00:19:31,409
unlike 350 that's a really cool resource

580
00:19:26,490 --> 00:19:33,270
as well and once you've done that

581
00:19:31,410 --> 00:19:34,470
reconnaissance<font color="#E5E5E5"> in that mapping this is</font>

582
00:19:33,270 --> 00:19:36,000
kind of like you've gotten that clear

583
00:19:34,470 --> 00:19:37,500
picture you've defined the road of

584
00:19:36,000 --> 00:19:39,510
linked and unlink content with your

585
00:19:37,500 --> 00:19:41,130
external assessment you got it all

586
00:19:39,510 --> 00:19:42,300
loaded up and you want to start<font color="#E5E5E5"> doing</font>

587
00:19:41,130 --> 00:19:45,090
your automated testing you<font color="#CCCCCC"> and run the</font>

588
00:19:42,300 --> 00:19:46,889
scan so automated testing this is where

589
00:19:45,090 --> 00:19:49,020
we you know the analysts through the

590
00:19:46,890 --> 00:19:51,120
person actually<font color="#E5E5E5"> is clicking the Scan</font>

591
00:19:49,020 --> 00:19:53,670
<font color="#E5E5E5">button so let's say we got everything to</font>

592
00:19:51,120 --> 00:19:56,310
find<font color="#E5E5E5"> in our burch sitemap and we go do</font>

593
00:19:53,670 --> 00:19:57,420
the active scan burp<font color="#E5E5E5"> and yeah this</font><font color="#CCCCCC"> is</font>

594
00:19:56,310 --> 00:19:59,370
<font color="#E5E5E5">basically going to try to identify</font>

595
00:19:57,420 --> 00:20:01,070
vulnerabilities it's good try<font color="#CCCCCC"> and</font>

596
00:19:59,370 --> 00:20:03,689
basically give us a lot of<font color="#CCCCCC"> results</font>

597
00:20:01,070 --> 00:20:05,220
sometimes it varies in time but you know

598
00:20:03,690 --> 00:20:07,380
<font color="#E5E5E5">we it's just a part of the job as part</font>

599
00:20:05,220 --> 00:20:08,490
of<font color="#E5E5E5"> what we do you want to make sure that</font>

600
00:20:07,380 --> 00:20:08,900
like<font color="#CCCCCC"> I said role you want</font><font color="#E5E5E5"> to run the</font>

601
00:20:08,490 --> 00:20:10,730
right

602
00:20:08,900 --> 00:20:12,770
for the job the commercial tools they

603
00:20:10,730 --> 00:20:14,300
kind of just blanket everything but you

604
00:20:12,770 --> 00:20:16,129
know like<font color="#CCCCCC"> I</font><font color="#E5E5E5"> said before if you've got</font>

605
00:20:14,300 --> 00:20:17,990
something from like<font color="#E5E5E5"> bo sent with joomla</font>

606
00:20:16,130 --> 00:20:19,820
wordpress or drupal there's custom

607
00:20:17,990 --> 00:20:21,680
tailored tools so make sure you run

608
00:20:19,820 --> 00:20:23,929
their scanners as well because they may

609
00:20:21,680 --> 00:20:27,470
numerate something else that burp or a

610
00:20:23,930 --> 00:20:29,120
queue or web inspect may miss also keep

611
00:20:27,470 --> 00:20:30,770
<font color="#E5E5E5">in mind with automated testing your</font>

612
00:20:29,120 --> 00:20:32,540
automated tools you need<font color="#CCCCCC"> to monitor them</font>

613
00:20:30,770 --> 00:20:34,610
because they can miss things they can

614
00:20:32,540 --> 00:20:37,040
break things they can vary in time take

615
00:20:34,610 --> 00:20:38,840
a long<font color="#E5E5E5"> time and they can reduce they can</font>

616
00:20:37,040 --> 00:20:40,580
cause false positives report false

617
00:20:38,840 --> 00:20:42,409
positives<font color="#E5E5E5"> so I'm not here to bash</font>

618
00:20:40,580 --> 00:20:45,260
<font color="#E5E5E5">automate tools i promise you that i use</font>

619
00:20:42,410 --> 00:20:46,730
them i love them but it's just something

620
00:20:45,260 --> 00:20:48,530
<font color="#CCCCCC">that we need</font><font color="#E5E5E5"> to use is a staple point a</font>

621
00:20:46,730 --> 00:20:50,390
start point not an end point so that's

622
00:20:48,530 --> 00:20:53,120
<font color="#CCCCCC">just the whole premise with that and</font>

623
00:20:50,390 --> 00:20:54,440
this moves into our manual testing this

624
00:20:53,120 --> 00:20:56,959
<font color="#E5E5E5">is like the meat and potatoes of this</font>

625
00:20:54,440 --> 00:20:58,580
talk right so manual testing there's

626
00:20:56,960 --> 00:21:00,170
four main questions<font color="#CCCCCC"> I like to keep in</font>

627
00:20:58,580 --> 00:21:02,480
<font color="#CCCCCC">mind when I'm doing my manual testing</font>

628
00:21:00,170 --> 00:21:04,640
phase and portion essentially I want to

629
00:21:02,480 --> 00:21:07,340
identify all areas of user input these

630
00:21:04,640 --> 00:21:08,720
are injection points so<font color="#E5E5E5"> where parameters</font>

631
00:21:07,340 --> 00:21:10,490
where are hidden values where the things

632
00:21:08,720 --> 00:21:12,050
than these requests going back and forth

633
00:21:10,490 --> 00:21:15,560
that I can you know essentially fuzz and

634
00:21:12,050 --> 00:21:17,600
pass input to I want to identify what is

635
00:21:15,560 --> 00:21:19,250
the purpose of<font color="#CCCCCC"> this application what why</font>

636
00:21:17,600 --> 00:21:21,709
<font color="#E5E5E5">is it created what's what is it doing</font>

637
00:21:19,250 --> 00:21:23,810
what<font color="#E5E5E5"> features does it offer why does the</font>

638
00:21:21,710 --> 00:21:25,190
developer create this or why what is

639
00:21:23,810 --> 00:21:26,780
this usability it's trying to portray

640
00:21:25,190 --> 00:21:28,370
and how<font color="#E5E5E5"> can I have use them like an</font>

641
00:21:26,780 --> 00:21:30,260
adversary would so that's what you<font color="#E5E5E5"> have</font>

642
00:21:28,370 --> 00:21:32,659
to<font color="#E5E5E5"> do essentially then you want to find</font>

643
00:21:30,260 --> 00:21:34,910
all the systems like the subdomain

644
00:21:32,660 --> 00:21:36,350
enumeration the IP the different things

645
00:21:34,910 --> 00:21:38,330
of that nature and you want to find that

646
00:21:36,350 --> 00:21:39,949
unlike content that automates was made

647
00:21:38,330 --> 00:21:42,439
me miss so you really<font color="#CCCCCC"> want to do all</font>

648
00:21:39,950 --> 00:21:43,940
<font color="#CCCCCC">that work before you get into the manual</font>

649
00:21:42,440 --> 00:21:45,680
testing phase you always want<font color="#E5E5E5"> to</font>

650
00:21:43,940 --> 00:21:48,290
continue asking yourself what happens if

651
00:21:45,680 --> 00:21:49,670
I try this what does the response i'm

652
00:21:48,290 --> 00:21:51,050
going to get is a new error message is a

653
00:21:49,670 --> 00:21:53,480
different content length is it a

654
00:21:51,050 --> 00:21:54,470
different<font color="#E5E5E5"> response status code these are</font>

655
00:21:53,480 --> 00:21:56,270
the things you've got<font color="#E5E5E5"> to</font><font color="#CCCCCC"> keep in mind</font>

656
00:21:54,470 --> 00:21:58,280
<font color="#E5E5E5">and then we drill down into the further</font>

657
00:21:56,270 --> 00:21:59,960
questions here's where we start<font color="#E5E5E5"> to like</font>

658
00:21:58,280 --> 00:22:02,840
classify things as<font color="#E5E5E5"> corner abilities</font>

659
00:21:59,960 --> 00:22:04,730
right so we're like all right our input

660
00:22:02,840 --> 00:22:06,169
<font color="#E5E5E5">being presented on the screen</font><font color="#CCCCCC"> maybe i'm</font>

661
00:22:04,730 --> 00:22:07,640
<font color="#CCCCCC">going to enter</font><font color="#E5E5E5"> some bold tags in there</font>

662
00:22:06,170 --> 00:22:09,980
and see if it actually bolts something

663
00:22:07,640 --> 00:22:11,660
when my output well<font color="#CCCCCC"> okay from</font><font color="#E5E5E5"> there</font><font color="#CCCCCC"> i'm</font>

664
00:22:09,980 --> 00:22:13,910
actually going to try if it does i'm

665
00:22:11,660 --> 00:22:15,440
going to<font color="#E5E5E5"> try and maybe do xss payload</font>

666
00:22:13,910 --> 00:22:17,630
with an<font color="#E5E5E5"> event handler</font><font color="#CCCCCC"> or something of</font>

667
00:22:15,440 --> 00:22:20,660
that nature and maybe we can<font color="#E5E5E5"> get an XSS</font>

668
00:22:17,630 --> 00:22:22,490
to render in the browser then you<font color="#E5E5E5"> will</font>

669
00:22:20,660 --> 00:22:24,350
also see<font color="#CCCCCC"> as my input being called</font>

670
00:22:22,490 --> 00:22:26,360
or stored in a database you know that's

671
00:22:24,350 --> 00:22:28,280
kind of hard sometimes but if that's<font color="#E5E5E5"> the</font>

672
00:22:26,360 --> 00:22:29,360
case try<font color="#E5E5E5"> and do some sequel jection pass</font>

673
00:22:28,280 --> 00:22:30,950
some statements try some different

674
00:22:29,360 --> 00:22:32,330
syntax even some of<font color="#E5E5E5"> the simple things</font>

675
00:22:30,950 --> 00:22:34,700
like single tick just see if you get a

676
00:22:32,330 --> 00:22:36,350
<font color="#E5E5E5">different response back does your input</font>

677
00:22:34,700 --> 00:22:38,330
generate an action to an external

678
00:22:36,350 --> 00:22:40,010
service so is the application trying to

679
00:22:38,330 --> 00:22:42,500
do something<font color="#E5E5E5"> on</font><font color="#CCCCCC"> behalf for you like</font>

680
00:22:40,010 --> 00:22:43,850
basically do a submission for you maybe

681
00:22:42,500 --> 00:22:44,990
sometimes you<font color="#E5E5E5"> could use</font><font color="#CCCCCC"> some server site</font>

682
00:22:43,850 --> 00:22:48,169
request forgery and we're going to<font color="#E5E5E5"> go</font>

683
00:22:44,990 --> 00:22:50,360
over a<font color="#E5E5E5"> really good example shortly does</font>

684
00:22:48,170 --> 00:22:52,610
your input go you know basically call

685
00:22:50,360 --> 00:22:54,649
upon a local file or you see it reaching

686
00:22:52,610 --> 00:22:56,479
<font color="#CCCCCC">out to another assistant this could lead</font>

687
00:22:54,650 --> 00:22:57,920
to a low fire RFI and they're really

688
00:22:56,480 --> 00:23:00,080
interesting will give a good example of

689
00:22:57,920 --> 00:23:02,150
that<font color="#CCCCCC"> too file upload a lot of</font>

690
00:23:00,080 --> 00:23:04,309
applications offer file upload can we

691
00:23:02,150 --> 00:23:06,559
abuse that can we upload any file we

692
00:23:04,309 --> 00:23:08,809
want or maybe<font color="#E5E5E5"> we capture in our proxy</font>

693
00:23:06,559 --> 00:23:11,240
and it's a client-side check and we can

694
00:23:08,809 --> 00:23:14,899
bypass the content type that it's trying

695
00:23:11,240 --> 00:23:17,300
<font color="#E5E5E5">to basically</font><font color="#CCCCCC"> say is only allowed those</font>

696
00:23:14,900 --> 00:23:19,760
are input go to another page so a lot of

697
00:23:17,300 --> 00:23:21,620
times this happens very common<font color="#E5E5E5"> domain</font>

698
00:23:19,760 --> 00:23:23,450
<font color="#E5E5E5">will say</font><font color="#CCCCCC"> alright i have this resource</font>

699
00:23:21,620 --> 00:23:25,520
and it will redirect<font color="#E5E5E5"> to my partner site</font>

700
00:23:23,450 --> 00:23:27,650
well if you<font color="#E5E5E5"> don't have that resource</font>

701
00:23:25,520 --> 00:23:29,900
whitelist or blacklisted with domains<font color="#E5E5E5"> i</font>

702
00:23:27,650 --> 00:23:32,000
can<font color="#E5E5E5"> point that redirect to anything I</font>

703
00:23:29,900 --> 00:23:33,740
want maybe a malicious link you<font color="#E5E5E5"> know and</font>

704
00:23:32,000 --> 00:23:35,929
I<font color="#E5E5E5"> can craft something and set it on</font>

705
00:23:33,740 --> 00:23:37,700
behalf and say you know put this from

706
00:23:35,929 --> 00:23:40,100
Microsoft and you know it's going to bad

707
00:23:37,700 --> 00:23:42,500
boy site so redirects<font color="#E5E5E5"> are big thing</font><font color="#CCCCCC"> too</font>

708
00:23:40,100 --> 00:23:44,030
I kill me enumerate email address this

709
00:23:42,500 --> 00:23:45,679
basically extract email addresses while

710
00:23:44,030 --> 00:23:47,360
we're doing this in our assessment basis

711
00:23:45,679 --> 00:23:49,070
then we can take<font color="#E5E5E5"> these email addresses</font>

712
00:23:47,360 --> 00:23:52,879
<font color="#CCCCCC">and then create some fishing campaigns</font>

713
00:23:49,070 --> 00:23:54,290
to target our absolute<font color="#CCCCCC"> our</font><font color="#E5E5E5"> scope so</font>

714
00:23:52,880 --> 00:23:56,840
essentially<font color="#E5E5E5"> hear what the injury touched</font>

715
00:23:54,290 --> 00:23:58,428
on I like<font color="#E5E5E5"> to do everything in burped</font>

716
00:23:56,840 --> 00:23:59,870
it's finally the bread<font color="#E5E5E5"> and</font><font color="#CCCCCC"> butter tool</font>

717
00:23:58,429 --> 00:24:02,420
<font color="#CCCCCC">of external assessments with web apps</font>

718
00:23:59,870 --> 00:24:05,090
you want to take these different lists

719
00:24:02,420 --> 00:24:06,950
and open source because they basically

720
00:24:05,090 --> 00:24:08,750
can help you with<font color="#CCCCCC"> your fuzzing they can</font>

721
00:24:06,950 --> 00:24:10,790
automate things when<font color="#E5E5E5"> you're setting them</font>

722
00:24:08,750 --> 00:24:13,400
to intruder or a Peter wherever it may

723
00:24:10,790 --> 00:24:15,710
be but you want<font color="#E5E5E5"> to understand how your</font>

724
00:24:13,400 --> 00:24:16,820
inputs being leveraged and<font color="#CCCCCC"> where to use</font>

725
00:24:15,710 --> 00:24:19,250
it so you can identify those

726
00:24:16,820 --> 00:24:22,100
vulnerabilities we just discussed what I

727
00:24:19,250 --> 00:24:24,380
like is<font color="#E5E5E5"> burps pro in Burt pro it doesn't</font>

728
00:24:22,100 --> 00:24:26,149
have a throttle intruder but<font color="#E5E5E5"> basically</font>

729
00:24:24,380 --> 00:24:28,160
let's say<font color="#E5E5E5"> for example you're sending a</font>

730
00:24:26,150 --> 00:24:29,510
request to repeat her and you just kind

731
00:24:28,160 --> 00:24:31,669
of want<font color="#CCCCCC"> to see you're just manipulating</font>

732
00:24:29,510 --> 00:24:33,290
things<font color="#CCCCCC"> and input</font><font color="#E5E5E5"> and your fuzzing and</font>

733
00:24:31,669 --> 00:24:34,610
you're passing<font color="#E5E5E5"> it a couple times and you</font>

734
00:24:33,290 --> 00:24:35,399
just see the<font color="#E5E5E5"> response well if you want</font>

735
00:24:34,610 --> 00:24:36,959
<font color="#E5E5E5">to do that</font><font color="#CCCCCC"> an automated</font>

736
00:24:35,399 --> 00:24:38,158
fashion you<font color="#E5E5E5"> can use intruder and then</font>

737
00:24:36,960 --> 00:24:39,989
that's<font color="#CCCCCC"> when you can really leverage some</font>

738
00:24:38,159 --> 00:24:42,779
of these<font color="#E5E5E5"> great lists to maybe find them</font>

739
00:24:39,989 --> 00:24:45,210
as vulnerabilities now we're going<font color="#E5E5E5"> to</font>

740
00:24:42,779 --> 00:24:47,249
get<font color="#E5E5E5"> into our wreck-it Ralph phase we're</font>

741
00:24:45,210 --> 00:24:48,779
like we just like to go nuts<font color="#E5E5E5"> we go we're</font>

742
00:24:47,249 --> 00:24:49,619
<font color="#E5E5E5">going beyond the automated tool and</font>

743
00:24:48,779 --> 00:24:51,389
we're going<font color="#E5E5E5"> to go</font><font color="#CCCCCC"> into the manual</font>

744
00:24:49,619 --> 00:24:53,428
testing so here's some real good use

745
00:24:51,389 --> 00:24:54,988
case<font color="#CCCCCC"> we've</font><font color="#E5E5E5"> got about five of them of how</font>

746
00:24:53,429 --> 00:24:58,940
we use manual testing techniques to go

747
00:24:54,989 --> 00:25:01,589
beyond the tool so feature abuse

748
00:24:58,940 --> 00:25:04,409
everyone's come across a Contact Us page

749
00:25:01,589 --> 00:25:06,869
or a feedback form and a web app<font color="#CCCCCC"> form</font>

750
00:25:04,409 --> 00:25:08,609
<font color="#CCCCCC">based usually it's</font><font color="#E5E5E5"> not a mail to where</font>

751
00:25:06,869 --> 00:25:11,039
it's like hey send this email<font color="#E5E5E5"> to this</font>

752
00:25:08,609 --> 00:25:12,928
guy<font color="#CCCCCC"> okay no it's handled by the</font>

753
00:25:11,039 --> 00:25:15,349
application then it's you know basically

754
00:25:12,929 --> 00:25:17,580
<font color="#E5E5E5">just saying give me your name your email</font>

755
00:25:15,349 --> 00:25:20,039
you know and<font color="#E5E5E5"> I'm gonna send an email on</font>

756
00:25:17,580 --> 00:25:23,279
behalf<font color="#E5E5E5"> from the application right well</font>

757
00:25:20,039 --> 00:25:25,859
commonly<font color="#E5E5E5"> the browser will play nice</font><font color="#CCCCCC"> it</font>

758
00:25:23,279 --> 00:25:27,929
<font color="#CCCCCC">will</font><font color="#E5E5E5"> only give us a couple fields well</font>

759
00:25:25,859 --> 00:25:29,189
if we catch this in a proxy sometimes

760
00:25:27,929 --> 00:25:31,979
there's hidden parameters being passed

761
00:25:29,190 --> 00:25:34,169
client side and we can manipulate these

762
00:25:31,979 --> 00:25:36,629
parameters and then we can abuse these

763
00:25:34,169 --> 00:25:38,580
features<font color="#E5E5E5"> and how excited</font><font color="#CCCCCC"> would I be</font>

764
00:25:36,629 --> 00:25:41,668
would you be if I could tell you that on

765
00:25:38,580 --> 00:25:43,619
your application<font color="#E5E5E5"> if you have this that I</font>

766
00:25:41,669 --> 00:25:46,289
could basically send an email from your

767
00:25:43,619 --> 00:25:50,039
CEO to anybody in your company through

768
00:25:46,289 --> 00:25:52,499
your website well I'm excited<font color="#CCCCCC"> at least</font>

769
00:25:50,039 --> 00:25:55,440
so here it is basically it's a post

770
00:25:52,499 --> 00:25:57,749
request you capture that<font color="#E5E5E5"> and contact us</font>

771
00:25:55,440 --> 00:26:00,869
page written in good old PHP get<font color="#E5E5E5"> the</font>

772
00:25:57,749 --> 00:26:03,749
feedback sorry you're in the good old ph

773
00:26:00,869 --> 00:26:05,759
big and so<font color="#CCCCCC"> basically when we see in the</font>

774
00:26:03,749 --> 00:26:07,769
<font color="#E5E5E5">browser we able to manipulate the from</font>

775
00:26:05,759 --> 00:26:09,989
line or<font color="#CCCCCC"> the two line basically the</font>

776
00:26:07,769 --> 00:26:13,259
<font color="#CCCCCC">stephanie which is the name we're also</font>

777
00:26:09,989 --> 00:26:15,089
able to about make the message which is

778
00:26:13,259 --> 00:26:16,919
basically you know what's the contents

779
00:26:15,089 --> 00:26:18,928
in<font color="#CCCCCC"> the email and we're also able to</font>

780
00:26:16,919 --> 00:26:20,729
<font color="#CCCCCC">supply our own email well you'll see</font>

781
00:26:18,929 --> 00:26:23,070
there's a site admin and a subject

782
00:26:20,729 --> 00:26:25,049
parameter behind the scenes right and

783
00:26:23,070 --> 00:26:27,539
we're capturing this in the proxy we can

784
00:26:25,049 --> 00:26:31,710
manipulate this value and<font color="#E5E5E5"> I could send</font>

785
00:26:27,539 --> 00:26:33,059
this from anybody to anybody with a

786
00:26:31,710 --> 00:26:34,529
different subject line to entice

787
00:26:33,059 --> 00:26:36,960
somebody to click on as an<font color="#CCCCCC"> email and</font>

788
00:26:34,529 --> 00:26:39,479
it's all coming from<font color="#E5E5E5"> your site so thanks</font>

789
00:26:36,960 --> 00:26:41,099
this is smtp injection this is a<font color="#E5E5E5"> finding</font>

790
00:26:39,479 --> 00:26:44,940
that an automated tool may not find but

791
00:26:41,099 --> 00:26:47,639
<font color="#CCCCCC">a manual testing you will find then it's</font>

792
00:26:44,940 --> 00:26:48,900
taking say example to hear let's combine

793
00:26:47,639 --> 00:26:50,340
several low finding

794
00:26:48,900 --> 00:26:52,620
right so<font color="#CCCCCC"> I made tools will find like a</font>

795
00:26:50,340 --> 00:26:55,350
you know<font color="#E5E5E5"> it's going to lock out you know</font>

796
00:26:52,620 --> 00:26:58,590
maybe I found a username here potential

797
00:26:55,350 --> 00:26:59,909
you know<font color="#E5E5E5"> password complexity is low and</font>

798
00:26:58,590 --> 00:27:01,949
basically what we're doing<font color="#E5E5E5"> here is we're</font>

799
00:26:59,910 --> 00:27:03,480
taking several low findings and we're

800
00:27:01,950 --> 00:27:04,530
building them together to create

801
00:27:03,480 --> 00:27:06,960
<font color="#E5E5E5">something that could be potentially</font>

802
00:27:04,530 --> 00:27:09,330
critical like an account<font color="#CCCCCC"> compromised and</font>

803
00:27:06,960 --> 00:27:11,490
what we're<font color="#E5E5E5"> going to do is kind of cover</font>

804
00:27:09,330 --> 00:27:12,629
that so let's say<font color="#E5E5E5"> for example your</font>

805
00:27:11,490 --> 00:27:14,850
application is a<font color="#E5E5E5"> password reset</font>

806
00:27:12,630 --> 00:27:16,590
functionality right depending<font color="#CCCCCC"> on</font><font color="#E5E5E5"> the</font>

807
00:27:14,850 --> 00:27:18,600
error message it gives back we may be

808
00:27:16,590 --> 00:27:20,850
<font color="#E5E5E5">able to say you know if I supply this</font>

809
00:27:18,600 --> 00:27:22,800
<font color="#E5E5E5">email address is it saying email just</font>

810
00:27:20,850 --> 00:27:24,780
not found is it saying this email was

811
00:27:22,800 --> 00:27:27,290
found so is it about email or not so I

812
00:27:24,780 --> 00:27:30,090
can sometimes get potential wins there

813
00:27:27,290 --> 00:27:32,460
depending on<font color="#E5E5E5"> the login error message to</font>

814
00:27:30,090 --> 00:27:34,470
sometimes they'll say you know invalid

815
00:27:32,460 --> 00:27:36,330
username and password<font color="#E5E5E5"> so you don't know</font>

816
00:27:34,470 --> 00:27:38,160
if<font color="#CCCCCC"> it was the bad pass when we use names</font>

817
00:27:36,330 --> 00:27:40,320
sometimes this is invalid username so

818
00:27:38,160 --> 00:27:42,300
it's<font color="#CCCCCC"> bet instead of</font><font color="#E5E5E5"> giving me specifics</font>

819
00:27:40,320 --> 00:27:44,879
just be more generic you know that's the

820
00:27:42,300 --> 00:27:46,620
better practice sometimes timing so if

821
00:27:44,880 --> 00:27:48,900
you're<font color="#CCCCCC"> looking at you know with intruder</font>

822
00:27:46,620 --> 00:27:50,580
sometimes a successful login it's like

823
00:27:48,900 --> 00:27:52,950
you know<font color="#E5E5E5"> 15 seconds in length it takes a</font>

824
00:27:50,580 --> 00:27:56,429
<font color="#E5E5E5">while to get in while an invalid one is</font>

825
00:27:52,950 --> 00:27:57,750
like very short user registration this

826
00:27:56,430 --> 00:28:00,900
happens a lot and<font color="#E5E5E5"> it's kind of hard to</font>

827
00:27:57,750 --> 00:28:02,940
control you'll basically allow people to

828
00:28:00,900 --> 00:28:04,980
register for<font color="#E5E5E5"> your site and you'll say</font>

829
00:28:02,940 --> 00:28:06,990
<font color="#CCCCCC">alright I'm going</font><font color="#E5E5E5"> to do my user name is</font>

830
00:28:04,980 --> 00:28:08,820
zach one two three well it says that<font color="#E5E5E5"> you</font>

831
00:28:06,990 --> 00:28:10,800
already exists so now I just<font color="#E5E5E5"> know zach</font>

832
00:28:08,820 --> 00:28:12,450
one two three is a user name right so

833
00:28:10,800 --> 00:28:14,100
<font color="#E5E5E5">I'm</font><font color="#CCCCCC"> going to definitely Brooke forces</font>

834
00:28:12,450 --> 00:28:16,830
<font color="#E5E5E5">happen one two three and you can even</font>

835
00:28:14,100 --> 00:28:19,469
run intruder<font color="#CCCCCC"> Imbert and try to enumerate</font>

836
00:28:16,830 --> 00:28:20,669
further<font color="#E5E5E5"> usernames so this can kind of</font>

837
00:28:19,470 --> 00:28:24,810
give you that treasure chest for group

838
00:28:20,670 --> 00:28:26,340
for later various error messages HTML

839
00:28:24,810 --> 00:28:28,260
source sometimes developers will leave

840
00:28:26,340 --> 00:28:31,350
client-side comments in the coats always

841
00:28:28,260 --> 00:28:33,360
look at that and contact us this is kind

842
00:28:31,350 --> 00:28:35,850
<font color="#E5E5E5">of funny I had an application about a</font>

843
00:28:33,360 --> 00:28:37,290
year ago it was a contact us page right

844
00:28:35,850 --> 00:28:39,209
and it was saying<font color="#E5E5E5"> fill out all these</font>

845
00:28:37,290 --> 00:28:41,490
forms and then which admin do you want

846
00:28:39,210 --> 00:28:44,190
to send<font color="#E5E5E5"> this to so it told me Marianne</font>

847
00:28:41,490 --> 00:28:46,320
Joe<font color="#CCCCCC"> and Bob or the site admin so now I</font>

848
00:28:44,190 --> 00:28:49,140
know you the site admins<font color="#CCCCCC"> usernames and</font>

849
00:28:46,320 --> 00:28:50,370
you bet I'm going to enforce that you

850
00:28:49,140 --> 00:28:51,810
could<font color="#E5E5E5"> find a lot of usernames through</font>

851
00:28:50,370 --> 00:28:54,120
google hacking open source intelligence

852
00:28:51,810 --> 00:28:55,950
like Andrew said social media profiles

853
00:28:54,120 --> 00:28:57,689
things like that document metadata

854
00:28:55,950 --> 00:29:01,470
sometimes as user names and things of

855
00:28:57,690 --> 00:29:03,240
that nature to that are on the sites and

856
00:29:01,470 --> 00:29:05,100
the application<font color="#E5E5E5"> just tells you there's</font>

857
00:29:03,240 --> 00:29:06,570
applications I've seen and I don't know

858
00:29:05,100 --> 00:29:07,770
what the purpose of this<font color="#E5E5E5"> is but the</font>

859
00:29:06,570 --> 00:29:10,740
application the bottom<font color="#E5E5E5"> with porn will</font>

860
00:29:07,770 --> 00:29:12,000
say Joe was the last guy to<font color="#E5E5E5"> login</font><font color="#CCCCCC"> Thanks</font>

861
00:29:10,740 --> 00:29:13,830
you just told me Joe is about user I

862
00:29:12,000 --> 00:29:17,460
don't know why you told me that<font color="#E5E5E5"> but</font><font color="#CCCCCC"> okay</font>

863
00:29:13,830 --> 00:29:19,590
so<font color="#CCCCCC"> we got to use your</font><font color="#E5E5E5"> name right let's</font>

864
00:29:17,460 --> 00:29:22,080
send<font color="#E5E5E5"> it to burps repeater which is kind</font>

865
00:29:19,590 --> 00:29:23,399
<font color="#E5E5E5">of like our descend like one request one</font>

866
00:29:22,080 --> 00:29:25,559
request will request<font color="#E5E5E5"> it's not automated</font>

867
00:29:23,400 --> 00:29:27,809
we just come send things let's say<font color="#E5E5E5"> we</font>

868
00:29:25,559 --> 00:29:30,240
manipulate password field five times we

869
00:29:27,809 --> 00:29:31,889
<font color="#E5E5E5">noticed that no change in response it</font>

870
00:29:30,240 --> 00:29:35,190
hasn't said your accounts locked out for

871
00:29:31,890 --> 00:29:38,370
Joe ok let's try<font color="#CCCCCC"> ten times let's try 15</font>

872
00:29:35,190 --> 00:29:39,600
if there's no lockout and game on I can

873
00:29:38,370 --> 00:29:41,399
brute force and knock on<font color="#E5E5E5"> the door of</font>

874
00:29:39,600 --> 00:29:43,350
your<font color="#E5E5E5"> login as many times as I want and</font>

875
00:29:41,400 --> 00:29:45,270
if you have basic authentication there's

876
00:29:43,350 --> 00:29:48,840
no lockout feature built into<font color="#CCCCCC"> that</font>

877
00:29:45,270 --> 00:29:50,158
either so keep that in<font color="#E5E5E5"> mind so then if</font>

878
00:29:48,840 --> 00:29:51,299
you want to make it into an automated

879
00:29:50,159 --> 00:29:54,059
thing you would send it to burst

880
00:29:51,299 --> 00:29:56,460
intruder and things if we<font color="#CCCCCC"> can find no</font>

881
00:29:54,059 --> 00:29:58,110
account lockout sometimes to thwart this

882
00:29:56,460 --> 00:29:59,520
people will do CAPTCHAs they'll do

883
00:29:58,110 --> 00:30:01,350
different things of that nature they'll

884
00:29:59,520 --> 00:30:04,020
put in a policy for<font color="#CCCCCC"> lockout or they'll</font>

885
00:30:01,350 --> 00:30:06,629
say you know reach out<font color="#E5E5E5"> to this site</font>

886
00:30:04,020 --> 00:30:08,879
admin or whatever but basically if

887
00:30:06,630 --> 00:30:09,960
<font color="#CCCCCC">you're if you walk down your logins make</font>

888
00:30:08,880 --> 00:30:11,400
<font color="#CCCCCC">sure you lock down</font><font color="#E5E5E5"> all your ball against</font>

889
00:30:09,960 --> 00:30:13,590
all of your different ways to<font color="#CCCCCC"> get into</font>

890
00:30:11,400 --> 00:30:15,960
the castle I've seen it where a main

891
00:30:13,590 --> 00:30:18,389
login on the site<font color="#E5E5E5"> is secure as policy in</font>

892
00:30:15,960 --> 00:30:21,090
place<font color="#E5E5E5"> no automate you know no lock it</font>

893
00:30:18,390 --> 00:30:23,730
<font color="#E5E5E5">definitely has lockouts but their mobile</font>

894
00:30:21,090 --> 00:30:26,340
interface or their<font color="#E5E5E5"> API doesn't have a</font>

895
00:30:23,730 --> 00:30:28,409
lock out so people can get in with<font color="#E5E5E5"> that</font>

896
00:30:26,340 --> 00:30:30,840
same username into other logins so keep

897
00:30:28,409 --> 00:30:33,929
that in mind<font color="#E5E5E5"> and weak passwords we as</font>

898
00:30:30,840 --> 00:30:36,408
humans are terrible with passwords we

899
00:30:33,929 --> 00:30:39,000
are it's just<font color="#E5E5E5"> human nature unfortunately</font>

900
00:30:36,409 --> 00:30:40,289
whether it's now or<font color="#CCCCCC"> in the past I mean</font>

901
00:30:39,000 --> 00:30:42,750
I've<font color="#CCCCCC"> been guilty of it too before I</font>

902
00:30:40,289 --> 00:30:44,010
became a security field passwords

903
00:30:42,750 --> 00:30:46,289
sometimes they're the same as<font color="#CCCCCC"> the</font>

904
00:30:44,010 --> 00:30:47,908
username often sometimes there's

905
00:30:46,289 --> 00:30:48,929
variations of passwords sometimes people

906
00:30:47,909 --> 00:30:50,760
think<font color="#E5E5E5"> they're tricky and they do</font>

907
00:30:48,929 --> 00:30:52,080
keyboard walks right and they're like<font color="#CCCCCC"> oh</font>

908
00:30:50,760 --> 00:30:53,820
that's great no it's<font color="#CCCCCC"> not there's</font>

909
00:30:52,080 --> 00:30:55,918
password lists out there<font color="#E5E5E5"> they have</font>

910
00:30:53,820 --> 00:30:57,720
keyboard walks in<font color="#E5E5E5"> them so keep that in</font>

911
00:30:55,919 --> 00:30:58,860
mind there's lots of<font color="#E5E5E5"> great worthless out</font>

912
00:30:57,720 --> 00:31:00,690
there especially like an injury said

913
00:30:58,860 --> 00:31:01,709
earlier<font color="#CCCCCC"> and you know with the cyclists</font>

914
00:31:00,690 --> 00:31:04,429
and things like that there's a great

915
00:31:01,710 --> 00:31:07,080
lunch and even<font color="#E5E5E5"> you know myspace recently</font>

916
00:31:04,429 --> 00:31:08,970
got compromised and those creds probably

917
00:31:07,080 --> 00:31:10,520
will come out eventually so maybe

918
00:31:08,970 --> 00:31:14,159
<font color="#CCCCCC">they'll</font><font color="#E5E5E5"> be a worthless for that right</font>

919
00:31:10,520 --> 00:31:15,020
but consider basically if you want to

920
00:31:14,159 --> 00:31:16,970
make more targeted

921
00:31:15,020 --> 00:31:18,800
there's a tool called cool and you could

922
00:31:16,970 --> 00:31:20,240
run that scrapes your site and it kind

923
00:31:18,800 --> 00:31:22,550
of extracts<font color="#E5E5E5"> like certain words to try</font>

924
00:31:20,240 --> 00:31:25,070
<font color="#E5E5E5">and make a more tailored password list</font>

925
00:31:22,550 --> 00:31:28,010
for you or username lowes you also want

926
00:31:25,070 --> 00:31:29,270
to research your targets is where you

927
00:31:28,010 --> 00:31:31,160
kind of go to a dark place a little<font color="#E5E5E5"> bit</font>

928
00:31:29,270 --> 00:31:33,860
but is this true like if you enumerate

929
00:31:31,160 --> 00:31:35,600
that you know John Doe is with the XYZ

930
00:31:33,860 --> 00:31:38,590
company and then you find him on<font color="#CCCCCC"> social</font>

931
00:31:35,600 --> 00:31:40,370
media and he<font color="#E5E5E5"> finally has a loving</font>

932
00:31:38,590 --> 00:31:43,220
passion for the washington redskins

933
00:31:40,370 --> 00:31:44,419
football team like myself then maybe

934
00:31:43,220 --> 00:31:46,250
<font color="#E5E5E5">you're going to make variations of</font>

935
00:31:44,420 --> 00:31:47,390
passwords with the<font color="#CCCCCC"> Redskins in it or you</font>

936
00:31:46,250 --> 00:31:49,040
<font color="#CCCCCC">finalize daughter's name</font><font color="#E5E5E5"> is Caroline</font>

937
00:31:47,390 --> 00:31:50,930
unfortunately this is the<font color="#E5E5E5"> truth and</font>

938
00:31:49,040 --> 00:31:53,980
<font color="#CCCCCC">people do things they know and love as</font>

939
00:31:50,930 --> 00:31:56,570
their passwords so keep that in<font color="#CCCCCC"> mind</font>

940
00:31:53,980 --> 00:32:00,260
example<font color="#E5E5E5"> 3 hopefully on a putting your</font>

941
00:31:56,570 --> 00:32:03,439
slipper example 3 let's say you have you

942
00:32:00,260 --> 00:32:05,480
<font color="#CCCCCC">stomp house resource called proxy ashx</font>

943
00:32:03,440 --> 00:32:08,300
found this in a mapping application

944
00:32:05,480 --> 00:32:11,300
couple<font color="#E5E5E5"> months ago and it was essentially</font>

945
00:32:08,300 --> 00:32:12,889
there to give a functionality so if a

946
00:32:11,300 --> 00:32:15,139
domain doesn't play nice with<font color="#E5E5E5"> the cross</font>

947
00:32:12,890 --> 00:32:17,420
origin resource sharing the cores to

948
00:32:15,140 --> 00:32:20,480
policy that you could still have it

949
00:32:17,420 --> 00:32:22,010
reach out to<font color="#E5E5E5"> that domain well that's</font>

950
00:32:20,480 --> 00:32:23,840
<font color="#E5E5E5">cool and all and it's a nice feature I'm</font>

951
00:32:22,010 --> 00:32:25,460
sure whoever wants<font color="#CCCCCC"> to use it but I'm</font>

952
00:32:23,840 --> 00:32:27,470
<font color="#E5E5E5">going</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> try to use it right because</font>

953
00:32:25,460 --> 00:32:30,410
that's<font color="#E5E5E5"> my job I'm going to basically</font>

954
00:32:27,470 --> 00:32:31,790
append a ? to it maybe it's if there's

955
00:32:30,410 --> 00:32:33,620
if that doesn't work I would try a

956
00:32:31,790 --> 00:32:35,120
parameter and trying to feed a URL but

957
00:32:33,620 --> 00:32:36,949
essentially all I did was append a

958
00:32:35,120 --> 00:32:40,280
question mark and try to get to go to

959
00:32:36,950 --> 00:32:42,200
<font color="#E5E5E5">Google well it loaded google inside the</font>

960
00:32:40,280 --> 00:32:44,899
domain and that's<font color="#E5E5E5"> pretty cool to me</font>

961
00:32:42,200 --> 00:32:46,580
because it didn't leave the site and it

962
00:32:44,900 --> 00:32:48,710
loaded<font color="#E5E5E5"> Google's content while I was</font>

963
00:32:46,580 --> 00:32:49,879
still<font color="#E5E5E5"> in the site so that's pretty</font>

964
00:32:48,710 --> 00:32:52,340
interesting so we kind of have an open

965
00:32:49,880 --> 00:32:54,860
redirect here almost and two ways you

966
00:32:52,340 --> 00:32:56,629
can misuse this is once for your fishing

967
00:32:54,860 --> 00:32:58,100
you could point it to a malicious link

968
00:32:56,630 --> 00:32:59,900
you could obfuscate the link you do

969
00:32:58,100 --> 00:33:01,790
whatever<font color="#E5E5E5"> you want send it craft it and</font>

970
00:32:59,900 --> 00:33:03,110
have somebody click on it and they

971
00:33:01,790 --> 00:33:05,149
believe it because it's at a good domain

972
00:33:03,110 --> 00:33:08,600
and they see the<font color="#E5E5E5"> resource and they don't</font>

973
00:33:05,150 --> 00:33:11,120
<font color="#E5E5E5">know where it's going or even cooler we</font>

974
00:33:08,600 --> 00:33:13,639
can bypass<font color="#E5E5E5"> the firewall so the</font>

975
00:33:11,120 --> 00:33:15,800
application essentially this resource

976
00:33:13,640 --> 00:33:18,110
allowed us to make arbitrary TCP

977
00:33:15,800 --> 00:33:20,840
connections to systems both external and

978
00:33:18,110 --> 00:33:23,449
internal we<font color="#E5E5E5"> tested it and we could</font>

979
00:33:20,840 --> 00:33:25,040
essentially try and map out everything

980
00:33:23,450 --> 00:33:26,780
behind the firewall and internal to the

981
00:33:25,040 --> 00:33:30,080
network just by me

982
00:33:26,780 --> 00:33:31,910
in different<font color="#E5E5E5"> connections an example</font><font color="#CCCCCC"> of</font>

983
00:33:30,080 --> 00:33:33,860
this is essentially we leverage that we

984
00:33:31,910 --> 00:33:36,350
wrote a python script with the request

985
00:33:33,860 --> 00:33:38,300
module and we automated it to bypass the

986
00:33:36,350 --> 00:33:40,850
firewall and attempt to just try and

987
00:33:38,300 --> 00:33:42,560
<font color="#E5E5E5">connect to internal network and we just</font>

988
00:33:40,850 --> 00:33:44,629
try<font color="#E5E5E5"> to map this out and looked at the</font>

989
00:33:42,560 --> 00:33:47,510
<font color="#E5E5E5">results and we looked at the 403 s and</font>

990
00:33:44,630 --> 00:33:50,330
the 200s and the<font color="#E5E5E5"> 30 tues we got rendered</font>

991
00:33:47,510 --> 00:33:52,460
um and we see look here something that

992
00:33:50,330 --> 00:33:54,470
we wouldn't<font color="#E5E5E5"> see externally but we're</font>

993
00:33:52,460 --> 00:33:57,010
mapping out the internal network from an

994
00:33:54,470 --> 00:33:59,900
<font color="#CCCCCC">internet facing resource in the site and</font>

995
00:33:57,010 --> 00:34:02,300
now I see<font color="#CCCCCC"> that internal you have the</font>

996
00:33:59,900 --> 00:34:04,100
cisco email security appliance and<font color="#E5E5E5"> i</font>

997
00:34:02,300 --> 00:34:05,450
have the<font color="#E5E5E5"> versioning and the login it's</font>

998
00:34:04,100 --> 00:34:06,860
pretty cool so<font color="#E5E5E5"> I'm actually touching</font>

999
00:34:05,450 --> 00:34:09,168
things<font color="#E5E5E5"> I shouldn't be touching from the</font>

1000
00:34:06,860 --> 00:34:11,779
internet that<font color="#E5E5E5"> are internal all through</font>

1001
00:34:09,168 --> 00:34:13,759
just one resource that was built for

1002
00:34:11,780 --> 00:34:16,520
usability but can be abused by is a

1003
00:34:13,760 --> 00:34:18,350
feature<font color="#CCCCCC"> all right all right thanks Zach</font>

1004
00:34:16,520 --> 00:34:20,989
so I'm<font color="#CCCCCC"> going to go in example for which</font>

1005
00:34:18,350 --> 00:34:22,429
is massaging file inclusion to code

1006
00:34:20,989 --> 00:34:24,158
execution which is a great way to

1007
00:34:22,429 --> 00:34:28,040
impress chicks at bars and we tell you

1008
00:34:24,159 --> 00:34:29,450
that's how I do it so here<font color="#E5E5E5"> we are so</font>

1009
00:34:28,040 --> 00:34:30,918
<font color="#E5E5E5">file inclusion vulnerabilities if you're</font>

1010
00:34:29,449 --> 00:34:32,779
not familiar i mentioned a little bit

1011
00:34:30,918 --> 00:34:34,040
earlier<font color="#E5E5E5"> so it's like you're loading some</font>

1012
00:34:32,780 --> 00:34:35,360
of their local resource<font color="#E5E5E5"> or remote</font>

1013
00:34:34,040 --> 00:34:37,190
resource and it can be interpreted

1014
00:34:35,360 --> 00:34:38,929
different ways but<font color="#E5E5E5"> the application you</font>

1015
00:34:37,190 --> 00:34:41,418
might get it to<font color="#CCCCCC"> actually be interpreted</font>

1016
00:34:38,929 --> 00:34:44,030
and run code the example<font color="#CCCCCC"> be like a PHP</font>

1017
00:34:41,418 --> 00:34:45,949
include or it might just be cat it to

1018
00:34:44,030 --> 00:34:49,970
the screen echo to the screen example be

1019
00:34:45,949 --> 00:34:51,319
like a PHP echo so<font color="#E5E5E5"> essentially with that</font>

1020
00:34:49,969 --> 00:34:52,668
you have different<font color="#E5E5E5"> things you can do you</font>

1021
00:34:51,320 --> 00:34:53,990
might just<font color="#E5E5E5"> be</font><font color="#CCCCCC"> able</font><font color="#E5E5E5"> to read files might</font>

1022
00:34:52,668 --> 00:34:55,389
be able to<font color="#E5E5E5"> actually execute code you'll</font>

1023
00:34:53,989 --> 00:34:58,549
play with it layer to figure this out

1024
00:34:55,389 --> 00:35:00,410
and<font color="#E5E5E5"> Elfa is require a little more work</font>

1025
00:34:58,550 --> 00:35:02,330
than<font color="#E5E5E5"> are five so</font><font color="#CCCCCC"> LF buys</font><font color="#E5E5E5"> you got to kind</font>

1026
00:35:00,410 --> 00:35:04,160
of the shovel<font color="#E5E5E5"> your input into a file and</font>

1027
00:35:02,330 --> 00:35:05,660
include that file maybe you can get your

1028
00:35:04,160 --> 00:35:07,520
input into a file upload but you can get

1029
00:35:05,660 --> 00:35:08,960
your input into a log file and you want

1030
00:35:07,520 --> 00:35:10,750
to include that<font color="#E5E5E5"> file and your inputs</font>

1031
00:35:08,960 --> 00:35:12,890
<font color="#E5E5E5">generally code that you want to run</font>

1032
00:35:10,750 --> 00:35:13,940
<font color="#CCCCCC">RFI's are a whole lot easier usually</font>

1033
00:35:12,890 --> 00:35:15,920
because you can just point it back to

1034
00:35:13,940 --> 00:35:17,600
resource you control and provided code

1035
00:35:15,920 --> 00:35:19,850
and this is a good example because your

1036
00:35:17,600 --> 00:35:21,500
automated tool may find you<font color="#CCCCCC"> bella fiber</font>

1037
00:35:19,850 --> 00:35:23,630
will find yellow flag an extra fine

1038
00:35:21,500 --> 00:35:25,190
yellow fly or RFI but they don't<font color="#E5E5E5"> really</font>

1039
00:35:23,630 --> 00:35:26,690
like massage that to a web<font color="#CCCCCC"> shell</font><font color="#E5E5E5"> for you</font>

1040
00:35:25,190 --> 00:35:27,980
and let you go further so what I've kind

1041
00:35:26,690 --> 00:35:31,010
<font color="#E5E5E5">of walk people through this because it</font>

1042
00:35:27,980 --> 00:35:33,230
might<font color="#E5E5E5"> be new so here's a real example I</font>

1043
00:35:31,010 --> 00:35:35,660
took<font color="#E5E5E5"> over a pretty big organization with</font>

1044
00:35:33,230 --> 00:35:38,010
this bug or walking through right now we

1045
00:35:35,660 --> 00:35:39,960
started<font color="#E5E5E5"> out are doing our reconnaissance</font>

1046
00:35:38,010 --> 00:35:43,140
and<font color="#E5E5E5"> I stumbled a started mapping i</font>

1047
00:35:39,960 --> 00:35:45,090
<font color="#CCCCCC">stumbleupon unlinked resource debug PHP</font>

1048
00:35:43,140 --> 00:35:46,230
on this application it was<font color="#E5E5E5"> actually in</font>

1049
00:35:45,090 --> 00:35:48,270
the wrath list that's one of the things

1050
00:35:46,230 --> 00:35:50,820
that rafts raffles will check for and it

1051
00:35:48,270 --> 00:35:53,040
gave me<font color="#E5E5E5"> an HTTP 200 ok a blank screen</font>

1052
00:35:50,820 --> 00:35:54,780
now the likelihood of your automated

1053
00:35:53,040 --> 00:35:57,660
tool finding this is<font color="#E5E5E5"> probably low unless</font>

1054
00:35:54,780 --> 00:35:59,400
you did that manual<font color="#CCCCCC"> unlike</font><font color="#E5E5E5"> content</font>

1055
00:35:57,660 --> 00:36:03,089
numeration but at this point since is

1056
00:35:59,400 --> 00:36:04,470
PHP there was no client side code shown

1057
00:36:03,090 --> 00:36:05,640
to the screen there's<font color="#E5E5E5"> not a whole lot</font>

1058
00:36:04,470 --> 00:36:07,140
you can do and your automated tools

1059
00:36:05,640 --> 00:36:10,740
generally going<font color="#E5E5E5"> to completely stop right</font>

1060
00:36:07,140 --> 00:36:13,200
here cool 200 ok have a nice day the

1061
00:36:10,740 --> 00:36:14,790
next step as we talked<font color="#CCCCCC"> about</font><font color="#E5E5E5"> it's trying</font>

1062
00:36:13,200 --> 00:36:16,439
to figure out all of our injection

1063
00:36:14,790 --> 00:36:18,090
points all of our areas of input so in

1064
00:36:16,440 --> 00:36:20,550
my head I'm thinking great now I've got

1065
00:36:18,090 --> 00:36:22,980
this debug PHP blank screen big whoop

1066
00:36:20,550 --> 00:36:24,270
what does<font color="#CCCCCC"> it do I actually</font><font color="#E5E5E5"> think I like</font>

1067
00:36:22,980 --> 00:36:25,560
went to lunch came back and like I let

1068
00:36:24,270 --> 00:36:28,140
me<font color="#CCCCCC"> just say let me get some let me check</font>

1069
00:36:25,560 --> 00:36:29,910
parameters so I've ran it through a

1070
00:36:28,140 --> 00:36:31,710
parameter list<font color="#E5E5E5"> on burps intruder and</font>

1071
00:36:29,910 --> 00:36:33,359
actually have a built-in listen Burke's

1072
00:36:31,710 --> 00:36:34,440
<font color="#E5E5E5">intruder and pay and essentially you can</font>

1073
00:36:33,360 --> 00:36:36,060
run through and see all the common

1074
00:36:34,440 --> 00:36:39,270
parameters and I was getting the same

1075
00:36:36,060 --> 00:36:41,040
response length back of 193 I believe in

1076
00:36:39,270 --> 00:36:43,170
a step blank screen all of a sudden<font color="#CCCCCC"> when</font>

1077
00:36:41,040 --> 00:36:46,320
I got page parameter it gave me a

1078
00:36:43,170 --> 00:36:48,900
response length of 693 or something 632

1079
00:36:46,320 --> 00:36:50,550
and as I put in my browser i saw a PHP

1080
00:36:48,900 --> 00:36:52,850
warning and this is where I'm getting

1081
00:36:50,550 --> 00:36:54,930
<font color="#E5E5E5">really freaking excited because it's</font>

1082
00:36:52,850 --> 00:36:57,630
basically<font color="#E5E5E5"> telling me</font><font color="#CCCCCC"> it's try to include</font>

1083
00:36:54,930 --> 00:36:59,220
my input with PHP include function so<font color="#CCCCCC"> I</font>

1084
00:36:57,630 --> 00:37:02,130
know that<font color="#CCCCCC"> I can potentially get this</font>

1085
00:36:59,220 --> 00:37:04,470
system code execution here so the<font color="#E5E5E5"> next</font>

1086
00:37:02,130 --> 00:37:05,880
step is you know you can try local etsy

1087
00:37:04,470 --> 00:37:07,560
password rights even get there that's

1088
00:37:05,880 --> 00:37:09,810
cool it did that and now i'm<font color="#E5E5E5"> going to</font>

1089
00:37:07,560 --> 00:37:11,520
try to see can it touch me can<font color="#E5E5E5"> i point</font>

1090
00:37:09,810 --> 00:37:13,410
it<font color="#E5E5E5"> to an external resource and give it</font>

1091
00:37:11,520 --> 00:37:14,610
code so that's exactly what<font color="#CCCCCC"> I did so</font>

1092
00:37:13,410 --> 00:37:16,500
<font color="#E5E5E5">it's step</font><font color="#CCCCCC"> one there you see the request</font>

1093
00:37:14,610 --> 00:37:18,270
and I'm pointing it to just an external

1094
00:37:16,500 --> 00:37:20,550
URL that I'm going<font color="#E5E5E5"> to put some code app</font>

1095
00:37:18,270 --> 00:37:23,460
step two we have my Python simple HTTP

1096
00:37:20,550 --> 00:37:25,800
server just a quick way as a pen tester

1097
00:37:23,460 --> 00:37:28,080
to like create a little website<font color="#E5E5E5"> web</font>

1098
00:37:25,800 --> 00:37:29,940
server to get some stuff from you and

1099
00:37:28,080 --> 00:37:31,380
I'm<font color="#CCCCCC"> just having a grab one dot PHP which</font>

1100
00:37:29,940 --> 00:37:33,350
is this the file at the top that little

1101
00:37:31,380 --> 00:37:35,490
one line are running an ID command and

1102
00:37:33,350 --> 00:37:37,380
in the third bolt there you actually see

1103
00:37:35,490 --> 00:37:38,939
the result DUP DUP DUP data I'm running

1104
00:37:37,380 --> 00:37:40,980
I'm actually running commands in<font color="#E5E5E5"> the box</font>

1105
00:37:38,940 --> 00:37:42,780
which<font color="#CCCCCC"> is pretty cool and this is</font><font color="#E5E5E5"> just</font>

1106
00:37:40,980 --> 00:37:44,430
one<font color="#CCCCCC"> of those steps that you know you</font>

1107
00:37:42,780 --> 00:37:46,610
wouldn't have necessarily found if you

1108
00:37:44,430 --> 00:37:48,770
pointed or a key i mean i i've actually

1109
00:37:46,610 --> 00:37:50,390
in a lab<font color="#E5E5E5"> i have the code</font>

1110
00:37:48,770 --> 00:37:51,950
I think it's online and you<font color="#CCCCCC"> can write</font>

1111
00:37:50,390 --> 00:37:52,940
every automated scanner you want at it's

1112
00:37:51,950 --> 00:37:54,740
just not going to<font color="#E5E5E5"> find it because you</font>

1113
00:37:52,940 --> 00:37:57,920
don't point it to doesn't know this page

1114
00:37:54,740 --> 00:38:00,080
resource that kind of thing so in real

1115
00:37:57,920 --> 00:38:01,820
life this is<font color="#E5E5E5"> the final step it was sad</font>

1116
00:38:00,080 --> 00:38:04,490
was awesome for<font color="#CCCCCC"> us bad for the customer</font>

1117
00:38:01,820 --> 00:38:07,520
but<font color="#E5E5E5"> it was running on a window system as</font>

1118
00:38:04,490 --> 00:38:09,620
system so that's crazy also<font color="#CCCCCC"> no so what</font>

1119
00:38:07,520 --> 00:38:10,970
we<font color="#E5E5E5"> did I just recreated a lab for this</font>

1120
00:38:09,620 --> 00:38:13,819
example here which is why it's a lennox

1121
00:38:10,970 --> 00:38:15,980
but we just<font color="#CCCCCC"> wrote a little</font><font color="#E5E5E5"> Python web</font>

1122
00:38:13,820 --> 00:38:18,320
she'll actually it was just using the

1123
00:38:15,980 --> 00:38:19,490
request module which we really love and

1124
00:38:18,320 --> 00:38:21,230
it was<font color="#E5E5E5"> just making web requests</font><font color="#CCCCCC"> in the</font>

1125
00:38:19,490 --> 00:38:24,109
background so I'm grabbing my input rate

1126
00:38:21,230 --> 00:38:26,360
dear via raw input so PWD I'm taking

1127
00:38:24,110 --> 00:38:27,980
<font color="#CCCCCC">that and</font><font color="#E5E5E5"> I'm putting inside of the PHP</font>

1128
00:38:26,360 --> 00:38:31,220
code and I'm<font color="#E5E5E5"> just shoveling it to the</font>

1129
00:38:27,980 --> 00:38:33,260
server to run and it basically runs<font color="#CCCCCC"> it</font>

1130
00:38:31,220 --> 00:38:36,140
for me automates that command that<font color="#E5E5E5"> that</font>

1131
00:38:33,260 --> 00:38:37,640
you had previous slide and it feels like

1132
00:38:36,140 --> 00:38:39,350
a shell but really it's just making web

1133
00:38:37,640 --> 00:38:41,029
requests out there so this point<font color="#CCCCCC"> eww get</font>

1134
00:38:39,350 --> 00:38:42,830
over like meterpreter the temp temp

1135
00:38:41,030 --> 00:38:44,540
directory and run that and get a better

1136
00:38:42,830 --> 00:38:45,920
<font color="#E5E5E5">shell but this is just a good</font><font color="#CCCCCC"> way</font><font color="#E5E5E5"> to</font>

1137
00:38:44,540 --> 00:38:47,150
kind of like automate that and maybe the

1138
00:38:45,920 --> 00:38:48,830
customer<font color="#CCCCCC"> doesn't want you to put</font>

1139
00:38:47,150 --> 00:38:50,420
anything on the box right and you have

1140
00:38:48,830 --> 00:38:51,890
to live with this and this could<font color="#E5E5E5"> be like</font>

1141
00:38:50,420 --> 00:38:55,370
<font color="#CCCCCC">your the way</font><font color="#E5E5E5"> you have to live with this</font>

1142
00:38:51,890 --> 00:38:58,430
depending on the rules of<font color="#CCCCCC"> engagement the</font>

1143
00:38:55,370 --> 00:39:00,170
last example here is email spoofing so<font color="#E5E5E5"> I</font>

1144
00:38:58,430 --> 00:39:01,279
think the perception at least I mean

1145
00:39:00,170 --> 00:39:02,780
before I started doing<font color="#E5E5E5"> this my</font>

1146
00:39:01,280 --> 00:39:04,760
perception was email could be spooked as

1147
00:39:02,780 --> 00:39:06,080
bad as it can be and I'm actually I was

1148
00:39:04,760 --> 00:39:09,290
really really<font color="#E5E5E5"> shocked at how easy email</font>

1149
00:39:06,080 --> 00:39:12,710
spoofing occurs so the reality<font color="#E5E5E5"> is</font>

1150
00:39:09,290 --> 00:39:16,190
without certain defenses<font color="#CCCCCC"> setup spfd mark</font>

1151
00:39:12,710 --> 00:39:17,750
dkm some D's txt records and such you

1152
00:39:16,190 --> 00:39:19,970
<font color="#E5E5E5">can do a lot of</font><font color="#CCCCCC"> guinness you do a lot of</font>

1153
00:39:17,750 --> 00:39:21,890
email spoofing there's some statistics

1154
00:39:19,970 --> 00:39:23,649
there that basically state a fishing

1155
00:39:21,890 --> 00:39:25,549
works so i don't think i have to

1156
00:39:23,650 --> 00:39:27,560
convince anybody here but we're going<font color="#E5E5E5"> to</font>

1157
00:39:25,550 --> 00:39:29,210
walk through some easy ways to test for

1158
00:39:27,560 --> 00:39:30,740
mail servers for spoofing

1159
00:39:29,210 --> 00:39:32,120
vulnerabilities and<font color="#CCCCCC"> i are just going</font><font color="#E5E5E5"> to</font>

1160
00:39:30,740 --> 00:39:33,319
show a<font color="#E5E5E5"> real world example with Google</font>

1161
00:39:32,120 --> 00:39:36,170
Apps for work which is<font color="#CCCCCC"> actually really</font>

1162
00:39:33,320 --> 00:39:39,410
bad but it's a step<font color="#E5E5E5"> one here's what you</font>

1163
00:39:36,170 --> 00:39:41,390
do you try to find<font color="#E5E5E5"> the mail servers for</font>

1164
00:39:39,410 --> 00:39:43,310
the<font color="#E5E5E5"> target domain host and Linux tells</font>

1165
00:39:41,390 --> 00:39:46,150
you the mail servers right there step

1166
00:39:43,310 --> 00:39:48,259
<font color="#CCCCCC">two make</font><font color="#E5E5E5"> a connection to the mail server</font>

1167
00:39:46,150 --> 00:39:49,340
step 3<font color="#E5E5E5"> we're forward to the</font><font color="#CCCCCC"> headers so</font>

1168
00:39:48,260 --> 00:39:50,630
<font color="#E5E5E5">you can actually see there that's me</font>

1169
00:39:49,340 --> 00:39:53,330
manually typing in<font color="#E5E5E5"> the headers and</font>

1170
00:39:50,630 --> 00:39:55,850
fortune headers and then step 4 we're

1171
00:39:53,330 --> 00:39:57,799
actually forging the email typing data

1172
00:39:55,850 --> 00:39:59,720
putting in all the the email headers

1173
00:39:57,800 --> 00:40:01,700
here subject<font color="#E5E5E5"> line hey guys take a look</font>

1174
00:39:59,720 --> 00:40:02,730
at this is how you spoof email and the

1175
00:40:01,700 --> 00:40:04,200
<font color="#E5E5E5">period there at the end</font>

1176
00:40:02,730 --> 00:40:06,480
supplies that the emails over hit enter

1177
00:40:04,200 --> 00:40:08,100
and it sends it hopefully<font color="#E5E5E5"> so this is</font>

1178
00:40:06,480 --> 00:40:10,080
<font color="#CCCCCC">actually with Google Apps for work you</font>

1179
00:40:08,100 --> 00:40:12,330
might notice that<font color="#E5E5E5"> the Google is the mail</font>

1180
00:40:10,080 --> 00:40:14,400
server and that's what it looks like in

1181
00:40:12,330 --> 00:40:16,529
<font color="#E5E5E5">your inbox doesn't say it's been spoofed</font>

1182
00:40:14,400 --> 00:40:18,570
doesn't have a little<font color="#E5E5E5"> like</font><font color="#CCCCCC"> any</font>

1183
00:40:16,530 --> 00:40:20,780
indication other than the<font color="#E5E5E5"> one I made CEO</font>

1184
00:40:18,570 --> 00:40:23,510
fake email at<font color="#CCCCCC"> promise security net</font>

1185
00:40:20,780 --> 00:40:25,740
pretty<font color="#CCCCCC"> scary stuff and that will work</font>

1186
00:40:23,510 --> 00:40:27,720
tricking users if they if they see that

1187
00:40:25,740 --> 00:40:29,339
<font color="#CCCCCC">kind of thing it doesn't have to be the</font>

1188
00:40:27,720 --> 00:40:31,799
same<font color="#E5E5E5"> domain so this was primal security</font>

1189
00:40:29,340 --> 00:40:33,450
net it could be you know present<font color="#E5E5E5"> United</font>

1190
00:40:31,800 --> 00:40:36,930
<font color="#E5E5E5">States potes urgent president stuff get</font>

1191
00:40:33,450 --> 00:40:38,700
<font color="#E5E5E5">to the chopper point here is you'd be</font>

1192
00:40:36,930 --> 00:40:40,940
<font color="#E5E5E5">surprised at how often you can spoof</font>

1193
00:40:38,700 --> 00:40:43,350
stuff thanks<font color="#CCCCCC"> and default configuration</font>

1194
00:40:40,940 --> 00:40:44,520
you know I've always I was always poor

1195
00:40:43,350 --> 00:40:46,618
start doing pen testing I was like

1196
00:40:44,520 --> 00:40:48,240
nobody uses passwords password like I

1197
00:40:46,619 --> 00:40:49,770
was working<font color="#CCCCCC"> in it in India the</font>

1198
00:40:48,240 --> 00:40:51,930
environment we were forced to use like

1199
00:40:49,770 --> 00:40:53,790
you know 16 characters crazy stuff and

1200
00:40:51,930 --> 00:40:55,109
then as I started testing that<font color="#E5E5E5"> set</font>

1201
00:40:53,790 --> 00:40:57,509
environments the web apps and stuff

1202
00:40:55,109 --> 00:40:58,590
don't follow<font color="#E5E5E5"> the same rules and they're</font>

1203
00:40:57,510 --> 00:40:59,760
very weak but this is just another

1204
00:40:58,590 --> 00:41:01,080
example of that please you know you

1205
00:40:59,760 --> 00:41:03,960
<font color="#E5E5E5">definitely a test even if you have the</font>

1206
00:41:01,080 --> 00:41:05,670
perception<font color="#CCCCCC"> it's secure so here's the</font>

1207
00:41:03,960 --> 00:41:07,260
here's another slightly so we

1208
00:41:05,670 --> 00:41:08,850
communicated that to customer they fix

1209
00:41:07,260 --> 00:41:11,460
<font color="#E5E5E5">it right now how can you bypass that</font>

1210
00:41:08,850 --> 00:41:13,080
well this is an example of a bypass<font color="#CCCCCC"> I</font>

1211
00:41:11,460 --> 00:41:15,000
sent this email here you see on without

1212
00:41:13,080 --> 00:41:17,220
look client that's from<font color="#CCCCCC"> a random gmail</font>

1213
00:41:15,000 --> 00:41:19,560
account just random gmail you see any

1214
00:41:17,220 --> 00:41:21,868
signs and it's a random<font color="#E5E5E5"> gmail right</font><font color="#CCCCCC"> off</font>

1215
00:41:19,560 --> 00:41:23,400
the bat what did i do<font color="#CCCCCC"> i use so in if you</font>

1216
00:41:21,869 --> 00:41:25,050
sent email to gmail on the web client

1217
00:41:23,400 --> 00:41:27,030
<font color="#E5E5E5">portions you to play nice if you send</font>

1218
00:41:25,050 --> 00:41:28,560
email from gmail with Python you can do

1219
00:41:27,030 --> 00:41:29,760
a little<font color="#E5E5E5"> more tricks you can change the</font>

1220
00:41:28,560 --> 00:41:31,259
name field which is<font color="#E5E5E5"> the only thing to</font>

1221
00:41:29,760 --> 00:41:34,500
outlook is<font color="#CCCCCC"> parsing here in the preview</font>

1222
00:41:31,260 --> 00:41:36,330
pane so as you<font color="#CCCCCC"> can see i just changed</font>

1223
00:41:34,500 --> 00:41:38,040
name to help desk support but in reality

1224
00:41:36,330 --> 00:41:39,480
it's<font color="#CCCCCC"> just some random gmail account i</font>

1225
00:41:38,040 --> 00:41:42,210
created and i'm sending it via python

1226
00:41:39,480 --> 00:41:44,100
and you can see there that's a pretty

1227
00:41:42,210 --> 00:41:45,210
believable link if i used if i sent<font color="#CCCCCC"> that</font>

1228
00:41:44,100 --> 00:41:46,890
to a client<font color="#E5E5E5"> i'm gonna have a very high</font>

1229
00:41:45,210 --> 00:41:48,720
success rate now in theory addition

1230
00:41:46,890 --> 00:41:50,009
there are some telltale signs they could

1231
00:41:48,720 --> 00:41:51,569
have hit the reply all button and see

1232
00:41:50,010 --> 00:41:54,060
the actual gmail or inspect the headers

1233
00:41:51,570 --> 00:41:56,310
but i don't think<font color="#E5E5E5"> a lot of users are</font>

1234
00:41:54,060 --> 00:41:57,450
doing<font color="#E5E5E5"> that but any event this</font><font color="#CCCCCC"> is a</font>

1235
00:41:56,310 --> 00:41:59,640
pretty scary thing i'm actually just

1236
00:41:57,450 --> 00:42:01,529
used as legitimate gmail account we

1237
00:41:59,640 --> 00:42:03,480
actually<font color="#CCCCCC"> have the code will put it put</font>

1238
00:42:01,530 --> 00:42:05,190
in a blog post<font color="#CCCCCC"> so actually already weird</font>

1239
00:42:03,480 --> 00:42:06,510
yeah we have the code for doing that<font color="#CCCCCC"> and</font>

1240
00:42:05,190 --> 00:42:10,530
just basically<font color="#E5E5E5"> it's</font><font color="#CCCCCC"> Python script to</font>

1241
00:42:06,510 --> 00:42:11,400
send<font color="#CCCCCC"> email through gmail so now a</font><font color="#E5E5E5"> little</font>

1242
00:42:10,530 --> 00:42:12,750
bit more<font color="#E5E5E5"> about the Google Apps for work</font>

1243
00:42:11,400 --> 00:42:14,520
things so Google Apps for work is what I

1244
00:42:12,750 --> 00:42:15,520
used well a lot of companies use is

1245
00:42:14,520 --> 00:42:18,310
actually<font color="#CCCCCC"> really nice</font>

1246
00:42:15,520 --> 00:42:20,290
but out<font color="#CCCCCC"> of the box it's very very very</font>

1247
00:42:18,310 --> 00:42:21,940
vulnerable to email spoofing and they

1248
00:42:20,290 --> 00:42:24,040
<font color="#CCCCCC">don't do a whole lot to tell you what to</font>

1249
00:42:21,940 --> 00:42:25,540
<font color="#CCCCCC">do and hold your hand to fix it in fact</font>

1250
00:42:24,040 --> 00:42:26,950
everybody that I've seen using Google

1251
00:42:25,540 --> 00:42:28,779
Apps for work is completely vulnerable

1252
00:42:26,950 --> 00:42:31,540
to being spoofing their target domain

1253
00:42:28,780 --> 00:42:34,390
I've see very few people that configure

1254
00:42:31,540 --> 00:42:36,160
this stuff so essentially<font color="#CCCCCC"> what you have</font>

1255
00:42:34,390 --> 00:42:37,960
to do is configure like spfd mark d

1256
00:42:36,160 --> 00:42:39,009
<font color="#CCCCCC">kenny's RDX txt records and stuff and</font>

1257
00:42:37,960 --> 00:42:40,510
Google will help you do that but you

1258
00:42:39,010 --> 00:42:41,620
gotta call them you got to work with

1259
00:42:40,510 --> 00:42:43,060
<font color="#CCCCCC">your hosting provider set the</font>

1260
00:42:41,620 --> 00:42:44,230
appropriate dns records and people that

1261
00:42:43,060 --> 00:42:45,040
<font color="#E5E5E5">are using Google Apps for work 10 and</font>

1262
00:42:44,230 --> 00:42:48,580
not have a whole<font color="#CCCCCC"> lot of infrastructure</font>

1263
00:42:45,040 --> 00:42:51,640
yet and they may have not took<font color="#E5E5E5"> the time</font>

1264
00:42:48,580 --> 00:42:54,700
to do<font color="#CCCCCC"> that these steps the</font><font color="#E5E5E5"> previous</font>

1265
00:42:51,640 --> 00:42:56,560
emails I used so that primal security I

1266
00:42:54,700 --> 00:42:57,819
basically just tell<font color="#CCCCCC"> that it right to it</font>

1267
00:42:56,560 --> 00:42:59,590
and sent it without any authentication

1268
00:42:57,820 --> 00:43:01,480
because I didn't<font color="#E5E5E5"> have the right</font><font color="#CCCCCC"> text</font>

1269
00:42:59,590 --> 00:43:04,330
records<font color="#E5E5E5"> set up and security and Google</font>

1270
00:43:01,480 --> 00:43:05,830
which is<font color="#E5E5E5"> really scary I think that you'd</font>

1271
00:43:04,330 --> 00:43:08,830
be surprised if you find somebody using

1272
00:43:05,830 --> 00:43:10,480
google for their their mail services

1273
00:43:08,830 --> 00:43:13,060
<font color="#E5E5E5">ob's or you can send email through them</font>

1274
00:43:10,480 --> 00:43:14,980
and spoof and look crazy the solution is

1275
00:43:13,060 --> 00:43:16,710
to configure the proper txt records and

1276
00:43:14,980 --> 00:43:19,960
you can configure that in<font color="#E5E5E5"> Google's</font>

1277
00:43:16,710 --> 00:43:21,280
security as well as though your txt

1278
00:43:19,960 --> 00:43:22,630
records but again this<font color="#CCCCCC"> is just</font><font color="#E5E5E5"> one</font>

1279
00:43:21,280 --> 00:43:25,660
example this lives in<font color="#E5E5E5"> many other places</font>

1280
00:43:22,630 --> 00:43:28,260
many other services<font color="#E5E5E5"> and very few people</font>

1281
00:43:25,660 --> 00:43:31,180
in my experience configure that properly

1282
00:43:28,260 --> 00:43:33,040
so now reporting this is a my favorite

1283
00:43:31,180 --> 00:43:34,450
<font color="#E5E5E5">part of any assessment i just love I own</font>

1284
00:43:33,040 --> 00:43:36,870
the shell stuff that's boring<font color="#E5E5E5"> this is</font>

1285
00:43:34,450 --> 00:43:39,339
like<font color="#E5E5E5"> this is what I</font><font color="#CCCCCC"> live for</font><font color="#E5E5E5"> right there</font>

1286
00:43:36,870 --> 00:43:40,509
you can send pays for right you

1287
00:43:39,340 --> 00:43:42,850
essentially you<font color="#CCCCCC"> can sense the sarcasm</font>

1288
00:43:40,510 --> 00:43:44,680
but<font color="#E5E5E5"> Zach said it is it is really</font>

1289
00:43:42,850 --> 00:43:45,970
important to the customer obviously

1290
00:43:44,680 --> 00:43:47,200
you're not going to convey your results

1291
00:43:45,970 --> 00:43:49,330
if<font color="#E5E5E5"> you don't have a good rapport so</font>

1292
00:43:47,200 --> 00:43:51,520
here's what we do to add a<font color="#E5E5E5"> little more</font>

1293
00:43:49,330 --> 00:43:53,170
value beyond like your printed out in SS

1294
00:43:51,520 --> 00:43:55,570
or Barack genetics with the hand

1295
00:43:53,170 --> 00:43:56,950
breaking through the glass so we

1296
00:43:55,570 --> 00:43:58,090
leverage markdown we really like it if

1297
00:43:56,950 --> 00:44:00,100
<font color="#E5E5E5">you ever been to github you can see it's</font>

1298
00:43:58,090 --> 00:44:02,160
really<font color="#E5E5E5"> cleaned looks just like that it's</font>

1299
00:44:00,100 --> 00:44:05,350
<font color="#E5E5E5">HTML shorthand essentially you</font><font color="#CCCCCC"> can do</font>

1300
00:44:02,160 --> 00:44:07,649
very simple syntax and it converts to

1301
00:44:05,350 --> 00:44:10,330
HTML it's like sublime text editor

1302
00:44:07,650 --> 00:44:11,770
there's a common findings database run

1303
00:44:10,330 --> 00:44:13,150
by buicks which is really nice solid

1304
00:44:11,770 --> 00:44:14,530
markdown format and they have got

1305
00:44:13,150 --> 00:44:15,490
vulnerability write ups for you so if

1306
00:44:14,530 --> 00:44:17,170
you're new<font color="#CCCCCC"> to this stuff</font><font color="#E5E5E5"> it's actually</font>

1307
00:44:15,490 --> 00:44:18,850
good place to go was a pen test report

1308
00:44:17,170 --> 00:44:19,900
look like how'd it how you write at

1309
00:44:18,850 --> 00:44:22,270
Warner abilities you actually go there

1310
00:44:19,900 --> 00:44:23,680
and look at the templates the one

1311
00:44:22,270 --> 00:44:25,270
important thing with this is understand

1312
00:44:23,680 --> 00:44:26,500
that<font color="#E5E5E5"> you know this is</font><font color="#CCCCCC"> for your</font><font color="#E5E5E5"> customer</font>

1313
00:44:25,270 --> 00:44:27,009
you're communicating to your customers

1314
00:44:26,500 --> 00:44:29,320
make sure

1315
00:44:27,010 --> 00:44:31,030
<font color="#E5E5E5">stranger audience I've not met a</font>

1316
00:44:29,320 --> 00:44:32,640
customer that<font color="#E5E5E5"> just once a web inspector</font>

1317
00:44:31,030 --> 00:44:35,200
<font color="#CCCCCC">court handed them are necessary for</font><font color="#E5E5E5"> it</font>

1318
00:44:32,640 --> 00:44:37,359
but it<font color="#CCCCCC"> could happen they may just want</font>

1319
00:44:35,200 --> 00:44:38,500
to spread sheet so<font color="#CCCCCC"> understand your</font>

1320
00:44:37,360 --> 00:44:40,380
<font color="#E5E5E5">customers needs and go from there</font>

1321
00:44:38,500 --> 00:44:42,700
depending<font color="#CCCCCC"> on</font><font color="#E5E5E5"> your rules of engagement</font>

1322
00:44:40,380 --> 00:44:44,590
you might want to show how<font color="#E5E5E5"> you exploited</font>

1323
00:44:42,700 --> 00:44:45,790
it but maybe<font color="#E5E5E5"> you couldn't exploit it</font>

1324
00:44:44,590 --> 00:44:47,500
right maybe they said they want a fallen

1325
00:44:45,790 --> 00:44:48,640
<font color="#CCCCCC">sussman they're calling it a pen test</font>

1326
00:44:47,500 --> 00:44:50,200
but it's<font color="#E5E5E5"> really a blown assessment I</font>

1327
00:44:48,640 --> 00:44:51,759
don't want you to<font color="#CCCCCC"> exploit it so put an</font>

1328
00:44:50,200 --> 00:44:53,080
<font color="#E5E5E5">attack or scenario section in there and</font>

1329
00:44:51,760 --> 00:44:54,970
say how you could have exploited it

1330
00:44:53,080 --> 00:44:56,770
maybe do a lab and show like here's what

1331
00:44:54,970 --> 00:44:58,959
<font color="#E5E5E5">could happen if you don't fix this help</font>

1332
00:44:56,770 --> 00:45:00,750
drive the points home we also like to

1333
00:44:58,960 --> 00:45:04,150
put pictures in there and screenshots to

1334
00:45:00,750 --> 00:45:05,710
help the tech guys include the detailed

1335
00:45:04,150 --> 00:45:07,780
steps you took to get this finding how

1336
00:45:05,710 --> 00:45:08,800
it all put together but then understand

1337
00:45:07,780 --> 00:45:11,290
<font color="#E5E5E5">going back to understand your audience</font>

1338
00:45:08,800 --> 00:45:12,490
don't forget the managers if that is

1339
00:45:11,290 --> 00:45:14,140
where<font color="#E5E5E5"> the reports going make sure that</font>

1340
00:45:12,490 --> 00:45:15,250
you provide the appropriate detail for

1341
00:45:14,140 --> 00:45:16,120
them they're not going to care about the

1342
00:45:15,250 --> 00:45:17,380
shell they're not going to care about

1343
00:45:16,120 --> 00:45:19,029
all these tech details that we get

1344
00:45:17,380 --> 00:45:21,210
excited about as testers they're going

1345
00:45:19,030 --> 00:45:22,780
<font color="#E5E5E5">to care about you know green and red and</font>

1346
00:45:21,210 --> 00:45:27,040
understanding you know<font color="#E5E5E5"> from a higher</font>

1347
00:45:22,780 --> 00:45:29,200
level how they can control risk last bit

1348
00:45:27,040 --> 00:45:30,880
here is offering remediation support we

1349
00:45:29,200 --> 00:45:33,040
really<font color="#E5E5E5"> like this because we find that</font>

1350
00:45:30,880 --> 00:45:33,850
when we give<font color="#CCCCCC"> the</font><font color="#E5E5E5"> reiation advice or</font>

1351
00:45:33,040 --> 00:45:35,680
customers<font color="#E5E5E5"> going a different direction</font>

1352
00:45:33,850 --> 00:45:38,589
they fix one instance that we showed

1353
00:45:35,680 --> 00:45:40,149
them and it's<font color="#CCCCCC"> XSS for example they fix</font>

1354
00:45:38,590 --> 00:45:42,490
the script alert script they blacklisted

1355
00:45:40,150 --> 00:45:44,260
it and then we<font color="#E5E5E5"> can do javascript event</font>

1356
00:45:42,490 --> 00:45:45,490
handlers and bypass the fix well that's

1357
00:45:44,260 --> 00:45:46,990
just<font color="#E5E5E5"> an example but the point is</font>

1358
00:45:45,490 --> 00:45:48,430
remediation testing helps to make sure

1359
00:45:46,990 --> 00:45:50,350
that they've truly addressed the problem

1360
00:45:48,430 --> 00:45:53,649
<font color="#E5E5E5">and not just an instance of the problem</font>

1361
00:45:50,350 --> 00:45:55,720
and again be creative with that kind of

1362
00:45:53,650 --> 00:45:57,550
go<font color="#CCCCCC"> through your normal fuzzing process</font>

1363
00:45:55,720 --> 00:45:58,629
and this can lead to additional testing

1364
00:45:57,550 --> 00:46:00,700
<font color="#CCCCCC">and a stronger</font><font color="#E5E5E5"> relationship with your</font>

1365
00:45:58,630 --> 00:46:03,760
customer and adds value beyond that you

1366
00:46:00,700 --> 00:46:05,140
know automated tool we're finishing up

1367
00:46:03,760 --> 00:46:07,600
here so these the useful links for

1368
00:46:05,140 --> 00:46:08,890
training cyber<font color="#CCCCCC"> Ares really good a lot</font><font color="#E5E5E5"> of</font>

1369
00:46:07,600 --> 00:46:11,470
free<font color="#CCCCCC"> stuff they're definitely check it</font>

1370
00:46:08,890 --> 00:46:14,680
out but one hump is great you can get a

1371
00:46:11,470 --> 00:46:18,009
bunch of CTF<font color="#CCCCCC"> PMS</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> the such challenge</font>

1372
00:46:14,680 --> 00:46:19,029
VMs to practice on because you know you

1373
00:46:18,010 --> 00:46:21,760
can't usually do<font color="#CCCCCC"> this in real life</font>

1374
00:46:19,030 --> 00:46:23,800
without<font color="#E5E5E5"> some practice</font><font color="#CCCCCC"> pass CTF write ups</font>

1375
00:46:21,760 --> 00:46:25,030
are great even contribute joining a CTF

1376
00:46:23,800 --> 00:46:26,740
you know I've a lot<font color="#E5E5E5"> of people</font><font color="#CCCCCC"> that don't</font>

1377
00:46:25,030 --> 00:46:28,450
do this work they want to do CTFs<font color="#E5E5E5"> I mean</font>

1378
00:46:26,740 --> 00:46:29,890
<font color="#CCCCCC">are vsx got a great one here and just</font>

1379
00:46:28,450 --> 00:46:31,299
join one of all you know they usually

1380
00:46:29,890 --> 00:46:33,730
will have to be elite hacker to go play

1381
00:46:31,300 --> 00:46:35,470
<font color="#E5E5E5">in a CTF pentester labs are the good</font>

1382
00:46:33,730 --> 00:46:36,520
resource and there's a bunch of talks

1383
00:46:35,470 --> 00:46:37,930
and<font color="#E5E5E5"> looks</font><font color="#CCCCCC"> Aaron won't go through but</font>

1384
00:46:36,520 --> 00:46:38,980
these are the stuff that I've read<font color="#E5E5E5"> and</font>

1385
00:46:37,930 --> 00:46:41,430
gotten some<font color="#CCCCCC"> value added</font>

1386
00:46:38,980 --> 00:46:44,050
just figured<font color="#E5E5E5"> I'd share with you guys</font>

1387
00:46:41,430 --> 00:46:45,669
that's it you can feel<font color="#CCCCCC"> free to come</font><font color="#E5E5E5"> up</font>

1388
00:46:44,050 --> 00:46:47,230
and<font color="#E5E5E5"> talk to us after the talk here I</font>

1389
00:46:45,670 --> 00:46:49,270
<font color="#E5E5E5">think we might come up might be Chris</font>

1390
00:46:47,230 --> 00:46:51,220
might be given a somethin quick here but

1391
00:46:49,270 --> 00:46:53,670
here's our site and email and Twitter

1392
00:46:51,220 --> 00:46:57,149
handle if you have any questions thanks

1393
00:46:53,670 --> 00:46:57,150
<font color="#CCCCCC">everybody thanks</font>

