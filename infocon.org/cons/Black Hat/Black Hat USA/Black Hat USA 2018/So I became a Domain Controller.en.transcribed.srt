1
00:00:00,030 --> 00:00:02,719
hello<font color="#E5E5E5"> everybody</font>

2
00:00:03,000 --> 00:00:08,790
just a little<font color="#E5E5E5"> slide for the explication</font>

3
00:00:04,890 --> 00:00:10,889
<font color="#E5E5E5">about</font><font color="#CCCCCC"> Oh meme oh yes I love me my love</font>

4
00:00:08,790 --> 00:00:12,719
stickers<font color="#CCCCCC"> so if you are</font><font color="#E5E5E5"> very clever we</font>

5
00:00:10,889 --> 00:00:17,100
can have some sticker after<font color="#CCCCCC"> the talk</font>

6
00:00:12,719 --> 00:00:20,130
maybe so let<font color="#E5E5E5"> me introduce myself</font>

7
00:00:17,100 --> 00:00:23,869
I'm Vincent<font color="#CCCCCC"> - - I'm the out</font><font color="#E5E5E5"> of a shaft</font>

8
00:00:20,130 --> 00:00:26,669
<font color="#CCCCCC">mg mg which is a</font><font color="#E5E5E5"> French company</font>

9
00:00:23,869 --> 00:00:29,369
<font color="#E5E5E5">specializing in energy and this</font><font color="#CCCCCC"> is</font><font color="#E5E5E5"> also</font>

10
00:00:26,670 --> 00:00:31,140
<font color="#E5E5E5">the CEO of my smoking gun which do smart</font>

11
00:00:29,369 --> 00:00:34,800
<font color="#E5E5E5">cards and windows authentication stuff</font>

12
00:00:31,140 --> 00:00:37,079
I've<font color="#E5E5E5"> done some contribution by making</font>

13
00:00:34,800 --> 00:00:39,629
the<font color="#E5E5E5"> pinkest</font><font color="#CCCCCC"> L tools</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> then some</font>

14
00:00:37,079 --> 00:00:43,710
contribution in<font color="#E5E5E5"> Munich</font><font color="#CCCCCC"> ATSA</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> also in</font>

15
00:00:39,629 --> 00:00:45,629
the smart<font color="#CCCCCC"> card world and I'm</font><font color="#E5E5E5"> bottom</font><font color="#CCCCCC"> of</font>

16
00:00:43,710 --> 00:00:48,690
<font color="#CCCCCC">the team maybe you know me about mini</font>

17
00:00:45,629 --> 00:00:50,190
cats<font color="#CCCCCC"> maybe maybe</font><font color="#E5E5E5"> not or kikyo</font><font color="#CCCCCC"> I worked a</font>

18
00:00:48,690 --> 00:00:52,680
French contraband can make some security

19
00:00:50,190 --> 00:00:55,670
<font color="#E5E5E5">research but</font><font color="#CCCCCC"> not related to memory cards</font>

20
00:00:52,680 --> 00:00:58,140
<font color="#CCCCCC">both good stuff from</font><font color="#E5E5E5"> good life of course</font>

21
00:00:55,670 --> 00:01:01,500
<font color="#E5E5E5">so I worked many cats</font><font color="#CCCCCC"> for them see</font>

22
00:00:58,140 --> 00:01:03,840
<font color="#CCCCCC">everyone know at</font><font color="#E5E5E5"> these times so please I</font>

23
00:01:01,500 --> 00:01:07,340
beg your pardon about some bugs you can

24
00:01:03,840 --> 00:01:09,960
have inside so just<font color="#CCCCCC"> a little reminder</font>

25
00:01:07,340 --> 00:01:11,790
<font color="#CCCCCC">because is well known about not well</font>

26
00:01:09,960 --> 00:01:14,580
clear text passwords<font color="#E5E5E5"> because</font><font color="#CCCCCC"> everybody</font>

27
00:01:11,790 --> 00:01:17,700
loves passwords<font color="#E5E5E5"> especially me</font><font color="#CCCCCC"> on this</font>

28
00:01:14,580 --> 00:01:20,070
<font color="#CCCCCC">tour</font><font color="#E5E5E5"> we will not speak a lot about</font>

29
00:01:17,700 --> 00:01:22,890
password maybe about the domain

30
00:01:20,070 --> 00:01:24,240
controller on very an Olympic<font color="#E5E5E5"> Asian but</font>

31
00:01:22,890 --> 00:01:27,900
not<font color="#E5E5E5"> really about clear text as well</font>

32
00:01:24,240 --> 00:01:30,419
<font color="#E5E5E5">maybe few times but not a lot so</font><font color="#CCCCCC"> UFC and</font>

33
00:01:27,900 --> 00:01:33,450
<font color="#CCCCCC">a little barrier which one to become a</font>

34
00:01:30,420 --> 00:01:36,090
domain controller<font color="#CCCCCC"> so</font><font color="#E5E5E5"> we</font><font color="#CCCCCC"> are</font><font color="#E5E5E5"> going to</font>

35
00:01:33,450 --> 00:01:39,680
give him<font color="#CCCCCC"> some some badges each I mean</font>

36
00:01:36,090 --> 00:01:42,509
<font color="#CCCCCC">add some some new stuff so let's start I</font>

37
00:01:39,680 --> 00:01:44,759
think the first badge is a most<font color="#CCCCCC"> basic</font>

38
00:01:42,509 --> 00:01:48,930
one because it is<font color="#E5E5E5"> ready to the DC</font><font color="#CCCCCC"> sanki</font>

39
00:01:44,759 --> 00:01:51,000
story<font color="#E5E5E5"> so let's get into it maybe you</font>

40
00:01:48,930 --> 00:01:53,100
<font color="#E5E5E5">don't know but at the beginning</font><font color="#CCCCCC"> of Asia</font>

41
00:01:51,000 --> 00:01:55,649
idea<font color="#CCCCCC"> as there</font><font color="#E5E5E5"> was a possibility to</font>

42
00:01:53,100 --> 00:01:58,860
sacrifice<font color="#CCCCCC"> father and it</font><font color="#E5E5E5"> was some kind of</font>

43
00:01:55,649 --> 00:02:01,380
amazing<font color="#CCCCCC"> because as I know the new</font><font color="#E5E5E5"> wait</font>

44
00:01:58,860 --> 00:02:03,960
<font color="#CCCCCC">with with password hashes was to attack</font>

45
00:02:01,380 --> 00:02:06,689
<font color="#CCCCCC">directory so domain</font><font color="#E5E5E5"> controller so</font><font color="#CCCCCC"> Oh</font><font color="#E5E5E5"> was</font>

46
00:02:03,960 --> 00:02:09,369
<font color="#CCCCCC">because of</font><font color="#E5E5E5"> doing these kind of things</font><font color="#CCCCCC"> so</font>

47
00:02:06,689 --> 00:02:11,690
<font color="#E5E5E5">you have a tuna</font>

48
00:02:09,369 --> 00:02:15,620
it's<font color="#E5E5E5"> interesting maybe we have to</font>

49
00:02:11,690 --> 00:02:18,380
reverse<font color="#CCCCCC"> engineer it so what does this</font>

50
00:02:15,620 --> 00:02:20,330
tool do is something<font color="#CCCCCC"> very</font><font color="#E5E5E5"> basic yeah</font>

51
00:02:18,380 --> 00:02:23,299
<font color="#CCCCCC">there is some C sharp card which is</font>

52
00:02:20,330 --> 00:02:25,490
doing our PC code so you have a compiled

53
00:02:23,300 --> 00:02:27,850
<font color="#E5E5E5">DLL it's very complicated</font><font color="#CCCCCC"> and then it</font>

54
00:02:25,490 --> 00:02:31,100
receive some data<font color="#E5E5E5"> and you have a</font>

55
00:02:27,850 --> 00:02:33,410
function used to decrypt a magic

56
00:02:31,100 --> 00:02:36,859
attribute<font color="#E5E5E5"> then based on this value into</font>

57
00:02:33,410 --> 00:02:39,170
<font color="#CCCCCC">a two and push it to a sherbet</font><font color="#E5E5E5"> this</font>

58
00:02:36,860 --> 00:02:43,010
<font color="#CCCCCC">ability</font><font color="#E5E5E5"> is basically the interim ash of</font>

59
00:02:39,170 --> 00:02:45,530
the user<font color="#E5E5E5"> so we I designed a quick</font><font color="#CCCCCC"> buck</font>

60
00:02:43,010 --> 00:02:48,230
to be<font color="#CCCCCC"> able</font><font color="#E5E5E5"> to excite all the</font><font color="#CCCCCC"> engine</font>

61
00:02:45,530 --> 00:02:53,360
<font color="#E5E5E5">ashes of the</font><font color="#CCCCCC"> active directory so it was</font>

62
00:02:48,230 --> 00:02:56,238
in 2014<font color="#CCCCCC"> on 1414 UWE</font><font color="#E5E5E5"> you have the data</font>

63
00:02:53,360 --> 00:02:58,340
and then the next year<font color="#E5E5E5"> as a spoke with</font>

64
00:02:56,239 --> 00:03:00,500
<font color="#E5E5E5">Benjamin sending our maybe we can make</font>

65
00:02:58,340 --> 00:03:03,530
some<font color="#E5E5E5"> great tool and we</font><font color="#CCCCCC"> named it this you</font>

66
00:03:00,500 --> 00:03:05,420
think yes<font color="#E5E5E5"> so this is single for few</font>

67
00:03:03,530 --> 00:03:07,520
<font color="#E5E5E5">years</font><font color="#CCCCCC"> ago it was a standalone</font><font color="#E5E5E5"> tool at</font>

68
00:03:05,420 --> 00:03:09,440
the beginning but we quickly<font color="#CCCCCC"> I have to</font>

69
00:03:07,520 --> 00:03:11,480
make the meditation to include it in<font color="#CCCCCC"> min</font>

70
00:03:09,440 --> 00:03:13,790
<font color="#CCCCCC">guys</font><font color="#E5E5E5"> not because Democrats is the best</font>

71
00:03:11,480 --> 00:03:16,040
<font color="#CCCCCC">rule I know this is my mind but just</font>

72
00:03:13,790 --> 00:03:17,780
<font color="#CCCCCC">because I wanted</font><font color="#E5E5E5"> to be able to use some</font>

73
00:03:16,040 --> 00:03:20,540
token impersonation<font color="#E5E5E5"> function I'll mimic</font>

74
00:03:17,780 --> 00:03:23,450
ads so when you use mimic as with<font color="#CCCCCC"> DC</font>

75
00:03:20,540 --> 00:03:25,459
<font color="#CCCCCC">singe</font><font color="#E5E5E5"> especially on an RDP server by</font>

76
00:03:23,450 --> 00:03:26,988
example you can<font color="#CCCCCC"> install the token not</font>

77
00:03:25,459 --> 00:03:28,489
<font color="#E5E5E5">the dominant</font><font color="#CCCCCC"> sort of connected</font><font color="#E5E5E5"> just to</font>

78
00:03:26,989 --> 00:03:31,880
be able<font color="#E5E5E5"> to make</font><font color="#CCCCCC"> something without</font>

79
00:03:28,489 --> 00:03:34,430
<font color="#E5E5E5">knowing</font><font color="#CCCCCC"> it's</font><font color="#E5E5E5"> ash</font><font color="#CCCCCC"> it's Kerberos tickets</font>

80
00:03:31,880 --> 00:03:39,620
or whatever<font color="#E5E5E5"> impersonation is very huge</font>

81
00:03:34,430 --> 00:03:41,299
<font color="#CCCCCC">is very efficient</font><font color="#E5E5E5"> and on piles but those</font>

82
00:03:39,620 --> 00:03:43,430
people<font color="#E5E5E5"> before makes a demonstration</font>

83
00:03:41,299 --> 00:03:47,720
<font color="#E5E5E5">about this thing maybe you can just make</font>

84
00:03:43,430 --> 00:03:49,970
<font color="#E5E5E5">me know who use me</font><font color="#CCCCCC"> this is ink</font><font color="#E5E5E5"> not a lot</font>

85
00:03:47,720 --> 00:03:51,070
of<font color="#E5E5E5"> fans</font><font color="#CCCCCC"> but</font><font color="#E5E5E5"> it's even better</font><font color="#CCCCCC"> that I need</font>

86
00:03:49,970 --> 00:03:54,260
friends<font color="#CCCCCC"> so thank you</font>

87
00:03:51,070 --> 00:03:55,430
<font color="#CCCCCC">maybe absorb all that so all</font><font color="#E5E5E5"> the water</font>

88
00:03:54,260 --> 00:03:57,709
<font color="#CCCCCC">that don't know what</font><font color="#E5E5E5"> it is you think I</font>

89
00:03:55,430 --> 00:04:01,970
will<font color="#E5E5E5"> make a little demonstration</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> will</font>

90
00:03:57,709 --> 00:04:03,079
<font color="#E5E5E5">try to make a demonstration so because</font>

91
00:04:01,970 --> 00:04:04,820
if you think<font color="#CCCCCC"> is</font><font color="#E5E5E5"> not a tool to make</font>

92
00:04:03,079 --> 00:04:06,890
privilege escalations

93
00:04:04,820 --> 00:04:09,109
I'm already domain administrator<font color="#CCCCCC"> also</font><font color="#E5E5E5"> I</font>

94
00:04:06,890 --> 00:04:15,048
cheat a little bit<font color="#E5E5E5"> but it's only to</font>

95
00:04:09,110 --> 00:04:16,489
<font color="#E5E5E5">explains what is this</font><font color="#CCCCCC"> ink on it only so</font>

96
00:04:15,049 --> 00:04:18,289
I have an elder<font color="#CCCCCC"> to make all my common</font>

97
00:04:16,488 --> 00:04:20,019
because sometimes<font color="#CCCCCC"> it's</font><font color="#E5E5E5"> very long</font><font color="#CCCCCC"> so just</font>

98
00:04:18,289 --> 00:04:22,460
<font color="#CCCCCC">I don't</font><font color="#E5E5E5"> know</font>

99
00:04:20,019 --> 00:04:24,560
so this is<font color="#CCCCCC"> NEMA card</font><font color="#E5E5E5"> I'm connected at</font>

100
00:04:22,460 --> 00:04:26,570
the<font color="#E5E5E5"> domain</font><font color="#CCCCCC"> administrator so usually when</font>

101
00:04:24,560 --> 00:04:29,060
you<font color="#CCCCCC"> want to</font><font color="#E5E5E5"> have the ash of a</font><font color="#CCCCCC"> stronger</font>

102
00:04:26,570 --> 00:04:31,400
<font color="#CCCCCC">user you access domain controller you</font>

103
00:04:29,060 --> 00:04:33,290
make<font color="#CCCCCC"> new make a backup of</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> Active</font>

104
00:04:31,400 --> 00:04:35,599
<font color="#CCCCCC">Directory you extract the in today's DS</font>

105
00:04:33,290 --> 00:04:37,760
files and you<font color="#E5E5E5"> dump the database</font>

106
00:04:35,600 --> 00:04:39,920
depending<font color="#E5E5E5"> on the versions of</font><font color="#CCCCCC"> the tools</font>

107
00:04:37,760 --> 00:04:42,260
that you<font color="#CCCCCC"> use it</font><font color="#E5E5E5"> can be very long just to</font>

108
00:04:39,920 --> 00:04:43,430
dump or rush<font color="#E5E5E5"> but usually you want one</font>

109
00:04:42,260 --> 00:04:45,080
ash or<font color="#CCCCCC"> to</font><font color="#E5E5E5"> ash</font>

110
00:04:43,430 --> 00:04:46,700
so domain<font color="#CCCCCC"> names retro to</font><font color="#E5E5E5"> keep it easy to</font>

111
00:04:45,080 --> 00:04:48,500
make golden to get what you<font color="#CCCCCC"> want but you</font>

112
00:04:46,700 --> 00:04:50,180
really<font color="#E5E5E5"> don't want all</font><font color="#CCCCCC"> that to inject</font>

113
00:04:48,500 --> 00:04:53,180
with just what you<font color="#E5E5E5"> just want some data</font>

114
00:04:50,180 --> 00:04:56,570
domain<font color="#E5E5E5"> install is not always the goal so</font>

115
00:04:53,180 --> 00:05:01,490
on this example<font color="#E5E5E5"> I</font><font color="#CCCCCC"> just want to have the</font>

116
00:04:56,570 --> 00:05:06,950
test users<font color="#CCCCCC"> ash</font><font color="#E5E5E5"> and that's all with one</font>

117
00:05:01,490 --> 00:05:09,350
command I<font color="#E5E5E5"> will have the</font><font color="#CCCCCC"> antenna</font><font color="#E5E5E5"> mash of</font>

118
00:05:06,950 --> 00:05:11,620
the users<font color="#E5E5E5"> test so it's a well-known</font>

119
00:05:09,350 --> 00:05:14,420
<font color="#E5E5E5">password it was a one two three four</font>

120
00:05:11,620 --> 00:05:17,180
flashes<font color="#E5E5E5"> password</font><font color="#CCCCCC"> is everywhere even on</font>

121
00:05:14,420 --> 00:05:19,220
my sneakers<font color="#CCCCCC"> and then it's AES key and if</font>

122
00:05:17,180 --> 00:05:21,050
you have<font color="#CCCCCC"> checking the box to</font><font color="#E5E5E5"> keep the</font>

123
00:05:19,220 --> 00:05:22,580
password decrypted on direct inject we

124
00:05:21,050 --> 00:05:26,180
have the clear text password or to users

125
00:05:22,580 --> 00:05:28,039
<font color="#CCCCCC">so all</font><font color="#E5E5E5"> of that is done with up high with</font>

126
00:05:26,180 --> 00:05:32,360
a<font color="#E5E5E5"> PC on the network so it's normal</font>

127
00:05:28,040 --> 00:05:35,050
traffic it is very efficient<font color="#E5E5E5"> so this is</font>

128
00:05:32,360 --> 00:05:39,470
a test user but of course you can ask

129
00:05:35,050 --> 00:05:41,330
more interesting<font color="#E5E5E5"> ash so here BT GT for</font>

130
00:05:39,470 --> 00:05:43,460
<font color="#E5E5E5">the persons that remember four years ago</font>

131
00:05:41,330 --> 00:05:45,950
<font color="#E5E5E5">I met to talk here</font><font color="#CCCCCC"> with Kip</font><font color="#E5E5E5"> talk all</font>

132
00:05:43,460 --> 00:05:49,130
about golden tickets this is this<font color="#E5E5E5"> kind</font>

133
00:05:45,950 --> 00:05:51,050
of<font color="#CCCCCC"> hash it can be</font><font color="#E5E5E5"> very</font><font color="#CCCCCC"> times having to</font>

134
00:05:49,130 --> 00:05:51,740
have this this rain of<font color="#E5E5E5"> ash so the most</font>

135
00:05:51,050 --> 00:05:54,440
important

136
00:05:51,740 --> 00:05:56,510
<font color="#E5E5E5">Ashby's here on the most ESG most</font>

137
00:05:54,440 --> 00:05:59,600
important key is here<font color="#E5E5E5"> in one common on</font>

138
00:05:56,510 --> 00:06:01,250
if you have<font color="#E5E5E5"> 112 a domain controller</font><font color="#CCCCCC"> a</font>

139
00:05:59,600 --> 00:06:03,890
cool because domain controller cocoons

140
00:06:01,250 --> 00:06:05,840
are very important and<font color="#E5E5E5"> very still on the</font>

141
00:06:03,890 --> 00:06:08,330
network so<font color="#E5E5E5"> it's very important for these</font>

142
00:06:05,840 --> 00:06:11,630
kind of actions so with this command<font color="#CCCCCC"> I</font>

143
00:06:08,330 --> 00:06:15,500
just<font color="#CCCCCC"> jump</font><font color="#E5E5E5"> the computer</font><font color="#CCCCCC"> icon</font><font color="#E5E5E5"> of the DC</font>

144
00:06:11,630 --> 00:06:17,630
this is the<font color="#E5E5E5"> name</font><font color="#CCCCCC"> of the DC and this is</font>

145
00:06:15,500 --> 00:06:20,480
the interim<font color="#E5E5E5"> ash of the DC and AC of the</font>

146
00:06:17,630 --> 00:06:22,670
<font color="#CCCCCC">decision but</font><font color="#E5E5E5"> okay this is only key so</font>

147
00:06:20,480 --> 00:06:24,950
normal<font color="#CCCCCC"> Penta stop just want to crack</font>

148
00:06:22,670 --> 00:06:27,290
passwords so if you want<font color="#E5E5E5"> to crack some</font>

149
00:06:24,950 --> 00:06:29,510
creativity<font color="#E5E5E5"> very full if you want to</font>

150
00:06:27,290 --> 00:06:31,910
crack some<font color="#CCCCCC"> DC password review fully so</font>

151
00:06:29,510 --> 00:06:32,580
generated password is very long<font color="#E5E5E5"> but</font><font color="#CCCCCC"> you</font>

152
00:06:31,910 --> 00:06:34,650
can't you

153
00:06:32,580 --> 00:06:37,650
this key<font color="#E5E5E5"> to make some silver to get</font>

154
00:06:34,650 --> 00:06:42,929
<font color="#CCCCCC">focus</font><font color="#E5E5E5"> we with this key here I will with</font>

155
00:06:37,650 --> 00:06:44,840
<font color="#E5E5E5">the silver ticket</font><font color="#CCCCCC"> I will try to make</font><font color="#E5E5E5"> a</font>

156
00:06:42,930 --> 00:06:51,050
<font color="#CCCCCC">silver to get in fact</font>

157
00:06:44,840 --> 00:06:54,299
<font color="#E5E5E5">so I just use this little trick yeah</font>

158
00:06:51,050 --> 00:06:56,490
<font color="#E5E5E5">with that I have a fixation this</font>

159
00:06:54,300 --> 00:07:01,550
<font color="#E5E5E5">decision is not valid at home on the</font>

160
00:06:56,490 --> 00:07:01,550
networks<font color="#CCCCCC"> but I will use</font><font color="#E5E5E5"> makeup</font><font color="#CCCCCC"> like this</font>

161
00:07:05,300 --> 00:07:13,770
so as it is<font color="#E5E5E5"> a fake station she's</font><font color="#CCCCCC"> 5</font><font color="#E5E5E5"> our</font>

162
00:07:12,060 --> 00:07:15,150
code<font color="#E5E5E5"> access denied to the domain</font>

163
00:07:13,770 --> 00:07:16,940
controller to<font color="#E5E5E5"> make some decision that's</font>

164
00:07:15,150 --> 00:07:22,979
normal I have no<font color="#CCCCCC"> station at these times</font>

165
00:07:16,940 --> 00:07:25,259
but<font color="#E5E5E5"> just by using a silver ticket yes</font>

166
00:07:22,979 --> 00:07:26,789
the<font color="#CCCCCC"> command is</font><font color="#E5E5E5"> named golden but it was</font>

167
00:07:25,259 --> 00:07:30,990
some argument it creates<font color="#E5E5E5"> a silver</font>

168
00:07:26,789 --> 00:07:32,639
tickets I'm lazy<font color="#CCCCCC"> okay so on this command</font>

169
00:07:30,990 --> 00:07:34,860
<font color="#E5E5E5">I will create a silver to get the target</font>

170
00:07:32,639 --> 00:07:38,129
<font color="#E5E5E5">domain controller for the LDAP service</font>

171
00:07:34,860 --> 00:07:41,250
and I will and I<font color="#CCCCCC"> will let the domain</font>

172
00:07:38,129 --> 00:07:43,590
controller think I am<font color="#CCCCCC"> - DC - this is a</font>

173
00:07:41,250 --> 00:07:45,360
second domain<font color="#CCCCCC"> Collins is domain on of</font>

174
00:07:43,590 --> 00:07:47,609
<font color="#CCCCCC">course domain controller is allowed to</font>

175
00:07:45,360 --> 00:07:49,139
<font color="#E5E5E5">make some synchronization between domain</font>

176
00:07:47,610 --> 00:07:50,099
controller<font color="#E5E5E5"> frictions</font><font color="#CCCCCC"> that are</font><font color="#E5E5E5"> password</font>

177
00:07:49,139 --> 00:07:51,839
what they want

178
00:07:50,099 --> 00:07:54,659
so this command could receive<font color="#E5E5E5"> a ticket</font>

179
00:07:51,839 --> 00:07:56,490
<font color="#E5E5E5">from</font><font color="#CCCCCC"> the previous freedom</font><font color="#E5E5E5"> pet key on it</font>

180
00:07:54,659 --> 00:07:58,440
injects the zebra ticket in memory it

181
00:07:56,490 --> 00:08:00,569
<font color="#CCCCCC">doesn't touch the disk</font><font color="#E5E5E5"> and just after</font>

182
00:07:58,440 --> 00:08:02,610
<font color="#E5E5E5">that if forgot the movies with me of</font>

183
00:08:00,569 --> 00:08:04,589
course<font color="#CCCCCC"> I can use</font><font color="#E5E5E5"> this the previous</font>

184
00:08:02,610 --> 00:08:07,169
commands<font color="#E5E5E5"> to use previously to them to</font>

185
00:08:04,589 --> 00:08:09,870
krbtgt<font color="#E5E5E5"> so with dizzy think you can</font>

186
00:08:07,169 --> 00:08:12,000
extract all<font color="#CCCCCC"> the</font><font color="#E5E5E5"> key that you</font><font color="#CCCCCC"> need</font><font color="#E5E5E5"> to</font>

187
00:08:09,870 --> 00:08:14,580
make some impersonation<font color="#CCCCCC"> free</font><font color="#E5E5E5"> cocoons</font>

188
00:08:12,000 --> 00:08:17,819
<font color="#E5E5E5">silver ticket golden</font><font color="#CCCCCC"> ticket</font><font color="#E5E5E5"> even DP API</font>

189
00:08:14,580 --> 00:08:18,330
stuff on<font color="#CCCCCC"> its</font><font color="#E5E5E5"> atomic function on the</font>

190
00:08:17,819 --> 00:08:20,190
network

191
00:08:18,330 --> 00:08:22,199
<font color="#CCCCCC">period</font><font color="#E5E5E5"> about one minute second chopper</font>

192
00:08:20,190 --> 00:08:23,699
<font color="#E5E5E5">four minutes ago which overlap network</font>

193
00:08:22,199 --> 00:08:26,129
of course<font color="#E5E5E5"> but it's a few milliseconds</font>

194
00:08:23,699 --> 00:08:31,589
<font color="#CCCCCC">but</font><font color="#E5E5E5"> all your data we switch any warning</font>

195
00:08:26,129 --> 00:08:34,180
on the network you a key to<font color="#CCCCCC"> loop that</font>

196
00:08:31,589 --> 00:08:36,679
<font color="#E5E5E5">and let's go back to the side</font>

197
00:08:34,179 --> 00:08:39,468
the<font color="#E5E5E5"> German you</font><font color="#CCCCCC"> were</font><font color="#E5E5E5"> just the main</font>

198
00:08:36,679 --> 00:08:41,120
<font color="#CCCCCC">control right no no kill me</font><font color="#E5E5E5"> you were</font>

199
00:08:39,469 --> 00:08:42,949
just<font color="#CCCCCC"> the</font><font color="#E5E5E5"> domain</font><font color="#CCCCCC"> come solo</font><font color="#E5E5E5"> not exactly</font>

200
00:08:41,120 --> 00:08:45,560
for the moment<font color="#E5E5E5"> but</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> am I'm nearly</font>

201
00:08:42,948 --> 00:08:47,839
domain controller<font color="#E5E5E5"> so basically with this</font>

202
00:08:45,560 --> 00:08:50,239
is Hank we have<font color="#CCCCCC"> a new read access so I</font>

203
00:08:47,839 --> 00:08:53,329
think the second batch is to be able<font color="#CCCCCC"> to</font>

204
00:08:50,240 --> 00:08:56,509
push data<font color="#E5E5E5"> into the</font><font color="#CCCCCC"> achieve directory</font><font color="#E5E5E5"> so</font>

205
00:08:53,329 --> 00:08:58,819
I got an interesting<font color="#CCCCCC"> question from Andy</font>

206
00:08:56,509 --> 00:09:02,449
<font color="#E5E5E5">you know Andy is one of the</font><font color="#CCCCCC"> brilliant to</font>

207
00:08:58,819 --> 00:09:05,870
<font color="#E5E5E5">tour and is a question was if we are</font>

208
00:09:02,449 --> 00:09:09,609
<font color="#CCCCCC">able to</font><font color="#E5E5E5"> become</font><font color="#CCCCCC"> a domain domain admin by</font>

209
00:09:05,870 --> 00:09:13,009
visiting a password<font color="#CCCCCC"> are we Oberlin</font><font color="#E5E5E5"> to</font>

210
00:09:09,610 --> 00:09:15,380
reverse the<font color="#E5E5E5"> shown that we have made the</font>

211
00:09:13,009 --> 00:09:17,420
<font color="#E5E5E5">problem is that we have only we can only</font>

212
00:09:15,380 --> 00:09:18,920
collect<font color="#E5E5E5"> the ash using this and we do not</font>

213
00:09:17,420 --> 00:09:22,130
have the password so<font color="#CCCCCC"> it seemed</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> be</font>

214
00:09:18,920 --> 00:09:25,370
<font color="#CCCCCC">very complicated</font><font color="#E5E5E5"> so there was a quick</font>

215
00:09:22,130 --> 00:09:29,449
solution using an old NT for IP<font color="#CCCCCC"> I named</font>

216
00:09:25,370 --> 00:09:31,759
<font color="#E5E5E5">set and</font><font color="#CCCCCC"> GLM yes so that's one created a</font>

217
00:09:29,449 --> 00:09:34,880
function<font color="#E5E5E5"> in</font><font color="#CCCCCC"> poroshenko's e</font><font color="#E5E5E5"> we start to</font>

218
00:09:31,759 --> 00:09:37,940
like<font color="#CCCCCC"> powershell it's it's fashion</font>

219
00:09:34,880 --> 00:09:39,949
portion is<font color="#CCCCCC"> very fresh but a mercy</font><font color="#E5E5E5"> guy so</font>

220
00:09:37,940 --> 00:09:41,480
<font color="#CCCCCC">i started</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> be implemented set and jl m</font>

221
00:09:39,949 --> 00:09:43,008
but it was not enough because<font color="#CCCCCC"> there is a</font>

222
00:09:41,480 --> 00:09:45,290
kind<font color="#CCCCCC"> of battle</font><font color="#E5E5E5"> between two between two</font>

223
00:09:43,009 --> 00:09:46,759
of us so I<font color="#E5E5E5"> wanted to make some</font><font color="#CCCCCC"> challenge</font>

224
00:09:45,290 --> 00:09:48,769
and tell<font color="#CCCCCC"> him because</font><font color="#E5E5E5"> on the windows side</font>

225
00:09:46,759 --> 00:09:50,300
set and<font color="#E5E5E5"> tell em</font><font color="#CCCCCC"> create an</font><font color="#E5E5E5"> event and that</font>

226
00:09:48,769 --> 00:09:53,089
means<font color="#CCCCCC"> that all</font><font color="#E5E5E5"> reset</font><font color="#CCCCCC"> your password</font>

227
00:09:50,300 --> 00:09:55,519
nobody<font color="#E5E5E5"> likes that but a standard user</font>

228
00:09:53,089 --> 00:09:56,060
that<font color="#E5E5E5"> it</font><font color="#CCCCCC"> changes its own password</font><font color="#E5E5E5"> it</font><font color="#CCCCCC"> can</font>

229
00:09:55,519 --> 00:09:57,769
<font color="#E5E5E5">be okay</font>

230
00:09:56,060 --> 00:09:59,479
so<font color="#CCCCCC"> I created a function</font><font color="#E5E5E5"> to make change</font>

231
00:09:57,769 --> 00:10:01,310
and tell em<font color="#E5E5E5"> but basically at the end</font>

232
00:09:59,480 --> 00:10:03,949
make exactly<font color="#E5E5E5"> the same</font><font color="#CCCCCC"> you have the</font>

233
00:10:01,310 --> 00:10:06,800
<font color="#E5E5E5">control entourage on the console on the</font>

234
00:10:03,949 --> 00:10:08,870
<font color="#CCCCCC">actual</font><font color="#E5E5E5"> directory but there is a little</font>

235
00:10:06,800 --> 00:10:12,560
<font color="#E5E5E5">problems for technical guide because</font><font color="#CCCCCC"> it</font>

236
00:10:08,870 --> 00:10:12,920
works<font color="#E5E5E5"> with any problems when you push</font><font color="#CCCCCC"> an</font>

237
00:10:12,560 --> 00:10:14,660
<font color="#CCCCCC">tiem</font>

238
00:10:12,920 --> 00:10:17,899
<font color="#E5E5E5">ash or password with this kind of API</font>

239
00:10:14,660 --> 00:10:19,759
because<font color="#E5E5E5"> this is</font><font color="#CCCCCC"> NT for RPI if</font><font color="#E5E5E5"> we move</font>

240
00:10:17,899 --> 00:10:21,649
the<font color="#CCCCCC"> ie8 key from the</font><font color="#E5E5E5"> domain controller</font>

241
00:10:19,759 --> 00:10:23,959
<font color="#E5E5E5">so if you have some AES</font>

242
00:10:21,649 --> 00:10:26,180
only domain you will<font color="#E5E5E5"> have problems but</font>

243
00:10:23,959 --> 00:10:26,719
<font color="#E5E5E5">in real</font><font color="#CCCCCC"> life as c4 is an abalone it</font>

244
00:10:26,180 --> 00:10:30,349
<font color="#CCCCCC">works as well</font>

245
00:10:26,720 --> 00:10:32,720
no problems without we need<font color="#CCCCCC"> more</font>

246
00:10:30,350 --> 00:10:34,880
flexibility Benjamin so because you<font color="#CCCCCC"> have</font>

247
00:10:32,720 --> 00:10:37,579
<font color="#CCCCCC">this</font><font color="#E5E5E5"> is</font><font color="#CCCCCC"> Inc the idea was to be able to</font>

248
00:10:34,880 --> 00:10:40,160
<font color="#E5E5E5">support the decision</font><font color="#CCCCCC"> calls that can made</font>

249
00:10:37,579 --> 00:10:43,069
<font color="#E5E5E5">a domain controller so we need two</font>

250
00:10:40,160 --> 00:10:45,860
things<font color="#E5E5E5"> we need</font><font color="#CCCCCC"> to be able to register</font><font color="#E5E5E5"> or</font>

251
00:10:43,069 --> 00:10:47,360
<font color="#CCCCCC">fake DC into a pseudo</font><font color="#E5E5E5"> Manor</font>

252
00:10:45,860 --> 00:10:51,680
and<font color="#CCCCCC"> same</font><font color="#E5E5E5"> only we need to trigger the</font>

253
00:10:47,360 --> 00:10:53,510
<font color="#E5E5E5">replication but we do not need to be a</font>

254
00:10:51,680 --> 00:10:55,420
member of the domain control group<font color="#E5E5E5"> I</font>

255
00:10:53,510 --> 00:10:58,130
mean<font color="#E5E5E5"> this is not</font><font color="#CCCCCC"> your requirements and</font>

256
00:10:55,420 --> 00:11:00,229
luckily every<font color="#CCCCCC"> protocols that we are</font>

257
00:10:58,130 --> 00:11:03,530
using<font color="#E5E5E5"> it is documented and even</font>

258
00:11:00,230 --> 00:11:07,610
implemented in<font color="#CCCCCC"> Samba so there is nothing</font>

259
00:11:03,530 --> 00:11:10,850
magic near so the first time called

260
00:11:07,610 --> 00:11:15,410
<font color="#E5E5E5">dizzy shadow in</font><font color="#CCCCCC"> u.s. exceed these times</font>

261
00:11:10,850 --> 00:11:16,910
whoever used<font color="#E5E5E5"> dizzy shadow in</font><font color="#CCCCCC"> us okay so</font>

262
00:11:15,410 --> 00:11:19,880
much<font color="#CCCCCC"> and Wow</font>

263
00:11:16,910 --> 00:11:23,750
but it is the same<font color="#E5E5E5"> in France</font><font color="#CCCCCC"> so no I'm</font>

264
00:11:19,880 --> 00:11:26,180
not<font color="#CCCCCC"> amazed</font><font color="#E5E5E5"> about that so let's go to led</font>

265
00:11:23,750 --> 00:11:32,660
to<font color="#E5E5E5"> more</font><font color="#CCCCCC"> than truth demonstration go to</font>

266
00:11:26,180 --> 00:11:35,510
demo so for this demonstration<font color="#E5E5E5"> we need</font>

267
00:11:32,660 --> 00:11:38,030
<font color="#E5E5E5">two mini</font><font color="#CCCCCC"> cuts we need 1 mini</font><font color="#E5E5E5"> cuts as a</font>

268
00:11:35,510 --> 00:11:39,350
domain<font color="#E5E5E5"> administrator sometimes just to</font>

269
00:11:38,030 --> 00:11:41,449
force the domain was a lot to make

270
00:11:39,350 --> 00:11:44,090
replications<font color="#E5E5E5"> it's not mandatory because</font>

271
00:11:41,450 --> 00:11:45,980
you<font color="#E5E5E5"> can wait</font><font color="#CCCCCC"> the domain controller to</font>

272
00:11:44,090 --> 00:11:48,050
initiate your application for you but we

273
00:11:45,980 --> 00:11:50,000
<font color="#E5E5E5">don't we have near 50 minutes so</font><font color="#CCCCCC"> we will</font>

274
00:11:48,050 --> 00:11:53,030
<font color="#E5E5E5">use this command to photo application</font>

275
00:11:50,000 --> 00:11:55,070
<font color="#E5E5E5">but you need another mimic ads that is</font>

276
00:11:53,030 --> 00:11:57,709
running on<font color="#E5E5E5"> the context of the computer</font>

277
00:11:55,070 --> 00:12:02,000
account it's only in history about

278
00:11:57,710 --> 00:12:12,830
<font color="#E5E5E5">Kerberos tickets ok but it was so</font><font color="#CCCCCC"> late</font>

279
00:12:02,000 --> 00:12:13,790
<font color="#CCCCCC">so this is the second</font><font color="#E5E5E5"> mimic</font><font color="#CCCCCC"> ads running</font>

280
00:12:12,830 --> 00:12:21,230
<font color="#CCCCCC">at</font><font color="#E5E5E5"> system</font>

281
00:12:13,790 --> 00:12:23,120
French<font color="#E5E5E5"> system</font><font color="#CCCCCC"> is</font><font color="#E5E5E5"> very interesting</font>

282
00:12:21,230 --> 00:12:25,700
because the system has access<font color="#CCCCCC"> to the</font>

283
00:12:23,120 --> 00:12:32,960
computer<font color="#CCCCCC"> I couldn't so it has all these</font>

284
00:12:25,700 --> 00:12:37,420
Kerberos tickets on this one is<font color="#E5E5E5"> just</font>

285
00:12:32,960 --> 00:12:41,720
under domain administrator administrator

286
00:12:37,420 --> 00:12:47,300
so let's push some basic modification<font color="#CCCCCC"> to</font>

287
00:12:41,720 --> 00:12:49,370
<font color="#E5E5E5">oh la la la so let's go to this domain</font>

288
00:12:47,300 --> 00:12:51,319
controller<font color="#CCCCCC"> we have a test account just</font>

289
00:12:49,370 --> 00:12:55,910
<font color="#E5E5E5">waiting for the demonstration</font><font color="#CCCCCC"> within</font>

290
00:12:51,320 --> 00:12:59,310
descriptions so<font color="#E5E5E5"> it very easy I go to</font>

291
00:12:55,910 --> 00:13:02,579
this<font color="#E5E5E5"> one not</font><font color="#CCCCCC"> this one lot of new</font><font color="#E5E5E5"> cards</font>

292
00:12:59,310 --> 00:13:06,508
<font color="#CCCCCC">ooh too many mimikatz</font><font color="#E5E5E5"> in fact</font><font color="#CCCCCC"> wicked</font>

293
00:13:02,579 --> 00:13:09,660
<font color="#E5E5E5">Swan okay so I go to the</font><font color="#CCCCCC"> computer</font>

294
00:13:06,509 --> 00:13:11,490
<font color="#CCCCCC">account</font><font color="#E5E5E5"> and I will</font><font color="#CCCCCC"> create modification</font>

295
00:13:09,660 --> 00:13:13,740
to have<font color="#CCCCCC"> the motivation -</font><font color="#E5E5E5"> I'll</font><font color="#CCCCCC"> tear the</font>

296
00:13:11,490 --> 00:13:14,970
description of the test<font color="#E5E5E5"> user is not very</font>

297
00:13:13,740 --> 00:13:18,089
dangerous<font color="#CCCCCC"> it</font><font color="#E5E5E5"> is just</font><font color="#CCCCCC"> part of their</font>

298
00:13:14,970 --> 00:13:20,309
<font color="#CCCCCC">maturation</font><font color="#E5E5E5"> so on this side we</font><font color="#CCCCCC"> have an F</font>

299
00:13:18,089 --> 00:13:24,509
PC server listening<font color="#E5E5E5"> it's exactly like a</font>

300
00:13:20,309 --> 00:13:27,870
domain controller<font color="#CCCCCC"> in fact and in the</font>

301
00:13:24,509 --> 00:13:29,850
<font color="#E5E5E5">order of you I will ask</font><font color="#CCCCCC"> the domain</font>

302
00:13:27,870 --> 00:13:38,129
controller to<font color="#E5E5E5"> develop local controller</font>

303
00:13:29,850 --> 00:13:41,249
to initiate replication and luckily we

304
00:13:38,129 --> 00:13:43,290
have seen<font color="#E5E5E5"> that there is</font><font color="#CCCCCC"> replication we</font>

305
00:13:41,249 --> 00:13:45,990
go back to the test<font color="#E5E5E5"> and</font><font color="#CCCCCC"> see</font><font color="#E5E5E5"> hello Vegas</font>

306
00:13:43,290 --> 00:13:47,339
in description<font color="#E5E5E5"> so it's not magic don't</font>

307
00:13:45,990 --> 00:13:49,680
use<font color="#E5E5E5"> this is a description attribute</font>

308
00:13:47,339 --> 00:13:53,249
<font color="#E5E5E5">everybody can digest attributes</font><font color="#CCCCCC"> who</font>

309
00:13:49,680 --> 00:13:54,959
<font color="#CCCCCC">insisted</font><font color="#E5E5E5"> just after that we can</font><font color="#CCCCCC"> go</font><font color="#E5E5E5"> let's</font>

310
00:13:53,249 --> 00:14:00,660
go<font color="#E5E5E5"> back to the PC and see what I have in</font>

311
00:13:54,959 --> 00:14:02,638
my receipt for you<font color="#E5E5E5"> okay and this time we</font>

312
00:14:00,660 --> 00:14:05,160
will just<font color="#E5E5E5"> play with a simple user</font>

313
00:14:02,639 --> 00:14:09,930
account simple is a little bit<font color="#E5E5E5"> more</font>

314
00:14:05,160 --> 00:14:11,910
dangerous<font color="#E5E5E5"> with primary group ID so the</font>

315
00:14:09,930 --> 00:14:13,829
<font color="#E5E5E5">primary group ID is like group the</font>

316
00:14:11,910 --> 00:14:16,920
issues are belong<font color="#CCCCCC"> to the standard user</font>

317
00:14:13,829 --> 00:14:19,258
groups<font color="#CCCCCC"> if actually no idea it but we</font>

318
00:14:16,920 --> 00:14:24,839
will just alter this user with the<font color="#CCCCCC"> same</font>

319
00:14:19,259 --> 00:14:29,970
method so maybe you know<font color="#E5E5E5"> exactly which</font>

320
00:14:24,839 --> 00:14:35,430
is a value 590<font color="#E5E5E5"> maybe so we we don't</font>

321
00:14:29,970 --> 00:14:37,670
wrote book you will<font color="#CCCCCC"> see so I quit to our</font>

322
00:14:35,430 --> 00:14:39,660
PC is listening<font color="#E5E5E5"> we have photo</font><font color="#CCCCCC"> posh</font>

323
00:14:37,670 --> 00:14:41,849
application is<font color="#E5E5E5"> made with a real domain</font>

324
00:14:39,660 --> 00:14:44,790
<font color="#E5E5E5">controller if we go back to</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> simple</font>

325
00:14:41,850 --> 00:14:47,730
user we are lucky<font color="#E5E5E5"> because we are</font><font color="#CCCCCC"> no</font>

326
00:14:44,790 --> 00:14:48,809
<font color="#E5E5E5">enterprise admin on this user this is</font>

327
00:14:47,730 --> 00:14:51,059
<font color="#E5E5E5">very interesting because with this</font>

328
00:14:48,809 --> 00:14:53,399
method with<font color="#CCCCCC"> no event log about an admin</font>

329
00:14:51,059 --> 00:15:00,509
<font color="#CCCCCC">push this user in the group</font><font color="#E5E5E5"> so this is</font>

330
00:14:53,399 --> 00:15:02,459
nearly<font color="#E5E5E5"> invisible on</font><font color="#CCCCCC"> the log and of</font>

331
00:15:00,509 --> 00:15:06,209
course when you<font color="#E5E5E5"> are finished to make</font>

332
00:15:02,459 --> 00:15:08,878
some some nasty jokes on the<font color="#E5E5E5"> networks</font>

333
00:15:06,209 --> 00:15:11,069
<font color="#E5E5E5">can push back to user in</font><font color="#CCCCCC"> the standard</font>

334
00:15:08,879 --> 00:15:12,740
user so nobody knows<font color="#CCCCCC"> that you user has</font>

335
00:15:11,069 --> 00:15:19,069
<font color="#CCCCCC">been interpreted mean during</font>

336
00:15:12,740 --> 00:15:21,050
minute<font color="#E5E5E5"> all the days that you want to let</font>

337
00:15:19,070 --> 00:15:25,459
it<font color="#E5E5E5"> go back to</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> slides this was simple</font>

338
00:15:21,050 --> 00:15:27,800
<font color="#CCCCCC">deviation so</font><font color="#E5E5E5"> so I think you and just the</font>

339
00:15:25,459 --> 00:15:29,779
<font color="#CCCCCC">second page is this is about</font><font color="#E5E5E5"> I</font><font color="#CCCCCC"> just</font>

340
00:15:27,800 --> 00:15:32,779
found these images<font color="#E5E5E5"> it's time to have the</font>

341
00:15:29,779 --> 00:15:34,130
<font color="#CCCCCC">sale badges</font><font color="#E5E5E5"> so into tak have fun with</font>

342
00:15:32,779 --> 00:15:37,880
replication<font color="#E5E5E5"> yes</font>

343
00:15:34,130 --> 00:15:39,410
so it was basic operations with<font color="#E5E5E5"> mimic at</font>

344
00:15:37,880 --> 00:15:42,020
some decision do<font color="#CCCCCC"> you can</font><font color="#E5E5E5"> make exactly</font>

345
00:15:39,410 --> 00:15:44,240
<font color="#E5E5E5">the same with</font><font color="#CCCCCC"> MMC</font><font color="#E5E5E5"> you can make exactly</font>

346
00:15:42,020 --> 00:15:47,750
the<font color="#E5E5E5"> same with an end up it's</font><font color="#CCCCCC"> stuff</font>

347
00:15:44,240 --> 00:15:50,810
that's<font color="#E5E5E5"> not magic</font><font color="#CCCCCC"> but no you</font><font color="#E5E5E5"> can imagine</font>

348
00:15:47,750 --> 00:15:54,350
<font color="#E5E5E5">it's exactly if we have database editor</font>

349
00:15:50,810 --> 00:15:56,359
also<font color="#CCCCCC"> LDAP so you can change your</font><font color="#E5E5E5"> primary</font>

350
00:15:54,350 --> 00:15:59,510
groups<font color="#E5E5E5"> some very magic you can alter the</font>

351
00:15:56,360 --> 00:16:01,610
<font color="#CCCCCC">SiGe story of the user usually</font><font color="#E5E5E5"> it's</font>

352
00:15:59,510 --> 00:16:03,950
nearly impossible for administrator push

353
00:16:01,610 --> 00:16:06,680
<font color="#E5E5E5">the kind of modification we</font><font color="#CCCCCC"> put a lot of</font>

354
00:16:03,950 --> 00:16:09,830
preparation<font color="#CCCCCC"> in the</font><font color="#E5E5E5"> domain on by example</font>

355
00:16:06,680 --> 00:16:12,319
<font color="#E5E5E5">you can push so ash computer password</font>

356
00:16:09,830 --> 00:16:14,990
ash that you want to your user and<font color="#E5E5E5"> then</font>

357
00:16:12,320 --> 00:16:16,970
<font color="#E5E5E5">tell imagine a yes key as you want you</font>

358
00:16:14,990 --> 00:16:18,470
<font color="#E5E5E5">can</font><font color="#CCCCCC"> even push</font><font color="#E5E5E5"> the previews and tell</font>

359
00:16:16,970 --> 00:16:19,790
<font color="#E5E5E5">about you can delay the views and</font>

360
00:16:18,470 --> 00:16:21,200
<font color="#E5E5E5">dilemmas you can do what you want</font>

361
00:16:19,790 --> 00:16:26,500
it's exactly like if you have an<font color="#CCCCCC"> excel</font>

362
00:16:21,200 --> 00:16:30,589
to<font color="#E5E5E5"> the database so let's go</font>

363
00:16:26,500 --> 00:16:31,940
yeah I like it<font color="#E5E5E5"> a lot too but</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> don't</font>

364
00:16:30,589 --> 00:16:36,950
have this<font color="#CCCCCC"> kind of t-shirts if somebody</font>

365
00:16:31,940 --> 00:16:42,800
have one and we will be<font color="#E5E5E5"> very happy but I</font>

366
00:16:36,950 --> 00:16:47,870
don't<font color="#CCCCCC"> have some help so let's go back</font>

367
00:16:42,800 --> 00:16:51,290
let's<font color="#E5E5E5"> copy past so again the simple</font>

368
00:16:47,870 --> 00:16:56,510
users<font color="#E5E5E5"> the simple user is no going back</font>

369
00:16:51,290 --> 00:16:58,969
I will cause of course if I am<font color="#E5E5E5"> lucky is</font>

370
00:16:56,510 --> 00:17:01,370
back to the<font color="#CCCCCC"> lead user this is not is not</font>

371
00:16:58,970 --> 00:17:06,110
<font color="#CCCCCC">the citizen lucky one but we want to</font>

372
00:17:01,370 --> 00:17:12,260
give him some power so we<font color="#E5E5E5"> prepare this</font>

373
00:17:06,109 --> 00:17:15,020
modification so this is super user<font color="#CCCCCC"> but</font>

374
00:17:12,260 --> 00:17:19,099
if<font color="#CCCCCC"> he</font><font color="#E5E5E5"> is</font><font color="#CCCCCC"> ID</font><font color="#E5E5E5"> story to the to s ID value</font>

375
00:17:15,020 --> 00:17:21,829
so<font color="#CCCCCC"> this code but this</font><font color="#E5E5E5"> is</font><font color="#CCCCCC"> 512 maybe you</font>

376
00:17:19,099 --> 00:17:24,530
know what is<font color="#E5E5E5"> beyond</font><font color="#CCCCCC"> this reader</font><font color="#E5E5E5"> would</font>

377
00:17:21,829 --> 00:17:26,829
see and of course we push a modification

378
00:17:24,530 --> 00:17:29,480
again

379
00:17:26,829 --> 00:17:34,419
that's all<font color="#CCCCCC"> it's very creepy</font><font color="#E5E5E5"> with normal</font>

380
00:17:29,480 --> 00:17:34,420
a<font color="#CCCCCC"> pu gamma</font><font color="#E5E5E5"> so this time simple users</font>

381
00:17:35,230 --> 00:17:39,380
primarily<font color="#E5E5E5"> from a group is not</font><font color="#CCCCCC"> change</font>

382
00:17:37,490 --> 00:17:43,190
<font color="#E5E5E5">since</font><font color="#CCCCCC"> these times but we know of the</font>

383
00:17:39,380 --> 00:17:47,059
SIDS story<font color="#E5E5E5"> this is ID story means this</font>

384
00:17:43,190 --> 00:17:48,740
user is no<font color="#E5E5E5"> domain admin and what is very</font>

385
00:17:47,059 --> 00:17:51,580
interesting about is IDs - it's like in

386
00:17:48,740 --> 00:17:56,420
the<font color="#CCCCCC"> garden ticket if if I go to the</font>

387
00:17:51,580 --> 00:17:58,879
admin<font color="#CCCCCC"> the domain trench</font><font color="#E5E5E5"> the simple user</font>

388
00:17:56,420 --> 00:18:00,830
is not in<font color="#E5E5E5"> this group so this user is</font>

389
00:17:58,880 --> 00:18:03,290
dominant mean we<font color="#CCCCCC"> saw</font><font color="#E5E5E5"> being the group you</font>

390
00:18:00,830 --> 00:18:05,000
have no log about<font color="#E5E5E5"> some some some press</font>

391
00:18:03,290 --> 00:18:06,980
on<font color="#E5E5E5"> I'll tell you hid story you have no</font>

392
00:18:05,000 --> 00:18:08,870
log<font color="#E5E5E5"> about groups about that but</font><font color="#CCCCCC"> it's</font>

393
00:18:06,980 --> 00:18:10,760
easy to<font color="#E5E5E5"> do at full power and you can</font>

394
00:18:08,870 --> 00:18:12,379
remove this attribute which every base

395
00:18:10,760 --> 00:18:13,760
<font color="#CCCCCC">creat for our trailers you want on all</font>

396
00:18:12,380 --> 00:18:25,220
<font color="#CCCCCC">this</font><font color="#E5E5E5"> you shadow it</font><font color="#CCCCCC"> will work</font><font color="#E5E5E5"> exactly the</font>

397
00:18:13,760 --> 00:18:29,020
same<font color="#E5E5E5"> I know</font><font color="#CCCCCC"> we will play with</font><font color="#E5E5E5"> another</font>

398
00:18:25,220 --> 00:18:32,330
one<font color="#CCCCCC"> we</font><font color="#E5E5E5"> will play with test</font><font color="#CCCCCC"> resource</font>

399
00:18:29,020 --> 00:18:34,600
States reserves<font color="#E5E5E5"> are again to pass what</font>

400
00:18:32,330 --> 00:18:40,010
was<font color="#E5E5E5"> our one two three four five slash</font>

401
00:18:34,600 --> 00:18:42,439
she's my usual password<font color="#E5E5E5"> so we will act</font>

402
00:18:40,010 --> 00:18:45,080
<font color="#E5E5E5">here this</font><font color="#CCCCCC"> attribute</font><font color="#E5E5E5"> from</font><font color="#CCCCCC"> the tests users</font>

403
00:18:42,440 --> 00:18:48,260
we modify<font color="#CCCCCC"> each when</font><font color="#E5E5E5"> you liquid password</font>

404
00:18:45,080 --> 00:18:50,570
for this ntlm<font color="#E5E5E5"> ash</font><font color="#CCCCCC"> do interesting because</font>

405
00:18:48,260 --> 00:18:53,559
you can push<font color="#E5E5E5"> in</font><font color="#CCCCCC"> tell</font><font color="#E5E5E5"> em after the user</font>

406
00:18:50,570 --> 00:18:58,070
<font color="#E5E5E5">even if you don't know sweet passwords</font><font color="#CCCCCC"> I</font>

407
00:18:53,559 --> 00:19:01,730
know this password<font color="#E5E5E5"> this</font><font color="#CCCCCC"> demonstration on</font>

408
00:18:58,070 --> 00:19:04,220
because I have<font color="#CCCCCC"> credited a</font><font color="#E5E5E5"> lot we have</font>

409
00:19:01,730 --> 00:19:06,020
another attribute super metallic we

410
00:19:04,220 --> 00:19:09,020
don't show<font color="#E5E5E5"> this is the attribute where</font>

411
00:19:06,020 --> 00:19:11,300
<font color="#E5E5E5">Windows Store the AES key cabbie was key</font>

412
00:19:09,020 --> 00:19:16,639
so there is<font color="#CCCCCC"> Evan DES</font><font color="#E5E5E5"> key</font>

413
00:19:11,300 --> 00:19:19,760
<font color="#E5E5E5">AES 128 to 256</font>

414
00:19:16,640 --> 00:19:23,140
I think it's<font color="#CCCCCC"> okay but</font><font color="#E5E5E5"> so with this</font>

415
00:19:19,760 --> 00:19:27,290
special<font color="#E5E5E5"> come online</font><font color="#CCCCCC"> I push</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> previews</font>

416
00:19:23,140 --> 00:19:31,880
<font color="#E5E5E5">AES key of the users Oh trust me okay so</font>

417
00:19:27,290 --> 00:19:33,980
demonstration but for the<font color="#CCCCCC"> AES</font><font color="#E5E5E5"> 128</font><font color="#CCCCCC"> I</font>

418
00:19:31,880 --> 00:19:35,870
pushed the black<font color="#E5E5E5"> cat passwords</font><font color="#CCCCCC"> so I</font>

419
00:19:33,980 --> 00:19:37,270
<font color="#E5E5E5">modified the</font><font color="#CCCCCC"> interior much of the users</font>

420
00:19:35,870 --> 00:19:40,510
<font color="#E5E5E5">I modify the AES</font>

421
00:19:37,270 --> 00:19:45,480
128<font color="#E5E5E5"> key of the users and I let the AES</font>

422
00:19:40,510 --> 00:19:48,100
mm mm<font color="#E5E5E5"> see 50 takes a key of the users</font>

423
00:19:45,480 --> 00:19:49,870
this<font color="#E5E5E5"> is a big beer modification</font><font color="#CCCCCC"> the</font>

424
00:19:48,100 --> 00:19:53,590
<font color="#E5E5E5">sides but it's not to be</font><font color="#CCCCCC"> your one of the</font>

425
00:19:49,870 --> 00:19:56,350
demonstration<font color="#E5E5E5"> of the</font><font color="#CCCCCC"> total so</font><font color="#E5E5E5"> no let's</font>

426
00:19:53,590 --> 00:20:00,030
see we have<font color="#CCCCCC"> synchronize its modification</font>

427
00:19:56,350 --> 00:20:01,179
so because I have not<font color="#E5E5E5"> touched the AES</font>

428
00:20:00,030 --> 00:20:03,310
2056

429
00:20:01,180 --> 00:20:05,800
key of the user<font color="#E5E5E5"> and this is a</font><font color="#CCCCCC"> modern</font><font color="#E5E5E5"> new</font>

430
00:20:03,310 --> 00:20:07,690
domain the user is able to log on on

431
00:20:05,800 --> 00:20:09,490
this normal workstation<font color="#E5E5E5"> with any</font>

432
00:20:07,690 --> 00:20:12,190
problems<font color="#E5E5E5"> because it's by</font><font color="#CCCCCC"> default this</font>

433
00:20:09,490 --> 00:20:17,230
kind of<font color="#CCCCCC"> recreation but</font><font color="#E5E5E5"> we have also at</font>

434
00:20:12,190 --> 00:20:23,890
<font color="#CCCCCC">sea for ntlm point LM and AES 128 when</font>

435
00:20:17,230 --> 00:20:26,350
th enable let's see that so maybe you

436
00:20:23,890 --> 00:20:31,170
know kikyo<font color="#E5E5E5"> or not this is another</font><font color="#CCCCCC"> tool</font>

437
00:20:26,350 --> 00:20:31,169
<font color="#E5E5E5">it's also a Kiwi but</font><font color="#CCCCCC"> animals this time</font>

438
00:20:32,790 --> 00:20:39,340
so by the<font color="#E5E5E5"> Institute I used to make some</font>

439
00:20:36,160 --> 00:20:41,920
kick some cameras stuff so by default if

440
00:20:39,340 --> 00:20:44,290
I am if I<font color="#E5E5E5"> ask a Kerberos tickets with</font>

441
00:20:41,920 --> 00:20:45,490
AES<font color="#CCCCCC"> this kind of</font><font color="#E5E5E5"> encryption with</font><font color="#CCCCCC"> a</font>

442
00:20:44,290 --> 00:20:47,830
<font color="#E5E5E5">normal password of the user</font>

443
00:20:45,490 --> 00:20:49,750
you see it's<font color="#CCCCCC"> ok I have 2t I have the</font>

444
00:20:47,830 --> 00:20:52,270
tickets<font color="#CCCCCC"> it's a</font><font color="#E5E5E5"> road</font><font color="#CCCCCC"> I have the</font><font color="#E5E5E5"> bad</font>

445
00:20:49,750 --> 00:20:52,780
password of course<font color="#CCCCCC"> profile 8 I'm not</font>

446
00:20:52,270 --> 00:20:59,050
allowed

447
00:20:52,780 --> 00:21:01,480
let's go back I have<font color="#CCCCCC"> my tickets</font><font color="#E5E5E5"> but of</font>

448
00:20:59,050 --> 00:21:04,960
<font color="#E5E5E5">course I must use the</font><font color="#CCCCCC"> same password to</font>

449
00:21:01,480 --> 00:21:08,740
ask a ticket with NASA<font color="#CCCCCC"> for</font><font color="#E5E5E5"> no it failed</font>

450
00:21:04,960 --> 00:21:11,440
why<font color="#E5E5E5"> fail because I have changed</font><font color="#CCCCCC"> the</font>

451
00:21:08,740 --> 00:21:13,510
password<font color="#E5E5E5"> ops issues of to Vegas so</font><font color="#CCCCCC"> this</font>

452
00:21:11,440 --> 00:21:14,950
is the same<font color="#E5E5E5"> user on one company at one</font>

453
00:21:13,510 --> 00:21:19,240
password another community knows<font color="#E5E5E5"> our</font>

454
00:21:14,950 --> 00:21:26,140
passwords because<font color="#E5E5E5"> we are we</font><font color="#CCCCCC"> are a little</font>

455
00:21:19,240 --> 00:21:28,690
bit full<font color="#E5E5E5"> let's test this one - yes so</font>

456
00:21:26,140 --> 00:21:31,300
this<font color="#CCCCCC"> is again</font><font color="#E5E5E5"> test users but system with</font>

457
00:21:28,690 --> 00:21:35,230
bracket as false so<font color="#E5E5E5"> this is</font><font color="#CCCCCC"> 3 password</font>

458
00:21:31,300 --> 00:21:37,389
valid at the same times for<font color="#CCCCCC"> backdoor</font>

459
00:21:35,230 --> 00:21:39,010
especially on subsequent<font color="#CCCCCC"> it can be very</font>

460
00:21:37,390 --> 00:21:49,370
<font color="#CCCCCC">useful</font>

461
00:21:39,010 --> 00:21:55,510
don't do this never let's go back to the

462
00:21:49,370 --> 00:21:55,510
slide<font color="#CCCCCC"> it was magic</font>

463
00:21:57,070 --> 00:22:02,960
there is a<font color="#CCCCCC"> question do you need domain</font>

464
00:21:59,360 --> 00:22:07,280
<font color="#CCCCCC">admin - NDC Shadow</font><font color="#E5E5E5"> the question is here</font>

465
00:22:02,960 --> 00:22:09,740
for the first<font color="#CCCCCC"> time but you can use ECL -</font>

466
00:22:07,280 --> 00:22:11,629
<font color="#CCCCCC">to give normal users or right to perform</font>

467
00:22:09,740 --> 00:22:14,960
<font color="#CCCCCC">this is shadow so it can be done</font><font color="#E5E5E5"> very</font>

468
00:22:11,630 --> 00:22:18,500
easily<font color="#CCCCCC"> and thanks</font><font color="#E5E5E5"> to a nickel metal for</font>

469
00:22:14,960 --> 00:22:21,880
this<font color="#CCCCCC"> partial script but you can also use</font>

470
00:22:18,500 --> 00:22:25,490
<font color="#CCCCCC">this to to change a CL and remove some</font>

471
00:22:21,880 --> 00:22:30,530
some even<font color="#E5E5E5"> cooking so it can be used to</font>

472
00:22:25,490 --> 00:22:32,810
to<font color="#CCCCCC"> avoid some some detection so little</font>

473
00:22:30,530 --> 00:22:37,720
<font color="#CCCCCC">bit</font><font color="#E5E5E5"> just a</font><font color="#CCCCCC"> noob addict I think it is</font>

474
00:22:32,810 --> 00:22:40,460
time to go<font color="#E5E5E5"> to the real good god</font><font color="#CCCCCC"> mode so</font>

475
00:22:37,720 --> 00:22:42,590
we want to create<font color="#E5E5E5"> some objects so what</font>

476
00:22:40,460 --> 00:22:46,190
is the difference<font color="#CCCCCC"> between</font><font color="#E5E5E5"> one creation</font>

477
00:22:42,590 --> 00:22:48,800
and one a<font color="#E5E5E5"> data it's very simple</font><font color="#CCCCCC"> it's</font>

478
00:22:46,190 --> 00:22:52,160
just<font color="#E5E5E5"> to ship</font><font color="#CCCCCC"> lomotil attribute name when</font>

479
00:22:48,800 --> 00:22:54,020
created on an instance tip<font color="#CCCCCC"> sorry</font><font color="#E5E5E5"> some</font>

480
00:22:52,160 --> 00:22:56,720
some trick here is<font color="#E5E5E5"> that when you are</font>

481
00:22:54,020 --> 00:22:59,720
doing<font color="#E5E5E5"> this initial push the data has to</font>

482
00:22:56,720 --> 00:23:02,000
<font color="#E5E5E5">respect all the monetary schema</font>

483
00:22:59,720 --> 00:23:05,570
attributes<font color="#E5E5E5"> all the push will will fail</font>

484
00:23:02,000 --> 00:23:09,140
but it's quite easy<font color="#E5E5E5"> but what</font><font color="#CCCCCC"> about the</font>

485
00:23:05,570 --> 00:23:12,950
deletion<font color="#CCCCCC"> the television is a little</font>

486
00:23:09,140 --> 00:23:14,660
tricky<font color="#CCCCCC"> because you may</font><font color="#E5E5E5"> not know the the</font>

487
00:23:12,950 --> 00:23:17,450
<font color="#CCCCCC">lifecycle</font><font color="#E5E5E5"> of the objects but basically</font>

488
00:23:14,660 --> 00:23:19,640
when you want to<font color="#E5E5E5"> delete an object</font><font color="#CCCCCC"> you</font>

489
00:23:17,450 --> 00:23:22,130
add one<font color="#CCCCCC"> attribute which is</font><font color="#E5E5E5"> name is</font>

490
00:23:19,640 --> 00:23:23,930
deleted<font color="#E5E5E5"> you move it</font><font color="#CCCCCC"> to a special</font>

491
00:23:22,130 --> 00:23:25,880
<font color="#E5E5E5">container on your own you name it and</font>

492
00:23:23,930 --> 00:23:27,620
then you you follow the<font color="#E5E5E5"> replication</font>

493
00:23:25,880 --> 00:23:29,840
<font color="#CCCCCC">process and some expression</font><font color="#E5E5E5"> until the</font>

494
00:23:27,620 --> 00:23:33,709
object is deleted<font color="#CCCCCC"> the problem is</font><font color="#E5E5E5"> that</font>

495
00:23:29,840 --> 00:23:36,260
<font color="#E5E5E5">with this</font><font color="#CCCCCC"> process that can be of traces</font>

496
00:23:33,710 --> 00:23:39,560
up to one year after<font color="#E5E5E5"> the deletion so</font>

497
00:23:36,260 --> 00:23:43,430
this is a problem problem<font color="#E5E5E5"> so</font><font color="#CCCCCC"> also</font><font color="#E5E5E5"> blue</font>

498
00:23:39,560 --> 00:23:45,500
team it's cool but

499
00:23:43,430 --> 00:23:48,820
replication is<font color="#E5E5E5"> not it's not perfect and</font>

500
00:23:45,500 --> 00:23:51,720
<font color="#E5E5E5">it may have some problem so I quoted</font>

501
00:23:48,820 --> 00:23:53,939
<font color="#E5E5E5">some Microsoft documentation about</font>

502
00:23:51,720 --> 00:23:57,830
problem which is happening<font color="#E5E5E5"> on cruise</font>

503
00:23:53,940 --> 00:24:01,679
<font color="#E5E5E5">ship so when the cruise ship leave the</font>

504
00:23:57,830 --> 00:24:04,139
domain<font color="#E5E5E5"> there is no application and the</font>

505
00:24:01,679 --> 00:24:06,690
objects can<font color="#CCCCCC"> be removed in one domain but</font>

506
00:24:04,140 --> 00:24:10,409
not in another<font color="#CCCCCC"> so to fix it</font>

507
00:24:06,690 --> 00:24:12,960
there is a process<font color="#E5E5E5"> named lingering which</font>

508
00:24:10,409 --> 00:24:15,690
is comparing both<font color="#E5E5E5"> objects and be able</font><font color="#CCCCCC"> to</font>

509
00:24:12,960 --> 00:24:19,650
remove<font color="#E5E5E5"> some object if is not present in</font>

510
00:24:15,690 --> 00:24:22,830
<font color="#E5E5E5">another Active Directory so the ID</font>

511
00:24:19,650 --> 00:24:26,280
number one is to<font color="#CCCCCC"> try the lingering</font>

512
00:24:22,830 --> 00:24:29,668
<font color="#E5E5E5">liquidation so with dishes</font><font color="#CCCCCC"> adora we</font>

513
00:24:26,280 --> 00:24:32,580
create a DC where the object<font color="#CCCCCC"> doesn't</font>

514
00:24:29,669 --> 00:24:35,429
exist then we trigger the lingering<font color="#E5E5E5"> and</font>

515
00:24:32,580 --> 00:24:38,370
the DC one<font color="#E5E5E5"> and then once the DC one as</font>

516
00:24:35,429 --> 00:24:41,909
doesn't have the<font color="#E5E5E5"> subject anymore we use</font>

517
00:24:38,370 --> 00:24:45,719
<font color="#E5E5E5">it as a</font><font color="#CCCCCC"> pyro</font><font color="#E5E5E5"> to push the change into the</font>

518
00:24:41,909 --> 00:24:48,200
<font color="#CCCCCC">zero</font><font color="#E5E5E5"> DC of the domains but there is</font><font color="#CCCCCC"> one</font>

519
00:24:45,720 --> 00:24:52,080
<font color="#CCCCCC">small bridge to avoid any birds</font>

520
00:24:48,200 --> 00:24:54,840
<font color="#CCCCCC">Microsoft</font><font color="#E5E5E5"> I did a check to be sure that</font>

521
00:24:52,080 --> 00:24:56,610
the<font color="#CCCCCC"> object was created initially so in</font>

522
00:24:54,840 --> 00:24:58,949
practice that<font color="#E5E5E5"> means that if you just</font>

523
00:24:56,610 --> 00:25:00,899
created<font color="#E5E5E5"> the</font><font color="#CCCCCC"> object now you cannot remove</font>

524
00:24:58,950 --> 00:25:06,650
it you have to wait up to<font color="#CCCCCC"> six</font><font color="#E5E5E5"> months</font><font color="#CCCCCC"> so</font>

525
00:25:00,900 --> 00:25:09,929
this<font color="#E5E5E5"> is</font><font color="#CCCCCC"> a problem so let</font><font color="#E5E5E5"> talk about the</font>

526
00:25:06,650 --> 00:25:12,299
dynamic objects it may not<font color="#E5E5E5"> be known but</font>

527
00:25:09,929 --> 00:25:14,970
<font color="#E5E5E5">you can create objects in Active</font>

528
00:25:12,299 --> 00:25:17,520
Directory<font color="#CCCCCC"> which doesn't follow this life</font>

529
00:25:14,970 --> 00:25:19,620
cycle where<font color="#CCCCCC"> you put just</font><font color="#E5E5E5"> an expiration</font>

530
00:25:17,520 --> 00:25:22,500
date<font color="#E5E5E5"> and once the expression that is</font>

531
00:25:19,620 --> 00:25:28,530
which<font color="#E5E5E5"> the object is deleted so at the</font>

532
00:25:22,500 --> 00:25:31,679
bottom<font color="#E5E5E5"> left</font><font color="#CCCCCC"> you have an Lda squid which</font>

533
00:25:28,530 --> 00:25:33,960
<font color="#CCCCCC">creates</font><font color="#E5E5E5"> some</font><font color="#CCCCCC"> kind</font><font color="#E5E5E5"> of dynamic objects so</font>

534
00:25:31,679 --> 00:25:36,270
that's a Google ad so can we change<font color="#CCCCCC"> up</font>

535
00:25:33,960 --> 00:25:39,330
the class so at the left with

536
00:25:36,270 --> 00:25:41,520
screenshots<font color="#E5E5E5"> that I tried to</font><font color="#CCCCCC"> do and you</font>

537
00:25:39,330 --> 00:25:44,340
can see<font color="#CCCCCC"> that</font><font color="#E5E5E5"> it's not possible to</font><font color="#CCCCCC"> do but</font>

538
00:25:41,520 --> 00:25:45,960
maybe with this is<font color="#E5E5E5"> shadow</font><font color="#CCCCCC"> may be to</font>

539
00:25:44,340 --> 00:25:47,580
proceed but we don't quit also the

540
00:25:45,960 --> 00:25:50,309
<font color="#E5E5E5">limitation of Microsoft so</font><font color="#CCCCCC"> is a</font><font color="#E5E5E5"> lot so</font>

541
00:25:47,580 --> 00:25:52,559
it's easier with<font color="#CCCCCC"> miracles</font><font color="#E5E5E5"> so I will try</font>

542
00:25:50,309 --> 00:25:54,450
this<font color="#E5E5E5"> emotions run because</font><font color="#CCCCCC"> we're</font><font color="#E5E5E5"> about</font>

543
00:25:52,559 --> 00:25:57,480
dealing about creating object editing

544
00:25:54,450 --> 00:25:59,820
<font color="#E5E5E5">updating even for me I'm not</font><font color="#CCCCCC"> I'm not</font>

545
00:25:57,480 --> 00:26:03,479
<font color="#CCCCCC">jack - director guy to see him so</font>

546
00:25:59,820 --> 00:26:08,789
I hope the demo will be<font color="#E5E5E5"> okay I'm the</font>

547
00:26:03,479 --> 00:26:12,389
<font color="#CCCCCC">copy bad</font><font color="#E5E5E5"> guy title so let's</font><font color="#CCCCCC"> create</font>

548
00:26:08,789 --> 00:26:15,029
object<font color="#CCCCCC"> soak waiting object is very big</font>

549
00:26:12,389 --> 00:26:17,998
come<font color="#CCCCCC"> online</font><font color="#E5E5E5"> because at the beginning</font><font color="#CCCCCC"> we</font>

550
00:26:15,029 --> 00:26:19,649
are we are<font color="#CCCCCC"> not creating this shadow to</font>

551
00:26:17,999 --> 00:26:21,629
create object like this so we<font color="#CCCCCC"> have</font><font color="#E5E5E5"> to</font>

552
00:26:19,649 --> 00:26:24,268
deal with<font color="#E5E5E5"> a lot of big big big common</font>

553
00:26:21,629 --> 00:26:26,519
line<font color="#E5E5E5"> so don't copy that</font><font color="#CCCCCC"> on your domain</font>

554
00:26:24,269 --> 00:26:38,190
if we know<font color="#CCCCCC"> drugs have to die a little</font>

555
00:26:26,519 --> 00:26:40,950
<font color="#CCCCCC">bit so</font><font color="#E5E5E5"> let's go back so on this one we</font>

556
00:26:38,190 --> 00:26:43,440
create a demo test<font color="#CCCCCC"> free account</font><font color="#E5E5E5"> so we</font>

557
00:26:40,950 --> 00:26:46,409
have a demo<font color="#CCCCCC"> the Nationalists we have</font>

558
00:26:43,440 --> 00:26:48,509
demoted to but we will try<font color="#CCCCCC"> to walk on</font>

559
00:26:46,409 --> 00:26:50,070
<font color="#CCCCCC">this</font><font color="#E5E5E5"> one demo t3 which which doesn't</font>

560
00:26:48,509 --> 00:26:52,019
exist<font color="#E5E5E5"> it's a</font><font color="#CCCCCC"> contract not to</font><font color="#E5E5E5"> use of all</font>

561
00:26:50,070 --> 00:27:00,779
these times because<font color="#CCCCCC"> usual</font><font color="#E5E5E5"> is more</font>

562
00:26:52,019 --> 00:27:04,970
difficult in<font color="#E5E5E5"> fact for the moment so yes</font>

563
00:27:00,779 --> 00:27:04,970
creating a single<font color="#E5E5E5"> contact is all of that</font>

564
00:27:05,299 --> 00:27:17,099
so it<font color="#E5E5E5"> will push a lot of</font><font color="#CCCCCC"> modification</font>

565
00:27:07,830 --> 00:27:19,259
like this<font color="#CCCCCC"> on the quash yes and this</font><font color="#E5E5E5"> time</font>

566
00:27:17,099 --> 00:27:22,668
<font color="#E5E5E5">we have created an object as active</font>

567
00:27:19,259 --> 00:27:22,669
territory but<font color="#E5E5E5"> we</font>

568
00:27:25,139 --> 00:27:30,029
I've done the command I know this is

569
00:27:27,749 --> 00:27:33,360
what bigger<font color="#E5E5E5"> with some complex about that</font>

570
00:27:30,029 --> 00:27:35,070
better<font color="#E5E5E5"> okay so</font><font color="#CCCCCC"> and when we when we</font>

571
00:27:33,360 --> 00:27:37,229
create object like<font color="#E5E5E5"> is that interactive</font>

572
00:27:35,070 --> 00:27:40,830
directory with replication<font color="#CCCCCC"> you don't</font>

573
00:27:37,230 --> 00:27:42,539
have any log so image<font color="#CCCCCC"> in so</font><font color="#E5E5E5"> contact is a</font>

574
00:27:40,830 --> 00:27:47,549
simple one<font color="#E5E5E5"> but just imagine</font><font color="#CCCCCC"> more</font><font color="#E5E5E5"> don't</font>

575
00:27:42,539 --> 00:27:50,220
use object over attribute you<font color="#E5E5E5"> forgot to</font>

576
00:27:47,549 --> 00:27:50,789
show the<font color="#E5E5E5"> question that question that oh</font>

577
00:27:50,220 --> 00:27:53,639
yes

578
00:27:50,789 --> 00:27:56,039
<font color="#CCCCCC">for example it's a Jarret everything</font>

579
00:27:53,639 --> 00:27:57,269
because we we<font color="#E5E5E5"> created the</font><font color="#CCCCCC"> object with</font>

580
00:27:56,039 --> 00:28:00,029
<font color="#CCCCCC">all attributes as we want</font>

581
00:27:57,269 --> 00:28:01,950
so when created yes of<font color="#E5E5E5"> course was</font>

582
00:28:00,029 --> 00:28:04,700
<font color="#E5E5E5">created yes it's</font><font color="#CCCCCC"> very normal</font>

583
00:28:01,950 --> 00:28:12,239
we<font color="#E5E5E5"> needed an object for the next demo so</font>

584
00:28:04,700 --> 00:28:20,999
we literally just after yep<font color="#E5E5E5"> so no we</font>

585
00:28:12,239 --> 00:28:23,519
will try to delete<font color="#CCCCCC"> this object so up</font><font color="#E5E5E5"> on</font>

586
00:28:20,999 --> 00:28:24,149
this one<font color="#CCCCCC"> application so it waits</font><font color="#E5E5E5"> for</font>

587
00:28:23,519 --> 00:28:26,489
<font color="#CCCCCC">comment</font>

588
00:28:24,149 --> 00:28:28,168
to do to make some lingering and we<font color="#CCCCCC"> ask</font>

589
00:28:26,489 --> 00:28:32,549
the main controller to<font color="#E5E5E5"> make - Tommy</font>

590
00:28:28,169 --> 00:28:36,359
lingering<font color="#CCCCCC"> about this object I can stop</font>

591
00:28:32,549 --> 00:28:41,730
it's<font color="#CCCCCC"> okay and now if we all keep subject</font>

592
00:28:36,359 --> 00:28:44,970
is deleted again the log<font color="#CCCCCC"> I</font><font color="#E5E5E5"> know</font>

593
00:28:41,730 --> 00:28:46,889
modification about dynamic<font color="#E5E5E5"> objects maybe</font>

594
00:28:44,970 --> 00:28:48,809
you can choose a class system dynamic at

595
00:28:46,889 --> 00:28:52,678
all yes maybe<font color="#CCCCCC"> will create again this</font>

596
00:28:48,809 --> 00:28:54,989
<font color="#CCCCCC">object</font><font color="#E5E5E5"> if I didn't did it no it's okay</font>

597
00:28:52,679 --> 00:28:56,600
so Java class<font color="#CCCCCC"> we</font><font color="#E5E5E5"> store personal</font>

598
00:28:54,989 --> 00:28:58,799
additional contacts it's a normal object

599
00:28:56,600 --> 00:29:03,090
<font color="#E5E5E5">interactivity rectory</font><font color="#CCCCCC"> but we will alter</font>

600
00:28:58,799 --> 00:29:05,100
the subjects now so you can find<font color="#CCCCCC"> contact</font>

601
00:29:03,090 --> 00:29:07,639
or<font color="#E5E5E5"> conditional doesn't</font><font color="#CCCCCC"> Undine amicably</font>

602
00:29:05,100 --> 00:29:07,639
at the end

603
00:29:14,510 --> 00:29:28,870
copy past issue so<font color="#E5E5E5"> it's weights again we</font>

604
00:29:20,120 --> 00:29:32,689
push<font color="#CCCCCC"> stun we go back</font><font color="#E5E5E5"> I know this is</font>

605
00:29:28,870 --> 00:29:34,909
object class<font color="#E5E5E5"> we can see this is a</font>

606
00:29:32,690 --> 00:29:37,780
dynamic<font color="#CCCCCC"> object here</font><font color="#E5E5E5"> and we have the time</font>

607
00:29:34,910 --> 00:29:43,700
to<font color="#E5E5E5"> leave here so this object it is to</font>

608
00:29:37,780 --> 00:29:45,410
320 t6<font color="#CCCCCC"> I know</font><font color="#E5E5E5"> it's 312 so it will</font>

609
00:29:43,700 --> 00:29:47,720
decrease<font color="#E5E5E5"> and at the end</font><font color="#CCCCCC"> object will be</font>

610
00:29:45,410 --> 00:29:50,480
removed automatically<font color="#CCCCCC"> it really</font><font color="#E5E5E5"> useful</font>

611
00:29:47,720 --> 00:29:53,240
if you create some admin<font color="#E5E5E5"> some some part</font>

612
00:29:50,480 --> 00:29:57,559
want to test with<font color="#CCCCCC"> that by example I say</font>

613
00:29:53,240 --> 00:29:57,980
like<font color="#E5E5E5"> that and do what you want not</font><font color="#CCCCCC"> show</font>

614
00:29:57,559 --> 00:30:01,970
<font color="#CCCCCC">boss</font>

615
00:29:57,980 --> 00:30:03,860
I think it's around of this

616
00:30:01,970 --> 00:30:06,410
demonstration<font color="#CCCCCC"> so let's go back the</font>

617
00:30:03,860 --> 00:30:12,020
minimum time is 15<font color="#E5E5E5"> minutes</font><font color="#CCCCCC"> I cannot do</font>

618
00:30:06,410 --> 00:30:13,460
you cannot do this so we won't<font color="#CCCCCC"> have a</font>

619
00:30:12,020 --> 00:30:15,590
demo for<font color="#E5E5E5"> a while so I wanted to</font>

620
00:30:13,460 --> 00:30:18,799
<font color="#E5E5E5">introduce all this little</font><font color="#CCCCCC"> ball</font><font color="#E5E5E5"> got got</font>

621
00:30:15,590 --> 00:30:23,149
more badges<font color="#E5E5E5"> so we are starting</font><font color="#CCCCCC"> to play</font>

622
00:30:18,799 --> 00:30:26,210
with Active Directory<font color="#CCCCCC"> metadata</font><font color="#E5E5E5"> so why</font>

623
00:30:23,150 --> 00:30:28,580
are their application metadata you know

624
00:30:26,210 --> 00:30:30,440
you may<font color="#CCCCCC"> add some in in real life you may</font>

625
00:30:28,580 --> 00:30:34,909
add some problems for example<font color="#CCCCCC"> you may</font>

626
00:30:30,440 --> 00:30:36,890
have an object with different value<font color="#CCCCCC"> of a</font>

627
00:30:34,910 --> 00:30:39,230
property<font color="#E5E5E5"> given the domain controller</font>

628
00:30:36,890 --> 00:30:42,380
<font color="#CCCCCC">that you crabby</font><font color="#E5E5E5"> or you may have some</font>

629
00:30:39,230 --> 00:30:45,200
program in the notes and<font color="#CCCCCC"> to develop that</font>

630
00:30:42,380 --> 00:30:47,600
you need to understand<font color="#E5E5E5"> if the value is</font>

631
00:30:45,200 --> 00:30:49,610
the latest one<font color="#CCCCCC"> the</font><font color="#E5E5E5"> change when it</font>

632
00:30:47,600 --> 00:30:51,469
happened it is<font color="#E5E5E5"> very you need to have</font>

633
00:30:49,610 --> 00:30:53,600
some info<font color="#CCCCCC"> and when you</font><font color="#E5E5E5"> are killing the</font>

634
00:30:51,470 --> 00:30:56,000
<font color="#E5E5E5">Microsoft support to investigate your</font>

635
00:30:53,600 --> 00:30:58,760
application<font color="#E5E5E5"> problem you need</font><font color="#CCCCCC"> to push an</font>

636
00:30:56,000 --> 00:31:01,429
<font color="#CCCCCC">LS Isis that</font><font color="#E5E5E5"> is the</font><font color="#CCCCCC"> dam and</font><font color="#E5E5E5"> you</font><font color="#CCCCCC"> know</font>

637
00:30:58,760 --> 00:31:03,890
what's<font color="#E5E5E5"> inside of course if you don't</font>

638
00:31:01,429 --> 00:31:08,570
know<font color="#E5E5E5"> please some miss Odom at me first</font>

639
00:31:03,890 --> 00:31:11,450
please<font color="#E5E5E5"> so meta data can be collected</font>

640
00:31:08,570 --> 00:31:15,470
very<font color="#E5E5E5"> easily on as they are using L del</font>

641
00:31:11,450 --> 00:31:19,320
<font color="#E5E5E5">dot</font><font color="#CCCCCC"> you have two</font><font color="#E5E5E5"> attributes</font><font color="#CCCCCC"> on or</font><font color="#E5E5E5"> using</font>

642
00:31:15,470 --> 00:31:21,960
a<font color="#E5E5E5"> PC using a tool named rape and mean so</font>

643
00:31:19,320 --> 00:31:24,750
in the next<font color="#CCCCCC"> slide you see the details</font>

644
00:31:21,960 --> 00:31:26,910
that you<font color="#E5E5E5"> can collect</font><font color="#CCCCCC"> so you can</font><font color="#E5E5E5"> collect</font>

645
00:31:24,750 --> 00:31:28,860
<font color="#CCCCCC">who has done some edification</font><font color="#E5E5E5"> because</font>

646
00:31:26,910 --> 00:31:31,950
you get the<font color="#CCCCCC"> DCM and then you</font><font color="#E5E5E5"> can get</font>

647
00:31:28,860 --> 00:31:34,830
into<font color="#CCCCCC"> the logs</font><font color="#E5E5E5"> you know what attribute</font>

648
00:31:31,950 --> 00:31:36,600
has been<font color="#E5E5E5"> modified</font><font color="#CCCCCC"> you know what kind of</font>

649
00:31:34,830 --> 00:31:38,610
value<font color="#CCCCCC"> has been</font><font color="#E5E5E5"> added using</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> version</font>

650
00:31:36,600 --> 00:31:42,780
number you know when this<font color="#E5E5E5"> is change up</font>

651
00:31:38,610 --> 00:31:45,300
and<font color="#E5E5E5"> so this is system very interesting</font>

652
00:31:42,780 --> 00:31:46,590
to rebuild any story<font color="#E5E5E5"> I mean when you are</font>

653
00:31:45,300 --> 00:31:49,050
<font color="#E5E5E5">blue team you want to understand an</font>

654
00:31:46,590 --> 00:31:52,560
attack and with that you<font color="#CCCCCC"> are</font><font color="#E5E5E5"> able to buy</font>

655
00:31:49,050 --> 00:31:57,180
spies<font color="#E5E5E5"> obsessive</font><font color="#CCCCCC"> locks</font><font color="#E5E5E5"> but you see the</font>

656
00:31:52,560 --> 00:32:00,149
rectangle in in blue<font color="#CCCCCC"> this is</font><font color="#E5E5E5"> the data</font>

657
00:31:57,180 --> 00:32:02,970
<font color="#E5E5E5">that domain control can control</font><font color="#CCCCCC"> so with</font>

658
00:32:00,150 --> 00:32:05,070
DC shadow<font color="#CCCCCC"> we can change that</font><font color="#E5E5E5"> but</font><font color="#CCCCCC"> sadly</font>

659
00:32:02,970 --> 00:32:06,810
we<font color="#E5E5E5"> don't have time</font><font color="#CCCCCC"> for formal demo</font><font color="#E5E5E5"> and</font>

660
00:32:05,070 --> 00:32:09,090
<font color="#E5E5E5">it's very done host modification what</font>

661
00:32:06,810 --> 00:32:11,040
kind<font color="#E5E5E5"> of attribute like that</font><font color="#CCCCCC"> I think we</font>

662
00:32:09,090 --> 00:32:16,169
will push on video and Twitter<font color="#E5E5E5"> it's</font>

663
00:32:11,040 --> 00:32:22,620
working<font color="#E5E5E5"> we can also play with with the</font>

664
00:32:16,170 --> 00:32:25,580
<font color="#CCCCCC">schemas so 2 to 12 hours</font><font color="#E5E5E5"> of edges so</font><font color="#CCCCCC"> you</font>

665
00:32:22,620 --> 00:32:27,840
know the schema is used to describe<font color="#CCCCCC"> the</font>

666
00:32:25,580 --> 00:32:34,199
<font color="#CCCCCC">attribute of an object or some</font>

667
00:32:27,840 --> 00:32:36,330
properties like that so but you you<font color="#E5E5E5"> have</font>

668
00:32:34,200 --> 00:32:37,980
to update<font color="#CCCCCC"> it and maybe you may have some</font>

669
00:32:36,330 --> 00:32:41,550
application problems so you can you can

670
00:32:37,980 --> 00:32:43,800
break your<font color="#CCCCCC"> your</font><font color="#E5E5E5"> DC and you remember the</font>

671
00:32:41,550 --> 00:32:44,790
cruise ship so if you are doing<font color="#E5E5E5"> an</font>

672
00:32:43,800 --> 00:32:46,260
update in an<font color="#E5E5E5"> idea and it's not</font>

673
00:32:44,790 --> 00:32:50,280
<font color="#CCCCCC">replicated you can just break your</font>

674
00:32:46,260 --> 00:32:52,650
domain your domain<font color="#CCCCCC"> so to avoid</font><font color="#E5E5E5"> Zardo</font>

675
00:32:50,280 --> 00:32:54,780
<font color="#E5E5E5">there is an</font><font color="#CCCCCC"> attribute which</font><font color="#E5E5E5"> is not</font>

676
00:32:52,650 --> 00:32:59,040
<font color="#E5E5E5">well-known</font><font color="#CCCCCC"> which</font><font color="#E5E5E5"> is called</font>

677
00:32:54,780 --> 00:33:00,810
schema in form and in this<font color="#E5E5E5"> this</font>

678
00:32:59,040 --> 00:33:03,300
attribute<font color="#E5E5E5"> each time a change is done in</font>

679
00:33:00,810 --> 00:33:08,399
the schema<font color="#CCCCCC"> this version of Earth is</font>

680
00:33:03,300 --> 00:33:09,990
updated so with DC shadow<font color="#E5E5E5"> we can just</font>

681
00:33:08,400 --> 00:33:12,090
put a change without<font color="#CCCCCC"> changes its</font>

682
00:33:09,990 --> 00:33:14,370
attribute so this is very powerful<font color="#CCCCCC"> to</font>

683
00:33:12,090 --> 00:33:17,010
<font color="#E5E5E5">put some back doors for example in the</font>

684
00:33:14,370 --> 00:33:21,929
lapse attribute to to access<font color="#E5E5E5"> local I</font>

685
00:33:17,010 --> 00:33:25,290
mean<font color="#CCCCCC"> passwords</font><font color="#E5E5E5"> when we detect</font><font color="#CCCCCC"> this</font>

686
00:33:21,930 --> 00:33:27,790
shadow<font color="#CCCCCC"> know yes of</font><font color="#E5E5E5"> course you can detect</font>

687
00:33:25,290 --> 00:33:30,399
<font color="#E5E5E5">shadow is he</font>

688
00:33:27,790 --> 00:33:32,649
so there is two key points<font color="#CCCCCC"> here the</font>

689
00:33:30,400 --> 00:33:35,470
first one is should workstation or

690
00:33:32,650 --> 00:33:38,800
server or anything<font color="#E5E5E5"> emit domain control</font>

691
00:33:35,470 --> 00:33:41,830
<font color="#E5E5E5">traffic as the second part is that do</font>

692
00:33:38,800 --> 00:33:43,870
<font color="#E5E5E5">you control the DC promotion process so</font>

693
00:33:41,830 --> 00:33:46,590
in<font color="#E5E5E5"> short if I translated into technical</font>

694
00:33:43,870 --> 00:33:50,040
terms<font color="#E5E5E5"> do you monitor the</font><font color="#CCCCCC"> network traffic</font>

695
00:33:46,590 --> 00:33:53,320
<font color="#E5E5E5">do you monitor the server application</font>

696
00:33:50,040 --> 00:33:57,399
and of course<font color="#E5E5E5"> do you monitor event on</font>

697
00:33:53,320 --> 00:33:59,649
the domain controller<font color="#E5E5E5"> so to your</font>

698
00:33:57,400 --> 00:34:02,580
<font color="#E5E5E5">knowledge there</font><font color="#CCCCCC"> is one page is the</font>

699
00:33:59,650 --> 00:34:05,260
Microsoft<font color="#E5E5E5"> documentation describing the</font>

700
00:34:02,580 --> 00:34:07,750
replication events so we<font color="#CCCCCC"> have</font>

701
00:34:05,260 --> 00:34:12,190
highlighted in blue the events that<font color="#E5E5E5"> need</font>

702
00:34:07,750 --> 00:34:14,409
to be collected you<font color="#E5E5E5"> can do it using the</font>

703
00:34:12,190 --> 00:34:18,190
network<font color="#E5E5E5"> so this is a capture</font><font color="#CCCCCC"> of the</font>

704
00:34:14,409 --> 00:34:20,830
interesting part<font color="#E5E5E5"> of DC shallow but if</font>

705
00:34:18,190 --> 00:34:24,668
you have one<font color="#CCCCCC"> a physical to monitor which</font>

706
00:34:20,830 --> 00:34:27,520
is<font color="#CCCCCC"> a highly linked to</font><font color="#E5E5E5"> decision or</font><font color="#CCCCCC"> DC</font>

707
00:34:24,668 --> 00:34:30,158
<font color="#CCCCCC">shadow activities</font><font color="#E5E5E5"> this</font><font color="#CCCCCC"> is a DRS get NC</font>

708
00:34:27,520 --> 00:34:32,770
change<font color="#CCCCCC"> yes is the most</font><font color="#E5E5E5"> interesting API</font>

709
00:34:30,159 --> 00:34:34,710
because<font color="#E5E5E5"> it's used in both the sync and</font>

710
00:34:32,770 --> 00:34:38,050
DC shadow because if you just promote

711
00:34:34,710 --> 00:34:39,760
computer as a replica<font color="#E5E5E5"> like a domain</font>

712
00:34:38,050 --> 00:34:41,980
controller<font color="#CCCCCC"> we should make decision just</font>

713
00:34:39,760 --> 00:34:48,300
after<font color="#E5E5E5"> it's for</font><font color="#CCCCCC"> those things where it not</font>

714
00:34:41,980 --> 00:34:48,300
be useful<font color="#CCCCCC"> so just come on guys we are in</font>

715
00:34:48,750 --> 00:34:56,889
2018 monitor<font color="#E5E5E5"> your TC logs it's very easy</font>

716
00:34:53,800 --> 00:34:59,140
on even in<font color="#CCCCCC"> Windows modern version</font><font color="#E5E5E5"> there</font>

717
00:34:56,889 --> 00:35:01,210
is<font color="#CCCCCC"> a lot</font><font color="#E5E5E5"> of very</font><font color="#CCCCCC"> useful information by</font>

718
00:34:59,140 --> 00:35:04,270
default<font color="#CCCCCC"> you have</font><font color="#E5E5E5"> all the events to</font>

719
00:35:01,210 --> 00:35:06,970
monitor DC sync or DC shadow just by the

720
00:35:04,270 --> 00:35:08,590
event log<font color="#E5E5E5"> so you can use whatever</font>

721
00:35:06,970 --> 00:35:12,189
<font color="#CCCCCC">projects you want to monitor your log</font>

722
00:35:08,590 --> 00:35:13,720
events<font color="#E5E5E5"> integrated event even drug of</font>

723
00:35:12,190 --> 00:35:15,880
<font color="#CCCCCC">Windows you can make some eliot about</font>

724
00:35:13,720 --> 00:35:18,430
that<font color="#CCCCCC"> push it</font><font color="#E5E5E5"> in the same it's more easy</font>

725
00:35:15,880 --> 00:35:20,470
<font color="#E5E5E5">with so because</font><font color="#CCCCCC"> i'm sometimes i create</font>

726
00:35:18,430 --> 00:35:23,500
some stuff to not attack on networks

727
00:35:20,470 --> 00:35:26,410
<font color="#CCCCCC">equative some it's prank rules because</font><font color="#E5E5E5"> I</font>

728
00:35:23,500 --> 00:35:28,330
use<font color="#CCCCCC"> planks</font><font color="#E5E5E5"> but I am</font><font color="#CCCCCC"> creating some some</font>

729
00:35:26,410 --> 00:35:30,310
rules<font color="#E5E5E5"> just really takes both of</font><font color="#CCCCCC"> that and</font>

730
00:35:28,330 --> 00:35:33,009
just<font color="#E5E5E5"> to say it come from this kind of</font>

731
00:35:30,310 --> 00:35:35,620
<font color="#CCCCCC">loopy IP</font><font color="#E5E5E5"> it's in the</font><font color="#CCCCCC"> river clock</font><font color="#E5E5E5"> it's</font>

732
00:35:33,010 --> 00:35:37,540
very easy<font color="#E5E5E5"> so</font><font color="#CCCCCC"> you can't say you don't</font>

733
00:35:35,620 --> 00:35:40,930
have any ways to<font color="#E5E5E5"> detect that and you</font>

734
00:35:37,540 --> 00:35:44,660
need some<font color="#CCCCCC"> by own widgets no</font>

735
00:35:40,930 --> 00:35:47,509
<font color="#CCCCCC">I asked my sure I asked I said</font><font color="#E5E5E5"> a</font>

736
00:35:44,660 --> 00:35:50,330
question that can<font color="#E5E5E5"> you track</font><font color="#CCCCCC"> past</font>

737
00:35:47,510 --> 00:35:53,180
confirmation on so my<font color="#E5E5E5"> Pincus</font><font color="#CCCCCC"> and twos I</font>

738
00:35:50,330 --> 00:35:55,670
made some<font color="#E5E5E5"> scanners to be able to track</font>

739
00:35:53,180 --> 00:35:57,529
some<font color="#E5E5E5"> we have application because there</font>

740
00:35:55,670 --> 00:36:01,130
is only one<font color="#CCCCCC"> metadata attributes that you</font>

741
00:35:57,530 --> 00:36:04,010
cannot control is local us<font color="#CCCCCC"> at one so my</font>

742
00:36:01,130 --> 00:36:05,330
idea was<font color="#E5E5E5"> to compare the local</font><font color="#CCCCCC"> USN</font><font color="#E5E5E5"> with</font>

743
00:36:04,010 --> 00:36:07,640
your application that to be able<font color="#E5E5E5"> to</font>

744
00:36:05,330 --> 00:36:09,830
<font color="#CCCCCC">detect some some misconception</font><font color="#E5E5E5"> but</font><font color="#CCCCCC"> other</font>

745
00:36:07,640 --> 00:36:13,000
bad news<font color="#CCCCCC"> when doing some investigation I</font>

746
00:36:09,830 --> 00:36:15,290
discovered that<font color="#E5E5E5"> even with through</font>

747
00:36:13,000 --> 00:36:19,340
<font color="#CCCCCC">microsoft domain controller</font><font color="#E5E5E5"> they are</font>

748
00:36:15,290 --> 00:36:21,560
<font color="#E5E5E5">mixing metadata so it's it's working</font><font color="#CCCCCC"> but</font>

749
00:36:19,340 --> 00:36:23,180
<font color="#CCCCCC">not as expected</font><font color="#E5E5E5"> it's not so perfect and</font>

750
00:36:21,560 --> 00:36:26,810
you get<font color="#CCCCCC"> orbit you</font><font color="#E5E5E5"> can take a look it can</font>

751
00:36:23,180 --> 00:36:29,419
be interesting<font color="#E5E5E5"> so we are near the</font><font color="#CCCCCC"> end of</font>

752
00:36:26,810 --> 00:36:30,529
the total we<font color="#E5E5E5"> can give you some idea to</font>

753
00:36:29,420 --> 00:36:33,230
test<font color="#E5E5E5"> because we're friends will have</font>

754
00:36:30,530 --> 00:36:34,640
<font color="#CCCCCC">french go may stuff like that we can</font>

755
00:36:33,230 --> 00:36:37,010
give<font color="#CCCCCC"> you some wizard so my personal</font>

756
00:36:34,640 --> 00:36:39,830
<font color="#E5E5E5">receipt just for you to test you can</font>

757
00:36:37,010 --> 00:36:41,930
imagine<font color="#E5E5E5"> a simple little with an IOU</font><font color="#CCCCCC"> you</font>

758
00:36:39,830 --> 00:36:44,150
can impersonate on<font color="#E5E5E5"> tto</font><font color="#CCCCCC"> from</font><font color="#E5E5E5"> in DC so</font><font color="#CCCCCC"> you</font>

759
00:36:41,930 --> 00:36:47,120
<font color="#E5E5E5">stole</font><font color="#CCCCCC"> its its password each key from</font><font color="#E5E5E5"> the</font>

760
00:36:44,150 --> 00:36:48,770
<font color="#CCCCCC">memories I keep directly on you wait for</font>

761
00:36:47,120 --> 00:36:50,870
<font color="#E5E5E5">its reboots because I'm pretty sure you</font>

762
00:36:48,770 --> 00:36:53,390
<font color="#CCCCCC">pass Odyssey so it will reboot at one</font>

763
00:36:50,870 --> 00:36:56,120
moment and<font color="#CCCCCC"> you just impersonate</font><font color="#E5E5E5"> its IP</font>

764
00:36:53,390 --> 00:36:57,560
<font color="#CCCCCC">address you just up a DC shadow</font><font color="#E5E5E5"> waiting</font>

765
00:36:56,120 --> 00:36:59,839
on the connection and you can<font color="#CCCCCC"> push</font>

766
00:36:57,560 --> 00:37:01,220
<font color="#E5E5E5">whatever data you want with</font><font color="#CCCCCC"> that you</font>

767
00:36:59,840 --> 00:37:03,980
don't<font color="#E5E5E5"> have to make some</font><font color="#CCCCCC"> replica</font>

768
00:37:01,220 --> 00:37:07,339
injective<font color="#CCCCCC"> injector it will not leave any</font>

769
00:37:03,980 --> 00:37:09,350
<font color="#CCCCCC">trust a picker ad and also</font><font color="#E5E5E5"> apply so only</font>

770
00:37:07,340 --> 00:37:11,720
this is<font color="#CCCCCC"> ink getting</font><font color="#E5E5E5"> citations will</font><font color="#CCCCCC"> be</font>

771
00:37:09,350 --> 00:37:14,360
useful<font color="#E5E5E5"> but you just have to</font><font color="#CCCCCC"> wait for</font>

772
00:37:11,720 --> 00:37:15,770
updates<font color="#CCCCCC"> and</font><font color="#E5E5E5"> you will be able to</font><font color="#CCCCCC"> take the</font>

773
00:37:14,360 --> 00:37:18,080
<font color="#E5E5E5">whole of the domain controller</font><font color="#CCCCCC"> which is</font>

774
00:37:15,770 --> 00:37:20,690
kind of<font color="#CCCCCC"> poor</font><font color="#E5E5E5"> behavior but this is my</font>

775
00:37:18,080 --> 00:37:23,569
<font color="#CCCCCC">personal wish it was not one I have one</font>

776
00:37:20,690 --> 00:37:26,240
more little complex<font color="#E5E5E5"> there is</font><font color="#CCCCCC"> a common a</font>

777
00:37:23,570 --> 00:37:27,680
problem I mean when you<font color="#E5E5E5"> are preventing</font>

778
00:37:26,240 --> 00:37:29,509
<font color="#E5E5E5">domain</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> me domain controllers</font>

779
00:37:27,680 --> 00:37:32,450
<font color="#E5E5E5">dominant means the owner of the object</font>

780
00:37:29,510 --> 00:37:35,660
is<font color="#E5E5E5"> domain and mini but when you have</font>

781
00:37:32,450 --> 00:37:38,720
<font color="#E5E5E5">just</font><font color="#CCCCCC"> a normal</font><font color="#E5E5E5"> admin equate</font><font color="#CCCCCC"> two servers</font>

782
00:37:35,660 --> 00:37:40,970
<font color="#CCCCCC">and then later</font><font color="#E5E5E5"> you decide you decide as</font>

783
00:37:38,720 --> 00:37:43,759
the<font color="#E5E5E5"> dominant mean to prevent it as a</font>

784
00:37:40,970 --> 00:37:46,370
domain<font color="#E5E5E5"> controller zoner of the object is</font>

785
00:37:43,760 --> 00:37:49,040
<font color="#CCCCCC">still the format means so if you cannot</font>

786
00:37:46,370 --> 00:37:52,040
renews blue rune and detect this kind<font color="#CCCCCC"> of</font>

787
00:37:49,040 --> 00:37:54,980
a<font color="#CCCCCC"> cocoon</font><font color="#E5E5E5"> can you exploit it so I have my</font>

788
00:37:52,040 --> 00:37:56,810
<font color="#E5E5E5">receive in just below this is or idea</font>

789
00:37:54,980 --> 00:37:58,700
but we will let<font color="#CCCCCC"> you test because I'm</font>

790
00:37:56,810 --> 00:37:59,710
sure you overlap on no<font color="#E5E5E5"> traditional</font>

791
00:37:58,700 --> 00:38:02,330
government of course

792
00:37:59,710 --> 00:38:05,359
so just<font color="#E5E5E5"> to demonstration about it not</font>

793
00:38:02,330 --> 00:38:07,069
<font color="#E5E5E5">define who tree notifies</font><font color="#CCCCCC"> owner the bad</font>

794
00:38:05,359 --> 00:38:08,540
owner<font color="#CCCCCC"> of</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> hill domain controller</font>

795
00:38:07,070 --> 00:38:10,850
because it<font color="#E5E5E5"> happened in</font><font color="#CCCCCC"> real life</font>

796
00:38:08,540 --> 00:38:17,150
this is the last demonstration<font color="#CCCCCC"> okay</font>

797
00:38:10,850 --> 00:38:19,130
<font color="#E5E5E5">after</font><font color="#CCCCCC"> we can</font><font color="#E5E5E5"> eat so this is an easy one</font>

798
00:38:17,150 --> 00:38:21,170
<font color="#CCCCCC">we will</font><font color="#E5E5E5"> not show you how to make this</font>

799
00:38:19,130 --> 00:38:22,880
kind<font color="#E5E5E5"> of attack just to detect so you can</font>

800
00:38:21,170 --> 00:38:27,320
make it an<font color="#E5E5E5"> active directory but you can</font>

801
00:38:22,880 --> 00:38:27,920
use this tool is free to get enter<font color="#E5E5E5"> it's</font>

802
00:38:27,320 --> 00:38:33,020
very technical

803
00:38:27,920 --> 00:38:35,060
<font color="#CCCCCC">as you</font><font color="#E5E5E5"> seen okay you have turns out to</font>

804
00:38:33,020 --> 00:38:38,290
press<font color="#CCCCCC"> nervously I</font><font color="#E5E5E5"> even don't have to</font>

805
00:38:35,060 --> 00:38:42,109
make up some<font color="#E5E5E5"> copypasta soul okay</font>

806
00:38:38,290 --> 00:38:43,700
at the<font color="#E5E5E5"> end we can see that Wonderman</font>

807
00:38:42,109 --> 00:38:44,930
<font color="#E5E5E5">controller</font><font color="#CCCCCC"> before in</font><font color="#E5E5E5"> well so all know is</font>

808
00:38:43,700 --> 00:38:47,359
not<font color="#CCCCCC"> the</font><font color="#E5E5E5"> dominant</font><font color="#CCCCCC"> me group</font><font color="#E5E5E5"> on joining</font>

809
00:38:44,930 --> 00:38:49,460
<font color="#E5E5E5">groups on you have the information this</font>

810
00:38:47,359 --> 00:38:50,810
is the simple<font color="#CCCCCC"> admin which is not the</font>

811
00:38:49,460 --> 00:38:51,770
<font color="#E5E5E5">domain administrator means it's not</font><font color="#CCCCCC"> a</font>

812
00:38:50,810 --> 00:38:54,320
dominance at all

813
00:38:51,770 --> 00:38:56,420
it was<font color="#CCCCCC"> just</font><font color="#E5E5E5"> admitted of server he create</font>

814
00:38:54,320 --> 00:38:58,040
<font color="#E5E5E5">the integrated performance of</font>

815
00:38:56,420 --> 00:39:00,410
interactive directly but<font color="#CCCCCC"> it doesn't</font>

816
00:38:58,040 --> 00:39:02,359
promote it but because<font color="#CCCCCC"> of</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> because</font>

817
00:39:00,410 --> 00:39:04,069
of<font color="#E5E5E5"> the past you will be able</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> control</font>

818
00:39:02,359 --> 00:39:07,580
the domain controller<font color="#CCCCCC"> account can reset</font>

819
00:39:04,070 --> 00:39:09,470
the password is like a domain like<font color="#E5E5E5"> a</font>

820
00:39:07,580 --> 00:39:09,980
domain admin even if<font color="#CCCCCC"> he is not to the</font>

821
00:39:09,470 --> 00:39:12,169
<font color="#CCCCCC">management</font>

822
00:39:09,980 --> 00:39:14,210
just because<font color="#E5E5E5"> of the past you can reset</font>

823
00:39:12,170 --> 00:39:19,369
<font color="#CCCCCC">the password for example value example</font>

824
00:39:14,210 --> 00:39:21,920
<font color="#E5E5E5">of course</font><font color="#CCCCCC"> probably</font><font color="#E5E5E5"> mean so it's time to</font>

825
00:39:19,369 --> 00:39:24,830
<font color="#E5E5E5">get to the conclusion</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> there is a</font>

826
00:39:21,920 --> 00:39:28,820
short model<font color="#E5E5E5"> but</font><font color="#CCCCCC"> and the main question</font>

827
00:39:24,830 --> 00:39:31,130
<font color="#CCCCCC">that you have to ask is do you want you</font>

828
00:39:28,820 --> 00:39:35,740
so you<font color="#E5E5E5"> want to detect</font><font color="#CCCCCC"> many cuts I think</font>

829
00:39:31,130 --> 00:39:38,450
<font color="#CCCCCC">it's maybe not</font><font color="#E5E5E5"> the question it's wrong</font>

830
00:39:35,740 --> 00:39:40,399
<font color="#CCCCCC">you have some</font><font color="#E5E5E5"> basic things that you</font><font color="#CCCCCC"> have</font>

831
00:39:38,450 --> 00:39:42,980
to do you have<font color="#CCCCCC"> to be the</font><font color="#E5E5E5"> methodology you</font>

832
00:39:40,400 --> 00:39:45,230
have to<font color="#E5E5E5"> progress on</font><font color="#CCCCCC"> different step until</font>

833
00:39:42,980 --> 00:39:48,140
you reach maturity level and be able<font color="#E5E5E5"> to</font>

834
00:39:45,230 --> 00:39:51,830
to<font color="#E5E5E5"> have some detection not</font><font color="#CCCCCC"> unique at</font>

835
00:39:48,140 --> 00:39:54,080
with some detection so do you know at

836
00:39:51,830 --> 00:39:57,380
<font color="#E5E5E5">least a match domain you have</font><font color="#CCCCCC"> in your</font>

837
00:39:54,080 --> 00:39:59,480
company<font color="#CCCCCC"> oh-oh-oh</font><font color="#E5E5E5"> mainly domain admin</font>

838
00:39:57,380 --> 00:40:01,609
very<font color="#E5E5E5"> example you know that there is no</font>

839
00:39:59,480 --> 00:40:03,060
<font color="#E5E5E5">match company which can uncertain simple</font>

840
00:40:01,609 --> 00:40:05,670
question so

841
00:40:03,060 --> 00:40:11,190
just as step<font color="#CCCCCC"> one can you be able</font><font color="#E5E5E5"> to type</font>

842
00:40:05,670 --> 00:40:14,220
five<font color="#E5E5E5"> before while not very</font><font color="#CCCCCC"> onto yet so</font>

843
00:40:11,190 --> 00:40:17,130
that's<font color="#CCCCCC"> what I assume</font><font color="#E5E5E5"> you are not so we</font>

844
00:40:14,220 --> 00:40:19,709
have no<font color="#E5E5E5"> chance to detect mimikatz so</font>

845
00:40:17,130 --> 00:40:22,920
just<font color="#E5E5E5"> before the sound cue demonstration</font>

846
00:40:19,710 --> 00:40:25,290
please<font color="#E5E5E5"> it's DC shadow if a little bit</font>

847
00:40:22,920 --> 00:40:28,380
new<font color="#E5E5E5"> it's in seeds don't</font><font color="#CCCCCC"> loose you can</font>

848
00:40:25,290 --> 00:40:30,270
<font color="#E5E5E5">break your</font><font color="#CCCCCC"> active directory</font><font color="#E5E5E5"> so don't</font>

849
00:40:28,380 --> 00:40:33,090
choose it<font color="#E5E5E5"> in projection</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> you and not</font>

850
00:40:30,270 --> 00:40:35,520
use it<font color="#CCCCCC"> in lab of course bad guys or</font>

851
00:40:33,090 --> 00:40:37,200
government agency will use<font color="#E5E5E5"> some other</font>

852
00:40:35,520 --> 00:40:39,540
tools that<font color="#E5E5E5"> make exactly the</font><font color="#CCCCCC"> same</font><font color="#E5E5E5"> things</font>

853
00:40:37,200 --> 00:40:42,569
<font color="#CCCCCC">may be</font><font color="#E5E5E5"> more stable</font><font color="#CCCCCC"> that min cuts but</font>

854
00:40:39,540 --> 00:40:44,490
when you make some<font color="#CCCCCC"> test with</font><font color="#E5E5E5"> that you</font>

855
00:40:42,570 --> 00:40:49,260
hit on the test environment on the top

856
00:40:44,490 --> 00:40:51,450
<font color="#E5E5E5">of the test on government</font><font color="#CCCCCC"> okay so thank</font>

857
00:40:49,260 --> 00:40:52,980
you for<font color="#E5E5E5"> your attention on of course</font><font color="#CCCCCC"> to</font>

858
00:40:51,450 --> 00:40:55,589
<font color="#E5E5E5">try to understand our method with French</font>

859
00:40:52,980 --> 00:40:57,390
<font color="#CCCCCC">accent</font><font color="#E5E5E5"> because I know</font><font color="#CCCCCC"> it's</font><font color="#E5E5E5"> I know it's</font>

860
00:40:55,590 --> 00:41:01,620
<font color="#CCCCCC">very easy for all of</font><font color="#E5E5E5"> you to understand</font>

861
00:40:57,390 --> 00:41:03,060
<font color="#CCCCCC">that</font><font color="#E5E5E5"> okay so go</font><font color="#CCCCCC"> fasta</font><font color="#E5E5E5"> community and</font>

862
00:41:01,620 --> 00:41:05,940
maybe follow all the one who<font color="#CCCCCC"> remembers</font>

863
00:41:03,060 --> 00:41:08,310
<font color="#E5E5E5">so previous guys</font><font color="#CCCCCC"> a scape the quarrel and</font>

864
00:41:05,940 --> 00:41:09,900
great combat<font color="#E5E5E5"> this was my farmer</font><font color="#CCCCCC"> I made</font>

865
00:41:08,310 --> 00:41:12,509
my<font color="#E5E5E5"> first talk</font><font color="#CCCCCC"> about like act like at</font>

866
00:41:09,900 --> 00:41:15,030
<font color="#CCCCCC">WonderCon</font><font color="#E5E5E5"> just after thanks to them and</font>

867
00:41:12,510 --> 00:41:17,550
I well so a<font color="#E5E5E5"> new</font><font color="#CCCCCC"> si just song songs to</font>

868
00:41:15,030 --> 00:41:19,890
them again so this<font color="#E5E5E5"> is the world like of</font>

869
00:41:17,550 --> 00:41:22,590
<font color="#CCCCCC">the part of path</font><font color="#E5E5E5"> wash on Golden Tickets</font>

870
00:41:19,890 --> 00:41:25,980
<font color="#E5E5E5">the creative idea of golden ticket</font>

871
00:41:22,590 --> 00:41:28,260
<font color="#CCCCCC">before I</font><font color="#E5E5E5"> bought it so it was very clever</font>

872
00:41:25,980 --> 00:41:30,480
<font color="#CCCCCC">guys I like them a</font><font color="#E5E5E5"> lot I miss</font><font color="#CCCCCC"> them</font>

873
00:41:28,260 --> 00:41:34,290
I'm sorry<font color="#E5E5E5"> was not to invite me</font><font color="#CCCCCC"> to this</font>

874
00:41:30,480 --> 00:41:36,660
<font color="#CCCCCC">conference</font><font color="#E5E5E5"> again so maybe you have</font>

875
00:41:34,290 --> 00:41:38,310
understand what we try<font color="#E5E5E5"> to explain so</font>

876
00:41:36,660 --> 00:41:42,379
maybe you can have some<font color="#CCCCCC"> questions on</font>

877
00:41:38,310 --> 00:41:42,380
<font color="#E5E5E5">that we try to answer them</font>

878
00:41:44,690 --> 00:41:47,780
[Applause]

879
00:41:52,220 --> 00:41:54,640
[Applause]

