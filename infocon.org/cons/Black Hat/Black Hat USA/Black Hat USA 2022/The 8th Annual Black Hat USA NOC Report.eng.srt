1
00:00:01,700 --> 00:00:04,810
[Music]

2
00:00:07,519 --> 00:00:09,720
I'm grifter

3
00:00:09,720 --> 00:00:13,200
I'm Bart so hi we run the black hat

4
00:00:13,200 --> 00:00:14,519
knock

5
00:00:14,519 --> 00:00:17,039
who are we actually let's see if this is

6
00:00:17,039 --> 00:00:18,720
going to work come on click or click

7
00:00:18,720 --> 00:00:19,980
click there's a click or not working you

8
00:00:19,980 --> 00:00:21,779
know what this is using keyboards old

9
00:00:21,779 --> 00:00:25,320
school bam Keep it Gangster

10
00:00:25,320 --> 00:00:26,220
um

11
00:00:26,220 --> 00:00:28,439
so my name is Neil Weiler all of you

12
00:00:28,439 --> 00:00:30,840
know me as grifter uh because I don't

13
00:00:30,840 --> 00:00:34,079
like my name but uh beyond that uh by

14
00:00:34,079 --> 00:00:36,480
day I am the global lead of active

15
00:00:36,480 --> 00:00:39,540
threat assessments for IBM X-Force by

16
00:00:39,540 --> 00:00:42,180
night I do this for black hat this is my

17
00:00:42,180 --> 00:00:44,700
20th black hat us show

18
00:00:44,700 --> 00:00:47,879
um so 20 years ago Jeff Moss handed over

19
00:00:47,879 --> 00:00:50,879
this network to a child

20
00:00:50,879 --> 00:00:54,360
um but it worked out so the black hat

21
00:00:54,360 --> 00:00:57,239
Network and I have grown up together I'm

22
00:00:57,239 --> 00:01:00,059
also a department head over at Defcon

23
00:01:00,059 --> 00:01:02,460
where I run all the contest events and

24
00:01:02,460 --> 00:01:05,339
the demo Labs I speak at conferences a

25
00:01:05,339 --> 00:01:07,500
lot wrote some books

26
00:01:07,500 --> 00:01:09,840
I like security I always hate going

27
00:01:09,840 --> 00:01:11,820
second because yours is bigger my name

28
00:01:11,820 --> 00:01:14,400
is Bart stump I've been doing this now

29
00:01:14,400 --> 00:01:18,540
15 years uh by day I am a senior SE over

30
00:01:18,540 --> 00:01:21,240
at netwitness we traded places if you

31
00:01:21,240 --> 00:01:22,740
guys did not trade for places you left

32
00:01:22,740 --> 00:01:24,000
me

33
00:01:24,000 --> 00:01:24,900
um

34
00:01:24,900 --> 00:01:26,520
involved with the community do a whole

35
00:01:26,520 --> 00:01:28,080
bunch of other things but not a list

36
00:01:28,080 --> 00:01:30,780
like his so that's me

37
00:01:30,780 --> 00:01:32,580
I didn't I didn't have to use wanna

38
00:01:32,580 --> 00:01:36,240
leave I just did I miss you

39
00:01:36,240 --> 00:01:38,100
it's not true we live 20 minutes from

40
00:01:38,100 --> 00:01:39,299
each other we see each other all the

41
00:01:39,299 --> 00:01:41,460
time so um we don't do this alone that

42
00:01:41,460 --> 00:01:44,159
would be absurd this uh photo man oh

43
00:01:44,159 --> 00:01:45,659
that's a really bad one it looked good

44
00:01:45,659 --> 00:01:47,579
on a small screen anyway now it looks

45
00:01:47,579 --> 00:01:49,020
like it was taken with a potato and it's

46
00:01:49,020 --> 00:01:51,560
actually a really expensive camera but

47
00:01:51,560 --> 00:01:54,360
that's the knock team you know what we

48
00:01:54,360 --> 00:01:56,880
blurred their faces for privacy there

49
00:01:56,880 --> 00:01:59,280
there we go okay

50
00:01:59,280 --> 00:02:01,560
uh I was gonna blame it on Casey the

51
00:02:01,560 --> 00:02:04,259
photographer it's all good so

52
00:02:04,259 --> 00:02:06,960
um so yeah so that is the team there are

53
00:02:06,960 --> 00:02:09,239
quite a number of guys and gals who help

54
00:02:09,239 --> 00:02:13,980
out doing this and like we bring a team

55
00:02:13,980 --> 00:02:15,660
of our friends essentially there's a

56
00:02:15,660 --> 00:02:17,220
team called the technical Associates

57
00:02:17,220 --> 00:02:20,280
there are 15 of them that we select who

58
00:02:20,280 --> 00:02:23,760
range anywhere from uh you know just a

59
00:02:23,760 --> 00:02:26,280
sock analysts up to VPS of security

60
00:02:26,280 --> 00:02:28,379
companies who volunteer their time to

61
00:02:28,379 --> 00:02:29,700
come out and help us make this network

62
00:02:29,700 --> 00:02:31,739
work but we obviously there are more

63
00:02:31,739 --> 00:02:33,720
than 15 people in that photo because we

64
00:02:33,720 --> 00:02:37,200
also do this with partners

65
00:02:37,200 --> 00:02:38,520
partners

66
00:02:38,520 --> 00:02:41,459
so a little bit has changed as you see

67
00:02:41,459 --> 00:02:45,019
though we have Palo Alto uh Lumen slash

68
00:02:45,019 --> 00:02:47,700
CenturyLink they changed their name it's

69
00:02:47,700 --> 00:02:49,379
confusing to me still as well but it's

70
00:02:49,379 --> 00:02:51,739
okay we'll go with it uh netwitness

71
00:02:51,739 --> 00:02:54,660
ironet uh Cisco has stepped up quite a

72
00:02:54,660 --> 00:02:56,580
bit and done a bunch more this year and

73
00:02:56,580 --> 00:02:59,160
then gigamon still provides the uh the

74
00:02:59,160 --> 00:03:00,840
tap for us to get all that data to those

75
00:03:00,840 --> 00:03:03,660
tools yeah so um we're going to show you

76
00:03:03,660 --> 00:03:06,660
all the stuff it takes to put this

77
00:03:06,660 --> 00:03:07,860
together

78
00:03:07,860 --> 00:03:10,200
there's the gear the list seems to

79
00:03:10,200 --> 00:03:13,080
continue to grow and we talk about this

80
00:03:13,080 --> 00:03:16,080
all the time it's I won't steal too much

81
00:03:16,080 --> 00:03:17,519
Thunder from later but it's evolved and

82
00:03:17,519 --> 00:03:19,379
the bot has has come a long way and it

83
00:03:19,379 --> 00:03:20,459
still feels like there's a whole lot

84
00:03:20,459 --> 00:03:22,560
more to do so yeah

85
00:03:22,560 --> 00:03:23,580
um I think we've talked about this

86
00:03:23,580 --> 00:03:25,379
before but when we originally started so

87
00:03:25,379 --> 00:03:28,379
the first uh blackout us show that I was

88
00:03:28,379 --> 00:03:31,379
part of we had like a Cisco 2600 router

89
00:03:31,379 --> 00:03:33,180
a couple of Netgear switches those old

90
00:03:33,180 --> 00:03:35,340
Cisco APS that have Orinoco gold cards

91
00:03:35,340 --> 00:03:36,540
in them and you would like tape the

92
00:03:36,540 --> 00:03:39,780
antennas to the wall like yeah so I get

93
00:03:39,780 --> 00:03:41,340
to see a little Chuckles and some smiles

94
00:03:41,340 --> 00:03:44,040
from the old people in the audience so

95
00:03:44,040 --> 00:03:46,080
this is a hardware won't run through

96
00:03:46,080 --> 00:03:47,879
everything list by or number by number

97
00:03:47,879 --> 00:03:50,099
but Palo Alto brings uh firewall

98
00:03:50,099 --> 00:03:52,980
Solutions Cisco has stepped up and done

99
00:03:52,980 --> 00:03:55,140
switching and access points this year

100
00:03:55,140 --> 00:03:57,900
but they also provide umbrella threat

101
00:03:57,900 --> 00:04:00,599
grid and security manager on all of the

102
00:04:00,599 --> 00:04:02,220
mobile devices that you see on the show

103
00:04:02,220 --> 00:04:04,860
for as well as registration netwitness

104
00:04:04,860 --> 00:04:07,319
provides logs packets and endpoint as

105
00:04:07,319 --> 00:04:09,480
well as orchestration a whole bunch of

106
00:04:09,480 --> 00:04:13,140
gear to store every packet on site

107
00:04:13,140 --> 00:04:15,959
during the show gigamon again provides

108
00:04:15,959 --> 00:04:18,959
the tap to view all of that data get it

109
00:04:18,959 --> 00:04:20,399
to all those tools as well as some of

110
00:04:20,399 --> 00:04:22,019
the open source tools

111
00:04:22,019 --> 00:04:24,120
ironet again provides more visibility

112
00:04:24,120 --> 00:04:27,000
and then Lumen again provides two 10 gig

113
00:04:27,000 --> 00:04:29,940
circuits that we get from Denver and

114
00:04:29,940 --> 00:04:31,919
Sunnyvale so I mean there's a good

115
00:04:31,919 --> 00:04:33,240
talking point there is that there's a

116
00:04:33,240 --> 00:04:35,940
lot more stuff from uh from Cisco on

117
00:04:35,940 --> 00:04:37,979
there this year as far as just physical

118
00:04:37,979 --> 00:04:40,320
equipment so Cisco's always been a part

119
00:04:40,320 --> 00:04:41,340
where they've been a partner for the

120
00:04:41,340 --> 00:04:43,800
last probably 60 or seven years helping

121
00:04:43,800 --> 00:04:45,360
us out with threat grid and malware

122
00:04:45,360 --> 00:04:47,580
analysis Cisco umbrella things like that

123
00:04:47,580 --> 00:04:51,660
so so software support right but um 26

124
00:04:51,660 --> 00:04:53,940
days before the Singapore show this year

125
00:04:53,940 --> 00:04:55,620
these I'm trying to share some of the

126
00:04:55,620 --> 00:04:57,479
challenges we have here in the knock and

127
00:04:57,479 --> 00:04:59,400
you'll hear why in a second but 26 days

128
00:04:59,400 --> 00:05:01,740
before the Singapore show this year the

129
00:05:01,740 --> 00:05:03,479
partner Who provided Wireless and

130
00:05:03,479 --> 00:05:05,520
switching for us said you know hey

131
00:05:05,520 --> 00:05:07,500
because of equipment shortages and the

132
00:05:07,500 --> 00:05:09,240
still ongoing pandemic stuff we're not

133
00:05:09,240 --> 00:05:11,400
going to be able to support the 2022

134
00:05:11,400 --> 00:05:14,600
shows and we went whoo

135
00:05:14,600 --> 00:05:17,820
Flats do you think you have anybody who

136
00:05:17,820 --> 00:05:19,440
can get us some gear and thankfully we

137
00:05:19,440 --> 00:05:21,660
did so Cisco knows somebody who has a

138
00:05:21,660 --> 00:05:24,180
lot of Hardware that's them and they

139
00:05:24,180 --> 00:05:26,160
were like we got you right and they came

140
00:05:26,160 --> 00:05:28,680
in and in a pinch and provided all the

141
00:05:28,680 --> 00:05:30,360
gear that we needed for Singapore so

142
00:05:30,360 --> 00:05:31,800
they came in with Meraki and we've got

143
00:05:31,800 --> 00:05:33,840
everything set up in Singapore kind of

144
00:05:33,840 --> 00:05:35,460
burned that gear in and we were like all

145
00:05:35,460 --> 00:05:37,259
right let's see what happens at the U.S

146
00:05:37,259 --> 00:05:39,780
show and so here we are so thank you

147
00:05:39,780 --> 00:05:43,159
Cisco for bailing us out

148
00:05:45,680 --> 00:05:48,840
architecture let's see how many phones

149
00:05:48,840 --> 00:05:50,340
come out

150
00:05:50,340 --> 00:05:51,360
um

151
00:05:51,360 --> 00:05:52,919
this is a little more logical laid out

152
00:05:52,919 --> 00:05:55,500
you can see uh for the most part same

153
00:05:55,500 --> 00:05:58,080
old same old uh Denver Sunnyvale again

154
00:05:58,080 --> 00:06:01,860
two 10 gig circuits uh come into uh

155
00:06:01,860 --> 00:06:04,680
redundant land on the switch then we get

156
00:06:04,680 --> 00:06:06,900
the two firewalls that provide all of

157
00:06:06,900 --> 00:06:09,180
that uh layer three that are the Gateway

158
00:06:09,180 --> 00:06:12,479
throughout the network for every VLAN

159
00:06:12,479 --> 00:06:14,580
and every Network that we have gigamon

160
00:06:14,580 --> 00:06:16,320
provides that data again out to all of

161
00:06:16,320 --> 00:06:20,100
the tools again open source ironet net

162
00:06:20,100 --> 00:06:21,960
witness and any other tool that we want

163
00:06:21,960 --> 00:06:25,500
to view there and then one of the other

164
00:06:25,500 --> 00:06:27,060
big things that we talked about a little

165
00:06:27,060 --> 00:06:28,680
bit last year but obviously last year

166
00:06:28,680 --> 00:06:30,600
was a little different and it's provided

167
00:06:30,600 --> 00:06:32,580
a few uh

168
00:06:32,580 --> 00:06:35,460
extra requirements we'll see is that all

169
00:06:35,460 --> 00:06:37,500
of this is now streaming right so last

170
00:06:37,500 --> 00:06:39,120
year obviously that was the case for the

171
00:06:39,120 --> 00:06:41,460
majority of it but that was not the case

172
00:06:41,460 --> 00:06:45,060
going back to 2019 and before so now we

173
00:06:45,060 --> 00:06:47,340
have a whole lot more requirements for

174
00:06:47,340 --> 00:06:50,340
the AV teams and what they need as far

175
00:06:50,340 --> 00:06:52,440
as the network connectivity multiple

176
00:06:52,440 --> 00:06:54,240
vlans multiple networks and pretty much

177
00:06:54,240 --> 00:06:56,280
all the rooms so we had to break those

178
00:06:56,280 --> 00:06:59,419
out for them across they're behind us

179
00:06:59,419 --> 00:07:01,500
but we had to break that out in all the

180
00:07:01,500 --> 00:07:04,319
rooms as well so a whole

181
00:07:04,319 --> 00:07:07,139
shift of changes post pandemic post

182
00:07:07,139 --> 00:07:09,840
partner change post everything kind of

183
00:07:09,840 --> 00:07:12,060
getting back into our stride but uh as

184
00:07:12,060 --> 00:07:13,860
much as possible again keep it simple

185
00:07:13,860 --> 00:07:17,880
and and majority of it is the same yeah

186
00:07:17,880 --> 00:07:19,199
um you know it is there's always

187
00:07:19,199 --> 00:07:21,720
adjustments made everything thanks to

188
00:07:21,720 --> 00:07:23,639
um to like Bart puts a lot of effort

189
00:07:23,639 --> 00:07:26,400
into it into uh Steve MF Fink over here

190
00:07:26,400 --> 00:07:28,919
our partner in crime on the on the knock

191
00:07:28,919 --> 00:07:31,080
I'll let you decide what MF stands for

192
00:07:31,080 --> 00:07:32,819
we know and you're right that's what it

193
00:07:32,819 --> 00:07:34,440
means

194
00:07:34,440 --> 00:07:36,539
um so

195
00:07:36,539 --> 00:07:39,060
we have a lot of dashboards in there

196
00:07:39,060 --> 00:07:40,440
right there's a lot of stuff in the

197
00:07:40,440 --> 00:07:42,240
knock the things that we're using we're

198
00:07:42,240 --> 00:07:43,680
actually using right they are

199
00:07:43,680 --> 00:07:45,479
informational tools for us you could

200
00:07:45,479 --> 00:07:47,099
come into the knock in the front area

201
00:07:47,099 --> 00:07:49,560
and go in and look and see that the

202
00:07:49,560 --> 00:07:51,840
dashboards had genuine data of things

203
00:07:51,840 --> 00:07:53,880
that were going on uh the one in the

204
00:07:53,880 --> 00:07:55,319
center is just an open source tool we

205
00:07:55,319 --> 00:07:57,180
like to talk about it because it's um

206
00:07:57,180 --> 00:07:59,160
it's it's shiny it's our like we're like

207
00:07:59,160 --> 00:08:01,259
every knock needs a pew pew map that one

208
00:08:01,259 --> 00:08:04,699
takes the top 50 or the 50 most chatty

209
00:08:04,699 --> 00:08:07,259
hosts on the network and it tells us

210
00:08:07,259 --> 00:08:08,699
what they're passing when you saw the

211
00:08:08,699 --> 00:08:11,819
green moving that's TCP red is UDP icmp

212
00:08:11,819 --> 00:08:13,919
looks white and it allows us to look at

213
00:08:13,919 --> 00:08:15,599
the network visually and just kind of

214
00:08:15,599 --> 00:08:18,419
see what's going on the little packets

215
00:08:18,419 --> 00:08:20,639
of just normal data going by but as more

216
00:08:20,639 --> 00:08:22,800
traffic is passed they get thicker right

217
00:08:22,800 --> 00:08:25,080
so the lightsaber style looking ones is

218
00:08:25,080 --> 00:08:27,000
a lot of traffic and what we'll do is

219
00:08:27,000 --> 00:08:28,919
look at something like that and say

220
00:08:28,919 --> 00:08:30,900
man there's a whole lot of traffic being

221
00:08:30,900 --> 00:08:32,820
transferred there what is that and we go

222
00:08:32,820 --> 00:08:34,200
to the netwitness team and we say hey

223
00:08:34,200 --> 00:08:36,240
will you look between these two and see

224
00:08:36,240 --> 00:08:38,880
what it is that they're passing or if we

225
00:08:38,880 --> 00:08:41,219
see a scan that looks like fireworks it

226
00:08:41,219 --> 00:08:42,179
just

227
00:08:42,179 --> 00:08:43,740
wow to all these different hosts and so

228
00:08:43,740 --> 00:08:45,600
we'll be like what are they sending or

229
00:08:45,600 --> 00:08:47,100
you know what are they why are they

230
00:08:47,100 --> 00:08:48,180
communicating with all these different

231
00:08:48,180 --> 00:08:50,160
ones remember OIP for later too we'll

232
00:08:50,160 --> 00:08:52,500
talk about it a little bit yeah

233
00:08:52,500 --> 00:08:55,080
yeah so again the dashboards are um are

234
00:08:55,080 --> 00:08:56,399
real there's a bunch of different stuff

235
00:08:56,399 --> 00:08:57,839
I'm not going to read everything to you

236
00:08:57,839 --> 00:08:59,820
we only have 30 minutes and we actually

237
00:08:59,820 --> 00:09:01,980
want to hear questions more than you

238
00:09:01,980 --> 00:09:04,500
care to listen to us talk but you can

239
00:09:04,500 --> 00:09:06,779
see all the devices down here I can't

240
00:09:06,779 --> 00:09:09,360
read that from here you think they can

241
00:09:09,360 --> 00:09:11,100
can't read it on this either but what

242
00:09:11,100 --> 00:09:12,420
you're seeing is the amount of devices

243
00:09:12,420 --> 00:09:14,459
as they call in the network the larger

244
00:09:14,459 --> 00:09:17,880
Peaks being yesterday and then the point

245
00:09:17,880 --> 00:09:19,740
at today where we pulled these stats

246
00:09:19,740 --> 00:09:23,519
which was about 130 so thousands of

247
00:09:23,519 --> 00:09:26,399
unique devices what are they and where

248
00:09:26,399 --> 00:09:28,339
are they and those different things

249
00:09:28,339 --> 00:09:30,839
are are one of the things that we're

250
00:09:30,839 --> 00:09:32,820
trying to keep track of right what do we

251
00:09:32,820 --> 00:09:34,920
need to support where do we need to

252
00:09:34,920 --> 00:09:36,420
deploy more equipment maybe because

253
00:09:36,420 --> 00:09:37,740
there's a bunch of them in a different

254
00:09:37,740 --> 00:09:40,380
area up top

255
00:09:40,380 --> 00:09:42,720
as a map of the actual physical space

256
00:09:42,720 --> 00:09:44,519
and then I should have just cropped that

257
00:09:44,519 --> 00:09:47,339
and put the Mandalay Bay on it but

258
00:09:47,339 --> 00:09:49,320
um it actually tells us like oh here are

259
00:09:49,320 --> 00:09:51,060
some of the devices that we deployed

260
00:09:51,060 --> 00:09:54,120
that um and where they are located most

261
00:09:54,120 --> 00:09:57,300
of them being in the expo hall or

262
00:09:57,300 --> 00:09:58,740
um you know around like they're walking

263
00:09:58,740 --> 00:10:00,660
around trying to scan your your badge

264
00:10:00,660 --> 00:10:03,180
with the iPhones there and one of them

265
00:10:03,180 --> 00:10:05,820
we noted was out by the pool so we were

266
00:10:05,820 --> 00:10:10,019
like somebody's ditching but

267
00:10:10,019 --> 00:10:12,600
yeah got him so one thing that I want to

268
00:10:12,600 --> 00:10:13,860
add about dashboards that we've seen

269
00:10:13,860 --> 00:10:15,300
recently and chatted about a little bit

270
00:10:15,300 --> 00:10:17,640
amongst ourselves you can see tons of

271
00:10:17,640 --> 00:10:19,200
data into the whole point of grifter you

272
00:10:19,200 --> 00:10:21,600
know not being able to hear you go this

273
00:10:21,600 --> 00:10:24,360
is all amazing data this is all well and

274
00:10:24,360 --> 00:10:26,459
good uh usually when you're sitting in a

275
00:10:26,459 --> 00:10:28,920
sock as an analyst there's tons of data

276
00:10:28,920 --> 00:10:30,420
here

277
00:10:30,420 --> 00:10:33,180
uh grifter and I to some extent now are

278
00:10:33,180 --> 00:10:34,680
running around a whole lot more not

279
00:10:34,680 --> 00:10:36,240
necessarily Hands-On keyboard aren't

280
00:10:36,240 --> 00:10:38,580
necessarily looking at everything uh in

281
00:10:38,580 --> 00:10:41,519
in that deep of a perspective uh and as

282
00:10:41,519 --> 00:10:44,160
pew pew as OIP is he and I can look at

283
00:10:44,160 --> 00:10:45,540
it as we run in the room for five

284
00:10:45,540 --> 00:10:47,519
minutes and go answer somebody else and

285
00:10:47,519 --> 00:10:49,620
see that things look okay somehow you

286
00:10:49,620 --> 00:10:51,720
make that look good but there's not

287
00:10:51,720 --> 00:10:53,880
enough of that otherwise so as an sc

288
00:10:53,880 --> 00:10:56,940
during the day again I understand now a

289
00:10:56,940 --> 00:10:58,560
little bit more the executive

290
00:10:58,560 --> 00:11:01,740
perspective of wanting executive summary

291
00:11:01,740 --> 00:11:04,500
wanting red green yellow something a

292
00:11:04,500 --> 00:11:06,779
little more simple to know everything is

293
00:11:06,779 --> 00:11:08,399
good and well and when I walk back out

294
00:11:08,399 --> 00:11:10,079
I'm not going to get called back in

295
00:11:10,079 --> 00:11:11,899
immediately or I should stay because

296
00:11:11,899 --> 00:11:14,760
everything's red so just a couple donors

297
00:11:14,760 --> 00:11:18,779
looking for a traffic light yeah

298
00:11:19,140 --> 00:11:22,560
so we have some stats right so looking

299
00:11:22,560 --> 00:11:24,540
at these These are the let's see total

300
00:11:24,540 --> 00:11:26,700
devices I can't see it over there I mean

301
00:11:26,700 --> 00:11:27,959
I could but then I'd have to run out

302
00:11:27,959 --> 00:11:29,399
into the audience and that's just weird

303
00:11:29,399 --> 00:11:31,560
you're looking at Trump real close yeah

304
00:11:31,560 --> 00:11:33,360
I like again I should we want me to pick

305
00:11:33,360 --> 00:11:36,300
it up and hold it out like that no so uh

306
00:11:36,300 --> 00:11:39,480
over 10 000 unique devices 367 different

307
00:11:39,480 --> 00:11:41,700
iot devices and you can see there's a

308
00:11:41,700 --> 00:11:43,200
tiny little thing on it that says one

309
00:11:43,200 --> 00:11:45,540
high risk we're like I wonder what

310
00:11:45,540 --> 00:11:47,160
but

311
00:11:47,160 --> 00:11:48,240
um you know lots of different

312
00:11:48,240 --> 00:11:50,579
applications you can see on the side too

313
00:11:50,579 --> 00:11:52,980
the the types of devices that they are

314
00:11:52,980 --> 00:11:55,680
so Apple devices making up the

315
00:11:55,680 --> 00:11:57,899
significant amount of of devices that

316
00:11:57,899 --> 00:12:00,240
have associated with the network

317
00:12:00,240 --> 00:12:02,579
um and then you know moving down to PCS

318
00:12:02,579 --> 00:12:05,579
with Windows Linux is top five Linux PCS

319
00:12:05,579 --> 00:12:07,500
yeah stuff like that so like that it's

320
00:12:07,500 --> 00:12:09,000
just good to know like here's what

321
00:12:09,000 --> 00:12:10,200
here's what's connecting here's what

322
00:12:10,200 --> 00:12:11,459
it's doing

323
00:12:11,459 --> 00:12:16,560
um also a a stat of note nearly 94

324
00:12:16,560 --> 00:12:19,680
000 DNS requests to malicious sites

325
00:12:19,680 --> 00:12:23,959
right so you guys are disgusting

326
00:12:24,720 --> 00:12:26,880
this is going to be a very bright slide

327
00:12:26,880 --> 00:12:29,040
this next one apologies

328
00:12:29,040 --> 00:12:30,540
but

329
00:12:30,540 --> 00:12:32,640
again just some more stats right so

330
00:12:32,640 --> 00:12:34,260
looking at what was passed over the

331
00:12:34,260 --> 00:12:36,600
network and and what it is that we're

332
00:12:36,600 --> 00:12:38,820
doing one of the things is we use uh you

333
00:12:38,820 --> 00:12:40,320
know Bart mentioned net witness and we

334
00:12:40,320 --> 00:12:42,480
do blogs packets and endpoint with that

335
00:12:42,480 --> 00:12:44,040
endpoint being just the registration

336
00:12:44,040 --> 00:12:46,079
machines we would never ask you to

337
00:12:46,079 --> 00:12:48,000
install something on your devices and if

338
00:12:48,000 --> 00:12:51,320
you did we'd ask you to leave but

339
00:12:51,320 --> 00:12:54,360
uh we're capturing every packet that

340
00:12:54,360 --> 00:12:55,920
flies across this network right we don't

341
00:12:55,920 --> 00:12:57,480
do decryption or anything like that but

342
00:12:57,480 --> 00:13:00,420
we do log the package and we do that so

343
00:13:00,420 --> 00:13:01,680
that when we do an investigation we can

344
00:13:01,680 --> 00:13:03,240
look back and see what's in there if you

345
00:13:03,240 --> 00:13:04,800
are not using packet capture in your

346
00:13:04,800 --> 00:13:06,779
organization do it today that's not a

347
00:13:06,779 --> 00:13:08,399
plug for net witness I don't care if you

348
00:13:08,399 --> 00:13:09,959
write it straight to disk if you're not

349
00:13:09,959 --> 00:13:12,779
doing full packet capture fix that

350
00:13:12,779 --> 00:13:14,639
we do some encryption

351
00:13:14,639 --> 00:13:15,959
yeah

352
00:13:15,959 --> 00:13:17,700
um so a lot of packets flew across the

353
00:13:17,700 --> 00:13:19,380
network in the last couple days 32

354
00:13:19,380 --> 00:13:22,860
billion of them right so and we with a b

355
00:13:22,860 --> 00:13:25,260
and we were like I'm gonna keep them

356
00:13:25,260 --> 00:13:28,740
they're so cute and then you can see you

357
00:13:28,740 --> 00:13:30,240
know the types of email traffic that was

358
00:13:30,240 --> 00:13:32,279
going across and how much of the data

359
00:13:32,279 --> 00:13:33,420
that came across the network was

360
00:13:33,420 --> 00:13:35,880
encrypted email versus you know that and

361
00:13:35,880 --> 00:13:38,399
yes you are seeing POP3 there is some

362
00:13:38,399 --> 00:13:39,839
pop three and we'll actually look at a

363
00:13:39,839 --> 00:13:41,940
little bit of that in a second still and

364
00:13:41,940 --> 00:13:43,980
then um what I like is the top web

365
00:13:43,980 --> 00:13:45,720
categories being computer and internet

366
00:13:45,720 --> 00:13:48,300
and then the second one being medium

367
00:13:48,300 --> 00:13:50,339
risk right like it's just like again

368
00:13:50,339 --> 00:13:52,920
you're disgusting like it's just like oh

369
00:13:52,920 --> 00:13:55,320
hey let's go do something terrible

370
00:13:55,320 --> 00:13:57,360
um and so when your second uh you know

371
00:13:57,360 --> 00:13:59,279
in your top three there's already just

372
00:13:59,279 --> 00:14:01,740
like malware and other fun things you're

373
00:14:01,740 --> 00:14:04,399
at black hat

374
00:14:06,300 --> 00:14:09,480
um yeah do you want to take this DNS uh

375
00:14:09,480 --> 00:14:11,339
so

376
00:14:11,339 --> 00:14:13,260
umbrella has been a great tool that we

377
00:14:13,260 --> 00:14:14,700
didn't have as far as the visualization

378
00:14:14,700 --> 00:14:16,920
we knew some DNS before we could get

379
00:14:16,920 --> 00:14:19,019
capture stats as far as we saw but it is

380
00:14:19,019 --> 00:14:20,639
nice to see what some of the websites

381
00:14:20,639 --> 00:14:22,860
are getting some of that data we don't

382
00:14:22,860 --> 00:14:24,660
necessarily block things outbound there

383
00:14:24,660 --> 00:14:27,959
are some uh rules you'll see later uh

384
00:14:27,959 --> 00:14:29,220
but we don't we don't block anything

385
00:14:29,220 --> 00:14:32,339
outbound so this is a statistical

386
00:14:32,339 --> 00:14:33,019
um

387
00:14:33,019 --> 00:14:35,519
informational tool for us basically but

388
00:14:35,519 --> 00:14:37,380
you can see the amount of DNS queries

389
00:14:37,380 --> 00:14:39,240
over the last four years so that was

390
00:14:39,240 --> 00:14:43,279
2018 uh 2019 when did we get up to 49

391
00:14:43,279 --> 00:14:46,680
million obviously a dip in 2021 and no

392
00:14:46,680 --> 00:14:50,880
2020 in there and then 2022 we surpassed

393
00:14:50,880 --> 00:14:55,260
2019 numbers with 50.2 million DNS

394
00:14:55,260 --> 00:14:57,360
requests yeah and then on the right

395
00:14:57,360 --> 00:14:59,220
there are applications the unique

396
00:14:59,220 --> 00:15:00,660
applications communicating on the

397
00:15:00,660 --> 00:15:02,279
network so you can see those numbers

398
00:15:02,279 --> 00:15:06,680
grow too 3600 back in 2019 and

399
00:15:06,680 --> 00:15:09,779
6100 this year so it's all about the

400
00:15:09,779 --> 00:15:12,439
apps baby

401
00:15:13,560 --> 00:15:16,560
all right we do this slide like every

402
00:15:16,560 --> 00:15:18,000
time we give this talk and we do it just

403
00:15:18,000 --> 00:15:19,920
to give you some I guess background

404
00:15:19,920 --> 00:15:22,920
information about how our goals of what

405
00:15:22,920 --> 00:15:24,480
the goals of the knock are and how

406
00:15:24,480 --> 00:15:26,519
they've changed over the years

407
00:15:26,519 --> 00:15:29,339
um ultimately the main goal of the knock

408
00:15:29,339 --> 00:15:31,260
and we call it a knock for a reason it's

409
00:15:31,260 --> 00:15:33,000
because we replace every router switch

410
00:15:33,000 --> 00:15:35,519
firewall and access point in this

411
00:15:35,519 --> 00:15:37,980
network in this building like we own all

412
00:15:37,980 --> 00:15:40,199
of that equipment the only thing that we

413
00:15:40,199 --> 00:15:42,180
use for Mandalay Bay is the wire in the

414
00:15:42,180 --> 00:15:44,880
wall so they we plug in from our gear in

415
00:15:44,880 --> 00:15:46,680
and it pops out somewhere else so it's

416
00:15:46,680 --> 00:15:48,959
just the wires in the wall

417
00:15:48,959 --> 00:15:50,399
um and again so the main goal is

418
00:15:50,399 --> 00:15:52,380
stability keeping the network up for

419
00:15:52,380 --> 00:15:54,300
things like the training classes or for

420
00:15:54,300 --> 00:15:56,040
folks in the expo hall that kind of

421
00:15:56,040 --> 00:15:59,160
thing registration and those things so

422
00:15:59,160 --> 00:16:01,199
let's talk about

423
00:16:01,199 --> 00:16:05,399
um that stability we had a here's an a a

424
00:16:05,399 --> 00:16:07,560
training class that was experiencing an

425
00:16:07,560 --> 00:16:08,579
issue

426
00:16:08,579 --> 00:16:10,920
very early at the start of their class

427
00:16:10,920 --> 00:16:13,019
on Saturday morning

428
00:16:13,019 --> 00:16:15,480
um we deployed not folks out there to

429
00:16:15,480 --> 00:16:17,100
troubleshoot we're in there for hours or

430
00:16:17,100 --> 00:16:18,899
doing stuff they're really upset with us

431
00:16:18,899 --> 00:16:21,180
right they're like this we rely on the

432
00:16:21,180 --> 00:16:24,240
network we need this to work people paid

433
00:16:24,240 --> 00:16:26,100
thousands of dollars to be here all of

434
00:16:26,100 --> 00:16:28,380
those things right

435
00:16:28,380 --> 00:16:29,880
um so we're in there going crazy trying

436
00:16:29,880 --> 00:16:31,380
to figure things out we're looking at

437
00:16:31,380 --> 00:16:34,800
our data and theirs I saw ping times the

438
00:16:34,800 --> 00:16:36,420
largest or the longest ping times I've

439
00:16:36,420 --> 00:16:37,680
ever seen

440
00:16:37,680 --> 00:16:39,720
um you know 58 seconds I was like

441
00:16:39,720 --> 00:16:40,860
wouldn't it just say like host

442
00:16:40,860 --> 00:16:42,540
unreachable at this point but no it was

443
00:16:42,540 --> 00:16:45,600
like I want you to know how bad it is

444
00:16:45,600 --> 00:16:48,680
um and so I felt a little bit insulted

445
00:16:48,680 --> 00:16:51,899
but in the end we troubleshot that

446
00:16:51,899 --> 00:16:54,480
Network the entire day again Mad

447
00:16:54,480 --> 00:16:56,880
students mad instructors I'm gonna want

448
00:16:56,880 --> 00:16:58,259
my money back all these things and in

449
00:16:58,259 --> 00:17:00,000
the end what it turned out to be was not

450
00:17:00,000 --> 00:17:01,079
our fault

451
00:17:01,079 --> 00:17:04,260
um but what it was was there was a

452
00:17:04,260 --> 00:17:06,059
service that was running on the image

453
00:17:06,059 --> 00:17:07,859
that the instructor had all the students

454
00:17:07,859 --> 00:17:10,919
using that was essentially because they

455
00:17:10,919 --> 00:17:13,260
could see the other students it just

456
00:17:13,260 --> 00:17:15,359
magnified the traffic on the network

457
00:17:15,359 --> 00:17:19,079
until it brought it to its knees and we

458
00:17:19,079 --> 00:17:20,760
walked around and disabled that service

459
00:17:20,760 --> 00:17:23,040
and we could literally watch the paying

460
00:17:23,040 --> 00:17:24,480
times get faster and faster until

461
00:17:24,480 --> 00:17:26,819
finally they were 20 you know

462
00:17:26,819 --> 00:17:28,620
milliseconds and we're like that's what

463
00:17:28,620 --> 00:17:30,960
we expect so stability is the biggest

464
00:17:30,960 --> 00:17:33,480
thing because if it's not stable like

465
00:17:33,480 --> 00:17:35,220
people are pissed right so that's the

466
00:17:35,220 --> 00:17:37,320
number one goal after that comes

467
00:17:37,320 --> 00:17:39,480
security so that's why we're the knock

468
00:17:39,480 --> 00:17:41,280
right we are a network Operation Center

469
00:17:41,280 --> 00:17:43,020
we do all the things that sock does as

470
00:17:43,020 --> 00:17:46,100
well we have pockets you know logs

471
00:17:46,100 --> 00:17:48,419
endpoints or Solutions threat

472
00:17:48,419 --> 00:17:50,520
intelligence platforms like all

473
00:17:50,520 --> 00:17:52,260
everything you you name it we've got it

474
00:17:52,260 --> 00:17:53,940
in there but we're not first and

475
00:17:53,940 --> 00:17:57,480
foremost we learned pretty early on that

476
00:17:57,480 --> 00:17:59,460
segmentation was necessary on the

477
00:17:59,460 --> 00:18:02,400
network and we learned that because in

478
00:18:02,400 --> 00:18:04,140
the early years of black hat it was the

479
00:18:04,140 --> 00:18:06,539
wild west and people would get on the

480
00:18:06,539 --> 00:18:07,919
network learn something in their class

481
00:18:07,919 --> 00:18:09,720
and immediately attack the class next

482
00:18:09,720 --> 00:18:12,179
door right so

483
00:18:12,179 --> 00:18:14,880
I got you laugh like haha it was me it

484
00:18:14,880 --> 00:18:16,679
probably was you thanks thanks for that

485
00:18:16,679 --> 00:18:18,480
it wasn't even classrooms I remember the

486
00:18:18,480 --> 00:18:20,400
year that there was the media room that

487
00:18:20,400 --> 00:18:22,500
had the media got oh yeah attacking each

488
00:18:22,500 --> 00:18:24,240
other yeah attacking each other the

489
00:18:24,240 --> 00:18:26,900
Press were like

490
00:18:27,620 --> 00:18:29,640
let me try it I just did an interview

491
00:18:29,640 --> 00:18:33,240
about this tool deployed

492
00:18:33,240 --> 00:18:35,640
so great and then I think they ended up

493
00:18:35,640 --> 00:18:37,020
becoming the story because then they got

494
00:18:37,020 --> 00:18:38,820
found out and the other reporters wrote

495
00:18:38,820 --> 00:18:40,500
about them so

496
00:18:40,500 --> 00:18:43,380
um so once we had the segmentation done

497
00:18:43,380 --> 00:18:45,240
um it turned to hunting right we wanted

498
00:18:45,240 --> 00:18:47,100
to understand what's actually going on

499
00:18:47,100 --> 00:18:48,960
in the network the thing about the black

500
00:18:48,960 --> 00:18:51,179
hat network is that every five minutes

501
00:18:51,179 --> 00:18:53,160
that we see the type of traffic that

502
00:18:53,160 --> 00:18:54,780
would cause a declared incident in any

503
00:18:54,780 --> 00:18:57,360
soccer cert in in the rest of of you

504
00:18:57,360 --> 00:19:00,179
know the world the issue with that is we

505
00:19:00,179 --> 00:19:01,980
can't alert on things because we'd just

506
00:19:01,980 --> 00:19:04,679
be inundated we are looking for a needle

507
00:19:04,679 --> 00:19:06,780
and a needle stack right there's no hay

508
00:19:06,780 --> 00:19:11,160
on this network it's just needles so

509
00:19:11,160 --> 00:19:12,480
um what you see when you come into the

510
00:19:12,480 --> 00:19:13,919
knock is a bunch of folks sitting around

511
00:19:13,919 --> 00:19:17,460
the edges but this is Las Vegas yeah so

512
00:19:17,460 --> 00:19:18,900
it's just

513
00:19:18,900 --> 00:19:20,280
um it's just people sitting around the

514
00:19:20,280 --> 00:19:23,700
edges and those folks are are our team

515
00:19:23,700 --> 00:19:26,100
they're from Cisco Palo Alto they're

516
00:19:26,100 --> 00:19:28,140
from Iron net and they're threat hunters

517
00:19:28,140 --> 00:19:29,760
and we're using threat Hunters because

518
00:19:29,760 --> 00:19:32,100
the best threat hunting is still done by

519
00:19:32,100 --> 00:19:33,900
humans and I'll fight anyone who says

520
00:19:33,900 --> 00:19:36,179
otherwise I will physically fight you

521
00:19:36,179 --> 00:19:39,179
come at me let us finish the talk then

522
00:19:39,179 --> 00:19:41,100
we'll fight

523
00:19:41,100 --> 00:19:43,080
um malware sandboxing right so when we

524
00:19:43,080 --> 00:19:45,780
see a bunch of of interesting stuff

525
00:19:45,780 --> 00:19:47,460
growing across the network any file like

526
00:19:47,460 --> 00:19:50,100
executables dlls PDFs anything that gets

527
00:19:50,100 --> 00:19:52,140
a high enough risk score and net witness

528
00:19:52,140 --> 00:19:54,780
we throw it into threat grid put that

529
00:19:54,780 --> 00:19:56,640
into a Sandbox open it up see what it

530
00:19:56,640 --> 00:19:58,080
does interact with it and see if we can

531
00:19:58,080 --> 00:19:59,940
learn anything identity and access

532
00:19:59,940 --> 00:20:01,620
management is us trying to make sure

533
00:20:01,620 --> 00:20:03,360
that when chain when configuration

534
00:20:03,360 --> 00:20:05,039
changes are done we know who did them

535
00:20:05,039 --> 00:20:06,539
and that it's only a handful of

536
00:20:06,539 --> 00:20:08,220
individuals who can make those changes

537
00:20:08,220 --> 00:20:10,820
the end point again I mentioned was

538
00:20:10,820 --> 00:20:13,140
registration it's really just the reg

539
00:20:13,140 --> 00:20:15,600
laptops and then the iOS devices that

540
00:20:15,600 --> 00:20:18,480
are on the Expo floor and

541
00:20:18,480 --> 00:20:20,940
um at reg as well that you like scanned

542
00:20:20,940 --> 00:20:24,240
your QR code with and lastly automation

543
00:20:24,240 --> 00:20:25,340
so

544
00:20:25,340 --> 00:20:28,799
we use a sore solution to

545
00:20:28,799 --> 00:20:31,200
look for the types of traffic that is

546
00:20:31,200 --> 00:20:33,059
command and control like immediately

547
00:20:33,059 --> 00:20:34,559
showing up like on the network and

548
00:20:34,559 --> 00:20:36,059
plugging in and we're like that's going

549
00:20:36,059 --> 00:20:38,400
to a C2 server right

550
00:20:38,400 --> 00:20:41,039
um crypto mining or

551
00:20:41,039 --> 00:20:42,960
uh clear text credentials right and if

552
00:20:42,960 --> 00:20:46,020
we see those things we used to like walk

553
00:20:46,020 --> 00:20:48,120
to the classroom like barter I would

554
00:20:48,120 --> 00:20:49,500
show up and be like

555
00:20:49,500 --> 00:20:51,960
we need to see IP address blah blah blah

556
00:20:51,960 --> 00:20:54,539
right but it doesn't scale not at this

557
00:20:54,539 --> 00:20:56,880
size of a show and so

558
00:20:56,880 --> 00:20:58,919
now what we do is we see those things we

559
00:20:58,919 --> 00:21:00,419
investigate them and if it turns out

560
00:21:00,419 --> 00:21:01,679
that we're like that's genuinely

561
00:21:01,679 --> 00:21:04,140
something that's bad we'll throw up a

562
00:21:04,140 --> 00:21:05,820
captive portal to that individual say

563
00:21:05,820 --> 00:21:07,980
hey we saw this type of traffic coming

564
00:21:07,980 --> 00:21:10,260
from your device or we saw this crypto

565
00:21:10,260 --> 00:21:11,760
mining you know activity and advice if

566
00:21:11,760 --> 00:21:14,160
this is expected just ignore this if

567
00:21:14,160 --> 00:21:16,020
it's not stop by the knock and we'll

568
00:21:16,020 --> 00:21:17,820
show you the packet captures the logs

569
00:21:17,820 --> 00:21:19,260
and everything

570
00:21:19,260 --> 00:21:21,000
the thing about the evolution is again

571
00:21:21,000 --> 00:21:23,220
we talk about how far we've come and it

572
00:21:23,220 --> 00:21:24,539
feels like there's still so many other

573
00:21:24,539 --> 00:21:26,520
things that we want to do so it's it's

574
00:21:26,520 --> 00:21:29,340
uh it's never ending and we we want to

575
00:21:29,340 --> 00:21:31,559
continue pretty much all of those spaces

576
00:21:31,559 --> 00:21:33,720
and and look at some others as well so

577
00:21:33,720 --> 00:21:37,620
yeah it's uh it is the the ever-evolving

578
00:21:37,620 --> 00:21:41,280
Beast um we also that gif exists just to

579
00:21:41,280 --> 00:21:43,200
freak you out because it never actually

580
00:21:43,200 --> 00:21:45,659
evolves like it never turns to Gyarados

581
00:21:45,659 --> 00:21:50,120
it just keeps it only freaks you out so

582
00:21:51,179 --> 00:21:52,559
um do you want to take this you want me

583
00:21:52,559 --> 00:21:53,480
to get it

584
00:21:53,480 --> 00:21:57,720
so this one uh so so a lot of this is

585
00:21:57,720 --> 00:21:59,640
what we're so these are actually slack

586
00:21:59,640 --> 00:22:02,159
uh screenshots a lot of the things that

587
00:22:02,159 --> 00:22:05,700
we want to point out here too is the the

588
00:22:05,700 --> 00:22:07,740
work between all of these partners and

589
00:22:07,740 --> 00:22:09,000
again we call them partners for many

590
00:22:09,000 --> 00:22:10,679
reasons we've talked about it all the

591
00:22:10,679 --> 00:22:12,659
time they don't these are people that

592
00:22:12,659 --> 00:22:14,100
are vendors that have paid to be in the

593
00:22:14,100 --> 00:22:15,840
knock we chose them they work with us

594
00:22:15,840 --> 00:22:18,299
but they also all work together uh

595
00:22:18,299 --> 00:22:20,600
there's things that have changed between

596
00:22:20,600 --> 00:22:22,860
products because of the vendors that are

597
00:22:22,860 --> 00:22:24,000
all in there and the things that they've

598
00:22:24,000 --> 00:22:26,100
seen in the blackout knock but this is

599
00:22:26,100 --> 00:22:29,520
uh uh pointing out uh something that

600
00:22:29,520 --> 00:22:32,520
someone saw in one platform I can't even

601
00:22:32,520 --> 00:22:35,100
see who it was that saw it first I

602
00:22:35,100 --> 00:22:37,140
pointed it out throughout hunting saw

603
00:22:37,140 --> 00:22:39,360
that somebody else went over on the Palo

604
00:22:39,360 --> 00:22:40,799
side on The Cisco side to start

605
00:22:40,799 --> 00:22:43,919
investigating uh and this was uh

606
00:22:43,919 --> 00:22:46,740
Sherlock rat right is what we found so

607
00:22:46,740 --> 00:22:49,380
there it's a lot of stuff

608
00:22:49,380 --> 00:22:51,659
um there these are just examples of like

609
00:22:51,659 --> 00:22:52,919
again this is the type of stuff that we

610
00:22:52,919 --> 00:22:54,659
see that we go is this somebody doing a

611
00:22:54,659 --> 00:22:57,059
demo is this somebody doing a lab does

612
00:22:57,059 --> 00:22:58,620
this type of activity correspond with

613
00:22:58,620 --> 00:23:00,000
the class that they're taking if it

614
00:23:00,000 --> 00:23:01,440
doesn't this might genuinely be

615
00:23:01,440 --> 00:23:03,120
malicious and then and those

616
00:23:03,120 --> 00:23:04,320
conversation happens you can see like

617
00:23:04,320 --> 00:23:06,240
eight replies over here blah blah and

618
00:23:06,240 --> 00:23:07,679
there's folks who are in there saying I

619
00:23:07,679 --> 00:23:09,900
checked this I corresponds with this

620
00:23:09,900 --> 00:23:11,700
class that one's clean I check this

621
00:23:11,700 --> 00:23:13,919
that's bad I do whatever like we think

622
00:23:13,919 --> 00:23:15,419
that this has a high probability of

623
00:23:15,419 --> 00:23:17,580
being an actual attack so it's just

624
00:23:17,580 --> 00:23:19,740
looking for for us to be able to confirm

625
00:23:19,740 --> 00:23:21,179
is this something we need to tell the

626
00:23:21,179 --> 00:23:22,500
individual about

627
00:23:22,500 --> 00:23:24,960
you'll often hear that again that black

628
00:23:24,960 --> 00:23:27,419
hat is one of the most hostile networks

629
00:23:27,419 --> 00:23:29,039
in the world and that's true if you look

630
00:23:29,039 --> 00:23:30,720
at just the traffic itself it's all

631
00:23:30,720 --> 00:23:33,120
those needles right but in reality by

632
00:23:33,120 --> 00:23:34,679
the time we're done there are probably

633
00:23:34,679 --> 00:23:36,780
more people who leave here a little more

634
00:23:36,780 --> 00:23:39,059
secure than when they came because we're

635
00:23:39,059 --> 00:23:41,220
letting them know you showed up and this

636
00:23:41,220 --> 00:23:43,559
stuff was on your machine and so you

637
00:23:43,559 --> 00:23:45,059
know that's that's the goal here I don't

638
00:23:45,059 --> 00:23:46,320
think we've seen anybody actually

639
00:23:46,320 --> 00:23:48,299
infected still on site this is all

640
00:23:48,299 --> 00:23:49,980
something that normally sees when we see

641
00:23:49,980 --> 00:23:51,900
C2 showing up when somebody's already

642
00:23:51,900 --> 00:23:55,340
been infected on the network

643
00:23:55,340 --> 00:23:59,039
so um so situations at reg we got

644
00:23:59,039 --> 00:24:01,200
attacked a lot this year I think I don't

645
00:24:01,200 --> 00:24:02,520
know if it's that you guys are happy to

646
00:24:02,520 --> 00:24:04,559
be out of your houses

647
00:24:04,559 --> 00:24:07,020
um but but like the core infrastructure

648
00:24:07,020 --> 00:24:09,000
like coordinated attacks on the Wi-Fi

649
00:24:09,000 --> 00:24:10,200
network

650
00:24:10,200 --> 00:24:12,419
um and a lot of activity pointed at the

651
00:24:12,419 --> 00:24:14,280
registration server and the reg server

652
00:24:14,280 --> 00:24:16,620
is like the crown jewels for us we have

653
00:24:16,620 --> 00:24:18,000
to keep that safe it's all viewer

654
00:24:18,000 --> 00:24:19,740
information and it's probably pretty

655
00:24:19,740 --> 00:24:21,720
valuable to somebody to have 20 000

656
00:24:21,720 --> 00:24:23,220
names and addresses and all the

657
00:24:23,220 --> 00:24:24,600
information about the top security

658
00:24:24,600 --> 00:24:28,020
researchers in the world right so we saw

659
00:24:28,020 --> 00:24:29,520
plenty of attacks on the registration

660
00:24:29,520 --> 00:24:31,559
Network and they you know we investigate

661
00:24:31,559 --> 00:24:33,539
those as well whether they are physical

662
00:24:33,539 --> 00:24:34,860
because sometimes it's like somebody

663
00:24:34,860 --> 00:24:37,320
messing with things devices or you know

664
00:24:37,320 --> 00:24:39,120
just things like this where it's like oh

665
00:24:39,120 --> 00:24:40,440
somebody's trying to hit it with a few

666
00:24:40,440 --> 00:24:42,780
things this is what happens on slack is

667
00:24:42,780 --> 00:24:45,240
someone's like hey I see this blah blah

668
00:24:45,240 --> 00:24:47,940
go look yeah that looks bad normally any

669
00:24:47,940 --> 00:24:49,440
type of attack or malicious traffic

670
00:24:49,440 --> 00:24:51,179
point at registration and it shouldn't

671
00:24:51,179 --> 00:24:52,740
be there right and so it's like do

672
00:24:52,740 --> 00:24:54,659
should I block this yes block it go

673
00:24:54,659 --> 00:24:55,740
ahead and then there's a little

674
00:24:55,740 --> 00:24:57,900
whack-a-mole like kitty smacking stuff

675
00:24:57,900 --> 00:24:59,580
down there at the bottom so

676
00:24:59,580 --> 00:25:01,440
that's the only things that we do block

677
00:25:01,440 --> 00:25:03,659
on this network because we don't want to

678
00:25:03,659 --> 00:25:05,460
anger the demo gods and make it so

679
00:25:05,460 --> 00:25:08,039
somebody's demo doesn't work we only

680
00:25:08,039 --> 00:25:10,500
block things that we can say with

681
00:25:10,500 --> 00:25:12,179
certainty like this should not be

682
00:25:12,179 --> 00:25:13,919
happening and so that's when that

683
00:25:13,919 --> 00:25:16,159
happens

684
00:25:16,380 --> 00:25:19,260
you got this yeah so speaking of reg and

685
00:25:19,260 --> 00:25:21,299
stability we shared one story and we'll

686
00:25:21,299 --> 00:25:23,100
uh we we talk about everybody else's

687
00:25:23,100 --> 00:25:25,140
funny hahas and we'll uh we'll share one

688
00:25:25,140 --> 00:25:26,700
of ours now

689
00:25:26,700 --> 00:25:28,320
so

690
00:25:28,320 --> 00:25:30,240
if you were here

691
00:25:30,240 --> 00:25:33,600
Saturday morning for trainings and you

692
00:25:33,600 --> 00:25:36,299
were going to register and they sent you

693
00:25:36,299 --> 00:25:39,659
up to your class uh there was without a

694
00:25:39,659 --> 00:25:40,620
badge

695
00:25:40,620 --> 00:25:42,120
without a badge

696
00:25:42,120 --> 00:25:44,340
there was an outage for a short amount

697
00:25:44,340 --> 00:25:47,880
of time that that we'd caused ourselves

698
00:25:47,880 --> 00:25:49,679
um so there's some lessons learned and

699
00:25:49,679 --> 00:25:51,720
things that we take from that and as I

700
00:25:51,720 --> 00:25:54,600
said earlier remember OIP so an

701
00:25:54,600 --> 00:25:57,059
interesting thing about OIP

702
00:25:57,059 --> 00:25:59,220
is that we feed again that's all packet

703
00:25:59,220 --> 00:26:01,260
data that is that is the packets and you

704
00:26:01,260 --> 00:26:03,059
can see in the top 50 clients whatever

705
00:26:03,059 --> 00:26:05,820
it is that it puts up on that map

706
00:26:05,820 --> 00:26:07,980
we normally leave that server down in

707
00:26:07,980 --> 00:26:11,460
the MDF next to the uh the tap getting

708
00:26:11,460 --> 00:26:13,620
that data there is a client that you can

709
00:26:13,620 --> 00:26:15,600
run however that client to server

710
00:26:15,600 --> 00:26:17,820
communication is still

711
00:26:17,820 --> 00:26:21,379
janky very large

712
00:26:22,200 --> 00:26:25,559
so once we turned on our Tool uh and

713
00:26:25,559 --> 00:26:27,059
there was a few things here that

714
00:26:27,059 --> 00:26:28,620
happened all kind of in succession if

715
00:26:28,620 --> 00:26:31,260
you will uh they were we were on the

716
00:26:31,260 --> 00:26:34,100
same switch as we had put registration

717
00:26:34,100 --> 00:26:36,900
by mistake it doesn't normally happen

718
00:26:36,900 --> 00:26:39,000
that was that was again a lesson learned

719
00:26:39,000 --> 00:26:41,520
that that will not happen again but

720
00:26:41,520 --> 00:26:42,900
basically we

721
00:26:42,900 --> 00:26:45,059
we dust that entire Uplink on that

722
00:26:45,059 --> 00:26:48,600
switch I think it sent 960 gigs a second

723
00:26:48,600 --> 00:26:51,539
or something it was it was bad

724
00:26:51,539 --> 00:26:53,100
um it doesn't work it doesn't work

725
00:26:53,100 --> 00:26:57,600
usually so we messed up we learned from

726
00:26:57,600 --> 00:26:59,039
that there was a number of things that

727
00:26:59,039 --> 00:27:01,440
happened uh so also OIP is that's not

728
00:27:01,440 --> 00:27:03,179
normally how we run it we normally run V

729
00:27:03,179 --> 00:27:05,159
and C while it's down in the server room

730
00:27:05,159 --> 00:27:07,260
but we'd gotten it cleaned up and there

731
00:27:07,260 --> 00:27:08,640
were some other problems with that the

732
00:27:08,640 --> 00:27:11,400
code has been Rewritten a few times and

733
00:27:11,400 --> 00:27:13,799
it's down to five lines or something to

734
00:27:13,799 --> 00:27:15,960
that extent and there was problems with

735
00:27:15,960 --> 00:27:20,220
VNC we didn't do it and weed forgot yeah

736
00:27:20,220 --> 00:27:21,720
so we shot ourselves in the foot I mean

737
00:27:21,720 --> 00:27:23,520
and it wasn't architected that way we

738
00:27:23,520 --> 00:27:25,500
had set it up that registration was

739
00:27:25,500 --> 00:27:27,299
supposed to be on a separate network

740
00:27:27,299 --> 00:27:30,120
from from the management Network that we

741
00:27:30,120 --> 00:27:32,039
were going to use because we you know

742
00:27:32,039 --> 00:27:33,179
use a lot of different tools and do

743
00:27:33,179 --> 00:27:35,279
whatever those need to be separate but

744
00:27:35,279 --> 00:27:36,960
somehow when we deployed it we we

745
00:27:36,960 --> 00:27:39,539
plugged into the same switch a big a big

746
00:27:39,539 --> 00:27:41,400
part of that is we already owe a lot of

747
00:27:41,400 --> 00:27:43,320
people favors because we got some extra

748
00:27:43,320 --> 00:27:45,179
switches extra things that we already

749
00:27:45,179 --> 00:27:47,520
didn't expect supply chain Cisco coming

750
00:27:47,520 --> 00:27:49,679
through at the last minute there were

751
00:27:49,679 --> 00:27:50,700
some

752
00:27:50,700 --> 00:27:53,580
hands shaking to get some extra yeah it

753
00:27:53,580 --> 00:27:56,340
honestly it was like what how many

754
00:27:56,340 --> 00:27:57,960
simultaneous failures had to take place

755
00:27:57,960 --> 00:27:59,279
for that to happen anyway I think we

756
00:27:59,279 --> 00:28:00,779
said three I think it was three three

757
00:28:00,779 --> 00:28:02,820
simultaneous failures took place to make

758
00:28:02,820 --> 00:28:04,919
that happen but you know when it

759
00:28:04,919 --> 00:28:07,559
happened it it did happen right so on

760
00:28:07,559 --> 00:28:09,419
the road to success or failure hackers

761
00:28:09,419 --> 00:28:11,279
don't like the Sun so we chose failure

762
00:28:11,279 --> 00:28:13,700
so

763
00:28:15,720 --> 00:28:18,360
this is a security guy so this is every

764
00:28:18,360 --> 00:28:20,340
freaking year if you've been coming to

765
00:28:20,340 --> 00:28:22,260
this talk for a few years we've showed

766
00:28:22,260 --> 00:28:23,400
you stuff that there's a security

767
00:28:23,400 --> 00:28:25,919
company that's hired by either the venue

768
00:28:25,919 --> 00:28:28,500
or or the the company that that owns

769
00:28:28,500 --> 00:28:29,700
black hat and they come in and do

770
00:28:29,700 --> 00:28:32,039
private security stuff and they send all

771
00:28:32,039 --> 00:28:33,600
of their email Communications in the

772
00:28:33,600 --> 00:28:35,400
clear and we hate people are getting

773
00:28:35,400 --> 00:28:38,159
raises somebody got fired urinated

774
00:28:38,159 --> 00:28:40,380
outside the building I saw that email oh

775
00:28:40,380 --> 00:28:43,620
he got he did he got fired uh thank you

776
00:28:43,620 --> 00:28:46,260
uh it's yeah anyway yeah so we're always

777
00:28:46,260 --> 00:28:48,120
like it's just ironic that we're at a

778
00:28:48,120 --> 00:28:49,320
security conference and the physical

779
00:28:49,320 --> 00:28:51,419
security that's here doesn't secure

780
00:28:51,419 --> 00:28:53,460
their email at all and we can see every

781
00:28:53,460 --> 00:28:55,980
incident that happens and then like you

782
00:28:55,980 --> 00:28:58,440
said like uh you know no this guy's a

783
00:28:58,440 --> 00:29:01,559
solid dude we're gonna give him a raise

784
00:29:01,559 --> 00:29:04,740
um so this is uh you know just a you

785
00:29:04,740 --> 00:29:06,779
know a lesson about you know iot so

786
00:29:06,779 --> 00:29:09,179
what's the iot we said there was a you

787
00:29:09,179 --> 00:29:11,460
know about 400 different or unique iot

788
00:29:11,460 --> 00:29:13,100
devices that had shown up on the network

789
00:29:13,100 --> 00:29:16,080
and the thing is is that some of them

790
00:29:16,080 --> 00:29:17,520
aren't so great I don't know if you've

791
00:29:17,520 --> 00:29:19,520
heard but some of them aren't so great

792
00:29:19,520 --> 00:29:23,340
and and in this case we had somebody's

793
00:29:23,340 --> 00:29:25,380
like they deployed a camera like a

794
00:29:25,380 --> 00:29:28,080
motion detector in their home and it was

795
00:29:28,080 --> 00:29:30,720
showing video as well as like point in

796
00:29:30,720 --> 00:29:31,980
time just like a pictures like it would

797
00:29:31,980 --> 00:29:33,720
take pictures and then they were getting

798
00:29:33,720 --> 00:29:35,580
it to an application on their phone or

799
00:29:35,580 --> 00:29:37,080
something and it was all in the clear

800
00:29:37,080 --> 00:29:40,380
and then the other one is

801
00:29:40,380 --> 00:29:43,620
is our own stuff there's gear in the

802
00:29:43,620 --> 00:29:45,360
back that they somebody had said of an

803
00:29:45,360 --> 00:29:47,700
iot webcam Sean it's you just yeah I

804
00:29:47,700 --> 00:29:50,340
know you're yeah the AV guy said we're

805
00:29:50,340 --> 00:29:52,020
not in the talk this year are we because

806
00:29:52,020 --> 00:29:53,399
they have been in the past and I was

807
00:29:53,399 --> 00:29:56,220
like not yet and then I saw this so

808
00:29:56,220 --> 00:29:58,919
sorry Sean we still love you buddy

809
00:29:58,919 --> 00:30:00,779
um good

810
00:30:00,779 --> 00:30:03,679
and that um speaking of iot right so

811
00:30:03,679 --> 00:30:06,659
buddy that that led us to the discovery

812
00:30:06,659 --> 00:30:11,039
of a um an iot like a remote feeder for

813
00:30:11,039 --> 00:30:12,659
somebody's cat the cat's name is

814
00:30:12,659 --> 00:30:14,159
actually Garfield which is why we

815
00:30:14,159 --> 00:30:15,960
thought that was pretty funny

816
00:30:15,960 --> 00:30:18,600
um and but all of it's in the clear and

817
00:30:18,600 --> 00:30:20,580
then like we've redacted a little bit of

818
00:30:20,580 --> 00:30:22,140
it so you can't get in there and mess

819
00:30:22,140 --> 00:30:24,899
with poor Garfield but we have what we

820
00:30:24,899 --> 00:30:26,220
need to be able to feed that cat

821
00:30:26,220 --> 00:30:28,860
whenever we want

822
00:30:28,860 --> 00:30:30,840
it's already named Garfield and

823
00:30:30,840 --> 00:30:33,360
apparently they keep pet profiles that's

824
00:30:33,360 --> 00:30:35,399
all passed in the clear and I'm sure you

825
00:30:35,399 --> 00:30:36,500
can't

826
00:30:36,500 --> 00:30:38,880
squint hard enough there but it says

827
00:30:38,880 --> 00:30:42,659
nature very lazy so Garfield is a very

828
00:30:42,659 --> 00:30:45,720
lazy cat yeah shocking let's go feed

829
00:30:45,720 --> 00:30:48,240
that little be a good TV show

830
00:30:48,240 --> 00:30:52,320
kitties apii so this was uh one of the

831
00:30:52,320 --> 00:30:54,659
interesting things that we found uh this

832
00:30:54,659 --> 00:30:56,580
one was a net witness throughout hunter

833
00:30:56,580 --> 00:30:59,279
that dug in a little bit and this was a

834
00:30:59,279 --> 00:31:01,980
tool that was used for foreign

835
00:31:01,980 --> 00:31:02,700
um

836
00:31:02,700 --> 00:31:06,600
foreign currency trade all of the data

837
00:31:06,600 --> 00:31:08,399
was that that you would scroll through

838
00:31:08,399 --> 00:31:09,840
the app and see everything that they

839
00:31:09,840 --> 00:31:13,320
were looking at was encrypted it was 443

840
00:31:13,320 --> 00:31:16,080
however when they made any kind of trade

841
00:31:16,080 --> 00:31:18,480
if there was a a change to their account

842
00:31:18,480 --> 00:31:21,539
a trade of said currency the API call

843
00:31:21,539 --> 00:31:23,399
was in the clear

844
00:31:23,399 --> 00:31:25,080
so

845
00:31:25,080 --> 00:31:26,520
um

846
00:31:26,520 --> 00:31:29,340
that one's that that one messed up uh we

847
00:31:29,340 --> 00:31:30,480
found that with net witness and again

848
00:31:30,480 --> 00:31:32,100
one of those interesting things that

849
00:31:32,100 --> 00:31:35,039
that we dig through and find that verify

850
00:31:35,039 --> 00:31:38,159
said security whether it's uh your your

851
00:31:38,159 --> 00:31:40,559
mortgage statements you're emailing to a

852
00:31:40,559 --> 00:31:42,419
college if you've heard that before or

853
00:31:42,419 --> 00:31:44,820
API calls on here foreign exchange

854
00:31:44,820 --> 00:31:47,460
currency yeah I mean again it's just one

855
00:31:47,460 --> 00:31:48,899
of those things where it's like you you

856
00:31:48,899 --> 00:31:50,520
can't trust that the applications are

857
00:31:50,520 --> 00:31:52,260
doing the things they say they are just

858
00:31:52,260 --> 00:31:54,659
fire up Wireshark take a look right look

859
00:31:54,659 --> 00:31:56,159
at the packet see what it's sending

860
00:31:56,159 --> 00:31:58,799
because you you don't know if you don't

861
00:31:58,799 --> 00:32:00,240
go look right

862
00:32:00,240 --> 00:32:02,760
and then lastly

863
00:32:02,760 --> 00:32:06,260
This was um just we saw some some

864
00:32:06,260 --> 00:32:09,000
nation-state related malware

865
00:32:09,000 --> 00:32:12,960
um and it was when we dug into it on the

866
00:32:12,960 --> 00:32:14,460
device of an individual works for

867
00:32:14,460 --> 00:32:17,039
communications company that would be a

868
00:32:17,039 --> 00:32:20,100
target of that state so we'll be

869
00:32:20,100 --> 00:32:21,779
chatting with them

870
00:32:21,779 --> 00:32:23,760
um but yeah so

871
00:32:23,760 --> 00:32:26,220
um hide your wife hide your kids thanks

872
00:32:26,220 --> 00:32:28,770
for coming out

873
00:32:28,770 --> 00:32:31,889
[Music]

874
00:32:32,779 --> 00:32:35,730
thank you

875
00:32:35,730 --> 00:32:38,839
[Music]

