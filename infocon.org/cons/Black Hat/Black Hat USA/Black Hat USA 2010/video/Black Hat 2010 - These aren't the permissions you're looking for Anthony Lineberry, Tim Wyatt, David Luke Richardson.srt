1
00:00:00,000 --> 00:00:08,039
thank you everyone for coming my name is

2
00:00:04,980 --> 00:00:10,440
<font color="#E5E5E5">Anthony</font><font color="#CCCCCC"> lineberry this is David</font>

3
00:00:08,039 --> 00:00:12,989
Richardson Tim Wyatt we're researchers

4
00:00:10,440 --> 00:00:17,550
at lookout we do a<font color="#E5E5E5"> lot of cool stuff</font>

5
00:00:12,990 --> 00:00:20,310
with mobile security so today we're

6
00:00:17,550 --> 00:00:22,289
going to be discussing permissions on

7
00:00:20,310 --> 00:00:25,019
<font color="#E5E5E5">Android and some of the fun things that</font>

8
00:00:22,289 --> 00:00:30,000
we can do with and without some of those

9
00:00:25,019 --> 00:00:32,070
permissions so to get started things

10
00:00:30,000 --> 00:00:35,250
were<font color="#E5E5E5"> going to cover we're going to do a</font>

11
00:00:32,070 --> 00:00:37,350
brief<font color="#E5E5E5"> overview on the Android internals</font>

12
00:00:35,250 --> 00:00:39,989
just to get<font color="#E5E5E5"> those of you who don't have</font>

13
00:00:37,350 --> 00:00:44,129
<font color="#E5E5E5">any context about the important</font>

14
00:00:39,989 --> 00:00:45,570
components within Android and a lot of

15
00:00:44,129 --> 00:00:48,269
<font color="#CCCCCC">things</font><font color="#E5E5E5"> that we're going to be discussing</font>

16
00:00:45,570 --> 00:00:50,550
as well as the security<font color="#E5E5E5"> and permission</font>

17
00:00:48,270 --> 00:00:55,530
model basically just how their sandbox

18
00:00:50,550 --> 00:00:57,149
works their permission implemented then

19
00:00:55,530 --> 00:00:58,859
we're going<font color="#E5E5E5"> to discuss some of the fun</font>

20
00:00:57,149 --> 00:01:02,879
things<font color="#E5E5E5"> that we can do with the</font>

21
00:00:58,859 --> 00:01:04,739
permissions basically things that we can

22
00:01:02,879 --> 00:01:08,759
do without permissions things that we

23
00:01:04,739 --> 00:01:10,380
can do with permissions to do things

24
00:01:08,760 --> 00:01:14,250
that that permission didn't intend for

25
00:01:10,380 --> 00:01:16,619
us to do also we're going to discuss the

26
00:01:14,250 --> 00:01:19,799
system blogging<font color="#E5E5E5"> and how we can leverage</font>

27
00:01:16,619 --> 00:01:22,830
that to perform a lot<font color="#E5E5E5"> of these actions</font>

28
00:01:19,799 --> 00:01:25,259
as well after that we'll discuss<font color="#E5E5E5"> a</font>

29
00:01:22,830 --> 00:01:27,570
routing and a lot<font color="#CCCCCC"> of the problems</font>

30
00:01:25,259 --> 00:01:30,060
surrounding that<font color="#E5E5E5"> and everyone's quest</font>

31
00:01:27,570 --> 00:01:33,000
for<font color="#CCCCCC"> root on these phones</font><font color="#E5E5E5"> and then we'll</font>

32
00:01:30,060 --> 00:01:36,630
discuss the mitigation basically things

33
00:01:33,000 --> 00:01:39,990
that we would like<font color="#CCCCCC"> to see people do the</font>

34
00:01:36,630 --> 00:01:44,669
end user see developers do manufacturers

35
00:01:39,990 --> 00:01:48,060
and OEMs so let's get started in the

36
00:01:44,670 --> 00:01:51,060
Android internals so the first thing we

37
00:01:48,060 --> 00:01:52,649
<font color="#CCCCCC">have is our Android manifest is</font>

38
00:01:51,060 --> 00:01:57,090
<font color="#E5E5E5">something that every application has</font>

39
00:01:52,649 --> 00:01:59,189
this is a large<font color="#CCCCCC"> XML file stored as</font>

40
00:01:57,090 --> 00:02:02,610
binary<font color="#E5E5E5"> XML because things need to be</font>

41
00:01:59,189 --> 00:02:04,020
small and mobile the manifest contains

42
00:02:02,610 --> 00:02:06,750
everything important about the

43
00:02:04,020 --> 00:02:07,539
application primarily it's going to

44
00:02:06,750 --> 00:02:09,699
contain

45
00:02:07,540 --> 00:02:11,830
the package<font color="#CCCCCC"> name which is a unique</font>

46
00:02:09,699 --> 00:02:14,410
identifier<font color="#E5E5E5"> for every application</font>

47
00:02:11,830 --> 00:02:17,650
essentially this is<font color="#E5E5E5"> when you see like</font>

48
00:02:14,410 --> 00:02:20,920
com android dot SMS or something like

49
00:02:17,650 --> 00:02:24,340
that those are the package names these

50
00:02:20,920 --> 00:02:28,179
also are going<font color="#E5E5E5"> to describe all of the</font>

51
00:02:24,340 --> 00:02:30,520
components<font color="#CCCCCC"> of the application so all of</font>

52
00:02:28,180 --> 00:02:34,330
your activities all of your intense

53
00:02:30,520 --> 00:02:37,990
broadcast receivers that kind of stuff

54
00:02:34,330 --> 00:02:39,970
also all<font color="#CCCCCC"> the permissions that the</font>

55
00:02:37,990 --> 00:02:42,970
application needs so it's going<font color="#E5E5E5"> to</font>

56
00:02:39,970 --> 00:02:45,550
declare both requested permissions that

57
00:02:42,970 --> 00:02:48,400
the application needs to<font color="#E5E5E5"> access a lot of</font>

58
00:02:45,550 --> 00:02:52,000
the protected ap is and a lot<font color="#CCCCCC"> of the</font>

59
00:02:48,400 --> 00:02:55,510
content as<font color="#CCCCCC"> well as declare permissions</font>

60
00:02:52,000 --> 00:02:58,000
for that other applications would need

61
00:02:55,510 --> 00:03:00,519
to access components within the

62
00:02:58,000 --> 00:03:03,130
application itself if they want access

63
00:03:00,520 --> 00:03:05,770
<font color="#CCCCCC">to some of the activities or to be able</font>

64
00:03:03,130 --> 00:03:11,170
<font color="#E5E5E5">to receive intense and the application</font>

65
00:03:05,770 --> 00:03:14,950
<font color="#E5E5E5">has set permissions to access that so</font>

66
00:03:11,170 --> 00:03:18,190
yeah activities activities on<font color="#E5E5E5"> Android</font>

67
00:03:14,950 --> 00:03:20,170
are basically just a UI screen this<font color="#CCCCCC"> is a</font>

68
00:03:18,190 --> 00:03:23,350
way for a user to interact with an

69
00:03:20,170 --> 00:03:27,369
application the activity itself is going

70
00:03:23,350 --> 00:03:29,109
to be composed of<font color="#E5E5E5"> views which in on</font>

71
00:03:27,370 --> 00:03:32,560
<font color="#E5E5E5">Android are essentially just your UI</font>

72
00:03:29,110 --> 00:03:35,769
widgets your buttons image views text

73
00:03:32,560 --> 00:03:37,989
views a lot<font color="#E5E5E5"> of things like that the</font>

74
00:03:35,769 --> 00:03:42,730
activities themselves are managed in an

75
00:03:37,989 --> 00:03:46,810
activity stack so essentially any new

76
00:03:42,730 --> 00:03:48,609
activity that is created or started will

77
00:03:46,810 --> 00:03:50,799
be<font color="#E5E5E5"> running in</font><font color="#CCCCCC"> the foreground on top of</font>

78
00:03:48,610 --> 00:03:55,660
the stack this will be in an active

79
00:03:50,799 --> 00:03:56,980
state any older activities or before

80
00:03:55,660 --> 00:03:59,859
that<font color="#E5E5E5"> are going to be lower down on the</font>

81
00:03:56,980 --> 00:04:01,480
stack any activity<font color="#CCCCCC"> further down on the</font>

82
00:03:59,860 --> 00:04:04,900
stack will also be<font color="#E5E5E5"> in a pause state</font>

83
00:04:01,480 --> 00:04:08,709
where just maintain state of the

84
00:04:04,900 --> 00:04:11,260
activity itself the activities will stay

85
00:04:08,709 --> 00:04:14,680
in this activity stack until the

86
00:04:11,260 --> 00:04:17,409
activity itself finishes or

87
00:04:14,680 --> 00:04:20,650
in scenarios where the system<font color="#E5E5E5"> memory is</font>

88
00:04:17,410 --> 00:04:22,630
low if an activity is paused then it can

89
00:04:20,649 --> 00:04:27,580
be killed by the system itself

90
00:04:22,630 --> 00:04:30,370
activities can be started by other

91
00:04:27,580 --> 00:04:32,409
application so an application itself can

92
00:04:30,370 --> 00:04:35,919
start a remote activity in another

93
00:04:32,410 --> 00:04:38,590
<font color="#CCCCCC">application so a scenario for this where</font>

94
00:04:35,919 --> 00:04:41,169
someone might realistically do this a

95
00:04:38,590 --> 00:04:44,198
lot<font color="#E5E5E5"> of</font><font color="#CCCCCC"> applications will request a</font>

96
00:04:41,169 --> 00:04:45,969
location permission that location if

97
00:04:44,199 --> 00:04:48,009
they want access<font color="#CCCCCC"> to fine grained</font>

98
00:04:45,970 --> 00:04:49,720
location data as far as latitude and

99
00:04:48,009 --> 00:04:53,349
longitude they have to have<font color="#E5E5E5"> their GPS</font>

100
00:04:49,720 --> 00:04:59,080
enabled so an application can start an

101
00:04:53,349 --> 00:05:01,840
activity to fire up the settings for<font color="#E5E5E5"> the</font>

102
00:04:59,080 --> 00:05:05,020
<font color="#CCCCCC">location that are actually built into</font>

103
00:05:01,840 --> 00:05:06,880
<font color="#CCCCCC">Android pull that activity up and then</font>

104
00:05:05,020 --> 00:05:10,419
the user can check the box to enable gps

105
00:05:06,880 --> 00:05:12,130
once the application sees that that

106
00:05:10,419 --> 00:05:14,948
setting is enabled then they can finish

107
00:05:12,130 --> 00:05:18,789
that activity and be brought back to the

108
00:05:14,949 --> 00:05:20,349
<font color="#CCCCCC">original activity that they</font><font color="#E5E5E5"> are at the</font>

109
00:05:18,789 --> 00:05:22,270
activities themselves when you start

110
00:05:20,349 --> 00:05:24,310
these activities within another

111
00:05:22,270 --> 00:05:26,979
application run within their own

112
00:05:24,310 --> 00:05:28,330
applications process so if you're

113
00:05:26,979 --> 00:05:30,070
starting some other applications

114
00:05:28,330 --> 00:05:32,469
activity you won't necessarily have

115
00:05:30,070 --> 00:05:36,039
access to any of that applications data

116
00:05:32,470 --> 00:05:37,780
or any of the activities<font color="#E5E5E5"> data but</font>

117
00:05:36,039 --> 00:05:39,820
starting activities within your own

118
00:05:37,780 --> 00:05:42,820
<font color="#CCCCCC">application of course you'll still have</font>

119
00:05:39,820 --> 00:05:47,949
access to<font color="#CCCCCC"> a lot of</font><font color="#E5E5E5"> the data associated</font>

120
00:05:42,820 --> 00:05:50,229
with<font color="#E5E5E5"> that activities like we said</font>

121
00:05:47,949 --> 00:05:52,990
earlier you can define in the manifest

122
00:05:50,229 --> 00:05:55,840
if you don't want people<font color="#E5E5E5"> to be able to</font>

123
00:05:52,990 --> 00:06:00,130
start your activity you can request a

124
00:05:55,840 --> 00:06:01,960
permission to be able<font color="#E5E5E5"> to enforce access</font>

125
00:06:00,130 --> 00:06:03,820
to this that any application<font color="#CCCCCC"> that wants</font>

126
00:06:01,960 --> 00:06:05,799
to start your activity would need to

127
00:06:03,820 --> 00:06:10,810
request this permission and be<font color="#CCCCCC"> granted</font>

128
00:06:05,800 --> 00:06:13,889
that to start it intense so Android

129
00:06:10,810 --> 00:06:16,409
intents are basically

130
00:06:13,889 --> 00:06:17,969
in the<font color="#E5E5E5"> documentation says an abstract</font>

131
00:06:16,409 --> 00:06:20,639
description of an operation<font color="#CCCCCC"> to be</font>

132
00:06:17,969 --> 00:06:24,330
performed so this<font color="#E5E5E5"> is essentially just a</font>

133
00:06:20,639 --> 00:06:26,580
simple data structure of an action and

134
00:06:24,330 --> 00:06:30,240
data associated with that that's passed

135
00:06:26,580 --> 00:06:32,639
in<font color="#E5E5E5"> the form of uri and we use this as</font>

136
00:06:30,240 --> 00:06:36,479
basically<font color="#CCCCCC"> low overhead IPC between</font>

137
00:06:32,639 --> 00:06:38,699
applications so that<font color="#E5E5E5"> we can say hey we</font>

138
00:06:36,479 --> 00:06:41,909
want to<font color="#E5E5E5"> start a browser here's</font><font color="#CCCCCC"> URI for</font>

139
00:06:38,699 --> 00:06:50,129
this or we want an action view here's

140
00:06:41,909 --> 00:06:52,529
some content data also sorry we can<font color="#E5E5E5"> use</font>

141
00:06:50,129 --> 00:06:54,930
the intense to start or as<font color="#CCCCCC"> we say</font><font color="#E5E5E5"> okay</font>

142
00:06:52,529 --> 00:06:57,360
so we use these<font color="#E5E5E5"> to start an activity we</font>

143
00:06:54,930 --> 00:07:01,229
can also use these to broadcast system

144
00:06:57,360 --> 00:07:04,800
wide and intent with<font color="#E5E5E5"> Sen broadcast so in</font>

145
00:07:01,229 --> 00:07:08,310
an event where we receive an SMS SMS is

146
00:07:04,800 --> 00:07:10,770
received on the platform an intent will

147
00:07:08,310 --> 00:07:15,120
be broadcast out to everyone to pretty

148
00:07:10,770 --> 00:07:16,979
much anyone who sets up a listener<font color="#E5E5E5"> can</font>

149
00:07:15,120 --> 00:07:20,339
we see that intent if they're interested

150
00:07:16,979 --> 00:07:23,639
we<font color="#E5E5E5"> can also use these to communicate</font>

151
00:07:20,339 --> 00:07:25,080
with<font color="#CCCCCC"> a background</font><font color="#E5E5E5"> service so if we if we</font>

152
00:07:23,639 --> 00:07:27,029
have a service<font color="#E5E5E5"> set up in</font><font color="#CCCCCC"> the background</font>

153
00:07:25,080 --> 00:07:29,698
then we can send intense to that along

154
00:07:27,029 --> 00:07:35,550
with data to notify it about certain

155
00:07:29,699 --> 00:07:37,800
events that kind of stuff broadcast

156
00:07:35,550 --> 00:07:40,229
receivers so this<font color="#CCCCCC"> is</font><font color="#E5E5E5"> the receiving end</font>

157
00:07:37,800 --> 00:07:42,599
of an intent when you send<font color="#E5E5E5"> these out an</font>

158
00:07:40,229 --> 00:07:44,938
application will have a broadcast

159
00:07:42,599 --> 00:07:46,680
receiver set up with some kind of intent

160
00:07:44,939 --> 00:07:48,689
filter of the intents that they want to

161
00:07:46,680 --> 00:07:52,889
receive so if you want<font color="#E5E5E5"> to be notified</font>

162
00:07:48,689 --> 00:07:55,260
<font color="#E5E5E5">about an SMS being received you'll</font>

163
00:07:52,889 --> 00:07:59,280
receive an intent

164
00:07:55,260 --> 00:08:01,710
and usually containing the SMS<font color="#CCCCCC"> pdus i</font>

165
00:07:59,280 --> 00:08:03,840
believe so we can create these in two

166
00:08:01,710 --> 00:08:06,570
different ways we can either create a

167
00:08:03,840 --> 00:08:09,330
broadcastreceiver dynamically in our

168
00:08:06,570 --> 00:08:11,370
code with register broadcast or

169
00:08:09,330 --> 00:08:15,390
statically within the manifest using the

170
00:08:11,370 --> 00:08:18,000
receiver tag and we can define that and

171
00:08:15,390 --> 00:08:20,940
we can receive two types of broadcasts

172
00:08:18,000 --> 00:08:24,690
are two types yes two types of broadcast

173
00:08:20,940 --> 00:08:26,610
with our receiver so we have a regular

174
00:08:24,690 --> 00:08:30,540
broadcast which is just sent out

175
00:08:26,610 --> 00:08:33,659
asynchronously and mass to every

176
00:08:30,540 --> 00:08:35,880
receiver on<font color="#CCCCCC"> the system these types of</font>

177
00:08:33,659 --> 00:08:38,250
broadcasts cannot be aborted and<font color="#E5E5E5"> you</font>

178
00:08:35,880 --> 00:08:40,950
can't do anything<font color="#E5E5E5"> with the result we</font>

179
00:08:38,250 --> 00:08:43,799
also<font color="#E5E5E5"> have an ordered broadcast this is a</font>

180
00:08:40,950 --> 00:08:46,110
broadcast sent out sequentially to all

181
00:08:43,799 --> 00:08:49,800
the receivers so as<font color="#E5E5E5"> it goes down</font><font color="#CCCCCC"> the</font>

182
00:08:46,110 --> 00:08:53,160
line a receiver can they'll receive the

183
00:08:49,800 --> 00:08:54,479
result from the previous receiver and do

184
00:08:53,160 --> 00:08:57,839
any kind<font color="#E5E5E5"> of processing they want on that</font>

185
00:08:54,480 --> 00:09:00,600
they have the option<font color="#CCCCCC"> to abort that</font>

186
00:08:57,840 --> 00:09:02,280
<font color="#E5E5E5">broadcast and from that</font><font color="#CCCCCC"> point it won't</font>

187
00:09:00,600 --> 00:09:04,770
<font color="#E5E5E5">go any further down the line to any of</font>

188
00:09:02,280 --> 00:09:07,140
the other receivers and also we can<font color="#E5E5E5"> pass</font>

189
00:09:04,770 --> 00:09:12,270
our own result to the<font color="#E5E5E5"> next receiver down</font>

190
00:09:07,140 --> 00:09:14,370
the line much like<font color="#E5E5E5"> the intents and</font>

191
00:09:12,270 --> 00:09:18,120
activities we can enforce permissions

192
00:09:14,370 --> 00:09:20,760
from both sides of either the<font color="#E5E5E5"> sender</font>

193
00:09:18,120 --> 00:09:22,260
saying this is the permission that you

194
00:09:20,760 --> 00:09:25,890
need to have if you want to receive<font color="#CCCCCC"> this</font>

195
00:09:22,260 --> 00:09:28,110
broadcast or if the receiver<font color="#E5E5E5"> is going to</font>

196
00:09:25,890 --> 00:09:30,480
receive<font color="#E5E5E5"> it the receiver can also say</font>

197
00:09:28,110 --> 00:09:36,780
this is a permission you need to have if

198
00:09:30,480 --> 00:09:39,300
you want to send me an intent services

199
00:09:36,780 --> 00:09:42,120
<font color="#CCCCCC">are basically what they sound like it's</font>

200
00:09:39,300 --> 00:09:45,540
a component that will use in the

201
00:09:42,120 --> 00:09:47,970
background to do processing these are

202
00:09:45,540 --> 00:09:50,610
<font color="#E5E5E5">not a separate thread or a separate</font>

203
00:09:47,970 --> 00:09:52,380
process the services<font color="#E5E5E5"> themselves run</font>

204
00:09:50,610 --> 00:09:54,930
within the main thread of the

205
00:09:52,380 --> 00:09:57,480
application so if you want<font color="#E5E5E5"> to do any</font>

206
00:09:54,930 --> 00:09:58,979
kind<font color="#E5E5E5"> of cpu intensive processing or</font>

207
00:09:57,480 --> 00:10:00,810
anything<font color="#E5E5E5"> that's going to do some</font>

208
00:09:58,980 --> 00:10:02,190
blocking you're going to want to spin

209
00:10:00,810 --> 00:10:05,300
off your own threads to do that kind<font color="#CCCCCC"> of</font>

210
00:10:02,190 --> 00:10:08,600
stuff essentially we can use these

211
00:10:05,300 --> 00:10:12,319
much like an activity and we can also

212
00:10:08,600 --> 00:10:14,120
enforce permissions like the activities

213
00:10:12,320 --> 00:10:16,910
and intense before where you<font color="#E5E5E5"> define a</font>

214
00:10:14,120 --> 00:10:18,860
permission to say if<font color="#E5E5E5"> you want to</font><font color="#CCCCCC"> access</font>

215
00:10:16,910 --> 00:10:22,790
the service and use it you need to have

216
00:10:18,860 --> 00:10:25,850
this permission so let's talk about<font color="#E5E5E5"> the</font>

217
00:10:22,790 --> 00:10:27,829
security information model of<font color="#E5E5E5"> Android so</font>

218
00:10:25,850 --> 00:10:30,589
everyone knows that<font color="#E5E5E5"> Android</font><font color="#CCCCCC"> is using the</font>

219
00:10:27,829 --> 00:10:33,739
sandbox<font color="#CCCCCC"> that's one of the highlights</font>

220
00:10:30,589 --> 00:10:37,430
that everyone likes<font color="#E5E5E5"> to talk about the</font>

221
00:10:33,740 --> 00:10:40,310
sandbox itself is<font color="#E5E5E5"> not a vm a lot of</font>

222
00:10:37,430 --> 00:10:42,410
<font color="#CCCCCC">people</font><font color="#E5E5E5"> assume that the sandbox is</font>

223
00:10:40,310 --> 00:10:47,689
basically the dalvik<font color="#E5E5E5"> VM that's running</font>

224
00:10:42,410 --> 00:10:50,209
but the sandbox is actually just users

225
00:10:47,690 --> 00:10:53,209
on a unix system with you<font color="#E5E5E5"> ids and</font><font color="#CCCCCC"> g ids</font>

226
00:10:50,209 --> 00:10:54,709
so<font color="#E5E5E5"> essentially every application that</font>

227
00:10:53,209 --> 00:10:57,500
you install in the system<font color="#E5E5E5"> is going to</font>

228
00:10:54,709 --> 00:10:59,359
run as a different user so applications

229
00:10:57,500 --> 00:11:03,140
in that sense won't have permissions to

230
00:10:59,360 --> 00:11:08,690
access other applications files and data

231
00:11:03,140 --> 00:11:11,300
on the file system and every process is

232
00:11:08,690 --> 00:11:13,640
running as a separate uid so all those

233
00:11:11,300 --> 00:11:16,399
processes are going to have a vm which

234
00:11:13,640 --> 00:11:20,329
is a lightweight so the dalvik<font color="#E5E5E5"> vm is</font>

235
00:11:16,399 --> 00:11:23,360
just a lightweight java like vm that's

236
00:11:20,329 --> 00:11:26,209
actually based off of passing registers

237
00:11:23,360 --> 00:11:29,089
rather than on the stack if you find<font color="#E5E5E5"> a</font>

238
00:11:26,209 --> 00:11:30,229
<font color="#E5E5E5">way to break out of this vm through an</font>

239
00:11:29,089 --> 00:11:31,279
attack it's not<font color="#E5E5E5"> going to gain you</font>

240
00:11:30,230 --> 00:11:32,959
anything because<font color="#CCCCCC"> you're still just</font>

241
00:11:31,279 --> 00:11:35,959
running within that process with those

242
00:11:32,959 --> 00:11:38,300
users permissions and there's a lot of

243
00:11:35,959 --> 00:11:41,599
legitimate ways to break out of the vm

244
00:11:38,300 --> 00:11:46,250
anyway using<font color="#E5E5E5"> jni code which is natively</font>

245
00:11:41,600 --> 00:11:49,790
supported now you can have a shared uid

246
00:11:46,250 --> 00:11:52,100
between applications if they request to

247
00:11:49,790 --> 00:11:53,449
do<font color="#E5E5E5"> this in their manifest both</font>

248
00:11:52,100 --> 00:11:55,550
applications to have to request this

249
00:11:53,449 --> 00:11:58,969
essentially these two separate

250
00:11:55,550 --> 00:12:00,349
applications<font color="#E5E5E5"> would be the same user but</font>

251
00:11:58,970 --> 00:12:05,300
both these applications need<font color="#E5E5E5"> to be</font>

252
00:12:00,350 --> 00:12:08,040
signed with the same sign are key the

253
00:12:05,300 --> 00:12:11,339
permissions on<font color="#E5E5E5"> Android</font>

254
00:12:08,040 --> 00:12:14,219
<font color="#E5E5E5">you just act as fine-grained access on</font>

255
00:12:11,339 --> 00:12:18,690
top of the sandbox to be able<font color="#E5E5E5"> to</font><font color="#CCCCCC"> access</font>

256
00:12:14,220 --> 00:12:22,259
protected api's content so if you want

257
00:12:18,690 --> 00:12:23,670
to<font color="#E5E5E5"> be able to</font><font color="#CCCCCC"> access the SMS is that the</font>

258
00:12:22,259 --> 00:12:25,829
users receiving if you want to be able

259
00:12:23,670 --> 00:12:27,329
to<font color="#CCCCCC"> access their contents if you want to</font>

260
00:12:25,829 --> 00:12:29,099
be able to<font color="#CCCCCC"> access the internet and have</font>

261
00:12:27,329 --> 00:12:31,649
network communication you're going to

262
00:12:29,100 --> 00:12:33,329
need<font color="#CCCCCC"> to</font><font color="#E5E5E5"> request a permission and it said</font>

263
00:12:31,649 --> 00:12:36,300
these are all declared within the

264
00:12:33,329 --> 00:12:39,420
<font color="#E5E5E5">Android manifest so with all</font><font color="#CCCCCC"> that</font>

265
00:12:36,300 --> 00:12:40,649
<font color="#E5E5E5">background of mine David is</font><font color="#CCCCCC"> going to</font>

266
00:12:39,420 --> 00:12:44,969
talk about<font color="#CCCCCC"> some of the fun things that</font>

267
00:12:40,649 --> 00:12:47,850
we can do with these permissions Thank

268
00:12:44,970 --> 00:12:50,970
<font color="#CCCCCC">You Anthony um so yeah now we move on to</font>

269
00:12:47,850 --> 00:12:53,190
Android development and my motto here is

270
00:12:50,970 --> 00:12:56,370
why ask for permission when you can ask

271
00:12:53,190 --> 00:12:59,339
<font color="#CCCCCC">for forgiveness so why are permissions</font>

272
00:12:56,370 --> 00:13:01,829
important permissions they<font color="#CCCCCC"> get what a</font>

273
00:12:59,339 --> 00:13:04,350
nap can do and these are actually user

274
00:13:01,829 --> 00:13:06,899
visible so<font color="#E5E5E5"> I pull up my phone I access</font>

275
00:13:04,350 --> 00:13:08,699
the android market<font color="#CCCCCC"> I click on</font><font color="#E5E5E5"> an app</font>

276
00:13:06,899 --> 00:13:11,040
that<font color="#E5E5E5"> I want to download and I'm and I</font>

277
00:13:08,699 --> 00:13:13,439
see a screen like this so this<font color="#CCCCCC"> is</font>

278
00:13:11,040 --> 00:13:15,779
Pandora and I see<font color="#E5E5E5"> that it can access the</font>

279
00:13:13,440 --> 00:13:19,050
internet it can read my phone state and

280
00:13:15,779 --> 00:13:22,050
do other various things now as a user

281
00:13:19,050 --> 00:13:23,310
I'm required to<font color="#CCCCCC"> okay this before i can</font>

282
00:13:22,050 --> 00:13:28,529
download or install an application

283
00:13:23,310 --> 00:13:30,839
there's no fine you can't agree<font color="#CCCCCC"> to allow</font>

284
00:13:28,529 --> 00:13:33,240
an app to do some things<font color="#CCCCCC"> but not others</font>

285
00:13:30,839 --> 00:13:34,649
you have it's all or nothing if you

286
00:13:33,240 --> 00:13:36,810
don't want to allow these permissions

287
00:13:34,649 --> 00:13:40,529
<font color="#E5E5E5">you click cancel you can't install the</font>

288
00:13:36,810 --> 00:13:43,680
application and so users can look at

289
00:13:40,529 --> 00:13:45,180
this screen and they can decipher to to

290
00:13:43,680 --> 00:13:46,829
some degree whether or not this makes

291
00:13:45,180 --> 00:13:48,540
<font color="#E5E5E5">sense for the application so it's</font>

292
00:13:46,829 --> 00:13:50,250
pandora radio<font color="#E5E5E5"> obviously needs to be able</font>

293
00:13:48,540 --> 00:13:51,750
<font color="#E5E5E5">to access</font><font color="#CCCCCC"> the internet it wants</font><font color="#E5E5E5"> to be</font>

294
00:13:50,250 --> 00:13:53,160
able<font color="#E5E5E5"> to read my phone state because it</font>

295
00:13:51,750 --> 00:13:56,459
doesn't want to keep playing music if<font color="#CCCCCC"> i</font>

296
00:13:53,160 --> 00:13:58,290
receive<font color="#CCCCCC"> a phone call for example so</font>

297
00:13:56,459 --> 00:14:00,180
let's<font color="#E5E5E5"> look at another example here are</font>

298
00:13:58,290 --> 00:14:03,870
two different tic-tac-toe apps in the

299
00:14:00,180 --> 00:14:06,239
market so<font color="#E5E5E5"> we can see the the one on the</font>

300
00:14:03,870 --> 00:14:08,009
right here requests access to the

301
00:14:06,240 --> 00:14:10,199
<font color="#CCCCCC">Internet maybe it has high score maybe</font>

302
00:14:08,009 --> 00:14:13,649
it has multiplayer or something like

303
00:14:10,199 --> 00:14:15,599
that and it can request<font color="#CCCCCC"> Annette work</font>

304
00:14:13,649 --> 00:14:18,630
state the permissions at the bottom are

305
00:14:15,600 --> 00:14:20,240
ones that are deemed less dangerous<font color="#E5E5E5"> and</font>

306
00:14:18,630 --> 00:14:21,470
so<font color="#E5E5E5"> that makes</font>

307
00:14:20,240 --> 00:14:23,330
for<font color="#E5E5E5"> that up and then there's another</font>

308
00:14:21,470 --> 00:14:26,270
tic-tac-toe app that's popular in the

309
00:14:23,330 --> 00:14:28,880
market that<font color="#E5E5E5"> asks for similar things but</font>

310
00:14:26,270 --> 00:14:32,120
it also asks for system tools<font color="#CCCCCC"> Mountain</font>

311
00:14:28,880 --> 00:14:34,100
unmount file systems so a user can see

312
00:14:32,120 --> 00:14:37,100
something<font color="#CCCCCC"> like that and decide that</font>

313
00:14:34,100 --> 00:14:39,020
doesn't sound right<font color="#E5E5E5"> for tic-tac-toe so</font>

314
00:14:37,100 --> 00:14:41,570
<font color="#CCCCCC">that's sort of why permissions matter</font>

315
00:14:39,020 --> 00:14:43,910
and what happens if you request<font color="#E5E5E5"> zero</font>

316
00:14:41,570 --> 00:14:45,950
permissions this solitaire app requests

317
00:14:43,910 --> 00:14:50,000
zero permissions so when I click install

318
00:14:45,950 --> 00:14:51,589
it just starts downloading it and so why

319
00:14:50,000 --> 00:14:53,720
should a user be worried about<font color="#E5E5E5"> an app</font>

320
00:14:51,589 --> 00:14:55,339
that requests no permissions if the OS

321
00:14:53,720 --> 00:14:57,500
isn't going to warn me about it I should

322
00:14:55,339 --> 00:14:59,000
<font color="#CCCCCC">just assume it's safe right well i'm</font>

323
00:14:57,500 --> 00:15:00,920
going<font color="#E5E5E5"> to show you that that's not the</font>

324
00:14:59,000 --> 00:15:03,830
<font color="#CCCCCC">case i'm</font><font color="#E5E5E5"> going to go through and explain</font>

325
00:15:00,920 --> 00:15:06,709
what<font color="#E5E5E5"> exactly you can do with only 0</font>

326
00:15:03,830 --> 00:15:09,170
permissions so the first<font color="#CCCCCC"> thing you can</font>

327
00:15:06,709 --> 00:15:11,779
do is you can actually reboot a phone

328
00:15:09,170 --> 00:15:14,300
there's a reboot permission and this

329
00:15:11,779 --> 00:15:17,270
permission is set as protection level

330
00:15:14,300 --> 00:15:21,050
signature or system and what that means

331
00:15:17,270 --> 00:15:23,209
<font color="#E5E5E5">is that you have to</font><font color="#CCCCCC"> either be on the</font>

332
00:15:21,050 --> 00:15:26,540
system partition or you have to be

333
00:15:23,209 --> 00:15:28,819
signed by<font color="#E5E5E5"> the same signature as the as</font>

334
00:15:26,540 --> 00:15:32,630
by<font color="#E5E5E5"> the manufacturer of the phone</font>

335
00:15:28,820 --> 00:15:35,510
signature and therefore most apps can't

336
00:15:32,630 --> 00:15:37,070
access this there's<font color="#E5E5E5"> no way to be</font>

337
00:15:35,510 --> 00:15:39,470
installed from the market on to the

338
00:15:37,070 --> 00:15:43,160
system partition for example unless you

339
00:15:39,470 --> 00:15:47,149
are already there<font color="#E5E5E5"> and but that's not</font>

340
00:15:43,160 --> 00:15:49,790
going to stop<font color="#CCCCCC"> us so there's a</font><font color="#E5E5E5"> couple</font>

341
00:15:47,149 --> 00:15:51,740
different approaches here one<font color="#E5E5E5"> of them</font>

342
00:15:49,790 --> 00:15:53,810
that we found it's sort of the easiest

343
00:15:51,740 --> 00:15:57,350
<font color="#E5E5E5">and most reliable involves toast</font>

344
00:15:53,810 --> 00:16:00,260
notifications so a toast notification is

345
00:15:57,350 --> 00:16:02,630
a notification of something<font color="#CCCCCC"> that occurs</font>

346
00:16:00,260 --> 00:16:05,810
in<font color="#E5E5E5"> the background that will appear on</font>

347
00:16:02,630 --> 00:16:07,189
top of any activity that you're<font color="#CCCCCC"> running</font>

348
00:16:05,810 --> 00:16:10,369
you<font color="#CCCCCC"> can think</font><font color="#E5E5E5"> of this as like a growl</font>

349
00:16:07,190 --> 00:16:12,500
notification so here's an example

350
00:16:10,370 --> 00:16:15,020
<font color="#E5E5E5">someone's in the keypad application and</font>

351
00:16:12,500 --> 00:16:17,690
toast notification pops up and<font color="#CCCCCC"> tells</font>

352
00:16:15,020 --> 00:16:19,640
them something about the about something

353
00:16:17,690 --> 00:16:22,040
that happened in the background so

354
00:16:19,640 --> 00:16:24,290
here's just<font color="#E5E5E5"> a simple this is kind of the</font>

355
00:16:22,040 --> 00:16:27,140
hello world of creating a creating a

356
00:16:24,290 --> 00:16:28,329
toast you can just easily call this

357
00:16:27,140 --> 00:16:30,040
helper method

358
00:16:28,329 --> 00:16:31,779
and display a toast on the<font color="#E5E5E5"> screen and</font>

359
00:16:30,040 --> 00:16:34,629
then all I've done is throw it inside an

360
00:16:31,779 --> 00:16:36,279
infinite loop and every<font color="#E5E5E5"> time that</font><font color="#CCCCCC"> you</font>

361
00:16:34,629 --> 00:16:39,970
create a toast it actually creates a

362
00:16:36,279 --> 00:16:46,029
week jet Jay and I reference in in the

363
00:16:39,970 --> 00:16:48,399
system server and as you can see at 2001

364
00:16:46,029 --> 00:16:51,939
global references the system says I

365
00:16:48,399 --> 00:16:56,679
can't let<font color="#CCCCCC"> you do that Dave and crashes</font>

366
00:16:51,939 --> 00:16:58,779
with a<font color="#E5E5E5"> six egg be and so</font><font color="#CCCCCC"> the actual</font>

367
00:16:56,679 --> 00:17:01,329
version kind of depend or the<font color="#CCCCCC"> actual</font>

368
00:16:58,779 --> 00:17:02,679
number<font color="#E5E5E5"> of references sort of depends on</font>

369
00:17:01,329 --> 00:17:05,529
<font color="#E5E5E5">the phone but we found two thousand one</font>

370
00:17:02,679 --> 00:17:07,599
is almost almost every phone at<font color="#E5E5E5"> 2001</font>

371
00:17:05,529 --> 00:17:10,240
global references system server crashes

372
00:17:07,599 --> 00:17:12,849
and the phone<font color="#CCCCCC"> reboots all in all that</font>

373
00:17:10,240 --> 00:17:15,099
process takes about 20 seconds from<font color="#CCCCCC"> when</font>

374
00:17:12,849 --> 00:17:16,869
you display the<font color="#E5E5E5"> first toast so any app</font>

375
00:17:15,099 --> 00:17:20,260
with no permissions can cause a phone to

376
00:17:16,869 --> 00:17:24,969
reboot within<font color="#E5E5E5"> about 20 seconds of</font>

377
00:17:20,260 --> 00:17:26,769
launching and but that would actually

378
00:17:24,970 --> 00:17:29,769
display the text hello world on the

379
00:17:26,769 --> 00:17:31,330
screen for<font color="#CCCCCC"> 20 seconds before your phone</font>

380
00:17:29,769 --> 00:17:34,600
rebooted and you might notice<font color="#CCCCCC"> that</font>

381
00:17:31,330 --> 00:17:36,279
something was up so we can<font color="#E5E5E5"> actually do</font>

382
00:17:34,600 --> 00:17:38,500
something<font color="#E5E5E5"> that's called a custom toast</font>

383
00:17:36,279 --> 00:17:40,450
so we don't<font color="#CCCCCC"> have</font><font color="#E5E5E5"> to just display text we</font>

384
00:17:38,500 --> 00:17:43,809
can<font color="#E5E5E5"> actually display any view that we</font>

385
00:17:40,450 --> 00:17:45,880
<font color="#E5E5E5">want so here's an example</font><font color="#CCCCCC"> of powdered</font>

386
00:17:43,809 --> 00:17:48,100
toast man an image of powdered toast man

387
00:17:45,880 --> 00:17:51,159
being displayed on top of the phone

388
00:17:48,100 --> 00:17:52,990
screen as our custom toast but we can

389
00:17:51,159 --> 00:17:56,679
also create a custom toast that is

390
00:17:52,990 --> 00:17:58,480
completely invisible so here here this

391
00:17:56,679 --> 00:18:01,090
code snippet just shows creating a new

392
00:17:58,480 --> 00:18:03,460
view with nothing in it and then showing

393
00:18:01,090 --> 00:18:05,439
that so this<font color="#CCCCCC"> is completely invisible the</font>

394
00:18:03,460 --> 00:18:07,510
user<font color="#CCCCCC"> has no idea that's anything's going</font>

395
00:18:05,440 --> 00:18:09,789
on except maybe that their phone is

396
00:18:07,510 --> 00:18:12,580
heating up a bit and then in 20 seconds

397
00:18:09,789 --> 00:18:15,490
their phone will just reboot so now<font color="#E5E5E5"> that</font>

398
00:18:12,580 --> 00:18:17,710
a phone is rebooting we might want to

399
00:18:15,490 --> 00:18:19,870
request the receive boot complete

400
00:18:17,710 --> 00:18:21,820
permission so this permission allows

401
00:18:19,870 --> 00:18:25,059
apps to automatically start on boot and

402
00:18:21,820 --> 00:18:27,519
this one this<font color="#CCCCCC"> one's just a little too</font>

403
00:18:25,059 --> 00:18:29,200
<font color="#E5E5E5">easy you can just comment out the the</font>

404
00:18:27,519 --> 00:18:30,669
request for<font color="#E5E5E5"> the permission it still</font>

405
00:18:29,200 --> 00:18:33,220
works<font color="#E5E5E5"> it works on all android OS</font>

406
00:18:30,669 --> 00:18:36,610
versions they just this permission is

407
00:18:33,220 --> 00:18:39,490
not enforced period and in fact if<font color="#CCCCCC"> you</font>

408
00:18:36,610 --> 00:18:40,340
do the previous attack the 20 seconds

409
00:18:39,490 --> 00:18:42,140
<font color="#E5E5E5">that it takes to</font>

410
00:18:40,340 --> 00:18:43,639
reboot the phone again actually starts

411
00:18:42,140 --> 00:18:45,799
much earlier than when the user can

412
00:18:43,640 --> 00:18:48,289
<font color="#E5E5E5">interact with it so you know if you</font>

413
00:18:45,799 --> 00:18:49,908
<font color="#E5E5E5">combine these you'd maybe have a few</font>

414
00:18:48,289 --> 00:18:55,070
seconds<font color="#E5E5E5"> before your phone just reboots</font>

415
00:18:49,909 --> 00:18:56,450
again so another thing that a lot<font color="#CCCCCC"> of</font><font color="#E5E5E5"> app</font>

416
00:18:55,070 --> 00:18:59,870
developers would like to be able to do

417
00:18:56,450 --> 00:19:02,360
and malicious developers as well is to

418
00:18:59,870 --> 00:19:04,610
be able<font color="#E5E5E5"> to start a nap on installation</font>

419
00:19:02,360 --> 00:19:08,000
so you can imagine that<font color="#E5E5E5"> you could</font>

420
00:19:04,610 --> 00:19:10,490
combine this with another with say a

421
00:19:08,000 --> 00:19:12,140
phishing attack you download an

422
00:19:10,490 --> 00:19:14,000
application and you're in the android

423
00:19:12,140 --> 00:19:15,860
market<font color="#CCCCCC"> and a pop-up appears as soon as</font>

424
00:19:14,000 --> 00:19:17,179
you're done downloading it you you don't

425
00:19:15,860 --> 00:19:18,289
suspect that it has anything to do with

426
00:19:17,179 --> 00:19:21,890
the application that you just downloaded

427
00:19:18,289 --> 00:19:24,110
it because apps can't run until you

428
00:19:21,890 --> 00:19:27,440
start them that's like a<font color="#E5E5E5"> principle of</font>

429
00:19:24,110 --> 00:19:29,689
<font color="#E5E5E5">Android so if you could pop up screen</font>

430
00:19:27,440 --> 00:19:31,279
that said please enter your<font color="#E5E5E5"> Google user</font>

431
00:19:29,690 --> 00:19:35,149
name and password<font color="#E5E5E5"> you might actually</font>

432
00:19:31,279 --> 00:19:38,090
believe it so there's no permission that

433
00:19:35,149 --> 00:19:39,408
allows this functionality but there is

434
00:19:38,090 --> 00:19:43,459
<font color="#CCCCCC">still a way</font><font color="#E5E5E5"> to do it without any</font>

435
00:19:39,409 --> 00:19:45,860
permissions the<font color="#CCCCCC"> Google Analytics has a</font>

436
00:19:43,460 --> 00:19:49,220
refer tracking and this code snippet is

437
00:19:45,860 --> 00:19:51,649
actually just stolen from the Google

438
00:19:49,220 --> 00:19:54,590
Analytics SDK for Android apps and

439
00:19:51,649 --> 00:19:57,049
basically what<font color="#E5E5E5"> it does is it</font><font color="#CCCCCC"> allows you</font>

440
00:19:54,590 --> 00:19:58,370
to track the source of where someone

441
00:19:57,049 --> 00:20:00,470
downloaded to your app so maybe they

442
00:19:58,370 --> 00:20:03,080
clicked on an AdMob link and you want to

443
00:20:00,470 --> 00:20:05,299
<font color="#E5E5E5">be able to see what which AdMob link</font>

444
00:20:03,080 --> 00:20:06,620
they clicked on or maybe they clicked

445
00:20:05,299 --> 00:20:08,720
from a website you want<font color="#CCCCCC"> to be able</font><font color="#E5E5E5"> to</font>

446
00:20:06,620 --> 00:20:11,928
see what website linked into the market

447
00:20:08,720 --> 00:20:14,360
to your application but we don't<font color="#CCCCCC"> have to</font>

448
00:20:11,929 --> 00:20:17,029
use the Google Analytics receiver here

449
00:20:14,360 --> 00:20:19,939
we can<font color="#CCCCCC"> just write our own receiver and</font>

450
00:20:17,029 --> 00:20:21,890
have<font color="#E5E5E5"> this exact same intent filter and</font>

451
00:20:19,940 --> 00:20:24,080
we'll be able to<font color="#E5E5E5"> start</font><font color="#CCCCCC"> as soon as an</font>

452
00:20:21,890 --> 00:20:26,690
application<font color="#CCCCCC"> is installed but</font><font color="#E5E5E5"> there are</font>

453
00:20:24,080 --> 00:20:30,320
some caveats here namely that you have

454
00:20:26,690 --> 00:20:33,470
to have a<font color="#CCCCCC"> referral with the width of</font>

455
00:20:30,320 --> 00:20:35,240
downloads so if there was if you<font color="#E5E5E5"> were</font>

456
00:20:33,470 --> 00:20:37,010
<font color="#CCCCCC">just browsing through the market and you</font>

457
00:20:35,240 --> 00:20:39,409
clicked<font color="#E5E5E5"> on an app to install it this</font>

458
00:20:37,010 --> 00:20:41,390
wouldn't necessarily work it would<font color="#E5E5E5"> work</font>

459
00:20:39,409 --> 00:20:43,309
if you clicked on<font color="#E5E5E5"> an AdMob link or web</font>

460
00:20:41,390 --> 00:20:47,090
link with any sort<font color="#E5E5E5"> of refer information</font>

461
00:20:43,309 --> 00:20:49,129
attached to it however in<font color="#CCCCCC"> android 22</font>

462
00:20:47,090 --> 00:20:52,570
they<font color="#E5E5E5"> actually added a new feature</font><font color="#CCCCCC"> that</font>

463
00:20:49,130 --> 00:20:54,009
always<font color="#E5E5E5"> includes a refer that tells you</font>

464
00:20:52,570 --> 00:20:55,450
<font color="#E5E5E5">in this case it tells</font><font color="#CCCCCC"> me that I</font>

465
00:20:54,009 --> 00:20:58,389
<font color="#E5E5E5">downloaded this app from the games</font>

466
00:20:55,450 --> 00:21:01,000
category in the free section and<font color="#E5E5E5"> it was</font>

467
00:20:58,389 --> 00:21:03,580
the 34th item on the list<font color="#E5E5E5"> so as of</font>

468
00:21:01,000 --> 00:21:07,029
<font color="#E5E5E5">Android 22 you can expect this to work</font>

469
00:21:03,580 --> 00:21:10,779
on every<font color="#CCCCCC"> single every single download</font><font color="#E5E5E5"> of</font>

470
00:21:07,029 --> 00:21:12,940
your of your<font color="#E5E5E5"> application so the next</font>

471
00:21:10,779 --> 00:21:15,909
thing that I want<font color="#E5E5E5"> to talk</font><font color="#CCCCCC"> about is what</font>

472
00:21:12,940 --> 00:21:18,639
<font color="#CCCCCC">we call this circle</font><font color="#E5E5E5"> of death and this is</font>

473
00:21:15,909 --> 00:21:21,789
<font color="#CCCCCC">basically a hostile takeover of the UO</font>

474
00:21:18,639 --> 00:21:23,258
of the UI without requesting any

475
00:21:21,789 --> 00:21:24,970
permission so this is something<font color="#CCCCCC"> that</font>

476
00:21:23,259 --> 00:21:26,740
once again any app on your phone can do

477
00:21:24,970 --> 00:21:30,490
this any app that you download solitaire

478
00:21:26,740 --> 00:21:32,259
tic-tac-toe<font color="#E5E5E5"> etc what you do is you just</font>

479
00:21:30,490 --> 00:21:34,450
launched an activity that consumes all

480
00:21:32,259 --> 00:21:36,909
key presses so<font color="#CCCCCC"> here we've just</font>

481
00:21:34,450 --> 00:21:38,799
<font color="#CCCCCC">overwritten</font><font color="#E5E5E5"> the on key down event and</font>

482
00:21:36,909 --> 00:21:40,419
just return true which says oh we

483
00:21:38,799 --> 00:21:43,750
handled<font color="#CCCCCC"> that key press don't pass it on</font>

484
00:21:40,419 --> 00:21:45,580
to anyone else and there's there's a

485
00:21:43,750 --> 00:21:49,210
caveat there though that you can't

486
00:21:45,580 --> 00:21:50,678
actually swallow the the home button so

487
00:21:49,210 --> 00:21:52,269
the home button would still allow

488
00:21:50,679 --> 00:21:55,509
someone to get back to the home screen

489
00:21:52,269 --> 00:21:58,330
so what you<font color="#E5E5E5"> need to do there is just</font>

490
00:21:55,509 --> 00:22:00,759
relaunch your activity when it exits of

491
00:21:58,330 --> 00:22:03,730
course android doesn't<font color="#E5E5E5"> make it that easy</font>

492
00:22:00,759 --> 00:22:05,769
you can't just as your app is exiting

493
00:22:03,730 --> 00:22:07,809
<font color="#CCCCCC">launch the intent to start your app</font>

494
00:22:05,769 --> 00:22:10,090
again they do detect that kind of

495
00:22:07,809 --> 00:22:13,480
behavior and stop it so that's where the

496
00:22:10,090 --> 00:22:15,699
circle<font color="#E5E5E5"> of death comes into play so when</font>

497
00:22:13,480 --> 00:22:18,639
the<font color="#E5E5E5"> activity is destroyed all you have</font>

498
00:22:15,700 --> 00:22:20,710
to do is launch a service and so here we

499
00:22:18,639 --> 00:22:22,240
launched a restart service in our

500
00:22:20,710 --> 00:22:26,470
malicious activity when it's destroyed

501
00:22:22,240 --> 00:22:28,179
and<font color="#E5E5E5"> all that service does is relaunch</font>

502
00:22:26,470 --> 00:22:30,070
the original activity so it's just<font color="#E5E5E5"> a</font>

503
00:22:28,179 --> 00:22:31,570
cycle and then as soon<font color="#E5E5E5"> as that app dies</font>

504
00:22:30,070 --> 00:22:34,210
again the service would start again

505
00:22:31,570 --> 00:22:35,678
<font color="#E5E5E5">launch the activity again and you</font>

506
00:22:34,210 --> 00:22:39,970
wouldn't<font color="#E5E5E5"> be able to escape from this</font>

507
00:22:35,679 --> 00:22:43,149
without say restarting your phone or you

508
00:22:39,970 --> 00:22:46,120
can actually reboot into safe mode which

509
00:22:43,149 --> 00:22:48,250
makes it so no non-system apps are

510
00:22:46,120 --> 00:22:50,379
running on your phone and then<font color="#CCCCCC"> you could</font>

511
00:22:48,250 --> 00:22:54,940
find the malicious app and uninstall it

512
00:22:50,379 --> 00:22:59,529
<font color="#CCCCCC">and if you want some bonus points you</font>

513
00:22:54,940 --> 00:23:02,009
<font color="#CCCCCC">can do something</font><font color="#E5E5E5"> fun like play a nice</font>

514
00:22:59,529 --> 00:23:02,009
sound

515
00:23:02,200 --> 00:23:09,580
so here i have an example of an

516
00:23:07,000 --> 00:23:12,340
application that would just completely

517
00:23:09,580 --> 00:23:17,860
take over the UI and you could pay five

518
00:23:12,340 --> 00:23:19,659
dollars on paypal to to unlock<font color="#CCCCCC"> it you</font>

519
00:23:17,860 --> 00:23:23,830
could donate someone if<font color="#E5E5E5"> i hit any</font>

520
00:23:19,660 --> 00:23:27,790
buttons here nothing works and so<font color="#E5E5E5"> i'm</font>

521
00:23:23,830 --> 00:23:29,889
just<font color="#E5E5E5"> going to pop out the battery once</font>

522
00:23:27,790 --> 00:23:32,920
again<font color="#CCCCCC"> that's something any app can do no</font>

523
00:23:29,890 --> 00:23:35,350
permissions requested so the last thing

524
00:23:32,920 --> 00:23:37,240
<font color="#CCCCCC">i want to talk</font><font color="#E5E5E5"> about is exfiltration can</font>

525
00:23:35,350 --> 00:23:39,070
can an app that is not requesting the

526
00:23:37,240 --> 00:23:43,330
<font color="#E5E5E5">internet permission access</font><font color="#CCCCCC"> the internet</font>

527
00:23:39,070 --> 00:23:45,429
so if an app doesn't request internet

528
00:23:43,330 --> 00:23:47,320
someone might be more<font color="#CCCCCC"> willing</font><font color="#E5E5E5"> to trust</font>

529
00:23:45,430 --> 00:23:48,670
it with other permissions maybe<font color="#CCCCCC"> I'm not</font>

530
00:23:47,320 --> 00:23:50,620
worried about an app that can read my

531
00:23:48,670 --> 00:23:52,990
contact data as long as I know it<font color="#E5E5E5"> can't</font>

532
00:23:50,620 --> 00:23:54,669
send<font color="#E5E5E5"> it off to a server and I would be</font>

533
00:23:52,990 --> 00:23:57,550
willing to install<font color="#CCCCCC"> that app on my phone</font>

534
00:23:54,670 --> 00:23:59,380
if I<font color="#E5E5E5"> don't see this permission but if I</font>

535
00:23:57,550 --> 00:24:02,290
see both<font color="#CCCCCC"> of those i can assume they</font>

536
00:23:59,380 --> 00:24:03,970
might be stealing my contacts so your

537
00:24:02,290 --> 00:24:05,230
apps sandbox can't access the internet

538
00:24:03,970 --> 00:24:08,290
but that doesn't mean that<font color="#E5E5E5"> it can't</font>

539
00:24:05,230 --> 00:24:11,230
communicate with other apps so an app

540
00:24:08,290 --> 00:24:12,730
can simply ask its neighbor which with

541
00:24:11,230 --> 00:24:14,890
their activity will run in their own

542
00:24:12,730 --> 00:24:17,890
sandbox so the simplest way to do this

543
00:24:14,890 --> 00:24:21,010
would be to<font color="#E5E5E5"> just pop open a browser so</font>

544
00:24:17,890 --> 00:24:24,130
we can<font color="#E5E5E5"> just pop open a browser and</font>

545
00:24:21,010 --> 00:24:26,620
pointed at at a URL<font color="#E5E5E5"> that can contain</font>

546
00:24:24,130 --> 00:24:28,780
some information about say the<font color="#CCCCCC"> user's</font>

547
00:24:26,620 --> 00:24:32,199
latitude and longitude and sense that

548
00:24:28,780 --> 00:24:34,149
off to a server however<font color="#E5E5E5"> that does</font>

549
00:24:32,200 --> 00:24:36,520
actually pop open a browser you can't

550
00:24:34,150 --> 00:24:38,050
pop an activity to the<font color="#E5E5E5"> bottom of the</font>

551
00:24:36,520 --> 00:24:40,210
stack or anything like that it forces

552
00:24:38,050 --> 00:24:42,399
when any time you start<font color="#E5E5E5"> a new activity</font>

553
00:24:40,210 --> 00:24:45,010
it's on the top<font color="#CCCCCC"> of the stack so the user</font>

554
00:24:42,400 --> 00:24:46,840
would see this and that would kind of

555
00:24:45,010 --> 00:24:47,770
give away what you were doing but at

556
00:24:46,840 --> 00:24:52,030
least you would<font color="#E5E5E5"> have gotten a message</font>

557
00:24:47,770 --> 00:24:53,800
sent out to your server however I'm

558
00:24:52,030 --> 00:24:56,379
willing to bet that we can actually do

559
00:24:53,800 --> 00:24:58,720
<font color="#CCCCCC">this secretly so of course the easiest</font>

560
00:24:56,380 --> 00:25:00,790
thing<font color="#E5E5E5"> to try would be to just obscure</font>

561
00:24:58,720 --> 00:25:02,380
the browser create another<font color="#E5E5E5"> activity</font>

562
00:25:00,790 --> 00:25:04,960
right on top of it right after<font color="#E5E5E5"> you</font>

563
00:25:02,380 --> 00:25:07,180
<font color="#E5E5E5">create it and hope that that the user</font>

564
00:25:04,960 --> 00:25:08,980
doesn't see anything unfortunately this

565
00:25:07,180 --> 00:25:12,400
actually does stop the page from loading

566
00:25:08,980 --> 00:25:15,460
so

567
00:25:12,400 --> 00:25:17,380
let's<font color="#E5E5E5"> try something else let's try only</font>

568
00:25:15,460 --> 00:25:20,470
popping open the browser if<font color="#E5E5E5"> this screen</font>

569
00:25:17,380 --> 00:25:22,180
<font color="#E5E5E5">is off so we can</font><font color="#CCCCCC"> actually detect their</font>

570
00:25:20,470 --> 00:25:24,880
API so tell if the screen is<font color="#CCCCCC"> on or off</font>

571
00:25:22,180 --> 00:25:26,230
and we could<font color="#E5E5E5"> only do this while the</font>

572
00:25:24,880 --> 00:25:28,900
phone was in the<font color="#CCCCCC"> users pocket for</font>

573
00:25:26,230 --> 00:25:30,610
example so all we<font color="#CCCCCC"> need to do is make</font>

574
00:25:28,900 --> 00:25:34,930
sure<font color="#CCCCCC"> that when the screen turns</font><font color="#E5E5E5"> back on</font>

575
00:25:30,610 --> 00:25:38,110
we close the browser and it would also

576
00:25:34,930 --> 00:25:40,540
be useful to redirect to a safe looking

577
00:25:38,110 --> 00:25:42,100
URL so if the user pops open their

578
00:25:40,540 --> 00:25:46,480
browser later they're not like on some

579
00:25:42,100 --> 00:25:47,679
weird suspicious page or if you want<font color="#E5E5E5"> to</font>

580
00:25:46,480 --> 00:25:49,960
do even better<font color="#E5E5E5"> than that you could try</font>

581
00:25:47,680 --> 00:25:52,150
<font color="#E5E5E5">to read the page that the user was on</font>

582
00:25:49,960 --> 00:25:54,640
recently from the from the<font color="#E5E5E5"> logs which</font>

583
00:25:52,150 --> 00:25:59,320
Tim will<font color="#CCCCCC"> be discussing in</font><font color="#E5E5E5"> detail later</font>

584
00:25:54,640 --> 00:26:00,730
<font color="#E5E5E5">so here's the basic code for what you</font>

585
00:25:59,320 --> 00:26:04,330
would do you just ask the power manager

586
00:26:00,730 --> 00:26:07,540
is a screen<font color="#CCCCCC"> on if if the screen is on</font><font color="#E5E5E5"> or</font>

587
00:26:04,330 --> 00:26:10,840
if the screen is<font color="#CCCCCC"> not on then you would</font>

588
00:26:07,540 --> 00:26:13,870
pop open a browser and if the screen was

589
00:26:10,840 --> 00:26:15,730
off you would<font color="#E5E5E5"> ant and a browser was</font>

590
00:26:13,870 --> 00:26:18,669
displayed in that<font color="#CCCCCC"> case you would just</font>

591
00:26:15,730 --> 00:26:20,110
launched the home the home intent which

592
00:26:18,670 --> 00:26:22,630
is the equipment pushing the home button

593
00:26:20,110 --> 00:26:26,229
hides the browser yeah and<font color="#E5E5E5"> you don't see</font>

594
00:26:22,630 --> 00:26:27,340
it anymore all that<font color="#CCCCCC"> 0 permissions if you</font>

595
00:26:26,230 --> 00:26:28,990
wanted to kill the browser you would

596
00:26:27,340 --> 00:26:30,429
actually it would require<font color="#E5E5E5"> permission to</font>

597
00:26:28,990 --> 00:26:32,140
kill another task and<font color="#CCCCCC"> that might look</font>

598
00:26:30,430 --> 00:26:35,710
suspicious but this<font color="#E5E5E5"> is a way you can do</font>

599
00:26:32,140 --> 00:26:37,300
<font color="#CCCCCC">all this with zero permissions so that</font>

600
00:26:35,710 --> 00:26:39,010
gives us one way<font color="#E5E5E5"> communication but what</font>

601
00:26:37,300 --> 00:26:40,810
about two-way communication can we also

602
00:26:39,010 --> 00:26:46,660
receive a message back<font color="#CCCCCC"> from the server</font>

603
00:26:40,810 --> 00:26:48,460
and yes of course we can so a way to do

604
00:26:46,660 --> 00:26:51,280
this would be to<font color="#E5E5E5"> just pop pop the</font>

605
00:26:48,460 --> 00:26:54,070
browser open to say a zip file anything

606
00:26:51,280 --> 00:26:56,230
with a downloadable content type and the

607
00:26:54,070 --> 00:26:58,360
the browser will<font color="#E5E5E5"> automatically save it</font>

608
00:26:56,230 --> 00:27:00,610
to the<font color="#CCCCCC"> SD card in the</font><font color="#E5E5E5"> Downloads</font>

609
00:26:58,360 --> 00:27:02,229
directory and anyone can read<font color="#E5E5E5"> that you</font>

610
00:27:00,610 --> 00:27:06,100
don't need<font color="#E5E5E5"> any permissions to read any</font>

611
00:27:02,230 --> 00:27:08,530
file off of the SD<font color="#CCCCCC"> card however there</font>

612
00:27:06,100 --> 00:27:11,139
are some downsides to this so it

613
00:27:08,530 --> 00:27:14,800
actually builds up a notification every

614
00:27:11,140 --> 00:27:16,270
time you download a file this way and so

615
00:27:14,800 --> 00:27:18,070
you can<font color="#E5E5E5"> see it would just create</font>

616
00:27:16,270 --> 00:27:20,650
hundreds and hundreds of notifications

617
00:27:18,070 --> 00:27:22,480
for the user<font color="#E5E5E5"> and they would probably</font>

618
00:27:20,650 --> 00:27:25,240
suspect that something was up but you

619
00:27:22,480 --> 00:27:27,700
would<font color="#CCCCCC"> have succeeded in your goal of</font>

620
00:27:25,240 --> 00:27:29,560
two-way communication if you want to

621
00:27:27,700 --> 00:27:31,780
clean up the<font color="#CCCCCC"> filesystem</font><font color="#E5E5E5"> afterwards you</font>

622
00:27:29,560 --> 00:27:34,629
would need the right external storage

623
00:27:31,780 --> 00:27:36,460
permission however<font color="#E5E5E5"> I will point out that</font>

624
00:27:34,630 --> 00:27:39,430
this permission is actually

625
00:27:36,460 --> 00:27:41,800
automatically requested for every app

626
00:27:39,430 --> 00:27:45,760
that that wants to support<font color="#CCCCCC"> Android 15</font>

627
00:27:41,800 --> 00:27:51,280
therefore people are very used to seeing

628
00:27:45,760 --> 00:27:53,530
this permission so how about we<font color="#E5E5E5"> try</font>

629
00:27:51,280 --> 00:27:57,700
something<font color="#CCCCCC"> else how about a a custom</font><font color="#E5E5E5"> URI</font>

630
00:27:53,530 --> 00:27:59,740
so we can register or Google Maps

631
00:27:57,700 --> 00:28:02,170
registers for the protocol geo like

632
00:27:59,740 --> 00:28:04,210
<font color="#CCCCCC">callin latitude longitude and when and</font>

633
00:28:02,170 --> 00:28:06,550
when you click on a link of that format

634
00:28:04,210 --> 00:28:10,210
it automatically pops up<font color="#CCCCCC"> the</font><font color="#E5E5E5"> Google Maps</font>

635
00:28:06,550 --> 00:28:13,060
application and go and shows you that

636
00:28:10,210 --> 00:28:15,250
location so<font color="#CCCCCC"> we can actually do the same</font>

637
00:28:13,060 --> 00:28:18,040
thing with our application we can

638
00:28:15,250 --> 00:28:21,430
request register ourselves for the net

639
00:28:18,040 --> 00:28:25,210
hack protocol and then the page on the

640
00:28:21,430 --> 00:28:29,470
server side can automatically redirect

641
00:28:25,210 --> 00:28:31,750
to a page like nethack call in data with

642
00:28:29,470 --> 00:28:35,530
some with some private information that

643
00:28:31,750 --> 00:28:38,140
would be<font color="#E5E5E5"> the response from the server so</font>

644
00:28:35,530 --> 00:28:41,200
here you<font color="#CCCCCC"> can see this is as statically</font>

645
00:28:38,140 --> 00:28:44,170
declared activity with an intent filter

646
00:28:41,200 --> 00:28:47,500
inside our<font color="#E5E5E5"> Android manifest we're</font>

647
00:28:44,170 --> 00:28:49,810
requesting the net hack scheme and<font color="#E5E5E5"> the</font>

648
00:28:47,500 --> 00:28:52,270
host is data which is<font color="#E5E5E5"> just what should</font>

649
00:28:49,810 --> 00:28:54,520
be the first<font color="#E5E5E5"> section of the like what's</font>

650
00:28:52,270 --> 00:28:56,050
the host of the of the URL so you can

651
00:28:54,520 --> 00:28:58,750
think<font color="#E5E5E5"> another example here would</font><font color="#CCCCCC"> be the</font>

652
00:28:56,050 --> 00:29:02,139
YouTube app would request would set the

653
00:28:58,750 --> 00:29:04,450
scheme to be HTTP and the host would be

654
00:29:02,140 --> 00:29:06,670
youtube com and that's why when you

655
00:29:04,450 --> 00:29:08,170
<font color="#E5E5E5">click on a link to a YouTube video it</font>

656
00:29:06,670 --> 00:29:12,040
opens in the YouTube app instead of in

657
00:29:08,170 --> 00:29:13,510
<font color="#CCCCCC">the web browser and note that this is</font>

658
00:29:12,040 --> 00:29:16,030
actually<font color="#E5E5E5"> an activity although we're</font>

659
00:29:13,510 --> 00:29:17,980
using it like a receiver so this would

660
00:29:16,030 --> 00:29:19,330
<font color="#CCCCCC">be something that</font><font color="#E5E5E5"> would happen we want</font>

661
00:29:17,980 --> 00:29:23,350
to happen completely in<font color="#E5E5E5"> the background</font>

662
00:29:19,330 --> 00:29:27,189
<font color="#E5E5E5">with no user interaction at all it but</font>

663
00:29:23,350 --> 00:29:28,810
the idea behind data intent filter is

664
00:29:27,190 --> 00:29:30,250
for something<font color="#E5E5E5"> that does involve user</font>

665
00:29:28,810 --> 00:29:32,320
interaction this is supposed to be<font color="#E5E5E5"> I</font>

666
00:29:30,250 --> 00:29:33,850
click on<font color="#CCCCCC"> a link in the browser I click</font>

667
00:29:32,320 --> 00:29:34,379
<font color="#E5E5E5">on a telephone number in the browser i</font>

668
00:29:33,850 --> 00:29:36,540
click on

669
00:29:34,380 --> 00:29:39,840
map location something like<font color="#CCCCCC"> that it's</font>

670
00:29:36,540 --> 00:29:41,399
supposed<font color="#CCCCCC"> to</font><font color="#E5E5E5"> pop up an activity so here's</font>

671
00:29:39,840 --> 00:29:44,040
the activity<font color="#CCCCCC"> that it would pop up in</font>

672
00:29:41,400 --> 00:29:49,800
this case after that page on the server

673
00:29:44,040 --> 00:29:52,139
redirects it would go<font color="#E5E5E5"> to it it would it</font>

674
00:29:49,800 --> 00:29:54,180
would launch this activity with an

675
00:29:52,140 --> 00:29:57,420
intent that contains the data that we

676
00:29:54,180 --> 00:30:01,620
set on the server so here we've set

677
00:29:57,420 --> 00:30:03,930
parameter in after we redirect and then

678
00:30:01,620 --> 00:30:05,909
we can just<font color="#E5E5E5"> log the intent and it has</font>

679
00:30:03,930 --> 00:30:10,260
the data<font color="#E5E5E5"> that we're looking</font><font color="#CCCCCC"> for in that</font>

680
00:30:05,910 --> 00:30:12,210
intent and we call finish in the

681
00:30:10,260 --> 00:30:14,310
oncreate event here and we never display

682
00:30:12,210 --> 00:30:17,370
any UI this happens instantaneously

683
00:30:14,310 --> 00:30:19,830
nothing is seen by the user when

684
00:30:17,370 --> 00:30:21,360
<font color="#E5E5E5">something like this happens again the</font>

685
00:30:19,830 --> 00:30:23,760
same caveat that<font color="#E5E5E5"> I pointed out before</font>

686
00:30:21,360 --> 00:30:26,040
you probably want<font color="#CCCCCC"> to send the user off</font>

687
00:30:23,760 --> 00:30:29,430
to another page so when they open their

688
00:30:26,040 --> 00:30:32,700
browser they don't see anything funky so

689
00:30:29,430 --> 00:30:35,700
now what I<font color="#E5E5E5"> would like</font><font color="#CCCCCC"> to show you is it</font>

690
00:30:32,700 --> 00:30:39,930
working in action so there's two things

691
00:30:35,700 --> 00:30:43,530
on the top here this is my apache server

692
00:30:39,930 --> 00:30:47,160
logs so we<font color="#E5E5E5"> can see the last the</font><font color="#CCCCCC"> last</font>

693
00:30:43,530 --> 00:30:49,410
thing was about an hour ago the last hit

694
00:30:47,160 --> 00:30:52,830
that we got on the server and at the

695
00:30:49,410 --> 00:30:55,200
<font color="#CCCCCC">bottom here is the I is actually the</font>

696
00:30:52,830 --> 00:30:57,210
logcat output on this phone here so you

697
00:30:55,200 --> 00:31:00,270
can<font color="#CCCCCC"> see the</font><font color="#E5E5E5"> screen is on and if I turn</font>

698
00:30:57,210 --> 00:31:02,100
the screen off after about<font color="#E5E5E5"> five seconds</font>

699
00:31:00,270 --> 00:31:04,740
we said should see so it's starting an

700
00:31:02,100 --> 00:31:12,209
activity here we can see that and then

701
00:31:04,740 --> 00:31:15,930
up here we<font color="#CCCCCC"> should see hopefully yes</font>

702
00:31:12,210 --> 00:31:17,670
there we go so here<font color="#E5E5E5"> we have every five</font>

703
00:31:15,930 --> 00:31:20,820
seconds it's going to paying back and

704
00:31:17,670 --> 00:31:23,640
forth between between the device and the

705
00:31:20,820 --> 00:31:25,530
server and can send any information back

706
00:31:23,640 --> 00:31:27,900
and forth along with this this is an app

707
00:31:25,530 --> 00:31:31,200
that's requesting no permissions if I

708
00:31:27,900 --> 00:31:32,490
turn the screen on you don't see

709
00:31:31,200 --> 00:31:34,530
anything on<font color="#CCCCCC"> the screen it's still just</font>

710
00:31:32,490 --> 00:31:37,770
the home screen stop sending data

711
00:31:34,530 --> 00:31:40,160
immediately and then turn the screen

712
00:31:37,770 --> 00:31:40,160
back off

713
00:31:41,320 --> 00:31:50,470
and starting the intent down here and

714
00:31:47,470 --> 00:31:52,059
<font color="#CCCCCC">there we go the</font><font color="#E5E5E5"> Apache locks thank you</font>

715
00:31:50,470 --> 00:32:00,100
thank you everybody next<font color="#E5E5E5"> door</font><font color="#CCCCCC"> for</font>

716
00:31:52,059 --> 00:32:01,360
cheering<font color="#E5E5E5"> for me yes so now</font><font color="#CCCCCC"> that I've</font>

717
00:32:00,100 --> 00:32:04,449
showed you all the cool things you can

718
00:32:01,360 --> 00:32:06,729
do with zero permissions tim is<font color="#E5E5E5"> going to</font>

719
00:32:04,450 --> 00:32:12,100
show you a bunch of awesome stuff you

720
00:32:06,730 --> 00:32:15,340
can do with only one permission so

721
00:32:12,100 --> 00:32:18,340
here's a<font color="#E5E5E5"> pretty typical example of how a</font>

722
00:32:15,340 --> 00:32:21,220
typical application actually<font color="#E5E5E5"> you know</font>

723
00:32:18,340 --> 00:32:24,699
would write debug data to to the system

724
00:32:21,220 --> 00:32:30,250
logs we import the<font color="#E5E5E5"> Android you to log</font>

725
00:32:24,700 --> 00:32:31,990
class we declare a tag that<font color="#CCCCCC"> will prefix</font>

726
00:32:30,250 --> 00:32:34,629
the log entries when they go into the

727
00:32:31,990 --> 00:32:37,269
system debug log and we<font color="#E5E5E5"> use a relatively</font>

728
00:32:34,629 --> 00:32:39,519
simple API to to leave traces there

729
00:32:37,269 --> 00:32:40,960
you'll see lots of<font color="#E5E5E5"> examples of these and</font>

730
00:32:39,519 --> 00:32:46,240
and have a use of<font color="#E5E5E5"> it and a lot of code</font>

731
00:32:40,960 --> 00:32:48,039
so on the<font color="#E5E5E5"> Android image there are well</font>

732
00:32:46,240 --> 00:32:50,230
up until two dot one there are three

733
00:32:48,039 --> 00:32:52,779
three different log devices that are

734
00:32:50,230 --> 00:32:55,779
actually<font color="#CCCCCC"> available as of froyo we've</font>

735
00:32:52,779 --> 00:32:57,250
seen the appearance of a fourth log it's

736
00:32:55,779 --> 00:33:02,590
not entirely clear<font color="#E5E5E5"> what the split is</font>

737
00:32:57,250 --> 00:33:05,350
there yet but but it is available<font color="#E5E5E5"> dev</font>

738
00:33:02,590 --> 00:33:08,110
vlog events is described in the

739
00:33:05,350 --> 00:33:11,080
reference documentation as not the main

740
00:33:08,110 --> 00:33:12,908
log cats debugging facility these are

741
00:33:11,080 --> 00:33:14,710
diagnostic events for system integration

742
00:33:12,909 --> 00:33:16,750
and our system integrators and not

743
00:33:14,710 --> 00:33:18,340
application authors for the most<font color="#E5E5E5"> part</font>

744
00:33:16,750 --> 00:33:20,289
there's nothing interesting there but

745
00:33:18,340 --> 00:33:24,129
we'll see something developers should be

746
00:33:20,289 --> 00:33:27,399
aware of in a minute dev vlog radio

747
00:33:24,129 --> 00:33:31,449
contains the the log output stream for

748
00:33:27,399 --> 00:33:34,360
the for the system radio typically this

749
00:33:31,450 --> 00:33:36,250
includes<font color="#E5E5E5"> a lot of</font><font color="#CCCCCC"> a lot of command</font>

750
00:33:34,360 --> 00:33:37,719
<font color="#E5E5E5">stream gibberish that most people don't</font>

751
00:33:36,250 --> 00:33:39,159
want you paying attention<font color="#E5E5E5"> to you but</font>

752
00:33:37,720 --> 00:33:41,110
there there there<font color="#E5E5E5"> are some interesting</font>

753
00:33:39,159 --> 00:33:45,730
events that pop up in there as well<font color="#E5E5E5"> and</font>

754
00:33:41,110 --> 00:33:47,830
then dev logmein is actually as I said

755
00:33:45,730 --> 00:33:49,750
it's the mid the main application log

756
00:33:47,830 --> 00:33:51,970
when your typical market downloaded

757
00:33:49,750 --> 00:33:52,750
application uses the log facility this

758
00:33:51,970 --> 00:33:57,250
<font color="#E5E5E5">is actually where</font>

759
00:33:52,750 --> 00:34:00,070
where the output ends up so the logcat

760
00:33:57,250 --> 00:34:03,160
utility can be used<font color="#E5E5E5"> to look at these at</font>

761
00:34:00,070 --> 00:34:05,439
these logs you know typically a phone

762
00:34:03,160 --> 00:34:08,379
that's in that's got debugging enabled

763
00:34:05,440 --> 00:34:13,030
you'll just use use adb to look at<font color="#E5E5E5"> that</font>

764
00:34:08,379 --> 00:34:16,810
when when you're when you're working<font color="#E5E5E5"> on</font>

765
00:34:13,030 --> 00:34:20,740
<font color="#CCCCCC">your app now ability to</font><font color="#E5E5E5"> read logs is</font>

766
00:34:16,810 --> 00:34:24,429
gated by the by<font color="#E5E5E5"> the read logs permission</font>

767
00:34:20,739 --> 00:34:25,989
so this is this is<font color="#CCCCCC"> not as fun as some</font>

768
00:34:24,429 --> 00:34:28,030
<font color="#E5E5E5">zero permission stuff that David was</font>

769
00:34:25,989 --> 00:34:30,819
talking about but<font color="#E5E5E5"> it's still kind of</font>

770
00:34:28,030 --> 00:34:32,830
interesting the in the case of a phone

771
00:34:30,820 --> 00:34:36,190
that's in debug mode the the shell

772
00:34:32,830 --> 00:34:38,350
account is granted permission so that

773
00:34:36,190 --> 00:34:41,350
you can invoke<font color="#CCCCCC"> lock at over 80 be and</font>

774
00:34:38,350 --> 00:34:44,679
you can kind<font color="#E5E5E5"> of look at read logs as a</font>

775
00:34:41,350 --> 00:34:47,860
permission which in some sense to to<font color="#E5E5E5"> a</font>

776
00:34:44,679 --> 00:34:49,810
you know uneducated user seems like a

777
00:34:47,860 --> 00:34:51,040
relatively harmless thing to request

778
00:34:49,810 --> 00:34:54,009
access to you but<font color="#CCCCCC"> it</font><font color="#E5E5E5"> can actually be</font>

779
00:34:51,040 --> 00:34:56,620
built on there's advice in the in the

780
00:34:54,010 --> 00:35:00,340
permission documentation that you know

781
00:34:56,620 --> 00:35:02,109
logs may contain some some some private

782
00:35:00,340 --> 00:35:06,820
information but should<font color="#E5E5E5"> never contain</font>

783
00:35:02,110 --> 00:35:09,010
serious private user information so in

784
00:35:06,820 --> 00:35:11,050
order to explore some of<font color="#E5E5E5"> the things that</font>

785
00:35:09,010 --> 00:35:12,790
might be hanging around out there we<font color="#E5E5E5"> put</font>

786
00:35:11,050 --> 00:35:16,150
together a client it's a relatively

787
00:35:12,790 --> 00:35:19,240
<font color="#CCCCCC">simple Android service it asks for read</font>

788
00:35:16,150 --> 00:35:20,320
logs as implemented it does ask for

789
00:35:19,240 --> 00:35:22,419
internet all that you can<font color="#CCCCCC"> imagine</font>

790
00:35:20,320 --> 00:35:24,100
putting this together with with<font color="#CCCCCC"> the</font>

791
00:35:22,420 --> 00:35:27,190
knack approach that we can we can

792
00:35:24,100 --> 00:35:29,890
<font color="#E5E5E5">probably work around that it downloaded</font>

793
00:35:27,190 --> 00:35:31,960
some policies from the server and apply

794
00:35:29,890 --> 00:35:33,609
is essentially a set of reg access to

795
00:35:31,960 --> 00:35:38,800
the logs extract some stuffed and sends

796
00:35:33,610 --> 00:35:41,350
it back for analysis so high level we

797
00:35:38,800 --> 00:35:43,090
have<font color="#CCCCCC"> a logcat device which in this case</font>

798
00:35:41,350 --> 00:35:45,910
is just a relatively simple wrapper

799
00:35:43,090 --> 00:35:48,130
<font color="#E5E5E5">around the Wildcat utility invoked from</font>

800
00:35:45,910 --> 00:35:50,259
within an application we're<font color="#E5E5E5"> going to</font>

801
00:35:48,130 --> 00:35:50,910
<font color="#E5E5E5">open that device and we're going to set</font>

802
00:35:50,260 --> 00:35:56,789
up

803
00:35:50,910 --> 00:35:58,740
line oriented reader for it we have a

804
00:35:56,789 --> 00:36:01,500
log monitor which is actually

805
00:35:58,740 --> 00:36:03,390
<font color="#E5E5E5">responsible for kind of the primary you</font>

806
00:36:01,500 --> 00:36:06,900
know data processing<font color="#CCCCCC"> thread here</font><font color="#E5E5E5"> we'll</font>

807
00:36:03,390 --> 00:36:08,038
pull each log of line up put out we'll

808
00:36:06,900 --> 00:36:09,390
match it against a set of filter

809
00:36:08,039 --> 00:36:11,940
criteria that we've<font color="#E5E5E5"> established and</font>

810
00:36:09,390 --> 00:36:14,098
something looks interesting then we'll

811
00:36:11,940 --> 00:36:17,670
actually<font color="#E5E5E5"> track it for delivery to the</font>

812
00:36:14,099 --> 00:36:20,309
server component and this is written as

813
00:36:17,670 --> 00:36:23,880
a service the service fires up attaches

814
00:36:20,309 --> 00:36:25,980
attaches alike<font color="#E5E5E5"> hat devices to all of the</font>

815
00:36:23,880 --> 00:36:29,309
available logs on the device and

816
00:36:25,980 --> 00:36:31,140
requests starts sticky so that we

817
00:36:29,309 --> 00:36:32,910
actually run in the background so when

818
00:36:31,140 --> 00:36:34,770
the when the activity attached the

819
00:36:32,910 --> 00:36:38,368
service is not<font color="#CCCCCC"> available it'll still be</font>

820
00:36:34,770 --> 00:36:41,640
processing output so there's also a

821
00:36:38,369 --> 00:36:44,579
server component here it's a relatively

822
00:36:41,640 --> 00:36:47,609
straightforward set of rails components

823
00:36:44,579 --> 00:36:50,640
it's essentially responsible for<font color="#E5E5E5"> for</font>

824
00:36:47,609 --> 00:36:53,490
command and control policy delivery and

825
00:36:50,640 --> 00:36:55,589
processing the the data delivered by

826
00:36:53,490 --> 00:36:58,319
device so we're supplying per device

827
00:36:55,589 --> 00:37:02,190
policies<font color="#E5E5E5"> to devices connecting back</font>

828
00:36:58,319 --> 00:37:04,680
we're receiving<font color="#E5E5E5"> logs that meet those</font>

829
00:37:02,190 --> 00:37:07,559
policies the device actually delivers

830
00:37:04,680 --> 00:37:09,299
we've got an interface to explore the

831
00:37:07,559 --> 00:37:11,849
output go through and see what it<font color="#CCCCCC"> is</font>

832
00:37:09,299 --> 00:37:14,910
that<font color="#E5E5E5"> that was</font><font color="#CCCCCC"> actually sent out and some</font>

833
00:37:11,849 --> 00:37:17,190
facilities for post-processing specific

834
00:37:14,910 --> 00:37:21,569
specific log data that we're interested

835
00:37:17,190 --> 00:37:24,539
in a<font color="#E5E5E5"> little bit about the policies and</font>

836
00:37:21,569 --> 00:37:28,770
<font color="#CCCCCC">the approach that</font><font color="#E5E5E5"> we took here we start</font>

837
00:37:24,539 --> 00:37:30,930
<font color="#E5E5E5">out</font><font color="#CCCCCC"> with a</font><font color="#E5E5E5"> with a set</font><font color="#CCCCCC"> of in a random key</font>

838
00:37:28,770 --> 00:37:34,049
words<font color="#E5E5E5"> just a few</font><font color="#CCCCCC"> ideas about things that</font>

839
00:37:30,930 --> 00:37:35,910
<font color="#E5E5E5">might be going on in the system we threw</font>

840
00:37:34,049 --> 00:37:36,839
in there insert update delete you know

841
00:37:35,910 --> 00:37:38,879
these<font color="#E5E5E5"> are things that</font><font color="#CCCCCC"> are going to</font>

842
00:37:36,839 --> 00:37:41,700
appear in in sequel statements

843
00:37:38,880 --> 00:37:43,859
interacting with data providers we<font color="#CCCCCC"> threw</font>

844
00:37:41,700 --> 00:37:47,069
<font color="#CCCCCC">out intense in tents are obviously a</font>

845
00:37:43,859 --> 00:37:51,058
pretty core mechanism for for triggering

846
00:37:47,069 --> 00:37:53,579
interaction across applications and IPC

847
00:37:51,059 --> 00:37:55,500
content looking for anything that might

848
00:37:53,579 --> 00:37:57,390
be<font color="#E5E5E5"> related to content providers HTTP</font>

849
00:37:55,500 --> 00:37:58,400
looking for things protocols you can

850
00:37:57,390 --> 00:37:59,868
imagine you<font color="#E5E5E5"> know</font>

851
00:37:58,400 --> 00:38:03,319
a<font color="#E5E5E5"> number of things that</font><font color="#CCCCCC"> go on past there</font>

852
00:37:59,869 --> 00:38:05,750
we also picked a couple<font color="#E5E5E5"> of interesting</font>

853
00:38:03,319 --> 00:38:07,670
you know pieces of data to toss<font color="#CCCCCC"> around</font>

854
00:38:05,750 --> 00:38:10,520
there's a<font color="#CCCCCC"> keyword in</font><font color="#E5E5E5"> there for first</font>

855
00:38:07,670 --> 00:38:12,770
name for<font color="#CCCCCC"> a last name pre-picked phone</font>

856
00:38:10,520 --> 00:38:14,630
number things that that might get

857
00:38:12,770 --> 00:38:16,490
dropped into the UI that<font color="#E5E5E5"> we can flush</font>

858
00:38:14,630 --> 00:38:19,279
through services and see see where

859
00:38:16,490 --> 00:38:21,288
things come out set up a set of initial

860
00:38:19,279 --> 00:38:23,569
expressions started pushing data through

861
00:38:21,289 --> 00:38:25,760
various interfaces and looking for

862
00:38:23,569 --> 00:38:29,839
places that it came out<font color="#CCCCCC"> that that maybe</font>

863
00:38:25,760 --> 00:38:31,099
weren't anticipated so one of the first

864
00:38:29,839 --> 00:38:35,270
<font color="#CCCCCC">things that we noticed as I mentioned</font>

865
00:38:31,099 --> 00:38:36,710
<font color="#CCCCCC">before the well the the</font><font color="#E5E5E5"> in the event log</font>

866
00:38:35,270 --> 00:38:38,329
there's actually something that that

867
00:38:36,710 --> 00:38:42,589
pops up on Freya that we hadn't<font color="#E5E5E5"> seen</font>

868
00:38:38,329 --> 00:38:44,000
before this appears to to me to<font color="#CCCCCC"> actually</font>

869
00:38:42,589 --> 00:38:48,890
be old code that's<font color="#E5E5E5"> typically been</font>

870
00:38:44,000 --> 00:38:50,480
disabled but is is actually is actually

871
00:38:48,890 --> 00:38:53,180
enabled on for your images that have

872
00:38:50,480 --> 00:38:54,950
popped up and there's a hook in the

873
00:38:53,180 --> 00:38:57,140
sequel I'd database driver to actually

874
00:38:54,950 --> 00:38:59,779
sample sets of queries based on the

875
00:38:57,140 --> 00:39:02,000
runtime performance of those queries it

876
00:38:59,779 --> 00:39:03,440
only logs the first 64 characters of the

877
00:39:02,000 --> 00:39:05,359
query so you're<font color="#E5E5E5"> not going to you're not</font>

878
00:39:03,440 --> 00:39:06,470
going<font color="#E5E5E5"> to see the whole</font><font color="#CCCCCC"> thing in here but</font>

879
00:39:05,359 --> 00:39:09,348
it is<font color="#E5E5E5"> something the developers should</font>

880
00:39:06,470 --> 00:39:11,930
should be aware of if you're you know

881
00:39:09,349 --> 00:39:14,059
concatenated statements together and

882
00:39:11,930 --> 00:39:15,348
those statements contain data they could

883
00:39:14,059 --> 00:39:18,349
they could make their way to places that

884
00:39:15,349 --> 00:39:20,690
you didn't actually intend and have no

885
00:39:18,349 --> 00:39:23,329
control over similarly there seems to be

886
00:39:20,690 --> 00:39:26,029
a similar hook in there for for content

887
00:39:23,329 --> 00:39:29,270
providers and here's a case where you

888
00:39:26,029 --> 00:39:30,980
<font color="#CCCCCC">know we actually</font><font color="#E5E5E5"> see see a query that</font>

889
00:39:29,270 --> 00:39:32,720
was<font color="#E5E5E5"> triggered that includes phone number</font>

890
00:39:30,980 --> 00:39:34,190
data nothing earth-shattering here but

891
00:39:32,720 --> 00:39:39,500
it<font color="#E5E5E5"> is worth taking</font><font color="#CCCCCC"> note of and being</font>

892
00:39:34,190 --> 00:39:42,589
aware of as a developer so as I<font color="#CCCCCC"> said</font>

893
00:39:39,500 --> 00:39:44,299
before read logs can can end up being

894
00:39:42,589 --> 00:39:47,808
kind of<font color="#E5E5E5"> an alias for other permissions</font>

895
00:39:44,299 --> 00:39:49,970
that are declared on the system so there

896
00:39:47,809 --> 00:39:52,819
is<font color="#CCCCCC"> a get tasks permission that allows</font>

897
00:39:49,970 --> 00:39:55,160
you to query recently running tasks

898
00:39:52,819 --> 00:39:58,819
<font color="#E5E5E5">however as most of those things are</font>

899
00:39:55,160 --> 00:40:01,038
triggered by by intense we can<font color="#E5E5E5"> actually</font>

900
00:39:58,819 --> 00:40:02,808
see we can<font color="#CCCCCC"> actually scrape that out of</font>

901
00:40:01,039 --> 00:40:05,059
the logs and just keep our own<font color="#E5E5E5"> state</font>

902
00:40:02,809 --> 00:40:06,440
tracking there and you know keep our own

903
00:40:05,059 --> 00:40:09,260
<font color="#E5E5E5">table of what tasks have been running</font>

904
00:40:06,440 --> 00:40:11,630
there's a dump permission that's

905
00:40:09,260 --> 00:40:13,190
entirely clear what it gates<font color="#E5E5E5"> but we have</font>

906
00:40:11,630 --> 00:40:15,410
an idea and there are actually

907
00:40:13,190 --> 00:40:17,990
applications that are intentionally do

908
00:40:15,410 --> 00:40:20,420
they doing this if an application is

909
00:40:17,990 --> 00:40:21,859
terminated by the runtime than a lot of

910
00:40:20,420 --> 00:40:25,220
information about<font color="#E5E5E5"> that termination may</font>

911
00:40:21,860 --> 00:40:26,660
be logged to the system<font color="#CCCCCC"> ogg's and if you</font>

912
00:40:25,220 --> 00:40:27,859
have read blogs permission you can just

913
00:40:26,660 --> 00:40:29,330
scrape it<font color="#E5E5E5"> out of there instead</font><font color="#CCCCCC"> of</font>

914
00:40:27,860 --> 00:40:33,530
actually asking for the<font color="#CCCCCC"> dump permission</font>

915
00:40:29,330 --> 00:40:35,540
there is a permission that gates reading

916
00:40:33,530 --> 00:40:38,780
history bookmarks and this includes

917
00:40:35,540 --> 00:40:40,550
basically looking at URL history and

918
00:40:38,780 --> 00:40:45,050
looking at what's in the bookmark set

919
00:40:40,550 --> 00:40:47,270
this is uh this<font color="#E5E5E5"> is in some ways bad news</font>

920
00:40:45,050 --> 00:40:48,770
for for the net hack stuff that<font color="#E5E5E5"> David</font>

921
00:40:47,270 --> 00:40:51,770
was talking about because<font color="#CCCCCC"> it does mean</font>

922
00:40:48,770 --> 00:40:52,970
that there's a trail that you could

923
00:40:51,770 --> 00:40:55,190
<font color="#CCCCCC">actually see in the demo</font><font color="#E5E5E5"> that he was</font>

924
00:40:52,970 --> 00:40:58,759
<font color="#E5E5E5">doing of data</font><font color="#CCCCCC"> that's being sent</font><font color="#E5E5E5"> off</font>

925
00:40:55,190 --> 00:41:00,770
device but it is good news if if you

926
00:40:58,760 --> 00:41:02,720
have a<font color="#E5E5E5"> different goal and that's to to</font>

927
00:41:00,770 --> 00:41:05,300
snoop on the history<font color="#E5E5E5"> that's been going</font>

928
00:41:02,720 --> 00:41:06,980
on here we see at the<font color="#CCCCCC"> top here kind of a</font>

929
00:41:05,300 --> 00:41:10,310
core you know runtime intent logging

930
00:41:06,980 --> 00:41:13,100
that's disclosing some information about

931
00:41:10,310 --> 00:41:14,779
visited URLs browsers not terribly

932
00:41:13,100 --> 00:41:17,900
chatty about<font color="#CCCCCC"> that and in</font><font color="#E5E5E5"> another case</font>

933
00:41:14,780 --> 00:41:21,020
<font color="#E5E5E5">here a chatty or component that's only</font>

934
00:41:17,900 --> 00:41:25,520
on some system images that actually

935
00:41:21,020 --> 00:41:28,370
includes a full content of you know

936
00:41:25,520 --> 00:41:30,800
query string data that's attached to<font color="#E5E5E5"> two</font>

937
00:41:28,370 --> 00:41:32,779
activities push through the<font color="#E5E5E5"> browser so</font>

938
00:41:30,800 --> 00:41:34,250
you can<font color="#E5E5E5"> you can see here that you could</font>

939
00:41:32,780 --> 00:41:38,780
extract<font color="#E5E5E5"> something embarrassing from</font>

940
00:41:34,250 --> 00:41:43,400
somebody searches furthermore there are

941
00:41:38,780 --> 00:41:46,610
<font color="#E5E5E5">cases where we find that that read logs</font>

942
00:41:43,400 --> 00:41:48,200
is equivalent to having read SMS at this

943
00:41:46,610 --> 00:41:50,270
varies from system image system image

944
00:41:48,200 --> 00:41:51,529
but if the debug logs are turned up high

945
00:41:50,270 --> 00:41:54,650
enough then<font color="#CCCCCC"> you can actually see</font>

946
00:41:51,530 --> 00:41:59,060
components that will log the the

947
00:41:54,650 --> 00:42:00,890
recipient as well as the<font color="#E5E5E5"> content of SMS</font>

948
00:41:59,060 --> 00:42:04,700
that sent out and we've seen

949
00:42:00,890 --> 00:42:06,950
applications that that are that are you

950
00:42:04,700 --> 00:42:08,689
no authorized SMS receivers that are

951
00:42:06,950 --> 00:42:10,640
turning around and then actually

952
00:42:08,690 --> 00:42:17,210
<font color="#E5E5E5">throwing that cyst that that information</font>

953
00:42:10,640 --> 00:42:19,810
<font color="#CCCCCC">right into the logs so it also</font><font color="#E5E5E5"> turns out</font>

954
00:42:17,210 --> 00:42:23,050
that in the case of

955
00:42:19,810 --> 00:42:25,029
a<font color="#CCCCCC"> arents</font><font color="#E5E5E5"> application that read logs</font>

956
00:42:23,050 --> 00:42:27,610
could be equivalent to read<font color="#CCCCCC"> contents or</font>

957
00:42:25,030 --> 00:42:31,750
<font color="#E5E5E5">to read contacts we have an application</font>

958
00:42:27,610 --> 00:42:36,670
here that is logging the label and data

959
00:42:31,750 --> 00:42:38,650
content of its activity this happens to

960
00:42:36,670 --> 00:42:41,560
be a contact application you pull it up

961
00:42:38,650 --> 00:42:43,780
<font color="#E5E5E5">and you'll see all the content of the</font>

962
00:42:41,560 --> 00:42:45,250
contact data that's that's being

963
00:42:43,780 --> 00:42:50,740
displayed on the screen thrown right

964
00:42:45,250 --> 00:42:52,210
into the logs for a waiting observer one

965
00:42:50,740 --> 00:42:54,759
of the one of<font color="#E5E5E5"> the interesting things</font>

966
00:42:52,210 --> 00:42:56,860
<font color="#E5E5E5">that we found is that read blogs can</font>

967
00:42:54,760 --> 00:42:59,110
actually be equivalent to having access

968
00:42:56,860 --> 00:43:01,270
to course location there's an awful lot

969
00:42:59,110 --> 00:43:03,580
of<font color="#E5E5E5"> chatter that can show up from system</font>

970
00:43:01,270 --> 00:43:06,220
components in the<font color="#CCCCCC"> case of course</font>

971
00:43:03,580 --> 00:43:09,549
location we're talking<font color="#CCCCCC"> about</font><font color="#E5E5E5"> essentially</font>

972
00:43:06,220 --> 00:43:12,160
resolving location data for the tower

973
00:43:09,550 --> 00:43:14,140
<font color="#E5E5E5">that the device is connected to one</font><font color="#CCCCCC"> of</font>

974
00:43:12,160 --> 00:43:16,330
the first<font color="#CCCCCC"> things that we found that's</font>

975
00:43:14,140 --> 00:43:19,779
activated on a lot of handsets and has

976
00:43:16,330 --> 00:43:23,560
<font color="#E5E5E5">actually been fixed in 22 is law</font><font color="#CCCCCC"> is</font>

977
00:43:19,780 --> 00:43:25,300
logging the OAC and<font color="#E5E5E5"> cell ID of GSM</font>

978
00:43:23,560 --> 00:43:30,370
towers that the device is connected to

979
00:43:25,300 --> 00:43:32,290
we also see the the CDMA equivalent

980
00:43:30,370 --> 00:43:34,569
logging some latitude longitude

981
00:43:32,290 --> 00:43:39,100
approximation for the towers is

982
00:43:34,570 --> 00:43:40,630
connected to you we found a prominent

983
00:43:39,100 --> 00:43:41,950
clock in weather application that's

984
00:43:40,630 --> 00:43:44,950
running on the home screen of<font color="#CCCCCC"> a lot of</font>

985
00:43:41,950 --> 00:43:49,299
<font color="#E5E5E5">AB of a lot of devices that's that's</font>

986
00:43:44,950 --> 00:43:53,020
logging at our data<font color="#E5E5E5"> and we also found in</font>

987
00:43:49,300 --> 00:43:55,570
the radio<font color="#CCCCCC"> oggs that there's there's an</font>

988
00:43:53,020 --> 00:43:57,850
upper<font color="#E5E5E5"> third series of operation or upper</font>

989
00:43:55,570 --> 00:44:01,120
ater and tower registration events that

990
00:43:57,850 --> 00:44:04,120
log the<font color="#E5E5E5"> MCC in the M&C of the carrier</font>

991
00:44:01,120 --> 00:44:09,100
that<font color="#E5E5E5"> were connected to you and also hex</font>

992
00:44:04,120 --> 00:44:11,290
versions of the cell ad and la see now

993
00:44:09,100 --> 00:44:13,150
the cell<font color="#CCCCCC"> the cell</font><font color="#E5E5E5"> ID and LIC</font><font color="#CCCCCC"> II don't</font>

994
00:44:11,290 --> 00:44:14,860
necessarily translate directly but their

995
00:44:13,150 --> 00:44:18,430
databases out there that we can use to

996
00:44:14,860 --> 00:44:20,260
to resolve that to latitude and

997
00:44:18,430 --> 00:44:23,649
longitude of the tower that spice is

998
00:44:20,260 --> 00:44:25,390
talking to<font color="#CCCCCC"> so Erickson actually has</font><font color="#E5E5E5"> a</font>

999
00:44:23,650 --> 00:44:27,040
database<font color="#CCCCCC"> that can be queried remotely</font>

1000
00:44:25,390 --> 00:44:29,470
with HTTP

1001
00:44:27,040 --> 00:44:31,060
and we can take that<font color="#E5E5E5"> parameter data that</font>

1002
00:44:29,470 --> 00:44:34,029
we scraped out of the logs and we can

1003
00:44:31,060 --> 00:44:37,270
turn<font color="#CCCCCC"> that on on the server side or</font>

1004
00:44:34,030 --> 00:44:41,200
potentially device ID into you in to you

1005
00:44:37,270 --> 00:44:44,080
about eating lunch<font color="#CCCCCC"> too but we can</font>

1006
00:44:41,200 --> 00:44:45,580
actually<font color="#E5E5E5"> do better than that because as</font>

1007
00:44:44,080 --> 00:44:47,230
it turns out why settle for coarse

1008
00:44:45,580 --> 00:44:49,390
location because we can actually<font color="#E5E5E5"> get</font>

1009
00:44:47,230 --> 00:44:51,190
fine location and again these are things

1010
00:44:49,390 --> 00:44:53,290
that vary from handset to handset but

1011
00:44:51,190 --> 00:44:55,600
<font color="#CCCCCC">we've found a number of you</font><font color="#E5E5E5"> know trace</font>

1012
00:44:53,290 --> 00:44:58,690
pieces of data that<font color="#CCCCCC"> you can use here</font>

1013
00:44:55,600 --> 00:45:00,940
that<font color="#CCCCCC"> seem that same clock and weather</font>

1014
00:44:58,690 --> 00:45:04,630
widget that I was talking<font color="#CCCCCC"> about actually</font>

1015
00:45:00,940 --> 00:45:09,130
logs full on GPS data on a lot of

1016
00:45:04,630 --> 00:45:12,970
devices either there are implementations

1017
00:45:09,130 --> 00:45:14,440
of GPS location providers that are<font color="#E5E5E5"> that</font>

1018
00:45:12,970 --> 00:45:17,230
are spitting that data out and

1019
00:45:14,440 --> 00:45:19,840
furthermore the underlying native

1020
00:45:17,230 --> 00:45:23,530
libraries that the tie into the gps sets

1021
00:45:19,840 --> 00:45:25,660
are also disclosing that you know one

1022
00:45:23,530 --> 00:45:27,460
<font color="#CCCCCC">thing to note is that these are things</font>

1023
00:45:25,660 --> 00:45:30,640
that that typically only show up when

1024
00:45:27,460 --> 00:45:35,860
applications are actively talking to the

1025
00:45:30,640 --> 00:45:39,700
the<font color="#E5E5E5"> GPS set or at relatively coarse</font>

1026
00:45:35,860 --> 00:45:42,190
grained intervals so so you know what

1027
00:45:39,700 --> 00:45:45,700
good does that do well<font color="#CCCCCC"> I'll tell you a</font>

1028
00:45:42,190 --> 00:45:48,370
story and you can decide for yourself so

1029
00:45:45,700 --> 00:45:51,790
this<font color="#CCCCCC"> is a story about three guys who</font>

1030
00:45:48,370 --> 00:45:57,640
started<font color="#E5E5E5"> out at their office in South</font>

1031
00:45:51,790 --> 00:45:59,710
Market in San<font color="#CCCCCC"> Francisco they they had</font>

1032
00:45:57,640 --> 00:46:02,109
places to go so they left the office

1033
00:45:59,710 --> 00:46:07,450
they walked down to to the corner and

1034
00:46:02,110 --> 00:46:10,480
they hailed a cab they got<font color="#E5E5E5"> into the cab</font>

1035
00:46:07,450 --> 00:46:12,460
and started heading down 101<font color="#CCCCCC"> towards San</font>

1036
00:46:10,480 --> 00:46:14,440
Francisco<font color="#E5E5E5"> International Airport pretty</font>

1037
00:46:12,460 --> 00:46:17,350
chatty cab driver at some point one<font color="#E5E5E5"> of</font>

1038
00:46:14,440 --> 00:46:19,000
<font color="#E5E5E5">them</font><font color="#CCCCCC"> got bored pulled up pulled up</font>

1039
00:46:17,350 --> 00:46:22,839
google maps<font color="#E5E5E5"> to</font><font color="#CCCCCC"> see how far along they</font>

1040
00:46:19,000 --> 00:46:26,860
were and we got a location snapshot we

1041
00:46:22,840 --> 00:46:29,500
got another<font color="#CCCCCC"> one near the</font><font color="#E5E5E5"> airport we can</font>

1042
00:46:26,860 --> 00:46:31,780
see actually<font color="#CCCCCC"> you know going showing up</font>

1043
00:46:29,500 --> 00:46:34,630
at the terminal

1044
00:46:31,780 --> 00:46:41,110
these guys boarded a flight on virgin

1045
00:46:34,630 --> 00:46:43,840
america and they<font color="#E5E5E5"> headed to</font><font color="#CCCCCC"> vegas landed</font>

1046
00:46:41,110 --> 00:46:45,640
at<font color="#E5E5E5"> McCarran we have a check in here</font>

1047
00:46:43,840 --> 00:46:50,860
that's you know essentially at the gate

1048
00:46:45,640 --> 00:46:56,560
went down got some baggage headed across

1049
00:46:50,860 --> 00:46:57,640
town and came to Caesars Palace and here

1050
00:46:56,560 --> 00:46:59,230
you know we actually<font color="#CCCCCC"> see a lot of</font>

1051
00:46:57,640 --> 00:47:02,290
interesting activity which as it happens

1052
00:46:59,230 --> 00:47:05,680
corresponds pretty closely when when<font color="#E5E5E5"> you</font>

1053
00:47:02,290 --> 00:47:07,600
look at this to us checking in going up

1054
00:47:05,680 --> 00:47:10,210
to hit to hang out in<font color="#CCCCCC"> our room for a bit</font>

1055
00:47:07,600 --> 00:47:12,430
going down<font color="#E5E5E5"> to you register at the</font>

1056
00:47:10,210 --> 00:47:13,930
speaker's desk and then going back to

1057
00:47:12,430 --> 00:47:15,129
work<font color="#E5E5E5"> on our slides till four o'clock in</font>

1058
00:47:13,930 --> 00:47:19,480
the morning so we<font color="#CCCCCC"> could actually</font><font color="#E5E5E5"> do</font><font color="#CCCCCC"> this</font>

1059
00:47:15,130 --> 00:47:21,400
<font color="#E5E5E5">talk so now I'm going to turn it over to</font>

1060
00:47:19,480 --> 00:47:23,080
Anthony and he's going<font color="#E5E5E5"> to talk about</font>

1061
00:47:21,400 --> 00:47:29,050
something<font color="#E5E5E5"> near and dear to our hearts</font>

1062
00:47:23,080 --> 00:47:35,529
which is root access to devices thanks

1063
00:47:29,050 --> 00:47:39,190
Tim so as hackers we all want<font color="#E5E5E5"> to strive</font>

1064
00:47:35,530 --> 00:47:44,800
for root on systems and Android is no

1065
00:47:39,190 --> 00:47:47,620
different so we know that everyone hope

1066
00:47:44,800 --> 00:47:50,080
that these phones would be these amazing

1067
00:47:47,620 --> 00:47:51,549
utopian devices that are completely open

1068
00:47:50,080 --> 00:47:54,520
and anybody can do anything they want

1069
00:47:51,550 --> 00:47:57,250
but unfortunately<font color="#CCCCCC"> we know the</font><font color="#E5E5E5"> the</font>

1070
00:47:54,520 --> 00:47:59,080
reality is that<font color="#CCCCCC"> manufactures and</font>

1071
00:47:57,250 --> 00:48:02,140
carriers and are all shipping these

1072
00:47:59,080 --> 00:48:03,370
phones<font color="#E5E5E5"> lock down so that we can't do a</font>

1073
00:48:02,140 --> 00:48:07,299
lot of<font color="#CCCCCC"> these fun things that</font><font color="#E5E5E5"> we'd like</font>

1074
00:48:03,370 --> 00:48:10,150
to and all these<font color="#CCCCCC"> people that are buying</font>

1075
00:48:07,300 --> 00:48:13,420
these phones Android especially appeals

1076
00:48:10,150 --> 00:48:14,530
to a pretty nerdy demographic so this is

1077
00:48:13,420 --> 00:48:15,970
the kind of people who want to kind of

1078
00:48:14,530 --> 00:48:18,340
get down into<font color="#E5E5E5"> the internals and play</font>

1079
00:48:15,970 --> 00:48:20,080
around<font color="#E5E5E5"> with their phone so</font><font color="#CCCCCC"> there are</font>

1080
00:48:18,340 --> 00:48:23,020
entire communities that are developing

1081
00:48:20,080 --> 00:48:25,779
around the<font color="#CCCCCC"> idea of being able to</font><font color="#E5E5E5"> root</font>

1082
00:48:23,020 --> 00:48:28,000
your phone so<font color="#CCCCCC"> that you can mod it put on</font>

1083
00:48:25,780 --> 00:48:30,160
custom images basically do whatever you

1084
00:48:28,000 --> 00:48:32,200
want with<font color="#CCCCCC"> it to the point where we have</font>

1085
00:48:30,160 --> 00:48:34,629
third-party roms that are available<font color="#E5E5E5"> for</font>

1086
00:48:32,200 --> 00:48:38,230
people to install and have a lot more

1087
00:48:34,630 --> 00:48:40,570
fun with their<font color="#E5E5E5"> phones so what are</font><font color="#CCCCCC"> some</font>

1088
00:48:38,230 --> 00:48:43,630
ways that people can go<font color="#E5E5E5"> about getting</font>

1089
00:48:40,570 --> 00:48:48,340
root on these phones we know the

1090
00:48:43,630 --> 00:48:50,530
androids running on a Linux kernel so we

1091
00:48:48,340 --> 00:48:51,790
can take a lot<font color="#E5E5E5"> of these Linux</font>

1092
00:48:50,530 --> 00:48:54,040
vulnerabilities that have been popping

1093
00:48:51,790 --> 00:48:56,770
up in recent<font color="#CCCCCC"> years and see if they work</font>

1094
00:48:54,040 --> 00:48:59,590
<font color="#CCCCCC">on the Android device I know there have</font>

1095
00:48:56,770 --> 00:49:01,780
<font color="#CCCCCC">been a few in the past that people have</font>

1096
00:48:59,590 --> 00:49:04,450
used to be able<font color="#E5E5E5"> to remove some</font><font color="#CCCCCC"> of their</font>

1097
00:49:01,780 --> 00:49:07,390
phones<font color="#E5E5E5"> and we can kind of just go</font>

1098
00:49:04,450 --> 00:49:09,430
through a lot<font color="#CCCCCC"> of old databases of</font>

1099
00:49:07,390 --> 00:49:10,900
vulnerabilities and kind<font color="#E5E5E5"> of compare them</font>

1100
00:49:09,430 --> 00:49:12,279
to a lot<font color="#CCCCCC"> of</font><font color="#E5E5E5"> the major releases of</font>

1101
00:49:10,900 --> 00:49:15,130
<font color="#CCCCCC">Android and see if any of those would</font>

1102
00:49:12,280 --> 00:49:19,120
apply here we have all the different

1103
00:49:15,130 --> 00:49:21,550
kernel versions that each major release

1104
00:49:19,120 --> 00:49:25,990
is using with Gingerbread the future

1105
00:49:21,550 --> 00:49:28,810
ideally release in q4 this year that

1106
00:49:25,990 --> 00:49:30,459
will either be using 26 33 or 34

1107
00:49:28,810 --> 00:49:37,270
depending<font color="#CCCCCC"> on whatever they decide to use</font>

1108
00:49:30,460 --> 00:49:39,310
another way as we can leverage old

1109
00:49:37,270 --> 00:49:41,920
libraries that are shipping<font color="#CCCCCC"> on these</font>

1110
00:49:39,310 --> 00:49:46,150
systems so there's various imaging

1111
00:49:41,920 --> 00:49:48,130
libraries and some other stuff that<font color="#E5E5E5"> are</font>

1112
00:49:46,150 --> 00:49:51,700
<font color="#E5E5E5">going they're basically shipping out the</font>

1113
00:49:48,130 --> 00:49:53,230
door unpatched or very old versions you

1114
00:49:51,700 --> 00:49:55,689
can kind of follow some of<font color="#E5E5E5"> the full</font>

1115
00:49:53,230 --> 00:49:57,790
disclosure mailing lists and monitor

1116
00:49:55,690 --> 00:49:59,260
some of these libraries that we know are

1117
00:49:57,790 --> 00:50:03,310
shipping on these phones<font color="#E5E5E5"> and see if any</font>

1118
00:49:59,260 --> 00:50:06,220
new vulnerabilities pop up on these su

1119
00:50:03,310 --> 00:50:08,470
ID binaries are something that most

1120
00:50:06,220 --> 00:50:11,169
Linux systems are going to have these

1121
00:50:08,470 --> 00:50:13,600
have been leveraged in the past to be

1122
00:50:11,170 --> 00:50:17,080
able to i<font color="#CCCCCC"> believe the evo 4g was</font>

1123
00:50:13,600 --> 00:50:22,270
recently<font color="#E5E5E5"> rooted using vulnerable su ID</font>

1124
00:50:17,080 --> 00:50:23,590
binary so I mean typically anything that

1125
00:50:22,270 --> 00:50:25,750
people<font color="#E5E5E5"> have been doing</font><font color="#CCCCCC"> in the past to</font>

1126
00:50:23,590 --> 00:50:30,160
attack Linux are things that we<font color="#CCCCCC"> can do</font>

1127
00:50:25,750 --> 00:50:37,390
nowadays on Android so let's talk about

1128
00:50:30,160 --> 00:50:40,779
something specific here so<font color="#E5E5E5"> cve 2009 1185</font>

1129
00:50:37,390 --> 00:50:45,430
was a<font color="#E5E5E5"> libya dev vulnerability that was</font>

1130
00:50:40,780 --> 00:50:48,910
<font color="#CCCCCC">reported a long time ago was discovered</font>

1131
00:50:45,430 --> 00:50:50,750
by a sash<font color="#E5E5E5"> in compassion kumar and the</font>

1132
00:50:48,910 --> 00:50:54,410
original<font color="#E5E5E5"> patch to fix this</font>

1133
00:50:50,750 --> 00:50:57,650
was in<font color="#E5E5E5"> April of 2009 which is roughly 16</font>

1134
00:50:54,410 --> 00:50:59,810
months ago the vulnerability itself was

1135
00:50:57,650 --> 00:51:02,960
a failed check<font color="#E5E5E5"> in the net link message</font>

1136
00:50:59,810 --> 00:51:06,200
checking the origin of the message

1137
00:51:02,960 --> 00:51:08,210
basically did it come from the colonel

1138
00:51:06,200 --> 00:51:10,879
did it come from the user it didn't

1139
00:51:08,210 --> 00:51:14,540
actually care and we could use this to

1140
00:51:10,880 --> 00:51:19,130
in the end result get a privilege

1141
00:51:14,540 --> 00:51:22,790
escalation so we took this or<font color="#E5E5E5"> actually</font>

1142
00:51:19,130 --> 00:51:24,980
so recently Sebastian dredged up this

1143
00:51:22,790 --> 00:51:28,370
old vulnerability and wrote some code to

1144
00:51:24,980 --> 00:51:30,140
run on Android and so you can<font color="#E5E5E5"> use adb to</font>

1145
00:51:28,370 --> 00:51:31,970
upload<font color="#CCCCCC"> it and run it from the file</font>

1146
00:51:30,140 --> 00:51:34,009
system turns out<font color="#E5E5E5"> android</font><font color="#CCCCCC"> is vulnerable</font>

1147
00:51:31,970 --> 00:51:36,379
to it on the<font color="#E5E5E5"> one who tried it on the</font>

1148
00:51:34,010 --> 00:51:41,180
original release was for droid x i

1149
00:51:36,380 --> 00:51:45,020
believe so we took this and we repackage

1150
00:51:41,180 --> 00:51:47,450
this exploit up into some code that we

1151
00:51:45,020 --> 00:51:50,720
could trigger with J&I and package this

1152
00:51:47,450 --> 00:51:53,569
up into<font color="#E5E5E5"> an APK along with</font><font color="#CCCCCC"> the payload</font><font color="#E5E5E5"> of</font>

1153
00:51:50,720 --> 00:51:55,370
a connect back shell to basically be

1154
00:51:53,570 --> 00:51:57,260
able to install this on many different

1155
00:51:55,370 --> 00:52:00,350
phones and see who exactly<font color="#E5E5E5"> was</font>

1156
00:51:57,260 --> 00:52:04,820
vulnerable to this so what we found is

1157
00:52:00,350 --> 00:52:08,660
that every flagship phone of every major

1158
00:52:04,820 --> 00:52:12,170
US carrier to this day is vulnerable to

1159
00:52:08,660 --> 00:52:16,879
<font color="#E5E5E5">this specific exploit we installed this</font>

1160
00:52:12,170 --> 00:52:20,180
on the EVO<font color="#CCCCCC"> 4G droidx the incredible a</font>

1161
00:52:16,880 --> 00:52:23,750
lot<font color="#E5E5E5"> of these the new latest and greatest</font>

1162
00:52:20,180 --> 00:52:26,089
phones that everybody wants so at<font color="#E5E5E5"> this</font>

1163
00:52:23,750 --> 00:52:29,630
point we we<font color="#E5E5E5"> have an</font><font color="#CCCCCC"> apk that we can</font>

1164
00:52:26,090 --> 00:52:34,040
install if we leverage that with<font color="#CCCCCC"> david's</font>

1165
00:52:29,630 --> 00:52:40,880
launch on install we basically have a

1166
00:52:34,040 --> 00:52:45,950
one-shot<font color="#CCCCCC"> route for</font><font color="#E5E5E5"> all these phones oops</font>

1167
00:52:40,880 --> 00:52:48,339
so this<font color="#E5E5E5"> is kind of a problem going</font>

1168
00:52:45,950 --> 00:52:49,779
around these things

1169
00:52:48,339 --> 00:52:51,160
we know that<font color="#CCCCCC"> people want to have their</font>

1170
00:52:49,779 --> 00:52:53,619
phones rooted they want to be able<font color="#E5E5E5"> to</font>

1171
00:52:51,160 --> 00:52:56,379
play with them build to do a lot<font color="#CCCCCC"> of</font>

1172
00:52:53,619 --> 00:52:58,690
these modifications have fun so these

1173
00:52:56,380 --> 00:53:01,029
communities that are forming they're not

1174
00:52:58,690 --> 00:53:03,219
looking at<font color="#CCCCCC"> routing as a</font><font color="#E5E5E5"> security thing</font>

1175
00:53:01,029 --> 00:53:05,200
they're<font color="#CCCCCC"> looking at this as a way for</font>

1176
00:53:03,219 --> 00:53:09,160
them to accomplish these goals of

1177
00:53:05,200 --> 00:53:11,618
unlocking their phone and being able<font color="#E5E5E5"> to</font>

1178
00:53:09,160 --> 00:53:14,078
do a<font color="#CCCCCC"> lot</font><font color="#E5E5E5"> of these modifications what</font>

1179
00:53:11,619 --> 00:53:15,849
they're not<font color="#E5E5E5"> acknowledging is that all</font>

1180
00:53:14,079 --> 00:53:18,069
these ways that they're finding to root

1181
00:53:15,849 --> 00:53:19,390
these phones are security

1182
00:53:18,069 --> 00:53:21,369
vulnerabilities that people could be

1183
00:53:19,390 --> 00:53:25,868
leveraging that<font color="#E5E5E5"> don't have these</font>

1184
00:53:21,369 --> 00:53:28,180
altruistic intentions and<font color="#E5E5E5"> the other</font>

1185
00:53:25,869 --> 00:53:31,779
problem with this is that<font color="#E5E5E5"> because they</font>

1186
00:53:28,180 --> 00:53:33,729
want to<font color="#E5E5E5"> have these methods for routing</font>

1187
00:53:31,779 --> 00:53:36,670
remain and they don't want carriers or

1188
00:53:33,729 --> 00:53:38,259
manufacturers to patch these problems no

1189
00:53:36,670 --> 00:53:41,380
one<font color="#E5E5E5"> wants to talk</font><font color="#CCCCCC"> about the details of</font>

1190
00:53:38,259 --> 00:53:44,739
these exploits so we'll have<font color="#E5E5E5"> one person</font>

1191
00:53:41,380 --> 00:53:45,729
distributing a binary that says use this

1192
00:53:44,739 --> 00:53:47,680
to root your phone here's<font color="#CCCCCC"> the</font>

1193
00:53:45,729 --> 00:53:50,049
instructions<font color="#E5E5E5"> to install it but not</font>

1194
00:53:47,680 --> 00:53:52,328
actually disclosing any of the

1195
00:53:50,049 --> 00:53:56,140
information about what the problem is

1196
00:53:52,329 --> 00:53:58,210
<font color="#E5E5E5">and so this leaves basically the</font>

1197
00:53:56,140 --> 00:54:00,819
majority of people that aren't phone

1198
00:53:58,210 --> 00:54:03,519
nerds and want to<font color="#E5E5E5"> do this with gaping</font>

1199
00:54:00,819 --> 00:54:07,869
holes<font color="#E5E5E5"> in their phones that anyone could</font>

1200
00:54:03,519 --> 00:54:08,738
leverage if they<font color="#CCCCCC"> wanted to do that so</font>

1201
00:54:07,869 --> 00:54:11,019
we've<font color="#CCCCCC"> discussed</font><font color="#E5E5E5"> some of the reasons</font>

1202
00:54:08,739 --> 00:54:13,660
people<font color="#E5E5E5"> are wanting to root their phones</font>

1203
00:54:11,019 --> 00:54:17,229
so the modern phones we've discussed

1204
00:54:13,660 --> 00:54:19,839
another one of the problems is the

1205
00:54:17,229 --> 00:54:22,029
patching process is slow<font color="#E5E5E5"> Android is</font>

1206
00:54:19,839 --> 00:54:24,759
coming out with major releases

1207
00:54:22,029 --> 00:54:28,089
relatively fast compared<font color="#E5E5E5"> to other mobile</font>

1208
00:54:24,759 --> 00:54:30,099
phone platforms but the problem<font color="#CCCCCC"> is that</font>

1209
00:54:28,089 --> 00:54:31,569
<font color="#CCCCCC">a lot of these manufacturers and the</font>

1210
00:54:30,099 --> 00:54:34,239
carriers are doing a lot of their own

1211
00:54:31,569 --> 00:54:36,910
custom modifications to extend the

1212
00:54:34,239 --> 00:54:39,910
system and add a lot<font color="#CCCCCC"> more functionality</font>

1213
00:54:36,910 --> 00:54:41,859
on top of Android proper and it takes

1214
00:54:39,910 --> 00:54:43,719
them<font color="#E5E5E5"> a while to take all these changes</font>

1215
00:54:41,859 --> 00:54:47,078
<font color="#CCCCCC">and patch then up to the latest</font><font color="#E5E5E5"> version</font>

1216
00:54:43,719 --> 00:54:52,150
and so you have people<font color="#E5E5E5"> who end up buying</font>

1217
00:54:47,079 --> 00:54:54,460
a 16 bone and two months<font color="#E5E5E5"> later 20 or two</font>

1218
00:54:52,150 --> 00:54:56,979
dot one phones are available<font color="#CCCCCC"> and they</font>

1219
00:54:54,460 --> 00:55:00,000
<font color="#CCCCCC">don't see an update for over a year year</font>

1220
00:54:56,979 --> 00:55:02,279
<font color="#CCCCCC">and a half to be able</font><font color="#E5E5E5"> to use that</font>

1221
00:55:00,000 --> 00:55:05,730
so if they<font color="#CCCCCC"> route their phone they can</font>

1222
00:55:02,280 --> 00:55:08,520
install these custom images and be able

1223
00:55:05,730 --> 00:55:11,550
<font color="#E5E5E5">to have access to the latest releases</font>

1224
00:55:08,520 --> 00:55:14,700
also people<font color="#E5E5E5"> are going to do this just</font>

1225
00:55:11,550 --> 00:55:15,990
for features like tethering things that

1226
00:55:14,700 --> 00:55:18,569
they<font color="#E5E5E5"> want to be</font><font color="#CCCCCC"> able to do that maybe</font>

1227
00:55:15,990 --> 00:55:21,180
their carrier doesn't provide them or if

1228
00:55:18,570 --> 00:55:23,940
they want<font color="#E5E5E5"> to skirt around and do this</font>

1229
00:55:21,180 --> 00:55:29,490
without having to<font color="#CCCCCC"> pay that's another</font>

1230
00:55:23,940 --> 00:55:32,490
motivation so that's kind<font color="#E5E5E5"> of wraps up</font>

1231
00:55:29,490 --> 00:55:34,979
the problem with<font color="#E5E5E5"> all the routing the</font>

1232
00:55:32,490 --> 00:55:36,060
community surrounding that<font color="#E5E5E5"> and so let's</font>

1233
00:55:34,980 --> 00:55:39,360
talk<font color="#E5E5E5"> about some of the</font><font color="#CCCCCC"> things that</font>

1234
00:55:36,060 --> 00:55:40,320
everyone can do to kind of avoid a<font color="#E5E5E5"> lot</font>

1235
00:55:39,360 --> 00:55:44,970
<font color="#E5E5E5">of the problems that we've talked about</font>

1236
00:55:40,320 --> 00:55:46,680
today as a user we've kind of discussed

1237
00:55:44,970 --> 00:55:48,270
that a lack of permission does not

1238
00:55:46,680 --> 00:55:52,140
necessarily mean that the app can't do

1239
00:55:48,270 --> 00:55:53,910
that if you install a game that doesn't

1240
00:55:52,140 --> 00:55:55,859
<font color="#E5E5E5">say it's accessing content data and</font>

1241
00:55:53,910 --> 00:55:57,330
shipping that off to some server that

1242
00:55:55,860 --> 00:56:01,320
doesn't necessarily mean<font color="#E5E5E5"> that it's not</font>

1243
00:55:57,330 --> 00:56:02,880
doing that and you may see a lot of

1244
00:56:01,320 --> 00:56:04,140
<font color="#E5E5E5">people that are inadvertently doing this</font>

1245
00:56:02,880 --> 00:56:08,670
kind of thing not necessarily with

1246
00:56:04,140 --> 00:56:10,259
malicious intent and scrutinize the

1247
00:56:08,670 --> 00:56:13,200
permissions that your app is requesting

1248
00:56:10,260 --> 00:56:14,610
and that's pretty<font color="#E5E5E5"> obvious one but some</font>

1249
00:56:13,200 --> 00:56:16,379
of these at some of these permissions

1250
00:56:14,610 --> 00:56:19,110
are pretty benign and seem fairly

1251
00:56:16,380 --> 00:56:20,940
harmless but ask yourself like does my

1252
00:56:19,110 --> 00:56:24,180
permission really need to be able<font color="#E5E5E5"> to</font>

1253
00:56:20,940 --> 00:56:26,940
read logs most likely it doesn't also

1254
00:56:24,180 --> 00:56:29,940
system updates keep<font color="#E5E5E5"> your phone patched</font>

1255
00:56:26,940 --> 00:56:33,270
up<font color="#CCCCCC"> to date I mean if you are concerned</font>

1256
00:56:29,940 --> 00:56:35,610
about<font color="#E5E5E5"> if a rogue application does slip</font>

1257
00:56:33,270 --> 00:56:37,560
into the market someone being able to

1258
00:56:35,610 --> 00:56:39,750
root your phone and build<font color="#E5E5E5"> up a mobile</font>

1259
00:56:37,560 --> 00:56:42,450
botnet as other researchers have been

1260
00:56:39,750 --> 00:56:44,130
demonstrating in<font color="#E5E5E5"> the past hopefully</font>

1261
00:56:42,450 --> 00:56:50,279
they'll stay on top of this with patches

1262
00:56:44,130 --> 00:56:52,110
developers these users when you're

1263
00:56:50,280 --> 00:56:53,520
requesting these permissions to access a

1264
00:56:52,110 --> 00:56:56,160
lot of the private data they're

1265
00:56:53,520 --> 00:56:58,530
essentially trusting you with that so

1266
00:56:56,160 --> 00:57:00,140
<font color="#E5E5E5">just be aware what you're doing with</font>

1267
00:56:58,530 --> 00:57:01,940
that

1268
00:57:00,140 --> 00:57:03,859
think about the things<font color="#E5E5E5"> that you're</font>

1269
00:57:01,940 --> 00:57:05,180
logging if you are logging laws stuff

1270
00:57:03,860 --> 00:57:10,400
for debugging it doesn't<font color="#CCCCCC"> necessarily</font>

1271
00:57:05,180 --> 00:57:12,410
need to<font color="#E5E5E5"> be there in production code so I</font>

1272
00:57:10,400 --> 00:57:14,570
mean some of<font color="#CCCCCC"> them you can do a lot of</font>

1273
00:57:12,410 --> 00:57:15,920
<font color="#E5E5E5">things that Tim talked about of seating</font>

1274
00:57:14,570 --> 00:57:18,890
in information and seeing where that

1275
00:57:15,920 --> 00:57:22,970
propagates out<font color="#E5E5E5"> to and see if you had</font>

1276
00:57:18,890 --> 00:57:24,740
anything<font color="#E5E5E5"> to do</font><font color="#CCCCCC"> with that also make use</font>

1277
00:57:22,970 --> 00:57:28,490
of the permissions in the in the<font color="#E5E5E5"> system</font>

1278
00:57:24,740 --> 00:57:32,270
if other applications don't have any

1279
00:57:28,490 --> 00:57:36,439
reason to be receiving<font color="#E5E5E5"> your intense or</font>

1280
00:57:32,270 --> 00:57:38,930
starting your activities in force of

1281
00:57:36,440 --> 00:57:42,080
permission so that they can't do<font color="#CCCCCC"> that</font>

1282
00:57:38,930 --> 00:57:45,529
also along the same lines with the

1283
00:57:42,080 --> 00:57:48,049
intent don't be sending a private data

1284
00:57:45,530 --> 00:57:49,370
that the user would care about across

1285
00:57:48,050 --> 00:57:50,960
these intense because all these are

1286
00:57:49,370 --> 00:57:54,650
<font color="#E5E5E5">being logged in the system anyone's</font>

1287
00:57:50,960 --> 00:57:57,380
going<font color="#E5E5E5"> to be able to see that the</font><font color="#CCCCCC"> oems</font>

1288
00:57:54,650 --> 00:57:59,630
you know a lot of the<font color="#E5E5E5"> same things that</font>

1289
00:57:57,380 --> 00:58:02,360
developers should be doing are the same

1290
00:57:59,630 --> 00:58:04,130
things OEM should be doing they kind of

1291
00:58:02,360 --> 00:58:06,290
should<font color="#E5E5E5"> be setting the bar for a lot</font><font color="#CCCCCC"> of</font>

1292
00:58:04,130 --> 00:58:08,360
<font color="#E5E5E5">these</font><font color="#CCCCCC"> things you know because as a</font>

1293
00:58:06,290 --> 00:58:12,560
developer why should you care about

1294
00:58:08,360 --> 00:58:17,600
leaking user data if the OEM is already

1295
00:58:12,560 --> 00:58:21,500
<font color="#CCCCCC">doing it before you</font><font color="#E5E5E5"> did also it would be</font>

1296
00:58:17,600 --> 00:58:25,100
nice to<font color="#CCCCCC"> see a better patching on some of</font>

1297
00:58:21,500 --> 00:58:27,830
these keeping up today<font color="#E5E5E5"> on a lot of these</font>

1298
00:58:25,100 --> 00:58:29,779
libraries making<font color="#CCCCCC"> sure that if you are</font>

1299
00:58:27,830 --> 00:58:31,610
using an old library make<font color="#CCCCCC"> sure you have</font>

1300
00:58:29,780 --> 00:58:33,440
a backported patch for that to avoid

1301
00:58:31,610 --> 00:58:38,000
some of<font color="#E5E5E5"> these problems same with the</font>

1302
00:58:33,440 --> 00:58:41,920
Colonel's so yeah data wraps everything

1303
00:58:38,000 --> 00:58:41,920
up so you guys have any<font color="#CCCCCC"> questions</font>

1304
00:58:50,550 --> 00:58:57,420
so he asked if most of the<font color="#E5E5E5"> things that</font>

1305
00:58:54,780 --> 00:58:59,850
he<font color="#E5E5E5"> was being that we saw being logged</font>

1306
00:58:57,420 --> 00:59:01,500
were off<font color="#CCCCCC"> of the stock HTC Sense UI</font>

1307
00:58:59,850 --> 00:59:04,620
because he noticed a lot of<font color="#CCCCCC"> the logging</font>

1308
00:59:01,500 --> 00:59:08,730
was from HTC stuff some of<font color="#E5E5E5"> that stuff is</font>

1309
00:59:04,620 --> 00:59:10,890
and like with the clock widget<font color="#E5E5E5"> it's</font>

1310
00:59:08,730 --> 00:59:12,180
things<font color="#CCCCCC"> that you can remove from the</font>

1311
00:59:10,890 --> 00:59:14,400
screen so that you're not going to be

1312
00:59:12,180 --> 00:59:16,859
<font color="#E5E5E5">running that anymore but not necessarily</font>

1313
00:59:14,400 --> 00:59:32,160
all that stuff is going<font color="#E5E5E5"> to matter if</font>

1314
00:59:16,860 --> 00:59:36,450
it's the HTC Sense UI not a dime there's

1315
00:59:32,160 --> 00:59:38,700
a nexus one in my<font color="#E5E5E5"> pocket</font><font color="#CCCCCC"> so how many</font>

1316
00:59:36,450 --> 00:59:40,290
<font color="#E5E5E5">devices would you say are starting to</font>

1317
00:59:38,700 --> 00:59:43,470
take<font color="#CCCCCC"> advantage of secure boot reloading</font>

1318
00:59:40,290 --> 00:59:46,920
capabilities I'm sorry but that secure

1319
00:59:43,470 --> 00:59:49,709
boot loading a lot of debauch<font color="#CCCCCC"> uppal of</font>

1320
00:59:46,920 --> 00:59:51,180
devices have skirts secure boot loaders

1321
00:59:49,710 --> 00:59:54,060
that prevent you from loading on<font color="#CCCCCC"> rob's</font>

1322
00:59:51,180 --> 00:59:57,359
secure boot l'indépendance you might

1323
00:59:54,060 --> 00:59:59,730
yeah so actually there there are<font color="#E5E5E5"> devices</font>

1324
00:59:57,360 --> 01:00:01,920
out there that are taking<font color="#CCCCCC"> advantage of</font>

1325
00:59:59,730 --> 01:00:04,290
secure boot letters and that's actually

1326
01:00:01,920 --> 01:00:06,300
you know it's<font color="#CCCCCC"> actually it's actually one</font>

1327
01:00:04,290 --> 01:00:09,029
of<font color="#E5E5E5"> the interesting things that I've seen</font>

1328
01:00:06,300 --> 01:00:13,740
<font color="#E5E5E5">I</font><font color="#CCCCCC"> think the</font><font color="#E5E5E5"> the modding community is</font>

1329
01:00:09,030 --> 01:00:16,440
seeing you<font color="#CCCCCC"> know seeing gaining root</font>

1330
01:00:13,740 --> 01:00:19,080
privileges on devices as a means to try

1331
01:00:16,440 --> 01:00:21,960
to attack some of those facilities and

1332
01:00:19,080 --> 01:00:24,330
but but you know what we're<font color="#CCCCCC"> not</font>

1333
01:00:21,960 --> 01:00:25,980
discussing is that secure boot loaders

1334
01:00:24,330 --> 01:00:27,870
are kind<font color="#E5E5E5"> of irrelevant then you still</font>

1335
01:00:25,980 --> 01:00:29,490
have<font color="#CCCCCC"> a big security hole here where</font>

1336
01:00:27,870 --> 01:00:31,730
someone's attained root access on<font color="#CCCCCC"> the</font>

1337
01:00:29,490 --> 01:00:31,729
device

1338
01:00:33,100 --> 01:00:39,509
ok

1339
01:00:40,150 --> 01:00:44,559
that it on the on the basis that

1340
01:00:43,029 --> 01:00:48,549
androids effectively running a version

1341
01:00:44,559 --> 01:00:50,799
of Linux is his sons or anybody's

1342
01:00:48,549 --> 01:00:53,049
starting to track these vulnerabilities

1343
01:00:50,799 --> 01:00:55,359
oh and in terms of the fact that I can

1344
01:00:53,049 --> 01:00:57,069
go and go out<font color="#CCCCCC"> and I can see all the</font>

1345
01:00:55,359 --> 01:01:00,940
vulnerabilities in the normal linux

1346
01:00:57,069 --> 01:01:02,200
kernel listed<font color="#E5E5E5"> on these sites is anybody</font>

1347
01:01:00,940 --> 01:01:05,109
actually doing that<font color="#E5E5E5"> sort of thing</font>

1348
01:01:02,200 --> 01:01:07,509
tracking the vulnerabilities in<font color="#E5E5E5"> Linux</font>

1349
01:01:05,109 --> 01:01:08,799
kernel against<font color="#E5E5E5"> against the Android</font>

1350
01:01:07,510 --> 01:01:12,490
devices so we can<font color="#E5E5E5"> actually see</font>

1351
01:01:08,799 --> 01:01:14,589
vulnerable reports EV<font color="#CCCCCC"> okay okay so so he</font>

1352
01:01:12,490 --> 01:01:17,140
asked if anyone right now is currently

1353
01:01:14,589 --> 01:01:20,288
tracking linux vulnerabilities against

1354
01:01:17,140 --> 01:01:23,470
<font color="#CCCCCC">android devices not to my knowledge i</font>

1355
01:01:20,289 --> 01:01:27,490
don't<font color="#E5E5E5"> think there's any central place I</font>

1356
01:01:23,470 --> 01:01:29,348
imagine that Google is probably trying

1357
01:01:27,490 --> 01:01:31,779
to keep up on<font color="#E5E5E5"> these things and tracking</font>

1358
01:01:29,349 --> 01:01:34,270
that and a<font color="#E5E5E5"> lot of these handset</font>

1359
01:01:31,779 --> 01:01:36,970
manufacturers are trying to keep up on

1360
01:01:34,270 --> 01:01:39,099
top<font color="#CCCCCC"> of these things but yeah there's no</font>

1361
01:01:36,970 --> 01:01:42,848
like central location for that kind of

1362
01:01:39,099 --> 01:01:45,220
stuff hi there yep you showed the

1363
01:01:42,849 --> 01:01:48,430
beginning how the sort<font color="#E5E5E5"> of the normal</font>

1364
01:01:45,220 --> 01:01:50,770
application permissions<font color="#CCCCCC"> accept model is</font>

1365
01:01:48,430 --> 01:01:52,029
an all or nothing you know you if you

1366
01:01:50,770 --> 01:01:54,490
want to download and install<font color="#CCCCCC"> the app</font>

1367
01:01:52,029 --> 01:01:57,579
it's<font color="#E5E5E5"> okay these are the permissions are</font>

1368
01:01:54,490 --> 01:02:00,368
going to give the app right mmm<font color="#E5E5E5"> I found</font>

1369
01:01:57,579 --> 01:02:01,750
it frustrating when I want to<font color="#E5E5E5"> get a nap</font>

1370
01:02:00,369 --> 01:02:03,880
and then I look<font color="#E5E5E5"> at the permissions go</font>

1371
01:02:01,750 --> 01:02:06,250
I'm<font color="#E5E5E5"> not going to install this yeah yeah</font>

1372
01:02:03,880 --> 01:02:08,200
what's the what do<font color="#E5E5E5"> you foresee is the</font>

1373
01:02:06,250 --> 01:02:11,260
future of giving feedback to those

1374
01:02:08,200 --> 01:02:13,089
applications<font color="#E5E5E5"> and changing the dynamic a</font>

1375
01:02:11,260 --> 01:02:16,180
little bit so that we can say<font color="#E5E5E5"> no you</font>

1376
01:02:13,089 --> 01:02:20,109
can't<font color="#CCCCCC"> ask for</font><font color="#E5E5E5"> that so he's asking if</font>

1377
01:02:16,180 --> 01:02:23,440
permissions can so it's kind of a

1378
01:02:20,109 --> 01:02:25,150
one-shot all-or-nothing thing if what we

1379
01:02:23,440 --> 01:02:28,809
kind of see or where we see that going

1380
01:02:25,150 --> 01:02:31,569
as far as more fine-grained access so i

1381
01:02:28,809 --> 01:02:35,920
actually<font color="#CCCCCC"> just recently read a research</font>

1382
01:02:31,569 --> 01:02:37,480
paper of someone that<font color="#CCCCCC"> i can't remember</font>

1383
01:02:35,920 --> 01:02:38,680
what they call it like android

1384
01:02:37,480 --> 01:02:40,359
permission extension or something<font color="#CCCCCC"> like</font>

1385
01:02:38,680 --> 01:02:43,750
that but they<font color="#CCCCCC"> basically implemented what</font>

1386
01:02:40,359 --> 01:02:46,630
you're talking about of being<font color="#CCCCCC"> able to</font>

1387
01:02:43,750 --> 01:02:49,600
grant certain permissions like say there

1388
01:02:46,630 --> 01:02:51,220
they won't<font color="#CCCCCC"> allow it to do all the things</font>

1389
01:02:49,600 --> 01:02:53,529
<font color="#E5E5E5">that I want to do except access the</font>

1390
01:02:51,220 --> 01:02:57,370
internet and so they built this

1391
01:02:53,530 --> 01:02:58,960
extension in and personally I think that

1392
01:02:57,370 --> 01:03:02,650
would<font color="#CCCCCC"> be nice to see that</font><font color="#E5E5E5"> kind of</font>

1393
01:02:58,960 --> 01:03:06,490
functionality built in but i think<font color="#CCCCCC"> that</font>

1394
01:03:02,650 --> 01:03:08,170
they<font color="#E5E5E5"> probably also see that as degrading</font>

1395
01:03:06,490 --> 01:03:09,910
the user experience<font color="#E5E5E5"> because the</font>

1396
01:03:08,170 --> 01:03:12,280
application doesn't handle that properly

1397
01:03:09,910 --> 01:03:15,250
that it can't do one thing when it

1398
01:03:12,280 --> 01:03:17,350
thinks that it can that may<font color="#E5E5E5"> be something</font>

1399
01:03:15,250 --> 01:03:20,190
<font color="#E5E5E5">to consider but ideally</font><font color="#CCCCCC"> i would</font><font color="#E5E5E5"> like to</font>

1400
01:03:17,350 --> 01:03:20,190
see something<font color="#CCCCCC"> like that</font>

1401
01:03:26,860 --> 01:03:32,470
really simple<font color="#E5E5E5"> question where do you guys</font>

1402
01:03:29,500 --> 01:03:36,010
see Android security both this attacks

1403
01:03:32,470 --> 01:03:39,640
and as you know defensive applications

1404
01:03:36,010 --> 01:03:41,560
going<font color="#E5E5E5"> in the near future where do we see</font>

1405
01:03:39,640 --> 01:03:47,109
like android security and defensive

1406
01:03:41,560 --> 01:03:49,990
attacks going the future so I mean like

1407
01:03:47,110 --> 01:03:51,550
<font color="#E5E5E5">the mobile world is kind of heating up a</font>

1408
01:03:49,990 --> 01:03:56,020
bit it seems like it's becoming a

1409
01:03:51,550 --> 01:03:57,700
popular topic there are some attacks

1410
01:03:56,020 --> 01:04:02,320
that we're seeing the wild it's

1411
01:03:57,700 --> 01:04:04,270
obviously not widespread but as powerful

1412
01:04:02,320 --> 01:04:07,750
as a lot of<font color="#E5E5E5"> these our phones are</font>

1413
01:04:04,270 --> 01:04:09,400
<font color="#E5E5E5">becoming and the fact that you're</font>

1414
01:04:07,750 --> 01:04:11,020
<font color="#E5E5E5">essentially a dedicated internet</font>

1415
01:04:09,400 --> 01:04:14,230
connection with all of your personal

1416
01:04:11,020 --> 01:04:17,050
information I do kind<font color="#E5E5E5"> of see that stuff</font>

1417
01:04:14,230 --> 01:04:21,250
being more of a target for people that

1418
01:04:17,050 --> 01:04:23,530
<font color="#E5E5E5">can figure out ways to monetize that and</font>

1419
01:04:21,250 --> 01:04:24,820
the seems that a lot<font color="#CCCCCC"> of people are doing</font>

1420
01:04:23,530 --> 01:04:27,330
a lot more research<font color="#E5E5E5"> in this kind of</font>

1421
01:04:24,820 --> 01:04:27,330
thing as<font color="#CCCCCC"> well</font>

1422
01:04:37,770 --> 01:04:43,380
<font color="#E5E5E5">do you have to give examples of things</font>

1423
01:04:41,850 --> 01:04:45,810
that are outside<font color="#CCCCCC"> of</font><font color="#E5E5E5"> the application</font>

1424
01:04:43,380 --> 01:04:49,110
space as far as like the attacking a

1425
01:04:45,810 --> 01:04:50,310
browser so for the text messages<font color="#CCCCCC"> that</font>

1426
01:04:49,110 --> 01:04:54,150
may come in<font color="#E5E5E5"> or things of that nature</font>

1427
01:04:50,310 --> 01:04:57,660
like actual like proper attacks against

1428
01:04:54,150 --> 01:04:59,100
like a<font color="#E5E5E5"> specific</font><font color="#CCCCCC"> application we haven't</font>

1429
01:04:57,660 --> 01:05:00,779
<font color="#E5E5E5">really done any research into that kind</font>

1430
01:04:59,100 --> 01:05:02,460
of stuff<font color="#E5E5E5"> it's definitely something that</font>

1431
01:05:00,780 --> 01:05:05,160
we've all been talking<font color="#CCCCCC"> about looking</font>

1432
01:05:02,460 --> 01:05:06,660
<font color="#E5E5E5">into and seeing what kind of attacks we</font>

1433
01:05:05,160 --> 01:05:08,879
can do specifically against an

1434
01:05:06,660 --> 01:05:12,089
application and if we're able to do that

1435
01:05:08,880 --> 01:05:14,340
what can we do with what we gain from

1436
01:05:12,090 --> 01:05:17,360
<font color="#CCCCCC">that but no that's nothing we haven't</font>

1437
01:05:14,340 --> 01:05:17,360
actually<font color="#E5E5E5"> looked into</font><font color="#CCCCCC"> that kind of stuff</font>

1438
01:05:22,599 --> 01:05:30,509
<font color="#E5E5E5">okay if that's it then thank you guys</font>

1439
01:05:28,210 --> 01:05:30,509
for coming

