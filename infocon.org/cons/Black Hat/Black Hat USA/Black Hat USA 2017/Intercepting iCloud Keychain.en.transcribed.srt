1
00:00:00,000 --> 00:00:03,120
hi thanks<font color="#E5E5E5"> for being here today I really</font>

2
00:00:02,399 --> 00:00:04,560
appreciate it

3
00:00:03,120 --> 00:00:06,720
<font color="#E5E5E5">I'd like to start off thinking some my</font>

4
00:00:04,560 --> 00:00:09,510
colleagues that<font color="#E5E5E5"> long term for supporting</font>

5
00:00:06,720 --> 00:00:11,969
me<font color="#E5E5E5"> also some shoutouts to the</font><font color="#CCCCCC"> rpi</font><font color="#E5E5E5"> set</font>

6
00:00:09,510 --> 00:00:14,340
crew<font color="#CCCCCC"> I see them soon</font><font color="#E5E5E5"> over there thanks</font>

7
00:00:11,969 --> 00:00:19,948
for coming<font color="#CCCCCC"> and thanks to Apple</font><font color="#E5E5E5"> for</font>

8
00:00:14,340 --> 00:00:22,050
fixing<font color="#E5E5E5"> the bugs reported so my name is</font>

9
00:00:19,949 --> 00:00:24,630
<font color="#CCCCCC">Alex</font><font color="#E5E5E5"> or</font><font color="#CCCCCC"> dojo I've been working security</font>

10
00:00:22,050 --> 00:00:26,939
<font color="#CCCCCC">quite a while now and I really got</font>

11
00:00:24,630 --> 00:00:29,369
started<font color="#E5E5E5"> playing a lot of CTFs I'm a</font>

12
00:00:26,939 --> 00:00:31,830
<font color="#E5E5E5">recovering addict but the recovery isn't</font>

13
00:00:29,369 --> 00:00:33,750
going<font color="#CCCCCC"> so well since</font><font color="#E5E5E5"> we qualified again</font>

14
00:00:31,830 --> 00:00:37,019
this<font color="#E5E5E5"> year and unfortunately</font><font color="#CCCCCC"> I might play</font>

15
00:00:33,750 --> 00:00:39,210
<font color="#E5E5E5">a little bit</font><font color="#CCCCCC"> so please distract</font><font color="#E5E5E5"> me</font>

16
00:00:37,020 --> 00:00:43,440
<font color="#CCCCCC">you'll</font><font color="#E5E5E5"> be good for me get some sunshine</font>

17
00:00:39,210 --> 00:00:46,350
and I I really<font color="#E5E5E5"> enjoy CTF because you get</font>

18
00:00:43,440 --> 00:00:47,459
a<font color="#E5E5E5"> lot of hands-on experience</font><font color="#CCCCCC"> so it's you</font>

19
00:00:46,350 --> 00:00:48,930
know one<font color="#E5E5E5"> thing to learn about it in</font>

20
00:00:47,460 --> 00:00:50,489
<font color="#E5E5E5">class</font><font color="#CCCCCC"> but it's another thing to</font><font color="#E5E5E5"> go and</font>

21
00:00:48,930 --> 00:00:52,980
<font color="#CCCCCC">actually try to write an exploit</font><font color="#E5E5E5"> and</font>

22
00:00:50,489 --> 00:00:56,370
usually you learn a lot<font color="#CCCCCC"> just failing</font><font color="#E5E5E5"> and</font>

23
00:00:52,980 --> 00:00:57,629
making a lot<font color="#CCCCCC"> of</font><font color="#E5E5E5"> mistakes</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> another</font>

24
00:00:56,370 --> 00:00:58,890
<font color="#E5E5E5">thing that I love about blackhat is</font>

25
00:00:57,629 --> 00:01:03,149
we're here<font color="#CCCCCC"> to celebrate a lot of</font>

26
00:00:58,890 --> 00:01:04,650
mistakes<font color="#CCCCCC"> so defense is hard and if you</font>

27
00:01:03,149 --> 00:01:07,860
only<font color="#E5E5E5"> work in office sometimes you don't</font>

28
00:01:04,650 --> 00:01:10,619
see that but I<font color="#E5E5E5"> I do love a good bug and</font>

29
00:01:07,860 --> 00:01:13,380
that's what this talk<font color="#CCCCCC"> is about so what</font>

30
00:01:10,619 --> 00:01:16,400
is iCloud keychain<font color="#CCCCCC"> iCloud keychain is</font>

31
00:01:13,380 --> 00:01:18,509
secret syncing<font color="#E5E5E5"> and recovery in the cloud</font>

32
00:01:16,400 --> 00:01:21,479
<font color="#E5E5E5">that's kind of hard</font><font color="#CCCCCC"> to pull off</font><font color="#E5E5E5"> if you</font>

33
00:01:18,509 --> 00:01:24,240
think about<font color="#E5E5E5"> it because you're talking</font>

34
00:01:21,479 --> 00:01:26,700
about some<font color="#CCCCCC"> very sensitive material going</font>

35
00:01:24,240 --> 00:01:29,130
on servers that<font color="#CCCCCC"> are maybe not even in</font>

36
00:01:26,700 --> 00:01:30,600
<font color="#E5E5E5">control of your own company because when</font>

37
00:01:29,130 --> 00:01:32,520
you<font color="#E5E5E5"> talk</font><font color="#CCCCCC"> about</font><font color="#E5E5E5"> the cloud nowadays many</font>

38
00:01:30,600 --> 00:01:33,869
of the large companies<font color="#E5E5E5"> they want</font>

39
00:01:32,520 --> 00:01:36,630
redundancy<font color="#E5E5E5"> so they go to</font><font color="#CCCCCC"> different</font>

40
00:01:33,869 --> 00:01:39,299
providers so how do how do you exchange

41
00:01:36,630 --> 00:01:42,630
secrets on other people's machines<font color="#E5E5E5"> which</font>

42
00:01:39,299 --> 00:01:44,189
is what iCloud keychain is doing so I

43
00:01:42,630 --> 00:01:47,908
call keychain was designed to be highly

44
00:01:44,189 --> 00:01:50,429
<font color="#E5E5E5">secure very strong and</font><font color="#CCCCCC"> 10 cryptography</font>

45
00:01:47,909 --> 00:01:52,320
and we'll go more<font color="#E5E5E5"> into detail about what</font>

46
00:01:50,430 --> 00:01:54,659
that<font color="#E5E5E5"> means what</font><font color="#CCCCCC"> is m10</font><font color="#E5E5E5"> cryptography and</font>

47
00:01:52,320 --> 00:01:58,048
is it too strong nowadays according<font color="#E5E5E5"> to</font>

48
00:01:54,659 --> 00:02:00,180
some law<font color="#CCCCCC"> enforcement and it's designed</font>

49
00:01:58,049 --> 00:02:01,799
to<font color="#E5E5E5"> be resilient</font><font color="#CCCCCC"> even if our</font><font color="#E5E5E5"> server is</font>

50
00:02:00,180 --> 00:02:04,710
<font color="#E5E5E5">backdoored</font><font color="#CCCCCC"> or there's a rogue employee</font>

51
00:02:01,799 --> 00:02:07,469
or someone manages to break<font color="#E5E5E5"> in and it's</font>

52
00:02:04,710 --> 00:02:10,859
also resilient<font color="#E5E5E5"> when someone has their</font>

53
00:02:07,469 --> 00:02:12,569
<font color="#CCCCCC">iCloud password compromised</font><font color="#E5E5E5"> back in 2016</font>

54
00:02:10,860 --> 00:02:13,660
we saw<font color="#E5E5E5"> something like 300 million</font>

55
00:02:12,569 --> 00:02:16,299
credentials get

56
00:02:13,660 --> 00:02:19,060
and all the hacks were in in 2016

57
00:02:16,300 --> 00:02:22,210
they're happening<font color="#E5E5E5"> in like</font><font color="#CCCCCC"> 2012-2013</font><font color="#E5E5E5"> with</font>

58
00:02:19,060 --> 00:02:23,440
like linkedin myspace<font color="#CCCCCC"> tumblr and 2016</font>

59
00:02:22,210 --> 00:02:24,970
they surfaced to the public so the

60
00:02:23,440 --> 00:02:26,829
average<font color="#E5E5E5"> teenager</font><font color="#CCCCCC"> all of a</font><font color="#E5E5E5"> sudden had</font>

61
00:02:24,970 --> 00:02:29,190
access to 300 million<font color="#E5E5E5"> passwords some of</font>

62
00:02:26,830 --> 00:02:31,450
which would presumably<font color="#E5E5E5"> work with</font><font color="#CCCCCC"> iCloud</font>

63
00:02:29,190 --> 00:02:33,540
but keychain was designed to be strong

64
00:02:31,450 --> 00:02:36,220
<font color="#E5E5E5">even if someone has your iCloud password</font>

65
00:02:33,540 --> 00:02:38,410
<font color="#CCCCCC">because you need an additional device</font><font color="#E5E5E5"> or</font>

66
00:02:36,220 --> 00:02:41,710
an additional password besides that to

67
00:02:38,410 --> 00:02:43,109
<font color="#E5E5E5">actually get in and we found some bugs</font>

68
00:02:41,710 --> 00:02:46,060
that<font color="#E5E5E5"> were</font><font color="#CCCCCC"> gonna</font><font color="#E5E5E5"> celebrate here today</font>

69
00:02:43,110 --> 00:02:48,820
<font color="#CCCCCC">there are now fixed and</font><font color="#E5E5E5"> we're gonna talk</font>

70
00:02:46,060 --> 00:02:50,710
about keychain sync in detail there is<font color="#CCCCCC"> a</font>

71
00:02:48,820 --> 00:02:53,230
white paper<font color="#CCCCCC"> there's</font><font color="#E5E5E5"> a talk last year at</font>

72
00:02:50,710 --> 00:02:55,510
blackhat that covered some<font color="#CCCCCC"> of it</font><font color="#E5E5E5"> but the</font>

73
00:02:53,230 --> 00:02:57,280
<font color="#E5E5E5">details of the protocol even</font><font color="#CCCCCC"> though the</font>

74
00:02:55,510 --> 00:03:00,010
code<font color="#E5E5E5"> is open source are not really well</font>

75
00:02:57,280 --> 00:03:02,530
known so in this talk we talked a little

76
00:03:00,010 --> 00:03:04,810
bit about them<font color="#E5E5E5"> and tried to bring light</font>

77
00:03:02,530 --> 00:03:09,010
to how some of<font color="#E5E5E5"> the works to the best of</font>

78
00:03:04,810 --> 00:03:10,600
<font color="#E5E5E5">our abilities and this is not the first</font>

79
00:03:09,010 --> 00:03:13,810
presentation about iCloud keychain<font color="#E5E5E5"> there</font>

80
00:03:10,600 --> 00:03:16,720
have been some in the<font color="#E5E5E5"> past in 2014</font><font color="#CCCCCC"> andre</font>

81
00:03:13,810 --> 00:03:19,480
<font color="#E5E5E5">blanco focused on the recovery mechanism</font>

82
00:03:16,720 --> 00:03:22,480
for<font color="#E5E5E5"> a forensics company doing data</font>

83
00:03:19,480 --> 00:03:24,579
recovery<font color="#E5E5E5"> there's also talk last year</font><font color="#CCCCCC"> i'd</font>

84
00:03:22,480 --> 00:03:28,149
say it provides a<font color="#E5E5E5"> great overview of how</font>

85
00:03:24,580 --> 00:03:28,930
keychain<font color="#E5E5E5"> works and then earlier this</font>

86
00:03:28,150 --> 00:03:30,970
year

87
00:03:28,930 --> 00:03:32,530
elcome soft<font color="#E5E5E5"> also focusing on data</font>

88
00:03:30,970 --> 00:03:35,620
recovery<font color="#CCCCCC"> did their presentation</font><font color="#E5E5E5"> on</font>

89
00:03:32,530 --> 00:03:38,640
whether or not<font color="#CCCCCC"> to factor auth accounts</font>

90
00:03:35,620 --> 00:03:40,990
or secure<font color="#E5E5E5"> or not with iCloud keychain</font>

91
00:03:38,640 --> 00:03:44,079
<font color="#E5E5E5">and the security guide is a great</font>

92
00:03:40,990 --> 00:03:45,910
reference<font color="#E5E5E5"> as well</font><font color="#CCCCCC"> when looking at at</font>

93
00:03:44,080 --> 00:03:47,620
crypto bugs there's a quote<font color="#CCCCCC"> that always</font>

94
00:03:45,910 --> 00:03:49,299
inspires<font color="#CCCCCC"> me with a</font><font color="#E5E5E5"> nice picture of</font>

95
00:03:47,620 --> 00:03:51,160
Robert<font color="#E5E5E5"> Moore senior and his beard so</font>

96
00:03:49,300 --> 00:03:53,620
<font color="#E5E5E5">Robert</font><font color="#CCCCCC"> Morris senior is the father of</font>

97
00:03:51,160 --> 00:03:57,070
Robert<font color="#E5E5E5"> Morris</font><font color="#CCCCCC"> jr. who wrote the</font><font color="#E5E5E5"> Morris</font>

98
00:03:53,620 --> 00:03:59,320
<font color="#CCCCCC">warmth and he was a</font><font color="#E5E5E5"> Crypt analyst at one</font>

99
00:03:57,070 --> 00:04:00,760
point or another<font color="#E5E5E5"> and I don't know too</font>

100
00:03:59,320 --> 00:04:04,720
much<font color="#E5E5E5"> about all he did but I hear is</font>

101
00:04:00,760 --> 00:04:05,679
pretty good at it and he<font color="#CCCCCC"> says that you</font>

102
00:04:04,720 --> 00:04:08,350
know when you're when<font color="#CCCCCC"> you're talking</font>

103
00:04:05,680 --> 00:04:10,090
about<font color="#E5E5E5"> signals and information you should</font>

104
00:04:08,350 --> 00:04:11,890
<font color="#E5E5E5">really assume that your adversary will</font>

105
00:04:10,090 --> 00:04:14,710
not stop at any limits so<font color="#E5E5E5"> you should</font>

106
00:04:11,890 --> 00:04:16,450
really go all out and<font color="#E5E5E5"> defend defend</font>

107
00:04:14,710 --> 00:04:19,150
<font color="#E5E5E5">something against all feasible threats</font>

108
00:04:16,450 --> 00:04:20,260
on<font color="#CCCCCC"> you're building a system and when</font>

109
00:04:19,149 --> 00:04:22,359
you're talking<font color="#CCCCCC"> about end time crypto</font>

110
00:04:20,260 --> 00:04:23,740
you're kind of talking<font color="#E5E5E5"> about that sort</font>

111
00:04:22,360 --> 00:04:25,060
of<font color="#CCCCCC"> system where</font><font color="#E5E5E5"> you're really trying</font><font color="#CCCCCC"> to</font>

112
00:04:23,740 --> 00:04:25,919
<font color="#E5E5E5">defend against a lot of different</font>

113
00:04:25,060 --> 00:04:28,499
threats

114
00:04:25,919 --> 00:04:31,590
and<font color="#E5E5E5"> iCloud</font><font color="#CCCCCC"> Katrien</font><font color="#E5E5E5"> has two major</font>

115
00:04:28,499 --> 00:04:33,090
<font color="#E5E5E5">features associated</font><font color="#CCCCCC"> with it part of</font><font color="#E5E5E5"> it</font>

116
00:04:31,590 --> 00:04:36,568
<font color="#CCCCCC">is the recovery</font><font color="#E5E5E5"> so if you lose all of</font>

117
00:04:33,090 --> 00:04:38,060
your phones your tablet's<font color="#CCCCCC"> your computer</font>

118
00:04:36,569 --> 00:04:40,409
you can<font color="#CCCCCC"> still</font><font color="#E5E5E5"> get your iCloud keychain</font>

119
00:04:38,060 --> 00:04:42,120
<font color="#CCCCCC">data back so that's</font><font color="#E5E5E5"> what the recovery is</font>

120
00:04:40,409 --> 00:04:45,210
about<font color="#E5E5E5"> and then there's the syncing which</font>

121
00:04:42,120 --> 00:04:47,129
is keeping<font color="#E5E5E5"> all the secrets</font><font color="#CCCCCC"> synchronized</font>

122
00:04:45,210 --> 00:04:49,378
<font color="#CCCCCC">across all of your devices</font><font color="#E5E5E5"> so they're</font>

123
00:04:47,129 --> 00:04:51,150
available<font color="#CCCCCC"> so you can use</font><font color="#E5E5E5"> them painlessly</font>

124
00:04:49,379 --> 00:04:53,370
<font color="#E5E5E5">and then you can have better passwords</font>

125
00:04:51,150 --> 00:04:58,138
that<font color="#E5E5E5"> are more secure</font><font color="#CCCCCC"> without having</font><font color="#E5E5E5"> to</font>

126
00:04:53,370 --> 00:05:01,529
remember<font color="#E5E5E5"> them so the</font><font color="#CCCCCC"> recovery is based</font>

127
00:04:58,139 --> 00:05:04,680
on an<font color="#E5E5E5"> HSN escrow system</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> HSM is</font><font color="#CCCCCC"> there</font>

128
00:05:01,529 --> 00:05:08,069
to prevent brute-force attacks and kind

129
00:05:04,680 --> 00:05:11,340
of people accessing the data<font color="#CCCCCC"> too much</font>

130
00:05:08,069 --> 00:05:14,639
trying<font color="#E5E5E5"> to pull off different schemes</font>

131
00:05:11,340 --> 00:05:15,719
there's also SMS verification<font color="#E5E5E5"> it seems</font>

132
00:05:14,639 --> 00:05:18,000
there have been some<font color="#CCCCCC"> problems in general</font>

133
00:05:15,719 --> 00:05:19,800
<font color="#E5E5E5">with SMS now that two-factor is becoming</font>

134
00:05:18,000 --> 00:05:21,620
very<font color="#E5E5E5"> popular</font><font color="#CCCCCC"> attackers I've been looking</font>

135
00:05:19,800 --> 00:05:23,550
at some<font color="#CCCCCC"> mess but it's still a good</font>

136
00:05:21,620 --> 00:05:26,339
<font color="#E5E5E5">additional measure because</font><font color="#CCCCCC"> it increases</font>

137
00:05:23,550 --> 00:05:29,969
<font color="#E5E5E5">the</font><font color="#CCCCCC"> cost of an attack</font><font color="#E5E5E5"> and then in</font>

138
00:05:26,339 --> 00:05:31,500
<font color="#CCCCCC">addition to</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> ID password forgetting</font>

139
00:05:29,969 --> 00:05:32,909
<font color="#E5E5E5">- keychain sync there</font><font color="#CCCCCC"> there can be an</font>

140
00:05:31,500 --> 00:05:34,770
additional<font color="#E5E5E5"> password that's needed</font><font color="#CCCCCC"> for</font>

141
00:05:32,909 --> 00:05:36,330
recovery so when you<font color="#CCCCCC"> setup there's</font>

142
00:05:34,770 --> 00:05:37,889
<font color="#E5E5E5">something called an iCloud security code</font>

143
00:05:36,330 --> 00:05:39,740
that's separate from<font color="#E5E5E5"> your Apple ID and</font>

144
00:05:37,889 --> 00:05:42,300
separate<font color="#E5E5E5"> from your device passcode</font>

145
00:05:39,740 --> 00:05:43,770
<font color="#E5E5E5">however if you have to factor</font><font color="#CCCCCC"> off there</font>

146
00:05:42,300 --> 00:05:45,599
is a device passcode and<font color="#E5E5E5"> this is what</font>

147
00:05:43,770 --> 00:05:49,258
the<font color="#E5E5E5"> hell comes off talk back in the box</font>

148
00:05:45,599 --> 00:05:51,060
went into depth about and then you<font color="#E5E5E5"> think</font>

149
00:05:49,259 --> 00:05:52,500
<font color="#E5E5E5">okay well I have these additional</font>

150
00:05:51,060 --> 00:05:54,210
passwords<font color="#E5E5E5"> but I'm still sending them to</font>

151
00:05:52,500 --> 00:05:56,009
Apple right so how secure can that<font color="#CCCCCC"> be</font>

152
00:05:54,210 --> 00:05:59,669
well it's<font color="#CCCCCC"> actually</font><font color="#E5E5E5"> not so</font><font color="#CCCCCC"> bad because</font>

153
00:05:56,009 --> 00:06:02,699
<font color="#E5E5E5">you do something known as SRP which uses</font>

154
00:05:59,669 --> 00:06:03,839
some hashing and some exponentiation<font color="#CCCCCC"> so</font>

155
00:06:02,699 --> 00:06:06,330
that you don't actually reveal your

156
00:06:03,839 --> 00:06:08,370
password to those back-end services<font color="#E5E5E5"> you</font>

157
00:06:06,330 --> 00:06:09,990
kind<font color="#E5E5E5"> of do a proof of</font><font color="#CCCCCC"> work that you know</font>

158
00:06:08,370 --> 00:06:11,430
the<font color="#E5E5E5"> right password and then you'll get</font>

159
00:06:09,990 --> 00:06:14,189
access<font color="#E5E5E5"> to something</font><font color="#CCCCCC"> that you can be good</font>

160
00:06:11,430 --> 00:06:15,899
<font color="#E5E5E5">locally so it's pretty good recovery</font>

161
00:06:14,189 --> 00:06:17,189
those not<font color="#CCCCCC"> will we'll be focusing on</font>

162
00:06:15,899 --> 00:06:19,860
we're mostly<font color="#E5E5E5"> going to be focusing on the</font>

163
00:06:17,189 --> 00:06:23,460
syncing feature so syncing<font color="#E5E5E5"> all of your</font>

164
00:06:19,860 --> 00:06:25,199
secrets<font color="#CCCCCC"> to all your devices using the</font>

165
00:06:23,460 --> 00:06:27,930
cloud<font color="#CCCCCC"> also known as someone</font><font color="#E5E5E5"> else's</font>

166
00:06:25,199 --> 00:06:29,879
computer<font color="#CCCCCC"> and doing it with end-to-end</font>

167
00:06:27,930 --> 00:06:30,870
<font color="#E5E5E5">encryption so it doesn't matter whether</font>

168
00:06:29,879 --> 00:06:34,830
it's<font color="#E5E5E5"> China Telecom</font>

169
00:06:30,870 --> 00:06:37,110
<font color="#CCCCCC">or Amazon</font><font color="#E5E5E5"> or Google cloud or whoever is</font>

170
00:06:34,830 --> 00:06:37,960
<font color="#CCCCCC">hosting because</font><font color="#E5E5E5"> they're just serving as</font>

171
00:06:37,110 --> 00:06:39,610
<font color="#CCCCCC">a conduit</font>

172
00:06:37,960 --> 00:06:41,948
<font color="#E5E5E5">they shouldn't have they won't have</font>

173
00:06:39,610 --> 00:06:45,669
access<font color="#E5E5E5"> to that data</font><font color="#CCCCCC"> unless they have</font>

174
00:06:41,949 --> 00:06:48,759
access<font color="#CCCCCC"> to your</font><font color="#E5E5E5"> devices as well</font><font color="#CCCCCC"> and it's</font>

175
00:06:45,669 --> 00:06:50,758
<font color="#E5E5E5">about building up a circle of trust and</font>

176
00:06:48,759 --> 00:06:53,740
your devices I'm going to talk<font color="#E5E5E5"> about the</font>

177
00:06:50,759 --> 00:06:56,470
protocol<font color="#CCCCCC"> that's</font><font color="#E5E5E5"> there and what that</font>

178
00:06:53,740 --> 00:06:58,599
<font color="#CCCCCC">looks like</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> I think part of</font><font color="#E5E5E5"> thinking</font>

179
00:06:56,470 --> 00:07:00,220
is<font color="#E5E5E5"> also about how does someone join the</font>

180
00:06:58,599 --> 00:07:01,630
circle of trust<font color="#CCCCCC"> and what does that</font>

181
00:07:00,220 --> 00:07:05,470
approval<font color="#E5E5E5"> look like and we'll talk</font><font color="#CCCCCC"> about</font>

182
00:07:01,630 --> 00:07:07,509
<font color="#E5E5E5">that and they're there to sort of</font>

183
00:07:05,470 --> 00:07:08,949
protocols involved<font color="#E5E5E5"> so the circle thing</font>

184
00:07:07,509 --> 00:07:10,419
<font color="#E5E5E5">it's not like a real protocol that's</font>

185
00:07:08,949 --> 00:07:13,060
documented<font color="#CCCCCC"> but if you read</font><font color="#E5E5E5"> the</font>

186
00:07:10,419 --> 00:07:14,740
<font color="#CCCCCC">documentation and</font><font color="#E5E5E5"> the code</font><font color="#CCCCCC"> it's</font><font color="#E5E5E5"> it's</font>

187
00:07:13,060 --> 00:07:17,169
building blocks for doing this<font color="#E5E5E5"> kind of</font>

188
00:07:14,740 --> 00:07:19,180
<font color="#E5E5E5">stuff so secure</font><font color="#CCCCCC"> objects Inc circle I'll</font>

189
00:07:17,169 --> 00:07:21,039
just call it circle SOS circle I'm<font color="#E5E5E5"> gonna</font>

190
00:07:19,180 --> 00:07:23,710
call it a protocol<font color="#CCCCCC"> maybe it's not a</font>

191
00:07:21,039 --> 00:07:26,979
protocol but for our purposes<font color="#E5E5E5"> we'll be</font>

192
00:07:23,710 --> 00:07:30,789
and then there's a<font color="#E5E5E5"> are anyone here heard</font>

193
00:07:26,979 --> 00:07:34,330
of OTR before off the record do you<font color="#CCCCCC"> guys</font>

194
00:07:30,789 --> 00:07:35,830
know<font color="#E5E5E5"> is an iCloud keychain sync so this</font>

195
00:07:34,330 --> 00:07:36,250
wasn't<font color="#E5E5E5"> very well document in the white</font>

196
00:07:35,830 --> 00:07:39,370
paper

197
00:07:36,250 --> 00:07:41,110
<font color="#E5E5E5">there's no occurrences of OTR and we</font>

198
00:07:39,370 --> 00:07:42,370
reached out to<font color="#E5E5E5"> in Goldberg and and I</font>

199
00:07:41,110 --> 00:07:43,780
think he was<font color="#CCCCCC"> quite</font><font color="#E5E5E5"> happy to see who's</font>

200
00:07:42,370 --> 00:07:46,000
<font color="#E5E5E5">there but he also didn't know is there</font>

201
00:07:43,780 --> 00:07:47,020
so it's open source<font color="#CCCCCC"> code but as far</font><font color="#E5E5E5"> as</font>

202
00:07:46,000 --> 00:07:48,610
we know<font color="#E5E5E5"> we're</font><font color="#CCCCCC"> the first</font><font color="#E5E5E5"> ones talking</font>

203
00:07:47,020 --> 00:07:50,049
<font color="#E5E5E5">about this so the protocols still a</font>

204
00:07:48,610 --> 00:07:54,729
<font color="#E5E5E5">little bit under explored I would say</font>

205
00:07:50,050 --> 00:07:58,509
for researchers<font color="#CCCCCC"> and</font><font color="#E5E5E5"> let's talk</font><font color="#CCCCCC"> about the</font>

206
00:07:54,729 --> 00:08:01,270
circle part so<font color="#E5E5E5"> somewhere in the cloud</font>

207
00:07:58,509 --> 00:08:02,710
there's<font color="#E5E5E5"> a blob of data that holds</font>

208
00:08:01,270 --> 00:08:04,210
signatures from all<font color="#E5E5E5"> the different</font>

209
00:08:02,710 --> 00:08:06,729
devices<font color="#E5E5E5"> this</font><font color="#CCCCCC"> is a science thinking</font>

210
00:08:04,210 --> 00:08:08,830
circle and devices<font color="#CCCCCC"> also get a local</font><font color="#E5E5E5"> copy</font>

211
00:08:06,729 --> 00:08:11,199
and that's that's a<font color="#E5E5E5"> circle of trust</font><font color="#CCCCCC"> that</font>

212
00:08:08,830 --> 00:08:13,780
we're talking<font color="#E5E5E5"> about and the protocols</font>

213
00:08:11,199 --> 00:08:16,300
about how people<font color="#E5E5E5"> can join the circle you</font>

214
00:08:13,780 --> 00:08:19,090
can<font color="#CCCCCC"> have an approving device approve and</font>

215
00:08:16,300 --> 00:08:21,789
add you in<font color="#E5E5E5"> or you can also join it if</font>

216
00:08:19,090 --> 00:08:23,320
you have<font color="#E5E5E5"> that iCloud security code or if</font>

217
00:08:21,789 --> 00:08:24,880
you have to<font color="#CCCCCC"> factor auth</font><font color="#E5E5E5"> a device</font>

218
00:08:23,320 --> 00:08:28,719
passcode so it's also about<font color="#E5E5E5"> how</font><font color="#CCCCCC"> that</font>

219
00:08:24,880 --> 00:08:32,039
works<font color="#E5E5E5"> and the math that's involved for</font>

220
00:08:28,719 --> 00:08:36,969
the signatures here is<font color="#E5E5E5"> a 256-bit ECDSA</font>

221
00:08:32,039 --> 00:08:38,229
<font color="#E5E5E5">on</font><font color="#CCCCCC"> sec t 256 r1 so I'm not particularly</font>

222
00:08:36,969 --> 00:08:41,440
<font color="#E5E5E5">could talk for I'm more of a</font><font color="#CCCCCC"> Code</font>

223
00:08:38,229 --> 00:08:42,729
<font color="#CCCCCC">Breaker</font><font color="#E5E5E5"> but to understand what this</font>

224
00:08:41,440 --> 00:08:47,079
curve is it's a<font color="#CCCCCC"> nist curve</font>

225
00:08:42,729 --> 00:08:49,990
<font color="#E5E5E5">bitcoin uses</font><font color="#CCCCCC"> sac P 256</font><font color="#E5E5E5"> K 1 and SEC P 256</font>

226
00:08:47,079 --> 00:08:50,839
<font color="#E5E5E5">R 1 is the one DJ Bernstein</font><font color="#CCCCCC"> doesn't like</font>

227
00:08:49,990 --> 00:08:52,520
so much but

228
00:08:50,840 --> 00:08:54,080
fundamental<font color="#CCCCCC"> to the security the</font><font color="#E5E5E5"> internet</font>

229
00:08:52,520 --> 00:08:57,910
<font color="#E5E5E5">it's using TLS</font><font color="#CCCCCC"> and lots of other</font><font color="#E5E5E5"> places</font>

230
00:08:54,080 --> 00:09:01,340
<font color="#CCCCCC">so it's a very</font><font color="#E5E5E5"> very standard algorithm</font>

231
00:08:57,910 --> 00:09:03,199
<font color="#CCCCCC">and how does circle work how does</font>

232
00:09:01,340 --> 00:09:04,910
<font color="#CCCCCC">somebody join a circle so when someone</font>

233
00:09:03,200 --> 00:09:06,560
<font color="#E5E5E5">first sets up an iCloud account</font><font color="#CCCCCC"> they</font>

234
00:09:04,910 --> 00:09:08,480
turn this on a circle is created and

235
00:09:06,560 --> 00:09:09,979
what's in the circle<font color="#E5E5E5"> so you have pure</font>

236
00:09:08,480 --> 00:09:12,470
information<font color="#E5E5E5"> that has information like</font>

237
00:09:09,980 --> 00:09:14,810
the computer name<font color="#CCCCCC"> the version of the</font>

238
00:09:12,470 --> 00:09:17,360
protocol<font color="#CCCCCC"> that device uses and an</font>

239
00:09:14,810 --> 00:09:19,280
identity key the public key<font color="#CCCCCC"> the private</font>

240
00:09:17,360 --> 00:09:21,440
key stays on the device and<font color="#E5E5E5"> then there's</font>

241
00:09:19,280 --> 00:09:22,880
a signature<font color="#E5E5E5"> for this</font><font color="#CCCCCC"> pure info and</font><font color="#E5E5E5"> then</font>

242
00:09:21,440 --> 00:09:24,260
they create the circle<font color="#E5E5E5"> and the circle is</font>

243
00:09:22,880 --> 00:09:26,420
signed not only with the identity key

244
00:09:24,260 --> 00:09:30,830
but<font color="#E5E5E5"> also the users current iCloud</font>

245
00:09:26,420 --> 00:09:32,660
password<font color="#E5E5E5"> now if a second device wants to</font>

246
00:09:30,830 --> 00:09:35,720
join<font color="#E5E5E5"> they make a request to join the</font>

247
00:09:32,660 --> 00:09:37,550
<font color="#E5E5E5">circle and it includes the identity key</font>

248
00:09:35,720 --> 00:09:40,070
of the new device<font color="#E5E5E5"> and it's also signed</font>

249
00:09:37,550 --> 00:09:41,540
with that Apple ID password<font color="#CCCCCC"> the</font><font color="#E5E5E5"> first</font>

250
00:09:40,070 --> 00:09:44,000
device will get a notification and<font color="#E5E5E5"> the</font>

251
00:09:41,540 --> 00:09:46,480
user<font color="#E5E5E5"> will manually approve it and then</font>

252
00:09:44,000 --> 00:09:48,920
<font color="#CCCCCC">they'll update</font><font color="#E5E5E5"> the circle and say</font><font color="#CCCCCC"> okay</font>

253
00:09:46,480 --> 00:09:51,170
<font color="#CCCCCC">the second device is now also</font><font color="#E5E5E5"> part of</font>

254
00:09:48,920 --> 00:09:53,300
the circle and<font color="#E5E5E5"> it will be signed and</font>

255
00:09:51,170 --> 00:09:55,040
when<font color="#E5E5E5"> device is</font><font color="#CCCCCC"> joined like this there's</font>

256
00:09:53,300 --> 00:09:57,890
some automatic counter signing that can

257
00:09:55,040 --> 00:10:00,439
happen<font color="#E5E5E5"> so the other devices if they see</font>

258
00:09:57,890 --> 00:10:02,480
that<font color="#CCCCCC"> up here that they already trust has</font>

259
00:10:00,440 --> 00:10:05,060
signed<font color="#E5E5E5"> something they will automatically</font>

260
00:10:02,480 --> 00:10:06,800
sign it as well without<font color="#E5E5E5"> having to do</font>

261
00:10:05,060 --> 00:10:09,469
another<font color="#CCCCCC"> user notification to each</font><font color="#E5E5E5"> device</font>

262
00:10:06,800 --> 00:10:12,410
because that would be a<font color="#CCCCCC"> nightmare</font><font color="#E5E5E5"> all</font>

263
00:10:09,470 --> 00:10:15,590
<font color="#E5E5E5">right and because all the different</font>

264
00:10:12,410 --> 00:10:17,810
devices<font color="#E5E5E5"> countersign</font><font color="#CCCCCC"> when a new device</font>

265
00:10:15,590 --> 00:10:21,860
joins any of the devices<font color="#CCCCCC"> that are in</font><font color="#E5E5E5"> the</font>

266
00:10:17,810 --> 00:10:23,119
circle<font color="#E5E5E5"> can approve the new device</font><font color="#CCCCCC"> and</font>

267
00:10:21,860 --> 00:10:26,210
<font color="#E5E5E5">this all on the</font><font color="#CCCCCC"> whitepaper</font>

268
00:10:23,120 --> 00:10:27,490
kind of scribes how it works<font color="#E5E5E5"> it's pretty</font>

269
00:10:26,210 --> 00:10:29,270
<font color="#E5E5E5">straightforward</font>

270
00:10:27,490 --> 00:10:31,220
<font color="#E5E5E5">but there are some things to</font><font color="#CCCCCC"> think about</font>

271
00:10:29,270 --> 00:10:33,439
<font color="#E5E5E5">for</font><font color="#CCCCCC"> usability so what would</font><font color="#E5E5E5"> happen if</font>

272
00:10:31,220 --> 00:10:35,540
you<font color="#E5E5E5"> lost all of your devices while</font>

273
00:10:33,440 --> 00:10:37,660
you're<font color="#E5E5E5"> traveling</font><font color="#CCCCCC"> so if you go to the</font>

274
00:10:35,540 --> 00:10:40,400
recovery<font color="#CCCCCC"> great you have your passwords</font>

275
00:10:37,660 --> 00:10:41,600
<font color="#CCCCCC">but now the new device wouldn't</font>

276
00:10:40,400 --> 00:10:43,520
necessarily<font color="#CCCCCC"> have a way</font><font color="#E5E5E5"> to join the</font>

277
00:10:41,600 --> 00:10:45,790
<font color="#E5E5E5">circle because you don't have an</font>

278
00:10:43,520 --> 00:10:48,710
approving device to go and update<font color="#CCCCCC"> that</font>

279
00:10:45,790 --> 00:10:51,469
<font color="#E5E5E5">so it seems</font><font color="#CCCCCC"> like kind</font><font color="#E5E5E5"> of a tricky thing</font>

280
00:10:48,710 --> 00:10:52,880
from usability and<font color="#E5E5E5"> the full details</font><font color="#CCCCCC"> of</font>

281
00:10:51,470 --> 00:10:54,590
these<font color="#E5E5E5"> aren't really document in the</font>

282
00:10:52,880 --> 00:10:57,560
white paper<font color="#E5E5E5"> and we're</font><font color="#CCCCCC"> gonna discuss this</font>

283
00:10:54,590 --> 00:11:03,130
a<font color="#E5E5E5"> little bit about kind</font><font color="#CCCCCC"> of how it looks</font>

284
00:10:57,560 --> 00:11:03,130
like<font color="#E5E5E5"> and</font><font color="#CCCCCC"> how it</font><font color="#E5E5E5"> works excuse me</font>

285
00:11:06,340 --> 00:11:10,420
so<font color="#E5E5E5"> there let's take</font><font color="#CCCCCC"> a step</font><font color="#E5E5E5"> back</font><font color="#CCCCCC"> and talk</font>

286
00:11:09,160 --> 00:11:11,469
about<font color="#E5E5E5"> some of the different passwords</font>

287
00:11:10,420 --> 00:11:12,790
that<font color="#E5E5E5"> are involved because</font><font color="#CCCCCC"> a little</font>

288
00:11:11,470 --> 00:11:15,130
confusing<font color="#E5E5E5"> there's the Apple ID password</font>

289
00:11:12,790 --> 00:11:18,610
<font color="#E5E5E5">there's device passcode there's the SMS</font>

290
00:11:15,130 --> 00:11:21,430
code<font color="#CCCCCC"> and there's this iCloud security</font>

291
00:11:18,610 --> 00:11:22,480
code<font color="#CCCCCC"> so if you have a</font><font color="#E5E5E5"> default account</font>

292
00:11:21,430 --> 00:11:27,430
that<font color="#E5E5E5"> doesn't have two factor</font>

293
00:11:22,480 --> 00:11:29,950
authentication type<font color="#CCCCCC"> a swerd entered on</font>

294
00:11:27,430 --> 00:11:33,130
both devices<font color="#CCCCCC"> you can also join</font><font color="#E5E5E5"> the</font>

295
00:11:29,950 --> 00:11:37,300
circle<font color="#E5E5E5"> without</font><font color="#CCCCCC"> an approving device if</font>

296
00:11:33,130 --> 00:11:41,230
you<font color="#CCCCCC"> also</font><font color="#E5E5E5"> have the SMS code and iCloud</font>

297
00:11:37,300 --> 00:11:43,079
security code<font color="#CCCCCC"> so it is possible to join</font>

298
00:11:41,230 --> 00:11:46,240
<font color="#E5E5E5">on a new phone without device approval</font>

299
00:11:43,080 --> 00:11:48,670
<font color="#E5E5E5">and then if you have to factor off the</font>

300
00:11:46,240 --> 00:11:51,339
difference there<font color="#E5E5E5"> is that the device</font>

301
00:11:48,670 --> 00:11:52,540
passcode will be used instead<font color="#E5E5E5"> the iCloud</font>

302
00:11:51,339 --> 00:11:55,029
security code<font color="#E5E5E5"> and then if somebody</font>

303
00:11:52,540 --> 00:11:56,410
<font color="#E5E5E5">didn't set an iCloud security code</font><font color="#CCCCCC"> in</font>

304
00:11:55,029 --> 00:12:00,430
the first case they<font color="#E5E5E5"> wouldn't have a way</font>

305
00:11:56,410 --> 00:12:02,350
<font color="#E5E5E5">to join this way and the interesting</font>

306
00:12:00,430 --> 00:12:05,500
thing<font color="#E5E5E5"> is</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> the circle is not reset</font>

307
00:12:02,350 --> 00:12:07,510
when this happens meaning<font color="#E5E5E5"> that the</font>

308
00:12:05,500 --> 00:12:09,820
existing devices<font color="#E5E5E5"> aren't booted off when</font>

309
00:12:07,510 --> 00:12:13,060
you join in<font color="#E5E5E5"> this way but from what we've</font>

310
00:12:09,820 --> 00:12:15,040
described there's this identity key so

311
00:12:13,060 --> 00:12:16,660
do the new<font color="#E5E5E5"> devices have it and if you</font>

312
00:12:15,040 --> 00:12:19,660
look at the details<font color="#E5E5E5"> the identity keys</font>

313
00:12:16,660 --> 00:12:21,670
are only<font color="#E5E5E5"> on those devices they're</font>

314
00:12:19,660 --> 00:12:25,329
setting in a keychain protection<font color="#E5E5E5"> class</font>

315
00:12:21,670 --> 00:12:28,120
that never leaves<font color="#CCCCCC"> and they</font><font color="#E5E5E5"> won't be</font><font color="#CCCCCC"> in</font>

316
00:12:25,330 --> 00:12:32,860
<font color="#CCCCCC">the escrow either because this class is</font>

317
00:12:28,120 --> 00:12:35,380
<font color="#E5E5E5">not synced up to iCloud backup so the</font>

318
00:12:32,860 --> 00:12:37,000
new devices<font color="#CCCCCC"> wouldn't get it so we</font>

319
00:12:35,380 --> 00:12:39,760
actually have another<font color="#E5E5E5"> peer that's in</font>

320
00:12:37,000 --> 00:12:41,350
there<font color="#E5E5E5"> when the circle is first</font>

321
00:12:39,760 --> 00:12:45,430
established<font color="#CCCCCC"> there is also an iCloud</font>

322
00:12:41,350 --> 00:12:47,440
identity key<font color="#E5E5E5"> that is created and in the</font>

323
00:12:45,430 --> 00:12:49,209
code this<font color="#E5E5E5"> is called a</font><font color="#CCCCCC"> hidden and</font><font color="#E5E5E5"> peer</font>

324
00:12:47,440 --> 00:12:51,670
and is created with some different

325
00:12:49,209 --> 00:12:53,739
attributes that<font color="#E5E5E5"> can be synchronized</font><font color="#CCCCCC"> into</font>

326
00:12:51,670 --> 00:12:55,780
the iCloud keychain<font color="#E5E5E5"> so these are</font>

327
00:12:53,740 --> 00:12:59,140
available<font color="#E5E5E5"> from the escrow and it's this</font>

328
00:12:55,780 --> 00:13:04,209
cloud identity<font color="#E5E5E5"> that can be used to go</font>

329
00:12:59,140 --> 00:13:05,230
ahead<font color="#E5E5E5"> and join the circle and it's kind</font>

330
00:13:04,209 --> 00:13:06,969
of interesting<font color="#E5E5E5"> to</font><font color="#CCCCCC"> see this there because</font>

331
00:13:05,230 --> 00:13:09,450
it's<font color="#E5E5E5"> not all document and this is what</font>

332
00:13:06,970 --> 00:13:12,040
the updated circle protocol<font color="#E5E5E5"> looks like</font>

333
00:13:09,450 --> 00:13:13,660
<font color="#E5E5E5">when Alice first</font><font color="#CCCCCC"> set</font><font color="#E5E5E5"> up that circle</font>

334
00:13:12,040 --> 00:13:15,189
there's also this cloud identity<font color="#CCCCCC"> that's</font>

335
00:13:13,660 --> 00:13:15,939
<font color="#E5E5E5">also in there and it can also sign the</font>

336
00:13:15,190 --> 00:13:17,680
<font color="#CCCCCC">search</font>

337
00:13:15,940 --> 00:13:19,120
and this is well that's<font color="#CCCCCC"> new devices join</font>

338
00:13:17,680 --> 00:13:23,079
the circles without booting off to the

339
00:13:19,120 --> 00:13:25,089
other<font color="#E5E5E5"> ones and</font><font color="#CCCCCC"> when you're</font><font color="#E5E5E5"> looking at</font>

340
00:13:23,079 --> 00:13:26,800
protocols<font color="#E5E5E5"> like this when you see things</font>

341
00:13:25,089 --> 00:13:28,660
<font color="#E5E5E5">that are not</font><font color="#CCCCCC"> documented it's usually a</font>

342
00:13:26,800 --> 00:13:31,899
good thing<font color="#CCCCCC"> to check out so so far this</font>

343
00:13:28,660 --> 00:13:35,709
seems pretty<font color="#CCCCCC"> okay because</font><font color="#E5E5E5"> even</font><font color="#CCCCCC"> if this</font>

344
00:13:31,899 --> 00:13:37,720
was an iCloud<font color="#E5E5E5"> backups those key bags are</font>

345
00:13:35,709 --> 00:13:39,819
still wrapped with the<font color="#CCCCCC"> UID key for the</font>

346
00:13:37,720 --> 00:13:43,510
device so someone on<font color="#E5E5E5"> an iCloud server</font>

347
00:13:39,820 --> 00:13:45,850
<font color="#E5E5E5">wouldn't be able to get to this and the</font>

348
00:13:43,510 --> 00:13:47,439
<font color="#CCCCCC">other thing</font><font color="#E5E5E5"> is that escrow itself</font><font color="#CCCCCC"> you</font>

349
00:13:45,850 --> 00:13:51,149
can't get<font color="#E5E5E5"> that unless you bypass some</font>

350
00:13:47,440 --> 00:13:54,220
other mechanisms so it's pretty<font color="#CCCCCC"> ok and</font>

351
00:13:51,149 --> 00:13:56,050
that was basically<font color="#E5E5E5"> circle and the second</font>

352
00:13:54,220 --> 00:13:58,720
part of this<font color="#E5E5E5"> is off the record which is</font>

353
00:13:56,050 --> 00:14:01,810
used for<font color="#CCCCCC"> rent and encryption and</font><font color="#E5E5E5"> it's</font>

354
00:13:58,720 --> 00:14:04,120
got forward secrecy so that if someone

355
00:14:01,810 --> 00:14:06,729
<font color="#E5E5E5">has</font><font color="#CCCCCC"> a key at one point</font><font color="#E5E5E5"> in time they</font>

356
00:14:04,120 --> 00:14:10,060
<font color="#E5E5E5">won't necessarily be</font><font color="#CCCCCC"> able to get the</font>

357
00:14:06,730 --> 00:14:12,040
<font color="#CCCCCC">plaintext</font><font color="#E5E5E5"> of previous communications as</font>

358
00:14:10,060 --> 00:14:14,560
well as deniability<font color="#CCCCCC"> which is something</font>

359
00:14:12,040 --> 00:14:16,149
<font color="#E5E5E5">that might</font><font color="#CCCCCC"> be useful for a chat but not</font>

360
00:14:14,560 --> 00:14:18,489
necessarily critical for keychain

361
00:14:16,149 --> 00:14:19,930
syncing<font color="#E5E5E5"> and it works with diffie-hellman</font>

362
00:14:18,490 --> 00:14:22,540
key exchange

363
00:14:19,930 --> 00:14:26,079
that's how OTR sets up a secure<font color="#E5E5E5"> Channel</font>

364
00:14:22,540 --> 00:14:28,860
and then<font color="#CCCCCC"> peers can verify each other as</font>

365
00:14:26,079 --> 00:14:31,290
part<font color="#CCCCCC"> of the protocol and the encryption</font>

366
00:14:28,860 --> 00:14:35,199
<font color="#E5E5E5">over that secure</font><font color="#CCCCCC"> channel is done with</font>

367
00:14:31,290 --> 00:14:38,829
AES and counter mode and OTR uses

368
00:14:35,199 --> 00:14:40,439
rotating<font color="#E5E5E5"> keys so in the context of where</font>

369
00:14:38,829 --> 00:14:43,000
does this<font color="#E5E5E5"> communication actually happen</font>

370
00:14:40,440 --> 00:14:45,660
it happens over iCloud services so

371
00:14:43,000 --> 00:14:49,209
there's a key value<font color="#E5E5E5"> store as well as</font>

372
00:14:45,660 --> 00:14:50,589
directory services or IDs<font color="#CCCCCC"> that's some of</font>

373
00:14:49,209 --> 00:14:53,619
the<font color="#CCCCCC"> stuff used</font><font color="#E5E5E5"> an iMessage in other</font>

374
00:14:50,589 --> 00:14:55,420
places and the first layer<font color="#CCCCCC"> of security</font>

375
00:14:53,620 --> 00:14:58,449
<font color="#E5E5E5">here is you have TLS so it's already</font>

376
00:14:55,420 --> 00:15:00,699
encrypted<font color="#E5E5E5"> from the get-go</font><font color="#CCCCCC"> but if it was</font>

377
00:14:58,449 --> 00:15:02,529
only TLS then<font color="#E5E5E5"> anybody on the receiving</font>

378
00:15:00,699 --> 00:15:04,569
end would get plaintext access to those

379
00:15:02,529 --> 00:15:07,839
communications<font color="#E5E5E5"> and it's really the</font>

380
00:15:04,570 --> 00:15:09,699
<font color="#E5E5E5">intent encryption that allows Apple to</font>

381
00:15:07,839 --> 00:15:11,560
make claims that<font color="#E5E5E5"> it cannot be decrypted</font>

382
00:15:09,699 --> 00:15:16,089
by Apple or other devices that<font color="#E5E5E5"> are not</font>

383
00:15:11,560 --> 00:15:17,949
<font color="#E5E5E5">part of the syncing circle so here's</font>

384
00:15:16,089 --> 00:15:20,620
kind<font color="#E5E5E5"> of a pie in the sky view</font><font color="#CCCCCC"> of how the</font>

385
00:15:17,949 --> 00:15:22,209
OTR key exchange works<font color="#E5E5E5"> there's a hash</font>

386
00:15:20,620 --> 00:15:23,620
commitment that gets sent<font color="#CCCCCC"> out by the</font>

387
00:15:22,209 --> 00:15:26,469
initiator and<font color="#E5E5E5"> this prevents</font><font color="#CCCCCC"> some</font>

388
00:15:23,620 --> 00:15:27,940
malleability attacks<font color="#CCCCCC"> I actually did some</font>

389
00:15:26,470 --> 00:15:28,920
research on telegram where they don't<font color="#E5E5E5"> do</font>

390
00:15:27,940 --> 00:15:31,680
something<font color="#E5E5E5"> like</font><font color="#CCCCCC"> this and</font><font color="#E5E5E5"> it's</font>

391
00:15:28,920 --> 00:15:33,149
possible to weaken the protocol<font color="#E5E5E5"> so Oki</font>

392
00:15:31,680 --> 00:15:35,638
tries to defend<font color="#E5E5E5"> against those kinds of</font>

393
00:15:33,149 --> 00:15:38,220
attacks<font color="#E5E5E5"> and then they set up a duty</font>

394
00:15:35,639 --> 00:15:40,290
Hellman key exchange<font color="#E5E5E5"> and once they set</font>

395
00:15:38,220 --> 00:15:41,970
up that<font color="#E5E5E5"> secure channel then the</font><font color="#CCCCCC"> Pierce</font>

396
00:15:40,290 --> 00:15:46,949
<font color="#CCCCCC">sent</font><font color="#E5E5E5"> some packets that they can verify</font>

397
00:15:41,970 --> 00:15:48,510
that<font color="#E5E5E5"> they know each other</font><font color="#CCCCCC"> and the peers</font>

398
00:15:46,949 --> 00:15:50,880
verify each other with<font color="#E5E5E5"> those identity</font>

399
00:15:48,510 --> 00:15:52,110
keys that<font color="#E5E5E5"> are in that circle</font><font color="#CCCCCC"> and once</font>

400
00:15:50,880 --> 00:15:53,930
they've<font color="#E5E5E5"> done this they have the secure</font>

401
00:15:52,110 --> 00:15:56,190
<font color="#CCCCCC">Channel now</font><font color="#E5E5E5"> they can start exchanging</font>

402
00:15:53,930 --> 00:15:58,349
<font color="#E5E5E5">secrets and they can exchange pass code</font>

403
00:15:56,190 --> 00:16:00,089
they can<font color="#E5E5E5"> exchange password material so</font>

404
00:15:58,350 --> 00:16:01,529
iCloud keychain has Wi-Fi<font color="#E5E5E5"> passwords</font>

405
00:16:00,089 --> 00:16:07,079
credit card numbers<font color="#CCCCCC"> that kind</font><font color="#E5E5E5"> of stuff</font>

406
00:16:01,529 --> 00:16:09,000
<font color="#E5E5E5">and one thing about OTR a long-standing</font>

407
00:16:07,079 --> 00:16:11,219
features they really want group<font color="#CCCCCC"> chats so</font>

408
00:16:09,000 --> 00:16:14,880
some of the new protocols out there like

409
00:16:11,220 --> 00:16:16,350
signal they have group chat support<font color="#E5E5E5"> for</font>

410
00:16:14,880 --> 00:16:20,220
encryption<font color="#CCCCCC"> Oh char doesn't have that</font>

411
00:16:16,350 --> 00:16:21,930
it's<font color="#CCCCCC"> peer to peer direct one period</font>

412
00:16:20,220 --> 00:16:22,820
talks<font color="#E5E5E5"> to</font><font color="#CCCCCC"> no there's no shared key across</font>

413
00:16:21,930 --> 00:16:25,560
all the<font color="#E5E5E5"> devices</font>

414
00:16:22,820 --> 00:16:26,910
so when iCloud keychain gets set<font color="#E5E5E5"> up all</font>

415
00:16:25,560 --> 00:16:29,040
of<font color="#E5E5E5"> your devices actually</font><font color="#CCCCCC"> have a pairwise</font>

416
00:16:26,910 --> 00:16:30,899
<font color="#E5E5E5">communication to one another so</font>

417
00:16:29,040 --> 00:16:33,269
performance<font color="#E5E5E5"> wise that's not great but</font>

418
00:16:30,899 --> 00:16:34,579
<font color="#E5E5E5">when it comes to</font><font color="#CCCCCC"> sharing passwords</font><font color="#E5E5E5"> it's</font>

419
00:16:33,269 --> 00:16:37,470
more<font color="#E5E5E5"> than okay</font>

420
00:16:34,579 --> 00:16:38,819
and<font color="#E5E5E5"> Apple</font><font color="#CCCCCC"> States some pretty strong</font>

421
00:16:37,470 --> 00:16:41,070
security goals that they have for iCloud

422
00:16:38,820 --> 00:16:43,800
keychain<font color="#CCCCCC"> they want to protect the</font>

423
00:16:41,070 --> 00:16:46,050
passwords<font color="#CCCCCC"> even when an iCloud account is</font>

424
00:16:43,800 --> 00:16:48,060
compromised<font color="#E5E5E5"> so if the password gets</font>

425
00:16:46,050 --> 00:16:51,569
leaked<font color="#E5E5E5"> reused someone had a weak one</font>

426
00:16:48,060 --> 00:16:54,380
shouldn't<font color="#E5E5E5"> matter</font><font color="#CCCCCC"> their their credit card</font>

427
00:16:51,570 --> 00:16:56,880
info should still be<font color="#E5E5E5"> secure they want to</font>

428
00:16:54,380 --> 00:17:00,120
keep it secure<font color="#CCCCCC"> even if somebody manages</font>

429
00:16:56,880 --> 00:17:01,500
<font color="#CCCCCC">to break</font><font color="#E5E5E5"> into the iCloud server which is</font>

430
00:17:00,120 --> 00:17:04,470
pretty<font color="#E5E5E5"> much impossible</font><font color="#CCCCCC"> to do</font><font color="#E5E5E5"> without</font>

431
00:17:01,500 --> 00:17:06,119
something like<font color="#CCCCCC"> antenna cryptography and</font>

432
00:17:04,470 --> 00:17:09,179
<font color="#E5E5E5">also when third parties access user</font>

433
00:17:06,119 --> 00:17:13,109
accounts<font color="#CCCCCC"> and this is from</font><font color="#E5E5E5"> the white</font>

434
00:17:09,179 --> 00:17:14,490
<font color="#CCCCCC">paper and it's kind of a visual</font><font color="#E5E5E5"> of the</font>

435
00:17:13,109 --> 00:17:16,979
different layers<font color="#CCCCCC"> you</font><font color="#E5E5E5"> had so the very</font>

436
00:17:14,490 --> 00:17:18,299
first layer<font color="#E5E5E5"> you have is TLS then you</font>

437
00:17:16,980 --> 00:17:20,490
have the<font color="#CCCCCC"> security of the iCloud servers</font>

438
00:17:18,299 --> 00:17:23,099
<font color="#CCCCCC">themselves not anybody</font><font color="#E5E5E5"> can go and walk</font>

439
00:17:20,490 --> 00:17:25,169
into<font color="#CCCCCC"> a datacenter and access that and</font>

440
00:17:23,099 --> 00:17:27,359
then the<font color="#E5E5E5"> last thing I've defense is</font>

441
00:17:25,169 --> 00:17:30,690
really<font color="#E5E5E5"> this end-to-end encryption that</font>

442
00:17:27,359 --> 00:17:32,010
<font color="#E5E5E5">they built up with circle and OTR</font><font color="#CCCCCC"> and if</font>

443
00:17:30,690 --> 00:17:35,190
someone wanted to<font color="#E5E5E5"> gain access that</font>

444
00:17:32,010 --> 00:17:37,320
plaintext password material<font color="#CCCCCC"> they'd have</font>

445
00:17:35,190 --> 00:17:39,360
a few different paths so these are some

446
00:17:37,320 --> 00:17:41,490
of<font color="#E5E5E5"> them first one is just write a really</font>

447
00:17:39,360 --> 00:17:42,090
good exploit<font color="#E5E5E5"> that</font><font color="#CCCCCC"> gets you right into</font>

448
00:17:41,490 --> 00:17:43,470
the device

449
00:17:42,090 --> 00:17:46,168
you have some kind<font color="#CCCCCC"> of remote exploit</font>

450
00:17:43,470 --> 00:17:49,380
gets you into the kernel<font color="#E5E5E5"> then you have</font>

451
00:17:46,169 --> 00:17:52,679
complete<font color="#CCCCCC"> access to the security daemon</font>

452
00:17:49,380 --> 00:17:55,679
and passwords that<font color="#E5E5E5"> do come</font><font color="#CCCCCC"> down to that</font>

453
00:17:52,679 --> 00:17:57,029
you'd have<font color="#CCCCCC"> access to</font><font color="#E5E5E5"> that's supposed to</font>

454
00:17:55,679 --> 00:17:59,880
run something<font color="#E5E5E5"> like</font><font color="#CCCCCC"> a million</font><font color="#E5E5E5"> dollars</font>

455
00:17:57,029 --> 00:18:04,440
<font color="#CCCCCC">today or at</font><font color="#E5E5E5"> least that's</font><font color="#CCCCCC"> how much that's</font>

456
00:17:59,880 --> 00:18:05,850
<font color="#CCCCCC">the eye</font><font color="#E5E5E5"> pays for them and the second</font>

457
00:18:04,440 --> 00:18:07,140
path is if you want<font color="#E5E5E5"> to just attack this</font>

458
00:18:05,850 --> 00:18:09,689
protocol you<font color="#CCCCCC"> have a few different</font>

459
00:18:07,140 --> 00:18:12,539
<font color="#CCCCCC">options you you kind of have to be two</font>

460
00:18:09,690 --> 00:18:14,700
layers<font color="#E5E5E5"> so</font><font color="#CCCCCC"> the first layer</font><font color="#E5E5E5"> is how do you</font>

461
00:18:12,539 --> 00:18:16,110
<font color="#E5E5E5">get</font><font color="#CCCCCC"> access to the data that's in in the</font>

462
00:18:14,700 --> 00:18:17,309
iCloud services<font color="#E5E5E5"> so the first thing you</font>

463
00:18:16,110 --> 00:18:19,799
could do is get<font color="#E5E5E5"> some of these iCloud</font>

464
00:18:17,309 --> 00:18:20,850
password<font color="#E5E5E5"> the second thing you could do</font>

465
00:18:19,799 --> 00:18:24,299
is compromise

466
00:18:20,850 --> 00:18:27,750
iCloud services so rogue employee<font color="#E5E5E5"> rogue</font>

467
00:18:24,299 --> 00:18:30,809
data center<font color="#E5E5E5"> you</font><font color="#CCCCCC"> know there it's the</font>

468
00:18:27,750 --> 00:18:34,799
cloud<font color="#CCCCCC"> and</font><font color="#E5E5E5"> the third one is if you had</font>

469
00:18:30,809 --> 00:18:37,440
<font color="#CCCCCC">access to TLS then you</font><font color="#E5E5E5"> you'd</font><font color="#CCCCCC"> basically</font>

470
00:18:34,799 --> 00:18:38,760
get access to that first layer<font color="#E5E5E5"> but now</font>

471
00:18:37,440 --> 00:18:40,950
you still<font color="#CCCCCC"> have the antenna encryption</font>

472
00:18:38,760 --> 00:18:43,379
that<font color="#E5E5E5"> you got it</font><font color="#CCCCCC"> fee</font><font color="#E5E5E5"> so then you need</font>

473
00:18:40,950 --> 00:18:45,510
some<font color="#CCCCCC"> kind of flaw in the OTR protocol or</font>

474
00:18:43,380 --> 00:18:46,890
<font color="#CCCCCC">the circle setup if you can somehow get</font>

475
00:18:45,510 --> 00:18:50,429
a device approved without<font color="#CCCCCC"> a user</font>

476
00:18:46,890 --> 00:18:53,100
notification or maybe<font color="#E5E5E5"> fish someone if it</font>

477
00:18:50,429 --> 00:18:56,940
comes down<font color="#CCCCCC"> to</font><font color="#E5E5E5"> that fishing</font><font color="#CCCCCC"> usually</font>

478
00:18:53,100 --> 00:18:59,039
<font color="#E5E5E5">always works eventually but we we went</font>

479
00:18:56,940 --> 00:19:01,620
the OTR floor out in this

480
00:18:59,039 --> 00:19:03,870
so we found a cryptographic failure in

481
00:19:01,620 --> 00:19:06,989
OTR<font color="#E5E5E5"> so it's a it's not the</font><font color="#CCCCCC"> open-source</font>

482
00:19:03,870 --> 00:19:09,029
OTR<font color="#CCCCCC"> that you would have if you go to</font>

483
00:19:06,990 --> 00:19:10,710
<font color="#E5E5E5">likely boat</font><font color="#CCCCCC"> er</font><font color="#E5E5E5"> this</font><font color="#CCCCCC"> is a custom</font>

484
00:19:09,029 --> 00:19:13,559
implementation from<font color="#E5E5E5"> Apple</font><font color="#CCCCCC"> but it</font><font color="#E5E5E5"> is open</font>

485
00:19:10,710 --> 00:19:14,820
<font color="#E5E5E5">source so you</font><font color="#CCCCCC"> can check</font><font color="#E5E5E5"> it out and we</font>

486
00:19:13,559 --> 00:19:18,120
found<font color="#E5E5E5"> a flaw there and we also found a</font>

487
00:19:14,820 --> 00:19:21,210
<font color="#E5E5E5">memory corruption flaw and these were</font>

488
00:19:18,120 --> 00:19:24,389
slightly exacerbated because there's no

489
00:19:21,210 --> 00:19:26,279
TLS key pinning so any of the CAS that

490
00:19:24,390 --> 00:19:29,000
<font color="#E5E5E5">are trusted by an iPhone could have</font>

491
00:19:26,279 --> 00:19:34,020
potentially been abused<font color="#CCCCCC"> for this attack</font>

492
00:19:29,000 --> 00:19:41,039
and the OTR failure was in the signature

493
00:19:34,020 --> 00:19:43,730
<font color="#E5E5E5">verification so here we have some lines</font>

494
00:19:41,039 --> 00:19:46,740
<font color="#E5E5E5">of code from the vulnerable routine and</font>

495
00:19:43,730 --> 00:19:50,850
this<font color="#E5E5E5"> is a routine</font><font color="#CCCCCC"> sec verify signature</font>

496
00:19:46,740 --> 00:19:52,380
<font color="#E5E5E5">in mac</font><font color="#CCCCCC"> if it returns</font><font color="#E5E5E5"> successfully that</font>

497
00:19:50,850 --> 00:19:54,658
means that the signature checked out and

498
00:19:52,380 --> 00:19:55,440
it's also established the<font color="#CCCCCC"> secured</font>

499
00:19:54,659 --> 00:19:58,080
<font color="#CCCCCC">Channel correctly so</font>

500
00:19:55,440 --> 00:20:00,600
<font color="#CCCCCC">the key exchange and when</font><font color="#E5E5E5"> they're</font>

501
00:19:58,080 --> 00:20:02,668
parsing some<font color="#E5E5E5"> bytes off of the wire</font><font color="#CCCCCC"> they</font>

502
00:20:00,600 --> 00:20:04,469
set<font color="#CCCCCC"> the error</font><font color="#E5E5E5"> code so usually just</font>

503
00:20:02,669 --> 00:20:07,679
reading bytes<font color="#E5E5E5"> if the packets long enough</font>

504
00:20:04,470 --> 00:20:09,299
it'll succeed<font color="#CCCCCC"> and if there's a failure</font>

505
00:20:07,679 --> 00:20:11,820
<font color="#E5E5E5">it's supposed to reset</font><font color="#CCCCCC"> that error code</font>

506
00:20:09,299 --> 00:20:14,879
and say something went wrong we failed

507
00:20:11,820 --> 00:20:17,700
<font color="#CCCCCC">to fail this key exchange</font><font color="#E5E5E5"> but here you</font>

508
00:20:14,879 --> 00:20:20,009
have<font color="#E5E5E5"> some error handling where they</font>

509
00:20:17,700 --> 00:20:23,610
didn't the code did not properly reset

510
00:20:20,009 --> 00:20:28,200
the error<font color="#E5E5E5"> code</font><font color="#CCCCCC"> so this is</font><font color="#E5E5E5"> very similar</font>

511
00:20:23,610 --> 00:20:30,178
to<font color="#E5E5E5"> go to fail and when the</font><font color="#CCCCCC"> go-to fail</font>

512
00:20:28,200 --> 00:20:33,539
<font color="#E5E5E5">flaw came out at that time</font>

513
00:20:30,179 --> 00:20:35,639
<font color="#E5E5E5">Disko lived in the same project so it's</font>

514
00:20:33,539 --> 00:20:37,230
kind of interesting<font color="#CCCCCC"> that</font><font color="#E5E5E5"> people who try</font>

515
00:20:35,639 --> 00:20:42,209
<font color="#CCCCCC">to detect</font><font color="#E5E5E5"> that bug with static analysis</font>

516
00:20:37,230 --> 00:20:45,179
failed<font color="#CCCCCC"> and essentially</font><font color="#E5E5E5"> what you can do</font>

517
00:20:42,210 --> 00:20:47,570
is provide an invalid size field that

518
00:20:45,179 --> 00:20:50,580
will shortcut the signature check and

519
00:20:47,570 --> 00:20:54,090
it's<font color="#E5E5E5"> pretty trivial to to trigger this</font>

520
00:20:50,580 --> 00:20:55,168
flaw<font color="#CCCCCC"> so here's a 32 byte OTR packet that</font>

521
00:20:54,090 --> 00:20:57,389
will<font color="#CCCCCC"> do it</font>

522
00:20:55,169 --> 00:20:58,500
you just encode<font color="#E5E5E5"> a size field that</font>

523
00:20:57,389 --> 00:21:01,049
doesn't make sense<font color="#CCCCCC"> and then you</font><font color="#E5E5E5"> have</font>

524
00:20:58,500 --> 00:21:04,649
some data later with the actual key

525
00:21:01,049 --> 00:21:07,080
material that you're setting up but

526
00:21:04,649 --> 00:21:09,120
<font color="#E5E5E5">that's about</font><font color="#CCCCCC"> it and it's a pretty</font>

527
00:21:07,080 --> 00:21:11,158
<font color="#E5E5E5">trivial bug and it would have loud and a</font>

528
00:21:09,120 --> 00:21:13,018
man-in-the-middle attack<font color="#CCCCCC"> err that had</font>

529
00:21:11,159 --> 00:21:15,480
some kind<font color="#CCCCCC"> of access to someone's a</font>

530
00:21:13,019 --> 00:21:18,659
<font color="#CCCCCC">keychain</font><font color="#E5E5E5"> circle to start negotiating OTR</font>

531
00:21:15,480 --> 00:21:20,669
and<font color="#E5E5E5"> what's kind of interesting is</font><font color="#CCCCCC"> that</font>

532
00:21:18,659 --> 00:21:25,139
this attack<font color="#E5E5E5"> could</font><font color="#CCCCCC"> be pulled off silently</font>

533
00:21:20,669 --> 00:21:26,309
so with<font color="#E5E5E5"> OTR uses ephemeral keys and the</font>

534
00:21:25,139 --> 00:21:29,008
user<font color="#E5E5E5"> wouldn't wouldn't say necessarily</font>

535
00:21:26,309 --> 00:21:33,029
notification and because it's<font color="#E5E5E5"> a logic</font>

536
00:21:29,009 --> 00:21:35,250
flaw it's highly reliable so sometimes

537
00:21:33,029 --> 00:21:38,250
it's the simple bugs that are<font color="#E5E5E5"> most</font>

538
00:21:35,250 --> 00:21:40,799
devastating and<font color="#CCCCCC"> this really undermines</font>

539
00:21:38,250 --> 00:21:43,289
some of those goals if someone's iCloud

540
00:21:40,799 --> 00:21:46,200
account and password was compromised or

541
00:21:43,289 --> 00:21:48,230
somebody gained access<font color="#E5E5E5"> to an iCloud</font>

542
00:21:46,200 --> 00:21:51,480
server<font color="#CCCCCC"> they would have been potentially</font>

543
00:21:48,230 --> 00:21:53,370
<font color="#E5E5E5">able to pull off this attack and start</font>

544
00:21:51,480 --> 00:21:56,659
receiving<font color="#E5E5E5"> Wi-Fi passwords credit</font><font color="#CCCCCC"> card</font>

545
00:21:53,370 --> 00:22:01,889
numbers all this really<font color="#CCCCCC"> interesting data</font>

546
00:21:56,659 --> 00:22:04,980
<font color="#CCCCCC">but of</font><font color="#E5E5E5"> course there's still TLS that</font>

547
00:22:01,889 --> 00:22:06,928
they'd have<font color="#E5E5E5"> to get</font><font color="#CCCCCC"> through now there's a</font>

548
00:22:04,980 --> 00:22:08,920
<font color="#E5E5E5">actually a second flaw that that we</font>

549
00:22:06,929 --> 00:22:10,600
found and we and<font color="#E5E5E5"> we</font>

550
00:22:08,920 --> 00:22:12,580
found this<font color="#E5E5E5"> one</font><font color="#CCCCCC"> first</font><font color="#E5E5E5"> which is well led</font>

551
00:22:10,600 --> 00:22:14,679
<font color="#E5E5E5">to the other one there's an unbounded</font>

552
00:22:12,580 --> 00:22:16,419
stack allocation so we reported these

553
00:22:14,680 --> 00:22:18,090
back in January but since then there's

554
00:22:16,420 --> 00:22:22,120
been<font color="#E5E5E5"> a really great and thorough</font>

555
00:22:18,090 --> 00:22:24,490
presentation<font color="#CCCCCC"> or article by Qualis called</font>

556
00:22:22,120 --> 00:22:25,590
stack clash<font color="#E5E5E5"> so if you don't understand</font>

557
00:22:24,490 --> 00:22:28,150
these flaws you should check that<font color="#E5E5E5"> out</font>

558
00:22:25,590 --> 00:22:29,620
<font color="#CCCCCC">now basically the the code is threaded</font>

559
00:22:28,150 --> 00:22:30,910
so if you work<font color="#CCCCCC"> with embedded systems you</font>

560
00:22:29,620 --> 00:22:33,189
know that you<font color="#E5E5E5"> don't have so much stack</font>

561
00:22:30,910 --> 00:22:35,110
room and threaded<font color="#E5E5E5"> code is</font><font color="#CCCCCC"> it's</font><font color="#E5E5E5"> kind of</font>

562
00:22:33,190 --> 00:22:37,840
the same<font color="#CCCCCC"> deal so if you send</font><font color="#E5E5E5"> a really</font>

563
00:22:35,110 --> 00:22:40,629
long ago<font color="#CCCCCC"> gr packet</font><font color="#E5E5E5"> that packet data</font>

564
00:22:37,840 --> 00:22:43,389
would start to<font color="#CCCCCC"> overlap with</font><font color="#E5E5E5"> an adjacent</font>

565
00:22:40,630 --> 00:22:46,990
<font color="#CCCCCC">thread stack</font><font color="#E5E5E5"> so you</font><font color="#CCCCCC"> could</font><font color="#E5E5E5"> get program</font>

566
00:22:43,390 --> 00:22:48,430
counter control<font color="#E5E5E5"> through that and this</font>

567
00:22:46,990 --> 00:22:52,300
could have been<font color="#CCCCCC"> a potential sandbox</font>

568
00:22:48,430 --> 00:22:54,490
escape<font color="#E5E5E5"> to route so this is a daemon</font><font color="#CCCCCC"> that</font>

569
00:22:52,300 --> 00:22:56,830
lots of that applications<font color="#E5E5E5"> communicate</font>

570
00:22:54,490 --> 00:22:59,050
with in one form or another<font color="#E5E5E5"> you would</font>

571
00:22:56,830 --> 00:23:03,010
need some entitlements though for<font color="#E5E5E5"> this</font>

572
00:22:59,050 --> 00:23:05,950
one<font color="#E5E5E5"> so the remote path might be more</font>

573
00:23:03,010 --> 00:23:07,930
interesting<font color="#CCCCCC"> because then however this is</font>

574
00:23:05,950 --> 00:23:10,840
a<font color="#E5E5E5"> tricky tax point because there's a</font>

575
00:23:07,930 --> 00:23:13,660
race<font color="#CCCCCC"> condition</font><font color="#E5E5E5"> between</font><font color="#CCCCCC"> the executing</font>

576
00:23:10,840 --> 00:23:16,750
thread and the<font color="#E5E5E5"> writing thread hitting</font>

577
00:23:13,660 --> 00:23:20,470
the guard page so kind<font color="#E5E5E5"> of a crappy bug</font>

578
00:23:16,750 --> 00:23:22,090
<font color="#CCCCCC">if you're in tax plate development so</font>

579
00:23:20,470 --> 00:23:23,740
wrapping<font color="#E5E5E5"> up I think it's it's</font>

580
00:23:22,090 --> 00:23:25,990
<font color="#CCCCCC">fascinating it's awesome to see endtime</font>

581
00:23:23,740 --> 00:23:27,640
cryptography<font color="#CCCCCC"> in a form</font><font color="#E5E5E5"> that's also</font>

582
00:23:25,990 --> 00:23:30,160
usable<font color="#E5E5E5"> for tons and tons of</font><font color="#CCCCCC"> people</font>

583
00:23:27,640 --> 00:23:31,870
because the<font color="#E5E5E5"> usability and intent</font>

584
00:23:30,160 --> 00:23:33,910
cryptography<font color="#CCCCCC"> are actually</font><font color="#E5E5E5"> I direct odd</font>

585
00:23:31,870 --> 00:23:37,239
one another it's about keeping<font color="#E5E5E5"> people</font>

586
00:23:33,910 --> 00:23:38,410
out<font color="#CCCCCC"> of data</font><font color="#E5E5E5"> and what happens when when</font>

587
00:23:37,240 --> 00:23:44,710
you lose all your stuff how do you get

588
00:23:38,410 --> 00:23:46,150
<font color="#E5E5E5">back to your data and so we</font><font color="#CCCCCC"> we talked</font>

589
00:23:44,710 --> 00:23:48,970
<font color="#E5E5E5">about how keychains sync works some of</font>

590
00:23:46,150 --> 00:23:51,960
the inner<font color="#CCCCCC"> details I hope you</font><font color="#E5E5E5"> guys found</font>

591
00:23:48,970 --> 00:23:57,430
those interesting<font color="#E5E5E5"> and we reviewed a</font>

592
00:23:51,960 --> 00:23:59,290
crypto failure<font color="#CCCCCC"> I think something that</font>

593
00:23:57,430 --> 00:24:00,430
<font color="#CCCCCC">our</font><font color="#E5E5E5"> industry</font><font color="#CCCCCC"> needs to</font><font color="#E5E5E5"> do is step up its</font>

594
00:23:59,290 --> 00:24:03,850
game<font color="#E5E5E5"> when it comes to static analysis</font>

595
00:24:00,430 --> 00:24:05,950
and<font color="#CCCCCC"> there are leaps and bounds there but</font>

596
00:24:03,850 --> 00:24:07,389
when it comes to<font color="#E5E5E5"> go to fail I actually</font>

597
00:24:05,950 --> 00:24:09,460
have an open<font color="#E5E5E5"> challenge the static</font>

598
00:24:07,390 --> 00:24:12,520
analysis companies go detect both these

599
00:24:09,460 --> 00:24:14,230
bugs<font color="#E5E5E5"> they're in the same project so</font><font color="#CCCCCC"> goto</font>

600
00:24:12,520 --> 00:24:16,570
<font color="#E5E5E5">fail was go to fail repeated twice on</font>

601
00:24:14,230 --> 00:24:18,520
the line you<font color="#E5E5E5"> can find out with grep but</font>

602
00:24:16,570 --> 00:24:20,200
can you do some<font color="#CCCCCC"> Mantic analysis to</font>

603
00:24:18,520 --> 00:24:21,540
detect both of these so some researchers

604
00:24:20,200 --> 00:24:23,670
have reached out to me

605
00:24:21,540 --> 00:24:26,100
and we'll take<font color="#E5E5E5"> a look</font><font color="#CCCCCC"> - this</font><font color="#E5E5E5"> should be</font>

606
00:24:23,670 --> 00:24:28,350
detectable<font color="#CCCCCC"> there's also some</font><font color="#E5E5E5"> crypto</font>

607
00:24:26,100 --> 00:24:30,439
testing talks by JP<font color="#CCCCCC"> Emma</font><font color="#E5E5E5"> song that would</font>

608
00:24:28,350 --> 00:24:34,169
have definitely detected<font color="#E5E5E5"> this fall</font>

609
00:24:30,440 --> 00:24:36,210
<font color="#CCCCCC">another</font><font color="#E5E5E5"> thing for</font><font color="#CCCCCC"> app for Apple I don't</font>

610
00:24:34,170 --> 00:24:37,950
<font color="#E5E5E5">think the documentation is sufficient</font>

611
00:24:36,210 --> 00:24:39,840
<font color="#CCCCCC">here for researchers I think for an</font>

612
00:24:37,950 --> 00:24:42,060
average<font color="#CCCCCC"> person the the details of the</font>

613
00:24:39,840 --> 00:24:43,980
math<font color="#E5E5E5"> at use that's great but it's nice</font>

614
00:24:42,060 --> 00:24:47,310
to<font color="#CCCCCC"> see</font><font color="#E5E5E5"> it would be nice to see in depth</font>

615
00:24:43,980 --> 00:24:48,360
<font color="#E5E5E5">how the protocol actually works so some</font>

616
00:24:47,310 --> 00:24:50,310
<font color="#E5E5E5">companies out there are</font><font color="#CCCCCC"> starting</font><font color="#E5E5E5"> to</font>

617
00:24:48,360 --> 00:24:52,020
document their<font color="#E5E5E5"> m10 crypto</font><font color="#CCCCCC"> in great</font>

618
00:24:50,310 --> 00:24:55,050
detail<font color="#CCCCCC"> it'd be great to</font><font color="#E5E5E5"> see that for</font>

619
00:24:52,020 --> 00:24:56,490
<font color="#CCCCCC">iCloud keychain - and in particular I</font>

620
00:24:55,050 --> 00:24:58,470
think<font color="#E5E5E5"> some of the two factors stuff</font>

621
00:24:56,490 --> 00:25:00,350
could use some more research<font color="#CCCCCC"> where the</font>

622
00:24:58,470 --> 00:25:02,670
exact security properties<font color="#E5E5E5"> there so</font>

623
00:25:00,350 --> 00:25:05,959
welcome soft alluded to some things but

624
00:25:02,670 --> 00:25:05,960
they didn't go into<font color="#E5E5E5"> great detail either</font>

625
00:25:06,200 --> 00:25:12,330
<font color="#CCCCCC">so that about wraps it up so thank</font><font color="#E5E5E5"> you</font>

626
00:25:09,920 --> 00:25:14,810
and I'd like<font color="#CCCCCC"> to</font><font color="#E5E5E5"> take any questions</font><font color="#CCCCCC"> you</font>

627
00:25:12,330 --> 00:25:14,810
guys may<font color="#E5E5E5"> have</font>

628
00:25:15,790 --> 00:25:23,159
[Applause]

