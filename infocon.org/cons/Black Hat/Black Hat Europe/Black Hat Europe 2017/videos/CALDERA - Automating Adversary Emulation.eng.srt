1
00:00:00,030 --> 00:00:04,830
thank you everyone for<font color="#CCCCCC"> coming appreciate</font>

2
00:00:02,520 --> 00:00:07,350
<font color="#CCCCCC">having you here</font><font color="#E5E5E5"> so we're here today to</font>

3
00:00:04,830 --> 00:00:10,170
talk<font color="#CCCCCC"> about a tool that</font><font color="#E5E5E5"> we created called</font>

4
00:00:07,350 --> 00:00:12,178
caldera<font color="#CCCCCC"> that automates adversary</font>

5
00:00:10,170 --> 00:00:15,059
emulation<font color="#E5E5E5"> so I'll introduce what that</font>

6
00:00:12,179 --> 00:00:17,760
means in<font color="#E5E5E5"> just a minute but first</font><font color="#CCCCCC"> I want</font>

7
00:00:15,059 --> 00:00:20,279
to tell you about who we are<font color="#CCCCCC"> so my name</font>

8
00:00:17,760 --> 00:00:23,340
is<font color="#E5E5E5"> Douglas Miller I'm a researcher at a</font>

9
00:00:20,279 --> 00:00:25,019
company called mitre<font color="#E5E5E5"> that runs research</font>

10
00:00:23,340 --> 00:00:26,460
and<font color="#E5E5E5"> development centers for the United</font>

11
00:00:25,019 --> 00:00:28,619
<font color="#CCCCCC">States government</font>

12
00:00:26,460 --> 00:00:31,560
I'm a senior cyber security engineer<font color="#E5E5E5"> so</font>

13
00:00:28,619 --> 00:00:35,610
if you've heard of attack<font color="#CCCCCC"> that's ATT</font>

14
00:00:31,560 --> 00:00:38,280
ampersand<font color="#CCCCCC"> CK that's a threat repository</font>

15
00:00:35,610 --> 00:00:40,950
that<font color="#E5E5E5"> we</font><font color="#CCCCCC"> made</font><font color="#E5E5E5"> at mitre</font><font color="#CCCCCC"> I worked</font><font color="#E5E5E5"> on</font><font color="#CCCCCC"> that I</font>

16
00:00:38,280 --> 00:00:43,500
also<font color="#E5E5E5"> do a bunch of applied red teaming</font>

17
00:00:40,950 --> 00:00:53,430
in my day job<font color="#E5E5E5"> as well and I'll let my</font>

18
00:00:43,500 --> 00:00:55,890
colleague Andy introduce himself<font color="#E5E5E5"> sounds</font>

19
00:00:53,430 --> 00:00:59,100
<font color="#E5E5E5">like</font><font color="#CCCCCC"> it okay my name is Andy I also work</font>

20
00:00:55,890 --> 00:01:03,470
at mitre<font color="#CCCCCC"> I work on attack as well and</font>

21
00:00:59,100 --> 00:01:07,290
<font color="#E5E5E5">also some AI research</font><font color="#CCCCCC"> really bad at bios</font>

22
00:01:03,470 --> 00:01:12,270
<font color="#E5E5E5">okay so with</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> of the way what is</font>

23
00:01:07,290 --> 00:01:13,799
ever<font color="#CCCCCC"> star emulation</font><font color="#E5E5E5"> so I it's a term</font>

24
00:01:12,270 --> 00:01:15,390
that we<font color="#CCCCCC"> use within mitre but I didn't</font>

25
00:01:13,799 --> 00:01:17,640
know if it's a term that other people

26
00:01:15,390 --> 00:01:20,790
understand and<font color="#CCCCCC"> Google tells us that</font>

27
00:01:17,640 --> 00:01:23,369
pretty much<font color="#CCCCCC"> nobody uses that term so I'm</font>

28
00:01:20,790 --> 00:01:25,080
gonna<font color="#E5E5E5"> tell you what it</font><font color="#CCCCCC"> means</font><font color="#E5E5E5"> but first I</font>

29
00:01:23,369 --> 00:01:27,840
want to introduce<font color="#E5E5E5"> you to the problem</font>

30
00:01:25,080 --> 00:01:29,100
<font color="#CCCCCC">that</font><font color="#E5E5E5"> we're trying</font><font color="#CCCCCC"> to solve and basically</font>

31
00:01:27,840 --> 00:01:32,040
the<font color="#E5E5E5"> problem is the false negative</font>

32
00:01:29,100 --> 00:01:34,679
problem<font color="#E5E5E5"> so if you're if you're like me</font>

33
00:01:32,040 --> 00:01:36,180
you're thinking false<font color="#E5E5E5"> and negative and</font>

34
00:01:34,680 --> 00:01:38,579
like<font color="#E5E5E5"> going</font><font color="#CCCCCC"> through the mental math</font><font color="#E5E5E5"> of</font>

35
00:01:36,180 --> 00:01:40,890
like true positive<font color="#E5E5E5"> okay false positive</font>

36
00:01:38,579 --> 00:01:42,000
<font color="#E5E5E5">false negative false negative</font><font color="#CCCCCC"> let me</font>

37
00:01:40,890 --> 00:01:44,159
<font color="#E5E5E5">help you out</font>

38
00:01:42,000 --> 00:01:47,130
a false<font color="#CCCCCC"> negative is the stuff that</font><font color="#E5E5E5"> you</font>

39
00:01:44,159 --> 00:01:49,079
should have<font color="#CCCCCC"> detected but didn't</font><font color="#E5E5E5"> so as a</font>

40
00:01:47,130 --> 00:01:50,759
network defender this is like the stuff

41
00:01:49,079 --> 00:01:55,110
<font color="#CCCCCC">that bad guys do</font><font color="#E5E5E5"> that you have no</font>

42
00:01:50,759 --> 00:01:58,140
visibility over and the idea here is<font color="#E5E5E5"> you</font>

43
00:01:55,110 --> 00:02:00,350
<font color="#CCCCCC">want to detect that stuff right</font><font color="#E5E5E5"> and I</font>

44
00:01:58,140 --> 00:02:02,969
mean so let's like quick show of<font color="#E5E5E5"> hands</font>

45
00:02:00,350 --> 00:02:05,789
who here<font color="#CCCCCC"> is confident</font><font color="#E5E5E5"> that they can</font>

46
00:02:02,969 --> 00:02:09,508
<font color="#E5E5E5">detect every single attack possible</font>

47
00:02:05,790 --> 00:02:10,979
against their network<font color="#CCCCCC"> I mean it's a</font>

48
00:02:09,508 --> 00:02:12,779
<font color="#CCCCCC">sonoda raise their hands right and I</font>

49
00:02:10,979 --> 00:02:14,010
mean<font color="#E5E5E5"> if someone did raise their hand I</font>

50
00:02:12,780 --> 00:02:17,370
would want<font color="#E5E5E5"> whatever</font>

51
00:02:14,010 --> 00:02:18,720
doing<font color="#CCCCCC"> because you know because</font><font color="#E5E5E5"> that's</font>

52
00:02:17,370 --> 00:02:22,409
kind of<font color="#E5E5E5"> like the panacea right I mean</font>

53
00:02:18,720 --> 00:02:24,629
everyone<font color="#CCCCCC"> knows we're vulnerable so if</font>

54
00:02:22,409 --> 00:02:27,569
you<font color="#CCCCCC"> think about like other domains you</font>

55
00:02:24,629 --> 00:02:29,849
know not just cyber<font color="#CCCCCC"> this is somewhat</font><font color="#E5E5E5"> of</font>

56
00:02:27,569 --> 00:02:31,679
a solved problem<font color="#CCCCCC"> so in a in</font><font color="#E5E5E5"> a previous</font>

57
00:02:29,849 --> 00:02:36,810
life<font color="#CCCCCC"> I worked at an electronics company</font>

58
00:02:31,680 --> 00:02:38,940
and they have a big lab in at the

59
00:02:36,810 --> 00:02:41,250
company I used to<font color="#CCCCCC"> work at dedicated to</font>

60
00:02:38,940 --> 00:02:42,840
just stress testing devices<font color="#CCCCCC"> you know so</font>

61
00:02:41,250 --> 00:02:45,540
they'd have<font color="#CCCCCC"> a machine that just</font><font color="#E5E5E5"> pressed</font>

62
00:02:42,840 --> 00:02:46,769
a button<font color="#CCCCCC"> millions</font><font color="#E5E5E5"> of times to see how</font>

63
00:02:45,540 --> 00:02:51,599
<font color="#E5E5E5">long it would</font><font color="#CCCCCC"> take for that button to</font>

64
00:02:46,769 --> 00:02:53,310
fail<font color="#E5E5E5"> and most organizations don't really</font>

65
00:02:51,599 --> 00:02:54,629
do that<font color="#E5E5E5"> I mean it's a hard problem cyber</font>

66
00:02:53,310 --> 00:02:57,540
is much more complicated<font color="#E5E5E5"> than just</font>

67
00:02:54,629 --> 00:03:00,510
<font color="#E5E5E5">pressing a button</font><font color="#CCCCCC"> but this is the</font><font color="#E5E5E5"> best</font>

68
00:02:57,540 --> 00:03:03,780
way to tell if you<font color="#E5E5E5"> know you're safe</font><font color="#CCCCCC"> by</font>

69
00:03:00,510 --> 00:03:06,899
testing<font color="#CCCCCC"> your network</font><font color="#E5E5E5"> and that's the idea</font>

70
00:03:03,780 --> 00:03:09,450
behind adversary emulation<font color="#E5E5E5"> so you</font>

71
00:03:06,900 --> 00:03:10,769
<font color="#CCCCCC">introduce a realistic adversary so it's</font>

72
00:03:09,450 --> 00:03:14,280
<font color="#E5E5E5">something as real as you can make it</font>

73
00:03:10,769 --> 00:03:16,650
<font color="#CCCCCC">onto your network and see how far the</font>

74
00:03:14,280 --> 00:03:18,389
attacker gets ideally you know you

75
00:03:16,650 --> 00:03:20,699
control the adversary you'll want to

76
00:03:18,389 --> 00:03:23,400
take<font color="#E5E5E5"> a real adversary and put it on your</font>

77
00:03:20,699 --> 00:03:26,010
network<font color="#CCCCCC"> but you can hire much</font><font color="#E5E5E5"> really</font>

78
00:03:23,400 --> 00:03:29,069
smart keyless to do it<font color="#E5E5E5"> or use it</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> a</font>

79
00:03:26,010 --> 00:03:30,660
<font color="#CCCCCC">light</font><font color="#E5E5E5"> caldera</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> think about this for a</font>

80
00:03:29,069 --> 00:03:33,119
second<font color="#E5E5E5"> so if you have an adversary you</font>

81
00:03:30,660 --> 00:03:35,190
can<font color="#CCCCCC"> actually see you know how far did</font>

82
00:03:33,120 --> 00:03:36,989
the adversary get did they were they

83
00:03:35,190 --> 00:03:39,660
able to<font color="#E5E5E5"> move from my endpoint</font>

84
00:03:36,989 --> 00:03:42,569
workstations to<font color="#E5E5E5"> you know my my like core</font>

85
00:03:39,660 --> 00:03:45,120
Enclave<font color="#CCCCCC"> did I detect them did I not</font>

86
00:03:42,569 --> 00:03:46,649
detect them<font color="#E5E5E5"> and then you can sort of you</font>

87
00:03:45,120 --> 00:03:48,299
know peel back the curtains and think

88
00:03:46,650 --> 00:03:50,190
<font color="#E5E5E5">about what mitigations you could put in</font>

89
00:03:48,299 --> 00:03:54,530
place<font color="#CCCCCC"> how can I prevent this in the</font>

90
00:03:50,190 --> 00:04:00,840
<font color="#E5E5E5">future and how can</font><font color="#CCCCCC"> I prove my detection</font>

91
00:03:54,530 --> 00:04:02,159
so<font color="#E5E5E5"> this</font><font color="#CCCCCC"> idea kind</font><font color="#E5E5E5"> of works in a cycle so</font>

92
00:04:00,840 --> 00:04:03,810
it's not good enough<font color="#CCCCCC"> to just</font><font color="#E5E5E5"> do this</font>

93
00:04:02,159 --> 00:04:05,010
once<font color="#E5E5E5"> I mean it's like it's like any</font>

94
00:04:03,810 --> 00:04:06,329
<font color="#CCCCCC">other</font><font color="#E5E5E5"> thing it's like penetration</font>

95
00:04:05,010 --> 00:04:07,679
testing it's like vulnerable scanning

96
00:04:06,329 --> 00:04:09,709
<font color="#E5E5E5">you can't just do this one so you</font><font color="#CCCCCC"> have</font>

97
00:04:07,680 --> 00:04:12,120
to<font color="#E5E5E5"> keep doing it over and over again</font><font color="#CCCCCC"> so</font>

98
00:04:09,709 --> 00:04:14,069
<font color="#CCCCCC">you start</font><font color="#E5E5E5"> by emulating the adversary</font>

99
00:04:12,120 --> 00:04:16,380
right and then you kind of<font color="#E5E5E5"> do some</font>

100
00:04:14,069 --> 00:04:18,389
<font color="#E5E5E5">inspection so did it did we succeed did</font>

101
00:04:16,380 --> 00:04:20,570
we detect how can we improve and then

102
00:04:18,389 --> 00:04:22,800
you go back<font color="#CCCCCC"> and you think about what</font>

103
00:04:20,570 --> 00:04:25,979
changes you can make to<font color="#CCCCCC"> improve your</font>

104
00:04:22,800 --> 00:04:27,139
network and so<font color="#CCCCCC"> Caldera</font><font color="#E5E5E5"> the tool really</font>

105
00:04:25,979 --> 00:04:29,180
<font color="#E5E5E5">sits</font><font color="#CCCCCC"> is just</font>

106
00:04:27,139 --> 00:04:31,729
piece<font color="#CCCCCC"> of this puzzle the rest of</font><font color="#E5E5E5"> this is</font>

107
00:04:29,180 --> 00:04:35,990
something that you<font color="#CCCCCC"> have to do as you</font>

108
00:04:31,729 --> 00:04:37,909
<font color="#E5E5E5">know as a human as a network defender</font><font color="#CCCCCC"> so</font>

109
00:04:35,990 --> 00:04:39,560
there<font color="#E5E5E5"> are a couple</font><font color="#CCCCCC"> of key pieces to</font>

110
00:04:37,909 --> 00:04:40,789
making<font color="#CCCCCC"> adversary emulation</font><font color="#E5E5E5"> work and I</font>

111
00:04:39,560 --> 00:04:43,219
already<font color="#E5E5E5"> talked about a few of them but</font>

112
00:04:40,789 --> 00:04:45,169
<font color="#E5E5E5">you really need to make it as realistic</font>

113
00:04:43,219 --> 00:04:47,719
as possible<font color="#CCCCCC"> you want the adversary</font><font color="#E5E5E5"> to be</font>

114
00:04:45,169 --> 00:04:49,849
like a real adversary<font color="#E5E5E5"> and this is</font>

115
00:04:47,719 --> 00:04:51,560
<font color="#E5E5E5">different from a</font><font color="#CCCCCC"> lot of other testing</font>

116
00:04:49,849 --> 00:04:53,270
<font color="#CCCCCC">mechanisms so you think about</font>

117
00:04:51,560 --> 00:04:56,389
vulnerability scanning<font color="#CCCCCC"> you think about</font>

118
00:04:53,270 --> 00:04:58,669
<font color="#E5E5E5">penetration testing</font><font color="#CCCCCC"> even</font><font color="#E5E5E5"> red teaming if</font>

119
00:04:56,389 --> 00:05:02,090
any of you<font color="#E5E5E5"> are familiar with that</font><font color="#CCCCCC"> this</font>

120
00:04:58,669 --> 00:05:03,620
you know<font color="#E5E5E5"> red teaming for example</font><font color="#CCCCCC"> you're</font>

121
00:05:02,090 --> 00:05:05,448
<font color="#E5E5E5">really looking at trying</font><font color="#CCCCCC"> not to get</font>

122
00:05:03,620 --> 00:05:07,370
caught<font color="#CCCCCC"> so if you're a red team</font><font color="#E5E5E5"> you don't</font>

123
00:05:05,449 --> 00:05:09,650
want the blue team to catch you that's

124
00:05:07,370 --> 00:05:10,699
not<font color="#E5E5E5"> what ever sorry emulation is if the</font>

125
00:05:09,650 --> 00:05:12,830
blue team catches you

126
00:05:10,699 --> 00:05:15,020
that means you good<font color="#CCCCCC"> job for the blue</font>

127
00:05:12,830 --> 00:05:16,729
team<font color="#CCCCCC"> what's important is</font><font color="#E5E5E5"> you want to be</font>

128
00:05:15,020 --> 00:05:18,349
real<font color="#CCCCCC"> you</font><font color="#E5E5E5"> want to use the same techniques</font>

129
00:05:16,729 --> 00:05:20,300
<font color="#CCCCCC">you want to use the same tactics</font><font color="#E5E5E5"> you're</font>

130
00:05:18,349 --> 00:05:21,800
going to use the same tools as what

131
00:05:20,300 --> 00:05:24,529
attackers are going to use on<font color="#CCCCCC"> your</font>

132
00:05:21,800 --> 00:05:26,509
network against your organization you

133
00:05:24,529 --> 00:05:28,219
want<font color="#E5E5E5"> to be</font><font color="#CCCCCC"> end-to-end</font><font color="#E5E5E5"> and this is a big</font>

134
00:05:26,509 --> 00:05:29,689
one<font color="#CCCCCC"> so this really differentiates it</font>

135
00:05:28,219 --> 00:05:30,740
from<font color="#E5E5E5"> something like pen testing where</font>

136
00:05:29,689 --> 00:05:32,990
you're really<font color="#E5E5E5"> just looking for those</font>

137
00:05:30,740 --> 00:05:35,180
perimeter holes in your network with an

138
00:05:32,990 --> 00:05:36,740
end-to-end adversary emulation<font color="#E5E5E5"> you get</font>

139
00:05:35,180 --> 00:05:38,900
in and<font color="#E5E5E5"> that's just to start</font>

140
00:05:36,740 --> 00:05:40,550
you<font color="#E5E5E5"> want to go all</font><font color="#CCCCCC"> the way towards you</font>

141
00:05:38,900 --> 00:05:42,529
know whatever the full compromise is for

142
00:05:40,550 --> 00:05:44,770
your network<font color="#E5E5E5"> so compromising the domain</font>

143
00:05:42,529 --> 00:05:47,270
controller<font color="#CCCCCC"> getting domain admin</font>

144
00:05:44,770 --> 00:05:48,889
<font color="#CCCCCC">exfilling the critical</font><font color="#E5E5E5"> data off your</font>

145
00:05:47,270 --> 00:05:50,710
network<font color="#E5E5E5"> that's where you want to stop</font>

146
00:05:48,889 --> 00:05:53,120
you<font color="#E5E5E5"> want to do the whole spectrum and</font>

147
00:05:50,710 --> 00:05:54,560
you want to be<font color="#CCCCCC"> repeatable so you don't</font>

148
00:05:53,120 --> 00:05:56,689
want to just do this once you want<font color="#E5E5E5"> to</font><font color="#CCCCCC"> be</font>

149
00:05:54,560 --> 00:05:58,219
<font color="#E5E5E5">able to do it multiple times and measure</font>

150
00:05:56,689 --> 00:06:01,279
the improvement<font color="#E5E5E5"> and your security</font>

151
00:05:58,219 --> 00:06:05,180
<font color="#E5E5E5">posture as you implement mitigations and</font>

152
00:06:01,279 --> 00:06:08,360
you know try<font color="#CCCCCC"> to improve your security so</font>

153
00:06:05,180 --> 00:06:09,169
this is the tool it's it actually exists

154
00:06:08,360 --> 00:06:10,789
<font color="#E5E5E5">I know I've been</font><font color="#CCCCCC"> kind of talking</font>

155
00:06:09,169 --> 00:06:13,068
<font color="#CCCCCC">high-level and introducing the concepts</font>

156
00:06:10,789 --> 00:06:15,740
but I want you<font color="#E5E5E5"> to at</font><font color="#CCCCCC"> least</font><font color="#E5E5E5"> have a mental</font>

157
00:06:13,069 --> 00:06:18,259
picture for what we did<font color="#E5E5E5"> while we're</font>

158
00:06:15,740 --> 00:06:19,819
<font color="#E5E5E5">talking about it</font><font color="#CCCCCC"> so this</font><font color="#E5E5E5"> is the</font>

159
00:06:18,259 --> 00:06:22,639
operation screen<font color="#E5E5E5"> this</font><font color="#CCCCCC"> is kind of like</font>

160
00:06:19,819 --> 00:06:24,020
the core piece<font color="#CCCCCC"> of how it works</font>

161
00:06:22,639 --> 00:06:27,319
so there's there's a<font color="#E5E5E5"> lot going on here</font>

162
00:06:24,020 --> 00:06:29,508
<font color="#CCCCCC">and</font><font color="#E5E5E5"> well we'll dive into</font><font color="#CCCCCC"> it but</font><font color="#E5E5E5"> you have</font>

163
00:06:27,319 --> 00:06:31,610
a picture<font color="#CCCCCC"> of your network the box the</font>

164
00:06:29,509 --> 00:06:33,500
bubbles here are the different<font color="#CCCCCC"> computers</font>

165
00:06:31,610 --> 00:06:34,969
<font color="#CCCCCC">that are taking part in</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> exercise and</font>

166
00:06:33,500 --> 00:06:36,680
then<font color="#E5E5E5"> you've got kind</font><font color="#CCCCCC"> of a running screen</font>

167
00:06:34,969 --> 00:06:38,419
on the<font color="#E5E5E5"> right-hand side</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> everything</font>

168
00:06:36,680 --> 00:06:41,050
that the system is<font color="#E5E5E5"> doing all the steps</font>

169
00:06:38,419 --> 00:06:41,049
that<font color="#E5E5E5"> is taking</font>

170
00:06:41,060 --> 00:06:45,110
so kind<font color="#E5E5E5"> of an overview</font><font color="#CCCCCC"> of how</font><font color="#E5E5E5"> the tool</font>

171
00:06:42,770 --> 00:06:47,419
<font color="#E5E5E5">works so the first thing</font><font color="#CCCCCC"> to do is you</font>

172
00:06:45,110 --> 00:06:49,820
<font color="#E5E5E5">install a small service shim on every</font>

173
00:06:47,420 --> 00:06:51,800
<font color="#E5E5E5">computer that you're going to be using</font>

174
00:06:49,820 --> 00:06:54,620
to participate<font color="#CCCCCC"> so this is</font><font color="#E5E5E5"> just a small</font>

175
00:06:51,800 --> 00:06:57,230
Windows program<font color="#CCCCCC"> the system itself is</font>

176
00:06:54,620 --> 00:07:00,020
window specific so unlike you know you

177
00:06:57,230 --> 00:07:03,770
learn<font color="#E5E5E5"> in</font><font color="#CCCCCC"> university</font><font color="#E5E5E5"> most of the world</font>

178
00:07:00,020 --> 00:07:07,760
still runs on<font color="#E5E5E5"> Windows sadly or not sadly</font>

179
00:07:03,770 --> 00:07:09,799
but<font color="#E5E5E5"> so it is window specific you install</font>

180
00:07:07,760 --> 00:07:11,690
the service shim you create an adversary

181
00:07:09,800 --> 00:07:16,360
by giving it capabilities<font color="#CCCCCC"> so these are</font>

182
00:07:11,690 --> 00:07:20,420
<font color="#E5E5E5">things like</font><font color="#CCCCCC"> Pradesh WMI lateral movement</font>

183
00:07:16,360 --> 00:07:23,600
<font color="#CCCCCC">exfil and then you just basically click</font>

184
00:07:20,420 --> 00:07:25,250
<font color="#E5E5E5">go</font><font color="#CCCCCC"> and the system</font><font color="#E5E5E5"> knows how to compose</font>

185
00:07:23,600 --> 00:07:28,010
the pieces together that<font color="#E5E5E5"> you tell it</font><font color="#CCCCCC"> to</font>

186
00:07:25,250 --> 00:07:29,870
do<font color="#E5E5E5"> so</font><font color="#CCCCCC"> while the system is</font><font color="#E5E5E5"> running it'll</font>

187
00:07:28,010 --> 00:07:31,430
tell you what's going on<font color="#E5E5E5"> it will say</font>

188
00:07:29,870 --> 00:07:33,140
<font color="#E5E5E5">well what it's doing and afterwards</font>

189
00:07:31,430 --> 00:07:35,660
<font color="#E5E5E5">it'll kind of show you an overview of</font>

190
00:07:33,140 --> 00:07:37,099
what happened<font color="#E5E5E5"> and it does have a</font><font color="#CCCCCC"> cleanup</font>

191
00:07:35,660 --> 00:07:39,050
<font color="#E5E5E5">function so anything</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> happens</font><font color="#CCCCCC"> in the</font>

192
00:07:37,100 --> 00:07:40,730
network files that are<font color="#CCCCCC"> dropped</font><font color="#E5E5E5"> processes</font>

193
00:07:39,050 --> 00:07:42,700
that are created services<font color="#E5E5E5"> that are</font>

194
00:07:40,730 --> 00:07:47,900
created all that<font color="#E5E5E5"> stuff gets cleaned up</font>

195
00:07:42,700 --> 00:07:51,310
you know most people want<font color="#E5E5E5"> that so</font><font color="#CCCCCC"> so</font>

196
00:07:47,900 --> 00:07:53,690
<font color="#E5E5E5">they're kind of three key components to</font>

197
00:07:51,310 --> 00:07:56,570
<font color="#E5E5E5">designing a</font><font color="#CCCCCC"> system that automates</font><font color="#E5E5E5"> ever</font>

198
00:07:53,690 --> 00:07:58,400
stimulation and<font color="#E5E5E5"> the first one is what</font>

199
00:07:56,570 --> 00:08:00,230
the adversary<font color="#E5E5E5"> is able to do for the</font>

200
00:07:58,400 --> 00:08:02,599
feature set that<font color="#CCCCCC"> the adversary has</font><font color="#E5E5E5"> and</font>

201
00:08:00,230 --> 00:08:04,910
the the<font color="#E5E5E5"> thing that</font><font color="#CCCCCC"> we used is something</font>

202
00:08:02,600 --> 00:08:06,800
<font color="#CCCCCC">that we also created called attack</font><font color="#E5E5E5"> so of</font>

203
00:08:04,910 --> 00:08:08,660
<font color="#E5E5E5">course we use it but it is actually</font><font color="#CCCCCC"> a</font>

204
00:08:06,800 --> 00:08:11,660
really<font color="#E5E5E5"> good model</font><font color="#CCCCCC"> and II will talk about</font>

205
00:08:08,660 --> 00:08:13,400
this in a<font color="#CCCCCC"> minute we also so the another</font>

206
00:08:11,660 --> 00:08:15,950
<font color="#E5E5E5">piece of it it's not just</font><font color="#CCCCCC"> what the</font>

207
00:08:13,400 --> 00:08:17,810
<font color="#E5E5E5">adversary can do but how it can do it so</font>

208
00:08:15,950 --> 00:08:19,820
the<font color="#E5E5E5"> choices that the adversary makes and</font>

209
00:08:17,810 --> 00:08:22,550
this<font color="#E5E5E5"> is a really interesting really fun</font>

210
00:08:19,820 --> 00:08:24,170
<font color="#E5E5E5">problem that we worked on</font><font color="#CCCCCC"> and the</font><font color="#E5E5E5"> last</font>

211
00:08:22,550 --> 00:08:26,840
part is<font color="#E5E5E5"> sort of all the extra stuff so</font>

212
00:08:24,170 --> 00:08:29,210
<font color="#CCCCCC">all the glue you know the stuff that</font>

213
00:08:26,840 --> 00:08:30,710
parses<font color="#E5E5E5"> command line output all that fun</font>

214
00:08:29,210 --> 00:08:31,729
<font color="#CCCCCC">stuff</font><font color="#E5E5E5"> so we did all three of these</font>

215
00:08:30,710 --> 00:08:38,179
<font color="#E5E5E5">things and we'll talk about them in</font>

216
00:08:31,730 --> 00:08:40,070
<font color="#CCCCCC">detail oops so with that I'm gonna</font><font color="#E5E5E5"> hand</font>

217
00:08:38,179 --> 00:08:46,310
it<font color="#E5E5E5"> off to my colleague Andy for the</font>

218
00:08:40,070 --> 00:08:48,320
<font color="#CCCCCC">adversary model and</font><font color="#E5E5E5"> hear me oh cool</font>

219
00:08:46,310 --> 00:08:50,689
thanks<font color="#E5E5E5"> Doug yes I'm gonna talk a bit</font>

220
00:08:48,320 --> 00:08:53,270
about the adversary model first we were

221
00:08:50,690 --> 00:08:54,710
designing caldera we you know we<font color="#CCCCCC"> we see</font>

222
00:08:53,270 --> 00:08:56,650
<font color="#CCCCCC">long-term</font><font color="#E5E5E5"> like red teaming pentest</font>

223
00:08:54,710 --> 00:08:58,610
things like using<font color="#E5E5E5"> exploits or</font>

224
00:08:56,650 --> 00:09:01,100
vulnerabilities and configuration

225
00:08:58,610 --> 00:09:03,320
simulations all very useful<font color="#E5E5E5"> tools but</font>

226
00:09:01,100 --> 00:09:05,060
when we were designing caldera we didn't

227
00:09:03,320 --> 00:09:06,800
<font color="#E5E5E5">necessarily want to go that route</font><font color="#CCCCCC"> we</font>

228
00:09:05,060 --> 00:09:08,989
wanted<font color="#E5E5E5"> to focus on adversary emulation</font>

229
00:09:06,800 --> 00:09:10,969
<font color="#E5E5E5">and using a what kind of showing what a</font>

230
00:09:08,990 --> 00:09:12,320
real adversary<font color="#E5E5E5"> would do after</font><font color="#CCCCCC"> they</font><font color="#E5E5E5"> get</font>

231
00:09:10,970 --> 00:09:16,100
<font color="#E5E5E5">into your network really focusing on</font>

232
00:09:12,320 --> 00:09:17,900
that<font color="#E5E5E5"> post compromised aspect so this led</font>

233
00:09:16,100 --> 00:09:19,190
us to use the<font color="#E5E5E5"> mitre attack framework I'm</font>

234
00:09:17,900 --> 00:09:23,780
not<font color="#E5E5E5"> going to go through it in</font><font color="#CCCCCC"> detail</font><font color="#E5E5E5"> but</font>

235
00:09:19,190 --> 00:09:24,980
<font color="#E5E5E5">it's essentially a higher fidelity model</font>

236
00:09:23,780 --> 00:09:26,540
that focuses<font color="#CCCCCC"> on kind</font><font color="#E5E5E5"> of what the</font>

237
00:09:24,980 --> 00:09:30,380
adversary does after<font color="#CCCCCC"> they exploit them</font>

238
00:09:26,540 --> 00:09:31,849
<font color="#E5E5E5">they get into</font><font color="#CCCCCC"> your network News</font><font color="#E5E5E5"> reporter</font>

239
00:09:30,380 --> 00:09:33,470
doesn't really work but it's all

240
00:09:31,850 --> 00:09:35,330
<font color="#E5E5E5">publicly</font><font color="#CCCCCC"> available online attacked at</font>

241
00:09:33,470 --> 00:09:38,960
<font color="#CCCCCC">mitre org it's</font><font color="#E5E5E5"> awesome I recommend it</font>

242
00:09:35,330 --> 00:09:41,000
for it<font color="#E5E5E5"> almost almost everything</font><font color="#CCCCCC"> but we</font>

243
00:09:38,960 --> 00:09:42,560
<font color="#CCCCCC">basically taken</font><font color="#E5E5E5"> the right of exploit</font>

244
00:09:41,000 --> 00:09:45,140
kill chain phases and broken<font color="#E5E5E5"> them down</font>

245
00:09:42,560 --> 00:09:47,209
into<font color="#CCCCCC"> ten high-level adversary tactical</font>

246
00:09:45,140 --> 00:09:48,800
goals<font color="#CCCCCC"> see persistence privilege</font>

247
00:09:47,210 --> 00:09:51,230
escalation defensive age and lateral

248
00:09:48,800 --> 00:09:52,459
movement execration all those kind of

249
00:09:51,230 --> 00:09:55,190
normal things<font color="#E5E5E5"> you read</font><font color="#CCCCCC"> about you know</font>

250
00:09:52,460 --> 00:09:56,930
adversaries doing and then we enumerate

251
00:09:55,190 --> 00:09:58,580
the techniques that<font color="#CCCCCC"> are available to the</font>

252
00:09:56,930 --> 00:10:00,849
adversary<font color="#CCCCCC"> to achieve those tactical</font>

253
00:09:58,580 --> 00:10:02,900
goals<font color="#E5E5E5"> so as an example if you look</font>

254
00:10:00,850 --> 00:10:05,030
second from the bottom upper<font color="#CCCCCC"> left hand</font>

255
00:10:02,900 --> 00:10:06,350
corner<font color="#E5E5E5"> legitimate credentials is a way</font>

256
00:10:05,030 --> 00:10:08,420
an adversary<font color="#CCCCCC"> can use to maintain</font>

257
00:10:06,350 --> 00:10:11,720
persistence or privilege escalation or

258
00:10:08,420 --> 00:10:13,910
even defense evasion one of the key

259
00:10:11,720 --> 00:10:15,410
<font color="#CCCCCC">features of attack is</font><font color="#E5E5E5"> that everything in</font>

260
00:10:13,910 --> 00:10:17,360
the model all these techniques<font color="#E5E5E5"> are</font>

261
00:10:15,410 --> 00:10:19,219
backed up with real<font color="#E5E5E5"> open source</font>

262
00:10:17,360 --> 00:10:21,380
intelligence<font color="#CCCCCC"> so we've identified</font>

263
00:10:19,220 --> 00:10:23,900
publicly<font color="#E5E5E5"> available threat reports to say</font>

264
00:10:21,380 --> 00:10:25,370
hey<font color="#E5E5E5"> adversaries actually do these things</font>

265
00:10:23,900 --> 00:10:27,650
<font color="#CCCCCC">these</font><font color="#E5E5E5"> are the things that they actually</font>

266
00:10:25,370 --> 00:10:28,970
do<font color="#CCCCCC"> that's been useful for</font><font color="#E5E5E5"> caldera</font>

267
00:10:27,650 --> 00:10:31,420
because we want to<font color="#E5E5E5"> focus on that real</font>

268
00:10:28,970 --> 00:10:33,710
component of emulating<font color="#CCCCCC"> a real adversary</font>

269
00:10:31,420 --> 00:10:35,709
<font color="#E5E5E5">this is a brief enumeration of</font><font color="#CCCCCC"> the</font>

270
00:10:33,710 --> 00:10:38,450
things that are currently<font color="#E5E5E5"> encoded into</font>

271
00:10:35,710 --> 00:10:40,010
<font color="#E5E5E5">caldera based on attack we have</font>

272
00:10:38,450 --> 00:10:42,260
<font color="#E5E5E5">persistence privilege escalation defense</font>

273
00:10:40,010 --> 00:10:43,760
evasion execution exfiltration discovery

274
00:10:42,260 --> 00:10:46,069
kind of all the kind of<font color="#E5E5E5"> the main things</font>

275
00:10:43,760 --> 00:10:49,970
that you<font color="#CCCCCC"> need to emulate</font><font color="#E5E5E5"> that full</font>

276
00:10:46,070 --> 00:10:51,230
adversary lifecycle<font color="#E5E5E5"> so I'm gonna switch</font>

277
00:10:49,970 --> 00:10:54,470
<font color="#CCCCCC">gears a little</font><font color="#E5E5E5"> bit</font><font color="#CCCCCC"> and talk now about</font>

278
00:10:51,230 --> 00:10:56,690
the<font color="#E5E5E5"> decision-making component and when</font>

279
00:10:54,470 --> 00:10:59,030
we first made caldera<font color="#E5E5E5"> we took a finite</font>

280
00:10:56,690 --> 00:11:00,860
state<font color="#E5E5E5"> machine approach where we would</font>

281
00:10:59,030 --> 00:11:03,620
<font color="#CCCCCC">basically</font><font color="#E5E5E5"> scan for hosts we would select</font>

282
00:11:00,860 --> 00:11:05,300
<font color="#CCCCCC">a target</font><font color="#E5E5E5"> it would scan the target move</font>

283
00:11:03,620 --> 00:11:08,270
laterally<font color="#E5E5E5"> to that target</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> then dump</font>

284
00:11:05,300 --> 00:11:09,800
credentials and this worked well

285
00:11:08,270 --> 00:11:11,240
<font color="#E5E5E5">was successful I went through it kind</font><font color="#CCCCCC"> of</font>

286
00:11:09,800 --> 00:11:13,400
iterated through<font color="#E5E5E5"> this</font><font color="#CCCCCC"> process but</font><font color="#E5E5E5"> there</font>

287
00:11:11,240 --> 00:11:16,220
were some<font color="#E5E5E5"> downsides</font><font color="#CCCCCC"> first it</font><font color="#E5E5E5"> was</font><font color="#CCCCCC"> hard to</font>

288
00:11:13,400 --> 00:11:17,270
<font color="#E5E5E5">add new techniques</font><font color="#CCCCCC"> every time we wanted</font>

289
00:11:16,220 --> 00:11:19,460
<font color="#E5E5E5">to add something we had to fully</font>

290
00:11:17,270 --> 00:11:21,050
recompute the finite<font color="#E5E5E5"> state machine if I</font>

291
00:11:19,460 --> 00:11:22,820
want to establish persistence where does

292
00:11:21,050 --> 00:11:25,310
<font color="#CCCCCC">that fit in with relationship to all the</font>

293
00:11:22,820 --> 00:11:27,200
other<font color="#E5E5E5"> actions I have it was also very</font>

294
00:11:25,310 --> 00:11:29,420
<font color="#E5E5E5">hard to configure an operation to be</font>

295
00:11:27,200 --> 00:11:31,940
specific<font color="#CCCCCC"> if I want to pick and choose</font>

296
00:11:29,420 --> 00:11:33,170
which one of these<font color="#E5E5E5"> actions</font><font color="#CCCCCC"> how do I</font><font color="#E5E5E5"> make</font>

297
00:11:31,940 --> 00:11:35,840
<font color="#CCCCCC">sure that the</font><font color="#E5E5E5"> finite state machine that</font>

298
00:11:33,170 --> 00:11:37,099
<font color="#E5E5E5">results</font><font color="#CCCCCC"> from it actually</font><font color="#E5E5E5"> works then the</font>

299
00:11:35,840 --> 00:11:39,290
other downside<font color="#E5E5E5"> was it was very</font>

300
00:11:37,100 --> 00:11:40,220
<font color="#E5E5E5">predictable when it was executing it</font>

301
00:11:39,290 --> 00:11:42,500
would just keep running<font color="#E5E5E5"> through this</font>

302
00:11:40,220 --> 00:11:43,790
loop<font color="#E5E5E5"> repeatedly repeatedly</font><font color="#CCCCCC"> you can see</font>

303
00:11:42,500 --> 00:11:46,340
in this<font color="#CCCCCC"> visualization I don't know if it</font>

304
00:11:43,790 --> 00:11:47,270
renders too well on the screen<font color="#CCCCCC"> but out</font>

305
00:11:46,340 --> 00:11:48,980
there<font color="#CCCCCC"> just</font><font color="#E5E5E5"> kind of iterated through</font>

306
00:11:47,270 --> 00:11:52,400
<font color="#CCCCCC">there over and over</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> over again</font><font color="#E5E5E5"> and</font>

307
00:11:48,980 --> 00:11:53,540
if I'm a<font color="#E5E5E5"> defender you know and I'm</font>

308
00:11:52,400 --> 00:11:55,550
seeing something that<font color="#E5E5E5"> might look like</font>

309
00:11:53,540 --> 00:11:56,569
<font color="#CCCCCC">that it's a little</font><font color="#E5E5E5"> easier to detect and</font>

310
00:11:55,550 --> 00:11:59,359
something that's<font color="#E5E5E5"> doing a little bit more</font>

311
00:11:56,570 --> 00:12:02,210
to blend in so we decided<font color="#E5E5E5"> to go to the</font>

312
00:11:59,360 --> 00:12:03,980
drawing board<font color="#E5E5E5"> and consider okay how do</font>

313
00:12:02,210 --> 00:12:06,650
we<font color="#E5E5E5"> actually design this decision-making</font>

314
00:12:03,980 --> 00:12:09,140
<font color="#E5E5E5">engine and we thought to</font><font color="#CCCCCC"> ourselves</font><font color="#E5E5E5"> okay</font>

315
00:12:06,650 --> 00:12:10,850
humans we typically have you know lots

316
00:12:09,140 --> 00:12:12,890
<font color="#CCCCCC">of this domain knowledge</font><font color="#E5E5E5"> domain</font>

317
00:12:10,850 --> 00:12:14,570
inference<font color="#E5E5E5"> and we're looking at things</font>

318
00:12:12,890 --> 00:12:17,120
we're kind of<font color="#E5E5E5"> guessing things</font><font color="#CCCCCC"> what we're</font>

319
00:12:14,570 --> 00:12:18,890
<font color="#E5E5E5">doing targeting TTP selection all of</font>

320
00:12:17,120 --> 00:12:20,360
<font color="#E5E5E5">these things you</font><font color="#CCCCCC"> know</font><font color="#E5E5E5"> and you know do we</font>

321
00:12:18,890 --> 00:12:22,250
dump creds or do<font color="#E5E5E5"> I launch an exploit</font>

322
00:12:20,360 --> 00:12:25,130
what's the right technique to use<font color="#E5E5E5"> in</font>

323
00:12:22,250 --> 00:12:26,750
this specific<font color="#CCCCCC"> situation and all</font><font color="#E5E5E5"> that</font>

324
00:12:25,130 --> 00:12:29,420
stuff we we need to automate<font color="#E5E5E5"> it as</font>

325
00:12:26,750 --> 00:12:30,650
Caldera<font color="#E5E5E5"> so we came up with some</font>

326
00:12:29,420 --> 00:12:32,930
<font color="#CCCCCC">requirements you know we want to make</font>

327
00:12:30,650 --> 00:12:34,640
<font color="#E5E5E5">intelligent choices for adversary</font><font color="#CCCCCC"> womp</font>

328
00:12:32,930 --> 00:12:36,949
we<font color="#E5E5E5"> want to achieve tactical</font><font color="#CCCCCC"> objective</font>

329
00:12:34,640 --> 00:12:38,930
like an adversary does<font color="#E5E5E5"> we really want to</font>

330
00:12:36,950 --> 00:12:40,370
<font color="#E5E5E5">easily incorporate new techniques I</font>

331
00:12:38,930 --> 00:12:41,780
don't want to have to recompute a finite

332
00:12:40,370 --> 00:12:43,400
state<font color="#E5E5E5"> machine I just</font><font color="#CCCCCC"> want to make a new</font>

333
00:12:41,780 --> 00:12:46,520
technique<font color="#E5E5E5"> throw it into the system and</font>

334
00:12:43,400 --> 00:12:48,680
<font color="#CCCCCC">let it go I also want to work in new and</font>

335
00:12:46,520 --> 00:12:50,300
unknown environments<font color="#E5E5E5"> by then I mean I</font>

336
00:12:48,680 --> 00:12:52,250
don't<font color="#E5E5E5"> want to have to configure</font><font color="#CCCCCC"> caldera</font>

337
00:12:50,300 --> 00:12:53,630
and<font color="#E5E5E5"> say okay these are the</font><font color="#CCCCCC"> hosts</font><font color="#E5E5E5"> that</font>

338
00:12:52,250 --> 00:12:54,980
are<font color="#CCCCCC"> on my network these are the</font>

339
00:12:53,630 --> 00:12:56,420
credentials<font color="#CCCCCC"> that are</font><font color="#E5E5E5"> on</font><font color="#CCCCCC"> my network</font><font color="#E5E5E5"> these</font>

340
00:12:54,980 --> 00:12:58,820
<font color="#E5E5E5">are the shares I don't want to tell it</font>

341
00:12:56,420 --> 00:13:00,890
any of that<font color="#E5E5E5"> I want to tell caldera</font><font color="#CCCCCC"> okay</font>

342
00:12:58,820 --> 00:13:03,470
Ivan you know<font color="#CCCCCC"> it's</font><font color="#E5E5E5"> installed go go have</font>

343
00:13:00,890 --> 00:13:05,720
fun<font color="#E5E5E5"> go go dude go go be an adversary</font><font color="#CCCCCC"> I</font>

344
00:13:03,470 --> 00:13:07,940
also want to bury the operations<font color="#E5E5E5"> and</font>

345
00:13:05,720 --> 00:13:10,820
then finally I want to chain weaknesses

346
00:13:07,940 --> 00:13:12,980
<font color="#E5E5E5">from multiple for maximum effect what I</font>

347
00:13:10,820 --> 00:13:17,570
<font color="#E5E5E5">mean by</font><font color="#CCCCCC"> that is I don't want</font><font color="#E5E5E5"> to just you</font>

348
00:13:12,980 --> 00:13:19,370
know pop a box<font color="#CCCCCC"> I want to take a</font><font color="#E5E5E5"> little</font>

349
00:13:17,570 --> 00:13:21,380
vulnerability maybe I get some creds and

350
00:13:19,370 --> 00:13:22,130
<font color="#E5E5E5">then I can mount a file share copy</font>

351
00:13:21,380 --> 00:13:24,290
something over

352
00:13:22,130 --> 00:13:25,640
and then<font color="#E5E5E5"> execute that remotely training</font>

353
00:13:24,290 --> 00:13:28,490
<font color="#E5E5E5">these little things together that create</font>

354
00:13:25,640 --> 00:13:29,660
a larger attack pattern so to kind of

355
00:13:28,490 --> 00:13:31,880
<font color="#CCCCCC">motivate some of</font><font color="#E5E5E5"> the things I'm going to</font>

356
00:13:29,660 --> 00:13:33,949
talk<font color="#CCCCCC"> about</font><font color="#E5E5E5"> I took very very toys simple</font>

357
00:13:31,880 --> 00:13:35,870
example let's say you got host 1 and

358
00:13:33,950 --> 00:13:37,580
host 2 I've<font color="#CCCCCC"> got a rat running on host 1</font>

359
00:13:35,870 --> 00:13:40,250
<font color="#E5E5E5">I've identified that there's some</font>

360
00:13:37,580 --> 00:13:42,800
<font color="#E5E5E5">sensitive files on house 2 and I want to</font>

361
00:13:40,250 --> 00:13:45,380
exfiltrate them so I might<font color="#E5E5E5"> have this</font>

362
00:13:42,800 --> 00:13:46,969
kind of<font color="#E5E5E5"> this bag of TTP is exploiting a</font>

363
00:13:45,380 --> 00:13:49,670
vulnerability mounting a file share or

364
00:13:46,970 --> 00:13:52,190
copying a file<font color="#CCCCCC"> Remote Desktop the</font>

365
00:13:49,670 --> 00:13:54,140
question is how do I arrange these

366
00:13:52,190 --> 00:13:56,240
different TTP's<font color="#E5E5E5"> into my goal how do i</font>

367
00:13:54,140 --> 00:13:59,390
how do i chain them together<font color="#E5E5E5"> to actual</font>

368
00:13:56,240 --> 00:14:01,790
trait data so let's look at the<font color="#E5E5E5"> specific</font>

369
00:13:59,390 --> 00:14:03,620
example<font color="#E5E5E5"> of an action here I want to talk</font>

370
00:14:01,790 --> 00:14:06,560
<font color="#E5E5E5">about copying a file from host 1 to</font>

371
00:14:03,620 --> 00:14:08,030
<font color="#E5E5E5">house to what we might want</font><font color="#CCCCCC"> to do</font><font color="#E5E5E5"> and</font>

372
00:14:06,560 --> 00:14:11,239
understanding this action is enumerate

373
00:14:08,030 --> 00:14:12,560
<font color="#E5E5E5">what the requirements are and here in</font>

374
00:14:11,240 --> 00:14:14,510
the question<font color="#CCCCCC"> is well what do I need to</font>

375
00:14:12,560 --> 00:14:16,910
do to copy this<font color="#E5E5E5"> rat file over to</font><font color="#CCCCCC"> the</font>

376
00:14:14,510 --> 00:14:19,040
<font color="#E5E5E5">other host first I need a working rat on</font>

377
00:14:16,910 --> 00:14:21,469
<font color="#E5E5E5">the source host on host 1 I need a</font>

378
00:14:19,040 --> 00:14:23,449
mounted file share<font color="#E5E5E5"> from host</font><font color="#CCCCCC"> 2 on the</font>

379
00:14:21,470 --> 00:14:25,790
<font color="#E5E5E5">house</font><font color="#CCCCCC"> 1 and I need to write access</font><font color="#E5E5E5"> to</font>

380
00:14:23,450 --> 00:14:27,050
that file share a little more

381
00:14:25,790 --> 00:14:29,000
<font color="#E5E5E5">technically we might call these</font>

382
00:14:27,050 --> 00:14:31,550
<font color="#CCCCCC">requirements the preconditions of the</font>

383
00:14:29,000 --> 00:14:33,110
specific technique then the question<font color="#E5E5E5"> is</font>

384
00:14:31,550 --> 00:14:35,120
what happens after<font color="#CCCCCC"> I copied this rat</font>

385
00:14:33,110 --> 00:14:36,830
file over well there's going to be a new

386
00:14:35,120 --> 00:14:39,500
file on<font color="#E5E5E5"> the target host and</font><font color="#CCCCCC"> that file</font>

387
00:14:36,830 --> 00:14:41,180
will contain<font color="#E5E5E5"> the wrap yeah more</font>

388
00:14:39,500 --> 00:14:43,490
technically I might<font color="#E5E5E5"> call these the post</font>

389
00:14:41,180 --> 00:14:44,750
conditions and so the idea of<font color="#E5E5E5"> one of the</font>

390
00:14:43,490 --> 00:14:47,420
main ideas<font color="#CCCCCC"> of caldera</font><font color="#E5E5E5"> and I'll go into</font>

391
00:14:44,750 --> 00:14:48,890
this later<font color="#E5E5E5"> again is to take these</font>

392
00:14:47,420 --> 00:14:50,540
techniques<font color="#E5E5E5"> and decompose them into their</font>

393
00:14:48,890 --> 00:14:51,830
<font color="#CCCCCC">preconditions or their requirements</font><font color="#E5E5E5"> and</font>

394
00:14:50,540 --> 00:14:52,610
their post conditions which are<font color="#E5E5E5"> their</font>

395
00:14:51,830 --> 00:14:54,920
<font color="#E5E5E5">consequences</font>

396
00:14:52,610 --> 00:14:56,360
what's nice is I might say<font color="#CCCCCC"> ok let's say</font>

397
00:14:54,920 --> 00:14:58,579
my goal is over here<font color="#E5E5E5"> on the right</font><font color="#CCCCCC"> to</font>

398
00:14:56,360 --> 00:14:59,960
copy<font color="#E5E5E5"> a file I'm</font><font color="#CCCCCC"> gonna</font><font color="#E5E5E5"> get that file on</font>

399
00:14:58,580 --> 00:15:01,760
<font color="#E5E5E5">the target which is my goal that's what</font>

400
00:14:59,960 --> 00:15:04,130
that's what I'm looking for in order<font color="#E5E5E5"> to</font>

401
00:15:01,760 --> 00:15:06,980
execute copying a file I need<font color="#CCCCCC"> a mounted</font>

402
00:15:04,130 --> 00:15:08,840
<font color="#CCCCCC">amount to</font><font color="#E5E5E5"> share oh look I</font><font color="#CCCCCC"> can take</font><font color="#E5E5E5"> mount</font>

403
00:15:06,980 --> 00:15:10,460
share<font color="#E5E5E5"> is another action and the</font>

404
00:15:08,840 --> 00:15:12,350
consequence of mountain mounted share is

405
00:15:10,460 --> 00:15:14,630
getting that<font color="#E5E5E5"> mouth a share so if I mount</font>

406
00:15:12,350 --> 00:15:16,280
the<font color="#E5E5E5"> share then I can copy a file but the</font>

407
00:15:14,630 --> 00:15:17,800
<font color="#CCCCCC">mount to</font><font color="#E5E5E5"> share I need credentials so</font>

408
00:15:16,280 --> 00:15:21,110
<font color="#E5E5E5">getting back we're training it back</font>

409
00:15:17,800 --> 00:15:22,250
again<font color="#CCCCCC"> 1</font><font color="#E5E5E5"> say ok if I dump credentials I'm</font>

410
00:15:21,110 --> 00:15:24,590
gonna get those<font color="#CCCCCC"> credentials that</font><font color="#E5E5E5"> I</font>

411
00:15:22,250 --> 00:15:26,330
<font color="#E5E5E5">needed and so to jump into this chain I</font>

412
00:15:24,590 --> 00:15:29,170
just need an elevated rat running<font color="#E5E5E5"> on</font>

413
00:15:26,330 --> 00:15:32,120
host 1 which is what I started<font color="#E5E5E5"> out with</font>

414
00:15:29,170 --> 00:15:34,010
again<font color="#E5E5E5"> more terminology we might call</font>

415
00:15:32,120 --> 00:15:35,300
<font color="#E5E5E5">this sequence of actions a plant</font><font color="#CCCCCC"> is</font>

416
00:15:34,010 --> 00:15:35,750
<font color="#E5E5E5">basically</font><font color="#CCCCCC"> just kind</font><font color="#E5E5E5"> of these actions</font>

417
00:15:35,300 --> 00:15:38,120
together

418
00:15:35,750 --> 00:15:39,379
Matt<font color="#E5E5E5"> again we have the preconditions</font><font color="#CCCCCC"> and</font>

419
00:15:38,120 --> 00:15:43,819
the post conditions that kind<font color="#CCCCCC"> of make</font>

420
00:15:39,379 --> 00:15:45,740
them logically flow so this is kind of

421
00:15:43,819 --> 00:15:48,110
the core caldera<font color="#E5E5E5"> idea instead of</font>

422
00:15:45,740 --> 00:15:50,089
<font color="#CCCCCC">prescribing explicitly what we want the</font>

423
00:15:48,110 --> 00:15:51,439
decision<font color="#CCCCCC"> engine to do</font><font color="#E5E5E5"> we're</font><font color="#CCCCCC"> gonna</font><font color="#E5E5E5"> move</font>

424
00:15:50,089 --> 00:15:54,019
towards something<font color="#CCCCCC"> that's dynamic</font><font color="#E5E5E5"> and</font>

425
00:15:51,439 --> 00:15:55,399
<font color="#E5E5E5">model-based essentially we want to tag</font>

426
00:15:54,019 --> 00:15:57,170
<font color="#E5E5E5">every single</font><font color="#CCCCCC"> action all of our</font>

427
00:15:55,399 --> 00:15:58,879
techniques with<font color="#CCCCCC"> the preconditions are</font>

428
00:15:57,170 --> 00:16:01,160
the requirements and the post conditions

429
00:15:58,879 --> 00:16:03,860
which<font color="#E5E5E5"> are the</font><font color="#CCCCCC"> consequences of executing</font>

430
00:16:01,160 --> 00:16:06,050
a technique now<font color="#E5E5E5"> I no longer need to</font>

431
00:16:03,860 --> 00:16:08,750
explicitly<font color="#E5E5E5"> tell</font><font color="#CCCCCC"> caldera what it needs to</font>

432
00:16:06,050 --> 00:16:11,000
do instead<font color="#CCCCCC"> it can compare what it knows</font>

433
00:16:08,750 --> 00:16:14,240
<font color="#E5E5E5">about its current state to</font><font color="#CCCCCC"> the</font>

434
00:16:11,000 --> 00:16:15,860
preconditions<font color="#CCCCCC"> the preconditions</font><font color="#E5E5E5"> of its</font>

435
00:16:14,240 --> 00:16:17,540
available actions and then it can

436
00:16:15,860 --> 00:16:19,610
determine which action it should<font color="#E5E5E5"> execute</font>

437
00:16:17,540 --> 00:16:21,410
as an added bonus by having

438
00:16:19,610 --> 00:16:24,170
preconditions and postconditions

439
00:16:21,410 --> 00:16:25,910
I can now<font color="#E5E5E5"> plan for the future</font><font color="#CCCCCC"> if I dump</font>

440
00:16:24,170 --> 00:16:28,180
financials<font color="#CCCCCC"> now</font><font color="#E5E5E5"> that will</font><font color="#CCCCCC"> help me execute</font>

441
00:16:25,910 --> 00:16:30,680
lateral<font color="#CCCCCC"> movements sometime in the future</font>

442
00:16:28,180 --> 00:16:33,290
so it's not<font color="#E5E5E5"> a presentation if I don't</font>

443
00:16:30,680 --> 00:16:35,239
make a<font color="#E5E5E5"> forced chess</font><font color="#CCCCCC"> analogy but in chess</font>

444
00:16:33,290 --> 00:16:36,170
<font color="#E5E5E5">we basically we kind of</font><font color="#CCCCCC"> also have a</font>

445
00:16:35,240 --> 00:16:38,360
<font color="#E5E5E5">little bit of preconditions and</font>

446
00:16:36,170 --> 00:16:42,170
postconditions<font color="#E5E5E5"> going on here from a</font>

447
00:16:38,360 --> 00:16:43,879
<font color="#CCCCCC">precondition perspective we we can</font>

448
00:16:42,170 --> 00:16:45,589
essentially use<font color="#E5E5E5"> the rules of the game</font>

449
00:16:43,879 --> 00:16:47,689
basically<font color="#E5E5E5"> how the pieces move as the</font>

450
00:16:45,589 --> 00:16:50,600
preconditions<font color="#E5E5E5"> along with the logical you</font>

451
00:16:47,689 --> 00:16:52,790
know<font color="#CCCCCC"> invariants of the game</font><font color="#E5E5E5"> here we can</font>

452
00:16:50,600 --> 00:16:54,379
see<font color="#E5E5E5"> how that</font><font color="#CCCCCC"> rook is in check and that's</font>

453
00:16:52,790 --> 00:16:56,689
a requirement<font color="#CCCCCC"> that I have</font><font color="#E5E5E5"> that the</font><font color="#CCCCCC"> king</font>

454
00:16:54,379 --> 00:16:58,459
has to get<font color="#CCCCCC"> out of check and I can</font><font color="#E5E5E5"> either</font>

455
00:16:56,689 --> 00:17:00,319
move my<font color="#CCCCCC"> king to the right or interpose a</font>

456
00:16:58,459 --> 00:17:02,689
piece in<font color="#CCCCCC"> front of the room</font><font color="#E5E5E5"> to stop the</font>

457
00:17:00,319 --> 00:17:04,849
check from<font color="#E5E5E5"> an emulation sense we might</font>

458
00:17:02,689 --> 00:17:06,139
say given an escalated foothold<font color="#CCCCCC"> I can</font>

459
00:17:04,849 --> 00:17:08,089
dump credentials I can add or modify

460
00:17:06,140 --> 00:17:10,900
registry keys<font color="#E5E5E5"> I</font><font color="#CCCCCC"> can set up</font><font color="#E5E5E5"> scheduled</font>

461
00:17:08,089 --> 00:17:13,399
tasks do all sorts of<font color="#CCCCCC"> fun stuff</font>

462
00:17:10,900 --> 00:17:16,189
now<font color="#E5E5E5"> postconditions can tell you what</font>

463
00:17:13,400 --> 00:17:17,959
happens after doing something<font color="#CCCCCC"> and chess</font>

464
00:17:16,189 --> 00:17:20,120
we might say<font color="#E5E5E5"> okay if black moves a</font>

465
00:17:17,959 --> 00:17:21,709
bishop over there<font color="#E5E5E5"> and white might take</font>

466
00:17:20,119 --> 00:17:23,928
the<font color="#E5E5E5"> Queen and then black will take the</font>

467
00:17:21,709 --> 00:17:25,959
bishop<font color="#CCCCCC"> King moves over and</font><font color="#E5E5E5"> then the</font>

468
00:17:23,929 --> 00:17:28,730
knight puts the<font color="#E5E5E5"> white king in check</font><font color="#CCCCCC"> and</font>

469
00:17:25,959 --> 00:17:31,669
black is Bobby Fischer so it's all<font color="#CCCCCC"> funny</font>

470
00:17:28,730 --> 00:17:32,990
<font color="#E5E5E5">games from an emulation standpoint what</font>

471
00:17:31,669 --> 00:17:34,400
we can essentially do<font color="#CCCCCC"> is start chaining</font>

472
00:17:32,990 --> 00:17:36,470
actions together<font color="#E5E5E5"> towards achieving</font>

473
00:17:34,400 --> 00:17:38,059
something<font color="#E5E5E5"> we</font><font color="#CCCCCC"> dump credentials</font><font color="#E5E5E5"> and we</font>

474
00:17:36,470 --> 00:17:40,250
laterally move we might add or modify

475
00:17:38,059 --> 00:17:43,010
registry keys and then dump credentials

476
00:17:40,250 --> 00:17:45,470
we<font color="#E5E5E5"> essentially construct a a search</font>

477
00:17:43,010 --> 00:17:47,530
space of all the possible plans and all

478
00:17:45,470 --> 00:17:49,990
the<font color="#E5E5E5"> possible</font><font color="#CCCCCC"> actions</font>

479
00:17:47,530 --> 00:17:52,180
so jumping<font color="#CCCCCC"> back to</font><font color="#E5E5E5"> the running</font><font color="#CCCCCC"> example</font>

480
00:17:49,990 --> 00:17:55,390
<font color="#E5E5E5">how do i how do</font><font color="#CCCCCC"> I go back</font><font color="#E5E5E5"> from host</font><font color="#CCCCCC"> 1</font>

481
00:17:52,180 --> 00:17:56,740
and host<font color="#E5E5E5"> 2 well the idea is again I can</font>

482
00:17:55,390 --> 00:17:58,540
<font color="#CCCCCC">chain these actions together</font><font color="#E5E5E5"> so here's</font>

483
00:17:56,740 --> 00:18:00,760
an example plan<font color="#CCCCCC"> where I'm using copy</font>

484
00:17:58,540 --> 00:18:02,350
file to move laterally<font color="#E5E5E5"> first I'd dump</font>

485
00:18:00,760 --> 00:18:04,870
credentials then I mount<font color="#CCCCCC"> the network</font>

486
00:18:02,350 --> 00:18:06,310
share then I copy the file<font color="#E5E5E5"> remotely</font>

487
00:18:04,870 --> 00:18:07,840
execute it<font color="#E5E5E5"> and then finally now</font><font color="#CCCCCC"> that I</font>

488
00:18:06,310 --> 00:18:10,590
have code execution after<font color="#E5E5E5"> the remote</font>

489
00:18:07,840 --> 00:18:13,020
execution<font color="#E5E5E5"> actual trade data from host to</font>

490
00:18:10,590 --> 00:18:16,179
<font color="#CCCCCC">another plan is I might</font><font color="#E5E5E5"> want to just</font>

491
00:18:13,020 --> 00:18:18,190
<font color="#E5E5E5">immediately jump jump out</font><font color="#CCCCCC"> that jump the</font>

492
00:18:16,180 --> 00:18:20,680
gun exploit a vulnerability<font color="#E5E5E5"> from 1 to 2</font>

493
00:18:18,190 --> 00:18:22,270
<font color="#CCCCCC">the next will trade data then</font><font color="#E5E5E5"> another</font>

494
00:18:20,680 --> 00:18:24,340
plan might be<font color="#E5E5E5"> I'm gonna dump credentials</font>

495
00:18:22,270 --> 00:18:27,370
I'm gonna use RDP then I'm gonna

496
00:18:24,340 --> 00:18:29,350
excellent rate<font color="#E5E5E5"> big data from host 2 so</font>

497
00:18:27,370 --> 00:18:30,520
the question is<font color="#CCCCCC"> ok I could enumerate all</font>

498
00:18:29,350 --> 00:18:32,169
these plans look ahead<font color="#E5E5E5"> in the future</font>

499
00:18:30,520 --> 00:18:35,590
<font color="#CCCCCC">find all these things that achieve my</font>

500
00:18:32,170 --> 00:18:36,940
goals<font color="#E5E5E5"> but which is the</font><font color="#CCCCCC"> right</font><font color="#E5E5E5"> plan to</font>

501
00:18:35,590 --> 00:18:40,659
<font color="#E5E5E5">execute or rather which is the first</font>

502
00:18:36,940 --> 00:18:43,870
action to<font color="#CCCCCC"> execute and what we did is we</font>

503
00:18:40,660 --> 00:18:47,500
<font color="#E5E5E5">designed a caldera heuristic essentially</font>

504
00:18:43,870 --> 00:18:49,830
we assign each plan a score based<font color="#E5E5E5"> on the</font>

505
00:18:47,500 --> 00:18:54,490
reward of the actions<font color="#CCCCCC"> in that</font><font color="#E5E5E5"> plan and</font>

506
00:18:49,830 --> 00:18:56,290
that that score<font color="#CCCCCC"> is kind of</font><font color="#E5E5E5"> a sum sum or</font>

507
00:18:54,490 --> 00:18:58,480
a summation of<font color="#CCCCCC"> the weighted rewards</font>

508
00:18:56,290 --> 00:19:01,389
preferring to to<font color="#E5E5E5"> achieve the goals</font>

509
00:18:58,480 --> 00:19:03,970
earlier than<font color="#E5E5E5"> later so</font><font color="#CCCCCC"> in this example I</font>

510
00:19:01,390 --> 00:19:05,830
might<font color="#CCCCCC"> say ok I love exfiltrating data</font>

511
00:19:03,970 --> 00:19:08,410
that's<font color="#CCCCCC"> gonna get a reward</font><font color="#E5E5E5"> of 100</font>

512
00:19:05,830 --> 00:19:10,389
<font color="#E5E5E5">I like dumping credentials it's not bad</font>

513
00:19:08,410 --> 00:19:12,040
<font color="#CCCCCC">gonna give that a reward of 50 it's not</font>

514
00:19:10,390 --> 00:19:13,120
as good<font color="#E5E5E5"> as exfiltrating that data but</font>

515
00:19:12,040 --> 00:19:14,560
<font color="#CCCCCC">you know those credentials</font><font color="#E5E5E5"> might be</font>

516
00:19:13,120 --> 00:19:17,439
useful<font color="#E5E5E5"> in the</font><font color="#CCCCCC"> future so that's</font><font color="#E5E5E5"> gonna get</font>

517
00:19:14,560 --> 00:19:20,649
<font color="#E5E5E5">a 50 copying a file is fun</font><font color="#CCCCCC"> too it's not</font>

518
00:19:17,440 --> 00:19:22,420
<font color="#E5E5E5">as good</font><font color="#CCCCCC"> as credits or exfiltration</font><font color="#E5E5E5"> but I</font>

519
00:19:20,650 --> 00:19:23,680
might<font color="#E5E5E5"> have</font><font color="#CCCCCC"> signed that 5 and then</font>

520
00:19:22,420 --> 00:19:25,300
everything else<font color="#E5E5E5"> I don't really care</font>

521
00:19:23,680 --> 00:19:28,060
<font color="#CCCCCC">about it those are all</font><font color="#E5E5E5"> means to end so</font>

522
00:19:25,300 --> 00:19:32,169
I'm gonna<font color="#E5E5E5"> sign</font><font color="#CCCCCC"> them all</font><font color="#E5E5E5"> one so with that</font>

523
00:19:28,060 --> 00:19:33,580
all<font color="#CCCCCC"> said plan</font><font color="#E5E5E5"> 3 using RDP for</font><font color="#CCCCCC"> lateral</font>

524
00:19:32,170 --> 00:19:35,590
movement<font color="#E5E5E5"> kind of becomes the best choice</font>

525
00:19:33,580 --> 00:19:37,600
because<font color="#CCCCCC"> I'm dumping Fred's right away</font>

526
00:19:35,590 --> 00:19:38,709
<font color="#CCCCCC">I'm using already P which I</font><font color="#E5E5E5"> don't really</font>

527
00:19:37,600 --> 00:19:40,810
get<font color="#E5E5E5"> a reward for it but then I'm</font>

528
00:19:38,710 --> 00:19:42,520
achieving<font color="#E5E5E5"> my goal</font><font color="#CCCCCC"> you can pair that to</font>

529
00:19:40,810 --> 00:19:44,679
plan number<font color="#CCCCCC"> one I'm dumping creds which</font>

530
00:19:42,520 --> 00:19:46,389
is good but<font color="#E5E5E5"> I'm not exfiltrating data</font>

531
00:19:44,680 --> 00:19:47,830
until much<font color="#E5E5E5"> further down the line I have</font>

532
00:19:46,390 --> 00:19:50,280
to<font color="#CCCCCC"> do a lot more things to actually get</font>

533
00:19:47,830 --> 00:19:52,270
to that<font color="#CCCCCC"> point then plan</font><font color="#E5E5E5"> number</font><font color="#CCCCCC"> 2 is</font>

534
00:19:50,280 --> 00:19:54,700
exploiting a vulnerability which isn't

535
00:19:52,270 --> 00:19:56,350
very worthwhile for<font color="#E5E5E5"> me and then actual</font>

536
00:19:54,700 --> 00:19:57,610
<font color="#E5E5E5">trading data and so when you kind of</font>

537
00:19:56,350 --> 00:19:59,889
compute all all the rewards<font color="#E5E5E5"> and</font><font color="#CCCCCC"> the</font>

538
00:19:57,610 --> 00:20:02,419
scores<font color="#E5E5E5"> plan 3 becomes the best</font>

539
00:19:59,890 --> 00:20:04,910
so the next<font color="#E5E5E5"> thing we</font><font color="#CCCCCC"> need with caldera</font>

540
00:20:02,420 --> 00:20:06,320
<font color="#CCCCCC">is a data model to talk</font><font color="#E5E5E5"> about the</font>

541
00:20:04,910 --> 00:20:08,300
preconditions and postconditions

542
00:20:06,320 --> 00:20:09,679
it's easy for<font color="#E5E5E5"> me to kind of verbalize</font>

543
00:20:08,300 --> 00:20:11,419
them and say I need<font color="#CCCCCC"> this and I need</font><font color="#E5E5E5"> that</font>

544
00:20:09,680 --> 00:20:14,840
<font color="#E5E5E5">but we need a way for caldera to do this</font>

545
00:20:11,420 --> 00:20:16,910
all automatically so calderas language

546
00:20:14,840 --> 00:20:19,100
basically has objects and type fields

547
00:20:16,910 --> 00:20:23,420
where the objects reference kind of

548
00:20:19,100 --> 00:20:26,120
common windows things as well as other

549
00:20:23,420 --> 00:20:28,340
things<font color="#CCCCCC"> them are useful for for the</font>

550
00:20:26,120 --> 00:20:32,780
<font color="#E5E5E5">adversary I'll give a couple examples of</font>

551
00:20:28,340 --> 00:20:35,179
them<font color="#E5E5E5"> and then the other thing is that</font>

552
00:20:32,780 --> 00:20:37,220
fields specify the<font color="#E5E5E5"> properties of the</font>

553
00:20:35,180 --> 00:20:39,440
objects<font color="#E5E5E5"> and then we restrict that by</font>

554
00:20:37,220 --> 00:20:41,870
type<font color="#E5E5E5"> and again I think it's better</font><font color="#CCCCCC"> to</font>

555
00:20:39,440 --> 00:20:43,760
<font color="#E5E5E5">walk through with an example so here's</font>

556
00:20:41,870 --> 00:20:45,530
an example host object on the<font color="#E5E5E5"> left you</font>

557
00:20:43,760 --> 00:20:47,960
<font color="#CCCCCC">can</font><font color="#E5E5E5"> see we have host that's the object</font>

558
00:20:45,530 --> 00:20:49,460
type host has<font color="#E5E5E5"> eight</font><font color="#CCCCCC"> different fields</font><font color="#E5E5E5"> you</font>

559
00:20:47,960 --> 00:20:52,310
have<font color="#E5E5E5"> the fully</font><font color="#CCCCCC"> qualified domain</font><font color="#E5E5E5"> name</font>

560
00:20:49,460 --> 00:20:55,220
which is a<font color="#CCCCCC"> string</font><font color="#E5E5E5"> you have</font><font color="#CCCCCC"> a list of</font>

561
00:20:52,310 --> 00:20:58,490
admins that's a list of type list<font color="#CCCCCC"> host</font>

562
00:20:55,220 --> 00:21:00,560
name<font color="#CCCCCC"> DNS DNS domain name again strings</font>

563
00:20:58,490 --> 00:21:01,850
<font color="#E5E5E5">all these different things</font><font color="#CCCCCC"> an OS version</font>

564
00:21:00,560 --> 00:21:04,550
which is just a<font color="#CCCCCC"> reference to another</font>

565
00:21:01,850 --> 00:21:06,469
<font color="#E5E5E5">object in the data model as an example</font>

566
00:21:04,550 --> 00:21:09,320
host we have the fully qualified<font color="#CCCCCC"> domain</font>

567
00:21:06,470 --> 00:21:11,090
name of<font color="#E5E5E5"> PC one two three four the admins</font>

568
00:21:09,320 --> 00:21:13,220
are Andy and Doug<font color="#E5E5E5"> the host name is PC</font>

569
00:21:11,090 --> 00:21:16,550
one two three four and<font color="#CCCCCC"> so on</font><font color="#E5E5E5"> and so</font>

570
00:21:13,220 --> 00:21:18,950
forth and this<font color="#E5E5E5"> kind of breaks down the</font>

571
00:21:16,550 --> 00:21:20,659
entire<font color="#CCCCCC"> model it's a little or this is</font>

572
00:21:18,950 --> 00:21:21,680
the majority<font color="#CCCCCC"> of the</font><font color="#E5E5E5"> model there you can</font>

573
00:21:20,660 --> 00:21:22,880
see on the<font color="#E5E5E5"> bottom there's like plus</font>

574
00:21:21,680 --> 00:21:26,150
<font color="#CCCCCC">seven plus 11</font>

575
00:21:22,880 --> 00:21:27,590
but you know<font color="#E5E5E5"> with the things</font><font color="#CCCCCC"> that we</font>

576
00:21:26,150 --> 00:21:28,850
have here though are<font color="#E5E5E5"> kind</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> common</font>

577
00:21:27,590 --> 00:21:31,840
things<font color="#CCCCCC"> that</font><font color="#E5E5E5"> we tend</font><font color="#CCCCCC"> to talk about like</font>

578
00:21:28,850 --> 00:21:35,030
<font color="#E5E5E5">scheduled tasks services processes</font>

579
00:21:31,840 --> 00:21:37,340
<font color="#E5E5E5">registry keys users shares files hosts</font>

580
00:21:35,030 --> 00:21:39,050
all these fun things<font color="#E5E5E5"> and then with eat</font>

581
00:21:37,340 --> 00:21:41,840
<font color="#E5E5E5">within each you have</font><font color="#CCCCCC"> the fields that</font>

582
00:21:39,050 --> 00:21:44,659
that<font color="#E5E5E5"> caldera cares about some of these</font>

583
00:21:41,840 --> 00:21:47,000
are a little<font color="#CCCCCC"> more</font><font color="#E5E5E5"> specific for calderas</font>

584
00:21:44,660 --> 00:21:49,070
execution like time<font color="#CCCCCC"> delta measures the</font>

585
00:21:47,000 --> 00:21:50,630
difference<font color="#CCCCCC"> the the</font><font color="#E5E5E5"> time difference</font>

586
00:21:49,070 --> 00:21:56,000
<font color="#CCCCCC">between</font><font color="#E5E5E5"> two two hosts and we actually</font>

587
00:21:50,630 --> 00:21:58,070
<font color="#CCCCCC">have an object to represent that so we</font>

588
00:21:56,000 --> 00:21:59,840
have a data<font color="#E5E5E5"> model that's awesome now we</font>

589
00:21:58,070 --> 00:22:02,149
need a syntax actually declare the

590
00:21:59,840 --> 00:22:04,100
actions and<font color="#E5E5E5"> so caldera also has a syntax</font>

591
00:22:02,150 --> 00:22:04,940
<font color="#CCCCCC">with which we describe the preconditions</font>

592
00:22:04,100 --> 00:22:07,129
and postconditions

593
00:22:04,940 --> 00:22:09,710
we have preconditions post conditions<font color="#E5E5E5"> a</font>

594
00:22:07,130 --> 00:22:12,290
not equal in variant<font color="#E5E5E5"> and then pre</font>

595
00:22:09,710 --> 00:22:13,280
properties and post properties be very

596
00:22:12,290 --> 00:22:15,560
honest it's a little

597
00:22:13,280 --> 00:22:18,290
confusing we have documentation<font color="#CCCCCC"> that</font><font color="#E5E5E5"> is</font>

598
00:22:15,560 --> 00:22:19,399
<font color="#E5E5E5">available online that can describe a</font>

599
00:22:18,290 --> 00:22:22,490
<font color="#CCCCCC">little</font><font color="#E5E5E5"> bit better but I just wanted to</font>

600
00:22:19,400 --> 00:22:25,370
flash real quick say that there<font color="#E5E5E5"> is</font><font color="#CCCCCC"> a</font>

601
00:22:22,490 --> 00:22:28,270
syntax<font color="#E5E5E5"> it works</font><font color="#CCCCCC"> but</font><font color="#E5E5E5"> if you but if you're</font>

602
00:22:25,370 --> 00:22:30,649
interested<font color="#CCCCCC"> we have</font><font color="#E5E5E5"> more stuff online</font><font color="#CCCCCC"> so</font>

603
00:22:28,270 --> 00:22:35,420
bringing everything together<font color="#CCCCCC"> we kind of</font>

604
00:22:30,650 --> 00:22:38,150
<font color="#E5E5E5">have a five-step plan and</font><font color="#CCCCCC"> no I vas</font>

605
00:22:35,420 --> 00:22:39,590
except listed there<font color="#E5E5E5"> but</font><font color="#CCCCCC"> we update the</font>

606
00:22:38,150 --> 00:22:40,610
world state and figure<font color="#CCCCCC"> out what we know</font>

607
00:22:39,590 --> 00:22:42,139
what is actually<font color="#CCCCCC"> true in this</font>

608
00:22:40,610 --> 00:22:43,550
<font color="#CCCCCC">environment</font><font color="#E5E5E5"> then we</font><font color="#CCCCCC"> use</font><font color="#E5E5E5"> the</font>

609
00:22:42,140 --> 00:22:45,350
preconditions to figure out all of<font color="#E5E5E5"> our</font>

610
00:22:43,550 --> 00:22:47,570
<font color="#E5E5E5">valid actions that we can execute in</font>

611
00:22:45,350 --> 00:22:49,429
this current<font color="#E5E5E5"> time step then we construct</font>

612
00:22:47,570 --> 00:22:51,139
plans that<font color="#E5E5E5"> lead off with those actions</font>

613
00:22:49,430 --> 00:22:52,940
so I again look towards the<font color="#CCCCCC"> future and</font>

614
00:22:51,140 --> 00:22:55,070
chaining<font color="#E5E5E5"> actions together with the</font>

615
00:22:52,940 --> 00:22:56,930
preconditions<font color="#CCCCCC"> and postconditions then I</font>

616
00:22:55,070 --> 00:22:58,189
run the heuristic to determine the best

617
00:22:56,930 --> 00:23:00,860
plan out<font color="#E5E5E5"> of all the plans that I</font>

618
00:22:58,190 --> 00:23:03,560
identified and I execute<font color="#E5E5E5"> that first</font>

619
00:23:00,860 --> 00:23:05,330
action in the best plan<font color="#CCCCCC"> last</font><font color="#E5E5E5"> I repeat</font>

620
00:23:03,560 --> 00:23:06,740
there the<font color="#CCCCCC"> response is kind</font><font color="#E5E5E5"> of jump back</font>

621
00:23:05,330 --> 00:23:08,750
into<font color="#E5E5E5"> this cycle and</font><font color="#CCCCCC"> go through as I</font>

622
00:23:06,740 --> 00:23:11,870
<font color="#E5E5E5">compromise the network and achieve my</font>

623
00:23:08,750 --> 00:23:13,430
goals<font color="#E5E5E5"> so</font><font color="#CCCCCC"> that's it we're done</font>

624
00:23:11,870 --> 00:23:14,949
preconditions and postconditions you

625
00:23:13,430 --> 00:23:16,850
know we can dynamically construct plans

626
00:23:14,950 --> 00:23:19,370
we can<font color="#E5E5E5"> construct them to make</font>

627
00:23:16,850 --> 00:23:21,110
intelligent<font color="#E5E5E5"> choices it's easy very easy</font>

628
00:23:19,370 --> 00:23:23,060
<font color="#E5E5E5">to incorporate</font><font color="#CCCCCC"> new techniques all we</font>

629
00:23:21,110 --> 00:23:25,070
have to do<font color="#CCCCCC"> define</font><font color="#E5E5E5"> the precondition is to</font>

630
00:23:23,060 --> 00:23:26,480
find the post conditions<font color="#CCCCCC"> define</font>

631
00:23:25,070 --> 00:23:28,100
technically what you need to execute

632
00:23:26,480 --> 00:23:29,720
<font color="#E5E5E5">then you're done you just throw it in</font>

633
00:23:28,100 --> 00:23:33,320
there it figures it all out it's perfect

634
00:23:29,720 --> 00:23:35,240
<font color="#E5E5E5">we can modify the rewards as well as the</font>

635
00:23:33,320 --> 00:23:36,710
actions we<font color="#E5E5E5"> want to have in the operation</font>

636
00:23:35,240 --> 00:23:38,750
<font color="#E5E5E5">and that can help us vary what we're</font>

637
00:23:36,710 --> 00:23:39,920
doing we can chain weaknesses together

638
00:23:38,750 --> 00:23:41,810
because we<font color="#E5E5E5"> have the preconditions</font><font color="#CCCCCC"> and</font>

639
00:23:39,920 --> 00:23:43,490
the post conditions that we can function

640
00:23:41,810 --> 00:23:45,800
in new<font color="#CCCCCC"> environments and</font><font color="#E5E5E5"> there's an</font>

641
00:23:43,490 --> 00:23:47,300
asterisk<font color="#CCCCCC"> there</font><font color="#E5E5E5"> because well that's</font>

642
00:23:45,800 --> 00:23:49,970
<font color="#CCCCCC">actually a little</font><font color="#E5E5E5"> harder said than done</font>

643
00:23:47,300 --> 00:23:51,879
it turns out doing this

644
00:23:49,970 --> 00:23:54,290
deterministically<font color="#CCCCCC"> it's kind of hard</font>

645
00:23:51,880 --> 00:23:55,760
sometimes<font color="#E5E5E5"> when I dump credentials I'm</font>

646
00:23:54,290 --> 00:23:58,040
gonna get<font color="#E5E5E5"> very useful credentials I</font>

647
00:23:55,760 --> 00:23:59,360
might land<font color="#E5E5E5"> on a box and dump credentials</font>

648
00:23:58,040 --> 00:24:01,940
<font color="#E5E5E5">I know it's a domain admin that's</font>

649
00:23:59,360 --> 00:24:03,500
wonderful I'm<font color="#E5E5E5"> basically done sometimes I</font>

650
00:24:01,940 --> 00:24:04,820
might land<font color="#E5E5E5"> on a box dump credentials and</font>

651
00:24:03,500 --> 00:24:07,250
find credentials that<font color="#CCCCCC"> are</font><font color="#E5E5E5"> completely</font>

652
00:24:04,820 --> 00:24:09,439
useless<font color="#CCCCCC"> so when I'm</font><font color="#E5E5E5"> constructing plans</font>

653
00:24:07,250 --> 00:24:10,520
it turns out<font color="#CCCCCC"> this can be kind of</font>

654
00:24:09,440 --> 00:24:11,960
disruptive<font color="#E5E5E5"> because I don't know exactly</font>

655
00:24:10,520 --> 00:24:15,410
<font color="#CCCCCC">what the outcome of some of these</font>

656
00:24:11,960 --> 00:24:16,970
actions<font color="#E5E5E5"> might</font><font color="#CCCCCC"> be and in reality</font><font color="#E5E5E5"> handling</font>

657
00:24:15,410 --> 00:24:19,430
uncertainty is a very very<font color="#CCCCCC"> difficult</font>

658
00:24:16,970 --> 00:24:21,380
<font color="#CCCCCC">problem and we</font><font color="#E5E5E5"> have a couple of papers</font>

659
00:24:19,430 --> 00:24:22,550
<font color="#CCCCCC">that are available</font><font color="#E5E5E5"> on some of the ideas</font>

660
00:24:21,380 --> 00:24:25,010
that<font color="#E5E5E5"> we've considered some</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> the things</font>

661
00:24:22,550 --> 00:24:26,510
that<font color="#CCCCCC"> we're doing then and those are also</font>

662
00:24:25,010 --> 00:24:28,429
<font color="#E5E5E5">available</font>

663
00:24:26,510 --> 00:24:30,410
if you're<font color="#E5E5E5"> really interested in this I'd</font>

664
00:24:28,429 --> 00:24:32,030
<font color="#E5E5E5">recommend it in this problem I'd</font>

665
00:24:30,410 --> 00:24:34,669
recommend this paper by<font color="#CCCCCC"> York Hoffman</font>

666
00:24:32,030 --> 00:24:37,580
which kind of decomposes<font color="#E5E5E5"> this entire</font>

667
00:24:34,669 --> 00:24:40,880
problem<font color="#E5E5E5"> of using planning for red</font>

668
00:24:37,580 --> 00:24:44,449
teaming based on the action model<font color="#E5E5E5"> which</font>

669
00:24:40,880 --> 00:24:45,710
is whether or<font color="#E5E5E5"> not actions can remove</font>

670
00:24:44,450 --> 00:24:47,660
information<font color="#E5E5E5"> from your knowledge base</font>

671
00:24:45,710 --> 00:24:49,190
<font color="#CCCCCC">wells</font><font color="#E5E5E5"> your uncertainty model which is</font>

672
00:24:47,660 --> 00:24:52,070
whether or not<font color="#E5E5E5"> you can fully observe the</font>

673
00:24:49,190 --> 00:24:54,620
network and we kind of lie somewhere<font color="#E5E5E5"> in</font>

674
00:24:52,070 --> 00:24:56,720
the middle<font color="#E5E5E5"> of there but long story</font><font color="#CCCCCC"> short</font>

675
00:24:54,620 --> 00:24:59,559
<font color="#E5E5E5">we have our own approach which is a very</font>

676
00:24:56,720 --> 00:25:01,610
<font color="#E5E5E5">quick fix with something we call hints</font>

677
00:24:59,559 --> 00:25:07,760
<font color="#CCCCCC">essentially if we can't predict the</font>

678
00:25:01,610 --> 00:25:10,639
outcome of<font color="#E5E5E5"> an action we have a a someone</font>

679
00:25:07,760 --> 00:25:12,320
<font color="#CCCCCC">hard-coded field that provides a hint to</font>

680
00:25:10,640 --> 00:25:13,790
<font color="#E5E5E5">the planner as its training the actions</font>

681
00:25:12,320 --> 00:25:16,129
together<font color="#E5E5E5"> to figure out what the outcome</font>

682
00:25:13,790 --> 00:25:17,629
might<font color="#CCCCCC"> be</font><font color="#E5E5E5"> and in our case right</font><font color="#CCCCCC"> now what</font>

683
00:25:16,130 --> 00:25:21,200
we're doing<font color="#E5E5E5"> is we just have the best</font>

684
00:25:17,630 --> 00:25:22,910
outcome<font color="#E5E5E5"> as the hint so another great</font>

685
00:25:21,200 --> 00:25:25,220
<font color="#CCCCCC">example here but you if</font><font color="#E5E5E5"> you look and</font><font color="#CCCCCC"> see</font>

686
00:25:22,910 --> 00:25:26,360
this as<font color="#E5E5E5"> like the state search graph if I</font>

687
00:25:25,220 --> 00:25:27,919
start<font color="#E5E5E5"> out and try doing everything</font>

688
00:25:26,360 --> 00:25:30,678
deterministically I might only<font color="#CCCCCC"> be able</font>

689
00:25:27,919 --> 00:25:33,530
<font color="#E5E5E5">to</font><font color="#CCCCCC"> identify this</font><font color="#E5E5E5"> one top plan if I have</font>

690
00:25:30,679 --> 00:25:35,179
hints<font color="#E5E5E5"> though I can then say</font><font color="#CCCCCC"> okay</font><font color="#E5E5E5"> maybe</font><font color="#CCCCCC"> I</font>

691
00:25:33,530 --> 00:25:37,129
have these other<font color="#CCCCCC"> outcomes of this</font><font color="#E5E5E5"> first</font>

692
00:25:35,179 --> 00:25:39,620
action and<font color="#E5E5E5"> that's going to lead</font><font color="#CCCCCC"> to these</font>

693
00:25:37,130 --> 00:25:41,030
other potential branches<font color="#E5E5E5"> and</font><font color="#CCCCCC"> chaining</font>

694
00:25:39,620 --> 00:25:42,949
that again further we can start

695
00:25:41,030 --> 00:25:45,350
<font color="#E5E5E5">constructing a much larger search search</font>

696
00:25:42,950 --> 00:25:47,360
tree so what<font color="#CCCCCC"> Caldera does is</font><font color="#E5E5E5"> it's able</font>

697
00:25:45,350 --> 00:25:49,820
<font color="#CCCCCC">to do</font><font color="#E5E5E5"> this internally as its choosing an</font>

698
00:25:47,360 --> 00:25:52,189
action<font color="#CCCCCC"> it'll</font><font color="#E5E5E5"> execute this first action</font>

699
00:25:49,820 --> 00:25:54,020
observe the real responses then update

700
00:25:52,190 --> 00:25:56,090
<font color="#E5E5E5">its</font><font color="#CCCCCC"> knowledge base and move</font><font color="#E5E5E5"> through</font>

701
00:25:54,020 --> 00:25:57,679
<font color="#E5E5E5">whichever is actually corresponding to</font>

702
00:25:56,090 --> 00:25:59,449
what's<font color="#E5E5E5"> going on in the real world</font><font color="#CCCCCC"> I</font>

703
00:25:57,679 --> 00:26:06,350
think<font color="#CCCCCC"> with that I will give it back to</font>

704
00:25:59,450 --> 00:26:08,630
<font color="#E5E5E5">Doug</font><font color="#CCCCCC"> so if you're if you're more</font><font color="#E5E5E5"> of a</font>

705
00:26:06,350 --> 00:26:09,918
<font color="#E5E5E5">software programmer like me this is the</font>

706
00:26:08,630 --> 00:26:11,600
<font color="#E5E5E5">section will care about so this is more</font>

707
00:26:09,919 --> 00:26:15,260
of<font color="#E5E5E5"> the architecture</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> how</font><font color="#CCCCCC"> the tool is</font>

708
00:26:11,600 --> 00:26:17,780
constructed<font color="#CCCCCC"> so this is a very general</font>

709
00:26:15,260 --> 00:26:19,160
<font color="#CCCCCC">overview of</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> software we have a</font>

710
00:26:17,780 --> 00:26:21,110
server component<font color="#E5E5E5"> that's the thing that</font>

711
00:26:19,160 --> 00:26:22,400
<font color="#CCCCCC">makes decisions all the planning the</font>

712
00:26:21,110 --> 00:26:24,860
Andy just<font color="#E5E5E5"> talked about happens on the</font>

713
00:26:22,400 --> 00:26:27,830
server and the server makes connections

714
00:26:24,860 --> 00:26:29,449
<font color="#E5E5E5">to all the clients which are running on</font>

715
00:26:27,830 --> 00:26:31,970
systems<font color="#E5E5E5"> that are partaking in the</font>

716
00:26:29,450 --> 00:26:33,020
emulation exercise so you can see there

717
00:26:31,970 --> 00:26:35,630
a<font color="#CCCCCC"> couple components</font><font color="#E5E5E5"> in the server</font>

718
00:26:33,020 --> 00:26:37,429
<font color="#E5E5E5">there's an HTTP server which you can</font>

719
00:26:35,630 --> 00:26:39,680
access<font color="#CCCCCC"> as an administrator there's a</font>

720
00:26:37,429 --> 00:26:41,000
nice little web interface<font color="#E5E5E5"> the next</font>

721
00:26:39,680 --> 00:26:42,200
you before<font color="#CCCCCC"> that</font><font color="#E5E5E5"> you can kind of see</font>

722
00:26:41,000 --> 00:26:44,360
what's going<font color="#CCCCCC"> on you can configure</font>

723
00:26:42,200 --> 00:26:46,730
<font color="#E5E5E5">everything there's a database under the</font>

724
00:26:44,360 --> 00:26:49,280
<font color="#CCCCCC">hood stores everything we have the</font>

725
00:26:46,730 --> 00:26:51,830
planner<font color="#CCCCCC"> and</font><font color="#E5E5E5"> the execution engine which</font>

726
00:26:49,280 --> 00:26:54,440
<font color="#CCCCCC">is kind</font><font color="#E5E5E5"> of all the extra stuff</font><font color="#CCCCCC"> that ties</font>

727
00:26:51,830 --> 00:26:56,720
everything together<font color="#CCCCCC"> on the clients</font>

728
00:26:54,440 --> 00:26:58,700
<font color="#E5E5E5">themselves</font><font color="#CCCCCC"> there's a</font><font color="#E5E5E5"> service that kind</font>

729
00:26:56,720 --> 00:27:00,710
<font color="#CCCCCC">of keeps track of all</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> bookkeeping so</font>

730
00:26:58,700 --> 00:27:02,120
I mentioned that the operation can<font color="#CCCCCC"> be</font>

731
00:27:00,710 --> 00:27:04,850
cleaned up automatically afterwards

732
00:27:02,120 --> 00:27:07,729
<font color="#CCCCCC">that's the</font><font color="#E5E5E5"> job of</font><font color="#CCCCCC"> the service in this</font>

733
00:27:04,850 --> 00:27:09,889
picture it's called the agent and we

734
00:27:07,730 --> 00:27:11,450
have rats so the rats are the<font color="#E5E5E5"> things the</font>

735
00:27:09,890 --> 00:27:13,670
the<font color="#E5E5E5"> pieces of software that actually do</font>

736
00:27:11,450 --> 00:27:18,800
all the<font color="#E5E5E5"> running of the command lines all</font>

737
00:27:13,670 --> 00:27:22,850
<font color="#E5E5E5">the emulation bits so the system itself</font>

738
00:27:18,800 --> 00:27:26,060
<font color="#E5E5E5">written in Python 3</font><font color="#CCCCCC"> the rat is written</font>

739
00:27:22,850 --> 00:27:29,750
in c-sharp<font color="#E5E5E5"> database we uses MongoDB</font>

740
00:27:26,060 --> 00:27:31,909
<font color="#E5E5E5">whoever faces JavaScript</font><font color="#CCCCCC"> the logic which</font>

741
00:27:29,750 --> 00:27:33,980
is<font color="#CCCCCC"> sort of the</font><font color="#E5E5E5"> underlying implementation</font>

742
00:27:31,910 --> 00:27:36,320
of the<font color="#E5E5E5"> preconditions and postconditions</font>

743
00:27:33,980 --> 00:27:38,660
the Andy talked about that's<font color="#E5E5E5"> all written</font>

744
00:27:36,320 --> 00:27:40,610
in<font color="#E5E5E5"> a language called PI data log that's</font>

745
00:27:38,660 --> 00:27:42,470
kind of that's<font color="#E5E5E5"> very</font><font color="#CCCCCC"> interesting but it's</font>

746
00:27:40,610 --> 00:27:43,879
outside<font color="#CCCCCC"> of</font><font color="#E5E5E5"> the scope</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> this talk but if</font>

747
00:27:42,470 --> 00:27:45,050
you're interested<font color="#CCCCCC"> in that</font><font color="#E5E5E5"> come talk to</font>

748
00:27:43,880 --> 00:27:48,850
<font color="#CCCCCC">me</font><font color="#E5E5E5"> and I'll give you an earful</font><font color="#CCCCCC"> about</font>

749
00:27:45,050 --> 00:27:51,139
that after the presentations over<font color="#E5E5E5"> so</font>

750
00:27:48,850 --> 00:27:53,929
<font color="#E5E5E5">probably the moment that you've all been</font>

751
00:27:51,140 --> 00:27:57,050
waiting<font color="#CCCCCC"> for</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> demo and we have a live</font>

752
00:27:53,930 --> 00:27:59,840
<font color="#E5E5E5">demo so hopefully everything works I</font>

753
00:27:57,050 --> 00:28:03,830
know that's a<font color="#E5E5E5"> little bit it's a</font><font color="#CCCCCC"> little</font>

754
00:27:59,840 --> 00:28:11,300
<font color="#CCCCCC">bit crazy so</font><font color="#E5E5E5"> just bear with</font><font color="#CCCCCC"> me as I get</font>

755
00:28:03,830 --> 00:28:15,129
that set up so this<font color="#CCCCCC"> is the</font><font color="#E5E5E5"> software</font>

756
00:28:11,300 --> 00:28:15,129
that's not software<font color="#CCCCCC"> oops</font>

757
00:28:16,270 --> 00:28:22,850
try<font color="#CCCCCC"> again okay this is the software we</font>

758
00:28:20,420 --> 00:28:24,140
<font color="#E5E5E5">have a small network running locally on</font>

759
00:28:22,850 --> 00:28:27,199
<font color="#E5E5E5">this</font><font color="#CCCCCC"> laptop so we have a</font><font color="#E5E5E5"> domain</font>

760
00:28:24,140 --> 00:28:32,240
controller<font color="#E5E5E5"> and</font><font color="#CCCCCC"> for host right for dos</font>

761
00:28:27,200 --> 00:28:34,610
for Windows 8.1<font color="#E5E5E5"> machines so I'm gonna</font>

762
00:28:32,240 --> 00:28:36,920
just<font color="#E5E5E5"> kind of breeze through this but</font>

763
00:28:34,610 --> 00:28:38,270
we'll take<font color="#E5E5E5"> a look</font><font color="#CCCCCC"> so this these are</font><font color="#E5E5E5"> the</font>

764
00:28:36,920 --> 00:28:39,920
adversaries these are like the core

765
00:28:38,270 --> 00:28:42,350
building blocks of how you configure

766
00:28:39,920 --> 00:28:44,410
caldera<font color="#CCCCCC"> so we have a few built-in ones</font>

767
00:28:42,350 --> 00:28:45,620
I made a special<font color="#E5E5E5"> one for this</font>

768
00:28:44,410 --> 00:28:48,680
presentation

769
00:28:45,620 --> 00:28:52,159
it's called advanced<font color="#E5E5E5"> and these are the</font>

770
00:28:48,680 --> 00:28:53,299
eight or nine<font color="#CCCCCC"> different steps</font><font color="#E5E5E5"> so it'll</font>

771
00:28:52,160 --> 00:28:55,249
be able<font color="#E5E5E5"> to</font><font color="#CCCCCC"> to dump</font>

772
00:28:53,299 --> 00:28:58,039
credentials<font color="#CCCCCC"> it'll do a bunch of</font>

773
00:28:55,249 --> 00:29:00,799
different discovery steps so it'll query

774
00:28:58,039 --> 00:29:03,559
for local administrators it'll dump

775
00:29:00,799 --> 00:29:06,168
<font color="#CCCCCC">repeaters</font><font color="#E5E5E5"> it'll get</font><font color="#CCCCCC"> information</font><font color="#E5E5E5"> about</font>

776
00:29:03,559 --> 00:29:07,940
the domain it<font color="#E5E5E5"> can do privacy</font><font color="#CCCCCC"> so we've</font>

777
00:29:06,169 --> 00:29:11,950
purposely configured the starting system

778
00:29:07,940 --> 00:29:15,369
<font color="#E5E5E5">to have a probe s1</font><font color="#CCCCCC"> err ability yeah oh</font>

779
00:29:11,950 --> 00:29:19,909
yes thank you

780
00:29:15,369 --> 00:29:22,158
<font color="#E5E5E5">right is that good a little</font><font color="#CCCCCC"> bit</font><font color="#E5E5E5"> more</font>

781
00:29:19,909 --> 00:29:23,480
sure all<font color="#E5E5E5"> right</font>

782
00:29:22,159 --> 00:29:24,710
hopefully that's<font color="#E5E5E5"> been enough not</font>

783
00:29:23,480 --> 00:29:29,119
everything will<font color="#E5E5E5"> fit on the screen so</font>

784
00:29:24,710 --> 00:29:31,789
I'll just have to scroll so it can do

785
00:29:29,119 --> 00:29:33,470
service<font color="#E5E5E5"> local probe ask we have</font>

786
00:29:31,789 --> 00:29:36,080
purposely configured a service that's

787
00:29:33,470 --> 00:29:39,350
<font color="#CCCCCC">vulnerable to this so the service</font><font color="#E5E5E5"> I</font>

788
00:29:36,080 --> 00:29:41,299
think we made it<font color="#E5E5E5"> so the binary has is</font>

789
00:29:39,350 --> 00:29:44,119
world writable so you can overwrite the

790
00:29:41,299 --> 00:29:46,908
service<font color="#CCCCCC"> so cold air will</font><font color="#E5E5E5"> be able to do</font>

791
00:29:44,119 --> 00:29:48,678
<font color="#E5E5E5">that if everything goes well</font><font color="#CCCCCC"> and it can</font>

792
00:29:46,909 --> 00:29:52,309
do a lateral<font color="#E5E5E5"> movement</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> think we have</font>

793
00:29:48,679 --> 00:29:54,499
passed<font color="#E5E5E5"> the hash copy and</font><font color="#CCCCCC"> WMI for</font><font color="#E5E5E5"> lateral</font>

794
00:29:52,309 --> 00:29:56,330
movement so that's what the adversary

795
00:29:54,499 --> 00:29:58,330
looks like so I'm just gonna<font color="#E5E5E5"> go over</font>

796
00:29:56,330 --> 00:30:01,158
<font color="#E5E5E5">here</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> I'm gonna create an operation</font>

797
00:29:58,330 --> 00:30:03,289
and let's see<font color="#E5E5E5"> give it a name so I'll</font>

798
00:30:01,159 --> 00:30:04,970
name this<font color="#E5E5E5"> blackhat to the adversary</font>

799
00:30:03,289 --> 00:30:06,408
we're using<font color="#E5E5E5"> these are the adversaries</font>

800
00:30:04,970 --> 00:30:08,779
I'll pick the one<font color="#CCCCCC"> that I was</font><font color="#E5E5E5"> just</font>

801
00:30:06,409 --> 00:30:10,759
<font color="#E5E5E5">showing</font><font color="#CCCCCC"> you we can also select a network</font>

802
00:30:08,779 --> 00:30:13,549
<font color="#E5E5E5">in this case I'm using the demo</font><font color="#CCCCCC"> network</font>

803
00:30:10,759 --> 00:30:16,629
<font color="#E5E5E5">and the starting host and then there's</font>

804
00:30:13,549 --> 00:30:19,460
some sort of startup options here<font color="#E5E5E5"> so</font>

805
00:30:16,629 --> 00:30:21,529
<font color="#E5E5E5">because you kind of you know you need a</font>

806
00:30:19,460 --> 00:30:23,119
way<font color="#E5E5E5"> to kick off the</font><font color="#CCCCCC"> operation</font>

807
00:30:21,529 --> 00:30:25,480
<font color="#CCCCCC">Collier</font><font color="#E5E5E5"> has a built-in feature to just</font>

808
00:30:23,119 --> 00:30:27,949
spin<font color="#CCCCCC"> up the</font><font color="#E5E5E5"> first rat automatically</font>

809
00:30:25,480 --> 00:30:29,359
<font color="#CCCCCC">that's</font><font color="#E5E5E5"> kind</font><font color="#CCCCCC"> of like cheating but if you</font>

810
00:30:27,950 --> 00:30:31,279
<font color="#E5E5E5">think about it sort of the</font><font color="#CCCCCC"> equivalent of</font>

811
00:30:29,359 --> 00:30:32,509
like launching<font color="#E5E5E5"> a spear phishing email</font>

812
00:30:31,279 --> 00:30:35,840
and<font color="#E5E5E5"> have someone click on malicious</font>

813
00:30:32,509 --> 00:30:37,309
document<font color="#CCCCCC"> so if you select</font><font color="#E5E5E5"> the bootstrap</font>

814
00:30:35,840 --> 00:30:39,738
option which is<font color="#CCCCCC"> what I'm</font><font color="#E5E5E5"> going to do</font>

815
00:30:37,309 --> 00:30:41,178
<font color="#CCCCCC">just for sake of</font><font color="#E5E5E5"> time it'll spin up the</font>

816
00:30:39,739 --> 00:30:43,730
<font color="#E5E5E5">first kind of patient zero</font><font color="#CCCCCC"> wrap</font>

817
00:30:41,179 --> 00:30:45,379
automatically<font color="#E5E5E5"> and there are a few more</font>

818
00:30:43,730 --> 00:30:48,379
configuration options here but<font color="#E5E5E5"> I'm</font><font color="#CCCCCC"> gonna</font>

819
00:30:45,379 --> 00:30:49,988
<font color="#E5E5E5">select the active user as the initial</font>

820
00:30:48,379 --> 00:30:52,998
context so this is an unprivileged

821
00:30:49,989 --> 00:30:57,660
<font color="#E5E5E5">domain user not the admin on the first</font>

822
00:30:52,999 --> 00:30:59,140
system<font color="#CCCCCC"> and we'll hit go</font>

823
00:30:57,660 --> 00:31:03,049
[Music]

824
00:30:59,140 --> 00:31:05,750
and if everything<font color="#CCCCCC"> goes well</font><font color="#E5E5E5"> I'm gonna</font>

825
00:31:03,049 --> 00:31:10,580
zoom out here<font color="#E5E5E5"> because it doesn't fit</font>

826
00:31:05,750 --> 00:31:12,679
well<font color="#CCCCCC"> on the screen zoomed in so you can</font>

827
00:31:10,580 --> 00:31:14,480
<font color="#E5E5E5">see there are bubbles and colors</font><font color="#CCCCCC"> so the</font>

828
00:31:12,679 --> 00:31:16,309
bubbles represent<font color="#CCCCCC"> the hosts</font><font color="#E5E5E5"> the colors</font>

829
00:31:14,480 --> 00:31:19,250
will change is<font color="#E5E5E5"> the status of the</font>

830
00:31:16,309 --> 00:31:21,399
operation<font color="#E5E5E5"> changes</font><font color="#CCCCCC"> so one of them is</font>

831
00:31:19,250 --> 00:31:24,880
yellow<font color="#E5E5E5"> that's the starting host and</font>

832
00:31:21,399 --> 00:31:28,518
yellow means it's a nun elevated process

833
00:31:24,880 --> 00:31:30,500
<font color="#CCCCCC">blue in this case means that Caldera</font>

834
00:31:28,519 --> 00:31:32,720
knows the about the existence<font color="#E5E5E5"> of the</font>

835
00:31:30,500 --> 00:31:34,010
<font color="#CCCCCC">other host but doesn't have</font><font color="#E5E5E5"> any anything</font>

836
00:31:32,720 --> 00:31:37,039
running<font color="#E5E5E5"> on them right now</font><font color="#CCCCCC"> so that if</font>

837
00:31:34,010 --> 00:31:38,870
they haven't been laterally moved<font color="#E5E5E5"> to so</font>

838
00:31:37,039 --> 00:31:43,850
you can see on the<font color="#E5E5E5"> right hand</font><font color="#CCCCCC"> side</font><font color="#E5E5E5"> it's</font>

839
00:31:38,870 --> 00:31:46,100
doing some things<font color="#CCCCCC"> so the</font><font color="#E5E5E5"> the bubble just</font>

840
00:31:43,850 --> 00:31:49,370
changed to red<font color="#E5E5E5"> so that means</font><font color="#CCCCCC"> Pervez</font>

841
00:31:46,100 --> 00:31:51,320
occurred you can see it looks<font color="#E5E5E5"> for</font>

842
00:31:49,370 --> 00:31:52,820
pillage escalation vectors right there

843
00:31:51,320 --> 00:31:56,450
and then<font color="#E5E5E5"> the</font><font color="#CCCCCC"> next step</font>

844
00:31:52,820 --> 00:31:57,769
<font color="#E5E5E5">attempted</font><font color="#CCCCCC"> to escalate</font><font color="#E5E5E5"> which succeeded</font><font color="#CCCCCC"> so</font>

845
00:31:56,450 --> 00:32:01,070
I'm going to scroll down<font color="#CCCCCC"> here so we can</font>

846
00:31:57,769 --> 00:32:04,730
keep<font color="#E5E5E5"> seeing what's going on so I dumped</font>

847
00:32:01,070 --> 00:32:06,620
creds after that it's doing admin

848
00:32:04,730 --> 00:32:10,340
enumeration right now so it enumerated

849
00:32:06,620 --> 00:32:12,799
administrators of<font color="#CCCCCC"> 8xo 1 it used</font><font color="#E5E5E5"> passed</font>

850
00:32:10,340 --> 00:32:17,209
the hash copy<font color="#E5E5E5"> to move an implant over to</font>

851
00:32:12,799 --> 00:32:20,059
<font color="#E5E5E5">8xo 2 and now it's it executing that</font>

852
00:32:17,210 --> 00:32:23,059
which succeeded<font color="#CCCCCC"> so it's dumping creds</font>

853
00:32:20,059 --> 00:32:25,760
<font color="#E5E5E5">now</font><font color="#CCCCCC"> on to and it's pretty</font><font color="#E5E5E5"> much gonna</font>

854
00:32:23,059 --> 00:32:29,178
keep going at<font color="#E5E5E5"> this point if everything</font>

855
00:32:25,760 --> 00:32:35,299
is going<font color="#CCCCCC"> well and</font><font color="#E5E5E5"> it'll migrate its way</font>

856
00:32:29,179 --> 00:32:37,909
through the network one of the things I

857
00:32:35,299 --> 00:32:40,789
didn't<font color="#CCCCCC"> mention is and you can't</font><font color="#E5E5E5"> really</font>

858
00:32:37,909 --> 00:32:42,559
<font color="#E5E5E5">see this from the visualization but the</font>

859
00:32:40,789 --> 00:32:46,010
first toast<font color="#E5E5E5"> that it started on a</font><font color="#CCCCCC"> deck</font><font color="#E5E5E5"> so</font>

860
00:32:42,559 --> 00:32:47,480
one had two accounts on it actually was

861
00:32:46,010 --> 00:32:49,190
<font color="#CCCCCC">just one account</font><font color="#E5E5E5"> yes so it had one</font>

862
00:32:47,480 --> 00:32:51,320
account<font color="#E5E5E5"> so it got creds on the first</font>

863
00:32:49,190 --> 00:32:53,029
toast<font color="#CCCCCC"> and then</font><font color="#E5E5E5"> when it moved to</font><font color="#CCCCCC"> a deck</font>

864
00:32:51,320 --> 00:32:54,678
so<font color="#E5E5E5"> two there was another account that it</font>

865
00:32:53,029 --> 00:32:57,230
found<font color="#E5E5E5"> and so it used</font><font color="#CCCCCC"> that account to</font>

866
00:32:54,679 --> 00:32:59,210
move<font color="#CCCCCC"> to</font><font color="#E5E5E5"> three and four and and the</font>

867
00:32:57,230 --> 00:33:00,529
reason<font color="#E5E5E5"> it needed to do that is</font><font color="#CCCCCC"> because</font>

868
00:32:59,210 --> 00:33:04,010
the administrators<font color="#CCCCCC"> were configured</font>

869
00:33:00,529 --> 00:33:06,289
differently so it's complete<font color="#CCCCCC"> and now</font>

870
00:33:04,010 --> 00:33:07,760
it's<font color="#E5E5E5"> doing cleanup so it's everything</font>

871
00:33:06,289 --> 00:33:11,050
<font color="#E5E5E5">changed back</font><font color="#CCCCCC"> to normal because it's</font>

872
00:33:07,760 --> 00:33:14,260
<font color="#E5E5E5">deleted everything and</font>

873
00:33:11,050 --> 00:33:16,180
yeah it's done now<font color="#CCCCCC"> so we can see so this</font>

874
00:33:14,260 --> 00:33:18,430
<font color="#E5E5E5">is this description here it's just a</font>

875
00:33:16,180 --> 00:33:20,890
very<font color="#E5E5E5"> high-level description each of</font>

876
00:33:18,430 --> 00:33:23,500
these boxes represents an individual

877
00:33:20,890 --> 00:33:25,660
step so we can click on<font color="#CCCCCC"> one of them to</font>

878
00:33:23,500 --> 00:33:26,110
<font color="#E5E5E5">get more information</font><font color="#CCCCCC"> what's</font><font color="#E5E5E5"> good one</font>

879
00:33:25,660 --> 00:33:32,050
here

880
00:33:26,110 --> 00:33:34,810
let's let's do one<font color="#E5E5E5"> of the cred ones yeah</font>

881
00:33:32,050 --> 00:33:37,629
so let's look at<font color="#E5E5E5"> meme cats</font><font color="#CCCCCC"> so you can</font>

882
00:33:34,810 --> 00:33:39,100
get information<font color="#E5E5E5"> we've used attacks so</font>

883
00:33:37,630 --> 00:33:42,370
everything in<font color="#E5E5E5"> attack</font><font color="#CCCCCC"> Andy mentioned</font>

884
00:33:39,100 --> 00:33:44,980
<font color="#CCCCCC">their techniques and tactics so we have</font>

885
00:33:42,370 --> 00:33:47,429
those configured so you can see<font color="#E5E5E5"> sort of</font>

886
00:33:44,980 --> 00:33:50,740
at a high level what this step is and

887
00:33:47,430 --> 00:33:52,480
this<font color="#E5E5E5"> is</font><font color="#CCCCCC"> the actual command line that was</font>

888
00:33:50,740 --> 00:33:53,860
<font color="#E5E5E5">executed and the</font><font color="#CCCCCC"> standardout so if</font>

889
00:33:52,480 --> 00:33:56,350
you're familiar with<font color="#E5E5E5"> me me cats this is</font>

890
00:33:53,860 --> 00:33:58,479
<font color="#CCCCCC">me me cat's output so this is gonna give</font>

891
00:33:56,350 --> 00:34:00,189
<font color="#E5E5E5">you all the you know all the stuff</font>

892
00:33:58,480 --> 00:34:05,980
there's the password<font color="#E5E5E5"> right there this is</font>

893
00:34:00,190 --> 00:34:08,610
a it's a fake domain so don't worry<font color="#E5E5E5"> so</font>

894
00:34:05,980 --> 00:34:10,750
I'm gonna show<font color="#E5E5E5"> you</font><font color="#CCCCCC"> now one other</font><font color="#E5E5E5"> thing</font>

895
00:34:08,610 --> 00:34:14,379
<font color="#E5E5E5">I'm gonna kind of highlight the</font>

896
00:34:10,750 --> 00:34:16,449
positives of using a non state machine

897
00:34:14,379 --> 00:34:17,799
based model so I'm gonna just<font color="#E5E5E5"> change</font>

898
00:34:16,449 --> 00:34:22,870
some<font color="#CCCCCC"> of the techniques that the</font>

899
00:34:17,800 --> 00:34:24,879
adversary uses so if I go<font color="#CCCCCC"> back and I'm</font>

900
00:34:22,870 --> 00:34:26,699
gonna I'm<font color="#E5E5E5"> gonna edit this adversary so</font>

901
00:34:24,879 --> 00:34:30,850
this<font color="#CCCCCC"> was the adversary we started with</font>

902
00:34:26,699 --> 00:34:33,668
and I'm<font color="#E5E5E5"> gonna hit edit</font><font color="#CCCCCC"> and I'm gonna</font>

903
00:34:30,850 --> 00:34:35,918
<font color="#E5E5E5">make</font><font color="#CCCCCC"> a couple changes</font><font color="#E5E5E5"> so I'm gonna start</font>

904
00:34:33,668 --> 00:34:37,779
it off this time<font color="#CCCCCC"> as a system so as an</font>

905
00:34:35,918 --> 00:34:39,850
elevated process<font color="#E5E5E5"> but I'm just gonna</font>

906
00:34:37,780 --> 00:34:41,409
leave the privacy options<font color="#CCCCCC"> in there</font>

907
00:34:39,850 --> 00:34:43,449
so you'll see it<font color="#E5E5E5"> it</font><font color="#CCCCCC"> doesn't need those</font>

908
00:34:41,409 --> 00:34:45,460
so it doesn't<font color="#E5E5E5"> really matter if</font><font color="#CCCCCC"> I leave</font>

909
00:34:43,449 --> 00:34:47,649
them in the<font color="#CCCCCC"> system is</font><font color="#E5E5E5"> smart enough</font><font color="#CCCCCC"> yeah</font>

910
00:34:45,460 --> 00:34:50,530
it uses the<font color="#CCCCCC"> the planning to just know</font>

911
00:34:47,649 --> 00:34:52,600
that<font color="#CCCCCC"> that's</font><font color="#E5E5E5"> not useful I'm gonna change</font>

912
00:34:50,530 --> 00:34:55,090
the lateral movement<font color="#CCCCCC"> technique so</font>

913
00:34:52,600 --> 00:34:57,310
instead of doing<font color="#CCCCCC"> WMI which is</font><font color="#E5E5E5"> this step</font>

914
00:34:55,090 --> 00:35:00,250
I'm gonna unselect that and it's going

915
00:34:57,310 --> 00:35:02,950
<font color="#E5E5E5">to use pass the hash FC which is just a</font>

916
00:35:00,250 --> 00:35:05,320
<font color="#E5E5E5">different lateral movement step it's</font>

917
00:35:02,950 --> 00:35:09,609
gonna instead of doing<font color="#E5E5E5"> pass the hash</font>

918
00:35:05,320 --> 00:35:12,130
copy for file copy<font color="#E5E5E5"> I'm gonna use net use</font>

919
00:35:09,610 --> 00:35:15,460
which is just a<font color="#E5E5E5"> different copy technique</font>

920
00:35:12,130 --> 00:35:17,670
so for<font color="#E5E5E5"> that I need copy file and</font><font color="#CCCCCC"> that</font>

921
00:35:15,460 --> 00:35:17,670
use

922
00:35:21,250 --> 00:35:26,220
so I've done<font color="#E5E5E5"> it I've submitted and then</font>

923
00:35:23,260 --> 00:35:28,990
<font color="#E5E5E5">let's go back</font><font color="#CCCCCC"> and run</font><font color="#E5E5E5"> another operation</font>

924
00:35:26,220 --> 00:35:31,480
so right<font color="#E5E5E5"> so everything's gonna be the</font>

925
00:35:28,990 --> 00:35:35,129
same except I'm gonna start a system now

926
00:35:31,480 --> 00:35:37,030
<font color="#E5E5E5">so it won't need to</font><font color="#CCCCCC"> probe esque anymore</font>

927
00:35:35,130 --> 00:35:38,950
<font color="#CCCCCC">so there we go</font>

928
00:35:37,030 --> 00:35:42,400
so things are running<font color="#E5E5E5"> you can see it</font>

929
00:35:38,950 --> 00:35:44,589
started as<font color="#CCCCCC"> red it discovered</font><font color="#E5E5E5"> these other</font>

930
00:35:42,400 --> 00:35:47,710
systems<font color="#E5E5E5"> after it did the first step here</font>

931
00:35:44,589 --> 00:35:49,990
<font color="#CCCCCC">a new</font><font color="#E5E5E5"> writing on computers</font><font color="#CCCCCC"> and it's</font><font color="#E5E5E5"> just</font>

932
00:35:47,710 --> 00:35:53,650
gonna if everything<font color="#E5E5E5"> goes well it's just</font>

933
00:35:49,990 --> 00:35:55,000
<font color="#CCCCCC">gonna keep doing this thing one of the</font>

934
00:35:53,650 --> 00:35:57,430
<font color="#E5E5E5">interesting things is Andy mentioned</font>

935
00:35:55,000 --> 00:35:59,319
operates with<font color="#E5E5E5"> zero prior knowledge</font><font color="#CCCCCC"> so</font>

936
00:35:57,430 --> 00:36:01,390
everything<font color="#E5E5E5"> that it does in this</font>

937
00:35:59,319 --> 00:36:03,700
<font color="#E5E5E5">operation it's all the information that</font>

938
00:36:01,390 --> 00:36:05,319
<font color="#E5E5E5">it gathers</font><font color="#CCCCCC"> is sort of siloed off so it's</font>

939
00:36:03,700 --> 00:36:08,439
<font color="#E5E5E5">not using anything that I discovered in</font>

940
00:36:05,319 --> 00:36:09,700
previous operations in this one<font color="#CCCCCC"> that</font>

941
00:36:08,440 --> 00:36:12,400
<font color="#E5E5E5">would be kind</font><font color="#CCCCCC"> of like cheating</font><font color="#E5E5E5"> I guess</font>

942
00:36:09,700 --> 00:36:14,020
so it's<font color="#E5E5E5"> everything</font><font color="#CCCCCC"> that it's doing it's</font>

943
00:36:12,400 --> 00:36:15,579
<font color="#CCCCCC">doing fresh as if it you</font><font color="#E5E5E5"> know just</font>

944
00:36:14,020 --> 00:36:26,410
<font color="#E5E5E5">stepped onto this network for the</font><font color="#CCCCCC"> first</font>

945
00:36:15,579 --> 00:36:28,869
time so it's kind of chugging through<font color="#E5E5E5"> it</font>

946
00:36:26,410 --> 00:36:31,480
didn't do the probe<font color="#CCCCCC"> asked</font><font color="#E5E5E5"> it it just</font>

947
00:36:28,869 --> 00:36:34,270
went directly to running<font color="#E5E5E5"> Mimi</font><font color="#CCCCCC"> Katz</font><font color="#E5E5E5"> did a</font>

948
00:36:31,480 --> 00:36:36,430
bunch<font color="#E5E5E5"> of enumeration steps</font><font color="#CCCCCC"> it mounted</font>

949
00:36:34,270 --> 00:36:41,050
the network share<font color="#E5E5E5"> so and then it copied</font>

950
00:36:36,430 --> 00:36:43,569
in implants<font color="#E5E5E5"> past the hash</font><font color="#CCCCCC"> SC Randi me</font>

951
00:36:41,050 --> 00:36:45,940
cats on this new a new<font color="#CCCCCC"> host that that it</font>

952
00:36:43,569 --> 00:36:48,009
acquired<font color="#CCCCCC"> it's gonna</font><font color="#E5E5E5"> keep doing this same</font>

953
00:36:45,940 --> 00:36:51,400
<font color="#CCCCCC">process so it'll mount the network share</font>

954
00:36:48,010 --> 00:36:56,200
<font color="#E5E5E5">copy</font><font color="#CCCCCC"> an implant pass the SFC</font><font color="#E5E5E5"> run</font><font color="#CCCCCC"> Mimi</font>

955
00:36:51,400 --> 00:36:58,240
<font color="#CCCCCC">Katz</font><font color="#E5E5E5"> once that completes and it should</font>

956
00:36:56,200 --> 00:37:06,990
get the final cred and then it will be

957
00:36:58,240 --> 00:37:06,990
able<font color="#E5E5E5"> to move to</font><font color="#CCCCCC"> 8</font><font color="#E5E5E5"> x</font><font color="#CCCCCC"> o3 after that so</font>

958
00:37:09,590 --> 00:37:22,380
so yeah<font color="#CCCCCC"> I'm</font><font color="#E5E5E5"> glad that demo worked that</font>

959
00:37:14,190 --> 00:37:24,590
was good so as you can see<font color="#CCCCCC"> I mean it's</font>

960
00:37:22,380 --> 00:37:27,870
it's<font color="#E5E5E5"> actually running fairly quickly</font>

961
00:37:24,590 --> 00:37:30,210
<font color="#CCCCCC">which is</font><font color="#E5E5E5"> surprising given like all the</font>

962
00:37:27,870 --> 00:37:32,330
you know<font color="#E5E5E5"> complexity that's happening</font>

963
00:37:30,210 --> 00:37:36,150
under<font color="#CCCCCC"> the hood we could</font><font color="#E5E5E5"> support I think</font>

964
00:37:32,330 --> 00:37:38,250
<font color="#E5E5E5">15 to 20 hosts roughly before the</font>

965
00:37:36,150 --> 00:37:41,880
computational complexity just<font color="#E5E5E5"> gets too</font>

966
00:37:38,250 --> 00:37:43,920
difficult<font color="#E5E5E5"> to build all the plans</font><font color="#CCCCCC"> so it</font>

967
00:37:41,880 --> 00:37:45,720
<font color="#E5E5E5">if that</font><font color="#CCCCCC"> kind of gives</font><font color="#E5E5E5"> you an idea of the</font>

968
00:37:43,920 --> 00:37:51,150
scope of the project and and what's

969
00:37:45,720 --> 00:38:05,390
applicable<font color="#CCCCCC"> okay so it's done let me</font>

970
00:37:51,150 --> 00:38:07,710
<font color="#CCCCCC">switch back to</font><font color="#E5E5E5"> the presentation cool</font><font color="#CCCCCC"> so</font>

971
00:38:05,390 --> 00:38:10,500
you can kind of walk<font color="#CCCCCC"> through</font><font color="#E5E5E5"> like what</font>

972
00:38:07,710 --> 00:38:12,200
happened<font color="#E5E5E5"> under the hood during that from</font>

973
00:38:10,500 --> 00:38:14,640
more<font color="#E5E5E5"> of like an architectural standpoint</font>

974
00:38:12,200 --> 00:38:16,470
<font color="#CCCCCC">so we've got the architecture diagram</font>

975
00:38:14,640 --> 00:38:20,279
here<font color="#CCCCCC"> and this is just gonna show two</font>

976
00:38:16,470 --> 00:38:23,029
hosts<font color="#CCCCCC"> so the first thing you do you</font>

977
00:38:20,280 --> 00:38:25,620
<font color="#E5E5E5">issue start command tells the server</font>

978
00:38:23,030 --> 00:38:28,710
<font color="#CCCCCC">please run an operation</font><font color="#E5E5E5"> gives it all the</font>

979
00:38:25,620 --> 00:38:30,810
configuration information<font color="#E5E5E5"> and sends the</font>

980
00:38:28,710 --> 00:38:32,940
first command to<font color="#CCCCCC"> the agent</font><font color="#E5E5E5"> if you're</font>

981
00:38:30,810 --> 00:38:35,490
doing<font color="#E5E5E5"> a bootstrap in this case we</font><font color="#CCCCCC"> are</font>

982
00:38:32,940 --> 00:38:37,710
the<font color="#CCCCCC"> agent will spin up a rat for you and</font>

983
00:38:35,490 --> 00:38:39,240
then that rat will check in with the

984
00:38:37,710 --> 00:38:41,400
agent and<font color="#E5E5E5"> the</font><font color="#CCCCCC"> agent</font><font color="#E5E5E5"> will register that</font>

985
00:38:39,240 --> 00:38:43,049
check in with the server<font color="#E5E5E5"> and then that</font>

986
00:38:41,400 --> 00:38:44,790
updates<font color="#E5E5E5"> the database and triggers</font><font color="#CCCCCC"> the</font>

987
00:38:43,050 --> 00:38:48,570
planner<font color="#E5E5E5"> and the execution engine to</font>

988
00:38:44,790 --> 00:38:50,460
continue<font color="#E5E5E5"> running an operation</font><font color="#CCCCCC"> so then</font>

989
00:38:48,570 --> 00:38:52,710
<font color="#E5E5E5">the rattle you asked for a command to</font>

990
00:38:50,460 --> 00:38:54,690
<font color="#E5E5E5">execute and then that gets passed again</font>

991
00:38:52,710 --> 00:38:56,610
through the server and makes its way<font color="#CCCCCC"> to</font>

992
00:38:54,690 --> 00:38:58,590
the planner<font color="#E5E5E5"> and</font><font color="#CCCCCC"> so now the planner has</font>

993
00:38:56,610 --> 00:39:00,570
<font color="#CCCCCC">to start you know</font><font color="#E5E5E5"> thinking</font><font color="#CCCCCC"> about okay</font>

994
00:38:58,590 --> 00:39:03,060
<font color="#E5E5E5">what makes sense to run</font><font color="#CCCCCC"> what command I</font>

995
00:39:00,570 --> 00:39:05,700
want<font color="#E5E5E5"> to issue what stepped on to execute</font>

996
00:39:03,060 --> 00:39:07,920
during this operation<font color="#CCCCCC"> and once it</font><font color="#E5E5E5"> makes</font>

997
00:39:05,700 --> 00:39:10,109
<font color="#E5E5E5">the</font><font color="#CCCCCC"> decision</font><font color="#E5E5E5"> you know in this case maybe</font>

998
00:39:07,920 --> 00:39:11,700
<font color="#E5E5E5">it wants to do</font><font color="#CCCCCC"> SC</font><font color="#E5E5E5"> creates so it's going</font>

999
00:39:10,110 --> 00:39:13,800
<font color="#E5E5E5">to create a service to laterally move</font>

1000
00:39:11,700 --> 00:39:16,169
<font color="#CCCCCC">it'll pass that decision all the way</font>

1001
00:39:13,800 --> 00:39:18,600
through down to the agent<font color="#E5E5E5"> and then the</font>

1002
00:39:16,170 --> 00:39:20,520
agent issues that command to<font color="#CCCCCC"> the rat the</font>

1003
00:39:18,600 --> 00:39:22,360
rat<font color="#CCCCCC"> executes</font><font color="#E5E5E5"> sit and a result of SC</font>

1004
00:39:20,520 --> 00:39:24,880
<font color="#E5E5E5">create is a new</font><font color="#CCCCCC"> rats</font><font color="#E5E5E5"> run</font>

1005
00:39:22,360 --> 00:39:26,710
a remote host<font color="#E5E5E5"> and then it'll check in</font>

1006
00:39:24,880 --> 00:39:30,270
and so this<font color="#E5E5E5"> is where it starts to get</font>

1007
00:39:26,710 --> 00:39:34,780
<font color="#E5E5E5">repetitive the process kind of continues</font>

1008
00:39:30,270 --> 00:39:36,670
so<font color="#E5E5E5"> that's you know that's the</font>

1009
00:39:34,780 --> 00:39:38,380
<font color="#CCCCCC">application that's</font><font color="#E5E5E5"> how it works</font><font color="#CCCCCC"> there</font>

1010
00:39:36,670 --> 00:39:42,340
are much use cases internally we're

1011
00:39:38,380 --> 00:39:47,290
using it<font color="#E5E5E5"> in mitre to test analytics</font><font color="#CCCCCC"> and</font>

1012
00:39:42,340 --> 00:39:49,390
to<font color="#E5E5E5"> develop new analytics</font><font color="#CCCCCC"> we have so</font>

1013
00:39:47,290 --> 00:39:51,160
<font color="#E5E5E5">that's one of the primary aspects I</font>

1014
00:39:49,390 --> 00:39:53,140
think<font color="#CCCCCC"> is</font><font color="#E5E5E5"> network defenders you know the</font>

1015
00:39:51,160 --> 00:39:54,640
idea<font color="#E5E5E5"> of every simulation is</font><font color="#CCCCCC"> to do</font>

1016
00:39:53,140 --> 00:39:56,950
adversary like<font color="#E5E5E5"> things and to see how</font>

1017
00:39:54,640 --> 00:39:58,390
your<font color="#E5E5E5"> defenses respond one of the other</font>

1018
00:39:56,950 --> 00:40:01,540
things you<font color="#E5E5E5"> can do is if you</font><font color="#CCCCCC"> just want</font>

1019
00:39:58,390 --> 00:40:03,129
like<font color="#E5E5E5"> bad guy data if you want to run</font>

1020
00:40:01,540 --> 00:40:05,200
something<font color="#E5E5E5"> and see what happens</font>

1021
00:40:03,130 --> 00:40:08,260
you can use caldera<font color="#E5E5E5"> it's really great</font>

1022
00:40:05,200 --> 00:40:09,310
for<font color="#CCCCCC"> that and another you know thing that</font>

1023
00:40:08,260 --> 00:40:11,620
you might<font color="#E5E5E5"> want</font><font color="#CCCCCC"> to do if you</font><font color="#E5E5E5"> actually</font>

1024
00:40:09,310 --> 00:40:13,270
<font color="#E5E5E5">have a red team or</font><font color="#CCCCCC"> blue team and</font><font color="#E5E5E5"> you</font>

1025
00:40:11,620 --> 00:40:14,650
want to train them it<font color="#E5E5E5"> makes a little bit</font>

1026
00:40:13,270 --> 00:40:16,540
<font color="#CCCCCC">more sense for</font><font color="#E5E5E5"> a blue team you know you</font>

1027
00:40:14,650 --> 00:40:18,790
can put them up<font color="#E5E5E5"> against an automatic</font>

1028
00:40:16,540 --> 00:40:20,890
adversary and we have some timing

1029
00:40:18,790 --> 00:40:22,540
configurations so you can actually<font color="#E5E5E5"> slow</font>

1030
00:40:20,890 --> 00:40:26,410
caldera down if you want to<font color="#CCCCCC"> be a little</font>

1031
00:40:22,540 --> 00:40:28,900
<font color="#CCCCCC">more fair to your</font><font color="#E5E5E5"> blue team and you can</font>

1032
00:40:26,410 --> 00:40:30,100
do that<font color="#E5E5E5"> you can also use it</font><font color="#CCCCCC"> to train</font><font color="#E5E5E5"> you</font>

1033
00:40:28,900 --> 00:40:32,110
know if you have<font color="#CCCCCC"> like a</font><font color="#E5E5E5"> bunch of new</font>

1034
00:40:30,100 --> 00:40:34,569
guys and<font color="#E5E5E5"> you just want to show them kind</font>

1035
00:40:32,110 --> 00:40:36,490
of<font color="#E5E5E5"> the overall flow and just give them</font>

1036
00:40:34,570 --> 00:40:41,530
something<font color="#E5E5E5"> to look at you could do use</font>

1037
00:40:36,490 --> 00:40:43,120
<font color="#E5E5E5">caldera for that as well</font><font color="#CCCCCC"> so the the code</font>

1038
00:40:41,530 --> 00:40:45,880
it's open source the whole<font color="#CCCCCC"> project</font><font color="#E5E5E5"> is</font>

1039
00:40:43,120 --> 00:40:47,529
open we want participation<font color="#CCCCCC"> from</font><font color="#E5E5E5"> the</font>

1040
00:40:45,880 --> 00:40:50,320
community that's why we're presenting<font color="#E5E5E5"> at</font>

1041
00:40:47,530 --> 00:40:51,880
blackhat<font color="#E5E5E5"> will pretty much you know</font>

1042
00:40:50,320 --> 00:40:55,120
anything that's<font color="#E5E5E5"> reasonable</font><font color="#CCCCCC"> we'll accept</font>

1043
00:40:51,880 --> 00:40:56,980
<font color="#E5E5E5">we pull</font><font color="#CCCCCC"> request bug fixes</font><font color="#E5E5E5"> if you have</font>

1044
00:40:55,120 --> 00:40:58,839
new techniques we have<font color="#E5E5E5"> 30 or so</font>

1045
00:40:56,980 --> 00:41:00,250
techniques implemented<font color="#E5E5E5"> but if if there</font>

1046
00:40:58,840 --> 00:41:01,780
are more<font color="#CCCCCC"> there definitely</font><font color="#E5E5E5"> more and if</font>

1047
00:41:00,250 --> 00:41:03,300
<font color="#CCCCCC">you</font><font color="#E5E5E5"> want to implement something and send</font>

1048
00:41:01,780 --> 00:41:06,100
us<font color="#E5E5E5"> a pull request we're open to that</font>

1049
00:41:03,300 --> 00:41:07,390
<font color="#E5E5E5">absolutely</font><font color="#CCCCCC"> and if you know if you want</font>

1050
00:41:06,100 --> 00:41:10,089
to<font color="#E5E5E5"> integrate caldera with with new</font>

1051
00:41:07,390 --> 00:41:12,910
frameworks if you want to add<font color="#CCCCCC"> ap is</font><font color="#E5E5E5"> 100%</font>

1052
00:41:10,090 --> 00:41:14,410
<font color="#CCCCCC">okay and we showed you the data model</font>

1053
00:41:12,910 --> 00:41:16,330
there's always more that<font color="#CCCCCC"> you</font><font color="#E5E5E5"> can add to</font>

1054
00:41:14,410 --> 00:41:21,009
<font color="#CCCCCC">that</font><font color="#E5E5E5"> so if you have</font><font color="#CCCCCC"> an</font><font color="#E5E5E5"> idea</font><font color="#CCCCCC"> for a new</font>

1055
00:41:16,330 --> 00:41:22,540
object<font color="#E5E5E5"> to add open to that as well</font><font color="#CCCCCC"> I hit</font>

1056
00:41:21,010 --> 00:41:24,720
there a lot there's honestly there's a

1057
00:41:22,540 --> 00:41:27,550
<font color="#E5E5E5">lot of stuff happening in this area</font><font color="#CCCCCC"> I</font>

1058
00:41:24,720 --> 00:41:29,439
put a bunch of<font color="#E5E5E5"> tools up here</font><font color="#CCCCCC"> this will</font>

1059
00:41:27,550 --> 00:41:31,480
be<font color="#CCCCCC"> available I mean can't really like</font>

1060
00:41:29,440 --> 00:41:33,340
type URLs from<font color="#E5E5E5"> this slide but there</font><font color="#CCCCCC"> are</font>

1061
00:41:31,480 --> 00:41:35,740
a<font color="#E5E5E5"> lot of tools available</font><font color="#CCCCCC"> we'll post the</font>

1062
00:41:33,340 --> 00:41:37,090
presentation<font color="#CCCCCC"> and you'll be able to</font>

1063
00:41:35,740 --> 00:41:38,350
<font color="#E5E5E5">you know click on visit some of these</font>

1064
00:41:37,090 --> 00:41:41,740
pages<font color="#CCCCCC"> there's some really</font><font color="#E5E5E5"> cool stuff</font>

1065
00:41:38,350 --> 00:41:43,299
<font color="#E5E5E5">that's happening in this area</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> I</font><font color="#CCCCCC"> have</font>

1066
00:41:41,740 --> 00:41:46,779
to plug some of the other efforts<font color="#E5E5E5"> that</font>

1067
00:41:43,300 --> 00:41:48,910
some of our Co<font color="#CCCCCC"> researchers are doing we</font>

1068
00:41:46,780 --> 00:41:51,430
<font color="#E5E5E5">have a project</font><font color="#CCCCCC"> called brawl that</font><font color="#E5E5E5"> does</font>

1069
00:41:48,910 --> 00:41:53,140
automatic<font color="#E5E5E5"> read bot vs. blue bot cyber</font>

1070
00:41:51,430 --> 00:41:54,700
<font color="#E5E5E5">games so called</font><font color="#CCCCCC"> here's the red</font><font color="#E5E5E5"> bot in</font>

1071
00:41:53,140 --> 00:41:56,618
this case there are<font color="#CCCCCC"> other blue BOTS that</font>

1072
00:41:54,700 --> 00:41:59,618
try<font color="#E5E5E5"> to detect or prevent</font><font color="#CCCCCC"> Caldera from</font>

1073
00:41:56,619 --> 00:42:01,420
doing stuff we we've publicly released a

1074
00:41:59,619 --> 00:42:03,010
bunch<font color="#E5E5E5"> of data</font><font color="#CCCCCC"> so this</font><font color="#E5E5E5"> is all sensor data</font>

1075
00:42:01,420 --> 00:42:04,990
that's been collected of stuff that

1076
00:42:03,010 --> 00:42:07,420
<font color="#CCCCCC">caldera</font><font color="#E5E5E5"> is doing it's mostly system on</font>

1077
00:42:04,990 --> 00:42:08,950
data if you're<font color="#E5E5E5"> familiar with that</font><font color="#CCCCCC"> and</font>

1078
00:42:07,420 --> 00:42:13,090
there<font color="#E5E5E5"> are a few other efforts that</font><font color="#CCCCCC"> we</font>

1079
00:42:08,950 --> 00:42:14,379
<font color="#CCCCCC">have in this area as well so just to</font>

1080
00:42:13,090 --> 00:42:17,200
<font color="#E5E5E5">kind of bring it back up to the</font>

1081
00:42:14,380 --> 00:42:19,030
<font color="#E5E5E5">beginning</font><font color="#CCCCCC"> false negative problem it's</font>

1082
00:42:17,200 --> 00:42:21,430
it's<font color="#E5E5E5"> really hard I mean it's hard to</font>

1083
00:42:19,030 --> 00:42:23,080
know what you're missing<font color="#E5E5E5"> and I think one</font>

1084
00:42:21,430 --> 00:42:25,390
<font color="#CCCCCC">of the good ways that you can address</font>

1085
00:42:23,080 --> 00:42:27,610
this is by<font color="#E5E5E5"> introducing a realistic</font>

1086
00:42:25,390 --> 00:42:29,200
emulated adversary<font color="#E5E5E5"> on your network you</font>

1087
00:42:27,610 --> 00:42:31,450
<font color="#CCCCCC">know it's kind of a really nice standing</font>

1088
00:42:29,200 --> 00:42:35,230
checked<font color="#E5E5E5"> just to see what you</font><font color="#CCCCCC"> know what</font>

1089
00:42:31,450 --> 00:42:36,850
your network<font color="#E5E5E5"> is vulnerable to</font><font color="#CCCCCC"> you didn't</font>

1090
00:42:35,230 --> 00:42:39,400
really<font color="#E5E5E5"> talk about this but it's</font>

1091
00:42:36,850 --> 00:42:41,380
important<font color="#E5E5E5"> to mention that caldera we</font>

1092
00:42:39,400 --> 00:42:42,700
think it's<font color="#E5E5E5"> really good research it's</font>

1093
00:42:41,380 --> 00:42:45,400
cool that<font color="#E5E5E5"> you can do this stuff</font>

1094
00:42:42,700 --> 00:42:47,290
<font color="#CCCCCC">automatically but I don't know if it's</font>

1095
00:42:45,400 --> 00:42:49,480
ever<font color="#E5E5E5"> going to be able to fully replace a</font>

1096
00:42:47,290 --> 00:42:52,660
human adversary<font color="#CCCCCC"> I mean humans are</font>

1097
00:42:49,480 --> 00:42:54,010
creative<font color="#E5E5E5"> humans can you know make</font>

1098
00:42:52,660 --> 00:42:56,770
inferences these are things that<font color="#E5E5E5"> are</font>

1099
00:42:54,010 --> 00:42:59,470
really<font color="#CCCCCC"> hard</font><font color="#E5E5E5"> for a program to</font><font color="#CCCCCC"> do quite</font>

1100
00:42:56,770 --> 00:43:01,840
<font color="#E5E5E5">frankly but that being said caldera is</font>

1101
00:42:59,470 --> 00:43:04,209
you know<font color="#E5E5E5"> you don't need a lot</font><font color="#CCCCCC"> of smarts</font>

1102
00:43:01,840 --> 00:43:05,859
to set up<font color="#E5E5E5"> an around caldera</font><font color="#CCCCCC"> and it still</font>

1103
00:43:04,210 --> 00:43:08,800
does a lot<font color="#CCCCCC"> of things and can give</font><font color="#E5E5E5"> you</font>

1104
00:43:05,859 --> 00:43:11,410
<font color="#CCCCCC">meaningful output</font><font color="#E5E5E5"> but it</font><font color="#CCCCCC"> does complement</font>

1105
00:43:08,800 --> 00:43:15,100
a human adversary<font color="#CCCCCC"> a human red team</font><font color="#E5E5E5"> you</font>

1106
00:43:11,410 --> 00:43:16,629
know<font color="#E5E5E5"> pre and post conditions we spend a</font>

1107
00:43:15,100 --> 00:43:17,890
<font color="#CCCCCC">lot of time talking</font><font color="#E5E5E5"> about that hopefully</font>

1108
00:43:16,630 --> 00:43:20,260
we didn't bore you<font color="#CCCCCC"> I think</font><font color="#E5E5E5"> it's really</font>

1109
00:43:17,890 --> 00:43:22,359
<font color="#CCCCCC">interesting and if you get anything</font><font color="#E5E5E5"> from</font>

1110
00:43:20,260 --> 00:43:25,540
this talk<font color="#CCCCCC"> it's that thinking</font><font color="#E5E5E5"> about this</font>

1111
00:43:22,359 --> 00:43:28,779
problem<font color="#E5E5E5"> as a planning problem can be</font>

1112
00:43:25,540 --> 00:43:30,759
really<font color="#CCCCCC"> powerful and you</font><font color="#E5E5E5"> know finally</font>

1113
00:43:28,780 --> 00:43:32,230
this<font color="#CCCCCC"> is this is a</font><font color="#E5E5E5"> difficult problem</font>

1114
00:43:30,760 --> 00:43:35,020
<font color="#E5E5E5">we're open sourcing it because we think</font>

1115
00:43:32,230 --> 00:43:39,580
<font color="#E5E5E5">it</font><font color="#CCCCCC"> can</font><font color="#E5E5E5"> help the community</font><font color="#CCCCCC"> and you know</font>

1116
00:43:35,020 --> 00:43:44,080
help us help you so<font color="#E5E5E5"> and finally this is</font>

1117
00:43:39,580 --> 00:43:47,529
<font color="#CCCCCC">the github this is the repo feel</font><font color="#E5E5E5"> free to</font>

1118
00:43:44,080 --> 00:43:49,509
<font color="#CCCCCC">download the</font><font color="#E5E5E5"> code and use it so with</font>

1119
00:43:47,530 --> 00:43:58,150
that are there any<font color="#E5E5E5"> questions</font>

1120
00:43:49,510 --> 00:44:01,650
for me<font color="#E5E5E5"> or Andy</font><font color="#CCCCCC"> I think there's a</font>

1121
00:43:58,150 --> 00:44:01,650
microphone<font color="#CCCCCC"> coming</font><font color="#E5E5E5"> down for you</font>

1122
00:44:09,840 --> 00:44:12,999
[Music]

1123
00:44:59,990 --> 00:45:03,189
[Music]

1124
00:45:27,140 --> 00:45:35,129
yeah so<font color="#E5E5E5"> yeah</font><font color="#CCCCCC"> so</font><font color="#E5E5E5"> we looked a little bit</font>

1125
00:45:32,280 --> 00:45:37,800
into that<font color="#CCCCCC"> one of the papers that we have</font>

1126
00:45:35,130 --> 00:45:39,300
we<font color="#E5E5E5"> try to incorporate what do we do if</font>

1127
00:45:37,800 --> 00:45:41,940
there's like a defender looking for us

1128
00:45:39,300 --> 00:45:45,480
<font color="#E5E5E5">and the idea there it was a very Toya</font>

1129
00:45:41,940 --> 00:45:47,400
example<font color="#E5E5E5"> but the idea was like certain</font>

1130
00:45:45,480 --> 00:45:48,720
types<font color="#E5E5E5"> of lateral movement</font><font color="#CCCCCC"> are easier to</font>

1131
00:45:47,400 --> 00:45:53,280
<font color="#E5E5E5">detect than other types of lateral</font>

1132
00:45:48,720 --> 00:45:55,560
<font color="#E5E5E5">movement</font><font color="#CCCCCC"> and be very</font><font color="#E5E5E5"> blunt</font><font color="#CCCCCC"> it was easier</font>

1133
00:45:53,280 --> 00:45:58,020
to<font color="#E5E5E5"> roll that</font><font color="#CCCCCC"> into that reward score and</font>

1134
00:45:55,560 --> 00:45:59,970
say I'm<font color="#E5E5E5"> just gonna try to do a full full</font>

1135
00:45:58,020 --> 00:46:02,400
ordering of the actions with<font color="#CCCCCC"> the</font><font color="#E5E5E5"> reward</font>

1136
00:45:59,970 --> 00:46:04,350
<font color="#CCCCCC">square ideally it</font><font color="#E5E5E5"> would</font><font color="#CCCCCC"> be better to</font><font color="#E5E5E5"> say</font>

1137
00:46:02,400 --> 00:46:07,020
I have a reward for<font color="#E5E5E5"> executing this and</font>

1138
00:46:04,350 --> 00:46:08,520
then I have a cost or a risk<font color="#E5E5E5"> which is</font>

1139
00:46:07,020 --> 00:46:09,900
<font color="#E5E5E5">you know and then combining the two</font>

1140
00:46:08,520 --> 00:46:11,600
somewhere else as opposed to like

1141
00:46:09,900 --> 00:46:13,770
immediately in that score so<font color="#E5E5E5"> we haven't</font>

1142
00:46:11,600 --> 00:46:16,740
looked in looked into it<font color="#E5E5E5"> like</font>

1143
00:46:13,770 --> 00:46:19,740
necessarily<font color="#E5E5E5"> at that level which is the</font>

1144
00:46:16,740 --> 00:46:21,209
right<font color="#E5E5E5"> level but we've kind</font><font color="#CCCCCC"> of done</font><font color="#E5E5E5"> a</font>

1145
00:46:19,740 --> 00:46:22,109
little<font color="#E5E5E5"> bit of exploration there and I</font>

1146
00:46:21,210 --> 00:46:25,430
think<font color="#CCCCCC"> that that</font><font color="#E5E5E5"> might</font><font color="#CCCCCC"> be some</font>

1147
00:46:22,109 --> 00:46:25,430
interesting<font color="#CCCCCC"> research for</font><font color="#E5E5E5"> us to go down</font>

1148
00:46:45,530 --> 00:46:48,599
[Music]

1149
00:46:48,740 --> 00:47:00,029
yeah<font color="#E5E5E5"> yeah so</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> so I would consider this</font>

1150
00:46:56,309 --> 00:47:11,519
a prototype<font color="#CCCCCC"> so I wouldn't like put this</font>

1151
00:47:00,029 --> 00:47:16,380
on<font color="#E5E5E5"> your production environment</font><font color="#CCCCCC"> yeah why</font>

1152
00:47:11,519 --> 00:47:17,729
<font color="#CCCCCC">not I mean so so I</font><font color="#E5E5E5"> mean this software</font>

1153
00:47:16,380 --> 00:47:20,279
<font color="#CCCCCC">you know it's a it's a prototype</font>

1154
00:47:17,730 --> 00:47:23,460
we're researchers so we don't like build

1155
00:47:20,279 --> 00:47:25,440
products so the quality<font color="#CCCCCC"> to</font><font color="#E5E5E5"> software it's</font>

1156
00:47:23,460 --> 00:47:26,640
as good as we can<font color="#E5E5E5"> make it but we're</font>

1157
00:47:25,440 --> 00:47:29,190
researchers right and we don't<font color="#CCCCCC"> have</font>

1158
00:47:26,640 --> 00:47:30,690
<font color="#E5E5E5">unlimited</font><font color="#CCCCCC"> resources</font><font color="#E5E5E5"> with that being</font><font color="#CCCCCC"> said</font>

1159
00:47:29,190 --> 00:47:35,240
we've tried<font color="#CCCCCC"> to make</font><font color="#E5E5E5"> it as robust as</font>

1160
00:47:30,690 --> 00:47:38,369
possible<font color="#CCCCCC"> we haven't done like a complete</font>

1161
00:47:35,240 --> 00:47:39,930
<font color="#E5E5E5">like you know like spent like thousands</font>

1162
00:47:38,369 --> 00:47:42,450
of dollars doing<font color="#E5E5E5"> like an audit</font><font color="#CCCCCC"> or</font>

1163
00:47:39,930 --> 00:47:44,308
anything<font color="#E5E5E5"> so you we try to make it</font><font color="#CCCCCC"> as</font>

1164
00:47:42,450 --> 00:47:46,019
secure as possible<font color="#CCCCCC"> but no guarantees</font>

1165
00:47:44,309 --> 00:47:48,599
that you know there's not something<font color="#E5E5E5"> that</font>

1166
00:47:46,019 --> 00:47:50,758
we just missed<font color="#CCCCCC"> that being said I mean</font>

1167
00:47:48,599 --> 00:47:54,890
<font color="#CCCCCC">code is open</font><font color="#E5E5E5"> open source and so if</font>

1168
00:47:50,759 --> 00:47:54,890
anyone finds any<font color="#CCCCCC"> problems with</font><font color="#E5E5E5"> it yeah</font>

1169
00:47:59,980 --> 00:48:05,830
[Music]

1170
00:48:01,710 --> 00:48:11,109
yes<font color="#CCCCCC"> can't</font><font color="#E5E5E5"> make any promises</font><font color="#CCCCCC"> but we do</font>

1171
00:48:05,830 --> 00:48:13,569
<font color="#E5E5E5">yeah</font><font color="#CCCCCC"> oh</font><font color="#E5E5E5"> so the question</font><font color="#CCCCCC"> was do we plan</font>

1172
00:48:11,109 --> 00:48:15,970
<font color="#E5E5E5">to expand to Linux and the answer is we</font>

1173
00:48:13,570 --> 00:48:21,960
we can't make any<font color="#CCCCCC"> promises but</font><font color="#E5E5E5"> we plan</font>

1174
00:48:15,970 --> 00:48:21,959
to is there another<font color="#E5E5E5"> question over here</font>

1175
00:48:24,300 --> 00:48:27,300
yep

1176
00:48:32,800 --> 00:48:39,320
earlier<font color="#E5E5E5"> he</font><font color="#CCCCCC"> said you can choose a</font><font color="#E5E5E5"> target</font>

1177
00:48:35,810 --> 00:48:42,740
<font color="#E5E5E5">you want so data exfiltration</font><font color="#CCCCCC"> or maybe a</font>

1178
00:48:39,320 --> 00:48:45,710
<font color="#CCCCCC">denial-of-service can you show us so</font>

1179
00:48:42,740 --> 00:48:49,160
what what<font color="#E5E5E5"> you</font><font color="#CCCCCC"> will do</font><font color="#E5E5E5"> to change this</font>

1180
00:48:45,710 --> 00:48:53,030
target<font color="#E5E5E5"> o to like specifically select the</font>

1181
00:48:49,160 --> 00:49:02,480
target<font color="#CCCCCC"> uh okay I didn't</font><font color="#E5E5E5"> see I'm sorry</font>

1182
00:48:53,030 --> 00:49:07,780
<font color="#E5E5E5">wait well so we were you asking how you</font>

1183
00:49:02,480 --> 00:49:07,780
specifically select a target<font color="#CCCCCC"> yes</font><font color="#E5E5E5"> okay</font>

1184
00:49:08,980 --> 00:49:14,780
we're not quite at<font color="#E5E5E5"> the level where you</font>

1185
00:49:11,120 --> 00:49:20,690
<font color="#E5E5E5">can specifically say like go compromise</font>

1186
00:49:14,780 --> 00:49:22,940
a specific host<font color="#E5E5E5"> it's more of that so the</font>

1187
00:49:20,690 --> 00:49:25,310
<font color="#E5E5E5">way the</font><font color="#CCCCCC"> way the system works</font><font color="#E5E5E5"> is it you</font>

1188
00:49:22,940 --> 00:49:29,540
you give it all the capabilities and

1189
00:49:25,310 --> 00:49:31,549
<font color="#CCCCCC">then it uses as many as it can</font><font color="#E5E5E5"> so it</font>

1190
00:49:29,540 --> 00:49:33,080
would be pretty<font color="#CCCCCC"> easy to modify</font><font color="#E5E5E5"> the</font>

1191
00:49:31,550 --> 00:49:35,330
<font color="#CCCCCC">software to put in</font><font color="#E5E5E5"> a stopping condition</font>

1192
00:49:33,080 --> 00:49:38,360
<font color="#CCCCCC">so like you know</font><font color="#E5E5E5"> if you wanted it</font><font color="#CCCCCC"> to</font>

1193
00:49:35,330 --> 00:49:40,730
stop after<font color="#E5E5E5"> it got to a specific host you</font>

1194
00:49:38,360 --> 00:49:42,850
<font color="#E5E5E5">can just have it detect you know and</font>

1195
00:49:40,730 --> 00:49:45,380
like a conditional statement<font color="#CCCCCC"> stop here</font>

1196
00:49:42,850 --> 00:49:47,390
<font color="#CCCCCC">we haven't built that into the</font><font color="#E5E5E5"> software</font>

1197
00:49:45,380 --> 00:49:48,950
<font color="#E5E5E5">and that's because in our research</font><font color="#CCCCCC"> it's</font>

1198
00:49:47,390 --> 00:49:51,670
most<font color="#CCCCCC"> useful to have the software just</font>

1199
00:49:48,950 --> 00:49:55,600
get as<font color="#E5E5E5"> far</font><font color="#CCCCCC"> as possible always</font><font color="#E5E5E5"> and</font>

1200
00:49:51,670 --> 00:49:57,770
compromise as many hosts as it can so<font color="#CCCCCC"> I</font>

1201
00:49:55,600 --> 00:50:02,830
<font color="#E5E5E5">don't know if that answers your question</font>

1202
00:49:57,770 --> 00:50:02,830
<font color="#CCCCCC">okay thank you</font>

1203
00:50:08,770 --> 00:50:13,240
<font color="#CCCCCC">I think one of you guys</font><font color="#E5E5E5"> mentioned that</font>

1204
00:50:10,840 --> 00:50:15,460
you're doing<font color="#CCCCCC"> research in AI</font><font color="#E5E5E5"> and I</font>

1205
00:50:13,240 --> 00:50:16,569
imagine you know<font color="#E5E5E5"> that's where we're</font>

1206
00:50:15,460 --> 00:50:19,150
going<font color="#E5E5E5"> with this</font>

1207
00:50:16,570 --> 00:50:22,540
can you<font color="#E5E5E5"> just touch</font><font color="#CCCCCC"> upon</font><font color="#E5E5E5"> what you're</font>

1208
00:50:19,150 --> 00:50:24,550
doing right now<font color="#CCCCCC"> or you know</font><font color="#E5E5E5"> and perhaps</font>

1209
00:50:22,540 --> 00:50:27,820
with you know the<font color="#E5E5E5"> roadmap is or it's</font>

1210
00:50:24,550 --> 00:50:30,190
<font color="#E5E5E5">going yeah it's a little more along the</font>

1211
00:50:27,820 --> 00:50:31,330
lines of classical<font color="#CCCCCC"> ai we're not quite</font>

1212
00:50:30,190 --> 00:50:34,840
<font color="#E5E5E5">getting into that you know fun</font>

1213
00:50:31,330 --> 00:50:36,700
reinforcement learning alphago fun stuff

1214
00:50:34,840 --> 00:50:43,000
we've looked a<font color="#CCCCCC"> little bit into stuff</font>

1215
00:50:36,700 --> 00:50:44,919
<font color="#E5E5E5">like that but it's hard but</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> think more</font>

1216
00:50:43,000 --> 00:50:46,330
you know when we're using<font color="#E5E5E5"> AI work we're</font>

1217
00:50:44,920 --> 00:50:49,420
taking a lot of<font color="#E5E5E5"> stuff from the automated</font>

1218
00:50:46,330 --> 00:50:51,190
planning community and<font color="#E5E5E5"> that's kind of</font>

1219
00:50:49,420 --> 00:50:54,010
<font color="#E5E5E5">the big area we're looking to branch</font>

1220
00:50:51,190 --> 00:50:56,530
heavily into things like<font color="#CCCCCC"> Markov decision</font>

1221
00:50:54,010 --> 00:50:58,060
processes<font color="#E5E5E5"> goal based planning I get</font>

1222
00:50:56,530 --> 00:50:59,920
different kinds of heuristics things

1223
00:50:58,060 --> 00:51:02,470
like that are our main kind of

1224
00:50:59,920 --> 00:51:03,820
directions in that area<font color="#CCCCCC"> another one is</font>

1225
00:51:02,470 --> 00:51:10,240
you know<font color="#E5E5E5"> being able to do better</font>

1226
00:51:03,820 --> 00:51:12,160
inference<font color="#E5E5E5"> learning is possible and not</font>

1227
00:51:10,240 --> 00:51:14,140
strictly<font color="#E5E5E5"> in the reinforcement learning</font>

1228
00:51:12,160 --> 00:51:16,000
kind<font color="#E5E5E5"> of kind of category but there's</font>

1229
00:51:14,140 --> 00:51:17,680
other things<font color="#E5E5E5"> you might also want want to</font>

1230
00:51:16,000 --> 00:51:20,200
<font color="#E5E5E5">try to learn like maybe playing with the</font>

1231
00:51:17,680 --> 00:51:23,470
heuristic function<font color="#E5E5E5"> can I learn a good</font>

1232
00:51:20,200 --> 00:51:30,730
function based on my you know certain

1233
00:51:23,470 --> 00:51:32,830
parameters or a prior experiences<font color="#CCCCCC"> I will</font>

1234
00:51:30,730 --> 00:51:34,750
say one of the<font color="#E5E5E5"> problems in this domain</font>

1235
00:51:32,830 --> 00:51:36,150
<font color="#CCCCCC">is getting good</font><font color="#E5E5E5"> data so I mean if you</font>

1236
00:51:34,750 --> 00:51:38,740
<font color="#E5E5E5">want to do something like a</font>

1237
00:51:36,150 --> 00:51:40,690
<font color="#CCCCCC">learning-based</font><font color="#E5E5E5"> algorithm you'd like you</font>

1238
00:51:38,740 --> 00:51:44,140
really need like hundreds of different

1239
00:51:40,690 --> 00:51:46,270
<font color="#E5E5E5">like examples of people's networks that</font>

1240
00:51:44,140 --> 00:51:49,120
have<font color="#E5E5E5"> been compromised</font><font color="#CCCCCC"> and getting like</font>

1241
00:51:46,270 --> 00:51:51,490
<font color="#E5E5E5">one</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> those examples is really hard</font><font color="#CCCCCC"> so</font>

1242
00:51:49,120 --> 00:51:52,720
that<font color="#CCCCCC"> makes this feel kind of extra</font>

1243
00:51:51,490 --> 00:51:55,089
challenging I mean it's not like<font color="#E5E5E5"> you can</font>

1244
00:51:52,720 --> 00:51:59,250
just<font color="#E5E5E5"> download like 5,000 images of cats</font>

1245
00:51:55,090 --> 00:51:59,250
<font color="#E5E5E5">or something you know so</font>

1246
00:52:05,690 --> 00:52:10,700
okay<font color="#CCCCCC"> thank you</font>

