1
00:00:00,030 --> 00:00:06,480
so we<font color="#E5E5E5"> came</font><font color="#CCCCCC"> here today</font><font color="#E5E5E5"> with NASA actually</font>

2
00:00:02,700 --> 00:00:09,090
<font color="#E5E5E5">hello me David we work for NCC group as</font>

3
00:00:06,480 --> 00:00:12,090
security consultants we<font color="#CCCCCC"> specialize in</font>

4
00:00:09,090 --> 00:00:13,920
<font color="#CCCCCC">cryptography</font><font color="#E5E5E5"> but as our</font><font color="#CCCCCC"> day</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> day job</font>

5
00:00:12,090 --> 00:00:16,619
recently<font color="#E5E5E5"> with we've looked at a lot</font><font color="#CCCCCC"> of</font>

6
00:00:13,920 --> 00:00:18,720
<font color="#E5E5E5">smart contracts so we came here kind of</font>

7
00:00:16,619 --> 00:00:21,240
to share the knowledge<font color="#E5E5E5"> share what we've</font>

8
00:00:18,720 --> 00:00:23,130
learned<font color="#E5E5E5"> and give you some sort of intro</font>

9
00:00:21,240 --> 00:00:26,430
to the<font color="#CCCCCC"> world of</font><font color="#E5E5E5"> security in smart</font>

10
00:00:23,130 --> 00:00:28,259
contracts so to start we<font color="#CCCCCC"> have a very</font>

11
00:00:26,430 --> 00:00:30,960
detailed timeline of the history<font color="#CCCCCC"> of</font>

12
00:00:28,260 --> 00:00:33,180
Bitcoin and<font color="#CCCCCC"> the</font><font color="#E5E5E5"> theorem</font><font color="#CCCCCC"> as you</font><font color="#E5E5E5"> can see</font>

13
00:00:30,960 --> 00:00:36,030
<font color="#CCCCCC">Beacon is starting to get</font><font color="#E5E5E5"> quite old and</font>

14
00:00:33,180 --> 00:00:37,910
<font color="#E5E5E5">a theorem is kind of a more recent so</font><font color="#CCCCCC"> a</font>

15
00:00:36,030 --> 00:00:40,440
lot of<font color="#CCCCCC"> blossoms learned and and</font>

16
00:00:37,910 --> 00:00:42,540
optimizations that we've understood<font color="#CCCCCC"> are</font>

17
00:00:40,440 --> 00:00:44,160
in a theorem<font color="#CCCCCC"> which makes it</font><font color="#E5E5E5"> kind of a</font>

18
00:00:42,540 --> 00:00:47,489
better protocol it's faster it's

19
00:00:44,160 --> 00:00:49,648
stronger<font color="#CCCCCC"> and so on but it also has</font>

20
00:00:47,489 --> 00:00:52,349
something<font color="#CCCCCC"> very specific it has smart</font>

21
00:00:49,649 --> 00:00:55,079
contracts and smart contracts<font color="#CCCCCC"> are our</font>

22
00:00:52,350 --> 00:00:57,600
kind of you know programs and we<font color="#CCCCCC"> have</font>

23
00:00:55,079 --> 00:01:01,440
some<font color="#E5E5E5"> sort of</font><font color="#CCCCCC"> good analogy for that too</font>

24
00:00:57,600 --> 00:01:03,300
to explain so<font color="#E5E5E5"> Gavin wood who's the</font>

25
00:01:01,440 --> 00:01:05,280
creator of solidity<font color="#CCCCCC"> which is the</font>

26
00:01:03,300 --> 00:01:07,649
<font color="#E5E5E5">language most of</font><font color="#CCCCCC"> these smart contracts</font>

27
00:01:05,280 --> 00:01:09,869
are written<font color="#CCCCCC"> in says that aetherium is a</font>

28
00:01:07,650 --> 00:01:12,270
computer and for<font color="#E5E5E5"> this talk we're going</font>

29
00:01:09,869 --> 00:01:15,180
<font color="#E5E5E5">to be using</font><font color="#CCCCCC"> that essentially as a main</font>

30
00:01:12,270 --> 00:01:16,380
analogy so why is<font color="#E5E5E5"> a theorem a computer</font>

31
00:01:15,180 --> 00:01:19,049
how does that make<font color="#CCCCCC"> sense</font>

32
00:01:16,380 --> 00:01:22,500
so basically smart contracts are

33
00:01:19,049 --> 00:01:24,150
programs<font color="#E5E5E5"> that can get uploaded onto you</font>

34
00:01:22,500 --> 00:01:26,009
know this sort<font color="#E5E5E5"> of big computer of</font>

35
00:01:24,150 --> 00:01:28,259
<font color="#CCCCCC">aetherium that we can all interact with</font>

36
00:01:26,009 --> 00:01:30,720
<font color="#E5E5E5">because these interactions are well</font>

37
00:01:28,259 --> 00:01:33,030
<font color="#E5E5E5">defined by the solidity language and by</font>

38
00:01:30,720 --> 00:01:35,520
the<font color="#CCCCCC"> etherium virtual machine itself</font><font color="#E5E5E5"> we</font>

39
00:01:33,030 --> 00:01:37,229
will know basically<font color="#E5E5E5"> what happens when</font><font color="#CCCCCC"> we</font>

40
00:01:35,520 --> 00:01:39,860
interact<font color="#E5E5E5"> with it well unless we don't</font>

41
00:01:37,229 --> 00:01:42,810
<font color="#CCCCCC">alright so just imagine a computer</font><font color="#E5E5E5"> right</font>

42
00:01:39,860 --> 00:01:44,369
<font color="#E5E5E5">and just so that you don't</font><font color="#CCCCCC"> look at</font><font color="#E5E5E5"> your</font>

43
00:01:42,810 --> 00:01:47,540
phone<font color="#E5E5E5"> all the</font><font color="#CCCCCC"> time to</font><font color="#E5E5E5"> check</font><font color="#CCCCCC"> the price</font>

44
00:01:44,369 --> 00:01:49,829
this<font color="#E5E5E5"> is</font><font color="#CCCCCC"> the current price of a theorem</font>

45
00:01:47,540 --> 00:01:52,470
<font color="#CCCCCC">maybe</font><font color="#E5E5E5"> has changed it was yesterday</font><font color="#CCCCCC"> I</font>

46
00:01:49,829 --> 00:01:55,500
<font color="#E5E5E5">think so yeah so a theorem invented by a</font>

47
00:01:52,470 --> 00:01:57,960
<font color="#E5E5E5">V Tyco</font><font color="#CCCCCC"> a few</font><font color="#E5E5E5"> years ago a pretty young</font>

48
00:01:55,500 --> 00:01:59,759
guy<font color="#E5E5E5"> he wrote the first white paper on</font>

49
00:01:57,960 --> 00:02:03,780
<font color="#E5E5E5">the subject it's not</font><font color="#CCCCCC"> really a paper it's</font>

50
00:01:59,759 --> 00:02:05,969
rather a github<font color="#E5E5E5"> wiki but</font><font color="#CCCCCC"> ok and then it</font>

51
00:02:03,780 --> 00:02:07,979
was<font color="#CCCCCC"> followed by the yellow paper</font><font color="#E5E5E5"> white</font>

52
00:02:05,969 --> 00:02:10,378
paper was already taken so just<font color="#E5E5E5"> the</font>

53
00:02:07,979 --> 00:02:13,770
yellow<font color="#CCCCCC"> background</font><font color="#E5E5E5"> color by giving</font><font color="#CCCCCC"> would</font>

54
00:02:10,378 --> 00:02:16,170
who pretty much specifies the

55
00:02:13,770 --> 00:02:19,020
<font color="#E5E5E5">theorem virtual machine so that's the</font>

56
00:02:16,170 --> 00:02:21,179
the an instruction sets<font color="#CCCCCC"> kind</font><font color="#E5E5E5"> of looks</font>

57
00:02:19,020 --> 00:02:23,400
like assembly<font color="#E5E5E5"> that you can use to write</font>

58
00:02:21,180 --> 00:02:26,340
these programs for<font color="#CCCCCC"> a theorem these</font><font color="#E5E5E5"> smart</font>

59
00:02:23,400 --> 00:02:29,250
contracts<font color="#CCCCCC"> this</font><font color="#E5E5E5"> was quickly followed by</font>

60
00:02:26,340 --> 00:02:31,860
<font color="#E5E5E5">other papers the beige paper the move</font>

61
00:02:29,250 --> 00:02:33,810
paper the<font color="#CCCCCC"> Mullin paper given the polka</font>

62
00:02:31,860 --> 00:02:34,710
dot paper<font color="#CCCCCC"> I don't really understand</font>

63
00:02:33,810 --> 00:02:36,690
what's<font color="#CCCCCC"> going on there</font><font color="#E5E5E5"> with the</font>

64
00:02:34,710 --> 00:02:40,500
<font color="#E5E5E5">backgrounds but we're going to focus on</font>

65
00:02:36,690 --> 00:02:42,120
<font color="#E5E5E5">smart contracts so if you want to write</font>

66
00:02:40,500 --> 00:02:44,130
smart contracts you can<font color="#CCCCCC"> use solidity</font>

67
00:02:42,120 --> 00:02:45,990
that's the main language<font color="#E5E5E5"> that's the</font>

68
00:02:44,130 --> 00:02:48,720
<font color="#E5E5E5">language supported by the a theramin</font>

69
00:02:45,990 --> 00:02:50,730
<font color="#CCCCCC">Dacian there are others other languages</font>

70
00:02:48,720 --> 00:02:54,120
but this one is<font color="#E5E5E5"> basically the only one</font>

71
00:02:50,730 --> 00:02:55,980
<font color="#E5E5E5">we see right it's more</font><font color="#CCCCCC"> or less it looks</font>

72
00:02:54,120 --> 00:02:58,500
like that<font color="#CCCCCC"> as you</font><font color="#E5E5E5"> can see</font><font color="#CCCCCC"> a version</font><font color="#E5E5E5"> at</font>

73
00:02:55,980 --> 00:03:00,359
<font color="#CCCCCC">the very top then the</font><font color="#E5E5E5"> contract black has</font>

74
00:02:58,500 --> 00:03:03,060
the name and<font color="#CCCCCC"> it kind of looks like</font><font color="#E5E5E5"> a</font>

75
00:03:00,360 --> 00:03:06,240
class where you have<font color="#CCCCCC"> fields and then you</font>

76
00:03:03,060 --> 00:03:08,310
have functions<font color="#CCCCCC"> someone might say it</font>

77
00:03:06,240 --> 00:03:10,620
looks<font color="#E5E5E5"> very readable</font><font color="#CCCCCC"> and that that's</font>

78
00:03:08,310 --> 00:03:13,530
actually on purpose so<font color="#CCCCCC"> that people can</font>

79
00:03:10,620 --> 00:03:15,690
read<font color="#CCCCCC"> and learn the smart contracts</font><font color="#E5E5E5"> very</font>

80
00:03:13,530 --> 00:03:17,490
<font color="#E5E5E5">easily and can maybe write them yeah the</font>

81
00:03:15,690 --> 00:03:20,130
<font color="#E5E5E5">high level solidity is basically like</font>

82
00:03:17,490 --> 00:03:21,600
JavaScript<font color="#CCCCCC"> except</font><font color="#E5E5E5"> for money you know</font>

83
00:03:20,130 --> 00:03:24,000
some people<font color="#CCCCCC"> are going to kill us for</font>

84
00:03:21,600 --> 00:03:26,459
<font color="#CCCCCC">saying that it looks</font><font color="#E5E5E5"> like JavaScript a</font>

85
00:03:24,000 --> 00:03:28,230
lot so you compile that<font color="#E5E5E5"> down to</font><font color="#CCCCCC"> bytecode</font>

86
00:03:26,459 --> 00:03:30,060
and<font color="#E5E5E5"> that's what you deploy on the</font>

87
00:03:28,230 --> 00:03:33,209
<font color="#E5E5E5">ethereal</font><font color="#CCCCCC"> network</font><font color="#E5E5E5"> right we don't deploy</font>

88
00:03:30,060 --> 00:03:35,130
<font color="#E5E5E5">the actual source code</font><font color="#CCCCCC"> this</font><font color="#E5E5E5"> bytecode is</font>

89
00:03:33,209 --> 00:03:37,950
actually just the instructions defined

90
00:03:35,130 --> 00:03:39,810
by this yellow<font color="#E5E5E5"> paper and it's not very</font>

91
00:03:37,950 --> 00:03:41,820
readable so usually what you do is<font color="#CCCCCC"> that</font>

92
00:03:39,810 --> 00:03:43,709
you<font color="#CCCCCC"> also publish the</font><font color="#E5E5E5"> source code like</font>

93
00:03:41,820 --> 00:03:45,690
<font color="#CCCCCC">that people can compare and see that</font>

94
00:03:43,709 --> 00:03:47,790
it's indeed what's on the network and

95
00:03:45,690 --> 00:03:49,230
they<font color="#E5E5E5"> can also read the smart contract</font>

96
00:03:47,790 --> 00:03:52,500
make sure that they're interacting<font color="#CCCCCC"> with</font>

97
00:03:49,230 --> 00:03:54,269
something<font color="#E5E5E5"> they agree with all right so</font>

98
00:03:52,500 --> 00:03:56,370
what are<font color="#CCCCCC"> these being used for that's a</font>

99
00:03:54,270 --> 00:03:57,690
very big<font color="#E5E5E5"> question and nobody understand</font>

100
00:03:56,370 --> 00:04:00,959
really what's what's cryptocurrencies

101
00:03:57,690 --> 00:04:03,390
well what are the smart contracts<font color="#E5E5E5"> so one</font>

102
00:04:00,959 --> 00:04:07,080
of the<font color="#E5E5E5"> first very first</font><font color="#CCCCCC"> idea of a</font>

103
00:04:03,390 --> 00:04:10,079
theorem was to use<font color="#E5E5E5"> it for IPOs oh</font><font color="#CCCCCC"> I mean</font>

104
00:04:07,080 --> 00:04:12,930
<font color="#E5E5E5">I</font><font color="#CCCCCC"> see OHS so I SEOs are kind of like</font>

105
00:04:10,080 --> 00:04:16,709
IPOs<font color="#E5E5E5"> actually anyone here I sort of I</font>

106
00:04:12,930 --> 00:04:19,709
see us before<font color="#CCCCCC"> ok ok a few people so just</font>

107
00:04:16,709 --> 00:04:21,238
<font color="#E5E5E5">think of IPOs basically and you can</font>

108
00:04:19,709 --> 00:04:23,669
create a smart contract<font color="#CCCCCC"> one of these</font>

109
00:04:21,238 --> 00:04:25,799
program<font color="#E5E5E5"> put it on the a theorem</font><font color="#CCCCCC"> network</font>

110
00:04:23,669 --> 00:04:27,340
and it creates some<font color="#CCCCCC"> sort of sub</font>

111
00:04:25,800 --> 00:04:29,620
<font color="#E5E5E5">cryptocurrency</font>

112
00:04:27,340 --> 00:04:31,719
side<font color="#CCCCCC"> of a theorem</font><font color="#E5E5E5"> so you create these</font>

113
00:04:29,620 --> 00:04:35,050
<font color="#E5E5E5">things called tokens and you</font><font color="#CCCCCC"> you sell</font>

114
00:04:31,720 --> 00:04:36,820
them<font color="#CCCCCC"> for</font><font color="#E5E5E5"> money to investors and in</font>

115
00:04:35,050 --> 00:04:39,729
exchange you get this money to kind<font color="#CCCCCC"> of</font>

116
00:04:36,820 --> 00:04:43,240
fund your IDs to support your company or

117
00:04:39,729 --> 00:04:44,530
your startup<font color="#CCCCCC"> this idea of IC o----</font><font color="#E5E5E5"> is so</font>

118
00:04:43,240 --> 00:04:47,860
strong in a theorem that<font color="#CCCCCC"> there is a</font>

119
00:04:44,530 --> 00:04:49,719
standard called<font color="#CCCCCC"> ERC</font><font color="#E5E5E5"> 20 a theorem</font>

120
00:04:47,860 --> 00:04:54,160
<font color="#CCCCCC">requests for comments so like RFC's</font>

121
00:04:49,720 --> 00:04:55,780
<font color="#CCCCCC">right and you have of course IC o----</font><font color="#E5E5E5"> as</font>

122
00:04:54,160 --> 00:04:57,820
a service<font color="#E5E5E5"> because everyone everybody</font>

123
00:04:55,780 --> 00:05:00,070
wants to deny<font color="#E5E5E5"> zero but not everyone is</font>

124
00:04:57,820 --> 00:05:01,810
technical so you can kind of pay them

125
00:05:00,070 --> 00:05:03,370
and they do the marketing<font color="#CCCCCC"> for</font><font color="#E5E5E5"> you they</font>

126
00:05:01,810 --> 00:05:04,720
do the<font color="#E5E5E5"> smart contract for you and you</font>

127
00:05:03,370 --> 00:05:08,169
can sit there<font color="#CCCCCC"> and</font><font color="#E5E5E5"> just wait</font><font color="#CCCCCC"> for the</font>

128
00:05:04,720 --> 00:05:09,520
money to come of course<font color="#E5E5E5"> to be legit and</font>

129
00:05:08,169 --> 00:05:11,919
IC o---- needs a white paper<font color="#CCCCCC"> so you</font><font color="#E5E5E5"> can</font>

130
00:05:09,520 --> 00:05:13,960
<font color="#CCCCCC">go on Fiverr pay five bucks and</font><font color="#E5E5E5"> get a</font>

131
00:05:11,919 --> 00:05:16,270
white<font color="#E5E5E5"> paper that pulled</font><font color="#CCCCCC"> up legitimate of</font>

132
00:05:13,960 --> 00:05:19,750
<font color="#CCCCCC">course or you can pay five bucks for</font>

133
00:05:16,270 --> 00:05:22,180
review<font color="#CCCCCC"> but</font><font color="#E5E5E5"> okay</font><font color="#CCCCCC"> what else can you</font><font color="#E5E5E5"> do</font>

134
00:05:19,750 --> 00:05:23,340
<font color="#E5E5E5">well well some people invented this idea</font>

135
00:05:22,180 --> 00:05:25,630
<font color="#CCCCCC">of crypto kiddies</font>

136
00:05:23,340 --> 00:05:29,289
anyone heard of crypto kitties before

137
00:05:25,630 --> 00:05:30,940
also<font color="#CCCCCC"> okay a few people again secruity</font>

138
00:05:29,289 --> 00:05:33,969
<font color="#CCCCCC">crypto</font><font color="#E5E5E5"> kitties is the idea of non</font>

139
00:05:30,940 --> 00:05:36,250
fungible tokens assets<font color="#E5E5E5"> where different</font>

140
00:05:33,970 --> 00:05:37,810
<font color="#CCCCCC">kitties have different prices and</font><font color="#E5E5E5"> people</font>

141
00:05:36,250 --> 00:05:40,000
can't read them and<font color="#E5E5E5"> then the value can</font>

142
00:05:37,810 --> 00:05:42,940
increase or decrease<font color="#E5E5E5"> it's kind of silly</font>

143
00:05:40,000 --> 00:05:45,070
but it got really<font color="#CCCCCC"> really popular</font><font color="#E5E5E5"> and at</font>

144
00:05:42,940 --> 00:05:47,050
some points<font color="#E5E5E5"> it kind of jammed the</font>

145
00:05:45,070 --> 00:05:49,599
blockchain<font color="#CCCCCC"> because too many people were</font>

146
00:05:47,050 --> 00:05:51,849
<font color="#E5E5E5">trying</font><font color="#CCCCCC"> to buy or sell kitties</font><font color="#E5E5E5"> so that's</font>

147
00:05:49,599 --> 00:05:54,310
what there is and the<font color="#CCCCCC"> idea was so</font>

148
00:05:51,849 --> 00:05:55,930
popular that<font color="#E5E5E5"> people kind of rushed in to</font>

149
00:05:54,310 --> 00:05:57,550
create their own<font color="#CCCCCC"> so there is crypto</font>

150
00:05:55,930 --> 00:06:00,910
celebrities where you can buy Trump or

151
00:05:57,550 --> 00:06:03,700
<font color="#CCCCCC">Vitalik for some ëthis there's a thurman</font>

152
00:06:00,910 --> 00:06:06,280
which is like<font color="#CCCCCC"> digimon city mayor dot</font><font color="#E5E5E5"> CEO</font>

153
00:06:03,700 --> 00:06:10,000
or you can buy<font color="#E5E5E5"> CDs you can buy planets</font>

154
00:06:06,280 --> 00:06:13,450
<font color="#CCCCCC">k-pop stars if you want tacos</font><font color="#E5E5E5"> colors</font>

155
00:06:10,000 --> 00:06:15,250
poop and porn stars<font color="#CCCCCC"> of course</font><font color="#E5E5E5"> let's get</font>

156
00:06:13,450 --> 00:06:19,180
more<font color="#E5E5E5"> serious and let's look at the very</font>

157
00:06:15,250 --> 00:06:23,440
<font color="#E5E5E5">first use of a theorem that that was</font>

158
00:06:19,180 --> 00:06:26,470
really really huge<font color="#E5E5E5"> and legitimate so the</font>

159
00:06:23,440 --> 00:06:29,700
<font color="#CCCCCC">Dow is what I'm talking about</font><font color="#E5E5E5"> the Dow</font>

160
00:06:26,470 --> 00:06:32,380
<font color="#E5E5E5">was some sort of decentralized</font>

161
00:06:29,700 --> 00:06:34,300
<font color="#CCCCCC">Kickstarter</font><font color="#E5E5E5"> the centralized crowdfunding</font>

162
00:06:32,380 --> 00:06:37,030
<font color="#E5E5E5">there was a smart</font><font color="#CCCCCC"> contract</font><font color="#E5E5E5"> that was</font>

163
00:06:34,300 --> 00:06:38,770
around seven<font color="#E5E5E5"> hundred lines of</font><font color="#CCCCCC"> code</font><font color="#E5E5E5"> and</font>

164
00:06:37,030 --> 00:06:40,419
people<font color="#CCCCCC"> can invest in</font><font color="#E5E5E5"> that smart contract</font>

165
00:06:38,770 --> 00:06:42,729
and then they could kind<font color="#E5E5E5"> of</font>

166
00:06:40,420 --> 00:06:45,670
<font color="#CCCCCC">but for projects</font><font color="#E5E5E5"> and invest in these</font>

167
00:06:42,730 --> 00:06:47,680
projects<font color="#CCCCCC"> so the</font><font color="#E5E5E5"> Dow was really really</font>

168
00:06:45,670 --> 00:06:49,000
popular<font color="#CCCCCC"> so at the time I think</font><font color="#E5E5E5"> that the</font>

169
00:06:47,680 --> 00:06:51,040
peak it was<font color="#E5E5E5"> one hundred and fifty</font>

170
00:06:49,000 --> 00:06:54,040
million dollars<font color="#CCCCCC"> invested that</font><font color="#E5E5E5"> was the</font>

171
00:06:51,040 --> 00:06:55,930
<font color="#E5E5E5">largest crowdfunding on any platform to</font>

172
00:06:54,040 --> 00:06:58,920
give you an idea<font color="#CCCCCC"> that was 15% of all</font>

173
00:06:55,930 --> 00:07:01,390
efforts<font color="#E5E5E5"> run that so that's quite a lot</font>

174
00:06:58,920 --> 00:07:03,340
<font color="#E5E5E5">unfortunately not so long after</font><font color="#CCCCCC"> that</font>

175
00:07:01,390 --> 00:07:04,990
<font color="#E5E5E5">somebody found a vulnerability in</font><font color="#CCCCCC"> the</font>

176
00:07:03,340 --> 00:07:07,060
contract<font color="#E5E5E5"> and started draining the</font>

177
00:07:04,990 --> 00:07:10,450
contracts<font color="#E5E5E5"> getting something like</font><font color="#CCCCCC"> fifty</font>

178
00:07:07,060 --> 00:07:13,660
million dollars and then stopped<font color="#CCCCCC"> so</font><font color="#E5E5E5"> that</font>

179
00:07:10,450 --> 00:07:16,000
was quite bad<font color="#E5E5E5"> that's if you will the the</font>

180
00:07:13,660 --> 00:07:20,110
largest<font color="#E5E5E5"> bug bounty ever for</font><font color="#CCCCCC"> 700 lines of</font>

181
00:07:16,000 --> 00:07:22,030
<font color="#E5E5E5">code a pretty big reward and yeah so if</font>

182
00:07:20,110 --> 00:07:24,040
<font color="#CCCCCC">they're armed give give them kind of 15%</font>

183
00:07:22,030 --> 00:07:26,799
<font color="#CCCCCC">of all efforts right</font><font color="#E5E5E5"> despite</font><font color="#CCCCCC"> of money</font>

184
00:07:24,040 --> 00:07:29,080
and the<font color="#CCCCCC"> dowel just put it on</font><font color="#E5E5E5"> the fire so</font>

185
00:07:26,800 --> 00:07:32,350
that's quite bad and we're going<font color="#E5E5E5"> to see</font>

186
00:07:29,080 --> 00:07:34,240
exactly<font color="#CCCCCC"> what</font><font color="#E5E5E5"> was</font><font color="#CCCCCC"> wrong with that we have</font>

187
00:07:32,350 --> 00:07:35,680
this very<font color="#E5E5E5"> simplified example of</font><font color="#CCCCCC"> a</font>

188
00:07:34,240 --> 00:07:38,290
<font color="#E5E5E5">contract that shares the same</font>

189
00:07:35,680 --> 00:07:40,840
vulnerability with the<font color="#E5E5E5"> Dow</font><font color="#CCCCCC"> all</font><font color="#E5E5E5"> right</font>

190
00:07:38,290 --> 00:07:43,570
it has a mapping this is a hash map this

191
00:07:40,840 --> 00:07:48,429
is a<font color="#E5E5E5"> dictionary that</font><font color="#CCCCCC"> map's</font><font color="#E5E5E5"> addresses on</font>

192
00:07:43,570 --> 00:07:50,140
the etheral<font color="#CCCCCC"> network to values and we</font>

193
00:07:48,430 --> 00:07:52,630
<font color="#CCCCCC">have this donate function you can cease</font>

194
00:07:50,140 --> 00:07:55,240
public<font color="#E5E5E5"> it's payable that</font><font color="#CCCCCC"> means everybody</font>

195
00:07:52,630 --> 00:07:57,700
can call it on<font color="#E5E5E5"> the network you can call</font>

196
00:07:55,240 --> 00:07:59,920
it<font color="#E5E5E5"> from your your computer and you can</font>

197
00:07:57,700 --> 00:08:02,110
<font color="#E5E5E5">send it money because it's payable what</font>

198
00:07:59,920 --> 00:08:05,020
it does is that it<font color="#E5E5E5"> updates your balance</font>

199
00:08:02,110 --> 00:08:07,450
<font color="#E5E5E5">right you're the message sender to</font>

200
00:08:05,020 --> 00:08:09,159
reflect<font color="#E5E5E5"> what value you're sending to</font>

201
00:08:07,450 --> 00:08:10,479
<font color="#E5E5E5">that function</font><font color="#CCCCCC"> right</font><font color="#E5E5E5"> so you can add money</font>

202
00:08:09,160 --> 00:08:12,220
to your accounts you<font color="#E5E5E5"> can</font><font color="#CCCCCC"> imagine</font><font color="#E5E5E5"> that</font>

203
00:08:10,480 --> 00:08:14,880
the contract has<font color="#E5E5E5"> the</font><font color="#CCCCCC"> state's</font><font color="#E5E5E5"> its</font>

204
00:08:12,220 --> 00:08:17,020
database and calling it<font color="#E5E5E5"> kind of</font>

205
00:08:14,880 --> 00:08:20,740
influence<font color="#E5E5E5"> to</font><font color="#CCCCCC"> that database right</font><font color="#E5E5E5"> it's</font>

206
00:08:17,020 --> 00:08:22,870
<font color="#E5E5E5">mutate the</font><font color="#CCCCCC"> states</font><font color="#E5E5E5"> everybody donates</font>

207
00:08:20,740 --> 00:08:25,240
money and at the end there is<font color="#E5E5E5"> a big</font><font color="#CCCCCC"> pile</font>

208
00:08:22,870 --> 00:08:28,540
of<font color="#E5E5E5"> money in the</font><font color="#CCCCCC"> contract everything's</font>

209
00:08:25,240 --> 00:08:31,540
put together<font color="#E5E5E5"> and you know what is what</font>

210
00:08:28,540 --> 00:08:35,020
money is whose money by checking this

211
00:08:31,540 --> 00:08:37,810
this mapping of course we have a

212
00:08:35,020 --> 00:08:41,049
<font color="#E5E5E5">withdraw function with an amount as</font>

213
00:08:37,809 --> 00:08:43,089
arguments<font color="#E5E5E5"> and you can use that to</font><font color="#CCCCCC"> let</font>

214
00:08:41,049 --> 00:08:45,310
people<font color="#E5E5E5"> withdraw their their errors that</font>

215
00:08:43,090 --> 00:08:46,810
they've<font color="#CCCCCC"> donated before</font><font color="#E5E5E5"> so the first</font>

216
00:08:45,310 --> 00:08:49,449
thing the first<font color="#E5E5E5"> thing it does is</font><font color="#CCCCCC"> that it</font>

217
00:08:46,810 --> 00:08:50,859
requires your balance to be greater<font color="#E5E5E5"> than</font>

218
00:08:49,450 --> 00:08:53,850
the<font color="#CCCCCC"> amount you're trying to withdraw</font>

219
00:08:50,860 --> 00:08:53,850
that<font color="#E5E5E5"> makes sense right</font>

220
00:08:53,920 --> 00:08:57,339
second thing it does<font color="#E5E5E5"> is that it calls</font>

221
00:08:55,360 --> 00:08:59,380
your<font color="#E5E5E5"> address your message center in that</font>

222
00:08:57,339 --> 00:09:01,990
line<font color="#E5E5E5"> it calls your address and it sends</font>

223
00:08:59,380 --> 00:09:06,070
you<font color="#E5E5E5"> the money that you're willing to to</font>

224
00:09:01,990 --> 00:09:08,440
to withdraw and after<font color="#E5E5E5"> that at the very</font>

225
00:09:06,070 --> 00:09:10,449
<font color="#CCCCCC">last it updates</font><font color="#E5E5E5"> your balance right</font><font color="#CCCCCC"> it</font>

226
00:09:08,440 --> 00:09:12,940
removes<font color="#E5E5E5"> it subtracts the amount you're</font>

227
00:09:10,449 --> 00:09:16,420
withdrawing<font color="#CCCCCC"> from this this state the</font>

228
00:09:12,940 --> 00:09:18,339
contract state<font color="#E5E5E5"> all</font><font color="#CCCCCC"> right so the problem</font>

229
00:09:16,420 --> 00:09:20,139
here is<font color="#E5E5E5"> when we're calling your address</font>

230
00:09:18,339 --> 00:09:22,870
to give you back your money<font color="#CCCCCC"> this</font><font color="#E5E5E5"> is the</font>

231
00:09:20,139 --> 00:09:25,120
<font color="#E5E5E5">problem here so let's let's see a</font>

232
00:09:22,870 --> 00:09:27,550
diagram<font color="#E5E5E5"> so imagine that you're the</font>

233
00:09:25,120 --> 00:09:29,829
message sender you're sending some some

234
00:09:27,550 --> 00:09:31,209
money to the<font color="#CCCCCC"> DAO some ethers</font><font color="#E5E5E5"> the other</font>

235
00:09:29,829 --> 00:09:33,579
donate function<font color="#E5E5E5"> I know you want</font><font color="#CCCCCC"> to</font>

236
00:09:31,209 --> 00:09:35,979
withdraw<font color="#E5E5E5"> everything you like</font><font color="#CCCCCC"> Hado</font><font color="#E5E5E5"> okay</font>

237
00:09:33,579 --> 00:09:37,449
can<font color="#CCCCCC"> I withdraw something</font><font color="#E5E5E5"> right sure</font>

238
00:09:35,980 --> 00:09:38,620
and<font color="#CCCCCC"> if that was like yeah yeah I'm</font>

239
00:09:37,449 --> 00:09:40,859
checking<font color="#CCCCCC"> that you have to balance</font><font color="#E5E5E5"> and</font>

240
00:09:38,620 --> 00:09:43,510
<font color="#CCCCCC">now I'm sending you back the money</font><font color="#E5E5E5"> right</font>

241
00:09:40,860 --> 00:09:45,459
<font color="#CCCCCC">at these</font><font color="#E5E5E5"> points the devil can have</font>

242
00:09:43,510 --> 00:09:47,790
<font color="#E5E5E5">caused your address right</font><font color="#CCCCCC"> but it's all</font>

243
00:09:45,459 --> 00:09:52,029
part<font color="#E5E5E5"> of the same transaction</font>

244
00:09:47,790 --> 00:09:54,459
now<font color="#E5E5E5"> addresses on a theorem are either</font>

245
00:09:52,029 --> 00:09:57,220
contract<font color="#E5E5E5"> addresses or non contract</font>

246
00:09:54,459 --> 00:09:59,018
addresses so either<font color="#E5E5E5"> yourself like a</font>

247
00:09:57,220 --> 00:10:01,329
person addresses or a smart<font color="#CCCCCC"> contract</font>

248
00:09:59,019 --> 00:10:03,190
right<font color="#E5E5E5"> and here imagine that the person</font>

249
00:10:01,329 --> 00:10:05,380
<font color="#CCCCCC">who</font><font color="#E5E5E5"> is actually donated to the contract</font>

250
00:10:03,190 --> 00:10:07,660
the<font color="#E5E5E5"> Dow and is no withdrawing is not a</font>

251
00:10:05,380 --> 00:10:10,000
person it's a contract it's possible

252
00:10:07,660 --> 00:10:12,250
it's possible<font color="#E5E5E5"> what you would have to do</font>

253
00:10:10,000 --> 00:10:14,740
is you would have<font color="#CCCCCC"> to call this contract</font>

254
00:10:12,250 --> 00:10:16,600
first<font color="#E5E5E5"> to start the transaction and the</font>

255
00:10:14,740 --> 00:10:18,550
contract would<font color="#E5E5E5"> then call the Dow and</font><font color="#CCCCCC"> the</font>

256
00:10:16,600 --> 00:10:20,529
Dow<font color="#E5E5E5"> would send it back send back the</font>

257
00:10:18,550 --> 00:10:25,269
<font color="#E5E5E5">money to the contract that's all part of</font>

258
00:10:20,529 --> 00:10:27,880
one transaction<font color="#CCCCCC"> again at this point</font>

259
00:10:25,269 --> 00:10:31,260
<font color="#E5E5E5">really</font><font color="#CCCCCC"> when the</font><font color="#E5E5E5"> Dow is calling your</font>

260
00:10:27,880 --> 00:10:34,060
contracts your address<font color="#E5E5E5"> your contract</font>

261
00:10:31,260 --> 00:10:38,199
there<font color="#E5E5E5"> is maybe a full back function in</font>

262
00:10:34,060 --> 00:10:40,899
there and if there is pretty<font color="#E5E5E5"> much there</font>

263
00:10:38,199 --> 00:10:43,120
is code execution<font color="#E5E5E5"> so they're calling a</font>

264
00:10:40,899 --> 00:10:45,819
function<font color="#E5E5E5"> on your</font><font color="#CCCCCC"> contract this</font><font color="#E5E5E5"> is kind</font>

265
00:10:43,120 --> 00:10:48,040
of a weird<font color="#E5E5E5"> idea of calling other</font>

266
00:10:45,819 --> 00:10:50,589
contracts<font color="#E5E5E5"> which can call all the</font>

267
00:10:48,040 --> 00:10:52,959
contracts<font color="#E5E5E5"> and you have to be aware that</font>

268
00:10:50,589 --> 00:10:54,490
this this kind of thing<font color="#CCCCCC"> can happen</font><font color="#E5E5E5"> right</font>

269
00:10:52,959 --> 00:10:55,869
<font color="#E5E5E5">a contract can call another contract</font>

270
00:10:54,490 --> 00:10:59,010
that<font color="#E5E5E5"> can call another contract and so on</font>

271
00:10:55,870 --> 00:11:02,290
and these<font color="#CCCCCC"> security-wise</font><font color="#E5E5E5"> is very kind of</font>

272
00:10:59,010 --> 00:11:04,180
messy<font color="#E5E5E5"> and it can quickly get out of hand</font>

273
00:11:02,290 --> 00:11:06,880
so you have to be careful about<font color="#E5E5E5"> what</font>

274
00:11:04,180 --> 00:11:08,890
<font color="#E5E5E5">you're doing so</font>

275
00:11:06,880 --> 00:11:10,689
what can we do at this point<font color="#E5E5E5"> they're</font>

276
00:11:08,890 --> 00:11:13,360
calling our<font color="#E5E5E5"> contract and</font><font color="#CCCCCC"> you can see</font>

277
00:11:10,690 --> 00:11:15,070
that as some<font color="#CCCCCC"> sort of nested call</font><font color="#E5E5E5"> in the</font>

278
00:11:13,360 --> 00:11:18,490
execution of the the first smart

279
00:11:15,070 --> 00:11:20,290
contract and one what can our militia

280
00:11:18,490 --> 00:11:25,210
smart contract do<font color="#E5E5E5"> well he can</font><font color="#CCCCCC"> just call</font>

281
00:11:20,290 --> 00:11:27,550
<font color="#E5E5E5">back into the Dow remember were here in</font>

282
00:11:25,210 --> 00:11:29,920
the execution of the Dow which is

283
00:11:27,550 --> 00:11:32,890
calling our contract<font color="#E5E5E5"> right so we are</font><font color="#CCCCCC"> in</font>

284
00:11:29,920 --> 00:11:34,689
some<font color="#E5E5E5"> sort of nested call we haven't</font>

285
00:11:32,890 --> 00:11:37,930
reached that<font color="#E5E5E5"> line yet that updates our</font>

286
00:11:34,690 --> 00:11:41,350
balance because<font color="#E5E5E5"> we haven't returned</font><font color="#CCCCCC"> from</font>

287
00:11:37,930 --> 00:11:44,189
<font color="#CCCCCC">that</font><font color="#E5E5E5"> call up there another call is</font>

288
00:11:41,350 --> 00:11:47,230
calling<font color="#E5E5E5"> that withdraw function again and</font>

289
00:11:44,190 --> 00:11:48,580
<font color="#E5E5E5">the require here is going</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> work right</font>

290
00:11:47,230 --> 00:11:50,170
<font color="#E5E5E5">because we still have the money</font><font color="#CCCCCC"> on the</font>

291
00:11:48,580 --> 00:11:52,000
account<font color="#CCCCCC"> we haven't reached</font><font color="#E5E5E5"> that that</font>

292
00:11:50,170 --> 00:11:54,400
last line yet we haven't returned from

293
00:11:52,000 --> 00:11:57,070
<font color="#CCCCCC">that previous</font><font color="#E5E5E5"> call so this line is fine</font>

294
00:11:54,400 --> 00:12:00,490
and<font color="#CCCCCC"> we can pass it pass</font><font color="#E5E5E5"> the check and</font>

295
00:11:57,070 --> 00:12:02,350
withdraw again<font color="#CCCCCC"> and again</font><font color="#E5E5E5"> this will go</font>

296
00:12:00,490 --> 00:12:04,900
<font color="#CCCCCC">into a nested call again which can go</font>

297
00:12:02,350 --> 00:12:06,250
back in the contract<font color="#E5E5E5"> back and forth and</font>

298
00:12:04,900 --> 00:12:08,290
we can withdraw and withdraw and

299
00:12:06,250 --> 00:12:11,110
withdraw<font color="#CCCCCC"> even though we don't have money</font>

300
00:12:08,290 --> 00:12:12,790
<font color="#CCCCCC">in the Dow anymore</font><font color="#E5E5E5"> the Dow hasn't</font>

301
00:12:11,110 --> 00:12:14,740
updated the thing yet and at the end

302
00:12:12,790 --> 00:12:17,860
when we<font color="#E5E5E5"> stop the dial will update that</font>

303
00:12:14,740 --> 00:12:20,380
as it returns<font color="#E5E5E5"> from all those</font><font color="#CCCCCC"> Ness nested</font>

304
00:12:17,860 --> 00:12:23,530
<font color="#E5E5E5">calls but this problem is called</font>

305
00:12:20,380 --> 00:12:26,110
reentrant<font color="#CCCCCC"> C and pause</font><font color="#E5E5E5"> from the fact that</font>

306
00:12:23,530 --> 00:12:27,579
<font color="#E5E5E5">whenever you call an address maybe</font>

307
00:12:26,110 --> 00:12:29,890
<font color="#E5E5E5">because you're sending money to that</font>

308
00:12:27,580 --> 00:12:33,190
address<font color="#CCCCCC"> if it's a smart contract then it</font>

309
00:12:29,890 --> 00:12:34,390
might lead to cut execution whenever

310
00:12:33,190 --> 00:12:36,510
you're doing that whenever<font color="#E5E5E5"> you're</font>

311
00:12:34,390 --> 00:12:39,069
calling a contract in the middle of some

312
00:12:36,510 --> 00:12:39,780
execution<font color="#E5E5E5"> you don't know what's</font>

313
00:12:39,070 --> 00:12:41,950
happening there

314
00:12:39,780 --> 00:12:43,689
especially when it's an untrusted

315
00:12:41,950 --> 00:12:46,720
address right or an untrusted contract

316
00:12:43,690 --> 00:12:48,940
so it could call back<font color="#E5E5E5"> into your function</font>

317
00:12:46,720 --> 00:12:50,650
<font color="#E5E5E5">or it could call back into in another</font>

318
00:12:48,940 --> 00:12:52,120
function<font color="#CCCCCC"> of your</font><font color="#E5E5E5"> contract and I could</font>

319
00:12:50,650 --> 00:12:53,640
change<font color="#E5E5E5"> the state</font><font color="#CCCCCC"> of your contract so you</font>

320
00:12:52,120 --> 00:12:56,710
don't know what's happening<font color="#E5E5E5"> from there</font>

321
00:12:53,640 --> 00:13:01,930
so<font color="#E5E5E5"> that's basically</font><font color="#CCCCCC"> it and know we can I</font>

322
00:12:56,710 --> 00:13:03,760
<font color="#E5E5E5">guess go to the next story</font><font color="#CCCCCC"> yeah</font><font color="#E5E5E5"> so</font><font color="#CCCCCC"> the</font>

323
00:13:01,930 --> 00:13:06,579
next<font color="#E5E5E5"> big vulnerability that you might</font>

324
00:13:03,760 --> 00:13:09,010
have<font color="#CCCCCC"> heard of is coming from</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> parity</font>

325
00:13:06,580 --> 00:13:11,140
<font color="#CCCCCC">Multi signature wallet</font><font color="#E5E5E5"> as a matter of</font>

326
00:13:09,010 --> 00:13:14,260
fact<font color="#E5E5E5"> this</font><font color="#CCCCCC"> is not</font><font color="#E5E5E5"> just one vulnerability</font>

327
00:13:11,140 --> 00:13:16,210
<font color="#E5E5E5">but is in fact a pair involving the same</font>

328
00:13:14,260 --> 00:13:18,339
piece<font color="#CCCCCC"> of technology</font><font color="#E5E5E5"> so before we can</font>

329
00:13:16,210 --> 00:13:19,540
<font color="#E5E5E5">talk about that</font><font color="#CCCCCC"> let's talk about</font><font color="#E5E5E5"> what is</font>

330
00:13:18,339 --> 00:13:23,470
parity this

331
00:13:19,540 --> 00:13:25,810
is a big<font color="#E5E5E5"> meta blockchain company that</font>

332
00:13:23,470 --> 00:13:28,600
was founded<font color="#CCCCCC"> by Gavin wood you might</font>

333
00:13:25,810 --> 00:13:29,888
<font color="#E5E5E5">remember</font><font color="#CCCCCC"> from a few</font><font color="#E5E5E5"> slides ago</font><font color="#CCCCCC"> there big</font>

334
00:13:28,600 --> 00:13:31,750
thing that<font color="#E5E5E5"> they are one of</font><font color="#CCCCCC"> the many</font>

335
00:13:29,889 --> 00:13:35,230
things<font color="#E5E5E5"> that they put</font><font color="#CCCCCC"> out was this multi</font>

336
00:13:31,750 --> 00:13:37,329
signature wallet so at a<font color="#CCCCCC"> high level it</font>

337
00:13:35,230 --> 00:13:38,889
basically looks like<font color="#E5E5E5"> this</font><font color="#CCCCCC"> there's a lot</font>

338
00:13:37,329 --> 00:13:40,089
more<font color="#CCCCCC"> functionality</font><font color="#E5E5E5"> to it but these</font><font color="#CCCCCC"> are</font>

339
00:13:38,889 --> 00:13:42,730
<font color="#E5E5E5">the functions that we're going to end up</font>

340
00:13:40,089 --> 00:13:44,709
covering so you have this initialization

341
00:13:42,730 --> 00:13:46,779
<font color="#E5E5E5">for the wallet</font><font color="#CCCCCC"> you have confirming for a</font>

342
00:13:44,709 --> 00:13:48,758
transaction<font color="#CCCCCC"> and</font><font color="#E5E5E5"> you have killing a</font>

343
00:13:46,779 --> 00:13:51,310
contract which basically turns<font color="#E5E5E5"> off its</font>

344
00:13:48,759 --> 00:13:54,699
functionality<font color="#E5E5E5"> and sends it</font><font color="#CCCCCC"> to a new</font>

345
00:13:51,310 --> 00:13:57,339
contract<font color="#CCCCCC"> so when we are</font><font color="#E5E5E5"> initializing the</font>

346
00:13:54,699 --> 00:13:59,800
wallet we let's say<font color="#E5E5E5"> David myself and our</font>

347
00:13:57,339 --> 00:14:02,139
<font color="#CCCCCC">friends oma want to make one then let's</font>

348
00:13:59,800 --> 00:14:05,410
say<font color="#E5E5E5"> that we want</font><font color="#CCCCCC"> to make sure that any</font>

349
00:14:02,139 --> 00:14:08,709
time<font color="#CCCCCC"> we spend money at least two of us</font>

350
00:14:05,410 --> 00:14:11,110
end up having<font color="#CCCCCC"> to be signatories to that</font>

351
00:14:08,709 --> 00:14:13,540
<font color="#E5E5E5">transaction this is something</font><font color="#CCCCCC"> that a lot</font>

352
00:14:11,110 --> 00:14:16,240
<font color="#CCCCCC">of people see as a best practice</font><font color="#E5E5E5"> us</font>

353
00:14:13,540 --> 00:14:19,120
included because<font color="#E5E5E5"> it makes it so</font><font color="#CCCCCC"> that one</font>

354
00:14:16,240 --> 00:14:21,670
rogue actor or one stolen private key

355
00:14:19,120 --> 00:14:23,440
<font color="#E5E5E5">doesn't end up leading</font><font color="#CCCCCC"> to a full</font><font color="#E5E5E5"> leakage</font>

356
00:14:21,670 --> 00:14:25,329
<font color="#E5E5E5">of all of your money all right if you</font>

357
00:14:23,440 --> 00:14:28,180
<font color="#E5E5E5">look at all these phones all these I</font>

358
00:14:25,329 --> 00:14:30,069
<font color="#CCCCCC">SEOs all these like banks that hold a</font>

359
00:14:28,180 --> 00:14:32,109
lot of<font color="#E5E5E5"> money they will</font><font color="#CCCCCC"> always use</font><font color="#E5E5E5"> this</font>

360
00:14:30,069 --> 00:14:34,689
<font color="#CCCCCC">multi-sig wallet instead of normal</font>

361
00:14:32,110 --> 00:14:36,279
wallets or addresses because<font color="#CCCCCC"> like that</font>

362
00:14:34,690 --> 00:14:38,079
they can share the<font color="#E5E5E5"> responsibility right</font>

363
00:14:36,279 --> 00:14:40,720
it's not<font color="#E5E5E5"> just one probably as you</font><font color="#CCCCCC"> say</font>

364
00:14:38,079 --> 00:14:42,519
<font color="#E5E5E5">yeah absolutely</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> so it turns out that</font>

365
00:14:40,720 --> 00:14:45,069
<font color="#CCCCCC">the</font><font color="#E5E5E5"> parody multi signature wallet was a</font>

366
00:14:42,519 --> 00:14:47,170
little bit more<font color="#CCCCCC"> complicated than that</font><font color="#E5E5E5"> so</font>

367
00:14:45,069 --> 00:14:49,540
like we said since<font color="#CCCCCC"> aetherium is a big</font>

368
00:14:47,170 --> 00:14:51,579
computer<font color="#E5E5E5"> at the you know final end</font>

369
00:14:49,540 --> 00:14:53,439
<font color="#CCCCCC">someone has to run</font><font color="#E5E5E5"> some code</font><font color="#CCCCCC"> right well</font>

370
00:14:51,579 --> 00:14:55,630
so that turns out to<font color="#CCCCCC"> be the miners and</font>

371
00:14:53,440 --> 00:14:58,360
it is in<font color="#E5E5E5"> fact they who run the code of</font>

372
00:14:55,630 --> 00:15:00,100
whoever makes these smart contracts<font color="#CCCCCC"> it</font>

373
00:14:58,360 --> 00:15:01,870
turned you<font color="#CCCCCC"> know</font><font color="#E5E5E5"> in order</font><font color="#CCCCCC"> to pay them for</font>

374
00:15:00,100 --> 00:15:04,810
<font color="#CCCCCC">the privilege you include a certain</font>

375
00:15:01,870 --> 00:15:06,899
<font color="#E5E5E5">amount of fees called gas into just</font>

376
00:15:04,810 --> 00:15:09,369
about every<font color="#CCCCCC"> etherion thing that you do</font>

377
00:15:06,899 --> 00:15:12,100
one<font color="#CCCCCC"> of these</font><font color="#E5E5E5"> things this even includes</font>

378
00:15:09,370 --> 00:15:14,319
deploying contracts so if you had had

379
00:15:12,100 --> 00:15:16,149
all<font color="#CCCCCC"> of this functionality in every one</font>

380
00:15:14,319 --> 00:15:18,370
of these contracts<font color="#E5E5E5"> it would have been</font>

381
00:15:16,149 --> 00:15:20,949
actually<font color="#CCCCCC"> a lot</font><font color="#E5E5E5"> of money at least</font>

382
00:15:18,370 --> 00:15:22,870
<font color="#E5E5E5">amortized over all of the users that was</font>

383
00:15:20,949 --> 00:15:25,000
kind of wasted in deploying<font color="#E5E5E5"> the same</font>

384
00:15:22,870 --> 00:15:26,769
code<font color="#CCCCCC"> over and</font><font color="#E5E5E5"> over</font><font color="#CCCCCC"> again and</font><font color="#E5E5E5"> so they</font>

385
00:15:25,000 --> 00:15:28,540
felt<font color="#E5E5E5"> it would</font><font color="#CCCCCC"> be</font><font color="#E5E5E5"> well correctly they</font>

386
00:15:26,769 --> 00:15:30,850
felt that<font color="#E5E5E5"> it would</font><font color="#CCCCCC"> be more efficient to</font>

387
00:15:28,540 --> 00:15:32,980
encapsulate<font color="#CCCCCC"> all the logic in one library</font>

388
00:15:30,850 --> 00:15:34,690
<font color="#CCCCCC">and have all the most</font><font color="#E5E5E5"> common</font>

389
00:15:32,980 --> 00:15:39,070
while it's<font color="#CCCCCC"> just be sort of</font><font color="#E5E5E5"> stubs that</font>

390
00:15:34,690 --> 00:15:40,930
<font color="#E5E5E5">would call into</font><font color="#CCCCCC"> it so now we have</font><font color="#E5E5E5"> all</font><font color="#CCCCCC"> of</font>

391
00:15:39,070 --> 00:15:43,180
these<font color="#CCCCCC"> little stub wallets that end up</font>

392
00:15:40,930 --> 00:15:45,219
<font color="#E5E5E5">actually just you know bouncing all of</font>

393
00:15:43,180 --> 00:15:47,680
the calls if you will to one central

394
00:15:45,220 --> 00:15:49,630
library contract<font color="#E5E5E5"> rather than everything</font>

395
00:15:47,680 --> 00:15:51,849
having to have<font color="#CCCCCC"> all of the</font><font color="#E5E5E5"> functionality</font>

396
00:15:49,630 --> 00:15:53,230
<font color="#E5E5E5">inside of it</font><font color="#CCCCCC"> right so if tomorrow</font><font color="#E5E5E5"> you</font>

397
00:15:51,850 --> 00:15:55,329
want<font color="#E5E5E5"> to use that</font><font color="#CCCCCC"> multi-sig wallet</font><font color="#E5E5E5"> will</font>

398
00:15:53,230 --> 00:15:56,980
be very cheap to deploy<font color="#E5E5E5"> to</font><font color="#CCCCCC"> the network</font>

399
00:15:55,329 --> 00:16:00,339
these more<font color="#E5E5E5"> yeah</font>

400
00:15:56,980 --> 00:16:01,510
easy so the way this<font color="#E5E5E5"> worked under</font><font color="#CCCCCC"> the</font>

401
00:16:00,339 --> 00:16:03,940
hood let's say<font color="#E5E5E5"> that we want to</font>

402
00:16:01,510 --> 00:16:06,639
initialize the<font color="#E5E5E5"> wallet like before what</font>

403
00:16:03,940 --> 00:16:09,010
<font color="#E5E5E5">we will do is call our little stub</font>

404
00:16:06,639 --> 00:16:11,440
wallet<font color="#CCCCCC"> the stub wallet then uses</font>

405
00:16:09,010 --> 00:16:13,389
something<font color="#CCCCCC"> called a delegate call to tell</font>

406
00:16:11,440 --> 00:16:16,990
the wallet library to do it this

407
00:16:13,389 --> 00:16:20,050
delegate call<font color="#E5E5E5"> is a EVM</font><font color="#CCCCCC"> sort</font><font color="#E5E5E5"> of assembly</font>

408
00:16:16,990 --> 00:16:22,389
function that says hey<font color="#E5E5E5"> you</font><font color="#CCCCCC"> know address</font>

409
00:16:20,050 --> 00:16:24,370
X<font color="#E5E5E5"> I'm going</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> pass you</font><font color="#CCCCCC"> some data</font><font color="#E5E5E5"> you</font>

410
00:16:22,389 --> 00:16:26,350
<font color="#CCCCCC">can</font><font color="#E5E5E5"> perform whatever computation you</font>

411
00:16:24,370 --> 00:16:30,070
want on it<font color="#E5E5E5"> and that will have an effect</font>

412
00:16:26,350 --> 00:16:31,570
<font color="#CCCCCC">on my</font><font color="#E5E5E5"> storage instead of your storage</font><font color="#CCCCCC"> if</font>

413
00:16:30,070 --> 00:16:33,820
that sounds a little bit scary that's

414
00:16:31,570 --> 00:16:36,370
because it is a little bit scary this<font color="#CCCCCC"> is</font>

415
00:16:33,820 --> 00:16:41,139
essentially<font color="#E5E5E5"> remote code execution as a</font>

416
00:16:36,370 --> 00:16:42,760
first level language feature<font color="#E5E5E5"> but you</font>

417
00:16:41,139 --> 00:16:45,040
know it does<font color="#E5E5E5"> the work right when our low</font>

418
00:16:42,760 --> 00:16:47,199
<font color="#CCCCCC">quality called in we end up</font><font color="#E5E5E5"> getting the</font>

419
00:16:45,040 --> 00:16:50,139
functionality and<font color="#E5E5E5"> we become</font><font color="#CCCCCC"> the owners</font>

420
00:16:47,199 --> 00:16:52,000
and in this<font color="#E5E5E5"> specific case it wasn't</font>

421
00:16:50,139 --> 00:16:54,579
actually<font color="#E5E5E5"> it seemed like it made</font><font color="#CCCCCC"> a lot of</font>

422
00:16:52,000 --> 00:16:57,130
sense<font color="#CCCCCC"> because the</font><font color="#E5E5E5"> address of the wallet</font>

423
00:16:54,579 --> 00:16:59,109
library<font color="#E5E5E5"> is hard-coded directly into our</font>

424
00:16:57,130 --> 00:17:00,699
wallet stub<font color="#E5E5E5"> so there's no way for an</font>

425
00:16:59,110 --> 00:17:02,800
attacker to<font color="#E5E5E5"> you know trick us into</font>

426
00:17:00,699 --> 00:17:05,168
sending it somewhere<font color="#E5E5E5"> else or really</font>

427
00:17:02,800 --> 00:17:07,089
getting control of<font color="#E5E5E5"> that logic in any way</font>

428
00:17:05,169 --> 00:17:09,669
<font color="#E5E5E5">so I mean it seems like it should make</font>

429
00:17:07,089 --> 00:17:12,428
<font color="#CCCCCC">sense</font><font color="#E5E5E5"> right yeah yeah</font><font color="#CCCCCC"> Ivan to me</font>

430
00:17:09,669 --> 00:17:13,660
unfortunately<font color="#E5E5E5"> it didn't end up working</font>

431
00:17:12,429 --> 00:17:17,470
out<font color="#E5E5E5"> that well Oh</font>

432
00:17:13,660 --> 00:17:19,780
so as you<font color="#CCCCCC"> remember</font><font color="#E5E5E5"> we needed to be</font>

433
00:17:17,470 --> 00:17:22,870
calling<font color="#E5E5E5"> into this fallback function in</font>

434
00:17:19,780 --> 00:17:24,819
the first place in<font color="#E5E5E5"> order to even</font>

435
00:17:22,869 --> 00:17:27,399
initialize the wallet and<font color="#E5E5E5"> this is just a</font>

436
00:17:24,819 --> 00:17:29,168
special<font color="#CCCCCC"> function that</font><font color="#E5E5E5"> anytime</font><font color="#CCCCCC"> we call a</font>

437
00:17:27,400 --> 00:17:31,179
<font color="#E5E5E5">smart contract</font><font color="#CCCCCC"> and they don't have the</font>

438
00:17:29,169 --> 00:17:33,309
function we're calling it hits this

439
00:17:31,179 --> 00:17:36,030
fallback function and so that was how

440
00:17:33,309 --> 00:17:39,428
the delegate call was implemented<font color="#E5E5E5"> so</font>

441
00:17:36,030 --> 00:17:41,230
when we are<font color="#E5E5E5"> calling</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> the fallback</font>

442
00:17:39,429 --> 00:17:43,830
function can't have any checks about

443
00:17:41,230 --> 00:17:46,900
who's calling it even<font color="#E5E5E5"> after it's been</font>

444
00:17:43,830 --> 00:17:49,060
initialized<font color="#E5E5E5"> and then the wallet library</font>

445
00:17:46,900 --> 00:17:50,590
while<font color="#CCCCCC"> had a lot of security around</font><font color="#E5E5E5"> the</font>

446
00:17:49,060 --> 00:17:52,780
transactions<font color="#CCCCCC"> and the confirmation</font>

447
00:17:50,590 --> 00:17:55,060
actually was very<font color="#E5E5E5"> trusting</font><font color="#CCCCCC"> when</font><font color="#E5E5E5"> it came</font>

448
00:17:52,780 --> 00:17:57,820
to initialization so what happened was

449
00:17:55,060 --> 00:18:00,610
an evil<font color="#E5E5E5"> you know per third party in this</font>

450
00:17:57,820 --> 00:18:02,800
case<font color="#CCCCCC"> Eve could</font><font color="#E5E5E5"> just call our wallets</font>

451
00:18:00,610 --> 00:18:04,780
initialization function<font color="#CCCCCC"> or call the</font>

452
00:18:02,800 --> 00:18:06,490
fallback function this would<font color="#E5E5E5"> go through</font>

453
00:18:04,780 --> 00:18:09,129
the delegate call to the wallet library

454
00:18:06,490 --> 00:18:11,620
and this would make<font color="#E5E5E5"> Eve the owner of our</font>

455
00:18:09,130 --> 00:18:13,570
<font color="#CCCCCC">wallet now the</font><font color="#E5E5E5"> D</font><font color="#CCCCCC"> Vaughn's</font><font color="#E5E5E5"> our wallet she</font>

456
00:18:11,620 --> 00:18:15,969
can take all<font color="#CCCCCC"> of</font><font color="#E5E5E5"> our money and naturally</font>

457
00:18:13,570 --> 00:18:17,500
<font color="#CCCCCC">this is exactly what did</font><font color="#E5E5E5"> happen</font><font color="#CCCCCC"> about</font>

458
00:18:15,970 --> 00:18:19,240
<font color="#CCCCCC">thirty million dollars worth of ether</font>

459
00:18:17,500 --> 00:18:21,160
ended up being<font color="#E5E5E5"> stolen as a result of</font>

460
00:18:19,240 --> 00:18:23,080
this vulnerability<font color="#CCCCCC"> and it would have</font>

461
00:18:21,160 --> 00:18:25,780
<font color="#E5E5E5">been</font><font color="#CCCCCC"> a quite a bit more except for the</font>

462
00:18:23,080 --> 00:18:27,580
fact that this was first unveiled at a

463
00:18:25,780 --> 00:18:29,920
security<font color="#CCCCCC"> conference not</font><font color="#E5E5E5"> unlike this one</font>

464
00:18:27,580 --> 00:18:32,050
<font color="#CCCCCC">and there was a group of white hat</font>

465
00:18:29,920 --> 00:18:34,600
hackers that actually saw the attack<font color="#E5E5E5"> in</font>

466
00:18:32,050 --> 00:18:37,000
<font color="#E5E5E5">progress</font><font color="#CCCCCC"> coded up their own exploit and</font>

467
00:18:34,600 --> 00:18:38,500
preemptively stole all<font color="#CCCCCC"> of the vulnerable</font>

468
00:18:37,000 --> 00:18:41,020
money<font color="#E5E5E5"> to make sure that the hacker</font>

469
00:18:38,500 --> 00:18:43,150
couldn't steal it<font color="#E5E5E5"> and have actually been</font>

470
00:18:41,020 --> 00:18:44,920
giving back the<font color="#E5E5E5"> money that they were</font>

471
00:18:43,150 --> 00:18:49,660
protecting ever since

472
00:18:44,920 --> 00:18:50,890
so after<font color="#E5E5E5"> this big vulnerability</font><font color="#CCCCCC"> what do</font>

473
00:18:49,660 --> 00:18:52,930
you think people<font color="#E5E5E5"> did with the etherium</font>

474
00:18:50,890 --> 00:18:53,230
wallet<font color="#CCCCCC"> I don't know it</font><font color="#E5E5E5"> sounds fine</font>

475
00:18:52,930 --> 00:18:55,030
though

476
00:18:53,230 --> 00:18:56,770
<font color="#E5E5E5">right yeah</font><font color="#CCCCCC"> they kept using</font><font color="#E5E5E5"> that thing</font>

477
00:18:55,030 --> 00:18:59,530
right exactly<font color="#E5E5E5"> that's that's what people</font>

478
00:18:56,770 --> 00:19:01,750
<font color="#E5E5E5">ended up doing they kept using it</font><font color="#CCCCCC"> this</font>

479
00:18:59,530 --> 00:19:03,820
isn't as crazy<font color="#E5E5E5"> as it</font><font color="#CCCCCC"> maybe sounds you</font>

480
00:19:01,750 --> 00:19:06,190
know the<font color="#E5E5E5"> parody team was very well</font>

481
00:19:03,820 --> 00:19:08,290
<font color="#CCCCCC">respected</font><font color="#E5E5E5"> and this was so early</font><font color="#CCCCCC"> that</font>

482
00:19:06,190 --> 00:19:09,970
<font color="#E5E5E5">people kind of could understand that</font>

483
00:19:08,290 --> 00:19:12,550
there would be vulnerabilities so

484
00:19:09,970 --> 00:19:14,770
there's actually<font color="#E5E5E5"> a second piece of this</font>

485
00:19:12,550 --> 00:19:19,000
that ends<font color="#E5E5E5"> up going down just a little</font>

486
00:19:14,770 --> 00:19:20,860
<font color="#CCCCCC">bit later so by now the</font><font color="#E5E5E5"> interaction</font>

487
00:19:19,000 --> 00:19:23,110
between the<font color="#E5E5E5"> stub wallet and the wallet</font>

488
00:19:20,860 --> 00:19:24,729
library was pretty well vetted<font color="#CCCCCC"> they had</font>

489
00:19:23,110 --> 00:19:26,919
added<font color="#CCCCCC"> some protections that made sure</font>

490
00:19:24,730 --> 00:19:29,140
you couldn't reinitialize things<font color="#E5E5E5"> they</font>

491
00:19:26,920 --> 00:19:30,820
had added some<font color="#CCCCCC"> things</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> the visibility</font>

492
00:19:29,140 --> 00:19:33,370
<font color="#E5E5E5">which is just the way that aetherium</font>

493
00:19:30,820 --> 00:19:36,210
protects pieces of the contracts from

494
00:19:33,370 --> 00:19:38,320
callers you<font color="#CCCCCC"> know random callers</font><font color="#E5E5E5"> and</font>

495
00:19:36,210 --> 00:19:39,880
people are feeling fairly confident

496
00:19:38,320 --> 00:19:42,610
about<font color="#E5E5E5"> that</font><font color="#CCCCCC"> interaction</font><font color="#E5E5E5"> and they were</font>

497
00:19:39,880 --> 00:19:44,680
right<font color="#CCCCCC"> to be what people had failed</font><font color="#E5E5E5"> to</font>

498
00:19:42,610 --> 00:19:47,530
<font color="#E5E5E5">look at</font><font color="#CCCCCC"> however was the</font><font color="#E5E5E5"> wallet library</font>

499
00:19:44,680 --> 00:19:49,510
itself<font color="#E5E5E5"> this initialization function was</font>

500
00:19:47,530 --> 00:19:51,700
still fairly trusting as long as it

501
00:19:49,510 --> 00:19:52,650
hadn't been initialized<font color="#E5E5E5"> before and it</font>

502
00:19:51,700 --> 00:19:54,910
turned out that<font color="#CCCCCC"> no one</font><font color="#E5E5E5"> had ever</font>

503
00:19:52,650 --> 00:19:58,090
<font color="#E5E5E5">initialized the wallet library itself</font>

504
00:19:54,910 --> 00:20:00,020
<font color="#E5E5E5">and so there was a user named DevOps</font><font color="#CCCCCC"> 199</font>

505
00:19:58,090 --> 00:20:02,840
<font color="#CCCCCC">or at least called DevOps 199</font>

506
00:20:00,020 --> 00:20:04,520
who<font color="#E5E5E5"> ended up one day initializing the</font>

507
00:20:02,840 --> 00:20:06,709
wallet they<font color="#E5E5E5"> claimed that it was as a</font>

508
00:20:04,520 --> 00:20:09,379
result<font color="#CCCCCC"> of</font><font color="#E5E5E5"> research into the original</font>

509
00:20:06,710 --> 00:20:12,620
<font color="#E5E5E5">thing that they mistakenly pointed at</font>

510
00:20:09,380 --> 00:20:14,540
the wallet library<font color="#E5E5E5"> so this seems</font>

511
00:20:12,620 --> 00:20:16,399
terrifying<font color="#E5E5E5"> right they now own this one</font>

512
00:20:14,540 --> 00:20:18,770
contract<font color="#E5E5E5"> that everyone uses to control</font>

513
00:20:16,400 --> 00:20:21,380
<font color="#CCCCCC">all of their</font><font color="#E5E5E5"> money however there's no</font>

514
00:20:18,770 --> 00:20:23,450
real way<font color="#CCCCCC"> for</font><font color="#E5E5E5"> DevOps</font><font color="#CCCCCC"> 199 to actually</font>

515
00:20:21,380 --> 00:20:25,370
<font color="#CCCCCC">access the funds in the stub wallets</font>

516
00:20:23,450 --> 00:20:27,410
<font color="#E5E5E5">because the stub wallets have their own</font>

517
00:20:25,370 --> 00:20:29,239
storage<font color="#CCCCCC"> that is</font><font color="#E5E5E5"> protected unless they</font>

518
00:20:27,410 --> 00:20:31,130
use<font color="#CCCCCC"> a delegate call and because the</font>

519
00:20:29,240 --> 00:20:33,470
wallet<font color="#E5E5E5"> library's functionality is still</font>

520
00:20:31,130 --> 00:20:36,050
<font color="#E5E5E5">the same there's not actually a problem</font>

521
00:20:33,470 --> 00:20:37,790
with that what did end up<font color="#E5E5E5"> being a</font>

522
00:20:36,050 --> 00:20:42,649
problem<font color="#CCCCCC"> was one</font><font color="#E5E5E5"> of the other functions</font>

523
00:20:37,790 --> 00:20:45,590
<font color="#CCCCCC">oh</font><font color="#E5E5E5"> this kill function as you'll</font><font color="#CCCCCC"> recall</font>

524
00:20:42,650 --> 00:20:47,570
as a side effect<font color="#CCCCCC"> of being</font><font color="#E5E5E5"> killed</font><font color="#CCCCCC"> the</font>

525
00:20:45,590 --> 00:20:50,629
<font color="#CCCCCC">contract's functionality essentially</font>

526
00:20:47,570 --> 00:20:52,760
turns off now<font color="#CCCCCC"> the wallet library's</font>

527
00:20:50,630 --> 00:20:54,230
functionality was the functionality of

528
00:20:52,760 --> 00:20:57,200
<font color="#E5E5E5">the whole wallet</font><font color="#CCCCCC"> all the rest of</font><font color="#E5E5E5"> them</font>

529
00:20:54,230 --> 00:21:00,080
were just stubs<font color="#E5E5E5"> so when</font><font color="#CCCCCC"> when a dev ops</font>

530
00:20:57,200 --> 00:21:02,230
199 killed the library<font color="#E5E5E5"> he effectively</font>

531
00:21:00,080 --> 00:21:05,389
<font color="#E5E5E5">killed all</font><font color="#CCCCCC"> of the other wallets as well</font>

532
00:21:02,230 --> 00:21:07,760
this ended up<font color="#E5E5E5"> locking up 280 million</font>

533
00:21:05,390 --> 00:21:10,130
dollars worth of<font color="#CCCCCC"> aetherium irrevocably</font>

534
00:21:07,760 --> 00:21:12,740
<font color="#E5E5E5">and now they are essentially frozen</font>

535
00:21:10,130 --> 00:21:17,270
<font color="#CCCCCC">forever because there's no way to get</font>

536
00:21:12,740 --> 00:21:19,400
the funds back out so these are kind<font color="#E5E5E5"> of</font>

537
00:21:17,270 --> 00:21:21,470
two of the you know<font color="#E5E5E5"> maybe highest level</font>

538
00:21:19,400 --> 00:21:23,750
etherion vulnerabilities that<font color="#CCCCCC"> have</font><font color="#E5E5E5"> been</font>

539
00:21:21,470 --> 00:21:25,400
out<font color="#E5E5E5"> there in the world that have gotten</font>

540
00:21:23,750 --> 00:21:26,840
a lot of press but there's a lot of

541
00:21:25,400 --> 00:21:28,610
<font color="#E5E5E5">other things</font><font color="#CCCCCC"> that we see in</font><font color="#E5E5E5"> our</font><font color="#CCCCCC"> day to</font>

542
00:21:26,840 --> 00:21:30,230
<font color="#CCCCCC">day work that</font><font color="#E5E5E5"> don't necessarily get the</font>

543
00:21:28,610 --> 00:21:34,550
<font color="#E5E5E5">same</font><font color="#CCCCCC"> level of</font><font color="#E5E5E5"> attention</font><font color="#CCCCCC"> and we're gonna</font>

544
00:21:30,230 --> 00:21:36,170
go over<font color="#CCCCCC"> those now all right</font><font color="#E5E5E5"> for so let's</font>

545
00:21:34,550 --> 00:21:37,820
look<font color="#E5E5E5"> at the first</font><font color="#CCCCCC"> villain every</font><font color="#E5E5E5"> team</font>

546
00:21:36,170 --> 00:21:41,440
<font color="#E5E5E5">will talk</font><font color="#CCCCCC"> about and that's randomness or</font>

547
00:21:37,820 --> 00:21:45,740
not to do randomness and<font color="#E5E5E5"> we'll look at a</font>

548
00:21:41,440 --> 00:21:47,480
example<font color="#E5E5E5"> of a game contract so randomness</font>

549
00:21:45,740 --> 00:21:50,140
is hard and we get<font color="#CCCCCC"> a lot of these kind</font>

550
00:21:47,480 --> 00:21:52,970
<font color="#E5E5E5">of lottery games or things</font><font color="#CCCCCC"> like that and</font>

551
00:21:50,140 --> 00:21:55,310
<font color="#CCCCCC">for</font><font color="#E5E5E5"> example you'll have</font><font color="#CCCCCC"> a play function</font>

552
00:21:52,970 --> 00:21:58,070
<font color="#CCCCCC">it will</font><font color="#E5E5E5"> be payable</font><font color="#CCCCCC"> and it will take</font>

553
00:21:55,310 --> 00:22:01,250
something<font color="#E5E5E5"> like 1/8</font><font color="#CCCCCC"> ER to play this is</font>

554
00:21:58,070 --> 00:22:04,370
your<font color="#E5E5E5"> ticket to play and then it will</font>

555
00:22:01,250 --> 00:22:07,940
generate<font color="#E5E5E5"> a random number based on the</font>

556
00:22:04,370 --> 00:22:09,979
hash the key<font color="#E5E5E5"> check</font><font color="#CCCCCC"> 256</font><font color="#E5E5E5"> hash of a private</font>

557
00:22:07,940 --> 00:22:11,690
seed and an iteration<font color="#E5E5E5"> number the</font>

558
00:22:09,980 --> 00:22:12,920
iteration number<font color="#E5E5E5"> is</font><font color="#CCCCCC"> just a counter so</font>

559
00:22:11,690 --> 00:22:14,050
that<font color="#E5E5E5"> every player gets a different</font>

560
00:22:12,920 --> 00:22:17,300
<font color="#CCCCCC">random</font>

561
00:22:14,050 --> 00:22:19,310
and if your random<font color="#CCCCCC"> number is even</font><font color="#E5E5E5"> than</font>

562
00:22:17,300 --> 00:22:23,600
you win<font color="#E5E5E5"> all good</font>

563
00:22:19,310 --> 00:22:25,399
if you if it's odd then you lose Oh<font color="#E5E5E5"> does</font>

564
00:22:23,600 --> 00:22:27,740
that<font color="#CCCCCC"> work well it doesn't</font><font color="#E5E5E5"> work</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> well</font>

565
00:22:25,400 --> 00:22:29,050
<font color="#CCCCCC">because if you know</font><font color="#E5E5E5"> theorem if you know</font>

566
00:22:27,740 --> 00:22:31,700
cryptocurrencies you know that

567
00:22:29,050 --> 00:22:34,010
transactions<font color="#E5E5E5"> that transit over the</font>

568
00:22:31,700 --> 00:22:36,110
<font color="#CCCCCC">network are always</font><font color="#E5E5E5"> public everything</font><font color="#CCCCCC"> is</font>

569
00:22:34,010 --> 00:22:38,210
public<font color="#E5E5E5"> when you look at this private</font>

570
00:22:36,110 --> 00:22:39,949
<font color="#E5E5E5">seat here you're like okay</font><font color="#CCCCCC"> that might be</font>

571
00:22:38,210 --> 00:22:42,620
a<font color="#E5E5E5"> good idea</font><font color="#CCCCCC"> it's</font><font color="#E5E5E5"> private it's a seat to</font>

572
00:22:39,950 --> 00:22:45,140
generate a random number<font color="#CCCCCC"> but the</font><font color="#E5E5E5"> private</font>

573
00:22:42,620 --> 00:22:48,020
key word here<font color="#E5E5E5"> means that basically other</font>

574
00:22:45,140 --> 00:22:51,230
contracts cannot access it<font color="#E5E5E5"> as part of an</font>

575
00:22:48,020 --> 00:22:54,200
execution<font color="#E5E5E5"> so if you look at transactions</font>

576
00:22:51,230 --> 00:22:57,140
you will see at some point where it has

577
00:22:54,200 --> 00:22:58,970
<font color="#E5E5E5">been set either a deployment or after</font>

578
00:22:57,140 --> 00:23:00,500
and you will be able<font color="#E5E5E5"> to retrieve that</font>

579
00:22:58,970 --> 00:23:02,620
value<font color="#E5E5E5"> generate</font><font color="#CCCCCC"> the random number</font>

580
00:23:00,500 --> 00:23:06,200
yourself and see if<font color="#CCCCCC"> you win by playing</font>

581
00:23:02,620 --> 00:23:09,709
<font color="#E5E5E5">so it doesn't work well and you might</font>

582
00:23:06,200 --> 00:23:11,540
wonder what works right<font color="#CCCCCC"> and solidity has</font>

583
00:23:09,710 --> 00:23:13,820
a list of functions<font color="#E5E5E5"> that you can use</font><font color="#CCCCCC"> to</font>

584
00:23:11,540 --> 00:23:15,470
get some values<font color="#CCCCCC"> that</font><font color="#E5E5E5"> cannot look random</font>

585
00:23:13,820 --> 00:23:17,510
<font color="#CCCCCC">but there's</font><font color="#E5E5E5"> a lot of them and</font><font color="#CCCCCC"> you don't</font>

586
00:23:15,470 --> 00:23:19,820
<font color="#E5E5E5">really know what</font><font color="#CCCCCC"> to do</font><font color="#E5E5E5"> so the yellow</font>

587
00:23:17,510 --> 00:23:22,700
paper itself<font color="#E5E5E5"> give some guidance</font><font color="#CCCCCC"> on</font><font color="#E5E5E5"> how</font>

588
00:23:19,820 --> 00:23:24,679
<font color="#CCCCCC">to do things</font><font color="#E5E5E5"> so it says</font><font color="#CCCCCC"> that you can</font><font color="#E5E5E5"> use</font>

589
00:23:22,700 --> 00:23:26,870
maybe<font color="#E5E5E5"> the block hash or the</font><font color="#CCCCCC"> birth</font>

590
00:23:24,680 --> 00:23:29,570
<font color="#CCCCCC">timestamp or</font><font color="#E5E5E5"> the block beneficiary</font>

591
00:23:26,870 --> 00:23:33,139
address and things like that<font color="#E5E5E5"> to generate</font>

592
00:23:29,570 --> 00:23:34,340
random numbers so sounds like<font color="#E5E5E5"> it works</font>

593
00:23:33,140 --> 00:23:37,310
<font color="#E5E5E5">right now why</font><font color="#CCCCCC"> not it's in</font><font color="#E5E5E5"> the yellow</font>

594
00:23:34,340 --> 00:23:39,590
paper so that's that's proof for us that

595
00:23:37,310 --> 00:23:41,870
it works right<font color="#CCCCCC"> and no</font><font color="#E5E5E5"> this these guys</font>

596
00:23:39,590 --> 00:23:44,929
<font color="#CCCCCC">for example I mean a lot of people got</font>

597
00:23:41,870 --> 00:23:47,419
<font color="#E5E5E5">powned and these were a good example</font>

598
00:23:44,930 --> 00:23:49,520
smart<font color="#CCCCCC"> Gillan's they lost four hundred</font>

599
00:23:47,420 --> 00:23:52,040
ether which is not comparable to<font color="#E5E5E5"> the</font>

600
00:23:49,520 --> 00:23:55,280
dowel<font color="#E5E5E5"> or or</font><font color="#CCCCCC"> party but it's still quite a</font>

601
00:23:52,040 --> 00:23:58,909
lot<font color="#CCCCCC"> of money and pretty much they use</font>

602
00:23:55,280 --> 00:24:02,149
the<font color="#E5E5E5"> block hash the first advice of the</font>

603
00:23:58,910 --> 00:24:04,430
yellow<font color="#E5E5E5"> paper and the</font><font color="#CCCCCC"> black hash the</font>

604
00:24:02,150 --> 00:24:07,070
<font color="#E5E5E5">black hash is a hash of a number of</font>

605
00:24:04,430 --> 00:24:08,990
things in<font color="#E5E5E5"> the block and if you ask for</font>

606
00:24:07,070 --> 00:24:12,290
<font color="#CCCCCC">the</font><font color="#E5E5E5"> block hash of the current block</font>

607
00:24:08,990 --> 00:24:14,060
<font color="#E5E5E5">number basically the miners don't know</font>

608
00:24:12,290 --> 00:24:15,590
what it is<font color="#E5E5E5"> when they execute your</font>

609
00:24:14,060 --> 00:24:17,360
transaction<font color="#E5E5E5"> because they haven't</font>

610
00:24:15,590 --> 00:24:19,070
finalized the mining<font color="#E5E5E5"> of</font><font color="#CCCCCC"> the block they</font>

611
00:24:17,360 --> 00:24:21,290
haven't found like the<font color="#E5E5E5"> nonce or that</font>

612
00:24:19,070 --> 00:24:24,020
kind<font color="#E5E5E5"> of things so they will</font><font color="#CCCCCC"> just set it</font>

613
00:24:21,290 --> 00:24:25,310
<font color="#CCCCCC">to</font><font color="#E5E5E5"> zero and if you use the block hash of</font>

614
00:24:24,020 --> 00:24:26,810
the current number is<font color="#CCCCCC"> going</font><font color="#E5E5E5"> to be zero</font>

615
00:24:25,310 --> 00:24:28,200
<font color="#E5E5E5">and pretty much you're</font><font color="#CCCCCC"> going</font><font color="#E5E5E5"> to win</font>

616
00:24:26,810 --> 00:24:30,419
every<font color="#CCCCCC"> time</font>

617
00:24:28,200 --> 00:24:33,179
this is not what smart villains did<font color="#E5E5E5"> they</font>

618
00:24:30,420 --> 00:24:36,140
used a fixed<font color="#E5E5E5"> block number but the</font>

619
00:24:33,179 --> 00:24:38,670
problem is<font color="#E5E5E5"> that if the block number goes</font>

620
00:24:36,140 --> 00:24:40,679
256 blocks<font color="#CCCCCC"> in the past's</font><font color="#E5E5E5"> from</font><font color="#CCCCCC"> the</font>

621
00:24:38,670 --> 00:24:44,299
<font color="#CCCCCC">Courant number</font><font color="#E5E5E5"> then it will be set to</font><font color="#CCCCCC"> 0</font>

622
00:24:40,679 --> 00:24:47,730
<font color="#CCCCCC">as well just an optimization problem so</font>

623
00:24:44,299 --> 00:24:50,100
what the attacker did<font color="#E5E5E5"> for smart billions</font>

624
00:24:47,730 --> 00:24:54,150
is that they've waited 256 blocks to be

625
00:24:50,100 --> 00:24:57,240
mine<font color="#CCCCCC"> they played and the 1 another</font>

626
00:24:54,150 --> 00:24:58,799
<font color="#E5E5E5">problem arises when you use a block</font>

627
00:24:57,240 --> 00:25:01,940
number that is<font color="#E5E5E5"> between the</font><font color="#CCCCCC"> current</font>

628
00:24:58,799 --> 00:25:06,480
number the current block number and<font color="#CCCCCC"> the</font>

629
00:25:01,940 --> 00:25:08,580
before 256 blocks<font color="#E5E5E5"> in the past you still</font>

630
00:25:06,480 --> 00:25:11,429
have an attack<font color="#E5E5E5"> so what can you do</font>

631
00:25:08,580 --> 00:25:13,199
so imagine<font color="#E5E5E5"> that you're playing</font><font color="#CCCCCC"> with a</font>

632
00:25:11,429 --> 00:25:14,730
smart contract<font color="#E5E5E5"> kind of what we do with</font>

633
00:25:13,200 --> 00:25:16,590
the Dow you're not playing with it

634
00:25:14,730 --> 00:25:18,480
<font color="#CCCCCC">directly but</font><font color="#E5E5E5"> you're you're deploying</font>

635
00:25:16,590 --> 00:25:20,280
<font color="#E5E5E5">your malicious smart</font><font color="#CCCCCC"> contract and you</font>

636
00:25:18,480 --> 00:25:22,799
have some function<font color="#CCCCCC"> that</font><font color="#E5E5E5"> you're calling</font>

637
00:25:20,280 --> 00:25:24,990
<font color="#E5E5E5">on there and your smart contract checks</font>

638
00:25:22,799 --> 00:25:27,090
if the<font color="#E5E5E5"> block hash of</font><font color="#CCCCCC"> that block number</font>

639
00:25:24,990 --> 00:25:30,929
that we're<font color="#E5E5E5"> playing</font><font color="#CCCCCC"> with is good it's</font>

640
00:25:27,090 --> 00:25:34,020
even if it is it plays it plays the<font color="#E5E5E5"> game</font>

641
00:25:30,929 --> 00:25:36,120
right<font color="#E5E5E5"> and it wins right because it's the</font>

642
00:25:34,020 --> 00:25:38,610
<font color="#E5E5E5">same transaction block hard to block</font>

643
00:25:36,120 --> 00:25:41,610
number<font color="#CCCCCC"> everything's</font><font color="#E5E5E5"> the same so that's</font>

644
00:25:38,610 --> 00:25:44,790
that's an interesting way to exploit

645
00:25:41,610 --> 00:25:46,500
things on the<font color="#E5E5E5"> network you might think</font>

646
00:25:44,790 --> 00:25:48,480
<font color="#CCCCCC">that using</font><font color="#E5E5E5"> the block</font><font color="#CCCCCC"> timestamp which is</font>

647
00:25:46,500 --> 00:25:51,660
the<font color="#CCCCCC"> second</font><font color="#E5E5E5"> advice of the yellow paper</font>

648
00:25:48,480 --> 00:25:53,640
might help you but<font color="#CCCCCC"> you have exactly the</font>

649
00:25:51,660 --> 00:25:55,500
same<font color="#E5E5E5"> problem if you check if the block</font>

650
00:25:53,640 --> 00:25:57,540
<font color="#CCCCCC">timestamp is even in</font><font color="#E5E5E5"> your smart</font>

651
00:25:55,500 --> 00:25:59,940
<font color="#E5E5E5">contracts and then you call the game</font>

652
00:25:57,540 --> 00:26:01,559
<font color="#E5E5E5">since it's in the same block this</font>

653
00:25:59,940 --> 00:26:04,320
<font color="#E5E5E5">transaction</font><font color="#CCCCCC"> is in</font><font color="#E5E5E5"> the same block the</font>

654
00:26:01,559 --> 00:26:06,860
block<font color="#E5E5E5"> time</font><font color="#CCCCCC"> stamp</font><font color="#E5E5E5"> will be the same so we</font>

655
00:26:04,320 --> 00:26:10,409
<font color="#E5E5E5">have the same attack another thing that</font>

656
00:26:06,860 --> 00:26:13,500
you can do if you're a minor<font color="#E5E5E5"> you</font><font color="#CCCCCC"> can set</font>

657
00:26:10,410 --> 00:26:15,780
the block<font color="#CCCCCC"> timestamp to to some specific</font>

658
00:26:13,500 --> 00:26:18,660
value<font color="#E5E5E5"> so you can kind of play with</font><font color="#CCCCCC"> it to</font>

659
00:26:15,780 --> 00:26:22,168
some<font color="#CCCCCC"> degree and it's you</font><font color="#E5E5E5"> can make</font>

660
00:26:18,660 --> 00:26:23,820
yourself win so<font color="#E5E5E5"> you have to keep in</font><font color="#CCCCCC"> mind</font>

661
00:26:22,169 --> 00:26:26,880
that<font color="#E5E5E5"> minors can kind of play</font><font color="#CCCCCC"> with these</font>

662
00:26:23,820 --> 00:26:28,530
<font color="#CCCCCC">values so yeah randomness</font><font color="#E5E5E5"> the problem</font>

663
00:26:26,880 --> 00:26:30,750
here is that<font color="#E5E5E5"> every time you see</font>

664
00:26:28,530 --> 00:26:33,330
randomness in a smart<font color="#CCCCCC"> contract</font><font color="#E5E5E5"> it might</font>

665
00:26:30,750 --> 00:26:38,040
<font color="#E5E5E5">not be truly random random so you have</font>

666
00:26:33,330 --> 00:26:40,620
to be<font color="#E5E5E5"> wary of that and don't rely too</font>

667
00:26:38,040 --> 00:26:41,070
strongly on<font color="#E5E5E5"> the time because minors can</font>

668
00:26:40,620 --> 00:26:43,320
can

669
00:26:41,070 --> 00:26:45,629
play with the time<font color="#CCCCCC"> can help</font><font color="#E5E5E5"> their</font>

670
00:26:43,320 --> 00:26:49,020
friends or can make them tell themselves

671
00:26:45,630 --> 00:26:50,730
win<font color="#E5E5E5"> so you don't want to do that</font><font color="#CCCCCC"> okay</font>

672
00:26:49,020 --> 00:26:52,230
<font color="#CCCCCC">let's talk about</font><font color="#E5E5E5"> another issue from</font>

673
00:26:50,730 --> 00:26:53,820
running this one<font color="#E5E5E5"> is quite interesting</font>

674
00:26:52,230 --> 00:26:56,940
because<font color="#E5E5E5"> it's kind of</font><font color="#CCCCCC"> theoretical but</font>

675
00:26:53,820 --> 00:26:57,750
then<font color="#E5E5E5"> it's exploitable</font><font color="#CCCCCC"> anyway let's look</font>

676
00:26:56,940 --> 00:27:00,360
at an example

677
00:26:57,750 --> 00:27:02,250
that's a game<font color="#E5E5E5"> again you can see that</font>

678
00:27:00,360 --> 00:27:05,060
<font color="#CCCCCC">there is an RSA number that's just a</font>

679
00:27:02,250 --> 00:27:08,640
large number<font color="#E5E5E5"> but not too large here and</font>

680
00:27:05,060 --> 00:27:12,750
this<font color="#CCCCCC"> arson number is</font><font color="#E5E5E5"> a you can factor it</font>

681
00:27:08,640 --> 00:27:14,460
into<font color="#E5E5E5"> two</font><font color="#CCCCCC"> primes</font><font color="#E5E5E5"> P and Q we have a play</font>

682
00:27:12,750 --> 00:27:17,340
<font color="#E5E5E5">function and we say that if you find</font>

683
00:27:14,460 --> 00:27:19,890
this prime factorization<font color="#CCCCCC"> of n</font><font color="#E5E5E5"> of this</font>

684
00:27:17,340 --> 00:27:22,020
RSA number and you submit this P<font color="#CCCCCC"> and Q</font>

685
00:27:19,890 --> 00:27:24,330
and<font color="#CCCCCC"> we can verify that P times Q is</font>

686
00:27:22,020 --> 00:27:25,980
equal<font color="#CCCCCC"> to this number then you win the</font>

687
00:27:24,330 --> 00:27:28,409
balance of<font color="#E5E5E5"> this contract which which</font><font color="#CCCCCC"> is</font>

688
00:27:25,980 --> 00:27:29,910
a thousand<font color="#CCCCCC"> a third this</font><font color="#E5E5E5"> is a fact</font>

689
00:27:28,410 --> 00:27:31,470
contract<font color="#E5E5E5"> by the way</font><font color="#CCCCCC"> ya know crypt</font>

690
00:27:29,910 --> 00:27:33,960
analysts<font color="#E5E5E5"> out</font><font color="#CCCCCC"> there try to factor it it's</font>

691
00:27:31,470 --> 00:27:37,320
not real<font color="#E5E5E5"> oh I mean do if you want to so</font>

692
00:27:33,960 --> 00:27:38,460
yeah<font color="#E5E5E5"> anyway the problem here you might</font>

693
00:27:37,320 --> 00:27:40,980
think there is no problem because<font color="#E5E5E5"> there</font>

694
00:27:38,460 --> 00:27:43,530
is no secret<font color="#E5E5E5"> right</font><font color="#CCCCCC"> or there</font><font color="#E5E5E5"> is nothing</font>

695
00:27:40,980 --> 00:27:45,330
you<font color="#E5E5E5"> can influence but there is a problem</font>

696
00:27:43,530 --> 00:27:47,120
<font color="#CCCCCC">so</font><font color="#E5E5E5"> imagine</font><font color="#CCCCCC"> your</font><font color="#E5E5E5"> Alice</font><font color="#CCCCCC"> or imagine you</font>

697
00:27:45,330 --> 00:27:49,379
have a friend<font color="#CCCCCC"> called Alice and she</font>

698
00:27:47,120 --> 00:27:51,300
factors the number finds<font color="#E5E5E5"> P and Q and</font>

699
00:27:49,380 --> 00:27:53,630
<font color="#E5E5E5">submit the solution to the network so</font>

700
00:27:51,300 --> 00:27:56,159
she puts a solution into a transaction

701
00:27:53,630 --> 00:27:59,940
<font color="#E5E5E5">send it to the</font><font color="#CCCCCC"> network and wait</font><font color="#E5E5E5"> for it</font>

702
00:27:56,160 --> 00:28:01,920
<font color="#E5E5E5">to be mined</font><font color="#CCCCCC"> bub monitors the network he</font>

703
00:27:59,940 --> 00:28:03,570
<font color="#CCCCCC">is like any miners he sees all the</font>

704
00:28:01,920 --> 00:28:06,450
transactions<font color="#E5E5E5"> but waiting to be mine and</font>

705
00:28:03,570 --> 00:28:08,280
<font color="#CCCCCC">he decides to</font><font color="#E5E5E5"> kind of steal the content</font>

706
00:28:06,450 --> 00:28:10,710
of<font color="#CCCCCC"> Alice's transaction which is the</font>

707
00:28:08,280 --> 00:28:13,560
<font color="#CCCCCC">solution and to send it</font><font color="#E5E5E5"> to the net to</font>

708
00:28:10,710 --> 00:28:16,770
the contract<font color="#E5E5E5"> himself he can do that</font>

709
00:28:13,560 --> 00:28:18,240
<font color="#E5E5E5">right and now we're having two</font>

710
00:28:16,770 --> 00:28:21,090
transaction kind of being sent to the

711
00:28:18,240 --> 00:28:23,730
network<font color="#CCCCCC"> so</font><font color="#E5E5E5"> who wins yeah we wins right</font>

712
00:28:21,090 --> 00:28:25,530
<font color="#E5E5E5">so there is kind of a race here to the</font>

713
00:28:23,730 --> 00:28:29,570
solution who is going<font color="#E5E5E5"> to get mine first</font>

714
00:28:25,530 --> 00:28:33,090
<font color="#CCCCCC">and while he Bob has a friendly</font><font color="#E5E5E5"> minor a</font>

715
00:28:29,570 --> 00:28:35,659
minor friend<font color="#CCCCCC"> maybe</font><font color="#E5E5E5"> he can help get some</font>

716
00:28:33,090 --> 00:28:38,189
help and get his transaction go first

717
00:28:35,660 --> 00:28:40,740
but<font color="#CCCCCC"> Bob has more than one trick in</font><font color="#E5E5E5"> his</font>

718
00:28:38,190 --> 00:28:43,200
bag<font color="#E5E5E5"> he can also increase</font><font color="#CCCCCC"> the fees</font><font color="#E5E5E5"> in his</font>

719
00:28:40,740 --> 00:28:44,520
transaction to excite all the<font color="#E5E5E5"> miners</font>

720
00:28:43,200 --> 00:28:49,470
because<font color="#E5E5E5"> the miners get the fees from</font>

721
00:28:44,520 --> 00:28:53,460
transactions that they<font color="#E5E5E5"> accept and to get</font>

722
00:28:49,470 --> 00:28:54,930
his solution in front and<font color="#E5E5E5"> mine first</font>

723
00:28:53,460 --> 00:28:56,520
<font color="#E5E5E5">even though Alice was the</font>

724
00:28:54,930 --> 00:28:59,880
first one<font color="#CCCCCC"> to submit it in the first</font>

725
00:28:56,520 --> 00:29:01,290
place now this issue of<font color="#E5E5E5"> front-running is</font>

726
00:28:59,880 --> 00:29:03,150
kind of theoretical<font color="#E5E5E5"> but it's actually</font>

727
00:29:01,290 --> 00:29:04,620
very exploitable it's like a<font color="#E5E5E5"> hundred and</font>

728
00:29:03,150 --> 00:29:08,340
<font color="#E5E5E5">fifty lines of Python if you want to do</font>

729
00:29:04,620 --> 00:29:11,250
it and it's so common in the<font color="#CCCCCC"> world of a</font>

730
00:29:08,340 --> 00:29:13,260
theorem that<font color="#CCCCCC"> the ERC</font><font color="#E5E5E5"> 20 standard the</font>

731
00:29:11,250 --> 00:29:15,600
<font color="#CCCCCC">standard for</font><font color="#E5E5E5"> tokens</font><font color="#CCCCCC"> that I've</font><font color="#E5E5E5"> I talked</font>

732
00:29:13,260 --> 00:29:16,320
about<font color="#E5E5E5"> in the intro is vulnerable to</font><font color="#CCCCCC"> this</font>

733
00:29:15,600 --> 00:29:18,090
attack

734
00:29:16,320 --> 00:29:21,689
so it's<font color="#E5E5E5"> only vulnerable for two</font>

735
00:29:18,090 --> 00:29:23,280
<font color="#E5E5E5">functions and not everyone or it's rare</font>

736
00:29:21,690 --> 00:29:25,850
that<font color="#E5E5E5"> people use these</font><font color="#CCCCCC"> functions</font><font color="#E5E5E5"> so it's</font>

737
00:29:23,280 --> 00:29:29,790
kind of<font color="#E5E5E5"> fun it's</font><font color="#CCCCCC"> an OK</font><font color="#E5E5E5"> problem</font>

738
00:29:25,850 --> 00:29:34,320
the<font color="#E5E5E5"> front-running is an issue whenever</font>

739
00:29:29,790 --> 00:29:35,820
you can have some logic<font color="#E5E5E5"> flow in your</font>

740
00:29:34,320 --> 00:29:37,590
smart contract because people can

741
00:29:35,820 --> 00:29:39,300
reorder transactions<font color="#E5E5E5"> and people can</font>

742
00:29:37,590 --> 00:29:44,129
<font color="#E5E5E5">always reorder transactions yeah this</font>

743
00:29:39,300 --> 00:29:46,440
<font color="#E5E5E5">this fee thing also whenever your</font>

744
00:29:44,130 --> 00:29:48,510
transaction contains some secrets<font color="#E5E5E5"> you</font>

745
00:29:46,440 --> 00:29:50,160
<font color="#E5E5E5">have to be aware that people can read</font>

746
00:29:48,510 --> 00:29:52,110
these secrets<font color="#E5E5E5"> just by monitoring the</font>

747
00:29:50,160 --> 00:29:54,780
blockchain<font color="#CCCCCC"> so that's that's bad by</font>

748
00:29:52,110 --> 00:29:56,790
itself<font color="#E5E5E5"> also all right so that's that's</font>

749
00:29:54,780 --> 00:29:59,580
<font color="#E5E5E5">all of the all there is for the</font>

750
00:29:56,790 --> 00:30:02,010
<font color="#CCCCCC">front-running</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> i guess don't do about</font>

751
00:29:59,580 --> 00:30:03,810
the<font color="#E5E5E5"> next one so</font><font color="#CCCCCC"> i'll be talking about</font>

752
00:30:02,010 --> 00:30:05,100
all this randomness<font color="#E5E5E5"> stuff we've</font><font color="#CCCCCC"> been</font>

753
00:30:03,810 --> 00:30:06,810
<font color="#CCCCCC">talking about you know</font><font color="#E5E5E5"> kind</font><font color="#CCCCCC"> of some</font>

754
00:30:05,100 --> 00:30:10,409
<font color="#CCCCCC">mathy things so we're gonna keep on with</font>

755
00:30:06,810 --> 00:30:12,149
that<font color="#E5E5E5"> theme here so arithmetic errors are</font>

756
00:30:10,410 --> 00:30:14,640
something<font color="#CCCCCC"> that happens everywhere as</font>

757
00:30:12,150 --> 00:30:16,800
<font color="#E5E5E5">integer overflows and under flows this</font>

758
00:30:14,640 --> 00:30:19,650
<font color="#E5E5E5">is something that solidity does not have</font>

759
00:30:16,800 --> 00:30:21,060
a<font color="#CCCCCC"> monopoly on</font><font color="#E5E5E5"> certainly but is something</font>

760
00:30:19,650 --> 00:30:22,530
<font color="#E5E5E5">that happens I</font><font color="#CCCCCC"> think a little</font><font color="#E5E5E5"> bit more</font>

761
00:30:21,060 --> 00:30:25,740
frequently<font color="#E5E5E5"> in solidity than in most</font>

762
00:30:22,530 --> 00:30:27,690
<font color="#CCCCCC">other languages</font><font color="#E5E5E5"> so for those</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> you who</font>

763
00:30:25,740 --> 00:30:29,790
aren't familiar<font color="#E5E5E5"> with</font><font color="#CCCCCC"> it</font><font color="#E5E5E5"> basically this</font>

764
00:30:27,690 --> 00:30:32,250
is a bit of a solidity introduction to

765
00:30:29,790 --> 00:30:34,590
it the smallest<font color="#E5E5E5"> integer type in solidity</font>

766
00:30:32,250 --> 00:30:36,480
is<font color="#CCCCCC"> a you</font><font color="#E5E5E5"> went</font><font color="#CCCCCC"> eight which is</font><font color="#E5E5E5"> an unsigned</font>

767
00:30:34,590 --> 00:30:39,540
<font color="#CCCCCC">integer with eight</font><font color="#E5E5E5"> bits of information</font>

768
00:30:36,480 --> 00:30:42,330
in it<font color="#E5E5E5"> and this is one that's full</font><font color="#CCCCCC"> it's</font>

769
00:30:39,540 --> 00:30:45,389
they can take values<font color="#CCCCCC"> from</font><font color="#E5E5E5"> 0 to 255</font>

770
00:30:42,330 --> 00:30:48,500
this is 255 so what happens when<font color="#E5E5E5"> you add</font>

771
00:30:45,390 --> 00:30:51,990
<font color="#CCCCCC">1 to it 256</font><font color="#E5E5E5"> that's 256 right</font>

772
00:30:48,500 --> 00:30:55,560
unfortunately no it becomes<font color="#E5E5E5"> 0</font><font color="#CCCCCC"> because</font>

773
00:30:51,990 --> 00:30:57,030
<font color="#CCCCCC">the UN 8 only</font><font color="#E5E5E5"> has 8</font><font color="#CCCCCC"> bits of space the</font>

774
00:30:55,560 --> 00:30:59,250
<font color="#E5E5E5">ninth bit that would have been used for</font>

775
00:30:57,030 --> 00:31:01,740
the carry bit has to<font color="#CCCCCC"> fall off and we</font>

776
00:30:59,250 --> 00:31:03,990
wrap all the way<font color="#CCCCCC"> around to 0</font><font color="#E5E5E5"> as you can</font>

777
00:31:01,740 --> 00:31:06,750
imagine<font color="#E5E5E5"> most people who add things don't</font>

778
00:31:03,990 --> 00:31:08,260
expect an addition to subtract the

779
00:31:06,750 --> 00:31:10,500
entire<font color="#E5E5E5"> value so</font>

780
00:31:08,260 --> 00:31:13,390
this can end up causing pretty serious

781
00:31:10,500 --> 00:31:16,270
<font color="#E5E5E5">arithmetic or disorders and you know</font>

782
00:31:13,390 --> 00:31:18,280
<font color="#E5E5E5">people lose money this way so this is</font>

783
00:31:16,270 --> 00:31:21,010
<font color="#E5E5E5">just an example of bad and good</font>

784
00:31:18,280 --> 00:31:22,810
<font color="#E5E5E5">additions in solidity this one</font><font color="#CCCCCC"> addition</font>

785
00:31:21,010 --> 00:31:25,390
here<font color="#E5E5E5"> you know it makes sense you</font><font color="#CCCCCC"> just</font>

786
00:31:22,810 --> 00:31:28,000
plus equals but like we've said<font color="#E5E5E5"> this</font>

787
00:31:25,390 --> 00:31:29,680
ends up being potentially exploitable

788
00:31:28,000 --> 00:31:32,440
<font color="#CCCCCC">the way that you want to be doing</font>

789
00:31:29,680 --> 00:31:34,570
additions<font color="#E5E5E5"> is you want to make</font><font color="#CCCCCC"> sure</font><font color="#E5E5E5"> that</font>

790
00:31:32,440 --> 00:31:37,240
there is yeah<font color="#CCCCCC"> that the</font><font color="#E5E5E5"> assumption of</font>

791
00:31:34,570 --> 00:31:39,899
addition that<font color="#CCCCCC"> you know each new addition</font>

792
00:31:37,240 --> 00:31:42,100
is bigger than<font color="#E5E5E5"> the last one is preserved</font>

793
00:31:39,900 --> 00:31:43,900
<font color="#CCCCCC">these</font><font color="#E5E5E5"> assumptions have actually been</font>

794
00:31:42,100 --> 00:31:47,199
<font color="#E5E5E5">codified or at least the most common</font>

795
00:31:43,900 --> 00:31:50,080
ones<font color="#E5E5E5"> by open</font><font color="#CCCCCC"> Zeppelin into a</font><font color="#E5E5E5"> library</font>

796
00:31:47,200 --> 00:31:52,510
called safe math which checks<font color="#E5E5E5"> all of</font><font color="#CCCCCC"> the</font>

797
00:31:50,080 --> 00:31:54,820
<font color="#E5E5E5">most common while all of the arithmetic</font>

798
00:31:52,510 --> 00:31:58,810
functions so<font color="#E5E5E5"> you can multiply</font><font color="#CCCCCC"> add divide</font>

799
00:31:54,820 --> 00:32:00,520
and subtract perfectly safely so while

800
00:31:58,810 --> 00:32:02,230
this does cover just about<font color="#E5E5E5"> all</font><font color="#CCCCCC"> of the</font>

801
00:32:00,520 --> 00:32:04,990
<font color="#E5E5E5">most common ones there are actually a</font>

802
00:32:02,230 --> 00:32:07,870
<font color="#E5E5E5">lot more potential</font><font color="#CCCCCC"> places for things</font><font color="#E5E5E5"> to</font>

803
00:32:04,990 --> 00:32:09,970
overflow<font color="#E5E5E5"> this is a good summary</font><font color="#CCCCCC"> I found</font>

804
00:32:07,870 --> 00:32:11,530
in a github comments of people<font color="#CCCCCC"> saying</font>

805
00:32:09,970 --> 00:32:13,930
<font color="#E5E5E5">the solidity should fix this in the</font>

806
00:32:11,530 --> 00:32:16,800
<font color="#E5E5E5">language itself</font><font color="#CCCCCC"> and for those of you</font>

807
00:32:13,930 --> 00:32:19,150
following<font color="#E5E5E5"> along this</font><font color="#CCCCCC"> is 23</font><font color="#E5E5E5"> different</font>

808
00:32:16,800 --> 00:32:21,970
potential ways for overflows or<font color="#CCCCCC"> under</font>

809
00:32:19,150 --> 00:32:23,410
flows to happen<font color="#E5E5E5"> so this can happen</font>

810
00:32:21,970 --> 00:32:25,470
actually<font color="#CCCCCC"> a lot</font><font color="#E5E5E5"> more easily than it might</font>

811
00:32:23,410 --> 00:32:28,810
seem<font color="#CCCCCC"> even if you are taking precautions</font>

812
00:32:25,470 --> 00:32:30,790
<font color="#CCCCCC">so basically any time you see an</font>

813
00:32:28,810 --> 00:32:33,600
unchecked arithmetic operation<font color="#CCCCCC"> this is</font>

814
00:32:30,790 --> 00:32:36,129
<font color="#CCCCCC">something to inspect pretty closely</font>

815
00:32:33,600 --> 00:32:38,740
<font color="#CCCCCC">especially if you're able to increase</font><font color="#E5E5E5"> or</font>

816
00:32:36,130 --> 00:32:40,000
decrease<font color="#E5E5E5"> by large amounts even</font><font color="#CCCCCC"> though</font>

817
00:32:38,740 --> 00:32:41,800
you<font color="#E5E5E5"> end</font><font color="#CCCCCC"> day makes for a great example</font>

818
00:32:40,000 --> 00:32:44,710
there aren't a<font color="#CCCCCC"> lot of</font><font color="#E5E5E5"> them out there in</font>

819
00:32:41,800 --> 00:32:46,690
the wide<font color="#E5E5E5"> world of solidity most people</font>

820
00:32:44,710 --> 00:32:48,280
use much larger values that are big

821
00:32:46,690 --> 00:32:50,830
enough<font color="#CCCCCC"> where even just the fees to</font>

822
00:32:48,280 --> 00:32:53,649
increment<font color="#E5E5E5"> them</font><font color="#CCCCCC"> into overflowing would be</font>

823
00:32:50,830 --> 00:32:55,179
prohibitively expensive<font color="#E5E5E5"> so if you're</font>

824
00:32:53,650 --> 00:32:57,610
<font color="#E5E5E5">finding something</font><font color="#CCCCCC"> that's multiplication</font>

825
00:32:55,180 --> 00:33:01,480
or an exponentiation<font color="#CCCCCC"> you're a lot more</font>

826
00:32:57,610 --> 00:33:03,699
<font color="#CCCCCC">likely to be able</font><font color="#E5E5E5"> to exploit it</font><font color="#CCCCCC"> and also</font>

827
00:33:01,480 --> 00:33:05,620
<font color="#E5E5E5">just</font><font color="#CCCCCC"> like</font><font color="#E5E5E5"> anything else in solidity</font>

828
00:33:03,700 --> 00:33:07,120
<font color="#CCCCCC">anytime you're able to access</font><font color="#E5E5E5"> from a</font>

829
00:33:05,620 --> 00:33:08,800
lower<font color="#E5E5E5"> level of privilege if you don't</font>

830
00:33:07,120 --> 00:33:11,020
have to be an owner if you don't have to

831
00:33:08,800 --> 00:33:13,620
be even a participant<font color="#CCCCCC"> that's something</font>

832
00:33:11,020 --> 00:33:16,360
<font color="#E5E5E5">that you need to look at extra closely</font>

833
00:33:13,620 --> 00:33:19,270
so now that we're talking<font color="#E5E5E5"> about things</font>

834
00:33:16,360 --> 00:33:21,520
<font color="#E5E5E5">that solidity inherits I guess in a way</font>

835
00:33:19,270 --> 00:33:23,560
<font color="#E5E5E5">from the wider world of security</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> deny</font>

836
00:33:21,520 --> 00:33:26,290
of service<font color="#CCCCCC"> are another</font><font color="#E5E5E5"> pretty big thing</font>

837
00:33:23,560 --> 00:33:29,080
<font color="#CCCCCC">that you end up seeing very</font><font color="#E5E5E5"> frequently</font>

838
00:33:26,290 --> 00:33:31,540
in solidity<font color="#E5E5E5"> except they</font><font color="#CCCCCC"> are more calm or</font>

839
00:33:29,080 --> 00:33:33,159
well maybe more common but much more

840
00:33:31,540 --> 00:33:37,440
dangerous<font color="#CCCCCC"> than solidity than they are in</font>

841
00:33:33,160 --> 00:33:39,910
most other<font color="#CCCCCC"> languages so as an example</font>

842
00:33:37,440 --> 00:33:42,430
<font color="#CCCCCC">before we get into the way</font><font color="#E5E5E5"> that this</font>

843
00:33:39,910 --> 00:33:44,950
works<font color="#CCCCCC"> we're going to talk about the</font>

844
00:33:42,430 --> 00:33:46,570
block<font color="#CCCCCC"> gas limit</font><font color="#E5E5E5"> for those of you who are</font>

845
00:33:44,950 --> 00:33:49,390
<font color="#E5E5E5">CS theorists out there you're going to</font>

846
00:33:46,570 --> 00:33:51,280
know that<font color="#E5E5E5"> there's no way to tell by just</font>

847
00:33:49,390 --> 00:33:53,320
<font color="#CCCCCC">analyzing</font><font color="#E5E5E5"> it whether or not a</font><font color="#CCCCCC"> given</font>

848
00:33:51,280 --> 00:33:55,450
program terminates because we're

849
00:33:53,320 --> 00:33:57,460
essentially coercing other people into

850
00:33:55,450 --> 00:33:58,600
running<font color="#E5E5E5"> our programs</font><font color="#CCCCCC"> they have to be</font>

851
00:33:57,460 --> 00:34:00,670
certain that<font color="#E5E5E5"> they're not going to be</font>

852
00:33:58,600 --> 00:34:03,040
running<font color="#E5E5E5"> an infinite loop to solve this</font>

853
00:34:00,670 --> 00:34:04,990
problem<font color="#E5E5E5"> solidity or rather a theorem</font>

854
00:34:03,040 --> 00:34:06,940
enforces a gas limit<font color="#E5E5E5"> which is</font><font color="#CCCCCC"> a</font>

855
00:34:04,990 --> 00:34:09,340
essentially limit<font color="#E5E5E5"> on the</font><font color="#CCCCCC"> amount of</font>

856
00:34:06,940 --> 00:34:12,909
computation<font color="#CCCCCC"> that</font><font color="#E5E5E5"> you can perform on any</font>

857
00:34:09,340 --> 00:34:14,800
given<font color="#E5E5E5"> block so ordinarily this works</font>

858
00:34:12,909 --> 00:34:17,050
fine<font color="#CCCCCC"> you know let's say</font><font color="#E5E5E5"> you know you</font>

859
00:34:14,800 --> 00:34:18,520
<font color="#E5E5E5">have the contract where there's all</font>

860
00:34:17,050 --> 00:34:20,620
sorts of users<font color="#E5E5E5"> they're playing a game</font>

861
00:34:18,520 --> 00:34:22,570
<font color="#CCCCCC">and then at the end</font><font color="#E5E5E5"> of the contest</font>

862
00:34:20,620 --> 00:34:24,429
<font color="#E5E5E5">everyone gets paid</font><font color="#CCCCCC"> out whatever</font><font color="#E5E5E5"> their</font>

863
00:34:22,570 --> 00:34:25,780
fees are<font color="#E5E5E5"> this doesn't end up</font><font color="#CCCCCC"> messing</font>

864
00:34:24,429 --> 00:34:27,370
with the block cast limit there aren't

865
00:34:25,780 --> 00:34:29,860
too many people<font color="#CCCCCC"> who play and</font><font color="#E5E5E5"> everything</font>

866
00:34:27,370 --> 00:34:32,649
goes nicely<font color="#E5E5E5"> however if you</font><font color="#CCCCCC"> just have a</font>

867
00:34:29,860 --> 00:34:35,050
bunch<font color="#E5E5E5"> of these contributions you notice</font>

868
00:34:32,649 --> 00:34:38,409
here<font color="#E5E5E5"> we have the</font><font color="#CCCCCC"> fur user</font><font color="#E5E5E5"> and users you</font>

869
00:34:35,050 --> 00:34:40,960
know pay back basically<font color="#E5E5E5"> that even just</font>

870
00:34:38,409 --> 00:34:45,220
<font color="#E5E5E5">iterating through the full list of users</font>

871
00:34:40,960 --> 00:34:47,889
can end up destroying the amount<font color="#E5E5E5"> the</font>

872
00:34:45,219 --> 00:34:50,589
performance of this function it can be

873
00:34:47,889 --> 00:34:52,719
so large<font color="#E5E5E5"> if there's enough users that it</font>

874
00:34:50,590 --> 00:34:54,190
becomes actually<font color="#E5E5E5"> an invalid transaction</font>

875
00:34:52,719 --> 00:34:57,669
because<font color="#CCCCCC"> it's larger than the block gas</font>

876
00:34:54,190 --> 00:35:01,030
<font color="#E5E5E5">limit so this</font><font color="#CCCCCC"> isn't</font><font color="#E5E5E5"> the only way to do a</font>

877
00:34:57,670 --> 00:35:03,790
denial of<font color="#E5E5E5"> service there's also you know</font>

878
00:35:01,030 --> 00:35:07,030
infinite it's a much smaller<font color="#CCCCCC"> number of</font>

879
00:35:03,790 --> 00:35:09,180
<font color="#CCCCCC">people here you can</font><font color="#E5E5E5"> have you</font><font color="#CCCCCC"> know let's</font>

880
00:35:07,030 --> 00:35:11,860
say<font color="#CCCCCC"> david maze or david and i are</font>

881
00:35:09,180 --> 00:35:14,200
participating in a auction with some

882
00:35:11,860 --> 00:35:16,540
other person<font color="#CCCCCC"> if they happen to be</font><font color="#E5E5E5"> a</font>

883
00:35:14,200 --> 00:35:19,629
malicious<font color="#E5E5E5"> smart contract rather than a</font>

884
00:35:16,540 --> 00:35:22,330
person when you're<font color="#E5E5E5"> working in aetherium</font>

885
00:35:19,630 --> 00:35:24,370
a transaction and<font color="#E5E5E5"> sending of money is</font>

886
00:35:22,330 --> 00:35:26,259
essentially a<font color="#CCCCCC"> function call with no name</font>

887
00:35:24,370 --> 00:35:28,420
<font color="#E5E5E5">because it doesn't have a name it</font>

888
00:35:26,260 --> 00:35:32,470
directly<font color="#E5E5E5"> hits the fallback function and</font>

889
00:35:28,420 --> 00:35:35,050
so if they simply<font color="#E5E5E5"> revert on any fallback</font>

890
00:35:32,470 --> 00:35:37,359
this<font color="#E5E5E5"> essentially stops and</font>

891
00:35:35,050 --> 00:35:39,070
turns back the<font color="#E5E5E5"> entire transaction</font><font color="#CCCCCC"> and</font>

892
00:35:37,360 --> 00:35:41,320
that means<font color="#E5E5E5"> that any time you have to</font>

893
00:35:39,070 --> 00:35:43,390
transact with<font color="#E5E5E5"> this whole with the whole</font>

894
00:35:41,320 --> 00:35:45,400
group of<font color="#E5E5E5"> people and even one</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> these is</font>

895
00:35:43,390 --> 00:35:47,230
in there<font color="#E5E5E5"> it will be impossible to</font><font color="#CCCCCC"> ever</font>

896
00:35:45,400 --> 00:35:49,210
complete<font color="#E5E5E5"> the</font><font color="#CCCCCC"> function unless you're able</font>

897
00:35:47,230 --> 00:35:50,920
<font color="#CCCCCC">to remove that</font><font color="#E5E5E5"> person</font><font color="#CCCCCC"> and so in both of</font>

898
00:35:49,210 --> 00:35:54,040
these cases<font color="#E5E5E5"> your funds will be</font>

899
00:35:50,920 --> 00:35:55,840
<font color="#E5E5E5">permanently locked which is why it ends</font>

900
00:35:54,040 --> 00:35:59,080
up being much<font color="#E5E5E5"> scarier to have a denial</font>

901
00:35:55,840 --> 00:36:00,930
of service<font color="#E5E5E5"> and solidity something that</font>

902
00:35:59,080 --> 00:36:02,920
<font color="#E5E5E5">you'll see a bunch here that happens</font>

903
00:36:00,930 --> 00:36:04,870
<font color="#E5E5E5">also in a lot</font><font color="#CCCCCC"> of our other</font>

904
00:36:02,920 --> 00:36:07,330
<font color="#E5E5E5">vulnerabilities is that something</font>

905
00:36:04,870 --> 00:36:09,520
<font color="#E5E5E5">involving an external smart contract</font>

906
00:36:07,330 --> 00:36:11,140
when you expect a person<font color="#E5E5E5"> ends</font><font color="#CCCCCC"> up</font><font color="#E5E5E5"> being a</font>

907
00:36:09,520 --> 00:36:13,420
big<font color="#CCCCCC"> problem and so one way that people</font>

908
00:36:11,140 --> 00:36:15,960
<font color="#E5E5E5">try to solve this a bunch is using this</font>

909
00:36:13,420 --> 00:36:18,220
external code<font color="#E5E5E5"> size call code which</font>

910
00:36:15,960 --> 00:36:20,020
basically<font color="#E5E5E5"> tells you how much code is at</font>

911
00:36:18,220 --> 00:36:22,000
a given address<font color="#CCCCCC"> the</font><font color="#E5E5E5"> idea being that</font>

912
00:36:20,020 --> 00:36:24,160
externally own contracts<font color="#E5E5E5"> owned by people</font>

913
00:36:22,000 --> 00:36:27,400
<font color="#CCCCCC">don't have any code in them and smart</font>

914
00:36:24,160 --> 00:36:29,620
contracts do unfortunately<font color="#CCCCCC"> this doesn't</font>

915
00:36:27,400 --> 00:36:30,940
<font color="#E5E5E5">actually end up telling you for certain</font>

916
00:36:29,620 --> 00:36:34,420
whether or not you're<font color="#E5E5E5"> interacting</font><font color="#CCCCCC"> with</font>

917
00:36:30,940 --> 00:36:36,780
the contract like we said there's even

918
00:36:34,420 --> 00:36:40,570
in construction a<font color="#E5E5E5"> little bit of</font>

919
00:36:36,780 --> 00:36:43,570
computation being done and so if you

920
00:36:40,570 --> 00:36:46,690
want<font color="#E5E5E5"> to you can</font><font color="#CCCCCC"> put a transaction in</font>

921
00:36:43,570 --> 00:36:48,490
your<font color="#E5E5E5"> constructor if the contract calls</font>

922
00:36:46,690 --> 00:36:51,460
out during its construction<font color="#CCCCCC"> to one of</font>

923
00:36:48,490 --> 00:36:53,259
these games<font color="#E5E5E5"> they will appear as</font><font color="#CCCCCC"> though</font>

924
00:36:51,460 --> 00:36:55,930
they have zero<font color="#E5E5E5"> code size because they</font>

925
00:36:53,260 --> 00:36:58,000
<font color="#E5E5E5">haven't yet</font><font color="#CCCCCC"> been fully</font><font color="#E5E5E5"> constructed and</font>

926
00:36:55,930 --> 00:37:00,040
confirmed<font color="#CCCCCC"> onto the transaction and so</font>

927
00:36:58,000 --> 00:37:01,780
they will slip under one of these checks

928
00:37:00,040 --> 00:37:04,630
so this<font color="#E5E5E5"> doesn't actually end up working</font>

929
00:37:01,780 --> 00:37:06,880
out<font color="#E5E5E5"> so there's another one</font><font color="#CCCCCC"> that we've</font>

930
00:37:04,630 --> 00:37:09,160
seen<font color="#CCCCCC"> that</font><font color="#E5E5E5"> David will tell you a little</font>

931
00:37:06,880 --> 00:37:11,230
<font color="#CCCCCC">bit more about yeah so kind</font><font color="#E5E5E5"> of less</font>

932
00:37:09,160 --> 00:37:13,120
example in denial of services attack

933
00:37:11,230 --> 00:37:15,040
<font color="#CCCCCC">that that's</font><font color="#E5E5E5"> actually something we found</font>

934
00:37:13,120 --> 00:37:16,660
<font color="#CCCCCC">on a client and that I've</font><font color="#E5E5E5"> never seen</font>

935
00:37:15,040 --> 00:37:19,750
anybody talk<font color="#CCCCCC"> about</font><font color="#E5E5E5"> before so</font><font color="#CCCCCC"> that's kind</font>

936
00:37:16,660 --> 00:37:22,330
of new I guess<font color="#CCCCCC"> so remember the the idea</font>

937
00:37:19,750 --> 00:37:24,640
that<font color="#E5E5E5"> a smart contract stores</font><font color="#CCCCCC"> has a</font>

938
00:37:22,330 --> 00:37:26,830
balance right<font color="#E5E5E5"> Eric every address on the</font>

939
00:37:24,640 --> 00:37:29,290
<font color="#CCCCCC">athermal network has a balance in a sir</font>

940
00:37:26,830 --> 00:37:32,290
and a smart contract kind of stores all

941
00:37:29,290 --> 00:37:33,790
<font color="#CCCCCC">the money from different</font><font color="#E5E5E5"> donations or</font>

942
00:37:32,290 --> 00:37:35,920
different services<font color="#E5E5E5"> that it might have</font>

943
00:37:33,790 --> 00:37:39,670
and in the<font color="#CCCCCC"> end you have to track what is</font>

944
00:37:35,920 --> 00:37:42,100
<font color="#CCCCCC">what what</font><font color="#E5E5E5"> is somebody account or some</font>

945
00:37:39,670 --> 00:37:45,250
point<font color="#CCCCCC"> up</font><font color="#E5E5E5"> so let's take this</font><font color="#CCCCCC"> example it's</font>

946
00:37:42,100 --> 00:37:48,160
a it's an eBay like contract a<font color="#CCCCCC"> bid thing</font>

947
00:37:45,250 --> 00:37:49,119
and we have three functions<font color="#E5E5E5"> super simple</font>

948
00:37:48,160 --> 00:37:50,799
functions we have<font color="#CCCCCC"> a B</font>

949
00:37:49,119 --> 00:37:54,430
function where you<font color="#E5E5E5"> can beat on an object</font>

950
00:37:50,799 --> 00:37:56,710
we<font color="#CCCCCC"> have a cancel bid</font><font color="#E5E5E5"> you can cancel your</font>

951
00:37:54,430 --> 00:37:58,569
bid right<font color="#E5E5E5"> and we have an accent bead</font>

952
00:37:56,710 --> 00:38:02,349
where the<font color="#CCCCCC"> owner</font><font color="#E5E5E5"> of the object can cancel</font>

953
00:37:58,569 --> 00:38:03,999
<font color="#E5E5E5">excellence right can accept sorry</font><font color="#CCCCCC"> anyway</font>

954
00:38:02,349 --> 00:38:06,160
look at<font color="#CCCCCC"> the</font><font color="#E5E5E5"> beat function it's payable</font>

955
00:38:03,999 --> 00:38:09,220
<font color="#CCCCCC">so that means that you have to actually</font>

956
00:38:06,160 --> 00:38:10,299
pay when you call it<font color="#CCCCCC"> so</font><font color="#E5E5E5"> imagine you want</font>

957
00:38:09,220 --> 00:38:12,189
<font color="#E5E5E5">to buy I don't know I want to buy the</font>

958
00:38:10,299 --> 00:38:14,349
time I go<font color="#E5E5E5"> G or some point that to</font>

959
00:38:12,190 --> 00:38:17,619
someone to you<font color="#E5E5E5"> yeah you think you have a</font>

960
00:38:14,349 --> 00:38:19,029
television<font color="#CCCCCC"> yeah and so</font><font color="#E5E5E5"> you want to buy</font>

961
00:38:17,619 --> 00:38:20,920
it<font color="#E5E5E5"> for one ather so you have to call</font>

962
00:38:19,029 --> 00:38:22,749
<font color="#CCCCCC">that</font><font color="#E5E5E5"> function</font><font color="#CCCCCC"> you have</font><font color="#E5E5E5"> to put one</font><font color="#CCCCCC"> ather</font>

963
00:38:20,920 --> 00:38:25,329
into it and<font color="#CCCCCC"> it</font><font color="#E5E5E5"> will stand to the</font>

964
00:38:22,749 --> 00:38:27,730
contract<font color="#E5E5E5"> in escrow</font><font color="#CCCCCC"> until it's either</font>

965
00:38:25,329 --> 00:38:30,460
either cancelled<font color="#E5E5E5"> so I get back my</font><font color="#CCCCCC"> money</font>

966
00:38:27,730 --> 00:38:35,200
<font color="#E5E5E5">or</font><font color="#CCCCCC"> it's accepted</font><font color="#E5E5E5"> by</font><font color="#CCCCCC"> mason and</font><font color="#E5E5E5"> you get</font>

967
00:38:30,460 --> 00:38:37,539
the<font color="#E5E5E5"> money I get the tamagochi so while</font>

968
00:38:35,200 --> 00:38:39,490
there is a bunch of these<font color="#E5E5E5"> beads you will</font>

969
00:38:37,539 --> 00:38:41,799
see that the<font color="#CCCCCC"> contracts balance increase</font>

970
00:38:39,490 --> 00:38:44,459
in size and everybody's money is put

971
00:38:41,799 --> 00:38:46,839
into<font color="#E5E5E5"> this pile of escrow money right</font>

972
00:38:44,460 --> 00:38:48,940
another thing that pretty much<font color="#E5E5E5"> all</font>

973
00:38:46,839 --> 00:38:51,849
contracts have is a<font color="#CCCCCC"> withdraw function</font>

974
00:38:48,940 --> 00:38:53,829
for the admins<font color="#E5E5E5"> so the N means sometimes</font>

975
00:38:51,849 --> 00:38:56,140
make money or often make money through

976
00:38:53,829 --> 00:38:58,539
<font color="#E5E5E5">their contracts for example via a</font>

977
00:38:56,140 --> 00:39:00,670
<font color="#CCCCCC">subscription or</font><font color="#E5E5E5"> like a sign-up fee or</font>

978
00:38:58,539 --> 00:39:02,140
maybe in our example every<font color="#CCCCCC"> time you make</font>

979
00:39:00,670 --> 00:39:04,239
a beat there is a fee<font color="#CCCCCC"> that goes</font><font color="#E5E5E5"> to the</font>

980
00:39:02,140 --> 00:39:05,890
admins<font color="#E5E5E5"> right it's also part of the</font>

981
00:39:04,239 --> 00:39:08,349
<font color="#E5E5E5">contract with the escrow monies you</font><font color="#CCCCCC"> have</font>

982
00:39:05,890 --> 00:39:09,788
to kind of figure out what is what's in

983
00:39:08,349 --> 00:39:12,609
the the big pile<font color="#CCCCCC"> of money of the</font>

984
00:39:09,789 --> 00:39:15,130
contracts<font color="#E5E5E5"> but this function allows the</font>

985
00:39:12,609 --> 00:39:17,200
admins to get their money back<font color="#E5E5E5"> so you</font>

986
00:39:15,130 --> 00:39:20,410
see there<font color="#E5E5E5"> is the</font><font color="#CCCCCC"> address of</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> owner or</font>

987
00:39:17,200 --> 00:39:22,808
the<font color="#E5E5E5"> admin</font><font color="#CCCCCC"> hard-coded into the conduction</font>

988
00:39:20,410 --> 00:39:24,879
and it transferred the money<font color="#E5E5E5"> to the</font><font color="#CCCCCC"> to</font>

989
00:39:22,809 --> 00:39:27,730
<font color="#E5E5E5">Dioner with whatever amount that you</font>

990
00:39:24,880 --> 00:39:31,989
specified<font color="#E5E5E5"> so there are two</font><font color="#CCCCCC"> problems here</font>

991
00:39:27,730 --> 00:39:33,460
<font color="#E5E5E5">the first problem is</font><font color="#CCCCCC"> that we are if I</font>

992
00:39:31,989 --> 00:39:35,380
was<font color="#CCCCCC"> the N mean I could withdraw the</font>

993
00:39:33,460 --> 00:39:37,210
whole amounts the whole balance<font color="#CCCCCC"> of the</font>

994
00:39:35,380 --> 00:39:40,029
<font color="#E5E5E5">contracts and I would withdraw the</font>

995
00:39:37,210 --> 00:39:42,670
escrowed money as well so first<font color="#E5E5E5"> I would</font>

996
00:39:40,029 --> 00:39:44,710
<font color="#E5E5E5">block all the current buildings or worse</font>

997
00:39:42,670 --> 00:39:47,109
the current<font color="#CCCCCC"> meetings would work but no</font>

998
00:39:44,710 --> 00:39:51,369
money would be given<font color="#CCCCCC"> back or given to</font>

999
00:39:47,109 --> 00:39:54,130
<font color="#E5E5E5">the owners of the objects and and that's</font>

1000
00:39:51,369 --> 00:39:56,680
that's an issue by itself<font color="#CCCCCC"> so you need</font>

1001
00:39:54,130 --> 00:39:58,119
<font color="#E5E5E5">something that</font><font color="#CCCCCC"> you don't</font><font color="#E5E5E5"> want to do is</font>

1002
00:39:56,680 --> 00:39:59,859
<font color="#E5E5E5">having to trust the admins of the</font>

1003
00:39:58,119 --> 00:40:01,299
contract<font color="#CCCCCC"> right the source code of the</font>

1004
00:39:59,859 --> 00:40:02,960
<font color="#E5E5E5">contract is supposed to be published</font>

1005
00:40:01,299 --> 00:40:05,210
you're supposed to<font color="#E5E5E5"> only trust this</font>

1006
00:40:02,960 --> 00:40:07,160
third party a theorem trusted<font color="#E5E5E5"> third</font>

1007
00:40:05,210 --> 00:40:08,720
<font color="#E5E5E5">party right so you don't want to trust</font>

1008
00:40:07,160 --> 00:40:12,140
the I mean not to withdraw<font color="#E5E5E5"> the</font><font color="#CCCCCC"> escrow</font>

1009
00:40:08,720 --> 00:40:13,098
<font color="#E5E5E5">money there's</font><font color="#CCCCCC"> a gone bad thing with this</font>

1010
00:40:12,140 --> 00:40:15,500
<font color="#E5E5E5">thing here is</font><font color="#CCCCCC"> that it's completely</font>

1011
00:40:13,099 --> 00:40:17,119
<font color="#E5E5E5">public so yeah and means thought that</font>

1012
00:40:15,500 --> 00:40:20,540
they could<font color="#E5E5E5"> make the function public like</font>

1013
00:40:17,119 --> 00:40:22,640
<font color="#CCCCCC">that</font><font color="#E5E5E5"> anybody can call it and it will</font>

1014
00:40:20,540 --> 00:40:25,640
save the admins<font color="#E5E5E5"> some gas fees some</font>

1015
00:40:22,640 --> 00:40:27,379
transaction fees and it will go<font color="#CCCCCC"> into</font><font color="#E5E5E5"> the</font>

1016
00:40:25,640 --> 00:40:29,720
owners pocket anyway<font color="#CCCCCC"> right there's</font>

1017
00:40:27,380 --> 00:40:32,770
<font color="#E5E5E5">nothing the attacker can do but they</font>

1018
00:40:29,720 --> 00:40:35,480
were wrong<font color="#E5E5E5"> in our case and we saw that</font>

1019
00:40:32,770 --> 00:40:38,000
<font color="#E5E5E5">pretty much if the attacker withdraw the</font>

1020
00:40:35,480 --> 00:40:40,520
<font color="#E5E5E5">whole amount it goes into the owners</font>

1021
00:40:38,000 --> 00:40:43,400
pockets but it blocks all<font color="#CCCCCC"> the</font>

1022
00:40:40,520 --> 00:40:46,400
transactions all the<font color="#E5E5E5"> bids right all the</font>

1023
00:40:43,400 --> 00:40:48,470
escrow<font color="#E5E5E5"> and monies is removed from the</font>

1024
00:40:46,400 --> 00:40:50,930
contract so if the admins wants to

1025
00:40:48,470 --> 00:40:53,919
unlock the logic of the contractor to

1026
00:40:50,930 --> 00:40:56,149
<font color="#E5E5E5">put some money back inside the</font><font color="#CCCCCC"> contract</font>

1027
00:40:53,920 --> 00:40:58,490
unfortunately the attacker can withdraw

1028
00:40:56,150 --> 00:41:00,950
it again<font color="#E5E5E5"> right and this is kind of the</font>

1029
00:40:58,490 --> 00:41:03,560
cat<font color="#E5E5E5"> and</font><font color="#CCCCCC"> mouse game and it</font><font color="#E5E5E5"> kind of looks</font>

1030
00:41:00,950 --> 00:41:06,290
like a real<font color="#E5E5E5"> denial of service or on a</font>

1031
00:41:03,560 --> 00:41:08,390
real server<font color="#CCCCCC"> at some point that right so</font>

1032
00:41:06,290 --> 00:41:09,529
that's<font color="#E5E5E5"> quite an interesting one</font><font color="#CCCCCC"> and as I</font>

1033
00:41:08,390 --> 00:41:11,509
said<font color="#E5E5E5"> we've never</font><font color="#CCCCCC"> seen</font><font color="#E5E5E5"> that so I'm</font>

1034
00:41:09,530 --> 00:41:14,060
guessing<font color="#E5E5E5"> we'll see more more and more</font>

1035
00:41:11,510 --> 00:41:16,790
<font color="#E5E5E5">things like that in security in a</font>

1036
00:41:14,060 --> 00:41:18,410
theorem yeah and so<font color="#E5E5E5"> do you want to avoid</font>

1037
00:41:16,790 --> 00:41:19,790
this kind<font color="#E5E5E5"> of stuff what do you want to</font>

1038
00:41:18,410 --> 00:41:21,200
look<font color="#E5E5E5"> for or if you want to find this</font>

1039
00:41:19,790 --> 00:41:24,050
kind of stuff<font color="#E5E5E5"> what do you look for</font>

1040
00:41:21,200 --> 00:41:26,419
so essentially<font color="#CCCCCC"> anytime you have a loop</font>

1041
00:41:24,050 --> 00:41:28,220
<font color="#CCCCCC">that depends</font><font color="#E5E5E5"> on a storage value here and</font>

1042
00:41:26,420 --> 00:41:31,070
by this we mean that<font color="#CCCCCC"> a value that's</font>

1043
00:41:28,220 --> 00:41:33,020
inside<font color="#CCCCCC"> of the contract</font><font color="#E5E5E5"> anything that an</font>

1044
00:41:31,070 --> 00:41:35,450
attacker or<font color="#E5E5E5"> an external person can</font>

1045
00:41:33,020 --> 00:41:37,009
modify this<font color="#E5E5E5"> can</font><font color="#CCCCCC"> potentially be run up</font>

1046
00:41:35,450 --> 00:41:39,049
and<font color="#E5E5E5"> turn into one of these denials</font><font color="#CCCCCC"> of</font>

1047
00:41:37,010 --> 00:41:41,330
service<font color="#E5E5E5"> if you have</font><font color="#CCCCCC"> a function that</font>

1048
00:41:39,050 --> 00:41:43,220
<font color="#E5E5E5">depends on transactions to external</font>

1049
00:41:41,330 --> 00:41:45,109
contracts<font color="#E5E5E5"> this is something that</font><font color="#CCCCCC"> you</font>

1050
00:41:43,220 --> 00:41:47,540
<font color="#CCCCCC">have to be very wary of as someone can</font>

1051
00:41:45,109 --> 00:41:50,750
just<font color="#E5E5E5"> revert it and end your whole fun</font>

1052
00:41:47,540 --> 00:41:53,690
transaction and finally any time you

1053
00:41:50,750 --> 00:41:56,570
<font color="#E5E5E5">have a publicly accessible function</font><font color="#CCCCCC"> that</font>

1054
00:41:53,690 --> 00:41:57,920
changes up<font color="#CCCCCC"> the contract balance</font><font color="#E5E5E5"> these</font>

1055
00:41:56,570 --> 00:41:59,599
are all the things<font color="#CCCCCC"> that you need</font><font color="#E5E5E5"> to be</font>

1056
00:41:57,920 --> 00:42:01,160
<font color="#E5E5E5">looking out for if you want to mess with</font>

1057
00:41:59,599 --> 00:42:04,700
people or if you want to avoid<font color="#CCCCCC"> being</font>

1058
00:42:01,160 --> 00:42:06,500
messed with<font color="#E5E5E5"> so at a high</font><font color="#CCCCCC"> level what are</font>

1059
00:42:04,700 --> 00:42:08,240
<font color="#E5E5E5">the things that you want to be taking</font>

1060
00:42:06,500 --> 00:42:11,089
away<font color="#CCCCCC"> from</font><font color="#E5E5E5"> this</font><font color="#CCCCCC"> if you're looking</font><font color="#E5E5E5"> to</font>

1061
00:42:08,240 --> 00:42:12,979
audit<font color="#CCCCCC"> a smart contracts</font><font color="#E5E5E5"> so one thing</font>

1062
00:42:11,089 --> 00:42:15,920
that<font color="#E5E5E5"> you have to know ahead of time is</font>

1063
00:42:12,980 --> 00:42:16,820
these sort<font color="#CCCCCC"> of aetherium</font><font color="#E5E5E5"> gotchas as we've</font>

1064
00:42:15,920 --> 00:42:19,340
<font color="#E5E5E5">seen there's a lot of</font>

1065
00:42:16,820 --> 00:42:21,710
<font color="#E5E5E5">stuff in solidity that doesn't quite</font>

1066
00:42:19,340 --> 00:42:23,420
function the way that<font color="#E5E5E5"> would most make</font>

1067
00:42:21,710 --> 00:42:25,160
sense things end<font color="#E5E5E5"> up being a little bit</font>

1068
00:42:23,420 --> 00:42:27,620
more complicated under the hood<font color="#E5E5E5"> then</font>

1069
00:42:25,160 --> 00:42:30,230
they might initially<font color="#E5E5E5"> appear</font><font color="#CCCCCC"> it's not the</font>

1070
00:42:27,620 --> 00:42:31,759
typical web app or normal pen test it's

1071
00:42:30,230 --> 00:42:34,040
quite different<font color="#CCCCCC"> yeah because</font><font color="#E5E5E5"> of the</font>

1072
00:42:31,760 --> 00:42:36,500
blockchain<font color="#E5E5E5"> and all of these new concepts</font>

1073
00:42:34,040 --> 00:42:38,750
<font color="#E5E5E5">mm-hmm in addition to that you want to</font>

1074
00:42:36,500 --> 00:42:40,880
understand the<font color="#E5E5E5"> contract and this is not</font>

1075
00:42:38,750 --> 00:42:42,920
<font color="#E5E5E5">just a line by line code understanding</font>

1076
00:42:40,880 --> 00:42:45,040
<font color="#E5E5E5">but also a holistic understanding of the</font>

1077
00:42:42,920 --> 00:42:49,070
purpose<font color="#CCCCCC"> of the functions that are</font>

1078
00:42:45,040 --> 00:42:50,390
working<font color="#CCCCCC"> they're pretty small usually</font><font color="#E5E5E5"> so</font>

1079
00:42:49,070 --> 00:42:52,460
there's really no excuse not to

1080
00:42:50,390 --> 00:42:53,420
understand the whole program and<font color="#E5E5E5"> hold it</font>

1081
00:42:52,460 --> 00:42:55,460
in<font color="#E5E5E5"> your head at once</font>

1082
00:42:53,420 --> 00:42:57,620
yeah a security<font color="#CCCCCC"> consultants we often</font>

1083
00:42:55,460 --> 00:43:00,200
have like something<font color="#E5E5E5"> like one week to</font>

1084
00:42:57,620 --> 00:43:01,910
look<font color="#E5E5E5"> at</font><font color="#CCCCCC"> 15k lines of code that's</font>

1085
00:43:00,200 --> 00:43:04,220
completely different<font color="#CCCCCC"> right they're</font><font color="#E5E5E5"> often</font>

1086
00:43:01,910 --> 00:43:07,970
under a thousand lines<font color="#E5E5E5"> of</font><font color="#CCCCCC"> code or it's</font>

1087
00:43:04,220 --> 00:43:10,189
quite small yeah and finally just<font color="#E5E5E5"> as an</font>

1088
00:43:07,970 --> 00:43:12,250
easy set of wins<font color="#E5E5E5"> before</font><font color="#CCCCCC"> you really dig</font>

1089
00:43:10,190 --> 00:43:17,600
into the logic<font color="#CCCCCC"> you have all of these</font>

1090
00:43:12,250 --> 00:43:19,760
sort<font color="#E5E5E5"> of easy to find things that can end</font>

1091
00:43:17,600 --> 00:43:21,830
up ending the day of the contract<font color="#CCCCCC"> that</font>

1092
00:43:19,760 --> 00:43:25,310
<font color="#E5E5E5">you can just sort</font><font color="#CCCCCC"> of scan through before</font>

1093
00:43:21,830 --> 00:43:27,620
<font color="#E5E5E5">you really dig in and then last but not</font>

1094
00:43:25,310 --> 00:43:29,779
<font color="#E5E5E5">least anything that can be accessed by</font>

1095
00:43:27,620 --> 00:43:31,940
<font color="#CCCCCC">the</font><font color="#E5E5E5"> public</font><font color="#CCCCCC"> anything</font><font color="#E5E5E5"> that just anyone can</font>

1096
00:43:29,780 --> 00:43:35,900
go along and transact with that's what

1097
00:43:31,940 --> 00:43:38,180
you want to look most deeply<font color="#E5E5E5"> at oops</font>

1098
00:43:35,900 --> 00:43:40,370
all right tools<font color="#CCCCCC"> that's kind of the bread</font>

1099
00:43:38,180 --> 00:43:43,490
<font color="#CCCCCC">and butter</font><font color="#E5E5E5"> of consultants we use tools</font>

1100
00:43:40,370 --> 00:43:46,279
of<font color="#E5E5E5"> course there are some clever analyzer</font>

1101
00:43:43,490 --> 00:43:47,959
like<font color="#CCCCCC"> Oriente mithril Manticore they're</font>

1102
00:43:46,280 --> 00:43:51,290
doing<font color="#E5E5E5"> great works</font><font color="#CCCCCC"> actually in that</font>

1103
00:43:47,960 --> 00:43:54,140
domain<font color="#CCCCCC"> but what we</font><font color="#E5E5E5"> what we've found is</font>

1104
00:43:51,290 --> 00:43:56,300
<font color="#CCCCCC">that it's we often</font><font color="#E5E5E5"> don't really find</font>

1105
00:43:54,140 --> 00:43:58,750
anything using these tools and<font color="#E5E5E5"> that's</font><font color="#CCCCCC"> it</font>

1106
00:43:56,300 --> 00:44:01,280
<font color="#E5E5E5">unless</font><font color="#CCCCCC"> its abuse or there's a big issue</font>

1107
00:43:58,750 --> 00:44:03,860
<font color="#E5E5E5">so we</font><font color="#CCCCCC"> always run them</font><font color="#E5E5E5"> it's best practice</font>

1108
00:44:01,280 --> 00:44:07,880
right<font color="#E5E5E5"> or as developers people should run</font>

1109
00:44:03,860 --> 00:44:11,030
them<font color="#E5E5E5"> but don't expect too much most of</font>

1110
00:44:07,880 --> 00:44:12,710
<font color="#CCCCCC">the time unless you're lucky remix on</font>

1111
00:44:11,030 --> 00:44:15,710
the other hand an inter so<font color="#CCCCCC"> it can be</font>

1112
00:44:12,710 --> 00:44:19,790
very very powerful<font color="#E5E5E5"> remix specifically is</font>

1113
00:44:15,710 --> 00:44:21,620
a browser<font color="#CCCCCC"> ID</font><font color="#E5E5E5"> all right so you can</font><font color="#CCCCCC"> run it</font>

1114
00:44:19,790 --> 00:44:23,360
<font color="#CCCCCC">locally</font><font color="#E5E5E5"> on</font><font color="#CCCCCC"> your machine or you can go</font>

1115
00:44:21,620 --> 00:44:25,460
and<font color="#E5E5E5"> remix the theorem</font><font color="#CCCCCC"> that org I think</font>

1116
00:44:23,360 --> 00:44:29,050
so<font color="#CCCCCC"> the a theorem foundation is hosting</font>

1117
00:44:25,460 --> 00:44:30,820
<font color="#E5E5E5">one and it's quite a useful idea you can</font>

1118
00:44:29,050 --> 00:44:32,320
run a local<font color="#E5E5E5"> blockchain you can test</font>

1119
00:44:30,820 --> 00:44:35,350
<font color="#E5E5E5">things very quickly you can deploy</font>

1120
00:44:32,320 --> 00:44:37,780
things<font color="#CCCCCC"> it has a debugger so you can go</font>

1121
00:44:35,350 --> 00:44:39,540
<font color="#E5E5E5">through a transaction step by step go</font>

1122
00:44:37,780 --> 00:44:43,660
back in time

1123
00:44:39,540 --> 00:44:45,700
very very very<font color="#E5E5E5"> useful it has also a</font>

1124
00:44:43,660 --> 00:44:48,549
static analyzer<font color="#E5E5E5"> which is actually quite</font>

1125
00:44:45,700 --> 00:44:50,470
clever<font color="#CCCCCC"> we also always find a quick stuff</font>

1126
00:44:48,550 --> 00:44:54,220
<font color="#E5E5E5">for quick wins in the beginning of the</font>

1127
00:44:50,470 --> 00:44:56,859
engagement of<font color="#CCCCCC"> via DS analyzer so</font><font color="#E5E5E5"> remix</font>

1128
00:44:54,220 --> 00:44:57,930
is really the<font color="#E5E5E5"> most powerful tool that we</font>

1129
00:44:56,860 --> 00:45:01,810
<font color="#E5E5E5">currently have</font>

1130
00:44:57,930 --> 00:45:04,359
there is truffle but it's<font color="#CCCCCC"> ok that's the</font>

1131
00:45:01,810 --> 00:45:07,509
main environment for developers<font color="#E5E5E5"> it's</font>

1132
00:45:04,360 --> 00:45:09,310
pretty much<font color="#E5E5E5"> like remix but it's yeah</font>

1133
00:45:07,510 --> 00:45:10,870
it's an environment<font color="#E5E5E5"> for developers</font><font color="#CCCCCC"> to</font>

1134
00:45:09,310 --> 00:45:14,020
the same kind of thing it has a debugger

1135
00:45:10,870 --> 00:45:17,140
<font color="#CCCCCC">has a</font><font color="#E5E5E5"> local blockchain and so on but you</font>

1136
00:45:14,020 --> 00:45:19,030
<font color="#E5E5E5">can do stuff that are not</font><font color="#CCCCCC"> super useful</font>

1137
00:45:17,140 --> 00:45:20,830
for<font color="#CCCCCC"> us so</font><font color="#E5E5E5"> you can write unit tests</font><font color="#CCCCCC"> and</font>

1138
00:45:19,030 --> 00:45:23,620
<font color="#E5E5E5">Java scripts and and some things like</font>

1139
00:45:20,830 --> 00:45:25,870
<font color="#E5E5E5">that so we don't</font><font color="#CCCCCC"> really use it</font><font color="#E5E5E5"> but you</font>

1140
00:45:23,620 --> 00:45:27,339
have<font color="#E5E5E5"> to keep it in mind in case there is</font>

1141
00:45:25,870 --> 00:45:30,600
<font color="#CCCCCC">a feature that truffle has that you</font>

1142
00:45:27,340 --> 00:45:34,690
cannot really use in in remix and

1143
00:45:30,600 --> 00:45:37,509
universally there are also these

1144
00:45:34,690 --> 00:45:39,160
assemblers and<font color="#CCCCCC"> D compilers unfortunately</font>

1145
00:45:37,510 --> 00:45:41,020
it's not super useful<font color="#CCCCCC"> for us</font><font color="#E5E5E5"> and it</font>

1146
00:45:39,160 --> 00:45:42,549
shouldn't<font color="#E5E5E5"> be useful</font><font color="#CCCCCC"> because most of the</font>

1147
00:45:41,020 --> 00:45:45,490
<font color="#E5E5E5">smart contracts if not all smart</font>

1148
00:45:42,550 --> 00:45:47,890
contracts<font color="#E5E5E5"> should</font><font color="#CCCCCC"> also publish the source</font>

1149
00:45:45,490 --> 00:45:49,720
<font color="#E5E5E5">code otherwise there is</font><font color="#CCCCCC"> not really a</font>

1150
00:45:47,890 --> 00:45:52,810
point in just<font color="#E5E5E5"> publishing like a black</font>

1151
00:45:49,720 --> 00:45:56,980
box<font color="#E5E5E5"> so so fortunately we</font><font color="#CCCCCC"> don't have to</font>

1152
00:45:52,810 --> 00:45:59,140
<font color="#E5E5E5">reverse engineer these contracts yeah</font>

1153
00:45:56,980 --> 00:46:02,590
just a few<font color="#CCCCCC"> thoughts about</font><font color="#E5E5E5"> the future</font><font color="#CCCCCC"> of</font>

1154
00:45:59,140 --> 00:46:05,319
security<font color="#CCCCCC"> and smart contracts we</font><font color="#E5E5E5"> think</font>

1155
00:46:02,590 --> 00:46:08,410
for<font color="#E5E5E5"> most verification has actually a</font>

1156
00:46:05,320 --> 00:46:10,540
future in<font color="#E5E5E5"> a theorem</font><font color="#CCCCCC"> just because smart</font>

1157
00:46:08,410 --> 00:46:13,170
contracts are so small<font color="#E5E5E5"> right under</font>

1158
00:46:10,540 --> 00:46:15,850
thousand nines of code for most of them

1159
00:46:13,170 --> 00:46:18,160
it shouldn't<font color="#E5E5E5"> be tedious to actually</font>

1160
00:46:15,850 --> 00:46:21,460
write formally verified code and and

1161
00:46:18,160 --> 00:46:24,779
<font color="#CCCCCC">it's still at it in the in its infancy</font>

1162
00:46:21,460 --> 00:46:27,160
but<font color="#E5E5E5"> we think it has</font><font color="#CCCCCC"> a bright future</font>

1163
00:46:24,780 --> 00:46:28,990
<font color="#E5E5E5">frameworks and reusable code we</font><font color="#CCCCCC"> kind of</font>

1164
00:46:27,160 --> 00:46:31,480
talked about<font color="#CCCCCC"> that</font><font color="#E5E5E5"> with the open zipline</font>

1165
00:46:28,990 --> 00:46:34,720
library like safe math and<font color="#E5E5E5"> and they have</font>

1166
00:46:31,480 --> 00:46:37,090
other smart contracts that<font color="#E5E5E5"> you can reuse</font>

1167
00:46:34,720 --> 00:46:39,669
like token smart contracts or on

1168
00:46:37,090 --> 00:46:41,350
<font color="#CCCCCC">honorable smart contracts or core</font>

1169
00:46:39,670 --> 00:46:43,420
functionalities<font color="#CCCCCC"> that people tend to</font>

1170
00:46:41,350 --> 00:46:46,630
rewrite<font color="#E5E5E5"> for their own</font><font color="#CCCCCC"> contract</font>

1171
00:46:43,420 --> 00:46:48,220
can be<font color="#E5E5E5"> found in in these frameworks so</font>

1172
00:46:46,630 --> 00:46:49,900
instead<font color="#CCCCCC"> of reinventing</font><font color="#E5E5E5"> the wheel it's</font>

1173
00:46:48,220 --> 00:46:52,330
good to<font color="#E5E5E5"> use them because they've been</font>

1174
00:46:49,900 --> 00:46:54,460
audited<font color="#E5E5E5"> we've audited them quite a few</font>

1175
00:46:52,330 --> 00:46:56,890
<font color="#E5E5E5">times</font><font color="#CCCCCC"> so</font><font color="#E5E5E5"> now when we</font><font color="#CCCCCC"> look at clients</font>

1176
00:46:54,460 --> 00:46:59,500
<font color="#CCCCCC">code that use that</font><font color="#E5E5E5"> we can skip it and</font>

1177
00:46:56,890 --> 00:47:02,589
directly<font color="#CCCCCC"> dig in something that</font><font color="#E5E5E5"> hasn't</font>

1178
00:46:59,500 --> 00:47:04,300
been audited before<font color="#E5E5E5"> so really no excuse</font>

1179
00:47:02,590 --> 00:47:07,690
to<font color="#CCCCCC"> make</font><font color="#E5E5E5"> mistakes in these things when</font>

1180
00:47:04,300 --> 00:47:11,050
<font color="#E5E5E5">you have</font><font color="#CCCCCC"> these</font><font color="#E5E5E5"> kind of frameworks</font><font color="#CCCCCC"> the</font>

1181
00:47:07,690 --> 00:47:13,600
theorem is updated frequently<font color="#CCCCCC"> if you</font>

1182
00:47:11,050 --> 00:47:16,240
compare<font color="#CCCCCC"> that to Bitcoin</font><font color="#E5E5E5"> it's quite it's</font>

1183
00:47:13,600 --> 00:47:18,910
saying quite its share of updates<font color="#E5E5E5"> it's</font>

1184
00:47:16,240 --> 00:47:20,919
moving fast and you<font color="#CCCCCC"> have to keep</font>

1185
00:47:18,910 --> 00:47:23,770
<font color="#E5E5E5">yourself up to date you have to check</font>

1186
00:47:20,920 --> 00:47:26,080
what's new in the EVM what's you in the

1187
00:47:23,770 --> 00:47:28,420
last attack<font color="#CCCCCC"> of the week or</font><font color="#E5E5E5"> something</font>

1188
00:47:26,080 --> 00:47:29,950
<font color="#CCCCCC">like</font><font color="#E5E5E5"> that right so it's everything</font>

1189
00:47:28,420 --> 00:47:33,369
you've heard during<font color="#E5E5E5"> this talk might</font>

1190
00:47:29,950 --> 00:47:35,470
change in<font color="#E5E5E5"> the next year right if you</font>

1191
00:47:33,369 --> 00:47:37,840
look at solidity or the<font color="#E5E5E5"> mist and</font><font color="#CCCCCC"> a</font>

1192
00:47:35,470 --> 00:47:39,310
thermal<font color="#E5E5E5"> at the official words you will</font>

1193
00:47:37,840 --> 00:47:41,890
see that they all<font color="#CCCCCC"> have experimental</font>

1194
00:47:39,310 --> 00:47:44,920
<font color="#CCCCCC">versions zero point something so they're</font>

1195
00:47:41,890 --> 00:47:47,140
still very new<font color="#CCCCCC"> if you</font><font color="#E5E5E5"> look at the the</font>

1196
00:47:44,920 --> 00:47:49,780
nodes in general like for<font color="#CCCCCC"> example</font><font color="#E5E5E5"> the</font>

1197
00:47:47,140 --> 00:47:52,868
<font color="#E5E5E5">get node which is</font><font color="#CCCCCC"> what miners or or just</font>

1198
00:47:49,780 --> 00:47:56,020
<font color="#E5E5E5">nodes can run you will see that they're</font>

1199
00:47:52,869 --> 00:47:57,940
quite<font color="#E5E5E5"> buggy</font><font color="#CCCCCC"> I have one and I have two</font><font color="#E5E5E5"> I</font>

1200
00:47:56,020 --> 00:48:01,020
think we started four times a day<font color="#CCCCCC"> or</font>

1201
00:47:57,940 --> 00:48:04,030
some point that so we're still<font color="#CCCCCC"> not there</font>

1202
00:48:01,020 --> 00:48:07,359
and finally the audit<font color="#E5E5E5"> process is quite</font>

1203
00:48:04,030 --> 00:48:09,280
immature<font color="#CCCCCC"> and we'll see we see a lot of</font>

1204
00:48:07,359 --> 00:48:11,440
<font color="#E5E5E5">developers who put a lot</font><font color="#CCCCCC"> of money and</font>

1205
00:48:09,280 --> 00:48:14,680
investors would put a lot<font color="#E5E5E5"> of money in</font>

1206
00:48:11,440 --> 00:48:16,660
lightly<font color="#E5E5E5"> audited smart contracts</font><font color="#CCCCCC"> we're</font>

1207
00:48:14,680 --> 00:48:18,640
seeing a lot of consulting<font color="#E5E5E5"> firm</font><font color="#CCCCCC"> that</font>

1208
00:48:16,660 --> 00:48:20,560
open something<font color="#CCCCCC"> like last week or</font>

1209
00:48:18,640 --> 00:48:23,200
yesterday<font color="#E5E5E5"> with people who've never</font>

1210
00:48:20,560 --> 00:48:25,180
really done<font color="#E5E5E5"> security before and and kind</font>

1211
00:48:23,200 --> 00:48:25,720
of<font color="#E5E5E5"> attests the security of smart</font>

1212
00:48:25,180 --> 00:48:29,259
contracts

1213
00:48:25,720 --> 00:48:31,149
this is especially<font color="#E5E5E5"> dangerous because a</font>

1214
00:48:29,260 --> 00:48:33,609
security<font color="#CCCCCC"> consultant we always say</font>

1215
00:48:31,150 --> 00:48:35,770
security<font color="#CCCCCC"> is a process but</font><font color="#E5E5E5"> for smart</font>

1216
00:48:33,609 --> 00:48:38,259
contracts when you deploy something<font color="#E5E5E5"> and</font>

1217
00:48:35,770 --> 00:48:40,810
you cannot<font color="#CCCCCC"> change it it's immutable then</font>

1218
00:48:38,260 --> 00:48:44,200
you might<font color="#E5E5E5"> have</font><font color="#CCCCCC"> serious issues if you if</font>

1219
00:48:40,810 --> 00:48:48,250
you stay in this state<font color="#CCCCCC"> of mind</font><font color="#E5E5E5"> so the</font>

1220
00:48:44,200 --> 00:48:51,580
security<font color="#E5E5E5"> is</font><font color="#CCCCCC"> very different finally</font>

1221
00:48:48,250 --> 00:48:53,650
unknown unknowns<font color="#CCCCCC"> that's the biggest one</font>

1222
00:48:51,580 --> 00:48:56,080
<font color="#E5E5E5">I guess because we've seen with the Dow</font>

1223
00:48:53,650 --> 00:48:57,019
this reentrant<font color="#CCCCCC"> shipping kind of</font>

1224
00:48:56,080 --> 00:48:59,689
surprised<font color="#CCCCCC"> a</font>

1225
00:48:57,019 --> 00:49:00,890
when it happened<font color="#CCCCCC"> and we are</font><font color="#E5E5E5"> expecting</font>

1226
00:48:59,689 --> 00:49:03,769
more<font color="#E5E5E5"> to come</font>

1227
00:49:00,890 --> 00:49:06,019
findings and vulnerabilities<font color="#CCCCCC"> that nobody</font>

1228
00:49:03,769 --> 00:49:08,808
thought<font color="#CCCCCC"> of or introduced by new versions</font>

1229
00:49:06,019 --> 00:49:12,609
of solidity or things<font color="#CCCCCC"> like that</font><font color="#E5E5E5"> so it's</font>

1230
00:49:08,809 --> 00:49:14,809
good to really<font color="#E5E5E5"> be careful when you're</font>

1231
00:49:12,609 --> 00:49:18,199
auditing things and when<font color="#E5E5E5"> you want to</font>

1232
00:49:14,809 --> 00:49:20,779
stay<font color="#E5E5E5"> up</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> date all right so as part of</font>

1233
00:49:18,199 --> 00:49:23,029
this<font color="#E5E5E5"> work</font><font color="#CCCCCC"> we're releasing today a</font><font color="#E5E5E5"> top</font>

1234
00:49:20,779 --> 00:49:25,309
<font color="#CCCCCC">ten you'll see the</font><font color="#E5E5E5"> address in the last</font>

1235
00:49:23,029 --> 00:49:26,749
slide<font color="#CCCCCC"> actually it's a deathblow Geo it's</font>

1236
00:49:25,309 --> 00:49:29,479
a top<font color="#E5E5E5"> ten of all different abilities</font>

1237
00:49:26,749 --> 00:49:33,279
<font color="#CCCCCC">that we've seen on engagements or that</font>

1238
00:49:29,479 --> 00:49:36,468
we've read<font color="#CCCCCC"> about on</font><font color="#E5E5E5"> the web or etc</font><font color="#CCCCCC"> and</font>

1239
00:49:33,279 --> 00:49:40,789
so that's that<font color="#CCCCCC"> will be available right</font>

1240
00:49:36,469 --> 00:49:42,859
<font color="#E5E5E5">now also</font><font color="#CCCCCC"> some</font><font color="#E5E5E5"> of our colleagues did a</font>

1241
00:49:40,789 --> 00:49:45,109
CTF that<font color="#CCCCCC"> they release</font><font color="#E5E5E5"> I</font><font color="#CCCCCC"> think two days</font>

1242
00:49:42,859 --> 00:49:47,449
<font color="#E5E5E5">ago so it's</font><font color="#CCCCCC"> a city you have</font><font color="#E5E5E5"> to kind of</font>

1243
00:49:45,109 --> 00:49:49,819
learn<font color="#CCCCCC"> and train yourself on Auditing</font>

1244
00:49:47,449 --> 00:49:52,630
smart contracts<font color="#CCCCCC"> we'll have a link also</font>

1245
00:49:49,819 --> 00:49:57,109
<font color="#E5E5E5">we have a link actually on the top ten</font>

1246
00:49:52,630 --> 00:49:59,299
it's called good casino<font color="#E5E5E5"> and yeah so if</font>

1247
00:49:57,109 --> 00:50:02,779
you<font color="#CCCCCC"> want to check the top</font><font color="#E5E5E5"> ten go on</font>

1248
00:49:59,299 --> 00:50:05,139
<font color="#CCCCCC">Desio if you want to check the CTF we</font>

1249
00:50:02,779 --> 00:50:08,179
have a link in<font color="#CCCCCC"> there in the</font><font color="#E5E5E5"> menu and</font>

1250
00:50:05,139 --> 00:50:13,309
follow<font color="#E5E5E5"> us on twitter</font><font color="#CCCCCC"> i'm</font><font color="#E5E5E5"> crypto</font><font color="#CCCCCC"> david w</font>

1251
00:50:08,179 --> 00:50:15,199
and he's<font color="#CCCCCC"> May 3 mmm mmm and yeah</font><font color="#E5E5E5"> we work</font>

1252
00:50:13,309 --> 00:50:19,219
at<font color="#CCCCCC"> NECC</font><font color="#E5E5E5"> group we do a lot of crypto and</font>

1253
00:50:15,199 --> 00:50:20,929
cryptography<font color="#E5E5E5"> stuff so you can you know</font>

1254
00:50:19,219 --> 00:50:24,489
where we<font color="#CCCCCC"> are and we'll be here if you</font>

1255
00:50:20,929 --> 00:50:24,489
have<font color="#E5E5E5"> any questions thank</font><font color="#CCCCCC"> you</font>

1256
00:50:27,160 --> 00:50:40,960
<font color="#CCCCCC">I think we have some</font><font color="#E5E5E5"> time for</font><font color="#CCCCCC"> questions</font>

1257
00:50:30,790 --> 00:50:43,420
if anyone's got any but it looks<font color="#E5E5E5"> like</font>

1258
00:50:40,960 --> 00:50:46,150
we're good<font color="#CCCCCC"> all right</font>

1259
00:50:43,420 --> 00:50:48,660
so we'll be around<font color="#E5E5E5"> if you want to buy</font><font color="#CCCCCC"> us</font>

1260
00:50:46,150 --> 00:50:48,660
a beer or

