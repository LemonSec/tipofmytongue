1
00:00:00,030 --> 00:00:09,629
hello<font color="#E5E5E5"> still awake it's not even Sunday</font>

2
00:00:04,770 --> 00:00:10,678
come on so I just want to<font color="#E5E5E5"> make a couple</font>

3
00:00:09,630 --> 00:00:13,500
<font color="#E5E5E5">quick</font><font color="#CCCCCC"> announcements</font>

4
00:00:10,679 --> 00:00:14,820
after this<font color="#CCCCCC"> the demo party begins it has</font>

5
00:00:13,500 --> 00:00:15,450
been moved to<font color="#E5E5E5"> the hardware hacking</font>

6
00:00:14,820 --> 00:00:16,949
village

7
00:00:15,450 --> 00:00:18,900
so<font color="#E5E5E5"> please meet</font><font color="#CCCCCC"> us and hardware hacking</font>

8
00:00:16,949 --> 00:00:19,949
for<font color="#E5E5E5"> the demo party later you're saying</font>

9
00:00:18,900 --> 00:00:21,570
<font color="#E5E5E5">to</font><font color="#CCCCCC"> yourself</font><font color="#E5E5E5"> what</font><font color="#CCCCCC"> are you gonna</font>

10
00:00:19,949 --> 00:00:24,750
<font color="#E5E5E5">demonstrate I guess you have</font><font color="#CCCCCC"> to show up</font>

11
00:00:21,570 --> 00:00:26,609
and<font color="#E5E5E5"> find out</font><font color="#CCCCCC"> following that at 6:00 p.m.</font>

12
00:00:24,750 --> 00:00:28,560
<font color="#E5E5E5">ham testing happens</font><font color="#CCCCCC"> in</font><font color="#E5E5E5"> lock-picking</font>

13
00:00:26,609 --> 00:00:31,529
village do not be late because they lock

14
00:00:28,560 --> 00:00:32,969
the<font color="#E5E5E5"> doors once testing starts at 8 p.m.</font>

15
00:00:31,529 --> 00:00:34,829
in this room is<font color="#E5E5E5"> our banquet dinner and</font>

16
00:00:32,969 --> 00:00:37,790
party<font color="#E5E5E5"> we're doing</font><font color="#CCCCCC"> boar game night again</font>

17
00:00:34,829 --> 00:00:42,690
so<font color="#E5E5E5"> come have</font><font color="#CCCCCC"> fun eat it</font><font color="#E5E5E5"> eat dinner and</font>

18
00:00:37,790 --> 00:00:56,550
enjoy the party up<font color="#E5E5E5"> next we have security</font>

19
00:00:42,690 --> 00:01:00,989
<font color="#E5E5E5">panda with</font><font color="#CCCCCC"> http/2 and you hello so it's</font>

20
00:00:56,550 --> 00:01:02,819
officially<font color="#E5E5E5"> 1603 PST time</font><font color="#CCCCCC"> I'm</font><font color="#E5E5E5"> security</font>

21
00:01:00,989 --> 00:01:06,750
<font color="#CCCCCC">Panda and thank you for</font><font color="#E5E5E5"> joining me and</font>

22
00:01:02,820 --> 00:01:10,830
I'm happy<font color="#CCCCCC"> that you're alive and welcome</font>

23
00:01:06,750 --> 00:01:14,189
to talk roulette<font color="#CCCCCC"> I mean http/2 and you</font>

24
00:01:10,830 --> 00:01:17,700
<font color="#E5E5E5">this is part</font><font color="#CCCCCC"> one bug hunters and pen</font>

25
00:01:14,189 --> 00:01:24,298
testers guide to<font color="#CCCCCC"> http/2</font><font color="#E5E5E5"> you guys</font><font color="#CCCCCC"> hear me</font>

26
00:01:17,700 --> 00:01:26,939
<font color="#E5E5E5">back here yeah so basically this</font><font color="#CCCCCC"> is</font><font color="#E5E5E5"> kind</font>

27
00:01:24,299 --> 00:01:31,409
of my hope is that<font color="#E5E5E5"> security researchers</font>

28
00:01:26,939 --> 00:01:35,609
will<font color="#E5E5E5"> stop looking</font><font color="#CCCCCC"> at HTTP 1.1 and</font><font color="#E5E5E5"> look a</font>

29
00:01:31,409 --> 00:01:37,590
little<font color="#CCCCCC"> bit</font><font color="#E5E5E5"> more</font><font color="#CCCCCC"> at HTTP 2 so disclaimer</font>

30
00:01:35,610 --> 00:01:39,750
is everything stated in this talk is<font color="#CCCCCC"> to</font>

31
00:01:37,590 --> 00:01:41,220
<font color="#E5E5E5">be considered my opinion and not an</font>

32
00:01:39,750 --> 00:01:43,740
official representation<font color="#CCCCCC"> of my employer</font>

33
00:01:41,220 --> 00:01:45,450
some assembly required<font color="#CCCCCC"> each sold</font>

34
00:01:43,740 --> 00:01:48,169
separately<font color="#E5E5E5"> batteries not included</font>

35
00:01:45,450 --> 00:01:50,490
<font color="#E5E5E5">keep out of the</font><font color="#CCCCCC"> reach of small</font><font color="#E5E5E5"> children</font>

36
00:01:48,170 --> 00:01:52,350
<font color="#CCCCCC">also don't test sites that you do not</font>

37
00:01:50,490 --> 00:01:56,579
have prior permission to test because<font color="#CCCCCC"> we</font>

38
00:01:52,350 --> 00:01:57,780
<font color="#E5E5E5">all know that</font><font color="#CCCCCC"> would</font><font color="#E5E5E5"> be bad right</font><font color="#CCCCCC"> and I</font>

39
00:01:56,579 --> 00:02:01,048
<font color="#E5E5E5">just also wanted to let you</font><font color="#CCCCCC"> know that</font>

40
00:01:57,780 --> 00:02:02,570
<font color="#CCCCCC">I've updated my security policy and you</font>

41
00:02:01,049 --> 00:02:06,159
are all consenting<font color="#CCCCCC"> to my</font>

42
00:02:02,570 --> 00:02:08,720
security policy by<font color="#E5E5E5"> attending this talk</font>

43
00:02:06,159 --> 00:02:11,600
<font color="#E5E5E5">so a little bit about me Who am I</font>

44
00:02:08,720 --> 00:02:13,220
my name is Brett revoir<font color="#CCCCCC"> some of you may</font>

45
00:02:11,600 --> 00:02:17,630
know me from<font color="#CCCCCC"> the</font><font color="#E5E5E5"> Twitter's as security</font>

46
00:02:13,220 --> 00:02:20,000
<font color="#CCCCCC">panda so my email</font><font color="#E5E5E5"> is panda at security</font>

47
00:02:17,630 --> 00:02:23,120
<font color="#CCCCCC">Panda calm</font><font color="#E5E5E5"> feel free to send any</font>

48
00:02:20,000 --> 00:02:27,050
comments<font color="#E5E5E5"> or death threats or anything</font>

49
00:02:23,120 --> 00:02:29,959
else questions<font color="#E5E5E5"> so what do I do I'm a</font>

50
00:02:27,050 --> 00:02:34,070
application security enthusiast<font color="#CCCCCC"> my day</font>

51
00:02:29,959 --> 00:02:39,739
job I test<font color="#E5E5E5"> pens</font><font color="#CCCCCC"> I break web apps</font><font color="#E5E5E5"> I make</font>

52
00:02:34,070 --> 00:02:42,799
tasty food<font color="#CCCCCC"> and I own a majestic gear so</font>

53
00:02:39,739 --> 00:02:45,320
what are<font color="#E5E5E5"> we going to talk about today</font><font color="#CCCCCC"> so</font>

54
00:02:42,800 --> 00:02:48,440
we're gonna<font color="#E5E5E5"> go</font><font color="#CCCCCC"> over what is HTTP to the</font>

55
00:02:45,320 --> 00:02:50,239
history how it works and what<font color="#CCCCCC"> the</font>

56
00:02:48,440 --> 00:02:53,109
current HTTP you security<font color="#E5E5E5"> landscape</font>

57
00:02:50,239 --> 00:02:58,730
<font color="#E5E5E5">looks like</font><font color="#CCCCCC"> we're also going to</font><font color="#E5E5E5"> cover</font>

58
00:02:53,110 --> 00:03:01,880
finding HTTP HTTP<font color="#CCCCCC"> -</font><font color="#E5E5E5"> ad-hoc finding HTTP</font>

59
00:02:58,730 --> 00:03:05,869
- at scale go over what was found<font color="#CCCCCC"> and</font>

60
00:03:01,880 --> 00:03:07,989
how to prevent future<font color="#E5E5E5"> attacks so the</font>

61
00:03:05,870 --> 00:03:09,769
question is<font color="#E5E5E5"> is why do I do this</font>

62
00:03:07,989 --> 00:03:13,190
<font color="#CCCCCC">basically</font><font color="#E5E5E5"> I would like to raise</font>

63
00:03:09,769 --> 00:03:15,769
awareness<font color="#E5E5E5"> of HTTP</font><font color="#CCCCCC"> -</font><font color="#E5E5E5"> really you talk to a</font>

64
00:03:13,190 --> 00:03:19,690
lot<font color="#E5E5E5"> of developers developers are kind of</font>

65
00:03:15,769 --> 00:03:23,060
<font color="#E5E5E5">the hipsters</font><font color="#CCCCCC"> they like</font><font color="#E5E5E5"> to go</font><font color="#CCCCCC"> ahead and</font>

66
00:03:19,690 --> 00:03:24,320
deploy things<font color="#E5E5E5"> set things up and get it</font>

67
00:03:23,060 --> 00:03:26,360
out on<font color="#CCCCCC"> the internet</font><font color="#E5E5E5"> but they really</font>

68
00:03:24,320 --> 00:03:29,540
don't read the RFC's they don't look<font color="#E5E5E5"> at</font>

69
00:03:26,360 --> 00:03:31,760
the<font color="#E5E5E5"> security implementations and you</font>

70
00:03:29,540 --> 00:03:33,380
know a lot of<font color="#E5E5E5"> people when telling them</font>

71
00:03:31,760 --> 00:03:34,910
about<font color="#E5E5E5"> what my research topic was on</font>

72
00:03:33,380 --> 00:03:37,970
they're like<font color="#CCCCCC"> oh cool how do I deploy</font>

73
00:03:34,910 --> 00:03:39,739
that<font color="#E5E5E5"> and kind of some of the method of</font>

74
00:03:37,970 --> 00:03:42,019
<font color="#E5E5E5">methods that</font><font color="#CCCCCC"> I'll show</font><font color="#E5E5E5"> you they're like</font>

75
00:03:39,739 --> 00:03:45,890
holy crap I'm<font color="#E5E5E5"> using HTTP - I didn't even</font>

76
00:03:42,019 --> 00:03:48,920
<font color="#E5E5E5">know</font><font color="#CCCCCC"> also looking for</font><font color="#E5E5E5"> new wipe laughs</font>

77
00:03:45,890 --> 00:03:51,890
<font color="#E5E5E5">bypass techniques</font><font color="#CCCCCC"> seeing if there's</font><font color="#E5E5E5"> any</font>

78
00:03:48,920 --> 00:03:53,630
old or new vulnerabilities<font color="#CCCCCC"> you know I'm</font>

79
00:03:51,890 --> 00:03:56,750
not gonna lie<font color="#CCCCCC"> make some</font><font color="#E5E5E5"> money buy a bug</font>

80
00:03:53,630 --> 00:03:58,940
bounty<font color="#CCCCCC"> and</font><font color="#E5E5E5"> also you know I like pain</font><font color="#CCCCCC"> and</font>

81
00:03:56,750 --> 00:04:00,980
suffering<font color="#E5E5E5"> and I say shamelessly stole</font>

82
00:03:58,940 --> 00:04:02,570
this from this just to<font color="#E5E5E5"> keep people from</font>

83
00:04:00,980 --> 00:04:05,328
<font color="#E5E5E5">stop putting</font><font color="#CCCCCC"> on the</font><font color="#E5E5E5"> Internet</font>

84
00:04:02,570 --> 00:04:09,739
so is<font color="#E5E5E5"> anybody out</font><font color="#CCCCCC"> there like a developer</font>

85
00:04:05,329 --> 00:04:12,260
at all anyone<font color="#CCCCCC"> ok</font>

86
00:04:09,740 --> 00:04:14,150
[Music]

87
00:04:12,260 --> 00:04:17,358
how many people are like<font color="#CCCCCC"> applications</font>

88
00:04:14,150 --> 00:04:21,079
security<font color="#CCCCCC"> people</font><font color="#E5E5E5"> that's</font><font color="#CCCCCC"> a fair amount</font>

89
00:04:17,358 --> 00:04:25,520
how about pen testers bug hunters<font color="#CCCCCC"> I get</font>

90
00:04:21,079 --> 00:04:33,290
a lot of and then how many<font color="#E5E5E5"> of you knew</font>

91
00:04:25,520 --> 00:04:36,380
about<font color="#E5E5E5"> HTTP</font><font color="#CCCCCC"> T prior</font><font color="#E5E5E5"> to this talk okay so</font>

92
00:04:33,290 --> 00:04:40,880
basically HTTP<font color="#CCCCCC"> 2 today we've been using</font>

93
00:04:36,380 --> 00:04:42,620
HTTP 1.1<font color="#E5E5E5"> since about 1997 1999 and</font>

94
00:04:40,880 --> 00:04:44,389
basically it's a protocol<font color="#CCCCCC"> that's used on</font>

95
00:04:42,620 --> 00:04:46,040
<font color="#CCCCCC">virtually everything on the Internet</font>

96
00:04:44,389 --> 00:04:48,860
basically everybody's making huge

97
00:04:46,040 --> 00:04:50,389
investments<font color="#E5E5E5"> to the protocol and</font>

98
00:04:48,860 --> 00:04:52,580
infrastructure to<font color="#CCCCCC"> take advantage</font><font color="#E5E5E5"> of this</font>

99
00:04:50,389 --> 00:04:54,560
to the extent<font color="#CCCCCC"> that it's</font><font color="#E5E5E5"> often easier</font>

100
00:04:52,580 --> 00:04:56,180
<font color="#E5E5E5">today to make things run on top of HTTP</font>

101
00:04:54,560 --> 00:05:02,030
<font color="#CCCCCC">2 rather than reinvent the wheel and</font>

102
00:04:56,180 --> 00:05:06,080
<font color="#E5E5E5">build something</font><font color="#CCCCCC"> new on its own HTTP HTTP</font>

103
00:05:02,030 --> 00:05:07,849
it adequately uses<font color="#E5E5E5"> T TCP so HTTP what</font>

104
00:05:06,080 --> 00:05:09,229
one really<font color="#E5E5E5"> has a hard</font><font color="#CCCCCC"> time taking</font>

105
00:05:07,850 --> 00:05:12,650
advantage of all the power in the

106
00:05:09,229 --> 00:05:14,270
performance that<font color="#E5E5E5"> TCP offers the clients</font>

107
00:05:12,650 --> 00:05:16,880
<font color="#E5E5E5">and browsers have to be very creative to</font>

108
00:05:14,270 --> 00:05:20,780
find solutions<font color="#E5E5E5"> to decrease page load</font>

109
00:05:16,880 --> 00:05:23,270
times like using encryption<font color="#CCCCCC"> like gzip</font><font color="#E5E5E5"> or</font>

110
00:05:20,780 --> 00:05:26,359
whatnot<font color="#E5E5E5"> in</font><font color="#CCCCCC"> the header other attempts</font>

111
00:05:23,270 --> 00:05:29,030
have been going on<font color="#E5E5E5"> over the years that</font>

112
00:05:26,360 --> 00:05:30,770
TCP<font color="#E5E5E5"> is not easy to replace unless we</font>

113
00:05:29,030 --> 00:05:33,530
have to<font color="#E5E5E5"> keep working on improving TCP</font>

114
00:05:30,770 --> 00:05:35,330
and the protocols on top of it simply

115
00:05:33,530 --> 00:05:37,369
put TCP could be utilized better to

116
00:05:35,330 --> 00:05:39,050
avoid<font color="#CCCCCC"> pauses or wasted intervals</font><font color="#E5E5E5"> that</font>

117
00:05:37,370 --> 00:05:42,890
could have<font color="#E5E5E5"> been used to send or receive</font>

118
00:05:39,050 --> 00:05:47,840
<font color="#E5E5E5">more data and highlight some</font><font color="#CCCCCC"> of the</font>

119
00:05:42,890 --> 00:05:49,370
<font color="#E5E5E5">shortcomings here later on so basically</font>

120
00:05:47,840 --> 00:05:53,539
Google comes out with this<font color="#E5E5E5"> thing</font><font color="#CCCCCC"> called</font>

121
00:05:49,370 --> 00:05:55,280
speedy in about 2009<font color="#E5E5E5"> and introduced</font>

122
00:05:53,539 --> 00:05:57,880
header compression<font color="#E5E5E5"> which was involved</font>

123
00:05:55,280 --> 00:06:00,559
<font color="#E5E5E5">for neural to the crime attack</font>

124
00:05:57,880 --> 00:06:03,530
<font color="#CCCCCC">introduced multiplexing</font><font color="#E5E5E5"> it introduced</font>

125
00:06:00,560 --> 00:06:05,530
the<font color="#CCCCCC"> server Bush and it was just HTTP</font>

126
00:06:03,530 --> 00:06:09,299
<font color="#CCCCCC">colon</font>

127
00:06:05,530 --> 00:06:12,190
which brings us<font color="#E5E5E5"> to the</font><font color="#CCCCCC"> HTTP</font><font color="#E5E5E5"> to protocol</font>

128
00:06:09,300 --> 00:06:18,879
today so basically HTTP<font color="#CCCCCC"> 2 was first</font>

129
00:06:12,190 --> 00:06:20,440
<font color="#CCCCCC">published in May of 2015 as RFC 75 40 by</font>

130
00:06:18,879 --> 00:06:23,110
the end<font color="#E5E5E5"> of the year basically all the</font>

131
00:06:20,440 --> 00:06:25,060
major major browsers<font color="#CCCCCC"> added HTTP to</font>

132
00:06:23,110 --> 00:06:27,250
support and it's basically being<font color="#E5E5E5"> used</font>

133
00:06:25,060 --> 00:06:29,349
<font color="#E5E5E5">all across the internet sites like</font>

134
00:06:27,250 --> 00:06:32,050
Google<font color="#E5E5E5"> Twitter Facebook and perhaps even</font>

135
00:06:29,349 --> 00:06:35,080
like your company's page<font color="#E5E5E5"> have HTTP</font><font color="#CCCCCC"> 2</font>

136
00:06:32,050 --> 00:06:37,960
enabled and basically support is on

137
00:06:35,080 --> 00:06:43,020
<font color="#CCCCCC">apache tomcat apache traffic server</font>

138
00:06:37,960 --> 00:06:43,020
<font color="#CCCCCC">Lightspeed</font><font color="#E5E5E5"> web server</font><font color="#CCCCCC"> IAS in engine acts</font>

139
00:06:43,080 --> 00:06:50,520
so HTTP 2 is binary<font color="#CCCCCC"> it is a binary</font>

140
00:06:47,169 --> 00:06:53,500
protocol<font color="#CCCCCC"> versus HTTP 1.1 being ASCII</font>

141
00:06:50,520 --> 00:06:54,849
binary makes the framing much easier and

142
00:06:53,500 --> 00:06:56,979
<font color="#E5E5E5">the fact that the protocol features</font>

143
00:06:54,849 --> 00:06:58,930
compression built in and will<font color="#E5E5E5"> often run</font>

144
00:06:56,979 --> 00:07:01,449
over TLS also diminishes<font color="#E5E5E5"> the value</font><font color="#CCCCCC"> of</font>

145
00:06:58,930 --> 00:07:04,240
<font color="#E5E5E5">text</font><font color="#CCCCCC"> so basically you</font><font color="#E5E5E5"> won't see text</font>

146
00:07:01,449 --> 00:07:06,310
over the wire so<font color="#CCCCCC"> we have to</font><font color="#E5E5E5"> basically be</font>

147
00:07:04,240 --> 00:07:08,919
used<font color="#E5E5E5"> to getting used to the idea of</font>

148
00:07:06,310 --> 00:07:11,620
using something like Wireshark<font color="#E5E5E5"> or a peak</font>

149
00:07:08,919 --> 00:07:14,460
app to figure out what exactly<font color="#E5E5E5"> is going</font>

150
00:07:11,620 --> 00:07:14,460
<font color="#CCCCCC">on at the protocol level</font>

151
00:07:18,339 --> 00:07:23,389
so the streams for<font color="#CCCCCC"> http/2 are</font>

152
00:07:20,839 --> 00:07:24,619
multiplexed<font color="#E5E5E5"> stream is an independent</font>

153
00:07:23,389 --> 00:07:26,389
bi-directional sequence of frames

154
00:07:24,619 --> 00:07:28,549
<font color="#E5E5E5">exchanged between the client and the</font>

155
00:07:26,389 --> 00:07:32,029
<font color="#E5E5E5">server within an HTTP</font><font color="#CCCCCC"> 2 connection a</font>

156
00:07:28,549 --> 00:07:34,328
single HTTP<font color="#E5E5E5"> 2 connection can contain</font>

157
00:07:32,029 --> 00:07:36,379
<font color="#E5E5E5">multiple concurrently open streams</font>

158
00:07:34,329 --> 00:07:38,449
multiplexing the<font color="#E5E5E5"> streams means that</font>

159
00:07:36,379 --> 00:07:42,499
packages from many streams are mixed

160
00:07:38,449 --> 00:07:46,909
over the same connection header

161
00:07:42,499 --> 00:07:48,169
compression<font color="#E5E5E5"> so both HTTP and speedy had</font>

162
00:07:46,909 --> 00:07:49,929
compression in<font color="#E5E5E5"> the beginning that</font><font color="#CCCCCC"> were</font>

163
00:07:48,169 --> 00:07:52,369
<font color="#E5E5E5">vulnerable to breach</font><font color="#CCCCCC"> and crime attacks</font>

164
00:07:49,929 --> 00:07:54,289
by inserting<font color="#CCCCCC"> no text into the stream and</font>

165
00:07:52,369 --> 00:07:56,119
<font color="#E5E5E5">figuring out</font><font color="#CCCCCC"> how that changes</font><font color="#E5E5E5"> the input</font>

166
00:07:54,289 --> 00:07:58,849
and an attacker could figure out what's

167
00:07:56,119 --> 00:08:01,550
being sent<font color="#CCCCCC"> in an encrypted payload so</font>

168
00:07:58,849 --> 00:08:04,128
basically<font color="#E5E5E5"> each</font><font color="#CCCCCC"> PAC came out header</font>

169
00:08:01,550 --> 00:08:05,719
compression<font color="#E5E5E5"> for HTTP</font><font color="#CCCCCC"> 2 which as the name</font>

170
00:08:04,129 --> 00:08:07,999
<font color="#CCCCCC">suggests is a compression</font><font color="#E5E5E5"> format</font>

171
00:08:05,719 --> 00:08:11,689
especially correct crafted for HTTP<font color="#E5E5E5"> 2</font>

172
00:08:07,999 --> 00:08:13,729
headers<font color="#E5E5E5"> it is being specified in a</font>

173
00:08:11,689 --> 00:08:17,629
separate internet<font color="#E5E5E5"> draft the new format</font>

174
00:08:13,729 --> 00:08:21,949
to<font color="#E5E5E5"> get with countermeasures should make</font>

175
00:08:17,629 --> 00:08:24,439
<font color="#E5E5E5">it harder</font><font color="#CCCCCC"> to exploit compression server</font>

176
00:08:21,949 --> 00:08:26,659
push<font color="#CCCCCC"> this</font><font color="#E5E5E5"> is a feature known</font><font color="#CCCCCC"> as cache</font>

177
00:08:24,439 --> 00:08:30,349
push<font color="#E5E5E5"> so the idea is basically that the</font>

178
00:08:26,659 --> 00:08:33,379
client is<font color="#CCCCCC"> asking for X and</font><font color="#E5E5E5"> the server</font>

179
00:08:30,349 --> 00:08:36,019
<font color="#CCCCCC">will anticipate</font><font color="#E5E5E5"> that the client is going</font>

180
00:08:33,379 --> 00:08:40,159
<font color="#E5E5E5">to</font><font color="#CCCCCC"> also need</font><font color="#E5E5E5"> Y so it'll go ahead and</font>

181
00:08:36,019 --> 00:08:43,539
preload<font color="#E5E5E5"> all of that info in one push</font>

182
00:08:40,159 --> 00:08:49,759
<font color="#E5E5E5">this includes like CSS includes any</font>

183
00:08:43,539 --> 00:08:51,230
JavaScript<font color="#E5E5E5"> JPEGs or HTML</font><font color="#CCCCCC"> it's something</font>

184
00:08:49,759 --> 00:08:53,480
a client must explicitly allow the

185
00:08:51,230 --> 00:08:55,100
server to do<font color="#E5E5E5"> even then the client can</font>

186
00:08:53,480 --> 00:08:58,879
swiftly terminate it push stream at<font color="#E5E5E5"> any</font>

187
00:08:55,100 --> 00:09:04,850
<font color="#E5E5E5">time so then you know we look at the</font>

188
00:08:58,879 --> 00:09:07,059
HTTP<font color="#CCCCCC"> to handshake so htv-2</font><font color="#E5E5E5"> comes in two</font>

189
00:09:04,850 --> 00:09:10,069
types<font color="#E5E5E5"> you have h</font><font color="#CCCCCC"> to see which is</font>

190
00:09:07,059 --> 00:09:13,160
<font color="#E5E5E5">unsecured and</font><font color="#CCCCCC"> H</font><font color="#E5E5E5"> 2 which is over a secure</font>

191
00:09:10,069 --> 00:09:16,250
<font color="#E5E5E5">connection so over a secure connection</font>

192
00:09:13,160 --> 00:09:17,990
<font color="#CCCCCC">the client makes</font><font color="#E5E5E5"> a request for an HTTP</font>

193
00:09:16,250 --> 00:09:21,079
URL<font color="#E5E5E5"> without the prior knowledge about</font>

194
00:09:17,990 --> 00:09:22,380
<font color="#CCCCCC">this support for HTTP</font><font color="#E5E5E5"> 2 on the next hop</font>

195
00:09:21,079 --> 00:09:25,650
<font color="#E5E5E5">HTTP 2</font>

196
00:09:22,380 --> 00:09:28,560
HTTP upgrade mechanism<font color="#E5E5E5"> the client does</font>

197
00:09:25,650 --> 00:09:30,630
does so by<font color="#CCCCCC"> making an HTTP 1.1 request</font>

198
00:09:28,560 --> 00:09:34,739
that includes an upgrade header<font color="#E5E5E5"> field</font>

199
00:09:30,630 --> 00:09:38,760
<font color="#E5E5E5">with HTC token HTC</font><font color="#CCCCCC"> Sense for HTTP to</font>

200
00:09:34,740 --> 00:09:41,820
clear text<font color="#E5E5E5"> so the request must include</font>

201
00:09:38,760 --> 00:09:49,260
exactly<font color="#E5E5E5"> one HTTP</font><font color="#CCCCCC"> - setting header field</font>

202
00:09:41,820 --> 00:09:51,200
<font color="#E5E5E5">so if you look right here HTC and so</font>

203
00:09:49,260 --> 00:09:53,850
basically one of<font color="#E5E5E5"> two things will</font><font color="#CCCCCC"> happen</font>

204
00:09:51,200 --> 00:09:56,190
<font color="#CCCCCC">so the first one</font><font color="#E5E5E5"> is if</font><font color="#CCCCCC"> the server does</font>

205
00:09:53,850 --> 00:09:58,460
<font color="#CCCCCC">not support HTTP 2 you'll basically</font><font color="#E5E5E5"> see</font>

206
00:09:56,190 --> 00:10:02,130
your general<font color="#E5E5E5"> what you're used to seeing</font>

207
00:09:58,460 --> 00:10:04,740
<font color="#CCCCCC">200 ok message a server that</font><font color="#E5E5E5"> supports</font>

208
00:10:02,130 --> 00:10:06,860
HTTP<font color="#E5E5E5"> 2 accepts the upgrade</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> then</font>

209
00:10:04,740 --> 00:10:09,240
replies with a<font color="#E5E5E5"> one</font><font color="#CCCCCC"> on one status code</font>

210
00:10:06,860 --> 00:10:13,350
<font color="#CCCCCC">for switching protocols the minimal</font>

211
00:10:09,240 --> 00:10:16,740
upgrade the connection the second one is

212
00:10:13,350 --> 00:10:20,820
over a secure connection<font color="#CCCCCC"> the client</font>

213
00:10:16,740 --> 00:10:23,070
makes a repent request<font color="#E5E5E5"> to HTTP used with</font>

214
00:10:20,820 --> 00:10:26,540
the TLS<font color="#E5E5E5"> with an application layer</font>

215
00:10:23,070 --> 00:10:29,580
<font color="#E5E5E5">protocol negotiation</font><font color="#CCCCCC"> also known</font><font color="#E5E5E5"> as a LPN</font>

216
00:10:26,540 --> 00:10:31,260
extension which is<font color="#E5E5E5"> different from what</font>

217
00:10:29,580 --> 00:10:35,610
you're used to seeing<font color="#E5E5E5"> over just regular</font>

218
00:10:31,260 --> 00:10:39,210
HTTP<font color="#CCCCCC"> - yes so how does a LPN work</font>

219
00:10:35,610 --> 00:10:41,130
so a<font color="#E5E5E5"> OPN is a TLS extension that</font>

220
00:10:39,210 --> 00:10:44,250
<font color="#E5E5E5">includes the protocol negotiation within</font>

221
00:10:41,130 --> 00:10:46,140
the exchange<font color="#CCCCCC"> of hello messages it's able</font>

222
00:10:44,250 --> 00:10:47,820
<font color="#E5E5E5">to negotiate which protocol</font><font color="#CCCCCC"> should be</font>

223
00:10:46,140 --> 00:10:49,260
handled over<font color="#CCCCCC"> a secure connection in a</font>

224
00:10:47,820 --> 00:10:52,250
way that it's<font color="#E5E5E5"> more efficient and avoids</font>

225
00:10:49,260 --> 00:10:56,130
<font color="#CCCCCC">additional round trips and the</font>

226
00:10:52,250 --> 00:10:58,830
<font color="#CCCCCC">ever-growing popularity of</font><font color="#E5E5E5"> h2</font><font color="#CCCCCC"> makes use</font>

227
00:10:56,130 --> 00:11:00,480
of a LPN to<font color="#E5E5E5"> further decrease website</font>

228
00:10:58,830 --> 00:11:03,570
load times and encryption connections

229
00:11:00,480 --> 00:11:04,980
faster<font color="#E5E5E5"> so basically an al pn handshake</font>

230
00:11:03,570 --> 00:11:07,260
would<font color="#E5E5E5"> look like this it's</font><font color="#CCCCCC"> just going</font><font color="#E5E5E5"> to</font>

231
00:11:04,980 --> 00:11:10,470
use<font color="#CCCCCC"> two</font><font color="#E5E5E5"> connections the client is going</font>

232
00:11:07,260 --> 00:11:12,540
to send out<font color="#E5E5E5"> that it's using the</font><font color="#CCCCCC"> AL pn</font>

233
00:11:10,470 --> 00:11:15,330
extension and then a list of<font color="#CCCCCC"> protocols</font>

234
00:11:12,540 --> 00:11:16,839
<font color="#E5E5E5">that it supports the server will</font><font color="#CCCCCC"> then go</font>

235
00:11:15,330 --> 00:11:20,980
<font color="#CCCCCC">ahead</font>

236
00:11:16,839 --> 00:11:23,470
reply back<font color="#CCCCCC"> with a Hello</font><font color="#E5E5E5"> stating that it</font>

237
00:11:20,980 --> 00:11:30,370
supports<font color="#E5E5E5"> whatever</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> highest level of</font>

238
00:11:23,470 --> 00:11:32,260
security is on<font color="#E5E5E5"> the on the list and also</font>

239
00:11:30,370 --> 00:11:35,440
with the selected<font color="#E5E5E5"> protocol so if they</font>

240
00:11:32,260 --> 00:11:37,240
both support<font color="#CCCCCC"> age</font><font color="#E5E5E5"> to go ahead and connect</font>

241
00:11:35,440 --> 00:11:39,610
<font color="#E5E5E5">over that and then</font><font color="#CCCCCC"> choose</font><font color="#E5E5E5"> which protocol</font>

242
00:11:37,240 --> 00:11:43,839
in which<font color="#CCCCCC"> psych were level to use kind of</font>

243
00:11:39,610 --> 00:11:46,000
like<font color="#E5E5E5"> regular TLS does so basically we'll</font>

244
00:11:43,839 --> 00:11:49,570
look at the current<font color="#E5E5E5"> current security</font>

245
00:11:46,000 --> 00:11:53,519
<font color="#E5E5E5">landscape so some of the Laos</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> I</font><font color="#CCCCCC"> use</font>

246
00:11:49,570 --> 00:11:56,589
<font color="#CCCCCC">some</font><font color="#E5E5E5"> very lightly now support HTTP</font><font color="#CCCCCC"> two</font>

247
00:11:53,519 --> 00:11:58,660
so I've really<font color="#E5E5E5"> only gotten two responses</font>

248
00:11:56,589 --> 00:12:01,750
back from<font color="#E5E5E5"> last laugh companies when</font>

249
00:11:58,660 --> 00:12:03,519
asking do you support<font color="#CCCCCC"> HP to two</font>

250
00:12:01,750 --> 00:12:06,940
companies came back and said yeah we

251
00:12:03,519 --> 00:12:09,300
support HTTP to a few of the<font color="#E5E5E5"> alas just</font>

252
00:12:06,940 --> 00:12:11,740
say that they have experimental<font color="#CCCCCC"> support</font>

253
00:12:09,300 --> 00:12:13,089
<font color="#CCCCCC">but you basically</font><font color="#E5E5E5"> need to be on the most</font>

254
00:12:11,740 --> 00:12:16,540
cutting bleeding edge version<font color="#E5E5E5"> of their</font>

255
00:12:13,089 --> 00:12:21,069
<font color="#CCCCCC">products</font><font color="#E5E5E5"> so maybe they support it maybe</font>

256
00:12:16,540 --> 00:12:23,079
they don't<font color="#CCCCCC"> security tools</font><font color="#E5E5E5"> so currently</font>

257
00:12:21,069 --> 00:12:26,079
there's only one proxy that<font color="#E5E5E5"> I found that</font>

258
00:12:23,079 --> 00:12:28,060
can record any HTTP<font color="#E5E5E5"> to traffic</font>

259
00:12:26,079 --> 00:12:32,670
none of the<font color="#E5E5E5"> - tools out there support</font>

260
00:12:28,060 --> 00:12:35,589
HTTP<font color="#E5E5E5"> - and we're basically limited to</font>

261
00:12:32,670 --> 00:12:38,439
tools<font color="#E5E5E5"> like HTTP</font><font color="#CCCCCC"> to fuzz</font><font color="#E5E5E5"> which</font><font color="#CCCCCC"> Yahoo</font>

262
00:12:35,589 --> 00:12:40,959
rolled out and Wireshark<font color="#E5E5E5"> so if you want</font>

263
00:12:38,440 --> 00:12:43,480
<font color="#E5E5E5">to do any sort of research on this</font><font color="#CCCCCC"> be</font>

264
00:12:40,959 --> 00:12:48,819
prepared<font color="#E5E5E5"> to learn go and be prepared to</font>

265
00:12:43,480 --> 00:12:50,589
hate yourself<font color="#CCCCCC"> after you</font><font color="#E5E5E5"> learn go then</font>

266
00:12:48,819 --> 00:12:54,760
the question<font color="#E5E5E5"> is well how do I even know</font>

267
00:12:50,589 --> 00:12:57,069
HTTP<font color="#CCCCCC"> 2 is running then so good question</font>

268
00:12:54,760 --> 00:13:00,360
so basically there's<font color="#CCCCCC"> two methods</font><font color="#E5E5E5"> that</font>

269
00:12:57,069 --> 00:13:02,889
<font color="#E5E5E5">I'm</font><font color="#CCCCCC"> gonna</font><font color="#E5E5E5"> cover one is</font><font color="#CCCCCC"> one-off methods</font>

270
00:13:00,360 --> 00:13:05,139
so the first method is is you can

271
00:13:02,889 --> 00:13:06,880
<font color="#CCCCCC">actually</font><font color="#E5E5E5"> use Firefox there's really no</font>

272
00:13:05,139 --> 00:13:09,970
UI elements anywhere that tell you<font color="#E5E5E5"> that</font>

273
00:13:06,880 --> 00:13:12,699
you're using HTTP - so you're gonna end

274
00:13:09,970 --> 00:13:13,839
<font color="#E5E5E5">up using web developer tools</font><font color="#CCCCCC"> and it'll</font>

275
00:13:12,699 --> 00:13:15,370
check the response<font color="#CCCCCC"> headers</font>

276
00:13:13,839 --> 00:13:19,080
<font color="#E5E5E5">and see what you</font><font color="#CCCCCC"> get</font><font color="#E5E5E5"> back from the</font>

277
00:13:15,370 --> 00:13:24,360
server the response will be<font color="#E5E5E5"> HTTP</font><font color="#CCCCCC"> to</font>

278
00:13:19,080 --> 00:13:26,010
as you<font color="#E5E5E5"> can see right here and</font><font color="#CCCCCC"> Firefox</font>

279
00:13:24,360 --> 00:13:29,399
will actually insert its own header in

280
00:13:26,010 --> 00:13:35,339
there with the X next<font color="#E5E5E5"> Firefox not Spidey</font>

281
00:13:29,399 --> 00:13:37,880
<font color="#CCCCCC">as shown here the next method is by</font><font color="#E5E5E5"> a</font>

282
00:13:35,339 --> 00:13:40,709
<font color="#E5E5E5">Google Chrome extension</font><font color="#CCCCCC"> called HTTP -</font>

283
00:13:37,880 --> 00:13:42,269
<font color="#CCCCCC">Spidey indicator which you</font><font color="#E5E5E5"> get a nice</font>

284
00:13:40,709 --> 00:13:47,040
little<font color="#E5E5E5"> blue lightning bolt whenever you</font>

285
00:13:42,269 --> 00:13:49,320
visit a<font color="#CCCCCC"> page that it supports</font><font color="#E5E5E5"> h2 and</font>

286
00:13:47,040 --> 00:13:54,089
then there's also some<font color="#CCCCCC"> online tools</font>

287
00:13:49,320 --> 00:13:57,570
this one's called tools CDN<font color="#E5E5E5"> comm / h2</font>

288
00:13:54,089 --> 00:14:00,329
tests<font color="#E5E5E5"> so basically you</font><font color="#CCCCCC"> just type in your</font>

289
00:13:57,570 --> 00:14:02,640
URL it'll<font color="#E5E5E5"> reach out and it'll tell you</font>

290
00:14:00,329 --> 00:14:04,170
whether or<font color="#CCCCCC"> not</font><font color="#E5E5E5"> your site supports it</font><font color="#CCCCCC"> and</font>

291
00:14:02,640 --> 00:14:05,459
<font color="#E5E5E5">the other fun</font><font color="#CCCCCC"> thing too that I like</font>

292
00:14:04,170 --> 00:14:08,939
<font color="#CCCCCC">about this site</font><font color="#E5E5E5"> is you have this little</font>

293
00:14:05,459 --> 00:14:11,609
<font color="#E5E5E5">public checkbox right here</font><font color="#CCCCCC"> so if you're</font>

294
00:14:08,940 --> 00:14:13,829
kind<font color="#E5E5E5"> of lazy like</font><font color="#CCCCCC"> me</font><font color="#E5E5E5"> people</font><font color="#CCCCCC"> kind of just</font>

295
00:14:11,610 --> 00:14:17,279
test their own stuff for you as you can

296
00:14:13,829 --> 00:14:21,329
<font color="#E5E5E5">see here so you might want to uncheck</font>

297
00:14:17,279 --> 00:14:24,180
<font color="#E5E5E5">that checkbox</font><font color="#CCCCCC"> next way</font><font color="#E5E5E5"> to check is with</font>

298
00:14:21,329 --> 00:14:26,729
<font color="#E5E5E5">open SSL</font><font color="#CCCCCC"> which is kind of an underrated</font>

299
00:14:24,180 --> 00:14:32,250
tool in my opinion so you're gonna use

300
00:14:26,730 --> 00:14:34,589
<font color="#E5E5E5">the next cottage in I think script and</font>

301
00:14:32,250 --> 00:14:37,920
that's basically<font color="#E5E5E5"> the script that you're</font>

302
00:14:34,589 --> 00:14:41,370
<font color="#E5E5E5">gonna run with an SSL</font><font color="#CCCCCC"> and you're gonna</font>

303
00:14:37,920 --> 00:14:43,110
basically get back what the server

304
00:14:41,370 --> 00:14:48,510
supports and this is<font color="#E5E5E5"> basically looking</font>

305
00:14:43,110 --> 00:14:51,270
at the<font color="#CCCCCC"> ALP n handshake next one is a</font>

306
00:14:48,510 --> 00:14:55,680
<font color="#E5E5E5">little a little</font><font color="#CCCCCC"> application</font><font color="#E5E5E5"> it's called</font>

307
00:14:51,270 --> 00:14:59,490
is<font color="#E5E5E5"> HTTP</font><font color="#CCCCCC"> 2 dash CLI and you're gonna have</font>

308
00:14:55,680 --> 00:15:04,260
<font color="#E5E5E5">to install node</font><font color="#CCCCCC"> jsn p.m. I'm not a big</font>

309
00:14:59,490 --> 00:15:07,290
fan of NPM<font color="#E5E5E5"> so kind</font><font color="#CCCCCC"> of take your</font><font color="#E5E5E5"> chances</font>

310
00:15:04,260 --> 00:15:10,620
with<font color="#CCCCCC"> that it's only good for one</font><font color="#E5E5E5"> URL or</font>

311
00:15:07,290 --> 00:15:13,120
IP at a time it's easy to use<font color="#E5E5E5"> has fairly</font>

312
00:15:10,620 --> 00:15:15,970
good<font color="#E5E5E5"> output</font>

313
00:15:13,120 --> 00:15:17,980
I have the github<font color="#CCCCCC"> link there</font><font color="#E5E5E5"> and</font>

314
00:15:15,970 --> 00:15:21,100
<font color="#E5E5E5">basically you're just</font><font color="#CCCCCC"> gonna</font><font color="#E5E5E5"> type in</font><font color="#CCCCCC"> is</font>

315
00:15:17,980 --> 00:15:22,600
<font color="#E5E5E5">HTTP</font><font color="#CCCCCC"> - and the in the URL and you're</font>

316
00:15:21,100 --> 00:15:24,339
gonna get a nice<font color="#CCCCCC"> little green check mark</font>

317
00:15:22,600 --> 00:15:27,610
<font color="#CCCCCC">and</font><font color="#E5E5E5"> it'll tell you</font><font color="#CCCCCC"> that it's supported</font>

318
00:15:24,339 --> 00:15:31,839
<font color="#E5E5E5">and again</font><font color="#CCCCCC"> it'll give you the ATL</font><font color="#E5E5E5"> a PLN</font>

319
00:15:27,610 --> 00:15:33,700
extensions<font color="#E5E5E5"> that it supports</font><font color="#CCCCCC"> just kind of</font>

320
00:15:31,839 --> 00:15:36,910
throwing it in there<font color="#E5E5E5"> crawl so it works</font>

321
00:15:33,700 --> 00:15:42,430
as well<font color="#CCCCCC"> but it only works if you add the</font>

322
00:15:36,910 --> 00:15:45,250
ng HTTP<font color="#E5E5E5"> to library and you can</font><font color="#CCCCCC"> tell curl</font>

323
00:15:42,430 --> 00:15:50,260
to use HTTP to either plain text over

324
00:15:45,250 --> 00:15:53,980
TLS you have to use the HTTP<font color="#CCCCCC"> 2 option or</font>

325
00:15:50,260 --> 00:16:00,010
I'll scroll default<font color="#E5E5E5"> to HTTP 1.1</font><font color="#CCCCCC"> and you</font>

326
00:15:53,980 --> 00:16:04,660
can also use<font color="#CCCCCC"> Lib curl 7.4 4.0</font><font color="#E5E5E5"> the next</font>

327
00:16:00,010 --> 00:16:08,560
bet that is using ng HTTP 2 with the ng

328
00:16:04,660 --> 00:16:11,770
HTTP -<font color="#E5E5E5"> and</font><font color="#CCCCCC"> V option</font><font color="#E5E5E5"> it'll</font><font color="#CCCCCC"> go ahead and</font>

329
00:16:08,560 --> 00:16:13,900
tell you the negotiated protocol<font color="#E5E5E5"> at</font><font color="#CCCCCC"> H</font><font color="#E5E5E5"> 2</font>

330
00:16:11,770 --> 00:16:15,040
<font color="#E5E5E5">and I also like it because</font><font color="#CCCCCC"> it'll give</font>

331
00:16:13,900 --> 00:16:16,689
you a<font color="#E5E5E5"> bunch of connection information</font>

332
00:16:15,040 --> 00:16:19,380
header information that you would get

333
00:16:16,690 --> 00:16:19,380
back from<font color="#E5E5E5"> a server</font>

334
00:16:20,010 --> 00:16:24,970
next is the<font color="#E5E5E5"> man-in-the-middle proxy</font>

335
00:16:22,560 --> 00:16:27,010
which is again going back to<font color="#CCCCCC"> the</font><font color="#E5E5E5"> only</font>

336
00:16:24,970 --> 00:16:29,170
proxy that will support it<font color="#E5E5E5"> and as you</font>

337
00:16:27,010 --> 00:16:32,830
can<font color="#E5E5E5"> see you can see that it's using HTTP</font>

338
00:16:29,170 --> 00:16:37,540
<font color="#E5E5E5">2 on there</font><font color="#CCCCCC"> and kind of a big bummer is</font>

339
00:16:32,830 --> 00:16:39,580
that<font color="#CCCCCC"> fer dropped any support for any</font>

340
00:16:37,540 --> 00:16:41,230
additional headers so when you're

341
00:16:39,580 --> 00:16:44,650
testing<font color="#E5E5E5"> with burp you won't even see</font><font color="#CCCCCC"> the</font>

342
00:16:41,230 --> 00:16:46,240
101<font color="#CCCCCC"> or the upgrade connection they</font>

343
00:16:44,650 --> 00:16:50,650
<font color="#CCCCCC">actually took that out</font><font color="#E5E5E5"> for some</font><font color="#CCCCCC"> reason</font>

344
00:16:46,240 --> 00:16:51,820
<font color="#E5E5E5">so that's a little sad and then</font>

345
00:16:50,650 --> 00:16:54,970
<font color="#E5E5E5">basically you're looking at like</font>

346
00:16:51,820 --> 00:16:56,290
Wireshark<font color="#E5E5E5"> as well where you can see that</font>

347
00:16:54,970 --> 00:17:00,660
<font color="#CCCCCC">it'll show</font><font color="#E5E5E5"> ahead and show you that</font>

348
00:16:56,290 --> 00:17:00,660
you're capturing packets on each

349
00:17:01,380 --> 00:17:07,689
so the<font color="#E5E5E5"> next one</font><font color="#CCCCCC"> is detection at scale</font><font color="#E5E5E5"> so</font>

350
00:17:06,250 --> 00:17:12,069
the first tool<font color="#CCCCCC"> that you can use</font><font color="#E5E5E5"> is</font>

351
00:17:07,689 --> 00:17:15,130
called<font color="#CCCCCC"> h2 scan and again</font><font color="#E5E5E5"> I hope you let</font>

352
00:17:12,069 --> 00:17:28,510
go<font color="#CCCCCC"> so go ahead and</font><font color="#E5E5E5"> use this you're gonna</font>

353
00:17:15,130 --> 00:17:32,950
just use<font color="#CCCCCC"> them the microphone doesn't</font>

354
00:17:28,510 --> 00:17:34,480
like me<font color="#CCCCCC"> so you're gonna use echo and</font>

355
00:17:32,950 --> 00:17:39,400
then you're going<font color="#E5E5E5"> to list all</font><font color="#CCCCCC"> of the</font>

356
00:17:34,480 --> 00:17:41,380
sites that<font color="#E5E5E5"> you want to see to the /h to</font>

357
00:17:39,400 --> 00:17:43,450
scan script<font color="#CCCCCC"> and then it will go ahead</font>

358
00:17:41,380 --> 00:17:50,080
<font color="#CCCCCC">and tell you whether or</font><font color="#E5E5E5"> not</font>

359
00:17:43,450 --> 00:17:57,070
it supports h2 speedy or<font color="#E5E5E5"> HTTP and that</font>

360
00:17:50,080 --> 00:18:01,149
<font color="#E5E5E5">this is a pretty good job</font><font color="#CCCCCC"> does a</font><font color="#E5E5E5"> pretty</font>

361
00:17:57,070 --> 00:18:05,320
good job as well<font color="#CCCCCC"> you just use n map</font><font color="#E5E5E5"> -</font><font color="#CCCCCC"> P</font>

362
00:18:01,150 --> 00:18:08,050
443 and run the script<font color="#CCCCCC"> it can be used</font>

363
00:18:05,320 --> 00:18:14,710
<font color="#E5E5E5">for</font><font color="#CCCCCC"> a large amounts of URLs and IPS</font>

364
00:18:08,050 --> 00:18:18,460
<font color="#E5E5E5">however it doesn't work well with HTC so</font>

365
00:18:14,710 --> 00:18:19,630
basically a tale of two VPS is so we're

366
00:18:18,460 --> 00:18:22,210
gonna kind<font color="#CCCCCC"> of go into</font><font color="#E5E5E5"> a little bit of a</font>

367
00:18:19,630 --> 00:18:27,460
story time about how I<font color="#E5E5E5"> went ahead and</font>

368
00:18:22,210 --> 00:18:29,140
<font color="#E5E5E5">tried</font><font color="#CCCCCC"> to discover h2 at scale some</font><font color="#E5E5E5"> of</font>

369
00:18:27,460 --> 00:18:33,090
the fun that I had with<font color="#E5E5E5"> the DPS is that</font>

370
00:18:29,140 --> 00:18:36,309
I tried<font color="#E5E5E5"> to use VPS one is Google Cloud</font>

371
00:18:33,090 --> 00:18:38,580
so Google Cloud has<font color="#CCCCCC"> some pros</font><font color="#E5E5E5"> they'll</font>

372
00:18:36,309 --> 00:18:41,129
give<font color="#E5E5E5"> you a $300 credit for signing up</font>

373
00:18:38,580 --> 00:18:44,080
and you have<font color="#E5E5E5"> your choices of VMs</font>

374
00:18:41,130 --> 00:18:49,630
<font color="#CCCCCC">you can get Debian move on to sent to</font>

375
00:18:44,080 --> 00:18:51,790
lessor core OS for about<font color="#CCCCCC"> $24 a month the</font>

376
00:18:49,630 --> 00:18:54,580
cons with<font color="#E5E5E5"> doing that is you</font><font color="#CCCCCC"> basically</font>

377
00:18:51,790 --> 00:18:57,280
end<font color="#E5E5E5"> up with limited the M size it's</font>

378
00:18:54,580 --> 00:18:59,559
<font color="#E5E5E5">really super slow the support is slow</font>

379
00:18:57,280 --> 00:19:01,010
<font color="#CCCCCC">its Tier</font><font color="#E5E5E5"> one they'll take several days</font>

380
00:18:59,559 --> 00:19:03,860
to<font color="#CCCCCC"> get back to you if you have any</font>

381
00:19:01,010 --> 00:19:06,860
questions and it's all<font color="#E5E5E5"> over email and</font><font color="#CCCCCC"> I</font>

382
00:19:03,860 --> 00:19:09,439
<font color="#E5E5E5">can contest that they are not security</font>

383
00:19:06,860 --> 00:19:11,240
researcher friendly<font color="#CCCCCC"> so</font><font color="#E5E5E5"> if you're gonna</font>

384
00:19:09,440 --> 00:19:14,000
use<font color="#CCCCCC"> google cloud</font><font color="#E5E5E5"> for any sort of</font>

385
00:19:11,240 --> 00:19:17,150
scanning or testing<font color="#E5E5E5"> be prepared to city</font>

386
00:19:14,000 --> 00:19:19,280
<font color="#E5E5E5">email like this</font><font color="#CCCCCC"> and you're</font><font color="#E5E5E5"> gonna have</font><font color="#CCCCCC"> to</font>

387
00:19:17,150 --> 00:19:22,280
file an appeal with<font color="#E5E5E5"> Google and their</font>

388
00:19:19,280 --> 00:19:24,290
compliance<font color="#E5E5E5"> team and it'll it says three</font>

389
00:19:22,280 --> 00:19:26,810
days and they<font color="#E5E5E5"> will take the entire</font><font color="#CCCCCC"> three</font>

390
00:19:24,290 --> 00:19:29,300
days to get back<font color="#E5E5E5"> to you so you're kind</font>

391
00:19:26,810 --> 00:19:32,090
of wondering do I pack my<font color="#CCCCCC"> stuff up are</font>

392
00:19:29,300 --> 00:19:34,940
they gonna shut me down<font color="#CCCCCC"> you don't really</font>

393
00:19:32,090 --> 00:19:36,889
know<font color="#E5E5E5"> so basically</font><font color="#CCCCCC"> you just send them</font><font color="#E5E5E5"> a</font>

394
00:19:34,940 --> 00:19:38,690
little reply and<font color="#E5E5E5"> you say hey you</font><font color="#CCCCCC"> know</font>

395
00:19:36,890 --> 00:19:42,800
I'm a<font color="#E5E5E5"> security researcher I'm not doing</font>

396
00:19:38,690 --> 00:19:44,180
anything bad you<font color="#CCCCCC"> know let me let me</font><font color="#E5E5E5"> keep</font>

397
00:19:42,800 --> 00:19:45,530
doing<font color="#E5E5E5"> this</font>

398
00:19:44,180 --> 00:19:48,620
and their response works pretty well

399
00:19:45,530 --> 00:19:50,240
they'll turn your VM back on and tell

400
00:19:48,620 --> 00:19:53,719
<font color="#E5E5E5">you to fix some compliance issues and</font>

401
00:19:50,240 --> 00:19:57,170
<font color="#CCCCCC">that this response works very well</font><font color="#E5E5E5"> until</font>

402
00:19:53,720 --> 00:19:59,570
it<font color="#CCCCCC"> doesn't</font><font color="#E5E5E5"> so basically they will shut</font>

403
00:19:57,170 --> 00:20:02,420
you down<font color="#E5E5E5"> and really they don't tell you</font>

404
00:19:59,570 --> 00:20:03,889
why<font color="#CCCCCC"> and I kind of just think that if the</font>

405
00:20:02,420 --> 00:20:05,480
compliance guy that's reading your email

406
00:20:03,890 --> 00:20:07,150
is having a bad day<font color="#CCCCCC"> and had to</font><font color="#E5E5E5"> sleep on</font>

407
00:20:05,480 --> 00:20:11,390
<font color="#E5E5E5">the</font><font color="#CCCCCC"> couch</font><font color="#E5E5E5"> that night</font><font color="#CCCCCC"> he's just like no</font>

408
00:20:07,150 --> 00:20:13,700
and<font color="#CCCCCC"> he</font><font color="#E5E5E5"> just completely shut you off so</font>

409
00:20:11,390 --> 00:20:15,020
basically<font color="#CCCCCC"> after getting this email to</font>

410
00:20:13,700 --> 00:20:16,640
get turned back<font color="#CCCCCC"> on you're</font><font color="#E5E5E5"> just gonna</font>

411
00:20:15,020 --> 00:20:20,080
basically have to hound the crap out of

412
00:20:16,640 --> 00:20:23,030
support and compliance<font color="#E5E5E5"> for</font><font color="#CCCCCC"> several weeks</font>

413
00:20:20,080 --> 00:20:25,699
<font color="#CCCCCC">and</font><font color="#E5E5E5"> they'll basically turn you back on</font>

414
00:20:23,030 --> 00:20:28,970
<font color="#E5E5E5">however I think I can say that</font><font color="#CCCCCC"> I have</font>

415
00:20:25,700 --> 00:20:32,620
the distinguished right to say that<font color="#E5E5E5"> I've</font>

416
00:20:28,970 --> 00:20:32,620
<font color="#CCCCCC">been</font><font color="#E5E5E5"> completely banned from</font><font color="#CCCCCC"> google cloud</font>

417
00:20:35,890 --> 00:20:44,060
so VPS number two is one<font color="#CCCCCC"> call ultra VPS</font>

418
00:20:40,220 --> 00:20:45,260
which I love<font color="#E5E5E5"> so maybe they'll see this</font>

419
00:20:44,060 --> 00:20:47,929
and give<font color="#E5E5E5"> me some money for endorsing</font>

420
00:20:45,260 --> 00:20:50,570
<font color="#E5E5E5">them</font><font color="#CCCCCC"> so it's</font><font color="#E5E5E5"> basically pretty cheap</font>

421
00:20:47,930 --> 00:20:52,340
<font color="#CCCCCC">there's two two low-end plans ten</font>

422
00:20:50,570 --> 00:20:55,250
dollars<font color="#E5E5E5"> and the</font><font color="#CCCCCC"> twenty</font><font color="#E5E5E5"> dollar a month</font>

423
00:20:52,340 --> 00:20:57,530
plan<font color="#E5E5E5"> is</font><font color="#CCCCCC"> self-service it's easy to set up</font>

424
00:20:55,250 --> 00:20:59,210
and<font color="#E5E5E5"> they're</font><font color="#CCCCCC"> very security researcher</font>

425
00:20:57,530 --> 00:21:01,970
friendly so I kind of look at them as

426
00:20:59,210 --> 00:21:08,119
like the honey badger<font color="#E5E5E5"> of the</font><font color="#CCCCCC"> VPN</font>

427
00:21:01,970 --> 00:21:11,330
they just don't give a<font color="#CCCCCC"> so I tried</font>

428
00:21:08,119 --> 00:21:12,830
both the<font color="#CCCCCC"> $10 and the $20</font><font color="#E5E5E5"> so if you're</font>

429
00:21:11,330 --> 00:21:15,830
gonna do any sort<font color="#E5E5E5"> of</font><font color="#CCCCCC"> scanning or</font>

430
00:21:12,830 --> 00:21:18,439
anything like<font color="#E5E5E5"> that</font><font color="#CCCCCC"> the $10 one was</font>

431
00:21:15,830 --> 00:21:21,649
pretty horrible<font color="#CCCCCC"> and it shows that it's</font>

432
00:21:18,440 --> 00:21:26,139
comparable<font color="#E5E5E5"> however I'm gonna definitely</font>

433
00:21:21,649 --> 00:21:31,029
<font color="#E5E5E5">recommend the</font><font color="#CCCCCC"> $20 one you're gonna get</font>

434
00:21:26,139 --> 00:21:35,508
<font color="#E5E5E5">about for GPS around 50 GB of storage</font>

435
00:21:31,029 --> 00:21:39,859
<font color="#CCCCCC">and with an IP address and they've been</font>

436
00:21:35,509 --> 00:21:42,139
pretty awesome<font color="#E5E5E5"> about it so that's been</font>

437
00:21:39,859 --> 00:21:45,199
<font color="#CCCCCC">pretty</font><font color="#E5E5E5"> good so what was I doing with</font>

438
00:21:42,139 --> 00:21:47,869
these<font color="#CCCCCC"> VPS</font><font color="#E5E5E5"> so the first thing I did</font><font color="#CCCCCC"> is</font>

439
00:21:45,200 --> 00:21:50,450
you know we're looking<font color="#CCCCCC"> at masscan so</font>

440
00:21:47,869 --> 00:21:52,428
masscan is pretty cool because you're

441
00:21:50,450 --> 00:21:56,539
<font color="#E5E5E5">able</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> find all the IPS listening on</font>

442
00:21:52,429 --> 00:22:00,019
port 443 quickly so the first run on<font color="#CCCCCC"> the</font>

443
00:21:56,539 --> 00:22:03,408
$10 VPS took me about I'm<font color="#E5E5E5"> gonna say a</font>

444
00:22:00,019 --> 00:22:06,679
week<font color="#CCCCCC"> the second one that I ran it on to</font>

445
00:22:03,409 --> 00:22:09,139
<font color="#E5E5E5">probably</font><font color="#CCCCCC"> a little less</font><font color="#E5E5E5"> than 48 hours and</font>

446
00:22:06,679 --> 00:22:10,789
<font color="#E5E5E5">also just full</font><font color="#CCCCCC"> disclosure it was just a</font>

447
00:22:09,139 --> 00:22:13,699
complete<font color="#E5E5E5"> Yolo scan there was no black</font>

448
00:22:10,789 --> 00:22:16,429
listing<font color="#CCCCCC"> because we wanted</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> kind of get</font>

449
00:22:13,700 --> 00:22:19,279
<font color="#E5E5E5">the full scope of</font><font color="#CCCCCC"> what actually</font><font color="#E5E5E5"> was</font>

450
00:22:16,429 --> 00:22:20,749
<font color="#CCCCCC">running out there the cons are is</font><font color="#E5E5E5"> that</font>

451
00:22:19,279 --> 00:22:22,669
it<font color="#E5E5E5"> doesn't really support the</font><font color="#CCCCCC"> in</font><font color="#E5E5E5"> map</font><font color="#CCCCCC"> de</font>

452
00:22:20,749 --> 00:22:27,129
<font color="#E5E5E5">scripting engine at all so it's not</font>

453
00:22:22,669 --> 00:22:29,649
really able to<font color="#E5E5E5"> find</font><font color="#CCCCCC"> h2 or HTC so</font>

454
00:22:27,129 --> 00:22:32,959
basically what did I find<font color="#E5E5E5"> I found</font><font color="#CCCCCC"> about</font>

455
00:22:29,649 --> 00:22:36,590
49 million IP address is<font color="#E5E5E5"> almost close to</font>

456
00:22:32,960 --> 00:22:39,169
<font color="#E5E5E5">50 with</font><font color="#CCCCCC"> 4 4 3</font><font color="#E5E5E5"> open however</font><font color="#CCCCCC"> I ended up</font>

457
00:22:36,590 --> 00:22:42,109
with this like 20<font color="#CCCCCC"> gig XML file</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> I</font>

458
00:22:39,169 --> 00:22:46,639
wanted<font color="#E5E5E5"> to get that get the IPS out I'm</font>

459
00:22:42,109 --> 00:22:49,489
lazy<font color="#E5E5E5"> in a sense</font><font color="#CCCCCC"> I hate grep</font><font color="#E5E5E5"> so you know</font>

460
00:22:46,639 --> 00:22:53,748
and<font color="#CCCCCC"> I hate</font><font color="#E5E5E5"> myself again so what did I do</font>

461
00:22:49,489 --> 00:22:56,419
<font color="#CCCCCC">build the script so if you happen to</font>

462
00:22:53,749 --> 00:22:59,690
<font color="#E5E5E5">need a script</font><font color="#CCCCCC"> in</font><font color="#E5E5E5"> Python to take stuff</font>

463
00:22:56,419 --> 00:23:01,730
<font color="#E5E5E5">out of</font><font color="#CCCCCC"> mask and XML of the IP and</font>

464
00:22:59,690 --> 00:23:07,519
basically put it in a<font color="#E5E5E5"> nice neat text</font>

465
00:23:01,730 --> 00:23:08,550
format<font color="#E5E5E5"> you can find it here so once we</font>

466
00:23:07,519 --> 00:23:12,420
get the

467
00:23:08,550 --> 00:23:14,909
findings with<font color="#CCCCCC"> masscan the next step is</font>

468
00:23:12,420 --> 00:23:18,660
to go<font color="#CCCCCC"> ahead and get in map and use the</font>

469
00:23:14,910 --> 00:23:20,370
scripting engine<font color="#CCCCCC"> so again like you know</font>

470
00:23:18,660 --> 00:23:24,120
I<font color="#E5E5E5"> just brute force things I'm not very</font>

471
00:23:20,370 --> 00:23:27,330
gentle so when you use t5 to go ahead

472
00:23:24,120 --> 00:23:30,689
<font color="#E5E5E5">and look it still is</font><font color="#CCCCCC"> pretty slow it took</font>

473
00:23:27,330 --> 00:23:33,389
over a<font color="#CCCCCC"> week to run on 49 million IPs and</font>

474
00:23:30,690 --> 00:23:38,940
<font color="#CCCCCC">I really only found about 300,000</font>

475
00:23:33,390 --> 00:23:41,760
<font color="#E5E5E5">instances running</font><font color="#CCCCCC"> HDB - and just a quick</font>

476
00:23:38,940 --> 00:23:45,390
kind of<font color="#E5E5E5"> shout out</font><font color="#CCCCCC"> and honorable mention</font>

477
00:23:41,760 --> 00:23:48,330
for this<font color="#E5E5E5"> rapid7 kind of changed the name</font>

478
00:23:45,390 --> 00:23:50,010
<font color="#CCCCCC">of their project sonar</font><font color="#E5E5E5"> to open data</font><font color="#CCCCCC"> and</font>

479
00:23:48,330 --> 00:24:00,840
it really has<font color="#CCCCCC"> some pretty awesome data</font>

480
00:23:50,010 --> 00:24:04,200
in it but but it doesn't support<font color="#E5E5E5"> h2 at</font>

481
00:24:00,840 --> 00:24:07,290
all<font color="#E5E5E5"> but you can always</font><font color="#CCCCCC"> use the system</font>

482
00:24:04,200 --> 00:24:08,730
found in h2 HTTP scan data as a starting

483
00:24:07,290 --> 00:24:11,490
point up things to test if you really

484
00:24:08,730 --> 00:24:18,240
don't<font color="#CCCCCC"> want to use</font><font color="#E5E5E5"> masscan</font><font color="#CCCCCC"> and it all</font>

485
00:24:11,490 --> 00:24:20,600
comes in a super small 50 gig file<font color="#CCCCCC"> so</font>

486
00:24:18,240 --> 00:24:23,100
the<font color="#E5E5E5"> next method I used was showdown</font>

487
00:24:20,600 --> 00:24:25,820
showdown<font color="#CCCCCC"> is pretty cool because it's</font>

488
00:24:23,100 --> 00:24:30,060
easy<font color="#CCCCCC"> to</font><font color="#E5E5E5"> use you can basically find it</font>

489
00:24:25,820 --> 00:24:32,899
using<font color="#E5E5E5"> the</font><font color="#CCCCCC"> ssl</font><font color="#E5E5E5"> alp</font><font color="#CCCCCC"> nh-2 in the search bar</font>

490
00:24:30,060 --> 00:24:35,970
<font color="#E5E5E5">and so searching is absolutely free</font>

491
00:24:32,900 --> 00:24:38,640
<font color="#E5E5E5">creating a report is free but the cons</font>

492
00:24:35,970 --> 00:24:40,280
are is you have to pay to download<font color="#E5E5E5"> the</font>

493
00:24:38,640 --> 00:24:43,200
<font color="#CCCCCC">results and</font><font color="#E5E5E5"> that can get pretty pricey</font>

494
00:24:40,280 --> 00:24:46,320
<font color="#CCCCCC">it takes about a long time to</font><font color="#E5E5E5"> download</font>

495
00:24:43,200 --> 00:24:49,260
results<font color="#CCCCCC"> it took about</font><font color="#E5E5E5"> three days plus or</font>

496
00:24:46,320 --> 00:24:51,750
minus to download the three million IP 3

497
00:24:49,260 --> 00:24:53,550
million<font color="#E5E5E5"> IPs and</font><font color="#CCCCCC"> even when you do you pay</font>

498
00:24:51,750 --> 00:24:56,160
you can't download or you<font color="#E5E5E5"> can only</font>

499
00:24:53,550 --> 00:24:57,928
download a million<font color="#CCCCCC"> results so basically</font>

500
00:24:56,160 --> 00:24:59,999
the firehose results are<font color="#CCCCCC"> only</font>

501
00:24:57,929 --> 00:25:03,570
available to enterprise customers<font color="#CCCCCC"> which</font>

502
00:24:59,999 --> 00:25:06,169
<font color="#CCCCCC">is a little disappointing to me so</font>

503
00:25:03,570 --> 00:25:08,668
<font color="#E5E5E5">really what did we find on shouldn't so</font>

504
00:25:06,169 --> 00:25:12,210
basically<font color="#E5E5E5"> I took</font><font color="#CCCCCC"> two separate snapshots</font>

505
00:25:08,669 --> 00:25:15,179
to kind<font color="#CCCCCC"> of show you</font><font color="#E5E5E5"> HTTP to adoption so</font>

506
00:25:12,210 --> 00:25:19,590
at the top you can<font color="#E5E5E5"> see</font><font color="#CCCCCC"> we have</font><font color="#E5E5E5"> about 2.3</font>

507
00:25:15,179 --> 00:25:22,559
million sites that we're using<font color="#E5E5E5"> h2 on on</font>

508
00:25:19,590 --> 00:25:26,249
the 14th of February<font color="#CCCCCC"> and</font><font color="#E5E5E5"> that actually</font>

509
00:25:22,559 --> 00:25:29,700
jumped to<font color="#E5E5E5"> about 3.6 million</font><font color="#CCCCCC"> just a</font>

510
00:25:26,249 --> 00:25:32,279
couple<font color="#CCCCCC"> months later so it's definitely</font>

511
00:25:29,700 --> 00:25:34,409
gaining<font color="#E5E5E5"> traction</font><font color="#CCCCCC"> just to kind of show</font>

512
00:25:32,279 --> 00:25:39,360
you<font color="#CCCCCC"> some of the report info top</font>

513
00:25:34,409 --> 00:25:41,460
countries or<font color="#CCCCCC"> the US and China looking at</font>

514
00:25:39,360 --> 00:25:47,699
the top<font color="#E5E5E5"> organizations CloudFlare is</font>

515
00:25:41,460 --> 00:25:48,990
really huge<font color="#CCCCCC"> and so</font><font color="#E5E5E5"> is Amazon and kind of</font>

516
00:25:47,700 --> 00:25:51,179
looking at<font color="#E5E5E5"> it the top products are</font>

517
00:25:48,990 --> 00:25:52,830
<font color="#E5E5E5">engine X so that would really</font><font color="#CCCCCC"> kind of</font>

518
00:25:51,179 --> 00:25:57,990
make a lot of sense since<font color="#E5E5E5"> CloudFlare</font>

519
00:25:52,830 --> 00:26:01,590
loves engine<font color="#E5E5E5"> X as their CDN kind of</font>

520
00:25:57,990 --> 00:26:05,990
server of choice with ideal web server

521
00:26:01,590 --> 00:26:10,439
coming in second and Apache at<font color="#CCCCCC"> a third</font>

522
00:26:05,990 --> 00:26:13,590
<font color="#E5E5E5">top domains are Amazon AWS then unified</font>

523
00:26:10,440 --> 00:26:16,049
layer and then home<font color="#E5E5E5"> dot yeah so</font>

524
00:26:13,590 --> 00:26:18,619
<font color="#E5E5E5">basically the</font><font color="#CCCCCC"> next thing is is really</font>

525
00:26:16,049 --> 00:26:18,619
<font color="#E5E5E5">what was found</font>

526
00:26:22,250 --> 00:26:31,070
in short<font color="#E5E5E5"> just a bunch of</font><font color="#CCCCCC"> DDoS</font><font color="#E5E5E5"> it's just</font>

527
00:26:25,670 --> 00:26:33,530
everywhere<font color="#CCCCCC"> so they kind of look at just</font>

528
00:26:31,070 --> 00:26:38,929
the<font color="#E5E5E5"> passive</font><font color="#CCCCCC"> findings we ran into</font><font color="#E5E5E5"> the</font>

529
00:26:33,530 --> 00:26:44,139
slow<font color="#E5E5E5"> rate attack which is CV 2016</font><font color="#CCCCCC"> note</font>

530
00:26:38,930 --> 00:26:49,310
<font color="#CCCCCC">that it is</font><font color="#E5E5E5"> from 2016</font><font color="#CCCCCC"> and we found</font><font color="#E5E5E5"> about</font>

531
00:26:44,140 --> 00:26:51,770
<font color="#CCCCCC">7,000 systems on Apache</font><font color="#E5E5E5"> just out of the</font>

532
00:26:49,310 --> 00:26:56,780
a million scanned<font color="#E5E5E5"> and it's basically</font>

533
00:26:51,770 --> 00:26:58,970
<font color="#CCCCCC">like a slow loris DDoS attack and it</font>

534
00:26:56,780 --> 00:27:02,810
calls<font color="#CCCCCC"> on a malicious client</font><font color="#E5E5E5"> to read</font>

535
00:26:58,970 --> 00:27:04,190
responses<font color="#CCCCCC"> very slowly the H pack bottom</font>

536
00:27:02,810 --> 00:27:08,270
<font color="#E5E5E5">kind of what I was</font><font color="#CCCCCC"> talking about earlier</font>

537
00:27:04,190 --> 00:27:10,190
<font color="#E5E5E5">with the</font><font color="#CCCCCC"> header compression really only</font>

538
00:27:08,270 --> 00:27:12,379
found<font color="#E5E5E5"> 29 out of</font><font color="#CCCCCC"> a million systems that</font>

539
00:27:10,190 --> 00:27:14,660
were vulnerable<font color="#E5E5E5"> to this as well as</font>

540
00:27:12,380 --> 00:27:16,340
Wireshark<font color="#CCCCCC"> and it's basically a</font>

541
00:27:14,660 --> 00:27:18,470
compression layer attack that resembles

542
00:27:16,340 --> 00:27:21,020
a zip bomb attack or a decompression

543
00:27:18,470 --> 00:27:23,900
bomb<font color="#CCCCCC"> each pack is used</font><font color="#E5E5E5"> to reduce</font><font color="#CCCCCC"> the</font>

544
00:27:21,020 --> 00:27:25,160
size of packet headers<font color="#E5E5E5"> sending basically</font>

545
00:27:23,900 --> 00:27:26,240
the sender<font color="#CCCCCC"> can tell the receiver the</font>

546
00:27:25,160 --> 00:27:31,460
maximum<font color="#E5E5E5"> size of the header compression</font>

547
00:27:26,240 --> 00:27:32,540
table and can decode the headers<font color="#E5E5E5"> and</font>

548
00:27:31,460 --> 00:27:33,410
<font color="#E5E5E5">basically you're</font><font color="#CCCCCC"> just using</font>

549
00:27:32,540 --> 00:27:35,480
<font color="#E5E5E5">innocent-looking</font>

550
00:27:33,410 --> 00:27:37,760
messages that can actually unpack<font color="#CCCCCC"> into</font>

551
00:27:35,480 --> 00:27:39,500
<font color="#E5E5E5">gigabytes of data on the server and</font>

552
00:27:37,760 --> 00:27:42,200
basically consumer concernment<font color="#E5E5E5"> that</font>

553
00:27:39,500 --> 00:27:43,880
consuming all of<font color="#CCCCCC"> the server memory and</font>

554
00:27:42,200 --> 00:27:48,080
<font color="#CCCCCC">efficient</font><font color="#E5E5E5"> either slowing down or</font>

555
00:27:43,880 --> 00:27:50,840
crashing the system<font color="#CCCCCC"> dependency and</font>

556
00:27:48,080 --> 00:27:54,860
priority attacks<font color="#E5E5E5"> really</font><font color="#CCCCCC"> only</font><font color="#E5E5E5"> found about</font>

557
00:27:50,840 --> 00:27:57,500
<font color="#E5E5E5">29 out of a million systems 36 out of 1</font>

558
00:27:54,860 --> 00:27:58,850
million on<font color="#E5E5E5"> Apache it</font><font color="#CCCCCC"> livers</font><font color="#E5E5E5"> just the</font>

559
00:27:57,500 --> 00:28:02,500
flow control mechanism that we were

560
00:27:58,850 --> 00:28:02,500
talking<font color="#CCCCCC"> about earlier with h2</font>

561
00:28:03,010 --> 00:28:11,460
[Music]

562
00:28:13,360 --> 00:28:23,449
yes<font color="#E5E5E5"> so basically the client can use this</font>

563
00:28:21,009 --> 00:28:25,129
<font color="#CCCCCC">specially crafted requests to</font><font color="#E5E5E5"> prompt the</font>

564
00:28:23,450 --> 00:28:29,840
dependency cycle<font color="#E5E5E5"> and forcing the server</font>

565
00:28:25,129 --> 00:28:32,779
into an infinite<font color="#CCCCCC"> loop HTTP streaming</font>

566
00:28:29,840 --> 00:28:37,189
multiplexing<font color="#CCCCCC"> basically</font><font color="#E5E5E5"> affects Windows</font>

567
00:28:32,779 --> 00:28:39,409
10 gold and 1.15<font color="#CCCCCC"> 1-1 really don't know</font>

568
00:28:37,190 --> 00:28:42,559
how<font color="#CCCCCC"> many are out there I didn't really</font>

569
00:28:39,409 --> 00:28:49,460
see a whole lot<font color="#CCCCCC"> of I</font><font color="#E5E5E5"> is out there when</font>

570
00:28:42,559 --> 00:28:51,619
doing the scans so basically I think<font color="#E5E5E5"> the</font>

571
00:28:49,460 --> 00:28:52,519
hardest<font color="#E5E5E5"> part</font><font color="#CCCCCC"> was</font><font color="#E5E5E5"> I've</font><font color="#CCCCCC"> been looking for</font>

572
00:28:51,619 --> 00:29:04,899
stuff like this

573
00:28:52,519 --> 00:29:07,460
just when<font color="#E5E5E5"> looking for this stuff is a</font>

574
00:29:04,899 --> 00:29:10,008
lot<font color="#E5E5E5"> of people like to</font><font color="#CCCCCC"> put really</font><font color="#E5E5E5"> fun</font>

575
00:29:07,460 --> 00:29:12,529
things<font color="#CCCCCC"> in their server headers or giving</font>

576
00:29:10,009 --> 00:29:15,499
you generic or something like<font color="#E5E5E5"> that so</font>

577
00:29:12,529 --> 00:29:18,379
it's kind of<font color="#E5E5E5"> hard to tell but I did</font>

578
00:29:15,499 --> 00:29:23,600
notice<font color="#E5E5E5"> a lot</font><font color="#CCCCCC"> of really old crappy stuff</font>

579
00:29:18,379 --> 00:29:27,519
in AWS just as a side note<font color="#CCCCCC"> so basically</font>

580
00:29:23,600 --> 00:29:29,928
how do we prevent future attacks on h2

581
00:29:27,519 --> 00:29:32,210
<font color="#CCCCCC">recommendations are patching updating</font>

582
00:29:29,929 --> 00:29:35,960
and staying current on<font color="#E5E5E5"> your OS</font><font color="#CCCCCC"> and not</font>

583
00:29:32,210 --> 00:29:37,970
<font color="#E5E5E5">leaving old outdated stuff out there</font><font color="#CCCCCC"> if</font>

584
00:29:35,960 --> 00:29:40,730
you don't need<font color="#E5E5E5"> it essentially turn it</font>

585
00:29:37,970 --> 00:29:42,679
off<font color="#E5E5E5"> you have options</font><font color="#CCCCCC"> to turn it off</font><font color="#E5E5E5"> at</font>

586
00:29:40,730 --> 00:29:46,940
the server<font color="#E5E5E5"> level on the laugh level and</font>

587
00:29:42,679 --> 00:29:50,809
also at the CDN level<font color="#E5E5E5"> and also Google</font>

588
00:29:46,940 --> 00:29:53,779
<font color="#E5E5E5">actually has a really cool document for</font>

589
00:29:50,809 --> 00:29:55,780
<font color="#E5E5E5">security best practices that give you</font>

590
00:29:53,779 --> 00:30:01,120
lots of options<font color="#CCCCCC"> to go ahead</font><font color="#E5E5E5"> and</font>

591
00:29:55,780 --> 00:30:03,639
and configure your your h2 instances to

592
00:30:01,120 --> 00:30:05,439
be a little bit more secure so a lot<font color="#CCCCCC"> of</font>

593
00:30:03,640 --> 00:30:07,560
that like I said<font color="#CCCCCC"> is</font><font color="#E5E5E5"> this</font><font color="#CCCCCC"> is part one</font>

594
00:30:05,440 --> 00:30:11,970
<font color="#E5E5E5">there's a lot more</font><font color="#CCCCCC"> coming in part</font><font color="#E5E5E5"> two</font>

595
00:30:07,560 --> 00:30:13,800
<font color="#E5E5E5">for messing with really fun security</font>

596
00:30:11,970 --> 00:30:16,710
misconfigurations

597
00:30:13,800 --> 00:30:19,710
<font color="#CCCCCC">in basically limiting das das attacks</font>

598
00:30:16,710 --> 00:30:23,020
<font color="#CCCCCC">you can limit</font><font color="#E5E5E5"> the rate of</font><font color="#CCCCCC"> request from</font>

599
00:30:19,710 --> 00:30:24,730
from a single user<font color="#CCCCCC"> limiting</font><font color="#E5E5E5"> the number</font>

600
00:30:23,020 --> 00:30:28,210
of connections that<font color="#E5E5E5"> can be opened</font><font color="#CCCCCC"> by a</font>

601
00:30:24,730 --> 00:30:30,130
single client<font color="#CCCCCC"> and closing connections</font>

602
00:30:28,210 --> 00:30:34,210
<font color="#E5E5E5">more quickly with more</font><font color="#CCCCCC"> aggressive</font>

603
00:30:30,130 --> 00:30:36,070
timeouts<font color="#CCCCCC"> just as a side note HT b2 will</font>

604
00:30:34,210 --> 00:30:39,880
actually open<font color="#CCCCCC"> a connection and it</font>

605
00:30:36,070 --> 00:30:41,620
<font color="#CCCCCC">actually will never close it</font><font color="#E5E5E5"> so it's</font>

606
00:30:39,880 --> 00:30:43,750
always<font color="#CCCCCC"> recommended to actually put in a</font>

607
00:30:41,620 --> 00:30:47,500
timeout<font color="#CCCCCC"> because it does not do that by</font>

608
00:30:43,750 --> 00:30:49,930
default<font color="#CCCCCC"> some</font><font color="#E5E5E5"> other resources that</font><font color="#CCCCCC"> I've</font>

609
00:30:47,500 --> 00:30:52,350
come<font color="#E5E5E5"> up with the first one is a link of</font>

610
00:30:49,930 --> 00:30:54,730
<font color="#E5E5E5">info</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> really good testing tools</font>

611
00:30:52,350 --> 00:30:56,530
<font color="#E5E5E5">developers are really helpful with any</font>

612
00:30:54,730 --> 00:30:59,230
sort<font color="#E5E5E5"> of pen testing or security research</font>

613
00:30:56,530 --> 00:31:02,290
<font color="#E5E5E5">because they provide us with a bunch of</font>

614
00:30:59,230 --> 00:31:04,900
tools that<font color="#E5E5E5"> were meant</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> be used for</font>

615
00:31:02,290 --> 00:31:06,970
<font color="#CCCCCC">testing but you can actually</font><font color="#E5E5E5"> use them to</font>

616
00:31:04,900 --> 00:31:10,110
do some<font color="#E5E5E5"> pretty creative and fun dos</font>

617
00:31:06,970 --> 00:31:13,390
attacks and and other sort of attacks

618
00:31:10,110 --> 00:31:17,409
<font color="#CCCCCC">the second one is just just testing</font>

619
00:31:13,390 --> 00:31:19,300
tools<font color="#CCCCCC"> third is known HTTP -</font>

620
00:31:17,410 --> 00:31:21,910
implementations so it's basically a

621
00:31:19,300 --> 00:31:25,659
really<font color="#CCCCCC"> nice list of</font><font color="#E5E5E5"> technologies</font><font color="#CCCCCC"> that</font>

622
00:31:21,910 --> 00:31:27,610
support HTTP<font color="#CCCCCC"> - in the last not least is</font>

623
00:31:25,660 --> 00:31:30,010
the HTTP<font color="#CCCCCC"> -</font><font color="#E5E5E5"> RFC</font>

624
00:31:27,610 --> 00:31:32,110
so the people<font color="#E5E5E5"> that</font><font color="#CCCCCC"> actually</font><font color="#E5E5E5"> came up with</font>

625
00:31:30,010 --> 00:31:34,090
HTTP - knew that there was going to<font color="#E5E5E5"> be a</font>

626
00:31:32,110 --> 00:31:37,419
bunch<font color="#E5E5E5"> of vulnerabilities in</font>

627
00:31:34,090 --> 00:31:41,159
misconfigurations<font color="#E5E5E5"> and that link will</font>

628
00:31:37,420 --> 00:31:45,660
actually take<font color="#CCCCCC"> you to</font><font color="#E5E5E5"> a good amount of</font>

629
00:31:41,160 --> 00:31:47,950
suggestions and pitfalls<font color="#E5E5E5"> that h2 has so</font>

630
00:31:45,660 --> 00:31:51,790
<font color="#CCCCCC">again I guess</font><font color="#E5E5E5"> to go back up to the top</font>

631
00:31:47,950 --> 00:31:53,470
link<font color="#E5E5E5"> if you want</font><font color="#CCCCCC"> to use testing servers</font>

632
00:31:51,790 --> 00:31:56,408
or anything like<font color="#E5E5E5"> that there's actually a</font>

633
00:31:53,470 --> 00:32:00,460
<font color="#CCCCCC">two good resources on how to spin up</font>

634
00:31:56,409 --> 00:32:05,260
your own h2 instance<font color="#CCCCCC"> and things</font><font color="#E5E5E5"> like</font>

635
00:32:00,460 --> 00:32:07,000
<font color="#E5E5E5">that</font><font color="#CCCCCC"> so basically it's</font><font color="#E5E5E5"> Q&A time so</font>

636
00:32:05,260 --> 00:32:11,110
basically<font color="#CCCCCC"> if</font><font color="#E5E5E5"> you have any questions the</font>

637
00:32:07,000 --> 00:32:13,360
answer is definitely<font color="#E5E5E5"> gonna be aliens so</font>

638
00:32:11,110 --> 00:32:20,530
does anybody have<font color="#E5E5E5"> any</font><font color="#CCCCCC"> questions comments</font>

639
00:32:13,360 --> 00:32:23,168
<font color="#E5E5E5">death threats what's that did you guys</font>

640
00:32:20,530 --> 00:32:24,428
learn<font color="#CCCCCC"> anything today</font><font color="#E5E5E5"> at least people are</font>

641
00:32:23,169 --> 00:32:28,690
gonna walk<font color="#E5E5E5"> away and</font><font color="#CCCCCC"> say okay</font><font color="#E5E5E5"> I'm</font>

642
00:32:24,429 --> 00:32:31,150
<font color="#E5E5E5">learning something</font><font color="#CCCCCC"> alright</font><font color="#E5E5E5"> well um if</font>

643
00:32:28,690 --> 00:32:33,400
you guys did have<font color="#E5E5E5"> any questions and</font>

644
00:32:31,150 --> 00:32:35,320
<font color="#E5E5E5">maybe you're too afraid to ask</font>

645
00:32:33,400 --> 00:32:38,860
you can always<font color="#CCCCCC"> direct message me at</font>

646
00:32:35,320 --> 00:32:43,928
security<font color="#E5E5E5"> panda on</font><font color="#CCCCCC"> twitter or at hand at</font>

647
00:32:38,860 --> 00:32:46,120
security penndel comments<font color="#CCCCCC"> if I missed</font>

648
00:32:43,929 --> 00:32:48,390
anything<font color="#CCCCCC"> anything like that</font>

649
00:32:46,120 --> 00:32:48,389
<font color="#E5E5E5">Oh</font>

650
00:32:54,110 --> 00:32:58,010
what sites what I look at

651
00:33:26,200 --> 00:33:29,890
like<font color="#CCCCCC"> testings</font>

652
00:33:30,880 --> 00:33:33,969
[Music]

653
00:33:36,770 --> 00:33:41,658
I think you could<font color="#E5E5E5"> probably use the</font>

654
00:33:39,500 --> 00:33:45,890
<font color="#CCCCCC">bullets or something like</font><font color="#E5E5E5"> that if you're</font>

655
00:33:41,659 --> 00:33:47,570
<font color="#E5E5E5">just a</font><font color="#CCCCCC"> classic</font><font color="#E5E5E5"> you</font><font color="#CCCCCC"> know or anything</font>

656
00:33:45,890 --> 00:33:51,890
that's<font color="#E5E5E5"> behind cloud fly or something</font>

657
00:33:47,570 --> 00:33:55,570
like that<font color="#CCCCCC"> those</font><font color="#E5E5E5"> usually we hope that</font>

658
00:33:51,890 --> 00:33:55,570
they're using<font color="#E5E5E5"> the best practices</font>

659
00:34:03,419 --> 00:34:06,900
does anybody know

660
00:34:19,409 --> 00:34:37,690
really there's I mean we looked at<font color="#E5E5E5"> a</font>

661
00:34:23,790 --> 00:34:40,300
<font color="#E5E5E5">security application security</font><font color="#CCCCCC"> just you</font>

662
00:34:37,690 --> 00:34:42,570
know it's kind of like<font color="#E5E5E5"> that way off but</font>

663
00:34:40,300 --> 00:34:45,310
for<font color="#CCCCCC"> me it's</font><font color="#E5E5E5"> like if you're just</font><font color="#CCCCCC"> using</font>

664
00:34:42,570 --> 00:34:47,139
static content that has no user

665
00:34:45,310 --> 00:34:51,279
interactive content on the page then

666
00:34:47,139 --> 00:34:53,740
maybe but it's kind of always up to<font color="#CCCCCC"> your</font>

667
00:34:51,280 --> 00:35:03,040
best judgment<font color="#E5E5E5"> mmm for me I'm always a</font>

668
00:34:53,739 --> 00:35:08,078
<font color="#E5E5E5">fan of</font><font color="#CCCCCC"> using SSL over</font><font color="#E5E5E5"> plain text anybody</font>

669
00:35:03,040 --> 00:35:10,150
else have any<font color="#CCCCCC"> questions comments</font><font color="#E5E5E5"> no okay</font>

670
00:35:08,079 --> 00:35:14,160
awesome<font color="#CCCCCC"> we'll come up</font><font color="#E5E5E5"> and have some</font>

671
00:35:10,150 --> 00:35:19,719
dumpster fire Thanks

672
00:35:14,160 --> 00:35:19,719
[Applause]

