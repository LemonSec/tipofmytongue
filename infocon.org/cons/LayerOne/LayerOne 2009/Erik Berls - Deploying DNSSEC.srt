1
00:00:28,100 --> 00:00:43,100
yeah<font color="#CCCCCC"> I'm</font><font color="#E5E5E5"> moving back and forth here I'm</font>

2
00:00:30,110 --> 00:00:46,100
still<font color="#E5E5E5"> saying getting like okay so quick</font>

3
00:00:43,100 --> 00:00:48,379
show of hands<font color="#E5E5E5"> for those of you who</font>

4
00:00:46,100 --> 00:00:51,290
actually use web browsers instead of

5
00:00:48,379 --> 00:00:54,349
just command-line interfaces how many of

6
00:00:51,290 --> 00:00:56,510
you actually<font color="#E5E5E5"> check to see if the site</font>

7
00:00:54,350 --> 00:00:59,900
you're going to is running underneath

8
00:00:56,510 --> 00:01:02,330
<font color="#E5E5E5">HTTPS and you've got the little little</font>

9
00:00:59,900 --> 00:01:03,890
<font color="#E5E5E5">lock icon in your browser showing you</font>

10
00:01:02,330 --> 00:01:07,220
that you're all nice and secure let's

11
00:01:03,890 --> 00:01:12,050
just show hands<font color="#E5E5E5"> of who actually checks</font>

12
00:01:07,220 --> 00:01:13,880
<font color="#E5E5E5">the mixture</font><font color="#CCCCCC"> okay now show of hands who</font>

13
00:01:12,050 --> 00:01:15,710
actually checks to make sure that the

14
00:01:13,880 --> 00:01:17,658
dns information that you have<font color="#E5E5E5"> been</font>

15
00:01:15,710 --> 00:01:24,530
<font color="#E5E5E5">presented when you do a lookup has not</font>

16
00:01:17,659 --> 00:01:27,409
been tampered with there's<font color="#E5E5E5"> always one so</font>

17
00:01:24,530 --> 00:01:28,970
ideally<font color="#E5E5E5"> we want to get the rest of you</font>

18
00:01:27,409 --> 00:01:31,580
to the point<font color="#E5E5E5"> where you feel confident</font>

19
00:01:28,970 --> 00:01:35,450
<font color="#CCCCCC">that the information that</font><font color="#E5E5E5"> is coming down</font>

20
00:01:31,580 --> 00:01:38,630
<font color="#E5E5E5">to you hasn't been tampered with several</font>

21
00:01:35,450 --> 00:01:39,950
other systems on the commonly used<font color="#E5E5E5"> on</font>

22
00:01:38,630 --> 00:01:44,658
the internet have i've already made

23
00:01:39,950 --> 00:01:46,909
these steps HTTP is transitioned over

24
00:01:44,659 --> 00:01:49,340
<font color="#CCCCCC">HTTPS we're seeing a lot of sites</font><font color="#E5E5E5"> that</font>

25
00:01:46,909 --> 00:01:54,979
are not just financial that are starting

26
00:01:49,340 --> 00:01:58,070
to use<font color="#E5E5E5"> HTTPS long ago we got rid of</font>

27
00:01:54,979 --> 00:02:00,170
using telnet to<font color="#E5E5E5"> connect from machine to</font>

28
00:01:58,070 --> 00:02:02,119
machine and probably some of<font color="#E5E5E5"> the younger</font>

29
00:02:00,170 --> 00:02:03,439
people in the audience are probably

30
00:02:02,119 --> 00:02:06,469
looking at<font color="#E5E5E5"> me funny i'm wondering what</font>

31
00:02:03,439 --> 00:02:10,970
telnet actually is it was replaced with

32
00:02:06,469 --> 00:02:16,519
ssh so we've made<font color="#E5E5E5"> this progress in</font>

33
00:02:10,970 --> 00:02:18,050
getting safer in quotes but<font color="#E5E5E5"> one of our</font>

34
00:02:16,520 --> 00:02:22,610
core foundations have still been left

35
00:02:18,050 --> 00:02:24,380
unprotected and it's going<font color="#E5E5E5"> to take a</font>

36
00:02:22,610 --> 00:02:26,510
couple<font color="#E5E5E5"> of steps who are in some</font>

37
00:02:24,380 --> 00:02:31,910
<font color="#CCCCCC">interesting chicken and</font><font color="#E5E5E5"> egg problems</font>

38
00:02:26,510 --> 00:02:34,549
that as the as these services have been

39
00:02:31,910 --> 00:02:37,930
transitioned it's harder and<font color="#E5E5E5"> harder the</font>

40
00:02:34,550 --> 00:02:41,250
more widespread that services and<font color="#CCCCCC"> DNS is</font>

41
00:02:37,930 --> 00:02:43,560
pretty widespread so we're going to<font color="#E5E5E5"> have</font>

42
00:02:41,250 --> 00:02:48,870
to make some interesting interesting

43
00:02:43,560 --> 00:02:54,360
steps so DNS SEC is our solution but

44
00:02:48,870 --> 00:02:56,340
what is it really there's four elements

45
00:02:54,360 --> 00:02:58,230
in areas that kind of play into this

46
00:02:56,340 --> 00:03:02,220
we've got the individual records

47
00:02:58,230 --> 00:03:04,200
themselves signed we've got some element

48
00:03:02,220 --> 00:03:09,120
that<font color="#E5E5E5"> will go ahead and later verify that</font>

49
00:03:04,200 --> 00:03:11,280
they're signed but just having a

50
00:03:09,120 --> 00:03:14,640
signature there isn't enough we<font color="#E5E5E5"> need to</font>

51
00:03:11,280 --> 00:03:19,020
know that there's a chain of of trust

52
00:03:14,640 --> 00:03:21,089
starting at some anchor point and in

53
00:03:19,020 --> 00:03:28,130
dealing<font color="#CCCCCC"> with all this we're adding new</font>

54
00:03:21,090 --> 00:03:31,110
record types to DNS itself so on

55
00:03:28,130 --> 00:03:38,400
authoritative servers some changes need

56
00:03:31,110 --> 00:03:40,920
to to take place we need<font color="#E5E5E5"> to make some</font>

57
00:03:38,400 --> 00:03:43,140
changes can mentally compared<font color="#CCCCCC"> to how we</font>

58
00:03:40,920 --> 00:03:45,780
originally used to think about deploying

59
00:03:43,140 --> 00:03:47,970
DNS servers including in the<font color="#E5E5E5"> ways the</font>

60
00:03:45,780 --> 00:03:50,519
server is set up how we're dealing<font color="#CCCCCC"> with</font>

61
00:03:47,970 --> 00:03:53,760
the<font color="#CCCCCC"> King information updating</font>

62
00:03:50,519 --> 00:03:57,269
information on the the server<font color="#E5E5E5"> and what</font>

63
00:03:53,760 --> 00:03:59,399
might be new in some dns setups some

64
00:03:57,269 --> 00:04:04,890
routine actions that were not actually

65
00:03:59,400 --> 00:04:06,840
performed in the past but before making

66
00:04:04,890 --> 00:04:09,540
any of these these changes yourself you

67
00:04:06,840 --> 00:04:11,940
need to sit down and<font color="#CCCCCC"> make sure</font><font color="#E5E5E5"> we've got</font>

68
00:04:09,540 --> 00:04:13,590
some bass lines going on this

69
00:04:11,940 --> 00:04:16,200
<font color="#E5E5E5">presentation is kind of going to assume</font>

70
00:04:13,590 --> 00:04:18,238
<font color="#CCCCCC">that you've already got a working dns</font>

71
00:04:16,200 --> 00:04:22,380
<font color="#CCCCCC">setup or you know how to create a</font>

72
00:04:18,238 --> 00:04:25,200
working dns setup and that your name

73
00:04:22,380 --> 00:04:28,440
server software is compatible with the

74
00:04:25,200 --> 00:04:31,650
new<font color="#CCCCCC"> dns sec records and really</font>

75
00:04:28,440 --> 00:04:36,300
importantly your secondaries software is

76
00:04:31,650 --> 00:04:38,640
compatible if you've done an install

77
00:04:36,300 --> 00:04:40,530
within the past couple<font color="#E5E5E5"> of years you've</font>

78
00:04:38,640 --> 00:04:43,740
got<font color="#CCCCCC"> a recent</font><font color="#E5E5E5"> version of a of a name</font>

79
00:04:40,530 --> 00:04:47,070
server however your secondary software

80
00:04:43,740 --> 00:04:50,430
is not<font color="#E5E5E5"> always compatible we started</font>

81
00:04:47,070 --> 00:04:53,039
seeing issues with<font color="#CCCCCC"> DNS servers then</font>

82
00:04:50,430 --> 00:04:53,860
we're acting only as secondaries from

83
00:04:53,039 --> 00:04:57,370
these large far

84
00:04:53,860 --> 00:04:59,830
servers running into problems when they

85
00:04:57,370 --> 00:05:03,819
<font color="#E5E5E5">started turning up the new IP SEC I'm</font>

86
00:04:59,830 --> 00:05:06,448
<font color="#E5E5E5">sorry the ipsec records such as the quad</font>

87
00:05:03,819 --> 00:05:08,560
a the problem with<font color="#E5E5E5"> those servers were</font>

88
00:05:06,449 --> 00:05:11,349
when they did a zone transfer they

89
00:05:08,560 --> 00:05:14,469
assumed that there's going<font color="#E5E5E5"> to be the set</font>

90
00:05:11,349 --> 00:05:16,990
record types and they're going<font color="#CCCCCC"> to store</font>

91
00:05:14,469 --> 00:05:19,210
them in their custom created database

92
00:05:16,990 --> 00:05:21,969
that knows about every record type that

93
00:05:19,210 --> 00:05:24,638
should be in DNS well they were handed a

94
00:05:21,969 --> 00:05:27,580
record type that wasn't and a lot<font color="#CCCCCC"> of</font>

95
00:05:24,639 --> 00:05:29,620
<font color="#E5E5E5">them</font><font color="#CCCCCC"> had a whole bunch</font><font color="#E5E5E5"> of issues some</font>

96
00:05:27,580 --> 00:05:31,688
simply just failed the zone transfer and

97
00:05:29,620 --> 00:05:41,650
wouldn't actually serve it up there were

98
00:05:31,689 --> 00:05:43,569
a couple that actually crashed so we've

99
00:05:41,650 --> 00:05:45,370
got this<font color="#E5E5E5"> king and we need to</font><font color="#CCCCCC"> determine</font>

100
00:05:43,569 --> 00:05:50,319
like which castle or which part of<font color="#E5E5E5"> the</font>

101
00:05:45,370 --> 00:05:52,120
castle we're going to protect first off

102
00:05:50,319 --> 00:05:54,879
the probably the the one that you would

103
00:05:52,120 --> 00:05:57,759
want<font color="#E5E5E5"> to protect the most is the stuff</font>

104
00:05:54,879 --> 00:06:02,319
that you're sending out and and sending

105
00:05:57,759 --> 00:06:06,099
external a lot of people's external dns

106
00:06:02,319 --> 00:06:08,740
zones don't change<font color="#E5E5E5"> all that often you</font>

107
00:06:06,099 --> 00:06:12,159
set it up<font color="#E5E5E5"> with dub dub dub maybe some MX</font>

108
00:06:08,740 --> 00:06:15,520
records and you're<font color="#E5E5E5"> pretty much set it</font>

109
00:06:12,159 --> 00:06:19,210
flies on autopilot for for a good length

110
00:06:15,520 --> 00:06:21,490
of time those are good<font color="#E5E5E5"> candidates to</font>

111
00:06:19,210 --> 00:06:24,580
sign light weight on your infrastructure

112
00:06:21,490 --> 00:06:26,379
easy to set up get going the zones that

113
00:06:24,580 --> 00:06:29,919
you probably don't<font color="#CCCCCC"> want to sign</font><font color="#E5E5E5"> even in</font>

114
00:06:26,379 --> 00:06:34,240
a corporate environment are zones that

115
00:06:29,919 --> 00:06:36,159
<font color="#E5E5E5">are populated by dynamic dns where the</font>

116
00:06:34,240 --> 00:06:41,650
<font color="#E5E5E5">client is pushing dns information up to</font>

117
00:06:36,159 --> 00:06:44,319
the to the<font color="#E5E5E5"> server because where is that</font>

118
00:06:41,650 --> 00:06:46,599
<font color="#E5E5E5">information</font><font color="#CCCCCC"> actually coming from you've</font>

119
00:06:44,319 --> 00:06:49,120
got some box on<font color="#E5E5E5"> your network that has an</font>

120
00:06:46,599 --> 00:06:54,729
IP address is connecting to you your d

121
00:06:49,120 --> 00:06:57,849
dns server and says hi I'm Bob and the<font color="#CCCCCC"> D</font>

122
00:06:54,729 --> 00:07:01,419
dns server goes okie i'll mark down guy

123
00:06:57,849 --> 00:07:04,240
named<font color="#CCCCCC"> bob is at this IP address there's</font>

124
00:07:01,419 --> 00:07:06,159
no trust there anybody could have gotten

125
00:07:04,240 --> 00:07:07,449
onto your network we can start

126
00:07:06,159 --> 00:07:08,949
advertising names

127
00:07:07,449 --> 00:07:12,219
so that's not something<font color="#CCCCCC"> you</font><font color="#E5E5E5"> really want</font>

128
00:07:08,949 --> 00:07:14,370
to<font color="#E5E5E5"> put assurances on so it's not worth</font>

129
00:07:12,219 --> 00:07:20,889
while<font color="#E5E5E5"> to really worry about signing</font>

130
00:07:14,370 --> 00:07:24,400
zones that have heavy ddns updates the

131
00:07:20,889 --> 00:07:28,719
other consideration is within<font color="#E5E5E5"> the DNS</font>

132
00:07:24,400 --> 00:07:30,938
SEC world we start to treat the serial

133
00:07:28,719 --> 00:07:32,979
number in the SOA record<font color="#E5E5E5"> actually as a</font>

134
00:07:30,939 --> 00:07:35,650
serial number that monotonically

135
00:07:32,979 --> 00:07:39,400
increases generally by one rather<font color="#E5E5E5"> than</font>

136
00:07:35,650 --> 00:07:44,068
<font color="#CCCCCC">the date that the last person who edited</font>

137
00:07:39,400 --> 00:07:47,258
the zone file has put in there that

138
00:07:44,069 --> 00:07:49,089
using the date was sort of a hack back

139
00:07:47,259 --> 00:07:54,009
in the day to kind of give people an

140
00:07:49,089 --> 00:07:56,800
idea of when things changed not bad

141
00:07:54,009 --> 00:07:58,899
information to have but it makes

142
00:07:56,800 --> 00:08:02,379
managing the zone files more difficult

143
00:07:58,899 --> 00:08:05,319
and as I'll discuss later we<font color="#E5E5E5"> actually</font>

144
00:08:02,379 --> 00:08:14,139
get some data information back just

145
00:08:05,319 --> 00:08:18,669
through the process itself so when we're

146
00:08:14,139 --> 00:08:22,029
serving Public DNS we've tended to<font color="#E5E5E5"> set</font>

147
00:08:18,669 --> 00:08:25,180
<font color="#E5E5E5">up a machine kept it relatively stripped</font>

148
00:08:22,029 --> 00:08:29,409
<font color="#E5E5E5">down install the serving software on it</font>

149
00:08:25,180 --> 00:08:31,629
and dropped it in a DMZ somewhere it's

150
00:08:29,409 --> 00:08:36,250
got some protections and it definitely

151
00:08:31,629 --> 00:08:39,339
doesn't have any access back inside this

152
00:08:36,250 --> 00:08:41,948
works well<font color="#E5E5E5"> when really the worst case</font>

153
00:08:39,339 --> 00:08:45,610
scenario aside from it being<font color="#E5E5E5"> used as a</font>

154
00:08:41,948 --> 00:08:48,399
launch off point is you kind<font color="#E5E5E5"> of wipe the</font>

155
00:08:45,610 --> 00:08:50,740
<font color="#E5E5E5">machine and start over</font><font color="#CCCCCC"> again there's not</font>

156
00:08:48,399 --> 00:08:54,579
much damage you can do to a DNS server

157
00:08:50,740 --> 00:08:57,250
that just can't be solved by a reinstall

158
00:08:54,579 --> 00:09:01,599
and pushing that zone file back out on

159
00:08:57,250 --> 00:09:04,709
there except now that we've got keying

160
00:09:01,600 --> 00:09:07,449
information so the risk is much higher

161
00:09:04,709 --> 00:09:10,869
your your server getting compromised

162
00:09:07,449 --> 00:09:13,719
means that this<font color="#E5E5E5"> King information can get</font>

163
00:09:10,870 --> 00:09:17,490
out and<font color="#E5E5E5"> that's a much better much bigger</font>

164
00:09:13,720 --> 00:09:17,490
headache than just a reinstall

165
00:09:19,340 --> 00:09:24,330
one thing<font color="#E5E5E5"> to think about real quickly in</font>

166
00:09:22,340 --> 00:09:26,760
doing that is like<font color="#E5E5E5"> okay well I just</font>

167
00:09:24,330 --> 00:09:28,890
<font color="#CCCCCC">won't have the keys on the</font><font color="#E5E5E5"> server I will</font>

168
00:09:26,760 --> 00:09:34,439
<font color="#CCCCCC">do all the signing on an internal</font>

169
00:09:28,890 --> 00:09:37,770
machine and and copy the signs own files

170
00:09:34,440 --> 00:09:40,790
on to the DNS server itself and

171
00:09:37,770 --> 00:09:43,230
everything will be fine and<font color="#E5E5E5"> happy</font>

172
00:09:40,790 --> 00:09:45,750
perfectly legitimate solution this<font color="#CCCCCC"> is</font>

173
00:09:43,230 --> 00:09:49,820
<font color="#E5E5E5">actually what I use at home because I</font>

174
00:09:45,750 --> 00:09:53,460
change my zone information once every

175
00:09:49,820 --> 00:09:56,340
<font color="#CCCCCC">6-8</font><font color="#E5E5E5"> months it's not a very high overhead</font>

176
00:09:53,460 --> 00:09:59,370
to go ahead make the change run the

177
00:09:56,340 --> 00:10:03,360
couple of commands that it takes to push

178
00:09:59,370 --> 00:10:05,520
the new zone file into place now if

179
00:10:03,360 --> 00:10:08,300
you've<font color="#E5E5E5"> got more changes more often</font>

180
00:10:05,520 --> 00:10:11,189
you're in a corporate environment then

181
00:10:08,300 --> 00:10:12,959
this method of offline signing is

182
00:10:11,190 --> 00:10:14,970
probably not going to work for<font color="#E5E5E5"> you</font>

183
00:10:12,960 --> 00:10:19,200
you're going to<font color="#E5E5E5"> need something that's</font>

184
00:10:14,970 --> 00:10:23,910
more online and we've got basically two

185
00:10:19,200 --> 00:10:27,660
mechanisms to to deal with this you can

186
00:10:23,910 --> 00:10:34,110
<font color="#E5E5E5">set the server up as a client reachable</font>

187
00:10:27,660 --> 00:10:37,140
host and that<font color="#E5E5E5"> DNS master will have the</font>

188
00:10:34,110 --> 00:10:40,590
keys on it it can<font color="#CCCCCC"> handle the updates do</font>

189
00:10:37,140 --> 00:10:44,010
the signing and unpublished its own zone

190
00:10:40,590 --> 00:10:45,450
file this runs into that problem I

191
00:10:44,010 --> 00:10:47,910
talked<font color="#CCCCCC"> about a little bit earlier where</font>

192
00:10:45,450 --> 00:10:51,330
the keys are right there on the machine

193
00:10:47,910 --> 00:10:54,000
now if your internal if its internal to

194
00:10:51,330 --> 00:10:56,370
your<font color="#E5E5E5"> company and your signing in an</font>

195
00:10:54,000 --> 00:10:59,600
inside zone this may not<font color="#E5E5E5"> be</font><font color="#CCCCCC"> as big of an</font>

196
00:10:56,370 --> 00:11:03,000
issue for you<font color="#E5E5E5"> if it's sitting out on the</font>

197
00:10:59,600 --> 00:11:07,530
<font color="#E5E5E5">internet facing side it's a little bit</font>

198
00:11:03,000 --> 00:11:10,130
more<font color="#E5E5E5"> of an issue you can take it</font><font color="#CCCCCC"> a step</font>

199
00:11:07,530 --> 00:11:13,650
further by moot by instead of having a

200
00:11:10,130 --> 00:11:16,860
<font color="#E5E5E5">DNS master sitting out on the in your</font>

201
00:11:13,650 --> 00:11:18,720
DMZ you can have a<font color="#E5E5E5"> DNS slave or</font>

202
00:11:16,860 --> 00:11:21,540
secondary sitting out there at which

203
00:11:18,720 --> 00:11:24,480
<font color="#CCCCCC">point you have the real master tucked</font>

204
00:11:21,540 --> 00:11:29,010
behind like an application firewall that

205
00:11:24,480 --> 00:11:31,600
will additionally filter out dns

206
00:11:29,010 --> 00:11:35,279
protocol information and only allow<font color="#E5E5E5"> node</font>

207
00:11:31,600 --> 00:11:37,540
thighs and<font color="#E5E5E5"> zone transfers thereby</font>

208
00:11:35,279 --> 00:11:44,589
reducing the attack surface of that

209
00:11:37,540 --> 00:11:45,880
interior box<font color="#CCCCCC"> okay now we're</font><font color="#E5E5E5"> going to get</font>

210
00:11:44,589 --> 00:11:47,860
<font color="#E5E5E5">into</font><font color="#CCCCCC"> a little</font><font color="#E5E5E5"> bit of the the nuts and</font>

211
00:11:45,880 --> 00:11:54,490
bolts now that we've got<font color="#E5E5E5"> everything else</font>

212
00:11:47,860 --> 00:11:59,170
set up we<font color="#E5E5E5"> need to set</font><font color="#CCCCCC"> up to some some</font>

213
00:11:54,490 --> 00:12:03,430
keys to actually do the signing these

214
00:11:59,170 --> 00:12:07,029
are using public key style cryptography

215
00:12:03,430 --> 00:12:08,739
however we<font color="#E5E5E5"> don't have any expiration</font>

216
00:12:07,029 --> 00:12:10,930
dates on these keys that makes

217
00:12:08,740 --> 00:12:12,579
everything a lot more complex we've got

218
00:12:10,930 --> 00:12:16,979
other mechanisms that how<font color="#E5E5E5"> will</font><font color="#CCCCCC"> we'll</font>

219
00:12:12,579 --> 00:12:20,949
handle<font color="#CCCCCC"> that um rather than trying to</font>

220
00:12:16,980 --> 00:12:23,230
have revocations and keys naturally keys

221
00:12:20,949 --> 00:12:24,609
with a hard expiration dates we're just

222
00:12:23,230 --> 00:12:27,100
<font color="#E5E5E5">going</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> rotate our keys on a regular</font>

223
00:12:24,610 --> 00:12:31,540
basis since the entire verification is

224
00:12:27,100 --> 00:12:35,189
all done online anyway so<font color="#E5E5E5"> as own signing</font>

225
00:12:31,540 --> 00:12:37,300
key basically it has a lifetime

226
00:12:35,189 --> 00:12:40,870
generally it's recommended of about

227
00:12:37,300 --> 00:12:44,620
three months some places rotate even

228
00:12:40,870 --> 00:12:47,949
faster<font color="#CCCCCC"> than that and we don't need</font><font color="#E5E5E5"> a</font>

229
00:12:44,620 --> 00:12:52,899
very heavy weight key with this the

230
00:12:47,949 --> 00:12:54,639
first line there is sort of the general

231
00:12:52,899 --> 00:12:56,829
form that the command takes and right

232
00:12:54,639 --> 00:12:59,920
below it I actually have have a line

233
00:12:56,829 --> 00:13:03,399
with a concrete example and if you

234
00:12:59,920 --> 00:13:07,209
notice it's only a 1024 bit key for them

235
00:13:03,399 --> 00:13:11,019
<font color="#E5E5E5">for the protection now we could increase</font>

236
00:13:07,209 --> 00:13:13,869
<font color="#E5E5E5">this as much as we want the problem</font>

237
00:13:11,019 --> 00:13:17,439
being is we're doing relatively little

238
00:13:13,870 --> 00:13:20,699
work initially to sign this zone clients

239
00:13:17,439 --> 00:13:25,300
out there have to verify this every time

240
00:13:20,699 --> 00:13:29,319
they want to look up that zone so if you

241
00:13:25,300 --> 00:13:31,719
have a absolutely huge key you're going

242
00:13:29,319 --> 00:13:33,880
to put a lot of burden on small little

243
00:13:31,720 --> 00:13:37,329
devices but tend not to have a lot of

244
00:13:33,880 --> 00:13:42,370
<font color="#E5E5E5">CPU power that may be trying to do the</font>

245
00:13:37,329 --> 00:13:44,180
DNS SEC verification so while normally

246
00:13:42,370 --> 00:13:47,270
the

247
00:13:44,180 --> 00:13:50,149
cryptography advocates are saying eight

248
00:13:47,270 --> 00:13:52,310
use as much as you can just<font color="#CCCCCC"> throw</font><font color="#E5E5E5"> a</font>

249
00:13:50,149 --> 00:13:55,130
beefier machine at it the problem is is

250
00:13:52,310 --> 00:13:57,529
that your percentage of the the work is

251
00:13:55,130 --> 00:13:59,080
relatively low considering how many

252
00:13:57,529 --> 00:14:05,959
devices are actually going to be<font color="#CCCCCC"> doing</font>

253
00:13:59,080 --> 00:14:08,570
verifications instead the advantage

254
00:14:05,959 --> 00:14:11,300
however is with even with a low<font color="#E5E5E5"> bit rate</font>

255
00:14:08,570 --> 00:14:16,070
you're throwing this<font color="#E5E5E5"> away in three</font>

256
00:14:11,300 --> 00:14:19,399
months that if thumb if someone is

257
00:14:16,070 --> 00:14:22,580
<font color="#CCCCCC">working to attack that</font><font color="#E5E5E5"> key three months</font>

258
00:14:19,399 --> 00:14:26,630
<font color="#CCCCCC">later</font><font color="#E5E5E5"> they've got to start</font><font color="#CCCCCC"> over because</font>

259
00:14:22,580 --> 00:14:28,310
<font color="#E5E5E5">you've switched off to a new key and the</font>

260
00:14:26,630 --> 00:14:31,910
way the<font color="#CCCCCC"> the chaining infrastructure</font>

261
00:14:28,310 --> 00:14:35,089
works they can<font color="#CCCCCC"> no longer make any use of</font>

262
00:14:31,910 --> 00:14:37,760
the<font color="#E5E5E5"> old key because it's it's more of an</font>

263
00:14:35,089 --> 00:14:41,300
<font color="#CCCCCC">online stepping through</font><font color="#E5E5E5"> the chain every</font>

264
00:14:37,760 --> 00:14:44,060
single time verification that if the

265
00:14:41,300 --> 00:14:46,640
parent is not pointing to the correct

266
00:14:44,060 --> 00:14:51,529
key the verification chain<font color="#E5E5E5"> just doesn't</font>

267
00:14:46,640 --> 00:14:55,939
happen so having an an old key doesn't

268
00:14:51,529 --> 00:14:58,450
get anybody anything now signing that

269
00:14:55,940 --> 00:15:02,110
<font color="#E5E5E5">zone signing key is the key signing key</font>

270
00:14:58,450 --> 00:15:06,140
this we hang on to<font color="#CCCCCC"> a little bit</font><font color="#E5E5E5"> longer</font>

271
00:15:02,110 --> 00:15:07,970
rotated about every year<font color="#E5E5E5"> and the reason</font>

272
00:15:06,140 --> 00:15:11,600
why we hold on to this one longer is

273
00:15:07,970 --> 00:15:13,310
this is what our parent knows about so

274
00:15:11,600 --> 00:15:15,380
there's a couple mechanisms of

275
00:15:13,310 --> 00:15:21,099
establishing the chain which I'll go

276
00:15:15,380 --> 00:15:23,450
into shortly but this generally involves

277
00:15:21,100 --> 00:15:27,770
communication and synchronization with

278
00:15:23,450 --> 00:15:32,240
another zone to set up this information

279
00:15:27,770 --> 00:15:34,850
so it's a<font color="#E5E5E5"> little bit more involved of a</font>

280
00:15:32,240 --> 00:15:36,050
task so you don't want to do it quite as

281
00:15:34,850 --> 00:15:37,430
often because there's a little<font color="#E5E5E5"> bit</font>

282
00:15:36,050 --> 00:15:41,750
additional risk there's much more

283
00:15:37,430 --> 00:15:43,399
overhead in making<font color="#CCCCCC"> that change in my</font>

284
00:15:41,750 --> 00:15:48,709
concrete example you'll notice I've got

285
00:15:43,399 --> 00:15:53,360
it set<font color="#CCCCCC"> to 4096 actually is sees examples</font>

286
00:15:48,709 --> 00:15:56,439
actually<font color="#CCCCCC"> have it</font><font color="#E5E5E5"> only at 2048 so there's</font>

287
00:15:53,360 --> 00:15:56,440
some some wiggle room there

288
00:15:56,780 --> 00:16:02,660
so<font color="#E5E5E5"> after we've actually generated the</font>

289
00:15:59,990 --> 00:16:05,720
keys themselves we need to actually

290
00:16:02,660 --> 00:16:07,640
include it into the zone file these

291
00:16:05,720 --> 00:16:09,200
examples are 44 bind that<font color="#E5E5E5"> we can</font>

292
00:16:07,640 --> 00:16:14,180
actually<font color="#E5E5E5"> use an include directive or</font>

293
00:16:09,200 --> 00:16:17,150
just go ahead and jump the<font color="#E5E5E5"> resulting</font>

294
00:16:14,180 --> 00:16:19,520
outputs from the assigning from the key

295
00:16:17,150 --> 00:16:26,420
gen commands to the<font color="#E5E5E5"> end of our zone file</font>

296
00:16:19,520 --> 00:16:28,189
and the tools just<font color="#E5E5E5"> work so signing</font><font color="#CCCCCC"> the</font>

297
00:16:26,420 --> 00:16:31,219
zone is actually really<font color="#E5E5E5"> really simple if</font>

298
00:16:28,190 --> 00:16:33,620
you're using bind9 you've got one

299
00:16:31,220 --> 00:16:39,370
command line that actually looks much

300
00:16:33,620 --> 00:16:39,370
more complex<font color="#E5E5E5"> than it actually is that</font>

301
00:16:39,790 --> 00:16:46,219
we've<font color="#CCCCCC"> got basically we're just taking</font>

302
00:16:43,640 --> 00:16:50,600
the zone feeding it the keys and saying

303
00:16:46,220 --> 00:16:52,400
hey go<font color="#E5E5E5"> ahead and do your work one thing</font>

304
00:16:50,600 --> 00:16:54,880
that<font color="#CCCCCC"> we are</font><font color="#E5E5E5"> doing additional here is</font>

305
00:16:52,400 --> 00:16:57,470
we're specifying our random source

306
00:16:54,880 --> 00:16:59,720
pulling off<font color="#CCCCCC"> of dev random depending on</font>

307
00:16:57,470 --> 00:17:02,420
your your system<font color="#E5E5E5"> and how loaded it is</font>

308
00:16:59,720 --> 00:17:04,490
and<font color="#CCCCCC"> how much</font><font color="#E5E5E5"> entropy in that pool that</font>

309
00:17:02,420 --> 00:17:05,839
may go really quick or you may be

310
00:17:04,490 --> 00:17:08,300
sitting<font color="#E5E5E5"> there for days just</font><font color="#CCCCCC"> because it's</font>

311
00:17:05,839 --> 00:17:10,699
<font color="#E5E5E5">not generating a large enough entry pool</font>

312
00:17:08,300 --> 00:17:14,349
you may<font color="#CCCCCC"> have to look at other entropy</font>

313
00:17:10,700 --> 00:17:16,550
sources or use devil you random instead

314
00:17:14,349 --> 00:17:19,909
the<font color="#E5E5E5"> other interesting to note is the</font>

315
00:17:16,550 --> 00:17:25,550
dash<font color="#CCCCCC"> L option which right now</font><font color="#E5E5E5"> we're</font>

316
00:17:19,910 --> 00:17:27,500
pointing d lv is<font color="#E5E5E5"> sea org at that's for</font>

317
00:17:25,550 --> 00:17:29,389
domain<font color="#CCCCCC"> lookaside verification which will</font>

318
00:17:27,500 --> 00:17:32,270
be getting to you shortly it's basically

319
00:17:29,390 --> 00:17:34,640
telling the the signs own command to

320
00:17:32,270 --> 00:17:41,930
output another file that makes<font color="#E5E5E5"> it easy</font>

321
00:17:34,640 --> 00:17:45,500
to hook up<font color="#CCCCCC"> with the dl v this</font><font color="#E5E5E5"> is just</font><font color="#CCCCCC"> a</font>

322
00:17:41,930 --> 00:17:46,640
<font color="#E5E5E5">basic run through on the</font><font color="#CCCCCC"> signs own</font>

323
00:17:45,500 --> 00:17:49,240
command there's a bunch more command

324
00:17:46,640 --> 00:17:52,400
line options you can actually<font color="#E5E5E5"> tell it to</font>

325
00:17:49,240 --> 00:17:55,460
automatically increment the<font color="#E5E5E5"> serial</font>

326
00:17:52,400 --> 00:17:57,350
number each time through such that when

327
00:17:55,460 --> 00:17:59,810
<font color="#CCCCCC">people are editing the the zone file</font>

328
00:17:57,350 --> 00:18:01,280
they know<font color="#E5E5E5"> okay we make the tactical</font>

329
00:17:59,810 --> 00:18:03,919
changes that we're going<font color="#CCCCCC"> to make and</font>

330
00:18:01,280 --> 00:18:07,250
then we run this command which resigns

331
00:18:03,920 --> 00:18:10,690
it and increments<font color="#E5E5E5"> the serial number so</font>

332
00:18:07,250 --> 00:18:12,010
that serial number in the SOA

333
00:18:10,690 --> 00:18:15,940
can be incremented as part of the

334
00:18:12,010 --> 00:18:18,760
automated procedure eliminating one of

335
00:18:15,940 --> 00:18:21,070
the the failings and problems<font color="#CCCCCC"> people run</font>

336
00:18:18,760 --> 00:18:23,410
into<font color="#E5E5E5"> when trying to do rollout changes</font>

337
00:18:21,070 --> 00:18:26,320
within DNS but they forget<font color="#CCCCCC"> to update the</font>

338
00:18:23,410 --> 00:18:32,140
serial and then wonder why none of their

339
00:18:26,320 --> 00:18:34,060
changes are propagating additionally you

340
00:18:32,140 --> 00:18:38,050
can do some fine-tuning of the<font color="#E5E5E5"> dates as</font>

341
00:18:34,060 --> 00:18:41,020
far as when the the records actually<font color="#E5E5E5"> are</font>

342
00:18:38,050 --> 00:18:45,040
thought to have been signed and that<font color="#CCCCCC"> way</font>

343
00:18:41,020 --> 00:18:47,680
no matter for periodic changes you can

344
00:18:45,040 --> 00:18:51,909
basically say when you want that zone

345
00:18:47,680 --> 00:18:53,500
file to appear to be active that<font color="#E5E5E5"> gives</font>

346
00:18:51,910 --> 00:18:54,970
you a<font color="#E5E5E5"> little bit better administrative</font>

347
00:18:53,500 --> 00:18:58,690
control as far as like rolling it out

348
00:18:54,970 --> 00:19:01,750
<font color="#CCCCCC">assigning can actually happen hours</font>

349
00:18:58,690 --> 00:19:04,030
ahead of time and<font color="#CCCCCC"> then still push at at</font>

350
00:19:01,750 --> 00:19:05,740
<font color="#E5E5E5">the appropriate time so there's other</font>

351
00:19:04,030 --> 00:19:07,629
command line options that are not<font color="#E5E5E5"> going</font>

352
00:19:05,740 --> 00:19:10,660
to go into that<font color="#E5E5E5"> give you these sort of</font>

353
00:19:07,630 --> 00:19:13,270
additional controls and flexibility but

354
00:19:10,660 --> 00:19:16,150
<font color="#E5E5E5">as far as just getting it running that's</font>

355
00:19:13,270 --> 00:19:17,830
all the command that you<font color="#E5E5E5"> need as far as</font>

356
00:19:16,150 --> 00:19:19,840
managing entire domain zones as you

357
00:19:17,830 --> 00:19:21,370
start to get into the larger corporate

358
00:19:19,840 --> 00:19:24,570
environment they're a bunch of

359
00:19:21,370 --> 00:19:27,419
automation tools that are out there<font color="#E5E5E5"> that</font>

360
00:19:24,570 --> 00:19:32,460
basically get<font color="#E5E5E5"> you much much better click</font>

361
00:19:27,420 --> 00:19:35,200
and go on on the signing and so forth

362
00:19:32,460 --> 00:19:36,460
<font color="#CCCCCC">I'm not presenting any of those you</font>

363
00:19:35,200 --> 00:19:38,440
should<font color="#E5E5E5"> understand what's kind of going</font>

364
00:19:36,460 --> 00:19:41,520
on behind the scenes a<font color="#CCCCCC"> little bit before</font>

365
00:19:38,440 --> 00:19:43,090
trying to to automate and everybody's

366
00:19:41,520 --> 00:19:45,610
environments going to be a<font color="#E5E5E5"> little bit</font>

367
00:19:43,090 --> 00:19:50,320
different so which tool you pick is is

368
00:19:45,610 --> 00:19:52,780
up to<font color="#E5E5E5"> your environment so now that we've</font>

369
00:19:50,320 --> 00:19:55,389
got the sign zone file we need to

370
00:19:52,780 --> 00:19:56,500
actually get it out into a server but

371
00:19:55,390 --> 00:20:00,850
<font color="#E5E5E5">before we do that we want to make a</font>

372
00:19:56,500 --> 00:20:08,340
<font color="#E5E5E5">couple small changes to the name</font><font color="#CCCCCC"> decom</font>

373
00:20:00,850 --> 00:20:11,250
for the zone and we're just enabling for

374
00:20:08,340 --> 00:20:13,659
since this is<font color="#CCCCCC"> a an authoritative server</font>

375
00:20:11,250 --> 00:20:16,890
we're<font color="#E5E5E5"> just setting up dns second abled</font>

376
00:20:13,660 --> 00:20:22,330
yes<font color="#E5E5E5"> I've gone ahead and turned off</font>

377
00:20:16,890 --> 00:20:23,389
recursion<font color="#E5E5E5"> and restricting the zone</font>

378
00:20:22,330 --> 00:20:26,119
transfers to

379
00:20:23,389 --> 00:20:30,008
just the e the<font color="#CCCCCC"> peers group which I've</font>

380
00:20:26,119 --> 00:20:32,299
listed all of my secondary servers in

381
00:20:30,009 --> 00:20:36,889
this is basically reducing some of the

382
00:20:32,299 --> 00:20:38,989
attack surface of the DNS server that if

383
00:20:36,889 --> 00:20:42,889
you've got something sitting in a DMZ or

384
00:20:38,989 --> 00:20:45,079
internet facing that you're the

385
00:20:42,889 --> 00:20:46,879
authoritative for your zone there's no

386
00:20:45,079 --> 00:20:49,849
reason that you need to be providing

387
00:20:46,879 --> 00:20:53,629
recursive DNS service to everybody on

388
00:20:49,849 --> 00:20:55,189
<font color="#E5E5E5">the</font><font color="#CCCCCC"> Internet so as an authoritative it's</font>

389
00:20:53,629 --> 00:20:58,579
not needed<font color="#E5E5E5"> just go ahead and turn that</font>

390
00:20:55,190 --> 00:21:01,549
off similar with the allow zone

391
00:20:58,579 --> 00:21:05,059
transfers some people make the argument

392
00:21:01,549 --> 00:21:08,629
that they want to turn down zone

393
00:21:05,059 --> 00:21:11,899
transfers to everyone to so<font color="#CCCCCC"> that people</font>

394
00:21:08,629 --> 00:21:13,939
don't see what hosts they've gotten

395
00:21:11,899 --> 00:21:18,908
their zone on in my<font color="#CCCCCC"> personal opinion</font>

396
00:21:13,940 --> 00:21:21,739
that's security through obscurity that

397
00:21:18,909 --> 00:21:24,079
instead<font color="#E5E5E5"> I disallow zone transfers to</font>

398
00:21:21,739 --> 00:21:26,899
anybody but my peers to reduce the

399
00:21:24,079 --> 00:21:30,139
attack surface that if an individual

400
00:21:26,899 --> 00:21:31,668
client attempts<font color="#CCCCCC"> to run pull</font><font color="#E5E5E5"> that part of</font>

401
00:21:30,139 --> 00:21:35,208
the protocol and as gets rejected by

402
00:21:31,669 --> 00:21:38,269
<font color="#CCCCCC">this that's one less area of code that</font>

403
00:21:35,209 --> 00:21:41,779
can have a bug that we exploited if a

404
00:21:38,269 --> 00:21:44,809
zone transfer code path has an exploit

405
00:21:41,779 --> 00:21:48,289
I'm more limited more<font color="#E5E5E5"> likely limited to</font>

406
00:21:44,809 --> 00:21:55,820
just one of my secondaries attacking me

407
00:21:48,289 --> 00:21:57,649
instead of the<font color="#E5E5E5"> entire</font><font color="#CCCCCC"> Internet so now</font>

408
00:21:55,820 --> 00:22:01,039
that<font color="#CCCCCC"> I've done that</font><font color="#E5E5E5"> I'm going to go</font>

409
00:21:57,649 --> 00:22:01,939
<font color="#CCCCCC">ahead and</font><font color="#E5E5E5"> copy my sign zone file into</font>

410
00:22:01,039 --> 00:22:05,809
place I'm not going to worry about

411
00:22:01,940 --> 00:22:08,570
deleting the old one the DNS SEC signing

412
00:22:05,809 --> 00:22:11,049
command actually emits<font color="#E5E5E5"> the zone file</font>

413
00:22:08,570 --> 00:22:13,189
with a dot signed extension to

414
00:22:11,049 --> 00:22:17,559
differentiate it from everything<font color="#E5E5E5"> else i</font>

415
00:22:13,190 --> 00:22:20,450
am just inside my name decomp going to

416
00:22:17,559 --> 00:22:23,149
change the<font color="#CCCCCC"> name of</font><font color="#E5E5E5"> the file internally</font>

417
00:22:20,450 --> 00:22:24,709
so anybody looking at the config file

418
00:22:23,149 --> 00:22:26,439
knows that hey there's something<font color="#E5E5E5"> a</font>

419
00:22:24,709 --> 00:22:30,079
little<font color="#E5E5E5"> bit different about this zone and</font>

420
00:22:26,440 --> 00:22:32,630
at that<font color="#E5E5E5"> point restart reload binds</font>

421
00:22:30,079 --> 00:22:35,750
either restarting the the DNA

422
00:22:32,630 --> 00:22:40,910
or using the the commands to tell it

423
00:22:35,750 --> 00:22:44,890
internally to reset and reload so now

424
00:22:40,910 --> 00:22:48,410
we've got a demon out there who<font color="#CCCCCC"> is</font>

425
00:22:44,890 --> 00:22:50,690
serving up on a zone with these

426
00:22:48,410 --> 00:22:52,700
additional records result DNS SEC is

427
00:22:50,690 --> 00:22:54,800
like I said earlier is a bunch of

428
00:22:52,700 --> 00:22:59,090
additional records that are associated

429
00:22:54,800 --> 00:23:01,310
<font color="#E5E5E5">with the with the zone we can check to</font>

430
00:22:59,090 --> 00:23:04,070
<font color="#CCCCCC">see that the everything went happy with</font>

431
00:23:01,310 --> 00:23:05,720
the demon on startup we can look go

432
00:23:04,070 --> 00:23:08,510
ahead and look<font color="#CCCCCC"> at the logs and if you</font>

433
00:23:05,720 --> 00:23:11,000
notice that worst<font color="#CCCCCC"> calm it went ahead and</font>

434
00:23:08,510 --> 00:23:13,340
loaded that cereal and there's an

435
00:23:11,000 --> 00:23:16,360
indication<font color="#E5E5E5"> that it realized that it was</font>

436
00:23:13,340 --> 00:23:18,889
assigned a domain the signs down sorry

437
00:23:16,360 --> 00:23:21,709
the line above it oh no son dicom

438
00:23:18,890 --> 00:23:24,550
clearly doesn't have the sign on<font color="#CCCCCC"> the end</font>

439
00:23:21,710 --> 00:23:29,140
it wasn't a sign zone the server

440
00:23:24,550 --> 00:23:32,600
recognizes it then we'll go ahead and

441
00:23:29,140 --> 00:23:36,560
check the information that<font color="#E5E5E5"> the server is</font>

442
00:23:32,600 --> 00:23:39,139
handing out itself just run dig the

443
00:23:36,560 --> 00:23:42,020
local server and pull up the SOA record

444
00:23:39,140 --> 00:23:44,240
of the domain and you can see that after

445
00:23:42,020 --> 00:23:46,190
<font color="#CCCCCC">the SOA line sorry about the sort</font><font color="#E5E5E5"> of the</font>

446
00:23:44,240 --> 00:23:48,200
line breaks if<font color="#E5E5E5"> we for me to try to get</font>

447
00:23:46,190 --> 00:23:53,090
it all on one line you wouldn't be able

448
00:23:48,200 --> 00:23:56,060
to read<font color="#CCCCCC"> it so you can see that there in</font>

449
00:23:53,090 --> 00:23:59,389
the answer section there's an SOA record

450
00:23:56,060 --> 00:24:03,850
and there's also this<font color="#CCCCCC"> are our</font><font color="#E5E5E5"> sig record</font>

451
00:23:59,390 --> 00:24:08,390
and that's basically<font color="#E5E5E5"> the signature on</font>

452
00:24:03,850 --> 00:24:10,310
the SOA so we can<font color="#E5E5E5"> see that the server</font>

453
00:24:08,390 --> 00:24:13,460
itself is handing out this information

454
00:24:10,310 --> 00:24:15,110
<font color="#CCCCCC">when it's asked and the server itself</font>

455
00:24:13,460 --> 00:24:20,030
appears to be in good shape at this

456
00:24:15,110 --> 00:24:21,679
point so we're<font color="#E5E5E5"> done right almost</font><font color="#CCCCCC"> I</font>

457
00:24:20,030 --> 00:24:24,290
mentioned earlier that there's this

458
00:24:21,680 --> 00:24:28,130
chain that needs to be followed we've

459
00:24:24,290 --> 00:24:30,320
got a link but we've got this isolated

460
00:24:28,130 --> 00:24:33,890
single link it's a<font color="#E5E5E5"> little loop of metal</font>

461
00:24:30,320 --> 00:24:36,290
and it's about<font color="#E5E5E5"> as useful as any other</font>

462
00:24:33,890 --> 00:24:38,870
little loop of metal usually as a napkin

463
00:24:36,290 --> 00:24:44,270
<font color="#E5E5E5">rank in order for it to actually be</font><font color="#CCCCCC"> of</font>

464
00:24:38,870 --> 00:24:45,500
use we need to hook it into the chain so

465
00:24:44,270 --> 00:24:48,800
there's two basically<font color="#E5E5E5"> two ways</font>

466
00:24:45,500 --> 00:24:53,000
<font color="#CCCCCC">is</font><font color="#E5E5E5"> at this point of hooking it into the</font>

467
00:24:48,800 --> 00:24:57,470
trust chain we can use DS record and

468
00:24:53,000 --> 00:25:00,710
chain from our immediate parent<font color="#CCCCCC"> and in</font>

469
00:24:57,470 --> 00:25:04,670
the<font color="#E5E5E5"> case of my domain horse</font><font color="#CCCCCC"> calm I would</font>

470
00:25:00,710 --> 00:25:09,110
basically get this<font color="#CCCCCC"> D s record in calm</font>

471
00:25:04,670 --> 00:25:11,980
and assuming that calm is fully signed

472
00:25:09,110 --> 00:25:15,850
which then assumes dot is fully signed

473
00:25:11,980 --> 00:25:19,730
it should all just work unfortunately

474
00:25:15,850 --> 00:25:21,889
<font color="#E5E5E5">dot isn't signed and calm isn't quite</font>

475
00:25:19,730 --> 00:25:26,540
signed yet so that's<font color="#E5E5E5"> not going to</font>

476
00:25:21,890 --> 00:25:30,410
<font color="#CCCCCC">immediately work for us but if I had a</font>

477
00:25:26,540 --> 00:25:33,830
subdomain of of worst that was signed

478
00:25:30,410 --> 00:25:38,000
what I would be doing is putting the d/s

479
00:25:33,830 --> 00:25:41,030
record in worst such that food worse

480
00:25:38,000 --> 00:25:44,660
<font color="#E5E5E5">coms that sub domain and all the records</font>

481
00:25:41,030 --> 00:25:46,760
underneath that had that chain this<font color="#E5E5E5"> is</font>

482
00:25:44,660 --> 00:25:49,850
really the way it should work because it

483
00:25:46,760 --> 00:25:52,820
is using the existing trust

484
00:25:49,850 --> 00:25:56,659
relationships that already are natively

485
00:25:52,820 --> 00:25:59,929
in the in DNS that the parent zone

486
00:25:56,660 --> 00:26:02,950
already<font color="#CCCCCC"> has an NS record pointing down</font>

487
00:25:59,930 --> 00:26:05,690
to you for<font color="#E5E5E5"> your portion of the zone and</font>

488
00:26:02,950 --> 00:26:08,240
you've got some relationship existing

489
00:26:05,690 --> 00:26:11,060
there they would<font color="#CCCCCC"> just instead</font><font color="#E5E5E5"> of having</font>

490
00:26:08,240 --> 00:26:13,580
just a NS record that have the NS record

491
00:26:11,060 --> 00:26:15,470
and the d/s record pretty

492
00:26:13,580 --> 00:26:17,360
<font color="#E5E5E5">straightforward you're leveraging off of</font>

493
00:26:15,470 --> 00:26:21,710
what's already there except<font color="#E5E5E5"> that we're</font>

494
00:26:17,360 --> 00:26:28,929
<font color="#E5E5E5">not</font><font color="#CCCCCC"> there yet so we've got to implement</font>

495
00:26:21,710 --> 00:26:35,300
a kludge domain lookaside verification

496
00:26:28,930 --> 00:26:38,240
so rather<font color="#CCCCCC"> than just assuming that our</font>

497
00:26:35,300 --> 00:26:44,330
trust anchor goes straight up<font color="#E5E5E5"> the the</font>

498
00:26:38,240 --> 00:26:47,770
path we're<font color="#E5E5E5"> going to delegate out on that</font>

499
00:26:44,330 --> 00:26:55,850
chain off to an entirely different

500
00:26:47,770 --> 00:26:57,480
domain in this case we're using is<font color="#CCCCCC"> CS d</font>

501
00:26:55,850 --> 00:26:59,219
lv

502
00:26:57,480 --> 00:27:03,510
and what we're<font color="#CCCCCC"> going</font><font color="#E5E5E5"> to end up doing</font><font color="#CCCCCC"> is</font>

503
00:26:59,220 --> 00:27:07,890
we're going<font color="#E5E5E5"> to have is</font><font color="#CCCCCC"> C as part of</font>

504
00:27:03,510 --> 00:27:13,620
their d lv zone have a<font color="#E5E5E5"> record that says</font>

505
00:27:07,890 --> 00:27:16,770
oh yeah i know about<font color="#E5E5E5"> worst calm um here</font>

506
00:27:13,620 --> 00:27:20,129
is a reference to his keying information

507
00:27:16,770 --> 00:27:22,889
and we've signed it at<font color="#CCCCCC"> our level saying</font>

508
00:27:20,130 --> 00:27:27,900
that it's that it's golden thereby

509
00:27:22,890 --> 00:27:29,220
establishing that chain the dns<font color="#E5E5E5"> x sine</font>

510
00:27:27,900 --> 00:27:31,770
get zone command earlier I mentioned

511
00:27:29,220 --> 00:27:34,860
those that dash<font color="#E5E5E5"> L option to generate</font>

512
00:27:31,770 --> 00:27:39,139
that d lv set we're<font color="#E5E5E5"> going to take that</font>

513
00:27:34,860 --> 00:27:46,290
and we're going to submit that to our

514
00:27:39,140 --> 00:27:49,830
glv vendor now that<font color="#CCCCCC"> d LVL vendor doesn't</font>

515
00:27:46,290 --> 00:27:51,510
know who<font color="#CCCCCC"> we are our parent does but this</font>

516
00:27:49,830 --> 00:27:54,210
d lv vendor just knows<font color="#CCCCCC"> that we're</font><font color="#E5E5E5"> just</font>

517
00:27:51,510 --> 00:27:56,580
some random email address sitting out<font color="#E5E5E5"> on</font>

518
00:27:54,210 --> 00:27:59,669
the the net somewhere who is<font color="#E5E5E5"> attempted</font>

519
00:27:56,580 --> 00:28:03,480
to email them some file or we've gone in

520
00:27:59,669 --> 00:28:06,120
through<font color="#E5E5E5"> is CS web interface and it knows</font>

521
00:28:03,480 --> 00:28:08,220
that<font color="#CCCCCC"> okay the account works because it</font>

522
00:28:06,120 --> 00:28:11,309
<font color="#E5E5E5">was able to send email back to that</font>

523
00:28:08,220 --> 00:28:15,600
account but it<font color="#CCCCCC"> really doesn't have any</font>

524
00:28:11,309 --> 00:28:17,100
way<font color="#E5E5E5"> to associate your email address with</font>

525
00:28:15,600 --> 00:28:21,689
the<font color="#E5E5E5"> fact that you've got control over</font>

526
00:28:17,100 --> 00:28:26,939
that domain so what<font color="#E5E5E5"> is C has</font><font color="#CCCCCC"> been doing</font>

527
00:28:21,690 --> 00:28:31,700
is they've asked one to insert<font color="#CCCCCC"> a record</font>

528
00:28:26,940 --> 00:28:35,070
of their choosing into your domain that

529
00:28:31,700 --> 00:28:38,309
when<font color="#E5E5E5"> I sent email off to to ISC saying</font>

530
00:28:35,070 --> 00:28:41,189
hey here's my d lv set<font color="#CCCCCC"> i want to be part</font>

531
00:28:38,309 --> 00:28:43,139
of the<font color="#E5E5E5"> family they sent me</font><font color="#CCCCCC"> back a an</font>

532
00:28:41,190 --> 00:28:49,290
email bright<font color="#E5E5E5"> and early the next morning</font>

533
00:28:43,140 --> 00:28:53,669
actually before 8am that<font color="#CCCCCC"> okay that's</font>

534
00:28:49,290 --> 00:28:57,720
nice we need you<font color="#CCCCCC"> to show that you are</font>

535
00:28:53,669 --> 00:29:00,660
<font color="#E5E5E5">who who you think you say you are and go</font>

536
00:28:57,720 --> 00:29:04,919
ahead<font color="#CCCCCC"> and add the the</font><font color="#E5E5E5"> following record</font>

537
00:29:00,660 --> 00:29:08,640
with this random nonce into your ear

538
00:29:04,919 --> 00:29:10,860
name server into that zone file have it

539
00:29:08,640 --> 00:29:14,490
published so we can<font color="#E5E5E5"> verify that you</font>

540
00:29:10,860 --> 00:29:18,600
have control over the domain so<font color="#E5E5E5"> I went</font>

541
00:29:14,490 --> 00:29:21,480
ahead added added that record in sent

542
00:29:18,600 --> 00:29:25,740
the email back saying<font color="#CCCCCC"> okay it's there</font>

543
00:29:21,480 --> 00:29:28,950
it's live at which point they turned

544
00:29:25,740 --> 00:29:32,070
around they verified it and they added

545
00:29:28,950 --> 00:29:37,340
worse<font color="#CCCCCC"> com into their d lv set up this</font>

546
00:29:32,070 --> 00:29:37,340
was done around 10am that same morning

547
00:29:38,120 --> 00:29:44,010
the start to finish time would have<font color="#E5E5E5"> been</font>

548
00:29:40,950 --> 00:29:46,530
<font color="#CCCCCC">a</font><font color="#E5E5E5"> lot</font><font color="#CCCCCC"> sooner had i not sent the initial</font>

549
00:29:44,010 --> 00:29:49,049
submission at 1am but closer to<font color="#E5E5E5"> the</font>

550
00:29:46,530 --> 00:29:51,928
start of<font color="#E5E5E5"> their</font><font color="#CCCCCC"> business hours but from</font>

551
00:29:49,049 --> 00:29:56,668
their first email to me saying hey we've

552
00:29:51,929 --> 00:29:59,970
received<font color="#E5E5E5"> your request to it working was</font>

553
00:29:56,669 --> 00:30:01,200
<font color="#E5E5E5">about two hours this is actually bit</font>

554
00:29:59,970 --> 00:30:02,730
faster now that they've<font color="#E5E5E5"> got a web</font>

555
00:30:01,200 --> 00:30:10,230
interface to handle the whole thing<font color="#E5E5E5"> and</font>

556
00:30:02,730 --> 00:30:17,480
there's less humans in the loop you can

557
00:30:10,230 --> 00:30:20,130
hit<font color="#E5E5E5"> that site at https d lv is an org so</font>

558
00:30:17,480 --> 00:30:22,080
one of the things<font color="#E5E5E5"> that</font><font color="#CCCCCC"> i mentioned is</font>

559
00:30:20,130 --> 00:30:23,280
that there's periodic actions that

560
00:30:22,080 --> 00:30:28,080
you're going<font color="#E5E5E5"> to need to</font><font color="#CCCCCC"> take</font><font color="#E5E5E5"> even as an</font>

561
00:30:23,280 --> 00:30:30,120
authoritative server that<font color="#CCCCCC"> we all know</font>

562
00:30:28,080 --> 00:30:31,500
about yeah you<font color="#E5E5E5"> need</font><font color="#CCCCCC"> to keep in uri otic</font>

563
00:30:30,120 --> 00:30:35,370
lee make changes to<font color="#E5E5E5"> your zone file</font>

564
00:30:31,500 --> 00:30:38,220
itself but one of the other things that

565
00:30:35,370 --> 00:30:43,620
<font color="#E5E5E5">you need to pay attention to is key</font>

566
00:30:38,220 --> 00:30:47,400
rotations and general signing DNS SEC

567
00:30:43,620 --> 00:30:48,959
requires that you pay much more

568
00:30:47,400 --> 00:30:53,390
attention to what's going<font color="#E5E5E5"> on with your</font>

569
00:30:48,960 --> 00:30:56,400
<font color="#E5E5E5">DNS setup than before previously it was</font>

570
00:30:53,390 --> 00:30:59,610
fire and<font color="#CCCCCC"> forget and you just kind of sit</font>

571
00:30:56,400 --> 00:31:02,870
back and when mail stops flowing in

572
00:30:59,610 --> 00:31:06,449
that's one of the things you check in

573
00:31:02,870 --> 00:31:09,469
the past I have gone greater<font color="#CCCCCC"> than two</font>

574
00:31:06,450 --> 00:31:13,080
years without looking at my dns server

575
00:31:09,470 --> 00:31:19,410
DNS SEC requires that I poke it once a

576
00:31:13,080 --> 00:31:23,100
month because you're signing has a

577
00:31:19,410 --> 00:31:24,809
30-day lifetime you've got some slop the

578
00:31:23,100 --> 00:31:28,498
the start in<font color="#E5E5E5"> the back</font>

579
00:31:24,809 --> 00:31:33,539
but the infrastructure knows when that

580
00:31:28,499 --> 00:31:36,389
zone was signed and validation starts

581
00:31:33,539 --> 00:31:41,279
ignoring things after 30 days from when

582
00:31:36,389 --> 00:31:45,870
it was signed so that's why you've<font color="#CCCCCC"> got</font>

583
00:31:41,279 --> 00:31:49,429
to re-sign periodically and additionally

584
00:31:45,870 --> 00:31:52,889
that fits in with the key rotation so

585
00:31:49,429 --> 00:31:55,200
basically you know once a month you're

586
00:31:52,889 --> 00:31:58,229
going<font color="#E5E5E5"> to poke at it and that's with</font>

587
00:31:55,200 --> 00:32:00,059
making no changes to the zone file

588
00:31:58,230 --> 00:32:02,700
itself now if you make changes to<font color="#E5E5E5"> the</font>

589
00:32:00,059 --> 00:32:04,950
zone file<font color="#E5E5E5"> Andrey sign that actually does</font>

590
00:32:02,700 --> 00:32:06,480
reset that 30-day clock but you<font color="#E5E5E5"> still</font>

591
00:32:04,950 --> 00:32:09,929
want<font color="#E5E5E5"> to make sure</font><font color="#CCCCCC"> that on your</font>

592
00:32:06,480 --> 00:32:15,389
<font color="#E5E5E5">three-month boundaries you you</font>

593
00:32:09,929 --> 00:32:16,679
regenerate your zone signing key the

594
00:32:15,389 --> 00:32:19,498
keys themselves have actually no

595
00:32:16,679 --> 00:32:23,100
built-in expiration it required it

596
00:32:19,499 --> 00:32:27,539
relies on that that trust chain being

597
00:32:23,100 --> 00:32:29,610
verified at look up so the rotations of

598
00:32:27,539 --> 00:32:33,860
the end regeneration of your<font color="#E5E5E5"> key</font>

599
00:32:29,610 --> 00:32:33,860
<font color="#E5E5E5">material is important from that regard</font>

600
00:32:34,549 --> 00:32:41,070
<font color="#E5E5E5">so we're going to take a step over to</font>

601
00:32:37,529 --> 00:32:44,249
the other side and and talk a little bit

602
00:32:41,070 --> 00:32:49,590
about your<font color="#E5E5E5"> cache of cashing in your</font>

603
00:32:44,249 --> 00:32:52,169
recursive resolvers this is almost<font color="#E5E5E5"> rhyme</font>

604
00:32:49,590 --> 00:32:55,799
time really the strong use I feel at

605
00:32:52,169 --> 00:32:59,399
<font color="#CCCCCC">this point is periodically checking the</font>

606
00:32:55,799 --> 00:33:01,200
logs and see what percentage of your

607
00:32:59,399 --> 00:33:04,758
<font color="#E5E5E5">domains action that you've been looking</font>

608
00:33:01,200 --> 00:33:08,009
<font color="#E5E5E5">up actually have dns second abled</font>

609
00:33:04,759 --> 00:33:10,070
because there's a bit of<font color="#CCCCCC"> a</font><font color="#E5E5E5"> chicken</font><font color="#CCCCCC"> and</font>

610
00:33:08,009 --> 00:33:13,230
<font color="#E5E5E5">egg problem with the whole thing that</font>

611
00:33:10,070 --> 00:33:17,009
people aren't building and pushing out

612
00:33:13,230 --> 00:33:20,249
DNS SEC authoritative why bother

613
00:33:17,009 --> 00:33:22,789
nobody's checking nobody's bothering to

614
00:33:20,249 --> 00:33:27,960
checking because paint nobody's actually

615
00:33:22,789 --> 00:33:30,059
putting out pushing out DNS SEC so this

616
00:33:27,960 --> 00:33:31,529
<font color="#E5E5E5">is of a less importance than in getting</font>

617
00:33:30,059 --> 00:33:36,629
an authoritative<font color="#E5E5E5"> set up in my</font><font color="#CCCCCC"> opinion</font>

618
00:33:31,529 --> 00:33:37,830
that<font color="#E5E5E5"> if every one of you</font><font color="#CCCCCC"> went out in and</font>

619
00:33:36,629 --> 00:33:40,500
pushed for your

620
00:33:37,830 --> 00:33:45,000
domain and your company's domain to set

621
00:33:40,500 --> 00:33:46,890
up DNS SEC on the authoritative and none

622
00:33:45,000 --> 00:33:50,429
<font color="#CCCCCC">of you did anything in the caching</font>

623
00:33:46,890 --> 00:33:51,779
recursive I'd be fine with that because

624
00:33:50,429 --> 00:33:55,740
it's<font color="#E5E5E5"> getting that first step in getting</font>

625
00:33:51,779 --> 00:33:57,419
the authoritative out there first that

626
00:33:55,740 --> 00:34:00,210
said the recursive<font color="#CCCCCC"> setup is actually a</font>

627
00:33:57,419 --> 00:34:03,450
relatively simple we're<font color="#E5E5E5"> going to make</font>

628
00:34:00,210 --> 00:34:07,110
<font color="#E5E5E5">some changes in name</font><font color="#CCCCCC"> decom for the the</font>

629
00:34:03,450 --> 00:34:11,310
dl v we need to add a trusted keys field

630
00:34:07,110 --> 00:34:15,690
for the top<font color="#CCCCCC"> of our trust anchor for the</font>

631
00:34:11,310 --> 00:34:19,139
dl v so in this case i'm adding d lv is

632
00:34:15,690 --> 00:34:22,580
sea org<font color="#CCCCCC"> and we can actually</font><font color="#E5E5E5"> have</font>

633
00:34:19,139 --> 00:34:29,099
multiple trust anchors so it's<font color="#E5E5E5"> not just</font>

634
00:34:22,580 --> 00:34:32,819
just the<font color="#E5E5E5"> one and there is this trusted</font>

635
00:34:29,099 --> 00:34:36,109
keys some<font color="#E5E5E5"> additional algorithm bits</font>

636
00:34:32,820 --> 00:34:39,919
there and what would<font color="#CCCCCC"> be a very very</font><font color="#E5E5E5"> long</font>

637
00:34:36,109 --> 00:34:41,520
block of encoded data which i have

638
00:34:39,918 --> 00:34:45,949
abbreviated down to just a few

639
00:34:41,520 --> 00:34:48,270
characters differing then the

640
00:34:45,949 --> 00:34:51,089
authoritative we've got not<font color="#CCCCCC"> just DNS SEC</font>

641
00:34:48,270 --> 00:34:54,629
enabled yes but we've got telling it hey

642
00:34:51,089 --> 00:34:57,770
go ahead and do the validation and we've

643
00:34:54,629 --> 00:35:04,710
pointed and<font color="#CCCCCC"> said hey the</font><font color="#E5E5E5"> DNS look aside</font>

644
00:34:57,770 --> 00:35:07,349
here's our trust anchor aside from

645
00:35:04,710 --> 00:35:11,609
having a trust anchors off to the side

646
00:35:07,349 --> 00:35:15,599
it's possible<font color="#CCCCCC"> to pull in trust anchors</font>

647
00:35:11,609 --> 00:35:19,529
for<font color="#CCCCCC"> tlds that are</font><font color="#E5E5E5"> already part of</font><font color="#CCCCCC"> the</font>

648
00:35:15,599 --> 00:35:25,080
game this is<font color="#E5E5E5"> necessary until we actually</font>

649
00:35:19,530 --> 00:35:27,480
get dot signed at which point both of

650
00:35:25,080 --> 00:35:29,369
these schemes largely go away you rely

651
00:35:27,480 --> 00:35:31,140
on dot being signed and having a nice

652
00:35:29,369 --> 00:35:35,640
clean trust anchor all the way from the

653
00:35:31,140 --> 00:35:40,830
<font color="#CCCCCC">top this is sort of a hack around it you</font>

654
00:35:35,640 --> 00:35:45,480
can pull down a list of trust anchors

655
00:35:40,830 --> 00:35:48,630
for top level domains like BR from there

656
00:35:45,480 --> 00:35:51,559
on down and currently<font color="#E5E5E5"> it's distributed</font>

657
00:35:48,630 --> 00:35:57,109
as XML but they

658
00:35:51,559 --> 00:35:59,439
our instructions at https<font color="#CCCCCC"> ITAR iono org</font>

659
00:35:57,109 --> 00:36:04,459
instructions for converting it into a

660
00:35:59,439 --> 00:36:09,890
mechanism<font color="#CCCCCC"> that bind can just include</font>

661
00:36:04,459 --> 00:36:11,390
rather than actually having to suck it

662
00:36:09,890 --> 00:36:13,189
<font color="#E5E5E5">into your name decomp you can have it</font>

663
00:36:11,390 --> 00:36:15,259
sitting on on<font color="#E5E5E5"> it's an independent file</font>

664
00:36:13,189 --> 00:36:17,299
and that makes<font color="#E5E5E5"> it much easier to update</font>

665
00:36:15,259 --> 00:36:21,319
when these<font color="#CCCCCC"> things change when they do</font>

666
00:36:17,299 --> 00:36:26,269
<font color="#CCCCCC">key rotations when new people join in to</font>

667
00:36:21,319 --> 00:36:29,749
the day<font color="#CCCCCC"> party so for your recursive</font>

668
00:36:26,269 --> 00:36:33,379
there's a couple of<font color="#CCCCCC"> things</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> you need</font>

669
00:36:29,749 --> 00:36:35,509
<font color="#E5E5E5">to do on a on a regular basis you keep</font>

670
00:36:33,380 --> 00:36:37,549
your trust anchors updated you've got

671
00:36:35,509 --> 00:36:39,410
the d lv that needs to be kept updated

672
00:36:37,549 --> 00:36:43,538
you've got the<font color="#CCCCCC"> ITAR that needs to be</font>

673
00:36:39,410 --> 00:36:45,859
updated most of these things are

674
00:36:43,539 --> 00:36:48,170
announced ahead of<font color="#E5E5E5"> time that hey things</font>

675
00:36:45,859 --> 00:36:50,420
are changing via mailing lists there are

676
00:36:48,170 --> 00:36:53,269
mechanisms for doing automated updates

677
00:36:50,420 --> 00:36:55,400
if you're comfortable<font color="#CCCCCC"> with letting these</font>

678
00:36:53,269 --> 00:36:57,939
things run<font color="#CCCCCC"> in the background with</font>

679
00:36:55,400 --> 00:37:01,999
without you hand<font color="#E5E5E5"> holding it entirely and</font>

680
00:36:57,939 --> 00:37:03,920
watching it with an<font color="#E5E5E5"> eagle eye a lot of</font>

681
00:37:01,999 --> 00:37:07,968
more background information<font color="#E5E5E5"> on this can</font>

682
00:37:03,920 --> 00:37:08,900
be found in RFC 50 11 the other thing

683
00:37:07,969 --> 00:37:12,319
you<font color="#E5E5E5"> may want</font><font color="#CCCCCC"> to do if you're actually</font>

684
00:37:08,900 --> 00:37:15,079
running a recursive server is check the

685
00:37:12,319 --> 00:37:17,479
stats in the log files to see what's

686
00:37:15,079 --> 00:37:20,269
getting verified what's not being

687
00:37:17,479 --> 00:37:23,989
verified what thinks it's running DNS

688
00:37:20,269 --> 00:37:26,448
SEC but<font color="#E5E5E5"> is not properly set up that's</font>

689
00:37:23,989 --> 00:37:29,089
kind of interesting information to to

690
00:37:26,449 --> 00:37:31,880
look at just to get a feel for what's

691
00:37:29,089 --> 00:37:33,979
going on<font color="#E5E5E5"> in the</font><font color="#CCCCCC"> world and what you're</font>

692
00:37:31,880 --> 00:37:40,969
relying on what you think<font color="#CCCCCC"> you're relying</font>

693
00:37:33,979 --> 00:37:43,129
on for your own network access so we're

694
00:37:40,969 --> 00:37:44,959
<font color="#E5E5E5">going to take a peek underneath the hood</font>

695
00:37:43,130 --> 00:37:49,699
and<font color="#E5E5E5"> look at some more of the details of</font>

696
00:37:44,959 --> 00:37:51,678
the individual resource records just so

697
00:37:49,699 --> 00:37:53,239
you've got<font color="#E5E5E5"> to feel for what's going on</font>

698
00:37:51,679 --> 00:37:58,059
if you actually see them you go hey I

699
00:37:53,239 --> 00:38:01,130
know<font color="#E5E5E5"> that that's DNS SEC so DNS key</font><font color="#CCCCCC"> um</font>

700
00:37:58,059 --> 00:38:05,199
this<font color="#E5E5E5"> record is for both your zone</font>

701
00:38:01,130 --> 00:38:05,199
signing key and your key signing key

702
00:38:05,570 --> 00:38:13,320
you've got the the<font color="#CCCCCC"> top-level TTL I mdns</font>

703
00:38:09,810 --> 00:38:18,200
key you've got a<font color="#CCCCCC"> flags field which will</font>

704
00:38:13,320 --> 00:38:21,510
<font color="#CCCCCC">be of one of three values 257 256 or 0</font>

705
00:38:18,200 --> 00:38:24,779
the 257<font color="#CCCCCC"> versus 256 indicates whether</font>

706
00:38:21,510 --> 00:38:29,130
it's a key signing key or a zone signing

707
00:38:24,780 --> 00:38:30,930
key any other value is invalid 0

708
00:38:29,130 --> 00:38:33,420
basically means<font color="#E5E5E5"> that your validation</font>

709
00:38:30,930 --> 00:38:36,589
that mechanisms ignore that that that is

710
00:38:33,420 --> 00:38:38,970
something<font color="#E5E5E5"> else for some other purpose</font>

711
00:38:36,590 --> 00:38:42,180
yeah it's there<font color="#E5E5E5"> just don't</font><font color="#CCCCCC"> really touch</font>

712
00:38:38,970 --> 00:38:44,759
it again I've abbreviated the huge block

713
00:38:42,180 --> 00:38:49,859
of of encoding that would normally be

714
00:38:44,760 --> 00:38:54,240
<font color="#E5E5E5">there are our sig this is sort of the</font>

715
00:38:49,860 --> 00:38:57,360
the<font color="#E5E5E5"> crux of DNS SEC that for any</font>

716
00:38:54,240 --> 00:39:00,060
resource record that is in the zone file

717
00:38:57,360 --> 00:39:03,150
there's an accompanying are our sig

718
00:39:00,060 --> 00:39:05,970
record that is the signature for that

719
00:39:03,150 --> 00:39:08,100
record this<font color="#E5E5E5"> is what gets handed out at</font>

720
00:39:05,970 --> 00:39:10,169
the same time as<font color="#CCCCCC"> the</font><font color="#E5E5E5"> requested record</font>

721
00:39:08,100 --> 00:39:14,940
and it allows<font color="#CCCCCC"> people to to</font><font color="#E5E5E5"> actually do</font>

722
00:39:10,170 --> 00:39:16,170
the<font color="#E5E5E5"> verification there's some</font>

723
00:39:14,940 --> 00:39:22,020
interesting<font color="#E5E5E5"> information in here</font>

724
00:39:16,170 --> 00:39:27,330
including<font color="#E5E5E5"> pointing out start and end</font>

725
00:39:22,020 --> 00:39:31,350
times and the the parent<font color="#E5E5E5"> of the record</font>

726
00:39:27,330 --> 00:39:34,680
that you're you're<font color="#CCCCCC"> looking up look this</font>

727
00:39:31,350 --> 00:39:39,210
<font color="#CCCCCC">next one is on kind</font><font color="#E5E5E5"> of interesting the N</font>

728
00:39:34,680 --> 00:39:44,640
SEC record this is used to authoritative

729
00:39:39,210 --> 00:39:47,990
<font color="#E5E5E5">ly say that something is not within DNS</font>

730
00:39:44,640 --> 00:39:52,910
SEC underneath an otherwise signed zone

731
00:39:47,990 --> 00:39:52,910
it's basically proving non-existence

732
00:39:53,660 --> 00:40:02,009
again with an<font color="#E5E5E5"> example let's say I looked</font>

733
00:39:57,540 --> 00:40:04,830
up google com through this d lv so

734
00:40:02,010 --> 00:40:08,160
within dig the<font color="#CCCCCC"> question</font><font color="#E5E5E5"> section says hey</font>

735
00:40:04,830 --> 00:40:12,500
i'm looking up google com<font color="#CCCCCC"> dl v i select</font>

736
00:40:08,160 --> 00:40:16,799
org<font color="#E5E5E5"> i definitely want that n</font><font color="#CCCCCC"> sec record</font>

737
00:40:12,500 --> 00:40:18,030
for the domain<font color="#E5E5E5"> and basically there's no</font>

738
00:40:16,800 --> 00:40:19,440
answer section that's going to come

739
00:40:18,030 --> 00:40:21,000
back in the response but in the

740
00:40:19,440 --> 00:40:27,530
authority section we're going to see

741
00:40:21,000 --> 00:40:29,820
this fairly interesting record we see a

742
00:40:27,530 --> 00:40:33,750
really what appears to be a random

743
00:40:29,820 --> 00:40:38,370
domain German family com dl<font color="#E5E5E5"> VI su org</font>

744
00:40:33,750 --> 00:40:41,430
and we see that it's an N SEC record and

745
00:40:38,370 --> 00:40:46,710
<font color="#E5E5E5">then the net with the data load of green</font>

746
00:40:41,430 --> 00:40:48,990
peas com dl vis sea org and then

747
00:40:46,710 --> 00:40:51,630
<font color="#E5E5E5">whatever and an additional record types</font>

748
00:40:48,990 --> 00:40:53,790
that are available for it the

749
00:40:51,630 --> 00:40:57,830
interesting thing to note on this<font color="#E5E5E5"> and</font>

750
00:40:53,790 --> 00:41:01,140
the key<font color="#CCCCCC"> takeaway is that google com</font>

751
00:40:57,830 --> 00:41:04,560
lexically sorts in between German family

752
00:41:01,140 --> 00:41:08,930
calm and green peas calm what<font color="#E5E5E5"> this</font>

753
00:41:04,560 --> 00:41:14,370
record is saying is<font color="#E5E5E5"> that particular zone</font>

754
00:41:08,930 --> 00:41:17,220
has authoritative and in a record for

755
00:41:14,370 --> 00:41:18,810
that<font color="#E5E5E5"> first domain it's gettin</font>

756
00:41:17,220 --> 00:41:22,549
authoritative for that second domain and

757
00:41:18,810 --> 00:41:22,549
there is nothing<font color="#E5E5E5"> else in between</font>

758
00:41:22,730 --> 00:41:29,040
basically saying hey there's a gap here

759
00:41:25,920 --> 00:41:31,650
<font color="#E5E5E5">if I knew</font><font color="#CCCCCC"> about it I tell you</font><font color="#E5E5E5"> what I'm</font>

760
00:41:29,040 --> 00:41:34,700
proving to you with this signed record

761
00:41:31,650 --> 00:41:34,700
there's a gap

762
00:41:45,920 --> 00:41:57,540
sure do you ah excellent question the

763
00:41:54,810 --> 00:41:59,400
question was does that give some

764
00:41:57,540 --> 00:42:04,460
capability of an attacker of knowing

765
00:41:59,400 --> 00:42:07,020
what's what's in the zone yes it<font color="#E5E5E5"> does um</font>

766
00:42:04,460 --> 00:42:10,320
in a second i'll be talking<font color="#E5E5E5"> about a</font>

767
00:42:07,020 --> 00:42:13,980
solution to that and personally I

768
00:42:10,320 --> 00:42:16,590
actually don't care as I said earlier if

769
00:42:13,980 --> 00:42:18,510
you're if you're worried<font color="#CCCCCC"> about whether</font>

770
00:42:16,590 --> 00:42:21,540
or<font color="#E5E5E5"> not an attacker can enumerate your</font>

771
00:42:18,510 --> 00:42:23,700
domain or not that's some and you're

772
00:42:21,540 --> 00:42:25,110
relying on that<font color="#E5E5E5"> for security you've got</font>

773
00:42:23,700 --> 00:42:26,689
a world of other problems<font color="#CCCCCC"> that you</font>

774
00:42:25,110 --> 00:42:29,280
probably should be paying attention to

775
00:42:26,690 --> 00:42:32,460
that yeah merely knowing the contents of

776
00:42:29,280 --> 00:42:36,000
his own arm I don't believe is is a

777
00:42:32,460 --> 00:42:37,680
significant risk but that<font color="#E5E5E5"> said I will be</font>

778
00:42:36,000 --> 00:42:45,060
talking about<font color="#E5E5E5"> something shortly that</font>

779
00:42:37,680 --> 00:42:48,029
that covers that also<font color="#E5E5E5"> these previous</font>

780
00:42:45,060 --> 00:42:50,720
three records are covered in RC<font color="#CCCCCC"> 40-34</font>

781
00:42:48,030 --> 00:42:53,820
the fourth one covered in that RSC is

782
00:42:50,720 --> 00:42:57,620
the DS record this<font color="#E5E5E5"> is something</font><font color="#CCCCCC"> that</font>

783
00:42:53,820 --> 00:43:03,620
would be<font color="#CCCCCC"> installed into the parent zone</font>

784
00:42:57,620 --> 00:43:07,350
in in this case it<font color="#E5E5E5"> would be calm and</font>

785
00:43:03,620 --> 00:43:14,700
these are records that are stating what

786
00:43:07,350 --> 00:43:17,100
the key is Bob the KSK for my zone now

787
00:43:14,700 --> 00:43:18,060
when I said earlier that there needs to

788
00:43:17,100 --> 00:43:20,400
be some hand-holding and some

789
00:43:18,060 --> 00:43:23,100
adjustments on<font color="#E5E5E5"> a year your mark if i</font>

790
00:43:20,400 --> 00:43:25,440
change the KSK I got to tell my parent

791
00:43:23,100 --> 00:43:27,900
to change this record so this<font color="#E5E5E5"> is why you</font>

792
00:43:25,440 --> 00:43:31,800
don't want the KSK to change all that

793
00:43:27,900 --> 00:43:34,380
often you rely<font color="#CCCCCC"> on the zone signing key</font>

794
00:43:31,800 --> 00:43:37,650
to change on a regular basis for the

795
00:43:34,380 --> 00:43:39,780
individual<font color="#CCCCCC"> record security because you</font>

796
00:43:37,650 --> 00:43:42,060
really<font color="#E5E5E5"> don't want to be trying</font><font color="#CCCCCC"> to juggle</font>

797
00:43:39,780 --> 00:43:45,990
that game on a regular basis especially

798
00:43:42,060 --> 00:43:48,360
if you're a parent is handling it

799
00:43:45,990 --> 00:43:50,040
manually you<font color="#CCCCCC"> can end up</font><font color="#E5E5E5"> with windows</font>

800
00:43:48,360 --> 00:43:54,720
<font color="#E5E5E5">that things aren't going to validate</font>

801
00:43:50,040 --> 00:43:57,360
correctly and if<font color="#E5E5E5"> something goes wrong</font>

802
00:43:54,720 --> 00:43:58,629
<font color="#E5E5E5">with</font><font color="#CCCCCC"> the update process things do not</font>

803
00:43:57,360 --> 00:44:04,599
validate correct

804
00:43:58,630 --> 00:44:08,950
a recently<font color="#CCCCCC"> ISC had a</font><font color="#E5E5E5"> little bit</font><font color="#CCCCCC"> of a</font>

805
00:44:04,599 --> 00:44:11,230
mishap with their trust anchor and they

806
00:44:08,950 --> 00:44:15,549
went to go<font color="#E5E5E5"> ahead and rotate it</font><font color="#CCCCCC"> and the</font>

807
00:44:11,230 --> 00:44:17,529
script failed and they got the lovely

808
00:44:15,549 --> 00:44:20,288
privilege of sending out an email to

809
00:44:17,529 --> 00:44:22,869
everybody on d lv announced saying oops

810
00:44:20,289 --> 00:44:25,230
we screwed<font color="#CCCCCC"> up you probably noticed a</font>

811
00:44:22,869 --> 00:44:29,680
whole bunch<font color="#E5E5E5"> of failures around this time</font>

812
00:44:25,230 --> 00:44:35,349
a mistake<font color="#CCCCCC"> like that yeah will cause what</font>

813
00:44:29,680 --> 00:44:37,390
an outage so to<font color="#E5E5E5"> answer the other</font>

814
00:44:35,349 --> 00:44:41,829
question how do we prevent the

815
00:44:37,390 --> 00:44:46,029
enumeration through the domain there is

816
00:44:41,829 --> 00:44:48,009
an<font color="#CCCCCC"> N sec 3 record which is just starting</font>

817
00:44:46,029 --> 00:44:52,859
<font color="#CCCCCC">to poke his head above the water it's</font>

818
00:44:48,009 --> 00:44:56,200
covered in RFC 5155 and it deals with

819
00:44:52,859 --> 00:44:58,680
using hashes to obscure the the domain

820
00:44:56,200 --> 00:45:05,740
names but still giving validation on

821
00:44:58,680 --> 00:45:07,118
proving that it's not not within so it's

822
00:45:05,740 --> 00:45:11,589
an additional<font color="#E5E5E5"> step there's a little bit</font>

823
00:45:07,119 --> 00:45:14,890
more more work on the<font color="#E5E5E5"> way the insect 3</font>

824
00:45:11,589 --> 00:45:17,710
records work<font color="#CCCCCC"> they're actually a new type</font>

825
00:45:14,890 --> 00:45:23,740
of n<font color="#E5E5E5"> SEC record with a different</font>

826
00:45:17,710 --> 00:45:29,549
algorithm<font color="#E5E5E5"> i D such that unaware clients</font>

827
00:45:23,740 --> 00:45:33,308
end up actually ignoring the<font color="#CCCCCC"> record and</font>

828
00:45:29,549 --> 00:45:37,559
basically return an unknown status so

829
00:45:33,309 --> 00:45:39,900
until more services start really

830
00:45:37,559 --> 00:45:42,519
implementing the<font color="#E5E5E5"> n sec 3 on the</font>

831
00:45:39,900 --> 00:45:45,339
verification libraries you'll actually

832
00:45:42,519 --> 00:45:46,959
end up with some weird hey things didn't

833
00:45:45,339 --> 00:45:51,700
validate correctly but I'm pretty sure

834
00:45:46,960 --> 00:45:53,500
<font color="#CCCCCC">it's it's there that would be why so it</font>

835
00:45:51,700 --> 00:45:54,759
just needs a little bit more time to to

836
00:45:53,500 --> 00:46:02,200
shake out and get some better

837
00:45:54,759 --> 00:46:06,130
implementation there the d lv record

838
00:46:02,200 --> 00:46:09,368
type is what's actually held by the d lv

839
00:46:06,130 --> 00:46:11,740
vendors for your particular domain this

840
00:46:09,369 --> 00:46:12,940
output would<font color="#CCCCCC"> be generated</font><font color="#E5E5E5"> by your</font>

841
00:46:11,740 --> 00:46:15,910
signing command

842
00:46:12,940 --> 00:46:19,450
and it's<font color="#E5E5E5"> basically what you would hand</font>

843
00:46:15,910 --> 00:46:25,000
over to you or d lv it's similar but not

844
00:46:19,450 --> 00:46:28,810
quite the same as as far<font color="#CCCCCC"> as function as</font>

845
00:46:25,000 --> 00:46:31,599
a<font color="#E5E5E5"> des record you'll notice that the data</font>

846
00:46:28,810 --> 00:46:33,640
<font color="#E5E5E5">looks identical but it's a different</font>

847
00:46:31,599 --> 00:46:37,930
record type to indicate that a<font color="#E5E5E5"> different</font>

848
00:46:33,640 --> 00:46:43,990
look up mechanism is being used to pull

849
00:46:37,930 --> 00:46:46,270
that that information down here<font color="#E5E5E5"> the two</font>

850
00:46:43,990 --> 00:46:47,709
big<font color="#CCCCCC"> URLs you should probably pay</font>

851
00:46:46,270 --> 00:46:50,800
attention to if you're going<font color="#E5E5E5"> to jump</font>

852
00:46:47,710 --> 00:46:54,160
into<font color="#E5E5E5"> this the first one is clearly the</font>

853
00:46:50,800 --> 00:46:55,839
most important the second one basically

854
00:46:54,160 --> 00:47:00,549
has the instructions for<font color="#E5E5E5"> setting up the</font>

855
00:46:55,839 --> 00:47:06,099
the art<font color="#E5E5E5"> HR trust anchors it's not quite</font>

856
00:47:00,550 --> 00:47:10,180
as important but having the sum of the

857
00:47:06,099 --> 00:47:13,329
like the d lv in place really gets you a

858
00:47:10,180 --> 00:47:15,970
good win from remembering correctly I

859
00:47:13,329 --> 00:47:19,540
think gov has recently added themselves

860
00:47:15,970 --> 00:47:23,169
to is<font color="#E5E5E5"> CS d lv so you actually get some</font>

861
00:47:19,540 --> 00:47:27,220
some verification there of of the

862
00:47:23,170 --> 00:47:30,510
<font color="#E5E5E5">top-level gov site now the only the</font>

863
00:47:27,220 --> 00:47:33,899
other<font color="#E5E5E5"> top-level domains can can catch up</font>

864
00:47:30,510 --> 00:47:33,900
any questions

865
00:47:39,380 --> 00:47:47,670
get your mic just say any idea on like a

866
00:47:45,720 --> 00:47:51,328
timeline when the other top-level

867
00:47:47,670 --> 00:47:56,010
domains will catch up<font color="#CCCCCC"> to doc go as far</font>

868
00:47:51,329 --> 00:47:59,520
as the signing goes um no they actually

869
00:47:56,010 --> 00:48:02,040
with the I char you will end up with<font color="#E5E5E5"> a</font>

870
00:47:59,520 --> 00:48:06,240
lot of country codes getting listed in

871
00:48:02,040 --> 00:48:09,599
there and the smaller<font color="#CCCCCC"> tlds the the</font>

872
00:48:06,240 --> 00:48:13,859
problem is is that the big deal these

873
00:48:09,599 --> 00:48:15,690
are big and it's like turning a bomb an

874
00:48:13,859 --> 00:48:18,569
oil tanker it's going to<font color="#CCCCCC"> take a lot</font><font color="#E5E5E5"> of</font>

875
00:48:15,690 --> 00:48:23,940
effort a<font color="#CCCCCC"> lot of empty to get things</font>

876
00:48:18,570 --> 00:48:26,849
things turned and and I mean flat out

877
00:48:23,940 --> 00:48:30,540
there is additional overhead in serving

878
00:48:26,849 --> 00:48:37,050
up DNS SEC that if you go back and you

879
00:48:30,540 --> 00:48:38,579
look at that are our sig record<font color="#CCCCCC"> its can</font>

880
00:48:37,050 --> 00:48:43,020
be up to an order<font color="#E5E5E5"> of magnitude larger</font>

881
00:48:38,579 --> 00:48:47,520
than in a record so for<font color="#E5E5E5"> for sites that</font>

882
00:48:43,020 --> 00:48:49,290
<font color="#E5E5E5">are are worrying about how</font><font color="#CCCCCC"> many DNS</font>

883
00:48:47,520 --> 00:48:52,230
servers they need to put out just to

884
00:48:49,290 --> 00:48:54,390
handle the load it's a serious<font color="#E5E5E5"> concern</font>

885
00:48:52,230 --> 00:49:02,060
because it's just<font color="#CCCCCC"> that many more bits</font>

886
00:48:54,390 --> 00:49:06,029
going down the pipe and a lot of the

887
00:49:02,060 --> 00:49:09,540
top-level domains<font color="#CCCCCC"> ComNet Borg they're</font>

888
00:49:06,030 --> 00:49:10,890
pretty<font color="#E5E5E5"> big and going out to them and</font>

889
00:49:09,540 --> 00:49:12,619
saying hi yeah we're going<font color="#E5E5E5"> to hit you</font>

890
00:49:10,890 --> 00:49:17,069
<font color="#E5E5E5">with an order of magnitude more traffic</font>

891
00:49:12,619 --> 00:49:19,740
have a nice day it takes a while<font color="#E5E5E5"> for</font>

892
00:49:17,069 --> 00:49:23,839
them to ramp up to that does that<font color="#E5E5E5"> answer</font>

893
00:49:19,740 --> 00:49:23,839
<font color="#CCCCCC">your question anyone else</font>

894
00:49:28,990 --> 00:49:35,149
so this seems like a house of cards from

895
00:49:32,570 --> 00:49:36,910
the perspective that if dot or calm or

896
00:49:35,150 --> 00:49:39,530
any of those gets compromised

897
00:49:36,910 --> 00:49:43,940
everybody's compromised and it seems

898
00:49:39,530 --> 00:49:48,109
<font color="#E5E5E5">like the I don't know if DNS SEC is the</font>

899
00:49:43,940 --> 00:49:50,720
be-all end-all to the solution has there

900
00:49:48,109 --> 00:49:53,540
<font color="#CCCCCC">been any talk about like DNS curve from</font>

901
00:49:50,720 --> 00:49:55,368
DJ B D and s or any of those types of

902
00:49:53,540 --> 00:49:57,470
security measures<font color="#E5E5E5"> have you played with</font>

903
00:49:55,369 --> 00:49:59,240
<font color="#E5E5E5">any of that no I actually haven't played</font>

904
00:49:57,470 --> 00:50:02,149
<font color="#CCCCCC">with any of the DJ ddns stuff</font>

905
00:49:59,240 --> 00:50:05,359
unfortunately I haven't been<font color="#CCCCCC"> able to get</font>

906
00:50:02,150 --> 00:50:06,680
my finger in every pie um if you've got

907
00:50:05,359 --> 00:50:11,480
<font color="#CCCCCC">experience</font><font color="#E5E5E5"> with that I'd love to talk to</font>

908
00:50:06,680 --> 00:50:15,830
you offline no but at I'm just listening

909
00:50:11,480 --> 00:50:17,540
to<font color="#E5E5E5"> this going you know it's very time</font>

910
00:50:15,830 --> 00:50:20,660
intensive labor intensive to do this

911
00:50:17,540 --> 00:50:22,300
type of a<font color="#E5E5E5"> setup that knotted up actually</font>

912
00:50:20,660 --> 00:50:25,670
<font color="#E5E5E5">to to actually</font><font color="#CCCCCC"> get</font><font color="#E5E5E5"> something like this</font>

913
00:50:22,300 --> 00:50:28,369
this<font color="#E5E5E5"> set up um well do you and I</font><font color="#CCCCCC"> it's</font>

914
00:50:25,670 --> 00:50:30,500
trivial to<font color="#E5E5E5"> DNS administrators it's can</font>

915
00:50:28,369 --> 00:50:36,680
it be actually we're getting down much

916
00:50:30,500 --> 00:50:38,510
closer to UM<font color="#CCCCCC"> to really quick recipes to</font>

917
00:50:36,680 --> 00:50:40,790
getting these things set up<font color="#CCCCCC"> ISC thinks</font>

918
00:50:38,510 --> 00:50:43,760
that DNS administrators can get<font color="#E5E5E5"> this</font>

919
00:50:40,790 --> 00:50:48,140
some of and mechanics done in under 10

920
00:50:43,760 --> 00:50:51,650
minutes with the the commands<font color="#E5E5E5"> laid out</font>

921
00:50:48,140 --> 00:50:54,650
here you're really limited by how beefy

922
00:50:51,650 --> 00:50:57,350
of a cpu you have it takes a little

923
00:50:54,650 --> 00:51:01,240
while for my<font color="#CCCCCC"> Kobalt rack to to do any</font>

924
00:50:57,350 --> 00:51:04,850
signing but it's still even with that

925
00:51:01,240 --> 00:51:06,979
that system it still completes pretty

926
00:51:04,850 --> 00:51:09,140
quickly<font color="#E5E5E5"> and I could probably have</font>

927
00:51:06,980 --> 00:51:11,119
everything reset up within 10 to 15

928
00:51:09,140 --> 00:51:16,310
minutes even on that ancient in that

929
00:51:11,119 --> 00:51:19,550
slow of the machine now when<font color="#E5E5E5"> I started</font>

930
00:51:16,310 --> 00:51:24,320
all of this you had to wade through

931
00:51:19,550 --> 00:51:26,240
pages of instructions where the the

932
00:51:24,320 --> 00:51:29,030
instructions themselves started delving

933
00:51:26,240 --> 00:51:32,660
into weird discussions about algorithm

934
00:51:29,030 --> 00:51:36,380
choice and and<font color="#CCCCCC"> strengthen</font><font color="#E5E5E5"> and choosing</font>

935
00:51:32,660 --> 00:51:38,480
the<font color="#E5E5E5"> right bit length and a lot of that</font>

936
00:51:36,380 --> 00:51:40,100
was was largely unnecessary and that did

937
00:51:38,480 --> 00:51:43,250
turn off a lot<font color="#CCCCCC"> of</font><font color="#E5E5E5"> people and</font>

938
00:51:40,100 --> 00:51:45,290
give a fairly negative stigma on turning

939
00:51:43,250 --> 00:51:47,690
up DNS SEC the people viewed it as hard

940
00:51:45,290 --> 00:51:50,800
as<font color="#E5E5E5"> a result I've talked to multiple</font>

941
00:51:47,690 --> 00:51:53,210
people who have attempted and gave up on

942
00:51:50,800 --> 00:51:55,430
because at that time the instructions

943
00:51:53,210 --> 00:51:59,000
were<font color="#CCCCCC"> for cryptographers written by and</font>

944
00:51:55,430 --> 00:52:05,240
and pretty much for<font color="#E5E5E5"> um the instructions</font>

945
00:51:59,000 --> 00:52:17,500
are largely for ops<font color="#E5E5E5"> people now anyone</font>

946
00:52:05,240 --> 00:52:17,500
else on one's going twice thank you

