1
00:00:00,000 --> 00:00:02,029
I

2
00:00:43,620 --> 00:00:50,620
we're rolling awesome<font color="#E5E5E5"> okay everybody i'm</font>

3
00:00:48,219 --> 00:00:52,329
john mccrae<font color="#E5E5E5"> I run</font><font color="#CCCCCC"> a company called learn</font>

4
00:00:50,620 --> 00:00:55,449
security online it's a<font color="#E5E5E5"> computer training</font>

5
00:00:52,329 --> 00:00:57,940
company and my favorite<font color="#CCCCCC"> subject is SQL</font>

6
00:00:55,449 --> 00:01:00,699
injection I'm a pen tester by trade but

7
00:00:57,940 --> 00:01:02,409
SQL injection I have no<font color="#E5E5E5"> idea why but for</font>

8
00:01:00,699 --> 00:01:05,679
<font color="#E5E5E5">me it's just one of those</font>

9
00:01:02,409 --> 00:01:07,689
vulnerabilities that it's not like

10
00:01:05,680 --> 00:01:09,490
cross-site scripting why need to trick

11
00:01:07,689 --> 00:01:10,809
somebody you know it's kind<font color="#CCCCCC"> of like the</font>

12
00:01:09,490 --> 00:01:13,270
<font color="#CCCCCC">old days of hacking I kind of feel like</font>

13
00:01:10,810 --> 00:01:17,530
it's me against that server you know I'm

14
00:01:13,270 --> 00:01:19,449
really got to go for<font color="#E5E5E5"> it so what we're</font>

15
00:01:17,530 --> 00:01:21,369
going to cover here is dependent on the

16
00:01:19,450 --> 00:01:23,560
audience<font color="#E5E5E5"> will kind of determine how</font>

17
00:01:21,369 --> 00:01:25,450
technical we're going to go so generally

18
00:01:23,560 --> 00:01:27,670
<font color="#E5E5E5">what I do is I cover the background for</font>

19
00:01:25,450 --> 00:01:29,440
SQL injection basic attack methods and

20
00:01:27,670 --> 00:01:32,409
then I like to go<font color="#CCCCCC"> into this</font><font color="#E5E5E5"> of what the</font>

21
00:01:29,440 --> 00:01:35,020
fuck for me as a tester I run into that

22
00:01:32,409 --> 00:01:36,640
all the time it's not like<font color="#E5E5E5"> a classic one</font>

23
00:01:35,020 --> 00:01:39,520
equals one to<font color="#E5E5E5"> get into</font><font color="#CCCCCC"> a site anymore</font>

24
00:01:36,640 --> 00:01:40,690
it's not you<font color="#CCCCCC"> know just insert this tick</font>

25
00:01:39,520 --> 00:01:43,119
and all of a sudden the whole database

26
00:01:40,690 --> 00:01:44,530
drops anymore you know it's funny errors

27
00:01:43,119 --> 00:01:46,479
hits<font color="#CCCCCC"> store procedures like you're</font>

28
00:01:44,530 --> 00:01:48,399
injecting into a stored procedure so

29
00:01:46,479 --> 00:01:50,380
that's a little<font color="#E5E5E5"> bit more complex so</font>

30
00:01:48,399 --> 00:01:51,939
depending<font color="#E5E5E5"> on you know kind of audience</font>

31
00:01:50,380 --> 00:01:53,530
reaction if you guys are looking at<font color="#E5E5E5"> me</font>

32
00:01:51,939 --> 00:01:55,000
like<font color="#CCCCCC"> you're kind</font><font color="#E5E5E5"> of bored we'll move a</font>

33
00:01:53,530 --> 00:01:56,409
little faster if you're<font color="#E5E5E5"> looking at me</font>

34
00:01:55,000 --> 00:01:58,119
like bro I have no idea what the hell is

35
00:01:56,409 --> 00:02:02,469
select statement is will go a little

36
00:01:58,119 --> 00:02:04,119
slower<font color="#E5E5E5"> cool</font><font color="#CCCCCC"> all right so in case anybody</font>

37
00:02:02,469 --> 00:02:06,669
hasn't you know<font color="#E5E5E5"> hasn't figured it out</font>

38
00:02:04,119 --> 00:02:11,260
I'm black what I would prefer that you

39
00:02:06,670 --> 00:02:13,420
do is yell stuff out at me okay you know

40
00:02:11,260 --> 00:02:14,920
I<font color="#CCCCCC"> grew up in a loud house you know so</font>

41
00:02:13,420 --> 00:02:16,839
really like y'all's stuff out you don't

42
00:02:14,920 --> 00:02:18,429
need to raise<font color="#CCCCCC"> your</font><font color="#E5E5E5"> hand sorry I don't</font>

43
00:02:16,840 --> 00:02:19,510
have any good home training so if you're

44
00:02:18,430 --> 00:02:20,769
looking<font color="#CCCCCC"> at something on the slide and</font>

45
00:02:19,510 --> 00:02:24,220
you're kind of like dude that's bullshit

46
00:02:20,769 --> 00:02:27,239
say it<font color="#E5E5E5"> okay don't be like politically</font>

47
00:02:24,220 --> 00:02:27,239
correct with me I<font color="#E5E5E5"> was uh</font>

48
00:02:30,970 --> 00:02:35,120
is it<font color="#CCCCCC"> just</font><font color="#E5E5E5"> me or did he like really not</font>

49
00:02:33,650 --> 00:02:38,750
realize I'm up here like you know

50
00:02:35,120 --> 00:02:40,010
<font color="#CCCCCC">penises haha ok so for real guys you</font>

51
00:02:38,750 --> 00:02:41,390
know if we're doing<font color="#E5E5E5"> going through stuff</font>

52
00:02:40,010 --> 00:02:42,620
<font color="#CCCCCC">and it's you know</font><font color="#E5E5E5"> a little boring your</font>

53
00:02:41,390 --> 00:02:44,450
kind of hey I already know that stuff

54
00:02:42,620 --> 00:02:48,200
you<font color="#CCCCCC"> know kind of nod your head so I know</font>

55
00:02:44,450 --> 00:02:52,100
pick it<font color="#E5E5E5"> up and keep it moving cool all</font>

56
00:02:48,200 --> 00:02:54,170
<font color="#E5E5E5">right let's do this all</font><font color="#CCCCCC"> right every time</font>

57
00:02:52,100 --> 00:02:55,760
I submit to these talks I always<font color="#CCCCCC"> do this</font>

58
00:02:54,170 --> 00:02:58,130
talk called SQL injection for mere

59
00:02:55,760 --> 00:03:00,500
mortals and it never gets accepted never

60
00:02:58,130 --> 00:03:02,060
no one ever wants to know<font color="#CCCCCC"> the basics and</font>

61
00:03:00,500 --> 00:03:03,920
I always<font color="#E5E5E5"> run into this</font><font color="#CCCCCC"> because every</font>

62
00:03:02,060 --> 00:03:05,570
time I'm teaching SQL injection I can

63
00:03:03,920 --> 00:03:07,700
usually tell people don't have good

64
00:03:05,570 --> 00:03:09,470
basics they really<font color="#E5E5E5"> need the SQL</font>

65
00:03:07,700 --> 00:03:11,480
injection for mere mortals but I guess

66
00:03:09,470 --> 00:03:13,580
it's just not a cool sounding talk you

67
00:03:11,480 --> 00:03:15,440
know what I<font color="#CCCCCC"> mean so I'm not</font><font color="#E5E5E5"> going</font><font color="#CCCCCC"> to</font>

68
00:03:13,580 --> 00:03:18,170
teach you the basics of SQL sucks to be

69
00:03:15,440 --> 00:03:19,820
<font color="#E5E5E5">you i'm not doing it i'm not going</font><font color="#CCCCCC"> to</font>

70
00:03:18,170 --> 00:03:21,589
teach you the basics<font color="#E5E5E5"> of SQL injection</font>

71
00:03:19,820 --> 00:03:24,140
starts to be you I'm not doing it

72
00:03:21,590 --> 00:03:25,580
because this is advanced so if you buy

73
00:03:24,140 --> 00:03:27,380
me a rum and coke tonight teach you

74
00:03:25,580 --> 00:03:31,370
whatever<font color="#E5E5E5"> the hell you want to learn it's</font>

75
00:03:27,380 --> 00:03:33,590
all about<font color="#CCCCCC"> the alcohol</font><font color="#E5E5E5"> okay all right</font>

76
00:03:31,370 --> 00:03:35,989
you've<font color="#E5E5E5"> got three traditional classes of</font>

77
00:03:33,590 --> 00:03:38,840
SQL injection you've got in band out of

78
00:03:35,989 --> 00:03:41,420
<font color="#CCCCCC">band inferential I'm sure you guys are</font>

79
00:03:38,840 --> 00:03:44,350
good you can read the slides so in<font color="#E5E5E5"> band</font>

80
00:03:41,420 --> 00:03:47,958
data is extracted using the same channel

81
00:03:44,350 --> 00:03:50,510
that's used<font color="#E5E5E5"> to inject out of band data</font>

82
00:03:47,959 --> 00:03:53,540
is retrieved using some sort of other

83
00:03:50,510 --> 00:03:55,790
channel like DNS or HTTP you know the

84
00:03:53,540 --> 00:03:59,450
sweet sexy stuff you know and then

85
00:03:55,790 --> 00:04:00,679
inferential is you know either asking

86
00:03:59,450 --> 00:04:02,929
questions<font color="#E5E5E5"> that are true false questions</font>

87
00:04:00,680 --> 00:04:05,209
or based on time you know you're like

88
00:04:02,930 --> 00:04:06,590
<font color="#E5E5E5">hey dude database if you're really the</font>

89
00:04:05,209 --> 00:04:08,090
system administrator can you wait 10

90
00:04:06,590 --> 00:04:11,930
seconds before you give me a valid page

91
00:04:08,090 --> 00:04:14,390
<font color="#E5E5E5">okay all</font><font color="#CCCCCC"> right so let's look at this in</font>

92
00:04:11,930 --> 00:04:17,000
band injection like I said<font color="#E5E5E5"> it comes over</font>

93
00:04:14,390 --> 00:04:20,478
the same channel this is classic you

94
00:04:17,000 --> 00:04:22,430
know ID equals 1 or 1 equals and then

95
00:04:20,478 --> 00:04:24,979
you're going to say convert aunt user

96
00:04:22,430 --> 00:04:27,229
and then you'll actually get an error

97
00:04:24,979 --> 00:04:29,840
saying syntax error converting the in

98
00:04:27,229 --> 00:04:31,940
bar chart value<font color="#E5E5E5"> Joe into a column of</font>

99
00:04:29,840 --> 00:04:34,250
data type int so<font color="#E5E5E5"> essentially you're</font>

100
00:04:31,940 --> 00:04:36,860
asking the database hey can you take

101
00:04:34,250 --> 00:04:38,450
this user and convert it to a data type

102
00:04:36,860 --> 00:04:40,400
of integer and the database is going to

103
00:04:38,450 --> 00:04:42,500
be like do you can't convert a string

104
00:04:40,400 --> 00:04:43,109
into an integer the hell are you doing

105
00:04:42,500 --> 00:04:45,780
bro

106
00:04:43,110 --> 00:04:48,240
<font color="#E5E5E5">okay bye when it does that it actually</font>

107
00:04:45,780 --> 00:04:52,109
execute that query for you and you'll

108
00:04:48,240 --> 00:04:54,980
get<font color="#E5E5E5"> the result of that user query in the</font>

109
00:04:52,110 --> 00:04:57,180
error okay this is the<font color="#E5E5E5"> most classic its</font>

110
00:04:54,980 --> 00:05:02,190
traditional and this is<font color="#CCCCCC"> actually going</font>

111
00:04:57,180 --> 00:05:05,370
away all right out of band okay

112
00:05:02,190 --> 00:05:07,050
everybody likes the sexy stuff okay I'm

113
00:05:05,370 --> 00:05:09,330
doing<font color="#E5E5E5"> SQL injection i'm getting all</font><font color="#CCCCCC"> my</font>

114
00:05:07,050 --> 00:05:11,760
responses back over<font color="#E5E5E5"> dns right it just</font>

115
00:05:09,330 --> 00:05:13,080
sounds cool don't it you know not<font color="#E5E5E5"> like</font>

116
00:05:11,760 --> 00:05:15,180
there's really a real point in life to

117
00:05:13,080 --> 00:05:17,580
actually do it but it<font color="#E5E5E5"> sounds cool don't</font>

118
00:05:15,180 --> 00:05:20,040
it you like dude<font color="#CCCCCC"> I was I was owning your</font>

119
00:05:17,580 --> 00:05:21,240
box and<font color="#E5E5E5"> you know while I'm while I'm</font>

120
00:05:20,040 --> 00:05:23,010
pulling all the credit card data off

121
00:05:21,240 --> 00:05:29,190
your database I got it all back over my

122
00:05:23,010 --> 00:05:30,930
dns server dude you suck riot okay there

123
00:05:29,190 --> 00:05:33,360
are some extreme cases where this<font color="#E5E5E5"> is</font>

124
00:05:30,930 --> 00:05:34,590
actually necessary but generally when my

125
00:05:33,360 --> 00:05:36,630
pen testing<font color="#CCCCCC"> I haven't</font><font color="#E5E5E5"> found</font><font color="#CCCCCC"> where I</font>

126
00:05:34,590 --> 00:05:39,810
really had to use a lot of out<font color="#CCCCCC"> of band</font>

127
00:05:36,630 --> 00:05:41,340
stuff it does work it is sexy there are

128
00:05:39,810 --> 00:05:44,700
cases where you<font color="#E5E5E5"> can actually get more</font>

129
00:05:41,340 --> 00:05:46,409
<font color="#E5E5E5">data you know per query via out of band</font>

130
00:05:44,700 --> 00:05:47,729
that's been generally be the only time

131
00:05:46,410 --> 00:05:50,040
<font color="#E5E5E5">that I've really kind of felt like I</font>

132
00:05:47,730 --> 00:05:52,290
needed to<font color="#E5E5E5"> do it okay all right</font>

133
00:05:50,040 --> 00:05:54,810
inferential inferential is what you're

134
00:05:52,290 --> 00:05:58,080
<font color="#E5E5E5">starting to see a lot tools like SQL map</font>

135
00:05:54,810 --> 00:06:00,720
SQL ninja tools that essentially ask the

136
00:05:58,080 --> 00:06:03,390
database a question so in this case this

137
00:06:00,720 --> 00:06:05,610
is time-based SQL injection so you're

138
00:06:03,390 --> 00:06:10,200
<font color="#E5E5E5">seeing that it's going to say if not</font>

139
00:06:05,610 --> 00:06:13,410
select system user is<font color="#CCCCCC"> sa wait for 10</font>

140
00:06:10,200 --> 00:06:15,930
seconds so now what happens is you don't

141
00:06:13,410 --> 00:06:18,330
<font color="#E5E5E5">get error messages you know there is no</font>

142
00:06:15,930 --> 00:06:20,190
ODB series<font color="#E5E5E5"> odbc error you're not getting</font>

143
00:06:18,330 --> 00:06:22,620
an error<font color="#E5E5E5"> message so you're</font><font color="#CCCCCC"> asking the</font>

144
00:06:20,190 --> 00:06:25,560
database hey bro if you're running a

145
00:06:22,620 --> 00:06:28,410
system administrator wait 10 seconds

146
00:06:25,560 --> 00:06:30,060
before you show me the page<font color="#E5E5E5"> okay so I</font>

147
00:06:28,410 --> 00:06:32,040
run into this or a lot of<font color="#E5E5E5"> people have</font>

148
00:06:30,060 --> 00:06:33,690
<font color="#E5E5E5">we're both air is turned off and this is</font>

149
00:06:32,040 --> 00:06:36,990
the generally the attack technique I use

150
00:06:33,690 --> 00:06:39,420
the<font color="#CCCCCC"> most in those cases all right what</font>

151
00:06:36,990 --> 00:06:41,580
about tools scanner monkeys in a room

152
00:06:39,420 --> 00:06:44,850
anybody who he's like who's like I'm a

153
00:06:41,580 --> 00:06:47,159
consultant I run tools right I was I<font color="#E5E5E5"> was</font>

154
00:06:44,850 --> 00:06:49,140
on a call with a customer one time and I

155
00:06:47,160 --> 00:06:50,550
swear it was like well you<font color="#CCCCCC"> know we're</font>

156
00:06:49,140 --> 00:06:53,750
really<font color="#E5E5E5"> looking at higher in a pen tester</font>

157
00:06:50,550 --> 00:06:53,750
but you know we use backtrack

158
00:06:56,069 --> 00:06:59,949
also that<font color="#E5E5E5"> you're fucking scammer monkey</font>

159
00:06:58,810 --> 00:07:03,599
so that means you're a good pen tester

160
00:06:59,949 --> 00:07:06,250
right awesome I get<font color="#CCCCCC"> that all right so</font>

161
00:07:03,599 --> 00:07:08,919
let's<font color="#E5E5E5"> look at the base of tools now I'm</font>

162
00:07:06,250 --> 00:07:12,699
sure the some of you guys have awesome

163
00:07:08,919 --> 00:07:17,020
security budgets I don't so<font color="#E5E5E5"> I only use</font>

164
00:07:12,699 --> 00:07:19,750
these open source tools so i can't even

165
00:07:17,020 --> 00:07:21,099
say that but Mellie oak you know hope

166
00:07:19,750 --> 00:07:24,669
work<font color="#E5E5E5"> with me man I don't know what it is</font>

167
00:07:21,099 --> 00:07:26,860
but roll off from<font color="#CCCCCC"> sins Post wrote that</font>

168
00:07:24,669 --> 00:07:30,580
one ok now you noticing that that one

169
00:07:26,860 --> 00:07:33,669
does arrow based that's one type of SQL

170
00:07:30,580 --> 00:07:36,878
injection w poison it's another tool it

171
00:07:33,669 --> 00:07:40,180
does air-based SQL map most of us are

172
00:07:36,879 --> 00:07:43,779
familiar with SQL map it does blind

173
00:07:40,180 --> 00:07:47,830
true/false blind and union base if you

174
00:07:43,779 --> 00:07:51,669
specify now what pity does air-based w

175
00:07:47,830 --> 00:07:55,419
3f does era<font color="#CCCCCC"> based and blind perros does</font>

176
00:07:51,669 --> 00:07:58,270
<font color="#CCCCCC">air-based and blind SQ ID only does</font>

177
00:07:55,419 --> 00:08:01,120
error<font color="#CCCCCC"> does anybody kind of figured this</font>

178
00:07:58,270 --> 00:08:04,448
out what am i shooting for here come on

179
00:08:01,120 --> 00:08:08,409
work with me people<font color="#E5E5E5"> we all get a little</font>

180
00:08:04,449 --> 00:08:10,509
louder<font color="#CCCCCC"> okay error based almost everybody</font>

181
00:08:08,409 --> 00:08:12,550
uses air based very few tools and in

182
00:08:10,509 --> 00:08:15,669
this particular point<font color="#E5E5E5"> in time no tool</font>

183
00:08:12,550 --> 00:08:17,860
does all three methods of SQL injection

184
00:08:15,669 --> 00:08:19,479
so like the slut like the thing says Joe

185
00:08:17,860 --> 00:08:22,710
I'm sick of<font color="#E5E5E5"> this shit what the hell do</font>

186
00:08:19,479 --> 00:08:25,810
you<font color="#E5E5E5"> mean by era based blind and union</font>

187
00:08:22,710 --> 00:08:27,878
<font color="#CCCCCC">okay so just like we said era base</font>

188
00:08:25,810 --> 00:08:30,279
you're attacking the database and<font color="#E5E5E5"> it</font>

189
00:08:27,879 --> 00:08:33,940
actually causes an error<font color="#CCCCCC"> Union base</font>

190
00:08:30,279 --> 00:08:37,719
you're actually a pending another select

191
00:08:33,940 --> 00:08:40,479
statement to the URL<font color="#E5E5E5"> so it says ID</font>

192
00:08:37,719 --> 00:08:44,620
equals 5 and the URL you're going to say

193
00:08:40,479 --> 00:08:46,720
ID equals 5 space Union all you're going

194
00:08:44,620 --> 00:08:49,480
to join a select statement from the

195
00:08:46,720 --> 00:08:51,250
website to<font color="#CCCCCC"> your own select statement and</font>

196
00:08:49,480 --> 00:08:53,079
now you can extract data that way and

197
00:08:51,250 --> 00:08:55,540
then<font color="#E5E5E5"> blind we already talked about that</font>

198
00:08:53,079 --> 00:08:58,660
extracting data be a true false or

199
00:08:55,540 --> 00:09:00,959
time-based SQL injection click things

200
00:08:58,660 --> 00:09:04,300
that are important for me my methodology

201
00:09:00,959 --> 00:09:06,739
how do i do it first thing for me

202
00:09:04,300 --> 00:09:10,040
identify the injection either

203
00:09:06,740 --> 00:09:12,410
tool or manual key thing is you need<font color="#CCCCCC"> to</font>

204
00:09:10,040 --> 00:09:14,870
identify the injection then you<font color="#E5E5E5"> need to</font>

205
00:09:12,410 --> 00:09:19,399
determine the injection type is it ID

206
00:09:14,870 --> 00:09:21,830
equals<font color="#CCCCCC"> 5 you know page equals feedback</font>

207
00:09:19,399 --> 00:09:24,500
<font color="#CCCCCC">okay in other words is what's actually</font>

208
00:09:21,830 --> 00:09:26,870
being requested a string or an integer

209
00:09:24,500 --> 00:09:30,770
and this is really important because if

210
00:09:26,870 --> 00:09:33,620
it's a string you need to use a tick if

211
00:09:30,770 --> 00:09:35,839
it's an integer you don't need<font color="#E5E5E5"> to use a</font>

212
00:09:33,620 --> 00:09:37,940
tick super<font color="#E5E5E5"> super important especially</font>

213
00:09:35,839 --> 00:09:41,180
when we get later into this talk and we

214
00:09:37,940 --> 00:09:42,890
start talking<font color="#CCCCCC"> about IDs evasion and</font>

215
00:09:41,180 --> 00:09:45,319
<font color="#CCCCCC">laughs evasion this is really really big</font>

216
00:09:42,890 --> 00:09:47,949
the next thing is how do i actually do

217
00:09:45,320 --> 00:09:51,350
my attacks<font color="#CCCCCC"> I always go for error based</font>

218
00:09:47,950 --> 00:09:54,560
first always<font color="#CCCCCC"> go for air base first it's</font>

219
00:09:51,350 --> 00:09:56,600
the fastest okay it's the easiest if

220
00:09:54,560 --> 00:09:59,029
that doesn't work and i can't<font color="#E5E5E5"> get</font>

221
00:09:56,600 --> 00:10:01,970
verbose errors then I try for<font color="#CCCCCC"> Union and</font>

222
00:09:59,029 --> 00:10:05,270
if<font color="#E5E5E5"> that doesn't work last case worst</font>

223
00:10:01,970 --> 00:10:07,520
case last resort then i use blind you're

224
00:10:05,270 --> 00:10:10,279
going to find that blind is so ungodly

225
00:10:07,520 --> 00:10:12,319
slow it you know you're pulling data out

226
00:10:10,279 --> 00:10:15,230
of the database one bit at a time<font color="#CCCCCC"> i mean</font>

227
00:10:12,320 --> 00:10:16,880
literally huh and noisy yeah but<font color="#E5E5E5"> i mean</font>

228
00:10:15,230 --> 00:10:22,390
does it really matter what admin do you

229
00:10:16,880 --> 00:10:25,760
know really looks at his logs<font color="#CCCCCC"> grown up</font>

230
00:10:22,390 --> 00:10:27,410
<font color="#CCCCCC">okay so why the focus on manual testing</font>

231
00:10:25,760 --> 00:10:29,959
so now that<font color="#CCCCCC"> you understand that</font><font color="#E5E5E5"> there's</font>

232
00:10:27,410 --> 00:10:31,399
three primary types of SQL injection can

233
00:10:29,959 --> 00:10:33,560
you understand why being able to test

234
00:10:31,399 --> 00:10:36,500
for SQL injection manually is so

235
00:10:33,560 --> 00:10:38,899
important most scanners only look<font color="#CCCCCC"> for</font>

236
00:10:36,500 --> 00:10:40,940
one type of injection<font color="#CCCCCC"> all right so we're</font>

237
00:10:38,899 --> 00:10:44,350
<font color="#E5E5E5">going to stop</font><font color="#CCCCCC"> here everybody with me so</font>

238
00:10:40,940 --> 00:10:48,290
far going<font color="#CCCCCC"> too fast going too slow what</font>

239
00:10:44,350 --> 00:10:50,930
good case all right<font color="#E5E5E5"> just like I can do</font>

240
00:10:48,290 --> 00:10:53,000
<font color="#E5E5E5">this man</font><font color="#CCCCCC"> all right so let's</font><font color="#E5E5E5"> jump on to</font>

241
00:10:50,930 --> 00:10:54,739
the next thing integer based SQL

242
00:10:53,000 --> 00:10:59,390
injection integer base do i need the

243
00:10:54,740 --> 00:11:01,250
tick<font color="#CCCCCC"> no string based yes so when you're</font>

244
00:10:59,390 --> 00:11:03,410
<font color="#CCCCCC">looking this you immediately need to</font>

245
00:11:01,250 --> 00:11:05,360
<font color="#E5E5E5">figure out</font><font color="#CCCCCC"> is it asking for a string or</font>

246
00:11:03,410 --> 00:11:09,680
an integer and<font color="#E5E5E5"> if it's asking for a</font>

247
00:11:05,360 --> 00:11:12,290
string that's when I need my tick all

248
00:11:09,680 --> 00:11:17,660
right we're<font color="#E5E5E5"> going to jump on ms SQL</font>

249
00:11:12,290 --> 00:11:19,310
syntax the<font color="#E5E5E5"> syntax / database is a little</font>

250
00:11:17,660 --> 00:11:19,660
bit different but once you kind of get

251
00:11:19,310 --> 00:11:21,550
<font color="#CCCCCC">the</font>

252
00:11:19,660 --> 00:11:25,030
all for one it's<font color="#E5E5E5"> really not that</font><font color="#CCCCCC"> hard to</font>

253
00:11:21,550 --> 00:11:27,459
transition to the next type yeah we'll

254
00:11:25,030 --> 00:11:29,140
cover a real little bit of<font color="#E5E5E5"> MySQL if you</font>

255
00:11:27,460 --> 00:11:30,790
want to<font color="#E5E5E5"> talk about oracle syntax and all</font>

256
00:11:29,140 --> 00:11:32,560
that kind of stuff hit me up after the

257
00:11:30,790 --> 00:11:34,530
talk<font color="#E5E5E5"> I'll fill you in show you all the</font>

258
00:11:32,560 --> 00:11:36,760
<font color="#E5E5E5">good places to get that kind of stuff</font>

259
00:11:34,530 --> 00:11:38,800
<font color="#CCCCCC">all right so air-based we've already</font>

260
00:11:36,760 --> 00:11:41,439
talked talked about<font color="#CCCCCC"> I'd like to give</font>

261
00:11:38,800 --> 00:11:43,839
people this because this<font color="#CCCCCC"> is really good</font>

262
00:11:41,440 --> 00:11:46,090
for extracting data what are the key

263
00:11:43,840 --> 00:11:48,820
things you want<font color="#E5E5E5"> to ask for who's the</font>

264
00:11:46,090 --> 00:11:50,770
user what's the database name<font color="#E5E5E5"> what's the</font>

265
00:11:48,820 --> 00:11:53,020
server name<font color="#E5E5E5"> what version is it running</font>

266
00:11:50,770 --> 00:11:54,970
these are great things<font color="#E5E5E5"> okay and these</font>

267
00:11:53,020 --> 00:11:56,910
are my my little generic ones<font color="#E5E5E5"> that kind</font>

268
00:11:54,970 --> 00:11:59,320
of just go right through them<font color="#E5E5E5"> okay</font>

269
00:11:56,910 --> 00:12:01,000
generally what I find in pen testing is

270
00:11:59,320 --> 00:12:04,690
when I look at the previous year's

271
00:12:01,000 --> 00:12:06,970
report a lot<font color="#E5E5E5"> of</font><font color="#CCCCCC"> people will stop at just</font>

272
00:12:04,690 --> 00:12:10,210
showing that there's an SQL error like

273
00:12:06,970 --> 00:12:13,060
I'll see look there's an odbc error<font color="#E5E5E5"> okay</font>

274
00:12:10,210 --> 00:12:15,310
now for me is that kind of a punk kind

275
00:12:13,060 --> 00:12:18,130
of move why is it<font color="#E5E5E5"> apart kind of move</font>

276
00:12:15,310 --> 00:12:19,540
come<font color="#E5E5E5"> on you're not actually proving it</font>

277
00:12:18,130 --> 00:12:21,550
<font color="#CCCCCC">okay the other</font><font color="#E5E5E5"> thing that I've run into</font>

278
00:12:19,540 --> 00:12:25,300
is guys will say well you can generate

279
00:12:21,550 --> 00:12:27,939
the air but it's not injectable<font color="#CCCCCC"> Yeah</font>

280
00:12:25,300 --> 00:12:29,140
right<font color="#E5E5E5"> bro</font><font color="#CCCCCC"> yeah right bro that's kind of</font>

281
00:12:27,940 --> 00:12:31,180
like a girl who says well I don't

282
00:12:29,140 --> 00:12:35,650
<font color="#E5E5E5">usually do this right you're kind of</font>

283
00:12:31,180 --> 00:12:38,140
like yeah whatever man come on okay<font color="#E5E5E5"> all</font>

284
00:12:35,650 --> 00:12:39,490
<font color="#E5E5E5">right so union based SQL injection this</font>

285
00:12:38,140 --> 00:12:41,740
<font color="#E5E5E5">is what I was talking about where you're</font>

286
00:12:39,490 --> 00:12:43,750
adding the<font color="#CCCCCC"> Union select statements to it</font>

287
00:12:41,740 --> 00:12:45,910
so the first thing I'll do is I'll try

288
00:12:43,750 --> 00:12:48,580
for error based if<font color="#E5E5E5"> air base doesn't work</font>

289
00:12:45,910 --> 00:12:50,199
I try for a union<font color="#E5E5E5"> if i add union all</font>

290
00:12:48,580 --> 00:12:52,180
select there's actually a typo there

291
00:12:50,200 --> 00:12:54,310
yeah that's right so<font color="#CCCCCC"> union select all</font>

292
00:12:52,180 --> 00:12:56,079
one and then<font color="#CCCCCC"> i should get an error the</font>

293
00:12:54,310 --> 00:12:58,000
same hey bro you have to have<font color="#E5E5E5"> the</font>

294
00:12:56,080 --> 00:12:59,590
correct number<font color="#CCCCCC"> of columns if you're</font>

295
00:12:58,000 --> 00:13:01,900
going<font color="#E5E5E5"> to do a select statement there you</font>

296
00:12:59,590 --> 00:13:05,500
go oh ok cool so I just keep adding

297
00:13:01,900 --> 00:13:08,560
Union all one two<font color="#E5E5E5"> three until I finally</font>

298
00:13:05,500 --> 00:13:11,110
get no error message want to finally get

299
00:13:08,560 --> 00:13:13,270
a ballot page now<font color="#E5E5E5"> I know that</font><font color="#CCCCCC"> I have the</font>

300
00:13:11,110 --> 00:13:16,870
correct number<font color="#CCCCCC"> of</font><font color="#E5E5E5"> columns and then all</font>

301
00:13:13,270 --> 00:13:19,360
of the specific functions user DB name

302
00:13:16,870 --> 00:13:25,450
version and all that now I can put those

303
00:13:19,360 --> 00:13:27,250
in<font color="#CCCCCC"> okay blind blind takes forever</font><font color="#E5E5E5"> this</font>

304
00:13:25,450 --> 00:13:28,889
is why we don't do it<font color="#CCCCCC"> unless we</font>

305
00:13:27,250 --> 00:13:32,249
<font color="#E5E5E5">absolutely have</font>

306
00:13:28,889 --> 00:13:35,309
no choice so you asked the database hey

307
00:13:32,249 --> 00:13:38,970
database if the user length is equal to

308
00:13:35,309 --> 00:13:41,279
<font color="#CCCCCC">1 can you wait 10 seconds now it comes</font>

309
00:13:38,970 --> 00:13:45,959
back immediately<font color="#CCCCCC"> ok well usually length</font>

310
00:13:41,279 --> 00:13:49,739
is in equal to<font color="#E5E5E5"> 1</font><font color="#CCCCCC"> ok hey database if the</font>

311
00:13:45,959 --> 00:13:53,248
<font color="#E5E5E5">database user length is equal to 2 can</font>

312
00:13:49,739 --> 00:13:55,169
you wait 10 seconds sometimes<font color="#E5E5E5"> starting</font>

313
00:13:53,249 --> 00:13:56,699
to see that this is taking a while what

314
00:13:55,169 --> 00:14:00,179
if you have to like dump a database with

315
00:13:56,699 --> 00:14:03,868
like three million records yeah yeah

316
00:14:00,179 --> 00:14:05,910
awesome<font color="#CCCCCC"> yeah so in these cases this is</font>

317
00:14:03,869 --> 00:14:08,970
why I try not to<font color="#E5E5E5"> do blind cuz it takes</font>

318
00:14:05,910 --> 00:14:11,850
<font color="#CCCCCC">so</font><font color="#E5E5E5"> freaking long but if you do you have</font>

319
00:14:08,970 --> 00:14:14,939
no choice<font color="#CCCCCC"> or than great go for blind ok</font>

320
00:14:11,850 --> 00:14:18,029
all right you always need to break out

321
00:14:14,939 --> 00:14:19,858
<font color="#E5E5E5">your handy-dandy hex ascii decimal chart</font>

322
00:14:18,029 --> 00:14:23,189
you're going to<font color="#CCCCCC"> need this a lot ok</font>

323
00:14:19,859 --> 00:14:24,720
encoding is going to be huge with the

324
00:14:23,189 --> 00:14:26,849
web stuff you always want to<font color="#E5E5E5"> keep this</font>

325
00:14:24,720 --> 00:14:29,309
kind<font color="#CCCCCC"> of chart handy I'm a geek don't get</font>

326
00:14:26,850 --> 00:14:32,369
me wrong<font color="#CCCCCC"> ok but I</font><font color="#E5E5E5"> don't have this stuff</font>

327
00:14:29,309 --> 00:14:33,600
memorized sorry<font color="#E5E5E5"> ok ya ever like talk to</font>

328
00:14:32,369 --> 00:14:36,179
somebody and they're like oh yeah you

329
00:14:33,600 --> 00:14:42,449
<font color="#E5E5E5">know it's a but that's not me so I have</font>

330
00:14:36,179 --> 00:14:44,279
a chart better yet have a mouse pad<font color="#E5E5E5"> ok</font>

331
00:14:42,449 --> 00:14:46,258
so blind SQL injection where you're

332
00:14:44,279 --> 00:14:49,319
extracting the user so you're saying hey

333
00:14:46,259 --> 00:14:57,269
if the first letter of the character for

334
00:14:49,319 --> 00:14:59,549
user is an<font color="#CCCCCC"> a can you wait 10 seconds now</font>

335
00:14:57,269 --> 00:15:01,919
how long will this take guys is you're

336
00:14:59,549 --> 00:15:05,910
<font color="#E5E5E5">going to be like is it ma is it a B is</font>

337
00:15:01,919 --> 00:15:07,949
it a see is it a d now here in<font color="#E5E5E5"> D it</font>

338
00:15:05,910 --> 00:15:12,480
comes back after 10 seconds this is

339
00:15:07,949 --> 00:15:14,279
taking a while this sucks<font color="#CCCCCC"> ok all right</font>

340
00:15:12,480 --> 00:15:17,369
and then we immediately try the second

341
00:15:14,279 --> 00:15:21,839
character<font color="#E5E5E5"> ok is it an a is it a B is it</font>

342
00:15:17,369 --> 00:15:23,699
oh god this sucks<font color="#E5E5E5"> ok all right and we</font>

343
00:15:21,839 --> 00:15:25,379
alway get down to what's an Oso now they

344
00:15:23,699 --> 00:15:28,319
know now we know that<font color="#CCCCCC"> the database user</font>

345
00:15:25,379 --> 00:15:32,999
is DB oh man that really sucked didn't

346
00:15:28,319 --> 00:15:34,618
it<font color="#E5E5E5"> ok this sucks alright so my SQL</font>

347
00:15:32,999 --> 00:15:36,689
syntax I'm going to kind of skip through

348
00:15:34,619 --> 00:15:39,239
some of this I won't dig real deep into

349
00:15:36,689 --> 00:15:41,279
this but generally with mysql there is

350
00:15:39,239 --> 00:15:42,120
<font color="#E5E5E5">error based but most of the times you're</font>

351
00:15:41,279 --> 00:15:45,060
going<font color="#E5E5E5"> to find that you're</font><font color="#CCCCCC"> going</font>

352
00:15:42,120 --> 00:15:49,260
have to use<font color="#CCCCCC"> Union and blind with MySQL</font>

353
00:15:45,060 --> 00:15:50,279
so let's jump on it all right key things

354
00:15:49,260 --> 00:15:51,990
that you're<font color="#CCCCCC"> going</font><font color="#E5E5E5"> to need to know with</font>

355
00:15:50,279 --> 00:15:53,400
blind you're going to<font color="#E5E5E5"> need to know the</font>

356
00:15:51,990 --> 00:15:56,750
number of tables excuse any number of

357
00:15:53,400 --> 00:15:59,430
columns column names path to the website

358
00:15:56,750 --> 00:16:02,279
a lot<font color="#E5E5E5"> of times you have</font><font color="#CCCCCC"> to guess table</font>

359
00:15:59,430 --> 00:16:04,589
names attacking<font color="#E5E5E5"> mysql kind of sucks yeah</font>

360
00:16:02,279 --> 00:16:09,210
nowhere<font color="#E5E5E5"> near as much fun as the tacky</font>

361
00:16:04,589 --> 00:16:10,950
and ms SQL<font color="#E5E5E5"> alright so one of the things</font>

362
00:16:09,210 --> 00:16:14,010
<font color="#E5E5E5">that</font><font color="#CCCCCC"> i really like to use</font><font color="#E5E5E5"> is the order</font>

363
00:16:10,950 --> 00:16:16,560
by operator so i'll say ID equals<font color="#CCCCCC"> 1</font>

364
00:16:14,010 --> 00:16:18,870
order by 10 and then if it gives me the

365
00:16:16,560 --> 00:16:23,310
<font color="#CCCCCC">error message unknown column Tim and</font>

366
00:16:18,870 --> 00:16:26,370
<font color="#E5E5E5">order by Clause then I know</font><font color="#CCCCCC"> ok it's less</font>

367
00:16:23,310 --> 00:16:29,790
<font color="#CCCCCC">than</font><font color="#E5E5E5"> 10 columns so now have it so I'll</font>

368
00:16:26,370 --> 00:16:32,460
say order<font color="#E5E5E5"> by five and now it returns a</font>

369
00:16:29,790 --> 00:16:36,510
valid page so now I know it's more<font color="#E5E5E5"> than</font>

370
00:16:32,460 --> 00:16:39,360
<font color="#E5E5E5">five columns but less than what I'm glad</font>

371
00:16:36,510 --> 00:16:40,830
you guys are listening way to go<font color="#E5E5E5"> ok so</font>

372
00:16:39,360 --> 00:16:42,570
you keep doing<font color="#CCCCCC"> this until you figure out</font>

373
00:16:40,830 --> 00:16:46,529
how many<font color="#E5E5E5"> columns you have and this works</font>

374
00:16:42,570 --> 00:16:48,660
for ms SQL as well all right now once

375
00:16:46,529 --> 00:16:51,360
you actually come up with the correct

376
00:16:48,660 --> 00:16:53,010
number<font color="#CCCCCC"> of columns now you have to try</font>

377
00:16:51,360 --> 00:16:56,730
<font color="#CCCCCC">and figure out how we can get</font><font color="#E5E5E5"> this</font>

378
00:16:53,010 --> 00:16:58,950
database to tell us what is the column

379
00:16:56,730 --> 00:17:01,380
number we're going to use to pull data

380
00:16:58,950 --> 00:17:04,260
<font color="#E5E5E5">out of it so generally what I do is I'll</font>

381
00:17:01,380 --> 00:17:08,429
change that ID to a negative<font color="#CCCCCC"> number or</font>

382
00:17:04,260 --> 00:17:11,429
the word null now doing that causes<font color="#CCCCCC"> the</font>

383
00:17:08,429 --> 00:17:13,980
rest of the columns to try to display so

384
00:17:11,429 --> 00:17:15,870
<font color="#E5E5E5">usually what happens is you'll get some</font>

385
00:17:13,980 --> 00:17:17,819
<font color="#CCCCCC">numbers in the middle of</font><font color="#E5E5E5"> the screen just</font>

386
00:17:15,869 --> 00:17:19,409
looks crazy you<font color="#E5E5E5"> got a blank page with</font>

387
00:17:17,819 --> 00:17:21,839
like a five and a two in the middle of

388
00:17:19,410 --> 00:17:23,160
the screen<font color="#E5E5E5"> it kind of like</font><font color="#CCCCCC"> okay this is</font>

389
00:17:21,839 --> 00:17:30,389
on<font color="#E5E5E5"> this website is about to get the beat</font>

390
00:17:23,160 --> 00:17:32,460
down so this<font color="#CCCCCC"> is an example of a website</font>

391
00:17:30,390 --> 00:17:34,830
and<font color="#E5E5E5"> you see that i put the null in there</font>

392
00:17:32,460 --> 00:17:38,850
and it<font color="#E5E5E5"> comes back and it tells me six</font>

393
00:17:34,830 --> 00:17:41,428
and three like<font color="#CCCCCC"> ok so in column number</font>

394
00:17:38,850 --> 00:17:42,959
three do you see how I put user and then

395
00:17:41,429 --> 00:17:46,260
column number<font color="#E5E5E5"> six you see how I put</font>

396
00:17:42,960 --> 00:17:48,360
version and now the data displays right

397
00:17:46,260 --> 00:17:52,980
to the middle<font color="#E5E5E5"> of the screen so MySQL</font>

398
00:17:48,360 --> 00:17:55,260
version 50 45 and the user is<font color="#E5E5E5"> WS user at</font>

399
00:17:52,980 --> 00:17:56,070
localhost<font color="#E5E5E5"> ok so now you're proving that</font>

400
00:17:55,260 --> 00:17:59,520
you can extract

401
00:17:56,070 --> 00:18:01,350
data from<font color="#E5E5E5"> it okay and then the key</font>

402
00:17:59,520 --> 00:18:04,139
things that I like to use with mysql i

403
00:18:01,350 --> 00:18:06,750
like to use user I like<font color="#CCCCCC"> to use database</font>

404
00:18:04,140 --> 00:18:08,340
version and data<font color="#CCCCCC"> derp whats</font><font color="#E5E5E5"> the</font>

405
00:18:06,750 --> 00:18:11,400
directory with all the actual my SQL

406
00:18:08,340 --> 00:18:15,330
files are stored<font color="#E5E5E5"> okay good good good</font>

407
00:18:11,400 --> 00:18:18,780
good good okay um quick little tidbit

408
00:18:15,330 --> 00:18:21,780
when you're using database and DB

409
00:18:18,780 --> 00:18:23,070
underscore name with the<font color="#E5E5E5"> parentheses if</font>

410
00:18:21,780 --> 00:18:24,720
you actually<font color="#E5E5E5"> change that I should have</font>

411
00:18:23,070 --> 00:18:28,050
<font color="#CCCCCC">put</font><font color="#E5E5E5"> that on the slide but I did it if</font>

412
00:18:24,720 --> 00:18:30,000
you actually put a 0 in the<font color="#E5E5E5"> parentheses</font>

413
00:18:28,050 --> 00:18:32,220
that will give you the first database

414
00:18:30,000 --> 00:18:34,170
and you can change<font color="#E5E5E5"> it to</font><font color="#CCCCCC"> a one you can</font>

415
00:18:32,220 --> 00:18:35,310
get the next database you<font color="#E5E5E5"> can change it</font>

416
00:18:34,170 --> 00:18:37,590
to<font color="#E5E5E5"> a</font><font color="#CCCCCC"> two and you can keep iterating</font>

417
00:18:35,310 --> 00:18:38,760
through all of the databases on<font color="#CCCCCC"> the box</font>

418
00:18:37,590 --> 00:18:46,860
i really should<font color="#E5E5E5"> have put that on the</font>

419
00:18:38,760 --> 00:18:49,200
slides<font color="#E5E5E5"> bat speaker ok so we've already</font>

420
00:18:46,860 --> 00:18:51,719
got this how do we<font color="#E5E5E5"> get the user how do</font>

421
00:18:49,200 --> 00:18:56,640
we<font color="#E5E5E5"> get the server name</font><font color="#CCCCCC"> ok oh there it is</font>

422
00:18:51,720 --> 00:19:01,910
it is in the slides cock awesome<font color="#CCCCCC"> I'm a</font>

423
00:18:56,640 --> 00:19:01,910
good speaker sure

424
00:19:10,030 --> 00:19:13,870
they have to get less real

425
00:19:15,430 --> 00:19:20,960
you are<font color="#E5E5E5"> getting the user name of the</font>

426
00:19:18,080 --> 00:19:30,620
database user<font color="#E5E5E5"> that's currently accessing</font>

427
00:19:20,960 --> 00:19:32,210
the database from the website right that

428
00:19:30,620 --> 00:19:33,830
user needs to be able<font color="#E5E5E5"> to determine that</font>

429
00:19:32,210 --> 00:19:36,200
these other databases are on the box

430
00:19:33,830 --> 00:19:38,240
right so you'll have cases where<font color="#E5E5E5"> you can</font>

431
00:19:36,200 --> 00:19:41,120
see<font color="#CCCCCC"> okay there's 40 databases on this</font>

432
00:19:38,240 --> 00:19:43,070
box I can only<font color="#E5E5E5"> access two of them I run</font>

433
00:19:41,120 --> 00:19:44,570
into that a lot but again proving to a

434
00:19:43,070 --> 00:19:46,220
customer that<font color="#CCCCCC"> you really can extract</font>

435
00:19:44,570 --> 00:19:47,360
data and the other thing<font color="#CCCCCC"> that you</font><font color="#E5E5E5"> can do</font>

436
00:19:46,220 --> 00:19:49,820
and we'll talk<font color="#E5E5E5"> about this a couple of</font>

437
00:19:47,360 --> 00:19:53,000
slides later is you can brute force the

438
00:19:49,820 --> 00:19:55,040
essay account so all via SQL injection

439
00:19:53,000 --> 00:19:57,560
you can group force the essay account so

440
00:19:55,040 --> 00:20:00,710
let's<font color="#E5E5E5"> say I can enumerate 15 databases</font>

441
00:19:57,560 --> 00:20:03,260
and I'm running<font color="#E5E5E5"> as user Joe instead of</font>

442
00:20:00,710 --> 00:20:04,940
user essay or dbo I'll just brute force

443
00:20:03,260 --> 00:20:06,530
the database crack out a good 12 million

444
00:20:04,940 --> 00:20:13,250
where dictionary remember admins don't

445
00:20:06,530 --> 00:20:16,570
look at logs and you know go<font color="#E5E5E5"> for it ok</font>

446
00:20:13,250 --> 00:20:18,590
so the Union we already talked about

447
00:20:16,570 --> 00:20:21,379
changing it to a null we already talked

448
00:20:18,590 --> 00:20:23,149
<font color="#CCCCCC">about okay and this is the true false</font>

449
00:20:21,380 --> 00:20:25,670
blind this is actually the method that

450
00:20:23,150 --> 00:20:28,970
SQL map uses<font color="#CCCCCC"> okay now you have to keep</font>

451
00:20:25,670 --> 00:20:31,370
it this in mind SQL map is making the

452
00:20:28,970 --> 00:20:34,850
determination by same if one equals one

453
00:20:31,370 --> 00:20:37,790
I get a valid page if one equals two I

454
00:20:34,850 --> 00:20:40,010
get some sort of error page or invalid

455
00:20:37,790 --> 00:20:43,280
page so this is<font color="#CCCCCC"> why you'll run into</font>

456
00:20:40,010 --> 00:20:45,440
<font color="#E5E5E5">cases where you can trigger some sort of</font>

457
00:20:43,280 --> 00:20:47,660
error and then you do your one equals

458
00:20:45,440 --> 00:20:50,720
<font color="#E5E5E5">one your one equals two and you get the</font>

459
00:20:47,660 --> 00:20:55,400
same<font color="#E5E5E5"> page so now SQL map tells you it's</font>

460
00:20:50,720 --> 00:21:00,820
not injectable does that suck yes that

461
00:20:55,400 --> 00:21:02,810
sucks<font color="#E5E5E5"> okay all right the blind</font>

462
00:21:00,820 --> 00:21:05,149
<font color="#CCCCCC">time-based blind i use the wait for</font>

463
00:21:02,810 --> 00:21:07,790
delay method<font color="#E5E5E5"> okay and you're going to</font>

464
00:21:05,150 --> 00:21:09,080
notice how you<font color="#E5E5E5"> can ask it what version</font>

465
00:21:07,790 --> 00:21:11,480
you're running if you're running<font color="#CCCCCC"> this</font>

466
00:21:09,080 --> 00:21:14,090
essay or if the current user is a member

467
00:21:11,480 --> 00:21:17,840
<font color="#E5E5E5">of the sysadmin group okay good things</font>

468
00:21:14,090 --> 00:21:19,699
you can do<font color="#E5E5E5"> okay all right SQL injection</font>

469
00:21:17,840 --> 00:21:21,830
in the<font color="#E5E5E5"> real world who's been testing now</font>

470
00:21:19,700 --> 00:21:23,490
who's running into SQL injection does it

471
00:21:21,830 --> 00:21:25,320
suck you're like

472
00:21:23,490 --> 00:21:26,760
dude you know I'm<font color="#E5E5E5"> trying to pull out</font>

473
00:21:25,320 --> 00:21:28,770
this error and it keeps giving me funky

474
00:21:26,760 --> 00:21:35,700
errors anybody deal with that<font color="#E5E5E5"> all right</font>

475
00:21:28,770 --> 00:21:37,559
so all right late at night I'm<font color="#E5E5E5"> drinking</font>

476
00:21:35,700 --> 00:21:40,950
rum and coke when I'm contesting this is

477
00:21:37,559 --> 00:21:43,170
me<font color="#E5E5E5"> okay am you</font><font color="#CCCCCC"> know I</font><font color="#E5E5E5"> listen to youtube</font>

478
00:21:40,950 --> 00:21:44,370
and watch a lot of music and all that

479
00:21:43,170 --> 00:21:45,840
kind of stuff but you<font color="#CCCCCC"> know I get bigger</font>

480
00:21:44,370 --> 00:21:47,909
I don't care<font color="#CCCCCC"> if you don't care if you</font>

481
00:21:45,840 --> 00:21:49,709
judge me I get better is it just<font color="#CCCCCC"> me or</font>

482
00:21:47,910 --> 00:21:51,570
is<font color="#CCCCCC"> it kind of jacked up that Little John</font>

483
00:21:49,710 --> 00:21:53,040
makes millions of dollars a year and the

484
00:21:51,570 --> 00:21:57,720
guy only<font color="#E5E5E5"> has a vocabulary of like two</font>

485
00:21:53,040 --> 00:21:59,940
words does that bother anybody like I'm

486
00:21:57,720 --> 00:22:01,710
like<font color="#CCCCCC"> pin</font><font color="#E5E5E5"> testing banks and like breaking</font>

487
00:21:59,940 --> 00:22:03,170
into a multi-billion dollar systems and

488
00:22:01,710 --> 00:22:06,630
all that kind of junk and I'm like dude

489
00:22:03,170 --> 00:22:09,630
I'm not<font color="#E5E5E5"> making that kind of money</font><font color="#CCCCCC"> oh my</font>

490
00:22:06,630 --> 00:22:11,250
god so I'm a shirt and tie kind of guy

491
00:22:09,630 --> 00:22:13,170
you know don't let the con thing for you

492
00:22:11,250 --> 00:22:16,380
you know all day I'm the time suited up

493
00:22:13,170 --> 00:22:18,210
you know sooty booty right so should I

494
00:22:16,380 --> 00:22:20,340
trade in all that<font color="#E5E5E5"> crap</font><font color="#CCCCCC"> you know for a</font>

495
00:22:18,210 --> 00:22:26,640
mouthful of gold teeth some dreads baggy

496
00:22:20,340 --> 00:22:32,699
pants 40 ounce and a fat blunt that's my

497
00:22:26,640 --> 00:22:35,490
boy<font color="#E5E5E5"> haha good what the fuck right I run</font>

498
00:22:32,700 --> 00:22:38,360
into this<font color="#E5E5E5"> okay so in a little bitter so</font>

499
00:22:35,490 --> 00:22:41,880
we're going to own Little John com so

500
00:22:38,360 --> 00:22:45,240
we've got Little John you know calm /

501
00:22:41,880 --> 00:22:48,059
Lil Jon dot ASP<font color="#E5E5E5"> okay the parameter</font>

502
00:22:45,240 --> 00:22:49,650
passing is little equals and we're going

503
00:22:48,059 --> 00:22:53,040
to insert our tick so we get our

504
00:22:49,650 --> 00:22:55,140
Microsoft lle DB error alright cool so

505
00:22:53,040 --> 00:22:56,610
<font color="#CCCCCC">now I'm ready to go do my</font><font color="#E5E5E5"> thing go</font>

506
00:22:55,140 --> 00:23:00,000
distract the data and<font color="#E5E5E5"> all this kind of</font>

507
00:22:56,610 --> 00:23:03,030
stuff so<font color="#CCCCCC"> I say okay convert int user</font>

508
00:23:00,000 --> 00:23:04,520
exactly what I taught you guys right and

509
00:23:03,030 --> 00:23:13,260
then it gives you a really weird error

510
00:23:04,520 --> 00:23:15,389
incorrect syntax near right parent is it

511
00:23:13,260 --> 00:23:18,240
just me or our code is<font color="#E5E5E5"> smoking crack</font>

512
00:23:15,390 --> 00:23:19,620
what the hell is up with that and I'm

513
00:23:18,240 --> 00:23:22,260
not<font color="#E5E5E5"> lying I think I must have spent</font>

514
00:23:19,620 --> 00:23:24,689
three days on this i'm reading the msdn

515
00:23:22,260 --> 00:23:27,080
and all that news<font color="#CCCCCC"> I actually</font><font color="#E5E5E5"> had to sit</font>

516
00:23:24,690 --> 00:23:31,320
<font color="#E5E5E5">down and read micro shaft documentation</font>

517
00:23:27,080 --> 00:23:33,480
yeah you're like good god what is going

518
00:23:31,320 --> 00:23:35,040
on<font color="#CCCCCC"> with this so I don't know you know</font>

519
00:23:33,480 --> 00:23:36,669
what screw it<font color="#E5E5E5"> I'm gonna put an extra</font>

520
00:23:35,040 --> 00:23:41,259
right parenthesis in it and it

521
00:23:36,669 --> 00:23:45,519
<font color="#E5E5E5">work shoot three</font><font color="#CCCCCC"> freakin days and</font><font color="#E5E5E5"> that's</font>

522
00:23:41,259 --> 00:23:46,960
all it<font color="#E5E5E5"> was like my god so it's stuff</font>

523
00:23:45,519 --> 00:23:48,249
like that where you might actually have

524
00:23:46,960 --> 00:23:50,379
a tool that determines that it's

525
00:23:48,249 --> 00:23:51,609
vulnerable but can extract data because

526
00:23:50,379 --> 00:23:54,158
it doesn't realize<font color="#CCCCCC"> that you actually</font>

527
00:23:51,609 --> 00:23:55,629
need an extra right parenthesis and this

528
00:23:54,159 --> 00:23:57,190
is why you'll have pen testers who tell

529
00:23:55,629 --> 00:23:58,509
you well you there's no need to fix that

530
00:23:57,190 --> 00:24:01,690
vulnerability it's not really

531
00:23:58,509 --> 00:24:03,309
exploitable right they just don't they

532
00:24:01,690 --> 00:24:05,619
actually have a life they're not liking

533
00:24:03,309 --> 00:24:07,210
me<font color="#E5E5E5"> okay I will sit here all night with</font>

534
00:24:05,619 --> 00:24:12,100
my rum and coke and I will<font color="#E5E5E5"> try to figure</font>

535
00:24:07,210 --> 00:24:14,739
this out right all right next one<font color="#E5E5E5"> all</font>

536
00:24:12,100 --> 00:24:18,369
<font color="#E5E5E5">right so</font><font color="#CCCCCC"> I'm trying</font><font color="#E5E5E5"> to get the database</font>

537
00:24:14,739 --> 00:24:20,350
name and let's work in try to get the

538
00:24:18,369 --> 00:24:22,959
version and it's working<font color="#CCCCCC"> okay its</font>

539
00:24:20,350 --> 00:24:25,149
database enumerated yeah state-based

540
00:24:22,960 --> 00:24:31,989
enumerated yeah this was a lot<font color="#CCCCCC"> more</font>

541
00:24:25,149 --> 00:24:35,799
funny when I was drinking ok next one I

542
00:24:31,989 --> 00:24:38,590
run into PHP so I'll pull it out data

543
00:24:35,799 --> 00:24:40,899
<font color="#E5E5E5">just like I showed you guys right union</font>

544
00:24:38,590 --> 00:24:42,129
all select<font color="#E5E5E5"> percent time twentieths of</font>

545
00:24:40,899 --> 00:24:44,320
space for those of you who<font color="#CCCCCC"> don't know</font>

546
00:24:42,129 --> 00:24:46,689
<font color="#E5E5E5">okay but everybody knows they like do it</font>

547
00:24:44,320 --> 00:24:49,178
if<font color="#CCCCCC"> I</font><font color="#E5E5E5"> can know</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> okay fine smarty</font>

548
00:24:46,690 --> 00:24:51,999
<font color="#E5E5E5">pants okay so union i'll select one</font>

549
00:24:49,179 --> 00:24:56,429
union all select 12 then i get this

550
00:24:51,999 --> 00:25:01,859
error text or in text or image data type

551
00:24:56,429 --> 00:25:01,859
cannot be selected as distinctive

552
00:25:01,919 --> 00:25:10,659
anybody else back there like dude I

553
00:25:04,230 --> 00:25:14,769
don't know exactly man coders coders

554
00:25:10,659 --> 00:25:16,749
need help bro coders need help so you

555
00:25:14,769 --> 00:25:18,940
know this is when google translator

556
00:25:16,749 --> 00:25:21,129
comes in<font color="#CCCCCC"> helped it helpful because</font><font color="#E5E5E5"> i</font>

557
00:25:18,940 --> 00:25:23,980
found some guy who was running into the

558
00:25:21,129 --> 00:25:26,529
same thing on a chinese website so

559
00:25:23,980 --> 00:25:29,080
translate it dude was like yeah if you

560
00:25:26,529 --> 00:25:31,570
<font color="#E5E5E5">just do this text hello it'll let you</font>

561
00:25:29,080 --> 00:25:33,939
keep a numerate in the database I'm like

562
00:25:31,570 --> 00:25:39,220
okay that makes a whole<font color="#E5E5E5"> lot of freakin</font>

563
00:25:33,940 --> 00:25:42,460
sense<font color="#E5E5E5"> okay</font><font color="#CCCCCC"> all right so let's keep on</font>

564
00:25:39,220 --> 00:25:43,749
doing<font color="#CCCCCC"> that right okay so now</font><font color="#E5E5E5"> I'm doing</font>

565
00:25:42,460 --> 00:25:46,599
<font color="#E5E5E5">the same thing and doing the same thing</font>

566
00:25:43,749 --> 00:25:49,810
I get down to eight nine and it tells me

567
00:25:46,599 --> 00:25:54,460
<font color="#E5E5E5">Oh operand type clash</font>

568
00:25:49,810 --> 00:25:55,990
okay text is incompatible with int this

569
00:25:54,460 --> 00:25:59,470
sucks well I tried my hello thing I

570
00:25:55,990 --> 00:26:00,820
didn't work<font color="#E5E5E5"> okay you were like working</font>

571
00:25:59,470 --> 00:26:04,840
<font color="#E5E5E5">on something you like oh I got this a</font>

572
00:26:00,820 --> 00:26:07,389
shit<font color="#CCCCCC"> that doesn't work</font><font color="#E5E5E5"> okay so I threw</font>

573
00:26:04,840 --> 00:26:10,470
in the word null and it worked<font color="#E5E5E5"> okay so</font>

574
00:26:07,390 --> 00:26:14,080
key tips always use union with all

575
00:26:10,470 --> 00:26:15,670
because of images and had to realize

576
00:26:14,080 --> 00:26:17,679
that<font color="#E5E5E5"> when they're</font><font color="#CCCCCC"> talking about in text</font>

577
00:26:15,670 --> 00:26:19,710
<font color="#CCCCCC">its cases where they have like actual</font>

578
00:26:17,680 --> 00:26:24,630
images in the database like thumbnails

579
00:26:19,710 --> 00:26:27,910
okay you're like oh dude okay I get it

580
00:26:24,630 --> 00:26:30,100
<font color="#CCCCCC">all right</font><font color="#E5E5E5"> so use null in Union</font>

581
00:26:27,910 --> 00:26:32,530
injections for most data types instead

582
00:26:30,100 --> 00:26:35,020
of<font color="#E5E5E5"> trying to guess as a string is it you</font>

583
00:26:32,530 --> 00:26:37,090
know data is an integer is in text and

584
00:26:35,020 --> 00:26:38,740
all that just grow null in there<font color="#E5E5E5"> and</font>

585
00:26:37,090 --> 00:26:41,110
that usually<font color="#E5E5E5"> works a lot you'll notice</font>

586
00:26:38,740 --> 00:26:43,030
what SQL map actually test for union

587
00:26:41,110 --> 00:26:46,479
based on SQL injection it just says

588
00:26:43,030 --> 00:26:47,980
<font color="#E5E5E5">Union no no no no no no so that it can</font>

589
00:26:46,480 --> 00:26:51,790
try to get by these types of errors

590
00:26:47,980 --> 00:26:55,600
until you run into that you<font color="#E5E5E5"> know text in</font>

591
00:26:51,790 --> 00:26:58,510
text image stuff<font color="#E5E5E5"> all right privilege</font>

592
00:26:55,600 --> 00:27:01,120
escalation okay anybody<font color="#E5E5E5"> read</font>

593
00:26:58,510 --> 00:27:03,850
Litchfield's work let's<font color="#E5E5E5"> fail</font><font color="#CCCCCC"> at this</font>

594
00:27:01,120 --> 00:27:06,790
dude is a<font color="#CCCCCC"> freakin genius litchfield is</font>

595
00:27:03,850 --> 00:27:10,929
sick I can't believe this so he figures

596
00:27:06,790 --> 00:27:12,820
out that this open rowset SQL oledb you

597
00:27:10,930 --> 00:27:15,460
can<font color="#CCCCCC"> actually make a connection to the</font>

598
00:27:12,820 --> 00:27:17,139
database and specify a username and

599
00:27:15,460 --> 00:27:21,790
<font color="#E5E5E5">password to see if it allows you to</font>

600
00:27:17,140 --> 00:27:23,740
connect to it<font color="#E5E5E5"> okay so now we use this to</font>

601
00:27:21,790 --> 00:27:25,240
determine<font color="#E5E5E5"> if we can brute force we just</font>

602
00:27:23,740 --> 00:27:27,580
get our dictionary and we keep

603
00:27:25,240 --> 00:27:30,280
substituting that password so you see

604
00:27:27,580 --> 00:27:32,080
<font color="#E5E5E5">I'll have Joe all caps Joe lowercase Joe</font>

605
00:27:30,280 --> 00:27:33,700
with the<font color="#CCCCCC"> zero and this</font><font color="#E5E5E5"> is literally how</font>

606
00:27:32,080 --> 00:27:36,760
you brute force you just keep

607
00:27:33,700 --> 00:27:38,170
iteratively asking it oh hey I'm trying

608
00:27:36,760 --> 00:27:40,060
<font color="#E5E5E5">to make a connection to the database I'm</font>

609
00:27:38,170 --> 00:27:42,280
trying to connect as user SI with this

610
00:27:40,060 --> 00:27:43,600
password<font color="#E5E5E5"> okay Davis is like no that's</font>

611
00:27:42,280 --> 00:27:45,879
not<font color="#E5E5E5"> it hey I'm trying to make a</font>

612
00:27:43,600 --> 00:27:48,010
connection to the database<font color="#CCCCCC"> ssay with</font>

613
00:27:45,880 --> 00:27:49,450
this password okay and you just keep

614
00:27:48,010 --> 00:27:53,040
iterating through it and can it's how

615
00:27:49,450 --> 00:27:57,370
you brute force the essay account

616
00:27:53,040 --> 00:27:59,590
<font color="#CCCCCC">alright next thing is now that you found</font>

617
00:27:57,370 --> 00:28:02,350
the correct username for the essay

618
00:27:59,590 --> 00:28:04,270
account now you can use exact command

619
00:28:02,350 --> 00:28:07,928
so you do<font color="#CCCCCC"> the same</font><font color="#E5E5E5"> thing</font><font color="#CCCCCC"> with open row</font>

620
00:28:04,270 --> 00:28:10,539
<font color="#CCCCCC">set</font><font color="#E5E5E5"> and you say okay exact master SP ad</font>

621
00:28:07,929 --> 00:28:12,940
server role member sa and you take the

622
00:28:10,539 --> 00:28:18,669
current user and add them to the

623
00:28:12,940 --> 00:28:38,409
sysadmin screwed okay sweet okay all

624
00:28:18,669 --> 00:28:45,549
right password<font color="#E5E5E5"> right so correct password</font>

625
00:28:38,409 --> 00:28:48,150
you<font color="#E5E5E5"> can specify it right here specify</font>

626
00:28:45,549 --> 00:28:48,150
the password

627
00:28:50,780 --> 00:28:56,610
dude you rock<font color="#E5E5E5"> i wish i was like dan</font>

628
00:28:53,610 --> 00:29:00,990
kaminsky give you beer that good

629
00:28:56,610 --> 00:29:07,949
explanation awesome<font color="#E5E5E5"> okay oh sure sure</font>

630
00:29:00,990 --> 00:29:09,210
sure sure sure<font color="#E5E5E5"> okay so whenever you</font>

631
00:29:07,950 --> 00:29:12,210
authenticate to the database you're

632
00:29:09,210 --> 00:29:13,650
going in as<font color="#CCCCCC"> si once you get the password</font>

633
00:29:12,210 --> 00:29:17,160
you authenticate to it you run the

634
00:29:13,650 --> 00:29:20,190
stored procedure as Joe and then you you

635
00:29:17,160 --> 00:29:29,310
<font color="#CCCCCC">add the current website account into the</font>

636
00:29:20,190 --> 00:29:39,060
sysadmin group you think<font color="#E5E5E5"> I like</font><font color="#CCCCCC"> that and</font>

637
00:29:29,310 --> 00:29:42,600
kind of<font color="#E5E5E5"> wondering about you bro okay</font><font color="#CCCCCC"> all</font>

638
00:29:39,060 --> 00:29:44,399
<font color="#CCCCCC">right so how do we do this in ms SQL so</font>

639
00:29:42,600 --> 00:29:47,790
you do<font color="#CCCCCC"> the exact same thing and</font><font color="#E5E5E5"> you add</font>

640
00:29:44,400 --> 00:29:50,540
that user<font color="#CCCCCC"> okay or you're going to find</font>

641
00:29:47,790 --> 00:29:53,310
that it's a little bit different in 2005

642
00:29:50,540 --> 00:29:57,149
vs 2000 so the next slide kind of breaks

643
00:29:53,310 --> 00:29:59,490
it out a little bit<font color="#E5E5E5"> more</font><font color="#CCCCCC"> alright so</font>

644
00:29:57,150 --> 00:30:04,020
<font color="#E5E5E5">you're going to declare this variable</font>

645
00:29:59,490 --> 00:30:05,640
result declare<font color="#CCCCCC"> Oh L ER and you're going</font>

646
00:30:04,020 --> 00:30:09,330
<font color="#E5E5E5">to throw in this shell right and then</font>

647
00:30:05,640 --> 00:30:12,690
we're going to execute this w script do

648
00:30:09,330 --> 00:30:14,970
to do to do to do<font color="#E5E5E5"> okay now select this</font>

649
00:30:12,690 --> 00:30:17,700
result and we're<font color="#E5E5E5"> going to raise</font><font color="#CCCCCC"> this</font>

650
00:30:14,970 --> 00:30:22,650
user and we're going to execute this

651
00:30:17,700 --> 00:30:25,880
method and see if as si it can ping 127

652
00:30:22,650 --> 00:30:28,290
dot 0 to<font color="#E5E5E5"> 0 dot one with a count of eight</font>

653
00:30:25,880 --> 00:30:31,560
so now the reason that<font color="#E5E5E5"> we're doing this</font>

654
00:30:28,290 --> 00:30:34,170
<font color="#CCCCCC">is because we want</font><font color="#E5E5E5"> to see if we can ping</font>

655
00:30:31,560 --> 00:30:37,950
ourselves then we're running as<font color="#CCCCCC"> SA and</font>

656
00:30:34,170 --> 00:30:40,350
then if it takes eight seconds for the

657
00:30:37,950 --> 00:30:44,430
page to come back we know that it

658
00:30:40,350 --> 00:30:50,459
executed the ping I wrote it<font color="#CCCCCC"> with me you</font>

659
00:30:44,430 --> 00:30:52,410
guys rock<font color="#E5E5E5"> okay all right so syntax and</font>

660
00:30:50,460 --> 00:30:54,810
SQL<font color="#E5E5E5"> server 2005 is a little bit</font>

661
00:30:52,410 --> 00:30:56,330
different okay so you just say SP

662
00:30:54,810 --> 00:30:58,960
configure show Advanced Options

663
00:30:56,330 --> 00:31:03,970
reconfigure exact master

664
00:30:58,960 --> 00:31:07,149
it's<font color="#E5E5E5"> really all it is all right filter</font>

665
00:31:03,970 --> 00:31:09,580
evasion<font color="#E5E5E5"> okay this stuff really isn't</font>

666
00:31:07,149 --> 00:31:12,370
quite so black and white<font color="#E5E5E5"> okay when</font>

667
00:31:09,580 --> 00:31:14,020
<font color="#E5E5E5">you're dealing with filters you you</font>

668
00:31:12,370 --> 00:31:15,939
<font color="#E5E5E5">really kind of go with your gut you just</font>

669
00:31:14,020 --> 00:31:19,149
kind of keep messing with<font color="#E5E5E5"> it until you</font>

670
00:31:15,940 --> 00:31:21,010
see that you bypass the filter okay so

671
00:31:19,149 --> 00:31:23,408
the first one is client-side filtering

672
00:31:21,010 --> 00:31:25,360
this is some<font color="#E5E5E5"> coder idiot who's decided</font>

673
00:31:23,409 --> 00:31:27,399
that it would be a<font color="#E5E5E5"> great idea to filter</font>

674
00:31:25,360 --> 00:31:29,379
our database in kill our database input

675
00:31:27,399 --> 00:31:32,408
with<font color="#E5E5E5"> JavaScript that's going to display</font>

676
00:31:29,380 --> 00:31:35,500
on the local page this makes a<font color="#CCCCCC"> lot of</font>

677
00:31:32,409 --> 00:31:37,090
sense<font color="#E5E5E5"> right this makes a lot</font><font color="#CCCCCC"> of sense so</font>

678
00:31:35,500 --> 00:31:40,600
<font color="#E5E5E5">because Java scripts rendered on the</font>

679
00:31:37,090 --> 00:31:42,010
local browser the attacker has access to

680
00:31:40,600 --> 00:31:44,980
all<font color="#CCCCCC"> of the filtering that you're</font><font color="#E5E5E5"> trying</font>

681
00:31:42,010 --> 00:31:49,149
<font color="#E5E5E5">to do right like does that pass the</font>

682
00:31:44,980 --> 00:31:51,010
common sense test no<font color="#E5E5E5"> okay so this is</font>

683
00:31:49,149 --> 00:31:52,689
easy you can save the page locally

684
00:31:51,010 --> 00:31:55,210
remove the offending javascript or

685
00:31:52,690 --> 00:31:57,730
vbscript you can use a local proxy like

686
00:31:55,210 --> 00:31:59,140
perros web scarab burp suite any of

687
00:31:57,730 --> 00:32:02,529
these kinds of tools they find this type

688
00:31:59,140 --> 00:32:04,840
of stuff<font color="#E5E5E5"> okay next thing restrictive</font>

689
00:32:02,529 --> 00:32:06,460
blacklist sometimes you see coders who

690
00:32:04,840 --> 00:32:08,020
think that they're going<font color="#E5E5E5"> to stop SQL</font>

691
00:32:06,460 --> 00:32:11,770
injection what's saying you know what

692
00:32:08,020 --> 00:32:14,408
I'm going<font color="#E5E5E5"> to use a filter you're not</font>

693
00:32:11,770 --> 00:32:16,929
going to use things like less than

694
00:32:14,409 --> 00:32:18,580
greater than you're not<font color="#E5E5E5"> going to use tix</font>

695
00:32:16,929 --> 00:32:23,169
you're not going to do any<font color="#E5E5E5"> of that stuff</font>

696
00:32:18,580 --> 00:32:26,740
ok guys so which type of SQL injection

697
00:32:23,169 --> 00:32:28,990
requires the tick string-based so if

698
00:32:26,740 --> 00:32:31,990
they're asking for an integer we don't

699
00:32:28,990 --> 00:32:34,720
need the tick right<font color="#CCCCCC"> okay so that filter</font>

700
00:32:31,990 --> 00:32:36,610
work great huh the next thing is instead

701
00:32:34,720 --> 00:32:38,110
of<font color="#E5E5E5"> saying one equals one because they're</font>

702
00:32:36,610 --> 00:32:43,270
not<font color="#E5E5E5"> going to</font><font color="#CCCCCC"> let us use</font><font color="#E5E5E5"> an equal sign</font>

703
00:32:38,110 --> 00:32:49,959
well is one kind of like 12 kind of like

704
00:32:43,270 --> 00:32:53,408
two awesome bypass that filter<font color="#E5E5E5"> okay</font>

705
00:32:49,960 --> 00:32:56,380
signature-based<font color="#CCCCCC"> IDs guys I hate IDS's I</font>

706
00:32:53,409 --> 00:32:58,659
hate<font color="#CCCCCC"> ipss</font><font color="#E5E5E5"> I was an IDs analyst for a</font>

707
00:32:56,380 --> 00:33:04,450
couple of years so my hatred is

708
00:32:58,659 --> 00:33:07,929
justified okay all right so break out

709
00:33:04,450 --> 00:33:09,190
your chart let's do this okay so you

710
00:33:07,929 --> 00:33:11,320
grab<font color="#CCCCCC"> yourself your first</font><font color="#E5E5E5"> snorts</font>

711
00:33:09,190 --> 00:33:15,340
signature everybody community north<font color="#CCCCCC"> sig</font>

712
00:33:11,320 --> 00:33:17,470
<font color="#E5E5E5">alright so alert</font><font color="#CCCCCC"> TCP any IP address any</font>

713
00:33:15,340 --> 00:33:20,169
port number going to our web servers on

714
00:33:17,470 --> 00:33:23,740
our web server ports that has tick or

715
00:33:20,170 --> 00:33:25,930
one equals one that's a great freaking

716
00:33:23,740 --> 00:33:31,260
signature isn't it how do<font color="#E5E5E5"> we bypass that</font>

717
00:33:25,930 --> 00:33:36,850
guy's different numbers is<font color="#E5E5E5"> eight like a</font>

718
00:33:31,260 --> 00:33:38,470
right is nine like nine<font color="#E5E5E5"> okay so what if</font>

719
00:33:36,850 --> 00:33:42,899
it's integer base do we even need the

720
00:33:38,470 --> 00:33:45,280
tick so the whole signature fails okay

721
00:33:42,900 --> 00:33:49,690
all right so why do we<font color="#E5E5E5"> have these</font>

722
00:33:45,280 --> 00:33:51,160
signatures this is catchy idiots that

723
00:33:49,690 --> 00:33:52,930
that's exactly what I used to<font color="#E5E5E5"> say when i</font>

724
00:33:51,160 --> 00:33:55,180
was in ids guy i would say we only catch

725
00:33:52,930 --> 00:33:56,710
idiots we catch people who deserve to<font color="#E5E5E5"> be</font>

726
00:33:55,180 --> 00:33:58,690
caught we catch people who don't know

727
00:33:56,710 --> 00:34:00,700
<font color="#E5E5E5">where logs are stored on our is server</font>

728
00:33:58,690 --> 00:34:03,040
we catch people who don't know<font color="#E5E5E5"> how to</font>

729
00:34:00,700 --> 00:34:05,320
you know that the tftp a file down then

730
00:34:03,040 --> 00:34:07,060
I have these zero byte tftp files in the

731
00:34:05,320 --> 00:34:08,949
root directory you know we catch idiots

732
00:34:07,060 --> 00:34:10,600
we catch people who deserve it's like a

733
00:34:08,949 --> 00:34:15,609
<font color="#E5E5E5">Darwinian kind of thing like we got to</font>

734
00:34:10,600 --> 00:34:20,650
get them off the planet dude okay all

735
00:34:15,610 --> 00:34:23,890
right yes this is my opinion of<font color="#E5E5E5"> IDs okay</font>

736
00:34:20,650 --> 00:34:28,330
guys like I got one yes I got an

737
00:34:23,889 --> 00:34:30,639
attacker<font color="#CCCCCC"> all right so now we got a</font>

738
00:34:28,330 --> 00:34:33,429
little bit more complex of an IDs

739
00:34:30,639 --> 00:34:36,870
signature okay i'm gonna use pcre

740
00:34:33,429 --> 00:34:39,909
perl-compatible regular expressions baby

741
00:34:36,870 --> 00:34:41,170
okay don't mess<font color="#CCCCCC"> with</font><font color="#E5E5E5"> the regex right</font>

742
00:34:39,909 --> 00:34:43,359
this is when you like breaking out your

743
00:34:41,170 --> 00:34:46,420
real kung fu huh so we're looking<font color="#CCCCCC"> for</font>

744
00:34:43,360 --> 00:34:48,430
<font color="#E5E5E5">the word and or the word or and we're</font>

745
00:34:46,420 --> 00:34:49,810
<font color="#CCCCCC">looking for one equals one and we're not</font>

746
00:34:48,429 --> 00:34:54,040
even going to let you<font color="#CCCCCC"> use those comments</font>

747
00:34:49,810 --> 00:34:58,690
see the dash dash can't use those or the

748
00:34:54,040 --> 00:35:03,100
slash asterisk can't use those okay so

749
00:34:58,690 --> 00:35:05,770
how do we bypass this one<font color="#E5E5E5"> ideas</font>

750
00:35:03,100 --> 00:35:08,770
signature suck<font color="#E5E5E5"> don't pay okay so you're</font>

751
00:35:05,770 --> 00:35:12,790
<font color="#E5E5E5">seeing the two equals two %</font><font color="#CCCCCC"> 2d is how we</font>

752
00:35:08,770 --> 00:35:17,530
equate to the dash yeah is this looking

753
00:35:12,790 --> 00:35:19,870
for<font color="#E5E5E5"> hex no it is not okay so now if you</font>

754
00:35:17,530 --> 00:35:21,250
have open source tools like SQL map and

755
00:35:19,870 --> 00:35:23,339
all these<font color="#CCCCCC"> types of tools you can</font>

756
00:35:21,250 --> 00:35:25,740
actually<font color="#CCCCCC"> go in and just change this</font>

757
00:35:23,340 --> 00:35:29,280
in your tool so that it uses<font color="#E5E5E5"> 9 equals 9</font>

758
00:35:25,740 --> 00:35:32,129
+ % 2d instead of the hyphen<font color="#CCCCCC"> okay and</font>

759
00:35:29,280 --> 00:35:39,270
that's<font color="#E5E5E5"> how you get my ID SS ok learn</font>

760
00:35:32,130 --> 00:35:41,370
something uh snort normalizes the

761
00:35:39,270 --> 00:35:44,759
traffic this<font color="#CCCCCC"> is correct this is correct</font>

762
00:35:41,370 --> 00:35:47,220
snort normalizes the traffic<font color="#E5E5E5"> ok but what</font>

763
00:35:44,760 --> 00:35:50,730
<font color="#CCCCCC">you can do is you can use things like</font>

764
00:35:47,220 --> 00:35:52,200
you tf7 utf-8 utf-16<font color="#E5E5E5"> is a lot of people</font>

765
00:35:50,730 --> 00:35:56,940
<font color="#E5E5E5">don't</font><font color="#CCCCCC"> have that</font><font color="#E5E5E5"> type of thing turned on</font>

766
00:35:52,200 --> 00:35:58,980
because it's<font color="#E5E5E5"> too processor intensive all</font>

767
00:35:56,940 --> 00:36:01,560
right a<font color="#CCCCCC"> little bit more</font><font color="#E5E5E5"> complex of a</font>

768
00:35:58,980 --> 00:36:03,930
rule<font color="#CCCCCC"> ok so now we've got to select from</font>

769
00:36:01,560 --> 00:36:07,310
we've got the dashes<font color="#CCCCCC"> ok how do</font><font color="#E5E5E5"> we beat</font>

770
00:36:03,930 --> 00:36:11,129
this what's my bypass technique<font color="#E5E5E5"> I</font>

771
00:36:07,310 --> 00:36:13,950
converted the whole thing to hex so now

772
00:36:11,130 --> 00:36:15,750
we look at the next one here's the<font color="#E5E5E5"> Union</font>

773
00:36:13,950 --> 00:36:21,960
all we<font color="#E5E5E5"> just converted the entire thing</font>

774
00:36:15,750 --> 00:36:27,570
to hex yeah next<font color="#E5E5E5"> one you know a</font>

775
00:36:21,960 --> 00:36:29,370
lowercase s and an up go ahead where do

776
00:36:27,570 --> 00:36:32,640
you give a stuff<font color="#CCCCCC"> like that from the</font>

777
00:36:29,370 --> 00:36:34,470
get-go yeah Gary O'Leary has a unicode

778
00:36:32,640 --> 00:36:35,759
encrypting tool it's like a<font color="#E5E5E5"> couple</font>

779
00:36:34,470 --> 00:36:40,740
slides down you'll see what<font color="#CCCCCC"> I</font><font color="#E5E5E5"> have for</font>

780
00:36:35,760 --> 00:36:43,290
it yeah<font color="#CCCCCC"> ok so also there's a ton of</font>

781
00:36:40,740 --> 00:36:44,759
websites you know ascii convert and all

782
00:36:43,290 --> 00:36:46,529
that kind of stuff you<font color="#CCCCCC"> know those are</font>

783
00:36:44,760 --> 00:36:49,230
good websites for that sort of thing<font color="#CCCCCC"> ok</font>

784
00:36:46,530 --> 00:36:52,110
so are<font color="#E5E5E5"> you guys noticing that the S or</font>

785
00:36:49,230 --> 00:36:54,960
presents 973 and signature<font color="#E5E5E5"> six is</font><font color="#CCCCCC"> the</font>

786
00:36:52,110 --> 00:36:57,120
lowercase s and the lowercase e and if

787
00:36:54,960 --> 00:37:00,270
you<font color="#E5E5E5"> look down in signature</font><font color="#CCCCCC"> seven he's</font>

788
00:36:57,120 --> 00:37:02,970
got the<font color="#CCCCCC"> lowercase s % 73 and percents</font>

789
00:37:00,270 --> 00:37:06,570
I'm 53 for the lowercase s and the

790
00:37:02,970 --> 00:37:09,390
capital s<font color="#CCCCCC"> ok so these are really really</font>

791
00:37:06,570 --> 00:37:14,280
good<font color="#E5E5E5"> so how do we bypass that use a</font>

792
00:37:09,390 --> 00:37:15,930
different encoding type<font color="#CCCCCC"> ok all right so</font>

793
00:37:14,280 --> 00:37:18,210
what I like to say about this<font color="#CCCCCC"> IDs</font>

794
00:37:15,930 --> 00:37:20,160
evasion is pretty easy just ask Joe to

795
00:37:18,210 --> 00:37:22,050
teach you how<font color="#CCCCCC"> ok and</font><font color="#E5E5E5"> it's just a whole</font>

796
00:37:20,160 --> 00:37:24,180
bunch of encoding<font color="#CCCCCC"> its comment injection</font>

797
00:37:22,050 --> 00:37:26,430
where I've inserted comments in there<font color="#CCCCCC"> ok</font>

798
00:37:24,180 --> 00:37:27,870
a lot of that stuff works now for those

799
00:37:26,430 --> 00:37:30,060
of you who play with web application

800
00:37:27,870 --> 00:37:31,650
firewalls this type of technology is

801
00:37:30,060 --> 00:37:33,270
getting a lot<font color="#CCCCCC"> better because they have</font>

802
00:37:31,650 --> 00:37:35,830
things with a<font color="#E5E5E5"> compressed white space</font>

803
00:37:33,270 --> 00:37:39,550
they normalize traffic laughs are

804
00:37:35,830 --> 00:37:41,410
lot tougher<font color="#E5E5E5"> okay all</font><font color="#CCCCCC"> right so this kind</font>

805
00:37:39,550 --> 00:37:43,870
<font color="#E5E5E5">of takes us to the next step how do i</font>

806
00:37:41,410 --> 00:37:46,089
how do we identify web application

807
00:37:43,870 --> 00:37:48,609
firewalls web application firewalls and

808
00:37:46,090 --> 00:37:51,490
my experience have been surprisingly

809
00:37:48,610 --> 00:37:54,490
easy to find over determining if there's

810
00:37:51,490 --> 00:37:56,140
an IDs or<font color="#E5E5E5"> IPS solution in place so what</font>

811
00:37:54,490 --> 00:37:57,669
application firewalls they're all kinds

812
00:37:56,140 --> 00:38:00,970
of quick to tell you dude imma laugh

813
00:37:57,670 --> 00:38:04,090
don't<font color="#E5E5E5"> do</font><font color="#CCCCCC"> that yeah so our same</font>

814
00:38:00,970 --> 00:38:06,730
characters you know single tick quotes

815
00:38:04,090 --> 00:38:09,030
less than ? you know that kind of stuff

816
00:38:06,730 --> 00:38:13,480
<font color="#E5E5E5">a laugh will identify itself immediately</font>

817
00:38:09,030 --> 00:38:16,030
<font color="#E5E5E5">okay so here's an example of me throwing</font>

818
00:38:13,480 --> 00:38:18,760
a get request with curl<font color="#E5E5E5"> reppin for 501</font>

819
00:38:16,030 --> 00:38:22,000
so when you get 50 one method not

820
00:38:18,760 --> 00:38:24,250
implemented that's modsecurity<font color="#CCCCCC"> okay so</font>

821
00:38:22,000 --> 00:38:26,500
boom figured that one out so if you

822
00:38:24,250 --> 00:38:30,480
throw a tick and in the HTTP header<font color="#E5E5E5"> you</font>

823
00:38:26,500 --> 00:38:35,100
see no hacking<font color="#E5E5E5"> okay that's</font><font color="#CCCCCC"> web night</font>

824
00:38:30,480 --> 00:38:38,500
<font color="#CCCCCC">okay told you like really stealthy huh</font>

825
00:38:35,100 --> 00:38:40,360
<font color="#E5E5E5">okay all right ah that page wasn't</font>

826
00:38:38,500 --> 00:38:43,030
supposed to be gone<font color="#E5E5E5"> all right this is</font>

827
00:38:40,360 --> 00:38:46,810
<font color="#E5E5E5">Gary O'Leary's tool okay so it's got the</font>

828
00:38:43,030 --> 00:38:47,890
unit code and you can see<font color="#CCCCCC"> how I</font><font color="#E5E5E5"> just</font>

829
00:38:46,810 --> 00:38:50,020
throw like a script alert and it

830
00:38:47,890 --> 00:38:52,990
automatically converts it for me this is

831
00:38:50,020 --> 00:38:55,480
great<font color="#E5E5E5"> for ids deviation okay so you can</font>

832
00:38:52,990 --> 00:38:57,310
take all of your different signatures

833
00:38:55,480 --> 00:39:02,740
another website that<font color="#E5E5E5"> i don't have in my</font>

834
00:38:57,310 --> 00:39:05,140
slides is PHP ID s they have a demo tool

835
00:39:02,740 --> 00:39:06,729
where you can try all of your injections

836
00:39:05,140 --> 00:39:09,660
and cross site scripting and they will

837
00:39:06,730 --> 00:39:11,710
<font color="#E5E5E5">let you know what reg exes it's actually</font>

838
00:39:09,660 --> 00:39:15,490
detecting or bypassing or whatever the

839
00:39:11,710 --> 00:39:17,980
case<font color="#E5E5E5"> may be okay so here when you get</font>

840
00:39:15,490 --> 00:39:20,080
stuff<font color="#CCCCCC"> like this it's an error code 200</font>

841
00:39:17,980 --> 00:39:23,110
but the actual message says condition

842
00:39:20,080 --> 00:39:26,230
intercepted so in this case it's trying

843
00:39:23,110 --> 00:39:28,000
to throw off automated scanners because

844
00:39:26,230 --> 00:39:31,180
when it does something it gets an error

845
00:39:28,000 --> 00:39:34,900
code 200 instead of<font color="#E5E5E5"> some sort</font><font color="#CCCCCC"> of oh oh e</font>

846
00:39:31,180 --> 00:39:37,060
oh D oh D be Ciera right<font color="#CCCCCC"> table.chat you</font>

847
00:39:34,900 --> 00:39:41,620
can actually see that<font color="#E5E5E5"> it's just giving</font>

848
00:39:37,060 --> 00:39:44,110
back two hundred okays okay no this

849
00:39:41,620 --> 00:39:46,150
wasn't all right so dotnet defender

850
00:39:44,110 --> 00:39:48,680
dotnet defender is what I ran into as a

851
00:39:46,150 --> 00:39:50,930
laugh and my my most recent

852
00:39:48,680 --> 00:39:53,240
Bank pen test and I never heard of

853
00:39:50,930 --> 00:39:55,490
dotnet defender before this so if we're

854
00:39:53,240 --> 00:39:58,640
getting<font color="#CCCCCC"> this on tape you know hey sorry</font>

855
00:39:55,490 --> 00:40:00,229
i haven't notified the vendor so<font color="#E5E5E5"> i was</font>

856
00:39:58,640 --> 00:40:01,790
looking<font color="#E5E5E5"> at this and you know they give</font>

857
00:40:00,230 --> 00:40:04,490
you the big nasty gram see that look

858
00:40:01,790 --> 00:40:07,540
dotnet defender block this you suck I

859
00:40:04,490 --> 00:40:12,490
was kind<font color="#CCCCCC"> of like okay I guess I suck</font>

860
00:40:07,540 --> 00:40:14,720
<font color="#E5E5E5">okay blot my request lo</font><font color="#CCCCCC"> and behold</font>

861
00:40:12,490 --> 00:40:17,118
bypassing dotnet defender really wasn't

862
00:40:14,720 --> 00:40:19,368
all that hard dotnet defender is looking

863
00:40:17,119 --> 00:40:24,920
for the<font color="#E5E5E5"> tick for its SQL injection</font>

864
00:40:19,369 --> 00:40:28,460
checks oh<font color="#E5E5E5"> that's great awesome yep you</font>

865
00:40:24,920 --> 00:40:30,829
rock yeah buddy so there's me and

866
00:40:28,460 --> 00:40:34,160
conveniently this 16 billion dollar

867
00:40:30,829 --> 00:40:40,849
financial institution has its database

868
00:40:34,160 --> 00:40:41,899
running as user DB oh it just doesn't

869
00:40:40,849 --> 00:40:43,849
get any<font color="#E5E5E5"> better like you can't make this</font>

870
00:40:41,900 --> 00:40:47,329
stuff up I mean<font color="#E5E5E5"> really you can't make</font>

871
00:40:43,849 --> 00:40:48,890
this stuff up so you know<font color="#E5E5E5"> little dot net</font>

872
00:40:47,329 --> 00:40:51,079
defender thing it's gone now I'm not

873
00:40:48,890 --> 00:40:53,118
seeing<font color="#E5E5E5"> hearing anymore so I said hey</font>

874
00:40:51,079 --> 00:40:55,250
remember that user thing I showed you

875
00:40:53,119 --> 00:40:57,410
guys how to do now if you're noticing

876
00:40:55,250 --> 00:41:00,470
you can't really<font color="#E5E5E5"> see</font><font color="#CCCCCC"> it</font><font color="#E5E5E5"> but I had to use</font>

877
00:40:57,410 --> 00:41:02,328
that Gary O'Leary unicode encoding thing

878
00:41:00,470 --> 00:41:04,040
to<font color="#E5E5E5"> make it do this because when</font><font color="#CCCCCC"> I just</font>

879
00:41:02,329 --> 00:41:06,319
put in regular select statements it

880
00:41:04,040 --> 00:41:07,609
would catch that so I'd use the<font color="#E5E5E5"> Unicode</font>

881
00:41:06,319 --> 00:41:10,009
<font color="#E5E5E5">encoding thing that I showed you a few</font>

882
00:41:07,609 --> 00:41:12,109
slides back<font color="#E5E5E5"> okay and then did a select</font>

883
00:41:10,010 --> 00:41:14,990
version and he says yeah dude I'm

884
00:41:12,109 --> 00:41:18,020
running SQL server 2005<font color="#E5E5E5"> okay I'm running</font>

885
00:41:14,990 --> 00:41:19,549
on<font color="#CCCCCC"> a box that's server 2003 gives it up</font>

886
00:41:18,020 --> 00:41:22,009
like a cheap two-dollar ho right<font color="#E5E5E5"> just</font>

887
00:41:19,549 --> 00:41:23,960
<font color="#CCCCCC">like</font><font color="#E5E5E5"> too easy here you go take</font><font color="#CCCCCC"> it take</font>

888
00:41:22,010 --> 00:41:28,339
<font color="#CCCCCC">it</font><font color="#E5E5E5"> you want me turn</font><font color="#CCCCCC"> around to listen</font>

889
00:41:23,960 --> 00:41:29,569
takes it<font color="#E5E5E5"> okay all right then after that</font>

890
00:41:28,339 --> 00:41:32,710
I was like you<font color="#CCCCCC"> know what hey while I'm</font>

891
00:41:29,569 --> 00:41:39,160
here let's grab<font color="#E5E5E5"> the admin hashes yeah</font>

892
00:41:32,710 --> 00:41:42,710
yeah love<font color="#CCCCCC"> dotnet defender all right</font><font color="#E5E5E5"> and</font>

893
00:41:39,160 --> 00:41:44,660
that is my talk guys give you some basic

894
00:41:42,710 --> 00:41:47,630
references for SQL injection some

895
00:41:44,660 --> 00:41:50,149
tutorials pin test monkey he has<font color="#CCCCCC"> the</font>

896
00:41:47,630 --> 00:41:53,750
best SQL injection cheat sheets his

897
00:41:50,150 --> 00:41:56,359
cheat sheets rock okay and that is my

898
00:41:53,750 --> 00:41:58,779
talk I will<font color="#E5E5E5"> take questions now any</font>

899
00:41:56,359 --> 00:42:01,689
questions what

900
00:41:58,779 --> 00:42:03,309
ma'am not very familiar<font color="#E5E5E5"> with some of</font>

901
00:42:01,689 --> 00:42:04,989
this stuff<font color="#E5E5E5"> could you that's okay I mean</font>

902
00:42:03,309 --> 00:42:07,119
<font color="#E5E5E5">like on the app see like the web</font>

903
00:42:04,989 --> 00:42:09,069
application firewall letter like<font color="#E5E5E5"> IPS</font>

904
00:42:07,119 --> 00:42:10,659
like snort<font color="#E5E5E5"> coupe do you put a definition</font>

905
00:42:09,069 --> 00:42:12,089
in their first inning okay don't let<font color="#E5E5E5"> any</font>

906
00:42:10,659 --> 00:42:15,669
traffic through this says something<font color="#CCCCCC"> like</font>

907
00:42:12,089 --> 00:42:17,828
Microsoft oledb air or something<font color="#CCCCCC"> as an</font>

908
00:42:15,669 --> 00:42:19,808
outbound filter right<font color="#CCCCCC"> yeah</font><font color="#E5E5E5"> right but the</font>

909
00:42:17,829 --> 00:42:22,390
issue is that's only going to tech error

910
00:42:19,809 --> 00:42:23,919
based SQL injection so what about union

911
00:42:22,390 --> 00:42:26,679
based and blind well you're not getting

912
00:42:23,919 --> 00:42:28,689
odbc errors so that's gonna nail you so

913
00:42:26,679 --> 00:42:32,049
you're right the problem is because it's

914
00:42:28,689 --> 00:42:37,359
not always<font color="#E5E5E5"> just that one exactly cool</font>

915
00:42:32,049 --> 00:42:39,788
thanks exactly<font color="#CCCCCC"> um when you're doing the</font>

916
00:42:37,359 --> 00:42:42,328
pen test yeah how do you<font color="#E5E5E5"> attack against</font>

917
00:42:39,789 --> 00:42:44,529
sites that are using prepared statements

918
00:42:42,329 --> 00:42:46,269
well prepared statements and

919
00:42:44,529 --> 00:42:48,400
parameterised queries usually are not

920
00:42:46,269 --> 00:42:50,799
vulnerable test<font color="#CCCCCC"> well injection</font><font color="#E5E5E5"> yeah so</font>

921
00:42:48,400 --> 00:42:53,049
that is<font color="#E5E5E5"> the correct way to try to stop</font>

922
00:42:50,799 --> 00:42:54,969
SQL injection but you try<font color="#E5E5E5"> to impress</font>

923
00:42:53,049 --> 00:42:57,130
somebody so I eat you are you working

924
00:42:54,969 --> 00:42:58,809
<font color="#E5E5E5">towards business logic errors where</font>

925
00:42:57,130 --> 00:43:01,630
you're<font color="#E5E5E5"> not actually triggering an error</font>

926
00:42:58,809 --> 00:43:04,209
within the code itself but within how

927
00:43:01,630 --> 00:43:05,799
the<font color="#E5E5E5"> application was designed</font><font color="#CCCCCC"> okay</font>

928
00:43:04,209 --> 00:43:07,689
business logic testing is part of any

929
00:43:05,799 --> 00:43:09,579
typical web app in<font color="#E5E5E5"> test this is</font>

930
00:43:07,689 --> 00:43:11,949
specifically just SQL injection so

931
00:43:09,579 --> 00:43:14,289
they're not using parameterised<font color="#E5E5E5"> queries</font>

932
00:43:11,949 --> 00:43:15,849
structured statements a lot of<font color="#CCCCCC"> people do</font>

933
00:43:14,289 --> 00:43:17,739
try to<font color="#E5E5E5"> say oh if I just use stored</font>

934
00:43:15,849 --> 00:43:20,049
procedures that's not injectable that's

935
00:43:17,739 --> 00:43:21,549
not true slow procedures are generally

936
00:43:20,049 --> 00:43:23,169
injectable and that's when you have to

937
00:43:21,549 --> 00:43:25,119
<font color="#CCCCCC">do all</font><font color="#E5E5E5"> these you know inserting</font>

938
00:43:23,169 --> 00:43:27,189
semicolons and adding extra statements

939
00:43:25,119 --> 00:43:29,409
and all that kind of stuff<font color="#E5E5E5"> so if they're</font>

940
00:43:27,189 --> 00:43:30,669
<font color="#E5E5E5">using parameterised queries like you</font>

941
00:43:29,409 --> 00:43:32,739
said prepared statements generally

942
00:43:30,669 --> 00:43:35,019
you're not going to find<font color="#E5E5E5"> it vulnerable</font>

943
00:43:32,739 --> 00:43:36,519
to SQL injection and then you'll find

944
00:43:35,019 --> 00:43:38,408
yourself having to do more stuff like

945
00:43:36,519 --> 00:43:40,058
business logic you know what have they

946
00:43:38,409 --> 00:43:42,279
added a new reporting engine to<font color="#E5E5E5"> the</font>

947
00:43:40,059 --> 00:43:43,569
website you'll find like<font color="#E5E5E5"> funky little</font>

948
00:43:42,279 --> 00:43:45,640
things you know they've got like some

949
00:43:43,569 --> 00:43:47,439
sort of Crystal Reports plugin that's

950
00:43:45,640 --> 00:43:48,999
you<font color="#E5E5E5"> know got parameters passed to it</font>

951
00:43:47,439 --> 00:43:51,098
maybe you<font color="#E5E5E5"> can mess with that but that's</font>

952
00:43:48,999 --> 00:43:52,209
just general web app testing I don't

953
00:43:51,099 --> 00:43:55,950
know if that's making any sense at all

954
00:43:52,209 --> 00:44:01,118
okay okay thanks

955
00:43:55,950 --> 00:44:03,299
anybody<font color="#E5E5E5"> else rum and coke teacher</font>

956
00:44:01,119 --> 00:44:06,069
whatever you want yeah that's my boy

957
00:44:03,299 --> 00:44:07,930
haha alright guys I hope you enjoyed the

958
00:44:06,069 --> 00:44:10,599
talk if you want the slides and all that

959
00:44:07,930 --> 00:44:12,368
kind of stuff you'll have<font color="#E5E5E5"> to just holler</font>

960
00:44:10,599 --> 00:44:13,539
at me off offline i'll give you slides

961
00:44:12,369 --> 00:44:15,880
you know you know into<font color="#CCCCCC"> your whatever the</font>

962
00:44:13,539 --> 00:44:17,650
case may be that's my man right there

963
00:44:15,880 --> 00:44:20,140
<font color="#CCCCCC">okay yeah I have to give</font><font color="#E5E5E5"> him a slide</font>

964
00:44:17,650 --> 00:44:23,670
since he runs the place<font color="#E5E5E5"> okay alright</font>

965
00:44:20,140 --> 00:44:23,670
<font color="#E5E5E5">guys thanks for dealing with me</font>

966
00:44:28,250 --> 00:44:31,940
you

967
00:44:29,880 --> 00:44:31,940
you

