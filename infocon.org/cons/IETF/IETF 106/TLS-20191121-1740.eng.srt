1
00:00:06,910 --> 00:00:15,050
all right everybody please take your

2
00:00:09,500 --> 00:00:23,210
seats this is the second edition of the

3
00:00:15,050 --> 00:00:25,720
tls working group meeting we have we

4
00:00:23,210 --> 00:00:30,460
already have note-taker and we have

5
00:00:25,720 --> 00:00:39,339
jabber scribe and so we're ready to go

6
00:00:30,460 --> 00:00:44,899
the one thing I would would please

7
00:00:39,340 --> 00:00:55,699
remember the note well from this morning

8
00:00:44,899 --> 00:01:01,190
there's a test all right okay Session

9
00:00:55,699 --> 00:01:05,120
two agenda so for this session we do do

10
00:01:01,190 --> 00:01:08,050
we have okay so we will have somebody

11
00:01:05,120 --> 00:01:11,510
potentially be adding just a short brief

12
00:01:08,050 --> 00:01:15,649
discussion on ticket requests not really

13
00:01:11,510 --> 00:01:20,090
discussion but an update when David gets

14
00:01:15,650 --> 00:01:24,770
here and we're going to switch the order

15
00:01:20,090 --> 00:01:29,390
of deprecating in d5 and the well-known

16
00:01:24,770 --> 00:01:32,119
you are eyes for yes and I and I think

17
00:01:29,390 --> 00:01:39,500
if we have time afterwards we'll start a

18
00:01:32,120 --> 00:01:41,690
charter discussion if we have time does

19
00:01:39,500 --> 00:01:44,920
anybody have any other agenda

20
00:01:41,690 --> 00:01:44,920
modifications they'd like to make

21
00:01:46,570 --> 00:01:49,570
excellent

22
00:01:53,350 --> 00:02:19,400
who's going to present on so hello so I

23
00:02:17,330 --> 00:02:22,340
think 10 minutes is more than enough

24
00:02:19,400 --> 00:02:43,010
so it's since the last time we've made

25
00:02:22,340 --> 00:02:47,300
only one change to the draft so so there

26
00:02:43,010 --> 00:02:50,299
was just one concern it was regarding

27
00:02:47,300 --> 00:02:53,180
this change we're concerning signature

28
00:02:50,300 --> 00:02:57,410
algorithm extension where we just added

29
00:02:53,180 --> 00:02:59,989
a few one clarification to it and if

30
00:02:57,410 --> 00:03:16,930
everybody is good with that I think we

31
00:02:59,989 --> 00:03:19,610
can proceed so it's all on the github ok

32
00:03:16,930 --> 00:03:21,709
so we basically made the change

33
00:03:19,610 --> 00:03:24,230
including instead of saying a client is

34
00:03:21,709 --> 00:03:26,450
it does not send a signature algorithm

35
00:03:24,230 --> 00:03:29,179
extension and we're serving us aboard

36
00:03:26,450 --> 00:03:32,869
the handshake and Sonny hadn't shake

37
00:03:29,180 --> 00:03:35,450
failure alert we changed what to if if a

38
00:03:32,870 --> 00:03:38,570
client desert does not send a signature

39
00:03:35,450 --> 00:03:41,450
algorithm extension and the server must

40
00:03:38,570 --> 00:03:44,180
evolve a handshake and Sonny handshake

41
00:03:41,450 --> 00:03:46,579
failure alert except when digital

42
00:03:44,180 --> 00:03:48,830
signatures are not used and we've

43
00:03:46,580 --> 00:03:52,550
included an example for example when

44
00:03:48,830 --> 00:03:54,550
using PSK ciphers I believe that it

45
00:03:52,550 --> 00:03:58,010
addresses the concern but was made

46
00:03:54,550 --> 00:04:00,170
during the previous ITF so there's that

47
00:03:58,010 --> 00:04:03,170
the only outstanding issue on the draft

48
00:04:00,170 --> 00:04:07,030
yes that was we're only as far as we

49
00:04:03,170 --> 00:04:07,030
remember correctly yes okay

50
00:04:07,250 --> 00:04:11,450
Alessandro get any cloud Clerk yeah I

51
00:04:09,320 --> 00:04:13,820
think this was the only comment that we

52
00:04:11,450 --> 00:04:16,399
got the last time and the other people

53
00:04:13,820 --> 00:04:18,860
were saying well maybe we can't disable

54
00:04:16,399 --> 00:04:20,870
md5 and sha-1 now but we should proceed

55
00:04:18,860 --> 00:04:22,760
with the with the drop jacks my very

56
00:04:20,870 --> 00:04:24,260
next question is like who's red I would

57
00:04:22,760 --> 00:04:26,300
like to move this to working group last

58
00:04:24,260 --> 00:04:28,099
call if you haven't noticed so I want to

59
00:04:26,300 --> 00:04:34,130
show of hands of people who have read

60
00:04:28,100 --> 00:04:36,560
this draft I mean 10 so unless there's

61
00:04:34,130 --> 00:04:38,570
any raging objections to what's in the

62
00:04:36,560 --> 00:04:43,030
draft now we would like to proceed with

63
00:04:38,570 --> 00:05:12,170
working group last call all right

64
00:04:43,030 --> 00:05:15,109
so thank you very much this is just

65
00:05:12,170 --> 00:05:16,580
something added extra for yes and I that

66
00:05:15,110 --> 00:05:19,820
came up when we were implementing it and

67
00:05:16,580 --> 00:05:23,870
needed to publish keys so basically I

68
00:05:19,820 --> 00:05:27,020
have some Apache and nginx line 8 that

69
00:05:23,870 --> 00:05:29,720
is my enabled web servers keys regularly

70
00:05:27,020 --> 00:05:32,690
need to publish them in the DNS I don't

71
00:05:29,720 --> 00:05:34,490
have T DNS but you have a machine that

72
00:05:32,690 --> 00:05:35,960
kind of creates his own files and then

73
00:05:34,490 --> 00:05:38,870
has a hidden master and all that kind of

74
00:05:35,960 --> 00:05:41,390
stuff so I need a way to pull the East

75
00:05:38,870 --> 00:05:43,490
my keys from the web server machine into

76
00:05:41,390 --> 00:05:46,430
the thing that produces own files and a

77
00:05:43,490 --> 00:05:48,520
well-known URI makes that easy so I

78
00:05:46,430 --> 00:05:52,610
think it'll be worth defining somewhere

79
00:05:48,520 --> 00:05:54,740
looks like this so you have the in this

80
00:05:52,610 --> 00:05:56,510
case the public name is the beside I go

81
00:05:54,740 --> 00:05:59,360
to doesn't happy that could be something

82
00:05:56,510 --> 00:06:00,980
else and then on the in the know the

83
00:05:59,360 --> 00:06:04,310
well-known your I there's the name of

84
00:06:00,980 --> 00:06:07,340
the hidden site and what I did was just

85
00:06:04,310 --> 00:06:12,729
dump a JSON array of the keys that need

86
00:06:07,340 --> 00:06:15,260
to be put into their zone file and so

87
00:06:12,729 --> 00:06:17,510
could be adopted could be added as an

88
00:06:15,260 --> 00:06:19,169
appendix could send it to the IC

89
00:06:17,510 --> 00:06:20,190
whatever

90
00:06:19,169 --> 00:06:22,258
but I think it's kind of useful

91
00:06:20,190 --> 00:06:24,120
particularly for kind of not necessarily

92
00:06:22,259 --> 00:06:26,580
for the main yes and I use cases of big

93
00:06:24,120 --> 00:06:28,440
CD ends but for people who have small

94
00:06:26,580 --> 00:06:33,719
numbers of websites maybe multiple

95
00:06:28,440 --> 00:06:35,699
virtual hosts so I don't really mind

96
00:06:33,720 --> 00:06:38,120
what way we handle it but I think it

97
00:06:35,699 --> 00:06:42,060
would be good to define it somewhere and

98
00:06:38,120 --> 00:06:43,380
feedback appreciate it I'm great the

99
00:06:42,060 --> 00:06:44,850
lines forming because I was gonna ask

100
00:06:43,380 --> 00:06:47,699
who's read it so can we do that at the

101
00:06:44,850 --> 00:06:49,500
same time show of hand it's not much the

102
00:06:47,699 --> 00:06:51,150
read I know it's really short okay great

103
00:06:49,500 --> 00:06:53,160
all right well let the line form now

104
00:06:51,150 --> 00:06:54,929
remember we have an hour we want to

105
00:06:53,160 --> 00:06:57,620
actually talk about the es mi solution

106
00:06:54,930 --> 00:07:01,229
so let's make sure we keep this brief

107
00:06:57,620 --> 00:07:04,199
Ben Schwartz I think it's great to make

108
00:07:01,229 --> 00:07:06,630
it easier to deploy I imagine that you

109
00:07:04,199 --> 00:07:08,430
have to make a change somewhere in your

110
00:07:06,630 --> 00:07:10,919
hidden master to tell it to go fetch

111
00:07:08,430 --> 00:07:13,560
this stuff right you at least need to

112
00:07:10,919 --> 00:07:15,780
flip one bit somewhere configuration

113
00:07:13,560 --> 00:07:17,849
flag to say go check oh I guess this

114
00:07:15,780 --> 00:07:19,258
exists what I've done for now is just a

115
00:07:17,849 --> 00:07:20,940
cron job that those 'verily and then

116
00:07:19,259 --> 00:07:22,860
what it does is it just triumphs pulls

117
00:07:20,940 --> 00:07:24,870
this URL check of its difference check

118
00:07:22,860 --> 00:07:26,130
if it works and then publish mostly I'm

119
00:07:24,870 --> 00:07:27,930
trying to figure out if you need the dot

120
00:07:26,130 --> 00:07:30,960
well-known or whether you could

121
00:07:27,930 --> 00:07:33,330
basically tell your hidden master that

122
00:07:30,960 --> 00:07:35,549
here's the URL to fetch the years and I

123
00:07:33,330 --> 00:07:37,440
can I guess it doesn't necessarily need

124
00:07:35,550 --> 00:07:39,690
to be done well-known but yeah another

125
00:07:37,440 --> 00:07:42,150
h-2b purists I'm not pure static find

126
00:07:39,690 --> 00:07:45,979
ready Daniel con Gilmore

127
00:07:42,150 --> 00:07:45,979
I like this we should be working on it

128
00:07:46,159 --> 00:07:54,539
you're describing this as something that

129
00:07:48,180 --> 00:07:56,610
your your DNS authoritative server would

130
00:07:54,539 --> 00:07:57,900
check and I'm wondering whether you've

131
00:07:56,610 --> 00:07:59,639
contemplated this being something that

132
00:07:57,900 --> 00:08:02,219
the client actually might check as well

133
00:07:59,639 --> 00:08:03,599
as a way of bootstrapping - yes ma'am

134
00:08:02,220 --> 00:08:04,620
yeah I feel like we should we should

135
00:08:03,599 --> 00:08:07,020
acknowledge that that is a likely

136
00:08:04,620 --> 00:08:09,150
scenario not everyone's gonna have it

137
00:08:07,020 --> 00:08:10,380
sure access to their DNS server this can

138
00:08:09,150 --> 00:08:12,599
be able to run a cron job the way you're

139
00:08:10,380 --> 00:08:15,750
talking about yeah I also think this

140
00:08:12,599 --> 00:08:17,280
should specify the some sort of mime

141
00:08:15,750 --> 00:08:19,830
type can we just get a register of mime

142
00:08:17,280 --> 00:08:24,888
type for it just because we know what it

143
00:08:19,830 --> 00:08:27,300
is people wanted sure Tony Polly Apple

144
00:08:24,889 --> 00:08:29,039
yeah I think this is a interesting thing

145
00:08:27,300 --> 00:08:30,210
to do I think you'd be good to explore

146
00:08:29,039 --> 00:08:31,500
whether or not we really need the

147
00:08:30,210 --> 00:08:31,888
well-known for it or we can do it

148
00:08:31,500 --> 00:08:32,640
another way

149
00:08:31,889 --> 00:08:38,909
so something to

150
00:08:32,640 --> 00:08:42,000
into so when we're asking the server for

151
00:08:38,909 --> 00:08:46,589
the the keys for a given name is there a

152
00:08:42,000 --> 00:08:48,150
how do I know which names I can ask in

153
00:08:46,590 --> 00:08:50,040
my setup I just know so it's just

154
00:08:48,150 --> 00:08:53,010
configured on to the DNS infrastructure

155
00:08:50,040 --> 00:08:54,569
okay it may be good to at least have

156
00:08:53,010 --> 00:08:56,250
some considerations around that because

157
00:08:54,570 --> 00:08:58,560
you know potentially if this is

158
00:08:56,250 --> 00:09:00,150
something that the server isn't able to

159
00:08:58,560 --> 00:09:01,560
give me the keys for I've down told the

160
00:09:00,150 --> 00:09:02,970
server I'm accessing this names like if

161
00:09:01,560 --> 00:09:05,010
I have this mismatch and I'm sending

162
00:09:02,970 --> 00:09:07,020
this well known to some random rogue

163
00:09:05,010 --> 00:09:08,280
server not a rogue server but someone

164
00:09:07,020 --> 00:09:10,140
who's not really authoritative for it

165
00:09:08,280 --> 00:09:16,470
I've just sent it a whole bunch of names

166
00:09:10,140 --> 00:09:19,310
FairPoint yeah David Skinner's e Google

167
00:09:16,470 --> 00:09:21,750
Chrome I think this is interesting

168
00:09:19,310 --> 00:09:24,479
yeah let's bring it I don't know yeah

169
00:09:21,750 --> 00:09:27,690
here versus HTTP it's always tricky

170
00:09:24,480 --> 00:09:31,140
I like well known cuz this is a server

171
00:09:27,690 --> 00:09:32,790
wide policy thing and so preventing like

172
00:09:31,140 --> 00:09:34,199
if it's a blog a random page from

173
00:09:32,790 --> 00:09:37,199
changing policy is generally a good

174
00:09:34,200 --> 00:09:39,710
thing but that's work let's keep this

175
00:09:37,200 --> 00:09:39,710
here I like it

176
00:09:40,530 --> 00:09:50,040
Eric rajala so what are the semantics

177
00:09:44,370 --> 00:09:52,320
this in multi CDN use cases right so

178
00:09:50,040 --> 00:09:54,709
that seems perhaps something that should

179
00:09:52,320 --> 00:09:58,530
be resolved before we take this too far

180
00:09:54,710 --> 00:10:00,990
sure yeah I mean what I did I'm I did

181
00:09:58,530 --> 00:10:03,270
this for smaller things my assumption is

182
00:10:00,990 --> 00:10:05,040
that Motel I so I'm just see the ends

183
00:10:03,270 --> 00:10:07,260
will do something internally that's god

184
00:10:05,040 --> 00:10:08,730
knows what it is but definitely agree

185
00:10:07,260 --> 00:10:14,010
that if there's an issue then we should

186
00:10:08,730 --> 00:10:15,510
write so I guess like um well just in

187
00:10:14,010 --> 00:10:17,310
terms of we should do perhaps like

188
00:10:15,510 --> 00:10:18,420
perhaps um a couple spins the crank

189
00:10:17,310 --> 00:10:20,910
before we do much of anything

190
00:10:18,420 --> 00:10:24,000
oh yes the idea but I think like I like

191
00:10:20,910 --> 00:10:25,680
that be sure I guess Ezra's cussing

192
00:10:24,000 --> 00:10:26,820
later yes and I is a history of like I

193
00:10:25,680 --> 00:10:30,300
was doing things in discovering they

194
00:10:26,820 --> 00:10:32,430
stink um so um which I am I'm a prime

195
00:10:30,300 --> 00:10:33,449
offender but um so so perhaps it's

196
00:10:32,430 --> 00:10:36,630
perhaps that's what we sure forgot here

197
00:10:33,450 --> 00:10:38,550
too yeah I'm really happy to change my

198
00:10:36,630 --> 00:10:40,380
codes to do whatever people wanna do so

199
00:10:38,550 --> 00:10:45,599
it's not that big a deal

200
00:10:40,380 --> 00:10:46,200
PHP yeah and kind of I think that this

201
00:10:45,600 --> 00:10:49,890
might

202
00:10:46,200 --> 00:10:53,000
turn out to be problematic because at

203
00:10:49,890 --> 00:10:56,189
the level that you're doing the es ni

204
00:10:53,000 --> 00:10:58,560
authentication you're talking about it

205
00:10:56,190 --> 00:11:02,120
you're really talking about keys that

206
00:10:58,560 --> 00:11:06,900
have more to do with the host connection

207
00:11:02,120 --> 00:11:09,420
rather than the service and I think that

208
00:11:06,900 --> 00:11:13,590
the conflict between the two might well

209
00:11:09,420 --> 00:11:15,569
yeah I think it might be problematic

210
00:11:13,590 --> 00:11:16,830
okay if there's cases where it's

211
00:11:15,570 --> 00:11:20,930
problematic could be good to know that

212
00:11:16,830 --> 00:11:22,950
yeah dan oconnor you're more again I

213
00:11:20,930 --> 00:11:24,050
think one of the things that maybe this

214
00:11:22,950 --> 00:11:27,060
draft ordered

215
00:11:24,050 --> 00:11:30,240
explicitly state is whether this is

216
00:11:27,060 --> 00:11:33,479
expected to be an exclusive list or an

217
00:11:30,240 --> 00:11:35,100
additive list that is yeah if it doesn't

218
00:11:33,480 --> 00:11:36,810
exist what does it mean it that it

219
00:11:35,100 --> 00:11:37,800
doesn't exist if it has one element in

220
00:11:36,810 --> 00:11:39,359
it what does that mean if another

221
00:11:37,800 --> 00:11:41,339
element is discovered in some other way

222
00:11:39,360 --> 00:11:43,020
right that's I think that the trickiest

223
00:11:41,340 --> 00:11:43,950
part for thinking through what this

224
00:11:43,020 --> 00:11:47,160
means because now there's two different

225
00:11:43,950 --> 00:11:51,540
ways to get yes my keys and how do you

226
00:11:47,160 --> 00:12:00,420
juggle those things okay so thanks for

227
00:11:51,540 --> 00:12:01,439
the feedback what do I mean if I got

228
00:12:00,420 --> 00:12:03,240
that feedback in mail out happily

229
00:12:01,440 --> 00:12:04,410
incorporated another wherever the

230
00:12:03,240 --> 00:12:06,210
personal to and then you can think about

231
00:12:04,410 --> 00:12:08,370
it why don't we do that why don't you go

232
00:12:06,210 --> 00:12:09,990
ahead and revise it and then we'll you

233
00:12:08,370 --> 00:12:11,730
know not wait till the next meeting but

234
00:12:09,990 --> 00:12:13,920
you know after you prepped it well we'll

235
00:12:11,730 --> 00:12:15,600
go through it and do it so please if you

236
00:12:13,920 --> 00:12:17,280
said something then like send me email

237
00:12:15,600 --> 00:12:18,870
or send me off the list saying what you

238
00:12:17,280 --> 00:12:20,430
said because I won't remember well we

239
00:12:18,870 --> 00:12:22,050
got a minute taker too so you know are

240
00:12:20,430 --> 00:12:24,589
excellent me to take her Joe nobody ever

241
00:12:22,050 --> 00:12:28,020
reads the minutes yeah well thank you

242
00:12:24,590 --> 00:12:31,040
yeah um David we actually agenda bash so

243
00:12:28,020 --> 00:12:31,040
you're you're gonna be next

244
00:12:34,760 --> 00:12:41,010
he doesn't have slides we're just gonna

245
00:12:36,930 --> 00:12:43,680
talk sorry this was just a quick last

246
00:12:41,010 --> 00:12:45,840
minute non presentation I guess no

247
00:12:43,680 --> 00:12:49,439
slides so I'm David's gonna see from

248
00:12:45,840 --> 00:12:52,770
Google Chrome we I'm just gonna really

249
00:12:49,440 --> 00:12:57,660
quickly talk about the draft Attila's

250
00:12:52,770 --> 00:12:59,040
ticket request so 30 second point of the

251
00:12:57,660 --> 00:13:00,899
draft is today the

252
00:12:59,040 --> 00:13:03,839
server decides how many tickets it sends

253
00:13:00,899 --> 00:13:05,699
to the client some clients need less

254
00:13:03,839 --> 00:13:07,769
some clients need more so this is a

255
00:13:05,699 --> 00:13:12,359
absolutely trivial extension where the

256
00:13:07,769 --> 00:13:14,009
client says I want and tickets we talked

257
00:13:12,360 --> 00:13:16,889
about this at previous sessions it is

258
00:13:14,009 --> 00:13:18,870
now a working group last call we had a

259
00:13:16,889 --> 00:13:21,329
good positive conversation in the last

260
00:13:18,870 --> 00:13:25,110
couple days on that working groups last

261
00:13:21,329 --> 00:13:29,670
call I chatted personally with Daniel

262
00:13:25,110 --> 00:13:35,009
are you in the room I don't see him with

263
00:13:29,670 --> 00:13:36,930
down we go about this and my and this is

264
00:13:35,009 --> 00:13:41,430
my kind of personal opinion of what

265
00:13:36,930 --> 00:13:44,519
we've been seeing is people like this

266
00:13:41,430 --> 00:13:45,719
there was some support and but there

267
00:13:44,519 --> 00:13:48,420
were a few questions and it got a little

268
00:13:45,720 --> 00:13:52,139
bit confusing and we tried to clarify

269
00:13:48,420 --> 00:13:54,839
that so it sounds like folks so the the

270
00:13:52,139 --> 00:13:57,089
number of tickets you request is not

271
00:13:54,839 --> 00:13:58,829
normative as in its assured like you

272
00:13:57,089 --> 00:14:00,959
don't the server it doesn't have a must

273
00:13:58,829 --> 00:14:02,790
some Daniel wanna was interested in

274
00:14:00,959 --> 00:14:04,979
having that because he had an IO to use

275
00:14:02,790 --> 00:14:06,209
case where if he says I only want two

276
00:14:04,980 --> 00:14:07,920
tickets if you send him more it's

277
00:14:06,209 --> 00:14:10,859
actually uses up his resources and

278
00:14:07,920 --> 00:14:13,139
that's kind of bad but server operators

279
00:14:10,860 --> 00:14:15,540
chimed in saying like a must is a bad

280
00:14:13,139 --> 00:14:18,660
idea because that's really hard to

281
00:14:15,540 --> 00:14:20,279
implement for a bunch of reasons so the

282
00:14:18,660 --> 00:14:22,040
sense we got is that the folks that

283
00:14:20,279 --> 00:14:24,360
brush debated in this conversation

284
00:14:22,040 --> 00:14:26,120
wanted this to be published even with I

285
00:14:24,360 --> 00:14:29,569
should and they were okay with it so

286
00:14:26,120 --> 00:14:31,649
we're just I guess asking if anyone

287
00:14:29,569 --> 00:14:33,000
disagrees with that statement please

288
00:14:31,649 --> 00:14:36,870
come here can we have that conversation

289
00:14:33,000 --> 00:14:38,100
here otherwise like chairs let us know

290
00:14:36,870 --> 00:14:40,319
how you're feeling about the working

291
00:14:38,100 --> 00:14:42,060
class core is it going or do we go from

292
00:14:40,319 --> 00:14:43,529
here so I think if we what we've done is

293
00:14:42,060 --> 00:14:45,449
we've uncovered there was one issue in

294
00:14:43,529 --> 00:14:46,560
this draft so what we can do as a second

295
00:14:45,449 --> 00:14:48,660
working group last call

296
00:14:46,560 --> 00:14:51,268
not just on this particular issue with

297
00:14:48,660 --> 00:14:53,670
the actual text changes if any and just

298
00:14:51,269 --> 00:14:54,779
knock it out does that sound like it's

299
00:14:53,670 --> 00:14:56,639
reasonable because I'm not seeing

300
00:14:54,779 --> 00:14:58,680
anybody run to the microphone to say we

301
00:14:56,639 --> 00:15:00,360
think it ought to be a must or we think

302
00:14:58,680 --> 00:15:02,699
if somebody wants more people want to

303
00:15:00,360 --> 00:15:04,319
pile on to say it so should that'd be

304
00:15:02,699 --> 00:15:06,269
great for them it great and helpful too

305
00:15:04,319 --> 00:15:09,389
in one thing I forgot to say is after

306
00:15:06,269 --> 00:15:13,700
that conversation I have a PR right now

307
00:15:09,389 --> 00:15:17,760
which kind of rephrase is it it's purely

308
00:15:13,700 --> 00:15:19,860
like neon the works not any normative

309
00:15:17,760 --> 00:15:23,460
changes this really looks just purely an

310
00:15:19,860 --> 00:15:26,220
editorial thank you um Tommy tell me

311
00:15:23,460 --> 00:15:27,750
Paulie as co-authoring there so Ike yeah

312
00:15:26,220 --> 00:15:29,790
I want to also emphasize I I think

313
00:15:27,750 --> 00:15:31,860
pointing this out and the confusion it

314
00:15:29,790 --> 00:15:34,410
generate it was very good for the

315
00:15:31,860 --> 00:15:36,210
document and looking over the text that

316
00:15:34,410 --> 00:15:39,449
you reworked and thank you for doing

317
00:15:36,210 --> 00:15:41,580
that I read what I was kind of thinking

318
00:15:39,450 --> 00:15:44,160
all along there so I think it's what was

319
00:15:41,580 --> 00:15:45,990
intended to be said so I I think you

320
00:15:44,160 --> 00:15:47,699
didn't send that to the whole list yeah

321
00:15:45,990 --> 00:15:51,060
and we had a we've had a good

322
00:15:47,700 --> 00:15:54,900
conversation today right um to answer

323
00:15:51,060 --> 00:15:56,310
your question this is already the second

324
00:15:54,900 --> 00:15:59,880
working group last call with this all

325
00:15:56,310 --> 00:16:01,469
right and I aids another call yeah

326
00:15:59,880 --> 00:16:03,210
eyerly if we can just agree on the list

327
00:16:01,470 --> 00:16:05,190
that this was the right change okay

328
00:16:03,210 --> 00:16:07,620
because Martin Thompson did raise the

329
00:16:05,190 --> 00:16:10,140
point at the first one that he supports

330
00:16:07,620 --> 00:16:11,340
this but every time we have or he will

331
00:16:10,140 --> 00:16:14,819
ask all he'll come up with something

332
00:16:11,340 --> 00:16:18,390
else to say so maybe at some point we

333
00:16:14,820 --> 00:16:20,370
need to stop up to you but you know like

334
00:16:18,390 --> 00:16:21,870
just maybe let it run for another few

335
00:16:20,370 --> 00:16:22,950
days to make sure everyone has had the

336
00:16:21,870 --> 00:16:25,770
time because we're all not necessary

337
00:16:22,950 --> 00:16:29,310
check email today but maybe not an

338
00:16:25,770 --> 00:16:31,230
entire so you've posted the pr already

339
00:16:29,310 --> 00:16:33,119
for the mailing list yes all right I'll

340
00:16:31,230 --> 00:16:34,590
I'll pile on top of that to say like

341
00:16:33,120 --> 00:16:35,580
look this is that we talked about it the

342
00:16:34,590 --> 00:16:37,320
working group this is what we're gonna

343
00:16:35,580 --> 00:16:41,130
do if you're gonna scream scream now

344
00:16:37,320 --> 00:16:42,510
otherwise yeah and like people were like

345
00:16:41,130 --> 00:16:44,160
oh well I would have kind of prevented

346
00:16:42,510 --> 00:16:46,770
that way but I'm okay with this and I

347
00:16:44,160 --> 00:16:48,360
prefer this moving forward so right so

348
00:16:46,770 --> 00:16:50,220
this is rough consensus right this is

349
00:16:48,360 --> 00:16:52,020
like can you live with this not you know

350
00:16:50,220 --> 00:16:54,120
do I want to fall on the sword so an

351
00:16:52,020 --> 00:16:55,800
important thing like all that a lot of

352
00:16:54,120 --> 00:16:57,630
the proposed changes were editorial and

353
00:16:55,800 --> 00:16:59,490
we're gonna have an IETF last call where

354
00:16:57,630 --> 00:17:01,080
we can change if you make even more

355
00:16:59,490 --> 00:17:04,410
editorial changes so let's say this

356
00:17:01,080 --> 00:17:06,990
isn't the last last call all right

357
00:17:04,410 --> 00:17:14,040
time for the main show occur thanks for

358
00:17:06,990 --> 00:17:16,680
having me thank you nice yellow slides

359
00:17:14,040 --> 00:17:18,859
high contrast very important well there

360
00:17:16,680 --> 00:17:18,860
are

361
00:17:20,189 --> 00:17:25,630
it's like color correction these things

362
00:17:22,420 --> 00:17:30,130
names some work safety orange and I put

363
00:17:25,630 --> 00:17:32,200
it up okay this really should being

364
00:17:30,130 --> 00:17:34,230
called encrypted s and I this time for

365
00:17:32,200 --> 00:17:34,230
sure

366
00:17:35,309 --> 00:17:42,250
so backstory here is we keep taking

367
00:17:40,330 --> 00:17:43,449
stabs at this but having some problems

368
00:17:42,250 --> 00:17:46,929
in terms of getting this security model

369
00:17:43,450 --> 00:17:48,280
right you know I feel like you know

370
00:17:46,929 --> 00:17:50,440
we're at the stage where we were with

371
00:17:48,280 --> 00:17:51,790
you know like it took a long time to

372
00:17:50,440 --> 00:17:52,840
figure how to like get TLS right and

373
00:17:51,790 --> 00:17:54,280
apparently like we're tight isn't a

374
00:17:52,840 --> 00:17:58,120
compressed time and this is actually

375
00:17:54,280 --> 00:18:00,250
more complicated so um there's been um

376
00:17:58,120 --> 00:18:02,739
so one reporting now on I think the

377
00:18:00,250 --> 00:18:05,200
result of a pile of work by pile of

378
00:18:02,740 --> 00:18:06,429
people um in particular on Chris Wood

379
00:18:05,200 --> 00:18:08,770
and Karthik Berger Vaughn didn't know

380
00:18:06,429 --> 00:18:10,870
spent an analysis of like why we didn't

381
00:18:08,770 --> 00:18:12,940
have any problems in the past and then

382
00:18:10,870 --> 00:18:16,239
the design team or I'm not sure we have

383
00:18:12,940 --> 00:18:18,070
a design team but a team of people got

384
00:18:16,240 --> 00:18:19,330
together and like banged out about 97

385
00:18:18,070 --> 00:18:23,049
different options and then we try to

386
00:18:19,330 --> 00:18:24,280
figure out what to do so I um there were

387
00:18:23,049 --> 00:18:26,350
some talk about like actually kind of

388
00:18:24,280 --> 00:18:30,250
walk you through the reasoning and I am

389
00:18:26,350 --> 00:18:31,990
I vetoed that because it turnes like you

390
00:18:30,250 --> 00:18:33,730
spent about 20 minutes on this morning

391
00:18:31,990 --> 00:18:35,470
and like so most that being like wait

392
00:18:33,730 --> 00:18:36,580
wait what are we talking about so I'm

393
00:18:35,470 --> 00:18:38,679
not gonna do that I'm gonna walk you

394
00:18:36,580 --> 00:18:40,480
through it what we propose we do as the

395
00:18:38,679 --> 00:18:42,610
outcome of those discussions as opposed

396
00:18:40,480 --> 00:18:43,299
to the reasoning for it um we have

397
00:18:42,610 --> 00:18:45,939
documentation

398
00:18:43,299 --> 00:18:47,770
um as LinkedIn here for like the

399
00:18:45,940 --> 00:18:48,820
analysis that we did that kind of walks

400
00:18:47,770 --> 00:18:50,620
through the options and we'll keep that

401
00:18:48,820 --> 00:18:52,000
updated so like there'll be some record

402
00:18:50,620 --> 00:18:52,989
you can read about why we think it's

403
00:18:52,000 --> 00:18:57,490
right thing but it's just too hard to

404
00:18:52,990 --> 00:19:00,010
track a meeting like this uh next slide

405
00:18:57,490 --> 00:19:02,200
see I'm I'm not used to having this so

406
00:19:00,010 --> 00:19:03,850
yeah so we did oh for um had some

407
00:19:02,200 --> 00:19:06,010
problems um I'll walk through a couple

408
00:19:03,850 --> 00:19:10,240
of them but basically there was number

409
00:19:06,010 --> 00:19:11,530
of ways to extract the the yeah the name

410
00:19:10,240 --> 00:19:12,970
of the server you're talking to which

411
00:19:11,530 --> 00:19:14,080
obviously is it kind of obvious the

412
00:19:12,970 --> 00:19:16,330
point because we're trying to have that

413
00:19:14,080 --> 00:19:19,389
happen they were all like active attacks

414
00:19:16,330 --> 00:19:21,100
some better some worse um they do not in

415
00:19:19,390 --> 00:19:22,630
fact threaten TLS itself but like says

416
00:19:21,100 --> 00:19:23,949
the point is to suppress the knowledge

417
00:19:22,630 --> 00:19:26,160
this and I like obviously that's not

418
00:19:23,950 --> 00:19:26,160
good

419
00:19:27,760 --> 00:19:35,350
here's the first one with a nice little

420
00:19:31,150 --> 00:19:37,330
MC s diagram this is basically a ticket

421
00:19:35,350 --> 00:19:39,070
Oracle so the idea is that the attacker

422
00:19:37,330 --> 00:19:42,129
goes in the hacker connects to the cert

423
00:19:39,070 --> 00:19:43,990
- to the server that he thinks you might

424
00:19:42,130 --> 00:19:46,210
be connecting to and acquires a ticket

425
00:19:43,990 --> 00:19:48,610
of his own so the ticket is bound to you

426
00:19:46,210 --> 00:19:51,040
know example.com right and or in this

427
00:19:48,610 --> 00:19:53,320
case X and then what the attacker does

428
00:19:51,040 --> 00:19:57,129
he captures the client hello and he acts

429
00:19:53,320 --> 00:20:00,580
laps on his own PSK PSK and PSK binder

430
00:19:57,130 --> 00:20:02,020
we have ticket for X and then he looks

431
00:20:00,580 --> 00:20:03,699
to see if I mean looks at the server

432
00:20:02,020 --> 00:20:05,379
responds and seizes the server like

433
00:20:03,700 --> 00:20:06,700
accepts the ticket and as the server

434
00:20:05,380 --> 00:20:07,630
accepts the ticket then it's probably

435
00:20:06,700 --> 00:20:08,710
the right of Sun Alliance or doesn't it

436
00:20:07,630 --> 00:20:10,480
the thing is probably wrong yes tonight

437
00:20:08,710 --> 00:20:11,800
it's not like perfect because I'm multi

438
00:20:10,480 --> 00:20:14,050
CNS and like me the tags have one

439
00:20:11,800 --> 00:20:15,340
lifetime but it's a leak especially if

440
00:20:14,050 --> 00:20:18,639
he's like those are really quickly right

441
00:20:15,340 --> 00:20:20,050
so um so this is one kind of thing this

442
00:20:18,640 --> 00:20:21,490
is like a reaction attack on the server

443
00:20:20,050 --> 00:20:25,540
so that's not great

444
00:20:21,490 --> 00:20:28,510
um the second attack um is this HRR

445
00:20:25,540 --> 00:20:31,210
attack so basically the idea is there's

446
00:20:28,510 --> 00:20:32,650
nothing connecting like HR 1 HR 2 so the

447
00:20:31,210 --> 00:20:35,050
client says the first client hello and

448
00:20:32,650 --> 00:20:36,370
does the S and I and the bet and and the

449
00:20:35,050 --> 00:20:37,540
server Rick responds they sure are book

450
00:20:36,370 --> 00:20:39,280
is like this clients got the wrong key

451
00:20:37,540 --> 00:20:40,450
for some reason um there's no this is

452
00:20:39,280 --> 00:20:41,889
like totally that the attacker is not

453
00:20:40,450 --> 00:20:47,850
doing anything here this is just like

454
00:20:41,890 --> 00:20:52,570
bad luck on the client server um so the

455
00:20:47,850 --> 00:20:54,129
so the so the client like Jenners clang

456
00:20:52,570 --> 00:20:55,899
hello - and regenerates the whole thing

457
00:20:54,130 --> 00:20:57,370
with an aureus and i block and the

458
00:20:55,900 --> 00:20:59,620
server like strips at CVS and i block

459
00:20:57,370 --> 00:21:02,409
and basically because it's not just

460
00:20:59,620 --> 00:21:04,600
everything right and so um and so now

461
00:21:02,410 --> 00:21:06,220
this is sort of an attack on like a kind

462
00:21:04,600 --> 00:21:07,659
of scurry server implementation but the

463
00:21:06,220 --> 00:21:10,420
idea is that the server has like

464
00:21:07,660 --> 00:21:11,800
remembered the S&I from the first

465
00:21:10,420 --> 00:21:14,590
connection and it's actually using that

466
00:21:11,800 --> 00:21:17,649
and if that happens which you shouldn't

467
00:21:14,590 --> 00:21:19,149
do but if it does then then basically

468
00:21:17,650 --> 00:21:21,580
the server will like proceed were like

469
00:21:19,150 --> 00:21:24,220
nor like the the es and i block that the

470
00:21:21,580 --> 00:21:26,350
attacker strapped on and like I bolted

471
00:21:24,220 --> 00:21:28,030
on or whatever and go ahead and conclude

472
00:21:26,350 --> 00:21:29,770
the connection with the the s and I and

473
00:21:28,030 --> 00:21:31,800
the certificate was corresponding from

474
00:21:29,770 --> 00:21:33,340
like this is also a laser pointer oh

475
00:21:31,800 --> 00:21:37,360
well that sucks

476
00:21:33,340 --> 00:21:39,040
no it's not so um with the innocent on

477
00:21:37,360 --> 00:21:40,760
with the assign the corresponds to get

478
00:21:39,040 --> 00:21:43,760
from the

479
00:21:40,760 --> 00:21:46,160
uh um from the initial client hello and

480
00:21:43,760 --> 00:21:47,750
this is that since the G the X came from

481
00:21:46,160 --> 00:21:49,040
the attacker like he sends this

482
00:21:47,750 --> 00:21:52,220
difficulty attacker so how can me if we

483
00:21:49,040 --> 00:21:53,629
attack her so again like we could tell

484
00:21:52,220 --> 00:21:55,190
like a servers let's do this but like

485
00:21:53,630 --> 00:21:56,510
there's some concerns man anyway so it

486
00:21:55,190 --> 00:21:57,860
seems like we'd want to have a defense

487
00:21:56,510 --> 00:22:01,790
that might makes it hard to jump server

488
00:21:57,860 --> 00:22:03,709
um so like when you sort of try to um in

489
00:22:01,790 --> 00:22:05,840
the mentioned Chris and Karthik kind of

490
00:22:03,710 --> 00:22:07,940
sat down for two days in in Paris and

491
00:22:05,840 --> 00:22:09,020
like worked out like I attempt to

492
00:22:07,940 --> 00:22:10,400
analyze I thought the source of these

493
00:22:09,020 --> 00:22:11,660
problems it's like like what are the

494
00:22:10,400 --> 00:22:12,980
things were what are the principles are

495
00:22:11,660 --> 00:22:16,250
violating this causing us to have this

496
00:22:12,980 --> 00:22:17,780
problem um so the gluten was basically

497
00:22:16,250 --> 00:22:19,250
it's like a lack of things being bound

498
00:22:17,780 --> 00:22:20,690
together which is like but a persistent

499
00:22:19,250 --> 00:22:24,530
problem with like deal has across the

500
00:22:20,690 --> 00:22:25,760
years so basically the ES and I and the

501
00:22:24,530 --> 00:22:27,230
client low contents because you're only

502
00:22:25,760 --> 00:22:30,379
binding the key share we weren't like

503
00:22:27,230 --> 00:22:32,419
binding anything else um between the

504
00:22:30,380 --> 00:22:34,340
client hello and client hello one

505
00:22:32,419 --> 00:22:36,200
inclined hello to and between the es and

506
00:22:34,340 --> 00:22:38,149
I and back there a meaning secret and a

507
00:22:36,200 --> 00:22:40,870
handshake secrets itself that is the

508
00:22:38,150 --> 00:22:44,299
keys used to put the handshake so

509
00:22:40,870 --> 00:22:45,949
basically the the fix for this is like

510
00:22:44,299 --> 00:22:47,660
aggressive what you do to press that we

511
00:22:45,950 --> 00:22:50,419
bind all these things um so the first

512
00:22:47,660 --> 00:22:52,549
thing we want to do is like bind the

513
00:22:50,419 --> 00:22:53,929
entire client holo and so one thing we

514
00:22:52,549 --> 00:22:55,639
could've done circuit extended like the

515
00:22:53,929 --> 00:22:57,080
aad that we're already using to bind the

516
00:22:55,640 --> 00:22:59,030
key share but a that's like hard to

517
00:22:57,080 --> 00:23:00,939
implement and be it's like well that's

518
00:22:59,030 --> 00:23:03,110
actually quite inconvenient because

519
00:23:00,940 --> 00:23:04,610
that's less good than you like because

520
00:23:03,110 --> 00:23:06,199
we'd like it actually like to cover as

521
00:23:04,610 --> 00:23:08,209
much of the clinical as possible not

522
00:23:06,200 --> 00:23:09,770
just a crypt the SNI is just one

523
00:23:08,210 --> 00:23:11,720
kryptonite Lex Luthor is like like

524
00:23:09,770 --> 00:23:14,780
easier to work with not because we

525
00:23:11,720 --> 00:23:16,850
didn't want like hi the LPN so basically

526
00:23:14,780 --> 00:23:18,559
the idea here is to tunnel the entire

527
00:23:16,850 --> 00:23:20,629
client hello inner encryption and I'll

528
00:23:18,559 --> 00:23:22,370
explain how I did in a second um second

529
00:23:20,630 --> 00:23:24,770
to tie the client whole l1 and client

530
00:23:22,370 --> 00:23:26,239
hello to so that basically you know that

531
00:23:24,770 --> 00:23:29,780
client Allah woman clan interconnected

532
00:23:26,240 --> 00:23:31,460
and finally to make the handshake

533
00:23:29,780 --> 00:23:34,309
secrets to pin somehow in the yes and I

534
00:23:31,460 --> 00:23:36,080
block and um you'll notice like these

535
00:23:34,309 --> 00:23:37,520
last two there's a little bit of hand

536
00:23:36,080 --> 00:23:42,110
waving going on because right time for

537
00:23:37,520 --> 00:23:44,360
exactly how to do them still so here is

538
00:23:42,110 --> 00:23:47,750
like I I've added some disclaimers here

539
00:23:44,360 --> 00:23:49,129
um as you can see um I was trying to

540
00:23:47,750 --> 00:23:53,270
fear had some more

541
00:23:49,130 --> 00:23:54,169
so the that basically the idea is that

542
00:23:53,270 --> 00:23:55,970
we have an

543
00:23:54,169 --> 00:23:57,259
new extension called the client

544
00:23:55,970 --> 00:23:58,489
encrypted client low extension you're

545
00:23:57,259 --> 00:24:00,950
going to love that one

546
00:23:58,489 --> 00:24:02,629
and this looks pretty much like the old

547
00:24:00,950 --> 00:24:04,429
DSi extension it's got a cipher suite

548
00:24:02,629 --> 00:24:06,498
that tells you like what you're using to

549
00:24:04,429 --> 00:24:07,909
encrypt under it tell it's got the the

550
00:24:06,499 --> 00:24:09,679
diffie-hellman the diffie-hellman key

551
00:24:07,909 --> 00:24:14,119
share that's like your half of the other

552
00:24:09,679 --> 00:24:15,529
of the of the HP key ii system it's like

553
00:24:14,119 --> 00:24:17,720
telling the server how to drive the key

554
00:24:15,529 --> 00:24:19,669
it's got the record digest which tells

555
00:24:17,720 --> 00:24:22,429
you what yes and i record you're using

556
00:24:19,669 --> 00:24:25,489
and this is all old as this new thing

557
00:24:22,429 --> 00:24:27,139
called a ch1 binder you notice a TBD i'm

558
00:24:25,489 --> 00:24:29,869
i was handing being a bit but basically

559
00:24:27,139 --> 00:24:32,059
what it is it's what connects ch1 to ch2

560
00:24:29,869 --> 00:24:33,529
so in the case of ch1 that's probably

561
00:24:32,059 --> 00:24:35,720
emptying the kiss - th - it's got

562
00:24:33,529 --> 00:24:37,100
something that derived from ch1 I was

563
00:24:35,720 --> 00:24:40,460
saying hash Karthik had some worries

564
00:24:37,100 --> 00:24:43,070
about that so maybe it's like a derived

565
00:24:40,460 --> 00:24:45,259
hash but something and then finally

566
00:24:43,070 --> 00:24:46,399
there's what used to be called like yes

567
00:24:45,259 --> 00:24:48,139
and I and now it's called a cryptic

568
00:24:46,399 --> 00:24:49,820
client hello which like an entire client

569
00:24:48,139 --> 00:24:51,320
which is the entire client hello that

570
00:24:49,820 --> 00:24:52,850
you started with so that the idiom here

571
00:24:51,320 --> 00:24:55,039
is a client generates like a client

572
00:24:52,850 --> 00:24:56,959
hello like encrypts the entire thing

573
00:24:55,039 --> 00:24:58,639
there's a new client hello and stuffs

574
00:24:56,960 --> 00:25:00,830
the encrypted client although in Hindi

575
00:24:58,639 --> 00:25:02,539
in the original client hello um so now

576
00:25:00,830 --> 00:25:05,289
um the relationship between these is a

577
00:25:02,539 --> 00:25:06,889
little fuzzy um I think it might my

578
00:25:05,289 --> 00:25:09,289
intention was generate them like

579
00:25:06,889 --> 00:25:11,629
entirely independently essentially but

580
00:25:09,289 --> 00:25:13,340
on particular one opportunity you have

581
00:25:11,629 --> 00:25:14,719
would be to have the exterior client

582
00:25:13,340 --> 00:25:16,129
elope we do more or less interesting

583
00:25:14,720 --> 00:25:17,929
than the Easter in the interior client

584
00:25:16,129 --> 00:25:19,730
hello there's some tension here because

585
00:25:17,929 --> 00:25:21,649
on the one hand that makes it easier it

586
00:25:19,730 --> 00:25:22,940
makes it harder to grease the existence

587
00:25:21,649 --> 00:25:24,889
of S&I but in their hand it makes it

588
00:25:22,940 --> 00:25:26,419
makes heard a fingerprint taste your

589
00:25:24,889 --> 00:25:32,389
client allows so some tension between

590
00:25:26,419 --> 00:25:34,039
those two um so one of media question

591
00:25:32,389 --> 00:25:35,928
happens is like what is the transcript

592
00:25:34,039 --> 00:25:37,639
here because now previously we have like

593
00:25:35,929 --> 00:25:40,460
a transcript which we had what one

594
00:25:37,639 --> 00:25:42,769
transcript we had the like thing with

595
00:25:40,460 --> 00:25:45,769
encrypted si in it um and now you have

596
00:25:42,769 --> 00:25:48,409
to you have if the es ni is accepted

597
00:25:45,769 --> 00:25:50,629
meaning if you know the s ni ki then

598
00:25:48,409 --> 00:25:51,980
it's the client hello inter if you are

599
00:25:50,629 --> 00:25:53,748
in fallback mode which is to say you've

600
00:25:51,980 --> 00:25:55,429
forgotten the s ni key and you're gonna

601
00:25:53,749 --> 00:25:58,489
basically complete the handshake with

602
00:25:55,429 --> 00:26:00,350
the public name which and then deliver

603
00:25:58,489 --> 00:26:01,820
like a newest anti Keys record I'm gonna

604
00:26:00,350 --> 00:26:03,980
care what section it is but Adam

605
00:26:01,820 --> 00:26:05,480
Langley's fallback hack um then his

606
00:26:03,980 --> 00:26:07,860
client Jolla outer which by the way

607
00:26:05,480 --> 00:26:09,330
includes encrypted client hollow in or

608
00:26:07,860 --> 00:26:10,949
so how does the client know what

609
00:26:09,330 --> 00:26:12,689
happened we went back and forth from

610
00:26:10,950 --> 00:26:13,950
this one thing you could do is you can

611
00:26:12,690 --> 00:26:15,450
actually have like an extension in the

612
00:26:13,950 --> 00:26:16,890
server hello but we concluded trial

613
00:26:15,450 --> 00:26:19,049
decryption was fine and would like be

614
00:26:16,890 --> 00:26:20,400
like let go like make it harder to fit

615
00:26:19,049 --> 00:26:22,590
the FIR attacker to where I was going on

616
00:26:20,400 --> 00:26:26,280
that may be something we imagine

617
00:26:22,590 --> 00:26:27,510
reversing later um it's like why does

618
00:26:26,280 --> 00:26:29,820
this work

619
00:26:27,510 --> 00:26:30,960
so obviously the entire client hello is

620
00:26:29,820 --> 00:26:33,330
protected so that prints you from

621
00:26:30,960 --> 00:26:34,679
changing any piece so you can't like

622
00:26:33,330 --> 00:26:37,020
replace G to the X for your own G to the

623
00:26:34,679 --> 00:26:38,130
X you can't like add a PS k binder which

624
00:26:37,020 --> 00:26:42,360
was when Brock was part of the session

625
00:26:38,130 --> 00:26:44,700
ticket attack says that climb hello to

626
00:26:42,360 --> 00:26:45,840
contains a hash of client hello one so

627
00:26:44,700 --> 00:26:49,350
that provides mix-and-match attacks

628
00:26:45,840 --> 00:26:51,059
between them um so um on there was a

629
00:26:49,350 --> 00:26:53,370
several attacks here what Elm one by

630
00:26:51,059 --> 00:26:56,520
Nick um onyx all of him which I didn't

631
00:26:53,370 --> 00:26:58,199
show and finally the handshake secrets

632
00:26:56,520 --> 00:26:59,820
depend on the s and I block I'm actually

633
00:26:58,200 --> 00:27:02,790
two ways to think about to have this

634
00:26:59,820 --> 00:27:05,280
happen one is that we have the ESI nonce

635
00:27:02,790 --> 00:27:06,720
that we already had or you or

636
00:27:05,280 --> 00:27:08,850
alternately as David Benjamin suggests

637
00:27:06,720 --> 00:27:10,100
ik you have to climb hello random be

638
00:27:08,850 --> 00:27:13,889
different between external and internal

639
00:27:10,100 --> 00:27:15,418
and so since that affects the handshake

640
00:27:13,890 --> 00:27:18,750
keys that means that anyone who doesn't

641
00:27:15,419 --> 00:27:21,179
see um the UM yes or no yes and I block

642
00:27:18,750 --> 00:27:27,000
their collateral inner therefore I can't

643
00:27:21,179 --> 00:27:29,870
derive the key material on the second

644
00:27:27,000 --> 00:27:32,580
option which is to explicitly take some

645
00:27:29,870 --> 00:27:34,409
value off the SMI keys block and shove

646
00:27:32,580 --> 00:27:36,960
into the key schedule explicitly rather

647
00:27:34,410 --> 00:27:39,510
than simply view the transcript so one

648
00:27:36,960 --> 00:27:41,490
option is basically so right now we're

649
00:27:39,510 --> 00:27:43,559
not using HP so you have like is easy

650
00:27:41,490 --> 00:27:45,299
this is easy from like G from like the

651
00:27:43,559 --> 00:27:47,010
diffie-hellman exchange around yes and I

652
00:27:45,299 --> 00:27:48,120
and you could just HK you have some

653
00:27:47,010 --> 00:27:50,100
other thing off it and shove it in the

654
00:27:48,120 --> 00:27:51,989
key schedule like at the zero or with

655
00:27:50,100 --> 00:27:55,110
the extended key schedule stuff Jonathan

656
00:27:51,990 --> 00:27:56,610
was talking about on so these are two

657
00:27:55,110 --> 00:28:00,030
options we haven't quite side between

658
00:27:56,610 --> 00:28:01,139
them um I'll talk for a few minutes

659
00:28:00,030 --> 00:28:03,809
later about why you might want one of

660
00:28:01,140 --> 00:28:05,700
the other um so like objection like one

661
00:28:03,809 --> 00:28:07,470
is like wait wait wait wait this is like

662
00:28:05,700 --> 00:28:08,580
really big cuz like you have like

663
00:28:07,470 --> 00:28:09,870
lanolin ER and you have planned a whole

664
00:28:08,580 --> 00:28:12,299
other in the same it's like now it's

665
00:28:09,870 --> 00:28:14,129
like twice the size like so this is not

666
00:28:12,299 --> 00:28:15,900
like a crisis like most the time um

667
00:28:14,130 --> 00:28:17,700
these right now because these are

668
00:28:15,900 --> 00:28:19,020
schemes will be pretty small and like in

669
00:28:17,700 --> 00:28:21,090
quick in fact you've got like basically

670
00:28:19,020 --> 00:28:22,770
pad the whole thing out 2012

671
00:28:21,090 --> 00:28:25,620
anyway it's like which is like thing is

672
00:28:22,770 --> 00:28:26,879
ghosty padding but um if we're gonna do

673
00:28:25,620 --> 00:28:28,139
post come on key exchange we're gonna be

674
00:28:26,880 --> 00:28:29,550
kind of like sad people because like

675
00:28:28,140 --> 00:28:31,340
these these things are really big and

676
00:28:29,550 --> 00:28:35,190
now like having be twice as big as that

677
00:28:31,340 --> 00:28:37,110
so um we came up with this hack which is

678
00:28:35,190 --> 00:28:39,300
basically that you hoist the extensions

679
00:28:37,110 --> 00:28:40,469
like out of inner and outer or out of

680
00:28:39,300 --> 00:28:42,149
outer and inner however you want to

681
00:28:40,470 --> 00:28:43,920
think about it the bottom line is the

682
00:28:42,150 --> 00:28:45,600
extension like when the client general

683
00:28:43,920 --> 00:28:47,700
is client hello in or anything he's

684
00:28:45,600 --> 00:28:50,639
duplicating which probably be key

685
00:28:47,700 --> 00:28:53,280
sheriff in this case he made that he

686
00:28:50,640 --> 00:28:54,570
basically takes he basically generates

687
00:28:53,280 --> 00:28:56,160
the whole client hello in her including

688
00:28:54,570 --> 00:28:58,950
the P escape binders if there aren't and

689
00:28:56,160 --> 00:29:01,290
then as part of the process of encrypted

690
00:28:58,950 --> 00:29:03,000
right before encrypting he like moist

691
00:29:01,290 --> 00:29:04,680
them out and replaces them with like a

692
00:29:03,000 --> 00:29:07,470
pro a stand in that basically says go

693
00:29:04,680 --> 00:29:09,690
look at the outer for this thing on then

694
00:29:07,470 --> 00:29:11,490
the client so on then the client facing

695
00:29:09,690 --> 00:29:12,780
server after the communis and I block

696
00:29:11,490 --> 00:29:15,270
restores them so you have a complete

697
00:29:12,780 --> 00:29:16,830
client below is it supposed to be um and

698
00:29:15,270 --> 00:29:18,510
obviously they have to be authenticated

699
00:29:16,830 --> 00:29:19,889
because otherwise your the problem of

700
00:29:18,510 --> 00:29:21,060
light makes impact attacks again so this

701
00:29:19,890 --> 00:29:24,270
guy is something that Afeni Kate's them

702
00:29:21,060 --> 00:29:25,590
in the PR that I have um basically I had

703
00:29:24,270 --> 00:29:27,210
just like some extension that says like

704
00:29:25,590 --> 00:29:28,980
this extension was come from the outside

705
00:29:27,210 --> 00:29:30,420
and here's the hash um David Benjamin

706
00:29:28,980 --> 00:29:32,910
points out that that means that like you

707
00:29:30,420 --> 00:29:34,200
can only use this trick for um for like

708
00:29:32,910 --> 00:29:36,390
things which are inherently super large

709
00:29:34,200 --> 00:29:38,070
um as opposed to things which are small

710
00:29:36,390 --> 00:29:40,340
there's some tension about how much we

711
00:29:38,070 --> 00:29:42,389
want to encourage people to do this so

712
00:29:40,340 --> 00:29:43,980
there's some suggestions out how to

713
00:29:42,390 --> 00:29:45,570
spell this but the bottom line is it's

714
00:29:43,980 --> 00:29:46,740
got to be like be able to pull it back

715
00:29:45,570 --> 00:29:50,010
out and back in again it has to be

716
00:29:46,740 --> 00:29:51,240
authenticated um but the bottom line is

717
00:29:50,010 --> 00:29:52,800
at the end of this process you end up

718
00:29:51,240 --> 00:29:54,240
with like an ordinary vowel to client

719
00:29:52,800 --> 00:29:55,710
hello including if there was a PSK

720
00:29:54,240 --> 00:29:57,030
binder that PS cane binder is valid

721
00:29:55,710 --> 00:30:01,350
because you put like whatever he took

722
00:29:57,030 --> 00:30:02,580
out back in again so um whoever told you

723
00:30:01,350 --> 00:30:05,639
you couldn't compress and curcuit stuff

724
00:30:02,580 --> 00:30:09,060
I guess there were other way around um

725
00:30:05,640 --> 00:30:11,070
okay so um one of the big open issues

726
00:30:09,060 --> 00:30:13,649
here is this handshake keys thing as I

727
00:30:11,070 --> 00:30:16,429
said um the handshake keys must depend

728
00:30:13,650 --> 00:30:20,570
or be depend on the ESN I block

729
00:30:16,430 --> 00:30:22,620
otherwise your Oracle problem um so on

730
00:30:20,570 --> 00:30:24,360
it's clearly a case of something like

731
00:30:22,620 --> 00:30:25,800
trivial level that if we have like the

732
00:30:24,360 --> 00:30:27,419
nonce or we Garrett require a different

733
00:30:25,800 --> 00:30:30,090
client random then it's part of the

734
00:30:27,420 --> 00:30:33,570
transcript and that includes part of the

735
00:30:30,090 --> 00:30:34,918
handshake keys so this seems to have the

736
00:30:33,570 --> 00:30:38,210
nice property that maybe it allows

737
00:30:34,919 --> 00:30:41,190
I can unmodified back-end surfer

738
00:30:38,210 --> 00:30:42,720
deserves there's the big baby there so

739
00:30:41,190 --> 00:30:44,039
on there's like a number of reasons why

740
00:30:42,720 --> 00:30:46,889
you might think I'm unmodified back-end

741
00:30:44,039 --> 00:30:48,179
server might not work as one example as

742
00:30:46,889 --> 00:30:50,820
Nick Sullivan point pointed out to me

743
00:30:48,179 --> 00:30:52,289
lately um it may not be padding like the

744
00:30:50,820 --> 00:30:55,529
court the certificate in which case like

745
00:30:52,289 --> 00:30:57,480
you might be kind of sad so we have to

746
00:30:55,529 --> 00:30:58,919
decide how much you value that um the

747
00:30:57,480 --> 00:31:00,600
sort of annoying part about this is it

748
00:30:58,919 --> 00:31:02,039
requires some more assumptions about the

749
00:31:00,600 --> 00:31:03,899
transcripts secrecy and the nature of

750
00:31:02,039 --> 00:31:06,179
each KDF so we don't ordinarily assume

751
00:31:03,899 --> 00:31:09,539
that the client hall that was secret at

752
00:31:06,179 --> 00:31:11,789
all and so if you had some problem we're

753
00:31:09,539 --> 00:31:13,590
like TLS leave the client hello in some

754
00:31:11,789 --> 00:31:16,408
way then this whole thing falls apart

755
00:31:13,590 --> 00:31:17,879
um and so like as an example that as an

756
00:31:16,409 --> 00:31:20,100
example the court they pointed out

757
00:31:17,879 --> 00:31:22,289
imagine that you built your stateless

758
00:31:20,100 --> 00:31:24,449
HRR mechanism by like taking the entire

759
00:31:22,289 --> 00:31:27,119
client hello and like stuffing it in

760
00:31:24,450 --> 00:31:28,799
like a unencrypted but like a chthonic

761
00:31:27,119 --> 00:31:29,879
gated block in the cookie right now

762
00:31:28,799 --> 00:31:32,609
you'd like obviously how that kind of a

763
00:31:29,879 --> 00:31:35,189
problem um so like that maybe seem like

764
00:31:32,609 --> 00:31:38,879
a far-fetched but there you go on so

765
00:31:35,190 --> 00:31:40,649
option two is to UM throw away the nonce

766
00:31:38,879 --> 00:31:43,850
um so you don't need the nonce anymore

767
00:31:40,649 --> 00:31:46,709
at this point I don't think don't think

768
00:31:43,850 --> 00:31:48,689
and then take somehow take the es and I

769
00:31:46,710 --> 00:31:49,919
shared key and generate a new cue off it

770
00:31:48,690 --> 00:31:52,950
and shove then the key schedule

771
00:31:49,919 --> 00:31:54,210
explicitly um this obviously requires

772
00:31:52,950 --> 00:31:55,379
modifying the back-end server and it

773
00:31:54,210 --> 00:31:57,029
requires not want to find the back in

774
00:31:55,379 --> 00:31:58,619
the server but having a way for the for

775
00:31:57,029 --> 00:32:00,299
the front-end server if they're if

776
00:31:58,619 --> 00:32:01,678
they're split she liked all the back-end

777
00:32:00,299 --> 00:32:04,139
server what the key was so we can shove

778
00:32:01,679 --> 00:32:05,820
it in the key schedule so that's like

779
00:32:04,139 --> 00:32:07,139
sort of annoying credit and coordination

780
00:32:05,820 --> 00:32:08,460
on the other hand it seems to rely on

781
00:32:07,139 --> 00:32:09,449
let's dance some poor assumptions

782
00:32:08,460 --> 00:32:11,580
because if you don't don't worry about

783
00:32:09,450 --> 00:32:17,359
the you know the what you don't don't

784
00:32:11,580 --> 00:32:19,499
worry about the the transcript secrecy

785
00:32:17,359 --> 00:32:20,879
one thing you might worry about however

786
00:32:19,499 --> 00:32:22,710
is what happens to the back-end server

787
00:32:20,879 --> 00:32:24,059
and server lies about what goes into the

788
00:32:22,710 --> 00:32:25,619
key schedule I don't think that's a

789
00:32:24,059 --> 00:32:26,730
problem with this but Jonathan's talk

790
00:32:25,619 --> 00:32:28,918
really at this morning made me worry

791
00:32:26,730 --> 00:32:30,899
about that a little bit so so something

792
00:32:28,919 --> 00:32:33,450
we have to think about so um all the

793
00:32:30,899 --> 00:32:35,008
pros resolution here is to start by

794
00:32:33,450 --> 00:32:36,960
publishing for after 6:00 just to get

795
00:32:35,009 --> 00:32:38,609
like most enter brush out of the way

796
00:32:36,960 --> 00:32:39,960
use option one because it's like

797
00:32:38,609 --> 00:32:42,149
straight or straight forward but reason

798
00:32:39,960 --> 00:32:46,379
about and then do modeling on both

799
00:32:42,149 --> 00:32:47,760
involve in the list um I think from for

800
00:32:46,379 --> 00:32:50,250
the perspective of

801
00:32:47,760 --> 00:32:51,240
of the people my prospective and I think

802
00:32:50,250 --> 00:32:53,610
other people looking to play this

803
00:32:51,240 --> 00:32:55,440
quickly a lot of the uncertainty here is

804
00:32:53,610 --> 00:32:56,699
about like getting the DNS pieces

805
00:32:55,440 --> 00:32:57,510
working and getting some experience can

806
00:32:56,700 --> 00:32:58,620
anything working at all

807
00:32:57,510 --> 00:33:00,000
and if it turns out that we're like

808
00:32:58,620 --> 00:33:01,320
rolling it out and like there's

809
00:33:00,000 --> 00:33:03,390
something sell all this that creates

810
00:33:01,320 --> 00:33:04,740
like the creates like a wait a reaction

811
00:33:03,390 --> 00:33:06,510
of attack so like extract this and I

812
00:33:04,740 --> 00:33:07,830
like that's obviously not good but if

813
00:33:06,510 --> 00:33:08,879
we're just all we're doing really is

814
00:33:07,830 --> 00:33:10,139
trying to get some deployment experience

815
00:33:08,880 --> 00:33:12,750
then it wouldn't be a disaster as long

816
00:33:10,140 --> 00:33:14,670
as it's an implicit TLS otherwise if

817
00:33:12,750 --> 00:33:15,990
someone else thinks and analysis is

818
00:33:14,670 --> 00:33:17,610
wrong I'm certainly inclined to hear it

819
00:33:15,990 --> 00:33:20,880
but I think that like Alexis can make

820
00:33:17,610 --> 00:33:22,800
some progress um and we expect it be the

821
00:33:20,880 --> 00:33:25,560
same software another case really three

822
00:33:22,800 --> 00:33:26,430
similar software another case so again

823
00:33:25,560 --> 00:33:27,899
like I said we're trying to get that

824
00:33:26,430 --> 00:33:31,710
right the plain experience in terms of

825
00:33:27,900 --> 00:33:34,020
in terms getting yes and I filled and

826
00:33:31,710 --> 00:33:35,940
like because right now the asana that I

827
00:33:34,020 --> 00:33:37,410
was leaking all the time like this

828
00:33:35,940 --> 00:33:38,610
didn't if it turns out that like yes

829
00:33:37,410 --> 00:33:40,620
tonight does not in fact but if he has

830
00:33:38,610 --> 00:33:42,780
neither we're hoping like I shouldn't

831
00:33:40,620 --> 00:33:43,979
make the situation worse one hopes I'm

832
00:33:42,780 --> 00:33:47,520
gonna come to regret that saying that

833
00:33:43,980 --> 00:33:48,510
I'm sure we I mean we certainly don't

834
00:33:47,520 --> 00:33:50,280
want to play anything we're not

835
00:33:48,510 --> 00:33:51,540
confident make the situation worse which

836
00:33:50,280 --> 00:33:52,500
is one reason to stick with option one

837
00:33:51,540 --> 00:33:54,450
where we're like I think we can go out

838
00:33:52,500 --> 00:33:56,280
to be confident does not make the TLS

839
00:33:54,450 --> 00:34:02,070
stack tales one three week or otherwise

840
00:33:56,280 --> 00:34:06,300
um again one hopes um that's what

841
00:34:02,070 --> 00:34:12,060
nightly is for the so we have a couple

842
00:34:06,300 --> 00:34:14,429
of other open issues this is about how

843
00:34:12,060 --> 00:34:16,199
the DNS is deployed they said is

844
00:34:14,429 --> 00:34:18,419
deployed in DNS so um David Benjamin

845
00:34:16,199 --> 00:34:20,399
pointed out that right now on HTTP

846
00:34:18,420 --> 00:34:21,870
service we allow one HTTP conveys and I

847
00:34:20,400 --> 00:34:23,670
can fake prayers to be service record

848
00:34:21,870 --> 00:34:24,960
which obviously means like that whatever

849
00:34:23,670 --> 00:34:26,400
light I'll really we have on thinking

850
00:34:24,960 --> 00:34:28,020
like the IP address and they yes and I

851
00:34:26,400 --> 00:34:29,490
config is like totally confusing and if

852
00:34:28,020 --> 00:34:31,020
you like pick the IP address and then

853
00:34:29,489 --> 00:34:32,159
you're like oh wait I don't speak the CS

854
00:34:31,020 --> 00:34:34,020
and I can fake version maybe have to

855
00:34:32,159 --> 00:34:36,120
fall back so it's like really goofy um

856
00:34:34,020 --> 00:34:37,590
his solution it was I agree with is to

857
00:34:36,120 --> 00:34:38,819
bundle all this and I can fit options

858
00:34:37,590 --> 00:34:41,490
into es mi configs

859
00:34:38,820 --> 00:34:43,560
and put that in HTTP service this like

860
00:34:41,489 --> 00:34:45,479
seems totally sensible and like you know

861
00:34:43,560 --> 00:34:47,820
I think we should do it if anybody

862
00:34:45,480 --> 00:34:58,320
objects like this speaking now this is

863
00:34:47,820 --> 00:35:00,330
PR 200 okay Pio 201 Oh so you can still

864
00:34:58,320 --> 00:35:01,339
have multiple orders for the HTTP SVC

865
00:35:00,330 --> 00:35:03,328
though right

866
00:35:01,339 --> 00:35:06,540
yes but it's probably not a very good

867
00:35:03,329 --> 00:35:08,460
idea well it's on you go D if they if

868
00:35:06,540 --> 00:35:12,799
they get they're different yeah you can

869
00:35:08,460 --> 00:35:12,799
do it yes sorry is fine idea yes okay

870
00:35:17,640 --> 00:35:28,529
next slide it's like reflex okay so the

871
00:35:27,089 --> 00:35:30,328
second thing David Benjamin suggested

872
00:35:28,530 --> 00:35:32,579
was to flatten the s9 config itself so

873
00:35:30,329 --> 00:35:33,839
right now it's 9k fake contains like a

874
00:35:32,579 --> 00:35:35,220
master list of parameters like the

875
00:35:33,839 --> 00:35:38,578
cipher suites and then multiple key

876
00:35:35,220 --> 00:35:40,259
shares David's just it that we flatten

877
00:35:38,579 --> 00:35:42,000
this so you have like one key share per

878
00:35:40,260 --> 00:35:44,180
config and if you want more than one key

879
00:35:42,000 --> 00:35:46,170
then you have more than one can stick um

880
00:35:44,180 --> 00:35:47,460
that's unfortunate that said some

881
00:35:46,170 --> 00:35:49,020
unfortunate typesetting there because

882
00:35:47,460 --> 00:35:52,470
you have you know multiple yes and I

883
00:35:49,020 --> 00:35:55,950
config oh I see where I'm going with

884
00:35:52,470 --> 00:35:58,140
this so on that last s on that last line

885
00:35:55,950 --> 00:35:59,970
should not be set in whatever font it is

886
00:35:58,140 --> 00:36:04,170
that she'd be set in like the in like

887
00:35:59,970 --> 00:36:07,078
the main font it's okay

888
00:36:04,170 --> 00:36:09,270
that was here wasn't it so the upside of

889
00:36:07,079 --> 00:36:11,309
this avi is nominally implementation

890
00:36:09,270 --> 00:36:12,470
simplicity um I'm actually that's the

891
00:36:11,309 --> 00:36:15,240
case but David seemed to think it was

892
00:36:12,470 --> 00:36:17,129
yeah I know I have the same thing um on

893
00:36:15,240 --> 00:36:19,500
the down side obviously is duplication

894
00:36:17,130 --> 00:36:21,480
which is that like um you know if you

895
00:36:19,500 --> 00:36:23,309
have like if you if you have four keys

896
00:36:21,480 --> 00:36:30,380
then you end up with four copies of the

897
00:36:23,309 --> 00:36:33,480
parameters lacrosse um like I guess I'm

898
00:36:30,380 --> 00:36:34,740
I'm I'm motivated to reject this but I'm

899
00:36:33,480 --> 00:36:38,089
like nah collide on the ground over this

900
00:36:34,740 --> 00:36:38,089
I like your other people think

901
00:36:41,000 --> 00:36:46,819
Alessandro cadena CloudFlare this is how

902
00:36:44,250 --> 00:36:51,150
we implemented es and I already anyway

903
00:36:46,819 --> 00:36:53,910
but it like from our perspective it

904
00:36:51,150 --> 00:36:57,480
wouldn't change anything but I also

905
00:36:53,910 --> 00:36:59,098
don't really care about I don't see the

906
00:36:57,480 --> 00:37:02,400
the simplification in the implementation

907
00:36:59,099 --> 00:37:08,160
that much to be honest I mean even if we

908
00:37:02,400 --> 00:37:09,839
add like multiple keys so because like

909
00:37:08,160 --> 00:37:13,799
if you have multiple keys you would have

910
00:37:09,839 --> 00:37:15,360
the same the same

911
00:37:13,800 --> 00:37:18,630
negotiation process that you already

912
00:37:15,360 --> 00:37:20,040
have for normal quiches oh but that was

913
00:37:18,630 --> 00:37:21,330
like whatever I put that question right

914
00:37:20,040 --> 00:37:22,620
there as I started thinking about this I

915
00:37:21,330 --> 00:37:25,620
seem that was harder for me to implement

916
00:37:22,620 --> 00:37:27,240
not easier because I had to dig in

917
00:37:25,620 --> 00:37:30,230
because I had to dig into the key shares

918
00:37:27,240 --> 00:37:32,520
to find out which one I want to pick

919
00:37:30,230 --> 00:37:34,380
there Stephen well I'd be for flattening

920
00:37:32,520 --> 00:37:36,360
I think getting rid of the complexity in

921
00:37:34,380 --> 00:37:39,420
there is it is it a bit simpler I think

922
00:37:36,360 --> 00:37:40,650
for me benkei duck I mean I think it

923
00:37:39,420 --> 00:37:42,000
depends on how many key shares you

924
00:37:40,650 --> 00:37:43,260
actually expect to have if you're only

925
00:37:42,000 --> 00:37:45,060
gonna have like one or two than

926
00:37:43,260 --> 00:37:46,440
flattening sounds like good plan but if

927
00:37:45,060 --> 00:37:50,900
you're actually gonna have four eight

928
00:37:46,440 --> 00:37:55,380
you know then it's not matter Tony Polly

929
00:37:50,900 --> 00:37:58,020
to clarify does anything stop you from

930
00:37:55,380 --> 00:38:00,180
doing one key share previous and I can

931
00:37:58,020 --> 00:38:00,810
figure if you want today um I don't

932
00:38:00,180 --> 00:38:05,129
think so

933
00:38:00,810 --> 00:38:06,180
okay so right so exactly so you can get

934
00:38:05,130 --> 00:38:08,280
this benefit it's kind of just an

935
00:38:06,180 --> 00:38:10,350
implementation choice you don't really

936
00:38:08,280 --> 00:38:12,750
need to specify it and it can just be

937
00:38:10,350 --> 00:38:15,480
like a best practice to do it that way I

938
00:38:12,750 --> 00:38:16,890
think that I think the point is that the

939
00:38:15,480 --> 00:38:19,170
client did the client negotiation of

940
00:38:16,890 --> 00:38:21,450
augmentation iterate over the key shares

941
00:38:19,170 --> 00:38:26,790
so I think I think the issue is right as

942
00:38:21,450 --> 00:38:28,169
I understand it is um that um I guess

943
00:38:26,790 --> 00:38:29,550
David I guess I'm not sure what your

944
00:38:28,170 --> 00:38:32,610
implication you have a mind like the one

945
00:38:29,550 --> 00:38:33,870
I expected I mean your implementation is

946
00:38:32,610 --> 00:38:34,830
you're gonna parse all these and then

947
00:38:33,870 --> 00:38:37,470
pick up a ball with the key sure you

948
00:38:34,830 --> 00:38:39,180
want so I should probably mention that

949
00:38:37,470 --> 00:38:40,109
originally these two or one PR and then

950
00:38:39,180 --> 00:38:41,669
you pointed out that there was two

951
00:38:40,110 --> 00:38:43,350
separate things yes so I'm actually like

952
00:38:41,670 --> 00:38:46,710
kind of like I don't care too strongly a

953
00:38:43,350 --> 00:38:49,259
first one the the the the motivation was

954
00:38:46,710 --> 00:38:52,040
that was basically looking at Steven

955
00:38:49,260 --> 00:38:54,270
Pharaohs draft the the the

956
00:38:52,040 --> 00:38:58,830
representation for the server

957
00:38:54,270 --> 00:39:01,110
configuration is a list of of tuples of

958
00:38:58,830 --> 00:39:02,370
es and I config the public part and then

959
00:39:01,110 --> 00:39:04,200
a list of keys and so you've got this

960
00:39:02,370 --> 00:39:05,580
like double list structure and so when

961
00:39:04,200 --> 00:39:06,960
we were trying to add an API for it we

962
00:39:05,580 --> 00:39:09,240
were like okay well we need to have like

963
00:39:06,960 --> 00:39:10,950
add keys and here's the public thing and

964
00:39:09,240 --> 00:39:12,870
we need a list of keys over there and

965
00:39:10,950 --> 00:39:14,430
then you call it multiple times and it

966
00:39:12,870 --> 00:39:16,589
just got a little it was like this is

967
00:39:14,430 --> 00:39:20,040
kind of annoying we already have a layer

968
00:39:16,590 --> 00:39:22,530
of things so if you flatten it then the

969
00:39:20,040 --> 00:39:25,140
structure becomes a list of pairs of

970
00:39:22,530 --> 00:39:27,030
public thing private thing which seemed

971
00:39:25,140 --> 00:39:27,690
a little more straightforward but like I

972
00:39:27,030 --> 00:39:30,720
said I don't

973
00:39:27,690 --> 00:39:32,460
all that strongly right I mean so again

974
00:39:30,720 --> 00:39:34,348
I don't kill a young either I would made

975
00:39:32,460 --> 00:39:36,000
it for our case but from like the way

976
00:39:34,349 --> 00:39:37,380
our implementation works is we deceive

977
00:39:36,000 --> 00:39:38,819
realize the structure and then we

978
00:39:37,380 --> 00:39:41,550
negotiate things in sequence right and

979
00:39:38,819 --> 00:39:43,290
so now we have to do is like deserialize

980
00:39:41,550 --> 00:39:44,339
all of us you know visualize to start

981
00:39:43,290 --> 00:39:46,319
either reduce your odds all structures

982
00:39:44,339 --> 00:39:48,210
and stuff them in a list or deer shows a

983
00:39:46,319 --> 00:39:49,829
structure let's find the key share then

984
00:39:48,210 --> 00:39:51,869
look at what you're saying it's and I

985
00:39:49,829 --> 00:39:55,250
pass it like stuff like like store all

986
00:39:51,869 --> 00:39:55,250
the other stuff and then come back um

987
00:39:55,640 --> 00:40:05,160
maybe if we put the key sure first that

988
00:39:57,750 --> 00:40:07,859
problem going Ben Schwartz so since it's

989
00:40:05,160 --> 00:40:10,410
not explicit here I want to point out

990
00:40:07,859 --> 00:40:10,980
that I think the the only significant

991
00:40:10,410 --> 00:40:14,250
thing that we're talking about

992
00:40:10,980 --> 00:40:16,560
duplicating is the fallback name the the

993
00:40:14,250 --> 00:40:18,990
other the only other thing that I think

994
00:40:16,560 --> 00:40:21,810
where we duplicate here is the cipher

995
00:40:18,990 --> 00:40:24,720
suite yeah identity which is minimal

996
00:40:21,810 --> 00:40:26,099
yeah so it's the it's duplicating the

997
00:40:24,720 --> 00:40:27,359
fallback name that's of concern here and

998
00:40:26,099 --> 00:40:29,520
the other thing I want to point out is

999
00:40:27,359 --> 00:40:32,578
that the ES and I configure a bundle I

1000
00:40:29,520 --> 00:40:35,220
like the es and I bundle name is still

1001
00:40:32,579 --> 00:40:37,800
only scoped to a single IP pool

1002
00:40:35,220 --> 00:40:39,299
essentially so if you are in a multi CD

1003
00:40:37,800 --> 00:40:42,359
in case you will still have about

1004
00:40:39,300 --> 00:40:45,089
multiple RRS and it'll be divided so

1005
00:40:42,359 --> 00:40:47,040
that that may mean that essentially yes

1006
00:40:45,089 --> 00:40:51,000
my bundles are not going to be very

1007
00:40:47,040 --> 00:40:56,220
large that is their their scope is still

1008
00:40:51,000 --> 00:40:57,150
limited okay I'm not sure I believe

1009
00:40:56,220 --> 00:41:00,020
that's the chairs gonna make progress

1010
00:40:57,150 --> 00:41:00,020
here that's the chair table

1011
00:41:19,000 --> 00:41:23,540
since since nobody's talking on the

1012
00:41:21,800 --> 00:41:25,850
Michael talk get that Schwartzman

1013
00:41:23,540 --> 00:41:28,460
I do think that it's a little silly to

1014
00:41:25,850 --> 00:41:31,279
replicate the fallback name multiple

1015
00:41:28,460 --> 00:41:33,350
time so you have an RR from a CDN and

1016
00:41:31,280 --> 00:41:35,210
and in that are are you have multiple

1017
00:41:33,350 --> 00:41:41,150
copies of that CDN telling you it's name

1018
00:41:35,210 --> 00:41:42,860
like this seems weird I mean I feel like

1019
00:41:41,150 --> 00:41:45,920
maybe we need that more discussion about

1020
00:41:42,860 --> 00:41:47,960
this okay then just like you know

1021
00:41:45,920 --> 00:41:49,400
typically like if we have like clear in

1022
00:41:47,960 --> 00:41:51,100
the room and then we take it I just

1023
00:41:49,400 --> 00:41:52,280
don't know that we have that here okay

1024
00:41:51,100 --> 00:41:56,390
okay

1025
00:41:52,280 --> 00:41:59,330
so next steps um I think we're gonna

1026
00:41:56,390 --> 00:42:00,470
publish uh six um I think we're gonna

1027
00:41:59,330 --> 00:42:05,330
want to spend some time doing some

1028
00:42:00,470 --> 00:42:06,950
modeling um I got something disagrees

1029
00:42:05,330 --> 00:42:10,700
republished those six with like variant

1030
00:42:06,950 --> 00:42:12,230
one with the nuts I think the next I

1031
00:42:10,700 --> 00:42:13,910
want to be persuade ourselves that like

1032
00:42:12,230 --> 00:42:15,350
actually this is like safe at least as

1033
00:42:13,910 --> 00:42:18,160
far as like not affecting one three

1034
00:42:15,350 --> 00:42:20,569
before you ship anything like that would

1035
00:42:18,160 --> 00:42:22,009
I'm gonna be as if I was saying earlier

1036
00:42:20,570 --> 00:42:24,350
I'm gonna be pretty blocked into like

1037
00:42:22,010 --> 00:42:26,240
ship this in like in the product until I

1038
00:42:24,350 --> 00:42:28,250
have like some sense analysis that shows

1039
00:42:26,240 --> 00:42:31,759
it doesn't make one three worse that

1040
00:42:28,250 --> 00:42:32,870
would be scary um and then

1041
00:42:31,760 --> 00:42:34,550
simultaneously do modeling on the

1042
00:42:32,870 --> 00:42:37,310
unnatural options and see which one we

1043
00:42:34,550 --> 00:42:38,870
think um works and see like a is it

1044
00:42:37,310 --> 00:42:41,029
possible to avoid modifying the server

1045
00:42:38,870 --> 00:42:42,740
at all and be his transfer of secrecy

1046
00:42:41,030 --> 00:42:47,720
ever a property we don't need and the

1047
00:42:42,740 --> 00:42:48,859
circumstances the and sounds like we

1048
00:42:47,720 --> 00:42:52,879
have a resolution for two hundred will

1049
00:42:48,860 --> 00:42:56,030
discuss 201 in the list and um then I

1050
00:42:52,880 --> 00:42:58,670
think we need to decide on maybe this

1051
00:42:56,030 --> 00:43:01,150
that document renamed um because it's

1052
00:42:58,670 --> 00:43:03,770
not Lee it's an eye anymore that's fun

1053
00:43:01,150 --> 00:43:05,480
it's almost editorial and some some

1054
00:43:03,770 --> 00:43:07,220
respects okay if we decide that we're

1055
00:43:05,480 --> 00:43:08,990
gonna switch to being an encrypted

1056
00:43:07,220 --> 00:43:11,810
client hello then we're gonna call it

1057
00:43:08,990 --> 00:43:13,310
something okay yes and I hate with a

1058
00:43:11,810 --> 00:43:16,310
blip that should be called echo by the

1059
00:43:13,310 --> 00:43:17,779
way so I guess on to Oh on the point for

1060
00:43:16,310 --> 00:43:19,759
the working group is that I still

1061
00:43:17,780 --> 00:43:22,970
think we should be shooting for starting

1062
00:43:19,760 --> 00:43:25,220
the working last call in early 2020 so

1063
00:43:22,970 --> 00:43:27,290
that to me means like end of January

1064
00:43:25,220 --> 00:43:28,910
because it's holidays and who knows what

1065
00:43:27,290 --> 00:43:31,820
but it would be nice if people could get

1066
00:43:28,910 --> 00:43:33,440
their eyes on 201 to see if we can you

1067
00:43:31,820 --> 00:43:35,030
know really come to closure sooner

1068
00:43:33,440 --> 00:43:36,170
because of choice yeah I wish I can do

1069
00:43:35,030 --> 00:43:37,610
less call until we have substantially

1070
00:43:36,170 --> 00:43:38,840
more analysis at this so I think like

1071
00:43:37,610 --> 00:43:45,010
that's gonna be the gating factor run in

1072
00:43:38,840 --> 00:43:45,010
201 anything else

1073
00:43:48,400 --> 00:43:53,720
what's the question mark after HP k I'm

1074
00:43:51,680 --> 00:43:55,190
sorry thank you I miss that um so right

1075
00:43:53,720 --> 00:43:57,830
now we're using this sort of bespoke

1076
00:43:55,190 --> 00:43:59,240
quasi HP key thing where we generally

1077
00:43:57,830 --> 00:44:00,230
like we published a few Hellman key and

1078
00:43:59,240 --> 00:44:02,089
then we didn't really new fresh to be on

1079
00:44:00,230 --> 00:44:05,960
one key and like essentially is HP key

1080
00:44:02,090 --> 00:44:08,810
but it's not HP key on so I think I'd

1081
00:44:05,960 --> 00:44:12,440
suggested several suggested like just

1082
00:44:08,810 --> 00:44:13,610
wasting an HP key um I I can't really

1083
00:44:12,440 --> 00:44:16,550
think I want to share to the last time I

1084
00:44:13,610 --> 00:44:18,920
camera roll it was was it Martin but

1085
00:44:16,550 --> 00:44:20,720
Nikki's um I think I should do that um

1086
00:44:18,920 --> 00:44:23,720
but I'm also willing to listen to

1087
00:44:20,720 --> 00:44:25,549
somebody said you shouldn't so just

1088
00:44:23,720 --> 00:44:27,470
Forbes worth I think yeah I'd be

1089
00:44:25,550 --> 00:44:32,270
supportive of making that HP ka changed

1090
00:44:27,470 --> 00:44:33,770
you know at the same time there's

1091
00:44:32,270 --> 00:44:38,810
Richard Barnes on one of the HP ke

1092
00:44:33,770 --> 00:44:40,400
co-authors I think yeah the HP ke is is

1093
00:44:38,810 --> 00:44:42,380
a good operational fit with what you

1094
00:44:40,400 --> 00:44:45,950
need here and it should be ready in

1095
00:44:42,380 --> 00:44:47,810
about the same time frame okay um so one

1096
00:44:45,950 --> 00:44:50,689
thing is relevant here is if we do the

1097
00:44:47,810 --> 00:44:53,150
option to will need a way to take off an

1098
00:44:50,690 --> 00:44:57,080
exported key out of HP key um is that

1099
00:44:53,150 --> 00:44:58,130
something that's being done that is

1100
00:44:57,080 --> 00:44:59,450
something that Chris would may have

1101
00:44:58,130 --> 00:45:00,920
suggested to me and has not been

1102
00:44:59,450 --> 00:45:02,450
implemented yet but should be

1103
00:45:00,920 --> 00:45:03,830
straightforward yet okay

1104
00:45:02,450 --> 00:45:07,430
can we can we get you to start we're

1105
00:45:03,830 --> 00:45:10,730
getting there PR is welcome no no can we

1106
00:45:07,430 --> 00:45:15,169
get you to start working on that I have

1107
00:45:10,730 --> 00:45:17,690
to make PRS okay so I'll prepare a PR

1108
00:45:15,170 --> 00:45:19,580
two or one of us aware PR two HP key you

1109
00:45:17,690 --> 00:45:20,720
can make this AP AP he and we can make

1110
00:45:19,580 --> 00:45:22,930
sure to like because that's the list of

1111
00:45:20,720 --> 00:45:26,089
that see if anybody Ajax

1112
00:45:22,930 --> 00:45:29,120
tell me Polly Apple um so yeah thank you

1113
00:45:26,090 --> 00:45:31,380
for all of this work and I think the

1114
00:45:29,120 --> 00:45:32,598
plan sounds good in all of these

1115
00:45:31,380 --> 00:45:34,500
options are good things to dig into

1116
00:45:32,599 --> 00:45:39,180
hopefully we can get this done in that

1117
00:45:34,500 --> 00:45:41,130
timeframe as a clarification or also

1118
00:45:39,180 --> 00:45:45,000
like a bike shed type thing when we talk

1119
00:45:41,130 --> 00:45:47,039
about the encrypted client hello do all

1120
00:45:45,000 --> 00:45:48,690
of the options require essentially

1121
00:45:47,039 --> 00:45:50,609
having like the full client hello in

1122
00:45:48,690 --> 00:45:52,500
there or is it is it really just like an

1123
00:45:50,609 --> 00:45:59,519
encrypted set of extensions rather than

1124
00:45:52,500 --> 00:46:03,089
a client hello yeah give you a question

1125
00:45:59,519 --> 00:46:07,229
um I guess my instinct is to I guess

1126
00:46:03,089 --> 00:46:11,578
this is a matter of sort of like so we

1127
00:46:07,230 --> 00:46:13,650
say intuition right like my intuition is

1128
00:46:11,579 --> 00:46:15,059
get it all in there like every time we

1129
00:46:13,650 --> 00:46:17,130
tried to like light the snake out with

1130
00:46:15,059 --> 00:46:18,990
less we've been sorry so my intuition is

1131
00:46:17,130 --> 00:46:20,039
get it all in there I guess when you

1132
00:46:18,990 --> 00:46:22,200
perspective people have intuitions

1133
00:46:20,039 --> 00:46:23,849
different I guess my intuition is to

1134
00:46:22,200 --> 00:46:25,950
make them as I mean does a said earlier

1135
00:46:23,849 --> 00:46:27,779
my intuition is to generate like a

1136
00:46:25,950 --> 00:46:29,788
completely fresh clan hello essentially

1137
00:46:27,779 --> 00:46:32,700
and have them be different because I say

1138
00:46:29,789 --> 00:46:34,440
that the the actual like the actual like

1139
00:46:32,700 --> 00:46:36,118
space overhead is remarkably low when

1140
00:46:34,440 --> 00:46:39,779
you separate the key shows themselves um

1141
00:46:36,119 --> 00:46:41,160
and um so that's like where I am but

1142
00:46:39,779 --> 00:46:42,599
like I think other people may be here it

1143
00:46:41,160 --> 00:46:44,308
may be different um I think Richards

1144
00:46:42,599 --> 00:46:45,690
like nodding I told you so since he like

1145
00:46:44,309 --> 00:46:47,900
was the person who originally suggested

1146
00:46:45,690 --> 00:46:51,269
like encrypting basically everything um

1147
00:46:47,900 --> 00:46:53,339
right okay then that's fine if that's

1148
00:46:51,269 --> 00:46:55,049
what we have to do I think some of the

1149
00:46:53,339 --> 00:46:57,720
concerns that come to my head there are

1150
00:46:55,049 --> 00:46:59,819
like now you can have more things that

1151
00:46:57,720 --> 00:47:01,769
could be not just duplicated but

1152
00:46:59,819 --> 00:47:03,779
conflicting it's clear how to process

1153
00:47:01,769 --> 00:47:05,038
them well I shouldn't be unclear it

1154
00:47:03,779 --> 00:47:08,220
shouldn't be unclear to process them the

1155
00:47:05,039 --> 00:47:09,059
way you process them is that you push

1156
00:47:08,220 --> 00:47:11,640
the claim hello

1157
00:47:09,059 --> 00:47:13,559
if you CBS and I you decrypt decrypt it

1158
00:47:11,640 --> 00:47:16,109
and then you throw in everything else

1159
00:47:13,559 --> 00:47:17,039
you just only use one of the other yeah

1160
00:47:16,109 --> 00:47:18,900
okay

1161
00:47:17,039 --> 00:47:20,190
modular this goofy decompression

1162
00:47:18,900 --> 00:47:21,359
procedure yes

1163
00:47:20,190 --> 00:47:23,460
so like that that definitely will make

1164
00:47:21,359 --> 00:47:25,589
clear in the specification and so like

1165
00:47:23,460 --> 00:47:26,789
in particular like you know like the

1166
00:47:25,589 --> 00:47:28,170
randoms may be different so they say

1167
00:47:26,789 --> 00:47:31,529
this is also a source of tension between

1168
00:47:28,170 --> 00:47:33,180
greasing and and fingerprint avoidance

1169
00:47:31,529 --> 00:47:34,410
because the fingerprint avoidance is

1170
00:47:33,180 --> 00:47:36,240
actually very attractive to have more or

1171
00:47:34,410 --> 00:47:37,470
less of standardized external client

1172
00:47:36,240 --> 00:47:40,200
hello is the only purpose the external

1173
00:47:37,470 --> 00:47:42,990
fine hello is to allow the server to

1174
00:47:40,200 --> 00:47:44,399
respond with the fallback keys and so

1175
00:47:42,990 --> 00:47:45,109
like you don't need like first this post

1176
00:47:44,400 --> 00:47:46,850
quantum you know

1177
00:47:45,110 --> 00:47:48,170
he'd like you know whatever but on the

1178
00:47:46,850 --> 00:47:49,700
other hand the more you the more you

1179
00:47:48,170 --> 00:47:50,810
sort of simplify internal clock and so

1180
00:47:49,700 --> 00:47:52,399
like we could imagine you publishing

1181
00:47:50,810 --> 00:47:53,509
like a standardized one but the more you

1182
00:47:52,400 --> 00:47:56,360
do that the more it stands out that

1183
00:47:53,510 --> 00:47:59,120
you're like actually doing yes and I yes

1184
00:47:56,360 --> 00:48:01,160
yeah just one last point I think part of

1185
00:47:59,120 --> 00:48:03,710
the reason probably my intuition is the

1186
00:48:01,160 --> 00:48:05,810
other way is I come from more like doing

1187
00:48:03,710 --> 00:48:08,330
Mike and like there's a lot of precedent

1188
00:48:05,810 --> 00:48:10,850
there for having you know your main

1189
00:48:08,330 --> 00:48:13,069
protocol header you're essentially

1190
00:48:10,850 --> 00:48:15,620
extensions and then a block of encrypted

1191
00:48:13,070 --> 00:48:16,910
extensions and so there is a fair amount

1192
00:48:15,620 --> 00:48:21,080
of precedent for the church in these

1193
00:48:16,910 --> 00:48:23,149
type of handshakes I don't I use Nick

1194
00:48:21,080 --> 00:48:24,970
hello Nick Sullivan cloths are just

1195
00:48:23,150 --> 00:48:27,230
wanted to clarify one thing

1196
00:48:24,970 --> 00:48:29,600
specifically about early data that early

1197
00:48:27,230 --> 00:48:35,750
data is not in the encrypted hello it's

1198
00:48:29,600 --> 00:48:37,610
after the handshake just wait so yeah if

1199
00:48:35,750 --> 00:48:39,620
we do key injection it becomes much

1200
00:48:37,610 --> 00:48:41,210
easier to reason about whether you can

1201
00:48:39,620 --> 00:48:42,920
just do in Krypton's then it could

1202
00:48:41,210 --> 00:48:46,220
encrypted extensions rather than

1203
00:48:42,920 --> 00:48:49,940
encrypting a whole client hello why is

1204
00:48:46,220 --> 00:48:52,129
that because you know exactly what is

1205
00:48:49,940 --> 00:48:55,720
bound where whereas this we're just

1206
00:48:52,130 --> 00:48:59,150
using TLS as a transport layer and so

1207
00:48:55,720 --> 00:49:01,040
much go decompression I read the fault I

1208
00:48:59,150 --> 00:49:02,180
don't follow that but like I'm not

1209
00:49:01,040 --> 00:49:04,130
saying it's wrong I'm just eyeball it so

1210
00:49:02,180 --> 00:49:07,940
I think people want to pick that up when

1211
00:49:04,130 --> 00:49:09,170
we start doing the modeling sure well

1212
00:49:07,940 --> 00:49:12,650
I'm looking forward even trip enjoyed

1213
00:49:09,170 --> 00:49:16,250
that's my first when I go with that the

1214
00:49:12,650 --> 00:49:18,890
if you have if you if you want to do an

1215
00:49:16,250 --> 00:49:23,930
encrypted client hello and you know

1216
00:49:18,890 --> 00:49:26,210
exactly the and you've bound it to if

1217
00:49:23,930 --> 00:49:29,210
you go step back and say we have no

1218
00:49:26,210 --> 00:49:32,540
interior clients below and you then just

1219
00:49:29,210 --> 00:49:38,480
have a key that is used to just encrypt

1220
00:49:32,540 --> 00:49:42,050
the extensions you can it's easy to

1221
00:49:38,480 --> 00:49:43,460
reason about who who has that key at

1222
00:49:42,050 --> 00:49:49,430
what points on whatever and you can just

1223
00:49:43,460 --> 00:49:54,650
oh if you know if you don't want to work

1224
00:49:49,430 --> 00:49:55,440
through the I give me five minutes

1225
00:49:54,650 --> 00:49:58,410
well sure

1226
00:49:55,440 --> 00:50:04,260
think about your time now but like

1227
00:49:58,410 --> 00:50:06,569
laters Wes Wes verdict or I say so

1228
00:50:04,260 --> 00:50:08,220
congratulations for actually literally

1229
00:50:06,570 --> 00:50:11,460
documenting encrypted Turtles all the

1230
00:50:08,220 --> 00:50:13,799
way down you're welcome

1231
00:50:11,460 --> 00:50:15,180
and actually right back up again since

1232
00:50:13,800 --> 00:50:19,680
you were talking about pointing you know

1233
00:50:15,180 --> 00:50:21,089
back up to the top of the show the the

1234
00:50:19,680 --> 00:50:23,100
Telus protocol in general and all

1235
00:50:21,090 --> 00:50:26,940
protocols in the ATF have had a horrible

1236
00:50:23,100 --> 00:50:29,310
time when complexity arises that you

1237
00:50:26,940 --> 00:50:31,920
know implementations get stuff wrong so

1238
00:50:29,310 --> 00:50:33,930
honestly as to which I would do I'd be

1239
00:50:31,920 --> 00:50:35,850
very tempted to implement both and

1240
00:50:33,930 --> 00:50:38,120
figure out which one got me more code

1241
00:50:35,850 --> 00:50:41,130
reuse and and less prone to error

1242
00:50:38,120 --> 00:50:42,660
because that's a that's a very

1243
00:50:41,130 --> 00:50:43,830
impressive hack and I can't believe I

1244
00:50:42,660 --> 00:50:48,690
followed the whole discussion to be

1245
00:50:43,830 --> 00:50:50,160
honest sir burns yeah those are true

1246
00:50:48,690 --> 00:50:53,250
Barnes again and feel free to tell me to

1247
00:50:50,160 --> 00:50:54,509
sit down if this is a dumb idea but it

1248
00:50:53,250 --> 00:50:56,250
seems like if we're encrypting the

1249
00:50:54,510 --> 00:50:59,370
client hello we could also encrypt the

1250
00:50:56,250 --> 00:51:00,930
server hello yeah we in which case you

1251
00:50:59,370 --> 00:51:05,040
it has the benefit of just being

1252
00:51:00,930 --> 00:51:06,540
encrypted hellos or yeah

1253
00:51:05,040 --> 00:51:10,650
interesting interesting interesting

1254
00:51:06,540 --> 00:51:13,380
suggestion um has it has it has the

1255
00:51:10,650 --> 00:51:14,400
benefit that you can actually as the

1256
00:51:13,380 --> 00:51:16,830
benefit that actually you can

1257
00:51:14,400 --> 00:51:19,830
distinguish that then you know in

1258
00:51:16,830 --> 00:51:21,330
through trial decryption because you can

1259
00:51:19,830 --> 00:51:22,920
look at the first you can look at the

1260
00:51:21,330 --> 00:51:24,660
first bite whether record type which

1261
00:51:22,920 --> 00:51:30,960
will be application data as opposed to

1262
00:51:24,660 --> 00:51:32,370
handshake so Deb Cooley NSA can I get

1263
00:51:30,960 --> 00:51:34,850
you to walk through something a little

1264
00:51:32,370 --> 00:51:37,470
bit so client hello inner and outer

1265
00:51:34,850 --> 00:51:40,710
you've got the inner one which you had

1266
00:51:37,470 --> 00:51:43,850
originally you're encrypting it and

1267
00:51:40,710 --> 00:51:46,590
recreating an hour one are you gonna

1268
00:51:43,850 --> 00:51:48,630
force a validation between the inner

1269
00:51:46,590 --> 00:51:54,510
values and the outer values that are the

1270
00:51:48,630 --> 00:51:57,000
same I'm not gonna let them be different

1271
00:51:54,510 --> 00:52:00,840
so is it like let's take a concrete

1272
00:51:57,000 --> 00:52:02,160
example you yeah in yes the the random

1273
00:52:00,840 --> 00:52:05,280
values could be totally different oh

1274
00:52:02,160 --> 00:52:07,890
yeah yeah yeah okay um like yeah

1275
00:52:05,280 --> 00:52:08,730
essentially essentially unless like like

1276
00:52:07,890 --> 00:52:09,240
imagine you're not doing this

1277
00:52:08,730 --> 00:52:10,290
compression

1278
00:52:09,240 --> 00:52:13,350
prick they could be there totally

1279
00:52:10,290 --> 00:52:15,060
independent immersion trick is you know

1280
00:52:13,350 --> 00:52:17,640
they're obviously ones have not that are

1281
00:52:15,060 --> 00:52:19,950
that are that are duplicated like can't

1282
00:52:17,640 --> 00:52:21,779
be different but the ones that are not

1283
00:52:19,950 --> 00:52:22,980
you the ones are not e duplicated yeah

1284
00:52:21,780 --> 00:52:25,020
they're like they're totally independent

1285
00:52:22,980 --> 00:52:26,940
is the idea you know been connect so

1286
00:52:25,020 --> 00:52:28,470
like you can imagine a world where you

1287
00:52:26,940 --> 00:52:30,780
are doing the fingerprinting avoidance

1288
00:52:28,470 --> 00:52:33,959
where the outer final oh is like

1289
00:52:30,780 --> 00:52:36,090
literally fixed except for the encrypt a

1290
00:52:33,960 --> 00:52:36,810
bit yeah and so then you know they're

1291
00:52:36,090 --> 00:52:39,360
always gonna be different

1292
00:52:36,810 --> 00:52:41,970
inner and outer oh I say so you're not

1293
00:52:39,360 --> 00:52:44,480
gonna encapsulate anything on the inside

1294
00:52:41,970 --> 00:52:46,310
that you also carrying on the outside

1295
00:52:44,480 --> 00:52:49,110
only for convenience

1296
00:52:46,310 --> 00:52:52,230
yeah the outside is just for the case

1297
00:52:49,110 --> 00:52:53,880
you have to fall back and do the finish

1298
00:52:52,230 --> 00:52:56,940
the handshake but you know sort of fail

1299
00:52:53,880 --> 00:52:58,920
the operation by returning the new yes

1300
00:52:56,940 --> 00:53:00,690
Nikes so I guess when you started

1301
00:52:58,920 --> 00:53:03,110
talking about this it sort of threw me

1302
00:53:00,690 --> 00:53:05,940
back in time to a protocol called sp3

1303
00:53:03,110 --> 00:53:09,000
which is an early early early IP

1304
00:53:05,940 --> 00:53:10,830
protocol where you didn't kept slate you

1305
00:53:09,000 --> 00:53:13,020
had an inner header and an outer header

1306
00:53:10,830 --> 00:53:16,740
basically and you had to be careful that

1307
00:53:13,020 --> 00:53:18,480
too like you passed it are you

1308
00:53:16,740 --> 00:53:19,859
translated at earth you had to be

1309
00:53:18,480 --> 00:53:24,359
careful about how you did it because you

1310
00:53:19,859 --> 00:53:26,460
had things in both places and you talked

1311
00:53:24,359 --> 00:53:31,830
about like an IPSec it's sort of the

1312
00:53:26,460 --> 00:53:33,619
same idea there too if you had values in

1313
00:53:31,830 --> 00:53:36,540
both places you need to make sure that

1314
00:53:33,619 --> 00:53:37,980
this one's the same as that one yeah I

1315
00:53:36,540 --> 00:53:40,440
think that we're taking the opposite

1316
00:53:37,980 --> 00:53:43,500
posture which is just not having it yeah

1317
00:53:40,440 --> 00:53:46,380
you know you don't you don't check them

1318
00:53:43,500 --> 00:53:47,790
you just ignore one or the other yeah

1319
00:53:46,380 --> 00:53:50,820
like invade invest this point because

1320
00:53:47,790 --> 00:53:54,240
some have it you can't you can't have it

1321
00:53:50,820 --> 00:53:55,560
both places well maybe in this case that

1322
00:53:54,240 --> 00:53:57,450
means like in their most to your case

1323
00:53:55,560 --> 00:53:59,040
right you would have II you I mean it's

1324
00:53:57,450 --> 00:54:00,390
like you would have a key share in the

1325
00:53:59,040 --> 00:54:01,950
outer client hello and you have one of

1326
00:54:00,390 --> 00:54:04,290
the inner client below and there should

1327
00:54:01,950 --> 00:54:10,439
be two unrelated or at least not for

1328
00:54:04,290 --> 00:54:14,880
different purposes right um no no what

1329
00:54:10,440 --> 00:54:16,410
say LPM no I mean they're not I mean

1330
00:54:14,880 --> 00:54:17,640
they I mean they're for different

1331
00:54:16,410 --> 00:54:18,839
purposes in the case of the other key

1332
00:54:17,640 --> 00:54:20,009
share is for the server to use for

1333
00:54:18,840 --> 00:54:21,180
fallback and the inner key sure as a

1334
00:54:20,010 --> 00:54:22,630
certain is that for the server to use

1335
00:54:21,180 --> 00:54:24,910
for completing the handshake or

1336
00:54:22,630 --> 00:54:26,380
yeah yeah so I'm thinking so here's an

1337
00:54:24,910 --> 00:54:28,118
analogy and it might be a bad analogy

1338
00:54:26,380 --> 00:54:30,279
but it's an analogy right so you're

1339
00:54:28,119 --> 00:54:34,809
writing a check I mean maybe some of

1340
00:54:30,279 --> 00:54:36,819
you've never written checks before I

1341
00:54:34,809 --> 00:54:39,160
haven't a check so you write a check

1342
00:54:36,819 --> 00:54:40,960
when you're ready to check you you put

1343
00:54:39,160 --> 00:54:43,890
the numbers of the value of the check

1344
00:54:40,960 --> 00:54:46,749
and then you write out in words the

1345
00:54:43,890 --> 00:54:49,538
values yes as well those things are

1346
00:54:46,749 --> 00:54:52,450
supposed to match right and if they

1347
00:54:49,539 --> 00:54:54,249
don't you have problems right so in this

1348
00:54:52,450 --> 00:54:56,200
case right so in this case they're

1349
00:54:54,249 --> 00:54:59,379
supposed to be independent so they're

1350
00:54:56,200 --> 00:55:00,939
different right yeah well not but they

1351
00:54:59,380 --> 00:55:02,259
but they don't you don't care if it in

1352
00:55:00,940 --> 00:55:04,809
front of the same so you don't care if

1353
00:55:02,259 --> 00:55:06,309
they're the same as in the check if you

1354
00:55:04,809 --> 00:55:11,529
have different values you have the

1355
00:55:06,309 --> 00:55:15,999
problem yes think is different from the

1356
00:55:11,529 --> 00:55:18,309
check yeah all right I this is

1357
00:55:15,999 --> 00:55:20,229
interesting this is it's been a little

1358
00:55:18,309 --> 00:55:21,789
while since I've looked at this please

1359
00:55:20,229 --> 00:55:23,799
do cuz like obviously this is

1360
00:55:21,789 --> 00:55:27,969
extraordinary power gated is there gonna

1361
00:55:23,799 --> 00:55:29,140
be a way to not do this yeah you won't

1362
00:55:27,969 --> 00:55:31,539
have to each other at all

1363
00:55:29,140 --> 00:55:33,489
okay I mean I in fact to be a lot of

1364
00:55:31,539 --> 00:55:36,460
clion it like many people will not do it

1365
00:55:33,489 --> 00:55:38,469
I wish more what more would not do it I

1366
00:55:36,460 --> 00:55:45,249
wish more will do it but I imagine many

1367
00:55:38,469 --> 00:55:48,369
will not you know would say I said well

1368
00:55:45,249 --> 00:55:51,308
let you know oh that's good here I try

1369
00:55:48,369 --> 00:55:58,239
to make products people like Ben

1370
00:55:51,309 --> 00:56:00,219
Schwartz so two free ideas one like CTLs

1371
00:55:58,239 --> 00:56:04,599
you could treat these inside to outside

1372
00:56:00,219 --> 00:56:06,430
references as as reconstructed that

1373
00:56:04,599 --> 00:56:09,819
would that would put them into your

1374
00:56:06,430 --> 00:56:11,319
transcript and put put the imported

1375
00:56:09,819 --> 00:56:12,489
values into the transcript that's what

1376
00:56:11,319 --> 00:56:14,440
supposed to happen I'm sorry for wasn't

1377
00:56:12,489 --> 00:56:17,499
clear oh okay thank you

1378
00:56:14,440 --> 00:56:21,150
and the second is your yes and I bundle

1379
00:56:17,499 --> 00:56:23,049
could actually provide instructions for

1380
00:56:21,150 --> 00:56:28,509
fingerprinting resistance for example

1381
00:56:23,049 --> 00:56:33,549
that's in 20 nursing session Daniel can

1382
00:56:28,509 --> 00:56:35,710
go more so one thought in response to

1383
00:56:33,549 --> 00:56:39,009
Richard Barnes suggestion of

1384
00:56:35,710 --> 00:56:41,770
just having encrypted server hellos in

1385
00:56:39,010 --> 00:56:44,140
response once things are encrypted is it

1386
00:56:41,770 --> 00:56:47,109
that gives a signal to the observer on

1387
00:56:44,140 --> 00:56:49,868
the outside whether or not they hi hello

1388
00:56:47,109 --> 00:56:52,500
it's accepted I'm not sure that we want

1389
00:56:49,869 --> 00:56:54,760
that signal to be visible yeah we want

1390
00:56:52,500 --> 00:56:56,770
there's a comment in the PR but that I

1391
00:56:54,760 --> 00:57:01,300
think because I was going back for for

1392
00:56:56,770 --> 00:57:03,099
the same reason um the so like that that

1393
00:57:01,300 --> 00:57:05,440
doesn't like an obvious drawback um I

1394
00:57:03,099 --> 00:57:06,369
think that the the I think that maybe

1395
00:57:05,440 --> 00:57:08,410
that's right other drawback than

1396
00:57:06,369 --> 00:57:11,530
otherwise was is it the Prime the only

1397
00:57:08,410 --> 00:57:12,848
real the only real and the only real

1398
00:57:11,530 --> 00:57:16,150
reason why the server board acceptable

1399
00:57:12,849 --> 00:57:17,650
versus reject is if the yes and I can

1400
00:57:16,150 --> 00:57:19,059
fake corresponds to a key which it

1401
00:57:17,650 --> 00:57:21,400
recognizes a person is not recognizing

1402
00:57:19,059 --> 00:57:22,720
and you can probe that directly anyway

1403
00:57:21,400 --> 00:57:24,460
you can generate your own perfectly good

1404
00:57:22,720 --> 00:57:25,808
yes and I client hello isn't that same

1405
00:57:24,460 --> 00:57:28,359
key and see if it's accepted reverse is

1406
00:57:25,809 --> 00:57:29,559
rejected so obviously passive and active

1407
00:57:28,359 --> 00:57:30,848
or not the same thing but that's a

1408
00:57:29,559 --> 00:57:35,349
reason why we might care less than

1409
00:57:30,849 --> 00:57:36,160
otherwise would again I I'm going doctor

1410
00:57:35,349 --> 00:57:37,510
for from this too it's like I

1411
00:57:36,160 --> 00:57:39,430
understanding sir

1412
00:57:37,510 --> 00:57:40,990
I just wanted to observe all systems we

1413
00:57:39,430 --> 00:57:43,980
were talking about weird analogies that

1414
00:57:40,990 --> 00:57:46,180
may or may not be appropriate that the

1415
00:57:43,980 --> 00:57:49,900
the work that's going on in lamps right

1416
00:57:46,180 --> 00:57:52,419
now about protected email headers has a

1417
00:57:49,900 --> 00:57:55,930
remarkably similar smell to this yeah

1418
00:57:52,420 --> 00:57:57,069
and if smell is about the right way so

1419
00:57:55,930 --> 00:57:59,919
we got three minutes less than that

1420
00:57:57,069 --> 00:58:03,040
session so please keep it brief quality

1421
00:57:59,920 --> 00:58:05,200
Apple just to the point of if we have

1422
00:58:03,040 --> 00:58:07,869
such a duplicate and checking I'm

1423
00:58:05,200 --> 00:58:09,220
concerned that if we say oh we're gonna

1424
00:58:07,869 --> 00:58:11,230
ignore them but they're probably gonna

1425
00:58:09,220 --> 00:58:12,970
be the same that's not gonna be the case

1426
00:58:11,230 --> 00:58:15,190
like at some point what everyone's doing

1427
00:58:12,970 --> 00:58:16,689
yes and I people will use the fact that

1428
00:58:15,190 --> 00:58:19,270
there are different values to give

1429
00:58:16,690 --> 00:58:21,190
different signaling and so I think if we

1430
00:58:19,270 --> 00:58:23,259
have duplicate values and some outside

1431
00:58:21,190 --> 00:58:25,359
of some inside people will start using

1432
00:58:23,260 --> 00:58:26,500
that joint for things and we need to

1433
00:58:25,359 --> 00:58:28,270
think about the consequences of that

1434
00:58:26,500 --> 00:58:29,410
yeah I mean one thing is we could simply

1435
00:58:28,270 --> 00:58:33,160
require that anything that wasn't

1436
00:58:29,410 --> 00:58:36,069
duplicate being apparently generated the

1437
00:58:33,160 --> 00:58:37,420
only not follow that but oh yeah I came

1438
00:58:36,069 --> 00:58:39,400
up with a really great way of solving

1439
00:58:37,420 --> 00:58:42,849
this problem and then suddenly realized

1440
00:58:39,400 --> 00:58:44,619
that it depends upon an IP a web PKI

1441
00:58:42,849 --> 00:58:48,540
certificate with an IP address in it

1442
00:58:44,619 --> 00:58:48,540
which of course we have banned

1443
00:58:49,569 --> 00:58:56,000
that's not true you can get it you can

1444
00:58:53,839 --> 00:58:59,900
get a PKI certificate with an IP in it

1445
00:58:56,000 --> 00:59:02,299
we have one four one one one one so so

1446
00:58:59,900 --> 00:59:04,309
nix 11 cloth layer I'd like to point so

1447
00:59:02,299 --> 00:59:06,440
if we go back to the two options I'd

1448
00:59:04,309 --> 00:59:09,799
like to to point out that these are not

1449
00:59:06,440 --> 00:59:12,440
necessarily different I think option two

1450
00:59:09,799 --> 00:59:14,660
can be complementary to option one and I

1451
00:59:12,440 --> 00:59:19,309
recommend that we go forward with option

1452
00:59:14,660 --> 00:59:22,490
one and and it went and spend a draft as

1453
00:59:19,309 --> 00:59:25,369
he said do the analysis and uh and this

1454
00:59:22,490 --> 00:59:28,459
will protect against passive observation

1455
00:59:25,369 --> 00:59:31,400
right and option two is something that

1456
00:59:28,460 --> 00:59:33,529
can be implemented as a separate

1457
00:59:31,400 --> 00:59:34,940
extension inside the encrypted client

1458
00:59:33,529 --> 00:59:37,339
hello and I think these are both

1459
00:59:34,940 --> 00:59:38,839
complementary and doing option one

1460
00:59:37,339 --> 00:59:41,029
without option two gets you some of the

1461
00:59:38,839 --> 00:59:43,250
way and two together and together gets

1462
00:59:41,029 --> 00:59:46,029
you I think all the way so I thinking I

1463
00:59:43,250 --> 00:59:50,779
think this is a good direction thank you

1464
00:59:46,029 --> 00:59:54,259
you have 19 seconds okay hopefully this

1465
00:59:50,779 --> 00:59:56,539
will be clear this time with he with the

1466
00:59:54,259 --> 01:00:00,640
injected key you know that the back-end

1467
00:59:56,539 --> 01:00:03,349
server knows the injected key with the

1468
01:00:00,640 --> 01:00:04,970
tunneling you don't know that the

1469
01:00:03,349 --> 01:00:08,269
back-end server knows the key and in

1470
01:00:04,970 --> 01:00:10,220
split mode it doesn't agree so the

1471
01:00:08,269 --> 01:00:13,640
reasoning is simpler because you know

1472
01:00:10,220 --> 01:00:14,660
that the other side knows the key thank

1473
01:00:13,640 --> 01:00:16,129
you

1474
01:00:14,660 --> 01:00:17,629
so the one thing we didn't get to is

1475
01:00:16,130 --> 01:00:18,920
Treader discussion thank you thank you

1476
01:00:17,630 --> 01:00:20,390
for this lively discussion was good we

1477
01:00:18,920 --> 01:00:22,519
bumped the Charter discussion because

1478
01:00:20,390 --> 01:00:23,598
this is way more important we were

1479
01:00:22,519 --> 01:00:26,450
basically when you take the Charter

1480
01:00:23,599 --> 01:00:28,309
discussion the list if we start adopting

1481
01:00:26,450 --> 01:00:30,828
all the drafts that we sent out working

1482
01:00:28,309 --> 01:00:32,589
group adoption calls for today we have

1483
01:00:30,829 --> 01:00:37,009
to recharter so let's consider that

1484
01:00:32,589 --> 01:00:38,808
it'll be a prerequisite so look forward

1485
01:00:37,009 --> 01:00:40,400
to having that lively discussion on the

1486
01:00:38,809 --> 01:00:42,619
list that the chairs have taken a shot

1487
01:00:40,400 --> 01:00:50,000
at the Charter and we look forward to

1488
01:00:42,619 --> 01:00:52,519
your edits thank you alright

1489
01:00:50,000 --> 01:00:53,710
we're even like marching in time good

1490
01:00:52,519 --> 01:00:56,348
job guys

1491
01:00:53,710 --> 01:00:59,440
don't uh don't forget your plugs you

1492
01:00:56,349 --> 01:01:22,109
know yes I'll send you a trap stuff

1493
01:00:59,440 --> 01:01:22,109
because I just wanna like we'll see

