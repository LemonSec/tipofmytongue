1
00:00:00,380 --> 00:00:05,640
good morning I'm excited to be here

2
00:00:03,659 --> 00:00:09,750
I think I'm somewhere in Atlantic

3
00:00:05,640 --> 00:00:11,940
timezone still it's actually very

4
00:00:09,750 --> 00:00:13,980
special for me to be invited here I

5
00:00:11,940 --> 00:00:18,060
wanted to tell you a little bit about

6
00:00:13,980 --> 00:00:21,900
how I got here 20 years ago I started a

7
00:00:18,060 --> 00:00:23,788
Microsoft then security to me was things

8
00:00:21,900 --> 00:00:27,028
like access control cryptography

9
00:00:23,789 --> 00:00:30,240
Kerberos that was what it was about then

10
00:00:27,029 --> 00:00:31,410
we had this thing called blaster slammer

11
00:00:30,240 --> 00:00:34,860
Code Red

12
00:00:31,410 --> 00:00:37,170
nem de you may remember then we learned

13
00:00:34,860 --> 00:00:39,149
security was about vulnerabilities about

14
00:00:37,170 --> 00:00:42,690
threat modeling about secure coding

15
00:00:39,149 --> 00:00:45,329
practices and then every now and then a

16
00:00:42,690 --> 00:00:47,789
company makes a very important hire and

17
00:00:45,329 --> 00:00:50,570
for Microsoft at that time one of those

18
00:00:47,789 --> 00:00:53,070
people was window Schneider and window

19
00:00:50,570 --> 00:00:55,829
introduced Microsoft introduced me to

20
00:00:53,070 --> 00:00:57,989
the security community she brought me

21
00:00:55,829 --> 00:00:59,039
along to ph-neutral how many of you have

22
00:00:57,989 --> 00:01:03,209
heard of ph-neutral

23
00:00:59,039 --> 00:01:05,280
I met FX for the first time I met these

24
00:01:03,210 --> 00:01:07,490
two crazy guys from a group called tool

25
00:01:05,280 --> 00:01:11,549
crypt who told me about past the hash

26
00:01:07,490 --> 00:01:13,350
you see in uragan I met Thome he told me

27
00:01:11,549 --> 00:01:18,330
about this thing called t2 that I should

28
00:01:13,350 --> 00:01:20,520
go there to it and many others and what

29
00:01:18,330 --> 00:01:22,560
they taught me was that security was

30
00:01:20,520 --> 00:01:26,789
really about people and it was about

31
00:01:22,560 --> 00:01:29,759
community and this community was about

32
00:01:26,790 --> 00:01:32,939
teaching people the right mindset about

33
00:01:29,759 --> 00:01:36,000
always learning and always contributing

34
00:01:32,939 --> 00:01:37,229
back and so when told me reached out to

35
00:01:36,000 --> 00:01:39,240
me and said hey I don't know if you

36
00:01:37,229 --> 00:01:41,460
still remember me but we met a long time

37
00:01:39,240 --> 00:01:42,990
ago I totally remembered that

38
00:01:41,460 --> 00:01:44,699
conversation that we had in Berlin I

39
00:01:42,990 --> 00:01:47,339
remembered hearing about t2 and I

40
00:01:44,700 --> 00:01:51,780
remembered all of those different things

41
00:01:47,340 --> 00:01:53,970
and I thought one special thing about t2

42
00:01:51,780 --> 00:01:55,259
I work at when I had my Christoffel

43
00:01:53,970 --> 00:01:56,340
worked with engineers a lot and one

44
00:01:55,259 --> 00:01:59,430
thing you learn when you work with

45
00:01:56,340 --> 00:02:01,770
engineers on security as engineers hate

46
00:01:59,430 --> 00:02:03,420
being told what to do and security

47
00:02:01,770 --> 00:02:05,908
people love to tell people what to do at

48
00:02:03,420 --> 00:02:08,160
Microsoft and and engineers hate being

49
00:02:05,909 --> 00:02:09,899
told what to do so the secret to working

50
00:02:08,160 --> 00:02:10,739
with engineers I found is don't tell

51
00:02:09,899 --> 00:02:13,860
them what to do

52
00:02:10,739 --> 00:02:15,720
I mean you will but don't don't

53
00:02:13,860 --> 00:02:18,690
tell them what to do tell them what the

54
00:02:15,720 --> 00:02:21,840
problem is as fully and completely as

55
00:02:18,690 --> 00:02:24,390
you can and then they will understand

56
00:02:21,840 --> 00:02:26,670
what it is you're trying to defend and

57
00:02:24,390 --> 00:02:30,630
what that means and then they will apply

58
00:02:26,670 --> 00:02:31,829
all of their ideas and all of the kinds

59
00:02:30,630 --> 00:02:33,359
of things in their job that secured

60
00:02:31,830 --> 00:02:35,420
people don't even know about to think

61
00:02:33,360 --> 00:02:38,670
about how to better defend systems and

62
00:02:35,420 --> 00:02:41,070
part of that ethic about being able to

63
00:02:38,670 --> 00:02:43,350
tell people what's going on is a

64
00:02:41,070 --> 00:02:45,660
commitment to technical excellence and

65
00:02:43,350 --> 00:02:47,549
t2 has always had that commitment to

66
00:02:45,660 --> 00:02:48,930
technical excellence where you need to

67
00:02:47,550 --> 00:02:51,000
really truly understand what the

68
00:02:48,930 --> 00:02:52,170
weaknesses are what the vulnerabilities

69
00:02:51,000 --> 00:02:54,630
are for system and that's why I think

70
00:02:52,170 --> 00:02:56,519
conferences like this are very important

71
00:02:54,630 --> 00:02:57,750
today you know conferences they may

72
00:02:56,520 --> 00:02:59,940
start like this but they don't always

73
00:02:57,750 --> 00:03:01,800
end up like this and t2 is always

74
00:02:59,940 --> 00:03:07,290
honored that tradition so I think that's

75
00:03:01,800 --> 00:03:11,820
just very important here and so so with

76
00:03:07,290 --> 00:03:15,600
that I wanted to come here and tell you

77
00:03:11,820 --> 00:03:18,720
a little bit about information security

78
00:03:15,600 --> 00:03:21,180
and I don't know if it's being 20 years

79
00:03:18,720 --> 00:03:23,850
at Microsoft but it's you get to a time

80
00:03:21,180 --> 00:03:24,930
in your career when you think about you

81
00:03:23,850 --> 00:03:27,209
think about what you're doing you think

82
00:03:24,930 --> 00:03:30,120
how can we how can I leave this field

83
00:03:27,209 --> 00:03:31,890
better off than when I joined it and not

84
00:03:30,120 --> 00:03:34,620
that I'm leaving this field anytime soon

85
00:03:31,890 --> 00:03:35,850
but you start thinking about when you're

86
00:03:34,620 --> 00:03:37,709
exposed to this community how do you

87
00:03:35,850 --> 00:03:39,600
make contributions to it and one thing

88
00:03:37,709 --> 00:03:41,610
that I've learned is creating an

89
00:03:39,600 --> 00:03:44,280
environment where others can contribute

90
00:03:41,610 --> 00:03:46,140
a build upon the success of others add

91
00:03:44,280 --> 00:03:48,330
to something to make InfoSec more

92
00:03:46,140 --> 00:03:49,859
approachable that's something that I

93
00:03:48,330 --> 00:03:51,180
care a lot about so today I'm going to

94
00:03:49,860 --> 00:03:53,790
tell you about something I call the

95
00:03:51,180 --> 00:03:55,830
github off' occasion of InfoSec and if

96
00:03:53,790 --> 00:03:58,820
you go I've never heard that word before

97
00:03:55,830 --> 00:04:02,790
that's because I completely made it up

98
00:03:58,820 --> 00:04:05,190
but you will hear about it here so one

99
00:04:02,790 --> 00:04:07,859
stubborn thing about InfoSec is it very

100
00:04:05,190 --> 00:04:10,920
much is an experience driven profession

101
00:04:07,860 --> 00:04:12,540
you have to do it you live and you learn

102
00:04:10,920 --> 00:04:14,700
through incident response

103
00:04:12,540 --> 00:04:17,070
it's those hard lessons it is a school

104
00:04:14,700 --> 00:04:18,209
of hard knocks and it's a kind of thing

105
00:04:17,070 --> 00:04:19,680
that you know you can learn the books

106
00:04:18,209 --> 00:04:21,600
but you actually have to do it and

107
00:04:19,680 --> 00:04:24,030
there's so many people that need that

108
00:04:21,600 --> 00:04:25,830
have things to defend today and I think

109
00:04:24,030 --> 00:04:27,190
how can we speed the journey of these

110
00:04:25,830 --> 00:04:29,020
defenders

111
00:04:27,190 --> 00:04:31,120
I've had the fortunate experience to

112
00:04:29,020 --> 00:04:33,280
work with defenders across lots of

113
00:04:31,120 --> 00:04:36,220
different organizations and one of the

114
00:04:33,280 --> 00:04:37,809
most important things is is just having

115
00:04:36,220 --> 00:04:40,060
the right mindset about what you're

116
00:04:37,810 --> 00:04:41,620
defending so many things go right or

117
00:04:40,060 --> 00:04:43,720
wrong depending if you have the right

118
00:04:41,620 --> 00:04:46,200
mindset and so I've encountered things

119
00:04:43,720 --> 00:04:48,580
over time like you know oftentimes

120
00:04:46,200 --> 00:04:50,140
people new to security know they need to

121
00:04:48,580 --> 00:04:52,240
protect stuff they need to protect

122
00:04:50,140 --> 00:04:53,620
things in a network and they identify

123
00:04:52,240 --> 00:04:56,530
what the most important things in that

124
00:04:53,620 --> 00:04:58,300
network are to protect the database

125
00:04:56,530 --> 00:05:00,010
server is the domain controllers and

126
00:04:58,300 --> 00:05:01,900
they start with these lists of lists of

127
00:05:00,010 --> 00:05:04,150
things to protect and they quickly

128
00:05:01,900 --> 00:05:05,950
realize or attackers realize they have

129
00:05:04,150 --> 00:05:07,450
really a graph on their network a graph

130
00:05:05,950 --> 00:05:10,150
of dependencies and control

131
00:05:07,450 --> 00:05:11,890
relationships and hackers understand

132
00:05:10,150 --> 00:05:13,390
this very well that those servers that

133
00:05:11,890 --> 00:05:15,490
are important to have workstations their

134
00:05:13,390 --> 00:05:18,039
admin from which have admins and those

135
00:05:15,490 --> 00:05:19,720
admins log on to other systems those

136
00:05:18,040 --> 00:05:22,170
systems have yet other admins and you

137
00:05:19,720 --> 00:05:25,210
end up with this graph and attackers

138
00:05:22,170 --> 00:05:27,460
understand that deeply penetrate the

139
00:05:25,210 --> 00:05:31,120
graph somewhere and then navigate by

140
00:05:27,460 --> 00:05:33,880
pivoting around and if you do incidents

141
00:05:31,120 --> 00:05:35,470
enough you go from this mindset of you

142
00:05:33,880 --> 00:05:37,300
don't just have incidents that you're

143
00:05:35,470 --> 00:05:39,760
responding to you have adversaries and

144
00:05:37,300 --> 00:05:40,840
your organization has relationships with

145
00:05:39,760 --> 00:05:43,420
these adversaries where they have a

146
00:05:40,840 --> 00:05:46,299
durable interest and what it is your

147
00:05:43,420 --> 00:05:48,100
organization does and if you go from

148
00:05:46,300 --> 00:05:50,800
that mindset of incident to adversary

149
00:05:48,100 --> 00:05:52,270
what you find is you start realizing

150
00:05:50,800 --> 00:05:54,700
there's other people that face these

151
00:05:52,270 --> 00:05:57,159
adversaries as well you can get to know

152
00:05:54,700 --> 00:05:59,229
them learn about their experiences and

153
00:05:57,160 --> 00:06:01,990
it requires you to build relationships

154
00:05:59,230 --> 00:06:03,190
of trust where instead of keeping

155
00:06:01,990 --> 00:06:05,200
everything that happens to your

156
00:06:03,190 --> 00:06:07,180
organization's secret for fear that it

157
00:06:05,200 --> 00:06:08,860
will get out you find trusted people in

158
00:06:07,180 --> 00:06:10,330
industry you can talk to talk to about

159
00:06:08,860 --> 00:06:12,160
similar incidents with similar

160
00:06:10,330 --> 00:06:13,690
adversaries and then you can learn when

161
00:06:12,160 --> 00:06:15,580
the adversary is not attacking you when

162
00:06:13,690 --> 00:06:19,450
they're attacking other people and so on

163
00:06:15,580 --> 00:06:21,250
so these are the kind of mindset things

164
00:06:19,450 --> 00:06:22,870
that I find that people that go through

165
00:06:21,250 --> 00:06:25,990
the school of hard knocks and security

166
00:06:22,870 --> 00:06:29,710
adopt over time things that I've learned

167
00:06:25,990 --> 00:06:31,630
over time myself and so I'm always

168
00:06:29,710 --> 00:06:34,479
trying to think about how can we speed

169
00:06:31,630 --> 00:06:36,969
defenders along this journey of security

170
00:06:34,480 --> 00:06:39,980
and get them practicing more effectively

171
00:06:36,970 --> 00:06:41,960
sooner and so

172
00:06:39,980 --> 00:06:44,120
so this presentation is really all about

173
00:06:41,960 --> 00:06:48,020
how we increase the rate of learning in

174
00:06:44,120 --> 00:06:49,850
InfoSec and there's this African proverb

175
00:06:48,020 --> 00:06:51,710
which I quite liked for this talk which

176
00:06:49,850 --> 00:06:53,570
is if you want to go fast go alone and

177
00:06:51,710 --> 00:06:56,000
sometimes it is important to go fast but

178
00:06:53,570 --> 00:06:57,469
if you want to go far go together and I

179
00:06:56,000 --> 00:07:00,410
think this you'll see here through this

180
00:06:57,470 --> 00:07:04,640
how people working together can really

181
00:07:00,410 --> 00:07:05,990
achieve quite a bit so there's four

182
00:07:04,640 --> 00:07:09,070
different things I'm going to talk about

183
00:07:05,990 --> 00:07:12,470
today one is organizing knowledge and

184
00:07:09,070 --> 00:07:14,690
then making knowledge executable so not

185
00:07:12,470 --> 00:07:16,640
just not just things up here but how do

186
00:07:14,690 --> 00:07:19,340
you translate that to a place where you

187
00:07:16,640 --> 00:07:20,780
can actually practice it and then once

188
00:07:19,340 --> 00:07:22,609
you have things that are executable a

189
00:07:20,780 --> 00:07:25,369
big part of information security is

190
00:07:22,610 --> 00:07:28,130
analysis looking at data trying to

191
00:07:25,370 --> 00:07:32,330
discover what is going on oftentimes

192
00:07:28,130 --> 00:07:34,280
finding attacks is is seems like an

193
00:07:32,330 --> 00:07:35,630
impossible task when you find one it's

194
00:07:34,280 --> 00:07:37,460
very difficult to understand what

195
00:07:35,630 --> 00:07:39,110
happened and how do you make analysis

196
00:07:37,460 --> 00:07:41,090
easier and then how do you make it

197
00:07:39,110 --> 00:07:44,000
easier crucially for others to repeat

198
00:07:41,090 --> 00:07:45,650
what you've done a lot of analysis is I

199
00:07:44,000 --> 00:07:47,120
stand a lot of time at the keyboard I do

200
00:07:45,650 --> 00:07:48,890
a bunch of stuff and then this is what I

201
00:07:47,120 --> 00:07:50,990
got and how does how does somebody else

202
00:07:48,890 --> 00:07:52,370
repeat what you did I'll show you some

203
00:07:50,990 --> 00:07:56,360
things that are out there to help that

204
00:07:52,370 --> 00:07:58,160
and then of course community so I'll

205
00:07:56,360 --> 00:08:03,530
start with organize or organizing

206
00:07:58,160 --> 00:08:05,360
knowledge so this is the mitre attack

207
00:08:03,530 --> 00:08:06,679
framework um how many people have seen

208
00:08:05,360 --> 00:08:08,780
the mitre attack framework it's just

209
00:08:06,680 --> 00:08:11,390
it's one of I think the most important

210
00:08:08,780 --> 00:08:13,549
contributions to InfoSec over the last

211
00:08:11,390 --> 00:08:15,710
15 years probably as important as the

212
00:08:13,550 --> 00:08:17,780
concept of the kill chain was it's

213
00:08:15,710 --> 00:08:20,979
certainly a spread like wildfire among

214
00:08:17,780 --> 00:08:23,479
IT practice security practitioners

215
00:08:20,980 --> 00:08:25,130
security companies have embraced it you

216
00:08:23,480 --> 00:08:28,070
know they mark up every detection that

217
00:08:25,130 --> 00:08:31,640
is in their product with how it maps to

218
00:08:28,070 --> 00:08:34,010
the mitre attack matrix these elements

219
00:08:31,640 --> 00:08:36,169
in the matrix this is an example this is

220
00:08:34,010 --> 00:08:38,979
one of my favorite kinds of attack

221
00:08:36,169 --> 00:08:41,539
techniques that's in there this is

222
00:08:38,979 --> 00:08:43,280
called abusing accessibility features

223
00:08:41,539 --> 00:08:45,800
there's a stat there's this attack in

224
00:08:43,280 --> 00:08:47,300
Windows called the stickykeys attack you

225
00:08:45,800 --> 00:08:48,140
know I'm seeing some nodding heads if

226
00:08:47,300 --> 00:08:50,449
you don't know what the stickykeys

227
00:08:48,140 --> 00:08:52,970
attack is it's a way to put a back door

228
00:08:50,450 --> 00:08:53,550
onto a window system it doesn't require

229
00:08:52,970 --> 00:08:55,440
any

230
00:08:53,550 --> 00:08:57,420
food that if you have admin access to a

231
00:08:55,440 --> 00:08:59,190
system but you know you might lose it

232
00:08:57,420 --> 00:09:02,189
and you want to backdoor it you set a

233
00:08:59,190 --> 00:09:03,540
single registry key and then without

234
00:09:02,190 --> 00:09:05,279
putting any additional binaries or

235
00:09:03,540 --> 00:09:07,019
whatnot on the system if you lose access

236
00:09:05,279 --> 00:09:09,839
you can always get admin access again

237
00:09:07,019 --> 00:09:10,980
and the way that that works is if you've

238
00:09:09,839 --> 00:09:12,690
ever been in Windows and you hit the

239
00:09:10,980 --> 00:09:15,060
shift key accidentally five times you

240
00:09:12,690 --> 00:09:17,459
get this sticky keys dialog that pops up

241
00:09:15,060 --> 00:09:19,589
and it's an accessibility feature of

242
00:09:17,459 --> 00:09:20,849
Windows well if you do the sticky keys

243
00:09:19,589 --> 00:09:22,680
attack instead of getting the

244
00:09:20,850 --> 00:09:24,839
accessibility dialog you get a command

245
00:09:22,680 --> 00:09:27,779
prompt as local system on the windows

246
00:09:24,839 --> 00:09:30,180
logon desktop which is pretty handy so

247
00:09:27,779 --> 00:09:33,420
it has the matrix has techniques like

248
00:09:30,180 --> 00:09:35,670
this in there they are contributed you

249
00:09:33,420 --> 00:09:37,829
can see here from people all over and

250
00:09:35,670 --> 00:09:39,569
they add to this body of techniques and

251
00:09:37,829 --> 00:09:41,189
so if you're a new defender and you want

252
00:09:39,570 --> 00:09:42,240
to learn what are the latest things what

253
00:09:41,190 --> 00:09:44,370
are the things I need to learn about

254
00:09:42,240 --> 00:09:46,230
this is really a great encapsulation of

255
00:09:44,370 --> 00:09:47,880
them the folks that might or put a lot

256
00:09:46,230 --> 00:09:49,350
of effort to making sure that there's

257
00:09:47,880 --> 00:09:51,839
documentation these things aren't just

258
00:09:49,350 --> 00:09:54,570
theoretical there are validated vetted

259
00:09:51,839 --> 00:09:55,950
as being real in the wild and this is

260
00:09:54,570 --> 00:09:58,290
their a tool they produce call the

261
00:09:55,950 --> 00:10:01,529
attack navigator and it has these

262
00:09:58,290 --> 00:10:03,480
features like you can go select a threat

263
00:10:01,529 --> 00:10:05,910
group that is of interest to your

264
00:10:03,480 --> 00:10:07,560
organization and when you select it it

265
00:10:05,910 --> 00:10:10,110
tells you the set of techniques that

266
00:10:07,560 --> 00:10:11,910
that threat actor is known to use and as

267
00:10:10,110 --> 00:10:14,339
a defender this can be very helpful to

268
00:10:11,910 --> 00:10:16,199
prioritize I mean there's a lot of

269
00:10:14,339 --> 00:10:18,600
things on here and it's impossible to be

270
00:10:16,200 --> 00:10:20,490
fully effective on all of them but the

271
00:10:18,600 --> 00:10:22,860
reality is organizations face specific

272
00:10:20,490 --> 00:10:25,170
threats and if you can pick the threat

273
00:10:22,860 --> 00:10:27,270
groups that are of relevance to an

274
00:10:25,170 --> 00:10:28,860
organization you can really start to see

275
00:10:27,270 --> 00:10:30,029
this sort of the intersection of where

276
00:10:28,860 --> 00:10:32,040
you need to focus

277
00:10:30,029 --> 00:10:33,990
make sure your detective controls can't

278
00:10:32,040 --> 00:10:35,880
see those things find out the gaps and

279
00:10:33,990 --> 00:10:40,260
strengths and weaknesses and so forth

280
00:10:35,880 --> 00:10:42,449
and so you know the the thing elements

281
00:10:40,260 --> 00:10:44,790
in this these threat groups were defined

282
00:10:42,449 --> 00:10:47,609
by mitre but how great would it be for

283
00:10:44,790 --> 00:10:49,140
all of the groups and industry producing

284
00:10:47,610 --> 00:10:50,610
threat intelligence that they would

285
00:10:49,140 --> 00:10:52,050
contribute their own mitre attack

286
00:10:50,610 --> 00:10:53,579
definitions for the threat groups they

287
00:10:52,050 --> 00:10:58,589
track whether your fire I or CrowdStrike

288
00:10:53,579 --> 00:11:00,930
or Microsoft or others at Microsoft we

289
00:10:58,589 --> 00:11:03,000
track threat groups as well if

290
00:11:00,930 --> 00:11:05,459
CrowdStrike calls it fancy bear and fire

291
00:11:03,000 --> 00:11:07,160
I calls it apt 28 we call it strontium

292
00:11:05,459 --> 00:11:09,800
we assign elements from the periodic

293
00:11:07,160 --> 00:11:13,819
table as we track these thread actor

294
00:11:09,800 --> 00:11:17,089
groups and if while it was it's gonna be

295
00:11:13,819 --> 00:11:18,649
him while everybody wants the threat

296
00:11:17,089 --> 00:11:20,930
Intel shops to come together and just

297
00:11:18,649 --> 00:11:23,540
have one name please for a threat group

298
00:11:20,930 --> 00:11:25,069
the reality is probably not ever gonna

299
00:11:23,540 --> 00:11:29,180
happen even though they have their set

300
00:11:25,069 --> 00:11:31,310
of aks for them it's because you know

301
00:11:29,180 --> 00:11:32,899
every group tracks them slightly

302
00:11:31,310 --> 00:11:34,579
differently some of a malware based

303
00:11:32,899 --> 00:11:36,800
approach some use other techniques and

304
00:11:34,579 --> 00:11:39,250
so forth but how it would still be very

305
00:11:36,800 --> 00:11:41,269
useful for defenders to be able to take

306
00:11:39,250 --> 00:11:43,040
the threat group says they're tracked

307
00:11:41,269 --> 00:11:45,199
and then maps and back to them The MITRE

308
00:11:43,040 --> 00:11:48,079
matrix so they know what kind of TTP's

309
00:11:45,199 --> 00:11:50,420
those actors are are known to utilize

310
00:11:48,079 --> 00:11:51,949
and so I think this kind of thing is an

311
00:11:50,420 --> 00:11:56,839
important thing that all people in

312
00:11:51,949 --> 00:11:58,219
industry can do so so if this mitre

313
00:11:56,839 --> 00:12:01,129
matrix if you're familiar with it is

314
00:11:58,220 --> 00:12:02,899
very on Prem Network focused it's very

315
00:12:01,129 --> 00:12:05,000
much you get into a Windows or Linux

316
00:12:02,899 --> 00:12:07,699
Network you hack around lateral movement

317
00:12:05,000 --> 00:12:10,519
persistence etc what about cloud how

318
00:12:07,699 --> 00:12:12,079
well does this work for cloud and do we

319
00:12:10,519 --> 00:12:14,959
need something completely different or

320
00:12:12,079 --> 00:12:17,388
can we build upon this I think it'd be

321
00:12:14,959 --> 00:12:19,489
very important to one extend knowledge

322
00:12:17,389 --> 00:12:22,930
of this to cloud environments because so

323
00:12:19,490 --> 00:12:25,670
many organizations are using SAS or

324
00:12:22,930 --> 00:12:27,319
infrastructure as a service and if we

325
00:12:25,670 --> 00:12:29,540
can build upon what has been done here

326
00:12:27,319 --> 00:12:30,889
we can contribute to a knowledge system

327
00:12:29,540 --> 00:12:33,410
that people already know and understand

328
00:12:30,889 --> 00:12:35,269
if you look at attacks in cloud I'll

329
00:12:33,410 --> 00:12:37,850
tell you a little bit about what I've

330
00:12:35,269 --> 00:12:39,319
seen at Microsoft so one of our services

331
00:12:37,850 --> 00:12:41,720
is Office 365

332
00:12:39,319 --> 00:12:43,069
over the last two years the number of

333
00:12:41,720 --> 00:12:46,250
techniques that are being published

334
00:12:43,069 --> 00:12:49,219
every month by security researchers a

335
00:12:46,250 --> 00:12:51,079
threat groups has just grown very

336
00:12:49,220 --> 00:12:53,089
significantly as people have moved to

337
00:12:51,079 --> 00:12:56,089
the cloud every month there's a new talk

338
00:12:53,089 --> 00:12:57,500
a new tool that's published a new attack

339
00:12:56,089 --> 00:13:00,139
found in the wild and we certainly do

340
00:12:57,500 --> 00:13:03,800
see attacks in the wild against office

341
00:13:00,139 --> 00:13:06,019
customers this is some tweets by someone

342
00:13:03,800 --> 00:13:09,709
that works at mandiant saying that a

343
00:13:06,019 --> 00:13:12,980
threat group called apt 29 we call them

344
00:13:09,709 --> 00:13:14,959
yttrium using powershell api's to talk

345
00:13:12,980 --> 00:13:18,880
through exchange exchange web services

346
00:13:14,959 --> 00:13:21,050
to access mailboxes to get email content

347
00:13:18,880 --> 00:13:22,880
our own incident response team

348
00:13:21,050 --> 00:13:24,229
Microsoft again documenting similar

349
00:13:22,880 --> 00:13:26,839
attacks against customers that have

350
00:13:24,230 --> 00:13:28,760
moved to the cloud and I'll show you

351
00:13:26,839 --> 00:13:30,740
examples of some of the kinds of attacks

352
00:13:28,760 --> 00:13:34,189
that we've seen this is a threat group

353
00:13:30,740 --> 00:13:37,550
thallium they are linked to North Korea

354
00:13:34,190 --> 00:13:41,320
and the United Nations had moved to

355
00:13:37,550 --> 00:13:43,640
office 365 and this threat group

356
00:13:41,320 --> 00:13:46,670
thallium was interested in what a

357
00:13:43,640 --> 00:13:49,370
committee at the UN was working on which

358
00:13:46,670 --> 00:13:51,410
is a report on how North Korea was

359
00:13:49,370 --> 00:13:53,690
evading sanctions how they were

360
00:13:51,410 --> 00:13:55,310
smuggling and this North Korean hacker

361
00:13:53,690 --> 00:13:58,480
unit wanted to know what was going to be

362
00:13:55,310 --> 00:14:00,199
in that report and so they targeted the

363
00:13:58,480 --> 00:14:01,850
mailboxes of the people that were

364
00:14:00,200 --> 00:14:05,420
working on it and went after them and

365
00:14:01,850 --> 00:14:11,380
they were on office 365 so we identified

366
00:14:05,420 --> 00:14:14,630
this attack and notified them about it

367
00:14:11,380 --> 00:14:19,220
another attack that we've seen thallium

368
00:14:14,630 --> 00:14:20,899
do is they were spearfishing using a PDF

369
00:14:19,220 --> 00:14:22,820
that had this sort of gobbledygook

370
00:14:20,899 --> 00:14:25,220
language in it it's not meant for you to

371
00:14:22,820 --> 00:14:26,810
be able to read it and the lore is to

372
00:14:25,220 --> 00:14:28,370
read it you need to install their

373
00:14:26,810 --> 00:14:32,359
malware but their malware interestingly

374
00:14:28,370 --> 00:14:36,020
enough was not win32 binaries or

375
00:14:32,360 --> 00:14:38,600
anything like that it was they sent you

376
00:14:36,020 --> 00:14:41,600
to the Google Play Store to install an

377
00:14:38,600 --> 00:14:44,899
add-in for Chrome and that add-in for

378
00:14:41,600 --> 00:14:46,610
Chrome was their malware and what it did

379
00:14:44,899 --> 00:14:48,589
is once it's in the browser it can

380
00:14:46,610 --> 00:14:50,300
monitor every login that you did and any

381
00:14:48,589 --> 00:14:52,250
login that you did to google.com and

382
00:14:50,300 --> 00:14:54,349
even major mail providers they would

383
00:14:52,250 --> 00:14:58,010
siphon off your credentials and then

384
00:14:54,350 --> 00:14:59,420
exfiltrated and of course to make it

385
00:14:58,010 --> 00:15:02,149
even more convincing they put fake

386
00:14:59,420 --> 00:15:09,380
reviews onto their malicious app five

387
00:15:02,149 --> 00:15:13,160
stars five stars another technique that

388
00:15:09,380 --> 00:15:14,630
we see very very often against cloud

389
00:15:13,160 --> 00:15:17,060
customers is a technique called password

390
00:15:14,630 --> 00:15:19,130
spray so pass for a password spray is

391
00:15:17,060 --> 00:15:22,130
just sort of intelligent guessing of

392
00:15:19,130 --> 00:15:24,800
passwords and things like two factor

393
00:15:22,130 --> 00:15:27,290
auth defeat this but many customers you

394
00:15:24,800 --> 00:15:29,689
know the adoption rates of multi-factor

395
00:15:27,290 --> 00:15:31,670
authentication are very low even for

396
00:15:29,690 --> 00:15:35,149
enterprise customers

397
00:15:31,670 --> 00:15:37,449
and this toolkit has ways to do it

398
00:15:35,149 --> 00:15:41,060
against different endpoints they have

399
00:15:37,450 --> 00:15:43,730
custom name lists and likely passwords

400
00:15:41,060 --> 00:15:46,010
for different languages and there's kind

401
00:15:43,730 --> 00:15:47,300
of an inside joke among pen testers and

402
00:15:46,010 --> 00:15:48,800
red teams everywhere which is if you

403
00:15:47,300 --> 00:15:51,079
want to know the secret to getting into

404
00:15:48,800 --> 00:15:52,579
any organization anywhere I'll tell you

405
00:15:51,079 --> 00:15:57,050
it's one word this is the only word you

406
00:15:52,579 --> 00:15:59,839
need to know and it's fall 2019 and the

407
00:15:57,050 --> 00:16:02,569
idea behind that anybody need to change

408
00:15:59,839 --> 00:16:03,860
their passwords so the idea behind is of

409
00:16:02,570 --> 00:16:05,360
course is you have if you have to change

410
00:16:03,860 --> 00:16:07,370
your password every 90 days which many

411
00:16:05,360 --> 00:16:08,570
enterprise password policies do people

412
00:16:07,370 --> 00:16:11,360
are gonna forget so they pick these

413
00:16:08,570 --> 00:16:14,209
patterns summer 2019 you know winter

414
00:16:11,360 --> 00:16:15,890
2020 etc and so you'll always find

415
00:16:14,209 --> 00:16:17,569
somebody in a large enough organization

416
00:16:15,890 --> 00:16:19,189
that has one of these kinds of passwords

417
00:16:17,570 --> 00:16:20,630
and you know through all of the

418
00:16:19,190 --> 00:16:22,850
different breaches over the years they

419
00:16:20,630 --> 00:16:24,230
have excellent prioritized lists of

420
00:16:22,850 --> 00:16:25,940
passwords to try and that's the idea

421
00:16:24,230 --> 00:16:28,670
behind password spray and we see this in

422
00:16:25,940 --> 00:16:31,310
high volumes every single day against

423
00:16:28,670 --> 00:16:33,380
tenants and and not just you know one IP

424
00:16:31,310 --> 00:16:35,989
trying zillions of different accounts

425
00:16:33,380 --> 00:16:37,939
but you know sprinkling them over trying

426
00:16:35,990 --> 00:16:39,230
a couple of accounts with a couple of

427
00:16:37,940 --> 00:16:42,010
passwords across lots of different

428
00:16:39,230 --> 00:16:44,750
tenants all day every day

429
00:16:42,010 --> 00:16:47,839
another toolkit is called mail sniper

430
00:16:44,750 --> 00:16:51,380
this is using legitimate API is used to

431
00:16:47,839 --> 00:16:53,930
administer your exchange tenant inside

432
00:16:51,380 --> 00:16:56,810
of office 365 and these tools are there

433
00:16:53,930 --> 00:16:59,060
to help pen testers and apt groups gain

434
00:16:56,810 --> 00:17:03,619
access to that and automate from within

435
00:16:59,060 --> 00:17:05,869
there and then as even with adoption of

436
00:17:03,620 --> 00:17:07,400
two-factor authentication attackers are

437
00:17:05,869 --> 00:17:09,349
working on different techniques to get

438
00:17:07,400 --> 00:17:10,640
past two-factor authentication and one

439
00:17:09,349 --> 00:17:14,359
of the kinds of things that we've seen

440
00:17:10,640 --> 00:17:16,669
against office and this is I think it's

441
00:17:14,359 --> 00:17:19,339
been seen against other sites including

442
00:17:16,669 --> 00:17:21,500
Google and whatnot and the idea is here

443
00:17:19,339 --> 00:17:23,780
is using OAuth based fishing how many of

444
00:17:21,500 --> 00:17:26,109
you've heard about OAuth base fishing

445
00:17:23,780 --> 00:17:28,160
it's particularly clever in that

446
00:17:26,109 --> 00:17:29,449
normally for fishing they send you an

447
00:17:28,160 --> 00:17:31,190
e-mail you click the link and you type

448
00:17:29,450 --> 00:17:33,410
in your credentials into a fake site

449
00:17:31,190 --> 00:17:36,559
that doesn't happen here they send you a

450
00:17:33,410 --> 00:17:39,260
link and what they've done is they've

451
00:17:36,559 --> 00:17:40,070
registered an application and that

452
00:17:39,260 --> 00:17:42,440
application

453
00:17:40,070 --> 00:17:44,600
they say requires permissions the

454
00:17:42,440 --> 00:17:45,440
permissions it requires are access to

455
00:17:44,600 --> 00:17:48,500
your mailbox

456
00:17:45,440 --> 00:17:50,720
and offline access to your mailbox which

457
00:17:48,500 --> 00:17:52,640
allows them to download your email they

458
00:17:50,720 --> 00:17:54,440
send a link in the email they're trying

459
00:17:52,640 --> 00:17:57,290
to lure you with the link looks like

460
00:17:54,440 --> 00:17:59,660
this so it goes to microsoft's site not

461
00:17:57,290 --> 00:18:02,540
a bad guy site not a look-alike site

462
00:17:59,660 --> 00:18:04,580
Microsoft site the user gets prompted

463
00:18:02,540 --> 00:18:07,040
with this consent this OAuth consent

464
00:18:04,580 --> 00:18:10,790
dialog and if you trick the user to

465
00:18:07,040 --> 00:18:13,370
consent to it then they get programmatic

466
00:18:10,790 --> 00:18:15,110
access to your mailbox they don't need

467
00:18:13,370 --> 00:18:15,919
your password as a matter of fact it

468
00:18:15,110 --> 00:18:18,020
doesn't matter if you're using

469
00:18:15,920 --> 00:18:19,430
two-factor it doesn't matter if you

470
00:18:18,020 --> 00:18:20,810
reset your password after this you've

471
00:18:19,430 --> 00:18:23,030
granted them through this application

472
00:18:20,810 --> 00:18:26,540
programmatic access to your mailbox

473
00:18:23,030 --> 00:18:30,500
so a way that attackers are evolving

474
00:18:26,540 --> 00:18:32,000
against the cloud and then evil jinx is

475
00:18:30,500 --> 00:18:34,460
another tool that they're using to

476
00:18:32,000 --> 00:18:36,050
bypass two-factor the idea this is a

477
00:18:34,460 --> 00:18:38,750
traditional man-in-the-middle tool but

478
00:18:36,050 --> 00:18:40,820
you you convince the user to visit a

479
00:18:38,750 --> 00:18:42,710
link that's not the real site you might

480
00:18:40,820 --> 00:18:45,350
get a cheap SSL cert through let's

481
00:18:42,710 --> 00:18:47,780
encrypt or whatnot for it and what the

482
00:18:45,350 --> 00:18:49,159
bad guy is doing is is basically routing

483
00:18:47,780 --> 00:18:52,639
all your traffic in the backend to

484
00:18:49,160 --> 00:18:55,610
really go to office 365 and Azure ad you

485
00:18:52,640 --> 00:18:57,560
do the login maybe you you get a code on

486
00:18:55,610 --> 00:19:00,139
your phone that you or an Authenticator

487
00:18:57,560 --> 00:19:01,700
requests and you approve that at the

488
00:19:00,140 --> 00:19:03,980
reality at the end of the authentication

489
00:19:01,700 --> 00:19:05,480
what happens is this the authentication

490
00:19:03,980 --> 00:19:07,850
service gives you back a cookie in your

491
00:19:05,480 --> 00:19:09,980
browser that proves you authenticated

492
00:19:07,850 --> 00:19:11,719
properly and that's the cookie that

493
00:19:09,980 --> 00:19:13,460
they're trying to intercept so then once

494
00:19:11,720 --> 00:19:19,190
they have that they can impersonate you

495
00:19:13,460 --> 00:19:22,280
on another device anywhere and then this

496
00:19:19,190 --> 00:19:24,350
is another technique that we've seen you

497
00:19:22,280 --> 00:19:27,080
know if you're hacked into an on-prem

498
00:19:24,350 --> 00:19:32,000
network you can get at somebody's email

499
00:19:27,080 --> 00:19:33,710
on their PC exfiltrate it if if you want

500
00:19:32,000 --> 00:19:36,020
to get access to somebody's email that's

501
00:19:33,710 --> 00:19:37,700
in the cloud and not just their current

502
00:19:36,020 --> 00:19:39,590
mailbox but get access to any future

503
00:19:37,700 --> 00:19:41,120
mail that they get one of the most

504
00:19:39,590 --> 00:19:42,980
common techniques is to install a

505
00:19:41,120 --> 00:19:46,219
forwarding rule into that mailbox and

506
00:19:42,980 --> 00:19:48,650
you some of them are as blatant as mail

507
00:19:46,220 --> 00:19:50,360
sent from anybody forwarded along to

508
00:19:48,650 --> 00:19:51,710
this other email account which is their

509
00:19:50,360 --> 00:19:53,090
drop account where they receive all

510
00:19:51,710 --> 00:19:54,620
these emails or they can be more

511
00:19:53,090 --> 00:19:56,540
selective with keywords from these

512
00:19:54,620 --> 00:19:58,550
senders with a subject line that

513
00:19:56,540 --> 00:19:59,240
contains you know payment or invoice or

514
00:19:58,550 --> 00:20:02,658
those kinds of

515
00:19:59,240 --> 00:20:04,429
so these forwarding rules are stored

516
00:20:02,659 --> 00:20:06,049
inside the cloud service and people need

517
00:20:04,429 --> 00:20:09,320
tools in order to discover and

518
00:20:06,049 --> 00:20:11,600
understand these things and so and we

519
00:20:09,320 --> 00:20:13,039
see these use in attacks and so if you

520
00:20:11,600 --> 00:20:16,730
wanted to know what a kill chain looked

521
00:20:13,039 --> 00:20:19,340
like for cloud for office 365 forceps

522
00:20:16,730 --> 00:20:21,140
this is one that I put together that

523
00:20:19,340 --> 00:20:24,980
map's all these different techniques

524
00:20:21,140 --> 00:20:27,590
against the kill chain and all of these

525
00:20:24,980 --> 00:20:29,240
links here are links to public publicly

526
00:20:27,590 --> 00:20:30,799
available tools and techniques and this

527
00:20:29,240 --> 00:20:33,110
is the kind of knowledge that I think is

528
00:20:30,799 --> 00:20:35,408
important for defenders to start to have

529
00:20:33,110 --> 00:20:38,658
if they are going to be able to defend

530
00:20:35,409 --> 00:20:43,429
SAS a pin cloud against these kinds of

531
00:20:38,659 --> 00:20:46,370
attacks and you know I kind of thought

532
00:20:43,429 --> 00:20:49,220
how useful would it be to take things

533
00:20:46,370 --> 00:20:51,918
like this develop this further document

534
00:20:49,220 --> 00:20:54,289
it go back to the mitre attack matrix I

535
00:20:51,919 --> 00:20:58,630
showed you there add and extend that

536
00:20:54,289 --> 00:21:01,580
matrix for attacks against cloud and so

537
00:20:58,630 --> 00:21:04,460
of course me I tweeted about it as

538
00:21:01,580 --> 00:21:07,100
people if they'd be interested in it and

539
00:21:04,460 --> 00:21:09,169
then Swift on security retweeted it and

540
00:21:07,100 --> 00:21:11,750
then there was just a ton of different

541
00:21:09,169 --> 00:21:15,860
interests everybody a lot of different

542
00:21:11,750 --> 00:21:20,029
interest in doing this and one of the

543
00:21:15,860 --> 00:21:23,600
techniques I learned about motivating

544
00:21:20,029 --> 00:21:25,159
people is I thought you know I really

545
00:21:23,600 --> 00:21:27,139
think we need to have the office team at

546
00:21:25,159 --> 00:21:29,919
Microsoft on board in order to help

547
00:21:27,140 --> 00:21:32,270
identify document these things and so I

548
00:21:29,919 --> 00:21:35,179
secretly tagged the corporate vice

549
00:21:32,270 --> 00:21:37,429
president and office 365 responsible for

550
00:21:35,179 --> 00:21:40,159
security there and so every notification

551
00:21:37,429 --> 00:21:42,470
that came in by every like and every

552
00:21:40,159 --> 00:21:48,020
retweet his phone in every meeting was

553
00:21:42,470 --> 00:21:50,390
like so it's my new technique for any

554
00:21:48,020 --> 00:21:52,460
time I think something that say hey this

555
00:21:50,390 --> 00:21:54,679
is a good idea just tag the right owner

556
00:21:52,460 --> 00:21:58,460
in it and just see see what happens

557
00:21:54,679 --> 00:22:01,909
so so give it a try

558
00:21:58,460 --> 00:22:03,440
and then what I think about the

559
00:22:01,909 --> 00:22:05,120
community is they started saying hey

560
00:22:03,440 --> 00:22:06,679
your matrix is nice but you missed this

561
00:22:05,120 --> 00:22:08,899
technique you missed that technique a

562
00:22:06,679 --> 00:22:10,730
buddy of mine develop so then people are

563
00:22:08,899 --> 00:22:12,590
doing my job for me this is great so I

564
00:22:10,730 --> 00:22:14,600
just like great documented added

565
00:22:12,590 --> 00:22:16,100
to the matrix and so on so it made it

566
00:22:14,600 --> 00:22:17,809
helpful and easy to discover the

567
00:22:16,100 --> 00:22:20,209
different attacks that that people had

568
00:22:17,809 --> 00:22:22,370
done so that's a little bit about

569
00:22:20,210 --> 00:22:24,649
organizing knowledge and trying to make

570
00:22:22,370 --> 00:22:25,879
it simpler for people entering the field

571
00:22:24,649 --> 00:22:28,129
to have places to go

572
00:22:25,879 --> 00:22:31,009
where knowledge about attacks is

573
00:22:28,129 --> 00:22:32,779
consolidated well represented in ways

574
00:22:31,009 --> 00:22:34,340
that vendors and security practitioners

575
00:22:32,779 --> 00:22:37,759
know how to go find it discover it

576
00:22:34,340 --> 00:22:39,860
contribute to it and add to it so

577
00:22:37,759 --> 00:22:41,450
knowledge is great but it would be great

578
00:22:39,860 --> 00:22:43,428
if knowledge was actually more

579
00:22:41,450 --> 00:22:46,249
executable there's a lot of homework

580
00:22:43,429 --> 00:22:47,869
left to the reader to go from something

581
00:22:46,249 --> 00:22:51,950
you read to something you can actually

582
00:22:47,869 --> 00:22:54,619
do I'll start with this as an example

583
00:22:51,950 --> 00:22:58,879
this was an advisory put out by US cert

584
00:22:54,619 --> 00:23:00,590
about some Russian cyber activity was

585
00:22:58,879 --> 00:23:03,019
actually a pretty useful advisory they

586
00:23:00,590 --> 00:23:05,899
had a lot of specific detail this is a

587
00:23:03,019 --> 00:23:07,549
batch file used by the threat group you

588
00:23:05,899 --> 00:23:09,709
see there's a lot of commands here

589
00:23:07,549 --> 00:23:11,980
registry commands net commands and and

590
00:23:09,710 --> 00:23:14,509
there's a lot of things in here for

591
00:23:11,980 --> 00:23:15,740
forensics and log analysts to go look

592
00:23:14,509 --> 00:23:17,629
for in their environment you can go to

593
00:23:15,740 --> 00:23:20,179
your seam you can plug these rules in

594
00:23:17,629 --> 00:23:23,719
and look for it these are examples of

595
00:23:20,179 --> 00:23:25,759
queries that you could write if used one

596
00:23:23,720 --> 00:23:27,379
of our security products to go look at

597
00:23:25,759 --> 00:23:29,090
things in the registry you can see this

598
00:23:27,379 --> 00:23:31,668
is you look for logon events here

599
00:23:29,090 --> 00:23:33,499
process creation and so forth so the

600
00:23:31,669 --> 00:23:35,360
thing about this is while it had a lot

601
00:23:33,499 --> 00:23:38,029
of great detail for defenders all of

602
00:23:35,360 --> 00:23:40,549
this work has to be repeated for every

603
00:23:38,029 --> 00:23:43,190
organization they have to go take this

604
00:23:40,549 --> 00:23:45,499
advisory translate it into whatever it

605
00:23:43,190 --> 00:23:47,869
is that they use whether it's Ark site

606
00:23:45,499 --> 00:23:51,350
or elastic search or Splunk or you name

607
00:23:47,869 --> 00:23:55,149
it everybody's having to start with this

608
00:23:51,350 --> 00:23:59,029
and instead of something specific there

609
00:23:55,149 --> 00:24:00,830
so there's this project that's trying to

610
00:23:59,029 --> 00:24:02,330
make this process easier it's called

611
00:24:00,830 --> 00:24:08,240
Sigma how many of you have heard of

612
00:24:02,330 --> 00:24:09,980
Sigma so great so Sigma is an open

613
00:24:08,240 --> 00:24:12,139
source project it's all available on

614
00:24:09,980 --> 00:24:14,210
github florian and a colleague of his

615
00:24:12,139 --> 00:24:17,119
thomas have r it's really a personal

616
00:24:14,210 --> 00:24:20,690
passion of theirs and the idea behind

617
00:24:17,119 --> 00:24:25,009
sigma is being able to write rules in a

618
00:24:20,690 --> 00:24:26,119
generic way to detect things that happen

619
00:24:25,009 --> 00:24:28,699
in events

620
00:24:26,119 --> 00:24:30,829
in telemetry and logs and then have that

621
00:24:28,699 --> 00:24:35,769
translated so that it works in the kinds

622
00:24:30,829 --> 00:24:38,119
of systems that people use so there is a

623
00:24:35,769 --> 00:24:39,859
repository of these rules on github for

624
00:24:38,119 --> 00:24:44,259
lots of different kinds of sources of

625
00:24:39,859 --> 00:24:47,779
data Network different operating systems

626
00:24:44,259 --> 00:24:50,929
different kinds of rules for malware and

627
00:24:47,779 --> 00:24:53,329
other types of things to look for is

628
00:24:50,929 --> 00:24:55,369
these are rules based on the SIS Mon

629
00:24:53,329 --> 00:24:57,589
tool published by mark russinovich and

630
00:24:55,369 --> 00:24:59,208
sysinternals has a lot of great event

631
00:24:57,589 --> 00:25:02,688
level detail for the kind of things that

632
00:24:59,209 --> 00:25:05,389
defenders need to look at and this is

633
00:25:02,689 --> 00:25:07,999
what writing at a detection looks like

634
00:25:05,389 --> 00:25:09,258
in the Sigma language you can see it's

635
00:25:07,999 --> 00:25:10,759
pretty straightforward look for these

636
00:25:09,259 --> 00:25:12,709
command lines where the parent process

637
00:25:10,759 --> 00:25:14,539
is when log on this is an example

638
00:25:12,709 --> 00:25:17,779
looking for that stickykeys attack I

639
00:25:14,539 --> 00:25:20,059
mentioned earlier look for these

640
00:25:17,779 --> 00:25:21,949
registry keys being set and so on you

641
00:25:20,059 --> 00:25:26,289
can see here it's map to the mitre

642
00:25:21,949 --> 00:25:29,419
attack matrix attack T technique 1 0 1 5

643
00:25:26,289 --> 00:25:31,789
so this is a generic language that would

644
00:25:29,419 --> 00:25:33,169
be useless unless it actually sped

645
00:25:31,789 --> 00:25:35,869
people up when they went to apply it to

646
00:25:33,169 --> 00:25:38,449
their so Sigma has a set of open-source

647
00:25:35,869 --> 00:25:39,769
back-end translators that know how to

648
00:25:38,449 --> 00:25:43,489
translate that generic yamo

649
00:25:39,769 --> 00:25:45,949
representation to to Splunk to cue radar

650
00:25:43,489 --> 00:25:48,619
arcsight elasticsearch Cabana you name

651
00:25:45,949 --> 00:25:51,679
it and so this so now you can go from a

652
00:25:48,619 --> 00:25:53,799
generic description of an event to a way

653
00:25:51,679 --> 00:25:56,419
where you can actually run this tool

654
00:25:53,799 --> 00:25:58,129
against it and this is there's a website

655
00:25:56,419 --> 00:25:59,209
where you can go select any of the

656
00:25:58,129 --> 00:26:01,938
different rules that are in there they

657
00:25:59,209 --> 00:26:03,499
have hundreds to start with and then you

658
00:26:01,939 --> 00:26:06,079
click what you want to translate it into

659
00:26:03,499 --> 00:26:07,759
and then through those back-end

660
00:26:06,079 --> 00:26:09,649
providers it translates it into the

661
00:26:07,759 --> 00:26:11,719
specific query language that those tools

662
00:26:09,649 --> 00:26:14,178
use so now if you go back to that

663
00:26:11,719 --> 00:26:15,439
us-cert advisory how useful would it

664
00:26:14,179 --> 00:26:16,849
have been if they would have not only

665
00:26:15,439 --> 00:26:19,129
published the advisory but a set of

666
00:26:16,849 --> 00:26:20,688
Sigma rules along with it and now

667
00:26:19,129 --> 00:26:22,309
defenders can actually start with

668
00:26:20,689 --> 00:26:26,179
something they can immediately plug in

669
00:26:22,309 --> 00:26:27,739
and apply you know so I think these kind

670
00:26:26,179 --> 00:26:29,809
of things about taking knowledge and

671
00:26:27,739 --> 00:26:32,269
just making that executable so you can

672
00:26:29,809 --> 00:26:34,489
run it and directly apply it in a

673
00:26:32,269 --> 00:26:36,859
vendor-neutral way in an open-source way

674
00:26:34,489 --> 00:26:38,539
I think could help give defend think of

675
00:26:36,859 --> 00:26:40,159
the time that that would save think of

676
00:26:38,539 --> 00:26:44,410
the expertise that could be

677
00:26:40,160 --> 00:26:47,510
buted here so that's a bit about

678
00:26:44,410 --> 00:26:50,480
executable know-how so like I mentioned

679
00:26:47,510 --> 00:26:53,150
earlier a lot of work in InfoSec is

680
00:26:50,480 --> 00:26:55,160
about analysis which is looking at logs

681
00:26:53,150 --> 00:26:57,260
and trying to work out what happened

682
00:26:55,160 --> 00:27:02,530
doing pivoting doing refinement doing

683
00:26:57,260 --> 00:27:07,129
filtering and I have this this joke at

684
00:27:02,530 --> 00:27:09,290
Microsoft which is you know do you know

685
00:27:07,130 --> 00:27:11,900
what the number one cybersecurity tool

686
00:27:09,290 --> 00:27:14,240
is I mean there's a lot of cybersecurity

687
00:27:11,900 --> 00:27:17,690
startups of course but the number one

688
00:27:14,240 --> 00:27:19,790
tool you go to every sock you will find

689
00:27:17,690 --> 00:27:23,570
this tool in it anybody want to guess

690
00:27:19,790 --> 00:27:28,790
what the number one tool is Excel Excel

691
00:27:23,570 --> 00:27:31,820
yes so I went to the I went to the Excel

692
00:27:28,790 --> 00:27:34,820
team and I was like look cyber is hot ok

693
00:27:31,820 --> 00:27:36,530
so what we should do is we take Excel we

694
00:27:34,820 --> 00:27:38,450
should spin it off we should call it

695
00:27:36,530 --> 00:27:41,990
cyber excel we will make a billion

696
00:27:38,450 --> 00:27:46,520
dollars they said John that is stupid

697
00:27:41,990 --> 00:27:49,220
Excel makes 2 billion dollars so so yes

698
00:27:46,520 --> 00:27:51,110
so a lot of a lot of the wizardry and

699
00:27:49,220 --> 00:27:53,150
defenses time spent in Excel or things

700
00:27:51,110 --> 00:27:55,100
like it and it just doesn't make it very

701
00:27:53,150 --> 00:27:56,810
easy for other people to repeat how you

702
00:27:55,100 --> 00:27:59,919
got to that end result why did you

703
00:27:56,810 --> 00:28:02,510
filter down to those things and so

704
00:27:59,920 --> 00:28:05,810
people that are doing analysis there's

705
00:28:02,510 --> 00:28:07,580
this journey that's there where you

706
00:28:05,810 --> 00:28:09,020
start by looking for stuff where you're

707
00:28:07,580 --> 00:28:11,120
looking for an instance of something

708
00:28:09,020 --> 00:28:12,560
like look for a powershell command with

709
00:28:11,120 --> 00:28:15,679
this funny command line with this

710
00:28:12,560 --> 00:28:18,200
base64-encoded thing or win log on with

711
00:28:15,680 --> 00:28:19,610
this child process and it's like you

712
00:28:18,200 --> 00:28:22,040
know the instance of what you're looking

713
00:28:19,610 --> 00:28:23,600
for and they're you know if i translate

714
00:28:22,040 --> 00:28:25,670
that to sort of database you're doing a

715
00:28:23,600 --> 00:28:27,199
select with a where clause you know

716
00:28:25,670 --> 00:28:29,690
you're searching for column you know

717
00:28:27,200 --> 00:28:31,190
rows where you have some sort of filter

718
00:28:29,690 --> 00:28:33,470
you're going to apply maybe you do some

719
00:28:31,190 --> 00:28:35,090
basic joins to enrich it but this is

720
00:28:33,470 --> 00:28:38,000
sort of the level where the practitioner

721
00:28:35,090 --> 00:28:39,949
is at and then you go from knowing

722
00:28:38,000 --> 00:28:42,830
instances that you want to look for to

723
00:28:39,950 --> 00:28:46,010
now I want to find patterns I want to

724
00:28:42,830 --> 00:28:47,540
understand what is the outlier like let

725
00:28:46,010 --> 00:28:49,910
me look at all of the accounts that log

726
00:28:47,540 --> 00:28:52,010
on to my domain controllers and I just

727
00:28:49,910 --> 00:28:53,870
want to know when is an account logging

728
00:28:52,010 --> 00:28:54,080
on that doesn't normally do that you

729
00:28:53,870 --> 00:28:55,939
don't

730
00:28:54,080 --> 00:28:57,649
have the specific instance you just know

731
00:28:55,940 --> 00:29:00,980
you want to find the patterns and that's

732
00:28:57,649 --> 00:29:02,570
about things like finding outliers using

733
00:29:00,980 --> 00:29:04,850
statistical models you start computing

734
00:29:02,570 --> 00:29:06,889
baselines and it's the next level of

735
00:29:04,850 --> 00:29:10,639
progression of analysis that people do

736
00:29:06,890 --> 00:29:12,409
and then maybe the next level is they

737
00:29:10,640 --> 00:29:14,269
don't know the pattern but they want to

738
00:29:12,409 --> 00:29:15,769
use data science machine learning to

739
00:29:14,269 --> 00:29:17,899
discover the pattern they may know

740
00:29:15,769 --> 00:29:19,789
examples of what they're looking for

741
00:29:17,899 --> 00:29:21,049
they may know the instances but they

742
00:29:19,789 --> 00:29:23,059
don't know how to generalize to the

743
00:29:21,049 --> 00:29:24,649
pattern but you can use you know

744
00:29:23,059 --> 00:29:27,200
supervised machine learning approaches

745
00:29:24,649 --> 00:29:29,629
data science for the algorithms to

746
00:29:27,200 --> 00:29:32,210
identify what the underlying phenomenon

747
00:29:29,630 --> 00:29:34,700
are or the patterns are and so forth and

748
00:29:32,210 --> 00:29:36,470
so this is where you see security teams

749
00:29:34,700 --> 00:29:37,880
start to apply machine learning and

750
00:29:36,470 --> 00:29:40,970
those kind of techniques to their data

751
00:29:37,880 --> 00:29:42,289
sets so this you know you think about

752
00:29:40,970 --> 00:29:44,510
things like Excel well it's great for

753
00:29:42,289 --> 00:29:46,158
you know data in a grid and of course it

754
00:29:44,510 --> 00:29:47,690
can talk to a database and it has some

755
00:29:46,159 --> 00:29:49,760
stats in there but it really doesn't

756
00:29:47,690 --> 00:29:52,820
take you on this full journey and very

757
00:29:49,760 --> 00:29:57,200
few security tools help you grow with

758
00:29:52,820 --> 00:29:59,418
this journey as you do it and so there

759
00:29:57,200 --> 00:30:02,929
are some tools that I do think are very

760
00:29:59,419 --> 00:30:04,610
helpful that can help people go and kind

761
00:30:02,929 --> 00:30:06,260
of scale with them as they progress on

762
00:30:04,610 --> 00:30:08,418
this journey and one of those crucial

763
00:30:06,260 --> 00:30:10,279
tools is an open-source tool called

764
00:30:08,419 --> 00:30:12,380
Jupiter how many of you have heard of

765
00:30:10,279 --> 00:30:16,090
Jupiter notebooks okay way more people

766
00:30:12,380 --> 00:30:18,380
than I expected you guys are scaring me

767
00:30:16,090 --> 00:30:20,870
so when I first started talking about

768
00:30:18,380 --> 00:30:22,789
Jupiter Microsoft it was like either it

769
00:30:20,870 --> 00:30:24,469
was like basically the data scientist

770
00:30:22,789 --> 00:30:27,320
people that knew about our knew about

771
00:30:24,470 --> 00:30:28,940
Jupiter or people right out of college

772
00:30:27,320 --> 00:30:30,289
because they're being taught machine

773
00:30:28,940 --> 00:30:32,480
learning in college and they're using

774
00:30:30,289 --> 00:30:33,950
this and then for like all the grizzled

775
00:30:32,480 --> 00:30:36,679
veterans a Microsoft they're like right

776
00:30:33,950 --> 00:30:38,840
what what's this and so if you don't

777
00:30:36,679 --> 00:30:41,210
know Jupiter is an open-source tool kind

778
00:30:38,840 --> 00:30:44,840
of came out of the scientific computing

779
00:30:41,210 --> 00:30:47,779
community built originally for data

780
00:30:44,840 --> 00:30:49,399
science and it has a lot of great

781
00:30:47,779 --> 00:30:54,320
visualization and data analytics

782
00:30:49,399 --> 00:30:55,850
packages in it it's you know it's very

783
00:30:54,320 --> 00:30:57,769
it's sort of designed and tailored to

784
00:30:55,850 --> 00:30:59,689
work very well with Python a lot of

785
00:30:57,769 --> 00:31:01,190
network defenders know Python if they

786
00:30:59,690 --> 00:31:03,529
know any scripting language they often

787
00:31:01,190 --> 00:31:05,570
know Python of course it works with more

788
00:31:03,529 --> 00:31:07,149
than just Python but that is there's

789
00:31:05,570 --> 00:31:09,399
many popular

790
00:31:07,149 --> 00:31:11,439
Edge's pre-written for it and the idea

791
00:31:09,399 --> 00:31:15,939
is it's a its main thing is it's a

792
00:31:11,440 --> 00:31:17,830
notebook and you can have cells where

793
00:31:15,940 --> 00:31:19,389
you can type code and you can run it in

794
00:31:17,830 --> 00:31:21,489
an interactive way just like you can a

795
00:31:19,389 --> 00:31:24,129
Python and it has these ways to to do

796
00:31:21,489 --> 00:31:27,309
these different outputs the nice thing

797
00:31:24,129 --> 00:31:30,609
about Jupiter is it's got a very vibrant

798
00:31:27,309 --> 00:31:32,559
ecosystem that when we security people

799
00:31:30,609 --> 00:31:34,269
are sleeping there's a whole vibrant

800
00:31:32,559 --> 00:31:35,619
community of data scientists all around

801
00:31:34,269 --> 00:31:37,029
the world that are working at making

802
00:31:35,619 --> 00:31:38,830
this thing better

803
00:31:37,029 --> 00:31:40,809
they have yearly conferences there's

804
00:31:38,830 --> 00:31:44,769
over two million notebooks on github

805
00:31:40,809 --> 00:31:47,559
alone works on on-prem networks it works

806
00:31:44,769 --> 00:31:50,919
on cloud all the cloud makers have

807
00:31:47,559 --> 00:31:51,999
support built-in for it and and there's

808
00:31:50,919 --> 00:31:53,710
a couple of important things where I

809
00:31:51,999 --> 00:31:55,749
think is very valuable for analysis so

810
00:31:53,710 --> 00:31:57,309
one is it has this notion of you go

811
00:31:55,749 --> 00:31:58,899
fetch some data from somewhere you do

812
00:31:57,309 --> 00:32:00,999
something on it and then you can you

813
00:31:58,899 --> 00:32:02,589
know iterate and visualize and refine it

814
00:32:00,999 --> 00:32:04,539
and some of these controls can be

815
00:32:02,589 --> 00:32:06,639
interactive you can zoom in zoom out and

816
00:32:04,539 --> 00:32:08,559
so forth that has these libraries like

817
00:32:06,639 --> 00:32:12,189
pandas which make it great to go work

818
00:32:08,559 --> 00:32:14,320
with rosette data and then once you have

819
00:32:12,190 --> 00:32:17,440
your notebook you can share it with

820
00:32:14,320 --> 00:32:19,059
somebody else and then they can rerun it

821
00:32:17,440 --> 00:32:20,499
because these notebooks are executable

822
00:32:19,059 --> 00:32:22,839
so as long as they have access to the

823
00:32:20,499 --> 00:32:24,399
same kind of data or similar data they

824
00:32:22,839 --> 00:32:26,609
can just walk through your notebook and

825
00:32:24,399 --> 00:32:30,609
rerun all the steps that you did and

826
00:32:26,609 --> 00:32:32,529
have the exact analysis result applied

827
00:32:30,609 --> 00:32:33,939
to the data set they're doing and so

828
00:32:32,529 --> 00:32:35,440
unlike an excel where it's like you know

829
00:32:33,940 --> 00:32:37,690
you do much stuff you click around maybe

830
00:32:35,440 --> 00:32:39,489
you know the the pivot tables boom boom

831
00:32:37,690 --> 00:32:42,849
how do you make it easy for somebody to

832
00:32:39,489 --> 00:32:44,379
repeat that you know usually takes you

833
00:32:42,849 --> 00:32:46,149
writing a very long email explaining

834
00:32:44,379 --> 00:32:48,070
what you did and this is all of that

835
00:32:46,149 --> 00:32:50,678
encapsulated into a tool where you can

836
00:32:48,070 --> 00:32:51,999
share it these are some example

837
00:32:50,679 --> 00:32:54,909
notebooks

838
00:32:51,999 --> 00:32:57,190
this is you know go grab some data from

839
00:32:54,909 --> 00:32:59,919
one of the tools at Microsoft that

840
00:32:57,190 --> 00:33:02,950
stores network data and uses this is

841
00:32:59,919 --> 00:33:05,529
called a chord diagram and the idea is

842
00:33:02,950 --> 00:33:07,599
like let's find out what Mitch what IP

843
00:33:05,529 --> 00:33:09,519
addresses what net blocks different

844
00:33:07,599 --> 00:33:11,349
machines are talking to you may have a

845
00:33:09,519 --> 00:33:13,210
set of machines you say all these

846
00:33:11,349 --> 00:33:15,399
machines should really be communicating

847
00:33:13,210 --> 00:33:17,289
in a similar way to similar kinds of

848
00:33:15,399 --> 00:33:20,159
endpoints and if there's anyone

849
00:33:17,289 --> 00:33:21,690
communicating to an anomaly you know may

850
00:33:20,160 --> 00:33:23,520
some command-and-control or whatnot you

851
00:33:21,690 --> 00:33:25,740
want to understand why that isn't easily

852
00:33:23,520 --> 00:33:28,800
see it a chord diagram makes it easy to

853
00:33:25,740 --> 00:33:30,270
do that the nice thing is you know the

854
00:33:28,800 --> 00:33:32,100
reason I sort of chose this is there's

855
00:33:30,270 --> 00:33:34,050
no Microsoft product UI that has this

856
00:33:32,100 --> 00:33:35,639
chord diagram it's just one of many

857
00:33:34,050 --> 00:33:38,159
different kind of visualizations that

858
00:33:35,640 --> 00:33:39,660
are there but because it's in an

859
00:33:38,160 --> 00:33:41,160
open-source package and you can use

860
00:33:39,660 --> 00:33:43,290
Jupiter and go fetch your data and use

861
00:33:41,160 --> 00:33:45,120
you know stand on all of these different

862
00:33:43,290 --> 00:33:46,920
open source packages on their shoulders

863
00:33:45,120 --> 00:33:50,189
and apply those kind of visualizations

864
00:33:46,920 --> 00:33:52,380
easily to your data this is the same

865
00:33:50,190 --> 00:33:54,780
kind of data but represented in this

866
00:33:52,380 --> 00:33:56,610
grid way where here's the machines and

867
00:33:54,780 --> 00:33:57,960
here's the net block so you can see okay

868
00:33:56,610 --> 00:33:59,760
this net block only one machine

869
00:33:57,960 --> 00:34:01,800
communicated to it whereas this one over

870
00:33:59,760 --> 00:34:03,480
here yet you know six or seven different

871
00:34:01,800 --> 00:34:05,280
machines communicating to it and it's

872
00:34:03,480 --> 00:34:09,418
just different easy visual ways to do

873
00:34:05,280 --> 00:34:11,790
this analysis it has you know great row

874
00:34:09,418 --> 00:34:14,489
set support I think this one is an

875
00:34:11,790 --> 00:34:19,320
example looking at virustotal and

876
00:34:14,489 --> 00:34:20,909
intersecting it things they're using you

877
00:34:19,320 --> 00:34:23,400
know maps of the world to sort of plot

878
00:34:20,909 --> 00:34:26,549
where activity is happening from this

879
00:34:23,400 --> 00:34:28,830
was analyzing some data that's from

880
00:34:26,550 --> 00:34:31,050
Microsoft SharePoint from a you know as

881
00:34:28,830 --> 00:34:32,790
a tenant of office 365 you share points

882
00:34:31,050 --> 00:34:34,980
where you upload files or if you're a

883
00:34:32,790 --> 00:34:36,300
bad guy download files from and this

884
00:34:34,980 --> 00:34:38,520
lets you look at you know what are the

885
00:34:36,300 --> 00:34:40,290
patterns and and you know how many do is

886
00:34:38,520 --> 00:34:42,719
there a burst of login from somebody or

887
00:34:40,290 --> 00:34:46,500
that may be a significant set of file

888
00:34:42,719 --> 00:34:48,449
uploads to some drop site clustering

889
00:34:46,500 --> 00:34:50,610
activity so all of this stuff is just

890
00:34:48,449 --> 00:34:53,549
available in Jupiter this is not any

891
00:34:50,610 --> 00:34:55,260
Microsoft technology it's there and the

892
00:34:53,550 --> 00:34:57,150
notebooks allow you capture those steps

893
00:34:55,260 --> 00:35:01,110
and then allow somebody to take those

894
00:34:57,150 --> 00:35:02,880
and then rerun those we have notebooks

895
00:35:01,110 --> 00:35:04,650
that we've created kind of tailored for

896
00:35:02,880 --> 00:35:06,540
Windows and Linux investigation

897
00:35:04,650 --> 00:35:10,920
scenarios for cloud we publish those

898
00:35:06,540 --> 00:35:12,870
those notebooks this Roberto Rodriguez

899
00:35:10,920 --> 00:35:16,830
otherwise known as cyberwar dog he's

900
00:35:12,870 --> 00:35:18,600
another InfoSec practitioner no

901
00:35:16,830 --> 00:35:20,279
affiliation with Microsoft and he's got

902
00:35:18,600 --> 00:35:22,140
a series on how do you do thread hunting

903
00:35:20,280 --> 00:35:23,700
with Jupiter notebooks so there's a

904
00:35:22,140 --> 00:35:26,250
number of people in the community that

905
00:35:23,700 --> 00:35:29,009
are starting to try to popularize the

906
00:35:26,250 --> 00:35:31,020
notion of using these kinds of tools and

907
00:35:29,010 --> 00:35:33,410
technologies for doing thread hunting on

908
00:35:31,020 --> 00:35:33,410
your data

909
00:35:34,039 --> 00:35:40,920
another cool technology for notebooks is

910
00:35:38,640 --> 00:35:44,400
there's open source technology called

911
00:35:40,920 --> 00:35:45,839
paper mill I'd be Netflix they use have

912
00:35:44,400 --> 00:35:47,339
a lot of data scientists at Netflix

913
00:35:45,839 --> 00:35:49,410
figure out what movie to recommend to

914
00:35:47,339 --> 00:35:51,869
you next and they use Jupiter notebooks

915
00:35:49,410 --> 00:35:54,960
and associated technologies extensively

916
00:35:51,869 --> 00:35:56,970
and this paper mill of the idea there is

917
00:35:54,960 --> 00:35:59,640
let's say you create a notebook which

918
00:35:56,970 --> 00:36:01,288
gets some data maybe a set of alerts and

919
00:35:59,640 --> 00:36:03,839
then you want to go do some enrichment

920
00:36:01,289 --> 00:36:05,640
or investigation or Auto analysis of

921
00:36:03,839 --> 00:36:07,619
those you know sequence of steps and

922
00:36:05,640 --> 00:36:09,509
then you want to automate that you say I

923
00:36:07,619 --> 00:36:11,369
want that notebook to run every day or

924
00:36:09,509 --> 00:36:13,140
every time that event happens paper mill

925
00:36:11,369 --> 00:36:14,999
is basically like it will take your

926
00:36:13,140 --> 00:36:16,769
notebook and it will click run on every

927
00:36:14,999 --> 00:36:17,339
cell in your notebook so that you start

928
00:36:16,769 --> 00:36:19,319
with

929
00:36:17,339 --> 00:36:21,569
it's like making your notebook into a

930
00:36:19,319 --> 00:36:24,119
batch file and the cool kind of thing

931
00:36:21,569 --> 00:36:25,710
about this is when you tell when you go

932
00:36:24,119 --> 00:36:29,279
to a sock analyst and say we can build

933
00:36:25,710 --> 00:36:32,910
on your or your knowledge on Python that

934
00:36:29,279 --> 00:36:36,150
you maybe already know on this analysis

935
00:36:32,910 --> 00:36:37,649
tool called Jupiter and that becomes the

936
00:36:36,150 --> 00:36:40,289
way that they start to automate their

937
00:36:37,650 --> 00:36:42,180
own workload like you think the the toil

938
00:36:40,289 --> 00:36:44,130
in a sock is to go from what they see

939
00:36:42,180 --> 00:36:46,049
and manually work on to how do you

940
00:36:44,130 --> 00:36:48,869
automate that and they typically have to

941
00:36:46,049 --> 00:36:50,309
go to some engineering team that says ok

942
00:36:48,869 --> 00:36:51,809
every time this happens please do this

943
00:36:50,309 --> 00:36:54,569
thing so I have less work to do every

944
00:36:51,809 --> 00:36:56,430
time and now the analysis tool they use

945
00:36:54,569 --> 00:36:58,920
to investigate becomes the automation

946
00:36:56,430 --> 00:37:01,319
tool they use to take you know to give

947
00:36:58,920 --> 00:37:04,589
them back more time so that's another

948
00:37:01,319 --> 00:37:06,210
pretty nifty thing about it and then

949
00:37:04,589 --> 00:37:09,328
there's this other technology called

950
00:37:06,210 --> 00:37:10,979
binder and the idea behind binder is you

951
00:37:09,329 --> 00:37:13,259
know if you spend any time with Python

952
00:37:10,979 --> 00:37:14,848
you quickly realize it's like well you

953
00:37:13,259 --> 00:37:16,200
know what packages did you install to

954
00:37:14,849 --> 00:37:19,589
make your thing work and do I have the

955
00:37:16,200 --> 00:37:21,479
same ones and and if you just want to

956
00:37:19,589 --> 00:37:24,749
make it as easy for to run the notebook

957
00:37:21,479 --> 00:37:25,859
as I send you a URL you click it you go

958
00:37:24,749 --> 00:37:27,118
to the browser and you're just running

959
00:37:25,859 --> 00:37:28,319
the notebook you didn't have to do

960
00:37:27,119 --> 00:37:30,690
anything you don't have to install

961
00:37:28,319 --> 00:37:33,960
anything binder is a technology that

962
00:37:30,690 --> 00:37:35,910
does that and it's you can it works with

963
00:37:33,960 --> 00:37:39,239
github but it doesn't require that so

964
00:37:35,910 --> 00:37:41,729
here any project we upload a notebook to

965
00:37:39,239 --> 00:37:43,319
github if you tell binder about it it

966
00:37:41,729 --> 00:37:44,779
gives you a shareable link if you go

967
00:37:43,319 --> 00:37:48,140
visit that link

968
00:37:44,780 --> 00:37:50,150
it will spin up a live image of that

969
00:37:48,140 --> 00:37:52,310
where you instantly can start using that

970
00:37:50,150 --> 00:37:56,470
notebook with no other steps to install

971
00:37:52,310 --> 00:38:00,040
so as a teaching tool it's pretty cool

972
00:37:56,470 --> 00:38:02,779
so that's notebooks repeatable analysis

973
00:38:00,040 --> 00:38:04,460
and then community of course I started

974
00:38:02,780 --> 00:38:09,590
with community community I think is a

975
00:38:04,460 --> 00:38:11,870
super important part I have the fortune

976
00:38:09,590 --> 00:38:14,450
to go to many different conferences over

977
00:38:11,870 --> 00:38:16,730
the years part of the reason I go to

978
00:38:14,450 --> 00:38:19,009
conferences is both to get exposure to

979
00:38:16,730 --> 00:38:20,840
ideas like Jupiter notebooks I didn't

980
00:38:19,010 --> 00:38:24,260
hear about that at Microsoft I went and

981
00:38:20,840 --> 00:38:26,180
visited another company Lockheed Martin

982
00:38:24,260 --> 00:38:28,430
and I met Eric Hutchins one of the

983
00:38:26,180 --> 00:38:29,930
co-authors of the kill chain and he said

984
00:38:28,430 --> 00:38:32,839
let me show you this thing called

985
00:38:29,930 --> 00:38:35,779
Jupiter that were using here first time

986
00:38:32,840 --> 00:38:37,220
I had seen about it it seen it and you

987
00:38:35,780 --> 00:38:39,350
know that was five years ago that he

988
00:38:37,220 --> 00:38:41,060
showed me that you know think about the

989
00:38:39,350 --> 00:38:43,670
kind of experience that people are

990
00:38:41,060 --> 00:38:45,650
building up the that there are leaders

991
00:38:43,670 --> 00:38:48,170
in network defense happening all over

992
00:38:45,650 --> 00:38:49,790
and being able to co and understand and

993
00:38:48,170 --> 00:38:52,930
see their practices is very important

994
00:38:49,790 --> 00:38:55,370
another reason to go to conferences is

995
00:38:52,930 --> 00:38:56,450
you know if you really want to know or

996
00:38:55,370 --> 00:38:58,759
you know you want to try to know what

997
00:38:56,450 --> 00:39:00,649
you're doing you you know they say the

998
00:38:58,760 --> 00:39:02,150
secret is to write about it or try to

999
00:39:00,650 --> 00:39:04,100
present on it you know to really

1000
00:39:02,150 --> 00:39:06,200
understand the thing well you have to

1001
00:39:04,100 --> 00:39:08,150
try to talk to somebody else about it it

1002
00:39:06,200 --> 00:39:09,620
often requires you to pop out of like

1003
00:39:08,150 --> 00:39:11,360
what you're doing is your day job and

1004
00:39:09,620 --> 00:39:14,600
try to synthesize and say what is this

1005
00:39:11,360 --> 00:39:15,050
what's really going on here what is this

1006
00:39:14,600 --> 00:39:18,170
all about

1007
00:39:15,050 --> 00:39:19,700
so I find it very valuable of course

1008
00:39:18,170 --> 00:39:20,870
there's researchers put out a lot lots

1009
00:39:19,700 --> 00:39:23,899
of great blogs these are a couple

1010
00:39:20,870 --> 00:39:25,490
researchers I follow subti and Emma you

1011
00:39:23,900 --> 00:39:27,770
know pretty much every time they blog

1012
00:39:25,490 --> 00:39:30,020
about something I send mail at Microsoft

1013
00:39:27,770 --> 00:39:31,810
to go look at detecting what the you

1014
00:39:30,020 --> 00:39:36,500
know the latest technique that they have

1015
00:39:31,810 --> 00:39:38,540
this is Nick Carr he works at fireEye he

1016
00:39:36,500 --> 00:39:40,370
publishes a lot of things that they've

1017
00:39:38,540 --> 00:39:44,779
seen and sort of their work at fireEye

1018
00:39:40,370 --> 00:39:48,680
mandiant Nick and I are actually in a

1019
00:39:44,780 --> 00:39:52,730
bit of a war not a war between Microsoft

1020
00:39:48,680 --> 00:39:55,730
and fireEye but in an emoji war and the

1021
00:39:52,730 --> 00:39:57,380
war is who can tweet with the greatest

1022
00:39:55,730 --> 00:39:58,170
number of emojis and still be taken

1023
00:39:57,380 --> 00:40:01,620
serious

1024
00:39:58,170 --> 00:40:05,640
and security and you can see here from

1025
00:40:01,620 --> 00:40:06,870
this tweet Nick is losing that war every

1026
00:40:05,640 --> 00:40:10,049
now and then he pops out a really good

1027
00:40:06,870 --> 00:40:11,700
one though I'll say so much so that this

1028
00:40:10,050 --> 00:40:14,520
battles taken a life of its own and we

1029
00:40:11,700 --> 00:40:16,950
have had people accuse me Patrick

1030
00:40:14,520 --> 00:40:19,680
Wartell of emojis are just ruined in

1031
00:40:16,950 --> 00:40:21,899
InfoSec so I was like well hey man don't

1032
00:40:19,680 --> 00:40:26,549
leave Nick Carr out of it you know he's

1033
00:40:21,900 --> 00:40:29,760
helping ruin InfoSec as well and then of

1034
00:40:26,550 --> 00:40:34,020
course tools like Benjamin delphi's me

1035
00:40:29,760 --> 00:40:35,670
me cats as well I mean me me cats is

1036
00:40:34,020 --> 00:40:38,220
probably the most well known credential

1037
00:40:35,670 --> 00:40:40,290
dumper but when I visited peach neutral

1038
00:40:38,220 --> 00:40:41,939
all those years ago the tool crib people

1039
00:40:40,290 --> 00:40:44,550
showed me about past the hash and their

1040
00:40:41,940 --> 00:40:45,900
tools for doing that and knowing the

1041
00:40:44,550 --> 00:40:49,860
first time you see past the hash it is

1042
00:40:45,900 --> 00:40:54,090
like magic and you know to me it was a

1043
00:40:49,860 --> 00:40:56,250
good example of a mindset failure that I

1044
00:40:54,090 --> 00:40:57,900
had that maybe we had at Microsoft at

1045
00:40:56,250 --> 00:40:59,490
the time which was went to the

1046
00:40:57,900 --> 00:41:02,010
conference saw the tool that was new to

1047
00:40:59,490 --> 00:41:04,799
me brought it back the people in in

1048
00:41:02,010 --> 00:41:06,150
Windows security looked at it and said

1049
00:41:04,800 --> 00:41:07,680
well look to run that tool you have to

1050
00:41:06,150 --> 00:41:09,540
be an administrator you know if you're

1051
00:41:07,680 --> 00:41:12,210
an administrator you know all bets are

1052
00:41:09,540 --> 00:41:17,490
off so it's sort of like you know won't

1053
00:41:12,210 --> 00:41:18,990
fix and you know I mean credential

1054
00:41:17,490 --> 00:41:20,339
dumping things are fundamentally a hard

1055
00:41:18,990 --> 00:41:23,370
problem to mitigate if you are an

1056
00:41:20,340 --> 00:41:24,900
administrator but you know the minds

1057
00:41:23,370 --> 00:41:26,730
that there was just deeply flawed I

1058
00:41:24,900 --> 00:41:28,320
would say which is in any large network

1059
00:41:26,730 --> 00:41:29,940
of course the attacker is going to get

1060
00:41:28,320 --> 00:41:31,710
administrative rights on some set of

1061
00:41:29,940 --> 00:41:34,920
machines and then once you have

1062
00:41:31,710 --> 00:41:37,290
credentials you know you're able to move

1063
00:41:34,920 --> 00:41:39,210
laterally pivot around etc you know the

1064
00:41:37,290 --> 00:41:41,310
patterns of how people use and log onto

1065
00:41:39,210 --> 00:41:43,440
machines have these credentials persist

1066
00:41:41,310 --> 00:41:45,779
around and took as many years to try to

1067
00:41:43,440 --> 00:41:47,130
to get to understand that deeply enough

1068
00:41:45,780 --> 00:41:48,870
we worked on things like credential

1069
00:41:47,130 --> 00:41:50,460
guard and so forth but I would say it's

1070
00:41:48,870 --> 00:41:51,900
just an example of going to the

1071
00:41:50,460 --> 00:41:53,730
community and learning about these kind

1072
00:41:51,900 --> 00:41:55,440
of tools and seeing them you know help

1073
00:41:53,730 --> 00:41:57,630
to develop these mindset changes that

1074
00:41:55,440 --> 00:41:59,250
sometimes require time to do and then

1075
00:41:57,630 --> 00:42:00,990
mentoring is another thing in community

1076
00:41:59,250 --> 00:42:03,930
I think we could all probably do a bit

1077
00:42:00,990 --> 00:42:05,549
more a better job collectively on and

1078
00:42:03,930 --> 00:42:06,990
how to end up make it easier from

1079
00:42:05,550 --> 00:42:08,340
individuals to mentor individuals

1080
00:42:06,990 --> 00:42:10,680
organizations to mentor other

1081
00:42:08,340 --> 00:42:14,880
organizations and so on

1082
00:42:10,680 --> 00:42:18,240
and then you know I talked about you

1083
00:42:14,880 --> 00:42:20,250
know Sigma and miter attack and so forth

1084
00:42:18,240 --> 00:42:22,470
so one important part of those things is

1085
00:42:20,250 --> 00:42:24,480
it it's they're not developed by just

1086
00:42:22,470 --> 00:42:26,850
one entity that's putting it out there

1087
00:42:24,480 --> 00:42:32,190
doing all of the work that it's built on

1088
00:42:26,850 --> 00:42:34,529
by the community so this is an example

1089
00:42:32,190 --> 00:42:37,740
of a Sigma rule one of the other

1090
00:42:34,530 --> 00:42:40,500
projects that Florian has is a set of

1091
00:42:37,740 --> 00:42:42,990
yard rules that he runs against every

1092
00:42:40,500 --> 00:42:44,430
virustotal entry and then you know you

1093
00:42:42,990 --> 00:42:47,040
can write a rule submit it to this

1094
00:42:44,430 --> 00:42:48,540
repository and then it will get run on

1095
00:42:47,040 --> 00:42:49,740
your behalf against every entries

1096
00:42:48,540 --> 00:42:52,710
submitted the virustotal

1097
00:42:49,740 --> 00:42:55,049
and then those will get annotated in the

1098
00:42:52,710 --> 00:42:56,310
community section and so if you have

1099
00:42:55,050 --> 00:42:58,410
something to contribute if there's some

1100
00:42:56,310 --> 00:43:00,870
malware some thing that you know how to

1101
00:42:58,410 --> 00:43:03,810
fingerprint with yara it's an easy way

1102
00:43:00,870 --> 00:43:06,990
to contribute to this y'all repository

1103
00:43:03,810 --> 00:43:10,130
and then every user of virustotal now

1104
00:43:06,990 --> 00:43:12,629
gets the benefit from your insight and

1105
00:43:10,130 --> 00:43:14,400
you know Florian I don't know him I've

1106
00:43:12,630 --> 00:43:17,370
actually never met him but you know just

1107
00:43:14,400 --> 00:43:19,710
through Twitter and github

1108
00:43:17,370 --> 00:43:22,440
you know I contributed rules to it just

1109
00:43:19,710 --> 00:43:24,660
by making pull requests and and in doing

1110
00:43:22,440 --> 00:43:26,400
it you know fluorines like well your

1111
00:43:24,660 --> 00:43:28,350
rule kind of sucked you know didn't you

1112
00:43:26,400 --> 00:43:29,820
know about optimizing it and I learned

1113
00:43:28,350 --> 00:43:31,290
you know a bunch of things about how to

1114
00:43:29,820 --> 00:43:33,120
write much better performing your rules

1115
00:43:31,290 --> 00:43:35,430
in the process so participate

1116
00:43:33,120 --> 00:43:37,710
participate participation is it is

1117
00:43:35,430 --> 00:43:43,230
important and and and very helpful and

1118
00:43:37,710 --> 00:43:44,880
educational as well and so this notion

1119
00:43:43,230 --> 00:43:46,500
of being able to have the community

1120
00:43:44,880 --> 00:43:50,100
community you know contribute to

1121
00:43:46,500 --> 00:43:52,890
community projects is is important you

1122
00:43:50,100 --> 00:43:53,940
can contribute to I sort of touched on

1123
00:43:52,890 --> 00:43:57,750
this earlier but you can contribute to

1124
00:43:53,940 --> 00:43:58,950
my tour attack they're examples of these

1125
00:43:57,750 --> 00:44:00,600
techniques and they're contributed by

1126
00:43:58,950 --> 00:44:02,910
people from Microsoft and I talked about

1127
00:44:00,600 --> 00:44:06,690
these attacks against SAS like office

1128
00:44:02,910 --> 00:44:08,730
365 techniques like Olaf based phishing

1129
00:44:06,690 --> 00:44:10,710
that applied and not just office 365 but

1130
00:44:08,730 --> 00:44:13,170
other different mail providers as well

1131
00:44:10,710 --> 00:44:16,230
and people on my team are working and

1132
00:44:13,170 --> 00:44:17,760
actively extending and contributing back

1133
00:44:16,230 --> 00:44:18,990
to the mitre attack to add these

1134
00:44:17,760 --> 00:44:20,640
techniques in there to make it easier

1135
00:44:18,990 --> 00:44:22,359
for people to have fewer places to go to

1136
00:44:20,640 --> 00:44:24,819
learn about these things

1137
00:44:22,360 --> 00:44:27,280
and then this is a project I learned

1138
00:44:24,820 --> 00:44:28,540
about just a couple of weeks ago and I

1139
00:44:27,280 --> 00:44:31,840
think it's happening this week where

1140
00:44:28,540 --> 00:44:33,610
it's hacked up Lu there are a number of

1141
00:44:31,840 --> 00:44:37,090
people that have come together to add

1142
00:44:33,610 --> 00:44:39,490
and extend Sigma and try to fill in the

1143
00:44:37,090 --> 00:44:40,750
gaps from that miter matrix to signal

1144
00:44:39,490 --> 00:44:43,839
rules and so they're kind of having a

1145
00:44:40,750 --> 00:44:45,910
hackathon both there and remotely people

1146
00:44:43,840 --> 00:44:47,290
are contributing and so another great

1147
00:44:45,910 --> 00:44:48,460
way that the community is coming

1148
00:44:47,290 --> 00:44:50,350
together to try to fill in those

1149
00:44:48,460 --> 00:44:52,360
knowledge gaps you know imagine a world

1150
00:44:50,350 --> 00:44:54,190
where the techniques and that might or

1151
00:44:52,360 --> 00:44:56,470
matric are as complete as possible for

1152
00:44:54,190 --> 00:45:00,580
the spaces defenders need to defend

1153
00:44:56,470 --> 00:45:02,649
whether it's cloud AWS IOT Mobile

1154
00:45:00,580 --> 00:45:05,020
whatnot and there ways to go from those

1155
00:45:02,650 --> 00:45:07,750
technique categories all the way down to

1156
00:45:05,020 --> 00:45:10,780
rules for their seam that they can

1157
00:45:07,750 --> 00:45:12,400
directly apply and then a whole bunch of

1158
00:45:10,780 --> 00:45:14,710
notebooks at the ready that start with

1159
00:45:12,400 --> 00:45:17,320
the results from what you might find

1160
00:45:14,710 --> 00:45:20,290
with those rules to guided investigation

1161
00:45:17,320 --> 00:45:21,790
scenarios and this is why I take it back

1162
00:45:20,290 --> 00:45:23,710
to that funny term I mentioned at the

1163
00:45:21,790 --> 00:45:25,680
beginning which is this notion of this

1164
00:45:23,710 --> 00:45:28,090
github a vacation of InfoSec where

1165
00:45:25,680 --> 00:45:29,890
imagine people that track thread actors

1166
00:45:28,090 --> 00:45:33,430
instead of just writing about it map

1167
00:45:29,890 --> 00:45:35,799
them in terms of the miter matrix those

1168
00:45:33,430 --> 00:45:37,660
met that matrix has a technique database

1169
00:45:35,800 --> 00:45:40,540
full of detailed description of how all

1170
00:45:37,660 --> 00:45:43,629
those techniques work each of those

1171
00:45:40,540 --> 00:45:47,259
techniques has a set of detections that

1172
00:45:43,630 --> 00:45:49,330
are written in languages like Sigma that

1173
00:45:47,260 --> 00:45:53,470
the community is contributing to now you

1174
00:45:49,330 --> 00:45:55,750
have a way to go from a TTP down to a

1175
00:45:53,470 --> 00:45:58,810
concrete expression of that how to hunt

1176
00:45:55,750 --> 00:46:02,140
for it in the products and tools that

1177
00:45:58,810 --> 00:46:04,870
defenders are using and then when you

1178
00:46:02,140 --> 00:46:06,580
get results you have ways to do analysis

1179
00:46:04,870 --> 00:46:08,200
with them that in ways that are

1180
00:46:06,580 --> 00:46:11,160
increasingly repeatable and more

1181
00:46:08,200 --> 00:46:13,509
approachable by a greater audience and

1182
00:46:11,160 --> 00:46:14,920
wouldn't it be great to have a world

1183
00:46:13,510 --> 00:46:16,720
where these things are all designed to

1184
00:46:14,920 --> 00:46:18,370
work together these are not independent

1185
00:46:16,720 --> 00:46:20,080
tools but they are designed to be

1186
00:46:18,370 --> 00:46:22,240
tailored in a sort of a stacked and

1187
00:46:20,080 --> 00:46:24,009
additive way and wherever you can

1188
00:46:22,240 --> 00:46:26,589
contribute whether it's up here over

1189
00:46:24,010 --> 00:46:29,170
here you know the stack of these things

1190
00:46:26,590 --> 00:46:29,800
is getting more fleshed out hangs

1191
00:46:29,170 --> 00:46:31,930
together

1192
00:46:29,800 --> 00:46:34,330
it's a fewer set of things that

1193
00:46:31,930 --> 00:46:36,149
defenders need to learn in order to be

1194
00:46:34,330 --> 00:46:39,598
very effective

1195
00:46:36,150 --> 00:46:42,719
and so you know with that it's these

1196
00:46:39,599 --> 00:46:45,539
areas that I think by you know

1197
00:46:42,719 --> 00:46:47,160
harnessing the the enthusiasm the

1198
00:46:45,539 --> 00:46:49,049
knowledge the passion of the community

1199
00:46:47,160 --> 00:46:51,029
we can make a big difference and you

1200
00:46:49,049 --> 00:46:53,759
kind of go back to this quote and and

1201
00:46:51,029 --> 00:46:55,979
you can see if you do want to if you do

1202
00:46:53,759 --> 00:46:57,479
want to go far by having people work

1203
00:46:55,979 --> 00:46:59,009
together on this you see you will be

1204
00:46:57,479 --> 00:47:01,919
able to go far across the entire

1205
00:46:59,009 --> 00:47:03,209
community so with that thank you all for

1206
00:47:01,920 --> 00:47:04,630
listening to me today I'm very excited

1207
00:47:03,209 --> 00:47:11,118
to be here

1208
00:47:04,630 --> 00:47:11,119
[Applause]

