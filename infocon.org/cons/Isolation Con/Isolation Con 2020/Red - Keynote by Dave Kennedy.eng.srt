1
00:00:00,490 --> 00:00:01,909
[Music]

2
00:00:01,909 --> 00:00:04,230
okay we're good all right

3
00:00:04,230 --> 00:00:06,839
okay so thank you everyone for joining

4
00:00:06,839 --> 00:00:08,400
us on the red team track

5
00:00:08,400 --> 00:00:11,099
I'm delighted and and privileged

6
00:00:11,099 --> 00:00:14,099
actually to be able to introduce Dave

7
00:00:14,099 --> 00:00:16,980
Kennedy who's going to do a talk on red

8
00:00:16,980 --> 00:00:19,859
pill or the blue pill and Dave is a

9
00:00:19,859 --> 00:00:21,689
longtime friend of the many hats Club

10
00:00:21,689 --> 00:00:23,580
we've done some work in raising some

11
00:00:23,580 --> 00:00:25,859
money and after he kindly donated some

12
00:00:25,859 --> 00:00:28,019
derbycon tickets a couple years ago and

13
00:00:28,019 --> 00:00:29,849
of course he's be on our podcast and has

14
00:00:29,849 --> 00:00:31,279
been done some awesome work with us so

15
00:00:31,279 --> 00:00:34,590
Dave Kennedy thank you welcome and it's

16
00:00:34,590 --> 00:00:35,940
been a privilege to have you here

17
00:00:35,940 --> 00:00:40,649
the floor is yours I'm just messing with

18
00:00:40,649 --> 00:00:44,700
you now thanks for having me Stu and

19
00:00:44,700 --> 00:00:47,010
appreciate everybody at the many house

20
00:00:47,010 --> 00:00:48,840
club for for having me on here for what

21
00:00:48,840 --> 00:00:50,219
you're doing with isolation con this is

22
00:00:50,219 --> 00:00:53,010
really awesome great for the donations

23
00:00:53,010 --> 00:00:54,690
that you're doing the charity events I

24
00:00:54,690 --> 00:00:56,219
mean it's just incredible what you all

25
00:00:56,219 --> 00:00:58,140
have been able to accomplish so thanks

26
00:00:58,140 --> 00:00:59,640
again for having me I'm humbled to be

27
00:00:59,640 --> 00:01:01,620
here and thank you all for tuning in and

28
00:01:01,620 --> 00:01:04,379
listening to me talk today I'm just reef

29
00:01:04,379 --> 00:01:05,790
instructor myself my name is Dave

30
00:01:05,790 --> 00:01:07,290
Kennedy I've been in the security space

31
00:01:07,290 --> 00:01:09,780
now for 20 years 20 years sounds like a

32
00:01:09,780 --> 00:01:11,430
really long time I don't feel like I'm

33
00:01:11,430 --> 00:01:13,740
that old but I started off my career

34
00:01:13,740 --> 00:01:15,330
working for the military intelligence

35
00:01:15,330 --> 00:01:17,460
side got out and I was a chief security

36
00:01:17,460 --> 00:01:19,920
officer for a fortune 1000 company for a

37
00:01:19,920 --> 00:01:21,720
number of years and then I started my

38
00:01:21,720 --> 00:01:24,000
own two companies trusted second buying

39
00:01:24,000 --> 00:01:26,009
air defense then we have folks all over

40
00:01:26,009 --> 00:01:27,390
the all over the globe now we have folks

41
00:01:27,390 --> 00:01:30,659
in the UK and in Australia in Norway

42
00:01:30,659 --> 00:01:32,850
that's pretty cool to see how we've all

43
00:01:32,850 --> 00:01:34,560
kind of grown and expanded and just a

44
00:01:34,560 --> 00:01:36,720
great group of folks I'm the author of

45
00:01:36,720 --> 00:01:38,970
the social engineer toolkit the magic

46
00:01:38,970 --> 00:01:40,890
unicorn contesters framework I like to

47
00:01:40,890 --> 00:01:43,710
do a lot of open source projects and I'm

48
00:01:43,710 --> 00:01:45,360
on the news quite frequently most these

49
00:01:45,360 --> 00:01:46,590
pictures that you see here I'm not

50
00:01:46,590 --> 00:01:48,990
wearing pants in I prefer to - I'm at

51
00:01:48,990 --> 00:01:50,939
wearing pants right now and it's just

52
00:01:50,939 --> 00:01:52,560
the way that I can stay comfortable and

53
00:01:52,560 --> 00:01:55,229
continue to present but I've really

54
00:01:55,229 --> 00:01:56,369
appreciated by talking about coming in

55
00:01:56,369 --> 00:02:00,540
today talk talk today so the red versus

56
00:02:00,540 --> 00:02:04,079
blue pill when when you look at how the

57
00:02:04,079 --> 00:02:06,180
industry has has really changed over the

58
00:02:06,180 --> 00:02:07,259
past few years and I'm going to show you

59
00:02:07,259 --> 00:02:09,360
some you know I'd like to keep my talks

60
00:02:09,360 --> 00:02:12,270
a combination of both for thinking but

61
00:02:12,270 --> 00:02:12,970
also to

62
00:02:12,970 --> 00:02:15,250
also live demonstrations and things like

63
00:02:15,250 --> 00:02:17,470
that throughout this presentation but

64
00:02:17,470 --> 00:02:19,450
one thing that that you know that's

65
00:02:19,450 --> 00:02:21,430
changed quite a bit is that you know

66
00:02:21,430 --> 00:02:23,230
over the past few years when you go back

67
00:02:23,230 --> 00:02:27,040
10 years or our way that we look at how

68
00:02:27,040 --> 00:02:29,830
we attack organizations has changed our

69
00:02:29,830 --> 00:02:31,720
techniques have changed it's no longer

70
00:02:31,720 --> 00:02:33,490
you know as easy as it was before in

71
00:02:33,490 --> 00:02:34,810
many cases some companies are still

72
00:02:34,810 --> 00:02:37,000
still very easy but the big thing that

73
00:02:37,000 --> 00:02:39,790
happened about five years ago five to

74
00:02:39,790 --> 00:02:41,830
six years ago is that our mentality

75
00:02:41,830 --> 00:02:44,410
around how we look at at organizations

76
00:02:44,410 --> 00:02:47,020
being compromised changed every

77
00:02:47,020 --> 00:02:48,430
organization probably has a vomiting

78
00:02:48,430 --> 00:02:49,810
management program at least most of them

79
00:02:49,810 --> 00:02:51,910
do and that bony management program is

80
00:02:51,910 --> 00:02:53,920
far from perfect most companies are

81
00:02:53,920 --> 00:02:55,240
still just looking at the network and

82
00:02:55,240 --> 00:02:57,490
operating system layer little little to

83
00:02:57,490 --> 00:02:58,870
no visibility in the middleware and

84
00:02:58,870 --> 00:03:01,030
application tier some companies do some

85
00:03:01,030 --> 00:03:02,530
companies don't most of them don't and

86
00:03:02,530 --> 00:03:04,330
so you look at that and you say well do

87
00:03:04,330 --> 00:03:05,260
you have a good understanding of your

88
00:03:05,260 --> 00:03:06,820
assets your new technologies coming

89
00:03:06,820 --> 00:03:08,200
place and I always make the joke and I'm

90
00:03:08,200 --> 00:03:10,120
presenting live is does everybody here

91
00:03:10,120 --> 00:03:11,890
know all the applications in their

92
00:03:11,890 --> 00:03:13,930
environment what they do it's it's it's

93
00:03:13,930 --> 00:03:15,250
important to the business the

94
00:03:15,250 --> 00:03:16,810
information that's contained on there or

95
00:03:16,810 --> 00:03:18,190
new pieces of technology that are being

96
00:03:18,190 --> 00:03:19,420
introduced in your environment every day

97
00:03:19,420 --> 00:03:21,370
and usually the audience last because

98
00:03:21,370 --> 00:03:23,440
you know technology moves as such a

99
00:03:23,440 --> 00:03:25,209
rapid rate within our organization that

100
00:03:25,209 --> 00:03:27,580
getting a handle on on that with the

101
00:03:27,580 --> 00:03:29,080
amount of resources that we typically

102
00:03:29,080 --> 00:03:31,570
have in security is very difficult to

103
00:03:31,570 --> 00:03:33,610
accomplish even an IT you know you know

104
00:03:33,610 --> 00:03:35,230
shadow rogue IT groups out there you

105
00:03:35,230 --> 00:03:37,630
have you know different business units

106
00:03:37,630 --> 00:03:39,850
person and cloud applications there's a

107
00:03:39,850 --> 00:03:42,190
lot of data flying all around and our

108
00:03:42,190 --> 00:03:43,930
ability to control that is really

109
00:03:43,930 --> 00:03:45,640
difficult I'd like to look back about

110
00:03:45,640 --> 00:03:47,290
ten years ago when our whole mentality

111
00:03:47,290 --> 00:03:49,090
before we really pushed forward to the

112
00:03:49,090 --> 00:03:51,610
cloud we were still using cloud services

113
00:03:51,610 --> 00:03:54,400
just called something different was more

114
00:03:54,400 --> 00:03:56,050
so about building a castle mentality

115
00:03:56,050 --> 00:03:58,030
right having the heavily fortified walls

116
00:03:58,030 --> 00:03:59,890
and archers and draw bridges you know

117
00:03:59,890 --> 00:04:02,350
our DMZ s to protect against attackers

118
00:04:02,350 --> 00:04:04,110
compromising our our internal network

119
00:04:04,110 --> 00:04:06,820
and that was that was an okay mentality

120
00:04:06,820 --> 00:04:08,769
the problem is is that you know we still

121
00:04:08,769 --> 00:04:10,900
left our windows open our doors open our

122
00:04:10,900 --> 00:04:12,760
drawbridge is Ropin and then we move to

123
00:04:12,760 --> 00:04:14,350
the cloud and then we moved to BYOD and

124
00:04:14,350 --> 00:04:15,580
all these other things that started to

125
00:04:15,580 --> 00:04:17,798
occur and all this stuff just opened

126
00:04:17,798 --> 00:04:20,168
wide up and and now we have an attack

127
00:04:20,168 --> 00:04:21,760
surface that spans not just our our

128
00:04:21,760 --> 00:04:24,250
internal network or our DMZ or our

129
00:04:24,250 --> 00:04:26,680
perimeter devices it also spans out to

130
00:04:26,680 --> 00:04:28,419
infrastructure expands out to our users

131
00:04:28,419 --> 00:04:30,729
look at work from home I was just doing

132
00:04:30,729 --> 00:04:32,860
an assessment the other day doing a red

133
00:04:32,860 --> 00:04:35,320
team engagement and what was really easy

134
00:04:35,320 --> 00:04:38,050
to identify as we had we were going

135
00:04:38,050 --> 00:04:39,310
through and we did some open source

136
00:04:39,310 --> 00:04:40,810
intelligence gathering we found

137
00:04:40,810 --> 00:04:42,910
legitimate credentials were able to

138
00:04:42,910 --> 00:04:45,340
brute force through office 265 to find

139
00:04:45,340 --> 00:04:47,410
legitimate credentials and this company

140
00:04:47,410 --> 00:04:49,960
when he had tested him last year had

141
00:04:49,960 --> 00:04:51,340
two-factor authentication over there

142
00:04:51,340 --> 00:04:54,370
Citrix environment and so we you know we

143
00:04:54,370 --> 00:04:55,660
were kind of poking around trying to

144
00:04:55,660 --> 00:04:56,800
figure where we could use credentials

145
00:04:56,800 --> 00:04:59,229
without two-factor authentication and we

146
00:04:59,229 --> 00:05:00,699
just decided no with previous knowledge

147
00:05:00,699 --> 00:05:02,680
you know hey we probably shouldn't test

148
00:05:02,680 --> 00:05:04,960
the right away.the the Citrix

149
00:05:04,960 --> 00:05:05,770
environment for two-factor

150
00:05:05,770 --> 00:05:06,729
authentication because we already know

151
00:05:06,729 --> 00:05:08,169
that it has it in the first place and

152
00:05:08,169 --> 00:05:10,090
what was interesting is a you know we're

153
00:05:10,090 --> 00:05:11,169
sort of poking around over websites

154
00:05:11,169 --> 00:05:13,060
trying to find application flaws and we

155
00:05:13,060 --> 00:05:14,620
just decided you know hey we're at a

156
00:05:14,620 --> 00:05:16,479
point now we want to test the Citrix

157
00:05:16,479 --> 00:05:17,889
login so we bought it with Citrix and

158
00:05:17,889 --> 00:05:20,380
because they had to go to a work from

159
00:05:20,380 --> 00:05:22,479
home strategy and it was too complex for

160
00:05:22,479 --> 00:05:23,740
all of their users they removed

161
00:05:23,740 --> 00:05:25,509
two-factor authentication and all of

162
00:05:25,509 --> 00:05:27,280
them had Citrix provisioned desktops or

163
00:05:27,280 --> 00:05:28,930
assets that we were able to authenticate

164
00:05:28,930 --> 00:05:30,970
to and essentially have full desktop

165
00:05:30,970 --> 00:05:32,650
access to their internal network and

166
00:05:32,650 --> 00:05:34,270
network segmentation was a problem as

167
00:05:34,270 --> 00:05:35,800
well and we were able to ultimately

168
00:05:35,800 --> 00:05:37,510
compromise them because of this specific

169
00:05:37,510 --> 00:05:40,360
area so data is all around and we know

170
00:05:40,360 --> 00:05:42,220
that in our enterprise in our

171
00:05:42,220 --> 00:05:44,260
organizations we're gonna have four

172
00:05:44,260 --> 00:05:45,520
abilities and exposures that attackers

173
00:05:45,520 --> 00:05:47,080
can exploit whether that's through a

174
00:05:47,080 --> 00:05:48,520
human being whether that's for through

175
00:05:48,520 --> 00:05:51,820
phishing code execution or a application

176
00:05:51,820 --> 00:05:53,289
that we didn't secure whether it has

177
00:05:53,289 --> 00:05:55,150
sequel injection or you know remote

178
00:05:55,150 --> 00:05:57,310
command execution we there's a lot of

179
00:05:57,310 --> 00:05:59,979
plethora of things that we try to do the

180
00:05:59,979 --> 00:06:01,990
best that we can to address them but

181
00:06:01,990 --> 00:06:03,370
it's not a perfect system we're never

182
00:06:03,370 --> 00:06:05,320
gonna have a perfect ecosystem where we

183
00:06:05,320 --> 00:06:06,940
have no vulnerabilities or exposures

184
00:06:06,940 --> 00:06:08,949
another good example the past twelve

185
00:06:08,949 --> 00:06:10,990
cloud security engagements I've been on

186
00:06:10,990 --> 00:06:13,090
I've compromised eleven of them and it's

187
00:06:13,090 --> 00:06:14,349
usually due to complete miss

188
00:06:14,349 --> 00:06:15,550
configuration management and not

189
00:06:15,550 --> 00:06:17,530
understanding how cloud infrastructure

190
00:06:17,530 --> 00:06:18,909
is actually set up or how to manage it

191
00:06:18,909 --> 00:06:20,680
or maintain it and so again we're gonna

192
00:06:20,680 --> 00:06:22,840
have these exposures out there ten years

193
00:06:22,840 --> 00:06:24,250
ago I remember going in and doing a

194
00:06:24,250 --> 00:06:26,229
penetration test to offer for a company

195
00:06:26,229 --> 00:06:27,580
or for all companies that I did

196
00:06:27,580 --> 00:06:30,130
assessments for and you go in and you

197
00:06:30,130 --> 00:06:32,409
try to communicate to them that hey the

198
00:06:32,409 --> 00:06:33,849
the vulnerabilities themselves are

199
00:06:33,849 --> 00:06:34,719
important should you should address

200
00:06:34,719 --> 00:06:37,000
those but you should also look at how

201
00:06:37,000 --> 00:06:39,380
how we got in what we did

202
00:06:39,380 --> 00:06:40,790
ask them and that was really hard for

203
00:06:40,790 --> 00:06:42,320
companies to really understand because

204
00:06:42,320 --> 00:06:43,760
you know they're like well we have this

205
00:06:43,760 --> 00:06:45,290
buffer overflow here we have the sequel

206
00:06:45,290 --> 00:06:46,610
injection here we have you know an

207
00:06:46,610 --> 00:06:48,620
Apache Tomcat instance these people over

208
00:06:48,620 --> 00:06:50,630
here we have no sequel credential over

209
00:06:50,630 --> 00:06:52,520
here all of these things are things that

210
00:06:52,520 --> 00:06:54,890
we have to address and patch so they

211
00:06:54,890 --> 00:06:56,300
would go ahead and patch it and then the

212
00:06:56,300 --> 00:06:57,590
next year we'd come in and just destroy

213
00:06:57,590 --> 00:06:58,670
them a different way because they would

214
00:06:58,670 --> 00:07:00,290
have you know another vulnerability or

215
00:07:00,290 --> 00:07:01,340
another exposure in a different area

216
00:07:01,340 --> 00:07:03,170
that had transpired over that past year

217
00:07:03,170 --> 00:07:05,540
and so companies were really focusing on

218
00:07:05,540 --> 00:07:07,940
remediate the findings of the technical

219
00:07:07,940 --> 00:07:09,350
issues that are identified during these

220
00:07:09,350 --> 00:07:11,720
simulations and what's really changed

221
00:07:11,720 --> 00:07:13,460
and this is why no County you look at

222
00:07:13,460 --> 00:07:15,650
the evolution of red teaming and why red

223
00:07:15,650 --> 00:07:17,480
and blue working together is such an

224
00:07:17,480 --> 00:07:19,760
important concept is that when you look

225
00:07:19,760 --> 00:07:23,720
at what what it what has has distinctly

226
00:07:23,720 --> 00:07:26,300
changed is that we recognize as an

227
00:07:26,300 --> 00:07:28,400
industry in where communicating is

228
00:07:28,400 --> 00:07:30,080
better now that we will have

229
00:07:30,080 --> 00:07:31,580
vulnerabilities and exposures whether

230
00:07:31,580 --> 00:07:33,320
it's a human being or as a technical

231
00:07:33,320 --> 00:07:35,330
vulnerability we will have specific

232
00:07:35,330 --> 00:07:37,270
exposures there's no question about that

233
00:07:37,270 --> 00:07:39,770
what happens in the event that that does

234
00:07:39,770 --> 00:07:41,480
occur then an attacker exploits a

235
00:07:41,480 --> 00:07:42,890
weaknesses or gets around a preventive

236
00:07:42,890 --> 00:07:45,050
controls or hits us with an O'Day or

237
00:07:45,050 --> 00:07:46,880
hits us with a user account and they get

238
00:07:46,880 --> 00:07:48,830
around our antivirus or EDR products

239
00:07:48,830 --> 00:07:51,650
what happens at that point in time and

240
00:07:51,650 --> 00:07:52,790
when you look at these large breaches

241
00:07:52,790 --> 00:07:54,410
you look at the Marriott Starwood data

242
00:07:54,410 --> 00:07:56,150
breach that that's banned for multiple

243
00:07:56,150 --> 00:07:57,620
years and you look at these breaches

244
00:07:57,620 --> 00:07:58,730
they're lasting several months to

245
00:07:58,730 --> 00:08:00,890
several years before they actually

246
00:08:00,890 --> 00:08:03,020
identify and attackers on the system and

247
00:08:03,020 --> 00:08:05,120
so our view really changed in the sense

248
00:08:05,120 --> 00:08:06,830
of instead of looking at it from the

249
00:08:06,830 --> 00:08:08,810
initial access when a it when a when a

250
00:08:08,810 --> 00:08:10,520
attacker circumvents all of our

251
00:08:10,520 --> 00:08:11,870
technology that we have in place to

252
00:08:11,870 --> 00:08:14,330
protect let's look at all the phases of

253
00:08:14,330 --> 00:08:16,460
an attack everything from initial access

254
00:08:16,460 --> 00:08:17,660
alway to things like privileged

255
00:08:17,660 --> 00:08:20,270
escalation or getting credentials off of

256
00:08:20,270 --> 00:08:22,430
a system moving to lateral movement post

257
00:08:22,430 --> 00:08:24,200
exploitation scenarios exploitation of

258
00:08:24,200 --> 00:08:25,790
data and start to build either

259
00:08:25,790 --> 00:08:28,130
preventative controls or detective

260
00:08:28,130 --> 00:08:30,290
controls in those individual areas so

261
00:08:30,290 --> 00:08:30,680
again

262
00:08:30,680 --> 00:08:32,390
spanning the lifecycle of an attack

263
00:08:32,390 --> 00:08:34,580
because you recognize an attacker is

264
00:08:34,580 --> 00:08:36,559
typically going to follow a number of

265
00:08:36,559 --> 00:08:38,059
steps to get access to the data they

266
00:08:38,059 --> 00:08:40,070
need so by compromised Bob and sales

267
00:08:40,070 --> 00:08:42,260
Robin sales doesn't typically have the

268
00:08:42,260 --> 00:08:44,570
the level of access that I need or the

269
00:08:44,570 --> 00:08:46,130
level of data that I need for my

270
00:08:46,130 --> 00:08:47,510
specific objective whether that's

271
00:08:47,510 --> 00:08:49,040
ransomware and getting to the backups

272
00:08:49,040 --> 00:08:50,870
whether that's you know organized crime

273
00:08:50,870 --> 00:08:52,100
and getting access to intellectual

274
00:08:52,100 --> 00:08:53,750
property or other things whether that's

275
00:08:53,750 --> 00:08:55,310
you know nation-states and going after

276
00:08:55,310 --> 00:08:57,290
your trade secrets or communications

277
00:08:57,290 --> 00:08:59,329
whatever ends up being the objectives

278
00:08:59,329 --> 00:09:01,040
that we have to accomplish from an

279
00:09:01,040 --> 00:09:02,870
attackers perspective are usually

280
00:09:02,870 --> 00:09:05,269
nodding the initial foothold stage when

281
00:09:05,269 --> 00:09:07,699
we actually compromise so our mindset

282
00:09:07,699 --> 00:09:09,769
shift shifted saying we're gonna have

283
00:09:09,769 --> 00:09:11,149
one of those we're never exposures let's

284
00:09:11,149 --> 00:09:13,100
look at how we can detect or prevent

285
00:09:13,100 --> 00:09:14,930
specific attacks throughout the entire

286
00:09:14,930 --> 00:09:17,269
lifecycle of an attack and minimize the

287
00:09:17,269 --> 00:09:18,949
amount of damage and time and attacker

288
00:09:18,949 --> 00:09:20,750
has in our environment and that's huge

289
00:09:20,750 --> 00:09:22,009
or not I'll explain why in a little bit

290
00:09:22,009 --> 00:09:25,430
and so the current industry problem that

291
00:09:25,430 --> 00:09:28,430
we have is that we did we did focus and

292
00:09:28,430 --> 00:09:30,230
change our focus due to post

293
00:09:30,230 --> 00:09:32,480
exploitation scenarios but the way that

294
00:09:32,480 --> 00:09:34,190
we're doing it now is a little bit

295
00:09:34,190 --> 00:09:36,319
concerning when you look at something

296
00:09:36,319 --> 00:09:37,670
like the mitre attack framework which

297
00:09:37,670 --> 00:09:39,319
I'm a huge fan of I think mitre is a

298
00:09:39,319 --> 00:09:41,680
phenomenal resource I think looking at

299
00:09:41,680 --> 00:09:44,329
you know needs a buzzword here and I

300
00:09:44,329 --> 00:09:46,130
only have water to drink so I can't

301
00:09:46,130 --> 00:09:49,370
drink alcohol but you know when you look

302
00:09:49,370 --> 00:09:51,920
at the kill chain every phase of the

303
00:09:51,920 --> 00:09:53,269
attack has a number of techniques

304
00:09:53,269 --> 00:09:54,740
associated to it right and that's how

305
00:09:54,740 --> 00:09:56,029
they break it on a minor mitre was

306
00:09:56,029 --> 00:09:58,040
really the first standard that took

307
00:09:58,040 --> 00:10:00,980
specific techniques and visualize them

308
00:10:00,980 --> 00:10:02,509
in a way that allows us to break out

309
00:10:02,509 --> 00:10:04,040
different phases of an attack and what

310
00:10:04,040 --> 00:10:06,350
our coverages are in those individual

311
00:10:06,350 --> 00:10:07,250
areas and that was that was

312
00:10:07,250 --> 00:10:09,560
revolutionary to change the mindsets a

313
00:10:09,560 --> 00:10:11,300
lot of people were talking about it for

314
00:10:11,300 --> 00:10:13,279
a while but no one actually did it and

315
00:10:13,279 --> 00:10:15,019
actually put the techniques to different

316
00:10:15,019 --> 00:10:17,000
phases that allows us to look at how

317
00:10:17,000 --> 00:10:18,980
effective our coverages are now it's far

318
00:10:18,980 --> 00:10:20,420
from perfect right I mean not every

319
00:10:20,420 --> 00:10:21,769
single technique is in there and it's

320
00:10:21,769 --> 00:10:24,139
not its intent its intent is really to

321
00:10:24,139 --> 00:10:25,459
build you out a framework that you can

322
00:10:25,459 --> 00:10:26,509
use in your environment where you

323
00:10:26,509 --> 00:10:28,069
continuously add on to it you have

324
00:10:28,069 --> 00:10:29,329
different sources you build new things

325
00:10:29,329 --> 00:10:33,139
into it but I'm reminded by a talk that

326
00:10:33,139 --> 00:10:35,720
Jeff Moss gave at blackhat Def Con a few

327
00:10:35,720 --> 00:10:37,699
years ago so two years ago and right

328
00:10:37,699 --> 00:10:39,410
before he introduced a keynote at

329
00:10:39,410 --> 00:10:41,600
blackhat he said something that really

330
00:10:41,600 --> 00:10:43,370
resonated with me and I and I completely

331
00:10:43,370 --> 00:10:45,560
agree with you said that as an industry

332
00:10:45,560 --> 00:10:48,259
we talk about the tactics techniques and

333
00:10:48,259 --> 00:10:49,610
procedures of attackers all time we'd

334
00:10:49,610 --> 00:10:51,410
say we're looking for the TTP if you're

335
00:10:51,410 --> 00:10:53,149
looking for these TTP's look at HTTP

336
00:10:53,149 --> 00:10:55,730
what what you're really referencing and

337
00:10:55,730 --> 00:10:56,870
talking about is you're looking for the

338
00:10:56,870 --> 00:10:58,189
techniques and that's all you're looking

339
00:10:58,189 --> 00:11:00,620
for is the techniques we've become a

340
00:11:00,620 --> 00:11:02,540
technique driven industry and what that

341
00:11:02,540 --> 00:11:06,110
means is that we're literally the 1990s

342
00:11:06,110 --> 00:11:07,970
the statics signature-based antivirus

343
00:11:07,970 --> 00:11:09,650
four techniques where essentially

344
00:11:09,650 --> 00:11:12,050
crowdsourcing signatures of new

345
00:11:12,050 --> 00:11:13,640
techniques that we see out in the wild

346
00:11:13,640 --> 00:11:16,430
and it's very specific and it's very

347
00:11:16,430 --> 00:11:18,440
granular of what we're looking for and

348
00:11:18,440 --> 00:11:20,360
what that means is that in order for us

349
00:11:20,360 --> 00:11:21,860
to circumvent that our get around it

350
00:11:21,860 --> 00:11:24,440
it's usually pretty pretty trivial and

351
00:11:24,440 --> 00:11:25,790
I'll show you some examples of this here

352
00:11:25,790 --> 00:11:27,710
just a little bit but our industry is

353
00:11:27,710 --> 00:11:29,450
really focused on techniques it's not

354
00:11:29,450 --> 00:11:31,520
focused on the tactics or procedures of

355
00:11:31,520 --> 00:11:34,190
attackers and we talk about tactics of

356
00:11:34,190 --> 00:11:35,540
attackers we're talking about the

357
00:11:35,540 --> 00:11:37,940
behavior of attackers how attackers go

358
00:11:37,940 --> 00:11:39,830
after an organization how they

359
00:11:39,830 --> 00:11:41,690
compromised an organization and the

360
00:11:41,690 --> 00:11:43,430
methods that they operate by in order to

361
00:11:43,430 --> 00:11:45,770
accomplish that and in the problem with

362
00:11:45,770 --> 00:11:47,870
behavior is that it's noisy it requires

363
00:11:47,870 --> 00:11:49,670
people you can't have a product that

364
00:11:49,670 --> 00:11:50,990
does it you know it's great is that we

365
00:11:50,990 --> 00:11:52,340
have all these EDR products out there

366
00:11:52,340 --> 00:11:53,900
today that cover a lot of these

367
00:11:53,900 --> 00:11:55,100
techniques that we see out there again

368
00:11:55,100 --> 00:11:57,470
crowdsource techniques that we see out

369
00:11:57,470 --> 00:11:59,030
there again but if an attacker modifies

370
00:11:59,030 --> 00:12:01,400
or manipulates or changes these types of

371
00:12:01,400 --> 00:12:03,020
techniques in any way shape or form they

372
00:12:03,020 --> 00:12:04,760
usually circumvent the detection

373
00:12:04,760 --> 00:12:06,560
criteria that you have in place and

374
00:12:06,560 --> 00:12:08,330
that's a problem because as attackers

375
00:12:08,330 --> 00:12:09,980
get more sophisticated as attackers

376
00:12:09,980 --> 00:12:11,840
change your techniques as it Sacre

377
00:12:11,840 --> 00:12:13,430
streams our tactics the behavior that

378
00:12:13,430 --> 00:12:16,220
they operate by that will continuously

379
00:12:16,220 --> 00:12:18,500
make it very difficult for defenders to

380
00:12:18,500 --> 00:12:20,270
identify things by automation products

381
00:12:20,270 --> 00:12:22,100
or products in general now don't get me

382
00:12:22,100 --> 00:12:23,810
wrong a lot of edr products you can

383
00:12:23,810 --> 00:12:25,610
ingest as much data as you want to in

384
00:12:25,610 --> 00:12:27,140
you actually have to have somebody that

385
00:12:27,140 --> 00:12:29,210
intelligently goes through them to look

386
00:12:29,210 --> 00:12:30,920
for weird indicators of compromises

387
00:12:30,920 --> 00:12:32,780
again like a good example would be

388
00:12:32,780 --> 00:12:34,670
PowerShell exploitation PowerShell

389
00:12:34,670 --> 00:12:36,100
exploitation is probably one of the most

390
00:12:36,100 --> 00:12:38,180
used things that we see out there today

391
00:12:38,180 --> 00:12:40,700
from an attackers perspective again you

392
00:12:40,700 --> 00:12:41,870
know for companies that they're doing

393
00:12:41,870 --> 00:12:43,400
good on minor detection we've always you

394
00:12:43,400 --> 00:12:44,420
know we've shifted towards living off

395
00:12:44,420 --> 00:12:46,490
the land or you know c-sharp is an

396
00:12:46,490 --> 00:12:48,410
exploitation Avenue but PowerShell is

397
00:12:48,410 --> 00:12:49,820
still very effective in a number of

398
00:12:49,820 --> 00:12:51,200
different organizations because getting

399
00:12:51,200 --> 00:12:53,180
that log data and tell to be going

400
00:12:53,180 --> 00:12:55,220
through them is really challenging a lot

401
00:12:55,220 --> 00:12:56,120
of companies will look for things like

402
00:12:56,120 --> 00:12:58,700
encoded command or you know invoke

403
00:12:58,700 --> 00:13:01,070
expression or curl through to dll or

404
00:13:01,070 --> 00:13:02,360
virtual Alec or things like that that

405
00:13:02,360 --> 00:13:04,400
are gonna be executed that are malicious

406
00:13:04,400 --> 00:13:06,650
but if I have a manipulator change my

407
00:13:06,650 --> 00:13:07,850
code so I'm not calling them in the

408
00:13:07,850 --> 00:13:09,380
first place right I fee skate how I'm

409
00:13:09,380 --> 00:13:11,240
calling them we usually go largely

410
00:13:11,240 --> 00:13:13,220
undetected you know when I talk about

411
00:13:13,220 --> 00:13:15,290
behavior and PowerShell think of this as

412
00:13:15,290 --> 00:13:18,590
an example why not take your environment

413
00:13:18,590 --> 00:13:19,990
this takes work and it takes people

414
00:13:19,990 --> 00:13:22,030
but why not take your environment and

415
00:13:22,030 --> 00:13:24,070
baseline your power cell traffic for any

416
00:13:24,070 --> 00:13:25,870
time that PowerShell communicates out to

417
00:13:25,870 --> 00:13:27,520
the internet anytime that power cut

418
00:13:27,520 --> 00:13:29,050
coming keeps up the era now you're gonna

419
00:13:29,050 --> 00:13:30,730
be like whoa whoa you know a whole bunch

420
00:13:30,730 --> 00:13:31,780
of stuff connects out to the Internet

421
00:13:31,780 --> 00:13:34,030
via power shop yeah absolutely right why

422
00:13:34,030 --> 00:13:35,860
not deviate wouldn't look for deviations

423
00:13:35,860 --> 00:13:37,840
say well this is normal traffic so we're

424
00:13:37,840 --> 00:13:39,010
gonna whitelist this because we know

425
00:13:39,010 --> 00:13:40,930
it's legitimate and this is not you know

426
00:13:40,930 --> 00:13:42,160
normal traffic and we're gonna look for

427
00:13:42,160 --> 00:13:43,360
these in our environment and you start

428
00:13:43,360 --> 00:13:45,310
to whittle down the amount of space that

429
00:13:45,310 --> 00:13:46,690
you're taking the amount of logs you're

430
00:13:46,690 --> 00:13:48,220
looking through in order to get to a

431
00:13:48,220 --> 00:13:49,990
baseline and that baseline is really

432
00:13:49,990 --> 00:13:51,820
important understanding your network and

433
00:13:51,820 --> 00:13:54,520
what's what's really frustrating is that

434
00:13:54,520 --> 00:13:55,840
you know most companies still have an

435
00:13:55,840 --> 00:13:57,250
implemented application control or

436
00:13:57,250 --> 00:13:58,840
application whitelisting because it's

437
00:13:58,840 --> 00:14:01,030
hard it takes time it takes a lot of

438
00:14:01,030 --> 00:14:03,070
effort and what's interesting about that

439
00:14:03,070 --> 00:14:05,680
is you know we really suck in in general

440
00:14:05,680 --> 00:14:07,870
and companies not not security but just

441
00:14:07,870 --> 00:14:09,640
in general about standardizing our

442
00:14:09,640 --> 00:14:11,650
configuration management how do you

443
00:14:11,650 --> 00:14:13,600
standardize you know your applications

444
00:14:13,600 --> 00:14:15,250
and then have an approval process for

445
00:14:15,250 --> 00:14:18,250
deviations application control by far is

446
00:14:18,250 --> 00:14:19,870
probably one of the most effective ways

447
00:14:19,870 --> 00:14:21,820
at combating the majority of the noise

448
00:14:21,820 --> 00:14:23,590
that we see out there should a regular

449
00:14:23,590 --> 00:14:25,480
user that is not a developer that is not

450
00:14:25,480 --> 00:14:27,160
an IT that doesn't have any reason to

451
00:14:27,160 --> 00:14:28,720
have a full-fledged programming language

452
00:14:28,720 --> 00:14:30,220
at their fingertips should they even be

453
00:14:30,220 --> 00:14:31,630
able to access virus on the first place

454
00:14:31,630 --> 00:14:34,090
is it necessary it's not necessary to

455
00:14:34,090 --> 00:14:35,410
run the operating system if from a

456
00:14:35,410 --> 00:14:37,420
regular user context that'll be run by

457
00:14:37,420 --> 00:14:39,520
the operating system itself so can we

458
00:14:39,520 --> 00:14:41,560
block PowerShell to regular users that

459
00:14:41,560 --> 00:14:43,090
don't need it and it's not a knock on

460
00:14:43,090 --> 00:14:44,470
PowerShell PowerShell is amazing it's

461
00:14:44,470 --> 00:14:45,880
probably one of the most secure

462
00:14:45,880 --> 00:14:47,440
programming languages that is out there

463
00:14:47,440 --> 00:14:49,420
if you apply things like constrain

464
00:14:49,420 --> 00:14:51,160
language mode and you know lock it down

465
00:14:51,160 --> 00:14:52,210
appropriately you have things like

466
00:14:52,210 --> 00:14:53,920
script lock login place which is an

467
00:14:53,920 --> 00:14:56,680
insane amount of data and so you look at

468
00:14:56,680 --> 00:14:57,700
that you say well can I reduce my

469
00:14:57,700 --> 00:14:59,050
attacks or if it's no different than

470
00:14:59,050 --> 00:15:00,490
what we're doing anywhere else

471
00:15:00,490 --> 00:15:03,640
from how users install applications you

472
00:15:03,640 --> 00:15:05,260
know living off the land you know just

473
00:15:05,260 --> 00:15:06,910
as a regular user really need to use

474
00:15:06,910 --> 00:15:09,670
MSHDA TXE the answer status typically no

475
00:15:09,670 --> 00:15:12,130
so again you know baselining our

476
00:15:12,130 --> 00:15:13,750
environment and understanding our

477
00:15:13,750 --> 00:15:15,640
behavior and deviations that they

478
00:15:15,640 --> 00:15:17,260
behavior if you look at some there's a

479
00:15:17,260 --> 00:15:19,780
concept called a long tail and the long

480
00:15:19,780 --> 00:15:23,920
tail I did a talk with a person from the

481
00:15:23,920 --> 00:15:26,140
FBI and agent over the FBI Ryan but from

482
00:15:26,140 --> 00:15:27,820
that I gave a talk a number of years ago

483
00:15:27,820 --> 00:15:30,010
this is like 15 years ago we gave his

484
00:15:30,010 --> 00:15:32,230
talk and it was it's talking about the

485
00:15:32,230 --> 00:15:33,180
concept of

486
00:15:33,180 --> 00:15:34,590
all of your your high hanging fruit

487
00:15:34,590 --> 00:15:36,090
stuff here your normal traffic's and be

488
00:15:36,090 --> 00:15:38,280
pretty noisy in the larger part of the

489
00:15:38,280 --> 00:15:39,930
tale when you start getting down to the

490
00:15:39,930 --> 00:15:41,730
smaller part of the tail the part that's

491
00:15:41,730 --> 00:15:43,440
that's much much smaller you can start

492
00:15:43,440 --> 00:15:45,090
to look for those deviations of patterns

493
00:15:45,090 --> 00:15:47,670
of behavior and again from a detective

494
00:15:47,670 --> 00:15:49,470
perspective that is really critical

495
00:15:49,470 --> 00:15:50,760
right now because again if we manipulate

496
00:15:50,760 --> 00:15:53,340
or change our stuff you know the the the

497
00:15:53,340 --> 00:15:54,600
things that you look for when you google

498
00:15:54,600 --> 00:15:57,390
register are 30 are MSHDA I would hope

499
00:15:57,390 --> 00:15:58,560
your products detect those types of

500
00:15:58,560 --> 00:16:00,150
things but if I manipulate or change

501
00:16:00,150 --> 00:16:01,860
that how are you identifying those edge

502
00:16:01,860 --> 00:16:03,900
cases in your environment where things

503
00:16:03,900 --> 00:16:06,270
would never typically be detected and

504
00:16:06,270 --> 00:16:07,200
again we'll talk about some of that as

505
00:16:07,200 --> 00:16:10,740
we go along most companies don't

506
00:16:10,740 --> 00:16:12,150
understand where their program

507
00:16:12,150 --> 00:16:15,270
maturities at and I'll talk about why

508
00:16:15,270 --> 00:16:16,740
you need threat modeling and why that's

509
00:16:16,740 --> 00:16:20,070
important but most companies focusing on

510
00:16:20,070 --> 00:16:22,680
monitoring detection is probably one of

511
00:16:22,680 --> 00:16:24,840
the most important pieces and and I'm a

512
00:16:24,840 --> 00:16:27,180
huge fan of threat hunting I think that

513
00:16:27,180 --> 00:16:28,740
that was really our missing link when it

514
00:16:28,740 --> 00:16:30,300
came to our security operation centers

515
00:16:30,300 --> 00:16:32,310
we look at threat hunting laws trend to

516
00:16:32,310 --> 00:16:33,720
accomplish it's it's assuming that we're

517
00:16:33,720 --> 00:16:35,280
already breached rights assuming that we

518
00:16:35,280 --> 00:16:36,180
already have an attack on our

519
00:16:36,180 --> 00:16:38,610
environment and what's interesting about

520
00:16:38,610 --> 00:16:40,350
threat hunting is that our security

521
00:16:40,350 --> 00:16:43,830
operation centers typically would stay

522
00:16:43,830 --> 00:16:46,620
stagnant you'd have commodity alarms 90%

523
00:16:46,620 --> 00:16:48,030
of them 95 percent of them are false

524
00:16:48,030 --> 00:16:50,550
positives alarm fatigue sets in all

525
00:16:50,550 --> 00:16:51,750
these things that were happening on a

526
00:16:51,750 --> 00:16:53,910
regular basis with threat hunting we're

527
00:16:53,910 --> 00:16:55,470
looking at sources like threat

528
00:16:55,470 --> 00:16:56,880
intelligence we're looking at things

529
00:16:56,880 --> 00:16:57,870
that are happening in the wall we're

530
00:16:57,870 --> 00:16:59,490
looking at public research that's going

531
00:16:59,490 --> 00:17:00,750
out there and we're looking for that in

532
00:17:00,750 --> 00:17:02,370
our environment and we're building new

533
00:17:02,370 --> 00:17:04,589
detections to help promote a better

534
00:17:04,589 --> 00:17:06,690
security operation center and so really

535
00:17:06,690 --> 00:17:09,329
what happened there is we fixed up the

536
00:17:09,329 --> 00:17:11,069
broken cog in the wheel where we're

537
00:17:11,069 --> 00:17:12,900
actually supplying new data sets new

538
00:17:12,900 --> 00:17:14,760
information directly to the Security

539
00:17:14,760 --> 00:17:16,470
Operations Center to really get them

540
00:17:16,470 --> 00:17:18,869
better at modern detection and you know

541
00:17:18,869 --> 00:17:20,819
mappings to something like biter attack

542
00:17:20,819 --> 00:17:23,130
is a phenomenal way to show your

543
00:17:23,130 --> 00:17:24,390
coverage in there but it's not

544
00:17:24,390 --> 00:17:26,190
necessarily good judgment of your

545
00:17:26,190 --> 00:17:27,839
maturity I know people that are trying

546
00:17:27,839 --> 00:17:29,400
to flood in as many detections as

547
00:17:29,400 --> 00:17:30,780
possible but again how are you building

548
00:17:30,780 --> 00:17:32,520
those detection are you building it off

549
00:17:32,520 --> 00:17:34,800
of registry or 30 T with s /i on each TP

550
00:17:34,800 --> 00:17:37,530
in SCR obj that DLL and there are you

551
00:17:37,530 --> 00:17:38,790
building it because a regular user

552
00:17:38,790 --> 00:17:40,860
initiated register your are 32 in the

553
00:17:40,860 --> 00:17:41,820
first place so we need to investigate

554
00:17:41,820 --> 00:17:43,710
that those are all things that we need

555
00:17:43,710 --> 00:17:45,330
to take a look at from a baselining and

556
00:17:45,330 --> 00:17:46,620
how we're building out

557
00:17:46,620 --> 00:17:47,700
those detection capabilities in the

558
00:17:47,700 --> 00:17:51,240
first place I'd say right now in general

559
00:17:51,240 --> 00:17:54,600
the bar is still pretty low for for

560
00:17:54,600 --> 00:17:56,460
attacking in most organizations it's not

561
00:17:56,460 --> 00:17:57,779
every organization there's a lot of

562
00:17:57,779 --> 00:17:59,070
companies that are doing some really

563
00:17:59,070 --> 00:18:00,840
good stuff right now but I'd say as a

564
00:18:00,840 --> 00:18:02,760
whole the majority of companies that we

565
00:18:02,760 --> 00:18:04,799
do assessments for the bar still pretty

566
00:18:04,799 --> 00:18:06,840
low when it comes to to how you're going

567
00:18:06,840 --> 00:18:08,669
after an organization whether that's

568
00:18:08,669 --> 00:18:11,159
they're still just leveraging AV AV is

569
00:18:11,159 --> 00:18:14,130
the lowest bar possible you know when

570
00:18:14,130 --> 00:18:16,320
you look at that it literally is there

571
00:18:16,320 --> 00:18:18,450
and it's designed to only find commodity

572
00:18:18,450 --> 00:18:21,390
stuff it is not a way for you to have

573
00:18:21,390 --> 00:18:23,010
good detection or visibility into

574
00:18:23,010 --> 00:18:24,600
malicious content

575
00:18:24,600 --> 00:18:26,700
it's literally crowd-sourced you know

576
00:18:26,700 --> 00:18:28,789
antivirus of the 90s with some built-in

577
00:18:28,789 --> 00:18:31,140
scripting language analysis and some

578
00:18:31,140 --> 00:18:34,020
built-in behavior which is really not

579
00:18:34,020 --> 00:18:36,029
much on the behavior side and so you

580
00:18:36,029 --> 00:18:38,580
know AV is the lowest bar possible right

581
00:18:38,580 --> 00:18:40,500
now you start to look at eBay ours and

582
00:18:40,500 --> 00:18:42,210
Evie ours are great if you have people

583
00:18:42,210 --> 00:18:43,500
actually looking through the data sets

584
00:18:43,500 --> 00:18:46,049
EDRs are great if you actually expand on

585
00:18:46,049 --> 00:18:48,120
the application that you you build in

586
00:18:48,120 --> 00:18:49,919
there and it's not just what comes out

587
00:18:49,919 --> 00:18:52,409
of the box you need to focus on what's

588
00:18:52,409 --> 00:18:54,419
actual to your environment what your

589
00:18:54,419 --> 00:18:55,890
baseline looks like and how your be

590
00:18:55,890 --> 00:18:59,010
you're building that out over time and

591
00:18:59,010 --> 00:19:01,049
so we're gonna talk about some attack

592
00:19:01,049 --> 00:19:02,429
customizations here in just a second I'm

593
00:19:02,429 --> 00:19:04,260
gonna go through some some examples of

594
00:19:04,260 --> 00:19:05,880
it or run through some simulations here

595
00:19:05,880 --> 00:19:08,399
but what was interesting about attack

596
00:19:08,399 --> 00:19:10,190
customizations is if you build your own

597
00:19:10,190 --> 00:19:12,179
one of the tools that I wrote a number

598
00:19:12,179 --> 00:19:14,100
of years ago six years ago was called

599
00:19:14,100 --> 00:19:15,980
magic unicorn I mean it was a

600
00:19:15,980 --> 00:19:17,940
exploitation framework for power so it

601
00:19:17,940 --> 00:19:19,080
is an exploitation framework of

602
00:19:19,080 --> 00:19:21,330
PowerShell and it's probably one of the

603
00:19:21,330 --> 00:19:23,340
most prominent ones out there that have

604
00:19:23,340 --> 00:19:25,440
been used by good folks and

605
00:19:25,440 --> 00:19:28,140
unfortunately bad as well and what was

606
00:19:28,140 --> 00:19:30,840
magic unicorn when I released it I had

607
00:19:30,840 --> 00:19:32,190
been working on kind of two parallel

608
00:19:32,190 --> 00:19:34,020
versions of it because I was writing the

609
00:19:34,020 --> 00:19:35,190
code and I wasn't sure which one was

610
00:19:35,190 --> 00:19:36,059
gonna work better and it's kind of

611
00:19:36,059 --> 00:19:37,470
optimizing both of them at the same time

612
00:19:37,470 --> 00:19:39,750
and so I end up going with one version

613
00:19:39,750 --> 00:19:41,940
that you see now in the github pages and

614
00:19:41,940 --> 00:19:43,980
everything else in you know it uses the

615
00:19:43,980 --> 00:19:45,809
x86 downgrade attack which I figured out

616
00:19:45,809 --> 00:19:47,760
a way to identify whether or not I was

617
00:19:47,760 --> 00:19:49,260
running in a 32 or 64-bit operating

618
00:19:49,260 --> 00:19:51,299
system so that I could inject native

619
00:19:51,299 --> 00:19:55,409
32-bit shell code into a into a 64-bit

620
00:19:55,409 --> 00:19:57,570
platform and what's kind of interesting

621
00:19:57,570 --> 00:19:58,950
as a lot of other tools ended up taking

622
00:19:58,950 --> 00:20:00,210
that as well and when you see

623
00:20:00,210 --> 00:20:02,520
detection x' they're directly written

624
00:20:02,520 --> 00:20:04,860
for the assist boss 64th they see 600 64

625
00:20:04,860 --> 00:20:06,180
being execute in the first place it's

626
00:20:06,180 --> 00:20:07,620
usually a decent indicator that there's

627
00:20:07,620 --> 00:20:09,930
an attack what's funny about that is is

628
00:20:09,930 --> 00:20:11,910
when I wrote you two versions unicorn I

629
00:20:11,910 --> 00:20:13,800
published the one and I didn't publish

630
00:20:13,800 --> 00:20:16,530
the other and you know about four years

631
00:20:16,530 --> 00:20:19,290
ago Microsoft in a number of other end

632
00:20:19,290 --> 00:20:21,660
of iris vendors started becoming really

633
00:20:21,660 --> 00:20:24,150
really cautious over UNICOR writing

634
00:20:24,150 --> 00:20:25,560
signature updates pretty much all the

635
00:20:25,560 --> 00:20:28,050
time and it's funny because still to

636
00:20:28,050 --> 00:20:29,730
this day the version that it didn't

637
00:20:29,730 --> 00:20:31,650
publish the version that I was kind of

638
00:20:31,650 --> 00:20:33,150
working on that you know just didn't pan

639
00:20:33,150 --> 00:20:34,710
out as well as I wanted to be still

640
00:20:34,710 --> 00:20:36,390
works perfectly fine today um still

641
00:20:36,390 --> 00:20:37,590
doesn't get detected by anything else

642
00:20:37,590 --> 00:20:38,790
out there today because I never

643
00:20:38,790 --> 00:20:40,590
published it so if you write your own

644
00:20:40,590 --> 00:20:42,840
tooling chances are you're not gonna be

645
00:20:42,840 --> 00:20:44,580
detected in any way shape or form from

646
00:20:44,580 --> 00:20:45,750
the commodity tools that are out there

647
00:20:45,750 --> 00:20:47,640
where there's an EDR product whether

648
00:20:47,640 --> 00:20:49,110
it's it's an anti-virus product again

649
00:20:49,110 --> 00:20:50,670
writing your own rolling your own

650
00:20:50,670 --> 00:20:53,280
definitely the best way to to circumvent

651
00:20:53,280 --> 00:20:55,620
most of that now it's interesting is if

652
00:20:55,620 --> 00:20:59,100
you look at a Windows Defender you know

653
00:20:59,100 --> 00:21:03,060
to get around a MSI the anti-malware

654
00:21:03,060 --> 00:21:05,220
scan interface is usually really trivial

655
00:21:05,220 --> 00:21:06,660
it's usually a variable name or

656
00:21:06,660 --> 00:21:08,940
something that they're flagging on I've

657
00:21:08,940 --> 00:21:10,320
randomized most of it but it'll still

658
00:21:10,320 --> 00:21:12,540
stand me and I'm relationships between

659
00:21:12,540 --> 00:21:14,460
like two things coming in a row so you

660
00:21:14,460 --> 00:21:16,800
know it's usually very trivial for me to

661
00:21:16,800 --> 00:21:18,300
just rewrite it a little bit and get

662
00:21:18,300 --> 00:21:20,780
around the detection in the first place

663
00:21:20,780 --> 00:21:23,670
and we look at some statistics here you

664
00:21:23,670 --> 00:21:26,130
know prominently executables are still

665
00:21:26,130 --> 00:21:27,900
by far the number one delivery method

666
00:21:27,900 --> 00:21:29,160
which still boggles my mind that we're

667
00:21:29,160 --> 00:21:31,040
still fighting with executables today

668
00:21:31,040 --> 00:21:33,240
again application control would

669
00:21:33,240 --> 00:21:36,000
literally eliminate probably 52% of that

670
00:21:36,000 --> 00:21:38,370
noise so your largest noise threshold by

671
00:21:38,370 --> 00:21:39,900
doing application control limits

672
00:21:39,900 --> 00:21:42,600
executables if you disallow regular

673
00:21:42,600 --> 00:21:44,250
users from executing power so you're

674
00:21:44,250 --> 00:21:46,200
probably dropping that down to about 30

675
00:21:46,200 --> 00:21:47,670
percent 32 percent down though 30

676
00:21:47,670 --> 00:21:49,710
percent and then if you start looking at

677
00:21:49,710 --> 00:21:50,520
living off the land

678
00:21:50,520 --> 00:21:52,380
I'm almost every single living off the

679
00:21:52,380 --> 00:21:54,870
land binary on script that is out there

680
00:21:54,870 --> 00:21:56,310
today that allows for remote code

681
00:21:56,310 --> 00:21:58,650
execution literally does not ever need

682
00:21:58,650 --> 00:22:01,140
to be run by a regular user account so

683
00:22:01,140 --> 00:22:03,060
if you limit the the ability for a

684
00:22:03,060 --> 00:22:04,800
regular user account to access those

685
00:22:04,800 --> 00:22:06,690
specific living off the lands and all of

686
00:22:06,690 --> 00:22:08,700
a sudden now you have probably a 5%

687
00:22:08,700 --> 00:22:10,350
ratio of noise you actually have to look

688
00:22:10,350 --> 00:22:12,270
at in your environment that's a huge

689
00:22:12,270 --> 00:22:13,350
difference from a

690
00:22:13,350 --> 00:22:14,580
service perspective than what you're

691
00:22:14,580 --> 00:22:17,010
dealing with right now huge all about

692
00:22:17,010 --> 00:22:18,890
eliminating the noise reduce the noise

693
00:22:18,890 --> 00:22:20,730
reducing what we have to do an array of

694
00:22:20,730 --> 00:22:21,929
the basis and then looking for those

695
00:22:21,929 --> 00:22:23,250
edge cases and baseline in your

696
00:22:23,250 --> 00:22:23,730
environment

697
00:22:23,730 --> 00:22:25,860
lock it down preventive then from there

698
00:22:25,860 --> 00:22:28,950
focus on everything else so here's an

699
00:22:28,950 --> 00:22:30,510
example of a detection today okay here's

700
00:22:30,510 --> 00:22:34,410
here we have registry of 32 what Windows

701
00:22:34,410 --> 00:22:35,880
Defender looks for specifically in this

702
00:22:35,880 --> 00:22:38,520
is that is registry or 32 communicating

703
00:22:38,520 --> 00:22:40,559
out to the Internet in downloading file

704
00:22:40,559 --> 00:22:43,140
and using the script of object dll to

705
00:22:43,140 --> 00:22:44,520
execute this so in this case here

706
00:22:44,520 --> 00:22:46,140
Windows Defender is blocking me from

707
00:22:46,140 --> 00:22:48,929
running this Pacific Command however if

708
00:22:48,929 --> 00:22:50,909
I just change this up a little bit you

709
00:22:50,909 --> 00:22:52,320
know if I use bits admin or I can use

710
00:22:52,320 --> 00:22:55,799
exec use Excel give it a HTTP parameter

711
00:22:55,799 --> 00:22:57,150
I can also download which will download

712
00:22:57,150 --> 00:22:58,169
it to the temp directory there's a

713
00:22:58,169 --> 00:22:59,490
number of ways that you can download

714
00:22:59,490 --> 00:23:00,659
files directly on the Internet

715
00:23:00,659 --> 00:23:03,600
curls now in by default and so you look

716
00:23:03,600 --> 00:23:05,909
at this and if I use bits admin to go

717
00:23:05,909 --> 00:23:08,039
and download test that txt and then call

718
00:23:08,039 --> 00:23:10,020
registry r32 dot exe with the scripted

719
00:23:10,020 --> 00:23:12,419
object and launch test that's txt

720
00:23:12,419 --> 00:23:14,990
that works perfectly fine in addition

721
00:23:14,990 --> 00:23:17,309
one thing that you can also do that's

722
00:23:17,309 --> 00:23:20,370
really easy is as a regular user you

723
00:23:20,370 --> 00:23:23,789
copy the you know the C colon backslash

724
00:23:23,789 --> 00:23:27,120
Windows fast I system 32 backslash STR

725
00:23:27,120 --> 00:23:29,610
obj DLL and copy it to your user profile

726
00:23:29,610 --> 00:23:31,590
temp directory has test that DLL so just

727
00:23:31,590 --> 00:23:33,270
renaming the file or copying the file to

728
00:23:33,270 --> 00:23:36,090
a different name so I'm copying SCR obj

729
00:23:36,090 --> 00:23:38,610
dot DLL to test that the alone you can

730
00:23:38,610 --> 00:23:40,020
just run this exact same command above

731
00:23:40,020 --> 00:23:42,600
here but instead of putting SCR obj2 DLL

732
00:23:42,600 --> 00:23:44,580
and just put test that DLL and it also

733
00:23:44,580 --> 00:23:46,200
works in circumvents the detection

734
00:23:46,200 --> 00:23:48,000
criteria are and the other preventive

735
00:23:48,000 --> 00:23:49,590
criteria within Windows Defender as well

736
00:23:49,590 --> 00:23:51,900
so again very simplistic basic things

737
00:23:51,900 --> 00:23:54,330
that we can do to get around most of the

738
00:23:54,330 --> 00:23:56,610
preventive mechanisms that a lot people

739
00:23:56,610 --> 00:23:58,230
employ a specifically Windows Defender

740
00:23:58,230 --> 00:23:59,340
this is not a Mac and Windows Defender

741
00:23:59,340 --> 00:24:02,549
just in general antivirus products are

742
00:24:02,549 --> 00:24:05,070
pretty much the lowest bar possible for

743
00:24:05,070 --> 00:24:06,720
you to be able to identify what's

744
00:24:06,720 --> 00:24:08,039
interesting is a lot of the sections if

745
00:24:08,039 --> 00:24:09,480
you write in our monitoring section

746
00:24:09,480 --> 00:24:11,820
programs well typically look for that /i

747
00:24:11,820 --> 00:24:14,250
you know in an HTTP in there and I'll

748
00:24:14,250 --> 00:24:16,080
typically look for the ser o BG in a DLL

749
00:24:16,080 --> 00:24:18,240
so if I run slash I and I just have it

750
00:24:18,240 --> 00:24:20,130
go to that test that's exe no HTTP in

751
00:24:20,130 --> 00:24:22,590
there and I rename SCR opgi DLL to test

752
00:24:22,590 --> 00:24:24,090
at the ll are you gonna detect that

753
00:24:24,090 --> 00:24:26,130
specific area there or what a better

754
00:24:26,130 --> 00:24:27,510
detection be when right

755
00:24:27,510 --> 00:24:29,190
Jr's ever being executed the first place

756
00:24:29,190 --> 00:24:30,570
under the context of a regular user

757
00:24:30,570 --> 00:24:35,760
account I here's an example of of doing

758
00:24:35,760 --> 00:24:37,230
analysis on Windows Defender

759
00:24:37,230 --> 00:24:39,150
specifically with Windows Defender

760
00:24:39,150 --> 00:24:40,890
they're integrated into the anti-malware

761
00:24:40,890 --> 00:24:44,220
scan interface and I wrote a tool on a

762
00:24:44,220 --> 00:24:46,320
huge Star Trek fan this is only one

763
00:24:46,320 --> 00:24:47,970
section of it it doesn't show that the

764
00:24:47,970 --> 00:24:49,650
rest of my process chain or my process

765
00:24:49,650 --> 00:24:52,140
flow for this but Windows Defender was

766
00:24:52,140 --> 00:24:54,090
on a regular basis like a weekly basis

767
00:24:54,090 --> 00:24:57,330
writing new signatures for unicorn and

768
00:24:57,330 --> 00:24:59,100
so I got tired of doing it manually

769
00:24:59,100 --> 00:25:00,210
because it would take like you know 30

770
00:25:00,210 --> 00:25:02,250
minutes or so of having a person new

771
00:25:02,250 --> 00:25:04,230
version out that it has automated it and

772
00:25:04,230 --> 00:25:07,080
what it does is it checks out or it

773
00:25:07,080 --> 00:25:09,510
spins up a virtual machine it checks out

774
00:25:09,510 --> 00:25:10,680
the latest version of Windows Defender

775
00:25:10,680 --> 00:25:14,010
and it Smits magic unicorn to see

776
00:25:14,010 --> 00:25:15,240
whether or not it's getting detected by

777
00:25:15,240 --> 00:25:18,030
MSI if it is it automatically rewrites

778
00:25:18,030 --> 00:25:20,130
it for me and then submits a pull

779
00:25:20,130 --> 00:25:21,450
request in so that it automatically

780
00:25:21,450 --> 00:25:22,830
circumvents within about 30 to 40

781
00:25:22,830 --> 00:25:25,050
seconds of a new signature being

782
00:25:25,050 --> 00:25:27,600
developed and so on basically I have

783
00:25:27,600 --> 00:25:30,420
news news new bypasses for MSI around 30

784
00:25:30,420 --> 00:25:31,980
seconds after the new signature comes

785
00:25:31,980 --> 00:25:34,350
out out there in the first place and the

786
00:25:34,350 --> 00:25:36,000
reason I wrote that is you know my

787
00:25:36,000 --> 00:25:37,770
opinion of this is that you know it's

788
00:25:37,770 --> 00:25:39,390
such a low bar for somebody to change a

789
00:25:39,390 --> 00:25:41,100
variable name or parameter name you know

790
00:25:41,100 --> 00:25:43,410
why you know they need to raise the bar

791
00:25:43,410 --> 00:25:44,700
and how they're actually doing the

792
00:25:44,700 --> 00:25:45,810
detections for those make the detections

793
00:25:45,810 --> 00:25:47,850
better and trying to try and try and

794
00:25:47,850 --> 00:25:50,250
promote that in the first place once we

795
00:25:50,250 --> 00:25:52,080
actually get a successful bypass this is

796
00:25:52,080 --> 00:25:53,190
actually what you'll see you get a nice

797
00:25:53,190 --> 00:25:55,170
little smiley face saying you know

798
00:25:55,170 --> 00:25:57,210
Smitty pelota am aside nothing detected

799
00:25:57,210 --> 00:25:58,860
and you know it's part of a proper

800
00:25:58,860 --> 00:26:00,870
DevOps cycle I actually trigger the the

801
00:26:00,870 --> 00:26:03,000
shell and I get a connection back to

802
00:26:03,000 --> 00:26:05,250
validate that it passes in my build

803
00:26:05,250 --> 00:26:06,570
cycle and then you know if it doesn't it

804
00:26:06,570 --> 00:26:07,920
fails then I have to investigate it

805
00:26:07,920 --> 00:26:09,210
manually which which doesn't happen too

806
00:26:09,210 --> 00:26:10,010
often

807
00:26:10,010 --> 00:26:12,510
interesting enough to I'll show you a

808
00:26:12,510 --> 00:26:14,730
quick demo here and I can see my screen

809
00:26:14,730 --> 00:26:16,950
and I'll do one really quick of Trevor

810
00:26:16,950 --> 00:26:19,650
c2 if you're not familiar Trevor c2 it's

811
00:26:19,650 --> 00:26:22,350
a tool I wrote a couple years ago works

812
00:26:22,350 --> 00:26:23,760
very good and I just did some big

813
00:26:23,760 --> 00:26:25,800
updates to it recently converted Python

814
00:26:25,800 --> 00:26:29,280
3 has a it's a command control that

815
00:26:29,280 --> 00:26:34,430
supports Linux OS X and Windows and it

816
00:26:34,519 --> 00:26:36,710
has different stages it has a Java

817
00:26:36,710 --> 00:26:38,599
loader it has a PowerShell loader as a

818
00:26:38,599 --> 00:26:41,960
c-sharp loader a python loader so you

819
00:26:41,960 --> 00:26:43,549
can use different formats from the nose

820
00:26:43,549 --> 00:26:46,419
but a funny story on on detection z'

821
00:26:46,419 --> 00:26:48,739
Trevor CTU had been released three years

822
00:26:48,739 --> 00:26:51,499
ago and in that three-year period there

823
00:26:51,499 --> 00:26:53,119
was never a signature that was ever

824
00:26:53,119 --> 00:26:56,119
written for Trevor C - in just the past

825
00:26:56,119 --> 00:26:59,210
week or so there was a signature written

826
00:26:59,210 --> 00:27:05,200
I want to show you this really quick and

827
00:27:05,710 --> 00:27:14,059
here it is here and if I go to one

828
00:27:14,059 --> 00:27:17,719
second so what was interesting here is

829
00:27:17,719 --> 00:27:21,279
if you took encrypted stream which is uh

830
00:27:21,279 --> 00:27:23,450
so that is a variable name called

831
00:27:23,450 --> 00:27:24,979
encrypted stream if you hit play here

832
00:27:24,979 --> 00:27:28,249
notice what happens we get this script

833
00:27:28,249 --> 00:27:29,509
contains malicious content has been

834
00:27:29,509 --> 00:27:31,460
blocked by your antivirus provider you

835
00:27:31,460 --> 00:27:34,429
just take encrypted stream can you move

836
00:27:34,429 --> 00:27:39,349
it to encrypted streams plural we now

837
00:27:39,349 --> 00:27:40,429
successfully get around I'll show you

838
00:27:40,429 --> 00:27:41,570
this in a second I'm gonna run Trevor

839
00:27:41,570 --> 00:27:46,219
see - and what is this what this is

840
00:27:46,219 --> 00:27:47,809
gonna do is you can specify this inside

841
00:27:47,809 --> 00:27:49,580
the source it's gonna automatically go

842
00:27:49,580 --> 00:27:52,070
and clone google.com as an example and

843
00:27:52,070 --> 00:27:54,320
what will happen is is if somebody on

844
00:27:54,320 --> 00:27:56,989
that is not a Trevor C - client tries to

845
00:27:56,989 --> 00:28:00,200
connect via HTTP or HTTPS to the c2

846
00:28:00,200 --> 00:28:02,029
server that will recognize that they're

847
00:28:02,029 --> 00:28:05,839
not an actual C to clients and I'll just

848
00:28:05,839 --> 00:28:07,789
redirect them back to google.com in the

849
00:28:07,789 --> 00:28:09,379
first place so they don't really know

850
00:28:09,379 --> 00:28:11,269
it's kind of happening you know they

851
00:28:11,269 --> 00:28:12,379
just redirects back to the illegitimate

852
00:28:12,379 --> 00:28:13,789
so in the first place and then what it

853
00:28:13,789 --> 00:28:16,219
does is it actually takes um AES 256

854
00:28:16,219 --> 00:28:18,679
encryption and your command control ends

855
00:28:18,679 --> 00:28:20,269
up being spread spread throughout these

856
00:28:20,269 --> 00:28:22,460
source of the HTML of these sites that

857
00:28:22,460 --> 00:28:24,409
the client connects to and then it

858
00:28:24,409 --> 00:28:25,609
reassembles that and then it exfoliates

859
00:28:25,609 --> 00:28:29,389
that they dataset by pretending below to

860
00:28:29,389 --> 00:28:31,099
fake images on the website itself which

861
00:28:31,099 --> 00:28:33,589
is actually a es u v6 chunked up by byte

862
00:28:33,589 --> 00:28:36,259
string that reassembles it and you can

863
00:28:36,259 --> 00:28:37,969
get that data back out again so it's

864
00:28:37,969 --> 00:28:39,349
really hard to actually go into text and

865
00:28:39,349 --> 00:28:41,310
run this now

866
00:28:41,310 --> 00:28:44,220
notice here the encrypted stream -

867
00:28:44,220 --> 00:28:46,260
encrypted streams makes it makes it

868
00:28:46,260 --> 00:28:47,970
perfect you notice here we get a unique

869
00:28:47,970 --> 00:28:50,690
CID based off of that traversée - is

870
00:28:50,690 --> 00:28:53,880
multi-threaded so it will allow as many

871
00:28:53,880 --> 00:28:55,620
connections or servers or clients that

872
00:28:55,620 --> 00:28:56,910
you have connecting - in the first place

873
00:28:56,910 --> 00:28:58,050
so if you have you know ten machines

874
00:28:58,050 --> 00:28:59,310
connecting back you'll have all those

875
00:28:59,310 --> 00:29:01,520
what we can do is we can just type list

876
00:29:01,520 --> 00:29:04,260
we can see here we have an established

877
00:29:04,260 --> 00:29:05,820
connection to one of the systems here

878
00:29:05,820 --> 00:29:08,760
will interact with that and it generates

879
00:29:08,760 --> 00:29:10,500
the communications so you know it's a

880
00:29:10,500 --> 00:29:12,150
random timeframe of when it comes back

881
00:29:12,150 --> 00:29:13,830
you can adjust the jitter inside the

882
00:29:13,830 --> 00:29:15,810
code as well if I don't run right the

883
00:29:15,810 --> 00:29:19,140
config they'll task it it'll inject it

884
00:29:19,140 --> 00:29:21,960
into the source of the dynamic website

885
00:29:21,960 --> 00:29:24,180
that we fake cloned Google it's all

886
00:29:24,180 --> 00:29:26,790
contained in a es it'll then decrypt

887
00:29:26,790 --> 00:29:28,710
that reassemble it send it back try to

888
00:29:28,710 --> 00:29:31,740
load images based off of the AES

889
00:29:31,740 --> 00:29:33,960
encrypted chunk that it pulls out which

890
00:29:33,960 --> 00:29:35,700
puts the filenames in there and then

891
00:29:35,700 --> 00:29:37,710
basically we we can exfiltrate and have

892
00:29:37,710 --> 00:29:39,030
a full interactive command shell all

893
00:29:39,030 --> 00:29:42,150
through HTTP HTTP all is encrypted on

894
00:29:42,150 --> 00:29:44,160
top of that and inject it through

895
00:29:44,160 --> 00:29:45,840
through covert channels that are very

896
00:29:45,840 --> 00:29:47,820
very unique and again there's a dotnet

897
00:29:47,820 --> 00:29:51,000
loader there's a PowerShell loader etc

898
00:29:51,000 --> 00:29:53,880
etc out there available one thing I also

899
00:29:53,880 --> 00:29:55,590
wanted to show really fast too is I was

900
00:29:55,590 --> 00:29:56,820
just greasing out in just a fast use

901
00:29:56,820 --> 00:29:59,280
case here I was recently on a Red Team

902
00:29:59,280 --> 00:30:00,330
engagement that I mentioned on that

903
00:30:00,330 --> 00:30:02,970
citrix customer and what was interesting

904
00:30:02,970 --> 00:30:07,080
about the sisters customer is that when

905
00:30:07,080 --> 00:30:10,290
we got access to the box we we didn't

906
00:30:10,290 --> 00:30:12,510
want to put a command control and adjust

907
00:30:12,510 --> 00:30:14,640
yet and so we did our traditional

908
00:30:14,640 --> 00:30:15,540
pillaging so we're kind of looking

909
00:30:15,540 --> 00:30:17,520
through intranet sites you're looking

910
00:30:17,520 --> 00:30:19,080
through pages file shares we have access

911
00:30:19,080 --> 00:30:20,430
to just to see if we can enumerate the

912
00:30:20,430 --> 00:30:21,750
network you know we're trying to stay

913
00:30:21,750 --> 00:30:23,340
low and slow we don't want to drop seats

914
00:30:23,340 --> 00:30:24,600
you and all the sudden be be busting a

915
00:30:24,600 --> 00:30:26,220
potential case or another defensive

916
00:30:26,220 --> 00:30:27,660
mechanisms you know we know which

917
00:30:27,660 --> 00:30:28,710
products are using but we don't know

918
00:30:28,710 --> 00:30:29,670
exactly they're monitoring attetion

919
00:30:29,670 --> 00:30:32,340
capabilities and so I happened to find a

920
00:30:32,340 --> 00:30:34,500
so I was running as a limited user on

921
00:30:34,500 --> 00:30:37,200
this citrix box and so limited user not

922
00:30:37,200 --> 00:30:39,360
admin rights and I was going through one

923
00:30:39,360 --> 00:30:40,740
of their intranet sites and I found a

924
00:30:40,740 --> 00:30:44,370
web config file that contained a account

925
00:30:44,370 --> 00:30:46,230
for an essay account a sequel a sequel

926
00:30:46,230 --> 00:30:48,720
administrator and that essay account was

927
00:30:48,720 --> 00:30:51,000
a web application that was used for

928
00:30:51,000 --> 00:30:52,290
further cyber was it kind of like an

929
00:30:52,290 --> 00:30:54,960
ancillary you know kind of small web

930
00:30:54,960 --> 00:30:57,059
web application and what was interesting

931
00:30:57,059 --> 00:30:59,460
is I was trying to figure out a way to

932
00:30:59,460 --> 00:31:02,429
connect directly to that sequel server

933
00:31:02,429 --> 00:31:04,799
with limited user rights and I try

934
00:31:04,799 --> 00:31:06,659
things like Oh sequel which requires the

935
00:31:06,659 --> 00:31:07,950
ODBC drivers which requires

936
00:31:07,950 --> 00:31:09,510
administrative rights I was trying to

937
00:31:09,510 --> 00:31:11,720
use sequel on the sequel command-line

938
00:31:11,720 --> 00:31:13,830
tools but again you need to ministry on

939
00:31:13,830 --> 00:31:15,870
orous to install those from Microsoft so

940
00:31:15,870 --> 00:31:18,120
I didn't have a good way of being able

941
00:31:18,120 --> 00:31:19,740
to leverage that pivot point that box

942
00:31:19,740 --> 00:31:21,750
that I was on in Citrix to communicate

943
00:31:21,750 --> 00:31:23,820
that as I say accounts and get access to

944
00:31:23,820 --> 00:31:25,980
the xpq mancell store procedure

945
00:31:25,980 --> 00:31:27,990
hopefully and be able to compromise a

946
00:31:27,990 --> 00:31:29,370
server itself you know again I'm trying

947
00:31:29,370 --> 00:31:31,200
to bridge from a regular user account

948
00:31:31,200 --> 00:31:33,809
directly to you know they'd be server

949
00:31:33,809 --> 00:31:35,159
itself and so I wrote a tool I just

950
00:31:35,159 --> 00:31:37,320
released it on Friday called quick

951
00:31:37,320 --> 00:31:39,510
sequel and quick sequel works on Linux

952
00:31:39,510 --> 00:31:43,770
OS X and Windows and it's uh and I

953
00:31:43,770 --> 00:31:46,679
compiled it to a binary so you can use

954
00:31:46,679 --> 00:31:50,370
this you know you know in the same same

955
00:31:50,370 --> 00:31:52,950
type of use case and basically it allows

956
00:31:52,950 --> 00:31:54,750
you to just do direct queries to a

957
00:31:54,750 --> 00:31:55,890
sequel server without requiring

958
00:31:55,890 --> 00:31:57,149
administer little rights

959
00:31:57,149 --> 00:31:59,909
so it's an easy tool quick tool but it's

960
00:31:59,909 --> 00:32:00,990
you know just to give you a quick quick

961
00:32:00,990 --> 00:32:04,590
demonstration sample of it just get my

962
00:32:04,590 --> 00:32:05,940
IP address here really quick and

963
00:32:05,940 --> 00:32:07,230
obviously I can run this on a Windows

964
00:32:07,230 --> 00:32:09,510
machine you know again minister of rites

965
00:32:09,510 --> 00:32:14,690
require and those two crooks equal to py

966
00:32:14,690 --> 00:32:17,970
new desk H so this is the this is quick

967
00:32:17,970 --> 00:32:19,890
sequel it's got amazing ASCII art of

968
00:32:19,890 --> 00:32:21,899
course as does any tool that has to be

969
00:32:21,899 --> 00:32:23,100
released at trusted site cast they have

970
00:32:23,100 --> 00:32:26,130
dog ASCII art and this database lipsky

971
00:32:26,130 --> 00:32:29,370
blank username we're gonna do essay and

972
00:32:29,370 --> 00:32:30,630
pass where I know typing in a password

973
00:32:30,630 --> 00:32:32,669
it's a fake password for everybody there

974
00:32:32,669 --> 00:32:33,870
so don't like all of davelis leaks to

975
00:32:33,870 --> 00:32:36,090
pass or online oh my gosh it's a it's a

976
00:32:36,090 --> 00:32:39,299
temporary password and then do the IP

977
00:32:39,299 --> 00:32:43,250
address which that I have about 170 to

978
00:32:43,250 --> 00:32:51,360
1628 and then we'll do the - ports 1433

979
00:32:51,360 --> 00:32:53,909
it's default and this will establish a

980
00:32:53,909 --> 00:32:56,669
connection to the box itself and we can

981
00:32:56,669 --> 00:33:00,169
do things like you know exact mass tur

982
00:33:05,240 --> 00:33:07,620
yeah so you know we are able to use the

983
00:33:07,620 --> 00:33:08,970
XP commercial store procedure in this

984
00:33:08,970 --> 00:33:10,769
specific case in my use case I'm gonna

985
00:33:10,769 --> 00:33:12,630
do an obviously we can query you know

986
00:33:12,630 --> 00:33:15,390
the the box itself if we wanted to you

987
00:33:15,390 --> 00:33:16,620
know anything within the sequel database

988
00:33:16,620 --> 00:33:18,539
or different databases we could query

989
00:33:18,539 --> 00:33:20,039
it's just a very simple tool but again

990
00:33:20,039 --> 00:33:22,230
doesn't require Minnesota rights one of

991
00:33:22,230 --> 00:33:23,429
the things that I ran into a test and

992
00:33:23,429 --> 00:33:25,710
the ability to write it and publish it

993
00:33:25,710 --> 00:33:27,240
out as something that you know I'm glad

994
00:33:27,240 --> 00:33:30,950
I can do on those specific cases

995
00:33:33,350 --> 00:33:36,000
so I started Trevor c2 it's a great

996
00:33:36,000 --> 00:33:37,889
example of doing the encrypt of streams

997
00:33:37,889 --> 00:33:41,990
piece of it you know it's funny because

998
00:33:41,990 --> 00:33:44,130
unicorn gets gets flagged all time

999
00:33:44,130 --> 00:33:46,260
Trevor c2 which is still a popular c2

1000
00:33:46,260 --> 00:33:47,730
framework never got flagged until last

1001
00:33:47,730 --> 00:33:49,830
week and then I just wrote encrypted

1002
00:33:49,830 --> 00:33:50,970
stream to encrypted streams and we're

1003
00:33:50,970 --> 00:33:53,279
all set and got around that new version

1004
00:33:53,279 --> 00:33:55,309
was just released recently for Python 3

1005
00:33:55,309 --> 00:33:57,480
and actually just pushed a new version

1006
00:33:57,480 --> 00:33:59,639
out right before this talk I just to fix

1007
00:33:59,639 --> 00:34:01,980
a couple minor things but you know

1008
00:34:01,980 --> 00:34:06,559
readily available on the github site so

1009
00:34:06,559 --> 00:34:09,510
basics still work for most companies by

1010
00:34:09,510 --> 00:34:12,210
far the basics around things like

1011
00:34:12,210 --> 00:34:14,760
PowerShell as an example we still work

1012
00:34:14,760 --> 00:34:16,980
for most companies living off the lands

1013
00:34:16,980 --> 00:34:18,629
are still a new topic for a lot of

1014
00:34:18,629 --> 00:34:19,859
companies as well most people aren't

1015
00:34:19,859 --> 00:34:21,960
looking at living off the lands post

1016
00:34:21,960 --> 00:34:23,609
exploitation scenarios are still

1017
00:34:23,609 --> 00:34:26,460
relatively easy to do minor application

1018
00:34:26,460 --> 00:34:27,960
changing is really us all that still

1019
00:34:27,960 --> 00:34:29,820
need and again that's probably because

1020
00:34:29,820 --> 00:34:31,770
we are a technique driven industry not a

1021
00:34:31,770 --> 00:34:34,440
behavior based industry out there today

1022
00:34:34,440 --> 00:34:36,179
it's really important that we start to

1023
00:34:36,179 --> 00:34:37,980
move more towards understanding behavior

1024
00:34:37,980 --> 00:34:39,810
and attack patterns of attackers again

1025
00:34:39,810 --> 00:34:41,280
the tactics and procedures that

1026
00:34:41,280 --> 00:34:43,949
attackers operate by than anything else

1027
00:34:43,949 --> 00:34:45,960
it's it's so important that we change

1028
00:34:45,960 --> 00:34:51,149
how we think and so you know most most

1029
00:34:51,149 --> 00:34:53,099
of the attacks that we see out there

1030
00:34:53,099 --> 00:34:55,320
today are commodity ones right so we are

1031
00:34:55,320 --> 00:34:56,639
looking at for some level of noise but

1032
00:34:56,639 --> 00:34:57,930
again if I'm a more sophisticated

1033
00:34:57,930 --> 00:35:00,210
attacker I'm gonna change things gonna

1034
00:35:00,210 --> 00:35:02,280
modify it if you're using Metasploit

1035
00:35:02,280 --> 00:35:04,170
out-of-the-box you know with meterpreter

1036
00:35:04,170 --> 00:35:06,359
out-of-the-box you deserve to be caught

1037
00:35:06,359 --> 00:35:07,589
same thing if you're downloading and

1038
00:35:07,589 --> 00:35:09,180
copying you know living off the land

1039
00:35:09,180 --> 00:35:10,859
scripts and using that as a box you

1040
00:35:10,859 --> 00:35:12,210
should be caught on those specific areas

1041
00:35:12,210 --> 00:35:14,520
again as attackers modifying and

1042
00:35:14,520 --> 00:35:16,140
changing your codes really important

1043
00:35:16,140 --> 00:35:17,520
I'm gonna throw a new concept out there

1044
00:35:17,520 --> 00:35:21,030
for you the reason why we have to move

1045
00:35:21,030 --> 00:35:24,240
to behavior for a for detection is that

1046
00:35:24,240 --> 00:35:26,190
the way that that attackers are using

1047
00:35:26,190 --> 00:35:28,530
things right now is is different than

1048
00:35:28,530 --> 00:35:30,000
how attackers are doing in ten years ago

1049
00:35:30,000 --> 00:35:32,010
and and the reason why I attack has

1050
00:35:32,010 --> 00:35:35,430
changed their tactics of how they attack

1051
00:35:35,430 --> 00:35:37,530
organizations is one because we've

1052
00:35:37,530 --> 00:35:39,060
progressed and in we've gotten smarter

1053
00:35:39,060 --> 00:35:40,650
and we've learned more things we new new

1054
00:35:40,650 --> 00:35:42,660
methods are going but also we started to

1055
00:35:42,660 --> 00:35:45,030
get better with defense we started to

1056
00:35:45,030 --> 00:35:46,470
get better defense and so attackers had

1057
00:35:46,470 --> 00:35:48,540
to change the way that they operate by

1058
00:35:48,540 --> 00:35:51,300
now we are getting better at detecting

1059
00:35:51,300 --> 00:35:53,730
techniques right I mentioned that before

1060
00:35:53,730 --> 00:35:54,990
we're getting better at detecting

1061
00:35:54,990 --> 00:35:57,630
techniques so what's the next evolution

1062
00:35:57,630 --> 00:35:59,250
of how attackers are gonna go after us

1063
00:35:59,250 --> 00:36:02,460
if we if if techniques are a difficult

1064
00:36:02,460 --> 00:36:04,260
one to go through and here's where I

1065
00:36:04,260 --> 00:36:05,600
think that's going to be heading towards

1066
00:36:05,600 --> 00:36:09,270
telling stories and and I want to tell

1067
00:36:09,270 --> 00:36:11,640
you a story here of an attack that

1068
00:36:11,640 --> 00:36:13,920
worked very well for me on an engagement

1069
00:36:13,920 --> 00:36:17,160
and and the story that I'm telling is a

1070
00:36:17,160 --> 00:36:19,020
story that I know these sake analysts is

1071
00:36:19,020 --> 00:36:22,080
gonna see and sake analysts have a very

1072
00:36:22,080 --> 00:36:24,660
tough time already s is alert fatigue

1073
00:36:24,660 --> 00:36:26,640
you know going through alarm data all

1074
00:36:26,640 --> 00:36:28,530
the time making things look legitimate

1075
00:36:28,530 --> 00:36:30,660
you know you have no idea what is but

1076
00:36:30,660 --> 00:36:34,950
you know if if a if a stock analyst sees

1077
00:36:34,950 --> 00:36:37,050
magic unicorn which is heavily op you

1078
00:36:37,050 --> 00:36:38,790
skated you know what are they gonna see

1079
00:36:38,790 --> 00:36:40,650
if that pops up on the screen as an

1080
00:36:40,650 --> 00:36:42,600
alarm they're gonna that's best

1081
00:36:42,600 --> 00:36:44,700
malicious I can tell for sure that

1082
00:36:44,700 --> 00:36:45,990
that's malicious because it's a key

1083
00:36:45,990 --> 00:36:48,240
escape it's encrypted what if the story

1084
00:36:48,240 --> 00:36:50,010
I'm telling a sock analyst in the first

1085
00:36:50,010 --> 00:36:51,690
place is not malicious or doesn't look

1086
00:36:51,690 --> 00:36:53,310
malicious or it looks you know not

1087
00:36:53,310 --> 00:36:54,570
really suspicious in any way shape or

1088
00:36:54,570 --> 00:36:56,610
form the sock analyst has only a few

1089
00:36:56,610 --> 00:36:58,140
seconds to make a determination and

1090
00:36:58,140 --> 00:36:59,640
whether or not it's malicious or to

1091
00:36:59,640 --> 00:37:01,560
research it and in most cases if you're

1092
00:37:01,560 --> 00:37:03,660
telling a believable story knowing that

1093
00:37:03,660 --> 00:37:05,160
you're gonna get busted spending a

1094
00:37:05,160 --> 00:37:06,840
little more time on your attack you're

1095
00:37:06,840 --> 00:37:08,730
gonna have a tough time getting around

1096
00:37:08,730 --> 00:37:10,470
this and so here's an example right here

1097
00:37:10,470 --> 00:37:13,110
that I've used before in the past I used

1098
00:37:13,110 --> 00:37:15,450
Excel dot exe to go and download a file

1099
00:37:15,450 --> 00:37:17,760
so if you use Excel that exe give it a

1100
00:37:17,760 --> 00:37:19,380
website address right up there from the

1101
00:37:19,380 --> 00:37:22,770
command line it will download Excel XLS

1102
00:37:22,770 --> 00:37:24,570
you don't do from the command line do

1103
00:37:24,570 --> 00:37:26,190
from the the run prompt or how you're

1104
00:37:26,190 --> 00:37:27,390
executing your code in the first place

1105
00:37:27,390 --> 00:37:29,000
in this case it was a

1106
00:37:29,000 --> 00:37:31,730
a macro Excel will go and download that

1107
00:37:31,730 --> 00:37:34,100
specific Excel XLS file for you I'm

1108
00:37:34,100 --> 00:37:36,170
directly to your temp directory so now

1109
00:37:36,170 --> 00:37:37,700
we have this excel file that's in our

1110
00:37:37,700 --> 00:37:40,370
temp directory we're going to access

1111
00:37:40,370 --> 00:37:41,990
file is actually a script an object it

1112
00:37:41,990 --> 00:37:43,720
is not an XLS file in the first place

1113
00:37:43,720 --> 00:37:45,650
we're gonna wait on the system for a

1114
00:37:45,650 --> 00:37:47,840
little bit and we're gonna rename we're

1115
00:37:47,840 --> 00:37:49,900
gonna copy not rename we're gonna copy

1116
00:37:49,900 --> 00:37:53,180
SCR obj dot DLL to schema management DLL

1117
00:37:53,180 --> 00:37:55,580
into our temp directory again most CDR

1118
00:37:55,580 --> 00:37:56,660
products and I haven't seem to learn

1119
00:37:56,660 --> 00:37:59,630
this copying a DLL and and copying it to

1120
00:37:59,630 --> 00:38:00,470
a different location

1121
00:38:00,470 --> 00:38:02,810
traditionally does not cause an alarm or

1122
00:38:02,810 --> 00:38:05,420
event in any way shape or form so if I

1123
00:38:05,420 --> 00:38:06,590
was using something like renaming

1124
00:38:06,590 --> 00:38:08,840
register here are 32 and then executing

1125
00:38:08,840 --> 00:38:10,820
it then Deb could potentially you know

1126
00:38:10,820 --> 00:38:12,110
trigger an alarm but I'm copying a

1127
00:38:12,110 --> 00:38:13,810
legitimate DLL to a different location

1128
00:38:13,810 --> 00:38:16,610
typically not gonna generate or identify

1129
00:38:16,610 --> 00:38:18,830
anything unusual there I'm also gonna

1130
00:38:18,830 --> 00:38:21,110
rename company and report metrics

1131
00:38:21,110 --> 00:38:23,390
version 2.3 to XLS to DLL uninstall

1132
00:38:23,390 --> 00:38:25,400
again renaming a file doesn't

1133
00:38:25,400 --> 00:38:27,380
traditionally cause a alarm on a system

1134
00:38:27,380 --> 00:38:29,180
and that I've ever seen before and then

1135
00:38:29,180 --> 00:38:31,040
what I call is registry or 32 which is

1136
00:38:31,040 --> 00:38:33,170
very malicious right I'm calling

1137
00:38:33,170 --> 00:38:35,990
registry registry or 32 to slash a slash

1138
00:38:35,990 --> 00:38:39,110
u /i with a deal on install with schema

1139
00:38:39,110 --> 00:38:41,240
management DLL now if a stock analyst

1140
00:38:41,240 --> 00:38:42,950
gets that alarm with registry at 32

1141
00:38:42,950 --> 00:38:43,940
being called with those specific

1142
00:38:43,940 --> 00:38:46,730
parameters are they going to alert who

1143
00:38:46,730 --> 00:38:48,170
knows they might you know they might

1144
00:38:48,170 --> 00:38:49,700
come in might investigate I know I'm not

1145
00:38:49,700 --> 00:38:51,050
alert but they might investigate right

1146
00:38:51,050 --> 00:38:52,310
because you know traditionally C

1147
00:38:52,310 --> 00:38:53,750
register your a 32 in their environment

1148
00:38:53,750 --> 00:38:55,190
maybe this is something malicious that

1149
00:38:55,190 --> 00:38:57,020
ain't investigate them maybe not so you

1150
00:38:57,020 --> 00:38:58,460
got about a 50/50 chance here right so

1151
00:38:58,460 --> 00:39:01,010
right now we're at a 50/50 chance of

1152
00:39:01,010 --> 00:39:02,930
being busted how do we make sure that we

1153
00:39:02,930 --> 00:39:04,610
don't get caught in that 50-50 chance

1154
00:39:04,610 --> 00:39:06,230
well the story that I'm telling here a

1155
00:39:06,230 --> 00:39:08,270
stock analyst the first hit on Google

1156
00:39:08,270 --> 00:39:10,130
when you Google register your 32 this

1157
00:39:10,130 --> 00:39:12,140
specific command line here comes up with

1158
00:39:12,140 --> 00:39:15,110
the Microsoft Box article here and in

1159
00:39:15,110 --> 00:39:17,480
the Microsoft Box article it shows you

1160
00:39:17,480 --> 00:39:18,800
know DLL install being used in

1161
00:39:18,800 --> 00:39:20,060
conjunction with schema management and

1162
00:39:20,060 --> 00:39:22,610
registry r32 so in this case what is a

1163
00:39:22,610 --> 00:39:25,370
story that we're telling the sake

1164
00:39:25,370 --> 00:39:27,080
analyst hey this is something being

1165
00:39:27,080 --> 00:39:29,000
actively used by Windows and there you

1166
00:39:29,000 --> 00:39:30,230
go you got your high percent clip in

1167
00:39:30,230 --> 00:39:32,660
most cases maybe a 99 percent clip that

1168
00:39:32,660 --> 00:39:34,280
a sake analyst isn't going to identify

1169
00:39:34,280 --> 00:39:35,630
you or find you in some way shape or

1170
00:39:35,630 --> 00:39:37,970
form it's all about building a story can

1171
00:39:37,970 --> 00:39:40,460
you put a story that a sock analyst is

1172
00:39:40,460 --> 00:39:42,320
going to review that is going to be

1173
00:39:42,320 --> 00:39:42,920
difficult

1174
00:39:42,920 --> 00:39:44,960
or almost impossible to identify whether

1175
00:39:44,960 --> 00:39:46,670
or not smile ishes and that's really the

1176
00:39:46,670 --> 00:39:48,109
next evolution of attacks varanasi often

1177
00:39:48,109 --> 00:39:49,339
say spending some time to craft your

1178
00:39:49,339 --> 00:39:51,530
attacks out that tells a different story

1179
00:39:51,530 --> 00:39:53,119
but what's actually happening instead of

1180
00:39:53,119 --> 00:39:54,890
obfuscation and encryption and also

1181
00:39:54,890 --> 00:39:56,270
other stuff that we know this and look

1182
00:39:56,270 --> 00:39:57,740
malicious we'd be more towards

1183
00:39:57,740 --> 00:39:59,299
legitimate behavior communications as

1184
00:39:59,299 --> 00:40:01,790
things go along there's another example

1185
00:40:01,790 --> 00:40:04,640
i love love this is my favorite even if

1186
00:40:04,640 --> 00:40:05,630
a company has a like phenomenal

1187
00:40:05,630 --> 00:40:07,910
powershell detection in their

1188
00:40:07,910 --> 00:40:09,079
environment this is one of the easiest

1189
00:40:09,079 --> 00:40:10,640
ways to get around that the power cell

1190
00:40:10,640 --> 00:40:13,339
detection so I'll do some ascent on the

1191
00:40:13,339 --> 00:40:14,960
company and I'll pick somebody an IT

1192
00:40:14,960 --> 00:40:17,839
that's a domain admin or a PowerShell

1193
00:40:17,839 --> 00:40:20,450
you know architect or you know just just

1194
00:40:20,450 --> 00:40:22,010
different different titles of somebody

1195
00:40:22,010 --> 00:40:23,990
that that's in the company itself that

1196
00:40:23,990 --> 00:40:25,640
would want to run or execute power shell

1197
00:40:25,640 --> 00:40:27,650
scripts and I'll actually put in

1198
00:40:27,650 --> 00:40:29,960
comments in the comment code I'll put

1199
00:40:29,960 --> 00:40:32,180
you know used to check ad health this

1200
00:40:32,180 --> 00:40:34,250
was written by the person that that is a

1201
00:40:34,250 --> 00:40:36,680
domain admin or administrator of that

1202
00:40:36,680 --> 00:40:39,049
company so when a security operations

1203
00:40:39,049 --> 00:40:41,599
center or EMS SP or someone sees that

1204
00:40:41,599 --> 00:40:44,390
the author code was was sewn so like all

1205
00:40:44,390 --> 00:40:46,430
this is just Bob you know writing the

1206
00:40:46,430 --> 00:40:47,839
school but that's not malicious that's

1207
00:40:47,839 --> 00:40:48,170
cool

1208
00:40:48,170 --> 00:40:49,160
I all haven't put stuff in there like

1209
00:40:49,160 --> 00:40:50,210
what I'm actually doing process

1210
00:40:50,210 --> 00:40:52,490
injection I'll put you in the comments

1211
00:40:52,490 --> 00:40:54,109
I'm like this is really an ugly hack to

1212
00:40:54,109 --> 00:40:55,490
get this to work but I needed to do it

1213
00:40:55,490 --> 00:40:56,930
because of compatibility mode between

1214
00:40:56,930 --> 00:41:00,200
Server 2008 and you know Server 2012 r2

1215
00:41:00,200 --> 00:41:03,290
you know as a main main way for it to

1216
00:41:03,290 --> 00:41:04,579
communicate back and forth just making

1217
00:41:04,579 --> 00:41:06,020
up some some random technical stuff that

1218
00:41:06,020 --> 00:41:07,849
makes no sense but when they actually

1219
00:41:07,849 --> 00:41:09,290
look at the malicious code like oh it's

1220
00:41:09,290 --> 00:41:11,450
written by Bob and okay he sucks at

1221
00:41:11,450 --> 00:41:13,579
coding got it makes sense don't worry

1222
00:41:13,579 --> 00:41:14,030
about it

1223
00:41:14,030 --> 00:41:16,579
I'll grab big scripts online that you

1224
00:41:16,579 --> 00:41:17,960
have hundreds and hundreds and hundreds

1225
00:41:17,960 --> 00:41:19,910
or thousands of lines of code and I'll

1226
00:41:19,910 --> 00:41:21,200
tuck my malicious code halfway through

1227
00:41:21,200 --> 00:41:22,970
there again no one's ever gonna read

1228
00:41:22,970 --> 00:41:24,410
through all of that code there and a

1229
00:41:24,410 --> 00:41:27,020
scroll through it see that it's a common

1230
00:41:27,020 --> 00:41:30,200
you know a tool on a PowerShell site and

1231
00:41:30,200 --> 00:41:32,390
then kind of skip past that I've used a

1232
00:41:32,390 --> 00:41:33,799
similar technique in the past five Red

1233
00:41:33,799 --> 00:41:34,700
Team engagements and I've had zero

1234
00:41:34,700 --> 00:41:36,859
detection when it comes to what they

1235
00:41:36,859 --> 00:41:38,299
actually see again knowing I'm going to

1236
00:41:38,299 --> 00:41:39,319
get busted know I'm going to get

1237
00:41:39,319 --> 00:41:42,030
detected and telling a different story

1238
00:41:42,030 --> 00:41:44,430
so why am I telling you this the reason

1239
00:41:44,430 --> 00:41:45,600
why I'm telling you all this right now

1240
00:41:45,600 --> 00:41:47,940
is because the way that we do detection

1241
00:41:47,940 --> 00:41:50,250
today is not going to work tomorrow the

1242
00:41:50,250 --> 00:41:51,150
ways that we're building out our

1243
00:41:51,150 --> 00:41:52,590
programs today and the products that

1244
00:41:52,590 --> 00:41:54,030
we're using today are not gonna help us

1245
00:41:54,030 --> 00:41:55,470
tomorrow and it's coming sooner than

1246
00:41:55,470 --> 00:41:57,360
later it's already happening now but the

1247
00:41:57,360 --> 00:41:59,040
prevalence of this is gonna continue to

1248
00:41:59,040 --> 00:42:01,350
evolve as time goes on we have to get

1249
00:42:01,350 --> 00:42:03,240
better at understanding our environments

1250
00:42:03,240 --> 00:42:04,950
we have to get better at baselining our

1251
00:42:04,950 --> 00:42:06,300
environments are looking for deviations

1252
00:42:06,300 --> 00:42:08,190
that is the only way that were you going

1253
00:42:08,190 --> 00:42:09,600
we are going to get better to be able to

1254
00:42:09,600 --> 00:42:11,730
withstand this next frontal attack that

1255
00:42:11,730 --> 00:42:12,510
we're seeing out there we have to

1256
00:42:12,510 --> 00:42:14,130
continuously improve our understanding

1257
00:42:14,130 --> 00:42:16,590
of our organizations and that really

1258
00:42:16,590 --> 00:42:18,600
comes by the way for continual testing

1259
00:42:18,600 --> 00:42:21,770
between red and blue I'm a huge fan of

1260
00:42:21,770 --> 00:42:24,660
red and blue working together right you

1261
00:42:24,660 --> 00:42:26,730
know when you look at at the industry as

1262
00:42:26,730 --> 00:42:29,700
a whole the red teams have changed over

1263
00:42:29,700 --> 00:42:31,410
the past years when I see people talk

1264
00:42:31,410 --> 00:42:34,740
about like you know oh you know and not

1265
00:42:34,740 --> 00:42:37,890
pick on Tim to meet him but Tim Tim had

1266
00:42:37,890 --> 00:42:40,080
a sliding red is not special he's right

1267
00:42:40,080 --> 00:42:41,970
and then in the sense that you know red

1268
00:42:41,970 --> 00:42:43,860
and blue are equal in what we're trying

1269
00:42:43,860 --> 00:42:45,750
to accomplish when I hear people talk

1270
00:42:45,750 --> 00:42:47,580
about you know all all red wants to do

1271
00:42:47,580 --> 00:42:49,230
is go into a company and smash them and

1272
00:42:49,230 --> 00:42:51,180
destroy them and don't want that doesn't

1273
00:42:51,180 --> 00:42:52,170
want them to get better they miss the

1274
00:42:52,170 --> 00:42:54,210
complete context of why the red team is

1275
00:42:54,210 --> 00:42:55,800
there in the first place you know our

1276
00:42:55,800 --> 00:42:58,830
ability to understand how attackers go

1277
00:42:58,830 --> 00:43:00,990
after an organization and how

1278
00:43:00,990 --> 00:43:02,880
organizations need to build their threat

1279
00:43:02,880 --> 00:43:04,230
models and I talked about threat models

1280
00:43:04,230 --> 00:43:05,580
it's understanding your adversaries or

1281
00:43:05,580 --> 00:43:07,950
capabilities or tech the techniques the

1282
00:43:07,950 --> 00:43:09,900
tactics techniques and procedures it's

1283
00:43:09,900 --> 00:43:11,130
about understanding who your your

1284
00:43:11,130 --> 00:43:12,480
threats are so that you can build a good

1285
00:43:12,480 --> 00:43:14,040
risk profile around what you need to do

1286
00:43:14,040 --> 00:43:15,240
from a defensive perspective and

1287
00:43:15,240 --> 00:43:17,130
priority again if we had all the min

1288
00:43:17,130 --> 00:43:18,420
resources we really have to worry about

1289
00:43:18,420 --> 00:43:19,770
about threat models because we could

1290
00:43:19,770 --> 00:43:20,880
literally just build all the

1291
00:43:20,880 --> 00:43:22,620
capabilities in the world but we have to

1292
00:43:22,620 --> 00:43:24,840
prioritize what we're actually doing and

1293
00:43:24,840 --> 00:43:27,390
so the job and the purpose of a red team

1294
00:43:27,390 --> 00:43:30,090
is really to understand the capabilities

1295
00:43:30,090 --> 00:43:33,200
of the blue to understand the

1296
00:43:33,200 --> 00:43:35,040
adversaries that are in play that would

1297
00:43:35,040 --> 00:43:37,560
want to target the organization and zoom

1298
00:43:37,560 --> 00:43:39,660
they get and help them prioritize how to

1299
00:43:39,660 --> 00:43:41,370
work together to build better defenses

1300
00:43:41,370 --> 00:43:43,560
and that is ultimately our goal between

1301
00:43:43,560 --> 00:43:45,360
red and blue is working together to

1302
00:43:45,360 --> 00:43:47,850
build better defenses and to help

1303
00:43:47,850 --> 00:43:49,440
prioritize what we're actually doing out

1304
00:43:49,440 --> 00:43:51,840
there it's not to destroy you know every

1305
00:43:51,840 --> 00:43:53,190
organization out there it's you know

1306
00:43:53,190 --> 00:43:53,910
don't get me wrong

1307
00:43:53,910 --> 00:43:55,440
I love when I get a shell right it's

1308
00:43:55,440 --> 00:43:55,810
like

1309
00:43:55,810 --> 00:43:57,220
exciting time in my life and you know

1310
00:43:57,220 --> 00:43:58,900
then you get no access to a system you

1311
00:43:58,900 --> 00:44:00,490
do provide escalation you're high-fiving

1312
00:44:00,490 --> 00:44:01,720
yourself you know in your own room have

1313
00:44:01,720 --> 00:44:03,340
used even spending 14 hours and not

1314
00:44:03,340 --> 00:44:05,920
showering doing you know and you have

1315
00:44:05,920 --> 00:44:07,840
all that excitement but at the end of

1316
00:44:07,840 --> 00:44:08,980
day though the real excitement comes

1317
00:44:08,980 --> 00:44:11,110
down to this is what we were able to do

1318
00:44:11,110 --> 00:44:12,880
and here's the ways that you get better

1319
00:44:12,880 --> 00:44:15,400
right and the most rewarding experience

1320
00:44:15,400 --> 00:44:18,520
for me is when I go into a company the

1321
00:44:18,520 --> 00:44:20,500
next year and it's so much more

1322
00:44:20,500 --> 00:44:23,200
difficult for me to break in based off

1323
00:44:23,200 --> 00:44:25,000
of the recommendations that we were able

1324
00:44:25,000 --> 00:44:27,400
to do the the year before that's the

1325
00:44:27,400 --> 00:44:28,900
most rewarding thing from a red teamers

1326
00:44:28,900 --> 00:44:31,030
perspective is making a company but are

1327
00:44:31,030 --> 00:44:32,650
making it harder more challenging for us

1328
00:44:32,650 --> 00:44:34,840
to actively do it in the first place and

1329
00:44:34,840 --> 00:44:36,940
that's really the the shift that has

1330
00:44:36,940 --> 00:44:38,290
happened over the past ten years as well

1331
00:44:38,290 --> 00:44:40,420
is that penetration testing isn't going

1332
00:44:40,420 --> 00:44:42,220
out and about going in owning everything

1333
00:44:42,220 --> 00:44:44,020
it's about identifying as many entry

1334
00:44:44,020 --> 00:44:45,460
points as possible for organizations to

1335
00:44:45,460 --> 00:44:47,290
fix but also focusing on the latter

1336
00:44:47,290 --> 00:44:49,990
effects red teaming you know is an

1337
00:44:49,990 --> 00:44:51,250
interesting concept because a lot of

1338
00:44:51,250 --> 00:44:53,440
companies are not even designed or added

1339
00:44:53,440 --> 00:44:55,780
maturity states to handle red team's you

1340
00:44:55,780 --> 00:44:57,130
know if you don't have a monitoring

1341
00:44:57,130 --> 00:44:58,600
detection program or you don't have a

1342
00:44:58,600 --> 00:45:01,030
way to ingest the type of data that a

1343
00:45:01,030 --> 00:45:03,700
Red Team exercise actually provides you

1344
00:45:03,700 --> 00:45:05,140
should still focus on penetration

1345
00:45:05,140 --> 00:45:06,910
testing you know waste you they start to

1346
00:45:06,910 --> 00:45:09,640
plug those gaps plug those holes but you

1347
00:45:09,640 --> 00:45:10,960
really need to start focusing on how do

1348
00:45:10,960 --> 00:45:12,130
you build out those detective

1349
00:45:12,130 --> 00:45:15,310
capabilities that switch between the the

1350
00:45:15,310 --> 00:45:17,290
findings of those technical findings and

1351
00:45:17,290 --> 00:45:19,450
the ability to understand how an

1352
00:45:19,450 --> 00:45:21,520
attacker compromises an organization

1353
00:45:21,520 --> 00:45:23,050
over a given time and that's really

1354
00:45:23,050 --> 00:45:25,450
where this industry needs to change and

1355
00:45:25,450 --> 00:45:26,710
we need to move to again is that

1356
00:45:26,710 --> 00:45:28,510
behavior understanding that it's not

1357
00:45:28,510 --> 00:45:29,830
about that initial entry point it's

1358
00:45:29,830 --> 00:45:31,060
about everything happens after that

1359
00:45:31,060 --> 00:45:33,160
again we should still focus on boundary

1360
00:45:33,160 --> 00:45:34,840
manage and we still focus on other areas

1361
00:45:34,840 --> 00:45:37,900
but really our goal is to make the world

1362
00:45:37,900 --> 00:45:39,250
better to make the world a better place

1363
00:45:39,250 --> 00:45:44,290
make it more defensive capability to

1364
00:45:44,290 --> 00:45:46,560
gether to really achieve that goal so

1365
00:45:46,560 --> 00:45:49,090
with that I'll open it up to some

1366
00:45:49,090 --> 00:45:51,280
questions I'm not sure if I need to do

1367
00:45:51,280 --> 00:45:53,500
anything on my end but happy to answer

1368
00:45:53,500 --> 00:45:56,290
any questions that anybody has yeah I've

1369
00:45:56,290 --> 00:45:58,450
got I've got one question that's come in

1370
00:45:58,450 --> 00:46:00,310
from discord at shameless yawn discord

1371
00:46:00,310 --> 00:46:01,360
and by the way can I just say what

1372
00:46:01,360 --> 00:46:02,770
awesome talk really really enjoyed that

1373
00:46:02,770 --> 00:46:04,900
and live demos as well look at this they

1374
00:46:04,900 --> 00:46:07,770
are all the stocks a

1375
00:46:08,760 --> 00:46:11,650
I sacrifice like 17 go to the god guys

1376
00:46:11,650 --> 00:46:12,460
there's like a whole bunch of dead

1377
00:46:12,460 --> 00:46:14,050
bodies dead carcasses of goats outside

1378
00:46:14,050 --> 00:46:22,630
but demo gods were great so thank you

1379
00:46:22,630 --> 00:46:23,800
very much appreciate it

1380
00:46:23,800 --> 00:46:26,380
so there's a question from discord

1381
00:46:26,380 --> 00:46:28,780
rolling her own tooling any resources or

1382
00:46:28,780 --> 00:46:31,630
guidelines how to get started and a

1383
00:46:31,630 --> 00:46:33,070
follow up to that is this concept

1384
00:46:33,070 --> 00:46:34,600
basically changing current code and

1385
00:46:34,600 --> 00:46:39,010
public tools so so the first question

1386
00:46:39,010 --> 00:46:41,740
was resources on how to how to retort

1387
00:46:41,740 --> 00:46:44,800
how to code yeah so the first bits like

1388
00:46:44,800 --> 00:46:46,240
rolling your own tooling and then any

1389
00:46:46,240 --> 00:46:47,800
resources or guidelines and how to get

1390
00:46:47,800 --> 00:46:49,900
started yeah there's actually a lot of

1391
00:46:49,900 --> 00:46:52,210
great classes out there today there was

1392
00:46:52,210 --> 00:46:55,000
just the name of them but if you search

1393
00:46:55,000 --> 00:46:58,090
for on how to get around EMI and YouTube

1394
00:46:58,090 --> 00:46:59,590
you'll see that the first it just got

1395
00:46:59,590 --> 00:47:00,960
released like last weekend week before

1396
00:47:00,960 --> 00:47:02,980
it'll give you kind of a nice tutorial

1397
00:47:02,980 --> 00:47:04,750
around how to kind of rewrite code how

1398
00:47:04,750 --> 00:47:07,510
to rewrite certain things if you'll do

1399
00:47:07,510 --> 00:47:10,060
that for me when I when I'm writing my

1400
00:47:10,060 --> 00:47:11,260
own schools you know the first thing I

1401
00:47:11,260 --> 00:47:13,000
ever did is I think I have the book back

1402
00:47:13,000 --> 00:47:15,670
here let me see there's a book from a

1403
00:47:15,670 --> 00:47:21,220
press its ancient now I can't find it

1404
00:47:21,220 --> 00:47:23,490
back here but there's another one is a

1405
00:47:23,490 --> 00:47:26,260
wonderful Riley headfirst Python I think

1406
00:47:26,260 --> 00:47:28,630
it's for kids you know picking up a

1407
00:47:28,630 --> 00:47:30,160
programming language is gonna be first

1408
00:47:30,160 --> 00:47:31,750
and foremost what you want to accomplish

1409
00:47:31,750 --> 00:47:34,510
you know I I focus very heavily on see

1410
00:47:34,510 --> 00:47:37,990
assembly PowerShell c-sharp and Python

1411
00:47:37,990 --> 00:47:39,040
were kind of I mean programming

1412
00:47:39,040 --> 00:47:41,440
languages that I that I focus on and for

1413
00:47:41,440 --> 00:47:43,060
me Python was the easiest to pick up and

1414
00:47:43,060 --> 00:47:45,430
what I when I would like to write new

1415
00:47:45,430 --> 00:47:47,680
tooling it's for a specific purpose if

1416
00:47:47,680 --> 00:47:49,630
I'm going after an organization and I'm

1417
00:47:49,630 --> 00:47:51,250
really just struggling with with getting

1418
00:47:51,250 --> 00:47:52,960
code execution on to the system where

1419
00:47:52,960 --> 00:47:54,190
I'm struggling with a specific topic

1420
00:47:54,190 --> 00:47:56,410
that's when I I'm like well hey I need

1421
00:47:56,410 --> 00:47:57,820
to write a tool to be able to go and do

1422
00:47:57,820 --> 00:47:59,110
this for me that's why I'm magic unicorn

1423
00:47:59,110 --> 00:48:01,330
was written for powershots quotation I

1424
00:48:01,330 --> 00:48:02,560
wanted a PowerShell letter at the time

1425
00:48:02,560 --> 00:48:05,620
no one was using PowerShell to get

1426
00:48:05,620 --> 00:48:07,390
remote code execution so I needed

1427
00:48:07,390 --> 00:48:08,590
something to be able to go and do that

1428
00:48:08,590 --> 00:48:11,410
so for me it's more so you know in need

1429
00:48:11,410 --> 00:48:12,940
for a specific thing that I'm doing

1430
00:48:12,940 --> 00:48:15,550
which is why I released a tool another

1431
00:48:15,550 --> 00:48:17,590
good example is on pen testers framework

1432
00:48:17,590 --> 00:48:19,930
that I wrote which is a way to build

1433
00:48:19,930 --> 00:48:20,740
your own modular

1434
00:48:20,740 --> 00:48:23,380
you know penetration testing distro the

1435
00:48:23,380 --> 00:48:25,390
problems running with Kelly and this is

1436
00:48:25,390 --> 00:48:26,980
my cow is amazing to love love all the

1437
00:48:26,980 --> 00:48:29,080
folks over there was that a lot of tools

1438
00:48:29,080 --> 00:48:31,510
and the out-of-date and there'd be a

1439
00:48:31,510 --> 00:48:33,250
specific function that I'd want out of

1440
00:48:33,250 --> 00:48:35,140
that tool that I needed that was that

1441
00:48:35,140 --> 00:48:36,339
was new though there was a new exploit

1442
00:48:36,339 --> 00:48:37,570
coming from Metasploit or what an end up

1443
00:48:37,570 --> 00:48:39,099
being and so I wrote the pen testers

1444
00:48:39,099 --> 00:48:41,080
framework so I could write essentially

1445
00:48:41,080 --> 00:48:42,339
keep all my tools up-to-date all the

1446
00:48:42,339 --> 00:48:44,380
time to be able to use those so it

1447
00:48:44,380 --> 00:48:46,570
really comes out of necessity off of the

1448
00:48:46,570 --> 00:48:47,890
specific engagement that I'm doing that

1449
00:48:47,890 --> 00:48:49,030
I end up writing it but you know

1450
00:48:49,030 --> 00:48:50,050
definitely having a programming

1451
00:48:50,050 --> 00:48:52,540
background really helps out a lot and I

1452
00:48:52,540 --> 00:48:54,160
would say I'm not a very good programmer

1453
00:48:54,160 --> 00:48:55,780
I like the Hat code together that works

1454
00:48:55,780 --> 00:48:57,430
and if it works amia that's good I don't

1455
00:48:57,430 --> 00:48:59,349
optimize my code you know as long as it

1456
00:48:59,349 --> 00:49:01,119
works I'm happy with that so you don't

1457
00:49:01,119 --> 00:49:02,680
have to be a stellar programmer to go

1458
00:49:02,680 --> 00:49:04,359
and do stuff you can just you know

1459
00:49:04,359 --> 00:49:05,200
definitely end of just know the

1460
00:49:05,200 --> 00:49:06,400
outskirts I've been build your own stuff

1461
00:49:06,400 --> 00:49:09,520
with that okay I've got a that's awesome

1462
00:49:09,520 --> 00:49:11,200
thank you and the foot as a follow-up

1463
00:49:11,200 --> 00:49:12,369
question was another question from

1464
00:49:12,369 --> 00:49:15,760
discord got any recommendations loads

1465
00:49:15,760 --> 00:49:18,130
now I've got any recommendations for

1466
00:49:18,130 --> 00:49:20,500
languages frameworks to move towards

1467
00:49:20,500 --> 00:49:22,089
that are less likely to go the same way

1468
00:49:22,089 --> 00:49:24,190
as PowerShell in terms of MS defenses

1469
00:49:24,190 --> 00:49:25,720
but Microsoft defenses and things like

1470
00:49:25,720 --> 00:49:27,670
this yeah it's good question I actually

1471
00:49:27,670 --> 00:49:30,400
think that we're going back to see you

1472
00:49:30,400 --> 00:49:31,869
know I think I think when you build

1473
00:49:31,869 --> 00:49:34,990
stuff from C it really throws things

1474
00:49:34,990 --> 00:49:36,369
from allude because that the problem is

1475
00:49:36,369 --> 00:49:38,440
is that every application out there is

1476
00:49:38,440 --> 00:49:40,510
written in C or C++ when it comes to

1477
00:49:40,510 --> 00:49:42,220
like third-party applications

1478
00:49:42,220 --> 00:49:45,280
I'm or c-sharp to some extent um so you

1479
00:49:45,280 --> 00:49:46,599
know it's very different when you're

1480
00:49:46,599 --> 00:49:47,890
writing your own tooling your own code

1481
00:49:47,890 --> 00:49:49,810
when you have a C application that's

1482
00:49:49,810 --> 00:49:51,369
that you're publishing that's that's

1483
00:49:51,369 --> 00:49:53,410
malicious if it's unique code it's very

1484
00:49:53,410 --> 00:49:54,609
difficult for things to actually

1485
00:49:54,609 --> 00:49:55,780
identify those especially we start

1486
00:49:55,780 --> 00:49:57,609
getting into code signing you if you

1487
00:49:57,609 --> 00:49:58,990
code sign the application in the first

1488
00:49:58,990 --> 00:50:00,250
place your traditional gonna get around

1489
00:50:00,250 --> 00:50:01,990
a lot of the detection that are having

1490
00:50:01,990 --> 00:50:03,670
in the first place so I think you know

1491
00:50:03,670 --> 00:50:05,800
for me it's gonna be C it's kind of mean

1492
00:50:05,800 --> 00:50:07,060
programming language that will continues

1493
00:50:07,060 --> 00:50:08,650
to go back to you know you still have a

1494
00:50:08,650 --> 00:50:10,599
lot of usage out of dotnet

1495
00:50:10,599 --> 00:50:12,580
you know even though you have some some

1496
00:50:12,580 --> 00:50:14,619
injections into the CLR that you know

1497
00:50:14,619 --> 00:50:15,910
you have from a detection perspective

1498
00:50:15,910 --> 00:50:18,430
it's still very minimum I think in many

1499
00:50:18,430 --> 00:50:20,950
cases but you know C sharp will be

1500
00:50:20,950 --> 00:50:22,180
around for quite a long time

1501
00:50:22,180 --> 00:50:23,470
I honestly think PowerShell will still

1502
00:50:23,470 --> 00:50:25,240
be around for for a long time you know

1503
00:50:25,240 --> 00:50:26,320
but when we're actually going after

1504
00:50:26,320 --> 00:50:27,580
organizations that have a really good

1505
00:50:27,580 --> 00:50:29,530
modern detection program we've got we've

1506
00:50:29,530 --> 00:50:31,240
gone straight to see as being kind of

1507
00:50:31,240 --> 00:50:32,950
our our main programming language for

1508
00:50:32,950 --> 00:50:33,600
that

1509
00:50:33,600 --> 00:50:36,540
not awesome I've got a question it's

1510
00:50:36,540 --> 00:50:37,770
that question from youth a bit

1511
00:50:37,770 --> 00:50:40,410
it was indeed general asked it that gone

1512
00:50:40,410 --> 00:50:44,400
you can you read it in snooze voice

1513
00:50:44,400 --> 00:50:49,170
though that is really hard to do so

1514
00:50:49,170 --> 00:50:51,780
really my question was around like so we

1515
00:50:51,780 --> 00:50:54,720
hear a lot about edr solutions and

1516
00:50:54,720 --> 00:50:57,090
blinking light boxes and stuff like that

1517
00:50:57,090 --> 00:50:59,880
I'm wondering when you're actually doing

1518
00:50:59,880 --> 00:51:02,270
the red teaming and you run into like

1519
00:51:02,270 --> 00:51:05,730
heavily segmented networks and hardened

1520
00:51:05,730 --> 00:51:07,680
workstations is that almost more

1521
00:51:07,680 --> 00:51:10,380
effective than you know running into an

1522
00:51:10,380 --> 00:51:13,260
EDR or you know something like dart

1523
00:51:13,260 --> 00:51:15,510
trace in the environment yeah that's

1524
00:51:15,510 --> 00:51:16,860
that's actually a really really good

1525
00:51:16,860 --> 00:51:19,140
question um preventive mechanisms are

1526
00:51:19,140 --> 00:51:20,760
always going to be better than then

1527
00:51:20,760 --> 00:51:22,350
detective mechanisms because an

1528
00:51:22,350 --> 00:51:24,240
infective mechanisms you always have a

1529
00:51:24,240 --> 00:51:26,070
higher probability or chance of false

1530
00:51:26,070 --> 00:51:28,590
positives and somebody missing them so

1531
00:51:28,590 --> 00:51:30,510
network segmentation locking down the

1532
00:51:30,510 --> 00:51:32,040
system from an application control

1533
00:51:32,040 --> 00:51:33,420
perspective what do you can user can do

1534
00:51:33,420 --> 00:51:35,070
limiting administrator little rights to

1535
00:51:35,070 --> 00:51:37,110
regular users that is absolutely going

1536
00:51:37,110 --> 00:51:40,080
to be substantially more effective than

1537
00:51:40,080 --> 00:51:42,060
an EDI product in every case and EDR

1538
00:51:42,060 --> 00:51:43,980
product is really the you fall back when

1539
00:51:43,980 --> 00:51:45,930
you when you in it remember before I saw

1540
00:51:45,930 --> 00:51:49,680
all about removing the noise right you

1541
00:51:49,680 --> 00:51:50,910
know if you if you can do network

1542
00:51:50,910 --> 00:51:52,770
segmentation you can do locking down to

1543
00:51:52,770 --> 00:51:54,060
the systems themselves of people that

1544
00:51:54,060 --> 00:51:54,630
are on them

1545
00:51:54,630 --> 00:51:56,310
you're really minimizing the amount of

1546
00:51:56,310 --> 00:51:57,510
noise that you have to deal with because

1547
00:51:57,510 --> 00:51:58,920
you've already locked it down from the

1548
00:51:58,920 --> 00:52:01,020
preventive perspective and then when ETR

1549
00:52:01,020 --> 00:52:03,000
Suleman play is that that that smaller

1550
00:52:03,000 --> 00:52:04,500
percentage percentage those those

1551
00:52:04,500 --> 00:52:06,120
baselines those unusual pieces on that

1552
00:52:06,120 --> 00:52:08,220
long tail the smaller pieces of

1553
00:52:08,220 --> 00:52:09,960
deviations that you're looking for and

1554
00:52:09,960 --> 00:52:11,580
becomes much easier to spot those and

1555
00:52:11,580 --> 00:52:14,280
find those then a a massive environment

1556
00:52:14,280 --> 00:52:16,890
that you have zero controls over it's a

1557
00:52:16,890 --> 00:52:18,420
much more effective strategy than just

1558
00:52:18,420 --> 00:52:19,860
you know slapping an EGR product in

1559
00:52:19,860 --> 00:52:21,600
place and hoping it's gonna solve the

1560
00:52:21,600 --> 00:52:23,670
world for you it typically doesn't good

1561
00:52:23,670 --> 00:52:26,580
question alright awesome and Dave I

1562
00:52:26,580 --> 00:52:28,170
think we're pretty much almost out of

1563
00:52:28,170 --> 00:52:31,410
time and thank you thank you ever so

1564
00:52:31,410 --> 00:52:33,840
much for doing this viii

1565
00:52:33,840 --> 00:52:36,500
we enjoyed that talk it was amazing and

1566
00:52:36,500 --> 00:52:38,880
thank you for all the good things you do

1567
00:52:38,880 --> 00:52:40,170
for the community and all the tools

1568
00:52:40,170 --> 00:52:42,180
you've released and sharing your

1569
00:52:42,180 --> 00:52:45,510
knowledge that you do on on other cons

1570
00:52:45,510 --> 00:52:48,110
and podcasts and things like this so

1571
00:52:48,110 --> 00:52:50,060
yeah I think everyone hears I can see

1572
00:52:50,060 --> 00:52:51,950
the Chan stuff everyone's really enjoyed

1573
00:52:51,950 --> 00:52:54,290
it so thank you very very much

1574
00:52:54,290 --> 00:52:56,000
is anything you want to say before we go

1575
00:52:56,000 --> 00:52:57,440
and once shout out to or anything you

1576
00:52:57,440 --> 00:52:59,060
want to bring up no I just want to thank

1577
00:52:59,060 --> 00:53:02,390
everybody for for we're coming on and

1578
00:53:02,390 --> 00:53:04,670
for having me here it's been really

1579
00:53:04,670 --> 00:53:06,290
really a pleasure you know what you all

1580
00:53:06,290 --> 00:53:08,480
are doing there is such an amazing thing

1581
00:53:08,480 --> 00:53:10,250
at the mini-hats Club I'm a huge huge

1582
00:53:10,250 --> 00:53:11,570
fan of you all and what you do on a

1583
00:53:11,570 --> 00:53:14,420
regular basis and again thank you all I

1584
00:53:14,420 --> 00:53:16,280
hope you have a rest using rest of the

1585
00:53:16,280 --> 00:53:18,890
conference and other Dave also is

1586
00:53:18,890 --> 00:53:24,680
thankful for for being yours also thank

1587
00:53:24,680 --> 00:53:25,580
you all very much for having me

1588
00:53:25,580 --> 00:53:27,440
appreciate it thank you man really

1589
00:53:27,440 --> 00:53:30,260
appreciate it and yeah awesome talk and

1590
00:53:30,260 --> 00:53:31,910
hopefully we'll catch you soon are you

1591
00:53:31,910 --> 00:53:33,740
talking about how soon any other console

1592
00:53:33,740 --> 00:53:36,200
coming up I have been I have been lately

1593
00:53:36,200 --> 00:53:38,270
speaking a few but I think I'm taking a

1594
00:53:38,270 --> 00:53:39,770
couple weeks off and then I'll kind of

1595
00:53:39,770 --> 00:53:41,390
go from there so but I'll definitely

1596
00:53:41,390 --> 00:53:42,620
post those out as we go along

1597
00:53:42,620 --> 00:53:46,270
awesome Dave thank you very much and

1598
00:53:46,270 --> 00:53:49,550
we've got a five minute break again just

1599
00:53:49,550 --> 00:53:51,940
over five

