1
00:00:00,599 --> 00:00:03,958
just a small correction<font color="#CCCCCC"> I'm actually not</font>

2
00:00:02,370 --> 00:00:07,490
<font color="#E5E5E5">a contributor</font><font color="#CCCCCC"> to Santa I've just been</font>

3
00:00:03,959 --> 00:00:09,990
<font color="#E5E5E5">following the project closely</font><font color="#CCCCCC"> I was</font>

4
00:00:07,490 --> 00:00:11,820
asked by<font color="#E5E5E5"> them if I would care</font><font color="#CCCCCC"> to turn</font>

5
00:00:09,990 --> 00:00:17,039
some<font color="#CCCCCC"> of</font><font color="#E5E5E5"> my knowledge of their project</font>

6
00:00:11,820 --> 00:00:21,119
into a paper so so I did<font color="#CCCCCC"> I made a best</font>

7
00:00:17,039 --> 00:00:22,320
effort to to be accurate<font color="#CCCCCC"> it's possible</font>

8
00:00:21,119 --> 00:00:22,470
<font color="#E5E5E5">there</font><font color="#CCCCCC"> are bugs and</font><font color="#E5E5E5"> that they will you</font>

9
00:00:22,320 --> 00:00:24,840
know

10
00:00:22,470 --> 00:00:26,220
rain rain fury down on me but I did run

11
00:00:24,840 --> 00:00:29,429
<font color="#CCCCCC">the paper past them and they signed off</font>

12
00:00:26,220 --> 00:00:30,960
<font color="#CCCCCC">on all of it so</font><font color="#E5E5E5"> anyway take take</font>

13
00:00:29,429 --> 00:00:35,910
everything<font color="#E5E5E5"> with at least a little</font><font color="#CCCCCC"> grain</font>

14
00:00:30,960 --> 00:00:40,110
<font color="#CCCCCC">of salt okay so so as as we said</font>

15
00:00:35,910 --> 00:00:42,089
sandstorm is a a new approach to web

16
00:00:40,110 --> 00:00:43,910
application hosting so I'll go into<font color="#CCCCCC"> some</font>

17
00:00:42,090 --> 00:00:47,180
<font color="#E5E5E5">details about</font><font color="#CCCCCC"> that in just a moment but</font>

18
00:00:43,910 --> 00:00:49,800
if you pay attention<font color="#CCCCCC"> to only one slide</font>

19
00:00:47,180 --> 00:00:51,600
<font color="#CCCCCC">read</font><font color="#E5E5E5"> this</font><font color="#CCCCCC"> one in its entirety I will</font>

20
00:00:49,800 --> 00:00:53,910
just basically<font color="#CCCCCC"> read it out loud</font>

21
00:00:51,600 --> 00:00:57,420
sandstorm is a<font color="#CCCCCC"> capability-based</font>

22
00:00:53,910 --> 00:00:59,608
design for hosting web applications and

23
00:00:57,420 --> 00:01:02,250
it<font color="#E5E5E5"> enables fundamentally this capability</font>

24
00:00:59,609 --> 00:01:05,700
design enables very very very

25
00:01:02,250 --> 00:01:08,159
<font color="#E5E5E5">fine-grained encapsulation of web</font>

26
00:01:05,700 --> 00:01:10,200
applications<font color="#E5E5E5"> it turns out that that</font>

27
00:01:08,159 --> 00:01:14,280
encapsulation can in many cases

28
00:01:10,200 --> 00:01:18,119
completely obviate concern about<font color="#CCCCCC"> lang</font>

29
00:01:14,280 --> 00:01:20,130
<font color="#CCCCCC">SEC problems so yes you can run programs</font>

30
00:01:18,119 --> 00:01:23,340
that have<font color="#CCCCCC"> path traversals or you can</font>

31
00:01:20,130 --> 00:01:25,920
have programs<font color="#CCCCCC"> that have buffer overflows</font>

32
00:01:23,340 --> 00:01:28,590
and it turns out in<font color="#CCCCCC"> many cases it no</font>

33
00:01:25,920 --> 00:01:33,470
longer matters<font color="#E5E5E5"> that's an interesting</font>

34
00:01:28,590 --> 00:01:36,930
premise the flip side<font color="#CCCCCC"> of</font><font color="#E5E5E5"> that is that</font>

35
00:01:33,470 --> 00:01:39,000
applications still have to pay<font color="#CCCCCC"> attention</font>

36
00:01:36,930 --> 00:01:40,890
to authorization<font color="#E5E5E5"> we'll see in a little</font>

37
00:01:39,000 --> 00:01:43,350
<font color="#E5E5E5">bit</font><font color="#CCCCCC"> that sandstorm takes care of</font><font color="#E5E5E5"> a great</font>

38
00:01:40,890 --> 00:01:45,750
deal<font color="#CCCCCC"> of</font><font color="#E5E5E5"> authorization within its</font>

39
00:01:43,350 --> 00:01:48,149
<font color="#CCCCCC">framework but applications still have to</font>

40
00:01:45,750 --> 00:01:50,880
care right is this request valid<font color="#E5E5E5"> should</font>

41
00:01:48,149 --> 00:01:53,640
<font color="#E5E5E5">I execute this</font><font color="#CCCCCC"> request capability</font>

42
00:01:50,880 --> 00:01:55,320
systems offer a perspective<font color="#E5E5E5"> or the</font>

43
00:01:53,640 --> 00:01:57,240
sandstorm design in particular<font color="#E5E5E5"> offers</font><font color="#CCCCCC"> a</font>

44
00:01:55,320 --> 00:01:59,369
perspective<font color="#E5E5E5"> where the question is this</font>

45
00:01:57,240 --> 00:02:03,689
<font color="#E5E5E5">request</font><font color="#CCCCCC"> authorized</font><font color="#E5E5E5"> is a question of</font>

46
00:01:59,369 --> 00:02:07,170
parsing<font color="#E5E5E5"> and therefore keep</font><font color="#CCCCCC"> lang SEC is</font>

47
00:02:03,689 --> 00:02:10,709
actually<font color="#CCCCCC"> relevant to a</font><font color="#E5E5E5"> maybe new part of</font>

48
00:02:07,170 --> 00:02:13,709
<font color="#E5E5E5">the computational job the computational</font>

49
00:02:10,709 --> 00:02:13,950
<font color="#E5E5E5">task it we no longer</font><font color="#CCCCCC"> care necessarily</font>

50
00:02:13,709 --> 00:02:17,430
<font color="#CCCCCC">about</font>

51
00:02:13,950 --> 00:02:19,470
<font color="#E5E5E5">are we no are we never going</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> look at</font>

52
00:02:17,430 --> 00:02:21,900
the wrong<font color="#E5E5E5"> file under client input but we</font>

53
00:02:19,470 --> 00:02:26,760
do care about are we<font color="#CCCCCC"> going to sign off</font>

54
00:02:21,900 --> 00:02:28,769
on a mutation request<font color="#E5E5E5"> for someone who</font>

55
00:02:26,760 --> 00:02:30,840
isn't authorized to mutate<font color="#E5E5E5"> anyway the</font>

56
00:02:28,769 --> 00:02:35,790
parser now turns out<font color="#E5E5E5"> to</font><font color="#CCCCCC"> be the right</font>

57
00:02:30,840 --> 00:02:37,500
<font color="#CCCCCC">place for for</font><font color="#E5E5E5"> validating authorization</font>

58
00:02:35,790 --> 00:02:40,019
<font color="#E5E5E5">okay so let's go through</font><font color="#CCCCCC"> this in</font><font color="#E5E5E5"> some</font>

59
00:02:37,500 --> 00:02:41,819
<font color="#CCCCCC">more detail how many people have stood</font>

60
00:02:40,019 --> 00:02:44,220
<font color="#CCCCCC">up</font><font color="#E5E5E5"> but</font><font color="#CCCCCC"> yeah just</font><font color="#E5E5E5"> say if you have a</font>

61
00:02:41,819 --> 00:02:46,890
question just<font color="#CCCCCC"> chime</font><font color="#E5E5E5"> out i chime in with</font>

62
00:02:44,220 --> 00:02:49,650
it<font color="#CCCCCC"> how many people have</font><font color="#E5E5E5"> ever stood</font><font color="#CCCCCC"> up a</font>

63
00:02:46,890 --> 00:02:50,250
web server<font color="#E5E5E5"> basically everybody yeah</font>

64
00:02:49,650 --> 00:02:54,390
right

65
00:02:50,250 --> 00:02:56,940
<font color="#E5E5E5">how much fun was it yeah right yeah</font>

66
00:02:54,390 --> 00:03:00,510
<font color="#E5E5E5">maybe the</font><font color="#CCCCCC"> first okay so if you've</font><font color="#E5E5E5"> ever</font>

67
00:02:56,940 --> 00:03:04,410
stood up<font color="#CCCCCC"> a multi-user multi application</font>

68
00:03:00,510 --> 00:03:06,720
web server<font color="#E5E5E5"> there you you put many</font>

69
00:03:04,410 --> 00:03:08,370
applications on the same machine<font color="#CCCCCC"> they</font>

70
00:03:06,720 --> 00:03:12,480
live side by side each other in the file

71
00:03:08,370 --> 00:03:14,519
system<font color="#E5E5E5"> when they ran maybe there was UID</font>

72
00:03:12,480 --> 00:03:16,738
based isolation<font color="#E5E5E5"> between them right maybe</font>

73
00:03:14,519 --> 00:03:19,500
you know you had a you a kernel user

74
00:03:16,739 --> 00:03:22,319
created per web application and<font color="#CCCCCC"> Apaches</font>

75
00:03:19,500 --> 00:03:28,139
sued<font color="#E5E5E5"> over to that user while it was</font>

76
00:03:22,319 --> 00:03:31,230
running the system design encourages

77
00:03:28,139 --> 00:03:33,450
<font color="#E5E5E5">ambient Authority right the contents of</font>

78
00:03:31,230 --> 00:03:35,548
/bin are world readable the contents of

79
00:03:33,450 --> 00:03:38,548
slash<font color="#CCCCCC"> etsy very largely world readable</font>

80
00:03:35,549 --> 00:03:40,260
<font color="#E5E5E5">right network access typically</font>

81
00:03:38,549 --> 00:03:42,090
unrestricted<font color="#E5E5E5"> right just by virtue of</font>

82
00:03:40,260 --> 00:03:44,850
running on the system<font color="#CCCCCC"> you gain the</font>

83
00:03:42,090 --> 00:03:46,290
ability to<font color="#E5E5E5"> make TCP connections so this</font>

84
00:03:44,850 --> 00:03:48,150
is we call this ambient<font color="#CCCCCC"> Authority</font><font color="#E5E5E5"> just</font>

85
00:03:46,290 --> 00:03:52,620
<font color="#CCCCCC">by existing</font><font color="#E5E5E5"> you have the right to do</font>

86
00:03:48,150 --> 00:03:54,060
<font color="#E5E5E5">something if there's a database involved</font>

87
00:03:52,620 --> 00:03:55,889
right there's typically<font color="#CCCCCC"> one database</font>

88
00:03:54,060 --> 00:03:59,040
involved for the whole server<font color="#E5E5E5"> one</font>

89
00:03:55,889 --> 00:04:01,170
database process<font color="#E5E5E5"> for the whole server it</font>

90
00:03:59,040 --> 00:04:04,560
<font color="#CCCCCC">has its own notion of users but users</font>

91
00:04:01,170 --> 00:04:05,970
<font color="#E5E5E5">again really mean applications so if</font>

92
00:04:04,560 --> 00:04:08,069
your applications are<font color="#CCCCCC"> juggling multiple</font>

93
00:04:05,970 --> 00:04:09,209
users those are<font color="#CCCCCC"> getting mapped down just</font>

94
00:04:08,069 --> 00:04:10,980
like they were with the kernel they're

95
00:04:09,209 --> 00:04:12,660
being mapped to one kernel user<font color="#E5E5E5"> they're</font>

96
00:04:10,980 --> 00:04:15,510
also being<font color="#E5E5E5"> mapped to one</font><font color="#CCCCCC"> database user</font>

97
00:04:12,660 --> 00:04:19,070
so these permission systems aren't going

98
00:04:15,510 --> 00:04:19,070
to help<font color="#E5E5E5"> you within an application</font>

99
00:04:20,478 --> 00:04:26,990
authentication and authorization

100
00:04:21,829 --> 00:04:26,990
questions abbreviated<font color="#CCCCCC"> often and RZ sorry</font>

101
00:04:27,300 --> 00:04:31,470
<font color="#E5E5E5">up to each application</font><font color="#CCCCCC"> right when you go</font>

102
00:04:29,520 --> 00:04:33,389
to<font color="#CCCCCC"> login when you go</font><font color="#E5E5E5"> to use an</font>

103
00:04:31,470 --> 00:04:36,060
<font color="#E5E5E5">application you have to authenticate</font><font color="#CCCCCC"> to</font>

104
00:04:33,389 --> 00:04:38,039
each application<font color="#E5E5E5"> in turn</font><font color="#CCCCCC"> your ackles</font>

105
00:04:36,060 --> 00:04:39,870
or your rights<font color="#E5E5E5"> within an application</font><font color="#CCCCCC"> are</font>

106
00:04:38,039 --> 00:04:42,318
managed within that application<font color="#E5E5E5"> there's</font>

107
00:04:39,870 --> 00:04:44,729
no<font color="#E5E5E5"> crosstalk there's</font><font color="#CCCCCC"> been some</font>

108
00:04:42,319 --> 00:04:47,460
development<font color="#E5E5E5"> in recent years to have</font>

109
00:04:44,729 --> 00:04:49,710
<font color="#E5E5E5">single sign-on systems but curiously all</font>

110
00:04:47,460 --> 00:04:52,258
of those require buy-in from<font color="#CCCCCC"> the</font>

111
00:04:49,710 --> 00:04:54,628
applications<font color="#E5E5E5"> and so your single sign-on</font>

112
00:04:52,259 --> 00:04:56,729
systems start to<font color="#CCCCCC"> look less like single</font>

113
00:04:54,629 --> 00:05:00,259
sign-on because that program doesn't

114
00:04:56,729 --> 00:05:02,539
<font color="#E5E5E5">support it whereas that one does right</font>

115
00:05:00,259 --> 00:05:06,810
<font color="#CCCCCC">this is a sad</font><font color="#E5E5E5"> story</font>

116
00:05:02,539 --> 00:05:10,949
<font color="#E5E5E5">how we got here is is</font><font color="#CCCCCC"> Markovian and</font>

117
00:05:06,810 --> 00:05:13,800
<font color="#CCCCCC">time-based</font><font color="#E5E5E5"> but it's still sad</font><font color="#CCCCCC"> oh yeah</font>

118
00:05:10,949 --> 00:05:16,860
and one last<font color="#E5E5E5"> thing I</font><font color="#CCCCCC"> forgot the web</font><font color="#E5E5E5"> was</font>

119
00:05:13,800 --> 00:05:18,979
never intended to be<font color="#E5E5E5"> what it is being</font>

120
00:05:16,860 --> 00:05:21,719
used<font color="#E5E5E5"> as now right it was it was a way of</font>

121
00:05:18,979 --> 00:05:25,378
<font color="#E5E5E5">shipping informational content it wasn't</font>

122
00:05:21,719 --> 00:05:26,759
<font color="#E5E5E5">designed as an application substrate so</font>

123
00:05:25,379 --> 00:05:28,860
there<font color="#E5E5E5"> are these things like cross-site</font>

124
00:05:26,759 --> 00:05:31,440
request forgeries and<font color="#E5E5E5"> cross-site</font>

125
00:05:28,860 --> 00:05:35,039
scripting attacks<font color="#CCCCCC"> sub resource integrity</font>

126
00:05:31,440 --> 00:05:36,690
and all of these things are big concerns

127
00:05:35,039 --> 00:05:38,340
for web applications and<font color="#E5E5E5"> every</font>

128
00:05:36,690 --> 00:05:42,509
<font color="#E5E5E5">application</font><font color="#CCCCCC"> has to</font><font color="#E5E5E5"> address them over and</font>

129
00:05:38,340 --> 00:05:47,130
<font color="#E5E5E5">over and over this is no way to run a</font>

130
00:05:42,509 --> 00:05:49,110
show so<font color="#E5E5E5"> in this environment</font><font color="#CCCCCC"> right</font><font color="#E5E5E5"> when I</font>

131
00:05:47,130 --> 00:05:51,659
say it's no way to<font color="#E5E5E5"> run a show what</font>

132
00:05:49,110 --> 00:05:55,020
happens<font color="#E5E5E5"> when there are Lang</font><font color="#CCCCCC"> SEC</font><font color="#E5E5E5"> style</font>

133
00:05:51,659 --> 00:05:56,940
bugs<font color="#E5E5E5"> in this world well the</font><font color="#CCCCCC"> simplest</font>

134
00:05:55,020 --> 00:05:58,859
<font color="#E5E5E5">thing is that you can have outright</font>

135
00:05:56,940 --> 00:06:01,560
confusion about<font color="#E5E5E5"> authentication or</font>

136
00:05:58,860 --> 00:06:04,229
authorization<font color="#CCCCCC"> right somebody leaks a</font>

137
00:06:01,560 --> 00:06:06,860
cookie via some debug channel and

138
00:06:04,229 --> 00:06:11,460
suddenly I can impersonate a user<font color="#E5E5E5"> right</font>

139
00:06:06,860 --> 00:06:13,590
<font color="#CCCCCC">or I can craft</font><font color="#E5E5E5"> cross-site requests right</font>

140
00:06:11,460 --> 00:06:15,448
which<font color="#E5E5E5"> are intrinsically</font><font color="#CCCCCC"> Lange SEC</font>

141
00:06:13,590 --> 00:06:18,539
problems right you somehow<font color="#E5E5E5"> we're able to</font>

142
00:06:15,449 --> 00:06:20,039
<font color="#CCCCCC">fabricate a</font><font color="#E5E5E5"> byte string</font><font color="#CCCCCC"> that caused an</font>

143
00:06:18,539 --> 00:06:21,690
action to<font color="#E5E5E5"> be taken even though you</font>

144
00:06:20,039 --> 00:06:26,669
didn't<font color="#E5E5E5"> have rights to perform that</font>

145
00:06:21,690 --> 00:06:29,430
action<font color="#E5E5E5"> path traversals huge problem if</font>

146
00:06:26,669 --> 00:06:31,289
you can convince a given application<font color="#CCCCCC"> to</font>

147
00:06:29,430 --> 00:06:32,969
<font color="#E5E5E5">engage in path traversal for you</font><font color="#CCCCCC"> write</font>

148
00:06:31,289 --> 00:06:37,620
read an arbitrary file from the file

149
00:06:32,969 --> 00:06:39,419
<font color="#CCCCCC">system</font><font color="#E5E5E5"> well almost</font><font color="#CCCCCC"> surely it will read</font>

150
00:06:37,620 --> 00:06:41,010
any file that<font color="#CCCCCC"> is part of that</font>

151
00:06:39,419 --> 00:06:43,020
application<font color="#CCCCCC"> so</font>

152
00:06:41,010 --> 00:06:45,210
if you have a shared<font color="#E5E5E5"> document</font><font color="#CCCCCC"> host with</font>

153
00:06:43,020 --> 00:06:48,900
other users<font color="#CCCCCC"> you can read any</font><font color="#E5E5E5"> of those</font>

154
00:06:45,210 --> 00:06:50,130
<font color="#E5E5E5">users documents likely you have access</font>

155
00:06:48,900 --> 00:06:52,440
or maybe you have access<font color="#CCCCCC"> to other</font>

156
00:06:50,130 --> 00:06:54,180
<font color="#CCCCCC">applications on the</font><font color="#E5E5E5"> web server</font><font color="#CCCCCC"> if you're</font>

157
00:06:52,440 --> 00:06:57,719
not doing UID isolation or if you have

158
00:06:54,180 --> 00:07:00,330
incorrectly UID isolated them<font color="#E5E5E5"> and you</font>

159
00:06:57,720 --> 00:07:02,160
again<font color="#CCCCCC"> very likely have access to system</font>

160
00:07:00,330 --> 00:07:03,840
configuration<font color="#CCCCCC"> so if you're running</font><font color="#E5E5E5"> say a</font>

161
00:07:02,160 --> 00:07:05,850
tor<font color="#CCCCCC"> hidden service and there's a path</font>

162
00:07:03,840 --> 00:07:07,049
traversal right well someone<font color="#E5E5E5"> can dump</font>

163
00:07:05,850 --> 00:07:08,490
<font color="#CCCCCC">your network configuration and</font>

164
00:07:07,050 --> 00:07:12,210
completely<font color="#CCCCCC"> d-- anonymize the</font><font color="#E5E5E5"> machine</font>

165
00:07:08,490 --> 00:07:14,130
right so<font color="#CCCCCC"> lying SEC bugs are anywhere</font>

166
00:07:12,210 --> 00:07:17,219
<font color="#CCCCCC">from minor nuisances to completely cat</font>

167
00:07:14,130 --> 00:07:18,900
catastrophic<font color="#CCCCCC"> in this world</font><font color="#E5E5E5"> and of course</font>

168
00:07:17,220 --> 00:07:20,250
there's<font color="#E5E5E5"> also code injection</font><font color="#CCCCCC"> or</font><font color="#E5E5E5"> sight</font>

169
00:07:18,900 --> 00:07:23,370
<font color="#E5E5E5">path reversals now there's also code</font>

170
00:07:20,250 --> 00:07:25,500
<font color="#CCCCCC">injection right</font><font color="#E5E5E5"> where the parser is not</font>

171
00:07:23,370 --> 00:07:27,090
only<font color="#E5E5E5"> miss parsing but is you know</font>

172
00:07:25,500 --> 00:07:29,370
overflowing buffers<font color="#E5E5E5"> and all of that bad</font>

173
00:07:27,090 --> 00:07:31,770
<font color="#CCCCCC">stuff once you can run code on the</font>

174
00:07:29,370 --> 00:07:35,010
machine all of<font color="#CCCCCC"> the</font><font color="#E5E5E5"> ambient authority of</font>

175
00:07:31,770 --> 00:07:37,560
the web application becomes becomes part

176
00:07:35,010 --> 00:07:39,719
of your attacking<font color="#E5E5E5"> arsenal that</font><font color="#CCCCCC"> you can</font>

177
00:07:37,560 --> 00:07:42,690
probe<font color="#E5E5E5"> the local</font><font color="#CCCCCC"> filesystem</font><font color="#E5E5E5"> arbitrarily</font>

178
00:07:39,720 --> 00:07:46,050
<font color="#E5E5E5">even mutate files if you can write you</font>

179
00:07:42,690 --> 00:07:49,070
can<font color="#E5E5E5"> make loopback connections sometimes</font>

180
00:07:46,050 --> 00:07:51,600
those are<font color="#E5E5E5"> more privileged just by Fiat</font>

181
00:07:49,070 --> 00:07:53,070
<font color="#CCCCCC">you can make remote network</font><font color="#E5E5E5"> connections</font>

182
00:07:51,600 --> 00:07:55,560
so<font color="#E5E5E5"> you</font><font color="#CCCCCC"> can use a compromised machine as</font>

183
00:07:53,070 --> 00:07:56,969
a<font color="#E5E5E5"> springboard you can probe the local</font>

184
00:07:55,560 --> 00:07:59,490
kernel for vulnerabilities right this is

185
00:07:56,970 --> 00:08:01,290
this is bad<font color="#E5E5E5"> right hopefully everyone</font>

186
00:07:59,490 --> 00:08:02,730
agrees that there's<font color="#E5E5E5"> just like reason</font>

187
00:08:01,290 --> 00:08:06,540
after<font color="#CCCCCC"> the reason that the current state</font>

188
00:08:02,730 --> 00:08:08,690
<font color="#E5E5E5">is bad so what are we going to do what</font>

189
00:08:06,540 --> 00:08:11,850
does sandstorm do in<font color="#E5E5E5"> particular</font>

190
00:08:08,690 --> 00:08:14,520
<font color="#E5E5E5">sandstone replaces the web server with</font>

191
00:08:11,850 --> 00:08:17,820
an application<font color="#E5E5E5"> supervisor it's actually</font>

192
00:08:14,520 --> 00:08:21,359
very<font color="#E5E5E5"> much</font><font color="#CCCCCC"> like a kernel you could maybe</font>

193
00:08:17,820 --> 00:08:23,340
argue that it<font color="#CCCCCC"> should be a kernel it is</font>

194
00:08:21,360 --> 00:08:24,750
not a web<font color="#CCCCCC"> application firewall for</font><font color="#E5E5E5"> those</font>

195
00:08:23,340 --> 00:08:28,320
of you who know the term right it's<font color="#E5E5E5"> a</font>

196
00:08:24,750 --> 00:08:29,910
sandstorm<font color="#CCCCCC"> does not sit between in a</font>

197
00:08:28,320 --> 00:08:31,650
<font color="#CCCCCC">content way</font><font color="#E5E5E5"> does</font><font color="#CCCCCC"> not sit between</font><font color="#E5E5E5"> an</font>

198
00:08:29,910 --> 00:08:37,979
application in<font color="#E5E5E5"> the client it simply</font>

199
00:08:31,650 --> 00:08:39,569
routes display content through it the

200
00:08:37,979 --> 00:08:42,979
big changes<font color="#E5E5E5"> that we make to</font><font color="#CCCCCC"> the</font>

201
00:08:39,570 --> 00:08:46,290
<font color="#E5E5E5">framework we're going to centralized</font>

202
00:08:42,979 --> 00:08:49,980
authentication<font color="#CCCCCC"> right</font><font color="#E5E5E5"> we're going to make</font>

203
00:08:46,290 --> 00:08:51,780
the supervisor<font color="#E5E5E5"> aware of users and the</font>

204
00:08:49,980 --> 00:08:54,810
supervisor will tell an application

205
00:08:51,780 --> 00:08:56,550
which user is using<font color="#E5E5E5"> them right</font>

206
00:08:54,810 --> 00:09:01,829
<font color="#CCCCCC">skyy named Nathaniel</font><font color="#E5E5E5"> is making this</font>

207
00:08:56,550 --> 00:09:03,900
<font color="#E5E5E5">request we're also going to Sentret</font><font color="#CCCCCC"> Skyy</font>

208
00:09:01,830 --> 00:09:08,940
been done with SSO<font color="#E5E5E5"> we're also going to</font>

209
00:09:03,900 --> 00:09:11,670
<font color="#CCCCCC">centralized authorization to</font><font color="#E5E5E5"> the to the</font>

210
00:09:08,940 --> 00:09:15,930
supervisor<font color="#E5E5E5"> so an</font><font color="#CCCCCC"> application is going</font><font color="#E5E5E5"> to</font>

211
00:09:11,670 --> 00:09:18,120
<font color="#E5E5E5">say users that use me have some subset</font>

212
00:09:15,930 --> 00:09:21,300
of these rights you know<font color="#CCCCCC"> read/write em</font>

213
00:09:18,120 --> 00:09:25,200
you know administrate<font color="#CCCCCC"> and the supervisor</font>

214
00:09:21,300 --> 00:09:29,040
will manage what rights and a user has

215
00:09:25,200 --> 00:09:30,540
to each application<font color="#E5E5E5"> every request that</font>

216
00:09:29,040 --> 00:09:34,189
goes<font color="#CCCCCC"> to the application will be paired</font>

217
00:09:30,540 --> 00:09:37,170
with<font color="#E5E5E5"> the rights that that user has</font>

218
00:09:34,190 --> 00:09:39,510
having<font color="#E5E5E5"> done that</font><font color="#CCCCCC"> we will find and I'm</font>

219
00:09:37,170 --> 00:09:41,760
<font color="#CCCCCC">gonna skip a bunch of the steps I'll go</font>

220
00:09:39,510 --> 00:09:44,010
back<font color="#E5E5E5"> to them having</font><font color="#CCCCCC"> done that</font><font color="#E5E5E5"> we will</font>

221
00:09:41,760 --> 00:09:47,040
<font color="#E5E5E5">find</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> we can sandbox</font><font color="#CCCCCC"> our</font>

222
00:09:44,010 --> 00:09:48,990
applications very very tightly<font color="#CCCCCC"> in many</font>

223
00:09:47,040 --> 00:09:51,329
<font color="#E5E5E5">cases we will be able to sandbox an</font>

224
00:09:48,990 --> 00:09:56,880
individual document<font color="#E5E5E5"> we will be able to</font>

225
00:09:51,330 --> 00:09:59,700
put that in a container process<font color="#E5E5E5"> and the</font>

226
00:09:56,880 --> 00:10:01,620
upshot of that<font color="#E5E5E5"> is if you have access</font><font color="#CCCCCC"> to</font>

227
00:09:59,700 --> 00:10:04,350
<font color="#CCCCCC">that</font><font color="#E5E5E5"> application you</font><font color="#CCCCCC"> have access</font><font color="#E5E5E5"> only to</font>

228
00:10:01,620 --> 00:10:05,640
<font color="#E5E5E5">that document nothing more that includes</font>

229
00:10:04,350 --> 00:10:07,470
if you have code<font color="#CCCCCC"> injection attacks</font>

230
00:10:05,640 --> 00:10:10,949
against that application doesn't<font color="#E5E5E5"> buy you</font>

231
00:10:07,470 --> 00:10:15,180
anything<font color="#E5E5E5"> all right</font>

232
00:10:10,950 --> 00:10:16,680
<font color="#E5E5E5">so to recap</font><font color="#CCCCCC"> the old world right you put</font>

233
00:10:15,180 --> 00:10:20,670
on<font color="#E5E5E5"> your administrator credentials and</font>

234
00:10:16,680 --> 00:10:23,250
you install the web server<font color="#E5E5E5"> and the</font>

235
00:10:20,670 --> 00:10:25,099
applications to that web server you had

236
00:10:23,250 --> 00:10:27,420
users registered with each application

237
00:10:25,100 --> 00:10:29,790
<font color="#E5E5E5">the application</font><font color="#CCCCCC"> did a lot of work</font>

238
00:10:27,420 --> 00:10:33,719
internally<font color="#E5E5E5"> to juggle multiple objects</font>

239
00:10:29,790 --> 00:10:37,079
<font color="#E5E5E5">rights to those objects and also tracked</font>

240
00:10:33,720 --> 00:10:41,790
internally<font color="#E5E5E5"> what the the rights of users</font>

241
00:10:37,080 --> 00:10:43,830
<font color="#E5E5E5">were in this new world</font><font color="#CCCCCC"> right we only</font>

242
00:10:41,790 --> 00:10:45,599
<font color="#E5E5E5">have to put</font><font color="#CCCCCC"> on our admin credentials</font>

243
00:10:43,830 --> 00:10:49,020
once<font color="#CCCCCC"> to install the sandstrom</font><font color="#E5E5E5"> server</font>

244
00:10:45,600 --> 00:10:51,959
<font color="#E5E5E5">after</font><font color="#CCCCCC"> that and our users can install</font>

245
00:10:49,020 --> 00:10:53,819
<font color="#E5E5E5">arbitrary applications at any moment any</font>

246
00:10:51,959 --> 00:10:55,319
user<font color="#E5E5E5"> of your system can install any code</font>

247
00:10:53,820 --> 00:10:59,760
<font color="#CCCCCC">that they want</font><font color="#E5E5E5"> without needing</font>

248
00:10:55,320 --> 00:11:01,920
privileges users register once with this

249
00:10:59,760 --> 00:11:05,520
core instead of once with every

250
00:11:01,920 --> 00:11:07,260
<font color="#CCCCCC">application and then the users will</font>

251
00:11:05,520 --> 00:11:08,699
instantiate applications they will say I

252
00:11:07,260 --> 00:11:10,410
<font color="#E5E5E5">want a new document</font>

253
00:11:08,700 --> 00:11:14,280
of that kind<font color="#E5E5E5"> or I want a new</font><font color="#CCCCCC"> wiki of</font>

254
00:11:10,410 --> 00:11:18,510
that engine<font color="#E5E5E5"> these grains begin as</font>

255
00:11:14,280 --> 00:11:20,160
private to<font color="#E5E5E5"> the</font><font color="#CCCCCC"> creator then when the</font>

256
00:11:18,510 --> 00:11:22,410
user<font color="#CCCCCC"> has set up the application the way</font>

257
00:11:20,160 --> 00:11:24,180
that they want they<font color="#E5E5E5"> will share access to</font>

258
00:11:22,410 --> 00:11:28,530
that with other agents<font color="#E5E5E5"> through the</font>

259
00:11:24,180 --> 00:11:30,120
sandstorm supervisor so what<font color="#E5E5E5"> this looks</font>

260
00:11:28,530 --> 00:11:33,420
like<font color="#E5E5E5"> from a user's perspective here's</font>

261
00:11:30,120 --> 00:11:37,290
sandstorm<font color="#E5E5E5"> running on one of one of my</font>

262
00:11:33,420 --> 00:11:39,810
<font color="#E5E5E5">machines back at Hopkins it looks kind</font>

263
00:11:37,290 --> 00:11:41,790
of like<font color="#E5E5E5"> an app store right that's weird</font>

264
00:11:39,810 --> 00:11:45,479
web servers<font color="#CCCCCC"> don't usually look like App</font>

265
00:11:41,790 --> 00:11:48,510
Store's do they so to give an example<font color="#CCCCCC"> if</font>

266
00:11:45,480 --> 00:11:51,540
I want to<font color="#E5E5E5"> make a new tech document to</font>

267
00:11:48,510 --> 00:11:55,050
share with people<font color="#CCCCCC"> I will bring up the</font>

268
00:11:51,540 --> 00:11:59,760
share la tech page and you can<font color="#CCCCCC"> see</font><font color="#E5E5E5"> that</font>

269
00:11:55,050 --> 00:12:01,199
I have<font color="#E5E5E5"> I already have a grain of share</font>

270
00:11:59,760 --> 00:12:04,170
<font color="#CCCCCC">law tech started that is in fact</font><font color="#E5E5E5"> the</font>

271
00:12:01,200 --> 00:12:09,450
<font color="#E5E5E5">paper for this conference</font><font color="#CCCCCC"> and if I want</font>

272
00:12:04,170 --> 00:12:12,060
a<font color="#E5E5E5"> new</font><font color="#CCCCCC"> one I just click to create</font><font color="#E5E5E5"> new so</font>

273
00:12:09,450 --> 00:12:15,000
when I've got my document up and running

274
00:12:12,060 --> 00:12:18,449
so this frame is managed by the

275
00:12:15,000 --> 00:12:21,690
sandstone<font color="#E5E5E5"> core the con the application</font>

276
00:12:18,450 --> 00:12:23,580
itself is essentially unmodified<font color="#E5E5E5"> it's</font>

277
00:12:21,690 --> 00:12:24,990
providing some<font color="#CCCCCC"> HTML back to sandstorm</font>

278
00:12:23,580 --> 00:12:27,650
and says<font color="#E5E5E5"> please show this to the user</font>

279
00:12:24,990 --> 00:12:31,440
<font color="#CCCCCC">sandstorm forwards it</font><font color="#E5E5E5"> on to me</font>

280
00:12:27,650 --> 00:12:35,459
once that's<font color="#E5E5E5"> ready to be shared</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> ask</font>

281
00:12:31,440 --> 00:12:38,760
sandstorm<font color="#E5E5E5"> to please grant read and write</font>

282
00:12:35,460 --> 00:12:40,230
access in this case<font color="#E5E5E5"> to other people</font><font color="#CCCCCC"> I</font>

283
00:12:38,760 --> 00:12:44,550
can<font color="#CCCCCC"> actually send them email through the</font>

284
00:12:40,230 --> 00:12:47,040
<font color="#E5E5E5">system or I can just</font><font color="#CCCCCC"> grab</font><font color="#E5E5E5"> a a URL URL</font>

285
00:12:44,550 --> 00:12:49,560
<font color="#E5E5E5">looks like that if you were to go to</font>

286
00:12:47,040 --> 00:12:51,569
that<font color="#E5E5E5"> if you're feeling ambitious you can</font>

287
00:12:49,560 --> 00:12:52,560
type<font color="#CCCCCC"> that in you don't</font><font color="#E5E5E5"> have to write if</font>

288
00:12:51,570 --> 00:12:54,930
you<font color="#E5E5E5"> were to go</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> that you</font><font color="#CCCCCC"> would</font>

289
00:12:52,560 --> 00:12:57,989
<font color="#E5E5E5">actually get</font><font color="#CCCCCC"> read/write access to this</font>

290
00:12:54,930 --> 00:13:00,030
document<font color="#E5E5E5"> if you</font><font color="#CCCCCC"> I see some people</font>

291
00:12:57,990 --> 00:13:05,460
copying<font color="#E5E5E5"> down I should have put a QR code</font>

292
00:13:00,030 --> 00:13:09,510
<font color="#CCCCCC">up</font><font color="#E5E5E5"> so you will get</font><font color="#CCCCCC"> read/write</font><font color="#E5E5E5"> access to</font>

293
00:13:05,460 --> 00:13:11,220
this grain I and if you<font color="#E5E5E5"> register with</font>

294
00:13:09,510 --> 00:13:13,020
sent with that instance of sandstorm

295
00:13:11,220 --> 00:13:18,960
<font color="#CCCCCC">that will become associated with your</font>

296
00:13:13,020 --> 00:13:22,560
user account so what's going on<font color="#E5E5E5"> within</font>

297
00:13:18,960 --> 00:13:27,450
<font color="#E5E5E5">this kernel the supervisor is tracking</font>

298
00:13:22,560 --> 00:13:30,199
capabilities of rights<font color="#E5E5E5"> to</font><font color="#CCCCCC"> grains</font><font color="#E5E5E5"> so I</font>

299
00:13:27,450 --> 00:13:33,960
said<font color="#E5E5E5"> before that each application tells</font>

300
00:13:30,200 --> 00:13:36,420
sandstorm what rights<font color="#E5E5E5"> means so for</font>

301
00:13:33,960 --> 00:13:38,700
<font color="#CCCCCC">Charlotte ech</font><font color="#E5E5E5"> it's really simple right</font>

302
00:13:36,420 --> 00:13:41,069
if it's just one document<font color="#E5E5E5"> and you</font><font color="#CCCCCC"> can</font>

303
00:13:38,700 --> 00:13:44,160
either read it<font color="#E5E5E5"> or you</font><font color="#CCCCCC"> can read and write</font>

304
00:13:41,070 --> 00:13:47,580
it it's a very<font color="#E5E5E5"> straightforward access</font>

305
00:13:44,160 --> 00:13:50,100
model the docq wiki port for example has

306
00:13:47,580 --> 00:13:52,470
a couple more or you know slightly<font color="#E5E5E5"> more</font>

307
00:13:50,100 --> 00:13:54,270
fine-grained access there are users<font color="#E5E5E5"> of</font>

308
00:13:52,470 --> 00:13:56,850
the wiki<font color="#E5E5E5"> there are managers of the wiki</font>

309
00:13:54,270 --> 00:13:59,279
<font color="#CCCCCC">and there are administrators users can</font>

310
00:13:56,850 --> 00:14:00,570
<font color="#E5E5E5">read and write existing stuff managers I</font>

311
00:13:59,279 --> 00:14:02,189
think can delete pages and

312
00:14:00,570 --> 00:14:04,080
administrators I forget what they can do

313
00:14:02,190 --> 00:14:08,160
but the<font color="#E5E5E5"> point is make relatively simple</font>

314
00:14:04,080 --> 00:14:10,800
delineation of<font color="#E5E5E5"> rights when a grain is</font>

315
00:14:08,160 --> 00:14:14,490
created the<font color="#CCCCCC"> Creator</font><font color="#E5E5E5"> gets all of the</font>

316
00:14:10,800 --> 00:14:16,680
rights<font color="#E5E5E5"> and no one else</font><font color="#CCCCCC"> gets anything</font><font color="#E5E5E5"> by</font>

317
00:14:14,490 --> 00:14:22,790
default<font color="#E5E5E5"> right so everything starts off</font>

318
00:14:16,680 --> 00:14:27,270
<font color="#CCCCCC">private then users delegate rights</font>

319
00:14:22,790 --> 00:14:28,980
delegate<font color="#CCCCCC"> access to the grain so that is</font>

320
00:14:27,270 --> 00:14:33,050
to<font color="#E5E5E5"> say they create a new</font><font color="#CCCCCC"> capability</font>

321
00:14:28,980 --> 00:14:35,339
object<font color="#E5E5E5"> at one of those new URLs that</font>

322
00:14:33,050 --> 00:14:39,990
<font color="#CCCCCC">gets</font><font color="#E5E5E5"> turned into some database</font><font color="#CCCCCC"> rows</font>

323
00:14:35,339 --> 00:14:42,770
internally<font color="#E5E5E5"> I they are</font><font color="#CCCCCC"> able to</font><font color="#E5E5E5"> delegate</font>

324
00:14:39,990 --> 00:14:46,560
<font color="#E5E5E5">any subset of any access that they have</font>

325
00:14:42,770 --> 00:14:48,569
so if I've<font color="#E5E5E5"> created something I can give</font>

326
00:14:46,560 --> 00:14:49,829
out read access<font color="#E5E5E5"> to you know this half of</font>

327
00:14:48,570 --> 00:14:52,290
<font color="#E5E5E5">the room</font><font color="#CCCCCC"> and read/write</font><font color="#E5E5E5"> access to that</font>

328
00:14:49,830 --> 00:14:55,230
half of<font color="#E5E5E5"> the room the really fun thing is</font>

329
00:14:52,290 --> 00:14:57,810
anyone then in this half of the room<font color="#E5E5E5"> can</font>

330
00:14:55,230 --> 00:15:00,630
can cause<font color="#E5E5E5"> their read access to</font><font color="#CCCCCC"> be given</font>

331
00:14:57,810 --> 00:15:03,119
to somebody<font color="#E5E5E5"> else to write delegation is</font>

332
00:15:00,630 --> 00:15:04,410
a transitive<font color="#E5E5E5"> move in this system</font><font color="#CCCCCC"> right</font>

333
00:15:03,120 --> 00:15:06,990
you guys<font color="#E5E5E5"> if you had</font><font color="#CCCCCC"> readwrite access</font>

334
00:15:04,410 --> 00:15:08,420
could give<font color="#E5E5E5"> write access to anyone to act</font>

335
00:15:06,990 --> 00:15:11,339
on your<font color="#E5E5E5"> behalf</font>

336
00:15:08,420 --> 00:15:14,069
<font color="#E5E5E5">the kernel keeps track of provenance of</font>

337
00:15:11,339 --> 00:15:16,650
all of these<font color="#E5E5E5"> things so if if someone</font>

338
00:15:14,070 --> 00:15:19,440
<font color="#E5E5E5">over here shares with someone I get to</font>

339
00:15:16,650 --> 00:15:21,270
see that<font color="#CCCCCC"> that has taken</font><font color="#E5E5E5"> place</font><font color="#CCCCCC"> and if I</font>

340
00:15:19,440 --> 00:15:23,820
don't<font color="#CCCCCC"> like that I can actually go and</font>

341
00:15:21,270 --> 00:15:25,680
revoke permissions<font color="#E5E5E5"> and I can say no</font>

342
00:15:23,820 --> 00:15:27,570
right I didn't mean to<font color="#CCCCCC"> give this half of</font>

343
00:15:25,680 --> 00:15:29,339
the room<font color="#E5E5E5"> readwrite access you meant I</font>

344
00:15:27,570 --> 00:15:32,190
<font color="#CCCCCC">meant to give you read read-only and</font>

345
00:15:29,339 --> 00:15:35,450
anything that<font color="#E5E5E5"> you have delegated also</font>

346
00:15:32,190 --> 00:15:35,450
loses that<font color="#CCCCCC"> write access</font>

347
00:15:37,170 --> 00:15:54,430
yeah<font color="#CCCCCC"> without removing the access to the</font>

348
00:15:51,130 --> 00:15:56,890
the<font color="#E5E5E5"> initial one um that should be</font>

349
00:15:54,430 --> 00:16:04,900
<font color="#CCCCCC">possible I don't know off the top of my</font>

350
00:15:56,890 --> 00:16:14,319
<font color="#E5E5E5">head the thank you yeah we would have</font><font color="#CCCCCC"> to</font>

351
00:16:04,900 --> 00:16:16,150
ask them<font color="#CCCCCC"> yeah so this</font><font color="#E5E5E5"> actually there's a</font>

352
00:16:14,320 --> 00:16:17,770
there's a fine tangent we could go into

353
00:16:16,150 --> 00:16:20,110
<font color="#CCCCCC">about capability theory and Confused</font>

354
00:16:17,770 --> 00:16:21,970
deputies for humans<font color="#CCCCCC"> sandstorm actually</font>

355
00:16:20,110 --> 00:16:24,850
draws a distinction between humans<font color="#E5E5E5"> and</font>

356
00:16:21,970 --> 00:16:28,089
non-human agents for humans<font color="#E5E5E5"> your rights</font>

357
00:16:24,850 --> 00:16:29,140
merge so if you are sitting in<font color="#E5E5E5"> the</font>

358
00:16:28,089 --> 00:16:30,460
middle of<font color="#E5E5E5"> the room</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> you have read</font>

359
00:16:29,140 --> 00:16:32,529
<font color="#E5E5E5">access from over here</font><font color="#CCCCCC"> and read/write</font>

360
00:16:30,460 --> 00:16:34,060
access from over there<font color="#CCCCCC"> if I read if</font><font color="#E5E5E5"> I</font>

361
00:16:32,529 --> 00:16:37,240
revoke all of that you<font color="#E5E5E5"> still maintain</font>

362
00:16:34,060 --> 00:16:39,910
<font color="#E5E5E5">your read access</font><font color="#CCCCCC"> you as a</font><font color="#E5E5E5"> human don't</font>

363
00:16:37,240 --> 00:16:42,540
have to<font color="#E5E5E5"> juggle multiple capabilities</font><font color="#CCCCCC"> you</font>

364
00:16:39,910 --> 00:16:47,310
maintain the union of all<font color="#E5E5E5"> of your rights</font>

365
00:16:42,540 --> 00:16:49,959
good question so while the the

366
00:16:47,310 --> 00:16:53,050
supervisor is running<font color="#E5E5E5"> what it's doing is</font>

367
00:16:49,959 --> 00:16:54,790
<font color="#CCCCCC">it's juggling sessions</font><font color="#E5E5E5"> right so every</font>

368
00:16:53,050 --> 00:16:58,120
user that's connected to a grain is a

369
00:16:54,790 --> 00:17:00,480
<font color="#E5E5E5">session the grains are spun up and spun</font>

370
00:16:58,120 --> 00:17:03,730
down as<font color="#E5E5E5"> needed right so we don't have</font>

371
00:17:00,480 --> 00:17:05,679
demons<font color="#E5E5E5"> running for every document that's</font>

372
00:17:03,730 --> 00:17:08,370
ever been created<font color="#CCCCCC"> on this server</font><font color="#E5E5E5"> it's</font>

373
00:17:05,679 --> 00:17:12,280
only the ones that are<font color="#E5E5E5"> actively in use</font>

374
00:17:08,369 --> 00:17:16,329
and the neat trick is that<font color="#CCCCCC"> at sessions</font>

375
00:17:12,280 --> 00:17:20,530
<font color="#E5E5E5">start up the grain is told what rights</font>

376
00:17:16,329 --> 00:17:22,569
are attached to<font color="#CCCCCC"> that session</font><font color="#E5E5E5"> so all the</font>

377
00:17:20,530 --> 00:17:25,300
application has to do in order<font color="#CCCCCC"> to ensure</font>

378
00:17:22,569 --> 00:17:28,300
<font color="#CCCCCC">that authored that authorization</font><font color="#E5E5E5"> takes</font>

379
00:17:25,300 --> 00:17:31,300
place is it just needs to<font color="#E5E5E5"> check that a</font>

380
00:17:28,300 --> 00:17:34,300
request<font color="#E5E5E5"> is within the rights conveyed by</font>

381
00:17:31,300 --> 00:17:36,070
<font color="#CCCCCC">this session right there's no</font>

382
00:17:34,300 --> 00:17:38,260
complicated<font color="#E5E5E5"> internal database of users</font>

383
00:17:36,070 --> 00:17:40,540
<font color="#CCCCCC">and permissions it's just this</font><font color="#E5E5E5"> session</font>

384
00:17:38,260 --> 00:17:44,550
is allowed to<font color="#CCCCCC"> write this</font><font color="#E5E5E5"> is a request</font>

385
00:17:40,540 --> 00:17:44,550
<font color="#E5E5E5">that is a write request that's permitted</font>

386
00:17:45,360 --> 00:17:48,280
<font color="#E5E5E5">because the</font><font color="#CCCCCC"> sandstorm is in a good</font>

387
00:17:47,260 --> 00:17:50,110
position as

388
00:17:48,280 --> 00:17:52,060
supervisor it can actually<font color="#E5E5E5"> deploy some</font>

389
00:17:50,110 --> 00:17:55,510
defenses against web attacks<font color="#E5E5E5"> web</font>

390
00:17:52,060 --> 00:17:58,110
specific attacks<font color="#CCCCCC"> so every session gets</font>

391
00:17:55,510 --> 00:18:01,450
thrown<font color="#CCCCCC"> on to a random hostname big long</font>

392
00:17:58,110 --> 00:18:03,120
unguessable string<font color="#CCCCCC"> this helps against</font>

393
00:18:01,450 --> 00:18:08,560
cross-site request forgery and

394
00:18:03,120 --> 00:18:11,489
cross-site scripting attacks<font color="#CCCCCC"> okay within</font>

395
00:18:08,560 --> 00:18:14,530
<font color="#E5E5E5">a grain and here's the the</font><font color="#CCCCCC"> meet of the</font>

396
00:18:11,490 --> 00:18:17,220
mitigating<font color="#CCCCCC"> Lang SEC problems within a</font>

397
00:18:14,530 --> 00:18:19,960
grain<font color="#E5E5E5"> there's relatively little there</font>

398
00:18:17,220 --> 00:18:23,110
<font color="#E5E5E5">the file system which is constructed as</font>

399
00:18:19,960 --> 00:18:25,600
a private namespace contains only<font color="#E5E5E5"> the</font>

400
00:18:23,110 --> 00:18:28,540
application code mapped<font color="#CCCCCC"> read-only</font><font color="#E5E5E5"> and</font>

401
00:18:25,600 --> 00:18:30,639
the<font color="#E5E5E5"> app the grains data mapped readwrite</font>

402
00:18:28,540 --> 00:18:32,170
right then there's a minimal collection

403
00:18:30,640 --> 00:18:33,760
of like device nodes and binaries<font color="#CCCCCC"> that</font>

404
00:18:32,170 --> 00:18:35,530
you have to have to run the system<font color="#CCCCCC"> all</font>

405
00:18:33,760 --> 00:18:38,500
<font color="#E5E5E5">of that's</font><font color="#CCCCCC"> readwrite</font><font color="#E5E5E5"> you can't make more</font>

406
00:18:35,530 --> 00:18:40,660
device nodes you are<font color="#E5E5E5"> completely cut off</font>

407
00:18:38,500 --> 00:18:44,410
<font color="#E5E5E5">as a grain from the native network it's</font>

408
00:18:40,660 --> 00:18:46,590
just not there<font color="#E5E5E5"> and the system call</font>

409
00:18:44,410 --> 00:18:49,540
<font color="#E5E5E5">vocabulary is dramatically filtered down</font>

410
00:18:46,590 --> 00:18:54,100
<font color="#CCCCCC">it some hundred or so of the system</font>

411
00:18:49,540 --> 00:18:55,600
calls are<font color="#E5E5E5"> just prohibited so how do you</font>

412
00:18:54,100 --> 00:18:59,169
actually<font color="#CCCCCC"> communicate in that</font><font color="#E5E5E5"> world</font>

413
00:18:55,600 --> 00:19:02,919
well the supervisor which execs<font color="#E5E5E5"> the</font>

414
00:18:59,170 --> 00:19:04,630
grain<font color="#CCCCCC"> simply carries a socket</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> the</font>

415
00:19:02,920 --> 00:19:07,960
supervisor along with it right across

416
00:19:04,630 --> 00:19:09,760
exec so all communication<font color="#CCCCCC"> to the outside</font>

417
00:19:07,960 --> 00:19:11,890
<font color="#CCCCCC">world goes through the sandstone core</font>

418
00:19:09,760 --> 00:19:15,370
and it goes<font color="#CCCCCC"> over a cap and protorpc</font>

419
00:19:11,890 --> 00:19:17,500
mechanism so the<font color="#CCCCCC"> supervisor</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> sense</font>

420
00:19:15,370 --> 00:19:20,649
<font color="#CCCCCC">form supervisor really is acting like</font>

421
00:19:17,500 --> 00:19:21,940
<font color="#E5E5E5">the kernel it's the way that this</font><font color="#CCCCCC"> thing</font>

422
00:19:20,650 --> 00:19:26,260
can interact with<font color="#E5E5E5"> this grain can</font>

423
00:19:21,940 --> 00:19:28,210
interact with<font color="#E5E5E5"> the outside</font><font color="#CCCCCC"> world</font><font color="#E5E5E5"> so</font>

424
00:19:26,260 --> 00:19:32,830
sandstorm claims on their<font color="#E5E5E5"> website that</font>

425
00:19:28,210 --> 00:19:34,960
<font color="#CCCCCC">95% of application CVS were mitigated</font>

426
00:19:32,830 --> 00:19:36,850
before they were discovered this is

427
00:19:34,960 --> 00:19:39,810
actually borne out by the<font color="#E5E5E5"> data it's</font>

428
00:19:36,850 --> 00:19:39,810
their sample not<font color="#E5E5E5"> mine</font>

429
00:19:39,960 --> 00:19:46,150
so there are<font color="#CCCCCC"> 20 CVS that</font><font color="#E5E5E5"> they they</font>

430
00:19:43,450 --> 00:19:47,350
collected during<font color="#E5E5E5"> some period for for a</font>

431
00:19:46,150 --> 00:19:51,480
<font color="#E5E5E5">couple of the applications that have</font>

432
00:19:47,350 --> 00:19:56,439
been<font color="#E5E5E5"> ported sherrilyn</font><font color="#CCCCCC"> tech</font><font color="#E5E5E5"> tiny tiny RSS</font>

433
00:19:51,480 --> 00:19:58,450
<font color="#E5E5E5">WordPress roundcube it turns out that of</font>

434
00:19:56,440 --> 00:20:00,370
these<font color="#E5E5E5"> 20 only</font><font color="#CCCCCC"> one of them is not</font>

435
00:19:58,450 --> 00:20:02,169
mitigated by these architectural changes

436
00:20:00,370 --> 00:20:04,018
<font color="#E5E5E5">turns out you can</font>

437
00:20:02,169 --> 00:20:06,100
smuggle<font color="#CCCCCC"> and xs/s</font><font color="#E5E5E5"> in through roundcube</font>

438
00:20:04,019 --> 00:20:10,259
<font color="#E5E5E5">oops right</font>

439
00:20:06,100 --> 00:20:13,689
the bugs are<font color="#CCCCCC"> still</font><font color="#E5E5E5"> real but 19 out of 20</font>

440
00:20:10,259 --> 00:20:15,850
no longer matter right<font color="#E5E5E5"> all four of the</font>

441
00:20:13,690 --> 00:20:18,340
<font color="#CCCCCC">path traversal vulnerabilities</font><font color="#E5E5E5"> no longer</font>

442
00:20:15,850 --> 00:20:21,549
by an attacker<font color="#E5E5E5"> anything because in order</font>

443
00:20:18,340 --> 00:20:23,590
<font color="#E5E5E5">to</font><font color="#CCCCCC"> engage them you had</font><font color="#E5E5E5"> to have access</font><font color="#CCCCCC"> to</font>

444
00:20:21,549 --> 00:20:24,940
this thing<font color="#CCCCCC"> anyway</font><font color="#E5E5E5"> right okay you can</font>

445
00:20:23,590 --> 00:20:28,570
read out<font color="#E5E5E5"> the out of the document</font><font color="#CCCCCC"> to</font>

446
00:20:24,940 --> 00:20:30,639
<font color="#CCCCCC">which you can already read right code</font>

447
00:20:28,570 --> 00:20:33,158
injection bugs<font color="#E5E5E5"> tended to require</font><font color="#CCCCCC"> write</font>

448
00:20:30,639 --> 00:20:35,918
access or<font color="#CCCCCC"> to</font><font color="#E5E5E5"> or were in applications</font>

449
00:20:33,159 --> 00:20:37,899
that<font color="#E5E5E5"> tended not to be shared so again</font>

450
00:20:35,919 --> 00:20:40,179
<font color="#E5E5E5">doesn't really buy you anything</font><font color="#CCCCCC"> right</font>

451
00:20:37,899 --> 00:20:42,488
you<font color="#E5E5E5"> can attack you can attack your</font><font color="#CCCCCC"> own</font>

452
00:20:40,179 --> 00:20:43,779
service you can cut load code<font color="#CCCCCC"> onto a</font>

453
00:20:42,489 --> 00:20:52,269
server<font color="#CCCCCC"> that you could already load code</font>

454
00:20:43,779 --> 00:20:54,580
<font color="#CCCCCC">onto</font><font color="#E5E5E5"> go ahead so I know this is to say</font>

455
00:20:52,269 --> 00:20:56,739
<font color="#E5E5E5">that it completely obviates it right</font>

456
00:20:54,580 --> 00:20:58,720
<font color="#E5E5E5">indeed the the exercise that</font><font color="#CCCCCC"> survives is</font>

457
00:20:56,739 --> 00:20:59,940
in is<font color="#CCCCCC"> in</font><font color="#E5E5E5"> an email applications in</font>

458
00:20:58,720 --> 00:21:05,350
<font color="#CCCCCC">roundcube</font>

459
00:20:59,940 --> 00:21:09,039
<font color="#E5E5E5">so you could potentially get someone to</font>

460
00:21:05,350 --> 00:21:13,178
to engage<font color="#E5E5E5"> in in you know to be fished</font>

461
00:21:09,039 --> 00:21:15,489
right<font color="#E5E5E5"> you should absolutely not stop</font>

462
00:21:13,179 --> 00:21:18,690
writing<font color="#E5E5E5"> software with lines like</font><font color="#CCCCCC"> in</font><font color="#E5E5E5"> mind</font>

463
00:21:15,489 --> 00:21:22,119
right you should still be filtering the

464
00:21:18,690 --> 00:21:23,679
the<font color="#E5E5E5"> display content it's just that think</font>

465
00:21:22,119 --> 00:21:26,529
of<font color="#CCCCCC"> this as a safety</font><font color="#E5E5E5"> net</font><font color="#CCCCCC"> right</font><font color="#E5E5E5"> this is an</font>

466
00:21:23,679 --> 00:21:30,029
architectural<font color="#E5E5E5"> induced safety net if you</font>

467
00:21:26,529 --> 00:21:30,029
miss maybe it's not so bad

468
00:21:30,149 --> 00:21:37,268
does that<font color="#E5E5E5"> answer the question</font>

469
00:21:31,859 --> 00:21:38,309
cool<font color="#E5E5E5"> also</font><font color="#CCCCCC"> on that list there were</font>

470
00:21:37,269 --> 00:21:40,119
authentication and authorization

471
00:21:38,309 --> 00:21:41,590
vulnerabilities that<font color="#E5E5E5"> are</font><font color="#CCCCCC"> just</font><font color="#E5E5E5"> not a</font>

472
00:21:40,119 --> 00:21:46,029
concern anymore<font color="#E5E5E5"> because all</font><font color="#CCCCCC"> of that's</font>

473
00:21:41,590 --> 00:21:48,039
moved to the supervisor and<font color="#E5E5E5"> they looked</font>

474
00:21:46,029 --> 00:21:50,259
at only<font color="#E5E5E5"> a subset of the Linux kernel</font>

475
00:21:48,039 --> 00:21:54,549
CVEs during the same period there were a

476
00:21:50,259 --> 00:21:58,239
lot of<font color="#E5E5E5"> them 224 of them the 27 that they</font>

477
00:21:54,549 --> 00:22:02,440
looked at<font color="#E5E5E5"> 24 were completely mitigated</font>

478
00:21:58,239 --> 00:22:04,059
<font color="#CCCCCC">by the system called</font><font color="#E5E5E5"> filtering so it</font>

479
00:22:02,440 --> 00:22:06,909
just didn't apply<font color="#E5E5E5"> the remaining</font><font color="#CCCCCC"> three</font>

480
00:22:04,059 --> 00:22:10,090
<font color="#E5E5E5">yeah they were bad right bugs are still</font>

481
00:22:06,909 --> 00:22:14,460
bugs<font color="#E5E5E5"> but you know reducing the number</font>

482
00:22:10,090 --> 00:22:14,459
<font color="#E5E5E5">from 27 to 3 is pretty good</font>

483
00:22:15,630 --> 00:22:23,740
okay so<font color="#E5E5E5"> just to expound on that previous</font>

484
00:22:19,210 --> 00:22:26,020
<font color="#E5E5E5">point all of</font><font color="#CCCCCC"> this</font><font color="#E5E5E5"> is just a safety net</font>

485
00:22:23,740 --> 00:22:29,320
<font color="#CCCCCC">right</font><font color="#E5E5E5"> it's not it</font><font color="#CCCCCC"> doesn't solve the</font>

486
00:22:26,020 --> 00:22:31,600
<font color="#E5E5E5">problem</font><font color="#CCCCCC"> it's still possible</font><font color="#E5E5E5"> to have bad</font>

487
00:22:29,320 --> 00:22:32,950
author authorization checks<font color="#CCCCCC"> in an</font>

488
00:22:31,600 --> 00:22:35,949
application<font color="#CCCCCC"> right</font>

489
00:22:32,950 --> 00:22:38,350
just because sandstorm told a grain this

490
00:22:35,950 --> 00:22:40,060
user only<font color="#CCCCCC"> has read access and then</font><font color="#E5E5E5"> the</font>

491
00:22:38,350 --> 00:22:41,649
user fabricates a write request<font color="#CCCCCC"> write</font>

492
00:22:40,060 --> 00:22:45,010
the<font color="#E5E5E5"> application can say oh sure</font><font color="#CCCCCC"> right</font>

493
00:22:41,650 --> 00:22:48,610
that's fine<font color="#CCCCCC"> run it anyway</font><font color="#E5E5E5"> no we have to</font>

494
00:22:45,010 --> 00:22:50,470
stop that it also is true<font color="#E5E5E5"> write a</font>

495
00:22:48,610 --> 00:22:52,570
<font color="#E5E5E5">counter-argument</font><font color="#CCCCCC"> to this</font><font color="#E5E5E5"> is yes Sheryl</font>

496
00:22:50,470 --> 00:22:55,000
<font color="#CCCCCC">Autec it's fine to silo an individual</font>

497
00:22:52,570 --> 00:22:57,370
<font color="#CCCCCC">document right</font><font color="#E5E5E5"> that's perfect it's sort</font>

498
00:22:55,000 --> 00:23:01,240
<font color="#E5E5E5">of a natural boundary maybe maybe there</font>

499
00:22:57,370 --> 00:23:04,120
are applications where<font color="#CCCCCC"> I where you can't</font>

500
00:23:01,240 --> 00:23:07,390
so neatly encapsulate<font color="#E5E5E5"> right in which</font>

501
00:23:04,120 --> 00:23:07,870
case<font color="#CCCCCC"> Lang</font><font color="#E5E5E5"> SEC bugs are</font><font color="#CCCCCC"> still problems</font>

502
00:23:07,390 --> 00:23:09,580
right

503
00:23:07,870 --> 00:23:12,879
you know you have a bunch of resources

504
00:23:09,580 --> 00:23:14,439
<font color="#CCCCCC">all collected together</font><font color="#E5E5E5"> you can trick an</font>

505
00:23:12,880 --> 00:23:17,500
application<font color="#E5E5E5"> into</font><font color="#CCCCCC"> revealing a resource</font>

506
00:23:14,440 --> 00:23:21,030
that<font color="#E5E5E5"> it shouldn't but only within the</font>

507
00:23:17,500 --> 00:23:21,030
silo<font color="#CCCCCC"> so</font><font color="#E5E5E5"> maybe it's not so bad</font>

508
00:23:21,180 --> 00:23:27,760
so the hope is that<font color="#E5E5E5"> this approach this</font>

509
00:23:24,040 --> 00:23:29,980
<font color="#CCCCCC">new system architecture rules out or at</font>

510
00:23:27,760 --> 00:23:33,250
least confines damage from certain

511
00:23:29,980 --> 00:23:35,470
classes of<font color="#E5E5E5"> bugs hopefully it makes it</font>

512
00:23:33,250 --> 00:23:38,640
easier to<font color="#E5E5E5"> write secure software right</font>

513
00:23:35,470 --> 00:23:41,350
that's what we're really<font color="#CCCCCC"> all about</font><font color="#E5E5E5"> and</font>

514
00:23:38,640 --> 00:23:45,400
while we're at<font color="#CCCCCC"> it it provides</font><font color="#E5E5E5"> a new</font>

515
00:23:41,350 --> 00:23:47,919
slogan a new direction<font color="#CCCCCC"> new tack for Lang</font>

516
00:23:45,400 --> 00:23:50,800
<font color="#CCCCCC">SEC it opens the door for authorization</font>

517
00:23:47,920 --> 00:23:52,930
<font color="#E5E5E5">to</font><font color="#CCCCCC"> become a parsing question so just</font>

518
00:23:50,800 --> 00:23:55,389
<font color="#CCCCCC">like parsers traditionally imbued data</font>

519
00:23:52,930 --> 00:23:57,780
with<font color="#CCCCCC"> trust is I think</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> line right now</font>

520
00:23:55,390 --> 00:24:03,060
<font color="#CCCCCC">they can imbue data with authorization</font>

521
00:23:57,780 --> 00:24:03,060
<font color="#CCCCCC">and with that I'll take</font><font color="#E5E5E5"> questions</font>

