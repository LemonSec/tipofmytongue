1
00:00:00,080 --> 00:00:05,279
there's record okay cool uh so

2
00:00:03,199 --> 00:00:09,040
name's robert wagner uh i've got about

3
00:00:05,279 --> 00:00:11,360
20 years of experience in it and infosec

4
00:00:09,040 --> 00:00:12,879
my first job you know zach was a third

5
00:00:11,360 --> 00:00:15,678
ship stock analyst

6
00:00:12,880 --> 00:00:17,359
uh we did 12 hour shifts and we ran a 24

7
00:00:15,679 --> 00:00:20,480
by seven sock with just

8
00:00:17,359 --> 00:00:21,920
four people and one floater uh so i

9
00:00:20,480 --> 00:00:23,359
moved my way up through security

10
00:00:21,920 --> 00:00:25,680
engineering architect

11
00:00:23,359 --> 00:00:27,119
um i do work for splunk now but this

12
00:00:25,680 --> 00:00:29,279
deck isn't going to be about splunk

13
00:00:27,119 --> 00:00:30,320
it's going to be about cool stuff that

14
00:00:29,279 --> 00:00:32,800
i've learned

15
00:00:30,320 --> 00:00:34,320
so i'm a co-founder of heck for kids we

16
00:00:32,800 --> 00:00:36,480
are a charity that teaches

17
00:00:34,320 --> 00:00:39,040
kids about internet safety security and

18
00:00:36,480 --> 00:00:41,440
ethics uh we run a big show in chicago

19
00:00:39,040 --> 00:00:43,200
event in chicago every year much like

20
00:00:41,440 --> 00:00:45,280
this conference but for kids

21
00:00:43,200 --> 00:00:47,280
and we can also help other conferences

22
00:00:45,280 --> 00:00:48,960
run their own kids track

23
00:00:47,280 --> 00:00:50,399
so if that interests you and you're

24
00:00:48,960 --> 00:00:53,920
involved with other cons

25
00:00:50,399 --> 00:00:56,239
let us know i know uh corncon runs

26
00:00:53,920 --> 00:00:58,160
probably the most brilliantly titled

27
00:00:56,239 --> 00:00:58,800
kids track it's called children of the

28
00:00:58,160 --> 00:01:01,199
corn

29
00:00:58,800 --> 00:01:02,800
when they are in person it's a lot

30
00:01:01,199 --> 00:01:04,479
harder to do virtual events for kids

31
00:01:02,800 --> 00:01:07,520
though we've done some

32
00:01:04,479 --> 00:01:08,880
for heck for kids um

33
00:01:07,520 --> 00:01:10,560
and they've turned up pretty well but

34
00:01:08,880 --> 00:01:12,479
it's a lot more difficult especially to

35
00:01:10,560 --> 00:01:14,000
keep their attention uh i'm a

36
00:01:12,479 --> 00:01:17,439
co-organizer of burpsec

37
00:01:14,000 --> 00:01:19,680
uh burpsecond in chicago just a social

38
00:01:17,439 --> 00:01:20,798
meetup group and a uh a con that we

39
00:01:19,680 --> 00:01:22,640
usually do

40
00:01:20,799 --> 00:01:25,040
on the flip side of thoughtcon every

41
00:01:22,640 --> 00:01:27,680
year um my opinions uh

42
00:01:25,040 --> 00:01:29,200
in this uh deck are those are my own or

43
00:01:27,680 --> 00:01:31,600
those of other researchers

44
00:01:29,200 --> 00:01:32,799
so they don't necessarily reflect my

45
00:01:31,600 --> 00:01:34,559
company but

46
00:01:32,799 --> 00:01:36,159
spun could be really silly if they

47
00:01:34,560 --> 00:01:37,439
disagree with any of it because it's

48
00:01:36,159 --> 00:01:40,560
great information that i'm

49
00:01:37,439 --> 00:01:43,039
hopefully gonna bring to you so

50
00:01:40,560 --> 00:01:44,399
uh just a little personal uh you know

51
00:01:43,040 --> 00:01:44,880
bit of information i always like to

52
00:01:44,399 --> 00:01:47,119
share

53
00:01:44,880 --> 00:01:48,880
so uh my biggest claim to fame really

54
00:01:47,119 --> 00:01:50,079
has been the dog that i taught to ride

55
00:01:48,880 --> 00:01:53,600
motorcycle with me

56
00:01:50,079 --> 00:01:56,880
that's rocket his amazing dog um so

57
00:01:53,600 --> 00:02:00,000
on to the presentation though so

58
00:01:56,880 --> 00:02:03,360
this whole presentation um is kind of

59
00:02:00,000 --> 00:02:05,680
uh a a living deck um based on

60
00:02:03,360 --> 00:02:07,200
problems that i experienced when i was

61
00:02:05,680 --> 00:02:09,039
on the practitioner side

62
00:02:07,200 --> 00:02:10,878
and that i see it many many

63
00:02:09,038 --> 00:02:14,559
organizations um

64
00:02:10,878 --> 00:02:17,200
that i visit now so organizations get

65
00:02:14,560 --> 00:02:18,400
way too fixated on technologies to fix

66
00:02:17,200 --> 00:02:20,238
their problems right they get

67
00:02:18,400 --> 00:02:22,480
they get shiny object syndrome and they

68
00:02:20,239 --> 00:02:24,400
think tech is going to solve everything

69
00:02:22,480 --> 00:02:26,079
um unfortunately there's never enough

70
00:02:24,400 --> 00:02:28,879
security budget to buy

71
00:02:26,080 --> 00:02:30,879
everything we want right um it's hard to

72
00:02:28,879 --> 00:02:35,120
buy more head count it's hard to buy

73
00:02:30,879 --> 00:02:37,518
more tools to help us solve our problems

74
00:02:35,120 --> 00:02:38,160
um and i had the same problem as well so

75
00:02:37,519 --> 00:02:41,840
i started

76
00:02:38,160 --> 00:02:43,680
looking for free easy cheap ways to to

77
00:02:41,840 --> 00:02:45,680
fill gaps and as i started

78
00:02:43,680 --> 00:02:46,959
learning from other practitioners i'd

79
00:02:45,680 --> 00:02:48,800
start writing

80
00:02:46,959 --> 00:02:50,480
these things down every time sam and

81
00:02:48,800 --> 00:02:52,720
said oh well they would have stopped

82
00:02:50,480 --> 00:02:54,640
this attack if they had just done this

83
00:02:52,720 --> 00:02:56,319
or here's a great way to mitigate that

84
00:02:54,640 --> 00:02:58,159
i'd write that down

85
00:02:56,319 --> 00:02:59,599
and the hard thing is is that you know

86
00:02:58,159 --> 00:03:00,959
especially when you're just getting into

87
00:02:59,599 --> 00:03:02,560
infosec

88
00:03:00,959 --> 00:03:04,000
many of these great presentations you

89
00:03:02,560 --> 00:03:05,680
know they happen once

90
00:03:04,000 --> 00:03:07,360
and then you may never see them again

91
00:03:05,680 --> 00:03:09,040
especially if they weren't recorded

92
00:03:07,360 --> 00:03:10,640
so um so this is my kind of way of

93
00:03:09,040 --> 00:03:13,760
sharing the things that i've

94
00:03:10,640 --> 00:03:15,679
learned um throughout my career um

95
00:03:13,760 --> 00:03:16,799
and over and over again the biggest

96
00:03:15,680 --> 00:03:19,760
thing i learned

97
00:03:16,800 --> 00:03:20,159
was the best place to start to improving

98
00:03:19,760 --> 00:03:22,000
uh

99
00:03:20,159 --> 00:03:23,519
the security team is to start with your

100
00:03:22,000 --> 00:03:25,920
most important security tool

101
00:03:23,519 --> 00:03:27,519
it's the one everybody has and what's

102
00:03:25,920 --> 00:03:29,200
the most important security tool every

103
00:03:27,519 --> 00:03:32,159
organization has

104
00:03:29,200 --> 00:03:33,599
yeah it's you guys right um now i'm not

105
00:03:32,159 --> 00:03:36,399
trying to call you guys tools

106
00:03:33,599 --> 00:03:37,280
that's not my intent um but really our

107
00:03:36,400 --> 00:03:40,560
people

108
00:03:37,280 --> 00:03:41,280
are so very important we have to level

109
00:03:40,560 --> 00:03:43,680
them up

110
00:03:41,280 --> 00:03:44,879
as our primary objective because what

111
00:03:43,680 --> 00:03:48,159
happens if we don't right

112
00:03:44,879 --> 00:03:50,798
who here hates this venn diagram

113
00:03:48,159 --> 00:03:51,760
i hate this venn diagram and i hate it

114
00:03:50,799 --> 00:03:54,879
because

115
00:03:51,760 --> 00:03:58,239
it's way overused but two um

116
00:03:54,879 --> 00:03:58,879
it never ever ever looks like this right

117
00:03:58,239 --> 00:04:02,319
we never

118
00:03:58,879 --> 00:04:04,560
see um a good balance between

119
00:04:02,319 --> 00:04:06,399
people process and technology and where

120
00:04:04,560 --> 00:04:09,200
we invest both our dollars

121
00:04:06,400 --> 00:04:10,159
and our time to improve these things and

122
00:04:09,200 --> 00:04:12,480
that's bad

123
00:04:10,159 --> 00:04:13,200
that's bad if we forget about our people

124
00:04:12,480 --> 00:04:16,320
especially

125
00:04:13,200 --> 00:04:18,238
but our process as well it doesn't look

126
00:04:16,320 --> 00:04:20,159
like this right what does this look like

127
00:04:18,238 --> 00:04:21,279
if all we care about is technology it

128
00:04:20,160 --> 00:04:24,240
looks like this

129
00:04:21,279 --> 00:04:25,679
and nobody wants to describe their

130
00:04:24,240 --> 00:04:29,919
infosec program

131
00:04:25,680 --> 00:04:32,000
as this right this is bad uh so

132
00:04:29,919 --> 00:04:34,000
how can we change this how can we make

133
00:04:32,000 --> 00:04:34,479
the venn diagram look like it's supposed

134
00:04:34,000 --> 00:04:37,759
to

135
00:04:34,479 --> 00:04:38,400
right well um and and without spending a

136
00:04:37,759 --> 00:04:39,840
ton of money

137
00:04:38,400 --> 00:04:42,159
because that's what this talk is all

138
00:04:39,840 --> 00:04:44,560
about so let's start with the people

139
00:04:42,160 --> 00:04:46,240
right we got to make sure that there are

140
00:04:44,560 --> 00:04:48,400
intelligent signs of life

141
00:04:46,240 --> 00:04:49,600
uh so i've learned so much and i just

142
00:04:48,400 --> 00:04:52,239
want to give a shout out

143
00:04:49,600 --> 00:04:52,800
to so many people that i've i've learned

144
00:04:52,240 --> 00:04:55,040
from

145
00:04:52,800 --> 00:04:56,000
and stolen from of many things you can

146
00:04:55,040 --> 00:04:57,520
see her are

147
00:04:56,000 --> 00:04:59,759
things i learned from the likes of mike

148
00:04:57,520 --> 00:05:02,719
poor and dave kennedy and danny harrison

149
00:04:59,759 --> 00:05:04,240
and all these other wonderful people um

150
00:05:02,720 --> 00:05:06,320
and the great thing is and i don't think

151
00:05:04,240 --> 00:05:08,400
i have to tell anybody on this talk

152
00:05:06,320 --> 00:05:10,000
this at this conference that there are

153
00:05:08,400 --> 00:05:13,198
free videos online from

154
00:05:10,000 --> 00:05:15,039
from most of the cons now but maybe your

155
00:05:13,199 --> 00:05:17,199
managers don't know right

156
00:05:15,039 --> 00:05:18,560
and the thing is is commercial training

157
00:05:17,199 --> 00:05:20,160
is so expensive right

158
00:05:18,560 --> 00:05:22,400
if you go to black hat or something like

159
00:05:20,160 --> 00:05:25,440
that for uh for training

160
00:05:22,400 --> 00:05:26,159
you're dropping two three six thousand

161
00:05:25,440 --> 00:05:28,320
dollars

162
00:05:26,160 --> 00:05:29,680
and my much of that training is great

163
00:05:28,320 --> 00:05:32,320
sans is great

164
00:05:29,680 --> 00:05:33,919
but our team was always faced with well

165
00:05:32,320 --> 00:05:36,960
we don't have enough budget for

166
00:05:33,919 --> 00:05:38,719
everybody to go this year so

167
00:05:36,960 --> 00:05:40,799
uh three of you get to the go this year

168
00:05:38,720 --> 00:05:43,919
and three of you get to go next year

169
00:05:40,800 --> 00:05:45,199
and whatever um and uh and many of the

170
00:05:43,919 --> 00:05:48,400
managers didn't know

171
00:05:45,199 --> 00:05:51,280
that they can still send their teams to

172
00:05:48,400 --> 00:05:52,719
actual hacker cons right besides corncon

173
00:05:51,280 --> 00:05:53,520
all these architects even when they're

174
00:05:52,720 --> 00:05:56,240
in real life

175
00:05:53,520 --> 00:05:57,919
are either cheap or very free so if

176
00:05:56,240 --> 00:06:00,400
you're a manager out there

177
00:05:57,919 --> 00:06:01,758
if you are not encouraging your people

178
00:06:00,400 --> 00:06:03,758
to go to these free

179
00:06:01,759 --> 00:06:05,199
or very cheap conferences you are

180
00:06:03,759 --> 00:06:07,840
pissing your money away

181
00:06:05,199 --> 00:06:09,680
because the in fact these cons are so

182
00:06:07,840 --> 00:06:12,239
good that i'm seeing cisos

183
00:06:09,680 --> 00:06:13,759
and upper-level managers showing up at

184
00:06:12,240 --> 00:06:15,600
these cons because

185
00:06:13,759 --> 00:06:17,039
the information at conferences like

186
00:06:15,600 --> 00:06:20,720
corncon and others

187
00:06:17,039 --> 00:06:21,840
are so good right so send your people to

188
00:06:20,720 --> 00:06:25,039
go honest to god

189
00:06:21,840 --> 00:06:27,280
for the price of one major um

190
00:06:25,039 --> 00:06:28,880
class you can send your whole team to

191
00:06:27,280 --> 00:06:32,638
these and it's a great way to

192
00:06:28,880 --> 00:06:34,719
to it helps with burnout our people

193
00:06:32,639 --> 00:06:36,720
love to learn in this community and

194
00:06:34,720 --> 00:06:38,000
sending them things like this which cost

195
00:06:36,720 --> 00:06:40,639
you almost nothing

196
00:06:38,000 --> 00:06:41,600
are a great way for them to learn um

197
00:06:40,639 --> 00:06:44,720
chicago

198
00:06:41,600 --> 00:06:46,639
has has burbsec burbsack

199
00:06:44,720 --> 00:06:48,080
and and its meetups are really cool i

200
00:06:46,639 --> 00:06:50,560
recommend anybody

201
00:06:48,080 --> 00:06:51,599
in any city to stand up one it was part

202
00:06:50,560 --> 00:06:53,680
of the whole

203
00:06:51,599 --> 00:06:54,639
we called it city sec back in the mid

204
00:06:53,680 --> 00:06:56,560
2000s

205
00:06:54,639 --> 00:06:58,800
city sec was a movement of hey you know

206
00:06:56,560 --> 00:07:02,000
we have awesome meetups like

207
00:06:58,800 --> 00:07:04,319
isaka and issa your mileage may vary

208
00:07:02,000 --> 00:07:05,280
depending on your town but um they're

209
00:07:04,319 --> 00:07:07,759
all very formal

210
00:07:05,280 --> 00:07:08,559
right uh there's a meeting uh there's a

211
00:07:07,759 --> 00:07:11,120
presenter

212
00:07:08,560 --> 00:07:12,080
and they talk and and then you pay dues

213
00:07:11,120 --> 00:07:15,199
and all that stuff

214
00:07:12,080 --> 00:07:16,560
how about just a meet up for infosec

215
00:07:15,199 --> 00:07:19,199
people that's very informal

216
00:07:16,560 --> 00:07:20,720
drink a few beers share some war stories

217
00:07:19,199 --> 00:07:21,360
and this has turned out to be really

218
00:07:20,720 --> 00:07:25,360
powerful

219
00:07:21,360 --> 00:07:27,360
right um we run there's five in chicago

220
00:07:25,360 --> 00:07:28,960
every month and it's because chicago has

221
00:07:27,360 --> 00:07:30,080
such huge sprawl that the people that

222
00:07:28,960 --> 00:07:32,318
live up north

223
00:07:30,080 --> 00:07:33,520
uh can't really get into the city and

224
00:07:32,319 --> 00:07:35,360
not very easily

225
00:07:33,520 --> 00:07:37,120
so there's one up north and there's one

226
00:07:35,360 --> 00:07:38,639
out west and so on there's one in the

227
00:07:37,120 --> 00:07:41,599
city itself

228
00:07:38,639 --> 00:07:42,160
but i tell you for the it's easy to set

229
00:07:41,599 --> 00:07:44,639
these up

230
00:07:42,160 --> 00:07:46,560
and for the price of one beer right i

231
00:07:44,639 --> 00:07:47,199
can learn so much i sit with my red

232
00:07:46,560 --> 00:07:49,599
team's

233
00:07:47,199 --> 00:07:50,960
uh friends all the time and talk about

234
00:07:49,599 --> 00:07:53,840
how they're getting in you know

235
00:07:50,960 --> 00:07:55,520
and my god first off they're bored out

236
00:07:53,840 --> 00:07:56,878
of their freaking minds if you talk to

237
00:07:55,520 --> 00:07:59,120
most red teamers

238
00:07:56,879 --> 00:08:00,240
it is so easy for them to get in they

239
00:07:59,120 --> 00:08:02,720
get in the same way

240
00:08:00,240 --> 00:08:03,680
every time and ask to god if that's how

241
00:08:02,720 --> 00:08:05,039
they're getting in

242
00:08:03,680 --> 00:08:07,360
then that's how real attackers are

243
00:08:05,039 --> 00:08:09,360
getting into so sit and learn from the

244
00:08:07,360 --> 00:08:10,960
red team if you're not on the red team

245
00:08:09,360 --> 00:08:12,560
sit and learn from the blue team if

246
00:08:10,960 --> 00:08:13,599
you're not on the blue team to set these

247
00:08:12,560 --> 00:08:15,120
things up easy

248
00:08:13,599 --> 00:08:17,039
pick the same day out of every month the

249
00:08:15,120 --> 00:08:19,280
first thursday of every month whatever

250
00:08:17,039 --> 00:08:20,159
um find a place that's willing to

251
00:08:19,280 --> 00:08:22,400
accommodate

252
00:08:20,160 --> 00:08:23,840
um a bar is always a good choice or a

253
00:08:22,400 --> 00:08:26,239
place that serves alcohol

254
00:08:23,840 --> 00:08:28,560
because we all like to have a beer after

255
00:08:26,240 --> 00:08:30,639
work or many of us do not everyone

256
00:08:28,560 --> 00:08:32,159
um but even those that don't you sit and

257
00:08:30,639 --> 00:08:33,599
have a beverage of your choice

258
00:08:32,159 --> 00:08:35,919
and sit there for an hour or two and

259
00:08:33,599 --> 00:08:37,839
just learn make sure the place is cool

260
00:08:35,919 --> 00:08:40,478
with separate checks

261
00:08:37,839 --> 00:08:42,159
it's so critical um and then your job as

262
00:08:40,479 --> 00:08:43,919
an organizer and have two or three

263
00:08:42,159 --> 00:08:45,600
people from two or three orgs

264
00:08:43,919 --> 00:08:48,240
so that if there's a dumpster fire at

265
00:08:45,600 --> 00:08:50,080
one org two other people can make it

266
00:08:48,240 --> 00:08:51,360
and it's really easy to be the organizer

267
00:08:50,080 --> 00:08:52,000
you just remind the bar that you're

268
00:08:51,360 --> 00:08:55,120
coming

269
00:08:52,000 --> 00:08:55,519
and when new people show up say hi just

270
00:08:55,120 --> 00:08:58,560
say

271
00:08:55,519 --> 00:08:59,040
hi new person this is this is the meetup

272
00:08:58,560 --> 00:09:01,040
group

273
00:08:59,040 --> 00:09:02,640
come over here tell everybody who you

274
00:09:01,040 --> 00:09:04,079
are make them feel welcome

275
00:09:02,640 --> 00:09:06,160
and you will have a very successful

276
00:09:04,080 --> 00:09:08,560
meetup um in addition there are other

277
00:09:06,160 --> 00:09:10,959
researchers out there that just so

278
00:09:08,560 --> 00:09:11,599
freely share information besides those

279
00:09:10,959 --> 00:09:13,359
i've lifted

280
00:09:11,600 --> 00:09:15,360
if you have you don't follow infosec

281
00:09:13,360 --> 00:09:17,839
taylor swift follow invoice

282
00:09:15,360 --> 00:09:19,200
taylor swift decent security is a

283
00:09:17,839 --> 00:09:21,760
fantastic blog

284
00:09:19,200 --> 00:09:23,760
hacks for pancakes has a fantastic blog

285
00:09:21,760 --> 00:09:26,880
um both these folks teaching

286
00:09:23,760 --> 00:09:27,760
and sharing freely to the community i i

287
00:09:26,880 --> 00:09:29,519
can't tell you

288
00:09:27,760 --> 00:09:31,279
uh enough how much i appreciate these

289
00:09:29,519 --> 00:09:34,640
people

290
00:09:31,279 --> 00:09:36,000
um but how about so that's how we level

291
00:09:34,640 --> 00:09:38,080
up our own people right

292
00:09:36,000 --> 00:09:39,440
for not without spending a lot of money

293
00:09:38,080 --> 00:09:42,640
how can we level up

294
00:09:39,440 --> 00:09:44,959
the users themselves uh the the

295
00:09:42,640 --> 00:09:45,920
the security awareness videos yeah how

296
00:09:44,959 --> 00:09:49,599
are those working

297
00:09:45,920 --> 00:09:50,000
yeah not so good right i'd rather rub

298
00:09:49,600 --> 00:09:53,120
glass

299
00:09:50,000 --> 00:09:54,000
in my eyes myself then watch most of

300
00:09:53,120 --> 00:09:57,279
those videos

301
00:09:54,000 --> 00:09:59,680
they are so bad we have to do them right

302
00:09:57,279 --> 00:10:00,720
it's a compliance thing we have to show

303
00:09:59,680 --> 00:10:02,640
them the videos

304
00:10:00,720 --> 00:10:04,959
but how about doing something that makes

305
00:10:02,640 --> 00:10:08,079
them make take a little bit more

306
00:10:04,959 --> 00:10:09,040
notice uh participate be active in that

307
00:10:08,079 --> 00:10:11,279
awareness

308
00:10:09,040 --> 00:10:13,519
so i got this idea from ben 10 he did a

309
00:10:11,279 --> 00:10:16,959
fantastic presentation out

310
00:10:13,519 --> 00:10:17,600
at derby con like 2012 2013 somewhere

311
00:10:16,959 --> 00:10:20,399
around there

312
00:10:17,600 --> 00:10:22,000
just google ben 10 and derby con the

313
00:10:20,399 --> 00:10:24,240
videos are on youtube

314
00:10:22,000 --> 00:10:25,760
it's freaking hilarious i'm just going

315
00:10:24,240 --> 00:10:27,440
to nutshell the idea for you really

316
00:10:25,760 --> 00:10:30,000
quickly

317
00:10:27,440 --> 00:10:30,959
and the idea was is to create security

318
00:10:30,000 --> 00:10:33,279
contests

319
00:10:30,959 --> 00:10:34,880
as part of your awareness so all he did

320
00:10:33,279 --> 00:10:36,720
was announce to his uh

321
00:10:34,880 --> 00:10:38,720
organization that they were starting

322
00:10:36,720 --> 00:10:41,120
this security awareness contest

323
00:10:38,720 --> 00:10:42,160
that they would be seeing unusual

324
00:10:41,120 --> 00:10:44,800
security

325
00:10:42,160 --> 00:10:47,120
related things maybe even those things

326
00:10:44,800 --> 00:10:49,839
those videos talked about

327
00:10:47,120 --> 00:10:51,680
right um and uh and that people who

328
00:10:49,839 --> 00:10:53,279
reported these strange things

329
00:10:51,680 --> 00:10:54,719
uh the first person to report any

330
00:10:53,279 --> 00:10:56,160
individual strange thing

331
00:10:54,720 --> 00:10:58,880
would get i don't know maybe a five

332
00:10:56,160 --> 00:11:00,319
dollar gift certificate to dunkin donuts

333
00:10:58,880 --> 00:11:02,640
at the end of the week whoever had the

334
00:11:00,320 --> 00:11:05,360
most points would win a 200

335
00:11:02,640 --> 00:11:06,319
gift certificate something like that and

336
00:11:05,360 --> 00:11:09,200
oh my god

337
00:11:06,320 --> 00:11:09,920
the impact this had on his organization

338
00:11:09,200 --> 00:11:12,079
people were like

339
00:11:09,920 --> 00:11:13,199
you're going down i'm totally scoring

340
00:11:12,079 --> 00:11:14,719
more points at you

341
00:11:13,200 --> 00:11:16,320
people immediately started doing things

342
00:11:14,720 --> 00:11:17,839
like reporting the cfo

343
00:11:16,320 --> 00:11:19,760
walking through the organization without

344
00:11:17,839 --> 00:11:20,160
their badge on because that was against

345
00:11:19,760 --> 00:11:22,480
paul

346
00:11:20,160 --> 00:11:23,199
security policy right uh somebody else

347
00:11:22,480 --> 00:11:25,200
reported

348
00:11:23,200 --> 00:11:26,240
like a strange black box outside the

349
00:11:25,200 --> 00:11:27,839
side door

350
00:11:26,240 --> 00:11:29,279
turns out it was just a rodent control

351
00:11:27,839 --> 00:11:31,279
device but still

352
00:11:29,279 --> 00:11:32,480
people were paying attention and the

353
00:11:31,279 --> 00:11:35,040
best one

354
00:11:32,480 --> 00:11:35,920
uh 15 minutes after he announces the the

355
00:11:35,040 --> 00:11:38,000
contest

356
00:11:35,920 --> 00:11:39,439
he uh he gets a call and there's this

357
00:11:38,000 --> 00:11:41,040
very excited woman on the other end of

358
00:11:39,440 --> 00:11:42,480
the line and she's like hey i found one

359
00:11:41,040 --> 00:11:45,120
of your things

360
00:11:42,480 --> 00:11:46,720
and he goes what what things and she's

361
00:11:45,120 --> 00:11:47,519
like the security things that you said

362
00:11:46,720 --> 00:11:49,760
that we're gonna see

363
00:11:47,519 --> 00:11:51,200
stuff but he got very concerned said we

364
00:11:49,760 --> 00:11:53,600
haven't started yet

365
00:11:51,200 --> 00:11:54,320
uh officially what what exactly are you

366
00:11:53,600 --> 00:11:55,519
seeing

367
00:11:54,320 --> 00:11:57,040
and she's like oh well this thing

368
00:11:55,519 --> 00:11:58,560
appears on my screen that says you know

369
00:11:57,040 --> 00:12:01,519
click here to authorize access

370
00:11:58,560 --> 00:12:02,319
i i can't remember the whole message and

371
00:12:01,519 --> 00:12:05,120
as soon as he

372
00:12:02,320 --> 00:12:06,639
pulled his hand out of his face palm um

373
00:12:05,120 --> 00:12:07,279
he said how long have you been seeing

374
00:12:06,639 --> 00:12:10,560
these

375
00:12:07,279 --> 00:12:11,839
she said oh like six weeks now yeah they

376
00:12:10,560 --> 00:12:14,319
had a real incident

377
00:12:11,839 --> 00:12:16,160
15 minutes into the competition he

378
00:12:14,320 --> 00:12:17,600
turned his people into carbon-based

379
00:12:16,160 --> 00:12:20,639
intrusion detection sensors

380
00:12:17,600 --> 00:12:22,800
and i love it um it worked great ben

381
00:12:20,639 --> 00:12:24,399
shares his code for his scoring server

382
00:12:22,800 --> 00:12:25,120
by the way so you can go out to ben's

383
00:12:24,399 --> 00:12:27,760
github

384
00:12:25,120 --> 00:12:28,399
and find the scoring server itself so

385
00:12:27,760 --> 00:12:30,560
generous

386
00:12:28,399 --> 00:12:31,600
thanks ben for that one uh i will give

387
00:12:30,560 --> 00:12:34,399
you one caveat

388
00:12:31,600 --> 00:12:36,000
i did have uh someone come up to me um

389
00:12:34,399 --> 00:12:38,880
after talking about this once

390
00:12:36,000 --> 00:12:39,839
and say yeah we tried that at our

391
00:12:38,880 --> 00:12:43,040
organization

392
00:12:39,839 --> 00:12:46,399
uh and it worked great when we started

393
00:12:43,040 --> 00:12:47,199
however uh we started getting let's say

394
00:12:46,399 --> 00:12:49,920
some very

395
00:12:47,200 --> 00:12:52,000
over zealous people uh by the way i see

396
00:12:49,920 --> 00:12:54,079
that things are popping up in the q a

397
00:12:52,000 --> 00:12:55,839
i can't see all of the windows at once

398
00:12:54,079 --> 00:12:56,560
if you do have a question you can pop it

399
00:12:55,839 --> 00:12:59,600
into the

400
00:12:56,560 --> 00:13:00,160
chat which i do have open here um the

401
00:12:59,600 --> 00:13:04,000
chat

402
00:13:00,160 --> 00:13:06,399
not in the um uh not in the discord but

403
00:13:04,000 --> 00:13:07,440
here in the zoom because it's the only

404
00:13:06,399 --> 00:13:08,720
one i can see now when i'm in

405
00:13:07,440 --> 00:13:12,399
presentation mode

406
00:13:08,720 --> 00:13:15,040
uh but um they said that people started

407
00:13:12,399 --> 00:13:16,880
doing things like downloading uh nessus

408
00:13:15,040 --> 00:13:18,880
to scan for vulnerabilities

409
00:13:16,880 --> 00:13:20,320
because that's a security issue so the

410
00:13:18,880 --> 00:13:22,240
bigger problem is there is why were they

411
00:13:20,320 --> 00:13:25,120
allowed to download these things right

412
00:13:22,240 --> 00:13:26,320
but you know i i love the fact that they

413
00:13:25,120 --> 00:13:27,839
were that enthusiastic

414
00:13:26,320 --> 00:13:29,920
but we do have to watch out for the

415
00:13:27,839 --> 00:13:31,040
overzealous uh so that's the one caveat

416
00:13:29,920 --> 00:13:33,599
i will give you

417
00:13:31,040 --> 00:13:34,079
uh let's see so other other great so

418
00:13:33,600 --> 00:13:35,519
process

419
00:13:34,079 --> 00:13:37,599
right so that's some great ways to

420
00:13:35,519 --> 00:13:39,760
improve our people how about process

421
00:13:37,600 --> 00:13:41,760
we don't want our security order to be

422
00:13:39,760 --> 00:13:42,639
security theater right we want real

423
00:13:41,760 --> 00:13:45,920
processes

424
00:13:42,639 --> 00:13:46,800
in place so um a lot of stuff moving to

425
00:13:45,920 --> 00:13:48,639
the cloud right now

426
00:13:46,800 --> 00:13:50,560
a lot of people concerned about how can

427
00:13:48,639 --> 00:13:52,959
i do things to secure the cloud

428
00:13:50,560 --> 00:13:55,119
um and you know what um if you take a

429
00:13:52,959 --> 00:13:56,560
look at the egregious 11

430
00:13:55,120 --> 00:13:59,279
and you start looking at what is

431
00:13:56,560 --> 00:14:02,319
actually on here so much of this

432
00:13:59,279 --> 00:14:04,839
is not about vulnerable stuff

433
00:14:02,320 --> 00:14:06,240
but just stuff like number two here

434
00:14:04,839 --> 00:14:09,040
misconfiguration

435
00:14:06,240 --> 00:14:10,000
and inadequate change control one of the

436
00:14:09,040 --> 00:14:12,160
biggest

437
00:14:10,000 --> 00:14:13,839
reasons uh that there are security

438
00:14:12,160 --> 00:14:17,839
issues within the cloud

439
00:14:13,839 --> 00:14:18,720
so great idea um that i picked up from a

440
00:14:17,839 --> 00:14:21,040
researcher

441
00:14:18,720 --> 00:14:23,279
uh is bringing chaos engineering

442
00:14:21,040 --> 00:14:25,199
security now ks engineering is usually

443
00:14:23,279 --> 00:14:26,959
used in itap side of things right

444
00:14:25,199 --> 00:14:27,599
especially with microservices and stuff

445
00:14:26,959 --> 00:14:30,160
like that

446
00:14:27,600 --> 00:14:31,760
netflix actually is a huge proponent of

447
00:14:30,160 --> 00:14:33,760
this if you haven't heard before

448
00:14:31,760 --> 00:14:35,040
the concept's simple you go around and

449
00:14:33,760 --> 00:14:38,079
randomly break [ __ ]

450
00:14:35,040 --> 00:14:39,680
and see what happens um netflix actually

451
00:14:38,079 --> 00:14:40,399
blogs about this i think they even have

452
00:14:39,680 --> 00:14:44,399
a book

453
00:14:40,399 --> 00:14:45,519
um great resource um but uh but somebody

454
00:14:44,399 --> 00:14:47,760
else proposed well

455
00:14:45,519 --> 00:14:49,279
what if we could bring that to uh to

456
00:14:47,760 --> 00:14:50,959
chaos engineering

457
00:14:49,279 --> 00:14:52,720
uh which is security what if we could do

458
00:14:50,959 --> 00:14:53,599
security cams sorry about the dock in

459
00:14:52,720 --> 00:14:56,800
the background there

460
00:14:53,600 --> 00:15:00,000
um security chaos engineering um so

461
00:14:56,800 --> 00:15:02,959
the idea here is to inject uh

462
00:15:00,000 --> 00:15:03,839
failure of security controls and see

463
00:15:02,959 --> 00:15:13,839
what happens

464
00:15:03,839 --> 00:15:13,839
then um hold on just a second

465
00:15:22,240 --> 00:15:27,760
oh my god so i just had a fedex delivery

466
00:15:25,279 --> 00:15:29,120
right in the middle of my dock um i'm

467
00:15:27,760 --> 00:15:30,800
sorry i had to do that they would have

468
00:15:29,120 --> 00:15:33,040
kept knocking i think um

469
00:15:30,800 --> 00:15:34,560
so sorry about having to answer that and

470
00:15:33,040 --> 00:15:37,680
the dog back in the background

471
00:15:34,560 --> 00:15:39,279
the timing could not be worse uh so i

472
00:15:37,680 --> 00:15:40,479
just did a four-hour class and had no

473
00:15:39,279 --> 00:15:43,519
interruptions

474
00:15:40,480 --> 00:15:46,959
so um anyway uh this uh

475
00:15:43,519 --> 00:15:49,040
idea was put forth by the ieee in a

476
00:15:46,959 --> 00:15:50,959
publication called cloud strike

477
00:15:49,040 --> 00:15:52,800
and they really went into depth here

478
00:15:50,959 --> 00:15:55,199
they really um

479
00:15:52,800 --> 00:15:56,800
tried to give a whole framework about

480
00:15:55,199 --> 00:15:59,758
how you would do this

481
00:15:56,800 --> 00:16:00,399
uh so uh kennedy takura was the one that

482
00:15:59,759 --> 00:16:02,240
um

483
00:16:00,399 --> 00:16:03,680
spearheaded a lot of the research along

484
00:16:02,240 --> 00:16:07,199
with other folks on the team

485
00:16:03,680 --> 00:16:08,719
he presented on it at b-sides berlin

486
00:16:07,199 --> 00:16:10,800
i don't think there's a recording out

487
00:16:08,720 --> 00:16:12,959
there but there is uh his slides out

488
00:16:10,800 --> 00:16:12,959
there

489
00:16:14,240 --> 00:16:23,839
hold on just a second

490
00:16:27,680 --> 00:16:34,239
thank you everybody for your patience um

491
00:16:31,040 --> 00:16:37,599
oh my god too funny so

492
00:16:34,240 --> 00:16:39,759
um uh but this is basic idea right so

493
00:16:37,600 --> 00:16:40,959
trying to inject fault to see if cloud

494
00:16:39,759 --> 00:16:44,000
buckets were secure

495
00:16:40,959 --> 00:16:45,920
see if you create a bad policy and then

496
00:16:44,000 --> 00:16:50,079
see if you can inject fault into that

497
00:16:45,920 --> 00:16:53,279
and and leverage that bad configuration

498
00:16:50,079 --> 00:16:56,160
yeah thanks chris um so

499
00:16:53,279 --> 00:16:58,639
uh so he put out like a whole way to

500
00:16:56,160 --> 00:17:00,959
categorize the default injection

501
00:16:58,639 --> 00:17:02,320
uh you know a whole matrix of the things

502
00:17:00,959 --> 00:17:02,880
that you could do and how you would

503
00:17:02,320 --> 00:17:05,760
start

504
00:17:02,880 --> 00:17:08,000
using chaos engineering for um for

505
00:17:05,760 --> 00:17:10,640
figuring out uh security issues in the

506
00:17:08,000 --> 00:17:13,760
cloud which is a fantastic idea

507
00:17:10,640 --> 00:17:17,120
um so other things

508
00:17:13,760 --> 00:17:20,559
we can do so passwords why

509
00:17:17,119 --> 00:17:22,958
why are passwords still the bane of most

510
00:17:20,559 --> 00:17:26,079
practitioners existence right now right

511
00:17:22,959 --> 00:17:27,760
so often um where we not only just one

512
00:17:26,079 --> 00:17:31,120
not use the same password for

513
00:17:27,760 --> 00:17:32,879
uh banking and twitter but um

514
00:17:31,120 --> 00:17:35,360
you know and i certainly was guilty of

515
00:17:32,880 --> 00:17:37,840
this early on too when i was just in i.t

516
00:17:35,360 --> 00:17:40,000
um if i had you know a really secure

517
00:17:37,840 --> 00:17:42,159
serve writer create a really long ass

518
00:17:40,000 --> 00:17:43,600
i'd generate like you know like an 18

519
00:17:42,160 --> 00:17:46,559
character random password

520
00:17:43,600 --> 00:17:48,559
and then spend weeks memorizing that and

521
00:17:46,559 --> 00:17:50,080
then all of a sudden you need a secure

522
00:17:48,559 --> 00:17:51,918
password for something else

523
00:17:50,080 --> 00:17:53,678
right oh wow you've got this 18

524
00:17:51,919 --> 00:17:56,400
character password for this very

525
00:17:53,679 --> 00:17:58,000
and maybe that something else is your

526
00:17:56,400 --> 00:18:00,720
banking account or

527
00:17:58,000 --> 00:18:01,919
home depot or something like that right

528
00:18:00,720 --> 00:18:04,240
so

529
00:18:01,919 --> 00:18:05,919
passwords it's just the real answer here

530
00:18:04,240 --> 00:18:06,480
is to factor a multi-factor and even

531
00:18:05,919 --> 00:18:09,520
that

532
00:18:06,480 --> 00:18:10,200
isn't perfect but it does solve a lot of

533
00:18:09,520 --> 00:18:13,200
sins

534
00:18:10,200 --> 00:18:16,240
unfortunately two-factor is not

535
00:18:13,200 --> 00:18:17,520
free um there is one open source tool

536
00:18:16,240 --> 00:18:19,520
out there called offi

537
00:18:17,520 --> 00:18:20,639
i've heard of authy being used at least

538
00:18:19,520 --> 00:18:22,879
in small

539
00:18:20,640 --> 00:18:23,760
deployments i don't know anyone yet and

540
00:18:22,880 --> 00:18:25,760
if you have

541
00:18:23,760 --> 00:18:27,600
tell me but i don't know anyone else

542
00:18:25,760 --> 00:18:28,000
anyone that actually deployed it at

543
00:18:27,600 --> 00:18:31,120
scale

544
00:18:28,000 --> 00:18:33,760
like in a large organization so

545
00:18:31,120 --> 00:18:34,719
you give it a try uh but it doesn't it

546
00:18:33,760 --> 00:18:36,720
doesn't solve

547
00:18:34,720 --> 00:18:38,640
ultimately what this problem is right

548
00:18:36,720 --> 00:18:41,840
hopefully everybody here on the talk has

549
00:18:38,640 --> 00:18:42,799
seen this cartoon um why did it take a

550
00:18:41,840 --> 00:18:45,199
cartoon

551
00:18:42,799 --> 00:18:46,879
to explain to us that this right here

552
00:18:45,200 --> 00:18:49,919
this leaked speak way of

553
00:18:46,880 --> 00:18:50,240
generating a password sucks i mean this

554
00:18:49,919 --> 00:18:52,720
is

555
00:18:50,240 --> 00:18:53,520
absolute crap right so this cartoon at

556
00:18:52,720 --> 00:18:57,120
this point is like

557
00:18:53,520 --> 00:18:58,720
nine or ten years old at this point um

558
00:18:57,120 --> 00:19:00,639
and you know eight or nine years old

559
00:18:58,720 --> 00:19:03,760
whatever um it took

560
00:19:00,640 --> 00:19:04,720
three days of guessing to guess this

561
00:19:03,760 --> 00:19:06,240
password and that's just

562
00:19:04,720 --> 00:19:08,000
straightforward guessing right that's

563
00:19:06,240 --> 00:19:10,480
not even trying to

564
00:19:08,000 --> 00:19:12,320
crack a hash um which would be faster

565
00:19:10,480 --> 00:19:14,000
but this is just actually trying to

566
00:19:12,320 --> 00:19:16,879
use some automated way to guess

567
00:19:14,000 --> 00:19:19,840
passwords um

568
00:19:16,880 --> 00:19:20,320
and and teaching users how to create a

569
00:19:19,840 --> 00:19:23,039
good

570
00:19:20,320 --> 00:19:24,320
passphrase would be so much more

571
00:19:23,039 --> 00:19:26,879
valuable right

572
00:19:24,320 --> 00:19:28,080
um the so the the the end for those of

573
00:19:26,880 --> 00:19:30,400
you that haven't seen this before

574
00:19:28,080 --> 00:19:31,280
the entropy in just a simple phrase like

575
00:19:30,400 --> 00:19:34,720
this

576
00:19:31,280 --> 00:19:36,320
would be so much harder to guess 550

577
00:19:34,720 --> 00:19:38,720
years

578
00:19:36,320 --> 00:19:39,360
eight or nine years ago probably faster

579
00:19:38,720 --> 00:19:42,720
now

580
00:19:39,360 --> 00:19:43,280
right um and and so teaching our users

581
00:19:42,720 --> 00:19:45,280
just how

582
00:19:43,280 --> 00:19:46,879
i tell users all the time hey you know

583
00:19:45,280 --> 00:19:48,960
what think of your favorite song

584
00:19:46,880 --> 00:19:50,400
go three lines in go three words over

585
00:19:48,960 --> 00:19:52,000
take the next three to five words

586
00:19:50,400 --> 00:19:54,880
depending on how long they are

587
00:19:52,000 --> 00:19:56,720
keep the spaces because they're actually

588
00:19:54,880 --> 00:19:59,039
uh considered special characters

589
00:19:56,720 --> 00:20:00,559
um if if you're whatever is accepting

590
00:19:59,039 --> 00:20:02,158
the password except spaces

591
00:20:00,559 --> 00:20:04,720
um and you've got a pretty darn good

592
00:20:02,159 --> 00:20:06,480
password throw a number or one special

593
00:20:04,720 --> 00:20:08,799
character anywhere in here

594
00:20:06,480 --> 00:20:10,480
and oh my freaking god you now have a

595
00:20:08,799 --> 00:20:12,400
really solid password

596
00:20:10,480 --> 00:20:14,640
unfortunately i've noticed that a lot of

597
00:20:12,400 --> 00:20:16,400
uh you know online services

598
00:20:14,640 --> 00:20:18,159
if you try to generate a passphrase like

599
00:20:16,400 --> 00:20:19,520
that it'll be go oh no that's too simple

600
00:20:18,159 --> 00:20:21,679
and you're like the hell it is but

601
00:20:19,520 --> 00:20:25,520
there's nothing you can do about it

602
00:20:21,679 --> 00:20:27,120
uh so uh in addition keepass is free

603
00:20:25,520 --> 00:20:29,520
now i've gotten in debates with my red

604
00:20:27,120 --> 00:20:31,520
team friends who are like yeah but

605
00:20:29,520 --> 00:20:32,639
dude if you have a password vault on

606
00:20:31,520 --> 00:20:35,840
your system

607
00:20:32,640 --> 00:20:38,240
and i uh i spearfish in then i can

608
00:20:35,840 --> 00:20:39,199
hit the eggs yeah i know keepass is

609
00:20:38,240 --> 00:20:42,640
awesome right

610
00:20:39,200 --> 00:20:43,360
um uh if they can get in well then they

611
00:20:42,640 --> 00:20:45,679
have the

612
00:20:43,360 --> 00:20:47,678
uh all the users passwords and i'm like

613
00:20:45,679 --> 00:20:49,280
yeah but if i don't if you don't have a

614
00:20:47,679 --> 00:20:49,919
password vault and you're using one

615
00:20:49,280 --> 00:20:52,399
password

616
00:20:49,919 --> 00:20:54,559
and i sneak in with the smokers and that

617
00:20:52,400 --> 00:20:56,240
one long-ass password is on a sticky

618
00:20:54,559 --> 00:20:59,039
under the keyboard

619
00:20:56,240 --> 00:21:00,000
same fail right so most researchers i

620
00:20:59,039 --> 00:21:02,000
know say

621
00:21:00,000 --> 00:21:03,039
password vault's better than nothing and

622
00:21:02,000 --> 00:21:05,360
get that too fact

623
00:21:03,039 --> 00:21:06,400
good to factor in right not just cell

624
00:21:05,360 --> 00:21:09,039
phone text

625
00:21:06,400 --> 00:21:11,200
sms mentions but um but actual um

626
00:21:09,039 --> 00:21:14,480
passwords with an app that gives tokens

627
00:21:11,200 --> 00:21:16,640
um will solve a lot so

628
00:21:14,480 --> 00:21:18,080
people process great what about

629
00:21:16,640 --> 00:21:19,520
technology what can we do about the

630
00:21:18,080 --> 00:21:22,559
technology itself

631
00:21:19,520 --> 00:21:25,600
so how many folks in here

632
00:21:22,559 --> 00:21:26,720
um have in their organization somewhere

633
00:21:25,600 --> 00:21:30,240
in their organization

634
00:21:26,720 --> 00:21:31,679
java 6 still running yeah

635
00:21:30,240 --> 00:21:33,840
um hopefully you're all raising your

636
00:21:31,679 --> 00:21:36,880
hands um if you are in

637
00:21:33,840 --> 00:21:38,720
an organization of any significant size

638
00:21:36,880 --> 00:21:40,159
and you didn't raise your hand or either

639
00:21:38,720 --> 00:21:41,280
you're lying to me which would be silly

640
00:21:40,159 --> 00:21:44,559
because i can't see you

641
00:21:41,280 --> 00:21:45,360
or you don't know um and i will

642
00:21:44,559 --> 00:21:48,960
guarantee you

643
00:21:45,360 --> 00:21:51,360
i will guarantee you java 6 is lurking

644
00:21:48,960 --> 00:21:52,799
somewhere and the reason is always the

645
00:21:51,360 --> 00:21:55,199
same everywhere i go

646
00:21:52,799 --> 00:21:56,240
it's because there is some mission

647
00:21:55,200 --> 00:21:59,039
critical

648
00:21:56,240 --> 00:21:59,840
service run somewhere back office

649
00:21:59,039 --> 00:22:03,039
usually

650
00:21:59,840 --> 00:22:05,760
that needs java 6 the developer died

651
00:22:03,039 --> 00:22:06,480
10 years ago nobody knows how to fix the

652
00:22:05,760 --> 00:22:08,960
code

653
00:22:06,480 --> 00:22:09,679
so there it sits and because there it

654
00:22:08,960 --> 00:22:12,640
sits

655
00:22:09,679 --> 00:22:13,360
we've got our users running old java

656
00:22:12,640 --> 00:22:15,520
clients

657
00:22:13,360 --> 00:22:17,520
and i think everybody on the call no on

658
00:22:15,520 --> 00:22:19,840
the meeting knows

659
00:22:17,520 --> 00:22:20,720
how bad that is right you go surf the

660
00:22:19,840 --> 00:22:24,240
web with bad

661
00:22:20,720 --> 00:22:26,320
old java and you are owned

662
00:22:24,240 --> 00:22:28,640
now one thing a lot of people don't know

663
00:22:26,320 --> 00:22:31,840
is that every java client

664
00:22:28,640 --> 00:22:33,200
comes with its own unique job user agent

665
00:22:31,840 --> 00:22:35,840
string

666
00:22:33,200 --> 00:22:36,880
and if we just simply filter that user

667
00:22:35,840 --> 00:22:40,080
agent sprint

668
00:22:36,880 --> 00:22:42,480
string at the gateway that will prevent

669
00:22:40,080 --> 00:22:43,840
this god-awful version of you know

670
00:22:42,480 --> 00:22:46,400
20-year-old version of java

671
00:22:43,840 --> 00:22:48,000
from going out to the internet which is

672
00:22:46,400 --> 00:22:49,039
what the problem is right it going out

673
00:22:48,000 --> 00:22:52,320
to the internet

674
00:22:49,039 --> 00:22:54,158
so you can filter for that hopefully

675
00:22:52,320 --> 00:22:56,000
eventually you can get rid of java or at

676
00:22:54,159 --> 00:22:58,480
least get it freaking updated

677
00:22:56,000 --> 00:22:59,919
uh now so you don't need java doing

678
00:22:58,480 --> 00:23:00,559
anything but talking to those internal

679
00:22:59,919 --> 00:23:02,960
systems

680
00:23:00,559 --> 00:23:04,720
now laptops our problem right laptops go

681
00:23:02,960 --> 00:23:06,240
outside of the network they don't go

682
00:23:04,720 --> 00:23:07,360
through the gateway usually

683
00:23:06,240 --> 00:23:09,280
when they're outside of the network

684
00:23:07,360 --> 00:23:11,760
unless you're backhauling everybody

685
00:23:09,280 --> 00:23:12,720
uh through the vpn all of the traffic

686
00:23:11,760 --> 00:23:14,640
through the vpn

687
00:23:12,720 --> 00:23:16,240
and i don't see people doing that

688
00:23:14,640 --> 00:23:18,159
anymore it would be a nightmare

689
00:23:16,240 --> 00:23:19,520
but it would be a mitigating factor if

690
00:23:18,159 --> 00:23:23,200
that's all you had

691
00:23:19,520 --> 00:23:23,760
um a better option uh probably gpos that

692
00:23:23,200 --> 00:23:26,240
say

693
00:23:23,760 --> 00:23:27,039
when this system is not on the corporate

694
00:23:26,240 --> 00:23:29,840
network

695
00:23:27,039 --> 00:23:31,120
java doesn't run that should be a pretty

696
00:23:29,840 --> 00:23:33,280
good mitigating factor

697
00:23:31,120 --> 00:23:34,559
the better one is get somebody to hire a

698
00:23:33,280 --> 00:23:37,440
dev and fix that

699
00:23:34,559 --> 00:23:38,799
java for god's sake it's not that hard

700
00:23:37,440 --> 00:23:40,960
um people just don't want to spend the

701
00:23:38,799 --> 00:23:44,000
money on it right

702
00:23:40,960 --> 00:23:47,919
uh so um moving on yeah

703
00:23:44,000 --> 00:23:51,039
there we go so this is a list

704
00:23:47,919 --> 00:23:52,159
of every executable extension uh as of

705
00:23:51,039 --> 00:23:53,520
2017 and i

706
00:23:52,159 --> 00:23:55,440
haven't seen any updates to it so

707
00:23:53,520 --> 00:23:58,320
windows world hasn't changed much

708
00:23:55,440 --> 00:24:00,400
um that you need to block at the email

709
00:23:58,320 --> 00:24:00,960
gateway and i'm serious i mean all of

710
00:24:00,400 --> 00:24:03,520
them

711
00:24:00,960 --> 00:24:04,320
and tomorrow if you can by the end of

712
00:24:03,520 --> 00:24:06,639
next week

713
00:24:04,320 --> 00:24:08,240
preferably um i know what you're gonna

714
00:24:06,640 --> 00:24:10,159
say you're gonna say but robert

715
00:24:08,240 --> 00:24:11,360
i've got some users that just might need

716
00:24:10,159 --> 00:24:13,840
dot uh what

717
00:24:11,360 --> 00:24:14,479
gadget or something here right to which

718
00:24:13,840 --> 00:24:17,600
i say

719
00:24:14,480 --> 00:24:19,600
if micros if apple can tell us that

720
00:24:17,600 --> 00:24:21,279
we can do without a headset jack and

721
00:24:19,600 --> 00:24:23,120
we're just going to deal with it

722
00:24:21,279 --> 00:24:25,360
we can do the same thing with our users

723
00:24:23,120 --> 00:24:28,559
now the key to this

724
00:24:25,360 --> 00:24:30,479
is have a very robust quick to act

725
00:24:28,559 --> 00:24:32,000
exception policy in place if you put

726
00:24:30,480 --> 00:24:32,640
this in place you're probably going to

727
00:24:32,000 --> 00:24:35,520
find

728
00:24:32,640 --> 00:24:36,559
a couple of groups that do need some

729
00:24:35,520 --> 00:24:39,600
extension

730
00:24:36,559 --> 00:24:41,600
that you weren't anticipating put extra

731
00:24:39,600 --> 00:24:43,439
controls around that group

732
00:24:41,600 --> 00:24:45,039
and then let them have their freaking

733
00:24:43,440 --> 00:24:48,320
extensions but that's

734
00:24:45,039 --> 00:24:50,720
it limit as much as possible

735
00:24:48,320 --> 00:24:52,559
that i mean it's not a perfect solution

736
00:24:50,720 --> 00:24:53,200
but it is free it is cheap and you can

737
00:24:52,559 --> 00:24:56,399
do it

738
00:24:53,200 --> 00:24:59,360
tomorrow and it will stop a lot

739
00:24:56,400 --> 00:25:00,559
a lot of low-hanging fruit um so worth

740
00:24:59,360 --> 00:25:03,918
the effort

741
00:25:00,559 --> 00:25:05,918
uh antivirus yeah um we don't get

742
00:25:03,919 --> 00:25:07,360
get a ton out of our antivirus anymore

743
00:25:05,919 --> 00:25:10,240
right

744
00:25:07,360 --> 00:25:10,959
but it's not completely useless so one

745
00:25:10,240 --> 00:25:13,919
awesome thing

746
00:25:10,960 --> 00:25:14,799
every major av vendor out there allows

747
00:25:13,919 --> 00:25:18,240
their tool

748
00:25:14,799 --> 00:25:19,039
to be to accept lists of indicators of

749
00:25:18,240 --> 00:25:21,200
compromise

750
00:25:19,039 --> 00:25:22,879
and you can use that to then go looking

751
00:25:21,200 --> 00:25:26,480
for iocs

752
00:25:22,880 --> 00:25:28,080
now the you could also do that with say

753
00:25:26,480 --> 00:25:29,600
your phone scanner if your phone scanner

754
00:25:28,080 --> 00:25:30,480
was authenticating to all of your

755
00:25:29,600 --> 00:25:33,279
systems

756
00:25:30,480 --> 00:25:35,039
uh but av is everywhere already by

757
00:25:33,279 --> 00:25:37,120
policy right it should be on

758
00:25:35,039 --> 00:25:38,559
every system out there so why not

759
00:25:37,120 --> 00:25:40,879
leverage what you've already got

760
00:25:38,559 --> 00:25:42,320
if you are off that doing authenticated

761
00:25:40,880 --> 00:25:44,240
scans by the way

762
00:25:42,320 --> 00:25:46,080
awesome let me shake your hand because

763
00:25:44,240 --> 00:25:46,799
that's a the right way to be doing it

764
00:25:46,080 --> 00:25:48,559
but

765
00:25:46,799 --> 00:25:49,840
it's not possible everywhere and not

766
00:25:48,559 --> 00:25:52,240
possible all the time

767
00:25:49,840 --> 00:25:53,840
so use your av for something helpful in

768
00:25:52,240 --> 00:25:57,520
addition heuristics

769
00:25:53,840 --> 00:26:00,559
it's off it's not great but it does

770
00:25:57,520 --> 00:26:01,840
find some malicious code right hero6 was

771
00:26:00,559 --> 00:26:04,720
the first attempt to

772
00:26:01,840 --> 00:26:06,799
find malicious code without um uh

773
00:26:04,720 --> 00:26:08,400
without signatures right to do it based

774
00:26:06,799 --> 00:26:11,120
on the behavior

775
00:26:08,400 --> 00:26:12,799
so um i suspect that in a lot of

776
00:26:11,120 --> 00:26:14,080
organizations it's turned off because it

777
00:26:12,799 --> 00:26:16,080
can get noisy

778
00:26:14,080 --> 00:26:17,360
and it needs some tweaking and some

779
00:26:16,080 --> 00:26:20,720
fine-tuning

780
00:26:17,360 --> 00:26:22,479
uh to prevent it from being that noisy

781
00:26:20,720 --> 00:26:24,480
but it can be your friend it can help

782
00:26:22,480 --> 00:26:25,840
out a little bit last but not least is

783
00:26:24,480 --> 00:26:28,320
anybody actually checking

784
00:26:25,840 --> 00:26:30,320
the av alerts themselves so many of my

785
00:26:28,320 --> 00:26:32,639
pentest and red team friends are like

786
00:26:30,320 --> 00:26:34,080
you know what i was as noisy as the you

787
00:26:32,640 --> 00:26:36,240
know girl in a china shop

788
00:26:34,080 --> 00:26:38,240
i knocked over stuff left and right i

789
00:26:36,240 --> 00:26:40,720
know i was tripping off alerts

790
00:26:38,240 --> 00:26:41,440
but nobody was checking i had domain

791
00:26:40,720 --> 00:26:44,240
admin

792
00:26:41,440 --> 00:26:45,840
way before anybody actually responded to

793
00:26:44,240 --> 00:26:48,960
any of those alerts so

794
00:26:45,840 --> 00:26:50,799
simply just putting in good process

795
00:26:48,960 --> 00:26:52,000
to deal with those alerts and get them

796
00:26:50,799 --> 00:26:53,760
to bubble up

797
00:26:52,000 --> 00:26:55,840
in your learning system that'd be

798
00:26:53,760 --> 00:26:58,879
helpful

799
00:26:55,840 --> 00:27:01,439
so i love this next section so much

800
00:26:58,880 --> 00:27:02,640
this is all about deception practices

801
00:27:01,440 --> 00:27:05,200
honey tokens

802
00:27:02,640 --> 00:27:06,080
land mines tripwires whatever you want

803
00:27:05,200 --> 00:27:09,440
to call it

804
00:27:06,080 --> 00:27:12,158
the the concept is we're tricking the

805
00:27:09,440 --> 00:27:13,279
attacker into doing something that lets

806
00:27:12,159 --> 00:27:16,159
us know that they're there

807
00:27:13,279 --> 00:27:17,039
right in very simple easy ways cheap

808
00:27:16,159 --> 00:27:19,679
ways to do

809
00:27:17,039 --> 00:27:21,200
to do that um and you know even if they

810
00:27:19,679 --> 00:27:23,760
do realize that we've tricked them

811
00:27:21,200 --> 00:27:24,880
it's too late the simplest of this and

812
00:27:23,760 --> 00:27:27,279
i've seen this work

813
00:27:24,880 --> 00:27:27,919
so well um is the concept of a honey

814
00:27:27,279 --> 00:27:30,159
file

815
00:27:27,919 --> 00:27:31,039
so you get together with your it admins

816
00:27:30,159 --> 00:27:33,200
you create

817
00:27:31,039 --> 00:27:34,559
a hidden file in the golden image it's

818
00:27:33,200 --> 00:27:36,159
something that you're going to hide from

819
00:27:34,559 --> 00:27:38,399
the users no one should see it

820
00:27:36,159 --> 00:27:39,440
make sure you'll white list it uh allow

821
00:27:38,399 --> 00:27:41,279
listed off of

822
00:27:39,440 --> 00:27:42,559
the av and the volume scans anything

823
00:27:41,279 --> 00:27:45,360
else

824
00:27:42,559 --> 00:27:47,440
so just a simple text file call it

825
00:27:45,360 --> 00:27:48,719
something that an attacker could not

826
00:27:47,440 --> 00:27:50,960
resist opening

827
00:27:48,720 --> 00:27:52,320
like passwords or password lists or

828
00:27:50,960 --> 00:27:54,720
something like that

829
00:27:52,320 --> 00:27:56,320
um and then and so this is a great way

830
00:27:54,720 --> 00:27:58,720
to be able to kind of put

831
00:27:56,320 --> 00:27:59,520
sensors out through your entire user

832
00:27:58,720 --> 00:28:01,840
land who

833
00:27:59,520 --> 00:28:04,000
are the primary targets right web apps

834
00:28:01,840 --> 00:28:06,799
users those are the targets right now

835
00:28:04,000 --> 00:28:07,600
and yet usually we've got nothing on the

836
00:28:06,799 --> 00:28:09,039
endpoint

837
00:28:07,600 --> 00:28:10,799
um telling us if bad things are

838
00:28:09,039 --> 00:28:14,080
happening other than av and

839
00:28:10,799 --> 00:28:17,918
we know how good that is so um so you

840
00:28:14,080 --> 00:28:20,960
log one tiny little thing you log on

841
00:28:17,919 --> 00:28:21,840
anything where that file is accessed at

842
00:28:20,960 --> 00:28:25,200
the end point

843
00:28:21,840 --> 00:28:28,399
it's one tiny little bit of text

844
00:28:25,200 --> 00:28:29,200
this file was accessed um and if you get

845
00:28:28,399 --> 00:28:30,479
alerts on that

846
00:28:29,200 --> 00:28:32,320
you've either got something weird

847
00:28:30,480 --> 00:28:35,039
happening something evil happening

848
00:28:32,320 --> 00:28:36,879
or the occasional and i don't see this

849
00:28:35,039 --> 00:28:38,720
very often anymore but if a user did

850
00:28:36,880 --> 00:28:40,159
drop down to the command line and do a

851
00:28:38,720 --> 00:28:42,640
der slash s

852
00:28:40,159 --> 00:28:44,480
it would probably trip this as well but

853
00:28:42,640 --> 00:28:44,880
for the most part you're going to get

854
00:28:44,480 --> 00:28:47,760
some

855
00:28:44,880 --> 00:28:49,520
pretty good fidelity off of this and it

856
00:28:47,760 --> 00:28:52,720
costs you next to nothing

857
00:28:49,520 --> 00:28:54,960
same vein bit better fidelity a honey

858
00:28:52,720 --> 00:28:56,080
account so you put accounts out there

859
00:28:54,960 --> 00:28:59,760
you call

860
00:28:56,080 --> 00:29:00,720
in the domain you call them domain admin

861
00:28:59,760 --> 00:29:02,799
something

862
00:29:00,720 --> 00:29:04,320
follow your standard naming convention

863
00:29:02,799 --> 00:29:07,679
um and then

864
00:29:04,320 --> 00:29:09,439
you put the password the the patent well

865
00:29:07,679 --> 00:29:10,880
you put something in the in the

866
00:29:09,440 --> 00:29:13,200
description of the account

867
00:29:10,880 --> 00:29:14,480
that says the password is this it didn't

868
00:29:13,200 --> 00:29:17,039
even have to really be that

869
00:29:14,480 --> 00:29:18,720
um but you probably want to actually

870
00:29:17,039 --> 00:29:19,600
make it a legit password for that

871
00:29:18,720 --> 00:29:21,440
account

872
00:29:19,600 --> 00:29:24,559
but it's going to have login hours of

873
00:29:21,440 --> 00:29:28,320
zero put in the admins group

874
00:29:24,559 --> 00:29:32,240
anybody that uh is actually um

875
00:29:28,320 --> 00:29:35,200
uh enumerating your active directory uh

876
00:29:32,240 --> 00:29:36,720
configuration then is gonna see that and

877
00:29:35,200 --> 00:29:37,600
they're gonna think you're the dumbest

878
00:29:36,720 --> 00:29:39,440
mcse

879
00:29:37,600 --> 00:29:41,840
that ever existed they're gonna rub

880
00:29:39,440 --> 00:29:43,840
their hands and go i have you now

881
00:29:41,840 --> 00:29:44,879
because they think they've got the keys

882
00:29:43,840 --> 00:29:47,760
to the kingdom

883
00:29:44,880 --> 00:29:49,039
but they've got nothing this uh this

884
00:29:47,760 --> 00:29:52,480
account isn't gonna work

885
00:29:49,039 --> 00:29:54,879
you're gonna get an alert on one domain

886
00:29:52,480 --> 00:29:56,080
windows event and that is somebody

887
00:29:54,880 --> 00:29:58,240
trying to use this account

888
00:29:56,080 --> 00:29:59,918
make sure hardly anybody knows about it

889
00:29:58,240 --> 00:30:00,399
bury it don't let a whole lot of people

890
00:29:59,919 --> 00:30:02,880
know

891
00:30:00,399 --> 00:30:04,320
make sure that the password is only in

892
00:30:02,880 --> 00:30:07,520
the hands of a few people

893
00:30:04,320 --> 00:30:10,639
this is solid um some additional

894
00:30:07,520 --> 00:30:13,440
landmines so uh anybody out there um

895
00:30:10,640 --> 00:30:14,880
a dba uh if you are and stick your

896
00:30:13,440 --> 00:30:15,760
fingers in yours right now so i can talk

897
00:30:14,880 --> 00:30:17,919
to everybody else

898
00:30:15,760 --> 00:30:18,879
they are the biggest prima donnas right

899
00:30:17,919 --> 00:30:22,000
we cannot

900
00:30:18,880 --> 00:30:24,559
put any so many push so much pushback

901
00:30:22,000 --> 00:30:26,399
about putting any sort of monitoring on

902
00:30:24,559 --> 00:30:29,120
on the databases

903
00:30:26,399 --> 00:30:30,080
so get around that quick little trick

904
00:30:29,120 --> 00:30:33,279
get together with

905
00:30:30,080 --> 00:30:35,279
one or two dbas not everybody um

906
00:30:33,279 --> 00:30:36,320
and create a honey database or even a

907
00:30:35,279 --> 00:30:38,159
honey table

908
00:30:36,320 --> 00:30:39,760
do not publish a schema make sure nobody

909
00:30:38,159 --> 00:30:42,240
else knows it's out there

910
00:30:39,760 --> 00:30:42,960
bury it somewhere and call it something

911
00:30:42,240 --> 00:30:45,440
juicy again

912
00:30:42,960 --> 00:30:46,159
call it credit cards call it uh you make

913
00:30:45,440 --> 00:30:48,799
a couple of them

914
00:30:46,159 --> 00:30:50,000
right and make them something that your

915
00:30:48,799 --> 00:30:51,600
organization would actually

916
00:30:50,000 --> 00:30:53,520
have something someone would want to

917
00:30:51,600 --> 00:30:55,199
steal and again

918
00:30:53,520 --> 00:30:56,720
you don't have to learn on everything

919
00:30:55,200 --> 00:30:58,960
you don't have to log everything

920
00:30:56,720 --> 00:31:00,240
for these databases or tables you just

921
00:30:58,960 --> 00:31:02,960
log on access

922
00:31:00,240 --> 00:31:03,679
to your honey tables oh my god if you

923
00:31:02,960 --> 00:31:05,679
get anybody

924
00:31:03,679 --> 00:31:07,279
you've either got evil again happening

925
00:31:05,679 --> 00:31:09,200
or you have a dba that needs to go back

926
00:31:07,279 --> 00:31:09,679
to remedial dba school because they just

927
00:31:09,200 --> 00:31:11,200
did

928
00:31:09,679 --> 00:31:13,360
select star from everything in the

929
00:31:11,200 --> 00:31:19,120
[ __ ] world i'm sorry in the freaking

930
00:31:13,360 --> 00:31:21,039
organization um so uh

931
00:31:19,120 --> 00:31:23,760
and then the last but not least oh this

932
00:31:21,039 --> 00:31:27,200
is great so this is invoke run as

933
00:31:23,760 --> 00:31:29,919
uh invoke run as you can get from github

934
00:31:27,200 --> 00:31:31,200
you you can deploy it with sccem or wss

935
00:31:29,919 --> 00:31:32,799
whatever you're using for windows

936
00:31:31,200 --> 00:31:36,000
deployments out there

937
00:31:32,799 --> 00:31:37,279
and all it does is create a fake admin

938
00:31:36,000 --> 00:31:39,279
account with fake creds

939
00:31:37,279 --> 00:31:40,320
and loads it in memory on every system

940
00:31:39,279 --> 00:31:42,399
that it's running on

941
00:31:40,320 --> 00:31:44,480
then all you do is alert when you see

942
00:31:42,399 --> 00:31:46,479
that account in use in the organization

943
00:31:44,480 --> 00:31:48,399
this is brilliant because this is this

944
00:31:46,480 --> 00:31:51,039
is how you catch things like me cats

945
00:31:48,399 --> 00:31:51,439
scraping creds out of memory right if

946
00:31:51,039 --> 00:31:53,519
you

947
00:31:51,440 --> 00:31:54,960
you should not get false positives off

948
00:31:53,519 --> 00:31:57,440
of this if you've got users

949
00:31:54,960 --> 00:31:58,559
that know how to download uh get around

950
00:31:57,440 --> 00:32:00,960
your controls download me

951
00:31:58,559 --> 00:32:02,240
caps and run it yeah you've got a big

952
00:32:00,960 --> 00:32:04,960
insider problem

953
00:32:02,240 --> 00:32:05,840
so so great way to catch more advanced

954
00:32:04,960 --> 00:32:08,880
attackers

955
00:32:05,840 --> 00:32:12,480
um leveraging those kind of tactics

956
00:32:08,880 --> 00:32:13,840
uh so oh and uh and again i i've added a

957
00:32:12,480 --> 00:32:14,960
little bit of cud spin in this talk

958
00:32:13,840 --> 00:32:16,639
because i've gotten so many people

959
00:32:14,960 --> 00:32:18,240
saying well what about for the cloud so

960
00:32:16,640 --> 00:32:20,000
are there tiny tokens for the cloud yes

961
00:32:18,240 --> 00:32:23,600
but there's some caveats

962
00:32:20,000 --> 00:32:25,200
so um very cool talk in 2018 uh project

963
00:32:23,600 --> 00:32:29,360
space crab

964
00:32:25,200 --> 00:32:31,840
these guys created a way to uh to create

965
00:32:29,360 --> 00:32:32,639
and annotate and alert on aws keys that

966
00:32:31,840 --> 00:32:35,279
are fake

967
00:32:32,640 --> 00:32:36,080
um at scale so they're they're they were

968
00:32:35,279 --> 00:32:37,600
able to create

969
00:32:36,080 --> 00:32:39,360
lots and lots and lots of them they

970
00:32:37,600 --> 00:32:43,199
don't provide access to anything

971
00:32:39,360 --> 00:32:44,959
but they just spread these uh aws keys

972
00:32:43,200 --> 00:32:46,640
all over the organization

973
00:32:44,960 --> 00:32:48,799
and maybe externally as well which

974
00:32:46,640 --> 00:32:49,200
doesn't work too well because aws has

975
00:32:48,799 --> 00:32:52,000
gotten

976
00:32:49,200 --> 00:32:52,720
amazon's gotten really good at telling

977
00:32:52,000 --> 00:32:54,960
people

978
00:32:52,720 --> 00:32:56,000
that hey you've got keys out there that

979
00:32:54,960 --> 00:32:58,960
shouldn't be out there

980
00:32:56,000 --> 00:33:00,960
um so they'll block them typically could

981
00:32:58,960 --> 00:33:04,159
still use them internally though

982
00:33:00,960 --> 00:33:06,720
um but shortly after that talk

983
00:33:04,159 --> 00:33:07,840
rhino labs found a way to detect

984
00:33:06,720 --> 00:33:10,559
booby-trapped

985
00:33:07,840 --> 00:33:11,600
mass-produced tokens now that didn't say

986
00:33:10,559 --> 00:33:13,678
anything about

987
00:33:11,600 --> 00:33:14,879
the handcrafted ones so i think your

988
00:33:13,679 --> 00:33:19,120
handcrafted ones

989
00:33:14,880 --> 00:33:21,919
could still express um

990
00:33:19,120 --> 00:33:23,039
so uh so they found a way around partly

991
00:33:21,919 --> 00:33:24,000
because and i didn't know this

992
00:33:23,039 --> 00:33:27,039
cloudtrail

993
00:33:24,000 --> 00:33:29,279
doesn't log a handful of niche services

994
00:33:27,039 --> 00:33:31,120
awesome no mugging at all for a few

995
00:33:29,279 --> 00:33:32,399
niche services you can read the research

996
00:33:31,120 --> 00:33:35,678
to get those

997
00:33:32,399 --> 00:33:38,399
um and partly because amazon's

998
00:33:35,679 --> 00:33:39,360
own messages error messages can actually

999
00:33:38,399 --> 00:33:41,840
reveal

1000
00:33:39,360 --> 00:33:43,039
that a key is movie tracked so if you

1001
00:33:41,840 --> 00:33:44,399
try to use that key

1002
00:33:43,039 --> 00:33:46,559
in the right way and you take a look at

1003
00:33:44,399 --> 00:33:47,840
the error messages you'll know it's

1004
00:33:46,559 --> 00:33:50,559
booby-trapped without

1005
00:33:47,840 --> 00:33:51,918
firing off the booby trap so be careful

1006
00:33:50,559 --> 00:33:53,120
about that but i think the handcrafted

1007
00:33:51,919 --> 00:33:56,000
ones will work well

1008
00:33:53,120 --> 00:33:57,439
so another way to stop attack a couple

1009
00:33:56,000 --> 00:33:58,080
more ways to stop attackers in their

1010
00:33:57,440 --> 00:34:00,480
tracks

1011
00:33:58,080 --> 00:34:01,360
um using a web form to authenticate to

1012
00:34:00,480 --> 00:34:03,519
the proxy

1013
00:34:01,360 --> 00:34:05,439
just once a day you know first time user

1014
00:34:03,519 --> 00:34:07,840
logs in tries to go to the web

1015
00:34:05,440 --> 00:34:11,200
authenticate to the proxy it stops a lot

1016
00:34:07,840 --> 00:34:14,078
of scripted and automated attacks

1017
00:34:11,199 --> 00:34:14,638
it can even stop uh you know if if the

1018
00:34:14,079 --> 00:34:17,599
attacker

1019
00:34:14,639 --> 00:34:18,159
doesn't have legit creds yet it can stop

1020
00:34:17,599 --> 00:34:20,240
them there

1021
00:34:18,159 --> 00:34:21,760
especially if you make the users use

1022
00:34:20,239 --> 00:34:24,158
something different than their

1023
00:34:21,760 --> 00:34:25,760
domain maybe i know they're gonna you're

1024
00:34:24,159 --> 00:34:28,079
gonna be cranky about that but

1025
00:34:25,760 --> 00:34:29,119
depends on your risk model if you're in

1026
00:34:28,079 --> 00:34:31,200
in a pretty

1027
00:34:29,119 --> 00:34:32,960
uh an environment where you've got to be

1028
00:34:31,199 --> 00:34:35,759
more secure than normal maybe

1029
00:34:32,960 --> 00:34:37,280
dot gov maybe dot research i don't know

1030
00:34:35,760 --> 00:34:38,560
you might want to go to this length you

1031
00:34:37,280 --> 00:34:39,359
might even go to the length if it's

1032
00:34:38,560 --> 00:34:42,159
really

1033
00:34:39,359 --> 00:34:44,319
it needs to be secure asking the users

1034
00:34:42,159 --> 00:34:45,200
to an allow a site once a day or once a

1035
00:34:44,320 --> 00:34:46,560
week literally

1036
00:34:45,199 --> 00:34:48,319
when they go to google they're going to

1037
00:34:46,560 --> 00:34:51,520
get a pop-up that says do you

1038
00:34:48,320 --> 00:34:52,960
allow access to this website it might

1039
00:34:51,520 --> 00:34:55,280
teach them bad behaviors

1040
00:34:52,960 --> 00:34:56,720
i'm not sure um but the act of them

1041
00:34:55,280 --> 00:34:58,000
saying yes is something that an

1042
00:34:56,719 --> 00:34:58,879
automated script isn't gonna know what

1043
00:34:58,000 --> 00:35:01,200
to do with

1044
00:34:58,880 --> 00:35:03,280
so so that's why you do something like

1045
00:35:01,200 --> 00:35:05,759
that your mileage may vary on that one

1046
00:35:03,280 --> 00:35:06,720
wpat has a man in the middle

1047
00:35:05,760 --> 00:35:09,119
vulnerability

1048
00:35:06,720 --> 00:35:10,959
these two null routes mitigate that

1049
00:35:09,119 --> 00:35:14,480
vulnerability

1050
00:35:10,960 --> 00:35:17,359
in addition i want you to disable

1051
00:35:14,480 --> 00:35:18,560
netbios i know it's just like the

1052
00:35:17,359 --> 00:35:20,640
extensions

1053
00:35:18,560 --> 00:35:22,480
you can't do it tomorrow you're probably

1054
00:35:20,640 --> 00:35:25,118
not going to get it done this year

1055
00:35:22,480 --> 00:35:26,960
but it needs to be on your plan whether

1056
00:35:25,119 --> 00:35:30,000
it's your one year plan your three year

1057
00:35:26,960 --> 00:35:34,000
five year plan i don't care get rid

1058
00:35:30,000 --> 00:35:35,839
of it it allows so much evil to happen

1059
00:35:34,000 --> 00:35:38,480
um hopefully most of you have heard of

1060
00:35:35,839 --> 00:35:39,119
responder it by the way is another free

1061
00:35:38,480 --> 00:35:41,119
tool

1062
00:35:39,119 --> 00:35:44,240
that you should download and test on

1063
00:35:41,119 --> 00:35:46,800
your own environment get permission but

1064
00:35:44,240 --> 00:35:48,720
um but responder does things like listen

1065
00:35:46,800 --> 00:35:50,880
for netbios broadcasts

1066
00:35:48,720 --> 00:35:51,919
and as soon as it hears when it goes hey

1067
00:35:50,880 --> 00:35:53,680
yeah that's me

1068
00:35:51,920 --> 00:35:56,160
on that server you're looking for

1069
00:35:53,680 --> 00:35:57,919
windows host why don't you give me your

1070
00:35:56,160 --> 00:35:58,560
session id why don't you give me your

1071
00:35:57,920 --> 00:36:01,200
hash and

1072
00:35:58,560 --> 00:36:02,799
i'll take care of things for you yeah

1073
00:36:01,200 --> 00:36:06,160
not really good

1074
00:36:02,800 --> 00:36:07,920
um so uh so get rid of netbios

1075
00:36:06,160 --> 00:36:09,759
it's gonna be difficult you're gonna

1076
00:36:07,920 --> 00:36:12,800
have to have a real plan for it

1077
00:36:09,760 --> 00:36:14,640
make that plan start it now do it as

1078
00:36:12,800 --> 00:36:18,960
soon as you can

1079
00:36:14,640 --> 00:36:21,279
uh disabling dns servers for

1080
00:36:18,960 --> 00:36:22,880
external namespace the internal dns

1081
00:36:21,280 --> 00:36:24,800
servers this is a really good one

1082
00:36:22,880 --> 00:36:26,000
so we don't want to make it easy for

1083
00:36:24,800 --> 00:36:27,440
attackers to get to their

1084
00:36:26,000 --> 00:36:29,359
tools to get to their command and

1085
00:36:27,440 --> 00:36:31,839
control so don't let

1086
00:36:29,359 --> 00:36:33,440
internal name servers do forward lookups

1087
00:36:31,839 --> 00:36:35,839
for external namespace

1088
00:36:33,440 --> 00:36:37,520
that's the proxy's job and oh by the way

1089
00:36:35,839 --> 00:36:38,320
hopefully they're authenticating to that

1090
00:36:37,520 --> 00:36:40,560
proxy

1091
00:36:38,320 --> 00:36:42,720
makes a lot harder especially for

1092
00:36:40,560 --> 00:36:45,119
automated things to get out because

1093
00:36:42,720 --> 00:36:46,160
they're not going to know what to do uh

1094
00:36:45,119 --> 00:36:48,720
more road blocks

1095
00:36:46,160 --> 00:36:49,598
so who here has heard of laps i mean

1096
00:36:48,720 --> 00:36:51,118
this is

1097
00:36:49,599 --> 00:36:53,119
something in the security realm that

1098
00:36:51,119 --> 00:36:54,960
microsoft did well

1099
00:36:53,119 --> 00:36:57,280
i mean i i know that's a weird sentence

1100
00:36:54,960 --> 00:36:57,920
to say right but they did it very very

1101
00:36:57,280 --> 00:37:01,040
well

1102
00:36:57,920 --> 00:37:03,280
um it's not perfect there are some

1103
00:37:01,040 --> 00:37:05,200
some ways to evade it but for the most

1104
00:37:03,280 --> 00:37:07,920
part if you have local admin

1105
00:37:05,200 --> 00:37:08,319
in your organization first of all if you

1106
00:37:07,920 --> 00:37:11,040
have

1107
00:37:08,320 --> 00:37:12,240
local admin in your organization right

1108
00:37:11,040 --> 00:37:13,520
sometimes there's nothing you can do

1109
00:37:12,240 --> 00:37:15,279
about that

1110
00:37:13,520 --> 00:37:16,960
um at least for right now get rid of it

1111
00:37:15,280 --> 00:37:19,040
just like netbios eventually

1112
00:37:16,960 --> 00:37:20,720
but for the most part if you have local

1113
00:37:19,040 --> 00:37:21,759
admin it's the same local admin on every

1114
00:37:20,720 --> 00:37:23,680
system

1115
00:37:21,760 --> 00:37:24,800
it makes it so easy for the attacker to

1116
00:37:23,680 --> 00:37:27,040
laterally move

1117
00:37:24,800 --> 00:37:29,520
lapse takes all those local admin

1118
00:37:27,040 --> 00:37:29,759
accounts and randomizes the password for

1119
00:37:29,520 --> 00:37:31,839
them

1120
00:37:29,760 --> 00:37:33,200
and still allows it to do their job it

1121
00:37:31,839 --> 00:37:35,599
can still

1122
00:37:33,200 --> 00:37:36,240
use laps to actually get local admin

1123
00:37:35,599 --> 00:37:38,400
access

1124
00:37:36,240 --> 00:37:39,598
um works well everywhere i've heard

1125
00:37:38,400 --> 00:37:41,760
people deploying it

1126
00:37:39,599 --> 00:37:43,359
like i said there there are some

1127
00:37:41,760 --> 00:37:46,079
evasions for it but

1128
00:37:43,359 --> 00:37:47,440
this is solid stuff and if it's not if

1129
00:37:46,079 --> 00:37:48,320
microsoft tries to charge you for it

1130
00:37:47,440 --> 00:37:50,240
just say no

1131
00:37:48,320 --> 00:37:51,760
to say dude you got to give us that for

1132
00:37:50,240 --> 00:37:53,439
free with our license right you'll get

1133
00:37:51,760 --> 00:37:56,560
it for free i guarantee you

1134
00:37:53,440 --> 00:37:57,920
uh and last but not least

1135
00:37:56,560 --> 00:38:00,480
i learned this one from dave kevin

1136
00:37:57,920 --> 00:38:04,079
kennedy he's such a fantastic researcher

1137
00:38:00,480 --> 00:38:04,720
um this is nothing more than a gpo that

1138
00:38:04,079 --> 00:38:07,040
says

1139
00:38:04,720 --> 00:38:09,118
deny access to this system to the

1140
00:38:07,040 --> 00:38:12,240
workstations and laptops essentially

1141
00:38:09,119 --> 00:38:12,800
from the network because no one should

1142
00:38:12,240 --> 00:38:14,560
ever

1143
00:38:12,800 --> 00:38:16,240
have to connect to a workstat

1144
00:38:14,560 --> 00:38:19,119
workstation or laptop

1145
00:38:16,240 --> 00:38:21,118
from the network short of itops and oh

1146
00:38:19,119 --> 00:38:23,520
freaking by the way itops

1147
00:38:21,119 --> 00:38:24,640
can control this gpo so they can flip it

1148
00:38:23,520 --> 00:38:27,280
when they need to

1149
00:38:24,640 --> 00:38:28,640
um put that apply that to the local

1150
00:38:27,280 --> 00:38:32,079
admin group

1151
00:38:28,640 --> 00:38:33,759
um and this makes even dave's job

1152
00:38:32,079 --> 00:38:35,119
really difficult he said when this is in

1153
00:38:33,760 --> 00:38:36,079
place short of there being

1154
00:38:35,119 --> 00:38:39,440
vulnerabilities

1155
00:38:36,079 --> 00:38:42,960
that would allow um him to lateral move

1156
00:38:39,440 --> 00:38:43,359
um he's not getting around uh by usual

1157
00:38:42,960 --> 00:38:46,160
means

1158
00:38:43,359 --> 00:38:47,119
he's literally got a spearfish each and

1159
00:38:46,160 --> 00:38:50,240
every user

1160
00:38:47,119 --> 00:38:52,960
in the org um in order to uh to

1161
00:38:50,240 --> 00:38:54,319
to laterally move um and that's a living

1162
00:38:52,960 --> 00:38:56,560
hell

1163
00:38:54,320 --> 00:38:58,400
um so good stuff oh but what about the

1164
00:38:56,560 --> 00:39:00,480
logs robert you said you work for splunk

1165
00:38:58,400 --> 00:39:03,520
you got some log foo we can use

1166
00:39:00,480 --> 00:39:05,359
absolutely so pass the hash it's not

1167
00:39:03,520 --> 00:39:07,759
really big right now right it's on the

1168
00:39:05,359 --> 00:39:08,240
decline an attacker will still use it if

1169
00:39:07,760 --> 00:39:10,560
they

1170
00:39:08,240 --> 00:39:12,560
can if they need to if it's the path of

1171
00:39:10,560 --> 00:39:13,040
least resistance right hackers are lazy

1172
00:39:12,560 --> 00:39:14,320
so

1173
00:39:13,040 --> 00:39:16,640
they're gonna use a path of least

1174
00:39:14,320 --> 00:39:17,839
resistance here's a a pretty good

1175
00:39:16,640 --> 00:39:19,680
fidelity search

1176
00:39:17,839 --> 00:39:21,599
for detecting passive hash protection

1177
00:39:19,680 --> 00:39:23,598
and um

1178
00:39:21,599 --> 00:39:25,520
uh this uh this could actually be

1179
00:39:23,599 --> 00:39:27,920
leveraged against your historical logs

1180
00:39:25,520 --> 00:39:28,800
so take this and run it against your you

1181
00:39:27,920 --> 00:39:30,480
know i don't know

1182
00:39:28,800 --> 00:39:32,000
by policy you're probably required to

1183
00:39:30,480 --> 00:39:34,320
keep one three

1184
00:39:32,000 --> 00:39:36,000
seven years of logs run this against the

1185
00:39:34,320 --> 00:39:39,680
old logs see if anybody was

1186
00:39:36,000 --> 00:39:40,400
passing the hash in the past um dns like

1187
00:39:39,680 --> 00:39:43,200
i said

1188
00:39:40,400 --> 00:39:44,400
just such a rich environment to go

1189
00:39:43,200 --> 00:39:46,799
looking for evil

1190
00:39:44,400 --> 00:39:47,839
uh look so looking for unauthorized dns

1191
00:39:46,800 --> 00:39:49,200
what you're looking at is

1192
00:39:47,839 --> 00:39:51,200
three and by the way don't try to

1193
00:39:49,200 --> 00:39:51,919
scribble it down i can get you the deck

1194
00:39:51,200 --> 00:39:53,839
afterwards

1195
00:39:51,920 --> 00:39:55,680
um i'll have my contact information you

1196
00:39:53,839 --> 00:39:58,640
can hit me up uh

1197
00:39:55,680 --> 00:40:00,160
these are the same search just different

1198
00:39:58,640 --> 00:40:03,920
sources different indexes

1199
00:40:00,160 --> 00:40:06,160
to look for unauthorized dns

1200
00:40:03,920 --> 00:40:07,680
even better looking for dns spoofing

1201
00:40:06,160 --> 00:40:09,920
activity

1202
00:40:07,680 --> 00:40:11,839
very interesting the second one clients

1203
00:40:09,920 --> 00:40:14,960
connecting to multiple dns servers

1204
00:40:11,839 --> 00:40:16,400
right so uh so by default uh any host

1205
00:40:14,960 --> 00:40:18,000
will know about uh

1206
00:40:16,400 --> 00:40:20,079
especially our workstations and laptops

1207
00:40:18,000 --> 00:40:20,880
they'll know about uh how many dns

1208
00:40:20,079 --> 00:40:23,200
servers

1209
00:40:20,880 --> 00:40:25,359
yeah two right um whether you manually

1210
00:40:23,200 --> 00:40:27,359
put those in or put in dhcp

1211
00:40:25,359 --> 00:40:29,359
ron robbing will change that a little

1212
00:40:27,359 --> 00:40:32,078
bit but you can tweak the

1213
00:40:29,359 --> 00:40:32,960
um allow list a bit so that it doesn't

1214
00:40:32,079 --> 00:40:35,119
get confused

1215
00:40:32,960 --> 00:40:37,040
but finding a host connecting to

1216
00:40:35,119 --> 00:40:38,960
multiple dns servers especially

1217
00:40:37,040 --> 00:40:40,560
externally yeah this would be really

1218
00:40:38,960 --> 00:40:44,160
really weird this is not

1219
00:40:40,560 --> 00:40:46,720
normal host behavior um even better

1220
00:40:44,160 --> 00:40:49,359
extremely long dns queries which is

1221
00:40:46,720 --> 00:40:53,118
probably going to be indicative of

1222
00:40:49,359 --> 00:40:55,839
yeah data expel right dns is usually

1223
00:40:53,119 --> 00:40:56,800
many organs not logged at all it's wide

1224
00:40:55,839 --> 00:41:00,240
open

1225
00:40:56,800 --> 00:41:02,720
and it is a great place to exfil data

1226
00:41:00,240 --> 00:41:04,479
check out dns cat if you haven't also i

1227
00:41:02,720 --> 00:41:06,799
was talking about domain stuff earlier

1228
00:41:04,480 --> 00:41:08,000
if you don't know about bloodhound find

1229
00:41:06,800 --> 00:41:10,960
out about bloodhound

1230
00:41:08,000 --> 00:41:12,079
and also use it on your get permission

1231
00:41:10,960 --> 00:41:14,720
use it on your org

1232
00:41:12,079 --> 00:41:16,319
bloodhound calculates the degrees of

1233
00:41:14,720 --> 00:41:19,200
separation between the account

1234
00:41:16,319 --> 00:41:20,880
you're using now and domain admin and if

1235
00:41:19,200 --> 00:41:21,279
the degrees of separation between you

1236
00:41:20,880 --> 00:41:24,720
and

1237
00:41:21,280 --> 00:41:27,359
domain admin is a small number you

1238
00:41:24,720 --> 00:41:28,640
you need to get your windows uh admins

1239
00:41:27,359 --> 00:41:31,119
to change

1240
00:41:28,640 --> 00:41:32,480
your active directory structure it is

1241
00:41:31,119 --> 00:41:35,040
too flat it's

1242
00:41:32,480 --> 00:41:35,760
it's bad um so bloodhound another great

1243
00:41:35,040 --> 00:41:38,800
free tool

1244
00:41:35,760 --> 00:41:40,640
all these tools are free um so including

1245
00:41:38,800 --> 00:41:41,839
the tools here so you can download the

1246
00:41:40,640 --> 00:41:45,359
free version of splunk

1247
00:41:41,839 --> 00:41:46,560
plus the url toolbox you can get packet

1248
00:41:45,359 --> 00:41:50,000
capture using bro

1249
00:41:46,560 --> 00:41:52,400
zeek or even splunk's tool stream

1250
00:41:50,000 --> 00:41:54,160
um but you're you're looking for really

1251
00:41:52,400 --> 00:41:56,319
long dns queries now

1252
00:41:54,160 --> 00:41:57,279
two standard deviations or 200

1253
00:41:56,319 --> 00:41:59,440
characters long

1254
00:41:57,280 --> 00:42:00,319
that's not um those aren't magic numbers

1255
00:41:59,440 --> 00:42:01,440
they're not perfect

1256
00:42:00,319 --> 00:42:04,720
you might have to tweak them a little

1257
00:42:01,440 --> 00:42:06,400
bit maybe it's 2.16 standard deviations

1258
00:42:04,720 --> 00:42:08,640
but you'll find the sweet spot i

1259
00:42:06,400 --> 00:42:10,960
guarantee you i'm 200 characters long

1260
00:42:08,640 --> 00:42:12,160
again a great place to start based on

1261
00:42:10,960 --> 00:42:13,760
your own environment though you might

1262
00:42:12,160 --> 00:42:15,520
have to make it 290

1263
00:42:13,760 --> 00:42:17,359
i don't know but you will find a sweet

1264
00:42:15,520 --> 00:42:21,280
spot for this to get

1265
00:42:17,359 --> 00:42:22,480
mostly good alerts um entropy is another

1266
00:42:21,280 --> 00:42:26,160
way to measure

1267
00:42:22,480 --> 00:42:27,920
uh dns queries literally by

1268
00:42:26,160 --> 00:42:29,279
measuring the entropy in the string

1269
00:42:27,920 --> 00:42:31,200
itself so

1270
00:42:29,280 --> 00:42:32,640
for example and channel entropy is most

1271
00:42:31,200 --> 00:42:34,879
commonly used um

1272
00:42:32,640 --> 00:42:35,759
it's part of that free uri toolbox that

1273
00:42:34,880 --> 00:42:39,440
i told you about

1274
00:42:35,760 --> 00:42:43,040
but for example the string google.com

1275
00:42:39,440 --> 00:42:45,760
has pretty low entropy 2.6 but this

1276
00:42:43,040 --> 00:42:48,000
relatively random string here has a

1277
00:42:45,760 --> 00:42:48,560
really high and i know 4.28 doesn't

1278
00:42:48,000 --> 00:42:50,880
sound

1279
00:42:48,560 --> 00:42:52,560
really high compared to 2.6 but in

1280
00:42:50,880 --> 00:42:56,400
entropy math it really is

1281
00:42:52,560 --> 00:42:56,960
a very high number um and not something

1282
00:42:56,400 --> 00:42:59,520
someone

1283
00:42:56,960 --> 00:43:01,839
would type in right so just measuring

1284
00:42:59,520 --> 00:43:03,520
the entropy of those queries

1285
00:43:01,839 --> 00:43:05,200
is great by the way if you're going to

1286
00:43:03,520 --> 00:43:08,880
start taking a look at dns data

1287
00:43:05,200 --> 00:43:11,118
and i taught this in my class as well uh

1288
00:43:08,880 --> 00:43:12,640
in many organizations uh it's windows

1289
00:43:11,119 --> 00:43:15,280
that's doing your dns

1290
00:43:12,640 --> 00:43:16,000
and by default windows will only if

1291
00:43:15,280 --> 00:43:18,960
you're logging

1292
00:43:16,000 --> 00:43:19,920
dns uh from dns servers within the

1293
00:43:18,960 --> 00:43:23,920
windows environment

1294
00:43:19,920 --> 00:43:27,040
they are only going to record the query

1295
00:43:23,920 --> 00:43:29,920
uh but not the answer and you need both

1296
00:43:27,040 --> 00:43:31,359
really to get a full picture of whether

1297
00:43:29,920 --> 00:43:33,599
or not things are evil

1298
00:43:31,359 --> 00:43:35,359
so uh and the only way you can get that

1299
00:43:33,599 --> 00:43:38,720
from the logs

1300
00:43:35,359 --> 00:43:40,240
is to put the the windows dns servers in

1301
00:43:38,720 --> 00:43:43,200
debug mode

1302
00:43:40,240 --> 00:43:44,078
nobody wants to do that it's just ugly

1303
00:43:43,200 --> 00:43:46,240
so

1304
00:43:44,079 --> 00:43:48,400
faster easier down and dirty way throw a

1305
00:43:46,240 --> 00:43:50,160
tap right in front of the name servers

1306
00:43:48,400 --> 00:43:51,920
and just pump that out you can even

1307
00:43:50,160 --> 00:43:54,960
filter it out to just

1308
00:43:51,920 --> 00:43:56,240
uh the the um the records that you want

1309
00:43:54,960 --> 00:43:57,680
right maybe just the a records and the

1310
00:43:56,240 --> 00:44:01,040
response and stuff like that

1311
00:43:57,680 --> 00:44:01,839
um but uh but much easier way to get dns

1312
00:44:01,040 --> 00:44:04,400
data

1313
00:44:01,839 --> 00:44:05,680
so um if you were to apply entropy then

1314
00:44:04,400 --> 00:44:08,560
to those

1315
00:44:05,680 --> 00:44:09,839
uh packets that you've been doing um you

1316
00:44:08,560 --> 00:44:12,880
can use url query to

1317
00:44:09,839 --> 00:44:13,279
parse out the query make sure that you

1318
00:44:12,880 --> 00:44:15,119
um

1319
00:44:13,280 --> 00:44:17,040
allow list uh so you're gonna filter out

1320
00:44:15,119 --> 00:44:19,119
your uh cdns

1321
00:44:17,040 --> 00:44:21,520
um so maybe you know you filter out

1322
00:44:19,119 --> 00:44:23,520
based on the alexa

1323
00:44:21,520 --> 00:44:24,880
thousand twenty thousand whatever is

1324
00:44:23,520 --> 00:44:27,520
right for your org

1325
00:44:24,880 --> 00:44:28,480
but what you will get is something that

1326
00:44:27,520 --> 00:44:31,119
looks like this

1327
00:44:28,480 --> 00:44:33,119
so you can see all these fairly random

1328
00:44:31,119 --> 00:44:35,440
strings here these long ugly things that

1329
00:44:33,119 --> 00:44:38,800
nobody would ever type in by hand

1330
00:44:35,440 --> 00:44:41,839
they all have a pretty high entropy uh

1331
00:44:38,800 --> 00:44:43,520
all over 4.4 um so

1332
00:44:41,839 --> 00:44:45,200
good results from there it's not perfect

1333
00:44:43,520 --> 00:44:47,280
you'll get some false positives

1334
00:44:45,200 --> 00:44:49,040
you'll need to tweak that um but you you

1335
00:44:47,280 --> 00:44:50,720
will be on the road to getting some

1336
00:44:49,040 --> 00:44:54,560
great results there

1337
00:44:50,720 --> 00:44:56,078
uh so ai right ai and machine learning

1338
00:44:54,560 --> 00:44:58,078
everybody wants to sell you some of that

1339
00:44:56,079 --> 00:44:59,520
stuff there's lots of free things you

1340
00:44:58,079 --> 00:45:02,000
can do with algorithms

1341
00:44:59,520 --> 00:45:03,280
so let's take a look so there's three

1342
00:45:02,000 --> 00:45:04,240
good tools out there if you want to go

1343
00:45:03,280 --> 00:45:06,319
down this route

1344
00:45:04,240 --> 00:45:07,839
r is really good if you want to start

1345
00:45:06,319 --> 00:45:10,960
doing some algorithms

1346
00:45:07,839 --> 00:45:11,920
scipy and splunk has a free tool um you

1347
00:45:10,960 --> 00:45:14,800
download the

1348
00:45:11,920 --> 00:45:15,440
get the splunk developers license um if

1349
00:45:14,800 --> 00:45:17,119
you need a

1350
00:45:15,440 --> 00:45:19,040
that'll last you six months you can get

1351
00:45:17,119 --> 00:45:20,560
the free version but it's smaller

1352
00:45:19,040 --> 00:45:22,560
that's permanent but like i said it's

1353
00:45:20,560 --> 00:45:24,720
smaller depends on your need

1354
00:45:22,560 --> 00:45:26,400
but get a free version of splunk just

1355
00:45:24,720 --> 00:45:28,000
google free splunk if that doesn't work

1356
00:45:26,400 --> 00:45:30,160
google developer's license there's the

1357
00:45:28,000 --> 00:45:31,920
link for you for the dev license though

1358
00:45:30,160 --> 00:45:33,200
and then a free app that we have called

1359
00:45:31,920 --> 00:45:35,359
machine learning toolkit

1360
00:45:33,200 --> 00:45:36,640
um but any one of these tools can do

1361
00:45:35,359 --> 00:45:37,920
what i'm going to show you next which is

1362
00:45:36,640 --> 00:45:40,560
the cool part

1363
00:45:37,920 --> 00:45:42,160
so we're always on the hunt for some

1364
00:45:40,560 --> 00:45:44,880
data that we can play with

1365
00:45:42,160 --> 00:45:45,520
cms.gov believe it or not is a great

1366
00:45:44,880 --> 00:45:47,520
resource

1367
00:45:45,520 --> 00:45:49,200
so if you come here to research stats

1368
00:45:47,520 --> 00:45:52,560
and data um

1369
00:45:49,200 --> 00:45:55,200
you can download because cms

1370
00:45:52,560 --> 00:45:55,920
medicare medicaid is you know government

1371
00:45:55,200 --> 00:45:58,078
funded

1372
00:45:55,920 --> 00:46:00,160
healthcare they have to keep records on

1373
00:45:58,079 --> 00:46:04,720
it and much of those records

1374
00:46:00,160 --> 00:46:06,799
are available for download and analysis

1375
00:46:04,720 --> 00:46:09,040
now what you're going to get in that

1376
00:46:06,800 --> 00:46:10,319
data obviously this is hipaa data you're

1377
00:46:09,040 --> 00:46:11,119
not going to get the person that the

1378
00:46:10,319 --> 00:46:13,839
prescription was

1379
00:46:11,119 --> 00:46:14,800
for but just about everything else

1380
00:46:13,839 --> 00:46:16,640
you're going to get

1381
00:46:14,800 --> 00:46:17,920
what the prescription was for who wrote

1382
00:46:16,640 --> 00:46:20,799
it when they wrote it

1383
00:46:17,920 --> 00:46:21,359
um all sorts of fantastic data so we

1384
00:46:20,800 --> 00:46:23,920
thought

1385
00:46:21,359 --> 00:46:25,279
well what can we do like just as an

1386
00:46:23,920 --> 00:46:27,839
experiment with that data

1387
00:46:25,280 --> 00:46:29,280
well what we did is we pared it down to

1388
00:46:27,839 --> 00:46:32,000
just the opioid

1389
00:46:29,280 --> 00:46:33,520
prescriptions figuring that could be a

1390
00:46:32,000 --> 00:46:37,440
pretty interesting place

1391
00:46:33,520 --> 00:46:38,880
to go doing some random analysis right

1392
00:46:37,440 --> 00:46:41,359
so what you see there as a result of

1393
00:46:38,880 --> 00:46:44,079
that what we did is we took 2015

1394
00:46:41,359 --> 00:46:45,920
and just the opioid data opioid

1395
00:46:44,079 --> 00:46:47,599
prescription data

1396
00:46:45,920 --> 00:46:49,040
and then we ran it through two very

1397
00:46:47,599 --> 00:46:50,640
simple algorithms and i can show you

1398
00:46:49,040 --> 00:46:53,200
guys how to use these in like a day

1399
00:46:50,640 --> 00:46:54,000
um but the first algorithm was called

1400
00:46:53,200 --> 00:46:56,319
pca

1401
00:46:54,000 --> 00:46:57,760
and pca its job and you can see the

1402
00:46:56,319 --> 00:47:00,000
results of pca over here

1403
00:46:57,760 --> 00:47:01,359
uh is to take a very large data set like

1404
00:47:00,000 --> 00:47:02,800
this all these features

1405
00:47:01,359 --> 00:47:04,799
that's what data science is called you

1406
00:47:02,800 --> 00:47:07,760
know these fields features

1407
00:47:04,800 --> 00:47:08,160
and it reduces down lots of features to

1408
00:47:07,760 --> 00:47:10,560
x

1409
00:47:08,160 --> 00:47:11,680
number of features we chose three

1410
00:47:10,560 --> 00:47:15,520
because you can map

1411
00:47:11,680 --> 00:47:18,160
three on a 3d plot right which is

1412
00:47:15,520 --> 00:47:19,839
partly how we got to this uh this 3d

1413
00:47:18,160 --> 00:47:20,960
graph that you see

1414
00:47:19,839 --> 00:47:22,558
the results of that were then

1415
00:47:20,960 --> 00:47:23,520
immediately piped into just one other

1416
00:47:22,559 --> 00:47:26,800
algorithm it's called

1417
00:47:23,520 --> 00:47:28,720
k-means k-means is a very simple um

1418
00:47:26,800 --> 00:47:30,880
clustering algorithm and that's what

1419
00:47:28,720 --> 00:47:33,359
created the clusters here

1420
00:47:30,880 --> 00:47:34,160
so great we've got these clusters and

1421
00:47:33,359 --> 00:47:36,880
now

1422
00:47:34,160 --> 00:47:38,640
it's just sesame street math which of

1423
00:47:36,880 --> 00:47:40,640
these things are not like the other

1424
00:47:38,640 --> 00:47:42,720
um and we see most of the prescriptions

1425
00:47:40,640 --> 00:47:44,799
all fall around these centroids

1426
00:47:42,720 --> 00:47:47,118
um that are in the middle of the green

1427
00:47:44,800 --> 00:47:48,960
here and we've got some

1428
00:47:47,119 --> 00:47:50,559
little bit outliers this way and then so

1429
00:47:48,960 --> 00:47:53,119
a long tail of outliers

1430
00:47:50,559 --> 00:47:54,800
that go this way now we don't know why

1431
00:47:53,119 --> 00:47:56,319
they're outliers at this point

1432
00:47:54,800 --> 00:47:58,240
we had to start doing some research so

1433
00:47:56,319 --> 00:48:00,720
we started googling the providers

1434
00:47:58,240 --> 00:48:03,680
and if you google john couch right now

1435
00:48:00,720 --> 00:48:04,480
you'll see that john's in jail for 240

1436
00:48:03,680 --> 00:48:06,720
months

1437
00:48:04,480 --> 00:48:08,000
for prescription fraud he was writing

1438
00:48:06,720 --> 00:48:09,439
prescriptions

1439
00:48:08,000 --> 00:48:12,000
lots of them and that's why he's an

1440
00:48:09,440 --> 00:48:12,720
outlier was writing way more than his

1441
00:48:12,000 --> 00:48:16,160
peers

1442
00:48:12,720 --> 00:48:18,078
um for the the time window and uh

1443
00:48:16,160 --> 00:48:20,480
and stood out like a sore thumb there's

1444
00:48:18,079 --> 00:48:23,680
another doctor here it's further down

1445
00:48:20,480 --> 00:48:25,920
um who's in jail uh as well

1446
00:48:23,680 --> 00:48:28,078
and they also it was also prescription

1447
00:48:25,920 --> 00:48:29,440
fraud but the reason they ended up as an

1448
00:48:28,079 --> 00:48:31,920
outlier

1449
00:48:29,440 --> 00:48:32,880
they were a pediatrician and i don't

1450
00:48:31,920 --> 00:48:34,319
know too many

1451
00:48:32,880 --> 00:48:36,720
12 you know two-year-olds that need

1452
00:48:34,319 --> 00:48:38,400
oxycontin on a regular basis

1453
00:48:36,720 --> 00:48:40,480
although every time i fly it seems like

1454
00:48:38,400 --> 00:48:42,800
there's one no i'm kidding

1455
00:48:40,480 --> 00:48:43,760
but um and he wasn't giving oxycontin to

1456
00:48:42,800 --> 00:48:46,000
the kids by the way

1457
00:48:43,760 --> 00:48:47,119
he was writing them for their parents uh

1458
00:48:46,000 --> 00:48:49,920
to to abuse

1459
00:48:47,119 --> 00:48:51,119
obviously so um but this is just a

1460
00:48:49,920 --> 00:48:52,960
simple analysis of

1461
00:48:51,119 --> 00:48:54,880
data that we thought would be

1462
00:48:52,960 --> 00:48:56,720
interesting could we do this with

1463
00:48:54,880 --> 00:48:57,920
network traffic yeah could we do this

1464
00:48:56,720 --> 00:49:00,078
with protocols

1465
00:48:57,920 --> 00:49:01,839
executables anything that you can

1466
00:49:00,079 --> 00:49:02,720
measure in the organization for

1467
00:49:01,839 --> 00:49:04,640
anomalies

1468
00:49:02,720 --> 00:49:05,759
yeah and this is a down and dirty way to

1469
00:49:04,640 --> 00:49:08,240
do it

1470
00:49:05,760 --> 00:49:09,200
um so uh you know they always ask me to

1471
00:49:08,240 --> 00:49:10,799
put in just like a

1472
00:49:09,200 --> 00:49:12,480
two second commercial for splunk so what

1473
00:49:10,800 --> 00:49:13,359
splunk splunk is a freaking eye of

1474
00:49:12,480 --> 00:49:15,359
sauron

1475
00:49:13,359 --> 00:49:17,440
with math and that's all you really need

1476
00:49:15,359 --> 00:49:20,160
to know it gives you visibility

1477
00:49:17,440 --> 00:49:21,119
um uh but you don't need by splunk to do

1478
00:49:20,160 --> 00:49:23,839
the things that we

1479
00:49:21,119 --> 00:49:24,559
i taught you here um it's just a plug

1480
00:49:23,839 --> 00:49:27,599
for us

1481
00:49:24,559 --> 00:49:29,119
um hopefully though i've given you some

1482
00:49:27,599 --> 00:49:31,280
great information

1483
00:49:29,119 --> 00:49:33,040
and you get to use it because really you

1484
00:49:31,280 --> 00:49:33,760
guys are the most important thing only

1485
00:49:33,040 --> 00:49:36,800
you

1486
00:49:33,760 --> 00:49:40,000
can prevent infosight dumpster fires um

1487
00:49:36,800 --> 00:49:42,319
and that uh that's the end of the talk

1488
00:49:40,000 --> 00:49:44,319
like i said um so a lot of people say

1489
00:49:42,319 --> 00:49:46,319
robert that was great and i believe

1490
00:49:44,319 --> 00:49:47,680
everything he said there i've been doing

1491
00:49:46,319 --> 00:49:49,680
that research myself

1492
00:49:47,680 --> 00:49:51,200
but my company won't believe me will you

1493
00:49:49,680 --> 00:49:53,200
come and present this for my company

1494
00:49:51,200 --> 00:49:55,118
yes absolutely i will i'll have to do it

1495
00:49:53,200 --> 00:49:55,598
virtually for now but i will totally do

1496
00:49:55,119 --> 00:49:56,720
this

1497
00:49:55,599 --> 00:49:59,200
if you're just having a hard time

1498
00:49:56,720 --> 00:50:00,160
getting traction with folks that need to

1499
00:49:59,200 --> 00:50:01,520
understand

1500
00:50:00,160 --> 00:50:03,920
that there's so much that can be done

1501
00:50:01,520 --> 00:50:05,839
without buying new tools

1502
00:50:03,920 --> 00:50:07,599
um who need to understand we need to

1503
00:50:05,839 --> 00:50:10,558
focus on our people in our process

1504
00:50:07,599 --> 00:50:12,800
um i also teach a kick-ass workshop i

1505
00:50:10,559 --> 00:50:14,319
just did it uh you know past four hours

1506
00:50:12,800 --> 00:50:16,400
it's all about running security

1507
00:50:14,319 --> 00:50:18,319
investigations using logs

1508
00:50:16,400 --> 00:50:20,800
um it is a free class and i will teach

1509
00:50:18,319 --> 00:50:22,720
it for any group of more than like

1510
00:50:20,800 --> 00:50:24,000
you know six people right so you can get

1511
00:50:22,720 --> 00:50:24,799
like eight people together whether it's

1512
00:50:24,000 --> 00:50:28,160
your own org

1513
00:50:24,800 --> 00:50:30,640
or your own security group in your own

1514
00:50:28,160 --> 00:50:32,000
i will teach you guys this that class

1515
00:50:30,640 --> 00:50:34,319
for free

1516
00:50:32,000 --> 00:50:35,040
um you can get a hold of me any one of

1517
00:50:34,319 --> 00:50:37,759
these ways

1518
00:50:35,040 --> 00:50:38,880
and also do me one last favor if you

1519
00:50:37,760 --> 00:50:41,280
liked the talk

1520
00:50:38,880 --> 00:50:42,000
go to my linkedin and just throw me a

1521
00:50:41,280 --> 00:50:44,800
comment

1522
00:50:42,000 --> 00:50:46,160
i am uh there's uh i'm trying to prove

1523
00:50:44,800 --> 00:50:48,720
within my organization

1524
00:50:46,160 --> 00:50:50,000
that these things that like this are so

1525
00:50:48,720 --> 00:50:52,319
incredibly valuable

1526
00:50:50,000 --> 00:50:54,160
to the infosec community because splunk

1527
00:50:52,319 --> 00:50:55,920
didn't grow up as an infosec company

1528
00:50:54,160 --> 00:50:58,960
right we were i.t

1529
00:50:55,920 --> 00:51:00,880
logs when we started so uh so help me

1530
00:50:58,960 --> 00:51:03,359
prove out my point a little bit here

1531
00:51:00,880 --> 00:51:04,720
drop me a comment um on my on my

1532
00:51:03,359 --> 00:51:07,040
linkedin if you can

1533
00:51:04,720 --> 00:51:08,640
um no no pressure but it would help me

1534
00:51:07,040 --> 00:51:09,599
out greatly just to put together some

1535
00:51:08,640 --> 00:51:11,440
metrics yeah

1536
00:51:09,599 --> 00:51:13,200
look at all these people that love this

1537
00:51:11,440 --> 00:51:14,319
um and i'm going to open up to questions

1538
00:51:13,200 --> 00:51:17,520
if you have any questions

1539
00:51:14,319 --> 00:51:21,040
i can see the zoom chat right now um

1540
00:51:17,520 --> 00:51:22,880
actually i could probably also well no i

1541
00:51:21,040 --> 00:51:26,480
want to leave the contact information up

1542
00:51:22,880 --> 00:51:29,680
um but any questions and or

1543
00:51:26,480 --> 00:51:30,960
does anybody have a great free idea that

1544
00:51:29,680 --> 00:51:32,480
they've come up with

1545
00:51:30,960 --> 00:51:35,280
that they'd like to share with this

1546
00:51:32,480 --> 00:51:37,520
group too um i'd love to hear from you

1547
00:51:35,280 --> 00:51:39,280
um although if you have a uh you know a

1548
00:51:37,520 --> 00:51:41,920
great idea probably is more than

1549
00:51:39,280 --> 00:51:42,559
uh 20 characters of text so it may be

1550
00:51:41,920 --> 00:51:44,480
difficult

1551
00:51:42,559 --> 00:51:46,480
um if you've got a link to a great idea

1552
00:51:44,480 --> 00:51:48,880
posted here in the chat as well

1553
00:51:46,480 --> 00:51:50,720
um but i'll uh i'll leave it open for

1554
00:51:48,880 --> 00:51:52,240
questions here for a minute i'll see if

1555
00:51:50,720 --> 00:51:54,720
i can switch over to

1556
00:51:52,240 --> 00:51:56,240
discord too and bring that up in my view

1557
00:51:54,720 --> 00:51:58,399
so i can see if there's any questions in

1558
00:51:56,240 --> 00:52:00,399
the discord

1559
00:51:58,400 --> 00:52:03,440
i see there's i see there's certainly

1560
00:52:00,400 --> 00:52:06,720
some people have been having fun

1561
00:52:03,440 --> 00:52:09,359
with the uh with uh the the

1562
00:52:06,720 --> 00:52:09,919
oh that was in track two yeah all right

1563
00:52:09,359 --> 00:52:13,598
um

1564
00:52:09,920 --> 00:52:15,359
so i don't see any questions um but i

1565
00:52:13,599 --> 00:52:17,040
i definitely thank you guys for your

1566
00:52:15,359 --> 00:52:19,040
time i hope

1567
00:52:17,040 --> 00:52:20,160
all of you get to take at least one cool

1568
00:52:19,040 --> 00:52:21,759
idea home

1569
00:52:20,160 --> 00:52:23,440
um i've i've never done this

1570
00:52:21,760 --> 00:52:25,920
presentation without someone saying

1571
00:52:23,440 --> 00:52:27,680
oh my god that's a great idea um i'm

1572
00:52:25,920 --> 00:52:29,760
gonna try as soon as i get back to work

1573
00:52:27,680 --> 00:52:30,879
uh so hopefully i've given you at least

1574
00:52:29,760 --> 00:52:33,920
one nugget

1575
00:52:30,880 --> 00:52:35,520
um and with that if i don't see any

1576
00:52:33,920 --> 00:52:38,720
other questions pop up

1577
00:52:35,520 --> 00:52:41,280
i'm gonna shut down the uh

1578
00:52:38,720 --> 00:52:42,799
the zoom or at least stop the recording

1579
00:52:41,280 --> 00:52:44,559
hey bro

1580
00:52:42,800 --> 00:52:47,200
hey thank you robert thanks for putting

1581
00:52:44,559 --> 00:52:49,040
this on and for your for your tutorial

1582
00:52:47,200 --> 00:52:53,040
and your presentation

1583
00:52:49,040 --> 00:52:53,040
you bet is that john yeah

