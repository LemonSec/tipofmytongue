1
00:00:05,490 --> 00:00:09,870
here we go and today I would like to

2
00:00:07,350 --> 00:00:12,268
share with you and bout some I would say

3
00:00:09,870 --> 00:00:15,000
more like an educational lecture nothing

4
00:00:12,269 --> 00:00:16,560
new probably nothing special for you

5
00:00:15,000 --> 00:00:18,930
because I'm combining information from

6
00:00:16,560 --> 00:00:20,909
different sources about the interesting

7
00:00:18,930 --> 00:00:25,680
expressions of attacks attacks on

8
00:00:20,910 --> 00:00:28,830
Android apps attacks which look more or

9
00:00:25,680 --> 00:00:29,960
less you know effective one of the in

10
00:00:28,830 --> 00:00:34,260
Android apps we have a lot of

11
00:00:29,960 --> 00:00:36,180
vulnerabilities which are sort of like

12
00:00:34,260 --> 00:00:37,680
vulnerabilities of extracting

13
00:00:36,180 --> 00:00:39,600
information and things like that it

14
00:00:37,680 --> 00:00:42,390
sounds pretty boring you can get our

15
00:00:39,600 --> 00:00:44,610
information you can basically extract

16
00:00:42,390 --> 00:00:47,160
any information but here I would like to

17
00:00:44,610 --> 00:00:49,950
share about how applications may affect

18
00:00:47,160 --> 00:00:52,078
other apps I think it's interesting and

19
00:00:49,950 --> 00:00:54,210
if you'd like to begin to get a little

20
00:00:52,079 --> 00:00:55,800
bit more knowledge about mobile apps and

21
00:00:54,210 --> 00:00:58,649
Android apps this would be a good

22
00:00:55,800 --> 00:00:59,968
starting point so here we go I would

23
00:00:58,649 --> 00:01:03,600
like to share a couple words about

24
00:00:59,969 --> 00:01:06,180
myself I am the employee of alarm

25
00:01:03,600 --> 00:01:08,640
company I'm doing pen testing and the

26
00:01:06,180 --> 00:01:10,409
security analysis said these are the

27
00:01:08,640 --> 00:01:13,590
links to my telegram you can write me

28
00:01:10,409 --> 00:01:15,810
you can ask me anything we have our own

29
00:01:13,590 --> 00:01:17,790
chat and generally you can discuss

30
00:01:15,810 --> 00:01:20,369
different things and the guys write in

31
00:01:17,790 --> 00:01:22,049
different questions and of course email

32
00:01:20,369 --> 00:01:23,729
which nobody seems to be using any more

33
00:01:22,049 --> 00:01:25,619
today anyway

34
00:01:23,729 --> 00:01:27,990
the scope of my presentation is the

35
00:01:25,619 --> 00:01:29,280
following I would like everyone who

36
00:01:27,990 --> 00:01:31,320
would like to go back to this

37
00:01:29,280 --> 00:01:34,350
presentation will be able to understand

38
00:01:31,320 --> 00:01:36,389
it all without me and to sort of like

39
00:01:34,350 --> 00:01:39,119
refresh this material in any way you

40
00:01:36,390 --> 00:01:41,189
want all the way to details or just

41
00:01:39,119 --> 00:01:43,619
simply to scan this presentation again

42
00:01:41,189 --> 00:01:45,179
so I will upload this presentation on my

43
00:01:43,619 --> 00:01:47,130
telegram channel maybe somewhere else

44
00:01:45,180 --> 00:01:49,290
you'll be able to get it from the

45
00:01:47,130 --> 00:01:52,110
conference organizers and in

46
00:01:49,290 --> 00:01:55,860
descriptions you will find a detailed

47
00:01:52,110 --> 00:01:56,340
description of what will be delivered

48
00:01:55,860 --> 00:01:58,259
today

49
00:01:56,340 --> 00:02:01,799
in my presentation all the names and

50
00:01:58,259 --> 00:02:04,680
everything else and also while compiling

51
00:02:01,799 --> 00:02:06,990
my presentation I did it in such a way

52
00:02:04,680 --> 00:02:09,360
that if there'll be any questions about

53
00:02:06,990 --> 00:02:12,180
any topic I would give you a detailed

54
00:02:09,360 --> 00:02:13,709
answer now as I will be sharing I will

55
00:02:12,180 --> 00:02:16,200
be sharing I guess two

56
00:02:13,709 --> 00:02:17,790
with the flow but in the future if you

57
00:02:16,200 --> 00:02:20,069
want to get more knowledge about

58
00:02:17,790 --> 00:02:21,959
particular topic you can take the take

59
00:02:20,069 --> 00:02:23,659
the topic and go to the description of

60
00:02:21,959 --> 00:02:26,609
my slides there is a lot of information

61
00:02:23,659 --> 00:02:30,239
hypertext and links and all you name it

62
00:02:26,609 --> 00:02:34,969
and I've given a spoiler we're speaking

63
00:02:30,239 --> 00:02:39,000
about Android Android apps communication

64
00:02:34,969 --> 00:02:40,620
apps intercommunication 2 plus and I

65
00:02:39,000 --> 00:02:42,680
will be assuring about attacks

66
00:02:40,620 --> 00:02:44,790
techniques on this internet

67
00:02:42,680 --> 00:02:47,459
communication process I'll give you

68
00:02:44,790 --> 00:02:49,888
examples so I will show you a video of

69
00:02:47,459 --> 00:02:55,169
how it is all happening shooting running

70
00:02:49,889 --> 00:02:58,139
and doing all sorts of things and in the

71
00:02:55,169 --> 00:03:01,049
same way I would like to give you an

72
00:02:58,139 --> 00:03:03,409
understanding of how these attacks

73
00:03:01,049 --> 00:03:06,659
happens this attacks from app to app

74
00:03:03,409 --> 00:03:08,969
happen but actually I was questioning

75
00:03:06,659 --> 00:03:12,540
myself I was asking many of my experts

76
00:03:08,969 --> 00:03:14,969
and friends what are the models

77
00:03:12,540 --> 00:03:18,120
attackers models was an Android system I

78
00:03:14,969 --> 00:03:20,698
you know I said usually like to it's an

79
00:03:18,120 --> 00:03:21,989
app and human human can get my phone

80
00:03:20,699 --> 00:03:24,569
number do something with it

81
00:03:21,989 --> 00:03:26,579
with an app to extract something or the

82
00:03:24,569 --> 00:03:28,649
app which has been installed in some how

83
00:03:26,579 --> 00:03:32,669
it may affect my operational system and

84
00:03:28,650 --> 00:03:35,930
as a part of this model or violations

85
00:03:32,669 --> 00:03:38,549
described in mobile security project

86
00:03:35,930 --> 00:03:40,799
there is this kind of division looks so

87
00:03:38,549 --> 00:03:45,299
very interesting and here we say not

88
00:03:40,799 --> 00:03:47,459
only like robot versus human but also

89
00:03:45,299 --> 00:03:50,040
the human with what kind of rights and

90
00:03:47,459 --> 00:03:52,229
what can a robot be discrete beat an app

91
00:03:50,040 --> 00:03:55,409
beat text message or is something else

92
00:03:52,229 --> 00:03:58,859
and I think that you can go to it if you

93
00:03:55,409 --> 00:04:00,418
want to work even with documents or you

94
00:03:58,859 --> 00:04:02,939
can go to these kind of slides so you

95
00:04:00,419 --> 00:04:06,780
can go to a mobile security project to

96
00:04:02,939 --> 00:04:11,298
understand to understand who could be

97
00:04:06,780 --> 00:04:14,489
the initiator of this app attacks next

98
00:04:11,299 --> 00:04:16,739
the tools like I said before I would

99
00:04:14,489 --> 00:04:19,530
like to make this presentation as clear

100
00:04:16,738 --> 00:04:22,650
as detailed so that you'll be able to

101
00:04:19,529 --> 00:04:24,750
use it in the future for the future

102
00:04:22,650 --> 00:04:26,669
reference these are the tools for their

103
00:04:24,750 --> 00:04:27,730
checks and their attacks double checks

104
00:04:26,669 --> 00:04:29,650
Android studio would

105
00:04:27,730 --> 00:04:31,990
number one it gives the emulator with

106
00:04:29,650 --> 00:04:33,580
the device with an app and you can play

107
00:04:31,990 --> 00:04:36,340
you can attack and different things

108
00:04:33,580 --> 00:04:38,440
secondly enjoy a debug bridge it's a

109
00:04:36,340 --> 00:04:41,349
it's a tool

110
00:04:38,440 --> 00:04:43,510
fixing tool I there is nothing really to

111
00:04:41,350 --> 00:04:46,840
compare it always because it can do

112
00:04:43,510 --> 00:04:49,090
anything it's very intuitive great

113
00:04:46,840 --> 00:04:50,770
documentation for each ship like

114
00:04:49,090 --> 00:04:53,289
whatever it's tuned you can figure it

115
00:04:50,770 --> 00:04:57,370
out and obviously is a trouser it's a

116
00:04:53,290 --> 00:05:01,450
good app this app is playing as a client

117
00:04:57,370 --> 00:05:02,920
in a mobile device there is it's an

118
00:05:01,450 --> 00:05:04,060
external app that you can do something

119
00:05:02,920 --> 00:05:07,140
you can build this kind of trouser

120
00:05:04,060 --> 00:05:10,630
client and on behalf of the client you

121
00:05:07,140 --> 00:05:13,180
you can play as the threatened app you

122
00:05:10,630 --> 00:05:15,969
have a server part which is like playing

123
00:05:13,180 --> 00:05:18,460
this rosary basically like agent client

124
00:05:15,970 --> 00:05:21,060
and and then the client will be the

125
00:05:18,460 --> 00:05:23,620
choice or agent would be your device

126
00:05:21,060 --> 00:05:29,140
it's a very popular thing quite simple

127
00:05:23,620 --> 00:05:30,880
for the matter and so I split my

128
00:05:29,140 --> 00:05:32,500
presentation into parts number one

129
00:05:30,880 --> 00:05:34,990
explain how it happens why it happens

130
00:05:32,500 --> 00:05:36,490
and how it looks like how you can fix it

131
00:05:34,990 --> 00:05:39,100
and things like that I'm trying to

132
00:05:36,490 --> 00:05:42,790
explain it in a very simple common

133
00:05:39,100 --> 00:05:45,160
language I hope you will not get bored

134
00:05:42,790 --> 00:05:46,900
and the second part is attacks I will

135
00:05:45,160 --> 00:05:49,240
give demos it's a real meat of my

136
00:05:46,900 --> 00:05:50,859
presentation how it works with a video

137
00:05:49,240 --> 00:05:52,900
and why and everything else

138
00:05:50,860 --> 00:05:55,120
what are we speaking about today it's

139
00:05:52,900 --> 00:05:57,489
about activities intense and I'm going

140
00:05:55,120 --> 00:05:58,900
to share with you what activity is all

141
00:05:57,490 --> 00:06:00,610
about I can see my friends and

142
00:05:58,900 --> 00:06:03,609
colleagues they have no idea what

143
00:06:00,610 --> 00:06:06,460
activity intents is all about so I guess

144
00:06:03,610 --> 00:06:08,920
I'm going to address them Android app

145
00:06:06,460 --> 00:06:11,109
has several components which are part of

146
00:06:08,920 --> 00:06:12,850
this application from each to each

147
00:06:11,110 --> 00:06:14,680
application one of these components is

148
00:06:12,850 --> 00:06:17,400
activity this would be the main screen

149
00:06:14,680 --> 00:06:19,990
basically the screen of your app a page

150
00:06:17,400 --> 00:06:23,409
where you have certain operation going

151
00:06:19,990 --> 00:06:25,420
on so basically a directions section of

152
00:06:23,410 --> 00:06:25,840
this activity in the operation and by

153
00:06:25,420 --> 00:06:28,030
activity

154
00:06:25,840 --> 00:06:30,219
I mean execution of certain action you

155
00:06:28,030 --> 00:06:32,289
have the burbank application for example

156
00:06:30,220 --> 00:06:34,690
where you go to the main screen you can

157
00:06:32,290 --> 00:06:37,360
see the main activity which is giving

158
00:06:34,690 --> 00:06:39,500
you chance to authenticate then you go

159
00:06:37,360 --> 00:06:42,710
to activity to look for your amount

160
00:06:39,500 --> 00:06:45,140
your money transfers etc etc these are

161
00:06:42,710 --> 00:06:48,169
the simple operations which can be split

162
00:06:45,140 --> 00:06:52,760
apart usually the app consists of many

163
00:06:48,170 --> 00:06:54,110
activities some any big activity or any

164
00:06:52,760 --> 00:06:55,880
serious application in several

165
00:06:54,110 --> 00:06:57,500
activities not one like I said before

166
00:06:55,880 --> 00:07:00,860
you have the main operation which has

167
00:06:57,500 --> 00:07:03,320
been detected in manifest file then I

168
00:07:00,860 --> 00:07:05,450
want to show you how it looks like and

169
00:07:03,320 --> 00:07:09,460
there are different descriptions of the

170
00:07:05,450 --> 00:07:09,460
activities lifecycle in Android system

171
00:07:09,760 --> 00:07:15,320
and the approach is that there's an

172
00:07:13,280 --> 00:07:17,539
event based system when something

173
00:07:15,320 --> 00:07:20,300
happens we react on it and all the

174
00:07:17,540 --> 00:07:24,880
applications are based on the fact of us

175
00:07:20,300 --> 00:07:29,240
creating a handler that has some code

176
00:07:24,880 --> 00:07:31,520
upon launching an activity or activities

177
00:07:29,240 --> 00:07:36,800
each and every activity it can be a

178
00:07:31,520 --> 00:07:40,820
class in Java or set of classes they can

179
00:07:36,800 --> 00:07:42,530
be used or reused and so on so to

180
00:07:40,820 --> 00:07:44,120
simplify your on this for your

181
00:07:42,530 --> 00:07:46,280
understanding activity can be

182
00:07:44,120 --> 00:07:50,990
represented as Java class with some

183
00:07:46,280 --> 00:07:56,650
functions like on create on launch on

184
00:07:50,990 --> 00:08:00,680
calls whatever so when you announce

185
00:07:56,650 --> 00:08:02,510
initialize system knows about all the

186
00:08:00,680 --> 00:08:05,660
activities of the application you have a

187
00:08:02,510 --> 00:08:07,550
manifest file that regulates everything

188
00:08:05,660 --> 00:08:14,210
that can happen within an application

189
00:08:07,550 --> 00:08:16,070
all it's that the Android needs to see

190
00:08:14,210 --> 00:08:19,390
and the main one is activity and as I

191
00:08:16,070 --> 00:08:24,159
said it's part of the application it's

192
00:08:19,390 --> 00:08:28,090
in the folder with an application

193
00:08:24,160 --> 00:08:33,440
activity has a name only mandatory

194
00:08:28,090 --> 00:08:37,760
parameter which is the name of you can

195
00:08:33,440 --> 00:08:40,210
also add other attributes external

196
00:08:37,760 --> 00:08:42,559
attributes to an activity that help us

197
00:08:40,210 --> 00:08:44,900
simplify the communication between

198
00:08:42,559 --> 00:08:49,489
applications we will consider them a bit

199
00:08:44,900 --> 00:08:53,660
later ok that's more for you to

200
00:08:49,490 --> 00:08:55,850
understand an activity the operations

201
00:08:53,660 --> 00:08:59,170
that you have on the screen of your PC

202
00:08:55,850 --> 00:09:02,000
receive on the sense that you can call

203
00:08:59,170 --> 00:09:05,660
interoperate with them through other

204
00:09:02,000 --> 00:09:07,880
applications it's in the inter process

205
00:09:05,660 --> 00:09:10,339
communication you can call the

206
00:09:07,880 --> 00:09:14,390
activities of other applications here

207
00:09:10,339 --> 00:09:19,070
for example you know he transferred to

208
00:09:14,390 --> 00:09:21,770
you book a car and then you move to your

209
00:09:19,070 --> 00:09:25,339
box drive and where you can you manage

210
00:09:21,770 --> 00:09:27,410
the car rental so you called one

211
00:09:25,339 --> 00:09:29,930
application from an activity or another

212
00:09:27,410 --> 00:09:34,699
application if the activity complies

213
00:09:29,930 --> 00:09:41,120
with some addictions one condition is an

214
00:09:34,700 --> 00:09:43,490
intent filter an option for external

215
00:09:41,120 --> 00:09:46,910
applications to call your activity so

216
00:09:43,490 --> 00:09:52,540
you need to describe that intent filter

217
00:09:46,910 --> 00:09:55,490
as part of your or your manifest file

218
00:09:52,540 --> 00:09:57,770
I'm doing a little bit on abstract

219
00:09:55,490 --> 00:10:00,980
overview but give me a moment and we

220
00:09:57,770 --> 00:10:04,250
will go into detail so this activity can

221
00:10:00,980 --> 00:10:06,700
be called I will describe an exception

222
00:10:04,250 --> 00:10:09,230
but in general it can be called by any

223
00:10:06,700 --> 00:10:11,839
external application so for some

224
00:10:09,230 --> 00:10:18,160
activities you don't need to put this

225
00:10:11,839 --> 00:10:20,690
filter because activity can yes besides

226
00:10:18,160 --> 00:10:24,110
showing you some information also launch

227
00:10:20,690 --> 00:10:27,560
some actions especially if you have an

228
00:10:24,110 --> 00:10:36,130
expert attribute if you want the intent

229
00:10:27,560 --> 00:10:38,989
filter to to work only with your own

230
00:10:36,130 --> 00:10:43,310
application then you set an expert to

231
00:10:38,990 --> 00:10:49,610
false and now nothing else can trigger

232
00:10:43,310 --> 00:10:52,069
this activity if you nonce and false

233
00:10:49,610 --> 00:10:55,449
then any activity can trigger it

234
00:10:52,070 --> 00:10:59,290
if the intents are the same so intent is

235
00:10:55,449 --> 00:11:05,469
the direct mechanism for

236
00:10:59,290 --> 00:11:11,650
inter application interfere bility the

237
00:11:05,470 --> 00:11:13,960
applications in android can send

238
00:11:11,650 --> 00:11:18,550
messages to each other to run something

239
00:11:13,960 --> 00:11:22,030
for example an application can send an

240
00:11:18,550 --> 00:11:24,939
intent to open some other application

241
00:11:22,030 --> 00:11:26,680
like yeah that's Drive opening page or

242
00:11:24,940 --> 00:11:30,640
on a service

243
00:11:26,680 --> 00:11:34,030
another component like music file

244
00:11:30,640 --> 00:11:37,270
download things like that so if this

245
00:11:34,030 --> 00:11:43,240
service is exportable that the other

246
00:11:37,270 --> 00:11:44,740
application can't launch it and it's not

247
00:11:43,240 --> 00:11:47,290
recommended because these are kind of

248
00:11:44,740 --> 00:11:49,150
monitor they're running on the

249
00:11:47,290 --> 00:11:52,540
background and any application will be

250
00:11:49,150 --> 00:11:57,910
able to launch this service downloading

251
00:11:52,540 --> 00:12:01,839
files and so forth and to send broadcast

252
00:11:57,910 --> 00:12:03,610
messages also it's one of the mechanisms

253
00:12:01,840 --> 00:12:07,060
for Android applications is like

254
00:12:03,610 --> 00:12:09,570
broadcast receivers the service that I

255
00:12:07,060 --> 00:12:18,219
label you to subscribe to some events

256
00:12:09,570 --> 00:12:19,750
like battery level the battery is 15% is

257
00:12:18,220 --> 00:12:21,370
sent to the whole system and all the

258
00:12:19,750 --> 00:12:25,510
applications that are subscribed to

259
00:12:21,370 --> 00:12:28,240
those messages and events will receive

260
00:12:25,510 --> 00:12:34,540
it a lot of applications can generate a

261
00:12:28,240 --> 00:12:37,480
lot of all those IPC things may create a

262
00:12:34,540 --> 00:12:41,949
lot of vulnerabilities of course this is

263
00:12:37,480 --> 00:12:44,220
what we will be talking more details

264
00:12:41,950 --> 00:12:47,470
about intense it's not so that's simple

265
00:12:44,220 --> 00:12:52,510
as I said you can trigger this from

266
00:12:47,470 --> 00:12:55,390
other applications but you need to take

267
00:12:52,510 --> 00:12:58,420
into account some things and I will tell

268
00:12:55,390 --> 00:13:02,530
you more details now there are two types

269
00:12:58,420 --> 00:13:04,959
of intents direct intent and indirect

270
00:13:02,530 --> 00:13:08,890
intent the direct ones have

271
00:13:04,960 --> 00:13:12,000
some are triggering some specific class

272
00:13:08,890 --> 00:13:14,110
like in heroes members Burbank

273
00:13:12,000 --> 00:13:18,340
application you have a screen with your

274
00:13:14,110 --> 00:13:21,220
balance and to call it you specify the

275
00:13:18,340 --> 00:13:23,680
class or the Java class of this object

276
00:13:21,220 --> 00:13:27,010
and you address it you can get all the

277
00:13:23,680 --> 00:13:31,510
exported activities of course if the

278
00:13:27,010 --> 00:13:34,689
expert it flag is true then I can put

279
00:13:31,510 --> 00:13:40,290
this part of code and your application

280
00:13:34,690 --> 00:13:44,470
and call the intent sending the download

281
00:13:40,290 --> 00:13:49,180
service to it

282
00:13:44,470 --> 00:13:52,000
you have your right here to it you have

283
00:13:49,180 --> 00:13:54,420
your right here and you start the

284
00:13:52,000 --> 00:13:58,480
service and the most interesting part is

285
00:13:54,420 --> 00:14:01,360
indirect intent it's when you address

286
00:13:58,480 --> 00:14:05,380
not to some specific object or operation

287
00:14:01,360 --> 00:14:09,660
but to some better request to handle

288
00:14:05,380 --> 00:14:13,120
some interaction like open PDF and

289
00:14:09,660 --> 00:14:18,760
everything application that can to this

290
00:14:13,120 --> 00:14:21,910
will be proposed to tirado's you see

291
00:14:18,760 --> 00:14:26,439
this many open PDF so you have all the

292
00:14:21,910 --> 00:14:29,469
applications that you can use to open it

293
00:14:26,440 --> 00:14:33,040
so one application launched an indirect

294
00:14:29,470 --> 00:14:35,590
intent with open PDF action and three

295
00:14:33,040 --> 00:14:38,589
applications are signed up for this and

296
00:14:35,590 --> 00:14:42,130
they say they can process it so they're

297
00:14:38,590 --> 00:14:49,510
shown to you as options if if it's only

298
00:14:42,130 --> 00:14:53,110
one then it's open but the calls like

299
00:14:49,510 --> 00:14:56,230
photo calling the numbers usually open

300
00:14:53,110 --> 00:14:58,240
it through a phone app but if you have

301
00:14:56,230 --> 00:15:00,610
two applications like the Skype you will

302
00:14:58,240 --> 00:15:03,829
have to

303
00:15:00,610 --> 00:15:05,660
of course if you specify the intent

304
00:15:03,829 --> 00:15:11,269
directly then there's only one

305
00:15:05,660 --> 00:15:19,790
application running it and indirect

306
00:15:11,269 --> 00:15:22,389
intent without any data sent and then

307
00:15:19,790 --> 00:15:25,910
you give it an action like actions have

308
00:15:22,389 --> 00:15:32,480
some action for sending a message or

309
00:15:25,910 --> 00:15:34,368
some data some extra parameters it's

310
00:15:32,480 --> 00:15:38,059
another feature of those intents you can

311
00:15:34,369 --> 00:15:43,730
send some parameters send some data and

312
00:15:38,059 --> 00:15:45,709
they can affect the logic of executing

313
00:15:43,730 --> 00:15:52,610
the application and then you start

314
00:15:45,709 --> 00:15:54,829
activity and launch some activity the

315
00:15:52,610 --> 00:15:57,889
same will happen when you want to launch

316
00:15:54,829 --> 00:16:07,069
some service or drop a broadcast

317
00:15:57,889 --> 00:16:11,269
receiver how does enjoy it is react to

318
00:16:07,069 --> 00:16:15,498
direct and indirect intent with a direct

319
00:16:11,269 --> 00:16:18,619
bomb we've explained it with an indirect

320
00:16:15,499 --> 00:16:21,110
not it rolls a request to the system to

321
00:16:18,619 --> 00:16:27,920
process it and what is important here is

322
00:16:21,110 --> 00:16:31,100
that direct intent don't actually save

323
00:16:27,920 --> 00:16:35,019
you protect you from vulnerabilities

324
00:16:31,100 --> 00:16:40,339
here because if you have an object that

325
00:16:35,019 --> 00:16:42,410
runs some malicious activity then you

326
00:16:40,339 --> 00:16:44,540
can launch it with both the direct

327
00:16:42,410 --> 00:16:49,279
intent and the intent filter and it

328
00:16:44,540 --> 00:16:51,319
shows which actions need to be done for

329
00:16:49,279 --> 00:16:54,769
the operating system to process the

330
00:16:51,319 --> 00:16:57,229
intent let me check the right did not

331
00:16:54,769 --> 00:16:59,619
forget to mention everything that's on

332
00:16:57,230 --> 00:16:59,619
the slide

333
00:17:03,020 --> 00:17:13,220
so the activity here is not exported

334
00:17:07,089 --> 00:17:16,250
even if we insert it directly we cannot

335
00:17:13,220 --> 00:17:18,709
launch it because it's not exported and

336
00:17:16,250 --> 00:17:24,650
it cannot be launched by another

337
00:17:18,709 --> 00:17:30,290
application just reminded here for the

338
00:17:24,650 --> 00:17:35,360
developers and experts component access

339
00:17:30,290 --> 00:17:39,889
restrictions through intent we can't

340
00:17:35,360 --> 00:17:42,559
define it for this specific action say

341
00:17:39,890 --> 00:17:51,740
it needs to parameters of data the

342
00:17:42,559 --> 00:17:55,639
category to launch such filters do not

343
00:17:51,740 --> 00:17:58,370
provide for security you can limit the

344
00:17:55,640 --> 00:18:03,320
choice but every time you define that

345
00:17:58,370 --> 00:18:06,649
filter without saying expertise is false

346
00:18:03,320 --> 00:18:11,419
you always provide an option before this

347
00:18:06,650 --> 00:18:17,840
component component to be cold and

348
00:18:11,420 --> 00:18:21,170
here's an example of attack will work

349
00:18:17,840 --> 00:18:25,129
with specific attacks here I hope you

350
00:18:21,170 --> 00:18:29,179
understood the IPC processes some

351
00:18:25,130 --> 00:18:31,880
services that they can attack and give

352
00:18:29,179 --> 00:18:36,320
you some examples of in the buyer and

353
00:18:31,880 --> 00:18:39,440
wild attacks will we saw them first

354
00:18:36,320 --> 00:18:42,860
example is its attacks on exposed

355
00:18:39,440 --> 00:18:47,650
activities with export flag true or

356
00:18:42,860 --> 00:18:50,809
intent filter that allows allows them

357
00:18:47,650 --> 00:18:55,650
using some intent to launch using some

358
00:18:50,809 --> 00:18:59,860
intent on the Left there's an example

359
00:18:55,650 --> 00:19:03,640
of Sakura Bannock be too insecure

360
00:18:59,860 --> 00:19:05,669
Bentley - which is a breach to emulate

361
00:19:03,640 --> 00:19:10,260
and all the militants I don't know

362
00:19:05,670 --> 00:19:13,270
anything that would look like a real

363
00:19:10,260 --> 00:19:18,810
banking application you don't need to

364
00:19:13,270 --> 00:19:22,840
create some specific abstractions to the

365
00:19:18,810 --> 00:19:25,060
vulnerabilities out there you just know

366
00:19:22,840 --> 00:19:31,149
you need to go find them and exploit

367
00:19:25,060 --> 00:19:34,480
them so here we have an activity with

368
00:19:31,150 --> 00:19:37,630
the expert flag true meaning every

369
00:19:34,480 --> 00:19:39,820
application can launch it below is an

370
00:19:37,630 --> 00:19:45,180
explicit intent so you don't have an

371
00:19:39,820 --> 00:19:49,780
intent filter which is used only when

372
00:19:45,180 --> 00:19:54,190
it's in explicit intent here we only

373
00:19:49,780 --> 00:19:57,430
have an application of class we have the

374
00:19:54,190 --> 00:19:59,740
full name of this activity we can

375
00:19:57,430 --> 00:20:05,160
address it using our Android debug

376
00:19:59,740 --> 00:20:10,380
bridge we run shell Android has a tool

377
00:20:05,160 --> 00:20:10,380
service called activity manager I am I

378
00:20:11,400 --> 00:20:18,580
am start the launchers the activity M

379
00:20:15,730 --> 00:20:20,890
means it should be explicitly called

380
00:20:18,580 --> 00:20:25,990
then the name of the class that

381
00:20:20,890 --> 00:20:30,250
processes this activity then - E is an

382
00:20:25,990 --> 00:20:33,190
extra string parameter you name with the

383
00:20:30,250 --> 00:20:35,700
name Jack then we see that the community

384
00:20:33,190 --> 00:20:35,700
was launched

385
00:20:41,310 --> 00:20:51,220
here we have logging we can address the

386
00:20:48,120 --> 00:20:55,030
activities that are responsible the view

387
00:20:51,220 --> 00:20:59,260
statement activity that is responsible

388
00:20:55,030 --> 00:21:04,990
for balance then we close it i launch

389
00:20:59,260 --> 00:21:09,190
the adb shell code it's on the screen

390
00:21:04,990 --> 00:21:13,380
and it works if we have extra privileges

391
00:21:09,190 --> 00:21:19,270
we can read what was there on the screen

392
00:21:13,380 --> 00:21:25,990
if there were some actions then we could

393
00:21:19,270 --> 00:21:27,129
call it and run those actions let me

394
00:21:25,990 --> 00:21:30,720
show you

395
00:21:27,130 --> 00:21:34,510
vivid example such an attack there's a

396
00:21:30,720 --> 00:21:37,030
an article by Adam Gazette of intense

397
00:21:34,510 --> 00:21:39,670
proofing in Android he worked in Google

398
00:21:37,030 --> 00:21:44,230
security team working with Android

399
00:21:39,670 --> 00:21:47,860
applications they took 500 popular

400
00:21:44,230 --> 00:21:52,450
applications filtered them and they saw

401
00:21:47,860 --> 00:21:57,399
pay park application allowing the users

402
00:21:52,450 --> 00:22:01,450
to send money within the system but it

403
00:21:57,400 --> 00:22:03,460
has a vulnerability the activity for

404
00:22:01,450 --> 00:22:06,030
money sending interface was exported

405
00:22:03,460 --> 00:22:11,170
exportable and any application could

406
00:22:06,030 --> 00:22:16,420
trigger it and show the user the screen

407
00:22:11,170 --> 00:22:19,810
with its balance also allowed for the

408
00:22:16,420 --> 00:22:26,050
string parameters to be sent

409
00:22:19,810 --> 00:22:27,820
like from whom to whom how much so an

410
00:22:26,050 --> 00:22:31,419
external application installed on this

411
00:22:27,820 --> 00:22:38,439
device could launch this screen filling

412
00:22:31,420 --> 00:22:42,050
the data they needed do anything

413
00:22:38,440 --> 00:22:44,630
but if we're on this trick on 10,000

414
00:22:42,050 --> 00:22:49,180
devices significant portion of this

415
00:22:44,630 --> 00:22:52,430
users will press the big red button send

416
00:22:49,180 --> 00:22:54,730
it will have a small cancel button on

417
00:22:52,430 --> 00:22:56,630
the left and the same tip will have a

418
00:22:54,730 --> 00:23:05,350
big red cent

419
00:22:56,630 --> 00:23:05,350
so it's social engineering feat it was

420
00:23:05,590 --> 00:23:16,459
and there's a lot of other examples of

421
00:23:08,270 --> 00:23:25,550
activities launching other actions next

422
00:23:16,460 --> 00:23:27,680
time we can drop some intense into the

423
00:23:25,550 --> 00:23:31,550
system but also there are intense that

424
00:23:27,680 --> 00:23:34,490
are responsible for sending the intends

425
00:23:31,550 --> 00:23:38,090
to broadcast receivers so when we would

426
00:23:34,490 --> 00:23:41,770
like to run this intent so that all

427
00:23:38,090 --> 00:23:46,189
broadcast receivers get this information

428
00:23:41,770 --> 00:23:49,490
we need to run broadcast intent in

429
00:23:46,190 --> 00:23:51,590
Android system every application that is

430
00:23:49,490 --> 00:23:56,320
subscribed to this broadcast intent will

431
00:23:51,590 --> 00:23:59,120
receive this information and here

432
00:23:56,320 --> 00:24:02,060
example from insecure bank we - we have

433
00:23:59,120 --> 00:24:04,270
a receiver and broadcast receiver which

434
00:24:02,060 --> 00:24:09,320
is subscribed to the in broadcast event

435
00:24:04,270 --> 00:24:11,389
its exported so it can get some data and

436
00:24:09,320 --> 00:24:13,850
the application will send can send it to

437
00:24:11,390 --> 00:24:16,160
its way send data and there is intent

438
00:24:13,850 --> 00:24:19,040
filter which expects that with this

439
00:24:16,160 --> 00:24:22,730
section the broadcast receiver will

440
00:24:19,040 --> 00:24:27,020
receive it and run some actions on the

441
00:24:22,730 --> 00:24:29,600
right there is a code for application

442
00:24:27,020 --> 00:24:33,950
sending the phone number and the

443
00:24:29,600 --> 00:24:36,290
password to send the user the updated

444
00:24:33,950 --> 00:24:43,130
password information so the application

445
00:24:36,290 --> 00:24:47,200
works updating using broadcast receiver

446
00:24:43,130 --> 00:24:47,200
so how do you run this sniffing attack

447
00:24:47,450 --> 00:24:53,820
it's a great video here the only issues

448
00:24:50,369 --> 00:25:00,119
they need to run it so here I login into

449
00:24:53,820 --> 00:25:03,330
the application enter some data launch

450
00:25:00,119 --> 00:25:08,249
the browser and emulate live for an

451
00:25:03,330 --> 00:25:15,059
application run sniffing module specify

452
00:25:08,249 --> 00:25:18,769
the action I would like to listen to now

453
00:25:15,059 --> 00:25:24,599
I need to launch the password change

454
00:25:18,769 --> 00:25:27,749
activity that changes it I press change

455
00:25:24,599 --> 00:25:33,299
posture and everyone who is subscribed

456
00:25:27,749 --> 00:25:36,989
to this event gets this data well it's

457
00:25:33,299 --> 00:25:40,950
not a very serious example I don't think

458
00:25:36,989 --> 00:25:44,009
everyone changes their passwords through

459
00:25:40,950 --> 00:25:46,559
broadcast but there are in the wild

460
00:25:44,009 --> 00:25:55,619
Gamble's of Showtime's for example when

461
00:25:46,559 --> 00:26:00,269
you use the search the intent to update

462
00:25:55,619 --> 00:26:02,070
the show times applications was

463
00:26:00,269 --> 00:26:05,340
published so you could listen to all of

464
00:26:02,070 --> 00:26:09,080
them and other applications could listen

465
00:26:05,340 --> 00:26:14,759
to what films you are looking for heads

466
00:26:09,080 --> 00:26:16,228
conversion unfortunately even though

467
00:26:14,759 --> 00:26:21,059
those attacks are popular and

468
00:26:16,229 --> 00:26:24,509
interesting there's not many good

469
00:26:21,059 --> 00:26:26,489
examples of those and yeah my next step

470
00:26:24,509 --> 00:26:30,330
would be to maybe create some good

471
00:26:26,489 --> 00:26:33,840
examples but I'm too lazy to to make it

472
00:26:30,330 --> 00:26:37,949
happen anyways worth trying next type of

473
00:26:33,840 --> 00:26:43,109
attacks its intent injection attack we

474
00:26:37,950 --> 00:26:46,059
saw a little bit earlier it's related to

475
00:26:43,109 --> 00:26:48,609
call some

476
00:26:46,059 --> 00:26:53,369
some intent that the applications are

477
00:26:48,609 --> 00:26:57,249
subscribed to so you can generate intent

478
00:26:53,369 --> 00:26:59,738
or choose intense that you can address

479
00:26:57,249 --> 00:27:01,299
from the other applications so here's

480
00:26:59,739 --> 00:27:08,019
the same broad because that we saw

481
00:27:01,299 --> 00:27:10,450
earlier we saw how the application works

482
00:27:08,019 --> 00:27:15,190
with it you know we can make the

483
00:27:10,450 --> 00:27:18,009
application run those actions by

484
00:27:15,190 --> 00:27:22,859
dropping our own intent to change

485
00:27:18,009 --> 00:27:25,839
passwords so to the left you see an

486
00:27:22,859 --> 00:27:32,678
injection and to the right you see a

487
00:27:25,839 --> 00:27:38,830
cold simplified code that runs when you

488
00:27:32,679 --> 00:27:41,109
receive an intent to run this you need

489
00:27:38,830 --> 00:27:47,589
to send a phone number string attribute

490
00:27:41,109 --> 00:27:51,389
and any of us what do you send it it

491
00:27:47,589 --> 00:27:56,349
checks that the phone was sent and then

492
00:27:51,389 --> 00:27:59,949
the password has changed and so let me

493
00:27:56,349 --> 00:28:03,609
show how it's run live example we have

494
00:27:59,950 --> 00:28:07,929
an application I log in I just check

495
00:28:03,609 --> 00:28:14,699
that my password works to the right is a

496
00:28:07,929 --> 00:28:20,830
console let me check if the state is

497
00:28:14,700 --> 00:28:26,259
running I describe the intent here and I

498
00:28:20,830 --> 00:28:30,389
choose change the password and had to

499
00:28:26,259 --> 00:28:30,389
strength parameters run it

500
00:28:32,000 --> 00:28:40,350
and now I see the information received

501
00:28:35,899 --> 00:28:43,049
about the posture changed so I see it as

502
00:28:40,350 --> 00:28:45,510
a message here that launched the

503
00:28:43,049 --> 00:28:53,279
broadcast receiver and changed the

504
00:28:45,510 --> 00:28:57,210
password from of Antonio all those types

505
00:28:53,279 --> 00:28:59,460
of attacks they are quite vivid and you

506
00:28:57,210 --> 00:29:02,639
see that the applications interoperate

507
00:28:59,460 --> 00:29:06,350
and can attack and Android has a lot of

508
00:29:02,639 --> 00:29:11,039
examples of inter inter process

509
00:29:06,350 --> 00:29:15,320
collaboration interoperability and the

510
00:29:11,039 --> 00:29:15,320
way Android does not have any of those

511
00:29:16,309 --> 00:29:23,428
you can also exchange data between

512
00:29:18,600 --> 00:29:26,969
applications a good review of yeah

513
00:29:23,429 --> 00:29:32,610
that's my bail application team has just

514
00:29:26,970 --> 00:29:35,970
provided on their conferences same with

515
00:29:32,610 --> 00:29:38,610
vulnerability is the Droid advantage of

516
00:29:35,970 --> 00:29:43,169
when you protect the external perimeter

517
00:29:38,610 --> 00:29:45,570
not in pic Android fan guru but I'm just

518
00:29:43,169 --> 00:29:48,750
interested in this topic and I'm really

519
00:29:45,570 --> 00:29:51,480
more doing web application protection

520
00:29:48,750 --> 00:29:55,889
and the reason why I went into Android

521
00:29:51,480 --> 00:29:59,490
is because pretty much every service has

522
00:29:55,889 --> 00:30:02,939
no client which client which looks the

523
00:29:59,490 --> 00:30:06,029
same as a web application and developers

524
00:30:02,940 --> 00:30:09,029
are well adapted to web vulnerabilities

525
00:30:06,029 --> 00:30:15,630
they have checks for everything but not

526
00:30:09,029 --> 00:30:18,570
for Android Android had a slogan was

527
00:30:15,630 --> 00:30:22,350
security through alpha station so

528
00:30:18,570 --> 00:30:25,678
Android developers think that it's hard

529
00:30:22,350 --> 00:30:28,500
to reverse engineer Android systems you

530
00:30:25,679 --> 00:30:31,470
can even alpha skate it further and they

531
00:30:28,500 --> 00:30:35,450
built the security based on this and

532
00:30:31,470 --> 00:30:37,860
every time I run some infrastructure

533
00:30:35,450 --> 00:30:47,539
protection I

534
00:30:37,860 --> 00:30:51,990
actually look for an application and we

535
00:30:47,539 --> 00:30:53,879
and this index give quite a big profit I

536
00:30:51,990 --> 00:30:56,070
was studying several projects and I

537
00:30:53,880 --> 00:30:58,950
found some things which are crazy if you

538
00:30:56,070 --> 00:31:01,799
go to your regular web you can see like

539
00:30:58,950 --> 00:31:03,480
okay if you cannot you know it's really

540
00:31:01,799 --> 00:31:07,500
complicated cannot do anything but in it

541
00:31:03,480 --> 00:31:09,570
in Android there like send your your

542
00:31:07,500 --> 00:31:12,960
data choose one with the data fine so if

543
00:31:09,570 --> 00:31:15,000
it says admin falls you know like the

544
00:31:12,960 --> 00:31:16,799
written in the app in story that this

545
00:31:15,000 --> 00:31:19,230
JSON is flying off with all that your

546
00:31:16,799 --> 00:31:20,700
attributes including their attributes

547
00:31:19,230 --> 00:31:22,799
whether you're an admin or not and

548
00:31:20,700 --> 00:31:25,590
you're like okay admin true okay your

549
00:31:22,799 --> 00:31:27,539
admin so things like that are plentiful

550
00:31:25,590 --> 00:31:29,610
was so it's very interesting

551
00:31:27,539 --> 00:31:31,860
I've left on the screen materials that

552
00:31:29,610 --> 00:31:34,260
you can dig into to really dig deep in

553
00:31:31,860 --> 00:31:36,899
this color inter-process say interaction

554
00:31:34,260 --> 00:31:39,929
in Android activity intense you can read

555
00:31:36,899 --> 00:31:43,908
a more of how it's working why and all

556
00:31:39,929 --> 00:31:48,000
that number three is how to test it and

557
00:31:43,909 --> 00:31:49,139
I think this is the only one not even

558
00:31:48,000 --> 00:31:51,000
the only one there are different

559
00:31:49,139 --> 00:31:52,949
materials for testing but it least is

560
00:31:51,000 --> 00:31:54,929
one of the biggest one of the most solid

561
00:31:52,950 --> 00:31:57,179
it's getting old but it's being updated

562
00:31:54,929 --> 00:31:59,100
all the time in number four would be the

563
00:31:57,179 --> 00:32:02,940
description of all these vulnerabilities

564
00:31:59,100 --> 00:32:04,168
and attacks and tax on a project there

565
00:32:02,940 --> 00:32:06,630
is a good description of what kind of

566
00:32:04,169 --> 00:32:09,630
vulnerability it is and how you can get

567
00:32:06,630 --> 00:32:13,289
a login and that's it thank you for your

568
00:32:09,630 --> 00:32:16,679
attention my time is 30 minutes I

569
00:32:13,289 --> 00:32:19,799
believe so basically that's it for me

570
00:32:16,679 --> 00:32:21,289
I'm almost done if you have any

571
00:32:19,799 --> 00:32:23,879
questions I'll be very happy to answer

572
00:32:21,289 --> 00:32:25,379
I'm all be happy to communicate with you

573
00:32:23,880 --> 00:32:27,330
and to share whatever you'll find

574
00:32:25,380 --> 00:32:29,039
interesting on the sidelines of this

575
00:32:27,330 --> 00:32:31,850
conference thank you for staying with me

576
00:32:29,039 --> 00:32:31,850
and listening

577
00:32:32,480 --> 00:32:34,540
you

