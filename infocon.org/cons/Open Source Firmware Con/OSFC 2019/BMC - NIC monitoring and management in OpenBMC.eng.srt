1
00:00:03,190 --> 00:00:06,259
[Music]

2
00:00:08,000 --> 00:00:10,800
our next speaker for today is Ben wait

3
00:00:10,800 --> 00:00:13,049
he's a software engineer from Facebook

4
00:00:13,049 --> 00:00:15,719
and he'll be talking about how to manage

5
00:00:15,719 --> 00:00:18,810
and monitor Nixon open BMC all right

6
00:00:18,810 --> 00:00:23,130
thank you all right so I'm Ben I've been

7
00:00:23,130 --> 00:00:25,890
watching open BMC for a last two and a

8
00:00:25,890 --> 00:00:28,650
half years and I spent some time working

9
00:00:28,650 --> 00:00:32,369
with Nick so I think so here I'll try to

10
00:00:32,369 --> 00:00:34,380
share some of the motivations why we are

11
00:00:34,380 --> 00:00:36,600
doing it and what are we doing to

12
00:00:36,600 --> 00:00:38,610
monetary management niche and actually

13
00:00:38,610 --> 00:00:40,050
one of my main purpose it's only get

14
00:00:40,050 --> 00:00:42,030
some feedback for everyone to see is

15
00:00:42,030 --> 00:00:45,480
this useful for from BMC and as any

16
00:00:45,480 --> 00:00:46,710
feedback and ideas that we can

17
00:00:46,710 --> 00:00:53,640
collaborate on okay okay so so number

18
00:00:53,640 --> 00:00:55,469
one is so what's the what's the problem

19
00:00:55,469 --> 00:00:56,309
we're trying to solve what's the

20
00:00:56,309 --> 00:00:59,489
motivation so what we know this is

21
00:00:59,489 --> 00:01:01,469
minute being a single point of failure

22
00:01:01,469 --> 00:01:04,409
in our platform so typically o our

23
00:01:04,409 --> 00:01:07,470
remediation goes through network so when

24
00:01:07,470 --> 00:01:10,439
a myth is down essentially usually we

25
00:01:10,439 --> 00:01:12,720
have to send somebody out to the data

26
00:01:12,720 --> 00:01:15,930
center to the system to power cycle so

27
00:01:15,930 --> 00:01:17,790
this doesn't work so well when you have

28
00:01:17,790 --> 00:01:20,610
like millions of emc deployed so number

29
00:01:20,610 --> 00:01:24,360
one is really can can be and see how to

30
00:01:24,360 --> 00:01:26,850
detect this issue and auto remediate as

31
00:01:26,850 --> 00:01:29,479
much as possible so that's number one

32
00:01:29,479 --> 00:01:32,670
and also the that certainly is the BMC

33
00:01:32,670 --> 00:01:35,670
availability so at least in our feet we

34
00:01:35,670 --> 00:01:38,310
rely on a BMC to manage and monitor our

35
00:01:38,310 --> 00:01:41,100
fleet health so let's say even if the

36
00:01:41,100 --> 00:01:42,659
hosts know what is up

37
00:01:42,659 --> 00:01:45,810
but for BMC link is down essentially

38
00:01:45,810 --> 00:01:47,490
we're blind because we lose the

39
00:01:47,490 --> 00:01:49,710
telemetry we lost the sensor data and we

40
00:01:49,710 --> 00:01:53,090
don't have any of the oops service so

41
00:01:53,090 --> 00:01:55,320
with a water on this so let's say

42
00:01:55,320 --> 00:01:58,320
perhaps if the host link is up then

43
00:01:58,320 --> 00:01:59,969
maybe there's some way for the host to

44
00:01:59,969 --> 00:02:02,729
reset the BMC so that's possible yes if

45
00:02:02,729 --> 00:02:05,399
you have some magic I alternated but

46
00:02:05,399 --> 00:02:09,899
that's not ideal because one we lose

47
00:02:09,899 --> 00:02:11,640
that is some grace for BMC shutdown

48
00:02:11,640 --> 00:02:13,770
right so that's not good

49
00:02:13,770 --> 00:02:16,920
and to what rpms is working on in a

50
00:02:16,920 --> 00:02:18,930
whatever large the BMC has in a REM

51
00:02:18,930 --> 00:02:21,270
drive when you force the BMC reboot you

52
00:02:21,270 --> 00:02:23,760
lose all the of that and another issue

53
00:02:23,760 --> 00:02:25,830
we see a lot is it's so enough.we let's

54
00:02:25,830 --> 00:02:28,110
say you have a million two million BMC's

55
00:02:28,110 --> 00:02:30,600
okay and then you have maybe a hundred

56
00:02:30,600 --> 00:02:34,080
couple hundred B MCC unreachable so if

57
00:02:34,080 --> 00:02:36,540
we always send someone out to power

58
00:02:36,540 --> 00:02:38,130
cycle it so number one it's not feasible

59
00:02:38,130 --> 00:02:40,650
it's expensive and two how would you

60
00:02:40,650 --> 00:02:43,200
know if this is a BMC issue or it is if

61
00:02:43,200 --> 00:02:47,100
there's a need from where but and so for

62
00:02:47,100 --> 00:02:48,210
a long time we thought okay we have

63
00:02:48,210 --> 00:02:50,100
britain BMC's because out of this two

64
00:02:50,100 --> 00:02:51,570
million BMC is we have like a few

65
00:02:51,570 --> 00:02:53,340
hundred unavailable it needs to be

66
00:02:53,340 --> 00:02:56,040
recovered through power cycle and we

67
00:02:56,040 --> 00:02:57,660
trying to find some BMC but but is that

68
00:02:57,660 --> 00:03:00,120
really BMC issue or is this link Nate

69
00:03:00,120 --> 00:03:02,490
pinned down right so there's no it was

70
00:03:02,490 --> 00:03:04,410
tail and then we won't be able to be

71
00:03:04,410 --> 00:03:06,240
produced this in our lab either just a

72
00:03:06,240 --> 00:03:08,190
few hundred out of two million that's a

73
00:03:08,190 --> 00:03:10,320
very small percentage so now to

74
00:03:10,320 --> 00:03:13,050
participa so in this case if BMC is

75
00:03:13,050 --> 00:03:16,200
functional can BMC lottery event and do

76
00:03:16,200 --> 00:03:18,420
self recovery first what detective

77
00:03:18,420 --> 00:03:21,240
inches down and then do self recovery so

78
00:03:21,240 --> 00:03:23,340
that later when we want to debug we have

79
00:03:23,340 --> 00:03:25,440
some data point to go out so there's our

80
00:03:25,440 --> 00:03:29,760
second motivation and a three is so

81
00:03:29,760 --> 00:03:32,550
let's say now I'll be MCC reliable the

82
00:03:32,550 --> 00:03:34,830
BMC is always on a network even if the

83
00:03:34,830 --> 00:03:37,760
net Woodstown BMC has a way to recover

84
00:03:37,760 --> 00:03:40,680
so the next step is can we do even

85
00:03:40,680 --> 00:03:41,220
better

86
00:03:41,220 --> 00:03:44,370
can we proactively monitor the niche

87
00:03:44,370 --> 00:03:46,830
lint status on a host so it's not just a

88
00:03:46,830 --> 00:03:49,110
BMC now so not be MCC very reliable can

89
00:03:49,110 --> 00:03:52,740
we detect host issues and also can we

90
00:03:52,740 --> 00:03:57,000
detect the NIT issues before it crashes

91
00:03:57,000 --> 00:03:59,640
so let's say if we we have problematic

92
00:03:59,640 --> 00:04:01,860
symptom within detach can we treat her

93
00:04:01,860 --> 00:04:03,390
with this remediation or can we race

94
00:04:03,390 --> 00:04:05,430
along or can we thread all this data and

95
00:04:05,430 --> 00:04:07,530
monetary on dashboard so this will help

96
00:04:07,530 --> 00:04:10,709
our service robustness so that's our so

97
00:04:10,709 --> 00:04:14,180
that's another improvement from BMC link

98
00:04:14,180 --> 00:04:16,200
so these are what are our main

99
00:04:16,200 --> 00:04:17,970
motivations are right and then what are

100
00:04:17,970 --> 00:04:20,339
we doing in open BMC to to achieve all

101
00:04:20,339 --> 00:04:26,760
this okay so from BMC side which

102
00:04:26,760 --> 00:04:29,880
to knit through this in CSI this in CSI

103
00:04:29,880 --> 00:04:33,300
interface so the platform that I'm

104
00:04:33,300 --> 00:04:35,100
familiar with is this is basically in

105
00:04:35,100 --> 00:04:36,270
CSI over isn't it

106
00:04:36,270 --> 00:04:37,920
so this is stipend interface to a

107
00:04:37,920 --> 00:04:41,850
controller where a BMC $0.10 can

108
00:04:41,850 --> 00:04:45,960
configure niche and her monitor and send

109
00:04:45,960 --> 00:04:47,850
a management comments to a niche so you

110
00:04:47,850 --> 00:04:50,040
can also want a CSI mm CTP that's

111
00:04:50,040 --> 00:04:52,230
another option and I think I'm OCP niche

112
00:04:52,230 --> 00:04:54,420
typically you have two paths to a BMC

113
00:04:54,420 --> 00:04:57,150
once in CSI wins MCTV but here I'll just

114
00:04:57,150 --> 00:05:01,050
focus on and CSI over the over an eye

115
00:05:01,050 --> 00:05:06,060
over a VT so under so a could intramural

116
00:05:06,060 --> 00:05:06,660
CSI

117
00:05:06,660 --> 00:05:09,930
so the so there's the data plane traffic

118
00:05:09,930 --> 00:05:11,820
so that's just pass through that's like

119
00:05:11,820 --> 00:05:14,010
your normal internet traffic that's not

120
00:05:14,010 --> 00:05:17,160
very interesting to the BMC but the

121
00:05:17,160 --> 00:05:18,720
townfolk line traffic there are three

122
00:05:18,720 --> 00:05:21,540
types so there are comments response and

123
00:05:21,540 --> 00:05:24,390
this asynchronous event notification or

124
00:05:24,390 --> 00:05:29,190
the AE ends so notice on the in CSI the

125
00:05:29,190 --> 00:05:31,610
comments are always initiated from BMC

126
00:05:31,610 --> 00:05:34,740
so there's no way for the niche to send

127
00:05:34,740 --> 00:05:36,780
any comment you BMC so it's always beams

128
00:05:36,780 --> 00:05:39,060
initiates initiates the traffic sends

129
00:05:39,060 --> 00:05:40,350
comment and MIT respond

130
00:05:40,350 --> 00:05:44,160
so if Nate wants to initiate any sense

131
00:05:44,160 --> 00:05:46,260
at the interlocks BMC or notification it

132
00:05:46,260 --> 00:05:48,840
stands through a en so AE ends that is a

133
00:05:48,840 --> 00:05:50,400
subpoenas packet is essentially that

134
00:05:50,400 --> 00:05:53,220
interrupts so it's event to BMC like in

135
00:05:53,220 --> 00:05:56,910
BMC know some Lynch status change or

136
00:05:56,910 --> 00:05:59,880
some other neat events and then for the

137
00:05:59,880 --> 00:06:01,920
a ends one thing about them is there's

138
00:06:01,920 --> 00:06:04,530
no acknowledgment so it's a

139
00:06:04,530 --> 00:06:05,430
fire-and-forget

140
00:06:05,430 --> 00:06:07,650
so when it sends a en it doesn't know if

141
00:06:07,650 --> 00:06:10,380
BMC received or not so there's no packet

142
00:06:10,380 --> 00:06:16,290
back to the net okay so what is a NCSI

143
00:06:16,290 --> 00:06:18,570
packet look like so this is a CSI open

144
00:06:18,570 --> 00:06:19,050
isn't it

145
00:06:19,050 --> 00:06:21,710
so you have normal is a net frame

146
00:06:21,710 --> 00:06:25,110
there's a special easier type to specify

147
00:06:25,110 --> 00:06:27,750
this as an CSI control traffic so then a

148
00:06:27,750 --> 00:06:30,210
CSI packet is encapsulated in Ethernet

149
00:06:30,210 --> 00:06:33,480
frame and then it's some technical

150
00:06:33,480 --> 00:06:36,120
details so on the NCIC packet you have

151
00:06:36,120 --> 00:06:37,740
sixteen byte header and you have the

152
00:06:37,740 --> 00:06:40,500
four byte church song

153
00:06:40,500 --> 00:06:42,930
minimum size is 46 so if your payload is

154
00:06:42,930 --> 00:06:45,240
very small which is actually true today

155
00:06:45,240 --> 00:06:47,340
for odor in CSS tender comments the

156
00:06:47,340 --> 00:06:49,560
normal standard in CSI comments has

157
00:06:49,560 --> 00:06:52,890
payload either 0 or 8 but no more than

158
00:06:52,890 --> 00:06:56,490
no more than 26 so typically the pillows

159
00:06:56,490 --> 00:07:00,180
are small for standard comments and shed

160
00:07:00,180 --> 00:07:03,150
some is before byte aligned and then but

161
00:07:03,150 --> 00:07:05,250
why you can do also the the in CSS

162
00:07:05,250 --> 00:07:07,470
standard also provides a way to tunnel

163
00:07:07,470 --> 00:07:10,650
traffic through in CSI so we can Ashley

164
00:07:10,650 --> 00:07:13,080
for example wouldn't carry Tod M traffic

165
00:07:13,080 --> 00:07:15,570
through in CSI so that's very useful for

166
00:07:15,570 --> 00:07:17,940
BMC and you can probably carry some

167
00:07:17,940 --> 00:07:19,410
other traffic through in CSI if you

168
00:07:19,410 --> 00:07:22,260
define om comments but I'm a standard is

169
00:07:22,260 --> 00:07:25,380
basically in CSI control packets or Tod

170
00:07:25,380 --> 00:07:27,990
I'm over in CSI and if you Tara P or DM

171
00:07:27,990 --> 00:07:30,360
traffic then the pillow can be large so

172
00:07:30,360 --> 00:07:33,270
then you're gonna reach this 1500 byte

173
00:07:33,270 --> 00:07:36,380
maximum packet size

174
00:07:37,100 --> 00:07:40,020
okay so then I think earlier as in d-pod

175
00:07:40,020 --> 00:07:42,360
touch briefly on the on appeal TM right

176
00:07:42,360 --> 00:07:44,190
so here's a comprehensive presentation

177
00:07:44,190 --> 00:07:47,160
filled en so here our touch briefly at

178
00:07:47,160 --> 00:07:50,580
the end and what p odium can do for from

179
00:07:50,580 --> 00:07:53,580
BMC and what we can do to manage knit so

180
00:07:53,580 --> 00:07:56,520
i think through since that's a important

181
00:07:56,520 --> 00:07:58,560
for net management so one p odium a she

182
00:07:58,560 --> 00:08:00,660
allows a way for BMC to discover

183
00:08:00,660 --> 00:08:04,050
additional sensors if the knit firmware

184
00:08:04,050 --> 00:08:05,490
supports it so let's say if knit from

185
00:08:05,490 --> 00:08:08,250
where supports p odium over in CSI

186
00:08:08,250 --> 00:08:12,300
then it's kind of like a PMI SDR so

187
00:08:12,300 --> 00:08:14,880
PM s-- international quarry was sensors

188
00:08:14,880 --> 00:08:17,130
available and dead o descent so not just

189
00:08:17,130 --> 00:08:18,810
on in numeric sensors so new merged

190
00:08:18,810 --> 00:08:20,910
sensors will be like temperature sensors

191
00:08:20,910 --> 00:08:22,979
limb speed but there are also state

192
00:08:22,979 --> 00:08:25,590
sensors like mid health status so this

193
00:08:25,590 --> 00:08:28,650
is all available sucio DM and another

194
00:08:28,650 --> 00:08:31,169
important thing is a PR DM provides a

195
00:08:31,169 --> 00:08:34,229
standard way to do a firmware update so

196
00:08:34,229 --> 00:08:36,599
i think if we want to do a depend from

197
00:08:36,599 --> 00:08:37,530
where updated for knit

198
00:08:37,530 --> 00:08:38,849
so wouldn't do in been no problems

199
00:08:38,849 --> 00:08:41,940
through a PCI PCI Lind no problem but if

200
00:08:41,940 --> 00:08:43,440
you want to do auto-paint from where

201
00:08:43,440 --> 00:08:45,780
update then the P Odeon provides a

202
00:08:45,780 --> 00:08:49,740
standard way was to do it so we can thin

203
00:08:49,740 --> 00:08:51,959
your form so for pure diem I mean for

204
00:08:51,959 --> 00:08:54,420
Tod I'm over in CSI

205
00:08:54,420 --> 00:08:56,460
with instinct of the visceral layer will

206
00:08:56,460 --> 00:09:00,210
be I rmii the the fiscal connection then

207
00:09:00,210 --> 00:09:02,610
on top you have a BT Ethernet face

208
00:09:02,610 --> 00:09:04,260
Ettore so you have Ethernet running and

209
00:09:04,260 --> 00:09:07,080
then on top you would have NCSI running

210
00:09:07,080 --> 00:09:09,780
on Internet the pass through traffic

211
00:09:09,780 --> 00:09:11,670
we don't hear so much about but then

212
00:09:11,670 --> 00:09:14,160
there's the control packets and then on

213
00:09:14,160 --> 00:09:18,210
top your PID on base which specify the

214
00:09:18,210 --> 00:09:20,730
PID I'm over in CSI binding so it tells

215
00:09:20,730 --> 00:09:22,590
you how we can encapsulate peel the

216
00:09:22,590 --> 00:09:25,140
Intrepid within an CSI and then once you

217
00:09:25,140 --> 00:09:26,910
have that implemented then on top you

218
00:09:26,910 --> 00:09:30,150
have different P or diem types so then

219
00:09:30,150 --> 00:09:32,010
there's the monitor and control which

220
00:09:32,010 --> 00:09:33,770
allow us to get the sensory information

221
00:09:33,770 --> 00:09:37,080
there's a Tod F of flu you can read a

222
00:09:37,080 --> 00:09:39,780
serial and EEPROM on a nib or we can do

223
00:09:39,780 --> 00:09:41,700
the firmware update so this is sort of

224
00:09:41,700 --> 00:09:44,520
like the stat for the management at for

225
00:09:44,520 --> 00:09:50,640
a niche ok ok so inside control packets

226
00:09:50,640 --> 00:09:53,100
so earlier I mentioned what the what NCS

227
00:09:53,100 --> 00:09:54,990
actually looks like so right now this is

228
00:09:54,990 --> 00:09:57,390
the list of all the NCS air comments we

229
00:09:57,390 --> 00:10:02,280
have in the 1.1 standard so I try to

230
00:10:02,280 --> 00:10:05,370
group them into several types so we have

231
00:10:05,370 --> 00:10:07,170
the standard configuration 1 so these

232
00:10:07,170 --> 00:10:09,510
are like what we used to initialize then

233
00:10:09,510 --> 00:10:12,000
the network heart on boot up

234
00:10:12,000 --> 00:10:16,070
so enable channel enable select package

235
00:10:16,070 --> 00:10:18,750
enabled what has filtered so those up

236
00:10:18,750 --> 00:10:21,210
probably you only do it once and put up

237
00:10:21,210 --> 00:10:22,560
and you don't unless you want to

238
00:10:22,560 --> 00:10:24,240
reconfigure you probably all have to do

239
00:10:24,240 --> 00:10:25,980
with them again but then there are some

240
00:10:25,980 --> 00:10:27,300
other comments that's useful for

241
00:10:27,300 --> 00:10:29,550
monitoring so dead version ID tell us

242
00:10:29,550 --> 00:10:31,850
the firmware that's running on SCSI

243
00:10:31,850 --> 00:10:33,570
capabilities and parameters are

244
00:10:33,570 --> 00:10:36,030
important because they tells you what's

245
00:10:36,030 --> 00:10:37,350
the current computer it so

246
00:10:37,350 --> 00:10:38,880
capabilities to tell you what the NIT is

247
00:10:38,880 --> 00:10:41,220
capable of what feature is supports the

248
00:10:41,220 --> 00:10:42,690
parameters tells you how it's currently

249
00:10:42,690 --> 00:10:45,810
configured you can change this and then

250
00:10:45,810 --> 00:10:48,180
also there are some comments that allow

251
00:10:48,180 --> 00:10:53,550
you to carry p OD m over in CSI and ok

252
00:10:53,550 --> 00:10:55,140
so wasn't about the p odium over NCS

253
00:10:55,140 --> 00:10:57,810
eyes so earlier I mentioned the NCS I

254
00:10:57,810 --> 00:11:01,440
comments I always initiated from BMC to

255
00:11:01,440 --> 00:11:04,410
device for Pio diem is actually two ways

256
00:11:04,410 --> 00:11:07,500
so p OD m post device or maybe MC k

257
00:11:07,500 --> 00:11:08,220
initiate

258
00:11:08,220 --> 00:11:11,740
so when you want PID amount on mctv this

259
00:11:11,740 --> 00:11:13,240
is no problem because mcitp allows

260
00:11:13,240 --> 00:11:16,240
two-way communication for in CSI of to

261
00:11:16,240 --> 00:11:18,370
make this work we actually have double

262
00:11:18,370 --> 00:11:20,860
comments added to the in CSI to allow

263
00:11:20,860 --> 00:11:23,589
emc the poll pending comments so it's

264
00:11:23,589 --> 00:11:25,839
not ideal but so essentially to allowed

265
00:11:25,839 --> 00:11:28,389
need to send him into BMC BMC has to

266
00:11:28,389 --> 00:11:30,399
initiate polling so it quarries

267
00:11:30,399 --> 00:11:32,649
depending P of the endowments death the

268
00:11:32,649 --> 00:11:34,750
comment handles it and then sends a

269
00:11:34,750 --> 00:11:38,230
response bed be on CSI so that's how we

270
00:11:38,230 --> 00:11:40,769
can run P or diem traffic on in CSI and

271
00:11:40,769 --> 00:11:43,959
then since the so besides the standard

272
00:11:43,959 --> 00:11:46,269
comments there's also usually different

273
00:11:46,269 --> 00:11:48,279
net vendors have their own set of

274
00:11:48,279 --> 00:11:50,589
extensions the OEM comments so this

275
00:11:50,589 --> 00:11:52,360
oriental meant actually a few additional

276
00:11:52,360 --> 00:11:54,880
capabilities in monetary so here I don't

277
00:11:54,880 --> 00:11:57,610
list I mean every vendor has their own

278
00:11:57,610 --> 00:12:00,880
implementation but typically they would

279
00:12:00,880 --> 00:12:03,070
have some sort of discovery comments to

280
00:12:03,070 --> 00:12:05,589
say to allow you to find out what

281
00:12:05,589 --> 00:12:07,690
features they support what additional

282
00:12:07,690 --> 00:12:10,000
Orion comments I support and they may

283
00:12:10,000 --> 00:12:12,310
have additional omae ends and then you

284
00:12:12,310 --> 00:12:14,589
may be able to knit reset which is not

285
00:12:14,589 --> 00:12:16,029
possible in a standard comments you

286
00:12:16,029 --> 00:12:18,910
cannot reset the niche and then you have

287
00:12:18,910 --> 00:12:20,740
some audience specific comment to for

288
00:12:20,740 --> 00:12:23,680
management and monitoring and these are

289
00:12:23,680 --> 00:12:25,209
the standard aliens so the aliens

290
00:12:25,209 --> 00:12:28,810
there's a a Pio DM aen this new that

291
00:12:28,810 --> 00:12:30,399
allows PMC to find out if there's

292
00:12:30,399 --> 00:12:33,670
pending Pio DM comments and om can

293
00:12:33,670 --> 00:12:36,070
define their own a en so for example and

294
00:12:36,070 --> 00:12:38,560
made you feel a thermo event a en so

295
00:12:38,560 --> 00:12:40,149
rather than BMC pull the temperature

296
00:12:40,149 --> 00:12:42,250
sensor you may be able to set some

297
00:12:42,250 --> 00:12:44,890
threshold via om comment and you get

298
00:12:44,890 --> 00:12:46,630
notification if the niche is approaching

299
00:12:46,630 --> 00:12:48,490
this threshold so that's very useful in

300
00:12:48,490 --> 00:12:54,069
our monitoring okay so what do we have

301
00:12:54,069 --> 00:12:56,230
today in open BMC as far as net

302
00:12:56,230 --> 00:13:01,060
management so first colonel so on the

303
00:13:01,060 --> 00:13:03,310
colonel site okay by default turn off

304
00:13:03,310 --> 00:13:05,589
fight our edge we always initialize the

305
00:13:05,589 --> 00:13:08,410
NCS I device on boot so that's that's

306
00:13:08,410 --> 00:13:10,769
been upstream in eternal and

307
00:13:10,769 --> 00:13:13,089
additionally I think we if I have

308
00:13:13,089 --> 00:13:16,180
upstream the few patches to to get the

309
00:13:16,180 --> 00:13:18,190
system back address so I send that one

310
00:13:18,190 --> 00:13:20,350
we force with that we need to use all

311
00:13:20,350 --> 00:13:21,820
your comments so force in it

312
00:13:21,820 --> 00:13:24,100
we recognized neat vendors we have a

313
00:13:24,100 --> 00:13:26,040
special oriental men's to retrieve the

314
00:13:26,040 --> 00:13:28,180
MAC address and configure BMC

315
00:13:28,180 --> 00:13:30,520
accordingly and we enable all standard

316
00:13:30,520 --> 00:13:34,090
aliens in current Renault and but more

317
00:13:34,090 --> 00:13:35,770
importantly I think kernel also provides

318
00:13:35,770 --> 00:13:39,910
the nan link capability so you tenacious

319
00:13:39,910 --> 00:13:44,050
send and receive then CSL comments so

320
00:13:44,050 --> 00:13:46,750
user space by using that link so send

321
00:13:46,750 --> 00:13:48,580
any big net in traffic eternal Turner

322
00:13:48,580 --> 00:13:51,160
will send this out and send response

323
00:13:51,160 --> 00:13:53,410
back so this enables all the NIT

324
00:13:53,410 --> 00:13:54,760
management and monitoring from user

325
00:13:54,760 --> 00:13:58,390
space and you can and one more thing is

326
00:13:58,390 --> 00:14:02,290
this podcast aen / user space so this

327
00:14:02,290 --> 00:14:06,100
one yeah we need to I think there's some

328
00:14:06,100 --> 00:14:08,500
patch that's not up to me yet which

329
00:14:08,500 --> 00:14:11,500
brought has da and user space but it's

330
00:14:11,500 --> 00:14:13,900
not in the current kernel today so

331
00:14:13,900 --> 00:14:15,910
currently I think if kernel driver

332
00:14:15,910 --> 00:14:18,730
received a en issues from wrong to a lot

333
00:14:18,730 --> 00:14:20,350
internally but it doesn't what has to

334
00:14:20,350 --> 00:14:22,450
user space but we have a patch we need

335
00:14:22,450 --> 00:14:24,400
to upstream to enable this so that's

336
00:14:24,400 --> 00:14:27,160
ongoing but let's say you have this

337
00:14:27,160 --> 00:14:29,620
capability in kernel and on a user space

338
00:14:29,620 --> 00:14:32,800
then um on the Facebook your that past

339
00:14:32,800 --> 00:14:35,620
platform what we have is one is a lip in

340
00:14:35,620 --> 00:14:38,290
CSI so this is a common library that

341
00:14:38,290 --> 00:14:41,920
basically encode and the encode in CSS

342
00:14:41,920 --> 00:14:44,260
comments and the occult response

343
00:14:44,260 --> 00:14:47,650
basically is the the is done CSI hand

344
00:14:47,650 --> 00:14:50,110
older so it handles all the standard

345
00:14:50,110 --> 00:14:53,050
instruments and also the OEM ones so on

346
00:14:53,050 --> 00:14:55,510
the ones that we recognize you all did

347
00:14:55,510 --> 00:14:59,370
hold omae N and support OEM comments and

348
00:14:59,370 --> 00:15:02,290
then we have this lip here diem over in

349
00:15:02,290 --> 00:15:05,200
CSI and this is the shared library that

350
00:15:05,200 --> 00:15:07,480
provides a Pio diem over in CSI binding

351
00:15:07,480 --> 00:15:08,980
so essentially this is a Pio diem

352
00:15:08,980 --> 00:15:11,050
handler so it handles estándar popin

353
00:15:11,050 --> 00:15:15,520
comments but it it details the PID and

354
00:15:15,520 --> 00:15:17,530
payload for in CSI and then when he

355
00:15:17,530 --> 00:15:19,570
wants to send response back it hits a

356
00:15:19,570 --> 00:15:21,550
PID uncomment encapsulate the university

357
00:15:21,550 --> 00:15:23,770
NCS I've had it and sent to eternal via

358
00:15:23,770 --> 00:15:26,680
dead link to be sent out so those two

359
00:15:26,680 --> 00:15:27,970
are the common libraries we have on

360
00:15:27,970 --> 00:15:31,630
offer BMC and then we have this NCSI T

361
00:15:31,630 --> 00:15:35,850
so NCS ID is our main monitor demon so

362
00:15:35,850 --> 00:15:38,170
essentially it's a it runs on our

363
00:15:38,170 --> 00:15:41,920
platform and then it does so few since

364
00:15:41,920 --> 00:15:44,860
it does one it have it does additional

365
00:15:44,860 --> 00:15:46,600
need configuration so turnout as the

366
00:15:46,600 --> 00:15:47,650
initial Confederation

367
00:15:47,650 --> 00:15:50,980
but then in SSID we were detached what

368
00:15:50,980 --> 00:15:53,740
net vendor this is and what om comments

369
00:15:53,740 --> 00:15:56,380
is the port and what omae and it

370
00:15:56,380 --> 00:15:58,450
supports and you trust we may enable the

371
00:15:58,450 --> 00:16:00,520
features that we need and also in

372
00:16:00,520 --> 00:16:02,260
monitor lint status amount monitor

373
00:16:02,260 --> 00:16:03,760
salinity temperature and you listen to

374
00:16:03,760 --> 00:16:07,150
listens to any colonel a messages and

375
00:16:07,150 --> 00:16:10,660
I'm any major in it events it will log

376
00:16:10,660 --> 00:16:12,610
and it will either trigger remediation

377
00:16:12,610 --> 00:16:15,460
locally within BMC or you will try to

378
00:16:15,460 --> 00:16:18,040
send a lot out so in this case VMC's is

379
00:16:18,040 --> 00:16:20,529
working with outside service together to

380
00:16:20,529 --> 00:16:23,230
remediate this issue so we may not want

381
00:16:23,230 --> 00:16:25,270
to do all the remediation notably on BMC

382
00:16:25,270 --> 00:16:29,110
site for flexibility reasons right so

383
00:16:29,110 --> 00:16:31,650
let's say if we have overly aggressive

384
00:16:31,650 --> 00:16:35,110
remediation upon BMC then to fix it we

385
00:16:35,110 --> 00:16:37,480
may need to deploy new BMC so what we

386
00:16:37,480 --> 00:16:39,730
can do is just have BMC detect this

387
00:16:39,730 --> 00:16:43,480
event and then send this data outside so

388
00:16:43,480 --> 00:16:45,370
may we have a service when an outside

389
00:16:45,370 --> 00:16:47,230
BMC can collect this data and decide

390
00:16:47,230 --> 00:16:49,930
what's the best way to remediate oh and

391
00:16:49,930 --> 00:16:52,950
additionally NCS idea will detached the

392
00:16:52,950 --> 00:16:56,260
PIO diem support so you will find if it

393
00:16:56,260 --> 00:16:59,110
sees the Nitza for Co diem over NCSI

394
00:16:59,110 --> 00:17:01,240
then you will try to do a sense of

395
00:17:01,240 --> 00:17:02,470
discovery so you will send additional

396
00:17:02,470 --> 00:17:04,959
PMP or diem comments to the niche find

397
00:17:04,959 --> 00:17:06,790
out how many sensory supports was the

398
00:17:06,790 --> 00:17:08,530
threshold and you must not monitoring

399
00:17:08,530 --> 00:17:13,959
them so that's the NCS ID and also user

400
00:17:13,959 --> 00:17:15,760
space we have this common line utility

401
00:17:15,760 --> 00:17:20,230
and CSA util so this is kind of like so

402
00:17:20,230 --> 00:17:22,569
it's not like the IP am I to that we

403
00:17:22,569 --> 00:17:24,609
have so allow user to send a role and

404
00:17:24,609 --> 00:17:28,030
CSI data to knit so this is very useful

405
00:17:28,030 --> 00:17:30,520
for initial d button and Breen up and

406
00:17:30,520 --> 00:17:32,560
post knit and BMC so what we have been

407
00:17:32,560 --> 00:17:34,350
using this for is let's say if we are

408
00:17:34,350 --> 00:17:38,230
working with new knit vendors okay so

409
00:17:38,230 --> 00:17:39,640
maybe their knit from where's that

410
00:17:39,640 --> 00:17:40,900
doesn't have really worked yet

411
00:17:40,900 --> 00:17:42,490
and we want to try a few in CSI comment

412
00:17:42,490 --> 00:17:45,010
yeah so this is a way to trigger all

413
00:17:45,010 --> 00:17:48,460
this right or we want to in our test

414
00:17:48,460 --> 00:17:49,390
environment let's say we

415
00:17:49,390 --> 00:17:51,940
- triggers to the net-net conditions we

416
00:17:51,940 --> 00:17:53,860
want to trigger certain midday en so

417
00:17:53,860 --> 00:17:57,360
let's say if an it a en only triggers

418
00:17:57,360 --> 00:18:00,460
need to be set for example okay so

419
00:18:00,460 --> 00:18:02,140
normally you may not be able to or on a

420
00:18:02,140 --> 00:18:04,180
certain traffic patterns so you may not

421
00:18:04,180 --> 00:18:06,820
be able to trigger this a and manually

422
00:18:06,820 --> 00:18:09,520
so now what's in turn do is define our

423
00:18:09,520 --> 00:18:10,900
way and commend what was in it from

424
00:18:10,900 --> 00:18:13,120
where team defined there's om commend

425
00:18:13,120 --> 00:18:15,760
and for BMC sentimental trigger this a

426
00:18:15,760 --> 00:18:18,850
and ancient even test your remediation

427
00:18:18,850 --> 00:18:22,210
process so this is useful for debug

428
00:18:22,210 --> 00:18:26,890
features and so this so here are some

429
00:18:26,890 --> 00:18:28,390
examples so this is some internal

430
00:18:28,390 --> 00:18:30,850
example how you since the aside here so

431
00:18:30,850 --> 00:18:33,420
for example we can get some statistics

432
00:18:33,420 --> 00:18:39,820
we can get even more statistics and yeah

433
00:18:39,820 --> 00:18:43,120
some more statistics or we can get the

434
00:18:43,120 --> 00:18:45,220
niche parameter so so for example you

435
00:18:45,220 --> 00:18:46,570
can check how an it is come video

436
00:18:46,570 --> 00:18:48,790
currently what's the current map address

437
00:18:48,790 --> 00:18:51,400
it's been stored what am I in a enabled

438
00:18:51,400 --> 00:18:56,530
in other confident configuration and oh

439
00:18:56,530 --> 00:18:58,900
and then you can use this for pure DMD

440
00:18:58,900 --> 00:19:02,650
board because now if the need supports P

441
00:19:02,650 --> 00:19:05,230
odium over in CSI you can manually send

442
00:19:05,230 --> 00:19:07,060
so it a manually transferred your

443
00:19:07,060 --> 00:19:09,220
payload fee Odeon comment and you can

444
00:19:09,220 --> 00:19:11,650
send over the CSI and you get response

445
00:19:11,650 --> 00:19:13,600
back so in this example I was trying to

446
00:19:13,600 --> 00:19:15,550
read so the first comment I was trying

447
00:19:15,550 --> 00:19:17,700
to read some temperature sensor and then

448
00:19:17,700 --> 00:19:20,740
once I did the sensor bad I sent another

449
00:19:20,740 --> 00:19:23,230
comment to get the threshold just to see

450
00:19:23,230 --> 00:19:25,720
what's the what what is sensor stretch

451
00:19:25,720 --> 00:19:33,070
how it is so it's 40 but purpose okay so

452
00:19:33,070 --> 00:19:36,160
only and since I D so so this is our

453
00:19:36,160 --> 00:19:38,650
monitoring demon so I'm BMC launch and

454
00:19:38,650 --> 00:19:40,120
CSV it's always running and even if in

455
00:19:40,120 --> 00:19:42,790
CSD crashes it restarts right so it's

456
00:19:42,790 --> 00:19:44,560
always available and it's always

457
00:19:44,560 --> 00:19:46,540
available in monitor stood and very

458
00:19:46,540 --> 00:19:50,080
least it monitors the Mitch status so

459
00:19:50,080 --> 00:19:54,940
okay so so it does the additional need

460
00:19:54,940 --> 00:19:56,890
Confederation so turn already does it so

461
00:19:56,890 --> 00:20:00,340
I'm pulled up colonel will detect niche

462
00:20:00,340 --> 00:20:02,800
and then configure than CSI but our in

463
00:20:02,800 --> 00:20:03,430
CST

464
00:20:03,430 --> 00:20:04,720
and suicide leaders initial

465
00:20:04,720 --> 00:20:06,640
configuration so one it checks the

466
00:20:06,640 --> 00:20:09,100
vendor ID and checks the OEM

467
00:20:09,100 --> 00:20:11,380
capabilities so in addition to our

468
00:20:11,380 --> 00:20:13,240
standard comments which said is this a

469
00:20:13,240 --> 00:20:16,030
OEM is this event that we were nice if

470
00:20:16,030 --> 00:20:17,800
it does what orient amends does is

471
00:20:17,800 --> 00:20:20,860
support what omae end is is support can

472
00:20:20,860 --> 00:20:22,990
we enable them and it does it based on

473
00:20:22,990 --> 00:20:25,390
our internal BMC configuration so let's

474
00:20:25,390 --> 00:20:28,690
say if somebody load a new test firmware

475
00:20:28,690 --> 00:20:30,640
from a new OEM you know we don't enable

476
00:20:30,640 --> 00:20:33,160
oh there motivation notifications just

477
00:20:33,160 --> 00:20:36,790
because they support it and then we also

478
00:20:36,790 --> 00:20:39,670
detect Peoria mobile and CSI and if

479
00:20:39,670 --> 00:20:42,400
nature supports it we will report it and

480
00:20:42,400 --> 00:20:44,530
then we start doing sensitive strawberry

481
00:20:44,530 --> 00:20:47,080
so essentially this is there are P Odeon

482
00:20:47,080 --> 00:20:49,390
comments you can do to discover what

483
00:20:49,390 --> 00:20:50,710
additional sensors they are on this

484
00:20:50,710 --> 00:20:53,170
niche and we have a threshold too so we

485
00:20:53,170 --> 00:21:00,520
can stop monitoring them okay so what

486
00:21:00,520 --> 00:21:03,760
are we monitoring so number one is so

487
00:21:03,760 --> 00:21:06,220
okay so and CS NCS idea what in a podium

488
00:21:06,220 --> 00:21:09,690
mode so some distance the monitors are

489
00:21:09,690 --> 00:21:13,270
the network status so this is very

490
00:21:13,270 --> 00:21:16,810
important for our BMC so if BMC link is

491
00:21:16,810 --> 00:21:20,290
down detect this and try to reinitialize

492
00:21:20,290 --> 00:21:23,230
the SCSI interface to see if we can

493
00:21:23,230 --> 00:21:27,580
print the link back up so earlier

494
00:21:27,580 --> 00:21:29,860
without in CS ID so this is actually one

495
00:21:29,860 --> 00:21:31,480
of our main motivation to add in CSID

496
00:21:31,480 --> 00:21:33,760
Tris prior to this we do see a lot of

497
00:21:33,760 --> 00:21:35,650
times where BMC just loosed and what to

498
00:21:35,650 --> 00:21:38,770
mention why this happens so the possible

499
00:21:38,770 --> 00:21:41,800
scenario so let's say if someone logged

500
00:21:41,800 --> 00:21:43,750
into the host and performs in band NIT

501
00:21:43,750 --> 00:21:46,690
reset ok so renowned it from where

502
00:21:46,690 --> 00:21:49,900
resets the NCS ID channel becomes in

503
00:21:49,900 --> 00:21:52,870
needs to be reconfigured okay so now BMC

504
00:21:52,870 --> 00:21:54,310
loses network connection we do not

505
00:21:54,310 --> 00:21:55,480
reconfigure in CSI

506
00:21:55,480 --> 00:21:58,090
that's one or if someone if we have

507
00:21:58,090 --> 00:22:00,610
embed firmware update so when we do a

508
00:22:00,610 --> 00:22:02,740
need for my update once we activate new

509
00:22:02,740 --> 00:22:05,920
firmware then then in CSI hey no need to

510
00:22:05,920 --> 00:22:06,880
be reconfigure again

511
00:22:06,880 --> 00:22:10,030
so prior to we have been CSID running we

512
00:22:10,030 --> 00:22:12,520
see this a lot every time we do need

513
00:22:12,520 --> 00:22:15,370
firmware update we lose PMC and that

514
00:22:15,370 --> 00:22:16,900
involves

515
00:22:16,900 --> 00:22:19,059
power side hold the entire sled I mean

516
00:22:19,059 --> 00:22:23,290
it's just not a graceful solution or if

517
00:22:23,290 --> 00:22:25,000
the need for my crashed so all I need

518
00:22:25,000 --> 00:22:26,770
from where crashed everything we in it

519
00:22:26,770 --> 00:22:28,150
great the wash start with harvesting

520
00:22:28,150 --> 00:22:30,610
from where but again and CSI need to be

521
00:22:30,610 --> 00:22:31,330
written Friedrich

522
00:22:31,330 --> 00:22:35,230
so this one will will bring the so this

523
00:22:35,230 --> 00:22:37,150
one would detect it and print the BMC

524
00:22:37,150 --> 00:22:40,660
link back up certainly which BMC MAC

525
00:22:40,660 --> 00:22:43,809
address so for our use case we are ten

526
00:22:43,809 --> 00:22:46,450
so actually this is done internal so I'm

527
00:22:46,450 --> 00:22:49,510
Colonel boot up colonel will um send om

528
00:22:49,510 --> 00:22:51,460
comment to get a MAC address from niche

529
00:22:51,460 --> 00:22:54,070
and initialize BMC and system based on

530
00:22:54,070 --> 00:22:56,679
the MAC address received however we have

531
00:22:56,679 --> 00:22:58,540
seen cases where either due to a

532
00:22:58,540 --> 00:23:01,020
firmware but or due to MIT boot time

533
00:23:01,020 --> 00:23:03,790
when doing BMC boot we did Ozzie row

534
00:23:03,790 --> 00:23:07,660
back from niche and since there's no to

535
00:23:07,660 --> 00:23:10,120
each why so once and then this is only

536
00:23:10,120 --> 00:23:11,950
done team boot so once you finish put in

537
00:23:11,950 --> 00:23:13,870
a kernel you are stuck with this or zero

538
00:23:13,870 --> 00:23:16,600
Mac and we can now log back into BMC two

539
00:23:16,600 --> 00:23:18,730
we configured but basically your BMC has

540
00:23:18,730 --> 00:23:21,040
no now what access at all even though

541
00:23:21,040 --> 00:23:23,050
now the need firmwares back up and BMC

542
00:23:23,050 --> 00:23:25,540
is running but we have no way to get

543
00:23:25,540 --> 00:23:28,510
back to BMC and retry this step so this

544
00:23:28,510 --> 00:23:30,520
is also something else yes NCS at ease

545
00:23:30,520 --> 00:23:34,870
chatting so and we see this early on in

546
00:23:34,870 --> 00:23:37,300
our you know perform bring up but I'm

547
00:23:37,300 --> 00:23:38,590
not sure if this is still happening

548
00:23:38,590 --> 00:23:42,220
today and okay so Church need firmware

549
00:23:42,220 --> 00:23:44,050
version so this is obvious so let's say

550
00:23:44,050 --> 00:23:47,770
if someone is doing embedded firmware

551
00:23:47,770 --> 00:23:51,700
update so then okay for my changed so

552
00:23:51,700 --> 00:23:53,530
BMC can get this information loaded

553
00:23:53,530 --> 00:23:55,300
pushed out with some dashboard so we

554
00:23:55,300 --> 00:23:57,490
have sir we have some info and by the

555
00:23:57,490 --> 00:24:01,660
way oh this poly mode they are not it

556
00:24:01,660 --> 00:24:03,610
can be individually configurable so for

557
00:24:03,610 --> 00:24:05,170
in cept for example the lint status you

558
00:24:05,170 --> 00:24:06,670
probably want to check every few seconds

559
00:24:06,670 --> 00:24:10,570
or every minute the MAC address you

560
00:24:10,570 --> 00:24:11,980
probably don't don't care too much you

561
00:24:11,980 --> 00:24:13,750
didn't check every day or every couple

562
00:24:13,750 --> 00:24:15,970
hours for my versions and then maybe

563
00:24:15,970 --> 00:24:17,380
check every hour right you don't have to

564
00:24:17,380 --> 00:24:21,460
flood the flood and CSI channel so okay

565
00:24:21,460 --> 00:24:23,020
and we need temperature this probably

566
00:24:23,020 --> 00:24:25,480
happens more frequently and then also

567
00:24:25,480 --> 00:24:28,450
repeal diem sensors so the poto sensors

568
00:24:28,450 --> 00:24:30,730
if they're available LLC SSD will

569
00:24:30,730 --> 00:24:34,030
poet and so the here at least some of

570
00:24:34,030 --> 00:24:36,580
the examples of pure TM sensors so it's

571
00:24:36,580 --> 00:24:37,900
not just a temperature sensor so

572
00:24:37,900 --> 00:24:40,720
temperature sensors are like system

573
00:24:40,720 --> 00:24:44,169
temperature and actually so what happens

574
00:24:44,169 --> 00:24:48,429
on OCP niche deben with up here DM we

575
00:24:48,429 --> 00:24:50,440
can get temperature sensors right so OCP

576
00:24:50,440 --> 00:24:53,110
niche always has sensor available on I

577
00:24:53,110 --> 00:24:56,200
to see however if there are additional

578
00:24:56,200 --> 00:24:58,840
temperature sensors the needs of quartz

579
00:24:58,840 --> 00:25:00,910
then xiana

580
00:25:00,910 --> 00:25:02,200
access they may not be accessible

581
00:25:02,200 --> 00:25:05,950
through I Square C and tenantry you may

582
00:25:05,950 --> 00:25:08,650
not need P o DM to get them because the

583
00:25:08,650 --> 00:25:10,140
need firmware that can always define

584
00:25:10,140 --> 00:25:13,299
additional om comments so you can have

585
00:25:13,299 --> 00:25:15,700
additional william comments to read mb

586
00:25:15,700 --> 00:25:18,070
and temperature sensors or port the

587
00:25:18,070 --> 00:25:22,150
update sensor however the this is not

588
00:25:22,150 --> 00:25:24,850
standard and this will vary from knit

589
00:25:24,850 --> 00:25:27,400
vendor to vendor so the PIO DM provides

590
00:25:27,400 --> 00:25:29,919
a standard way for BMC to discover hey

591
00:25:29,919 --> 00:25:31,890
what sensor is available on board and

592
00:25:31,890 --> 00:25:34,630
give us adjust the threshold i even

593
00:25:34,630 --> 00:25:37,419
completed a threshold so in so here in

594
00:25:37,419 --> 00:25:39,820
CS ID you will discover this and you

595
00:25:39,820 --> 00:25:41,770
will get the odor temperature available

596
00:25:41,770 --> 00:25:44,020
sensors additionally there are state

597
00:25:44,020 --> 00:25:46,419
sensors so the state sensors are like

598
00:25:46,419 --> 00:25:48,610
the health state so these are sort of

599
00:25:48,610 --> 00:25:51,100
like it depends on firmware

600
00:25:51,100 --> 00:25:52,660
implementation but let's say you may

601
00:25:52,660 --> 00:25:54,340
have a self check then you may be able

602
00:25:54,340 --> 00:25:56,410
to report hell on it health based on how

603
00:25:56,410 --> 00:25:59,200
it for my reports it so anyway BMC what

604
00:25:59,200 --> 00:26:01,150
latest information and this one it will

605
00:26:01,150 --> 00:26:03,100
push this stuff out to a dashboard so

606
00:26:03,100 --> 00:26:06,910
that it enables the free why monitoring

607
00:26:06,910 --> 00:26:10,780
so we can say hey once we load from

608
00:26:10,780 --> 00:26:13,960
we're version 5.2 on vendor a we see a

609
00:26:13,960 --> 00:26:17,590
spike of health state change or we see a

610
00:26:17,590 --> 00:26:20,799
spike of temperature sensor across the

611
00:26:20,799 --> 00:26:23,500
threshold so it enables this is kinda

612
00:26:23,500 --> 00:26:26,740
firm analysis right so in this case BMC

613
00:26:26,740 --> 00:26:28,990
doesn't perform any remediation but it's

614
00:26:28,990 --> 00:26:30,549
more monitoring we just read this data

615
00:26:30,549 --> 00:26:34,230
and we send this out to our dashboard

616
00:26:34,650 --> 00:26:37,030
okay so additionally we monitor the

617
00:26:37,030 --> 00:26:39,010
standard a ends so these are not holding

618
00:26:39,010 --> 00:26:41,350
right so these are where NCS ID listens

619
00:26:41,350 --> 00:26:43,510
to eternal messages and not any a and

620
00:26:43,510 --> 00:26:44,680
when you receive them

621
00:26:44,680 --> 00:26:46,210
so this required kernel patch to

622
00:26:46,210 --> 00:26:48,220
broadcast or the AE and kernel receive

623
00:26:48,220 --> 00:26:51,070
but so forth for example the standard AE

624
00:26:51,070 --> 00:26:53,080
and Savi three so right now these are

625
00:26:53,080 --> 00:26:56,350
the only AE and supported by one and CSS

626
00:26:56,350 --> 00:26:59,560
spec 1.1 means status change so this is

627
00:26:59,560 --> 00:27:01,510
pretty straightforward if someone at the

628
00:27:01,510 --> 00:27:03,570
table you get this notification

629
00:27:03,570 --> 00:27:05,890
configuration required so this happens

630
00:27:05,890 --> 00:27:09,730
when the tree boot or basically and CSL

631
00:27:09,730 --> 00:27:10,480
interest down

632
00:27:10,480 --> 00:27:14,350
so before and CSI NCSL indigo stem need

633
00:27:14,350 --> 00:27:17,260
firmware was sent this message to BMC to

634
00:27:17,260 --> 00:27:19,810
say hey please reconfigure because I'm

635
00:27:19,810 --> 00:27:22,150
about to get rebooted so BMC a lot

636
00:27:22,150 --> 00:27:24,460
misinformation and also there's a driver

637
00:27:24,460 --> 00:27:27,460
status change so from what I see this

638
00:27:27,460 --> 00:27:29,440
typically happens when the house guest

639
00:27:29,440 --> 00:27:34,870
rebooted so about a standard a and one

640
00:27:34,870 --> 00:27:37,510
thing I do know this is it's now

641
00:27:37,510 --> 00:27:40,420
well-defined in a shared NIT environment

642
00:27:40,420 --> 00:27:43,120
so here is one demo of a Facebook

643
00:27:43,120 --> 00:27:45,970
platform where we have four hosts in a

644
00:27:45,970 --> 00:27:48,790
BMC two met you're a multi host Nick so

645
00:27:48,790 --> 00:27:50,920
in this case is a sheneka four hosts and

646
00:27:50,920 --> 00:27:55,710
one BMC so in this case it's not clear

647
00:27:55,710 --> 00:27:58,630
what Trevor status changed which host

648
00:27:58,630 --> 00:28:01,710
Trevor status changes 22 and I see this

649
00:28:01,710 --> 00:28:05,050
in implementation dependent on some

650
00:28:05,050 --> 00:28:07,030
vendors I see is always mapped u swot

651
00:28:07,030 --> 00:28:09,660
one so when star two three and four

652
00:28:09,660 --> 00:28:12,340
power cycles I don't get this

653
00:28:12,340 --> 00:28:16,330
notification on some vendors I see every

654
00:28:16,330 --> 00:28:17,740
single slot when they power cycle I

655
00:28:17,740 --> 00:28:20,080
really see implantation but in a and

656
00:28:20,080 --> 00:28:22,780
itself unfortunately sped is not defined

657
00:28:22,780 --> 00:28:24,700
there's no big field for you detail okay

658
00:28:24,700 --> 00:28:28,240
which host this maps to so hopefully

659
00:28:28,240 --> 00:28:30,520
this word is fixed in in a future

660
00:28:30,520 --> 00:28:37,330
version and we have OMA and so on omae n

661
00:28:37,330 --> 00:28:38,770
so these are not part of standard but

662
00:28:38,770 --> 00:28:41,220
usually each om will define their own

663
00:28:41,220 --> 00:28:44,410
additional alert for BMC to monitor so

664
00:28:44,410 --> 00:28:45,910
here are some examples so here are some

665
00:28:45,910 --> 00:28:47,770
of the stuff that we encountered in our

666
00:28:47,770 --> 00:28:52,420
production and then which I can share so

667
00:28:52,420 --> 00:28:54,400
one is five shutdown so most of this

668
00:28:54,400 --> 00:28:57,850
happens on the on the shared niche so

669
00:28:57,850 --> 00:28:58,630
I'm the simple

670
00:28:58,630 --> 00:29:00,370
host niche is free standard so you have

671
00:29:00,370 --> 00:29:02,800
one host member to one niche no problem

672
00:29:02,800 --> 00:29:06,040
but I'm some shared host Mitch let's say

673
00:29:06,040 --> 00:29:10,390
if one of the slots ice mm has a kernel

674
00:29:10,390 --> 00:29:12,840
panic or it is shut down

675
00:29:12,840 --> 00:29:14,890
NIT from where we're going the bad state

676
00:29:14,890 --> 00:29:17,680
so it doesn't crash by the way but what

677
00:29:17,680 --> 00:29:20,200
we see is after enough supply shutdowns

678
00:29:20,200 --> 00:29:22,960
you lose 10 activity the internet from

679
00:29:22,960 --> 00:29:24,370
where crashes you lose too much

680
00:29:24,370 --> 00:29:27,250
connectivity so in this case it's better

681
00:29:27,250 --> 00:29:29,380
with the Teddy's early so let's say if

682
00:29:29,380 --> 00:29:30,760
you didn't attach the 5 shut down early

683
00:29:30,760 --> 00:29:33,430
then BMC can't read this information and

684
00:29:33,430 --> 00:29:36,460
again push out to to outside service so

685
00:29:36,460 --> 00:29:37,150
that we are aware

686
00:29:37,150 --> 00:29:39,280
oh by the way this sled has already

687
00:29:39,280 --> 00:29:42,160
least received three stuff I shot on

688
00:29:42,160 --> 00:29:44,260
events over last couple days should we

689
00:29:44,260 --> 00:29:46,600
start should we do a wheelie movies for

690
00:29:46,600 --> 00:29:48,820
production train the traffic reboot

691
00:29:48,820 --> 00:29:50,890
right now I mean it's just some some

692
00:29:50,890 --> 00:29:53,500
data points for us or we may say that

693
00:29:53,500 --> 00:29:56,140
yeah after firmware upgrade now we see a

694
00:29:56,140 --> 00:29:57,700
spike in sweat and surprise shutdown

695
00:29:57,700 --> 00:30:01,180
correlate you from we're 5.6 so this is

696
00:30:01,180 --> 00:30:03,700
one news trace

697
00:30:03,700 --> 00:30:06,250
another one is knit fatal error so in

698
00:30:06,250 --> 00:30:08,560
this case what happened is all the hosts

699
00:30:08,560 --> 00:30:11,110
will have lost connectivity because need

700
00:30:11,110 --> 00:30:13,930
firmware crashed so due to excessive

701
00:30:13,930 --> 00:30:15,760
surprise shutdown for example or due to

702
00:30:15,760 --> 00:30:19,180
some other issues doesn't matter but now

703
00:30:19,180 --> 00:30:21,400
the host has any up inch DMC is

704
00:30:21,400 --> 00:30:23,610
available BMC siphon is still available

705
00:30:23,610 --> 00:30:27,460
so in this case what we asked the NIT

706
00:30:27,460 --> 00:30:29,710
firmware to do is send us heartbeat AE

707
00:30:29,710 --> 00:30:33,040
in so the heartbeat because the so

708
00:30:33,040 --> 00:30:34,990
earlier I mentioned the aen doesn't have

709
00:30:34,990 --> 00:30:38,020
any ACK so there's actually no guarantee

710
00:30:38,020 --> 00:30:41,080
BMC will receive a en so for this kind

711
00:30:41,080 --> 00:30:43,090
of fatal error where we want to perform

712
00:30:43,090 --> 00:30:45,490
a mediation if the host just sends one

713
00:30:45,490 --> 00:30:48,850
AE and gets lost nothing then we are

714
00:30:48,850 --> 00:30:49,390
stuck again

715
00:30:49,390 --> 00:30:51,250
so eventually so BMC will miss this and

716
00:30:51,250 --> 00:30:53,710
then there'll be no remediation and we

717
00:30:53,710 --> 00:30:55,180
have to send somebody out there to power

718
00:30:55,180 --> 00:30:56,950
cycle so in this case what we want to do

719
00:30:56,950 --> 00:30:59,590
is since niche is in a fatal error state

720
00:30:59,590 --> 00:31:02,170
just in happy day until 2 p.m. see every

721
00:31:02,170 --> 00:31:04,060
every 3 seconds every 5 seconds doesn't

722
00:31:04,060 --> 00:31:07,840
matter when BMC receive it it it will

723
00:31:07,840 --> 00:31:08,860
first of all you will send the OEM

724
00:31:08,860 --> 00:31:10,630
comment to the niche to say ok got it

725
00:31:10,630 --> 00:31:12,429
stop the a and

726
00:31:12,429 --> 00:31:13,659
then you would shoot the outside service

727
00:31:13,659 --> 00:31:15,669
to say okay this niche needs to be power

728
00:31:15,669 --> 00:31:18,039
cycled and either we don't either we

729
00:31:18,039 --> 00:31:21,159
drain the host stop all traffic and then

730
00:31:21,159 --> 00:31:24,249
so the point is this can be automated so

731
00:31:24,249 --> 00:31:25,809
we can detect this which automates this

732
00:31:25,809 --> 00:31:28,899
remediation without having no manual

733
00:31:28,899 --> 00:31:31,570
intervention and then we can also lock

734
00:31:31,570 --> 00:31:33,970
the event so that we know how frequently

735
00:31:33,970 --> 00:31:36,249
these are happening or if this happens

736
00:31:36,249 --> 00:31:39,159
in certain region like we seen this load

737
00:31:39,159 --> 00:31:41,440
isolated in Dulles region or in other

738
00:31:41,440 --> 00:31:47,379
data centers right so so other om a ends

739
00:31:47,379 --> 00:31:48,879
the including is such a still more event

740
00:31:48,879 --> 00:31:50,980
so we can configure what's the threshold

741
00:31:50,980 --> 00:31:53,769
so if and we can configure which sensor

742
00:31:53,769 --> 00:31:56,769
we want to monitor so certain if we see

743
00:31:56,769 --> 00:31:59,169
the switch hold this pmc want to crank

744
00:31:59,169 --> 00:32:01,960
up a fan or do we shut down the shut

745
00:32:01,960 --> 00:32:04,360
down a system or we just lock the event

746
00:32:04,360 --> 00:32:06,879
and let the outside service decide

747
00:32:06,879 --> 00:32:08,710
what's the best way to remediate that's

748
00:32:08,710 --> 00:32:12,700
one way and then one more is the NIT

749
00:32:12,700 --> 00:32:16,179
reboot so in this case actually is still

750
00:32:16,179 --> 00:32:19,600
fatal error but it's recoverable so

751
00:32:19,600 --> 00:32:21,429
niche has encountered fatal error but it

752
00:32:21,429 --> 00:32:24,460
has self recovered so in this case easy

753
00:32:24,460 --> 00:32:27,159
to watchdog timer or whatever means need

754
00:32:27,159 --> 00:32:29,019
to recover from fatal error and in

755
00:32:29,019 --> 00:32:31,659
reboot it however we still want to lock

756
00:32:31,659 --> 00:32:34,480
this event because this allow us to

757
00:32:34,480 --> 00:32:37,330
correlate to knit firmware or to our

758
00:32:37,330 --> 00:32:39,129
traffic patterns so let's say if we run

759
00:32:39,129 --> 00:32:41,019
some certain traffic with certain it

760
00:32:41,019 --> 00:32:43,149
from a combination that hit an opponent

761
00:32:43,149 --> 00:32:46,119
ace without external monitoring we have

762
00:32:46,119 --> 00:32:46,720
no idea

763
00:32:46,720 --> 00:32:49,240
we are cost admitted to we hit the fatal

764
00:32:49,240 --> 00:32:51,129
error because niche will recover and

765
00:32:51,129 --> 00:32:53,320
everything is fine until one day we need

766
00:32:53,320 --> 00:32:55,809
to not recover and then you you're 50% a

767
00:32:55,809 --> 00:32:58,299
host wasn't a nativity so this give us a

768
00:32:58,299 --> 00:33:00,249
way to monitor this kind of events and

769
00:33:00,249 --> 00:33:03,249
we can log and decide what remediation

770
00:33:03,249 --> 00:33:05,440
want to do if any right so at least we

771
00:33:05,440 --> 00:33:07,509
don't read data when when this kind of

772
00:33:07,509 --> 00:33:13,210
event happens okay so those are sound

773
00:33:13,210 --> 00:33:16,929
the high level what we're doing for need

774
00:33:16,929 --> 00:33:19,990
monitoring management so for

775
00:33:19,990 --> 00:33:24,129
collaboration on internal patches so as

776
00:33:24,129 --> 00:33:26,020
in last couple weeks I've

777
00:33:26,020 --> 00:33:30,280
so tournelle already has the ICSI nelem

778
00:33:30,280 --> 00:33:32,650
support but last few weeks I've I have

779
00:33:32,650 --> 00:33:34,540
submitted a few patches to enable user

780
00:33:34,540 --> 00:33:38,140
space to send any payload to NCSI to to

781
00:33:38,140 --> 00:33:40,570
turn on CSI driver so and also I have a

782
00:33:40,570 --> 00:33:43,900
new PI I upstream a new patch to support

783
00:33:43,900 --> 00:33:47,559
Quixote I'm over in CSI traffic so on

784
00:33:47,559 --> 00:33:49,330
user space we will be able to send any

785
00:33:49,330 --> 00:33:51,790
of the other Pio diem traffic to ternal

786
00:33:51,790 --> 00:33:52,990
and then their response back

787
00:33:52,990 --> 00:33:54,580
so those patches has been up streamed

788
00:33:54,580 --> 00:33:58,570
and our user space so internally we have

789
00:33:58,570 --> 00:34:01,179
this to auto in CSI util so essentially

790
00:34:01,179 --> 00:34:03,190
this is the user space version so this

791
00:34:03,190 --> 00:34:05,620
is so maternal we have an alien who hits

792
00:34:05,620 --> 00:34:08,530
and CSI who hates the name link payload

793
00:34:08,530 --> 00:34:11,500
so the SCSI util is the user space part

794
00:34:11,500 --> 00:34:15,070
that enables we us to send and see has a

795
00:34:15,070 --> 00:34:17,500
comment over an image so this one I have

796
00:34:17,500 --> 00:34:19,960
sent a patch to the this github repo I

797
00:34:19,960 --> 00:34:23,139
think this is the one for open BMC and I

798
00:34:23,139 --> 00:34:25,030
sent a patch in a pull request so it

799
00:34:25,030 --> 00:34:29,290
should be merged surely I hope and then

800
00:34:29,290 --> 00:34:33,280
but also I will send additional pull

801
00:34:33,280 --> 00:34:36,239
requests an enable response parse in and

802
00:34:36,239 --> 00:34:38,830
interpret response but more importantly

803
00:34:38,830 --> 00:34:40,659
earlier I talked to you as in Deepak and

804
00:34:40,659 --> 00:34:44,800
Tom for this pmc a 2mp odium fuel so I

805
00:34:44,800 --> 00:34:46,119
think one of my doors will be to

806
00:34:46,119 --> 00:34:48,609
integrate what we have in NCS a uto in

807
00:34:48,609 --> 00:34:51,010
through this existing p o DM fuel or pmc

808
00:34:51,010 --> 00:34:52,989
at fuel I think this will be useful to

809
00:34:52,989 --> 00:34:55,449
you all open BMC platforms because it

810
00:34:55,449 --> 00:34:56,859
doesn't really need an eternal support

811
00:34:56,859 --> 00:34:58,330
so turnout already has all the support

812
00:34:58,330 --> 00:35:01,660
there namely for SCSI so we just need to

813
00:35:01,660 --> 00:35:03,130
make sure how you we just need to add

814
00:35:03,130 --> 00:35:05,920
this to our user space program so for

815
00:35:05,920 --> 00:35:09,100
the NCS ID yeah I'll post more details

816
00:35:09,100 --> 00:35:11,470
in the open BMC mailing list many to

817
00:35:11,470 --> 00:35:13,780
take some feedback to see the to

818
00:35:13,780 --> 00:35:15,220
summarize what I just described here I

819
00:35:15,220 --> 00:35:17,290
mean are these features useful um are

820
00:35:17,290 --> 00:35:19,270
there other use cases people are

821
00:35:19,270 --> 00:35:22,330
interested and can we collaborate and

822
00:35:22,330 --> 00:35:25,240
port this to open BMC for other

823
00:35:25,240 --> 00:35:29,170
platforms and yep so the deep he OD and

824
00:35:29,170 --> 00:35:31,480
we already have a lip lip EOD em I think

825
00:35:31,480 --> 00:35:34,960
so I plan to send additional patches to

826
00:35:34,960 --> 00:35:37,720
enable VOD I'm over NCS I just you can

827
00:35:37,720 --> 00:35:39,859
run I think currently EPO DM isn't you

828
00:35:39,859 --> 00:35:42,589
you live in CTP but we can also do

829
00:35:42,589 --> 00:35:44,749
Peoria movin since the ice so this is

830
00:35:44,749 --> 00:35:49,190
some towing yeah so they're essentially

831
00:35:49,190 --> 00:35:50,749
a lot more work to be done so for

832
00:35:50,749 --> 00:35:54,499
example there's NCSL over m CTP which I

833
00:35:54,499 --> 00:35:56,180
did not touch it oh I mean this is also

834
00:35:56,180 --> 00:35:59,299
a viable management option and in fact

835
00:35:59,299 --> 00:36:02,089
sometimes it may be preferable to have

836
00:36:02,089 --> 00:36:03,980
two channels to niche so you have no

837
00:36:03,980 --> 00:36:05,869
more internet traffic to you over a bt

838
00:36:05,869 --> 00:36:07,759
and then you do your management over m

839
00:36:07,759 --> 00:36:09,710
CTP so that one I haven't touched at all

840
00:36:09,710 --> 00:36:12,710
but I think if someone has feedback on

841
00:36:12,710 --> 00:36:14,499
this I loved it for that way down and

842
00:36:14,499 --> 00:36:16,759
another thing I'm thinking of is the

843
00:36:16,759 --> 00:36:19,009
configurable remediation so right now

844
00:36:19,009 --> 00:36:21,680
NCS ID we have some configuration

845
00:36:21,680 --> 00:36:22,940
available however

846
00:36:22,940 --> 00:36:25,640
I see for every error case we should be

847
00:36:25,640 --> 00:36:27,170
able to list like do we want to reboot

848
00:36:27,170 --> 00:36:29,119
do we want to trigger its general

849
00:36:29,119 --> 00:36:31,039
remediation what's the steps the

850
00:36:31,039 --> 00:36:32,359
remediation step should be tough

851
00:36:32,359 --> 00:36:33,890
iterable and we should be able to

852
00:36:33,890 --> 00:36:36,140
paradise you know try step one if it

853
00:36:36,140 --> 00:36:38,059
doesn't recover if I step two so I think

854
00:36:38,059 --> 00:36:40,089
that's something something we can add

855
00:36:40,089 --> 00:36:42,410
and lastly is this at home line

856
00:36:42,410 --> 00:36:43,999
utilities I think if we can consolidate

857
00:36:43,999 --> 00:36:47,299
the time line utilities into P odium

858
00:36:47,299 --> 00:36:49,190
fuel will be great pmcid fuel would be

859
00:36:49,190 --> 00:36:51,739
great I mean and then in a tool with him

860
00:36:51,739 --> 00:36:55,640
enable on CSI over our BT binding or P

861
00:36:55,640 --> 00:36:58,130
odium over in CSI or p OD M over m CTP I

862
00:36:58,130 --> 00:37:00,799
mean TBD so I think yeah for the

863
00:37:00,799 --> 00:37:02,359
discussion we can discuss more on the

864
00:37:02,359 --> 00:37:04,460
over a my own list but you can always

865
00:37:04,460 --> 00:37:06,589
reach me at Ben way at FP calm I'd love

866
00:37:06,589 --> 00:37:08,359
to hear your feedback and I love to hear

867
00:37:08,359 --> 00:37:10,460
if you have any more idea if you have

868
00:37:10,460 --> 00:37:13,160
any ideas how it improve the EMC

869
00:37:13,160 --> 00:37:15,349
robustness especially on the NIT

870
00:37:15,349 --> 00:37:16,640
management I mean anything that

871
00:37:16,640 --> 00:37:22,130
antipasto bestowing I'm off word yep

872
00:37:22,130 --> 00:37:26,239
that's it so any questions yeah yeah

873
00:37:26,239 --> 00:37:28,539
please

874
00:37:31,230 --> 00:37:35,790
I'm curious why you used a a negative

875
00:37:35,790 --> 00:37:37,859
case for the heartbeat instead of like a

876
00:37:37,859 --> 00:37:42,359
watchdog style where you would you you

877
00:37:42,359 --> 00:37:44,640
could get a a regular actual heartbeat

878
00:37:44,640 --> 00:37:46,920
the word heartbeat just set off in my

879
00:37:46,920 --> 00:37:49,050
mind like oh well you'd get these

880
00:37:49,050 --> 00:37:51,329
regularly but then you said fatal and so

881
00:37:51,329 --> 00:37:52,680
it's more like a heart attack than a

882
00:37:52,680 --> 00:37:55,950
heart yeah so I was I was curious why

883
00:37:55,950 --> 00:38:00,240
like the health you could get regular

884
00:38:00,240 --> 00:38:03,780
messages from the Nick instead of just

885
00:38:03,780 --> 00:38:05,280
emergency ones and then you could say oh

886
00:38:05,280 --> 00:38:06,599
yeah it's still alive it's still life

887
00:38:06,599 --> 00:38:08,250
it's still like oh what's wrong with it

888
00:38:08,250 --> 00:38:10,109
yeah a good poke it or something yeah

889
00:38:10,109 --> 00:38:12,960
this a true point so I think um yeah so

890
00:38:12,960 --> 00:38:15,030
I think the regular health works great I

891
00:38:15,030 --> 00:38:17,040
think one of the main reason is we're

892
00:38:17,040 --> 00:38:18,930
now in a standard spread there's no

893
00:38:18,930 --> 00:38:22,020
regular health a en so these are like

894
00:38:22,020 --> 00:38:24,359
the OEM a ends where the vendors

895
00:38:24,359 --> 00:38:26,910
implement in additional extender a en so

896
00:38:26,910 --> 00:38:29,070
in that case they only implement it in

897
00:38:29,070 --> 00:38:32,339
the in a fatal error case so like in a

898
00:38:32,339 --> 00:38:34,230
good case we don't we don't flood the

899
00:38:34,230 --> 00:38:35,760
channel at all we have no communication

900
00:38:35,760 --> 00:38:39,390
and relies on EMC Poland and only in

901
00:38:39,390 --> 00:38:42,150
Eric and normally I think it's not

902
00:38:42,150 --> 00:38:43,859
really a heartbeat either like the error

903
00:38:43,859 --> 00:38:45,630
one the reason we do happy this many

904
00:38:45,630 --> 00:38:48,390
made sure the MC doesn't miss it because

905
00:38:48,390 --> 00:38:50,280
otherwise it is just in one a and or

906
00:38:50,280 --> 00:38:52,680
even five AE and to say oh that fatal

907
00:38:52,680 --> 00:38:53,430
error occurred

908
00:38:53,430 --> 00:38:56,069
if the MC is busy at a time or if we

909
00:38:56,069 --> 00:38:58,260
drop the packet for whatever reason then

910
00:38:58,260 --> 00:38:59,880
we miss this forever because there's no

911
00:38:59,880 --> 00:39:01,829
ACK on the ans right there's no way to

912
00:39:01,829 --> 00:39:05,640
resend a en so here we by doing sort of

913
00:39:05,640 --> 00:39:08,970
a heartbeat or repeated a and we force

914
00:39:08,970 --> 00:39:11,730
the device to always send the traffic

915
00:39:11,730 --> 00:39:14,310
until BMC acknowledges by turning it off

916
00:39:14,310 --> 00:39:17,790
but I think if we reverse it what's it

917
00:39:17,790 --> 00:39:19,140
what's great - I mean I think if we can

918
00:39:19,140 --> 00:39:22,319
add that to the NCI spec 1.2 they'll be

919
00:39:22,319 --> 00:39:24,030
great if we didn't have a configurable

920
00:39:24,030 --> 00:39:27,359
ha ba en for example like BMC I don't

921
00:39:27,359 --> 00:39:28,770
figure how frequently I want to receive

922
00:39:28,770 --> 00:39:32,420
this I think they'll be totally awesome

923
00:39:32,420 --> 00:39:36,140
surprise not exactly answer but yeah

924
00:39:36,140 --> 00:39:39,630
yeah so we were looking at your

925
00:39:39,630 --> 00:39:44,089
documentation and github I mention about

926
00:39:45,000 --> 00:39:51,180
colonel for uh yes we're using colonel

927
00:39:51,180 --> 00:39:53,190
five so we're looking into them okay

928
00:39:53,190 --> 00:39:55,830
yeah I mean okay okay great yeah

929
00:39:55,830 --> 00:39:59,400
someone's been out great get help so the

930
00:39:59,400 --> 00:40:01,290
only reason I said the appeal team

931
00:40:01,290 --> 00:40:03,360
required turnoff for is because when I

932
00:40:03,360 --> 00:40:05,820
started this I was based on Colonel for

933
00:40:05,820 --> 00:40:09,530
so I implement a custom name and user

934
00:40:09,530 --> 00:40:13,230
message for Colonel commutation but

935
00:40:13,230 --> 00:40:15,240
recently I put the oldest eternal five

936
00:40:15,240 --> 00:40:16,920
with the leap and a wizard generic

937
00:40:16,920 --> 00:40:20,820
Midland so the lip here diem it will be

938
00:40:20,820 --> 00:40:23,160
I will up our upstream this very surely

939
00:40:23,160 --> 00:40:25,650
so within the next week or so it will be

940
00:40:25,650 --> 00:40:27,810
compatible with in fact older it's my

941
00:40:27,810 --> 00:40:30,150
show today is running an internal fight

942
00:40:30,150 --> 00:40:32,790
so it doesn't require any of the special

943
00:40:32,790 --> 00:40:35,940
kernel patch or the the the users that

944
00:40:35,940 --> 00:40:38,910
the Midland user message type so I'll

945
00:40:38,910 --> 00:40:49,560
have that surely so the issues you are

946
00:40:49,560 --> 00:40:52,410
talking about which are not part of the

947
00:40:52,410 --> 00:40:56,460
standard specifications could you kind

948
00:40:56,460 --> 00:40:59,700
of rise this in the VMP of forum yeah

949
00:40:59,700 --> 00:41:02,250
you make it make the specification yeah

950
00:41:02,250 --> 00:41:06,600
sure they're fixing it but you have

951
00:41:06,600 --> 00:41:08,880
input would be valuable yeah since will

952
00:41:08,880 --> 00:41:10,440
bring this up Chris actually this is one

953
00:41:10,440 --> 00:41:12,360
this has been one of our pinpoint just

954
00:41:12,360 --> 00:41:15,000
every niche vendor we work with we sort

955
00:41:15,000 --> 00:41:16,740
of ask them hey guys can you implement

956
00:41:16,740 --> 00:41:19,770
these features as the OEM extension to

957
00:41:19,770 --> 00:41:21,900
give us the monitor ability because this

958
00:41:21,900 --> 00:41:24,120
is not our standard but yeah I will talk

959
00:41:24,120 --> 00:41:26,400
to you outside okay this ideally we want

960
00:41:26,400 --> 00:41:28,290
to have all this as a part of an CSI

961
00:41:28,290 --> 00:41:30,740
standard going forward maybe in 1.2 1.3

962
00:41:30,740 --> 00:41:34,650
so so that we don't have this different

963
00:41:34,650 --> 00:41:36,240
fermentation for om that give us the

964
00:41:36,240 --> 00:41:38,070
same features yeah yeah thanks for that

965
00:41:38,070 --> 00:41:41,270
I'll totally do it

966
00:41:46,920 --> 00:41:50,320
so is there any other alternative to the

967
00:41:50,320 --> 00:41:52,660
pure Liam or like there's only one

968
00:41:52,660 --> 00:41:55,870
radium so Amy for the sensor we do you

969
00:41:55,870 --> 00:41:58,020
mean anyway whatever the data you read

970
00:41:58,020 --> 00:42:00,850
yeah do you have any other specific

971
00:42:00,850 --> 00:42:03,970
isn't like we have ipmi IAM yeah like

972
00:42:03,970 --> 00:42:04,330
that

973
00:42:04,330 --> 00:42:06,760
yeah at your point so so unfortunate

974
00:42:06,760 --> 00:42:08,800
right now there's no security m provides

975
00:42:08,800 --> 00:42:11,500
for sensor read and for my update tod

976
00:42:11,500 --> 00:42:13,180
and provides a standard way of doing it

977
00:42:13,180 --> 00:42:16,420
but you can always do it in via OEM

978
00:42:16,420 --> 00:42:18,880
comments and I've seen that too on some

979
00:42:18,880 --> 00:42:22,060
it vendors I'm at least like say updates

980
00:42:22,060 --> 00:42:25,540
optical sensors or ambient sensor they

981
00:42:25,540 --> 00:42:27,310
provide a special OEM comments for you

982
00:42:27,310 --> 00:42:29,770
to retreat them so that totally works

983
00:42:29,770 --> 00:42:31,480
so the problem then is also like

984
00:42:31,480 --> 00:42:32,620
different vendors is their own

985
00:42:32,620 --> 00:42:35,230
implementation and there's no standard

986
00:42:35,230 --> 00:42:36,730
way to disturb with them so let's say

987
00:42:36,730 --> 00:42:39,280
one device has ten sensors the other one

988
00:42:39,280 --> 00:42:41,800
has five what's the standard way for BMC

989
00:42:41,800 --> 00:42:44,770
to discover these sensors and also

990
00:42:44,770 --> 00:42:47,320
discover your threshold and what sense

991
00:42:47,320 --> 00:42:49,330
it means what so the P Odeon provides

992
00:42:49,330 --> 00:42:50,860
sort of a standard way to do it but

993
00:42:50,860 --> 00:42:53,230
there's four alternatives so you can

994
00:42:53,230 --> 00:42:55,570
have that you can have those by that

995
00:42:55,570 --> 00:42:57,640
william capabilities get capabilities

996
00:42:57,640 --> 00:43:00,400
yeah it can provide each om can provide

997
00:43:00,400 --> 00:43:02,440
their own capabilities so that a man yes

998
00:43:02,440 --> 00:43:04,690
so the problem though is even om tech

999
00:43:04,690 --> 00:43:08,020
abilities are not standard so one om has

1000
00:43:08,020 --> 00:43:09,760
their own typical village comment the

1001
00:43:09,760 --> 00:43:11,770
other way em has their own so right now

1002
00:43:11,770 --> 00:43:14,710
for open BMC is tricky to suite this we

1003
00:43:14,710 --> 00:43:16,840
detailed OEM type and then we send

1004
00:43:16,840 --> 00:43:18,280
different comment to disturb reject

1005
00:43:18,280 --> 00:43:21,430
abilities so like yeah if we can't get a

1006
00:43:21,430 --> 00:43:23,800
standardized then yeah I think this

1007
00:43:23,800 --> 00:43:24,610
problem will be soft

1008
00:43:24,610 --> 00:43:27,340
yeah because rather than standardizing

1009
00:43:27,340 --> 00:43:29,950
or adding to the NC size but you are

1010
00:43:29,950 --> 00:43:32,140
posing an another respect at the top of

1011
00:43:32,140 --> 00:43:34,840
the NCS I every vendor dies development

1012
00:43:34,840 --> 00:43:40,120
now the pl diem model are like so if if

1013
00:43:40,120 --> 00:43:42,040
sneak things needs to be corrected or

1014
00:43:42,040 --> 00:43:45,220
added can be added into NC specific was

1015
00:43:45,220 --> 00:43:47,680
this adding another layer do this I

1016
00:43:47,680 --> 00:43:49,930
simply try security I miss Ashley it is

1017
00:43:49,930 --> 00:43:51,850
more than just sensors I think for right

1018
00:43:51,850 --> 00:43:53,650
now I'm only using a very small part of

1019
00:43:53,650 --> 00:43:55,030
a few of the impact you which is why

1020
00:43:55,030 --> 00:43:56,770
there are some overlap through sensors

1021
00:43:56,770 --> 00:44:00,010
but really I think if we implement the

1022
00:44:00,010 --> 00:44:00,320
four

1023
00:44:00,320 --> 00:44:03,050
Tod M stack there's a lot more other

1024
00:44:03,050 --> 00:44:05,240
features as support which I seen in CSI

1025
00:44:05,240 --> 00:44:08,540
doesn't provide like yeah anyway

1026
00:44:08,540 --> 00:44:10,010
notification for example here we didn't

1027
00:44:10,010 --> 00:44:16,870
talk more yeah you showed before the

1028
00:44:16,870 --> 00:44:20,270
NCSI tool but you can send and CSI

1029
00:44:20,270 --> 00:44:30,470
package packages over yeah yeah yeah so

1030
00:44:30,470 --> 00:44:34,510
is it only available in RAW format

1031
00:44:34,510 --> 00:44:38,000
yeah parser you know so you don't need

1032
00:44:38,000 --> 00:44:43,280
to go improve on it so so originally

1033
00:44:43,280 --> 00:44:46,010
this was my hat to clean up new niche

1034
00:44:46,010 --> 00:44:49,280
and that has BMC feature so as a quick

1035
00:44:49,280 --> 00:44:51,350
hack I just do the raw format but yeah I

1036
00:44:51,350 --> 00:44:53,440
think we didn't totally add so we added

1037
00:44:53,440 --> 00:44:56,960
the payload the response decoding but we

1038
00:44:56,960 --> 00:44:59,990
can add the term NT we can add like sent

1039
00:44:59,990 --> 00:45:02,120
we can name it immense so you don't have

1040
00:45:02,120 --> 00:45:04,700
to manually type in like the the

1041
00:45:04,700 --> 00:45:07,310
instance ID or this kind of thing yeah

1042
00:45:07,310 --> 00:45:14,110
we can totally improve on this yeah okay

1043
00:45:14,110 --> 00:45:16,940
thank you all right thank you very much

1044
00:45:16,940 --> 00:45:23,489
[Applause]

1045
00:45:24,010 --> 00:45:25,650
[Music]

1046
00:45:25,650 --> 00:45:27,710
you

