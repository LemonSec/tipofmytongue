1
00:00:00,390 --> 00:00:06,120
good morning my name<font color="#CCCCCC"> is Philip Arden I'm</font>

2
00:00:02,580 --> 00:00:07,830
<font color="#E5E5E5">gonna be talking about the name of the</font>

3
00:00:06,120 --> 00:00:09,360
talk<font color="#E5E5E5"> which I'm going to apologize</font><font color="#CCCCCC"> for in</font>

4
00:00:07,830 --> 00:00:10,620
a second is docker it's the response

5
00:00:09,360 --> 00:00:12,750
<font color="#CCCCCC">that container</font><font color="#E5E5E5"> has an eatable</font><font color="#CCCCCC"> continue</font>

6
00:00:10,620 --> 00:00:13,139
deployed environment<font color="#E5E5E5"> I thought this was</font>

7
00:00:12,750 --> 00:00:15,059
<font color="#E5E5E5">funny</font>

8
00:00:13,139 --> 00:00:16,619
but I've<font color="#E5E5E5"> been I've</font><font color="#CCCCCC"> been informed my</font>

9
00:00:15,059 --> 00:00:17,820
number of people this is<font color="#CCCCCC"> the worst dad</font>

10
00:00:16,619 --> 00:00:19,500
joke they have ever<font color="#E5E5E5"> heard in their</font>

11
00:00:17,820 --> 00:00:21,869
entire lives and I should feel<font color="#CCCCCC"> bad for</font>

12
00:00:19,500 --> 00:00:29,720
having<font color="#E5E5E5"> put it on the</font><font color="#CCCCCC"> screen so I'm sorry</font>

13
00:00:21,869 --> 00:00:32,250
<font color="#E5E5E5">I'm not</font><font color="#CCCCCC"> actually sorry good cool</font><font color="#E5E5E5"> so</font>

14
00:00:29,720 --> 00:00:33,719
<font color="#E5E5E5">quickly about me I'm a security</font><font color="#CCCCCC"> I coin</font>

15
00:00:32,250 --> 00:00:35,219
basis coin base is a digital<font color="#E5E5E5"> currency</font>

16
00:00:33,719 --> 00:00:36,960
company we store about<font color="#CCCCCC"> five billion</font>

17
00:00:35,219 --> 00:00:40,110
<font color="#E5E5E5">dollars worth of Bitcoin litecoin</font>

18
00:00:36,960 --> 00:00:42,930
<font color="#E5E5E5">aetherium</font><font color="#CCCCCC"> so these are digital</font><font color="#E5E5E5"> assets</font>

19
00:00:40,110 --> 00:00:45,440
move moved<font color="#E5E5E5"> online</font><font color="#CCCCCC"> up just quick show of</font>

20
00:00:42,930 --> 00:00:51,420
hands digital currency<font color="#E5E5E5"> familiar with it</font>

21
00:00:45,440 --> 00:00:52,769
<font color="#CCCCCC">okay like</font><font color="#E5E5E5"> 10% maybe 20% cool</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> the</font>

22
00:00:51,420 --> 00:00:54,270
important<font color="#E5E5E5"> thing to remember I'll talk</font>

23
00:00:52,770 --> 00:00:56,579
about<font color="#CCCCCC"> this</font><font color="#E5E5E5"> a little bit</font><font color="#CCCCCC"> later is that</font>

24
00:00:54,270 --> 00:00:58,170
the both the good thing the<font color="#CCCCCC"> bad thing</font>

25
00:00:56,579 --> 00:01:00,899
<font color="#CCCCCC">about digital</font><font color="#E5E5E5"> currency is if you lose it</font>

26
00:00:58,170 --> 00:01:02,609
it's<font color="#E5E5E5"> gone there's no there's no getting</font>

27
00:01:00,899 --> 00:01:03,719
it back<font color="#E5E5E5"> there's no second chance there's</font>

28
00:01:02,609 --> 00:01:05,100
no call up the<font color="#E5E5E5"> other guy and say hey</font>

29
00:01:03,719 --> 00:01:08,520
<font color="#CCCCCC">just kidding</font><font color="#E5E5E5"> about that wire transfer</font>

30
00:01:05,099 --> 00:01:10,408
<font color="#E5E5E5">like send that back doesn't happen</font><font color="#CCCCCC"> I've</font>

31
00:01:08,520 --> 00:01:12,630
been messing<font color="#E5E5E5"> around with with with sort</font>

32
00:01:10,409 --> 00:01:15,630
of<font color="#E5E5E5"> like I don't like the term dev</font><font color="#CCCCCC"> SEK</font>

33
00:01:12,630 --> 00:01:17,520
ops because<font color="#CCCCCC"> it's don't like</font><font color="#E5E5E5"> DevOps begin</font>

34
00:01:15,630 --> 00:01:18,720
to<font color="#E5E5E5"> it's but I've been messing</font><font color="#CCCCCC"> on</font><font color="#E5E5E5"> with a</font>

35
00:01:17,520 --> 00:01:20,339
space book for quite<font color="#E5E5E5"> a while</font>

36
00:01:18,720 --> 00:01:24,570
occasionally<font color="#CCCCCC"> I write them up</font><font color="#E5E5E5"> with</font><font color="#CCCCCC"> RO</font>

37
00:01:20,340 --> 00:01:25,920
software<font color="#E5E5E5"> it's on github</font><font color="#CCCCCC"> so let's talk</font>

38
00:01:24,570 --> 00:01:28,080
<font color="#E5E5E5">about first what we're not covering</font>

39
00:01:25,920 --> 00:01:29,720
because<font color="#E5E5E5"> this this like could literally</font>

40
00:01:28,080 --> 00:01:32,908
<font color="#CCCCCC">probably be a several-day</font>

41
00:01:29,720 --> 00:01:36,390
presentation if we covered every<font color="#CCCCCC"> aspect</font>

42
00:01:32,909 --> 00:01:38,490
of all the things<font color="#E5E5E5"> if the US securities</font>

43
00:01:36,390 --> 00:01:40,320
<font color="#CCCCCC">you sure securedoc configuration else</font>

44
00:01:38,490 --> 00:01:42,298
<font color="#CCCCCC">dlc impact of containers</font><font color="#E5E5E5"> blah blah blah</font>

45
00:01:40,320 --> 00:01:43,369
<font color="#E5E5E5">blah so we're not going to cover any of</font>

46
00:01:42,299 --> 00:01:45,960
this stuff<font color="#CCCCCC"> we're going to</font><font color="#E5E5E5"> focus</font>

47
00:01:43,369 --> 00:01:47,670
specifically on the<font color="#CCCCCC"> incident response</font>

48
00:01:45,960 --> 00:01:49,619
impact of existing in<font color="#E5E5E5"> this kind of</font>

49
00:01:47,670 --> 00:01:53,369
environment<font color="#CCCCCC"> right</font><font color="#E5E5E5"> we're going to talk</font>

50
00:01:49,619 --> 00:01:54,720
<font color="#CCCCCC">about first</font><font color="#E5E5E5"> of</font><font color="#CCCCCC"> all a little</font><font color="#E5E5E5"> bit context</font>

51
00:01:53,369 --> 00:01:57,540
on the environment<font color="#E5E5E5"> that we've that we've</font>

52
00:01:54,720 --> 00:01:59,490
built<font color="#E5E5E5"> because sort of that that context</font>

53
00:01:57,540 --> 00:02:02,070
drives the solutions we come up with and

54
00:01:59,490 --> 00:02:05,310
is overall useful we're going to talk

55
00:02:02,070 --> 00:02:07,289
<font color="#CCCCCC">about things that in existing in this</font>

56
00:02:05,310 --> 00:02:09,199
sort of<font color="#E5E5E5"> containerized immutable</font>

57
00:02:07,290 --> 00:02:11,910
continues to deploy an environment<font color="#E5E5E5"> like</font>

58
00:02:09,199 --> 00:02:12,890
either make easier or make much much

59
00:02:11,910 --> 00:02:15,410
<font color="#E5E5E5">harder</font>

60
00:02:12,890 --> 00:02:19,609
next preparation of detection<font color="#E5E5E5"> and of</font>

61
00:02:15,410 --> 00:02:21,740
response so first one<font color="#E5E5E5"> more one more</font>

62
00:02:19,610 --> 00:02:25,810
quick little<font color="#E5E5E5"> poll who's who's messed</font>

63
00:02:21,740 --> 00:02:25,810
with containers<font color="#E5E5E5"> in prod before</font>

64
00:02:26,060 --> 00:02:36,650
like<font color="#E5E5E5"> five hands cool how about immutable</font>

65
00:02:30,910 --> 00:02:38,240
deployments yeah<font color="#CCCCCC"> five hands and how many</font>

66
00:02:36,650 --> 00:02:39,470
of you have had<font color="#E5E5E5"> the pleasure or</font><font color="#CCCCCC"> pain of</font>

67
00:02:38,240 --> 00:02:42,550
working in a continuously deployed

68
00:02:39,470 --> 00:02:44,930
environment<font color="#E5E5E5"> from a security perspective</font>

69
00:02:42,550 --> 00:02:47,780
<font color="#E5E5E5">maybe one or two</font><font color="#CCCCCC"> hands cool</font><font color="#E5E5E5"> so let's</font>

70
00:02:44,930 --> 00:02:50,450
<font color="#CCCCCC">talk</font><font color="#E5E5E5"> about those concepts for one second</font>

71
00:02:47,780 --> 00:02:53,120
<font color="#CCCCCC">before we dive into into sort of the the</font>

72
00:02:50,450 --> 00:02:54,350
rest of the meat<font color="#E5E5E5"> of this talk</font><font color="#CCCCCC"> first of</font>

73
00:02:53,120 --> 00:02:56,630
<font color="#E5E5E5">all talk about containers right I'm</font>

74
00:02:54,350 --> 00:02:58,970
using the terms Dockers and<font color="#E5E5E5"> containers</font>

75
00:02:56,630 --> 00:03:00,560
here interchangeably<font color="#E5E5E5"> they're not docker</font>

76
00:02:58,970 --> 00:03:03,500
is that it is a implementation of a

77
00:03:00,560 --> 00:03:08,720
container if you're an old<font color="#E5E5E5"> Salinas guy</font>

78
00:03:03,500 --> 00:03:12,620
<font color="#CCCCCC">BSD</font><font color="#E5E5E5"> jails Solaris zones</font><font color="#CCCCCC"> very very</font>

79
00:03:08,720 --> 00:03:16,100
<font color="#E5E5E5">similar concept</font><font color="#CCCCCC"> all this is is a way to</font>

80
00:03:12,620 --> 00:03:18,200
segment<font color="#E5E5E5"> a few processes</font><font color="#CCCCCC"> in a larger</font>

81
00:03:16,100 --> 00:03:20,989
<font color="#CCCCCC">environment</font><font color="#E5E5E5"> into their own little piece</font>

82
00:03:18,200 --> 00:03:22,130
<font color="#CCCCCC">of a running of a running OS</font><font color="#E5E5E5"> the</font>

83
00:03:20,989 --> 00:03:23,930
important thing the important difference

84
00:03:22,130 --> 00:03:25,400
between<font color="#E5E5E5"> containerization and</font>

85
00:03:23,930 --> 00:03:27,890
<font color="#E5E5E5">virtualization is in a containerized</font>

86
00:03:25,400 --> 00:03:30,019
environment<font color="#E5E5E5"> you share the kernel with</font>

87
00:03:27,890 --> 00:03:33,140
the host OS right so<font color="#CCCCCC"> kernel bones still</font>

88
00:03:30,019 --> 00:03:36,560
work but<font color="#E5E5E5"> the user land can be entirely</font>

89
00:03:33,140 --> 00:03:38,899
different<font color="#CCCCCC"> so</font><font color="#E5E5E5"> for example you may</font><font color="#CCCCCC"> be</font>

90
00:03:36,560 --> 00:03:40,730
<font color="#E5E5E5">running a bun</font><font color="#CCCCCC"> two hosts and an alpine</font>

91
00:03:38,900 --> 00:03:43,519
<font color="#CCCCCC">linux base or a CentOS or CentOS</font>

92
00:03:40,730 --> 00:03:44,630
container base or a<font color="#E5E5E5"> Gen 2 container base</font>

93
00:03:43,519 --> 00:03:48,230
it doesn't<font color="#CCCCCC"> it doesn't</font><font color="#E5E5E5"> actually matter</font>

94
00:03:44,630 --> 00:03:49,459
<font color="#E5E5E5">from</font><font color="#CCCCCC"> the usual and perspective immutable</font>

95
00:03:48,230 --> 00:03:51,320
deployments this<font color="#E5E5E5"> one's this one's a fun</font>

96
00:03:49,459 --> 00:03:53,120
one<font color="#CCCCCC"> so the concept here is when you</font>

97
00:03:51,320 --> 00:03:55,340
deploy a thing it should never change

98
00:03:53,120 --> 00:03:57,860
<font color="#E5E5E5">again after that deployment</font><font color="#CCCCCC"> all</font><font color="#E5E5E5"> right so</font>

99
00:03:55,340 --> 00:04:00,260
so an<font color="#CCCCCC"> example</font><font color="#E5E5E5"> here would be if</font><font color="#CCCCCC"> you if</font>

100
00:03:57,860 --> 00:04:02,360
you deploy a service to<font color="#CCCCCC"> prop at service</font>

101
00:04:00,260 --> 00:04:05,298
has a bug in it<font color="#CCCCCC"> a lot</font><font color="#E5E5E5"> of times</font><font color="#CCCCCC"> what</font>

102
00:04:02,360 --> 00:04:06,739
you're<font color="#E5E5E5"> going to do is you know go hop in</font>

103
00:04:05,299 --> 00:04:09,590
<font color="#E5E5E5">maybe monkey pack something in the</font>

104
00:04:06,739 --> 00:04:10,790
running<font color="#CCCCCC"> instance or potentially you just</font>

105
00:04:09,590 --> 00:04:12,769
deploy some more code<font color="#CCCCCC"> to that</font><font color="#E5E5E5"> same</font>

106
00:04:10,790 --> 00:04:15,560
instance right in<font color="#E5E5E5"> a mutable environment</font>

107
00:04:12,769 --> 00:04:17,418
<font color="#E5E5E5">neither of those</font><font color="#CCCCCC"> things happen</font><font color="#E5E5E5"> what you</font>

108
00:04:15,560 --> 00:04:20,358
do is you hopefully you know<font color="#E5E5E5"> you find</font>

109
00:04:17,418 --> 00:04:22,130
the bug in in dev not in prod<font color="#E5E5E5"> and then</font>

110
00:04:20,358 --> 00:04:23,359
you redeploy the entire stack from the

111
00:04:22,130 --> 00:04:24,650
ground

112
00:04:23,360 --> 00:04:26,900
so we'll talk<font color="#CCCCCC"> about</font><font color="#E5E5E5"> how we do this at</font>

113
00:04:24,650 --> 00:04:30,258
<font color="#CCCCCC">point-a specifically</font><font color="#E5E5E5"> but in general</font><font color="#CCCCCC"> like</font>

114
00:04:26,900 --> 00:04:32,840
new vert new containers<font color="#E5E5E5"> new security</font>

115
00:04:30,259 --> 00:04:34,909
groups<font color="#E5E5E5"> enable us new ASG</font><font color="#CCCCCC"> hold on yards</font>

116
00:04:32,840 --> 00:04:38,479
from the ground up<font color="#CCCCCC"> this has some really</font>

117
00:04:34,909 --> 00:04:39,889
cool sort<font color="#E5E5E5"> of security impacts from me</font>

118
00:04:38,479 --> 00:04:41,449
<font color="#E5E5E5">making an attackers life really annoying</font>

119
00:04:39,889 --> 00:04:44,120
and some really<font color="#E5E5E5"> painful security</font><font color="#CCCCCC"> pact</font>

120
00:04:41,449 --> 00:04:44,960
<font color="#E5E5E5">surrounds</font><font color="#CCCCCC"> batching and</font><font color="#E5E5E5"> software updates</font>

121
00:04:44,120 --> 00:04:49,009
and<font color="#E5E5E5"> things like that that will talk</font>

122
00:04:44,960 --> 00:04:50,479
<font color="#E5E5E5">about the</font><font color="#CCCCCC"> lasts</font><font color="#E5E5E5"> continuously deployed in</font>

123
00:04:49,009 --> 00:04:52,430
concept<font color="#E5E5E5"> here this is the thing</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> I</font>

124
00:04:50,479 --> 00:04:55,370
<font color="#CCCCCC">think I saw the fewest hands for the</font>

125
00:04:52,430 --> 00:04:57,139
concept here<font color="#E5E5E5"> is the gap between merging</font>

126
00:04:55,370 --> 00:04:59,479
<font color="#CCCCCC">code de master and that</font><font color="#E5E5E5"> mat</font><font color="#CCCCCC"> and that</font>

127
00:04:57,139 --> 00:05:02,270
code being in production is as small as

128
00:04:59,479 --> 00:05:04,370
is technically<font color="#E5E5E5"> possible in most cases</font>

129
00:05:02,270 --> 00:05:08,560
it's the<font color="#E5E5E5"> gap is the length of the test</font>

130
00:05:04,370 --> 00:05:12,169
<font color="#CCCCCC">suite basically</font><font color="#E5E5E5"> so as an</font><font color="#CCCCCC"> example</font><font color="#E5E5E5"> of this</font>

131
00:05:08,560 --> 00:05:13,250
<font color="#E5E5E5">when we deploy</font><font color="#CCCCCC"> services in corner</font><font color="#E5E5E5"> basis</font>

132
00:05:12,169 --> 00:05:19,190
we'll talk about<font color="#E5E5E5"> this way more in depth</font>

133
00:05:13,250 --> 00:05:21,469
<font color="#E5E5E5">but the the gap between merged a master</font>

134
00:05:19,190 --> 00:05:23,270
and running in prod is about<font color="#E5E5E5"> 30 minutes</font>

135
00:05:21,469 --> 00:05:24,650
which is<font color="#E5E5E5"> what it takes</font><font color="#CCCCCC"> for the test</font>

136
00:05:23,270 --> 00:05:26,389
<font color="#E5E5E5">Suites and</font><font color="#CCCCCC"> Security's checks and all</font>

137
00:05:24,650 --> 00:05:28,549
that<font color="#E5E5E5"> stuff to run and we do that</font>

138
00:05:26,389 --> 00:05:29,659
<font color="#E5E5E5">something like 12 times a day</font><font color="#CCCCCC"> you</font>

139
00:05:28,550 --> 00:05:32,150
combine that<font color="#E5E5E5"> with the immutable</font>

140
00:05:29,659 --> 00:05:34,550
deployment concept<font color="#CCCCCC"> what this means is we</font>

141
00:05:32,150 --> 00:05:37,239
<font color="#CCCCCC">are rebuilding from scratch</font><font color="#E5E5E5"> internal</font>

142
00:05:34,550 --> 00:05:39,259
services<font color="#CCCCCC"> 12 to 20 times a day</font>

143
00:05:37,240 --> 00:05:47,930
<font color="#CCCCCC">again pluses and minuses there</font><font color="#E5E5E5"> we'll</font>

144
00:05:39,259 --> 00:05:49,400
dive<font color="#CCCCCC"> into in depth so real quick there</font>

145
00:05:47,930 --> 00:05:52,340
<font color="#E5E5E5">wasn't a lot of</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> lot</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> folks who have</font>

146
00:05:49,400 --> 00:05:54,198
<font color="#E5E5E5">dealt with this live in a person yet so</font>

147
00:05:52,340 --> 00:05:58,130
let's talk about<font color="#E5E5E5"> like why why we should</font>

148
00:05:54,199 --> 00:06:00,349
care<font color="#CCCCCC"> I just buy cherry</font><font color="#E5E5E5"> fix two terms</font>

149
00:05:58,130 --> 00:06:01,340
<font color="#E5E5E5">docker</font><font color="#CCCCCC"> see</font><font color="#E5E5E5"> ICD its acronym continuous</font>

150
00:06:00,349 --> 00:06:04,190
integration can use two canoes

151
00:06:01,340 --> 00:06:05,210
deployment if<font color="#CCCCCC"> I'd picked</font><font color="#E5E5E5"> I did this for</font>

152
00:06:04,190 --> 00:06:07,819
<font color="#CCCCCC">a</font><font color="#E5E5E5"> bunch</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> other</font><font color="#CCCCCC"> things</font><font color="#E5E5E5"> that just</font><font color="#CCCCCC"> didn't</font>

153
00:06:05,210 --> 00:06:09,469
<font color="#CCCCCC">all</font><font color="#E5E5E5"> fit on the slide</font><font color="#CCCCCC"> they all look like</font>

154
00:06:07,819 --> 00:06:11,509
these graphs right up<font color="#E5E5E5"> and to the right</font>

155
00:06:09,469 --> 00:06:13,789
<font color="#CCCCCC">interest is only</font><font color="#E5E5E5"> increasing these are</font>

156
00:06:11,509 --> 00:06:14,930
<font color="#E5E5E5">Google search trends by the way interest</font>

157
00:06:13,789 --> 00:06:17,150
is only increasing<font color="#CCCCCC"> these are only</font>

158
00:06:14,930 --> 00:06:20,180
becoming<font color="#E5E5E5"> more popular developers are</font>

159
00:06:17,150 --> 00:06:22,880
only moving more quickly<font color="#E5E5E5"> toward these</font>

160
00:06:20,180 --> 00:06:26,120
things because things<font color="#E5E5E5"> like docker they</font>

161
00:06:22,880 --> 00:06:28,430
enable<font color="#E5E5E5"> much cheaper cost so here if</font>

162
00:06:26,120 --> 00:06:29,750
you're<font color="#E5E5E5"> sharing a host OS with</font>

163
00:06:28,430 --> 00:06:32,979
<font color="#E5E5E5">lightweight containers you</font><font color="#CCCCCC"> can stack</font>

164
00:06:29,750 --> 00:06:36,890
<font color="#CCCCCC">Morvan on a host than you can</font>

165
00:06:32,979 --> 00:06:40,010
<font color="#CCCCCC">the same</font><font color="#E5E5E5"> the virtualized same service</font>

166
00:06:36,890 --> 00:06:43,219
see<font color="#CCCCCC"> ICD makes iteration</font><font color="#E5E5E5"> times much much</font>

167
00:06:40,010 --> 00:06:44,240
much faster<font color="#CCCCCC"> these are things developers</font>

168
00:06:43,220 --> 00:06:46,190
<font color="#E5E5E5">along these</font><font color="#CCCCCC"> are things that</font><font color="#E5E5E5"> we're going</font>

169
00:06:44,240 --> 00:06:52,730
to<font color="#E5E5E5"> have to deal with as they show up in</font>

170
00:06:46,190 --> 00:06:55,880
<font color="#CCCCCC">our in our</font><font color="#E5E5E5"> workplaces cool so let me</font>

171
00:06:52,730 --> 00:06:57,980
<font color="#E5E5E5">first before we dive into like the the</font>

172
00:06:55,880 --> 00:07:00,980
various problems<font color="#E5E5E5"> opportunities and</font>

173
00:06:57,980 --> 00:07:05,170
things that<font color="#E5E5E5"> we've built here</font><font color="#CCCCCC"> let me</font><font color="#E5E5E5"> let</font>

174
00:07:00,980 --> 00:07:07,970
me give you some context<font color="#CCCCCC"> overall about</font>

175
00:07:05,170 --> 00:07:09,650
about<font color="#CCCCCC"> home base and and the environment</font>

176
00:07:07,970 --> 00:07:10,850
which we<font color="#CCCCCC"> operate</font><font color="#E5E5E5"> I'm actually not going</font>

177
00:07:09,650 --> 00:07:17,359
<font color="#E5E5E5">to</font><font color="#CCCCCC"> reference this network map at</font><font color="#E5E5E5"> all</font>

178
00:07:10,850 --> 00:07:18,710
<font color="#E5E5E5">it's just pretty so so first of all and</font>

179
00:07:17,360 --> 00:07:20,660
and if you're<font color="#E5E5E5"> interested in this stuff</font>

180
00:07:18,710 --> 00:07:22,640
our infrastructure<font color="#E5E5E5"> team does a ton of</font>

181
00:07:20,660 --> 00:07:24,050
blogging<font color="#E5E5E5"> and talking about this you can</font>

182
00:07:22,640 --> 00:07:26,240
you can<font color="#CCCCCC"> google a bunch of</font><font color="#E5E5E5"> this stuff and</font>

183
00:07:24,050 --> 00:07:27,740
find more<font color="#E5E5E5"> details than you'd ever want</font>

184
00:07:26,240 --> 00:07:32,180
to know<font color="#E5E5E5"> about about sort of how</font><font color="#CCCCCC"> we run</font>

185
00:07:27,740 --> 00:07:34,670
our infrastructure<font color="#E5E5E5"> first we're entirely</font>

186
00:07:32,180 --> 00:07:36,680
<font color="#E5E5E5">native</font><font color="#CCCCCC"> US hundred percent of our of</font><font color="#E5E5E5"> our</font>

187
00:07:34,670 --> 00:07:38,840
hosts in<font color="#E5E5E5"> production dev test all that</font>

188
00:07:36,680 --> 00:07:40,640
<font color="#E5E5E5">stuff that's all any of</font><font color="#CCCCCC"> us</font>

189
00:07:38,840 --> 00:07:42,950
so everything in<font color="#E5E5E5"> our environments</font><font color="#CCCCCC"> either</font>

190
00:07:40,640 --> 00:07:45,950
on an ec2 container or as a service

191
00:07:42,950 --> 00:07:47,750
provided<font color="#CCCCCC"> by Amazon</font><font color="#E5E5E5"> every piece of code</font>

192
00:07:45,950 --> 00:07:52,130
in our environment is deployed in a

193
00:07:47,750 --> 00:07:54,350
docker container<font color="#E5E5E5"> then built sort of via</font>

194
00:07:52,130 --> 00:07:55,130
our<font color="#CCCCCC"> build pipeline we followed</font><font color="#E5E5E5"> immutable</font>

195
00:07:54,350 --> 00:07:57,500
deployment concepts

196
00:07:55,130 --> 00:08:00,110
every time we deploy each one of those

197
00:07:57,500 --> 00:08:03,260
<font color="#E5E5E5">pretty little squares on the on the</font>

198
00:08:00,110 --> 00:08:05,570
diagram<font color="#CCCCCC"> there that is a full rebuild and</font>

199
00:08:03,260 --> 00:08:08,060
teardown<font color="#E5E5E5"> with nothing in common between</font>

200
00:08:05,570 --> 00:08:09,860
<font color="#CCCCCC">deployments right so so an example there</font>

201
00:08:08,060 --> 00:08:13,820
we deployed the service<font color="#E5E5E5"> that hosts</font>

202
00:08:09,860 --> 00:08:16,580
<font color="#CCCCCC">Clarence comm</font><font color="#E5E5E5"> it's one of those</font><font color="#CCCCCC"> boxes</font>

203
00:08:13,820 --> 00:08:20,330
somewhere<font color="#E5E5E5"> what actually literally</font>

204
00:08:16,580 --> 00:08:22,310
happens is we spin<font color="#CCCCCC"> up 22</font><font color="#E5E5E5"> instances in</font>

205
00:08:20,330 --> 00:08:25,310
ec2 we pull new containers into those

206
00:08:22,310 --> 00:08:26,690
from the new<font color="#E5E5E5"> codebase we do what's</font>

207
00:08:25,310 --> 00:08:28,760
called a<font color="#CCCCCC"> blue-green deployment which is</font>

208
00:08:26,690 --> 00:08:29,960
we roll traffic using the load balancer

209
00:08:28,760 --> 00:08:32,718
<font color="#CCCCCC">from the old store</font><font color="#E5E5E5"> for the new stuff and</font>

210
00:08:29,960 --> 00:08:33,610
we tear<font color="#CCCCCC"> down the old stuff never to be</font>

211
00:08:32,719 --> 00:08:37,520
<font color="#E5E5E5">seen again</font>

212
00:08:33,610 --> 00:08:38,930
we do<font color="#E5E5E5"> this</font><font color="#CCCCCC"> like I said before it depends</font>

213
00:08:37,520 --> 00:08:40,549
<font color="#E5E5E5">on the service</font><font color="#CCCCCC"> for running and how</font>

214
00:08:38,929 --> 00:08:43,609
<font color="#CCCCCC">popular how much how much</font><font color="#E5E5E5"> def time it's</font>

215
00:08:40,549 --> 00:08:45,709
<font color="#E5E5E5">gotten but between I'd say 15 and 22</font>

216
00:08:43,610 --> 00:08:47,240
times a day<font color="#E5E5E5"> for the more popular</font>

217
00:08:45,710 --> 00:08:49,320
services for the less popular we do it

218
00:08:47,240 --> 00:08:52,230
maybe once<font color="#E5E5E5"> every couple</font><font color="#CCCCCC"> days</font>

219
00:08:49,320 --> 00:08:53,400
<font color="#E5E5E5">um now like I</font><font color="#CCCCCC"> said</font><font color="#E5E5E5"> before we're not</font>

220
00:08:52,230 --> 00:08:54,090
going to<font color="#E5E5E5"> talk about a bunch of stuff one</font>

221
00:08:53,400 --> 00:08:56,150
<font color="#E5E5E5">of the things we're going to</font><font color="#CCCCCC"> talk about</font>

222
00:08:54,090 --> 00:08:58,650
is the whole software<font color="#E5E5E5"> security stack</font>

223
00:08:56,150 --> 00:09:00,540
<font color="#E5E5E5">that follows along with</font><font color="#CCCCCC"> this the the</font>

224
00:08:58,650 --> 00:09:02,280
stack analysis and<font color="#CCCCCC"> iMac analysis all</font>

225
00:09:00,540 --> 00:09:03,270
that fun stuff<font color="#CCCCCC"> it's actually really</font>

226
00:09:02,280 --> 00:09:05,390
really<font color="#E5E5E5"> interesting and</font><font color="#CCCCCC"> it's a whole</font>

227
00:09:03,270 --> 00:09:07,290
separate talk maybe<font color="#CCCCCC"> like if</font><font color="#E5E5E5"> it next year</font>

228
00:09:05,390 --> 00:09:08,970
<font color="#CCCCCC">but it's a little bit outside the</font><font color="#E5E5E5"> scope</font>

229
00:09:07,290 --> 00:09:13,079
<font color="#CCCCCC">of the of the of these sort of the</font><font color="#E5E5E5"> I our</font>

230
00:09:08,970 --> 00:09:14,940
focus here<font color="#CCCCCC"> next thing we do is is we</font>

231
00:09:13,080 --> 00:09:16,380
segment most of the docker details from

232
00:09:14,940 --> 00:09:17,280
the engineers the engineers just<font color="#E5E5E5"> want to</font>

233
00:09:16,380 --> 00:09:20,400
write code<font color="#E5E5E5"> they don't want to deal with</font>

234
00:09:17,280 --> 00:09:22,380
like<font color="#CCCCCC"> 50,000 other things about</font><font color="#E5E5E5"> docker</font>

235
00:09:20,400 --> 00:09:23,430
<font color="#E5E5E5">and security groups and firewalls</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> I</font>

236
00:09:22,380 --> 00:09:25,710
watch it

237
00:09:23,430 --> 00:09:27,390
<font color="#E5E5E5">so we segment all that out from them</font>

238
00:09:25,710 --> 00:09:29,730
they have to do like two or three basic

239
00:09:27,390 --> 00:09:31,740
things in a docker file in their project

240
00:09:29,730 --> 00:09:33,540
<font color="#E5E5E5">that's it and that also means they don't</font>

241
00:09:31,740 --> 00:09:34,800
<font color="#E5E5E5">have control</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> anything below</font><font color="#CCCCCC"> that</font>

242
00:09:33,540 --> 00:09:36,680
stack<font color="#E5E5E5"> we'll talk more about this later</font>

243
00:09:34,800 --> 00:09:42,990
<font color="#E5E5E5">too</font>

244
00:09:36,680 --> 00:09:44,609
let's see yeah so we've done a bunch of

245
00:09:42,990 --> 00:09:46,650
work<font color="#CCCCCC"> around this stuff to make our</font>

246
00:09:44,610 --> 00:09:48,060
<font color="#CCCCCC">environment friendly this stuff</font><font color="#E5E5E5"> a lot of</font>

247
00:09:46,650 --> 00:09:51,030
<font color="#E5E5E5">environments and we'll talk about this</font>

248
00:09:48,060 --> 00:09:52,770
are not like coinbase<font color="#E5E5E5"> when containers</font>

249
00:09:51,030 --> 00:09:54,510
<font color="#E5E5E5">and these concepts first</font><font color="#CCCCCC"> rolled into</font>

250
00:09:52,770 --> 00:09:57,270
<font color="#E5E5E5">organizations frequently it's the wild</font>

251
00:09:54,510 --> 00:09:58,800
wild<font color="#CCCCCC"> west</font><font color="#E5E5E5"> right for example if you're an</font>

252
00:09:57,270 --> 00:10:00,660
organization<font color="#E5E5E5"> where a dev team decides</font>

253
00:09:58,800 --> 00:10:02,339
hey look I want<font color="#E5E5E5"> to use containers you</font>

254
00:10:00,660 --> 00:10:04,980
have<font color="#CCCCCC"> this beautiful</font><font color="#E5E5E5"> managed host OS</font>

255
00:10:02,340 --> 00:10:07,080
<font color="#E5E5E5">right it's patched updated security</font>

256
00:10:04,980 --> 00:10:09,240
<font color="#CCCCCC">scanned it's gorgeous best thing in the</font>

257
00:10:07,080 --> 00:10:10,950
world<font color="#CCCCCC"> and then suddenly you have Randall</font>

258
00:10:09,240 --> 00:10:12,960
like<font color="#E5E5E5"> gin two containers and some</font>

259
00:10:10,950 --> 00:10:15,480
<font color="#CCCCCC">sentence</font><font color="#E5E5E5"> containers and maybe an alpine</font>

260
00:10:12,960 --> 00:10:15,810
container and stuff you didn't even know

261
00:10:15,480 --> 00:10:17,760
was there

262
00:10:15,810 --> 00:10:18,839
<font color="#E5E5E5">right and none of the scanning tools you</font>

263
00:10:17,760 --> 00:10:21,270
use are going to pick<font color="#E5E5E5"> up with</font><font color="#CCCCCC"> implied</font><font color="#E5E5E5"> a</font>

264
00:10:18,840 --> 00:10:23,310
<font color="#E5E5E5">docker container and and then it's just</font>

265
00:10:21,270 --> 00:10:24,840
it's<font color="#CCCCCC"> just pain</font><font color="#E5E5E5"> because as soon as one of</font>

266
00:10:23,310 --> 00:10:26,729
<font color="#E5E5E5">those is popped you hop on</font><font color="#CCCCCC"> the Box</font>

267
00:10:24,840 --> 00:10:28,620
thinking yep I got<font color="#E5E5E5"> my plan I got my</font><font color="#CCCCCC"> IR</font>

268
00:10:26,730 --> 00:10:30,390
we're ready to go and you're<font color="#E5E5E5"> like what's</font>

269
00:10:28,620 --> 00:10:32,760
this<font color="#CCCCCC"> jindo thing where did this come</font>

270
00:10:30,390 --> 00:10:34,260
from<font color="#E5E5E5"> I'm not set up to use gin</font><font color="#CCCCCC"> too but</font>

271
00:10:32,760 --> 00:10:36,270
there's a logging<font color="#E5E5E5"> right it's doing</font><font color="#CCCCCC"> none</font>

272
00:10:34,260 --> 00:10:37,380
<font color="#E5E5E5">of the good things so we're going</font><font color="#CCCCCC"> to</font>

273
00:10:36,270 --> 00:10:40,290
<font color="#E5E5E5">talk about</font><font color="#CCCCCC"> how</font><font color="#E5E5E5"> to how to</font><font color="#CCCCCC"> solve that</font>

274
00:10:37,380 --> 00:10:41,820
<font color="#E5E5E5">problem</font><font color="#CCCCCC"> I see a</font><font color="#E5E5E5"> couple</font><font color="#CCCCCC"> people blasting</font>

275
00:10:40,290 --> 00:10:48,060
<font color="#E5E5E5">in the audience a lot said that I think</font>

276
00:10:41,820 --> 00:10:54,080
I think<font color="#CCCCCC"> you're sharing my</font><font color="#E5E5E5"> pain</font><font color="#CCCCCC"> cool we</font>

277
00:10:48,060 --> 00:10:54,079
<font color="#CCCCCC">are more or less</font><font color="#E5E5E5"> on time awesome</font>

278
00:10:57,050 --> 00:11:04,589
let's see<font color="#CCCCCC"> uh so the first step to great</font>

279
00:11:01,230 --> 00:11:06,990
<font color="#CCCCCC">degrades in response</font><font color="#E5E5E5"> this preparation</font>

280
00:11:04,589 --> 00:11:09,480
<font color="#CCCCCC">right like</font><font color="#E5E5E5"> anything else you want to</font>

281
00:11:06,990 --> 00:11:12,509
make<font color="#CCCCCC"> sure that</font><font color="#E5E5E5"> the that before</font><font color="#CCCCCC"> you ever</font>

282
00:11:09,480 --> 00:11:14,100
<font color="#E5E5E5">roll</font><font color="#CCCCCC"> into an incident</font><font color="#E5E5E5"> you have the right</font>

283
00:11:12,509 --> 00:11:17,009
knowledge the right tools the right

284
00:11:14,100 --> 00:11:21,600
processes<font color="#CCCCCC"> it's practice like you're good</font>

285
00:11:17,009 --> 00:11:23,910
to<font color="#CCCCCC"> go so</font><font color="#E5E5E5"> let's talk about preparation in</font>

286
00:11:21,600 --> 00:11:26,130
<font color="#CCCCCC">the context of containers like one of</font>

287
00:11:23,910 --> 00:11:28,469
the if you<font color="#CCCCCC"> look at any security</font>

288
00:11:26,130 --> 00:11:30,360
standards anywhere<font color="#E5E5E5"> right the CSC 20 the</font>

289
00:11:28,470 --> 00:11:33,149
the<font color="#E5E5E5"> Australian government one is pretty</font>

290
00:11:30,360 --> 00:11:34,769
cool any of them<font color="#CCCCCC"> somewhere on that list</font>

291
00:11:33,149 --> 00:11:36,000
probably<font color="#E5E5E5"> near the top is going to be hey</font>

292
00:11:34,769 --> 00:11:38,100
<font color="#E5E5E5">you should know what systems and</font>

293
00:11:36,000 --> 00:11:39,660
<font color="#CCCCCC">software you're running</font><font color="#E5E5E5"> that's going to</font>

294
00:11:38,100 --> 00:11:43,829
inform<font color="#CCCCCC"> like how you do into</font><font color="#E5E5E5"> the response</font>

295
00:11:39,660 --> 00:11:45,060
the tools you use all that<font color="#E5E5E5"> fun stuff</font><font color="#CCCCCC"> in</font>

296
00:11:43,829 --> 00:11:46,439
situation<font color="#E5E5E5"> ID you talked about right</font>

297
00:11:45,060 --> 00:11:48,630
where some a couple of dev team

298
00:11:46,440 --> 00:11:50,519
somewhere suddenly installed<font color="#E5E5E5"> like randos</font>

299
00:11:48,630 --> 00:11:53,399
software it's not<font color="#E5E5E5"> scan it's not</font><font color="#CCCCCC"> pass</font><font color="#E5E5E5"> not</font>

300
00:11:50,519 --> 00:11:55,470
updated how do we how do we take<font color="#CCCCCC"> that</font>

301
00:11:53,399 --> 00:11:57,240
situation and walk that back to a place

302
00:11:55,470 --> 00:12:00,259
<font color="#E5E5E5">where you're</font><font color="#CCCCCC"> walking into a situation</font>

303
00:11:57,240 --> 00:12:02,579
that<font color="#E5E5E5"> you understand</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> where you have</font>

304
00:12:00,259 --> 00:12:05,420
you know<font color="#E5E5E5"> the tools and processes ready</font>

305
00:12:02,579 --> 00:12:09,750
here so<font color="#E5E5E5"> first of all and most important</font>

306
00:12:05,420 --> 00:12:12,810
<font color="#E5E5E5">for us has</font><font color="#CCCCCC"> been to establish</font><font color="#E5E5E5"> managed</font>

307
00:12:09,750 --> 00:12:14,610
base containers so the containers

308
00:12:12,810 --> 00:12:17,550
especially docker have<font color="#E5E5E5"> this have this</font>

309
00:12:14,610 --> 00:12:19,470
concept of<font color="#E5E5E5"> layering</font><font color="#CCCCCC"> right so container a</font>

310
00:12:17,550 --> 00:12:21,089
is layered on B is layered<font color="#E5E5E5"> on C is</font>

311
00:12:19,470 --> 00:12:24,389
layered<font color="#E5E5E5"> on D what this means is you can</font>

312
00:12:21,089 --> 00:12:27,750
have call it like a base<font color="#E5E5E5"> CentOS 7</font>

313
00:12:24,389 --> 00:12:30,509
container<font color="#E5E5E5"> raid where you install</font><font color="#CCCCCC"> you</font>

314
00:12:27,750 --> 00:12:32,130
know<font color="#CCCCCC"> nodes support</font><font color="#E5E5E5"> go support</font><font color="#CCCCCC"> Ruby</font>

315
00:12:30,509 --> 00:12:34,860
support that's<font color="#E5E5E5"> three separate base</font>

316
00:12:32,130 --> 00:12:36,000
containers<font color="#CCCCCC"> very thinly layered on top</font><font color="#E5E5E5"> of</font>

317
00:12:34,860 --> 00:12:38,250
this one<font color="#E5E5E5"> base container and you can</font>

318
00:12:36,000 --> 00:12:40,259
continue<font color="#E5E5E5"> layering on</font><font color="#CCCCCC"> top of previous</font>

319
00:12:38,250 --> 00:12:42,600
existing containers essentially

320
00:12:40,259 --> 00:12:45,420
infinitely<font color="#CCCCCC"> alright this is</font><font color="#E5E5E5"> pretty cool</font>

321
00:12:42,600 --> 00:12:48,060
<font color="#CCCCCC">because</font><font color="#E5E5E5"> this means I can control the</font>

322
00:12:45,420 --> 00:12:51,060
base OS container<font color="#CCCCCC"> and I can let my</font>

323
00:12:48,060 --> 00:12:54,329
developers just sort of layer on a<font color="#CCCCCC"> cadet</font>

324
00:12:51,060 --> 00:12:56,699
<font color="#CCCCCC">I get to control sort of the core OS of</font>

325
00:12:54,329 --> 00:13:01,229
what's<font color="#E5E5E5"> going on</font><font color="#CCCCCC"> I get to</font><font color="#E5E5E5"> control it a</font>

326
00:12:56,699 --> 00:13:03,389
very fine-grained layer the second piece

327
00:13:01,230 --> 00:13:05,189
there<font color="#CCCCCC"> is sort of related</font><font color="#E5E5E5"> we don't allow</font>

328
00:13:03,389 --> 00:13:06,360
people<font color="#E5E5E5"> to deploy random containers in</font>

329
00:13:05,189 --> 00:13:08,969
our environment<font color="#E5E5E5"> and I would encourage</font>

330
00:13:06,360 --> 00:13:11,250
you not<font color="#CCCCCC"> to as well</font>

331
00:13:08,970 --> 00:13:12,930
the<font color="#E5E5E5"> docker hub if you go look at</font><font color="#CCCCCC"> it is</font>

332
00:13:11,250 --> 00:13:14,790
<font color="#CCCCCC">really</font><font color="#E5E5E5"> cool there's a lot of prepackaged</font>

333
00:13:12,930 --> 00:13:16,050
software there in fact<font color="#E5E5E5"> and this is</font>

334
00:13:14,790 --> 00:13:18,060
actually the genesis<font color="#E5E5E5"> of this talk if you</font>

335
00:13:16,050 --> 00:13:19,589
go<font color="#CCCCCC"> google doc</font><font color="#E5E5E5"> or incident response</font><font color="#CCCCCC"> what</font>

336
00:13:18,060 --> 00:13:21,750
you're going<font color="#CCCCCC"> to find are about five</font>

337
00:13:19,590 --> 00:13:24,150
pages<font color="#CCCCCC"> of google about containers that</font>

338
00:13:21,750 --> 00:13:25,230
<font color="#E5E5E5">you can use during</font><font color="#CCCCCC"> it's in</font><font color="#E5E5E5"> response as</font>

339
00:13:24,150 --> 00:13:28,949
opposed to any<font color="#E5E5E5"> information about</font>

340
00:13:25,230 --> 00:13:30,150
incident response involving docker<font color="#CCCCCC"> all</font>

341
00:13:28,950 --> 00:13:32,370
those containers are super<font color="#E5E5E5"> awesome</font>

342
00:13:30,150 --> 00:13:33,660
<font color="#E5E5E5">really cool you have no idea who built</font>

343
00:13:32,370 --> 00:13:34,860
them you have no<font color="#E5E5E5"> idea</font><font color="#CCCCCC"> who set them up</font>

344
00:13:33,660 --> 00:13:36,630
you have<font color="#CCCCCC"> no idea what based containers</font>

345
00:13:34,860 --> 00:13:37,800
<font color="#CCCCCC">they were built</font><font color="#E5E5E5"> they were built upon or</font>

346
00:13:36,630 --> 00:13:39,060
what<font color="#E5E5E5"> software is installed in them</font><font color="#CCCCCC"> I</font>

347
00:13:37,800 --> 00:13:41,459
would<font color="#E5E5E5"> encourage you not to let them run</font>

348
00:13:39,060 --> 00:13:46,229
in<font color="#E5E5E5"> your</font><font color="#CCCCCC"> environment</font><font color="#E5E5E5"> because of</font><font color="#CCCCCC"> that so</font>

349
00:13:41,460 --> 00:13:48,570
these two<font color="#CCCCCC"> things are actually</font><font color="#E5E5E5"> have alpha</font>

350
00:13:46,230 --> 00:13:50,130
supports<font color="#E5E5E5"> in several of</font><font color="#CCCCCC"> the of the</font>

351
00:13:48,570 --> 00:13:51,450
orchestra<font color="#E5E5E5"> orchestration layers right so</font>

352
00:13:50,130 --> 00:13:53,850
these<font color="#E5E5E5"> are</font><font color="#CCCCCC"> things that say hey this</font>

353
00:13:51,450 --> 00:13:56,280
container runs in that place and it runs

354
00:13:53,850 --> 00:13:57,630
this<font color="#E5E5E5"> software version</font><font color="#CCCCCC"> one of the</font><font color="#E5E5E5"> most</font>

355
00:13:56,280 --> 00:14:00,720
popular ones is<font color="#CCCCCC"> called kubernetes it's</font>

356
00:13:57,630 --> 00:14:02,880
from<font color="#CCCCCC"> google it's</font><font color="#E5E5E5"> what they</font><font color="#CCCCCC"> say it's what</font>

357
00:14:00,720 --> 00:14:05,580
<font color="#CCCCCC">you see gcp</font><font color="#E5E5E5"> their google cloud platform</font>

358
00:14:02,880 --> 00:14:07,980
is<font color="#E5E5E5"> based on it's based on I think</font><font color="#CCCCCC"> much</font>

359
00:14:05,580 --> 00:14:11,220
more<font color="#CCCCCC"> developed version</font><font color="#E5E5E5"> than is of the</font>

360
00:14:07,980 --> 00:14:12,870
<font color="#CCCCCC">cue bays</font><font color="#E5E5E5"> that is open source</font><font color="#CCCCCC"> so there's</font>

361
00:14:11,220 --> 00:14:17,190
<font color="#E5E5E5">elfin support there we've actually had</font>

362
00:14:12,870 --> 00:14:21,000
to<font color="#CCCCCC"> build</font><font color="#E5E5E5"> our own thing which is all the</font>

363
00:14:17,190 --> 00:14:25,590
<font color="#E5E5E5">way to being</font><font color="#CCCCCC"> open source they're their</font>

364
00:14:21,000 --> 00:14:26,640
obstacles<font color="#CCCCCC"> but</font><font color="#E5E5E5"> those two controls</font><font color="#CCCCCC"> if you</font>

365
00:14:25,590 --> 00:14:29,970
end<font color="#E5E5E5"> up in this</font><font color="#CCCCCC"> environment I would</font>

366
00:14:26,640 --> 00:14:31,380
<font color="#CCCCCC">encourage you are the most important to</font>

367
00:14:29,970 --> 00:14:32,520
making<font color="#CCCCCC"> sure the environments you run in</font>

368
00:14:31,380 --> 00:14:36,390
is the environment<font color="#CCCCCC"> you think you're</font>

369
00:14:32,520 --> 00:14:37,770
running<font color="#E5E5E5"> it after that so</font><font color="#CCCCCC"> Claire is a</font>

370
00:14:36,390 --> 00:14:39,800
really fun project<font color="#E5E5E5"> I should talk about</font>

371
00:14:37,770 --> 00:14:42,240
<font color="#E5E5E5">talking</font><font color="#CCCCCC"> about briefly Claire is a</font>

372
00:14:39,800 --> 00:14:44,310
vulnerability scanner<font color="#E5E5E5"> for containers</font>

373
00:14:42,240 --> 00:14:46,560
<font color="#CCCCCC">it's specifically built to</font><font color="#E5E5E5"> work with</font>

374
00:14:44,310 --> 00:14:48,479
docker<font color="#E5E5E5"> and you could point it at a</font>

375
00:14:46,560 --> 00:14:50,219
docker container and it will go down

376
00:14:48,480 --> 00:14:51,600
layer by layer<font color="#E5E5E5"> and tell you hey this</font>

377
00:14:50,220 --> 00:14:53,610
this container is<font color="#E5E5E5"> running this software</font>

378
00:14:51,600 --> 00:14:55,710
which has this this you know<font color="#CCCCCC"> CV</font>

379
00:14:53,610 --> 00:14:56,280
associated with it<font color="#CCCCCC"> you should you should</font>

380
00:14:55,710 --> 00:14:58,680
fix that

381
00:14:56,280 --> 00:15:00,810
it'll also tell you whether that that

382
00:14:58,680 --> 00:15:03,209
layer is actually<font color="#E5E5E5"> exposed right so this</font>

383
00:15:00,810 --> 00:15:04,709
layering concept has one interesting

384
00:15:03,210 --> 00:15:08,430
<font color="#E5E5E5">side effect that is what if you have a</font>

385
00:15:04,710 --> 00:15:10,470
base layer that has a version<font color="#E5E5E5"> of</font><font color="#CCCCCC"> open</font>

386
00:15:08,430 --> 00:15:11,430
<font color="#CCCCCC">SSL installed right and you get</font><font color="#E5E5E5"> another</font>

387
00:15:10,470 --> 00:15:13,170
layer on<font color="#CCCCCC"> top of that that has a</font>

388
00:15:11,430 --> 00:15:16,469
different version<font color="#E5E5E5"> of open SSL installed</font>

389
00:15:13,170 --> 00:15:18,060
well the in container has that second

390
00:15:16,470 --> 00:15:20,130
<font color="#CCCCCC">version of open SSL expose but</font><font color="#E5E5E5"> that</font>

391
00:15:18,060 --> 00:15:21,569
<font color="#E5E5E5">first one is still there</font><font color="#CCCCCC"> and at some</font>

392
00:15:20,130 --> 00:15:22,590
<font color="#E5E5E5">point in the</font><font color="#CCCCCC"> future the developer</font>

393
00:15:21,570 --> 00:15:25,020
decides I'd actually

394
00:15:22,590 --> 00:15:26,910
<font color="#CCCCCC">OpenSSL anymore then suddenly magically</font>

395
00:15:25,020 --> 00:15:30,150
the version<font color="#E5E5E5"> below that is exposed to the</font>

396
00:15:26,910 --> 00:15:31,560
world<font color="#E5E5E5"> right really annoying</font><font color="#CCCCCC"> so Claire</font>

397
00:15:30,150 --> 00:15:33,779
does a really great job of flagging

398
00:15:31,560 --> 00:15:36,089
<font color="#E5E5E5">those sort of probe owner abilities as</font>

399
00:15:33,779 --> 00:15:39,750
well<font color="#E5E5E5"> so that you can patch all the way</font>

400
00:15:36,090 --> 00:15:44,370
up<font color="#CCCCCC"> your container stack the next one is</font>

401
00:15:39,750 --> 00:15:45,660
also<font color="#E5E5E5"> really important</font><font color="#CCCCCC"> don't</font><font color="#E5E5E5"> let don't</font>

402
00:15:44,370 --> 00:15:48,990
<font color="#E5E5E5">let developers do whatever they want in</font>

403
00:15:45,660 --> 00:15:52,140
a docker file there's a lot of<font color="#CCCCCC"> of stuff</font>

404
00:15:48,990 --> 00:15:53,820
they can do for<font color="#E5E5E5"> instance</font><font color="#CCCCCC"> we talked</font><font color="#E5E5E5"> about</font>

405
00:15:52,140 --> 00:15:55,680
you know that that that vulnerable

406
00:15:53,820 --> 00:15:58,350
library right<font color="#E5E5E5"> so you're running clear</font>

407
00:15:55,680 --> 00:15:59,400
<font color="#E5E5E5">you're scanning your docker file you</font>

408
00:15:58,350 --> 00:16:02,190
make sure all your packages<font color="#E5E5E5"> are good to</font>

409
00:15:59,400 --> 00:16:03,420
go<font color="#E5E5E5"> everything's beautiful</font><font color="#CCCCCC"> and then in a</font>

410
00:16:02,190 --> 00:16:05,010
docker file somewhere<font color="#E5E5E5"> an engineer just</font>

411
00:16:03,420 --> 00:16:06,300
<font color="#CCCCCC">curls down some Rando bridge going to</font>

412
00:16:05,010 --> 00:16:09,420
library from<font color="#E5E5E5"> the internet and says hey</font>

413
00:16:06,300 --> 00:16:11,010
<font color="#CCCCCC">many</font><font color="#E5E5E5"> use this now right not not what I</font>

414
00:16:09,420 --> 00:16:12,510
want<font color="#E5E5E5"> to see in my</font><font color="#CCCCCC"> environment because</font>

415
00:16:11,010 --> 00:16:13,710
when I roll into the response my

416
00:16:12,510 --> 00:16:16,080
expectation is<font color="#E5E5E5"> of you running this</font>

417
00:16:13,710 --> 00:16:19,740
version<font color="#E5E5E5"> of the package it's it has these</font>

418
00:16:16,080 --> 00:16:21,000
known vulnerabilities or doesn't come to

419
00:16:19,740 --> 00:16:23,339
find that I'm totally<font color="#E5E5E5"> wrong because</font>

420
00:16:21,000 --> 00:16:26,490
we've curled<font color="#CCCCCC"> down half a dozen libraries</font>

421
00:16:23,339 --> 00:16:27,420
and everything<font color="#CCCCCC"> is all is all weird there</font>

422
00:16:26,490 --> 00:16:28,650
are a<font color="#E5E5E5"> couple of really great I've</font>

423
00:16:27,420 --> 00:16:31,620
referenced from there they're like two

424
00:16:28,650 --> 00:16:33,660
of<font color="#CCCCCC"> the other docker file injures</font><font color="#E5E5E5"> that</font>

425
00:16:31,620 --> 00:16:37,170
are really outstanding<font color="#E5E5E5"> at letting you</font>

426
00:16:33,660 --> 00:16:39,780
pick apart this stuff<font color="#E5E5E5"> and say hey don't</font>

427
00:16:37,170 --> 00:16:44,449
don't<font color="#E5E5E5"> run curl to bash in a docker file</font>

428
00:16:39,780 --> 00:16:47,579
just<font color="#E5E5E5"> don't just stop that</font><font color="#CCCCCC"> so all this</font>

429
00:16:44,450 --> 00:16:50,360
the<font color="#E5E5E5"> point of all this is in a perfect</font>

430
00:16:47,580 --> 00:16:53,400
<font color="#E5E5E5">world you will be</font><font color="#CCCCCC"> able</font><font color="#E5E5E5"> to go from a</font>

431
00:16:50,360 --> 00:16:54,810
<font color="#E5E5E5">version of a package to a list of</font>

432
00:16:53,400 --> 00:16:57,290
running containers<font color="#E5E5E5"> that have that</font>

433
00:16:54,810 --> 00:17:01,640
package<font color="#E5E5E5"> installed in a single step</font><font color="#CCCCCC"> right</font>

434
00:16:57,290 --> 00:17:04,379
<font color="#CCCCCC">and</font><font color="#E5E5E5"> I think</font><font color="#CCCCCC"> that it really</font><font color="#E5E5E5"> gets you on</font>

435
00:17:01,640 --> 00:17:07,859
<font color="#CCCCCC">part least part</font><font color="#E5E5E5"> of a solid</font><font color="#CCCCCC"> foundation to</font>

436
00:17:04,380 --> 00:17:09,030
<font color="#E5E5E5">making</font><font color="#CCCCCC"> sure that when you roll in an</font>

437
00:17:07,859 --> 00:17:11,458
instant<font color="#CCCCCC"> response you roll into an</font>

438
00:17:09,030 --> 00:17:12,839
environment<font color="#CCCCCC"> that</font><font color="#E5E5E5"> you expect to</font><font color="#CCCCCC"> be in</font><font color="#E5E5E5"> not</font>

439
00:17:11,459 --> 00:17:18,630
<font color="#E5E5E5">an</font><font color="#CCCCCC"> environment that's completely</font><font color="#E5E5E5"> foreign</font>

440
00:17:12,839 --> 00:17:19,678
to you another preparation and this is

441
00:17:18,630 --> 00:17:22,319
actually a good thing

442
00:17:19,679 --> 00:17:25,050
it's<font color="#CCCCCC"> not a</font><font color="#E5E5E5"> bad thing container should be</font>

443
00:17:22,319 --> 00:17:29,580
<font color="#E5E5E5">single purpose right running running in</font>

444
00:17:25,050 --> 00:17:31,080
a container<font color="#CCCCCC"> generally means you have one</font>

445
00:17:29,580 --> 00:17:33,530
maybe two processes running<font color="#E5E5E5"> within a</font>

446
00:17:31,080 --> 00:17:35,220
container it's generally<font color="#CCCCCC"> doing one</font>

447
00:17:33,530 --> 00:17:38,639
specific

448
00:17:35,220 --> 00:17:41,250
within that<font color="#E5E5E5"> container</font><font color="#CCCCCC"> which means you</font>

449
00:17:38,640 --> 00:17:44,010
can dramatically restrict the privileges

450
00:17:41,250 --> 00:17:45,720
<font color="#E5E5E5">and the access</font><font color="#CCCCCC"> of that</font><font color="#E5E5E5"> container has and</font>

451
00:17:44,010 --> 00:17:49,200
there's a ton<font color="#CCCCCC"> of cool tools to do this</font>

452
00:17:45,720 --> 00:17:50,910
<font color="#CCCCCC">so</font><font color="#E5E5E5"> first of all you can make that that</font>

453
00:17:49,200 --> 00:17:53,610
<font color="#CCCCCC">managed</font><font color="#E5E5E5"> based on us</font><font color="#CCCCCC"> we talked about can</font>

454
00:17:50,910 --> 00:17:56,730
<font color="#CCCCCC">be</font><font color="#E5E5E5"> extremely small</font><font color="#CCCCCC"> alpine Linux I think</font>

455
00:17:53,610 --> 00:18:00,719
the<font color="#E5E5E5"> the default base there is about 10</font>

456
00:17:56,730 --> 00:18:03,420
Meg's<font color="#CCCCCC"> of user land it</font><font color="#E5E5E5"> actually</font><font color="#CCCCCC"> uses lib</font>

457
00:18:00,720 --> 00:18:06,690
muscle not<font color="#E5E5E5"> G Lib C so you just drop that</font>

458
00:18:03,420 --> 00:18:09,960
<font color="#E5E5E5">whole class of vulnerabilities</font><font color="#CCCCCC"> which is</font>

459
00:18:06,690 --> 00:18:12,450
super cool<font color="#CCCCCC"> in some cases we actually can</font>

460
00:18:09,960 --> 00:18:14,430
you can deploy a service if it's<font color="#E5E5E5"> a</font>

461
00:18:12,450 --> 00:18:16,470
compiled<font color="#CCCCCC"> service and using what's called</font>

462
00:18:14,430 --> 00:18:19,890
a scratch container which is no use<font color="#E5E5E5"> your</font>

463
00:18:16,470 --> 00:18:21,900
land at all<font color="#CCCCCC"> so like</font><font color="#E5E5E5"> go is great for this</font>

464
00:18:19,890 --> 00:18:22,860
<font color="#E5E5E5">some of our more critical services that</font>

465
00:18:21,900 --> 00:18:25,080
we write and<font color="#CCCCCC"> go</font>

466
00:18:22,860 --> 00:18:26,729
we deploying<font color="#E5E5E5"> scratched containers we</font>

467
00:18:25,080 --> 00:18:29,189
deployed the service itself and whatever

468
00:18:26,730 --> 00:18:32,460
libraries are linked against which is

469
00:18:29,190 --> 00:18:34,590
really cool<font color="#CCCCCC"> both from a response</font>

470
00:18:32,460 --> 00:18:36,990
perspective and and from<font color="#E5E5E5"> a sort of</font>

471
00:18:34,590 --> 00:18:39,330
attack mitigation perspective<font color="#E5E5E5"> being an</font>

472
00:18:36,990 --> 00:18:41,310
attacker in an environment with<font color="#E5E5E5"> zero</font>

473
00:18:39,330 --> 00:18:44,189
user land<font color="#E5E5E5"> that's continuously deployed</font>

474
00:18:41,310 --> 00:18:47,129
so it rolls<font color="#E5E5E5"> once an hour</font><font color="#CCCCCC"> or so I imagine</font>

475
00:18:44,190 --> 00:18:52,710
<font color="#CCCCCC">could</font><font color="#E5E5E5"> be quite frustrating hopefully</font>

476
00:18:47,130 --> 00:18:55,320
that's the goal at least<font color="#E5E5E5"> right so two of</font>

477
00:18:52,710 --> 00:18:58,830
the things capabilities<font color="#CCCCCC"> in set comp are</font>

478
00:18:55,320 --> 00:19:01,050
are really really awesome<font color="#CCCCCC"> capabilities</font>

479
00:18:58,830 --> 00:19:05,250
these are both<font color="#E5E5E5"> sort of Linux kernel</font>

480
00:19:01,050 --> 00:19:07,700
features that allow you to<font color="#E5E5E5"> restrict what</font>

481
00:19:05,250 --> 00:19:12,630
a given binary<font color="#E5E5E5"> or set of binary scan do</font>

482
00:19:07,700 --> 00:19:16,380
<font color="#CCCCCC">so capabilities lets you either drop or</font>

483
00:19:12,630 --> 00:19:18,600
add add<font color="#CCCCCC"> the</font><font color="#E5E5E5"> ability</font><font color="#CCCCCC"> for a binary</font><font color="#E5E5E5"> to do</font>

484
00:19:16,380 --> 00:19:22,710
specific things<font color="#E5E5E5"> without giving it</font>

485
00:19:18,600 --> 00:19:27,000
<font color="#E5E5E5">overall elevated privileges</font><font color="#CCCCCC"> so the the</font>

486
00:19:22,710 --> 00:19:28,050
quintessential<font color="#CCCCCC"> example here is</font><font color="#E5E5E5"> the so</font>

487
00:19:27,000 --> 00:19:29,400
say you<font color="#E5E5E5"> wanna let you have a service</font>

488
00:19:28,050 --> 00:19:32,070
<font color="#E5E5E5">that's</font><font color="#CCCCCC"> running it's running on a port</font>

489
00:19:29,400 --> 00:19:33,900
below<font color="#E5E5E5"> 1,024 so you have to be roots to</font>

490
00:19:32,070 --> 00:19:35,850
bind to that port except now you don't

491
00:19:33,900 --> 00:19:37,710
<font color="#E5E5E5">maybe you can just grant that service a</font>

492
00:19:35,850 --> 00:19:40,620
<font color="#CCCCCC">capability called net bian service and</font>

493
00:19:37,710 --> 00:19:42,540
it could suddenly bind to load<font color="#CCCCCC"> numbered</font>

494
00:19:40,620 --> 00:19:45,290
porch<font color="#CCCCCC"> without</font><font color="#E5E5E5"> any of the other stuff</font>

495
00:19:42,540 --> 00:19:48,280
<font color="#CCCCCC">that being</font><font color="#E5E5E5"> running</font><font color="#CCCCCC"> as root requires or</font>

496
00:19:45,290 --> 00:19:49,990
<font color="#E5E5E5">opens you up to which is super cool</font>

497
00:19:48,280 --> 00:19:53,230
you can do the<font color="#E5E5E5"> reverse tube you</font><font color="#CCCCCC"> can take</font>

498
00:19:49,990 --> 00:19:55,360
a running<font color="#E5E5E5"> running process and drop all</font>

499
00:19:53,230 --> 00:19:56,560
capabilities except the few<font color="#E5E5E5"> you need for</font>

500
00:19:55,360 --> 00:19:58,240
that for that<font color="#E5E5E5"> process to actually</font>

501
00:19:56,560 --> 00:20:00,700
<font color="#E5E5E5">succeed really really cool thing</font>

502
00:19:58,240 --> 00:20:04,240
<font color="#E5E5E5">underutilized my opinion set comp is the</font>

503
00:20:00,700 --> 00:20:07,470
same thing but<font color="#E5E5E5"> for Siskel's</font><font color="#CCCCCC"> so set comp</font>

504
00:20:04,240 --> 00:20:11,110
allows you to specify a policy that

505
00:20:07,470 --> 00:20:13,570
specifically prevents you from calling

506
00:20:11,110 --> 00:20:15,429
specific<font color="#E5E5E5"> sis calls in specific</font><font color="#CCCCCC"> ways with</font>

507
00:20:13,570 --> 00:20:16,870
specific arguments it's a<font color="#CCCCCC"> really</font>

508
00:20:15,430 --> 00:20:19,480
complicated syntax very complicated

509
00:20:16,870 --> 00:20:23,739
policy<font color="#E5E5E5"> but it's really really powerful</font>

510
00:20:19,480 --> 00:20:25,630
<font color="#E5E5E5">so an example</font><font color="#CCCCCC"> here so the the docker</font>

511
00:20:23,740 --> 00:20:26,200
ships with<font color="#CCCCCC"> same defaults for both for</font>

512
00:20:25,630 --> 00:20:27,550
both<font color="#E5E5E5"> of them</font>

513
00:20:26,200 --> 00:20:29,050
<font color="#E5E5E5">it's</font><font color="#CCCCCC"> that comp policies</font><font color="#E5E5E5"> may be a little</font>

514
00:20:27,550 --> 00:20:32,350
<font color="#E5E5E5">bit more open</font><font color="#CCCCCC"> that I'd like it to be but</font>

515
00:20:29,050 --> 00:20:34,090
compatibility reasons<font color="#CCCCCC"> but</font><font color="#E5E5E5"> so docker</font>

516
00:20:32,350 --> 00:20:36,370
<font color="#E5E5E5">ships with the second</font><font color="#CCCCCC"> policy that blocks</font>

517
00:20:34,090 --> 00:20:38,740
<font color="#E5E5E5">about</font><font color="#CCCCCC"> forty four six</font><font color="#E5E5E5"> goals one of</font><font color="#CCCCCC"> them</font>

518
00:20:36,370 --> 00:20:40,659
being<font color="#CCCCCC"> peat</font><font color="#E5E5E5"> race so if you guys</font><font color="#CCCCCC"> remember</font>

519
00:20:38,740 --> 00:20:43,780
the the dirty cow<font color="#CCCCCC"> Linux exploit that</font>

520
00:20:40,660 --> 00:20:45,100
<font color="#CCCCCC">came out</font><font color="#E5E5E5"> about a year</font><font color="#CCCCCC"> ago I guess about</font>

521
00:20:43,780 --> 00:20:47,350
half<font color="#E5E5E5"> the implementations of that</font>

522
00:20:45,100 --> 00:20:50,980
depended on peat race to function the

523
00:20:47,350 --> 00:20:51,969
rest used dev<font color="#E5E5E5"> name or something like</font>

524
00:20:50,980 --> 00:20:55,450
<font color="#E5E5E5">that</font>

525
00:20:51,970 --> 00:20:58,300
all of those pcap versions if run with

526
00:20:55,450 --> 00:21:00,310
<font color="#E5E5E5">and document ater fail because docker by</font>

527
00:20:58,300 --> 00:21:02,290
default drops peat race in its<font color="#CCCCCC"> set comp</font>

528
00:21:00,310 --> 00:21:07,540
policy along<font color="#E5E5E5"> with about forty three</font>

529
00:21:02,290 --> 00:21:08,950
<font color="#E5E5E5">other syscalls right if you once you</font>

530
00:21:07,540 --> 00:21:10,780
really get get involved in this thing

531
00:21:08,950 --> 00:21:14,080
you can do<font color="#E5E5E5"> but we're starting to do now</font>

532
00:21:10,780 --> 00:21:18,760
<font color="#E5E5E5">which is per per service profiling of</font>

533
00:21:14,080 --> 00:21:20,500
<font color="#E5E5E5">Cisco</font><font color="#CCCCCC"> lease and extending that set comp</font>

534
00:21:18,760 --> 00:21:21,550
<font color="#E5E5E5">drop</font><font color="#CCCCCC"> list a</font><font color="#E5E5E5"> little bit farther drop</font>

535
00:21:20,500 --> 00:21:25,290
<font color="#CCCCCC">forty-four by default they're about</font>

536
00:21:21,550 --> 00:21:27,700
<font color="#E5E5E5">three hundred Linux</font><font color="#CCCCCC"> iskills more or less</font>

537
00:21:25,290 --> 00:21:29,170
so if you if you<font color="#CCCCCC"> start to actually</font><font color="#E5E5E5"> build</font>

538
00:21:27,700 --> 00:21:31,450
these profiles effectively you<font color="#E5E5E5"> can drop</font>

539
00:21:29,170 --> 00:21:34,150
privileges much more extensively and<font color="#E5E5E5"> you</font>

540
00:21:31,450 --> 00:21:35,920
can do it<font color="#CCCCCC"> simi automatically without</font>

541
00:21:34,150 --> 00:21:37,810
having<font color="#CCCCCC"> to necessarily deeply involve</font>

542
00:21:35,920 --> 00:21:40,210
your<font color="#E5E5E5"> engineering staff right so you sort</font>

543
00:21:37,810 --> 00:21:43,330
<font color="#E5E5E5">of this this this layer of</font><font color="#CCCCCC"> security they</font>

544
00:21:40,210 --> 00:21:48,580
don't have to worry<font color="#E5E5E5"> about that is</font>

545
00:21:43,330 --> 00:21:49,780
incredibly effective<font color="#CCCCCC"> if</font><font color="#E5E5E5"> you've not</font>

546
00:21:48,580 --> 00:21:51,879
messed with<font color="#E5E5E5"> the capability to set up</font>

547
00:21:49,780 --> 00:21:54,790
before<font color="#CCCCCC"> I highly highly encourage you go</font>

548
00:21:51,880 --> 00:21:56,500
read up these<font color="#E5E5E5"> are this</font><font color="#CCCCCC"> is stuff built</font>

549
00:21:54,790 --> 00:21:58,210
into<font color="#CCCCCC"> the kernel you</font><font color="#E5E5E5"> almost certainly</font>

550
00:21:56,500 --> 00:22:00,760
have it it's built into docker very

551
00:21:58,210 --> 00:22:01,750
clean ways of interfacing with it<font color="#E5E5E5"> to the</font>

552
00:22:00,760 --> 00:22:03,640
best

553
00:22:01,750 --> 00:22:08,140
<font color="#CCCCCC">native controls you have with with with</font>

554
00:22:03,640 --> 00:22:10,330
<font color="#E5E5E5">containers</font><font color="#CCCCCC"> and lastly</font><font color="#E5E5E5"> because we're in a</font>

555
00:22:08,140 --> 00:22:11,560
musical<font color="#E5E5E5"> to limit concepts</font><font color="#CCCCCC"> one of the</font>

556
00:22:10,330 --> 00:22:14,020
really cool<font color="#CCCCCC"> things we can do is actually</font>

557
00:22:11,560 --> 00:22:18,190
deploy containers fully read-only<font color="#E5E5E5"> so</font>

558
00:22:14,020 --> 00:22:19,270
<font color="#E5E5E5">even if we have you</font><font color="#CCCCCC"> know a you</font><font color="#E5E5E5"> use land</font>

559
00:22:18,190 --> 00:22:22,180
there that were interested in things

560
00:22:19,270 --> 00:22:23,740
<font color="#E5E5E5">like that because the our deployment</font>

561
00:22:22,180 --> 00:22:25,870
concept says hey we're never<font color="#E5E5E5"> going to</font>

562
00:22:23,740 --> 00:22:28,540
change<font color="#CCCCCC"> this after its deployed we can</font>

563
00:22:25,870 --> 00:22:30,489
just deploy it read-only prevents a<font color="#CCCCCC"> lot</font>

564
00:22:28,540 --> 00:22:33,310
of bad<font color="#CCCCCC"> things from</font><font color="#E5E5E5"> happening</font><font color="#CCCCCC"> both</font>

565
00:22:30,490 --> 00:22:35,920
malicious and<font color="#E5E5E5"> unintentional and it also</font>

566
00:22:33,310 --> 00:22:37,450
means that we<font color="#CCCCCC"> can again have confidence</font>

567
00:22:35,920 --> 00:22:39,190
the environment rolling<font color="#E5E5E5"> into in a</font>

568
00:22:37,450 --> 00:22:46,450
response is the<font color="#CCCCCC"> environment we expect to</font>

569
00:22:39,190 --> 00:22:48,190
see or the deviations are bad<font color="#CCCCCC"> South</font>

570
00:22:46,450 --> 00:22:51,970
preparation let's talk a little<font color="#CCCCCC"> bit</font>

571
00:22:48,190 --> 00:22:54,640
about about detection this sort<font color="#E5E5E5"> of you</font>

572
00:22:51,970 --> 00:22:57,010
know what I'm actually<font color="#E5E5E5"> just with the</font>

573
00:22:54,640 --> 00:22:59,920
order<font color="#E5E5E5"> of these two because this one this</font>

574
00:22:57,010 --> 00:23:02,830
one flow is better<font color="#E5E5E5"> from from the last</font>

575
00:22:59,920 --> 00:23:04,930
<font color="#E5E5E5">slide here</font><font color="#CCCCCC"> so that that</font><font color="#E5E5E5"> that thing down</font>

576
00:23:02,830 --> 00:23:07,270
<font color="#E5E5E5">there the bottom is if someone says</font>

577
00:23:04,930 --> 00:23:09,570
oddity I'll buy you a beer later because

578
00:23:07,270 --> 00:23:09,570
I'm sorry

579
00:23:10,560 --> 00:23:13,840
<font color="#E5E5E5">so because we</font><font color="#CCCCCC"> just</font><font color="#E5E5E5"> talked</font><font color="#CCCCCC"> about</font>

580
00:23:12,220 --> 00:23:17,050
<font color="#E5E5E5">containers or single purpose containers</font>

581
00:23:13,840 --> 00:23:18,970
do one thing right<font color="#CCCCCC"> the first thing I</font>

582
00:23:17,050 --> 00:23:20,830
think<font color="#E5E5E5"> about when I hear that is oh my</font>

583
00:23:18,970 --> 00:23:24,340
god doesn't<font color="#CCCCCC"> I could do whitelisting like</font>

584
00:23:20,830 --> 00:23:25,960
really<font color="#CCCCCC"> I think</font><font color="#E5E5E5"> we insecurities of have</font>

585
00:23:24,340 --> 00:23:27,370
<font color="#E5E5E5">looked at</font><font color="#CCCCCC"> whitelisting for a very long</font>

586
00:23:25,960 --> 00:23:28,930
time<font color="#CCCCCC"> as sort of the gold standard it's</font>

587
00:23:27,370 --> 00:23:29,439
<font color="#E5E5E5">really hard to do an operating</font>

588
00:23:28,930 --> 00:23:33,040
<font color="#CCCCCC">system-level</font>

589
00:23:29,440 --> 00:23:35,260
as a number<font color="#E5E5E5"> of organizations have have</font>

590
00:23:33,040 --> 00:23:38,080
<font color="#E5E5E5">discovered over</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> years it's sort of a</font>

591
00:23:35,260 --> 00:23:41,850
white whale of<font color="#E5E5E5"> InfoSec Moby Dick fans</font>

592
00:23:38,080 --> 00:23:45,220
<font color="#E5E5E5">maybe now fair enough</font>

593
00:23:41,850 --> 00:23:46,689
in<font color="#CCCCCC"> in</font><font color="#E5E5E5"> so does this mean doesn't mean we</font>

594
00:23:45,220 --> 00:23:49,320
can really<font color="#E5E5E5"> do white listing inside of a</font>

595
00:23:46,690 --> 00:23:51,580
<font color="#E5E5E5">container the answers is mostly</font>

596
00:23:49,320 --> 00:23:55,360
certainly<font color="#E5E5E5"> more effectively than in a</font>

597
00:23:51,580 --> 00:23:57,699
<font color="#CCCCCC">general purpose operating system so what</font>

598
00:23:55,360 --> 00:24:00,729
we do or what<font color="#CCCCCC"> we we've been</font><font color="#E5E5E5"> able to</font>

599
00:23:57,700 --> 00:24:02,800
build is<font color="#CCCCCC"> whitelisting specific</font><font color="#E5E5E5"> syscalls</font>

600
00:24:00,730 --> 00:24:05,620
right so so today in our environment<font color="#CCCCCC"> we</font>

601
00:24:02,800 --> 00:24:06,700
whitelist<font color="#E5E5E5"> exec so</font><font color="#CCCCCC"> wireless connects know</font>

602
00:24:05,620 --> 00:24:09,090
exactly connection can happen

603
00:24:06,700 --> 00:24:13,150
environment in in the<font color="#CCCCCC"> karmis environment</font>

604
00:24:09,090 --> 00:24:15,459
<font color="#CCCCCC">without us having profiled the app in</font>

605
00:24:13,150 --> 00:24:18,370
question and<font color="#E5E5E5"> previously</font><font color="#CCCCCC"> whitelisted</font>

606
00:24:15,460 --> 00:24:22,000
those<font color="#E5E5E5"> specific calls how do we do this</font>

607
00:24:18,370 --> 00:24:26,139
we do<font color="#CCCCCC"> this with much pain and and crying</font>

608
00:24:22,000 --> 00:24:28,930
and<font color="#E5E5E5"> drinking using oddity</font><font color="#CCCCCC"> all of these</font>

609
00:24:26,140 --> 00:24:32,710
is the the best<font color="#E5E5E5"> worst thing I think to</font>

610
00:24:28,930 --> 00:24:35,800
happen to<font color="#E5E5E5"> Linux auditing ever</font><font color="#CCCCCC"> it's it's</font>

611
00:24:32,710 --> 00:24:37,360
the<font color="#E5E5E5"> best thing</font><font color="#CCCCCC"> because it's a it's an</font>

612
00:24:35,800 --> 00:24:39,310
incredible<font color="#E5E5E5"> source of data that you</font>

613
00:24:37,360 --> 00:24:41,110
cannot get<font color="#E5E5E5"> anywhere</font><font color="#CCCCCC"> else from the system</font>

614
00:24:39,310 --> 00:24:42,879
as<font color="#E5E5E5"> your live</font><font color="#CCCCCC"> play should get from</font><font color="#E5E5E5"> oddity</font>

615
00:24:41,110 --> 00:24:45,639
<font color="#E5E5E5">it's the worst</font><font color="#CCCCCC"> thing because</font><font color="#E5E5E5"> that's the</font>

616
00:24:42,880 --> 00:24:48,640
<font color="#E5E5E5">actual log format</font><font color="#CCCCCC"> it's a multi line</font>

617
00:24:45,640 --> 00:24:50,920
<font color="#E5E5E5">format as you</font><font color="#CCCCCC"> can see there that</font><font color="#E5E5E5"> that</font>

618
00:24:48,640 --> 00:24:52,960
uses a that number<font color="#E5E5E5"> in</font><font color="#CCCCCC"> parentheses</font><font color="#E5E5E5"> is the</font>

619
00:24:50,920 --> 00:24:55,270
<font color="#E5E5E5">is the common key that you can be used</font>

620
00:24:52,960 --> 00:24:57,070
to associate<font color="#E5E5E5"> these things together</font><font color="#CCCCCC"> and</font>

621
00:24:55,270 --> 00:24:58,960
it's<font color="#CCCCCC"> just it's just</font><font color="#E5E5E5"> this is actually a</font>

622
00:24:57,070 --> 00:25:06,730
fairly<font color="#E5E5E5"> simple</font><font color="#CCCCCC"> wine</font><font color="#E5E5E5"> it's just really</font>

623
00:24:58,960 --> 00:25:07,950
painful to work with let's see<font color="#E5E5E5"> so there</font>

624
00:25:06,730 --> 00:25:12,160
<font color="#E5E5E5">are a</font><font color="#CCCCCC"> couple problems</font><font color="#E5E5E5"> with</font><font color="#CCCCCC"> this</font>

625
00:25:07,950 --> 00:25:14,170
<font color="#E5E5E5">specifically one is that audit d is not</font>

626
00:25:12,160 --> 00:25:17,410
container or specifically is<font color="#CCCCCC"> not is not</font>

627
00:25:14,170 --> 00:25:18,730
<font color="#E5E5E5">C group aware C groups</font><font color="#CCCCCC"> C gerson the</font>

628
00:25:17,410 --> 00:25:20,680
<font color="#E5E5E5">unnamed spaces are the fundamental</font>

629
00:25:18,730 --> 00:25:24,550
things that<font color="#E5E5E5"> allow containers to work in</font>

630
00:25:20,680 --> 00:25:25,630
Linux so already<font color="#CCCCCC"> using tigre</font><font color="#E5E5E5"> where so</font>

631
00:25:24,550 --> 00:25:28,120
you<font color="#E5E5E5"> don't see anywhere in</font><font color="#CCCCCC"> that in that</font>

632
00:25:25,630 --> 00:25:31,690
<font color="#E5E5E5">big list of gobbledygook anything about</font>

633
00:25:28,120 --> 00:25:34,030
<font color="#CCCCCC">the container name or a C Group path or</font>

634
00:25:31,690 --> 00:25:37,410
any of that<font color="#E5E5E5"> stuff so so how do you map</font>

635
00:25:34,030 --> 00:25:41,680
that<font color="#CCCCCC"> back</font><font color="#E5E5E5"> there's two ways one way is</font>

636
00:25:37,410 --> 00:25:43,600
you can play games with the<font color="#CCCCCC"> SELinux tag</font>

637
00:25:41,680 --> 00:25:45,340
<font color="#CCCCCC">all right so you do see you see the</font>

638
00:25:43,600 --> 00:25:47,770
<font color="#CCCCCC">selinux context in that</font><font color="#E5E5E5"> log line right</font>

639
00:25:45,340 --> 00:25:49,060
<font color="#E5E5E5">there</font><font color="#CCCCCC"> if you if you're talking your</font>

640
00:25:47,770 --> 00:25:50,620
containers effectively<font color="#E5E5E5"> even if you're</font>

641
00:25:49,060 --> 00:25:52,480
not confining them if you're just

642
00:25:50,620 --> 00:25:54,699
tagging them that will show up in SC

643
00:25:52,480 --> 00:25:56,920
Linux<font color="#E5E5E5"> you can use that to walk back a</font>

644
00:25:54,700 --> 00:26:01,930
<font color="#CCCCCC">blob line to a container</font><font color="#E5E5E5"> the other way</font>

645
00:25:56,920 --> 00:26:04,930
is via the<font color="#E5E5E5"> the PID in the log line you</font>

646
00:26:01,930 --> 00:26:07,870
see it there<font color="#E5E5E5"> on second line</font><font color="#CCCCCC"> to there to</font>

647
00:26:04,930 --> 00:26:10,990
the<font color="#E5E5E5"> right at the end of the day</font>

648
00:26:07,870 --> 00:26:13,149
containers<font color="#E5E5E5"> containerized things are just</font>

649
00:26:10,990 --> 00:26:15,610
processes running<font color="#E5E5E5"> on your box right if</font>

650
00:26:13,150 --> 00:26:17,680
you do a PS<font color="#E5E5E5"> you'll see the process there</font>

651
00:26:15,610 --> 00:26:20,290
on your box but just have special

652
00:26:17,680 --> 00:26:23,380
constraints associated<font color="#E5E5E5"> with them</font>

653
00:26:20,290 --> 00:26:25,930
you can if<font color="#CCCCCC"> you maintain</font><font color="#E5E5E5"> a mapping and</font>

654
00:26:23,380 --> 00:26:27,070
this is this<font color="#E5E5E5"> is probably the best way to</font>

655
00:26:25,930 --> 00:26:27,730
do it if you<font color="#E5E5E5"> don't want to dive into</font>

656
00:26:27,070 --> 00:26:31,178
<font color="#CCCCCC">selinux</font>

657
00:26:27,730 --> 00:26:33,700
you can track a host level PID back to a

658
00:26:31,179 --> 00:26:34,480
container<font color="#CCCCCC"> name</font><font color="#E5E5E5"> fairly trivially we'll</font>

659
00:26:33,700 --> 00:26:37,350
talk a<font color="#E5E5E5"> little bit later</font><font color="#CCCCCC"> in this</font>

660
00:26:34,480 --> 00:26:40,149
presentation<font color="#E5E5E5"> I have a set of</font><font color="#CCCCCC"> bash</font>

661
00:26:37,350 --> 00:26:42,309
<font color="#E5E5E5">functions I used to make a lot</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> this</font>

662
00:26:40,149 --> 00:26:44,018
stuff easier<font color="#CCCCCC"> the information is all</font>

663
00:26:42,309 --> 00:26:49,629
there but sometimes<font color="#E5E5E5"> it's a it's a</font>

664
00:26:44,019 --> 00:26:54,850
<font color="#E5E5E5">complicated path to get to</font><font color="#CCCCCC"> it let's go</font>

665
00:26:49,630 --> 00:26:56,440
back<font color="#E5E5E5"> one real quick so the</font><font color="#CCCCCC"> Gipper so so</font>

666
00:26:54,850 --> 00:26:57,219
<font color="#E5E5E5">again</font><font color="#CCCCCC"> Singapore technical purpose</font>

667
00:26:56,440 --> 00:26:58,870
environment<font color="#E5E5E5"> right and this is the</font>

668
00:26:57,220 --> 00:27:01,179
<font color="#CCCCCC">problem with that</font><font color="#E5E5E5"> there's there's no</font>

669
00:26:58,870 --> 00:27:03,219
real space here for traditional security

670
00:27:01,179 --> 00:27:07,240
solutions<font color="#E5E5E5"> you're not going to you know</font>

671
00:27:03,220 --> 00:27:09,309
install a tripwire in a container right

672
00:27:07,240 --> 00:27:12,340
that there's just<font color="#E5E5E5"> that's</font><font color="#CCCCCC"> just</font><font color="#E5E5E5"> not going</font>

673
00:27:09,309 --> 00:27:16,799
<font color="#E5E5E5">to work well</font><font color="#CCCCCC"> so how do you</font><font color="#E5E5E5"> get your</font>

674
00:27:12,340 --> 00:27:16,799
telemetry out right<font color="#CCCCCC"> I mentioned</font><font color="#E5E5E5"> before</font>

675
00:27:17,789 --> 00:27:22,840
we use<font color="#CCCCCC"> oddity there</font><font color="#E5E5E5"> probably a dozen</font>

676
00:27:21,279 --> 00:27:24,610
<font color="#E5E5E5">different vendors that will tell you</font>

677
00:27:22,840 --> 00:27:27,250
they<font color="#E5E5E5"> have a solution to this problem</font>

678
00:27:24,610 --> 00:27:30,389
<font color="#CCCCCC">I have varying opinions of them we're</font>

679
00:27:27,250 --> 00:27:32,320
not<font color="#E5E5E5"> gonna talk about any of them today</font><font color="#CCCCCC"> a</font>

680
00:27:30,389 --> 00:27:34,059
few things<font color="#E5E5E5"> that are</font><font color="#CCCCCC"> that are</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> are</font>

681
00:27:32,320 --> 00:27:37,629
<font color="#CCCCCC">coming I'm actually super excited about</font>

682
00:27:34,059 --> 00:27:39,158
<font color="#CCCCCC">EBP F if you</font><font color="#E5E5E5"> guys have not started to</font>

683
00:27:37,630 --> 00:27:41,799
research that yet<font color="#CCCCCC"> I highly</font><font color="#E5E5E5"> encourage</font>

684
00:27:39,159 --> 00:27:44,019
<font color="#E5E5E5">your do so it's an awesome project</font><font color="#CCCCCC"> it</font>

685
00:27:41,799 --> 00:27:46,269
will hopefully be<font color="#CCCCCC"> their ability</font>

686
00:27:44,019 --> 00:27:47,889
<font color="#E5E5E5">replacement for audit D for Colonel</font><font color="#CCCCCC"> log</font>

687
00:27:46,269 --> 00:27:50,289
current level logging in Linux in the

688
00:27:47,889 --> 00:27:53,350
future<font color="#CCCCCC"> really</font><font color="#E5E5E5"> really cool project</font>

689
00:27:50,289 --> 00:27:56,559
the<font color="#E5E5E5"> other thing things we do is we use a</font>

690
00:27:53,350 --> 00:27:58,418
<font color="#E5E5E5">concept called sidecar containers</font><font color="#CCCCCC"> it's</font>

691
00:27:56,559 --> 00:28:00,070
the<font color="#CCCCCC"> word relationship fairly</font>

692
00:27:58,419 --> 00:28:03,070
self-explanatory but basically when we

693
00:28:00,070 --> 00:28:05,080
deploy<font color="#E5E5E5"> a host</font><font color="#CCCCCC"> from containers</font><font color="#E5E5E5"> that that</font>

694
00:28:03,070 --> 00:28:06,210
perform a service we also will deploy

695
00:28:05,080 --> 00:28:08,230
<font color="#E5E5E5">one or two other containers</font>

696
00:28:06,210 --> 00:28:11,529
transparently to the users along with

697
00:28:08,230 --> 00:28:14,500
them<font color="#E5E5E5"> so</font><font color="#CCCCCC"> that those containers</font><font color="#E5E5E5"> can do</font>

698
00:28:11,529 --> 00:28:19,029
specific security things like<font color="#E5E5E5"> blocking</font>

699
00:28:14,500 --> 00:28:21,269
<font color="#E5E5E5">DNS like doing all post rolling pcap</font>

700
00:28:19,029 --> 00:28:23,799
that we can use during<font color="#CCCCCC"> into the response</font>

701
00:28:21,269 --> 00:28:25,450
<font color="#E5E5E5">things of that nature right this is</font>

702
00:28:23,799 --> 00:28:27,039
again this is transparent to<font color="#CCCCCC"> the</font>

703
00:28:25,450 --> 00:28:28,690
engineers they don't see it<font color="#E5E5E5"> they don't</font>

704
00:28:27,039 --> 00:28:30,639
care<font color="#CCCCCC"> about</font><font color="#E5E5E5"> it then they don't they</font><font color="#CCCCCC"> don't</font>

705
00:28:28,690 --> 00:28:32,529
deal<font color="#E5E5E5"> with it but it magically sort of</font>

706
00:28:30,639 --> 00:28:35,350
helps protect them<font color="#CCCCCC"> and it</font><font color="#E5E5E5"> helps get us</font>

707
00:28:32,529 --> 00:28:37,269
<font color="#E5E5E5">in a place where again during response</font>

708
00:28:35,350 --> 00:28:39,070
we have some of the stuff<font color="#CCCCCC"> that we might</font>

709
00:28:37,269 --> 00:28:40,860
rely on traditionally like you know

710
00:28:39,070 --> 00:28:43,769
potentially we have we have

711
00:28:40,860 --> 00:28:45,389
recent pcap we have you know good<font color="#E5E5E5"> DNS</font>

712
00:28:43,769 --> 00:28:57,480
logs we have all that fun<font color="#CCCCCC"> stuff that we</font>

713
00:28:45,390 --> 00:28:58,799
<font color="#E5E5E5">want to have cool let's talk a</font><font color="#CCCCCC"> little</font>

714
00:28:57,480 --> 00:29:01,289
about<font color="#CCCCCC"> about mouth detection</font>

715
00:28:58,799 --> 00:29:03,179
intentionally I'm skipping<font color="#E5E5E5"> like the</font><font color="#CCCCCC"> hole</font>

716
00:29:01,289 --> 00:29:05,429
detection<font color="#E5E5E5"> pipeline about you know</font>

717
00:29:03,179 --> 00:29:06,929
shoving these things in a pipeline<font color="#CCCCCC"> so</font>

718
00:29:05,429 --> 00:29:08,340
the logs go to some<font color="#CCCCCC"> service that does</font>

719
00:29:06,929 --> 00:29:10,769
magic<font color="#E5E5E5"> and then alerts that come out of</font>

720
00:29:08,340 --> 00:29:12,418
<font color="#E5E5E5">the other end</font><font color="#CCCCCC"> it's not again it's</font><font color="#E5E5E5"> not</font>

721
00:29:10,769 --> 00:29:14,549
<font color="#CCCCCC">really relevant</font><font color="#E5E5E5"> to this to the focus of</font>

722
00:29:12,419 --> 00:29:17,940
<font color="#E5E5E5">this talk</font><font color="#CCCCCC"> I have</font><font color="#E5E5E5"> a chat</font><font color="#CCCCCC"> about it</font>

723
00:29:14,549 --> 00:29:19,950
afterwards<font color="#E5E5E5"> and people are curious this</font>

724
00:29:17,940 --> 00:29:21,570
<font color="#E5E5E5">is</font><font color="#CCCCCC"> an interesting one and and and this</font>

725
00:29:19,950 --> 00:29:24,019
<font color="#CCCCCC">is in my opinion one</font><font color="#E5E5E5"> of the one</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> the</font>

726
00:29:21,570 --> 00:29:27,360
core<font color="#CCCCCC"> problems with continuous deployment</font>

727
00:29:24,019 --> 00:29:29,730
<font color="#E5E5E5">if if we believe you know all the</font>

728
00:29:27,360 --> 00:29:31,219
reports and<font color="#CCCCCC"> whatever one says just you</font>

729
00:29:29,730 --> 00:29:35,580
<font color="#E5E5E5">know at a critical time</font>

730
00:29:31,220 --> 00:29:37,529
easily weeks probably<font color="#CCCCCC"> months if you're</font>

731
00:29:35,580 --> 00:29:41,070
<font color="#E5E5E5">an environment where your host lifetime</font>

732
00:29:37,529 --> 00:29:43,350
is hours or days<font color="#E5E5E5"> how do you do a real</font>

733
00:29:41,070 --> 00:29:45,990
incident<font color="#E5E5E5"> response if you detect it a</font>

734
00:29:43,350 --> 00:29:49,049
month later<font color="#CCCCCC"> right it's it's</font><font color="#E5E5E5"> actually</font>

735
00:29:45,990 --> 00:29:52,649
<font color="#CCCCCC">quite challenging I think so we</font><font color="#E5E5E5"> have a</font>

736
00:29:49,049 --> 00:29:54,260
few things that<font color="#E5E5E5"> that we do to to make</font>

737
00:29:52,649 --> 00:29:59,668
this a little bit<font color="#CCCCCC"> easier one we log</font>

738
00:29:54,260 --> 00:30:01,080
everything<font color="#E5E5E5"> our our log pipeline is</font>

739
00:29:59,669 --> 00:30:02,760
probably one of the<font color="#E5E5E5"> most expensive</font>

740
00:30:01,080 --> 00:30:05,519
<font color="#E5E5E5">pieces of our infrastructure because we</font>

741
00:30:02,760 --> 00:30:07,289
log everything<font color="#E5E5E5"> we log every single</font>

742
00:30:05,519 --> 00:30:11,399
application<font color="#E5E5E5"> log log learn that happens</font>

743
00:30:07,289 --> 00:30:13,740
we keep we log all<font color="#CCCCCC"> 2d every single</font><font color="#E5E5E5"> exec</font>

744
00:30:11,399 --> 00:30:18,149
<font color="#E5E5E5">every single connect a bunch of other</font>

745
00:30:13,740 --> 00:30:20,010
specific<font color="#E5E5E5"> targeted things as well we pull</font>

746
00:30:18,149 --> 00:30:21,209
<font color="#E5E5E5">down all the system logs from every</font>

747
00:30:20,010 --> 00:30:24,539
<font color="#E5E5E5">single host across the entire</font>

748
00:30:21,210 --> 00:30:26,429
environment<font color="#E5E5E5"> and really the reason we do</font>

749
00:30:24,539 --> 00:30:28,320
this<font color="#E5E5E5"> is because if you</font><font color="#CCCCCC"> think</font><font color="#E5E5E5"> about it in</font>

750
00:30:26,429 --> 00:30:32,100
an environment where hosts rotate that

751
00:30:28,320 --> 00:30:32,610
<font color="#E5E5E5">rapidly</font><font color="#CCCCCC"> you can't you</font><font color="#E5E5E5"> can't really do a</font>

752
00:30:32,100 --> 00:30:35,699
hunt

753
00:30:32,610 --> 00:30:36,840
<font color="#E5E5E5">host anymore right because they're</font>

754
00:30:35,700 --> 00:30:38,190
<font color="#E5E5E5">they're so ephemeral they're</font><font color="#CCCCCC"> there</font>

755
00:30:36,840 --> 00:30:41,309
they're<font color="#E5E5E5"> gone</font>

756
00:30:38,190 --> 00:30:44,659
when<font color="#E5E5E5"> we hunt</font><font color="#CCCCCC"> we hunt</font><font color="#E5E5E5"> specifically on</font>

757
00:30:41,309 --> 00:30:47,879
logs<font color="#E5E5E5"> right so that our logs have</font><font color="#CCCCCC"> to be</font>

758
00:30:44,659 --> 00:30:50,460
very high fidelity<font color="#E5E5E5"> and they have to be</font>

759
00:30:47,880 --> 00:30:51,990
good enough<font color="#CCCCCC"> to</font><font color="#E5E5E5"> the weekend</font><font color="#CCCCCC"> both form a</font>

760
00:30:50,460 --> 00:30:54,540
<font color="#E5E5E5">picture and walk back a potential</font><font color="#CCCCCC"> a</font>

761
00:30:51,990 --> 00:30:56,640
potential incident even<font color="#CCCCCC"> if it occurred</font>

762
00:30:54,540 --> 00:30:59,570
three months<font color="#E5E5E5"> after we terminated that</font>

763
00:30:56,640 --> 00:30:59,570
<font color="#CCCCCC">instance</font><font color="#E5E5E5"> okay</font>

764
00:30:59,700 --> 00:31:04,080
we also<font color="#CCCCCC"> enrich and I think this is this</font>

765
00:31:02,430 --> 00:31:06,420
is<font color="#CCCCCC"> quite critical</font><font color="#E5E5E5"> even</font><font color="#CCCCCC"> if you're</font><font color="#E5E5E5"> not in</font>

766
00:31:04,080 --> 00:31:07,980
this<font color="#CCCCCC"> environment I think I think log</font>

767
00:31:06,420 --> 00:31:09,810
time<font color="#E5E5E5"> enrichment is incredibly is</font>

768
00:31:07,980 --> 00:31:11,370
incredibly critical critical<font color="#E5E5E5"> this</font><font color="#CCCCCC"> is</font>

769
00:31:09,810 --> 00:31:13,860
<font color="#CCCCCC">this environment just</font><font color="#E5E5E5"> makes it just</font>

770
00:31:11,370 --> 00:31:16,649
makes it more<font color="#CCCCCC"> of a problem</font><font color="#E5E5E5"> or more</font>

771
00:31:13,860 --> 00:31:18,990
critical<font color="#E5E5E5"> right</font><font color="#CCCCCC"> enriched</font><font color="#E5E5E5"> log lines when</font>

772
00:31:16,650 --> 00:31:22,140
you log them that means if you<font color="#CCCCCC"> log a</font>

773
00:31:18,990 --> 00:31:23,910
<font color="#CCCCCC">line</font><font color="#E5E5E5"> IP address a talk on IP I just be</font>

774
00:31:22,140 --> 00:31:26,760
for<font color="#E5E5E5"> this long as many packets as invites</font>

775
00:31:23,910 --> 00:31:29,220
<font color="#CCCCCC">blah blah blah I should also add on what</font>

776
00:31:26,760 --> 00:31:30,330
<font color="#CCCCCC">those IP addresses are at that point</font>

777
00:31:29,220 --> 00:31:31,680
<font color="#CCCCCC">because three months later I guarantee</font>

778
00:31:30,330 --> 00:31:33,000
<font color="#E5E5E5">you they are there won't exist or</font>

779
00:31:31,680 --> 00:31:34,230
there'll be something<font color="#E5E5E5"> else entirely</font><font color="#CCCCCC"> and</font>

780
00:31:33,000 --> 00:31:37,440
they'll just screw me<font color="#CCCCCC"> up if I try</font><font color="#E5E5E5"> to</font>

781
00:31:34,230 --> 00:31:39,180
walk<font color="#CCCCCC"> it back right</font><font color="#E5E5E5"> and if you try to</font>

782
00:31:37,440 --> 00:31:40,770
<font color="#E5E5E5">maintain separate repositories of like</font>

783
00:31:39,180 --> 00:31:42,450
IP<font color="#CCCCCC"> information going</font><font color="#E5E5E5"> back three months</font>

784
00:31:40,770 --> 00:31:44,190
<font color="#E5E5E5">and logs I'm</font><font color="#CCCCCC"> back three months and you</font>

785
00:31:42,450 --> 00:31:45,750
try to like fit them together at some

786
00:31:44,190 --> 00:31:48,000
<font color="#CCCCCC">point you're just</font><font color="#E5E5E5"> going to have a huge</font>

787
00:31:45,750 --> 00:31:50,610
headache<font color="#CCCCCC"> as opposed to doing a few</font>

788
00:31:48,000 --> 00:31:54,000
<font color="#CCCCCC">simple API calls when you log to resolve</font>

789
00:31:50,610 --> 00:31:56,010
that stuff<font color="#E5E5E5"> I resolved I Pease</font><font color="#CCCCCC"> resolve</font>

790
00:31:54,000 --> 00:31:57,360
<font color="#CCCCCC">PIDs there's all of you IDs</font><font color="#E5E5E5"> resolve</font>

791
00:31:56,010 --> 00:31:59,250
everything<font color="#E5E5E5"> that you can reasonably</font>

792
00:31:57,360 --> 00:32:01,969
resolve in a log line so you<font color="#CCCCCC"> don't</font><font color="#E5E5E5"> have</font>

793
00:31:59,250 --> 00:32:01,970
to try to do it later

794
00:32:01,980 --> 00:32:06,870
we keep logs for years<font color="#E5E5E5"> our standard</font>

795
00:32:04,980 --> 00:32:09,450
actually<font color="#E5E5E5"> is a</font><font color="#CCCCCC"> ten</font><font color="#E5E5E5"> year retention</font>

796
00:32:06,870 --> 00:32:12,060
<font color="#E5E5E5">companies and having</font><font color="#CCCCCC"> been around for</font><font color="#E5E5E5"> ten</font>

797
00:32:09,450 --> 00:32:14,490
years<font color="#CCCCCC"> a lot of the stuff falls into</font>

798
00:32:12,060 --> 00:32:18,060
glacier<font color="#E5E5E5"> right after after</font><font color="#CCCCCC"> it's</font><font color="#E5E5E5"> it's live</font>

799
00:32:14,490 --> 00:32:19,710
in this<font color="#E5E5E5"> period but we have it so if we</font>

800
00:32:18,060 --> 00:32:22,320
discover<font color="#E5E5E5"> god forbid</font>

801
00:32:19,710 --> 00:32:24,660
a breach a year later we can<font color="#CCCCCC"> go into</font>

802
00:32:22,320 --> 00:32:27,060
glacier and do restore<font color="#CCCCCC"> or pull back</font><font color="#E5E5E5"> you</font>

803
00:32:24,660 --> 00:32:29,610
know that<font color="#CCCCCC"> months worth of logs and and</font>

804
00:32:27,060 --> 00:32:33,330
when we have the data<font color="#E5E5E5"> there to actually</font>

805
00:32:29,610 --> 00:32:35,850
be the investigation our<font color="#CCCCCC"> locking</font>

806
00:32:33,330 --> 00:32:36,960
standards are rapidly<font color="#E5E5E5"> evolving so this</font>

807
00:32:35,850 --> 00:32:38,699
is actually one<font color="#E5E5E5"> thing we</font><font color="#CCCCCC"> don't do that</font>

808
00:32:36,960 --> 00:32:39,420
that<font color="#E5E5E5"> I encourage you guys to do when</font>

809
00:32:38,700 --> 00:32:42,110
you're when you're going<font color="#CCCCCC"> in this</font>

810
00:32:39,420 --> 00:32:45,210
direction<font color="#E5E5E5"> is establish a consistent log</font>

811
00:32:42,110 --> 00:32:46,860
schema even if you format changes the

812
00:32:45,210 --> 00:32:47,610
data<font color="#E5E5E5"> you collect changes make it all</font>

813
00:32:46,860 --> 00:32:49,860
look the same

814
00:32:47,610 --> 00:32:51,629
JSON or<font color="#E5E5E5"> whatever so you have an easier</font>

815
00:32:49,860 --> 00:32:55,770
time<font color="#E5E5E5"> parsing it right one of the one of</font>

816
00:32:51,630 --> 00:33:00,240
<font color="#E5E5E5">the worst intern responses I ever had to</font>

817
00:32:55,770 --> 00:33:02,550
<font color="#CCCCCC">deal with not a</font><font color="#E5E5E5"> coin base was where the</font>

818
00:33:00,240 --> 00:33:03,930
<font color="#CCCCCC">the company question had changed</font><font color="#E5E5E5"> their</font>

819
00:33:02,550 --> 00:33:07,379
logging format in the middle of the

820
00:33:03,930 --> 00:33:08,250
incident<font color="#CCCCCC"> so I'm trying to</font><font color="#E5E5E5"> like correlate</font>

821
00:33:07,380 --> 00:33:10,320
these law

822
00:33:08,250 --> 00:33:15,150
walks back it's<font color="#E5E5E5"> just it was it was a</font>

823
00:33:10,320 --> 00:33:18,659
<font color="#E5E5E5">nightmare of manual magic</font><font color="#CCCCCC"> to get</font><font color="#E5E5E5"> even</font>

824
00:33:15,150 --> 00:33:21,260
even a broad<font color="#E5E5E5"> picture put together so</font>

825
00:33:18,660 --> 00:33:24,690
<font color="#E5E5E5">pick standard state of the standard</font>

826
00:33:21,260 --> 00:33:27,690
<font color="#CCCCCC">otherwise you will have</font><font color="#E5E5E5"> pain later the</font>

827
00:33:24,690 --> 00:33:29,490
last thing we do is a<font color="#E5E5E5"> little more</font>

828
00:33:27,690 --> 00:33:31,950
controversial<font color="#E5E5E5"> both because it has data</font>

829
00:33:29,490 --> 00:33:34,590
costs<font color="#E5E5E5"> and there are data exposure risks</font>

830
00:33:31,950 --> 00:33:38,910
<font color="#E5E5E5">but</font><font color="#CCCCCC"> for really critical services in our</font>

831
00:33:34,590 --> 00:33:40,620
environment<font color="#E5E5E5"> we can treat</font><font color="#CCCCCC"> service spin</font>

832
00:33:38,910 --> 00:33:42,720
<font color="#CCCCCC">down events like when we do deploy</font><font color="#E5E5E5"> we</font>

833
00:33:40,620 --> 00:33:44,129
can<font color="#E5E5E5"> treat it just like an instant</font>

834
00:33:42,720 --> 00:33:45,960
response<font color="#E5E5E5"> event in terms</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> like the</font>

835
00:33:44,130 --> 00:33:48,780
<font color="#E5E5E5">automated things we do right we can pull</font>

836
00:33:45,960 --> 00:33:51,480
a memory dump<font color="#E5E5E5"> we can pull system</font>

837
00:33:48,780 --> 00:33:52,860
artifacts<font color="#E5E5E5"> we can pull all the same</font>

838
00:33:51,480 --> 00:33:55,650
things we might pull when<font color="#E5E5E5"> there if</font>

839
00:33:52,860 --> 00:33:57,060
there's an<font color="#CCCCCC"> see response encrypt it toss</font>

840
00:33:55,650 --> 00:34:00,360
it<font color="#CCCCCC"> in a</font><font color="#E5E5E5"> bucket somewhere put it in</font>

841
00:33:57,060 --> 00:34:02,159
glacier<font color="#CCCCCC"> so that again if we have to go</font>

842
00:34:00,360 --> 00:34:04,080
back and deal<font color="#CCCCCC"> with it we have at least</font>

843
00:34:02,160 --> 00:34:06,330
some data there we have a reasonable way

844
00:34:04,080 --> 00:34:07,889
of<font color="#E5E5E5"> walking that</font><font color="#CCCCCC"> back now again</font><font color="#E5E5E5"> that's a</font>

845
00:34:06,330 --> 00:34:10,199
lot of<font color="#CCCCCC"> data</font><font color="#E5E5E5"> right if you're pulling a</font>

846
00:34:07,890 --> 00:34:12,570
memory dump<font color="#E5E5E5"> from every single</font><font color="#CCCCCC"> host if</font>

847
00:34:10,199 --> 00:34:14,520
you're if you're<font color="#CCCCCC"> pulling</font><font color="#E5E5E5"> you know the</font>

848
00:34:12,570 --> 00:34:16,320
full set of live response system

849
00:34:14,520 --> 00:34:18,168
artifacts<font color="#CCCCCC"> off a host every time its</font>

850
00:34:16,320 --> 00:34:21,480
deployed its deployed once an hour

851
00:34:18,168 --> 00:34:23,460
that's a ton of data<font color="#E5E5E5"> so I would only</font>

852
00:34:21,480 --> 00:34:25,918
encourage you to do this<font color="#E5E5E5"> in systems that</font>

853
00:34:23,460 --> 00:34:27,720
<font color="#E5E5E5">are incredibly critical that are sort of</font>

854
00:34:25,918 --> 00:34:28,290
like<font color="#CCCCCC"> their you</font><font color="#E5E5E5"> know the no fail style</font>

855
00:34:27,719 --> 00:34:31,350
systems

856
00:34:28,290 --> 00:34:35,719
otherwise<font color="#CCCCCC"> you're it's going to cost more</font>

857
00:34:31,350 --> 00:34:35,719
than<font color="#E5E5E5"> than it's worth</font><font color="#CCCCCC"> it to do</font>

858
00:34:43,829 --> 00:34:51,249
<font color="#E5E5E5">okay so so it's a</font><font color="#CCCCCC"> little bit from from</font>

859
00:34:47,649 --> 00:34:52,629
that<font color="#CCCCCC"> to you patterns in</font><font color="#E5E5E5"> your all</font><font color="#CCCCCC"> you're</font>

860
00:34:51,248 --> 00:34:54,549
sitting on<font color="#E5E5E5"> a box and you're staying at</font>

861
00:34:52,629 --> 00:34:56,348
<font color="#CCCCCC">the stock container you've</font><font color="#E5E5E5"> done all this</font>

862
00:34:54,549 --> 00:34:58,299
other stuff<font color="#CCCCCC"> what do you what do you do</font>

863
00:34:56,349 --> 00:34:59,950
you don't<font color="#CCCCCC"> know it's a nice prep work how</font>

864
00:34:58,299 --> 00:35:02,109
do you deal with it<font color="#CCCCCC"> so basic question</font>

865
00:34:59,950 --> 00:35:03,700
right there's an active breach<font color="#E5E5E5"> you're</font>

866
00:35:02,109 --> 00:35:05,609
<font color="#E5E5E5">staring at the container there's an</font>

867
00:35:03,700 --> 00:35:08,348
attacker there<font color="#E5E5E5"> how do you isolate it</font>

868
00:35:05,609 --> 00:35:11,440
every bunch of ways<font color="#CCCCCC"> I'm going to skip</font>

869
00:35:08,349 --> 00:35:12,640
the<font color="#E5E5E5"> AWS bit because they're like you</font><font color="#CCCCCC"> can</font>

870
00:35:11,440 --> 00:35:16,779
<font color="#E5E5E5">google this</font><font color="#CCCCCC"> and find a half a dozen</font>

871
00:35:12,640 --> 00:35:18,069
great<font color="#E5E5E5"> talks on abs instant response so</font>

872
00:35:16,779 --> 00:35:20,849
the<font color="#CCCCCC"> most level there</font><font color="#E5E5E5"> are few options</font><font color="#CCCCCC"> you</font>

873
00:35:18,069 --> 00:35:23,200
<font color="#E5E5E5">can deal with docker does have a pause</font>

874
00:35:20,849 --> 00:35:24,880
<font color="#CCCCCC">command you</font><font color="#E5E5E5"> can even pause the container</font>

875
00:35:23,200 --> 00:35:28,808
<font color="#E5E5E5">this uses a thing called the C group</font>

876
00:35:24,880 --> 00:35:29,410
freezer<font color="#CCCCCC"> so it's not it's it's</font><font color="#E5E5E5"> not what</font>

877
00:35:28,809 --> 00:35:32,079
you're thinking<font color="#E5E5E5"> about</font><font color="#CCCCCC"> you're thinking</font>

878
00:35:29,410 --> 00:35:33,160
<font color="#E5E5E5">about like a like a VMware snapshot or</font>

879
00:35:32,079 --> 00:35:35,859
<font color="#CCCCCC">checkpoints</font>

880
00:35:33,160 --> 00:35:37,808
it doesn't like take an image<font color="#E5E5E5"> of memory</font>

881
00:35:35,859 --> 00:35:39,999
<font color="#CCCCCC">it's literally pausing the processes</font>

882
00:35:37,809 --> 00:35:42,220
right so you don't you<font color="#CCCCCC"> don't</font><font color="#E5E5E5"> get</font><font color="#CCCCCC"> a clean</font>

883
00:35:39,999 --> 00:35:44,738
like file you can<font color="#E5E5E5"> take away and analyze</font>

884
00:35:42,220 --> 00:35:47,439
somewhere else<font color="#E5E5E5"> but the nice thing</font><font color="#CCCCCC"> about</font>

885
00:35:44,739 --> 00:35:50,019
the C group freezer is the the pot the

886
00:35:47,440 --> 00:35:52,809
process pause is not visible<font color="#E5E5E5"> to the</font>

887
00:35:50,019 --> 00:35:54,249
processes being paused<font color="#CCCCCC"> which is pretty</font>

888
00:35:52,809 --> 00:35:56,380
<font color="#E5E5E5">cool it's not</font><font color="#CCCCCC"> the standard sort</font><font color="#E5E5E5"> of</font>

889
00:35:54,249 --> 00:35:58,089
signal stuff that you would expect if

890
00:35:56,380 --> 00:36:00,069
you're<font color="#E5E5E5"> interested read up there's if</font>

891
00:35:58,089 --> 00:36:01,719
it's just<font color="#E5E5E5"> google c group freezer I think</font>

892
00:36:00,069 --> 00:36:03,999
the first result is the<font color="#CCCCCC"> curl does the</font>

893
00:36:01,719 --> 00:36:10,660
<font color="#CCCCCC">kernel box because that's I imagine</font><font color="#E5E5E5"> an</font>

894
00:36:03,999 --> 00:36:12,160
uncommon set of words let's see so

895
00:36:10,660 --> 00:36:13,989
that's<font color="#E5E5E5"> an option</font><font color="#CCCCCC"> that's more of an</font>

896
00:36:12,160 --> 00:36:15,430
option if like a if you want if you need

897
00:36:13,989 --> 00:36:17,440
to say like hey this is<font color="#CCCCCC"> an active thing</font>

898
00:36:15,430 --> 00:36:18,279
going<font color="#E5E5E5"> on</font><font color="#CCCCCC"> right now but I want to make</font>

899
00:36:17,440 --> 00:36:20,109
sure<font color="#E5E5E5"> this doesn't get out of hand</font>

900
00:36:18,279 --> 00:36:22,150
<font color="#CCCCCC">without</font><font color="#E5E5E5"> doing other stuff</font><font color="#CCCCCC"> just</font><font color="#E5E5E5"> pause the</font>

901
00:36:20,109 --> 00:36:23,499
container<font color="#E5E5E5"> and move on with the</font>

902
00:36:22,150 --> 00:36:26,529
<font color="#CCCCCC">investigation you can come</font><font color="#E5E5E5"> back to</font><font color="#CCCCCC"> it</font>

903
00:36:23,499 --> 00:36:28,808
later and<font color="#CCCCCC"> it won't have changed network</font>

904
00:36:26,529 --> 00:36:29,200
isolation right so so running running

905
00:36:28,809 --> 00:36:30,940
docker

906
00:36:29,200 --> 00:36:32,109
<font color="#CCCCCC">you don't want to pause it for</font><font color="#E5E5E5"> whatever</font>

907
00:36:30,940 --> 00:36:33,160
<font color="#E5E5E5">reason you want</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> isolate it from the</font>

908
00:36:32,109 --> 00:36:35,529
<font color="#CCCCCC">network so that you can deal with it</font>

909
00:36:33,160 --> 00:36:40,029
<font color="#E5E5E5">later</font><font color="#CCCCCC"> there there are several things you</font>

910
00:36:35,529 --> 00:36:41,380
can<font color="#E5E5E5"> do here</font><font color="#CCCCCC"> the two</font><font color="#E5E5E5"> basic things you can</font>

911
00:36:40,029 --> 00:36:44,099
<font color="#CCCCCC">actually using docker you can</font><font color="#E5E5E5"> isolate it</font>

912
00:36:41,380 --> 00:36:49,019
<font color="#E5E5E5">using active tables until very recently</font>

913
00:36:44,099 --> 00:36:52,059
<font color="#CCCCCC">docker 17 and later docker iptables</font>

914
00:36:49,019 --> 00:36:53,288
weren't really friends or<font color="#E5E5E5"> at least they</font>

915
00:36:52,059 --> 00:36:55,150
weren't<font color="#E5E5E5"> friends of each are also tried</font>

916
00:36:53,289 --> 00:36:55,850
to<font color="#E5E5E5"> modify</font><font color="#CCCCCC"> IP tables there</font><font color="#E5E5E5"> was a lot of</font>

917
00:36:55,150 --> 00:36:57,470
like

918
00:36:55,850 --> 00:37:00,259
stop on your<font color="#E5E5E5"> changes there be a lot of</font>

919
00:36:57,470 --> 00:37:02,060
<font color="#E5E5E5">pain</font><font color="#CCCCCC"> after 17 you can you can just</font><font color="#E5E5E5"> drop</font>

920
00:37:00,260 --> 00:37:04,300
<font color="#E5E5E5">a rule in this docker user chain</font><font color="#CCCCCC"> they're</font>

921
00:37:02,060 --> 00:37:07,130
good<font color="#E5E5E5"> to go</font>

922
00:37:04,300 --> 00:37:09,230
using the you can also<font color="#E5E5E5"> isolate it using</font>

923
00:37:07,130 --> 00:37:11,810
docker<font color="#E5E5E5"> right so doctor has concept of</font>

924
00:37:09,230 --> 00:37:13,520
networks<font color="#E5E5E5"> and under the hood what you'll</font>

925
00:37:11,810 --> 00:37:15,560
<font color="#E5E5E5">find is for every network there's a</font>

926
00:37:13,520 --> 00:37:19,509
bridge interface<font color="#E5E5E5"> that it creates on the</font>

927
00:37:15,560 --> 00:37:21,890
<font color="#CCCCCC">linux box it when you add a host</font>

928
00:37:19,510 --> 00:37:23,480
<font color="#E5E5E5">container to a network</font><font color="#CCCCCC"> it just drops it</font>

929
00:37:21,890 --> 00:37:25,700
on that bridge interface<font color="#CCCCCC"> all the</font><font color="#E5E5E5"> other</font>

930
00:37:23,480 --> 00:37:26,780
things and<font color="#E5E5E5"> then it can do</font><font color="#CCCCCC"> depending</font><font color="#E5E5E5"> on</font>

931
00:37:25,700 --> 00:37:28,279
how you can pick the network it can<font color="#E5E5E5"> talk</font>

932
00:37:26,780 --> 00:37:30,460
to<font color="#E5E5E5"> the internet it can't it's</font><font color="#CCCCCC"> not at it</font>

933
00:37:28,280 --> 00:37:33,050
isn't<font color="#CCCCCC"> it</font><font color="#E5E5E5"> just connects that bridge to</font>

934
00:37:30,460 --> 00:37:35,480
<font color="#E5E5E5">the</font><font color="#CCCCCC"> gateway devices</font><font color="#E5E5E5"> pretty simple</font>

935
00:37:33,050 --> 00:37:37,730
<font color="#E5E5E5">alright</font><font color="#CCCCCC"> so you can you</font><font color="#E5E5E5"> can tell docker</font>

936
00:37:35,480 --> 00:37:39,530
<font color="#E5E5E5">hey just disconnect this this container</font>

937
00:37:37,730 --> 00:37:41,270
from all the networks<font color="#CCCCCC"> it'll drop all of</font>

938
00:37:39,530 --> 00:37:44,990
the<font color="#E5E5E5"> interfaces internally and it's</font>

939
00:37:41,270 --> 00:37:47,420
<font color="#E5E5E5">totally isolated except if you're using</font>

940
00:37:44,990 --> 00:37:49,819
that<font color="#CCCCCC"> little funding net work equals</font><font color="#E5E5E5"> host</font>

941
00:37:47,420 --> 00:37:51,920
<font color="#E5E5E5">so that work equals host attaches the</font>

942
00:37:49,820 --> 00:37:55,010
containers directly to the interfaces on

943
00:37:51,920 --> 00:37:56,210
<font color="#CCCCCC">the host itself you can't change that</font>

944
00:37:55,010 --> 00:37:57,830
once you've done<font color="#E5E5E5"> it</font>

945
00:37:56,210 --> 00:37:59,690
that is<font color="#CCCCCC"> own</font><font color="#E5E5E5"> that is only the smallest</font>

946
00:37:57,830 --> 00:38:01,460
reason<font color="#E5E5E5"> network</font><font color="#CCCCCC"> vehicles hosts</font><font color="#E5E5E5"> can be a</font>

947
00:37:59,690 --> 00:38:04,810
painful<font color="#CCCCCC"> and bad so I heard you guys not</font>

948
00:38:01,460 --> 00:38:07,100
<font color="#E5E5E5">not to not to use</font><font color="#CCCCCC"> it</font><font color="#E5E5E5"> and encourage any</font>

949
00:38:04,810 --> 00:38:07,400
sort<font color="#E5E5E5"> of product to deal with also not to</font>

950
00:38:07,100 --> 00:38:09,140
use it

951
00:38:07,400 --> 00:38:11,120
it's it's easy<font color="#E5E5E5"> which is</font><font color="#CCCCCC"> what people do</font>

952
00:38:09,140 --> 00:38:15,350
<font color="#E5E5E5">it but it's it's a bad idea</font><font color="#CCCCCC"> sort</font><font color="#E5E5E5"> of</font>

953
00:38:11,120 --> 00:38:17,029
later<font color="#E5E5E5"> in life</font><font color="#CCCCCC"> the last</font><font color="#E5E5E5"> thing is docker</font>

954
00:38:15,350 --> 00:38:18,560
checkpoint so<font color="#CCCCCC"> dr. checkpoint is really</font>

955
00:38:17,030 --> 00:38:20,240
interesting it's an<font color="#E5E5E5"> experimental feature</font>

956
00:38:18,560 --> 00:38:23,270
it's not it's not shipped yet you can

957
00:38:20,240 --> 00:38:24,799
<font color="#CCCCCC">enable in docker</font><font color="#E5E5E5"> and that's exactly what</font>

958
00:38:23,270 --> 00:38:26,500
you'd<font color="#E5E5E5"> expect that's essentially</font><font color="#CCCCCC"> just a</font>

959
00:38:24,800 --> 00:38:29,890
full snapshot of the<font color="#E5E5E5"> hosting question</font>

960
00:38:26,500 --> 00:38:32,180
<font color="#CCCCCC">this</font><font color="#E5E5E5"> is what would</font><font color="#CCCCCC"> actually allow a</font>

961
00:38:29,890 --> 00:38:34,609
docker container to be live migrated

962
00:38:32,180 --> 00:38:37,419
between hosts<font color="#CCCCCC"> because it is a full</font>

963
00:38:34,610 --> 00:38:38,750
portable snapshot of a docker container

964
00:38:37,420 --> 00:38:40,070
<font color="#E5E5E5">that's it</font>

965
00:38:38,750 --> 00:38:41,540
nothing supports it it's not<font color="#CCCCCC"> like you</font>

966
00:38:40,070 --> 00:38:45,050
configured<font color="#E5E5E5"> this docker checkpoint in</font><font color="#CCCCCC"> two</font>

967
00:38:41,540 --> 00:38:48,770
<font color="#E5E5E5">and volatility yet there any volatility</font>

968
00:38:45,050 --> 00:38:50,890
gurus listening<font color="#E5E5E5"> please build</font><font color="#CCCCCC"> that'd be</font>

969
00:38:48,770 --> 00:38:50,890
awesome

970
00:38:51,200 --> 00:38:56,689
but if you do use it<font color="#E5E5E5"> it can be a very</font>

971
00:38:55,490 --> 00:38:59,629
<font color="#E5E5E5">very</font><font color="#CCCCCC"> effective way of isolating</font><font color="#E5E5E5"> this</font>

972
00:38:56,690 --> 00:39:02,960
thing for further investigation<font color="#CCCCCC"> and you</font>

973
00:38:59,630 --> 00:39:05,210
can you know<font color="#CCCCCC"> take it</font><font color="#E5E5E5"> take the the check</font>

974
00:39:02,960 --> 00:39:07,100
pointed container from<font color="#E5E5E5"> a server</font>

975
00:39:05,210 --> 00:39:08,670
somewhere where it<font color="#E5E5E5"> got popped</font><font color="#CCCCCC"> bring it</font>

976
00:39:07,100 --> 00:39:10,680
<font color="#E5E5E5">back to your system restart it there</font>

977
00:39:08,670 --> 00:39:13,049
it's nice it's a very clean way<font color="#CCCCCC"> of</font>

978
00:39:10,680 --> 00:39:23,308
<font color="#E5E5E5">dealing with it once it hits once in its</font>

979
00:39:13,049 --> 00:39:27,599
<font color="#E5E5E5">production</font><font color="#CCCCCC"> mmm get me close on</font><font color="#E5E5E5"> time</font><font color="#CCCCCC"> my</font>

980
00:39:23,309 --> 00:39:29,190
<font color="#E5E5E5">response so</font><font color="#CCCCCC"> their muster standard doctor</font>

981
00:39:27,599 --> 00:39:30,510
commands<font color="#E5E5E5"> I'm going to grip this a little</font>

982
00:39:29,190 --> 00:39:33,049
bit<font color="#E5E5E5"> faster so</font><font color="#CCCCCC"> I make sure I have some</font>

983
00:39:30,510 --> 00:39:33,049
time for<font color="#CCCCCC"> questions</font>

984
00:39:33,200 --> 00:39:38,220
standard doctor<font color="#E5E5E5"> commands like there's</font>

985
00:39:35,880 --> 00:39:39,990
some really<font color="#E5E5E5"> cool stuff inside that</font>

986
00:39:38,220 --> 00:39:43,410
provides<font color="#E5E5E5"> we'll talk about that next</font>

987
00:39:39,990 --> 00:39:45,000
<font color="#CCCCCC">slide but</font><font color="#E5E5E5"> basically if</font><font color="#CCCCCC"> we get right down</font>

988
00:39:43,410 --> 00:39:47,549
to it<font color="#E5E5E5"> that docker container is just a</font>

989
00:39:45,000 --> 00:39:49,710
process<font color="#E5E5E5"> on your box all the same tools</font>

990
00:39:47,549 --> 00:39:52,788
<font color="#CCCCCC">that you</font><font color="#E5E5E5"> would</font><font color="#CCCCCC"> use to</font><font color="#E5E5E5"> investigate any</font>

991
00:39:49,710 --> 00:39:55,940
other process in general mostly work

992
00:39:52,789 --> 00:39:58,710
<font color="#E5E5E5">because of the way docker docker exists</font>

993
00:39:55,940 --> 00:40:00,660
<font color="#CCCCCC">some things like like the PID the</font>

994
00:39:58,710 --> 00:40:03,029
process thinks it is is<font color="#E5E5E5"> not</font><font color="#CCCCCC"> the PID is</font>

995
00:40:00,660 --> 00:40:04,799
on the<font color="#CCCCCC"> hosts file path so</font><font color="#E5E5E5"> that the</font>

996
00:40:03,029 --> 00:40:06,329
process thinks is opening<font color="#E5E5E5"> or not the</font>

997
00:40:04,799 --> 00:40:08,240
file<font color="#CCCCCC"> path</font><font color="#E5E5E5"> the two weeks</font><font color="#CCCCCC"> that you want to</font>

998
00:40:06,329 --> 00:40:10,650
see<font color="#E5E5E5"> in the</font><font color="#CCCCCC"> host</font><font color="#E5E5E5"> things like that are</font>

999
00:40:08,240 --> 00:40:13,799
confused and broken<font color="#CCCCCC"> you can pull most</font>

1000
00:40:10,650 --> 00:40:15,990
<font color="#E5E5E5">that information from docker itself</font><font color="#CCCCCC"> the</font>

1001
00:40:13,799 --> 00:40:18,690
great<font color="#CCCCCC"> thing is anything else</font><font color="#E5E5E5"> like you</font>

1002
00:40:15,990 --> 00:40:20,308
can attach<font color="#E5E5E5"> as trace to a process that is</font>

1003
00:40:18,690 --> 00:40:22,859
the<font color="#E5E5E5"> container and it works like you'd</font>

1004
00:40:20,309 --> 00:40:25,170
<font color="#CCCCCC">expect it to work</font><font color="#E5E5E5"> more or less you can</font>

1005
00:40:22,859 --> 00:40:27,598
<font color="#E5E5E5">you can use G</font><font color="#CCCCCC"> core to force a</font><font color="#E5E5E5"> force a</font>

1006
00:40:25,170 --> 00:40:29,430
memory<font color="#E5E5E5"> dump or you know whatever other</font>

1007
00:40:27,599 --> 00:40:32,099
your normal process specific memory dump

1008
00:40:29,430 --> 00:40:34,200
is on a container<font color="#E5E5E5"> and it'll</font><font color="#CCCCCC"> work</font>

1009
00:40:32,099 --> 00:40:36,480
you can even TCP dump a specific

1010
00:40:34,200 --> 00:40:38,308
container using we talked about<font color="#CCCCCC"> before</font>

1011
00:40:36,480 --> 00:40:40,109
right<font color="#E5E5E5"> that whole bridge</font><font color="#CCCCCC"> gateway scenario</font>

1012
00:40:38,309 --> 00:40:42,390
<font color="#E5E5E5">it's fairly easy</font><font color="#CCCCCC"> to attach to the right</font>

1013
00:40:40,109 --> 00:40:44,190
right<font color="#E5E5E5"> bridge and filter on the IP</font>

1014
00:40:42,390 --> 00:40:50,190
address to actually do a do a specific

1015
00:40:44,190 --> 00:40:52,769
<font color="#E5E5E5">pcap on a container let's talk about</font>

1016
00:40:50,190 --> 00:40:56,849
<font color="#E5E5E5">these docker commands for just one</font>

1017
00:40:52,769 --> 00:40:58,618
second<font color="#CCCCCC"> there are a</font><font color="#E5E5E5"> bunch of them and I'm</font>

1018
00:40:56,849 --> 00:41:00,450
<font color="#E5E5E5">going</font><font color="#CCCCCC"> to highlight just like</font><font color="#E5E5E5"> to and you</font>

1019
00:40:58,619 --> 00:41:04,339
can you<font color="#CCCCCC"> can you can read the rest later</font>

1020
00:41:00,450 --> 00:41:07,169
one is<font color="#E5E5E5"> docker gif which will show you a</font>

1021
00:41:04,339 --> 00:41:08,430
the file diff<font color="#E5E5E5"> for running container like</font>

1022
00:41:07,170 --> 00:41:11,309
<font color="#E5E5E5">how great is that</font><font color="#CCCCCC"> but if there</font><font color="#E5E5E5"> was like</font>

1023
00:41:08,430 --> 00:41:15,149
a host OS diff<font color="#E5E5E5"> that you just run when</font>

1024
00:41:11,309 --> 00:41:17,700
you're doing response let's see docker

1025
00:41:15,150 --> 00:41:19,410
exec<font color="#CCCCCC"> will</font><font color="#E5E5E5"> let you run from the host run</font>

1026
00:41:17,700 --> 00:41:22,060
a command inside the container<font color="#E5E5E5"> this is</font>

1027
00:41:19,410 --> 00:41:24,339
how you can spin<font color="#E5E5E5"> up a bash shell</font>

1028
00:41:22,060 --> 00:41:26,049
inside the container doing response and

1029
00:41:24,340 --> 00:41:31,030
do<font color="#E5E5E5"> actual live response there on the</font>

1030
00:41:26,050 --> 00:41:32,830
container itself<font color="#CCCCCC"> we mentioned checkpoint</font>

1031
00:41:31,030 --> 00:41:37,180
<font color="#E5E5E5">that link on the bottom there just goes</font>

1032
00:41:32,830 --> 00:41:40,569
goes to a gist of a some<font color="#CCCCCC"> bash functions</font>

1033
00:41:37,180 --> 00:41:41,799
I use I wrote I<font color="#E5E5E5"> use during</font><font color="#CCCCCC"> inter</font>

1034
00:41:40,570 --> 00:41:46,270
<font color="#CCCCCC">responses</font><font color="#E5E5E5"> the develop docker that just</font>

1035
00:41:41,800 --> 00:41:47,830
automate a lot of the some of<font color="#E5E5E5"> the more</font>

1036
00:41:46,270 --> 00:41:49,240
complicated things<font color="#E5E5E5"> to pull like for</font>

1037
00:41:47,830 --> 00:41:54,240
<font color="#CCCCCC">instance one of</font><font color="#E5E5E5"> the functions in there</font>

1038
00:41:49,240 --> 00:41:57,339
lets<font color="#E5E5E5"> you pull a map of</font><font color="#CCCCCC"> host PID 2 in</font>

1039
00:41:54,240 --> 00:41:59,109
<font color="#E5E5E5">container PID for a given container that</font>

1040
00:41:57,340 --> 00:42:00,760
just makes forensics after the fact<font color="#E5E5E5"> much</font>

1041
00:41:59,110 --> 00:42:03,460
much easier<font color="#E5E5E5"> if you know that mapping</font>

1042
00:42:00,760 --> 00:42:07,440
<font color="#E5E5E5">right</font><font color="#CCCCCC"> things like that</font><font color="#E5E5E5"> just in general</font>

1043
00:42:03,460 --> 00:42:07,440
helps make your<font color="#E5E5E5"> life a little bit better</font>

1044
00:42:08,940 --> 00:42:14,500
last one of<font color="#CCCCCC"> the questions</font><font color="#E5E5E5"> and this is</font>

1045
00:42:12,910 --> 00:42:15,850
<font color="#E5E5E5">interested I should have put this</font>

1046
00:42:14,500 --> 00:42:18,490
earlier<font color="#CCCCCC"> so I had</font><font color="#E5E5E5"> more time</font><font color="#CCCCCC"> to talk about</font>

1047
00:42:15,850 --> 00:42:19,740
<font color="#E5E5E5">it so in this immutable deployment</font>

1048
00:42:18,490 --> 00:42:22,419
concept right

1049
00:42:19,740 --> 00:42:24,040
there's a<font color="#CCCCCC"> box running somewhere and I</font>

1050
00:42:22,420 --> 00:42:26,380
<font color="#E5E5E5">don't have access to it</font><font color="#CCCCCC"> I have known as</font>

1051
00:42:24,040 --> 00:42:30,130
H access I can't get on it<font color="#CCCCCC"> and it</font><font color="#E5E5E5"> gets</font>

1052
00:42:26,380 --> 00:42:32,740
popped<font color="#E5E5E5"> because reasons right but then I</font>

1053
00:42:30,130 --> 00:42:34,920
<font color="#CCCCCC">thought there are a lot of answers this</font>

1054
00:42:32,740 --> 00:42:37,299
question you could you could have<font color="#CCCCCC"> a</font>

1055
00:42:34,920 --> 00:42:40,360
<font color="#CCCCCC">immutable</font><font color="#E5E5E5"> deployment concept through</font>

1056
00:42:37,300 --> 00:42:42,250
<font color="#E5E5E5">this there's a break glass involved that</font>

1057
00:42:40,360 --> 00:42:46,180
<font color="#CCCCCC">has sort</font><font color="#E5E5E5"> of pluses and minuses</font><font color="#CCCCCC"> there</font>

1058
00:42:42,250 --> 00:42:47,980
right<font color="#CCCCCC"> but for</font><font color="#E5E5E5"> us we don't want to do</font>

1059
00:42:46,180 --> 00:42:50,049
that<font color="#CCCCCC"> we wanted to actually make</font>

1060
00:42:47,980 --> 00:42:53,680
immutable immutable<font color="#CCCCCC"> so so so what can</font><font color="#E5E5E5"> we</font>

1061
00:42:50,050 --> 00:42:56,800
do<font color="#CCCCCC"> this</font><font color="#E5E5E5"> is what we can do we essentially</font>

1062
00:42:53,680 --> 00:42:58,390
<font color="#E5E5E5">have automated instant response to</font>

1063
00:42:56,800 --> 00:43:00,730
scripts that<font color="#E5E5E5"> are sitting there</font><font color="#CCCCCC"> the</font>

1064
00:42:58,390 --> 00:43:03,400
monitoring<font color="#E5E5E5"> and SQS cube</font><font color="#CCCCCC"> they're looking</font>

1065
00:43:00,730 --> 00:43:04,960
<font color="#E5E5E5">for assigned command</font><font color="#CCCCCC"> we just borrowed</font>

1066
00:43:03,400 --> 00:43:06,850
what<font color="#CCCCCC"> gur does right you sign your</font>

1067
00:43:04,960 --> 00:43:09,850
commands directly<font color="#E5E5E5"> with</font><font color="#CCCCCC"> GPG</font><font color="#E5E5E5"> key so the</font>

1068
00:43:06,850 --> 00:43:11,799
host<font color="#E5E5E5"> knows that you waiting to kick off</font>

1069
00:43:09,850 --> 00:43:14,200
an automated<font color="#E5E5E5"> augment</font><font color="#CCCCCC"> entire run on the</font>

1070
00:43:11,800 --> 00:43:16,480
host<font color="#CCCCCC"> itself to say like hey</font><font color="#E5E5E5"> yep signed</font>

1071
00:43:14,200 --> 00:43:19,419
requests<font color="#E5E5E5"> let's do the memory dump let's</font>

1072
00:43:16,480 --> 00:43:21,970
do the the running indicators<font color="#E5E5E5"> do all the</font>

1073
00:43:19,420 --> 00:43:23,530
stuff let's encrypt it back to the key

1074
00:43:21,970 --> 00:43:24,879
<font color="#E5E5E5">that's in this command and let's toss in</font>

1075
00:43:23,530 --> 00:43:26,920
an s3 somewhere so<font color="#E5E5E5"> you can pull it down</font>

1076
00:43:24,880 --> 00:43:28,900
<font color="#E5E5E5">and do your forensics later without ever</font>

1077
00:43:26,920 --> 00:43:30,730
having access to<font color="#E5E5E5"> the host itself</font><font color="#CCCCCC"> the</font>

1078
00:43:28,900 --> 00:43:32,560
reason<font color="#CCCCCC"> we do this we do this this</font><font color="#E5E5E5"> kind</font>

1079
00:43:30,730 --> 00:43:34,900
of<font color="#E5E5E5"> thing on very very very sensitive</font>

1080
00:43:32,560 --> 00:43:37,150
hosts or access to<font color="#E5E5E5"> the</font><font color="#CCCCCC"> host could</font>

1081
00:43:34,900 --> 00:43:38,829
those things like private keys<font color="#E5E5E5"> that we</font>

1082
00:43:37,150 --> 00:43:47,440
don't want any one human<font color="#E5E5E5"> being to ever</font>

1083
00:43:38,829 --> 00:43:50,260
be able<font color="#E5E5E5"> to see right</font><font color="#CCCCCC"> let's see with that</font>

1084
00:43:47,440 --> 00:43:59,500
<font color="#CCCCCC">I think</font><font color="#E5E5E5"> we have about three or four</font>

1085
00:43:50,260 --> 00:44:01,859
minutes<font color="#CCCCCC"> yeah</font><font color="#E5E5E5"> for questions questions are</font>

1086
00:43:59,500 --> 00:44:01,859
you awake

1087
00:44:01,910 --> 00:44:07,100
<font color="#E5E5E5">okay</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> laughter says yes good well</font>

1088
00:44:05,210 --> 00:44:08,780
awesome<font color="#CCCCCC"> thank you</font><font color="#E5E5E5"> all very much</font>

1089
00:44:07,100 --> 00:44:10,490
I guess I will<font color="#CCCCCC"> leave you stupid</font><font color="#E5E5E5"> for the</font>

1090
00:44:08,780 --> 00:44:16,460
break a<font color="#E5E5E5"> little bit early</font>

1091
00:44:10,490 --> 00:44:16,459
[Applause]

