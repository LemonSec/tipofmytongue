1
00:00:09,560 --> 00:00:14,870
if you work I've done its current

2
00:00:12,740 --> 00:00:16,870
security work so<font color="#CCCCCC"> Firefox and firefox for</font>

3
00:00:14,870 --> 00:00:19,630
<font color="#CCCCCC">android I've been</font>

4
00:00:16,870 --> 00:00:21,550
building tools and things so if you use

5
00:00:19,630 --> 00:00:23,529
tools like I<font color="#E5E5E5"> was exactly been helping</font>

6
00:00:21,550 --> 00:00:27,580
Simon various out with a bunch of the

7
00:00:23,530 --> 00:00:29,740
newer features on that and and being

8
00:00:27,580 --> 00:00:31,299
promised her that I both have the

9
00:00:29,740 --> 00:00:33,670
<font color="#E5E5E5">reasons a lot to talk about this and</font>

10
00:00:31,300 --> 00:00:36,340
some experience with the subject matter

11
00:00:33,670 --> 00:00:38,680
so Mozilla came up with content security

12
00:00:36,340 --> 00:00:40,900
policy it's a technology<font color="#CCCCCC"> that was her</font>

13
00:00:38,680 --> 00:00:43,180
would<font color="#E5E5E5"> you be specified</font><font color="#CCCCCC"> by ms other</font>

14
00:00:40,900 --> 00:00:45,640
people and<font color="#E5E5E5"> I worked on it a bit in</font>

15
00:00:43,180 --> 00:00:48,790
Firefox developer tools warnings<font color="#E5E5E5"> that</font>

16
00:00:45,640 --> 00:00:50,550
you can<font color="#E5E5E5"> assist he was code I wrote and a</font>

17
00:00:48,790 --> 00:00:53,199
better reason to talk about it because

18
00:00:50,550 --> 00:00:55,059
<font color="#CCCCCC">by coming to Brazil</font><font color="#E5E5E5"> my colleagues in the</font>

19
00:00:53,199 --> 00:00:57,370
<font color="#CCCCCC">various browser vendors that work</font>

20
00:00:55,059 --> 00:00:59,559
together on building standards for<font color="#E5E5E5"> the</font>

21
00:00:57,370 --> 00:01:02,080
web they work very hard to build

22
00:00:59,559 --> 00:01:05,530
security features for the platform that

23
00:01:02,080 --> 00:01:09,310
we're providing people<font color="#E5E5E5"> and yet they are</font>

24
00:01:05,530 --> 00:01:10,590
fairly rarely used so I want to<font color="#E5E5E5"> improve</font>

25
00:01:09,310 --> 00:01:13,210
web security we have a situation

26
00:01:10,590 --> 00:01:16,690
particularly with this technology that

27
00:01:13,210 --> 00:01:20,649
it's really heavily only used sertoli

28
00:01:16,690 --> 00:01:26,039
some numbers there is a blog recently

29
00:01:20,650 --> 00:01:26,040
most recent American which

30
00:01:43,950 --> 00:01:47,920
you know you're doing<font color="#E5E5E5"> presentation you</font>

31
00:01:46,210 --> 00:01:50,500
told me to ignoring<font color="#E5E5E5"> these screens</font><font color="#CCCCCC"> and</font>

32
00:01:47,920 --> 00:01:52,450
having different ears if you're wanting

33
00:01:50,500 --> 00:01:55,900
<font color="#E5E5E5">to have more than one tab it's a good</font>

34
00:01:52,450 --> 00:01:58,119
idea if you're going to use so this<font color="#CCCCCC"> is</font>

35
00:01:55,900 --> 00:02:00,430
from<font color="#E5E5E5"> the very very code blog and they</font>

36
00:01:58,119 --> 00:02:02,170
did<font color="#CCCCCC"> a head of survey will over to the</font>

37
00:02:00,430 --> 00:02:05,229
<font color="#E5E5E5">very</font><font color="#CCCCCC"> security that is in hand health and</font>

38
00:02:02,170 --> 00:02:06,850
they're used and when it's finally

39
00:02:05,229 --> 00:02:11,800
learned it will see some numbers on on

40
00:02:06,850 --> 00:02:16,140
various security<font color="#E5E5E5"> payers and among those</font>

41
00:02:11,800 --> 00:02:16,140
numbers are some figures on use of CSP

42
00:02:16,950 --> 00:02:31,390
there we go failure to help us<font color="#E5E5E5"> to</font>

43
00:02:20,170 --> 00:02:33,579
improve reception and there we<font color="#CCCCCC"> go we can</font>

44
00:02:31,390 --> 00:02:37,029
see<font color="#E5E5E5"> that at the top million sites as mr.</font>

45
00:02:33,580 --> 00:02:38,680
violet sir there are approximately 400

46
00:02:37,030 --> 00:02:41,769
of them making use of content security

47
00:02:38,680 --> 00:02:44,380
policy in the survey data so if we

48
00:02:41,769 --> 00:02:46,180
hundred after the top million isn't many

49
00:02:44,380 --> 00:02:47,950
sites and that's a sad thing it's<font color="#E5E5E5"> a sad</font>

50
00:02:46,180 --> 00:02:50,200
thing if you build a platform it has a

51
00:02:47,950 --> 00:02:51,640
really useful security feature and

52
00:02:50,200 --> 00:02:53,079
people don't<font color="#E5E5E5"> use it too much so that's</font>

53
00:02:51,640 --> 00:02:55,329
really why I want<font color="#E5E5E5"> to do the stuff I</font>

54
00:02:53,080 --> 00:02:57,700
wanted to talk about how that's really

55
00:02:55,330 --> 00:03:00,760
useful thing out there<font color="#E5E5E5"> and people are</font>

56
00:02:57,700 --> 00:03:03,070
not making enough use of it so in the

57
00:03:00,760 --> 00:03:06,489
talk about CSP that's that that's<font color="#E5E5E5"> the</font>

58
00:03:03,070 --> 00:03:11,320
plan for<font color="#CCCCCC"> the torque and first of all</font><font color="#E5E5E5"> I'm</font>

59
00:03:06,489 --> 00:03:13,060
gonna start<font color="#E5E5E5"> off by explaining some</font>

60
00:03:11,320 --> 00:03:15,280
context because we need to understand

61
00:03:13,060 --> 00:03:16,930
some things before we<font color="#E5E5E5"> can make use of</font>

62
00:03:15,280 --> 00:03:19,060
the technology so it starts up talking

63
00:03:16,930 --> 00:03:21,819
<font color="#E5E5E5">about precise riveting and who does work</font>

64
00:03:19,060 --> 00:03:25,480
<font color="#CCCCCC">Network depart</font>

65
00:03:21,819 --> 00:03:29,138
who has<font color="#CCCCCC"> the secure websites secure</font>

66
00:03:25,480 --> 00:03:32,828
websites until<font color="#E5E5E5"> okay hooters of the</font>

67
00:03:29,139 --> 00:03:34,989
development type stuff this is sad we've

68
00:03:32,829 --> 00:03:39,519
got a room from people at our<font color="#CCCCCC"> own</font>

69
00:03:34,989 --> 00:03:41,109
<font color="#CCCCCC">numbers and which so into the red cross</font>

70
00:03:39,519 --> 00:03:42,219
site scripting because that's valuable

71
00:03:41,109 --> 00:03:44,409
context then we're going<font color="#E5E5E5"> to talk about</font>

72
00:03:42,219 --> 00:03:46,689
<font color="#E5E5E5">the CSP and what it is and why it was</font>

73
00:03:44,409 --> 00:03:48,250
created<font color="#CCCCCC"> I'm going</font><font color="#E5E5E5"> to talk about why CSP</font>

74
00:03:46,689 --> 00:03:51,249
is difficult as a technology for people

75
00:03:48,250 --> 00:03:52,749
to implement and<font color="#CCCCCC"> with the focus of the</font>

76
00:03:51,249 --> 00:03:54,849
talk is about making it less awkward

77
00:03:52,749 --> 00:03:56,888
because CSP has been around for a couple

78
00:03:54,849 --> 00:03:58,810
of years now people have stayed<font color="#CCCCCC"> away</font>

79
00:03:56,889 --> 00:04:00,310
from any drives and there are tricks

80
00:03:58,810 --> 00:04:02,349
that people can<font color="#CCCCCC"> use to</font><font color="#E5E5E5"> make use of it</font>

81
00:04:00,310 --> 00:04:03,400
that men might not be aware of and then

82
00:04:02,349 --> 00:04:05,738
I want<font color="#CCCCCC"> to</font><font color="#E5E5E5"> talk</font><font color="#CCCCCC"> about some common</font>

83
00:04:03,400 --> 00:04:08,590
mistakes people make when visiting this

84
00:04:05,739 --> 00:04:10,379
technology so most of all kinds of you

85
00:04:08,590 --> 00:04:13,120
if you know what cross-site scripting is

86
00:04:10,379 --> 00:04:14,828
<font color="#CCCCCC">okay so we'll know a bit of a cross-site</font>

87
00:04:13,120 --> 00:04:17,168
scripting do we know about different

88
00:04:14,829 --> 00:04:19,358
flavors of cross-site scripting<font color="#CCCCCC"> share</font>

89
00:04:17,168 --> 00:04:23,109
<font color="#CCCCCC">our game is pretty hamlet reflect</font>

90
00:04:19,358 --> 00:04:28,030
reflect it<font color="#E5E5E5"> okay scored okay first two</font>

91
00:04:23,110 --> 00:04:31,539
hunters<font color="#E5E5E5"> I expected anything else darn</font>

92
00:04:28,030 --> 00:04:32,859
<font color="#E5E5E5">okay so there we go so</font><font color="#CCCCCC"> sometimes we</font>

93
00:04:31,539 --> 00:04:34,810
categorize cross-site scripting by

94
00:04:32,860 --> 00:04:36,460
<font color="#CCCCCC">reflexes and</font><font color="#E5E5E5"> stored in the case somebody</font>

95
00:04:34,810 --> 00:04:38,580
who doesn't know what those things are

96
00:04:36,460 --> 00:04:41,409
let's have a look at an example of

97
00:04:38,580 --> 00:04:43,900
reflective cross-site scripting so there

98
00:04:41,409 --> 00:04:46,630
we go here's what<font color="#E5E5E5"> I made earlier they</font>

99
00:04:43,900 --> 00:04:49,000
say document which takes a parameter

100
00:04:46,630 --> 00:04:51,310
called test we've managed<font color="#CCCCCC"> to stick some</font>

101
00:04:49,000 --> 00:04:53,409
stuff on the URL and we<font color="#E5E5E5"> request the page</font>

102
00:04:51,310 --> 00:04:56,409
the payload is reflected back to<font color="#CCCCCC"> the</font>

103
00:04:53,409 --> 00:04:58,180
client and executed in the browser<font color="#E5E5E5"> in</font>

104
00:04:56,409 --> 00:05:01,830
the context of the site Bieber visiting

105
00:04:58,180 --> 00:05:04,240
ok now I'm Don is a little bit different

106
00:05:01,830 --> 00:05:06,190
now sometimes<font color="#CCCCCC"> we categorized by whether</font>

107
00:05:04,240 --> 00:05:08,560
a cross-site scripting attack is

108
00:05:06,190 --> 00:05:10,509
reflected or stored we can also

109
00:05:08,560 --> 00:05:12,669
categorize on where the attack happens

110
00:05:10,509 --> 00:05:13,949
and<font color="#E5E5E5"> this is white dong cross-site</font>

111
00:05:12,669 --> 00:05:16,599
scripting is interesting because

112
00:05:13,949 --> 00:05:18,500
conventional cross-site scripting your

113
00:05:16,599 --> 00:05:20,630
reflected in stores the glue

114
00:05:18,500 --> 00:05:23,150
before these are vulnerabilities of

115
00:05:20,630 --> 00:05:25,219
existing server code where inputs

116
00:05:23,150 --> 00:05:27,500
provided by the clients is replayed in

117
00:05:25,220 --> 00:05:29,150
the response donbass<font color="#E5E5E5"> crops cross-site</font>

118
00:05:27,500 --> 00:05:31,610
scripting takes place on the clients and

119
00:05:29,150 --> 00:05:33,590
as<font color="#CCCCCC"> javascript running in the document is</font>

120
00:05:31,610 --> 00:05:36,230
served by the server and<font color="#E5E5E5"> the</font>

121
00:05:33,590 --> 00:05:38,450
vulnerability is in that<font color="#E5E5E5"> javascript and</font>

122
00:05:36,230 --> 00:05:40,610
what makes that interesting is that you

123
00:05:38,450 --> 00:05:42,770
don't<font color="#E5E5E5"> need dynamic content serve from</font>

124
00:05:40,610 --> 00:05:45,290
your server at all to be<font color="#CCCCCC"> vulnerable to a</font>

125
00:05:42,770 --> 00:05:46,729
Donald cross-site scripting attack you

126
00:05:45,290 --> 00:05:49,160
could have static content on your

127
00:05:46,730 --> 00:05:51,710
website for example a brochure awareness

128
00:05:49,160 --> 00:05:53,390
<font color="#E5E5E5">it's alongside implications which can</font>

129
00:05:51,710 --> 00:05:54,770
potentially cause problems to<font color="#CCCCCC"> the rest</font>

130
00:05:53,390 --> 00:05:56,419
<font color="#E5E5E5">of your application by nature of the</font>

131
00:05:54,770 --> 00:05:58,969
fact that they're horrible to<font color="#E5E5E5"> DOM</font>

132
00:05:56,419 --> 00:06:02,630
cross-site scripting and to look<font color="#E5E5E5"> at an</font>

133
00:05:58,970 --> 00:06:04,070
example of that again we learn a

134
00:06:02,630 --> 00:06:06,590
document and immediately see<font color="#E5E5E5"> the script</font>

135
00:06:04,070 --> 00:06:08,830
is executed but this happens in this one

136
00:06:06,590 --> 00:06:11,810
different way so rather than being

137
00:06:08,830 --> 00:06:15,650
reflected from the<font color="#E5E5E5"> server the issue is</font>

138
00:06:11,810 --> 00:06:16,880
actually in the HTML observed we looking

139
00:06:15,650 --> 00:06:19,210
straight ahead we'll see<font color="#CCCCCC"> there's a</font>

140
00:06:16,880 --> 00:06:23,780
script element if we look<font color="#E5E5E5"> inside the</font>

141
00:06:19,210 --> 00:06:25,430
script<font color="#E5E5E5"> opens we'll see that when the</font>

142
00:06:23,780 --> 00:06:29,419
document is loaded something from the

143
00:06:25,430 --> 00:06:31,700
hatch part of the URL<font color="#E5E5E5"> is put into</font>

144
00:06:29,419 --> 00:06:34,669
something unsafe in<font color="#CCCCCC"> an HTML in this case</font>

145
00:06:31,700 --> 00:06:36,830
and bad things happen it's<font color="#CCCCCC"> actually</font>

146
00:06:34,669 --> 00:06:39,710
pretty good<font color="#E5E5E5"> advice to never use a</font><font color="#CCCCCC"> range</font>

147
00:06:36,830 --> 00:06:40,729
<font color="#E5E5E5">female if you using original you should</font>

148
00:06:39,710 --> 00:06:42,320
know<font color="#CCCCCC"> that there's probably something</font>

149
00:06:40,729 --> 00:06:46,870
faster and there's certain something

150
00:06:42,320 --> 00:06:51,580
safer<font color="#CCCCCC"> okay so that's all we need to</font><font color="#E5E5E5"> know</font>

151
00:06:46,870 --> 00:06:56,140
about cross-site scripting<font color="#E5E5E5"> cool start</font>

152
00:06:51,580 --> 00:06:58,789
now cross-site scripting shares a

153
00:06:56,140 --> 00:07:01,099
interesting property with lots of other

154
00:06:58,790 --> 00:07:03,620
types of vulnerability and<font color="#CCCCCC"> David in the</font>

155
00:07:01,100 --> 00:07:05,570
<font color="#CCCCCC">last session at a conversation where he</font>

156
00:07:03,620 --> 00:07:07,250
was<font color="#E5E5E5"> reading of problems with different</font>

157
00:07:05,570 --> 00:07:09,110
sites and what do<font color="#E5E5E5"> you think</font><font color="#CCCCCC"> about a</font>

158
00:07:07,250 --> 00:07:11,660
common theme application security if we

159
00:07:09,110 --> 00:07:13,400
think about and stack overflow cigarette

160
00:07:11,660 --> 00:07:15,199
super injection

161
00:07:13,400 --> 00:07:16,940
keep overflows to think about

162
00:07:15,199 --> 00:07:18,889
<font color="#CCCCCC">prescription from an</font><font color="#E5E5E5"> injection</font>

163
00:07:16,940 --> 00:07:21,080
use-after-free<font color="#E5E5E5"> longer reaches all that</font>

164
00:07:18,889 --> 00:07:23,210
sort of thing what's the one thing they

165
00:07:21,080 --> 00:07:25,190
all have in<font color="#E5E5E5"> fun what one of these</font>

166
00:07:23,210 --> 00:07:29,330
<font color="#E5E5E5">problems have income what unites these</font>

167
00:07:25,190 --> 00:07:36,650
vulnerabilities<font color="#E5E5E5"> can we use your input</font>

168
00:07:29,330 --> 00:07:38,240
yeah so user input is data wait what

169
00:07:36,650 --> 00:07:44,120
happens to<font color="#CCCCCC"> that data in all of these</font>

170
00:07:38,240 --> 00:07:46,039
cases then yes there is a failure

171
00:07:44,120 --> 00:07:47,780
validation routines possibly and that

172
00:07:46,039 --> 00:07:53,180
results in some decks are being

173
00:07:47,780 --> 00:07:55,190
interpreted as because what instruction

174
00:07:53,180 --> 00:07:58,550
<font color="#E5E5E5">okay so all</font><font color="#CCCCCC"> of these vulnerability</font>

175
00:07:55,190 --> 00:08:00,830
classes they stem from the fact that if

176
00:07:58,550 --> 00:08:03,620
we don't design systems properly there

177
00:08:00,830 --> 00:08:05,870
can be confusion within a system on what

178
00:08:03,620 --> 00:08:08,000
is just data to be processed as data and

179
00:08:05,870 --> 00:08:10,760
what is actually<font color="#E5E5E5"> instructions to be</font>

180
00:08:08,000 --> 00:08:12,590
processed<font color="#E5E5E5"> as application logic</font><font color="#CCCCCC"> okay so</font>

181
00:08:10,760 --> 00:08:14,990
in the case<font color="#CCCCCC"> of a stack overflow you in</font>

182
00:08:12,590 --> 00:08:17,270
the overwriting important pointer in the

183
00:08:14,990 --> 00:08:21,349
case of command injection then you can

184
00:08:17,270 --> 00:08:23,240
make<font color="#CCCCCC"> your an interpreter of commands do</font>

185
00:08:21,349 --> 00:08:25,130
something<font color="#CCCCCC"> it should and they look pretty</font>

186
00:08:23,240 --> 00:08:26,690
much the same in terms of the mechanism

187
00:08:25,130 --> 00:08:29,120
of how that<font color="#E5E5E5"> happened is there like this</font>

188
00:08:26,690 --> 00:08:32,120
<font color="#E5E5E5">all differences but fundamentally is all</font>

189
00:08:29,120 --> 00:08:34,099
have the same problem<font color="#CCCCCC"> okay and if we</font>

190
00:08:32,120 --> 00:08:36,409
<font color="#CCCCCC">look at all of the extent we can see</font>

191
00:08:34,099 --> 00:08:38,360
that and over time<font color="#CCCCCC"> people have come up</font>

192
00:08:36,409 --> 00:08:40,580
<font color="#E5E5E5">with ways of mitigating vulnerabilities</font>

193
00:08:38,360 --> 00:08:42,229
of each of these types so in the case of

194
00:08:40,580 --> 00:08:44,270
a stack overflow people came up<font color="#E5E5E5"> with</font>

195
00:08:42,229 --> 00:08:45,880
ways of putting in<font color="#CCCCCC"> Canary values on the</font>

196
00:08:44,270 --> 00:08:48,010
<font color="#E5E5E5">step so you know something too</font>

197
00:08:45,880 --> 00:08:50,740
you can make sure you clean<font color="#E5E5E5"> up after</font>

198
00:08:48,010 --> 00:08:52,900
yourself in a safe way or<font color="#E5E5E5"> in the case</font><font color="#CCCCCC"> of</font>

199
00:08:50,740 --> 00:08:54,540
sequel injection people came<font color="#CCCCCC"> up with</font>

200
00:08:52,900 --> 00:08:56,890
ways of making type safe and

201
00:08:54,540 --> 00:09:00,219
parameterised query so you couldn't put

202
00:08:56,890 --> 00:09:02,470
something in in such a way that<font color="#CCCCCC"> it's</font>

203
00:09:00,220 --> 00:09:03,930
unsafe<font color="#E5E5E5"> and going back</font><font color="#CCCCCC"> to a little bit</font><font color="#E5E5E5"> or</font>

204
00:09:02,470 --> 00:09:07,180
tell you're on the reason why and

205
00:09:03,930 --> 00:09:09,160
certain legacy PHP techniques for making

206
00:09:07,180 --> 00:09:11,109
database inputs and what<font color="#CCCCCC"> we're remove</font>

207
00:09:09,160 --> 00:09:12,430
was because there were other central

208
00:09:11,110 --> 00:09:14,230
ways of doing things and again

209
00:09:12,430 --> 00:09:15,819
developers stayed away from them in

210
00:09:14,230 --> 00:09:18,160
droves and if you do<font color="#E5E5E5"> pen testing work on</font>

211
00:09:15,820 --> 00:09:19,570
PHP applications today you still find a

212
00:09:18,160 --> 00:09:21,490
sequel injection<font color="#E5E5E5"> everywhere because</font>

213
00:09:19,570 --> 00:09:24,220
developers event to<font color="#E5E5E5"> the habit of doing</font>

214
00:09:21,490 --> 00:09:27,160
the wrong thing so content security

215
00:09:24,220 --> 00:09:30,070
policy tries to imitate some of these

216
00:09:27,160 --> 00:09:33,670
mitigation methods and the<font color="#E5E5E5"> way it does</font>

217
00:09:30,070 --> 00:09:35,940
it is by saying we'll look and we need

218
00:09:33,670 --> 00:09:40,180
<font color="#CCCCCC">to make sure</font><font color="#E5E5E5"> that we have separated</font>

219
00:09:35,940 --> 00:09:41,770
content<font color="#E5E5E5"> then which is data and content</font>

220
00:09:40,180 --> 00:09:43,689
which is instructions and anything<font color="#E5E5E5"> which</font>

221
00:09:41,770 --> 00:09:45,819
we can't be sure of as being an

222
00:09:43,690 --> 00:09:49,690
instruction in subway we have to not

223
00:09:45,820 --> 00:09:51,670
execute it<font color="#E5E5E5"> okay and the way it does that</font>

224
00:09:49,690 --> 00:09:53,260
is by providing a policy we need to

225
00:09:51,670 --> 00:09:55,930
document asserts the client and

226
00:09:53,260 --> 00:10:00,280
typically it's via response header and

227
00:09:55,930 --> 00:10:02,020
that policy says this document and for

228
00:10:00,280 --> 00:10:04,000
<font color="#CCCCCC">example by default won't have any</font>

229
00:10:02,020 --> 00:10:06,850
<font color="#E5E5E5">England scripts or it won't have any</font>

230
00:10:04,000 --> 00:10:08,680
inline styles and therefore when the

231
00:10:06,850 --> 00:10:10,540
browser see something that looks<font color="#E5E5E5"> like an</font>

232
00:10:08,680 --> 00:10:13,120
inline script role in line status as now

233
00:10:10,540 --> 00:10:14,620
I know that<font color="#CCCCCC"> I'm not</font><font color="#E5E5E5"> supposed to be doing</font>

234
00:10:13,120 --> 00:10:16,890
anything with inline script or inline

235
00:10:14,620 --> 00:10:18,820
styles so I'm<font color="#E5E5E5"> not going to treat them as</font>

236
00:10:16,890 --> 00:10:20,920
instructions I'm not going<font color="#E5E5E5"> to execute</font>

237
00:10:18,820 --> 00:10:23,680
that script I'm not<font color="#CCCCCC"> going to apply that</font>

238
00:10:20,920 --> 00:10:26,020
style to the document a sense of policy

239
00:10:23,680 --> 00:10:27,880
and it secures content that's all there

240
00:10:26,020 --> 00:10:30,640
<font color="#CCCCCC">is to it and</font><font color="#E5E5E5"> we can talk a little bit</font>

241
00:10:27,880 --> 00:10:33,130
about what those things what policies

242
00:10:30,640 --> 00:10:34,870
look like anna wagner but the key thing

243
00:10:33,130 --> 00:10:37,900
here is we're talking about separation

244
00:10:34,870 --> 00:10:40,870
of denser and instructional talking

245
00:10:37,900 --> 00:10:42,220
about clear delineation between what<font color="#CCCCCC"> is</font>

246
00:10:40,870 --> 00:10:44,209
supposed<font color="#E5E5E5"> to be code and what is the</font>

247
00:10:42,220 --> 00:10:47,029
place to<font color="#E5E5E5"> be and data to</font>

248
00:10:44,209 --> 00:10:48,679
in a different way so let's<font color="#E5E5E5"> look for</font>

249
00:10:47,029 --> 00:10:52,339
example<font color="#CCCCCC"> here we have a cell phone</font>

250
00:10:48,679 --> 00:10:53,689
content security policy hopefully it's

251
00:10:52,339 --> 00:10:55,670
not broken last time I did this<font color="#E5E5E5"> took a</font>

252
00:10:53,689 --> 00:10:59,059
kind of mistake here so but the head of

253
00:10:55,670 --> 00:11:00,769
a top content security policy and we can

254
00:10:59,059 --> 00:11:03,499
do various things we can say things<font color="#E5E5E5"> like</font>

255
00:11:00,769 --> 00:11:05,569
defaults or self so this<font color="#CCCCCC"> is telling</font><font color="#E5E5E5"> the</font>

256
00:11:03,499 --> 00:11:06,949
document<font color="#CCCCCC"> that by default I don't want</font>

257
00:11:05,569 --> 00:11:09,349
you to trust anything that's from a

258
00:11:06,949 --> 00:11:11,479
different origin to the origin<font color="#E5E5E5"> that this</font>

259
00:11:09,350 --> 00:11:15,199
document was served from the case a

260
00:11:11,480 --> 00:11:17,360
certain example calm over an<font color="#E5E5E5"> SSL then</font>

261
00:11:15,199 --> 00:11:21,109
we're only looking for secure documents

262
00:11:17,360 --> 00:11:23,149
serve for example<font color="#E5E5E5"> okay and then we can</font>

263
00:11:21,110 --> 00:11:25,160
refine for various classes we<font color="#CCCCCC"> can say</font>

264
00:11:23,149 --> 00:11:27,949
objects or to know I don't<font color="#E5E5E5"> really follow</font>

265
00:11:25,160 --> 00:11:29,300
any plugins please any plugins just

266
00:11:27,949 --> 00:11:32,089
don't load them from anywhere this will

267
00:11:29,300 --> 00:11:34,160
out completely and by default in a

268
00:11:32,089 --> 00:11:36,709
Content security policy inline scripts

269
00:11:34,160 --> 00:11:38,089
and inline styles are for then you can

270
00:11:36,709 --> 00:11:40,160
turn<font color="#E5E5E5"> that off you can turn anything off</font>

271
00:11:38,089 --> 00:11:41,629
the deposit security policy but by

272
00:11:40,160 --> 00:11:43,759
default inline scripts<font color="#E5E5E5"> nothing point</font>

273
00:11:41,629 --> 00:11:47,050
script value attribute so your gamma 0

274
00:11:43,759 --> 00:11:49,999
event handlers they don't work either

275
00:11:47,050 --> 00:11:51,378
and also saying well<font color="#CCCCCC"> if anything</font><font color="#E5E5E5"> goes</font>

276
00:11:49,999 --> 00:11:52,670
wrong with this policy if what<font color="#E5E5E5"> I'm</font>

277
00:11:51,379 --> 00:11:55,699
trying<font color="#CCCCCC"> to apply this policy to this</font>

278
00:11:52,670 --> 00:11:57,139
document something Bronx you know that

279
00:11:55,699 --> 00:11:59,748
one your sign of something going wrong

280
00:11:57,139 --> 00:12:01,309
maybe someones founded a cross-site

281
00:11:59,749 --> 00:12:03,889
scripting attack on our site and<font color="#E5E5E5"> they're</font>

282
00:12:01,309 --> 00:12:06,709
trying<font color="#E5E5E5"> to exploit our users well you can</font>

283
00:12:03,889 --> 00:12:09,459
send reports to provide a URL to say

284
00:12:06,709 --> 00:12:13,729
send me information what's going on here

285
00:12:09,459 --> 00:12:15,920
so i did a example earlier on of a

286
00:12:13,730 --> 00:12:19,160
reflected cross-site scripting<font color="#E5E5E5"> try the</font>

287
00:12:15,920 --> 00:12:23,378
same thing with a sample<font color="#E5E5E5"> policy apply</font>

288
00:12:19,160 --> 00:12:25,639
okay so there we go we've<font color="#CCCCCC"> got the same</font>

289
00:12:23,379 --> 00:12:28,749
page to be solved for exactly the same

290
00:12:25,639 --> 00:12:33,790
document and the only<font color="#E5E5E5"> difference to this</font>

291
00:12:28,749 --> 00:12:36,139
girl<font color="#E5E5E5"> mckinley father to network panel</font>

292
00:12:33,790 --> 00:12:38,059
request looks exactly the same the code

293
00:12:36,139 --> 00:12:40,549
is exactly the<font color="#E5E5E5"> same all this difference</font>

294
00:12:38,059 --> 00:12:43,790
is that here we have content security

295
00:12:40,549 --> 00:12:45,529
policy as generic as they get just a

296
00:12:43,790 --> 00:12:47,629
light just allow stuff from this origin

297
00:12:45,529 --> 00:12:50,660
and don't allow inline scripts and

298
00:12:47,629 --> 00:12:53,360
inline styles and despite the<font color="#E5E5E5"> fact that</font>

299
00:12:50,660 --> 00:12:59,199
script is injected into the<font color="#CCCCCC"> document you</font>

300
00:12:53,360 --> 00:12:59,199
<font color="#CCCCCC">can find me know whether</font><font color="#E5E5E5"> up in here</font>

301
00:13:01,689 --> 00:13:07,998
there we go this fighting falcon script

302
00:13:04,730 --> 00:13:11,269
is injected CSP says no<font color="#CCCCCC"> i'm not happy</font>

303
00:13:07,999 --> 00:13:14,629
and we get handy little notification to

304
00:13:11,269 --> 00:13:16,549
say thank you setting of a lot of

305
00:13:14,629 --> 00:13:18,799
learning of a resource so we had a

306
00:13:16,549 --> 00:13:20,299
vulnerable document there that was as

307
00:13:18,799 --> 00:13:22,040
vulnerable to the<font color="#E5E5E5"> simplest possible</font>

308
00:13:20,299 --> 00:13:24,410
reflective cross-site scripting attack

309
00:13:22,040 --> 00:13:26,389
and because<font color="#E5E5E5"> there's a CSP applied to the</font>

310
00:13:24,410 --> 00:13:28,189
document and any browser that supports

311
00:13:26,389 --> 00:13:30,649
content security policy and that's a

312
00:13:28,189 --> 00:13:33,679
growing number that tap would not have

313
00:13:30,649 --> 00:13:38,839
succeeded right so that's a<font color="#E5E5E5"> good thing</font>

314
00:13:33,679 --> 00:13:41,449
we<font color="#E5E5E5"> like that</font><font color="#CCCCCC"> only security so that's</font>

315
00:13:38,839 --> 00:13:45,309
constant security policy and that's what

316
00:13:41,449 --> 00:13:45,309
it looks like at a high level

317
00:13:49,650 --> 00:13:56,800
the room<font color="#CCCCCC"> number browser support like we</font>

318
00:13:52,330 --> 00:14:03,280
<font color="#E5E5E5">do and you know so web distorted it for</font>

319
00:13:56,800 --> 00:14:05,319
a while<font color="#E5E5E5"> and so Safari supports it blinks</font>

320
00:14:03,280 --> 00:14:07,510
<font color="#E5E5E5">of course obviously so opera arminta</font>

321
00:14:05,320 --> 00:14:09,820
chrome support it five bucks per

322
00:14:07,510 --> 00:14:11,319
supported alien relations for ages so

323
00:14:09,820 --> 00:14:14,080
it's really only internet explorer that

324
00:14:11,320 --> 00:14:15,490
doesn't<font color="#CCCCCC"> support it and</font><font color="#E5E5E5"> I saw recently</font>

325
00:14:14,080 --> 00:14:17,950
that they're<font color="#E5E5E5"> working on it now which is</font>

326
00:14:15,490 --> 00:14:19,930
<font color="#CCCCCC">great so we're hoping that means that</font>

327
00:14:17,950 --> 00:14:22,990
soon everyone supports that needs to

328
00:14:19,930 --> 00:14:24,790
subset of this which is good<font color="#E5E5E5"> okay and</font>

329
00:14:22,990 --> 00:14:27,490
there are a bunch of different<font color="#E5E5E5"> directors</font>

330
00:14:24,790 --> 00:14:29,140
you can apply<font color="#E5E5E5"> so the source</font><font color="#CCCCCC"> directives</font>

331
00:14:27,490 --> 00:14:32,740
you can specify<font color="#CCCCCC"> where you want certain</font>

332
00:14:29,140 --> 00:14:34,660
things to learn from so<font color="#E5E5E5"> by default for</font>

333
00:14:32,740 --> 00:14:37,600
the top or scripts or style model

334
00:14:34,660 --> 00:14:41,079
objects<font color="#CCCCCC"> connectors for</font><font color="#E5E5E5"> things like xhr</font>

335
00:14:37,600 --> 00:14:42,430
for making XML HTTP requests or if

336
00:14:41,080 --> 00:14:44,470
you're using web sockets or something

337
00:14:42,430 --> 00:14:46,300
like that the next source is useful to

338
00:14:44,470 --> 00:14:51,670
know about just<font color="#E5E5E5"> that talk to that we can</font>

339
00:14:46,300 --> 00:14:54,400
and make connections to and so on so

340
00:14:51,670 --> 00:14:56,770
we've seen an example of a Perseus be

341
00:14:54,400 --> 00:14:58,510
applied to a document and we've got an

342
00:14:56,770 --> 00:14:59,980
<font color="#CCCCCC">understanding of how it works that's</font>

343
00:14:58,510 --> 00:15:01,270
great right everyone should<font color="#CCCCCC"> be using</font>

344
00:14:59,980 --> 00:15:03,700
<font color="#E5E5E5">this because even if you've got these</font>

345
00:15:01,270 --> 00:15:04,930
vulnerabilities most of your users have

346
00:15:03,700 --> 00:15:06,610
browsers that mean<font color="#CCCCCC"> that they are</font>

347
00:15:04,930 --> 00:15:11,050
invulnerable to the right surely that's

348
00:15:06,610 --> 00:15:12,160
a good thing well actually the numbers

349
00:15:11,050 --> 00:15:15,040
are showing the beginning<font color="#E5E5E5"> tell a bit of</font>

350
00:15:12,160 --> 00:15:17,020
a sad story if only<font color="#CCCCCC"> four hundred or so</font>

351
00:15:15,040 --> 00:15:20,110
<font color="#E5E5E5">of the top million sites are making use</font>

352
00:15:17,020 --> 00:15:21,640
of CSP I think we'd all agree that's bad

353
00:15:20,110 --> 00:15:23,590
news because we'd like all of the sites

354
00:15:21,640 --> 00:15:25,240
with you to not be following it across

355
00:15:23,590 --> 00:15:27,910
site scripting in the browsers that we

356
00:15:25,240 --> 00:15:29,890
use but it's not<font color="#CCCCCC"> all that bad because</font>

357
00:15:27,910 --> 00:15:32,949
<font color="#E5E5E5">there are already some major sites that</font>

358
00:15:29,890 --> 00:15:35,470
make use of this 20 for example they

359
00:15:32,950 --> 00:15:37,570
haven't yet by dcs peter to twitter.com

360
00:15:35,470 --> 00:15:39,370
p version in<font color="#CCCCCC"> the side you are using the</font>

361
00:15:37,570 --> 00:15:40,900
browser but everything<font color="#CCCCCC"> else they have</font>

362
00:15:39,370 --> 00:15:42,820
<font color="#CCCCCC">applied</font><font color="#E5E5E5"> it to so if you're using the</font>

363
00:15:40,900 --> 00:15:45,040
mobile version<font color="#E5E5E5"> of this site if you're</font>

364
00:15:42,820 --> 00:15:46,370
reading<font color="#E5E5E5"> the twitter blog if you're using</font>

365
00:15:45,040 --> 00:15:48,439
tweetdeck if you

366
00:15:46,370 --> 00:15:50,120
center of using the translation center

367
00:15:48,440 --> 00:15:52,310
or Twitter for business or any<font color="#E5E5E5"> one of</font>

368
00:15:50,120 --> 00:15:54,650
those things Twitter<font color="#CCCCCC"> robots ESP</font>

369
00:15:52,310 --> 00:15:55,969
everywhere and that's good and<font color="#E5E5E5"> one of</font>

370
00:15:54,650 --> 00:15:58,010
the good things about pretty using it

371
00:15:55,970 --> 00:16:00,710
everywhere is that you can go<font color="#E5E5E5"> to Twitter</font>

372
00:15:58,010 --> 00:16:02,060
blog and<font color="#CCCCCC"> can read about their stories</font>

373
00:16:00,710 --> 00:16:03,410
and deploying it in these different

374
00:16:02,060 --> 00:16:04,939
sites and they're quite<font color="#E5E5E5"> open about what</font>

375
00:16:03,410 --> 00:16:07,699
they've done and<font color="#CCCCCC"> how they've done it</font><font color="#E5E5E5"> and</font>

376
00:16:04,940 --> 00:16:09,320
the challenges<font color="#E5E5E5"> that they found and the</font>

377
00:16:07,700 --> 00:16:11,660
challenges that they found can<font color="#CCCCCC"> be as</font>

378
00:16:09,320 --> 00:16:14,270
useful to us as they come into new

379
00:16:11,660 --> 00:16:15,829
because when we are sending people to

380
00:16:14,270 --> 00:16:17,569
the various standards bodies that<font color="#E5E5E5"> we're</font>

381
00:16:15,830 --> 00:16:18,920
looking<font color="#CCCCCC"> at this kind of thing we can say</font>

382
00:16:17,570 --> 00:16:21,080
this is a<font color="#CCCCCC"> problem in practice because</font>

383
00:16:18,920 --> 00:16:22,880
<font color="#E5E5E5">people have this problem or people have</font>

384
00:16:21,080 --> 00:16:25,850
that<font color="#E5E5E5"> problem and that can be a useful</font>

385
00:16:22,880 --> 00:16:28,010
feedback cycle for us so there are

386
00:16:25,850 --> 00:16:30,589
already some major sites using this and

387
00:16:28,010 --> 00:16:33,410
there are some even more major ones who

388
00:16:30,589 --> 00:16:34,940
are shortly 2-5 and have mostly been

389
00:16:33,410 --> 00:16:36,829
waiting on some features of the newer

390
00:16:34,940 --> 00:16:41,150
version the<font color="#CCCCCC"> CSP standard</font><font color="#E5E5E5"> that I'll talk</font>

391
00:16:36,830 --> 00:16:43,910
about in a little<font color="#E5E5E5"> bit and another place</font>

392
00:16:41,150 --> 00:16:46,250
<font color="#E5E5E5">where is used is actually in web</font>

393
00:16:43,910 --> 00:16:49,100
browsers themselves so a lot of<font color="#CCCCCC"> people</font>

394
00:16:46,250 --> 00:16:51,470
don't riddle is this book and who saw

395
00:16:49,100 --> 00:16:53,660
the news in the last week about this

396
00:16:51,470 --> 00:16:56,390
breach browser has written in no embeds

397
00:16:53,660 --> 00:16:58,779
<font color="#E5E5E5">chromium you can build your own web</font>

398
00:16:56,390 --> 00:17:02,600
browser from<font color="#E5E5E5"> JavaScript it or see that</font>

399
00:16:58,779 --> 00:17:04,030
yeah okay well<font color="#CCCCCC"> lobbying said</font><font color="#E5E5E5"> Wow web</font>

400
00:17:02,600 --> 00:17:07,040
browser written in JavaScript and

401
00:17:04,030 --> 00:17:08,928
actually a<font color="#E5E5E5"> lot of most modern browsers</font>

402
00:17:07,040 --> 00:17:10,760
aren't just written in C and C++ lots of

403
00:17:08,929 --> 00:17:12,110
protein stuff tends<font color="#E5E5E5"> to be written in</font>

404
00:17:10,760 --> 00:17:15,079
with the technologies<font color="#E5E5E5"> Firefox for</font>

405
00:17:12,109 --> 00:17:16,760
example there's a smallish gecko core

406
00:17:15,079 --> 00:17:18,169
and everything will the application

407
00:17:16,760 --> 00:17:19,939
watching this is on<font color="#CCCCCC"> top allows written</font>

408
00:17:18,170 --> 00:17:22,250
in javascript is displayed using and

409
00:17:19,939 --> 00:17:24,800
<font color="#CCCCCC">dissolving HTML so it's kind of</font>

410
00:17:22,250 --> 00:17:26,839
analogous to how a web application works

411
00:17:24,800 --> 00:17:27,619
and with the important difference<font color="#E5E5E5"> that</font>

412
00:17:26,839 --> 00:17:30,620
if you've gotta cross site scripting

413
00:17:27,619 --> 00:17:32,449
there you've got<font color="#CCCCCC"> a big problem so modern</font>

414
00:17:30,620 --> 00:17:36,979
browsers are applying<font color="#CCCCCC"> csps to the bits</font>

415
00:17:32,450 --> 00:17:38,929
of<font color="#CCCCCC"> the UI and that implements of using</font>

416
00:17:36,980 --> 00:17:41,000
those technologies bits of pro use it in

417
00:17:38,929 --> 00:17:43,700
that way<font color="#E5E5E5"> and this is</font><font color="#CCCCCC"> Firefox are being</font>

418
00:17:41,000 --> 00:17:45,679
worked on in that way<font color="#E5E5E5"> and another</font>

419
00:17:43,700 --> 00:17:51,410
interesting<font color="#CCCCCC"> area are things belonging</font>

420
00:17:45,679 --> 00:17:54,470
and chrome apps or<font color="#E5E5E5"> Firefox OS apps if</font>

421
00:17:51,410 --> 00:17:57,380
you have an acronym chrome you have the

422
00:17:54,470 --> 00:17:59,000
option<font color="#CCCCCC"> of applying a CSP to that and the</font>

423
00:17:57,380 --> 00:18:02,360
father to us example is an interesting

424
00:17:59,000 --> 00:18:04,730
one because he have a phone where the

425
00:18:02,360 --> 00:18:06,678
entire operating system including things

426
00:18:04,730 --> 00:18:09,980
like the<font color="#E5E5E5"> keyboard and the home screen</font>

427
00:18:06,679 --> 00:18:12,740
and stuff are implemented in<font color="#E5E5E5"> html5 and</font>

428
00:18:09,980 --> 00:18:14,900
with some of the api's the<font color="#E5E5E5"> phones</font>

429
00:18:12,740 --> 00:18:16,880
allowing to you just like being able to

430
00:18:14,900 --> 00:18:19,040
make calls or send SMS or things like

431
00:18:16,880 --> 00:18:20,330
that it can quickly<font color="#E5E5E5"> get expensive if</font>

432
00:18:19,040 --> 00:18:22,970
something went wrong with<font color="#E5E5E5"> your phone in</font>

433
00:18:20,330 --> 00:18:26,570
<font color="#CCCCCC">that way CSP is applied by default to</font>

434
00:18:22,970 --> 00:18:28,370
anything in file to us that requests any

435
00:18:26,570 --> 00:18:32,780
kind of privileged access to the device

436
00:18:28,370 --> 00:18:35,000
<font color="#E5E5E5">and as a result of this kind of thing we</font>

437
00:18:32,780 --> 00:18:37,340
start to get metrics that tell a very

438
00:18:35,000 --> 00:18:40,910
different story from the injection I

439
00:18:37,340 --> 00:18:43,189
gave at CSP being underused so yes only

440
00:18:40,910 --> 00:18:46,040
<font color="#E5E5E5">about 400 out of the top million sites</font>

441
00:18:43,190 --> 00:18:48,590
make use of a CSP the eighteen percent

442
00:18:46,040 --> 00:18:50,050
of all chrome document loans the

443
00:18:48,590 --> 00:18:53,139
problems the chromium project

444
00:18:50,050 --> 00:18:54,730
CSP of la vida<font color="#E5E5E5"> okay now if you're low</font>

445
00:18:53,140 --> 00:18:56,590
adoption makes you think twice about<font color="#E5E5E5"> the</font>

446
00:18:54,730 --> 00:18:57,760
technology turn it round and tell

447
00:18:56,590 --> 00:19:00,189
<font color="#CCCCCC">yourself that you're one of the bad</font>

448
00:18:57,760 --> 00:19:02,800
eighty-two percent if<font color="#E5E5E5"> you don't use CSP</font>

449
00:19:00,190 --> 00:19:06,760
<font color="#CCCCCC">and hopefully that'll make you think</font>

450
00:19:02,800 --> 00:19:08,050
differently about it so perhaps at this

451
00:19:06,760 --> 00:19:09,760
point you're thinking you know that's

452
00:19:08,050 --> 00:19:12,909
awesome but we've already go outside

453
00:19:09,760 --> 00:19:15,730
<font color="#E5E5E5">okay and some</font><font color="#CCCCCC"> of the restrictions you've</font>

454
00:19:12,910 --> 00:19:18,490
talked<font color="#E5E5E5"> to us about already would make</font>

455
00:19:15,730 --> 00:19:20,430
<font color="#E5E5E5">things really hard okay so if you're not</font>

456
00:19:18,490 --> 00:19:22,660
<font color="#CCCCCC">allowing</font><font color="#E5E5E5"> inline scripts by default</font>

457
00:19:20,430 --> 00:19:24,250
that's kind of a headache<font color="#E5E5E5"> because we've</font>

458
00:19:22,660 --> 00:19:25,810
<font color="#E5E5E5">got inline scripts all over the place</font>

459
00:19:24,250 --> 00:19:28,150
we're using them for Google Analytics

460
00:19:25,810 --> 00:19:32,139
it's the way our devs did things for

461
00:19:28,150 --> 00:19:36,160
years okay and sure you've told us<font color="#CCCCCC"> that</font>

462
00:19:32,140 --> 00:19:38,350
if we apply a policy we can if we want

463
00:19:36,160 --> 00:19:41,020
to turn off things like the restrictions

464
00:19:38,350 --> 00:19:43,000
on inline scripts and inline styles but

465
00:19:41,020 --> 00:19:44,650
then if we do<font color="#CCCCCC"> that our policy will be</font>

466
00:19:43,000 --> 00:19:47,050
too relaxed so actually be useful for

467
00:19:44,650 --> 00:19:48,610
allowing inline scripts and we've got a

468
00:19:47,050 --> 00:19:53,020
script injection problem then we're back

469
00:19:48,610 --> 00:19:56,740
where we<font color="#E5E5E5"> started right so CSP can be a</font>

470
00:19:53,020 --> 00:19:58,080
series of them or balancing act when we

471
00:19:56,740 --> 00:20:00,670
are applying it to the<font color="#E5E5E5"> testing</font>

472
00:19:58,080 --> 00:20:03,699
environments and we really need to<font color="#CCCCCC"> think</font>

473
00:20:00,670 --> 00:20:06,100
<font color="#E5E5E5">about what we can do and the reason this</font>

474
00:20:03,700 --> 00:20:08,110
is important for me is that if we<font color="#E5E5E5"> build</font>

475
00:20:06,100 --> 00:20:09,310
in security features into browsers if

476
00:20:08,110 --> 00:20:12,010
we're going<font color="#E5E5E5"> to the trouble of going</font>

477
00:20:09,310 --> 00:20:14,440
through and the standards process to

478
00:20:12,010 --> 00:20:15,879
<font color="#E5E5E5">build things and it's really important</font>

479
00:20:14,440 --> 00:20:18,130
that the security features<font color="#CCCCCC"> that we build</font>

480
00:20:15,880 --> 00:20:20,080
can be applied to the web that we've got

481
00:20:18,130 --> 00:20:22,000
and not just the web that we want<font color="#E5E5E5"> to</font>

482
00:20:20,080 --> 00:20:23,980
build because<font color="#CCCCCC"> the word that you want</font><font color="#E5E5E5"> to</font>

483
00:20:22,000 --> 00:20:25,990
build sure the internet might be

484
00:20:23,980 --> 00:20:27,670
doubling in terms of the number of sites

485
00:20:25,990 --> 00:20:29,530
that<font color="#E5E5E5"> are active every two years or</font>

486
00:20:27,670 --> 00:20:32,080
something like<font color="#CCCCCC"> that but that still means</font>

487
00:20:29,530 --> 00:20:33,760
that in two<font color="#CCCCCC"> years time half of the sites</font>

488
00:20:32,080 --> 00:20:36,580
are vulnerable to<font color="#E5E5E5"> all this legacy stuff</font>

489
00:20:33,760 --> 00:20:40,540
right so what<font color="#E5E5E5"> can we do what what's</font>

490
00:20:36,580 --> 00:20:43,540
happened well one of the things that's

491
00:20:40,540 --> 00:20:46,860
happened is that people<font color="#CCCCCC"> who went away</font>

492
00:20:43,540 --> 00:20:49,530
and decide that they wanted<font color="#CCCCCC"> to use CSP</font>

493
00:20:46,860 --> 00:20:51,459
some of<font color="#E5E5E5"> them found problems with</font>

494
00:20:49,530 --> 00:20:54,040
libraries and things<font color="#E5E5E5"> that they used</font>

495
00:20:51,460 --> 00:20:57,370
unless LOL it's a<font color="#E5E5E5"> nice idea but we can't</font>

496
00:20:54,040 --> 00:20:59,470
use it yet and some of<font color="#E5E5E5"> those people went</font>

497
00:20:57,370 --> 00:21:01,510
along to the people whose stuff didn't

498
00:20:59,470 --> 00:21:03,940
work in that environment the went alarms

499
00:21:01,510 --> 00:21:07,510
the authors and things like and<font color="#CCCCCC"> jQuery</font>

500
00:21:03,940 --> 00:21:09,100
or other front-end frameworks or even

501
00:21:07,510 --> 00:21:11,470
service I framework saying<font color="#CCCCCC"> they're doing</font>

502
00:21:09,100 --> 00:21:12,669
this step here it makes it impossible or

503
00:21:11,470 --> 00:21:15,010
really difficult to apply this

504
00:21:12,670 --> 00:21:17,800
technology that we quite like I can fix

505
00:21:15,010 --> 00:21:19,180
it please<font color="#E5E5E5"> and nicely some of the people</font>

506
00:21:17,800 --> 00:21:21,250
that<font color="#E5E5E5"> maintain those things have gotten</font>

507
00:21:19,180 --> 00:21:24,510
<font color="#CCCCCC">biomed fix those problems so if you're</font>

508
00:21:21,250 --> 00:21:27,190
<font color="#E5E5E5">using a mobile version of a widely used</font>

509
00:21:24,510 --> 00:21:28,780
<font color="#CCCCCC">JavaScript likely for example you'll</font>

510
00:21:27,190 --> 00:21:31,000
probably find the changes have been made

511
00:21:28,780 --> 00:21:33,850
relatively recently to allow for things

512
00:21:31,000 --> 00:21:36,670
like and usage in scenarios were even

513
00:21:33,850 --> 00:21:39,159
that is disallowed<font color="#CCCCCC"> or usage for</font>

514
00:21:36,670 --> 00:21:41,050
scenarios where inline script is awkward

515
00:21:39,160 --> 00:21:43,410
so<font color="#E5E5E5"> and so</font><font color="#CCCCCC"> forth so that's a</font><font color="#E5E5E5"> great thing</font>

516
00:21:41,050 --> 00:21:45,480
<font color="#E5E5E5">and I'm on the server side and</font>

517
00:21:43,410 --> 00:21:48,820
frameworks have started gaining support

518
00:21:45,480 --> 00:21:50,920
there are open tickets on the January

519
00:21:48,820 --> 00:21:53,110
project for<font color="#E5E5E5"> implementing CSP as part of</font>

520
00:21:50,920 --> 00:21:55,900
the January cool generator and excellent

521
00:21:53,110 --> 00:21:57,159
web framework if he is Python which is

522
00:21:55,900 --> 00:22:01,640
<font color="#E5E5E5">not</font>

523
00:21:57,160 --> 00:22:03,860
good and and<font color="#CCCCCC"> debt already support via</font>

524
00:22:01,640 --> 00:22:06,620
third-party modulus for gender James

525
00:22:03,860 --> 00:22:08,330
safe a library called generous ESP which

526
00:22:06,620 --> 00:22:11,209
and I've been<font color="#E5E5E5"> doing</font><font color="#CCCCCC"> a bit of work on</font>

527
00:22:08,330 --> 00:22:13,370
recently<font color="#E5E5E5"> as well but most importantly</font>

528
00:22:11,210 --> 00:22:16,100
that CSP is getting<font color="#CCCCCC"> a bunch of new</font>

529
00:22:13,370 --> 00:22:17,540
features we've realized the fact that if

530
00:22:16,100 --> 00:22:19,459
we're building for the world we've got

531
00:22:17,540 --> 00:22:22,940
<font color="#E5E5E5">there's something</font><font color="#CCCCCC"> that's too restrictive</font>

532
00:22:19,460 --> 00:22:24,890
means that people can use<font color="#E5E5E5"> it and so CSP</font>

533
00:22:22,940 --> 00:22:28,730
walk by one or<font color="#CCCCCC"> two is</font><font color="#E5E5E5"> is actually now</font>

534
00:22:24,890 --> 00:22:30,679
<font color="#E5E5E5">known</font><font color="#CCCCCC"> how</font><font color="#E5E5E5"> supports to include things</font>

535
00:22:28,730 --> 00:22:32,660
like inline scripts but to do it in a

536
00:22:30,679 --> 00:22:34,429
safe way and probably thinking<font color="#CCCCCC"> your</font>

537
00:22:32,660 --> 00:22:38,000
house<font color="#E5E5E5"> I can work how's</font><font color="#CCCCCC"> that little</font>

538
00:22:34,429 --> 00:22:39,890
<font color="#CCCCCC">superseded its parent work and now there</font>

539
00:22:38,000 --> 00:22:41,660
are better tools available as well so

540
00:22:39,890 --> 00:22:45,200
some of the things that were really

541
00:22:41,660 --> 00:22:46,490
awkward to start off with like and in

542
00:22:45,200 --> 00:22:48,230
either of the<font color="#CCCCCC"> browsers where you're</font>

543
00:22:46,490 --> 00:22:50,870
making use of CSP because protein or

544
00:22:48,230 --> 00:22:53,510
<font color="#E5E5E5">Firefox supported it and you had a CSP</font>

545
00:22:50,870 --> 00:22:55,070
violation the warning<font color="#E5E5E5"> messages were</font>

546
00:22:53,510 --> 00:22:57,020
frankly author I<font color="#E5E5E5"> told you very little</font>

547
00:22:55,070 --> 00:22:59,870
<font color="#CCCCCC">that would have gone wrong in tribal</font>

548
00:22:57,020 --> 00:23:01,340
<font color="#E5E5E5">finest policy to this</font><font color="#CCCCCC"> document so the</font>

549
00:22:59,870 --> 00:23:03,949
<font color="#CCCCCC">browsers have</font><font color="#E5E5E5"> better support to tell you</font>

550
00:23:01,340 --> 00:23:06,080
or whether on or why and various

551
00:23:03,950 --> 00:23:08,299
third-party tools have been built which

552
00:23:06,080 --> 00:23:09,860
and I need to do things like analyze

553
00:23:08,299 --> 00:23:12,889
your site and find out what<font color="#E5E5E5"> would</font><font color="#CCCCCC"> be a</font>

554
00:23:09,860 --> 00:23:15,799
good policy to apply to that site so

555
00:23:12,890 --> 00:23:19,520
that's changed as well so let's<font color="#E5E5E5"> look at</font>

556
00:23:15,799 --> 00:23:22,700
the new features<font color="#E5E5E5"> in CSP</font><font color="#CCCCCC"> tune and have a</font>

557
00:23:19,520 --> 00:23:27,460
thing about<font color="#E5E5E5"> how they work so the first</font>

558
00:23:22,700 --> 00:23:31,640
one is and a<font color="#E5E5E5"> feature called non source</font>

559
00:23:27,460 --> 00:23:34,010
now nonce is a number used once we know

560
00:23:31,640 --> 00:23:36,290
what<font color="#CCCCCC"> that is and sauce these would be</font>

561
00:23:34,010 --> 00:23:38,330
the scripts that we learn when we are

562
00:23:36,290 --> 00:23:41,389
learning documenting their browser<font color="#CCCCCC"> okay</font>

563
00:23:38,330 --> 00:23:44,149
and non source is<font color="#E5E5E5"> really quite simple</font>

564
00:23:41,390 --> 00:23:46,610
it's a way of saying okay<font color="#E5E5E5"> what we need</font>

565
00:23:44,150 --> 00:23:48,590
to do is we need to<font color="#E5E5E5"> distinguish in the</font>

566
00:23:46,610 --> 00:23:50,178
document that's loading between the

567
00:23:48,590 --> 00:23:53,480
stuff that's supposed to be there and

568
00:23:50,179 --> 00:23:55,160
the stuff is really should ok so we're

569
00:23:53,480 --> 00:23:56,480
<font color="#CCCCCC">serving a document it's got scripts in</font>

570
00:23:55,160 --> 00:23:59,210
it already and we need

571
00:23:56,480 --> 00:24:01,070
because we<font color="#CCCCCC"> need them to be there but if</font>

572
00:23:59,210 --> 00:24:04,820
a script is injected we don't talk about

573
00:24:01,070 --> 00:24:08,030
2x EG and the way that nod<font color="#E5E5E5"> sauce does</font>

574
00:24:04,820 --> 00:24:09,740
this is it says we're going to<font color="#E5E5E5"> pray turn</font>

575
00:24:08,030 --> 00:24:12,889
<font color="#E5E5E5">on so we're going to store that in the</font>

576
00:24:09,740 --> 00:24:15,559
policy so now and what we're<font color="#CCCCCC"> going to do</font>

577
00:24:12,890 --> 00:24:17,419
is we're going to attack with little

578
00:24:15,559 --> 00:24:20,120
attributes on the script element in the

579
00:24:17,419 --> 00:24:22,610
documents which one can we intend to see

580
00:24:20,120 --> 00:24:25,790
<font color="#CCCCCC">okay so you create the script element</font>

581
00:24:22,610 --> 00:24:28,129
you give it this nonce in the HTML view

582
00:24:25,790 --> 00:24:30,379
/ setback and<font color="#E5E5E5"> that is</font><font color="#CCCCCC"> the nonce in the</font>

583
00:24:28,130 --> 00:24:32,750
head of matches the roles on the<font color="#E5E5E5"> scripts</font>

584
00:24:30,380 --> 00:24:35,179
attributes you know that this script is

585
00:24:32,750 --> 00:24:39,740
supposed to be real so let's use the

586
00:24:35,179 --> 00:24:41,900
same example that we have before<font color="#E5E5E5"> I had</font>

587
00:24:39,740 --> 00:24:43,640
to change it to<font color="#CCCCCC"> include some inline</font>

588
00:24:41,900 --> 00:24:48,710
<font color="#E5E5E5">script that was supposed to run so let's</font>

589
00:24:43,640 --> 00:24:51,679
do that and to<font color="#CCCCCC"> prove the javascript is</font>

590
00:24:48,710 --> 00:24:55,270
still working first of all the time of

591
00:24:51,679 --> 00:24:55,270
the policy is applied over they live

592
00:24:57,470 --> 00:25:02,770
so that we've<font color="#E5E5E5"> got a policy here you see</font>

593
00:24:59,720 --> 00:25:05,000
that that's a non studying in the policy

594
00:25:02,770 --> 00:25:08,000
and to prove that<font color="#CCCCCC"> the scripts that are</font>

595
00:25:05,000 --> 00:25:10,520
in line<font color="#E5E5E5"> is still executing we can have a</font>

596
00:25:08,000 --> 00:25:12,020
look at the page we can see that there

597
00:25:10,520 --> 00:25:19,760
is<font color="#E5E5E5"> no script which is supposed to be</font>

598
00:25:12,020 --> 00:25:27,289
learned there<font color="#CCCCCC"> we go so this is the</font>

599
00:25:19,760 --> 00:25:29,059
script that's supposed to be run there

600
00:25:27,289 --> 00:25:31,940
we go so<font color="#E5E5E5"> I'll document load we're adding</font>

601
00:25:29,059 --> 00:25:33,860
<font color="#E5E5E5">a click listener on this button to cook</font>

602
00:25:31,940 --> 00:25:35,840
that<font color="#E5E5E5"> you can see that</font><font color="#CCCCCC"> it works ok so the</font>

603
00:25:33,860 --> 00:25:38,629
script is meant to be<font color="#E5E5E5"> that is still</font>

604
00:25:35,840 --> 00:25:40,280
working but we're still doing our

605
00:25:38,630 --> 00:25:42,620
injection if<font color="#E5E5E5"> we look further down in</font>

606
00:25:40,280 --> 00:25:46,030
Dublin we can see that<font color="#E5E5E5"> the injected</font>

607
00:25:42,620 --> 00:25:46,030
script earnings is still there

608
00:25:54,190 --> 00:26:00,170
and yet it isn't executed and<font color="#CCCCCC"> the only</font>

609
00:25:57,500 --> 00:26:02,570
<font color="#E5E5E5">difference between this script and here</font>

610
00:26:00,170 --> 00:26:04,700
and the one further up is that the one

611
00:26:02,570 --> 00:26:07,580
further up<font color="#CCCCCC"> how's this not attribute</font>

612
00:26:04,700 --> 00:26:09,700
settle<font color="#CCCCCC"> okay and</font><font color="#E5E5E5"> this be really useful</font>

613
00:26:07,580 --> 00:26:12,020
<font color="#E5E5E5">because if you've got the legacy stuff</font>

614
00:26:09,700 --> 00:26:14,480
all you have to do to change your

615
00:26:12,020 --> 00:26:16,820
application to make use of this is to

616
00:26:14,480 --> 00:26:19,310
set that response header find all the

617
00:26:16,820 --> 00:26:21,050
places where you're doing scripts audit

618
00:26:19,310 --> 00:26:22,909
them carefully to make sure that they

619
00:26:21,050 --> 00:26:24,950
don't<font color="#E5E5E5"> have anything in the detector a</font>

620
00:26:22,910 --> 00:26:28,850
<font color="#E5E5E5">MacLean generated by the server for</font>

621
00:26:24,950 --> 00:26:31,880
everything<font color="#E5E5E5"> and then add that attributes</font>

622
00:26:28,850 --> 00:26:33,709
to the script<font color="#CCCCCC"> tag okay so you can take</font>

623
00:26:31,880 --> 00:26:35,120
something it might be years old it mind

624
00:26:33,710 --> 00:26:37,700
you full of cross-site scripting holes

625
00:26:35,120 --> 00:26:39,110
but because it's an<font color="#CCCCCC"> internal system you</font>

626
00:26:37,700 --> 00:26:41,090
need<font color="#E5E5E5"> to keep using you need to keep it</font>

627
00:26:39,110 --> 00:26:42,679
running<font color="#E5E5E5"> you can apply this to it</font><font color="#CCCCCC"> and as</font>

628
00:26:41,090 --> 00:26:45,530
long as the browser you use internally

629
00:26:42,680 --> 00:26:47,270
supports this<font color="#CCCCCC"> feature you've got a way</font>

630
00:26:45,530 --> 00:26:50,379
<font color="#E5E5E5">of mitigating that particular</font><font color="#CCCCCC"> problem</font>

631
00:26:47,270 --> 00:26:52,970
which<font color="#CCCCCC"> is great right that's a good</font><font color="#E5E5E5"> thing</font>

632
00:26:50,380 --> 00:26:54,860
but my started out when we talked about

633
00:26:52,970 --> 00:26:58,280
cross-site scripting describing the<font color="#CCCCCC"> fact</font>

634
00:26:54,860 --> 00:27:00,379
<font color="#CCCCCC">that the piece there are and scripts</font>

635
00:26:58,280 --> 00:27:02,149
which can run that there is there<font color="#CCCCCC"> are</font>

636
00:27:00,380 --> 00:27:04,040
cross-site scripting vectors and things

637
00:27:02,150 --> 00:27:05,450
that<font color="#E5E5E5"> can run on the server and things</font>

638
00:27:04,040 --> 00:27:07,570
that<font color="#E5E5E5"> can run on the client to know your</font>

639
00:27:05,450 --> 00:27:09,860
<font color="#E5E5E5">Dom based stuff that runs in JavaScript</font>

640
00:27:07,570 --> 00:27:12,950
it doesn't fix the problem completely

641
00:27:09,860 --> 00:27:15,530
for us because we might have your 10 15

642
00:27:12,950 --> 00:27:17,150
years of static content on our website

643
00:27:15,530 --> 00:27:19,280
that<font color="#CCCCCC"> we don't really want to have to go</font>

644
00:27:17,150 --> 00:27:21,050
through and change may be used<font color="#E5E5E5"> to use an</font>

645
00:27:19,280 --> 00:27:22,460
old content management system<font color="#CCCCCC"> that we</font>

646
00:27:21,050 --> 00:27:24,950
don't<font color="#E5E5E5"> have</font><font color="#CCCCCC"> a license for anyone we've</font>

647
00:27:22,460 --> 00:27:26,990
got all these generated files we<font color="#E5E5E5"> don't</font>

648
00:27:24,950 --> 00:27:28,340
have to<font color="#CCCCCC"> go through them all and remove</font>

649
00:27:26,990 --> 00:27:30,560
all the inline scripts and because

650
00:27:28,340 --> 00:27:32,870
they're static we can't do<font color="#E5E5E5"> this trip</font>

651
00:27:30,560 --> 00:27:35,480
where they're injecting this header and

652
00:27:32,870 --> 00:27:38,120
this script attribute so what<font color="#E5E5E5"> can we do</font>

653
00:27:35,480 --> 00:27:41,270
there and that takes us on to be<font color="#CCCCCC"> the</font>

654
00:27:38,120 --> 00:27:48,489
next thing that takes us on to another

655
00:27:41,270 --> 00:27:48,490
CSP to feature which<font color="#E5E5E5"> is called a source</font>

656
00:27:50,169 --> 00:27:55,929
so that<font color="#E5E5E5"> sauce has something to do with</font>

657
00:27:53,889 --> 00:27:59,439
hashes and something to do script source

658
00:27:55,929 --> 00:28:00,850
again right and in this case what

659
00:27:59,440 --> 00:28:05,350
happens is when we're serving the

660
00:28:00,850 --> 00:28:07,629
<font color="#CCCCCC">document what we do is we say</font><font color="#E5E5E5"> okay we</font>

661
00:28:05,350 --> 00:28:09,699
know<font color="#CCCCCC"> that the whole of</font><font color="#E5E5E5"> this document is</font>

662
00:28:07,629 --> 00:28:11,439
not something<font color="#E5E5E5"> that we can change it's</font>

663
00:28:09,700 --> 00:28:14,529
something<font color="#CCCCCC"> that we serve statically from</font>

664
00:28:11,440 --> 00:28:17,350
<font color="#E5E5E5">this okay it's just an HTML file we</font>

665
00:28:14,529 --> 00:28:19,779
can't inject these scripts attributes

666
00:28:17,350 --> 00:28:21,519
these<font color="#CCCCCC"> notes attributes so what would</font><font color="#E5E5E5"> you</font>

667
00:28:19,779 --> 00:28:23,769
do instead is going to take all of the

668
00:28:21,519 --> 00:28:25,749
inline scripts in the document I'm going

669
00:28:23,769 --> 00:28:27,879
<font color="#E5E5E5">to generate a hash of them a case with</font>

670
00:28:25,749 --> 00:28:30,940
each other and then such a 512 ash or

671
00:28:27,879 --> 00:28:33,908
something I'm going to serve a CSP

672
00:28:30,940 --> 00:28:35,980
directive that has in its a list of all

673
00:28:33,909 --> 00:28:40,749
of the hashes to the scripts that we

674
00:28:35,980 --> 00:28:42,220
want to<font color="#E5E5E5"> run okay house again we can show</font>

675
00:28:40,749 --> 00:28:46,119
this in action so<font color="#E5E5E5"> I'm going to take the</font>

676
00:28:42,220 --> 00:28:49,950
<font color="#CCCCCC">same directives s that we had before I'm</font>

677
00:28:46,119 --> 00:28:55,049
going<font color="#E5E5E5"> to do exactly the same thing</font>

678
00:28:49,950 --> 00:28:57,399
you've got the same hash part of the URL

679
00:28:55,049 --> 00:29:00,940
is the same document on the only

680
00:28:57,399 --> 00:29:10,580
differences as you<font color="#E5E5E5"> guessed we've applied</font>

681
00:29:00,940 --> 00:29:16,070
at CSP and this time we<font color="#CCCCCC"> can see</font>

682
00:29:10,580 --> 00:29:19,100
a hash that<font color="#E5E5E5"> sends with that policy that</font>

683
00:29:16,070 --> 00:29:21,049
says there's a script here but I do want

684
00:29:19,100 --> 00:29:25,600
you<font color="#E5E5E5"> to run and anything else I don't</font>

685
00:29:21,049 --> 00:29:28,879
<font color="#CCCCCC">want to happen ok so again</font><font color="#E5E5E5"> we've got the</font>

686
00:29:25,600 --> 00:29:30,649
vulnerable home and changed we've still

687
00:29:28,880 --> 00:29:33,260
<font color="#E5E5E5">got this script in the head of the</font>

688
00:29:30,649 --> 00:29:36,139
document which pulled something from the

689
00:29:33,260 --> 00:29:37,460
URL hatch and does bad things with<font color="#E5E5E5"> it</font>

690
00:29:36,140 --> 00:29:42,159
it's still there it's completely a

691
00:29:37,460 --> 00:29:44,029
modified but again<font color="#E5E5E5"> CSP is saying there</font>

692
00:29:42,159 --> 00:29:46,610
something you try to happen here that

693
00:29:44,029 --> 00:29:48,769
<font color="#E5E5E5">I'm not happy with don't do this please</font>

694
00:29:46,610 --> 00:29:52,189
so the content security policy has again

695
00:29:48,769 --> 00:29:56,710
lot but we can allow other things<font color="#CCCCCC"> that</font>

696
00:29:52,190 --> 00:29:56,710
take place in the document to work by

697
00:29:57,159 --> 00:30:02,840
using these hash values no actually this

698
00:30:00,200 --> 00:30:09,500
wasn't the example of wanting to<font color="#E5E5E5"> use</font>

699
00:30:02,840 --> 00:30:12,519
maybe<font color="#E5E5E5"> I'll go back to</font><font color="#CCCCCC"> that again</font><font color="#E5E5E5"> ok so</font>

700
00:30:09,500 --> 00:30:16,010
those are two new CSP features and

701
00:30:12,519 --> 00:30:17,870
that's kind of nice now I mentioned

702
00:30:16,010 --> 00:30:19,399
earlier<font color="#CCCCCC"> on that when you're using these</font>

703
00:30:17,870 --> 00:30:22,489
features you've got to be really<font color="#CCCCCC"> really</font>

704
00:30:19,399 --> 00:30:24,590
careful because if for example you wrote

705
00:30:22,490 --> 00:30:28,850
something which took your existing

706
00:30:24,590 --> 00:30:33,289
content and just applied policies to

707
00:30:28,850 --> 00:30:36,019
them using scripts hash using a sauce or

708
00:30:33,289 --> 00:30:38,570
<font color="#E5E5E5">will answer us then you'd have</font><font color="#CCCCCC"> a problem</font>

709
00:30:36,019 --> 00:30:40,639
<font color="#E5E5E5">that you're just giving</font><font color="#CCCCCC"> the tension</font>

710
00:30:38,570 --> 00:30:41,870
vulnerable code a free pass to run in

711
00:30:40,639 --> 00:30:44,029
<font color="#E5E5E5">the browser by so you've got to be</font>

712
00:30:41,870 --> 00:30:46,070
<font color="#E5E5E5">really</font><font color="#CCCCCC"> careful about how you do that</font>

713
00:30:44,029 --> 00:30:50,389
kind of thing now<font color="#CCCCCC"> I talked a little bit</font>

714
00:30:46,070 --> 00:30:53,120
earlier<font color="#CCCCCC"> on about a</font><font color="#E5E5E5"> Django little they're</font>

715
00:30:50,389 --> 00:30:54,979
called Jango CSP which allows you to do

716
00:30:53,120 --> 00:30:58,428
a bunch of CSP things

717
00:30:54,980 --> 00:31:01,429
well framework<font color="#CCCCCC"> the thing</font><font color="#E5E5E5"> that I need for</font>

718
00:30:58,429 --> 00:31:03,890
<font color="#E5E5E5">jos ESP was to say wouldnt it be great</font>

719
00:31:01,429 --> 00:31:07,640
if we<font color="#E5E5E5"> have</font><font color="#CCCCCC"> a way not</font><font color="#E5E5E5"> only automatically</font>

720
00:31:03,890 --> 00:31:09,970
inserting the script elements with the

721
00:31:07,640 --> 00:31:12,140
attribute set in the document but also

722
00:31:09,970 --> 00:31:14,480
preventing developers from shooting

723
00:31:12,140 --> 00:31:18,559
themselves in the foot when a user<font color="#E5E5E5"> okay</font>

724
00:31:14,480 --> 00:31:23,620
so they only have a custom tag in<font color="#E5E5E5"> Django</font>

725
00:31:18,559 --> 00:31:26,000
which says and here is a spirit and

726
00:31:23,620 --> 00:31:29,000
anything that happens within this script

727
00:31:26,000 --> 00:31:30,380
and can work because we've we've set

728
00:31:29,000 --> 00:31:34,820
this afternoon<font color="#E5E5E5"> what some attitude as</font>

729
00:31:30,380 --> 00:31:37,549
budgetary but by default if you find

730
00:31:34,820 --> 00:31:39,770
anything within that that is generated

731
00:31:37,549 --> 00:31:43,129
if you find any other Django Taj or any

732
00:31:39,770 --> 00:31:45,559
other Django variables just stop<font color="#CCCCCC"> it from</font>

733
00:31:43,130 --> 00:31:47,179
rendering<font color="#E5E5E5"> okay so you could create</font>

734
00:31:45,559 --> 00:31:51,610
something which contains a script has

735
00:31:47,179 --> 00:31:54,919
got a automatically applied and nonce

736
00:31:51,610 --> 00:31:56,870
attribute on the script element and if

737
00:31:54,919 --> 00:31:58,250
you try inject anything in life that if

738
00:31:56,870 --> 00:32:01,178
the template design and does something

739
00:31:58,250 --> 00:32:03,650
stupid it says now you can't do<font color="#E5E5E5"> that and</font>

740
00:32:01,179 --> 00:32:05,929
but developers won't girls right

741
00:32:03,650 --> 00:32:07,940
because sometimes they do<font color="#E5E5E5"> actually need</font>

742
00:32:05,929 --> 00:32:09,440
<font color="#E5E5E5">to do the dangerous thing but it's</font>

743
00:32:07,940 --> 00:32:11,809
important for<font color="#E5E5E5"> us to security people to</font>

744
00:32:09,440 --> 00:32:13,669
be able to review<font color="#E5E5E5"> those so what we can</font>

745
00:32:11,809 --> 00:32:15,470
do here is if you absolutely need to

746
00:32:13,669 --> 00:32:18,919
<font color="#CCCCCC">shoot yourself in the foot potentially</font>

747
00:32:15,470 --> 00:32:20,419
then you can say okay on a script and I

748
00:32:18,919 --> 00:32:22,370
want it to be<font color="#CCCCCC"> dangerous and</font><font color="#E5E5E5"> then you can</font>

749
00:32:20,419 --> 00:32:24,620
use his cutter panelized or whatever to

750
00:32:22,370 --> 00:32:26,959
<font color="#CCCCCC">enovia templates and sale is something</font>

751
00:32:24,620 --> 00:32:28,159
we need<font color="#CCCCCC"> to review because someone down</font>

752
00:32:26,960 --> 00:32:32,900
and development needed to shoot<font color="#E5E5E5"> yourself</font>

753
00:32:28,160 --> 00:32:34,820
<font color="#CCCCCC">in</font><font color="#E5E5E5"> the foot so there we go that is the</font>

754
00:32:32,900 --> 00:32:38,040
sort of thing you can do with<font color="#E5E5E5"> these</font>

755
00:32:34,820 --> 00:32:42,810
features which is useful

756
00:32:38,040 --> 00:32:45,860
<font color="#E5E5E5">okay but</font><font color="#CCCCCC"> even if you use things like</font>

757
00:32:42,810 --> 00:32:48,780
<font color="#E5E5E5">this we still have some problems for</font>

758
00:32:45,860 --> 00:32:51,659
<font color="#E5E5E5">example I mentioned at the beginning if</font>

759
00:32:48,780 --> 00:32:53,399
you're<font color="#E5E5E5"> not allowing inline scripts you</font>

760
00:32:51,660 --> 00:32:55,110
have a<font color="#CCCCCC"> problem</font><font color="#E5E5E5"> with your script valued</font>

761
00:32:53,400 --> 00:32:57,930
<font color="#E5E5E5">at you so if you've got</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> link if you've</font>

762
00:32:55,110 --> 00:33:00,840
got non click handler in donlon<font color="#CCCCCC"> 20 stuff</font>

763
00:32:57,930 --> 00:33:03,210
that says run this function enough to

764
00:33:00,840 --> 00:33:05,370
return values files go and follow the

765
00:33:03,210 --> 00:33:07,410
link<font color="#E5E5E5"> people use this quite a lot it's</font>

766
00:33:05,370 --> 00:33:08,639
been part of the web for a while this

767
00:33:07,410 --> 00:33:10,260
isn't going to work unless you're

768
00:33:08,640 --> 00:33:11,970
allowed and safe<font color="#E5E5E5"> and long and if you</font>

769
00:33:10,260 --> 00:33:16,170
allow<font color="#CCCCCC"> and safe in line you basically</font>

770
00:33:11,970 --> 00:33:19,200
need<font color="#CCCCCC"> and apply the first</font><font color="#E5E5E5"> place but there</font>

771
00:33:16,170 --> 00:33:21,360
<font color="#E5E5E5">are ways you can</font><font color="#CCCCCC"> use to fix this kind of</font>

772
00:33:19,200 --> 00:33:23,400
thing and one of the little toys are

773
00:33:21,360 --> 00:33:25,560
playing around at the moment is at all

774
00:33:23,400 --> 00:33:28,020
which takes an existing document and

775
00:33:25,560 --> 00:33:29,550
when it straps all of thee and ten

776
00:33:28,020 --> 00:33:32,310
pounders that use this method of doing

777
00:33:29,550 --> 00:33:33,300
things<font color="#E5E5E5"> and turn them into a script you</font>

778
00:33:32,310 --> 00:33:36,419
can<font color="#E5E5E5"> include in the head of your</font>

779
00:33:33,300 --> 00:33:38,760
documents and apply them the new proper

780
00:33:36,420 --> 00:33:40,620
way so that you don't have inline

781
00:33:38,760 --> 00:33:45,750
scripts induction which can be useful

782
00:33:40,620 --> 00:33:48,810
thing so there we<font color="#CCCCCC"> go and</font><font color="#E5E5E5"> I talked a bit</font>

783
00:33:45,750 --> 00:33:50,040
about better tools are talked<font color="#E5E5E5"> about how</font>

784
00:33:48,810 --> 00:33:53,899
there are things available that can

785
00:33:50,040 --> 00:33:57,000
allow<font color="#CCCCCC"> you</font><font color="#E5E5E5"> to take your site as it is</font>

786
00:33:53,900 --> 00:33:59,310
feed it<font color="#CCCCCC"> through a tool and get out of</font>

787
00:33:57,000 --> 00:34:01,500
the tool what is the most strict

788
00:33:59,310 --> 00:34:03,840
possible policy<font color="#CCCCCC"> to apply to</font><font color="#E5E5E5"> that buttons</font>

789
00:34:01,500 --> 00:34:07,020
all those documents and there's a tool

790
00:34:03,840 --> 00:34:09,900
by chap I local hospital which you can

791
00:34:07,020 --> 00:34:11,219
install their browser browser add-on we

792
00:34:09,900 --> 00:34:13,380
can browse the<font color="#CCCCCC"> site that you're looking</font>

793
00:34:11,219 --> 00:34:14,730
<font color="#E5E5E5">after and get out of it what the</font>

794
00:34:13,380 --> 00:34:16,919
strictest policy that could be applied

795
00:34:14,730 --> 00:34:18,719
to that site isn't it can be some wins

796
00:34:16,918 --> 00:34:20,400
even<font color="#E5E5E5"> on that mean even if you allow</font>

797
00:34:18,719 --> 00:34:23,129
things<font color="#E5E5E5"> like inline scripts being able to</font>

798
00:34:20,400 --> 00:34:25,350
turn off anybody being able to inject

799
00:34:23,130 --> 00:34:28,200
objects<font color="#CCCCCC"> too useful for various reasons</font>

800
00:34:25,350 --> 00:34:29,230
and there is benefit to apartment even

801
00:34:28,199 --> 00:34:33,790
if you're waking

802
00:34:29,230 --> 00:34:35,740
<font color="#E5E5E5">week and there are also hash generation</font>

803
00:34:33,790 --> 00:34:39,550
tool so the static examples I showed you

804
00:34:35,739 --> 00:34:43,449
there and I generated those using a

805
00:34:39,550 --> 00:34:48,010
fairly simple script which literally

806
00:34:43,449 --> 00:34:52,418
just takes the documents you've got sure

807
00:34:48,010 --> 00:34:54,550
that were looking<font color="#E5E5E5"> to scale come on well</font>

808
00:34:52,418 --> 00:34:56,319
there we<font color="#CCCCCC"> go so we're going to say all</font>

809
00:34:54,550 --> 00:34:59,140
the stuff with in that directory there

810
00:34:56,320 --> 00:35:03,580
is sorcery directory I want you two to

811
00:34:59,140 --> 00:35:05,890
generate hash sauce attributes for that

812
00:35:03,580 --> 00:35:08,470
so you run that and then we<font color="#CCCCCC"> can catch</font>

813
00:35:05,890 --> 00:35:10,600
this file and see the policy that which

814
00:35:08,470 --> 00:35:13,209
<font color="#CCCCCC">is generated so you can take loads of</font>

815
00:35:10,600 --> 00:35:16,330
HTML source files or even PHP f in line

816
00:35:13,210 --> 00:35:18,880
with in that and just generate the

817
00:35:16,330 --> 00:35:21,400
hashes which can be a useful time-saving

818
00:35:18,880 --> 00:35:23,710
<font color="#E5E5E5">thing again don't do this without some</font>

819
00:35:21,400 --> 00:35:25,300
serious review of what's going to happen

820
00:35:23,710 --> 00:35:27,910
<font color="#E5E5E5">when you do that but it can save you</font>

821
00:35:25,300 --> 00:35:29,260
time while you're<font color="#CCCCCC"> doing there are other</font>

822
00:35:27,910 --> 00:35:31,509
tools that<font color="#E5E5E5"> people are building and</font>

823
00:35:29,260 --> 00:35:32,770
people are building reports dashboards a

824
00:35:31,510 --> 00:35:36,160
colleague of mine and visitors building

825
00:35:32,770 --> 00:35:37,480
<font color="#E5E5E5">walls really cool and another one is</font>

826
00:35:36,160 --> 00:35:38,980
being<font color="#E5E5E5"> worked on by some</font><font color="#CCCCCC"> people young</font>

827
00:35:37,480 --> 00:35:41,260
<font color="#E5E5E5">that's the Russian search engine and</font>

828
00:35:38,980 --> 00:35:43,060
there are<font color="#CCCCCC"> many other tools out there for</font>

829
00:35:41,260 --> 00:35:48,880
making it's easier to do various things

830
00:35:43,060 --> 00:35:50,950
with CSP so you've got<font color="#E5E5E5"> a few ideas for</font>

831
00:35:48,880 --> 00:35:53,109
<font color="#CCCCCC">how you can apply CSP to stuff you only</font>

832
00:35:50,950 --> 00:35:55,689
<font color="#E5E5E5">got me thinking great I'm going to go in</font>

833
00:35:53,109 --> 00:35:59,170
there but before you do<font color="#CCCCCC"> I've got some</font>

834
00:35:55,690 --> 00:36:03,280
words of warning okay the first one

835
00:35:59,170 --> 00:36:06,880
comes from the chap I mentioned who did

836
00:36:03,280 --> 00:36:10,060
the user CSP to infer a policy from<font color="#E5E5E5"> the</font>

837
00:36:06,880 --> 00:36:12,010
site he also did a<font color="#CCCCCC"> header survey which</font>

838
00:36:10,060 --> 00:36:12,490
is kind<font color="#E5E5E5"> of like the head of surveys to</font>

839
00:36:12,010 --> 00:36:15,010
other people

840
00:36:12,490 --> 00:36:18,339
will do but his was really specifically

841
00:36:15,010 --> 00:36:22,960
about CSP which<font color="#E5E5E5"> Arsenal is a</font>

842
00:36:18,340 --> 00:36:24,220
photographer follow a look and in<font color="#E5E5E5"> that</font>

843
00:36:22,960 --> 00:36:27,130
look at what people<font color="#CCCCCC"> are actually putting</font>

844
00:36:24,220 --> 00:36:30,490
in their policies and to his dismay he

845
00:36:27,130 --> 00:36:33,490
found it very often people are applying

846
00:36:30,490 --> 00:36:36,970
policies that are<font color="#E5E5E5"> completely useless so</font>

847
00:36:33,490 --> 00:36:38,890
let<font color="#CCCCCC"> me show you the variable obviously</font>

848
00:36:36,970 --> 00:36:41,290
you'd think if people go to the trouble

849
00:36:38,890 --> 00:36:43,299
of enabling the header working out what

850
00:36:41,290 --> 00:36:45,670
the policy needs to look<font color="#CCCCCC"> like that</font><font color="#E5E5E5"> think</font>

851
00:36:43,300 --> 00:36:47,080
<font color="#E5E5E5">about what the policy and</font><font color="#CCCCCC"> that they're</font>

852
00:36:45,670 --> 00:36:48,280
applying and I think about what it does

853
00:36:47,080 --> 00:36:51,580
and it turns out that they're not done

854
00:36:48,280 --> 00:36:53,470
<font color="#E5E5E5">at all so this</font><font color="#CCCCCC"> is for some organization</font>

855
00:36:51,580 --> 00:36:55,000
which<font color="#CCCCCC"> is not</font><font color="#E5E5E5"> gonna call out so we can</font>

856
00:36:53,470 --> 00:36:58,270
read it if you like thanks good enough

857
00:36:55,000 --> 00:37:01,930
but never know CSP which basically turns

858
00:36:58,270 --> 00:37:04,210
CSP off again so<font color="#CCCCCC"> a pie policy that</font>

859
00:37:01,930 --> 00:37:07,990
doesn't apply any policy good work a

860
00:37:04,210 --> 00:37:09,340
star<font color="#E5E5E5"> okay and serves an example of a</font>

861
00:37:07,990 --> 00:37:11,560
thing<font color="#CCCCCC"> you can</font><font color="#E5E5E5"> do so if you're applying</font>

862
00:37:09,340 --> 00:37:13,300
the CSP high and make<font color="#CCCCCC"> sure that the</font>

863
00:37:11,560 --> 00:37:15,520
policy you're applying makes sense don't

864
00:37:13,300 --> 00:37:19,510
<font color="#E5E5E5">justify the policy that</font><font color="#CCCCCC"> serves itself</font>

865
00:37:15,520 --> 00:37:22,060
off is that done don't you and another

866
00:37:19,510 --> 00:37:25,630
thing<font color="#E5E5E5"> that people do is people forget</font>

867
00:37:22,060 --> 00:37:27,400
about the same origin policy right this

868
00:37:25,630 --> 00:37:29,560
okay well we've got<font color="#E5E5E5"> this application and</font>

869
00:37:27,400 --> 00:37:31,869
it's running<font color="#E5E5E5"> on Jan you or whatever the</font>

870
00:37:29,560 --> 00:37:34,590
support system really nicely we're going

871
00:37:31,869 --> 00:37:37,210
<font color="#E5E5E5">to turn CSP on and we're quite safe okay</font>

872
00:37:34,590 --> 00:37:41,040
<font color="#E5E5E5">but even those things that provide these</font>

873
00:37:37,210 --> 00:37:44,200
nice<font color="#E5E5E5"> TSP features might apply the policy</font>

874
00:37:41,040 --> 00:37:47,279
in consistently so here<font color="#E5E5E5"> we have the</font>

875
00:37:44,200 --> 00:37:49,960
documentation for Django CSP if you've

876
00:37:47,280 --> 00:37:52,180
shipped a configuration of<font color="#CCCCCC"> jenga which</font>

877
00:37:49,960 --> 00:37:55,330
uses this and you've left the defaults

878
00:37:52,180 --> 00:37:56,259
on and you've got the admin app turned

879
00:37:55,330 --> 00:37:58,690
on

880
00:37:56,260 --> 00:38:01,090
internet which people do sometimes don't

881
00:37:58,690 --> 00:38:04,180
do that<font color="#E5E5E5"> but people</font><font color="#CCCCCC"> do you'll notice that</font>

882
00:38:01,090 --> 00:38:06,430
admin is not covered by the CSP

883
00:38:04,180 --> 00:38:08,470
configuration so if there's a

884
00:38:06,430 --> 00:38:10,180
vulnerability within the app in part of

885
00:38:08,470 --> 00:38:12,879
replication and the<font color="#E5E5E5"> usual that's being</font>

886
00:38:10,180 --> 00:38:15,339
targeted by the attack and can see that

887
00:38:12,880 --> 00:38:18,280
page or if<font color="#E5E5E5"> it sort of</font><font color="#CCCCCC"> page before</font>

888
00:38:15,340 --> 00:38:20,590
logging if it's just reflected and those

889
00:38:18,280 --> 00:38:22,480
are just<font color="#E5E5E5"> for anyone then you potentially</font>

890
00:38:20,590 --> 00:38:24,820
got a problem<font color="#E5E5E5"> there so if you're going</font>

891
00:38:22,480 --> 00:38:27,480
<font color="#CCCCCC">to make you services make sure</font><font color="#E5E5E5"> you're</font>

892
00:38:24,820 --> 00:38:30,390
quiet consistently and in particular

893
00:38:27,480 --> 00:38:34,180
with regards to apply it consistently

894
00:38:30,390 --> 00:38:37,029
think really carefully about static

895
00:38:34,180 --> 00:38:39,129
content because people again will go to

896
00:38:37,030 --> 00:38:40,750
the trouble of a pile of the<font color="#CCCCCC"> CSB bells</font>

897
00:38:39,130 --> 00:38:42,820
and whistles to the dynamic<font color="#E5E5E5"> parts of</font>

898
00:38:40,750 --> 00:38:43,900
their site<font color="#E5E5E5"> and</font><font color="#CCCCCC"> forgets about</font><font color="#E5E5E5"> the fact</font>

899
00:38:42,820 --> 00:38:45,910
that maybe they've<font color="#CCCCCC"> got something</font>

900
00:38:43,900 --> 00:38:48,240
somewhere else would uses some old

901
00:38:45,910 --> 00:38:50,830
JavaScript library or or<font color="#CCCCCC"> so old and</font>

902
00:38:48,240 --> 00:38:52,779
flash document introduces them to an

903
00:38:50,830 --> 00:38:54,759
add-on type vulnerability so remember

904
00:38:52,780 --> 00:38:57,640
the stuff that can be vulnerable<font color="#E5E5E5"> clients</font>

905
00:38:54,760 --> 00:38:59,620
as well as the server and apply the

906
00:38:57,640 --> 00:39:02,259
policy to everything that<font color="#E5E5E5"> you can and</font>

907
00:38:59,620 --> 00:39:04,750
the things that<font color="#E5E5E5"> you can't apply move</font>

908
00:39:02,260 --> 00:39:07,240
them onto a separate<font color="#E5E5E5"> subtly why</font>

909
00:39:04,750 --> 00:39:10,680
<font color="#E5E5E5">Gilliam's of join you don't have related</font>

910
00:39:07,240 --> 00:39:14,950
domain type attacks so those<font color="#E5E5E5"> are some</font>

911
00:39:10,680 --> 00:39:16,899
common mistakes that can be made now

912
00:39:14,950 --> 00:39:18,399
that's all<font color="#E5E5E5"> I wanted to talk</font><font color="#CCCCCC"> about and</font>

913
00:39:16,900 --> 00:39:21,720
I've left a little bit<font color="#E5E5E5"> of time for</font>

914
00:39:18,400 --> 00:39:27,690
<font color="#E5E5E5">questions seems no one</font>

915
00:39:21,720 --> 00:39:29,848
Harold<font color="#E5E5E5"> so you've</font><font color="#CCCCCC"> got any questions</font><font color="#E5E5E5"> like</font>

916
00:39:27,690 --> 00:39:33,900
lasted I don't want to move the books is

917
00:39:29,849 --> 00:39:35,910
it all about looks we've got what I've

918
00:39:33,900 --> 00:39:48,060
got to two copies of object time to

919
00:39:35,910 --> 00:39:49,770
<font color="#E5E5E5">JavaScript this book is not to knowledge</font>

920
00:39:48,060 --> 00:39:51,540
would he called<font color="#CCCCCC"> the HP if you want to</font>

921
00:39:49,770 --> 00:39:55,950
write all the realities<font color="#E5E5E5"> put something on</font>

922
00:39:51,540 --> 00:39:59,279
<font color="#E5E5E5">that that's a joke by the way completely</font>

923
00:39:55,950 --> 00:40:02,368
what good stuff in PHP are you can see

924
00:39:59,280 --> 00:40:08,520
them Oh wicked cool perl scripts oh

925
00:40:02,369 --> 00:40:11,520
goodness<font color="#CCCCCC"> me books</font><font color="#E5E5E5"> they'll fly as well as</font>

926
00:40:08,520 --> 00:40:13,920
you'd think<font color="#CCCCCC"> okay so there was a question</font>

927
00:40:11,520 --> 00:40:16,349
over here what's your question Steve

928
00:40:13,920 --> 00:40:22,950
reason or create a policy where there is

929
00:40:16,349 --> 00:40:24,930
a<font color="#E5E5E5"> hospital fighters there's a legitimate</font>

930
00:40:22,950 --> 00:40:26,970
<font color="#E5E5E5">roof so the pressure was is there a</font>

931
00:40:24,930 --> 00:40:30,118
legitimate reason for a bio policy that

932
00:40:26,970 --> 00:40:32,399
doesn't require policy and there are

933
00:40:30,119 --> 00:40:35,280
legitimate reasons for applying a policy

934
00:40:32,400 --> 00:40:36,839
that almost my lots of high policy and

935
00:40:35,280 --> 00:40:38,550
<font color="#CCCCCC">that is that you can be very specific</font>

936
00:40:36,839 --> 00:40:41,279
about what you're alive allowing an

937
00:40:38,550 --> 00:40:43,109
organized so if you're being<font color="#E5E5E5"> tricky</font>

938
00:40:41,280 --> 00:40:45,839
about things you might be able to<font color="#E5E5E5"> set a</font>

939
00:40:43,109 --> 00:40:47,700
specific path to cover a resource that

940
00:40:45,839 --> 00:40:50,670
you know is vulnerable whilst not

941
00:40:47,700 --> 00:40:52,649
touching the rest of the thing<font color="#E5E5E5"> okay</font><font color="#CCCCCC"> in</font>

942
00:40:50,670 --> 00:40:54,000
terms of applying a policy that doesn't

943
00:40:52,650 --> 00:40:55,770
<font color="#E5E5E5">actually do anything the only thing I</font>

944
00:40:54,000 --> 00:40:57,270
can think of it wouldn't make you do

945
00:40:55,770 --> 00:41:02,250
that is if you want<font color="#CCCCCC"> to be able to say</font>

946
00:40:57,270 --> 00:41:09,480
UCSD<font color="#CCCCCC"> MCV</font><font color="#E5E5E5"> and so yeah by the company you</font>

947
00:41:02,250 --> 00:41:11,430
were reason why people would do that you

948
00:41:09,480 --> 00:41:13,680
have to decide which pitch you didn't

949
00:41:11,430 --> 00:41:15,868
want people<font color="#CCCCCC"> to get set up if you haven't</font>

950
00:41:13,680 --> 00:41:19,200
<font color="#CCCCCC">anything except you need to decide</font><font color="#E5E5E5"> what</font>

951
00:41:15,869 --> 00:41:21,030
that thing is preventing and it may be

952
00:41:19,200 --> 00:41:23,609
any bits in future versions of the very

953
00:41:21,030 --> 00:41:26,070
first developer tools people will do

954
00:41:23,609 --> 00:41:28,290
things like saying<font color="#E5E5E5"> okay you're at yacs</font>

955
00:41:26,070 --> 00:41:30,859
even actually it's useless<font color="#CCCCCC"> though</font><font color="#E5E5E5"> so</font>

956
00:41:28,290 --> 00:41:35,279
stupid pizza or things like that and

957
00:41:30,859 --> 00:41:38,040
there are people working on various

958
00:41:35,280 --> 00:41:40,890
projects for providing five times that

959
00:41:38,040 --> 00:41:42,240
<font color="#CCCCCC">they also in five developer tools and I</font>

960
00:41:40,890 --> 00:41:44,339
don't know about the other browsers but

961
00:41:42,240 --> 00:41:49,709
I'm sure<font color="#E5E5E5"> different vectors little bit of</font>

962
00:41:44,339 --> 00:41:51,369
way as well if you<font color="#E5E5E5"> have a static</font>

963
00:41:49,710 --> 00:41:53,470
all-star

964
00:41:51,369 --> 00:41:56,650
what's to stop remember if<font color="#E5E5E5"> it's</font>

965
00:41:53,470 --> 00:41:58,740
targeting rejection just<font color="#CCCCCC"> rudely</font><font color="#E5E5E5"> shifting</font>

966
00:41:56,650 --> 00:42:01,809
at this static<font color="#CCCCCC"> lunge</font><font color="#E5E5E5"> funding is not a</font>

967
00:41:58,740 --> 00:42:03,879
knowledgeable<font color="#E5E5E5"> the waters so who is 0 so</font>

968
00:42:01,809 --> 00:42:06,900
what you do is you have<font color="#E5E5E5"> a separate long</font>

969
00:42:03,880 --> 00:42:09,309
value what every response that you<font color="#CCCCCC"> send</font>

970
00:42:06,900 --> 00:42:11,980
so that the attacker can't know the

971
00:42:09,309 --> 00:42:14,049
<font color="#E5E5E5">value when they try to inject the idea</font>

972
00:42:11,980 --> 00:42:15,519
is that if<font color="#E5E5E5"> the attacker can see what the</font>

973
00:42:14,049 --> 00:42:18,670
Lord says<font color="#E5E5E5"> you've got worse problem</font>

974
00:42:15,519 --> 00:42:21,788
<font color="#E5E5E5">anyway so make sure that your most value</font>

975
00:42:18,670 --> 00:42:24,339
especially<font color="#E5E5E5"> sufficiently</font><font color="#CCCCCC"> random secondly</font>

976
00:42:21,789 --> 00:42:27,249
changes with every request pick<font color="#E5E5E5"> another</font>

977
00:42:24,339 --> 00:42:36,180
number three that for everyone don't you

978
00:42:27,249 --> 00:42:41,200
know yeah I I you miss<font color="#CCCCCC"> a spot yet</font>

979
00:42:36,180 --> 00:42:45,279
anything I saw on the IE features matrix

980
00:42:41,200 --> 00:42:46,899
thing of<font color="#E5E5E5"> surface in the WC space that</font>

981
00:42:45,279 --> 00:42:49,420
they actively have people developing

982
00:42:46,900 --> 00:42:51,200
exact moments well a couple<font color="#CCCCCC"> would bad</font>

983
00:42:49,420 --> 00:42:53,640
girl

984
00:42:51,200 --> 00:42:57,479
is there not a network anchor blue

985
00:42:53,640 --> 00:42:59,910
<font color="#E5E5E5">straight ahead with one standing if</font>

986
00:42:57,479 --> 00:43:02,399
you've got networking equipment the

987
00:42:59,910 --> 00:43:05,118
<font color="#E5E5E5">strip space that it doesn't know about</font>

988
00:43:02,400 --> 00:43:07,920
you probably want to send that and

989
00:43:05,119 --> 00:43:10,380
obviously network that way its installed

990
00:43:07,920 --> 00:43:12,809
<font color="#CCCCCC">let</font><font color="#E5E5E5"> for a long time right doesn't that</font>

991
00:43:10,380 --> 00:43:16,430
is understandable so editor like through

992
00:43:12,809 --> 00:43:18,869
<font color="#E5E5E5">quite yeah I feel like with various</font>

993
00:43:16,430 --> 00:43:20,519
recent security features if you've got

994
00:43:18,869 --> 00:43:22,769
no except the stretch things that

995
00:43:20,519 --> 00:43:25,738
understandably lot of problems so don't

996
00:43:22,769 --> 00:43:29,008
just a flight +<font color="#E5E5E5"> X prime actions or h st</font>

997
00:43:25,739 --> 00:43:32,130
s there are lots of four steps as well

998
00:43:29,009 --> 00:43:34,769
if you've got LeVar Burton will strip

999
00:43:32,130 --> 00:43:42,299
step out<font color="#CCCCCC"> of and request</font><font color="#E5E5E5"> those contexts</font>

1000
00:43:34,769 --> 00:43:45,598
you might be have their issues any sort

1001
00:43:42,299 --> 00:43:48,900
<font color="#E5E5E5">of business websites have followed the</font>

1002
00:43:45,599 --> 00:43:51,410
tracking bugs and advertising the loads

1003
00:43:48,900 --> 00:43:51,410
of these sites

1004
00:43:53,510 --> 00:44:01,710
is that approximately there's nothing

1005
00:43:59,940 --> 00:44:04,700
<font color="#CCCCCC">wrong with some to</font><font color="#E5E5E5"> your business if your</font>

1006
00:44:01,710 --> 00:44:08,340
<font color="#E5E5E5">business points that's tracking</font>

1007
00:44:04,700 --> 00:44:12,450
affiliates or worse that's<font color="#CCCCCC"> them yes so</font>

1008
00:44:08,340 --> 00:44:14,880
<font color="#E5E5E5">you can theoretically your maximum</font>

1009
00:44:12,450 --> 00:44:17,160
editors font size is<font color="#CCCCCC"> only determined by</font>

1010
00:44:14,880 --> 00:44:18,780
the supper table using not already the

1011
00:44:17,160 --> 00:44:21,930
courses<font color="#CCCCCC"> and</font><font color="#E5E5E5"> your club is users have</font>

1012
00:44:18,780 --> 00:44:24,570
their wealth of choice well and you

1013
00:44:21,930 --> 00:44:28,589
could have very<font color="#E5E5E5"> large and will be logged</font>

1014
00:44:24,570 --> 00:44:30,420
response headers but generally I think

1015
00:44:28,590 --> 00:44:32,430
<font color="#E5E5E5">people are starting to come around the</font>

1016
00:44:30,420 --> 00:44:34,680
fact that using these pictures by

1017
00:44:32,430 --> 00:44:37,080
feeding judgment their husband owns

1018
00:44:34,680 --> 00:44:41,129
isn't that security practice any moment

1019
00:44:37,080 --> 00:44:43,529
and you can you can do various things to

1020
00:44:41,130 --> 00:44:45,450
make one of<font color="#CCCCCC"> these policies</font><font color="#E5E5E5"> a little bit</font>

1021
00:44:43,530 --> 00:44:49,770
easier<font color="#CCCCCC"> than they might</font><font color="#E5E5E5"> ugly and we look</font>

1022
00:44:45,450 --> 00:44:51,960
cute Pacific for everything and and in

1023
00:44:49,770 --> 00:44:54,690
many cases just disallowed we<font color="#CCCCCC"> realign</font>

1024
00:44:51,960 --> 00:44:57,360
scripts is going to pop that anyway even

1025
00:44:54,690 --> 00:45:00,900
if you've got scripts autistic people

1026
00:44:57,360 --> 00:45:02,910
all of the<font color="#E5E5E5"> various things we've got so</font>

1027
00:45:00,900 --> 00:45:05,100
<font color="#CCCCCC">this facility in</font><font color="#E5E5E5"> that you can in theory</font>

1028
00:45:02,910 --> 00:45:07,049
tell everyone you want to practice<font color="#CCCCCC"> that</font>

1029
00:45:05,100 --> 00:45:09,180
might be difficult for the Marines<font color="#CCCCCC"> in</font>

1030
00:45:07,050 --> 00:45:11,330
<font color="#CCCCCC">this perspective practice you might be</font>

1031
00:45:09,180 --> 00:45:11,330
sending

1032
00:45:16,460 --> 00:45:25,830
<font color="#CCCCCC">Firefox is</font><font color="#E5E5E5"> a lightning that if your</font>

1033
00:45:23,640 --> 00:45:29,970
ability where you can inject the header

1034
00:45:25,830 --> 00:45:33,330
into the response<font color="#E5E5E5"> and I Jack they</font>

1035
00:45:29,970 --> 00:45:36,109
content security policy yeah which ones

1036
00:45:33,330 --> 00:45:39,150
are safe from they are brave the policy

1037
00:45:36,109 --> 00:45:42,630
so the specification says that we have

1038
00:45:39,150 --> 00:45:45,869
multiple<font color="#E5E5E5"> Cespedes</font><font color="#CCCCCC"> concepts there should</font>

1039
00:45:42,630 --> 00:45:48,960
<font color="#CCCCCC">be an intersection</font><font color="#E5E5E5"> of those and in terms</font>

1040
00:45:45,869 --> 00:45:54,540
of exact behavior they're happy posting

1041
00:45:48,960 --> 00:45:57,619
marriage proposals so and was an issue<font color="#E5E5E5"> I</font>

1042
00:45:54,540 --> 00:45:57,619
sort<font color="#CCCCCC"> of</font>

1043
00:45:58,610 --> 00:46:04,410
there are other<font color="#CCCCCC"> interesting</font><font color="#E5E5E5"> because</font>

1044
00:46:00,600 --> 00:46:06,950
seriously well don't relate to how to

1045
00:46:04,410 --> 00:46:06,950
fight

1046
00:46:09,369 --> 00:46:15,230
what do you handle months has been

1047
00:46:12,410 --> 00:46:18,220
generated for swift acts we also

1048
00:46:15,230 --> 00:46:21,079
<font color="#CCCCCC">survival tool</font><font color="#E5E5E5"> to generate ashpit</font>

1049
00:46:18,220 --> 00:46:24,259
obviously that<font color="#CCCCCC"> passive then go insane by</font>

1050
00:46:21,079 --> 00:46:26,299
the<font color="#CCCCCC"> pace motors yes so for hash source</font>

1051
00:46:24,260 --> 00:46:28,670
to work up here each time<font color="#E5E5E5"> of the pages</font>

1052
00:46:26,299 --> 00:46:30,799
<font color="#CCCCCC">surbhi has to have the</font><font color="#E5E5E5"> same script as</font>

1053
00:46:28,670 --> 00:46:34,160
this idea so so what<font color="#E5E5E5"> would happen</font><font color="#CCCCCC"> if</font>

1054
00:46:30,799 --> 00:46:38,030
someone put script here with that same

1055
00:46:34,160 --> 00:46:40,040
tag and is it isn't actually a

1056
00:46:38,030 --> 00:46:43,069
itself in<font color="#E5E5E5"> check for so someone would</font>

1057
00:46:40,040 --> 00:46:44,540
have to find the hash collision in the

1058
00:46:43,069 --> 00:46:49,730
hash algorithm is matched to a

1059
00:46:44,540 --> 00:46:52,579
wheelchair the table<font color="#CCCCCC"> check so any sort</font>

1060
00:46:49,730 --> 00:46:55,220
of the existing package what happens is

1061
00:46:52,579 --> 00:46:59,119
first<font color="#E5E5E5"> two checks against various other</font>

1062
00:46:55,220 --> 00:47:03,259
and types of source attribute<font color="#E5E5E5"> that</font>

1063
00:46:59,119 --> 00:47:05,150
domains or keywords and then it said

1064
00:47:03,260 --> 00:47:06,260
what I came to<font color="#E5E5E5"> take this thing doesn't</font>

1065
00:47:05,150 --> 00:47:08,030
match any other so<font color="#E5E5E5"> now we'll do the</font>

1066
00:47:06,260 --> 00:47:09,890
expensive<font color="#CCCCCC"> steckel</font><font color="#E5E5E5"> tapers content but it</font>

1067
00:47:08,030 --> 00:47:13,780
will crash it and we'll prepare are you

1068
00:47:09,890 --> 00:47:13,779
Annette to get out she's an<font color="#CCCCCC"> impostor</font>

1069
00:47:22,319 --> 00:47:28,469
what am i finding mention which is

1070
00:47:24,829 --> 00:47:30,959
potentially useful and the u.s. CSP

1071
00:47:28,469 --> 00:47:34,709
standard has support for including<font color="#E5E5E5"> the</font>

1072
00:47:30,959 --> 00:47:36,089
policy biomedical so if you have a web

1073
00:47:34,709 --> 00:47:39,299
host it doesn't allow you to set your

1074
00:47:36,089 --> 00:47:41,849
own heads and you can maybe make use of

1075
00:47:39,299 --> 00:47:44,130
that as yet it's only supported in

1076
00:47:41,849 --> 00:47:45,390
Ukraine is there's a lot of arguing and

1077
00:47:44,130 --> 00:47:48,119
standards but whether or not it should

1078
00:47:45,390 --> 00:47:53,308
be allowed<font color="#CCCCCC"> for these reasons</font><font color="#E5E5E5"> but that's</font>

1079
00:47:48,119 --> 00:47:55,729
<font color="#E5E5E5">the thing that's completely okay in your</font>

1080
00:47:53,309 --> 00:47:55,729
patience

