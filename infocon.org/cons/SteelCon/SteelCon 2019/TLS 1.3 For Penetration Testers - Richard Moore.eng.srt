1
00:00:02,989 --> 00:00:12,209
okay so this session is about ls1 points

2
00:00:08,069 --> 00:00:14,820
people pen testers it's gonna be a

3
00:00:12,209 --> 00:00:17,369
fairly practical session so it's not

4
00:00:14,820 --> 00:00:19,290
going to be talking about to us 1.3 and

5
00:00:17,369 --> 00:00:21,080
sitting there going through the IRC and

6
00:00:19,290 --> 00:00:23,280
telling you about all the details

7
00:00:21,080 --> 00:00:26,639
instead I'm going to be focusing very

8
00:00:23,280 --> 00:00:29,940
much on what the changes are going to

9
00:00:26,640 --> 00:00:32,099
impact your new actual testing so why

10
00:00:29,940 --> 00:00:34,350
things that you're doing will stop

11
00:00:32,098 --> 00:00:37,199
working and why you're going to miss

12
00:00:34,350 --> 00:00:41,040
things unless you start to take actual

13
00:00:37,200 --> 00:00:44,610
account of the changes so let's start

14
00:00:41,040 --> 00:00:47,970
off with who I am my name is Richard

15
00:00:44,610 --> 00:00:51,120
Moore I'm a consultant and reviewer I've

16
00:00:47,970 --> 00:00:52,980
been working in security for defensively

17
00:00:51,120 --> 00:00:54,540
long time particularly lookout and

18
00:00:52,980 --> 00:00:59,599
almost everyone seems to be younger than

19
00:00:54,540 --> 00:01:03,480
me so I fought a lot with SSL and TLS

20
00:00:59,600 --> 00:01:05,399
I've committed to open SSL I've written

21
00:01:03,480 --> 00:01:09,780
a python implementation and I've written

22
00:01:05,399 --> 00:01:13,259
tooling for testing it and war goodbye

23
00:01:09,780 --> 00:01:15,359
account of many people so I must have

24
00:01:13,259 --> 00:01:16,770
talked about it at come to this like the

25
00:01:15,359 --> 00:01:22,079
big size Manchester Conference and

26
00:01:16,770 --> 00:01:24,929
police a bunch of children so why are we

27
00:01:22,079 --> 00:01:26,219
absolutely interested in this well first

28
00:01:24,929 --> 00:01:29,429
thing is going to tell you a bit about

29
00:01:26,219 --> 00:01:32,880
what your monthly is why it exists so

30
00:01:29,429 --> 00:01:35,369
basically why we need it and then cut

31
00:01:32,880 --> 00:01:38,729
off some of the basic changes sort of

32
00:01:35,369 --> 00:01:40,499
really simple things and then obviously

33
00:01:38,729 --> 00:01:41,849
just to give an opportunity for things

34
00:01:40,499 --> 00:01:43,969
to go wrong there me to look like an

35
00:01:41,849 --> 00:01:46,319
idiot I'll try and do some demos

36
00:01:43,969 --> 00:01:51,749
unfortunately not relies on the Wi-Fi so

37
00:01:46,319 --> 00:01:53,459
that's at least one bullet does see the

38
00:01:51,749 --> 00:01:56,098
next thing is what else has changed so

39
00:01:53,459 --> 00:01:57,659
there's a bit more detail more stuff but

40
00:01:56,099 --> 00:02:01,139
I'm not going to cover the initial that

41
00:01:57,659 --> 00:02:03,209
set I ran some more demos fit about

42
00:02:01,139 --> 00:02:05,209
deployments so when you can expect to

43
00:02:03,209 --> 00:02:07,499
see it why you can expect to see it

44
00:02:05,209 --> 00:02:11,880
where you won't expect to see it and

45
00:02:07,499 --> 00:02:14,130
then finally a few things which whilst

46
00:02:11,880 --> 00:02:15,290
they are theoretically available now

47
00:02:14,130 --> 00:02:16,609
they

48
00:02:15,290 --> 00:02:19,340
lady workouts or they're not really

49
00:02:16,610 --> 00:02:21,379
publicly deployed so those changes are

50
00:02:19,340 --> 00:02:23,629
things that people to be seeing in a

51
00:02:21,379 --> 00:02:27,500
year or so or maybe maybe soon that fear

52
00:02:23,629 --> 00:02:30,649
on that panel network so let's start

53
00:02:27,500 --> 00:02:33,890
with why do we need it well tell us it

54
00:02:30,650 --> 00:02:37,220
is basically it's SSL but dressed up

55
00:02:33,890 --> 00:02:39,458
it's it's nothing special a lot of it

56
00:02:37,220 --> 00:02:42,379
was designed 20 years ago and

57
00:02:39,459 --> 00:02:44,480
unfortunately that shows there's still a

58
00:02:42,379 --> 00:02:47,450
lot of evolution in thinking about how

59
00:02:44,480 --> 00:02:50,298
protocols should be aligned and thinking

60
00:02:47,450 --> 00:02:52,879
about what kind of protections are

61
00:02:50,299 --> 00:02:54,290
needed let's get some thinking changed

62
00:02:52,879 --> 00:02:58,540
about the basics about how he put

63
00:02:54,290 --> 00:03:01,578
cryptography together it also helps that

64
00:02:58,540 --> 00:03:04,569
tell us what SSL was developed basically

65
00:03:01,579 --> 00:03:09,799
by a couple guys working at Netscape and

66
00:03:04,569 --> 00:03:11,540
Netscape at the time were what but just

67
00:03:09,799 --> 00:03:13,340
the biggest but I was the manufacturer

68
00:03:11,540 --> 00:03:17,000
that they serve manufacturer they were

69
00:03:13,340 --> 00:03:18,980
kind of Google but for their time and so

70
00:03:17,000 --> 00:03:21,650
they you know they don't exist anymore

71
00:03:18,980 --> 00:03:24,349
but malware Firefox comes from if and if

72
00:03:21,650 --> 00:03:27,379
you don't remember that far back and

73
00:03:24,349 --> 00:03:28,750
they put together SSL as a way to do

74
00:03:27,379 --> 00:03:30,709
commerce on the Internet

75
00:03:28,750 --> 00:03:32,780
because when the internet though I said

76
00:03:30,709 --> 00:03:35,840
it wasn't encrypted everything is open

77
00:03:32,780 --> 00:03:38,660
and as a result putting a shop on the

78
00:03:35,840 --> 00:03:41,120
Internet was well it was a really bad

79
00:03:38,660 --> 00:03:43,040
idea and everyone's credit cards would

80
00:03:41,120 --> 00:03:46,010
have gotten it so we really need this

81
00:03:43,040 --> 00:03:47,959
stuff to be right and sadly it was so

82
00:03:46,010 --> 00:03:51,769
there's been a lot of work gone in over

83
00:03:47,959 --> 00:03:53,000
the years try and patch it up so what

84
00:03:51,769 --> 00:03:56,060
we've been doing is basically playing

85
00:03:53,000 --> 00:03:58,400
whack-a-mole and that is suddenly not an

86
00:03:56,060 --> 00:04:01,579
to be formalism that's just some of them

87
00:03:58,400 --> 00:04:04,879
so partly that's an implementation flaw

88
00:04:01,579 --> 00:04:07,489
that was effective at some pressure to

89
00:04:04,879 --> 00:04:10,280
open SSL and it basically allows you to

90
00:04:07,489 --> 00:04:12,949
access it's a server memory as a result

91
00:04:10,280 --> 00:04:15,379
you could get keys decrypt the strategy

92
00:04:12,949 --> 00:04:17,150
to see the traffic in plaintext on some

93
00:04:15,379 --> 00:04:18,680
configurations I remember sitting there

94
00:04:17,149 --> 00:04:20,988
watching people changing their passwords

95
00:04:18,680 --> 00:04:23,210
on vulnerable systems and seeing like

96
00:04:20,988 --> 00:04:24,710
new passwords go by this was not good

97
00:04:23,210 --> 00:04:26,719
those are skinny that's had to be

98
00:04:24,710 --> 00:04:28,310
changed because it also turned out that

99
00:04:26,719 --> 00:04:30,050
elements of the point

100
00:04:28,310 --> 00:04:33,500
which was sufficient people to be able

101
00:04:30,050 --> 00:04:35,870
to do clip the traffic so that was

102
00:04:33,500 --> 00:04:41,510
basically a major disaster in terms of

103
00:04:35,870 --> 00:04:43,430
his obscurity beasts boring but you know

104
00:04:41,510 --> 00:04:46,610
animal attacks these things all in the

105
00:04:43,430 --> 00:04:50,150
post-cold and I will detail hope another

106
00:04:46,610 --> 00:04:54,350
one this one's compression and then

107
00:04:50,150 --> 00:04:58,280
we've got PKI so this is basically first

108
00:04:54,350 --> 00:05:01,010
one is somebody getting into the web

109
00:04:58,280 --> 00:05:03,799
interfaces or the API is used by skiffle

110
00:05:01,010 --> 00:05:07,430
32 basically props tickets so an

111
00:05:03,800 --> 00:05:09,080
interface that's allowed their suppliers

112
00:05:07,430 --> 00:05:11,900
that resellers to basically generate

113
00:05:09,080 --> 00:05:14,090
certs he got in native punch was up not

114
00:05:11,900 --> 00:05:18,020
good so basically he could pretend to be

115
00:05:14,090 --> 00:05:21,859
anybody laugh a bit was an interesting

116
00:05:18,020 --> 00:05:23,690
case because the compromise was legal in

117
00:05:21,860 --> 00:05:26,120
Thailand legal what happened was they

118
00:05:23,690 --> 00:05:28,370
had an email server it had his private

119
00:05:26,120 --> 00:05:29,919
key everyone was up all happy all the

120
00:05:28,370 --> 00:05:33,140
traffic is great it's all encrypted

121
00:05:29,919 --> 00:05:36,620
except that then the government all the

122
00:05:33,140 --> 00:05:39,820
things the states got the world said

123
00:05:36,620 --> 00:05:43,430
give us the key and he fought it failed

124
00:05:39,820 --> 00:05:45,650
at key and because his configuration was

125
00:05:43,430 --> 00:05:47,150
poor it has turned out that they were

126
00:05:45,650 --> 00:05:48,500
able to decrypt from the traffic and

127
00:05:47,150 --> 00:05:51,380
that's what all of these supposedly

128
00:05:48,500 --> 00:05:53,690
secret emails were now over and again

129
00:05:51,380 --> 00:05:55,430
that's you know it's real things there's

130
00:05:53,690 --> 00:05:57,950
nothing there that couldn't easily

131
00:05:55,430 --> 00:05:59,690
prevent that kind of thing so let's go

132
00:05:57,950 --> 00:06:03,010
for us we've had another one was

133
00:05:59,690 --> 00:06:06,289
renegotiation it turned out that simple

134
00:06:03,010 --> 00:06:08,930
over a decade after SSL and TLS and put

135
00:06:06,289 --> 00:06:11,300
together but someone found was a broken

136
00:06:08,930 --> 00:06:13,370
protocol unknown unnoticed and so now

137
00:06:11,300 --> 00:06:15,110
you could basically be negotiate and

138
00:06:13,370 --> 00:06:16,729
there wasn't a proper binding to the old

139
00:06:15,110 --> 00:06:17,870
troll and the new channel and some

140
00:06:16,729 --> 00:06:19,969
people jump in in the middle

141
00:06:17,870 --> 00:06:23,150
nothing I'm only much an edge case and

142
00:06:19,970 --> 00:06:24,890
easy to turn off but all these of

143
00:06:23,150 --> 00:06:28,179
indicating that it's really creaking at

144
00:06:24,890 --> 00:06:31,310
the edges and quote your significant one

145
00:06:28,180 --> 00:06:33,020
basically after this speech and well so

146
00:06:31,310 --> 00:06:33,830
it's a unless you sniffing mmm and that

147
00:06:33,020 --> 00:06:35,780
will solve this problem

148
00:06:33,830 --> 00:06:36,700
give us for that secrecy unfortunately

149
00:06:35,780 --> 00:06:38,500
then it turned out

150
00:06:36,700 --> 00:06:41,050
that code either an apple or a bush as

151
00:06:38,500 --> 00:06:42,850
well so you've got lots of systems that

152
00:06:41,050 --> 00:06:45,940
are configured with really weak

153
00:06:42,850 --> 00:06:48,220
if you hadn't crimes and attention to

154
00:06:45,940 --> 00:06:49,840
the systems prevent you so like I was

155
00:06:48,220 --> 00:06:51,820
able to configure in the patch server to

156
00:06:49,840 --> 00:06:54,369
have if you have been fine or you were

157
00:06:51,820 --> 00:06:56,590
seven I use now isn't not particularly

158
00:06:54,370 --> 00:06:58,240
strong there's no protections in

159
00:06:56,590 --> 00:07:00,159
placement nothing to make it obvious

160
00:06:58,240 --> 00:07:02,730
that I just managed to make a course or

161
00:07:00,160 --> 00:07:05,350
mistake it doesn't tell you these things

162
00:07:02,730 --> 00:07:06,880
at the time the tooling for looking at

163
00:07:05,350 --> 00:07:09,100
that was poor though it is getting a bit

164
00:07:06,880 --> 00:07:12,070
better these days things like SSL labs

165
00:07:09,100 --> 00:07:13,450
will bring up a nice report and tell you

166
00:07:12,070 --> 00:07:16,810
most of stuff you're doing wrong and

167
00:07:13,450 --> 00:07:18,580
that's great but really we shouldn't be

168
00:07:16,810 --> 00:07:20,470
relying on people to configure all this

169
00:07:18,580 --> 00:07:23,680
of arcane stuff you've got the Mozilla

170
00:07:20,470 --> 00:07:25,240
confit generator it's fantastic but why

171
00:07:23,680 --> 00:07:27,070
do we have that much conflict why are we

172
00:07:25,240 --> 00:07:28,960
giving so many people so much

173
00:07:27,070 --> 00:07:31,090
opportunity to shoot themselves and us

174
00:07:28,960 --> 00:07:32,500
in the foot that's just a fundamental

175
00:07:31,090 --> 00:07:37,270
design out in the software and in the

176
00:07:32,500 --> 00:07:39,940
protocol so they're trying to fix it so

177
00:07:37,270 --> 00:07:42,700
some of these issues go but he is CBC

178
00:07:39,940 --> 00:07:45,130
cycle issues so that was where a lot of

179
00:07:42,700 --> 00:07:50,409
these issues came from this was known

180
00:07:45,130 --> 00:07:51,040
about in 2004 and still there because

181
00:07:50,410 --> 00:07:52,720
we're good

182
00:07:51,040 --> 00:07:56,320
it can't be fixed it's a fundamental

183
00:07:52,720 --> 00:07:58,720
problem with that mode and because of

184
00:07:56,320 --> 00:08:00,520
the way they were basing in destroying

185
00:07:58,720 --> 00:08:04,300
the integrity of the data that it wasn't

186
00:08:00,520 --> 00:08:06,099
being modified there was no easy way to

187
00:08:04,300 --> 00:08:08,890
fix it the only way to fix it is to

188
00:08:06,100 --> 00:08:12,130
layer on a whole other set of protocols

189
00:08:08,890 --> 00:08:13,150
so another set of cipher suites and all

190
00:08:12,130 --> 00:08:14,560
that mean it's just the old ones are

191
00:08:13,150 --> 00:08:16,239
still there and now we've got another

192
00:08:14,560 --> 00:08:17,830
bit so basically it just gives people

193
00:08:16,240 --> 00:08:19,900
another not that they need to configure

194
00:08:17,830 --> 00:08:23,950
this is not a sustainable way to

195
00:08:19,900 --> 00:08:25,780
approach this so ya know these things

196
00:08:23,950 --> 00:08:30,070
they weren't forward to be practical but

197
00:08:25,780 --> 00:08:33,069
sadly yeah turns out they were yes and

198
00:08:30,070 --> 00:08:35,590
then weak ciphers no one would ever move

199
00:08:33,070 --> 00:08:37,240
all those in production but then you

200
00:08:35,590 --> 00:08:39,900
know you look at things like SSL labs

201
00:08:37,240 --> 00:08:42,520
and you find out all the maximal

202
00:08:39,900 --> 00:08:45,400
everyone does by default and form of the

203
00:08:42,520 --> 00:08:46,600
older software does and Java does and if

204
00:08:45,400 --> 00:08:49,240
you turn it off then you find you

205
00:08:46,600 --> 00:08:51,970
actually can't commit for myself so

206
00:08:49,240 --> 00:08:53,860
to turn it on so as a result having

207
00:08:51,970 --> 00:08:56,980
these things in there is inherently

208
00:08:53,860 --> 00:08:59,190
risky it's basically a big mistake that

209
00:08:56,980 --> 00:09:02,560
[Music]

210
00:08:59,190 --> 00:09:05,290
well with living with and we're trying

211
00:09:02,560 --> 00:09:08,589
to make up for it now you always say the

212
00:09:05,290 --> 00:09:09,849
key exchange was another mistake but

213
00:09:08,589 --> 00:09:12,880
obviously we didn't know that at the

214
00:09:09,850 --> 00:09:14,800
time a lack of forward secrecy was the

215
00:09:12,880 --> 00:09:17,980
weakness there so what it means is that

216
00:09:14,800 --> 00:09:20,920
if you get the private key so those of

217
00:09:17,980 --> 00:09:22,660
you who are done testing or the course

218
00:09:20,920 --> 00:09:26,649
is about testing well if they'd seen

219
00:09:22,660 --> 00:09:28,449
things like that it's a path

220
00:09:26,649 --> 00:09:31,540
manipulation attacks where you can

221
00:09:28,450 --> 00:09:33,760
effectively get piles off a server we

222
00:09:31,540 --> 00:09:36,040
compromised a server some other way if

223
00:09:33,760 --> 00:09:37,689
you can get to a certificate ah well

224
00:09:36,040 --> 00:09:38,199
it's game over if you if you configure

225
00:09:37,690 --> 00:09:39,610
it that way

226
00:09:38,200 --> 00:09:41,529
because you can then decrypt all the

227
00:09:39,610 --> 00:09:43,570
traffic so everyone who's out to see

228
00:09:41,529 --> 00:09:45,339
website well has historically ever

229
00:09:43,570 --> 00:09:47,970
access that site if you accordant be

230
00:09:45,339 --> 00:09:52,270
encrypted traffic is now on the list

231
00:09:47,970 --> 00:09:54,550
again not good so passive eavesdropping

232
00:09:52,270 --> 00:09:57,040
issue is what I'm talking about there so

233
00:09:54,550 --> 00:09:58,810
effectively what you can do is just

234
00:09:57,040 --> 00:10:00,640
monitor the traffic and then decrypt it

235
00:09:58,810 --> 00:10:02,290
you don't need to absolutely man in the

236
00:10:00,640 --> 00:10:03,970
middle so if you're familiar with burp

237
00:10:02,290 --> 00:10:06,160
suite or something like that that's an

238
00:10:03,970 --> 00:10:08,529
interception proxy it does an active

239
00:10:06,160 --> 00:10:13,180
attack and that's quite a different

240
00:10:08,529 --> 00:10:15,459
approach that will still work so see

241
00:10:13,180 --> 00:10:18,550
that's more point to me they had some

242
00:10:15,459 --> 00:10:21,910
specific goals and what was encrypt as

243
00:10:18,550 --> 00:10:24,339
much as possible so that's what makes a

244
00:10:21,910 --> 00:10:26,410
lot of sense address any known

245
00:10:24,339 --> 00:10:29,079
weaknesses well you know so will you be

246
00:10:26,410 --> 00:10:31,029
a bit stupid otherwise now this one's

247
00:10:29,079 --> 00:10:33,609
interesting change in the aim of the

248
00:10:31,029 --> 00:10:35,700
protocol previously privacy was not a

249
00:10:33,610 --> 00:10:37,570
specific aim of the first of all

250
00:10:35,700 --> 00:10:39,120
confidentiality was but that's not quite

251
00:10:37,570 --> 00:10:42,940
the same thing

252
00:10:39,120 --> 00:10:47,500
so there's similar concepts but not the

253
00:10:42,940 --> 00:10:49,300
same so an example would be making

254
00:10:47,500 --> 00:10:50,829
information as one recoverable as

255
00:10:49,300 --> 00:10:53,829
possible making it so the eavesdropping

256
00:10:50,829 --> 00:10:55,779
is actively hard not simply relying on

257
00:10:53,829 --> 00:10:56,329
the fact that somebody who's an active

258
00:10:55,779 --> 00:11:00,420
attacker

259
00:10:56,329 --> 00:11:02,399
incepted interesting hey listen in every

260
00:11:00,420 --> 00:11:07,139
other version they just added new stuff

261
00:11:02,399 --> 00:11:09,749
so see that's one 1.1 1.2 each one just

262
00:11:07,139 --> 00:11:12,389
adds more things which is more things to

263
00:11:09,749 --> 00:11:13,829
go wrong and of course it's bad enough

264
00:11:12,389 --> 00:11:15,420
that we're adding a whole new protocol

265
00:11:13,829 --> 00:11:17,339
so at one point three more things to go

266
00:11:15,420 --> 00:11:19,259
wrong as well I admit but at least this

267
00:11:17,339 --> 00:11:20,579
one is smaller so what they did was they

268
00:11:19,259 --> 00:11:22,920
threw away a lot of the concepts that

269
00:11:20,579 --> 00:11:26,729
were in the old one I made it much work

270
00:11:22,920 --> 00:11:28,800
time yeah and it actually started asking

271
00:11:26,730 --> 00:11:31,860
before about maybe how we could do the

272
00:11:28,800 --> 00:11:33,748
security good start so rather than all

273
00:11:31,860 --> 00:11:37,379
of the analysis been done after the fact

274
00:11:33,749 --> 00:11:39,300
so 20 years of sort of whack-a-mole what

275
00:11:37,379 --> 00:11:42,149
they said was Oakland let's look at it

276
00:11:39,300 --> 00:11:44,699
and let's analyze the hell out of it at

277
00:11:42,149 --> 00:11:46,949
this point in time and as a result what

278
00:11:44,699 --> 00:11:48,930
we can do is get a protocol that will

279
00:11:46,949 --> 00:11:51,508
actually be fit for purpose rather than

280
00:11:48,930 --> 00:11:53,489
and having to go back and make 1.4 1.5

281
00:11:51,509 --> 00:11:59,910
and start patching it all up

282
00:11:53,490 --> 00:12:03,329
so this is a really good change so what

283
00:11:59,910 --> 00:12:05,339
are they well moving all of the old

284
00:12:03,329 --> 00:12:09,269
stuff the non ciphers

285
00:12:05,339 --> 00:12:12,269
these are ciphers that don't encrypt one

286
00:12:09,269 --> 00:12:16,110
hey I mean what possible earthly use is

287
00:12:12,269 --> 00:12:18,750
up but if you look at the TLS 1.2 spec

288
00:12:16,110 --> 00:12:20,819
which was previously very latest version

289
00:12:18,750 --> 00:12:22,110
it still talked moment so it's not like

290
00:12:20,819 --> 00:12:23,370
they were even just a little appendage

291
00:12:22,110 --> 00:12:25,189
that everyone forgotten about they were

292
00:12:23,370 --> 00:12:28,680
in the body of the text

293
00:12:25,189 --> 00:12:31,199
they aren't you saying there must have

294
00:12:28,680 --> 00:12:33,750
become fortunately these days people are

295
00:12:31,199 --> 00:12:36,420
no longer ignorant on them so it used to

296
00:12:33,750 --> 00:12:38,189
be try them turned on by love so you do

297
00:12:36,420 --> 00:12:39,899
a lot of incident scans you would fire

298
00:12:38,189 --> 00:12:42,959
them loads of service with them with a

299
00:12:39,899 --> 00:12:44,059
month with them turned on and but you

300
00:12:42,959 --> 00:12:49,138
know this is not good

301
00:12:44,059 --> 00:12:52,170
I'll see falling triple des rc4 is weak

302
00:12:49,139 --> 00:12:54,480
we know it's week and nobody reason to

303
00:12:52,170 --> 00:12:58,860
use it these days so yeah going to the

304
00:12:54,480 --> 00:13:01,139
flag it Triple DES this one's not hard

305
00:12:58,860 --> 00:13:04,379
because it's not actually it's not great

306
00:13:01,139 --> 00:13:07,350
it's got a number of issues and but it's

307
00:13:04,379 --> 00:13:09,300
quite widely deployed but the things

308
00:13:07,350 --> 00:13:11,130
we've got better options these days

309
00:13:09,300 --> 00:13:12,180
and we haven't proper standards so it's

310
00:13:11,130 --> 00:13:13,800
not like the need for standards

311
00:13:12,180 --> 00:13:15,989
compliance we have AES which is kind of

312
00:13:13,800 --> 00:13:19,949
written placement so let's just go with

313
00:13:15,990 --> 00:13:23,820
that so yeah again hit X for sizes this

314
00:13:19,950 --> 00:13:25,290
was a thing back when the Americans were

315
00:13:23,820 --> 00:13:27,870
trying to per head everyone having

316
00:13:25,290 --> 00:13:29,189
crypto except for themselves they said

317
00:13:27,870 --> 00:13:31,019
that only bounts were allowed to have

318
00:13:29,190 --> 00:13:36,560
strong crypto and everybody else had to

319
00:13:31,019 --> 00:13:40,350
have weakened crypto this was not ideal

320
00:13:36,560 --> 00:13:41,779
but as a result what you found was there

321
00:13:40,350 --> 00:13:44,850
are a lot of systems would have

322
00:13:41,779 --> 00:13:48,029
artificially weakened security and this

323
00:13:44,850 --> 00:13:52,110
would be enabled by default so again you

324
00:13:48,029 --> 00:13:53,220
know not not we want good not I'll see

325
00:13:52,110 --> 00:13:56,100
two little bears

326
00:13:53,220 --> 00:13:59,700
these things are from the ark and then

327
00:13:56,100 --> 00:14:02,010
these ones which on here it's like these

328
00:13:59,700 --> 00:14:03,720
are ciphers that exists particularly odd

329
00:14:02,010 --> 00:14:06,829
standards or because somebody thought it

330
00:14:03,720 --> 00:14:09,029
was a good idea as a research project

331
00:14:06,829 --> 00:14:10,349
because of lack of control over the

332
00:14:09,029 --> 00:14:12,959
standards and lack of control over the

333
00:14:10,350 --> 00:14:15,000
code bases they've been accepted say

334
00:14:12,959 --> 00:14:17,579
they go into open SSL or get in the

335
00:14:15,000 --> 00:14:19,440
default size of string based on the list

336
00:14:17,579 --> 00:14:21,779
of what's it what secure what's not

337
00:14:19,440 --> 00:14:23,160
because they're not actually broken but

338
00:14:21,779 --> 00:14:27,540
it's just more attached so this must go

339
00:14:23,160 --> 00:14:31,140
wrong so what does it mean for verses

340
00:14:27,540 --> 00:14:32,520
pentesters well first thing it means we

341
00:14:31,140 --> 00:14:35,970
don't have to report these ciphers

342
00:14:32,520 --> 00:14:37,980
anymore in place so can finally

343
00:14:35,970 --> 00:14:39,420
concentrate our effort on more

344
00:14:37,980 --> 00:14:41,450
interesting issues we can write up

345
00:14:39,420 --> 00:14:44,209
things that people actually care about

346
00:14:41,450 --> 00:14:48,209
you know we've report we excited 7 goes

347
00:14:44,209 --> 00:14:50,069
off and that's fine you know they need

348
00:14:48,209 --> 00:14:52,290
to switch off but one earth will be

349
00:14:50,070 --> 00:14:53,970
finding least offer pen test this should

350
00:14:52,290 --> 00:14:56,010
be game called much earlier and it

351
00:14:53,970 --> 00:14:56,610
should not be our problem and we hate

352
00:14:56,010 --> 00:14:58,230
writing it up

353
00:14:56,610 --> 00:15:01,070
they had reading it why we're wasting

354
00:14:58,230 --> 00:15:03,899
everybody's time let's just fix it so

355
00:15:01,070 --> 00:15:07,260
you can't have a pen test reports out

356
00:15:03,899 --> 00:15:09,899
that noise anymore so that is kind of

357
00:15:07,260 --> 00:15:11,670
bad you know if you're weighing reports

358
00:15:09,899 --> 00:15:13,680
and sort of thinking well the value of

359
00:15:11,670 --> 00:15:15,180
the report is how many pages it is well

360
00:15:13,680 --> 00:15:17,520
obviously it's a disaster because you

361
00:15:15,180 --> 00:15:18,920
can't pop the loophole no really is that

362
00:15:17,520 --> 00:15:21,170
my three values that business

363
00:15:18,920 --> 00:15:22,608
not really it's just it's just window

364
00:15:21,170 --> 00:15:25,549
dressing it's just making things look

365
00:15:22,609 --> 00:15:26,809
impressive and these issues are kind of

366
00:15:25,549 --> 00:15:29,149
issue as well whilst their compliance

367
00:15:26,809 --> 00:15:30,829
failures their food where people

368
00:15:29,149 --> 00:15:33,079
actually get compromised this way so

369
00:15:30,829 --> 00:15:35,748
nobody has we don't care

370
00:15:33,079 --> 00:15:37,790
customer doesn't care we know we have to

371
00:15:35,749 --> 00:15:39,100
fix it we won't have to do it but it's

372
00:15:37,790 --> 00:15:41,719
not interesting

373
00:15:39,100 --> 00:15:43,009
certainly for now they're gonna have to

374
00:15:41,720 --> 00:15:44,989
support the old versions as well so

375
00:15:43,009 --> 00:15:45,889
we're stuck with it for a while but you

376
00:15:44,989 --> 00:15:52,249
know it's gonna get better

377
00:15:45,889 --> 00:15:53,660
a little big change cycle sweets who was

378
00:15:52,249 --> 00:15:56,029
familiar with the concept of a cyclist

379
00:15:53,660 --> 00:15:57,919
week into less earlier versions of juice

380
00:15:56,029 --> 00:16:02,749
one or two it's ever a lot of YouTube

381
00:15:57,919 --> 00:16:04,160
videos okay so so it's like a sweet

382
00:16:02,749 --> 00:16:06,980
bundles together all of the information

383
00:16:04,160 --> 00:16:10,850
about a site map so it's the cypher it's

384
00:16:06,980 --> 00:16:12,499
the map that is used to the checks on

385
00:16:10,850 --> 00:16:14,869
the data effectively it's she

386
00:16:12,499 --> 00:16:16,129
negotiation and strategy it's how you

387
00:16:14,869 --> 00:16:18,199
prove identity so it's basically

388
00:16:16,129 --> 00:16:20,119
everything about how we're gonna secure

389
00:16:18,199 --> 00:16:22,998
the connection all bundled up into one

390
00:16:20,119 --> 00:16:25,100
tiny lock number and that number it's

391
00:16:22,999 --> 00:16:28,279
just a reference into a list which is

392
00:16:25,100 --> 00:16:31,040
maintained as a standard and then you go

393
00:16:28,279 --> 00:16:32,989
shake your number server basically picks

394
00:16:31,040 --> 00:16:36,559
which one at once and then you end up

395
00:16:32,989 --> 00:16:37,480
with whatever they've set and you just

396
00:16:36,559 --> 00:16:40,730
dealt with it

397
00:16:37,480 --> 00:16:43,699
well that's been changed so because we

398
00:16:40,730 --> 00:16:45,499
had think it was 340 last time I checked

399
00:16:43,699 --> 00:16:50,299
different sizes waves into that's one

400
00:16:45,499 --> 00:16:52,850
point to nobody needs not many I'm half

401
00:16:50,299 --> 00:16:55,519
them go away immediately because it used

402
00:16:52,850 --> 00:16:58,069
to in from the skiff ago type I everyone

403
00:16:55,519 --> 00:16:59,720
uses almost no certificates will barely

404
00:16:58,069 --> 00:17:01,219
sweat and other people are starting to

405
00:16:59,720 --> 00:17:03,019
use elliptic curve but it's difficult

406
00:17:01,220 --> 00:17:05,500
but it's incredibly where it's

407
00:17:03,019 --> 00:17:08,209
effectively zero and then there's the

408
00:17:05,500 --> 00:17:11,539
DSA certificates I've never seen one in

409
00:17:08,209 --> 00:17:13,399
production maybe somebody has but they

410
00:17:11,539 --> 00:17:16,970
are so there has to be that unit course

411
00:17:13,398 --> 00:17:19,698
so that's just common little tender take

412
00:17:16,970 --> 00:17:21,230
that was the key exchange so instead of

413
00:17:19,699 --> 00:17:22,579
saying what I'm going to use RSA for the

414
00:17:21,230 --> 00:17:24,679
key experience or bippy Hellman for the

415
00:17:22,579 --> 00:17:26,388
key exchange that's gone as well we're

416
00:17:24,679 --> 00:17:28,240
always going to use the same thing and

417
00:17:26,388 --> 00:17:32,570
it turns a surface which we call from

418
00:17:28,240 --> 00:17:34,250
340 to 5 and

419
00:17:32,570 --> 00:17:37,250
otherwise some of them are actually the

420
00:17:34,250 --> 00:17:38,840
same with slight sub tweaks so it's a

421
00:17:37,250 --> 00:17:40,820
massive reduction in the attack service

422
00:17:38,840 --> 00:17:43,279
and they're all using well tested

423
00:17:40,820 --> 00:17:45,350
algorithms the negotiation process is

424
00:17:43,279 --> 00:17:47,360
therefore much simpler but this is much

425
00:17:45,350 --> 00:17:49,189
simpler on the number of things that

426
00:17:47,360 --> 00:17:50,719
cryptography need to worry about is much

427
00:17:49,190 --> 00:17:53,450
smaller and these are ones that they've

428
00:17:50,720 --> 00:17:56,419
already tested extensively it's using

429
00:17:53,450 --> 00:17:58,309
what is thought to be sort of the best

430
00:17:56,419 --> 00:17:59,659
standards in terms of doing things

431
00:17:58,309 --> 00:18:01,009
even the pick top the first seems to be

432
00:17:59,659 --> 00:18:01,549
a general agreement that is being done

433
00:18:01,009 --> 00:18:03,380
right

434
00:18:01,549 --> 00:18:06,289
if actively go out and try to prove

435
00:18:03,380 --> 00:18:11,120
security so this is all really good so

436
00:18:06,289 --> 00:18:13,970
bit more than Felicita laser all CBC

437
00:18:11,120 --> 00:18:15,979
cipher modes have gone so they were

438
00:18:13,970 --> 00:18:18,950
previously I would say the most widely

439
00:18:15,980 --> 00:18:20,360
used ones and that is not toast because

440
00:18:18,950 --> 00:18:23,659
it's also been the biggest source of

441
00:18:20,360 --> 00:18:26,049
weakness so it's always using this thing

442
00:18:23,659 --> 00:18:28,879
a EAD what that basically means today is

443
00:18:26,049 --> 00:18:30,860
and he encrypts it and preserves its

444
00:18:28,879 --> 00:18:32,389
integrity at the same time so instead of

445
00:18:30,860 --> 00:18:34,850
having to worry about three encrypted

446
00:18:32,389 --> 00:18:37,158
and then in soil integrity what do we

447
00:18:34,850 --> 00:18:39,259
ensure the integrity and then encrypt it

448
00:18:37,159 --> 00:18:43,179
it's always the same and we do it

449
00:18:39,259 --> 00:18:45,019
together and it actually underneath is

450
00:18:43,179 --> 00:18:47,269
there's a couple of ways you could do

451
00:18:45,019 --> 00:18:48,860
that but instead we're just treating it

452
00:18:47,269 --> 00:18:50,840
as a black box and saying we're just

453
00:18:48,860 --> 00:18:52,459
going to do it and that's always going

454
00:18:50,840 --> 00:18:56,360
to be the case so that's a personal

455
00:18:52,460 --> 00:18:58,519
change so pademelon flaws which have

456
00:18:56,360 --> 00:19:03,289
been the bane of everybody's life I've

457
00:18:58,519 --> 00:19:06,730
got no more until somebody finds I hope

458
00:19:03,289 --> 00:19:09,799
you hustle tap with pretty good

459
00:19:06,730 --> 00:19:12,529
handshake so the hunt it's what happens

460
00:19:09,799 --> 00:19:14,269
first you know the client said hello the

461
00:19:12,529 --> 00:19:16,639
services hello we agree on all the

462
00:19:14,269 --> 00:19:19,009
things you know I'm going to be ciphers

463
00:19:16,639 --> 00:19:20,029
you can say these ones and we say of

464
00:19:19,009 --> 00:19:24,980
everything about what we want the

465
00:19:20,029 --> 00:19:26,360
connection to be well that's in the

466
00:19:24,980 --> 00:19:29,600
previous world similar to that was one

467
00:19:26,360 --> 00:19:31,039
encrypted so just by looking at the

468
00:19:29,600 --> 00:19:32,840
traffic with live shot you could say

469
00:19:31,039 --> 00:19:34,940
who's being talked to because that was

470
00:19:32,840 --> 00:19:36,620
their server name indication you could

471
00:19:34,940 --> 00:19:38,690
say who's been told to again because

472
00:19:36,620 --> 00:19:41,239
that was that in the certificate you can

473
00:19:38,690 --> 00:19:43,250
see the public key you can see details

474
00:19:41,240 --> 00:19:44,299
of the key exchange so it's all sorts of

475
00:19:43,250 --> 00:19:45,859
information happening in

476
00:19:44,299 --> 00:19:47,658
it now some of that information was

477
00:19:45,859 --> 00:19:50,059
getting into other ways because DNS for

478
00:19:47,659 --> 00:19:51,499
example but you know somebody else

479
00:19:50,059 --> 00:19:53,389
having a problem is not an excuse at

480
00:19:51,499 --> 00:19:56,649
first on the book simply when the whole

481
00:19:53,389 --> 00:19:59,119
goal of our protocol is to be secure so

482
00:19:56,649 --> 00:20:02,268
this sort of information leakage is

483
00:19:59,119 --> 00:20:06,559
getting addressed it's not perfect yet

484
00:20:02,269 --> 00:20:08,359
and I'll put that up at the end service

485
00:20:06,559 --> 00:20:10,039
difficut it's public information but

486
00:20:08,359 --> 00:20:11,809
equally there's no reason why people

487
00:20:10,039 --> 00:20:13,279
should be able to know which of the

488
00:20:11,809 --> 00:20:14,899
sites you are looking at so maybe more

489
00:20:13,279 --> 00:20:20,419
than one size of a particular IP address

490
00:20:14,899 --> 00:20:21,559
and then maybe nobody's and why you need

491
00:20:20,419 --> 00:20:24,339
to know that so why should you know

492
00:20:21,559 --> 00:20:26,719
Cooper to use one of our goals so yeah

493
00:20:24,339 --> 00:20:29,450
tell us it's been terms previously these

494
00:20:26,719 --> 00:20:32,899
are basically centered clear and well

495
00:20:29,450 --> 00:20:34,719
they're not be more big so what that

496
00:20:32,899 --> 00:20:37,668
means is if people could be in my shop

497
00:20:34,719 --> 00:20:39,440
the change size Fitbit is where it's

498
00:20:37,669 --> 00:20:41,779
saying I'm going to be encrypted from

499
00:20:39,440 --> 00:20:43,669
now on all you see is I don't know if we

500
00:20:41,779 --> 00:20:46,369
looked at handshake in my shop before

501
00:20:43,669 --> 00:20:48,889
but you can see that basically you can't

502
00:20:46,369 --> 00:20:52,629
see anything so what we've got is a

503
00:20:48,889 --> 00:20:52,629
situation where things are much better

504
00:20:53,139 --> 00:21:08,869
so I'll be tested yeah okay that's a

505
00:21:04,329 --> 00:21:09,469
complicated question some of that LIC

506
00:21:08,869 --> 00:21:15,799
cover later

507
00:21:09,469 --> 00:21:18,979
but the during the initial plan hello

508
00:21:15,799 --> 00:21:21,139
the client sends its key or its

509
00:21:18,979 --> 00:21:22,909
component or the difficulty extend on

510
00:21:21,139 --> 00:21:23,869
the server then replies in basically its

511
00:21:22,909 --> 00:21:25,549
first packet as well

512
00:21:23,869 --> 00:21:26,958
so from that point on they both have

513
00:21:25,549 --> 00:21:29,959
sufficient information to be able to

514
00:21:26,959 --> 00:21:31,940
encrypt the traffic so it's just much

515
00:21:29,959 --> 00:21:34,549
earlier by sending information as soon

516
00:21:31,940 --> 00:21:38,029
as possible they've already kind of

517
00:21:34,549 --> 00:21:40,989
agreed that we do yeah so basically the

518
00:21:38,029 --> 00:21:44,659
only handshake that is left is different

519
00:21:40,989 --> 00:21:46,399
what yeah this is the only one so it's

520
00:21:44,659 --> 00:21:50,359
50 on the beds

521
00:21:46,399 --> 00:21:51,649
you know like special deal so as a

522
00:21:50,359 --> 00:21:53,899
result you know you've got the

523
00:21:51,649 --> 00:21:56,669
information you need and therefore you

524
00:21:53,899 --> 00:22:00,370
can start doing pretty much fun

525
00:21:56,670 --> 00:22:10,150
so much simple problems been eliminated

526
00:22:00,370 --> 00:22:12,189
and yeah fingers crossed this will not

527
00:22:10,150 --> 00:22:14,490
go them on the other hand you guys will

528
00:22:12,190 --> 00:22:36,540
probably have lots of fun if it does so

529
00:22:14,490 --> 00:22:58,840
you'll see this motion so yeah I stopped

530
00:22:36,540 --> 00:23:03,930
should we just not stand in line okay so

531
00:22:58,840 --> 00:23:03,929
that was it

532
00:23:06,150 --> 00:23:12,680
[Music]

533
00:23:35,280 --> 00:23:47,050
okay let's see if I want you to know

534
00:23:39,430 --> 00:24:03,360
that instead it's only seeing my

535
00:23:47,050 --> 00:24:03,360
displacement seniors before okay right

536
00:24:03,750 --> 00:24:11,770
okay so yeah the demo gods are

537
00:24:07,420 --> 00:24:16,360
definitely here so let's just make sure

538
00:24:11,770 --> 00:24:20,050
yeah let's kill that and so what I'm

539
00:24:16,360 --> 00:24:24,899
gonna do is start off some servers so

540
00:24:20,050 --> 00:24:29,710
this server is just an open SSL server

541
00:24:24,900 --> 00:24:32,650
and it only supports TLS 1.3 so you can

542
00:24:29,710 --> 00:24:45,670
see that I've specified minus TI last

543
00:24:32,650 --> 00:24:47,170
1.3 so that one's on port 3000 okay and

544
00:24:45,670 --> 00:24:49,570
then I'm gonna start another one that

545
00:24:47,170 --> 00:24:54,960
supports both small point 2 and 1.3 and

546
00:24:49,570 --> 00:24:54,960
that one I will start on

547
00:24:56,310 --> 00:25:11,970
3001 okay so if I load it up we can see

548
00:25:06,490 --> 00:25:19,060
that it is working so that's good and

549
00:25:11,970 --> 00:25:22,750
2002 also working so great so the server

550
00:25:19,060 --> 00:25:24,669
on three thousand two supports both

551
00:25:22,750 --> 00:25:29,350
versions the server on 3000 only

552
00:25:24,670 --> 00:25:31,330
supports a selfie so we have lots of

553
00:25:29,350 --> 00:25:37,959
standard tools so if I was to start

554
00:25:31,330 --> 00:25:40,749
doing first I'd say localhost 3001

555
00:25:37,960 --> 00:25:42,899
I'm just gonna run SSL stun because you

556
00:25:40,749 --> 00:25:49,419
know that's how we do things but

557
00:25:42,899 --> 00:25:51,428
fortunately you can't commit so you know

558
00:25:49,419 --> 00:25:53,320
if you repent I steal script ID and

559
00:25:51,429 --> 00:25:56,289
you're just going to go okay what I do

560
00:25:53,320 --> 00:25:58,658
now the tool doesn't work obviously it's

561
00:25:56,289 --> 00:26:01,869
a problem the tool because you know I'm

562
00:25:58,659 --> 00:26:04,029
perfect it's telling me but you know not

563
00:26:01,869 --> 00:26:07,330
good so what else can we do okay well

564
00:26:04,029 --> 00:26:21,999
I'll try a different tool this is test

565
00:26:07,330 --> 00:26:27,629
Assessor taking awhile so test SSL is a

566
00:26:21,999 --> 00:26:30,929
scary sauce bit and it's big really good

567
00:26:27,629 --> 00:26:30,928
what don't they

568
00:26:33,539 --> 00:26:39,190
it says you should not proceed as no

569
00:26:36,159 --> 00:26:40,600
political was detected I'm deer maybe

570
00:26:39,190 --> 00:26:43,210
there isn't really a certain you know

571
00:26:40,600 --> 00:26:44,649
Firefox alliances so effectively what we

572
00:26:43,210 --> 00:26:47,200
can say is that our tool in does not

573
00:26:44,649 --> 00:26:48,729
work this is not good and as a pen

574
00:26:47,200 --> 00:26:50,950
tester this really matters because

575
00:26:48,730 --> 00:26:55,509
that's entirely taxes tensely entire

576
00:26:50,950 --> 00:26:57,639
applications that you can't test so what

577
00:26:55,509 --> 00:27:02,139
we gonna do now well what for that to

578
00:26:57,639 --> 00:27:04,418
SSL eyes and if I can't remember the

579
00:27:02,139 --> 00:27:06,899
syntax for it think it's thumb let's

580
00:27:04,419 --> 00:27:06,899
just double-check

581
00:27:07,379 --> 00:27:16,559
yeah SSL is wow so this has done

582
00:27:13,509 --> 00:27:16,559
something did it work

583
00:27:16,769 --> 00:27:21,730
suddenly because of the size I've had to

584
00:27:19,539 --> 00:27:23,950
make the font so you can see it clearly

585
00:27:21,730 --> 00:27:28,929
but what you can see is that SSL on eyes

586
00:27:23,950 --> 00:27:30,460
actually did work it didn't used to that

587
00:27:28,929 --> 00:27:32,649
there was an update very recently

588
00:27:30,460 --> 00:27:38,649
there's also been some changes going

589
00:27:32,649 --> 00:27:40,508
into the repository for tests SSL so

590
00:27:38,649 --> 00:27:42,309
that if you try it in the very latest

591
00:27:40,509 --> 00:27:43,749
versions with a two that's one point for

592
00:27:42,309 --> 00:27:46,779
you sir but what happens is it works

593
00:27:43,749 --> 00:27:48,149
briefly and then crashes but you know

594
00:27:46,779 --> 00:27:50,750
that's better

595
00:27:48,149 --> 00:27:52,399
the good thing with these ones is

596
00:27:50,750 --> 00:27:53,659
I even found a tool at work so we know

597
00:27:52,400 --> 00:27:55,340
that there is something we can do about

598
00:27:53,659 --> 00:27:59,330
it and people thing is that these have

599
00:27:55,340 --> 00:28:05,480
not been invisible failures so what

600
00:27:59,330 --> 00:28:08,539
happens if we try to do SSL scan on port

601
00:28:05,480 --> 00:28:11,900
3002 which shows really call supported

602
00:28:08,539 --> 00:28:18,740
the old version and the new version well

603
00:28:11,900 --> 00:28:25,309
we've got our results great but it

604
00:28:18,740 --> 00:28:28,100
doesn't mention the fact that the

605
00:28:25,309 --> 00:28:29,539
version 1.2 percent or so effectively

606
00:28:28,100 --> 00:28:31,908
but a final failure which is even worse

607
00:28:29,539 --> 00:28:36,200
so we think we've tested it properly and

608
00:28:31,909 --> 00:28:37,730
we haven't and that is not good so you

609
00:28:36,200 --> 00:28:40,190
know we need to do better than that

610
00:28:37,730 --> 00:28:43,039
so how can we test it well an obvious

611
00:28:40,190 --> 00:28:48,260
answer is we can always fall back to

612
00:28:43,039 --> 00:28:54,350
open SSL because we always can so can if

613
00:28:48,260 --> 00:28:57,110
we learn to spell localhost so ok so

614
00:28:54,350 --> 00:28:58,668
that worked great so that gives us a

615
00:28:57,110 --> 00:29:01,340
point of entry that we can always use

616
00:28:58,669 --> 00:29:05,870
that the other thing that everyone

617
00:29:01,340 --> 00:29:07,789
always uses is that and when I started

618
00:29:05,870 --> 00:29:09,168
writing this presentation the answer was

619
00:29:07,789 --> 00:29:10,908
that I didn't work either

620
00:29:09,169 --> 00:29:14,360
and they've released a new version now

621
00:29:10,909 --> 00:29:16,159
so now the answer has changed so it's

622
00:29:14,360 --> 00:29:18,289
not the the only tool that changed

623
00:29:16,159 --> 00:29:21,799
during the writing of this talk so

624
00:29:18,289 --> 00:29:24,500
several of them are gaining support so

625
00:29:21,799 --> 00:29:27,320
for Bert he need to be using the latest

626
00:29:24,500 --> 00:29:30,039
version which is version 2.1 that came

627
00:29:27,320 --> 00:29:35,450
out weekend before last I think it was

628
00:29:30,039 --> 00:29:37,490
and if you do and this is probably gonna

629
00:29:35,450 --> 00:29:40,330
be way too small for you to say and it's

630
00:29:37,490 --> 00:29:42,679
Java so it's not easy for me to fix and

631
00:29:40,330 --> 00:29:45,470
so I won't bother because you don't be

632
00:29:42,679 --> 00:29:48,610
able to read the text but basically if

633
00:29:45,470 --> 00:29:51,789
you're using Tunis 1.3 and you're using

634
00:29:48,610 --> 00:29:54,649
version 2.1 you'll be alright

635
00:29:51,789 --> 00:29:57,470
the connection between perp and the

636
00:29:54,650 --> 00:29:59,690
server can negotiate 1.3 the connection

637
00:29:57,470 --> 00:30:02,269
between your browser and per cannot so

638
00:29:59,690 --> 00:30:03,919
that's quite confusing so that

639
00:30:02,269 --> 00:30:05,570
that's something to watch for if you

640
00:30:03,919 --> 00:30:07,419
look at what you negotiated in your

641
00:30:05,570 --> 00:30:11,869
browser it will tell you the long finger

642
00:30:07,419 --> 00:30:15,019
so no few more edges but then we see can

643
00:30:11,869 --> 00:30:17,899
do something you can configure all of

644
00:30:15,019 --> 00:30:20,269
this in the ssl settings in the user

645
00:30:17,899 --> 00:30:22,549
options and project options so if you

646
00:30:20,269 --> 00:30:26,690
say specify custom cipher suites for

647
00:30:22,549 --> 00:30:29,119
example then I couldn't ever you know

648
00:30:26,690 --> 00:30:32,979
you could you can still connect so so

649
00:30:29,119 --> 00:30:32,978
it's worth knowing that that is feasible

650
00:30:33,399 --> 00:30:40,549
we saw the SSL scan option with the both

651
00:30:38,690 --> 00:30:43,700
versions we sort of test a cell works

652
00:30:40,549 --> 00:30:47,610
also tester cell doesn't work the test

653
00:30:43,700 --> 00:30:49,809
mr. self has a different behavior if we

654
00:30:47,610 --> 00:30:55,008
[Music]

655
00:30:49,809 --> 00:30:56,450
contested against 2002 so this is

656
00:30:55,009 --> 00:30:57,739
another one so three thousand two

657
00:30:56,450 --> 00:31:03,459
supports both versions

658
00:30:57,739 --> 00:31:06,829
I think this fool this is quite slow but

659
00:31:03,459 --> 00:31:09,579
what we would say is it because it

660
00:31:06,829 --> 00:31:18,369
doesn't write in the new version of this

661
00:31:09,579 --> 00:31:18,369
we get loads of output but yeah

662
00:31:18,609 --> 00:31:23,149
so in this version was just that the

663
00:31:20,959 --> 00:31:24,979
first in its latest version incoming it

664
00:31:23,149 --> 00:31:27,649
doesn't work and it tells us about all

665
00:31:24,979 --> 00:31:30,559
of the versions that don't on that tells

666
00:31:27,649 --> 00:31:32,449
us what word - is that what 1.3 doesn't

667
00:31:30,559 --> 00:31:35,139
come up at all so if you're doing using

668
00:31:32,450 --> 00:31:40,519
the latest cally version we're no good

669
00:31:35,139 --> 00:31:41,988
so a couple of things we can do is we

670
00:31:40,519 --> 00:31:46,279
can just knock together some scripts and

671
00:31:41,989 --> 00:31:58,329
I will release these when I'm next in

672
00:31:46,279 --> 00:32:01,369
the office but they are very simple so

673
00:31:58,329 --> 00:32:04,908
what this is doing is just telling us

674
00:32:01,369 --> 00:32:07,158
which ciphers are supported on test one

675
00:32:04,909 --> 00:32:09,079
by three really quickly so just lets us

676
00:32:07,159 --> 00:32:14,599
see what's going on we can also do a

677
00:32:09,079 --> 00:32:17,049
similar test to see what versions are

678
00:32:14,599 --> 00:32:17,049
supported

679
00:32:18,970 --> 00:32:26,390
not quite sure why we're getting quite

680
00:32:21,320 --> 00:32:29,120
so many mourners yeah if I had titled

681
00:32:26,390 --> 00:32:30,890
that so that all the open standard out

682
00:32:29,120 --> 00:32:32,750
what you see is got a list of which

683
00:32:30,890 --> 00:32:34,460
bishops are supported so just by using

684
00:32:32,750 --> 00:32:36,080
that aspect you can just do a sanity

685
00:32:34,460 --> 00:32:39,620
check to make sure that you do not miss

686
00:32:36,080 --> 00:32:40,159
the CMS 1.3 service and then if you have

687
00:32:39,620 --> 00:32:41,979
missed them

688
00:32:40,160 --> 00:32:44,870
obviously you compiled its ciphers

689
00:32:41,980 --> 00:32:46,730
invalidating the ciphers in a choice 1.3

690
00:32:44,870 --> 00:32:48,620
server is not particularly productive

691
00:32:46,730 --> 00:32:49,880
activity I have to say because they're

692
00:32:48,620 --> 00:32:52,310
all good

693
00:32:49,880 --> 00:32:53,840
over time that may change but it's more

694
00:32:52,310 --> 00:32:55,580
likely to be implementation floors

695
00:32:53,840 --> 00:32:57,350
rather than protocol issues because of

696
00:32:55,580 --> 00:32:59,540
the amount of testing that's been done

697
00:32:57,350 --> 00:33:00,800
sadly implementation floors are not

698
00:32:59,540 --> 00:33:02,510
something that's going to go away they

699
00:33:00,800 --> 00:33:10,330
can't be magically fixed by fixing the

700
00:33:02,510 --> 00:33:12,680
protocol so now before from they have

701
00:33:10,330 --> 00:34:08,330
have to click through the slides because

702
00:33:12,680 --> 00:34:08,929
oh here we go in session yeah right so

703
00:34:08,330 --> 00:34:12,259
here we are

704
00:34:08,929 --> 00:34:15,560
so this symbolizes what I saw in the

705
00:34:12,260 --> 00:34:16,909
demo that's all honestly I was using for

706
00:34:15,560 --> 00:34:20,049
the service so we know who supports it

707
00:34:16,909 --> 00:34:24,500
it does support all of the versions

708
00:34:20,050 --> 00:34:28,370
SSL's karma doesn't support test result

709
00:34:24,500 --> 00:34:32,480
on the latest coming no test ssl if

710
00:34:28,370 --> 00:34:34,790
yep SSRIs works properly I'm thirsty

711
00:34:32,480 --> 00:34:37,969
yes but only if using 2.1 on the latest

712
00:34:34,790 --> 00:34:39,590
job so basically if you've got

713
00:34:37,969 --> 00:34:41,750
everything right you can't test this

714
00:34:39,590 --> 00:34:43,640
stuff properly but it's really important

715
00:34:41,750 --> 00:34:45,139
to note that your tooling will not just

716
00:34:43,639 --> 00:34:47,150
sort it out for you and if you're just

717
00:34:45,139 --> 00:34:48,770
used to blindly running SSL stone and

718
00:34:47,150 --> 00:34:51,710
expecting to process the output after

719
00:34:48,770 --> 00:34:54,310
you've got back to your home base it

720
00:34:51,710 --> 00:35:00,980
will not work and you will miss things

721
00:34:54,310 --> 00:35:01,430
so don't notice example so that's all

722
00:35:00,980 --> 00:35:04,310
good

723
00:35:01,430 --> 00:35:06,109
so what else has changed so I had the

724
00:35:04,310 --> 00:35:09,170
question about the key change well the

725
00:35:06,110 --> 00:35:11,660
other key exchange has been removed and

726
00:35:09,170 --> 00:35:15,230
instead the novel was using had iffy

727
00:35:11,660 --> 00:35:17,270
hummin this was very widely used but it

728
00:35:15,230 --> 00:35:18,770
lacks forward secrecy what that means is

729
00:35:17,270 --> 00:35:20,570
that someone who steals the pilot key

730
00:35:18,770 --> 00:35:22,610
can decrypt all the traffic if they

731
00:35:20,570 --> 00:35:24,770
recorded it earlier so I'm a quarter of

732
00:35:22,610 --> 00:35:27,830
your traffic it's all encrypted I steal

733
00:35:24,770 --> 00:35:30,530
the key and then I can decrypt it that's

734
00:35:27,830 --> 00:35:33,230
that's normal to see if a certificate

735
00:35:30,530 --> 00:35:37,340
for key exchange why nobody use that so

736
00:35:33,230 --> 00:35:38,930
who has gone and this is the answer to

737
00:35:37,340 --> 00:35:41,720
the question from over here so the

738
00:35:38,930 --> 00:35:44,149
client team is sent in the client hello

739
00:35:41,720 --> 00:35:47,589
as an extension which is what allows us

740
00:35:44,150 --> 00:35:47,590
to start in 15 things quite so early

741
00:35:48,460 --> 00:36:09,350
what does it mean yep yes and so what

742
00:36:08,240 --> 00:36:15,950
you're not transmitting any sensitive

743
00:36:09,350 --> 00:36:18,860
data at that point yeah so we've got 40

744
00:36:15,950 --> 00:36:22,069
currency and you can't just take the

745
00:36:18,860 --> 00:36:24,470
traffic and decrypt it later and why

746
00:36:22,070 --> 00:36:27,020
shop are decrypted it's a problem for us

747
00:36:24,470 --> 00:36:42,669
and once Khan decrypted so if you've got

748
00:36:27,020 --> 00:36:46,940
a license if you sell

749
00:36:42,670 --> 00:36:49,220
I've got a demos upcoming once we do it

750
00:36:46,940 --> 00:36:54,710
does yeah I even don't know how you can

751
00:36:49,220 --> 00:36:56,299
do with open SSL so yeah what's and

752
00:36:54,710 --> 00:36:58,970
proxies are inspecting they have to

753
00:36:56,300 --> 00:37:00,860
decrypt and be encrypt so basically have

754
00:36:58,970 --> 00:37:03,830
to tone it yes itself properly and being

755
00:37:00,860 --> 00:37:04,940
50 if you wanted to remain what that

756
00:37:03,830 --> 00:37:06,710
means is for example in a highly

757
00:37:04,940 --> 00:37:08,270
regulated industry and conscious record

758
00:37:06,710 --> 00:37:10,400
the encrypted traffic and decrypt it

759
00:37:08,270 --> 00:37:15,320
later if you're going to use Chellis 1.3

760
00:37:10,400 --> 00:37:17,680
I need to because sometimes I'll be a

761
00:37:15,320 --> 00:37:19,730
protocol analysis on suppliers and

762
00:37:17,680 --> 00:37:21,890
sometimes I want to debugging and

763
00:37:19,730 --> 00:37:24,860
sometimes we want to use the environment

764
00:37:21,890 --> 00:37:27,049
variable so we can do is you just set

765
00:37:24,860 --> 00:37:29,750
this environment I will point it out of

766
00:37:27,050 --> 00:37:32,930
file and say this is where I want you to

767
00:37:29,750 --> 00:37:35,180
lock the keys and anything that's like

768
00:37:32,930 --> 00:37:37,279
five of these NSS that's why the picture

769
00:37:35,180 --> 00:37:39,259
like this well chrome which is

770
00:37:37,280 --> 00:37:41,990
implemented itself community or less

771
00:37:39,260 --> 00:37:43,430
which is another Krypton IV all of them

772
00:37:41,990 --> 00:37:45,500
will lock the information that you need

773
00:37:43,430 --> 00:37:47,330
in order to decrypt the traffic and this

774
00:37:45,500 --> 00:37:48,560
isn't a massive security hole because if

775
00:37:47,330 --> 00:37:50,600
someone's in a position to set

776
00:37:48,560 --> 00:37:52,880
environment variables on your system you

777
00:37:50,600 --> 00:37:53,990
have already been compromised so if

778
00:37:52,880 --> 00:37:56,000
they're in a position to do that

779
00:37:53,990 --> 00:37:59,180
it could be compromising the clients in

780
00:37:56,000 --> 00:38:01,340
other ways so basically first it sounds

781
00:37:59,180 --> 00:38:03,529
scary at first sight isn't you're

782
00:38:01,340 --> 00:38:07,130
already in trouble if that happens so it

783
00:38:03,530 --> 00:38:09,740
doesn't really matter the cloud thing is

784
00:38:07,130 --> 00:38:11,420
it doesn't work for open SSL open SSL

785
00:38:09,740 --> 00:38:13,220
provides an API for extracting the

786
00:38:11,420 --> 00:38:14,480
information but it doesn't support the

787
00:38:13,220 --> 00:38:16,220
environment variable because they

788
00:38:14,480 --> 00:38:19,190
thought we probably secure by default

789
00:38:16,220 --> 00:38:22,399
even though was that Model S occurring

790
00:38:19,190 --> 00:38:24,410
against who knows so we've got a cool

791
00:38:22,400 --> 00:38:27,680
book that says give us the keys that's

792
00:38:24,410 --> 00:38:28,190
right now I believe well we could use a

793
00:38:27,680 --> 00:38:30,830
debugger

794
00:38:28,190 --> 00:38:34,970
I call it ourselves my hand extract

795
00:38:30,830 --> 00:38:37,370
cheese what a foot we can use LD preload

796
00:38:34,970 --> 00:38:38,419
it still cooking this obviously will

797
00:38:37,370 --> 00:38:40,279
only about four minutes

798
00:38:38,420 --> 00:38:42,260
I suspect you could do a similar thing

799
00:38:40,280 --> 00:38:45,710
with ideal injection on Windows but I've

800
00:38:42,260 --> 00:38:49,370
never tried how about a nice little tool

801
00:38:45,710 --> 00:38:51,500
for dips to do as a demo and then I

802
00:38:49,370 --> 00:38:52,420
thought I was good at first turns up the

803
00:38:51,500 --> 00:38:56,200
lifestyle going already

804
00:38:52,420 --> 00:38:58,720
awesome so thank you Peter whoo for

805
00:38:56,200 --> 00:39:01,839
releasing this tool and what it'll do is

806
00:38:58,720 --> 00:39:02,980
it'll let us okay and it supports all

807
00:39:01,840 --> 00:39:06,460
sorts of different versions of OpenSSL

808
00:39:02,980 --> 00:39:09,130
and it will tell us what the keys were

809
00:39:06,460 --> 00:39:12,130
for the traffic sadly if the application

810
00:39:09,130 --> 00:39:15,250
start to clean it with some do then you

811
00:39:12,130 --> 00:39:16,930
say and you know LDP those two to hook

812
00:39:15,250 --> 00:39:21,540
into methods doesn't work so it's not

813
00:39:16,930 --> 00:39:21,540
perfect but it gives us a good start so

814
00:39:22,020 --> 00:39:25,259
here we go again

815
00:39:30,330 --> 00:39:40,750
excellent so require service running out

816
00:39:36,820 --> 00:39:43,300
before and all right I'm going to CD

817
00:39:40,750 --> 00:39:47,200
over to the wife directory and here I've

818
00:39:43,300 --> 00:39:49,210
already built the politely it's really

819
00:39:47,200 --> 00:39:57,490
easy you see due to the white directory

820
00:39:49,210 --> 00:39:59,860
inside make no pod and here here's a

821
00:39:57,490 --> 00:40:02,470
command line to run it so I'm specifying

822
00:39:59,860 --> 00:40:04,600
the file that we wanted to write it was

823
00:40:02,470 --> 00:40:06,580
an environment variable I'm setting the

824
00:40:04,600 --> 00:40:10,210
LD preload environment variable to say

825
00:40:06,580 --> 00:40:12,250
what do I want injecting DLL what said

826
00:40:10,210 --> 00:40:15,190
live you aren't injecting not on Windows

827
00:40:12,250 --> 00:40:20,830
today and then I'm running the OpenSSL

828
00:40:15,190 --> 00:40:23,530
command line now what's great is we've

829
00:40:20,830 --> 00:40:26,049
got Y Phalke which is a fantastic tool

830
00:40:23,530 --> 00:40:28,120
so let's capture all the traffic so that

831
00:40:26,050 --> 00:40:29,520
was me practicing this demo yesterday to

832
00:40:28,120 --> 00:40:33,359
make sure that it still works because

833
00:40:29,520 --> 00:40:36,009
Elmo's so I've already configured

834
00:40:33,360 --> 00:40:38,170
OpenSSL that openness on I've already

835
00:40:36,010 --> 00:40:40,300
configured Wireshark to look at the same

836
00:40:38,170 --> 00:40:44,140
file so in the Preferences under

837
00:40:40,300 --> 00:40:47,350
protocols you scroll down all the way

838
00:40:44,140 --> 00:40:53,080
while a lot of protocols in sports and

839
00:40:47,350 --> 00:40:58,480
somewhere down here yeah you got a cell

840
00:40:53,080 --> 00:41:00,940
so here you can see that if I specify a

841
00:40:58,480 --> 00:41:03,640
file contains the premaster secret and

842
00:41:00,940 --> 00:41:03,820
it's really in what hopefully it's kind

843
00:41:03,640 --> 00:41:06,790
of

844
00:41:03,820 --> 00:41:09,730
anymore but it supports the information

845
00:41:06,790 --> 00:41:11,170
that we need to decrypt it so I'm going

846
00:41:09,730 --> 00:41:14,050
to specify the same file that we're

847
00:41:11,170 --> 00:41:16,570
going to use so in theory this should

848
00:41:14,050 --> 00:41:23,380
work but you know what they say about

849
00:41:16,570 --> 00:41:26,950
theory and practice so that's then the

850
00:41:23,380 --> 00:41:32,140
slope so I'm going to run it so hello

851
00:41:26,950 --> 00:41:35,230
it's deal gone so we've cut some traffic

852
00:41:32,140 --> 00:41:37,690
which is good you can see that there's a

853
00:41:35,230 --> 00:41:39,100
tail that's 1.3 connection or I hope you

854
00:41:37,690 --> 00:41:41,440
can see I don't know I've tried to make

855
00:41:39,100 --> 00:41:45,430
the fonts a bit bigger but the

856
00:41:41,440 --> 00:41:47,350
interesting bit is when I get to the

857
00:41:45,430 --> 00:41:52,359
application data packets if I get the

858
00:41:47,350 --> 00:41:54,640
light ones decrypted tub you can see it

859
00:41:52,360 --> 00:41:57,340
says hello still calm so even though

860
00:41:54,640 --> 00:41:59,500
we're using different key exchange so we

861
00:41:57,340 --> 00:42:01,390
do have forwards you can see even though

862
00:41:59,500 --> 00:42:03,880
we're using two that's 1.3 so we do have

863
00:42:01,390 --> 00:42:05,470
the Sonia you still we're still able to

864
00:42:03,880 --> 00:42:09,670
decrypt traffic still able to do

865
00:42:05,470 --> 00:42:11,290
protocol analysis but obviously this

866
00:42:09,670 --> 00:42:13,270
wouldn't be something that an actual

867
00:42:11,290 --> 00:42:15,310
attacker would be able to do Tripoli to

868
00:42:13,270 --> 00:42:17,350
us but it means that debugging purposes

869
00:42:15,310 --> 00:42:19,390
and for the purpose of performing

870
00:42:17,350 --> 00:42:21,250
testing working out first Clause and

871
00:42:19,390 --> 00:42:23,920
stuff we still have a solution to the

872
00:42:21,250 --> 00:42:26,350
problem so I think that's quite a good

873
00:42:23,920 --> 00:42:31,810
balance between security and the needs

874
00:42:26,350 --> 00:42:34,589
of actual confidentiality so let's see

875
00:42:31,810 --> 00:42:34,590
if this works Ilona

876
00:42:35,370 --> 00:42:40,810
ok so what else has changed well first

877
00:42:38,770 --> 00:42:44,050
in negotiation there's always been a

878
00:42:40,810 --> 00:42:46,870
person negotiation mechanisms in SSL so

879
00:42:44,050 --> 00:42:48,490
it's basically the as a person over in

880
00:42:46,870 --> 00:42:49,930
the client hello as a version of at the

881
00:42:48,490 --> 00:42:51,790
record layer so the metal layers

882
00:42:49,930 --> 00:42:55,660
basically the structure of how messages

883
00:42:51,790 --> 00:42:58,200
and look the one in the in a handshake

884
00:42:55,660 --> 00:43:00,670
in it the server the client hello is the

885
00:42:58,200 --> 00:43:03,220
you see the highest version the file

886
00:43:00,670 --> 00:43:04,990
support and the server then respond for

887
00:43:03,220 --> 00:43:07,740
the server hello containing the version

888
00:43:04,990 --> 00:43:10,229
but it actually is willing to talk now

889
00:43:07,740 --> 00:43:12,729
that's great in theory doesn't work

890
00:43:10,230 --> 00:43:14,920
because what was found was that if you

891
00:43:12,730 --> 00:43:16,780
treat those numbers and all of the

892
00:43:14,920 --> 00:43:18,130
middle boxes have boxes on the internet

893
00:43:16,780 --> 00:43:20,859
that are decrypting traffic

894
00:43:18,130 --> 00:43:23,769
or as interpreters are inspecting it in

895
00:43:20,859 --> 00:43:26,769
some way a sufficient portion of them

896
00:43:23,769 --> 00:43:28,569
were poorly written and didn't Hamlet

897
00:43:26,769 --> 00:43:29,799
correctly so that when you change two

898
00:43:28,569 --> 00:43:32,019
numbers what happens is everything

899
00:43:29,799 --> 00:43:34,390
breaks so non people in corporate

900
00:43:32,019 --> 00:43:36,069
environments were fine but in fact a

901
00:43:34,390 --> 00:43:36,848
certain percentage of their connections

902
00:43:36,069 --> 00:43:39,308
will fail

903
00:43:36,849 --> 00:43:41,609
so it's been no good particularly since

904
00:43:39,309 --> 00:43:44,170
it's going to be really hard to dealer

905
00:43:41,609 --> 00:43:46,089
so instead what they've done is they've

906
00:43:44,170 --> 00:43:48,400
added a whole other version negotiation

907
00:43:46,089 --> 00:43:50,440
mechanism which is another extension in

908
00:43:48,400 --> 00:43:53,700
the client hello so you say this is a

909
00:43:50,440 --> 00:43:57,279
versions I want to do so nice and simple

910
00:43:53,700 --> 00:43:59,078
whether it'll work there was a suspect

911
00:43:57,279 --> 00:44:00,009
that when next person comes along it

912
00:43:59,079 --> 00:44:03,279
will turn out that people have been

913
00:44:00,009 --> 00:44:04,960
hard-coding that as well they introduced

914
00:44:03,279 --> 00:44:06,819
another feature called gliese which

915
00:44:04,960 --> 00:44:08,710
basically tries to put random extensions

916
00:44:06,819 --> 00:44:10,420
in to try to reduce the chances of that

917
00:44:08,710 --> 00:44:12,130
but I suspect what'll happen is people

918
00:44:10,420 --> 00:44:14,380
blacklist the extensions that have been

919
00:44:12,130 --> 00:44:17,049
reserved for that but of us I will just

920
00:44:14,380 --> 00:44:18,970
try and decode everything else so we'll

921
00:44:17,049 --> 00:44:23,140
put again the same mess again but you

922
00:44:18,970 --> 00:44:27,279
know you can meet them hope another big

923
00:44:23,140 --> 00:44:29,558
thing 30 data in terms of performance

924
00:44:27,279 --> 00:44:31,299
SSL not some round trips to the pension

925
00:44:29,559 --> 00:44:34,210
so you already have your three-way

926
00:44:31,299 --> 00:44:37,329
handshake to establish a TCP connection

927
00:44:34,210 --> 00:44:39,999
that the latency of a round trip is

928
00:44:37,329 --> 00:44:42,670
actually the slowest bit so sending data

929
00:44:39,999 --> 00:44:45,910
down the pipe is not slow but the gap

930
00:44:42,670 --> 00:44:48,969
for waiting for it to come back is so

931
00:44:45,910 --> 00:44:50,680
the fact that TLS adds more is obviously

932
00:44:48,969 --> 00:44:52,269
a bad thing from the performance point

933
00:44:50,680 --> 00:44:54,249
of view and some people who have

934
00:44:52,269 --> 00:44:56,379
involvement to us typically Google for

935
00:44:54,249 --> 00:44:59,319
example were really keen on trying to

936
00:44:56,380 --> 00:45:01,170
make it faster so what about it is a

937
00:44:59,319 --> 00:45:04,299
concept called early data

938
00:45:01,170 --> 00:45:05,049
it's basically session resumption but

939
00:45:04,299 --> 00:45:06,940
with bells on

940
00:45:05,049 --> 00:45:09,400
so session resumption was a mechanism

941
00:45:06,940 --> 00:45:11,499
whereby the client remember the details

942
00:45:09,400 --> 00:45:13,660
about a connection we use them in a

943
00:45:11,499 --> 00:45:15,700
subsequent connection and that allowed

944
00:45:13,660 --> 00:45:17,618
it to start up the crypto really quickly

945
00:45:15,700 --> 00:45:20,710
so basically they'd stop knowing already

946
00:45:17,619 --> 00:45:23,200
the keys now there's mists associated

947
00:45:20,710 --> 00:45:26,160
with that but there's also advantages as

948
00:45:23,200 --> 00:45:29,259
I say because it makes things go faster

949
00:45:26,160 --> 00:45:30,170
what's new is that now in addition to

950
00:45:29,259 --> 00:45:31,670
that you compose

951
00:45:30,170 --> 00:45:35,960
major in that so you can throw the quest

952
00:45:31,670 --> 00:45:38,090
in that the bad thing with that is that

953
00:45:35,960 --> 00:45:40,070
data is not properly protected because

954
00:45:38,090 --> 00:45:41,570
of the issue that you thirty which is

955
00:45:40,070 --> 00:45:44,330
that we don't know the authenticity at

956
00:45:41,570 --> 00:45:45,400
that point in time so others or if you

957
00:45:44,330 --> 00:45:48,920
post us that data

958
00:45:45,400 --> 00:45:51,020
someone could replay it so you can

959
00:45:48,920 --> 00:45:55,310
capture it and do it again and again and

960
00:45:51,020 --> 00:45:57,350
again and if you are replaying that then

961
00:45:55,310 --> 00:45:59,930
bad things could happen now what's

962
00:45:57,350 --> 00:46:01,880
supposed to happen is you'll know that

963
00:45:59,930 --> 00:46:03,379
in HTTP if it's a get request nothing

964
00:46:01,880 --> 00:46:07,310
supposed to change and we call that

965
00:46:03,380 --> 00:46:09,500
idempotence it doesn't happen in

966
00:46:07,310 --> 00:46:12,950
practice people do things things good

967
00:46:09,500 --> 00:46:15,410
change that become fairly important here

968
00:46:12,950 --> 00:46:16,640
because only data requires the same

969
00:46:15,410 --> 00:46:18,920
property but it shouldn't change

970
00:46:16,640 --> 00:46:21,080
anything and it should be be playable

971
00:46:18,920 --> 00:46:25,070
without making any things any worse or

972
00:46:21,080 --> 00:46:27,710
making a lot of changes as a tester I

973
00:46:25,070 --> 00:46:31,730
suspect that is going to be a rich vein

974
00:46:27,710 --> 00:46:33,470
of attacks on to us 1.3 unless people

975
00:46:31,730 --> 00:46:35,900
decide that early data is Jonas

976
00:46:33,470 --> 00:46:38,689
Morehouse Wentworth at the moment it

977
00:46:35,900 --> 00:46:40,670
introduces some significant risks no I'm

978
00:46:38,690 --> 00:46:44,210
bit short on time so I did have a demo

979
00:46:40,670 --> 00:46:48,170
but I'll post development commands to do

980
00:46:44,210 --> 00:46:50,720
the demo on but no on Twitter or

981
00:46:48,170 --> 00:46:51,530
something and people can come get the

982
00:46:50,720 --> 00:46:53,930
demo that way

983
00:46:51,530 --> 00:46:55,700
so I think about trying to show it then

984
00:46:53,930 --> 00:46:58,160
particularly with the issues we've had

985
00:46:55,700 --> 00:46:59,839
with the screens it probably take a

986
00:46:58,160 --> 00:47:02,049
little bit too long well the demo show

987
00:46:59,840 --> 00:47:05,450
it was basically about using open SSL

988
00:47:02,050 --> 00:47:08,120
you can send a request with early data

989
00:47:05,450 --> 00:47:12,439
in there and it will flag up to you if

990
00:47:08,120 --> 00:47:14,839
early data was used as simple as up and

991
00:47:12,440 --> 00:47:16,880
what that means is that when you're

992
00:47:14,840 --> 00:47:18,920
performing a pen test you can try

993
00:47:16,880 --> 00:47:20,840
putting the request in there see if it

994
00:47:18,920 --> 00:47:24,290
happens see they get processed and if it

995
00:47:20,840 --> 00:47:26,660
does then I thought the quest is not

996
00:47:24,290 --> 00:47:29,210
something which should be repeatable so

997
00:47:26,660 --> 00:47:30,980
if it can't be safely replayed then you

998
00:47:29,210 --> 00:47:34,760
find a vulnerability and you might find

999
00:47:30,980 --> 00:47:36,890
interview report if it says I'm not

1000
00:47:34,760 --> 00:47:39,470
supporting the early data then you know

1001
00:47:36,890 --> 00:47:42,529
quick yeah it's compliant but it's

1002
00:47:39,470 --> 00:47:44,120
Wilson last one but at least it me

1003
00:47:42,530 --> 00:47:45,530
you can then move on we start testing

1004
00:47:44,120 --> 00:47:49,100
the application proper and looking for

1005
00:47:45,530 --> 00:47:52,220
more interesting names so I said let's

1006
00:47:49,100 --> 00:47:55,279
skip the demo and go to deployment so

1007
00:47:52,220 --> 00:47:57,560
all the questions of SSL and TLS will

1008
00:47:55,280 --> 00:47:59,900
we're not widely deployed at the point

1009
00:47:57,560 --> 00:48:01,730
of release so basically forever for them

1010
00:47:59,900 --> 00:48:02,810
to come out chance what might we have

1011
00:48:01,730 --> 00:48:04,760
been different

1012
00:48:02,810 --> 00:48:06,350
a lot of people will be splitting it so

1013
00:48:04,760 --> 00:48:08,060
CloudFlare supports it and your browser

1014
00:48:06,350 --> 00:48:11,210
supports it so as a result you're gonna

1015
00:48:08,060 --> 00:48:13,880
see it all the time but in the Internet

1016
00:48:11,210 --> 00:48:16,580
almost nothing will support only till

1017
00:48:13,880 --> 00:48:18,110
this one right rate so that's good about

1018
00:48:16,580 --> 00:48:20,930
the good thing is you're able to test it

1019
00:48:18,110 --> 00:48:22,490
the bad thing is you make miss to us 1.3

1020
00:48:20,930 --> 00:48:25,310
attack services unless you start using

1021
00:48:22,490 --> 00:48:26,569
the techniques I showed earlier on the

1022
00:48:25,310 --> 00:48:28,490
internal network that the story is

1023
00:48:26,570 --> 00:48:31,430
different on the internal network you

1024
00:48:28,490 --> 00:48:33,620
often controlled both endpoints so say

1025
00:48:31,430 --> 00:48:35,450
you've got a system whereby you've got

1026
00:48:33,620 --> 00:48:36,470
the edges decrypting the traffic and

1027
00:48:35,450 --> 00:48:38,720
then you want to passed around between

1028
00:48:36,470 --> 00:48:40,520
microservices and things like that then

1029
00:48:38,720 --> 00:48:43,040
the decrease in the number of round

1030
00:48:40,520 --> 00:48:44,630
trips with cos 1.3 makes it actually an

1031
00:48:43,040 --> 00:48:46,130
attractive option the increase in

1032
00:48:44,630 --> 00:48:48,440
security makes it an attractive option

1033
00:48:46,130 --> 00:48:49,760
so as a result on some internal networks

1034
00:48:48,440 --> 00:48:50,900
that suspect you I think to see it

1035
00:48:49,760 --> 00:48:53,780
before what you're going to see it

1036
00:48:50,900 --> 00:48:56,960
deployed as a standalone thing on the

1037
00:48:53,780 --> 00:48:59,810
internet and if you try to test one of

1038
00:48:56,960 --> 00:49:01,340
those without using the right tools as

1039
00:48:59,810 --> 00:49:02,960
you've seen what will happen is you go

1040
00:49:01,340 --> 00:49:05,750
like I'll connect to it and nothing will

1041
00:49:02,960 --> 00:49:08,090
work and whilst I've shown specific

1042
00:49:05,750 --> 00:49:10,040
towards the testing SSL don't forget but

1043
00:49:08,090 --> 00:49:12,980
I've not looked up every other tool you

1044
00:49:10,040 --> 00:49:14,779
use it uses SSL so all of them was

1045
00:49:12,980 --> 00:49:16,550
potential for this stuff as well so

1046
00:49:14,780 --> 00:49:18,290
we're going to think about your toolkit

1047
00:49:16,550 --> 00:49:20,180
and do you have everything in your

1048
00:49:18,290 --> 00:49:23,660
toolkit sorted out so they can support

1049
00:49:20,180 --> 00:49:26,419
TLS 1.2 me because as you can see the

1050
00:49:23,660 --> 00:49:28,580
list of things the support it even f5

1051
00:49:26,420 --> 00:49:30,140
supports even Java I mean if you're

1052
00:49:28,580 --> 00:49:31,970
behind job you're doing something wrong

1053
00:49:30,140 --> 00:49:33,529
so you've got to make sure that your

1054
00:49:31,970 --> 00:49:37,189
toolkits are getting updated and that

1055
00:49:33,530 --> 00:49:39,740
you're too late supports this stuff so

1056
00:49:37,190 --> 00:49:41,270
as I said internal services that's what

1057
00:49:39,740 --> 00:49:44,450
I think you like to see it first in

1058
00:49:41,270 --> 00:49:46,850
terms or standalone to us 1.3

1059
00:49:44,450 --> 00:49:49,879
in terms of what you see in production

1060
00:49:46,850 --> 00:49:53,380
you will already see it in most cases or

1061
00:49:49,880 --> 00:49:55,820
an awful lot of cases on actual websites

1062
00:49:53,380 --> 00:49:58,040
if you're using the

1063
00:49:55,820 --> 00:49:59,480
- that's confident either which is

1064
00:49:58,040 --> 00:50:01,490
awesome and if you're not using it you

1065
00:49:59,480 --> 00:50:03,590
should be then if you choose the model

1066
00:50:01,490 --> 00:50:04,250
configuration then as of the weekend

1067
00:50:03,590 --> 00:50:06,200
before last

1068
00:50:04,250 --> 00:50:08,150
it will now generate you a - that's 1.3

1069
00:50:06,200 --> 00:50:10,609
convict and that's the config that is

1070
00:50:08,150 --> 00:50:13,340
designed for weight control both

1071
00:50:10,610 --> 00:50:14,390
endpoints if however you're doing

1072
00:50:13,340 --> 00:50:15,530
something on the internet then you

1073
00:50:14,390 --> 00:50:17,660
shouldn't use that you should use the

1074
00:50:15,530 --> 00:50:23,360
intermediate config which also supports

1075
00:50:17,660 --> 00:50:25,850
1.2 leading edge of skill stuff 6f keys

1076
00:50:23,360 --> 00:50:28,340
I personally don't have for your

1077
00:50:25,850 --> 00:50:30,440
certificates for authentication into s

1078
00:50:28,340 --> 00:50:32,600
1.3 this more severe was an Anna on a

1079
00:50:30,440 --> 00:50:34,070
more point to a suspect is going to

1080
00:50:32,600 --> 00:50:36,020
become more prevalent particularly with

1081
00:50:34,070 --> 00:50:39,380
IOT because it's basically lower

1082
00:50:36,020 --> 00:50:42,170
overhead encrypted server name

1083
00:50:39,380 --> 00:50:45,440
indication what this is is you encrypt

1084
00:50:42,170 --> 00:50:46,730
the server name not big deal but if you

1085
00:50:45,440 --> 00:50:48,230
use this unlike CloudFlare you're going

1086
00:50:46,730 --> 00:50:49,880
to have lots of things on the same IP

1087
00:50:48,230 --> 00:50:52,820
address and that's what that is is to do

1088
00:50:49,880 --> 00:50:55,370
is I don't have time to go into the

1089
00:50:52,820 --> 00:50:59,090
details but the combination of that plus

1090
00:50:55,370 --> 00:51:00,890
things like DNS over HTTP means that all

1091
00:50:59,090 --> 00:51:02,420
of a sudden passive monitoring and

1092
00:51:00,890 --> 00:51:04,640
monitoring of what users are up to

1093
00:51:02,420 --> 00:51:06,500
become an awful lot harder so as these

1094
00:51:04,640 --> 00:51:07,700
things get more widely deployed the

1095
00:51:06,500 --> 00:51:11,270
amount of privacy that you've got is

1096
00:51:07,700 --> 00:51:13,100
going to increase and DTLS DTLS is

1097
00:51:11,270 --> 00:51:16,280
basically the UDP version super version

1098
00:51:13,100 --> 00:51:18,770
to avoid and situations like that and

1099
00:51:16,280 --> 00:51:20,690
the 1.3 version is in draft it's not

1100
00:51:18,770 --> 00:51:23,120
released yet the latest draft was I

1101
00:51:20,690 --> 00:51:25,100
think on the 9th of July so there's

1102
00:51:23,120 --> 00:51:30,020
obviously work doing that but it's going

1103
00:51:25,100 --> 00:51:32,569
to be coming fairly soon so somebody is

1104
00:51:30,020 --> 00:51:33,980
- at spawn point 3 is coming in and you

1105
00:51:32,570 --> 00:51:35,540
should be aware of it as a pen tester

1106
00:51:33,980 --> 00:51:39,290
because otherwise you are going to miss

1107
00:51:35,540 --> 00:51:41,750
this and so yeah check your tool in your

1108
00:51:39,290 --> 00:51:43,520
tool is not naturally going to work you

1109
00:51:41,750 --> 00:51:44,900
just need to make sure that it works but

1110
00:51:43,520 --> 00:51:46,850
you've got a cross-check where there's

1111
00:51:44,900 --> 00:51:50,300
also from your tooling and use things

1112
00:51:46,850 --> 00:51:51,860
like open SSL directly in order to make

1113
00:51:50,300 --> 00:51:56,060
sure that the results you're getting are

1114
00:51:51,860 --> 00:51:58,270
correct and that's it so any other

1115
00:51:56,060 --> 00:51:58,270
questions

1116
00:52:03,870 --> 00:52:09,660
stop giving the link like sure no

1117
00:52:07,560 --> 00:52:12,330
problem as the ability promote secret

1118
00:52:09,660 --> 00:52:15,740
sessions in geometry why do we still see

1119
00:52:12,330 --> 00:52:18,140
so resistant some things like eto us

1120
00:52:15,740 --> 00:52:22,109
because they want to do it on the cheap

1121
00:52:18,140 --> 00:52:25,770
so basically they think it's easier to

1122
00:52:22,110 --> 00:52:27,270
produce everybody also security to do

1123
00:52:25,770 --> 00:52:32,280
the most of you small amount of extra

1124
00:52:27,270 --> 00:52:34,290
work to miss petals there is no good

1125
00:52:32,280 --> 00:52:37,170
reason why would see things like ETS

1126
00:52:34,290 --> 00:52:39,110
ETLs is a weakened version of class one

1127
00:52:37,170 --> 00:52:42,240
point today that was being pushed by

1128
00:52:39,110 --> 00:52:44,730
experts in certain regulated sectors who

1129
00:52:42,240 --> 00:52:47,129
wanted to do possibly dropping even

1130
00:52:44,730 --> 00:52:48,390
though you know too bad idea and they

1131
00:52:47,130 --> 00:52:53,850
thought that everybody else should

1132
00:52:48,390 --> 00:52:56,040
basically let them yeah it's a bad idea

1133
00:52:53,850 --> 00:52:58,380
in my opinion they have their reasons

1134
00:52:56,040 --> 00:53:00,330
and some of those reasons exist whether

1135
00:52:58,380 --> 00:53:01,980
they're you know good white balance is

1136
00:53:00,330 --> 00:53:04,140
that you know that's the madam of a

1137
00:53:01,980 --> 00:53:06,180
judgment call my feeling is that this is

1138
00:53:04,140 --> 00:53:08,220
you know better to secure it and then

1139
00:53:06,180 --> 00:53:10,140
introduce the script the insecurity

1140
00:53:08,220 --> 00:53:12,029
where necessary and the fact that the

1141
00:53:10,140 --> 00:53:20,460
hook is there to do it means there isn't

1142
00:53:12,030 --> 00:53:23,330
a strong argument used about how some of

1143
00:53:20,460 --> 00:53:28,770
the more obscure ciphers and be removed

1144
00:53:23,330 --> 00:53:31,759
in TLS 1.3 it strikes me that with only

1145
00:53:28,770 --> 00:53:34,800
five combinations that are based on

1146
00:53:31,760 --> 00:53:37,470
current well-known tried and tested

1147
00:53:34,800 --> 00:53:39,330
technologies that as technology

1148
00:53:37,470 --> 00:53:42,299
progresses and particularly at the

1149
00:53:39,330 --> 00:53:45,509
quantum computing as well we're going to

1150
00:53:42,300 --> 00:53:48,300
get into a situation where we start

1151
00:53:45,510 --> 00:53:52,380
crossing these five of the lists the way

1152
00:53:48,300 --> 00:53:56,010
we've done with RC poor there is others

1153
00:53:52,380 --> 00:53:57,630
days of examples it doesn't it doesn't

1154
00:53:56,010 --> 00:53:59,670
it mean that we're putting with putting

1155
00:53:57,630 --> 00:54:02,460
all our eggs in one basket and change

1156
00:53:59,670 --> 00:54:03,450
them oh yes part of it is if you're

1157
00:54:02,460 --> 00:54:06,360
going to do that make sure you've got a

1158
00:54:03,450 --> 00:54:08,250
bigger basket so these are

1159
00:54:06,360 --> 00:54:10,940
have you tested so that there's some

1160
00:54:08,250 --> 00:54:13,830
things that we know of really good

1161
00:54:10,940 --> 00:54:15,780
so the maybe advances that will protect

1162
00:54:13,830 --> 00:54:16,680
it but there's no single about the size

1163
00:54:15,780 --> 00:54:19,260
of that one

1164
00:54:16,680 --> 00:54:20,759
because AES one primitives and ChaCha

1165
00:54:19,260 --> 00:54:22,710
twenties mobile so they're two

1166
00:54:20,760 --> 00:54:24,630
fundamentally different approaches so

1167
00:54:22,710 --> 00:54:26,310
there is quite a significant amount of

1168
00:54:24,630 --> 00:54:27,870
redundancy in that because of that so

1169
00:54:26,310 --> 00:54:29,880
any event was some massively electrical

1170
00:54:27,870 --> 00:54:31,920
nature it's the only one effect was

1171
00:54:29,880 --> 00:54:33,270
another time so that means that we've

1172
00:54:31,920 --> 00:54:38,370
got some breathing room even in the

1173
00:54:33,270 --> 00:54:42,690
event that does happen once you sort of

1174
00:54:38,370 --> 00:54:46,009
answered see the desire to not move to

1175
00:54:42,690 --> 00:54:51,470
TLS or going three because oh it's too

1176
00:54:46,010 --> 00:54:54,830
big oh I don't want to do this now

1177
00:54:51,470 --> 00:54:57,629
that's a perfectly valid position I mean

1178
00:54:54,830 --> 00:55:01,350
if you like using two that's 1.2 and

1179
00:54:57,630 --> 00:55:02,490
it's best then you know that's that's

1180
00:55:01,350 --> 00:55:05,330
funny it's perfectly good

1181
00:55:02,490 --> 00:55:08,700
but the configuration effort is

1182
00:55:05,330 --> 00:55:10,830
significant the amount of work you're

1183
00:55:08,700 --> 00:55:13,680
gonna have to do is knowledge and it's

1184
00:55:10,830 --> 00:55:15,060
likely to get larger what you're going

1185
00:55:13,680 --> 00:55:17,160
to find is that everybody else is going

1186
00:55:15,060 --> 00:55:19,080
to be moving towards one point III and

1187
00:55:17,160 --> 00:55:20,940
if you don't you're going to be a lot of

1188
00:55:19,080 --> 00:55:22,860
stuff behind well point two is going to

1189
00:55:20,940 --> 00:55:25,290
be a man so an awful long time you know

1190
00:55:22,860 --> 00:55:27,030
it's good we've been talking about at

1191
00:55:25,290 --> 00:55:29,810
one point one one point naught was

1192
00:55:27,030 --> 00:55:32,250
released in was the first seam length

1193
00:55:29,810 --> 00:55:33,750
99-year so i'm talking 20 years I

1194
00:55:32,250 --> 00:55:35,160
suppose find these proposals would

1195
00:55:33,750 --> 00:55:37,020
happen to this one point two is going to

1196
00:55:35,160 --> 00:55:39,000
be effectively a long-term support this

1197
00:55:37,020 --> 00:55:40,770
is going to be there for ages so there's

1198
00:55:39,000 --> 00:55:42,330
no immediate pressure to move that but

1199
00:55:40,770 --> 00:55:45,900
there are some significant advantages to

1200
00:55:42,330 --> 00:55:48,630
doing so so you know why not you know if

1201
00:55:45,900 --> 00:55:51,300
you do it now then will you start

1202
00:55:48,630 --> 00:55:52,530
planning for it now then you don't have

1203
00:55:51,300 --> 00:55:54,360
to worry about it too much in the future

1204
00:55:52,530 --> 00:55:57,500
the great news you should start testing

1205
00:55:54,360 --> 00:55:57,500
to make sure that things were probably

1206
00:56:00,140 --> 00:56:03,560
in what sense

1207
00:56:04,140 --> 00:56:10,350
um well yes that's what you should be

1208
00:56:06,900 --> 00:56:12,780
doing that I'd say the majority of

1209
00:56:10,350 --> 00:56:14,520
people have already done it on excellent

1210
00:56:12,780 --> 00:56:18,570
that works on the internal networks

1211
00:56:14,520 --> 00:56:19,410
there's still a lot of work to do well

1212
00:56:18,570 --> 00:56:20,759
yeah I mean

1213
00:56:19,410 --> 00:56:23,730
there is a lot of systems out there that

1214
00:56:20,759 --> 00:56:26,670
only support me also but if you actually

1215
00:56:23,730 --> 00:56:28,529
need all versions when some people do

1216
00:56:26,670 --> 00:56:30,420
not for good reasons but for reasons of

1217
00:56:28,529 --> 00:56:33,420
legacy software and things and start

1218
00:56:30,420 --> 00:56:34,950
putting it into zones are not accessible

1219
00:56:33,420 --> 00:56:37,380
from the wider corporate network

1220
00:56:34,950 --> 00:56:39,419
isolates it and then use don't offices

1221
00:56:37,380 --> 00:56:40,980
with our European things you know it

1222
00:56:39,420 --> 00:56:43,500
allows safe access to them to basically

1223
00:56:40,980 --> 00:56:45,329
isolate those ancient systems because

1224
00:56:43,500 --> 00:56:45,930
you know basically if they need to

1225
00:56:45,329 --> 00:56:48,539
support

1226
00:56:45,930 --> 00:56:51,269
SSL's mate and they need to support 1.2

1227
00:56:48,539 --> 00:56:53,039
or what we're not and frankly they've

1228
00:56:51,269 --> 00:56:54,180
got all those other problems as well

1229
00:56:53,039 --> 00:57:01,890
and you should start looking at those

1230
00:56:54,180 --> 00:57:03,598
ones the other person yeah so rubies are

1231
00:57:01,890 --> 00:57:05,430
percentages that they abuse I guess when

1232
00:57:03,599 --> 00:57:08,609
I practicing without heat priority load

1233
00:57:05,430 --> 00:57:11,160
balancers and parsley oil based on

1234
00:57:08,609 --> 00:57:14,098
that's right do those people need to now

1235
00:57:11,160 --> 00:57:17,149
so in 20 proxy with private keys on the

1236
00:57:14,099 --> 00:57:19,799
proxy server because of the critters yes

1237
00:57:17,150 --> 00:57:20,230
I think well time to say thank you very

1238
00:57:19,799 --> 00:57:23,340
much

1239
00:57:20,230 --> 00:57:23,340
[Music]

