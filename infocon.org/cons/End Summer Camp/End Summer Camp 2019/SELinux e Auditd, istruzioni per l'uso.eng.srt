1
00:00:00,000 --> 00:00:03,300
hi all i am jumper damage i

2
00:00:03,300 --> 00:00:06,180
am yes or of admin ryder of

3
00:00:06,180 --> 00:00:08,429
render is essentially instead of doing

4
00:00:08,429 --> 00:00:09,960
a very long introduction i tell you i

5
00:00:09,960 --> 00:00:11,219
do things i see people

6
00:00:11,219 --> 00:00:14,009
these are the people i see and these

7
00:00:14,009 --> 00:00:16,400
are essentially the things i do

8
00:00:16,400 --> 00:00:19,199
cut short because  the topic is very

9
00:00:19,199 --> 00:00:21,180
extensive and complicated

10
00:00:21,180 --> 00:00:23,730
today we are talking about linux itself and in

11
00:00:23,730 --> 00:00:26,160
particular about the carnet at the optional level

12
00:00:26,160 --> 00:00:27,720
access control meters

13
00:00:27,720 --> 00:00:30,210
have passed twenty back there are two

14
00:00:30,210 --> 00:00:31,980
types of access, let's say

15
00:00:31,980 --> 00:00:34,050
security checks on linux on

16
00:00:34,050 --> 00:00:36,390
posix systems in general hence

17
00:00:36,390 --> 00:00:37,770
discretionary thanks to the control  which

18
00:00:37,770 --> 00:00:39,510
are also the system that we all use

19
00:00:39,510 --> 00:00:42,629
how many are the permissions on the files that

20
00:00:42,629 --> 00:00:43,890
we normally have makes them exist therefore

21
00:00:43,890 --> 00:00:46,230
red lights cure are those that we

22
00:00:46,230 --> 00:00:48,180
normally mount with users groups and

23
00:00:48,180 --> 00:00:50,219
everything that is connected and then there is

24
00:00:50,219 --> 00:00:51,180
another thing called mac

25
00:00:51,180 --> 00:00:53,850
mandatory atzas control and it is

26
00:00:53,850 --> 00:00:56,010
defined by the owner of the system

27
00:00:56,010 --> 00:00:58,410
that it is not broken but is just who can

28
00:00:58,410 --> 00:01:01,829
de system and it is independent of

29
00:01:01,829 --> 00:01:03,690
what is the owner of the file

30
00:01:03,690 --> 00:01:05,400
of the component that I am going to touch

31
00:01:05,400 --> 00:01:08,010
as hearing and therefore we say that

32
00:01:08,010 --> 00:01:10,320
the goal of this mac is to

33
00:01:10,320 --> 00:01:11,939
isolate the components of the system from each

34
00:01:11,939 --> 00:01:12,810
other

35
00:01:12,810 --> 00:01:14,549
then it extends what is the

36
00:01:14,549 --> 00:01:16,770
basic dac to give another level of

37
00:01:16,770 --> 00:01:18,689
authorization anyway of security and to

38
00:01:18,689 --> 00:01:20,400
have the possibility to isolate the

39
00:01:20,400 --> 00:01:21,990
processes inside the machine

40
00:01:21,990 --> 00:01:24,299
the typical authorization flop

41
00:01:24,299 --> 00:01:26,130
inside the kernel is that the kernel

42
00:01:26,130 --> 00:01:28,470
first checks the permissions from the point of

43
00:01:28,470 --> 00:01:30,210
view of the dac  so you check

44
00:01:30,210 --> 00:01:33,270
user permissions groups access to files and if

45
00:01:33,270 --> 00:01:35,130
this duck passes then if this from

46
00:01:35,130 --> 00:01:39,180
a lau then we have the mac

47
00:01:39,180 --> 00:01:41,939
intervening the mac implemented

48
00:01:41,939 --> 00:01:44,130
through something called lsm

49
00:01:44,130 --> 00:01:46,470
linus security module which practically

50
00:01:46,470 --> 00:01:48,420
uses who's which are the sum

51
00:01:48,420 --> 00:01:50,880
of the calls is  well placed

52
00:01:50,880 --> 00:01:52,320
inside the kernel where every

53
00:01:52,320 --> 00:01:54,840
system call with every cisco makes

54
00:01:54,840 --> 00:01:56,790
this this call this

55
00:01:56,790 --> 00:01:59,340
look outside the mo  dulo to the

56
00:01:59,340 --> 00:02:03,479
lsm security module practically

57
00:02:03,479 --> 00:02:05,729
a look has been placed in every

58
00:02:05,729 --> 00:02:07,550
system call from the userland

59
00:02:07,550 --> 00:02:09,830
that goes to practically touch an ai no

60
00:02:09,830 --> 00:02:12,010
don't ask against the marine block from

61
00:02:12,010 --> 00:02:14,210
let's say mainly a

62
00:02:14,210 --> 00:02:16,460
data structure that describes what can be

63
00:02:16,460 --> 00:02:18,530
a  file on file system is a task against

64
00:02:18,530 --> 00:02:20,450
block another data structure that

65
00:02:20,450 --> 00:02:23,240
describes a process implemented in

66
00:02:23,240 --> 00:02:25,160
all kernels from 2.6 onwards so

67
00:02:25,160 --> 00:02:29,000
December 2003 about and supports let's say at the

68
00:02:29,000 --> 00:02:30,230
level as if they were plugs in

69
00:02:30,230 --> 00:02:32,270
different safety modules that we have

70
00:02:32,270 --> 00:02:34,700
at  partners and linux and others that are

71
00:02:34,700 --> 00:02:35,990
smartphones moio there are really

72
00:02:35,990 --> 00:02:36,560
many

73
00:02:36,560 --> 00:02:38,750
in the two let's say the most famous

74
00:02:38,750 --> 00:02:41,870
are precisely in parma and selinux so by

75
00:02:41,870 --> 00:02:42,860
implementing the mac

76
00:02:42,860 --> 00:02:45,020
then let's say I want to enable the

77
00:02:45,020 --> 00:02:46,370
mandate raise control my system

78
00:02:46,370 --> 00:02:48,080
through sms I

79
00:02:48,080 --> 00:02:50,090
essentially do two things  the first is

80
00:02:50,090 --> 00:02:51,890
security if it increases the security

81
00:02:51,890 --> 00:02:54,320
of the system in general and the second is

82
00:02:54,320 --> 00:02:57,050
auditing so as an extra I can also

83
00:02:57,050 --> 00:02:59,060
a  busare luke of the rsm to make a

84
00:02:59,060 --> 00:03:00,590
rootkit but with another top that we will do

85
00:03:00,590 --> 00:03:03,140
another day so an example of the

86
00:03:03,140 --> 00:03:05,930
mac for security abusing sati see to

87
00:03:05,930 --> 00:03:09,230
do privilege escalation cosenza timidi

88
00:03:09,230 --> 00:03:13,610
and a flag that is put in a cheater that

89
00:03:13,610 --> 00:03:15,680
practically gives the possibility to a

90
00:03:15,680 --> 00:03:17,630
any non-privileged user to

91
00:03:17,630 --> 00:03:19,610
run a certain software a certain

92
00:03:19,610 --> 00:03:21,350
program as if it were another user

93
00:03:21,350 --> 00:03:22,730
so I am not a user who is not

94
00:03:22,730 --> 00:03:24,800
broken runs a program that at awsat

95
00:03:24,800 --> 00:03:26,530
you and i of zero which then at ruth

96
00:03:26,530 --> 00:03:28,790
runs we try with root privileges

97
00:03:28,790 --> 00:03:31,520
then  the idea is that if the program that

98
00:03:31,520 --> 00:03:34,250
i am going to use shod id 0 to a

99
00:03:34,250 --> 00:03:36,650
vulnerability i can exploit with the

100
00:03:36,650 --> 00:03:38,720
vulnerability to sound choice with

101
00:03:38,720 --> 00:03:39,860
root privileges

102
00:03:39,860 --> 00:03:41,930
obviously all programs with

103
00:03:41,930 --> 00:03:43,790
saints are normally ward execute hubble

104
00:03:43,790 --> 00:03:46,700
and it means it is a user  that

105
00:03:46,700 --> 00:03:48,020
usually www that what

106
00:03:48,020 --> 00:03:51,770
is usually done no because I find a

107
00:03:51,770 --> 00:03:54,440
vulnerability in wordpress at random is

108
00:03:54,440 --> 00:03:56,150
clearly I find myself having a

109
00:03:56,150 --> 00:03:59,480
shel  l with www I make my own runs

110
00:03:59,480 --> 00:04:01,430
my program with a set of wind roots

111
00:04:01,430 --> 00:04:04,640
all clearly would give the

112
00:04:04,640 --> 00:04:06,140
possibility of a program like www to

113
00:04:06,140 --> 00:04:08,950
run programs like mount as well as

114
00:04:08,950 --> 00:04:10,910
technically it would not make any sense

115
00:04:10,910 --> 00:04:14,390
that it can run other examples are

116
00:04:14,390 --> 00:04:16,370
always example after a sum  I can

117
00:04:16,370 --> 00:04:17,930
think of I wake up but in the morning and

118
00:04:17,930 --> 00:04:19,329
I think it is to give away

119
00:04:19,329 --> 00:04:21,950
a text editor for those who do not

120
00:04:21,950 --> 00:04:23,000
know it

121
00:04:23,000 --> 00:04:25,820
if from the set of clearly I can

122
00:04:25,820 --> 00:04:28,640
make a nice exclamation point

123
00:04:28,640 --> 00:04:30,740
colon bim beige is a nice a nice shell of

124
00:04:30,740 --> 00:04:33,080
root I can also use python av cup that

125
00:04:33,080 --> 00:04:35,120
of a whole series of things and also I can

126
00:04:35,120 --> 00:04:36,890
use to execute and then

127
00:04:36,890 --> 00:04:39,350
make me a shell after using sevenths

128
00:04:39,350 --> 00:04:41,419
of you I give a reflex of prodi some

129
00:04:41,419 --> 00:04:43,090
commands that you can use to find

130
00:04:43,090 --> 00:04:45,289
binary however execute executables in

131
00:04:45,289 --> 00:04:47,690
your file  system that have the seventh

132
00:04:47,690 --> 00:04:49,160
and set this because so you make

133
00:04:49,160 --> 00:04:50,750
a list and see if it actually

134
00:04:50,750 --> 00:04:52,460
makes sense from the statues of and that stuff

135
00:04:52,460 --> 00:04:54,740
there but saying that  abusing

136
00:04:54,740 --> 00:04:57,169
what the flags are I take a shell

137
00:04:57,169 --> 00:04:59,510
but if I have a mac implemented then I

138
00:04:59,510 --> 00:05:02,180
use linux closing of modules I take a

139
00:05:02,180 --> 00:05:04,070
bushel the parma orkut hostel if another

140
00:05:04,070 --> 00:05:06,500
amount and implements a minus 3 access

141
00:05:06,500 --> 00:05:07,010
control

142
00:05:07,010 --> 00:05:09,080
it does not matter if I am root so even

143
00:05:09,080 --> 00:05:11,000
if the  my ex point works and or a

144
00:05:11,000 --> 00:05:13,070
shell with ruth does not matter because in reality

145
00:05:13,070 --> 00:05:15,020
the context on which I run that

146
00:05:15,020 --> 00:05:16,400
schalke and I am urging remains

147
00:05:16,400 --> 00:05:20,120
exactly the context of the software that

148
00:05:20,120 --> 00:05:21,950
I used to obtain the

149
00:05:21,950 --> 00:05:23,750
one the one cha initially then

150
00:05:23,750 --> 00:05:26,060
continues to operate in the

151
00:05:26,060 --> 00:05:28,250
www context which is  independent from that of root

152
00:05:28,250 --> 00:05:30,260
for example if there is this

153
00:05:30,260 --> 00:05:32,270
interesting blog this cocker dot.com

154
00:05:32,270 --> 00:05:35,720
on the rails you then australian

155
00:05:35,720 --> 00:05:37,220
where practically there is this guy who

156
00:05:37,220 --> 00:05:38,539
said I made a nice

157
00:05:38,539 --> 00:05:40,910
machine debian machine and I give you access to all

158
00:05:40,910 --> 00:05:42,530
my machine in ssh  from the internet you can

159
00:05:42,530 --> 00:05:44,270
do it even now the only thing I

160
00:05:44,270 --> 00:05:45,380
could not put the root password for

161
00:05:45,380 --> 00:05:47,030
me he forbids it but if you go to their

162
00:05:47,030 --> 00:05:48,050
them on his site

163
00:05:48,050 --> 00:05:51,080
you see the root password he tells me I

164
00:05:51,080 --> 00:05:53,570
have created a system so secure with

165
00:05:53,570 --> 00:05:56,690
him linux and even in 3d ssh with ruth you do not

166
00:05:56,690 --> 00:05:58,160
combine anything so actually to

167
00:05:58,160 --> 00:06:01,280
confine ruth it is possible let's go and

168
00:06:01,280 --> 00:06:03,200
see one of the security modules we

169
00:06:03,200 --> 00:06:04,370
talked about in general  but let's see

170
00:06:04,370 --> 00:06:07,160
specifically we have in parma then in

171
00:06:07,160 --> 00:06:09,110
parma now nelsen linus that last today

172
00:06:09,110 --> 00:06:11,390
as it is if linux then takes advantage of that

173
00:06:11,390 --> 00:06:12,380
look that we have seen that are

174
00:06:12,380 --> 00:06:15,349
inside the kernel was created by

175
00:06:15,349 --> 00:06:17,270
a company that is in new knicks

176
00:06:17,270 --> 00:06:20,180
in  1998 and it was part of an app of a

177
00:06:20,180 --> 00:06:21,680
commercial distribution of linux

178
00:06:21,680 --> 00:06:24,710
means that actually in 1998 there

179
00:06:24,710 --> 00:06:25,430
weren't any

180
00:06:25,430 --> 00:06:27,560
so it wasn't a module minus yuri at the

181
00:06:27,560 --> 00:06:29,120
time meran some patches to

182
00:06:29,120 --> 00:06:30,950
apply to the kernel and this company t

183
00:06:30,950 --> 00:06:32,510
sold this in munich if  nothing more

184
00:06:32,510 --> 00:06:34,210
than it was not a linux with in parma

185
00:06:34,210 --> 00:06:38,090
nouvelle in 2005 ssd are bought not

186
00:06:38,090 --> 00:06:39,560
integrated in suse they released it

187
00:06:39,560 --> 00:06:41,630
as open source but still anyway

188
00:06:41,630 --> 00:06:44,030
in 2007 you had to compile  rlo as a patch

189
00:06:44,030 --> 00:06:45,950
in 2007

190
00:06:45,950 --> 00:06:48,110
ubuntu chose it as the

191
00:06:48,110 --> 00:06:49,460
default module and in 2010

192
00:06:49,460 --> 00:06:52,220
clearly the carne al 26 36

193
00:06:52,220 --> 00:06:54,590
became part of the mainstream kernel

194
00:06:54,590 --> 00:06:56,240
clearly became a last

195
00:06:56,240 --> 00:06:59,050
gen linus in parma focuses on what we

196
00:06:59,050 --> 00:07:01,100
say the security of the single

197
00:07:01,100 --> 00:07:03,020
application that is  goes to build a

198
00:07:03,020 --> 00:07:04,760
kind of mold so as if it were a

199
00:07:04,760 --> 00:07:06,800
rigid armor in fact inspiration from and

200
00:07:06,800 --> 00:07:08,810
from the medieval armor that delimit

201
00:07:08,810 --> 00:07:11,660
what is the movement of the app opens

202
00:07:11,660 --> 00:07:14,000
the edition of the track of my bin of

203
00:07:14,000 --> 00:07:16,340
my executable and through a policy

204
00:07:16,340 --> 00:07:19,160
of practically apparmor  I am going to

205
00:07:19,160 --> 00:07:20,930
try and check anyway to define on a

206
00:07:20,930 --> 00:07:23,000
series of things like the posix capabilities

207
00:07:23,000 --> 00:07:24,680
the files that I can go to read and

208
00:07:24,680 --> 00:07:26,960
write touch access and the

209
00:07:26,960 --> 00:07:28,820
network capabilities which I know I

210
00:07:28,820 --> 00:07:30,230
can use those ports I can open

211
00:07:30,230 --> 00:07:32,450
etc. it is very simple to build a

212
00:07:32,450 --> 00:07:33,830
profile  for in parma here we have for

213
00:07:33,830 --> 00:07:36,140
example the example the large intestine

214
00:07:36,140 --> 00:07:37,400
types of these standards is not

215
00:07:37,400 --> 00:07:39,440
something I wrote  so I am going to

216
00:07:39,440 --> 00:07:41,000
simply define that the black buy that

217
00:07:41,000 --> 00:07:44,360
I am going to target then user btp of

218
00:07:44,360 --> 00:07:46,700
do I include some base stations then

219
00:07:46,700 --> 00:07:49,610
I say but it can open a service on a

220
00:07:49,610 --> 00:07:51,540
lower port

221
00:07:51,540 --> 00:07:54,660
dix I can create I can do ch router

222
00:07:54,660 --> 00:07:57,360
I can touch files in the confin types

223
00:07:57,360 --> 00:08:00,360
reading I can not write a series of

224
00:08:00,360 --> 00:08:01,800
things so very easy to go and

225
00:08:01,800 --> 00:08:03,120
write a profile of a parma I

226
00:08:03,120 --> 00:08:06,000
turn it on that it works difference between

227
00:08:06,000 --> 00:08:09,030
parma and if linux well to speak very

228
00:08:09,030 --> 00:08:11,970
simple but esse lines and linux is much

229
00:08:11,970 --> 00:08:16,860
much more powerful selinux is also a

230
00:08:16,860 --> 00:08:19,980
module  lsm con la parma stands for the

231
00:08:19,980 --> 00:08:23,100
news for security enhance linux and

232
00:08:23,100 --> 00:08:24,660
was created not by a

233
00:08:24,660 --> 00:08:26,100
commercial company it was created by the

234
00:08:26,100 --> 00:08:29,910
american nsa national security agency it

235
00:08:29,910 --> 00:08:31,650
used the through six models

236
00:08:31,650 --> 00:08:33,120
developed in the eighties trisic

237
00:08:33,120 --> 00:08:34,950
sera trust and unix or better between  state

238
00:08:34,950 --> 00:08:36,990
posix which basically aimed to

239
00:08:36,990 --> 00:08:39,720
implement in unix systems and deposits

240
00:08:39,720 --> 00:08:41,099
in general venice enix what will be

241
00:08:41,099 --> 00:08:43,860
at the time aimed to implement qu  ello

242
00:08:43,860 --> 00:08:44,940
that it was the same level of

243
00:08:44,940 --> 00:08:47,310
classification of the information that

244
00:08:47,310 --> 00:08:49,020
was inside the military structures

245
00:08:49,020 --> 00:08:49,680


246
00:08:49,680 --> 00:08:51,780
you know that there is top secret level

247
00:08:51,780 --> 00:08:53,670
5 level 4 and you go down where the

248
00:08:53,670 --> 00:08:55,560
information can be used from the

249
00:08:55,560 --> 00:08:56,880
lowest level to the highest level but not

250
00:08:56,880 --> 00:08:57,510
vice versa

251
00:08:57,510 --> 00:08:59,520
then they implemented this model

252
00:08:59,520 --> 00:09:01,800
and released it open source in

253
00:09:01,800 --> 00:09:03,210
december 2000 for it to be

254
00:09:03,210 --> 00:09:05,370
integrated in inox linus torvalds

255
00:09:05,370 --> 00:09:08,250
at the time it was very it was against it

256
00:09:08,250 --> 00:09:09,690
I think it still is that is it was

257
00:09:09,690 --> 00:09:11,880
against integrating nsa stuff into the

258
00:09:11,880 --> 00:09:12,840
linux kernel

259
00:09:12,840 --> 00:09:15,180
therefore  so they invented a

260
00:09:15,180 --> 00:09:18,330
series of looks that are precisely sm

261
00:09:18,330 --> 00:09:20,880
is a series of companies that have

262
00:09:20,880 --> 00:09:22,470
collaborated on the project itself linux

263
00:09:22,470 --> 00:09:24,120
have not modified to become a module

264
00:09:24,120 --> 00:09:25,770
and not a permanent peace within the

265
00:09:25,770 --> 00:09:27,360
system and therefore for what was

266
00:09:27,360 --> 00:09:29,490
said  optional and optional less throws

267
00:09:29,490 --> 00:09:30,630
access controls for you you can

268
00:09:30,630 --> 00:09:33,090
turn it on a little and I hope selinux works

269
00:09:33,090 --> 00:09:35,520
in three modes for missing enforcing

270
00:09:35,520 --> 00:09:38,340
disable at three tip  i of access control

271
00:09:38,340 --> 00:09:40,590
that uses taib enforcement role

272
00:09:40,590 --> 00:09:43,410
based access multi layer security and

273
00:09:43,410 --> 00:09:45,960
three types of target policies that is three types of

274
00:09:45,960 --> 00:09:47,700
target and minimum or multi level policies

275
00:09:47,700 --> 00:09:49,710
so as you can see it is not easy as in

276
00:09:49,710 --> 00:09:51,300
parma that I define profile shot up and

277
00:09:51,300 --> 00:09:51,870
go forward

278
00:09:51,870 --> 00:09:54,000
the modalities for mystic in force they

279
00:09:54,000 --> 00:09:55,170
told me in reality they are not so

280
00:09:55,170 --> 00:09:58,110
complicated or permissive he works but

281
00:09:58,110 --> 00:10:00,000
in reality he does not block any logs and that's

282
00:10:00,000 --> 00:10:01,950
it every time there is a

283
00:10:01,950 --> 00:10:03,270
process that violates what the

284
00:10:03,270 --> 00:10:04,240


285
00:10:04,240 --> 00:10:06,850
first policy on the blog perhaps instead  I write

286
00:10:06,850 --> 00:10:09,850
about places and I will not allow it to

287
00:10:09,850 --> 00:10:11,110
go on in its execution

288
00:10:11,110 --> 00:10:15,790
if there has not been turned off the type of access

289
00:10:15,790 --> 00:10:17,529
control that I can go to

290
00:10:17,529 --> 00:10:19,570
implement it can be d type

291
00:10:19,570 --> 00:10:23,200
enforcement it means obese multilevel roll bar

292
00:10:23,200 --> 00:10:25,720
let's say that no one uses

293
00:10:25,720 --> 00:10:27,160
the role based multilevel  outside

294
00:10:27,160 --> 00:10:28,390
the governmental part because

295
00:10:28,390 --> 00:10:30,339
multilevel was precisely a speech

296
00:10:30,339 --> 00:10:32,350
that was said to be top secret and level 1

297
00:10:32,350 --> 00:10:34,300
level 2 etc. and role based instead is

298
00:10:34,300 --> 00:10:36,520
de  ended up in roles so I can have I

299
00:10:36,520 --> 00:10:38,740
don't know a routh who is

300
00:10:38,740 --> 00:10:40,540
system administrator against routh who in reality

301
00:10:40,540 --> 00:10:42,310
looks only the north part with a

302
00:10:42,310 --> 00:10:44,140
look that auditor here I can have a

303
00:10:44,140 --> 00:10:46,810
series of roles and they are almost all

304
00:10:46,810 --> 00:10:48,760
use the type enforcement which is the

305
00:10:48,760 --> 00:10:51,190
default of the  policy target the policies

306
00:10:51,190 --> 00:10:52,410
that I saw that I am among

307
00:10:52,410 --> 00:10:54,820
in reality is actually a because target therefore I

308
00:10:54,820 --> 00:10:57,010
can say target and that it is a way

309
00:10:57,010 --> 00:10:59,950
of working that provides that the

310
00:10:59,950 --> 00:11:02,380
very specific policies for all

311
00:11:02,380 --> 00:11:03,610
that are the networks of mons therefore i

312
00:11:03,610 --> 00:11:05,980
processes however the applications that

313
00:11:05,980 --> 00:11:07,209
open I know that after however they

314
00:11:07,209 --> 00:11:09,370
communicate with the outside for example an

315
00:11:09,370 --> 00:11:11,200
example of the nature of rtp of but it can

316
00:11:11,200 --> 00:11:13,329
also be nain's http so

317
00:11:13,329 --> 00:11:15,310
buyin of the peace of what you want

318
00:11:15,310 --> 00:11:17,200
the mons networks and the boot programs

319
00:11:17,200 --> 00:11:19,270
of  start up

320
00:11:19,270 --> 00:11:21,040
the minimum polis on the other hand does not cover anything it is

321
00:11:21,040 --> 00:11:23,020
you who defines your polis and who

322
00:11:23,020 --> 00:11:25,720
you want to upload they love mls instead the

323
00:11:25,720 --> 00:11:27,820
multi-level one where you go to define a

324
00:11:27,820 --> 00:11:29,980
sensitivity for  every process so yes

325
00:11:29,980 --> 00:11:31,240
this treats sensitive information

326
00:11:31,240 --> 00:11:33,339
forwarded finance insensitive however as

327
00:11:33,339 --> 00:11:34,630
we have said what we are going to

328
00:11:34,630 --> 00:11:37,660
see are the target policies xisca

329
00:11:37,660 --> 00:11:39,190
is practically a policy that uses

330
00:11:39,190 --> 00:11:42,700
the force man tag a few useful commands

331
00:11:42,700 --> 00:11:44,740
to run within this system if

332
00:11:44,740 --> 00:11:46,690
you  make ghetto in maybe it shows you in

333
00:11:46,690 --> 00:11:48,339
what mode if the start is running on the

334
00:11:48,339 --> 00:11:50,350
system that the foreseen with force no of

335
00:11:50,350 --> 00:11:53,200
follows if I write 7 in maybe 0 1

336
00:11:53,200 --> 00:11:54,820
I turn on they push forcing inside

337
00:11:54,820 --> 00:11:56,560
the system until the next reboot

338
00:11:56,560 --> 00:11:58,360
so it is useful  in case I have a

339
00:11:58,360 --> 00:12:00,010
problem and I want to see if

340
00:12:00,010 --> 00:12:02,320
disabling selinus it solves I do

341
00:12:02,320 --> 00:12:04,930
7 a force 0 I look 7 maybe a return

342
00:12:04,930 --> 00:12:07,390
back to the reboot it is restored if

343
00:12:07,390 --> 00:12:08,890
it was on a table with a

344
00:12:08,890 --> 00:12:10,990
summary and if I am interested in making

345
00:12:10,990 --> 00:12:13,300
sure that it is permanent  you start selinus

346
00:12:13,300 --> 00:12:13,839
with fig as

347
00:12:13,839 --> 00:12:15,640
long as I write selinus in forces in

348
00:12:15,640 --> 00:12:16,740
songs type target

349
00:12:16,740 --> 00:12:19,649
then I finish the modality and policy and when

350
00:12:19,649 --> 00:12:21,860
restarting these clearly persist

351
00:12:21,860 --> 00:12:24,089
the license plate  of the policing acts

352
00:12:24,089 --> 00:12:25,470
mainly on the networks of we

353
00:12:25,470 --> 00:12:27,149
do not know has seen all the programs written on

354
00:12:27,149 --> 00:12:28,740
that set the troubles of that by

355
00:12:28,740 --> 00:12:30,180
default all the valid associated problems

356
00:12:30,180 --> 00:12:33,270
are already managed by selinus with

357
00:12:33,270 --> 00:12:35,010
the target and policies if I take a

358
00:12:35,010 --> 00:12:36,660
look at how many police plates are

359
00:12:36,660 --> 00:12:37,200
inside

360
00:12:37,200 --> 00:12:39,029
we say that mainly for everything

361
00:12:39,029 --> 00:12:40,550
I find on the pack package manager

362
00:12:40,550 --> 00:12:43,080
normally hodge ancona policy written

363
00:12:43,080 --> 00:12:44,190
by whoever wrote the software that

364
00:12:44,190 --> 00:12:46,170
made it because using software I find it

365
00:12:46,170 --> 00:12:48,330
already mentioned as a selinux in place

366
00:12:48,330 --> 00:12:50,040
clearly who builds software

367
00:12:50,040 --> 00:12:51,990
normally also makes the policy  of

368
00:12:51,990 --> 00:12:54,209
selinux normally everything else is not

369
00:12:54,209 --> 00:12:55,589
affected site that if you want to make your

370
00:12:55,589 --> 00:12:57,360
software that runs on your own

371
00:12:57,360 --> 00:12:59,310
this runs through with a times that

372
00:12:59,310 --> 00:13:01,320
not even nph haiti where practically

373
00:13:01,320 --> 00:13:03,029
no restrictions are applied

374
00:13:03,029 --> 00:13:05,339
from the point of view of styles

375
00:13:05,339 --> 00:13:06,660
are not anyway  some benefits

376
00:13:06,660 --> 00:13:08,970
we will go there to see the schools policy to

377
00:13:08,970 --> 00:13:10,680
operate exploit things we are security

378
00:13:10,680 --> 00:13:12,839
context a  nd security context an

379
00:13:12,839 --> 00:13:14,399
enrichment of what the

380
00:13:14,399 --> 00:13:16,170
lynott nodes or in any case the elements of the file

381
00:13:16,170 --> 00:13:18,000
system are to insert a whole series of

382
00:13:18,000 --> 00:13:19,200
other things so I have not simply

383
00:13:19,200 --> 00:13:21,839
date time when modified the permissions

384
00:13:21,839 --> 00:13:22,740
etc.

385
00:13:22,740 --> 00:13:25,200
but a series of rules are use and

386
00:13:25,200 --> 00:13:27,570
roll ship l  'e type where if I make

387
00:13:27,570 --> 00:13:30,270
beautiful ls minus lz on a specific file on

388
00:13:30,270 --> 00:13:34,020
a binary I see the let's say the

389
00:13:34,020 --> 00:13:35,459
part of those who are user roll

390
00:13:35,459 --> 00:13:37,050
level and type so here we see for

391
00:13:37,050 --> 00:13:40,230
example ex ct types of maid or system user

392
00:13:40,230 --> 00:13:43,920
control  hd di b with phil type s 0 which is

393
00:13:43,920 --> 00:13:46,740
a flag we are going to see a

394
00:13:46,740 --> 00:13:48,839
level flag said this I can also do it

395
00:13:48,839 --> 00:13:51,209
on ps less jesi where I can go to

396
00:13:51,209 --> 00:13:53,579
see in my prof liszt with the ministers

397
00:13:53,579 --> 00:13:55,110
processes I can go to see that

398
00:13:55,110 --> 00:13:57,839
level enrichment  security

399
00:13:57,839 --> 00:13:59,940
context i.e. in what context is

400
00:13:59,940 --> 00:14:02,459
my file operating also context is

401
00:14:02,459 --> 00:14:06,390
operating my binary target policies

402
00:14:06,390 --> 00:14:08,130
in general how with use tracker

403
00:14:08,130 --> 00:14:09,510
policy uses very little

404
00:14:09,510 --> 00:14:11,040
use attributes  r and roll which are the

405
00:14:11,040 --> 00:14:12,779
first two here if I do if info menu

406
00:14:12,779 --> 00:14:15,329
file user which are defined not only 8

407
00:14:15,329 --> 00:14:17,550
inside and as roles I have

408
00:14:17,550 --> 00:14:20,190
practically not even one eleven at the

409
00:14:20,190 --> 00:14:21,970
level of profit

410
00:14:21,970 --> 00:14:24,520
so only on multilevels

411
00:14:24,520 --> 00:14:26,200
then he insists are the ones he uses at

412
00:14:26,200 --> 00:14:28,030
level  therefore we

413
00:14:28,030 --> 00:14:30,880
mainly use the types that many people in my

414
00:14:30,880 --> 00:14:32,590
opinion mistakenly also call

415
00:14:32,590 --> 00:14:35,110
domaines however idomeneo domains reality

416
00:14:35,110 --> 00:14:36,400
must be seen as if they were

417
00:14:36,400 --> 00:14:38,800
subject so they are practically the

418
00:14:38,800 --> 00:14:40,210
last subjects of the actions so

419
00:14:40,210 --> 00:14:42,520
we have processes and users are

420
00:14:42,520 --> 00:14:44,080
actually the domaines so I

421
00:14:44,080 --> 00:14:46,120
could have the  subject with the

422
00:14:46,120 --> 00:14:49,210
http domain of me defines need an

423
00:14:49,210 --> 00:14:52,540
http context of and the real object

424
00:14:52,540 --> 00:14:54,580
which are the types are the files the ports in the

425
00:14:54,580 --> 00:14:55,000
socket

426
00:14:55,000 --> 00:14:57,220
then or sliced domain ttp of which

427
00:14:57,220 --> 00:15:00,850
operates on a file type http of ok then it

428
00:15:00,850 --> 00:15:04,180
goes  well for example a particular timer

429
00:15:04,180 --> 00:15:05,920
with line with infants the programs for

430
00:15:05,920 --> 00:15:07,240
which I had not I have not defined a

431
00:15:07,240 --> 00:15:10,510
policy or I have not defined a type already  rano

432
00:15:10,510 --> 00:15:12,040
as rincon find and therefore I

433
00:15:12,040 --> 00:15:12,910


434
00:15:12,910 --> 00:15:15,390
have no problems I have no type of block let's say

435
00:15:15,390 --> 00:15:18,600
for example if instead we go to see

436
00:15:18,600 --> 00:15:21,820
bind and we go to make an ls minus lz sun

437
00:15:21,820 --> 00:15:23,920
in become.com or on a carmen

438
00:15:23,920 --> 00:15:26,490
di vedo beer that I have as a type

439
00:15:26,490 --> 00:15:28,270
even no simply a

440
00:15:28,270 --> 00:15:30,550
typology in the mediums and that's it but a

441
00:15:30,550 --> 00:15:32,590
subdivision that are named the costs

442
00:15:32,590 --> 00:15:34,660
then the configuration file see

443
00:15:34,660 --> 00:15:37,330
point maid the named of cash the files that

444
00:15:37,330 --> 00:15:39,120
schneck in the die bind so it is the

445
00:15:39,120 --> 00:15:42,820
solver for those who do not know nor bison

446
00:15:42,820 --> 00:15:45,010
are the files of the  zone then still

447
00:15:45,010 --> 00:15:46,240
cash etcetera etcetera so let's say

448
00:15:46,240 --> 00:15:47,890
that for each file that goes to be given or

449
00:15:47,890 --> 00:15:49,570
this security context that defines me

450
00:15:49,570 --> 00:15:52,540
a different type so taken I have

451
00:15:52,540 --> 00:15:54,070
to take a look if I go to see the

452
00:15:54,070 --> 00:15:56,380
allow rules that allow to bind

453
00:15:56,380 --> 00:15:58,990
then to nemi  of which he has as typer named

454
00:15:58,990 --> 00:16:01,120
the data to access his

455
00:16:01,120 --> 00:16:04,060
configuration file sell tasks or I can

456
00:16:04,060 --> 00:16:05,650
use some was a command the user

457
00:16:05,650 --> 00:16:07,390
laniece calls the search these

458
00:16:07,390 --> 00:16:08,590
assist us gives me the possibility  to

459
00:16:08,590 --> 00:16:08,920
see

460
00:16:08,920 --> 00:16:11,110
let me see the policy of allah or the

461
00:16:11,110 --> 00:16:13,420
type in the myths and we see that there are

462
00:16:13,420 --> 00:16:15,240
several

463
00:16:15,240 --> 00:16:17,430
axis vector ruiz a virus is not anti

464
00:16:17,430 --> 00:16:20,160
virus ex vector we will be able to see what

465
00:16:20,160 --> 00:16:21,899
the ex vector cash but we are a

466
00:16:21,899 --> 00:16:25,020
compilation that if linux does to the binary

467
00:16:25,020 --> 00:16:27,529
for  try to be faster

468
00:16:27,529 --> 00:16:29,190
in identifying what the

469
00:16:29,190 --> 00:16:30,510
policies are does not clearly go to read

470
00:16:30,510 --> 00:16:31,350
a text file

471
00:16:31,350 --> 00:16:33,180
every time also because it works at the

472
00:16:33,180 --> 00:16:35,730
camera level so if I see that for

473
00:16:35,730 --> 00:16:37,830
example name di the ability to

474
00:16:37,830 --> 00:16:41,279
read the file named i conti  with get a

475
00:16:41,279 --> 00:16:42,420
tribute the ok open

476
00:16:42,420 --> 00:16:43,740
so we are all saying the

477
00:16:43,740 --> 00:16:45,360
posix attributes of what it can do

478
00:16:45,360 --> 00:16:46,020
on this stuff

479
00:16:46,020 --> 00:16:48,570
so if we try to change

480
00:16:48,570 --> 00:16:50,100
the attributes all time

481
00:16:50,100 --> 00:16:51,330
sorry not the attributes to change the

482
00:16:51,330 --> 00:16:53,160
type of the configuration file of

483
00:16:53,160 --> 00:16:56,700
files  I use ch with less you then type I give it

484
00:16:56,700 --> 00:16:58,470
to minutes that it has nothing to do with

485
00:16:58,470 --> 00:16:59,790
andy another thing

486
00:16:59,790 --> 00:17:02,730
I apply it rings point maid instead nice

487
00:17:02,730 --> 00:17:05,010
service name of start and this fails

488
00:17:05,010 --> 00:17:06,929
clearly or of the context  that tells me

489
00:17:06,929 --> 00:17:09,209
look that failed if file system kato to

490
00:17:09,209 --> 00:17:10,920
status in service I tell you why

491
00:17:10,920 --> 00:17:14,040
journal di clearly comes in in

492
00:17:14,040 --> 00:17:16,500
action and video that if linux a prevent

493
00:17:16,500 --> 00:17:18,569
the frame access then it is not black magic

494
00:17:18,569 --> 00:17:20,309
just make a nice journal of that is the

495
00:17:20,309 --> 00:17:21,599
day  the bad I can go and see

496
00:17:21,599 --> 00:17:24,469
why the policies did not work

497
00:17:25,230 --> 00:17:27,150
clearly where I find them

498
00:17:27,150 --> 00:17:28,349
then it is found within them

499
00:17:28,349 --> 00:17:31,200
selinux selinux targeted under

500
00:17:31,200 --> 00:17:33,570
module formula that I create modules that

501
00:17:33,570 --> 00:17:35,010
are actually a set of policies that I then

502
00:17:35,010 --> 00:17:37,890
load to the  internal self linux for

503
00:17:37,890 --> 00:17:40,010
example if I do if the least way

504
00:17:40,010 --> 00:17:41,880
I can see all the modules that are

505
00:17:41,880 --> 00:17:44,070
loaded with a certain version for

506
00:17:44,070 --> 00:17:45,540
example if I do I want to see how many

507
00:17:45,540 --> 00:17:50,190
there are about 393 depending on

508
00:17:50,190 --> 00:17:51,840
then on when you do the check for if you have

509
00:17:51,840 --> 00:17:53,040
more  packages installed there are more

510
00:17:53,040 --> 00:17:55,559
policies and if I want to go and see

511
00:17:55,559 --> 00:17:56,550
that we think we have just changed

512
00:17:56,550 --> 00:17:59,070
the file type for conflicts I want to

513
00:17:59,070 --> 00:18:00,690
try to see if I can change

514
00:18:00,690 --> 00:18:02,400
the policy and if  linux to make

515
00:18:02,400 --> 00:18:05,610
the same work in the di even with the new type

516
00:18:05,610 --> 00:18:08,340
make a policy that says allow named i

517
00:18:08,340 --> 00:18:11,750
team ad minutes ago the rid compile it

518
00:18:11,750 --> 00:18:13,920
let's take how many modules are

519
00:18:13,920 --> 00:18:17,250
394 task with six modules minus the name

520
00:18:17,250 --> 00:18:19,380
to my module I recount the modules with  se

521
00:18:19,380 --> 00:18:23,190
module no 394 I try to discard my

522
00:18:23,190 --> 00:18:24,780
service line of do service line of

523
00:18:24,780 --> 00:18:25,620
start

524
00:18:25,620 --> 00:18:27,240
here I have nor tell me it started without

525
00:18:27,240 --> 00:18:28,169
problems

526
00:18:28,169 --> 00:18:30,720
and because I adapted the polis said

527
00:18:30,720 --> 00:18:32,609
linux how did I create the

528
00:18:32,609 --> 00:18:34,710
policy file clearly I used a

529
00:18:34,710 --> 00:18:35,999
tool because  you don't even need to

530
00:18:35,999 --> 00:18:37,769
know how to write them there is a

531
00:18:37,769 --> 00:18:39,720
tool called audit voilà or you

532
00:18:39,720 --> 00:18:41,820
simply tell them to an adult at laura look at

533
00:18:41,820 --> 00:18:43,529
everything that has failed in

534
00:18:43,529 --> 00:18:45,299
that process you avoid them compile a

535
00:18:45,299 --> 00:18:47,279
policy file to make all the

536
00:18:47,279 --> 00:18:48,299
things that have failed to work in  that process

537
00:18:48,299 --> 00:18:49,830
then to a profiling

538
00:18:49,830 --> 00:18:51,749
if we want that it says all the things that

539
00:18:51,749 --> 00:18:53,789
are normal that that process does in

540
00:18:53,789 --> 00:18:55,909
itself for example I wanted to confine

541
00:18:55,909 --> 00:18:57,720
an application of which  i am sure that

542
00:18:57,720 --> 00:18:59,399
out 10 of there is an exploit for a

543
00:18:59,399 --> 00:19:01,409
certain application and soc

544
00:19:01,409 --> 00:19:03,509
alex lloyd available but i don't have

545
00:19:03,509 --> 00:19:04,859
a patch yet so i want to do

546
00:19:04,859 --> 00:19:07,850
what vendors now call

547
00:19:07,850 --> 00:19:11,190
virtual packing this other minagi a

548
00:19:11,190 --> 00:19:11,789
bit a bit so

549
00:19:11,789 --> 00:19:13,830
in  reality what I do I take my

550
00:19:13,830 --> 00:19:16,529
binary I put the selinux in a way for

551
00:19:16,529 --> 00:19:18,389
nissim I do it I start news

552
00:19:18,389 --> 00:19:20,399
my os and linux and start writing me

553
00:19:20,399 --> 00:19:23,429
a policy I close it I start the ex

554
00:19:23,429 --> 00:19:26,039
plate search profile clearly

555
00:19:26,039 --> 00:19:27,809
what is my binary and after  that and

556
00:19:27,809 --> 00:19:29,999
I can try again to re-apply the policy

557
00:19:29,999 --> 00:19:31,590
once I have made it functional

558
00:19:31,590 --> 00:19:32,940
let's say in normal mode without alex

559
00:19:32,940 --> 00:19:34,830
lloyd I do I try it with

560
00:19:34,830 --> 00:19:36,960
the expò it the course and from there it generates a

561
00:19:36,960 --> 00:19:38,999
policy that does not allow what the former

562
00:19:38,999 --> 00:19:40,769
play testaccio to the truck to do

563
00:19:40,769 --> 00:19:42,659
here so I can create myself let's say a

564
00:19:42,659 --> 00:19:44,399
nodule that confines me what the

565
00:19:44,399 --> 00:19:45,570
security of with the thing the virtual

566
00:19:45,570 --> 00:19:47,669
packing said so basically

567
00:19:47,669 --> 00:19:48,509
they do this stuff here

568
00:19:48,509 --> 00:19:51,450
what is audit of employees  this is

569
00:19:51,450 --> 00:19:52,919
directly from the mothers so man

570
00:19:52,919 --> 00:19:56,190
audit di is a component that allows you to

571
00:19:56,190 --> 00:19:58,499
interact with the a framework

572
00:19:58,499 --> 00:20:00,330
called linux audi team framework which is

573
00:20:00,330 --> 00:20:01,499
very similar to that of the safe

574
00:20:01,499 --> 00:20:02,609
modules are a series of looks

575
00:20:02,609 --> 00:20:04,320
inside the kernel that already were

576
00:20:04,320 --> 00:20:06,179
of the events events are generated

577
00:20:06,179 --> 00:20:08,519
to an i system call and this

578
00:20:08,519 --> 00:20:09,899
clearly allows you to define a

579
00:20:09,899 --> 00:20:12,690
series of rules to write on the logo

580
00:20:12,690 --> 00:20:14,009
everything that happens to the

581
00:20:14,009 --> 00:20:16,739
legal carnet so if I or linux enabled

582
00:20:16,739 --> 00:20:17,879
what was said before many

583
00:20:17,879 --> 00:20:20,070
things work in  en with find if os and

584
00:20:20,070 --> 00:20:22,980
linux enabled or let's say I bring a

585
00:20:22,980 --> 00:20:24,419
series of context enrichment that

586
00:20:24,419 --> 00:20:26,759
brings them security context at the

587
00:20:26,759 --> 00:20:27,929
meat level also for audi

588
00:20:27,929 --> 00:20:29,749
so since or they say write log

589
00:20:29,749 --> 00:20:32,039
practically does not know many things it does not have the

590
00:20:32,039 --> 00:20:33,239
possibility to filter many things

591
00:20:33,239 --> 00:20:35,009
when  I import what are the

592
00:20:35,009 --> 00:20:37,769
contexts I inform the kernel about

593
00:20:37,769 --> 00:20:39,210
what is the security context of what

594
00:20:39,210 --> 00:20:39,800
it is running

595
00:20:39,800 --> 00:20:41,330
and doing so I can sc  review the

596
00:20:41,330 --> 00:20:43,040
auditing rules that tell me

597
00:20:43,040 --> 00:20:44,450
which context a certain thing was running in,

598
00:20:44,450 --> 00:20:46,430
among other things, if you also made

599
00:20:46,430 --> 00:20:47,960
your own application here you can create

600
00:20:47,960 --> 00:20:50,030
your security context here you can

601
00:20:50,030 --> 00:20:54,200
create your never up line up t that

602
00:20:54,200 --> 00:20:55,310
the time of yours  app

603
00:20:55,310 --> 00:20:58,760
then let's see this for

604
00:20:58,760 --> 00:21:00,170
example demo to review how you can

605
00:21:00,170 --> 00:21:02,420
create the policy we created

606
00:21:02,420 --> 00:21:03,920
before using usual

607
00:21:03,920 --> 00:21:06,590
then I find in barlog audit all this

608
00:21:06,590 --> 00:21:08,420
love I find in addition to the audit events in

609
00:21:08,420 --> 00:21:09,740
the normal ones that we should see

610
00:21:09,740 --> 00:21:12,800
what are the logos of  himself linux as ivan

611
00:21:12,800 --> 00:21:15,590
type and he yes which means ax factor

612
00:21:15,590 --> 00:21:18,140
cash which practically is precisely

613
00:21:18,140 --> 00:21:20,600
this event there is this cache is

614
00:21:20,600 --> 00:21:22,730
precompiled v2 how many rules that

615
00:21:22,730 --> 00:21:24,260
selinus to wake you up modules that if the

616
00:21:24,260 --> 00:21:26,840
news applies and from there there were all  the

617
00:21:26,840 --> 00:21:28,610
events of money or dialogue so I

618
00:21:28,610 --> 00:21:31,430
can even decide to log in and

619
00:21:31,430 --> 00:21:33,200
entities that have been successful and therefore

620
00:21:33,200 --> 00:21:35,240
the possibility of creating an audit trail

621
00:21:35,240 --> 00:21:36,500
even of what a

622
00:21:36,500 --> 00:21:39,650
privileged user example using the

623
00:21:39,650 --> 00:21:42,230
tool audi to allow what do I use a

624
00:21:42,230 --> 00:21:44,150
tool from the audit user space of which is

625
00:21:44,150 --> 00:21:45,920
called a search but in this

626
00:21:45,920 --> 00:21:47,510
context here I could have used grep

627
00:21:47,510 --> 00:21:49,610
quietly because I tell him look for me

628
00:21:49,610 --> 00:21:53,660
in the audit file log point me

629
00:21:53,660 --> 00:21:56,060
do a search for context nemi by jack

630
00:21:56,060 --> 00:21:58,280
conf indeed for command in di cechov

631
00:21:58,280 --> 00:22:00,440
just by ray could have done a rap and it

632
00:22:00,440 --> 00:22:01,640
would have been the same because I have a nice

633
00:22:01,640 --> 00:22:03,290
des I'll let that means give me

634
00:22:03,290 --> 00:22:04,910
exactly the lines in rome I make them

635
00:22:04,910 --> 00:22:07,520
a piper I throw it in audi  to allow

636
00:22:07,520 --> 00:22:08,630
and tell him to create me a

637
00:22:08,630 --> 00:22:12,110


638
00:22:12,110 --> 00:22:13,700


639
00:22:13,700 --> 00:22:15,140


640
00:22:15,140 --> 00:22:17,030


641
00:22:17,030 --> 00:22:18,890
module called ed  it is

642
00:22:18,890 --> 00:22:20,270
loaded so it is not that difficult to

643
00:22:20,270 --> 00:22:24,140
create the modules for itself linux to my

644
00:22:24,140 --> 00:22:25,280
see audit of so we have seen

645
00:22:25,280 --> 00:22:27,350
the let's say part of security

646
00:22:27,350 --> 00:22:28,430
let's go to the part of audi team

647
00:22:28,430 --> 00:22:31,130
audit of allows you to record on

648
00:22:31,130 --> 00:22:32,660
disk no file is called audi by

649
00:22:32,660 --> 00:22:34,240
point log all system calls

650
00:22:34,240 --> 00:22:36,380
using these cute looks the flesh

651
00:22:36,380 --> 00:22:39,440
in exile of trool there are rules of

652
00:22:39,440 --> 00:22:40,460
what i actually want

653
00:22:40,460 --> 00:22:41,960
races and what i want to exclude

654
00:22:41,960 --> 00:22:43,670
all system calls that bass that you

655
00:22:43,670 --> 00:22:46,520
are  what do I need to do so

656
00:22:46,520 --> 00:22:48,380
I can use it for compliance so if you

657
00:22:48,380 --> 00:22:50,630
work in a regulated industry like

658
00:22:50,630 --> 00:22:52,080
we are, for example we work

659
00:22:52,080 --> 00:22:54,419
there we have traffic data for

660
00:22:54,419 --> 00:22:55,830
justice purposes for billing purposes

661
00:22:55,830 --> 00:22:57,480
etc. etc. and those have

662
00:22:57,480 --> 00:22:59,640
a whole range  of rules you must have an audit

663
00:22:59,640 --> 00:23:01,559
trail with audio and that you are already compliant

664
00:23:01,559 --> 00:23:03,049
and even beyond what the

665
00:23:03,049 --> 00:23:05,700
body of each team asks you what it does

666
00:23:05,700 --> 00:23:07,380
or identity even if not security trains

667
00:23:07,380 --> 00:23:08,669
that you can go and fix

668
00:23:08,669 --> 00:23:09,990
yourself without having to use

669
00:23:09,990 --> 00:23:12,240
commercial products hint of of and or a log in

670
00:23:12,240 --> 00:23:14,429
which I have given time like the result of an

671
00:23:14,429 --> 00:23:16,620
event so this happened and it

672
00:23:16,620 --> 00:23:19,380
was allowed it was denied I can

673
00:23:19,380 --> 00:23:20,909
go and see it  the association of ju

674
00:23:20,909 --> 00:23:23,519
and id with the event but not only him of

675
00:23:23,519 --> 00:23:25,289
also l'ore'al and thursday because if I have a

676
00:23:25,289 --> 00:23:27,450
program such as sud which is one

677
00:23:27,450 --> 00:23:28,919
of the programs that the satyrs of because

678
00:23:28,919 --> 00:23:30,750
obviously I study what he does allows you to

679
00:23:30,750 --> 00:23:32,880
use root privileges even if

680
00:23:32,880 --> 00:23:35,429
you are not youth and that says look that

681
00:23:35,429 --> 00:23:36,840
this command was executed with

682
00:23:36,840 --> 00:23:39,000
this to the balls of zero because it helps

683
00:23:39,000 --> 00:23:40,950
but the real reality oi says that

684
00:23:40,950 --> 00:23:41,909
actually the user who

685
00:23:41,909 --> 00:23:45,450
executed it was another person changes

686
00:23:45,450 --> 00:23:47,580
to the audi configuration files of himself

687
00:23:47,580 --> 00:23:49,529
so he logs in wide if someone

688
00:23:49,529 --> 00:23:51,630
modifies or of all the authentication

689
00:23:51,630 --> 00:23:54,299
ssh kerberos command lines

690
00:23:54,299 --> 00:23:55,649
everything that is access to the systems

691
00:23:55,649 --> 00:23:57,269
authentication to the machine

692
00:23:57,269 --> 00:23:58,559
everything that is data expression with

693
00:23:58,559 --> 00:24:01,110
accesses to the ru also sockets  etc.

694
00:24:01,110 --> 00:24:03,659
etc. it modifies the file the nodes then

695
00:24:03,659 --> 00:24:05,309
taken it I can insert some watches on some

696
00:24:05,309 --> 00:24:07,200
files for example I do not know an application

697
00:24:07,200 --> 00:24:08,760
could be or my password

698
00:24:08,760 --> 00:24:11,159
manager within my file system

699
00:24:11,159 --> 00:24:13,019
I create an audi team rule that

700
00:24:13,019 --> 00:24:15,299
looks every time someone touches

701
00:24:15,299 --> 00:24:17,519
it read-only copies it turns it the file

702
00:24:17,519 --> 00:24:19,110
had to the database of my password

703
00:24:19,110 --> 00:24:21,120
access manager I can create an

704
00:24:21,120 --> 00:24:22,320
audi 10 rule one written on the log

705
00:24:22,320 --> 00:24:24,870
quietly or any

706
00:24:24,870 --> 00:24:26,730
arbitrary cisco then  it occurs to me that

707
00:24:26,730 --> 00:24:28,440
there is a drain also for reasons of the

708
00:24:28,440 --> 00:24:30,779
bug the want to monitor they write on the

709
00:24:30,779 --> 00:24:32,639
I write on the audit rules

710
00:24:32,639 --> 00:24:35,539
and this I wrote them on the long

711
00:24:35,539 --> 00:24:37,590
security this comes directly from

712
00:24:37,590 --> 00:24:38,820
the rella site so this is a

713
00:24:38,820 --> 00:24:40,710
diagram that does  see how it

714
00:24:40,710 --> 00:24:42,029
actually works at the city then the

715
00:24:42,029 --> 00:24:43,500
application makes my call

716
00:24:43,500 --> 00:24:45,659
the system clearly goes to the

717
00:24:45,659 --> 00:24:48,179
kernel level or three filters which are user pockets

718
00:24:48,179 --> 00:24:51,480
and exits which are the filters and which

719
00:24:51,480 --> 00:24:53,190
we say monitor at what point I am in the

720
00:24:53,190 --> 00:24:55,500
easystel assist and  goal then or user

721
00:24:55,500 --> 00:24:57,990
who makes the system call task which

722
00:24:57,990 --> 00:25:00,210
heads I wanted to do exit or the result to

723
00:25:00,210 --> 00:25:01,470
lauro the night of what happened

724
00:25:01,470 --> 00:25:02,400
that system call

725
00:25:02,400 --> 00:25:04,050
then all of these  filters here

726
00:25:04,050 --> 00:25:05,880
point to a fibroscan ex club believes

727
00:25:05,880 --> 00:25:07,230
in the possibility of eliminating what

728
00:25:07,230 --> 00:25:09,000
I don't want to hear and he is turned over to the

729
00:25:09,000 --> 00:25:10,710
audit demon which is called v disc

730
00:25:10,710 --> 00:25:14,670
audit dispatcher drink them once

731
00:25:14,670 --> 00:25:16,140
all these logos are

732
00:25:16,140 --> 00:25:17,940
written on log point audits I can

733
00:25:17,940 --> 00:25:19,980
use  a culex calls a search and

734
00:25:19,980 --> 00:25:21,390
on the wrist use grep that has the

735
00:25:21,390 --> 00:25:23,670
possibility to search for example for

736
00:25:23,670 --> 00:25:25,080
a topic and here I had done this morning

737
00:25:25,080 --> 00:25:27,000
on my machine to be there at least

738
00:25:27,000 --> 00:25:29,310
topical b yes I wanted to see if something

739
00:25:29,310 --> 00:25:31,770
had been blocked by itself linux and I

740
00:25:31,770 --> 00:25:33,570
found on the research and development server

741
00:25:33,570 --> 00:25:36,150
that as you can see there is a con context

742
00:25:36,150 --> 00:25:40,290
phantom js2 11 tried to work

743
00:25:40,290 --> 00:25:42,840
as http di works as type in

744
00:25:42,840 --> 00:25:45,510
bold type http di gave you to touch

745
00:25:45,510 --> 00:25:49,140
a file that fans you since htd tdt

746
00:25:49,140 --> 00:25:51,330
cannot store fans  theoretically the

747
00:25:51,330 --> 00:25:52,980
result will have been the night

748
00:25:52,980 --> 00:25:54,990
but I see that there is flag and permissive 1

749
00:25:54,990 --> 00:25:56,160
this is passed the same but it has been

750
00:25:56,160 --> 00:25:58,050
logged in so if I use it now it said

751
00:25:58,050 --> 00:26:01,020
allow it will be able to update the  to my

752
00:26:01,020 --> 00:26:04,830
http policy of to use the fans files of

753
00:26:04,830 --> 00:26:06,780
a report instead of creating a report where it

754
00:26:06,780 --> 00:26:08,880
gives you sufficient summary how many things

755
00:26:08,880 --> 00:26:10,710
were blocked today how many

756
00:26:10,710 --> 00:26:12,840
access attempts went wrong

757
00:26:12,840 --> 00:26:14,460
so if you do a nice scripting

758
00:26:14,460 --> 00:26:16,470
ron that every day  he turns you to a report

759
00:26:16,470 --> 00:26:18,150
and sends it via email

760
00:26:18,150 --> 00:26:19,620
you have a nice summary of what

761
00:26:19,620 --> 00:26:21,750
happened that day this for

762
00:26:21,750 --> 00:26:23,370
example are my audit rules that I

763
00:26:23,370 --> 00:26:25,140
normally use on hans ball

764
00:26:25,140 --> 00:26:26,490
when I deploy a virtual machine

765
00:26:26,490 --> 00:26:28,250


766
00:26:28,250 --> 00:26:29,600
clearly then shows you  a bit the

767
00:26:29,600 --> 00:26:31,010
structure like but the interesting thing

768
00:26:31,010 --> 00:26:34,190
to see is for example this part here

769
00:26:34,190 --> 00:26:36,380
where I have of configuration that jazz

770
00:26:36,380 --> 00:26:38,630
man uv this is the less right

771
00:26:38,630 --> 00:26:41,240
just for less watch looks a certain

772
00:26:41,240 --> 00:26:42,920
north every time that node is

773
00:26:42,920 --> 00:26:45,260
touched you create a rule for me  you create me a

774
00:26:45,260 --> 00:26:49,610
liga a log line with less k is the

775
00:26:49,610 --> 00:26:51,350
lei ball that I want to give them and then

776
00:26:51,350 --> 00:26:52,490
when I create a topic

777
00:26:52,490 --> 00:26:54,050
I could create the topic and that says

778
00:26:54,050 --> 00:26:56,060
control and makes me the step to  manager

779
00:26:56,060 --> 00:26:57,920
topic password manager that I can

780
00:26:57,920 --> 00:26:59,630
go and see this by wanting for

781
00:26:59,630 --> 00:27:00,890
example one of the things I do

782
00:27:00,890 --> 00:27:03,830
because I am obliged to create the

783
00:27:03,830 --> 00:27:06,620
topic abuse of power no power abuse that

784
00:27:06,620 --> 00:27:09,200
every time the root user

785
00:27:09,200 --> 00:27:11,300
fetches things that are not  root and

786
00:27:11,300 --> 00:27:12,650
then that case I can create a watch

787
00:27:12,650 --> 00:27:14,330
that says I check

788
00:27:14,330 --> 00:27:16,370
everything in slash home that is not does not

789
00:27:16,370 --> 00:27:17,990
belong to the root user theme that

790
00:27:17,990 --> 00:27:20,660
touches routh that allowed him to do it

791
00:27:20,660 --> 00:27:22,760
but at least on my audit locksley audit

792
00:27:22,760 --> 00:27:23,450
trail

793
00:27:23,450 --> 00:27:25,130
I know  that erupts touched that stuff there

794
00:27:25,130 --> 00:27:27,830
that the so-called loggers of the

795
00:27:27,830 --> 00:27:31,760
system administrators soon I have

796
00:27:31,760 --> 00:27:33,140
n't had time yet I will put on the tab

797
00:27:33,140 --> 00:27:35,120
the copy of mine of my al dt file

798
00:27:35,120 --> 00:27:40,520
are about 150 lines that define

799
00:27:40,520 --> 00:27:42,020
various areas of the system that in my opinion  it makes

800
00:27:42,020 --> 00:27:43,880
sense to monitor well not only

801
00:27:43,880 --> 00:27:45,260
in my opinion but also according to these

802
00:27:45,260 --> 00:27:47,570
profiles and these compliant that both the

803
00:27:47,570 --> 00:27:50,060
ssd spam stick are all the series of

804
00:27:50,060 --> 00:27:51,950
things that they tell you they do not tell you I do not

805
00:27:51,950 --> 00:27:54,020
write to you in the  rule they tell you to

806
00:27:54,020 --> 00:27:55,640
do things right you should check

807
00:27:55,640 --> 00:27:58,370
this thing i took this you should

808
00:27:58,370 --> 00:27:59,990
do this thing and translated it into an

809
00:27:59,990 --> 00:28:05,240
audi rule so just to do

810
00:28:05,240 --> 00:28:06,800
another say assumed no often in the

811
00:28:06,800 --> 00:28:08,210
instructions when we go install a

812
00:28:08,210 --> 00:28:09,740
new program  nova and in the

813
00:28:09,740 --> 00:28:12,740
program instruction we find in the extractions say

814
00:28:12,740 --> 00:28:14,840
disable selinux disabled classic selinux

815
00:28:14,840 --> 00:28:15,710


816
00:28:15,710 --> 00:28:17,150
that is you intervention that is disable selinux

817
00:28:17,150 --> 00:28:19,460
then the speech is do not disable

818
00:28:19,460 --> 00:28:21,020
selinux because otherwise you lose yourself

819
00:28:21,020 --> 00:28:23,810
security context you have alternatives

820
00:28:23,810 --> 00:28:25,790
the first is to say ok the os and

821
00:28:25,790 --> 00:28:27,740
linux are you mode  in forcing target and

822
00:28:27,740 --> 00:28:29,900
but I put only a certain type in for missing

823
00:28:29,900 --> 00:28:33,650
here I use yes manager which is a tool

824
00:28:33,650 --> 00:28:35,490
in the userland stop for

825
00:28:35,490 --> 00:28:37,700
let's say manage selinux

826
00:28:37,700 --> 00:28:42,240
permissive less the name dt and

827
00:28:42,240 --> 00:28:43,830
missile mode I start my nen of

828
00:28:43,830 --> 00:28:46,320
you regenerate all of them  my my

829
00:28:46,320 --> 00:28:49,470
audit exceptions in my

830
00:28:49,470 --> 00:28:52,110
blog out I dictate

831
00:28:52,110 --> 00:28:54,330
my profile their c  task I remove and put it

832
00:28:54,330 --> 00:28:56,340
back in forcing mode or if

833
00:28:56,340 --> 00:28:58,320
you really do not want to have selinux

834
00:28:58,320 --> 00:28:59,850
target mode and therefore

835
00:28:59,850 --> 00:29:02,280
forcing mode you can put in permissive

836
00:29:02,280 --> 00:29:04,470
model a global way but at least 20

837
00:29:04,470 --> 00:29:06,480
security content because it is securid

838
00:29:06,480 --> 00:29:08,390
contest that these are the beautiful ones that I

839
00:29:08,390 --> 00:29:10,080
inside  of the file system

840
00:29:10,080 --> 00:29:13,110
if selinux is disabled at boot

841
00:29:13,110 --> 00:29:14,550
these rules are not applied and therefore I

842
00:29:14,550 --> 00:29:16,230
do not stop auditing because I lose

843
00:29:16,230 --> 00:29:19,020
context, note that if at some

844
00:29:19,020 --> 00:29:22,110
point someone is able to mount the

845
00:29:22,110 --> 00:29:24,750
file system by putting a flag that

846
00:29:24,750 --> 00:29:26,309
tells him not to mount security  context

847
00:29:26,309 --> 00:29:28,110
selinus no longer works so there are

848
00:29:28,110 --> 00:29:30,090
many things that must be evaluated then at

849
00:29:30,090 --> 00:29:31,410
the security level here it is not the silver

850
00:29:31,410 --> 00:29:33,530
bullet the rules and linux are in place

851
00:29:33,530 --> 00:29:36,210
so for compliance once you

852
00:29:36,210 --> 00:29:37,920
have set up others you will have the

853
00:29:37,920 --> 00:29:39,840
requirement to say and this  it is something

854
00:29:39,840 --> 00:29:41,309
they also write about the Italian rules

855
00:29:41,309 --> 00:29:44,520
when you do compliance all the

856
00:29:44,520 --> 00:29:45,929
audi team events you generate on the

857
00:29:45,929 --> 00:29:48,210
system must v  go away immediately

858
00:29:48,210 --> 00:29:49,679
in the system you are checking

859
00:29:49,679 --> 00:29:51,330
because otherwise you do not know compliant

860
00:29:51,330 --> 00:29:52,950
then here is an open debate

861
00:29:52,950 --> 00:29:55,980
why many use r syslog a whole

862
00:29:55,980 --> 00:29:57,630
series of things but if I use they

863
00:29:57,630 --> 00:29:59,220
resist talking to watch or file

864
00:29:59,220 --> 00:30:01,110
bit forever its does a lot  fashion or

865
00:30:01,110 --> 00:30:02,940
audit bit that does nothing but

866
00:30:02,940 --> 00:30:04,320
take a cache of about thirty

867
00:30:04,320 --> 00:30:06,120
configurable lines and every time you

868
00:30:06,120 --> 00:30:08,040
arrive 3 reaches 30 lines the snatch

869
00:30:08,040 --> 00:30:10,590
sends it to the system create motion this

870
00:30:10,590 --> 00:30:13,170
according to various people is not compliance

871
00:30:13,170 --> 00:30:15,090
so to do it it should be comes

872
00:30:15,090 --> 00:30:16,620
generated this goes away immediately in the

873
00:30:16,620 --> 00:30:18,780
system fortunately auditi without

874
00:30:18,780 --> 00:30:21,090
becoming anything again has already built in a

875
00:30:21,090 --> 00:30:23,370
function that gives the possibility to

876
00:30:23,370 --> 00:30:25,980
directly send the data that are

877
00:30:25,980 --> 00:30:27,390
generic to the events they have generated

878
00:30:27,390 --> 00:30:29,100
to a remote server to be enabled very

879
00:30:29,100 --> 00:30:31,110
easy for a server to help

880
00:30:31,110 --> 00:30:32,580
any  that the

881
00:30:32,580 --> 00:30:36,380
normal car trifle or audacious audits with

882
00:30:36,380 --> 00:30:39,480
similar methods if import 60 this year

883
00:30:39,480 --> 00:30:43,470
recorded declines where  it

884
00:30:43,470 --> 00:30:45,210
automatically listens to it accepts

885
00:30:45,210 --> 00:30:47,250
audi events from other hosts that point it

886
00:30:47,250 --> 00:30:49,740
to the client I say remote server from the ipi

887
00:30:49,740 --> 00:30:53,610
port 60 that's it as soon as an

888
00:30:53,610 --> 00:30:55,260
event is written to the file system it

889
00:30:55,260 --> 00:31:00,330
is also sent we have neither remote the

890
00:31:00,330 --> 00:31:01,890
little advice that you  I give the format

891
00:31:01,890 --> 00:31:04,020
enriched this is an option on the client

892
00:31:04,020 --> 00:31:06,570
that says since the raw logs

893
00:31:06,570 --> 00:31:08,910
simply contain you and ipad i of the

894
00:31:08,910 --> 00:31:11,160
local processes of that machine if I

895
00:31:11,160 --> 00:31:12,960
am centralizing on how far I lose

896
00:31:12,960 --> 00:31:14,700
the context of what was the process that

897
00:31:14,700 --> 00:31:15,450
ran with  that pit

898
00:31:15,450 --> 00:31:18,300
if I do yoga format enriched in addition

899
00:31:18,300 --> 00:31:19,740
to sending me text files with him you and

900
00:31:19,740 --> 00:31:21,750
i di and the prof seats also writes me

901
00:31:21,750 --> 00:31:23,100
who the user was with the reason so

902
00:31:23,100 --> 00:31:25,020
it enriches me log of the context I

903
00:31:25,020 --> 00:31:26,610
need because otherwise it centralizes

904
00:31:26,610 --> 00:31:28,670
something that  then i can't read

905
00:31:28,670 --> 00:31:31,080
then i finished for time out i'm 32

906
00:31:31,080 --> 00:31:33,270
minutes what i recommend you read

907
00:31:33,270 --> 00:31:36,090
about there is this blog article by penta

908
00:31:36,090 --> 00:31:38,400
club blog point list of

909
00:31:38,400 --> 00:31:40,260
execs  ible with states see if you do not want to

910
00:31:40,260 --> 00:31:42,150
use selinus you can look for the lists

911
00:31:42,150 --> 00:31:43,620
of executables with united states and

912
00:31:43,620 --> 00:31:47,400
remove flag doc document of the

913
00:31:47,400 --> 00:31:48,900
fedora of the federal project then world

914
00:31:48,900 --> 00:31:52,140
rally on security enhanced linux on the

915
00:31:52,140 --> 00:31:54,780
part of konfine from not with find users

916
00:31:54,780 --> 00:31:56,340
that we have not talked about here  and then

917
00:31:56,340 --> 00:31:58,160
how to confine the user

918
00:31:58,160 --> 00:32:00,120
because we have seen type we have

919
00:32:00,120 --> 00:32:02,870
confined applications and files is

920
00:32:02,870 --> 00:32:06,090
practically the part of the red

921
00:32:06,090 --> 00:32:08,040
hat guide on audi team systems

922
00:32:08,040 --> 00:32:10,020
we have not talked about sac comp which is a

923
00:32:10,020 --> 00:32:12,990
docker security module many

924
00:32:12,990 --> 00:32:14,280
sometimes not when they ask me but what is

925
00:32:14,280 --> 00:32:15,840
docker the worst answer you can

926
00:32:15,840 --> 00:32:17,940
give is make virtual machines 21 a

927
00:32:17,940 --> 00:32:20,610
virtual machine no game shares is

928
00:32:20,610 --> 00:32:22,290
a ming spacing system so you

929
00:32:22,290 --> 00:32:23,640
still share the space of the

930
00:32:23,640 --> 00:32:26,430
same spatial flesh and therefore if I use the

931
00:32:26,430 --> 00:32:29,430
dtc  like cinnamon I can use the same

932
00:32:29,430 --> 00:32:30,990
to outing even

933
00:32:30,990 --> 00:32:32,010
what happens inside containers

934
00:32:32,010 --> 00:32:33,690
very important

935
00:32:33,690 --> 00:32:35,160
the only thing I lose  however that I do not have

936
00:32:35,160 --> 00:32:37,680
yet and we hope that in the coming months

937
00:32:37,680 --> 00:32:40,410
they are inserted into the mainstream karner I do not

938
00:32:40,410 --> 00:32:42,090
have a context that tells me which

939
00:32:42,090 --> 00:32:43,920
container came with the event

940
00:32:43,920 --> 00:32:45,510
so I have all the context of the telesis

941
00:32:45,510 --> 00:32:47,100
goals but I do not know which is the container

942
00:32:47,100 --> 00:32:49,290
generated the  'event so I think

943
00:32:49,290 --> 00:32:51,030
it is resolved but a type

944
00:32:51,030 --> 00:32:52,770
container type of some

945
00:32:52,770 --> 00:32:56,040
kind is created shortly if you want to talk about yourself komsic

946
00:32:56,040 --> 00:32:57,870
comp is something you can see on

947
00:32:57,870 --> 00:32:59,490
this blog blog and jesse phrase because he

948
00:32:59,490 --> 00:33:01,470
doesn't know it google it is

949
00:33:01,470 --> 00:33:03,900
a'  authority in terms of docker and there

950
00:33:03,900 --> 00:33:05,190
are a series of profiles that you can

951
00:33:05,190 --> 00:33:07,020
apply in the same style of linus

952
00:33:07,020 --> 00:33:09,270
security modules to confine

953
00:33:09,270 --> 00:33:10,890
docker well because otherwise many say

954
00:33:10,890 --> 00:33:13,110
there is no problem or everything is

955
00:33:13,110 --> 00:33:14,910
used then there are the so-called

956
00:33:14,910 --> 00:33:16,650
container escape things that is  people who come out

957
00:33:16,650 --> 00:33:18,780
of container confinements because they

958
00:33:18,780 --> 00:33:20,490
still gave them a container that

959
00:33:20,490 --> 00:33:22,260
can touch files on the file system because

960
00:33:22,260 --> 00:33:23,940
they had to map something and not to the

961
00:33:23,940 --> 00:33:24,960
confines  or root privileges

962
00:33:24,960 --> 00:33:26,490
inside that container

963
00:33:26,490 --> 00:33:28,590
here are ways to also confine neither

964
00:33:28,590 --> 00:33:31,090
with you nor thanks I'm done

965
00:33:31,090 --> 00:33:36,919
[Applause]

