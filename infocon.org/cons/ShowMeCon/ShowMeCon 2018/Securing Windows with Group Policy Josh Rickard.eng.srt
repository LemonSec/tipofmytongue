1
00:00:01,909 --> 00:00:11,690
so welcome<font color="#CCCCCC"> y'all having fun</font>

2
00:00:05,060 --> 00:00:15,739
<font color="#CCCCCC">whoo come</font><font color="#E5E5E5"> on yeah</font>

3
00:00:11,690 --> 00:00:18,330
[Applause]

4
00:00:15,740 --> 00:00:22,590
so today we're gonna<font color="#E5E5E5"> talk about securing</font>

5
00:00:18,330 --> 00:00:27,778
<font color="#E5E5E5">windows with group policy this</font><font color="#CCCCCC"> is me</font>

6
00:00:22,590 --> 00:00:30,720
<font color="#E5E5E5">that's actually me a long time</font><font color="#CCCCCC"> ago I've</font>

7
00:00:27,779 --> 00:00:32,820
been<font color="#CCCCCC"> in IT for about seven years I have</font>

8
00:00:30,720 --> 00:00:35,460
<font color="#E5E5E5">a couple certs whatever doesn't really</font>

9
00:00:32,820 --> 00:00:37,340
matter<font color="#CCCCCC"> but my</font><font color="#E5E5E5"> focus has been Windows</font>

10
00:00:35,460 --> 00:00:41,059
security<font color="#E5E5E5"> digital forensics and</font>

11
00:00:37,340 --> 00:00:44,789
PowerShell<font color="#CCCCCC"> and lately python automation</font>

12
00:00:41,059 --> 00:00:46,349
so I used to<font color="#E5E5E5"> work for the University of</font>

13
00:00:44,789 --> 00:00:50,520
<font color="#E5E5E5">Missouri doing</font><font color="#CCCCCC"> digital</font><font color="#E5E5E5"> forensic</font>

14
00:00:46,350 --> 00:00:52,050
forensics<font color="#E5E5E5"> and IT security and I had a</font>

15
00:00:50,520 --> 00:00:54,059
lot<font color="#CCCCCC"> of experience to</font><font color="#E5E5E5"> pulling software</font>

16
00:00:52,050 --> 00:00:56,399
<font color="#CCCCCC">before that and different organizations</font>

17
00:00:54,059 --> 00:00:58,649
<font color="#E5E5E5">so that</font><font color="#CCCCCC"> kind of</font><font color="#E5E5E5"> gives you</font><font color="#CCCCCC"> a little</font>

18
00:00:56,399 --> 00:01:03,059
little<font color="#CCCCCC"> background if you want to</font><font color="#E5E5E5"> ask</font>

19
00:00:58,649 --> 00:01:08,729
more I'll tell you but it's boring<font color="#E5E5E5"> who</font>

20
00:01:03,059 --> 00:01:09,979
here he uses<font color="#E5E5E5"> group policy okay</font><font color="#CCCCCC"> I guess I</font>

21
00:01:08,729 --> 00:01:14,750
should<font color="#CCCCCC"> have asked a different question</font>

22
00:01:09,979 --> 00:01:22,520
<font color="#E5E5E5">who here uses group policy every week</font>

23
00:01:14,750 --> 00:01:28,020
<font color="#E5E5E5">all right once a month once a year</font><font color="#CCCCCC"> okay</font>

24
00:01:22,520 --> 00:01:33,360
<font color="#CCCCCC">anyone</font><font color="#E5E5E5"> know this acronym LS do you it's</font>

25
00:01:28,020 --> 00:01:34,679
<font color="#E5E5E5">not the drug so in group policy oh I'm</font>

26
00:01:33,360 --> 00:01:36,509
just<font color="#E5E5E5"> gonna touch a little bit about the</font>

27
00:01:34,680 --> 00:01:38,070
<font color="#E5E5E5">actual ordering and processing of how</font>

28
00:01:36,509 --> 00:01:40,140
how it actually works so<font color="#E5E5E5"> we can get</font><font color="#CCCCCC"> a</font>

29
00:01:38,070 --> 00:01:44,490
little baseline<font color="#CCCCCC"> before</font><font color="#E5E5E5"> we dive into the</font>

30
00:01:40,140 --> 00:01:47,729
the weeds but LSD<font color="#CCCCCC"> ULS</font><font color="#E5E5E5"> do you stands for</font>

31
00:01:44,490 --> 00:01:51,210
local system domain<font color="#CCCCCC"> arm sorry</font>

32
00:01:47,729 --> 00:01:53,429
local site domain<font color="#CCCCCC"> oh you</font><font color="#E5E5E5"> and they're</font>

33
00:01:51,210 --> 00:01:56,399
just<font color="#CCCCCC"> different layers across a across</font>

34
00:01:53,430 --> 00:01:59,520
<font color="#E5E5E5">your domain in your infrastructure first</font>

35
00:01:56,399 --> 00:02:02,880
we'll take<font color="#E5E5E5"> a look</font><font color="#CCCCCC"> at local</font><font color="#E5E5E5"> it's chaos</font>

36
00:01:59,520 --> 00:02:04,979
<font color="#CCCCCC">right</font><font color="#E5E5E5"> this is your local system local</font>

37
00:02:02,880 --> 00:02:08,190
security<font color="#E5E5E5"> or local group policy you see</font>

38
00:02:04,979 --> 00:02:11,160
on Windows<font color="#E5E5E5"> 7 Windows XP</font><font color="#CCCCCC"> well kind of</font>

39
00:02:08,190 --> 00:02:13,500
<font color="#CCCCCC">serger suspect</font><font color="#E5E5E5"> 3 and you know Windows 10</font>

40
00:02:11,160 --> 00:02:15,270
<font color="#E5E5E5">and it's just you got unicorns</font>

41
00:02:13,500 --> 00:02:17,730
and pterodactyls everywhere it's<font color="#E5E5E5"> just</font>

42
00:02:15,270 --> 00:02:20,190
like complete chaos right<font color="#E5E5E5"> you don't</font>

43
00:02:17,730 --> 00:02:21,869
typically want<font color="#E5E5E5"> to manage every single</font>

44
00:02:20,190 --> 00:02:24,420
computer individually<font color="#E5E5E5"> right you don't</font><font color="#CCCCCC"> to</font>

45
00:02:21,870 --> 00:02:27,350
go up to<font color="#E5E5E5"> it and configure it here and</font>

46
00:02:24,420 --> 00:02:30,649
then go over<font color="#E5E5E5"> and configure</font><font color="#CCCCCC"> it here so</font>

47
00:02:27,350 --> 00:02:33,989
but<font color="#E5E5E5"> it is the first order of</font><font color="#CCCCCC"> processing</font>

48
00:02:30,650 --> 00:02:35,820
<font color="#E5E5E5">what I mean by</font><font color="#CCCCCC"> that is</font><font color="#E5E5E5"> that it</font><font color="#CCCCCC"> is old</font>

49
00:02:33,990 --> 00:02:37,500
well<font color="#E5E5E5"> just like every other group policy</font>

50
00:02:35,820 --> 00:02:40,709
out there is<font color="#CCCCCC"> its machine and user</font>

51
00:02:37,500 --> 00:02:44,730
specific<font color="#E5E5E5"> it's just free for all and it's</font>

52
00:02:40,710 --> 00:02:45,959
unmanaged<font color="#E5E5E5"> yeah you know it's on</font><font color="#CCCCCC"> you know</font>

53
00:02:44,730 --> 00:02:50,760
you're<font color="#E5E5E5"> not gonna be able to maintain it</font>

54
00:02:45,959 --> 00:02:53,910
in the long run<font color="#E5E5E5"> site anybody have</font>

55
00:02:50,760 --> 00:02:56,940
actually used<font color="#E5E5E5"> sites in their</font><font color="#CCCCCC"> 80</font><font color="#E5E5E5"> force</font>

56
00:02:53,910 --> 00:03:00,270
<font color="#CCCCCC">okay cool I've actually</font><font color="#E5E5E5"> never come</font>

57
00:02:56,940 --> 00:03:02,459
across<font color="#E5E5E5"> that but I know what it is</font><font color="#CCCCCC"> a site</font>

58
00:03:00,270 --> 00:03:05,490
<font color="#CCCCCC">in this kind of example</font><font color="#E5E5E5"> is really a</font>

59
00:03:02,459 --> 00:03:07,740
geographic location<font color="#CCCCCC"> or a network</font>

60
00:03:05,490 --> 00:03:12,209
<font color="#E5E5E5">segmentation</font><font color="#CCCCCC"> you know you can have</font>

61
00:03:07,740 --> 00:03:13,530
certain<font color="#E5E5E5"> flesh</font><font color="#CCCCCC"> 16s or whatever it is in</font>

62
00:03:12,209 --> 00:03:15,780
your<font color="#CCCCCC"> network that</font><font color="#E5E5E5"> that's usually</font>

63
00:03:13,530 --> 00:03:17,730
organized and in<font color="#E5E5E5"> this analogy and these</font>

64
00:03:15,780 --> 00:03:20,850
analogies<font color="#CCCCCC"> are go</font><font color="#E5E5E5"> forward</font><font color="#CCCCCC"> I consider that</font>

65
00:03:17,730 --> 00:03:23,518
<font color="#E5E5E5">if you look at the global scope of the</font>

66
00:03:20,850 --> 00:03:24,989
world<font color="#E5E5E5"> each</font><font color="#CCCCCC"> country</font><font color="#E5E5E5"> is considered kind of</font>

67
00:03:23,519 --> 00:03:28,769
a site right it's it's based on

68
00:03:24,989 --> 00:03:32,550
boundaries laws everything<font color="#E5E5E5"> else so a</font>

69
00:03:28,769 --> 00:03:34,590
site<font color="#E5E5E5"> based group policy is useful but it</font>

70
00:03:32,550 --> 00:03:37,470
really<font color="#E5E5E5"> kind of makes up of multiple you</font>

71
00:03:34,590 --> 00:03:39,450
know<font color="#E5E5E5"> domain controllers in in that site</font>

72
00:03:37,470 --> 00:03:41,940
<font color="#E5E5E5">or that location so if you're globally</font>

73
00:03:39,450 --> 00:03:43,920
distributed<font color="#E5E5E5"> you're you're probably you</font>

74
00:03:41,940 --> 00:03:46,049
know have a different sites for United

75
00:03:43,920 --> 00:03:47,700
States<font color="#CCCCCC"> for Europe or you know China</font>

76
00:03:46,049 --> 00:03:50,910
<font color="#E5E5E5">wherever</font><font color="#CCCCCC"> it</font><font color="#E5E5E5"> is you're gonna have</font>

77
00:03:47,700 --> 00:03:53,459
different sites again I<font color="#E5E5E5"> don't</font><font color="#CCCCCC"> see this</font><font color="#E5E5E5"> a</font>

78
00:03:50,910 --> 00:03:55,200
lot but if you do have experience<font color="#E5E5E5"> it's</font>

79
00:03:53,459 --> 00:03:58,290
<font color="#E5E5E5">really just so I'll apply group policy</font>

80
00:03:55,200 --> 00:04:05,100
and across your multiple<font color="#CCCCCC"> different zones</font>

81
00:03:58,290 --> 00:04:07,829
in your organization domain<font color="#E5E5E5"> so if we</font>

82
00:04:05,100 --> 00:04:09,390
take the scope of a single site<font color="#E5E5E5"> kind of</font>

83
00:04:07,830 --> 00:04:13,380
out of<font color="#E5E5E5"> the equation here we actually</font>

84
00:04:09,390 --> 00:04:16,738
have individual sites or domains within

85
00:04:13,380 --> 00:04:20,159
a country<font color="#E5E5E5"> let's just say for</font><font color="#CCCCCC"> the US each</font>

86
00:04:16,738 --> 00:04:23,760
individual<font color="#E5E5E5"> 50 state is an actual domain</font>

87
00:04:20,160 --> 00:04:26,810
that<font color="#E5E5E5"> that we have and we apply site</font>

88
00:04:23,760 --> 00:04:29,360
based domains or policies<font color="#CCCCCC"> vary</font>

89
00:04:26,810 --> 00:04:31,070
across that that impact all<font color="#CCCCCC"> of those</font>

90
00:04:29,360 --> 00:04:35,270
organization or all those<font color="#E5E5E5"> domains right</font>

91
00:04:31,070 --> 00:04:38,000
in in that<font color="#E5E5E5"> site so a domain you know I</font>

92
00:04:35,270 --> 00:04:41,359
consider that a federal law you can't

93
00:04:38,000 --> 00:04:42,560
kill people<font color="#CCCCCC"> gotta pay taxes you got you</font>

94
00:04:41,360 --> 00:04:44,120
know<font color="#E5E5E5"> you should vote you</font><font color="#CCCCCC"> have the right</font>

95
00:04:42,560 --> 00:04:46,160
to vote<font color="#E5E5E5"> right to bear arms whatever</font><font color="#CCCCCC"> it</font>

96
00:04:44,120 --> 00:04:49,570
is that those<font color="#CCCCCC"> are federal</font><font color="#E5E5E5"> you know laws</font>

97
00:04:46,160 --> 00:04:53,690
that we have<font color="#E5E5E5"> but each individual domain</font>

98
00:04:49,570 --> 00:04:55,580
<font color="#CCCCCC">actually has its own</font><font color="#E5E5E5"> laws right and so</font>

99
00:04:53,690 --> 00:04:57,889
<font color="#E5E5E5">group policy you can actually apply at</font>

100
00:04:55,580 --> 00:04:59,840
<font color="#CCCCCC">that entire</font><font color="#E5E5E5"> federal level or your site</font>

101
00:04:57,889 --> 00:05:02,120
level<font color="#E5E5E5"> across all your domains in your</font>

102
00:04:59,840 --> 00:05:04,159
<font color="#CCCCCC">Active Directory force</font><font color="#E5E5E5"> or you can</font>

103
00:05:02,120 --> 00:05:07,940
actually<font color="#E5E5E5"> apply different default domain</font>

104
00:05:04,160 --> 00:05:12,560
policy for each<font color="#E5E5E5"> state or domain in your</font>

105
00:05:07,940 --> 00:05:14,840
organization<font color="#E5E5E5"> Missouri</font><font color="#CCCCCC"> I'm from here born</font>

106
00:05:12,560 --> 00:05:17,300
and raised or not<font color="#E5E5E5"> st. Louis but in</font>

107
00:05:14,840 --> 00:05:20,030
Missouri<font color="#CCCCCC"> but</font><font color="#E5E5E5"> we have</font><font color="#CCCCCC"> different state we</font>

108
00:05:17,300 --> 00:05:24,979
have different state<font color="#CCCCCC"> laws right certain</font>

109
00:05:20,030 --> 00:05:26,809
tax rates<font color="#CCCCCC"> I don't know of any specific</font>

110
00:05:24,979 --> 00:05:29,180
<font color="#E5E5E5">ones but you know we have</font><font color="#CCCCCC"> different</font>

111
00:05:26,810 --> 00:05:32,240
state<font color="#CCCCCC"> laws</font><font color="#E5E5E5"> in our in our environment</font>

112
00:05:29,180 --> 00:05:33,770
<font color="#CCCCCC">that</font><font color="#E5E5E5"> we have to abide</font><font color="#CCCCCC"> by and those can</font>

113
00:05:32,240 --> 00:05:36,080
be<font color="#E5E5E5"> to consider that default domain</font>

114
00:05:33,770 --> 00:05:39,460
policy<font color="#E5E5E5"> or</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> default</font><font color="#CCCCCC"> domain controller</font>

115
00:05:36,080 --> 00:05:42,289
policy<font color="#E5E5E5"> that you have in</font><font color="#CCCCCC"> those domains</font>

116
00:05:39,460 --> 00:05:46,010
you can<font color="#CCCCCC"> also apply different group</font>

117
00:05:42,289 --> 00:05:49,099
policy objects in to individual who use

118
00:05:46,010 --> 00:05:50,960
and those<font color="#E5E5E5"> all use can be layered as deep</font>

119
00:05:49,100 --> 00:05:53,720
as<font color="#E5E5E5"> deep as you</font><font color="#CCCCCC"> want</font><font color="#E5E5E5"> depending on your</font>

120
00:05:50,960 --> 00:05:55,520
organization<font color="#CCCCCC"> so I can actually apply</font>

121
00:05:53,720 --> 00:05:57,020
group policy at<font color="#CCCCCC"> that domain</font><font color="#E5E5E5"> and it's</font>

122
00:05:55,520 --> 00:06:00,020
going<font color="#E5E5E5"> to affect</font><font color="#CCCCCC"> everything</font><font color="#E5E5E5"> underneath it</font>

123
00:05:57,020 --> 00:06:02,120
so if we look<font color="#E5E5E5"> at our example of counties</font>

124
00:06:00,020 --> 00:06:05,030
like Boone County<font color="#E5E5E5"> I'm I live in Columbia</font>

125
00:06:02,120 --> 00:06:07,370
<font color="#E5E5E5">Missouri so we have</font><font color="#CCCCCC"> different County</font>

126
00:06:05,030 --> 00:06:09,820
laws<font color="#E5E5E5"> that we</font><font color="#CCCCCC"> have</font><font color="#E5E5E5"> to abide by and they</font>

127
00:06:07,370 --> 00:06:13,250
<font color="#CCCCCC">only</font><font color="#E5E5E5"> apply to everything underneath us</font>

128
00:06:09,820 --> 00:06:15,680
<font color="#E5E5E5">nothing outside my Boone County laws is</font>

129
00:06:13,250 --> 00:06:19,250
<font color="#CCCCCC">not going to impact st. Louis County</font>

130
00:06:15,680 --> 00:06:22,940
<font color="#E5E5E5">unless they have the similar law but any</font>

131
00:06:19,250 --> 00:06:25,580
users or computers<font color="#E5E5E5"> or objects in that</font>

132
00:06:22,940 --> 00:06:28,070
realm of that<font color="#CCCCCC"> county</font><font color="#E5E5E5"> or that</font>

133
00:06:25,580 --> 00:06:30,890
organization<font color="#CCCCCC"> or unit all those rules</font>

134
00:06:28,070 --> 00:06:33,680
apply there are exceptions like<font color="#CCCCCC"> loopback</font>

135
00:06:30,890 --> 00:06:35,210
processing mode and blocking inheritance

136
00:06:33,680 --> 00:06:38,479
and all<font color="#E5E5E5"> these other</font><font color="#CCCCCC"> things that</font><font color="#E5E5E5"> we won't</font>

137
00:06:35,210 --> 00:06:40,638
<font color="#E5E5E5">go into but</font><font color="#CCCCCC"> for the basis of</font><font color="#E5E5E5"> group</font>

138
00:06:38,479 --> 00:06:42,889
policy<font color="#E5E5E5"> works you you can apply it</font>

139
00:06:40,639 --> 00:06:45,199
<font color="#E5E5E5">a federal</font><font color="#CCCCCC"> level you can apply it at your</font>

140
00:06:42,889 --> 00:06:47,060
domain<font color="#CCCCCC"> level and then you can apply it</font>

141
00:06:45,199 --> 00:06:50,150
<font color="#CCCCCC">to each</font><font color="#E5E5E5"> individual organizational unit</font>

142
00:06:47,060 --> 00:06:55,430
and it's only<font color="#CCCCCC"> gonna</font><font color="#E5E5E5"> affect objects or</font>

143
00:06:50,150 --> 00:06:59,138
devices<font color="#E5E5E5"> in</font><font color="#CCCCCC"> that container who here</font>

144
00:06:55,430 --> 00:07:03,080
actually has a homeowner's policy<font color="#E5E5E5"> or</font>

145
00:06:59,139 --> 00:07:05,930
<font color="#CCCCCC">association that they're a part of right</font>

146
00:07:03,080 --> 00:07:08,419
you pay I<font color="#E5E5E5"> don't know</font><font color="#CCCCCC"> two hundred bucks</font>

147
00:07:05,930 --> 00:07:11,779
and there's a lot<font color="#E5E5E5"> of rules</font><font color="#CCCCCC"> I don't have</font>

148
00:07:08,419 --> 00:07:14,180
one but you<font color="#CCCCCC"> know your hedges have to be</font>

149
00:07:11,779 --> 00:07:16,610
so high yeah you can't park on the

150
00:07:14,180 --> 00:07:18,560
street you can't put a trash in the

151
00:07:16,610 --> 00:07:20,539
front yard you<font color="#CCCCCC"> know whatever it is but</font>

152
00:07:18,560 --> 00:07:23,360
<font color="#E5E5E5">those policies only affect your street</font>

153
00:07:20,539 --> 00:07:25,430
<font color="#E5E5E5">or your neighborhood or your department</font>

154
00:07:23,360 --> 00:07:27,860
so we can break down<font color="#CCCCCC"> Oh use or</font>

155
00:07:25,430 --> 00:07:29,930
organizational units all the<font color="#CCCCCC"> way down to</font>

156
00:07:27,860 --> 00:07:31,729
the littlest possible object if you if

157
00:07:29,930 --> 00:07:33,949
you<font color="#E5E5E5"> choose to everything underneath</font>

158
00:07:31,729 --> 00:07:35,930
there<font color="#E5E5E5"> well actually it will only affect</font>

159
00:07:33,949 --> 00:07:39,680
<font color="#E5E5E5">it apply to those devices</font><font color="#CCCCCC"> in that</font>

160
00:07:35,930 --> 00:07:42,650
<font color="#CCCCCC">container or that structure we can</font><font color="#E5E5E5"> even</font>

161
00:07:39,680 --> 00:07:48,529
go down to our<font color="#E5E5E5"> house</font><font color="#CCCCCC"> I have rules in my</font>

162
00:07:42,650 --> 00:07:51,830
house<font color="#CCCCCC"> I don't want</font><font color="#E5E5E5"> a bet only kids do</font>

163
00:07:48,529 --> 00:07:53,810
<font color="#CCCCCC">get on my Wi-Fi after</font><font color="#E5E5E5"> nine</font><font color="#CCCCCC"> o'clock I can</font>

164
00:07:51,830 --> 00:07:55,909
block that so we can apply a group

165
00:07:53,810 --> 00:07:58,370
<font color="#E5E5E5">policy all the</font><font color="#CCCCCC"> way</font><font color="#E5E5E5"> down to to this level</font>

166
00:07:55,909 --> 00:08:02,210
<font color="#E5E5E5">even going further to individual rooms</font>

167
00:07:58,370 --> 00:08:05,839
<font color="#E5E5E5">like I had I had roommates when I was</font>

168
00:08:02,210 --> 00:08:07,460
younger<font color="#CCCCCC"> that we all bunch of guys lived</font>

169
00:08:05,839 --> 00:08:08,960
in a house and we put the lock on<font color="#CCCCCC"> the</font>

170
00:08:07,460 --> 00:08:11,839
refrigerator<font color="#CCCCCC"> because I didn't</font><font color="#E5E5E5"> want</font>

171
00:08:08,960 --> 00:08:13,310
anyone else<font color="#E5E5E5"> to</font><font color="#CCCCCC"> eat all my food so you</font>

172
00:08:11,839 --> 00:08:15,889
can actually<font color="#E5E5E5"> apply those individual</font>

173
00:08:13,310 --> 00:08:17,479
rules all<font color="#E5E5E5"> the way down to the green to</font>

174
00:08:15,889 --> 00:08:21,139
an individual level<font color="#E5E5E5"> or to a specific</font>

175
00:08:17,479 --> 00:08:30,889
person<font color="#E5E5E5"> or object in that organizational</font>

176
00:08:21,139 --> 00:08:33,260
unit<font color="#E5E5E5"> all right so group policy is really</font>

177
00:08:30,889 --> 00:08:35,329
a hierarchical structure that you can

178
00:08:33,260 --> 00:08:38,179
<font color="#E5E5E5">actually have computers</font><font color="#CCCCCC"> users objects</font>

179
00:08:35,328 --> 00:08:39,948
that you can apply laws<font color="#E5E5E5"> from any scope</font>

180
00:08:38,179 --> 00:08:43,939
but everything underneath it will apply

181
00:08:39,948 --> 00:08:46,609
or impact it there are some you<font color="#E5E5E5"> know</font>

182
00:08:43,940 --> 00:08:49,010
again exceptions like<font color="#CCCCCC"> password policy</font>

183
00:08:46,610 --> 00:08:51,829
<font color="#E5E5E5">you can only be applied once across your</font>

184
00:08:49,010 --> 00:08:53,769
domains<font color="#CCCCCC"> you know that there's there's</font>

185
00:08:51,829 --> 00:08:55,839
<font color="#E5E5E5">like 13 magic ones</font>

186
00:08:53,769 --> 00:08:59,350
<font color="#E5E5E5">that can only be applied once no</font><font color="#CCCCCC"> matter</font>

187
00:08:55,839 --> 00:09:01,420
where they're<font color="#CCCCCC"> at</font><font color="#E5E5E5"> but you also have to</font>

188
00:08:59,350 --> 00:09:04,300
<font color="#CCCCCC">think of okay this</font><font color="#E5E5E5"> object is in this</font>

189
00:09:01,420 --> 00:09:06,309
<font color="#CCCCCC">location then all of</font><font color="#E5E5E5"> these policies are</font>

190
00:09:04,300 --> 00:09:09,670
<font color="#CCCCCC">actually going</font><font color="#E5E5E5"> to impact it but they are</font>

191
00:09:06,309 --> 00:09:12,459
impacted in<font color="#E5E5E5"> a specific order</font><font color="#CCCCCC"> when you're</font>

192
00:09:09,670 --> 00:09:13,719
thinking<font color="#E5E5E5"> of an object the first</font><font color="#CCCCCC"> one</font><font color="#E5E5E5"> that</font>

193
00:09:12,459 --> 00:09:16,839
<font color="#E5E5E5">gets</font><font color="#CCCCCC"> applied in the group policy</font>

194
00:09:13,720 --> 00:09:19,600
ordering<font color="#E5E5E5"> is going to be the last to</font>

195
00:09:16,839 --> 00:09:21,699
impact it so it's always<font color="#E5E5E5"> going to be the</font>

196
00:09:19,600 --> 00:09:25,299
<font color="#E5E5E5">last one to apply</font><font color="#CCCCCC"> that's going to trump</font>

197
00:09:21,699 --> 00:09:29,679
<font color="#E5E5E5">everything</font><font color="#CCCCCC"> else in your policy except</font>

198
00:09:25,299 --> 00:09:33,009
for<font color="#E5E5E5"> those magic</font><font color="#CCCCCC"> 13 just a little</font>

199
00:09:29,679 --> 00:09:36,910
overview<font color="#CCCCCC"> of how LSD and group policy</font>

200
00:09:33,009 --> 00:09:41,920
typically works<font color="#E5E5E5"> so managing users let's</font>

201
00:09:36,910 --> 00:09:44,769
<font color="#E5E5E5">get to the fun</font><font color="#CCCCCC"> stuff so managing users</font>

202
00:09:41,920 --> 00:09:49,029
is fun right<font color="#E5E5E5"> well I have fun at it right</font>

203
00:09:44,769 --> 00:09:57,699
we love our users anyone here recognize

204
00:09:49,029 --> 00:09:59,759
any of<font color="#E5E5E5"> these accounts all right domain</font>

205
00:09:57,699 --> 00:10:03,189
administrators<font color="#E5E5E5"> domain controller</font>

206
00:09:59,759 --> 00:10:05,319
<font color="#CCCCCC">admitted schema admins print operators</font>

207
00:10:03,189 --> 00:10:07,629
whatever they<font color="#CCCCCC"> are</font><font color="#E5E5E5"> you know these</font><font color="#CCCCCC"> are</font>

208
00:10:05,319 --> 00:10:10,059
individual accounts or groups that that

209
00:10:07,629 --> 00:10:12,100
need to<font color="#E5E5E5"> be managed they cannot just be</font>

210
00:10:10,059 --> 00:10:13,509
floating out there individually and you

211
00:10:12,100 --> 00:10:16,089
could restrict<font color="#E5E5E5"> rights and you can</font>

212
00:10:13,509 --> 00:10:18,279
restrict permissions each individual one

213
00:10:16,089 --> 00:10:21,399
of these yes<font color="#E5E5E5"> may seem like a lot</font><font color="#CCCCCC"> of work</font>

214
00:10:18,279 --> 00:10:24,040
but you<font color="#CCCCCC"> need to protect</font><font color="#E5E5E5"> any of the ones</font>

215
00:10:21,399 --> 00:10:26,079
<font color="#E5E5E5">that you</font><font color="#CCCCCC"> really see ur domain admins</font>

216
00:10:24,040 --> 00:10:29,949
especially<font color="#E5E5E5"> Enterprise admins schema</font>

217
00:10:26,079 --> 00:10:36,040
admin server<font color="#E5E5E5"> opera operators even local</font>

218
00:10:29,949 --> 00:10:37,389
<font color="#E5E5E5">administrators so you can protect anyone</font>

219
00:10:36,040 --> 00:10:42,929
<font color="#E5E5E5">ever go to rallies I've never been to</font>

220
00:10:37,389 --> 00:10:42,929
rallies but guess they have Wi-Fi<font color="#E5E5E5"> right</font>

221
00:10:43,350 --> 00:10:49,629
<font color="#E5E5E5">so with with</font><font color="#CCCCCC"> group policy you can</font>

222
00:10:47,169 --> 00:10:52,989
<font color="#CCCCCC">actually</font><font color="#E5E5E5"> manage very specific user</font>

223
00:10:49,629 --> 00:10:55,720
actions or<font color="#CCCCCC"> user capabilities with</font><font color="#E5E5E5"> group</font>

224
00:10:52,989 --> 00:10:58,809
<font color="#CCCCCC">policy objects you you can tell who can</font>

225
00:10:55,720 --> 00:11:02,199
connect to what Wi-Fi<font color="#E5E5E5"> what can they do</font>

226
00:10:58,809 --> 00:11:04,240
what what<font color="#E5E5E5"> can they they</font><font color="#CCCCCC"> talk to you and</font>

227
00:11:02,199 --> 00:11:08,579
and what<font color="#CCCCCC"> devices they can</font><font color="#E5E5E5"> actually log</font>

228
00:11:04,240 --> 00:11:12,480
<font color="#E5E5E5">into it's great isn't it I love them</font>

229
00:11:08,579 --> 00:11:16,388
anyone ever heard<font color="#E5E5E5"> of restricted groups</font>

230
00:11:12,480 --> 00:11:19,810
<font color="#CCCCCC">all</font><font color="#E5E5E5"> right so you should</font><font color="#CCCCCC"> be</font><font color="#E5E5E5"> using these</font>

231
00:11:16,389 --> 00:11:21,399
<font color="#CCCCCC">restricting groups</font><font color="#E5E5E5"> let me tell you one</font>

232
00:11:19,810 --> 00:11:25,209
of<font color="#E5E5E5"> the biggest things imagine this</font>

233
00:11:21,399 --> 00:11:27,879
scenario<font color="#E5E5E5"> you have an attacker that has</font>

234
00:11:25,209 --> 00:11:30,279
well<font color="#E5E5E5"> you you have an IT admin that is a</font>

235
00:11:27,879 --> 00:11:33,100
domain admin or has privileged level

236
00:11:30,279 --> 00:11:35,860
accounts in<font color="#E5E5E5"> their organization and you</font>

237
00:11:33,100 --> 00:11:38,550
can actually let's say you go<font color="#CCCCCC"> and</font>

238
00:11:35,860 --> 00:11:42,730
corrupt a<font color="#CCCCCC"> computer's as a user's machine</font>

239
00:11:38,550 --> 00:11:45,189
and that machine<font color="#CCCCCC"> so happens</font><font color="#E5E5E5"> to just</font>

240
00:11:42,730 --> 00:11:49,600
install<font color="#E5E5E5"> a little piece of shell script</font>

241
00:11:45,189 --> 00:11:52,269
in there that that<font color="#CCCCCC"> will basically reuse</font>

242
00:11:49,600 --> 00:11:54,160
that<font color="#E5E5E5"> well let's say</font><font color="#CCCCCC"> that they get</font>

243
00:11:52,269 --> 00:11:56,850
compromised and Betty that's sitting

244
00:11:54,160 --> 00:11:58,959
there<font color="#E5E5E5"> says hey IT guy come over</font><font color="#CCCCCC"> here</font>

245
00:11:56,850 --> 00:12:00,430
something's weird going on<font color="#CCCCCC"> with my</font>

246
00:11:58,959 --> 00:12:04,329
computer<font color="#CCCCCC"> right</font>

247
00:12:00,430 --> 00:12:07,589
what<font color="#CCCCCC"> okay and you start typing in your</font>

248
00:12:04,329 --> 00:12:09,878
admin credentials and<font color="#E5E5E5"> and you log in and</font>

249
00:12:07,589 --> 00:12:12,639
<font color="#E5E5E5">but you don't know that they actually</font>

250
00:12:09,879 --> 00:12:15,459
set up a<font color="#CCCCCC"> login script for that profile</font>

251
00:12:12,639 --> 00:12:18,339
<font color="#E5E5E5">and now just created a brand new account</font>

252
00:12:15,459 --> 00:12:20,160
<font color="#E5E5E5">that can be put right into domain admins</font>

253
00:12:18,339 --> 00:12:26,439
or whatever<font color="#CCCCCC"> privilege account they want</font>

254
00:12:20,160 --> 00:12:30,219
pretty<font color="#CCCCCC"> easy you you</font><font color="#E5E5E5"> use the</font><font color="#CCCCCC"> old DCA as</font>

255
00:12:26,439 --> 00:12:31,839
<font color="#CCCCCC">VC</font><font color="#E5E5E5"> ACL tools you can use</font><font color="#CCCCCC"> custom scripts</font>

256
00:12:30,220 --> 00:12:33,430
but you know<font color="#CCCCCC"> whatever you want</font><font color="#E5E5E5"> VB</font>

257
00:12:31,839 --> 00:12:35,410
scripts<font color="#E5E5E5"> but you could actually create</font>

258
00:12:33,430 --> 00:12:38,500
different users and<font color="#CCCCCC"> inject them</font><font color="#E5E5E5"> into</font>

259
00:12:35,410 --> 00:12:40,269
<font color="#E5E5E5">those specific accounts that person</font>

260
00:12:38,500 --> 00:12:41,379
<font color="#CCCCCC">logged</font><font color="#E5E5E5"> in</font><font color="#CCCCCC"> or the IT administrator login</font>

261
00:12:40,269 --> 00:12:44,529
<font color="#E5E5E5">will never know</font>

262
00:12:41,379 --> 00:12:48,160
so with restricted groups every time

263
00:12:44,529 --> 00:12:50,559
<font color="#E5E5E5">Group Policy refreshes it will actually</font>

264
00:12:48,160 --> 00:12:53,889
<font color="#E5E5E5">kick that that user out completely and</font>

265
00:12:50,559 --> 00:12:55,180
<font color="#E5E5E5">and it's always going to be static so</font>

266
00:12:53,889 --> 00:12:57,459
right now you can<font color="#E5E5E5"> see that we have</font>

267
00:12:55,180 --> 00:13:01,540
administrator in another account<font color="#E5E5E5"> called</font>

268
00:12:57,459 --> 00:13:03,579
<font color="#CCCCCC">MS administrator and someone</font><font color="#E5E5E5"> just did</font>

269
00:13:01,540 --> 00:13:06,790
that that login script and<font color="#E5E5E5"> injected</font>

270
00:13:03,579 --> 00:13:09,579
malicious user in there how do you have

271
00:13:06,790 --> 00:13:12,309
logging alerting<font color="#CCCCCC"> set up</font><font color="#E5E5E5"> probably</font><font color="#CCCCCC"> most</font>

272
00:13:09,579 --> 00:13:15,849
don't some do which is great if you do

273
00:13:12,309 --> 00:13:18,850
but most people<font color="#CCCCCC"> probably</font><font color="#E5E5E5"> don't have</font><font color="#CCCCCC"> that</font>

274
00:13:15,850 --> 00:13:20,850
and now you have an initial<font color="#E5E5E5"> malicious</font>

275
00:13:18,850 --> 00:13:24,899
user that<font color="#E5E5E5"> has full access</font>

276
00:13:20,850 --> 00:13:26,699
your entire<font color="#E5E5E5"> domain by just to having</font><font color="#CCCCCC"> a</font>

277
00:13:24,899 --> 00:13:30,059
little<font color="#CCCCCC"> blog on script that they had</font>

278
00:13:26,699 --> 00:13:32,639
access<font color="#E5E5E5"> to a computer so with though with</font>

279
00:13:30,059 --> 00:13:34,439
restricted groups the next time it

280
00:13:32,639 --> 00:13:36,839
actually refreshes it will just

281
00:13:34,439 --> 00:13:38,339
repopulate<font color="#CCCCCC"> that group with the original</font>

282
00:13:36,839 --> 00:13:42,600
<font color="#E5E5E5">members and kick everyone else out</font>

283
00:13:38,339 --> 00:13:44,100
completely simple pretty<font color="#E5E5E5"> easy</font><font color="#CCCCCC"> you can do</font>

284
00:13:42,600 --> 00:13:45,660
this so all your groups<font color="#E5E5E5"> are all your</font>

285
00:13:44,100 --> 00:13:48,059
security<font color="#E5E5E5"> groups in your organization</font>

286
00:13:45,660 --> 00:13:50,459
might be tedious depending on how big

287
00:13:48,059 --> 00:13:52,469
they are but<font color="#E5E5E5"> for the for the high</font>

288
00:13:50,459 --> 00:13:55,589
privileged ones domain admins schema

289
00:13:52,470 --> 00:13:57,629
admins<font color="#E5E5E5"> all these all the other accounts</font>

290
00:13:55,589 --> 00:13:59,850
that<font color="#E5E5E5"> I mentioned you just</font><font color="#CCCCCC"> add specific</font>

291
00:13:57,629 --> 00:14:01,649
users or specific accounts into that

292
00:13:59,850 --> 00:14:03,779
group<font color="#E5E5E5"> and then lock that group policy</font>

293
00:14:01,649 --> 00:14:06,119
down so it can't be<font color="#E5E5E5"> edited and it can't</font>

294
00:14:03,779 --> 00:14:08,309
<font color="#E5E5E5">be modified only by a</font><font color="#CCCCCC"> specific</font>

295
00:14:06,119 --> 00:14:11,669
additional account that has no<font color="#E5E5E5"> other</font>

296
00:14:08,309 --> 00:14:14,699
privileges<font color="#E5E5E5"> except for to modify that and</font>

297
00:14:11,669 --> 00:14:15,209
keep<font color="#CCCCCC"> that password</font><font color="#E5E5E5"> very very long never</font>

298
00:14:14,699 --> 00:14:17,579
use it

299
00:14:15,209 --> 00:14:19,228
so with this restricted groups<font color="#CCCCCC"> there's</font>

300
00:14:17,579 --> 00:14:22,498
just one little<font color="#CCCCCC"> example where you</font><font color="#E5E5E5"> can</font>

301
00:14:19,229 --> 00:14:24,449
manage user rights and protect those

302
00:14:22,499 --> 00:14:34,499
highly sensitive accounts in your

303
00:14:24,449 --> 00:14:36,149
organization I<font color="#CCCCCC"> don't dab I don't I'm too</font>

304
00:14:34,499 --> 00:14:39,449
old for that<font color="#E5E5E5"> but I thought it was an</font>

305
00:14:36,149 --> 00:14:41,459
awesome<font color="#E5E5E5"> picture you know we have users</font>

306
00:14:39,449 --> 00:14:43,559
so we<font color="#E5E5E5"> talked about managing users now</font>

307
00:14:41,459 --> 00:14:51,138
let's talk about<font color="#E5E5E5"> actual managing user</font>

308
00:14:43,559 --> 00:14:54,509
rates when I've<font color="#E5E5E5"> only bought two homes</font>

309
00:14:51,139 --> 00:14:56,189
<font color="#E5E5E5">one and not not at the same time like I</font>

310
00:14:54,509 --> 00:14:58,589
don't<font color="#E5E5E5"> own two homes I'm saying</font>

311
00:14:56,189 --> 00:15:00,689
<font color="#CCCCCC">about the</font><font color="#E5E5E5"> room but the first thing that</font>

312
00:14:58,589 --> 00:15:02,189
<font color="#CCCCCC">I do when</font><font color="#E5E5E5"> I log in or would</font><font color="#CCCCCC"> I buy that</font>

313
00:15:00,689 --> 00:15:05,219
<font color="#CCCCCC">house I changed the locks I don't care</font>

314
00:15:02,189 --> 00:15:06,689
if the the the owner<font color="#E5E5E5"> just told me that</font>

315
00:15:05,220 --> 00:15:11,639
<font color="#CCCCCC">they put brand new locks I'm gonna</font>

316
00:15:06,689 --> 00:15:13,259
replace my locks<font color="#CCCCCC"> who else does that</font><font color="#E5E5E5"> yeah</font>

317
00:15:11,639 --> 00:15:15,449
<font color="#E5E5E5">seems</font><font color="#CCCCCC"> sensible</font><font color="#E5E5E5"> you just don't want</font>

318
00:15:13,259 --> 00:15:17,069
<font color="#E5E5E5">another person to come in later that</font>

319
00:15:15,449 --> 00:15:19,709
evening while<font color="#E5E5E5"> your stuffs moving in and</font>

320
00:15:17,069 --> 00:15:23,399
just oh I forgot<font color="#CCCCCC"> something</font><font color="#E5E5E5"> and take all</font>

321
00:15:19,709 --> 00:15:25,768
your<font color="#E5E5E5"> crap so you</font><font color="#CCCCCC"> you need to actually</font>

322
00:15:23,399 --> 00:15:27,779
you know<font color="#E5E5E5"> protect those accounts why</font><font color="#CCCCCC"> will</font>

323
00:15:25,769 --> 00:15:28,919
if you did that<font color="#E5E5E5"> for</font><font color="#CCCCCC"> your house do you</font><font color="#E5E5E5"> do</font>

324
00:15:27,779 --> 00:15:33,029
the same thing for your<font color="#E5E5E5"> Windows</font>

325
00:15:28,919 --> 00:15:34,769
<font color="#E5E5E5">operating systems meaning you just</font>

326
00:15:33,029 --> 00:15:39,089
<font color="#E5E5E5">install the base image and</font><font color="#CCCCCC"> know</font>

327
00:15:34,769 --> 00:15:41,850
configuration and<font color="#CCCCCC"> know nothing you</font>

328
00:15:39,089 --> 00:15:44,999
shouldn't you're automatically trusting

329
00:15:41,850 --> 00:15:47,429
<font color="#CCCCCC">that</font><font color="#E5E5E5"> Microsoft has configured</font><font color="#CCCCCC"> Windows</font>

330
00:15:44,999 --> 00:15:50,730
<font color="#E5E5E5">they actually be secure</font><font color="#CCCCCC"> and they</font><font color="#E5E5E5"> haven't</font>

331
00:15:47,429 --> 00:15:52,920
<font color="#CCCCCC">we all</font><font color="#E5E5E5"> know that we see that</font><font color="#CCCCCC"> weekly</font><font color="#E5E5E5"> so</font>

332
00:15:50,730 --> 00:15:55,110
when you when you you need<font color="#CCCCCC"> to actually</font>

333
00:15:52,920 --> 00:15:57,899
go in there and manage those individual

334
00:15:55,110 --> 00:16:02,160
user rights or individual groups in the

335
00:15:57,899 --> 00:16:05,009
in<font color="#E5E5E5"> that operating</font><font color="#CCCCCC"> system</font><font color="#E5E5E5"> these</font><font color="#CCCCCC"> are some</font>

336
00:16:02,160 --> 00:16:08,040
highly privileged accounts<font color="#CCCCCC"> I</font><font color="#E5E5E5"> will talk</font>

337
00:16:05,009 --> 00:16:13,170
about<font color="#E5E5E5"> act as part of the operating</font>

338
00:16:08,040 --> 00:16:16,019
<font color="#E5E5E5">system</font><font color="#CCCCCC"> so as a user when would a user</font>

339
00:16:13,170 --> 00:16:18,929
need to act as part<font color="#E5E5E5"> of the operating</font>

340
00:16:16,019 --> 00:16:20,999
system<font color="#CCCCCC"> like they're saying</font><font color="#E5E5E5"> I'm gonna</font>

341
00:16:18,929 --> 00:16:24,988
<font color="#CCCCCC">login</font><font color="#E5E5E5"> and I need to do something but I'm</font>

342
00:16:20,999 --> 00:16:28,439
just<font color="#CCCCCC"> gonna act</font><font color="#E5E5E5"> like I'm the OS most</font>

343
00:16:24,989 --> 00:16:30,329
<font color="#E5E5E5">users don't at all so you need to get</font>

344
00:16:28,439 --> 00:16:31,889
them out<font color="#CCCCCC"> of this</font><font color="#E5E5E5"> these privileges</font>

345
00:16:30,329 --> 00:16:33,709
<font color="#E5E5E5">completely and you can do this all</font>

346
00:16:31,889 --> 00:16:38,160
through<font color="#CCCCCC"> group policy</font><font color="#E5E5E5"> through the local</font>

347
00:16:33,709 --> 00:16:40,079
local you user<font color="#E5E5E5"> rights assignments create</font>

348
00:16:38,160 --> 00:16:42,799
a token object anybody<font color="#E5E5E5"> know a token</font>

349
00:16:40,079 --> 00:16:45,029
object is a security<font color="#CCCCCC"> access token</font>

350
00:16:42,799 --> 00:16:48,480
<font color="#CCCCCC">alright we'll talk</font><font color="#E5E5E5"> about that on the</font>

351
00:16:45,029 --> 00:16:53,160
<font color="#E5E5E5">next slide debug programs</font><font color="#CCCCCC"> so this is</font>

352
00:16:48,480 --> 00:16:56,670
like the danger danger zone<font color="#E5E5E5"> almost I</font>

353
00:16:53,160 --> 00:16:59,009
don't<font color="#CCCCCC"> have any concrete numbers</font><font color="#E5E5E5"> but a</font>

354
00:16:56,670 --> 00:17:00,779
lot of the<font color="#CCCCCC"> malware that ICD uses this</font>

355
00:16:59,009 --> 00:17:02,939
privilege and they specifically<font color="#E5E5E5"> look for</font>

356
00:17:00,779 --> 00:17:06,270
<font color="#CCCCCC">this privilege the</font><font color="#E5E5E5"> only people that need</font>

357
00:17:02,939 --> 00:17:09,959
a debug<font color="#E5E5E5"> are your developers or maybe an</font>

358
00:17:06,270 --> 00:17:13,679
IT<font color="#E5E5E5"> person most users do not want to run</font>

359
00:17:09,959 --> 00:17:16,350
an<font color="#CCCCCC"> outlook and debug it like why would</font>

360
00:17:13,679 --> 00:17:18,720
you<font color="#CCCCCC"> ever</font><font color="#E5E5E5"> need to do that don't by</font>

361
00:17:16,349 --> 00:17:22,168
default all<font color="#CCCCCC"> of these permissions</font><font color="#E5E5E5"> that</font>

362
00:17:18,720 --> 00:17:24,319
you see here are on local or in an

363
00:17:22,169 --> 00:17:28,860
administrative group on<font color="#E5E5E5"> your machine</font>

364
00:17:24,319 --> 00:17:30,360
period so there's also other accounts

365
00:17:28,860 --> 00:17:32,428
like print operators<font color="#CCCCCC"> they have some of</font>

366
00:17:30,360 --> 00:17:34,289
these permissions or even<font color="#E5E5E5"> local service</font>

367
00:17:32,429 --> 00:17:36,240
or network<font color="#CCCCCC"> services or any of these</font>

368
00:17:34,289 --> 00:17:39,600
other accounts<font color="#E5E5E5"> actually</font><font color="#CCCCCC"> have</font><font color="#E5E5E5"> these</font>

369
00:17:36,240 --> 00:17:42,510
privileges so impersonate a client<font color="#CCCCCC"> after</font>

370
00:17:39,600 --> 00:17:45,120
the authentication<font color="#E5E5E5"> restore file</font><font color="#CCCCCC"> take</font>

371
00:17:42,510 --> 00:17:46,770
ownership<font color="#E5E5E5"> those users do not</font><font color="#CCCCCC"> need</font><font color="#E5E5E5"> to</font>

372
00:17:45,120 --> 00:17:49,100
<font color="#E5E5E5">have these permissions at all we can</font>

373
00:17:46,770 --> 00:17:49,100
remove them

374
00:17:49,160 --> 00:17:57,000
<font color="#E5E5E5">personate a client privilege so a sat is</font>

375
00:17:54,090 --> 00:18:01,889
a security access<font color="#E5E5E5"> token and it's</font><font color="#CCCCCC"> using</font>

376
00:17:57,000 --> 00:18:03,720
it in a<font color="#CCCCCC"> in its say a string that</font><font color="#E5E5E5"> that</font>

377
00:18:01,890 --> 00:18:06,450
allows you and tells<font color="#E5E5E5"> you what you have</font>

378
00:18:03,720 --> 00:18:11,370
<font color="#CCCCCC">access to and what you what you can read</font>

379
00:18:06,450 --> 00:18:13,590
<font color="#E5E5E5">right X you not deny rights to and so</font>

380
00:18:11,370 --> 00:18:16,290
with this privilege they can actually

381
00:18:13,590 --> 00:18:19,169
<font color="#CCCCCC">use that security</font><font color="#E5E5E5"> access token across</font>

382
00:18:16,290 --> 00:18:21,720
your network<font color="#E5E5E5"> so if an IT admin logs in</font>

383
00:18:19,170 --> 00:18:24,090
they can again grab that set and now

384
00:18:21,720 --> 00:18:27,150
they can log<font color="#CCCCCC"> into</font><font color="#E5E5E5"> other machines or grab</font>

385
00:18:24,090 --> 00:18:31,919
other permissions<font color="#E5E5E5"> and access things that</font>

386
00:18:27,150 --> 00:18:34,770
act that<font color="#CCCCCC"> ITV admin can can access so by</font>

387
00:18:31,920 --> 00:18:37,920
<font color="#E5E5E5">default</font><font color="#CCCCCC"> even if they are logging</font><font color="#E5E5E5"> on as a</font>

388
00:18:34,770 --> 00:18:40,379
local user on that on<font color="#CCCCCC"> that account or on</font>

389
00:18:37,920 --> 00:18:43,110
<font color="#E5E5E5">that computer</font><font color="#CCCCCC"> you need to remove it from</font>

390
00:18:40,380 --> 00:18:45,270
admins<font color="#E5E5E5"> and ask if they need that</font>

391
00:18:43,110 --> 00:18:48,090
then apply a specific<font color="#E5E5E5"> policy to that</font>

392
00:18:45,270 --> 00:18:51,920
<font color="#E5E5E5">machine</font><font color="#CCCCCC"> restrict it as much as</font><font color="#E5E5E5"> possible</font>

393
00:18:48,090 --> 00:18:55,230
<font color="#CCCCCC">a lot of them yeah they do the stokke</font>

394
00:18:51,920 --> 00:18:58,920
token<font color="#E5E5E5"> stealing and though user for</font>

395
00:18:55,230 --> 00:19:00,420
<font color="#E5E5E5">network authentication so at the bottom</font>

396
00:18:58,920 --> 00:19:02,190
it's kind<font color="#CCCCCC"> of a</font><font color="#E5E5E5"> little cut off so I</font>

397
00:19:00,420 --> 00:19:05,790
apologize<font color="#E5E5E5"> for that but these are</font><font color="#CCCCCC"> the</font>

398
00:19:02,190 --> 00:19:09,540
<font color="#CCCCCC">actual</font><font color="#E5E5E5"> win</font><font color="#CCCCCC"> API classes that that are</font>

399
00:19:05,790 --> 00:19:11,879
used when using this privilege so as he

400
00:19:09,540 --> 00:19:19,230
<font color="#E5E5E5">impersonate privilege as he create</font>

401
00:19:11,880 --> 00:19:22,320
global privileges<font color="#CCCCCC"> alright security</font>

402
00:19:19,230 --> 00:19:25,170
access<font color="#E5E5E5"> tokens it's really like the</font><font color="#CCCCCC"> GUI</font>

403
00:19:22,320 --> 00:19:28,020
<font color="#E5E5E5">ID that you see it's like</font><font color="#CCCCCC"> a big string</font>

404
00:19:25,170 --> 00:19:30,630
and it has the<font color="#E5E5E5"> actual user ID what</font>

405
00:19:28,020 --> 00:19:32,040
groups they belong<font color="#E5E5E5"> to what privileges</font>

406
00:19:30,630 --> 00:19:33,840
they have access<font color="#E5E5E5"> to and other</font>

407
00:19:32,040 --> 00:19:39,420
<font color="#E5E5E5">information but it's really all made up</font>

408
00:19:33,840 --> 00:19:41,010
of<font color="#E5E5E5"> these ACPs</font><font color="#CCCCCC"> the access I have</font><font color="#E5E5E5"> to look</font>

409
00:19:39,420 --> 00:19:42,480
at the name<font color="#CCCCCC"> there's so many acronyms</font>

410
00:19:41,010 --> 00:19:45,990
<font color="#E5E5E5">here so I apology</font>

411
00:19:42,480 --> 00:19:49,290
<font color="#CCCCCC">D ACLs that their access</font><font color="#E5E5E5"> discreet access</font>

412
00:19:45,990 --> 00:19:51,990
<font color="#E5E5E5">control this or these days a C's which</font>

413
00:19:49,290 --> 00:19:54,149
are<font color="#E5E5E5"> even lower level but it's really all</font>

414
00:19:51,990 --> 00:19:56,430
about a security<font color="#E5E5E5"> descriptor</font><font color="#CCCCCC"> that you</font>

415
00:19:54,150 --> 00:19:59,250
could actually<font color="#E5E5E5"> use to authenticate</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> a</font>

416
00:19:56,430 --> 00:20:00,610
specific<font color="#E5E5E5"> service or</font><font color="#CCCCCC"> login and do a</font>

417
00:19:59,250 --> 00:20:03,309
certain<font color="#CCCCCC"> action</font>

418
00:20:00,610 --> 00:20:06,219
by restricting<font color="#CCCCCC"> the ability to actually</font>

419
00:20:03,309 --> 00:20:09,668
impersonate these security access<font color="#E5E5E5"> tokens</font>

420
00:20:06,220 --> 00:20:13,900
<font color="#E5E5E5">we reduce our footprint quite a bit in</font>

421
00:20:09,669 --> 00:20:16,570
<font color="#E5E5E5">our organization here's an example it's</font>

422
00:20:13,900 --> 00:20:20,350
a little tool it's free<font color="#CCCCCC"> hundred percent</font>

423
00:20:16,570 --> 00:20:23,678
<font color="#E5E5E5">I downloaded it created this gif</font><font color="#CCCCCC"> I Jeff</font>

424
00:20:20,350 --> 00:20:26,649
Jeff<font color="#E5E5E5"> whatever you want to call it in</font>

425
00:20:23,679 --> 00:20:29,500
like five minutes<font color="#CCCCCC"> and it's called</font><font color="#E5E5E5"> in</font>

426
00:20:26,650 --> 00:20:30,820
<font color="#E5E5E5">code incognito</font><font color="#CCCCCC"> Exe</font><font color="#E5E5E5"> and I just say all</font>

427
00:20:29,500 --> 00:20:32,679
right<font color="#CCCCCC"> I</font><font color="#E5E5E5"> want to list all</font><font color="#CCCCCC"> my security</font>

428
00:20:30,820 --> 00:20:36,220
<font color="#CCCCCC">access tokens there yep</font>

429
00:20:32,679 --> 00:20:38,049
doc it's pretty straightforward

430
00:20:36,220 --> 00:20:40,120
that there's a<font color="#E5E5E5"> lot of tools out here</font>

431
00:20:38,049 --> 00:20:43,149
<font color="#E5E5E5">they can actually take that token and</font>

432
00:20:40,120 --> 00:20:45,129
use it to authenticate RDP<font color="#E5E5E5"> or you know</font>

433
00:20:43,149 --> 00:20:50,039
SSH whatever you want<font color="#E5E5E5"> across your</font>

434
00:20:45,130 --> 00:20:50,039
network<font color="#CCCCCC"> and</font><font color="#E5E5E5"> it's it's pretty easy to do</font>

435
00:20:51,419 --> 00:20:59,289
debug programs I'm going to<font color="#E5E5E5"> open this</font>

436
00:20:55,840 --> 00:21:05,470
might be<font color="#E5E5E5"> loud so</font><font color="#CCCCCC"> I apologize debug</font>

437
00:20:59,289 --> 00:21:12,309
programs<font color="#E5E5E5"> privilege anyone actually block</font>

438
00:21:05,470 --> 00:21:14,500
debug<font color="#E5E5E5"> from their</font><font color="#CCCCCC"> environment so it what</font>

439
00:21:12,309 --> 00:21:18,480
did what it allows you<font color="#E5E5E5"> to do is have</font>

440
00:21:14,500 --> 00:21:23,500
access to the kernel<font color="#E5E5E5"> as a user</font>

441
00:21:18,480 --> 00:21:26,370
why why why my yourself<font color="#CCCCCC"> why you should</font>

442
00:21:23,500 --> 00:21:29,529
never have access<font color="#E5E5E5"> to kernel level memory</font>

443
00:21:26,370 --> 00:21:32,289
<font color="#CCCCCC">in the operating systems level</font><font color="#E5E5E5"> memory in</font>

444
00:21:29,529 --> 00:21:34,029
<font color="#CCCCCC">your as a normal user like that I</font>

445
00:21:32,289 --> 00:21:36,580
understand it<font color="#CCCCCC"> for her for</font><font color="#E5E5E5"> developers I</font>

446
00:21:34,029 --> 00:21:39,820
understand it<font color="#E5E5E5"> for specific programs may</font>

447
00:21:36,580 --> 00:21:44,649
use this but those are bad programs and

448
00:21:39,820 --> 00:21:47,830
you shouldn't use<font color="#E5E5E5"> them but you can</font>

449
00:21:44,649 --> 00:21:50,260
interject a thread into any process and

450
00:21:47,830 --> 00:21:52,658
you can<font color="#CCCCCC"> actually import dll's</font><font color="#E5E5E5"> crack</font>

451
00:21:50,260 --> 00:21:55,029
hashes<font color="#E5E5E5"> whatever because you can</font><font color="#CCCCCC"> actually</font>

452
00:21:52,659 --> 00:21:58,539
access specific portions of memory<font color="#CCCCCC"> that</font>

453
00:21:55,029 --> 00:22:01,059
<font color="#CCCCCC">are supposed to</font><font color="#E5E5E5"> be protected and now now</font>

454
00:21:58,539 --> 00:22:10,010
you have complete<font color="#CCCCCC"> access to</font><font color="#E5E5E5"> any well</font>

455
00:22:01,059 --> 00:22:12,200
most kernel level<font color="#CCCCCC"> memory locations so</font>

456
00:22:10,010 --> 00:22:13,160
this is actually story by believe it was

457
00:22:12,200 --> 00:22:16,820
carbon black

458
00:22:13,160 --> 00:22:19,400
<font color="#E5E5E5">petia anyone ever heard of that yeah it</font>

459
00:22:16,820 --> 00:22:23,330
was a big news about about<font color="#E5E5E5"> a year</font><font color="#CCCCCC"> ago</font>

460
00:22:19,400 --> 00:22:25,580
<font color="#E5E5E5">now</font><font color="#CCCCCC"> but</font><font color="#E5E5E5"> they</font><font color="#CCCCCC"> actually had this you know</font>

461
00:22:23,330 --> 00:22:27,949
malware logic chain that they went

462
00:22:25,580 --> 00:22:29,330
through<font color="#CCCCCC"> this big white paper</font><font color="#E5E5E5"> and this is</font>

463
00:22:27,950 --> 00:22:32,270
<font color="#E5E5E5">just one example there's hundreds of</font>

464
00:22:29,330 --> 00:22:34,760
them<font color="#CCCCCC"> out there</font><font color="#E5E5E5"> but the first thing</font><font color="#CCCCCC"> that</font>

465
00:22:32,270 --> 00:22:36,889
malware does a a check for<font color="#E5E5E5"> se you shut</font>

466
00:22:34,760 --> 00:22:39,980
<font color="#E5E5E5">down so can the user restart the</font>

467
00:22:36,890 --> 00:22:42,140
computer<font color="#CCCCCC"> I don't even know why for that</font>

468
00:22:39,980 --> 00:22:46,640
but I'm<font color="#CCCCCC"> sure there's a reason</font><font color="#E5E5E5"> but then</font>

469
00:22:42,140 --> 00:22:48,380
they<font color="#E5E5E5"> I say</font><font color="#CCCCCC"> okay can</font><font color="#E5E5E5"> they be bug it's</font>

470
00:22:46,640 --> 00:22:51,170
like the first<font color="#E5E5E5"> thing</font><font color="#CCCCCC"> that they check</font>

471
00:22:48,380 --> 00:22:53,630
that<font color="#E5E5E5"> it's really really dangerous if you</font>

472
00:22:51,170 --> 00:22:56,750
remove<font color="#CCCCCC"> that then</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> malware has</font><font color="#E5E5E5"> to go</font>

473
00:22:53,630 --> 00:23:03,020
a more difficult route<font color="#CCCCCC"> 100% and almost</font>

474
00:22:56,750 --> 00:23:04,610
<font color="#CCCCCC">night he again I have</font><font color="#E5E5E5"> not seen</font><font color="#CCCCCC"> will</font><font color="#E5E5E5"> my</font>

475
00:23:03,020 --> 00:23:08,300
experience I<font color="#E5E5E5"> haven't seen a lot</font><font color="#CCCCCC"> of our</font>

476
00:23:04,610 --> 00:23:10,219
that<font color="#E5E5E5"> that</font><font color="#CCCCCC"> hasn't checked for sed but</font><font color="#E5E5E5"> I'm</font>

477
00:23:08,300 --> 00:23:13,040
sure there's some out<font color="#CCCCCC"> there I'm sure</font>

478
00:23:10,220 --> 00:23:15,320
it's out<font color="#E5E5E5"> there but yeah having the that</font>

479
00:23:13,040 --> 00:23:18,320
ability as well<font color="#CCCCCC"> as</font><font color="#E5E5E5"> taking taking</font>

480
00:23:15,320 --> 00:23:20,179
<font color="#E5E5E5">ownership of a process thank you again</font>

481
00:23:18,320 --> 00:23:23,060
<font color="#CCCCCC">your</font><font color="#E5E5E5"> your</font><font color="#CCCCCC"> your acting as</font><font color="#E5E5E5"> part of the</font>

482
00:23:20,180 --> 00:23:25,820
operating<font color="#CCCCCC"> system or your owning that</font>

483
00:23:23,060 --> 00:23:27,649
that process<font color="#E5E5E5"> so if you can remove those</font>

484
00:23:25,820 --> 00:23:30,409
two permissions you're probably going<font color="#CCCCCC"> to</font>

485
00:23:27,650 --> 00:23:32,570
<font color="#E5E5E5">stop a lot</font><font color="#CCCCCC"> of direct attacks in your</font>

486
00:23:30,410 --> 00:23:33,860
organization just<font color="#CCCCCC"> by removing those two</font>

487
00:23:32,570 --> 00:23:44,450
permissions that<font color="#E5E5E5"> we showed earlier</font>

488
00:23:33,860 --> 00:23:48,340
I knew<font color="#E5E5E5"> come on these are funny</font><font color="#CCCCCC"> I thought</font>

489
00:23:44,450 --> 00:23:51,320
they were funny so long gun rights

490
00:23:48,340 --> 00:23:56,899
anybody used any of these in their

491
00:23:51,320 --> 00:23:59,060
organization yeah like should<font color="#CCCCCC"> I as any</font>

492
00:23:56,900 --> 00:24:01,340
normal<font color="#CCCCCC"> user be able to RDP</font><font color="#E5E5E5"> it in any</font>

493
00:23:59,060 --> 00:24:04,129
<font color="#E5E5E5">computer in</font><font color="#CCCCCC"> your organization any server</font>

494
00:24:01,340 --> 00:24:07,540
<font color="#E5E5E5">any anything yeah you may have</font><font color="#CCCCCC"> Network</font>

495
00:24:04,130 --> 00:24:10,130
segmentation<font color="#CCCCCC"> you know good I hope these</font>

496
00:24:07,540 --> 00:24:13,909
<font color="#E5E5E5">VLANs whatever you want to use out there</font>

497
00:24:10,130 --> 00:24:15,800
<font color="#CCCCCC">but you should specifically</font><font color="#E5E5E5"> deny certain</font>

498
00:24:13,910 --> 00:24:19,040
privileges that<font color="#E5E5E5"> that people should do</font>

499
00:24:15,800 --> 00:24:21,940
and<font color="#E5E5E5"> only allow certain users to do their</font>

500
00:24:19,040 --> 00:24:23,690
specific action so deny as a service

501
00:24:21,940 --> 00:24:26,330
<font color="#E5E5E5">don't log</font>

502
00:24:23,690 --> 00:24:31,370
why why would someone<font color="#E5E5E5"> needed it an eye</font>

503
00:24:26,330 --> 00:24:32,840
or<font color="#E5E5E5"> to log on as a service yet</font><font color="#CCCCCC"> there</font>

504
00:24:31,370 --> 00:24:36,739
certain accounts<font color="#E5E5E5"> right</font>

505
00:24:32,840 --> 00:24:38,178
maybe<font color="#CCCCCC"> SEC M is one</font><font color="#E5E5E5"> you know there's</font>

506
00:24:36,740 --> 00:24:40,309
other<font color="#E5E5E5"> ones that are service accounts</font>

507
00:24:38,179 --> 00:24:43,460
<font color="#E5E5E5">that are in your ad that they may</font><font color="#CCCCCC"> have</font>

508
00:24:40,309 --> 00:24:46,309
<font color="#E5E5E5">to you know log in but that's one</font>

509
00:24:43,460 --> 00:24:50,059
specific thing<font color="#E5E5E5"> not everyone like I can</font>

510
00:24:46,309 --> 00:24:54,289
use your token<font color="#E5E5E5"> and</font><font color="#CCCCCC"> login as an IT admins</font>

511
00:24:50,059 --> 00:24:56,720
<font color="#E5E5E5">token and</font><font color="#CCCCCC"> login as a service it's</font>

512
00:24:54,289 --> 00:24:58,129
dangerous really<font color="#E5E5E5"> really dangerous but</font>

513
00:24:56,720 --> 00:25:01,429
<font color="#E5E5E5">you also want</font><font color="#CCCCCC"> to you know doesn't deny</font>

514
00:24:58,129 --> 00:25:04,549
RDP<font color="#CCCCCC"> you know and only allow certain</font>

515
00:25:01,429 --> 00:25:06,590
people<font color="#E5E5E5"> that need access not</font><font color="#CCCCCC"> just kind</font><font color="#E5E5E5"> of</font>

516
00:25:04,549 --> 00:25:08,750
blanket because<font color="#E5E5E5"> if</font><font color="#CCCCCC"> there or any sort of</font>

517
00:25:06,590 --> 00:25:10,519
administrator or in the RT remote

518
00:25:08,750 --> 00:25:13,460
desktop users group on their local

519
00:25:10,519 --> 00:25:14,899
<font color="#E5E5E5">machine they now can change those</font>

520
00:25:13,460 --> 00:25:17,000
settings<font color="#CCCCCC"> even though they may not be</font>

521
00:25:14,899 --> 00:25:22,969
<font color="#E5E5E5">admins they still may have those rights</font>

522
00:25:17,000 --> 00:25:27,139
<font color="#CCCCCC">so again this is under the a user rights</font>

523
00:25:22,970 --> 00:25:29,779
assignment<font color="#CCCCCC"> there's</font><font color="#E5E5E5"> I can't even remember</font>

524
00:25:27,139 --> 00:25:32,178
like<font color="#CCCCCC"> fifty or so different sorts</font><font color="#E5E5E5"> of</font>

525
00:25:29,779 --> 00:25:35,629
<font color="#E5E5E5">rights and Microsoft's</font><font color="#CCCCCC"> been really</font>

526
00:25:32,179 --> 00:25:38,929
<font color="#E5E5E5">awesome</font><font color="#CCCCCC"> but sure</font><font color="#E5E5E5"> you probably read these</font>

527
00:25:35,629 --> 00:25:42,080
explanation tabs or whatever they're

528
00:25:38,929 --> 00:25:45,139
very literal with every word and that

529
00:25:42,080 --> 00:25:47,149
<font color="#CCCCCC">explanation in and if you don't</font><font color="#E5E5E5"> find</font>

530
00:25:45,139 --> 00:25:47,508
enough<font color="#CCCCCC"> information Google</font><font color="#E5E5E5"> is</font><font color="#CCCCCC"> your best</font>

531
00:25:47,149 --> 00:25:49,399
<font color="#E5E5E5">friend</font>

532
00:25:47,509 --> 00:25:52,759
<font color="#E5E5E5">yeah there's tons of information on how</font>

533
00:25:49,399 --> 00:25:55,309
to<font color="#E5E5E5"> use these but for you know</font><font color="#CCCCCC"> allow</font><font color="#E5E5E5"> log</font>

534
00:25:52,759 --> 00:25:58,070
<font color="#E5E5E5">on you basically you can specify a</font>

535
00:25:55,309 --> 00:26:00,678
computer and a user that<font color="#E5E5E5"> can</font><font color="#CCCCCC"> login</font><font color="#E5E5E5"> to</font>

536
00:25:58,070 --> 00:26:03,049
<font color="#CCCCCC">that object</font><font color="#E5E5E5"> so apply it at whatever</font>

537
00:26:00,679 --> 00:26:05,750
level you<font color="#CCCCCC"> want do you</font><font color="#E5E5E5"> have your HR</font>

538
00:26:03,049 --> 00:26:08,059
department<font color="#CCCCCC"> if you have your finance</font>

539
00:26:05,750 --> 00:26:10,309
department and<font color="#E5E5E5"> only specific computers</font>

540
00:26:08,059 --> 00:26:11,600
should access apply it only at<font color="#E5E5E5"> that oh</font>

541
00:26:10,309 --> 00:26:14,178
you you don't<font color="#E5E5E5"> have</font><font color="#CCCCCC"> to apply</font><font color="#E5E5E5"> it across</font>

542
00:26:11,600 --> 00:26:16,699
<font color="#CCCCCC">your entire domain</font><font color="#E5E5E5"> you just apply it to</font>

543
00:26:14,179 --> 00:26:20,769
whatever objects are in that structure

544
00:26:16,700 --> 00:26:20,769
<font color="#E5E5E5">that you that you want it to apply to</font>

545
00:26:22,029 --> 00:26:33,340
again the local user groups

546
00:26:26,830 --> 00:26:36,340
anyone recognize any of<font color="#E5E5E5"> those no hands</font>

547
00:26:33,340 --> 00:26:38,709
remote desktop users again<font color="#E5E5E5"> these are all</font>

548
00:26:36,340 --> 00:26:44,559
local accounts on your<font color="#E5E5E5"> on</font><font color="#CCCCCC"> your operating</font>

549
00:26:38,710 --> 00:26:46,240
<font color="#E5E5E5">system by default you can replace even</font>

550
00:26:44,559 --> 00:26:48,399
though you're an<font color="#CCCCCC"> administrator on your</font>

551
00:26:46,240 --> 00:26:50,529
local<font color="#E5E5E5"> administrator on your machine</font><font color="#CCCCCC"> you</font>

552
00:26:48,399 --> 00:26:52,600
<font color="#E5E5E5">could actually go in</font><font color="#CCCCCC"> and say</font><font color="#E5E5E5"> ok but that</font>

553
00:26:50,529 --> 00:26:56,230
<font color="#E5E5E5">I'm gonna remove local administrator</font>

554
00:26:52,600 --> 00:26:59,230
from remote desktop users<font color="#E5E5E5"> so you're</font>

555
00:26:56,230 --> 00:27:03,120
still at admin technically but<font color="#E5E5E5"> you can't</font>

556
00:26:59,230 --> 00:27:07,269
RDP<font color="#E5E5E5"> you can't use network privileges</font>

557
00:27:03,120 --> 00:27:09,789
<font color="#E5E5E5">you can't</font><font color="#CCCCCC"> distributed</font><font color="#E5E5E5"> comm users there's</font>

558
00:27:07,269 --> 00:27:11,710
a whole<font color="#E5E5E5"> bunch of out there but so you</font>

559
00:27:09,789 --> 00:27:14,590
can restrict<font color="#E5E5E5"> those even local admins</font>

560
00:27:11,710 --> 00:27:18,100
down<font color="#CCCCCC"> to absolutely what they need to do</font>

561
00:27:14,590 --> 00:27:21,220
anyone ever use this local users and

562
00:27:18,100 --> 00:27:25,480
groups<font color="#E5E5E5"> well just like control panel</font>

563
00:27:21,220 --> 00:27:27,840
settings in<font color="#CCCCCC"> general</font><font color="#E5E5E5"> these yeah</font><font color="#CCCCCC"> so in the</font>

564
00:27:25,480 --> 00:27:32,590
action field there's update create

565
00:27:27,840 --> 00:27:34,539
delete<font color="#CCCCCC"> and replace I believe that you</font>

566
00:27:32,590 --> 00:27:36,970
can<font color="#E5E5E5"> do with all</font><font color="#CCCCCC"> of those local groups on</font>

567
00:27:34,539 --> 00:27:39,369
<font color="#E5E5E5">your entire workstation so you don't</font>

568
00:27:36,970 --> 00:27:43,570
have<font color="#E5E5E5"> to manage individual local groups</font>

569
00:27:39,369 --> 00:27:45,668
or individual computers outside of group

570
00:27:43,570 --> 00:27:48,009
<font color="#E5E5E5">policy you can actually use your ad</font>

571
00:27:45,669 --> 00:28:00,039
group policy to<font color="#E5E5E5"> manage those user</font>

572
00:27:48,009 --> 00:28:04,240
accounts chuckle yes<font color="#E5E5E5"> it says task</font>

573
00:28:00,039 --> 00:28:09,100
scheduler<font color="#E5E5E5"> yeah</font><font color="#CCCCCC"> and I guys</font><font color="#E5E5E5"> just repeating</font>

574
00:28:04,240 --> 00:28:11,320
<font color="#E5E5E5">84 times until</font><font color="#CCCCCC"> he is bloody so let's say</font>

575
00:28:09,100 --> 00:28:12,998
you have your<font color="#E5E5E5"> house right you you do</font>

576
00:28:11,320 --> 00:28:15,129
have<font color="#CCCCCC"> your</font><font color="#E5E5E5"> house and</font><font color="#CCCCCC"> we we've applied</font>

577
00:28:12,999 --> 00:28:18,519
group policies here as like home

578
00:28:15,129 --> 00:28:21,820
automation of any sort you<font color="#E5E5E5"> know security</font>

579
00:28:18,519 --> 00:28:26,499
<font color="#E5E5E5">cameras temperature you know any IOT</font>

580
00:28:21,820 --> 00:28:28,480
device out there<font color="#E5E5E5"> so I'm not saying group</font>

581
00:28:26,499 --> 00:28:30,850
<font color="#E5E5E5">policy</font><font color="#CCCCCC"> you can manage</font><font color="#E5E5E5"> IOT devices that</font>

582
00:28:28,480 --> 00:28:33,070
is not where I'm going but you have

583
00:28:30,850 --> 00:28:35,039
those individual rules and and but you

584
00:28:33,070 --> 00:28:37,570
want<font color="#E5E5E5"> to protect as much as</font><font color="#CCCCCC"> possible and</font>

585
00:28:35,039 --> 00:28:40,389
you have repeatable<font color="#E5E5E5"> tasks</font><font color="#CCCCCC"> that you</font>

586
00:28:37,570 --> 00:28:42,549
always<font color="#E5E5E5"> do you know for me I say</font><font color="#CCCCCC"> okay my</font>

587
00:28:40,389 --> 00:28:46,000
temperature at night I<font color="#E5E5E5"> wanted to go down</font>

588
00:28:42,549 --> 00:28:46,570
<font color="#CCCCCC">to 70 degrees</font><font color="#E5E5E5"> and during the day go up</font>

589
00:28:46,000 --> 00:28:48,130
to you<font color="#E5E5E5"> know</font>

590
00:28:46,570 --> 00:28:52,330
<font color="#E5E5E5">seventy-five there's a repeatable tasks</font>

591
00:28:48,130 --> 00:28:54,850
<font color="#E5E5E5">right use the task scheduler</font><font color="#CCCCCC"> in group</font>

592
00:28:52,330 --> 00:29:00,639
policy<font color="#E5E5E5"> because it is amazing and I'll</font>

593
00:28:54,850 --> 00:29:04,529
show<font color="#E5E5E5"> you why you</font><font color="#CCCCCC"> all</font><font color="#E5E5E5"> recognize these at</font>

594
00:29:00,639 --> 00:29:08,289
all these are these are privileges that

595
00:29:04,529 --> 00:29:11,049
tasks<font color="#E5E5E5"> or the task scheduler</font><font color="#CCCCCC"> can run as</font>

596
00:29:08,289 --> 00:29:16,419
and the very top is the way you<font color="#E5E5E5"> want to</font>

597
00:29:11,049 --> 00:29:18,840
<font color="#E5E5E5">try to use local service it is you can</font>

598
00:29:16,419 --> 00:29:21,360
run scheduled<font color="#E5E5E5"> tasks without a password</font>

599
00:29:18,840 --> 00:29:25,059
<font color="#E5E5E5">without remembering any credentials</font>

600
00:29:21,360 --> 00:29:28,600
<font color="#E5E5E5">without storing</font><font color="#CCCCCC"> anything all by using</font>

601
00:29:25,059 --> 00:29:32,110
these<font color="#E5E5E5"> already</font><font color="#CCCCCC"> built-in service</font><font color="#E5E5E5"> accounts</font>

602
00:29:28,600 --> 00:29:34,629
that are on that<font color="#CCCCCC"> workstation</font><font color="#E5E5E5"> so when you</font>

603
00:29:32,110 --> 00:29:36,820
use<font color="#E5E5E5"> local service you still have</font>

604
00:29:34,629 --> 00:29:39,908
administrative rights<font color="#E5E5E5"> but you have a lot</font>

605
00:29:36,820 --> 00:29:42,549
less<font color="#E5E5E5"> administrative rights</font><font color="#CCCCCC"> if you need</font>

606
00:29:39,909 --> 00:29:45,070
to use it<font color="#CCCCCC"> to pull down on</font><font color="#E5E5E5"> a script or do</font>

607
00:29:42,549 --> 00:29:47,950
<font color="#E5E5E5">something with the network use network</font>

608
00:29:45,070 --> 00:29:51,299
service<font color="#E5E5E5"> never never</font>

609
00:29:47,950 --> 00:29:54,309
please please never use<font color="#E5E5E5"> domain user</font>

610
00:29:51,299 --> 00:29:57,100
<font color="#E5E5E5">local system or anything else below</font>

611
00:29:54,309 --> 00:29:59,649
there because<font color="#E5E5E5"> there is</font><font color="#CCCCCC"> that it's very</font>

612
00:29:57,100 --> 00:30:03,279
<font color="#CCCCCC">easy</font><font color="#E5E5E5"> to steal and very easy to reuse</font>

613
00:29:59,649 --> 00:30:05,889
<font color="#E5E5E5">those security access tokens to redirect</font>

614
00:30:03,279 --> 00:30:10,149
and go into<font color="#CCCCCC"> that</font><font color="#E5E5E5"> to another</font><font color="#CCCCCC"> computer and</font>

615
00:30:05,889 --> 00:30:11,889
<font color="#E5E5E5">do the same damn thing</font><font color="#CCCCCC"> it really really</font>

616
00:30:10,149 --> 00:30:14,258
dangerous<font color="#CCCCCC"> if you need to you can use a</font>

617
00:30:11,889 --> 00:30:15,850
<font color="#E5E5E5">local user account but please these</font>

618
00:30:14,259 --> 00:30:17,230
other ones don't require any passwords

619
00:30:15,850 --> 00:30:25,990
<font color="#E5E5E5">long as you use them through group</font>

620
00:30:17,230 --> 00:30:27,879
policy<font color="#CCCCCC"> well and some scripting anyone</font>

621
00:30:25,990 --> 00:30:32,440
ever used<font color="#E5E5E5"> an immediate scheduled</font><font color="#CCCCCC"> task</font>

622
00:30:27,879 --> 00:30:35,320
<font color="#E5E5E5">this is the cool coolness</font><font color="#CCCCCC"> I think an</font>

623
00:30:32,440 --> 00:30:37,120
<font color="#E5E5E5">immediate scheduled task is unique it's</font>

624
00:30:35,320 --> 00:30:39,039
like a regular<font color="#CCCCCC"> scheduled</font><font color="#E5E5E5"> task but you</font>

625
00:30:37,120 --> 00:30:42,689
<font color="#CCCCCC">can actually apply it across your</font>

626
00:30:39,039 --> 00:30:45,610
machines and do it immediately<font color="#CCCCCC"> and once</font>

627
00:30:42,690 --> 00:30:48,820
so you<font color="#CCCCCC"> could actually if you just want</font>

628
00:30:45,610 --> 00:30:50,500
<font color="#E5E5E5">to do run a PowerShell script right you</font>

629
00:30:48,820 --> 00:30:53,070
can do PowerShell remoting<font color="#CCCCCC"> great I</font>

630
00:30:50,500 --> 00:30:55,990
wouldn't<font color="#E5E5E5"> recommend it but you can do it</font>

631
00:30:53,070 --> 00:30:57,460
because there<font color="#CCCCCC"> are those token unless you</font>

632
00:30:55,990 --> 00:30:59,110
have<font color="#E5E5E5"> SSL and you have certificates on</font>

633
00:30:57,460 --> 00:31:00,280
all your machines you know that there's

634
00:30:59,110 --> 00:31:03,270
a<font color="#E5E5E5"> lot of</font><font color="#CCCCCC"> other caveat</font>

635
00:31:00,280 --> 00:31:07,480
there but<font color="#CCCCCC"> immediat scheduled</font><font color="#E5E5E5"> task is</font>

636
00:31:03,270 --> 00:31:09,370
allows you<font color="#CCCCCC"> to run any</font><font color="#E5E5E5"> scheduled</font><font color="#CCCCCC"> tasks</font>

637
00:31:07,480 --> 00:31:13,510
<font color="#CCCCCC">almost immediately across</font><font color="#E5E5E5"> all of your</font>

638
00:31:09,370 --> 00:31:17,350
machines with very very well almost<font color="#E5E5E5"> no</font>

639
00:31:13,510 --> 00:31:19,750
risk at all<font color="#E5E5E5"> so here's an immediate</font>

640
00:31:17,350 --> 00:31:22,090
<font color="#CCCCCC">scheduled</font><font color="#E5E5E5"> task you can do find it in</font>

641
00:31:19,750 --> 00:31:24,430
that<font color="#E5E5E5"> control</font><font color="#CCCCCC"> panel</font><font color="#E5E5E5"> settings you can run</font>

642
00:31:22,090 --> 00:31:26,709
PowerShell dot exe<font color="#E5E5E5"> to run another script</font>

643
00:31:24,430 --> 00:31:30,630
<font color="#E5E5E5">or to go out to your network path or</font>

644
00:31:26,710 --> 00:31:33,780
whatever<font color="#CCCCCC"> it is to grab individual</font>

645
00:31:30,630 --> 00:31:35,950
commands<font color="#E5E5E5"> or scripts or supporting things</font>

646
00:31:33,780 --> 00:31:39,370
that you need just<font color="#CCCCCC"> make sure they have</font>

647
00:31:35,950 --> 00:31:42,030
<font color="#E5E5E5">access you know to them but again you're</font>

648
00:31:39,370 --> 00:31:45,129
using<font color="#E5E5E5"> the</font><font color="#CCCCCC"> anti-authority local service</font>

649
00:31:42,030 --> 00:31:51,550
<font color="#CCCCCC">you</font><font color="#E5E5E5"> have the run weather logged in or</font>

650
00:31:45,130 --> 00:31:55,750
and run with the highest<font color="#E5E5E5"> privileges</font><font color="#CCCCCC"> blog</font>

651
00:31:51,550 --> 00:31:59,980
proud secure code execution<font color="#E5E5E5"> so the</font>

652
00:31:55,750 --> 00:32:03,370
reason why this<font color="#E5E5E5"> is so so critical is the</font>

653
00:31:59,980 --> 00:32:06,570
you<font color="#E5E5E5"> can run again whether</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> user is</font>

654
00:32:03,370 --> 00:32:10,800
logged in<font color="#E5E5E5"> you don't store a password and</font>

655
00:32:06,570 --> 00:32:13,600
you<font color="#CCCCCC"> can</font><font color="#E5E5E5"> run with highest privileges but</font>

656
00:32:10,800 --> 00:32:16,600
that security access<font color="#E5E5E5"> token that we have</font>

657
00:32:13,600 --> 00:32:18,879
been<font color="#E5E5E5"> talking about automatically with</font>

658
00:32:16,600 --> 00:32:22,480
this magic that Microsoft has created

659
00:32:18,880 --> 00:32:25,060
there's very little documentation<font color="#CCCCCC"> but it</font>

660
00:32:22,480 --> 00:32:27,430
doesn't store a security<font color="#CCCCCC"> access to it</font>

661
00:32:25,060 --> 00:32:30,700
cannot be impersonated and it cannot<font color="#E5E5E5"> be</font>

662
00:32:27,430 --> 00:32:33,850
<font color="#E5E5E5">used against you it it just doesn't</font>

663
00:32:30,700 --> 00:32:36,010
<font color="#CCCCCC">exist so it can only run once</font><font color="#E5E5E5"> and I can</font>

664
00:32:33,850 --> 00:32:37,929
only<font color="#E5E5E5"> run on that computer and it is</font>

665
00:32:36,010 --> 00:32:39,700
immediate and<font color="#E5E5E5"> then it goes away and you</font>

666
00:32:37,930 --> 00:32:41,260
never have<font color="#E5E5E5"> to worry about cleanup or</font>

667
00:32:39,700 --> 00:32:45,130
anything else<font color="#CCCCCC"> with immediate scheduled</font>

668
00:32:41,260 --> 00:32:48,040
<font color="#CCCCCC">tasks</font><font color="#E5E5E5"> so it's highly privileged but it</font>

669
00:32:45,130 --> 00:32:49,240
allows quick access to that<font color="#E5E5E5"> actual you</font>

670
00:32:48,040 --> 00:32:51,040
<font color="#CCCCCC">know running of a script real quick</font>

671
00:32:49,240 --> 00:32:53,220
<font color="#E5E5E5">across</font><font color="#CCCCCC"> for</font><font color="#E5E5E5"> all the machines to</font><font color="#CCCCCC"> get</font>

672
00:32:51,040 --> 00:32:57,760
inventory<font color="#E5E5E5"> to do whatever you you want</font>

673
00:32:53,220 --> 00:32:59,920
but using a highly sensitive<font color="#E5E5E5"> well using</font>

674
00:32:57,760 --> 00:33:04,470
<font color="#E5E5E5">group policy to kind of protect you and</font>

675
00:32:59,920 --> 00:33:04,470
in the room in the in the meantime

676
00:33:08,770 --> 00:33:21,590
unity<font color="#E5E5E5"> managing services so is anyone</font>

677
00:33:18,440 --> 00:33:23,450
<font color="#E5E5E5">turned off in</font><font color="#CCCCCC"> EE like</font><font color="#E5E5E5"> Windows services</font>

678
00:33:21,590 --> 00:33:27,678
<font color="#E5E5E5">they keep it on your servers or your</font>

679
00:33:23,450 --> 00:33:30,530
workstations or<font color="#E5E5E5"> anything one person</font><font color="#CCCCCC"> your</font>

680
00:33:27,679 --> 00:33:37,220
<font color="#CCCCCC">two</font><font color="#E5E5E5"> awesome crap</font>

681
00:33:30,530 --> 00:33:40,428
<font color="#E5E5E5">geez great the it's the Illuminati yeah</font>

682
00:33:37,220 --> 00:33:42,530
you know like<font color="#E5E5E5"> these services or you know</font>

683
00:33:40,429 --> 00:33:44,330
with<font color="#CCCCCC"> group policy</font><font color="#E5E5E5"> we</font><font color="#CCCCCC"> can do a lot we can</font>

684
00:33:42,530 --> 00:33:47,928
manage<font color="#E5E5E5"> almost every</font><font color="#CCCCCC"> aspect</font><font color="#E5E5E5"> of your</font>

685
00:33:44,330 --> 00:33:49,879
<font color="#E5E5E5">entire organization or your your objects</font>

686
00:33:47,929 --> 00:33:55,549
<font color="#E5E5E5">your users your computers through group</font>

687
00:33:49,880 --> 00:33:56,650
group policy really hard to read<font color="#E5E5E5"> because</font>

688
00:33:55,549 --> 00:33:59,389
it's so<font color="#E5E5E5"> long</font>

689
00:33:56,650 --> 00:34:06,320
these are the default services on a

690
00:33:59,390 --> 00:34:09,200
Windows Server 2016 about<font color="#E5E5E5"> 70% of them</font>

691
00:34:06,320 --> 00:34:11,210
<font color="#E5E5E5">are running but</font><font color="#CCCCCC"> you know some of</font><font color="#E5E5E5"> them</font>

692
00:34:09,199 --> 00:34:13,118
<font color="#CCCCCC">are just</font><font color="#E5E5E5"> off or waiting to you know kick</font>

693
00:34:11,210 --> 00:34:15,889
<font color="#E5E5E5">on some</font><font color="#CCCCCC"> of the merge</font><font color="#E5E5E5"> turned off manual</font>

694
00:34:13,119 --> 00:34:17,780
<font color="#CCCCCC">you</font><font color="#E5E5E5"> have to manually start them but it's</font>

695
00:34:15,889 --> 00:34:19,940
still a<font color="#CCCCCC"> huge</font><font color="#E5E5E5"> list of services that are</font>

696
00:34:17,780 --> 00:34:24,139
just<font color="#E5E5E5"> sitting on a normal server like if</font>

697
00:34:19,940 --> 00:34:25,429
you have a web<font color="#E5E5E5"> server iis web server why</font>

698
00:34:24,139 --> 00:34:32,480
do you what do<font color="#CCCCCC"> you</font><font color="#E5E5E5"> need some</font><font color="#CCCCCC"> of these</font>

699
00:34:25,429 --> 00:34:34,250
<font color="#E5E5E5">like man task scheduler service what I</font>

700
00:34:32,480 --> 00:34:39,350
mean<font color="#E5E5E5"> maybe there's maybe there's a</font>

701
00:34:34,250 --> 00:34:41,719
reason<font color="#E5E5E5"> their</font><font color="#CCCCCC"> IPO per link layer topology</font>

702
00:34:39,350 --> 00:34:44,989
discovery mapper<font color="#E5E5E5"> any of these that are</font>

703
00:34:41,719 --> 00:34:47,839
<font color="#CCCCCC">vulnerable</font><font color="#E5E5E5"> on that web server and you</font>

704
00:34:44,989 --> 00:34:48,408
don't get in time and patch they're

705
00:34:47,840 --> 00:34:50,389
vulnerable

706
00:34:48,409 --> 00:34:54,369
because those services are open<font color="#CCCCCC"> right</font>

707
00:34:50,389 --> 00:34:57,590
<font color="#E5E5E5">there</font><font color="#CCCCCC"> running by just disabling them you</font>

708
00:34:54,369 --> 00:35:00,619
<font color="#CCCCCC">maybe you can't get to patching you know</font>

709
00:34:57,590 --> 00:35:02,960
every 30 days<font color="#E5E5E5"> or whatever it is please</font>

710
00:35:00,619 --> 00:35:06,500
<font color="#CCCCCC">please patch I'm not saying</font><font color="#E5E5E5"> don't patch</font>

711
00:35:02,960 --> 00:35:08,630
patch on<font color="#CCCCCC"> but you can</font><font color="#E5E5E5"> reduce your</font>

712
00:35:06,500 --> 00:35:12,740
footprint by just eliminating the

713
00:35:08,630 --> 00:35:16,339
services you do not need at all<font color="#E5E5E5"> for</font><font color="#CCCCCC"> a</font>

714
00:35:12,740 --> 00:35:20,270
typical iis server<font color="#E5E5E5"> base you know I'm not</font>

715
00:35:16,339 --> 00:35:21,560
<font color="#E5E5E5">saying this is this is a at the minimum</font>

716
00:35:20,270 --> 00:35:25,250
these are the services<font color="#CCCCCC"> that need to</font><font color="#E5E5E5"> be</font>

717
00:35:21,560 --> 00:35:27,620
enabled<font color="#CCCCCC"> to run I have all those</font><font color="#E5E5E5"> other</font>

718
00:35:25,250 --> 00:35:31,160
<font color="#E5E5E5">ones that you saw and you</font><font color="#CCCCCC"> don't need</font>

719
00:35:27,620 --> 00:35:34,850
them at all<font color="#E5E5E5"> you know you need to</font><font color="#CCCCCC"> be able</font>

720
00:35:31,160 --> 00:35:38,299
<font color="#E5E5E5">to have a Windows installer</font><font color="#CCCCCC"> remote you</font>

721
00:35:34,850 --> 00:35:40,279
know RPC service whatever<font color="#E5E5E5"> it is and by</font>

722
00:35:38,300 --> 00:35:42,110
default<font color="#CCCCCC"> and so if you don't configure</font>

723
00:35:40,280 --> 00:35:43,940
your your operating system harden them

724
00:35:42,110 --> 00:35:46,040
<font color="#E5E5E5">kind of protect them yes it may be a</font>

725
00:35:43,940 --> 00:35:48,260
little<font color="#E5E5E5"> bit more work</font><font color="#CCCCCC"> but once you have a</font>

726
00:35:46,040 --> 00:35:50,840
template<font color="#E5E5E5"> a group policy template just</font>

727
00:35:48,260 --> 00:35:54,500
reuse it<font color="#E5E5E5"> I think it's that if you have a</font>

728
00:35:50,840 --> 00:35:56,510
pool of<font color="#CCCCCC"> iis servers or certain server</font>

729
00:35:54,500 --> 00:35:59,600
types they just create group policies

730
00:35:56,510 --> 00:36:03,640
for those individual<font color="#E5E5E5"> a user or wherever</font>

731
00:35:59,600 --> 00:36:03,640
they're sitting in<font color="#E5E5E5"> in Active Directory</font>

732
00:36:05,050 --> 00:36:10,820
again<font color="#CCCCCC"> you can turn</font><font color="#E5E5E5"> them off all of them</font>

733
00:36:08,410 --> 00:36:12,980
<font color="#E5E5E5">disabled you</font><font color="#CCCCCC"> can actually edit</font><font color="#E5E5E5"> security</font>

734
00:36:10,820 --> 00:36:15,950
permissions and a whole<font color="#E5E5E5"> bunch of other</font>

735
00:36:12,980 --> 00:36:17,960
<font color="#E5E5E5">stuff here but all of them are depending</font>

736
00:36:15,950 --> 00:36:19,310
on<font color="#E5E5E5"> your domain</font><font color="#CCCCCC"> level depending on you</font>

737
00:36:17,960 --> 00:36:21,440
know what<font color="#E5E5E5"> your function level of your</font>

738
00:36:19,310 --> 00:36:24,560
domain is you can actually<font color="#E5E5E5"> go through</font>

739
00:36:21,440 --> 00:36:26,990
<font color="#E5E5E5">and manage individual services you'd</font>

740
00:36:24,560 --> 00:36:31,040
also do<font color="#E5E5E5"> this on your workstations hey</font>

741
00:36:26,990 --> 00:36:34,399
<font color="#E5E5E5">there's someone there that I'm trying to</font>

742
00:36:31,040 --> 00:36:38,150
think Message Queuing that's<font color="#CCCCCC"> now like</font>

743
00:36:34,400 --> 00:36:40,100
<font color="#CCCCCC">queueing is in like AWS sqs stuff but it</font>

744
00:36:38,150 --> 00:36:42,140
is<font color="#CCCCCC"> uh it is a queue</font><font color="#E5E5E5"> system but most</font>

745
00:36:40,100 --> 00:36:44,180
<font color="#E5E5E5">people are not</font><font color="#CCCCCC"> using this like why was</font>

746
00:36:42,140 --> 00:36:46,730
your workstation ever need<font color="#CCCCCC"> that on</font><font color="#E5E5E5"> just</font>

747
00:36:44,180 --> 00:36:52,730
another attack point that that allows

748
00:36:46,730 --> 00:36:54,260
code to run<font color="#E5E5E5"> plug</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> play I mean I</font>

749
00:36:52,730 --> 00:36:58,130
understand because<font color="#CCCCCC"> of that because of</font>

750
00:36:54,260 --> 00:37:00,560
you know<font color="#CCCCCC"> USB drives but also with group</font>

751
00:36:58,130 --> 00:37:02,870
policy<font color="#CCCCCC"> will go</font><font color="#E5E5E5"> on that tangent with</font>

752
00:37:00,560 --> 00:37:05,750
<font color="#CCCCCC">group policy you can block</font><font color="#E5E5E5"> USB devices</font>

753
00:37:02,870 --> 00:37:08,299
based<font color="#E5E5E5"> on IDs and drivers driver types</font>

754
00:37:05,750 --> 00:37:10,820
all three of your policy if<font color="#E5E5E5"> you want to</font>

755
00:37:08,300 --> 00:37:19,160
know<font color="#E5E5E5"> more about that come up afterwards</font>

756
00:37:10,820 --> 00:37:21,070
I mean we can<font color="#E5E5E5"> check oh I thought I had</font>

757
00:37:19,160 --> 00:37:27,250
like some potty

758
00:37:21,070 --> 00:37:32,360
stupefy<font color="#E5E5E5"> I - yeah</font><font color="#CCCCCC"> processing mitigation</font>

759
00:37:27,250 --> 00:37:34,099
so<font color="#E5E5E5"> anyone heard of Emmett</font>

760
00:37:32,360 --> 00:37:35,989
<font color="#E5E5E5">member it was a few</font>

761
00:37:34,099 --> 00:37:38,239
<font color="#E5E5E5">it was a pretty cool tool</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> the</font>

762
00:37:35,989 --> 00:37:40,009
Microsoft release that you could deploy

763
00:37:38,239 --> 00:37:44,509
on your<font color="#CCCCCC"> employees and configure it</font><font color="#E5E5E5"> and</font>

764
00:37:40,009 --> 00:37:48,739
in just<font color="#E5E5E5"> it's pretty cool</font><font color="#CCCCCC"> in Windows</font>

765
00:37:44,509 --> 00:37:50,539
Server 2016<font color="#CCCCCC"> domain function level you</font>

766
00:37:48,739 --> 00:37:55,190
now have the ability for process

767
00:37:50,539 --> 00:37:59,979
mitigation<font color="#E5E5E5"> but that means</font><font color="#CCCCCC"> that you can</font>

768
00:37:55,190 --> 00:38:06,559
<font color="#E5E5E5">control individual processes or threads</font>

769
00:37:59,979 --> 00:38:09,589
with<font color="#E5E5E5"> DEP co-op</font><font color="#CCCCCC"> NASL</font><font color="#E5E5E5"> are so to kind</font><font color="#CCCCCC"> of</font>

770
00:38:06,559 --> 00:38:12,410
explain that<font color="#E5E5E5"> a little</font><font color="#CCCCCC"> bit deeper</font><font color="#E5E5E5"> odd DEP</font>

771
00:38:09,589 --> 00:38:14,930
is data execution prevention<font color="#CCCCCC"> you were</font>

772
00:38:12,410 --> 00:38:19,368
protecting certain<font color="#E5E5E5"> types of memory for</font><font color="#CCCCCC"> a</font>

773
00:38:14,930 --> 00:38:21,379
process<font color="#E5E5E5"> using</font><font color="#CCCCCC"> that type of</font><font color="#E5E5E5"> memory</font><font color="#CCCCCC"> that</font>

774
00:38:19,369 --> 00:38:25,220
they shouldn't<font color="#E5E5E5"> be malware should not be</font>

775
00:38:21,380 --> 00:38:27,470
able<font color="#E5E5E5"> to inject or access certain blocks</font>

776
00:38:25,220 --> 00:38:30,738
of memory<font color="#E5E5E5"> on that</font><font color="#CCCCCC"> the operating system</font>

777
00:38:27,470 --> 00:38:35,720
is<font color="#E5E5E5"> using rootkits everything it's just a</font>

778
00:38:30,739 --> 00:38:38,599
<font color="#E5E5E5">built-in protection that since</font><font color="#CCCCCC"> Windows</font><font color="#E5E5E5"> 7</font>

779
00:38:35,720 --> 00:38:40,669
or<font color="#E5E5E5"> 8 it's been there but you</font><font color="#CCCCCC"> can</font>

780
00:38:38,599 --> 00:38:46,279
actually<font color="#CCCCCC"> specify for a specific process</font>

781
00:38:40,670 --> 00:38:49,630
or application<font color="#CCCCCC"> now see hop structured</font>

782
00:38:46,279 --> 00:38:52,099
exception<font color="#CCCCCC"> they love these acronym</font>

783
00:38:49,630 --> 00:38:58,940
structured exception handling<font color="#E5E5E5"> override</font>

784
00:38:52,099 --> 00:39:03,380
protection so this is like it's

785
00:38:58,940 --> 00:39:06,680
<font color="#E5E5E5">basically the SE seh is used in C++</font><font color="#CCCCCC"> and</font>

786
00:39:03,380 --> 00:39:08,989
C's<font color="#E5E5E5"> in other languages to actually go</font>

787
00:39:06,680 --> 00:39:10,729
<font color="#CCCCCC">through and cause an exception if you</font>

788
00:39:08,989 --> 00:39:12,950
don't handle that<font color="#E5E5E5"> it's kind of like</font><font color="#CCCCCC"> a</font>

789
00:39:10,729 --> 00:39:16,549
buffer overflow<font color="#E5E5E5"> similar it's like a</font>

790
00:39:12,950 --> 00:39:18,558
stack overflow<font color="#E5E5E5"> not the website but I'm</font>

791
00:39:16,549 --> 00:39:22,038
<font color="#E5E5E5">yeah it's just bad error handling in</font>

792
00:39:18,559 --> 00:39:24,950
code really<font color="#CCCCCC"> boy people can use</font><font color="#E5E5E5"> that to</font>

793
00:39:22,039 --> 00:39:29,479
<font color="#E5E5E5">actually put malicious content into</font>

794
00:39:24,950 --> 00:39:33,279
memory and this basically handles<font color="#E5E5E5"> theirs</font>

795
00:39:29,479 --> 00:39:37,129
so<font color="#CCCCCC"> they can't be used</font><font color="#E5E5E5"> maliciously</font><font color="#CCCCCC"> ASLR</font>

796
00:39:33,279 --> 00:39:39,769
<font color="#E5E5E5">Windows XP was probably when it booted</font>

797
00:39:37,130 --> 00:39:42,200
<font color="#E5E5E5">rootkits</font><font color="#CCCCCC"> loved it back then they they</font>

798
00:39:39,769 --> 00:39:45,439
loved it because every time<font color="#CCCCCC"> Windows</font>

799
00:39:42,200 --> 00:39:47,180
booted the dll's and and all the<font color="#E5E5E5"> things</font>

800
00:39:45,440 --> 00:39:47,940
<font color="#E5E5E5">that it needed</font><font color="#CCCCCC"> to you know</font><font color="#E5E5E5"> start</font><font color="#CCCCCC"> the</font>

801
00:39:47,180 --> 00:39:50,609
operating system

802
00:39:47,940 --> 00:39:54,059
would always be the<font color="#E5E5E5"> same place</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> memory</font>

803
00:39:50,609 --> 00:39:57,839
<font color="#CCCCCC">like always</font><font color="#E5E5E5"> so once you figure</font><font color="#CCCCCC"> that out</font>

804
00:39:54,059 --> 00:40:02,759
<font color="#E5E5E5">like you're golden like you can you can</font>

805
00:39:57,839 --> 00:40:05,460
inject<font color="#E5E5E5"> you can replace you know services</font>

806
00:40:02,759 --> 00:40:08,130
dot exe with your own services to exceed

807
00:40:05,460 --> 00:40:10,079
you're off to the<font color="#E5E5E5"> races</font><font color="#CCCCCC"> and they're</font><font color="#E5E5E5"> not</font>

808
00:40:08,130 --> 00:40:12,660
<font color="#E5E5E5">probably going to detect it when does</font>

809
00:40:10,079 --> 00:40:16,799
<font color="#CCCCCC">seven started to get a</font><font color="#E5E5E5"> little bit better</font>

810
00:40:12,660 --> 00:40:18,839
<font color="#E5E5E5">with this and</font><font color="#CCCCCC"> then Windows 10 you know</font>

811
00:40:16,799 --> 00:40:20,849
it was randomized basically and then

812
00:40:18,839 --> 00:40:23,308
Windows 10<font color="#E5E5E5"> it's completely randomized</font>

813
00:40:20,849 --> 00:40:24,839
<font color="#E5E5E5">you know they they've protected the</font>

814
00:40:23,309 --> 00:40:26,670
reason I say that is<font color="#CCCCCC"> that you can</font>

815
00:40:24,839 --> 00:40:29,460
<font color="#CCCCCC">actually specify that</font><font color="#E5E5E5"> for individual</font>

816
00:40:26,670 --> 00:40:32,460
again applications like<font color="#E5E5E5"> ie like your</font>

817
00:40:29,460 --> 00:40:34,380
<font color="#E5E5E5">outlook like whatever application that</font>

818
00:40:32,460 --> 00:40:36,839
you<font color="#E5E5E5"> have you can</font><font color="#CCCCCC"> actually do</font>

819
00:40:34,380 --> 00:40:39,509
randomization from top<font color="#CCCCCC"> down bottom</font><font color="#E5E5E5"> down</font>

820
00:40:36,839 --> 00:40:41,910
<font color="#CCCCCC">there there's a whole</font><font color="#E5E5E5"> bunch of very</font>

821
00:40:39,509 --> 00:40:45,349
specific privileges<font color="#CCCCCC"> that that or</font>

822
00:40:41,910 --> 00:40:49,848
settings that you<font color="#E5E5E5"> can do for per process</font>

823
00:40:45,349 --> 00:40:53,309
it's kind of<font color="#E5E5E5"> funky though it's not nice</font>

824
00:40:49,849 --> 00:40:57,450
yet<font color="#E5E5E5"> it will be this</font><font color="#CCCCCC"> is really cool so</font>

825
00:40:53,309 --> 00:40:59,789
for I explore<font color="#CCCCCC"> internet explorer it's</font>

826
00:40:57,450 --> 00:41:01,109
those question marks<font color="#E5E5E5"> and then like some</font>

827
00:40:59,789 --> 00:41:04,049
of them are ones and some of them are

828
00:41:01,109 --> 00:41:07,140
<font color="#E5E5E5">zeros</font><font color="#CCCCCC"> they have documentation luckily</font>

829
00:41:04,049 --> 00:41:09,990
<font color="#E5E5E5">well it's like a blog by some</font><font color="#CCCCCC"> TechNet</font>

830
00:41:07,140 --> 00:41:11,578
<font color="#E5E5E5">writer but I made this kind of cheat</font>

831
00:41:09,990 --> 00:41:12,390
sheet and I can<font color="#CCCCCC"> share it</font><font color="#E5E5E5"> out if anyone's</font>

832
00:41:11,579 --> 00:41:15,539
interested

833
00:41:12,390 --> 00:41:17,609
<font color="#E5E5E5">but those question marks basically mean</font>

834
00:41:15,539 --> 00:41:20,160
don't change<font color="#CCCCCC"> just leave</font><font color="#E5E5E5"> it you know as</font>

835
00:41:17,609 --> 00:41:22,230
it<font color="#CCCCCC"> is</font><font color="#E5E5E5"> it then you can</font><font color="#CCCCCC"> actually flip</font>

836
00:41:20,160 --> 00:41:25,500
<font color="#E5E5E5">depending on what you're</font><font color="#CCCCCC"> actually</font>

837
00:41:22,230 --> 00:41:28,049
wanting<font color="#E5E5E5"> so process creation mitigation</font>

838
00:41:25,500 --> 00:41:30,660
for<font color="#CCCCCC"> a SLR from bottom</font><font color="#E5E5E5"> up or top down or</font>

839
00:41:28,049 --> 00:41:33,538
whatever<font color="#E5E5E5"> you want</font><font color="#CCCCCC"> again this is getting</font>

840
00:41:30,660 --> 00:41:35,308
into more I don't<font color="#CCCCCC"> know how many people</font>

841
00:41:33,539 --> 00:41:37,319
<font color="#CCCCCC">will actually use</font><font color="#E5E5E5"> process mitigation but</font>

842
00:41:35,309 --> 00:41:39,359
it's really<font color="#E5E5E5"> really cool</font><font color="#CCCCCC"> technology that</font>

843
00:41:37,319 --> 00:41:50,849
they've now embedded<font color="#E5E5E5"> into the operating</font>

844
00:41:39,359 --> 00:41:54,390
system<font color="#E5E5E5"> scripting yeah so here your</font>

845
00:41:50,849 --> 00:41:58,319
scripts you know it can be<font color="#E5E5E5"> anything bash</font>

846
00:41:54,390 --> 00:42:00,120
BB please no<font color="#E5E5E5"> para show PowerShell right</font>

847
00:41:58,319 --> 00:42:03,270
<font color="#CCCCCC">whoo</font>

848
00:42:00,120 --> 00:42:06,150
I<font color="#E5E5E5"> love it</font><font color="#CCCCCC"> I write a lot of stuff when I</font>

849
00:42:03,270 --> 00:42:08,160
have free time when my wife isn't asking

850
00:42:06,150 --> 00:42:10,920
<font color="#CCCCCC">me to mow the</font><font color="#E5E5E5"> lawn or whatever it else</font>

851
00:42:08,160 --> 00:42:13,649
it is but but<font color="#CCCCCC"> you could do a</font><font color="#E5E5E5"> lot of lot</font>

852
00:42:10,920 --> 00:42:16,080
with with<font color="#E5E5E5"> scripting but with PowerShell</font>

853
00:42:13,650 --> 00:42:19,740
<font color="#CCCCCC">you can do a lot of to</font><font color="#E5E5E5"> protect yourself</font>

854
00:42:16,080 --> 00:42:20,910
<font color="#E5E5E5">right so there's a bunch of different</font>

855
00:42:19,740 --> 00:42:22,529
settings<font color="#E5E5E5"> in there and they're all down</font>

856
00:42:20,910 --> 00:42:25,890
there<font color="#CCCCCC"> at</font><font color="#E5E5E5"> the bottom but you need to</font>

857
00:42:22,530 --> 00:42:28,610
enable<font color="#E5E5E5"> them all does anyone log their</font>

858
00:42:25,890 --> 00:42:33,450
workstations<font color="#E5E5E5"> and Ford them off to some</font>

859
00:42:28,610 --> 00:42:37,560
<font color="#E5E5E5">swagger</font><font color="#CCCCCC"> you know some sim like three</font>

860
00:42:33,450 --> 00:42:40,200
<font color="#E5E5E5">okay try to do that it's really you know</font>

861
00:42:37,560 --> 00:42:42,000
<font color="#CCCCCC">it's really beneficial if you can I know</font>

862
00:42:40,200 --> 00:42:45,569
it's expensive<font color="#E5E5E5"> depending on you know how</font>

863
00:42:42,000 --> 00:42:47,430
large<font color="#E5E5E5"> your environment is I had</font><font color="#CCCCCC"> forty</font>

864
00:42:45,570 --> 00:42:49,860
<font color="#CCCCCC">thousand</font><font color="#E5E5E5"> in points and it was almost</font>

865
00:42:47,430 --> 00:42:53,879
impossible<font color="#E5E5E5"> because so much logging</font><font color="#CCCCCC"> going</font>

866
00:42:49,860 --> 00:42:55,860
on but if you can enable the logging<font color="#E5E5E5"> at</font>

867
00:42:53,880 --> 00:42:58,830
least<font color="#E5E5E5"> do you know turn on module or</font>

868
00:42:55,860 --> 00:43:00,720
script execution<font color="#E5E5E5"> and transcription so</font>

869
00:42:58,830 --> 00:43:02,610
that that will literally<font color="#E5E5E5"> everything</font><font color="#CCCCCC"> you</font>

870
00:43:00,720 --> 00:43:05,040
put<font color="#E5E5E5"> into PowerShell script runs whatever</font>

871
00:43:02,610 --> 00:43:08,400
it is<font color="#CCCCCC"> what will log it and put it into a</font>

872
00:43:05,040 --> 00:43:09,000
log file then restrict rights to that

873
00:43:08,400 --> 00:43:13,860
<font color="#CCCCCC">log</font>

874
00:43:09,000 --> 00:43:16,950
<font color="#E5E5E5">so I or malicious user or just a normal</font>

875
00:43:13,860 --> 00:43:18,720
user can't just delete<font color="#CCCCCC"> all your log</font>

876
00:43:16,950 --> 00:43:22,799
files<font color="#E5E5E5"> and now all the evidence is gone</font>

877
00:43:18,720 --> 00:43:25,169
<font color="#CCCCCC">and you're kind of screwed but anyone</font>

878
00:43:22,800 --> 00:43:26,460
else<font color="#CCCCCC"> oh yeah it lock</font><font color="#E5E5E5"> down your</font><font color="#CCCCCC"> eye piece</font>

879
00:43:25,170 --> 00:43:28,790
so<font color="#E5E5E5"> that's another setting</font>

880
00:43:26,460 --> 00:43:31,530
I don't wanted to<font color="#E5E5E5"> point out that</font>

881
00:43:28,790 --> 00:43:34,140
PowerShell can do remoting but you need

882
00:43:31,530 --> 00:43:38,190
to make sure<font color="#E5E5E5"> that only certain like IT</font>

883
00:43:34,140 --> 00:43:40,080
IP addresses<font color="#CCCCCC"> you may or may not</font><font color="#E5E5E5"> have</font>

884
00:43:38,190 --> 00:43:41,970
static IP is just depending<font color="#E5E5E5"> on your</font>

885
00:43:40,080 --> 00:43:44,220
organization but<font color="#E5E5E5"> you should lock down</font>

886
00:43:41,970 --> 00:43:45,810
who can do remoting and who not you

887
00:43:44,220 --> 00:43:49,230
don't<font color="#E5E5E5"> want just a normal user to be able</font>

888
00:43:45,810 --> 00:43:51,299
<font color="#E5E5E5">to don't put star in there because</font>

889
00:43:49,230 --> 00:43:52,530
there's what your<font color="#E5E5E5"> settings just don't do</font>

890
00:43:51,300 --> 00:43:54,270
<font color="#E5E5E5">star</font>

891
00:43:52,530 --> 00:43:55,980
you can digitally sign your scripts

892
00:43:54,270 --> 00:43:59,160
which is really actually<font color="#E5E5E5"> pretty</font><font color="#CCCCCC"> powerful</font>

893
00:43:55,980 --> 00:44:02,040
<font color="#CCCCCC">when we when we go into the next slide</font>

894
00:43:59,160 --> 00:44:04,910
next<font color="#E5E5E5"> slides but I'll explain and then</font>

895
00:44:02,040 --> 00:44:06,440
use<font color="#CCCCCC"> immediate</font><font color="#E5E5E5"> scheduled tasks again</font><font color="#CCCCCC"> it's</font>

896
00:44:04,910 --> 00:44:10,140
anyone know the difference<font color="#CCCCCC"> between</font>

897
00:44:06,440 --> 00:44:14,099
interactive and non interactive logins

898
00:44:10,140 --> 00:44:17,220
<font color="#E5E5E5">so</font><font color="#CCCCCC"> an interactive login is remote</font>

899
00:44:14,099 --> 00:44:20,430
<font color="#CCCCCC">Desktop</font><font color="#E5E5E5"> all right you you have a GUI and</font>

900
00:44:17,220 --> 00:44:23,399
you<font color="#E5E5E5"> log into the</font><font color="#CCCCCC"> computer and so is</font>

901
00:44:20,430 --> 00:44:25,680
<font color="#CCCCCC">PowerShell remoting</font><font color="#E5E5E5"> as well certain</font>

902
00:44:23,400 --> 00:44:30,499
cases<font color="#E5E5E5"> that's saying all there's a</font>

903
00:44:25,680 --> 00:44:33,538
difference between<font color="#E5E5E5"> using</font><font color="#CCCCCC"> WMI</font><font color="#E5E5E5"> versus</font>

904
00:44:30,499 --> 00:44:36,238
<font color="#CCCCCC">what's the</font><font color="#E5E5E5"> other I'm gonna draw a blank</font>

905
00:44:33,539 --> 00:44:40,559
but they are there<font color="#E5E5E5"> are differences also</font>

906
00:44:36,239 --> 00:44:42,779
JEA just enough administration this<font color="#CCCCCC"> is</font>

907
00:44:40,559 --> 00:44:46,470
actually really really really<font color="#CCCCCC"> cool it's</font>

908
00:44:42,779 --> 00:44:48,150
a new<font color="#E5E5E5"> thing from Microsoft that imagine</font>

909
00:44:46,470 --> 00:44:51,689
you have<font color="#CCCCCC"> helpdesk</font><font color="#E5E5E5"> that needs to you</font><font color="#CCCCCC"> you</font>

910
00:44:48,150 --> 00:44:53,489
just want somebody to<font color="#E5E5E5"> read restart your</font>

911
00:44:51,690 --> 00:44:56,069
<font color="#CCCCCC">principal errs when you know something</font>

912
00:44:53,489 --> 00:44:57,809
goes crazy<font color="#E5E5E5"> right</font><font color="#CCCCCC"> but to do</font><font color="#E5E5E5"> that they</font>

913
00:44:56,069 --> 00:44:59,489
have to<font color="#CCCCCC"> use</font><font color="#E5E5E5"> the PowerShell commands you</font>

914
00:44:57,809 --> 00:45:02,539
know on<font color="#E5E5E5"> your print server or whatever it</font>

915
00:44:59,489 --> 00:45:07,140
is<font color="#E5E5E5"> and they need admin access to do that</font>

916
00:45:02,539 --> 00:45:10,499
well with JEA<font color="#CCCCCC"> I can actually specify a</font>

917
00:45:07,140 --> 00:45:12,210
specific<font color="#CCCCCC"> file that says yes</font><font color="#E5E5E5"> you have</font>

918
00:45:10,499 --> 00:45:14,189
admin but you only have admin to run

919
00:45:12,210 --> 00:45:17,789
these<font color="#E5E5E5"> for PowerShell commands and that's</font>

920
00:45:14,190 --> 00:45:18,930
it<font color="#E5E5E5"> nothing</font><font color="#CCCCCC"> else</font><font color="#E5E5E5"> and when they</font><font color="#CCCCCC"> log in it</font>

921
00:45:17,789 --> 00:45:22,950
creates of what they call it virtual

922
00:45:18,930 --> 00:45:26,788
<font color="#E5E5E5">account so it's like a fake account that</font>

923
00:45:22,950 --> 00:45:29,999
when you say<font color="#CCCCCC"> ok I see user X they have a</font>

924
00:45:26,789 --> 00:45:33,779
they've been authorized<font color="#E5E5E5"> to add them to</font>

925
00:45:29,999 --> 00:45:36,029
<font color="#CCCCCC">this list</font><font color="#E5E5E5"> they</font><font color="#CCCCCC"> login</font><font color="#E5E5E5"> creates this magic</font>

926
00:45:33,779 --> 00:45:38,369
virtual account<font color="#E5E5E5"> they do their thing</font><font color="#CCCCCC"> and</font>

927
00:45:36,029 --> 00:45:41,160
they log off<font color="#CCCCCC"> it disappears and</font><font color="#E5E5E5"> goes</font><font color="#CCCCCC"> away</font>

928
00:45:38,369 --> 00:45:44,329
but<font color="#E5E5E5"> you can give admin to specific</font>

929
00:45:41,160 --> 00:45:47,430
dotnet or<font color="#E5E5E5"> PowerShell commands through</font>

930
00:45:44,329 --> 00:45:51,119
just<font color="#E5E5E5"> enough administration it's pretty</font>

931
00:45:47,430 --> 00:45:54,509
neat<font color="#CCCCCC"> an app Locker</font><font color="#E5E5E5"> anyone use that</font>

932
00:45:51,119 --> 00:45:58,109
<font color="#CCCCCC">blocker once you heard</font><font color="#E5E5E5"> of it part of it</font>

933
00:45:54,509 --> 00:46:03,450
<font color="#E5E5E5">right back so what it's all about is</font>

934
00:45:58,109 --> 00:46:04,739
<font color="#CCCCCC">constrained language mode so</font><font color="#E5E5E5"> constrained</font>

935
00:46:03,450 --> 00:46:06,989
<font color="#E5E5E5">lling there there's three different</font>

936
00:46:04,739 --> 00:46:10,259
language modes for PowerShell to<font color="#E5E5E5"> run and</font>

937
00:46:06,989 --> 00:46:13,170
this isn't<font color="#E5E5E5"> like</font><font color="#CCCCCC"> the you know</font><font color="#E5E5E5"> English</font>

938
00:46:10,259 --> 00:46:15,569
language or you know China<font color="#E5E5E5"> Chinese</font>

939
00:46:13,170 --> 00:46:17,789
<font color="#E5E5E5">language whatever it is this is like the</font>

940
00:46:15,569 --> 00:46:21,829
<font color="#E5E5E5">language of dotnet and what it has</font>

941
00:46:17,789 --> 00:46:23,849
access<font color="#E5E5E5"> to so</font><font color="#CCCCCC"> you can actually restrict</font>

942
00:46:21,829 --> 00:46:26,300
<font color="#E5E5E5">commercial from running on your machine</font>

943
00:46:23,849 --> 00:46:30,810
<font color="#CCCCCC">a hundred percent</font>

944
00:46:26,300 --> 00:46:32,670
by by using both this<font color="#E5E5E5"> PS lockdown policy</font>

945
00:46:30,810 --> 00:46:35,340
is well there's actually<font color="#CCCCCC"> a group policy</font>

946
00:46:32,670 --> 00:46:37,380
<font color="#CCCCCC">for it I just did this</font><font color="#E5E5E5"> one because it</font>

947
00:46:35,340 --> 00:46:39,720
actually<font color="#E5E5E5"> shows what's happening instead</font>

948
00:46:37,380 --> 00:46:41,910
<font color="#E5E5E5">of the other one but use that with</font>

949
00:46:39,720 --> 00:46:43,279
<font color="#CCCCCC">AppLocker you could actually restrict</font>

950
00:46:41,910 --> 00:46:47,580
power show<font color="#E5E5E5"> running in your</font><font color="#CCCCCC"> environment</font>

951
00:46:43,280 --> 00:46:50,010
<font color="#E5E5E5">completely you</font><font color="#CCCCCC"> know there's</font><font color="#E5E5E5"> cap there's</font>

952
00:46:47,580 --> 00:46:51,810
me maybe some problems just<font color="#E5E5E5"> depending</font>

953
00:46:50,010 --> 00:46:54,990
but you have to test<font color="#E5E5E5"> it out just like</font>

954
00:46:51,810 --> 00:46:56,670
everything<font color="#E5E5E5"> else but you</font><font color="#CCCCCC"> have</font><font color="#E5E5E5"> the ability</font>

955
00:46:54,990 --> 00:47:01,129
to actually<font color="#E5E5E5"> change the language there's</font>

956
00:46:56,670 --> 00:47:04,650
<font color="#E5E5E5">constrain language mode there's good</font>

957
00:47:01,130 --> 00:47:06,330
<font color="#CCCCCC">sign up</font><font color="#E5E5E5"> now</font><font color="#CCCCCC"> alright that there's three</font>

958
00:47:04,650 --> 00:47:08,010
different loads so if you actually go

959
00:47:06,330 --> 00:47:11,730
<font color="#CCCCCC">into your computer and an environmental</font>

960
00:47:08,010 --> 00:47:13,290
variable and<font color="#CCCCCC"> just on practice for</font><font color="#E5E5E5"> for</font>

961
00:47:11,730 --> 00:47:17,130
<font color="#CCCCCC">Windows because this is really easy</font><font color="#E5E5E5"> to</font>

962
00:47:13,290 --> 00:47:19,410
remove<font color="#CCCCCC"> just add underscore underscore PS</font>

963
00:47:17,130 --> 00:47:24,330
lockdown policy and set the value<font color="#CCCCCC"> to</font>

964
00:47:19,410 --> 00:47:26,549
<font color="#E5E5E5">Ford if you do that</font><font color="#CCCCCC"> right-click</font><font color="#E5E5E5"> on power</font>

965
00:47:24,330 --> 00:47:29,870
show you know console whatever you want

966
00:47:26,550 --> 00:47:33,630
<font color="#E5E5E5">and try to run</font><font color="#CCCCCC"> it you will see</font><font color="#E5E5E5"> red</font>

967
00:47:29,870 --> 00:47:36,750
everywhere<font color="#E5E5E5"> and it won't work yeah power</font>

968
00:47:33,630 --> 00:47:38,400
show does<font color="#CCCCCC"> not run but since by doing</font>

969
00:47:36,750 --> 00:47:40,380
this<font color="#E5E5E5"> it's really easy</font><font color="#CCCCCC"> to change an</font>

970
00:47:38,400 --> 00:47:43,170
environmental variable that's<font color="#E5E5E5"> where</font><font color="#CCCCCC"> app</font>

971
00:47:40,380 --> 00:47:45,900
<font color="#CCCCCC">Locker comes in where it forces that and</font>

972
00:47:43,170 --> 00:47:48,450
so you can't override it as user or as a

973
00:47:45,900 --> 00:47:51,000
malicious actor or anything<font color="#E5E5E5"> but it's all</font>

974
00:47:48,450 --> 00:47:59,279
about<font color="#CCCCCC"> what constrain language mode you</font>

975
00:47:51,000 --> 00:48:01,710
you want<font color="#E5E5E5"> that's the Illuminati so I'll</font>

976
00:47:59,280 --> 00:48:04,310
try<font color="#CCCCCC"> to run</font><font color="#E5E5E5"> through this year but</font><font color="#CCCCCC"> app</font>

977
00:48:01,710 --> 00:48:06,290
<font color="#CCCCCC">blocker is</font><font color="#E5E5E5"> not scary for the most part</font>

978
00:48:04,310 --> 00:48:09,810
it sounds scary

979
00:48:06,290 --> 00:48:12,240
it's actually really<font color="#E5E5E5"> beneficial to your</font>

980
00:48:09,810 --> 00:48:15,090
Incident Response Teams your your

981
00:48:12,240 --> 00:48:18,689
security teams even<font color="#CCCCCC"> if you don't apply</font>

982
00:48:15,090 --> 00:48:21,630
<font color="#E5E5E5">it and</font><font color="#CCCCCC"> you use</font><font color="#E5E5E5"> just audit only mode so</font>

983
00:48:18,690 --> 00:48:23,730
you<font color="#CCCCCC"> can do two different things you can</font>

984
00:48:21,630 --> 00:48:26,460
<font color="#E5E5E5">do audit and you can say okay I want</font><font color="#CCCCCC"> to</font>

985
00:48:23,730 --> 00:48:27,200
allow or a block rule or I want this to

986
00:48:26,460 --> 00:48:31,710
actually<font color="#E5E5E5"> work</font>

987
00:48:27,200 --> 00:48:33,899
so with audit you actually just it<font color="#E5E5E5"> says</font>

988
00:48:31,710 --> 00:48:36,870
<font color="#CCCCCC">okay</font><font color="#E5E5E5"> this application or this process</font>

989
00:48:33,900 --> 00:48:39,360
<font color="#E5E5E5">would of pass would have been blocked or</font>

990
00:48:36,870 --> 00:48:39,720
would<font color="#E5E5E5"> have been allowed based on your</font>

991
00:48:39,360 --> 00:48:41,460
current

992
00:48:39,720 --> 00:48:43,589
configuration<font color="#CCCCCC"> so you can adjust it as</font>

993
00:48:41,460 --> 00:48:45,930
<font color="#E5E5E5">you go it's just an audit log they get</font>

994
00:48:43,589 --> 00:48:48,210
nothing<font color="#E5E5E5"> actually happens it just it's</font>

995
00:48:45,930 --> 00:48:49,890
telling you<font color="#E5E5E5"> what may happen if you</font>

996
00:48:48,210 --> 00:48:53,130
actually<font color="#E5E5E5"> enabled it in your organization</font>

997
00:48:49,890 --> 00:48:55,200
or across your<font color="#CCCCCC"> Missi machines so it's</font>

998
00:48:53,130 --> 00:48:58,500
really really<font color="#CCCCCC"> beneficial even</font><font color="#E5E5E5"> for just</font>

999
00:48:55,200 --> 00:49:00,810
that alone<font color="#CCCCCC"> because now you know like</font>

1000
00:48:58,500 --> 00:49:03,960
every process running on all of your

1001
00:49:00,810 --> 00:49:05,910
machines<font color="#CCCCCC"> and you have a huge log and</font>

1002
00:49:03,960 --> 00:49:08,099
<font color="#E5E5E5">it's all nice</font><font color="#CCCCCC"> and pretty and</font><font color="#E5E5E5"> you can</font>

1003
00:49:05,910 --> 00:49:11,190
export it<font color="#CCCCCC"> at</font><font color="#E5E5E5"> do a lot of cool stuff</font><font color="#CCCCCC"> with</font>

1004
00:49:08,099 --> 00:49:13,349
<font color="#CCCCCC">it even just an ottoman</font><font color="#E5E5E5"> but I recommend</font>

1005
00:49:11,190 --> 00:49:14,609
<font color="#E5E5E5">actually you know enabling it at some</font>

1006
00:49:13,349 --> 00:49:17,760
<font color="#CCCCCC">point</font><font color="#E5E5E5"> but I know it's gonna take</font><font color="#CCCCCC"> time</font>

1007
00:49:14,609 --> 00:49:19,770
<font color="#E5E5E5">right</font><font color="#CCCCCC"> but there are those three</font>

1008
00:49:17,760 --> 00:49:22,530
<font color="#E5E5E5">different conditions or rules we'll talk</font>

1009
00:49:19,770 --> 00:49:28,200
about<font color="#E5E5E5"> hash condition path condition and</font>

1010
00:49:22,530 --> 00:49:30,960
publisher so the hash condition Boop it

1011
00:49:28,200 --> 00:49:34,470
is really a like every so you you can

1012
00:49:30,960 --> 00:49:37,109
<font color="#E5E5E5">apply</font><font color="#CCCCCC"> app Locker</font><font color="#E5E5E5"> across all your you</font>

1013
00:49:34,470 --> 00:49:40,020
know binaries dll's<font color="#E5E5E5"> but there's I don't</font>

1014
00:49:37,109 --> 00:49:41,759
I hate it's good for some<font color="#CCCCCC"> things</font><font color="#E5E5E5"> but I</font>

1015
00:49:40,020 --> 00:49:43,619
<font color="#CCCCCC">don't really</font><font color="#E5E5E5"> I don't</font><font color="#CCCCCC"> like it because</font>

1016
00:49:41,760 --> 00:49:46,650
<font color="#CCCCCC">that means every</font><font color="#E5E5E5"> time then</font><font color="#CCCCCC"> outlook</font>

1017
00:49:43,619 --> 00:49:49,470
updates<font color="#E5E5E5"> anything updates that hash is</font>

1018
00:49:46,650 --> 00:49:53,640
gonna change<font color="#CCCCCC"> and so you you say okay I'm</font>

1019
00:49:49,470 --> 00:49:56,069
gonna<font color="#E5E5E5"> block or allow Microsoft or you</font>

1020
00:49:53,640 --> 00:49:58,230
know certain<font color="#CCCCCC"> exe is any time you make a</font>

1021
00:49:56,069 --> 00:50:00,480
change<font color="#E5E5E5"> it's gonna it's kind of it's</font>

1022
00:49:58,230 --> 00:50:03,030
gonna change so unless you have<font color="#E5E5E5"> a</font>

1023
00:50:00,480 --> 00:50:05,520
specific<font color="#E5E5E5"> application that will never get</font>

1024
00:50:03,030 --> 00:50:09,810
updated<font color="#E5E5E5"> and never change that's the only</font>

1025
00:50:05,520 --> 00:50:12,480
reason I would<font color="#E5E5E5"> use hash condition path</font>

1026
00:50:09,810 --> 00:50:15,240
condition<font color="#E5E5E5"> this</font><font color="#CCCCCC"> is</font><font color="#E5E5E5"> actually pretty cool</font><font color="#CCCCCC"> a</font>

1027
00:50:12,480 --> 00:50:17,609
lot<font color="#CCCCCC"> of</font><font color="#E5E5E5"> people use this</font><font color="#CCCCCC"> but you can</font>

1028
00:50:15,240 --> 00:50:19,589
<font color="#CCCCCC">actually you know select on entire suite</font>

1029
00:50:17,609 --> 00:50:21,930
<font color="#CCCCCC">of products like it says Microsoft</font>

1030
00:50:19,589 --> 00:50:24,240
<font color="#E5E5E5">whatever folder that you want but</font>

1031
00:50:21,930 --> 00:50:26,578
depending on<font color="#CCCCCC"> what application and what</font>

1032
00:50:24,240 --> 00:50:29,279
<font color="#CCCCCC">paths are there if it's</font><font color="#E5E5E5"> Program Files or</font>

1033
00:50:26,579 --> 00:50:30,569
you know<font color="#CCCCCC"> somewhere Windows</font><font color="#E5E5E5"> system and</font>

1034
00:50:29,280 --> 00:50:32,730
you know you can restrict<font color="#E5E5E5"> it pretty</font>

1035
00:50:30,569 --> 00:50:37,050
easily and you know what<font color="#CCCCCC"> pass for people</font>

1036
00:50:32,730 --> 00:50:38,880
have access<font color="#E5E5E5"> to but you know if app look</font>

1037
00:50:37,050 --> 00:50:39,720
when you<font color="#E5E5E5"> start</font><font color="#CCCCCC"> getting an app data it</font>

1038
00:50:38,880 --> 00:50:44,790
gets a little funky

1039
00:50:39,720 --> 00:50:46,500
because example<font color="#CCCCCC"> we add an exe but we've</font>

1040
00:50:44,790 --> 00:50:48,900
<font color="#E5E5E5">said</font><font color="#CCCCCC"> hey block ii exceeds and then</font>

1041
00:50:46,500 --> 00:50:51,300
someone<font color="#CCCCCC"> download</font><font color="#E5E5E5"> like WebEx and</font><font color="#CCCCCC"> WebEx</font>

1042
00:50:48,900 --> 00:50:53,370
stores<font color="#E5E5E5"> there he</font><font color="#CCCCCC"> xcs</font><font color="#E5E5E5"> and that</font>

1043
00:50:51,300 --> 00:50:55,560
<font color="#E5E5E5">happen it was like although</font><font color="#CCCCCC"> I've</font>

1044
00:50:53,370 --> 00:50:56,130
accessed<font color="#E5E5E5"> stop working and it was like</font>

1045
00:50:55,560 --> 00:50:58,290
yeah

1046
00:50:56,130 --> 00:50:59,880
roll it back let's go<font color="#CCCCCC"> think so be very</font>

1047
00:50:58,290 --> 00:51:02,520
careful<font color="#E5E5E5"> that's again where the audit</font>

1048
00:50:59,880 --> 00:51:04,770
logging comes in so you<font color="#E5E5E5"> can use that</font>

1049
00:51:02,520 --> 00:51:08,070
gather it for six<font color="#CCCCCC"> months a year</font><font color="#E5E5E5"> whatever</font>

1050
00:51:04,770 --> 00:51:09,360
<font color="#E5E5E5">it takes</font><font color="#CCCCCC"> but</font><font color="#E5E5E5"> it allows you to to know</font>

1051
00:51:08,070 --> 00:51:12,050
what<font color="#E5E5E5"> software</font><font color="#CCCCCC"> is out there in</font><font color="#E5E5E5"> your</font>

1052
00:51:09,360 --> 00:51:14,580
organization and<font color="#E5E5E5"> what's being used</font>

1053
00:51:12,050 --> 00:51:16,500
publish<font color="#E5E5E5"> your condition this is actually</font>

1054
00:51:14,580 --> 00:51:20,580
pretty<font color="#E5E5E5"> cool</font><font color="#CCCCCC"> too you can just say</font><font color="#E5E5E5"> okay</font>

1055
00:51:16,500 --> 00:51:22,410
Microsoft bought you know it only<font color="#E5E5E5"> works</font>

1056
00:51:20,580 --> 00:51:25,009
for things that are digitally<font color="#E5E5E5"> signed so</font>

1057
00:51:22,410 --> 00:51:27,569
if you have<font color="#E5E5E5"> software</font><font color="#CCCCCC"> they modified or</font>

1058
00:51:25,010 --> 00:51:30,120
<font color="#E5E5E5">that's you know</font><font color="#CCCCCC"> in-house built that</font>

1059
00:51:27,570 --> 00:51:32,070
isn't digitally signed<font color="#E5E5E5"> and you're not</font>

1060
00:51:30,120 --> 00:51:34,140
<font color="#E5E5E5">gonna be able to use it but</font><font color="#CCCCCC"> for</font>

1061
00:51:32,070 --> 00:51:35,700
Microsoft<font color="#E5E5E5"> you can say</font><font color="#CCCCCC"> they're the ways</font>

1062
00:51:34,140 --> 00:51:39,359
around this though<font color="#E5E5E5"> and there's been</font>

1063
00:51:35,700 --> 00:51:42,720
research<font color="#E5E5E5"> by quite a</font><font color="#CCCCCC"> few</font><font color="#E5E5E5"> people lately of</font>

1064
00:51:39,360 --> 00:51:46,530
you know how to fake those publishers

1065
00:51:42,720 --> 00:51:50,279
and the certificate chaining but for the

1066
00:51:46,530 --> 00:51:53,430
<font color="#E5E5E5">most part it's</font><font color="#CCCCCC"> pretty good</font><font color="#E5E5E5"> also</font><font color="#CCCCCC"> so you</font>

1067
00:51:50,280 --> 00:51:55,830
know group policy is is pretty powerful

1068
00:51:53,430 --> 00:51:59,460
<font color="#CCCCCC">you</font><font color="#E5E5E5"> know it is it is across your</font>

1069
00:51:55,830 --> 00:52:02,580
organization<font color="#E5E5E5"> it is free</font><font color="#CCCCCC"> it's</font><font color="#E5E5E5"> already</font>

1070
00:51:59,460 --> 00:52:05,130
there and if you<font color="#E5E5E5"> don't know like group</font>

1071
00:52:02,580 --> 00:52:07,830
policy<font color="#CCCCCC"> is really an enterprise scale</font>

1072
00:52:05,130 --> 00:52:09,720
registry editor<font color="#E5E5E5"> everything that you can</font>

1073
00:52:07,830 --> 00:52:11,970
do in the registry you can do an<font color="#E5E5E5"> anchor</font>

1074
00:52:09,720 --> 00:52:14,129
policy even<font color="#E5E5E5"> manually if there's not a</font>

1075
00:52:11,970 --> 00:52:16,290
policy for it<font color="#E5E5E5"> you can actually just add</font>

1076
00:52:14,130 --> 00:52:19,800
<font color="#E5E5E5">a registry key or remove or drop a file</font>

1077
00:52:16,290 --> 00:52:21,540
<font color="#E5E5E5">or or anything</font><font color="#CCCCCC"> that you can control</font>

1078
00:52:19,800 --> 00:52:23,250
<font color="#E5E5E5">through your operating system through</font>

1079
00:52:21,540 --> 00:52:26,340
group policy<font color="#CCCCCC"> but I wanted</font><font color="#E5E5E5"> to point out</font>

1080
00:52:23,250 --> 00:52:28,470
<font color="#E5E5E5">that there's a lot of research this one</font>

1081
00:52:26,340 --> 00:52:30,750
is<font color="#CCCCCC"> actually by the DoD</font><font color="#E5E5E5"> they actually</font>

1082
00:52:28,470 --> 00:52:33,899
have a secure host baseline group policy

1083
00:52:30,750 --> 00:52:35,430
templates that<font color="#E5E5E5"> talk about</font><font color="#CCCCCC"> a lot of the</font>

1084
00:52:33,900 --> 00:52:38,580
stuff<font color="#CCCCCC"> they're</font><font color="#E5E5E5"> at that</font><font color="#CCCCCC"> I mentioned and a</font>

1085
00:52:35,430 --> 00:52:40,740
ton more like how to lock down ie<font color="#E5E5E5"> out of</font>

1086
00:52:38,580 --> 00:52:43,590
lockdown<font color="#E5E5E5"> chrome</font><font color="#CCCCCC"> how to lock down Firefox</font>

1087
00:52:40,740 --> 00:52:45,209
whatever it is they<font color="#E5E5E5"> have a huge list of</font>

1088
00:52:43,590 --> 00:52:48,420
group policy<font color="#CCCCCC"> and then there's</font><font color="#E5E5E5"> just</font>

1089
00:52:45,210 --> 00:52:52,430
<font color="#CCCCCC">Google</font><font color="#E5E5E5"> group policy templates security</font>

1090
00:52:48,420 --> 00:52:56,580
<font color="#E5E5E5">there's tons of them out there so</font>

1091
00:52:52,430 --> 00:53:01,700
<font color="#CCCCCC">alright</font><font color="#E5E5E5"> so</font><font color="#CCCCCC"> this</font><font color="#E5E5E5"> is a sad</font><font color="#CCCCCC"> Newt I don't</font>

1092
00:52:56,580 --> 00:53:05,109
know if you heard oh my god<font color="#E5E5E5"> no</font>

1093
00:53:01,700 --> 00:53:08,480
so anyone<font color="#E5E5E5"> hear about this</font><font color="#CCCCCC"> rate mspaint</font>

1094
00:53:05,109 --> 00:53:11,779
yeah<font color="#E5E5E5"> yeah dad I know it's back on the</font>

1095
00:53:08,480 --> 00:53:15,740
<font color="#E5E5E5">App</font><font color="#CCCCCC"> Store you know the</font><font color="#E5E5E5"> people were you</font>

1096
00:53:11,780 --> 00:53:18,230
know<font color="#E5E5E5"> hate mail was going so yeah but</font>

1097
00:53:15,740 --> 00:53:22,700
it's it's a sad<font color="#CCCCCC"> day sad day it's been a</font>

1098
00:53:18,230 --> 00:53:25,369
long time<font color="#E5E5E5"> um this is a contact</font>

1099
00:53:22,700 --> 00:53:28,578
information I follow me on<font color="#E5E5E5"> Twitter you</font>

1100
00:53:25,369 --> 00:53:30,109
reach out to<font color="#CCCCCC"> me</font><font color="#E5E5E5"> I'm always around try to</font>

1101
00:53:28,579 --> 00:53:33,120
<font color="#CCCCCC">be answer questions as much</font><font color="#E5E5E5"> as possible</font>

1102
00:53:30,109 --> 00:53:40,929
<font color="#CCCCCC">but thank</font><font color="#E5E5E5"> you</font>

1103
00:53:33,120 --> 00:53:40,929
[Applause]

