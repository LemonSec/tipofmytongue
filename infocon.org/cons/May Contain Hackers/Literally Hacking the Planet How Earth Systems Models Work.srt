1
00:00:01,280 --> 00:00:12,559
[Music]

2
00:00:14,960 --> 00:00:16,720
hello everybody thanks for waking up

3
00:00:16,720 --> 00:00:17,840
really early

4
00:00:17,840 --> 00:00:19,920
um yeah so we've got a lot to talk about

5
00:00:19,920 --> 00:00:21,520
so i'm going to talk fairly fast but

6
00:00:21,520 --> 00:00:23,359
it's going to be lots of fun uh i'm

7
00:00:23,359 --> 00:00:25,199
going to start with

8
00:00:25,199 --> 00:00:27,760
figuring out how this thing works

9
00:00:27,760 --> 00:00:28,840
oh

10
00:00:28,840 --> 00:00:30,640
no

11
00:00:30,640 --> 00:00:32,159
okay

12
00:00:32,159 --> 00:00:34,160
yeah there we go okay so first some

13
00:00:34,160 --> 00:00:36,559
warnings um so

14
00:00:36,559 --> 00:00:38,480
massive simplifications lie ahead

15
00:00:38,480 --> 00:00:40,000
because

16
00:00:40,000 --> 00:00:42,079
this stuff is way too complicated to fit

17
00:00:42,079 --> 00:00:44,079
into an hour and we don't even have an

18
00:00:44,079 --> 00:00:45,760
hour there's going to be some math

19
00:00:45,760 --> 00:00:47,760
hopefully not too much also i'm not a

20
00:00:47,760 --> 00:00:50,000
climate scientist some of you might be i

21
00:00:50,000 --> 00:00:51,600
want to talk to you afterwards but i'm

22
00:00:51,600 --> 00:00:53,039
just a hacker who just got really

23
00:00:53,039 --> 00:00:54,960
interested in this stuff and there will

24
00:00:54,960 --> 00:00:57,360
not be a written exam that's a lie

25
00:00:57,360 --> 00:01:00,640
so uh this desert is uh wedof uh

26
00:01:00,640 --> 00:01:03,680
obendoff in poland it's a desert in

27
00:01:03,680 --> 00:01:05,360
poland it's actually a naturally

28
00:01:05,360 --> 00:01:08,560
occurring desert from last ice age and

29
00:01:08,560 --> 00:01:12,320
it's this one's fine but every year we

30
00:01:12,320 --> 00:01:15,280
lose about 27 billion tons of fertile

31
00:01:15,280 --> 00:01:18,799
soil to land degradation and uh we lose

32
00:01:18,799 --> 00:01:21,520
about 120 000 square kilometers of land

33
00:01:21,520 --> 00:01:23,200
to desertification that's about three

34
00:01:23,200 --> 00:01:25,520
belgiums if you're counting right

35
00:01:25,520 --> 00:01:27,040
so um

36
00:01:27,040 --> 00:01:29,280
desertification is impacting 168

37
00:01:29,280 --> 00:01:32,079
countries worldwide and

38
00:01:32,079 --> 00:01:33,520
this is a problem

39
00:01:33,520 --> 00:01:35,040
when people talk about climate change

40
00:01:35,040 --> 00:01:37,040
they tend to talk about

41
00:01:37,040 --> 00:01:38,159
co2

42
00:01:38,159 --> 00:01:40,560
co2 we kind of understand that we need

43
00:01:40,560 --> 00:01:42,479
to release less of it we need to capture

44
00:01:42,479 --> 00:01:44,320
more of it but that's not the only

45
00:01:44,320 --> 00:01:46,799
process there's um all sorts of

46
00:01:46,799 --> 00:01:48,799
processes like desertification

47
00:01:48,799 --> 00:01:50,799
eutrophication and other things like

48
00:01:50,799 --> 00:01:52,560
that and we need to understand them and

49
00:01:52,560 --> 00:01:54,479
deal with them okay

50
00:01:54,479 --> 00:01:55,920
so

51
00:01:55,920 --> 00:01:57,520
in order to deal with all of these

52
00:01:57,520 --> 00:01:59,119
effects we

53
00:01:59,119 --> 00:02:01,360
use computers we we

54
00:02:01,360 --> 00:02:04,000
uh you know we try to catalog the oceans

55
00:02:04,000 --> 00:02:06,320
the atmosphere the biosphere whatever

56
00:02:06,320 --> 00:02:08,479
systems and we

57
00:02:08,479 --> 00:02:10,318
need to understand how these processes

58
00:02:10,318 --> 00:02:12,080
work on a very deep level

59
00:02:12,080 --> 00:02:15,200
so one of the main reasons or methods we

60
00:02:15,200 --> 00:02:18,480
use is uh we

61
00:02:18,480 --> 00:02:20,080
write software

62
00:02:20,080 --> 00:02:21,840
that simulates how all of this stuff

63
00:02:21,840 --> 00:02:24,480
works and then we try to run it and and

64
00:02:24,480 --> 00:02:26,160
uh hopefully come up with some useful

65
00:02:26,160 --> 00:02:28,319
predictions then we test those

66
00:02:28,319 --> 00:02:30,720
predictions against real data and if

67
00:02:30,720 --> 00:02:33,040
that works perfect then then we know

68
00:02:33,040 --> 00:02:34,959
that it's at least somewhat reliable of

69
00:02:34,959 --> 00:02:36,319
course we can set up lots of different

70
00:02:36,319 --> 00:02:39,280
scenarios and so on and and this is fine

71
00:02:39,280 --> 00:02:41,200
so i'm going to talk a little bit about

72
00:02:41,200 --> 00:02:43,360
how these models work but i'm also going

73
00:02:43,360 --> 00:02:45,599
to talk about why some of these models

74
00:02:45,599 --> 00:02:47,120
and a lot of the modeling methods that

75
00:02:47,120 --> 00:02:50,480
are used are stuck in the 80s and that's

76
00:02:50,480 --> 00:02:52,080
actually a little bit terrifying but you

77
00:02:52,080 --> 00:02:53,599
know we'll we'll get there

78
00:02:53,599 --> 00:02:57,040
uh one big note this is from uh

79
00:02:57,040 --> 00:02:59,760
george box all models are wrong

80
00:02:59,760 --> 00:03:01,280
but some models are useful and that's

81
00:03:01,280 --> 00:03:03,760
fine you know we we want to make use of

82
00:03:03,760 --> 00:03:05,840
the fact that some models are useful

83
00:03:05,840 --> 00:03:08,000
so um and

84
00:03:08,000 --> 00:03:09,599
just a few non goals this is not a

85
00:03:09,599 --> 00:03:11,760
course in climate science it's not a

86
00:03:11,760 --> 00:03:13,920
deep dive into any specific model i'm

87
00:03:13,920 --> 00:03:15,280
going to talk a little bit about one of

88
00:03:15,280 --> 00:03:16,800
the models because it's kind of useful

89
00:03:16,800 --> 00:03:19,680
to get an idea but yeah and it's not

90
00:03:19,680 --> 00:03:21,200
intended to be scientifically rigorous

91
00:03:21,200 --> 00:03:23,200
which means um

92
00:03:23,200 --> 00:03:25,840
look i'm simplifying a lot of stuff here

93
00:03:25,840 --> 00:03:28,720
and just yeah okay

94
00:03:28,720 --> 00:03:31,920
so let's talk about rocks in space okay

95
00:03:31,920 --> 00:03:34,480
um space turns out to be full of stuff

96
00:03:34,480 --> 00:03:37,120
and some of that stuff is rocks right

97
00:03:37,120 --> 00:03:39,519
and so if a rock in space is massive

98
00:03:39,519 --> 00:03:42,400
enough then over time the the internal

99
00:03:42,400 --> 00:03:44,319
battle between gravitation and the

100
00:03:44,319 --> 00:03:46,640
internal stresses of the material

101
00:03:46,640 --> 00:03:48,239
are going to cause it to tightly settle

102
00:03:48,239 --> 00:03:50,159
into a sphere shape

103
00:03:50,159 --> 00:03:52,080
um depending on where it is and what

104
00:03:52,080 --> 00:03:53,599
it's doing it might be called a planet

105
00:03:53,599 --> 00:03:55,439
this is actually phobos it's one of mars

106
00:03:55,439 --> 00:03:57,120
moons but we're going to talk mostly

107
00:03:57,120 --> 00:03:58,319
about planets

108
00:03:58,319 --> 00:04:00,480
so if you know the planet's mass and its

109
00:04:00,480 --> 00:04:02,239
radius then you can calculate the escape

110
00:04:02,239 --> 00:04:06,400
velocity right it's easy um and

111
00:04:06,400 --> 00:04:08,000
the escape velocity is basically how

112
00:04:08,000 --> 00:04:10,080
fast you need to be going to escape the

113
00:04:10,080 --> 00:04:12,080
gravitational influence so that means

114
00:04:12,080 --> 00:04:14,080
people in rockets or rockets without

115
00:04:14,080 --> 00:04:15,920
people but it also means liquids and

116
00:04:15,920 --> 00:04:17,918
gases and things like that

117
00:04:17,918 --> 00:04:20,000
so if we talk about the gases

118
00:04:20,000 --> 00:04:22,160
if you have a gas and you know it's mass

119
00:04:22,160 --> 00:04:24,320
so molecular mass and you know it's uh

120
00:04:24,320 --> 00:04:26,320
how hot it is roughly then you can

121
00:04:26,320 --> 00:04:29,199
calculate its average velocity of a

122
00:04:29,199 --> 00:04:31,680
of an individual module a molecule

123
00:04:31,680 --> 00:04:33,680
so some gases are heavy others are light

124
00:04:33,680 --> 00:04:36,000
hydrogen has an atomic weight of one but

125
00:04:36,000 --> 00:04:37,280
it tends to

126
00:04:37,280 --> 00:04:39,840
be found in nature as h2 so aggregate

127
00:04:39,840 --> 00:04:42,000
mass is two nitrogen has an atomic mass

128
00:04:42,000 --> 00:04:45,600
of 14 but is found as n2 so 28 right

129
00:04:45,600 --> 00:04:46,400
so

130
00:04:46,400 --> 00:04:48,960
what happens if the velocity of the gas

131
00:04:48,960 --> 00:04:50,800
is similar to the escape velocity of the

132
00:04:50,800 --> 00:04:51,759
planet

133
00:04:51,759 --> 00:04:54,400
well it goes away right

134
00:04:54,400 --> 00:04:56,479
now even if it's significantly smaller

135
00:04:56,479 --> 00:04:58,400
let's say about 10 of the escape

136
00:04:58,400 --> 00:05:00,560
velocity most of it will go away over

137
00:05:00,560 --> 00:05:01,759
time

138
00:05:01,759 --> 00:05:02,720
and

139
00:05:02,720 --> 00:05:04,560
uh so if you know the average

140
00:05:04,560 --> 00:05:06,479
temperature and the mass of the

141
00:05:06,479 --> 00:05:08,800
of the gases near your rock in space

142
00:05:08,800 --> 00:05:10,880
then you can figure out

143
00:05:10,880 --> 00:05:12,880
how likely it is to fly away

144
00:05:12,880 --> 00:05:15,120
and so if we take a planet let's call it

145
00:05:15,120 --> 00:05:19,240
earth and it's 6371

146
00:05:19,600 --> 00:05:21,680
kilometer mean radius and you know we

147
00:05:21,680 --> 00:05:23,520
can calculate the escape velocity we got

148
00:05:23,520 --> 00:05:25,199
these different types of molecules and

149
00:05:25,199 --> 00:05:27,280
we can roughly figure out whether

150
00:05:27,280 --> 00:05:29,440
they're likely to fly away right this is

151
00:05:29,440 --> 00:05:30,560
pretty cool

152
00:05:30,560 --> 00:05:31,680
and

153
00:05:31,680 --> 00:05:34,160
that's so if they fly away we can say

154
00:05:34,160 --> 00:05:36,000
that they're boiling off and if they're

155
00:05:36,000 --> 00:05:37,919
not boiling off they make a soupy thing

156
00:05:37,919 --> 00:05:40,720
that we call an atmosphere so based on

157
00:05:40,720 --> 00:05:42,160
this you can actually calculate it for

158
00:05:42,160 --> 00:05:43,919
any given planet which is why we know

159
00:05:43,919 --> 00:05:45,680
that mercury shouldn't really have an

160
00:05:45,680 --> 00:05:48,160
atmosphere and also kind of why it rains

161
00:05:48,160 --> 00:05:50,479
diamonds on jupiter right this is really

162
00:05:50,479 --> 00:05:52,160
cool

163
00:05:52,160 --> 00:05:53,680
so

164
00:05:53,680 --> 00:05:55,120
i did

165
00:05:55,120 --> 00:05:57,520
point out one thing though in

166
00:05:57,520 --> 00:06:00,080
in this one i assume that the average

167
00:06:00,080 --> 00:06:03,440
temperature is 15 degrees celsius right

168
00:06:03,440 --> 00:06:05,120
how did we get there

169
00:06:05,120 --> 00:06:07,360
well let's talk about stars a star is

170
00:06:07,360 --> 00:06:09,360
basically a giant pile of stuff in space

171
00:06:09,360 --> 00:06:11,600
that lives in an equilibrium

172
00:06:11,600 --> 00:06:13,039
there's so much stuff that the gravity

173
00:06:13,039 --> 00:06:14,800
wants to

174
00:06:14,800 --> 00:06:18,080
crush it together into a point and

175
00:06:18,080 --> 00:06:21,280
the pressure and such is so crazy that

176
00:06:21,280 --> 00:06:23,440
it wants to rip itself apart so we get

177
00:06:23,440 --> 00:06:26,880
this equilibrium of nuclear fission and

178
00:06:26,880 --> 00:06:29,440
it produces electromagnetic radiation so

179
00:06:29,440 --> 00:06:31,120
this is actually an x-ray image of our

180
00:06:31,120 --> 00:06:32,720
sun it's it's

181
00:06:32,720 --> 00:06:34,000
measurements from a bunch of different

182
00:06:34,000 --> 00:06:37,840
satellites very very nice so um

183
00:06:37,840 --> 00:06:40,000
so the radiation from different stars

184
00:06:40,000 --> 00:06:41,360
comes at different frequencies the

185
00:06:41,360 --> 00:06:44,160
radiation goes out in all directions and

186
00:06:44,160 --> 00:06:47,199
we we use this uh black body temperature

187
00:06:47,199 --> 00:06:48,720
equation to

188
00:06:48,720 --> 00:06:50,880
figure out roughly what frequencies

189
00:06:50,880 --> 00:06:54,160
you're going to be getting so

190
00:06:54,160 --> 00:06:56,319
it's called the stefan boltzmann law

191
00:06:56,319 --> 00:06:57,280
and

192
00:06:57,280 --> 00:06:59,520
based on this our sun is basically going

193
00:06:59,520 --> 00:07:00,960
to be around here in the visible

194
00:07:00,960 --> 00:07:04,720
spectrum which is very convenient for us

195
00:07:04,720 --> 00:07:06,960
but

196
00:07:06,960 --> 00:07:09,759
there's this weird thing about it

197
00:07:09,759 --> 00:07:10,800
you see

198
00:07:10,800 --> 00:07:13,280
most of the gases in earth's atmosphere

199
00:07:13,280 --> 00:07:15,360
the main exception being water are

200
00:07:15,360 --> 00:07:17,599
actually transparent to light at those

201
00:07:17,599 --> 00:07:20,080
frequencies so the energy just goes

202
00:07:20,080 --> 00:07:21,199
right through

203
00:07:21,199 --> 00:07:22,240
and

204
00:07:22,240 --> 00:07:24,240
it mostly just heats up the rocks and

205
00:07:24,240 --> 00:07:26,560
the stuff on the ground

206
00:07:26,560 --> 00:07:27,599
so

207
00:07:27,599 --> 00:07:28,800
um

208
00:07:28,800 --> 00:07:32,880
that stuff warms up and starts to emit a

209
00:07:32,880 --> 00:07:35,039
different wavelength of frequencies and

210
00:07:35,039 --> 00:07:38,160
that's how we warm up our atmosphere

211
00:07:38,160 --> 00:07:39,360
so

212
00:07:39,360 --> 00:07:41,680
we end up with a kind of systems diagram

213
00:07:41,680 --> 00:07:43,440
like this so we've got solar radiation

214
00:07:43,440 --> 00:07:45,440
coming in it comes to the ground the

215
00:07:45,440 --> 00:07:46,960
ground warms up it heats up the

216
00:07:46,960 --> 00:07:49,680
atmosphere the atmosphere heats up the

217
00:07:49,680 --> 00:07:52,479
oceans and uh well it's actually there's

218
00:07:52,479 --> 00:07:54,560
more inputs here i'm simplifying

219
00:07:54,560 --> 00:07:55,840
remember

220
00:07:55,840 --> 00:07:57,199
and then

221
00:07:57,199 --> 00:07:59,120
eventually some of it escapes as

222
00:07:59,120 --> 00:08:01,039
infrared radiation

223
00:08:01,039 --> 00:08:03,440
now the cool thing is

224
00:08:03,440 --> 00:08:06,160
the input and the output are roughly the

225
00:08:06,160 --> 00:08:06,960
same

226
00:08:06,960 --> 00:08:07,759
right

227
00:08:07,759 --> 00:08:10,240
so our planet is in a nice thermodynamic

228
00:08:10,240 --> 00:08:12,720
equilibrium the main question becomes

229
00:08:12,720 --> 00:08:14,639
how big are the buffers how much energy

230
00:08:14,639 --> 00:08:16,319
are we storing at any given point in

231
00:08:16,319 --> 00:08:17,919
time

232
00:08:17,919 --> 00:08:18,800
and

233
00:08:18,800 --> 00:08:21,599
that's actually the crux of of a lot of

234
00:08:21,599 --> 00:08:23,360
what we're doing in climate science

235
00:08:23,360 --> 00:08:24,800
these days apparently

236
00:08:24,800 --> 00:08:27,840
so um

237
00:08:27,840 --> 00:08:30,080
an interesting point jupiter has more

238
00:08:30,080 --> 00:08:32,559
output than it has input which suggests

239
00:08:32,559 --> 00:08:33,599
that there's

240
00:08:33,599 --> 00:08:35,599
lots of cool stuff happening deep down

241
00:08:35,599 --> 00:08:37,039
inside of it

242
00:08:37,039 --> 00:08:38,000
but

243
00:08:38,000 --> 00:08:39,519
let's talk about these buffers a bit

244
00:08:39,519 --> 00:08:40,559
more

245
00:08:40,559 --> 00:08:43,519
so the two main buffers are

246
00:08:43,519 --> 00:08:45,200
for earth are the atmosphere in the

247
00:08:45,200 --> 00:08:47,200
ocean the rocky ground bit of course

248
00:08:47,200 --> 00:08:48,399
matters

249
00:08:48,399 --> 00:08:50,480
but we're not here to talk about

250
00:08:50,480 --> 00:08:52,640
geophysics and that stuff happens on a

251
00:08:52,640 --> 00:08:54,720
much longer time

252
00:08:54,720 --> 00:08:56,640
frame than we're really caring about

253
00:08:56,640 --> 00:08:57,519
here

254
00:08:57,519 --> 00:09:00,320
so for our purposes the atmosphere is a

255
00:09:00,320 --> 00:09:03,200
big one and the heating that is

256
00:09:03,200 --> 00:09:05,760
happening causes some of the air to rise

257
00:09:05,760 --> 00:09:08,720
because hot air is lighter

258
00:09:08,720 --> 00:09:11,519
so we get buoyancy in the air and of

259
00:09:11,519 --> 00:09:13,200
course colder air needs to come in

260
00:09:13,200 --> 00:09:15,279
underneath it so this causes pressure

261
00:09:15,279 --> 00:09:16,560
differences

262
00:09:16,560 --> 00:09:19,279
that cause wind to happen and the wind

263
00:09:19,279 --> 00:09:21,279
direction is driven by these pressure

264
00:09:21,279 --> 00:09:23,760
differentials and also the rotation of

265
00:09:23,760 --> 00:09:26,240
the rock the corioli effect

266
00:09:26,240 --> 00:09:27,920
some people would call it coriolis but

267
00:09:27,920 --> 00:09:31,360
the guy was french so you know

268
00:09:31,600 --> 00:09:34,720
anyway so this rising parcel there it

269
00:09:34,720 --> 00:09:37,120
will cool as it rises and the atmosphere

270
00:09:37,120 --> 00:09:39,279
is a mix of gases so the cooling and the

271
00:09:39,279 --> 00:09:41,200
pressure difference they

272
00:09:41,200 --> 00:09:44,000
might trip over this threshold

273
00:09:44,000 --> 00:09:46,160
which causes a phase change

274
00:09:46,160 --> 00:09:48,480
and uh in some of those constituent

275
00:09:48,480 --> 00:09:49,440
gases

276
00:09:49,440 --> 00:09:52,800
and so this is why we get things like

277
00:09:52,800 --> 00:09:54,880
rain but it also means

278
00:09:54,880 --> 00:09:56,959
it also explains how we end up with

279
00:09:56,959 --> 00:09:59,360
diamond training on jupiter right we we

280
00:09:59,360 --> 00:10:01,760
get these phase changes that happen as

281
00:10:01,760 --> 00:10:03,040
things are moving up and down in the

282
00:10:03,040 --> 00:10:04,399
atmosphere

283
00:10:04,399 --> 00:10:05,200
so

284
00:10:05,200 --> 00:10:06,959
um if

285
00:10:06,959 --> 00:10:09,040
the air is cold enough that the relative

286
00:10:09,040 --> 00:10:10,959
humidity is 100

287
00:10:10,959 --> 00:10:12,720
the air can't hold the vapor in it

288
00:10:12,720 --> 00:10:14,240
anymore

289
00:10:14,240 --> 00:10:16,880
so basically dry air means no clouds but

290
00:10:16,880 --> 00:10:18,560
wet air means lots of clouds so if you

291
00:10:18,560 --> 00:10:20,000
go outside you can figure out how wet

292
00:10:20,000 --> 00:10:22,160
the air is

293
00:10:22,160 --> 00:10:23,120
and

294
00:10:23,120 --> 00:10:25,279
for that we can look at the adiabatic

295
00:10:25,279 --> 00:10:27,440
collapse rate which in earth's

296
00:10:27,440 --> 00:10:29,040
troposphere is about one degree for

297
00:10:29,040 --> 00:10:31,760
every one 100 meters

298
00:10:31,760 --> 00:10:33,680
so if you climb a one kilometer high

299
00:10:33,680 --> 00:10:35,839
mountain the ambient air temperature is

300
00:10:35,839 --> 00:10:37,680
going to be about 10 degrees colder than

301
00:10:37,680 --> 00:10:40,640
down in the valley below right okay

302
00:10:40,640 --> 00:10:41,600
so

303
00:10:41,600 --> 00:10:44,000
um oceanography kind of works similar

304
00:10:44,000 --> 00:10:46,000
ways except there we have an

305
00:10:46,000 --> 00:10:48,240
incompressible fluid uh salinity

306
00:10:48,240 --> 00:10:50,560
gradients have a lot of effect so how

307
00:10:50,560 --> 00:10:52,640
much salt is in the

308
00:10:52,640 --> 00:10:54,560
bit of water you're looking at

309
00:10:54,560 --> 00:10:56,000
and this is why we have things like

310
00:10:56,000 --> 00:10:57,839
thermo highline cycles like the gulf

311
00:10:57,839 --> 00:11:00,720
stream and sea ice has a lot to say

312
00:11:00,720 --> 00:11:02,880
we're actually uh so i talked with an

313
00:11:02,880 --> 00:11:05,920
oceanographer recently who uh who gave a

314
00:11:05,920 --> 00:11:08,720
ballpark estimate of tens to hundreds of

315
00:11:08,720 --> 00:11:11,279
terror jewels being unaccounted for

316
00:11:11,279 --> 00:11:13,920
every day because the sea ice models are

317
00:11:13,920 --> 00:11:15,839
just not quite good enough

318
00:11:15,839 --> 00:11:17,680
uh and then of course the interface

319
00:11:17,680 --> 00:11:20,079
layer between the water and the

320
00:11:20,079 --> 00:11:22,399
air that matters a huge amount because

321
00:11:22,399 --> 00:11:25,440
of the transference of energy between it

322
00:11:25,440 --> 00:11:27,360
so at this point euro going like wait

323
00:11:27,360 --> 00:11:30,000
what i thought it was about or systems

324
00:11:30,000 --> 00:11:32,480
modeling well uh you know but yeah so

325
00:11:32,480 --> 00:11:35,120
that was the ten minute meteorology

326
00:11:35,120 --> 00:11:38,320
super simplified version uh because i

327
00:11:38,320 --> 00:11:39,839
want you to understand how many

328
00:11:39,839 --> 00:11:41,519
different forces and dynamics are going

329
00:11:41,519 --> 00:11:43,760
on here right this is kind of obvious

330
00:11:43,760 --> 00:11:46,160
stuff but at the same time you know it's

331
00:11:46,160 --> 00:11:49,600
amazing how many details there are

332
00:11:49,600 --> 00:11:50,480
so

333
00:11:50,480 --> 00:11:52,240
in order for us to model this stuff in

334
00:11:52,240 --> 00:11:54,320
order for us to make a computer model we

335
00:11:54,320 --> 00:11:56,079
need to break stuff down into some kind

336
00:11:56,079 --> 00:11:57,519
of grid

337
00:11:57,519 --> 00:12:00,720
and uh the first step in any

338
00:12:00,720 --> 00:12:03,120
oh no

339
00:12:03,120 --> 00:12:05,200
in any computer simulation

340
00:12:05,200 --> 00:12:07,600
is

341
00:12:08,839 --> 00:12:10,399
ah

342
00:12:10,399 --> 00:12:11,440
yeah

343
00:12:11,440 --> 00:12:13,279
is to create an operational environment

344
00:12:13,279 --> 00:12:15,120
in which the simulation can take place

345
00:12:15,120 --> 00:12:17,360
uh both in space and time so we could

346
00:12:17,360 --> 00:12:19,440
start on the quantum level like this

347
00:12:19,440 --> 00:12:22,079
and work our way up uh simulating each

348
00:12:22,079 --> 00:12:24,399
particle but that would just be way too

349
00:12:24,399 --> 00:12:26,560
much stuff and way too much information

350
00:12:26,560 --> 00:12:28,880
to keep track of uh so actually this

351
00:12:28,880 --> 00:12:30,720
video is from braintruffle on youtube he

352
00:12:30,720 --> 00:12:35,440
has an amazing series on um on

353
00:12:35,440 --> 00:12:37,200
so computational fluid dynamics it's

354
00:12:37,200 --> 00:12:39,600
amazing i really love it but

355
00:12:39,600 --> 00:12:41,279
we can't deal with all of this stuff

356
00:12:41,279 --> 00:12:43,360
it's just too much so

357
00:12:43,360 --> 00:12:45,200
what we're going to do is use

358
00:12:45,200 --> 00:12:47,440
macroscopic statistical measures such as

359
00:12:47,440 --> 00:12:49,600
pressure and temperature and density and

360
00:12:49,600 --> 00:12:51,920
flow direction and so on and you know

361
00:12:51,920 --> 00:12:54,240
this is just a practicality

362
00:12:54,240 --> 00:12:55,120
but

363
00:12:55,120 --> 00:12:56,399
earth

364
00:12:56,399 --> 00:12:58,720
as you know has a surface area of about

365
00:12:58,720 --> 00:13:02,079
510 million square kilometers and

366
00:13:02,079 --> 00:13:03,680
because of all of this motion and

367
00:13:03,680 --> 00:13:05,200
interconnectedness in the atmosphere in

368
00:13:05,200 --> 00:13:06,720
the oceans

369
00:13:06,720 --> 00:13:08,800
we can't just simulate the bits that we

370
00:13:08,800 --> 00:13:10,160
care about we have to simulate the

371
00:13:10,160 --> 00:13:11,680
entire thing

372
00:13:11,680 --> 00:13:13,440
so

373
00:13:13,440 --> 00:13:15,760
we have different areas influencing like

374
00:13:15,760 --> 00:13:17,920
you know here we are on this nice little

375
00:13:17,920 --> 00:13:19,760
island but you know the north sea is

376
00:13:19,760 --> 00:13:22,160
influencing us the alps are influencing

377
00:13:22,160 --> 00:13:24,800
us and so on so we need to

378
00:13:24,800 --> 00:13:26,160
take care of it all

379
00:13:26,160 --> 00:13:28,959
so we need to break this 510 million

380
00:13:28,959 --> 00:13:31,040
square kilometer area into a grid of

381
00:13:31,040 --> 00:13:33,600
some kind we can do that using the

382
00:13:33,600 --> 00:13:36,160
rectilinear grids like this one or a

383
00:13:36,160 --> 00:13:39,040
dynamical core and you know each of

384
00:13:39,040 --> 00:13:41,120
these different options has different

385
00:13:41,120 --> 00:13:42,320
tradeoffs

386
00:13:42,320 --> 00:13:44,800
so a rectilinear grid super basic it's

387
00:13:44,800 --> 00:13:46,959
essentially just a mercuricator

388
00:13:46,959 --> 00:13:49,120
projection right

389
00:13:49,120 --> 00:13:51,040
but it has this problem you know it's

390
00:13:51,040 --> 00:13:52,480
super simple but

391
00:13:52,480 --> 00:13:53,519
uh

392
00:13:53,519 --> 00:13:56,320
the bits at the top the the grid squares

393
00:13:56,320 --> 00:13:58,959
at the top they tend to squish a lot so

394
00:13:58,959 --> 00:14:01,120
suddenly the poles are really accurate

395
00:14:01,120 --> 00:14:02,880
but around the equator they're less

396
00:14:02,880 --> 00:14:05,760
accurate and this is actually used a lot

397
00:14:05,760 --> 00:14:06,720
so

398
00:14:06,720 --> 00:14:09,199
if you go and find climate data online

399
00:14:09,199 --> 00:14:12,079
it's very likely to be in 0.25 or 0.1

400
00:14:12,079 --> 00:14:14,880
degree latitude longitude grid and you

401
00:14:14,880 --> 00:14:17,120
know that's um

402
00:14:17,120 --> 00:14:19,600
uh just the state of things but of

403
00:14:19,600 --> 00:14:22,160
course there are problems with that so

404
00:14:22,160 --> 00:14:23,440
if you have a

405
00:14:23,440 --> 00:14:25,920
zero point um

406
00:14:25,920 --> 00:14:28,480
let's say 0.1 degree grid you're going

407
00:14:28,480 --> 00:14:31,519
to end up with 100 by 100 kilometer

408
00:14:31,519 --> 00:14:32,560
blocks

409
00:14:32,560 --> 00:14:33,440
and

410
00:14:33,440 --> 00:14:35,360
really most of the stuff we need to be

411
00:14:35,360 --> 00:14:38,320
doing is on the one one by one kilometer

412
00:14:38,320 --> 00:14:41,120
level or less so you can imagine how

413
00:14:41,120 --> 00:14:43,040
quickly we end up with a huge number of

414
00:14:43,040 --> 00:14:44,639
blocks

415
00:14:44,639 --> 00:14:46,720
so one thing we can do is be more

416
00:14:46,720 --> 00:14:48,800
flexible by using a dynamical core where

417
00:14:48,800 --> 00:14:50,399
we say

418
00:14:50,399 --> 00:14:52,880
some of the area or some area we really

419
00:14:52,880 --> 00:14:55,040
care about so let's be more accurate

420
00:14:55,040 --> 00:14:57,920
there and less accurate elsewhere and

421
00:14:57,920 --> 00:15:00,320
the problem with this is you end up with

422
00:15:00,320 --> 00:15:01,839
having to deal with all these special

423
00:15:01,839 --> 00:15:03,920
boundary conditions where you have this

424
00:15:03,920 --> 00:15:06,079
transition from low resolution to high

425
00:15:06,079 --> 00:15:09,040
resolution and so

426
00:15:09,040 --> 00:15:11,360
you need to do special accounting and so

427
00:15:11,360 --> 00:15:13,519
in terms of like the science this is

428
00:15:13,519 --> 00:15:15,839
fine in terms of running on a computer

429
00:15:15,839 --> 00:15:18,160
this is atrocious because you need to do

430
00:15:18,160 --> 00:15:21,120
extra if statements and and basically

431
00:15:21,120 --> 00:15:23,120
thrash your cpu cache

432
00:15:23,120 --> 00:15:25,360
so um you know but this is actually

433
00:15:25,360 --> 00:15:28,160
really uh used a lot and of course this

434
00:15:28,160 --> 00:15:29,759
one's just uh emphasizing on the

435
00:15:29,759 --> 00:15:31,600
greenland ice sheet this is a picture

436
00:15:31,600 --> 00:15:34,240
from encar the national center for

437
00:15:34,240 --> 00:15:35,920
atmospheric research in the us i'm using

438
00:15:35,920 --> 00:15:38,720
a lot of stuff from them in this

439
00:15:38,720 --> 00:15:40,720
another more recent approach is the

440
00:15:40,720 --> 00:15:43,120
voronoi grid uh so this is used in

441
00:15:43,120 --> 00:15:45,440
empass which is a model for protection

442
00:15:45,440 --> 00:15:48,959
across scales uh and warren eye meshes

443
00:15:48,959 --> 00:15:51,040
you you're familiar with foreign it

444
00:15:51,040 --> 00:15:55,759
basically using uh hexagons or um

445
00:15:55,759 --> 00:15:58,399
or pentagons to make things more

446
00:15:58,399 --> 00:16:00,320
accurate in certain places nice thing

447
00:16:00,320 --> 00:16:02,240
about this is you always use the same

448
00:16:02,240 --> 00:16:05,199
correction uh function in every step so

449
00:16:05,199 --> 00:16:07,199
there aren't any weird boundary

450
00:16:07,199 --> 00:16:08,720
conditions everything is a boundary

451
00:16:08,720 --> 00:16:10,639
condition so you get some nice pretty

452
00:16:10,639 --> 00:16:12,800
mass out of this

453
00:16:12,800 --> 00:16:15,680
one i really like is the geodesic grid

454
00:16:15,680 --> 00:16:17,440
this is used for instance in the icon

455
00:16:17,440 --> 00:16:18,720
model

456
00:16:18,720 --> 00:16:20,480
where you start with an icosahedron and

457
00:16:20,480 --> 00:16:22,959
then you just subdivide every triangle

458
00:16:22,959 --> 00:16:26,720
in the icosahedron into four uh

459
00:16:26,720 --> 00:16:28,399
subdivided triangles and do that enough

460
00:16:28,399 --> 00:16:29,839
times and you end up with a very high

461
00:16:29,839 --> 00:16:32,480
resolution planet right this is uh very

462
00:16:32,480 --> 00:16:34,560
nice

463
00:16:34,560 --> 00:16:36,320
so this is kind of one of the things

464
00:16:36,320 --> 00:16:38,480
that uh i'm using a lot of my systems

465
00:16:38,480 --> 00:16:40,399
but um

466
00:16:40,399 --> 00:16:41,680
you know

467
00:16:41,680 --> 00:16:43,759
this is super cool because

468
00:16:43,759 --> 00:16:46,079
it means that each triangle can

469
00:16:46,079 --> 00:16:48,079
essentially be the root uh so each

470
00:16:48,079 --> 00:16:49,680
triangle in the across a hadron can be

471
00:16:49,680 --> 00:16:52,639
the root of a quad tree

472
00:16:52,639 --> 00:16:55,199
and so very nice computer sciences stuff

473
00:16:55,199 --> 00:16:57,120
that comes out of that

474
00:16:57,120 --> 00:16:59,839
anyway so we pick a grid we subdivide

475
00:16:59,839 --> 00:17:02,000
the planet into blocks well call these

476
00:17:02,000 --> 00:17:03,680
grid blocks or voxels or something you

477
00:17:03,680 --> 00:17:06,559
know depending on how i feel uh and

478
00:17:06,559 --> 00:17:09,039
so even on a

479
00:17:09,039 --> 00:17:10,319
rectilinear grid these are going to be

480
00:17:10,319 --> 00:17:11,599
tapered somehow they're never going to

481
00:17:11,599 --> 00:17:13,679
be exact cubes because we're on a

482
00:17:13,679 --> 00:17:16,839
spherical planet um but

483
00:17:16,839 --> 00:17:21,280
um we also typically tend to subdivide

484
00:17:21,280 --> 00:17:23,439
horizontal uh vertically differently

485
00:17:23,439 --> 00:17:25,599
from how we do it horizontally so

486
00:17:25,599 --> 00:17:27,439
most models will use maybe

487
00:17:27,439 --> 00:17:30,320
10 or 20 meter altitude steps very low

488
00:17:30,320 --> 00:17:31,440
down

489
00:17:31,440 --> 00:17:32,400
up to

490
00:17:32,400 --> 00:17:34,880
maybe 500 meter altitude and then 100

491
00:17:34,880 --> 00:17:36,960
and 200 meters after that but it depends

492
00:17:36,960 --> 00:17:38,480
on what exactly the model is trying to

493
00:17:38,480 --> 00:17:40,559
accomplish okay

494
00:17:40,559 --> 00:17:41,280
so

495
00:17:41,280 --> 00:17:43,600
having done that now we get to run

496
00:17:43,600 --> 00:17:47,200
physics on these voxels

497
00:17:47,200 --> 00:17:50,480
and regardless of which grid you select

498
00:17:50,480 --> 00:17:52,960
to do this computation the next step you

499
00:17:52,960 --> 00:17:54,160
need to

500
00:17:54,160 --> 00:17:56,559
codify the physics on that grid

501
00:17:56,559 --> 00:17:59,039
and so we need a few things we need

502
00:17:59,039 --> 00:18:01,360
first off a global timer because we need

503
00:18:01,360 --> 00:18:03,600
to calculate the time steps this is just

504
00:18:03,600 --> 00:18:05,360
the same as in any computer game how you

505
00:18:05,360 --> 00:18:08,320
get a a game loop right

506
00:18:08,320 --> 00:18:10,400
um you need

507
00:18:10,400 --> 00:18:12,240
some kind of short wave radiation model

508
00:18:12,240 --> 00:18:14,640
for the input from the sun coming in you

509
00:18:14,640 --> 00:18:16,960
need a long wave radiation model so for

510
00:18:16,960 --> 00:18:19,840
the infrared light going out from the

511
00:18:19,840 --> 00:18:20,799
planet

512
00:18:20,799 --> 00:18:23,120
you need some kind of lagrangian

513
00:18:23,120 --> 00:18:25,280
continuum equation which is basically

514
00:18:25,280 --> 00:18:28,240
for modeling how flows go through each

515
00:18:28,240 --> 00:18:30,400
grid so where stuff comes from and where

516
00:18:30,400 --> 00:18:31,919
it goes afterwards

517
00:18:31,919 --> 00:18:33,440
and

518
00:18:33,440 --> 00:18:34,640
you're going to need

519
00:18:34,640 --> 00:18:37,840
a bunch of factors so some kind of thing

520
00:18:37,840 --> 00:18:39,600
like the global circulation model where

521
00:18:39,600 --> 00:18:40,559
you

522
00:18:40,559 --> 00:18:43,120
keep track of say the corioli effect and

523
00:18:43,120 --> 00:18:44,960
the you know um

524
00:18:44,960 --> 00:18:46,559
all of the physical constraints of the

525
00:18:46,559 --> 00:18:47,760
planet

526
00:18:47,760 --> 00:18:49,360
and then you need some kind of

527
00:18:49,360 --> 00:18:51,280
interaction models which are like how

528
00:18:51,280 --> 00:18:53,120
the sea surface and the atmosphere

529
00:18:53,120 --> 00:18:55,440
exchange energy for instance if you have

530
00:18:55,440 --> 00:18:58,000
all these things and just press play

531
00:18:58,000 --> 00:18:59,840
then you're actually

532
00:18:59,840 --> 00:19:01,440
got a lot of you know you've got a lot

533
00:19:01,440 --> 00:19:03,840
of progress it's going quite well

534
00:19:03,840 --> 00:19:05,679
um

535
00:19:05,679 --> 00:19:08,799
and this is fine so

536
00:19:08,799 --> 00:19:09,919
then you need some kind of data

537
00:19:09,919 --> 00:19:12,480
structure and so remember each grid

538
00:19:12,480 --> 00:19:14,720
block is essentially just a structure

539
00:19:14,720 --> 00:19:17,120
of data in memory that stores a bunch of

540
00:19:17,120 --> 00:19:19,200
values so pressure density temperature

541
00:19:19,200 --> 00:19:21,360
and so on and some of these are more

542
00:19:21,360 --> 00:19:23,120
fundamental than others some arise

543
00:19:23,120 --> 00:19:25,280
naturally from like if you start quantum

544
00:19:25,280 --> 00:19:27,120
physics and work your way up you'll end

545
00:19:27,120 --> 00:19:29,360
up with pressure and temperature kind of

546
00:19:29,360 --> 00:19:31,760
coming naturally out of it but others uh

547
00:19:31,760 --> 00:19:33,840
like say flow velocity

548
00:19:33,840 --> 00:19:35,200
uh is

549
00:19:35,200 --> 00:19:36,400
not really

550
00:19:36,400 --> 00:19:38,160
a fundamental thing it's something that

551
00:19:38,160 --> 00:19:39,679
you can actually drive but you might

552
00:19:39,679 --> 00:19:42,000
want to keep track of it uh at this

553
00:19:42,000 --> 00:19:43,760
level of your model in order to just

554
00:19:43,760 --> 00:19:47,679
make the accounting a lot easier

555
00:19:47,679 --> 00:19:48,480
so

556
00:19:48,480 --> 00:19:51,280
yeah you can you can derive the the flow

557
00:19:51,280 --> 00:19:54,240
velocity of wind uh and the direction

558
00:19:54,240 --> 00:19:56,799
from the pressure gradient but you know

559
00:19:56,799 --> 00:19:59,200
we we like to keep track of that kind of

560
00:19:59,200 --> 00:20:03,760
thing uh also things like uh rainfall uh

561
00:20:03,760 --> 00:20:06,320
like do you want to keep it as a as a

562
00:20:06,320 --> 00:20:08,400
baseline thing in your

563
00:20:08,400 --> 00:20:10,640
per grid block or do you just want to

564
00:20:10,640 --> 00:20:12,960
have a separate function or a separate

565
00:20:12,960 --> 00:20:14,880
process that keeps track of uh

566
00:20:14,880 --> 00:20:17,280
accumulated rainfall over time

567
00:20:17,280 --> 00:20:18,799
and this of course depends a little bit

568
00:20:18,799 --> 00:20:21,919
on what your goal is with the model

569
00:20:21,919 --> 00:20:24,400
so um yeah we've got some derived

570
00:20:24,400 --> 00:20:26,640
factors uh so wind speed wind direction

571
00:20:26,640 --> 00:20:28,559
cloud cover cloud type this is actually

572
00:20:28,559 --> 00:20:30,320
really fun uh so if you know the

573
00:20:30,320 --> 00:20:33,600
temperature you know the humidity levels

574
00:20:33,600 --> 00:20:34,799
and

575
00:20:34,799 --> 00:20:37,360
when of course we can calculate the

576
00:20:37,360 --> 00:20:39,440
lapse rate you can figure out what kinds

577
00:20:39,440 --> 00:20:43,280
of clouds are most likely to arise and

578
00:20:43,280 --> 00:20:44,240
you know

579
00:20:44,240 --> 00:20:46,799
you won't necessarily get it really

580
00:20:46,799 --> 00:20:48,799
accurate unless you start accounting for

581
00:20:48,799 --> 00:20:51,120
atmospheric vorticity and

582
00:20:51,120 --> 00:20:53,840
terrain shape and stuff like that but

583
00:20:53,840 --> 00:20:56,320
if depending again on how

584
00:20:56,320 --> 00:20:57,840
high resolution your model is you can

585
00:20:57,840 --> 00:21:00,159
get this pretty good

586
00:21:00,159 --> 00:21:01,200
so

587
00:21:01,200 --> 00:21:03,360
this is where we come to

588
00:21:03,360 --> 00:21:06,080
the current day

589
00:21:06,640 --> 00:21:07,520
uh

590
00:21:07,520 --> 00:21:09,919
just to be clear i'm not saying that uh

591
00:21:09,919 --> 00:21:11,360
minecraft is better than fortran

592
00:21:11,360 --> 00:21:13,039
minecraft is actually worse than fortran

593
00:21:13,039 --> 00:21:14,960
4chan is really cool it's a great

594
00:21:14,960 --> 00:21:17,200
language the problem is

595
00:21:17,200 --> 00:21:19,520
anybody can run minecraft

596
00:21:19,520 --> 00:21:23,039
have you run any fortran code recently

597
00:21:23,039 --> 00:21:24,880
right the problem

598
00:21:24,880 --> 00:21:26,400
of course is

599
00:21:26,400 --> 00:21:28,000
that

600
00:21:28,000 --> 00:21:29,679
you know both of these things are

601
00:21:29,679 --> 00:21:32,400
essentially working with voxel grids

602
00:21:32,400 --> 00:21:34,320
but one of them is easy and everybody

603
00:21:34,320 --> 00:21:36,320
understands it and the other one has

604
00:21:36,320 --> 00:21:38,000
produced this mess

605
00:21:38,000 --> 00:21:40,400
so these are uh roughly the two main

606
00:21:40,400 --> 00:21:42,320
categories of our systems models we've

607
00:21:42,320 --> 00:21:45,360
got the meteorological models so gfs is

608
00:21:45,360 --> 00:21:47,600
the american main model

609
00:21:47,600 --> 00:21:49,760
the ifs from the european center for

610
00:21:49,760 --> 00:21:52,240
mid-range weather forecasting

611
00:21:52,240 --> 00:21:53,600
those are really

612
00:21:53,600 --> 00:21:55,919
amazing icon i mentioned it earlier it

613
00:21:55,919 --> 00:21:58,159
uses the icosahedral model that's from

614
00:21:58,159 --> 00:22:00,000
the german weather service and the max

615
00:22:00,000 --> 00:22:02,960
planck institute um mcas it's relatively

616
00:22:02,960 --> 00:22:05,280
new it's being developed and car so

617
00:22:05,280 --> 00:22:08,720
these are like all very short-term uh

618
00:22:08,720 --> 00:22:10,880
weather forecast models weather forecast

619
00:22:10,880 --> 00:22:13,039
models are basically trying to figure

620
00:22:13,039 --> 00:22:15,360
out what weather will happen where and

621
00:22:15,360 --> 00:22:16,720
when

622
00:22:16,720 --> 00:22:18,080
whereas on the other hand we've got

623
00:22:18,080 --> 00:22:19,919
climate models and they're not saying

624
00:22:19,919 --> 00:22:21,679
you know there's going to be a hurricane

625
00:22:21,679 --> 00:22:23,919
on you know at this particular location

626
00:22:23,919 --> 00:22:28,240
on you know june 14 2053

627
00:22:28,240 --> 00:22:29,440
it's rather saying what is the

628
00:22:29,440 --> 00:22:30,799
statistical likelihood of that kind of

629
00:22:30,799 --> 00:22:33,200
thing happening right it's it's much

630
00:22:33,200 --> 00:22:35,520
more broad but you get all sorts of

631
00:22:35,520 --> 00:22:38,320
crazy stuff in there and so the csm

632
00:22:38,320 --> 00:22:40,880
model community earth systems model it

633
00:22:40,880 --> 00:22:42,240
is a

634
00:22:42,240 --> 00:22:44,880
open source uh model

635
00:22:44,880 --> 00:22:47,039
it's publicly available it's developed

636
00:22:47,039 --> 00:22:49,760
mostly at ncar so national center for

637
00:22:49,760 --> 00:22:52,080
atmospheric research in the us

638
00:22:52,080 --> 00:22:53,039
and

639
00:22:53,039 --> 00:22:55,840
uh it is fantastic and i'm going to take

640
00:22:55,840 --> 00:22:58,400
that one and expand it a little bit but

641
00:22:58,400 --> 00:23:00,159
not too much of a deep dive

642
00:23:00,159 --> 00:23:02,480
so commonalities through all these

643
00:23:02,480 --> 00:23:04,320
different models first off they're

644
00:23:04,320 --> 00:23:06,640
almost always written in fortran this is

645
00:23:06,640 --> 00:23:09,679
mostly historical but um a lot of the

646
00:23:09,679 --> 00:23:11,280
stuff was written in the

647
00:23:11,280 --> 00:23:13,360
late 70s early 80s

648
00:23:13,360 --> 00:23:15,840
the oldest bits of the

649
00:23:15,840 --> 00:23:18,080
csm model were written

650
00:23:18,080 --> 00:23:20,240
about a year before i was born

651
00:23:20,240 --> 00:23:21,039
right

652
00:23:21,039 --> 00:23:22,720
um and

653
00:23:22,720 --> 00:23:25,280
you know that's just the way it goes

654
00:23:25,280 --> 00:23:27,440
um

655
00:23:27,440 --> 00:23:29,120
they often have very confusing build

656
00:23:29,120 --> 00:23:31,520
systems i'll i'll expand on that one in

657
00:23:31,520 --> 00:23:33,200
a bit a lot of it was written by

658
00:23:33,200 --> 00:23:35,120
postdocs and grad students who then

659
00:23:35,120 --> 00:23:36,960
moved on with life so their their

660
00:23:36,960 --> 00:23:38,799
dedication to code quality wasn't

661
00:23:38,799 --> 00:23:41,760
necessarily really high no i am so i'm

662
00:23:41,760 --> 00:23:43,279
not criticizing these people they're

663
00:23:43,279 --> 00:23:45,679
excellent scientists but they're not

664
00:23:45,679 --> 00:23:47,279
necessarily the best software developers

665
00:23:47,279 --> 00:23:49,039
in the world right i think they would

666
00:23:49,039 --> 00:23:52,000
very happily admit to that uh and they

667
00:23:52,000 --> 00:23:55,679
also have very weird structures um but

668
00:23:55,679 --> 00:23:56,880
so if we

669
00:23:56,880 --> 00:23:59,840
uh look at csm it's about 2.2 million

670
00:23:59,840 --> 00:24:01,520
lines of fortran code

671
00:24:01,520 --> 00:24:02,320
right

672
00:24:02,320 --> 00:24:03,919
and about 1 million lines of that is

673
00:24:03,919 --> 00:24:06,400
just the atmospheric model uh there are

674
00:24:06,400 --> 00:24:08,880
different subsystems for land sea uh

675
00:24:08,880 --> 00:24:12,880
chemistry sea ice uh rivers and so on um

676
00:24:12,880 --> 00:24:14,640
there's actually like amazing

677
00:24:14,640 --> 00:24:16,320
development still going on on this and

678
00:24:16,320 --> 00:24:19,039
it's it's very active development team

679
00:24:19,039 --> 00:24:20,799
mostly scientists but they have a couple

680
00:24:20,799 --> 00:24:22,480
of software developers who are kind of

681
00:24:22,480 --> 00:24:25,440
making everything wonderful um i i love

682
00:24:25,440 --> 00:24:28,240
following their stuff

683
00:24:28,240 --> 00:24:29,679
they don't really use runtime

684
00:24:29,679 --> 00:24:31,679
configuration files instead

685
00:24:31,679 --> 00:24:33,600
if you want to run a slightly different

686
00:24:33,600 --> 00:24:35,679
variation of the model or like run it

687
00:24:35,679 --> 00:24:37,360
off under different parameters you just

688
00:24:37,360 --> 00:24:39,600
rebuild the entire thing which would be

689
00:24:39,600 --> 00:24:42,720
fine except the build process is you run

690
00:24:42,720 --> 00:24:45,360
a python script that runs multiple shell

691
00:24:45,360 --> 00:24:48,080
scripts that occasionally from cmake and

692
00:24:48,080 --> 00:24:51,279
make and also perl scripts and you know

693
00:24:51,279 --> 00:24:53,679
it's like it's the most confusing thing

694
00:24:53,679 --> 00:24:54,960
ever

695
00:24:54,960 --> 00:24:55,919
and

696
00:24:55,919 --> 00:24:59,200
there's xml files that configure

697
00:24:59,200 --> 00:25:02,400
how it should be compiled for different

698
00:25:02,400 --> 00:25:04,799
clusters the underlying assumption is

699
00:25:04,799 --> 00:25:06,400
you're always using a cluster even

700
00:25:06,400 --> 00:25:08,960
though the thing is so flexible that you

701
00:25:08,960 --> 00:25:10,960
can actually compile it for a single

702
00:25:10,960 --> 00:25:12,880
like

703
00:25:12,880 --> 00:25:15,840
running in a single dimension and uh

704
00:25:15,840 --> 00:25:17,600
that's what people sometimes use on on

705
00:25:17,600 --> 00:25:20,240
their laptops and such um

706
00:25:20,240 --> 00:25:21,440
but

707
00:25:21,440 --> 00:25:22,320
uh

708
00:25:22,320 --> 00:25:24,799
you know this model is this is like the

709
00:25:24,799 --> 00:25:27,039
gold standard in climate science and

710
00:25:27,039 --> 00:25:28,880
like every other climate model is

711
00:25:28,880 --> 00:25:30,960
compared to this if you go and look at

712
00:25:30,960 --> 00:25:33,360
the ipcc data then

713
00:25:33,360 --> 00:25:34,960
a lot of it comes from this model not

714
00:25:34,960 --> 00:25:37,360
all of it but a lot right

715
00:25:37,360 --> 00:25:39,120
um

716
00:25:39,120 --> 00:25:39,919
yeah

717
00:25:39,919 --> 00:25:42,720
one thing about it is it doesn't really

718
00:25:42,720 --> 00:25:44,960
operate at convection permitting

719
00:25:44,960 --> 00:25:47,919
scales i'll explain that in a little

720
00:25:47,919 --> 00:25:49,520
moment

721
00:25:49,520 --> 00:25:50,240
but

722
00:25:50,240 --> 00:25:51,520
so

723
00:25:51,520 --> 00:25:54,559
let's talk about the data

724
00:25:55,120 --> 00:25:57,120
you've probably heard of the ipcc

725
00:25:57,120 --> 00:26:00,320
activity reports or ar like ar6

726
00:26:00,320 --> 00:26:01,600
so

727
00:26:01,600 --> 00:26:04,000
um

728
00:26:04,320 --> 00:26:07,120
an ar report is thousands of pages of

729
00:26:07,120 --> 00:26:09,120
scientific

730
00:26:09,120 --> 00:26:12,240
technical explanations of uh what is

731
00:26:12,240 --> 00:26:14,640
happening in the climate and

732
00:26:14,640 --> 00:26:15,840
what's

733
00:26:15,840 --> 00:26:18,159
maybe less obvious is that behind the

734
00:26:18,159 --> 00:26:21,520
report there's a lot of data so

735
00:26:21,520 --> 00:26:24,640
the main things is collected data like

736
00:26:24,640 --> 00:26:26,240
observations from weather stations ice

737
00:26:26,240 --> 00:26:28,320
core data agricultural data and so on

738
00:26:28,320 --> 00:26:30,159
but then you get this thing called cmip

739
00:26:30,159 --> 00:26:32,400
which is a coupled month model into

740
00:26:32,400 --> 00:26:33,919
comparison project

741
00:26:33,919 --> 00:26:37,360
and version six of that is 30 petabytes

742
00:26:37,360 --> 00:26:40,559
right this is one of the uh big data

743
00:26:40,559 --> 00:26:42,159
sets that you deal with if you're

744
00:26:42,159 --> 00:26:44,080
getting into climate science

745
00:26:44,080 --> 00:26:47,200
and so if we look at like average files

746
00:26:47,200 --> 00:26:50,400
we we get like um

747
00:26:50,400 --> 00:26:51,440
so

748
00:26:51,440 --> 00:26:54,240
output from the gfs model which is so

749
00:26:54,240 --> 00:26:57,200
the global forecasting system uh

750
00:26:57,200 --> 00:26:59,520
a 16-day period and that comes out at

751
00:26:59,520 --> 00:27:02,240
about three gigabytes right and

752
00:27:02,240 --> 00:27:05,840
it has about 26 well 27 million values

753
00:27:05,840 --> 00:27:07,360
per time step

754
00:27:07,360 --> 00:27:09,840
uh then you have like reforecasts like

755
00:27:09,840 --> 00:27:12,000
their five system which is basically

756
00:27:12,000 --> 00:27:14,720
taking historical weather forecasts and

757
00:27:14,720 --> 00:27:16,559
or rather historical weather

758
00:27:16,559 --> 00:27:18,240
observations and running them through a

759
00:27:18,240 --> 00:27:22,000
forecast model to get uh

760
00:27:22,000 --> 00:27:23,679
roughly fill in all the blanks because

761
00:27:23,679 --> 00:27:25,279
we don't have weather stations in every

762
00:27:25,279 --> 00:27:28,480
point in space right and so one month of

763
00:27:28,480 --> 00:27:30,720
that is about 36 gigabytes

764
00:27:30,720 --> 00:27:34,000
so it becomes a huge amount of data

765
00:27:34,000 --> 00:27:36,640
that's zero drop down but that's 324

766
00:27:36,640 --> 00:27:37,600
million

767
00:27:37,600 --> 00:27:39,600
data points per time step

768
00:27:39,600 --> 00:27:40,399
so

769
00:27:40,399 --> 00:27:41,520
it's

770
00:27:41,520 --> 00:27:43,679
there's a lot there

771
00:27:43,679 --> 00:27:44,720
and

772
00:27:44,720 --> 00:27:47,440
these files come in

773
00:27:47,440 --> 00:27:49,200
lots of different formats of course

774
00:27:49,200 --> 00:27:51,440
people use json and csv and such for

775
00:27:51,440 --> 00:27:54,240
really small stuff but you know i i got

776
00:27:54,240 --> 00:27:56,399
asked recently by uh

777
00:27:56,399 --> 00:27:57,919
by a friend to

778
00:27:57,919 --> 00:28:00,159
kind of uh hey could you give me like

779
00:28:00,159 --> 00:28:02,399
the ocean data and

780
00:28:02,399 --> 00:28:04,080
i was like okay sure what file format

781
00:28:04,080 --> 00:28:06,640
would you like and he was like excel

782
00:28:06,640 --> 00:28:09,440
right i'm like oh no you don't want like

783
00:28:09,440 --> 00:28:12,080
gigabytes upon gigabytes of excel so we

784
00:28:12,080 --> 00:28:15,360
use grib a lot unfortunately grib is

785
00:28:15,360 --> 00:28:17,600
horrible grib is a binary format that

786
00:28:17,600 --> 00:28:19,440
was designed in the 80s to be efficient

787
00:28:19,440 --> 00:28:22,399
when you're using a tape deck

788
00:28:22,399 --> 00:28:25,279
right so um it doesn't support random

789
00:28:25,279 --> 00:28:26,960
access or it isn't really intended for

790
00:28:26,960 --> 00:28:28,240
under access so

791
00:28:28,240 --> 00:28:30,399
it doesn't have an index built in

792
00:28:30,399 --> 00:28:33,039
so if you want to uh seek to a

793
00:28:33,039 --> 00:28:34,960
particular location you actually have to

794
00:28:34,960 --> 00:28:37,279
scan through the entire file so uh

795
00:28:37,279 --> 00:28:40,000
somebody joked that uh that it's like at

796
00:28:40,000 --> 00:28:43,360
least a big o n like uh log n or no not

797
00:28:43,360 --> 00:28:44,799
log n just n

798
00:28:44,799 --> 00:28:46,320
um

799
00:28:46,320 --> 00:28:49,440
but yeah so this is pretty bad net cdf

800
00:28:49,440 --> 00:28:52,240
is actually fairly good it's uh it's the

801
00:28:52,240 --> 00:28:53,200
uh

802
00:28:53,200 --> 00:28:55,840
network common data format and it's

803
00:28:55,840 --> 00:28:57,760
under heavy development the people who

804
00:28:57,760 --> 00:28:59,760
are making it are fantastic

805
00:28:59,760 --> 00:29:01,840
but honestly like the interfaces could

806
00:29:01,840 --> 00:29:04,240
be a little bit easier

807
00:29:04,240 --> 00:29:05,600
and then of course people are

808
00:29:05,600 --> 00:29:07,360
increasingly using parquet which is

809
00:29:07,360 --> 00:29:08,480
amazing

810
00:29:08,480 --> 00:29:11,120
it's a cool thing i really wish the

811
00:29:11,120 --> 00:29:12,640
reference implementation wasn't written

812
00:29:12,640 --> 00:29:13,760
in java

813
00:29:13,760 --> 00:29:15,760
but here we go

814
00:29:15,760 --> 00:29:17,120
so

815
00:29:17,120 --> 00:29:19,200
based on all this you can kind of get

816
00:29:19,200 --> 00:29:20,960
the impression that there might be some

817
00:29:20,960 --> 00:29:24,480
places where we can improve this right

818
00:29:24,480 --> 00:29:25,520
yeah

819
00:29:25,520 --> 00:29:27,440
so uh the

820
00:29:27,440 --> 00:29:29,919
first thing is we need better models and

821
00:29:29,919 --> 00:29:31,520
i don't mean not necessarily in a

822
00:29:31,520 --> 00:29:33,200
scientific sense the scientists are

823
00:29:33,200 --> 00:29:35,840
doing a fantastic job they're really

824
00:29:35,840 --> 00:29:37,919
really on top of their game but they

825
00:29:37,919 --> 00:29:39,279
need more hackers they need more

826
00:29:39,279 --> 00:29:41,200
programmers to help them out making the

827
00:29:41,200 --> 00:29:42,960
code fast

828
00:29:42,960 --> 00:29:45,360
and because if we get the code to run a

829
00:29:45,360 --> 00:29:47,039
lot faster then we can run it at higher

830
00:29:47,039 --> 00:29:49,120
resolutions which of course makes it

831
00:29:49,120 --> 00:29:51,360
slower again but

832
00:29:51,360 --> 00:29:53,039
that allows us to be more scientifically

833
00:29:53,039 --> 00:29:56,320
accurate and then on top of that coming

834
00:29:56,320 --> 00:29:58,640
back to the minecraft point we can do

835
00:29:58,640 --> 00:30:01,520
better visualizations right because if

836
00:30:01,520 --> 00:30:04,559
we don't see it in some way we can't

837
00:30:04,559 --> 00:30:06,640
really understand it and unfortunately a

838
00:30:06,640 --> 00:30:08,640
lot of the visualizations that are going

839
00:30:08,640 --> 00:30:10,480
around in science at the moment are

840
00:30:10,480 --> 00:30:12,960
being generated after the fact

841
00:30:12,960 --> 00:30:14,320
uh through

842
00:30:14,320 --> 00:30:16,480
uh kind of people loading stuff into

843
00:30:16,480 --> 00:30:18,240
jupiter notebook and then rendering a

844
00:30:18,240 --> 00:30:22,159
bunch of uh like static images so that's

845
00:30:22,159 --> 00:30:23,600
not great

846
00:30:23,600 --> 00:30:25,039
um

847
00:30:25,039 --> 00:30:26,159
and

848
00:30:26,159 --> 00:30:27,840
we're also very stuck

849
00:30:27,840 --> 00:30:29,440
in terms of climate science in a kind of

850
00:30:29,440 --> 00:30:31,840
old render model so remember when you

851
00:30:31,840 --> 00:30:33,919
used to use blender or maya and or

852
00:30:33,919 --> 00:30:35,840
something like that and you would like

853
00:30:35,840 --> 00:30:38,080
spend days weeks drawing up everything

854
00:30:38,080 --> 00:30:39,760
and then you'd press render and then

855
00:30:39,760 --> 00:30:42,080
you'd go on vacation for a week because

856
00:30:42,080 --> 00:30:44,080
that's just how long it takes to render

857
00:30:44,080 --> 00:30:46,159
and now nowadays people use unreal

858
00:30:46,159 --> 00:30:48,240
engine in the

859
00:30:48,240 --> 00:30:50,240
graphics industry making cartoons and

860
00:30:50,240 --> 00:30:52,720
whatnot because it's real time

861
00:30:52,720 --> 00:30:55,039
and what happens is there's this mental

862
00:30:55,039 --> 00:30:57,039
thing that happens where

863
00:30:57,039 --> 00:30:59,760
you suddenly have the capacity to play

864
00:30:59,760 --> 00:31:02,480
around and experiment a lot more once

865
00:31:02,480 --> 00:31:05,440
things are roughly real-time so uh i

866
00:31:05,440 --> 00:31:06,960
think that there's a lot of space to

867
00:31:06,960 --> 00:31:09,200
bring in uh techniques from the games

868
00:31:09,200 --> 00:31:11,519
industry into climate modeling to make

869
00:31:11,519 --> 00:31:12,960
things faster

870
00:31:12,960 --> 00:31:15,200
and you know this is something that uh

871
00:31:15,200 --> 00:31:18,480
that we should be doing so

872
00:31:18,480 --> 00:31:20,720
all of this stuff is complicated but i

873
00:31:20,720 --> 00:31:23,200
think a lot of the problem with climate

874
00:31:23,200 --> 00:31:25,200
science at the moment is that it's being

875
00:31:25,200 --> 00:31:27,360
made even more complicated by the fact

876
00:31:27,360 --> 00:31:29,360
that the tools are really bad

877
00:31:29,360 --> 00:31:30,840
okay

878
00:31:30,840 --> 00:31:36,080
um and you know yeah so um

879
00:31:36,080 --> 00:31:38,240
from a scientific standpoint uh there

880
00:31:38,240 --> 00:31:40,880
are some interesting challenges so uh

881
00:31:40,880 --> 00:31:43,039
one is that we have this divide between

882
00:31:43,039 --> 00:31:44,480
the climate models and the weather

883
00:31:44,480 --> 00:31:47,840
models and the the gap between there is

884
00:31:47,840 --> 00:31:50,480
mostly this thing called convective

885
00:31:50,480 --> 00:31:53,440
permission permitting scales so that's

886
00:31:53,440 --> 00:31:55,200
where you can start to account for

887
00:31:55,200 --> 00:31:57,039
convection in the atmosphere you can't

888
00:31:57,039 --> 00:31:58,080
do that

889
00:31:58,080 --> 00:31:59,919
if you are dealing with a climate model

890
00:31:59,919 --> 00:32:01,919
where this is hurricane katrina some of

891
00:32:01,919 --> 00:32:04,640
you might remember it uh in a typical

892
00:32:04,640 --> 00:32:07,039
uh climate model this would come out to

893
00:32:07,039 --> 00:32:10,559
be maybe 36 pixels

894
00:32:10,559 --> 00:32:12,799
right you can't understand the dynamics

895
00:32:12,799 --> 00:32:14,720
of a hurricane if you've got 36 pixels

896
00:32:14,720 --> 00:32:17,360
worth of data right we we need to get

897
00:32:17,360 --> 00:32:19,120
much higher resolution stuff so we can

898
00:32:19,120 --> 00:32:21,200
actually understand these these dynamics

899
00:32:21,200 --> 00:32:21,919
and

900
00:32:21,919 --> 00:32:24,080
that that doesn't just mean hurricanes

901
00:32:24,080 --> 00:32:25,760
that also means things like supercell

902
00:32:25,760 --> 00:32:28,320
systems where you get like this massive

903
00:32:28,320 --> 00:32:31,519
rush of uh of like lightning and rain

904
00:32:31,519 --> 00:32:34,480
and it's just it's crazy but like if we

905
00:32:34,480 --> 00:32:36,080
don't account for those we're going to

906
00:32:36,080 --> 00:32:37,760
have trouble getting getting all the

907
00:32:37,760 --> 00:32:39,519
details

908
00:32:39,519 --> 00:32:40,640
but of course

909
00:32:40,640 --> 00:32:42,640
the higher resolution we are the slower

910
00:32:42,640 --> 00:32:45,200
it is and you know we we get into

911
00:32:45,200 --> 00:32:46,559
problems

912
00:32:46,559 --> 00:32:48,559
so

913
00:32:48,559 --> 00:32:49,760
uh

914
00:32:49,760 --> 00:32:52,320
i love this quote from jean kwim so

915
00:32:52,320 --> 00:32:55,360
fixing or improvements anywhere outside

916
00:32:55,360 --> 00:32:58,719
the bottlenecker and illusion

917
00:33:00,159 --> 00:33:01,760
so

918
00:33:01,760 --> 00:33:05,200
we have a bunch of bottlenecks one is

919
00:33:05,200 --> 00:33:06,880
convoluted tool change the fact that

920
00:33:06,880 --> 00:33:08,320
we're running a python script that's

921
00:33:08,320 --> 00:33:12,080
running cmake and make and perl and bash

922
00:33:12,080 --> 00:33:14,399
scripts and so on it's just it's too

923
00:33:14,399 --> 00:33:16,399
much um

924
00:33:16,399 --> 00:33:18,080
on top of that you want things to be

925
00:33:18,080 --> 00:33:19,600
easily configurable

926
00:33:19,600 --> 00:33:23,440
you uh need the um we kind of need to

927
00:33:23,440 --> 00:33:24,880
get rid of fortran fortran is an

928
00:33:24,880 --> 00:33:26,480
excellent language but

929
00:33:26,480 --> 00:33:28,559
the developer pool for it is shrinking

930
00:33:28,559 --> 00:33:31,440
very very quickly and so we we need to

931
00:33:31,440 --> 00:33:33,919
kind of start to leverage away from that

932
00:33:33,919 --> 00:33:35,279
um

933
00:33:35,279 --> 00:33:38,240
we kind of need to stop using grib as a

934
00:33:38,240 --> 00:33:42,320
data format just categorically

935
00:33:42,320 --> 00:33:45,519
we need to have better resolutions or

936
00:33:45,519 --> 00:33:47,440
visualizations so that more people can

937
00:33:47,440 --> 00:33:49,440
understand it

938
00:33:49,440 --> 00:33:50,320
there's

939
00:33:50,320 --> 00:33:52,720
a big problem with using clusters is

940
00:33:52,720 --> 00:33:56,880
that because these models are always on

941
00:33:56,880 --> 00:33:59,039
discrete time steps you get a lot of

942
00:33:59,039 --> 00:34:01,519
processing in all of the cluster nodes

943
00:34:01,519 --> 00:34:03,279
then you get a time step and during that

944
00:34:03,279 --> 00:34:04,720
time step all of the nodes are

945
00:34:04,720 --> 00:34:06,559
exchanging data with each other so you

946
00:34:06,559 --> 00:34:09,839
get this very unbalanced like uh peak

947
00:34:09,839 --> 00:34:12,560
trough thing on the network and it just

948
00:34:12,560 --> 00:34:14,800
it's horrible for the lag so maybe

949
00:34:14,800 --> 00:34:16,399
getting away from clusters is a good

950
00:34:16,399 --> 00:34:17,280
idea

951
00:34:17,280 --> 00:34:19,760
into more of a a deep

952
00:34:19,760 --> 00:34:21,839
model on single computers with lots and

953
00:34:21,839 --> 00:34:23,199
lots of cores

954
00:34:23,199 --> 00:34:26,079
uh there's a bunch of cpu stalling

955
00:34:26,079 --> 00:34:27,918
that's happening in all of these which

956
00:34:27,918 --> 00:34:30,000
essentially means that the the models

957
00:34:30,000 --> 00:34:31,440
are running maybe a thousand times

958
00:34:31,440 --> 00:34:33,199
slower than they need to be

959
00:34:33,199 --> 00:34:36,480
and honestly the code's a bit messy

960
00:34:36,480 --> 00:34:38,239
i'm i'm not going to go into too much

961
00:34:38,239 --> 00:34:40,239
detail on that

962
00:34:40,239 --> 00:34:42,000
but

963
00:34:42,000 --> 00:34:44,079
you know

964
00:34:44,079 --> 00:34:46,560
on the political social business side

965
00:34:46,560 --> 00:34:48,320
there's a lot of money out there for

966
00:34:48,320 --> 00:34:50,159
climate change at the moment uh and a

967
00:34:50,159 --> 00:34:51,760
lot of really cool projects are being

968
00:34:51,760 --> 00:34:53,520
well funded but there's also a lot of

969
00:34:53,520 --> 00:34:55,440
nonsense projects being funded as well

970
00:34:55,440 --> 00:34:56,719
let's be honest

971
00:34:56,719 --> 00:34:59,839
and the problem is a lot of the boring

972
00:34:59,839 --> 00:35:02,240
unsexy stuff like how do you deal with

973
00:35:02,240 --> 00:35:04,000
like uh you know

974
00:35:04,000 --> 00:35:05,280
different

975
00:35:05,280 --> 00:35:08,240
grids on on a you know planetary systems

976
00:35:08,240 --> 00:35:09,200
model

977
00:35:09,200 --> 00:35:10,960
that's not necessarily being funded as

978
00:35:10,960 --> 00:35:12,560
well as it should be and it's making it

979
00:35:12,560 --> 00:35:14,640
hard for the scientists to get the

980
00:35:14,640 --> 00:35:16,640
technical support that they need

981
00:35:16,640 --> 00:35:17,599
um

982
00:35:17,599 --> 00:35:19,680
so you know this is something that could

983
00:35:19,680 --> 00:35:20,960
be fixed

984
00:35:20,960 --> 00:35:22,640
and then um

985
00:35:22,640 --> 00:35:25,119
there's a bunch of stuff where

986
00:35:25,119 --> 00:35:27,760
hackers uh technology community what

987
00:35:27,760 --> 00:35:29,920
have you could be helping things so i

988
00:35:29,920 --> 00:35:32,960
put up a couple of examples so like a

989
00:35:32,960 --> 00:35:35,520
simple uh grip to net cdf converter

990
00:35:35,520 --> 00:35:37,440
because you know just being able to take

991
00:35:37,440 --> 00:35:38,880
this 36

992
00:35:38,880 --> 00:35:41,599
gigabyte blob of error 5 and just

993
00:35:41,599 --> 00:35:44,160
re-cast it into net cdf would make

994
00:35:44,160 --> 00:35:45,359
things easy

995
00:35:45,359 --> 00:35:48,320
there are tools that do this but

996
00:35:48,320 --> 00:35:51,280
one of the problems with grib is

997
00:35:51,280 --> 00:35:53,520
you only know how to read a grid file if

998
00:35:53,520 --> 00:35:55,040
you happen to know

999
00:35:55,040 --> 00:35:56,800
what the person who made the grip file

1000
00:35:56,800 --> 00:35:59,359
was intending when they made it

1001
00:35:59,359 --> 00:36:02,160
and this is just a huge problem um

1002
00:36:02,160 --> 00:36:03,599
it would be good to have a generalized

1003
00:36:03,599 --> 00:36:05,839
geodesics library for handling map data

1004
00:36:05,839 --> 00:36:07,040
and such

1005
00:36:07,040 --> 00:36:08,560
in this quad free format that i

1006
00:36:08,560 --> 00:36:10,400
mentioned

1007
00:36:10,400 --> 00:36:12,640
it would be good if we had an easy way

1008
00:36:12,640 --> 00:36:15,760
of visualizing a uh like uh

1009
00:36:15,760 --> 00:36:18,240
sphere in the browser like a global

1010
00:36:18,240 --> 00:36:20,320
model because if you're using something

1011
00:36:20,320 --> 00:36:22,880
like leaflet at the moment the pole gets

1012
00:36:22,880 --> 00:36:24,240
poles get really

1013
00:36:24,240 --> 00:36:27,440
infinitely wide and it's bad like

1014
00:36:27,440 --> 00:36:30,240
because the poles kind of matter

1015
00:36:30,240 --> 00:36:31,200
and then

1016
00:36:31,200 --> 00:36:33,200
this is i think one of the

1017
00:36:33,200 --> 00:36:34,800
amazing things like

1018
00:36:34,800 --> 00:36:37,119
if we could get this done is take a

1019
00:36:37,119 --> 00:36:38,880
system like csm

1020
00:36:38,880 --> 00:36:41,040
build it like create a new build system

1021
00:36:41,040 --> 00:36:43,440
that picks each of the different

1022
00:36:43,440 --> 00:36:45,200
sub models into

1023
00:36:45,200 --> 00:36:47,119
individual shared libraries or shared

1024
00:36:47,119 --> 00:36:48,960
objects that could be hooked into from

1025
00:36:48,960 --> 00:36:51,040
other languages that would be a step

1026
00:36:51,040 --> 00:36:52,880
towards releasing our dependency on

1027
00:36:52,880 --> 00:36:54,960
fortran without having to rewrite the

1028
00:36:54,960 --> 00:36:58,160
two million lines of code behind it but

1029
00:36:58,160 --> 00:36:59,920
generally speaking i want people to come

1030
00:36:59,920 --> 00:37:02,000
and talk to me about this because i'm

1031
00:37:02,000 --> 00:37:03,520
very new at this stuff and i know

1032
00:37:03,520 --> 00:37:05,440
there's a lot of interest but i also

1033
00:37:05,440 --> 00:37:07,760
think like we could be doing a really

1034
00:37:07,760 --> 00:37:09,200
good stuff to help out the climate

1035
00:37:09,200 --> 00:37:10,800
scientists

1036
00:37:10,800 --> 00:37:14,720
so that's like the super super

1037
00:37:14,720 --> 00:37:17,119
over simplified explanation i'll take

1038
00:37:17,119 --> 00:37:20,350
your questions now

1039
00:37:20,350 --> 00:37:26,308
[Applause]

1040
00:37:28,960 --> 00:37:30,880
thanks very much so yeah line up uh

1041
00:37:30,880 --> 00:37:32,400
behind the

1042
00:37:32,400 --> 00:37:34,560
oh

1043
00:37:34,880 --> 00:37:35,760
oh

1044
00:37:35,760 --> 00:37:37,200
sorry

1045
00:37:37,200 --> 00:37:40,078
uh yeah uh

1046
00:37:41,359 --> 00:37:44,240
yeah uh um you're lined up behind the uh

1047
00:37:44,240 --> 00:37:46,320
the the microphones um

1048
00:37:46,320 --> 00:37:48,640
uh just quick check so do we have um for

1049
00:37:48,640 --> 00:37:51,359
the um signal angels do we have any uh

1050
00:37:51,359 --> 00:37:54,720
questions from the internet at all

1051
00:37:54,720 --> 00:37:56,640
no questions at the moment okay great um

1052
00:37:56,640 --> 00:37:59,520
yeah go ahead

1053
00:37:59,680 --> 00:38:02,680
oh

1054
00:38:06,320 --> 00:38:08,400
oh sorry i can't really hear you need to

1055
00:38:08,400 --> 00:38:10,320
speak into the microphone

1056
00:38:10,320 --> 00:38:13,520
i think thank you very much for uh

1057
00:38:13,520 --> 00:38:16,480
bridging from the physics that i know to

1058
00:38:16,480 --> 00:38:18,079
the things i want to know but i am

1059
00:38:18,079 --> 00:38:19,520
confused about

1060
00:38:19,520 --> 00:38:22,160
but you didn't quite cover everything

1061
00:38:22,160 --> 00:38:26,000
is there a way to get into this

1062
00:38:26,079 --> 00:38:27,839
a way to get into it

1063
00:38:27,839 --> 00:38:30,960
so um honestly the way i got into it was

1064
00:38:30,960 --> 00:38:32,960
i read a few books and then i sat down

1065
00:38:32,960 --> 00:38:34,240
with

1066
00:38:34,240 --> 00:38:35,760
some of the model source code and just

1067
00:38:35,760 --> 00:38:38,720
read like a ton of fortran code

1068
00:38:38,720 --> 00:38:42,000
i'm sure there's an easier way

1069
00:38:42,160 --> 00:38:44,800
one of the problems i think is

1070
00:38:44,800 --> 00:38:46,960
the scientists are you know because

1071
00:38:46,960 --> 00:38:48,560
they're very good at science they they

1072
00:38:48,560 --> 00:38:50,320
get into all the technical details and

1073
00:38:50,320 --> 00:38:53,359
all the you know the stuff and

1074
00:38:53,359 --> 00:38:54,560
i think

1075
00:38:54,560 --> 00:38:57,440
there might be like a lack of some kind

1076
00:38:57,440 --> 00:39:01,119
of like super easy explainer for

1077
00:39:01,119 --> 00:39:03,119
techies who want to get into this so at

1078
00:39:03,119 --> 00:39:05,520
the moment i don't know

1079
00:39:05,520 --> 00:39:07,520
my method of getting into is it took me

1080
00:39:07,520 --> 00:39:09,280
about three years to kind of figure out

1081
00:39:09,280 --> 00:39:10,960
the basics

1082
00:39:10,960 --> 00:39:12,079
so

1083
00:39:12,079 --> 00:39:14,240
yeah i'm sorry i can't uh can't point

1084
00:39:14,240 --> 00:39:16,880
you in a good direction but um maybe one

1085
00:39:16,880 --> 00:39:18,560
of the things to do maybe a starting

1086
00:39:18,560 --> 00:39:20,960
point would be to uh get people to

1087
00:39:20,960 --> 00:39:23,119
collaborate on making like the short

1088
00:39:23,119 --> 00:39:25,760
technical intro for for people and maybe

1089
00:39:25,760 --> 00:39:28,240
this talk is the the start of that yeah

1090
00:39:28,240 --> 00:39:29,920
a list of books might be a start for

1091
00:39:29,920 --> 00:39:31,359
example on your website i don't know if

1092
00:39:31,359 --> 00:39:33,760
you have it yeah uh you're right i

1093
00:39:33,760 --> 00:39:36,079
should make a list of books i'll try to

1094
00:39:36,079 --> 00:39:38,800
put one together and tweet it

1095
00:39:38,800 --> 00:39:40,960
thanks thanks for the question next up

1096
00:39:40,960 --> 00:39:44,000
hi thanks um you mainly talked about the

1097
00:39:44,000 --> 00:39:46,960
gold standard what about other models

1098
00:39:46,960 --> 00:39:49,839
yeah also maybe sorry maybe um

1099
00:39:49,839 --> 00:39:51,520
brute force machine learning only vast

1100
00:39:51,520 --> 00:39:53,200
amount of data where is this basically

1101
00:39:53,200 --> 00:39:55,119
in the rank yeah

1102
00:39:55,119 --> 00:39:57,359
okay uh so yeah the reason i talked

1103
00:39:57,359 --> 00:39:59,599
about the gold standard uh

1104
00:39:59,599 --> 00:40:02,000
so i mean that from the scientific

1105
00:40:02,000 --> 00:40:04,319
perspective in that it has uh you know

1106
00:40:04,319 --> 00:40:05,839
uh well-established shortwave and

1107
00:40:05,839 --> 00:40:08,640
long-wave radiation models it has very

1108
00:40:08,640 --> 00:40:11,280
good uh physics on on all different

1109
00:40:11,280 --> 00:40:14,079
domains and so on um

1110
00:40:14,079 --> 00:40:16,000
when we're talking about the like things

1111
00:40:16,000 --> 00:40:18,720
like mcas mcas is really cool it's got a

1112
00:40:18,720 --> 00:40:21,040
good grid system and it's uh it's more

1113
00:40:21,040 --> 00:40:23,040
recent so it's nicely

1114
00:40:23,040 --> 00:40:25,440
it's actually very pretty clean code but

1115
00:40:25,440 --> 00:40:27,280
it just it

1116
00:40:27,280 --> 00:40:29,920
isn't as uh comprehensive it doesn't

1117
00:40:29,920 --> 00:40:31,599
cover all the all of the different

1118
00:40:31,599 --> 00:40:34,560
things so

1119
00:40:35,280 --> 00:40:37,680
that kind of model is probably easier to

1120
00:40:37,680 --> 00:40:40,079
understand but it doesn't cover as many

1121
00:40:40,079 --> 00:40:42,720
details as for machine learning okay

1122
00:40:42,720 --> 00:40:43,760
turns out

1123
00:40:43,760 --> 00:40:46,640
the atmosphere and the oceans are really

1124
00:40:46,640 --> 00:40:49,200
complicated systems and

1125
00:40:49,200 --> 00:40:50,880
there have been attempts at using

1126
00:40:50,880 --> 00:40:52,720
machine learning to kind of capture it

1127
00:40:52,720 --> 00:40:54,000
but

1128
00:40:54,000 --> 00:40:56,079
the technology just hasn't been ready

1129
00:40:56,079 --> 00:40:58,720
for that level of detail so this is

1130
00:40:58,720 --> 00:41:00,640
improving but

1131
00:41:00,640 --> 00:41:03,680
there is a possible shortcut that is

1132
00:41:03,680 --> 00:41:05,839
really exciting i don't want to get into

1133
00:41:05,839 --> 00:41:07,599
it right now but we can chat afterwards

1134
00:41:07,599 --> 00:41:09,359
but it's like

1135
00:41:09,359 --> 00:41:11,280
the short version is we can't

1136
00:41:11,280 --> 00:41:13,119
necessarily use machine learning at the

1137
00:41:13,119 --> 00:41:15,280
moment to predict weather but what we

1138
00:41:15,280 --> 00:41:18,839
can do is predict what the slow

1139
00:41:18,839 --> 00:41:22,240
comprehensive uh models would would say

1140
00:41:22,240 --> 00:41:24,720
about the weather if that makes sense

1141
00:41:24,720 --> 00:41:27,599
yeah thanks for the question next up hi

1142
00:41:27,599 --> 00:41:29,359
first of all great talk thank you very

1143
00:41:29,359 --> 00:41:32,319
much i was wondering looking at that a

1144
00:41:32,319 --> 00:41:35,040
grid system or the grid projection

1145
00:41:35,040 --> 00:41:37,440
and which seems to me to be very

1146
00:41:37,440 --> 00:41:41,599
cartesian you know yeah very xy um

1147
00:41:41,599 --> 00:41:44,800
is there already uh some efforts being

1148
00:41:44,800 --> 00:41:46,160
undertaken to

1149
00:41:46,160 --> 00:41:48,160
maybe on a fundamental level and maybe

1150
00:41:48,160 --> 00:41:49,920
also congruent with that on a

1151
00:41:49,920 --> 00:41:52,480
fundamental compute computational level

1152
00:41:52,480 --> 00:41:54,560
uh to find some kind of a vector or

1153
00:41:54,560 --> 00:41:56,319
polar model

1154
00:41:56,319 --> 00:41:58,560
that might you know have a better

1155
00:41:58,560 --> 00:42:01,040
fundamental fit yeah uh

1156
00:42:01,040 --> 00:42:01,920
so

1157
00:42:01,920 --> 00:42:04,880
i mentioned uh like three of the main

1158
00:42:04,880 --> 00:42:06,480
like uh gridding models so the

1159
00:42:06,480 --> 00:42:09,599
rectilinear the voronoi uh and the

1160
00:42:09,599 --> 00:42:10,880
geodesic

1161
00:42:10,880 --> 00:42:13,200
i'm a huge fan of the geodesic approach

1162
00:42:13,200 --> 00:42:15,280
uh because a lot of the math is just

1163
00:42:15,280 --> 00:42:17,119
really elegant in that

1164
00:42:17,119 --> 00:42:18,000
but

1165
00:42:18,000 --> 00:42:21,040
there are a lot of projections that work

1166
00:42:21,040 --> 00:42:24,720
quite well and honestly there's no

1167
00:42:24,720 --> 00:42:27,520
hard rule about which is the best

1168
00:42:27,520 --> 00:42:30,079
i think with the geodesic model because

1169
00:42:30,079 --> 00:42:34,000
you need to visit each of the single uh

1170
00:42:34,000 --> 00:42:36,400
grid blocks eventually like when you're

1171
00:42:36,400 --> 00:42:38,640
simulating the physics you need to visit

1172
00:42:38,640 --> 00:42:40,880
each block and so one of the questions

1173
00:42:40,880 --> 00:42:41,680
is

1174
00:42:41,680 --> 00:42:43,520
how do we visit them do we do it in a

1175
00:42:43,520 --> 00:42:45,920
linear order or do we arrange them into

1176
00:42:45,920 --> 00:42:48,000
some kind of space filling curve or some

1177
00:42:48,000 --> 00:42:49,920
use some nice fractals like the hilbert

1178
00:42:49,920 --> 00:42:51,520
curve yes to

1179
00:42:51,520 --> 00:42:53,520
to do that and i think there's a huge

1180
00:42:53,520 --> 00:42:55,200
amount of optimization potential there

1181
00:42:55,200 --> 00:42:58,000
but it's not been tapped into these

1182
00:42:58,000 --> 00:43:00,400
models i've been looking at very shortly

1183
00:43:00,400 --> 00:43:01,920
different this reminds me of something

1184
00:43:01,920 --> 00:43:03,520
else even more

1185
00:43:03,520 --> 00:43:05,839
i guess philosophical question

1186
00:43:05,839 --> 00:43:06,960
which might

1187
00:43:06,960 --> 00:43:09,200
sound like is nature

1188
00:43:09,200 --> 00:43:11,599
analog in its fundamental nature or is

1189
00:43:11,599 --> 00:43:12,960
it discrete

1190
00:43:12,960 --> 00:43:16,560
yeah right so if if it is discrete then

1191
00:43:16,560 --> 00:43:19,599
we can perhaps find really well fitting

1192
00:43:19,599 --> 00:43:22,000
computational models

1193
00:43:22,000 --> 00:43:24,480
yeah and this kind of comes to the point

1194
00:43:24,480 --> 00:43:25,760
i was making when i referenced

1195
00:43:25,760 --> 00:43:28,720
braintruffle again amazing youtube

1196
00:43:28,720 --> 00:43:30,720
channel and he's building

1197
00:43:30,720 --> 00:43:32,640
computational flow dynamics from from

1198
00:43:32,640 --> 00:43:35,359
the quantum level and up and you know he

1199
00:43:35,359 --> 00:43:37,119
he kind of explains it really nicely

1200
00:43:37,119 --> 00:43:38,480
that like

1201
00:43:38,480 --> 00:43:40,480
there's just too much information if we

1202
00:43:40,480 --> 00:43:43,200
want to like even if it is discrete it's

1203
00:43:43,200 --> 00:43:45,839
discrete at such as a small scale that

1204
00:43:45,839 --> 00:43:48,000
we just don't have enough computer to do

1205
00:43:48,000 --> 00:43:49,520
that kind of thing so we need to

1206
00:43:49,520 --> 00:43:51,680
simplify we need to throw away data and

1207
00:43:51,680 --> 00:43:53,520
throwing away data in an effective way

1208
00:43:53,520 --> 00:43:55,280
is actually the way to go

1209
00:43:55,280 --> 00:43:56,720
right thank you yeah thank you thanks

1210
00:43:56,720 --> 00:43:58,720
for the question um any questions from

1211
00:43:58,720 --> 00:44:01,920
the the internet on the signal angels

1212
00:44:01,920 --> 00:44:04,400
any at the moment no okay um go ahead go

1213
00:44:04,400 --> 00:44:05,680
ahead

1214
00:44:05,680 --> 00:44:08,079
you were talking about uh you have a

1215
00:44:08,079 --> 00:44:11,119
pleat about help to

1216
00:44:11,119 --> 00:44:14,640
clean up the current code and so on

1217
00:44:14,640 --> 00:44:16,480
i was wondering uh

1218
00:44:16,480 --> 00:44:18,800
that there is a lot of

1219
00:44:18,800 --> 00:44:21,200
early within front encoder

1220
00:44:21,200 --> 00:44:23,920
and to have to make it uh

1221
00:44:23,920 --> 00:44:25,760
maintainable to convert to modern

1222
00:44:25,760 --> 00:44:28,240
language but i was thinking should it

1223
00:44:28,240 --> 00:44:31,200
first be all that code is also the

1224
00:44:31,200 --> 00:44:33,119
original scientific model still

1225
00:44:33,119 --> 00:44:34,400
available

1226
00:44:34,400 --> 00:44:38,560
ah so yeah to get those you you need to

1227
00:44:38,560 --> 00:44:40,319
start reading the scientific literature

1228
00:44:40,319 --> 00:44:41,920
and one of the things that's quite nice

1229
00:44:41,920 --> 00:44:44,240
about the models is there's often

1230
00:44:44,240 --> 00:44:47,040
comments in the code that say this bit

1231
00:44:47,040 --> 00:44:49,119
like this function here is based on this

1232
00:44:49,119 --> 00:44:51,920
paper and so you can actually step

1233
00:44:51,920 --> 00:44:53,760
through the code and just find lots of

1234
00:44:53,760 --> 00:44:54,720
uh

1235
00:44:54,720 --> 00:44:58,319
pdf references and such to to get those

1236
00:44:58,319 --> 00:44:59,920
i did consider

1237
00:44:59,920 --> 00:45:02,640
whether we could uh like rewrite all of

1238
00:45:02,640 --> 00:45:04,800
the fortran it's not practical it's just

1239
00:45:04,800 --> 00:45:07,280
too much stuff and also

1240
00:45:07,280 --> 00:45:09,839
there are quirks that come from the fact

1241
00:45:09,839 --> 00:45:10,880
that like

1242
00:45:10,880 --> 00:45:13,839
you know fortran is an amazing language

1243
00:45:13,839 --> 00:45:16,319
one of the things that it's very good at

1244
00:45:16,319 --> 00:45:18,400
is vector and matrix math

1245
00:45:18,400 --> 00:45:20,640
it's just got it very nicely baked into

1246
00:45:20,640 --> 00:45:23,280
the the semantics and

1247
00:45:23,280 --> 00:45:25,599
so often you'll look at the function it

1248
00:45:25,599 --> 00:45:27,440
looks super simple but once you start to

1249
00:45:27,440 --> 00:45:29,040
try and pull it apart there's actually a

1250
00:45:29,040 --> 00:45:31,040
bunch of fortran magic

1251
00:45:31,040 --> 00:45:35,200
implicit in it and uh so a straight line

1252
00:45:35,200 --> 00:45:37,599
translation isn't going to really cut it

1253
00:45:37,599 --> 00:45:40,640
without a bunch of thought so okay

1254
00:45:40,640 --> 00:45:41,599
because

1255
00:45:41,599 --> 00:45:44,880
you completely correctly mentioned that

1256
00:45:44,880 --> 00:45:46,560
the fortran

1257
00:45:46,560 --> 00:45:49,200
programs are going

1258
00:45:49,200 --> 00:45:51,440
extinct so to speak yeah and it's very

1259
00:45:51,440 --> 00:45:53,520
worrying that at some moment there won't

1260
00:45:53,520 --> 00:45:55,599
be any photon programmer left where you

1261
00:45:55,599 --> 00:45:57,760
still have the code and for example when

1262
00:45:57,760 --> 00:45:59,680
you find the book in it what to do

1263
00:45:59,680 --> 00:46:00,560
yeah

1264
00:46:00,560 --> 00:46:02,880
this is also a question which will

1265
00:46:02,880 --> 00:46:04,319
be again in

1266
00:46:04,319 --> 00:46:07,040
let's hope 100 years yeah and that the

1267
00:46:07,040 --> 00:46:09,920
languages to for example if we uh

1268
00:46:09,920 --> 00:46:12,480
translate everything to c that will be

1269
00:46:12,480 --> 00:46:15,200
the last c program so how do you do

1270
00:46:15,200 --> 00:46:17,200
any of you how to fix this so there's

1271
00:46:17,200 --> 00:46:18,640
there's two people who want to ask

1272
00:46:18,640 --> 00:46:19,920
questions maybe

1273
00:46:19,920 --> 00:46:21,119
maybe i'll have a longer discussion

1274
00:46:21,119 --> 00:46:22,880
after the after the talk okay thank you

1275
00:46:22,880 --> 00:46:24,319
for the question yeah yeah

1276
00:46:24,319 --> 00:46:29,839
uh a very very short last question uh

1277
00:46:40,960 --> 00:46:42,240
was very interesting i love this very

1278
00:46:42,240 --> 00:46:44,160
much to learn more about science within

1279
00:46:44,160 --> 00:46:45,920
but i was wondering about the fortune

1280
00:46:45,920 --> 00:46:49,040
language like the things is i have read

1281
00:46:49,040 --> 00:46:51,680
pieces and articles research about

1282
00:46:51,680 --> 00:46:54,319
not converting 410 but running 410 on

1283
00:46:54,319 --> 00:46:57,200
things like the jvm.net framework things

1284
00:46:57,200 --> 00:47:00,160
like to make it interop interrupt

1285
00:47:00,160 --> 00:47:02,880
in interoperable with other programming

1286
00:47:02,880 --> 00:47:05,839
languages like c sharp or java yeah and

1287
00:47:05,839 --> 00:47:07,359
i was wondering like

1288
00:47:07,359 --> 00:47:10,960
is this is like how strict is fort

1289
00:47:10,960 --> 00:47:14,480
undefined and how modular is the model

1290
00:47:14,480 --> 00:47:16,319
built yeah

1291
00:47:16,319 --> 00:47:17,040
so

1292
00:47:17,040 --> 00:47:19,040
most of the model code is written in

1293
00:47:19,040 --> 00:47:21,440
fortran 90 at the moment and it's really

1294
00:47:21,440 --> 00:47:24,079
it's nicely well defined calling it from

1295
00:47:24,079 --> 00:47:26,559
other languages is super easy it's got a

1296
00:47:26,559 --> 00:47:29,200
slightly different call

1297
00:47:29,200 --> 00:47:32,800
so called format than c but it's really

1298
00:47:32,800 --> 00:47:35,599
similar and so i've written

1299
00:47:35,599 --> 00:47:38,400
bindings to call fortran from

1300
00:47:38,400 --> 00:47:40,160
another language called jai which is

1301
00:47:40,160 --> 00:47:41,839
under development um i've been like

1302
00:47:41,839 --> 00:47:43,200
better testing

1303
00:47:43,200 --> 00:47:46,559
and it it's not a problem uh also

1304
00:47:46,559 --> 00:47:48,800
just to say fortran is really easy and

1305
00:47:48,800 --> 00:47:50,559
it's actually not a bad language like

1306
00:47:50,559 --> 00:47:52,720
people give it a lot of but it's

1307
00:47:52,720 --> 00:47:54,800
actually really nice and uh so it's

1308
00:47:54,800 --> 00:47:57,520
worth learning if for nothing other than

1309
00:47:57,520 --> 00:48:00,240
than this uh historical beauty of it

1310
00:48:00,240 --> 00:48:01,680
great thank you thank you for the for

1311
00:48:01,680 --> 00:48:03,680
the question so we're up time now okay

1312
00:48:03,680 --> 00:48:04,960
so unfortunately if you want to ask a

1313
00:48:04,960 --> 00:48:07,599
question i'm sure after the talking come

1314
00:48:07,599 --> 00:48:09,359
talk to us

1315
00:48:09,359 --> 00:48:11,920
murray um so yeah great so this let's

1316
00:48:11,920 --> 00:48:14,480
thank the speaker again for um amazing

1317
00:48:14,480 --> 00:48:16,040
talk

1318
00:48:16,040 --> 00:48:20,790
[Applause]

1319
00:48:24,559 --> 00:48:26,640
you

