1
00:00:01,280 --> 00:00:12,559
[Music]

2
00:00:13,759 --> 00:00:16,820
thank you

3
00:00:16,859 --> 00:00:19,260
now we are coming to the talk

4
00:00:19,260 --> 00:00:22,320
I think some of you will have already

5
00:00:22,320 --> 00:00:26,519
seen some of this all over the camp I

6
00:00:26,519 --> 00:00:29,220
actually have and I found them at EMF

7
00:00:29,220 --> 00:00:32,340
Camp before and I think I missed some

8
00:00:32,340 --> 00:00:34,980
before of this it's a pulley coins it's

9
00:00:34,980 --> 00:00:37,920
a game and Michael Toronto invented it

10
00:00:37,920 --> 00:00:39,780
as far as I know and he will tell you

11
00:00:39,780 --> 00:00:42,360
what it is how it works and why he does

12
00:00:42,360 --> 00:00:45,000
it have fun

13
00:00:45,000 --> 00:00:48,000
foreign

14
00:00:51,300 --> 00:00:53,879
can someone do the slides

15
00:00:53,879 --> 00:00:57,739
the the main screen or

16
00:01:00,300 --> 00:01:03,739
is the main screen's changing

17
00:01:14,700 --> 00:01:18,360
okay brilliant so uh hopefully you have

18
00:01:18,360 --> 00:01:20,700
most of you have seen this but for the

19
00:01:20,700 --> 00:01:22,860
benefit of nobody who hasn't

20
00:01:22,860 --> 00:01:25,020
um has a bit of an overview of what the

21
00:01:25,020 --> 00:01:27,240
game is it's a fictional company called

22
00:01:27,240 --> 00:01:30,240
polycoin that has this cryptocurrency

23
00:01:30,240 --> 00:01:33,060
the idea is these are miners to generate

24
00:01:33,060 --> 00:01:35,880
that particular currency and you capture

25
00:01:35,880 --> 00:01:38,820
them for your team using an RFID Card so

26
00:01:38,820 --> 00:01:41,040
when you first go to and visit one it

27
00:01:41,040 --> 00:01:43,619
will ask you to pick a team and once

28
00:01:43,619 --> 00:01:46,320
you've selected the team uh everyone you

29
00:01:46,320 --> 00:01:48,960
visit with that RFID Card will change to

30
00:01:48,960 --> 00:01:50,939
your team color

31
00:01:50,939 --> 00:01:53,939
and the scores are based on the duration

32
00:01:53,939 --> 00:01:56,700
that you own it and your visits so if

33
00:01:56,700 --> 00:01:58,380
you visit once or your team color you

34
00:01:58,380 --> 00:02:00,780
get some bonus points that's the basics

35
00:02:00,780 --> 00:02:02,460
of the game mechanics it's four teams

36
00:02:02,460 --> 00:02:04,500
and you can pick from these evil

37
00:02:04,500 --> 00:02:06,979
corporations

38
00:02:07,140 --> 00:02:09,660
so the idea originated

39
00:02:09,660 --> 00:02:12,420
um because I played Ingress and then I

40
00:02:12,420 --> 00:02:15,420
went to EMF camp and thought well maybe

41
00:02:15,420 --> 00:02:17,340
I could do something interesting so I

42
00:02:17,340 --> 00:02:19,920
created this uh orbs game

43
00:02:19,920 --> 00:02:22,260
um and uh

44
00:02:22,260 --> 00:02:24,660
the orbs game was was far more

45
00:02:24,660 --> 00:02:26,340
simplistic it was literally a little

46
00:02:26,340 --> 00:02:29,700
ball uh it could beep and make flashy

47
00:02:29,700 --> 00:02:32,640
lights of only four well three colors

48
00:02:32,640 --> 00:02:34,680
plus white so it was quite Limited in

49
00:02:34,680 --> 00:02:36,360
what it could do but it the same the

50
00:02:36,360 --> 00:02:39,000
basic game concept was there and I

51
00:02:39,000 --> 00:02:42,000
deployed that in 2018 at EMF camp

52
00:02:42,000 --> 00:02:45,300
but the orbs game was my first attempt

53
00:02:45,300 --> 00:02:47,280
at this sort of thing making custom PCB

54
00:02:47,280 --> 00:02:49,920
doing all those sort of things and it

55
00:02:49,920 --> 00:02:51,420
had a few problems

56
00:02:51,420 --> 00:02:53,819
um the cases fell apart

57
00:02:53,819 --> 00:02:55,680
um they were held together with stickers

58
00:02:55,680 --> 00:02:58,200
that I made and uh yeah that didn't work

59
00:02:58,200 --> 00:02:59,340
so well

60
00:02:59,340 --> 00:03:01,019
um there was no monitoring of the

61
00:03:01,019 --> 00:03:03,360
batteries no kind of Hardware monitoring

62
00:03:03,360 --> 00:03:06,720
at all uh it it could have it had all

63
00:03:06,720 --> 00:03:08,940
sorts of problems with connectivity to

64
00:03:08,940 --> 00:03:12,120
the RFID reader and yeah I learned a lot

65
00:03:12,120 --> 00:03:13,319
from those

66
00:03:13,319 --> 00:03:14,840
um I also learned that

67
00:03:14,840 --> 00:03:17,640
esp8266s can have random eproms

68
00:03:17,640 --> 00:03:19,140
installed on them that that aren't all

69
00:03:19,140 --> 00:03:21,599
the same and

70
00:03:21,599 --> 00:03:23,340
sometimes they only take about three

71
00:03:23,340 --> 00:03:25,140
flashes and then stop working so I

72
00:03:25,140 --> 00:03:27,299
stopped using them

73
00:03:27,299 --> 00:03:28,739
um and switched a slightly different

74
00:03:28,739 --> 00:03:29,940
model

75
00:03:29,940 --> 00:03:31,500
um

76
00:03:31,500 --> 00:03:33,379
so I wanted to make some improvements

77
00:03:33,379 --> 00:03:37,440
and I wanted to go full RGB LEDs so I

78
00:03:37,440 --> 00:03:38,580
could play around with lots of different

79
00:03:38,580 --> 00:03:41,700
team colors and really make sort of the

80
00:03:41,700 --> 00:03:42,840
uh

81
00:03:42,840 --> 00:03:44,819
full audio so we could speak to you

82
00:03:44,819 --> 00:03:46,319
really tell people what was going on

83
00:03:46,319 --> 00:03:47,879
because one of the challenges was with

84
00:03:47,879 --> 00:03:49,379
beeps you don't really know what it's

85
00:03:49,379 --> 00:03:52,140
telling you and also wanted that full-on

86
00:03:52,140 --> 00:03:55,379
battery management so it would monitor

87
00:03:55,379 --> 00:03:57,239
its own battery and be able to turn

88
00:03:57,239 --> 00:03:59,939
itself off and and protect the battery

89
00:03:59,939 --> 00:04:02,340
which the other one couldn't do

90
00:04:02,340 --> 00:04:04,799
and I really wanted to do a better

91
00:04:04,799 --> 00:04:06,780
quality Case because the other ones were

92
00:04:06,780 --> 00:04:09,959
all falling apart so

93
00:04:09,959 --> 00:04:12,000
um

94
00:04:12,000 --> 00:04:14,400
of course the orbs game that's the uh

95
00:04:14,400 --> 00:04:17,100
the original one and then they've got

96
00:04:17,100 --> 00:04:20,100
this new toy 3D printer which is a

97
00:04:20,100 --> 00:04:22,019
dangerous thing to get

98
00:04:22,019 --> 00:04:25,199
um and so I thought well maybe I could

99
00:04:25,199 --> 00:04:28,259
do something a bit more interesting so I

100
00:04:28,259 --> 00:04:29,820
created

101
00:04:29,820 --> 00:04:33,000
the new case and I wanted it to have the

102
00:04:33,000 --> 00:04:34,560
nautical feel because that was the theme

103
00:04:34,560 --> 00:04:38,460
EMF had for 2022 and the polybius

104
00:04:38,460 --> 00:04:40,560
biotech underwater deep sea research lab

105
00:04:40,560 --> 00:04:42,419
so I kind of went a little bit more

106
00:04:42,419 --> 00:04:45,120
nautical look and didn't need stickers

107
00:04:45,120 --> 00:04:47,940
that was a really important one

108
00:04:47,940 --> 00:04:48,960
um

109
00:04:48,960 --> 00:04:51,240
so I used a few tools I used tinkercad

110
00:04:51,240 --> 00:04:53,400
to design it because again this was me

111
00:04:53,400 --> 00:04:55,500
learning how to do 3D I'm going to

112
00:04:55,500 --> 00:04:57,600
progress something better but for now

113
00:04:57,600 --> 00:04:59,280
that was absolutely perfect for what I

114
00:04:59,280 --> 00:05:02,100
what I wanted to do I used Kira to slice

115
00:05:02,100 --> 00:05:05,940
it and then a creatity cr6se to do the

116
00:05:05,940 --> 00:05:08,160
printing

117
00:05:08,160 --> 00:05:09,539
case

118
00:05:09,539 --> 00:05:11,699
uh yeah lots of lines telling you what

119
00:05:11,699 --> 00:05:14,520
things are but the the main parts with

120
00:05:14,520 --> 00:05:17,820
this case were I wanted it to click

121
00:05:17,820 --> 00:05:19,800
together so it didn't need screws and

122
00:05:19,800 --> 00:05:21,500
things to hold it together

123
00:05:21,500 --> 00:05:24,620
so you can see where the different

124
00:05:24,620 --> 00:05:28,020
uh that's that's a year it's pretty easy

125
00:05:28,020 --> 00:05:29,639
to point so if you look around here

126
00:05:29,639 --> 00:05:31,979
you've got little retaining holes

127
00:05:31,979 --> 00:05:33,360
um so you put the speaker in and then

128
00:05:33,360 --> 00:05:34,919
put little Clips in to hold it in place

129
00:05:34,919 --> 00:05:37,800
so this is the back of it what happens

130
00:05:37,800 --> 00:05:40,620
is these pillars actually hold the PCB

131
00:05:40,620 --> 00:05:42,479
in place from the rear so it stops IT

132
00:05:42,479 --> 00:05:45,600
falling out of its location and then

133
00:05:45,600 --> 00:05:48,720
around the edge you have these lugs uh

134
00:05:48,720 --> 00:05:51,419
locations which mates with the same

135
00:05:51,419 --> 00:05:55,139
sides over here to hold it in place and

136
00:05:55,139 --> 00:05:55,979
then

137
00:05:55,979 --> 00:05:59,039
the RFI the the antenna is actually held

138
00:05:59,039 --> 00:06:00,840
here so it uses a full-sized antenna

139
00:06:00,840 --> 00:06:02,759
part of the reason for that is it just

140
00:06:02,759 --> 00:06:05,460
if you use the little traces

141
00:06:05,460 --> 00:06:07,319
um on a campsite like this you're not

142
00:06:07,319 --> 00:06:10,319
going to get very much connectivity so I

143
00:06:10,319 --> 00:06:12,600
I tried to make it have the best chance

144
00:06:12,600 --> 00:06:15,539
of good Wi-Fi signal it also has a

145
00:06:15,539 --> 00:06:16,979
couple of little bits there's a hidden

146
00:06:16,979 --> 00:06:18,840
power button so if you look on the rear

147
00:06:18,840 --> 00:06:21,060
of them by the speaker you'll see a

148
00:06:21,060 --> 00:06:22,740
little round Dot and that's actually

149
00:06:22,740 --> 00:06:24,720
this pillar here which connects onto the

150
00:06:24,720 --> 00:06:27,060
PCB and pushes a button on the PCB to

151
00:06:27,060 --> 00:06:30,060
turn the unit on when it's sealed

152
00:06:30,060 --> 00:06:32,039
um there is no off button you you have

153
00:06:32,039 --> 00:06:34,259
to actually open it up or use a use a

154
00:06:34,259 --> 00:06:36,780
special method to turn it off

155
00:06:36,780 --> 00:06:39,300
the uh

156
00:06:39,300 --> 00:06:41,160
up here you have the side illumination

157
00:06:41,160 --> 00:06:44,460
for the perspex so that's two neopixels

158
00:06:44,460 --> 00:06:47,039
that are just in a strip there and they

159
00:06:47,039 --> 00:06:48,960
get mounted up there and connected on

160
00:06:48,960 --> 00:06:50,460
and they decide to illuminate the the

161
00:06:50,460 --> 00:06:52,680
perspex disk in the middle and the

162
00:06:52,680 --> 00:06:55,319
around the edge is where you have a near

163
00:06:55,319 --> 00:06:57,000
pixel strip

164
00:06:57,000 --> 00:07:00,360
um that has 17 LEDs on it to do all of

165
00:07:00,360 --> 00:07:01,139
that

166
00:07:01,139 --> 00:07:04,139
colorful stuff around the edge

167
00:07:04,139 --> 00:07:08,280
one of the things that I learned from

168
00:07:08,280 --> 00:07:11,819
printing some other things was that you

169
00:07:11,819 --> 00:07:15,960
printed really nice big 20 24 hour print

170
00:07:15,960 --> 00:07:18,120
and you've got little Clips on it that

171
00:07:18,120 --> 00:07:19,979
clip get onto something else which is

172
00:07:19,979 --> 00:07:21,840
great until they snap off and then

173
00:07:21,840 --> 00:07:23,580
you've got to reprint something that

174
00:07:23,580 --> 00:07:26,819
took over 20 hours so what I did was I

175
00:07:26,819 --> 00:07:31,500
instead put the uh put built these as

176
00:07:31,500 --> 00:07:33,900
two two clips stuck together

177
00:07:33,900 --> 00:07:36,000
and then they clip into the holes on

178
00:07:36,000 --> 00:07:36,900
each side

179
00:07:36,900 --> 00:07:38,699
so that way if I price and fire and they

180
00:07:38,699 --> 00:07:40,800
snap I just need to reprint this tiny

181
00:07:40,800 --> 00:07:43,440
little lug that goes in between it also

182
00:07:43,440 --> 00:07:45,900
meant that whereas this is the main unit

183
00:07:45,900 --> 00:07:48,360
is printed sort of in layers that way

184
00:07:48,360 --> 00:07:50,940
this I can print in layers this way to

185
00:07:50,940 --> 00:07:53,340
give it strength along the uh along

186
00:07:53,340 --> 00:07:56,819
along the uh the the stress line

187
00:07:56,819 --> 00:07:58,860
so that that really helped and I've got

188
00:07:58,860 --> 00:08:00,599
a bag of those just for when I snap them

189
00:08:00,599 --> 00:08:02,520
as I open the cases

190
00:08:02,520 --> 00:08:05,299
all right

191
00:08:05,520 --> 00:08:08,460
so this is kind of a an overview of the

192
00:08:08,460 --> 00:08:10,379
the difference in the hardware so the

193
00:08:10,379 --> 00:08:12,960
original orbs game had so uh you just

194
00:08:12,960 --> 00:08:15,900
said it bleeped pwm and I switched to a

195
00:08:15,900 --> 00:08:18,860
dfr mini uh zero two

196
00:08:18,860 --> 00:08:23,160
dfr0299 MP3 player because that uh super

197
00:08:23,160 --> 00:08:25,020
cheap the memory cards cost more than

198
00:08:25,020 --> 00:08:27,900
the players now it's amazing

199
00:08:27,900 --> 00:08:31,680
um bigger larger speaker flashy LEDs

200
00:08:31,680 --> 00:08:36,179
and the esp8285 which is the same as the

201
00:08:36,179 --> 00:08:38,700
a266 but the eprom is integrated into

202
00:08:38,700 --> 00:08:41,399
the expressive die so you know you're

203
00:08:41,399 --> 00:08:43,679
going to get good quality eeprom

204
00:08:43,679 --> 00:08:47,220
and pick microprocessor which I upgraded

205
00:08:47,220 --> 00:08:50,160
between the two different versions

206
00:08:50,160 --> 00:08:52,200
this is the PCB

207
00:08:52,200 --> 00:08:54,839
um from one side so up the top we've got

208
00:08:54,839 --> 00:08:56,640
the two connections to the different LED

209
00:08:56,640 --> 00:08:57,720
strips

210
00:08:57,720 --> 00:09:00,720
the the MP3 player now up on the top

211
00:09:00,720 --> 00:09:02,940
right is two micro switches which are

212
00:09:02,940 --> 00:09:06,240
there to do the tamper detection now

213
00:09:06,240 --> 00:09:08,820
um the tamper detection when triggered

214
00:09:08,820 --> 00:09:11,279
causes it to flash lots of Lights make a

215
00:09:11,279 --> 00:09:13,620
siren sound and scream help me

216
00:09:13,620 --> 00:09:15,720
repeatedly which got very annoying for

217
00:09:15,720 --> 00:09:17,880
some people uh

218
00:09:17,880 --> 00:09:22,339
uh and the uh

219
00:09:24,180 --> 00:09:26,399
so on one occasion

220
00:09:26,399 --> 00:09:29,880
um I was sat at the T tent in EMF camp

221
00:09:29,880 --> 00:09:32,040
and my phone suddenly started beeping to

222
00:09:32,040 --> 00:09:34,019
tell me that a tamper detection trigger

223
00:09:34,019 --> 00:09:36,300
had gone off so I was like

224
00:09:36,300 --> 00:09:38,940
which one oh the one over there and at

225
00:09:38,940 --> 00:09:40,380
the same moment I heard a siren going

226
00:09:40,380 --> 00:09:41,640
off

227
00:09:41,640 --> 00:09:43,560
um so I kind of walked over to the

228
00:09:43,560 --> 00:09:45,540
hardware hacking tent and there's a

229
00:09:45,540 --> 00:09:47,399
person looking quite sheepish holding

230
00:09:47,399 --> 00:09:49,500
this coin making lots of noise where

231
00:09:49,500 --> 00:09:50,880
they've clearly just tried to prize the

232
00:09:50,880 --> 00:09:52,440
back off it

233
00:09:52,440 --> 00:09:55,800
so it just does work does work a few

234
00:09:55,800 --> 00:09:58,320
unfortunate incidents though because

235
00:09:58,320 --> 00:10:00,480
um the T10 actually blew over

236
00:10:00,480 --> 00:10:02,640
and uh that triggered their temper

237
00:10:02,640 --> 00:10:05,160
detection as well and so yeah that was a

238
00:10:05,160 --> 00:10:07,680
bit unfortunate The Accidental triggers

239
00:10:07,680 --> 00:10:09,240
um but yeah you can see the power button

240
00:10:09,240 --> 00:10:12,660
just there which is where the um uh that

241
00:10:12,660 --> 00:10:15,240
that kind of bit that I pointed out on

242
00:10:15,240 --> 00:10:17,339
the previous slide touches so when you

243
00:10:17,339 --> 00:10:19,680
press the case in just there it turns it

244
00:10:19,680 --> 00:10:21,720
on the other bit is the charge socket

245
00:10:21,720 --> 00:10:23,399
which is a very simple

246
00:10:23,399 --> 00:10:27,060
um USBC uh power supply charger for

247
00:10:27,060 --> 00:10:29,339
lithium ion sales

248
00:10:29,339 --> 00:10:31,320
and obviously you've got the three big

249
00:10:31,320 --> 00:10:33,360
battery connections around the edge

250
00:10:33,360 --> 00:10:35,339
the other side is has far more stuff

251
00:10:35,339 --> 00:10:37,920
going on so we've got a 3.3 volt power

252
00:10:37,920 --> 00:10:39,660
regulator

253
00:10:39,660 --> 00:10:42,180
this little bit here is unpopulated and

254
00:10:42,180 --> 00:10:44,040
the reason behind that is

255
00:10:44,040 --> 00:10:46,019
um I learned that scale is really

256
00:10:46,019 --> 00:10:47,579
important when you're looking at the

257
00:10:47,579 --> 00:10:49,320
parts you're putting in if you're doing

258
00:10:49,320 --> 00:10:51,240
hand soldering so I suddenly discovered

259
00:10:51,240 --> 00:10:52,500
that the

260
00:10:52,500 --> 00:10:54,300
um three the power regulator had ordered

261
00:10:54,300 --> 00:10:57,420
was so small I could barely see it

262
00:10:57,420 --> 00:11:00,480
so I kind of uh but I wasn't sure I

263
00:11:00,480 --> 00:11:01,560
could get all the parts for a different

264
00:11:01,560 --> 00:11:04,680
version so I uh I put both on the board

265
00:11:04,680 --> 00:11:06,779
just in case I had problems with power

266
00:11:06,779 --> 00:11:09,839
supply this incidentally was the third

267
00:11:09,839 --> 00:11:12,240
fourth power supply design I did because

268
00:11:12,240 --> 00:11:14,820
I couldn't Source the parts for for them

269
00:11:14,820 --> 00:11:17,040
so many times it was very frustrating

270
00:11:17,040 --> 00:11:19,920
but I think we all know that story

271
00:11:19,920 --> 00:11:21,000
um you've got the

272
00:11:21,000 --> 00:11:23,040
um the Wi-Fi module up there

273
00:11:23,040 --> 00:11:25,079
uh the pick microprocessor sitting over

274
00:11:25,079 --> 00:11:26,820
there and that's kind of the brains of

275
00:11:26,820 --> 00:11:28,860
the operation that's that's what really

276
00:11:28,860 --> 00:11:29,940
does

277
00:11:29,940 --> 00:11:31,019
um

278
00:11:31,019 --> 00:11:34,560
uh that runs the whole uh unit and then

279
00:11:34,560 --> 00:11:35,700
you've got the

280
00:11:35,700 --> 00:11:39,839
um RFID reader so the the RFID reader

281
00:11:39,839 --> 00:11:42,600
um it's a very cheap simple one uh these

282
00:11:42,600 --> 00:11:43,920
particular ones

283
00:11:43,920 --> 00:11:47,579
um they come in a really bad state from

284
00:11:47,579 --> 00:11:51,360
China so the the two lugs you can see up

285
00:11:51,360 --> 00:11:54,959
sorry the two uh inductors up here uh

286
00:11:54,959 --> 00:11:57,480
they totally underspect them so you get

287
00:11:57,480 --> 00:12:00,480
almost no reading ability in range so

288
00:12:00,480 --> 00:12:03,240
what I've done is I've replaced them on

289
00:12:03,240 --> 00:12:05,459
all of the ones that I get so I put ones

290
00:12:05,459 --> 00:12:08,339
with about about 200 milliamp capability

291
00:12:08,339 --> 00:12:10,980
at least and that makes them read from a

292
00:12:10,980 --> 00:12:13,560
fair distance and can read sort of more

293
00:12:13,560 --> 00:12:15,720
high energy cards like payment cards and

294
00:12:15,720 --> 00:12:17,760
so on which out of the box these can't

295
00:12:17,760 --> 00:12:20,459
do I also remove the LED from it because

296
00:12:20,459 --> 00:12:23,540
there's just waste power

297
00:12:23,760 --> 00:12:25,320
um I don't know how much people know

298
00:12:25,320 --> 00:12:28,800
about RFID but the the basics are when

299
00:12:28,800 --> 00:12:29,399
um

300
00:12:29,399 --> 00:12:32,820
each RFID Card has a uid which is a

301
00:12:32,820 --> 00:12:35,579
number between it's either four seven or

302
00:12:35,579 --> 00:12:37,320
ten digits long

303
00:12:37,320 --> 00:12:40,380
um and is you supposedly unique to that

304
00:12:40,380 --> 00:12:42,300
card they are not from the ones from

305
00:12:42,300 --> 00:12:45,120
China you can get lots of duplicates

306
00:12:45,120 --> 00:12:49,019
um as I discovered but the uh the basics

307
00:12:49,019 --> 00:12:51,420
of the way this game works is it uses

308
00:12:51,420 --> 00:12:55,200
like uid to identify the player so uh it

309
00:12:55,200 --> 00:12:58,560
queries what that is retrieves it and uh

310
00:12:58,560 --> 00:13:01,139
and sends that off to the server for the

311
00:13:01,139 --> 00:13:03,920
uh for the game

312
00:13:04,019 --> 00:13:04,620
um

313
00:13:04,620 --> 00:13:06,420
there's nothing actually read from the

314
00:13:06,420 --> 00:13:08,459
cards during the game

315
00:13:08,459 --> 00:13:10,620
um particularly the game relies purely

316
00:13:10,620 --> 00:13:12,420
on that uid we don't write anything to

317
00:13:12,420 --> 00:13:14,639
the card to to kind of identify who the

318
00:13:14,639 --> 00:13:16,800
user is

319
00:13:16,800 --> 00:13:20,040
so uh yeah this this is the schematic of

320
00:13:20,040 --> 00:13:21,420
the board

321
00:13:21,420 --> 00:13:23,160
um so I hope you can all read that

322
00:13:23,160 --> 00:13:25,980
perfectly from where you are

323
00:13:25,980 --> 00:13:29,160
so it's not intended to to uh

324
00:13:29,160 --> 00:13:31,260
to be looked at in detail it I can

325
00:13:31,260 --> 00:13:32,700
provide that but

326
00:13:32,700 --> 00:13:33,720
um

327
00:13:33,720 --> 00:13:35,820
this is the pick microprocessor and

328
00:13:35,820 --> 00:13:37,320
that's as I said is the the brain's the

329
00:13:37,320 --> 00:13:39,360
operation one of the

330
00:13:39,360 --> 00:13:40,139
um

331
00:13:40,139 --> 00:13:42,540
things I wanted to do was was really

332
00:13:42,540 --> 00:13:44,220
manage the power in this because

333
00:13:44,220 --> 00:13:45,899
obviously these devices are sat around

334
00:13:45,899 --> 00:13:47,940
flashing LEDs doing all sorts of things

335
00:13:47,940 --> 00:13:50,699
for days on end and I want to make sure

336
00:13:50,699 --> 00:13:52,079
the batteries aren't going to run out so

337
00:13:52,079 --> 00:13:53,880
so power management was probably one of

338
00:13:53,880 --> 00:13:55,320
my highest priorities when designing

339
00:13:55,320 --> 00:13:57,480
this so the reason there's a pick

340
00:13:57,480 --> 00:14:00,839
processor as well as the ESP is because

341
00:14:00,839 --> 00:14:03,600
the pig processor uses only a few

342
00:14:03,600 --> 00:14:05,100
milliamps when it's running and can go

343
00:14:05,100 --> 00:14:07,139
into microamps when it's asleep so that

344
00:14:07,139 --> 00:14:10,019
means that I can turn it everything off

345
00:14:10,019 --> 00:14:12,920
and use almost no power

346
00:14:12,920 --> 00:14:14,600
the

347
00:14:14,600 --> 00:14:18,480
esp8266 is then used for the

348
00:14:18,480 --> 00:14:21,720
communications Wi-Fi mqtt all of that

349
00:14:21,720 --> 00:14:24,060
kind of layer of comms rather than it

350
00:14:24,060 --> 00:14:25,019
being

351
00:14:25,019 --> 00:14:27,300
um on all the time I can just turn it on

352
00:14:27,300 --> 00:14:30,120
when I actually need to communicate

353
00:14:30,120 --> 00:14:33,120
so one of the things that um because the

354
00:14:33,120 --> 00:14:34,680
pig processor is doing a lot of

355
00:14:34,680 --> 00:14:36,720
communication with a lot of devices I

356
00:14:36,720 --> 00:14:38,459
had to try and it's it's a pretty low

357
00:14:38,459 --> 00:14:39,620
powered device

358
00:14:39,620 --> 00:14:41,940
I had to make sure that it could talk to

359
00:14:41,940 --> 00:14:44,040
lots of things simultaneously so what I

360
00:14:44,040 --> 00:14:46,800
did was I used Hardware offloading on

361
00:14:46,800 --> 00:14:48,420
everything that I could so the pick

362
00:14:48,420 --> 00:14:51,060
processor comes with Hardware two

363
00:14:51,060 --> 00:14:52,860
Hardware SPI interfaces two Hardware

364
00:14:52,860 --> 00:14:56,820
uarts so the one you are it talks to the

365
00:14:56,820 --> 00:15:00,060
MP3 player one you you are talks to the

366
00:15:00,060 --> 00:15:04,199
ESP Wi-Fi module the SPI talks to the

367
00:15:04,199 --> 00:15:07,560
RFID reader and the other SPI uses a

368
00:15:07,560 --> 00:15:09,920
thing called a configurable logic cell

369
00:15:09,920 --> 00:15:14,120
to generate the uh it combines the

370
00:15:14,120 --> 00:15:19,620
output of the SPI with a pwm and a timer

371
00:15:19,620 --> 00:15:22,079
to generate the native signal required

372
00:15:22,079 --> 00:15:27,120
for the LEDs so the ws2812s

373
00:15:27,120 --> 00:15:29,639
so that way I can literally drive all of

374
00:15:29,639 --> 00:15:32,160
the comms in Hardware interrupt driven

375
00:15:32,160 --> 00:15:35,040
which means that the main program can

376
00:15:35,040 --> 00:15:38,100
just do its thing running sort of the

377
00:15:38,100 --> 00:15:40,560
game logic and not worry about any of

378
00:15:40,560 --> 00:15:43,399
the comms going on

379
00:15:43,500 --> 00:15:46,740
the uh

380
00:15:46,740 --> 00:15:49,579
yeah so

381
00:15:49,920 --> 00:15:53,279
the stuff it's coded in the ESP uses

382
00:15:53,279 --> 00:15:56,820
micropython just because I'd use micro

383
00:15:56,820 --> 00:16:00,839
python a lot and uh sorry I'd use Python

384
00:16:00,839 --> 00:16:02,459
a lot and micropython just made it very

385
00:16:02,459 --> 00:16:03,660
easy rather than having to use a

386
00:16:03,660 --> 00:16:05,220
different language to run on the ESP

387
00:16:05,220 --> 00:16:07,860
module and I used something called

388
00:16:07,860 --> 00:16:10,199
proton pick basic which was just

389
00:16:10,199 --> 00:16:12,300
something I started with many years ago

390
00:16:12,300 --> 00:16:14,339
and just carried on using for my pick

391
00:16:14,339 --> 00:16:16,860
programming and it just made sense to do

392
00:16:16,860 --> 00:16:17,940
it that way

393
00:16:17,940 --> 00:16:20,000
um

394
00:16:20,399 --> 00:16:22,459
so one of the challenges with

395
00:16:22,459 --> 00:16:24,540
micropython if anybody's come across

396
00:16:24,540 --> 00:16:27,180
this is that because python compiles

397
00:16:27,180 --> 00:16:30,540
when it runs it's very memory hungry if

398
00:16:30,540 --> 00:16:32,579
you're just trying to run code you can

399
00:16:32,579 --> 00:16:34,920
get about 100 lines and then it stops

400
00:16:34,920 --> 00:16:36,839
because it's run out of memory on the

401
00:16:36,839 --> 00:16:41,399
ESP range esp8266 so what I do is I use

402
00:16:41,399 --> 00:16:43,680
a cross compiler so you can cross

403
00:16:43,680 --> 00:16:45,180
compile

404
00:16:45,180 --> 00:16:49,019
um the the the the pi files into mpy

405
00:16:49,019 --> 00:16:53,100
files and copy those up to the the ESP

406
00:16:53,100 --> 00:16:55,380
and that allows you to run a huge amount

407
00:16:55,380 --> 00:16:58,019
more I mean I've got many times that

408
00:16:58,019 --> 00:16:59,759
number of lines of code and it's running

409
00:16:59,759 --> 00:17:02,519
without running at a ram so yeah if you

410
00:17:02,519 --> 00:17:04,559
if you do ever hit that challenge look

411
00:17:04,559 --> 00:17:06,419
at the cross compiler

412
00:17:06,419 --> 00:17:09,179
I've used I actually split things into

413
00:17:09,179 --> 00:17:11,699
two modules so I have a module of

414
00:17:11,699 --> 00:17:14,099
functions that I kind of know work and

415
00:17:14,099 --> 00:17:15,959
are sitting alone and then I have a

416
00:17:15,959 --> 00:17:17,520
module of the actual game

417
00:17:17,520 --> 00:17:20,339
sort of logic that on the micropython

418
00:17:20,339 --> 00:17:22,819
side of things

419
00:17:23,459 --> 00:17:26,459
of course getting uh getting stuff onto

420
00:17:26,459 --> 00:17:29,580
the board is is really kind of important

421
00:17:29,580 --> 00:17:30,780
and

422
00:17:30,780 --> 00:17:33,240
what I've done before is uh I used

423
00:17:33,240 --> 00:17:35,340
headers pin headers but they're just a

424
00:17:35,340 --> 00:17:37,559
pain which is a load of soldering

425
00:17:37,559 --> 00:17:40,380
um so instead what I've used is uh pads

426
00:17:40,380 --> 00:17:42,600
on the PCB so it came printed with the

427
00:17:42,600 --> 00:17:44,940
pads and then I just used these to

428
00:17:44,940 --> 00:17:46,440
connect to it

429
00:17:46,440 --> 00:17:49,500
so if on the PCB itself there are two

430
00:17:49,500 --> 00:17:52,500
holes which are locator lugs so you can

431
00:17:52,500 --> 00:17:55,080
see there's two kind of locator lugs

432
00:17:55,080 --> 00:17:57,720
sticking out on this 3D printed holder

433
00:17:57,720 --> 00:17:59,760
and that causes this to be located

434
00:17:59,760 --> 00:18:02,400
perfectly onto the PCB

435
00:18:02,400 --> 00:18:04,860
and then those Pogo pins touch onto the

436
00:18:04,860 --> 00:18:07,500
pads so that you can then uh you you

437
00:18:07,500 --> 00:18:09,780
then get a good connection so the top

438
00:18:09,780 --> 00:18:12,140
one's wired up to do the uh ESP

439
00:18:12,140 --> 00:18:15,000
communication so that uses just connects

440
00:18:15,000 --> 00:18:17,280
onto a standard USB to serial adapter

441
00:18:17,280 --> 00:18:21,240
that I can then I can then cause to push

442
00:18:21,240 --> 00:18:23,039
the firmware and it has a jumper on it

443
00:18:23,039 --> 00:18:24,600
that I can switch between

444
00:18:24,600 --> 00:18:27,480
pushing firmware or pushing on oil

445
00:18:27,480 --> 00:18:30,960
connecting to the uh Ripple and the

446
00:18:30,960 --> 00:18:32,700
bottom one is a connection to the picket

447
00:18:32,700 --> 00:18:34,679
three the picket three this is not an

448
00:18:34,679 --> 00:18:36,240
original one they do very cheap

449
00:18:36,240 --> 00:18:39,419
knockoffs these days and yeah it just

450
00:18:39,419 --> 00:18:40,860
allows me to program the pick chips very

451
00:18:40,860 --> 00:18:44,000
easily on the PCB

452
00:18:46,080 --> 00:18:49,679
server runs these things it runs on a

453
00:18:49,679 --> 00:18:51,480
little Raspberry Pi

454
00:18:51,480 --> 00:18:54,900
it uses python as the the main code it

455
00:18:54,900 --> 00:18:58,380
stores all this data in a mirror DB

456
00:18:58,380 --> 00:19:00,660
I have my phone get notifications using

457
00:19:00,660 --> 00:19:02,880
pushover if anybody's come across that

458
00:19:02,880 --> 00:19:05,460
it's a really really cool little tool it

459
00:19:05,460 --> 00:19:07,380
allows you to

460
00:19:07,380 --> 00:19:09,600
call a rest API and deliver

461
00:19:09,600 --> 00:19:12,059
notifications to your phone or to other

462
00:19:12,059 --> 00:19:14,400
people's phones if they set it up as

463
00:19:14,400 --> 00:19:15,419
appropriate

464
00:19:15,419 --> 00:19:17,520
so it really it's a really good way of

465
00:19:17,520 --> 00:19:18,720
keeping an eye on what's going on with

466
00:19:18,720 --> 00:19:21,299
the game so I get alerts if discs vanish

467
00:19:21,299 --> 00:19:23,700
offline when they come back online if a

468
00:19:23,700 --> 00:19:27,600
tamper is triggered and so on

469
00:19:27,600 --> 00:19:29,580
it runs on the main surface of Raspberry

470
00:19:29,580 --> 00:19:31,980
Pi and all the communication is via mqtt

471
00:19:31,980 --> 00:19:34,919
between the different components so all

472
00:19:34,919 --> 00:19:38,880
when the discs boot up they talk to the

473
00:19:38,880 --> 00:19:41,220
server via mqtt and the query what their

474
00:19:41,220 --> 00:19:43,440
status is and what the current config is

475
00:19:43,440 --> 00:19:46,440
and that gets downloaded back to the

476
00:19:46,440 --> 00:19:50,100
back to the disk via mqtt

477
00:19:50,100 --> 00:19:52,799
and when you go up and present a token

478
00:19:52,799 --> 00:19:54,360
it will

479
00:19:54,360 --> 00:19:57,419
send that request via mqtt so kind of

480
00:19:57,419 --> 00:19:59,460
the sequence that uh when when somebody

481
00:19:59,460 --> 00:20:02,880
goes and presents a token is it turns it

482
00:20:02,880 --> 00:20:05,400
reads the RFID checks to see if it's not

483
00:20:05,400 --> 00:20:08,220
the current owner of that disk and then

484
00:20:08,220 --> 00:20:10,740
we'll send the turn on the Wi-Fi unit

485
00:20:10,740 --> 00:20:13,919
wait for Wi-Fi to connect and mqtt to

486
00:20:13,919 --> 00:20:15,840
connect and at that point it will send a

487
00:20:15,840 --> 00:20:18,000
query with this is the token I've just

488
00:20:18,000 --> 00:20:19,260
received

489
00:20:19,260 --> 00:20:22,320
and it then receives it a response back

490
00:20:22,320 --> 00:20:24,419
with this is a known player this is a

491
00:20:24,419 --> 00:20:26,700
team they're on or I don't know who this

492
00:20:26,700 --> 00:20:28,880
is

493
00:20:29,100 --> 00:20:32,520
so the

494
00:20:32,520 --> 00:20:34,799
the other thing is that because one of

495
00:20:34,799 --> 00:20:36,960
the challenges I had with with this was

496
00:20:36,960 --> 00:20:39,419
discs play Losing communication

497
00:20:39,419 --> 00:20:42,240
especially well the orbs game things

498
00:20:42,240 --> 00:20:44,460
would lose comms and I wouldn't know so

499
00:20:44,460 --> 00:20:46,860
what I would do is uh with this is if

500
00:20:46,860 --> 00:20:49,320
they become uncap they become uncaptured

501
00:20:49,320 --> 00:20:51,120
if it doesn't hear from the disk for a

502
00:20:51,120 --> 00:20:52,740
certain amount of time so the disc

503
00:20:52,740 --> 00:20:54,299
supposed to check in roughly every five

504
00:20:54,299 --> 00:20:56,880
minutes and if it doesn't hear for about

505
00:20:56,880 --> 00:20:58,740
15 minutes then it will say this is

506
00:20:58,740 --> 00:21:01,080
offline I'm removing the owner and it

507
00:21:01,080 --> 00:21:03,179
just stops discs that can't be played

508
00:21:03,179 --> 00:21:06,720
from just living on uh in the game and

509
00:21:06,720 --> 00:21:08,640
scoring points when no one can actually

510
00:21:08,640 --> 00:21:10,559
capture them

511
00:21:10,559 --> 00:21:12,419
the other thing is that obviously

512
00:21:12,419 --> 00:21:14,280
there's a bit of security I wanted to do

513
00:21:14,280 --> 00:21:16,260
yeah we're at a hacker Camp I kind of

514
00:21:16,260 --> 00:21:18,600
thought that maybe somebody would try

515
00:21:18,600 --> 00:21:21,179
um and I'm pleased to say I've not seen

516
00:21:21,179 --> 00:21:23,159
any alerts whether they've bypassed my

517
00:21:23,159 --> 00:21:24,960
alerts or not I don't know

518
00:21:24,960 --> 00:21:28,500
um but the uh the the way I've done the

519
00:21:28,500 --> 00:21:31,320
communications is uh when the when the

520
00:21:31,320 --> 00:21:33,720
discs start up the Wi-Fi they actually

521
00:21:33,720 --> 00:21:35,760
query what the current time is

522
00:21:35,760 --> 00:21:38,520
so they'll do an ntp request to get the

523
00:21:38,520 --> 00:21:40,799
time and then every message they

524
00:21:40,799 --> 00:21:43,620
exchange includes the timestamp that as

525
00:21:43,620 --> 00:21:48,120
they see it and they also include some

526
00:21:48,120 --> 00:21:49,020
known

527
00:21:49,020 --> 00:21:50,820
private known

528
00:21:50,820 --> 00:21:53,520
sort of bits of text that don't get

529
00:21:53,520 --> 00:21:56,400
transmitted but are included within the

530
00:21:56,400 --> 00:21:57,900
hash that it generates for the overall

531
00:21:57,900 --> 00:21:58,799
message

532
00:21:58,799 --> 00:22:00,720
and then it transmits the message with

533
00:22:00,720 --> 00:22:02,159
the hash

534
00:22:02,159 --> 00:22:04,500
which then means that the other end can

535
00:22:04,500 --> 00:22:06,539
verify that yes this actually originated

536
00:22:06,539 --> 00:22:09,000
from a disk so

537
00:22:09,000 --> 00:22:10,980
that happens in both directions so this

538
00:22:10,980 --> 00:22:13,140
when the server sends a message it's

539
00:22:13,140 --> 00:22:15,780
signing it and when the disk is is

540
00:22:15,780 --> 00:22:17,280
sending a message it's signing it so

541
00:22:17,280 --> 00:22:18,780
that way they both know they're talking

542
00:22:18,780 --> 00:22:20,940
to each other and it's not easy to just

543
00:22:20,940 --> 00:22:22,860
fake a message or replay a message

544
00:22:22,860 --> 00:22:24,480
because the timestamp's in there as well

545
00:22:24,480 --> 00:22:26,280
and if it Strays by more than a minute

546
00:22:26,280 --> 00:22:28,140
or two then the system's going to reject

547
00:22:28,140 --> 00:22:30,000
it and again send me an alert that's

548
00:22:30,000 --> 00:22:32,480
happened

549
00:22:34,940 --> 00:22:39,140
so yeah there are some hidden features

550
00:22:39,240 --> 00:22:41,580
um actually the the hidden features

551
00:22:41,580 --> 00:22:43,080
um

552
00:22:43,080 --> 00:22:45,179
there was an EMF Camp bonus so if

553
00:22:45,179 --> 00:22:48,840
anybody played EMF Camp your token ID

554
00:22:48,840 --> 00:22:51,720
was copied over and it checked to see if

555
00:22:51,720 --> 00:22:53,400
if you'd played before and it would have

556
00:22:53,400 --> 00:22:54,720
given you a nice little welcome and some

557
00:22:54,720 --> 00:22:57,539
bonus points if you reused a token

558
00:22:57,539 --> 00:22:59,640
between the two camps

559
00:22:59,640 --> 00:23:01,080
there's also something called command

560
00:23:01,080 --> 00:23:02,580
mode and this was something that kind of

561
00:23:02,580 --> 00:23:04,140
goes back to

562
00:23:04,140 --> 00:23:05,760
um something I said which is is really

563
00:23:05,760 --> 00:23:08,820
hard to load new config in in the

564
00:23:08,820 --> 00:23:10,380
original orbs game so if I needed to

565
00:23:10,380 --> 00:23:12,419
change something it was so difficult so

566
00:23:12,419 --> 00:23:14,760
what I ended up doing was

567
00:23:14,760 --> 00:23:17,520
uh having a command mode they have a

568
00:23:17,520 --> 00:23:20,159
control token so this is a particular

569
00:23:20,159 --> 00:23:23,400
uid that it recognizes and when you

570
00:23:23,400 --> 00:23:25,620
present that it goes into command mode

571
00:23:25,620 --> 00:23:28,320
at that point you can issue various

572
00:23:28,320 --> 00:23:30,539
commands one is run Diagnostics so

573
00:23:30,539 --> 00:23:32,400
you'll actually do some self-testing and

574
00:23:32,400 --> 00:23:34,860
report back if it's got any problems it

575
00:23:34,860 --> 00:23:38,580
also has features such as turn it off so

576
00:23:38,580 --> 00:23:39,840
I can actually turn it off without

577
00:23:39,840 --> 00:23:41,520
triggering the tamper detection then

578
00:23:41,520 --> 00:23:43,279
open the case up

579
00:23:43,279 --> 00:23:46,200
the probably the most important one

580
00:23:46,200 --> 00:23:48,360
though is the ability to push new config

581
00:23:48,360 --> 00:23:52,620
into the device so there's a a data type

582
00:23:52,620 --> 00:23:56,760
called ndef which if you've used rfids

583
00:23:56,760 --> 00:23:58,860
before and looked at it sometimes you'll

584
00:23:58,860 --> 00:24:00,539
see if you scan it but also there's

585
00:24:00,539 --> 00:24:02,340
certain ndf records there so I've

586
00:24:02,340 --> 00:24:05,880
basically taken a subset of ndf and made

587
00:24:05,880 --> 00:24:08,220
it read the in-depth card to load the

588
00:24:08,220 --> 00:24:10,820
config in so I can present

589
00:24:10,820 --> 00:24:14,400
new uh new config unfortunately at the

590
00:24:14,400 --> 00:24:16,500
EMF Camp

591
00:24:16,500 --> 00:24:20,640
um I hadn't realized a a little bit of a

592
00:24:20,640 --> 00:24:23,039
challenge there that the Wi-Fi had no

593
00:24:23,039 --> 00:24:26,460
pre-shared key and uh so my idea of

594
00:24:26,460 --> 00:24:28,799
loading new Wi-Fi config totally failed

595
00:24:28,799 --> 00:24:30,720
because I hadn't accounted for being as

596
00:24:30,720 --> 00:24:33,480
a load no pre-shared key at all

597
00:24:33,480 --> 00:24:34,320
um

598
00:24:34,320 --> 00:24:37,860
so yeah that was that was awkward but

599
00:24:37,860 --> 00:24:39,779
the main thing is that I can I can

600
00:24:39,779 --> 00:24:41,520
present that and I can cause them to

601
00:24:41,520 --> 00:24:44,100
re-register so if the if whatever reason

602
00:24:44,100 --> 00:24:46,679
they they uh get upset with the server

603
00:24:46,679 --> 00:24:49,740
they lose lose comms and have different

604
00:24:49,740 --> 00:24:52,020
keys or anything like that I can reload

605
00:24:52,020 --> 00:24:55,320
the config and move straight on the

606
00:24:55,320 --> 00:24:56,900
other the other thing was payment card

607
00:24:56,900 --> 00:24:59,880
identification so

608
00:24:59,880 --> 00:25:02,520
um there's this uh

609
00:25:02,520 --> 00:25:05,039
there's a file on on payment cards

610
00:25:05,039 --> 00:25:08,520
called toupee.sys which uh when you read

611
00:25:08,520 --> 00:25:10,500
it it's an open file so you don't have

612
00:25:10,500 --> 00:25:12,539
to engage any form of real encryption to

613
00:25:12,539 --> 00:25:13,620
read it

614
00:25:13,620 --> 00:25:15,779
but what it does is it contains an

615
00:25:15,779 --> 00:25:16,919
identifier

616
00:25:16,919 --> 00:25:19,320
of these are the payment card processors

617
00:25:19,320 --> 00:25:21,659
available on this this card so it'd be

618
00:25:21,659 --> 00:25:24,299
Visa or Mastercard or the the principal

619
00:25:24,299 --> 00:25:25,440
too

620
00:25:25,440 --> 00:25:27,900
what it will do is

621
00:25:27,900 --> 00:25:29,820
they get what the game does is it reads

622
00:25:29,820 --> 00:25:32,400
that and it also reads if there's a bit

623
00:25:32,400 --> 00:25:34,559
of text as well associated with it so

624
00:25:34,559 --> 00:25:36,539
sometimes payment card providers include

625
00:25:36,539 --> 00:25:38,520
little a few words so it will actually

626
00:25:38,520 --> 00:25:40,980
read that level of detail nothing more

627
00:25:40,980 --> 00:25:44,580
but it does do then prank the player so

628
00:25:44,580 --> 00:25:48,299
what it will do is it will it will it'll

629
00:25:48,299 --> 00:25:50,520
wait until you're registered and then it

630
00:25:50,520 --> 00:25:51,620
will say

631
00:25:51,620 --> 00:25:54,240
authorizing Visa debit card donation to

632
00:25:54,240 --> 00:25:57,020
polycoin

633
00:25:57,360 --> 00:26:00,659
um and yeah so that this does happen uh

634
00:26:00,659 --> 00:26:03,659
it's happened three times at this camp

635
00:26:03,659 --> 00:26:06,120
um so far uh it doesn't always manage to

636
00:26:06,120 --> 00:26:07,860
get a clear read because it requires a

637
00:26:07,860 --> 00:26:09,720
lot of power and more time to actually

638
00:26:09,720 --> 00:26:11,340
read that file

639
00:26:11,340 --> 00:26:14,460
um at EMF Camp there was a a bumped into

640
00:26:14,460 --> 00:26:18,179
a a guy and his little girl and we're

641
00:26:18,179 --> 00:26:20,460
talking about this and she had used her

642
00:26:20,460 --> 00:26:23,100
pocket money card on the on the reader

643
00:26:23,100 --> 00:26:25,860
and she had heard it say this and didn't

644
00:26:25,860 --> 00:26:27,480
hear the bit at the end where it goes

645
00:26:27,480 --> 00:26:29,220
just kidding

646
00:26:29,220 --> 00:26:31,020
so she thought that she had donated

647
00:26:31,020 --> 00:26:32,820
something to polycoin

648
00:26:32,820 --> 00:26:34,740
but I think it's a good good life lesson

649
00:26:34,740 --> 00:26:36,480
of where you put your your payment cards

650
00:26:36,480 --> 00:26:40,460
at a hacker camp for her

651
00:26:42,240 --> 00:26:44,940
so there's a scoreboard which uh this is

652
00:26:44,940 --> 00:26:47,220
the one at EMF camp and I'm sorry to say

653
00:26:47,220 --> 00:26:49,860
that the map on on the one that here is

654
00:26:49,860 --> 00:26:51,120
still EMF because I haven't got around

655
00:26:51,120 --> 00:26:53,880
to updating it yet uh so we'll fix I

656
00:26:53,880 --> 00:26:55,260
will try and fix that before the end of

657
00:26:55,260 --> 00:26:57,539
the game if I can but the scoreboard

658
00:26:57,539 --> 00:27:00,659
uses Pi game to render

659
00:27:00,659 --> 00:27:02,880
and all it does is it sits on an mqtt

660
00:27:02,880 --> 00:27:05,039
feed of the scores just looking at what

661
00:27:05,039 --> 00:27:08,220
those are it draws an image of of the

662
00:27:08,220 --> 00:27:11,580
map and then it plots the the different

663
00:27:11,580 --> 00:27:14,520
uh locations of the different discs

664
00:27:14,520 --> 00:27:16,799
wherever they they are located

665
00:27:16,799 --> 00:27:18,659
and gives you a running commentary of

666
00:27:18,659 --> 00:27:20,940
sort of who's winning what how well

667
00:27:20,940 --> 00:27:23,299
they're doing

668
00:27:24,779 --> 00:27:28,200
so a few problems at EMF Camp one was

669
00:27:28,200 --> 00:27:30,360
that the other problem was so one was

670
00:27:30,360 --> 00:27:31,860
the psk issue but the other problem was

671
00:27:31,860 --> 00:27:34,320
that uh the perspex disk wasn't held in

672
00:27:34,320 --> 00:27:36,419
so securely as it might otherwise have

673
00:27:36,419 --> 00:27:38,640
been and people were pushing against it

674
00:27:38,640 --> 00:27:40,500
a bit and that kind of caused things to

675
00:27:40,500 --> 00:27:43,200
fall apart so I had to change the design

676
00:27:43,200 --> 00:27:46,080
so I created this kind of ring Halo

677
00:27:46,080 --> 00:27:48,240
thing that I pushed on behind the

678
00:27:48,240 --> 00:27:50,520
perspex and then had to secure his

679
00:27:50,520 --> 00:27:51,840
screws which I really didn't want to do

680
00:27:51,840 --> 00:27:53,460
I wanted to keep it all in in plastic

681
00:27:53,460 --> 00:27:55,140
but

682
00:27:55,140 --> 00:27:56,640
that was a way of stopping that from

683
00:27:56,640 --> 00:27:58,679
happening and causing it to fall apart

684
00:27:58,679 --> 00:28:00,600
but aside from that it seemed to go

685
00:28:00,600 --> 00:28:02,820
pretty smoothly

686
00:28:02,820 --> 00:28:04,860
MCH however presented some new

687
00:28:04,860 --> 00:28:07,320
challenges I left them in my tent on

688
00:28:07,320 --> 00:28:08,399
Wednesday

689
00:28:08,399 --> 00:28:10,380
and the case is melted

690
00:28:10,380 --> 00:28:12,960
so some of the backs of the cases kind

691
00:28:12,960 --> 00:28:15,419
of looked more like poppadoms than flat

692
00:28:15,419 --> 00:28:19,500
flat cases you know they it really

693
00:28:19,500 --> 00:28:21,960
wasn't good so there was some very kind

694
00:28:21,960 --> 00:28:24,899
people who actually helped melt the the

695
00:28:24,899 --> 00:28:28,080
cases back into some form of shape for

696
00:28:28,080 --> 00:28:30,840
me and so this is the reason why some of

697
00:28:30,840 --> 00:28:33,000
them are a little bit kind of wonky it

698
00:28:33,000 --> 00:28:34,620
also meant that I had to totally turn

699
00:28:34,620 --> 00:28:37,020
off tamper detection so I had to reflash

700
00:28:37,020 --> 00:28:40,260
the firmware on all of them because the

701
00:28:40,260 --> 00:28:42,899
um the the The Temper detection was

702
00:28:42,899 --> 00:28:44,700
being triggered because the bit where

703
00:28:44,700 --> 00:28:47,580
the the micro switch pushes against

704
00:28:47,580 --> 00:28:50,220
actually melted and fallen down in some

705
00:28:50,220 --> 00:28:52,140
of the cases so now it was suddenly

706
00:28:52,140 --> 00:28:55,320
triggering where it shouldn't so that

707
00:28:55,320 --> 00:28:56,940
was a challenge and I had I had some

708
00:28:56,940 --> 00:28:58,860
very kind help with that kind of

709
00:28:58,860 --> 00:29:00,960
reassembly process

710
00:29:00,960 --> 00:29:02,600
so

711
00:29:02,600 --> 00:29:05,039
the other problem I've had is that the

712
00:29:05,039 --> 00:29:07,080
server keeps default into being turned

713
00:29:07,080 --> 00:29:07,919
off

714
00:29:07,919 --> 00:29:09,779
for some reason the case that I've got

715
00:29:09,779 --> 00:29:11,760
from my Raspberry Pi

716
00:29:11,760 --> 00:29:14,580
preferred to do that and he kept also

717
00:29:14,580 --> 00:29:17,279
losing into USB ports on reboot so I'm

718
00:29:17,279 --> 00:29:18,539
gonna have to look into why it was doing

719
00:29:18,539 --> 00:29:23,360
that USB boot clearly has the odd issue

720
00:29:23,880 --> 00:29:26,100
a couple of special thanks

721
00:29:26,100 --> 00:29:28,260
um yes Dean friend of mine created the

722
00:29:28,260 --> 00:29:29,940
node-red website where the players

723
00:29:29,940 --> 00:29:32,159
register so I know absolutely nothing

724
00:29:32,159 --> 00:29:34,260
about that other than it connects to our

725
00:29:34,260 --> 00:29:38,100
mqtt and he did all the work on that and

726
00:29:38,100 --> 00:29:41,100
uh Firefly for doing the fictional logos

727
00:29:41,100 --> 00:29:42,600
for the companies there are still some

728
00:29:42,600 --> 00:29:45,360
stickers for the companies if you uh

729
00:29:45,360 --> 00:29:48,779
back at the the polycoin HQ tent for

730
00:29:48,779 --> 00:29:50,279
anybody who wants some although I think

731
00:29:50,279 --> 00:29:54,240
we're out of polybius Biotech ones now

732
00:29:54,240 --> 00:29:56,340
um although I do have ones from the orbs

733
00:29:56,340 --> 00:29:58,679
game if anybody wants those

734
00:29:58,679 --> 00:30:02,720
so do we have any questions

735
00:30:03,480 --> 00:30:06,539
if you just want to go to microphone

736
00:30:06,539 --> 00:30:09,059
yes

737
00:30:09,059 --> 00:30:11,820
first thank you for the talk

738
00:30:11,820 --> 00:30:14,100
and as we don't have the internet

739
00:30:14,100 --> 00:30:16,380
sitting here we actually start with this

740
00:30:16,380 --> 00:30:18,240
microphone

741
00:30:18,240 --> 00:30:20,520
uh thank you for the game I didn't know

742
00:30:20,520 --> 00:30:23,039
what it was and I did open one of them

743
00:30:23,039 --> 00:30:25,200
up

744
00:30:25,200 --> 00:30:27,120
so yeah I was actually wondering because

745
00:30:27,120 --> 00:30:29,039
I don't think the temperature detection

746
00:30:29,039 --> 00:30:32,580
went off so it was off uh after

747
00:30:32,580 --> 00:30:34,380
reflashing still

748
00:30:34,380 --> 00:30:36,539
so there was at least a couple that went

749
00:30:36,539 --> 00:30:38,340
out before I turned the tamper detection

750
00:30:38,340 --> 00:30:40,260
off so you may have just found one of

751
00:30:40,260 --> 00:30:42,980
those yeah uh second question

752
00:30:42,980 --> 00:30:46,320
DSD card was somehow right protected I

753
00:30:46,320 --> 00:30:49,260
believe uh how did he do that because

754
00:30:49,260 --> 00:30:53,279
the SD card yes do not write to it

755
00:30:53,279 --> 00:30:56,580
this is the speech Yes

756
00:30:56,580 --> 00:31:01,019
um it isn't weird okay thank you I want

757
00:31:01,019 --> 00:31:05,340
to write a retro thanks

758
00:31:08,720 --> 00:31:12,539
hi uh cool stuff have you considered

759
00:31:12,539 --> 00:31:13,460
using the

760
00:31:13,460 --> 00:31:14,779
[Music]

761
00:31:14,779 --> 00:31:18,840
pn3532 chipset because I know those

762
00:31:18,840 --> 00:31:20,700
that you use and they are absolutely

763
00:31:20,700 --> 00:31:21,980
horrible

764
00:31:21,980 --> 00:31:25,140
yeah so I guess there's a little bit of

765
00:31:25,140 --> 00:31:27,120
history with this when I did the orbs

766
00:31:27,120 --> 00:31:31,080
game I designed the uh I designed it

767
00:31:31,080 --> 00:31:32,760
around these because they were about a

768
00:31:32,760 --> 00:31:34,500
quarter of the price

769
00:31:34,500 --> 00:31:36,899
so and I didn't need any of the

770
00:31:36,899 --> 00:31:40,260
functionality of a higher spec board and

771
00:31:40,260 --> 00:31:41,640
so I've just carried on that because all

772
00:31:41,640 --> 00:31:43,260
the libraries that I wrote for the orbs

773
00:31:43,260 --> 00:31:45,539
game I carried across into this game and

774
00:31:45,539 --> 00:31:46,860
it meant that I'd have to completely

775
00:31:46,860 --> 00:31:48,899
start from the ground up again and also

776
00:31:48,899 --> 00:31:51,960
I had a supply of these boards yeah yeah

777
00:31:51,960 --> 00:31:57,000
that explains it also like esp32 pico

778
00:31:57,000 --> 00:31:59,820
has built-in flash and is only one shape

779
00:31:59,820 --> 00:32:03,179
it and can do low power modes and has

780
00:32:03,179 --> 00:32:06,000
multiple cores of radio and code don't

781
00:32:06,000 --> 00:32:08,940
interfere and yeah so I did look at the

782
00:32:08,940 --> 00:32:12,120
esp32 uh the the challenge I had with

783
00:32:12,120 --> 00:32:14,580
that is I think the the low powered core

784
00:32:14,580 --> 00:32:17,640
is very low powered and couldn't do the

785
00:32:17,640 --> 00:32:19,799
things I wanted it to do which meant

786
00:32:19,799 --> 00:32:22,500
that I'd need to run a higher power core

787
00:32:22,500 --> 00:32:24,960
I could be wrong but this was my

788
00:32:24,960 --> 00:32:28,380
assessment might be and also you can uh

789
00:32:28,380 --> 00:32:31,140
run the clock down on the main course

790
00:32:31,140 --> 00:32:32,700
and so on

791
00:32:32,700 --> 00:32:34,679
yeah I think it'd be a challenge to

792
00:32:34,679 --> 00:32:38,720
achieve sort of a couple of milliamps

793
00:32:39,120 --> 00:32:43,200
um maybe yeah a lot of this again is

794
00:32:43,200 --> 00:32:46,440
down to where I had my code base and

795
00:32:46,440 --> 00:32:48,059
having to rewrite everything was

796
00:32:48,059 --> 00:32:49,919
something I was trying to avoid but at

797
00:32:49,919 --> 00:32:52,399
the same time adding the features in

798
00:32:52,399 --> 00:32:55,260
maybe there'll be a new version at some

799
00:32:55,260 --> 00:32:57,240
point that I'll kind of totally change

800
00:32:57,240 --> 00:32:59,940
everything but yeah I would suggest

801
00:32:59,940 --> 00:33:02,279
using Laura as the radio because the

802
00:33:02,279 --> 00:33:03,440
Wi-Fi is

803
00:33:03,440 --> 00:33:06,539
problematic always so I have been

804
00:33:06,539 --> 00:33:08,700
looking at Laura the biggest challenge

805
00:33:08,700 --> 00:33:11,640
there is the allowed on time

806
00:33:11,640 --> 00:33:13,440
so you're only allowed to transmit for a

807
00:33:13,440 --> 00:33:16,860
certain amount of time and that would be

808
00:33:16,860 --> 00:33:19,019
a problem for this game I think I might

809
00:33:19,019 --> 00:33:20,460
be able to do it but I have to really

810
00:33:20,460 --> 00:33:23,159
change the communication protocol and it

811
00:33:23,159 --> 00:33:26,700
might still be a bit over yeah that uh

812
00:33:26,700 --> 00:33:28,760
yeah that allowed on time is actually

813
00:33:28,760 --> 00:33:31,620
comes from their Spectrum

814
00:33:31,620 --> 00:33:34,320
radio spectrum and Wi-Fi has the same

815
00:33:34,320 --> 00:33:36,059
problem or that it has more bandwidth

816
00:33:36,059 --> 00:33:38,220
yes yes

817
00:33:38,220 --> 00:33:40,740
okay thank you okay

818
00:33:40,740 --> 00:33:42,960
well there's not a question coming up to

819
00:33:42,960 --> 00:33:45,539
the microphone I have a question uh do

820
00:33:45,539 --> 00:33:47,940
we have a scoreboard here somewhere yes

821
00:33:47,940 --> 00:33:50,940
is it the polycoon HQ which is uh

822
00:33:50,940 --> 00:33:52,980
between the bring and donate and the

823
00:33:52,980 --> 00:33:55,760
party stage

824
00:33:57,419 --> 00:33:58,740
blue tent

825
00:33:58,740 --> 00:34:01,019
you can see a blue tent there that's

826
00:34:01,019 --> 00:34:03,539
where it is the um the scoreboard at the

827
00:34:03,539 --> 00:34:05,220
moment unfortunately does still show the

828
00:34:05,220 --> 00:34:10,020
EMF map so I need to update it and the

829
00:34:10,020 --> 00:34:11,760
color is wrong as well for polybius

830
00:34:11,760 --> 00:34:13,859
biotech again because it was blue a DMF

831
00:34:13,859 --> 00:34:15,540
and it's orange here

832
00:34:15,540 --> 00:34:17,639
yes so the next question from the

833
00:34:17,639 --> 00:34:18,899
audience

834
00:34:18,899 --> 00:34:21,300
yeah one of the first slides you uh

835
00:34:21,300 --> 00:34:24,359
talked about OTA update so uh do you

836
00:34:24,359 --> 00:34:27,000
have that already in or for which CPUs

837
00:34:27,000 --> 00:34:28,440
can you do it

838
00:34:28,440 --> 00:34:33,379
so the OTA updates worked for the

839
00:34:33,379 --> 00:34:37,079
esp8285 for micro python code that I've

840
00:34:37,079 --> 00:34:38,579
written so it won't update the micro

841
00:34:38,579 --> 00:34:41,099
python itself but it can download and

842
00:34:41,099 --> 00:34:43,199
update the the Python scripts that are

843
00:34:43,199 --> 00:34:45,719
on there I haven't done the same for the

844
00:34:45,719 --> 00:34:48,780
pick chip because the flashing mechanism

845
00:34:48,780 --> 00:34:50,418
for that is

846
00:34:50,418 --> 00:34:53,820
horrendously complex to do actually on

847
00:34:53,820 --> 00:34:56,460
the chip so it's possible to do but that

848
00:34:56,460 --> 00:34:59,099
wasn't my focus at this at this stage it

849
00:34:59,099 --> 00:35:02,220
was what can I do quickly to get the

850
00:35:02,220 --> 00:35:04,920
actual product working and then then

851
00:35:04,920 --> 00:35:07,140
I'll look to do that in the future

852
00:35:07,140 --> 00:35:09,240
okay so you could update the game logic

853
00:35:09,240 --> 00:35:11,460
basically I can update certain elements

854
00:35:11,460 --> 00:35:13,740
of it but the picture carries a lot of

855
00:35:13,740 --> 00:35:15,480
the game logic

856
00:35:15,480 --> 00:35:19,140
um how to respond to to certain

857
00:35:19,140 --> 00:35:21,839
a presentation what if effectively it's

858
00:35:21,839 --> 00:35:23,700
the bit maintained in the state of the

859
00:35:23,700 --> 00:35:27,119
of the the crypto minor unit so it's it

860
00:35:27,119 --> 00:35:29,760
knows who owns it it knows which team it

861
00:35:29,760 --> 00:35:33,180
belongs to and so on whereas the Wi-Fi

862
00:35:33,180 --> 00:35:35,339
module is literally booted up each time

863
00:35:35,339 --> 00:35:37,859
it wants to communicate to to this game

864
00:35:37,859 --> 00:35:39,119
server

865
00:35:39,119 --> 00:35:41,160
okay thank you

866
00:35:41,160 --> 00:35:43,680
um another question from my side at the

867
00:35:43,680 --> 00:35:46,079
um the EMF there were this nice token

868
00:35:46,079 --> 00:35:48,300
that you also could buy and probably

869
00:35:48,300 --> 00:35:50,820
sponsor You by this is a little bit uh

870
00:35:50,820 --> 00:35:53,760
do you have some for MCH are there some

871
00:35:53,760 --> 00:35:56,099
left can people get them yes they're

872
00:35:56,099 --> 00:35:57,900
still available they're again in the

873
00:35:57,900 --> 00:36:00,720
polycoin HQ in a little box there are

874
00:36:00,720 --> 00:36:03,720
still some of the specific MCH 2022

875
00:36:03,720 --> 00:36:06,900
coins in there if you want a Memento one

876
00:36:06,900 --> 00:36:10,200
and the uh and the other ones that are

877
00:36:10,200 --> 00:36:12,960
just got the polybius biotech logo on

878
00:36:12,960 --> 00:36:14,700
cool

879
00:36:14,700 --> 00:36:16,680
um is there another event where we can

880
00:36:16,680 --> 00:36:19,920
find the poly coins afterwards

881
00:36:19,920 --> 00:36:21,780
nothing scheduled

882
00:36:21,780 --> 00:36:24,900
I'll see how it goes okay so we have to

883
00:36:24,900 --> 00:36:26,640
be curious about to find it again and

884
00:36:26,640 --> 00:36:29,220
play it as much as possible at this Camp

885
00:36:29,220 --> 00:36:31,920
because well we don't know when we see

886
00:36:31,920 --> 00:36:33,540
it again

887
00:36:33,540 --> 00:36:35,280
thank you there are no further questions

888
00:36:35,280 --> 00:36:37,200
from the audience

889
00:36:37,200 --> 00:36:40,020
um thank you Michael Turner for making

890
00:36:40,020 --> 00:36:42,359
this game for telling us about the

891
00:36:42,359 --> 00:36:46,098
details and giving us a talk

892
00:36:47,280 --> 00:36:50,280
foreign

