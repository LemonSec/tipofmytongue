1
00:00:00,000 --> 00:00:02,320
continue our track and

2
00:00:02,320 --> 00:00:04,240
now we're switching to

3
00:00:04,240 --> 00:00:06,240
valentino from security vision she's

4
00:00:06,240 --> 00:00:08,800
going to share a story with us about the

5
00:00:08,800 --> 00:00:11,759
search of the ml algorithm to search for

6
00:00:11,759 --> 00:00:14,400
anomalies in network traffic would you

7
00:00:14,400 --> 00:00:17,880
please welcome valentina

8
00:00:18,720 --> 00:00:20,240
hi

9
00:00:20,240 --> 00:00:22,800
hello everyone

10
00:00:22,800 --> 00:00:25,680
our purpose was to detect

11
00:00:25,680 --> 00:00:28,400
abnormalities anomalies in network

12
00:00:28,400 --> 00:00:30,720
traffic which could not be determined

13
00:00:30,720 --> 00:00:31,519
and

14
00:00:31,519 --> 00:00:34,960
identified with classic method based on

15
00:00:34,960 --> 00:00:38,079
our knowledge of their typical behavior

16
00:00:38,079 --> 00:00:42,480
like correlation rule white lists etc

17
00:00:42,480 --> 00:00:44,640
as well as that we wanted to detect

18
00:00:44,640 --> 00:00:47,360
animal is

19
00:00:53,360 --> 00:00:56,480
apart from that we wanted to detect

20
00:00:56,480 --> 00:01:00,640
anomalies in real time and big flow

21
00:01:03,039 --> 00:01:04,530
and as a source

22
00:01:04,530 --> 00:01:05,600
[Music]

23
00:01:05,600 --> 00:01:09,360
of data we considered network traffic

24
00:01:09,360 --> 00:01:12,159
events so the information was sent about

25
00:01:12,159 --> 00:01:14,880
the data sent about from the source to a

26
00:01:14,880 --> 00:01:16,159
recipient

27
00:01:16,159 --> 00:01:18,320
uh gathered by some kind of a network

28
00:01:18,320 --> 00:01:21,759
device a proxy server cm system any

29
00:01:21,759 --> 00:01:23,360
device

30
00:01:23,360 --> 00:01:26,000
and as far as the non-typical event

31
00:01:26,000 --> 00:01:28,080
animals were considered the events which

32
00:01:28,080 --> 00:01:30,320
were different from the main flow of the

33
00:01:30,320 --> 00:01:33,840
events with the combination of the

34
00:01:33,840 --> 00:01:35,119
features

35
00:01:35,119 --> 00:01:37,600
and we wanted to group the events as

36
00:01:37,600 --> 00:01:38,560
well

37
00:01:38,560 --> 00:01:41,520
to incidents uh security incidents uh so

38
00:01:41,520 --> 00:01:43,840
that uh our

39
00:01:43,840 --> 00:01:46,720
people would not uh be attacked by a

40
00:01:46,720 --> 00:01:48,479
bunch of incidents

41
00:01:48,479 --> 00:01:51,280
that's why clusterization was used uh

42
00:01:51,280 --> 00:01:53,200
which i'm going to to elaborate a little

43
00:01:53,200 --> 00:01:54,479
bit later

44
00:01:54,479 --> 00:01:57,360
if it was closed as false positive

45
00:01:57,360 --> 00:01:59,119
i mean the incident we wanted to take

46
00:01:59,119 --> 00:02:02,240
that feedback into account in order to

47
00:02:02,240 --> 00:02:03,200
prevent

48
00:02:03,200 --> 00:02:04,479
such

49
00:02:04,479 --> 00:02:06,320
events from occurring

50
00:02:06,320 --> 00:02:07,759
in the future

51
00:02:07,759 --> 00:02:11,520
from recurring in the future rather

52
00:02:13,280 --> 00:02:16,640
and we chose machine learning methods

53
00:02:16,640 --> 00:02:19,520
because our purpose was to detect

54
00:02:19,520 --> 00:02:22,520
non-typical

55
00:02:24,000 --> 00:02:27,440
behavior which would be described as

56
00:02:27,440 --> 00:02:29,840
abnormal behavior traffic

57
00:02:29,840 --> 00:02:31,920
would change with time so we needed a

58
00:02:31,920 --> 00:02:35,120
system which would automatically adapt

59
00:02:35,120 --> 00:02:37,360
to such changes machine learning is

60
00:02:37,360 --> 00:02:39,280
suited as well

61
00:02:39,280 --> 00:02:40,319
thanks

62
00:02:40,319 --> 00:02:43,360
to its learning

63
00:02:43,360 --> 00:02:46,319
capabilities

64
00:02:46,959 --> 00:02:51,040
and we had some limitations set

65
00:02:51,040 --> 00:02:53,760
due to the specific

66
00:02:53,760 --> 00:02:55,920
specific features we set

67
00:02:55,920 --> 00:02:58,159
and due to specifics of the

68
00:02:58,159 --> 00:03:00,080
implementation into the customer's

69
00:03:00,080 --> 00:03:03,040
infrastructure we didn't have sufficient

70
00:03:03,040 --> 00:03:05,920
data about all of their anomalies and

71
00:03:05,920 --> 00:03:08,400
all possible attacks of course so that's

72
00:03:08,400 --> 00:03:11,840
why we were dealing with the non-marked

73
00:03:11,840 --> 00:03:12,959
data

74
00:03:12,959 --> 00:03:15,519
we didn't really know about those events

75
00:03:15,519 --> 00:03:20,080
but whether those were normal events or

76
00:03:20,080 --> 00:03:22,720
anomalies so we had to

77
00:03:22,720 --> 00:03:26,000
learn without the teacher

78
00:03:26,000 --> 00:03:28,879
we didn't have any expert assumption of

79
00:03:28,879 --> 00:03:29,680
the

80
00:03:29,680 --> 00:03:32,239
anomaly to occur which also complicated

81
00:03:32,239 --> 00:03:34,560
the situation so what we needed

82
00:03:34,560 --> 00:03:37,040
was to process the events in

83
00:03:37,040 --> 00:03:40,480
real time the flow the flow was uh kind

84
00:03:40,480 --> 00:03:41,840
of huge

85
00:03:41,840 --> 00:03:44,560
dozens of thousands

86
00:03:44,560 --> 00:03:46,239
of

87
00:03:46,239 --> 00:03:49,360
messages per second and we would have to

88
00:03:49,360 --> 00:03:52,560
analyze the number of false positives

89
00:03:52,560 --> 00:03:55,280
traffic would change over time

90
00:03:55,280 --> 00:03:59,519
and we had to update the model using

91
00:03:59,519 --> 00:04:02,000
the data constantly we didn't we did

92
00:04:02,000 --> 00:04:04,400
have different types of sources of data

93
00:04:04,400 --> 00:04:05,840
and we wanted to

94
00:04:05,840 --> 00:04:08,319
develop a universal solution which would

95
00:04:08,319 --> 00:04:12,480
take raw data from any device so we kind

96
00:04:12,480 --> 00:04:15,040
of limited with the number

97
00:04:15,040 --> 00:04:17,759
of features we could take because we

98
00:04:17,759 --> 00:04:20,079
identified the different

99
00:04:20,079 --> 00:04:22,750
devices would give us different

100
00:04:22,750 --> 00:04:25,970
[Music]

101
00:04:26,840 --> 00:04:28,400
identification

102
00:04:28,400 --> 00:04:32,479
iop product ip protocol and others on

103
00:04:32,479 --> 00:04:35,360
which we based our models

104
00:04:35,360 --> 00:04:38,240
so we also had some limitations due to

105
00:04:38,240 --> 00:04:41,199
computing resources we had a big virtual

106
00:04:41,199 --> 00:04:43,520
machine a bit of ram

107
00:04:43,520 --> 00:04:45,600
and we didn't have a very

108
00:04:45,600 --> 00:04:50,479
powerful cpu a 12 core cpu so which did

109
00:04:50,479 --> 00:04:51,680
influence

110
00:04:51,680 --> 00:04:53,120
our

111
00:04:53,120 --> 00:04:57,840
choice of methods quite seriously

112
00:05:01,410 --> 00:05:02,639
[Music]

113
00:05:02,639 --> 00:05:05,280
so in this work we

114
00:05:05,280 --> 00:05:08,160
tried and tested a number of methods

115
00:05:08,160 --> 00:05:10,479
of learning without teachers so would

116
00:05:10,479 --> 00:05:12,400
have to use it with the

117
00:05:12,400 --> 00:05:17,280
non-marked data and such methods as

118
00:05:17,280 --> 00:05:19,360
it's believed

119
00:05:19,360 --> 00:05:20,880
considered to

120
00:05:20,880 --> 00:05:23,520
be targeted at looking for

121
00:05:23,520 --> 00:05:25,759
new data

122
00:05:25,759 --> 00:05:27,120
and different

123
00:05:27,120 --> 00:05:30,000
ml methods tackle these two tasks in

124
00:05:30,000 --> 00:05:33,199
different ways so we tried a set of

125
00:05:33,199 --> 00:05:34,240
methods

126
00:05:34,240 --> 00:05:36,880
we used clusterization

127
00:05:36,880 --> 00:05:38,639
isolation forest

128
00:05:38,639 --> 00:05:41,440
local outlier factor i wouldn't want to

129
00:05:41,440 --> 00:05:44,080
stop at a local outlier factor this

130
00:05:44,080 --> 00:05:46,720
method did not suit us because it

131
00:05:46,720 --> 00:05:48,560
requires quite a lot of computing

132
00:05:48,560 --> 00:05:50,720
resources and it was not fast enough for

133
00:05:50,720 --> 00:05:53,280
our task

134
00:05:53,280 --> 00:05:55,600
and in this work we decided not to use

135
00:05:55,600 --> 00:05:57,759
neural networks also because of the

136
00:05:57,759 --> 00:05:59,440
limitations

137
00:05:59,440 --> 00:06:01,759
of the computing resources and it would

138
00:06:01,759 --> 00:06:05,039
take much more time to

139
00:06:05,039 --> 00:06:07,680
make the neural networks learn to teach

140
00:06:07,680 --> 00:06:09,680
them so it would take quite a lot of

141
00:06:09,680 --> 00:06:12,000
time

142
00:06:13,440 --> 00:06:15,440
in the course of the experiments we

143
00:06:15,440 --> 00:06:17,520
ended up with a solution which would

144
00:06:17,520 --> 00:06:20,880
take a flow of events from different

145
00:06:20,880 --> 00:06:22,000
formats

146
00:06:22,000 --> 00:06:25,199
it would normalize them into the single

147
00:06:25,199 --> 00:06:28,639
flow then we would filter

148
00:06:28,639 --> 00:06:29,440
the

149
00:06:29,440 --> 00:06:33,880
features and we aggregated

150
00:06:35,280 --> 00:06:37,199
and we had to see

151
00:06:37,199 --> 00:06:38,800
the increase

152
00:06:38,800 --> 00:06:42,240
of performance we doubled it or even

153
00:06:42,240 --> 00:06:44,800
multiplied it by 10 times depending on

154
00:06:44,800 --> 00:06:47,120
the types of data we received

155
00:06:47,120 --> 00:06:52,280
and then we conducted pre-processing

156
00:06:53,840 --> 00:06:55,360
and

157
00:06:55,360 --> 00:07:00,000
the batched data would be sent

158
00:07:00,800 --> 00:07:02,639
to look for deviations and such

159
00:07:02,639 --> 00:07:04,960
deviations would be detected and such

160
00:07:04,960 --> 00:07:07,759
incidents would be registered

161
00:07:07,759 --> 00:07:10,560
in the source system of the customer we

162
00:07:10,560 --> 00:07:11,520
would

163
00:07:11,520 --> 00:07:14,400
save and

164
00:07:14,400 --> 00:07:17,840
accumulate our data

165
00:07:18,400 --> 00:07:21,520
into a specific batch and uh would train

166
00:07:21,520 --> 00:07:23,599
the modals

167
00:07:23,599 --> 00:07:24,639
normally

168
00:07:24,639 --> 00:07:26,560
train the models at least

169
00:07:26,560 --> 00:07:30,000
once a day

170
00:07:30,000 --> 00:07:32,240
because if you do not do that

171
00:07:32,240 --> 00:07:34,639
this model

172
00:07:34,639 --> 00:07:37,120
becomes obsolete and starts generating

173
00:07:37,120 --> 00:07:38,160
too many

174
00:07:38,160 --> 00:07:40,560
false positives and

175
00:07:40,560 --> 00:07:41,840
misses

176
00:07:41,840 --> 00:07:44,840
anomalies

177
00:07:50,960 --> 00:07:53,520
a few words about the methods we tried

178
00:07:53,520 --> 00:07:55,560
the first method we tried was

179
00:07:55,560 --> 00:07:57,199
clusterization

180
00:07:57,199 --> 00:07:59,680
so there are a few ways of using it the

181
00:07:59,680 --> 00:08:01,680
first and the simplest one

182
00:08:01,680 --> 00:08:04,879
it is to look for

183
00:08:05,120 --> 00:08:07,680
centroids of data and measure the

184
00:08:07,680 --> 00:08:10,400
distance to centroid identify the

185
00:08:10,400 --> 00:08:11,680
threshold

186
00:08:11,680 --> 00:08:12,400
and

187
00:08:12,400 --> 00:08:14,319
decide whether it's an

188
00:08:14,319 --> 00:08:17,840
anomaly or a normal event

189
00:08:17,840 --> 00:08:21,280
this method is fast but it ends up with

190
00:08:21,280 --> 00:08:23,680
some rough results so we'd have to

191
00:08:23,680 --> 00:08:26,000
identify the thresholds

192
00:08:26,000 --> 00:08:29,680
with some experts

193
00:08:29,680 --> 00:08:32,719
knowledge expertise we didn't have it

194
00:08:32,719 --> 00:08:35,279
so we did not want to

195
00:08:35,279 --> 00:08:38,080
develop that method instead we used

196
00:08:38,080 --> 00:08:39,440
another one

197
00:08:39,440 --> 00:08:41,279
clusterization

198
00:08:41,279 --> 00:08:43,760
we singled out small clusters

199
00:08:43,760 --> 00:08:45,760
and the remaining small events and

200
00:08:45,760 --> 00:08:49,200
smallest clusters also would turn out to

201
00:08:49,200 --> 00:08:50,880
be

202
00:08:50,880 --> 00:08:53,519
anomalies

203
00:08:53,519 --> 00:08:57,279
k-means and db scan methods were applied

204
00:08:57,279 --> 00:08:58,800
here and both

205
00:08:58,800 --> 00:09:02,800
of them have their pros and cons

206
00:09:02,880 --> 00:09:05,279
one of them being very

207
00:09:05,279 --> 00:09:09,040
popular it's fast

208
00:09:09,040 --> 00:09:10,000
it

209
00:09:10,000 --> 00:09:12,640
clusters

210
00:09:12,720 --> 00:09:15,279
the points

211
00:09:15,279 --> 00:09:16,080
we

212
00:09:16,080 --> 00:09:18,720
can select parameters in proper way once

213
00:09:18,720 --> 00:09:21,360
and these parameters do not affect the

214
00:09:21,360 --> 00:09:22,480
tasks

215
00:09:22,480 --> 00:09:24,560
you don't need to make manual

216
00:09:24,560 --> 00:09:26,880
adjustments for that you don't need to

217
00:09:26,880 --> 00:09:28,000
use a

218
00:09:28,000 --> 00:09:29,680
human

219
00:09:29,680 --> 00:09:33,600
for that but this method is not

220
00:09:33,600 --> 00:09:37,040
fast enough and the next method k-means

221
00:09:37,040 --> 00:09:38,320
was fast

222
00:09:38,320 --> 00:09:39,120
but

223
00:09:39,120 --> 00:09:41,760
its disadvantage was that would have to

224
00:09:41,760 --> 00:09:44,320
know the number of clusters before

225
00:09:44,320 --> 00:09:45,920
beforehand and you would have to

226
00:09:45,920 --> 00:09:49,200
identify it again at each next

227
00:09:49,200 --> 00:09:52,399
batch so an automatic

228
00:09:52,399 --> 00:09:54,800
procedure was required

229
00:09:54,800 --> 00:09:57,600
which slows down that method and

230
00:09:57,600 --> 00:09:59,279
reduced its

231
00:09:59,279 --> 00:10:02,279
efficiency

232
00:10:06,720 --> 00:10:09,680
that's why we decided to use isolation

233
00:10:09,680 --> 00:10:12,399
forest and this algorithm

234
00:10:12,399 --> 00:10:14,320
is based upon

235
00:10:14,320 --> 00:10:18,959
trees and it isolates each point and

236
00:10:18,959 --> 00:10:20,640
identifies

237
00:10:20,640 --> 00:10:22,720
normal points and

238
00:10:22,720 --> 00:10:25,760
anomalies it was very easy to isolate

239
00:10:25,760 --> 00:10:28,399
the point and it stands out

240
00:10:28,399 --> 00:10:30,720
far away from the main number of points

241
00:10:30,720 --> 00:10:31,680
and it

242
00:10:31,680 --> 00:10:34,959
is mocked as anomaly if it's very hard

243
00:10:34,959 --> 00:10:37,200
to isolate and if surrounded by other

244
00:10:37,200 --> 00:10:39,519
points the algorithm believes it it's a

245
00:10:39,519 --> 00:10:40,800
normal point

246
00:10:40,800 --> 00:10:43,120
the pluses for this algorithm was its

247
00:10:43,120 --> 00:10:46,000
speed and the ability to process a big

248
00:10:46,000 --> 00:10:48,640
flow of events and at the same time it's

249
00:10:48,640 --> 00:10:51,680
a plus and minus isolation forest

250
00:10:51,680 --> 00:10:53,920
that does not require preliminary

251
00:10:53,920 --> 00:10:56,240
training

252
00:10:56,240 --> 00:10:58,800
so they are singled out and

253
00:10:58,800 --> 00:11:01,600
cite the batch but if the flow of events

254
00:11:01,600 --> 00:11:03,279
is very dense

255
00:11:03,279 --> 00:11:05,279
this batch does not

256
00:11:05,279 --> 00:11:07,160
turn out to be very

257
00:11:07,160 --> 00:11:09,200
representative even

258
00:11:09,200 --> 00:11:11,200
in the course of the hourly traffic to

259
00:11:11,200 --> 00:11:14,640
say the least about daily traffic we can

260
00:11:14,640 --> 00:11:16,800
of course increase the sizes of batches

261
00:11:16,800 --> 00:11:18,079
but thus

262
00:11:18,079 --> 00:11:21,200
it will lead to a bigger time to get the

263
00:11:21,200 --> 00:11:23,920
results or you can mix

264
00:11:23,920 --> 00:11:24,800
these

265
00:11:24,800 --> 00:11:25,839
to the

266
00:11:25,839 --> 00:11:29,279
batches but it will also slow down

267
00:11:29,279 --> 00:11:32,000
the algorithm performance

268
00:11:32,000 --> 00:11:34,320
one more difficulty here when we use

269
00:11:34,320 --> 00:11:35,760
this algorithm

270
00:11:35,760 --> 00:11:37,760
we would have to identify the

271
00:11:37,760 --> 00:11:41,200
contamination parameter

272
00:11:41,279 --> 00:11:44,820
the contamination of data

273
00:11:44,820 --> 00:11:46,399
[Music]

274
00:11:46,399 --> 00:11:49,040
which was the expert assumption

275
00:11:49,040 --> 00:11:50,800
of the

276
00:11:50,800 --> 00:11:53,120
abnormal data which we didn't have

277
00:11:53,120 --> 00:11:55,519
how we decide that we fix that

278
00:11:55,519 --> 00:11:58,079
contamination parameter

279
00:11:58,079 --> 00:12:02,880
our isolation forest allows us to get

280
00:12:02,880 --> 00:12:05,439
the weight

281
00:12:05,600 --> 00:12:08,639
the weight of normality of the event

282
00:12:08,639 --> 00:12:11,680
we measured and calculated the normality

283
00:12:11,680 --> 00:12:13,920
weight for each event

284
00:12:13,920 --> 00:12:17,040
made up a histogram and identified

285
00:12:17,040 --> 00:12:19,760
thresholds

286
00:12:21,279 --> 00:12:22,320
thus

287
00:12:22,320 --> 00:12:23,680
we needed to

288
00:12:23,680 --> 00:12:25,920
minimize the flow of

289
00:12:25,920 --> 00:12:29,200
anomalies and incidents

290
00:12:29,200 --> 00:12:32,560
thus we could select

291
00:12:32,560 --> 00:12:38,359
non-typical events and manage them

292
00:12:38,959 --> 00:12:42,480
once we selected that threshold for each

293
00:12:42,480 --> 00:12:46,240
event we would identify the normality

294
00:12:46,240 --> 00:12:48,959
weight and uh with the use of isolation

295
00:12:48,959 --> 00:12:51,519
forest would identify whether that was a

296
00:12:51,519 --> 00:12:55,200
normal or abnormal event

297
00:12:55,200 --> 00:12:57,360
we used more than 10 000 events per

298
00:12:57,360 --> 00:12:59,839
second data flow and we used it for a

299
00:12:59,839 --> 00:13:02,560
course of a few weeks and the processing

300
00:13:02,560 --> 00:13:04,240
of one single batch

301
00:13:04,240 --> 00:13:05,360
took

302
00:13:05,360 --> 00:13:06,959
less than a minute

303
00:13:06,959 --> 00:13:09,200
one batch would contain

304
00:13:09,200 --> 00:13:12,959
thousands of events we used a few flows

305
00:13:12,959 --> 00:13:16,639
to cope with all of the event flows and

306
00:13:16,639 --> 00:13:20,000
after carrying out few experiments

307
00:13:20,000 --> 00:13:21,279
we managed

308
00:13:21,279 --> 00:13:23,200
to get up to

309
00:13:23,200 --> 00:13:26,800
20 incidents per week 10 to 20 incidents

310
00:13:26,800 --> 00:13:27,920
per week

311
00:13:27,920 --> 00:13:30,480
half of them turned out to be compound

312
00:13:30,480 --> 00:13:32,320
complicated positives

313
00:13:32,320 --> 00:13:34,480
but most of them were

314
00:13:34,480 --> 00:13:36,480
legitimate uh

315
00:13:36,480 --> 00:13:40,160
rare events or legitimate scans

316
00:13:40,160 --> 00:13:41,440
which would

317
00:13:41,440 --> 00:13:43,040
be carried out

318
00:13:43,040 --> 00:13:47,120
every fourth night thus we detected them

319
00:13:47,120 --> 00:13:49,279
all the other events would be

320
00:13:49,279 --> 00:13:51,440
split into infrastructure

321
00:13:51,440 --> 00:13:53,680
incidents and

322
00:13:53,680 --> 00:13:54,880
the real

323
00:13:54,880 --> 00:13:57,920
incident events

324
00:14:00,800 --> 00:14:04,320
the next method was one class svm which

325
00:14:04,320 --> 00:14:05,600
is a form

326
00:14:05,600 --> 00:14:08,000
of a classic svm with one

327
00:14:08,000 --> 00:14:11,920
class of events normal events

328
00:14:12,160 --> 00:14:13,839
we separate

329
00:14:13,839 --> 00:14:18,399
the events into normal and abnormal

330
00:14:18,399 --> 00:14:19,839
thus the

331
00:14:19,839 --> 00:14:22,560
non-linear

332
00:14:22,800 --> 00:14:25,600
correlation is build up the advantage of

333
00:14:25,600 --> 00:14:28,839
this algorithm is that it allows

334
00:14:28,839 --> 00:14:34,240
to make up a boundary and it is suitable

335
00:14:34,240 --> 00:14:36,560
for learning this prediction method

336
00:14:36,560 --> 00:14:38,959
works quite fast

337
00:14:38,959 --> 00:14:41,360
but its feature is that it requires

338
00:14:41,360 --> 00:14:42,480
training

339
00:14:42,480 --> 00:14:43,600
so

340
00:14:43,600 --> 00:14:47,199
the better the cleaner our selection for

341
00:14:47,199 --> 00:14:50,320
learning the better the final result

342
00:14:50,320 --> 00:14:52,560
will be

343
00:14:52,560 --> 00:14:55,360
since this traffic is not static

344
00:14:55,360 --> 00:14:58,480
this algorithm needs to be retrained on

345
00:14:58,480 --> 00:15:01,199
a regular basis we decided to retrain

346
00:15:01,199 --> 00:15:03,600
this algorithm

347
00:15:03,600 --> 00:15:08,680
once a day and that was enough

348
00:15:12,000 --> 00:15:14,480
and i also wanted to say uh

349
00:15:14,480 --> 00:15:17,760
just one funny bit this uh used metric

350
00:15:17,760 --> 00:15:19,519
of uh

351
00:15:19,519 --> 00:15:22,000
distance uh so it

352
00:15:22,000 --> 00:15:25,120
uses the categories the addresses the

353
00:15:25,120 --> 00:15:26,320
sourcer

354
00:15:26,320 --> 00:15:28,639
the source the recipient

355
00:15:28,639 --> 00:15:30,560
we used here and we use different types

356
00:15:30,560 --> 00:15:31,759
of coding

357
00:15:31,759 --> 00:15:34,560
simple linear

358
00:15:34,560 --> 00:15:36,560
turning of the address into number

359
00:15:36,560 --> 00:15:38,720
didn't not suit us well because the

360
00:15:38,720 --> 00:15:41,279
addresses as numbers were neighboring

361
00:15:41,279 --> 00:15:43,680
ones and the algorithms were also

362
00:15:43,680 --> 00:15:46,959
similar but they could be different

363
00:15:46,959 --> 00:15:50,240
servers they could be different servers

364
00:15:50,240 --> 00:15:53,040
which had different profiles

365
00:15:53,040 --> 00:15:57,120
so ultimately we ended up having this

366
00:15:57,120 --> 00:16:00,240
frequency coding

367
00:16:01,920 --> 00:16:04,560
just like isolation forest we tested it

368
00:16:04,560 --> 00:16:07,040
so with the use of real data the flow of

369
00:16:07,040 --> 00:16:10,000
events and

370
00:16:10,000 --> 00:16:11,839
we did it for a few weeks and the

371
00:16:11,839 --> 00:16:14,240
processing of one single batch

372
00:16:14,240 --> 00:16:18,240
took approximately a minute and it

373
00:16:18,240 --> 00:16:19,519
occurred

374
00:16:19,519 --> 00:16:22,880
as a process we trained this model once

375
00:16:22,880 --> 00:16:24,320
a day

376
00:16:24,320 --> 00:16:26,480
and we gathered that

377
00:16:26,480 --> 00:16:27,519
for

378
00:16:27,519 --> 00:16:32,079
seven days to take into account the

379
00:16:32,079 --> 00:16:35,040
cyclical traffic per week would normally

380
00:16:35,040 --> 00:16:40,160
get approximately 10 incidents per week

381
00:16:40,800 --> 00:16:43,120
with a normal split into false positives

382
00:16:43,120 --> 00:16:45,600
and real incidents

383
00:16:45,600 --> 00:16:47,440
and in this case

384
00:16:47,440 --> 00:16:50,240
we identified non-typical events just

385
00:16:50,240 --> 00:16:51,040
like

386
00:16:51,040 --> 00:16:52,800
isolation forest

387
00:16:52,800 --> 00:16:54,480
and we identified

388
00:16:54,480 --> 00:16:56,639
new events just like the beginning of

389
00:16:56,639 --> 00:16:57,920
scanning

390
00:16:57,920 --> 00:17:00,560
which we saw more completely rather than

391
00:17:00,560 --> 00:17:03,040
with the use of isolation forest

392
00:17:03,040 --> 00:17:05,599
before this scanning was included into

393
00:17:05,599 --> 00:17:08,400
the training batch

394
00:17:08,400 --> 00:17:09,599
as a

395
00:17:09,599 --> 00:17:12,880
false positive example we can show you

396
00:17:12,880 --> 00:17:14,640
the following thing

397
00:17:14,640 --> 00:17:15,919
the customer

398
00:17:15,919 --> 00:17:18,919
would have legitimate scans for

399
00:17:18,919 --> 00:17:21,679
vulnerabilities and backups

400
00:17:21,679 --> 00:17:25,599
uh which were carried out

401
00:17:25,599 --> 00:17:28,079
more rarely than once a week then we

402
00:17:28,079 --> 00:17:31,679
closed them as false positives and we

403
00:17:31,679 --> 00:17:33,440
took that

404
00:17:33,440 --> 00:17:36,799
feedback into account and we no longer

405
00:17:36,799 --> 00:17:40,400
mentioned them as abnormally afterwards

406
00:17:40,400 --> 00:17:43,200
we detected

407
00:17:43,360 --> 00:17:46,080
quite a number of such scans

408
00:17:46,080 --> 00:17:48,240
so we decided to

409
00:17:48,240 --> 00:17:51,360
put it into a separate task which was

410
00:17:51,360 --> 00:17:54,399
solved in classic

411
00:17:55,520 --> 00:17:58,160
fashion we thought that the flow the

412
00:17:58,160 --> 00:17:59,600
traffic flow and the number of

413
00:17:59,600 --> 00:18:03,360
connections between two nodes

414
00:18:04,240 --> 00:18:06,559
distributed properly so we introduced

415
00:18:06,559 --> 00:18:08,000
this

416
00:18:08,000 --> 00:18:09,360
normality

417
00:18:09,360 --> 00:18:13,760
threshold by use of the three sigma rule

418
00:18:13,760 --> 00:18:14,480
we

419
00:18:14,480 --> 00:18:18,640
gathered the data by days and would put

420
00:18:18,640 --> 00:18:21,600
the threshold

421
00:18:25,200 --> 00:18:28,160
we analyzed the events and we

422
00:18:28,160 --> 00:18:31,600
accumulated the volume

423
00:18:32,480 --> 00:18:34,720
between these couples the source and the

424
00:18:34,720 --> 00:18:37,200
recipient as soon as we saw the

425
00:18:37,200 --> 00:18:40,080
exceeding of the

426
00:18:40,840 --> 00:18:43,760
threshold we marked those events as

427
00:18:43,760 --> 00:18:46,559
deviations

428
00:18:47,840 --> 00:18:51,280
after we selected the non-typical events

429
00:18:51,280 --> 00:18:55,280
algorithms division we had to group the

430
00:18:55,280 --> 00:18:58,400
anomalies before we took them as

431
00:18:58,400 --> 00:19:02,080
incidents of information security so for

432
00:19:02,080 --> 00:19:06,520
this we used clusterization

433
00:19:06,640 --> 00:19:08,799
k-means and db scan which i mentioned

434
00:19:08,799 --> 00:19:12,000
previously k means we used as a spare

435
00:19:12,000 --> 00:19:12,799
one

436
00:19:12,799 --> 00:19:14,559
when when we

437
00:19:14,559 --> 00:19:18,000
saw that db scan could not handle most

438
00:19:18,000 --> 00:19:19,440
of the events

439
00:19:19,440 --> 00:19:22,720
we started with simple clusterization of

440
00:19:22,720 --> 00:19:24,160
all of the

441
00:19:24,160 --> 00:19:26,320
abnormalities and

442
00:19:26,320 --> 00:19:28,880
we resulted with very rough

443
00:19:28,880 --> 00:19:30,720
clusters and

444
00:19:30,720 --> 00:19:32,240
we could not just

445
00:19:32,240 --> 00:19:34,880
join them together that easily

446
00:19:34,880 --> 00:19:37,760
so we removed all of the other features

447
00:19:37,760 --> 00:19:41,520
but addresses and we clustered

448
00:19:41,520 --> 00:19:45,120
around addresses

449
00:19:45,200 --> 00:19:47,440
addresses of the source addresses of the

450
00:19:47,440 --> 00:19:50,840
recipient so we could more conveniently

451
00:19:50,840 --> 00:19:55,600
group these events and

452
00:19:55,679 --> 00:19:58,880
it helped us investigate them

453
00:19:58,880 --> 00:20:01,919
much more easily

454
00:20:01,919 --> 00:20:04,960
we developed an integrated solution

455
00:20:04,960 --> 00:20:06,559
which works

456
00:20:06,559 --> 00:20:08,320
with different sources of data

457
00:20:08,320 --> 00:20:10,159
accumulates the events

458
00:20:10,159 --> 00:20:11,039
and

459
00:20:11,039 --> 00:20:13,760
interacts with the

460
00:20:13,760 --> 00:20:15,919
customers erp

461
00:20:15,919 --> 00:20:17,280
we tested that

462
00:20:17,280 --> 00:20:18,720
with the load

463
00:20:18,720 --> 00:20:22,159
workload and generated the

464
00:20:22,159 --> 00:20:24,240
appropriate number of

465
00:20:24,240 --> 00:20:26,720
incidents and appropriate number of

466
00:20:26,720 --> 00:20:29,440
false positives we try to use this

467
00:20:29,440 --> 00:20:32,000
machine learning with different types of

468
00:20:32,000 --> 00:20:33,360
objects

469
00:20:33,360 --> 00:20:35,200
in the network traffic like the

470
00:20:35,200 --> 00:20:37,200
authorization events

471
00:20:37,200 --> 00:20:40,080
linux and windows systems the launch of

472
00:20:40,080 --> 00:20:43,840
processes etc

473
00:20:43,840 --> 00:20:47,480
thank you very much

474
00:20:50,799 --> 00:20:52,640
yes you can ask

475
00:20:52,640 --> 00:20:55,280
questions please use microphones for

476
00:20:55,280 --> 00:20:57,200
questions and the best

477
00:20:57,200 --> 00:20:59,280
questions

478
00:20:59,280 --> 00:21:02,559
will be awarded with t-shirts

479
00:21:02,559 --> 00:21:06,240
i'm alexander kenkov from you money

480
00:21:06,240 --> 00:21:08,559
they didn't say any numbers about the

481
00:21:08,559 --> 00:21:10,559
precision

482
00:21:10,559 --> 00:21:13,280
i mean in in percent

483
00:21:13,280 --> 00:21:16,559
how much were their false positives in

484
00:21:16,559 --> 00:21:17,840
percent

485
00:21:17,840 --> 00:21:20,320
at the black hat conference in 2018

486
00:21:20,320 --> 00:21:22,559
japanese network engineers

487
00:21:22,559 --> 00:21:24,799
coped with the same task they took

488
00:21:24,799 --> 00:21:27,280
firewalls logs and proxy logs and

489
00:21:27,280 --> 00:21:30,480
accumulated similar data then and they

490
00:21:30,480 --> 00:21:32,640
did it in the very original

491
00:21:32,640 --> 00:21:35,760
dual matrix

492
00:21:36,960 --> 00:21:38,880
pictures and they put these pictures

493
00:21:38,880 --> 00:21:41,919
into neural networks and the 96

494
00:21:41,919 --> 00:21:46,880
98 correct detections of abnormalities

495
00:21:46,880 --> 00:21:49,840
resulted what are your numbers and

496
00:21:49,840 --> 00:21:51,679
percent and what types of network

497
00:21:51,679 --> 00:21:55,760
abnormalities did you manage to detect

498
00:21:55,919 --> 00:21:57,440
so

499
00:21:57,440 --> 00:22:00,480
how complete were you

500
00:22:00,480 --> 00:22:01,840
thank you for a question we did not

501
00:22:01,840 --> 00:22:04,320
measure such things because we did not

502
00:22:04,320 --> 00:22:06,960
have uh marked data

503
00:22:06,960 --> 00:22:09,760
and the actual idea was there was that

504
00:22:09,760 --> 00:22:12,799
it was zero knowledge there was no

505
00:22:12,799 --> 00:22:13,919
knowledge

506
00:22:13,919 --> 00:22:16,799
about that

507
00:22:16,799 --> 00:22:19,760
we didn't we didn't get it marked either

508
00:22:19,760 --> 00:22:22,559
in different days it was different but

509
00:22:22,559 --> 00:22:25,440
normally we would get approximately

510
00:22:25,440 --> 00:22:28,000
50 percent of false positives the

511
00:22:28,000 --> 00:22:29,120
precision

512
00:22:29,120 --> 00:22:31,679
was measured at the experiment stage we

513
00:22:31,679 --> 00:22:34,080
added

514
00:22:34,320 --> 00:22:37,600
anomalies manually and we made sure that

515
00:22:37,600 --> 00:22:38,720
such

516
00:22:38,720 --> 00:22:42,960
anomalies were detected 100 percent

517
00:22:44,159 --> 00:22:47,200
well uh what was happening ultimately

518
00:22:47,200 --> 00:22:48,880
after a month

519
00:22:48,880 --> 00:22:51,039
well during the month we would be

520
00:22:51,039 --> 00:22:54,240
getting approximately 10 incidents

521
00:22:54,240 --> 00:22:57,840
grouped deviations

522
00:22:57,919 --> 00:23:00,159
measured against what a number of

523
00:23:00,159 --> 00:23:03,280
processed events approximately 1 billion

524
00:23:03,280 --> 00:23:04,880
events

525
00:23:04,880 --> 00:23:06,559
per day

526
00:23:06,559 --> 00:23:08,720
for 24 hours

527
00:23:08,720 --> 00:23:10,000
thank you

528
00:23:10,000 --> 00:23:12,559
amanda gurina from infotax

529
00:23:12,559 --> 00:23:14,400
i have a question

530
00:23:14,400 --> 00:23:16,320
is my understanding correct about

531
00:23:16,320 --> 00:23:18,159
network traffic

532
00:23:18,159 --> 00:23:19,280
did you

533
00:23:19,280 --> 00:23:21,440
try to measure how frequently the

534
00:23:21,440 --> 00:23:23,919
traffic changes in the corporate network

535
00:23:23,919 --> 00:23:25,360
you said that you

536
00:23:25,360 --> 00:23:28,000
changed the training of the models very

537
00:23:28,000 --> 00:23:31,679
regularly like every day

538
00:23:31,679 --> 00:23:33,679
thank you for your question

539
00:23:33,679 --> 00:23:37,440
we trained the model we launched it and

540
00:23:37,440 --> 00:23:40,799
it turned out that very soon in a day it

541
00:23:40,799 --> 00:23:44,880
started uh generated generated a lot of

542
00:23:44,880 --> 00:23:46,960
anomalies we started

543
00:23:46,960 --> 00:23:49,120
dealing with it and

544
00:23:49,120 --> 00:23:52,960
seems like that that selection was not

545
00:23:52,960 --> 00:23:55,360
suitable for the behavior for the next

546
00:23:55,360 --> 00:23:57,120
day

547
00:23:57,120 --> 00:23:59,120
was it just a session that you took for

548
00:23:59,120 --> 00:24:01,440
an event right

549
00:24:01,440 --> 00:24:06,080
and how did you digitize the events

550
00:24:07,039 --> 00:24:10,320
what was the size

551
00:24:10,320 --> 00:24:12,559
of

552
00:24:13,440 --> 00:24:16,679
the characteristics

553
00:24:20,480 --> 00:24:22,640
not for specific attacks but everything

554
00:24:22,640 --> 00:24:25,360
that you could digitize you digitized

555
00:24:25,360 --> 00:24:26,559
exactly

556
00:24:26,559 --> 00:24:29,520
we wanted to get the general algorithm

557
00:24:29,520 --> 00:24:31,520
which would take a look at the traffic

558
00:24:31,520 --> 00:24:33,840
generally

559
00:24:34,240 --> 00:24:36,799
how many

560
00:24:36,799 --> 00:24:38,559
did

561
00:24:38,559 --> 00:24:39,919
did you have

562
00:24:39,919 --> 00:24:41,760
well addresses

563
00:24:41,760 --> 00:24:42,880
ports

564
00:24:42,880 --> 00:24:45,600
bytes sent and protocol those were the

565
00:24:45,600 --> 00:24:47,760
features

566
00:24:47,760 --> 00:24:49,679
that we used

567
00:24:49,679 --> 00:24:52,080
thank you um

568
00:24:52,080 --> 00:24:55,279
from yandex uh here's a question

569
00:24:55,279 --> 00:24:57,279
well it's clear about

570
00:24:57,279 --> 00:25:00,240
anomalies but what kind of anomaly is

571
00:25:00,240 --> 00:25:03,679
scanning was used there

572
00:25:05,520 --> 00:25:08,400
for example a server was breached you

573
00:25:08,400 --> 00:25:11,840
got a reverse shell you started a

574
00:25:11,840 --> 00:25:13,039
payload

575
00:25:13,039 --> 00:25:15,840
analysis

576
00:25:16,240 --> 00:25:18,880
can your machine learning

577
00:25:18,880 --> 00:25:21,760
be tried at such cases did you try such

578
00:25:21,760 --> 00:25:23,279
things

579
00:25:23,279 --> 00:25:24,720
thank you for your question we did not

580
00:25:24,720 --> 00:25:27,279
try such specific cases

581
00:25:27,279 --> 00:25:28,480
for testing

582
00:25:28,480 --> 00:25:33,039
in theory if such event did happen

583
00:25:33,039 --> 00:25:35,520
from that server would be having a

584
00:25:35,520 --> 00:25:38,159
non-standard interaction

585
00:25:38,159 --> 00:25:41,039
so the model would have to

586
00:25:41,039 --> 00:25:42,720
noticed that

587
00:25:42,720 --> 00:25:43,840
we

588
00:25:43,840 --> 00:25:48,159
identified non-standard addressing

589
00:25:48,159 --> 00:25:51,760
from inside to outside and such things

590
00:25:51,760 --> 00:25:54,559
were detected

591
00:25:54,840 --> 00:25:57,440
hello dmitry snykov from spurbank uh you

592
00:25:57,440 --> 00:25:59,039
said

593
00:25:59,039 --> 00:26:02,480
that this model was retrained

594
00:26:02,480 --> 00:26:04,400
once a day

595
00:26:04,400 --> 00:26:07,520
with data for a week and uh how did you

596
00:26:07,520 --> 00:26:11,679
cope with the problem of the production

597
00:26:11,679 --> 00:26:13,279
interrupts for example you have a

598
00:26:13,279 --> 00:26:15,840
holiday week in may

599
00:26:15,840 --> 00:26:18,080
before holiday week in may you don't

600
00:26:18,080 --> 00:26:20,559
didn't have any interrupts and then you

601
00:26:20,559 --> 00:26:22,720
started having a lot of anomalies

602
00:26:22,720 --> 00:26:26,000
afterwards after the holidays

603
00:26:26,000 --> 00:26:28,480
well we would like to expand that

604
00:26:28,480 --> 00:26:30,640
in the future such uh

605
00:26:30,640 --> 00:26:33,120
things you described did not

606
00:26:33,120 --> 00:26:35,440
occur very frequently so we decided to

607
00:26:35,440 --> 00:26:38,799
postpone the resolution of the

608
00:26:38,799 --> 00:26:41,919
mentioned problem for a later time

609
00:26:41,919 --> 00:26:44,159
hello uh thank you for your report i'm

610
00:26:44,159 --> 00:26:47,919
vladimir uh what was the flow

611
00:26:47,919 --> 00:26:49,760
10 000

612
00:26:49,760 --> 00:26:52,799
events per second what kind of

613
00:26:52,799 --> 00:26:56,080
network traffic does it match with

614
00:26:56,080 --> 00:26:58,400
and how did you measure the

615
00:26:58,400 --> 00:27:01,279
abnormalities

616
00:27:02,640 --> 00:27:04,480
for example there was the first picture

617
00:27:04,480 --> 00:27:07,720
of yours

618
00:27:08,559 --> 00:27:12,320
with the events generated

619
00:27:17,200 --> 00:27:18,960
okay let me see

620
00:27:18,960 --> 00:27:20,399
let me identify a question more

621
00:27:20,399 --> 00:27:22,240
precisely are you talking about this

622
00:27:22,240 --> 00:27:24,399
slide of yours i'm not sure whether i

623
00:27:24,399 --> 00:27:27,520
understood your question

624
00:27:29,760 --> 00:27:32,720
i think the question was quite

625
00:27:32,840 --> 00:27:35,520
unclear and he's trying to clarify but

626
00:27:35,520 --> 00:27:38,320
he's not speaking into the microphone

627
00:27:38,320 --> 00:27:39,250
um

628
00:27:39,250 --> 00:27:42,319
[Music]

629
00:27:44,559 --> 00:27:46,799
he's clarified it off the mic and she's

630
00:27:46,799 --> 00:27:49,679
answering we took the logs

631
00:27:49,679 --> 00:27:51,600
which would

632
00:27:51,600 --> 00:27:54,000
record the information about all of the

633
00:27:54,000 --> 00:27:56,880
interactions we did not

634
00:27:56,880 --> 00:28:00,240
attach to the rules we logged all of the

635
00:28:00,240 --> 00:28:02,799
network interactions and how many

636
00:28:02,799 --> 00:28:04,960
gigabits of traffic it took

637
00:28:04,960 --> 00:28:07,039
unfortunately i don't have any

638
00:28:07,039 --> 00:28:09,279
such information at all we did not

639
00:28:09,279 --> 00:28:11,360
measure that

640
00:28:11,360 --> 00:28:13,919
i'm dmitri mourin from yaroslav

641
00:28:13,919 --> 00:28:15,679
university i have a couple of questions

642
00:28:15,679 --> 00:28:18,080
to you the first question when you were

643
00:28:18,080 --> 00:28:20,720
training the model uh how was this

644
00:28:20,720 --> 00:28:22,640
system working and how many false

645
00:28:22,640 --> 00:28:24,720
positives

646
00:28:24,720 --> 00:28:26,320
were you

647
00:28:26,320 --> 00:28:28,640
measuring during the training time and

648
00:28:28,640 --> 00:28:30,640
the second question you were using the

649
00:28:30,640 --> 00:28:31,600
proper

650
00:28:31,600 --> 00:28:35,760
allocation but in many cases

651
00:28:35,760 --> 00:28:40,080
you saw that this drip distribution

652
00:28:40,080 --> 00:28:42,080
by cash and can you really use this

653
00:28:42,080 --> 00:28:44,399
normal distribution in all situations

654
00:28:44,399 --> 00:28:46,719
really

655
00:28:47,120 --> 00:28:49,120
well uh

656
00:28:49,120 --> 00:28:50,720
let me just try to answer the second

657
00:28:50,720 --> 00:28:52,880
half of your question as far as the

658
00:28:52,880 --> 00:28:55,520
statistics model is concerned we took it

659
00:28:55,520 --> 00:28:58,399
as an additional model so it was

660
00:28:58,399 --> 00:29:02,080
possible to take to take this rough

661
00:29:02,080 --> 00:29:04,080
assumption

662
00:29:04,080 --> 00:29:05,440
we did not have

663
00:29:05,440 --> 00:29:07,760
too many inputs and we did not invest

664
00:29:07,760 --> 00:29:09,679
much into the model

665
00:29:09,679 --> 00:29:12,640
and we have quite a number of

666
00:29:12,640 --> 00:29:14,399
solutions

667
00:29:14,399 --> 00:29:16,159
available and we didn't didn't really

668
00:29:16,159 --> 00:29:17,840
want to make them

669
00:29:17,840 --> 00:29:19,919
any better

670
00:29:19,919 --> 00:29:22,799
we just wanted to

671
00:29:23,600 --> 00:29:26,399
let our machine learning systems breathe

672
00:29:26,399 --> 00:29:28,799
a little bit better

673
00:29:28,799 --> 00:29:31,760
while the model is retrained the trained

674
00:29:31,760 --> 00:29:34,000
model is already working

675
00:29:34,000 --> 00:29:37,200
so we don't have any pauses in work

676
00:29:37,200 --> 00:29:39,520
and as far as the very first launch is

677
00:29:39,520 --> 00:29:40,399
concerned

678
00:29:40,399 --> 00:29:43,120
when we did not quite

679
00:29:43,120 --> 00:29:44,960
select the data well actually the more

680
00:29:44,960 --> 00:29:47,039
data we select um

681
00:29:47,039 --> 00:29:49,600
the more precise the results will be

682
00:29:49,600 --> 00:29:53,679
a few hours at least and for first

683
00:29:53,679 --> 00:29:56,320
at first the flow of false positives

684
00:29:56,320 --> 00:29:58,480
will be more of course

685
00:29:58,480 --> 00:30:01,600
so however i have a suggestion

686
00:30:01,600 --> 00:30:04,320
when your threshold

687
00:30:04,320 --> 00:30:07,039
initiates

688
00:30:07,039 --> 00:30:09,360
you start getting false positives you

689
00:30:09,360 --> 00:30:11,679
immediately get into the

690
00:30:11,679 --> 00:30:14,320
switch to the model which is already

691
00:30:14,320 --> 00:30:16,320
working and it's starting in

692
00:30:16,320 --> 00:30:18,320
working in parallel and you switch to

693
00:30:18,320 --> 00:30:19,679
this model

694
00:30:19,679 --> 00:30:23,760
at this mode at this moment in time

695
00:30:23,760 --> 00:30:26,640
good thank you

696
00:30:26,640 --> 00:30:28,480
i'm from spurbank and

697
00:30:28,480 --> 00:30:30,640
you said that this model

698
00:30:30,640 --> 00:30:32,720
trains and retrains

699
00:30:32,720 --> 00:30:34,799
did you automate that

700
00:30:34,799 --> 00:30:37,360
and what means did you use that

701
00:30:37,360 --> 00:30:38,720
and

702
00:30:38,720 --> 00:30:41,520
how do you

703
00:30:42,240 --> 00:30:44,399
what kind of business effect did you

704
00:30:44,399 --> 00:30:47,439
achieve with that

705
00:30:49,279 --> 00:30:53,360
so less alarms more free time for admins

706
00:30:53,360 --> 00:30:56,080
etc what was the practical effect

707
00:30:56,080 --> 00:30:59,279
and how was it measured

708
00:30:59,519 --> 00:31:01,760
thank you for your question well people

709
00:31:01,760 --> 00:31:03,519
started

710
00:31:03,519 --> 00:31:05,600
maybe sleeping more maybe sleeping less

711
00:31:05,600 --> 00:31:08,080
i don't know for sure we tried these

712
00:31:08,080 --> 00:31:10,480
models

713
00:31:10,880 --> 00:31:13,840
for a month each of the models were

714
00:31:13,840 --> 00:31:15,919
tried for a month i'm not sure whether

715
00:31:15,919 --> 00:31:18,720
these models are working properly and

716
00:31:18,720 --> 00:31:21,039
admins are sleeping

717
00:31:21,039 --> 00:31:23,279
peacefully we are considering these

718
00:31:23,279 --> 00:31:24,559
solutions

719
00:31:24,559 --> 00:31:26,480
as a solution

720
00:31:26,480 --> 00:31:27,760
which

721
00:31:27,760 --> 00:31:30,159
makes life a little bit easier for the

722
00:31:30,159 --> 00:31:32,000
people but i wouldn't want to claim that

723
00:31:32,000 --> 00:31:33,519
we have

724
00:31:33,519 --> 00:31:35,840
found a universal solution to all of the

725
00:31:35,840 --> 00:31:39,039
problems it's not such a solution

726
00:31:39,039 --> 00:31:41,679
as for training

727
00:31:41,679 --> 00:31:43,840
i'm sorry could you please repeat that

728
00:31:43,840 --> 00:31:46,720
part of your question

729
00:31:47,840 --> 00:31:50,960
so the automatic training of the model

730
00:31:50,960 --> 00:31:54,880
and how does it get into prompt

731
00:31:55,200 --> 00:31:57,360
it is done automatically

732
00:31:57,360 --> 00:32:00,320
a separate process is launched which

733
00:32:00,320 --> 00:32:02,720
retrains this model and you don't need

734
00:32:02,720 --> 00:32:04,880
people for that and you don't need

735
00:32:04,880 --> 00:32:09,840
people for doing that at any stage

736
00:32:10,080 --> 00:32:12,240
um

737
00:32:12,320 --> 00:32:14,880
and here's my question why did did you

738
00:32:14,880 --> 00:32:18,799
not take into assumption a random forest

739
00:32:18,799 --> 00:32:20,240
method

740
00:32:20,240 --> 00:32:21,919
studies tell us that this machine

741
00:32:21,919 --> 00:32:24,640
learning method is quite prospective to

742
00:32:24,640 --> 00:32:27,600
analyze network traffic

743
00:32:27,600 --> 00:32:29,840
thank you for a question

744
00:32:29,840 --> 00:32:31,200
well

745
00:32:31,200 --> 00:32:35,519
we don't have data marked so

746
00:32:35,679 --> 00:32:36,960
we

747
00:32:36,960 --> 00:32:39,840
used a different model instead called

748
00:32:39,840 --> 00:32:42,960
isolation forest it has

749
00:32:42,960 --> 00:32:45,679
similar features as a random forest but

750
00:32:45,679 --> 00:32:46,799
it

751
00:32:46,799 --> 00:32:50,559
can cope with unmarked data

752
00:32:50,640 --> 00:32:52,000
alexandria

753
00:32:52,000 --> 00:32:53,679
is from

754
00:32:53,679 --> 00:32:55,519
humanity

755
00:32:55,519 --> 00:32:58,559
detecting abnormal events in real time

756
00:32:58,559 --> 00:33:02,640
and yet you retrain the model

757
00:33:02,640 --> 00:33:07,200
once a day with a one-day lag

758
00:33:08,000 --> 00:33:10,640
and you said that um

759
00:33:10,640 --> 00:33:12,720
other methods were

760
00:33:12,720 --> 00:33:14,000
not working

761
00:33:14,000 --> 00:33:16,240
for how long for not

762
00:33:16,240 --> 00:33:19,760
not working for more than one day

763
00:33:21,360 --> 00:33:23,919
let me clarify we launched that once a

764
00:33:23,919 --> 00:33:25,600
day and it could be

765
00:33:25,600 --> 00:33:28,559
working for an hour 30 minutes but in

766
00:33:28,559 --> 00:33:30,320
parallel

767
00:33:30,320 --> 00:33:33,440
we have a model to which we send

768
00:33:33,440 --> 00:33:36,320
these batches of events in real time

769
00:33:36,320 --> 00:33:37,679
[Music]

770
00:33:37,679 --> 00:33:39,600
and we sent them there less than a

771
00:33:39,600 --> 00:33:40,559
minute

772
00:33:40,559 --> 00:33:44,880
passes and we get the result

773
00:33:44,880 --> 00:33:46,399
thank you for your

774
00:33:46,399 --> 00:33:48,880
report i'm denise barilov and here's a

775
00:33:48,880 --> 00:33:50,840
question

776
00:33:50,840 --> 00:33:54,559
somewhere people use different resources

777
00:33:54,559 --> 00:33:57,279
which could be blocked

778
00:33:57,279 --> 00:33:58,720
at any time

779
00:33:58,720 --> 00:34:02,399
in russia and people use the vpn

780
00:34:02,399 --> 00:34:06,918
so they use vpn tour

781
00:34:11,760 --> 00:34:16,599
will they be affecting anomalies

782
00:34:20,000 --> 00:34:21,280
i think

783
00:34:21,280 --> 00:34:24,399
they will affect them

784
00:34:24,399 --> 00:34:27,119
but uh seems like that today

785
00:34:27,119 --> 00:34:29,839
it's just a matter of uh

786
00:34:29,839 --> 00:34:34,839
separate investigation i would say

787
00:34:34,879 --> 00:34:36,800
i'm talking about the precision of this

788
00:34:36,800 --> 00:34:40,000
model uh you say that these false

789
00:34:40,000 --> 00:34:41,280
positives

790
00:34:41,280 --> 00:34:43,839
levels

791
00:34:44,079 --> 00:34:45,760
contains here

792
00:34:45,760 --> 00:34:48,399
what's uh false positive what's false

793
00:34:48,399 --> 00:34:49,440
negative

794
00:34:49,440 --> 00:34:51,599
level the false positive and false

795
00:34:51,599 --> 00:34:53,839
negative level

796
00:34:53,839 --> 00:34:56,399
ultimately was

797
00:34:56,399 --> 00:34:58,800
measured by the customer's

798
00:34:58,800 --> 00:35:01,280
feedback

799
00:35:01,440 --> 00:35:03,599
so we launched

800
00:35:03,599 --> 00:35:06,880
the work of our system from the customer

801
00:35:06,880 --> 00:35:09,520
we collected these incidents they were

802
00:35:09,520 --> 00:35:12,400
resolved and they were closed as false

803
00:35:12,400 --> 00:35:16,000
positives or they worked with them again

804
00:35:16,000 --> 00:35:18,160
so thus we

805
00:35:18,160 --> 00:35:20,720
measured the level of approximately 50

806
00:35:20,720 --> 00:35:21,839
percent

807
00:35:21,839 --> 00:35:24,720
and we added some

808
00:35:24,720 --> 00:35:28,880
and normally some non-typical events

809
00:35:28,880 --> 00:35:31,200
in order to evaluate

810
00:35:31,200 --> 00:35:34,640
our model in vitro

811
00:35:35,599 --> 00:35:37,680
uh

812
00:35:42,400 --> 00:35:46,160
negatives uh i'm not going to say

813
00:35:46,160 --> 00:35:48,160
anything more precisely but i hope i

814
00:35:48,160 --> 00:35:50,640
answered your question

815
00:35:50,640 --> 00:35:52,720
another question hello uh

816
00:35:52,720 --> 00:35:55,760
you measured this false positives count

817
00:35:55,760 --> 00:35:58,400
legitimate scanning etc

818
00:35:58,400 --> 00:36:01,359
how could the model detect non-legit

819
00:36:01,359 --> 00:36:03,599
legitimate scanning if this model was

820
00:36:03,599 --> 00:36:05,839
trained as legitimate uh

821
00:36:05,839 --> 00:36:07,280
further on

822
00:36:07,280 --> 00:36:09,680
the model i'd understood that scanning

823
00:36:09,680 --> 00:36:12,480
from this particular host was legitimate

824
00:36:12,480 --> 00:36:15,520
but scanning from a different host

825
00:36:15,520 --> 00:36:18,240
was considered to be a separate event

826
00:36:18,240 --> 00:36:21,680
and could be identified

827
00:36:21,680 --> 00:36:24,240
so again

828
00:36:24,839 --> 00:36:28,000
things said about reverse shells from

829
00:36:28,000 --> 00:36:31,920
the legitimate host creates

830
00:36:32,079 --> 00:36:34,480
danger to the non-legitimate scan and

831
00:36:34,480 --> 00:36:36,400
the system identifies this as the

832
00:36:36,400 --> 00:36:39,599
legitimate scan right

833
00:36:39,680 --> 00:36:42,480
it is possible with the svm but it did

834
00:36:42,480 --> 00:36:43,440
not

835
00:36:43,440 --> 00:36:47,280
reduce to just one model such things can

836
00:36:47,280 --> 00:36:50,400
be identified with the isolation forest

837
00:36:50,400 --> 00:36:51,760
approach

838
00:36:51,760 --> 00:36:52,880
and we

839
00:36:52,880 --> 00:36:55,040
also take this feedback

840
00:36:55,040 --> 00:36:58,079
with some probability

841
00:36:58,079 --> 00:37:00,880
so seems like that some of the events

842
00:37:00,880 --> 00:37:03,599
were left as false positive and nothing

843
00:37:03,599 --> 00:37:05,359
was changed in the model

844
00:37:05,359 --> 00:37:07,359
seems like it was addressed from the

845
00:37:07,359 --> 00:37:10,000
host which scans

846
00:37:10,000 --> 00:37:14,000
uh specific addresses they did not

847
00:37:14,000 --> 00:37:17,359
recur but if they recurred and recurred

848
00:37:17,359 --> 00:37:19,920
as more noticeable they could be tracked

849
00:37:19,920 --> 00:37:21,040
down as

850
00:37:21,040 --> 00:37:22,640
anomalies

851
00:37:22,640 --> 00:37:25,040
thank you

852
00:37:28,320 --> 00:37:30,480
thank you i'm ruslan and i have a

853
00:37:30,480 --> 00:37:32,560
question

854
00:37:32,560 --> 00:37:34,720
each day we

855
00:37:34,720 --> 00:37:39,119
we infer new model the validation

856
00:37:39,119 --> 00:37:40,640
is required

857
00:37:40,640 --> 00:37:41,599
so

858
00:37:41,599 --> 00:37:44,800
like for example yesterday

859
00:37:44,800 --> 00:37:46,240
we started

860
00:37:46,240 --> 00:37:48,160
getting our

861
00:37:48,160 --> 00:37:50,720
1000 rps traffic

862
00:37:50,720 --> 00:37:54,320
and we keep on sending it so the model

863
00:37:54,320 --> 00:37:55,839
trains with it

864
00:37:55,839 --> 00:37:58,079
and then we do something very similar

865
00:37:58,079 --> 00:37:59,839
but non-legitimate

866
00:37:59,839 --> 00:38:01,680
and we'll be pinging

867
00:38:01,680 --> 00:38:02,560
and

868
00:38:02,560 --> 00:38:04,400
the next day you will be sending

869
00:38:04,400 --> 00:38:07,599
something similar to the same ip

870
00:38:07,599 --> 00:38:10,160
and the the model will consider it to be

871
00:38:10,160 --> 00:38:12,240
a legitimate thing

872
00:38:12,240 --> 00:38:13,359
so

873
00:38:13,359 --> 00:38:14,800
that's the

874
00:38:14,800 --> 00:38:17,040
validation problem how did you resolve

875
00:38:17,040 --> 00:38:18,480
this validation

876
00:38:18,480 --> 00:38:22,560
of human in the loop pro problem

877
00:38:23,440 --> 00:38:26,640
at first it looks safe we've seen such

878
00:38:26,640 --> 00:38:29,520
situations a number of times just like

879
00:38:29,520 --> 00:38:32,320
where you showed us the case someone

880
00:38:32,320 --> 00:38:35,040
starts pinging and we start getting an

881
00:38:35,040 --> 00:38:37,920
incident for that

882
00:38:40,240 --> 00:38:41,280
then

883
00:38:41,280 --> 00:38:43,680
indeed

884
00:38:44,480 --> 00:38:47,599
these events go to the selection and if

885
00:38:47,599 --> 00:38:49,440
this selection is closed as false

886
00:38:49,440 --> 00:38:51,680
positive they will not be sent there

887
00:38:51,680 --> 00:38:53,119
anymore

888
00:38:53,119 --> 00:38:54,640
so in this case

889
00:38:54,640 --> 00:38:57,359
it really all depends on the solution

890
00:38:57,359 --> 00:39:01,839
that's as far as the svm model goes

891
00:39:02,880 --> 00:39:07,119
it closes this closes the incident

892
00:39:08,079 --> 00:39:09,599
they continue this discussion without

893
00:39:09,599 --> 00:39:11,040
the microphone

894
00:39:11,040 --> 00:39:12,480
and she's answering

895
00:39:12,480 --> 00:39:14,560
to this question

896
00:39:14,560 --> 00:39:17,040
this is going to be grouped

897
00:39:17,040 --> 00:39:19,920
with all of the 10 000 events

898
00:39:19,920 --> 00:39:22,560
next question from alexandre

899
00:39:22,560 --> 00:39:25,040
uh how does this model take this

900
00:39:25,040 --> 00:39:26,800
infrastructure into account if the

901
00:39:26,800 --> 00:39:28,400
service

902
00:39:28,400 --> 00:39:31,119
breaks down

903
00:39:32,000 --> 00:39:32,880
how

904
00:39:32,880 --> 00:39:37,680
can it process the infrastructure status

905
00:39:37,760 --> 00:39:39,359
correct me if i'm wrong whether i

906
00:39:39,359 --> 00:39:41,760
understood it right

907
00:39:41,760 --> 00:39:43,599
there was some kind of the interaction

908
00:39:43,599 --> 00:39:44,960
occurring

909
00:39:44,960 --> 00:39:47,359
uh then it stopped and then it's going

910
00:39:47,359 --> 00:39:49,040
to be reinstated and it will be

911
00:39:49,040 --> 00:39:51,119
evaluated as new

912
00:39:51,119 --> 00:39:54,240
for the first time it will be identified

913
00:39:54,240 --> 00:39:56,960
as an anomaly

914
00:39:56,960 --> 00:40:00,079
and an incident will be created which

915
00:40:00,079 --> 00:40:04,079
will be considered and closed

916
00:40:07,119 --> 00:40:08,839
well we have

917
00:40:08,839 --> 00:40:12,079
multiple data centers

918
00:40:12,079 --> 00:40:15,200
and a lot of available services so seems

919
00:40:15,200 --> 00:40:18,319
like we will have to process this false

920
00:40:18,319 --> 00:40:21,280
events each day

921
00:40:21,280 --> 00:40:22,640
answer

922
00:40:22,640 --> 00:40:25,680
what i mean here is that

923
00:40:25,680 --> 00:40:27,599
such events that

924
00:40:27,599 --> 00:40:29,760
recur after

925
00:40:29,760 --> 00:40:32,160
a long period of silence should be

926
00:40:32,160 --> 00:40:33,760
identified

927
00:40:33,760 --> 00:40:34,800
at

928
00:40:34,800 --> 00:40:38,640
the normal behavior of traffic

929
00:40:38,640 --> 00:40:41,440
your examples may recur

930
00:40:41,440 --> 00:40:44,720
as new but they will not be

931
00:40:44,720 --> 00:40:47,440
standing out

932
00:40:47,440 --> 00:40:49,920
so there will be no such a flow

933
00:40:49,920 --> 00:40:52,240
of events

934
00:40:52,240 --> 00:40:56,479
and we did try it and we did test it

935
00:40:56,560 --> 00:40:59,359
some non-typical events would

936
00:40:59,359 --> 00:41:01,359
get through of course

937
00:41:01,359 --> 00:41:04,400
next question um denis kirian and here's

938
00:41:04,400 --> 00:41:05,440
the question

939
00:41:05,440 --> 00:41:08,640
could you differentiate the traffic from

940
00:41:08,640 --> 00:41:09,839
miners

941
00:41:09,839 --> 00:41:12,640
or other non-conventional sources with

942
00:41:12,640 --> 00:41:15,040
lots and lots of requests which cannot

943
00:41:15,040 --> 00:41:19,599
be considered as an anomaly

944
00:41:19,599 --> 00:41:20,400
answer

945
00:41:20,400 --> 00:41:23,520
we started detecting such events and we

946
00:41:23,520 --> 00:41:27,040
put them later into a statistical model

947
00:41:27,040 --> 00:41:28,720
and it coped

948
00:41:28,720 --> 00:41:33,959
with such events quite well

949
00:41:41,440 --> 00:41:44,880
correct me if i'm wrong you didn't use

950
00:41:44,880 --> 00:41:47,200
neural net network algorithms and

951
00:41:47,200 --> 00:41:49,599
machine learning because it took too

952
00:41:49,599 --> 00:41:51,040
long for them to work

953
00:41:51,040 --> 00:41:53,200
and he said that the the lag

954
00:41:53,200 --> 00:41:56,399
was about one day

955
00:41:56,480 --> 00:41:58,640
and about

956
00:41:58,640 --> 00:42:00,720
the resolution about some kind of

957
00:42:00,720 --> 00:42:03,520
traffic was momentarily

958
00:42:03,520 --> 00:42:05,920
instant what would be the problem

959
00:42:05,920 --> 00:42:08,240
using neural networks and deep machine

960
00:42:08,240 --> 00:42:10,560
learning

961
00:42:11,599 --> 00:42:12,319
and

962
00:42:12,319 --> 00:42:15,480
did you

963
00:42:16,480 --> 00:42:21,760
take a look into the body of the packets

964
00:42:22,800 --> 00:42:23,760
or

965
00:42:23,760 --> 00:42:26,880
you only chose the parameters

966
00:42:26,880 --> 00:42:30,880
identical for the majority of scenarios

967
00:42:30,880 --> 00:42:33,760
in businesses

968
00:42:34,319 --> 00:42:37,599
in business in business networks

969
00:42:37,599 --> 00:42:39,359
we did not take into account neural

970
00:42:39,359 --> 00:42:41,839
networks yet

971
00:42:41,839 --> 00:42:43,440
we'll do it in the future are planning

972
00:42:43,440 --> 00:42:44,400
on doing that

973
00:42:44,400 --> 00:42:46,079
we did not start

974
00:42:46,079 --> 00:42:47,839
with them

975
00:42:47,839 --> 00:42:50,240
because when we started uh resolving

976
00:42:50,240 --> 00:42:51,839
that task

977
00:42:51,839 --> 00:42:53,920
it turned out to be quite complicated

978
00:42:53,920 --> 00:42:57,040
for us so we wanted to start with far

979
00:42:57,040 --> 00:42:59,680
more transparent methods apart from that

980
00:42:59,680 --> 00:43:01,359
neural networks

981
00:43:01,359 --> 00:43:02,240
take

982
00:43:02,240 --> 00:43:04,800
much longer to work so that's why we

983
00:43:04,800 --> 00:43:06,800
decided to

984
00:43:06,800 --> 00:43:08,640
put them on hold

985
00:43:08,640 --> 00:43:10,480
as far as taking a deeper look into

986
00:43:10,480 --> 00:43:12,880
packets we didn't do that

987
00:43:12,880 --> 00:43:16,319
we tried to take universal

988
00:43:16,319 --> 00:43:18,160
features and

989
00:43:18,160 --> 00:43:20,560
characteristics similar

990
00:43:20,560 --> 00:43:22,960
to different companies

991
00:43:22,960 --> 00:43:23,760
let

992
00:43:23,760 --> 00:43:26,160
our speaker go let our speaker go and

993
00:43:26,160 --> 00:43:28,480
let's end up with these questions uh

994
00:43:28,480 --> 00:43:29,920
enough questions

995
00:43:29,920 --> 00:43:32,240
valentina is going to be available here

996
00:43:32,240 --> 00:43:34,880
so now we need to select

997
00:43:34,880 --> 00:43:36,800
two interesting questions

998
00:43:36,800 --> 00:43:38,400
the time is up

999
00:43:38,400 --> 00:43:41,040
well valentina is answering too many

1000
00:43:41,040 --> 00:43:43,839
interesting questions but the first

1001
00:43:43,839 --> 00:43:46,480
question was about this

1002
00:43:46,480 --> 00:43:48,880
host

1003
00:43:51,520 --> 00:43:53,839
a white t-shirt a black t-shirt i think

1004
00:43:53,839 --> 00:43:56,160
a black t-shirt goes there

1005
00:43:56,160 --> 00:43:58,720
and who has given this piece of advice

1006
00:43:58,720 --> 00:44:01,520
about the host

1007
00:44:01,839 --> 00:44:05,280
okay and the second best question

1008
00:44:05,280 --> 00:44:10,720
and i need to thank people for

1009
00:44:10,720 --> 00:44:12,800
complicated questions

1010
00:44:12,800 --> 00:44:14,960
this young man alexander sitting here in

1011
00:44:14,960 --> 00:44:16,960
the first row but i wouldn't want to

1012
00:44:16,960 --> 00:44:18,720
offend anyone i liked all of your

1013
00:44:18,720 --> 00:44:21,119
questions thank you very much for

1014
00:44:21,119 --> 00:44:22,319
joining me here and thank you for your

1015
00:44:22,319 --> 00:44:24,720
questions

1016
00:44:25,680 --> 00:44:28,960
next speaker will be here at 1 pm thank

1017
00:44:28,960 --> 00:44:31,960
you

