1
00:00:01,150 --> 00:00:04,330
[Applause]

2
00:00:10,020 --> 00:00:17,859
[Applause]

3
00:00:14,609 --> 00:00:21,430
<font color="#E5E5E5">all right</font><font color="#CCCCCC"> you</font><font color="#E5E5E5"> guys</font><font color="#CCCCCC"> all have to</font><font color="#E5E5E5"> watch me</font>

4
00:00:17,859 --> 00:00:27,340
<font color="#CCCCCC">type my</font><font color="#E5E5E5"> password</font><font color="#CCCCCC"> now Rob you're messing</font>

5
00:00:21,430 --> 00:00:28,259
<font color="#CCCCCC">me up stop how did you know are you</font>

6
00:00:27,340 --> 00:00:38,760
<font color="#E5E5E5">spying on me</font>

7
00:00:28,260 --> 00:00:41,949
there we go all right<font color="#E5E5E5"> perfect</font>

8
00:00:38,760 --> 00:00:45,190
well I see if I see<font color="#E5E5E5"> I should go over</font>

9
00:00:41,949 --> 00:00:48,280
<font color="#CCCCCC">here</font><font color="#E5E5E5"> I see a few less spaces today than</font>

10
00:00:45,190 --> 00:00:54,218
I<font color="#CCCCCC"> did</font><font color="#E5E5E5"> last yesterday at the conference I</font>

11
00:00:48,280 --> 00:00:56,739
think<font color="#E5E5E5"> I'm not sure if after lunch or</font>

12
00:00:54,219 --> 00:01:06,880
<font color="#CCCCCC">after the after party is the best</font>

13
00:00:56,739 --> 00:01:10,450
speaking slot so anyway<font color="#CCCCCC"> my name</font><font color="#E5E5E5"> is David</font>

14
00:01:06,880 --> 00:01:13,390
Bianco<font color="#CCCCCC"> I'm here to talk</font><font color="#E5E5E5"> about a threat</font>

15
00:01:10,450 --> 00:01:14,710
hunting kind of content<font color="#CCCCCC"> we got a little</font>

16
00:01:13,390 --> 00:01:16,000
bit of<font color="#E5E5E5"> that</font><font color="#CCCCCC"> yesterday I was</font><font color="#E5E5E5"> really happy</font>

17
00:01:14,710 --> 00:01:18,850
to<font color="#E5E5E5"> see that it was a little bit worried</font>

18
00:01:16,000 --> 00:01:21,130
<font color="#CCCCCC">on the beginning</font><font color="#E5E5E5"> of the conference</font><font color="#CCCCCC"> it</font>

19
00:01:18,850 --> 00:01:23,020
was<font color="#CCCCCC"> oh yes they're always</font><font color="#E5E5E5"> talks</font><font color="#CCCCCC"> about</font>

20
00:01:21,130 --> 00:01:25,899
things<font color="#E5E5E5"> I've attacked and things I've</font>

21
00:01:23,020 --> 00:01:29,229
hacked into<font color="#E5E5E5"> I don't do that sort of</font>

22
00:01:25,900 --> 00:01:30,790
stuff<font color="#CCCCCC"> so it's a little</font><font color="#E5E5E5"> bit worried about</font>

23
00:01:29,230 --> 00:01:32,530
<font color="#E5E5E5">that but we</font><font color="#CCCCCC"> got some good threatening</font>

24
00:01:30,790 --> 00:01:34,900
content in there so I'm<font color="#CCCCCC"> really</font><font color="#E5E5E5"> happy</font><font color="#CCCCCC"> I</font>

25
00:01:32,530 --> 00:01:37,360
also learned a lot<font color="#CCCCCC"> yesterday not only</font>

26
00:01:34,900 --> 00:01:40,870
<font color="#E5E5E5">about how to attack things but I learned</font>

27
00:01:37,360 --> 00:01:42,310
<font color="#E5E5E5">that</font><font color="#CCCCCC"> they're apparently</font><font color="#E5E5E5"> three things</font>

28
00:01:40,870 --> 00:01:44,620
that you<font color="#CCCCCC"> need to have in every</font>

29
00:01:42,310 --> 00:01:47,490
<font color="#E5E5E5">presentation</font><font color="#CCCCCC"> I learned this the</font>

30
00:01:44,620 --> 00:01:52,530
<font color="#E5E5E5">obligatory three things from Rob fuller</font>

31
00:01:47,490 --> 00:01:56,408
so<font color="#E5E5E5"> these are my Rob Liggett</font><font color="#CCCCCC"> Ori slides</font><font color="#E5E5E5"> I</font>

32
00:01:52,530 --> 00:02:00,250
found if you misinterpret<font color="#CCCCCC"> son</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> which</font>

33
00:01:56,409 --> 00:02:02,350
<font color="#CCCCCC">everyone</font><font color="#E5E5E5"> probably</font><font color="#CCCCCC"> does right you can</font>

34
00:02:00,250 --> 00:02:04,360
find some really<font color="#CCCCCC"> interesting things in</font>

35
00:02:02,350 --> 00:02:07,419
here<font color="#CCCCCC"> so i willfully misinterpret it a</font>

36
00:02:04,360 --> 00:02:09,610
few here's my the blue team edition of

37
00:02:07,420 --> 00:02:11,560
the art<font color="#E5E5E5"> of work you can be sure</font><font color="#CCCCCC"> of</font>

38
00:02:09,610 --> 00:02:16,200
succeeding in your attacks if you only

39
00:02:11,560 --> 00:02:16,200
<font color="#E5E5E5">attack places which are undefended Rob</font>

40
00:02:19,370 --> 00:02:24,780
but<font color="#E5E5E5"> I'm doing one up on him</font><font color="#CCCCCC"> I have I</font>

41
00:02:22,499 --> 00:02:27,629
have<font color="#CCCCCC"> two so the red team</font><font color="#E5E5E5"> edition of the</font>

42
00:02:24,780 --> 00:02:29,370
art of<font color="#E5E5E5"> war has the probably what the red</font>

43
00:02:27,629 --> 00:02:31,409
<font color="#E5E5E5">team</font><font color="#CCCCCC"> thinks of the blue team</font><font color="#E5E5E5"> you can</font>

44
00:02:29,370 --> 00:02:33,719
ensure the<font color="#CCCCCC"> safety</font><font color="#E5E5E5"> of your defense if</font><font color="#CCCCCC"> you</font>

45
00:02:31,409 --> 00:02:44,000
only hold positions which cannot be

46
00:02:33,719 --> 00:02:51,120
<font color="#E5E5E5">attacked I'm missing a</font><font color="#CCCCCC"> slide here</font><font color="#E5E5E5"> nope</font>

47
00:02:44,000 --> 00:02:53,849
so this is<font color="#E5E5E5"> a presentation on something</font>

48
00:02:51,120 --> 00:02:56,449
that some<font color="#E5E5E5"> of you might not</font><font color="#CCCCCC"> have thought</font>

49
00:02:53,849 --> 00:02:58,768
<font color="#E5E5E5">that</font><font color="#CCCCCC"> we really be talking</font><font color="#E5E5E5"> about at</font><font color="#CCCCCC"> a</font>

50
00:02:56,449 --> 00:03:03,689
professional<font color="#CCCCCC"> security conference and</font>

51
00:02:58,769 --> 00:03:06,449
<font color="#CCCCCC">that is data analysis sorry</font><font color="#E5E5E5"> it's all</font>

52
00:03:03,689 --> 00:03:09,358
about<font color="#CCCCCC"> numbers and data rather than</font><font color="#E5E5E5"> that</font>

53
00:03:06,449 --> 00:03:12,540
much<font color="#E5E5E5"> actual security content but this is</font>

54
00:03:09,359 --> 00:03:15,299
<font color="#E5E5E5">really important for folks who are</font>

55
00:03:12,540 --> 00:03:19,230
<font color="#E5E5E5">trying to find bad guys we talked how to</font>

56
00:03:15,299 --> 00:03:22,829
talk yesterday about<font color="#CCCCCC"> cyber</font><font color="#E5E5E5"> security</font>

57
00:03:19,230 --> 00:03:26,668
analytics<font color="#E5E5E5"> so this is a piece</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> that I</font>

58
00:03:22,829 --> 00:03:30,599
run a<font color="#E5E5E5"> website called</font><font color="#CCCCCC"> threat hunting</font>

59
00:03:26,669 --> 00:03:33,299
<font color="#CCCCCC">dotnet</font><font color="#E5E5E5"> and thread hunting net is just</font><font color="#CCCCCC"> a</font>

60
00:03:30,599 --> 00:03:35,518
it's a simple project that<font color="#E5E5E5"> goes and I</font>

61
00:03:33,299 --> 00:03:37,349
look all over<font color="#CCCCCC"> the</font><font color="#E5E5E5"> internet and all the</font>

62
00:03:35,519 --> 00:03:40,220
different<font color="#E5E5E5"> places</font><font color="#CCCCCC"> I can find to see</font>

63
00:03:37,349 --> 00:03:43,040
people who have published successful

64
00:03:40,220 --> 00:03:46,319
recipes for threat hunting how to find

65
00:03:43,040 --> 00:03:50,009
bad guys in piles of whatever kind<font color="#CCCCCC"> of</font>

66
00:03:46,319 --> 00:03:51,689
data<font color="#E5E5E5"> and it's indexed by I'm interested</font>

67
00:03:50,009 --> 00:03:53,099
in finding<font color="#E5E5E5"> lateral movement or I'm</font>

68
00:03:51,689 --> 00:03:57,150
interested in<font color="#E5E5E5"> finding data exfiltration</font>

69
00:03:53,099 --> 00:03:59,040
<font color="#CCCCCC">or</font><font color="#E5E5E5"> it's indexed by I have HTTP proxy</font>

70
00:03:57,150 --> 00:04:03,269
logs what can I find in them and things

71
00:03:59,040 --> 00:04:08,819
like<font color="#CCCCCC"> that but done</font><font color="#E5E5E5"> one day</font><font color="#CCCCCC"> not too long</font>

72
00:04:03,269 --> 00:04:10,769
ago<font color="#E5E5E5"> I was looking through all</font><font color="#CCCCCC"> of the the</font>

73
00:04:08,819 --> 00:04:13,619
recipes<font color="#CCCCCC"> that</font><font color="#E5E5E5"> I've cataloged in there</font>

74
00:04:10,769 --> 00:04:16,820
just<font color="#E5E5E5"> to try to get an idea</font><font color="#CCCCCC"> of what some</font>

75
00:04:13,620 --> 00:04:21,630
<font color="#E5E5E5">of the data analytic techniques are</font>

76
00:04:16,820 --> 00:04:23,480
being<font color="#CCCCCC"> used</font><font color="#E5E5E5"> out in the field and I</font>

77
00:04:21,630 --> 00:04:25,780
noticed two things

78
00:04:23,480 --> 00:04:29,450
and one I<font color="#E5E5E5"> already kind</font><font color="#CCCCCC"> of knew was that</font>

79
00:04:25,780 --> 00:04:33,169
<font color="#E5E5E5">much of the threat hunting involved</font>

80
00:04:29,450 --> 00:04:38,060
finding some<font color="#E5E5E5"> kind of anomaly</font><font color="#CCCCCC"> or</font><font color="#E5E5E5"> outlier</font>

81
00:04:33,170 --> 00:04:42,260
<font color="#E5E5E5">in in some data set usually it's a</font>

82
00:04:38,060 --> 00:04:45,560
behavioral anomaly<font color="#CCCCCC"> but a lot of</font><font color="#E5E5E5"> these</font>

83
00:04:42,260 --> 00:04:48,500
are translated into numbers or<font color="#E5E5E5"> something</font>

84
00:04:45,560 --> 00:04:51,950
so that you can you<font color="#E5E5E5"> can use</font><font color="#CCCCCC"> mathematical</font>

85
00:04:48,500 --> 00:04:54,890
outlier techniques in theory<font color="#E5E5E5"> but what I</font>

86
00:04:51,950 --> 00:05:00,170
really<font color="#CCCCCC"> found was that in</font><font color="#E5E5E5"> the majority</font><font color="#CCCCCC"> of</font>

87
00:04:54,890 --> 00:05:02,000
cases<font color="#E5E5E5"> the</font><font color="#CCCCCC"> only outlier technique or the</font>

88
00:05:00,170 --> 00:05:04,340
only<font color="#E5E5E5"> anomaly detection technique that</font>

89
00:05:02,000 --> 00:05:08,450
<font color="#E5E5E5">was being used there was only one and</font>

90
00:05:04,340 --> 00:05:13,820
all<font color="#E5E5E5"> of the different recipes so I</font>

91
00:05:08,450 --> 00:05:15,590
thought<font color="#E5E5E5"> that is terrible not that it's</font>

92
00:05:13,820 --> 00:05:18,020
terrible that<font color="#E5E5E5"> there's one good technique</font>

93
00:05:15,590 --> 00:05:20,330
out there but it's terrible<font color="#CCCCCC"> that</font><font color="#E5E5E5"> we're</font>

94
00:05:18,020 --> 00:05:23,780
<font color="#E5E5E5">trying to fit this one technique into</font>

95
00:05:20,330 --> 00:05:25,849
all the<font color="#E5E5E5"> different ways that we would</font>

96
00:05:23,780 --> 00:05:29,140
<font color="#E5E5E5">want to detect anomalies so I decided</font>

97
00:05:25,850 --> 00:05:32,990
that I<font color="#CCCCCC"> should write a presentation</font><font color="#E5E5E5"> just</font>

98
00:05:29,140 --> 00:05:35,390
<font color="#CCCCCC">to</font><font color="#E5E5E5"> give a little</font><font color="#CCCCCC"> bit of in some cases of</font>

99
00:05:32,990 --> 00:05:37,940
reminder and in some cases some new

100
00:05:35,390 --> 00:05:40,039
techniques<font color="#CCCCCC"> that people</font><font color="#E5E5E5"> who are doing</font>

101
00:05:37,940 --> 00:05:43,870
<font color="#E5E5E5">data analysis for threat hunting can use</font>

102
00:05:40,040 --> 00:05:46,760
to<font color="#E5E5E5"> find bad guys in their data so that</font>

103
00:05:43,870 --> 00:05:49,100
that<font color="#E5E5E5"> is the primary purpose I</font><font color="#CCCCCC"> think the</font>

104
00:05:46,760 --> 00:05:51,590
secondary<font color="#E5E5E5"> purpose here at</font><font color="#CCCCCC"> Def Con</font>

105
00:05:49,100 --> 00:05:53,120
actually would<font color="#CCCCCC"> be also</font><font color="#E5E5E5"> for the folks</font>

106
00:05:51,590 --> 00:05:55,460
that<font color="#CCCCCC"> are not really</font><font color="#E5E5E5"> doing the data</font>

107
00:05:53,120 --> 00:05:59,060
analysis to find<font color="#E5E5E5"> the bad guys but are</font>

108
00:05:55,460 --> 00:06:01,310
<font color="#E5E5E5">actually the pretend bad guys</font><font color="#CCCCCC"> it may</font>

109
00:05:59,060 --> 00:06:04,400
give you a little<font color="#CCCCCC"> bit of insight on</font><font color="#E5E5E5"> some</font>

110
00:06:01,310 --> 00:06:07,910
of the ways and methods<font color="#E5E5E5"> that folks on</font>

111
00:06:04,400 --> 00:06:11,440
the on the blue side<font color="#E5E5E5"> might be using to</font>

112
00:06:07,910 --> 00:06:11,440
detect your activities

113
00:06:13,000 --> 00:06:18,980
come on go back<font color="#CCCCCC"> alright</font>

114
00:06:16,639 --> 00:06:20,510
I'm also<font color="#E5E5E5"> another one up</font><font color="#CCCCCC"> in</font><font color="#E5E5E5"> Rob because</font>

115
00:06:18,980 --> 00:06:25,120
not<font color="#CCCCCC"> only do I have</font><font color="#E5E5E5"> a cat picture and a</font>

116
00:06:20,510 --> 00:06:25,120
meme but they're the<font color="#E5E5E5"> same combine them</font>

117
00:06:26,260 --> 00:06:32,539
<font color="#CCCCCC">the first just start with a very brief</font>

118
00:06:30,100 --> 00:06:37,550
definition of what an outlier is and why

119
00:06:32,540 --> 00:06:39,980
we<font color="#CCCCCC"> care right so most</font><font color="#E5E5E5"> of the time and I</font>

120
00:06:37,550 --> 00:06:43,370
think<font color="#E5E5E5"> probably the everyone in this room</font>

121
00:06:39,980 --> 00:06:46,340
would<font color="#CCCCCC"> agree</font><font color="#E5E5E5"> with me I hope that when you</font>

122
00:06:43,370 --> 00:06:49,610
are<font color="#CCCCCC"> an attacker and a network whether</font>

123
00:06:46,340 --> 00:06:52,219
you're a legitimate<font color="#E5E5E5"> red team member a</font>

124
00:06:49,610 --> 00:06:56,330
pen tester or even an<font color="#CCCCCC"> actual threat</font>

125
00:06:52,220 --> 00:06:58,940
actor<font color="#E5E5E5"> even though you try really hard to</font>

126
00:06:56,330 --> 00:07:03,380
mimic the behavior<font color="#E5E5E5"> of a legitimate</font><font color="#CCCCCC"> user</font>

127
00:06:58,940 --> 00:07:06,530
in an environment<font color="#E5E5E5"> at some point you have</font>

128
00:07:03,380 --> 00:07:08,510
<font color="#CCCCCC">to</font><font color="#E5E5E5"> deviate</font><font color="#CCCCCC"> from</font><font color="#E5E5E5"> a legitimate users</font>

129
00:07:06,530 --> 00:07:14,239
behavior<font color="#E5E5E5"> in order to accomplish your</font>

130
00:07:08,510 --> 00:07:16,159
<font color="#E5E5E5">goals now the art of threat hunting the</font>

131
00:07:14,240 --> 00:07:19,370
way that I do it<font color="#CCCCCC"> anyway is to find</font><font color="#E5E5E5"> those</font>

132
00:07:16,160 --> 00:07:21,169
deviations<font color="#E5E5E5"> interpret them to see if we</font>

133
00:07:19,370 --> 00:07:26,090
<font color="#E5E5E5">think</font><font color="#CCCCCC"> that they're a malicious deviation</font>

134
00:07:21,169 --> 00:07:28,520
or not<font color="#E5E5E5"> and every time</font><font color="#CCCCCC"> that you deviate</font>

135
00:07:26,090 --> 00:07:35,119
<font color="#CCCCCC">from a normal</font><font color="#E5E5E5"> users behavior that's an</font>

136
00:07:28,520 --> 00:07:39,049
opportunity<font color="#E5E5E5"> for</font><font color="#CCCCCC"> us for detection let's</font>

137
00:07:35,120 --> 00:07:42,650
remember<font color="#E5E5E5"> I said</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> every threat hunt</font>

138
00:07:39,050 --> 00:07:44,810
that<font color="#CCCCCC"> I</font><font color="#E5E5E5"> catalogued pretty much had one</font>

139
00:07:42,650 --> 00:07:48,349
technique well this is the one technique

140
00:07:44,810 --> 00:07:51,350
<font color="#E5E5E5">for outliers</font><font color="#CCCCCC"> that everyone knows this</font>

141
00:07:48,350 --> 00:07:54,350
<font color="#E5E5E5">real name is called the least frequency</font>

142
00:07:51,350 --> 00:07:56,900
of occurrence analysis although<font color="#CCCCCC"> you will</font>

143
00:07:54,350 --> 00:07:59,270
sometimes<font color="#E5E5E5"> often hear it referred to as</font>

144
00:07:56,900 --> 00:08:01,489
stat counting or<font color="#E5E5E5"> stacking and there</font>

145
00:07:59,270 --> 00:08:04,549
might be some other terms as well<font color="#E5E5E5"> but</font>

146
00:08:01,490 --> 00:08:07,550
it's basically<font color="#CCCCCC"> very simple you have a</font>

147
00:08:04,550 --> 00:08:10,070
column of<font color="#E5E5E5"> data and you're looking at</font>

148
00:08:07,550 --> 00:08:12,440
<font color="#CCCCCC">that data</font><font color="#E5E5E5"> you count up</font><font color="#CCCCCC"> all the</font><font color="#E5E5E5"> unique</font>

149
00:08:10,070 --> 00:08:14,599
terms in that<font color="#CCCCCC"> data</font><font color="#E5E5E5"> and see how</font><font color="#CCCCCC"> many</font>

150
00:08:12,440 --> 00:08:17,240
times<font color="#E5E5E5"> each one occurs and then you sort</font>

151
00:08:14,600 --> 00:08:21,220
<font color="#E5E5E5">them by that count usually you're</font>

152
00:08:17,240 --> 00:08:24,730
looking<font color="#E5E5E5"> for the least common things</font>

153
00:08:21,220 --> 00:08:28,690
the<font color="#CCCCCC"> low-end so you do like an inverse</font>

154
00:08:24,730 --> 00:08:31,630
sort now here's an<font color="#CCCCCC"> example that I got</font>

155
00:08:28,690 --> 00:08:35,169
from<font color="#E5E5E5"> a publicly available insider threat</font>

156
00:08:31,630 --> 00:08:38,500
data set<font color="#CCCCCC"> that just says I wanted to find</font>

157
00:08:35,169 --> 00:08:42,340
<font color="#E5E5E5">the least common ly accessed files in</font>

158
00:08:38,500 --> 00:08:45,400
this data set<font color="#E5E5E5"> now the implicit</font>

159
00:08:42,340 --> 00:08:48,600
assumption<font color="#CCCCCC"> in this and pretty</font><font color="#E5E5E5"> much in</font>

160
00:08:45,400 --> 00:08:50,740
all least frequency of occurrence

161
00:08:48,600 --> 00:08:52,810
analysis is<font color="#CCCCCC"> that</font><font color="#E5E5E5"> anything that's</font>

162
00:08:50,740 --> 00:08:55,380
infrequent is automatically<font color="#E5E5E5"> considered</font>

163
00:08:52,810 --> 00:09:04,420
maybe not bad but at least suspicious in

164
00:08:55,380 --> 00:09:08,920
some cases<font color="#E5E5E5"> that's probably true there we</font>

165
00:09:04,420 --> 00:09:11,020
go so just<font color="#CCCCCC"> to give you</font><font color="#E5E5E5"> an idea if you've</font>

166
00:09:08,920 --> 00:09:13,089
never done<font color="#E5E5E5"> this or maybe it</font><font color="#CCCCCC"> has been a</font>

167
00:09:11,020 --> 00:09:16,630
while one of<font color="#CCCCCC"> the reasons</font><font color="#E5E5E5"> I</font><font color="#CCCCCC"> think this is</font>

168
00:09:13,090 --> 00:09:20,890
so popular<font color="#CCCCCC"> is that</font><font color="#E5E5E5"> it is super</font><font color="#CCCCCC"> easy to</font>

169
00:09:16,630 --> 00:09:23,530
<font color="#CCCCCC">perform</font><font color="#E5E5E5"> and most of the data analysis</font>

170
00:09:20,890 --> 00:09:26,860
tools that<font color="#E5E5E5"> you would have actually can</font>

171
00:09:23,530 --> 00:09:28,780
do this<font color="#E5E5E5"> built-in</font><font color="#CCCCCC"> you can see I have</font>

172
00:09:26,860 --> 00:09:32,650
<font color="#E5E5E5">three</font><font color="#CCCCCC"> different mechanisms here on the</font>

173
00:09:28,780 --> 00:09:34,660
on the slide for sequel just<font color="#E5E5E5"> a regular</font>

174
00:09:32,650 --> 00:09:37,390
relational database actually<font color="#CCCCCC"> does this</font>

175
00:09:34,660 --> 00:09:39,100
pretty well<font color="#E5E5E5"> if you're using</font><font color="#CCCCCC"> Splunk or</font>

176
00:09:37,390 --> 00:09:43,390
something<font color="#E5E5E5"> like</font><font color="#CCCCCC"> that you know</font><font color="#E5E5E5"> you have</font>

177
00:09:39,100 --> 00:09:45,190
you have this the stats module<font color="#E5E5E5"> that you</font>

178
00:09:43,390 --> 00:09:48,699
can invoke that<font color="#E5E5E5"> basically does this</font>

179
00:09:45,190 --> 00:09:51,430
exact thing<font color="#E5E5E5"> and a lot</font><font color="#CCCCCC"> of times the</font>

180
00:09:48,700 --> 00:09:53,830
things<font color="#CCCCCC"> that I do</font><font color="#E5E5E5"> I actually write custom</font>

181
00:09:51,430 --> 00:09:55,270
code<font color="#E5E5E5"> in Python</font><font color="#CCCCCC"> so you'll see a lot of</font>

182
00:09:53,830 --> 00:09:57,910
Python<font color="#E5E5E5"> or you'll see a little bit of</font>

183
00:09:55,270 --> 00:10:01,089
Python<font color="#CCCCCC"> in this presentation</font><font color="#E5E5E5"> and you can</font>

184
00:09:57,910 --> 00:10:05,230
<font color="#E5E5E5">see using data analysis module called</font>

185
00:10:01,089 --> 00:10:08,950
pandas just a very common data analysis

186
00:10:05,230 --> 00:10:11,500
in the scientific computing realm<font color="#CCCCCC"> it</font>

187
00:10:08,950 --> 00:10:15,370
basically does this in all three<font color="#CCCCCC"> of</font>

188
00:10:11,500 --> 00:10:17,560
these in about<font color="#E5E5E5"> one line so it's</font>

189
00:10:15,370 --> 00:10:21,990
conceptually very<font color="#E5E5E5"> easy to understand and</font>

190
00:10:17,560 --> 00:10:21,989
it's well supported<font color="#E5E5E5"> in most of the tools</font>

191
00:10:22,080 --> 00:10:28,180
so<font color="#E5E5E5"> I said that maybe this is a bad</font><font color="#CCCCCC"> idea</font>

192
00:10:25,089 --> 00:10:31,390
to have<font color="#CCCCCC"> it only one but there are some</font>

193
00:10:28,180 --> 00:10:33,339
strong use cases for<font color="#E5E5E5"> this this is an</font>

194
00:10:31,390 --> 00:10:34,310
example<font color="#CCCCCC"> of something that</font><font color="#E5E5E5"> would be</font>

195
00:10:33,339 --> 00:10:35,990
<font color="#CCCCCC">appropriate</font>

196
00:10:34,310 --> 00:10:39,619
if you are working with<font color="#E5E5E5"> first of all</font>

197
00:10:35,990 --> 00:10:42,860
enumerated data<font color="#E5E5E5"> that is not numeric data</font>

198
00:10:39,620 --> 00:10:46,580
<font color="#E5E5E5">that would have and you know potentially</font>

199
00:10:42,860 --> 00:10:48,140
infinite number of possible<font color="#CCCCCC"> values</font><font color="#E5E5E5"> but</font>

200
00:10:46,580 --> 00:10:51,980
you're working<font color="#CCCCCC"> with enumerated data</font>

201
00:10:48,140 --> 00:10:55,279
<font color="#E5E5E5">usually strings but sometimes things</font>

202
00:10:51,980 --> 00:10:58,040
like TCP<font color="#CCCCCC"> port numbers or</font><font color="#E5E5E5"> something which</font>

203
00:10:55,279 --> 00:11:01,250
are not really<font color="#E5E5E5"> integers even though they</font>

204
00:10:58,040 --> 00:11:03,730
look<font color="#CCCCCC"> like it so they should be</font>

205
00:11:01,250 --> 00:11:06,800
enumerated<font color="#E5E5E5"> or maybe categorical values</font>

206
00:11:03,730 --> 00:11:09,110
<font color="#CCCCCC">also you have to really think hard</font>

207
00:11:06,800 --> 00:11:11,120
before<font color="#E5E5E5"> you try to use</font><font color="#CCCCCC"> this if I find</font>

208
00:11:09,110 --> 00:11:13,339
something<font color="#E5E5E5"> that's rare do I really</font><font color="#CCCCCC"> think</font>

209
00:11:11,120 --> 00:11:15,380
<font color="#CCCCCC">that that's suspicious</font><font color="#E5E5E5"> you really have</font>

210
00:11:13,339 --> 00:11:18,710
<font color="#E5E5E5">to kind of</font><font color="#CCCCCC"> evaluate the context in which</font>

211
00:11:15,380 --> 00:11:23,360
you're using<font color="#E5E5E5"> this and but on the other</font>

212
00:11:18,710 --> 00:11:25,279
<font color="#CCCCCC">hand is very easy to implement</font><font color="#E5E5E5"> so that's</font>

213
00:11:23,360 --> 00:11:27,760
probably why it's so popular<font color="#CCCCCC"> I will say</font>

214
00:11:25,279 --> 00:11:30,020
it<font color="#CCCCCC"> has a number of weaknesses though</font>

215
00:11:27,760 --> 00:11:32,330
some of the other techniques<font color="#E5E5E5"> will talk</font>

216
00:11:30,020 --> 00:11:33,650
about address these<font color="#CCCCCC"> weaknesses but first</font>

217
00:11:32,330 --> 00:11:34,040
of all<font color="#E5E5E5"> if you're working with numeric</font>

218
00:11:33,650 --> 00:11:36,439
data

219
00:11:34,040 --> 00:11:39,740
<font color="#CCCCCC">you're probably</font><font color="#E5E5E5"> this would be a bad use</font>

220
00:11:36,440 --> 00:11:42,890
for<font color="#E5E5E5"> Hugh</font><font color="#CCCCCC"> Marek data also if you have</font>

221
00:11:39,740 --> 00:11:44,630
more than one field per data point<font color="#E5E5E5"> so if</font>

222
00:11:42,890 --> 00:11:48,189
you think<font color="#E5E5E5"> of like maybe a database with</font>

223
00:11:44,630 --> 00:11:53,060
multiple<font color="#E5E5E5"> rows or multiple fields you can</font>

224
00:11:48,190 --> 00:11:55,970
<font color="#CCCCCC">actually do this</font><font color="#E5E5E5"> with</font><font color="#CCCCCC"> two three four</font>

225
00:11:53,060 --> 00:11:59,030
<font color="#E5E5E5">fields but as you get up to some more</font>

226
00:11:55,970 --> 00:12:00,200
complex<font color="#CCCCCC"> things the more different fields</font>

227
00:11:59,030 --> 00:12:02,449
<font color="#E5E5E5">that you have for each</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> your data</font>

228
00:12:00,200 --> 00:12:06,830
points<font color="#CCCCCC"> the harder it is to do</font><font color="#E5E5E5"> this kind</font>

229
00:12:02,450 --> 00:12:08,810
of LFO or<font color="#CCCCCC"> stat counting analysis I also</font>

230
00:12:06,830 --> 00:12:11,140
find it's kind of<font color="#E5E5E5"> hard</font><font color="#CCCCCC"> to adapt to</font>

231
00:12:08,810 --> 00:12:13,849
automated alerting

232
00:12:11,140 --> 00:12:16,310
because you're just<font color="#E5E5E5"> looking</font><font color="#CCCCCC"> at a sorted</font>

233
00:12:13,850 --> 00:12:18,200
list<font color="#CCCCCC"> and you</font><font color="#E5E5E5"> have to if you're going to</font>

234
00:12:16,310 --> 00:12:20,689
make it an automated alert at some point

235
00:12:18,200 --> 00:12:23,180
and<font color="#E5E5E5"> up by the way I think that's the</font>

236
00:12:20,690 --> 00:12:25,910
goal<font color="#E5E5E5"> of</font><font color="#CCCCCC"> most</font><font color="#E5E5E5"> thread hunting is to</font><font color="#CCCCCC"> try to</font>

237
00:12:23,180 --> 00:12:27,620
figure out the thresholds<font color="#E5E5E5"> and the</font>

238
00:12:25,910 --> 00:12:31,819
signatures for automated alerting<font color="#E5E5E5"> I'm</font>

239
00:12:27,620 --> 00:12:34,130
not anti signature person but this is a

240
00:12:31,820 --> 00:12:36,830
good<font color="#E5E5E5"> way usually to get signatures</font>

241
00:12:34,130 --> 00:12:39,290
through<font color="#CCCCCC"> threat hunting figuring out what</font>

242
00:12:36,830 --> 00:12:40,790
those values<font color="#E5E5E5"> should be for automated</font>

243
00:12:39,290 --> 00:12:43,040
alerting but it's hard<font color="#E5E5E5"> to do in this</font>

244
00:12:40,790 --> 00:12:44,589
case because<font color="#CCCCCC"> you just have a sorted</font><font color="#E5E5E5"> list</font>

245
00:12:43,040 --> 00:12:46,230
and

246
00:12:44,590 --> 00:12:49,620
[Music]

247
00:12:46,230 --> 00:12:53,470
it doesn't necessarily<font color="#CCCCCC"> follow that a</font>

248
00:12:49,620 --> 00:12:56,500
value of anything<font color="#CCCCCC"> 5 or below is always</font>

249
00:12:53,470 --> 00:13:00,480
suspicious<font color="#CCCCCC"> it's just a sorted list you</font>

250
00:12:56,500 --> 00:13:04,630
see this<font color="#E5E5E5"> turned into a lot of dashboards</font>

251
00:13:00,480 --> 00:13:06,100
because as a human<font color="#E5E5E5"> we can we can</font><font color="#CCCCCC"> have</font>

252
00:13:04,630 --> 00:13:07,360
that list prepared<font color="#E5E5E5"> for us and then we</font>

253
00:13:06,100 --> 00:13:08,620
<font color="#E5E5E5">can look at the</font><font color="#CCCCCC"> dashboard and</font><font color="#E5E5E5"> kind of</font>

254
00:13:07,360 --> 00:13:10,270
<font color="#E5E5E5">make some judgments but when you're</font>

255
00:13:08,620 --> 00:13:11,500
thinking<font color="#E5E5E5"> about automated alerting in a</font>

256
00:13:10,270 --> 00:13:14,530
sim or<font color="#E5E5E5"> something like that</font>

257
00:13:11,500 --> 00:13:16,420
it's hard to<font color="#CCCCCC"> do</font><font color="#E5E5E5"> with</font><font color="#CCCCCC"> this</font><font color="#E5E5E5"> also</font><font color="#CCCCCC"> even</font><font color="#E5E5E5"> as a</font>

258
00:13:14,530 --> 00:13:18,490
human in a dashboard<font color="#CCCCCC"> working with the</font>

259
00:13:16,420 --> 00:13:23,140
dashboard<font color="#CCCCCC"> we tend to</font><font color="#E5E5E5"> have a really long</font>

260
00:13:18,490 --> 00:13:25,870
tail<font color="#E5E5E5"> of results from</font><font color="#CCCCCC"> LFO analysis you</font>

261
00:13:23,140 --> 00:13:29,530
might see in a big organization<font color="#CCCCCC"> if you</font>

262
00:13:25,870 --> 00:13:31,060
actually did that<font color="#E5E5E5"> example</font><font color="#CCCCCC"> I had</font><font color="#E5E5E5"> about</font>

263
00:13:29,530 --> 00:13:33,100
the files that were least frequently

264
00:13:31,060 --> 00:13:34,569
accessed<font color="#E5E5E5"> you might have a thousand files</font>

265
00:13:33,100 --> 00:13:40,300
every day that<font color="#CCCCCC"> only had</font><font color="#E5E5E5"> one or two</font>

266
00:13:34,570 --> 00:13:42,850
accesses<font color="#CCCCCC"> that you'd have to check now on</font>

267
00:13:40,300 --> 00:13:45,280
the bottom<font color="#E5E5E5"> here you'll see I have kind</font>

268
00:13:42,850 --> 00:13:47,860
of a<font color="#CCCCCC"> problem</font><font color="#E5E5E5"> statement this</font><font color="#CCCCCC"> is a more</font><font color="#E5E5E5"> or</font>

269
00:13:45,280 --> 00:13:52,209
<font color="#CCCCCC">less like</font><font color="#E5E5E5"> a a model</font><font color="#CCCCCC"> of what I</font><font color="#E5E5E5"> think a</font>

270
00:13:47,860 --> 00:13:55,510
good<font color="#E5E5E5"> example of a use case</font><font color="#CCCCCC"> for stat</font>

271
00:13:52,210 --> 00:13:57,010
counting or LFO would be so I've never

272
00:13:55,510 --> 00:13:58,510
seen<font color="#E5E5E5"> this service before in any of my</font>

273
00:13:57,010 --> 00:14:01,480
hundred thousand systems in my

274
00:13:58,510 --> 00:14:05,050
environment<font color="#E5E5E5"> so it's probably kind of</font>

275
00:14:01,480 --> 00:14:06,970
suspicious<font color="#E5E5E5"> the closer that you are to</font>

276
00:14:05,050 --> 00:14:10,000
that kind of statement<font color="#E5E5E5"> the more likely</font>

277
00:14:06,970 --> 00:14:11,620
it is<font color="#CCCCCC"> that this</font><font color="#E5E5E5"> is a appropriate</font>

278
00:14:10,000 --> 00:14:13,540
analysis technique for you but if you're

279
00:14:11,620 --> 00:14:15,460
the farther you<font color="#CCCCCC"> get from that statement</font>

280
00:14:13,540 --> 00:14:17,010
<font color="#E5E5E5">the more likely it is that you</font><font color="#CCCCCC"> should be</font>

281
00:14:15,460 --> 00:14:23,020
<font color="#CCCCCC">looking</font><font color="#E5E5E5"> for</font><font color="#CCCCCC"> something else</font>

282
00:14:17,010 --> 00:14:24,580
well what<font color="#E5E5E5"> else the next</font><font color="#CCCCCC"> two techniques</font>

283
00:14:23,020 --> 00:14:29,380
<font color="#E5E5E5">I'm going to show you are a little bit</font>

284
00:14:24,580 --> 00:14:33,040
of a simple visualization<font color="#E5E5E5"> the human</font>

285
00:14:29,380 --> 00:14:36,070
brain is really surprisingly good at

286
00:14:33,040 --> 00:14:38,050
<font color="#CCCCCC">processing large amounts of data if you</font>

287
00:14:36,070 --> 00:14:42,520
can only<font color="#E5E5E5"> present it in the correct way</font>

288
00:14:38,050 --> 00:14:46,569
in most cases the in many cases anyway

289
00:14:42,520 --> 00:14:47,890
<font color="#E5E5E5">the correct way will be to make use of</font>

290
00:14:46,570 --> 00:14:50,020
some of<font color="#CCCCCC"> our</font><font color="#E5E5E5"> built-in</font>

291
00:14:47,890 --> 00:14:56,189
pattern recognition that<font color="#E5E5E5"> we've</font><font color="#CCCCCC"> developed</font>

292
00:14:50,020 --> 00:14:56,189
over thousands<font color="#CCCCCC"> of</font><font color="#E5E5E5"> years</font>

293
00:14:57,260 --> 00:15:02,220
if you actually<font color="#CCCCCC"> look at that</font><font color="#E5E5E5"> that's just</font>

294
00:15:00,180 --> 00:15:07,829
<font color="#CCCCCC">a piece of</font><font color="#E5E5E5"> toast</font><font color="#CCCCCC"> right but your brain</font>

295
00:15:02,220 --> 00:15:11,340
probably<font color="#CCCCCC"> can not help</font><font color="#E5E5E5"> but see what Elvis</font>

296
00:15:07,830 --> 00:15:13,370
<font color="#E5E5E5">Elvis on toast</font><font color="#CCCCCC"> and if you didn't see it</font>

297
00:15:11,340 --> 00:15:17,960
<font color="#CCCCCC">before you</font><font color="#E5E5E5"> probably can't unsee it now</font>

298
00:15:13,370 --> 00:15:20,820
your brain your brain<font color="#E5E5E5"> is</font><font color="#CCCCCC"> very fine-tuned</font>

299
00:15:17,960 --> 00:15:22,710
<font color="#CCCCCC">to get information</font><font color="#E5E5E5"> visually and process</font>

300
00:15:20,820 --> 00:15:27,750
it efficiently so let's make use of that

301
00:15:22,710 --> 00:15:29,940
in our throat<font color="#E5E5E5"> honey so the first</font>

302
00:15:27,750 --> 00:15:32,640
technique<font color="#E5E5E5"> I want to talk Wow</font>

303
00:15:29,940 --> 00:15:34,350
first technique I want<font color="#E5E5E5"> to</font><font color="#CCCCCC"> talk about you</font>

304
00:15:32,640 --> 00:15:36,660
probably<font color="#E5E5E5"> all learned in like high school</font>

305
00:15:34,350 --> 00:15:40,560
science<font color="#E5E5E5"> or math class it's just a</font>

306
00:15:36,660 --> 00:15:44,370
<font color="#E5E5E5">general</font><font color="#CCCCCC"> scatterplot but it's amazing</font>

307
00:15:40,560 --> 00:15:46,890
<font color="#E5E5E5">that I I never once saw a scatterplot</font>

308
00:15:44,370 --> 00:15:50,040
show up on<font color="#CCCCCC"> thread hunting net except for</font>

309
00:15:46,890 --> 00:15:54,150
I contributed one after I realized<font color="#E5E5E5"> that</font>

310
00:15:50,040 --> 00:15:56,880
this<font color="#E5E5E5"> this was not on there</font><font color="#CCCCCC"> so it is on</font>

311
00:15:54,150 --> 00:16:00,890
there there is one<font color="#E5E5E5"> there now but this is</font>

312
00:15:56,880 --> 00:16:05,900
the<font color="#E5E5E5"> result of a analysis I did</font><font color="#CCCCCC"> on some</font>

313
00:16:00,890 --> 00:16:08,400
test lab simulation data<font color="#E5E5E5"> to try to find</font>

314
00:16:05,900 --> 00:16:12,030
<font color="#E5E5E5">hosts that were performing data</font>

315
00:16:08,400 --> 00:16:16,020
exfiltration<font color="#E5E5E5"> by using a metric</font><font color="#CCCCCC"> called</font>

316
00:16:12,030 --> 00:16:17,880
the<font color="#CCCCCC"> producer-consumer ratio which</font><font color="#E5E5E5"> I have</font>

317
00:16:16,020 --> 00:16:20,100
a blog<font color="#CCCCCC"> post on</font><font color="#E5E5E5"> this you can look at my</font>

318
00:16:17,880 --> 00:16:22,350
blog<font color="#E5E5E5"> online and read the whole</font><font color="#CCCCCC"> thing if</font>

319
00:16:20,100 --> 00:16:24,830
you're interested<font color="#E5E5E5"> the the basic idea</font>

320
00:16:22,350 --> 00:16:28,170
though is<font color="#E5E5E5"> most computers on the network</font>

321
00:16:24,830 --> 00:16:30,060
<font color="#CCCCCC">act the same in terms of the number of</font>

322
00:16:28,170 --> 00:16:31,439
<font color="#CCCCCC">bytes they receive from the</font><font color="#E5E5E5"> internet and</font>

323
00:16:30,060 --> 00:16:35,339
<font color="#E5E5E5">the number of bytes they send to the</font>

324
00:16:31,440 --> 00:16:37,860
<font color="#CCCCCC">Internet they're roughly</font><font color="#E5E5E5"> the same over</font>

325
00:16:35,340 --> 00:16:40,410
any given<font color="#E5E5E5"> time window so basically what</font>

326
00:16:37,860 --> 00:16:43,440
I<font color="#CCCCCC"> did is we had a</font><font color="#E5E5E5"> method to compute</font><font color="#CCCCCC"> that</font>

327
00:16:40,410 --> 00:16:46,079
<font color="#E5E5E5">can</font><font color="#CCCCCC"> producer-consumer ratio</font><font color="#E5E5E5"> for one week</font>

328
00:16:43,440 --> 00:16:47,580
of activity for<font color="#E5E5E5"> each computer each dot</font>

329
00:16:46,080 --> 00:16:51,960
on there is<font color="#E5E5E5"> one computer</font><font color="#CCCCCC"> in the test lab</font>

330
00:16:47,580 --> 00:16:53,370
<font color="#E5E5E5">and</font><font color="#CCCCCC"> I computed it for the subsequent</font>

331
00:16:51,960 --> 00:16:56,820
<font color="#CCCCCC">week so I've</font><font color="#E5E5E5"> computed it for two weeks</font>

332
00:16:53,370 --> 00:17:01,080
<font color="#CCCCCC">and the y-axis is the previous week and</font>

333
00:16:56,820 --> 00:17:04,110
the sorry the<font color="#E5E5E5"> x-axis is</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> previous</font>

334
00:17:01,080 --> 00:17:06,060
week and the<font color="#CCCCCC"> y-axis is the current week</font>

335
00:17:04,109 --> 00:17:08,579
and I'm looking for<font color="#E5E5E5"> data exfiltration in</font>

336
00:17:06,060 --> 00:17:13,349
the current week<font color="#E5E5E5"> so if the host doesn't</font>

337
00:17:08,579 --> 00:17:15,780
change all the dots line<font color="#E5E5E5"> up on this line</font>

338
00:17:13,349 --> 00:17:18,500
<font color="#E5E5E5">and</font><font color="#CCCCCC"> you can see we do have a lot of</font><font color="#E5E5E5"> dots</font>

339
00:17:15,780 --> 00:17:22,950
that<font color="#E5E5E5"> line up pretty close to</font><font color="#CCCCCC"> that line</font>

340
00:17:18,500 --> 00:17:25,680
now if the host does change in a way

341
00:17:22,950 --> 00:17:27,390
that is positive<font color="#E5E5E5"> the ratio goes</font><font color="#CCCCCC"> positive</font>

342
00:17:25,680 --> 00:17:29,460
if you're sending<font color="#E5E5E5"> more data to the</font>

343
00:17:27,390 --> 00:17:31,980
<font color="#CCCCCC">Internet</font><font color="#E5E5E5"> so we have things</font><font color="#CCCCCC"> that fall</font>

344
00:17:29,460 --> 00:17:34,080
above the line for some reason we also

345
00:17:31,980 --> 00:17:35,790
have a few<font color="#E5E5E5"> hosts that downloaded a whole</font>

346
00:17:34,080 --> 00:17:37,379
lot<font color="#E5E5E5"> more</font><font color="#CCCCCC"> of information from the</font>

347
00:17:35,790 --> 00:17:40,139
<font color="#E5E5E5">internet than</font><font color="#CCCCCC"> they did previously</font><font color="#E5E5E5"> so</font>

348
00:17:37,380 --> 00:17:41,700
they have<font color="#E5E5E5"> negative outliers as well in</font>

349
00:17:40,140 --> 00:17:44,220
this case<font color="#E5E5E5"> since we're looking for</font><font color="#CCCCCC"> data</font>

350
00:17:41,700 --> 00:17:48,780
exfiltration<font color="#CCCCCC"> we're primarily concerned</font>

351
00:17:44,220 --> 00:17:50,400
with<font color="#E5E5E5"> the positive outliers</font><font color="#CCCCCC"> so and you</font>

352
00:17:48,780 --> 00:17:53,910
can you<font color="#CCCCCC"> can see</font><font color="#E5E5E5"> actually our most</font>

353
00:17:50,400 --> 00:18:01,950
outlier<font color="#CCCCCC"> e host</font><font color="#E5E5E5"> did</font><font color="#CCCCCC"> really turn out</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> be</font>

354
00:17:53,910 --> 00:18:03,630
our<font color="#E5E5E5"> data exfiltration host so before</font>

355
00:18:01,950 --> 00:18:04,890
when<font color="#E5E5E5"> I talked about LFO I showed you</font>

356
00:18:03,630 --> 00:18:07,080
<font color="#E5E5E5">three different ways</font><font color="#CCCCCC"> you could do</font><font color="#E5E5E5"> it in</font>

357
00:18:04,890 --> 00:18:09,150
different<font color="#E5E5E5"> tools most of the tools</font><font color="#CCCCCC"> that</font>

358
00:18:07,080 --> 00:18:11,909
I'm aware of<font color="#CCCCCC"> today don't really have</font>

359
00:18:09,150 --> 00:18:15,150
this like as a<font color="#E5E5E5"> built-in thing that you</font>

360
00:18:11,910 --> 00:18:17,040
can<font color="#E5E5E5"> just call and and do it</font><font color="#CCCCCC"> but</font><font color="#E5E5E5"> I</font>

361
00:18:15,150 --> 00:18:19,410
typically do a lot of<font color="#E5E5E5"> my things</font><font color="#CCCCCC"> in</font>

362
00:18:17,040 --> 00:18:21,300
<font color="#E5E5E5">Python anyway so I thought I would</font><font color="#CCCCCC"> just</font>

363
00:18:19,410 --> 00:18:24,240
show<font color="#CCCCCC"> in</font><font color="#E5E5E5"> this is not</font><font color="#CCCCCC"> a quiz you're not</font>

364
00:18:21,300 --> 00:18:26,129
going to have to reproduce this<font color="#CCCCCC"> in</font>

365
00:18:24,240 --> 00:18:29,190
running code later but I just<font color="#CCCCCC"> wanted</font><font color="#E5E5E5"> to</font>

366
00:18:26,130 --> 00:18:31,500
give you<font color="#CCCCCC"> an idea</font><font color="#E5E5E5"> of kind of how what the</font>

367
00:18:29,190 --> 00:18:34,290
level of<font color="#CCCCCC"> effort is to produce</font><font color="#E5E5E5"> a</font><font color="#CCCCCC"> scatter</font>

368
00:18:31,500 --> 00:18:36,840
<font color="#CCCCCC">plot</font><font color="#E5E5E5"> it's not really difficult</font><font color="#CCCCCC"> I'm using</font>

369
00:18:34,290 --> 00:18:39,090
a library<font color="#E5E5E5"> called plot</font><font color="#CCCCCC"> Li</font><font color="#E5E5E5"> on mine but it</font>

370
00:18:36,840 --> 00:18:42,020
even gets simpler if you use like a<font color="#CCCCCC"> mat</font>

371
00:18:39,090 --> 00:18:45,149
<font color="#E5E5E5">plot</font><font color="#CCCCCC"> live or something like that but</font>

372
00:18:42,020 --> 00:18:48,110
<font color="#E5E5E5">really we</font><font color="#CCCCCC"> only have here's all of our</font>

373
00:18:45,150 --> 00:18:52,910
data<font color="#CCCCCC"> the X points and the Y points and</font>

374
00:18:48,110 --> 00:18:57,060
we call I plot and it does the thing

375
00:18:52,910 --> 00:18:59,270
there's actually no real reason<font color="#CCCCCC"> that as</font>

376
00:18:57,060 --> 00:19:02,580
a<font color="#CCCCCC"> threat hunter</font><font color="#E5E5E5"> you can't produce a</font>

377
00:18:59,270 --> 00:19:04,830
scatter plot<font color="#CCCCCC"> in just a few seconds</font><font color="#E5E5E5"> if</font>

378
00:19:02,580 --> 00:19:07,790
you<font color="#CCCCCC"> really need the scatter plot it's</font>

379
00:19:04,830 --> 00:19:07,790
pretty easy to<font color="#E5E5E5"> do</font>

380
00:19:10,520 --> 00:19:14,940
so scatterplots<font color="#CCCCCC"> use-cases</font>

381
00:19:13,169 --> 00:19:18,020
<font color="#CCCCCC">scatterplots are really good when you</font>

382
00:19:14,940 --> 00:19:20,880
<font color="#CCCCCC">have numeric data</font><font color="#E5E5E5"> that you want to</font>

383
00:19:18,020 --> 00:19:26,090
compare on two<font color="#E5E5E5"> axes so you</font><font color="#CCCCCC"> basically</font>

384
00:19:20,880 --> 00:19:30,360
<font color="#E5E5E5">have two numbers</font><font color="#CCCCCC"> the malicious data</font>

385
00:19:26,090 --> 00:19:33,389
would<font color="#CCCCCC"> be assumed to violate some clear</font>

386
00:19:30,360 --> 00:19:36,299
<font color="#CCCCCC">correlation so on mine the correlation</font>

387
00:19:33,390 --> 00:19:38,580
<font color="#CCCCCC">was they should go on a straight line</font><font color="#E5E5E5"> if</font>

388
00:19:36,299 --> 00:19:40,260
there's no<font color="#E5E5E5"> change that may not always be</font>

389
00:19:38,580 --> 00:19:42,360
<font color="#E5E5E5">the</font><font color="#CCCCCC"> case</font><font color="#E5E5E5"> sometimes you'll see things</font>

390
00:19:40,260 --> 00:19:43,620
<font color="#CCCCCC">like oh I have a cluster</font><font color="#E5E5E5"> of dots over</font>

391
00:19:42,360 --> 00:19:45,299
<font color="#E5E5E5">here</font><font color="#CCCCCC"> and then I</font><font color="#E5E5E5"> have a few dots</font>

392
00:19:43,620 --> 00:19:46,918
<font color="#E5E5E5">elsewhere that</font><font color="#CCCCCC"> are out of the cluster</font>

393
00:19:45,299 --> 00:19:49,200
<font color="#E5E5E5">those are the ones violating some</font>

394
00:19:46,919 --> 00:19:52,140
correlation just depending on<font color="#E5E5E5"> what</font>

395
00:19:49,200 --> 00:19:55,110
<font color="#CCCCCC">you're</font><font color="#E5E5E5"> looking for the pattern that it</font>

396
00:19:52,140 --> 00:19:57,510
you see might be visually different<font color="#E5E5E5"> but</font>

397
00:19:55,110 --> 00:19:59,750
you'll be<font color="#E5E5E5"> able to hopefully see the</font>

398
00:19:57,510 --> 00:20:02,549
outliers<font color="#E5E5E5"> kind of visually very quickly</font>

399
00:19:59,750 --> 00:20:05,070
<font color="#E5E5E5">and sometimes you just need to test</font>

400
00:20:02,549 --> 00:20:07,049
whether the correlation even exists<font color="#E5E5E5"> at</font>

401
00:20:05,070 --> 00:20:09,480
all like you expect<font color="#E5E5E5"> that there might be</font>

402
00:20:07,049 --> 00:20:10,679
a correlation<font color="#E5E5E5"> or possibly even you're</font>

403
00:20:09,480 --> 00:20:12,299
<font color="#E5E5E5">not even sure if there's a correlation</font>

404
00:20:10,679 --> 00:20:15,270
<font color="#E5E5E5">you just have a bunch of data</font><font color="#CCCCCC"> points to</font>

405
00:20:12,299 --> 00:20:16,830
<font color="#E5E5E5">try out and you want</font><font color="#CCCCCC"> to see if there is</font>

406
00:20:15,270 --> 00:20:19,200
<font color="#CCCCCC">an</font><font color="#E5E5E5"> e correlation you can throw them in a</font>

407
00:20:16,830 --> 00:20:21,059
scatter plot<font color="#CCCCCC"> its scatter plots are great</font>

408
00:20:19,200 --> 00:20:23,130
when<font color="#CCCCCC"> working with numeric</font><font color="#E5E5E5"> data but</font>

409
00:20:21,059 --> 00:20:25,879
they're kind<font color="#E5E5E5"> of weak for some things too</font>

410
00:20:23,130 --> 00:20:28,500
so the the things that you would use

411
00:20:25,880 --> 00:20:30,840
<font color="#CCCCCC">stat counting for</font><font color="#E5E5E5"> a</font><font color="#CCCCCC"> numerical or</font>

412
00:20:28,500 --> 00:20:33,870
enumerated<font color="#CCCCCC"> data really is</font><font color="#E5E5E5"> difficult to</font>

413
00:20:30,840 --> 00:20:35,879
do in a scatter plot<font color="#CCCCCC"> and it's possible</font>

414
00:20:33,870 --> 00:20:37,799
<font color="#E5E5E5">you can convert them</font><font color="#CCCCCC"> to numb numeric</font>

415
00:20:35,880 --> 00:20:39,840
values and plot<font color="#E5E5E5"> them but it's not really</font>

416
00:20:37,799 --> 00:20:42,330
<font color="#E5E5E5">clear</font><font color="#CCCCCC"> that that's usually a useful thing</font>

417
00:20:39,840 --> 00:20:44,010
to<font color="#E5E5E5"> do so if you're working with non</font>

418
00:20:42,330 --> 00:20:48,600
numeric data you're probably not<font color="#E5E5E5"> doing</font>

419
00:20:44,010 --> 00:20:52,890
scatter plots<font color="#CCCCCC"> sometimes you'll find</font><font color="#E5E5E5"> that</font>

420
00:20:48,600 --> 00:20:54,870
the<font color="#CCCCCC"> values</font><font color="#E5E5E5"> have weak or no correlation</font>

421
00:20:52,890 --> 00:20:56,279
you might<font color="#E5E5E5"> throw up</font><font color="#CCCCCC"> in a scatter plot and</font>

422
00:20:54,870 --> 00:20:58,678
<font color="#E5E5E5">find that</font><font color="#CCCCCC"> they're just randomly</font>

423
00:20:56,279 --> 00:21:00,029
distributed<font color="#E5E5E5"> around</font><font color="#CCCCCC"> that's ok</font><font color="#E5E5E5"> you found</font>

424
00:20:58,679 --> 00:21:02,580
something<font color="#E5E5E5"> that you didn't</font><font color="#CCCCCC"> know before</font>

425
00:21:00,029 --> 00:21:05,700
<font color="#CCCCCC">but it may not</font><font color="#E5E5E5"> be too</font><font color="#CCCCCC"> helpful to you all</font>

426
00:21:02,580 --> 00:21:08,668
the time<font color="#CCCCCC"> and sometimes</font><font color="#E5E5E5"> if you need to</font>

427
00:21:05,700 --> 00:21:10,710
compare<font color="#E5E5E5"> more than two or three numbers</font>

428
00:21:08,669 --> 00:21:12,990
so<font color="#E5E5E5"> you can kind of do a</font><font color="#CCCCCC"> three</font>

429
00:21:10,710 --> 00:21:15,570
<font color="#CCCCCC">dimensional scatter plot if you are a</font>

430
00:21:12,990 --> 00:21:17,639
little bit<font color="#CCCCCC"> creative</font><font color="#E5E5E5"> so you can compare</font>

431
00:21:15,570 --> 00:21:20,908
three numbers at a<font color="#CCCCCC"> time but</font><font color="#E5E5E5"> if you get</font>

432
00:21:17,639 --> 00:21:22,620
past<font color="#CCCCCC"> that you really in the</font><font color="#E5E5E5"> fourth</font>

433
00:21:20,909 --> 00:21:25,350
dimensional kind of doctor

434
00:21:22,620 --> 00:21:30,750
realm<font color="#CCCCCC"> a little bit hard to visualize</font>

435
00:21:25,350 --> 00:21:36,480
that unless you<font color="#E5E5E5"> are a Time Lord</font><font color="#CCCCCC"> I got</font>

436
00:21:30,750 --> 00:21:38,580
one last<font color="#E5E5E5"> that was good so again here's a</font>

437
00:21:36,480 --> 00:21:41,340
kind<font color="#E5E5E5"> of a like an ideal problem</font>

438
00:21:38,580 --> 00:21:43,320
statement for one example of why<font color="#CCCCCC"> you</font>

439
00:21:41,340 --> 00:21:45,300
would<font color="#E5E5E5"> use the</font><font color="#CCCCCC"> scatterplot so most users</font>

440
00:21:43,320 --> 00:21:47,309
<font color="#CCCCCC">don't change upload habits often so</font>

441
00:21:45,300 --> 00:21:50,309
benign<font color="#CCCCCC"> activity</font><font color="#E5E5E5"> should fall close to</font><font color="#CCCCCC"> the</font>

442
00:21:47,309 --> 00:21:54,180
no change line right<font color="#E5E5E5"> so this one's a</font>

443
00:21:50,309 --> 00:21:56,428
<font color="#E5E5E5">little bit</font><font color="#CCCCCC"> more open-ended</font><font color="#E5E5E5"> in than the</font>

444
00:21:54,180 --> 00:21:59,550
<font color="#CCCCCC">snack counting</font><font color="#E5E5E5"> version but in general</font>

445
00:21:56,429 --> 00:22:01,020
the closer again the closer you are to a

446
00:21:59,550 --> 00:22:04,020
statement<font color="#E5E5E5"> kind of like this the more</font>

447
00:22:01,020 --> 00:22:05,010
<font color="#E5E5E5">likely it is instead that scatter plots</font>

448
00:22:04,020 --> 00:22:07,470
are going to be<font color="#E5E5E5"> good for you</font>

449
00:22:05,010 --> 00:22:09,870
all<font color="#E5E5E5"> right that was the end of the</font>

450
00:22:07,470 --> 00:22:12,450
<font color="#E5E5E5">science class review of scatter plots</font>

451
00:22:09,870 --> 00:22:14,969
<font color="#CCCCCC">let's talk about something that you may</font>

452
00:22:12,450 --> 00:22:16,350
<font color="#E5E5E5">or may</font><font color="#CCCCCC"> not</font><font color="#E5E5E5"> have heard of before probably</font>

453
00:22:14,970 --> 00:22:18,420
<font color="#CCCCCC">if you have a statistics background</font>

454
00:22:16,350 --> 00:22:20,730
<font color="#E5E5E5">you've seen box and whisker plots but if</font>

455
00:22:18,420 --> 00:22:25,020
you have never taken<font color="#E5E5E5"> statistics class</font>

456
00:22:20,730 --> 00:22:27,210
these might be kind of<font color="#E5E5E5"> new to you a box</font>

457
00:22:25,020 --> 00:22:31,460
and<font color="#E5E5E5"> whisker plot is basically</font><font color="#CCCCCC"> just a way</font>

458
00:22:27,210 --> 00:22:34,559
<font color="#CCCCCC">of showing with one</font><font color="#E5E5E5"> column of numbers</font>

459
00:22:31,460 --> 00:22:36,710
kind<font color="#E5E5E5"> of the shape of the</font><font color="#CCCCCC"> distribution</font><font color="#E5E5E5"> do</font>

460
00:22:34,559 --> 00:22:39,090
they all cluster<font color="#E5E5E5"> around</font><font color="#CCCCCC"> certain values</font>

461
00:22:36,710 --> 00:22:41,610
what are<font color="#CCCCCC"> the maximum and minimums and</font>

462
00:22:39,090 --> 00:22:44,790
things like<font color="#E5E5E5"> that</font><font color="#CCCCCC"> and so you can see here</font>

463
00:22:41,610 --> 00:22:46,979
I<font color="#CCCCCC"> took some from our our production</font>

464
00:22:44,790 --> 00:22:53,220
environment<font color="#CCCCCC"> so one of my hunting</font>

465
00:22:46,980 --> 00:22:55,440
<font color="#E5E5E5">hypotheses was that possibly if I looked</font>

466
00:22:53,220 --> 00:22:57,540
at all<font color="#CCCCCC"> of the instances of</font><font color="#E5E5E5"> PowerShell</font>

467
00:22:55,440 --> 00:22:59,610
running in my environment<font color="#CCCCCC"> and I just</font>

468
00:22:57,540 --> 00:23:03,389
compared the length of the command<font color="#CCCCCC"> line</font>

469
00:22:59,610 --> 00:23:06,510
<font color="#CCCCCC">that I might be</font><font color="#E5E5E5"> able to determine some</font>

470
00:23:03,390 --> 00:23:09,210
which were more likely<font color="#E5E5E5"> to</font><font color="#CCCCCC"> be like a red</font>

471
00:23:06,510 --> 00:23:12,150
team or in a<font color="#CCCCCC"> thread actor pushing a</font>

472
00:23:09,210 --> 00:23:14,340
PowerShell<font color="#E5E5E5"> script through my environment</font>

473
00:23:12,150 --> 00:23:16,530
<font color="#E5E5E5">rather than</font><font color="#CCCCCC"> somebody</font><font color="#E5E5E5"> just using</font>

474
00:23:14,340 --> 00:23:19,559
PowerShell to<font color="#E5E5E5"> initiate commands from</font><font color="#CCCCCC"> the</font>

475
00:23:16,530 --> 00:23:21,260
command line interactively<font color="#CCCCCC"> I'll tell you</font>

476
00:23:19,559 --> 00:23:24,149
this actually didn't turn out too<font color="#CCCCCC"> well</font>

477
00:23:21,260 --> 00:23:26,010
because<font color="#E5E5E5"> lots of automated processes have</font>

478
00:23:24,150 --> 00:23:31,740
giant<font color="#CCCCCC"> PowerShell scripts</font><font color="#E5E5E5"> and the command</font>

479
00:23:26,010 --> 00:23:33,300
line<font color="#E5E5E5"> but as an example of how to do a</font>

480
00:23:31,740 --> 00:23:36,029
<font color="#CCCCCC">box-and-whisker</font><font color="#E5E5E5"> plot it actually works</font>

481
00:23:33,300 --> 00:23:37,710
really<font color="#E5E5E5"> well because</font><font color="#CCCCCC"> you can see here</font>

482
00:23:36,029 --> 00:23:39,690
<font color="#E5E5E5">I'm going to show you a few features of</font>

483
00:23:37,710 --> 00:23:43,830
<font color="#E5E5E5">the whiskers and the box and whisker</font>

484
00:23:39,690 --> 00:23:46,229
plot there's<font color="#E5E5E5"> a this thing in statistics</font>

485
00:23:43,830 --> 00:23:48,840
called the<font color="#E5E5E5"> five number summary the five</font>

486
00:23:46,229 --> 00:23:51,570
number summary of a set of<font color="#E5E5E5"> data</font><font color="#CCCCCC"> isn't</font>

487
00:23:48,840 --> 00:23:54,389
<font color="#CCCCCC">it's intended</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> give you this shape of</font>

488
00:23:51,570 --> 00:23:56,009
<font color="#CCCCCC">the data</font><font color="#E5E5E5"> and the box and whisker plots</font>

489
00:23:54,389 --> 00:23:58,320
<font color="#CCCCCC">this visualization</font><font color="#E5E5E5"> of the five numbers</font>

490
00:23:56,009 --> 00:24:01,080
<font color="#E5E5E5">so you have first</font><font color="#CCCCCC"> of all</font><font color="#E5E5E5"> the minimum</font>

491
00:23:58,320 --> 00:24:03,149
values on the whisker<font color="#CCCCCC"> and the maximum</font>

492
00:24:01,080 --> 00:24:04,739
<font color="#E5E5E5">value</font><font color="#CCCCCC"> on the whisker ignore the fact</font>

493
00:24:03,149 --> 00:24:05,508
that<font color="#E5E5E5"> it's not actually the maximum value</font>

494
00:24:04,739 --> 00:24:07,950
for<font color="#E5E5E5"> a moment</font>

495
00:24:05,509 --> 00:24:11,339
so<font color="#CCCCCC"> then considered the</font><font color="#E5E5E5"> minimum and</font>

496
00:24:07,950 --> 00:24:14,669
maximum<font color="#E5E5E5"> and then you have the 25</font>

497
00:24:11,339 --> 00:24:18,570
percentile the lower end of the<font color="#E5E5E5"> box</font>

498
00:24:14,669 --> 00:24:20,519
<font color="#E5E5E5">which means everything under here and</font><font color="#CCCCCC"> 25</font>

499
00:24:18,570 --> 00:24:23,158
<font color="#CCCCCC">percent</font><font color="#E5E5E5"> of the values are under here</font>

500
00:24:20,519 --> 00:24:26,339
basically<font color="#E5E5E5"> and this is</font><font color="#CCCCCC"> the fiftieth</font>

501
00:24:23,159 --> 00:24:29,029
percentile<font color="#E5E5E5"> so this says basically half</font>

502
00:24:26,339 --> 00:24:31,379
of<font color="#E5E5E5"> the values are</font><font color="#CCCCCC"> under here</font><font color="#E5E5E5"> and the</font><font color="#CCCCCC"> 75%</font>

503
00:24:29,029 --> 00:24:34,619
<font color="#E5E5E5">so three quarters of the values are</font>

504
00:24:31,379 --> 00:24:36,629
<font color="#CCCCCC">under here that's really all there is to</font>

505
00:24:34,619 --> 00:24:38,428
reading a basic box and whisker plot the

506
00:24:36,629 --> 00:24:40,408
interesting thing<font color="#E5E5E5"> and the reason</font><font color="#CCCCCC"> I like</font>

507
00:24:38,429 --> 00:24:44,190
this so much<font color="#E5E5E5"> first of all it's super</font>

508
00:24:40,409 --> 00:24:46,589
easy<font color="#E5E5E5"> also to produce one but it's maybe</font>

509
00:24:44,190 --> 00:24:48,299
the<font color="#E5E5E5"> only visualization that I've seen so</font>

510
00:24:46,589 --> 00:24:54,059
far<font color="#CCCCCC"> that explicitly calls out the</font>

511
00:24:48,299 --> 00:24:56,489
<font color="#E5E5E5">outliers this anything above the top</font>

512
00:24:54,059 --> 00:25:00,869
whisker is<font color="#E5E5E5"> technically considered an</font>

513
00:24:56,489 --> 00:25:03,359
outlier so you can visually see<font color="#CCCCCC"> that if</font>

514
00:25:00,869 --> 00:25:04,619
you were to just<font color="#CCCCCC"> ignore the the box plot</font>

515
00:25:03,359 --> 00:25:07,799
here and look at the kind<font color="#CCCCCC"> of scatter</font>

516
00:25:04,619 --> 00:25:10,309
plot<font color="#CCCCCC"> that I did it's not necessary clear</font>

517
00:25:07,799 --> 00:25:13,019
where the correct outlier range might be

518
00:25:10,309 --> 00:25:14,969
you<font color="#E5E5E5"> might set</font><font color="#CCCCCC"> it here</font><font color="#E5E5E5"> you might set</font><font color="#CCCCCC"> it</font>

519
00:25:13,019 --> 00:25:21,299
here<font color="#CCCCCC"> you might be</font><font color="#E5E5E5"> tempted to set it</font>

520
00:25:14,969 --> 00:25:24,119
<font color="#E5E5E5">right</font><font color="#CCCCCC"> here like 300 but actually the</font><font color="#E5E5E5"> box</font>

521
00:25:21,299 --> 00:25:26,940
<font color="#E5E5E5">in the the box plot here indicates that</font>

522
00:25:24,119 --> 00:25:29,369
<font color="#E5E5E5">the correct answer is just a shade under</font>

523
00:25:26,940 --> 00:25:33,629
<font color="#E5E5E5">400 and so we have this thing it's like</font>

524
00:25:29,369 --> 00:25:35,759
500<font color="#CCCCCC"> characters long</font><font color="#E5E5E5"> what was</font><font color="#CCCCCC"> that so I</font>

525
00:25:33,629 --> 00:25:37,619
immediately pointed out which thing I

526
00:25:35,759 --> 00:25:40,019
<font color="#CCCCCC">should</font><font color="#E5E5E5"> probably be looking at there's a</font>

527
00:25:37,619 --> 00:25:42,769
different version<font color="#E5E5E5"> of the box plot here</font>

528
00:25:40,019 --> 00:25:46,049
<font color="#E5E5E5">that adds the standard deviation</font>

529
00:25:42,769 --> 00:25:48,860
<font color="#E5E5E5">actually it adds the mean here in the</font>

530
00:25:46,049 --> 00:25:51,500
<font color="#CCCCCC">middle the dotted line and then the</font>

531
00:25:48,860 --> 00:25:55,310
the diet<font color="#E5E5E5"> of the diamond is the</font><font color="#CCCCCC"> standard</font>

532
00:25:51,500 --> 00:25:57,230
<font color="#CCCCCC">deviation</font><font color="#E5E5E5"> so it can as an alternative</font>

533
00:25:55,310 --> 00:25:59,300
some people use like quick

534
00:25:57,230 --> 00:26:01,370
here's a quick bonus outlier method as

535
00:25:59,300 --> 00:26:05,930
an alternative<font color="#E5E5E5"> when you're computing</font>

536
00:26:01,370 --> 00:26:07,370
outliers<font color="#E5E5E5"> not</font><font color="#CCCCCC"> visualize visualizing them</font>

537
00:26:05,930 --> 00:26:08,800
but you're just computing them a lot of

538
00:26:07,370 --> 00:26:10,909
times you'll<font color="#E5E5E5"> see people would say</font>

539
00:26:08,800 --> 00:26:12,860
<font color="#CCCCCC">they'll</font><font color="#E5E5E5"> pick either two</font><font color="#CCCCCC"> or three</font>

540
00:26:10,910 --> 00:26:14,780
standard deviations<font color="#E5E5E5"> and say if it's two</font>

541
00:26:12,860 --> 00:26:17,240
<font color="#CCCCCC">or three standard deviations above the</font>

542
00:26:14,780 --> 00:26:20,210
mean<font color="#E5E5E5"> then it's an outlier</font><font color="#CCCCCC"> and if you</font>

543
00:26:17,240 --> 00:26:22,880
actually<font color="#E5E5E5"> look at this this</font><font color="#CCCCCC"> is</font><font color="#E5E5E5"> the mean</font>

544
00:26:20,210 --> 00:26:24,470
and this<font color="#E5E5E5"> is one standard deviation two</font>

545
00:26:22,880 --> 00:26:31,370
standard deviations is<font color="#E5E5E5"> pretty close to</font>

546
00:26:24,470 --> 00:26:36,230
<font color="#CCCCCC">the top of the whisker again this is</font>

547
00:26:31,370 --> 00:26:37,820
<font color="#E5E5E5">really not</font><font color="#CCCCCC"> complicated to produce most</font>

548
00:26:36,230 --> 00:26:40,490
of<font color="#CCCCCC"> this is actually</font><font color="#E5E5E5"> turns out to be</font>

549
00:26:37,820 --> 00:26:43,399
formatting<font color="#E5E5E5"> to make it look pretty for</font>

550
00:26:40,490 --> 00:26:46,580
the report that<font color="#CCCCCC"> I was I was creating and</font>

551
00:26:43,400 --> 00:26:49,730
here's really<font color="#E5E5E5"> all of this is</font><font color="#CCCCCC"> just the</font>

552
00:26:46,580 --> 00:26:54,980
the list of data points<font color="#E5E5E5"> just creating a</font>

553
00:26:49,730 --> 00:26:57,380
<font color="#E5E5E5">box plot and again I'm calling I plot so</font>

554
00:26:54,980 --> 00:26:59,060
in fact<font color="#E5E5E5"> even though this is like seven</font>

555
00:26:57,380 --> 00:27:04,120
lines of code really<font color="#E5E5E5"> or something like</font>

556
00:26:59,060 --> 00:27:04,120
<font color="#E5E5E5">that we</font><font color="#CCCCCC"> really could do it in like two</font>

557
00:27:08,740 --> 00:27:13,960
so<font color="#CCCCCC"> boxplots</font><font color="#E5E5E5"> first of all are really</font>

558
00:27:11,590 --> 00:27:15,789
<font color="#E5E5E5">strong when you have first</font><font color="#CCCCCC"> of all</font>

559
00:27:13,960 --> 00:27:18,760
univariate data which means you're only

560
00:27:15,789 --> 00:27:20,830
having<font color="#CCCCCC"> one variable</font><font color="#E5E5E5"> you can't really do</font>

561
00:27:18,760 --> 00:27:22,658
a box whisker plot on<font color="#E5E5E5"> anything where you</font>

562
00:27:20,830 --> 00:27:25,059
have<font color="#E5E5E5"> multiple variables that are</font>

563
00:27:22,659 --> 00:27:27,220
correlated<font color="#E5E5E5"> so you're</font><font color="#CCCCCC"> only looking</font><font color="#E5E5E5"> at one</font>

564
00:27:25,059 --> 00:27:30,850
column of<font color="#E5E5E5"> data and it's numeric data</font>

565
00:27:27,220 --> 00:27:33,460
<font color="#E5E5E5">again it has to</font><font color="#CCCCCC"> be numeric data it's</font>

566
00:27:30,850 --> 00:27:36,279
<font color="#E5E5E5">really nice because you</font><font color="#CCCCCC"> can just</font><font color="#E5E5E5"> kind of</font>

567
00:27:33,460 --> 00:27:38,230
visually see<font color="#CCCCCC"> the shape</font><font color="#E5E5E5"> of the data</font>

568
00:27:36,279 --> 00:27:39,070
<font color="#E5E5E5">distribution do all the points</font><font color="#CCCCCC"> cluster</font>

569
00:27:38,230 --> 00:27:40,960
to the bottom

570
00:27:39,070 --> 00:27:45,189
are they uniformly distributed do they

571
00:27:40,960 --> 00:27:47,919
cluster to<font color="#CCCCCC"> the top</font><font color="#E5E5E5"> whatever</font><font color="#CCCCCC"> the outliers</font>

572
00:27:45,190 --> 00:27:50,309
are shown explicitly anything outside

573
00:27:47,919 --> 00:27:53,230
the whiskers<font color="#E5E5E5"> sometimes the whiskers</font>

574
00:27:50,309 --> 00:27:55,240
<font color="#CCCCCC">you'll be</font><font color="#E5E5E5"> interested in the lower</font>

575
00:27:53,230 --> 00:27:56,710
outliers<font color="#CCCCCC"> so things below the bottom</font>

576
00:27:55,240 --> 00:27:59,350
whisker<font color="#CCCCCC"> sometimes you'll be interested</font>

577
00:27:56,710 --> 00:28:01,960
<font color="#CCCCCC">in things above the top whisker the high</font>

578
00:27:59,350 --> 00:28:04,539
outliers<font color="#E5E5E5"> but they're visually shown so</font>

579
00:28:01,960 --> 00:28:09,159
it's very<font color="#E5E5E5"> easy</font><font color="#CCCCCC"> to identify them and and</font>

580
00:28:04,539 --> 00:28:11,289
zero in on them<font color="#E5E5E5"> and the outlier</font>

581
00:28:09,159 --> 00:28:14,080
thresholds usually are really easy to

582
00:28:11,289 --> 00:28:16,480
convert to<font color="#E5E5E5"> signatures so in my mind</font><font color="#CCCCCC"> when</font>

583
00:28:14,080 --> 00:28:19,600
<font color="#CCCCCC">I</font><font color="#E5E5E5"> was doing this this hunt I thought</font>

584
00:28:16,480 --> 00:28:24,490
well if I do find<font color="#E5E5E5"> the outlier what I</font>

585
00:28:19,600 --> 00:28:27,189
will do is maybe find that value in my

586
00:28:24,490 --> 00:28:29,200
data set<font color="#CCCCCC"> and then take that value and do</font>

587
00:28:27,190 --> 00:28:31,330
a larger search and say show me<font color="#E5E5E5"> all</font><font color="#CCCCCC"> the</font>

588
00:28:29,200 --> 00:28:33,820
<font color="#CCCCCC">PowerShell executions for the last</font><font color="#E5E5E5"> six</font>

589
00:28:31,330 --> 00:28:39,010
months<font color="#E5E5E5"> that</font><font color="#CCCCCC"> have command line lengths</font>

590
00:28:33,820 --> 00:28:39,939
<font color="#E5E5E5">greater than 400 right again that didn't</font>

591
00:28:39,010 --> 00:28:42,429
really turn out<font color="#E5E5E5"> to be a useful</font>

592
00:28:39,940 --> 00:28:43,929
hypothesis my hypothesis<font color="#CCCCCC"> was</font><font color="#E5E5E5"> wrong but</font>

593
00:28:42,429 --> 00:28:49,899
<font color="#E5E5E5">that's how I would have turned that into</font>

594
00:28:43,929 --> 00:28:56,110
a automated signature<font color="#E5E5E5"> and again here's</font>

595
00:28:49,899 --> 00:28:57,789
the<font color="#E5E5E5"> kind of ideal use case</font><font color="#CCCCCC"> I have no</font>

596
00:28:56,110 --> 00:29:00,219
idea what's normal for this column of

597
00:28:57,789 --> 00:29:01,960
numbers<font color="#E5E5E5"> and I just want to find out and</font>

598
00:29:00,220 --> 00:29:06,100
<font color="#CCCCCC">I'm not even</font><font color="#E5E5E5"> sure if there are any</font>

599
00:29:01,960 --> 00:29:08,559
outliers in it but if you have that<font color="#E5E5E5"> box</font>

600
00:29:06,100 --> 00:29:10,860
plot and<font color="#E5E5E5"> in about three seconds you'll</font>

601
00:29:08,559 --> 00:29:10,860
know the answer

602
00:29:16,010 --> 00:29:27,169
there we go<font color="#E5E5E5"> okay</font>

603
00:29:23,330 --> 00:29:32,600
so box<font color="#E5E5E5"> fonts are really cool I like them</font>

604
00:29:27,169 --> 00:29:33,200
more<font color="#CCCCCC"> than I really should but I promised</font>

605
00:29:32,600 --> 00:29:36,668
you<font color="#CCCCCC"> four</font>

606
00:29:33,200 --> 00:29:40,940
how am i doing on<font color="#CCCCCC"> time by the way good I</font>

607
00:29:36,669 --> 00:29:42,429
promised you four techniques<font color="#E5E5E5"> so for the</font>

608
00:29:40,940 --> 00:29:45,230
fourth<font color="#E5E5E5"> technique</font><font color="#CCCCCC"> I'm</font><font color="#E5E5E5"> going to do</font>

609
00:29:42,429 --> 00:29:46,909
<font color="#E5E5E5">something that's not visualization it's</font>

610
00:29:45,230 --> 00:29:49,610
actually<font color="#E5E5E5"> really good when you can't</font>

611
00:29:46,909 --> 00:29:51,679
<font color="#E5E5E5">visualize something especially because</font>

612
00:29:49,610 --> 00:29:53,090
<font color="#E5E5E5">it has too many dimensions</font><font color="#CCCCCC"> we're in the</font>

613
00:29:51,679 --> 00:30:00,379
<font color="#E5E5E5">Doctor Who area that I was talking</font><font color="#CCCCCC"> about</font>

614
00:29:53,090 --> 00:30:03,139
<font color="#E5E5E5">earlier and this is a technique that I</font>

615
00:30:00,379 --> 00:30:04,668
would be a<font color="#E5E5E5"> little bit surprised if very</font>

616
00:30:03,139 --> 00:30:09,859
many<font color="#CCCCCC"> people have heard of its called</font>

617
00:30:04,669 --> 00:30:13,539
<font color="#CCCCCC">isolation forests isolation forest</font><font color="#E5E5E5"> is</font>

618
00:30:09,859 --> 00:30:15,830
actually a it's<font color="#E5E5E5"> actually a kind of new</font>

619
00:30:13,539 --> 00:30:22,149
unsupervised<font color="#E5E5E5"> machine learning algorithm</font>

620
00:30:15,830 --> 00:30:28,070
and<font color="#E5E5E5"> the idea here is you</font><font color="#CCCCCC"> have some data</font>

621
00:30:22,149 --> 00:30:30,678
<font color="#CCCCCC">that has potentially very many maybe</font>

622
00:30:28,070 --> 00:30:34,189
hundreds or even thousands of<font color="#E5E5E5"> variables</font>

623
00:30:30,679 --> 00:30:39,230
for each<font color="#E5E5E5"> data point and you want to find</font>

624
00:30:34,190 --> 00:30:41,570
<font color="#E5E5E5">which ones are more unique than</font><font color="#CCCCCC"> the rest</font>

625
00:30:39,230 --> 00:30:44,480
of<font color="#CCCCCC"> them</font><font color="#E5E5E5"> so what we're going to basically</font>

626
00:30:41,570 --> 00:30:45,529
<font color="#E5E5E5">do is a</font><font color="#CCCCCC"> shortcut</font><font color="#E5E5E5"> version of something</font>

627
00:30:44,480 --> 00:30:47,059
<font color="#CCCCCC">that you might</font><font color="#E5E5E5"> have heard of</font><font color="#CCCCCC"> called</font>

628
00:30:45,529 --> 00:30:48,470
clustering<font color="#E5E5E5"> where we take all the data</font>

629
00:30:47,059 --> 00:30:50,389
points<font color="#CCCCCC"> and find the ones which are</font>

630
00:30:48,470 --> 00:30:52,909
<font color="#E5E5E5">really close to</font><font color="#CCCCCC"> each other</font><font color="#E5E5E5"> and then</font>

631
00:30:50,389 --> 00:30:55,119
<font color="#CCCCCC">anything that's</font><font color="#E5E5E5"> not really close to</font><font color="#CCCCCC"> one</font>

632
00:30:52,909 --> 00:30:59,929
of<font color="#CCCCCC"> the clusters is considered an outlier</font>

633
00:30:55,119 --> 00:31:03,529
but clustering the traditional way kind

634
00:30:59,929 --> 00:31:05,419
of has some drawbacks<font color="#CCCCCC"> and in the sense</font>

635
00:31:03,529 --> 00:31:07,039
that it's really<font color="#E5E5E5"> hard to do correctly</font>

636
00:31:05,419 --> 00:31:09,019
and sometimes you<font color="#CCCCCC"> have</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> know a lot</font>

637
00:31:07,039 --> 00:31:10,789
<font color="#CCCCCC">about your</font><font color="#E5E5E5"> data in order to understand</font>

638
00:31:09,019 --> 00:31:13,669
for example<font color="#E5E5E5"> how</font><font color="#CCCCCC"> many</font><font color="#E5E5E5"> clusters there are</font>

639
00:31:10,789 --> 00:31:15,830
likely<font color="#E5E5E5"> to</font><font color="#CCCCCC"> be and things like</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> but</font>

640
00:31:13,669 --> 00:31:18,279
this<font color="#CCCCCC"> is a this technique doesn't</font><font color="#E5E5E5"> really</font>

641
00:31:15,830 --> 00:31:22,460
require<font color="#CCCCCC"> that it's also</font><font color="#E5E5E5"> super efficient</font>

642
00:31:18,279 --> 00:31:25,039
so here's the<font color="#CCCCCC"> idea</font><font color="#E5E5E5"> this is again the</font>

643
00:31:22,460 --> 00:31:27,769
<font color="#E5E5E5">scatter plot we've done done this</font>

644
00:31:25,039 --> 00:31:30,049
clustering<font color="#E5E5E5"> on here is a</font><font color="#CCCCCC"> two dimensional</font>

645
00:31:27,769 --> 00:31:32,779
<font color="#E5E5E5">clustering</font><font color="#CCCCCC"> so you could have just used a</font>

646
00:31:30,049 --> 00:31:34,879
scatter<font color="#CCCCCC"> plot for really but this kind of</font>

647
00:31:32,779 --> 00:31:39,059
gives<font color="#CCCCCC"> you an idea of what's going on</font>

648
00:31:34,880 --> 00:31:42,029
each dot<font color="#CCCCCC"> here</font><font color="#E5E5E5"> is one data</font><font color="#CCCCCC"> point</font><font color="#E5E5E5"> and</font>

649
00:31:39,059 --> 00:31:43,740
because we're only working<font color="#E5E5E5"> with two</font>

650
00:31:42,029 --> 00:31:45,960
dimensions<font color="#E5E5E5"> that means we have two</font>

651
00:31:43,740 --> 00:31:49,740
variables<font color="#E5E5E5"> or two fields for the each</font>

652
00:31:45,960 --> 00:31:54,590
data point<font color="#E5E5E5"> what you do when you do</font>

653
00:31:49,740 --> 00:31:59,039
isolation<font color="#CCCCCC"> forests is</font><font color="#E5E5E5"> kind of simple</font><font color="#CCCCCC"> but</font>

654
00:31:54,590 --> 00:32:02,309
maybe is a<font color="#E5E5E5"> little bit confusing at first</font>

655
00:31:59,039 --> 00:32:06,658
<font color="#E5E5E5">so I'll try to go</font><font color="#CCCCCC"> through it what you do</font>

656
00:32:02,309 --> 00:32:10,470
is you take a<font color="#CCCCCC"> random variable</font><font color="#E5E5E5"> and a</font>

657
00:32:06,659 --> 00:32:14,730
random<font color="#CCCCCC"> value and you take a</font><font color="#E5E5E5"> data point</font>

658
00:32:10,470 --> 00:32:17,760
<font color="#E5E5E5">and you split the field of all your data</font>

659
00:32:14,730 --> 00:32:20,159
<font color="#E5E5E5">at</font><font color="#CCCCCC"> that data point and</font><font color="#E5E5E5"> that random value</font>

660
00:32:17,760 --> 00:32:22,440
of that<font color="#E5E5E5"> random</font><font color="#CCCCCC"> variable</font><font color="#E5E5E5"> so here's what</font>

661
00:32:20,159 --> 00:32:24,059
we've done<font color="#CCCCCC"> I shouldn't say we</font><font color="#E5E5E5"> this is</font>

662
00:32:22,440 --> 00:32:26,520
<font color="#E5E5E5">not my diagram but here's what they've</font>

663
00:32:24,059 --> 00:32:28,500
done is they've taken<font color="#CCCCCC"> the data point</font>

664
00:32:26,520 --> 00:32:31,679
that<font color="#E5E5E5"> falls on this line not sure if it's</font>

665
00:32:28,500 --> 00:32:34,820
one of this<font color="#E5E5E5"> one but and they took a one</font>

666
00:32:31,679 --> 00:32:37,679
at<font color="#E5E5E5"> random</font><font color="#CCCCCC"> they picked one</font><font color="#E5E5E5"> of the two</font>

667
00:32:34,820 --> 00:32:39,779
variables<font color="#E5E5E5"> and they split it so you have</font>

668
00:32:37,679 --> 00:32:42,990
everything<font color="#E5E5E5"> above it and everything below</font>

669
00:32:39,779 --> 00:32:44,610
<font color="#CCCCCC">it but then they continue splitting it</font>

670
00:32:42,990 --> 00:32:45,990
and then they say on this side we're

671
00:32:44,610 --> 00:32:48,389
going<font color="#E5E5E5"> to take another random one we'll</font>

672
00:32:45,990 --> 00:32:50,190
take one of<font color="#E5E5E5"> these guys</font><font color="#CCCCCC"> here</font><font color="#E5E5E5"> and split</font>

673
00:32:48,390 --> 00:32:52,020
everything<font color="#E5E5E5"> below it everything above it</font>

674
00:32:50,190 --> 00:32:54,630
<font color="#E5E5E5">they keep splitting it and every time</font>

675
00:32:52,020 --> 00:32:57,690
they do it<font color="#E5E5E5"> they do a random direction</font>

676
00:32:54,630 --> 00:33:00,750
and a random<font color="#E5E5E5"> value so the next time they</font>

677
00:32:57,690 --> 00:33:02,760
<font color="#E5E5E5">split here maybe and they split</font>

678
00:33:00,750 --> 00:33:05,899
everything<font color="#E5E5E5"> to the side to the right and</font>

679
00:33:02,760 --> 00:33:10,940
they keep<font color="#E5E5E5"> doing that</font><font color="#CCCCCC"> until you</font><font color="#E5E5E5"> come to a</font>

680
00:33:05,899 --> 00:33:10,939
area<font color="#E5E5E5"> that has only one point in it</font>

681
00:33:11,029 --> 00:33:17,100
however with me so far

682
00:33:12,830 --> 00:33:19,620
<font color="#E5E5E5">right and what you do and then is you</font>

683
00:33:17,100 --> 00:33:21,629
have counted<font color="#CCCCCC"> the number of</font><font color="#E5E5E5"> splits</font><font color="#CCCCCC"> that</font>

684
00:33:19,620 --> 00:33:23,610
you have to do to get that one<font color="#E5E5E5"> point and</font>

685
00:33:21,630 --> 00:33:25,440
you<font color="#CCCCCC"> assign that number to that</font><font color="#E5E5E5"> one point</font>

686
00:33:23,610 --> 00:33:30,570
maybe that point has<font color="#E5E5E5"> four or maybe it</font>

687
00:33:25,440 --> 00:33:33,299
has<font color="#E5E5E5"> 26 and</font><font color="#CCCCCC"> you do that</font><font color="#E5E5E5"> for until every</font>

688
00:33:30,570 --> 00:33:37,500
point on the graph has its own<font color="#E5E5E5"> number of</font>

689
00:33:33,299 --> 00:33:40,190
splits<font color="#E5E5E5"> and because each one of those was</font>

690
00:33:37,500 --> 00:33:43,409
a result<font color="#E5E5E5"> of a</font><font color="#CCCCCC"> random series</font><font color="#E5E5E5"> of decisions</font>

691
00:33:40,190 --> 00:33:46,670
right you save<font color="#E5E5E5"> that all that data and</font>

692
00:33:43,409 --> 00:33:49,010
<font color="#E5E5E5">then you start</font><font color="#CCCCCC"> the process over again</font>

693
00:33:46,670 --> 00:33:51,740
and you make a different set<font color="#CCCCCC"> of random</font>

694
00:33:49,010 --> 00:33:54,740
decisions until every point has<font color="#E5E5E5"> its own</font>

695
00:33:51,740 --> 00:33:57,800
number<font color="#CCCCCC"> and you do that</font><font color="#E5E5E5"> over</font><font color="#CCCCCC"> again</font><font color="#E5E5E5"> and</font>

696
00:33:54,740 --> 00:33:59,480
you do that several<font color="#CCCCCC"> times</font><font color="#E5E5E5"> and the reason</font>

697
00:33:57,800 --> 00:34:00,409
is just<font color="#E5E5E5"> to kind</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> correct for the</font>

698
00:33:59,480 --> 00:34:03,500
randomness of it

699
00:34:00,410 --> 00:34:06,320
the more random versions of the thing

700
00:34:03,500 --> 00:34:08,750
<font color="#CCCCCC">that you</font><font color="#E5E5E5"> have</font><font color="#CCCCCC"> they</font><font color="#E5E5E5"> the more likely they</font>

701
00:34:06,320 --> 00:34:10,429
are to agree when you<font color="#E5E5E5"> come to the next</font>

702
00:34:08,750 --> 00:34:13,610
<font color="#E5E5E5">step which</font><font color="#CCCCCC"> is you just take the</font><font color="#E5E5E5"> average</font>

703
00:34:10,429 --> 00:34:19,070
<font color="#E5E5E5">for each data point the data point had</font>

704
00:34:13,610 --> 00:34:20,360
<font color="#CCCCCC">five splits seven splits</font><font color="#E5E5E5"> six splits you</font>

705
00:34:19,070 --> 00:34:22,460
<font color="#CCCCCC">averaged all those in your similar</font>

706
00:34:20,360 --> 00:34:25,010
around<font color="#E5E5E5"> six right so that's the data</font>

707
00:34:22,460 --> 00:34:27,620
point that's<font color="#CCCCCC"> the final value for that</font>

708
00:34:25,010 --> 00:34:29,659
data point<font color="#CCCCCC"> is six each one of</font><font color="#E5E5E5"> those sets</font>

709
00:34:27,620 --> 00:34:31,630
of<font color="#E5E5E5"> splits is a tree and when you put all</font>

710
00:34:29,659 --> 00:34:34,460
<font color="#CCCCCC">those trees together</font><font color="#E5E5E5"> you get a forest</font>

711
00:34:31,630 --> 00:34:36,500
<font color="#CCCCCC">therefore you're you're finding</font><font color="#E5E5E5"> the</font>

712
00:34:34,460 --> 00:34:40,340
<font color="#E5E5E5">forest of how long it takes</font><font color="#CCCCCC"> to isolate</font>

713
00:34:36,500 --> 00:34:42,770
each point isolation<font color="#E5E5E5"> forest and the</font>

714
00:34:40,340 --> 00:34:45,350
average depth that you have to go to

715
00:34:42,770 --> 00:34:47,719
<font color="#E5E5E5">before you split any given point tells</font>

716
00:34:45,350 --> 00:34:49,549
you how likely it is that<font color="#E5E5E5"> this is</font>

717
00:34:47,719 --> 00:34:52,730
something<font color="#E5E5E5"> close to everything else</font>

718
00:34:49,550 --> 00:34:55,520
because these guys in here<font color="#CCCCCC"> are more</font>

719
00:34:52,730 --> 00:34:57,650
likely<font color="#CCCCCC"> to need a</font><font color="#E5E5E5"> lot</font><font color="#CCCCCC"> of splits</font><font color="#E5E5E5"> so you</font>

720
00:34:55,520 --> 00:34:59,240
can see here they took all these

721
00:34:57,650 --> 00:35:01,520
different splits<font color="#CCCCCC"> to find that one data</font>

722
00:34:59,240 --> 00:35:05,779
<font color="#CCCCCC">point</font><font color="#E5E5E5"> and I</font><font color="#CCCCCC"> don't even know how many</font>

723
00:35:01,520 --> 00:35:10,120
<font color="#CCCCCC">that</font><font color="#E5E5E5"> is 1 2 3</font><font color="#CCCCCC"> 4 5</font><font color="#E5E5E5"> 6 7</font><font color="#CCCCCC"> 8 9 10 11</font>

724
00:35:05,780 --> 00:35:14,030
something<font color="#CCCCCC"> I'm</font><font color="#E5E5E5"> counting right so this</font><font color="#CCCCCC"> is</font>

725
00:35:10,120 --> 00:35:17,350
<font color="#E5E5E5">pretty clear visually right that this is</font>

726
00:35:14,030 --> 00:35:19,760
<font color="#E5E5E5">close</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> most of the other points but</font>

727
00:35:17,350 --> 00:35:23,420
here's this point over<font color="#CCCCCC"> here and it took</font>

728
00:35:19,760 --> 00:35:25,970
<font color="#E5E5E5">1 2 3 4 5 it took like</font><font color="#CCCCCC"> half as many</font>

729
00:35:23,420 --> 00:35:30,230
splits<font color="#E5E5E5"> so in an isolation forest</font>

730
00:35:25,970 --> 00:35:31,910
the number of splits the larger the

731
00:35:30,230 --> 00:35:34,250
number the<font color="#E5E5E5"> more likely you are to be an</font>

732
00:35:31,910 --> 00:35:36,710
in liar the smaller number is the more

733
00:35:34,250 --> 00:35:38,390
likely<font color="#CCCCCC"> you are to be an outlier so you</font>

734
00:35:36,710 --> 00:35:41,960
can actually<font color="#E5E5E5"> just feed it a bunch of</font>

735
00:35:38,390 --> 00:35:44,509
data in<font color="#E5E5E5"> multiple dimensions</font><font color="#CCCCCC"> and it will</font>

736
00:35:41,960 --> 00:35:46,280
do this thing<font color="#E5E5E5"> and these things are the</font>

737
00:35:44,510 --> 00:35:50,930
isolation<font color="#E5E5E5"> Forest is actually well</font>

738
00:35:46,280 --> 00:35:53,600
supported in<font color="#E5E5E5"> Python in this library</font>

739
00:35:50,930 --> 00:35:55,879
called scikit-learn<font color="#E5E5E5"> unlike the other</font>

740
00:35:53,600 --> 00:35:58,220
ones<font color="#E5E5E5"> it takes a little bit</font><font color="#CCCCCC"> more code</font>

741
00:35:55,880 --> 00:36:00,320
<font color="#E5E5E5">than I thought would be</font><font color="#CCCCCC"> useful to</font><font color="#E5E5E5"> put on</font>

742
00:35:58,220 --> 00:36:02,569
a slide<font color="#CCCCCC"> but I have a</font><font color="#E5E5E5"> github</font>

743
00:36:00,320 --> 00:36:06,290
repository that<font color="#E5E5E5"> my friend</font><font color="#CCCCCC"> Chris McCubbin</font>

744
00:36:02,570 --> 00:36:09,860
<font color="#E5E5E5">and I put out a kind of sample code for</font>

745
00:36:06,290 --> 00:36:12,320
using isolation forests<font color="#E5E5E5"> and a couple of</font>

746
00:36:09,860 --> 00:36:15,770
other machine<font color="#CCCCCC"> learning techniques to go</font>

747
00:36:12,320 --> 00:36:18,350
through in our case bro HTTP log files

748
00:36:15,770 --> 00:36:21,620
<font color="#E5E5E5">to find the most</font><font color="#CCCCCC"> unusual-looking log</font>

749
00:36:18,350 --> 00:36:23,210
values so it was a kind of experiment to

750
00:36:21,620 --> 00:36:26,720
<font color="#E5E5E5">see whether we could actually use a</font>

751
00:36:23,210 --> 00:36:29,540
technique<font color="#CCCCCC"> like we did random forests and</font>

752
00:36:26,720 --> 00:36:31,669
isolation forests<font color="#E5E5E5"> to see if we could</font><font color="#CCCCCC"> use</font>

753
00:36:29,540 --> 00:36:34,750
those techniques<font color="#E5E5E5"> to find the individual</font>

754
00:36:31,670 --> 00:36:37,520
log items that we needed to<font color="#E5E5E5"> look at and</font>

755
00:36:34,750 --> 00:36:39,740
<font color="#E5E5E5">not have to look at you</font><font color="#CCCCCC"> know a</font><font color="#E5E5E5"> hundred</font>

756
00:36:37,520 --> 00:36:41,660
million log<font color="#CCCCCC"> entries a day the short</font>

757
00:36:39,740 --> 00:36:44,180
answer is<font color="#CCCCCC"> that works</font><font color="#E5E5E5"> it's on</font><font color="#CCCCCC"> github and</font>

758
00:36:41,660 --> 00:36:47,210
<font color="#CCCCCC">you can give</font><font color="#E5E5E5"> it a try and if you want to</font>

759
00:36:44,180 --> 00:36:49,700
see the still pretty<font color="#E5E5E5"> simple source code</font>

760
00:36:47,210 --> 00:36:51,710
that it requires to<font color="#E5E5E5"> create isolation for</font>

761
00:36:49,700 --> 00:37:02,089
us it's up<font color="#E5E5E5"> there and I encourage you</font><font color="#CCCCCC"> to</font>

762
00:36:51,710 --> 00:37:03,440
take<font color="#E5E5E5"> a look so isolation forests why why</font>

763
00:37:02,090 --> 00:37:06,350
would you<font color="#E5E5E5"> want</font><font color="#CCCCCC"> to use</font><font color="#E5E5E5"> them well there's</font>

764
00:37:03,440 --> 00:37:08,960
a few<font color="#CCCCCC"> things first if you have numeric</font>

765
00:37:06,350 --> 00:37:12,890
data<font color="#E5E5E5"> and you have</font><font color="#CCCCCC"> a lot of different</font>

766
00:37:08,960 --> 00:37:14,750
variables<font color="#E5E5E5"> you can't easily visualize all</font>

767
00:37:12,890 --> 00:37:16,700
those at<font color="#E5E5E5"> the same time most</font>

768
00:37:14,750 --> 00:37:18,980
<font color="#E5E5E5">visualization techniques would require</font>

769
00:37:16,700 --> 00:37:21,470
you<font color="#CCCCCC"> to take a couple of</font><font color="#E5E5E5"> those variables</font>

770
00:37:18,980 --> 00:37:23,870
by themselves<font color="#E5E5E5"> and visualize them and</font>

771
00:37:21,470 --> 00:37:28,399
then take another set and visualize

772
00:37:23,870 --> 00:37:32,029
those etc<font color="#CCCCCC"> visualization we're not able</font>

773
00:37:28,400 --> 00:37:37,100
<font color="#E5E5E5">to think</font><font color="#CCCCCC"> in 300 dimensions but isolation</font>

774
00:37:32,030 --> 00:37:38,960
<font color="#CCCCCC">forests can do that no problem it needs</font>

775
00:37:37,100 --> 00:37:41,569
to be<font color="#CCCCCC"> numeric data though but you will</font>

776
00:37:38,960 --> 00:37:44,570
see<font color="#E5E5E5"> for</font><font color="#CCCCCC"> example if you go to</font><font color="#E5E5E5"> our</font><font color="#CCCCCC"> github</font>

777
00:37:41,570 --> 00:37:46,970
for<font color="#E5E5E5"> clearcut that we've taken bro HTTP</font>

778
00:37:44,570 --> 00:37:50,660
log files which are mostly not numeric

779
00:37:46,970 --> 00:37:53,359
and we convert the strings and the

780
00:37:50,660 --> 00:37:55,850
enumerated values into numbers so that

781
00:37:53,360 --> 00:37:58,640
<font color="#CCCCCC">we</font><font color="#E5E5E5"> can apply this technique</font><font color="#CCCCCC"> so</font><font color="#E5E5E5"> this</font>

782
00:37:55,850 --> 00:38:00,290
works best on numeric data but if you

783
00:37:58,640 --> 00:38:02,540
don't have numeric data<font color="#E5E5E5"> you may be able</font>

784
00:38:00,290 --> 00:38:06,980
<font color="#E5E5E5">to convert to numeric in a way that</font>

785
00:38:02,540 --> 00:38:09,620
makes<font color="#E5E5E5"> it useful</font><font color="#CCCCCC"> it's also pretty</font>

786
00:38:06,980 --> 00:38:13,349
performance on a even<font color="#E5E5E5"> on a</font><font color="#CCCCCC"> laptop</font><font color="#E5E5E5"> you</font>

787
00:38:09,620 --> 00:38:15,210
<font color="#E5E5E5">can use isolation forests to to</font>

788
00:38:13,349 --> 00:38:19,859
<font color="#CCCCCC">a pretty large amount of data</font><font color="#E5E5E5"> pretty</font>

789
00:38:15,210 --> 00:38:21,930
quickly<font color="#E5E5E5"> and it has a lot a lot less</font>

790
00:38:19,859 --> 00:38:24,660
<font color="#E5E5E5">machine requirements than some of the</font>

791
00:38:21,930 --> 00:38:26,249
other more complicated clustering

792
00:38:24,660 --> 00:38:28,649
algorithms<font color="#E5E5E5"> but</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> think the most</font>

793
00:38:26,249 --> 00:38:30,269
important thing<font color="#E5E5E5"> about this is</font><font color="#CCCCCC"> that you</font>

794
00:38:28,650 --> 00:38:31,829
get to go to<font color="#E5E5E5"> your boss</font><font color="#CCCCCC"> and say we</font>

795
00:38:30,269 --> 00:38:34,008
applied machine learning to that<font color="#E5E5E5"> problem</font>

796
00:38:31,829 --> 00:38:34,009
sir

797
00:38:35,299 --> 00:38:42,900
everybody likes to<font color="#E5E5E5"> have machine learning</font>

798
00:38:37,470 --> 00:38:45,299
<font color="#CCCCCC">uh</font><font color="#E5E5E5"> so some</font><font color="#CCCCCC"> of the weaknesses of it</font><font color="#E5E5E5"> that</font>

799
00:38:42,900 --> 00:38:49,079
conversion<font color="#E5E5E5"> of non numeric data into</font>

800
00:38:45,299 --> 00:38:50,609
numeric data<font color="#E5E5E5"> is maybe not technically</font>

801
00:38:49,079 --> 00:38:52,529
<font color="#E5E5E5">that challenging but there's probably a</font>

802
00:38:50,609 --> 00:38:54,869
lot<font color="#CCCCCC"> of plays a lot</font><font color="#E5E5E5"> of</font><font color="#CCCCCC"> pieces to</font><font color="#E5E5E5"> it and</font>

803
00:38:52,529 --> 00:38:57,690
it's kind<font color="#E5E5E5"> of tedious at some at some</font>

804
00:38:54,869 --> 00:39:00,930
level so and it's also<font color="#E5E5E5"> difficult again</font>

805
00:38:57,690 --> 00:39:02,609
it's<font color="#CCCCCC"> difficult to</font><font color="#E5E5E5"> visualize so it's easy</font>

806
00:39:00,930 --> 00:39:04,529
to<font color="#E5E5E5"> tell somebody well you know our</font>

807
00:39:02,609 --> 00:39:06,779
<font color="#CCCCCC">analysis said this is an outlier and if</font>

808
00:39:04,529 --> 00:39:08,880
they want<font color="#CCCCCC"> to know why</font><font color="#E5E5E5"> it's really hard</font>

809
00:39:06,779 --> 00:39:10,650
to be able to<font color="#E5E5E5"> tell them just based on</font>

810
00:39:08,880 --> 00:39:12,809
isolation for us why it was an outlier

811
00:39:10,650 --> 00:39:15,890
you won't get the kind of details

812
00:39:12,809 --> 00:39:21,960
<font color="#CCCCCC">explained ability but that's okay</font><font color="#E5E5E5"> and</font>

813
00:39:15,890 --> 00:39:23,848
<font color="#E5E5E5">again so here's here's our sample</font>

814
00:39:21,960 --> 00:39:26,069
problem statement which of these<font color="#CCCCCC"> login</font>

815
00:39:23,849 --> 00:39:29,039
<font color="#CCCCCC">trees are most unlike the others right</font>

816
00:39:26,069 --> 00:39:30,930
<font color="#E5E5E5">so closest that</font><font color="#CCCCCC"> you are to this the more</font>

817
00:39:29,039 --> 00:39:34,890
likely it is<font color="#E5E5E5"> may be that you could</font>

818
00:39:30,930 --> 00:39:38,509
benefit from trying isolation forests so

819
00:39:34,890 --> 00:39:43,200
the the main takeaway that<font color="#E5E5E5"> I want to</font>

820
00:39:38,509 --> 00:39:48,420
want you<font color="#E5E5E5"> to get from all this is David</font>

821
00:39:43,200 --> 00:39:51,569
is boring<font color="#E5E5E5"> no that's not it</font><font color="#CCCCCC"> it's Mathis</font>

822
00:39:48,420 --> 00:39:55,170
<font color="#CCCCCC">Hart</font><font color="#E5E5E5"> no that's not it the main technique</font>

823
00:39:51,569 --> 00:39:57,180
is the main takeaway<font color="#CCCCCC"> that is that please</font>

824
00:39:55,170 --> 00:39:58,799
don't just automatically go to<font color="#E5E5E5"> stat</font>

825
00:39:57,180 --> 00:40:00,149
counting and least frequency of

826
00:39:58,799 --> 00:40:03,719
occurrence when you have to find

827
00:40:00,150 --> 00:40:05,759
outliers<font color="#CCCCCC"> there are other things that</font><font color="#E5E5E5"> we</font>

828
00:40:03,719 --> 00:40:09,059
as a threat hunting<font color="#CCCCCC"> community should be</font>

829
00:40:05,759 --> 00:40:11,940
able<font color="#E5E5E5"> to use and by no means are these</font>

830
00:40:09,059 --> 00:40:15,150
the<font color="#E5E5E5"> only ones but these are just like</font>

831
00:40:11,940 --> 00:40:17,130
the<font color="#E5E5E5"> the four that I think are kind of</font>

832
00:40:15,150 --> 00:40:20,369
most useful and<font color="#CCCCCC"> most interesting and</font>

833
00:40:17,130 --> 00:40:22,799
combination<font color="#E5E5E5"> so you could certainly have</font>

834
00:40:20,369 --> 00:40:24,029
we've talked<font color="#E5E5E5"> about cases where stat</font>

835
00:40:22,799 --> 00:40:25,940
counting<font color="#E5E5E5"> and least frequency of</font>

836
00:40:24,029 --> 00:40:29,450
occurrence is<font color="#E5E5E5"> totally appropriate</font>

837
00:40:25,940 --> 00:40:32,359
<font color="#CCCCCC">but we've also seen you know scatter</font>

838
00:40:29,450 --> 00:40:35,299
plots and box plots for visualization

839
00:40:32,359 --> 00:40:37,310
<font color="#CCCCCC">and then we've even</font><font color="#E5E5E5"> learned to impress</font>

840
00:40:35,300 --> 00:40:42,200
our bosses with our machine learning

841
00:40:37,310 --> 00:40:44,930
abilities so I would say don't<font color="#E5E5E5"> be afraid</font>

842
00:40:42,200 --> 00:40:46,490
<font color="#E5E5E5">to try some of these techniques and the</font>

843
00:40:44,930 --> 00:40:48,740
next<font color="#E5E5E5"> time you have a big pile</font><font color="#CCCCCC"> of data</font><font color="#E5E5E5"> in</font>

844
00:40:46,490 --> 00:40:51,109
front of you don't<font color="#E5E5E5"> be</font><font color="#CCCCCC"> afraid to try</font><font color="#E5E5E5"> a</font>

845
00:40:48,740 --> 00:40:52,640
different<font color="#E5E5E5"> technique there's nothing</font>

846
00:40:51,109 --> 00:40:53,869
magic about just these four<font color="#E5E5E5"> techniques</font>

847
00:40:52,640 --> 00:40:55,460
there's plenty of other outlier

848
00:40:53,869 --> 00:40:58,819
techniques out<font color="#CCCCCC"> there that are really</font>

849
00:40:55,460 --> 00:41:00,530
useful<font color="#E5E5E5"> and I hope if</font><font color="#CCCCCC"> you experiment with</font>

850
00:40:58,819 --> 00:41:01,880
<font color="#E5E5E5">some of them that you will end up</font>

851
00:41:00,530 --> 00:41:05,599
writing some<font color="#CCCCCC"> of your stuff up and</font>

852
00:41:01,880 --> 00:41:08,510
submitting for threat hunting net so in

853
00:41:05,599 --> 00:41:11,109
<font color="#E5E5E5">this case this point I only have</font>

854
00:41:08,510 --> 00:41:11,109
questions

