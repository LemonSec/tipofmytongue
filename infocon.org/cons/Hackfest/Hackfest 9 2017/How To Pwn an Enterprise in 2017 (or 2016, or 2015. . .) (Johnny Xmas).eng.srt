1
00:00:00,030 --> 00:00:03,689
so I was told also that this guy means

2
00:00:03,689 --> 00:00:06,870
blood he's the guy that it's here every

3
00:00:06,870 --> 00:00:09,660
year and he needs to come by and I would

4
00:00:09,660 --> 00:00:11,519
ask you Patrick to please keep it some

5
00:00:11,519 --> 00:00:29,400
love I'm like so when you submit to

6
00:00:29,400 --> 00:00:31,949
speak here they asked before if you have

7
00:00:31,949 --> 00:00:33,510
any special requirements and I said I

8
00:00:33,510 --> 00:00:36,019
need a hug

9
00:00:36,560 --> 00:00:38,040
[Music]

10
00:00:38,040 --> 00:00:39,960
whoever coordinates that actually put

11
00:00:39,960 --> 00:00:43,200
that on Patrick's calendar and Johnny

12
00:00:43,200 --> 00:00:46,079
Xmas is pretty funny so if you see me

13
00:00:46,079 --> 00:00:49,770
present here before cool I know you guys

14
00:00:49,770 --> 00:00:51,539
have because you came up and asked if

15
00:00:51,539 --> 00:00:54,539
I'm drunk again this time well let you

16
00:00:54,539 --> 00:00:58,829
guys find out how many pen testers we

17
00:00:58,829 --> 00:01:00,890
have in the audience

18
00:01:00,890 --> 00:01:05,369
that's more than those how many how many

19
00:01:05,369 --> 00:01:07,680
blue teamers doodoo pen testing is part

20
00:01:07,680 --> 00:01:15,360
of their role for well this is uh we're

21
00:01:15,360 --> 00:01:16,590
gonna fix that today that's the whole

22
00:01:16,590 --> 00:01:21,030
purpose of this so I'm moving out that's

23
00:01:21,030 --> 00:01:22,710
me the guy who looks like me as me I

24
00:01:22,710 --> 00:01:25,259
know a lot of these slides are going to

25
00:01:25,259 --> 00:01:26,430
be hard to read because those screens

26
00:01:26,430 --> 00:01:28,380
are kind of kind of small don't worry

27
00:01:28,380 --> 00:01:29,759
about it I put all the slides up on my

28
00:01:29,759 --> 00:01:31,079
github there's going to be tons of

29
00:01:31,079 --> 00:01:32,670
information anyway that I just wouldn't

30
00:01:32,670 --> 00:01:34,350
be able to go through so it's definitely

31
00:01:34,350 --> 00:01:36,689
a live link to the github at the bottom

32
00:01:36,689 --> 00:01:39,119
the final slide so definitely go grab

33
00:01:39,119 --> 00:01:40,680
those and review of it'll have links to

34
00:01:40,680 --> 00:01:43,140
all the tools I mentioned and all the

35
00:01:43,140 --> 00:01:45,750
text for pretty much everything so don't

36
00:01:45,750 --> 00:01:47,280
worry too much about nothing overly the

37
00:01:47,280 --> 00:01:51,659
slides about me I'm done intimates I'm

38
00:01:51,659 --> 00:01:53,399
currently security researcher for a

39
00:01:53,399 --> 00:01:56,570
company called cupcake where we're doing

40
00:01:56,570 --> 00:01:59,960
secret stuff

41
00:02:00,500 --> 00:02:02,090
I'm a industrial control systems

42
00:02:02,090 --> 00:02:04,009
vertical Howard we're gonna be releasing

43
00:02:04,009 --> 00:02:05,960
something really really really cool

44
00:02:05,960 --> 00:02:08,479
really soon so that's all I can say

45
00:02:08,479 --> 00:02:10,310
about that the upset is like I get to be

46
00:02:10,310 --> 00:02:12,260
a security researcher which is late you

47
00:02:12,260 --> 00:02:13,580
know how everybody wants to be a pen

48
00:02:13,580 --> 00:02:16,010
tester right like how many pen testers

49
00:02:16,010 --> 00:02:17,989
gonna ask daily tell me how we need to

50
00:02:17,989 --> 00:02:19,430
be pen tester which they do to be a pen

51
00:02:19,430 --> 00:02:21,170
tester all the planet visitors I know

52
00:02:21,170 --> 00:02:22,819
like we want to be security researchers

53
00:02:22,819 --> 00:02:24,680
because you just get to sit like in a

54
00:02:24,680 --> 00:02:26,209
little box that just happens stuff all

55
00:02:26,209 --> 00:02:28,040
day not to report to anybody so that's

56
00:02:28,040 --> 00:02:29,900
what I do now so I have I have my dream

57
00:02:29,900 --> 00:02:31,940
job of being a security researcher but

58
00:02:31,940 --> 00:02:33,560
before that I was a penetration tester

59
00:02:33,560 --> 00:02:35,360
that's potential penetration tester for

60
00:02:35,360 --> 00:02:38,060
a consulting firm which is like the

61
00:02:38,060 --> 00:02:39,650
worst whoever's the pentose for for

62
00:02:39,650 --> 00:02:43,489
consulting firm yeah it's it's not great

63
00:02:43,489 --> 00:02:45,470
like you don't work anywhere every

64
00:02:45,470 --> 00:02:46,790
client you have treats you like dirt

65
00:02:46,790 --> 00:02:48,319
because you're not actually an employee

66
00:02:48,319 --> 00:02:50,930
of them they don't listen to you because

67
00:02:50,930 --> 00:02:52,370
they don't know who you are and you're

68
00:02:52,370 --> 00:02:53,569
just some guy who's telling them they

69
00:02:53,569 --> 00:02:55,519
have to spend a lot of money and they

70
00:02:55,519 --> 00:02:56,660
think you're trying to just get them to

71
00:02:56,660 --> 00:02:57,920
spend more money and they don't believe

72
00:02:57,920 --> 00:03:00,410
you in just a terrible gig before that I

73
00:03:00,410 --> 00:03:03,980
was a security engineer for office maps

74
00:03:03,980 --> 00:03:07,700
so fortune 500 global 1000 company just

75
00:03:07,700 --> 00:03:09,680
to engineering defensive systems for

76
00:03:09,680 --> 00:03:11,120
them I'd say that was further like my

77
00:03:11,120 --> 00:03:14,090
first like real InfoSec job I miss that

78
00:03:14,090 --> 00:03:16,579
a lot security engineering was fun

79
00:03:16,579 --> 00:03:18,109
everybody would ask me like oh how do

80
00:03:18,109 --> 00:03:20,000
you pentester like you and like I just

81
00:03:20,000 --> 00:03:21,950
miss being an engineer like maybe go

82
00:03:21,950 --> 00:03:23,329
back and do that that's wrong it's fun

83
00:03:23,329 --> 00:03:25,160
it was like orchestration automation and

84
00:03:25,160 --> 00:03:26,690
registration automation and

85
00:03:26,690 --> 00:03:29,060
orchestration automation and then you're

86
00:03:29,060 --> 00:03:31,989
on the job it's the best

87
00:03:33,420 --> 00:03:36,060
I'm a founder coordinator for a burg

88
00:03:36,060 --> 00:03:38,150
sack which is who certain verbs SEC I

89
00:03:38,150 --> 00:03:40,170
can go to other countries and there's

90
00:03:40,170 --> 00:03:44,310
always like a few verbs AK is I like to

91
00:03:44,310 --> 00:03:46,650
say that under the stands for it but I'm

92
00:03:46,650 --> 00:03:48,720
pretty sure it's the most well attended

93
00:03:48,720 --> 00:03:51,959
information security meetups in the u.s.

94
00:03:51,959 --> 00:03:54,420
were based out of Chicago we have four

95
00:03:54,420 --> 00:03:57,810
of them we meet weekly and our largest

96
00:03:57,810 --> 00:04:01,920
ones get 40 to 70 consistent attendees

97
00:04:01,920 --> 00:04:05,220
so it's really really cool and I'm also

98
00:04:05,220 --> 00:04:08,099
a guy who speaks it hides who see me

99
00:04:08,099 --> 00:04:11,970
speak anywhere yeah

100
00:04:11,970 --> 00:04:13,799
I've been I think this is I'm

101
00:04:13,799 --> 00:04:16,250
approaching like number 70 now for

102
00:04:16,250 --> 00:04:18,570
presentations I've done in like my sixth

103
00:04:18,570 --> 00:04:20,699
country so this is really just what I do

104
00:04:20,699 --> 00:04:22,440
I hang out here and I talk to you people

105
00:04:22,440 --> 00:04:26,340
so moving on I'm here because I got

106
00:04:26,340 --> 00:04:29,130
bored as a pen tester I would go to

107
00:04:29,130 --> 00:04:31,979
company after company and I would find

108
00:04:31,979 --> 00:04:35,940
the same stupid garbage wrong at every

109
00:04:35,940 --> 00:04:38,729
company I would run the same attacks at

110
00:04:38,729 --> 00:04:40,260
every company get it in the same way

111
00:04:40,260 --> 00:04:43,940
give to you the same way be done in

112
00:04:43,940 --> 00:04:47,659
maybe two days for a 40 hour engagement

113
00:04:47,659 --> 00:04:50,310
hamsters figure out how to rewrite the

114
00:04:50,310 --> 00:04:52,460
same report for the 80th time because

115
00:04:52,460 --> 00:04:54,900
the company was really against like no

116
00:04:54,900 --> 00:04:56,669
you can't use complicated reports to get

117
00:04:56,669 --> 00:04:57,720
me to a new company you have to rate

118
00:04:57,720 --> 00:04:59,250
something custom for the current client

119
00:04:59,250 --> 00:05:01,020
and you can't write the same report for

120
00:05:01,020 --> 00:05:02,460
the same client that you get last year

121
00:05:02,460 --> 00:05:04,320
which is like that make sense but like

122
00:05:04,320 --> 00:05:06,060
why would you do that the first place

123
00:05:06,060 --> 00:05:09,370
because they didn't fix anything

124
00:05:09,370 --> 00:05:11,980
yeah they're having you still come back

125
00:05:11,980 --> 00:05:13,630
into a pen test and like the first thing

126
00:05:13,630 --> 00:05:15,250
I do as a pen tester when I'm like on a

127
00:05:15,250 --> 00:05:17,380
recurring engagement like go get my old

128
00:05:17,380 --> 00:05:19,270
reporter and I got right let me try

129
00:05:19,270 --> 00:05:22,570
these things first and most of them

130
00:05:22,570 --> 00:05:25,090
would still work I think oh why am I

131
00:05:25,090 --> 00:05:26,949
here well we're required to do a pen

132
00:05:26,949 --> 00:05:28,810
test every year for you know PCI

133
00:05:28,810 --> 00:05:31,800
compliant do you understand why

134
00:05:31,800 --> 00:05:34,300
well PCI compliance doesn't say we're

135
00:05:34,300 --> 00:05:36,100
deviated you just have to have done a

136
00:05:36,100 --> 00:05:45,820
pen test and so it got morning it's it

137
00:05:45,820 --> 00:05:48,070
was so ultra repetitive you just go it

138
00:05:48,070 --> 00:05:50,979
every day the same thing all its sleep

139
00:05:50,979 --> 00:05:52,930
for the rest of the week right to report

140
00:05:52,930 --> 00:05:54,040
the next week and like it was cool

141
00:05:54,040 --> 00:05:55,300
because at least you know you get a few

142
00:05:55,300 --> 00:05:58,389
days off every week like who doesn't

143
00:05:58,389 --> 00:06:00,040
want to work 60-hour weeks to get a full

144
00:06:00,040 --> 00:06:02,650
salary that's fantastic you get bored

145
00:06:02,650 --> 00:06:05,320
you get you having fever to sit at home

146
00:06:05,320 --> 00:06:08,199
all day doing nothing and so a lot of

147
00:06:08,199 --> 00:06:09,880
people would think that answer is weird

148
00:06:09,880 --> 00:06:11,440
like ah don't give me a pen tester man

149
00:06:11,440 --> 00:06:12,610
and then I give them the elected you

150
00:06:12,610 --> 00:06:15,970
know it's terrible be a pen tester for a

151
00:06:15,970 --> 00:06:18,280
company like full-time is really cool if

152
00:06:18,280 --> 00:06:19,510
you work for a company and you're on

153
00:06:19,510 --> 00:06:21,400
their internal red team that's what we

154
00:06:21,400 --> 00:06:23,650
like are forced to keep learning and

155
00:06:23,650 --> 00:06:26,620
keep finding your [ __ ] because you've

156
00:06:26,620 --> 00:06:28,210
already done the old [ __ ] and you've

157
00:06:28,210 --> 00:06:30,430
worked to help them remediate that and

158
00:06:30,430 --> 00:06:31,750
you get to watch so if you know you get

159
00:06:31,750 --> 00:06:33,520
to see the fruits of your labor and feel

160
00:06:33,520 --> 00:06:34,660
like you're accomplishing something

161
00:06:34,660 --> 00:06:37,660
versus when you're consultants you tell

162
00:06:37,660 --> 00:06:39,099
them what to do in your report and then

163
00:06:39,099 --> 00:06:40,660
sometimes you never see that company

164
00:06:40,660 --> 00:06:42,220
again and for all you know like this

165
00:06:42,220 --> 00:06:44,139
shit's just still broke in it sometimes

166
00:06:44,139 --> 00:06:46,800
I checked

167
00:06:46,889 --> 00:06:51,060
it's almost always still growing so what

168
00:06:51,060 --> 00:06:56,639
I put together for you here is a talk on

169
00:06:56,639 --> 00:07:00,240
all of that like cheater pen tester

170
00:07:00,240 --> 00:07:02,550
[ __ ] that I would do right out of

171
00:07:02,550 --> 00:07:04,439
the gate and get me in every single time

172
00:07:04,439 --> 00:07:07,439
so that you guys as a defensive

173
00:07:07,439 --> 00:07:09,210
engineer's or what-have-you can take

174
00:07:09,210 --> 00:07:11,610
this back andr mediate all the things

175
00:07:11,610 --> 00:07:13,919
that I take advantage of in this talk so

176
00:07:13,919 --> 00:07:16,080
that you're then ready to have a pen

177
00:07:16,080 --> 00:07:18,180
tester come in and actually provide you

178
00:07:18,180 --> 00:07:20,729
with something valuable versus them just

179
00:07:20,729 --> 00:07:21,840
wrecking your [ __ ] and giving you the

180
00:07:21,840 --> 00:07:23,129
finger and leaving because your stuff

181
00:07:23,129 --> 00:07:25,469
was so easy so a lot of that testers are

182
00:07:25,469 --> 00:07:26,550
going to be really mad than you doing

183
00:07:26,550 --> 00:07:29,550
this it's like you know a magician never

184
00:07:29,550 --> 00:07:32,039
reveals his secrets and then back in the

185
00:07:32,039 --> 00:07:33,779
90s fox had this running series where

186
00:07:33,779 --> 00:07:35,219
they had a magician who would reveal all

187
00:07:35,219 --> 00:07:36,750
the magicians secrets like oh here's how

188
00:07:36,750 --> 00:07:38,460
I saw the lady in half and all that all

189
00:07:38,460 --> 00:07:39,930
the magicians got super pissed at him

190
00:07:39,930 --> 00:07:42,150
for like giving their secrets away but

191
00:07:42,150 --> 00:07:44,520
his deal was like stop doing the saw the

192
00:07:44,520 --> 00:07:47,099
lady in half trick like it's a job and

193
00:07:47,099 --> 00:07:48,419
let your own thing so that's what I'm

194
00:07:48,419 --> 00:07:49,560
doing here I'm taking all the dumb

195
00:07:49,560 --> 00:07:51,270
things going here's how they work now

196
00:07:51,270 --> 00:07:53,099
you're all protected against it now you

197
00:07:53,099 --> 00:07:54,509
can have a pen mister come in he's

198
00:07:54,509 --> 00:07:55,979
actually going to be worth the money

199
00:07:55,979 --> 00:07:59,219
you're spending on a little bit about

200
00:07:59,219 --> 00:08:02,879
helping tensors actually go about their

201
00:08:02,879 --> 00:08:04,620
job there's actually a framework it's

202
00:08:04,620 --> 00:08:07,589
not just come in and just start poking

203
00:08:07,589 --> 00:08:08,789
around and help you find something to

204
00:08:08,789 --> 00:08:11,129
have because there's a process that you

205
00:08:11,129 --> 00:08:13,110
follow that in everyone's kind of got

206
00:08:13,110 --> 00:08:15,330
their own certain companies have their

207
00:08:15,330 --> 00:08:16,830
own process that they require women to

208
00:08:16,830 --> 00:08:19,020
follow but a lot of kind of revolve

209
00:08:19,020 --> 00:08:20,969
around or exactly use this penetration

210
00:08:20,969 --> 00:08:23,969
testing execution standard that's a pen

211
00:08:23,969 --> 00:08:26,250
test - standard or again you can

212
00:08:26,250 --> 00:08:27,539
download all my slides later and find

213
00:08:27,539 --> 00:08:29,430
this stuff this is an incredibly

214
00:08:29,430 --> 00:08:31,500
in-depth standard that was created by a

215
00:08:31,500 --> 00:08:33,570
lot of huge names in the penetration

216
00:08:33,570 --> 00:08:34,948
testing and information security field

217
00:08:34,948 --> 00:08:36,000
to just kind of make sure that

218
00:08:36,000 --> 00:08:37,349
everyone's doing a very thorough job

219
00:08:37,349 --> 00:08:40,140
test and generally how it works did you

220
00:08:40,140 --> 00:08:43,970
come in and do the question thank see

221
00:08:43,970 --> 00:08:46,970
computer

222
00:08:47,680 --> 00:08:50,720
let's see you come in and you start

223
00:08:50,720 --> 00:08:52,040
doing a lot of your passes looking

224
00:08:52,040 --> 00:08:53,870
around you see what there is to see you

225
00:08:53,870 --> 00:08:56,180
started investigating the perimeter if

226
00:08:56,180 --> 00:08:57,800
you're looking elsewhere on the internet

227
00:08:57,800 --> 00:08:59,630
for information about the company trying

228
00:08:59,630 --> 00:09:03,290
to build yourself you're at a plan and

229
00:09:03,290 --> 00:09:04,490
then you boot once you've got your

230
00:09:04,490 --> 00:09:06,290
attack plan you've identified like here

231
00:09:06,290 --> 00:09:07,730
are the weak points here's what I'm

232
00:09:07,730 --> 00:09:09,199
going to try to attempt against those

233
00:09:09,199 --> 00:09:10,339
weak points like that's when you move

234
00:09:10,339 --> 00:09:12,290
into the exploitation phase and start

235
00:09:12,290 --> 00:09:15,529
actually actively doing things and this

236
00:09:15,529 --> 00:09:17,209
is where this is you're mainly your

237
00:09:17,209 --> 00:09:18,709
greatest force 8 o'clock hangs out

238
00:09:18,709 --> 00:09:19,519
around here

239
00:09:19,519 --> 00:09:21,019
and then once you've been exploited

240
00:09:21,019 --> 00:09:22,519
something to allow yourself to get

241
00:09:22,519 --> 00:09:24,050
access into the company or greater

242
00:09:24,050 --> 00:09:25,760
efforts that you have then you move into

243
00:09:25,760 --> 00:09:28,870
this post exploitation phase and that is

244
00:09:28,870 --> 00:09:31,399
where you're you're you're in a new

245
00:09:31,399 --> 00:09:33,230
place and you're like alright what's

246
00:09:33,230 --> 00:09:35,630
here what can I get from here how do I

247
00:09:35,630 --> 00:09:37,250
get from here to where I want to go and

248
00:09:37,250 --> 00:09:40,040
it kind of goes into circle where you're

249
00:09:40,040 --> 00:09:41,240
meant to your intelligence gathering

250
00:09:41,240 --> 00:09:47,839
again go back to that computers so it

251
00:09:47,839 --> 00:09:49,040
kind of goes on the circle like this

252
00:09:49,040 --> 00:09:50,240
where you go intelligence gathering

253
00:09:50,240 --> 00:09:52,269
exploitation post exploitation

254
00:09:52,269 --> 00:09:54,199
intelligence gathering again because now

255
00:09:54,199 --> 00:09:55,490
you're in a new place I'm inside of a

256
00:09:55,490 --> 00:09:56,660
new computer is there something that

257
00:09:56,660 --> 00:09:57,949
this new computer can see that the old

258
00:09:57,949 --> 00:09:59,449
computer I was in sight of couldn't

259
00:09:59,449 --> 00:10:01,490
other HCL's in place other documents in

260
00:10:01,490 --> 00:10:03,260
the computer right confuse you're going

261
00:10:03,260 --> 00:10:04,430
to search for things like lists and

262
00:10:04,430 --> 00:10:06,560
passwords which you find all the time

263
00:10:06,560 --> 00:10:09,829
just plain text on the desktop but you

264
00:10:09,829 --> 00:10:11,360
don't even have the really look like you

265
00:10:11,360 --> 00:10:13,610
can search for the phrase password and

266
00:10:13,610 --> 00:10:15,769
find these things and you laugh and it

267
00:10:15,769 --> 00:10:17,360
seems silly but it's just incredibly

268
00:10:17,360 --> 00:10:20,750
common so that that's what I generally

269
00:10:20,750 --> 00:10:25,160
use myself one big thing that I think I

270
00:10:25,160 --> 00:10:26,930
find a lot of defensive people don't

271
00:10:26,930 --> 00:10:31,069
realize is that the reason your wiki box

272
00:10:31,069 --> 00:10:33,019
technology and endpoint protection and

273
00:10:33,019 --> 00:10:36,350
stuff doesn't work that well is because

274
00:10:36,350 --> 00:10:38,779
hackers aren't using the things that

275
00:10:38,779 --> 00:10:41,329
that stuff defends against we're using

276
00:10:41,329 --> 00:10:42,829
the things that are already in the

277
00:10:42,829 --> 00:10:44,810
system's we're just using PowerShell

278
00:10:44,810 --> 00:10:47,779
we're using WMI we're using SMB we're

279
00:10:47,779 --> 00:10:50,750
using Windows itself and just like

280
00:10:50,750 --> 00:10:52,459
passing commands around we're using

281
00:10:52,459 --> 00:10:55,220
legitimate users we're bogging in is

282
00:10:55,220 --> 00:10:56,930
actually users with their credentials

283
00:10:56,930 --> 00:10:58,329
and acting like that

284
00:10:58,329 --> 00:11:01,730
all of that stuff is not something that

285
00:11:01,730 --> 00:11:03,230
you know the money you spend on defense

286
00:11:03,230 --> 00:11:04,519
and technology is really going to be

287
00:11:04,519 --> 00:11:06,500
great finding especially if you're just

288
00:11:06,500 --> 00:11:08,569
pulling it out of the box and setting it

289
00:11:08,569 --> 00:11:09,829
up and doing it

290
00:11:09,829 --> 00:11:13,040
they just think they're not made to work

291
00:11:13,040 --> 00:11:14,750
against would you admit activities like

292
00:11:14,750 --> 00:11:17,589
that we don't we often don't use Kelly

293
00:11:17,589 --> 00:11:20,300
Kelly is great as a defensive engineer

294
00:11:20,300 --> 00:11:22,310
if you just need an info sexual kids to

295
00:11:22,310 --> 00:11:24,350
pull up and start like launching attacks

296
00:11:24,350 --> 00:11:25,370
because you want to test if your

297
00:11:25,370 --> 00:11:27,019
immediate something or whatever it's

298
00:11:27,019 --> 00:11:30,199
totally fine generally it's it's wonky

299
00:11:30,199 --> 00:11:32,089
it's not a great daily driver operating

300
00:11:32,089 --> 00:11:34,480
system personally what I do is I just

301
00:11:34,480 --> 00:11:37,040
might go to is just a DB in installed

302
00:11:37,040 --> 00:11:39,019
with a couple of tools that I use play

303
00:11:39,019 --> 00:11:41,690
and the tools Maps because I don't need

304
00:11:41,690 --> 00:11:43,100
the four thousand things at our site of

305
00:11:43,100 --> 00:11:45,709
Yale and then once you're inside a

306
00:11:45,709 --> 00:11:49,009
company you're not spinning up a Kelly

307
00:11:49,009 --> 00:11:51,350
VM on their native sex I post you can

308
00:11:51,350 --> 00:11:53,060
I've seen people do it it's just the

309
00:11:53,060 --> 00:11:54,670
most [ __ ] thing you could ever do

310
00:11:54,670 --> 00:11:57,319
tell you the noisiest operating system

311
00:11:57,319 --> 00:11:58,639
that's funny because it's like oh the

312
00:11:58,639 --> 00:12:00,709
quieter you become as their big tagline

313
00:12:00,709 --> 00:12:04,310
it's noisy as hell like Kelly announces

314
00:12:04,310 --> 00:12:06,829
itself on the network and every which

315
00:12:06,829 --> 00:12:08,990
way possible like if somebody spins up

316
00:12:08,990 --> 00:12:10,130
he'll hit and every you should be able

317
00:12:10,130 --> 00:12:12,170
to immediately to identify it shut it

318
00:12:12,170 --> 00:12:14,449
down so when I was doing that we're just

319
00:12:14,449 --> 00:12:15,860
we're taking advantage of the computers

320
00:12:15,860 --> 00:12:18,259
that already there were just living off

321
00:12:18,259 --> 00:12:20,540
the land on occasion we will launch as a

322
00:12:20,540 --> 00:12:22,009
malware that's an absolute last resort

323
00:12:22,009 --> 00:12:23,959
if living off the land just didn't work

324
00:12:23,959 --> 00:12:27,050
and even then we're likely crafting our

325
00:12:27,050 --> 00:12:29,269
own Ellen on the fly so there's no

326
00:12:29,269 --> 00:12:30,680
signatures out there for it like

327
00:12:30,680 --> 00:12:32,209
sometimes heuristics will pick it up

328
00:12:32,209 --> 00:12:33,850
sometimes it won't

329
00:12:33,850 --> 00:12:35,930
sometimes we're just using powershell

330
00:12:35,930 --> 00:12:37,850
malware which like nothing catches for

331
00:12:37,850 --> 00:12:39,470
some reason like everything's just

332
00:12:39,470 --> 00:12:41,329
terrible grabbing anything powershell

333
00:12:41,329 --> 00:12:44,569
based so pro tip start looking for

334
00:12:44,569 --> 00:12:46,220
PowerShell being exploited in

335
00:12:46,220 --> 00:12:50,990
environment so first things we touch

336
00:12:50,990 --> 00:12:53,060
engine 3 unlike this sentences this is

337
00:12:53,060 --> 00:12:54,500
where we're trying to figure out what's

338
00:12:54,500 --> 00:12:55,550
going on with this company we're

339
00:12:55,550 --> 00:12:57,740
starting from outside by the way and

340
00:12:57,740 --> 00:13:01,730
just determine what as biotech is one of

341
00:13:01,730 --> 00:13:03,889
my favorite things to use is of course

342
00:13:03,889 --> 00:13:05,509
it's cool that I will call the scan

343
00:13:05,509 --> 00:13:09,410
Canada this is a cool combination of MF

344
00:13:09,410 --> 00:13:11,350
and mass scan we so who knows maps

345
00:13:11,350 --> 00:13:14,980
yeah cool that scan is super fun my

346
00:13:14,980 --> 00:13:16,630
roots can scan cannons for the purpose

347
00:13:16,630 --> 00:13:19,630
of enumerate the external environment of

348
00:13:19,630 --> 00:13:21,100
huge companies

349
00:13:21,100 --> 00:13:23,260
this is for somebody who have you know

350
00:13:23,260 --> 00:13:25,660
like a class bead on the internet

351
00:13:25,660 --> 00:13:28,000
something just gargantuan and they with

352
00:13:28,000 --> 00:13:30,250
a lot of activities a lot of domain

353
00:13:30,250 --> 00:13:31,510
names a lot of stuff you wanna

354
00:13:31,510 --> 00:13:33,760
investigate this goes through and it not

355
00:13:33,760 --> 00:13:35,320
only enumerates all that there's like n

356
00:13:35,320 --> 00:13:37,060
mammal would but it creates this whole

357
00:13:37,060 --> 00:13:39,100
folder structure full of the really

358
00:13:39,100 --> 00:13:41,740
interesting stuff full of lists of just

359
00:13:41,740 --> 00:13:44,200
IPS lists of domains that you can easily

360
00:13:44,200 --> 00:13:46,090
point other tools at and keep going and

361
00:13:46,090 --> 00:13:48,280
script around it's up let me get up it's

362
00:13:48,280 --> 00:13:50,080
called Sam cannon I like it a lot that

363
00:13:50,080 --> 00:13:52,870
contains here props to Kate for helping

364
00:13:52,870 --> 00:13:54,700
me with all of the hawk awesomeness

365
00:13:54,700 --> 00:13:57,400
that's built in the skin cannon so I

366
00:13:57,400 --> 00:13:58,930
like to use that with the larger

367
00:13:58,930 --> 00:14:00,730
corporations with smaller ones you don't

368
00:14:00,730 --> 00:14:02,530
need something like this and in fact it

369
00:14:02,530 --> 00:14:04,840
might they might get your way you might

370
00:14:04,840 --> 00:14:06,580
you have a great potential actually

371
00:14:06,580 --> 00:14:08,200
tossing their company's external

372
00:14:08,200 --> 00:14:10,810
infrastructure with using the mask and

373
00:14:10,810 --> 00:14:14,290
that's built into here we actually we

374
00:14:14,290 --> 00:14:15,790
ended up taking excellently taking out

375
00:14:15,790 --> 00:14:17,740
our is please router at one point while

376
00:14:17,740 --> 00:14:20,470
you're testing and which is fine from

377
00:14:20,470 --> 00:14:22,270
just like a single end point which is

378
00:14:22,270 --> 00:14:22,690
crazy

379
00:14:22,690 --> 00:14:24,580
it's like 1990s again where you can do

380
00:14:24,580 --> 00:14:27,970
that from what ap so skin cannons gonna

381
00:14:27,970 --> 00:14:29,560
gonna help you like the new brain ones

382
00:14:29,560 --> 00:14:31,690
out there what are we looking for them

383
00:14:31,690 --> 00:14:33,580
what's what's the low-hanging fruit in

384
00:14:33,580 --> 00:14:38,550
the companies externally facing Guardian

385
00:14:38,730 --> 00:14:44,530
FTP sure WordPress but why what's it

386
00:14:44,530 --> 00:14:49,180
gonna get you a shell on yeah hopefully

387
00:14:49,180 --> 00:14:51,250
you're going to get a show hopefully

388
00:14:51,250 --> 00:14:53,980
then that shell is going to have you can

389
00:14:53,980 --> 00:14:55,240
allow you to access further into the

390
00:14:55,240 --> 00:14:57,610
network and not just be a cieldolphin I

391
00:14:57,610 --> 00:14:59,080
got that sir but hopefully the server is

392
00:14:59,080 --> 00:15:01,420
going to have 80 connections to it

393
00:15:01,420 --> 00:15:03,370
that's like what we want here we're

394
00:15:03,370 --> 00:15:05,080
looking for anything that that works

395
00:15:05,080 --> 00:15:07,120
with AD anything that uses 82 authentic

396
00:15:07,120 --> 00:15:10,180
page which could be FTP which could be

397
00:15:10,180 --> 00:15:11,650
something on that WordPress server I

398
00:15:11,650 --> 00:15:16,360
mean I hope down but it happens um we're

399
00:15:16,360 --> 00:15:18,850
looking for Oh is my absolute favorite

400
00:15:18,850 --> 00:15:21,400
I would wet weather which is that's the

401
00:15:21,400 --> 00:15:23,530
best because it's right there what else

402
00:15:23,530 --> 00:15:25,220
I got here I got RDP

403
00:15:25,220 --> 00:15:27,790
huge weather so it's RDP uses show down

404
00:15:27,790 --> 00:15:30,710
the internet scavenger hunt toolshed and

405
00:15:30,710 --> 00:15:32,690
super fun go and you've shown an for

406
00:15:32,690 --> 00:15:35,900
nobody's it's the best like it's better

407
00:15:35,900 --> 00:15:38,000
than like surfing Forte do you find like

408
00:15:38,000 --> 00:15:40,490
the most emotionally frustrating [ __ ]

409
00:15:40,490 --> 00:15:42,200
just using show down and it's really

410
00:15:42,200 --> 00:15:45,020
easy this is a I just did a quick all

411
00:15:45,020 --> 00:15:47,120
you do a search for remote desktop I got

412
00:15:47,120 --> 00:15:49,850
2.7 million hits this is on the Internet

413
00:15:49,850 --> 00:15:53,330
this is 2.7 million RDP I was it's like

414
00:15:53,330 --> 00:15:55,310
listening for RDP just waiting for a

415
00:15:55,310 --> 00:15:58,250
login on the internet like that I can

416
00:15:58,250 --> 00:16:00,170
get you from my house actually I think I

417
00:16:00,170 --> 00:16:03,110
did that from here make me it doesn't

418
00:16:03,110 --> 00:16:05,900
matter up here Outlook Web App I think

419
00:16:05,900 --> 00:16:07,940
there's like 48,000 just hanging out

420
00:16:07,940 --> 00:16:11,870
it's a company stuff EPA VPS and often

421
00:16:11,870 --> 00:16:13,460
one especially if it has an HTTP

422
00:16:13,460 --> 00:16:15,530
front-end for it because a lot of times

423
00:16:15,530 --> 00:16:17,150
they'll leave the VPN group name to you

424
00:16:17,150 --> 00:16:17,870
because they just give you this

425
00:16:17,870 --> 00:16:21,380
drop-down box so but overall we're

426
00:16:21,380 --> 00:16:23,420
looking for ATS connected logins that we

427
00:16:23,420 --> 00:16:26,240
can use to determine if we can figure

428
00:16:26,240 --> 00:16:27,620
out the users password because if you

429
00:16:27,620 --> 00:16:29,560
got an ad decide of 80 credentials

430
00:16:29,560 --> 00:16:31,790
you're being that's great that gets you

431
00:16:31,790 --> 00:16:33,920
so far the company first is like you

432
00:16:33,920 --> 00:16:35,750
don't want a website that has like a

433
00:16:35,750 --> 00:16:37,040
customer portal because then you're just

434
00:16:37,040 --> 00:16:38,930
getting customer credentials and those

435
00:16:38,930 --> 00:16:40,250
generally that's not going to help you

436
00:16:40,250 --> 00:16:42,380
for what you're trying to do here that's

437
00:16:42,380 --> 00:16:43,970
just for playing around and fun on its

438
00:16:43,970 --> 00:16:45,830
own so maybe we're looking for a be

439
00:16:45,830 --> 00:16:47,150
connected long hands with no

440
00:16:47,150 --> 00:16:50,120
multi-factor protections up that's the

441
00:16:50,120 --> 00:16:51,770
big thing is pretty much like if you got

442
00:16:51,770 --> 00:16:53,900
two factors then that's that shoots us

443
00:16:53,900 --> 00:16:55,430
in both feet like that's the worst

444
00:16:55,430 --> 00:16:57,440
often times it'll just give up on that

445
00:16:57,440 --> 00:16:58,820
will be like you know this is not they

446
00:16:58,820 --> 00:17:00,290
got to factor they're hot where else can

447
00:17:00,290 --> 00:17:00,890
we get in

448
00:17:00,890 --> 00:17:02,690
so like first performance it should be

449
00:17:02,690 --> 00:17:05,420
using too peppery most people are I

450
00:17:05,420 --> 00:17:07,550
can't understand this like how you have

451
00:17:07,550 --> 00:17:09,560
something that wants to ad you get on

452
00:17:09,560 --> 00:17:11,150
the internet that you put on the

453
00:17:11,150 --> 00:17:13,339
internet like hola with no no

454
00:17:13,339 --> 00:17:16,130
multi-factor on it's just [ __ ]

455
00:17:16,130 --> 00:17:18,770
baffling and so like that's that's what

456
00:17:18,770 --> 00:17:21,319
we're trying to do here so what do we

457
00:17:21,319 --> 00:17:26,089
need for those ad logins what do we need

458
00:17:26,089 --> 00:17:29,270
to get past those shell now it can get

459
00:17:29,270 --> 00:17:30,220
really boring

460
00:17:30,220 --> 00:17:33,170
Freddy Freddy what are friends what are

461
00:17:33,170 --> 00:17:34,970
the two parts that correct username and

462
00:17:34,970 --> 00:17:36,650
password so like where do we find

463
00:17:36,650 --> 00:17:39,220
usernames

464
00:17:42,070 --> 00:17:46,460
the internet yeah so one of my personal

465
00:17:46,460 --> 00:17:48,019
favorites is hunter dot IO that's the

466
00:17:48,019 --> 00:17:49,850
way that the domain name under dot IO

467
00:17:49,850 --> 00:17:53,240
and it's free and he you can go in there

468
00:17:53,240 --> 00:17:54,649
and you just type in a company domain

469
00:17:54,649 --> 00:17:56,179
name that you're looking for and it will

470
00:17:56,179 --> 00:17:59,679
just I think for Google maybe 13,000

471
00:17:59,679 --> 00:18:01,519
14,000 email addresses

472
00:18:01,519 --> 00:18:03,470
what's cool about email addresses is

473
00:18:03,470 --> 00:18:05,779
exchange web services can use those it's

474
00:18:05,779 --> 00:18:08,750
available user names also it's often

475
00:18:08,750 --> 00:18:11,450
really easy to reverse those into valve

476
00:18:11,450 --> 00:18:13,549
user names based off the address so

477
00:18:13,549 --> 00:18:14,480
we're looking for user names or

478
00:18:14,480 --> 00:18:15,889
addresses I mean other places you can

479
00:18:15,889 --> 00:18:20,029
use data that pound is a great one data

480
00:18:20,029 --> 00:18:21,710
economy is really great because I see a

481
00:18:21,710 --> 00:18:25,159
lot of immoral pentesters who will go

482
00:18:25,159 --> 00:18:29,720
like Dumbo company's entire ad Samuele

483
00:18:29,720 --> 00:18:31,610
addresses and then upload them to

484
00:18:31,610 --> 00:18:34,250
datacom because they'd enough copies

485
00:18:34,250 --> 00:18:36,080
like gamma phi it gives you credits and

486
00:18:36,080 --> 00:18:37,340
the more credits you have the more stuff

487
00:18:37,340 --> 00:18:39,500
you can get off of them and so these pen

488
00:18:39,500 --> 00:18:41,059
test doesn't like take the results of

489
00:18:41,059 --> 00:18:43,519
one of their lightly pen tests taking us

490
00:18:43,519 --> 00:18:45,409
like restricted corporate information

491
00:18:45,409 --> 00:18:48,350
and just upload it to datacom so was it

492
00:18:48,350 --> 00:18:50,000
Thomas deposits from other pens best

493
00:18:50,000 --> 00:18:52,010
case so if you're looking for a company

494
00:18:52,010 --> 00:18:53,870
try that hundred on Io only the same

495
00:18:53,870 --> 00:18:57,110
thing it's really cool and so that's

496
00:18:57,110 --> 00:18:59,059
going to get you email addresses there's

497
00:18:59,059 --> 00:19:00,470
a tool called folk out there was used

498
00:19:00,470 --> 00:19:04,370
photo I really like polka it has not

499
00:19:04,370 --> 00:19:05,899
been updated in a long time doesn't

500
00:19:05,899 --> 00:19:07,700
really seem to need to be what they're

501
00:19:07,700 --> 00:19:09,889
really the only great part about polka

502
00:19:09,889 --> 00:19:10,760
that stores anymore

503
00:19:10,760 --> 00:19:14,000
is the document scraping coercing you

504
00:19:14,000 --> 00:19:17,539
point this at a domain it hunts down all

505
00:19:17,539 --> 00:19:19,549
related servers to that domain it tries

506
00:19:19,549 --> 00:19:21,260
to hunt down other servers like with

507
00:19:21,260 --> 00:19:23,179
subdomains under that domain and then

508
00:19:23,179 --> 00:19:25,519
you get it to pull a ton of documents

509
00:19:25,519 --> 00:19:28,010
and then why do you need these documents

510
00:19:28,010 --> 00:19:29,210
what's it what's in these documents

511
00:19:29,210 --> 00:19:33,919
that's great metadata exactly metadata

512
00:19:33,919 --> 00:19:38,990
such as usernames so you go you grab all

513
00:19:38,990 --> 00:19:40,789
these documents I mean is where you're

514
00:19:40,789 --> 00:19:42,260
gonna find a document that actually has

515
00:19:42,260 --> 00:19:44,480
anything useful inside of the actual

516
00:19:44,480 --> 00:19:45,980
text because it's usually just marketing

517
00:19:45,980 --> 00:19:47,809
materials or something like that the

518
00:19:47,809 --> 00:19:49,279
metadata is what you want it not only

519
00:19:49,279 --> 00:19:51,570
leaves user names but it we

520
00:19:51,570 --> 00:19:53,580
Network locations it gives you surfer

521
00:19:53,580 --> 00:19:55,290
names it gives you workstation names it

522
00:19:55,290 --> 00:19:56,400
gives you work with precision

523
00:19:56,400 --> 00:19:58,320
fingerprint sometimes with enough

524
00:19:58,320 --> 00:19:59,460
documents you can really start to

525
00:19:59,460 --> 00:20:00,840
fingerprint the inside of a company

526
00:20:00,840 --> 00:20:02,670
without having actually ever even breach

527
00:20:02,670 --> 00:20:04,290
the perimeter and you're just doing

528
00:20:04,290 --> 00:20:05,910
passive things like not just downloading

529
00:20:05,910 --> 00:20:07,200
stuff that they host on the internet but

530
00:20:07,200 --> 00:20:09,150
not really going to flag anything other

531
00:20:09,150 --> 00:20:11,760
than like hey somebody just downloaded

532
00:20:11,760 --> 00:20:13,890
all 17,000 documents we post publicly

533
00:20:13,890 --> 00:20:15,690
maybe that's something we should flag on

534
00:20:15,690 --> 00:20:21,800
you laughs nobody flags on that so let's

535
00:20:21,800 --> 00:20:24,650
go through how to defend against that

536
00:20:24,650 --> 00:20:27,690
for the service scams like the scanners

537
00:20:27,690 --> 00:20:29,820
a is really really easy to get your

538
00:20:29,820 --> 00:20:31,800
sensitive alert on somebody who's doing

539
00:20:31,800 --> 00:20:35,100
a massive scan like that that that

540
00:20:35,100 --> 00:20:36,840
shouldn't shouldn't be anything I have

541
00:20:36,840 --> 00:20:38,430
to talk about it that might as imagine

542
00:20:38,430 --> 00:20:40,170
like every sent out there just might

543
00:20:40,170 --> 00:20:41,910
have fault out of the box has alerts or

544
00:20:41,910 --> 00:20:45,960
like an nmap scan especially if it's you

545
00:20:45,960 --> 00:20:47,460
know a ton of connections are coming

546
00:20:47,460 --> 00:20:49,230
from the same ip like that's weird

547
00:20:49,230 --> 00:20:50,520
some of connections to different ports

548
00:20:50,520 --> 00:20:51,870
in the same IP o is if there's like a

549
00:20:51,870 --> 00:20:53,160
thousand rules you can write on that

550
00:20:53,160 --> 00:20:57,120
super easy make sure that what you have

551
00:20:57,120 --> 00:20:58,650
out there is what you want to have up

552
00:20:58,650 --> 00:21:01,290
there you should be running these tools

553
00:21:01,290 --> 00:21:04,080
and finding finding what's running up

554
00:21:04,080 --> 00:21:05,190
there I mean how many people have to

555
00:21:05,190 --> 00:21:07,110
deal with like shadow IP is a daily part

556
00:21:07,110 --> 00:21:10,020
of their job like that's a huge problem

557
00:21:10,020 --> 00:21:12,270
insecurity is like where the [ __ ] did

558
00:21:12,270 --> 00:21:14,280
this server come from now who is this

559
00:21:14,280 --> 00:21:16,440
why is there an open FTP server with

560
00:21:16,440 --> 00:21:20,430
like guest accounts enabled that wasn't

561
00:21:20,430 --> 00:21:21,990
here yesterday you should have that

562
00:21:21,990 --> 00:21:24,600
level of information on your network you

563
00:21:24,600 --> 00:21:25,830
should be able to know something popped

564
00:21:25,830 --> 00:21:27,660
up that wasn't there yesterday you

565
00:21:27,660 --> 00:21:28,860
should be running these tools and

566
00:21:28,860 --> 00:21:30,270
anything you find that spirit who should

567
00:21:30,270 --> 00:21:32,220
be remediated but it's not all about

568
00:21:32,220 --> 00:21:34,290
just like vulnerability management it's

569
00:21:34,290 --> 00:21:36,750
about like asset management you can like

570
00:21:36,750 --> 00:21:39,090
reduce your attack surface greatly by

571
00:21:39,090 --> 00:21:42,150
just looking at it going to these 70,000

572
00:21:42,150 --> 00:21:44,280
things don't have to be here this system

573
00:21:44,280 --> 00:21:45,420
doesn't need to have all of these

574
00:21:45,420 --> 00:21:46,980
services listening when we only use it

575
00:21:46,980 --> 00:21:47,610
for that

576
00:21:47,610 --> 00:21:50,010
that's huge just reducing your attack

577
00:21:50,010 --> 00:21:51,870
service is incredibly frustrating a

578
00:21:51,870 --> 00:21:55,740
great thing you do be running should end

579
00:21:55,740 --> 00:21:58,500
and focus and googling yourself download

580
00:21:58,500 --> 00:22:00,330
your own documents that you guys are

581
00:22:00,330 --> 00:22:02,490
hosting see what metadata is in them

582
00:22:02,490 --> 00:22:04,919
like I'm finding usernames from

583
00:22:04,919 --> 00:22:08,409
documents from 2003 and so what a user

584
00:22:08,409 --> 00:22:09,849
probably doesn't work there anymore and

585
00:22:09,849 --> 00:22:11,709
that counts probably not valid but and

586
00:22:11,709 --> 00:22:13,389
with the metadata you can garner from

587
00:22:13,389 --> 00:22:15,339
the username is valid because it tells

588
00:22:15,339 --> 00:22:17,409
you the username for that the company

589
00:22:17,409 --> 00:22:19,479
uses that you can go back and take all

590
00:22:19,479 --> 00:22:21,009
the emails from their company to grab

591
00:22:21,009 --> 00:22:24,070
and lightly assemble a username from

592
00:22:24,070 --> 00:22:25,359
that's usually like you know first

593
00:22:25,359 --> 00:22:26,919
initial last name something like that

594
00:22:26,919 --> 00:22:29,079
really great defensively against that is

595
00:22:29,079 --> 00:22:30,879
don't use usernames that are derived

596
00:22:30,879 --> 00:22:33,639
from anything your username should be

597
00:22:33,639 --> 00:22:35,379
just like random letters and numbers or

598
00:22:35,379 --> 00:22:36,519
something like that you know an employee

599
00:22:36,519 --> 00:22:38,079
ID number and then a letter at the end

600
00:22:38,079 --> 00:22:39,429
defining like what the state of the

601
00:22:39,429 --> 00:22:42,940
counters are whether that's a huge point

602
00:22:42,940 --> 00:22:46,089
I don't really find them and what I do

603
00:22:46,089 --> 00:22:47,559
this is my office it's like there's no

604
00:22:47,559 --> 00:22:49,629
way that I could even like enumerate

605
00:22:49,629 --> 00:22:50,979
user names like it but if I know that

606
00:22:50,979 --> 00:22:52,839
you're using user name method is first

607
00:22:52,839 --> 00:22:53,649
initial last name

608
00:22:53,649 --> 00:22:55,839
I get cranked out a ton of user names

609
00:22:55,839 --> 00:22:59,379
just by guessing a Smith B Smith C Smith

610
00:22:59,379 --> 00:23:02,229
D Smith our Smith like how many others

611
00:23:02,229 --> 00:23:04,239
are probably valid tell me how many

612
00:23:04,239 --> 00:23:06,279
probably have an a Smith one a Smith

613
00:23:06,279 --> 00:23:09,339
four five its common names so like if

614
00:23:09,339 --> 00:23:10,629
you're you building user names in your

615
00:23:10,629 --> 00:23:11,679
environment that are based off of

616
00:23:11,679 --> 00:23:14,559
something that's easily discernible tell

617
00:23:14,559 --> 00:23:15,819
them place something I know that's a

618
00:23:15,819 --> 00:23:19,269
huge thing to have to fix but it's a

619
00:23:19,269 --> 00:23:20,379
huge thing it's like never of

620
00:23:20,379 --> 00:23:21,759
segmentation it's a big pain in the ass

621
00:23:21,759 --> 00:23:24,940
but it like it stops of major attempt

622
00:23:24,940 --> 00:23:28,629
that I use constantly and so then once

623
00:23:28,629 --> 00:23:30,429
you've got everything cleaned up you

624
00:23:30,429 --> 00:23:31,179
know what's out there

625
00:23:31,179 --> 00:23:32,559
start writing alerts around it's like

626
00:23:32,559 --> 00:23:35,859
identify anomalous activity based on how

627
00:23:35,859 --> 00:23:38,589
that stuff should be accessed and then

628
00:23:38,589 --> 00:23:40,809
write a list for weird weird ways of

629
00:23:40,809 --> 00:23:42,579
accessing that such as like downloading

630
00:23:42,579 --> 00:23:44,319
free documents from the web from your

631
00:23:44,319 --> 00:23:45,309
website now the big deal

632
00:23:45,309 --> 00:23:48,489
downloading 17 weird alert on that just

633
00:23:48,489 --> 00:23:51,759
easy stuff like that there's a who's use

634
00:23:51,759 --> 00:23:55,179
this program recon ng fell the pen

635
00:23:55,179 --> 00:23:57,789
testers in the front row on recon ng is

636
00:23:57,789 --> 00:23:59,109
really cool because it finds more stuff

637
00:23:59,109 --> 00:24:00,669
than just like documents with metadata

638
00:24:00,669 --> 00:24:03,279
it goes looking out to all sorts of

639
00:24:03,279 --> 00:24:06,149
places like LinkedIn and paste bin and

640
00:24:06,149 --> 00:24:08,949
the PGP system it starts looking for

641
00:24:08,949 --> 00:24:11,829
user names email addresses and keys like

642
00:24:11,829 --> 00:24:12,909
PGP keys

643
00:24:12,909 --> 00:24:17,570
SSH keys it finds all sorts of bullcrap

644
00:24:17,570 --> 00:24:19,970
straight anything you guys should be

645
00:24:19,970 --> 00:24:21,770
like constantly scraping pace been

646
00:24:21,770 --> 00:24:23,330
looking for your company's data in it

647
00:24:23,330 --> 00:24:25,730
because they spin is an awesome resource

648
00:24:25,730 --> 00:24:29,000
for for company data and also mail there

649
00:24:29,000 --> 00:24:30,860
there's another talk here I'm finding

650
00:24:30,860 --> 00:24:32,210
out instead of mail or just by scraping

651
00:24:32,210 --> 00:24:34,190
like if you want free mail where you can

652
00:24:34,190 --> 00:24:36,890
code like he's back but also like do you

653
00:24:36,890 --> 00:24:38,980
want company's internal information

654
00:24:38,980 --> 00:24:41,270
pastebin you should just be searching

655
00:24:41,270 --> 00:24:43,160
for your company main company name and

656
00:24:43,160 --> 00:24:44,630
variations on your company name I

657
00:24:44,630 --> 00:24:47,480
believe spin daily hourly whatever that

658
00:24:47,480 --> 00:24:48,560
should be a really easy thing you can

659
00:24:48,560 --> 00:24:51,890
scrape I definitely do that um you can

660
00:24:51,890 --> 00:24:53,480
have legal it's an absolutely gorgeous

661
00:24:53,480 --> 00:24:54,950
company you can have them as you take

662
00:24:54,950 --> 00:24:56,630
downs to link data comment hundred I

663
00:24:56,630 --> 00:24:57,860
know say hey please remove our

664
00:24:57,860 --> 00:24:59,150
information besides generally those

665
00:24:59,150 --> 00:25:00,830
things comply with it but it's just

666
00:25:00,830 --> 00:25:03,560
gonna have a back there there's really

667
00:25:03,560 --> 00:25:05,330
like overall there's nothing you can do

668
00:25:05,330 --> 00:25:08,000
like yourself is on the internet that's

669
00:25:08,000 --> 00:25:10,010
how it is all of our stuffs on the

670
00:25:10,010 --> 00:25:10,610
Internet

671
00:25:10,610 --> 00:25:13,070
so really just have to be working to

672
00:25:13,070 --> 00:25:15,830
defend against that known scenario and

673
00:25:15,830 --> 00:25:17,300
you should be able to you should have IR

674
00:25:17,300 --> 00:25:19,100
a place you should have a plan for like

675
00:25:19,100 --> 00:25:20,810
okay what happens if our entire email

676
00:25:20,810 --> 00:25:23,150
address but it's done what do we do then

677
00:25:23,150 --> 00:25:24,110
you should already help you should

678
00:25:24,110 --> 00:25:25,820
already know that issue are you should

679
00:25:25,820 --> 00:25:27,170
already be doing that you should be

680
00:25:27,170 --> 00:25:29,420
operating under the assumption that

681
00:25:29,420 --> 00:25:30,920
that's the case because it very likely

682
00:25:30,920 --> 00:25:33,890
is and certainly like I'm pushing

683
00:25:33,890 --> 00:25:34,850
through this because their time is

684
00:25:34,850 --> 00:25:36,140
obviously limited if you guys would ask

685
00:25:36,140 --> 00:25:38,060
me questions afterwards I'll be around

686
00:25:38,060 --> 00:25:39,980
no problem but I'm just gonna blow

687
00:25:39,980 --> 00:25:42,700
through this right now so now we've got

688
00:25:42,700 --> 00:25:45,230
we've identified our targets which is

689
00:25:45,230 --> 00:25:48,410
basically our our login windows that

690
00:25:48,410 --> 00:25:50,900
accept 80 credentials we've gotten some

691
00:25:50,900 --> 00:25:54,230
usernames we've created now we're going

692
00:25:54,230 --> 00:25:55,670
to try to log in but what I want to be

693
00:25:55,670 --> 00:25:57,770
needing we got we got targets we have

694
00:25:57,770 --> 00:26:00,890
usernames what's missing there passwords

695
00:26:00,890 --> 00:26:05,660
let me do for passwords we psychically

696
00:26:05,660 --> 00:26:08,560
deduce that

697
00:26:09,140 --> 00:26:12,390
so live demo of psyche detection I'm

698
00:26:12,390 --> 00:26:16,800
going to transmit all of the most used

699
00:26:16,800 --> 00:26:18,630
passwords in all of your company's

700
00:26:18,630 --> 00:26:20,970
environments right now into the next

701
00:26:20,970 --> 00:26:26,690
slide I need absolute quiet for this

702
00:26:27,410 --> 00:26:45,870
there there so so like I don't think

703
00:26:45,870 --> 00:26:49,140
pardon for allowing you to read you hear

704
00:26:49,140 --> 00:26:50,990
this all the time like I've got like

705
00:26:50,990 --> 00:26:53,490
this rap over here that's like season

706
00:26:53,490 --> 00:26:55,730
and year you know spring 2017 or just

707
00:26:55,730 --> 00:27:00,630
spring 17 fall 17 exclamation point then

708
00:27:00,630 --> 00:27:01,770
we all go yeah we know there's a bad

709
00:27:01,770 --> 00:27:03,059
past words that's the joke if it's a

710
00:27:03,059 --> 00:27:04,530
running gag on the internet that people

711
00:27:04,530 --> 00:27:07,440
use those passwords it's a running gag

712
00:27:07,440 --> 00:27:11,220
because people use those passwords this

713
00:27:11,220 --> 00:27:13,830
is this is consistence

714
00:27:13,830 --> 00:27:15,570
this isn't like I'm going to try these

715
00:27:15,570 --> 00:27:17,100
first and it probably will work another

716
00:27:17,100 --> 00:27:21,000
move on I always get at least two hits

717
00:27:21,000 --> 00:27:25,110
off of just this first column and that's

718
00:27:25,110 --> 00:27:26,550
what you need like we all know the pen

719
00:27:26,550 --> 00:27:28,800
tester gather all you need is one that

720
00:27:28,800 --> 00:27:36,270
like I get to password password one he

721
00:27:36,270 --> 00:27:38,700
insanely common you know who uses

722
00:27:38,700 --> 00:27:46,530
password one your [ __ ] helpdesk you

723
00:27:46,530 --> 00:27:47,940
know when you call anybody lost my

724
00:27:47,940 --> 00:27:50,460
password cuz I'm really drunk they set

725
00:27:50,460 --> 00:27:53,580
it to password one a lot or they sent it

726
00:27:53,580 --> 00:27:56,880
to company name one a lot or they sent

727
00:27:56,880 --> 00:27:59,130
it to something the company does one

728
00:27:59,130 --> 00:28:03,510
exclamation point a lot this is a this

729
00:28:03,510 --> 00:28:05,600
one of the top here's something from

730
00:28:05,600 --> 00:28:08,490
Chris Dickerson who tipped me off

731
00:28:08,490 --> 00:28:12,059
[ __ ] company name is a super common

732
00:28:12,059 --> 00:28:14,250
password

733
00:28:14,250 --> 00:28:16,350
people think they're cute like yeah

734
00:28:16,350 --> 00:28:18,990
let's cover the MS of my password [ __ ]

735
00:28:18,990 --> 00:28:23,730
idea I'm gonna guess that I do know a

736
00:28:23,730 --> 00:28:27,420
lot of hits on that one I heard her

737
00:28:27,420 --> 00:28:28,860
talking about it and when it's thoughts

738
00:28:28,860 --> 00:28:30,120
they're like they can't be in it but I

739
00:28:30,120 --> 00:28:31,920
just added it to my leg default like I

740
00:28:31,920 --> 00:28:33,750
have a top-25 word list like my word

741
00:28:33,750 --> 00:28:37,800
list is 25 and 30 words that's it and

742
00:28:37,800 --> 00:28:39,690
they always get hits on it the only one

743
00:28:39,690 --> 00:28:42,390
is like something the company does you

744
00:28:42,390 --> 00:28:43,620
work for an insurance company

745
00:28:43,620 --> 00:28:45,630
your default helpdesk password by the

746
00:28:45,630 --> 00:28:47,910
insurance one or insurer mod or

747
00:28:47,910 --> 00:28:49,470
something like that it can work for a

748
00:28:49,470 --> 00:28:51,690
catering company buy a catering one or

749
00:28:51,690 --> 00:28:54,630
its catering 2017 there's a really cool

750
00:28:54,630 --> 00:28:55,380
tool called

751
00:28:55,380 --> 00:28:59,270
fuel cwl fuel to generate word lists

752
00:28:59,270 --> 00:29:01,440
Huell is awesome because you just

753
00:29:01,440 --> 00:29:03,270
pointed at a company's website like

754
00:29:03,270 --> 00:29:04,680
their promotional website with all their

755
00:29:04,680 --> 00:29:06,690
marketing garbage and you say like give

756
00:29:06,690 --> 00:29:08,430
me every word from this website that is

757
00:29:08,430 --> 00:29:11,100
more than 8 characters and it'll go

758
00:29:11,100 --> 00:29:12,450
through give you a bunch of words and

759
00:29:12,450 --> 00:29:14,310
like based off of that you can tell what

760
00:29:14,310 --> 00:29:15,630
the company does you can make a really

761
00:29:15,630 --> 00:29:18,390
good educated guess about what which of

762
00:29:18,390 --> 00:29:20,160
those words the helpdesk is probably

763
00:29:20,160 --> 00:29:23,220
using to reset passwords what's really

764
00:29:23,220 --> 00:29:24,780
goals the help desk will like reset

765
00:29:24,780 --> 00:29:26,520
their own passwords to like this chin

766
00:29:26,520 --> 00:29:28,970
and never change it and you know like

767
00:29:28,970 --> 00:29:31,020
who has some of the most dangerous

768
00:29:31,020 --> 00:29:34,110
privileges in your environment is the

769
00:29:34,110 --> 00:29:36,780
help desk and these are also the often

770
00:29:36,780 --> 00:29:38,790
like the least experienced members of

771
00:29:38,790 --> 00:29:41,280
your IT team and we're giving them the

772
00:29:41,280 --> 00:29:42,870
most access to everything because they

773
00:29:42,870 --> 00:29:44,850
need it because there's a help desk big

774
00:29:44,850 --> 00:29:47,070
thing because that's the words passwords

775
00:29:47,070 --> 00:29:49,200
for themselves and I don't know because

776
00:29:49,200 --> 00:29:50,610
they're not experienced or what like I

777
00:29:50,610 --> 00:29:53,730
almost always end up cracking helpdesk

778
00:29:53,730 --> 00:29:56,220
passwords like wait on the gate that's

779
00:29:56,220 --> 00:29:58,020
not you reckon it's guessing it's just

780
00:29:58,020 --> 00:30:00,390
like let's type in and see so like I'm

781
00:30:00,390 --> 00:30:04,920
gonna go through with I can use burden

782
00:30:04,920 --> 00:30:06,810
who uses burp suite as part of their

783
00:30:06,810 --> 00:30:08,670
daily job you absolutely should this is

784
00:30:08,670 --> 00:30:11,130
an awesome awesome proxy tool it's great

785
00:30:11,130 --> 00:30:12,990
for just troubleshooting like forget

786
00:30:12,990 --> 00:30:13,680
brute-forcing

787
00:30:13,680 --> 00:30:15,060
it's great for figuring out why your

788
00:30:15,060 --> 00:30:16,800
craps just out working our legs

789
00:30:16,800 --> 00:30:18,510
brilliant someone else's crap not

790
00:30:18,510 --> 00:30:20,010
working they're blaming security and

791
00:30:20,010 --> 00:30:21,720
then you bust open verb so you guys know

792
00:30:21,720 --> 00:30:23,880
that's this is your dumb ass your

793
00:30:23,880 --> 00:30:25,650
security and use you and this is the

794
00:30:25,650 --> 00:30:27,929
broken part

795
00:30:27,929 --> 00:30:29,489
find enlightenment for just

796
00:30:29,489 --> 00:30:32,700
brute-forcing HTTP logins like belong

797
00:30:32,700 --> 00:30:34,679
verb Suites great you just give it user

798
00:30:34,679 --> 00:30:37,349
names passwords click go don't get a

799
00:30:37,349 --> 00:30:41,249
sandwich come back and you're gonna get

800
00:30:41,249 --> 00:30:43,919
it at least two hits off of season year

801
00:30:43,919 --> 00:30:47,309
some some form of that so that's the

802
00:30:47,309 --> 00:30:50,869
invested use verb sweet I really love it

803
00:30:50,869 --> 00:30:53,700
another great one who's who's used mail

804
00:30:53,700 --> 00:30:55,190
sniper

805
00:30:55,190 --> 00:30:59,700
this one is vicious mail sniper was put

806
00:30:59,700 --> 00:31:02,210
up by Black Hills I want to say derbycon

807
00:31:02,210 --> 00:31:06,950
2016 and the Duke who wrote it

808
00:31:06,950 --> 00:31:09,570
discovered that in most cases when you

809
00:31:09,570 --> 00:31:12,239
have OS setup and off his planes had

810
00:31:12,239 --> 00:31:14,309
office 2013 all the way through office

811
00:31:14,309 --> 00:31:17,729
365 theater it looks like either

812
00:31:17,729 --> 00:31:21,149
patching 365 where he was wrong it also

813
00:31:21,149 --> 00:31:23,340
stands up this like EWS service exchange

814
00:31:23,340 --> 00:31:25,799
web services and that's like an API that

815
00:31:25,799 --> 00:31:28,019
not Microsoft stuff can use to also

816
00:31:28,019 --> 00:31:29,519
interface with your exchange environment

817
00:31:29,519 --> 00:31:30,690
like if you write your own custom out

818
00:31:30,690 --> 00:31:32,909
for your people to check their email

819
00:31:32,909 --> 00:31:34,769
entire online I think you would do that

820
00:31:34,769 --> 00:31:36,239
that's like rolling your own crypto but

821
00:31:36,239 --> 00:31:38,609
like it's a thing and it's always stood

822
00:31:38,609 --> 00:31:41,580
up and in most environments you can't

823
00:31:41,580 --> 00:31:42,899
just shut it off because it's gonna

824
00:31:42,899 --> 00:31:44,729
break something like to recently

825
00:31:44,729 --> 00:31:48,809
discover that outlook for Mac uses GWS

826
00:31:48,809 --> 00:31:51,269
to log in the exchange Web Services

827
00:31:51,269 --> 00:31:54,059
which is bananas like it uses like the

828
00:31:54,059 --> 00:31:56,159
app API and instead of like same stuff

829
00:31:56,159 --> 00:31:57,419
that all the other Microsoft products

830
00:31:57,419 --> 00:31:59,220
too so like if you kill EWS you're just

831
00:31:59,220 --> 00:32:00,629
kidding you're going to disconnect all

832
00:32:00,629 --> 00:32:02,460
your map users so it's a really

833
00:32:02,460 --> 00:32:04,919
difficult thing to fix

834
00:32:04,919 --> 00:32:06,840
but what mail sniper does is it just

835
00:32:06,840 --> 00:32:09,269
uses that back-end to log in it can use

836
00:32:09,269 --> 00:32:11,669
email addresses as Vale at user names so

837
00:32:11,669 --> 00:32:12,539
you don't even have to worry about

838
00:32:12,539 --> 00:32:14,099
discerning what the absolute usernames

839
00:32:14,099 --> 00:32:18,119
need violence are and and this is fun

840
00:32:18,119 --> 00:32:20,940
devastating you cannot apply

841
00:32:20,940 --> 00:32:23,909
multi-factor authentication to it you

842
00:32:23,909 --> 00:32:26,009
cannot buy yourself does not have a

843
00:32:26,009 --> 00:32:29,129
means of doing that so even if you have

844
00:32:29,129 --> 00:32:32,460
your Outlook Web App multi-factor if you

845
00:32:32,460 --> 00:32:34,379
have exchange web services exposed to

846
00:32:34,379 --> 00:32:37,379
the Internet that's pointless I mean

847
00:32:37,379 --> 00:32:39,180
it's not my we're still definitely doing

848
00:32:39,180 --> 00:32:40,260
you're gonna defend against a lot of

849
00:32:40,260 --> 00:32:43,910
bottom um but like you can bypass

850
00:32:43,910 --> 00:32:47,460
multi-factor with bail sniper do it try

851
00:32:47,460 --> 00:32:50,750
it I do it a long time it's crazy that

852
00:32:50,750 --> 00:32:53,550
should have gotten our gases or reason

853
00:32:53,550 --> 00:32:56,010
up I think everybody's terrified that I

854
00:32:56,010 --> 00:32:57,390
just hold it there two-factor doesn't

855
00:32:57,390 --> 00:33:01,740
work I like one other major a DUI and

856
00:33:01,740 --> 00:33:04,110
then like failing all of that like if I

857
00:33:04,110 --> 00:33:06,870
just can't not get a hit if I should not

858
00:33:06,870 --> 00:33:08,670
get credits to save my life for any of

859
00:33:08,670 --> 00:33:11,250
this through one reason or another we

860
00:33:11,250 --> 00:33:13,950
will resort to phishing phishing is

861
00:33:13,950 --> 00:33:18,380
cheater [ __ ] because it always works

862
00:33:18,650 --> 00:33:22,380
fishing has never ever failed and the

863
00:33:22,380 --> 00:33:24,270
bigger your organization the more it

864
00:33:24,270 --> 00:33:27,650
works just statistically it's fantastic

865
00:33:27,650 --> 00:33:30,630
so like just I don't have to tell you

866
00:33:30,630 --> 00:33:31,920
how fishing where it's everyone here

867
00:33:31,920 --> 00:33:34,200
knows how fishing words it's all I

868
00:33:34,200 --> 00:33:36,120
really know this is the face that all of

869
00:33:36,120 --> 00:33:38,400
us make when a user sends an email like

870
00:33:38,400 --> 00:33:40,800
this fishing is this legit you're like

871
00:33:40,800 --> 00:33:47,700
jab are you kidding me so I really like

872
00:33:47,700 --> 00:33:49,620
it open and free it's called fierce fish

873
00:33:49,620 --> 00:33:51,420
it's really legit for something it's

874
00:33:51,420 --> 00:33:52,860
open and free you can totally use this

875
00:33:52,860 --> 00:33:55,740
to fish internally it's also great like

876
00:33:55,740 --> 00:33:57,240
if you're an attacker and you just want

877
00:33:57,240 --> 00:33:59,400
to be able to keep track of it's 14,000

878
00:33:59,400 --> 00:34:01,050
people you're current and fishing to see

879
00:34:01,050 --> 00:34:02,850
who did what and you can set up

880
00:34:02,850 --> 00:34:04,650
campaigns just fish for credit generally

881
00:34:04,650 --> 00:34:05,850
what I like to do is just fish for

882
00:34:05,850 --> 00:34:08,570
Christ I don't like to send out malware

883
00:34:08,570 --> 00:34:10,530
because you got a high chance of

884
00:34:10,530 --> 00:34:12,360
endpoint protection absolutely flagging

885
00:34:12,360 --> 00:34:14,340
on that and then they're gonna trace it

886
00:34:14,340 --> 00:34:15,780
back to you and then problems start I

887
00:34:15,780 --> 00:34:17,699
like to just fish for creds send people

888
00:34:17,699 --> 00:34:19,320
to a company living website that asks

889
00:34:19,320 --> 00:34:21,150
them to log in with the credentials make

890
00:34:21,150 --> 00:34:23,070
sure that it then you know redirects

891
00:34:23,070 --> 00:34:24,719
them to something valid that is what

892
00:34:24,719 --> 00:34:26,699
they're expecting and you get a very low

893
00:34:26,699 --> 00:34:28,889
chances than they actually reporting it

894
00:34:28,889 --> 00:34:30,960
to the helpdesk I mean even I thought

895
00:34:30,960 --> 00:34:32,340
like that you reported it to the

896
00:34:32,340 --> 00:34:32,940
helpdesk

897
00:34:32,940 --> 00:34:34,739
sometimes helpdesk is like no that's

898
00:34:34,739 --> 00:34:36,840
legit

899
00:34:36,840 --> 00:34:39,060
now that totally looks like this site

900
00:34:39,060 --> 00:34:40,530
that I know they were working on that's

901
00:34:40,530 --> 00:34:42,780
don't worry about it it's fine and then

902
00:34:42,780 --> 00:34:44,040
we throw out all the other like alerts

903
00:34:44,040 --> 00:34:46,110
that come in so late and great job

904
00:34:46,110 --> 00:34:48,480
health deaths but you tell your house it

905
00:34:48,480 --> 00:34:49,590
to do it because like otherwise you're

906
00:34:49,590 --> 00:34:51,000
gonna toss your security team because

907
00:34:51,000 --> 00:34:54,690
you can have 60 of these a day whose

908
00:34:54,690 --> 00:34:56,250
security teams responsible feel like

909
00:34:56,250 --> 00:34:59,700
validating phishing attempts it isn't

910
00:34:59,700 --> 00:35:02,430
that like annoying because you just get

911
00:35:02,430 --> 00:35:04,230
garbage the every everyone you see you

912
00:35:04,230 --> 00:35:05,880
don't even have to do like forensics on

913
00:35:05,880 --> 00:35:10,590
it you're just like yeah yeah those

914
00:35:10,590 --> 00:35:16,650
aren't even words this guy wrote this

915
00:35:16,650 --> 00:35:21,090
using all numbers like when you get

916
00:35:21,090 --> 00:35:22,590
those really bad phishing attempts from

917
00:35:22,590 --> 00:35:28,500
like Nigeria and you're like who thinks

918
00:35:28,500 --> 00:35:29,580
that this would work like that

919
00:35:29,580 --> 00:35:32,130
football's for this but someone would

920
00:35:32,130 --> 00:35:34,200
fall for this this is a jump which is

921
00:35:34,200 --> 00:35:36,030
advanced spammer what a lot of those

922
00:35:36,030 --> 00:35:38,220
people are actually doing it's trying to

923
00:35:38,220 --> 00:35:41,940
find the really slow targets they're

924
00:35:41,940 --> 00:35:44,460
just fishing out who's gonna fall for

925
00:35:44,460 --> 00:35:46,230
the more complicated stuff based on who

926
00:35:46,230 --> 00:35:48,750
fault for the crash crappy stuff so when

927
00:35:48,750 --> 00:35:50,640
you see those emails come through you're

928
00:35:50,640 --> 00:35:52,680
often going to see another one country

929
00:35:52,680 --> 00:35:53,820
what have you clicked on the link or

930
00:35:53,820 --> 00:35:55,440
whatever then it's often not even

931
00:35:55,440 --> 00:35:56,850
malicious it sometimes doesn't go

932
00:35:56,850 --> 00:35:58,080
anywhere all it does is just ping back

933
00:35:58,080 --> 00:36:00,510
to their server and those kind of hit it

934
00:36:00,510 --> 00:36:04,140
that's it it's doing that to keep track

935
00:36:04,140 --> 00:36:06,840
of who's dumped and then they compile

936
00:36:06,840 --> 00:36:09,660
this list of really dumb people and then

937
00:36:09,660 --> 00:36:13,370
back with it's targeted with severe [ __ ]

938
00:36:13,370 --> 00:36:16,320
so like don't don't think that that's

939
00:36:16,320 --> 00:36:17,910
nothing if you see the really bad

940
00:36:17,910 --> 00:36:19,950
phishing emails come through that could

941
00:36:19,950 --> 00:36:22,710
be something take it seriously figure

942
00:36:22,710 --> 00:36:23,520
out where it came from

943
00:36:23,520 --> 00:36:25,320
do your IR you know block it will do

944
00:36:25,320 --> 00:36:27,090
whatever you got to do but be aware that

945
00:36:27,090 --> 00:36:29,400
it may be the beginning of a more

946
00:36:29,400 --> 00:36:31,310
targeted attack against your company

947
00:36:31,310 --> 00:36:34,680
what you can do to protect against

948
00:36:34,680 --> 00:36:35,130
phishing

949
00:36:35,130 --> 00:36:37,350
like I said the thing that always works

950
00:36:37,350 --> 00:36:38,730
now I'm gonna tell you how to make it

951
00:36:38,730 --> 00:36:41,880
network you know always words awareness

952
00:36:41,880 --> 00:36:44,190
training like everyone should be doing

953
00:36:44,190 --> 00:36:45,840
awareness training I don't y'all hate

954
00:36:45,840 --> 00:36:47,130
awareness training I know all the

955
00:36:47,130 --> 00:36:50,040
weirdest training is corny

956
00:36:50,040 --> 00:36:51,570
users don't like it most users don't

957
00:36:51,570 --> 00:36:53,070
even pay attention to it they just click

958
00:36:53,070 --> 00:36:54,690
through as fast as possible and guess if

959
00:36:54,690 --> 00:36:56,390
the quiz at the end until the to get it

960
00:36:56,390 --> 00:37:00,690
yeah like right here you're you're

961
00:37:00,690 --> 00:37:03,030
helping somebody like if you educate one

962
00:37:03,030 --> 00:37:04,560
more user in your environment with

963
00:37:04,560 --> 00:37:05,880
something they weren't aware of it

964
00:37:05,880 --> 00:37:08,640
you did something it's useful like where

965
00:37:08,640 --> 00:37:10,350
niche training does not work that well

966
00:37:10,350 --> 00:37:12,960
but it does do something um you should

967
00:37:12,960 --> 00:37:14,580
absolutely be pitching yourselves whose

968
00:37:14,580 --> 00:37:16,160
company fishes themselves

969
00:37:16,160 --> 00:37:21,000
that's super low you guys should all be

970
00:37:21,000 --> 00:37:23,340
fishing your own employees at least

971
00:37:23,340 --> 00:37:26,040
quarterly and making out all the

972
00:37:26,040 --> 00:37:27,480
employees know it and posting the

973
00:37:27,480 --> 00:37:30,060
results maybe not like publicly shaming

974
00:37:30,060 --> 00:37:34,800
the people who fail in America I'll

975
00:37:34,800 --> 00:37:37,910
catch you in Hell huh freakin trouble

976
00:37:37,910 --> 00:37:40,500
okay here's how good we did as a company

977
00:37:40,500 --> 00:37:42,570
for fishing and don't let them know when

978
00:37:42,570 --> 00:37:43,830
you're running the campaign just what

979
00:37:43,830 --> 00:37:45,030
the know like hey last week we did

980
00:37:45,030 --> 00:37:46,500
here's the results you guys are doing

981
00:37:46,500 --> 00:37:48,360
way better than you were other previous

982
00:37:48,360 --> 00:37:50,130
month make sure you're doing positive

983
00:37:50,130 --> 00:37:51,510
and negative reinforcement negative

984
00:37:51,510 --> 00:37:52,830
reports of it's the easy one the

985
00:37:52,830 --> 00:37:54,420
positive one is when I see nobody doing

986
00:37:54,420 --> 00:37:55,800
and it's weird is that's the most

987
00:37:55,800 --> 00:37:59,370
effective way of setting up an anti

988
00:37:59,370 --> 00:38:01,680
fishing just I'm going to wear these

989
00:38:01,680 --> 00:38:04,440
culture with you and your company I'll

990
00:38:04,440 --> 00:38:07,140
touch on this real quick like this is a

991
00:38:07,140 --> 00:38:09,060
charm your company actually enforce your

992
00:38:09,060 --> 00:38:11,340
acceptable use policy like if somebody

993
00:38:11,340 --> 00:38:12,480
does something that ends up in their

994
00:38:12,480 --> 00:38:13,920
system being compromised that those

995
00:38:13,920 --> 00:38:15,690
they're directly against the AED like do

996
00:38:15,690 --> 00:38:17,490
they get written up in your companies

997
00:38:17,490 --> 00:38:19,290
then it would like seen anyone get fired

998
00:38:19,290 --> 00:38:27,120
for that one two three three yeah it's a

999
00:38:27,120 --> 00:38:28,920
huge problem like don't be it's HR

1000
00:38:28,920 --> 00:38:30,600
support for this stuff because HR

1001
00:38:30,600 --> 00:38:32,460
doesn't even take it seriously and they

1002
00:38:32,460 --> 00:38:34,170
charge the wonder what collect half with

1003
00:38:34,170 --> 00:38:36,810
your really secretive data and they

1004
00:38:36,810 --> 00:38:38,030
don't give a [ __ ]

1005
00:38:38,030 --> 00:38:43,040
and that's works your it's not that

1006
00:38:43,040 --> 00:38:45,000
users are dumb

1007
00:38:45,000 --> 00:38:48,590
stop using that as an excuse you're dumb

1008
00:38:48,590 --> 00:38:51,510
don't plant in users it's that they

1009
00:38:51,510 --> 00:38:53,730
don't give it [ __ ] and that's a totally

1010
00:38:53,730 --> 00:38:55,230
different scenario they don't have

1011
00:38:55,230 --> 00:38:57,060
ownership of it it's because it's not

1012
00:38:57,060 --> 00:38:59,430
their email box it's their work email

1013
00:38:59,430 --> 00:39:01,200
box if they mailbox the use for work

1014
00:39:01,200 --> 00:39:03,540
it's not their information that's being

1015
00:39:03,540 --> 00:39:04,320
compromised

1016
00:39:04,320 --> 00:39:06,390
it's the companies and their that really

1017
00:39:06,390 --> 00:39:07,950
attached to company anyway like unless

1018
00:39:07,950 --> 00:39:09,690
you have working like one of the top 20

1019
00:39:09,690 --> 00:39:11,160
best companies in Canada or whatever

1020
00:39:11,160 --> 00:39:13,680
you're probably don't give that much of

1021
00:39:13,680 --> 00:39:14,790
a [ __ ] about what happens to the company

1022
00:39:14,790 --> 00:39:17,070
especially they work an IT company goes

1023
00:39:17,070 --> 00:39:18,510
under these don't work somewhere else

1024
00:39:18,510 --> 00:39:20,460
they don't [ __ ] so you have to do

1025
00:39:20,460 --> 00:39:21,750
something to make these users give a

1026
00:39:21,750 --> 00:39:23,790
[ __ ] about what's happening and be more

1027
00:39:23,790 --> 00:39:25,950
vigilant with security and I found

1028
00:39:25,950 --> 00:39:27,930
consistently positive reinforcement for

1029
00:39:27,930 --> 00:39:30,090
that works amazingly so he turns into

1030
00:39:30,090 --> 00:39:31,530
something that ended up being the target

1031
00:39:31,530 --> 00:39:33,540
efficient and that they caught give us

1032
00:39:33,540 --> 00:39:35,910
$5 Starbucks give target

1033
00:39:35,910 --> 00:39:38,760
like what's five bucks I've seen plenty

1034
00:39:38,760 --> 00:39:41,280
of security shop do that just like a $5

1035
00:39:41,280 --> 00:39:44,610
gift card and in plain naive day

1036
00:39:44,610 --> 00:39:46,320
responds with security where this comes

1037
00:39:46,320 --> 00:39:49,290
in this company one friend was a VP at a

1038
00:39:49,290 --> 00:39:51,420
health care company who had set up

1039
00:39:51,420 --> 00:39:53,580
positive reports for program whose $5

1040
00:39:53,580 --> 00:39:54,840
Starbucks gift card if you're the first

1041
00:39:54,840 --> 00:39:56,700
one report a phishing attempt against

1042
00:39:56,700 --> 00:40:00,300
their company and these users got so

1043
00:40:00,300 --> 00:40:01,830
vigilant and one day he gets woken up

1044
00:40:01,830 --> 00:40:02,820
like 5:00 a.m.

1045
00:40:02,820 --> 00:40:05,520
I've been no like bake we had somebody

1046
00:40:05,520 --> 00:40:07,320
report that they found what appears to

1047
00:40:07,320 --> 00:40:11,210
be a listening device planted underneath

1048
00:40:11,210 --> 00:40:13,620
the ledge of the cabinet right next year

1049
00:40:13,620 --> 00:40:16,410
almost doors like somebody spotted that

1050
00:40:16,410 --> 00:40:19,920
there's really what what so now he's all

1051
00:40:19,920 --> 00:40:21,750
been like freaked out he drives down in

1052
00:40:21,750 --> 00:40:22,980
the office it wasn't sing a look that's

1053
00:40:22,980 --> 00:40:24,960
listening to basic tonic and they give

1054
00:40:24,960 --> 00:40:27,570
it to him he looks and he suppose that's

1055
00:40:27,570 --> 00:40:30,200
an ant trap

1056
00:40:31,290 --> 00:40:34,359
and the guy was like oh [ __ ] you're

1057
00:40:34,359 --> 00:40:36,569
right

1058
00:40:36,780 --> 00:40:40,780
do I still get the gift card that's like

1059
00:40:40,780 --> 00:40:44,079
yeah you know like I found something and

1060
00:40:44,079 --> 00:40:47,470
he was like yeah yeah you could tell me

1061
00:40:47,470 --> 00:40:48,310
but yeah

1062
00:40:48,310 --> 00:40:51,160
thanks for being that vigilant if you

1063
00:40:51,160 --> 00:40:52,480
thought an inch rep was like an

1064
00:40:52,480 --> 00:40:58,599
attacking that's their company less than

1065
00:40:58,599 --> 00:41:00,819
a thousand dollars that entire year I

1066
00:41:00,819 --> 00:41:03,220
just find dollar gift cards and like

1067
00:41:03,220 --> 00:41:05,109
security culture in this company was

1068
00:41:05,109 --> 00:41:07,060
immediately flipped on its head this

1069
00:41:07,060 --> 00:41:09,369
works amazingly well time and time again

1070
00:41:09,369 --> 00:41:10,810
that's absolutely the best thing you can

1071
00:41:10,810 --> 00:41:12,280
do the bottom line is you're trying to

1072
00:41:12,280 --> 00:41:14,079
make the users give a [ __ ] about the

1073
00:41:14,079 --> 00:41:16,210
company and do something it's so like

1074
00:41:16,210 --> 00:41:18,310
complaining the pocket telling make you

1075
00:41:18,310 --> 00:41:19,990
just give a [ __ ]

1076
00:41:19,990 --> 00:41:22,210
Kate likes to do a thing with security

1077
00:41:22,210 --> 00:41:23,589
awareness where she teaches them to take

1078
00:41:23,589 --> 00:41:24,700
the things they learn in there and apply

1079
00:41:24,700 --> 00:41:26,410
it to their own email addresses their

1080
00:41:26,410 --> 00:41:28,450
own personal information you know make

1081
00:41:28,450 --> 00:41:30,220
sure you're using two-factor on your own

1082
00:41:30,220 --> 00:41:33,099
gmail account and so like now that makes

1083
00:41:33,099 --> 00:41:34,839
them care about their own stuff and

1084
00:41:34,839 --> 00:41:36,869
they're just going to kind of apply that

1085
00:41:36,869 --> 00:41:39,130
subconsciously to other Gmail intensity

1086
00:41:39,130 --> 00:41:40,450
using such as if your work is using

1087
00:41:40,450 --> 00:41:42,700
Google Apps it works really well because

1088
00:41:42,700 --> 00:41:44,589
it makes them naturally just give a [ __ ]

1089
00:41:44,589 --> 00:41:45,910
about what's going on that's what's

1090
00:41:45,910 --> 00:41:48,099
important so red lentils not that

1091
00:41:48,099 --> 00:41:49,150
they're dumb it's that they don't care

1092
00:41:49,150 --> 00:41:52,960
and you got to fix that so to protect

1093
00:41:52,960 --> 00:41:54,550
against like the that sort of stuff have

1094
00:41:54,550 --> 00:41:57,280
a bank all day MFA all day like Google

1095
00:41:57,280 --> 00:41:59,140
Authenticator is an absolutely free MFA

1096
00:41:59,140 --> 00:42:00,460
solution that you guys use do the lapse

1097
00:42:00,460 --> 00:42:03,970
of your work duo security is a

1098
00:42:03,970 --> 00:42:07,150
relatively inexpensive solution that's

1099
00:42:07,150 --> 00:42:10,420
enterprise ready I don't work for them I

1100
00:42:10,420 --> 00:42:11,829
like their product it's really neat it's

1101
00:42:11,829 --> 00:42:14,050
cheaper compared to our RSA which is

1102
00:42:14,050 --> 00:42:16,930
like it costs all of your life like how

1103
00:42:16,930 --> 00:42:18,760
much money you have that you just write

1104
00:42:18,760 --> 00:42:21,369
them a check for that and then I'll get

1105
00:42:21,369 --> 00:42:24,760
you through the first year then all of

1106
00:42:24,760 --> 00:42:34,119
their ones everybody well and then like

1107
00:42:34,119 --> 00:42:36,790
just like I can't go through that

1108
00:42:36,790 --> 00:42:38,800
everyone's room get intense but just an

1109
00:42:38,800 --> 00:42:39,730
alert you're right in your Center

1110
00:42:39,730 --> 00:42:41,050
protecting that's brute forcing because

1111
00:42:41,050 --> 00:42:42,280
it's just like network scanning it's

1112
00:42:42,280 --> 00:42:44,080
like fire all these connections come

1113
00:42:44,080 --> 00:42:46,870
the same five IP why am I getting like

1114
00:42:46,870 --> 00:42:49,990
this ocean of invalid user marketplace

1115
00:42:49,990 --> 00:42:51,010
even though we're not walking the

1116
00:42:51,010 --> 00:42:52,330
account out like it's only trying each

1117
00:42:52,330 --> 00:42:55,330
account once twice three times but it's

1118
00:42:55,330 --> 00:42:58,470
everyone failing for this period

1119
00:42:58,470 --> 00:43:01,270
make sure you're doing lockouts you know

1120
00:43:01,270 --> 00:43:03,040
even if it's like oh five failed

1121
00:43:03,040 --> 00:43:04,600
attempts and a 15 minute period and then

1122
00:43:04,600 --> 00:43:05,860
unlocks 30 minutes later at least

1123
00:43:05,860 --> 00:43:07,180
definitely make sure you didn't act

1124
00:43:07,180 --> 00:43:08,980
that's a really cool thing you can do

1125
00:43:08,980 --> 00:43:12,700
certain like once you got your one set

1126
00:43:12,700 --> 00:43:14,560
of creds because there perhaps was all

1127
00:43:14,560 --> 00:43:18,460
17 now you can use that if you want to

1128
00:43:18,460 --> 00:43:20,050
burn it like usually you want to get two

1129
00:43:20,050 --> 00:43:21,430
or three and that start burning you can

1130
00:43:21,430 --> 00:43:22,750
burn that to determine what their

1131
00:43:22,750 --> 00:43:25,450
lockout policies you can keep poking

1132
00:43:25,450 --> 00:43:26,950
them until like you get success

1133
00:43:26,950 --> 00:43:31,330
experiment keep poking it until like you

1134
00:43:31,330 --> 00:43:32,620
can't log in with the Baloch creds

1135
00:43:32,620 --> 00:43:34,450
anymore so you do like three failed

1136
00:43:34,450 --> 00:43:36,280
attempts and then login or failed

1137
00:43:36,280 --> 00:43:37,900
attempts and then login and five failed

1138
00:43:37,900 --> 00:43:39,670
attempts and now only a lot of valid

1139
00:43:39,670 --> 00:43:41,650
credit that means you got locked out now

1140
00:43:41,650 --> 00:43:43,360
you know their lockout policy you can

1141
00:43:43,360 --> 00:43:44,620
even start to tighten it out and then

1142
00:43:44,620 --> 00:43:46,060
once you have all the information that

1143
00:43:46,060 --> 00:43:48,430
metadata based around that policy you

1144
00:43:48,430 --> 00:43:50,950
can build your brute-forcing system to

1145
00:43:50,950 --> 00:43:52,960
comply with them and only try it you

1146
00:43:52,960 --> 00:43:55,120
know fail three times in a 15-minute

1147
00:43:55,120 --> 00:43:56,470
period yeah it's going to take you a

1148
00:43:56,470 --> 00:43:58,000
really long time to get a lot of pencils

1149
00:43:58,000 --> 00:44:00,070
boom cares you're sitting there doing it

1150
00:44:00,070 --> 00:44:02,170
the computer is set that up and then

1151
00:44:02,170 --> 00:44:03,490
while that's going go do something else

1152
00:44:03,490 --> 00:44:05,500
because like sometimes the creds you got

1153
00:44:05,500 --> 00:44:06,670
are you know they're going to get you to

1154
00:44:06,670 --> 00:44:08,470
like an admin for a nobody it's not

1155
00:44:08,470 --> 00:44:09,400
gonna get you anywhere because they

1156
00:44:09,400 --> 00:44:11,320
don't have access the [ __ ] and while

1157
00:44:11,320 --> 00:44:12,550
you're poking around with that you're

1158
00:44:12,550 --> 00:44:13,690
gonna keep trying to get credit for some

1159
00:44:13,690 --> 00:44:18,130
better accounts I don't think I need to

1160
00:44:18,130 --> 00:44:19,900
go into detail I'm like what a good

1161
00:44:19,900 --> 00:44:21,880
password is we're all security people I

1162
00:44:21,880 --> 00:44:26,040
hope this isn't necessary Oh like

1163
00:44:26,040 --> 00:44:29,500
username who's password I see this all

1164
00:44:29,500 --> 00:44:32,760
the time why is this happening in 2017

1165
00:44:32,760 --> 00:44:37,120
what's going on I see this for service

1166
00:44:37,120 --> 00:44:38,890
accounts which is really funny because

1167
00:44:38,890 --> 00:44:40,870
often times like the user name doesn't

1168
00:44:40,870 --> 00:44:42,430
comply with the password policy but an

1169
00:44:42,430 --> 00:44:44,590
exception has been put in place for the

1170
00:44:44,590 --> 00:44:47,560
service accounts which is often really

1171
00:44:47,560 --> 00:44:49,000
important it has some kind of like

1172
00:44:49,000 --> 00:44:50,680
elevated privileges and now you let it

1173
00:44:50,680 --> 00:44:52,600
have a really shitty password dr. shitty

1174
00:44:52,600 --> 00:44:54,309
50 kids to be shorter or head

1175
00:44:54,309 --> 00:44:55,719
characters or whatever but shitty

1176
00:44:55,719 --> 00:44:59,559
because it's also the username makes me

1177
00:44:59,559 --> 00:45:06,249
angry it used more than 14 characters in

1178
00:45:06,249 --> 00:45:07,719
your passwords your users should be

1179
00:45:07,719 --> 00:45:09,519
doing this tell them to use complete

1180
00:45:09,519 --> 00:45:11,769
sentences that's what I was telling use

1181
00:45:11,769 --> 00:45:13,390
a whole sentence hi my name is Fred

1182
00:45:13,390 --> 00:45:14,380
exclamation point

1183
00:45:14,380 --> 00:45:16,709
rotation marks like easier remember

1184
00:45:16,709 --> 00:45:19,199
super freaking hard to guess or crack

1185
00:45:19,199 --> 00:45:23,439
like this fantastic care for you it

1186
00:45:23,439 --> 00:45:24,989
forces your users are gonna push back

1187
00:45:24,989 --> 00:45:26,890
they're gonna get angry they're gonna

1188
00:45:26,890 --> 00:45:27,910
forget their passwords a bunch

1189
00:45:27,910 --> 00:45:31,719
additionally who player is you have to

1190
00:45:31,719 --> 00:45:33,339
push back you go that's the policy now

1191
00:45:33,339 --> 00:45:34,509
and you need to get that support from

1192
00:45:34,509 --> 00:45:37,029
the top down and go that's the policy

1193
00:45:37,029 --> 00:45:39,489
here's why there's I only have to give

1194
00:45:39,489 --> 00:45:40,900
you like the endless ocean of things

1195
00:45:40,900 --> 00:45:42,009
you've been psyched to show that at

1196
00:45:42,009 --> 00:45:45,219
least 14 characters is where you should

1197
00:45:45,219 --> 00:45:48,789
be at right now you should be doing your

1198
00:45:48,789 --> 00:45:51,189
own password cracking in house who's

1199
00:45:51,189 --> 00:45:53,140
doing them is cracking their own ad

1200
00:45:53,140 --> 00:45:58,269
hatches five of you you should

1201
00:45:58,269 --> 00:45:59,619
absolutely be doing that like even if

1202
00:45:59,619 --> 00:46:01,420
you're not cracking in house at least

1203
00:46:01,420 --> 00:46:03,910
just like check for dues just compare

1204
00:46:03,910 --> 00:46:05,469
the hashes and check for do see who's

1205
00:46:05,469 --> 00:46:07,839
reusing passwords all over the place cuz

1206
00:46:07,839 --> 00:46:08,920
you need to know the past or you just

1207
00:46:08,920 --> 00:46:10,509
need to know the hatch if you see that

1208
00:46:10,509 --> 00:46:12,219
half show up 20 times for a bunch of

1209
00:46:12,219 --> 00:46:13,749
service accounts you know you got a

1210
00:46:13,749 --> 00:46:15,579
system in it to be you know lazy I'll

1211
00:46:15,579 --> 00:46:18,880
leave you bastard and it's just I got a

1212
00:46:18,880 --> 00:46:21,759
guy fighter do that as a pen tester like

1213
00:46:21,759 --> 00:46:23,469
I felt terrible I got assisted and fired

1214
00:46:23,469 --> 00:46:25,449
because he kept using [ __ ] passwords and

1215
00:46:25,449 --> 00:46:27,339
doing things like that and my third time

1216
00:46:27,339 --> 00:46:28,839
around the company that fired for things

1217
00:46:28,839 --> 00:46:31,929
that I kept finding and so like your IT

1218
00:46:31,929 --> 00:46:34,209
people are often as security people are

1219
00:46:34,209 --> 00:46:37,539
the laziest of security your IT people

1220
00:46:37,539 --> 00:46:39,549
their second lazy babies we all think

1221
00:46:39,549 --> 00:46:41,259
we're above the law or like oh I've

1222
00:46:41,259 --> 00:46:42,729
gotta get this done quick I'm the cell

1223
00:46:42,729 --> 00:46:43,959
passwords the same I'll go back and

1224
00:46:43,959 --> 00:46:45,429
change them later and later ends up

1225
00:46:45,429 --> 00:46:48,789
being 20/20 and now I've got all these

1226
00:46:48,789 --> 00:46:50,769
dupes in there you don't need a

1227
00:46:50,769 --> 00:46:54,039
gargantuan 60 GPU cracking rate to audit

1228
00:46:54,039 --> 00:46:56,709
your passwords you could just do CPU

1229
00:46:56,709 --> 00:46:58,989
cramping use word list like word lists

1230
00:46:58,989 --> 00:47:00,699
are all over the internet just something

1231
00:47:00,699 --> 00:47:03,849
jezic something you know even if it's

1232
00:47:03,849 --> 00:47:05,349
just the 20 passwords I posted before

1233
00:47:05,349 --> 00:47:06,599
and you're just looking for those

1234
00:47:06,599 --> 00:47:09,059
to do that you should absolutely the

1235
00:47:09,059 --> 00:47:11,549
auditing passwords so now that I've been

1236
00:47:11,549 --> 00:47:13,319
able to long until at least sixty

1237
00:47:13,319 --> 00:47:16,349
accounts of environment I'm breached the

1238
00:47:16,349 --> 00:47:19,200
perimeter I am inside I'm likely on at

1239
00:47:19,200 --> 00:47:21,839
the BPM because that's usually what I do

1240
00:47:21,839 --> 00:47:23,460
is once I guess valid creds I just get

1241
00:47:23,460 --> 00:47:24,869
it through the VPN because like I said

1242
00:47:24,869 --> 00:47:26,130
really easy to guess what the group

1243
00:47:26,130 --> 00:47:30,029
famous if it's not even just your domain

1244
00:47:30,029 --> 00:47:32,460
name oh oh by the way like guzik whose

1245
00:47:32,460 --> 00:47:34,680
internal ad domain is the same as their

1246
00:47:34,680 --> 00:47:40,049
external like domain like your website

1247
00:47:40,049 --> 00:47:42,930
is company comm and your ad domain is

1248
00:47:42,930 --> 00:47:46,710
company comm good good on you for not

1249
00:47:46,710 --> 00:47:48,420
raising your hand like I saw something

1250
00:47:48,420 --> 00:47:57,809
it was like that's a v that's terrible

1251
00:47:57,809 --> 00:48:03,059
and I'll show you why in a second hey it

1252
00:48:03,059 --> 00:48:04,739
makes like eight guessing the domain see

1253
00:48:04,739 --> 00:48:06,059
any log it's really easy but also

1254
00:48:06,059 --> 00:48:07,259
there's plenty of tools that will do

1255
00:48:07,259 --> 00:48:07,890
that for you

1256
00:48:07,890 --> 00:48:12,269
like that's built into the OS spec so

1257
00:48:12,269 --> 00:48:13,559
when it does he hits you live exchange

1258
00:48:13,559 --> 00:48:15,269
it'll tell the client with an internal

1259
00:48:15,269 --> 00:48:19,769
domain so once I'm in and I'm on VPN I'm

1260
00:48:19,769 --> 00:48:20,969
on the land of course you don't have

1261
00:48:20,969 --> 00:48:22,349
number of segmentations nobody knows

1262
00:48:22,349 --> 00:48:25,400
that right answers yes nobody does that

1263
00:48:25,400 --> 00:48:27,749
it's awful that's like one of the best

1264
00:48:27,749 --> 00:48:28,920
things you can do is network site

1265
00:48:28,920 --> 00:48:30,269
addition to defeat an intelligent

1266
00:48:30,269 --> 00:48:32,339
attacker it's the worst it's just it's

1267
00:48:32,339 --> 00:48:34,559
what I call it pen tester jail you're

1268
00:48:34,559 --> 00:48:35,880
just there and you're like finally can't

1269
00:48:35,880 --> 00:48:37,380
even get any more I'm so excited because

1270
00:48:37,380 --> 00:48:39,930
I got in and I was stumped again segment

1271
00:48:39,930 --> 00:48:42,029
your networks nobody doesn't I know it's

1272
00:48:42,029 --> 00:48:42,479
hard

1273
00:48:42,479 --> 00:48:44,339
I don't know what you have to do hard

1274
00:48:44,339 --> 00:48:46,009
stuff I'm sorry

1275
00:48:46,009 --> 00:48:49,229
you know so look one of the first things

1276
00:48:49,229 --> 00:48:50,430
I knew that's like absolute cheater

1277
00:48:50,430 --> 00:48:51,960
[ __ ] is responder whose grant

1278
00:48:51,960 --> 00:48:53,670
responder in their family and been

1279
00:48:53,670 --> 00:48:56,400
absolutely terrified result Dobies

1280
00:48:56,400 --> 00:48:59,180
mining responder he's like another

1281
00:48:59,180 --> 00:49:02,579
three-run responder responder just

1282
00:49:02,579 --> 00:49:04,979
passively sits there listening for

1283
00:49:04,979 --> 00:49:07,170
broadcasted requests for various

1284
00:49:07,170 --> 00:49:13,259
services like dumb you pad and mdns and

1285
00:49:13,259 --> 00:49:14,999
all these services that like no

1286
00:49:14,999 --> 00:49:16,109
Enterprise needs

1287
00:49:16,109 --> 00:49:19,259
ever fun like Arman by default in like

1288
00:49:19,259 --> 00:49:19,819
every

1289
00:49:19,819 --> 00:49:21,859
you know Microsoft operating system ever

1290
00:49:21,859 --> 00:49:24,319
and we don't we don't know that and we

1291
00:49:24,319 --> 00:49:25,519
don't think they're an issue so we just

1292
00:49:25,519 --> 00:49:27,919
looking keep going and they're on there

1293
00:49:27,919 --> 00:49:30,380
just like saying hey they're literally

1294
00:49:30,380 --> 00:49:33,139
yelling I would like to I would like to

1295
00:49:33,139 --> 00:49:35,119
log into something basically they're

1296
00:49:35,119 --> 00:49:36,979
just broadcasting over and over and then

1297
00:49:36,979 --> 00:49:39,699
so responder goes you get a login to me

1298
00:49:39,699 --> 00:49:42,049
and then you can set it to actually let

1299
00:49:42,049 --> 00:49:43,849
them do that they go Cole thank you and

1300
00:49:43,849 --> 00:49:45,139
then it goes yeah give me your mentio

1301
00:49:45,139 --> 00:49:48,319
mention it goes here you go and you go

1302
00:49:48,319 --> 00:49:48,919
Thanks

1303
00:49:48,919 --> 00:49:50,509
way to go buddy you're all set the

1304
00:49:50,509 --> 00:49:52,130
computers happy so the user doesn't get

1305
00:49:52,130 --> 00:49:54,229
an alert because here's happy and now I

1306
00:49:54,229 --> 00:49:58,849
have presents Yulin me to hashes the

1307
00:49:58,849 --> 00:50:00,079
net-net till I'm there so they're not

1308
00:50:00,079 --> 00:50:02,089
like the kind that you can pass like you

1309
00:50:02,089 --> 00:50:03,619
can't use pass the hash to leave to log

1310
00:50:03,619 --> 00:50:05,689
into stuff well what can you do with a

1311
00:50:05,689 --> 00:50:09,109
bunch of mess with hatches you get a

1312
00:50:09,109 --> 00:50:10,069
crank on them

1313
00:50:10,069 --> 00:50:12,259
I know it's just definitely bunch of

1314
00:50:12,259 --> 00:50:22,249
okay you don't need a gargantuan

1315
00:50:22,249 --> 00:50:24,949
cranking great to crack passwords I was

1316
00:50:24,949 --> 00:50:27,229
cracking passwords consistently on my

1317
00:50:27,229 --> 00:50:30,049
Mac laptops it inside the office this

1318
00:50:30,049 --> 00:50:32,209
thing doesn't even have like a GPU in it

1319
00:50:32,209 --> 00:50:34,279
I was just using a big word list and

1320
00:50:34,279 --> 00:50:35,749
really I'm just [ __ ] kidding hits on

1321
00:50:35,749 --> 00:50:39,919
all 17 some more and you just you just

1322
00:50:39,919 --> 00:50:41,899
go to town with that now you know much

1323
00:50:41,899 --> 00:50:43,759
more user accounts let's see what they

1324
00:50:43,759 --> 00:50:47,539
do once you've got like these creds you

1325
00:50:47,539 --> 00:50:48,679
can you can do things to get more

1326
00:50:48,679 --> 00:50:50,959
credits - um you can start attacking

1327
00:50:50,959 --> 00:50:53,779
like SME UWM I like no I don't know

1328
00:50:53,779 --> 00:50:55,309
what's going on that like nobody thinks

1329
00:50:55,309 --> 00:50:58,489
WM is a big deal nothing like monitors

1330
00:50:58,489 --> 00:51:00,469
W&I nobody's paying attention to like

1331
00:51:00,469 --> 00:51:03,829
WMI logging endpoint protection like

1332
00:51:03,829 --> 00:51:05,869
half the stuff out there just ignores

1333
00:51:05,869 --> 00:51:08,630
WMI communication which is crazy because

1334
00:51:08,630 --> 00:51:11,479
like that's why I had faulted - before

1335
00:51:11,479 --> 00:51:12,859
PowerShell came around it's like

1336
00:51:12,859 --> 00:51:15,289
exploiting WMI just as windows

1337
00:51:15,289 --> 00:51:16,969
management instrumentation it's just

1338
00:51:16,969 --> 00:51:18,619
it's a way of sending commands back and

1339
00:51:18,619 --> 00:51:19,819
forth systems and like everything

1340
00:51:19,819 --> 00:51:22,189
monitors PSM exactly and this ignores

1341
00:51:22,189 --> 00:51:25,119
WMI which was effectively the same thing

1342
00:51:25,119 --> 00:51:27,109
one of my favorite things

1343
00:51:27,109 --> 00:51:30,589
just real quick is this rie revenue Dave

1344
00:51:30,589 --> 00:51:31,819
Kennedy wrote this and all it does is

1345
00:51:31,819 --> 00:51:33,509
just user null

1346
00:51:33,509 --> 00:51:37,889
to connect to systems and dump every

1347
00:51:37,889 --> 00:51:39,869
username within the environment it just

1348
00:51:39,869 --> 00:51:42,029
hand it to you so then you have that and

1349
00:51:42,029 --> 00:51:43,649
you can just start and just throw that

1350
00:51:43,649 --> 00:51:45,299
back at your brute forcing system and

1351
00:51:45,299 --> 00:51:47,189
just go keep going to town you should

1352
00:51:47,189 --> 00:51:48,449
have your brute forcing and password

1353
00:51:48,449 --> 00:51:50,130
cracking and going nonstop through this

1354
00:51:50,130 --> 00:51:51,869
entire process all the time just

1355
00:51:51,869 --> 00:51:53,699
generating more and more cups so that

1356
00:51:53,699 --> 00:51:55,979
like if you accidentally burn one you

1357
00:51:55,979 --> 00:51:57,689
get locked out on one you're using you

1358
00:51:57,689 --> 00:51:59,969
have a backstop of ones you can just go

1359
00:51:59,969 --> 00:52:02,339
keep using and it's just turning about

1360
00:52:02,339 --> 00:52:03,929
this just generating credits for this

1361
00:52:03,929 --> 00:52:06,389
entire male sniper can do that too you

1362
00:52:06,389 --> 00:52:07,559
can just feel like give me all the ad

1363
00:52:07,559 --> 00:52:09,569
stuff goes here you go there's 14,000

1364
00:52:09,569 --> 00:52:12,929
usernames and 3% of them have a password

1365
00:52:12,929 --> 00:52:15,989
with all 17 let's go

1366
00:52:15,989 --> 00:52:18,839
SMB null sessions are really fun to

1367
00:52:18,839 --> 00:52:20,579
exploit because you can get all kinds of

1368
00:52:20,579 --> 00:52:22,799
weird stuff that's just sitting up there

1369
00:52:22,799 --> 00:52:24,779
null such means like you just you use no

1370
00:52:24,779 --> 00:52:26,130
bread then you connect to a system by

1371
00:52:26,130 --> 00:52:27,839
S&P and it's just set to allow that to

1372
00:52:27,839 --> 00:52:28,289
happen

1373
00:52:28,289 --> 00:52:29,880
which I don't know why you had to do

1374
00:52:29,880 --> 00:52:31,499
that but you do this constantly there's

1375
00:52:31,499 --> 00:52:32,609
got to be something out there that just

1376
00:52:32,609 --> 00:52:34,199
does that by default for some reason and

1377
00:52:34,199 --> 00:52:35,309
I haven't been able to figure out what I

1378
00:52:35,309 --> 00:52:37,349
did for the calendar and so you just you

1379
00:52:37,349 --> 00:52:39,299
use them there's just tons of tools that

1380
00:52:39,299 --> 00:52:40,619
can do SMB connections one of my

1381
00:52:40,619 --> 00:52:42,239
favorites it's cracked cracked math exam

1382
00:52:42,239 --> 00:52:44,939
it's called tme and again on there all

1383
00:52:44,939 --> 00:52:46,889
these tools and the slide deck later you

1384
00:52:46,889 --> 00:52:49,319
guys can take pictures or whatever crank

1385
00:52:49,319 --> 00:52:51,859
beckons the Reg map exact is just

1386
00:52:51,859 --> 00:52:53,999
freaking devastating it's an awesome

1387
00:52:53,999 --> 00:52:56,279
tool if you can set it to go find all

1388
00:52:56,279 --> 00:52:58,559
null session SMB servers that are out

1389
00:52:58,559 --> 00:53:02,219
there and see what there is to see see

1390
00:53:02,219 --> 00:53:03,329
what you can dump out of there like

1391
00:53:03,329 --> 00:53:05,009
sometimes you can even like connected

1392
00:53:05,009 --> 00:53:06,989
eces with with null sessions and like

1393
00:53:06,989 --> 00:53:09,059
jump password policies and things like

1394
00:53:09,059 --> 00:53:12,119
that like people set their their ad set

1395
00:53:12,119 --> 00:53:13,709
up to just allow like unauthenticated

1396
00:53:13,709 --> 00:53:15,059
users to get all kinds of information

1397
00:53:15,059 --> 00:53:18,389
about the domain you can find just

1398
00:53:18,389 --> 00:53:20,249
straight-up SMB shares with with an

1399
00:53:20,249 --> 00:53:23,009
OAuth set up on them then have plaintext

1400
00:53:23,009 --> 00:53:24,689
password files just sitting in there

1401
00:53:24,689 --> 00:53:25,829
because it's like how that's the

1402
00:53:25,829 --> 00:53:28,589
companies file dump just make yourself a

1403
00:53:28,589 --> 00:53:30,599
folder and then just store whatever and

1404
00:53:30,599 --> 00:53:32,839
you go in there and there's like 400

1405
00:53:32,839 --> 00:53:36,179
thousand files but then you just start

1406
00:53:36,179 --> 00:53:38,189
searching for tax 20 passwords and you

1407
00:53:38,189 --> 00:53:39,509
come across stuff you start looking for

1408
00:53:39,509 --> 00:53:41,609
code snippets that have keys built into

1409
00:53:41,609 --> 00:53:43,679
them that's a personal favor I find that

1410
00:53:43,679 --> 00:53:46,019
a lot people buy dental hard code keys

1411
00:53:46,019 --> 00:53:46,770
into their

1412
00:53:46,770 --> 00:53:47,880
because if it's just because of like

1413
00:53:47,880 --> 00:53:50,010
damn its final I'll fix it when we go to

1414
00:53:50,010 --> 00:53:53,190
five but they don't rotate the keys when

1415
00:53:53,190 --> 00:53:55,590
they go to prod so like I pull your keys

1416
00:53:55,590 --> 00:53:57,150
out your dumb code now you ask us

1417
00:53:57,150 --> 00:53:58,800
entities for all of your proxy stones

1418
00:53:58,800 --> 00:54:00,510
and they reuse the keys across

1419
00:54:00,510 --> 00:54:02,970
everything so just like you should be

1420
00:54:02,970 --> 00:54:09,810
doing that like looking for stuff moving

1421
00:54:09,810 --> 00:54:12,030
on my absolute favorite tool right now

1422
00:54:12,030 --> 00:54:14,190
it's bloodhound this is the most cheater

1423
00:54:14,190 --> 00:54:16,620
II [ __ ] ever made

1424
00:54:16,620 --> 00:54:21,540
next to the one that's after this so

1425
00:54:21,540 --> 00:54:27,000
like we're in the environment we're able

1426
00:54:27,000 --> 00:54:29,460
to talk to computers we're able to log

1427
00:54:29,460 --> 00:54:31,620
into desktops into workstations because

1428
00:54:31,620 --> 00:54:33,810
we have valid user creds we have not

1429
00:54:33,810 --> 00:54:36,810
done anything suspicious aside from the

1430
00:54:36,810 --> 00:54:39,330
initial scans and brute-forcing like we

1431
00:54:39,330 --> 00:54:42,810
we've logged in to the VPN using valid

1432
00:54:42,810 --> 00:54:46,410
credentials no alert it's set up there

1433
00:54:46,410 --> 00:54:48,630
because I mean you can if you have the

1434
00:54:48,630 --> 00:54:50,940
time for that but generally you don't

1435
00:54:50,940 --> 00:54:52,770
alert on you should be alerting on

1436
00:54:52,770 --> 00:54:55,440
things like any time a DEA logs in any

1437
00:54:55,440 --> 00:54:56,880
time a domain admin logs in for any

1438
00:54:56,880 --> 00:54:58,080
reason you should absolutely get into

1439
00:54:58,080 --> 00:55:00,120
word that you do IR but like an average

1440
00:55:00,120 --> 00:55:03,780
user duh-da accounts shouldn't be

1441
00:55:03,780 --> 00:55:06,900
allowed to even use of you can okay they

1442
00:55:06,900 --> 00:55:11,820
are bloodhound saves us the time of

1443
00:55:11,820 --> 00:55:14,250
having to figure out what our path to da

1444
00:55:14,250 --> 00:55:16,530
is going to be assuming that our goal in

1445
00:55:16,530 --> 00:55:18,300
this is to get domain admin because then

1446
00:55:18,300 --> 00:55:21,060
it's usually game over exactly

1447
00:55:21,060 --> 00:55:23,130
when you step to do in the past those be

1448
00:55:23,130 --> 00:55:24,530
like right a minute I'm not a computer

1449
00:55:24,530 --> 00:55:26,790
but see who else has logged into this

1450
00:55:26,790 --> 00:55:28,350
computer hopefully there's an admin

1451
00:55:28,350 --> 00:55:30,810
alright let's start doing AV queries to

1452
00:55:30,810 --> 00:55:32,430
other computers and see who's logged in

1453
00:55:32,430 --> 00:55:35,310
there let's see I will use cramp map

1454
00:55:35,310 --> 00:55:37,410
except to do SMB you queries it's you

1455
00:55:37,410 --> 00:55:38,880
who's logged and we're hope that there

1456
00:55:38,880 --> 00:55:40,530
they have some kind of elevated access

1457
00:55:40,530 --> 00:55:41,520
if you do that alright I've been using

1458
00:55:41,520 --> 00:55:43,530
creds I have from this computer to log

1459
00:55:43,530 --> 00:55:45,270
into that system it's all hop over here

1460
00:55:45,270 --> 00:55:48,570
and then be like darn cool this guy is

1461
00:55:48,570 --> 00:55:50,730
an idea and he's logged in and I go into

1462
00:55:50,730 --> 00:55:52,920
memory and steal his credentials okay

1463
00:55:52,920 --> 00:55:54,300
yeah but now I have these what else can

1464
00:55:54,300 --> 00:55:55,890
we get into and you're kind of hopping

1465
00:55:55,890 --> 00:55:57,300
around and you don't know like you know

1466
00:55:57,300 --> 00:55:58,170
where the DC's

1467
00:55:58,170 --> 00:55:59,640
but you usually can't log directly into

1468
00:55:59,640 --> 00:56:00,780
those because you need to be a member of

1469
00:56:00,780 --> 00:56:03,030
the domain admin account group that

1470
00:56:03,030 --> 00:56:04,830
logged into the DC and you don't know

1471
00:56:04,830 --> 00:56:05,310
who that is

1472
00:56:05,310 --> 00:56:06,330
you're just doing a lot of hopping

1473
00:56:06,330 --> 00:56:07,680
around or you're doing a lot of manual

1474
00:56:07,680 --> 00:56:09,480
ad and smv queries and you she took a

1475
00:56:09,480 --> 00:56:11,490
lot of time somebody made this tool

1476
00:56:11,490 --> 00:56:12,420
called bloodhound

1477
00:56:12,420 --> 00:56:15,450
which does all of that for you it's all

1478
00:56:15,450 --> 00:56:18,600
like one powershell script and it just

1479
00:56:18,600 --> 00:56:21,420
long story short just spits these out

1480
00:56:21,420 --> 00:56:24,240
and i know you can't see it so well but

1481
00:56:24,240 --> 00:56:26,520
it just like it gives you a list of

1482
00:56:26,520 --> 00:56:28,500
users like here's all the domain admins

1483
00:56:28,500 --> 00:56:30,060
group like here's all the users that are

1484
00:56:30,060 --> 00:56:31,110
in there you can just start eating an

1485
00:56:31,110 --> 00:56:33,930
eye out for that it gives you a literal

1486
00:56:33,930 --> 00:56:37,140
path from like where your ad see what

1487
00:56:37,140 --> 00:56:40,200
domain admin account to the DC so you

1488
00:56:40,200 --> 00:56:42,780
just know exactly where to hop as it

1489
00:56:42,780 --> 00:56:44,520
goes alright so this this users also

1490
00:56:44,520 --> 00:56:46,710
logged in to this computer which also

1491
00:56:46,710 --> 00:56:48,540
has this user logged in which is logged

1492
00:56:48,540 --> 00:56:49,920
into that computer and you just take

1493
00:56:49,920 --> 00:56:51,270
advantage of like these lot these user

1494
00:56:51,270 --> 00:56:52,890
chefs and sessions or pulling threads

1495
00:56:52,890 --> 00:56:54,180
for memory or whatever you want to do

1496
00:56:54,180 --> 00:56:56,940
and computer how on a direct path it's

1497
00:56:56,940 --> 00:56:59,760
like but please play Parcheesi we report

1498
00:56:59,760 --> 00:57:01,680
cheesy like the easiest board game ever

1499
00:57:01,680 --> 00:57:03,960
we're like going to deal with parties

1500
00:57:03,960 --> 00:57:04,920
you guys like you roll the dice and

1501
00:57:04,920 --> 00:57:06,480
you're like I got a seven and then you

1502
00:57:06,480 --> 00:57:08,190
just move your thing set up and then

1503
00:57:08,190 --> 00:57:11,880
it's the next players turn nine and

1504
00:57:11,880 --> 00:57:13,380
they're now in the lead and then there's

1505
00:57:13,380 --> 00:57:14,910
the entire game until somebody got all

1506
00:57:14,910 --> 00:57:16,710
the way around the border that's what

1507
00:57:16,710 --> 00:57:18,960
this is like it's just like alright well

1508
00:57:18,960 --> 00:57:20,550
just go from this computer and then this

1509
00:57:20,550 --> 00:57:22,320
computer and then this computer and like

1510
00:57:22,320 --> 00:57:24,330
you're done in like half the time they

1511
00:57:24,330 --> 00:57:26,220
used to take and the best part about

1512
00:57:26,220 --> 00:57:28,080
this is like okay yeah you do have to

1513
00:57:28,080 --> 00:57:32,100
run a PowerShell script on on some local

1514
00:57:32,100 --> 00:57:34,890
machine in the network it doesn't

1515
00:57:34,890 --> 00:57:36,960
require any kind of elevated privileges

1516
00:57:36,960 --> 00:57:39,750
you can run this script on a completely

1517
00:57:39,750 --> 00:57:42,600
unrelated users computer and because all

1518
00:57:42,600 --> 00:57:46,680
it does is make valid ad requests that

1519
00:57:46,680 --> 00:57:48,960
these computers and users do need to be

1520
00:57:48,960 --> 00:57:51,410
able to do to get through their day

1521
00:57:51,410 --> 00:57:53,940
it doesn't require any crazy privileges

1522
00:57:53,940 --> 00:57:55,710
and it just comes back with this huge

1523
00:57:55,710 --> 00:57:57,860
banner like this one here like this is

1524
00:57:57,860 --> 00:58:00,510
this is the tiny enterprise down here at

1525
00:58:00,510 --> 00:58:02,970
the bottom like there's like a trillion

1526
00:58:02,970 --> 00:58:06,510
pounds to d800 if you run in your

1527
00:58:06,510 --> 00:58:07,920
environment you give all your views

1528
00:58:07,920 --> 00:58:10,620
there's a local admin it's it's it takes

1529
00:58:10,620 --> 00:58:11,820
forever to render

1530
00:58:11,820 --> 00:58:13,680
because it's just like doing anything

1531
00:58:13,680 --> 00:58:16,530
you want you've screwed your environment

1532
00:58:16,530 --> 00:58:18,900
rating so bloodhound is awesome

1533
00:58:18,900 --> 00:58:21,000
usually what you'll do like once you're

1534
00:58:21,000 --> 00:58:22,140
inside of a system is you're going to

1535
00:58:22,140 --> 00:58:24,000
run mimic a cheaters in this case I can

1536
00:58:24,000 --> 00:58:26,930
because it's great which is awesome

1537
00:58:26,930 --> 00:58:30,510
mimic cats is among other things that's

1538
00:58:30,510 --> 00:58:32,610
how you get these users passwords out of

1539
00:58:32,610 --> 00:58:34,890
memory when they're logged in at least

1540
00:58:34,890 --> 00:58:36,960
that's what we're using it for in this

1541
00:58:36,960 --> 00:58:39,030
context so you'll get into a system

1542
00:58:39,030 --> 00:58:40,650
you'll run into cats one way or another

1543
00:58:40,650 --> 00:58:42,770
and then you'll get the stuff and leave

1544
00:58:42,770 --> 00:58:45,750
generally a lightning mimic is so well

1545
00:58:45,750 --> 00:58:47,460
known that most end when production is

1546
00:58:47,460 --> 00:58:52,410
going to catch it and cut it off so what

1547
00:58:52,410 --> 00:58:55,100
you'll do is you just jump alsace and

1548
00:58:55,100 --> 00:58:57,240
just right-click on the process the

1549
00:58:57,240 --> 00:59:00,750
dumbbells ass and run mimic get soft

1550
00:59:00,750 --> 00:59:02,220
lining so you do have to be able to

1551
00:59:02,220 --> 00:59:03,870
exfil that done which is often extremely

1552
00:59:03,870 --> 00:59:05,460
easy because nobody's protecting it

1553
00:59:05,460 --> 00:59:08,130
that's the hider then you want mimic it

1554
00:59:08,130 --> 00:59:10,050
and then you just like then you have

1555
00:59:10,050 --> 00:59:12,330
these users passwords and the idea is

1556
00:59:12,330 --> 00:59:13,500
you keep doing that until you get to a

1557
00:59:13,500 --> 00:59:15,060
system where you find a domain a man

1558
00:59:15,060 --> 00:59:16,440
who's logged in you grab his credentials

1559
00:59:16,440 --> 00:59:18,900
plenty good logic with you see etc so

1560
00:59:18,900 --> 00:59:22,860
all that's really cool this is the most

1561
00:59:22,860 --> 00:59:24,510
cheater II [ __ ] that I've seen in a

1562
00:59:24,510 --> 00:59:26,100
very long time this is the final tool

1563
00:59:26,100 --> 00:59:27,450
that we're going to use in this attack

1564
00:59:27,450 --> 00:59:30,420
chain here at Buddha's Empire PowerShell

1565
00:59:30,420 --> 00:59:33,150
empire power to a lot of hundreds kind

1566
00:59:33,150 --> 00:59:36,000
of it's kind of like it's like

1567
00:59:36,000 --> 00:59:41,010
Metasploit shells in a powershell format

1568
00:59:41,010 --> 00:59:42,450
it's kind of a few exploits that it

1569
00:59:42,450 --> 00:59:44,760
supports it's really an EP is new again

1570
00:59:44,760 --> 00:59:46,650
nobody's defending against PowerShell

1571
00:59:46,650 --> 00:59:48,210
threats and I have no idea why but

1572
00:59:48,210 --> 00:59:51,090
PowerShell is like be bet and mr. tool

1573
00:59:51,090 --> 00:59:53,340
ever created and installed by default on

1574
00:59:53,340 --> 00:59:55,710
every Windows system it's so easy and

1575
00:59:55,710 --> 00:59:59,190
like nobody limits it everybody like

1576
00:59:59,190 --> 01:00:00,840
just has it set to default we've been

1577
01:00:00,840 --> 01:00:02,430
just like bypass all the execution

1578
01:00:02,430 --> 01:00:04,950
policy it's just you want because nobody

1579
01:00:04,950 --> 01:00:06,180
uses PowerShell so we don't have to

1580
01:00:06,180 --> 01:00:09,960
monitor it did the average user need

1581
01:00:09,960 --> 01:00:14,940
PowerShell to do their job no like the

1582
01:00:14,940 --> 01:00:18,560
Avalons just like desk order turn no

1583
01:00:18,560 --> 01:00:23,310
turn it off just [ __ ] turn out

1584
01:00:23,310 --> 01:00:24,780
don't even worry about writing policies

1585
01:00:24,780 --> 01:00:27,870
for it just turn it on like that shoots

1586
01:00:27,870 --> 01:00:30,120
me in the foot so hard when there's not

1587
01:00:30,120 --> 01:00:32,850
PowerShell on the system now so do that

1588
01:00:32,850 --> 01:00:35,700
but anyways DePalma that sets up shells

1589
01:00:35,700 --> 01:00:38,550
on systems death star it takes care of

1590
01:00:38,550 --> 01:00:39,840
the exploitation once you have that

1591
01:00:39,840 --> 01:00:42,720
shell on it system it is like literally

1592
01:00:42,720 --> 01:00:44,760
a one-click just like once you got a

1593
01:00:44,760 --> 01:00:47,010
shell you fire up Death Star and you've

1594
01:00:47,010 --> 01:00:50,430
even come back and you have da you can

1595
01:00:50,430 --> 01:00:52,290
put it on any system privilege on a

1596
01:00:52,290 --> 01:00:53,640
privilege like regardless if you've

1597
01:00:53,640 --> 01:00:55,410
logged in if you can get an empire shell

1598
01:00:55,410 --> 01:00:58,230
to run on that system you run Empire and

1599
01:00:58,230 --> 01:01:00,810
it does every does blood health it does

1600
01:01:00,810 --> 01:01:02,910
Numa cats it does all the stuff I just

1601
01:01:02,910 --> 01:01:05,070
showed you on its own it iterates

1602
01:01:05,070 --> 01:01:07,110
through the tap types trying to see what

1603
01:01:07,110 --> 01:01:09,480
works and then it just like you come

1604
01:01:09,480 --> 01:01:11,790
back later and it's like fun about

1605
01:01:11,790 --> 01:01:15,240
domain admin got domain admin

1606
01:01:15,240 --> 01:01:17,760
credentials username password here you

1607
01:01:17,760 --> 01:01:20,040
go and then like it's like you literally

1608
01:01:20,040 --> 01:01:21,810
go get a sandwich you go get a coffee or

1609
01:01:21,810 --> 01:01:22,830
whatever you come back and you're like

1610
01:01:22,830 --> 01:01:27,000
oh this is like the cheater automation

1611
01:01:27,000 --> 01:01:28,350
crap that like people use for video

1612
01:01:28,350 --> 01:01:33,540
reading so just real quick how to defend

1613
01:01:33,540 --> 01:01:36,240
against their responder disable all of

1614
01:01:36,240 --> 01:01:37,620
these services almost nothing in

1615
01:01:37,620 --> 01:01:39,570
enterprise ever needs these these are

1616
01:01:39,570 --> 01:01:41,400
just a lot of different legacy but

1617
01:01:41,400 --> 01:01:42,830
they're out there still running

1618
01:01:42,830 --> 01:01:45,810
SME signing nobody does

1619
01:01:45,810 --> 01:01:48,450
SME signing like destroys a lot of the

1620
01:01:48,450 --> 01:01:50,690
SMB man and the build stuff that I do

1621
01:01:50,690 --> 01:01:52,950
there's a there's a thing called spoof

1622
01:01:52,950 --> 01:01:54,810
spotter which is supposed to catch like

1623
01:01:54,810 --> 01:01:56,250
one of the things responder does I

1624
01:01:56,250 --> 01:01:58,470
haven't tried it but white really the

1625
01:01:58,470 --> 01:01:59,610
thing it's catching is something you

1626
01:01:59,610 --> 01:02:00,780
probably don't need in your environment

1627
01:02:00,780 --> 01:02:02,850
anyway so again just turn it off like

1628
01:02:02,850 --> 01:02:04,350
don't worry about rules just turn it off

1629
01:02:04,350 --> 01:02:08,430
if you don't need it don't allow notice

1630
01:02:08,430 --> 01:02:09,930
that should Express in via Wi-Fi

1631
01:02:09,930 --> 01:02:12,000
scan your environment to find it and

1632
01:02:12,000 --> 01:02:14,370
then if you do need our web set egress

1633
01:02:14,370 --> 01:02:16,320
rules I've set a seal on that system you

1634
01:02:16,320 --> 01:02:18,240
know set up IP tables or whatever to

1635
01:02:18,240 --> 01:02:19,530
only allow certain connections at

1636
01:02:19,530 --> 01:02:20,880
certain times but serve people or

1637
01:02:20,880 --> 01:02:22,980
whatever don't just like have these null

1638
01:02:22,980 --> 01:02:24,560
sessions out there that are just like

1639
01:02:24,560 --> 01:02:27,420
Yolo because you don't know what you can

1640
01:02:27,420 --> 01:02:28,710
get from Intel session it may look like

1641
01:02:28,710 --> 01:02:30,240
nothing's on that system but you may be

1642
01:02:30,240 --> 01:02:31,530
able to exploit what that system could

1643
01:02:31,530 --> 01:02:32,220
be using that

1644
01:02:32,220 --> 01:02:34,010
obsession to do something else

1645
01:02:34,010 --> 01:02:36,450
bloodhound you should absolutely be

1646
01:02:36,450 --> 01:02:37,770
running bloodhound in your apartment as

1647
01:02:37,770 --> 01:02:38,490
a defector

1648
01:02:38,490 --> 01:02:40,530
what the Bloodhound is probably the best

1649
01:02:40,530 --> 01:02:43,320
tool I'll bring now for locking down

1650
01:02:43,320 --> 01:02:45,390
your environment it's great because it

1651
01:02:45,390 --> 01:02:46,770
shows you like where all the Edmonton

1652
01:02:46,770 --> 01:02:48,359
logic who has a lot of local have an

1653
01:02:48,359 --> 01:02:50,010
account you can track like how long like

1654
01:02:50,010 --> 01:02:51,960
where people are just state leave into

1655
01:02:51,960 --> 01:02:53,820
GA accounts logged in forever you can

1656
01:02:53,820 --> 01:02:56,820
find a da logged into like some printer

1657
01:02:56,820 --> 01:02:59,640
and be like what the [ __ ] is that what

1658
01:02:59,640 --> 01:03:05,790
are you doing I think you can like you

1659
01:03:05,790 --> 01:03:07,320
should alert non-anomalous traffic like

1660
01:03:07,320 --> 01:03:09,210
a ton of requests going to single DC

1661
01:03:09,210 --> 01:03:10,920
like what haven't seen any noises you

1662
01:03:10,920 --> 01:03:13,650
can learn on that query limits on the DC

1663
01:03:13,650 --> 01:03:16,530
that might break stuff but like you have

1664
01:03:16,530 --> 01:03:17,970
to like know what's a normal amount of

1665
01:03:17,970 --> 01:03:20,940
query environment ago I saw tool called

1666
01:03:20,940 --> 01:03:23,540
javelin that came out is mentioned on

1667
01:03:23,540 --> 01:03:26,550
security weekly that allegedly was built

1668
01:03:26,550 --> 01:03:28,109
just to deceive defend against

1669
01:03:28,109 --> 01:03:31,830
bloodhound it provides obfuscated

1670
01:03:31,830 --> 01:03:33,810
results it's a bloodhound of queries

1671
01:03:33,810 --> 01:03:35,490
like it recognizes it at the bloodhound

1672
01:03:35,490 --> 01:03:36,780
weary and it sounds like wrong

1673
01:03:36,780 --> 01:03:39,270
information which would just I hate that

1674
01:03:39,270 --> 01:03:41,609
if I come across a he's so mad I haven't

1675
01:03:41,609 --> 01:03:43,200
seen a word I couldn't find much info on

1676
01:03:43,200 --> 01:03:44,780
it I did put the website up on a slide

1677
01:03:44,780 --> 01:03:48,000
mimic a super easy when you don't know

1678
01:03:48,000 --> 01:03:49,980
process you don't get to pick the name

1679
01:03:49,980 --> 01:03:52,349
of it windows automatically makes

1680
01:03:52,349 --> 01:03:55,260
process name DMV so I just looked for

1681
01:03:55,260 --> 01:03:57,210
that look for LS f dot BMP as soon as

1682
01:03:57,210 --> 01:03:59,010
you see that fit that this like red

1683
01:03:59,010 --> 01:04:01,410
alert red [ __ ] alert if you see L

1684
01:04:01,410 --> 01:04:03,359
says WMD anywhere in your environment

1685
01:04:03,359 --> 01:04:06,000
somewhat is in there's no reason this

1686
01:04:06,000 --> 01:04:08,880
should ever be happening in the

1687
01:04:08,880 --> 01:04:10,290
inception of life's in my serious

1688
01:04:10,290 --> 01:04:11,550
trouble shooting going on for Sunday

1689
01:04:11,550 --> 01:04:12,930
felt like eventually all-hands-on-deck

1690
01:04:12,930 --> 01:04:16,710
something seriously wrong in it and stop

1691
01:04:16,710 --> 01:04:18,170
giving everywhere the dog local admin

1692
01:04:18,170 --> 01:04:20,790
start approaching back stopping courses

1693
01:04:20,790 --> 01:04:22,200
about it if they do need though blend

1694
01:04:22,200 --> 01:04:23,910
give them a separate account to use that

1695
01:04:23,910 --> 01:04:25,619
has local admin should not be their

1696
01:04:25,619 --> 01:04:27,990
daily driver a pound block dump it down

1697
01:04:27,990 --> 01:04:29,970
so that like even that local admin

1698
01:04:29,970 --> 01:04:31,859
account is only able to execute certain

1699
01:04:31,859 --> 01:04:34,800
tasks this is really easy this is basic

1700
01:04:34,800 --> 01:04:37,530
like 101 Sisson mention that nobody does

1701
01:04:37,530 --> 01:04:39,060
because weird

1702
01:04:39,060 --> 01:04:41,430
not so much lazy as we are overworked

1703
01:04:41,430 --> 01:04:43,370
participants here's just an interesting

1704
01:04:43,370 --> 01:04:45,050
and don't just think that like they

1705
01:04:45,050 --> 01:04:46,220
suffer they're lazy and they're stupid

1706
01:04:46,220 --> 01:04:47,990
it's that they've way too much work and

1707
01:04:47,990 --> 01:04:49,370
they're going to do lazy stuff like just

1708
01:04:49,370 --> 01:04:51,320
given room just different route he's

1709
01:04:51,320 --> 01:04:54,170
smart its body and it's not a matter of

1710
01:04:54,170 --> 01:04:55,490
like is he going to do something done

1711
01:04:55,490 --> 01:04:57,590
with fruit in am i going to do something

1712
01:04:57,590 --> 01:04:59,930
dumb with his room and that's where the

1713
01:04:59,930 --> 01:05:07,010
problems going went over all of them so

1714
01:05:07,010 --> 01:05:09,140
I end of the slide deck I have all the

1715
01:05:09,140 --> 01:05:11,870
tools coming in but anyway I'm giant

1716
01:05:11,870 --> 01:05:13,490
Christmas I hope that was helpful I hope

1717
01:05:13,490 --> 01:05:14,840
you guys can take this back to work on

1718
01:05:14,840 --> 01:05:16,070
Monday and start running a bunch of

1719
01:05:16,070 --> 01:05:17,480
tools and start locking environment out

1720
01:05:17,480 --> 01:05:19,910
like I said if you can clean up

1721
01:05:19,910 --> 01:05:21,680
everything that I mentioned here you're

1722
01:05:21,680 --> 01:05:24,700
gonna have one seriously pissed off

1723
01:05:24,700 --> 01:05:27,290
cost-effective pen tester because he's

1724
01:05:27,290 --> 01:05:29,140
going to actually have to do real work

1725
01:05:29,140 --> 01:05:31,070
instead of all this [ __ ] that I

1726
01:05:31,070 --> 01:05:35,290
showed you guys today so thank you

