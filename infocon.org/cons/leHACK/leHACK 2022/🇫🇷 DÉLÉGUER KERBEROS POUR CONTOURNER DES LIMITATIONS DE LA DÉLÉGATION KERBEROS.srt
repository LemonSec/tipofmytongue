1
00:00:00,220 --> 00:00:05,769
[Applause]

2
00:00:05,769 --> 00:00:08,330
hello everyone good it's been a while since

3
00:00:08,330 --> 00:00:11,440
we've seen each other so thank you hdtv

4
00:00:11,440 --> 00:00:14,059
hdtv or the level of the rails it's been

5
00:00:14,059 --> 00:00:15,170
two years since we've seen each other and it's

6
00:00:15,170 --> 00:00:17,359
a pleasure to see you again here  so here we go

7
00:00:17,359 --> 00:00:19,640
hold on tight because there are

8
00:00:19,640 --> 00:00:23,770
72 slides 45 minutes and there it's going to swing

9
00:00:23,920 --> 00:00:25,550
today I think you

10
00:00:25,550 --> 00:00:28,039
understood it from the title that the friend

11
00:00:28,039 --> 00:00:29,900
explained well in English too we're going to

12
00:00:29,900 --> 00:00:31,490
talk  of kerberos delegations therefore

13
00:00:31,490 --> 00:00:33,500
of activated directory or how to

14
00:00:33,500 --> 00:00:34,699
circumvent limitations of

15
00:00:34,699 --> 00:00:37,550
kerberos delegation by using kerberos delegation

16
00:00:37,550 --> 00:00:38,409


17
00:00:38,409 --> 00:00:41,569
so the plan will be the following

18
00:00:41,569 --> 00:00:43,039
first we will talk about active directory

19
00:00:43,039 --> 00:00:44,690
and kerberos for your greatest

20
00:00:44,690 --> 00:00:45,460
surprise

21
00:00:45,460 --> 00:00:47,839
then we will talk  of

22
00:00:47,839 --> 00:00:50,569
kerberos delegations later we will talk about the

23
00:00:50,569 --> 00:00:52,699
extensions of delegations services for

24
00:00:52,699 --> 00:00:55,129
users hoped we will do some

25
00:00:55,129 --> 00:00:56,629
tests together try to understand a

26
00:00:56,629 --> 00:00:58,549
little how it works and then

27
00:00:58,549 --> 00:01:00,469
get to the two most

28
00:01:00,469 --> 00:01:01,789
important and most important parts  s short of sète

29
00:01:01,789 --> 00:01:04,970
slide the abuse of s for you to proxy and

30
00:01:04,970 --> 00:01:07,190
the abuse of surviving alone at the end

31
00:01:07,190 --> 00:01:08,870
i will try to make my check by

32
00:01:08,870 --> 00:01:10,100
anticipating a little the questions you may

33
00:01:10,100 --> 00:01:11,930
have i don't like to be surprised

34
00:01:11,930 --> 00:01:12,890
by  the questions to which I have no

35
00:01:12,890 --> 00:01:14,900
answer and at the very end there will be a

36
00:01:14,900 --> 00:01:16,280
session maybe we have

37
00:01:16,280 --> 00:01:18,250
questions that I have not answered

38
00:01:18,250 --> 00:01:20,300
I leave this slide there for a few

39
00:01:20,300 --> 00:01:22,100
seconds if you need at the very bottom

40
00:01:22,100 --> 00:01:23,900
you have  the permanent link for this

41
00:01:23,900 --> 00:01:26,330
slide so don't hesitate to use it if

42
00:01:26,330 --> 00:01:27,110
you want to take

43
00:01:27,110 --> 00:01:28,400
disgusting photos on your smartphone or

44
00:01:28,400 --> 00:01:31,940
use the full hd 4k version make

45
00:01:31,940 --> 00:01:34,210
your choice

46
00:01:35,380 --> 00:01:37,400
little presentation I suggest

47
00:01:37,400 --> 00:01:39,890
that we break the ice together so as

48
00:01:39,890 --> 00:01:40,910
it  said indeed I work at

49
00:01:40,910 --> 00:01:43,190
capgemini I am shy of the

50
00:01:43,190 --> 00:01:45,230
pentest teams in the Mediterranean and in parallel

51
00:01:45,230 --> 00:01:46,880
with sage and pilot the activities of

52
00:01:46,880 --> 00:01:48,020
pentest the development of its

53
00:01:48,020 --> 00:01:49,940
activities therefore not operational at the

54
00:01:49,940 --> 00:01:50,890
national level

55
00:01:50,890 --> 00:01:53,210
you may not know by  the

56
00:01:53,210 --> 00:01:54,800
realization of certain projects like

57
00:01:54,800 --> 00:01:57,680
hexagoal the hackers recipes besides

58
00:01:57,680 --> 00:01:59,780
I was attacked yesterday so that

59
00:01:59,780 --> 00:02:01,159
you all recover stickers I

60
00:02:01,159 --> 00:02:02,870
have almost no more

61
00:02:02,870 --> 00:02:05,030
and in parallel with that I say

62
00:02:05,030 --> 00:02:06,560
hello to little in the streets this  drama there

63
00:02:06,560 --> 00:02:08,570
who are great friends and

64
00:02:08,570 --> 00:02:10,400
development aid and also with the box

65
00:02:10,400 --> 00:02:12,710
which has the pleasure which gives me the pleasure

66
00:02:12,710 --> 00:02:14,900
of sponsoring this conference is which

67
00:02:14,900 --> 00:02:16,640
gives you the pleasure of showering yourself with

68
00:02:16,640 --> 00:02:18,260
goodies you will be able to

69
00:02:18,260 --> 00:02:20,240
find ahoussou quéau christina at the

70
00:02:20,240 --> 00:02:21,350
end of this crowd reference to

71
00:02:21,350 --> 00:02:23,240
look for it or otherwise find myself months and

72
00:02:23,240 --> 00:02:24,440
you will have a lot of gifts at the end

73
00:02:24,440 --> 00:02:26,210
of this race but follow well the one

74
00:02:26,210 --> 00:02:27,410
who answers a question that I ask at

75
00:02:27,410 --> 00:02:28,670
the end of the conf recovers a very nice thing

76
00:02:28,670 --> 00:02:30,280


77
00:02:30,280 --> 00:02:32,470
ok so here we go

78
00:02:32,470 --> 00:02:34,460
I would be curious by a sunrise tomorrow

79
00:02:34,460 --> 00:02:36,260
who knows or who uses or who

80
00:02:36,260 --> 00:02:39,040
pentests the activated directory

81
00:02:41,200 --> 00:02:43,300
makes a good majority anyway it's

82
00:02:43,300 --> 00:02:45,780
a bit overwhelming

83
00:02:46,379 --> 00:02:48,519
we're going to talk about that for  to be more surprise

84
00:02:48,519 --> 00:02:49,230


85
00:02:49,230 --> 00:02:51,430
therefore active directory for those who

86
00:02:51,430 --> 00:02:52,390
do not know it for the two of

87
00:02:52,390 --> 00:02:54,489
the assembly who do not use it it is

88
00:02:54,489 --> 00:02:56,290
a set of services provided by

89
00:02:56,290 --> 00:02:58,690
microsoft which in fact allows the management

90
00:02:58,690 --> 00:03:01,390
of identity of access etc  and in fact we will

91
00:03:01,390 --> 00:03:02,920
find in active directory active

92
00:03:02,920 --> 00:03:05,260
directory domain service is the dds more

93
00:03:05,260 --> 00:03:06,760
commonly called waters in

94
00:03:06,760 --> 00:03:08,530
ad domain and we will also find other

95
00:03:08,530 --> 00:03:11,170
services that are associated with

96
00:03:11,170 --> 00:03:13,750
csa dfs ads and so

97
00:03:13,750 --> 00:03:17,000
on within  the dds we will find two

98
00:03:17,000 --> 00:03:18,470
major authentication protocols which

99
00:03:18,470 --> 00:03:20,080
are such m and kerberos

100
00:03:20,080 --> 00:03:22,340
ntlm works in a rather

101
00:03:22,340 --> 00:03:24,980
simple way cd frire and louis freeh wycheck

102
00:03:24,980 --> 00:03:26,930
we have a first message of negotiation

103
00:03:26,930 --> 00:03:28,220
of the agreement a second message which

104
00:03:28,220 --> 00:03:29,450
sends a challenge  a third message

105
00:03:29,450 --> 00:03:31,099
in which the client who wishes to

106
00:03:31,099 --> 00:03:32,840
authenticate digits the challenge

107
00:03:32,840 --> 00:03:36,170
with his h of passwords and that

108
00:03:36,170 --> 00:03:38,209
proves kerberos authentication works

109
00:03:38,209 --> 00:03:39,470
a little differently it works with

110
00:03:39,470 --> 00:03:41,630
tickets even if the basis of

111
00:03:41,630 --> 00:03:42,739
the authentication the post-

112
00:03:42,739 --> 00:03:44,660
authentication kerberos

113
00:03:44,660 --> 00:03:46,160
also relies on a derivative of the password

114
00:03:46,160 --> 00:03:48,100
of the user or the account

115
00:03:48,100 --> 00:03:50,540
a small difference between ntlm and

116
00:03:50,540 --> 00:03:52,370
kerberos is that ntm is the

117
00:03:52,370 --> 00:03:53,690
controller  of domain which decide

118
00:03:53,690 --> 00:03:55,160
the authentication which decide

119
00:03:55,160 --> 00:03:57,170
whether or not focused on a server where for

120
00:03:57,170 --> 00:04:00,290
kerberos it will be the machine or the

121
00:04:00,290 --> 00:04:01,970
service target of the authentication which

122
00:04:01,970 --> 00:04:03,950
will make this decision based only

123
00:04:03,950 --> 00:04:05,420
on the duplicate content which it  is

124
00:04:05,420 --> 00:04:08,299
sent and in kerberos we will

125
00:04:08,299 --> 00:04:10,849
find delegation which will allow us

126
00:04:10,849 --> 00:04:12,830
to abuse a lot of things but

127
00:04:12,830 --> 00:04:14,120
also other functionalities which

128
00:04:14,120 --> 00:04:15,590
are at the origin of a set of attacks

129
00:04:15,590 --> 00:04:17,690
that you see listed here you have

130
00:04:17,690 --> 00:04:19,430
my  maps on the right of the side which is

131
00:04:19,430 --> 00:04:20,930
available on the hackers recipes my

132
00:04:20,930 --> 00:04:22,210
little personal bible

133
00:04:22,210 --> 00:04:24,350
and so you see on this letter on

134
00:04:24,350 --> 00:04:25,610
the left that we have the two

135
00:04:25,610 --> 00:04:28,060
different memorandums of understanding ntlm and kerberos

136
00:04:28,060 --> 00:04:30,650
set this is not aimed at all  t to say that

137
00:04:30,650 --> 00:04:33,080
ntlm and more dangerous than kerberos or

138
00:04:33,080 --> 00:04:35,270
inverse in this case my opinion is that

139
00:04:35,270 --> 00:04:36,950
head thelema is to be absolutely avoided

140
00:04:36,950 --> 00:04:39,110
it is above all very hard to do but

141
00:04:39,110 --> 00:04:41,390
it is violent on the other hand also fuels

142
00:04:41,390 --> 00:04:42,889
a little more vectors d  'attacked

143
00:04:42,889 --> 00:04:44,360
different it's just that each vector

144
00:04:44,360 --> 00:04:46,280
is a little less critical than those of

145
00:04:46,280 --> 00:04:48,410
ntm or in 1st ntm we can be

146
00:04:48,410 --> 00:04:49,880
able to pass domain admin well in

147
00:04:49,880 --> 00:04:52,240
fact very quickly

148
00:04:52,300 --> 00:04:54,589
now we're going to get into the hard I

149
00:04:54,589 --> 00:04:56,149
'm sorry there that  is the time when

150
00:04:56,149 --> 00:04:57,889
you can stick doze off i

151
00:04:57,889 --> 00:04:59,779
refer you to the end hope the

152
00:04:59,779 --> 00:05:01,460
theft would be enjoyable

153
00:05:01,460 --> 00:05:03,259
kerberos authentication takes place in a few

154
00:05:03,259 --> 00:05:05,270
major times three major times a first

155
00:05:05,270 --> 00:05:06,580
time that she after authentication

156
00:05:06,580 --> 00:05:08,059
of ancestors and  authentication

157
00:05:08,059 --> 00:05:10,639
the user will in fact rely on

158
00:05:10,639 --> 00:05:12,289
the knowledge of his password or

159
00:05:12,289 --> 00:05:13,490
rather of a derivative of his password

160
00:05:13,490 --> 00:05:17,240
to obtain halte and gt1 tgt 7 1 clis

161
00:05:17,240 --> 00:05:19,249
and a ticket which makes it possible to

162
00:05:19,249 --> 00:05:21,199
obtain other tickets  It is over there  e of

163
00:05:21,199 --> 00:05:22,930
all kerberos authentication

164
00:05:22,930 --> 00:05:25,639
a service ticket it is the second

165
00:05:25,639 --> 00:05:27,529
ticket which is obtained by demonstrating

166
00:05:27,529 --> 00:05:29,869
that one depends holds tgt valid this

167
00:05:29,869 --> 00:05:31,339
service ticket allows there for the

168
00:05:31,339 --> 00:05:33,439
blow to access services be

169
00:05:33,439 --> 00:05:35,839
careful not to confuse with  a tgs the tgs

170
00:05:35,839 --> 00:05:37,369
is not a ticket the tg is a

171
00:05:37,369 --> 00:05:39,499
service that allows you to obtain your ticket

172
00:05:39,499 --> 00:05:41,959
the tgs being the ticketing service the

173
00:05:41,959 --> 00:05:43,789
service therefore first

174
00:05:43,789 --> 00:05:46,039
time authentication second time tgt

175
00:05:46,039 --> 00:05:48,319
third time services tic is and

176
00:05:48,319 --> 00:05:49,490
once that  'we have service ti cats we can

177
00:05:49,490 --> 00:05:52,330
identify with the service

178
00:05:52,740 --> 00:05:54,909
now let's talk about kerberos delegation

179
00:05:54,909 --> 00:05:56,050
and its link with this

180
00:05:56,050 --> 00:05:58,330
authentication delegation

181
00:05:58,330 --> 00:06:00,819
comes in three main types the

182
00:06:00,819 --> 00:06:02,020
first type being unconstrained delegation

183
00:06:02,020 --> 00:06:03,939
the most dangerous type which

184
00:06:03,939 --> 00:06:05,830
allows a user  to a service

185
00:06:05,830 --> 00:06:07,360
configured for its unconstrained delegation

186
00:06:07,360 --> 00:06:10,089
to authenticate another

187
00:06:10,089 --> 00:06:11,349
service by pretending to be

188
00:06:11,349 --> 00:06:14,469
anyone in the domain or almost is

189
00:06:14,469 --> 00:06:15,749
little that it can do this operation  ion

190
00:06:15,749 --> 00:06:18,009
to any service it is

191
00:06:18,009 --> 00:06:19,749
delegation without constraint delegation

192
00:06:19,749 --> 00:06:21,129
includes constraint it is the same thing

193
00:06:21,129 --> 00:06:22,330
and can pretend to be whoever wants or

194
00:06:22,330 --> 00:06:24,219
almost close this time to a

195
00:06:24,219 --> 00:06:25,629
reduced list of a white list of

196
00:06:25,629 --> 00:06:28,569
service and the rbc of the eight source based

197
00:06:28,569 --> 00:06:30,249
chemistry and allegations

198
00:06:30,249 --> 00:06:32,349
constrained delegation based on the resource for once

199
00:06:32,349 --> 00:06:33,550
it works the other

200
00:06:33,550 --> 00:06:36,039
way we will see a little why after where

201
00:06:36,039 --> 00:06:37,990
this delegation is not configured on

202
00:06:37,990 --> 00:06:39,639
the service which will delegate but on  the

203
00:06:39,639 --> 00:06:40,869
service that will be the target of the

204
00:06:40,869 --> 00:06:42,879
delegation there I think those who

205
00:06:42,879 --> 00:06:44,319
have fallen asleep are having

206
00:06:44,319 --> 00:06:46,629
sweet dreams but staying with me it will be

207
00:06:46,629 --> 00:06:47,679
fine I have given you a few

208
00:06:47,679 --> 00:06:49,060
even

209
00:06:49,060 --> 00:06:50,930
let's go into the detail of the

210
00:06:50,930 --> 00:06:53,210
different  types of delegation the three

211
00:06:53,210 --> 00:06:54,229
types of delegations are the following

212
00:06:54,229 --> 00:06:55,969
so we build we build our space

213
00:06:55,969 --> 00:06:58,939
works the constrained delegation without

214
00:06:58,939 --> 00:07:00,139
constraint during the very top left

215
00:07:00,139 --> 00:07:02,780
of the diagram you therefore have a  service

216
00:07:02,780 --> 00:07:04,430
configured for the caïd is for the

217
00:07:04,430 --> 00:07:05,990
delegation cents against 1 who can

218
00:07:05,990 --> 00:07:07,280
delegate who can pretend to be

219
00:07:07,280 --> 00:07:08,360
whoever he wants up close makes an

220
00:07:08,360 --> 00:07:10,939
infinite list of services or almost the

221
00:07:10,939 --> 00:07:12,349
constrained delegation it's the same

222
00:07:12,349 --> 00:07:13,669
thing but this time towards a  list

223
00:07:13,669 --> 00:07:16,430
therefore ends of service and the rbc of you

224
00:07:16,430 --> 00:07:18,379
see it works in the other direction the

225
00:07:18,379 --> 00:07:19,460
configuration is not done at the level

226
00:07:19,460 --> 00:07:20,840
of the service which will draw at the level of the

227
00:07:20,840 --> 00:07:24,199
service which will receive the ring road which will

228
00:07:24,199 --> 00:07:26,020
receive the authentication

229
00:07:26,020 --> 00:07:28,060
small

230
00:07:28,060 --> 00:07:31,279
aside the rights  which are needed

231
00:07:31,279 --> 00:07:32,810
to configure delegation without

232
00:07:32,810 --> 00:07:33,800
constraints and the damage sion

233
00:07:33,800 --> 00:07:35,930
constraints csu years marked all the

234
00:07:35,930 --> 00:07:37,120
time at the bottom left

235
00:07:37,120 --> 00:07:39,259
I make it short but overall cds

236
00:07:39,259 --> 00:07:40,310
right of manades mines not know

237
00:07:40,310 --> 00:07:41,990
exactly that but it comes back to about

238
00:07:41,990 --> 00:07:44,120
the same belgian source larry  leads a

239
00:07:44,120 --> 00:07:45,889
delegation r b c d you need less

240
00:07:45,889 --> 00:07:46,969
rights to configure that you have to

241
00:07:46,969 --> 00:07:49,580
have control over the target tale of the

242
00:07:49,580 --> 00:07:51,450
delegation

243
00:07:51,450 --> 00:07:53,020
let's see a little bit in detail  l

244
00:07:53,020 --> 00:07:54,370
how does the delegation without

245
00:07:54,370 --> 00:07:55,330
constraint work even if it is not

246
00:07:55,330 --> 00:07:58,450
necessarily the main topic of sotoca

247
00:07:58,450 --> 00:08:00,220
the delegation with the constraints works

248
00:08:00,220 --> 00:08:02,169
like this the first step a

249
00:08:02,169 --> 00:08:04,480
user obtains from the cadet he

250
00:08:04,480 --> 00:08:06,400
is the one who distribution center or from the

251
00:08:06,400 --> 00:08:09,450
domain controller in general  a tvt

252
00:08:09,450 --> 00:08:12,040
this tgt gets it by validating his step

253
00:08:12,040 --> 00:08:13,210
of close authentication which was the

254
00:08:13,210 --> 00:08:14,380
first step we had seen together

255
00:08:14,380 --> 00:08:17,080
once he gets 7 and I was in

256
00:08:17,080 --> 00:08:18,220
the second step for the good feel that

257
00:08:18,220 --> 00:08:20,350
and getti he will do  a request for service

258
00:08:20,350 --> 00:08:22,330
tickets to the

259
00:08:22,330 --> 00:08:24,100
service to which he wants to authenticate and

260
00:08:24,100 --> 00:08:25,330
in this case the service to which he wants

261
00:08:25,330 --> 00:08:27,010
to feel proud it is a service

262
00:08:27,010 --> 00:08:28,600
configured for unconstrained delegation

263
00:08:28,600 --> 00:08:30,610
what is happening here is that

264
00:08:30,610 --> 00:08:33,250
the  kdc will say ok the

265
00:08:33,250 --> 00:08:35,169
unconstrained delegation

266
00:08:35,169 --> 00:08:36,669
target service low the pendant target service is configured

267
00:08:36,669 --> 00:08:39,130
for quality and so the service ticket

268
00:08:39,130 --> 00:08:40,809
i am going to provide you for this contract

269
00:08:40,809 --> 00:08:44,500
contains your tgt it  delegate tgt is therefore

270
00:08:44,500 --> 00:08:45,610
what will happen when the user

271
00:08:45,610 --> 00:08:47,830
will authenticate to the service configured

272
00:08:47,830 --> 00:08:49,990
for this delegation

273
00:08:49,990 --> 00:08:51,580
the user's tgt will be contained in this

274
00:08:51,580 --> 00:08:53,290
service ticket the service will be able to

275
00:08:53,290 --> 00:08:56,350
extract this tgt is used cgt as

276
00:08:56,350 --> 00:08:57,670
if they were  the user who had

277
00:08:57,670 --> 00:08:58,930
just authenticated

278
00:08:58,930 --> 00:09:00,880
so this is a very dangerous process

279
00:09:00,880 --> 00:09:03,010
because it means that anyone who

280
00:09:03,010 --> 00:09:04,600
connects to a service configured

281
00:09:04,600 --> 00:09:06,880
for unconstrained delegation

282
00:09:06,880 --> 00:09:08,920
finally recovers gets robbed in quotes

283
00:09:08,920 --> 00:09:12,160
are ejected and Count Qaeda uses

284
00:09:12,160 --> 00:09:13,769
be ejected afterwards

285
00:09:13,769 --> 00:09:16,139
and therefore behind once he uses

286
00:09:16,139 --> 00:09:17,730
are ejected he can actually instead

287
00:09:17,730 --> 00:09:20,759
bh of that user requested a

288
00:09:20,759 --> 00:09:23,249
service ticket and act as

289
00:09:23,249 --> 00:09:24,929
constrained delegation is a little bit

290
00:09:24,929 --> 00:09:26,850
different it comes in two

291
00:09:26,850 --> 00:09:28,980
modes  a mode with the transition of

292
00:09:28,980 --> 00:09:31,110
protocols and a mode without transition of

293
00:09:31,110 --> 00:09:32,999
protocol we will see a little more

294
00:09:32,999 --> 00:09:34,559
in detail what are the costs the

295
00:09:34,559 --> 00:09:35,819
consequences of all this may  s we will

296
00:09:35,819 --> 00:09:37,319
see it here dancing g's and on

297
00:09:37,319 --> 00:09:38,910
how the protocol works

298
00:09:38,910 --> 00:09:41,459
constrained delegation without

299
00:09:41,459 --> 00:09:43,829
protocol transition in the first step it's

300
00:09:43,829 --> 00:09:45,449
the same the user asks for a

301
00:09:45,449 --> 00:09:47,670
tvt from the cadets knows he retrieves it he

302
00:09:47,670 --> 00:09:49,889
asks indicates and  of services then

303
00:09:49,889 --> 00:09:51,149
this service ticket he will use it

304
00:09:51,149 --> 00:09:52,619
to authenticate himself but this time

305
00:09:52,619 --> 00:09:54,089
this service ticket will not contain

306
00:09:54,089 --> 00:09:56,100
are ejected this service ticket will

307
00:09:56,100 --> 00:09:57,959
simply be used by the service

308
00:09:57,959 --> 00:10:00,089
configured for cacd without

309
00:10:00,089 --> 00:10:01,889
protocol transition to do  a request

310
00:10:01,889 --> 00:10:03,329
called du is on youtube proxy

311
00:10:03,329 --> 00:10:05,939
services for users to proxy and we'll see

312
00:10:05,939 --> 00:10:07,709
what it corresponds to but basically

313
00:10:07,709 --> 00:10:10,679
it's for you to proxy he will use this

314
00:10:10,679 --> 00:10:12,179
type of service he will use it

315
00:10:12,179 --> 00:10:13,739
as proof that the  user is

316
00:10:13,739 --> 00:10:15,509
well authenticated with him and he will

317
00:10:15,509 --> 00:10:16,769
say well now I have all the

318
00:10:16,769 --> 00:10:18,540
rights and all the legitimacy of being

319
00:10:18,540 --> 00:10:20,459
authenticated and of acting on the

320
00:10:20,459 --> 00:10:22,589
domain as the user of which I present to

321
00:10:22,589 --> 00:10:25,670
you  you the service ticket

322
00:10:26,269 --> 00:10:29,339
I specified on the left a little the

323
00:10:29,339 --> 00:10:30,869
advantages and disadvantages of

324
00:10:30,869 --> 00:10:32,670
constrained delegation without

325
00:10:32,670 --> 00:10:34,889
protocol transition we see it here it allows

326
00:10:34,889 --> 00:10:36,480
to act on a set of services

327
00:10:36,480 --> 00:10:38,160
as any user or

328
00:10:38,160 --> 00:10:40,230
almost  the or almost it is because to

329
00:10:40,230 --> 00:10:41,459
certain users who can be

330
00:10:41,459 --> 00:10:44,040
protected against delegation and its

331
00:10:44,040 --> 00:10:45,569
users on we will add them in

332
00:10:45,569 --> 00:10:46,949
a group which is called protected users

333
00:10:46,949 --> 00:10:48,660
which will configure certain things on

334
00:10:48,660 --> 00:10:49,889
active directory to protect its

335
00:10:49,889 --> 00:10:50,850
accounts typically from  very

336
00:10:50,850 --> 00:10:54,720
sensitive accounts or we will attribute we will

337
00:10:54,720 --> 00:10:56,519
configure a very particular element

338
00:10:56,519 --> 00:10:59,459
on this account which is called that city

339
00:10:59,459 --> 00:11:01,439
strong delegation of seven Sétifienne

340
00:11:01,439 --> 00:11:03,059
cannot be gated it is an attribute

341
00:11:03,059 --> 00:11:05,220
that we will define on this account in

342
00:11:05,220 --> 00:11:07,290
active directory in  apart from these

343
00:11:07,290 --> 00:11:08,669
accounts, we will always be able to

344
00:11:08,669 --> 00:11:11,040
delegate the user who is not

345
00:11:11,040 --> 00:11:14,089
protected by his persecutions

346
00:11:14,089 --> 00:11:16,470
the second type the second type of

347
00:11:16,470 --> 00:11:17,610
contrai delegations  nte it's

348
00:11:17,610 --> 00:11:19,620
constrained delegation with

349
00:11:19,620 --> 00:11:21,269
protocol transitions and it changes a lot of

350
00:11:21,269 --> 00:11:22,980
things because if I go back to the

351
00:11:22,980 --> 00:11:24,480
slide before that is according to slat

352
00:11:24,480 --> 00:11:26,269
from before that is according to this lady in

353
00:11:26,269 --> 00:11:28,860
that is according to you  see that

354
00:11:28,860 --> 00:11:29,819
normally the diagram is a little

355
00:11:29,819 --> 00:11:31,889
smaller because in fact it requires a

356
00:11:31,889 --> 00:11:34,019
little less laughter even if we do

357
00:11:34,019 --> 00:11:36,060
n't need in this step two

358
00:11:36,060 --> 00:11:37,709
constrained delegations with

359
00:11:37,709 --> 00:11:39,480
protocol transitions we absolutely don't

360
00:11:39,480 --> 00:11:40,980
need that  the user

361
00:11:40,980 --> 00:11:42,810
provides us with his service ticket we

362
00:11:42,810 --> 00:11:44,329
can in this case

363
00:11:44,329 --> 00:11:47,279
act as this user without the

364
00:11:47,279 --> 00:11:48,690
user asking for anything

365
00:11:48,690 --> 00:11:50,519
and without them doing the slightest action

366
00:11:50,519 --> 00:11:53,399
on the active directory why thanks to a

367
00:11:53,399 --> 00:11:55,079
process which  calls s for you to self

368
00:11:55,079 --> 00:11:57,000
which is complementary to and on youtube

369
00:11:57,000 --> 00:11:59,250
proxy and which will make it possible to obtain a

370
00:11:59,250 --> 00:12:00,870
service ticket for this user

371
00:12:00,870 --> 00:12:03,000
towards the service so it is towards oneself

372
00:12:03,000 --> 00:12:05,009
ensures you to self the service will

373
00:12:05,009 --> 00:12:07,199
request a ticket from  p-service  or

374
00:12:07,199 --> 00:12:09,000
the user to itself

375
00:12:09,000 --> 00:12:10,259
actually allowing it to override the

376
00:12:10,259 --> 00:12:12,089
need to have the user

377
00:12:12,089 --> 00:12:14,150
authenticate to it

378
00:12:14,150 --> 00:12:16,160
and that would be all but

379
00:12:16,160 --> 00:12:18,590
theoretically constrained delegation with no

380
00:12:18,590 --> 00:12:19,880
protocol transitions ca

381
00:12:19,880 --> 00:12:21,560
n't use it c  that's why we integrate

382
00:12:21,560 --> 00:12:23,930
a little bit bigger and then

383
00:12:23,930 --> 00:12:25,610
once ace him all to self

384
00:12:25,610 --> 00:12:27,440
produces a service ticket well, we

385
00:12:27,440 --> 00:12:28,760
'll be able to use this service ticket

386
00:12:28,760 --> 00:12:31,250
with is for you to proxy to really

387
00:12:31,250 --> 00:12:32,870
do the  delegation and authenticate

388
00:12:32,870 --> 00:12:35,000
as the target service which is

389
00:12:35,000 --> 00:12:38,740
configured in the constrained delegation

390
00:12:38,740 --> 00:12:40,720
and finally we have a last type the

391
00:12:40,720 --> 00:12:42,279
constrained delegation based on the

392
00:12:42,279 --> 00:12:44,020
resource which is a little different it

393
00:12:44,020 --> 00:12:44,890
works a little in the other direction

394
00:12:44,890 --> 00:12:47,290
nevertheless the process is  pretty much the

395
00:12:47,290 --> 00:12:48,790
same as constrained delegation with

396
00:12:48,790 --> 00:12:50,860
protocol transitions we all have the

397
00:12:50,860 --> 00:12:52,330
option of using is sure you to

398
00:12:52,330 --> 00:12:54,580
self and s for you to proxy this time

399
00:12:54,580 --> 00:12:57,010
it's not the service configured for

400
00:12:57,010 --> 00:12:58,690
delegation q  ui will make all of you fail

401
00:12:58,690 --> 00:13:00,430
to do it on your skin xi since

402
00:13:00,430 --> 00:13:01,720
service configured for delegation meaning

403
00:13:01,720 --> 00:13:02,920
alas alas is the target of the

404
00:13:02,920 --> 00:13:04,450
delegation so it works a little

405
00:13:04,450 --> 00:13:06,899
bit the other way around

406
00:13:09,089 --> 00:13:11,730
the times so that reassures me I'm going to re-

407
00:13:11,730 --> 00:13:13,110
specify a little  thing

408
00:13:13,110 --> 00:13:14,420
here

409
00:13:14,420 --> 00:13:17,220
the constrained delegation based on the

410
00:13:17,220 --> 00:13:19,470
resource it is therefore I repeat the

411
00:13:19,470 --> 00:13:20,939
same thing as the constrained delegation

412
00:13:20,939 --> 00:13:23,610
with protocol transitions it can be

413
00:13:23,610 --> 00:13:24,480
the same thing as the

414
00:13:24,480 --> 00:13:26,009
constrained delegation without protocol transition

415
00:13:26,009 --> 00:13:27,809
also the process is about the same

416
00:13:27,809 --> 00:13:29,519
nevertheless  who is going to do the

417
00:13:29,519 --> 00:13:32,129
request and the delegation it is not the

418
00:13:32,129 --> 00:13:33,240
account that is configured for this

419
00:13:33,240 --> 00:13:34,800
delegation I repeat it is the account

420
00:13:34,800 --> 00:13:37,350
that is listed in the

421
00:13:37,350 --> 00:13:38,670
delegation configuration of the target of these

422
00:13:38,670 --> 00:13:39,779
delegations and there I think  that

423
00:13:39,779 --> 00:13:41,759
i really lost you all so but do

424
00:13:41,759 --> 00:13:45,350
n't worry the same is coming very fast

425
00:13:46,180 --> 00:13:48,440
ok now let's talk about hope you

426
00:13:48,440 --> 00:13:50,060
to self is on youtube proxy what is it

427
00:13:50,060 --> 00:13:51,529
st that these extensions these

428
00:13:51,529 --> 00:13:52,940
extensions are the very heart of

429
00:13:52,940 --> 00:13:54,440
constrained delegation without these

430
00:13:54,440 --> 00:13:55,880
extensions is on youtube self is

431
00:13:55,880 --> 00:13:57,529
according to him any proxy

432
00:13:57,529 --> 00:13:59,000
constrained delegation without protocol

433
00:13:59,000 --> 00:14:00,920
transitions with protocol transitions and the rbc des

434
00:14:00,920 --> 00:14:03,290
does not work these three types of sorting

435
00:14:03,290 --> 00:14:05,210
of delegations s  relies on its

436
00:14:05,210 --> 00:14:07,250
extensions in fact these extensions on the very

437
00:14:07,250 --> 00:14:08,870
heart of its delegations these are

438
00:14:08,870 --> 00:14:11,240
internal mechanisms is out of everything

439
00:14:11,240 --> 00:14:13,730
except what you need to remember these

440
00:14:13,730 --> 00:14:15,640
breaks you to self allows a service

441
00:14:15,640 --> 00:14:17,960
to get a ticket as a  other

442
00:14:17,960 --> 00:14:20,779
user to himself to his own

443
00:14:20,779 --> 00:14:23,360
service they all rush proxy is a

444
00:14:23,360 --> 00:14:24,860
little different it's the same thing

445
00:14:24,860 --> 00:14:26,690
and we'll always ask

446
00:14:26,690 --> 00:14:28,670
for a service ticket for another user but

447
00:14:28,670 --> 00:14:29,720
this time it's not going to be to

448
00:14:29,720 --> 00:14:31,550
himself  is going to be to a target service

449
00:14:31,550 --> 00:14:34,100
to an external service and therefore if we

450
00:14:34,100 --> 00:14:36,350
combine these two types of extension

451
00:14:36,350 --> 00:14:37,970
at first by calling and

452
00:14:37,970 --> 00:14:40,790
smiling everything except a service config  ure

453
00:14:40,790 --> 00:14:42,650
for delegation is going to be able to get a

454
00:14:42,650 --> 00:14:44,720
ticket for another user to

455
00:14:44,720 --> 00:14:47,210
itself is then used that ticket

456
00:14:47,210 --> 00:14:48,800
just produced as

457
00:14:48,800 --> 00:14:50,810
evidence to perform on 8 to proxies and

458
00:14:50,810 --> 00:14:53,300
that's exactly how r b c d

459
00:14:53,300 --> 00:14:54,980
and delegation  constraint with

460
00:14:54,980 --> 00:14:57,350
post to pass transition works first time s

461
00:14:57,350 --> 00:14:59,480
for you to self we obtain a first

462
00:14:59,480 --> 00:15:01,010
service ticket which will act as

463
00:15:01,010 --> 00:15:03,200
proof for is on youtube proxy the

464
00:15:03,200 --> 00:15:04,550
loop is closed we have done everything the

465
00:15:04,550 --> 00:15:06,320
delegation and the service the service ticket

466
00:15:06,320 --> 00:15:07,730
final obtained with the mouse

467
00:15:07,730 --> 00:15:09,560
any proxy allows us to access the

468
00:15:09,560 --> 00:15:12,830
target service I specify a lot

469
00:15:12,830 --> 00:15:15,050
of elements that are discussed in this

470
00:15:15,050 --> 00:15:16,790
conference are in this case detailed

471
00:15:16,790 --> 00:15:18,890
in a very very very very

472
00:15:18,890 --> 00:15:20,870
powerful very long very detailed article of the

473
00:15:20,870 --> 00:15:22,010
matches to come which  is called

474
00:15:22,010 --> 00:15:23,810
drug voguing so I strongly advise you

475
00:15:23,810 --> 00:15:25,010
for those who are

476
00:15:25,010 --> 00:15:26,540
still following me to read this article

477
00:15:26,540 --> 00:15:29,330
four times or 40 it's as you

478
00:15:29,330 --> 00:15:30,950
wish  but it is very complete and

479
00:15:30,950 --> 00:15:33,100
contains a lot of things

480
00:15:33,100 --> 00:15:35,630
now we are going to go into a little

481
00:15:35,630 --> 00:15:37,280
detail we are always going to go as

482
00:15:37,280 --> 00:15:38,570
deep as possible in these protocols

483
00:15:38,570 --> 00:15:40,100
in its mechanisms to understand

484
00:15:40,100 --> 00:15:42,440
how we can abuse them in fact of

485
00:15:42,440 --> 00:15:44,090
these mechanisms since the  we are not going to

486
00:15:44,090 --> 00:15:46,190
talk about bugs we are going to talk about abuse of

487
00:15:46,190 --> 00:15:48,110
the logical principle which makes it over

488
00:15:48,110 --> 00:15:49,550
time and more resistant than bugs which

489
00:15:49,550 --> 00:15:51,770
can be patched by microsoft is

490
00:15:51,770 --> 00:15:54,680
outside of everything except if the user who

491
00:15:54,680 --> 00:15:56,660
is in personality for which  we

492
00:15:56,660 --> 00:15:58,070
obtain a service ticket and

493
00:15:58,070 --> 00:16:01,100
protected the ticket is produced the

494
00:16:01,100 --> 00:16:02,810
ticket is valid but it is not what

495
00:16:02,810 --> 00:16:04,820
we call strong or even bowl and that

496
00:16:04,820 --> 00:16:06,290
will play a major role in our

497
00:16:06,290 --> 00:16:08,570
beginnings we will see that this bowl borers flag

498
00:16:08,570 --> 00:16:10,910
is  very important if we manage to

499
00:16:10,910 --> 00:16:12,830
obtain a strong bol flag we validate

500
00:16:12,830 --> 00:16:14,360
the requirements stands on youtube

501
00:16:14,360 --> 00:16:16,850
proxy since is on youtube proxy if

502
00:16:16,850 --> 00:16:18,290
we do not provide him with a service ticket

503
00:16:18,290 --> 00:16:20,600
for bol he will not work and sat in

504
00:16:20,600 --> 00:16:22,070
the occurrence for this that on the

505
00:16:22,070 --> 00:16:23,750
delegation to the constraints without

506
00:16:23,750 --> 00:16:25,520
transition of protocols and on you to

507
00:16:25,520 --> 00:16:27,560
self works but does not produce a

508
00:16:27,560 --> 00:16:29,360
service ticket for bowl which

509
00:16:29,360 --> 00:16:31,280
means that in the east especially proxy to it will

510
00:16:31,280 --> 00:16:33,650
not work and especially and the  delegation

511
00:16:33,650 --> 00:16:35,750
and broken constrained delegation will

512
00:16:35,750 --> 00:16:37,480
not work

513
00:16:37,480 --> 00:16:40,520
small detail also on is on

514
00:16:40,520 --> 00:16:42,440
youtube proxy we will see that there is a case

515
00:16:42,440 --> 00:16:44,300
in which the delegation can work

516
00:16:44,300 --> 00:16:47,090
anyway if it does not have the strong

517
00:16:47,090 --> 00:16:48,680
bowl flag it is in the  case of an area b c d

518
00:16:48,680 --> 00:16:52,280
and would interfere with it afterwards since the abuse

519
00:16:52,280 --> 00:16:53,840
of delegations is starting to show up

520
00:16:53,840 --> 00:16:55,190
we will see that we will be

521
00:16:55,190 --> 00:16:56,810
able to combine different types of

522
00:16:56,810 --> 00:16:58,460
delegation to circumvent the delimitation

523
00:16:58,460 --> 00:17:01,300
of its delegations

524
00:17:01,930 --> 00:17:04,130
now is what all I

525
00:17:04,130 --> 00:17:05,510
am telling you there you have to take

526
00:17:05,510 --> 00:17:07,299
his word for it i don't

527
00:17:07,299 --> 00:17:10,069
think is what is written in a

528
00:17:10,069 --> 00:17:11,720
random blog on the internet you have

529
00:17:11,720 --> 00:17:13,520
to take his word for it i don't think even though

530
00:17:13,520 --> 00:17:14,750
the article that is in qu  estion is a

531
00:17:14,750 --> 00:17:16,520
reference on kerberos delegation

532
00:17:16,520 --> 00:17:18,260
we will see together tested

533
00:17:18,260 --> 00:17:20,209
together that what I said is true or

534
00:17:20,209 --> 00:17:21,829
false I may be deceived and have

535
00:17:21,829 --> 00:17:23,869
validated together and therefore we will do

536
00:17:23,869 --> 00:17:25,760
tests first we will do tests  on

537
00:17:25,760 --> 00:17:27,140
and it was all but and then tests

538
00:17:27,140 --> 00:17:28,549
on mice all proxy and here

539
00:17:28,549 --> 00:17:30,380
you hang on it will swing first

540
00:17:30,380 --> 00:17:31,970
test aezs-108 or self what

541
00:17:31,970 --> 00:17:32,870
happens when you make a request to this

542
00:17:32,870 --> 00:17:34,280
scourge to self and the account  is not

543
00:17:34,280 --> 00:17:35,900
configured for delegation it does

544
00:17:35,900 --> 00:17:37,760
not work the ticket is obtained

545
00:17:37,760 --> 00:17:38,870
first we make a request for

546
00:17:38,870 --> 00:17:41,630
tickets with get stay on the piton

547
00:17:41,630 --> 00:17:43,340
so and in a second discrete time

548
00:17:43,340 --> 00:17:44,480
label will allow us to

549
00:17:44,480 --> 00:17:46,370
actually analyze the content  of the ticket and we will

550
00:17:46,370 --> 00:17:48,200
see that the strong bol flag is not

551
00:17:48,200 --> 00:17:50,450
included in the ticket so

552
00:17:50,450 --> 00:17:52,730
normally according to him any proxy should not

553
00:17:52,730 --> 00:17:54,380
work with this ticket we will see later if this

554
00:17:54,380 --> 00:17:56,140
is the case or not

555
00:17:56,140 --> 00:17:58,460
then she especially self I  let you

556
00:17:58,460 --> 00:17:59,450
read it gives me  e an excuse to drink

557
00:17:59,450 --> 00:18:01,330
a

558
00:18:01,330 --> 00:18:05,010
little water a precise game

559
00:18:09,560 --> 00:18:10,520
ok now what happens on

560
00:18:10,520 --> 00:18:12,190
the delegation sure

561
00:18:12,190 --> 00:18:14,600
in the case of the constrained delegation

562
00:18:14,600 --> 00:18:16,639
without transition of protocol well in fact

563
00:18:16,639 --> 00:18:18,259
the same thing happens the ticket  which

564
00:18:18,259 --> 00:18:20,239
is produced is still valid but it

565
00:18:20,239 --> 00:18:23,269
is not very lucky I continue we will

566
00:18:23,269 --> 00:18:25,249
now configure the tale which was

567
00:18:25,249 --> 00:18:27,230
configured therefore for without transition

568
00:18:27,230 --> 00:18:28,879
green protocol with

569
00:18:28,879 --> 00:18:31,159
protocol transitions and therefore we will see it here if

570
00:18:31,159 --> 00:18:33,019
you manage to read it  configure at the

571
00:18:33,019 --> 00:18:34,269
level of

572
00:18:34,269 --> 00:18:36,230
active directory you there and computer

573
00:18:36,230 --> 00:18:38,899
wade s said I don't even know anymore and

574
00:18:38,899 --> 00:18:40,759
we will therefore change this little flag there which

575
00:18:40,759 --> 00:18:42,200
will change the behavior of on youtube

576
00:18:42,200 --> 00:18:45,169
self since there we will see that our

577
00:18:45,169 --> 00:18:48,169
build end account is therefore configured

578
00:18:48,169 --> 00:18:49,759
for  constrained delegation with

579
00:18:49,759 --> 00:18:51,859
protocol transitions we are going to

580
00:18:51,859 --> 00:18:54,080
assure you to self with tested guys and we are

581
00:18:54,080 --> 00:18:55,609
going to see that the ticket that is produced is

582
00:18:55,609 --> 00:18:58,730
very lucky so here and there it

583
00:18:58,730 --> 00:19:00,590
smells good because  especially proxy should

584
00:19:00,590 --> 00:19:02,750
work with this kind of tickets

585
00:19:02,750 --> 00:19:04,460
what are you fighting now if

586
00:19:04,460 --> 00:19:05,570
we always do the same type of

587
00:19:05,570 --> 00:19:07,730
delegation constrained delegation with

588
00:19:07,730 --> 00:19:08,990
pot of glue transitions so that

589
00:19:08,990 --> 00:19:10,160
produces something strong the theft

590
00:19:10,160 --> 00:19:12,170
but for a user who is protected

591
00:19:12,170 --> 00:19:13,820
which is in the protected 12h and low

592
00:19:13,820 --> 00:19:15,200
as I said earlier the ticket

593
00:19:15,200 --> 00:19:17,540
which will be produced by lucky distribution

594
00:19:17,540 --> 00:19:19,550
center will not be strong the bowl so it

595
00:19:19,550 --> 00:19:21,560
especially proxy should not work same

596
00:19:21,560 --> 00:19:22,670
thing for a user who is

597
00:19:22,670 --> 00:19:25,299
configured sencities strong delegation

598
00:19:25,299 --> 00:19:27,129
and therefore  we finished the test for rest on

599
00:19:27,129 --> 00:19:29,230
8 or self the conclusion is that she

600
00:19:29,230 --> 00:19:30,759
is dead on her own I will only produce a

601
00:19:30,759 --> 00:19:32,919
strong bowl ticket in a single case in

602
00:19:32,919 --> 00:19:34,899
the case of a constrained delegation with

603
00:19:34,899 --> 00:19:37,749
our protocol transition for  a

604
00:19:37,749 --> 00:19:39,070
user who is not protected

605
00:19:39,070 --> 00:19:40,889
against delegation is a very specific case

606
00:19:40,889 --> 00:19:43,239
but is it the only one that will

607
00:19:43,239 --> 00:19:44,440
allow us to make this

608
00:19:44,440 --> 00:19:46,240
proxy work we will see that no

609
00:19:46,240 --> 00:19:47,620
and therefore we  enters the tests

610
00:19:47,620 --> 00:19:49,330
especially had to proxy what

611
00:19:49,330 --> 00:19:51,090
happens in the case of breakage and

612
00:19:51,090 --> 00:19:54,070
delegations which does not provide a

613
00:19:54,070 --> 00:19:56,620
strong bowl ticket well it does not work and

614
00:19:56,620 --> 00:19:58,570
scrutinizes the proxy for once does

615
00:19:58,570 --> 00:20:00,970
not even realize a  service ticket just they

616
00:20:00,970 --> 00:20:02,410
stop they times they send us

617
00:20:02,410 --> 00:20:05,110
packing rather logical what is

618
00:20:05,110 --> 00:20:07,480
happening now with the ticket which

619
00:20:07,480 --> 00:20:08,950
was must have good well it

620
00:20:08,950 --> 00:20:09,760
works

621
00:20:09,760 --> 00:20:11,170
the tested guy who is going to be used so

622
00:20:11,170 --> 00:20:12,670
the request appeared all  proxy

623
00:20:12,670 --> 00:20:14,620
works produces us a service ticket

624
00:20:14,620 --> 00:20:15,660


625
00:20:15,660 --> 00:20:17,590
and we will see in this case that this

626
00:20:17,590 --> 00:20:19,030
service ticket and bowl borers we

627
00:20:19,030 --> 00:20:21,160
will see how it helps us later and

628
00:20:21,160 --> 00:20:22,540
then it is the somewhat special case

629
00:20:22,540 --> 00:20:24,040
of the country resource in string

630
00:20:24,040 --> 00:20:26,470
delegation in the street on space coast

631
00:20:26,470 --> 00:20:28,870
swing delegation r b c d if we make a

632
00:20:28,870 --> 00:20:31,240
call is furious all self the ticket

633
00:20:31,240 --> 00:20:32,740
that will be produced will not be

634
00:20:32,740 --> 00:20:35,980
furious nevertheless by using this ticket we

635
00:20:35,980 --> 00:20:37,480
will see that is sure you to proxy

636
00:20:37,480 --> 00:20:39,100
works anyway and  that's a

637
00:20:39,100 --> 00:20:40,150
little bit mysterious we would like to

638
00:20:40,150 --> 00:20:41,800
understand why why

639
00:20:41,800 --> 00:20:43,150
are they doing and where proxy works

640
00:20:43,150 --> 00:20:44,710
while the departure flag the departure ticket

641
00:20:44,710 --> 00:20:46,270
does not have the strong

642
00:20:46,270 --> 00:20:48,460
swim flag well it's because it  there is a

643
00:20:48,460 --> 00:20:50,530
beat gerber therefore the request

644
00:20:50,530 --> 00:20:53,320
is on youtube roxy we will see in

645
00:20:53,320 --> 00:20:54,880
this case that the result of is on

646
00:20:54,880 --> 00:20:57,100
youtube proxi produces a ticket which

647
00:20:57,100 --> 00:21:00,470
always has the strong set ball flag

648
00:21:00,470 --> 00:21:02,299
so why is it  it's ford is

649
00:21:02,299 --> 00:21:03,919
all the same while it's not false

650
00:21:03,919 --> 00:21:05,870
or even bowl and well you will look

651
00:21:05,870 --> 00:21:07,700
in the microsoft documentation and its

652
00:21:07,700 --> 00:21:09,830
brands is rather clear I'm going rather

653
00:21:09,830 --> 00:21:10,940
correct for once they do the

654
00:21:10,940 --> 00:21:13,220
job correctly valjoly they are

655
00:21:13,220 --> 00:21:14,870
rather transparent  on the operation

656
00:21:14,870 --> 00:21:16,390
of their protocol

657
00:21:16,390 --> 00:21:18,590
when the rice beat on space

658
00:21:18,590 --> 00:21:20,960
constraint delegation is assigned in

659
00:21:20,960 --> 00:21:25,820
the request and the account is legitimate

660
00:21:25,820 --> 00:21:27,919
to request such a thing well it

661
00:21:27,919 --> 00:21:29,390
will work anyway if the flag

662
00:21:29,390 --> 00:21:30,590
is not very lucky in  the

663
00:21:30,590 --> 00:21:32,630
departure ticket we will see how it can be

664
00:21:32,630 --> 00:21:34,159
useful to us later for those who would be

665
00:21:34,159 --> 00:21:35,750
curious this kind of elements are

666
00:21:35,750 --> 00:21:38,059
implemented in bus street and in a

667
00:21:38,059 --> 00:21:40,070
package in the way that I will

668
00:21:40,070 --> 00:21:42,540
describe later

669
00:21:42,540 --> 00:21:43,500
in fact I will not describe it  because

670
00:21:43,500 --> 00:21:44,640
I think we don't have time but

671
00:21:44,640 --> 00:21:46,230
overall you have what beyond that

672
00:21:46,230 --> 00:21:48,030
will define this beat all the time like

673
00:21:48,030 --> 00:21:50,040
that if it works fine it works

674
00:21:50,040 --> 00:21:51,770
not too bad but this goal is still there the

675
00:21:51,770 --> 00:21:54,490
same for a plate

676
00:21:54,490 --> 00:21:56,990
now  that we have seen how and above all

677
00:21:56,990 --> 00:21:58,940
proxies and ensures that it all works and

678
00:21:58,940 --> 00:22:00,100
what are their different

679
00:22:00,100 --> 00:22:01,880
requirements and the different tickets

680
00:22:01,880 --> 00:22:02,960
that produce the puddles that

681
00:22:02,960 --> 00:22:05,059
produce etc. we will now try

682
00:22:05,059 --> 00:22:08,450
to circumvent the limitation so first

683
00:22:08,450 --> 00:22:10,850
title of limitation

684
00:22:10,850 --> 00:22:11,720
suppose that we are in a

685
00:22:11,720 --> 00:22:13,610
active directory domain in which good

686
00:22:13,610 --> 00:22:15,670
the admin domains we do

687
00:22:15,670 --> 00:22:17,990
things correctly on the whole they said to themselves

688
00:22:17,990 --> 00:22:20,900
listen to me my gg the delegation against

689
00:22:20,900 --> 00:22:22,670
without constraint it is niet  unfortunately very

690
00:22:22,670 --> 00:22:25,100
right to say that and then there is a

691
00:22:25,100 --> 00:22:26,120
colleague says to him but I know what we are

692
00:22:26,120 --> 00:22:28,640
going to do with the constrained delegation and

693
00:22:28,640 --> 00:22:30,620
there he is going to say the harmattan gg the

694
00:22:30,620 --> 00:22:31,880
constrained delegation it does not suck

695
00:22:31,880 --> 00:22:33,169
that I can act as

696
00:22:33,169 --> 00:22:34,760
anyone without them authenticating themselves between and

697
00:22:34,760 --> 00:22:36,169
me so I'm not only going to do the

698
00:22:36,169 --> 00:22:38,240
forced delegations but on top of

699
00:22:38,240 --> 00:22:39,559
that I'm going to do it without transitioning

700
00:22:39,559 --> 00:22:40,610
protocols like that I'm going

701
00:22:40,610 --> 00:22:43,010
to piss them off so normally and on

702
00:22:43,010 --> 00:22:44,900
youssef don't  shouldn't work and

703
00:22:44,900 --> 00:22:46,610
delegation shouldn't work we

704
00:22:46,610 --> 00:22:47,690
have to wait for a user to

705
00:22:47,690 --> 00:22:51,190
authenticate with us or not

706
00:22:51,190 --> 00:22:53,200
and here we're going to talk about three protocols

707
00:22:53,200 --> 00:22:55,270
or three trials this forgiveness that

708
00:22:55,270 --> 00:22:56,650
allow this kind of

709
00:22:56,650 --> 00:22:59,620
procedure to be abused  rbc of tricks the one to

710
00:22:59,620 --> 00:23:01,360
lower tricks and double cassidy the

711
00:23:01,360 --> 00:23:03,220
premise is still the same but

712
00:23:03,220 --> 00:23:04,690
let's start with the rbc of tricks i

713
00:23:04,690 --> 00:23:06,310
invented it was all in the article owa

714
00:23:06,310 --> 00:23:07,630
ging of drugs i'm just trying to

715
00:23:07,630 --> 00:23:08,740
get you in shape with a few memes  me and

716
00:23:08,740 --> 00:23:09,840
some ref

717
00:23:09,840 --> 00:23:12,400
the rbc the tricks is the following we

718
00:23:12,400 --> 00:23:14,290
have a service that is configured

719
00:23:14,290 --> 00:23:15,910
for constrained delegation without

720
00:23:15,910 --> 00:23:17,590
protocol transition so it does not suit us

721
00:23:17,590 --> 00:23:19,390
since we cannot act on the

722
00:23:19,390 --> 00:23:21,190
domain as anyone without this

723
00:23:21,190 --> 00:23:22,620
n  anyone authenticating with

724
00:23:22,620 --> 00:23:25,660
bon doesn't suit us except that what

725
00:23:25,660 --> 00:23:26,740
we saw earlier is that the

726
00:23:26,740 --> 00:23:28,120
boy band swing delegation resource

727
00:23:28,120 --> 00:23:31,750
can be configured on an account when

728
00:23:31,750 --> 00:23:33,790
we have control over this account we're going to

729
00:23:33,790 --> 00:23:34,960
leave  the principle that we have control

730
00:23:34,960 --> 00:23:36,550
over the tale configured for

731
00:23:36,550 --> 00:23:38,680
delegation and therefore we configure this same

732
00:23:38,680 --> 00:23:40,210
account for larry on space has designed a

733
00:23:40,210 --> 00:23:43,540
delegation but we will say that ap 0-1 has

734
00:23:43,540 --> 00:23:47,290
the right to green delegates ap 02 ap 02

735
00:23:47,290 --> 00:23:50,260
being  configured for ducati says and in

736
00:23:50,260 --> 00:23:53,140
this list of services to which at

737
00:23:53,140 --> 00:23:55,420
0.2 can delegate we will find ham

738
00:23:55,420 --> 00:23:57,760
0-3 which is our target of the attack a

739
00:23:57,760 --> 00:23:59,200
domain controller for example even

740
00:23:59,200 --> 00:24:01,300
if I have never seen or services  of

741
00:24:01,300 --> 00:24:03,870
files etc what's wrong  ser

742
00:24:03,870 --> 00:24:07,630
first time r b c d we are going to use

743
00:24:07,630 --> 00:24:08,850
lower sources like suez delegation

744
00:24:08,850 --> 00:24:11,140
since i-source suspicious noises social

745
00:24:11,140 --> 00:24:13,360
navigation can do is for you to

746
00:24:13,360 --> 00:24:15,220
self it does not produce a strong flag

747
00:24:15,220 --> 00:24:16,660
flying hours but it does not care

748
00:24:16,660 --> 00:24:18,310
because it is  r b c d and on youtube

749
00:24:18,310 --> 00:24:20,920
proxy will work and on youtube proxy from

750
00:24:20,920 --> 00:24:24,160
ham 0-1 to ap 02 is according to him any

751
00:24:24,160 --> 00:24:25,720
proxi always produces a strong flag of

752
00:24:25,720 --> 00:24:28,420
bowl and so what do we have we have a

753
00:24:28,420 --> 00:24:31,240
ticket for a given user  towards ap

754
00:24:31,240 --> 00:24:33,580
02 which is very lucky and it corresponds

755
00:24:33,580 --> 00:24:35,740
exactly to what a spirit to self

756
00:24:35,740 --> 00:24:37,570
would produce and therefore we

757
00:24:37,570 --> 00:24:39,100
completely bypass the limit and the

758
00:24:39,100 --> 00:24:41,560
blackcurrant limitation of the without transition

759
00:24:41,560 --> 00:24:42,790
protocol

760
00:24:42,790 --> 00:24:45,550
first step we will make sure that our

761
00:24:45,550 --> 00:24:47,460
accounts configured for  constrained delegation

762
00:24:47,460 --> 00:24:50,650
with protocol transitions

763
00:24:50,650 --> 00:24:52,960
can't actually chesnais is for

764
00:24:52,960 --> 00:24:54,280
you to self seemed all clean if

765
00:24:54,280 --> 00:24:55,720
that's what we see or what you

766
00:24:55,720 --> 00:24:57,010
guess trust me in this

767
00:24:57,010 --> 00:24:58,870
slide could review it later but

768
00:24:58,870 --> 00:25:00,790
dan  s a request to cyrus the proxy is

769
00:25:00,790 --> 00:25:02,320
screwed up only lighthouse whose ticket that is

770
00:25:02,320 --> 00:25:03,640
produced is indeed not very

771
00:25:03,640 --> 00:25:05,890
lucky does and above all proxy work

772
00:25:05,890 --> 00:25:07,720
the answer is no so now

773
00:25:07,720 --> 00:25:09,430
let's see how we will be able to circumvent

774
00:25:09,430 --> 00:25:10,770
this kind of lawsuit

775
00:25:10,770 --> 00:25:13,660
first  step we configure the resource

776
00:25:13,660 --> 00:25:15,040
based constraint delegation on the

777
00:25:15,040 --> 00:25:17,980
account that we compromised on ap 02 02

778
00:25:17,980 --> 00:25:19,560
here is called

779
00:25:19,560 --> 00:25:21,640
I don't know it's called baguette

780
00:25:21,640 --> 00:25:24,780
croissant I didn't aim for it's called

781
00:25:24,780 --> 00:25:28,870
croissant and we're going to allow

782
00:25:28,870 --> 00:25:30,730
growing green delegates growing towards

783
00:25:30,730 --> 00:25:31,990
itself and in this case it is the

784
00:25:31,990 --> 00:25:33,960
self abc destroyed which we will see later

785
00:25:33,960 --> 00:25:36,400
we will use rbds and ceded for

786
00:25:36,400 --> 00:25:38,740
chesnais is sure you to self is rather a

787
00:25:38,740 --> 00:25:40,300
proxy everything works well we have

788
00:25:40,300 --> 00:25:42,100
configured well  the delegation we do not

789
00:25:42,100 --> 00:25:43,690
need a supreme right to create this

790
00:25:43,690 --> 00:25:44,920
kind of delegation everything works

791
00:25:44,920 --> 00:25:47,770
well and in the end we obtain at the end of the

792
00:25:47,770 --> 00:25:49,420
ensure you to self a ticket which is

793
00:25:49,420 --> 00:25:51,910
not strong of flight at the end of the r b c d but

794
00:25:51,910 --> 00:25:53,620
who cares since it's  of the rbc of the

795
00:25:53,620 --> 00:25:55,330
forward trials is nevertheless since el

796
00:25:55,330 --> 00:25:57,280
bitar died in the request and therefore

797
00:25:57,280 --> 00:25:58,840
what do we obtain we obtain at

798
00:25:58,840 --> 00:26:00,670
the end of the r b c d a ticket which is

799
00:26:00,670 --> 00:26:01,960
exactly the same as what we would

800
00:26:01,960 --> 00:26:03,670
obtain with a free to  self in the

801
00:26:03,670 --> 00:26:05,230
constrained delegation but this time

802
00:26:05,230 --> 00:26:06,700
which is very lucky whereas

803
00:26:06,700 --> 00:26:08,710
earlier they were not and thanks to this

804
00:26:08,710 --> 00:26:11,950
strong luck but if in this ticket

805
00:26:11,950 --> 00:26:13,720
we validated the laughs even you let yourself

806
00:26:13,720 --> 00:26:15,830
seem all proxy

807
00:26:15,830 --> 00:26:17,929
eight proxi works and we succeeded the

808
00:26:17,929 --> 00:26:19,580
delegation and we can pass on

809
00:26:19,580 --> 00:26:22,220
admin operations on the target machine

810
00:26:22,220 --> 00:26:24,230
of the delegation we have effectively

811
00:26:24,230 --> 00:26:26,450
compromised the limitation of the

812
00:26:26,450 --> 00:26:28,370
constrained delegation without protocol transition

813
00:26:28,370 --> 00:26:30,740
thanks to the creation of a right

814
00:26:30,740 --> 00:26:33,740
died  the use of sweat a b c d and

815
00:26:33,740 --> 00:26:35,120
quite simply in fact let's make

816
00:26:35,120 --> 00:26:36,559
food on youtube proxy works and

817
00:26:36,559 --> 00:26:38,720
above all proxi produces something

818
00:26:38,720 --> 00:26:40,279
very lucky which will make it possible to

819
00:26:40,279 --> 00:26:42,260
validate the devès requirements on

820
00:26:42,260 --> 00:26:43,669
youtube roxy is the snake  who

821
00:26:43,669 --> 00:26:45,649
bites his tail thank you microsoft beautiful

822
00:26:45,649 --> 00:26:47,870
error of logic and if you ask them

823
00:26:47,870 --> 00:26:48,799
the question and they will tell you that it is a

824
00:26:48,799 --> 00:26:49,669
head of ideas that it is not in the

825
00:26:49,669 --> 00:26:51,519


826
00:26:51,519 --> 00:26:53,630
security perimeter for the saddles to make cds of

827
00:26:53,630 --> 00:26:55,909
money all at once  the time we finally tried

828
00:26:55,909 --> 00:26:57,320
it was not the case in the slide but

829
00:26:57,320 --> 00:26:59,690
we tried to configure another account

830
00:26:59,690 --> 00:27:01,610
for rbc from to the starting account

831
00:27:01,610 --> 00:27:03,649
we are not obliged to do that we can

832
00:27:03,649 --> 00:27:05,720
configure the accounts configured for  the

833
00:27:05,720 --> 00:27:07,370
constrained delegation to make the

834
00:27:07,370 --> 00:27:09,769
rbc des verts itself so we don't even

835
00:27:09,769 --> 00:27:10,970
need to control an

836
00:27:10,970 --> 00:27:12,590
additional tale on the domain past the

837
00:27:12,590 --> 00:27:14,450
highway you configure rbc des verts

838
00:27:14,450 --> 00:27:16,250
itself he makes r b c d eelv in lille

839
00:27:16,250 --> 00:27:17,990
and rigobert note d'  hope to the toxics has

840
00:27:17,990 --> 00:27:19,760
given in works forward guingamp it's

841
00:27:19,760 --> 00:27:21,139
over we're all going to help him made

842
00:27:21,139 --> 00:27:23,539
the jump on the remote machine ap 02

843
00:27:23,539 --> 00:27:26,600
here and the last case of bullet almost

844
00:27:26,600 --> 00:27:28,370
good I've never encountered that I don't

845
00:27:28,370 --> 00:27:30,110
think anyone  will never meet but

846
00:27:30,110 --> 00:27:32,000
for form  it would also be possible

847
00:27:32,000 --> 00:27:34,460
by chaining

848
00:27:34,460 --> 00:27:35,929
constrained delegation with protocol transitions

849
00:27:35,929 --> 00:27:37,909
with constrained delegation without

850
00:27:37,909 --> 00:27:40,130
protocol transition good there I think that

851
00:27:40,130 --> 00:27:41,299
there I really lost you I hope

852
00:27:41,299 --> 00:27:42,740
that there is even after still do not have

853
00:27:42,740 --> 00:27:44,240
but I am generally in  the times

854
00:27:44,240 --> 00:27:45,470
that will allow you to ask questions

855
00:27:45,470 --> 00:27:46,610
or give you a little time

856
00:27:46,610 --> 00:27:48,159
for the landing

857
00:27:48,159 --> 00:27:51,440
is out ue to self good there we

858
00:27:51,440 --> 00:27:52,970
martyred on youtube proxy that's good

859
00:27:52,970 --> 00:27:54,620
is what I have on the to self and

860
00:27:54,620 --> 00:27:56,570
martyrize abl yeah globally yeah

861
00:27:56,570 --> 00:27:58,370
we'll see how it's not

862
00:27:58,370 --> 00:28:00,110
necessarily for climbing on the

863
00:28:00,110 --> 00:28:01,909
domain it's to deprive it what

864
00:28:01,909 --> 00:28:03,769
the gift is I'll give you a private one which

865
00:28:03,769 --> 00:28:04,970
will work almost everywhere on

866
00:28:04,970 --> 00:28:06,169
any  machine joined in a

867
00:28:06,169 --> 00:28:09,200
domain is for you to self doesn't care but

868
00:28:09,200 --> 00:28:11,210
then doesn't care if the user

869
00:28:11,210 --> 00:28:13,519
we are looking for a personal is

870
00:28:13,519 --> 00:28:15,740
protected against delegation in a

871
00:28:15,740 --> 00:28:17,600
protected users well then that's

872
00:28:17,600 --> 00:28:19,760
not really his problem  since so we're going

873
00:28:19,760 --> 00:28:21,400
to see it here

874
00:28:21,400 --> 00:28:24,290
are we going to see it there s auto safety

875
00:28:24,290 --> 00:28:26,800
fire nahnah

876
00:28:26,970 --> 00:28:29,530
the ticket is produced it's not very

877
00:28:29,530 --> 00:28:30,550
lucky so we can't use it with

878
00:28:30,550 --> 00:28:33,580
of course at all proxy ok but it's still

879
00:28:33,580 --> 00:28:35,290
a ticket it can still

880
00:28:35,290 --> 00:28:37,120
be used can we use this ticket my

881
00:28:37,120 --> 00:28:38,500
life maybe not for delegation

882
00:28:38,500 --> 00:28:40,480
but to authenticate elsewhere so

883
00:28:40,480 --> 00:28:43,420
that's what we're going to do with 1 and 2

884
00:28:43,420 --> 00:28:44,740
for those who  may know there is

885
00:28:44,740 --> 00:28:47,080
a technique called eni spa we the

886
00:28:47,080 --> 00:28:48,640
municipal service name which alas has

887
00:28:48,640 --> 00:28:51,340
string which defines the target service in

888
00:28:51,340 --> 00:28:53,110
a service ticket is not protected

889
00:28:53,110 --> 00:28:54,700
either so if you have a

890
00:28:54,700 --> 00:28:55,960
service ticket could everything  just modified

891
00:28:55,960 --> 00:28:58,840
the espn everything is fine and so we go to

892
00:28:58,840 --> 00:29:00,640
try stuff there we have a

893
00:29:00,640 --> 00:29:02,950
primitive for the local almost and in

894
00:29:02,950 --> 00:29:04,060
addition to that we have a

895
00:29:04,060 --> 00:29:05,620
much more discreet alternative for those who

896
00:29:05,620 --> 00:29:06,730
make the team and if for  silver

897
00:29:06,730 --> 00:29:09,910
peak is then why first step

898
00:29:09,910 --> 00:29:11,440
say you compromised machine  s

899
00:29:11,440 --> 00:29:13,750
which has a second the second in

900
00:29:13,750 --> 00:29:15,190
general can be run on a

901
00:29:15,190 --> 00:29:16,600
service account which is going to be called a

902
00:29:16,600 --> 00:29:19,810
microsoft virtual 40 i believe and this

903
00:29:19,810 --> 00:29:21,520
microsoft virtual card can be

904
00:29:21,520 --> 00:29:22,990
used in what is called the

905
00:29:22,990 --> 00:29:24,970
czech delegation tgt we are going to get  a tvt

906
00:29:24,970 --> 00:29:27,700
for this tale the particularity of this

907
00:29:27,700 --> 00:29:29,710
is that this account actually acts

908
00:29:29,710 --> 00:29:32,290
as the machine count and therefore you will

909
00:29:32,290 --> 00:29:33,220
have the possibility or has been

910
00:29:33,220 --> 00:29:34,570
automatically blue and therefore you will

911
00:29:34,570 --> 00:29:35,980
have the possibility of recovering a tvt

912
00:29:35,980 --> 00:29:39,520
for this account  there a used cgt here

913
00:29:39,520 --> 00:29:41,800
you see who is you cardete

914
00:29:41,800 --> 00:29:43,090
I was framed of which it is indeed a

915
00:29:43,090 --> 00:29:45,400
tvt for the account sv 01 dollars

916
00:29:45,400 --> 00:29:47,350
any machine then you have just

917
00:29:47,350 --> 00:29:49,270
compromised a second which is a

918
00:29:49,270 --> 00:29:51,910
web service and thanks to that you will  being able to

919
00:29:51,910 --> 00:29:53,380
use this service to make a

920
00:29:53,380 --> 00:29:55,300
request for a ticket came back with everything except getting

921
00:29:55,300 --> 00:29:57,160
a ticket which is not very lucky but

922
00:29:57,160 --> 00:29:58,210
we don't care because we are not trying to

923
00:29:58,210 --> 00:29:59,710
make sure you to proxy we are

924
00:29:59,710 --> 00:30:00,970
simply trying to use a t

925
00:30:00,970 --> 00:30:03,280
service icket as an admin domain

926
00:30:03,280 --> 00:30:05,830
for example to another service finally

927
00:30:05,830 --> 00:30:07,480
in any case to itself it's the

928
00:30:07,480 --> 00:30:08,680
mouse to self not to another service

929
00:30:08,680 --> 00:30:12,160
good normally we can say ok in

930
00:30:12,160 --> 00:30:14,860
a context of two accounts yes  I don't have

931
00:30:14,860 --> 00:30:16,690
the right to ascend in law on the

932
00:30:16,690 --> 00:30:18,070
machine is to act as an

933
00:30:18,070 --> 00:30:19,720
admin domain on the machine since I

934
00:30:19,720 --> 00:30:22,120
compromised that a second banon it's

935
00:30:22,120 --> 00:30:24,190
wrong in fact so there you have it here

936
00:30:24,190 --> 00:30:26,530
I  tested the very first command i

937
00:30:26,530 --> 00:30:28,270
request s on you to self

938
00:30:28,270 --> 00:30:30,130
in personal steve admin who is a

939
00:30:30,130 --> 00:30:32,610
tale protect against delegating

940
00:30:32,610 --> 00:30:35,400
to service s 01 this is him assure

941
00:30:35,400 --> 00:30:36,660
you to self your service ticket to

942
00:30:36,660 --> 00:30:38,790
himself  it produces a ticket which is

943
00:30:38,790 --> 00:30:40,230
not very lucky but has produced a ticket

944
00:30:40,230 --> 00:30:41,910
anyway as this one tival

945
00:30:41,910 --> 00:30:44,640
mine towards sv 017 cityval mine being an

946
00:30:44,640 --> 00:30:47,040
admin domain it's good it works we have

947
00:30:47,040 --> 00:30:48,960
private when we leave  second

948
00:30:48,960 --> 00:30:51,750
glass domain admin we won we made

949
00:30:51,750 --> 00:30:54,000
a man of the machine and there you

950
00:30:54,000 --> 00:30:55,410
can  -be possible persistence paths

951
00:30:55,410 --> 00:30:56,870


952
00:30:56,870 --> 00:30:58,910
the other possibility it's an

953
00:30:58,910 --> 00:31:00,650
alternative to silver tic is we are

954
00:31:00,650 --> 00:31:01,970
not doing the after beyond

955
00:31:01,970 --> 00:31:03,080
the persistence privileges escalette

956
00:31:03,080 --> 00:31:04,760
only but in a

957
00:31:04,760 --> 00:31:05,900
gothic style is you are

958
00:31:05,900 --> 00:31:08,570
forging a ticket and you are in

959
00:31:08,570 --> 00:31:09,800
this case forging the blog

960
00:31:09,800 --> 00:31:11,030
of information contained in this ticket

961
00:31:11,030 --> 00:31:13,160
which is called the pack but there are plenty

962
00:31:13,160 --> 00:31:14,390
of ways to detect this kind of thing

963
00:31:14,390 --> 00:31:16,100
it is known to many  from admin the ser the

964
00:31:16,100 --> 00:31:17,660
verdict is the golden ticket you know

965
00:31:17,660 --> 00:31:19,940
very well known we see everywhere on the other hand

966
00:31:19,940 --> 00:31:21,530
use assure you to self to do

967
00:31:21,530 --> 00:31:22,790
the equivalent of a service ticket

968
00:31:22,790 --> 00:31:25,640
then the place and free 1 person

969
00:31:25,640 --> 00:31:27,170
knows has so you do it

970
00:31:27,170 --> 00:31:28,580
too  here if you know the

971
00:31:28,580 --> 00:31:30,200
long term which in this case the

972
00:31:30,200 --> 00:31:32,780
derivative of the password of the account

973
00:31:32,780 --> 00:31:35,179
sv 01 dollars bah you will be able in

974
00:31:35,179 --> 00:31:37,150
fact to make a request for gate is and

975
00:31:37,150 --> 00:31:39,050
interact with the kdc but if he

976
00:31:39,050 --> 00:31:41,000
asks me completely legitimate  and in addition

977
00:31:41,000 --> 00:31:42,110
you p  open a staff who you want

978
00:31:42,110 --> 00:31:43,790
even sensitive indicator for the

979
00:31:43,790 --> 00:31:45,400
delegation or in the protected 12 years

980
00:31:45,400 --> 00:31:48,710
so you have an alternative here also

981
00:31:48,710 --> 00:31:50,950
the vertical

982
00:31:50,950 --> 00:31:53,330
good so we will try to conclude a

983
00:31:53,330 --> 00:31:54,680
little bit there is a lot of time left so

984
00:31:54,680 --> 00:31:56,570
that leaves me quite a bit  room for

985
00:31:56,570 --> 00:31:57,890
maneuver and if there are any questions I

986
00:31:57,890 --> 00:31:59,360
will be happy to take them in any case

987
00:31:59,360 --> 00:32:01,120
to try to answer them but

988
00:32:01,120 --> 00:32:02,930
I think that I will not have many

989
00:32:02,930 --> 00:32:04,550
answers first question I will

990
00:32:04,550 --> 00:32:05,840
try to foresee in fact some

991
00:32:05,840 --> 00:32:08,120
questions that  you will have ok

992
00:32:08,120 --> 00:32:09,680
you told us earlier that the fort

993
00:32:09,680 --> 00:32:11,780
of bol flag in fact it was at the origin

994
00:32:11,780 --> 00:32:14,420
of the constrained delegation with without

995
00:32:14,420 --> 00:32:16,250
transition protocol 6th flag is not

996
00:32:16,250 --> 00:32:19,190
present on the ticket of services

997
00:32:19,190 --> 00:32:20,870
produced by is  sure at all except it

998
00:32:20,870 --> 00:32:23,180
self-proxy will not work but we

999
00:32:23,180 --> 00:32:25,130
saw earlier that the spn the

1000
00:32:25,130 --> 00:32:26,690
principle online service was in a block of

1001
00:32:26,690 --> 00:32:27,710
data in the ticket which is not

1002
00:32:27,710 --> 00:32:30,170
protected the question that arises is

1003
00:32:30,170 --> 00:32:32,180
is  does the strong flag of bol e  t in

1004
00:32:32,180 --> 00:32:34,790
this same blog of unprotected data I

1005
00:32:34,790 --> 00:32:35,780
let guess the answer could play

1006
00:32:35,780 --> 00:32:37,960
a blow

1007
00:32:39,460 --> 00:32:41,700
the answer is yes

1008
00:32:41,700 --> 00:32:45,149
and thanks to that

1009
00:32:46,320 --> 00:32:48,929
g word thanks to that we will be able to try

1010
00:32:48,929 --> 00:32:50,730
to imagine that on a service ticket

1011
00:32:50,730 --> 00:32:52,799
which does not have the flag  football we are

1012
00:32:52,799 --> 00:32:54,990
going to add on fly for the ball

1013
00:32:54,990 --> 00:32:56,820
anyway and force this ticket to be very

1014
00:32:56,820 --> 00:32:58,350
lucky and make explorer 8 or

1015
00:32:58,350 --> 00:32:59,610
proxy believe that in fact we had a ticket

1016
00:32:59,610 --> 00:33:01,290
produced by the mice alone which

1017
00:33:01,290 --> 00:33:02,460
was very lucky anyway  even if this

1018
00:33:02,460 --> 00:33:04,830
was not the case well you were

1019
00:33:04,830 --> 00:33:06,540
right to ask me this question thank you

1020
00:33:06,540 --> 00:33:08,850
seven geniuses by the way since in

1021
00:33:08,850 --> 00:33:10,470
this case this question was at

1022
00:33:10,470 --> 00:33:12,330
the origin of a cpe or an attack on his

1023
00:33:12,330 --> 00:33:13,380
pub  we say to ourselves it was not me who

1024
00:33:13,380 --> 00:33:15,480
chose the name which in fact made it possible to

1025
00:33:15,480 --> 00:33:16,470
simply bypass the

1026
00:33:16,470 --> 00:33:18,299
kerberos limitation delegations but there

1027
00:33:18,299 --> 00:33:19,380
for once it was not an abuse of

1028
00:33:19,380 --> 00:33:20,970
logic it was a bug which was

1029
00:33:20,970 --> 00:33:22,320
corrected in stride  so you will

1030
00:33:22,320 --> 00:33:24,750
find it can

1031
00:33:24,750 --> 00:33:26,280
second question how is it  that we

1032
00:33:26,280 --> 00:33:28,320
correct all that is well asked

1033
00:33:28,320 --> 00:33:30,000
microsoft questions and tell you

1034
00:33:30,000 --> 00:33:31,200
very well so I will read this

1035
00:33:31,200 --> 00:33:34,340
sentence to you with a perfect English accent

1036
00:33:34,340 --> 00:33:37,830
each of the season hard twin voc de

1037
00:33:37,830 --> 00:33:40,650
sexton shut up to be potentially est

1038
00:33:40,650 --> 00:33:42,350
anglais as d'accueil  in the

1039
00:33:42,350 --> 00:33:45,930
meantime I'll give you a thousand a service

1040
00:33:45,930 --> 00:33:47,790
configured for constrained delegation

1041
00:33:47,790 --> 00:33:49,650
without transition with transition no no who

1042
00:33:49,650 --> 00:33:51,330
cares the idea is to protect it as

1043
00:33:51,330 --> 00:33:53,330
much as your domain controller

1044
00:33:53,330 --> 00:33:54,860
yes

1045
00:33:54,860 --> 00:33:57,540
yes well that's cool  it's if it was to

1046
00:33:57,540 --> 00:33:58,730
say something like that it wasn't worth it

1047
00:33:58,730 --> 00:34:00,810
so now the question what do

1048
00:34:00,810 --> 00:34:02,280
we really do to correct the

1049
00:34:02,280 --> 00:34:04,320
problem you have the list here I'll

1050
00:34:04,320 --> 00:34:05,280
pass it quickly because if you

1051
00:34:05,280 --> 00:34:06,630
ask questions you're going to think me

1052
00:34:06,630 --> 00:34:09,179
I'm not humble to the team so I pass

1053
00:34:09,179 --> 00:34:10,889
how do we detect the same I

1054
00:34:10,889 --> 00:34:12,230
pass

1055
00:34:12,230 --> 00:34:15,090
another question well we saw how we

1056
00:34:15,090 --> 00:34:16,949
all did that through the piton ok

1057
00:34:16,949 --> 00:34:19,260
super showdown nickel having you know

1058
00:34:19,260 --> 00:34:22,469
is made by the piton etc me my my

1059
00:34:22,469 --> 00:34:24,060
ph  shave it's windows it can't be used

1060
00:34:24,060 --> 00:34:26,460
it breaks nevertheless I know that

1061
00:34:26,460 --> 00:34:28,560
one of you who are timeless

1062
00:34:28,560 --> 00:34:31,469
and it's we won't get you your

1063
00:34:31,469 --> 00:34:34,550
favorite windows I don't like you

1064
00:34:34,550 --> 00:34:36,629
how is it  'we do this

1065
00:34:36,629 --> 00:34:38,520
in power shell rather than in python so

1066
00:34:38,520 --> 00:34:39,719
you're already inflated to ask me these

1067
00:34:39,719 --> 00:34:41,340
kinds of questions because in general

1068
00:34:41,340 --> 00:34:43,590
the question arises upside down the blog

1069
00:34:43,590 --> 00:34:45,060
post wayne the dog everything is done in

1070
00:34:45,060 --> 00:34:46,830
power shell  and me I'm here I see that

1071
00:34:46,830 --> 00:34:48,780
already I spit on the blog didn't

1072
00:34:48,780 --> 00:34:50,250
really help to define thank you for this

1073
00:34:50,250 --> 00:34:51,659
work but in this case I

1074
00:34:51,659 --> 00:34:53,159
don't use powershell probably

1075
00:34:53,159 --> 00:34:54,780
because I hosted double digits

1076
00:34:54,780 --> 00:34:56,460
good so how  are we doing in

1077
00:34:56,460 --> 00:34:57,930
python or in pocket she you have the

1078
00:34:57,930 --> 00:34:59,070
correspondences which are all written

1079
00:34:59,070 --> 00:35:01,140
here and if you are interested in

1080
00:35:01,140 --> 00:35:02,700
doing it on piton I had proposed

1081
00:35:02,700 --> 00:35:04,020
rico hens is sure he package some

1082
00:35:04,020 --> 00:35:05,700
are merge some are not  I do

1083
00:35:05,700 --> 00:35:07,170
n't know anymore you are going to watch everything is listed

1084
00:35:07,170 --> 00:35:08,640
in  s the envy that recipes hexagoal and I'm having a

1085
00:35:08,640 --> 00:35:09,650


1086
00:35:09,650 --> 00:35:12,210
good time so the idea now that I

1087
00:35:12,210 --> 00:35:12,990
've shown you his correspondence table

1088
00:35:12,990 --> 00:35:15,090
is to review together how are

1089
00:35:15,090 --> 00:35:16,740
we going to abuse this how are we

1090
00:35:16,740 --> 00:35:18,660
will redo its attacks with power

1091
00:35:18,660 --> 00:35:21,330
shell so I specify because

1092
00:35:21,330 --> 00:35:22,800
even when I spend a lot of time

1093
00:35:22,800 --> 00:35:24,760
preparing for this conference you can imagine

1094
00:35:24,760 --> 00:35:26,530
preparing these few slides to

1095
00:35:26,530 --> 00:35:27,850
do power shell it took me longer

1096
00:35:27,850 --> 00:35:29,940
than preparing and 60 of the others  I specify

1097
00:35:29,940 --> 00:35:32,580
because me followed by shell

1098
00:35:32,580 --> 00:35:34,600
you do not want to see me on power

1099
00:35:34,600 --> 00:35:37,330
shell nana good the reason why

1100
00:35:37,330 --> 00:35:38,290
you apples version of the perch and

1101
00:35:38,290 --> 00:35:39,640
it is that you cannot see me on

1102
00:35:39,640 --> 00:35:40,600
the boards she moans things

1103
00:35:40,600 --> 00:35:42,130
so small j  I hope you

1104
00:35:42,130 --> 00:35:43,210
won't see the small errors that I

1105
00:35:43,210 --> 00:35:44,320
have been able to slide from right to left I will

1106
00:35:44,320 --> 00:35:45,100
let you look at the slides

1107
00:35:45,100 --> 00:35:46,720
directly for yourself so I pass

1108
00:35:46,720 --> 00:35:49,800
1 2 3 and 4

1109
00:35:49,800 --> 00:35:52,450
I thank very much those who are at

1110
00:35:52,450 --> 00:35:53,980
the base of this work  I haven't done

1111
00:35:53,980 --> 00:35:55,300
everything  t the research work me I'm

1112
00:35:55,300 --> 00:35:56,650
just a game following a troll on the internet

1113
00:35:56,650 --> 00:35:57,850
who will browse blogs and read them

1114
00:35:57,850 --> 00:35:59,110
four times because he doesn't understand

1115
00:35:59,110 --> 00:36:00,700
first reading so I'm going to go

1116
00:36:00,700 --> 00:36:02,320
thank you one after the other thank you

1117
00:36:02,320 --> 00:36:03,790
very much to ela  by shamir who wrote

1118
00:36:03,790 --> 00:36:06,010
this article why the dog which is really

1119
00:36:06,010 --> 00:36:08,500
enormous so those who have already read it here

1120
00:36:08,500 --> 00:36:10,000
I suggest that we meet

1121
00:36:10,000 --> 00:36:12,190
afterwards with alcoholics anonymous

1122
00:36:12,190 --> 00:36:13,390
because I think we have problems

1123
00:36:13,390 --> 00:36:15,520
to tell each other  I also thank

1124
00:36:15,520 --> 00:36:17,890
wichser farm joy who is also

1125
00:36:17,890 --> 00:36:19,180
dealing with subjects on is outside the eu and

1126
00:36:19,180 --> 00:36:20,320
especially that facing the proxy posts

1127
00:36:20,320 --> 00:36:23,080
dirk jan but it is a must in

1128
00:36:23,080 --> 00:36:25,690
python it is it is my hero without him I

1129
00:36:25,690 --> 00:36:27,160
think I do not  will be nor afraid that of the

1130
00:36:27,160 --> 00:36:28,750
piton i think i will be in the

1131
00:36:28,750 --> 00:36:30,480
field of beekeeping

1132
00:36:30,480 --> 00:36:32,470
thanks also to charlie clark

1133
00:36:32,470 --> 00:36:34,000
exploite trappe which dealt with ch is

1134
00:36:34,000 --> 00:36:36,370
also this 9 crash which dealt with che

1135
00:36:36,370 --> 00:36:37,750
while i was preparing confuses it so

1136
00:36:37,750 --> 00:36:39,340
it was  rather curious  ux is a topic

1137
00:36:39,340 --> 00:36:40,390
that is coming back into fashion even though it

1138
00:36:40,390 --> 00:36:43,390
has been around since 2012 the epic thing 6 he

1139
00:36:43,390 --> 00:36:45,370
6 big big up to you

1140
00:36:45,370 --> 00:36:47,200
some sources and some links of

1141
00:36:47,200 --> 00:36:48,580
course I slipped you so like

1142
00:36:48,580 --> 00:36:50,050
that it's a gift the links for the

1143
00:36:50,050 --> 00:36:51,580
hackers résipiscence m.habib the characters

1144
00:36:51,580 --> 00:36:53,320
don't hesitate to ask me for

1145
00:36:53,320 --> 00:36:55,320
stickers I only have four left

1146
00:36:55,320 --> 00:36:57,190
then I've put some my maps for you

1147
00:36:57,190 --> 00:36:59,560
as if it weren't

1148
00:36:59,560 --> 00:37:01,060
complicated enough like that I

1149
00:37:01,060 --> 00:37:02,560
have something for you to spend a  good

1150
00:37:02,560 --> 00:37:04,870
day today it's a gift everything

1151
00:37:04,870 --> 00:37:06,340
is available on the hacker recipes I'm going to

1152
00:37:06,340 --> 00:37:07,510
repeat it two or three more times to

1153
00:37:07,510 --> 00:37:10,240
be sure you have remembered the name good a

1154
00:37:10,240 --> 00:37:12,190
little glossary anyway there is

1155
00:37:12,190 --> 00:37:13,150
something I want to clarify

1156
00:37:13,150 --> 00:37:15,970
here that  I have the opportunity to talk to you

1157
00:37:15,970 --> 00:37:17,410
again thank you to z it's an

1158
00:37:17,410 --> 00:37:18,180
honor

1159
00:37:18,180 --> 00:37:19,900
let's take this opportunity to

1160
00:37:19,900 --> 00:37:21,100
correct now we have to

1161
00:37:21,100 --> 00:37:22,900
talk about you and me when you talk about an

1162
00:37:22,900 --> 00:37:25,150
hlm stop talking about a  the tm

1163
00:37:25,150 --> 00:37:27,880
samara chain hnt to hlm or u  don't answer she

1164
00:37:27,880 --> 00:37:30,670
tlm don't confuse type 2h and

1165
00:37:30,670 --> 00:37:32,080
authentication protocols on the

1166
00:37:32,080 --> 00:37:34,780
network with regards to kerberos do

1167
00:37:34,780 --> 00:37:36,940
n't confuse tgs ethics and services

1168
00:37:36,940 --> 00:37:39,010
the tgs is the ticket of guanling

1169
00:37:39,010 --> 00:37:41,380
service it's the service that provides a

1170
00:37:41,380 --> 00:37:43,540
st  a ti cats service so you're going to

1171
00:37:43,540 --> 00:37:45,820
see all the time all over the internet

1172
00:37:45,820 --> 00:37:47,320
on all the articles you'll see

1173
00:37:47,320 --> 00:37:49,120
globally people they talk about tgs

1174
00:37:49,120 --> 00:37:50,340
main tickets

1175
00:37:50,340 --> 00:37:53,020
be smarter than them it's

1176
00:37:53,020 --> 00:37:54,580
not a service don't fall  in the

1177
00:37:54,580 --> 00:37:56,140
panel it is not a ticket

1178
00:37:56,140 --> 00:37:57,480
it is a service

1179
00:37:57,480 --> 00:37:59,380
so what do we have others na I

1180
00:37:59,380 --> 00:38:01,300
pass over it peace to you

1181
00:38:01,300 --> 00:38:02,370
maybe you will see it those who try to

1182
00:38:02,370 --> 00:38:04,060
deconstruct some small

1183
00:38:04,060 --> 00:38:05,680
peyras packets after authentication the

1184
00:38:05,680 --> 00:38:07,830
first stage of kerberos delegation

1185
00:38:07,830 --> 00:38:10,570
what do we have other good there

1186
00:38:10,570 --> 00:38:12,100
I put you a kind of huge pile I'll

1187
00:38:12,100 --> 00:38:13,300
let you look at it later I don't

1188
00:38:13,300 --> 00:38:15,310
want to  all this do some

1189
00:38:15,310 --> 00:38:16,770
sample tools

1190
00:38:16,770 --> 00:38:19,210
spoiler alert yaser kahveci track  at the

1191
00:38:19,210 --> 00:38:21,550
end then the first tools you

1192
00:38:21,550 --> 00:38:22,750
obviously have everything that I

1193
00:38:22,750 --> 00:38:24,820
used here which remained there you have

1194
00:38:24,820 --> 00:38:26,200
flour delegation to identify the

1195
00:38:26,200 --> 00:38:27,520
types of delegations in an

1196
00:38:27,520 --> 00:38:29,320
active directory domain it is little known but

1197
00:38:29,320 --> 00:38:30,940
I really recommend it  using it

1198
00:38:30,940 --> 00:38:32,590
lists very easily all the types

1199
00:38:32,590 --> 00:38:34,000
of education without constraints

1200
00:38:34,000 --> 00:38:36,370
with or without transition rb cdi protocol

1201
00:38:36,370 --> 00:38:37,690
lists all and in addition you can

1202
00:38:37,690 --> 00:38:39,130
filter the search like that

1203
00:38:39,130 --> 00:38:40,300
frankly you arrive at a client

1204
00:38:40,300 --> 00:38:43,540
you throw this thing it win get cgt

1205
00:38:43,540 --> 00:38:45,400
to get  a tvt i think the north

1206
00:38:45,400 --> 00:38:47,860
flash spoils st thank you for calling me

1207
00:38:47,860 --> 00:38:50,050
sagat tgs so it's to get a

1208
00:38:50,050 --> 00:38:51,730
service ticket you will find in

1209
00:38:51,730 --> 00:38:53,620
particular then the pair of the cost 12 02

1210
00:38:53,620 --> 00:38:55,120
which i think is still in the process of

1211
00:38:55,120 --> 00:38:57,280
merge thing will c  This is what I'm trying to

1212
00:38:57,280 --> 00:38:58,900
prepare at a time it was the case

1213
00:38:58,900 --> 00:39:00,789
that includes the features that I

1214
00:39:00,789 --> 00:39:01,960
presented there to make sure you

1215
00:39:01,960 --> 00:39:03,369
to sahel face proxy autos and their

1216
00:39:03,369 --> 00:39:05,559
optical discs and  st the same which is in

1217
00:39:05,559 --> 00:39:07,210
progress remains of i believe you can

1218
00:39:07,210 --> 00:39:09,309
use this element instead of rugby

1219
00:39:09,309 --> 00:39:11,049
us to fully understand what is in

1220
00:39:11,049 --> 00:39:12,700
a ticket all the flag tries to

1221
00:39:12,700 --> 00:39:14,559
understand the structure of it and then you

1222
00:39:14,559 --> 00:39:16,119
have everything else to  the end there are three

1223
00:39:16,119 --> 00:39:18,789
last which are very important and are

1224
00:39:18,789 --> 00:39:20,829
dear to my heart you and blood and sand

1225
00:39:20,829 --> 00:39:22,480
I think that a good part of

1226
00:39:22,480 --> 00:39:23,920
the assembly knows it do not

1227
00:39:23,920 --> 00:39:25,150
remove who knows blood indicate that

1228
00:39:25,150 --> 00:39:26,910
they use

1229
00:39:26,910 --> 00:39:29,410
and well thank all together the

1230
00:39:29,410 --> 00:39:31,270
heights of blood arm big big up to

1231
00:39:31,270 --> 00:39:32,890
waldau thank you for this fabulous team

1232
00:39:32,890 --> 00:39:35,680
who created this fabulous tool without that I

1233
00:39:35,680 --> 00:39:37,210
think we struggled a little more

1234
00:39:37,210 --> 00:39:38,559
to note the monkeys did a little more

1235
00:39:38,559 --> 00:39:39,819
during two

1236
00:39:39,819 --> 00:39:42,099
intrusion tests  seize that recipes mabileau

1237
00:39:42,099 --> 00:39:43,510
the staff i hadn't spoken yet

1238
00:39:43,510 --> 00:39:44,799
but also hosts peas there are quite a few

1239
00:39:44,799 --> 00:39:47,619
method you realized it's you will

1240
00:39:47,619 --> 00:39:49,299
discover something nice and

1241
00:39:49,299 --> 00:39:51,400
hexagoal a non-containerized system

1242
00:39:51,400 --> 00:39:52,240
that allows real  ize the

1243
00:39:52,240 --> 00:39:53,770
intrusion tests by respecting good

1244
00:39:53,770 --> 00:39:55,539
practices and by avoiding our dear

1245
00:39:55,539 --> 00:39:57,099
customers to interconnect all the

1246
00:39:57,099 --> 00:39:58,299
networks between them on a host system

1247
00:39:58,299 --> 00:39:59,980
which shares all the files all the

1248
00:39:59,980 --> 00:40:00,910
exploits because obviously

1249
00:40:00,910 --> 00:40:02,710
I imagine that you all do one

1250
00:40:02,710 --> 00:40:03,819
code audit on all the tools you

1251
00:40:03,819 --> 00:40:05,079
use only on good source now

1252
00:40:05,079 --> 00:40:07,180
I believe myself on this so hexagoal

1253
00:40:07,180 --> 00:40:08,289
take a look it might

1254
00:40:08,289 --> 00:40:09,910
help you if you don't have an alternative to

1255
00:40:09,910 --> 00:40:11,380
date if you're tired of

1256
00:40:11,380 --> 00:40:13,390
declining  vms and spend 20 giga of

1257
00:40:13,390 --> 00:40:14,950
space for each vm that you decline

1258
00:40:14,950 --> 00:40:16,569
because obviously I know that

1259
00:40:16,569 --> 00:40:18,039
you decline vms and that you do

1260
00:40:18,039 --> 00:40:20,010
n't do everything on a single vm would pass

1261
00:40:20,010 --> 00:40:23,200
would not be responsible

1262
00:40:23,200 --> 00:40:24,099
two last slides I would like to

1263
00:40:24,099 --> 00:40:25,900
thank xbox enormously who m  allowed

1264
00:40:25,900 --> 00:40:28,630
to be here among other things and who

1265
00:40:28,630 --> 00:40:30,190
in this case supports this

1266
00:40:30,190 --> 00:40:31,990
conference his supporters outside of

1267
00:40:31,990 --> 00:40:34,420
all that the community I remind you the

1268
00:40:34,420 --> 00:40:36,520
sec info community is from cyber d

1269
00:40:36,520 --> 00:40:38,049
Hacking in general is a community

1270
00:40:38,049 --> 00:40:40,660
in which 75% or more of the

1271
00:40:40,660 --> 00:40:41,829
tools we use are all

1272
00:40:41,829 --> 00:40:44,109
free open source sounds maintained by

1273
00:40:44,109 --> 00:40:45,400
guys in their spare time I don't know if

1274
00:40:45,400 --> 00:40:46,960
you realize the market

1275
00:40:46,960 --> 00:40:48,940
is huge and  low thanks to companies

1276
00:40:48,940 --> 00:40:50,829
like that that they support this kind

1277
00:40:50,829 --> 00:40:53,500
of initiative we can hope to have a

1278
00:40:53,500 --> 00:40:55,059
community a little more viable in

1279
00:40:55,059 --> 00:40:56,079
the future and which will hold a little

1280
00:40:56,079 --> 00:40:57,549
more so I would like to thank them

1281
00:40:57,549 --> 00:40:59,650
really thank you to them they do  a lot

1282
00:40:59,650 --> 00:41:01,029
of things have been there for a

1283
00:41:01,029 --> 00:41:03,010
while they allow those who come out

1284
00:41:03,010 --> 00:41:05,140
of school like I do to work

1285
00:41:05,140 --> 00:41:06,309
on a few machines they train

1286
00:41:06,309 --> 00:41:09,310
on the subject without ex bbox

1287
00:41:09,310 --> 00:41:11,290
well I'm not saying that I won't be there

1288
00:41:11,290 --> 00:41:13,630
but in everything  if the path would be

1289
00:41:13,630 --> 00:41:15,460
much longer I would like to

1290
00:41:15,460 --> 00:41:18,220
thank them and on top of that go

1291
00:41:18,220 --> 00:41:21,910
[Applause]

1292
00:41:24,960 --> 00:41:27,010
thank you to the brave ones who launched

1293
00:41:27,010 --> 00:41:28,240
the applause that they come to

1294
00:41:28,240 --> 00:41:30,430
see me at the end there is a one month vip voucher for free

1295
00:41:30,430 --> 00:41:33,370
it's a gift  we have

1296
00:41:33,370 --> 00:41:35,530
also other things on xbox and i'm going

1297
00:41:35,530 --> 00:41:36,640
to present them to you here i'll let

1298
00:41:36,640 --> 00:41:39,010
you announce them to you here i wrote two

1299
00:41:39,010 --> 00:41:41,530
articles on akzo box academy an article

1300
00:41:41,530 --> 00:41:43,330
on the tlm relay another article on

1301
00:41:43,330 --> 00:41:45,220
the dsl mound and an article which is

1302
00:41:45,220 --> 00:41:46,480
being written on the

1303
00:41:46,480 --> 00:41:47,980
kerberos delegation those who would be interested

1304
00:41:47,980 --> 00:41:49,630
in training on this kind of subject

1305
00:41:49,630 --> 00:41:51,670
are invited to go to the academy there are

1306
00:41:51,670 --> 00:41:52,810
many other things he was proud of the

1307
00:41:52,810 --> 00:41:53,890
machines and the probables really the

1308
00:41:53,890 --> 00:41:55,180
list is long so go and do a

1309
00:41:55,180 --> 00:41:58,330
turn and if you see christina house or

1310
00:41:58,330 --> 00:42:00,070
kaki is walking around with a dante t-shirt and

1311
00:42:00,070 --> 00:42:01,840
don't hesitate to go see her to ask her

1312
00:42:01,840 --> 00:42:04,090
for lots of stickers I know

1313
00:42:04,090 --> 00:42:05,890
she was kicked out yesterday for the

1314
00:42:05,890 --> 00:42:07,210
first day I think that's her

1315
00:42:07,210 --> 00:42:08,800
will be happy to be hunted again

1316
00:42:08,800 --> 00:42:09,720
today

1317
00:42:09,720 --> 00:42:11,460
good now

1318
00:42:11,460 --> 00:42:13,330
you are you had to tell you

1319
00:42:13,330 --> 00:42:14,380
a few of you i

1320
00:42:14,380 --> 00:42:16,780
know you haoues is sponsored by at

1321
00:42:16,780 --> 00:42:18,070
cyberghost

1322
00:42:18,070 --> 00:42:20,200
vpn what's the name no its sponsors

1323
00:42:20,200 --> 00:42:22,240
iparretarrak the bo  x I have confidence in

1324
00:42:22,240 --> 00:42:24,810
this group there and I thank them but

1325
00:42:24,810 --> 00:42:27,280
the idea of the sponsos was also to offer

1326
00:42:27,280 --> 00:42:29,530
you stuff at the end of this round the first

1327
00:42:29,530 --> 00:42:30,550
ten lice who come to see me the f

1328
00:42:30,550 --> 00:42:31,960
rst nine since the one who launc

1329
00:42:31,960 --> 00:42:32,860
ed the  applause it's

1330
00:42:32,860 --> 00:42:35,200
free they get a one month vip voucher

1331
00:42:35,200 --> 00:42:37,780
on xbox that's a gift but out of

1332
00:42:37,780 --> 00:42:39,370
respect for virtu who is going to do his talk

1333
00:42:39,370 --> 00:42:40,600
just after the wall I suggest you

1334
00:42:40,600 --> 00:42:43,810
do that at noon afterwards but also

1335
00:42:43,810 --> 00:42:45,580
something else whoever answers  first

1336
00:42:45,580 --> 00:42:47,200
that he have first after

1337
00:42:47,200 --> 00:42:50,260
virtu installment on this question what is the

1338
00:42:50,260 --> 00:42:51,550
village price required to set up

1339
00:42:51,550 --> 00:42:53,080
delegation without coercion or coercion

1340
00:42:53,080 --> 00:42:54,490
the first one that comes with this answer

1341
00:42:54,490 --> 00:42:56,260
he leaves with a one year subscription at

1342
00:42:56,260 --> 00:42:57,610
the box  academy that will unlock

1343
00:42:57,610 --> 00:42:59,350
shots 1 and i heard you back the box

1344
00:42:59,350 --> 00:43:00,280
academy

1345
00:43:00,280 --> 00:43:02,650
once again thank you with the box i

1346
00:43:02,650 --> 00:43:03,910
think some of you will be

1347
00:43:03,910 --> 00:43:05,380
very happy to leave with a brunch

1348
00:43:05,380 --> 00:43:07,540
hours or at xamax academy so

1349
00:43:07,540 --> 00:43:08,500
once again i like  would have a round

1350
00:43:08,500 --> 00:43:11,310
of applause for xbox

1351
00:43:11,310 --> 00:43:14,599
[applause]

1352
00:43:17,380 --> 00:43:19,880
thank you all for listening

1353
00:43:19,880 --> 00:43:21,529
hope i didn't lose you too much the

1354
00:43:21,529 --> 00:43:23,239
outside temperature is 38 degrees

1355
00:43:23,239 --> 00:43:25,130
those who are asleep feel free

1356
00:43:25,130 --> 00:43:26,239
to wake up there is a very talk

1357
00:43:26,239 --> 00:43:27,789
interesting that comes right after

1358
00:43:27,789 --> 00:43:29,809


1359
00:43:29,809 --> 00:43:31,849
i would like to also thank capgemini without them i wouldn't be here it goes

1360
00:43:31,849 --> 00:43:33,200
up years also the environment in

1361
00:43:33,200 --> 00:43:34,489
which to work and the time to

1362
00:43:34,489 --> 00:43:36,109
deploy this stuff those who

1363
00:43:36,109 --> 00:43:37,339
have questions you have a minute and a

1364
00:43:37,339 --> 00:43:39,578
half left

1365
00:43:40,170 --> 00:43:48,639
[Applause]

