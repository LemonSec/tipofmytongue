1
00:00:00,240 --> 00:00:07,970
good afternoon everybody<font color="#CCCCCC"> welcome to the</font>

2
00:00:03,179 --> 00:00:10,469
coveted<font color="#CCCCCC"> post lunchtime slot a blue hat</font>

3
00:00:07,970 --> 00:00:12,480
are there anybody in the<font color="#E5E5E5"> audience that</font>

4
00:00:10,469 --> 00:00:17,369
<font color="#E5E5E5">are not already</font><font color="#CCCCCC"> familiar with</font><font color="#E5E5E5"> the good</font>

5
00:00:12,480 --> 00:00:21,210
work of David and har<font color="#CCCCCC"> Han here oh all</font>

6
00:00:17,369 --> 00:00:22,350
<font color="#E5E5E5">right you guys</font><font color="#CCCCCC"> just</font><font color="#E5E5E5"> leave</font><font color="#CCCCCC"> come on</font><font color="#E5E5E5"> so</font>

7
00:00:21,210 --> 00:00:23,850
David's been around<font color="#CCCCCC"> Windows security</font>

8
00:00:22,350 --> 00:00:26,189
<font color="#CCCCCC">space for</font><font color="#E5E5E5"> longer than I've been</font><font color="#CCCCCC"> in</font>

9
00:00:23,850 --> 00:00:28,920
<font color="#E5E5E5">Windows what</font><font color="#CCCCCC"> when</font><font color="#E5E5E5"> seven days and forward</font>

10
00:00:26,189 --> 00:00:30,660
and he's he's been instrumental in

11
00:00:28,920 --> 00:00:32,730
helping kind<font color="#E5E5E5"> of chart</font><font color="#CCCCCC"> that path that</font>

12
00:00:30,660 --> 00:00:34,739
pivot from just defending and reacting

13
00:00:32,729 --> 00:00:37,078
all the time to<font color="#CCCCCC"> stopping the game of</font>

14
00:00:34,739 --> 00:00:38,730
whack-a-mole<font color="#CCCCCC"> it's it's that</font><font color="#E5E5E5"> role of</font>

15
00:00:37,079 --> 00:00:40,649
<font color="#CCCCCC">trying to get us off the treadmill of</font>

16
00:00:38,730 --> 00:00:41,879
only<font color="#E5E5E5"> being responsive and trying to</font>

17
00:00:40,649 --> 00:00:44,760
learn from<font color="#E5E5E5"> the things</font><font color="#CCCCCC"> we're responding</font>

18
00:00:41,879 --> 00:00:46,860
<font color="#CCCCCC">to and incorporate that new vision of</font>

19
00:00:44,760 --> 00:00:48,570
security into upcoming versions of

20
00:00:46,860 --> 00:00:50,820
Windows to try to not have<font color="#CCCCCC"> to</font><font color="#E5E5E5"> solve the</font>

21
00:00:48,570 --> 00:00:53,489
same problems over<font color="#CCCCCC"> and over again</font><font color="#E5E5E5"> so our</font>

22
00:00:50,820 --> 00:00:55,350
<font color="#CCCCCC">hand</font><font color="#E5E5E5"> basically all things container if</font>

23
00:00:53,489 --> 00:00:57,120
it can fit into a container or<font color="#CCCCCC"> you would</font>

24
00:00:55,350 --> 00:00:59,640
<font color="#CCCCCC">like to fit it into</font><font color="#E5E5E5"> a container in the</font>

25
00:00:57,120 --> 00:01:00,959
context of<font color="#CCCCCC"> Windows he's</font><font color="#E5E5E5"> our guy</font><font color="#CCCCCC"> if you</font>

26
00:00:59,640 --> 00:01:04,260
want<font color="#CCCCCC"> to do insecure he's like yogurt</font>

27
00:01:00,960 --> 00:01:06,570
<font color="#E5E5E5">marries his that's actually you can</font>

28
00:01:04,260 --> 00:01:09,479
reach<font color="#E5E5E5"> him at yogurt at Microsoft</font><font color="#CCCCCC"> duck</font>

29
00:01:06,570 --> 00:01:10,798
and that's not<font color="#E5E5E5"> true</font><font color="#CCCCCC"> no</font><font color="#E5E5E5"> today's</font>

30
00:01:09,479 --> 00:01:12,390
<font color="#E5E5E5">presentation is actually</font><font color="#CCCCCC"> gonna be</font><font color="#E5E5E5"> a</font>

31
00:01:10,799 --> 00:01:14,430
pretty cool<font color="#E5E5E5"> little tour it's looking at</font>

32
00:01:12,390 --> 00:01:15,900
securing the defenders the security

33
00:01:14,430 --> 00:01:17,460
offered through the<font color="#E5E5E5"> Windows Defender</font>

34
00:01:15,900 --> 00:01:20,070
application guard and this<font color="#E5E5E5"> is one of</font>

35
00:01:17,460 --> 00:01:21,899
<font color="#E5E5E5">those efforts that took no small amount</font>

36
00:01:20,070 --> 00:01:24,750
<font color="#CCCCCC">of</font><font color="#E5E5E5"> time and resourcing to try to figure</font>

37
00:01:21,900 --> 00:01:25,979
<font color="#CCCCCC">out new ways</font><font color="#E5E5E5"> using new architecture</font>

38
00:01:24,750 --> 00:01:27,900
inside Windows to provide greater

39
00:01:25,979 --> 00:01:30,119
<font color="#E5E5E5">security greater isolation greater</font>

40
00:01:27,900 --> 00:01:33,000
protection so consider this sort<font color="#E5E5E5"> of a</font>

41
00:01:30,119 --> 00:01:35,700
guided tour as to how we<font color="#E5E5E5"> we</font><font color="#CCCCCC"> manage that</font>

42
00:01:33,000 --> 00:01:37,470
pivot and how we<font color="#E5E5E5"> evolve windows so</font>

43
00:01:35,700 --> 00:01:39,750
tomorrow's version is going to be better

44
00:01:37,470 --> 00:01:42,270
than today's<font color="#E5E5E5"> without further ado David</font>

45
00:01:39,750 --> 00:01:43,710
<font color="#E5E5E5">and</font><font color="#CCCCCC"> Sauron</font><font color="#E5E5E5"> all right thanks everyone</font><font color="#CCCCCC"> I'm</font>

46
00:01:42,270 --> 00:01:45,360
<font color="#E5E5E5">liking this it has almost like</font><font color="#CCCCCC"> a high</font>

47
00:01:43,710 --> 00:01:47,039
school<font color="#CCCCCC"> lunch room kind of vibe here</font>

48
00:01:45,360 --> 00:01:47,880
someone<font color="#CCCCCC"> passed</font><font color="#E5E5E5"> me a milk or juice or</font>

49
00:01:47,040 --> 00:01:50,369
something<font color="#E5E5E5"> in here</font>

50
00:01:47,880 --> 00:01:52,140
I like this room<font color="#E5E5E5"> so my name is Dave</font>

51
00:01:50,369 --> 00:01:54,479
<font color="#E5E5E5">Weston amongst other things</font>

52
00:01:52,140 --> 00:01:56,490
I am the group manager<font color="#CCCCCC"> of Windows and</font>

53
00:01:54,479 --> 00:01:59,460
Windows<font color="#E5E5E5"> Defender application guard is</font>

54
00:01:56,490 --> 00:02:00,960
one of the features that<font color="#E5E5E5"> I oh I'm really</font>

55
00:01:59,460 --> 00:02:03,000
<font color="#CCCCCC">excited to share this</font><font color="#E5E5E5"> with you today</font>

56
00:02:00,960 --> 00:02:04,798
<font color="#CCCCCC">this talk is not</font><font color="#E5E5E5"> just about the feature</font>

57
00:02:03,000 --> 00:02:06,390
set<font color="#CCCCCC"> and how people use</font><font color="#E5E5E5"> this which is</font>

58
00:02:04,799 --> 00:02:08,550
normally how<font color="#CCCCCC"> I talk about this and</font>

59
00:02:06,390 --> 00:02:10,080
rightfully so<font color="#CCCCCC"> it's more</font><font color="#E5E5E5"> of a journey for</font>

60
00:02:08,550 --> 00:02:11,970
this<font color="#E5E5E5"> audience on how do you secure a</font>

61
00:02:10,080 --> 00:02:12,330
<font color="#CCCCCC">brand-new</font><font color="#E5E5E5"> technology and what kind of</font>

62
00:02:11,970 --> 00:02:15,470
<font color="#CCCCCC">eff</font>

63
00:02:12,330 --> 00:02:17,640
goes into<font color="#E5E5E5"> that</font><font color="#CCCCCC"> this is</font><font color="#E5E5E5"> definitely a</font>

64
00:02:15,470 --> 00:02:20,130
important moment<font color="#CCCCCC"> for</font><font color="#E5E5E5"> me</font><font color="#CCCCCC"> since this was a</font>

65
00:02:17,640 --> 00:02:21,959
many months in even<font color="#E5E5E5"> years of my life</font>

66
00:02:20,130 --> 00:02:23,910
<font color="#E5E5E5">working on this feature to try to bring</font>

67
00:02:21,960 --> 00:02:26,670
it up I know<font color="#E5E5E5"> Sauron feels the same so</font>

68
00:02:23,910 --> 00:02:28,320
we're excited to share<font color="#CCCCCC"> and the best way</font>

69
00:02:26,670 --> 00:02:29,609
that I<font color="#E5E5E5"> can get you to think mentally if</font>

70
00:02:28,320 --> 00:02:31,350
you haven't<font color="#E5E5E5"> tried the feature which I</font>

71
00:02:29,610 --> 00:02:33,960
recommend<font color="#CCCCCC"> you do</font><font color="#E5E5E5"> we just released it a</font>

72
00:02:31,350 --> 00:02:36,390
couple<font color="#E5E5E5"> weeks ago with the fall creators</font>

73
00:02:33,960 --> 00:02:39,090
update of Windows 10 is it's a tiny

74
00:02:36,390 --> 00:02:40,980
<font color="#E5E5E5">version of the OS inside of the OS so</font>

75
00:02:39,090 --> 00:02:43,320
rather than securing a feature such<font color="#CCCCCC"> as a</font>

76
00:02:40,980 --> 00:02:45,510
browser or notepad<font color="#E5E5E5"> or</font><font color="#CCCCCC"> a document</font><font color="#E5E5E5"> reader</font>

77
00:02:43,320 --> 00:02:47,579
<font color="#CCCCCC">you've</font><font color="#E5E5E5"> really got to from a security</font>

78
00:02:45,510 --> 00:02:49,440
<font color="#E5E5E5">assurance analysis penetration testing</font>

79
00:02:47,580 --> 00:02:51,780
<font color="#E5E5E5">standpoint</font><font color="#CCCCCC"> there are</font><font color="#E5E5E5"> so many vectors</font>

80
00:02:49,440 --> 00:02:53,280
it's an entire operating<font color="#CCCCCC"> system</font><font color="#E5E5E5"> that</font>

81
00:02:51,780 --> 00:02:55,190
<font color="#E5E5E5">sort</font><font color="#CCCCCC"> of shrunk</font><font color="#E5E5E5"> down into a feature so</font>

82
00:02:53,280 --> 00:02:57,150
<font color="#CCCCCC">that's a</font><font color="#E5E5E5"> good way to</font><font color="#CCCCCC"> think about this</font>

83
00:02:55,190 --> 00:02:58,859
<font color="#E5E5E5">the first thing I like to do want to</font>

84
00:02:57,150 --> 00:03:00,390
<font color="#E5E5E5">talk about a feature is level set what</font>

85
00:02:58,860 --> 00:03:02,610
<font color="#CCCCCC">were we trying to</font><font color="#E5E5E5"> accomplish</font><font color="#CCCCCC"> here that's</font>

86
00:03:00,390 --> 00:03:04,440
absolutely critical<font color="#CCCCCC"> the strategy of</font>

87
00:03:02,610 --> 00:03:05,880
<font color="#E5E5E5">Windows and and if some of you</font><font color="#CCCCCC"> seem I</font>

88
00:03:04,440 --> 00:03:08,160
<font color="#CCCCCC">talked to the past have probably seen</font>

89
00:03:05,880 --> 00:03:10,650
<font color="#E5E5E5">this many times is we want to make it as</font>

90
00:03:08,160 --> 00:03:12,660
<font color="#E5E5E5">difficult and costly as possible to</font>

91
00:03:10,650 --> 00:03:15,330
compromise<font color="#E5E5E5"> a Windows 10 machine that's</font>

92
00:03:12,660 --> 00:03:17,280
super<font color="#CCCCCC"> critical it's a it's a simple sort</font>

93
00:03:15,330 --> 00:03:19,080
of statement on the face but it's

94
00:03:17,280 --> 00:03:21,090
absolutely critical<font color="#CCCCCC"> we're</font><font color="#E5E5E5"> constantly</font>

95
00:03:19,080 --> 00:03:22,890
looking<font color="#E5E5E5"> at the economics and</font><font color="#CCCCCC"> the</font>

96
00:03:21,090 --> 00:03:25,080
mechanics<font color="#E5E5E5"> of attacks and looking at the</font>

97
00:03:22,890 --> 00:03:27,779
place that<font color="#CCCCCC"> we can most durably</font><font color="#E5E5E5"> drive</font>

98
00:03:25,080 --> 00:03:29,400
pain and costs<font color="#CCCCCC"> to attackers and this</font>

99
00:03:27,780 --> 00:03:31,530
feature<font color="#E5E5E5"> fits into that strategy and</font><font color="#CCCCCC"> the</font>

100
00:03:29,400 --> 00:03:33,900
tactics we use so we want to make it

101
00:03:31,530 --> 00:03:36,239
<font color="#E5E5E5">expensive we're not saying this is</font>

102
00:03:33,900 --> 00:03:38,190
unbreakable<font color="#E5E5E5"> or using any of those kind</font>

103
00:03:36,239 --> 00:03:40,320
of naive terms in the past but we're

104
00:03:38,190 --> 00:03:43,530
constantly<font color="#E5E5E5"> looking at how</font><font color="#CCCCCC"> how to make</font>

105
00:03:40,320 --> 00:03:45,570
things more expensive<font color="#CCCCCC"> and the tactics we</font>

106
00:03:43,530 --> 00:03:48,390
use<font color="#E5E5E5"> I think are</font><font color="#CCCCCC"> very straightforward but</font>

107
00:03:45,570 --> 00:03:51,030
<font color="#E5E5E5">again important our first gold standard</font>

108
00:03:48,390 --> 00:03:52,799
<font color="#E5E5E5">of mitigating and attack is to take the</font>

109
00:03:51,030 --> 00:03:55,459
vulnerability off of the battlefield

110
00:03:52,800 --> 00:03:57,900
so we're consistently investing in

111
00:03:55,459 --> 00:03:59,520
compiler features and runtime<font color="#CCCCCC"> checking</font>

112
00:03:57,900 --> 00:04:01,440
that would do things like totally

113
00:03:59,520 --> 00:04:02,940
eliminate users after freeze obviously a

114
00:04:01,440 --> 00:04:05,070
tough problem<font color="#E5E5E5"> but we might use garbage</font>

115
00:04:02,940 --> 00:04:06,510
collection to do that<font color="#E5E5E5"> eliminate integer</font>

116
00:04:05,070 --> 00:04:08,760
overflows we can do that<font color="#E5E5E5"> through static</font>

117
00:04:06,510 --> 00:04:10,560
<font color="#E5E5E5">analysis or through compiler checks but</font>

118
00:04:08,760 --> 00:04:11,970
<font color="#E5E5E5">if a vulnerability doesn't exist that</font>

119
00:04:10,560 --> 00:04:13,350
opportunity for the attacker is

120
00:04:11,970 --> 00:04:16,168
completely gone<font color="#CCCCCC"> and that's our gold</font>

121
00:04:13,350 --> 00:04:17,880
standard<font color="#E5E5E5"> the second part of that chain</font>

122
00:04:16,168 --> 00:04:18,510
is we want to<font color="#E5E5E5"> break exploitation</font>

123
00:04:17,880 --> 00:04:20,548
techniques

124
00:04:18,510 --> 00:04:22,560
so if attackers are consistently using

125
00:04:20,548 --> 00:04:24,359
things<font color="#E5E5E5"> I arbitrary</font><font color="#CCCCCC"> readwrite by</font>

126
00:04:22,560 --> 00:04:25,740
corrupting<font color="#E5E5E5"> a particular length field we</font>

127
00:04:24,360 --> 00:04:26,070
would<font color="#E5E5E5"> look and investigate</font><font color="#CCCCCC"> how do we</font>

128
00:04:25,740 --> 00:04:28,920
break

129
00:04:26,070 --> 00:04:30,360
<font color="#E5E5E5">that the third piece is if we couldn't</font>

130
00:04:28,920 --> 00:04:32,130
eliminate the vulnerability we couldn't

131
00:04:30,360 --> 00:04:34,890
stop the exploitation<font color="#E5E5E5"> technique and we</font>

132
00:04:32,130 --> 00:04:36,150
want containment this exploit<font color="#E5E5E5"> maybe</font><font color="#CCCCCC"> has</font>

133
00:04:34,890 --> 00:04:37,650
given the attacker arbitrary code

134
00:04:36,150 --> 00:04:40,109
execution but we want to contain<font color="#E5E5E5"> the</font>

135
00:04:37,650 --> 00:04:41,280
damage<font color="#E5E5E5"> there</font><font color="#CCCCCC"> and that is absolutely a</font>

136
00:04:40,110 --> 00:04:44,250
critical<font color="#E5E5E5"> part of our security strategy</font>

137
00:04:41,280 --> 00:04:46,830
<font color="#CCCCCC">and the fourth sort of tenant here is if</font>

138
00:04:44,250 --> 00:04:48,210
all<font color="#E5E5E5"> else fails limit the opportunity for</font>

139
00:04:46,830 --> 00:04:50,789
attack<font color="#E5E5E5"> but what we're going to talk</font>

140
00:04:48,210 --> 00:04:52,620
about<font color="#CCCCCC"> today is why application guard in</font>

141
00:04:50,790 --> 00:04:54,540
this micro<font color="#E5E5E5"> virtualization technology</font>

142
00:04:52,620 --> 00:04:56,730
that we built<font color="#E5E5E5"> in the latest version of</font>

143
00:04:54,540 --> 00:04:59,910
<font color="#CCCCCC">Windows is useful</font><font color="#E5E5E5"> from a containment</font>

144
00:04:56,730 --> 00:05:01,620
standpoint<font color="#E5E5E5"> so let's look at essentially</font>

145
00:04:59,910 --> 00:05:04,440
what attackers are trying to accomplish

146
00:05:01,620 --> 00:05:05,670
<font color="#CCCCCC">so you can really look at an exploit as</font>

147
00:05:04,440 --> 00:05:07,170
a weird machine you start with a

148
00:05:05,670 --> 00:05:10,530
software vulnerability and you want to

149
00:05:07,170 --> 00:05:12,600
<font color="#CCCCCC">manipulate it into a mechanism for</font><font color="#E5E5E5"> X for</font>

150
00:05:10,530 --> 00:05:14,309
executing<font color="#CCCCCC"> a payload you start by</font>

151
00:05:12,600 --> 00:05:16,260
exploiting a common vulnerability class

152
00:05:14,310 --> 00:05:18,000
whether that's a stacker<font color="#E5E5E5"> keep</font><font color="#CCCCCC"> overrun</font><font color="#E5E5E5"> or</font>

153
00:05:16,260 --> 00:05:20,310
some sort of<font color="#CCCCCC"> memory corruption</font><font color="#E5E5E5"> in most</font>

154
00:05:18,000 --> 00:05:23,070
cases<font color="#CCCCCC"> you'll then turn that</font><font color="#E5E5E5"> into</font><font color="#CCCCCC"> a class</font>

155
00:05:20,310 --> 00:05:24,660
specific<font color="#E5E5E5"> exploitation primitive what do</font>

156
00:05:23,070 --> 00:05:26,730
I mean<font color="#CCCCCC"> by primitive primitive is a</font>

157
00:05:24,660 --> 00:05:28,830
capability<font color="#E5E5E5"> to now program the Machine</font>

158
00:05:26,730 --> 00:05:30,180
visa via vulnerability so the most

159
00:05:28,830 --> 00:05:31,680
common primitive<font color="#E5E5E5"> that we see the</font>

160
00:05:30,180 --> 00:05:34,800
attackers nowadays is the<font color="#E5E5E5"> ability to</font>

161
00:05:31,680 --> 00:05:36,540
<font color="#E5E5E5">read write memory from across the trust</font>

162
00:05:34,800 --> 00:05:38,310
boundary that should be allowed<font color="#E5E5E5"> very</font>

163
00:05:36,540 --> 00:05:40,020
common mechanism for doing<font color="#CCCCCC"> that as maybe</font>

164
00:05:38,310 --> 00:05:42,630
<font color="#E5E5E5">you get an actionscript vulnerability in</font>

165
00:05:40,020 --> 00:05:44,969
<font color="#E5E5E5">flash you corrupt an array link now that</font>

166
00:05:42,630 --> 00:05:47,040
array<font color="#CCCCCC"> is mapped to</font><font color="#E5E5E5"> the totality</font><font color="#CCCCCC"> of</font>

167
00:05:44,970 --> 00:05:48,300
virtual memory<font color="#E5E5E5"> for a process</font><font color="#CCCCCC"> and you can</font>

168
00:05:47,040 --> 00:05:50,640
read or write things you can steal

169
00:05:48,300 --> 00:05:53,220
secrets<font color="#E5E5E5"> you can corrupt control flow all</font>

170
00:05:50,640 --> 00:05:55,830
of those<font color="#E5E5E5"> great things</font><font color="#CCCCCC"> but the goal there</font>

171
00:05:53,220 --> 00:06:00,120
the goal there is to<font color="#CCCCCC"> execute a payload</font>

172
00:05:55,830 --> 00:06:03,000
and this is a recursive<font color="#E5E5E5"> attack chain so</font>

173
00:06:00,120 --> 00:06:05,430
in a<font color="#E5E5E5"> normal case for</font><font color="#CCCCCC"> example</font><font color="#E5E5E5"> with a</font>

174
00:06:03,000 --> 00:06:07,080
browser exploit you would start<font color="#E5E5E5"> by going</font>

175
00:06:05,430 --> 00:06:10,590
<font color="#E5E5E5">on this</font><font color="#CCCCCC"> journey to get initial code</font>

176
00:06:07,080 --> 00:06:12,210
execution<font color="#CCCCCC"> and then you would</font><font color="#E5E5E5"> move on to</font>

177
00:06:10,590 --> 00:06:13,770
attempt to do<font color="#CCCCCC"> that from a secondary</font>

178
00:06:12,210 --> 00:06:15,900
surface so now you need to elevate

179
00:06:13,770 --> 00:06:17,849
privileges<font color="#CCCCCC"> again you repeat the chain</font>

180
00:06:15,900 --> 00:06:20,010
<font color="#E5E5E5">find a</font><font color="#CCCCCC"> vulnerability</font><font color="#E5E5E5"> turn that into a</font>

181
00:06:17,850 --> 00:06:23,070
class specific primitive<font color="#E5E5E5"> execute your</font>

182
00:06:20,010 --> 00:06:25,110
payload so containment<font color="#E5E5E5"> is really the</font>

183
00:06:23,070 --> 00:06:28,290
last line of<font color="#E5E5E5"> defense</font><font color="#CCCCCC"> that we have</font>

184
00:06:25,110 --> 00:06:30,690
against executing a payload<font color="#E5E5E5"> and as such</font>

185
00:06:28,290 --> 00:06:33,840
we are constantly<font color="#CCCCCC"> looking at</font><font color="#E5E5E5"> mechanisms</font>

186
00:06:30,690 --> 00:06:36,360
<font color="#CCCCCC">to retain containment</font><font color="#E5E5E5"> as a method</font><font color="#CCCCCC"> for</font>

187
00:06:33,840 --> 00:06:39,030
stopping payload execution<font color="#E5E5E5"> this is</font>

188
00:06:36,360 --> 00:06:39,520
essentially<font color="#CCCCCC"> how</font><font color="#E5E5E5"> we think of of isolation</font>

189
00:06:39,030 --> 00:06:42,909
how it fits

190
00:06:39,520 --> 00:06:45,310
<font color="#E5E5E5">to our</font><font color="#CCCCCC"> strategy so our first and</font>

191
00:06:42,910 --> 00:06:47,020
broadest<font color="#E5E5E5"> mechanism for containment</font><font color="#CCCCCC"> is</font>

192
00:06:45,310 --> 00:06:49,000
what we call the app container

193
00:06:47,020 --> 00:06:50,198
how<font color="#E5E5E5"> are you</font><font color="#CCCCCC"> familiar with the standard</font>

194
00:06:49,000 --> 00:06:53,110
<font color="#CCCCCC">windows sandbox that</font><font color="#E5E5E5"> we call the app</font>

195
00:06:50,199 --> 00:06:54,849
container<font color="#CCCCCC"> alright a few folks</font><font color="#E5E5E5"> I'll get</font>

196
00:06:53,110 --> 00:06:57,069
<font color="#E5E5E5">into it so app container has a few</font>

197
00:06:54,849 --> 00:06:59,349
properties it's a security boundary that

198
00:06:57,069 --> 00:07:01,389
operates at<font color="#CCCCCC"> the process level</font><font color="#E5E5E5"> it has</font>

199
00:06:59,349 --> 00:07:02,710
capability<font color="#CCCCCC"> based resource access and</font>

200
00:07:01,389 --> 00:07:04,150
that means you need to<font color="#E5E5E5"> ask for</font><font color="#CCCCCC"> a</font>

201
00:07:02,710 --> 00:07:05,979
capability<font color="#E5E5E5"> if you want to use it you</font>

202
00:07:04,150 --> 00:07:07,448
<font color="#E5E5E5">start with absolutely no capabilities in</font>

203
00:07:05,979 --> 00:07:09,219
the system not even the<font color="#CCCCCC"> ability</font><font color="#E5E5E5"> to talk</font>

204
00:07:07,449 --> 00:07:11,349
<font color="#E5E5E5">to the network</font><font color="#CCCCCC"> you've got to ask for</font>

205
00:07:09,220 --> 00:07:13,419
<font color="#CCCCCC">network and be pretty granular</font><font color="#E5E5E5"> I want</font>

206
00:07:11,349 --> 00:07:16,240
client side I want server side I want

207
00:07:13,419 --> 00:07:17,620
access to<font color="#E5E5E5"> the local network</font><font color="#CCCCCC"> you</font><font color="#E5E5E5"> have to</font>

208
00:07:16,240 --> 00:07:21,210
ask<font color="#E5E5E5"> for the documents library or</font>

209
00:07:17,620 --> 00:07:22,960
specific<font color="#E5E5E5"> application so it's a way of</font>

210
00:07:21,210 --> 00:07:24,849
implementing principle of least

211
00:07:22,960 --> 00:07:27,280
privilege<font color="#E5E5E5"> and we've used this to great</font>

212
00:07:24,849 --> 00:07:30,099
effect<font color="#E5E5E5"> this is the standard method of</font>

213
00:07:27,280 --> 00:07:32,440
isolation for our<font color="#CCCCCC"> uwp or</font><font color="#E5E5E5"> universal</font>

214
00:07:30,099 --> 00:07:33,639
<font color="#CCCCCC">windows app platform</font><font color="#E5E5E5"> so if you look in</font>

215
00:07:32,440 --> 00:07:34,990
the store the vast majority<font color="#CCCCCC"> of those</font>

216
00:07:33,639 --> 00:07:38,409
apps<font color="#E5E5E5"> are constrained by</font><font color="#CCCCCC"> the app</font>

217
00:07:34,990 --> 00:07:40,569
container Microsoft edge being the most

218
00:07:38,409 --> 00:07:41,830
familiar<font color="#E5E5E5"> you WP it actually runs in the</font>

219
00:07:40,569 --> 00:07:44,259
<font color="#E5E5E5">app container</font><font color="#CCCCCC"> it has a set of</font>

220
00:07:41,830 --> 00:07:46,448
<font color="#E5E5E5">capabilities</font><font color="#CCCCCC"> so if you</font><font color="#E5E5E5"> open up process</font>

221
00:07:44,259 --> 00:07:47,979
<font color="#CCCCCC">Explorer or your favorite tool this</font>

222
00:07:46,449 --> 00:07:49,419
internal something you can actually see

223
00:07:47,979 --> 00:07:52,240
what<font color="#E5E5E5"> the capabilities are assigned to</font>

224
00:07:49,419 --> 00:07:55,448
<font color="#E5E5E5">that office protected view also uses the</font>

225
00:07:52,240 --> 00:07:57,250
app container again<font color="#E5E5E5"> for</font><font color="#CCCCCC"> containment so</font>

226
00:07:55,449 --> 00:07:59,289
the goal<font color="#CCCCCC"> of app container is essentially</font>

227
00:07:57,250 --> 00:08:00,819
if an attacker<font color="#E5E5E5"> was to</font><font color="#CCCCCC"> achieve an exploit</font>

228
00:07:59,289 --> 00:08:02,680
<font color="#CCCCCC">a vulnerability from</font><font color="#E5E5E5"> an application</font>

229
00:08:00,819 --> 00:08:04,090
running<font color="#E5E5E5"> in the app container</font><font color="#CCCCCC"> at best</font>

230
00:08:02,680 --> 00:08:05,889
they would be able<font color="#E5E5E5"> to</font><font color="#CCCCCC"> reuse the</font>

231
00:08:04,090 --> 00:08:07,989
capabilities<font color="#CCCCCC"> of the app which hopefully</font>

232
00:08:05,889 --> 00:08:12,219
<font color="#E5E5E5">if the developer has done their job</font>

233
00:08:07,990 --> 00:08:13,840
right<font color="#E5E5E5"> would limit the damage now an</font>

234
00:08:12,219 --> 00:08:15,849
<font color="#E5E5E5">interesting property we've started to</font>

235
00:08:13,840 --> 00:08:17,739
introduce<font color="#E5E5E5"> on top of the app container</font><font color="#CCCCCC"> is</font>

236
00:08:15,849 --> 00:08:20,080
the<font color="#CCCCCC"> ability to restrict the kernel</font>

237
00:08:17,740 --> 00:08:21,610
surface but it's important<font color="#E5E5E5"> to understand</font>

238
00:08:20,080 --> 00:08:24,909
especially<font color="#E5E5E5"> for the rest</font><font color="#CCCCCC"> of this talk</font>

239
00:08:21,610 --> 00:08:27,639
that<font color="#CCCCCC"> the app container</font><font color="#E5E5E5"> on its own simply</font>

240
00:08:24,909 --> 00:08:30,969
restricts<font color="#CCCCCC"> user</font><font color="#E5E5E5"> mode</font><font color="#CCCCCC"> primitives so it</font>

241
00:08:27,639 --> 00:08:33,159
denies access<font color="#E5E5E5"> to namespaces to files to</font>

242
00:08:30,969 --> 00:08:35,409
network<font color="#CCCCCC"> resources</font><font color="#E5E5E5"> it actually leaves the</font>

243
00:08:33,159 --> 00:08:38,439
totality of the kernel in most cases

244
00:08:35,409 --> 00:08:41,380
open<font color="#CCCCCC"> specifically the system call</font>

245
00:08:38,440 --> 00:08:43,839
surface<font color="#E5E5E5"> so even if you're executing code</font>

246
00:08:41,380 --> 00:08:45,130
in an app container<font color="#E5E5E5"> you are restricted</font>

247
00:08:43,839 --> 00:08:46,990
from<font color="#E5E5E5"> maybe accessing files or the</font>

248
00:08:45,130 --> 00:08:48,730
<font color="#E5E5E5">identities or other resources</font><font color="#CCCCCC"> but you</font>

249
00:08:46,990 --> 00:08:51,579
<font color="#E5E5E5">can actually freely make calls to this</font>

250
00:08:48,730 --> 00:08:53,230
<font color="#CCCCCC">2,000 system call attack surface</font><font color="#E5E5E5"> that</font>

251
00:08:51,579 --> 00:08:55,359
leaves a lot of opportunity<font color="#E5E5E5"> there</font>

252
00:08:53,230 --> 00:08:57,670
so one of<font color="#E5E5E5"> the things we've been doing</font>

253
00:08:55,360 --> 00:09:00,130
<font color="#CCCCCC">with app</font><font color="#E5E5E5"> container is continuing to</font>

254
00:08:57,670 --> 00:09:02,709
invest in it<font color="#CCCCCC"> continue to make it smaller</font>

255
00:09:00,130 --> 00:09:04,570
<font color="#E5E5E5">the first iteration of app container was</font>

256
00:09:02,710 --> 00:09:06,520
actually<font color="#CCCCCC"> designed to</font><font color="#E5E5E5"> be</font><font color="#CCCCCC"> broadly used by</font>

257
00:09:04,570 --> 00:09:09,190
applications<font color="#CCCCCC"> and that means that though</font>

258
00:09:06,520 --> 00:09:10,420
<font color="#CCCCCC">is effective sandbox</font><font color="#E5E5E5"> it could it wasn't</font>

259
00:09:09,190 --> 00:09:12,120
as tight as it could be if it were

260
00:09:10,420 --> 00:09:14,589
tailored to a specific application

261
00:09:12,120 --> 00:09:15,970
<font color="#CCCCCC">Microsoft edge being our web browser</font><font color="#E5E5E5"> and</font>

262
00:09:14,590 --> 00:09:18,100
<font color="#E5E5E5">one of the spaces were most concerned</font>

263
00:09:15,970 --> 00:09:19,660
<font color="#CCCCCC">about</font><font color="#E5E5E5"> from a security perspective one</font><font color="#CCCCCC"> of</font>

264
00:09:18,100 --> 00:09:21,340
<font color="#CCCCCC">the</font><font color="#E5E5E5"> things we've done recently over the</font>

265
00:09:19,660 --> 00:09:23,949
<font color="#E5E5E5">last several versions of Windows is</font>

266
00:09:21,340 --> 00:09:25,690
we've created a profile that's even

267
00:09:23,950 --> 00:09:27,220
smaller<font color="#CCCCCC"> than the</font><font color="#E5E5E5"> regular app container</font>

268
00:09:25,690 --> 00:09:29,020
that<font color="#E5E5E5"> we call the least privileged app</font>

269
00:09:27,220 --> 00:09:30,910
container or<font color="#CCCCCC"> the L pack and that's</font>

270
00:09:29,020 --> 00:09:32,980
<font color="#E5E5E5">actually</font><font color="#CCCCCC"> Shrunk the</font><font color="#E5E5E5"> attack</font><font color="#CCCCCC"> surface that</font>

271
00:09:30,910 --> 00:09:35,050
is the<font color="#CCCCCC"> vents out</font><font color="#E5E5E5"> of that sandbox by</font>

272
00:09:32,980 --> 00:09:36,670
<font color="#CCCCCC">ninety percent</font><font color="#E5E5E5"> so it's become an</font>

273
00:09:35,050 --> 00:09:37,660
incredibly effective sandbox and<font color="#E5E5E5"> it's</font>

274
00:09:36,670 --> 00:09:40,089
<font color="#E5E5E5">something that we're continuing</font><font color="#CCCCCC"> to</font>

275
00:09:37,660 --> 00:09:42,670
<font color="#E5E5E5">invest</font><font color="#CCCCCC"> in another thing which I'll talk</font>

276
00:09:40,090 --> 00:09:46,000
about<font color="#E5E5E5"> in</font><font color="#CCCCCC"> a moment</font><font color="#E5E5E5"> is we have started</font><font color="#CCCCCC"> to</font>

277
00:09:42,670 --> 00:09:47,860
refactor Microsoft edge to use less of

278
00:09:46,000 --> 00:09:50,680
that kernel attack surface less of<font color="#CCCCCC"> that</font>

279
00:09:47,860 --> 00:09:53,590
<font color="#CCCCCC">wind 32k attack surface</font><font color="#E5E5E5"> we factored it</font>

280
00:09:50,680 --> 00:09:55,329
<font color="#E5E5E5">off to use a to no longer use a entire</font>

281
00:09:53,590 --> 00:09:58,690
section<font color="#E5E5E5"> of functionality they're called</font>

282
00:09:55,330 --> 00:10:00,700
GDI or the graphics interface and so

283
00:09:58,690 --> 00:10:02,950
that opens up the<font color="#CCCCCC"> opportunity to</font><font color="#E5E5E5"> begin</font>

284
00:10:00,700 --> 00:10:08,440
<font color="#E5E5E5">to restrict attack surface which is that</font>

285
00:10:02,950 --> 00:10:10,450
my<font color="#E5E5E5"> next slide so as a software isolation</font>

286
00:10:08,440 --> 00:10:12,370
has become more<font color="#E5E5E5"> ubiquitous whether</font>

287
00:10:10,450 --> 00:10:14,830
that's the software isolation from<font color="#E5E5E5"> third</font>

288
00:10:12,370 --> 00:10:16,630
parties like Adobe or Google Chrome who

289
00:10:14,830 --> 00:10:19,660
have restricted token<font color="#E5E5E5"> and app container</font>

290
00:10:16,630 --> 00:10:21,160
<font color="#E5E5E5">sandboxes or the</font><font color="#CCCCCC"> uwp surface attackers</font>

291
00:10:19,660 --> 00:10:23,260
have responded<font color="#E5E5E5"> they didn't just give up</font>

292
00:10:21,160 --> 00:10:25,060
saying<font color="#E5E5E5"> I'm okay</font><font color="#CCCCCC"> with being</font><font color="#E5E5E5"> constrained</font>

293
00:10:23,260 --> 00:10:26,500
within<font color="#E5E5E5"> the app container instead they</font>

294
00:10:25,060 --> 00:10:29,739
pivoted<font color="#E5E5E5"> toward this kernel attack</font>

295
00:10:26,500 --> 00:10:32,620
surface<font color="#E5E5E5"> and they settled on a new TTP or</font>

296
00:10:29,740 --> 00:10:34,570
tactic of combining<font color="#E5E5E5"> a remote code</font>

297
00:10:32,620 --> 00:10:36,850
execution vulnerability<font color="#E5E5E5"> with the kernel</font>

298
00:10:34,570 --> 00:10:38,560
exploit and as I said<font color="#CCCCCC"> before</font><font color="#E5E5E5"> there's</font>

299
00:10:36,850 --> 00:10:40,450
plenty opportunity there because in the

300
00:10:38,560 --> 00:10:43,119
average case for an app container you've

301
00:10:40,450 --> 00:10:45,870
got<font color="#CCCCCC"> 2,000 system calls many of which</font>

302
00:10:43,120 --> 00:10:48,130
were written 20 to 30 years ago<font color="#E5E5E5"> as a</font>

303
00:10:45,870 --> 00:10:50,680
potential attack surface and<font color="#E5E5E5"> method for</font>

304
00:10:48,130 --> 00:10:54,370
finding escaped<font color="#E5E5E5"> and so what you see on</font>

305
00:10:50,680 --> 00:10:55,870
this graph<font color="#E5E5E5"> over here is the instances of</font>

306
00:10:54,370 --> 00:10:58,420
<font color="#E5E5E5">kernel exploits that Microsoft's</font>

307
00:10:55,870 --> 00:11:00,670
observed in a wild the vast majorities

308
00:10:58,420 --> 00:11:02,410
<font color="#CCCCCC">have been tied and used as sandbox</font>

309
00:11:00,670 --> 00:11:05,560
escapes<font color="#E5E5E5"> and so you see this almost</font>

310
00:11:02,410 --> 00:11:06,610
linear increase<font color="#E5E5E5"> around the early 2010's</font>

311
00:11:05,560 --> 00:11:08,829
where

312
00:11:06,610 --> 00:11:10,930
boxes are becoming ubiquitous<font color="#CCCCCC"> you see a</font>

313
00:11:08,829 --> 00:11:12,189
growth in<font color="#CCCCCC"> Colonel</font><font color="#E5E5E5"> because now attackers</font>

314
00:11:10,930 --> 00:11:14,229
are saying if I want to continue attack

315
00:11:12,190 --> 00:11:17,200
off is following<font color="#E5E5E5"> at</font><font color="#CCCCCC"> SAC</font><font color="#E5E5E5"> khromov own</font>

316
00:11:14,230 --> 00:11:19,029
attack<font color="#CCCCCC"> Internet Explorer</font><font color="#E5E5E5"> or</font><font color="#CCCCCC"> edge</font><font color="#E5E5E5"> I've</font>

317
00:11:17,200 --> 00:11:23,529
got to<font color="#CCCCCC"> combine that with a sandbox</font>

318
00:11:19,029 --> 00:11:25,180
escape now<font color="#CCCCCC"> the other interesting if</font>

319
00:11:23,529 --> 00:11:27,040
<font color="#CCCCCC">Colonel just</font><font color="#E5E5E5"> as a quick</font><font color="#CCCCCC"> note is it's</font>

320
00:11:25,180 --> 00:11:28,449
also a<font color="#CCCCCC"> target-rich surface so if you get</font>

321
00:11:27,040 --> 00:11:30,519
one<font color="#CCCCCC"> of</font><font color="#E5E5E5"> those read/write primitives that</font>

322
00:11:28,450 --> 00:11:31,959
<font color="#E5E5E5">I discussed previously there's a lot of</font>

323
00:11:30,519 --> 00:11:33,820
things that<font color="#E5E5E5"> you can manipulate from a</font>

324
00:11:31,959 --> 00:11:35,739
data standpoint you can copy credentials

325
00:11:33,820 --> 00:11:37,300
<font color="#E5E5E5">you can turn off policies you can do all</font>

326
00:11:35,740 --> 00:11:43,570
sorts<font color="#CCCCCC"> of</font><font color="#E5E5E5"> things so it's a very tough</font>

327
00:11:37,300 --> 00:11:46,290
surface to secure<font color="#CCCCCC"> so the the</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> one</font><font color="#E5E5E5"> of</font>

328
00:11:43,570 --> 00:11:48,310
the<font color="#CCCCCC"> challenges our approaches to</font>

329
00:11:46,290 --> 00:11:50,709
restricting this kernel attack surface

330
00:11:48,310 --> 00:11:52,569
that we've seen as an augmentation<font color="#CCCCCC"> to</font>

331
00:11:50,709 --> 00:11:54,640
user mode sandboxes is something called

332
00:11:52,570 --> 00:11:57,519
kernel filtering the concept behind

333
00:11:54,640 --> 00:11:59,649
kernel filtering is<font color="#CCCCCC"> Wow so by default</font>

334
00:11:57,519 --> 00:12:01,269
<font color="#CCCCCC">I've got this really</font><font color="#E5E5E5"> large</font><font color="#CCCCCC"> 2000</font><font color="#E5E5E5"> plus</font>

335
00:11:59,649 --> 00:12:03,160
kernel attack surface<font color="#E5E5E5"> I'd obviously like</font>

336
00:12:01,269 --> 00:12:06,760
<font color="#CCCCCC">to shrink that since that's a vent</font><font color="#E5E5E5"> out</font>

337
00:12:03,160 --> 00:12:09,069
of the isolation surface so platforms

338
00:12:06,760 --> 00:12:10,660
like Linux have filter very advanced

339
00:12:09,070 --> 00:12:12,550
filtering systems in<font color="#CCCCCC"> particular on</font><font color="#E5E5E5"> Linux</font>

340
00:12:10,660 --> 00:12:15,339
something called set comp<font color="#E5E5E5"> BPF where you</font>

341
00:12:12,550 --> 00:12:17,829
can<font color="#E5E5E5"> write essentially expressions to</font>

342
00:12:15,339 --> 00:12:19,899
filter the kernel attack surface so in

343
00:12:17,829 --> 00:12:21,699
some cases<font color="#E5E5E5"> we've seen people look at</font>

344
00:12:19,899 --> 00:12:24,190
<font color="#CCCCCC">windows or recommend that for windows</font>

345
00:12:21,699 --> 00:12:25,329
thinking it's very<font color="#E5E5E5"> similar to</font><font color="#CCCCCC"> linux</font><font color="#E5E5E5"> now</font>

346
00:12:24,190 --> 00:12:27,699
one of the<font color="#E5E5E5"> reasons Windows has a</font>

347
00:12:25,329 --> 00:12:29,800
challenge adopting that<font color="#E5E5E5"> is one we don't</font>

348
00:12:27,699 --> 00:12:31,890
<font color="#E5E5E5">document</font><font color="#CCCCCC"> our kernel interfaces in fact</font>

349
00:12:29,800 --> 00:12:35,500
that's a big part<font color="#E5E5E5"> of our</font><font color="#CCCCCC"> development</font>

350
00:12:31,890 --> 00:12:37,240
<font color="#E5E5E5">foundation</font><font color="#CCCCCC"> is by not</font><font color="#E5E5E5"> documenting those</font>

351
00:12:35,500 --> 00:12:39,190
native surfaces we can change them over

352
00:12:37,240 --> 00:12:41,560
<font color="#E5E5E5">time and</font><font color="#CCCCCC"> continue to improve them the</font>

353
00:12:39,190 --> 00:12:42,699
basis or<font color="#E5E5E5"> the contract or the API that</font>

354
00:12:41,560 --> 00:12:45,099
people interact<font color="#E5E5E5"> that the kernel is</font>

355
00:12:42,699 --> 00:12:47,769
actually a user mode<font color="#CCCCCC"> API so trying to</font>

356
00:12:45,100 --> 00:12:49,390
create essentially a clone of<font color="#CCCCCC"> this kind</font>

357
00:12:47,769 --> 00:12:50,709
<font color="#E5E5E5">of filtering language that exists on</font>

358
00:12:49,390 --> 00:12:52,630
<font color="#E5E5E5">Linux on Windows would almost be</font>

359
00:12:50,709 --> 00:12:54,459
<font color="#CCCCCC">intractable in fact we'd hardly have to</font>

360
00:12:52,630 --> 00:12:56,920
refactor a large part of<font color="#E5E5E5"> the</font><font color="#CCCCCC"> kernel so</font>

361
00:12:54,459 --> 00:12:59,290
<font color="#CCCCCC">that is sort of an issue with creating</font>

362
00:12:56,920 --> 00:13:01,209
<font color="#CCCCCC">that so instead what we've</font><font color="#E5E5E5"> done is we've</font>

363
00:12:59,290 --> 00:13:03,219
created<font color="#CCCCCC"> smaller less configurable</font>

364
00:13:01,209 --> 00:13:05,920
filters<font color="#E5E5E5"> for specific surfaces so I</font>

365
00:13:03,220 --> 00:13:09,130
<font color="#E5E5E5">mentioned</font><font color="#CCCCCC"> previously that win32 K and</font>

366
00:13:05,920 --> 00:13:12,099
<font color="#E5E5E5">that kernel surface has been rapidly</font>

367
00:13:09,130 --> 00:13:14,529
attacked<font color="#E5E5E5"> in many cases and so we wanted</font>

368
00:13:12,100 --> 00:13:16,270
to<font color="#E5E5E5"> restrict that surface</font><font color="#CCCCCC"> and so we built</font>

369
00:13:14,529 --> 00:13:18,040
in what I<font color="#E5E5E5"> would call static filters</font><font color="#CCCCCC"> into</font>

370
00:13:16,270 --> 00:13:19,480
<font color="#E5E5E5">win32</font><font color="#CCCCCC"> k</font><font color="#E5E5E5"> but there aren't quite as</font>

371
00:13:18,040 --> 00:13:20,110
<font color="#CCCCCC">flexible as we like for some</font><font color="#E5E5E5"> of the</font>

372
00:13:19,480 --> 00:13:22,089
<font color="#E5E5E5">reasons I</font><font color="#CCCCCC"> just</font>

373
00:13:20,110 --> 00:13:23,920
<font color="#CCCCCC">right previously and so in general</font>

374
00:13:22,089 --> 00:13:26,320
<font color="#CCCCCC">although we're really interested in</font>

375
00:13:23,920 --> 00:13:28,870
kernel containment<font color="#E5E5E5"> software approaches</font>

376
00:13:26,320 --> 00:13:31,000
on their own have some limitations<font color="#CCCCCC"> we're</font>

377
00:13:28,870 --> 00:13:33,190
<font color="#CCCCCC">continuing to invest there but there is</font>

378
00:13:31,000 --> 00:13:37,540
essentially a limit to the amount<font color="#E5E5E5"> of tax</font>

379
00:13:33,190 --> 00:13:39,459
reform<font color="#CCCCCC"> restrict</font><font color="#E5E5E5"> so a long term if we're</font>

380
00:13:37,540 --> 00:13:41,230
<font color="#CCCCCC">looking</font><font color="#E5E5E5"> at containment</font><font color="#CCCCCC"> there are other</font>

381
00:13:39,459 --> 00:13:44,079
<font color="#E5E5E5">technologies that we can should consider</font>

382
00:13:41,230 --> 00:13:46,480
in<font color="#E5E5E5"> addition to software filtering so</font>

383
00:13:44,079 --> 00:13:49,000
<font color="#E5E5E5">arguably the gold standard when you're</font>

384
00:13:46,480 --> 00:13:51,850
talking<font color="#E5E5E5"> about kernel isolation or kernel</font>

385
00:13:49,000 --> 00:13:53,860
containment is virtualization<font color="#CCCCCC"> right</font><font color="#E5E5E5"> we</font>

386
00:13:51,850 --> 00:13:55,329
bet an entire cloud business<font color="#E5E5E5"> and there</font>

387
00:13:53,860 --> 00:13:57,279
are multiple<font color="#CCCCCC"> clouds on the strength of</font>

388
00:13:55,329 --> 00:13:59,050
<font color="#E5E5E5">the hypervisor and its</font><font color="#CCCCCC"> ability to</font>

389
00:13:57,279 --> 00:14:01,510
<font color="#E5E5E5">deliver</font><font color="#CCCCCC"> multi tenant security so it's</font>

390
00:13:59,050 --> 00:14:04,359
critical so<font color="#E5E5E5"> we know it's strong in fact</font>

391
00:14:01,510 --> 00:14:07,180
a<font color="#E5E5E5"> little plug here Microsoft offers up</font>

392
00:14:04,360 --> 00:14:09,040
<font color="#CCCCCC">to $250,000 for a hyper-v escape and our</font>

393
00:14:07,180 --> 00:14:12,640
bounty<font color="#E5E5E5"> so as to tell you a little</font><font color="#CCCCCC"> bit</font>

394
00:14:09,040 --> 00:14:14,349
<font color="#E5E5E5">about how important we think it is</font><font color="#CCCCCC"> if in</font>

395
00:14:12,640 --> 00:14:16,689
certain implementations on the desktop

396
00:14:14,350 --> 00:14:19,089
<font color="#CCCCCC">two</font><font color="#E5E5E5"> examples I called out here are the</font>

397
00:14:16,690 --> 00:14:21,190
privileged access workstation<font color="#CCCCCC"> and the</font>

398
00:14:19,089 --> 00:14:22,720
cubes OS which is<font color="#E5E5E5"> on top of Linux have</font>

399
00:14:21,190 --> 00:14:25,180
actually<font color="#E5E5E5"> been able to take advantage</font><font color="#CCCCCC"> of</font>

400
00:14:22,720 --> 00:14:27,490
<font color="#E5E5E5">virtualization to compose user mode</font>

401
00:14:25,180 --> 00:14:30,189
isolation<font color="#E5E5E5"> in the case of the privileged</font>

402
00:14:27,490 --> 00:14:32,410
access workstation concept here is you

403
00:14:30,190 --> 00:14:34,390
<font color="#E5E5E5">don't ever compute in the host</font><font color="#CCCCCC"> you</font>

404
00:14:32,410 --> 00:14:36,579
create VMs that are affinities to

405
00:14:34,390 --> 00:14:38,680
scenarios for example development

406
00:14:36,579 --> 00:14:40,719
scenarios corporate<font color="#CCCCCC"> email scenarios</font>

407
00:14:38,680 --> 00:14:44,229
personal web browsing<font color="#E5E5E5"> and you use that</font>

408
00:14:40,720 --> 00:14:44,860
<font color="#E5E5E5">virtualization boundary as a method for</font>

409
00:14:44,230 --> 00:14:47,410
containment

410
00:14:44,860 --> 00:14:48,970
so that has<font color="#E5E5E5"> obviously a lot</font><font color="#CCCCCC"> of security</font>

411
00:14:47,410 --> 00:14:51,279
strengths and<font color="#E5E5E5"> is very positive</font><font color="#CCCCCC"> for a</font>

412
00:14:48,970 --> 00:14:54,070
security perspective<font color="#E5E5E5"> but</font><font color="#CCCCCC"> I don't know if</font>

413
00:14:51,279 --> 00:14:56,019
you'd<font color="#CCCCCC"> want to</font><font color="#E5E5E5"> hand grandma or grandpa</font><font color="#CCCCCC"> a</font>

414
00:14:54,070 --> 00:14:58,449
privileged access workstation with

415
00:14:56,019 --> 00:15:00,250
multiple VMs<font color="#CCCCCC"> and say go</font><font color="#E5E5E5"> to town and</font><font color="#CCCCCC"> do</font>

416
00:14:58,449 --> 00:15:01,899
your<font color="#CCCCCC"> normal thing so it's appropriate</font>

417
00:15:00,250 --> 00:15:03,670
<font color="#E5E5E5">for high security environments</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> it's</font>

418
00:15:01,899 --> 00:15:05,410
a place we continue to invest<font color="#E5E5E5"> but it</font>

419
00:15:03,670 --> 00:15:07,569
doesn't<font color="#E5E5E5"> quite meet the muster of a</font>

420
00:15:05,410 --> 00:15:09,250
generalized<font color="#E5E5E5"> isolation platform that</font>

421
00:15:07,570 --> 00:15:11,320
contains kernel which<font color="#E5E5E5"> is what we're</font>

422
00:15:09,250 --> 00:15:14,170
looking<font color="#CCCCCC"> for it's also expensive</font><font color="#E5E5E5"> to</font>

423
00:15:11,320 --> 00:15:18,730
configure and<font color="#CCCCCC"> also</font><font color="#E5E5E5"> as Hardware</font><font color="#CCCCCC"> intensive</font>

424
00:15:14,170 --> 00:15:21,209
so looking at the<font color="#E5E5E5"> the challenges we had</font>

425
00:15:18,730 --> 00:15:23,290
<font color="#E5E5E5">either moving to a pure virtualization</font>

426
00:15:21,209 --> 00:15:25,329
<font color="#E5E5E5">environment for a kernel containment or</font>

427
00:15:23,290 --> 00:15:28,029
software filtering we thought there

428
00:15:25,329 --> 00:15:32,349
might be<font color="#E5E5E5"> a better way and that way</font>

429
00:15:28,029 --> 00:15:34,000
caused us to look at containers so as

430
00:15:32,350 --> 00:15:35,650
with all things Microsoft<font color="#E5E5E5"> we don't</font>

431
00:15:34,000 --> 00:15:38,710
have one container technology<font color="#E5E5E5"> we have</font>

432
00:15:35,650 --> 00:15:40,449
for<font color="#E5E5E5"> a</font><font color="#CCCCCC"> promisee we need them all</font><font color="#E5E5E5"> and</font>

433
00:15:38,710 --> 00:15:43,090
they're very<font color="#E5E5E5"> useful in a bunch of cases</font>

434
00:15:40,450 --> 00:15:45,400
but the the meta reason for<font color="#CCCCCC"> looking at</font>

435
00:15:43,090 --> 00:15:48,250
containers is<font color="#E5E5E5"> if you pick the right</font>

436
00:15:45,400 --> 00:15:50,620
technology<font color="#E5E5E5"> it offers all the strengths</font>

437
00:15:48,250 --> 00:15:52,240
<font color="#E5E5E5">of a full VM and virtualization</font><font color="#CCCCCC"> which</font>

438
00:15:50,620 --> 00:15:53,920
none of<font color="#E5E5E5"> the resource hogging and the</font>

439
00:15:52,240 --> 00:15:55,270
ability to<font color="#E5E5E5"> enlightened it so I'll</font>

440
00:15:53,920 --> 00:15:56,560
<font color="#E5E5E5">quickly run</font><font color="#CCCCCC"> through the different types</font>

441
00:15:55,270 --> 00:15:58,600
of<font color="#CCCCCC"> containers we have and how we</font>

442
00:15:56,560 --> 00:16:00,459
selected it so the most<font color="#E5E5E5"> lightweight</font>

443
00:15:58,600 --> 00:16:02,140
container we have which<font color="#CCCCCC"> is awesome from</font>

444
00:16:00,460 --> 00:16:04,210
a resource<font color="#CCCCCC"> perspective is what we call a</font>

445
00:16:02,140 --> 00:16:06,819
helium container this<font color="#E5E5E5"> is what we use for</font>

446
00:16:04,210 --> 00:16:10,150
<font color="#E5E5E5">things like Centennial apps this offer</font>

447
00:16:06,820 --> 00:16:12,280
is actually no security<font color="#E5E5E5"> value</font><font color="#CCCCCC"> it simply</font>

448
00:16:10,150 --> 00:16:13,750
file and registry filtering that makes

449
00:16:12,280 --> 00:16:15,550
virtualization work here<font color="#E5E5E5"> and is mostly</font>

450
00:16:13,750 --> 00:16:17,470
used for abstracting storage and<font color="#E5E5E5"> other</font>

451
00:16:15,550 --> 00:16:18,790
system resources<font color="#E5E5E5"> so although it's</font>

452
00:16:17,470 --> 00:16:20,710
lightweight and<font color="#E5E5E5"> attractive from that</font>

453
00:16:18,790 --> 00:16:22,240
perspective<font color="#CCCCCC"> obviously it's</font><font color="#E5E5E5"> not going to</font>

454
00:16:20,710 --> 00:16:24,850
call<font color="#CCCCCC"> a solve</font><font color="#E5E5E5"> our kernel containment</font>

455
00:16:22,240 --> 00:16:27,100
problem<font color="#E5E5E5"> the second container technology</font>

456
00:16:24,850 --> 00:16:31,690
<font color="#E5E5E5">we have which is most closely related to</font>

457
00:16:27,100 --> 00:16:33,760
<font color="#CCCCCC">something like a a true rooted jail on</font>

458
00:16:31,690 --> 00:16:35,830
<font color="#E5E5E5">Linux or a docker style container is</font>

459
00:16:33,760 --> 00:16:38,200
what we call<font color="#E5E5E5"> argon and argon actually</font>

460
00:16:35,830 --> 00:16:39,820
spins up an entire step<font color="#CCCCCC"> for copy of the</font>

461
00:16:38,200 --> 00:16:41,470
<font color="#E5E5E5">user session and it uses the session</font>

462
00:16:39,820 --> 00:16:43,150
boundary<font color="#E5E5E5"> so if you're familiar with</font>

463
00:16:41,470 --> 00:16:44,740
<font color="#CCCCCC">multi-user scenarios and windows</font><font color="#E5E5E5"> it's</font>

464
00:16:43,150 --> 00:16:47,199
something similar<font color="#CCCCCC"> to</font><font color="#E5E5E5"> that so it does</font>

465
00:16:44,740 --> 00:16:48,700
provide<font color="#E5E5E5"> user mode security but again</font>

466
00:16:47,200 --> 00:16:50,410
there's a shared kernel there so it's

467
00:16:48,700 --> 00:16:52,270
<font color="#E5E5E5">not going to solve this problem of</font>

468
00:16:50,410 --> 00:16:54,520
eliminating the possibility<font color="#CCCCCC"> of</font>

469
00:16:52,270 --> 00:16:56,920
containment<font color="#E5E5E5"> violation through kernel</font>

470
00:16:54,520 --> 00:16:58,810
exploits the second two technologies are

471
00:16:56,920 --> 00:17:01,180
much closer<font color="#CCCCCC"> they're actually lightweight</font>

472
00:16:58,810 --> 00:17:03,609
virtual<font color="#E5E5E5"> hypervisor based virtualization</font>

473
00:17:01,180 --> 00:17:05,619
technologies where resource sharing

474
00:17:03,610 --> 00:17:07,780
between<font color="#CCCCCC"> the hosts is maximized so you</font>

475
00:17:05,619 --> 00:17:10,119
don't have<font color="#E5E5E5"> the full cost of a VM that</font>

476
00:17:07,780 --> 00:17:11,829
<font color="#E5E5E5">has to have physically back memory and</font>

477
00:17:10,119 --> 00:17:14,229
as opaque<font color="#E5E5E5"> to</font><font color="#CCCCCC"> the operating</font><font color="#E5E5E5"> system</font><font color="#CCCCCC"> so</font>

478
00:17:11,829 --> 00:17:16,869
<font color="#CCCCCC">it's a</font><font color="#E5E5E5"> good</font><font color="#CCCCCC"> balance between resource</font>

479
00:17:14,230 --> 00:17:18,780
consumption and security and so when we

480
00:17:16,869 --> 00:17:22,780
look closely at these<font color="#E5E5E5"> we selected</font>

481
00:17:18,780 --> 00:17:26,560
<font color="#E5E5E5">Krypton technology as our container</font>

482
00:17:22,780 --> 00:17:28,060
<font color="#E5E5E5">approach for application guard so let's</font>

483
00:17:26,560 --> 00:17:30,250
talk<font color="#CCCCCC"> about what Krypton container</font>

484
00:17:28,060 --> 00:17:32,230
technology<font color="#CCCCCC"> is and how it affords us some</font>

485
00:17:30,250 --> 00:17:33,760
very<font color="#E5E5E5"> valuable things the first most</font>

486
00:17:32,230 --> 00:17:35,590
interesting technology from my

487
00:17:33,760 --> 00:17:37,570
standpoint in fact when I first<font color="#CCCCCC"> learned</font>

488
00:17:35,590 --> 00:17:39,909
<font color="#CCCCCC">about this I was</font><font color="#E5E5E5"> totally amazed is what</font>

489
00:17:37,570 --> 00:17:42,159
we call direct map and what<font color="#CCCCCC"> Direct that</font>

490
00:17:39,910 --> 00:17:44,650
essentially means is rather<font color="#E5E5E5"> than</font>

491
00:17:42,160 --> 00:17:46,910
creating a VM with a separate<font color="#CCCCCC"> VHD or</font>

492
00:17:44,650 --> 00:17:49,820
disk or<font color="#E5E5E5"> VM DX if you use VM</font>

493
00:17:46,910 --> 00:17:53,390
where we actually repurpose all the host

494
00:17:49,820 --> 00:17:55,939
binaries to compose a essentially a VM

495
00:17:53,390 --> 00:17:58,220
image on the fly<font color="#CCCCCC"> so for</font><font color="#E5E5E5"> example if the</font>

496
00:17:55,940 --> 00:18:01,100
child binary<font color="#E5E5E5"> if the child VM needs a</font>

497
00:17:58,220 --> 00:18:02,450
copy of kernel32 it attempts to load it

498
00:18:01,100 --> 00:18:04,879
from<font color="#E5E5E5"> a virtualized version of the</font>

499
00:18:02,450 --> 00:18:07,280
operating<font color="#E5E5E5"> system</font><font color="#CCCCCC"> it talks to its kernel</font>

500
00:18:04,880 --> 00:18:08,960
in the guest<font color="#E5E5E5"> that kernel and the guest</font>

501
00:18:07,280 --> 00:18:11,210
passed through to<font color="#E5E5E5"> the host the host</font><font color="#CCCCCC"> says</font>

502
00:18:08,960 --> 00:18:15,410
<font color="#E5E5E5">I already have a version of kernel 32</font>

503
00:18:11,210 --> 00:18:17,450
and it<font color="#E5E5E5"> Maps it into the VM because of</font>

504
00:18:15,410 --> 00:18:20,300
that<font color="#E5E5E5"> we don't actually need to</font><font color="#CCCCCC"> package</font>

505
00:18:17,450 --> 00:18:22,880
up a full operating<font color="#E5E5E5"> system in the VM</font>

506
00:18:20,300 --> 00:18:24,830
that<font color="#E5E5E5"> we use for application</font><font color="#CCCCCC"> guard so for</font>

507
00:18:22,880 --> 00:18:27,920
<font color="#E5E5E5">example application guard fully runs</font>

508
00:18:24,830 --> 00:18:29,870
Edge has 20 to 30 services running<font color="#E5E5E5"> can</font>

509
00:18:27,920 --> 00:18:33,590
launch notepad all of those things the

510
00:18:29,870 --> 00:18:35,629
size of the application guard<font color="#E5E5E5"> VM is 18</font>

511
00:18:33,590 --> 00:18:37,189
<font color="#E5E5E5">megabytes that's the only thing that's</font>

512
00:18:35,630 --> 00:18:38,570
unique<font color="#CCCCCC"> to this VM</font><font color="#E5E5E5"> the rest of it is</font>

513
00:18:37,190 --> 00:18:41,210
completely<font color="#E5E5E5"> shared with the host and</font>

514
00:18:38,570 --> 00:18:44,560
that's thanked<font color="#CCCCCC"> to direct map giving the</font>

515
00:18:41,210 --> 00:18:46,790
ability<font color="#CCCCCC"> to share both data and image</font>

516
00:18:44,560 --> 00:18:49,280
<font color="#CCCCCC">between the</font><font color="#E5E5E5"> guest and</font><font color="#CCCCCC"> the host and that</font>

517
00:18:46,790 --> 00:18:51,320
<font color="#E5E5E5">is really really an exciting technology</font>

518
00:18:49,280 --> 00:18:53,000
that's made this possible<font color="#CCCCCC"> it also keeps</font>

519
00:18:51,320 --> 00:18:54,980
down the working set and physical memory

520
00:18:53,000 --> 00:18:57,620
requirements of a VM<font color="#E5E5E5"> so it makes it</font>

521
00:18:54,980 --> 00:18:59,360
<font color="#CCCCCC">really possible</font><font color="#E5E5E5"> to spin up not just</font><font color="#CCCCCC"> one</font>

522
00:18:57,620 --> 00:19:03,649
VM quickly but multiple VMs in the

523
00:18:59,360 --> 00:19:05,929
future<font color="#CCCCCC"> likewise there's been a lot</font><font color="#E5E5E5"> of</font>

524
00:19:03,650 --> 00:19:08,630
memory enlightenment by the<font color="#CCCCCC"> wizards in</font>

525
00:19:05,930 --> 00:19:10,550
our hypervisor and<font color="#E5E5E5"> base container and</font>

526
00:19:08,630 --> 00:19:13,250
kernel teams<font color="#E5E5E5"> who have made it possible</font>

527
00:19:10,550 --> 00:19:16,669
to<font color="#CCCCCC"> use</font><font color="#E5E5E5"> what's called virtual address</font><font color="#CCCCCC"> or</font>

528
00:19:13,250 --> 00:19:19,340
<font color="#CCCCCC">V a back VMs</font><font color="#E5E5E5"> rather than physically back</font>

529
00:19:16,670 --> 00:19:20,750
VMs<font color="#E5E5E5"> in the old</font><font color="#CCCCCC"> vm technology you would</font>

530
00:19:19,340 --> 00:19:22,820
<font color="#CCCCCC">have to say something like here's 4</font>

531
00:19:20,750 --> 00:19:24,380
gigabytes of<font color="#CCCCCC"> ram for that vm and no</font>

532
00:19:22,820 --> 00:19:27,350
<font color="#E5E5E5">matter what was</font><font color="#CCCCCC"> happening inside</font><font color="#E5E5E5"> of that</font>

533
00:19:24,380 --> 00:19:29,810
virtualized guest<font color="#E5E5E5"> you had</font><font color="#CCCCCC"> 4 gigabytes</font><font color="#E5E5E5"> in</font>

534
00:19:27,350 --> 00:19:33,340
the<font color="#CCCCCC"> Krypton world we now are able to</font>

535
00:19:29,810 --> 00:19:35,810
dynamically allocate<font color="#E5E5E5"> collect and manage</font>

536
00:19:33,340 --> 00:19:38,300
<font color="#E5E5E5">virtual address space for</font><font color="#CCCCCC"> a guest</font><font color="#E5E5E5"> VM</font>

537
00:19:35,810 --> 00:19:40,760
<font color="#CCCCCC">just like it was another process in fact</font>

538
00:19:38,300 --> 00:19:43,159
I would<font color="#E5E5E5"> go as</font><font color="#CCCCCC"> far as to say that</font><font color="#E5E5E5"> we've</font>

539
00:19:40,760 --> 00:19:45,740
created<font color="#CCCCCC"> another unit</font><font color="#E5E5E5"> of execution</font>

540
00:19:43,160 --> 00:19:48,350
similar a<font color="#E5E5E5"> processor job object where</font><font color="#CCCCCC"> the</font>

541
00:19:45,740 --> 00:19:51,280
NT kernel<font color="#E5E5E5"> simply looks at this thing as</font>

542
00:19:48,350 --> 00:19:53,360
something<font color="#CCCCCC"> it can manage</font><font color="#E5E5E5"> from a QoS or</font>

543
00:19:51,280 --> 00:19:55,490
suspension<font color="#E5E5E5"> and resource management</font>

544
00:19:53,360 --> 00:19:57,139
perspective<font color="#E5E5E5"> and that's really important</font>

545
00:19:55,490 --> 00:19:58,880
<font color="#CCCCCC">because</font><font color="#E5E5E5"> our goal here ventually is to</font>

546
00:19:57,140 --> 00:20:00,670
get kernel containment on every process

547
00:19:58,880 --> 00:20:02,050
<font color="#E5E5E5">so it's absolutely</font><font color="#CCCCCC"> critical</font>

548
00:20:00,670 --> 00:20:03,070
we did<font color="#E5E5E5"> this plumbing and enlightenment</font>

549
00:20:02,050 --> 00:20:05,680
work to make that as<font color="#CCCCCC"> lightweight</font>

550
00:20:03,070 --> 00:20:07,030
<font color="#CCCCCC">possible and the final exciting</font>

551
00:20:05,680 --> 00:20:09,070
technology that you can see in the

552
00:20:07,030 --> 00:20:10,810
latest versions of<font color="#CCCCCC"> Windows insider</font>

553
00:20:09,070 --> 00:20:12,909
preview<font color="#E5E5E5"> is what we call the integrated</font>

554
00:20:10,810 --> 00:20:14,889
scheduler<font color="#E5E5E5"> what that means is that the</font>

555
00:20:12,910 --> 00:20:16,780
guest itself<font color="#E5E5E5"> thinks it's talking to its</font>

556
00:20:14,890 --> 00:20:19,120
own<font color="#CCCCCC"> kernel</font><font color="#E5E5E5"> but it's actually talking</font><font color="#CCCCCC"> to</font>

557
00:20:16,780 --> 00:20:21,040
<font color="#E5E5E5">software implemented virtual CPUs</font><font color="#CCCCCC"> that</font>

558
00:20:19,120 --> 00:20:23,260
then pass through to the<font color="#CCCCCC"> hosts current</font><font color="#E5E5E5"> a</font>

559
00:20:21,040 --> 00:20:25,270
scheduler<font color="#CCCCCC"> so that's really cool because</font>

560
00:20:23,260 --> 00:20:27,400
it means<font color="#CCCCCC"> that processes running</font><font color="#E5E5E5"> in the</font>

561
00:20:25,270 --> 00:20:29,590
<font color="#E5E5E5">VMS threads running in the VMS they can</font>

562
00:20:27,400 --> 00:20:31,150
be<font color="#E5E5E5"> suspended if you're not using the VM</font>

563
00:20:29,590 --> 00:20:33,760
it can be back<font color="#E5E5E5"> rounded so that's going</font>

564
00:20:31,150 --> 00:20:35,590
<font color="#E5E5E5">to save on battery life on resource</font>

565
00:20:33,760 --> 00:20:36,850
consumption on CPU which generates<font color="#E5E5E5"> heat</font>

566
00:20:35,590 --> 00:20:40,179
and battery drain and<font color="#E5E5E5"> all that great</font>

567
00:20:36,850 --> 00:20:41,949
<font color="#E5E5E5">stuff</font><font color="#CCCCCC"> so the</font><font color="#E5E5E5"> VM</font><font color="#CCCCCC"> - the host kernel</font>

568
00:20:40,180 --> 00:20:44,200
<font color="#E5E5E5">eventually just looks like another</font>

569
00:20:41,950 --> 00:20:46,120
process and it<font color="#E5E5E5"> could be managed that way</font>

570
00:20:44,200 --> 00:20:48,360
and so there's a lot of<font color="#CCCCCC"> technical jargon</font>

571
00:20:46,120 --> 00:20:51,489
<font color="#E5E5E5">that's thrown there but the net-net is</font>

572
00:20:48,360 --> 00:20:53,590
essentially<font color="#CCCCCC"> VMs at the windows level now</font>

573
00:20:51,490 --> 00:20:55,210
look a lot like processes and that's

574
00:20:53,590 --> 00:20:58,689
incredible<font color="#CCCCCC"> because that sets us up to</font>

575
00:20:55,210 --> 00:21:00,640
<font color="#E5E5E5">build</font><font color="#CCCCCC"> applications that</font><font color="#E5E5E5"> are essentially</font>

576
00:20:58,690 --> 00:21:04,060
based<font color="#E5E5E5"> on</font><font color="#CCCCCC"> VMs as a primary containment</font>

577
00:21:00,640 --> 00:21:07,090
technology so where we stand<font color="#E5E5E5"> today is we</font>

578
00:21:04,060 --> 00:21:09,220
<font color="#E5E5E5">have to containment technology one that</font>

579
00:21:07,090 --> 00:21:11,980
<font color="#CCCCCC">requires used for hardware and</font><font color="#E5E5E5"> today is</font>

580
00:21:09,220 --> 00:21:13,990
is mostly<font color="#E5E5E5"> used by enterprise users and</font>

581
00:21:11,980 --> 00:21:16,060
another awesome sandbox that has both

582
00:21:13,990 --> 00:21:19,000
software kernel isolation as well as

583
00:21:16,060 --> 00:21:20,409
user mode isolation<font color="#E5E5E5"> in edge and those</font>

584
00:21:19,000 --> 00:21:22,990
are<font color="#CCCCCC"> actually combined when you turn on</font>

585
00:21:20,410 --> 00:21:25,750
application guard<font color="#E5E5E5"> so you</font><font color="#CCCCCC"> there's</font><font color="#E5E5E5"> a lot</font>

586
00:21:22,990 --> 00:21:27,160
of jokes<font color="#E5E5E5"> about dual</font><font color="#CCCCCC"> AVS and those other</font>

587
00:21:25,750 --> 00:21:28,750
things<font color="#E5E5E5"> but when you're actually running</font>

588
00:21:27,160 --> 00:21:32,350
edge and application guard you have<font color="#E5E5E5"> both</font>

589
00:21:28,750 --> 00:21:34,570
the<font color="#CCCCCC"> elpac container and the the</font>

590
00:21:32,350 --> 00:21:36,820
hypervisor<font color="#CCCCCC"> krypton</font><font color="#E5E5E5"> boundaries to contend</font>

591
00:21:34,570 --> 00:21:39,210
with<font color="#E5E5E5"> and that actually gives a lot of</font>

592
00:21:36,820 --> 00:21:41,139
containment properties<font color="#E5E5E5"> so with that said</font>

593
00:21:39,210 --> 00:21:42,580
<font color="#E5E5E5">actually the first thing I wanted to</font>

594
00:21:41,140 --> 00:21:43,930
<font color="#E5E5E5">show</font><font color="#CCCCCC"> you before I pass</font><font color="#E5E5E5"> it on to Sauron</font>

595
00:21:42,580 --> 00:21:45,730
to talk to you about how<font color="#CCCCCC"> we secure this</font>

596
00:21:43,930 --> 00:21:48,160
<font color="#E5E5E5">thing is what it looks like in action</font>

597
00:21:45,730 --> 00:21:50,260
<font color="#E5E5E5">that actually</font><font color="#CCCCCC"> stop an exploit so I'm</font>

598
00:21:48,160 --> 00:21:52,240
<font color="#E5E5E5">gonna show you is an exploit constructed</font>

599
00:21:50,260 --> 00:21:54,070
by the Windows Red Team the offensive

600
00:21:52,240 --> 00:21:55,600
<font color="#CCCCCC">security research team it's actually</font>

601
00:21:54,070 --> 00:21:58,030
<font color="#E5E5E5">going to be a browser exploit combined</font>

602
00:21:55,600 --> 00:21:59,500
with the<font color="#CCCCCC"> win32 K exploit</font><font color="#E5E5E5"> this is the</font>

603
00:21:58,030 --> 00:22:01,240
kind of thing that we would normally do

604
00:21:59,500 --> 00:22:03,100
as<font color="#E5E5E5"> part of an</font><font color="#CCCCCC"> assessment of</font><font color="#E5E5E5"> course all</font>

605
00:22:01,240 --> 00:22:04,990
the<font color="#CCCCCC"> vulnerabilities are fixed here and</font><font color="#E5E5E5"> I</font>

606
00:22:03,100 --> 00:22:06,639
can tell you edge is no different<font color="#E5E5E5"> my</font>

607
00:22:04,990 --> 00:22:08,650
team<font color="#E5E5E5"> is also exploited chrome and other</font>

608
00:22:06,640 --> 00:22:09,910
browsers here so this<font color="#E5E5E5"> is what we do is</font>

609
00:22:08,650 --> 00:22:11,650
we<font color="#E5E5E5"> look at browsers and we try to</font>

610
00:22:09,910 --> 00:22:13,480
increase<font color="#E5E5E5"> the security of it</font>

611
00:22:11,650 --> 00:22:14,210
so there's<font color="#E5E5E5"> actually an</font><font color="#CCCCCC"> interesting point</font>

612
00:22:13,480 --> 00:22:15,710
<font color="#CCCCCC">here and you</font>

613
00:22:14,210 --> 00:22:20,570
be able<font color="#E5E5E5"> to</font><font color="#CCCCCC"> see what it looks like</font><font color="#E5E5E5"> to run</font>

614
00:22:15,710 --> 00:22:21,710
a<font color="#CCCCCC"> zero-day an application garment so</font>

615
00:22:20,570 --> 00:22:23,120
we're actually doing<font color="#CCCCCC"> here is we're just</font>

616
00:22:21,710 --> 00:22:25,100
<font color="#E5E5E5">going</font><font color="#CCCCCC"> to start up a native version of</font>

617
00:22:23,120 --> 00:22:26,810
edge<font color="#E5E5E5"> and we're going to point it at zero</font>

618
00:22:25,100 --> 00:22:28,790
<font color="#E5E5E5">day exploit</font><font color="#CCCCCC"> that combines an exploit in</font>

619
00:22:26,810 --> 00:22:31,879
the<font color="#E5E5E5"> JavaScript engine with</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> win32</font><font color="#CCCCCC"> K</font>

620
00:22:28,790 --> 00:22:36,200
<font color="#E5E5E5">exploit and what you can see</font><font color="#CCCCCC"> here is we</font>

621
00:22:31,880 --> 00:22:38,690
actually<font color="#E5E5E5"> popped a CMD</font><font color="#CCCCCC"> window</font><font color="#E5E5E5"> there at</font>

622
00:22:36,200 --> 00:22:40,270
system<font color="#E5E5E5"> because we got full privilege we</font>

623
00:22:38,690 --> 00:22:42,740
<font color="#E5E5E5">broke in containment</font><font color="#CCCCCC"> at the kernel level</font>

624
00:22:40,270 --> 00:22:44,090
so we run that same exploit now an

625
00:22:42,740 --> 00:22:45,950
application guard and<font color="#E5E5E5"> this is sort of</font>

626
00:22:44,090 --> 00:22:48,500
sped up just for speed<font color="#E5E5E5"> you can see</font><font color="#CCCCCC"> it's</font>

627
00:22:45,950 --> 00:22:50,840
application guard by the the<font color="#E5E5E5"> orange</font>

628
00:22:48,500 --> 00:22:52,970
bindings there are orange sort of<font color="#CCCCCC"> Chrome</font>

629
00:22:50,840 --> 00:22:55,070
we run the exact same exploit<font color="#E5E5E5"> when we</font>

630
00:22:52,970 --> 00:22:57,200
say Who am I<font color="#CCCCCC"> again we're</font><font color="#E5E5E5"> still at system</font>

631
00:22:55,070 --> 00:22:58,700
but this time when<font color="#E5E5E5"> we try to write to</font>

632
00:22:57,200 --> 00:23:00,500
the host<font color="#E5E5E5"> operating system we're fully</font>

633
00:22:58,700 --> 00:23:03,110
contained<font color="#E5E5E5"> and you can see that's</font>

634
00:23:00,500 --> 00:23:04,490
possible<font color="#CCCCCC"> and that we're actually</font><font color="#E5E5E5"> running</font>

635
00:23:03,110 --> 00:23:07,159
in the container environment because all

636
00:23:04,490 --> 00:23:09,620
of<font color="#E5E5E5"> the users are fake</font><font color="#CCCCCC"> so what you saw</font>

637
00:23:07,160 --> 00:23:11,360
there was pretty<font color="#E5E5E5"> quick and move fast but</font>

638
00:23:09,620 --> 00:23:14,060
<font color="#E5E5E5">that's what exploits do but the key</font>

639
00:23:11,360 --> 00:23:16,040
point<font color="#CCCCCC"> here is in both cases we fully we</font>

640
00:23:14,060 --> 00:23:17,090
combined what an exploit on the open

641
00:23:16,040 --> 00:23:20,030
market that<font color="#E5E5E5"> would cost hundreds of</font>

642
00:23:17,090 --> 00:23:21,320
thousands of dollars<font color="#CCCCCC"> 2-0 days one which</font>

643
00:23:20,030 --> 00:23:22,760
<font color="#E5E5E5">is fully contained in the container</font>

644
00:23:21,320 --> 00:23:24,320
environment is still backed by yet

645
00:23:22,760 --> 00:23:26,360
<font color="#CCCCCC">another boundary that would have been</font>

646
00:23:24,320 --> 00:23:27,889
difficult<font color="#E5E5E5"> and the other one is native</font>

647
00:23:26,360 --> 00:23:30,199
and<font color="#CCCCCC"> I think this is a good example</font><font color="#E5E5E5"> of</font>

648
00:23:27,890 --> 00:23:31,550
the potential<font color="#CCCCCC"> this technology</font><font color="#E5E5E5"> and</font>

649
00:23:30,200 --> 00:23:33,530
something that we<font color="#E5E5E5"> think will make</font><font color="#CCCCCC"> it</font>

650
00:23:31,550 --> 00:23:35,659
<font color="#E5E5E5">much more difficult over time to exploit</font>

651
00:23:33,530 --> 00:23:36,980
Windows machines<font color="#E5E5E5"> and with that I'm gonna</font>

652
00:23:35,660 --> 00:23:40,760
hand<font color="#E5E5E5"> it off to Sauron to talk to you</font>

653
00:23:36,980 --> 00:23:41,960
about our<font color="#CCCCCC"> security</font><font color="#E5E5E5"> assurance work all</font>

654
00:23:40,760 --> 00:23:45,500
right

655
00:23:41,960 --> 00:23:47,060
so the strategy we took for securing

656
00:23:45,500 --> 00:23:49,820
something that is actually<font color="#E5E5E5"> itself a</font>

657
00:23:47,060 --> 00:23:52,010
security feature<font color="#CCCCCC"> is different</font><font color="#E5E5E5"> from the</font>

658
00:23:49,820 --> 00:23:54,770
way we<font color="#CCCCCC"> tackled normal workloads from the</font>

659
00:23:52,010 --> 00:23:58,640
security assurance perspective we took

660
00:23:54,770 --> 00:24:01,030
on both<font color="#E5E5E5"> us as the OS security team and</font>

661
00:23:58,640 --> 00:24:03,080
the red team<font color="#E5E5E5"> work together with the</font>

662
00:24:01,030 --> 00:24:05,300
developers<font color="#CCCCCC"> of</font><font color="#E5E5E5"> Windows Defender</font>

663
00:24:03,080 --> 00:24:09,290
application guard<font color="#E5E5E5"> in sort of what we</font>

664
00:24:05,300 --> 00:24:12,290
like<font color="#CCCCCC"> to</font><font color="#E5E5E5"> call a</font><font color="#CCCCCC"> co engineering mode where</font>

665
00:24:09,290 --> 00:24:16,129
<font color="#E5E5E5">even at the very core start of the</font>

666
00:24:12,290 --> 00:24:18,440
project<font color="#CCCCCC"> the security teams were there to</font>

667
00:24:16,130 --> 00:24:20,150
advise on both the design aspects<font color="#E5E5E5"> and</font>

668
00:24:18,440 --> 00:24:22,610
<font color="#E5E5E5">also kind of the</font><font color="#CCCCCC"> implementation or</font><font color="#E5E5E5"> the</font>

669
00:24:20,150 --> 00:24:25,250
<font color="#CCCCCC">choices they made to create</font><font color="#E5E5E5"> for example</font>

670
00:24:22,610 --> 00:24:28,300
<font color="#CCCCCC">the</font><font color="#E5E5E5"> boundary the changes in the security</font>

671
00:24:25,250 --> 00:24:31,840
boundary from its traditional<font color="#CCCCCC"> hyper-v</font>

672
00:24:28,300 --> 00:24:34,690
we moved on<font color="#CCCCCC"> from that to a full code</font>

673
00:24:31,840 --> 00:24:36,520
review of all the<font color="#CCCCCC"> check-ins in</font><font color="#E5E5E5"> two</font>

674
00:24:34,690 --> 00:24:40,290
places<font color="#E5E5E5"> where there is a security</font><font color="#CCCCCC"> risk</font>

675
00:24:36,520 --> 00:24:43,590
<font color="#E5E5E5">for application guard and of course</font>

676
00:24:40,290 --> 00:24:46,290
<font color="#E5E5E5">beyond that we have developed a bunch of</font>

677
00:24:43,590 --> 00:24:49,240
<font color="#E5E5E5">buzzers that will continue to run and</font>

678
00:24:46,290 --> 00:24:51,159
target<font color="#CCCCCC"> the application guard as we</font>

679
00:24:49,240 --> 00:24:53,590
develop it<font color="#E5E5E5"> and enhance it over the</font>

680
00:24:51,160 --> 00:24:56,730
releases<font color="#E5E5E5"> and finally once we've gotten</font>

681
00:24:53,590 --> 00:24:59,500
to that and once we've arrived at

682
00:24:56,730 --> 00:25:03,490
Windows<font color="#E5E5E5"> fault creators update we can now</font>

683
00:24:59,500 --> 00:25:06,820
<font color="#E5E5E5">actually give it out to anyone to test</font>

684
00:25:03,490 --> 00:25:09,640
out<font color="#CCCCCC"> themselves but also have our Red</font>

685
00:25:06,820 --> 00:25:13,030
<font color="#CCCCCC">Team</font><font color="#E5E5E5"> do a full stack exploit to ensure</font>

686
00:25:09,640 --> 00:25:15,250
that<font color="#E5E5E5"> the strategies we've implement and</font>

687
00:25:13,030 --> 00:25:17,800
to make sure<font color="#CCCCCC"> that we have the design</font>

688
00:25:15,250 --> 00:25:20,050
<font color="#E5E5E5">that we wanted in the first</font><font color="#CCCCCC"> place or</font><font color="#E5E5E5"> if</font>

689
00:25:17,800 --> 00:25:21,639
not to make changes to improve<font color="#CCCCCC"> the</font>

690
00:25:20,050 --> 00:25:26,620
<font color="#E5E5E5">security of defender application guard</font>

691
00:25:21,640 --> 00:25:29,320
before<font color="#CCCCCC"> we ship</font><font color="#E5E5E5"> now</font><font color="#CCCCCC"> enough strategy talk</font>

692
00:25:26,620 --> 00:25:31,780
<font color="#E5E5E5">let's talk about what we actually did</font>

693
00:25:29,320 --> 00:25:35,439
and let me give you guys<font color="#CCCCCC"> a cool story</font><font color="#E5E5E5"> or</font>

694
00:25:31,780 --> 00:25:39,250
three or maybe four so we're gonna start

695
00:25:35,440 --> 00:25:40,270
<font color="#CCCCCC">with the basically piecemealing the</font>

696
00:25:39,250 --> 00:25:43,320
threat model<font color="#CCCCCC"> of Windows Defender</font>

697
00:25:40,270 --> 00:25:46,270
application<font color="#CCCCCC"> Garden to four separate</font>

698
00:25:43,320 --> 00:25:49,950
<font color="#E5E5E5">functionality parts that were all needed</font>

699
00:25:46,270 --> 00:25:52,750
<font color="#E5E5E5">to get what you see today which is an</font>

700
00:25:49,950 --> 00:25:55,240
orange or brownish colored version of

701
00:25:52,750 --> 00:25:57,370
<font color="#E5E5E5">Windows edge on Microsoft edge on your</font>

702
00:25:55,240 --> 00:26:00,970
screen so let's start with storage

703
00:25:57,370 --> 00:26:03,100
<font color="#E5E5E5">because I think David talked about</font>

704
00:26:00,970 --> 00:26:05,530
direct<font color="#CCCCCC"> nap a lot and he's clearly</font><font color="#E5E5E5"> a fan</font>

705
00:26:03,100 --> 00:26:06,820
of<font color="#E5E5E5"> this feature but let's talk about how</font>

706
00:26:05,530 --> 00:26:09,790
that<font color="#E5E5E5"> actually</font><font color="#CCCCCC"> works from a functionality</font>

707
00:26:06,820 --> 00:26:11,500
standpoint<font color="#CCCCCC"> now if how many of you guys</font>

708
00:26:09,790 --> 00:26:12,879
<font color="#E5E5E5">are familiar with hyper-v containers or</font>

709
00:26:11,500 --> 00:26:15,220
Windows<font color="#CCCCCC"> Server containers with hyper-v</font>

710
00:26:12,880 --> 00:26:17,500
isolation<font color="#E5E5E5"> I think is the new name cool</font>

711
00:26:15,220 --> 00:26:22,270
<font color="#CCCCCC">actually more</font><font color="#E5E5E5"> than I</font><font color="#CCCCCC"> expected</font>

712
00:26:17,500 --> 00:26:25,300
now this model<font color="#E5E5E5"> here is this is very</font>

713
00:26:22,270 --> 00:26:29,440
<font color="#CCCCCC">similar to the architecture for hyper-v</font>

714
00:26:25,300 --> 00:26:32,620
containers we have a<font color="#E5E5E5"> read-only share</font>

715
00:26:29,440 --> 00:26:35,560
<font color="#E5E5E5">that's passed over</font><font color="#CCCCCC"> VM bus to</font><font color="#E5E5E5"> the guest</font>

716
00:26:32,620 --> 00:26:37,600
VM the hyper-v container and that

717
00:26:35,560 --> 00:26:40,480
contains the base OS image<font color="#CCCCCC"> the one that</font>

718
00:26:37,600 --> 00:26:42,549
it will<font color="#E5E5E5"> be used who used to launch</font>

719
00:26:40,480 --> 00:26:44,220
<font color="#CCCCCC">Windows itself</font><font color="#E5E5E5"> and then of</font><font color="#CCCCCC"> course the</font>

720
00:26:42,549 --> 00:26:47,619
application<font color="#CCCCCC"> you</font><font color="#E5E5E5"> want in this case edge</font>

721
00:26:44,220 --> 00:26:49,989
<font color="#CCCCCC">and then second we</font><font color="#E5E5E5"> have a VHD that's</font>

722
00:26:47,619 --> 00:26:52,119
mounted as well<font color="#E5E5E5"> that is a per instance</font>

723
00:26:49,989 --> 00:26:54,159
<font color="#CCCCCC">VHD that will be thrown out that simply</font>

724
00:26:52,119 --> 00:26:55,899
<font color="#E5E5E5">used to capture</font><font color="#CCCCCC"> any kind of rights that</font>

725
00:26:54,159 --> 00:26:57,879
<font color="#CCCCCC">the guest needs to do to its file system</font>

726
00:26:55,899 --> 00:26:59,678
<font color="#E5E5E5">and we kind of fake it inside the guest</font>

727
00:26:57,879 --> 00:27:01,988
<font color="#E5E5E5">that these two separate volumes are</font>

728
00:26:59,679 --> 00:27:04,149
actually single<font color="#E5E5E5"> a single one inside</font>

729
00:27:01,989 --> 00:27:05,320
<font color="#E5E5E5">that's just</font><font color="#CCCCCC"> the c drive and</font><font color="#E5E5E5"> any rights</font>

730
00:27:04,149 --> 00:27:08,709
<font color="#CCCCCC">that</font><font color="#E5E5E5"> you do or</font><font color="#CCCCCC"> copy-on-write</font>

731
00:27:05,320 --> 00:27:11,049
straight to the VHD<font color="#E5E5E5"> and when we restart</font>

732
00:27:08,710 --> 00:27:15,669
the<font color="#E5E5E5"> VM that</font><font color="#CCCCCC"> scratch</font><font color="#E5E5E5"> the VHD is deleted</font>

733
00:27:11,049 --> 00:27:17,019
<font color="#E5E5E5">and no persistence of data is allowed</font>

734
00:27:15,669 --> 00:27:20,799
which is great from a security

735
00:27:17,019 --> 00:27:23,889
perspective<font color="#E5E5E5"> now the interesting</font><font color="#CCCCCC"> thing</font>

736
00:27:20,799 --> 00:27:26,519
for<font color="#CCCCCC"> bar Sona</font><font color="#E5E5E5"> was or sorry excuse me</font>

737
00:27:23,889 --> 00:27:31,809
Windows<font color="#E5E5E5"> Defender application guard was</font>

738
00:27:26,519 --> 00:27:34,840
the like<font color="#CCCCCC"> codename yeah we we do is the</font>

739
00:27:31,809 --> 00:27:36,789
<font color="#E5E5E5">actual dynamic part of</font><font color="#CCCCCC"> this diagram so</font>

740
00:27:34,840 --> 00:27:40,749
<font color="#E5E5E5">what does that actually mean</font><font color="#CCCCCC"> why is that</font>

741
00:27:36,789 --> 00:27:43,690
folder<font color="#E5E5E5"> dynamic or green well it turns</font>

742
00:27:40,749 --> 00:27:45,369
out<font color="#E5E5E5"> that we don't want to create</font><font color="#CCCCCC"> an</font>

743
00:27:43,690 --> 00:27:46,929
whole<font color="#CCCCCC"> new folder full of Windows and</font><font color="#E5E5E5"> we</font>

744
00:27:45,369 --> 00:27:48,340
don't actually<font color="#E5E5E5"> want to share the windows</font>

745
00:27:46,929 --> 00:27:49,809
<font color="#E5E5E5">photo folder that you currently have on</font>

746
00:27:48,340 --> 00:27:51,759
<font color="#E5E5E5">your C Drive</font><font color="#CCCCCC"> there's</font><font color="#E5E5E5"> too much personal</font>

747
00:27:49,809 --> 00:27:54,730
information<font color="#E5E5E5"> in there and there's a risk</font>

748
00:27:51,759 --> 00:27:58,179
of information disclosure<font color="#CCCCCC"> so instead we</font>

749
00:27:54,730 --> 00:28:02,289
build a new dynamic<font color="#E5E5E5"> base OS folder on</font>

750
00:27:58,179 --> 00:28:04,119
<font color="#E5E5E5">your C Drive that contains yep</font><font color="#CCCCCC"> the same</font>

751
00:28:02,289 --> 00:28:06,460
folders<font color="#E5E5E5"> they no one expect from</font><font color="#CCCCCC"> Windows</font>

752
00:28:04,119 --> 00:28:10,539
but instead<font color="#E5E5E5"> of</font><font color="#CCCCCC"> actually</font><font color="#E5E5E5"> targeting</font>

753
00:28:06,460 --> 00:28:12,789
specific files<font color="#CCCCCC"> they were putting them</font>

754
00:28:10,539 --> 00:28:17,200
into<font color="#E5E5E5"> that folder we instead pass in two</font>

755
00:28:12,789 --> 00:28:19,149
different<font color="#E5E5E5"> types of links one link we</font>

756
00:28:17,200 --> 00:28:22,269
like to call<font color="#CCCCCC"> reparse</font><font color="#E5E5E5"> point which is</font>

757
00:28:19,149 --> 00:28:26,408
actually a view<font color="#E5E5E5"> of a folder directly</font>

758
00:28:22,269 --> 00:28:28,779
into the into the base OS folder this

759
00:28:26,409 --> 00:28:30,309
<font color="#E5E5E5">allows for</font><font color="#CCCCCC"> any changes that</font><font color="#E5E5E5"> happen</font>

760
00:28:28,779 --> 00:28:34,179
dynamically in that folder<font color="#E5E5E5"> to be</font>

761
00:28:30,309 --> 00:28:35,499
percolated<font color="#E5E5E5"> up to the guest VM and this</font>

762
00:28:34,179 --> 00:28:37,989
is a very powerful primitive as it

763
00:28:35,499 --> 00:28:40,239
reduces<font color="#CCCCCC"> our recipe book for</font><font color="#E5E5E5"> building a</font>

764
00:28:37,989 --> 00:28:42,129
base OS we can just say<font color="#CCCCCC"> hey</font><font color="#E5E5E5"> whatever</font><font color="#CCCCCC"> is</font>

765
00:28:40,239 --> 00:28:44,919
in the<font color="#CCCCCC"> windows apps folder I need it</font>

766
00:28:42,129 --> 00:28:48,029
<font color="#CCCCCC">inside</font><font color="#E5E5E5"> and of course we can also just</font>

767
00:28:44,919 --> 00:28:50,259
hard link files directly from the

768
00:28:48,029 --> 00:28:51,909
<font color="#E5E5E5">folders themselves which ensures that</font>

769
00:28:50,259 --> 00:28:53,740
<font color="#E5E5E5">nothing gets passed in that we don't</font>

770
00:28:51,909 --> 00:28:57,250
<font color="#E5E5E5">want we explicitly say</font><font color="#CCCCCC"> I</font>

771
00:28:53,740 --> 00:28:59,320
want for<font color="#CCCCCC"> example run dll 32 I want this</font>

772
00:28:57,250 --> 00:29:01,450
I want that<font color="#E5E5E5"> and any changes on the host</font>

773
00:28:59,320 --> 00:29:06,189
side will<font color="#E5E5E5"> not be reflected on the guest</font>

774
00:29:01,450 --> 00:29:10,510
side<font color="#CCCCCC"> now this look</font><font color="#E5E5E5"> kind of allows me to</font>

775
00:29:06,190 --> 00:29:12,850
segue<font color="#CCCCCC"> into</font><font color="#E5E5E5"> my first bug</font><font color="#CCCCCC"> it turns out we</font>

776
00:29:10,510 --> 00:29:15,190
were<font color="#E5E5E5"> a little overzealous in using the</font>

777
00:29:12,850 --> 00:29:19,120
<font color="#E5E5E5">reports point primitive and it turns out</font>

778
00:29:15,190 --> 00:29:21,429
we had a<font color="#CCCCCC"> lot we had a lot of</font><font color="#E5E5E5"> full full</font>

779
00:29:19,120 --> 00:29:24,550
files and folders inside<font color="#E5E5E5"> the printer</font>

780
00:29:21,429 --> 00:29:26,530
spool folder inside system 32<font color="#E5E5E5"> most of</font>

781
00:29:24,550 --> 00:29:29,050
these<font color="#E5E5E5"> are necessary for print actions to</font>

782
00:29:26,530 --> 00:29:33,370
occur in the guest<font color="#E5E5E5"> even</font><font color="#CCCCCC"> for virtualized</font>

783
00:29:29,050 --> 00:29:35,500
stuff like XPS and PDF<font color="#E5E5E5"> unfortunately it</font>

784
00:29:33,370 --> 00:29:38,139
also turns out<font color="#CCCCCC"> that this</font><font color="#E5E5E5"> is a temporary</font>

785
00:29:35,500 --> 00:29:41,050
<font color="#E5E5E5">storage spot for the spool service to</font>

786
00:29:38,140 --> 00:29:43,840
place files that are<font color="#CCCCCC"> being printed</font><font color="#E5E5E5"> on</font>

787
00:29:41,050 --> 00:29:47,010
the host machine<font color="#E5E5E5"> so we had inadvertently</font>

788
00:29:43,840 --> 00:29:52,270
given the guest VM temporary access<font color="#E5E5E5"> to</font>

789
00:29:47,010 --> 00:29:55,240
confidential<font color="#CCCCCC"> information</font><font color="#E5E5E5"> in the in the</font>

790
00:29:52,270 --> 00:29:58,450
file system<font color="#CCCCCC"> and this could</font><font color="#E5E5E5"> be this kind</font>

791
00:29:55,240 --> 00:29:59,950
<font color="#E5E5E5">of breaks our contract for Windows</font>

792
00:29:58,450 --> 00:30:03,130
Defender application guard which<font color="#CCCCCC"> is to</font>

793
00:29:59,950 --> 00:30:05,620
<font color="#E5E5E5">maintain zero disclosure of</font><font color="#CCCCCC"> information</font>

794
00:30:03,130 --> 00:30:10,050
about any host information<font color="#CCCCCC"> any sensitive</font>

795
00:30:05,620 --> 00:30:12,639
documents in et cetera<font color="#E5E5E5"> to the guest so</font>

796
00:30:10,050 --> 00:30:14,950
this one was a pretty<font color="#CCCCCC"> easy</font><font color="#E5E5E5"> fix of course</font>

797
00:30:12,640 --> 00:30:17,740
we simply decided<font color="#E5E5E5"> to hard link that</font>

798
00:30:14,950 --> 00:30:20,080
folder instead and alleviated any

799
00:30:17,740 --> 00:30:23,350
temporary<font color="#E5E5E5"> file risk as these changes no</font>

800
00:30:20,080 --> 00:30:26,230
longer go up to the guest<font color="#E5E5E5"> but we didn't</font>

801
00:30:23,350 --> 00:30:28,419
stop there<font color="#CCCCCC"> the V SMB attack surface is</font>

802
00:30:26,230 --> 00:30:32,500
<font color="#E5E5E5">really important to us so</font><font color="#CCCCCC"> we built a</font>

803
00:30:28,420 --> 00:30:36,309
full generational<font color="#CCCCCC"> buzzer</font><font color="#E5E5E5"> that actually</font>

804
00:30:32,500 --> 00:30:39,700
acts as a the SMB client<font color="#E5E5E5"> talking</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> that</font>

805
00:30:36,309 --> 00:30:41,530
server<font color="#CCCCCC"> and if it makes actual file</font>

806
00:30:39,700 --> 00:30:44,559
system operations<font color="#E5E5E5"> against the</font><font color="#CCCCCC"> V SMB</font>

807
00:30:41,530 --> 00:30:46,870
share<font color="#CCCCCC"> this was used to</font><font color="#E5E5E5"> target memory</font>

808
00:30:44,559 --> 00:30:50,770
<font color="#CCCCCC">corruption vulnerabilities</font><font color="#E5E5E5"> in V SMB and</font>

809
00:30:46,870 --> 00:30:53,590
was very<font color="#E5E5E5"> successful in finding use after</font>

810
00:30:50,770 --> 00:30:55,210
freeze this allowed us<font color="#E5E5E5"> to both secure</font>

811
00:30:53,590 --> 00:30:58,059
Windows Defender application guard but

812
00:30:55,210 --> 00:31:02,620
of course also<font color="#E5E5E5"> hyper-v containers in the</font>

813
00:30:58,059 --> 00:31:04,960
<font color="#CCCCCC">Windows Server perspective moving on</font>

814
00:31:02,620 --> 00:31:06,850
<font color="#CCCCCC">let's talk</font><font color="#E5E5E5"> about networking</font><font color="#CCCCCC"> so one of</font>

815
00:31:04,960 --> 00:31:07,539
the fundamental restrictions<font color="#CCCCCC"> that we</font>

816
00:31:06,850 --> 00:31:10,988
want to put

817
00:31:07,539 --> 00:31:13,809
into the<font color="#CCCCCC"> Krypton container</font><font color="#E5E5E5"> is the</font>

818
00:31:10,989 --> 00:31:16,960
ability<font color="#CCCCCC"> to</font><font color="#E5E5E5"> only access the</font><font color="#CCCCCC"> Internet</font>

819
00:31:13,809 --> 00:31:19,539
<font color="#E5E5E5">and not the internet or not the intranet</font>

820
00:31:16,960 --> 00:31:21,609
<font color="#CCCCCC">or any part any Internet assets that the</font>

821
00:31:19,539 --> 00:31:25,419
administrator<font color="#CCCCCC"> of defender application</font>

822
00:31:21,609 --> 00:31:27,820
guard<font color="#E5E5E5"> has deemed protected so we built</font>

823
00:31:25,419 --> 00:31:32,169
we leverage existing<font color="#E5E5E5"> functionality and</font>

824
00:31:27,820 --> 00:31:35,729
<font color="#E5E5E5">VM switch</font><font color="#CCCCCC"> which</font><font color="#E5E5E5"> is the networking kernel</font>

825
00:31:32,169 --> 00:31:39,309
interface for hyper-v<font color="#E5E5E5"> and we add</font>

826
00:31:35,729 --> 00:31:41,649
<font color="#CCCCCC">winnette to allow us</font><font color="#E5E5E5"> to use any network</font>

827
00:31:39,309 --> 00:31:44,168
adapters currently<font color="#E5E5E5"> plugged into</font><font color="#CCCCCC"> your</font>

828
00:31:41,649 --> 00:31:47,738
system<font color="#E5E5E5"> so that if you for example use</font>

829
00:31:44,169 --> 00:31:51,309
Wi-Fi<font color="#E5E5E5"> at</font><font color="#CCCCCC"> home</font><font color="#E5E5E5"> but use a</font><font color="#CCCCCC"> u net connection</font>

830
00:31:47,739 --> 00:31:54,190
<font color="#E5E5E5">at work</font><font color="#CCCCCC"> that does not mean you have to</font>

831
00:31:51,309 --> 00:31:55,720
switch virtual<font color="#CCCCCC"> network switches or do</font>

832
00:31:54,190 --> 00:31:58,919
any<font color="#E5E5E5"> sort of fancy work there it</font>

833
00:31:55,720 --> 00:32:01,690
automatically<font color="#E5E5E5"> happens in the background</font>

834
00:31:58,919 --> 00:32:04,450
and some<font color="#E5E5E5"> of you guys who are avid</font>

835
00:32:01,690 --> 00:32:06,099
hyper-v users know the pain of<font color="#E5E5E5"> trying to</font>

836
00:32:04,450 --> 00:32:11,440
switch external<font color="#E5E5E5"> switches around on your</font>

837
00:32:06,099 --> 00:32:14,109
laptop<font color="#E5E5E5"> so we built a we leverage the</font><font color="#CCCCCC"> VM</font>

838
00:32:11,440 --> 00:32:16,809
switches<font color="#E5E5E5"> modular plug-in system to add a</font>

839
00:32:14,109 --> 00:32:20,259
new filter driver that inspects packets

840
00:32:16,809 --> 00:32:21,999
<font color="#E5E5E5">coming in from the guest</font><font color="#CCCCCC"> it determines</font>

841
00:32:20,259 --> 00:32:24,129
whether<font color="#CCCCCC"> or not you were supposed to be</font>

842
00:32:21,999 --> 00:32:26,529
or the Krypton container was allowed to

843
00:32:24,129 --> 00:32:29,918
<font color="#CCCCCC">go to</font><font color="#E5E5E5"> those regions</font><font color="#CCCCCC"> and makes a decision</font>

844
00:32:26,529 --> 00:32:31,539
<font color="#CCCCCC">to accept or</font><font color="#E5E5E5"> deny your connection and</font>

845
00:32:29,919 --> 00:32:35,379
throw it out before it<font color="#E5E5E5"> even goes for any</font>

846
00:32:31,539 --> 00:32:36,820
further than that<font color="#CCCCCC"> of course</font><font color="#E5E5E5"> there are</font>

847
00:32:35,379 --> 00:32:39,209
some<font color="#CCCCCC"> issues with this</font><font color="#E5E5E5"> well one of the</font>

848
00:32:36,820 --> 00:32:42,158
<font color="#E5E5E5">biggest ones is that if we block out a</font>

849
00:32:39,210 --> 00:32:45,609
significant<font color="#E5E5E5"> chunk of your</font><font color="#CCCCCC"> internet then</font>

850
00:32:42,159 --> 00:32:47,590
certain functionality like<font color="#E5E5E5"> DNS lookups</font>

851
00:32:45,609 --> 00:32:51,099
<font color="#E5E5E5">will not work if you are</font><font color="#CCCCCC"> dependent on</font>

852
00:32:47,590 --> 00:32:53,139
<font color="#E5E5E5">your local DNS for name resolution</font><font color="#CCCCCC"> so</font>

853
00:32:51,099 --> 00:32:55,720
for this reason we provided the<font color="#CCCCCC"> guest</font>

854
00:32:53,139 --> 00:32:59,340
<font color="#CCCCCC">with a new much more pared down and</font>

855
00:32:55,720 --> 00:33:02,710
controllable interface that allows<font color="#CCCCCC"> RPC</font>

856
00:32:59,340 --> 00:33:06,369
function calls to be passed<font color="#CCCCCC"> over the EM</font>

857
00:33:02,710 --> 00:33:08,429
bus once again to the<font color="#E5E5E5"> host and we host</font>

858
00:33:06,369 --> 00:33:11,499
<font color="#CCCCCC">this in a separate</font><font color="#E5E5E5"> user mode process and</font>

859
00:33:08,429 --> 00:33:13,419
it makes the DNS<font color="#CCCCCC"> requests on its own the</font>

860
00:33:11,499 --> 00:33:14,919
containers behalf and only passes it

861
00:33:13,419 --> 00:33:16,989
back if it's on the allow list again

862
00:33:14,919 --> 00:33:19,269
it's pretty magic how if you<font color="#E5E5E5"> have full</font>

863
00:33:16,989 --> 00:33:20,860
<font color="#E5E5E5">control</font><font color="#CCCCCC"> over what the container</font><font color="#E5E5E5"> can see</font>

864
00:33:19,269 --> 00:33:24,130
you can stop it from<font color="#E5E5E5"> doing</font>

865
00:33:20,860 --> 00:33:26,770
certain<font color="#E5E5E5"> things now we have to do the</font>

866
00:33:24,130 --> 00:33:29,590
same<font color="#CCCCCC"> kind of thing for proxy</font>

867
00:33:26,770 --> 00:33:33,639
authentication<font color="#E5E5E5"> and we once</font><font color="#CCCCCC"> again allow</font>

868
00:33:29,590 --> 00:33:37,139
the guests<font color="#E5E5E5"> LS a service to make requests</font>

869
00:33:33,640 --> 00:33:41,429
<font color="#E5E5E5">over</font><font color="#CCCCCC"> RPC as if it was your actual</font><font color="#E5E5E5"> host</font>

870
00:33:37,140 --> 00:33:45,429
<font color="#E5E5E5">over and</font><font color="#CCCCCC"> past</font><font color="#E5E5E5"> the RPC call pretty much</font>

871
00:33:41,429 --> 00:33:48,280
exactly<font color="#E5E5E5"> the same</font><font color="#CCCCCC"> way you would</font><font color="#E5E5E5"> in as a</font>

872
00:33:45,429 --> 00:33:52,020
user mode application<font color="#E5E5E5"> in the guest over</font>

873
00:33:48,280 --> 00:33:55,299
to the original<font color="#E5E5E5"> LSA on your host</font>

874
00:33:52,020 --> 00:34:00,120
<font color="#CCCCCC">fortunately that's</font><font color="#E5E5E5"> where our bug comes</font>

875
00:33:55,299 --> 00:34:05,110
in we have<font color="#CCCCCC"> we</font><font color="#E5E5E5"> assume compromise on the</font>

876
00:34:00,120 --> 00:34:06,909
edge<font color="#CCCCCC"> container</font><font color="#E5E5E5"> the edge process and of</font>

877
00:34:05,110 --> 00:34:09,040
course we'd<font color="#CCCCCC"> have to also assume</font><font color="#E5E5E5"> from</font>

878
00:34:06,910 --> 00:34:11,530
some sort of kernel compromise to break

879
00:34:09,040 --> 00:34:13,899
out of the sandbox<font color="#E5E5E5"> in which case an</font>

880
00:34:11,530 --> 00:34:17,889
attacker can have control<font color="#CCCCCC"> over</font><font color="#E5E5E5"> this RPC</font>

881
00:34:13,899 --> 00:34:19,509
endpoint<font color="#E5E5E5"> talking to the host</font><font color="#CCCCCC"> it turns</font>

882
00:34:17,889 --> 00:34:21,429
out<font color="#E5E5E5"> that this RPC call that we were</font>

883
00:34:19,510 --> 00:34:25,659
reviewing<font color="#E5E5E5"> and there's only a maybe a</font>

884
00:34:21,429 --> 00:34:28,418
handful<font color="#CCCCCC"> this</font><font color="#E5E5E5"> one has a handle that</font><font color="#CCCCCC"> we</font>

885
00:34:25,659 --> 00:34:31,659
are passing verbatim<font color="#E5E5E5"> into the user mode</font>

886
00:34:28,418 --> 00:34:34,509
library calling<font color="#CCCCCC"> LS a interesting thing</font>

887
00:34:31,659 --> 00:34:37,240
about this handle is<font color="#E5E5E5"> that it's simply a</font>

888
00:34:34,510 --> 00:34:39,429
<font color="#E5E5E5">bunch of pointers and these pointers are</font>

889
00:34:37,239 --> 00:34:42,310
now controlled directly by<font color="#E5E5E5"> the attacker</font>

890
00:34:39,429 --> 00:34:45,280
<font color="#CCCCCC">and wouldn't you know</font><font color="#E5E5E5"> it</font>

891
00:34:42,310 --> 00:34:47,049
these are<font color="#E5E5E5"> mode library actually allows</font>

892
00:34:45,280 --> 00:34:48,760
you actually<font color="#E5E5E5"> the references those</font>

893
00:34:47,050 --> 00:34:51,310
pointers<font color="#E5E5E5"> and makes a function call</font>

894
00:34:48,760 --> 00:34:55,869
allowing<font color="#CCCCCC"> for a full pointer hijack of</font>

895
00:34:51,310 --> 00:34:59,259
the of the<font color="#CCCCCC"> host process that is</font>

896
00:34:55,869 --> 00:35:01,660
providing<font color="#E5E5E5"> this proxy service now this</font>

897
00:34:59,260 --> 00:35:04,590
actually<font color="#E5E5E5"> brings us to the</font><font color="#CCCCCC"> the windows</font>

898
00:35:01,660 --> 00:35:07,240
red<font color="#E5E5E5"> team's exploit of</font><font color="#CCCCCC"> hypeeee</font>

899
00:35:04,590 --> 00:35:09,550
application guard which leveraged this

900
00:35:07,240 --> 00:35:11,368
feature<font color="#E5E5E5"> to accomplish the task</font><font color="#CCCCCC"> let me</font>

901
00:35:09,550 --> 00:35:15,490
start the video

902
00:35:11,369 --> 00:35:17,680
you forgot<font color="#E5E5E5"> air quotes around</font><font color="#CCCCCC"> feature I</font>

903
00:35:15,490 --> 00:35:21,600
thought you meant the RPC bug as a

904
00:35:17,680 --> 00:35:21,600
future<font color="#E5E5E5"> that wasn't intended</font>

905
00:35:24,160 --> 00:35:29,629
and there you are

906
00:35:26,060 --> 00:35:32,299
it's the the<font color="#E5E5E5"> RPC call itself gives you</font>

907
00:35:29,630 --> 00:35:34,880
full code access<font color="#E5E5E5"> as</font><font color="#CCCCCC"> the user in medium</font>

908
00:35:32,300 --> 00:35:36,380
integrity in<font color="#E5E5E5"> your user session as you</font>

909
00:35:34,880 --> 00:35:40,210
can see<font color="#CCCCCC"> HESI manager is now running</font>

910
00:35:36,380 --> 00:35:40,210
command prompt<font color="#E5E5E5"> which is very exciting</font>

911
00:35:42,250 --> 00:35:52,070
<font color="#E5E5E5">now</font><font color="#CCCCCC"> OOP sorry about that from</font><font color="#E5E5E5"> this</font>

912
00:35:50,020 --> 00:35:54,680
situation<font color="#E5E5E5"> we've learned a couple things</font>

913
00:35:52,070 --> 00:35:57,050
<font color="#E5E5E5">and one</font><font color="#CCCCCC"> of the one of them was to kind</font>

914
00:35:54,680 --> 00:35:59,799
<font color="#E5E5E5">of review not just the end point</font><font color="#CCCCCC"> that</font>

915
00:35:57,050 --> 00:36:01,610
we've<font color="#E5E5E5"> opened up but also the the</font>

916
00:35:59,800 --> 00:36:03,370
constituent components that we were

917
00:36:01,610 --> 00:36:07,190
<font color="#E5E5E5">talking to a lot</font><font color="#CCCCCC"> of this is old legacy</font>

918
00:36:03,370 --> 00:36:10,130
<font color="#E5E5E5">or maybe not even legacy but user mode</font>

919
00:36:07,190 --> 00:36:11,840
to use<font color="#CCCCCC"> remote code or medium to a system</font>

920
00:36:10,130 --> 00:36:13,970
level code and there are some

921
00:36:11,840 --> 00:36:16,850
assumptions<font color="#E5E5E5"> that the the reviewers</font><font color="#CCCCCC"> in</font>

922
00:36:13,970 --> 00:36:18,709
and the developers of<font color="#E5E5E5"> these tools made</font>

923
00:36:16,850 --> 00:36:23,029
that are no longer<font color="#E5E5E5"> true because the</font>

924
00:36:18,710 --> 00:36:24,860
trust boundary goes<font color="#E5E5E5"> beyond simply in the</font>

925
00:36:23,030 --> 00:36:26,480
user mode application<font color="#E5E5E5"> making a call it's</font>

926
00:36:24,860 --> 00:36:29,750
now a user<font color="#E5E5E5"> mode make application making</font>

927
00:36:26,480 --> 00:36:32,990
<font color="#E5E5E5">a call on behalf of a virtual machine</font>

928
00:36:29,750 --> 00:36:34,910
<font color="#CCCCCC">and for that reason we actually took two</font>

929
00:36:32,990 --> 00:36:37,640
steps<font color="#CCCCCC"> and one</font><font color="#E5E5E5"> of the major ones was to</font>

930
00:36:34,910 --> 00:36:40,549
<font color="#E5E5E5">split this RPC functionality from that</font>

931
00:36:37,640 --> 00:36:43,540
medium<font color="#CCCCCC"> il</font><font color="#E5E5E5"> user mode application that's</font>

932
00:36:40,550 --> 00:36:47,270
called HSI manager into its own RPC

933
00:36:43,540 --> 00:36:50,540
process this<font color="#CCCCCC"> process was then placed in</font>

934
00:36:47,270 --> 00:36:53,420
a low privileged app container<font color="#E5E5E5"> and also</font>

935
00:36:50,540 --> 00:36:56,270
<font color="#E5E5E5">all the possible mitigations we could</font>

936
00:36:53,420 --> 00:36:58,160
throw at it<font color="#E5E5E5"> were applied to make even a</font>

937
00:36:56,270 --> 00:37:00,200
code execution bug in this space like

938
00:36:58,160 --> 00:37:04,970
the one you<font color="#E5E5E5"> just saw much harder to</font>

939
00:37:00,200 --> 00:37:07,460
exploit and it would make even<font color="#E5E5E5"> the</font><font color="#CCCCCC"> exist</font>

940
00:37:04,970 --> 00:37:11,029
because<font color="#CCCCCC"> we've got</font><font color="#E5E5E5"> to because this RPC</font>

941
00:37:07,460 --> 00:37:12,740
system did<font color="#CCCCCC"> not need win</font><font color="#E5E5E5"> 30k at all it</font>

942
00:37:11,030 --> 00:37:15,050
allowed us to block all of<font color="#CCCCCC"> that kernel</font>

943
00:37:12,740 --> 00:37:16,870
attack surface so the attacker who had

944
00:37:15,050 --> 00:37:19,880
just popped<font color="#E5E5E5"> edge inside the container</font>

945
00:37:16,870 --> 00:37:22,160
<font color="#E5E5E5">using a sandbox</font><font color="#CCCCCC"> escape against</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> win32</font>

946
00:37:19,880 --> 00:37:25,940
<font color="#CCCCCC">cake kernel interface</font><font color="#E5E5E5"> would</font><font color="#CCCCCC"> not</font><font color="#E5E5E5"> be able</font>

947
00:37:22,160 --> 00:37:27,500
to<font color="#E5E5E5"> reuse that once he got out</font><font color="#CCCCCC"> of the the</font>

948
00:37:25,940 --> 00:37:31,700
virtualized environment and into<font color="#E5E5E5"> this</font>

949
00:37:27,500 --> 00:37:33,690
app container<font color="#E5E5E5"> process another way to say</font>

950
00:37:31,700 --> 00:37:36,029
that<font color="#CCCCCC"> is in order</font><font color="#E5E5E5"> to</font>

951
00:37:33,690 --> 00:37:38,820
<font color="#E5E5E5">to break containment you'd have to have</font>

952
00:37:36,030 --> 00:37:40,710
<font color="#CCCCCC">a edge remote code execution</font><font color="#E5E5E5"> zero day</font><font color="#CCCCCC"> a</font>

953
00:37:38,820 --> 00:37:45,000
way to elevate out of the inside app

954
00:37:40,710 --> 00:37:46,620
container<font color="#CCCCCC"> isolation sandbox cross the</font>

955
00:37:45,000 --> 00:37:48,180
hypervisor<font color="#CCCCCC"> ground with another bug and</font>

956
00:37:46,620 --> 00:37:51,600
<font color="#E5E5E5">then you'd be right back</font><font color="#CCCCCC"> in another</font><font color="#E5E5E5"> app</font>

957
00:37:48,180 --> 00:37:52,830
container with<font color="#E5E5E5"> win32</font><font color="#CCCCCC"> CK blocked</font><font color="#E5E5E5"> so what</font>

958
00:37:51,600 --> 00:37:55,049
we've tried<font color="#CCCCCC"> to do back to that initial</font>

959
00:37:52,830 --> 00:37:56,730
strategy is make<font color="#CCCCCC"> braking containment as</font>

960
00:37:55,050 --> 00:37:58,500
difficult as possible<font color="#E5E5E5"> and hopefully</font>

961
00:37:56,730 --> 00:38:01,380
inception for attackers where you just

962
00:37:58,500 --> 00:38:06,360
move from one sandbox into the other<font color="#E5E5E5"> but</font>

963
00:38:01,380 --> 00:38:09,390
keeping containment and let's move<font color="#E5E5E5"> on</font><font color="#CCCCCC"> to</font>

964
00:38:06,360 --> 00:38:14,900
interaction aka how does this orange

965
00:38:09,390 --> 00:38:17,549
window<font color="#CCCCCC"> of magic end up on my screen so</font>

966
00:38:14,900 --> 00:38:19,620
<font color="#E5E5E5">when you launch Windows Defender</font>

967
00:38:17,550 --> 00:38:21,780
application guard<font color="#E5E5E5"> either explicitly by</font>

968
00:38:19,620 --> 00:38:24,920
launching it an edge or by<font color="#E5E5E5"> calling or</font>

969
00:38:21,780 --> 00:38:29,940
clicking on the link that is untrusted

970
00:38:24,920 --> 00:38:31,770
<font color="#E5E5E5">the container runs boots up windows gets</font>

971
00:38:29,940 --> 00:38:34,500
to the point<font color="#E5E5E5"> where</font><font color="#CCCCCC"> it launches</font><font color="#E5E5E5"> edge with</font>

972
00:38:31,770 --> 00:38:36,900
the target address<font color="#E5E5E5"> and displays it on</font>

973
00:38:34,500 --> 00:38:40,530
its own desktop<font color="#CCCCCC"> a desktop you can't see</font>

974
00:38:36,900 --> 00:38:42,540
<font color="#E5E5E5">so we anyone that's used</font><font color="#CCCCCC"> I pervy knows</font>

975
00:38:40,530 --> 00:38:44,100
about enhanced session mode possibly<font color="#CCCCCC"> a</font>

976
00:38:42,540 --> 00:38:46,500
little button<font color="#CCCCCC"> that allows you to get</font>

977
00:38:44,100 --> 00:38:49,910
<font color="#E5E5E5">even</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> better performance in graphics</font>

978
00:38:46,500 --> 00:38:53,430
out of your VM<font color="#E5E5E5"> that we leverage that</font>

979
00:38:49,910 --> 00:38:56,640
<font color="#E5E5E5">interface to pipe the RDP connection</font>

980
00:38:53,430 --> 00:38:57,120
instead of through a TCP socket

981
00:38:56,640 --> 00:38:59,730
connection

982
00:38:57,120 --> 00:39:05,270
sorry UDP<font color="#CCCCCC"> socket connection through VM</font>

983
00:38:59,730 --> 00:39:07,350
bus<font color="#CCCCCC"> again to us a new</font><font color="#E5E5E5"> Barcelona</font>

984
00:39:05,270 --> 00:39:10,800
purpose-built version of remote desktop

985
00:39:07,350 --> 00:39:13,049
<font color="#CCCCCC">client that</font><font color="#E5E5E5"> we use to display edge on</font>

986
00:39:10,800 --> 00:39:19,740
your screen<font color="#E5E5E5"> just edged not the rest of</font>

987
00:39:13,050 --> 00:39:23,160
it and we had to<font color="#E5E5E5"> work</font><font color="#CCCCCC"> with the RDP team</font>

988
00:39:19,740 --> 00:39:25,979
to limit<font color="#CCCCCC"> a lot</font><font color="#E5E5E5"> of the sub channels that</font>

989
00:39:23,160 --> 00:39:28,049
we allow<font color="#E5E5E5"> over RDP to make sure that we</font>

990
00:39:25,980 --> 00:39:32,850
have provided the smallest<font color="#E5E5E5"> attack</font>

991
00:39:28,050 --> 00:39:34,590
surface for an attacker to use<font color="#E5E5E5"> for this</font>

992
00:39:32,850 --> 00:39:39,480
scenario<font color="#E5E5E5"> we</font><font color="#CCCCCC"> don't want to allow them to</font>

993
00:39:34,590 --> 00:39:42,300
<font color="#CCCCCC">use</font><font color="#E5E5E5"> a lot of the codecs that</font><font color="#CCCCCC"> we allow</font>

994
00:39:39,480 --> 00:39:44,490
over<font color="#E5E5E5"> RDP traditionally as in most cases</font>

995
00:39:42,300 --> 00:39:47,680
<font color="#E5E5E5">the</font><font color="#CCCCCC"> the trust model is more that</font><font color="#E5E5E5"> we</font>

996
00:39:44,490 --> 00:39:50,078
trust the server<font color="#E5E5E5"> and not the client like</font>

997
00:39:47,680 --> 00:39:53,259
around<font color="#E5E5E5"> and in fact this assumption that</font>

998
00:39:50,079 --> 00:39:55,750
was built<font color="#E5E5E5"> around that those that</font><font color="#CCCCCC"> RDP was</font>

999
00:39:53,260 --> 00:39:58,809
built with actually had<font color="#CCCCCC"> fell</font><font color="#E5E5E5"> us into</font><font color="#CCCCCC"> an</font>

1000
00:39:55,750 --> 00:40:00,250
interesting<font color="#CCCCCC"> bug</font><font color="#E5E5E5"> so one of the things we</font>

1001
00:39:58,809 --> 00:40:02,140
did with these restrictions<font color="#E5E5E5"> was restrict</font>

1002
00:40:00,250 --> 00:40:04,960
clipboard<font color="#CCCCCC"> to types</font><font color="#E5E5E5"> so instead of passing</font>

1003
00:40:02,140 --> 00:40:06,430
<font color="#E5E5E5">any a lot of these different types we</font>

1004
00:40:04,960 --> 00:40:08,680
actually make a call<font color="#E5E5E5"> and pass a</font>

1005
00:40:06,430 --> 00:40:11,740
<font color="#E5E5E5">configuration</font><font color="#CCCCCC"> at that during connection</font>

1006
00:40:08,680 --> 00:40:14,259
that says don't give me a<font color="#E5E5E5"> variety of</font>

1007
00:40:11,740 --> 00:40:17,439
clipboard data essentially<font color="#E5E5E5"> just give me</font>

1008
00:40:14,260 --> 00:40:22,270
<font color="#E5E5E5">text and images over the clipboard</font>

1009
00:40:17,440 --> 00:40:27,160
interface and that's more<font color="#E5E5E5"> of</font><font color="#CCCCCC"> a attack</font>

1010
00:40:22,270 --> 00:40:30,430
surface reduction<font color="#E5E5E5"> design but it turns</font>

1011
00:40:27,160 --> 00:40:34,240
<font color="#E5E5E5">out that there is no</font><font color="#CCCCCC"> code in the client</font>

1012
00:40:30,430 --> 00:40:36,819
that actually ensures that this<font color="#CCCCCC"> this</font>

1013
00:40:34,240 --> 00:40:39,160
exclusion<font color="#CCCCCC"> policy is enforced and in fact</font>

1014
00:40:36,819 --> 00:40:41,230
the<font color="#E5E5E5"> current if the server is compromised</font>

1015
00:40:39,160 --> 00:40:43,779
in the guest<font color="#E5E5E5"> it's more than welcome to</font>

1016
00:40:41,230 --> 00:40:46,510
send<font color="#E5E5E5"> anything at once and we will gladly</font>

1017
00:40:43,780 --> 00:40:51,339
accept it and<font color="#E5E5E5"> display it as we would</font>

1018
00:40:46,510 --> 00:40:53,950
<font color="#E5E5E5">otherwise so we had to we fix that</font><font color="#CCCCCC"> when</font>

1019
00:40:51,339 --> 00:40:55,089
we changed kind of that we reviewed<font color="#E5E5E5"> RDP</font>

1020
00:40:53,950 --> 00:40:57,308
with the assumption that the server<font color="#E5E5E5"> was</font>

1021
00:40:55,089 --> 00:41:00,369
bad for the<font color="#E5E5E5"> first time and then on top</font>

1022
00:40:57,309 --> 00:41:03,190
of<font color="#CCCCCC"> that we fuzzed it again</font><font color="#E5E5E5"> this time we</font>

1023
00:41:00,369 --> 00:41:05,829
built a RDP server<font color="#E5E5E5"> that's you know spec</font>

1024
00:41:03,190 --> 00:41:08,230
informed in<font color="#CCCCCC"> a</font><font color="#E5E5E5"> generational fuzzer</font>

1025
00:41:05,829 --> 00:41:09,849
that again targets memory corruption

1026
00:41:08,230 --> 00:41:12,099
<font color="#CCCCCC">vulnerabilities and it's been highly</font>

1027
00:41:09,849 --> 00:41:14,530
<font color="#CCCCCC">successful in</font><font color="#E5E5E5"> finding and securing RDP</font>

1028
00:41:12,099 --> 00:41:17,710
not just for our scenario which is

1029
00:41:14,530 --> 00:41:19,390
<font color="#CCCCCC">defender application guard but also for</font>

1030
00:41:17,710 --> 00:41:23,170
<font color="#E5E5E5">anyone else that has this kind</font><font color="#CCCCCC"> of</font>

1031
00:41:19,390 --> 00:41:26,140
<font color="#E5E5E5">hostile server risk so</font><font color="#CCCCCC"> Dead Nation</font>

1032
00:41:23,170 --> 00:41:26,670
<font color="#E5E5E5">chambers etc so we've raised the bar</font><font color="#CCCCCC"> for</font>

1033
00:41:26,140 --> 00:41:30,308
<font color="#CCCCCC">everyone</font>

1034
00:41:26,670 --> 00:41:32,349
moreover<font color="#E5E5E5"> once again</font><font color="#CCCCCC"> we're more</font><font color="#E5E5E5"> than</font>

1035
00:41:30,309 --> 00:41:34,839
aware<font color="#CCCCCC"> of this the success of this or</font>

1036
00:41:32,349 --> 00:41:36,280
this fuzzer meant that there are enough

1037
00:41:34,839 --> 00:41:38,500
memory<font color="#CCCCCC"> corruption vulnerabilities here</font>

1038
00:41:36,280 --> 00:41:40,089
that<font color="#CCCCCC"> it we wanted to make sure that</font>

1039
00:41:38,500 --> 00:41:44,140
we've<font color="#E5E5E5"> given the attackers the worst</font>

1040
00:41:40,089 --> 00:41:46,900
<font color="#E5E5E5">possible execution space for continuing</font>

1041
00:41:44,140 --> 00:41:50,799
their attack on<font color="#CCCCCC"> this</font><font color="#E5E5E5"> to that end we also</font>

1042
00:41:46,900 --> 00:41:52,710
worked out the RDP client out of<font color="#CCCCCC"> the</font>

1043
00:41:50,799 --> 00:41:55,540
<font color="#CCCCCC">HESI</font><font color="#E5E5E5"> manager running in medium</font><font color="#CCCCCC"> i/o</font><font color="#E5E5E5"> and</font>

1044
00:41:52,710 --> 00:41:57,160
placed it in another low<font color="#E5E5E5"> privileged app</font>

1045
00:41:55,540 --> 00:41:58,630
container<font color="#E5E5E5"> with as many of the</font>

1046
00:41:57,160 --> 00:42:01,210
mitigations<font color="#CCCCCC"> that we could throw at it</font>

1047
00:41:58,630 --> 00:42:04,599
<font color="#E5E5E5">while continuing</font><font color="#CCCCCC"> to run correctly</font>

1048
00:42:01,210 --> 00:42:07,589
and<font color="#CCCCCC"> continuing to draw</font><font color="#E5E5E5"> the application</font>

1049
00:42:04,599 --> 00:42:12,089
guard<font color="#E5E5E5"> edge window on</font><font color="#CCCCCC"> your</font><font color="#E5E5E5"> screen and</font>

1050
00:42:07,589 --> 00:42:14,230
finally<font color="#E5E5E5"> we have a quick bug about</font>

1051
00:42:12,089 --> 00:42:15,819
settings mirroring which is the action

1052
00:42:14,230 --> 00:42:17,680
<font color="#E5E5E5">of actually taking the settings</font><font color="#CCCCCC"> that you</font>

1053
00:42:15,819 --> 00:42:20,680
have<font color="#E5E5E5"> an edge today</font><font color="#CCCCCC"> maybe you're a fan of</font>

1054
00:42:17,680 --> 00:42:23,980
<font color="#CCCCCC">the dark mode as I am in edge</font><font color="#E5E5E5"> it's the</font>

1055
00:42:20,680 --> 00:42:26,290
best way and you want<font color="#CCCCCC"> and edge has to</font>

1056
00:42:23,980 --> 00:42:27,490
kind<font color="#E5E5E5"> of conform in the guest to have</font>

1057
00:42:26,290 --> 00:42:29,140
those settings<font color="#CCCCCC"> even though we don't pass</font>

1058
00:42:27,490 --> 00:42:31,058
any<font color="#E5E5E5"> of those settings in again our base</font>

1059
00:42:29,140 --> 00:42:34,660
image is<font color="#E5E5E5"> created by just completely user</font>

1060
00:42:31,059 --> 00:42:37,750
agnostic data so the settings mirroring

1061
00:42:34,660 --> 00:42:39,759
app or process is actually<font color="#CCCCCC"> the manager</font>

1062
00:42:37,750 --> 00:42:41,440
<font color="#CCCCCC">process once again</font><font color="#E5E5E5"> in medium but it can</font>

1063
00:42:39,760 --> 00:42:44,380
be any medium application that makes<font color="#E5E5E5"> a</font>

1064
00:42:41,440 --> 00:42:47,230
<font color="#CCCCCC">con call that says my client ID is</font><font color="#E5E5E5"> this</font>

1065
00:42:44,380 --> 00:42:49,089
insert string here please run the

1066
00:42:47,230 --> 00:42:50,260
necessary XML file that<font color="#CCCCCC"> will give you</font>

1067
00:42:49,089 --> 00:42:53,828
the description<font color="#E5E5E5"> of what we need to do</font>

1068
00:42:50,260 --> 00:42:55,450
and then pass that information<font color="#CCCCCC"> over to</font>

1069
00:42:53,829 --> 00:42:58,030
<font color="#E5E5E5">the</font><font color="#CCCCCC"> settings worker process inside the</font>

1070
00:42:55,450 --> 00:43:00,220
guest<font color="#E5E5E5"> well it turns out there was a path</font>

1071
00:42:58,030 --> 00:43:03,309
traversal bug here and the malicious

1072
00:43:00,220 --> 00:43:04,930
medium il application<font color="#E5E5E5"> could make a comp</font>

1073
00:43:03,309 --> 00:43:07,270
call to the container service<font color="#E5E5E5"> and say hi</font>

1074
00:43:04,930 --> 00:43:09,910
my name is dot<font color="#CCCCCC"> dot slash dot dot slash</font>

1075
00:43:07,270 --> 00:43:12,700
and with this<font color="#CCCCCC"> pass traversal issue we</font>

1076
00:43:09,910 --> 00:43:15,520
could have the container service<font color="#E5E5E5"> launch</font>

1077
00:43:12,700 --> 00:43:19,058
<font color="#E5E5E5">open any XML file that</font><font color="#CCCCCC"> we we could</font>

1078
00:43:15,520 --> 00:43:21,790
control<font color="#CCCCCC"> that XML file could target a bad</font>

1079
00:43:19,059 --> 00:43:24,069
<font color="#CCCCCC">DLL that we controlled and that</font><font color="#E5E5E5"> DLL</font>

1080
00:43:21,790 --> 00:43:26,558
would be loaded into system integrity<font color="#CCCCCC"> on</font>

1081
00:43:24,069 --> 00:43:28,058
the<font color="#E5E5E5"> host so while this doesn't</font><font color="#CCCCCC"> this</font>

1082
00:43:26,559 --> 00:43:31,390
isn't a guest a<font color="#E5E5E5"> host attack it was an</font>

1083
00:43:28,059 --> 00:43:35,530
interesting<font color="#E5E5E5"> kind of segue into how we</font>

1084
00:43:31,390 --> 00:43:38,618
can<font color="#CCCCCC"> build systems</font><font color="#E5E5E5"> that inadvertently can</font>

1085
00:43:35,530 --> 00:43:42,430
affect the glow like the totality of the

1086
00:43:38,619 --> 00:43:48,059
<font color="#E5E5E5">windows security model oh forgot about</font>

1087
00:43:42,430 --> 00:43:50,410
this cool<font color="#CCCCCC"> explosion now back to Weston</font>

1088
00:43:48,059 --> 00:43:51,880
so we've showed<font color="#E5E5E5"> you a bunch of cool</font>

1089
00:43:50,410 --> 00:43:53,109
technology today<font color="#E5E5E5"> and all the</font>

1090
00:43:51,880 --> 00:43:55,660
underpinnings<font color="#E5E5E5"> that have gone through</font>

1091
00:43:53,109 --> 00:43:58,240
<font color="#CCCCCC">what I say is a</font><font color="#E5E5E5"> whole new era of</font>

1092
00:43:55,660 --> 00:43:59,649
execution isolation in<font color="#E5E5E5"> Windows this is</font>

1093
00:43:58,240 --> 00:44:01,689
really a key strategy and something

1094
00:43:59,650 --> 00:44:03,490
<font color="#E5E5E5">where beta basing on so I think what you</font>

1095
00:44:01,690 --> 00:44:05,319
<font color="#CCCCCC">should expect to see is will continue to</font>

1096
00:44:03,490 --> 00:44:08,770
<font color="#E5E5E5">improve the fundamental capabilities</font>

1097
00:44:05,319 --> 00:44:11,079
here better faster stronger<font color="#E5E5E5"> VMs</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> are</font>

1098
00:44:08,770 --> 00:44:13,030
capable<font color="#CCCCCC"> of</font><font color="#E5E5E5"> being extended to essentially</font>

1099
00:44:11,079 --> 00:44:15,050
any application<font color="#E5E5E5"> or application scenario</font>

1100
00:44:13,030 --> 00:44:16,850
increasing density and lowering

1101
00:44:15,050 --> 00:44:18,980
requirements<font color="#E5E5E5"> that's going to enable</font>

1102
00:44:16,850 --> 00:44:22,279
virtualization isolation<font color="#CCCCCC"> technology to</font>

1103
00:44:18,980 --> 00:44:24,320
reach<font color="#E5E5E5"> many more scenarios</font><font color="#CCCCCC"> and we also</font>

1104
00:44:22,280 --> 00:44:26,900
want to make<font color="#E5E5E5"> it simpler for developers</font>

1105
00:44:24,320 --> 00:44:30,500
<font color="#CCCCCC">to take</font><font color="#E5E5E5"> advantage</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> this long</font><font color="#CCCCCC"> term and</font>

1106
00:44:26,900 --> 00:44:33,020
<font color="#E5E5E5">also consumers so this is a very big</font>

1107
00:44:30,500 --> 00:44:34,970
part<font color="#E5E5E5"> of our future strategy and as you</font>

1108
00:44:33,020 --> 00:44:36,860
<font color="#E5E5E5">can see a lot</font><font color="#CCCCCC"> of effort went into not</font>

1109
00:44:34,970 --> 00:44:39,410
only optimizing the technology<font color="#E5E5E5"> but</font>

1110
00:44:36,860 --> 00:44:42,290
making<font color="#CCCCCC"> sure it's secure and our</font><font color="#E5E5E5"> I guess</font>

1111
00:44:39,410 --> 00:44:44,450
<font color="#E5E5E5">our ask of the folks here today or as we</font>

1112
00:44:42,290 --> 00:44:46,970
invite you to participate<font color="#E5E5E5"> and help you</font>

1113
00:44:44,450 --> 00:44:48,799
make this secure application guard has a

1114
00:44:46,970 --> 00:44:51,350
specific bounty that's tied to<font color="#CCCCCC"> the</font>

1115
00:44:48,800 --> 00:44:52,910
windows insider preview bounty so we've

1116
00:44:51,350 --> 00:44:55,069
got the general<font color="#E5E5E5"> windows insider preview</font>

1117
00:44:52,910 --> 00:44:57,560
<font color="#CCCCCC">bounty which has some awesome payouts</font>

1118
00:44:55,070 --> 00:44:59,780
<font color="#CCCCCC">and</font><font color="#E5E5E5"> three different specific scenarios</font>

1119
00:44:57,560 --> 00:45:02,020
in which<font color="#E5E5E5"> we ask you</font><font color="#CCCCCC"> to report issues</font>

1120
00:44:59,780 --> 00:45:05,630
that is hyper-v which offers up<font color="#E5E5E5"> to</font>

1121
00:45:02,020 --> 00:45:06,440
$250,000 bounty of Microsoft edge and

1122
00:45:05,630 --> 00:45:09,230
then there's Windows Defender

1123
00:45:06,440 --> 00:45:11,540
application<font color="#CCCCCC"> card so we invite you</font><font color="#E5E5E5"> to</font>

1124
00:45:09,230 --> 00:45:13,510
<font color="#E5E5E5">participate in</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> and take a look at</font>

1125
00:45:11,540 --> 00:45:22,759
the blog link<font color="#E5E5E5"> below if you're interested</font>

1126
00:45:13,510 --> 00:45:24,680
<font color="#CCCCCC">thank you very</font><font color="#E5E5E5"> much appreciate</font><font color="#CCCCCC"> it so we</font>

1127
00:45:22,760 --> 00:45:27,650
do have<font color="#CCCCCC"> a few minutes</font><font color="#E5E5E5"> before</font><font color="#CCCCCC"> our next</font>

1128
00:45:24,680 --> 00:45:30,830
<font color="#CCCCCC">session</font><font color="#E5E5E5"> before we have to kick these two</font>

1129
00:45:27,650 --> 00:45:33,860
gentlemen<font color="#E5E5E5"> off stage as as David pointed</font>

1130
00:45:30,830 --> 00:45:37,340
<font color="#E5E5E5">out security is not a spectator</font><font color="#CCCCCC"> sport so</font>

1131
00:45:33,860 --> 00:45:39,560
participation is<font color="#CCCCCC"> sort of incumbent on</font>

1132
00:45:37,340 --> 00:45:42,920
being part of the tribe part of the

1133
00:45:39,560 --> 00:45:45,549
community<font color="#CCCCCC"> I would</font><font color="#E5E5E5"> say in</font><font color="#CCCCCC"> addition</font><font color="#E5E5E5"> to</font>

1134
00:45:42,920 --> 00:45:47,990
things on<font color="#E5E5E5"> on today's show that have</font>

1135
00:45:45,550 --> 00:45:49,220
<font color="#E5E5E5">fascinated you you should reach out if</font>

1136
00:45:47,990 --> 00:45:51,470
things<font color="#CCCCCC"> that you're seeing today</font>

1137
00:45:49,220 --> 00:45:54,109
frustrate you we're also<font color="#E5E5E5"> pretty good</font><font color="#CCCCCC"> at</font>

1138
00:45:51,470 --> 00:45:57,200
<font color="#E5E5E5">handling that we've got broad</font><font color="#CCCCCC"> shoulders</font>

1139
00:45:54,110 --> 00:45:58,910
here in Microsoft security so come to us

1140
00:45:57,200 --> 00:46:00,529
with what you're thinking speaking of

1141
00:45:58,910 --> 00:46:06,109
what you're thinking<font color="#CCCCCC"> questions from the</font>

1142
00:46:00,530 --> 00:46:07,790
audience and we<font color="#E5E5E5"> do have microphone</font>

1143
00:46:06,110 --> 00:46:10,690
runners so that everybody<font color="#CCCCCC"> actually gets</font>

1144
00:46:07,790 --> 00:46:14,420
<font color="#E5E5E5">to hear the question not just the answer</font>

1145
00:46:10,690 --> 00:46:16,880
so what happens if you're using a older

1146
00:46:14,420 --> 00:46:20,060
legacy 32-bit application<font color="#E5E5E5"> that's going</font>

1147
00:46:16,880 --> 00:46:22,040
through sis<font color="#CCCCCC"> file 64</font><font color="#E5E5E5"> well sorry if the</font>

1148
00:46:20,060 --> 00:46:24,610
<font color="#CCCCCC">applications going through sis file 64</font>

1149
00:46:22,040 --> 00:46:27,770
<font color="#E5E5E5">can it still take</font><font color="#CCCCCC"> advantage of the</font>

1150
00:46:24,610 --> 00:46:28,260
<font color="#E5E5E5">containerization yeah guest kernel can</font>

1151
00:46:27,770 --> 00:46:29,850
are the

1152
00:46:28,260 --> 00:46:31,770
yes translation layer can convert<font color="#CCCCCC"> that</font>

1153
00:46:29,850 --> 00:46:34,279
<font color="#E5E5E5">to x64 that can cross the boundary it's</font>

1154
00:46:31,770 --> 00:46:37,410
yeah it still has<font color="#CCCCCC"> it's a still</font>

1155
00:46:34,280 --> 00:46:39,900
<font color="#E5E5E5">virtualized x64 operating system and we</font>

1156
00:46:37,410 --> 00:46:41,520
actually<font color="#E5E5E5"> do put</font><font color="#CCCCCC"> sis</font><font color="#E5E5E5"> well 64 into the</font>

1157
00:46:39,900 --> 00:46:45,300
<font color="#CCCCCC">base as</font><font color="#E5E5E5"> well</font><font color="#CCCCCC"> it's pure software it's not</font>

1158
00:46:41,520 --> 00:46:49,080
an issue<font color="#CCCCCC"> so you talked about the memory</font>

1159
00:46:45,300 --> 00:46:51,810
<font color="#E5E5E5">tax what's the what's the CPU tax</font>

1160
00:46:49,080 --> 00:46:54,450
overhead<font color="#E5E5E5"> for running one of these that</font>

1161
00:46:51,810 --> 00:46:57,450
ranges honestly depends on the<font color="#CCCCCC"> cpu model</font>

1162
00:46:54,450 --> 00:46:59,100
but it is it is fairly moderate<font color="#CCCCCC"> I don't</font>

1163
00:46:57,450 --> 00:47:01,290
have an overall aggregate benchmark

1164
00:46:59,100 --> 00:47:03,270
number that I can<font color="#CCCCCC"> share for</font><font color="#E5E5E5"> you but it</font>

1165
00:47:01,290 --> 00:47:05,340
is<font color="#E5E5E5"> in the single percentiles for most</font>

1166
00:47:03,270 --> 00:47:06,390
<font color="#E5E5E5">cases a lot</font><font color="#CCCCCC"> of that depends on it</font>

1167
00:47:05,340 --> 00:47:08,100
<font color="#E5E5E5">whether you're playing video</font><font color="#CCCCCC"> and using</font>

1168
00:47:06,390 --> 00:47:10,379
<font color="#CCCCCC">software rasterization for things like</font>

1169
00:47:08,100 --> 00:47:12,270
video but<font color="#E5E5E5"> long</font><font color="#CCCCCC"> term as we accelerate</font>

1170
00:47:10,380 --> 00:47:14,550
with like<font color="#CCCCCC"> hardware GPU that</font><font color="#E5E5E5"> we</font><font color="#CCCCCC"> exposed</font>

1171
00:47:12,270 --> 00:47:16,850
safely<font color="#E5E5E5"> those CPU requirements will go</font>

1172
00:47:14,550 --> 00:47:22,790
down but today<font color="#CCCCCC"> their scenario depending</font>

1173
00:47:16,850 --> 00:47:22,790
yeah it's<font color="#E5E5E5"> mostly i/o bound not</font><font color="#CCCCCC"> secure</font>

1174
00:47:27,390 --> 00:47:32,460
what is a logging look like anything

1175
00:47:29,670 --> 00:47:32,910
different or things show<font color="#E5E5E5"> up in the event</font>

1176
00:47:32,460 --> 00:47:37,800
log

1177
00:47:32,910 --> 00:47:42,290
so for logging in<font color="#CCCCCC"> the released version</font>

1178
00:47:37,800 --> 00:47:44,790
<font color="#CCCCCC">today</font><font color="#E5E5E5"> we have the ability to log to</font><font color="#CCCCCC"> a</font>

1179
00:47:42,290 --> 00:47:47,070
VHD that can be mounted<font color="#E5E5E5"> in the image and</font>

1180
00:47:44,790 --> 00:47:48,600
write the event logs off there shortly

1181
00:47:47,070 --> 00:47:50,040
<font color="#CCCCCC">we'll be introducing the ability to just</font>

1182
00:47:48,600 --> 00:47:51,150
integrate web or<font color="#CCCCCC"> windows event</font>

1183
00:47:50,040 --> 00:47:52,950
forwarding if you're familiar with that

1184
00:47:51,150 --> 00:47:55,770
<font color="#CCCCCC">and that will</font><font color="#E5E5E5"> give you the ability to</font>

1185
00:47:52,950 --> 00:47:57,660
collect information<font color="#CCCCCC"> but</font><font color="#E5E5E5"> actually the I</font>

1186
00:47:55,770 --> 00:47:59,430
would<font color="#E5E5E5"> say the</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> premiere experience</font>

1187
00:47:57,660 --> 00:48:00,660
for logging<font color="#CCCCCC"> and investigation inside</font><font color="#E5E5E5"> of</font>

1188
00:47:59,430 --> 00:48:03,089
one of<font color="#E5E5E5"> these containers</font><font color="#CCCCCC"> is Windows</font>

1189
00:48:00,660 --> 00:48:06,870
Defender<font color="#E5E5E5"> ATP we've actually integrated</font>

1190
00:48:03,090 --> 00:48:08,760
the ATP<font color="#E5E5E5"> agent into</font><font color="#CCCCCC"> the VM</font><font color="#E5E5E5"> and so it has</font>

1191
00:48:06,870 --> 00:48:12,480
full<font color="#CCCCCC"> visibility and a bunch of specific</font>

1192
00:48:08,760 --> 00:48:14,400
detections<font color="#E5E5E5"> that are tailored to the code</font>

1193
00:48:12,480 --> 00:48:18,570
integrity environment of application

1194
00:48:14,400 --> 00:48:21,870
guard<font color="#CCCCCC"> okay so I'd like</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> ask</font><font color="#E5E5E5"> about the</font>

1195
00:48:18,570 --> 00:48:24,780
<font color="#E5E5E5">memory management inside for the guest</font>

1196
00:48:21,870 --> 00:48:28,470
<font color="#E5E5E5">does it see like all the memory in the</font>

1197
00:48:24,780 --> 00:48:31,350
host<font color="#E5E5E5"> like</font><font color="#CCCCCC"> does the</font><font color="#E5E5E5"> VMS see all the</font>

1198
00:48:28,470 --> 00:48:34,350
physical<font color="#E5E5E5"> memory</font><font color="#CCCCCC"> of the host</font><font color="#E5E5E5"> no none</font><font color="#CCCCCC"> of</font>

1199
00:48:31,350 --> 00:48:36,560
it it<font color="#E5E5E5"> is a the GPA</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> the guest</font>

1200
00:48:34,350 --> 00:48:40,470
physical address that is assigned to the

1201
00:48:36,560 --> 00:48:42,210
VM is only<font color="#E5E5E5"> the areas that we have</font>

1202
00:48:40,470 --> 00:48:44,430
<font color="#E5E5E5">virtual</font><font color="#CCCCCC"> outlook</font><font color="#E5E5E5"> inside</font>

1203
00:48:42,210 --> 00:48:47,790
<font color="#E5E5E5">a specific process called</font><font color="#CCCCCC"> VM MDX it's a</font>

1204
00:48:44,430 --> 00:48:51,149
simple process with no threads<font color="#E5E5E5"> and any</font>

1205
00:48:47,790 --> 00:48:53,040
direct<font color="#CCCCCC"> map files are mapped into</font><font color="#E5E5E5"> the VSM</font>

1206
00:48:51,150 --> 00:48:57,210
<font color="#CCCCCC">B which</font><font color="#E5E5E5"> is the VM worker process and</font>

1207
00:48:53,040 --> 00:48:59,190
that's also<font color="#CCCCCC"> VA backed directly to the</font><font color="#E5E5E5"> or</font>

1208
00:48:57,210 --> 00:49:03,510
sorry<font color="#E5E5E5"> the</font><font color="#CCCCCC"> GP a backed directly to the</font>

1209
00:48:59,190 --> 00:49:05,580
guest and that's all we give<font color="#E5E5E5"> do we have</font>

1210
00:49:03,510 --> 00:49:08,270
any comparison of this micro

1211
00:49:05,580 --> 00:49:11,490
virtualization to products<font color="#E5E5E5"> like bromium</font>

1212
00:49:08,270 --> 00:49:13,500
comparison in what sense<font color="#E5E5E5"> they</font><font color="#CCCCCC"> would</font>

1213
00:49:11,490 --> 00:49:15,569
<font color="#E5E5E5">claim to do similar things and have for</font>

1214
00:49:13,500 --> 00:49:17,250
<font color="#E5E5E5">the past four or five</font><font color="#CCCCCC"> years I</font><font color="#E5E5E5"> think</font>

1215
00:49:15,570 --> 00:49:19,710
<font color="#E5E5E5">they're they're</font><font color="#CCCCCC"> pretty similar</font><font color="#E5E5E5"> in that</font>

1216
00:49:17,250 --> 00:49:21,270
<font color="#CCCCCC">sense</font><font color="#E5E5E5"> I would say if there were one</font>

1217
00:49:19,710 --> 00:49:23,220
advantage<font color="#CCCCCC"> of bromium certainly an</font>

1218
00:49:21,270 --> 00:49:24,570
<font color="#CCCCCC">excellent product third one advantage</font>

1219
00:49:23,220 --> 00:49:26,848
<font color="#E5E5E5">it's the deep integration with</font><font color="#CCCCCC"> Windows</font>

1220
00:49:24,570 --> 00:49:29,640
<font color="#E5E5E5">and</font><font color="#CCCCCC"> our ability over time to drive this</font>

1221
00:49:26,849 --> 00:49:32,270
down<font color="#CCCCCC"> because we own kind</font><font color="#E5E5E5"> of this full</font>

1222
00:49:29,640 --> 00:49:32,270
vertical stacks

1223
00:49:37,460 --> 00:49:41,880
<font color="#CCCCCC">we have a couple</font><font color="#E5E5E5"> more questions and then</font>

1224
00:49:40,020 --> 00:49:42,990
<font color="#E5E5E5">I think we'll</font><font color="#CCCCCC"> be wrapping it up</font><font color="#E5E5E5"> so time</font>

1225
00:49:41,880 --> 00:49:45,359
for<font color="#E5E5E5"> two</font><font color="#CCCCCC"> more quick ones</font>

1226
00:49:42,990 --> 00:49:49,229
speaking of bromium have you compared

1227
00:49:45,359 --> 00:49:53,029
benchmarks between this we we have some

1228
00:49:49,230 --> 00:49:54,990
performance data<font color="#CCCCCC"> they're</font><font color="#E5E5E5"> very comparable</font>

1229
00:49:53,030 --> 00:49:56,339
again there<font color="#E5E5E5"> are so many different</font>

1230
00:49:54,990 --> 00:49:58,859
scenarios hard for<font color="#E5E5E5"> me to give you an</font>

1231
00:49:56,339 --> 00:50:00,240
aggregate metric someone already

1232
00:49:58,859 --> 00:50:02,040
<font color="#E5E5E5">mentioned logging how is this from like</font>

1233
00:50:00,240 --> 00:50:04,859
a forensics perspective from history

1234
00:50:02,040 --> 00:50:08,009
stored etc when<font color="#CCCCCC"> the</font><font color="#E5E5E5"> user is using this</font>

1235
00:50:04,859 --> 00:50:09,720
session versus the<font color="#E5E5E5"> normal so today</font><font color="#CCCCCC"> in</font>

1236
00:50:08,010 --> 00:50:11,820
order<font color="#E5E5E5"> for you to do forensics you'd have</font>

1237
00:50:09,720 --> 00:50:14,129
to go while the VM<font color="#E5E5E5"> is still running and</font>

1238
00:50:11,820 --> 00:50:17,190
run a script<font color="#CCCCCC"> to</font><font color="#E5E5E5"> mount a VHD and grab it</font>

1239
00:50:14,130 --> 00:50:18,720
in<font color="#E5E5E5"> the next version which actually I</font>

1240
00:50:17,190 --> 00:50:20,070
<font color="#CCCCCC">think is in Windows cider preview today</font>

1241
00:50:18,720 --> 00:50:21,868
<font color="#E5E5E5">but don't quote me on that</font>

1242
00:50:20,070 --> 00:50:23,760
we support<font color="#CCCCCC"> weft so as</font><font color="#E5E5E5"> long as you're</font>

1243
00:50:21,869 --> 00:50:27,480
consistently streaming those logs<font color="#E5E5E5"> you'll</font>

1244
00:50:23,760 --> 00:50:29,339
get at least<font color="#E5E5E5"> forensic data in terms of</font>

1245
00:50:27,480 --> 00:50:30,900
logging memory<font color="#CCCCCC"> acquisition or other</font>

1246
00:50:29,339 --> 00:50:32,880
things might be<font color="#CCCCCC"> difficult this is very</font>

1247
00:50:30,900 --> 00:50:35,820
<font color="#E5E5E5">similar like</font><font color="#CCCCCC"> ephemeral VM that</font><font color="#E5E5E5"> in the</font>

1248
00:50:32,880 --> 00:50:37,650
cloud problem<font color="#CCCCCC"> again I say defender ATP</font>

1249
00:50:35,820 --> 00:50:39,630
is our solution<font color="#E5E5E5"> there which gives</font><font color="#CCCCCC"> you</font>

1250
00:50:37,650 --> 00:50:41,520
basically a flight data recorder of

1251
00:50:39,630 --> 00:50:43,740
everything that's happened there and<font color="#E5E5E5"> if</font>

1252
00:50:41,520 --> 00:50:45,839
they do adopt<font color="#E5E5E5"> memory forensics over time</font>

1253
00:50:43,740 --> 00:50:47,069
you<font color="#E5E5E5"> would have that capability there but</font>

1254
00:50:45,839 --> 00:50:49,619
if you can get to the<font color="#CCCCCC"> Machine</font><font color="#E5E5E5"> you can</font>

1255
00:50:47,070 --> 00:50:53,099
dump memory from<font color="#CCCCCC"> the</font><font color="#E5E5E5"> VM and last</font>

1256
00:50:49,619 --> 00:50:54,680
<font color="#CCCCCC">question in the back please yeah I have</font>

1257
00:50:53,099 --> 00:50:57,200
a<font color="#E5E5E5"> question</font><font color="#CCCCCC"> about</font>

1258
00:50:54,680 --> 00:50:58,910
about the boot time<font color="#E5E5E5"> I I know that you</font>

1259
00:50:57,200 --> 00:51:02,419
have made it like a very quick launch

1260
00:50:58,910 --> 00:51:05,690
<font color="#E5E5E5">PMS</font><font color="#CCCCCC"> but you still manufacture the</font><font color="#E5E5E5"> VP's</font>

1261
00:51:02,420 --> 00:51:07,519
and you have still have to even<font color="#E5E5E5"> if it's</font>

1262
00:51:05,690 --> 00:51:09,740
a via<font color="#CCCCCC"> back</font><font color="#E5E5E5"> VM you still have to boot it</font>

1263
00:51:07,519 --> 00:51:13,578
up yep<font color="#E5E5E5"> go through your cycle</font>

1264
00:51:09,740 --> 00:51:15,740
have you done anything like like this<font color="#E5E5E5"> is</font>

1265
00:51:13,579 --> 00:51:17,390
the state<font color="#E5E5E5"> where my VP is and that's</font>

1266
00:51:15,740 --> 00:51:19,970
where<font color="#E5E5E5"> I'm going to start the edge</font><font color="#CCCCCC"> or do</font>

1267
00:51:17,390 --> 00:51:21,799
you actually boot it we in the I would

1268
00:51:19,970 --> 00:51:23,779
<font color="#E5E5E5">say watch the windows insider preview</font>

1269
00:51:21,799 --> 00:51:25,160
builds absolutely<font color="#E5E5E5"> you're you're dead</font><font color="#CCCCCC"> on</font>

1270
00:51:23,779 --> 00:51:27,589
and that there are<font color="#CCCCCC"> a</font><font color="#E5E5E5"> bunch of tricks and</font>

1271
00:51:25,160 --> 00:51:29,058
optimizations for pre booting or

1272
00:51:27,589 --> 00:51:33,170
pre-launching for these very specific

1273
00:51:29,059 --> 00:51:34,670
scenarios<font color="#E5E5E5"> and in the version that we</font>

1274
00:51:33,170 --> 00:51:36,710
<font color="#E5E5E5">release doesn't have all those tricks</font>

1275
00:51:34,670 --> 00:51:38,569
<font color="#E5E5E5">but one</font><font color="#CCCCCC"> of the things we're focusing</font><font color="#E5E5E5"> on</font>

1276
00:51:36,710 --> 00:51:41,180
now<font color="#CCCCCC"> is</font><font color="#E5E5E5"> the sort of sort of</font><font color="#CCCCCC"> low-hanging</font>

1277
00:51:38,569 --> 00:51:43,308
fruit around<font color="#E5E5E5"> pre-launching and and other</font>

1278
00:51:41,180 --> 00:51:44,509
<font color="#E5E5E5">things</font><font color="#CCCCCC"> like that</font><font color="#E5E5E5"> so we'll have more to</font>

1279
00:51:43,309 --> 00:51:45,799
say<font color="#CCCCCC"> on that in the</font><font color="#E5E5E5"> future but</font><font color="#CCCCCC"> if you</font>

1280
00:51:44,509 --> 00:51:47,720
watch the<font color="#E5E5E5"> builds</font><font color="#CCCCCC"> I think you'll actually</font>

1281
00:51:45,799 --> 00:51:49,190
see<font color="#E5E5E5"> will will release</font><font color="#CCCCCC"> some blog with</font>

1282
00:51:47,720 --> 00:51:51,169
some<font color="#E5E5E5"> technical</font><font color="#CCCCCC"> details</font><font color="#E5E5E5"> all over do I</font>

1283
00:51:49,190 --> 00:51:54,019
have a<font color="#CCCCCC"> follow-up question sure</font>

1284
00:51:51,170 --> 00:51:56,869
so if if it were to<font color="#E5E5E5"> become available is</font>

1285
00:51:54,019 --> 00:51:59,479
it going to be only<font color="#CCCCCC"> for krypton kind of</font>

1286
00:51:56,869 --> 00:52:03,230
things or such a hypercar interface will

1287
00:51:59,480 --> 00:52:06,980
be exposed to other<font color="#E5E5E5"> VMs as well what do</font>

1288
00:52:03,230 --> 00:52:09,170
you mean hyper<font color="#E5E5E5"> core interface like like</font>

1289
00:52:06,980 --> 00:52:10,999
this this<font color="#E5E5E5"> application this this virtual</font>

1290
00:52:09,170 --> 00:52:13,519
processor is booted to<font color="#E5E5E5"> this particular</font>

1291
00:52:10,999 --> 00:52:14,959
<font color="#CCCCCC">state</font><font color="#E5E5E5"> if I think hyper-v container I</font>

1292
00:52:13,519 --> 00:52:16,368
<font color="#CCCCCC">premiere containers already support this</font>

1293
00:52:14,960 --> 00:52:18,999
<font color="#E5E5E5">so server based hyper-v containers</font>

1294
00:52:16,369 --> 00:52:22,130
<font color="#CCCCCC">already have a I think they call it</font>

1295
00:52:18,999 --> 00:52:23,538
<font color="#E5E5E5">really on they call it zygote which is a</font>

1296
00:52:22,130 --> 00:52:25,190
weird<font color="#CCCCCC"> name and I don't</font><font color="#E5E5E5"> like it but</font>

1297
00:52:23,539 --> 00:52:27,710
<font color="#E5E5E5">essentially the idea is that</font><font color="#CCCCCC"> they'd</font>

1298
00:52:25,190 --> 00:52:29,539
start a container<font color="#CCCCCC"> all the way until it</font>

1299
00:52:27,710 --> 00:52:31,549
runs the<font color="#E5E5E5"> windows serve Windows Server</font>

1300
00:52:29,539 --> 00:52:35,119
container<font color="#E5E5E5"> workload they</font><font color="#CCCCCC"> pause</font><font color="#E5E5E5"> it and</font>

1301
00:52:31,549 --> 00:52:38,569
<font color="#E5E5E5">then</font><font color="#CCCCCC"> they cloned</font><font color="#E5E5E5"> that both the</font><font color="#CCCCCC"> VM worker</font>

1302
00:52:35,119 --> 00:52:40,999
process and the hypervisor<font color="#E5E5E5"> VP</font>

1303
00:52:38,569 --> 00:52:43,549
information to start immediately<font color="#CCCCCC"> there</font>

1304
00:52:40,999 --> 00:52:46,640
and then pass on the guest stuff now the

1305
00:52:43,549 --> 00:52:48,019
difference with Krypton<font color="#CCCCCC"> as opposed to</font>

1306
00:52:46,640 --> 00:52:51,739
<font color="#CCCCCC">Zenon which is Windows server containers</font>

1307
00:52:48,019 --> 00:52:53,720
<font color="#E5E5E5">is the actual number of files that are</font>

1308
00:52:51,739 --> 00:52:56,589
<font color="#CCCCCC">being direct mapped etc and</font><font color="#E5E5E5"> also</font>

1309
00:52:53,720 --> 00:52:59,689
<font color="#E5E5E5">obviously much later in the phase of</font>

1310
00:52:56,589 --> 00:53:02,269
<font color="#CCCCCC">boom that we'd have to hold on to it</font>

1311
00:52:59,690 --> 00:53:05,390
<font color="#E5E5E5">before launching edge</font><font color="#CCCCCC"> so watch that</font>

1312
00:53:02,269 --> 00:53:07,129
space you'll you'll see a lot<font color="#CCCCCC"> of that</font>

1313
00:53:05,390 --> 00:53:07,799
coming in but none of<font color="#E5E5E5"> that has any</font><font color="#CCCCCC"> kind</font>

1314
00:53:07,130 --> 00:53:09,510
of like

1315
00:53:07,800 --> 00:53:12,330
<font color="#E5E5E5">recall from</font><font color="#CCCCCC"> the guest</font><font color="#E5E5E5"> that's entirely</font>

1316
00:53:09,510 --> 00:53:17,100
managed by the host side<font color="#E5E5E5"> yeah I meant</font>

1317
00:53:12,330 --> 00:53:18,420
the host site cool thank you<font color="#CCCCCC"> NORs thank</font>

1318
00:53:17,100 --> 00:53:21,270
you everybody

1319
00:53:18,420 --> 00:53:21,660
big thanks to<font color="#E5E5E5"> Dave and to Sauron for</font>

1320
00:53:21,270 --> 00:53:27,110
their time

1321
00:53:21,660 --> 00:53:27,109
[Applause]

