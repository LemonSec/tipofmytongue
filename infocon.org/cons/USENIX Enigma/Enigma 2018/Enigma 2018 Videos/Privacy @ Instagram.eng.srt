1
00:00:05,220 --> 00:00:11,410
hello everyone my name is<font color="#E5E5E5"> Kari</font><font color="#CCCCCC"> Jeong I</font>

2
00:00:08,380 --> 00:00:14,769
work at<font color="#CCCCCC"> Coursera team at Instagram</font>

3
00:00:11,410 --> 00:00:16,869
<font color="#E5E5E5">really focusing on data privacy so this</font>

4
00:00:14,769 --> 00:00:19,330
talk I'll cover the initiative of

5
00:00:16,869 --> 00:00:21,550
building a centralized privacy service

6
00:00:19,330 --> 00:00:23,859
<font color="#E5E5E5">the different designs we</font><font color="#CCCCCC"> have explored</font>

7
00:00:21,550 --> 00:00:26,260
and<font color="#E5E5E5"> I'll explain details how the</font>

8
00:00:23,859 --> 00:00:29,380
<font color="#E5E5E5">framework works and our way to infer</font>

9
00:00:26,260 --> 00:00:31,570
privacy policy<font color="#E5E5E5"> so this is a security and</font>

10
00:00:29,380 --> 00:00:33,700
privacy conference<font color="#E5E5E5"> everybody is an</font>

11
00:00:31,570 --> 00:00:36,220
<font color="#CCCCCC">expert of</font><font color="#E5E5E5"> the field I would like to</font>

12
00:00:33,700 --> 00:00:38,410
emphasize that<font color="#E5E5E5"> privacy</font><font color="#CCCCCC"> is a core to</font>

13
00:00:36,220 --> 00:00:40,300
everything<font color="#CCCCCC"> we do at Instagram let me</font>

14
00:00:38,410 --> 00:00:43,779
start by<font color="#E5E5E5"> telling a little story about</font>

15
00:00:40,300 --> 00:00:47,620
privacy and Instagram<font color="#E5E5E5"> so jump back in</font>

16
00:00:43,780 --> 00:00:50,260
time in 2010<font color="#E5E5E5"> Instagram is an amazing</font>

17
00:00:47,620 --> 00:00:52,349
media sharing<font color="#E5E5E5"> apps with fancy filters</font>

18
00:00:50,260 --> 00:00:54,849
loved by tons of early adopters

19
00:00:52,350 --> 00:00:57,010
<font color="#CCCCCC">Instagram started with two</font><font color="#E5E5E5"> people</font>

20
00:00:54,850 --> 00:00:59,890
working day and night on<font color="#CCCCCC"> jungle stacks</font>

21
00:00:57,010 --> 00:01:01,900
<font color="#E5E5E5">have build a bunch of</font><font color="#CCCCCC"> endpoints</font><font color="#E5E5E5"> so we</font>

22
00:00:59,890 --> 00:01:03,820
started with supporting to type account

23
00:01:01,900 --> 00:01:06,100
public health and<font color="#E5E5E5"> a private account</font>

24
00:01:03,820 --> 00:01:09,760
public contents are visible<font color="#CCCCCC"> to the world</font>

25
00:01:06,100 --> 00:01:11,800
<font color="#CCCCCC">but private contents but</font><font color="#E5E5E5"> contents posted</font>

26
00:01:09,760 --> 00:01:16,510
by private accounts are only visible to

27
00:01:11,800 --> 00:01:19,720
<font color="#E5E5E5">the followers privacy was important from</font>

28
00:01:16,510 --> 00:01:22,090
day one and also simple so we have a

29
00:01:19,720 --> 00:01:26,080
simple<font color="#E5E5E5"> message which hides accountant if</font>

30
00:01:22,090 --> 00:01:29,230
the viewer is not<font color="#CCCCCC"> a follower so in just</font>

31
00:01:26,080 --> 00:01:32,320
less than<font color="#CCCCCC"> two years in 2012</font><font color="#E5E5E5"> Instagram</font>

32
00:01:29,230 --> 00:01:36,159
has 18 million registered<font color="#CCCCCC"> users 300</font>

33
00:01:32,320 --> 00:01:39,610
million in<font color="#E5E5E5"> 2014 and 500 million in 2036</font>

34
00:01:36,159 --> 00:01:43,300
<font color="#CCCCCC">16 and now currently serving 800 million</font>

35
00:01:39,610 --> 00:01:45,150
active users<font color="#CCCCCC"> at the</font><font color="#E5E5E5"> same time Instagram</font>

36
00:01:43,300 --> 00:01:48,640
<font color="#E5E5E5">Engineers grow significantly</font>

37
00:01:45,150 --> 00:01:51,940
<font color="#CCCCCC">year-over-year</font><font color="#E5E5E5"> so what does engineers do</font>

38
00:01:48,640 --> 00:01:54,070
we build lots<font color="#E5E5E5"> of features so we ship</font>

39
00:01:51,940 --> 00:01:58,170
countless new features in the past years

40
00:01:54,070 --> 00:02:01,929
our<font color="#E5E5E5"> never feel</font><font color="#CCCCCC"> that our</font><font color="#E5E5E5"> privacy related</font>

41
00:01:58,170 --> 00:02:04,930
<font color="#E5E5E5">first hashtag hashtag is designed to</font>

42
00:02:01,930 --> 00:02:07,479
search and<font color="#CCCCCC"> pad</font><font color="#E5E5E5"> contents but how about</font>

43
00:02:04,930 --> 00:02:09,289
private contents that be intact<font color="#CCCCCC"> they</font>

44
00:02:07,479 --> 00:02:12,950
should never show<font color="#CCCCCC"> up on the hash</font>

45
00:02:09,288 --> 00:02:15,708
<font color="#CCCCCC">homepage unless</font><font color="#E5E5E5"> view is a follower then</font>

46
00:02:12,950 --> 00:02:17,420
activity<font color="#CCCCCC"> inbox shows</font><font color="#E5E5E5"> the activity of the</font>

47
00:02:15,709 --> 00:02:20,060
accounts<font color="#CCCCCC"> that you have followed but</font>

48
00:02:17,420 --> 00:02:23,869
<font color="#CCCCCC">let's not forget</font><font color="#E5E5E5"> to hide activity taken</font>

49
00:02:20,060 --> 00:02:26,599
on the private account<font color="#CCCCCC"> feet and explore</font>

50
00:02:23,870 --> 00:02:28,879
this is an engagement<font color="#CCCCCC"> angel for us and</font>

51
00:02:26,599 --> 00:02:30,349
drive a lot<font color="#CCCCCC"> of the user traffic's</font><font color="#E5E5E5"> we</font>

52
00:02:28,879 --> 00:02:32,810
need to make<font color="#CCCCCC"> sure</font><font color="#E5E5E5"> that the content</font>

53
00:02:30,349 --> 00:02:36,560
<font color="#E5E5E5">appropriate</font><font color="#CCCCCC"> to the viewer so it's time</font>

54
00:02:32,810 --> 00:02:38,569
<font color="#E5E5E5">to think about H and</font><font color="#CCCCCC"> G o</font><font color="#E5E5E5"> gating so guess</font>

55
00:02:36,560 --> 00:02:41,180
what happens with a simple<font color="#E5E5E5"> message</font><font color="#CCCCCC"> that</font>

56
00:02:38,569 --> 00:02:43,970
which does privacy filtering this is a

57
00:02:41,180 --> 00:02:44,750
<font color="#CCCCCC">pseudocode</font><font color="#E5E5E5"> for what we do for activity</font>

58
00:02:43,970 --> 00:02:47,419
inbox

59
00:02:44,750 --> 00:02:49,819
I guess they no longer look<font color="#E5E5E5"> simple so</font>

60
00:02:47,419 --> 00:02:52,040
given a list of<font color="#CCCCCC"> activities</font><font color="#E5E5E5"> we need to</font>

61
00:02:49,819 --> 00:02:54,560
first make sure<font color="#E5E5E5"> that</font><font color="#CCCCCC"> the viewer is still</font>

62
00:02:52,040 --> 00:02:57,108
interested<font color="#E5E5E5"> in the activity meaning that</font>

63
00:02:54,560 --> 00:02:59,090
<font color="#E5E5E5">he</font><font color="#CCCCCC"> is not</font><font color="#E5E5E5"> blocked or blocked the action</font>

64
00:02:57,109 --> 00:03:01,730
there<font color="#CCCCCC"> there we</font><font color="#E5E5E5"> mean we need to make sure</font>

65
00:02:59,090 --> 00:03:04,220
<font color="#E5E5E5">that the target hand is visible meaning</font>

66
00:03:01,730 --> 00:03:06,798
<font color="#CCCCCC">and is neither private</font><font color="#E5E5E5"> or blocked the</font>

67
00:03:04,220 --> 00:03:09,680
same<font color="#E5E5E5"> also applied to media the viewer</font>

68
00:03:06,799 --> 00:03:11,599
has<font color="#CCCCCC"> to</font><font color="#E5E5E5"> be able to</font><font color="#CCCCCC"> look at the media so</font>

69
00:03:09,680 --> 00:03:15,489
this message is<font color="#E5E5E5"> no longer simple but</font>

70
00:03:11,599 --> 00:03:18,290
this is<font color="#CCCCCC"> also not the most</font><font color="#E5E5E5"> difficult part</font>

71
00:03:15,489 --> 00:03:20,810
there<font color="#E5E5E5"> are privacy tracks</font><font color="#CCCCCC"> cats weather</font>

72
00:03:18,290 --> 00:03:24,709
<font color="#E5E5E5">around different</font><font color="#CCCCCC"> endpoints</font><font color="#E5E5E5"> and we have</font>

73
00:03:20,810 --> 00:03:26,959
to keep them in sync<font color="#CCCCCC"> a change in one</font>

74
00:03:24,709 --> 00:03:29,720
<font color="#E5E5E5">endpoint may lead to the same change in</font>

75
00:03:26,959 --> 00:03:31,879
multiple different<font color="#CCCCCC"> endpoints so if we're</font>

76
00:03:29,720 --> 00:03:35,510
<font color="#E5E5E5">not being careful enough</font><font color="#CCCCCC"> it's possible</font>

77
00:03:31,879 --> 00:03:37,370
that the<font color="#CCCCCC"> privacy the privacy rules</font><font color="#E5E5E5"> our</font>

78
00:03:35,510 --> 00:03:40,040
notification are different from<font color="#E5E5E5"> the</font>

79
00:03:37,370 --> 00:03:42,379
media so that<font color="#E5E5E5"> as a result a user may</font>

80
00:03:40,040 --> 00:03:46,010
receive a notification<font color="#E5E5E5"> but not able</font><font color="#CCCCCC"> to</font>

81
00:03:42,379 --> 00:03:48,018
look at the media so as instrument<font color="#E5E5E5"> grows</font>

82
00:03:46,010 --> 00:03:50,358
<font color="#E5E5E5">the privacy policy become more</font>

83
00:03:48,019 --> 00:03:53,479
complicated<font color="#CCCCCC"> and synchronization between</font>

84
00:03:50,359 --> 00:03:57,430
different features are more difficult<font color="#E5E5E5"> so</font>

85
00:03:53,479 --> 00:03:59,810
we need a centralized privacy service

86
00:03:57,430 --> 00:04:02,389
there are<font color="#E5E5E5"> many ways of building a</font>

87
00:03:59,810 --> 00:04:04,760
centralized<font color="#E5E5E5"> privacy service and we have</font>

88
00:04:02,389 --> 00:04:07,250
mini<font color="#CCCCCC"> explore to the employee level</font>

89
00:04:04,760 --> 00:04:10,129
privacy track<font color="#E5E5E5"> versus data level privacy</font>

90
00:04:07,250 --> 00:04:12,409
check with the employee level<font color="#E5E5E5"> design</font>

91
00:04:10,129 --> 00:04:14,328
privacy rules are defined<font color="#E5E5E5"> at each</font>

92
00:04:12,409 --> 00:04:16,130
<font color="#E5E5E5">endpoint and privacy checks are done</font>

93
00:04:14,329 --> 00:04:18,650
<font color="#CCCCCC">before sending the response to the</font>

94
00:04:16,130 --> 00:04:21,798
<font color="#CCCCCC">client with theta level design</font>

95
00:04:18,649 --> 00:04:22,460
<font color="#CCCCCC">procedures checks are explicitly happens</font>

96
00:04:21,798 --> 00:04:25,008
Express

97
00:04:22,460 --> 00:04:27,138
at theta<font color="#CCCCCC"> thatching level</font><font color="#E5E5E5"> any</font><font color="#CCCCCC"> Content</font>

98
00:04:25,009 --> 00:04:29,180
<font color="#CCCCCC">that</font><font color="#E5E5E5"> does not pass</font><font color="#CCCCCC"> a privacy check will</font>

99
00:04:27,139 --> 00:04:32,990
get filter out before reaching to the

100
00:04:29,180 --> 00:04:35,660
<font color="#E5E5E5">production code so let me jump into the</font>

101
00:04:32,990 --> 00:04:37,460
<font color="#E5E5E5">details with endpoint level privacy</font>

102
00:04:35,660 --> 00:04:39,740
check developer need to explicitly

103
00:04:37,460 --> 00:04:40,489
<font color="#E5E5E5">define what</font><font color="#CCCCCC"> type of content share</font><font color="#E5E5E5"> gets</font>

104
00:04:39,740 --> 00:04:43,069
<font color="#E5E5E5">with her out</font>

105
00:04:40,490 --> 00:04:45,169
it is extremely<font color="#E5E5E5"> flexible and clear on</font>

106
00:04:43,069 --> 00:04:47,630
what kind<font color="#E5E5E5"> of privacy rule on each end</font>

107
00:04:45,169 --> 00:04:49,448
<font color="#E5E5E5">point so developer can easily configure</font>

108
00:04:47,630 --> 00:04:51,380
<font color="#CCCCCC">different privacy settings or</font>

109
00:04:49,449 --> 00:04:54,229
administrative<font color="#E5E5E5"> endpoint versus a</font>

110
00:04:51,380 --> 00:04:56,840
production in point<font color="#E5E5E5"> but the flexibility</font>

111
00:04:54,229 --> 00:04:58,758
come at a<font color="#E5E5E5"> cost of high maintenance that</font>

112
00:04:56,840 --> 00:05:01,758
the developer need to actually<font color="#E5E5E5"> master</font>

113
00:04:58,759 --> 00:05:05,660
<font color="#E5E5E5">the privacy settings and makes a correct</font>

114
00:05:01,759 --> 00:05:08,240
choice<font color="#E5E5E5"> also to</font><font color="#CCCCCC"> t-rex result might be a</font>

115
00:05:05,660 --> 00:05:12,259
problem<font color="#CCCCCC"> for example or instant grant</font>

116
00:05:08,240 --> 00:05:16,070
<font color="#E5E5E5">Explorer home page it displayed in a</font>

117
00:05:12,259 --> 00:05:18,289
grid format<font color="#E5E5E5"> of a ranked content</font><font color="#CCCCCC"> a fixed</font>

118
00:05:16,070 --> 00:05:20,659
number of<font color="#CCCCCC"> posts are expected to return</font>

119
00:05:18,289 --> 00:05:23,180
<font color="#CCCCCC">to the client so we will</font><font color="#E5E5E5"> have to either</font>

120
00:05:20,659 --> 00:05:26,389
<font color="#E5E5E5">over a patch or</font><font color="#CCCCCC"> refresh</font><font color="#E5E5E5"> because it's</font><font color="#CCCCCC"> now</font>

121
00:05:23,180 --> 00:05:28,789
easy to<font color="#E5E5E5"> estimate how</font><font color="#CCCCCC"> many number of</font>

122
00:05:26,389 --> 00:05:32,330
<font color="#E5E5E5">posts that</font><font color="#CCCCCC"> get you two out by</font><font color="#E5E5E5"> privacy</font>

123
00:05:28,789 --> 00:05:34,520
framework so<font color="#E5E5E5"> with beta level design</font>

124
00:05:32,330 --> 00:05:36,560
privacy<font color="#E5E5E5"> tracks are hidden from product</font>

125
00:05:34,520 --> 00:05:39,198
code privacy tracks happens

126
00:05:36,560 --> 00:05:41,659
automatically and<font color="#E5E5E5"> implicitly so we're</font>

127
00:05:39,199 --> 00:05:44,419
<font color="#CCCCCC">developing new features</font><font color="#E5E5E5"> developer can</font>

128
00:05:41,659 --> 00:05:46,699
focus on the business logic<font color="#E5E5E5"> whatever</font>

129
00:05:44,419 --> 00:05:49,520
returns<font color="#E5E5E5"> from the data API</font><font color="#CCCCCC"> is</font><font color="#E5E5E5"> already</font>

130
00:05:46,699 --> 00:05:52,699
safe<font color="#E5E5E5"> and also we don't</font><font color="#CCCCCC"> have the over</font>

131
00:05:49,520 --> 00:05:54,710
<font color="#CCCCCC">fetching problem pervasively the</font>

132
00:05:52,699 --> 00:05:56,630
counters are<font color="#CCCCCC"> filtered out at the</font><font color="#E5E5E5"> first</font>

133
00:05:54,710 --> 00:05:58,460
place so that<font color="#CCCCCC"> all the candidates</font>

134
00:05:56,630 --> 00:06:00,979
provided to the ranking pipeline shall

135
00:05:58,460 --> 00:06:03,258
be already good<font color="#E5E5E5"> the downside of data</font>

136
00:06:00,979 --> 00:06:05,419
level privacy check is that<font color="#CCCCCC"> the privacy</font>

137
00:06:03,259 --> 00:06:08,870
<font color="#CCCCCC">Chacma happens on every</font><font color="#E5E5E5"> single object</font>

138
00:06:05,419 --> 00:06:11,448
<font color="#CCCCCC">patch</font><font color="#E5E5E5"> during</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> fit request the same user</font>

139
00:06:08,870 --> 00:06:14,270
object might have patched hundreds of

140
00:06:11,449 --> 00:06:17,800
times<font color="#E5E5E5"> so building and building a public</font>

141
00:06:14,270 --> 00:06:17,799
<font color="#E5E5E5">hash is critical</font>

142
00:06:19,540 --> 00:06:23,800
so let's stay back and think<font color="#CCCCCC"> about what</font>

143
00:06:22,150 --> 00:06:26,979
we are<font color="#E5E5E5"> looking</font><font color="#CCCCCC"> for out of</font><font color="#E5E5E5"> a private</font>

144
00:06:23,800 --> 00:06:31,540
<font color="#E5E5E5">privacy framework first it should be</font>

145
00:06:26,980 --> 00:06:34,240
correct if you<font color="#E5E5E5"> filter out all privacy</font>

146
00:06:31,540 --> 00:06:37,260
violation of all<font color="#E5E5E5"> end points meaning that</font>

147
00:06:34,240 --> 00:06:39,940
zero privacy<font color="#E5E5E5"> incidents on the platform</font>

148
00:06:37,260 --> 00:06:42,700
next it should be performant<font color="#CCCCCC"> any</font>

149
00:06:39,940 --> 00:06:45,070
security<font color="#CCCCCC"> protection come at a cost we</font>

150
00:06:42,700 --> 00:06:47,380
need<font color="#CCCCCC"> to</font><font color="#E5E5E5"> be aware</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> the price and third</font>

151
00:06:45,070 --> 00:06:49,240
its developer velocity we want to

152
00:06:47,380 --> 00:06:51,820
collect provide the frameworks that

153
00:06:49,240 --> 00:06:54,690
<font color="#E5E5E5">developer can develop at the high paced</font>

154
00:06:51,820 --> 00:06:58,300
<font color="#E5E5E5">without worrying too</font><font color="#CCCCCC"> much about privacy</font>

155
00:06:54,690 --> 00:07:00,969
<font color="#E5E5E5">so let's compare the two approaches for</font>

156
00:06:58,300 --> 00:07:04,540
<font color="#CCCCCC">the employ level design</font><font color="#E5E5E5"> it is flexible</font>

157
00:07:00,970 --> 00:07:06,520
<font color="#E5E5E5">but it is also high maintenance that is</font>

158
00:07:04,540 --> 00:07:09,400
realized on<font color="#E5E5E5"> the developer to do the</font>

159
00:07:06,520 --> 00:07:11,890
correct thing<font color="#E5E5E5"> the over fetch is probably</font>

160
00:07:09,400 --> 00:07:14,200
required for rank data<font color="#E5E5E5"> and it doesn't</font>

161
00:07:11,890 --> 00:07:15,940
really help developer velocity because

162
00:07:14,200 --> 00:07:19,840
developers<font color="#E5E5E5"> still need to master the</font>

163
00:07:15,940 --> 00:07:22,719
privacy settings for data<font color="#E5E5E5"> level design</font>

164
00:07:19,840 --> 00:07:25,450
<font color="#CCCCCC">it is enforced</font><font color="#E5E5E5"> everywhere so it should</font>

165
00:07:22,720 --> 00:07:27,670
<font color="#E5E5E5">be low</font><font color="#CCCCCC"> maintenance</font><font color="#E5E5E5"> and we could adopt a</font>

166
00:07:25,450 --> 00:07:30,820
multiple fetch by having a proper cache

167
00:07:27,670 --> 00:07:32,980
and because it<font color="#E5E5E5"> is implicit and automatic</font>

168
00:07:30,820 --> 00:07:35,950
so it is risk<font color="#CCCCCC"> free for</font><font color="#E5E5E5"> most of the</font>

169
00:07:32,980 --> 00:07:38,380
developers<font color="#E5E5E5"> so with hundreds of engineers</font>

170
00:07:35,950 --> 00:07:40,870
<font color="#CCCCCC">up at</font><font color="#E5E5E5"> Instagram we decided to go with</font>

171
00:07:38,380 --> 00:07:45,460
data level privacy check for correctness

172
00:07:40,870 --> 00:07:48,460
<font color="#CCCCCC">and developer velocity data level</font><font color="#E5E5E5"> is a</font>

173
00:07:45,460 --> 00:07:51,070
generic term<font color="#E5E5E5"> includes the data storage</font>

174
00:07:48,460 --> 00:07:53,260
is a<font color="#E5E5E5"> caching layer and as</font><font color="#CCCCCC"> an API</font><font color="#E5E5E5"> so</font>

175
00:07:51,070 --> 00:07:55,870
where should privacy live in the data

176
00:07:53,260 --> 00:07:58,780
level it could live all the<font color="#CCCCCC"> way at the</font>

177
00:07:55,870 --> 00:08:02,200
data<font color="#E5E5E5"> storage in this way it protects all</font>

178
00:07:58,780 --> 00:08:06,280
<font color="#E5E5E5">the access to the DB and also it will be</font>

179
00:08:02,200 --> 00:08:09,130
API<font color="#E5E5E5"> invalid or equal live at the API</font>

180
00:08:06,280 --> 00:08:11,409
<font color="#CCCCCC">level to</font><font color="#E5E5E5"> support multiple data storages</font>

181
00:08:09,130 --> 00:08:13,870
<font color="#CCCCCC">in current days we probably have</font>

182
00:08:11,410 --> 00:08:15,850
multiple<font color="#E5E5E5"> data fetching API for different</font>

183
00:08:13,870 --> 00:08:18,550
<font color="#E5E5E5">languages and they all need</font><font color="#CCCCCC"> to be</font>

184
00:08:15,850 --> 00:08:20,380
privacy<font color="#CCCCCC"> a word</font><font color="#E5E5E5"> so this is probably an</font>

185
00:08:18,550 --> 00:08:22,780
open-ended question that is highly

186
00:08:20,380 --> 00:08:23,500
coupled with existing data fetching

187
00:08:22,780 --> 00:08:25,419
system

188
00:08:23,500 --> 00:08:27,370
we took the second<font color="#E5E5E5"> approach for the</font>

189
00:08:25,420 --> 00:08:33,230
<font color="#E5E5E5">potential to support multiple data</font>

190
00:08:27,370 --> 00:08:35,900
storages so Before we jump into<font color="#E5E5E5"> how the</font>

191
00:08:33,230 --> 00:08:39,020
<font color="#CCCCCC">or works</font><font color="#E5E5E5"> let me quickly explain the</font>

192
00:08:35,900 --> 00:08:42,079
terminologies we use here the viewer

193
00:08:39,020 --> 00:08:44,750
contacts describes<font color="#E5E5E5"> everything we need to</font>

194
00:08:42,080 --> 00:08:49,580
know about the user<font color="#E5E5E5"> like</font><font color="#CCCCCC"> the user ID the</font>

195
00:08:44,750 --> 00:08:52,490
<font color="#E5E5E5">geolocation IP and the privacy</font><font color="#CCCCCC"> rule</font>

196
00:08:49,580 --> 00:08:55,670
describes allow or deny decision based

197
00:08:52,490 --> 00:08:58,130
on one privacy scenario<font color="#E5E5E5"> for example</font><font color="#CCCCCC"> we</font>

198
00:08:55,670 --> 00:09:03,170
<font color="#CCCCCC">should deny</font><font color="#E5E5E5"> if the viewer has blocked a</font>

199
00:08:58,130 --> 00:09:06,740
user and the privacy policy<font color="#E5E5E5"> describes</font>

200
00:09:03,170 --> 00:09:10,010
the law<font color="#E5E5E5"> denied decision or object based</font>

201
00:09:06,740 --> 00:09:12,710
on a<font color="#E5E5E5"> series of privacy scenarios so a</font>

202
00:09:10,010 --> 00:09:16,250
policy is per<font color="#E5E5E5"> object based and it</font>

203
00:09:12,710 --> 00:09:18,110
consists of a set<font color="#E5E5E5"> of privacy rules so</font>

204
00:09:16,250 --> 00:09:19,190
let's<font color="#CCCCCC"> look at the implementation of one</font>

205
00:09:18,110 --> 00:09:22,250
privacy rule

206
00:09:19,190 --> 00:09:24,890
this is deny if user is blocked rule

207
00:09:22,250 --> 00:09:27,080
similar with<font color="#E5E5E5"> any privacy checks we need</font>

208
00:09:24,890 --> 00:09:29,540
to know<font color="#E5E5E5"> first who is a viewers of your</font>

209
00:09:27,080 --> 00:09:32,270
contacts<font color="#E5E5E5"> and next who is what is</font>

210
00:09:29,540 --> 00:09:33,589
accountant<font color="#E5E5E5"> the</font><font color="#CCCCCC"> node the implementation</font>

211
00:09:32,270 --> 00:09:36,170
is pretty<font color="#E5E5E5"> straightforward</font>

212
00:09:33,590 --> 00:09:38,240
<font color="#E5E5E5">we check if</font><font color="#CCCCCC"> the user has blocked or</font>

213
00:09:36,170 --> 00:09:41,449
blocked by the viewer<font color="#CCCCCC"> if this is the</font>

214
00:09:38,240 --> 00:09:44,360
case we deny this access if not we

215
00:09:41,450 --> 00:09:46,910
continue evaluating<font color="#E5E5E5"> the next</font><font color="#CCCCCC"> scenario so</font>

216
00:09:44,360 --> 00:09:49,900
each privacy rule covers<font color="#E5E5E5"> one scenario</font>

217
00:09:46,910 --> 00:09:53,449
<font color="#CCCCCC">and we group them into</font><font color="#E5E5E5"> a privacy policy</font>

218
00:09:49,900 --> 00:09:56,060
<font color="#E5E5E5">policy policies defined per object this</font>

219
00:09:53,450 --> 00:09:59,090
<font color="#CCCCCC">is a</font><font color="#E5E5E5"> sample object of</font><font color="#CCCCCC"> our user policy</font>

220
00:09:56,060 --> 00:10:01,550
it consists of<font color="#E5E5E5"> four rules the rules will</font>

221
00:09:59,090 --> 00:10:04,220
be evaluated in the<font color="#E5E5E5"> sequential order and</font>

222
00:10:01,550 --> 00:10:07,240
the first<font color="#E5E5E5"> allow or deny decision will be</font>

223
00:10:04,220 --> 00:10:10,310
<font color="#CCCCCC">the final decision of</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> privacy check</font>

224
00:10:07,240 --> 00:10:13,340
we started with<font color="#CCCCCC"> deny if user</font><font color="#E5E5E5"> blocked</font>

225
00:10:10,310 --> 00:10:15,439
<font color="#E5E5E5">rule followed by user of the knife user</font>

226
00:10:13,340 --> 00:10:18,500
<font color="#CCCCCC">SCADA</font><font color="#E5E5E5"> rule which handles the age and the</font>

227
00:10:15,440 --> 00:10:21,140
<font color="#CCCCCC">gio gating and</font><font color="#E5E5E5"> then public</font><font color="#CCCCCC"> hands should</font>

228
00:10:18,500 --> 00:10:23,690
be<font color="#E5E5E5"> always visible</font><font color="#CCCCCC"> if we didn't satisfy</font>

229
00:10:21,140 --> 00:10:28,250
any<font color="#E5E5E5"> of the condition we always return</font>

230
00:10:23,690 --> 00:10:30,650
<font color="#E5E5E5">denied access we could also build</font>

231
00:10:28,250 --> 00:10:33,050
<font color="#E5E5E5">delegation relationship between privacy</font>

232
00:10:30,650 --> 00:10:35,750
<font color="#E5E5E5">rules delegations happens pretty</font>

233
00:10:33,050 --> 00:10:38,000
naturally for example if you cannot even

234
00:10:35,750 --> 00:10:40,280
look at account<font color="#CCCCCC"> you should not able to</font>

235
00:10:38,000 --> 00:10:43,250
see the<font color="#E5E5E5"> media or the</font><font color="#CCCCCC"> content from the</font>

236
00:10:40,280 --> 00:10:46,010
<font color="#CCCCCC">account so this</font><font color="#E5E5E5"> is a simplified version</font>

237
00:10:43,250 --> 00:10:48,830
<font color="#CCCCCC">of</font><font color="#E5E5E5"> the privacy policies on</font>

238
00:10:46,010 --> 00:10:51,500
<font color="#CCCCCC">Media the denying media owner rule</font>

239
00:10:48,830 --> 00:10:54,230
<font color="#E5E5E5">basically</font><font color="#CCCCCC"> enforces the parents which is</font>

240
00:10:51,500 --> 00:10:56,480
<font color="#CCCCCC">a media has to</font><font color="#E5E5E5"> be loadable by the viewer</font>

241
00:10:54,230 --> 00:10:59,210
<font color="#E5E5E5">otherwise</font><font color="#CCCCCC"> a teen iowa</font><font color="#E5E5E5"> access will be</font>

242
00:10:56,480 --> 00:11:02,660
denied<font color="#E5E5E5"> with the ability</font><font color="#CCCCCC"> of building</font>

243
00:10:59,210 --> 00:11:07,910
delegation<font color="#E5E5E5"> hierarchy it makes privacy</font>

244
00:11:02,660 --> 00:11:10,819
logic much simpler privacy rules should

245
00:11:07,910 --> 00:11:13,550
<font color="#CCCCCC">not limit</font><font color="#E5E5E5"> it to object and content</font><font color="#CCCCCC"> but</font>

246
00:11:10,820 --> 00:11:16,640
also our relationships so<font color="#CCCCCC"> we call at</font>

247
00:11:13,550 --> 00:11:19,130
privacy<font color="#CCCCCC"> there are cases</font><font color="#E5E5E5"> where</font><font color="#CCCCCC"> you can</font>

248
00:11:16,640 --> 00:11:21,520
see<font color="#CCCCCC"> two end of the</font><font color="#E5E5E5"> connection but the</font>

249
00:11:19,130 --> 00:11:24,350
connection itself is secretive<font color="#CCCCCC"> an</font>

250
00:11:21,520 --> 00:11:26,750
<font color="#E5E5E5">Instagram example will</font><font color="#CCCCCC"> be you</font><font color="#E5E5E5"> can save</font>

251
00:11:24,350 --> 00:11:28,520
any media as your<font color="#E5E5E5"> favorite</font><font color="#CCCCCC"> media the</font>

252
00:11:26,750 --> 00:11:31,430
media<font color="#E5E5E5"> itself can be public or private</font>

253
00:11:28,520 --> 00:11:36,829
<font color="#CCCCCC">but who have saved this media as a</font>

254
00:11:31,430 --> 00:11:39,410
<font color="#CCCCCC">favorite should remain as a secret few</font>

255
00:11:36,830 --> 00:11:41,170
privacy personal identifiable

256
00:11:39,410 --> 00:11:44,449
information should have a title

257
00:11:41,170 --> 00:11:46,670
restriction to prevent leakage<font color="#CCCCCC"> you</font>

258
00:11:44,450 --> 00:11:48,710
probably can<font color="#CCCCCC"> find any celebrity on</font>

259
00:11:46,670 --> 00:11:52,189
Instagram<font color="#CCCCCC"> but</font><font color="#E5E5E5"> you cannot find their</font>

260
00:11:48,710 --> 00:11:54,260
email<font color="#E5E5E5"> address few privacy added a</font><font color="#CCCCCC"> Final</font>

261
00:11:52,190 --> 00:11:57,410
<font color="#CCCCCC">Four</font><font color="#E5E5E5"> analogy on private field on an</font>

262
00:11:54,260 --> 00:11:59,780
object there are many PII sensitive

263
00:11:57,410 --> 00:12:02,719
views with and we<font color="#E5E5E5"> can now expect</font><font color="#CCCCCC"> a</font>

264
00:11:59,780 --> 00:12:05,720
developer to know of them<font color="#E5E5E5"> so having a</font>

265
00:12:02,720 --> 00:12:08,720
separate and<font color="#CCCCCC"> streeter fuel policy</font><font color="#E5E5E5"> makes</font>

266
00:12:05,720 --> 00:12:13,730
the access explicit<font color="#CCCCCC"> success reduce</font><font color="#E5E5E5"> a</font>

267
00:12:08,720 --> 00:12:16,100
chance of leakage so<font color="#E5E5E5"> deploy privacy</font>

268
00:12:13,730 --> 00:12:19,280
<font color="#CCCCCC">related changes</font><font color="#E5E5E5"> are always risky because</font>

269
00:12:16,100 --> 00:12:22,010
<font color="#CCCCCC">we could</font><font color="#E5E5E5"> never have unit</font><font color="#CCCCCC"> has</font><font color="#E5E5E5"> that covers</font>

270
00:12:19,280 --> 00:12:24,230
all<font color="#CCCCCC"> the privacy scenarios I would like</font>

271
00:12:22,010 --> 00:12:26,510
<font color="#E5E5E5">to share the license I</font><font color="#CCCCCC"> have learned we</font>

272
00:12:24,230 --> 00:12:30,140
<font color="#CCCCCC">have learned along the way</font><font color="#E5E5E5"> first of all</font>

273
00:12:26,510 --> 00:12:32,600
focus<font color="#E5E5E5"> on the core types with any content</font>

274
00:12:30,140 --> 00:12:34,580
sharing application users and<font color="#CCCCCC"> commit</font>

275
00:12:32,600 --> 00:12:37,130
contests are probably<font color="#CCCCCC"> responsible for</font>

276
00:12:34,580 --> 00:12:41,390
<font color="#CCCCCC">most</font><font color="#E5E5E5"> of the data access and privacy</font>

277
00:12:37,130 --> 00:12:45,110
issues<font color="#CCCCCC"> on Instagram we started with user</font>

278
00:12:41,390 --> 00:12:47,300
media<font color="#E5E5E5"> and comment the existing type</font>

279
00:12:45,110 --> 00:12:49,730
already have privacy<font color="#CCCCCC"> tracts</font><font color="#E5E5E5"> data around</font>

280
00:12:47,300 --> 00:12:52,930
the<font color="#E5E5E5"> codebase</font><font color="#CCCCCC"> so the first set of</font><font color="#E5E5E5"> privacy</font>

281
00:12:49,730 --> 00:12:55,760
<font color="#E5E5E5">rules are based on the existing logic</font>

282
00:12:52,930 --> 00:12:57,560
during the deployment<font color="#E5E5E5"> we keep the</font>

283
00:12:55,760 --> 00:13:00,130
existing code to make<font color="#E5E5E5"> sure</font><font color="#CCCCCC"> that</font>

284
00:12:57,560 --> 00:13:03,079
privacy<font color="#CCCCCC"> check is only streeter or eco</font>

285
00:13:00,130 --> 00:13:06,020
<font color="#E5E5E5">comparing to the existing ones we lock</font>

286
00:13:03,080 --> 00:13:10,790
compare and make<font color="#CCCCCC"> change on who there's</font>

287
00:13:06,020 --> 00:13:13,430
no discrepancy secondly<font color="#E5E5E5"> always keep eye</font>

288
00:13:10,790 --> 00:13:15,860
on performance<font color="#E5E5E5"> during</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> initial tip</font>

289
00:13:13,430 --> 00:13:17,839
<font color="#CCCCCC">app development</font><font color="#E5E5E5"> we</font><font color="#CCCCCC"> have deployment we</font>

290
00:13:15,860 --> 00:13:19,970
have a performance<font color="#CCCCCC"> penalty of having</font>

291
00:13:17,839 --> 00:13:22,790
<font color="#E5E5E5">both existing tracks and</font><font color="#CCCCCC"> the new</font>

292
00:13:19,970 --> 00:13:25,120
framework<font color="#E5E5E5"> in place but once the</font>

293
00:13:22,790 --> 00:13:28,279
migration is over and we remove the old

294
00:13:25,120 --> 00:13:29,089
<font color="#E5E5E5">privacy checks the regression is</font>

295
00:13:28,279 --> 00:13:31,760
resolved

296
00:13:29,089 --> 00:13:34,160
also with<font color="#CCCCCC"> stated</font><font color="#E5E5E5"> level privacy checks</font>

297
00:13:31,760 --> 00:13:36,920
privacy checks happens on<font color="#CCCCCC"> seeing every</font>

298
00:13:34,160 --> 00:13:41,390
single<font color="#E5E5E5"> object</font><font color="#CCCCCC"> patch</font><font color="#E5E5E5"> so we really need to</font>

299
00:13:36,920 --> 00:13:43,520
look out for performance<font color="#E5E5E5"> all the time we</font>

300
00:13:41,390 --> 00:13:46,670
<font color="#E5E5E5">need to</font><font color="#CCCCCC"> optimize the engine and build</font>

301
00:13:43,520 --> 00:13:48,620
appropriate<font color="#E5E5E5"> cache any security</font>

302
00:13:46,670 --> 00:13:51,800
prevention<font color="#E5E5E5"> command at a cost</font>

303
00:13:48,620 --> 00:13:56,960
so after tons of optimization<font color="#E5E5E5"> we finally</font>

304
00:13:51,800 --> 00:13:59,180
add a good stage now<font color="#CCCCCC"> so now every new</font>

305
00:13:56,960 --> 00:14:01,580
features are built on top of privacy

306
00:13:59,180 --> 00:14:05,040
<font color="#E5E5E5">framework and every new object types</font>

307
00:14:01,580 --> 00:14:06,339
added come with a<font color="#E5E5E5"> privacy rule but</font>

308
00:14:05,040 --> 00:14:09,860
[Music]

309
00:14:06,339 --> 00:14:13,190
Instagram is big now we have hundreds of

310
00:14:09,860 --> 00:14:15,770
<font color="#E5E5E5">data types and we have many teams and we</font>

311
00:14:13,190 --> 00:14:19,010
have a large code base by having a

312
00:14:15,770 --> 00:14:21,050
centralized<font color="#CCCCCC"> effort from the</font><font color="#E5E5E5"> data privacy</font>

313
00:14:19,010 --> 00:14:23,300
team means that we know the privacy

314
00:14:21,050 --> 00:14:26,209
<font color="#E5E5E5">forum works really well but we don't</font>

315
00:14:23,300 --> 00:14:29,479
<font color="#E5E5E5">really know that the usage of each</font>

316
00:14:26,210 --> 00:14:32,390
object types<font color="#E5E5E5"> so also we don't understand</font>

317
00:14:29,480 --> 00:14:34,550
the exact business<font color="#E5E5E5"> logic behind all the</font>

318
00:14:32,390 --> 00:14:37,910
data types<font color="#E5E5E5"> but we know all</font><font color="#CCCCCC"> the data</font>

319
00:14:34,550 --> 00:14:40,520
access<font color="#E5E5E5"> per endpoint so we could send all</font>

320
00:14:37,910 --> 00:14:42,709
data access per endpoint<font color="#E5E5E5"> and build a</font>

321
00:14:40,520 --> 00:14:46,130
relationship<font color="#E5E5E5"> graphs between the viewer</font>

322
00:14:42,709 --> 00:14:50,239
<font color="#CCCCCC">and data a very simple example will be</font>

323
00:14:46,130 --> 00:14:52,520
user preference so on any<font color="#E5E5E5"> endpoints only</font>

324
00:14:50,240 --> 00:14:56,870
the user itself should be<font color="#E5E5E5"> able to</font><font color="#CCCCCC"> access</font>

325
00:14:52,520 --> 00:14:59,270
the preference so with hundreds of data

326
00:14:56,870 --> 00:15:02,000
types on Instagram we want an automated

327
00:14:59,270 --> 00:15:07,280
way to<font color="#E5E5E5"> build a relationship graph and</font>

328
00:15:02,000 --> 00:15:10,110
analyze common relationships so this

329
00:15:07,280 --> 00:15:12,510
table roughly shows how the system works

330
00:15:10,110 --> 00:15:16,830
<font color="#CCCCCC">we're</font><font color="#E5E5E5"> building the relationship graph</font>

331
00:15:12,510 --> 00:15:19,580
for device object<font color="#E5E5E5"> we lock the</font><font color="#CCCCCC"> device</font><font color="#E5E5E5"> the</font>

332
00:15:16,830 --> 00:15:23,100
viewer<font color="#CCCCCC"> the owner</font><font color="#E5E5E5"> and the</font><font color="#CCCCCC"> endpoints of</font>

333
00:15:19,580 --> 00:15:26,700
<font color="#E5E5E5">all the device object data access</font><font color="#CCCCCC"> of</font>

334
00:15:23,100 --> 00:15:28,980
course<font color="#E5E5E5"> in production we sample much our</font>

335
00:15:26,700 --> 00:15:31,200
samples of<font color="#E5E5E5"> our data set is much larger</font>

336
00:15:28,980 --> 00:15:34,740
than what is show on the table<font color="#E5E5E5"> so which</font>

337
00:15:31,200 --> 00:15:37,680
<font color="#E5E5E5">is a reasonable data set you can see</font>

338
00:15:34,740 --> 00:15:40,170
that in most<font color="#E5E5E5"> of the cases the viewer is</font>

339
00:15:37,680 --> 00:15:43,140
actually the owner<font color="#E5E5E5"> so we can conclude</font>

340
00:15:40,170 --> 00:15:45,510
<font color="#E5E5E5">the relationship of this device object</font>

341
00:15:43,140 --> 00:15:48,120
that we should<font color="#E5E5E5"> have a privacy rule we</font>

342
00:15:45,510 --> 00:15:51,480
should allow the<font color="#CCCCCC"> access if the viewer</font><font color="#E5E5E5"> is</font>

343
00:15:48,120 --> 00:15:54,300
the owner<font color="#E5E5E5"> but of course there are</font>

344
00:15:51,480 --> 00:15:58,860
<font color="#CCCCCC">exceptions</font><font color="#E5E5E5"> from the last entry you can</font>

345
00:15:54,300 --> 00:16:01,079
<font color="#E5E5E5">see the viewer is</font><font color="#CCCCCC"> none</font><font color="#E5E5E5"> so if 99% of the</font>

346
00:15:58,860 --> 00:16:04,649
endpoints<font color="#E5E5E5"> satisfy a certain relationship</font>

347
00:16:01,080 --> 00:16:06,630
<font color="#CCCCCC">but just one or two does not then</font>

348
00:16:04,649 --> 00:16:09,510
probably there's something going on<font color="#CCCCCC"> with</font>

349
00:16:06,630 --> 00:16:12,360
the endpoint implementation so this is

350
00:16:09,510 --> 00:16:16,230
also<font color="#E5E5E5"> a way to flag discrepancies through</font>

351
00:16:12,360 --> 00:16:19,040
data access the relationship<font color="#E5E5E5"> can be</font><font color="#CCCCCC"> much</font>

352
00:16:16,230 --> 00:16:21,779
more complicated<font color="#E5E5E5"> as we add more</font>

353
00:16:19,040 --> 00:16:28,140
relationships such<font color="#CCCCCC"> as create a follower</font>

354
00:16:21,779 --> 00:16:30,660
or blocker<font color="#E5E5E5"> so to recap we pick the data</font>

355
00:16:28,140 --> 00:16:33,480
level privacy<font color="#CCCCCC"> check</font><font color="#E5E5E5"> for correctness</font><font color="#CCCCCC"> and</font>

356
00:16:30,660 --> 00:16:36,149
developer velocity<font color="#E5E5E5"> if you have a big</font>

357
00:16:33,480 --> 00:16:38,910
enough<font color="#E5E5E5"> engineering team consider adopt</font>

358
00:16:36,149 --> 00:16:41,700
data level privacy check<font color="#E5E5E5"> it provides a</font>

359
00:16:38,910 --> 00:16:43,469
were referring framework so that<font color="#E5E5E5"> the</font>

360
00:16:41,700 --> 00:16:46,350
engineers feel confident about

361
00:16:43,470 --> 00:16:48,089
developing at a high paced<font color="#CCCCCC"> and also</font>

362
00:16:46,350 --> 00:16:51,500
synchronization between<font color="#E5E5E5"> different</font>

363
00:16:48,089 --> 00:16:54,209
features<font color="#E5E5E5"> have become a lot easier</font>

364
00:16:51,500 --> 00:16:57,149
building the framework<font color="#E5E5E5"> is important at</font>

365
00:16:54,209 --> 00:16:59,930
the same time find an automatic way to

366
00:16:57,149 --> 00:17:05,959
infer proud policies and flag detections

367
00:16:59,930 --> 00:17:05,959
<font color="#E5E5E5">because code is never perfect that's</font>

