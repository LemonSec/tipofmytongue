1
00:00:02,120 --> 00:00:05,430
bill heard from hackaday today I'm going

2
00:00:05,430 --> 00:00:07,560
to talk about inductance and PC board

3
00:00:07,560 --> 00:00:10,320
layout specifically along the lines of

4
00:00:10,320 --> 00:00:12,960
unwanted unanticipated when we're done

5
00:00:12,960 --> 00:00:14,900
hopefully it's simply unwanted

6
00:00:14,900 --> 00:00:18,330
inductance and you may find out why PC

7
00:00:18,330 --> 00:00:20,910
boards like this are kind of evil

8
00:00:20,910 --> 00:00:22,529
actually there's something wrong here

9
00:00:22,529 --> 00:00:25,710
and you'll learn the spot it so why talk

10
00:00:25,710 --> 00:00:28,949
about inductance well it's a fact of

11
00:00:28,949 --> 00:00:31,890
life that inductive reactance X sub L

12
00:00:31,890 --> 00:00:35,100
means that all inductors have some form

13
00:00:35,100 --> 00:00:37,050
of resistance to it not just the DC

14
00:00:37,050 --> 00:00:39,660
resistance that a piece of wire has but

15
00:00:39,660 --> 00:00:41,399
also this makes up flux

16
00:00:41,399 --> 00:00:43,140
turns it into an inductor that's it and

17
00:00:43,140 --> 00:00:47,070
that's a inductor and adds a frequency

18
00:00:47,070 --> 00:00:49,140
component to what we're trying to do now

19
00:00:49,140 --> 00:00:51,449
this can be nasty in power supply

20
00:00:51,449 --> 00:00:53,399
distribution and also in signal

21
00:00:53,399 --> 00:00:55,800
propagation and so the trick is to make

22
00:00:55,800 --> 00:00:58,289
it turn it from being unanticipated to

23
00:00:58,289 --> 00:01:01,079
simply unwanted and then we learn how to

24
00:01:01,079 --> 00:01:02,789
deal with it and we do things like

25
00:01:02,789 --> 00:01:05,519
gridding and stuff making alternate

26
00:01:05,519 --> 00:01:08,369
paths and reducing the the inductance

27
00:01:08,369 --> 00:01:11,820
wherever we can so at the beginning I

28
00:01:11,820 --> 00:01:13,979
showed you a small prototype board

29
00:01:13,979 --> 00:01:16,080
here's that small prototype or at the

30
00:01:16,080 --> 00:01:17,970
bottom on the tops a bigger prototype

31
00:01:17,970 --> 00:01:20,939
board and this was $49 brand-new from

32
00:01:20,939 --> 00:01:23,430
vector and it still has the same issue

33
00:01:23,430 --> 00:01:25,860
that small board had at the bottom so

34
00:01:25,860 --> 00:01:28,200
see if you can spot it go back stop to

35
00:01:28,200 --> 00:01:30,720
film if you need to but we're going to

36
00:01:30,720 --> 00:01:32,549
talk about how to address that okay

37
00:01:32,549 --> 00:01:34,320
let's get this conversation out of the

38
00:01:34,320 --> 00:01:36,990
way I'm going to go fast but often we

39
00:01:36,990 --> 00:01:39,570
have a shared ground path and the

40
00:01:39,570 --> 00:01:42,390
resistance that is in that path creates

41
00:01:42,390 --> 00:01:44,700
a voltage drop so if this guy is one amp

42
00:01:44,700 --> 00:01:47,399
point and there's point 1 ohms there's

43
00:01:47,399 --> 00:01:49,380
going to be point 1 volt dropped in the

44
00:01:49,380 --> 00:01:50,700
tips guys square wave if you're going to

45
00:01:50,700 --> 00:01:53,250
see a point 1 volt drop that's a square

46
00:01:53,250 --> 00:01:55,710
wave now if this guy shares that same

47
00:01:55,710 --> 00:01:58,680
path and let's say he's only point 1 amp

48
00:01:58,680 --> 00:02:01,200
but he's got an entire ohm there's

49
00:02:01,200 --> 00:02:02,909
actually going that's going to all add

50
00:02:02,909 --> 00:02:04,560
together and we're going to get point 2

51
00:02:04,560 --> 00:02:07,860
volt drop so point 2 Bowl right off our

52
00:02:07,860 --> 00:02:09,959
noise margin even before we get to the

53
00:02:09,959 --> 00:02:11,580
circuitry and you can even reverse this

54
00:02:11,580 --> 00:02:13,470
you can put the 1 amp guy down up here

55
00:02:13,470 --> 00:02:16,410
and the point one amp down here and the

56
00:02:16,410 --> 00:02:19,350
other guy he shares the grief of his

57
00:02:19,350 --> 00:02:22,080
neighbor so a real quick example about

58
00:02:22,080 --> 00:02:25,710
why resistance is bad in our grounds and

59
00:02:25,710 --> 00:02:30,090
in our vccs and let's move on another

60
00:02:30,090 --> 00:02:32,310
name for this video could be three of my

61
00:02:32,310 --> 00:02:34,530
favorite books and and and here's one of

62
00:02:34,530 --> 00:02:35,880
them I'm going to be showing a lot of

63
00:02:35,880 --> 00:02:37,620
books today where I got this information

64
00:02:37,620 --> 00:02:40,440
from initially about high-speed design

65
00:02:40,440 --> 00:02:43,590
which involves inductance so these data

66
00:02:43,590 --> 00:02:45,780
books for free this one's from the 70s

67
00:02:45,780 --> 00:02:47,700
this is the Motorola Mihkel system

68
00:02:47,700 --> 00:02:50,190
design handbook and I'm going to show

69
00:02:50,190 --> 00:02:52,170
you a chart from a robot just copper

70
00:02:52,170 --> 00:02:55,470
resistance but mate once mentioned you

71
00:02:55,470 --> 00:02:58,080
can tell you're old you say data book

72
00:02:58,080 --> 00:03:02,610
instead of data sheet so here's a chart

73
00:03:02,610 --> 00:03:04,620
from the Mihkel system design handbook

74
00:03:04,620 --> 00:03:07,050
again from the 70s I'm sure they knew

75
00:03:07,050 --> 00:03:11,640
this way before then but if we look

76
00:03:11,640 --> 00:03:14,190
here's a 20 mil Trace we see that it's

77
00:03:14,190 --> 00:03:17,670
point 2 ohms per foot so suddenly the

78
00:03:17,670 --> 00:03:19,890
example I showed you point 1 ohms

79
00:03:19,890 --> 00:03:24,420
hey that's 6 inches of a 20 mil trace so

80
00:03:24,420 --> 00:03:26,160
what is inductance and for that matter

81
00:03:26,160 --> 00:03:28,860
what is capacitance and you know I try

82
00:03:28,860 --> 00:03:31,680
to come up some visual aids and they

83
00:03:31,680 --> 00:03:34,200
they just saw I don't care for these I'm

84
00:03:34,200 --> 00:03:35,730
just going to show how see how they yeah

85
00:03:35,730 --> 00:03:38,280
the mag the flux interacts with each

86
00:03:38,280 --> 00:03:41,010
other but you don't really get that I'm

87
00:03:41,010 --> 00:03:43,080
just gonna take this kind of thing and

88
00:03:43,080 --> 00:03:45,660
the little shiny stuff helps you imagine

89
00:03:45,660 --> 00:03:47,970
the flux and you could even twist it

90
00:03:47,970 --> 00:03:50,670
together and see the flux becomes like

91
00:03:50,670 --> 00:03:54,330
canceled right it's like screw that this

92
00:03:54,330 --> 00:03:56,610
this was kind of useful though and in

93
00:03:56,610 --> 00:03:58,830
that it helps demonstrate the left hand

94
00:03:58,830 --> 00:04:00,870
rule which is if you put your fingers in

95
00:04:00,870 --> 00:04:02,940
the direction of that's of flux travels

96
00:04:02,940 --> 00:04:05,930
your thumb points towards the north and

97
00:04:05,930 --> 00:04:08,880
actually you can if you have enough

98
00:04:08,880 --> 00:04:11,730
fingers which I'm missing one there you

99
00:04:11,730 --> 00:04:16,769
can determine the the e the electro part

100
00:04:16,769 --> 00:04:19,350
of electromagnetic and the magnetic

101
00:04:19,350 --> 00:04:21,180
there at right angles to each other so

102
00:04:21,180 --> 00:04:24,240
the visual aids good for almost nothing

103
00:04:24,240 --> 00:04:27,370
so what is inductance what is

104
00:04:27,370 --> 00:04:30,550
let's let's try and talk about that all

105
00:04:30,550 --> 00:04:33,220
right simply put a capacitor resists a

106
00:04:33,220 --> 00:04:35,710
change of voltage when it's in parallel

107
00:04:35,710 --> 00:04:38,380
to something it acts like a mini battery

108
00:04:38,380 --> 00:04:41,590
it stores electrons and and doing so the

109
00:04:41,590 --> 00:04:43,810
voltage it's fighting you as the voltage

110
00:04:43,810 --> 00:04:46,150
tries to change so it acts as a low-pass

111
00:04:46,150 --> 00:04:48,580
filter and in series with something a

112
00:04:48,580 --> 00:04:50,800
signal going through it it acts as a

113
00:04:50,800 --> 00:04:52,870
high-pass filter

114
00:04:52,870 --> 00:04:54,669
meaning the high frequencies can get

115
00:04:54,669 --> 00:04:56,169
through and direct current can and all

116
00:04:56,169 --> 00:04:58,900
and I was lucky growing up in that I

117
00:04:58,900 --> 00:05:00,910
could visualize the capacitor easily

118
00:05:00,910 --> 00:05:02,919
because they were in all the radios

119
00:05:02,919 --> 00:05:04,120
there was something like that sometimes

120
00:05:04,120 --> 00:05:07,000
huge ones right and it uses air as a

121
00:05:07,000 --> 00:05:09,039
dielectric and when the plates are fully

122
00:05:09,039 --> 00:05:13,030
meshed the capacitance is maximum you

123
00:05:13,030 --> 00:05:14,830
could get that you could give Y direct

124
00:05:14,830 --> 00:05:16,510
current can't go through this there's no

125
00:05:16,510 --> 00:05:21,010
direct path unless it arcs over so I'll

126
00:05:21,010 --> 00:05:23,919
show you here real quick a quick example

127
00:05:23,919 --> 00:05:25,720
of just an LED a resistor and a

128
00:05:25,720 --> 00:05:30,639
capacitor and how it you know stores it

129
00:05:30,639 --> 00:05:34,150
resists a change in voltage all right

130
00:05:34,150 --> 00:05:35,889
again this is something you guys already

131
00:05:35,889 --> 00:05:37,710
know but let's go over it real quick

132
00:05:37,710 --> 00:05:40,660
here's a small tail and cap it turns out

133
00:05:40,660 --> 00:05:42,820
the biggest capacitor I have around here

134
00:05:42,820 --> 00:05:45,310
is 47 micro farad can you believe that

135
00:05:45,310 --> 00:05:48,010
in the old days I had 10,000 micro farad

136
00:05:48,010 --> 00:05:50,289
caps laying around and and I could have

137
00:05:50,289 --> 00:05:52,510
lit this led for a half a minute but if

138
00:05:52,510 --> 00:05:54,700
you watch I disconnect the battery and

139
00:05:54,700 --> 00:05:57,550
the charge drops slowly instead of

140
00:05:57,550 --> 00:06:00,880
instantaneously my first cycle is it

141
00:06:00,880 --> 00:06:02,440
charges this cap and then when I

142
00:06:02,440 --> 00:06:04,270
disconnect the battery it supplies the

143
00:06:04,270 --> 00:06:07,090
it resists that change in voltage I went

144
00:06:07,090 --> 00:06:09,220
from nine to zero and it's fighting me

145
00:06:09,220 --> 00:06:10,960
right and it's in doing so it's

146
00:06:10,960 --> 00:06:12,699
providing the current to keep the LED

147
00:06:12,699 --> 00:06:16,260
lit longer what is an inductor

148
00:06:16,260 --> 00:06:20,710
inductance it resists a change of

149
00:06:20,710 --> 00:06:24,580
current it does that by storing energy

150
00:06:24,580 --> 00:06:28,620
in the flux that surrounds the conductor

151
00:06:28,620 --> 00:06:32,380
all right it also acts as a low-pass

152
00:06:32,380 --> 00:06:36,130
filter if it's in series with something

153
00:06:36,130 --> 00:06:39,340
so now growing up again

154
00:06:39,340 --> 00:06:41,660
transistor radios were full of these

155
00:06:41,660 --> 00:06:43,550
these are little coils and they're

156
00:06:43,550 --> 00:06:46,010
adjustable and it moves a little slug in

157
00:06:46,010 --> 00:06:47,840
and out I know that because the slug

158
00:06:47,840 --> 00:06:50,750
would fall out when I was a kid when I

159
00:06:50,750 --> 00:06:53,480
over adjusted it and the radio was no

160
00:06:53,480 --> 00:06:56,270
good y'all probably know more from

161
00:06:56,270 --> 00:06:59,000
seeing these things like on cords USB

162
00:06:59,000 --> 00:07:01,670
cords that whatnot where they have this

163
00:07:01,670 --> 00:07:04,370
ferrite material and these are acting

164
00:07:04,370 --> 00:07:07,760
simply as low-pass filters to keep all

165
00:07:07,760 --> 00:07:09,890
the stuff that will make it fail FCC

166
00:07:09,890 --> 00:07:12,170
compliance testing which means it won't

167
00:07:12,170 --> 00:07:15,140
screw up your TV signal and nearby radio

168
00:07:15,140 --> 00:07:18,410
wireless devices radio devices by

169
00:07:18,410 --> 00:07:21,770
putting a signal through a core you can

170
00:07:21,770 --> 00:07:24,680
actually wipe wrap around the core or go

171
00:07:24,680 --> 00:07:27,950
through the material either one so here

172
00:07:27,950 --> 00:07:31,220
is an inductor just not much of one but

173
00:07:31,220 --> 00:07:32,570
you'll be surprised how much of an

174
00:07:32,570 --> 00:07:34,430
inductor that is I think before we're

175
00:07:34,430 --> 00:07:36,980
done so it's obvious that that's a small

176
00:07:36,980 --> 00:07:40,130
inductor compared to something with

177
00:07:40,130 --> 00:07:42,890
coils now I had a whole collection of

178
00:07:42,890 --> 00:07:46,730
girth coils with my grid dip meter which

179
00:07:46,730 --> 00:07:49,820
I cannot find that is with my neon light

180
00:07:49,820 --> 00:07:51,380
bulbs I was going to use to show you

181
00:07:51,380 --> 00:07:54,530
inductive kick I'm sure it is so but

182
00:07:54,530 --> 00:07:56,630
it's easy to see that this has more

183
00:07:56,630 --> 00:08:01,490
inductance than this right and it's easy

184
00:08:01,490 --> 00:08:04,250
to imagine that that has even yet more

185
00:08:04,250 --> 00:08:07,910
inductance by putting a core in it a

186
00:08:07,910 --> 00:08:12,260
place to store the flux all right so an

187
00:08:12,260 --> 00:08:16,370
inductor when when this is in place the

188
00:08:16,370 --> 00:08:18,860
voltage is jumping up and down across

189
00:08:18,860 --> 00:08:21,470
this thing and being absorbed by the

190
00:08:21,470 --> 00:08:24,200
flux to prevent a change in current if

191
00:08:24,200 --> 00:08:26,930
it's a point 1 amps it wants to stay at

192
00:08:26,930 --> 00:08:29,360
Point 1 amps and it's going to resist my

193
00:08:29,360 --> 00:08:32,210
above my attempts to change that and let

194
00:08:32,210 --> 00:08:35,120
me show you a visual example that this

195
00:08:35,120 --> 00:08:36,860
is the old inductive kick thing we

196
00:08:36,860 --> 00:08:38,360
always did in the first year of

197
00:08:38,360 --> 00:08:40,820
electronics class everybody went ooh and

198
00:08:40,820 --> 00:08:45,050
AW and these days were not as easily

199
00:08:45,050 --> 00:08:47,990
impressed but let's do it anyways so

200
00:08:47,990 --> 00:08:51,320
here I have a transformer just because I

201
00:08:51,320 --> 00:08:52,730
wanted the

202
00:08:52,730 --> 00:08:55,310
ministration actually work I had one big

203
00:08:55,310 --> 00:08:58,459
transformer left that somebody's given

204
00:08:58,459 --> 00:09:00,620
me these are hard to get to and the old

205
00:09:00,620 --> 00:09:03,050
age she walked Radio Shack and and load

206
00:09:03,050 --> 00:09:04,220
up with these things

207
00:09:04,220 --> 00:09:07,730
I had boxes of all set Stan koron

208
00:09:07,730 --> 00:09:13,070
over here is a Nixie tube Y&X e tube

209
00:09:13,070 --> 00:09:15,260
because I can't find my neon light bulbs

210
00:09:15,260 --> 00:09:17,389
because they're just not used at these

211
00:09:17,389 --> 00:09:20,180
days but the I did behind a Nixie tube

212
00:09:20,180 --> 00:09:23,540
and a neon tube are similar there's a

213
00:09:23,540 --> 00:09:27,050
gas in there or a personal vacuum or

214
00:09:27,050 --> 00:09:29,930
whatnot where we it takes a certain

215
00:09:29,930 --> 00:09:32,209
voltage to ionize it and I could sit

216
00:09:32,209 --> 00:09:34,070
here with a 9-volt battery in just the

217
00:09:34,070 --> 00:09:36,560
tube all day long and never get it to

218
00:09:36,560 --> 00:09:40,279
light up spark do anything now I'm not

219
00:09:40,279 --> 00:09:42,440
using the transformer like you you you

220
00:09:42,440 --> 00:09:44,630
might be used to thinking like AC goes

221
00:09:44,630 --> 00:09:47,449
in and higher voltage comes out well

222
00:09:47,449 --> 00:09:50,570
this is DC alright so all's I'm doing is

223
00:09:50,570 --> 00:09:53,630
I'm going to connect the battery and by

224
00:09:53,630 --> 00:09:55,040
the way this will knock you on your ass

225
00:09:55,040 --> 00:09:57,110
if you do it wrong so don't do this

226
00:09:57,110 --> 00:09:57,620
alright

227
00:09:57,620 --> 00:09:59,360
right now there's a current going

228
00:09:59,360 --> 00:10:02,449
through the transformer and it's it's

229
00:10:02,449 --> 00:10:04,940
it's it's steady it's probably

230
00:10:04,940 --> 00:10:06,920
discharging the battery at full width

231
00:10:06,920 --> 00:10:09,589
but watch what happens when I disconnect

232
00:10:09,589 --> 00:10:11,810
the battery this happens after my effect

233
00:10:11,810 --> 00:10:15,529
let me get it in there okay you saw it

234
00:10:15,529 --> 00:10:19,310
light that actually arced I think but it

235
00:10:19,310 --> 00:10:21,230
was enough to set off a hundred and

236
00:10:21,230 --> 00:10:24,199
seventy volt operating voltage Nixie -

237
00:10:24,199 --> 00:10:27,350
so what's going on well it said hey the

238
00:10:27,350 --> 00:10:29,839
current is falling the flux field is

239
00:10:29,839 --> 00:10:32,300
collapsing it's cutting across itself

240
00:10:32,300 --> 00:10:35,029
all kinds of things happening and it ups

241
00:10:35,029 --> 00:10:38,990
the voltage way high to keep that

242
00:10:38,990 --> 00:10:42,050
current flow going so here it is again

243
00:10:42,050 --> 00:10:44,180
there's no spark when I set up the

244
00:10:44,180 --> 00:10:45,889
current the 9-volt batteries attached

245
00:10:45,889 --> 00:10:49,910
and I disconnected and that time it was

246
00:10:49,910 --> 00:10:51,740
actually orange earlier when I was doing

247
00:10:51,740 --> 00:10:54,199
it looks more like an arc so I'm

248
00:10:54,199 --> 00:10:56,750
probably ruining the Nixie tube but I

249
00:10:56,750 --> 00:10:59,029
was kind of proud of myself I'm finally

250
00:10:59,029 --> 00:11:02,420
finding a stand-in for the neon tube

251
00:11:02,420 --> 00:11:04,880
which I'm neon bulb which I'm sure I'll

252
00:11:04,880 --> 00:11:06,320
find later today

253
00:11:06,320 --> 00:11:10,699
so that's that's that's a visual aid

254
00:11:10,699 --> 00:11:12,980
where we've got taught as youngsters

255
00:11:12,980 --> 00:11:17,899
that inductors really do do something by

256
00:11:17,899 --> 00:11:19,310
way of storing something because that

257
00:11:19,310 --> 00:11:22,310
happened after I removed the battery so

258
00:11:22,310 --> 00:11:24,380
just to show you where inductance can

259
00:11:24,380 --> 00:11:26,329
hide so we're starting to see that this

260
00:11:26,329 --> 00:11:28,730
is a real thing right stores energy it

261
00:11:28,730 --> 00:11:31,339
resists changes in current flow another

262
00:11:31,339 --> 00:11:33,680
one of my favorite books actually one of

263
00:11:33,680 --> 00:11:35,149
my favorite authors this book's been

264
00:11:35,149 --> 00:11:37,579
redone and is available still through

265
00:11:37,579 --> 00:11:39,889
Amazon this one I it's an old one and

266
00:11:39,889 --> 00:11:43,160
it's by Henry OTT and this is where we

267
00:11:43,160 --> 00:11:46,519
really cut our teeth on FCC submission

268
00:11:46,519 --> 00:11:48,800
and passing FCC and I could tell you

269
00:11:48,800 --> 00:11:50,959
stories about it plus our own Chris

270
00:11:50,959 --> 00:11:53,269
Gamal and David Jones on the amp hour

271
00:11:53,269 --> 00:11:56,569
interviewed mr. OTT so he's kind of one

272
00:11:56,569 --> 00:11:57,920
of my arrows and one of my three

273
00:11:57,920 --> 00:12:00,610
favorite books so let me show you a

274
00:12:00,610 --> 00:12:04,579
chart from inside the book so remember I

275
00:12:04,579 --> 00:12:06,889
said this thing's frequency sensitive

276
00:12:06,889 --> 00:12:09,560
and here's a chart god I love charts

277
00:12:09,560 --> 00:12:12,079
right you don't have to do the math but

278
00:12:12,079 --> 00:12:14,180
you can see that as the frequency

279
00:12:14,180 --> 00:12:16,670
increases the impedance of a 1 inch long

280
00:12:16,670 --> 00:12:20,329
trace which it was calculated be 50 nano

281
00:12:20,329 --> 00:12:23,750
Henri's look at it's up to 15 ohms at a

282
00:12:23,750 --> 00:12:26,000
hundred and 60 Meg Barba's point one

283
00:12:26,000 --> 00:12:28,910
ohms at one Meg so here's the very real

284
00:12:28,910 --> 00:12:32,990
effect shown as in chart form that to

285
00:12:32,990 --> 00:12:35,480
get a fast rise time and this is what

286
00:12:35,480 --> 00:12:37,610
it's all about to get fast rise times

287
00:12:37,610 --> 00:12:39,709
you have to have minimal impedance

288
00:12:39,709 --> 00:12:43,250
because the higher impedance if combined

289
00:12:43,250 --> 00:12:44,959
with the capacitance of what you're

290
00:12:44,959 --> 00:12:47,480
driving and stuff is going to slow down

291
00:12:47,480 --> 00:12:50,360
it's going to act like a filter so by

292
00:12:50,360 --> 00:12:51,920
now you're going bill what's this have

293
00:12:51,920 --> 00:12:53,839
to do with PC board layout why'd you

294
00:12:53,839 --> 00:12:55,880
take us the long way around well I'll

295
00:12:55,880 --> 00:12:57,439
tell you I remember the moment this

296
00:12:57,439 --> 00:13:01,670
clicked for me for sure and that is that

297
00:13:01,670 --> 00:13:05,149
this has more inductance than this all

298
00:13:05,149 --> 00:13:06,920
right you think wait a minute this is a

299
00:13:06,920 --> 00:13:08,899
more like a coil I could have made it

300
00:13:08,899 --> 00:13:10,670
round except I picked the wrong wire to

301
00:13:10,670 --> 00:13:11,899
bend this stuff stuff

302
00:13:11,899 --> 00:13:15,290
it's welding wire well welding rod but

303
00:13:15,290 --> 00:13:16,819
that's more representing what you might

304
00:13:16,819 --> 00:13:20,240
get on a PC board it's the area of the

305
00:13:20,240 --> 00:13:22,430
Loup as it gets bigger it's more

306
00:13:22,430 --> 00:13:25,130
inductive well you think Wow how's this

307
00:13:25,130 --> 00:13:27,830
related to what's way over here well the

308
00:13:27,830 --> 00:13:30,020
answer is is during the time when

309
00:13:30,020 --> 00:13:31,430
they're close to each other and this is

310
00:13:31,430 --> 00:13:33,260
why I almost started like with the

311
00:13:33,260 --> 00:13:35,930
visual aids they're fluxes are laying

312
00:13:35,930 --> 00:13:37,610
right on top of each other and they're

313
00:13:37,610 --> 00:13:39,290
counteracting they're pushing a pole and

314
00:13:39,290 --> 00:13:40,730
they're going to collapse in encounter

315
00:13:40,730 --> 00:13:43,370
collapsing and if you get these close

316
00:13:43,370 --> 00:13:46,070
enough and and and inductive enough

317
00:13:46,070 --> 00:13:48,709
between them I wants a mutually

318
00:13:48,709 --> 00:13:50,240
inductive that's for two different

319
00:13:50,240 --> 00:13:53,630
signal paths not the same one but they

320
00:13:53,630 --> 00:13:56,540
cancel and you end up with just the the

321
00:13:56,540 --> 00:13:59,120
distinct the the self-inductance of a

322
00:13:59,120 --> 00:14:02,420
wire of the connector here this can't

323
00:14:02,420 --> 00:14:04,880
feel as easily the current flow in this

324
00:14:04,880 --> 00:14:07,700
way in the flux and so it's it's self

325
00:14:07,700 --> 00:14:09,740
inductance all the way around instead of

326
00:14:09,740 --> 00:14:12,649
just this part here so if you don't

327
00:14:12,649 --> 00:14:14,180
believe me we're going to my third

328
00:14:14,180 --> 00:14:16,880
favorite book and I'll show you but this

329
00:14:16,880 --> 00:14:20,540
is once you get this that that's worse

330
00:14:20,540 --> 00:14:24,410
than this and that a power trace that

331
00:14:24,410 --> 00:14:26,750
goes around one side and then the ground

332
00:14:26,750 --> 00:14:28,700
trace goes around the other around the

333
00:14:28,700 --> 00:14:32,360
edge is worse than a power and ground

334
00:14:32,360 --> 00:14:34,100
trace to follow each other up to the

335
00:14:34,100 --> 00:14:37,730
chip or gridded so as I said I remember

336
00:14:37,730 --> 00:14:42,290
when I got that the area of the supply

337
00:14:42,290 --> 00:14:44,899
path and the return path as it got

338
00:14:44,899 --> 00:14:47,120
bigger the inductance went up the

339
00:14:47,120 --> 00:14:50,329
ability to do high frequencies signals

340
00:14:50,329 --> 00:14:53,120
goes down but I didn't have the number

341
00:14:53,120 --> 00:14:55,970
of the math till I got this book I and

342
00:14:55,970 --> 00:14:59,180
he I love this book in in that there was

343
00:14:59,180 --> 00:15:00,829
a lot of arguments we'd had over the

344
00:15:00,829 --> 00:15:03,230
years where they were intuitive

345
00:15:03,230 --> 00:15:05,209
arguments they were about proper ways to

346
00:15:05,209 --> 00:15:07,550
mix two kinds of grounds and and stuff

347
00:15:07,550 --> 00:15:10,459
and suddenly here and easy for me to

348
00:15:10,459 --> 00:15:12,620
understand form was the math for it so

349
00:15:12,620 --> 00:15:15,350
let me show you that somebody else

350
00:15:15,350 --> 00:15:18,440
smarter than me dr. Howard Johnson for

351
00:15:18,440 --> 00:15:20,959
example of high-speed digital design a

352
00:15:20,959 --> 00:15:23,930
handbook of black magic where he shows

353
00:15:23,930 --> 00:15:26,560
us that relationship between area and

354
00:15:26,560 --> 00:15:31,040
inductance so here it is that the

355
00:15:31,040 --> 00:15:33,830
inductance is equal to 5y

356
00:15:33,830 --> 00:15:36,470
and here's X so x and y is the area and

357
00:15:36,470 --> 00:15:39,830
it's natural log plus the the inductor

358
00:15:39,830 --> 00:15:41,570
with figures in you here but quite

359
00:15:41,570 --> 00:15:43,760
simply as Y gets bigger so the

360
00:15:43,760 --> 00:15:45,769
inductance goes up and this is the area

361
00:15:45,769 --> 00:15:49,190
the return path of inside the loop when

362
00:15:49,190 --> 00:15:52,930
we have power and ground returned and it

363
00:15:52,930 --> 00:15:55,190
continues to get bigger as X gets bigger

364
00:15:55,190 --> 00:15:57,200
and it goes down a little bit as the

365
00:15:57,200 --> 00:15:59,360
trace width gets smaller because of this

366
00:15:59,360 --> 00:16:01,940
log function you could double your trace

367
00:16:01,940 --> 00:16:04,100
width and you only get like 15 or 20

368
00:16:04,100 --> 00:16:06,829
percent reduction in your in your

369
00:16:06,829 --> 00:16:08,839
overall inductance so just going fat

370
00:16:08,839 --> 00:16:11,029
helps but it doesn't quite fix it and

371
00:16:11,029 --> 00:16:14,390
this leads us to this this shows what

372
00:16:14,390 --> 00:16:16,550
was wrong with those pc boards i showed

373
00:16:16,550 --> 00:16:19,339
you earlier where the ground comes up

374
00:16:19,339 --> 00:16:21,560
one side and comes almost all the way

375
00:16:21,560 --> 00:16:23,450
across and the power comes up the other

376
00:16:23,450 --> 00:16:26,300
side and does because the area is the

377
00:16:26,300 --> 00:16:28,970
entire board for the path this is called

378
00:16:28,970 --> 00:16:32,149
inter inter digitated because it does

379
00:16:32,149 --> 00:16:34,790
like digits do it ended if i had enough

380
00:16:34,790 --> 00:16:36,950
digits you'd see it but that's what's on

381
00:16:36,950 --> 00:16:39,410
the pc board here right even the

382
00:16:39,410 --> 00:16:43,600
expensive one is then or digitated

383
00:16:44,620 --> 00:16:47,480
so given that inductance is a fact of

384
00:16:47,480 --> 00:16:49,610
life has as resistance and everything

385
00:16:49,610 --> 00:16:52,640
fighting us in the high speed world we

386
00:16:52,640 --> 00:16:54,680
do have a toolbox with some tools in it

387
00:16:54,680 --> 00:16:56,210
to help us and one I'm sure you're

388
00:16:56,210 --> 00:16:57,950
familiar with is the decoupling

389
00:16:57,950 --> 00:17:01,100
capacitor and basically what you see is

390
00:17:01,100 --> 00:17:03,230
that you create a voltage source on this

391
00:17:03,230 --> 00:17:04,720
side of the inductance

392
00:17:04,720 --> 00:17:08,510
or resistance and noise and crosstalk

393
00:17:08,510 --> 00:17:10,520
all those things but by having a

394
00:17:10,520 --> 00:17:13,339
capacitor close to your load it can

395
00:17:13,339 --> 00:17:15,230
deliver an instantaneous near

396
00:17:15,230 --> 00:17:19,490
instantaneous charge and then it charges

397
00:17:19,490 --> 00:17:21,710
back up slowly so it takes this high

398
00:17:21,710 --> 00:17:24,079
frequency domain and kind of moves it

399
00:17:24,079 --> 00:17:26,630
into a low frequency domain where it

400
00:17:26,630 --> 00:17:29,030
slowly charges and then delivers current

401
00:17:29,030 --> 00:17:31,940
for the spikes now it's not perfect

402
00:17:31,940 --> 00:17:34,010
there's actually inductance in the leads

403
00:17:34,010 --> 00:17:37,340
and capacitors themselves have a self

404
00:17:37,340 --> 00:17:39,230
resonant frequency and then there's a

405
00:17:39,230 --> 00:17:40,970
resistor in parallel because there's

406
00:17:40,970 --> 00:17:43,580
leakage you know I can't look at any

407
00:17:43,580 --> 00:17:45,830
component without seeing like you know

408
00:17:45,830 --> 00:17:48,410
the capacitance between the coils of an

409
00:17:48,410 --> 00:17:50,420
inductor for example everything is very

410
00:17:50,420 --> 00:17:53,660
complex depending on how far down you

411
00:17:53,660 --> 00:17:57,260
dig so let me show you a chart that

412
00:17:57,260 --> 00:18:00,080
deals with the frequency aspect of

413
00:18:00,080 --> 00:18:02,000
decoupling here again from Watts book

414
00:18:02,000 --> 00:18:04,820
it's actually the very next page is he

415
00:18:04,820 --> 00:18:06,260
shows the impedance of various

416
00:18:06,260 --> 00:18:07,970
decoupling capacitors so it's an older

417
00:18:07,970 --> 00:18:10,910
book so the the capacitors are a little

418
00:18:10,910 --> 00:18:13,070
better than they were back then the

419
00:18:13,070 --> 00:18:16,040
evolution of mlcc's and such multi-layer

420
00:18:16,040 --> 00:18:19,780
ceramic capacitors but you see that the

421
00:18:19,780 --> 00:18:22,910
the point at which they work in the

422
00:18:22,910 --> 00:18:26,510
frequency varies by value of the

423
00:18:26,510 --> 00:18:28,670
capacitor and what we used to do is do

424
00:18:28,670 --> 00:18:30,710
kind of a cascade we'd have a point 1

425
00:18:30,710 --> 00:18:33,680
and 0.01 because the point 1 just

426
00:18:33,680 --> 00:18:35,450
couldn't get to those high frequencies

427
00:18:35,450 --> 00:18:38,500
in the older days now now they can but

428
00:18:38,500 --> 00:18:41,000
what I want to show is that there's a

429
00:18:41,000 --> 00:18:43,520
frequency aspect even to our decoupling

430
00:18:43,520 --> 00:18:47,570
caps and their interaction with this is

431
00:18:47,570 --> 00:18:51,650
a point 3o nano henry of lead trace or

432
00:18:51,650 --> 00:18:53,270
or trace on the board that it's

433
00:18:53,270 --> 00:18:55,970
interacting with so another tool and I'm

434
00:18:55,970 --> 00:18:56,360
sure

435
00:18:56,360 --> 00:18:59,840
this is the ground plane or power plane

436
00:18:59,840 --> 00:19:03,080
in boards especially as for layer type

437
00:19:03,080 --> 00:19:05,690
boards became more inexpensive we were

438
00:19:05,690 --> 00:19:09,260
able to dedicate layers to ground or VCC

439
00:19:09,260 --> 00:19:11,690
and in doing so we lower the impedance

440
00:19:11,690 --> 00:19:14,150
because now it's not a 20 mil tract it's

441
00:19:14,150 --> 00:19:17,840
the entire plane is our ground and it's

442
00:19:17,840 --> 00:19:20,840
up to us to kind of keep up pure now one

443
00:19:20,840 --> 00:19:23,270
of the things we used to do was to grid

444
00:19:23,270 --> 00:19:25,850
this because we were afraid of eddy

445
00:19:25,850 --> 00:19:28,850
currents swirling around in here and

446
00:19:28,850 --> 00:19:31,400
creating artifacts right and they do

447
00:19:31,400 --> 00:19:33,500
things and transformers because that is

448
00:19:33,500 --> 00:19:35,990
our a real fact of life there that's

449
00:19:35,990 --> 00:19:38,230
partially why there's lamination in

450
00:19:38,230 --> 00:19:40,850
transformers the problem with a grid is

451
00:19:40,850 --> 00:19:43,910
we ended up getting crosstalk in some of

452
00:19:43,910 --> 00:19:46,250
the little segments depending on if two

453
00:19:46,250 --> 00:19:48,980
things were just by accident or by

454
00:19:48,980 --> 00:19:51,679
layout happen to share a common path in

455
00:19:51,679 --> 00:19:54,559
the grid they could interact with each

456
00:19:54,559 --> 00:19:56,450
other so we pretty much gone back to

457
00:19:56,450 --> 00:19:59,299
solid plains now one thing to know is

458
00:19:59,299 --> 00:20:02,750
that if this is a a signal trace so I'm

459
00:20:02,750 --> 00:20:04,940
switching from power to signal now if

460
00:20:04,940 --> 00:20:08,299
this is a signal and it's high frequency

461
00:20:08,299 --> 00:20:11,480
the return path will try and follow it

462
00:20:11,480 --> 00:20:14,059
pretty close in the ground plane so it

463
00:20:14,059 --> 00:20:16,280
goes out on the red and comes back on

464
00:20:16,280 --> 00:20:18,530
the blue if it's a low frequency it can

465
00:20:18,530 --> 00:20:20,780
mill around and whatnot but fits higher

466
00:20:20,780 --> 00:20:22,669
high frequency the higher the frequency

467
00:20:22,669 --> 00:20:25,850
the closer that path will mirror that

468
00:20:25,850 --> 00:20:29,419
path of the the signal itself well as

469
00:20:29,419 --> 00:20:31,460
you see this cut through an area where I

470
00:20:31,460 --> 00:20:34,460
had a connector and it makes a slot

471
00:20:34,460 --> 00:20:38,900
there is an aperture right a place where

472
00:20:38,900 --> 00:20:40,220
there is no ground plane

473
00:20:40,220 --> 00:20:43,130
well that means this return path if I go

474
00:20:43,130 --> 00:20:45,320
ahead and put it up for you here I'm

475
00:20:45,320 --> 00:20:48,679
using the purple to show the the return

476
00:20:48,679 --> 00:20:51,679
path of a signal you see it had to go

477
00:20:51,679 --> 00:20:55,880
around that space in the ground plane so

478
00:20:55,880 --> 00:20:58,610
now I've got an inductor in one path in

479
00:20:58,610 --> 00:21:01,130
not in another so you need to be aware

480
00:21:01,130 --> 00:21:02,929
of that and see this also does the same

481
00:21:02,929 --> 00:21:05,000
thing this is where I just showed if you

482
00:21:05,000 --> 00:21:07,400
use a signal on the ground plane you're

483
00:21:07,400 --> 00:21:09,250
creating this spot where

484
00:21:09,250 --> 00:21:12,039
return-path has to go around it as well

485
00:21:12,039 --> 00:21:14,080
now there's another issue here too the

486
00:21:14,080 --> 00:21:16,360
way these two ended up next to each

487
00:21:16,360 --> 00:21:16,990
other

488
00:21:16,990 --> 00:21:18,820
guess what who are coupling these

489
00:21:18,820 --> 00:21:21,940
signals together with wait for it mutual

490
00:21:21,940 --> 00:21:25,179
inductance and resistance even and so

491
00:21:25,179 --> 00:21:27,340
we're starting to go all the way back to

492
00:21:27,340 --> 00:21:29,200
our shared resistance thing I showed

493
00:21:29,200 --> 00:21:31,179
initially in in this case it can

494
00:21:31,179 --> 00:21:33,669
generate crosstalk from signal to signal

495
00:21:33,669 --> 00:21:36,640
so when you're doing ground planes just

496
00:21:36,640 --> 00:21:38,980
be aware of the place where you don't

497
00:21:38,980 --> 00:21:40,990
have ground planes so the last graph of

498
00:21:40,990 --> 00:21:42,820
the day is I wanted to show you real

499
00:21:42,820 --> 00:21:47,039
life is real life it's just it's complex

500
00:21:47,039 --> 00:21:51,370
this is graphing just four components

501
00:21:51,370 --> 00:21:53,799
you see all of their interactions create

502
00:21:53,799 --> 00:21:56,140
an impedance graph of this this is going

503
00:21:56,140 --> 00:21:58,419
up in frequency here's a mag here's 10

504
00:21:58,419 --> 00:22:01,210
mega a hundred Meg and the interaction

505
00:22:01,210 --> 00:22:03,880
of the components such as the inductance

506
00:22:03,880 --> 00:22:05,830
on the board the capacitor the

507
00:22:05,830 --> 00:22:08,230
decoupling capacitors we're adding I

508
00:22:08,230 --> 00:22:10,450
mean this isn't even taken into account

509
00:22:10,450 --> 00:22:12,400
need like the inductance of the

510
00:22:12,400 --> 00:22:14,559
decoupling caps leads and stuff right

511
00:22:14,559 --> 00:22:19,659
and just doing four components we we

512
00:22:19,659 --> 00:22:21,100
find a place where things work really

513
00:22:21,100 --> 00:22:23,380
well the impedance drops we love low

514
00:22:23,380 --> 00:22:26,020
impedance power supplies but in a

515
00:22:26,020 --> 00:22:27,700
different area of the spectrum suddenly

516
00:22:27,700 --> 00:22:30,100
now we're up to like five ohms six seven

517
00:22:30,100 --> 00:22:32,380
eight ohms of impedance and you've

518
00:22:32,380 --> 00:22:34,419
already seen and earlier in this video

519
00:22:34,419 --> 00:22:38,620
that that's that can be a lot so this is

520
00:22:38,620 --> 00:22:40,750
very typical of what you'll see in real

521
00:22:40,750 --> 00:22:43,390
life is nothing's perfect and there's a

522
00:22:43,390 --> 00:22:45,640
lot of complicated interactions all

523
00:22:45,640 --> 00:22:48,820
centered around and beans and our are

524
00:22:48,820 --> 00:22:52,120
trying to nullify its worst problems it

525
00:22:52,120 --> 00:22:54,669
brings to the table okay that was a lot

526
00:22:54,669 --> 00:22:57,490
of talking about inductance I'm going to

527
00:22:57,490 --> 00:23:00,100
have to add a bunch of that out so I'm

528
00:23:00,100 --> 00:23:01,929
not sure what all make of it if you

529
00:23:01,929 --> 00:23:04,299
remember nothing else that you didn't

530
00:23:04,299 --> 00:23:06,669
know at the beginning of this was that

531
00:23:06,669 --> 00:23:09,429
the larger the surface area the larger

532
00:23:09,429 --> 00:23:12,070
the area within the loop the higher the

533
00:23:12,070 --> 00:23:14,020
inductance I'm talking power and return

534
00:23:14,020 --> 00:23:16,510
or signal and return the higher the

535
00:23:16,510 --> 00:23:18,820
inductance the higher the impedance and

536
00:23:18,820 --> 00:23:21,090
the higher the impedance the more

537
00:23:21,090 --> 00:23:22,590
you're going to have to struggle to get

538
00:23:22,590 --> 00:23:24,840
those high-speed signals through and the

539
00:23:24,840 --> 00:23:26,880
dirtier your power supply is going to be

540
00:23:26,880 --> 00:23:29,730
so hopefully that makes it through the

541
00:23:29,730 --> 00:23:32,060
editing session bill heard from hackaday

542
00:23:32,060 --> 00:23:35,010
catch me on the next one and we'll do

543
00:23:35,010 --> 00:23:38,450
something fun I promise or maybe not

544
00:23:38,450 --> 00:24:04,570
[Music]

545
00:24:04,570 --> 00:24:07,460
[Applause]

546
00:24:07,460 --> 00:24:08,510
[Music]

547
00:24:08,510 --> 00:24:11,609
[Applause]

548
00:24:19,190 --> 00:24:21,250
you

