1
00:00:00,080 --> 00:00:02,960
okay so just hang tight just another

2
00:00:02,960 --> 00:00:05,680
second to make sure that we have like

3
00:00:05,680 --> 00:00:08,080
our audios feeds and everything else set

4
00:00:08,080 --> 00:00:10,480
up just there one more second with me

5
00:00:10,480 --> 00:00:13,759
adi will also do like a part live demo

6
00:00:13,759 --> 00:00:17,359
today so that's um pretty much comes to

7
00:00:17,359 --> 00:00:19,920
kind of give you the tools to deal with

8
00:00:19,920 --> 00:00:22,240
your work as a penetration tester or in

9
00:00:22,240 --> 00:00:23,840
security testing

10
00:00:23,840 --> 00:00:25,760
and i feel like the last few

11
00:00:25,760 --> 00:00:28,240
presentations have really kind of built

12
00:00:28,240 --> 00:00:31,119
on top of each other we know that we're

13
00:00:31,119 --> 00:00:32,640
probably going to go

14
00:00:32,640 --> 00:00:36,000
a bit longer today than

15
00:00:36,000 --> 00:00:38,559
what you were planning on but i hope

16
00:00:38,559 --> 00:00:40,480
that you're comfortable you can grab

17
00:00:40,480 --> 00:00:43,520
like an extra snack an extra cup of tea

18
00:00:43,520 --> 00:00:45,680
or whatever you want i don't recommend

19
00:00:45,680 --> 00:00:48,000
coffee because we we need to

20
00:00:48,000 --> 00:00:50,399
let our brain kind of take in all the

21
00:00:50,399 --> 00:00:53,440
information that we uh we had today plus

22
00:00:53,440 --> 00:00:55,600
there are two more awesome presentations

23
00:00:55,600 --> 00:00:57,680
coming up after

24
00:00:57,680 --> 00:01:00,960
adrian will talk to us so

25
00:01:00,960 --> 00:01:03,520
that's going to be quite interesting as

26
00:01:03,520 --> 00:01:04,479
well

27
00:01:04,479 --> 00:01:06,320
um

28
00:01:06,320 --> 00:01:09,040
so yeah just hang tight just another

29
00:01:09,040 --> 00:01:12,040
second

30
00:01:14,080 --> 00:01:16,000
and if you have questions please add

31
00:01:16,000 --> 00:01:19,200
them in the chat or in the q and a

32
00:01:19,200 --> 00:01:20,240
session

33
00:01:20,240 --> 00:01:23,200
um which are running for each track you

34
00:01:23,200 --> 00:01:24,840
can like just

35
00:01:24,840 --> 00:01:28,720
refresh and uh find find your way there

36
00:01:28,720 --> 00:01:30,400
and that should you know

37
00:01:30,400 --> 00:01:33,119
give us um

38
00:01:33,119 --> 00:01:35,600
you know questions that we can ask

39
00:01:35,600 --> 00:01:38,479
uh our speakers so don't be shy

40
00:01:38,479 --> 00:01:39,840
there's no one here like you don't have

41
00:01:39,840 --> 00:01:41,600
to raise your hand or anything i'll just

42
00:01:41,600 --> 00:01:43,360
make sure to pass those questions on to

43
00:01:43,360 --> 00:01:45,280
you thank you very much thank you

44
00:01:45,280 --> 00:01:47,520
andra from the introduction

45
00:01:47,520 --> 00:01:50,159
um my name is adrian fortuna i am the

46
00:01:50,159 --> 00:01:52,799
founder of pentastools.com and

47
00:01:52,799 --> 00:01:55,840
today i'm going to introduce you sniper

48
00:01:55,840 --> 00:01:58,079
which is the latest uh

49
00:01:58,079 --> 00:02:00,000
tool that we've been working at uh at

50
00:02:00,000 --> 00:02:02,240
pentastose.com

51
00:02:02,240 --> 00:02:05,439
that is capable of fully fully automated

52
00:02:05,439 --> 00:02:06,719
exploitation

53
00:02:06,719 --> 00:02:08,479
and today

54
00:02:08,479 --> 00:02:09,598
i'm going to show you how to

55
00:02:09,598 --> 00:02:11,840
automatically exploit some of the

56
00:02:11,840 --> 00:02:13,680
most common and well-known

57
00:02:13,680 --> 00:02:15,920
vulnerabilities from this year like

58
00:02:15,920 --> 00:02:19,599
proxy shell oh my god and others

59
00:02:20,400 --> 00:02:22,959
so this would be the the agenda

60
00:02:22,959 --> 00:02:25,360
uh i'll tell you a few words about uh

61
00:02:25,360 --> 00:02:27,680
pentest tools then uh i'll introduce

62
00:02:27,680 --> 00:02:30,000
sniper and in the second part of the

63
00:02:30,000 --> 00:02:31,280
presentation

64
00:02:31,280 --> 00:02:36,400
uh we will do a live demo

65
00:02:36,400 --> 00:02:38,879
so uh pentest tools

66
00:02:38,879 --> 00:02:42,160
it's a romanian cyber security company

67
00:02:42,160 --> 00:02:44,720
and we are creating

68
00:02:44,720 --> 00:02:46,560
a penetration testing platform for

69
00:02:46,560 --> 00:02:48,640
offensive security teams

70
00:02:48,640 --> 00:02:51,040
it's a cloud-based platform

71
00:02:51,040 --> 00:02:53,440
which allows penetration testers to do

72
00:02:53,440 --> 00:02:56,560
faster engagements uh with the

73
00:02:56,560 --> 00:02:58,720
better results we say

74
00:02:58,720 --> 00:03:02,400
and with the lower costs

75
00:03:02,560 --> 00:03:05,040
here is a small distribution of

76
00:03:05,040 --> 00:03:07,440
the customers that we have

77
00:03:07,440 --> 00:03:10,560
from u.s uk and others

78
00:03:10,560 --> 00:03:11,680
and

79
00:03:11,680 --> 00:03:13,920
besides that we are proud to say that

80
00:03:13,920 --> 00:03:17,440
we are an official contributor to the

81
00:03:17,440 --> 00:03:21,599
ospre top 10 2021 you know that

82
00:03:21,599 --> 00:03:26,000
this version has been recently released

83
00:03:27,680 --> 00:03:30,480
on pentastools.com

84
00:03:30,480 --> 00:03:31,599
there are

85
00:03:31,599 --> 00:03:34,000
a couple of uh tools for penetration

86
00:03:34,000 --> 00:03:36,319
testing which are

87
00:03:36,319 --> 00:03:39,040
spread into these categories so we have

88
00:03:39,040 --> 00:03:41,200
tools for doing reconnaissance

89
00:03:41,200 --> 00:03:44,319
like google hacking finding subdomains

90
00:03:44,319 --> 00:03:47,440
domain names virtual hosts port scanners

91
00:03:47,440 --> 00:03:48,879
and so on

92
00:03:48,879 --> 00:03:49,680
then

93
00:03:49,680 --> 00:03:50,799
we have

94
00:03:50,799 --> 00:03:53,120
vulnerability scanners

95
00:03:53,120 --> 00:03:54,319
which are

96
00:03:54,319 --> 00:03:56,799
split into web scanners and network

97
00:03:56,799 --> 00:03:58,239
scanners

98
00:03:58,239 --> 00:04:01,439
many of these are custom

99
00:04:01,439 --> 00:04:03,760
vulnerability scanners written by our

100
00:04:03,760 --> 00:04:05,439
team

101
00:04:05,439 --> 00:04:07,920
and the last category is the offensive

102
00:04:07,920 --> 00:04:09,680
tools

103
00:04:09,680 --> 00:04:12,879
which can be used for

104
00:04:12,879 --> 00:04:16,160
gaining access and uh doing uh

105
00:04:16,160 --> 00:04:18,639
the more offensive part of the of the

106
00:04:18,639 --> 00:04:20,399
penetration test

107
00:04:20,399 --> 00:04:22,880
and uh from this category i'm going to

108
00:04:22,880 --> 00:04:26,479
show you today uh sniper

109
00:04:27,759 --> 00:04:28,400
so

110
00:04:28,400 --> 00:04:30,479
let me tell you the problem that we've

111
00:04:30,479 --> 00:04:32,000
encountered

112
00:04:32,000 --> 00:04:33,759
that led us to

113
00:04:33,759 --> 00:04:35,440
to create sniper

114
00:04:35,440 --> 00:04:39,199
so um as a penetration tester myself

115
00:04:39,199 --> 00:04:41,120
i've been doing this for more than 10

116
00:04:41,120 --> 00:04:42,960
years

117
00:04:42,960 --> 00:04:45,360
we've noticed that

118
00:04:45,360 --> 00:04:47,520
common vulnerability scanners tend to

119
00:04:47,520 --> 00:04:50,320
produce a lot of noise

120
00:04:50,320 --> 00:04:51,840
this meaning that

121
00:04:51,840 --> 00:04:54,560
of course they they produce

122
00:04:54,560 --> 00:04:58,479
true positives uh which

123
00:04:58,479 --> 00:04:59,919
sometimes

124
00:04:59,919 --> 00:05:02,320
they have an inaccurate

125
00:05:02,320 --> 00:05:05,039
risk rating

126
00:05:05,120 --> 00:05:07,680
which is often too high uh for for

127
00:05:07,680 --> 00:05:12,080
instance you will pretty often find

128
00:05:12,080 --> 00:05:15,360
vulnerabilities related to outdated php

129
00:05:15,360 --> 00:05:16,320
version

130
00:05:16,320 --> 00:05:18,080
uh which

131
00:05:18,080 --> 00:05:20,479
the scanner gives you as a very high

132
00:05:20,479 --> 00:05:23,360
risk or critical and uh when you see

133
00:05:23,360 --> 00:05:26,080
this from a pen pen test pentester's

134
00:05:26,080 --> 00:05:27,360
perspective

135
00:05:27,360 --> 00:05:30,000
um it's actually uh not useful at all

136
00:05:30,000 --> 00:05:31,280
because

137
00:05:31,280 --> 00:05:32,880
in the

138
00:05:32,880 --> 00:05:34,560
vast majority of the cases you you

139
00:05:34,560 --> 00:05:36,240
cannot explain it and to do anything

140
00:05:36,240 --> 00:05:38,800
with it in the same category

141
00:05:38,800 --> 00:05:42,240
there are vulnerabilities related to

142
00:05:42,240 --> 00:05:45,280
ssl ciphers weak ssl ciphers and so on

143
00:05:45,280 --> 00:05:46,400
so

144
00:05:46,400 --> 00:05:47,280
um

145
00:05:47,280 --> 00:05:50,240
when you do a vulnerability scan

146
00:05:50,240 --> 00:05:52,960
you have a high chance of

147
00:05:52,960 --> 00:05:55,440
having this type of of uh uninteresting

148
00:05:55,440 --> 00:05:58,560
results from an attacker perspective

149
00:05:58,560 --> 00:06:00,720
and uh also there are the false

150
00:06:00,720 --> 00:06:03,120
positives which are actually not

151
00:06:03,120 --> 00:06:04,800
vulnerabilities at all

152
00:06:04,800 --> 00:06:07,759
reported by some scanners

153
00:06:07,759 --> 00:06:11,280
so as a result a lot of time is is being

154
00:06:11,280 --> 00:06:14,400
spent in uh triaging this

155
00:06:14,400 --> 00:06:15,840
this results

156
00:06:15,840 --> 00:06:18,479
when doing vulnerability assessment and

157
00:06:18,479 --> 00:06:20,400
when doing penetration testing for

158
00:06:20,400 --> 00:06:23,120
instance if you have a large scope

159
00:06:23,120 --> 00:06:24,000
and

160
00:06:24,000 --> 00:06:25,680
you run

161
00:06:25,680 --> 00:06:29,199
a vulnerability scanner on it then you

162
00:06:29,199 --> 00:06:32,000
need to spend a lot of time

163
00:06:32,000 --> 00:06:34,240
passing through all the findings and to

164
00:06:34,240 --> 00:06:37,039
see which one is uh exploitable or not

165
00:06:37,039 --> 00:06:40,160
to help you gain the initial access that

166
00:06:40,160 --> 00:06:42,000
you need

167
00:06:42,000 --> 00:06:45,520
to enter the the system

168
00:06:46,160 --> 00:06:49,280
okay so uh for that problem

169
00:06:49,280 --> 00:06:52,000
we have uh created sniper

170
00:06:52,000 --> 00:06:54,960
which is um an automated uh

171
00:06:54,960 --> 00:06:57,120
vulnerability exploitation tool

172
00:06:57,120 --> 00:07:00,880
integrated in pentesters.com

173
00:07:00,880 --> 00:07:04,160
and uh what it does it uh

174
00:07:04,160 --> 00:07:07,039
tries to automatically exploit and gain

175
00:07:07,039 --> 00:07:11,120
access to the target system

176
00:07:11,120 --> 00:07:14,000
and then uh automatically extract some

177
00:07:14,000 --> 00:07:17,039
sample data from the system in order to

178
00:07:17,039 --> 00:07:19,840
give you a strong proof of concept uh

179
00:07:19,840 --> 00:07:22,319
that the vulnerability is real and to

180
00:07:22,319 --> 00:07:23,360
help you

181
00:07:23,360 --> 00:07:25,440
convince your customer that they have a

182
00:07:25,440 --> 00:07:28,800
real issue and they need to patch it as

183
00:07:28,800 --> 00:07:32,240
soon as possible or on the other hand

184
00:07:32,240 --> 00:07:33,280
if

185
00:07:33,280 --> 00:07:36,000
the exploit is not successful then maybe

186
00:07:36,000 --> 00:07:38,800
that is not such a high risk issue as

187
00:07:38,800 --> 00:07:42,639
the vulnerability scanner says

188
00:07:43,039 --> 00:07:45,440
and now uh you're wondering maybe what

189
00:07:45,440 --> 00:07:46,560
uh

190
00:07:46,560 --> 00:07:50,080
what exploits uh does uh sniper has or

191
00:07:50,080 --> 00:07:53,919
what vulnerabilities tries to to exploit

192
00:07:53,919 --> 00:07:56,560
so we have decided to

193
00:07:56,560 --> 00:08:00,319
um to implement in sniper

194
00:08:00,319 --> 00:08:02,639
uh detection and exploitation

195
00:08:02,639 --> 00:08:05,599
capabilities for uh the

196
00:08:05,599 --> 00:08:07,280
most uh

197
00:08:07,280 --> 00:08:09,759
critical and high risk vulnerabilities

198
00:08:09,759 --> 00:08:12,560
uh found in common enterprise software

199
00:08:12,560 --> 00:08:13,840
so

200
00:08:13,840 --> 00:08:16,080
as i uh mentioned in the beginning you

201
00:08:16,080 --> 00:08:18,319
probably have heard of uh

202
00:08:18,319 --> 00:08:22,400
proxy shell proxy logon proxy oracle

203
00:08:22,400 --> 00:08:24,960
uh oh my god and others

204
00:08:24,960 --> 00:08:26,319
and

205
00:08:26,319 --> 00:08:29,039
not only these ones which are mainstream

206
00:08:29,039 --> 00:08:30,960
but also

207
00:08:30,960 --> 00:08:33,200
other vulnerabilities which give you

208
00:08:33,200 --> 00:08:35,919
direct access to to the target

209
00:08:35,919 --> 00:08:39,200
uh there has been recently been some

210
00:08:39,200 --> 00:08:41,679
remote code execution in gitlab for

211
00:08:41,679 --> 00:08:42,719
instance

212
00:08:42,719 --> 00:08:44,640
and

213
00:08:44,640 --> 00:08:47,040
cisco and others

214
00:08:47,040 --> 00:08:49,040
so these vulnerabilities implemented in

215
00:08:49,040 --> 00:08:52,160
sniper are also being used by

216
00:08:52,160 --> 00:08:55,360
ransomware gangs to get access to

217
00:08:55,360 --> 00:08:56,560
to the system

218
00:08:56,560 --> 00:08:58,320
by malware or

219
00:08:58,320 --> 00:09:02,720
pen testers who are doing this manually

220
00:09:03,120 --> 00:09:04,959
yeah and here is uh

221
00:09:04,959 --> 00:09:06,399
here are

222
00:09:06,399 --> 00:09:08,480
here's a sample of the of these

223
00:09:08,480 --> 00:09:09,839
vulnerabilities

224
00:09:09,839 --> 00:09:12,880
you may recognize uh dcv

225
00:09:12,880 --> 00:09:15,120
in apache server

226
00:09:15,120 --> 00:09:16,480
which

227
00:09:16,480 --> 00:09:17,760
allows you to

228
00:09:17,760 --> 00:09:20,399
read arbitrary files

229
00:09:20,399 --> 00:09:22,320
this is the oh my god vulnerability and

230
00:09:22,320 --> 00:09:26,320
microsoft open management interface

231
00:09:26,320 --> 00:09:30,080
in microsoft exchange server proxy shell

232
00:09:30,080 --> 00:09:32,160
atlassian vmware

233
00:09:32,160 --> 00:09:33,920
gitlab

234
00:09:33,920 --> 00:09:37,200
citrix cisco and so on so

235
00:09:37,200 --> 00:09:39,040
we focus on

236
00:09:39,040 --> 00:09:41,040
software that

237
00:09:41,040 --> 00:09:46,079
usually is being utilized in enterprise

238
00:09:48,640 --> 00:09:51,600
the exploitation process that uh i'm

239
00:09:51,600 --> 00:09:54,000
going to also um

240
00:09:54,000 --> 00:09:56,880
uh showcase uh immediately uh follows

241
00:09:56,880 --> 00:09:59,360
this uh these steps so um

242
00:09:59,360 --> 00:10:01,440
the the tool

243
00:10:01,440 --> 00:10:04,000
starts by uh scanning the target for

244
00:10:04,000 --> 00:10:05,680
open ports

245
00:10:05,680 --> 00:10:09,040
it fingerprints what type of services

246
00:10:09,040 --> 00:10:11,040
they are running on those ports

247
00:10:11,040 --> 00:10:12,560
and based on that

248
00:10:12,560 --> 00:10:15,600
it selects only the exploits that are

249
00:10:15,600 --> 00:10:17,279
matching

250
00:10:17,279 --> 00:10:19,839
those services and versions

251
00:10:19,839 --> 00:10:23,200
it runs them against the target and if

252
00:10:23,200 --> 00:10:25,519
any of the exploit succeeds

253
00:10:25,519 --> 00:10:28,320
then it proceeds with extracting the

254
00:10:28,320 --> 00:10:30,839
artifacts from the

255
00:10:30,839 --> 00:10:34,880
target and what are these artifacts

256
00:10:34,880 --> 00:10:37,680
these artifacts are the the data that is

257
00:10:37,680 --> 00:10:39,920
extracted from from the target

258
00:10:39,920 --> 00:10:42,480
and uh here are some categories so um

259
00:10:42,480 --> 00:10:44,320
sniper extracts the

260
00:10:44,320 --> 00:10:47,200
current user to see

261
00:10:47,200 --> 00:10:49,760
under which account the exploit is

262
00:10:49,760 --> 00:10:51,200
running as

263
00:10:51,200 --> 00:10:53,440
the system information

264
00:10:53,440 --> 00:10:55,680
to get information about the operating

265
00:10:55,680 --> 00:10:56,720
system

266
00:10:56,720 --> 00:10:57,600
and the

267
00:10:57,600 --> 00:10:59,279
environment

268
00:10:59,279 --> 00:11:01,680
sensitive files i'm going to show you

269
00:11:01,680 --> 00:11:04,640
immediately a list of local users

270
00:11:04,640 --> 00:11:06,800
running processes network configuration

271
00:11:06,800 --> 00:11:08,800
connections and so on

272
00:11:08,800 --> 00:11:10,399
so um

273
00:11:10,399 --> 00:11:12,720
you can get a

274
00:11:12,720 --> 00:11:15,600
pretty quick overview of the target that

275
00:11:15,600 --> 00:11:19,360
you have gained access to

276
00:11:20,320 --> 00:11:22,480
here is a sample artifact

277
00:11:22,480 --> 00:11:25,680
it's extracted from a linux machine you

278
00:11:25,680 --> 00:11:27,440
can see that

279
00:11:27,440 --> 00:11:28,560
you can

280
00:11:28,560 --> 00:11:30,240
browse through the

281
00:11:30,240 --> 00:11:31,279
files

282
00:11:31,279 --> 00:11:32,880
and read the

283
00:11:32,880 --> 00:11:35,760
in this case a certificate

284
00:11:35,760 --> 00:11:38,079
file

285
00:11:38,640 --> 00:11:41,760
another one from a windows system

286
00:11:41,760 --> 00:11:44,880
you can see some text file that you can

287
00:11:44,880 --> 00:11:46,880
read from the target

288
00:11:46,880 --> 00:11:48,320
which contains some sensitive

289
00:11:48,320 --> 00:11:50,880
information we will see this in the demo

290
00:11:50,880 --> 00:11:52,639
also

291
00:11:52,639 --> 00:11:56,240
and here is an interesting one

292
00:11:56,240 --> 00:11:58,399
when uh when exploiting

293
00:11:58,399 --> 00:12:01,040
apart traversal vulnerability in the 40

294
00:12:01,040 --> 00:12:04,480
os ssl vpn appliance

295
00:12:04,480 --> 00:12:07,519
sniper manages to automatically

296
00:12:07,519 --> 00:12:10,639
parse the web session file

297
00:12:10,639 --> 00:12:12,720
which is which has a

298
00:12:12,720 --> 00:12:14,160
binary format

299
00:12:14,160 --> 00:12:18,480
and extracts from there uh the uh

300
00:12:18,480 --> 00:12:20,800
clear text credentials for connecting to

301
00:12:20,800 --> 00:12:21,760
the

302
00:12:21,760 --> 00:12:24,560
vpn of plans so

303
00:12:24,560 --> 00:12:28,638
here's a sample output from that

304
00:12:31,360 --> 00:12:32,320
before

305
00:12:32,320 --> 00:12:35,519
before starting the demo i will also

306
00:12:35,519 --> 00:12:36,880
quickly

307
00:12:36,880 --> 00:12:38,399
pass through

308
00:12:38,399 --> 00:12:39,839
through the alternatives that you have

309
00:12:39,839 --> 00:12:41,360
so

310
00:12:41,360 --> 00:12:43,760
when you do a penetration test of course

311
00:12:43,760 --> 00:12:46,639
uh the first uh choice uh would be meta

312
00:12:46,639 --> 00:12:49,519
split with which is a free

313
00:12:49,519 --> 00:12:51,920
uh a free exploitation framework which

314
00:12:51,920 --> 00:12:54,079
we all know that is a

315
00:12:54,079 --> 00:12:56,480
very good tool

316
00:12:56,480 --> 00:12:59,279
and we also may use some

317
00:12:59,279 --> 00:13:04,079
exploits that can be found on github

318
00:13:04,079 --> 00:13:06,320
however these are the differences

319
00:13:06,320 --> 00:13:07,519
between

320
00:13:07,519 --> 00:13:10,800
these three alternatives and the sniper

321
00:13:10,800 --> 00:13:13,200
so as you may see uh

322
00:13:13,200 --> 00:13:14,959
metasploit is a

323
00:13:14,959 --> 00:13:18,000
fully manual tool um

324
00:13:18,000 --> 00:13:19,200
every step

325
00:13:19,200 --> 00:13:22,000
from here needs to be manually done and

326
00:13:22,000 --> 00:13:24,560
the pen tester needs to be needs to know

327
00:13:24,560 --> 00:13:27,440
very well what he's doing when uh

328
00:13:27,440 --> 00:13:30,320
when running a metal plate

329
00:13:30,320 --> 00:13:33,519
so it does automate manual port scanning

330
00:13:33,519 --> 00:13:36,000
sniper does it automatically

331
00:13:36,000 --> 00:13:38,399
manual fingerprinting sniper does it

332
00:13:38,399 --> 00:13:42,320
automatically manually exploit selection

333
00:13:42,320 --> 00:13:44,880
sniper does it automatically

334
00:13:44,880 --> 00:13:48,480
there's a catch here that um

335
00:13:48,480 --> 00:13:50,800
with the automatic exploit selection we

336
00:13:50,800 --> 00:13:52,880
ensure that

337
00:13:52,880 --> 00:13:55,920
all exploits that we run are

338
00:13:55,920 --> 00:13:59,040
verified are safe and

339
00:13:59,040 --> 00:14:01,040
there is a

340
00:14:01,040 --> 00:14:04,720
very low risk or or even no risk

341
00:14:04,720 --> 00:14:07,440
of uh crashing the the target

342
00:14:07,440 --> 00:14:09,600
we're

343
00:14:09,760 --> 00:14:12,480
taking it to an unstable state

344
00:14:12,480 --> 00:14:16,079
uh because we we verify very well the

345
00:14:16,079 --> 00:14:19,439
actions performed by the tool

346
00:14:20,399 --> 00:14:21,360
however

347
00:14:21,360 --> 00:14:23,519
uh an important difference between

348
00:14:23,519 --> 00:14:25,680
metasplate and sniper is that metal

349
00:14:25,680 --> 00:14:28,320
split gives you full shell access to the

350
00:14:28,320 --> 00:14:30,480
target and you can do

351
00:14:30,480 --> 00:14:33,519
uh whatever you want from from now on

352
00:14:33,519 --> 00:14:35,519
uh while uh we chose

353
00:14:35,519 --> 00:14:37,519
the

354
00:14:37,519 --> 00:14:39,040
sniper to

355
00:14:39,040 --> 00:14:40,959
to not give

356
00:14:40,959 --> 00:14:44,160
uh shell access at all

357
00:14:44,160 --> 00:14:47,360
to the to the customer

358
00:14:48,639 --> 00:14:51,839
since we want with sniper to do

359
00:14:51,839 --> 00:14:54,560
controlled exploitation

360
00:14:54,560 --> 00:14:55,600
um

361
00:14:55,600 --> 00:14:59,639
and we don't want uh

362
00:14:59,760 --> 00:15:02,160
to the platform to give

363
00:15:02,160 --> 00:15:05,680
a remote code execution access

364
00:15:05,760 --> 00:15:07,360
to the targets

365
00:15:07,360 --> 00:15:11,240
for any end user

366
00:15:13,600 --> 00:15:17,440
then uh after the in the

367
00:15:18,000 --> 00:15:20,320
post-exploitation phase in meta split

368
00:15:20,320 --> 00:15:23,680
you have to do it all manually

369
00:15:23,920 --> 00:15:26,639
in sniper uh there are these um

370
00:15:26,639 --> 00:15:29,680
artifacts that are

371
00:15:32,000 --> 00:15:35,279
being sorry to interrupt

372
00:15:35,279 --> 00:15:36,959
you're breaking up a little bit if

373
00:15:36,959 --> 00:15:40,560
there's anything you can do to if

374
00:15:40,560 --> 00:15:44,160
there's anything more work for you

375
00:15:48,880 --> 00:15:50,480
and so on

376
00:15:50,480 --> 00:15:54,600
and the reporting of course you

377
00:15:55,360 --> 00:15:57,040
you don't have uh any interesting

378
00:15:57,040 --> 00:15:59,439
reporting

379
00:16:03,199 --> 00:16:05,680
adrian you're breaking up sniper quite a

380
00:16:05,680 --> 00:16:09,360
bit uh integrated infinitest.com

381
00:16:09,360 --> 00:16:13,120
it um it takes advantage of the

382
00:16:13,920 --> 00:16:15,519
built-in reporting capabilities of the

383
00:16:15,519 --> 00:16:19,440
platform and it's very easy to create

384
00:16:20,199 --> 00:16:23,839
a decent report

385
00:16:26,079 --> 00:16:28,000
and of course metasploit is local and

386
00:16:28,000 --> 00:16:31,279
the sniper is cloud-based

387
00:16:33,600 --> 00:16:37,639
yeah so uh enough

388
00:16:37,759 --> 00:16:40,639
enough with the talking

389
00:16:44,480 --> 00:16:47,199
let's uh let's see if it works

390
00:16:47,199 --> 00:16:51,560
what i'm going to do now i'm going to

391
00:16:52,560 --> 00:16:55,758
connect to pentax.com

392
00:17:01,360 --> 00:17:03,519
at the end this is

393
00:17:03,519 --> 00:17:06,240
your your sound is breaking off quite a

394
00:17:06,240 --> 00:17:08,400
bit

395
00:17:08,559 --> 00:17:10,880
this is our main website i'm going to

396
00:17:10,880 --> 00:17:14,439
enter to my account

397
00:17:31,440 --> 00:17:35,960
having a bit of a delay here

398
00:17:48,320 --> 00:17:52,160
okay so this is the dashboard

399
00:17:52,160 --> 00:17:54,400
but i have created a dedicated workspace

400
00:17:54,400 --> 00:17:57,520
for uh for this

401
00:17:57,679 --> 00:17:59,120
demo

402
00:17:59,120 --> 00:18:01,760
uh we're going to

403
00:18:01,760 --> 00:18:05,440
start uh with a scenario

404
00:18:06,640 --> 00:18:08,080
saying that um

405
00:18:08,080 --> 00:18:10,000
we have a target

406
00:18:10,000 --> 00:18:12,559
domain for um for our

407
00:18:12,559 --> 00:18:14,880
pentest uh we'll use this uh pentest

408
00:18:14,880 --> 00:18:17,840
minus ground.com it's a domain owned by

409
00:18:17,840 --> 00:18:18,559
sure

410
00:18:18,559 --> 00:18:22,320
so i was saying that um

411
00:18:22,559 --> 00:18:27,280
i uh i'm adding a target domain here

412
00:18:27,280 --> 00:18:30,080
that um

413
00:18:31,280 --> 00:18:34,640
we should use uh in our penetration test

414
00:18:34,640 --> 00:18:36,400
okay and

415
00:18:36,400 --> 00:18:39,600
the first uh the first step that we may

416
00:18:39,600 --> 00:18:40,799
want to do

417
00:18:40,799 --> 00:18:42,960
in a pen test is uh to see what sub

418
00:18:42,960 --> 00:18:44,799
domains there are there

419
00:18:44,799 --> 00:18:46,160
and for that

420
00:18:46,160 --> 00:18:48,960
we'll use one of the discovery tools in

421
00:18:48,960 --> 00:18:50,799
uh in the platform

422
00:18:50,799 --> 00:18:54,760
it's the find subdomains

423
00:19:00,480 --> 00:19:04,480
this should uh finish pretty quickly

424
00:19:04,480 --> 00:19:05,440
because

425
00:19:05,440 --> 00:19:08,640
there are not so many

426
00:19:08,640 --> 00:19:11,840
targets here

427
00:19:15,280 --> 00:19:17,280
and you can see that the tool also

428
00:19:17,280 --> 00:19:19,360
validates the the subdomains and

429
00:19:19,360 --> 00:19:21,440
translates them to ip addresses and

430
00:19:21,440 --> 00:19:23,760
gives some brief information of the

431
00:19:23,760 --> 00:19:25,120
types of

432
00:19:25,120 --> 00:19:28,880
services that are running there

433
00:19:28,880 --> 00:19:31,679
okay um

434
00:19:31,679 --> 00:19:34,640
we have uh we have some confluence some

435
00:19:34,640 --> 00:19:38,240
core dev mail and so on

436
00:19:38,240 --> 00:19:40,720
we can do a lot of things here

437
00:19:40,720 --> 00:19:42,799
we can scan them for

438
00:19:42,799 --> 00:19:45,679
open ports we can

439
00:19:45,679 --> 00:19:49,280
run vulnerability scanning on them

440
00:19:49,280 --> 00:19:50,160
let's

441
00:19:50,160 --> 00:19:53,520
first add them to the targets list

442
00:19:53,520 --> 00:19:54,880
so we can

443
00:19:54,880 --> 00:19:55,840
do more

444
00:19:55,840 --> 00:19:58,480
more scans

445
00:20:00,240 --> 00:20:01,360
so uh

446
00:20:01,360 --> 00:20:02,880
here

447
00:20:02,880 --> 00:20:05,440
from so from starting from the target

448
00:20:05,440 --> 00:20:07,840
domain we have produced one two three

449
00:20:07,840 --> 00:20:08,640
four

450
00:20:08,640 --> 00:20:11,280
five six uh six sub domains so the

451
00:20:11,280 --> 00:20:15,360
attack surface has um has enlarged

452
00:20:15,360 --> 00:20:18,799
okay and uh for these ones uh what we

453
00:20:18,799 --> 00:20:21,280
should do we should uh

454
00:20:21,280 --> 00:20:23,760
scan them for open ports for instance

455
00:20:23,760 --> 00:20:26,400
but um

456
00:20:26,559 --> 00:20:29,360
it you already know how to do that

457
00:20:29,360 --> 00:20:32,080
i would like to

458
00:20:32,080 --> 00:20:32,840
no

459
00:20:32,840 --> 00:20:37,200
just we'll do some work scanning first

460
00:20:37,200 --> 00:20:41,679
we do top 100 ports and so on

461
00:20:41,679 --> 00:20:44,400
the thing is that

462
00:20:45,919 --> 00:20:47,679
the beautiful thing with pentax tools is

463
00:20:47,679 --> 00:20:50,240
that you can start a lot of

464
00:20:50,240 --> 00:20:52,960
a lot of scans and just

465
00:20:52,960 --> 00:20:54,480
let them run

466
00:20:54,480 --> 00:20:57,120
and come back a bit later to see to see

467
00:20:57,120 --> 00:20:59,679
the results

468
00:20:59,679 --> 00:21:03,120
okay so we we started some port scans

469
00:21:03,120 --> 00:21:04,799
and um

470
00:21:04,799 --> 00:21:07,520
we will see later later the results and

471
00:21:07,520 --> 00:21:09,919
after that we will do a vulnerability

472
00:21:09,919 --> 00:21:12,799
scan to see what type of uh

473
00:21:12,799 --> 00:21:14,320
of results

474
00:21:14,320 --> 00:21:18,159
do we get we get so in this case uh we

475
00:21:18,159 --> 00:21:19,919
will use our network vulnerability

476
00:21:19,919 --> 00:21:22,159
scanner which is embedded in in

477
00:21:22,159 --> 00:21:24,159
pentaxtools.com

478
00:21:24,159 --> 00:21:27,280
this is a solution based on the

479
00:21:27,280 --> 00:21:29,280
free openvas

480
00:21:29,280 --> 00:21:30,400
scanner

481
00:21:30,400 --> 00:21:31,440
but

482
00:21:31,440 --> 00:21:33,200
on top of that we have

483
00:21:33,200 --> 00:21:34,559
added

484
00:21:34,559 --> 00:21:35,919
our own

485
00:21:35,919 --> 00:21:38,000
detection modules

486
00:21:38,000 --> 00:21:39,039
that

487
00:21:39,039 --> 00:21:41,919
are detecting

488
00:21:42,080 --> 00:21:43,679
vulnerabilities that will be later

489
00:21:43,679 --> 00:21:46,000
exploited with the with sniper

490
00:21:46,000 --> 00:21:49,360
so um i will start um

491
00:21:49,360 --> 00:21:51,200
also

492
00:21:51,200 --> 00:21:52,480
a set of

493
00:21:52,480 --> 00:21:54,960
vulnerability scans on this

494
00:21:54,960 --> 00:21:56,559
you can see that

495
00:21:56,559 --> 00:21:59,919
the port scans have

496
00:21:59,919 --> 00:22:03,120
have almost finished

497
00:22:04,400 --> 00:22:06,240
in order to

498
00:22:06,240 --> 00:22:07,200
to

499
00:22:07,200 --> 00:22:09,360
easily see the results of the port scans

500
00:22:09,360 --> 00:22:10,480
we have

501
00:22:10,480 --> 00:22:12,400
an attack surface here

502
00:22:12,400 --> 00:22:15,600
which aggregates

503
00:22:15,600 --> 00:22:18,080
all the results

504
00:22:18,080 --> 00:22:19,360
from uh

505
00:22:19,360 --> 00:22:22,479
from some of the tools

506
00:22:22,880 --> 00:22:24,320
so we have

507
00:22:24,320 --> 00:22:28,400
multiple ports here the attack surfaces

508
00:22:28,400 --> 00:22:31,520
is even increasing

509
00:22:33,200 --> 00:22:37,799
let me get back to the scans so

510
00:22:43,200 --> 00:22:45,840
for instance

511
00:22:45,840 --> 00:22:48,240
we'll we'll look at the network

512
00:22:48,240 --> 00:22:51,440
vulnerability scanner for this

513
00:22:51,440 --> 00:22:54,840
for this host

514
00:22:56,720 --> 00:23:00,880
which right now says that it is down

515
00:23:02,080 --> 00:23:05,960
we will do that again

516
00:23:09,360 --> 00:23:10,880
uh let's try on

517
00:23:10,880 --> 00:23:14,919
dev dot pentiusground.com

518
00:23:18,080 --> 00:23:20,639
okay

519
00:23:21,600 --> 00:23:23,840
um

520
00:23:24,320 --> 00:23:27,840
we're missing some port here

521
00:23:35,120 --> 00:23:37,760
okay so um let's see let's see what's uh

522
00:23:37,760 --> 00:23:40,559
what the problem is

523
00:23:40,640 --> 00:23:43,279
so these are all the scans running right

524
00:23:43,279 --> 00:23:44,720
now

525
00:23:44,720 --> 00:23:48,080
so the uh port scans have finished

526
00:23:48,080 --> 00:23:50,880
let's see on uh

527
00:23:50,880 --> 00:23:53,360
on confluence on the confluence server

528
00:23:53,360 --> 00:23:56,159
it found the port 80 open

529
00:23:56,159 --> 00:24:00,720
which is good so if we go there

530
00:24:01,919 --> 00:24:04,240
to see what is there we see the

531
00:24:04,240 --> 00:24:07,279
atlassian conference application here

532
00:24:07,279 --> 00:24:09,600
which is good

533
00:24:09,600 --> 00:24:11,840
then

534
00:24:13,679 --> 00:24:18,120
if we look at the

535
00:24:18,240 --> 00:24:21,120
port scan for uh mail

536
00:24:21,120 --> 00:24:23,360
this has also finished

537
00:24:23,360 --> 00:24:25,440
and uh it has found

538
00:24:25,440 --> 00:24:28,000
a lot of open ports

539
00:24:28,000 --> 00:24:30,400
and uh what what is here

540
00:24:30,400 --> 00:24:32,799
here is uh the um

541
00:24:32,799 --> 00:24:34,400
outlook web access

542
00:24:34,400 --> 00:24:37,200
interface so meaning that uh at this

543
00:24:37,200 --> 00:24:40,080
target we have a microsoft exchange

544
00:24:40,080 --> 00:24:42,480
server

545
00:24:43,440 --> 00:24:47,480
okay and um

546
00:24:47,760 --> 00:24:50,320
i also wanted to show you here the the

547
00:24:50,320 --> 00:24:53,919
result of uh yeah we have one

548
00:24:53,919 --> 00:24:55,919
so um

549
00:24:55,919 --> 00:24:58,240
the network scanner that we have run

550
00:24:58,240 --> 00:25:01,440
against the mail the mail server

551
00:25:01,440 --> 00:25:05,120
has reported us the same open words as

552
00:25:05,120 --> 00:25:07,039
as uh

553
00:25:07,039 --> 00:25:10,159
nmap but also has uh detected

554
00:25:10,159 --> 00:25:12,640
some vulnerabilities so

555
00:25:12,640 --> 00:25:14,240
we have a

556
00:25:14,240 --> 00:25:16,640
remote code execution proxy from proxy

557
00:25:16,640 --> 00:25:17,520
shell

558
00:25:17,520 --> 00:25:18,480
um

559
00:25:18,480 --> 00:25:20,559
we have a detailed explanation here

560
00:25:20,559 --> 00:25:24,960
but uh if we give this this report to

561
00:25:24,960 --> 00:25:27,520
a system owner for instance

562
00:25:27,520 --> 00:25:30,240
they may they might they may

563
00:25:30,240 --> 00:25:32,159
fight back and say that

564
00:25:32,159 --> 00:25:34,240
this is not true because

565
00:25:34,240 --> 00:25:36,720
i don't know for instance i just

566
00:25:36,720 --> 00:25:39,600
updated the server or it uses automatic

567
00:25:39,600 --> 00:25:42,080
updates and it should get updated and

568
00:25:42,080 --> 00:25:45,120
they can uh challenge you

569
00:25:45,120 --> 00:25:49,360
but in order to prove them that um

570
00:25:49,360 --> 00:25:51,520
these vulnerabilities are real

571
00:25:51,520 --> 00:25:52,320
um

572
00:25:52,320 --> 00:25:53,679
you can

573
00:25:53,679 --> 00:25:59,039
exploit them with the with the sniper

574
00:25:59,039 --> 00:26:00,159
so

575
00:26:00,159 --> 00:26:02,720
for that

576
00:26:04,880 --> 00:26:08,080
you just need to go to

577
00:26:08,080 --> 00:26:11,360
to the interface uh it's simple as

578
00:26:11,360 --> 00:26:14,799
entering the target

579
00:26:14,799 --> 00:26:15,679
okay

580
00:26:15,679 --> 00:26:17,360
and

581
00:26:17,360 --> 00:26:19,200
i'm going to

582
00:26:19,200 --> 00:26:20,640
to

583
00:26:20,640 --> 00:26:22,000
leave only the

584
00:26:22,000 --> 00:26:23,919
port that i know that

585
00:26:23,919 --> 00:26:25,279
it's vulnerable

586
00:26:25,279 --> 00:26:28,799
in order to make it a bit faster

587
00:26:28,799 --> 00:26:31,039
and

588
00:26:32,880 --> 00:26:34,880
i'm going to let it run so

589
00:26:34,880 --> 00:26:38,559
and in parallel i'll also run

590
00:26:38,559 --> 00:26:40,240
sniper on

591
00:26:40,240 --> 00:26:43,440
the other two hosts

592
00:26:49,120 --> 00:26:50,480
i know that

593
00:26:50,480 --> 00:26:54,720
are having some vulnerabilities there

594
00:26:54,720 --> 00:26:59,000
and on confluence

595
00:27:06,640 --> 00:27:10,000
so right now we have um

596
00:27:10,640 --> 00:27:12,080
let me show you how

597
00:27:12,080 --> 00:27:15,200
how sniper actually works so you can see

598
00:27:15,200 --> 00:27:19,120
here an um console output

599
00:27:19,120 --> 00:27:21,760
it's saying uh running tcp ports can

600
00:27:21,760 --> 00:27:25,520
against uh the target on top 100 ports

601
00:27:25,520 --> 00:27:28,559
uh if you remember the the steps that i

602
00:27:28,559 --> 00:27:31,200
uh told you previously it has found the

603
00:27:31,200 --> 00:27:34,720
two open ports 80 and 22.

604
00:27:34,720 --> 00:27:36,080
right now what it does is it's

605
00:27:36,080 --> 00:27:38,960
fingerprinting the http service

606
00:27:38,960 --> 00:27:41,919
on port 80.

607
00:27:41,919 --> 00:27:44,080
it found the atlassian confluence

608
00:27:44,080 --> 00:27:45,520
application

609
00:27:45,520 --> 00:27:48,000
and now what happened it finished

610
00:27:48,000 --> 00:27:49,279
execution and

611
00:27:49,279 --> 00:27:52,559
closed my console

612
00:27:54,000 --> 00:27:56,640
so after after the fingerprint uh

613
00:27:56,640 --> 00:27:58,720
succeeded

614
00:27:58,720 --> 00:28:00,480
i'm zooming in here so you can see

615
00:28:00,480 --> 00:28:02,880
better

616
00:28:02,880 --> 00:28:05,760
it's uh looking for compatible exploits

617
00:28:05,760 --> 00:28:06,640
on

618
00:28:06,640 --> 00:28:08,000
each port

619
00:28:08,000 --> 00:28:10,720
and for port 8 it has found two possible

620
00:28:10,720 --> 00:28:12,720
compatible exploits

621
00:28:12,720 --> 00:28:13,520
and

622
00:28:13,520 --> 00:28:16,399
checking if it's vulnerable to atlassian

623
00:28:16,399 --> 00:28:18,720
confidence rc that one

624
00:28:18,720 --> 00:28:20,720
saying target is vulnerable

625
00:28:20,720 --> 00:28:23,600
is trying to gain an exploit station

626
00:28:23,600 --> 00:28:25,600
successfully gained it

627
00:28:25,600 --> 00:28:28,640
and now it starts the post-exploitation

628
00:28:28,640 --> 00:28:31,760
phase with the extraction of the of the

629
00:28:31,760 --> 00:28:33,840
artifacts

630
00:28:33,840 --> 00:28:36,159
and this extraction means actually

631
00:28:36,159 --> 00:28:38,799
running some

632
00:28:39,200 --> 00:28:41,520
simple commands on the

633
00:28:41,520 --> 00:28:43,200
on the target like

634
00:28:43,200 --> 00:28:46,240
you name who am i

635
00:28:46,559 --> 00:28:50,159
id to see the the current user

636
00:28:50,159 --> 00:28:53,279
list of local users

637
00:28:53,279 --> 00:28:55,200
and so on

638
00:28:55,200 --> 00:28:56,080
so

639
00:28:56,080 --> 00:28:58,480
this this console output can get pretty

640
00:28:58,480 --> 00:29:01,200
messy and that's why we have

641
00:29:01,200 --> 00:29:03,440
we have put it in a more uh no more

642
00:29:03,440 --> 00:29:05,360
visual format

643
00:29:05,360 --> 00:29:06,960
and um

644
00:29:06,960 --> 00:29:08,880
this is the exploitation summary here is

645
00:29:08,880 --> 00:29:12,399
the the port that has been uh exploited

646
00:29:12,399 --> 00:29:15,919
and then follow the the artifacts

647
00:29:15,919 --> 00:29:17,440
what you can see here

648
00:29:17,440 --> 00:29:20,399
is the the list of local users from the

649
00:29:20,399 --> 00:29:21,520
system

650
00:29:21,520 --> 00:29:24,159
uh you can see that we have um

651
00:29:24,159 --> 00:29:28,159
left only those with an active shell so

652
00:29:28,159 --> 00:29:30,960
who can actually connect with the

653
00:29:30,960 --> 00:29:34,159
ssh to the to the server

654
00:29:34,159 --> 00:29:36,960
a list of processes

655
00:29:36,960 --> 00:29:39,000
and

656
00:29:39,000 --> 00:29:40,240
[Music]

657
00:29:40,240 --> 00:29:42,240
this

658
00:29:42,240 --> 00:29:45,440
these are the disk drives

659
00:29:46,000 --> 00:29:48,399
you can

660
00:29:48,559 --> 00:29:51,360
actually browse here through

661
00:29:51,360 --> 00:29:55,200
some of the files and some of the files

662
00:29:55,200 --> 00:29:56,960
are being

663
00:29:56,960 --> 00:29:59,039
extracted

664
00:29:59,039 --> 00:30:01,360
automatically

665
00:30:01,360 --> 00:30:03,520
from from the

666
00:30:03,520 --> 00:30:04,799
server

667
00:30:04,799 --> 00:30:05,760
i'm

668
00:30:05,760 --> 00:30:08,720
i'll have some

669
00:30:08,720 --> 00:30:10,640
some more um

670
00:30:10,640 --> 00:30:13,279
some more interesting uh examples uh

671
00:30:13,279 --> 00:30:16,000
next uh in the next targets so so this

672
00:30:16,000 --> 00:30:18,240
uh this is the exploitation of the

673
00:30:18,240 --> 00:30:20,000
confluence uh

674
00:30:20,000 --> 00:30:21,520
platform

675
00:30:21,520 --> 00:30:24,559
going to the other one

676
00:30:25,360 --> 00:30:27,360
this one was also

677
00:30:27,360 --> 00:30:30,719
successfully exploited

678
00:30:35,679 --> 00:30:36,720
so

679
00:30:36,720 --> 00:30:39,200
this machine is also

680
00:30:39,200 --> 00:30:41,279
a linux machine

681
00:30:41,279 --> 00:30:43,520
and

682
00:30:45,360 --> 00:30:49,120
it's sure omi and the the story

683
00:30:49,120 --> 00:30:50,799
with that is that

684
00:30:50,799 --> 00:30:52,960
this

685
00:30:52,960 --> 00:30:56,480
this agent was being automatically

686
00:30:56,480 --> 00:30:58,399
cloud if you were

687
00:30:58,399 --> 00:30:59,360
um

688
00:30:59,360 --> 00:31:01,320
deploying a

689
00:31:01,320 --> 00:31:04,960
linux machine and you you were enabling

690
00:31:04,960 --> 00:31:07,760
some azure services on it then azure

691
00:31:07,760 --> 00:31:10,320
would push that uh agent automatically

692
00:31:10,320 --> 00:31:12,720
to your cloud

693
00:31:12,720 --> 00:31:14,159
the server

694
00:31:14,159 --> 00:31:18,240
and uh this um this agent omar

695
00:31:18,240 --> 00:31:20,399
was actually vulnerable to remote code

696
00:31:20,399 --> 00:31:24,000
execution and would give you

697
00:31:24,000 --> 00:31:25,919
root access to the to the server would

698
00:31:25,919 --> 00:31:28,000
give any any attacker root access to

699
00:31:28,000 --> 00:31:29,440
that server

700
00:31:29,440 --> 00:31:33,120
so in case sniper has managed to execute

701
00:31:33,120 --> 00:31:35,120
to obtain remote code execution as root

702
00:31:35,120 --> 00:31:37,279
on on this server

703
00:31:37,279 --> 00:31:39,440
on both ports

704
00:31:39,440 --> 00:31:42,240
and here since we are root

705
00:31:42,240 --> 00:31:44,000
you can see that

706
00:31:44,000 --> 00:31:45,840
sniper has also extracted the the

707
00:31:45,840 --> 00:31:48,799
password hashes of the users uh and in

708
00:31:48,799 --> 00:31:51,279
this case you can see emily that

709
00:31:51,279 --> 00:31:53,360
is also in the groups uh in the root

710
00:31:53,360 --> 00:31:56,240
group and uh meaning that he has she has

711
00:31:56,240 --> 00:31:58,960
high privileges on the on the system and

712
00:31:58,960 --> 00:32:03,120
if somebody can crack this password then

713
00:32:03,120 --> 00:32:05,679
you can use to access the system

714
00:32:05,679 --> 00:32:07,679
this is the list of processes

715
00:32:07,679 --> 00:32:09,919
from the machine and

716
00:32:09,919 --> 00:32:13,279
also again in the

717
00:32:13,519 --> 00:32:17,440
file system artifact if we look in uh

718
00:32:17,440 --> 00:32:20,640
we since we have root privileges we can

719
00:32:20,640 --> 00:32:23,279
look into the home folders of each user

720
00:32:23,279 --> 00:32:28,399
and in the root folder we can find some

721
00:32:28,399 --> 00:32:29,919
certificates

722
00:32:29,919 --> 00:32:34,320
we can find a bash history file

723
00:32:34,320 --> 00:32:36,159
some configuration files and the effects

724
00:32:36,159 --> 00:32:38,240
are the network configuration

725
00:32:38,240 --> 00:32:40,640
of the network cards neighbors from the

726
00:32:40,640 --> 00:32:42,720
arp table to see what other machines are

727
00:32:42,720 --> 00:32:45,440
in the network uh listening services and

728
00:32:45,440 --> 00:32:46,320
we can

729
00:32:46,320 --> 00:32:48,880
confirm from the local machine the same

730
00:32:48,880 --> 00:32:52,399
the same ports discovered with

731
00:32:52,399 --> 00:32:55,279
the port scanner

732
00:32:55,360 --> 00:32:57,279
and uh yeah this is what was the

733
00:32:57,279 --> 00:32:59,519
exploitation for for a linux machine

734
00:32:59,519 --> 00:33:01,200
and uh

735
00:33:01,200 --> 00:33:03,200
at the end i want to show you

736
00:33:03,200 --> 00:33:06,080
the exploitation for the uh the proxy

737
00:33:06,080 --> 00:33:06,960
shell

738
00:33:06,960 --> 00:33:09,519
uh vulnerability

739
00:33:09,519 --> 00:33:12,880
so we're looking at the the mail server

740
00:33:12,880 --> 00:33:15,120
here

741
00:33:17,760 --> 00:33:20,559
and we can see that uh sniper managed to

742
00:33:20,559 --> 00:33:22,640
obtain remote code execution as user

743
00:33:22,640 --> 00:33:25,840
anti-authority system

744
00:33:27,039 --> 00:33:29,519
okay here are the details about about

745
00:33:29,519 --> 00:33:33,840
the machine it's a windows server 2016.

746
00:33:35,840 --> 00:33:37,360
microsoft is

747
00:33:37,360 --> 00:33:41,519
server on port 443 and now

748
00:33:41,519 --> 00:33:44,559
here are here is the list of local users

749
00:33:44,559 --> 00:33:47,200
from from the windows machine

750
00:33:47,200 --> 00:33:49,919
we have the administrator we have

751
00:33:49,919 --> 00:33:52,799
john river who is an i.t manager

752
00:33:52,799 --> 00:33:56,320
here is his password hash

753
00:33:56,320 --> 00:33:58,880
we have susanna who's a help desk

754
00:33:58,880 --> 00:34:02,720
assistant also the password hash here

755
00:34:02,720 --> 00:34:04,720
we have denis scott

756
00:34:04,720 --> 00:34:07,600
who's a database administrator also the

757
00:34:07,600 --> 00:34:10,560
password hash and we also see that

758
00:34:10,560 --> 00:34:12,879
this user danny scott is in the domain

759
00:34:12,879 --> 00:34:14,000
admins

760
00:34:14,000 --> 00:34:16,639
group meaning that he has

761
00:34:16,639 --> 00:34:19,760
the most powerful rights in the domain

762
00:34:19,760 --> 00:34:22,480
windows domain

763
00:34:22,800 --> 00:34:23,760
um

764
00:34:23,760 --> 00:34:25,199
the processes

765
00:34:25,199 --> 00:34:27,119
that are running on the machine here you

766
00:34:27,119 --> 00:34:29,280
can see if there are any

767
00:34:29,280 --> 00:34:30,960
antiviruses

768
00:34:30,960 --> 00:34:32,960
software or

769
00:34:32,960 --> 00:34:35,119
any software that is running

770
00:34:35,119 --> 00:34:37,919
and um

771
00:34:38,159 --> 00:34:40,239
for the file scraping part you can see

772
00:34:40,239 --> 00:34:42,399
that uh sniper

773
00:34:42,399 --> 00:34:44,480
automatically goes through the user's

774
00:34:44,480 --> 00:34:46,839
directory and

775
00:34:46,839 --> 00:34:49,599
um reads the

776
00:34:49,599 --> 00:34:50,719
the

777
00:34:50,719 --> 00:34:52,480
sensitive some sensitive files that it

778
00:34:52,480 --> 00:34:54,480
can find there so

779
00:34:54,480 --> 00:34:56,879
um from susanna miles you can see some

780
00:34:56,879 --> 00:34:58,720
passport file

781
00:34:58,720 --> 00:35:00,079
uh you can

782
00:35:00,079 --> 00:35:02,880
look at the desktop and to see what what

783
00:35:02,880 --> 00:35:04,240
files

784
00:35:04,240 --> 00:35:07,040
people have there

785
00:35:08,000 --> 00:35:09,280
this guy

786
00:35:09,280 --> 00:35:11,280
has some in the downloads has some

787
00:35:11,280 --> 00:35:12,640
movies

788
00:35:12,640 --> 00:35:14,960
in the desktop folder

789
00:35:14,960 --> 00:35:17,760
if we look we see an interesting file

790
00:35:17,760 --> 00:35:18,560
here

791
00:35:18,560 --> 00:35:20,400
if we click on it we can get the

792
00:35:20,400 --> 00:35:21,680
contents

793
00:35:21,680 --> 00:35:24,800
so it's a password file

794
00:35:24,800 --> 00:35:26,640
containing usernames and passwords for

795
00:35:26,640 --> 00:35:29,359
various services in the network

796
00:35:29,359 --> 00:35:30,960
i'm sure that

797
00:35:30,960 --> 00:35:33,119
many people have have this still have

798
00:35:33,119 --> 00:35:36,000
this this approach of putting some

799
00:35:36,000 --> 00:35:38,240
password file on their desktop

800
00:35:38,240 --> 00:35:40,880
and if we go to the other user danny

801
00:35:40,880 --> 00:35:42,240
scott

802
00:35:42,240 --> 00:35:45,200
then we can see in the documents some

803
00:35:45,200 --> 00:35:47,359
since he's a database administrator

804
00:35:47,359 --> 00:35:50,160
we can see some

805
00:35:50,160 --> 00:35:51,920
interesting files

806
00:35:51,920 --> 00:35:55,040
sql files and web config file

807
00:35:55,040 --> 00:35:59,040
which has some credentials to a database

808
00:35:59,040 --> 00:36:01,440
and so on

809
00:36:01,440 --> 00:36:02,800
and uh

810
00:36:02,800 --> 00:36:05,599
yeah so this is the file uh file system

811
00:36:05,599 --> 00:36:07,680
artifact that sniper automatically

812
00:36:07,680 --> 00:36:09,200
extracts

813
00:36:09,200 --> 00:36:10,960
and the final thing that i wanted to

814
00:36:10,960 --> 00:36:13,280
show you um

815
00:36:13,280 --> 00:36:14,800
let let us

816
00:36:14,800 --> 00:36:17,200
see what we can do with this uh with

817
00:36:17,200 --> 00:36:19,359
this uh password hashes

818
00:36:19,359 --> 00:36:20,960
so for instance

819
00:36:20,960 --> 00:36:22,079
if we

820
00:36:22,079 --> 00:36:25,440
get the nt hash here

821
00:36:25,440 --> 00:36:29,599
and we put it in a free

822
00:36:32,320 --> 00:36:34,160
back station

823
00:36:34,160 --> 00:36:35,200
it's the

824
00:36:35,200 --> 00:36:36,880
it's a common

825
00:36:36,880 --> 00:36:41,079
password tracking file outside

826
00:36:41,520 --> 00:36:44,560
let's try to crack it

827
00:36:44,800 --> 00:36:47,920
and we can see um we have obtained the

828
00:36:47,920 --> 00:36:50,320
uh the clear text password of this user

829
00:36:50,320 --> 00:36:53,040
so we managed to crack the hash

830
00:36:53,040 --> 00:36:55,839
and um with this hash let's see if we

831
00:36:55,839 --> 00:36:56,720
can

832
00:36:56,720 --> 00:36:59,919
actually connect to

833
00:37:00,880 --> 00:37:02,960
to the target

834
00:37:02,960 --> 00:37:07,800
and again gain access to it so

835
00:37:08,320 --> 00:37:12,280
we'll change the user

836
00:37:23,599 --> 00:37:28,520
and the password that was cracked

837
00:37:37,599 --> 00:37:41,040
and yeah we see um

838
00:37:41,440 --> 00:37:43,119
we see the same uh

839
00:37:43,119 --> 00:37:46,160
the same files that uh sniper has uh

840
00:37:46,160 --> 00:37:47,200
has read

841
00:37:47,200 --> 00:37:49,598
from the

842
00:37:49,680 --> 00:37:51,920
in the in the file system artifact

843
00:37:51,920 --> 00:37:53,839
okay so right now we are

844
00:37:53,839 --> 00:37:55,280
logged in as

845
00:37:55,280 --> 00:37:59,839
dennis scott who is a domain admin user

846
00:38:00,320 --> 00:38:04,000
so these are the the capabilities uh no

847
00:38:04,000 --> 00:38:06,720
no not shut down sorry

848
00:38:06,720 --> 00:38:08,880
these are the capabilities that sniper

849
00:38:08,880 --> 00:38:13,040
has uh currently implemented

850
00:38:13,520 --> 00:38:15,359
and we intend to

851
00:38:15,359 --> 00:38:16,640
to enrich

852
00:38:16,640 --> 00:38:17,599
the

853
00:38:17,599 --> 00:38:19,599
the artifacts that are being

854
00:38:19,599 --> 00:38:21,839
automatically extracted and also our

855
00:38:21,839 --> 00:38:22,880
team of

856
00:38:22,880 --> 00:38:25,359
security researchers we have a dedicated

857
00:38:25,359 --> 00:38:26,640
team for that

858
00:38:26,640 --> 00:38:28,480
they are producing

859
00:38:28,480 --> 00:38:29,680
new

860
00:38:29,680 --> 00:38:33,680
new exploit modules every week and

861
00:38:33,680 --> 00:38:36,400
every time there is a high risk critical

862
00:38:36,400 --> 00:38:38,480
vulnerability that pops up we

863
00:38:38,480 --> 00:38:39,760
immediately

864
00:38:39,760 --> 00:38:43,599
implement a module for that

865
00:38:43,760 --> 00:38:45,359
so

866
00:38:45,359 --> 00:38:48,960
that would be uh all for my presentation

867
00:38:48,960 --> 00:38:51,760
thank you very much and uh if you have

868
00:38:51,760 --> 00:38:53,839
any questions i'm here thanks so much

869
00:38:53,839 --> 00:38:57,280
adrian that was extremely essential and

870
00:38:57,280 --> 00:38:58,000
it

871
00:38:58,000 --> 00:39:01,359
looks like one of like an amazing way to

872
00:39:01,359 --> 00:39:02,480
kind of

873
00:39:02,480 --> 00:39:04,400
if you could just turn on your cat okay

874
00:39:04,400 --> 00:39:05,599
there you go

875
00:39:05,599 --> 00:39:08,079
so we can see you uh thanks so much for

876
00:39:08,079 --> 00:39:09,760
that that looks like a very powerful

877
00:39:09,760 --> 00:39:12,160
tool for many people who have not just

878
00:39:12,160 --> 00:39:14,480
listened to the presentations that were

879
00:39:14,480 --> 00:39:17,280
before but who do this kind of work

880
00:39:17,280 --> 00:39:20,160
every day since uh it was a tad

881
00:39:20,160 --> 00:39:22,160
difficult to follow all of the details

882
00:39:22,160 --> 00:39:24,079
throughout the demo where can people get

883
00:39:24,079 --> 00:39:26,000
more details if they want to see how

884
00:39:26,000 --> 00:39:29,440
sniper works and possibly you know try

885
00:39:29,440 --> 00:39:31,359
and understand its capabilities better

886
00:39:31,359 --> 00:39:34,240
and see how it might work for them

887
00:39:34,240 --> 00:39:36,880
yeah so directly on the pentesteo.com

888
00:39:36,880 --> 00:39:38,480
website

889
00:39:38,480 --> 00:39:40,560
sniper has a dedicated page in the tools

890
00:39:40,560 --> 00:39:41,520
section

891
00:39:41,520 --> 00:39:42,720
and

892
00:39:42,720 --> 00:39:45,680
there are all the details there and

893
00:39:45,680 --> 00:39:50,240
also if you follow our linkedin account

894
00:39:50,240 --> 00:39:51,839
you have a lot of

895
00:39:51,839 --> 00:39:53,920
interesting data there about the new

896
00:39:53,920 --> 00:39:57,119
tools that we we push and

897
00:39:57,119 --> 00:39:59,280
all the updates

898
00:39:59,280 --> 00:40:01,760
oh thanks so much for that we can't take

899
00:40:01,760 --> 00:40:04,079
any questions right now simply because

900
00:40:04,079 --> 00:40:06,240
we're a bit over time and we're looking

901
00:40:06,240 --> 00:40:08,319
forward to welcoming our next speaker

902
00:40:08,319 --> 00:40:10,240
but thank you so much once again and i

903
00:40:10,240 --> 00:40:11,680
just want to remind everyone that all

904
00:40:11,680 --> 00:40:13,680
the presentations will also be live on

905
00:40:13,680 --> 00:40:15,920
the dev camp youtube channel so you'll

906
00:40:15,920 --> 00:40:19,599
be able to kind of go back rewind pause

907
00:40:19,599 --> 00:40:21,440
where you need to pause look at saying

908
00:40:21,440 --> 00:40:25,200
zoom in take screenshots and then um

909
00:40:25,200 --> 00:40:28,240
work all of that into your workflow so

910
00:40:28,240 --> 00:40:30,319
uh just as a reminder for that thank you

911
00:40:30,319 --> 00:40:33,880
thank you very much goodbye

