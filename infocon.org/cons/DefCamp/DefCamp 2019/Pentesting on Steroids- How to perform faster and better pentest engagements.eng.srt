1
00:00:00,030 --> 00:00:10,469
hi everybody I am Adriene fraternal we

2
00:00:05,879 --> 00:00:16,770
will be doing some cooperative exercise

3
00:00:10,469 --> 00:00:19,759
today and yeah if you I appreciate the

4
00:00:16,770 --> 00:00:22,279
people doing pen testing they they will

5
00:00:19,760 --> 00:00:24,960
be the first ones helping me out today

6
00:00:22,279 --> 00:00:27,810
but all others are welcome to

7
00:00:24,960 --> 00:00:34,380
participate and let's have a

8
00:00:27,810 --> 00:00:39,599
brainstorming of ideas so why why this

9
00:00:34,380 --> 00:00:44,730
talk so during this 30 minutes you will

10
00:00:39,600 --> 00:00:47,520
have an overview of of a typical pen

11
00:00:44,730 --> 00:00:50,250
testing engagement and we will talk

12
00:00:47,520 --> 00:00:54,600
about more about the process itself and

13
00:00:50,250 --> 00:00:57,269
we will see how this can be improved in

14
00:00:54,600 --> 00:01:02,910
terms of efficiency and quality of

15
00:00:57,270 --> 00:01:06,330
results a few words about myself I'm an

16
00:01:02,910 --> 00:01:08,759
ex full time pen testers I've been doing

17
00:01:06,330 --> 00:01:12,119
this for more than 10 years I have found

18
00:01:08,760 --> 00:01:15,210
that pen testers calm I did not also

19
00:01:12,119 --> 00:01:18,170
some speaking at some conferences and

20
00:01:15,210 --> 00:01:20,520
you can also find me at the Polytechnic

21
00:01:18,170 --> 00:01:25,290
University of Bucharest I do some

22
00:01:20,520 --> 00:01:28,320
teaching there towards about pen test

23
00:01:25,290 --> 00:01:32,250
tools we are a Romanian security company

24
00:01:28,320 --> 00:01:35,490
and we like to say that we help

25
00:01:32,250 --> 00:01:37,850
companies become resilient or more

26
00:01:35,490 --> 00:01:40,649
protected against against cyber attacks

27
00:01:37,850 --> 00:01:46,020
basically we are a cloud-based solution

28
00:01:40,650 --> 00:01:47,909
and we have in cloud a set of tools that

29
00:01:46,020 --> 00:01:51,949
can be used to discover vulnerabilities

30
00:01:47,909 --> 00:01:51,950
in web sites and network infrastructures

31
00:01:52,250 --> 00:01:59,520
ok let's start with begin what are the

32
00:01:56,909 --> 00:02:04,170
typical faces of an of a pen test

33
00:01:59,520 --> 00:02:06,750
engagement so first of all yep we need

34
00:02:04,170 --> 00:02:08,699
to sign the deal so we need to have a

35
00:02:06,750 --> 00:02:11,950
contract between between the pen tester

36
00:02:08,699 --> 00:02:15,510
and the company agreeing

37
00:02:11,950 --> 00:02:19,929
upon the scope and all others after that

38
00:02:15,510 --> 00:02:23,260
you need we need to take off our

39
00:02:19,930 --> 00:02:26,170
business suit and take on our hacker

40
00:02:23,260 --> 00:02:29,260
suit and start hacking finding

41
00:02:26,170 --> 00:02:34,440
vulnerabilities and the interesting

42
00:02:29,260 --> 00:02:38,500
stuff after that we need to put on our

43
00:02:34,440 --> 00:02:44,769
copywriter suit and start writing the

44
00:02:38,500 --> 00:02:46,480
report and after that we need to deliver

45
00:02:44,769 --> 00:02:51,220
the report and maybe do a presentation

46
00:02:46,480 --> 00:02:54,700
and after that yeah we also will get

47
00:02:51,220 --> 00:02:57,340
paid for that but in order to get paid

48
00:02:54,700 --> 00:03:02,078
we need to pass through all these all

49
00:02:57,340 --> 00:03:05,200
these phases and as a pen tester I can

50
00:03:02,079 --> 00:03:08,110
tell you that some of these phases are

51
00:03:05,200 --> 00:03:14,880
more pleasant and the others are less

52
00:03:08,110 --> 00:03:19,859
less pleasant but it depends on everyone

53
00:03:14,880 --> 00:03:24,040
so I have a challenge for for us today

54
00:03:19,859 --> 00:03:26,200
we would like to perform a decent web

55
00:03:24,040 --> 00:03:30,340
application penetration test within less

56
00:03:26,200 --> 00:03:32,768
than one hour I initially wanted to say

57
00:03:30,340 --> 00:03:35,560
in 30 minutes but I don't think it will

58
00:03:32,769 --> 00:03:39,700
be that feasible but let's give it less

59
00:03:35,560 --> 00:03:42,459
than one hour and the target will be a

60
00:03:39,700 --> 00:03:46,268
web application this is something new

61
00:03:42,459 --> 00:03:49,000
that we have we have written of course

62
00:03:46,269 --> 00:03:53,829
it has some vulnerabilities and I know

63
00:03:49,000 --> 00:03:55,150
them in advance but I would like to have

64
00:03:53,829 --> 00:03:59,620
a brainstorming and to see how the

65
00:03:55,150 --> 00:04:01,510
process would go and yeah another

66
00:03:59,620 --> 00:04:04,359
challenge would be only using the web

67
00:04:01,510 --> 00:04:06,819
browser so no Kali no Linux and no other

68
00:04:04,359 --> 00:04:12,099
tools and we also need at the end to

69
00:04:06,819 --> 00:04:13,958
produce the report yeah we will do it we

70
00:04:12,099 --> 00:04:17,048
will do it together so we will it would

71
00:04:13,959 --> 00:04:20,709
be a crowdsourcing and I expect ideas

72
00:04:17,048 --> 00:04:25,539
from you guys before we begin let's

73
00:04:20,709 --> 00:04:27,340
define decent so

74
00:04:25,540 --> 00:04:31,600
when engagement that a client would

75
00:04:27,340 --> 00:04:33,489
accept so a decent pen test should cover

76
00:04:31,600 --> 00:04:37,360
as much as possible of the attack

77
00:04:33,490 --> 00:04:39,430
surface of the target application and it

78
00:04:37,360 --> 00:04:43,120
needs to discover at least all the

79
00:04:39,430 --> 00:04:45,790
low-hanging fruits and also dig more

80
00:04:43,120 --> 00:04:47,200
advanced where possible and it also

81
00:04:45,790 --> 00:04:48,940
needs to demonstrate the risk of the

82
00:04:47,200 --> 00:04:54,300
vulnerabilities and present them in

83
00:04:48,940 --> 00:04:59,290
report we will try to do this today and

84
00:04:54,300 --> 00:05:01,180
in order to structure our our work we

85
00:04:59,290 --> 00:05:07,840
will use this concept called the tag

86
00:05:01,180 --> 00:05:10,360
trees for whom of you are not familiar

87
00:05:07,840 --> 00:05:14,590
with this this is a concept introduced

88
00:05:10,360 --> 00:05:19,690
by Bruce Schneier a few years ago which

89
00:05:14,590 --> 00:05:23,380
is meant to model an attack so this is

90
00:05:19,690 --> 00:05:25,390
the main scope the main the main purpose

91
00:05:23,380 --> 00:05:28,150
and in order to achieve the main purpose

92
00:05:25,390 --> 00:05:29,890
we could do this or this or this in

93
00:05:28,150 --> 00:05:32,650
order to do this we need to have this

94
00:05:29,890 --> 00:05:38,200
and this so we will do such an attack

95
00:05:32,650 --> 00:05:46,870
tree together today so let's let's do

96
00:05:38,200 --> 00:05:52,330
the hacking ok meet the mid to target to

97
00:05:46,870 --> 00:05:59,230
web application it can be found at this

98
00:05:52,330 --> 00:06:03,130
URL and let's start collaborating this

99
00:05:59,230 --> 00:06:06,520
is a tool for creating mind maps and it

100
00:06:03,130 --> 00:06:14,380
called it can easily model an attack

101
00:06:06,520 --> 00:06:16,770
tree ok so you have this target URL what

102
00:06:14,380 --> 00:06:16,770
would you do

103
00:06:23,410 --> 00:06:31,300
okay so uh yeah just a minute

104
00:06:33,160 --> 00:06:44,680
well what a nice time to lock your

105
00:06:36,260 --> 00:06:44,680
brother okay

106
00:06:47,430 --> 00:06:50,360
that's good

107
00:06:51,830 --> 00:07:00,680
okay so let's assume it is working okay

108
00:06:56,270 --> 00:07:21,530
so somebody from there said scan oh come

109
00:07:00,680 --> 00:07:23,740
on the risk of live demos sorry yeah

110
00:07:21,530 --> 00:07:31,840
yeah you're right

111
00:07:23,740 --> 00:07:31,840
so scan for open ports okay what else

112
00:07:34,990 --> 00:07:40,370
DNS records on who is we already know

113
00:07:38,150 --> 00:07:44,780
the target application it doesn't quite

114
00:07:40,370 --> 00:07:50,960
make sense it can be done but let's keep

115
00:07:44,780 --> 00:07:59,590
it closer URL enumeration okay what does

116
00:07:50,960 --> 00:07:59,590
that mean okay okay that's good

117
00:08:04,560 --> 00:08:15,790
what else had their inspection what

118
00:08:09,310 --> 00:08:17,530
what's the purpose of this okay so this

119
00:08:15,790 --> 00:08:26,250
is the actual task that we're trying to

120
00:08:17,530 --> 00:08:29,280
do discover discover technologies okay

121
00:08:26,250 --> 00:08:29,280
what else

122
00:08:30,090 --> 00:08:37,770
always finger pitting here this dish

123
00:08:32,979 --> 00:08:37,770
will come out from the open port scan

124
00:08:43,350 --> 00:08:50,740
crawling spidering and this basically

125
00:08:47,650 --> 00:08:55,829
goes to web application testing using

126
00:08:50,740 --> 00:08:55,830
the web scanner to do that right okay

127
00:09:01,980 --> 00:09:17,830
okay we will do that and I would also

128
00:09:09,430 --> 00:09:21,880
add manual inspection of web application

129
00:09:17,830 --> 00:09:24,160
and this meaning that we will need to

130
00:09:21,880 --> 00:09:26,760
familiarize with the application to see

131
00:09:24,160 --> 00:09:30,730
what functionalities it has and so on

132
00:09:26,760 --> 00:09:33,630
let's start covering this and and we'll

133
00:09:30,730 --> 00:09:36,790
see how it goes okay

134
00:09:33,630 --> 00:09:39,010
this one will be done automatically scan

135
00:09:36,790 --> 00:09:42,719
for open ports these current

136
00:09:39,010 --> 00:09:44,920
technologies also discover technologies

137
00:09:42,720 --> 00:09:48,570
manually and automatically URL

138
00:09:44,920 --> 00:09:52,540
enumeration also automatically and

139
00:09:48,570 --> 00:09:54,940
manual inspection manually of course so

140
00:09:52,540 --> 00:09:58,329
let's start let's start the scanners

141
00:09:54,940 --> 00:10:01,570
first let them toward their job and in

142
00:09:58,330 --> 00:10:03,310
parallel while they scan we will browse

143
00:10:01,570 --> 00:10:08,260
the application and see what we find

144
00:10:03,310 --> 00:10:12,880
ok we will use the pen test tools for

145
00:10:08,260 --> 00:10:16,370
that remember that we we only need a

146
00:10:12,880 --> 00:10:19,370
browser so this is a

147
00:10:16,370 --> 00:10:23,540
I will delete the target that I have

148
00:10:19,370 --> 00:10:26,570
previously created so I have a workspace

149
00:10:23,540 --> 00:10:30,490
where we can where we can create targets

150
00:10:26,570 --> 00:10:40,490
right so we take the target from here

151
00:10:30,490 --> 00:10:43,460
add it okay so first of all we said we

152
00:10:40,490 --> 00:10:50,150
want to do port scanning let's try the

153
00:10:43,460 --> 00:10:52,580
TCP port scanner let's do it

154
00:10:50,150 --> 00:10:59,930
one thousand ports and also detect

155
00:10:52,580 --> 00:11:08,000
operating system okay that one started

156
00:10:59,930 --> 00:11:15,260
let it run other things scan with

157
00:11:08,000 --> 00:11:18,910
automated scanner we also take that we

158
00:11:15,260 --> 00:11:24,580
will choose the web scanner from here

159
00:11:18,910 --> 00:11:31,819
we will do a full scan see what it finds

160
00:11:24,580 --> 00:11:38,209
and let it scan we will color with green

161
00:11:31,820 --> 00:11:42,740
this ones that we have that we did okay

162
00:11:38,209 --> 00:11:44,599
URL enumeration we can also do that how

163
00:11:42,740 --> 00:11:47,740
would you do that with the your URL

164
00:11:44,600 --> 00:11:47,740
enumeration you you said it

165
00:11:53,010 --> 00:11:58,360
okay so with the tools such as dear

166
00:11:55,420 --> 00:12:03,550
Buster which is well known for that

167
00:11:58,360 --> 00:12:07,300
which tries various URLs to see if

168
00:12:03,550 --> 00:12:09,189
they're if they are there or not we also

169
00:12:07,300 --> 00:12:17,609
have something similar here it's called

170
00:12:09,190 --> 00:12:20,430
URL father and it can discover

171
00:12:17,610 --> 00:12:23,019
directories common configuration files

172
00:12:20,430 --> 00:12:25,060
source code files and so on it's a

173
00:12:23,019 --> 00:12:27,670
little bit more complex than then dear

174
00:12:25,060 --> 00:12:32,079
buster and another interesting thing

175
00:12:27,670 --> 00:12:35,199
here it has mutation feature meaning

176
00:12:32,079 --> 00:12:38,089
that when it finds a folder or a

177
00:12:35,200 --> 00:12:39,630
directory it will also search for

178
00:12:38,090 --> 00:12:45,390
[Music]

179
00:12:39,630 --> 00:12:50,860
mutated or derivated numbers derivated

180
00:12:45,390 --> 00:12:53,140
names such as if we find the backups it

181
00:12:50,860 --> 00:12:55,480
will search also for backups one backups

182
00:12:53,140 --> 00:13:00,449
two backups three backups dev backups

183
00:12:55,480 --> 00:13:00,449
prod both backups and so on so a lot of

184
00:13:00,660 --> 00:13:12,969
combinations okay we also started this

185
00:13:06,880 --> 00:13:14,980
one discover technologies we also have a

186
00:13:12,970 --> 00:13:24,120
tool for that but we also will do it

187
00:13:14,980 --> 00:13:31,019
manually we have this website recon tool

188
00:13:24,120 --> 00:13:35,680
we will start let see what it gets and

189
00:13:31,019 --> 00:13:39,670
yeah let's start looking manually so we

190
00:13:35,680 --> 00:13:48,239
have this web application how would you

191
00:13:39,670 --> 00:13:48,240
start what did you do okay

192
00:13:51,580 --> 00:14:00,250
this one okay

193
00:13:54,700 --> 00:14:02,920
nothing there ah yeah yeah yeah of

194
00:14:00,250 --> 00:14:04,600
course this is good this is a good piece

195
00:14:02,920 --> 00:14:08,890
of information that it has this

196
00:14:04,600 --> 00:14:13,740
information here right okay let's let's

197
00:14:08,890 --> 00:14:13,740
note some of the things that we find

198
00:14:15,000 --> 00:14:27,940
okay let's go back let's preview some

199
00:14:20,220 --> 00:14:35,160
source I don't think you can see too

200
00:14:27,940 --> 00:14:38,260
much it's it looks like regular HTML

201
00:14:35,160 --> 00:14:39,880
just from from inspection let's see if

202
00:14:38,260 --> 00:14:45,730
it has any diamond dynamic

203
00:14:39,880 --> 00:14:50,410
functionalities where could we look okay

204
00:14:45,730 --> 00:14:54,420
we have a login screen here yeah this is

205
00:14:50,410 --> 00:14:54,420
my own email address auto-completed

206
00:14:55,470 --> 00:15:03,910
incorrect user name and password yeah we

207
00:15:00,370 --> 00:15:06,930
could try this some I don't know SQL

208
00:15:03,910 --> 00:15:06,930
injection or something

209
00:15:18,730 --> 00:15:28,590
so yeah I know this is a JavaScript

210
00:15:22,180 --> 00:15:34,719
defense but I would not insist on this

211
00:15:28,590 --> 00:15:36,910
let's see on the search part we see that

212
00:15:34,720 --> 00:15:40,240
the application returns which could not

213
00:15:36,910 --> 00:15:44,290
find something if we do a piece of

214
00:15:40,240 --> 00:15:47,080
script okay we have a simple cross-site

215
00:15:44,290 --> 00:15:53,290
scripting how big is the risk of this of

216
00:15:47,080 --> 00:15:55,800
a cross-site scripting any other

217
00:15:53,290 --> 00:15:55,800
opinions

218
00:16:05,890 --> 00:16:16,060
my opinion is that the risk depends it

219
00:16:09,760 --> 00:16:17,470
depends on the it depends mainly on the

220
00:16:16,060 --> 00:16:19,149
business functionality of the

221
00:16:17,470 --> 00:16:21,250
application so if it's just a

222
00:16:19,149 --> 00:16:24,279
presentation site maybe it's a lower

223
00:16:21,250 --> 00:16:26,680
risk if it's a more powerful site with

224
00:16:24,279 --> 00:16:29,100
some complex functionality it could be

225
00:16:26,680 --> 00:16:29,099
higher okay

226
00:16:30,940 --> 00:16:36,660
besides this any other ideas for

227
00:16:32,829 --> 00:16:36,660
manually attacking this application

228
00:16:38,250 --> 00:16:47,910
let's see what the scanners have found

229
00:16:42,540 --> 00:16:52,870
so the tcp port scan has found the

230
00:16:47,910 --> 00:16:55,930
Apache server the version and an SSH

231
00:16:52,870 --> 00:17:00,459
server also we have the operating system

232
00:16:55,930 --> 00:17:04,438
as we said here maybe we could do one

233
00:17:00,459 --> 00:17:09,188
brute force on the SSH maybe with

234
00:17:04,439 --> 00:17:14,559
probably less lower chances let's see

235
00:17:09,189 --> 00:17:17,410
other tools the website recon it has

236
00:17:14,559 --> 00:17:20,668
also identified Debian and Apache

237
00:17:17,410 --> 00:17:29,760
version and some client-side libraries

238
00:17:20,669 --> 00:17:29,760
used okay let's see the website scanner

239
00:17:29,850 --> 00:17:39,100
it says that the Apaches version has

240
00:17:35,380 --> 00:17:42,700
multiple vulnerabilities it has observed

241
00:17:39,100 --> 00:17:45,280
that we are running over HTTP sending

242
00:17:42,700 --> 00:17:48,340
clear text passwords some good strap

243
00:17:45,280 --> 00:17:50,710
vulnerabilities oh yeah okay it has

244
00:17:48,340 --> 00:17:55,480
identified cross-site scripting this is

245
00:17:50,710 --> 00:17:57,790
available in multiple pages and in order

246
00:17:55,480 --> 00:18:02,080
to test that we have this attack vector

247
00:17:57,790 --> 00:18:04,090
and when you click this it automatically

248
00:18:02,080 --> 00:18:07,449
sends the post request to the payload

249
00:18:04,090 --> 00:18:15,720
and we can check if the vulnerability is

250
00:18:07,450 --> 00:18:19,919
valid or not okay okay

251
00:18:15,720 --> 00:18:26,340
jQuery some interesting files found we

252
00:18:19,919 --> 00:18:30,960
have this slash private okay this might

253
00:18:26,340 --> 00:18:33,600
lead us to somewhere and some other

254
00:18:30,960 --> 00:18:35,629
low-risk findings you can see the

255
00:18:33,600 --> 00:18:40,490
crawler has inspected some of the

256
00:18:35,629 --> 00:18:45,000
application ok let's go to the other

257
00:18:40,490 --> 00:18:51,659
scanner the URL enumeration you

258
00:18:45,000 --> 00:18:55,559
suggested by by our colleague let's see

259
00:18:51,659 --> 00:19:00,269
what we have here so we have this slash

260
00:18:55,559 --> 00:19:05,668
private directory identified here but we

261
00:19:00,269 --> 00:19:10,610
also have this private - dev let's see

262
00:19:05,669 --> 00:19:15,570
what we've got here okay it looks like a

263
00:19:10,610 --> 00:19:18,570
special module of the application the

264
00:19:15,570 --> 00:19:21,779
dev word mean could mean that it is in

265
00:19:18,570 --> 00:19:23,668
development mode and for some reason

266
00:19:21,779 --> 00:19:28,860
it's also available from this main

267
00:19:23,669 --> 00:19:31,919
website which should not be okay so

268
00:19:28,860 --> 00:19:38,269
right now we have a new target for our

269
00:19:31,919 --> 00:19:38,269
test let's see what this application has

270
00:19:44,030 --> 00:19:57,399
okay so just for the beginning we will

271
00:19:47,060 --> 00:19:57,399
do a full scan

272
00:20:01,340 --> 00:20:08,509
okay and now let's say that we did this

273
00:20:05,929 --> 00:20:11,230
and now we're starting a new a new

274
00:20:08,509 --> 00:20:11,230
attack vector

275
00:20:18,820 --> 00:20:28,418
we're testing this one okay and here

276
00:20:24,869 --> 00:20:31,208
basically we should we should start

277
00:20:28,419 --> 00:20:34,779
again all of these right with again

278
00:20:31,209 --> 00:20:37,709
enumeration and so on but besides this

279
00:20:34,779 --> 00:20:38,999
type of attacks what else could we try

280
00:20:37,709 --> 00:20:45,820
here

281
00:20:38,999 --> 00:20:53,139
let's manually inspect and we also have

282
00:20:45,820 --> 00:20:59,279
a login page okay we could try a brute

283
00:20:53,139 --> 00:21:02,408
force with which which tools what Hydra

284
00:20:59,279 --> 00:21:04,899
okay Hydra Medusa there are some tools

285
00:21:02,409 --> 00:21:07,479
in Kali I don't know if you have used

286
00:21:04,899 --> 00:21:11,829
them before but for these tools you need

287
00:21:07,479 --> 00:21:14,739
to give them the proper names of the

288
00:21:11,829 --> 00:21:16,989
variables user name how it's called how

289
00:21:14,739 --> 00:21:19,659
it's called the password what is the

290
00:21:16,989 --> 00:21:23,919
string how it can identify if the login

291
00:21:19,659 --> 00:21:31,749
was successful or not we have an

292
00:21:23,919 --> 00:21:37,379
alternative for this it's called it's

293
00:21:31,749 --> 00:21:45,549
called password orator and what it does

294
00:21:37,379 --> 00:21:49,708
let me configure it what it does we give

295
00:21:45,549 --> 00:21:49,709
him a a hostname

296
00:21:53,270 --> 00:21:59,720
and it actually tests tries to find all

297
00:21:57,710 --> 00:22:02,900
the services from that hostname that

298
00:21:59,720 --> 00:22:08,450
require authentication and brute force

299
00:22:02,900 --> 00:22:11,000
on all of them at once and also it has a

300
00:22:08,450 --> 00:22:14,720
smart HTTP module which automatically

301
00:22:11,000 --> 00:22:20,240
detects input fields and tries to figure

302
00:22:14,720 --> 00:22:25,150
out if the login Oh successful or not

303
00:22:20,240 --> 00:22:32,630
and for this one we need to give him the

304
00:22:25,150 --> 00:22:34,190
full URL for login okay I deactivated

305
00:22:32,630 --> 00:22:36,740
all the other services because it would

306
00:22:34,190 --> 00:22:38,930
take too long and we have a default set

307
00:22:36,740 --> 00:22:42,580
of credentials but you can also set your

308
00:22:38,930 --> 00:22:42,580
own credentials if you want to try that

309
00:22:46,780 --> 00:22:52,330
let's see this one because it will not

310
00:22:48,980 --> 00:22:52,330
take too long

311
00:22:57,550 --> 00:23:04,540
it's still still scanning on the other

312
00:23:00,520 --> 00:23:08,830
part let's see the other one for private

313
00:23:04,540 --> 00:23:11,920
dev we have the same vulnerabilities for

314
00:23:08,830 --> 00:23:15,520
the same web server we have new

315
00:23:11,920 --> 00:23:18,460
cross-site scripting on this one and we

316
00:23:15,520 --> 00:23:23,470
have something interesting we have a

317
00:23:18,460 --> 00:23:25,600
file inclusion vulnerability this this

318
00:23:23,470 --> 00:23:28,000
type of an ability allows you to as you

319
00:23:25,600 --> 00:23:37,659
probably know to read read files from

320
00:23:28,000 --> 00:23:45,880
the from the disk okay so in Linux hash

321
00:23:37,660 --> 00:23:49,630
password hashes are stored in shadow and

322
00:23:45,880 --> 00:23:55,240
Oh permission denied so we don't have

323
00:23:49,630 --> 00:23:56,860
access to the shadow but as we know file

324
00:23:55,240 --> 00:24:00,100
inclusion vulnerabilities can be

325
00:23:56,860 --> 00:24:09,639
escalate could be escalated to to remote

326
00:24:00,100 --> 00:24:12,959
code execution do you know how sorry try

327
00:24:09,640 --> 00:24:12,960
web shell how exactly

328
00:24:15,170 --> 00:24:22,040
sorry Apache log files okay so the

329
00:24:19,670 --> 00:24:25,010
typical exploitation of local file

330
00:24:22,040 --> 00:24:28,250
inclusion is to include a file from the

331
00:24:25,010 --> 00:24:32,780
disk which may contain executable code

332
00:24:28,250 --> 00:24:47,750
Apache PHP code okay and we could try to

333
00:24:32,780 --> 00:24:55,639
read the file log Apache doing access

334
00:24:47,750 --> 00:25:01,460
that log right okay still permission

335
00:24:55,640 --> 00:25:06,650
denied we could we tried but this is a

336
00:25:01,460 --> 00:25:12,920
valid of owner ability okay let's begin

337
00:25:06,650 --> 00:25:16,720
we have some more we have some the PHP

338
00:25:12,920 --> 00:25:19,640
info this gives us some information

339
00:25:16,720 --> 00:25:21,910
let's see what the brute brute force has

340
00:25:19,640 --> 00:25:21,910
found

341
00:25:25,580 --> 00:25:30,918
okay looks like it has found some some

342
00:25:28,429 --> 00:25:33,259
weak credentials meaning that it's a

343
00:25:30,919 --> 00:25:36,230
test system it's a development system

344
00:25:33,259 --> 00:25:41,989
it's probable to have weak credentials

345
00:25:36,230 --> 00:25:42,730
okay and let's go more in-depth to see

346
00:25:41,989 --> 00:25:55,659
what is there

347
00:25:42,730 --> 00:26:01,730
so the was test and abc123 okay maybe a

348
00:25:55,659 --> 00:26:04,220
person who does QA has this account and

349
00:26:01,730 --> 00:26:06,230
now we see that we have access to more

350
00:26:04,220 --> 00:26:12,499
functionality of the application right

351
00:26:06,230 --> 00:26:17,210
and now we need to dig more into it and

352
00:26:12,499 --> 00:26:20,629
of course you can do it also manually

353
00:26:17,210 --> 00:26:23,809
and also Adam automatically since we

354
00:26:20,629 --> 00:26:25,939
don't have too much time left so I did

355
00:26:23,809 --> 00:26:31,450
well that I did not let 30 minutes but

356
00:26:25,940 --> 00:26:37,279
one hour I will I also want to show you

357
00:26:31,450 --> 00:26:40,190
how web scan so now we also need to do a

358
00:26:37,279 --> 00:26:43,340
web scan but here we need to do it

359
00:26:40,190 --> 00:26:51,100
authenticated right we need to go deeper

360
00:26:43,340 --> 00:26:51,100
into the application so what I would do

361
00:26:52,570 --> 00:27:01,840
so we need to scan this one private dev

362
00:26:57,220 --> 00:27:01,840
let's do it from here

363
00:27:07,390 --> 00:27:13,430
privative and we need to enable

364
00:27:09,320 --> 00:27:18,200
authentication and for this we need to

365
00:27:13,430 --> 00:27:19,760
we need the login URL and the username

366
00:27:18,200 --> 00:27:27,010
and password discovered by the previous

367
00:27:19,760 --> 00:27:29,740
tool tests and abc123

368
00:27:27,010 --> 00:27:36,260
let's see if the authentication worked

369
00:27:29,740 --> 00:27:38,000
works okay what it does it tries to

370
00:27:36,260 --> 00:27:39,830
authenticate with the username and pass

371
00:27:38,000 --> 00:27:42,200
one takes the screenshot of the of the

372
00:27:39,830 --> 00:27:50,540
application to see if it's correct or

373
00:27:42,200 --> 00:27:53,180
not okay and we will start scanning fast

374
00:27:50,540 --> 00:27:56,120
forward the the scan we'll find some

375
00:27:53,180 --> 00:27:59,540
sequel injection that will allow us to

376
00:27:56,120 --> 00:28:03,469
see some accounts and from that account

377
00:27:59,540 --> 00:28:05,210
we we will exploit a functionality that

378
00:28:03,470 --> 00:28:08,330
allows us to write some files on the

379
00:28:05,210 --> 00:28:11,150
disk a report on the disk and we will be

380
00:28:08,330 --> 00:28:13,899
able to put some PHP code in that report

381
00:28:11,150 --> 00:28:16,370
on the disk and then we will use the

382
00:28:13,900 --> 00:28:18,740
file inclusion vulnerability discovered

383
00:28:16,370 --> 00:28:20,419
earlier to include that code and gain

384
00:28:18,740 --> 00:28:22,850
remote code execution but it looks like

385
00:28:20,420 --> 00:28:27,260
my plan was too long for this time

386
00:28:22,850 --> 00:28:30,709
interval one last thing that I want to

387
00:28:27,260 --> 00:28:32,900
show you is okay we found some

388
00:28:30,710 --> 00:28:38,540
vulnerabilities and now let's let's

389
00:28:32,900 --> 00:28:42,290
produce a report right so we need to

390
00:28:38,540 --> 00:28:47,570
declare an engagement this is the

391
00:28:42,290 --> 00:28:52,610
engagement web application penetration

392
00:28:47,570 --> 00:28:55,730
test new Bank is the name of the bank

393
00:28:52,610 --> 00:28:58,909
this is a contact number let's say we

394
00:28:55,730 --> 00:29:03,910
sign the contract last Friday and today

395
00:28:58,910 --> 00:29:11,420
was the word date for for the engagement

396
00:29:03,910 --> 00:29:13,850
so the engagement got here and we select

397
00:29:11,420 --> 00:29:17,990
the vulnerabilities here we have the

398
00:29:13,850 --> 00:29:20,330
option to to validate them to mark as

399
00:29:17,990 --> 00:29:21,590
verified or not for instance the

400
00:29:20,330 --> 00:29:26,510
cross-site scripting

401
00:29:21,590 --> 00:29:28,659
we can easily put it as verified and it

402
00:29:26,510 --> 00:29:33,800
also will appear the same in the report

403
00:29:28,660 --> 00:29:36,860
and yeah we can do generate report we

404
00:29:33,800 --> 00:29:40,550
can choose a template the engagement

405
00:29:36,860 --> 00:29:43,800
that we have previously created and

406
00:29:40,550 --> 00:29:43,800
[Music]

407
00:29:44,950 --> 00:29:48,730
let's see how it looks like

408
00:29:56,669 --> 00:30:05,590
okay so we have World Report those of

409
00:30:03,309 --> 00:30:07,840
you who probably who did the pen testing

410
00:30:05,590 --> 00:30:12,939
probably have worked at this type of

411
00:30:07,840 --> 00:30:16,990
report a lot update field update entire

412
00:30:12,940 --> 00:30:23,740
table you can see that the identified

413
00:30:16,990 --> 00:30:26,820
vulnerabilities are updated here let's

414
00:30:23,740 --> 00:30:35,350
pass a little bit rate and and we can

415
00:30:26,820 --> 00:30:39,789
finish so we have a structure of a pen

416
00:30:35,350 --> 00:30:42,340
test report observed here that we the

417
00:30:39,789 --> 00:30:44,350
template helps us very much because we

418
00:30:42,340 --> 00:30:45,899
don't have to write all this text all

419
00:30:44,350 --> 00:30:49,379
over and all over again

420
00:30:45,899 --> 00:30:52,360
scope approach methodology disclaimer

421
00:30:49,380 --> 00:30:56,679
executive summary automatically filled

422
00:30:52,360 --> 00:30:59,860
also with this graph with the summary of

423
00:30:56,679 --> 00:31:01,480
the vulnerabilities this is the summary

424
00:30:59,860 --> 00:31:07,020
of the vulnerabilities which ones have

425
00:31:01,480 --> 00:31:09,970
been found with and risk and from here

426
00:31:07,020 --> 00:31:12,250
it follows all the vulnerabilities with

427
00:31:09,970 --> 00:31:14,740
the discover with the evidence and the

428
00:31:12,250 --> 00:31:18,070
description and recommendations and so

429
00:31:14,740 --> 00:31:22,120
on you also have to you also have the

430
00:31:18,070 --> 00:31:24,730
possibility to add manual findings for

431
00:31:22,120 --> 00:31:27,699
instance you have did more manual tests

432
00:31:24,730 --> 00:31:30,309
and you can insert them here you can

433
00:31:27,700 --> 00:31:32,230
also insert screenshots and other

434
00:31:30,309 --> 00:31:36,639
evidence that will automatically put in

435
00:31:32,230 --> 00:31:39,399
the report and yeah so you have this

436
00:31:36,640 --> 00:31:43,210
report you you stay a little bit I don't

437
00:31:39,399 --> 00:31:46,899
know 15 20 minutes and cleaning up clean

438
00:31:43,210 --> 00:31:49,029
it up and you can translate it into a

439
00:31:46,899 --> 00:31:57,039
PDF and deliver it to the to the

440
00:31:49,029 --> 00:32:01,240
customer so yeah if you want to try our

441
00:31:57,039 --> 00:32:03,490
platform we have one month free of the

442
00:32:01,240 --> 00:32:09,010
pro advanced package this is equivalent

443
00:32:03,490 --> 00:32:10,710
of 130 euros something you can put the

444
00:32:09,010 --> 00:32:14,230
discount code there

445
00:32:10,710 --> 00:32:20,109
you can also find this at our stand and

446
00:32:14,230 --> 00:32:22,210
the other in the other room and guys

447
00:32:20,109 --> 00:32:25,840
here is the entire repentance tools team

448
00:32:22,210 --> 00:32:30,960
I thank them because they made all this

449
00:32:25,840 --> 00:32:30,959
possible and thank you very much

450
00:32:36,050 --> 00:32:41,760
all right time for questions are there

451
00:32:38,970 --> 00:32:45,450
any questions I know you're hungry but

452
00:32:41,760 --> 00:32:49,379
yeah I can think the reason that I

453
00:32:45,450 --> 00:32:52,620
mentioned about the NS records it's the

454
00:32:49,380 --> 00:32:56,700
fact that you don't know maybe clients

455
00:32:52,620 --> 00:32:58,620
don't know that his situs is on the

456
00:32:56,700 --> 00:33:02,070
shared hosting or something like this

457
00:32:58,620 --> 00:33:04,350
and this will break the contract with it

458
00:33:02,070 --> 00:33:07,530
yeah it's not something you should take

459
00:33:04,350 --> 00:33:09,810
account yeah you were right with the DNS

460
00:33:07,530 --> 00:33:12,629
and finding subdomains for instance that

461
00:33:09,810 --> 00:33:14,720
would point to the same server yeah that

462
00:33:12,630 --> 00:33:17,370
would have been a valid attack path but

463
00:33:14,720 --> 00:33:20,550
given the fact that we had limited the

464
00:33:17,370 --> 00:33:22,739
amount of time and this test was more

465
00:33:20,550 --> 00:33:25,320
focused on the web app that's why I

466
00:33:22,740 --> 00:33:30,030
chose not to not to do that okay but it

467
00:33:25,320 --> 00:33:33,050
is valid what all right let's take one

468
00:33:30,030 --> 00:33:36,649
from down here please keep your hand up

469
00:33:33,050 --> 00:33:36,649
you can get the mic

470
00:33:39,259 --> 00:33:45,090
I've used your software before okay but

471
00:33:42,450 --> 00:33:46,409
and very good software I didn't know

472
00:33:45,090 --> 00:33:48,480
about the reporting functionality

473
00:33:46,409 --> 00:33:50,580
however one of the things we're using

474
00:33:48,480 --> 00:33:53,190
another alternative software now okay

475
00:33:50,580 --> 00:33:56,189
one of the things it does is it actually

476
00:33:53,190 --> 00:33:59,220
generates a report which is built for

477
00:33:56,190 --> 00:34:02,159
technical which we get and one for the

478
00:33:59,220 --> 00:34:07,950
end-user with our logo with everything

479
00:34:02,159 --> 00:34:11,310
built in okay it does a network and what

480
00:34:07,950 --> 00:34:13,770
you call it software testing is that

481
00:34:11,310 --> 00:34:16,560
something printers tools can do for us

482
00:34:13,770 --> 00:34:18,659
as well of course yeah we have a

483
00:34:16,560 --> 00:34:21,418
possibility to white label the reports

484
00:34:18,659 --> 00:34:24,599
so you can customize them with your

485
00:34:21,418 --> 00:34:27,000
logos and so on and yeah you can as you

486
00:34:24,599 --> 00:34:28,649
said as you have seen you can select

487
00:34:27,000 --> 00:34:33,050
which findings you want to report and

488
00:34:28,649 --> 00:34:38,668
generate a branded report with that yeah

489
00:34:33,050 --> 00:34:40,819
any more questions let's take some

490
00:34:38,668 --> 00:34:40,819
questions

491
00:34:52,810 --> 00:35:02,850
the mic okay we need the mic just shout

492
00:34:58,060 --> 00:35:02,850
I can hear you yeah but the stream can't

493
00:35:06,390 --> 00:35:09,879
congratulations for the tool are you

494
00:35:08,170 --> 00:35:12,580
planning to make an on-premise app

495
00:35:09,880 --> 00:35:14,440
because some customers are very paranoid

496
00:35:12,580 --> 00:35:18,569
when it comes to scanning from the

497
00:35:14,440 --> 00:35:22,960
clouds yeah I know this paranoia this

498
00:35:18,570 --> 00:35:25,630
they may be right in some aspects what

499
00:35:22,960 --> 00:35:29,020
what we can do and we have recently

500
00:35:25,630 --> 00:35:32,200
added the capability to enter the entire

501
00:35:29,020 --> 00:35:34,870
network through VPN so if the customer

502
00:35:32,200 --> 00:35:37,660
opens the VPN gateway we can scan

503
00:35:34,870 --> 00:35:40,210
through the VPN and gain and scan the

504
00:35:37,660 --> 00:35:43,089
internal networks but yeah that that

505
00:35:40,210 --> 00:35:44,800
should be done in the mid future let's

506
00:35:43,090 --> 00:35:50,830
say because it's kind of a different

507
00:35:44,800 --> 00:35:54,630
project thank you I think we have time

508
00:35:50,830 --> 00:35:54,630
for one more question if you have it

509
00:36:01,340 --> 00:36:11,100
hi I have a question basically what kind

510
00:36:08,370 --> 00:36:14,279
of data does pentas tool stores since

511
00:36:11,100 --> 00:36:17,730
it's a cloud-based solution I imagine

512
00:36:14,280 --> 00:36:21,390
that you do some research on what types

513
00:36:17,730 --> 00:36:24,900
of websites people are scanning and so

514
00:36:21,390 --> 00:36:28,319
on so our policy is that the client is

515
00:36:24,900 --> 00:36:30,600
the owner of the data so we do not do

516
00:36:28,320 --> 00:36:34,650
anything with it share it to other

517
00:36:30,600 --> 00:36:37,410
parties or not and yeah we store the

518
00:36:34,650 --> 00:36:40,110
results of the scans as long as the

519
00:36:37,410 --> 00:36:42,149
customer wants to so it has you have the

520
00:36:40,110 --> 00:36:45,840
option to delete the results from our

521
00:36:42,150 --> 00:36:48,420
platform whenever you want all right

522
00:36:45,840 --> 00:36:49,050
thank you very much Adrian okay thank

523
00:36:48,420 --> 00:36:53,169
you

524
00:36:49,050 --> 00:36:53,169
[Applause]

