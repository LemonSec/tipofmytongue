1
00:00:10,490 --> 00:00:18,950
thank you thanks for the kind in trouble

2
00:00:17,330 --> 00:00:21,259
I'm a little sick so that's why I

3
00:00:18,950 --> 00:00:37,400
avoided shaking hands with people thank

4
00:00:21,260 --> 00:00:38,600
you for the kind in trouble and you

5
00:00:37,400 --> 00:00:39,980
would spend a lot of your time in

6
00:00:38,600 --> 00:00:41,360
graduate school trying to find

7
00:00:39,980 --> 00:00:42,589
conference proceedings printed

8
00:00:41,360 --> 00:00:45,950
conference proceedings these are very

9
00:00:42,590 --> 00:00:48,470
valuable to have and I spent many a day

10
00:00:45,950 --> 00:00:50,930
looking for the USENIX

11
00:00:48,470 --> 00:00:52,250
then winter and summer conference

12
00:00:50,930 --> 00:00:53,720
proceedings because they were just full

13
00:00:52,250 --> 00:00:55,730
of so many interesting papers and it was

14
00:00:53,720 --> 00:00:57,440
very hard to find those so as very fond

15
00:00:55,730 --> 00:01:01,010
memories thinking back to those days and

16
00:00:57,440 --> 00:01:02,000
very exciting to be here today so for

17
00:01:01,010 --> 00:01:03,920
those of you don't know me I'm REM CI

18
00:01:02,000 --> 00:01:05,479
Apache do so I'm a professor at the

19
00:01:03,920 --> 00:01:07,070
University of Wisconsin where I've been

20
00:01:05,479 --> 00:01:09,860
there for about twenty years

21
00:01:07,070 --> 00:01:11,270
I'm also the chair of the department I'm

22
00:01:09,860 --> 00:01:12,470
apparently as you get older you get end

23
00:01:11,270 --> 00:01:13,940
up sharing more and more things of

24
00:01:12,470 --> 00:01:16,000
another chair of the cs department there

25
00:01:13,940 --> 00:01:18,649
i've been doing that for about one week

26
00:01:16,000 --> 00:01:21,320
so i don't yet know how that's going to

27
00:01:18,650 --> 00:01:22,670
go and actually we're also beyond be our

28
00:01:21,320 --> 00:01:24,048
department we're actually forming a new

29
00:01:22,670 --> 00:01:25,869
school of computer data information

30
00:01:24,049 --> 00:01:28,250
sciences so a pretty exciting time at

31
00:01:25,869 --> 00:01:31,040
university of wisconsin and today what

32
00:01:28,250 --> 00:01:33,020
i'm going to talk about are some

33
00:01:31,040 --> 00:01:35,479
research that we've done but i'm also

34
00:01:33,020 --> 00:01:38,240
mixing it in with some advice that i

35
00:01:35,479 --> 00:01:40,158
tend to give like to say people who are

36
00:01:38,240 --> 00:01:42,110
students who are newer to the research

37
00:01:40,159 --> 00:01:44,119
process so i'm going to try to mix some

38
00:01:42,110 --> 00:01:45,229
thoughts on how to do research with some

39
00:01:44,119 --> 00:01:46,189
of the research that we've done and

40
00:01:45,229 --> 00:01:48,470
we'll see how that goes

41
00:01:46,189 --> 00:01:50,508
your mileage may vary on the value get

42
00:01:48,470 --> 00:01:51,979
out of such advice but i know it's

43
00:01:50,509 --> 00:01:54,560
certainly been useful to us to think

44
00:01:51,979 --> 00:01:57,950
about these things over the years this

45
00:01:54,560 --> 00:02:00,590
is all joint work out of our lab the our

46
00:01:57,950 --> 00:02:03,350
Pachi do so systems lab I guess that's

47
00:02:00,590 --> 00:02:05,479
led by myself and my wife

48
00:02:03,350 --> 00:02:08,949
so we ever since we've been at Wisconsin

49
00:02:05,479 --> 00:02:11,450
we've worked together on everything so

50
00:02:08,949 --> 00:02:12,890
and you know that the first that

51
00:02:11,450 --> 00:02:14,510
actually caused problems at the

52
00:02:12,890 --> 00:02:15,708
university because they're not used to

53
00:02:14,510 --> 00:02:17,660
like when we were going through the

54
00:02:15,709 --> 00:02:19,669
tenure process every year we would get

55
00:02:17,660 --> 00:02:20,870
feedback saying you know it's great that

56
00:02:19,669 --> 00:02:23,020
you're doing all this work and whatever

57
00:02:20,870 --> 00:02:25,230
but we don't know who's doing what

58
00:02:23,020 --> 00:02:27,580
we basically just ignored that advice

59
00:02:25,230 --> 00:02:29,170
like maybe separating our research

60
00:02:27,580 --> 00:02:30,460
tracks because we liked working together

61
00:02:29,170 --> 00:02:32,829
and we figure what's the worst thing

62
00:02:30,460 --> 00:02:34,180
that could happen we could you know get

63
00:02:32,830 --> 00:02:35,920
kicked out of the university and have to

64
00:02:34,180 --> 00:02:37,870
move to California or Seattle or

65
00:02:35,920 --> 00:02:40,179
something like that so we kind of

66
00:02:37,870 --> 00:02:42,100
ignored that advice and and then at the

67
00:02:40,180 --> 00:02:45,010
end finally the university relented in

68
00:02:42,100 --> 00:02:46,960
fact when we got promoted the letter

69
00:02:45,010 --> 00:02:48,579
from the Dean said it's my unusual in

70
00:02:46,960 --> 00:02:52,959
fact unique privilege to promote two

71
00:02:48,580 --> 00:02:54,310
people with one letter and I don't know

72
00:02:52,959 --> 00:02:58,030
what to make of the fact that he sent it

73
00:02:54,310 --> 00:02:59,970
just to Andrea so it's true story I

74
00:02:58,030 --> 00:03:02,739
never got a letter

75
00:02:59,970 --> 00:03:04,000
so before we start before we kind of get

76
00:03:02,739 --> 00:03:05,680
into the advice and a little bit about

77
00:03:04,000 --> 00:03:07,959
our work I'm just going to say there's

78
00:03:05,680 --> 00:03:09,430
three things to know that I'll start

79
00:03:07,959 --> 00:03:11,350
with the first is something that we all

80
00:03:09,430 --> 00:03:14,260
kind of know research is hard it's hard

81
00:03:11,350 --> 00:03:15,880
to do research because coming up with an

82
00:03:14,260 --> 00:03:18,459
idea is hard and when I think about

83
00:03:15,880 --> 00:03:21,370
ideas when I think about our you know

84
00:03:18,459 --> 00:03:23,590
novelty basically two things novelty how

85
00:03:21,370 --> 00:03:25,720
good is the idea and then quality how

86
00:03:23,590 --> 00:03:28,480
good is the idea and if you think about

87
00:03:25,720 --> 00:03:29,680
these axes you know coming up with

88
00:03:28,480 --> 00:03:31,510
something that's new and not such a good

89
00:03:29,680 --> 00:03:33,489
idea it's actually that's pretty easy

90
00:03:31,510 --> 00:03:36,100
that's probably easiest thing to do for

91
00:03:33,489 --> 00:03:38,680
example let's say we invented a social

92
00:03:36,100 --> 00:03:40,959
network that created connected billions

93
00:03:38,680 --> 00:03:44,380
of people stick together and then caused

94
00:03:40,959 --> 00:03:45,640
the downfall of democracy oh that's

95
00:03:44,380 --> 00:03:47,680
actually not a new idea so maybe it's

96
00:03:45,640 --> 00:03:49,359
harder maybe it's not that maybe it's

97
00:03:47,680 --> 00:03:51,459
hard to come up with a new bad idea but

98
00:03:49,360 --> 00:03:52,510
what's a little bit more interesting is

99
00:03:51,459 --> 00:03:54,519
that when you come up with a good idea

100
00:03:52,510 --> 00:03:56,320
that's not new and I think a lot of

101
00:03:54,519 --> 00:03:58,180
people who've been in research even for

102
00:03:56,320 --> 00:04:00,760
a little while this happens you have

103
00:03:58,180 --> 00:04:04,269
this great idea hey when we're writing

104
00:04:00,760 --> 00:04:05,980
out data to a hard drive we should do it

105
00:04:04,269 --> 00:04:09,459
in big sequential chunks because that

106
00:04:05,980 --> 00:04:10,750
way and organize that in a log and that

107
00:04:09,459 --> 00:04:12,220
way we'll avoid seeks and we'll get

108
00:04:10,750 --> 00:04:13,959
really good performance and of course

109
00:04:12,220 --> 00:04:15,100
you tell you run and you tell your

110
00:04:13,959 --> 00:04:17,108
advisor and your advisor said that is a

111
00:04:15,100 --> 00:04:23,740
great idea it was published in you know

112
00:04:17,108 --> 00:04:25,690
1993 hello so so so that and that

113
00:04:23,740 --> 00:04:27,520
happens in fact what happens in as you

114
00:04:25,690 --> 00:04:29,290
get into the research process is you can

115
00:04:27,520 --> 00:04:32,169
tell you're making progress because how

116
00:04:29,290 --> 00:04:33,580
long ago the paper that you kind of

117
00:04:32,169 --> 00:04:34,900
ended up creating in your own mind it

118
00:04:33,580 --> 00:04:36,310
gets an ear near the current time and

119
00:04:34,900 --> 00:04:37,599
eventually you

120
00:04:36,310 --> 00:04:39,310
cross into the future and then you have

121
00:04:37,600 --> 00:04:42,310
a new idea that's a good idea

122
00:04:39,310 --> 00:04:43,660
and so quote from Einstein if we knew

123
00:04:42,310 --> 00:04:44,920
what we were what it was we were doing

124
00:04:43,660 --> 00:04:46,540
it would not be called research so

125
00:04:44,920 --> 00:04:48,310
research is hard I think research is

126
00:04:46,540 --> 00:04:51,010
also hard work and that's something we

127
00:04:48,310 --> 00:04:53,380
also all know here's a quote from Ira

128
00:04:51,010 --> 00:04:56,380
Glass the creator of this American Life

129
00:04:53,380 --> 00:04:57,190
a great radio program and he says it's

130
00:04:56,380 --> 00:04:58,540
hard to make something that's

131
00:04:57,190 --> 00:04:59,770
interesting basically anything that

132
00:04:58,540 --> 00:05:01,240
anyone makes it's like a law of nature

133
00:04:59,770 --> 00:05:03,190
that anything that's written or anything

134
00:05:01,240 --> 00:05:05,560
that that's created wants to be mediocre

135
00:05:03,190 --> 00:05:07,300
it's all tending toward mediocrity the

136
00:05:05,560 --> 00:05:08,440
way that all the atoms are dissipating

137
00:05:07,300 --> 00:05:10,120
out toward the expanse of the universe

138
00:05:08,440 --> 00:05:11,380
everything wants to be mediocre so what

139
00:05:10,120 --> 00:05:12,040
it takes to make anything that is more

140
00:05:11,380 --> 00:05:13,990
than mediocre

141
00:05:12,040 --> 00:05:16,090
is an extreme act of will you just have

142
00:05:13,990 --> 00:05:19,330
to exert so much will into something for

143
00:05:16,090 --> 00:05:21,849
it to be good so research is hard and it

144
00:05:19,330 --> 00:05:23,289
takes a lot of work so we should just

145
00:05:21,850 --> 00:05:24,400
accept that and the third thing I'm

146
00:05:23,290 --> 00:05:26,230
going to talk about just before we get

147
00:05:24,400 --> 00:05:27,700
into details is a little bit about the

148
00:05:26,230 --> 00:05:29,080
research process now when you think

149
00:05:27,700 --> 00:05:31,090
about the ideal process it might go

150
00:05:29,080 --> 00:05:33,130
something like this you find a problem

151
00:05:31,090 --> 00:05:34,450
to work on because we're a systems

152
00:05:33,130 --> 00:05:37,030
community we build a system and kind of

153
00:05:34,450 --> 00:05:39,190
address that problem we evaluate it to

154
00:05:37,030 --> 00:05:41,979
show its benefits we write up a paper

155
00:05:39,190 --> 00:05:43,750
submit it it gets accepted and profit of

156
00:05:41,980 --> 00:05:45,040
course at the end and of course what

157
00:05:43,750 --> 00:05:48,400
actually happens is a little bit

158
00:05:45,040 --> 00:05:50,650
different all the same steps basically

159
00:05:48,400 --> 00:05:53,169
but there's a lot more kind of back and

160
00:05:50,650 --> 00:05:54,310
forth that you might think at first so

161
00:05:53,170 --> 00:05:55,690
when you're finding a problem you might

162
00:05:54,310 --> 00:05:57,010
think about a problem for a while and

163
00:05:55,690 --> 00:05:58,060
then realize actually it's not a good

164
00:05:57,010 --> 00:06:00,370
problem and move on to the next problem

165
00:05:58,060 --> 00:06:01,720
or you might find a problem build a

166
00:06:00,370 --> 00:06:03,610
system start working on the system then

167
00:06:01,720 --> 00:06:05,590
realize you're not actually solving a

168
00:06:03,610 --> 00:06:07,690
real problem there or you might get to

169
00:06:05,590 --> 00:06:08,770
devaluation and then realize the thing

170
00:06:07,690 --> 00:06:10,469
you thought you were doing isn't going

171
00:06:08,770 --> 00:06:12,909
to work and you go back to step 1 again

172
00:06:10,470 --> 00:06:14,200
or you even might be at a stage where

173
00:06:12,910 --> 00:06:15,880
you're writing up your ideas and there's

174
00:06:14,200 --> 00:06:17,650
something about writing where you try to

175
00:06:15,880 --> 00:06:18,730
really list what it is that you're doing

176
00:06:17,650 --> 00:06:20,380
and how it's different from the past

177
00:06:18,730 --> 00:06:21,670
that sometimes makes you realize oh we

178
00:06:20,380 --> 00:06:22,840
really didn't advance the state of the

179
00:06:21,670 --> 00:06:24,490
art and that certainly happened to us

180
00:06:22,840 --> 00:06:26,020
and there's many other places where this

181
00:06:24,490 --> 00:06:27,580
kind of feeds about feeds back and forth

182
00:06:26,020 --> 00:06:28,780
you might be evaluating and then

183
00:06:27,580 --> 00:06:30,550
realizes a better way to build a system

184
00:06:28,780 --> 00:06:32,859
you might be writing and didn't do the

185
00:06:30,550 --> 00:06:34,810
same and in no case this profit apart of

186
00:06:32,860 --> 00:06:36,040
it so if you if you're going into the

187
00:06:34,810 --> 00:06:39,790
business for profit that's the wrong

188
00:06:36,040 --> 00:06:41,140
thing so the focus of this talk it's a

189
00:06:39,790 --> 00:06:43,510
little bit hard to see the red is that

190
00:06:41,140 --> 00:06:44,800
true sorry about that that's not going

191
00:06:43,510 --> 00:06:48,760
to change and it's going to remain hard

192
00:06:44,800 --> 00:06:49,700
to see hopefully I won't have too much

193
00:06:48,760 --> 00:06:51,440
red and I'm sorry

194
00:06:49,700 --> 00:06:53,599
check that ahead of time so what that

195
00:06:51,440 --> 00:06:57,350
says is the focus of the talk and it

196
00:06:53,600 --> 00:06:59,300
points really the problem is 1 3 & 4 so

197
00:06:57,350 --> 00:07:00,740
I'm gonna talk a little bit about the

198
00:06:59,300 --> 00:07:02,390
kind of advice and so forth about

199
00:07:00,740 --> 00:07:03,530
finding problems because that's a very

200
00:07:02,390 --> 00:07:05,150
hard thing to do and I think especially

201
00:07:03,530 --> 00:07:06,650
for newer people it's one of the most

202
00:07:05,150 --> 00:07:08,060
challenging things I'm going to talk a

203
00:07:06,650 --> 00:07:09,409
bit about evaluation and that's where

204
00:07:08,060 --> 00:07:11,690
the title comes from the talk I said

205
00:07:09,410 --> 00:07:13,850
measure then build and a lot of times

206
00:07:11,690 --> 00:07:15,530
that's because in our work we found that

207
00:07:13,850 --> 00:07:17,210
measurement not only can be good at

208
00:07:15,530 --> 00:07:19,130
evaluating the existing system that

209
00:07:17,210 --> 00:07:20,930
we're building but has really driven the

210
00:07:19,130 --> 00:07:22,670
creation of new problems and new ideas

211
00:07:20,930 --> 00:07:24,470
in a way that I think can be really

212
00:07:22,670 --> 00:07:27,260
beneficial I'll talk a little bit about

213
00:07:24,470 --> 00:07:28,760
point four which is kind of a

214
00:07:27,260 --> 00:07:30,770
communication learning how to write and

215
00:07:28,760 --> 00:07:32,480
talk about your work and I won't and I'm

216
00:07:30,770 --> 00:07:34,219
interesting I won't talk too much about

217
00:07:32,480 --> 00:07:35,240
the building the system sparked because

218
00:07:34,220 --> 00:07:36,860
I think a lot of people who get into

219
00:07:35,240 --> 00:07:38,330
systems that's a part that they know

220
00:07:36,860 --> 00:07:41,090
best and that's the part that they do

221
00:07:38,330 --> 00:07:44,539
best naturally and so therefore I won't

222
00:07:41,090 --> 00:07:47,359
spend as much time on that ok so now

223
00:07:44,540 --> 00:07:49,160
we're into the rest of the talk and I

224
00:07:47,360 --> 00:07:52,100
just threw a slide I threw my mouse

225
00:07:49,160 --> 00:07:53,270
sorry let me go back on the and I'm

226
00:07:52,100 --> 00:07:55,700
gonna just give a piece of a few pieces

227
00:07:53,270 --> 00:07:57,680
of advice and then talk about each and

228
00:07:55,700 --> 00:08:01,340
maybe give a few examples and then

229
00:07:57,680 --> 00:08:02,660
hopefully finish up in time and then we

230
00:08:01,340 --> 00:08:04,400
have questions at the end sure I take

231
00:08:02,660 --> 00:08:06,770
those so the first one's gonna be find

232
00:08:04,400 --> 00:08:08,719
inspirations I think it's really useful

233
00:08:06,770 --> 00:08:10,849
when you're especially when you're young

234
00:08:08,720 --> 00:08:12,770
and new to something is to find examples

235
00:08:10,850 --> 00:08:14,840
of things that really push you forward

236
00:08:12,770 --> 00:08:16,599
that you wish that if I could only do a

237
00:08:14,840 --> 00:08:19,489
paper like that or give a talk like that

238
00:08:16,600 --> 00:08:21,500
or write a paper that's as clear as that

239
00:08:19,490 --> 00:08:23,990
one that I would be happy with myself

240
00:08:21,500 --> 00:08:26,000
and so finding inspirations is important

241
00:08:23,990 --> 00:08:27,680
so I thought a little bit about papers

242
00:08:26,000 --> 00:08:31,670
that inspired me very early in graduate

243
00:08:27,680 --> 00:08:33,260
school the first was a paper called the

244
00:08:31,670 --> 00:08:34,550
impact of operating system structure on

245
00:08:33,260 --> 00:08:36,919
memory system performance this is by

246
00:08:34,549 --> 00:08:39,978
Brad Chen and Brian brashaad way back at

247
00:08:36,919 --> 00:08:41,659
S OSP many years ago and what I'm

248
00:08:39,979 --> 00:08:43,130
showing here and idea behind the paper

249
00:08:41,659 --> 00:08:46,130
it was pretty simple

250
00:08:43,130 --> 00:08:49,130
it was micro kernels were and you know a

251
00:08:46,130 --> 00:08:52,070
new thing again at that point and and

252
00:08:49,130 --> 00:08:53,960
the paper was trying to compare from a

253
00:08:52,070 --> 00:08:55,880
structural standpoint like by having a

254
00:08:53,960 --> 00:08:57,230
microkernel and a monolithic kernel can

255
00:08:55,880 --> 00:08:59,000
we compare the two and say something

256
00:08:57,230 --> 00:09:00,380
about the how the structure of those two

257
00:08:59,000 --> 00:09:02,480
different types of kernel architectures

258
00:09:00,380 --> 00:09:03,500
affects performance and we can quibble

259
00:09:02,480 --> 00:09:04,940
about the details of this

260
00:09:03,500 --> 00:09:07,970
when I got out of this paper and what

261
00:09:04,940 --> 00:09:09,500
really impressed me about it was how

262
00:09:07,970 --> 00:09:11,450
they did the work and so the paper

263
00:09:09,500 --> 00:09:13,790
started with this table and you can't

264
00:09:11,450 --> 00:09:14,210
quite read it so I'll zoom in a little

265
00:09:13,790 --> 00:09:15,860
bit

266
00:09:14,210 --> 00:09:17,480
it basically is a list of the work loads

267
00:09:15,860 --> 00:09:18,920
a description of each work load and

268
00:09:17,480 --> 00:09:21,020
they're pretty simple work loads of the

269
00:09:18,920 --> 00:09:22,400
time right said it's not we probably

270
00:09:21,020 --> 00:09:24,140
won't be excited about said as a work

271
00:09:22,400 --> 00:09:26,689
load today but back then it was pretty

272
00:09:24,140 --> 00:09:28,460
exciting and what the paper did is just

273
00:09:26,690 --> 00:09:29,840
compare the performance on mock the

274
00:09:28,460 --> 00:09:31,700
microkernel that they were studying and

275
00:09:29,840 --> 00:09:33,290
ultrix which is one of the many UNIX

276
00:09:31,700 --> 00:09:36,020
flavors that was around at that time

277
00:09:33,290 --> 00:09:39,110
long before Linux became de facto

278
00:09:36,020 --> 00:09:40,579
standard and this table is kind of you

279
00:09:39,110 --> 00:09:42,110
know the beginning of any performance

280
00:09:40,580 --> 00:09:44,390
evaluation you run it on both systems

281
00:09:42,110 --> 00:09:46,130
you see how long it takes but what

282
00:09:44,390 --> 00:09:48,560
impressed me about this paper was that

283
00:09:46,130 --> 00:09:49,610
that's not where they started it's not

284
00:09:48,560 --> 00:09:51,829
that where they ended that's where they

285
00:09:49,610 --> 00:09:53,630
began and what they had to do is go look

286
00:09:51,830 --> 00:09:58,010
into it more deeply and what they found

287
00:09:53,630 --> 00:09:59,270
was that in some cases the reason one

288
00:09:58,010 --> 00:10:00,410
system did better than the other was

289
00:09:59,270 --> 00:10:01,850
because there was a policy difference

290
00:10:00,410 --> 00:10:03,709
not a structural difference so they

291
00:10:01,850 --> 00:10:05,840
switched the policies to be to be

292
00:10:03,710 --> 00:10:07,310
matching across both systems and then

293
00:10:05,840 --> 00:10:09,320
they looked into it more deeply that did

294
00:10:07,310 --> 00:10:11,569
I cached races and D cached races and

295
00:10:09,320 --> 00:10:13,850
they understood that in the existing

296
00:10:11,570 --> 00:10:16,490
mock system it was the long I cache

297
00:10:13,850 --> 00:10:17,900
along sorry pathways to do communication

298
00:10:16,490 --> 00:10:19,310
they were causing I cache problems that

299
00:10:17,900 --> 00:10:22,400
were leading to fundamentally worse

300
00:10:19,310 --> 00:10:23,719
performance at least in these systems so

301
00:10:22,400 --> 00:10:25,640
what I learned from that was how much

302
00:10:23,720 --> 00:10:27,530
care is really required to do meaningful

303
00:10:25,640 --> 00:10:29,360
measurement and that always stuck with

304
00:10:27,530 --> 00:10:33,260
me and I certainly still influenced by

305
00:10:29,360 --> 00:10:34,850
that another inspiration here's a graph

306
00:10:33,260 --> 00:10:37,850
from it's actually from a dissertation

307
00:10:34,850 --> 00:10:39,230
that we were kind of reading at that

308
00:10:37,850 --> 00:10:40,880
time when we were new to graduate school

309
00:10:39,230 --> 00:10:42,710
by Raphael Saavedra Barrera

310
00:10:40,880 --> 00:10:43,880
it's called CPU performance evaluation

311
00:10:42,710 --> 00:10:46,970
and execution time prediction using

312
00:10:43,880 --> 00:10:48,500
narrow spectrum benchmarking and what

313
00:10:46,970 --> 00:10:50,240
this graph shows I mean the the

314
00:10:48,500 --> 00:10:51,020
dissertation is actually about a lot of

315
00:10:50,240 --> 00:10:52,100
things about how do you predict

316
00:10:51,020 --> 00:10:54,470
performance on different computer

317
00:10:52,100 --> 00:10:55,760
architectures of various programs but

318
00:10:54,470 --> 00:10:57,380
what they realized in doing that work

319
00:10:55,760 --> 00:11:00,230
was one key thing was that you needed to

320
00:10:57,380 --> 00:11:01,220
do was to analyze the memory system of

321
00:11:00,230 --> 00:11:02,660
the architecture you're trying to

322
00:11:01,220 --> 00:11:04,160
predict the performance of a program on

323
00:11:02,660 --> 00:11:06,110
and so what they came up with is this

324
00:11:04,160 --> 00:11:08,089
this very simple benchmark it's a three

325
00:11:06,110 --> 00:11:09,710
line benchmark basically for a bunch of

326
00:11:08,090 --> 00:11:10,940
different array sizes for a bunch of

327
00:11:09,710 --> 00:11:13,280
different strides through the array

328
00:11:10,940 --> 00:11:14,990
access memory at those strides time how

329
00:11:13,280 --> 00:11:16,970
long it takes average per access and

330
00:11:14,990 --> 00:11:18,769
then plot it like this with

331
00:11:16,970 --> 00:11:21,350
stride increasing along the x-axis and

332
00:11:18,769 --> 00:11:23,360
time along the y-axis and what this did

333
00:11:21,350 --> 00:11:25,100
in the architectures at the time was

334
00:11:23,360 --> 00:11:27,230
reveal a huge amount of detail about the

335
00:11:25,100 --> 00:11:28,939
memory system hierarchy so how big the

336
00:11:27,230 --> 00:11:30,680
caches were how many levels of caches

337
00:11:28,939 --> 00:11:32,480
how big the line and blocks block sizes

338
00:11:30,680 --> 00:11:34,430
were how big the page sizes were how

339
00:11:32,480 --> 00:11:36,680
much it costs to do a TLB miss how

340
00:11:34,430 --> 00:11:38,029
associative the caches were all this

341
00:11:36,680 --> 00:11:40,099
detail from basically a three line

342
00:11:38,029 --> 00:11:42,160
benchmark so what I took from that is

343
00:11:40,100 --> 00:11:44,240
that even simple measurements can reveal

344
00:11:42,160 --> 00:11:45,500
fascinating interest intricacies of

345
00:11:44,240 --> 00:11:50,660
systems if you can just figure out what

346
00:11:45,500 --> 00:11:52,490
to measure so find inspirations now as

347
00:11:50,660 --> 00:11:53,029
you can see and you may get worried at

348
00:11:52,490 --> 00:11:55,220
this point

349
00:11:53,029 --> 00:11:56,959
this is point 11 I'm gonna go down to

350
00:11:55,220 --> 00:11:59,029
one and then the talk is gonna be over

351
00:11:56,959 --> 00:12:00,560
we're gonna spend more time at the

352
00:11:59,029 --> 00:12:02,329
beginning so if you get a little bit

353
00:12:00,560 --> 00:12:04,339
nervous that I'm taking way too long and

354
00:12:02,329 --> 00:12:05,209
this looks like a three hour talk don't

355
00:12:04,339 --> 00:12:07,579
worry too much

356
00:12:05,209 --> 00:12:09,170
trust me the one thing I do a lot is

357
00:12:07,579 --> 00:12:11,508
give talks and try to finish on time

358
00:12:09,170 --> 00:12:13,099
that's that's the benefit of being in a

359
00:12:11,509 --> 00:12:14,689
classroom environment right that you

360
00:12:13,100 --> 00:12:16,250
know at the end of the class the

361
00:12:14,689 --> 00:12:19,910
students are gonna leave so you just

362
00:12:16,250 --> 00:12:23,870
learn to stop on time so second point

363
00:12:19,910 --> 00:12:25,730
talk to industry this is maybe obvious

364
00:12:23,870 --> 00:12:28,759
in the systems community but I thought

365
00:12:25,730 --> 00:12:30,139
worth talking about people have real

366
00:12:28,759 --> 00:12:31,459
problems in the real world of course

367
00:12:30,139 --> 00:12:32,750
they're finding problems is one of our

368
00:12:31,459 --> 00:12:35,388
basic things it's good to talk to people

369
00:12:32,750 --> 00:12:36,649
who have real problems engineers and

370
00:12:35,389 --> 00:12:38,480
companies work on those real problems

371
00:12:36,649 --> 00:12:40,790
and it's sometimes in many cases they're

372
00:12:38,480 --> 00:12:42,199
not able to solve them in the most

373
00:12:40,790 --> 00:12:43,250
general or maybe the most research

374
00:12:42,199 --> 00:12:44,930
interesting way because they have

375
00:12:43,250 --> 00:12:46,490
deadlines they have their own pressures

376
00:12:44,930 --> 00:12:47,540
that they're dealing with so if you talk

377
00:12:46,490 --> 00:12:49,009
to people and learn about what real

378
00:12:47,540 --> 00:12:50,569
problems are the opportunity for

379
00:12:49,009 --> 00:12:52,430
researchers is to take a step back and

380
00:12:50,569 --> 00:12:54,110
maybe figure out a more general or or

381
00:12:52,430 --> 00:12:55,069
figure out some lessons that you

382
00:12:54,110 --> 00:12:57,290
wouldn't figure out if you're just

383
00:12:55,069 --> 00:12:58,490
working on it for your job this has

384
00:12:57,290 --> 00:13:00,920
happened throughout the history of

385
00:12:58,490 --> 00:13:02,480
computer systems if you go back and look

386
00:13:00,920 --> 00:13:04,849
at even the most foundational papers by

387
00:13:02,480 --> 00:13:08,509
somebody like say Dijkstra on semaphores

388
00:13:04,850 --> 00:13:10,250
and concurrency if you read about the

389
00:13:08,509 --> 00:13:11,689
history of that it's it's pretty obvious

390
00:13:10,250 --> 00:13:13,339
that machines at those at the time that

391
00:13:11,689 --> 00:13:15,050
those papers were written it solved many

392
00:13:13,339 --> 00:13:16,430
of those problems there were machines

393
00:13:15,050 --> 00:13:18,050
that very earliest machines that

394
00:13:16,430 --> 00:13:20,300
shipped from places like Burroughs that

395
00:13:18,050 --> 00:13:22,459
had test and set instructions and it had

396
00:13:20,300 --> 00:13:25,370
some sort of support for concurrency for

397
00:13:22,459 --> 00:13:26,929
locks and and condition variables but

398
00:13:25,370 --> 00:13:28,220
when Dykstra came to it and could look

399
00:13:26,929 --> 00:13:29,870
at it really from this academic

400
00:13:28,220 --> 00:13:32,000
perspective and write these very summon

401
00:13:29,870 --> 00:13:34,010
papers it could really help us kind of

402
00:13:32,000 --> 00:13:35,690
all shape how the feel of concurrency

403
00:13:34,010 --> 00:13:37,330
could go forward in a way that maybe it

404
00:13:35,690 --> 00:13:40,730
would have been hard for industry to do

405
00:13:37,330 --> 00:13:41,480
so our own example I'll give one this is

406
00:13:40,730 --> 00:13:43,400
where I'll start talking about some

407
00:13:41,480 --> 00:13:45,320
examples from our own work an example

408
00:13:43,400 --> 00:13:47,689
I'm gonna pick is a file system checking

409
00:13:45,320 --> 00:13:50,060
but I often call the ugly stepchild of

410
00:13:47,690 --> 00:13:51,500
file systems why do I say that because

411
00:13:50,060 --> 00:13:53,750
it's one of those things that anytime

412
00:13:51,500 --> 00:13:55,250
someone introduces a new file system for

413
00:13:53,750 --> 00:13:56,900
whatever reason they they're one of

414
00:13:55,250 --> 00:13:58,460
their goals is almost always not to have

415
00:13:56,900 --> 00:14:00,199
a file system checker no need for

416
00:13:58,460 --> 00:14:02,450
checking ever it's been you that line

417
00:14:00,200 --> 00:14:04,820
has been used many times that that

418
00:14:02,450 --> 00:14:07,490
really remains true until some very

419
00:14:04,820 --> 00:14:09,589
valuable customer has a corrupt image

420
00:14:07,490 --> 00:14:11,240
and says where's the checker I need to

421
00:14:09,589 --> 00:14:12,890
fix this corrupt image and I don't have

422
00:14:11,240 --> 00:14:14,089
a backup of it and then of course at

423
00:14:12,890 --> 00:14:15,500
that point the people building a file

424
00:14:14,089 --> 00:14:18,200
system build a checker if they haven't

425
00:14:15,500 --> 00:14:20,029
already we all hopefully know kind of

426
00:14:18,200 --> 00:14:21,500
what a checker is its basic operation is

427
00:14:20,029 --> 00:14:23,480
pretty simple it takes in as input a

428
00:14:21,500 --> 00:14:25,279
possibly corrupt file system image and

429
00:14:23,480 --> 00:14:27,320
outputs are repaired and consistent

430
00:14:25,279 --> 00:14:30,380
image hopefully with a lot of the data

431
00:14:27,320 --> 00:14:31,790
in it still and the story I'll tell here

432
00:14:30,380 --> 00:14:34,160
is a conversation I remember very

433
00:14:31,790 --> 00:14:36,439
distinctly us having with an engineer at

434
00:14:34,160 --> 00:14:38,300
some storage company and this they

435
00:14:36,440 --> 00:14:41,390
talked about the story of fsck

436
00:14:38,300 --> 00:14:43,910
performance so the story goes like this

437
00:14:41,390 --> 00:14:46,490
the engineer had a call from a customer

438
00:14:43,910 --> 00:14:48,560
the customer was a valued customer so

439
00:14:46,490 --> 00:14:50,450
they said hey we have this image really

440
00:14:48,560 --> 00:14:51,680
like I just said it's corrupt and we

441
00:14:50,450 --> 00:14:54,860
need to fix it can you help me do that

442
00:14:51,680 --> 00:14:57,020
and the engineer said sure type this you

443
00:14:54,860 --> 00:14:59,270
know with these flags whatever should

444
00:14:57,020 --> 00:15:01,160
cause solve your problem customers said

445
00:14:59,270 --> 00:15:04,400
ok typed it hit return said great it's

446
00:15:01,160 --> 00:15:06,939
running hung up that's unfortunately not

447
00:15:04,400 --> 00:15:09,290
the end of the story two days later the

448
00:15:06,940 --> 00:15:10,550
customer called back and said thanks

449
00:15:09,290 --> 00:15:12,680
again for your help engineer said great

450
00:15:10,550 --> 00:15:14,689
and the customer said I just have one

451
00:15:12,680 --> 00:15:19,880
question when is the checker going to

452
00:15:14,690 --> 00:15:21,770
stop running so so that's stuck with us

453
00:15:19,880 --> 00:15:23,750
we're like that's very interesting

454
00:15:21,770 --> 00:15:25,459
maybe fsck a performance is an

455
00:15:23,750 --> 00:15:26,600
interesting problem to work on and just

456
00:15:25,459 --> 00:15:28,400
from that conversation we started

457
00:15:26,600 --> 00:15:29,839
working on it and we started working on

458
00:15:28,400 --> 00:15:31,880
something we called the fast file system

459
00:15:29,839 --> 00:15:33,740
checker or fsck which was presented a

460
00:15:31,880 --> 00:15:35,450
fast some years ago and we really took a

461
00:15:33,740 --> 00:15:37,339
two step process there first we just did

462
00:15:35,450 --> 00:15:38,780
a study and oftentimes our work will

463
00:15:37,339 --> 00:15:40,610
start that way this is that measure then

464
00:15:38,780 --> 00:15:42,709
build part of the world that I mentioned

465
00:15:40,610 --> 00:15:43,820
at the in the talk title which was we

466
00:15:42,709 --> 00:15:45,140
simply started by

467
00:15:43,820 --> 00:15:46,580
existing checkers and measuring their

468
00:15:45,140 --> 00:15:48,170
performance on a bunch of different file

469
00:15:46,580 --> 00:15:50,420
system images and finding what they take

470
00:15:48,170 --> 00:15:52,490
too long to do and it turns out in

471
00:15:50,420 --> 00:15:55,430
checkers there are many things that take

472
00:15:52,490 --> 00:15:57,290
a long time for example checking if each

473
00:15:55,430 --> 00:15:58,640
block that's pointed to is only pointed

474
00:15:57,290 --> 00:16:00,620
to by one file you have to look through

475
00:15:58,640 --> 00:16:01,730
all the pointers of the the file system

476
00:16:00,620 --> 00:16:03,920
and there's many things like that that

477
00:16:01,730 --> 00:16:05,180
take a long time so we tried to think of

478
00:16:03,920 --> 00:16:08,030
that from the ground up of how can you

479
00:16:05,180 --> 00:16:08,420
redo the checker so that operations like

480
00:16:08,030 --> 00:16:10,730
that

481
00:16:08,420 --> 00:16:12,170
can be done quickly instead of basically

482
00:16:10,730 --> 00:16:13,670
doing a bunch of random seeks all over

483
00:16:12,170 --> 00:16:14,870
the disk and there's a lot of details to

484
00:16:13,670 --> 00:16:16,370
that like you do things like group

485
00:16:14,870 --> 00:16:18,800
indirect blocks so you can scan them

486
00:16:16,370 --> 00:16:21,290
quickly and it resulted in many cases a

487
00:16:18,800 --> 00:16:23,660
much faster checker it was also probably

488
00:16:21,290 --> 00:16:25,310
one of the the best stories in terms of

489
00:16:23,660 --> 00:16:28,100
kind of impact on some kind of industry

490
00:16:25,310 --> 00:16:31,489
and that we gave the talk at the at the

491
00:16:28,100 --> 00:16:33,830
conference and then happened to be that

492
00:16:31,490 --> 00:16:36,230
a world's file system checker expert was

493
00:16:33,830 --> 00:16:38,060
in the audience and I think was so

494
00:16:36,230 --> 00:16:40,610
inspired by the idea that went and

495
00:16:38,060 --> 00:16:42,260
actually in a day kind of built into the

496
00:16:40,610 --> 00:16:46,100
freebsd checker what had taken us a year

497
00:16:42,260 --> 00:16:47,689
to build in the in our world and now I

498
00:16:46,100 --> 00:16:51,380
think that's part of the existing

499
00:16:47,690 --> 00:16:52,610
checker so talk to industry people have

500
00:16:51,380 --> 00:16:56,660
lots of things that they're working on

501
00:16:52,610 --> 00:16:59,570
it gives you ideas to find problems a

502
00:16:56,660 --> 00:17:00,949
third point is read broadly what do I

503
00:16:59,570 --> 00:17:02,210
mean by that well everyone reads papers

504
00:17:00,950 --> 00:17:03,440
and listens to talks and that's what

505
00:17:02,210 --> 00:17:05,420
conferences are great and that's why

506
00:17:03,440 --> 00:17:07,460
proceedings are great you have to keep

507
00:17:05,420 --> 00:17:09,260
up with others what others are doing it

508
00:17:07,460 --> 00:17:12,170
also helps you directly find new ideas I

509
00:17:09,260 --> 00:17:13,849
remember you know Jim Gray famous

510
00:17:12,170 --> 00:17:15,920
computer scientist during award-winner

511
00:17:13,849 --> 00:17:19,159
sadly passed away too early

512
00:17:15,920 --> 00:17:20,960
he once talked about a 20 paper rule if

513
00:17:19,160 --> 00:17:22,610
you're interested in area find the 20

514
00:17:20,960 --> 00:17:24,740
papers to read in that area read those

515
00:17:22,609 --> 00:17:26,929
if you don't have any ideas you probably

516
00:17:24,740 --> 00:17:28,250
shouldn't be a researcher I thought that

517
00:17:26,930 --> 00:17:29,540
was a little harsh maybe but maybe

518
00:17:28,250 --> 00:17:31,160
that's a reasonable thing to think about

519
00:17:29,540 --> 00:17:33,530
but what I'm going to talk about instead

520
00:17:31,160 --> 00:17:35,300
is that we should read and learn broadly

521
00:17:33,530 --> 00:17:36,410
not just in a narrow area and there's

522
00:17:35,300 --> 00:17:38,419
this great Steve Jobs quote that I

523
00:17:36,410 --> 00:17:40,340
uncovered some years back if you're

524
00:17:38,420 --> 00:17:41,780
smart job said what you do is make

525
00:17:40,340 --> 00:17:43,610
connections to make connections you have

526
00:17:41,780 --> 00:17:45,830
to have inputs let's try to avoid having

527
00:17:43,610 --> 00:17:47,780
the exact same inputs as everyone else

528
00:17:45,830 --> 00:17:49,370
gain a new experience and bring together

529
00:17:47,780 --> 00:17:51,560
things no one has thought of before

530
00:17:49,370 --> 00:17:53,060
so basically jobs had been asked like if

531
00:17:51,560 --> 00:17:54,830
you know if you're a smart person what

532
00:17:53,060 --> 00:17:56,270
should you do and he thought back to his

533
00:17:54,830 --> 00:17:56,600
own experience his own experience he

534
00:17:56,270 --> 00:17:58,279
didn't

535
00:17:56,600 --> 00:17:59,719
you know he went to college for a brief

536
00:17:58,279 --> 00:18:01,940
time but he had taken a calligraphy

537
00:17:59,720 --> 00:18:03,679
course and when he kind of went back and

538
00:18:01,940 --> 00:18:05,539
was creating the Macintosh you know it

539
00:18:03,679 --> 00:18:07,700
became one of the you know kind of a

540
00:18:05,539 --> 00:18:09,350
revolution in desktop publishing because

541
00:18:07,700 --> 00:18:11,000
of its typography and he always thought

542
00:18:09,350 --> 00:18:13,070
back to that time where he thought about

543
00:18:11,000 --> 00:18:14,269
those types of things and he thought

544
00:18:13,070 --> 00:18:15,799
that that was an input that most people

545
00:18:14,269 --> 00:18:17,179
in the computer industry didn't have

546
00:18:15,799 --> 00:18:18,918
which a hundred percent if you were

547
00:18:17,179 --> 00:18:20,330
using it computers at the time when the

548
00:18:18,919 --> 00:18:21,620
Macintosh was introduced you would agree

549
00:18:20,330 --> 00:18:25,399
with people did not understand

550
00:18:21,620 --> 00:18:28,008
typography back then so so read or learn

551
00:18:25,399 --> 00:18:30,830
broadly I'll give another example in the

552
00:18:28,009 --> 00:18:32,360
world of file system checking and yeah

553
00:18:30,830 --> 00:18:34,519
we did some work on file system checking

554
00:18:32,360 --> 00:18:36,049
by the way a colleague one time as they

555
00:18:34,519 --> 00:18:38,029
saw another file system checking paper

556
00:18:36,049 --> 00:18:39,080
come out of our group they said this to

557
00:18:38,029 --> 00:18:41,299
me I think they meant it as a compliment

558
00:18:39,080 --> 00:18:42,408
they said that when I hear about what

559
00:18:41,299 --> 00:18:44,179
you're working on it always sounds

560
00:18:42,409 --> 00:18:46,850
really boring but then I read the paper

561
00:18:44,179 --> 00:18:48,860
and I was actually pretty good I never

562
00:18:46,850 --> 00:18:51,139
knew what quite what to make of that

563
00:18:48,860 --> 00:18:52,789
so in any case we did another paper on

564
00:18:51,139 --> 00:18:53,959
file system checking and that started

565
00:18:52,789 --> 00:18:56,360
when we started looking at file system

566
00:18:53,960 --> 00:18:58,159
checkers we noticed the code was pretty

567
00:18:56,360 --> 00:19:00,620
complex and messy thousands of lines of

568
00:18:58,159 --> 00:19:01,850
C code often a low-level code code this

569
00:19:00,620 --> 00:19:04,039
is some degree no one wants to touch

570
00:19:01,850 --> 00:19:05,539
because if you mess up the checker you

571
00:19:04,039 --> 00:19:06,889
know that's a last resort tool in many

572
00:19:05,539 --> 00:19:10,009
cases for people you don't want to make

573
00:19:06,889 --> 00:19:11,360
it worse so our idea was to write a

574
00:19:10,009 --> 00:19:12,980
checker in a higher-level language and

575
00:19:11,360 --> 00:19:14,689
we spent many months languishing on this

576
00:19:12,980 --> 00:19:17,059
problem trying to invent our own

577
00:19:14,690 --> 00:19:19,039
domain-specific language to build a

578
00:19:17,059 --> 00:19:20,720
checker and just repeatedly failed does

579
00:19:19,039 --> 00:19:23,000
this grad student was unhappy with it we

580
00:19:20,720 --> 00:19:26,720
were unhappy so this funny thing

581
00:19:23,000 --> 00:19:28,639
happened our luck was that we have a

582
00:19:26,720 --> 00:19:31,460
very strong database group historically

583
00:19:28,639 --> 00:19:32,959
strong a database group at Wisconsin or

584
00:19:31,460 --> 00:19:34,639
the pioneering groups in the area and

585
00:19:32,960 --> 00:19:36,309
they have a pretty regular database

586
00:19:34,639 --> 00:19:39,320
seminar and sometimes we would go to it

587
00:19:36,309 --> 00:19:40,970
and honestly I would kind of make fun of

588
00:19:39,320 --> 00:19:42,408
it because I would tell my database

589
00:19:40,970 --> 00:19:43,970
colleagues you know no matter what the

590
00:19:42,409 --> 00:19:46,190
talk title is no matter what the problem

591
00:19:43,970 --> 00:19:47,750
was the way you solve the problem is you

592
00:19:46,190 --> 00:19:49,220
put some data in your sequel database

593
00:19:47,750 --> 00:19:50,809
and then you ran some queries and that

594
00:19:49,220 --> 00:19:52,220
was that was what you did and that's

595
00:19:50,809 --> 00:19:53,509
what the database community does and

596
00:19:52,220 --> 00:19:56,990
they always were mad at me when I said

597
00:19:53,509 --> 00:19:58,909
that and then humorously after he had

598
00:19:56,990 --> 00:20:01,190
another talk that felt like that we were

599
00:19:58,909 --> 00:20:03,799
like you know what if we took the

600
00:20:01,190 --> 00:20:05,779
metadata of a file system and put it in

601
00:20:03,799 --> 00:20:07,220
a database and ran some queries against

602
00:20:05,779 --> 00:20:08,779
it and so that's how we came up with

603
00:20:07,220 --> 00:20:10,309
this idea called squeak a sequel based

604
00:20:08,779 --> 00:20:12,859
file system checker

605
00:20:10,309 --> 00:20:13,969
and unlike our languishing approach

606
00:20:12,859 --> 00:20:16,009
which took months and months and months

607
00:20:13,969 --> 00:20:18,019
and got us nowhere of defining our

608
00:20:16,009 --> 00:20:19,399
language within the first week we had

609
00:20:18,019 --> 00:20:22,279
like of the rudiments the rudimentary

610
00:20:19,399 --> 00:20:24,018
foundations of a working checker it was

611
00:20:22,279 --> 00:20:25,460
much easier to write so we wrote

612
00:20:24,019 --> 00:20:26,989
hundreds of sequel queries instead of

613
00:20:25,460 --> 00:20:28,820
thousands of lines of C code much

614
00:20:26,989 --> 00:20:30,529
simpler to understand and modify than a

615
00:20:28,820 --> 00:20:32,539
typical checker is I just thought I'd

616
00:20:30,529 --> 00:20:35,210
show a few examples of that here's an

617
00:20:32,539 --> 00:20:37,759
example of a check that looks for an ax

618
00:20:35,210 --> 00:20:39,469
Linux file system there's a block bitmap

619
00:20:37,759 --> 00:20:40,789
pointer is this early Linux file systems

620
00:20:39,469 --> 00:20:42,229
how do you make sure they're in the

621
00:20:40,789 --> 00:20:44,419
right range how do you make sure

622
00:20:42,229 --> 00:20:45,710
indirect blocks are you know find

623
00:20:44,419 --> 00:20:47,539
indirect blocks that aren't pointing to

624
00:20:45,710 --> 00:20:49,489
the right thing or even more complex

625
00:20:47,539 --> 00:20:51,499
checks like if there's a parent and

626
00:20:49,489 --> 00:20:52,969
child directory make sure if the parent

627
00:20:51,499 --> 00:20:54,710
refers to the child that the child's dad

628
00:20:52,969 --> 00:20:59,690
died entry refers back to the parent and

629
00:20:54,710 --> 00:21:02,149
alert if otherwise so by reading or

630
00:20:59,690 --> 00:21:03,200
listening or to talks or coming at

631
00:21:02,149 --> 00:21:05,718
things from different places you can

632
00:21:03,200 --> 00:21:07,099
kind of get new ideas in a way that you

633
00:21:05,719 --> 00:21:11,330
might not if you just read narrowly in

634
00:21:07,099 --> 00:21:13,070
your area okay so this will probably the

635
00:21:11,330 --> 00:21:15,080
longest point I make in this talk which

636
00:21:13,070 --> 00:21:16,639
is relates to the title and the point

637
00:21:15,080 --> 00:21:18,499
here is to use careful measurement

638
00:21:16,639 --> 00:21:19,758
measurement can drive of course the

639
00:21:18,499 --> 00:21:21,080
analysis of the system that you're

640
00:21:19,759 --> 00:21:22,879
interested in right now that you're

641
00:21:21,080 --> 00:21:24,439
building but I think it also can be an

642
00:21:22,879 --> 00:21:26,178
engine for new ideas and new thoughts

643
00:21:24,440 --> 00:21:27,409
and new things you're learning and so

644
00:21:26,179 --> 00:21:31,609
let me give a few examples that relate

645
00:21:27,409 --> 00:21:34,009
to that so I often think of this kind of

646
00:21:31,609 --> 00:21:35,749
loop that we do in systems research

647
00:21:34,009 --> 00:21:37,339
which is you build something and then

648
00:21:35,749 --> 00:21:38,509
you measure it and then you therefore

649
00:21:37,339 --> 00:21:39,769
you gain some understanding then you

650
00:21:38,509 --> 00:21:41,799
realize what you should have built and

651
00:21:39,769 --> 00:21:44,299
it kind of continues until you're done

652
00:21:41,799 --> 00:21:45,408
and of course you may start at any point

653
00:21:44,299 --> 00:21:46,489
in this you might just decide to build

654
00:21:45,409 --> 00:21:48,440
something and then measure it or you

655
00:21:46,489 --> 00:21:49,729
might submit or something first and then

656
00:21:48,440 --> 00:21:50,839
understand something about the state of

657
00:21:49,729 --> 00:21:53,690
the art in order to figure out what to

658
00:21:50,839 --> 00:21:55,428
build beyond that and I always think of

659
00:21:53,690 --> 00:21:57,139
this the first thing of course we have

660
00:21:55,429 --> 00:21:58,489
to do with good measurement is explain

661
00:21:57,139 --> 00:22:00,019
the system that we're understanding

662
00:21:58,489 --> 00:22:02,210
clearly a good experiment it's worth a

663
00:22:00,019 --> 00:22:04,609
thousand words some famous person said

664
00:22:02,210 --> 00:22:07,219
Oh Esther had actually had a nice

665
00:22:04,609 --> 00:22:08,809
article about this and and kakum of us a

666
00:22:07,219 --> 00:22:09,830
little bit while a while ago wakes up go

667
00:22:08,809 --> 00:22:10,820
one level deeper this is certainly

668
00:22:09,830 --> 00:22:12,529
something we've been doing for many

669
00:22:10,820 --> 00:22:13,789
years I'm gonna give a concrete example

670
00:22:12,529 --> 00:22:15,049
of that and some work we did on

671
00:22:13,789 --> 00:22:16,849
something called membrane operating

672
00:22:15,049 --> 00:22:18,589
system support for restartable file

673
00:22:16,849 --> 00:22:20,089
systems so idea here was very simple

674
00:22:18,589 --> 00:22:21,950
there had been some work and device

675
00:22:20,089 --> 00:22:23,359
drivers which showed that you can kind

676
00:22:21,950 --> 00:22:24,110
of build fault domains around device

677
00:22:23,359 --> 00:22:26,389
drivers and there

678
00:22:24,110 --> 00:22:27,799
where they can crash and restart and you

679
00:22:26,390 --> 00:22:29,150
know Mike Swift had done that work as a

680
00:22:27,799 --> 00:22:30,410
graduate student now he was been a

681
00:22:29,150 --> 00:22:31,309
faculty member in Wisconsin for many

682
00:22:30,410 --> 00:22:32,720
years anyway so we started working

683
00:22:31,309 --> 00:22:35,059
together we said why don't we do the

684
00:22:32,720 --> 00:22:36,470
same thing for a file system so the idea

685
00:22:35,059 --> 00:22:38,000
is that you have an application down

686
00:22:36,470 --> 00:22:39,440
there running on glass with a file

687
00:22:38,000 --> 00:22:40,580
system somewhere in there and the file

688
00:22:39,440 --> 00:22:42,140
system we're gonna figure out how to

689
00:22:40,580 --> 00:22:43,699
make it so the file system can crash

690
00:22:42,140 --> 00:22:45,049
because it's buggy and we'll figure out

691
00:22:43,700 --> 00:22:47,270
how to restart it and then the

692
00:22:45,049 --> 00:22:50,690
application won't notice at all so how

693
00:22:47,270 --> 00:22:52,309
do we evaluate that and what we did is

694
00:22:50,690 --> 00:22:53,980
we just ran a very simple workload we're

695
00:22:52,309 --> 00:22:56,090
doing random reads two large files and

696
00:22:53,980 --> 00:22:57,520
then we're gonna inject the file system

697
00:22:56,090 --> 00:23:00,168
crash and restart in the middle of this

698
00:22:57,520 --> 00:23:02,629
time sequence and see the what the

699
00:23:00,169 --> 00:23:04,820
performance impact was so this looks

700
00:23:02,630 --> 00:23:06,860
something like this along the x-axis we

701
00:23:04,820 --> 00:23:09,049
have time along the y axis we have the

702
00:23:06,860 --> 00:23:11,330
average read latency for there's a hard

703
00:23:09,049 --> 00:23:12,470
drive in the era of the work and then

704
00:23:11,330 --> 00:23:14,240
you could see the fault gets injected

705
00:23:12,470 --> 00:23:16,400
and then performance gets worse for a

706
00:23:14,240 --> 00:23:17,990
while and then becomes better again but

707
00:23:16,400 --> 00:23:19,130
what we to really explain this you have

708
00:23:17,990 --> 00:23:20,929
to go a little bit deeper than that

709
00:23:19,130 --> 00:23:22,070
you can't just stop at that point

710
00:23:20,929 --> 00:23:24,440
because you don't think it doesn't

711
00:23:22,070 --> 00:23:25,520
exactly explain what was going on and if

712
00:23:24,440 --> 00:23:27,710
you think about it and you have a good

713
00:23:25,520 --> 00:23:29,570
model of how a file system works and you

714
00:23:27,710 --> 00:23:31,190
knew a little bit about how our restart

715
00:23:29,570 --> 00:23:33,320
process worked with this in this

716
00:23:31,190 --> 00:23:34,910
membrane work you would know that a lot

717
00:23:33,320 --> 00:23:36,559
of the system state gets reset at that

718
00:23:34,910 --> 00:23:38,000
point so what we did is we measured a

719
00:23:36,559 --> 00:23:39,740
bunch of Capet a bunch of counters on

720
00:23:38,000 --> 00:23:42,380
things to look at what was going on and

721
00:23:39,740 --> 00:23:44,630
the interesting factor here was if on

722
00:23:42,380 --> 00:23:46,880
the right y axis here but we measured

723
00:23:44,630 --> 00:23:49,100
was how many indirect blocks were read

724
00:23:46,880 --> 00:23:50,480
from disk over over the time a lifetime

725
00:23:49,100 --> 00:23:52,490
the experiment and what you can see

726
00:23:50,480 --> 00:23:54,049
happens after a crash happens and

727
00:23:52,490 --> 00:23:56,240
there's this so we insert this fault and

728
00:23:54,049 --> 00:23:57,918
we restart it we're essentially clearing

729
00:23:56,240 --> 00:23:59,179
the file system cache which includes all

730
00:23:57,919 --> 00:24:01,490
the metadata the file system like

731
00:23:59,179 --> 00:24:03,350
indirect blocks and so that meant for

732
00:24:01,490 --> 00:24:05,540
every random read to a large file not

733
00:24:03,350 --> 00:24:07,100
only were we reading the data block but

734
00:24:05,540 --> 00:24:08,990
we're also reading the indirect block

735
00:24:07,100 --> 00:24:10,610
that points to that data block those

736
00:24:08,990 --> 00:24:12,380
eventually get cached and performance

737
00:24:10,610 --> 00:24:14,330
gets restored and then we've much better

738
00:24:12,380 --> 00:24:15,650
explained what was going on in this

739
00:24:14,330 --> 00:24:20,330
experiment than just showing the

740
00:24:15,650 --> 00:24:21,559
performance so go one level deeper using

741
00:24:20,330 --> 00:24:23,480
careful measurement though I think it's

742
00:24:21,559 --> 00:24:25,639
also very useful not just for explaining

743
00:24:23,480 --> 00:24:27,350
the system at hand but also can lead to

744
00:24:25,640 --> 00:24:28,610
new ideas so I thought I'd give we have

745
00:24:27,350 --> 00:24:29,899
many examples of that where we've done

746
00:24:28,610 --> 00:24:31,370
been doing measurement and paying

747
00:24:29,900 --> 00:24:34,910
attention to some little detail of it

748
00:24:31,370 --> 00:24:37,040
led us to a new idea and so let me give

749
00:24:34,910 --> 00:24:37,850
this example this is some work that we

750
00:24:37,040 --> 00:24:39,168
did call

751
00:24:37,850 --> 00:24:41,840
improving storage system availability

752
00:24:39,169 --> 00:24:44,480
with degrade and this was a pretty

753
00:24:41,840 --> 00:24:47,209
simple idea it was in in raid instead of

754
00:24:44,480 --> 00:24:48,830
blindly placing blocks you know

755
00:24:47,210 --> 00:24:50,690
oblivious to whether they're part of one

756
00:24:48,830 --> 00:24:53,480
file or this directory or whatever like

757
00:24:50,690 --> 00:24:55,160
most storage systems would do we have

758
00:24:53,480 --> 00:24:57,080
been working on something a line of work

759
00:24:55,160 --> 00:24:58,220
called semantically smart disks where

760
00:24:57,080 --> 00:24:59,720
the disk system would learn more about

761
00:24:58,220 --> 00:25:01,220
it would figure out well this is if

762
00:24:59,720 --> 00:25:03,049
these are blocks of the same file or

763
00:25:01,220 --> 00:25:04,130
these blocks or of this directory so it

764
00:25:03,049 --> 00:25:05,929
would know some semantically meaningful

765
00:25:04,130 --> 00:25:08,929
things about the data placed within the

766
00:25:05,929 --> 00:25:12,740
volume so normally you would say it's

767
00:25:08,929 --> 00:25:16,730
type a file across the disks of the raid

768
00:25:12,740 --> 00:25:18,320
but what do you grade did was place meet

769
00:25:16,730 --> 00:25:21,140
semantically meaningful things like a

770
00:25:18,320 --> 00:25:22,428
file within say a boundary of failure

771
00:25:21,140 --> 00:25:24,169
boundary like a single disk so that

772
00:25:22,429 --> 00:25:26,210
meant if another disk failed it would

773
00:25:24,169 --> 00:25:27,710
take out some of the file system but it

774
00:25:26,210 --> 00:25:29,090
wouldn't ruin the whole file system and

775
00:25:27,710 --> 00:25:31,070
then we did things like instead of just

776
00:25:29,090 --> 00:25:32,990
having a single directory copy we would

777
00:25:31,070 --> 00:25:34,280
widely replicate the directory so you

778
00:25:32,990 --> 00:25:36,770
could always traverse the whole tree

779
00:25:34,280 --> 00:25:37,940
that's what degrade did but I'm not

780
00:25:36,770 --> 00:25:39,260
gonna talk about degrade this is how

781
00:25:37,940 --> 00:25:41,630
we're using measurement to find a new

782
00:25:39,260 --> 00:25:43,549
idea and what we were doing was we were

783
00:25:41,630 --> 00:25:45,679
measuring filesystem reaction to degrade

784
00:25:43,549 --> 00:25:48,020
faults so down here we have a degrade

785
00:25:45,679 --> 00:25:49,100
volume and it has three different we'll

786
00:25:48,020 --> 00:25:50,870
just make it as a really simple

787
00:25:49,100 --> 00:25:53,149
filesystem as a super block it has I

788
00:25:50,870 --> 00:25:54,889
notes and has data blocks and it was

789
00:25:53,150 --> 00:25:57,710
this observation that led to a long line

790
00:25:54,890 --> 00:26:00,380
of follow-on research which was very

791
00:25:57,710 --> 00:26:03,110
simply this when a read was issued to

792
00:26:00,380 --> 00:26:04,309
say the I notes portion of this Linux

793
00:26:03,110 --> 00:26:08,178
file system that we were using at that

794
00:26:04,309 --> 00:26:09,500
time if it failed and then we say

795
00:26:08,179 --> 00:26:11,690
repaired the volume underneath the

796
00:26:09,500 --> 00:26:13,880
filesystem even if we somehow got the

797
00:26:11,690 --> 00:26:15,500
filesystem to to want to reissue that

798
00:26:13,880 --> 00:26:17,510
read it wouldn't it just never would

799
00:26:15,500 --> 00:26:20,120
retry so that's what that read says

800
00:26:17,510 --> 00:26:22,158
there says no retry no matter what

801
00:26:20,120 --> 00:26:23,360
happened and that's somehow whoever was

802
00:26:22,159 --> 00:26:25,190
writing the code for that part of that

803
00:26:23,360 --> 00:26:26,928
Linux file system had a sense that if

804
00:26:25,190 --> 00:26:30,289
that I know block went bad I'm never

805
00:26:26,929 --> 00:26:31,970
gonna trust it again differently if a

806
00:26:30,289 --> 00:26:34,250
read was issued to a data block let's

807
00:26:31,970 --> 00:26:37,130
say just a user file what the read

808
00:26:34,250 --> 00:26:38,870
wording says there is a retry and what

809
00:26:37,130 --> 00:26:40,250
would happen is that if you to read and

810
00:26:38,870 --> 00:26:42,709
it failed but then you repaired the

811
00:26:40,250 --> 00:26:44,360
volume underneath that the filesystem

812
00:26:42,710 --> 00:26:46,190
would be willing to retry it again later

813
00:26:44,360 --> 00:26:48,020
if you issued another read that was a

814
00:26:46,190 --> 00:26:49,570
different policy retry for data blocks

815
00:26:48,020 --> 00:26:52,149
no retry for

816
00:26:49,570 --> 00:26:54,340
and like a lot of things if you pay

817
00:26:52,149 --> 00:26:55,719
attention to the details it kind of

818
00:26:54,340 --> 00:26:57,399
generated a lot of questions I had never

819
00:26:55,720 --> 00:27:00,789
heard of we had never heard of a file

820
00:26:57,399 --> 00:27:01,899
system failure policy like that even

821
00:27:00,789 --> 00:27:04,059
though we've been teaching about file

822
00:27:01,899 --> 00:27:05,439
systems for many years and so we started

823
00:27:04,059 --> 00:27:07,539
to ask how can we learn more about that

824
00:27:05,440 --> 00:27:10,299
that little observation in the degrade

825
00:27:07,539 --> 00:27:11,830
work and so we developed a methodology

826
00:27:10,299 --> 00:27:13,809
called type of where fault injection

827
00:27:11,830 --> 00:27:16,149
where you just for all the structures of

828
00:27:13,809 --> 00:27:17,859
an on disk file system you inject faults

829
00:27:16,149 --> 00:27:19,539
in them you measure the behavior to that

830
00:27:17,859 --> 00:27:20,769
and you see what happens and then you

831
00:27:19,539 --> 00:27:21,940
can look at different file systems and

832
00:27:20,769 --> 00:27:24,419
see what different kinds of policies

833
00:27:21,940 --> 00:27:26,499
they have and so that led to some work

834
00:27:24,419 --> 00:27:28,869
something we call hearing file systems

835
00:27:26,499 --> 00:27:31,029
which was published not that long after

836
00:27:28,869 --> 00:27:32,559
and what we were I think that was one of

837
00:27:31,029 --> 00:27:34,179
the first papers to show how file

838
00:27:32,559 --> 00:27:36,099
systems really react to different kinds

839
00:27:34,179 --> 00:27:37,929
of localized disc faults we uncover

840
00:27:36,099 --> 00:27:40,029
different policies we found bugs we

841
00:27:37,929 --> 00:27:42,549
found design flaws and these kind of

842
00:27:40,029 --> 00:27:44,499
crazy tables show different different

843
00:27:42,549 --> 00:27:45,820
file systems and how they would react so

844
00:27:44,499 --> 00:27:47,559
there's a key in the bottom left that

845
00:27:45,820 --> 00:27:49,799
shows different reaction policies

846
00:27:47,559 --> 00:27:52,749
reactions to failures like for example

847
00:27:49,799 --> 00:27:54,179
the horizontal line is means that the

848
00:27:52,749 --> 00:27:56,710
file system halts when there's an error

849
00:27:54,179 --> 00:27:57,840
a vertical line means it returns an

850
00:27:56,710 --> 00:28:00,249
error to the user

851
00:27:57,840 --> 00:28:01,539
diagonal line means you do a retry and

852
00:28:00,249 --> 00:28:02,950
you could kind of notice some things

853
00:28:01,539 --> 00:28:04,450
about that are similar or different

854
00:28:02,950 --> 00:28:06,609
across different file systems for

855
00:28:04,450 --> 00:28:08,049
example the ext3 file system we looked

856
00:28:06,609 --> 00:28:09,340
at whenever a certain kind of failure

857
00:28:08,049 --> 00:28:11,619
happened on a read what it would do

858
00:28:09,340 --> 00:28:13,178
mostly is remount the file system

859
00:28:11,619 --> 00:28:15,399
read-only so it's a halting behavior and

860
00:28:13,179 --> 00:28:17,499
then return an error to the user

861
00:28:15,399 --> 00:28:20,049
this Ryze RFS which we were measuring

862
00:28:17,499 --> 00:28:21,279
back then we just panic every time if

863
00:28:20,049 --> 00:28:22,539
something bad would happen then we just

864
00:28:21,279 --> 00:28:24,159
say that's a bad problem I'm gonna panic

865
00:28:22,539 --> 00:28:25,809
and you could see almost all the file

866
00:28:24,159 --> 00:28:27,129
systems we had had some zeros in them

867
00:28:25,809 --> 00:28:28,418
which meant there are cases where they

868
00:28:27,129 --> 00:28:32,529
just didn't actually pay attention to

869
00:28:28,419 --> 00:28:34,869
the error at all so lots of bugs so

870
00:28:32,529 --> 00:28:36,039
measurement can lead to new ideas and

871
00:28:34,869 --> 00:28:37,090
there's a long line of research that

872
00:28:36,039 --> 00:28:38,649
followed where we do that kind of

873
00:28:37,090 --> 00:28:40,119
analysis of systems that leads to

874
00:28:38,649 --> 00:28:42,158
understandings of their failure policies

875
00:28:40,119 --> 00:28:43,119
what measurement can also lead and this

876
00:28:42,159 --> 00:28:45,159
is the third point I'll make about

877
00:28:43,119 --> 00:28:47,709
measurement is to learning opportunities

878
00:28:45,159 --> 00:28:48,999
a lot of times you'll get into something

879
00:28:47,710 --> 00:28:51,099
you'll start measuring it and then

880
00:28:48,999 --> 00:28:52,570
you'll understand something deeply about

881
00:28:51,099 --> 00:28:54,820
it that you hadn't understood before and

882
00:28:52,570 --> 00:28:58,539
that learning opportunity in turn will

883
00:28:54,820 --> 00:28:59,950
turn into a new idea so what I always

884
00:28:58,539 --> 00:29:01,330
say is to remember that research is a

885
00:28:59,950 --> 00:29:03,309
learning exercise when you're a student

886
00:29:01,330 --> 00:29:05,289
you kind of view research and educate

887
00:29:03,309 --> 00:29:06,730
maybe is a little bit separate but

888
00:29:05,289 --> 00:29:08,009
really what research is is learning a

889
00:29:06,730 --> 00:29:10,419
lot about something and eventually

890
00:29:08,009 --> 00:29:11,139
teaching yourself and then the community

891
00:29:10,419 --> 00:29:12,759
something new

892
00:29:11,139 --> 00:29:14,908
it's actually a very similar process it

893
00:29:12,759 --> 00:29:17,980
starts with deep knowledge of something

894
00:29:14,909 --> 00:29:19,929
so in that iured file systems work where

895
00:29:17,980 --> 00:29:22,090
the learning opportunity came it came

896
00:29:19,929 --> 00:29:23,590
out of some performance study we did we

897
00:29:22,090 --> 00:29:25,658
were building what we called an iron

898
00:29:23,590 --> 00:29:26,918
file system which was just trying to do

899
00:29:25,659 --> 00:29:28,749
something very simple even on a single

900
00:29:26,919 --> 00:29:29,950
say hard drive which was the technology

901
00:29:28,749 --> 00:29:31,870
of the time you could do the same thing

902
00:29:29,950 --> 00:29:33,669
in a flash today we were doing things

903
00:29:31,870 --> 00:29:35,949
like adding a parity block for every

904
00:29:33,669 --> 00:29:38,110
file so that even if like one block went

905
00:29:35,950 --> 00:29:41,200
but was corrupted we could recover from

906
00:29:38,110 --> 00:29:42,850
that detect and recover that led to a

907
00:29:41,200 --> 00:29:44,830
problem which was the performance of the

908
00:29:42,850 --> 00:29:46,209
file system was too slow and what it

909
00:29:44,830 --> 00:29:48,279
really led to was our understanding that

910
00:29:46,210 --> 00:29:50,440
we need to know more about how at the

911
00:29:48,279 --> 00:29:51,879
time Linux file system journaling worked

912
00:29:50,440 --> 00:29:54,879
and so we just started studying that

913
00:29:51,879 --> 00:29:56,498
those are learning exercise and so we

914
00:29:54,879 --> 00:29:58,029
probably all know what generally file

915
00:29:56,499 --> 00:29:59,289
systems do but I'll just kind of go over

916
00:29:58,029 --> 00:30:01,240
it really briefly

917
00:29:59,289 --> 00:30:03,340
you know they provide crash consistency

918
00:30:01,240 --> 00:30:04,990
which is the way I think about that is

919
00:30:03,340 --> 00:30:06,850
we're doing a series of updates to a

920
00:30:04,990 --> 00:30:08,799
file system state and we want to make

921
00:30:06,850 --> 00:30:10,029
sure that say all the updates happen or

922
00:30:08,799 --> 00:30:11,289
none of them we don't want these in

923
00:30:10,029 --> 00:30:13,149
between states which leaves the file

924
00:30:11,289 --> 00:30:14,590
system in an inconsistent way in a

925
00:30:13,149 --> 00:30:15,879
consistent state so the way we do that

926
00:30:14,590 --> 00:30:18,340
is we use a right ahead log or a

927
00:30:15,879 --> 00:30:19,570
journalist if it's called to record some

928
00:30:18,340 --> 00:30:21,009
kind of information about the pending

929
00:30:19,570 --> 00:30:22,960
update and if a crash occurs maybe

930
00:30:21,009 --> 00:30:24,549
replay if we had using a reduced style

931
00:30:22,960 --> 00:30:25,809
logging what's in the log to do a repair

932
00:30:24,549 --> 00:30:27,129
and there's many other styles of this

933
00:30:25,809 --> 00:30:30,490
but we're not gonna get into the details

934
00:30:27,129 --> 00:30:32,918
of that the example that we've been

935
00:30:30,490 --> 00:30:34,720
thought about to learn more about it was

936
00:30:32,919 --> 00:30:37,360
just a simple workload like appending a

937
00:30:34,720 --> 00:30:38,470
single block to an existing file and you

938
00:30:37,360 --> 00:30:41,350
can think of that in a typical file

939
00:30:38,470 --> 00:30:42,940
system as it's doing many few different

940
00:30:41,350 --> 00:30:44,439
updates and that have to all happen or

941
00:30:42,940 --> 00:30:46,059
none of them happen so updating a bitmap

942
00:30:44,440 --> 00:30:47,559
say to market block is allocated

943
00:30:46,059 --> 00:30:49,178
updating and I know it's a to point to a

944
00:30:47,559 --> 00:30:50,799
new block and updating of course the

945
00:30:49,179 --> 00:30:53,679
data block itself to add the new data to

946
00:30:50,799 --> 00:30:55,240
an existing file how that works in as

947
00:30:53,679 --> 00:30:57,519
I'll show on this diagram is on the

948
00:30:55,240 --> 00:30:59,110
bottom we have the disk based filesystem

949
00:30:57,519 --> 00:31:00,999
which I think of on the left is having a

950
00:30:59,110 --> 00:31:03,008
log or journal and on the right having a

951
00:31:00,999 --> 00:31:05,470
file says the filesystem proper and then

952
00:31:03,009 --> 00:31:08,409
what happens is data and metadata get

953
00:31:05,470 --> 00:31:09,850
kind of put into memory above and we

954
00:31:08,409 --> 00:31:11,889
have to reflect them down to disk in a

955
00:31:09,850 --> 00:31:14,980
particular order in order to safely be

956
00:31:11,889 --> 00:31:17,080
able to recover and in Linux ext3 and

957
00:31:14,980 --> 00:31:19,150
for ordered journaling know the the

958
00:31:17,080 --> 00:31:22,360
order is like this first you write the

959
00:31:19,150 --> 00:31:25,030
data then you write what we'll call a

960
00:31:22,360 --> 00:31:27,370
transaction begin block and the contents

961
00:31:25,030 --> 00:31:29,050
of the metadata that's getting journaled

962
00:31:27,370 --> 00:31:30,820
we're not journaling the metadata here

963
00:31:29,050 --> 00:31:33,040
for various performance reasons at which

964
00:31:30,820 --> 00:31:35,580
I won't get into when that's on the disk

965
00:31:33,040 --> 00:31:38,530
safely then you issue the commit block

966
00:31:35,580 --> 00:31:40,990
and when that commit has reached the end

967
00:31:38,530 --> 00:31:42,700
block has reached the log what you can

968
00:31:40,990 --> 00:31:44,980
do then is safely checkpoint or

969
00:31:42,700 --> 00:31:46,570
overwrite in place the metadata and what

970
00:31:44,980 --> 00:31:48,160
you know of course all those steps I'll

971
00:31:46,570 --> 00:31:49,570
go through them again and explain them

972
00:31:48,160 --> 00:31:52,230
all the steps are kind of required for

973
00:31:49,570 --> 00:31:54,460
reasons you write the data first because

974
00:31:52,230 --> 00:31:56,050
you don't want to write the the I know

975
00:31:54,460 --> 00:31:57,370
that points to that data before the data

976
00:31:56,050 --> 00:31:59,110
because if you do you could end up with

977
00:31:57,370 --> 00:32:00,820
garbage in the file you write the

978
00:31:59,110 --> 00:32:03,070
transaction begin in the contents of the

979
00:32:00,820 --> 00:32:04,570
journal first because you don't want to

980
00:32:03,070 --> 00:32:06,070
issue the transaction end block would

981
00:32:04,570 --> 00:32:07,960
that that initial right because if you

982
00:32:06,070 --> 00:32:09,760
do you might end up with just the very

983
00:32:07,960 --> 00:32:11,890
unlucky case where the begin block and

984
00:32:09,760 --> 00:32:13,929
the end block were recorded on the disk

985
00:32:11,890 --> 00:32:15,340
the drive loses power the contents are

986
00:32:13,929 --> 00:32:17,620
garbage but it looks like a valid

987
00:32:15,340 --> 00:32:19,449
transaction so you wait for that first

988
00:32:17,620 --> 00:32:21,699
part to go then you commit it with a

989
00:32:19,450 --> 00:32:23,260
separate write then you overwrite in

990
00:32:21,700 --> 00:32:25,000
place last when you're done and you know

991
00:32:23,260 --> 00:32:26,500
you can come in and if you crash you can

992
00:32:25,000 --> 00:32:27,940
either you'll either have enough state

993
00:32:26,500 --> 00:32:29,500
on the journal to recover or you'll have

994
00:32:27,940 --> 00:32:31,150
lost the data and therefore you won't

995
00:32:29,500 --> 00:32:33,760
have any of the update really except the

996
00:32:31,150 --> 00:32:34,960
data block so when we were doing this

997
00:32:33,760 --> 00:32:36,879
work in carefully studying its

998
00:32:34,960 --> 00:32:38,260
performance we realized that that right

999
00:32:36,880 --> 00:32:39,610
ordering all those steps we have to wait

1000
00:32:38,260 --> 00:32:42,730
for something led to certain kinds of

1001
00:32:39,610 --> 00:32:44,169
slowness and the idea that the student

1002
00:32:42,730 --> 00:32:45,460
had who was working on it was well why

1003
00:32:44,170 --> 00:32:47,830
don't we use check sums to replace some

1004
00:32:45,460 --> 00:32:49,809
of that ordering so computer check sum

1005
00:32:47,830 --> 00:32:51,040
over the journal and then write the

1006
00:32:49,809 --> 00:32:52,840
journal metadata and the commit block

1007
00:32:51,040 --> 00:32:55,570
together and if upon crash what you do

1008
00:32:52,840 --> 00:32:57,070
is you redo from that entry only if and

1009
00:32:55,570 --> 00:32:58,990
only if the check sum matches the

1010
00:32:57,070 --> 00:33:01,120
contents so how does that look same

1011
00:32:58,990 --> 00:33:02,620
stuff in memory we write the data but

1012
00:33:01,120 --> 00:33:04,590
then we write everything to the journal

1013
00:33:02,620 --> 00:33:07,360
at once with the check sum in it and

1014
00:33:04,590 --> 00:33:09,520
then we do the checkpoint so we've saved

1015
00:33:07,360 --> 00:33:11,199
one step and we've improved performance

1016
00:33:09,520 --> 00:33:12,760
in that case and this was kind of this

1017
00:33:11,200 --> 00:33:14,650
fun thing when the student did the work

1018
00:33:12,760 --> 00:33:15,520
soon after that people were working on

1019
00:33:14,650 --> 00:33:17,020
Linux ext4

1020
00:33:15,520 --> 00:33:19,260
said hey can we borrow your code and

1021
00:33:17,020 --> 00:33:22,570
they kind of sucked it into Linux ext4

1022
00:33:19,260 --> 00:33:25,030
so use careful measurement to understand

1023
00:33:22,570 --> 00:33:27,100
what you're doing for sure but also to

1024
00:33:25,030 --> 00:33:28,480
kind of create new ideas and to and to

1025
00:33:27,100 --> 00:33:29,779
find opportunities to learn more about

1026
00:33:28,480 --> 00:33:33,769
what you need to learn to you

1027
00:33:29,779 --> 00:33:36,019
even further ideas let's talk a little

1028
00:33:33,769 --> 00:33:39,019
bit about finding the best problem

1029
00:33:36,019 --> 00:33:40,190
I think it's pretty easy to work on

1030
00:33:39,019 --> 00:33:41,599
something that's not quite the right

1031
00:33:40,190 --> 00:33:43,639
problem it's one of the first pieces of

1032
00:33:41,599 --> 00:33:45,289
advice I got in grad school was you know

1033
00:33:43,639 --> 00:33:46,639
there's a lot of our field is filled

1034
00:33:45,289 --> 00:33:47,989
with smart people so probably the best

1035
00:33:46,639 --> 00:33:50,389
way to differentiate is make sure you're

1036
00:33:47,989 --> 00:33:52,909
finding the best problem to work on that

1037
00:33:50,389 --> 00:33:55,070
was from my advisers Dave Patterson and

1038
00:33:52,909 --> 00:33:55,999
it's dead you know when you're when

1039
00:33:55,070 --> 00:33:57,259
you're working think about what's the

1040
00:33:55,999 --> 00:33:59,899
newest thing and the most interesting

1041
00:33:57,259 --> 00:34:01,399
piece that's in there so I'm gonna try

1042
00:33:59,899 --> 00:34:03,830
to give one example this is very recent

1043
00:34:01,399 --> 00:34:05,119
work where we're looking at this

1044
00:34:03,830 --> 00:34:06,918
question we just had this question of

1045
00:34:05,119 --> 00:34:09,379
can operating system locking cause

1046
00:34:06,919 --> 00:34:11,089
denial of service and we're gonna start

1047
00:34:09,379 --> 00:34:12,889
by doing measurements as we often do in

1048
00:34:11,089 --> 00:34:14,359
ideas there might be a lock inside of a

1049
00:34:12,889 --> 00:34:17,089
shared infrastructure like an operating

1050
00:34:14,359 --> 00:34:18,379
system process one might through normal

1051
00:34:17,089 --> 00:34:20,239
system calls or whatever it's normal

1052
00:34:18,379 --> 00:34:21,409
behavior is acquire that lock and if

1053
00:34:20,239 --> 00:34:23,089
it's somehow able to give the right

1054
00:34:21,409 --> 00:34:24,109
arguments or do something in a certain

1055
00:34:23,089 --> 00:34:26,239
way it might be able to hold on to that

1056
00:34:24,109 --> 00:34:28,668
long lock for a long time therefore

1057
00:34:26,239 --> 00:34:30,199
causing p2 to be blocked and that that's

1058
00:34:28,668 --> 00:34:32,000
a problem with normal processes on an

1059
00:34:30,199 --> 00:34:33,408
operating system that's maybe even a

1060
00:34:32,000 --> 00:34:35,119
further problem if you're using kind of

1061
00:34:33,409 --> 00:34:36,559
containers that are very much from

1062
00:34:35,119 --> 00:34:38,480
different entities running on the same

1063
00:34:36,559 --> 00:34:40,159
OS infrastructure so we were interested

1064
00:34:38,480 --> 00:34:41,629
in that and we actually found through

1065
00:34:40,159 --> 00:34:44,720
measurement a particularly troublesome

1066
00:34:41,629 --> 00:34:46,609
lock the Linux file system renamed lock

1067
00:34:44,719 --> 00:34:49,158
it's acquired during this kind of

1068
00:34:46,609 --> 00:34:51,918
complex cross directory renames which is

1069
00:34:49,159 --> 00:34:53,480
global at a VFS level and the problem is

1070
00:34:51,918 --> 00:34:55,279
that that lock can be held for hundreds

1071
00:34:53,480 --> 00:34:57,319
of seconds we have very simple cases

1072
00:34:55,279 --> 00:35:00,500
where you can cause that lock to be held

1073
00:34:57,319 --> 00:35:01,970
for a very very long time in our initial

1074
00:35:00,500 --> 00:35:03,529
thought was well why don't we just kind

1075
00:35:01,970 --> 00:35:05,209
of rewrite this and use fine or grade

1076
00:35:03,529 --> 00:35:07,069
locks and then I think there are two

1077
00:35:05,210 --> 00:35:08,930
problems with that one clearly people

1078
00:35:07,069 --> 00:35:10,759
who built the system already knew about

1079
00:35:08,930 --> 00:35:12,680
that and could have if they were easy to

1080
00:35:10,760 --> 00:35:14,420
do they would have done it right and it

1081
00:35:12,680 --> 00:35:15,980
turns out to be hard to do it's also

1082
00:35:14,420 --> 00:35:17,299
like kind of not that interesting of a

1083
00:35:15,980 --> 00:35:18,500
solution so if you kind of force

1084
00:35:17,299 --> 00:35:19,670
yourself to find like what's the best

1085
00:35:18,500 --> 00:35:21,380
kind of solution to what you're doing

1086
00:35:19,670 --> 00:35:23,180
you might think of something that's more

1087
00:35:21,380 --> 00:35:24,710
general and more interesting so what we

1088
00:35:23,180 --> 00:35:26,750
came across was maybe what we think is a

1089
00:35:24,710 --> 00:35:28,220
more general lock fairness problem and

1090
00:35:26,750 --> 00:35:30,230
it's something we started calling lock

1091
00:35:28,220 --> 00:35:31,788
usage fairness just imagine in the more

1092
00:35:30,230 --> 00:35:33,380
general case thread one holds a lock for

1093
00:35:31,789 --> 00:35:35,420
a hundred time units thread two holds a

1094
00:35:33,380 --> 00:35:36,529
lock for one time unit and you repeat

1095
00:35:35,420 --> 00:35:38,750
that behavior these two threads

1096
00:35:36,529 --> 00:35:40,430
competing for the same lock if the one

1097
00:35:38,750 --> 00:35:41,480
stays in the critical section for a

1098
00:35:40,430 --> 00:35:43,490
hundred times longer than the other one

1099
00:35:41,480 --> 00:35:44,780
it's going to dominate the CPU use

1100
00:35:43,490 --> 00:35:46,879
which may not be what your scheduler

1101
00:35:44,780 --> 00:35:48,530
policy goal was or whatever so even if

1102
00:35:46,880 --> 00:35:50,119
the locks are acquired fairly and there

1103
00:35:48,530 --> 00:35:51,680
are many locks that give you fair

1104
00:35:50,119 --> 00:35:54,020
acquisition properties like a ticket

1105
00:35:51,680 --> 00:35:55,310
lock for example you're not really

1106
00:35:54,020 --> 00:35:57,109
sharing the CPU in the way that you

1107
00:35:55,310 --> 00:35:58,430
expected so we started looking at how to

1108
00:35:57,109 --> 00:36:01,339
build locks that are used fairly we call

1109
00:35:58,430 --> 00:36:02,750
them fair usage locks and the basic idea

1110
00:36:01,339 --> 00:36:04,849
is that there should be a notion of a

1111
00:36:02,750 --> 00:36:06,380
lock opportunity window so there's a

1112
00:36:04,849 --> 00:36:08,480
time when you can acquire a lock and if

1113
00:36:06,380 --> 00:36:09,890
you hold on for a lock for too long you

1114
00:36:08,480 --> 00:36:12,530
get penalized you can't just reacquire

1115
00:36:09,890 --> 00:36:14,779
it immediately so then the what that

1116
00:36:12,530 --> 00:36:16,670
might look like then is if each thread

1117
00:36:14,780 --> 00:36:17,900
has this lock opportunity window even

1118
00:36:16,670 --> 00:36:18,980
though they have different lengths of

1119
00:36:17,900 --> 00:36:20,630
time they spend in the critical section

1120
00:36:18,980 --> 00:36:23,240
they end up still kind of sharing the

1121
00:36:20,630 --> 00:36:25,550
cpu in a certain way now this paper

1122
00:36:23,240 --> 00:36:29,060
keeps getting rejected so maybe this is

1123
00:36:25,550 --> 00:36:30,920
terrible advice but it's I think it's

1124
00:36:29,060 --> 00:36:32,660
kind of an idea where we came to a it

1125
00:36:30,920 --> 00:36:34,940
was my best example of something that

1126
00:36:32,660 --> 00:36:36,259
that we felt like we came to a better

1127
00:36:34,940 --> 00:36:37,310
problem by thinking about it a little

1128
00:36:36,260 --> 00:36:40,070
bit more than we would have just

1129
00:36:37,310 --> 00:36:41,509
initially by solving it so try to find

1130
00:36:40,070 --> 00:36:43,760
the best problem to work on that's gonna

1131
00:36:41,510 --> 00:36:49,250
push your research in them in the most

1132
00:36:43,760 --> 00:36:50,990
extreme way okay so the last so many

1133
00:36:49,250 --> 00:36:54,230
pieces of advice are all a bit shorter I

1134
00:36:50,990 --> 00:36:55,459
would say and maybe a you know in some

1135
00:36:54,230 --> 00:36:57,349
cases more general than just the

1136
00:36:55,460 --> 00:36:59,359
research advice so find mentors this

1137
00:36:57,349 --> 00:37:01,040
certainly starts in graduate school an

1138
00:36:59,359 --> 00:37:03,470
advisor student relationship is one of

1139
00:37:01,040 --> 00:37:04,820
those central things and you know what

1140
00:37:03,470 --> 00:37:06,680
do the people who give you advice to do

1141
00:37:04,820 --> 00:37:07,550
they they should give you advice they

1142
00:37:06,680 --> 00:37:08,960
should tell you how to help you how to

1143
00:37:07,550 --> 00:37:10,670
find problems they should help you learn

1144
00:37:08,960 --> 00:37:12,290
how to communicate they should give you

1145
00:37:10,670 --> 00:37:13,310
lots and lots of critique and critique

1146
00:37:12,290 --> 00:37:15,560
is there to make you better

1147
00:37:13,310 --> 00:37:17,859
and of course one thing I'd like to

1148
00:37:15,560 --> 00:37:20,029
point out to students particularly is

1149
00:37:17,859 --> 00:37:21,589
every person who gives you advice has

1150
00:37:20,030 --> 00:37:23,900
strengths and weaknesses so you have to

1151
00:37:21,589 --> 00:37:25,460
learn what those are and learn what

1152
00:37:23,900 --> 00:37:26,960
advice to pay attention to and what

1153
00:37:25,460 --> 00:37:29,960
advice to listen to but not necessarily

1154
00:37:26,960 --> 00:37:31,400
follow is talking I guess this is the

1155
00:37:29,960 --> 00:37:34,580
theme of the morning is that we have

1156
00:37:31,400 --> 00:37:37,430
references to the Hobbit etc advice is a

1157
00:37:34,580 --> 00:37:38,598
dangerous gift even from the wise so I

1158
00:37:37,430 --> 00:37:39,890
thought I'd just try to think of a

1159
00:37:38,599 --> 00:37:42,380
couple examples of that and that I

1160
00:37:39,890 --> 00:37:44,868
benefited from in my career of listening

1161
00:37:42,380 --> 00:37:46,820
to advice or ignoring advice so in cases

1162
00:37:44,869 --> 00:37:48,290
where I listen to advice I ask my

1163
00:37:46,820 --> 00:37:49,880
advisor on the first day of grad school

1164
00:37:48,290 --> 00:37:51,380
what's the best advice he could give me

1165
00:37:49,880 --> 00:37:52,910
about how to succeed in grad school and

1166
00:37:51,380 --> 00:37:55,040
he said well sink or swim there's a lot

1167
00:37:52,910 --> 00:37:56,660
of smart people here you have to work

1168
00:37:55,040 --> 00:37:58,579
really hard to keep up

1169
00:37:56,660 --> 00:38:00,319
was kind of a you know a bracing way to

1170
00:37:58,579 --> 00:38:03,230
begin grad school but I think probably a

1171
00:38:00,319 --> 00:38:05,359
good lesson to hear another piece of

1172
00:38:03,230 --> 00:38:08,390
advice I heard from lucky to hear from

1173
00:38:05,359 --> 00:38:09,980
all these wise people was Jim Gray on

1174
00:38:08,390 --> 00:38:11,690
dissertation writing writing the

1175
00:38:09,980 --> 00:38:13,549
dissertation is a very hard process

1176
00:38:11,690 --> 00:38:15,349
really at the end of your graduate

1177
00:38:13,549 --> 00:38:16,819
school and so the advice he gave which I

1178
00:38:15,349 --> 00:38:19,549
tried to get to every grad student that

1179
00:38:16,819 --> 00:38:21,410
I know is to first work inside out so

1180
00:38:19,549 --> 00:38:24,339
write the content first and then the

1181
00:38:21,410 --> 00:38:26,868
intro conclusions and related work after

1182
00:38:24,339 --> 00:38:28,369
of course he also said that he reads it

1183
00:38:26,869 --> 00:38:29,510
the opposite way like Jim Gray used to

1184
00:38:28,369 --> 00:38:30,530
read when he read the dissertation he'd

1185
00:38:29,510 --> 00:38:31,940
read the intro to see if there was an

1186
00:38:30,530 --> 00:38:33,109
interesting problem if it was he would

1187
00:38:31,940 --> 00:38:35,510
read the conclusion to see if the person

1188
00:38:33,109 --> 00:38:37,430
learned anything of value if he then

1189
00:38:35,510 --> 00:38:38,839
found that to be a value he'd read the

1190
00:38:37,430 --> 00:38:40,339
related work to understand like about

1191
00:38:38,839 --> 00:38:41,750
the context of the world the work was

1192
00:38:40,339 --> 00:38:44,538
and then only then would he go into the

1193
00:38:41,750 --> 00:38:46,460
middle part and another thing he said

1194
00:38:44,539 --> 00:38:47,569
which I think is really useful too he

1195
00:38:46,460 --> 00:38:50,390
said find a good example of a

1196
00:38:47,569 --> 00:38:51,890
dissertation in a bad example so the

1197
00:38:50,390 --> 00:38:53,328
good example is the one like the what I

1198
00:38:51,890 --> 00:38:54,740
said earlier finding inspirations like

1199
00:38:53,329 --> 00:38:56,420
find something that when you're like I

1200
00:38:54,740 --> 00:38:58,160
wish my dissertation could be as good as

1201
00:38:56,420 --> 00:38:59,359
this one so that the day you need that

1202
00:38:58,160 --> 00:39:01,009
uplift you can look at it and say I'm

1203
00:38:59,359 --> 00:39:02,420
going to get there and then find a bad

1204
00:39:01,010 --> 00:39:03,980
example which you cannot say when you

1205
00:39:02,420 --> 00:39:05,750
look at it you could say well I know at

1206
00:39:03,980 --> 00:39:08,930
least mine won't be as bad as this one

1207
00:39:05,750 --> 00:39:10,130
and yes there it's true there are some

1208
00:39:08,930 --> 00:39:11,538
dissertations that get through the

1209
00:39:10,130 --> 00:39:12,890
process that aren't that great and it's

1210
00:39:11,539 --> 00:39:14,510
nice to know about those because there

1211
00:39:12,890 --> 00:39:17,990
are absolutely days you're gonna hate

1212
00:39:14,510 --> 00:39:20,619
your dissertation a case where I ignored

1213
00:39:17,990 --> 00:39:23,240
advice was when I'll share with you two

1214
00:39:20,619 --> 00:39:24,740
which is at one point after about five

1215
00:39:23,240 --> 00:39:26,419
years in graduate school Patterson maybe

1216
00:39:24,740 --> 00:39:27,799
he got a little bit sick of me that

1217
00:39:26,420 --> 00:39:29,390
happens when people hang around with me

1218
00:39:27,799 --> 00:39:32,288
a long time and he said it's time to

1219
00:39:29,390 --> 00:39:34,069
graduate and I was like no it's not I

1220
00:39:32,289 --> 00:39:36,020
didn't know that that was a little bit

1221
00:39:34,069 --> 00:39:37,609
weird to say it's a grad student but I

1222
00:39:36,020 --> 00:39:39,380
really wanted to do one more piece of

1223
00:39:37,609 --> 00:39:40,910
work I'd kind of come to grad school as

1224
00:39:39,380 --> 00:39:42,020
a more of a computer architecture

1225
00:39:40,910 --> 00:39:44,118
student and had been moving more and

1226
00:39:42,020 --> 00:39:45,259
more towards systems research and I

1227
00:39:44,119 --> 00:39:46,400
really felt like I want to do one more

1228
00:39:45,260 --> 00:39:48,109
thing that was really firmly in that

1229
00:39:46,400 --> 00:39:49,970
world that led to my dissertation on

1230
00:39:48,109 --> 00:39:52,279
this system called River which is kind

1231
00:39:49,970 --> 00:39:53,538
of this pre MapReduce data processing

1232
00:39:52,279 --> 00:39:55,039
system and more generally it really led

1233
00:39:53,539 --> 00:39:56,960
to a lifelong interest in storage in i/o

1234
00:39:55,039 --> 00:39:59,089
so by ignoring that advice not just

1235
00:39:56,960 --> 00:40:00,559
saying yes thank you and of course

1236
00:39:59,089 --> 00:40:03,500
Patterson being gracious enough to fund

1237
00:40:00,559 --> 00:40:06,109
me for another year I was I benefited by

1238
00:40:03,500 --> 00:40:08,930
not quite listening to that advice so

1239
00:40:06,109 --> 00:40:10,369
fine mentors get advice from them this

1240
00:40:08,930 --> 00:40:11,808
is useful throughout your career

1241
00:40:10,369 --> 00:40:12,920
don't have to always listen to the

1242
00:40:11,809 --> 00:40:15,339
advice but you should think about the

1243
00:40:12,920 --> 00:40:19,309
advice and then decide what to do

1244
00:40:15,339 --> 00:40:21,259
embrace rejection we are in a rejection

1245
00:40:19,309 --> 00:40:22,819
business now all of you successful

1246
00:40:21,259 --> 00:40:24,650
published authors that using the ex ATC

1247
00:40:22,819 --> 00:40:28,579
don't know this but sometimes papers get

1248
00:40:24,650 --> 00:40:30,319
rejected at these conferences a typical

1249
00:40:28,579 --> 00:40:32,630
conference has some hundreds of

1250
00:40:30,319 --> 00:40:34,519
submissions and say 40 or what's what

1251
00:40:32,630 --> 00:40:35,869
are we up to 70 in here which still

1252
00:40:34,519 --> 00:40:37,249
isn't that many if you think about it

1253
00:40:35,869 --> 00:40:39,529
there's still a lot of sad people at the

1254
00:40:37,249 --> 00:40:42,348
end so rejection is the common case and

1255
00:40:39,529 --> 00:40:43,969
it demands thick-skinned learn from your

1256
00:40:42,349 --> 00:40:45,529
mistakes avoid perfectionist thinking

1257
00:40:43,969 --> 00:40:45,829
that critique is there to make you

1258
00:40:45,529 --> 00:40:47,689
better

1259
00:40:45,829 --> 00:40:49,400
great Samuel Beckett quote ever try ever

1260
00:40:47,689 --> 00:40:52,969
fail no matter try again fail again fail

1261
00:40:49,400 --> 00:40:54,709
better I tried to a friend of mine Brian

1262
00:40:52,969 --> 00:40:56,239
Noble at the University of Michigan had

1263
00:40:54,709 --> 00:40:57,499
these great like laws of handling

1264
00:40:56,239 --> 00:41:00,019
rejection so I'll share them with you

1265
00:40:57,499 --> 00:41:00,919
here basically take each piece of advice

1266
00:41:00,019 --> 00:41:02,448
and you should be able to say one of

1267
00:41:00,920 --> 00:41:03,920
these three things one this is a great

1268
00:41:02,449 --> 00:41:06,769
idea this is how we're going to

1269
00:41:03,920 --> 00:41:09,109
incorporate in our paper from a review

1270
00:41:06,769 --> 00:41:10,819
to this is a great idea from a review

1271
00:41:09,109 --> 00:41:11,900
but it's so good we're going to put in

1272
00:41:10,819 --> 00:41:14,119
the next paper because it doesn't quite

1273
00:41:11,900 --> 00:41:17,150
make over this paper better and three

1274
00:41:14,119 --> 00:41:19,219
our paper led the reviewer astray here's

1275
00:41:17,150 --> 00:41:21,769
how we will fix the paper for the next

1276
00:41:19,219 --> 00:41:23,689
time you notice in no case is there

1277
00:41:21,769 --> 00:41:27,669
option four which is the reviewer is an

1278
00:41:23,689 --> 00:41:29,959
idiot that is a terrible way to take a

1279
00:41:27,670 --> 00:41:31,400
review and I always find this really

1280
00:41:29,959 --> 00:41:32,928
funny what I always say to somebody who

1281
00:41:31,400 --> 00:41:34,309
says hey this reviewers an idiot I'm

1282
00:41:32,929 --> 00:41:36,469
like why do you compete keep submitting

1283
00:41:34,309 --> 00:41:38,660
your papers to conferences who are full

1284
00:41:36,469 --> 00:41:40,880
of idiots why do you want to be in that

1285
00:41:38,660 --> 00:41:42,799
group so badly if they're all idiots

1286
00:41:40,880 --> 00:41:44,569
clearly they must not be that idiotic if

1287
00:41:42,799 --> 00:41:45,859
you want to be a part of that group so

1288
00:41:44,569 --> 00:41:47,630
it's a bad way to look at it a good way

1289
00:41:45,859 --> 00:41:49,308
to look at it is we just wrote it in a

1290
00:41:47,630 --> 00:41:50,660
way that they didn't get it and that's a

1291
00:41:49,309 --> 00:41:51,859
much healthier way to look at it of

1292
00:41:50,660 --> 00:41:53,890
course once in a while you know you want

1293
00:41:51,859 --> 00:41:56,239
to vent but most the time you shouldn't

1294
00:41:53,890 --> 00:41:57,618
and there's a quote from a movie that I

1295
00:41:56,239 --> 00:42:00,289
like it's called Jacob's Ladder probably

1296
00:41:57,619 --> 00:42:02,509
most of you haven't seen it but it's I

1297
00:42:00,289 --> 00:42:04,069
think apropos it's if you're frightened

1298
00:42:02,509 --> 00:42:06,319
of dying and you're holding on you'll

1299
00:42:04,069 --> 00:42:07,640
see devils tearing your life away but if

1300
00:42:06,319 --> 00:42:09,619
you've made your peace then the Devils

1301
00:42:07,640 --> 00:42:11,150
are really angels freeing you from the

1302
00:42:09,619 --> 00:42:11,900
earth it's just a matter of how you look

1303
00:42:11,150 --> 00:42:15,319
at it that's all

1304
00:42:11,900 --> 00:42:18,690
so reviewers are actually angels not the

1305
00:42:15,319 --> 00:42:20,759
devils that you sometimes think they are

1306
00:42:18,690 --> 00:42:22,440
in any case there's a really nice

1307
00:42:20,760 --> 00:42:24,030
example of this I was looking for one

1308
00:42:22,440 --> 00:42:25,050
that you know talked about the review

1309
00:42:24,030 --> 00:42:26,099
process and how it can be really

1310
00:42:25,050 --> 00:42:27,599
positive and that really the best

1311
00:42:26,099 --> 00:42:30,780
example I found was from Dave Anderson

1312
00:42:27,599 --> 00:42:32,220
at CMU it's about their fond paper a

1313
00:42:30,780 --> 00:42:34,050
great paper that was published in SOS

1314
00:42:32,220 --> 00:42:36,299
po9 and what he shared on that on that

1315
00:42:34,050 --> 00:42:37,859
and his blog post was actually the

1316
00:42:36,300 --> 00:42:40,349
review process of OSD io8

1317
00:42:37,859 --> 00:42:41,880
the year before and this is when I'll

1318
00:42:40,349 --> 00:42:43,770
show us a review quotes that he gave

1319
00:42:41,880 --> 00:42:45,750
gave and then his response to the review

1320
00:42:43,770 --> 00:42:47,190
the review said as it stands it will

1321
00:42:45,750 --> 00:42:48,450
need serious amounts of both rewriting

1322
00:42:47,190 --> 00:42:49,740
and more importantly real technical work

1323
00:42:48,450 --> 00:42:51,770
to make him to the truly gave great

1324
00:42:49,740 --> 00:42:53,700
paper it should and perhaps could be

1325
00:42:51,770 --> 00:42:56,220
Anderson's response which i think is

1326
00:42:53,700 --> 00:42:57,480
super interesting is if you have a

1327
00:42:56,220 --> 00:42:58,799
chance to honestly say something like

1328
00:42:57,480 --> 00:43:00,150
that in a paper review instead of just

1329
00:42:58,800 --> 00:43:01,710
being hard to do so anyone submitting a

1330
00:43:00,150 --> 00:43:03,359
paper is inviting criticism not just of

1331
00:43:01,710 --> 00:43:04,950
the paper but of the work and when your

1332
00:43:03,359 --> 00:43:06,328
paper is rejected you always end up

1333
00:43:04,950 --> 00:43:09,029
asking is this work worth continuing

1334
00:43:06,329 --> 00:43:11,040
it's very helpful as a reviewer to be

1335
00:43:09,030 --> 00:43:12,089
clear what you're talking about but when

1336
00:43:11,040 --> 00:43:13,680
you're talking about the paper has

1337
00:43:12,089 --> 00:43:15,359
submitted being bad or the idea in

1338
00:43:13,680 --> 00:43:17,040
general being bad don't assume the

1339
00:43:15,359 --> 00:43:18,480
authors are as robust as you they may be

1340
00:43:17,040 --> 00:43:19,440
first or second year PhD students

1341
00:43:18,480 --> 00:43:20,430
submitting their first paper you

1342
00:43:19,440 --> 00:43:22,109
probably freaked out a bit the first

1343
00:43:20,430 --> 00:43:24,000
time you had a paper rejected I know I

1344
00:43:22,109 --> 00:43:26,009
did and then the second thing he said

1345
00:43:24,000 --> 00:43:27,900
from the review was he took this quote

1346
00:43:26,010 --> 00:43:29,520
from the review the PC like much of this

1347
00:43:27,900 --> 00:43:31,079
paper but felt it was premature please

1348
00:43:29,520 --> 00:43:32,130
focus on finishing the work itself

1349
00:43:31,079 --> 00:43:33,329
bringing out was interesting and novel

1350
00:43:32,130 --> 00:43:34,859
from the perspective of software

1351
00:43:33,329 --> 00:43:36,720
architecture and scaling to a larger

1352
00:43:34,859 --> 00:43:38,880
number of nodes the PC looks forward to

1353
00:43:36,720 --> 00:43:40,200
seeing the improved mature version of

1354
00:43:38,880 --> 00:43:42,329
the work at the next major conference

1355
00:43:40,200 --> 00:43:45,180
and Anderson's response which i think is

1356
00:43:42,329 --> 00:43:46,589
so mature and I've always pointed this

1357
00:43:45,180 --> 00:43:48,598
to a students saying this is like how we

1358
00:43:46,589 --> 00:43:49,890
should be is this is one review when we

1359
00:43:48,599 --> 00:43:51,270
read it and sprinted back to the lab to

1360
00:43:49,890 --> 00:43:53,578
try to make the best damn paper we could

1361
00:43:51,270 --> 00:43:55,349
right so what a great response and in

1362
00:43:53,579 --> 00:43:58,170
fact where I first noticed this was I

1363
00:43:55,349 --> 00:44:00,450
noticed in the SOS po9 paper on fawn

1364
00:43:58,170 --> 00:44:02,339
they actually thanked the OSD IO 8

1365
00:44:00,450 --> 00:44:04,200
program committee very unusual to

1366
00:44:02,339 --> 00:44:06,390
basically point out where your paper got

1367
00:44:04,200 --> 00:44:08,118
rejected as it got there and then I

1368
00:44:06,390 --> 00:44:10,710
really appreciate that he wrote this out

1369
00:44:08,119 --> 00:44:12,960
so embrace rejection rejection is part

1370
00:44:10,710 --> 00:44:14,250
of what we do it's ok like we said at

1371
00:44:12,960 --> 00:44:16,440
the beginning it's hard to have good

1372
00:44:14,250 --> 00:44:18,480
ideas so they're gonna be rejected

1373
00:44:16,440 --> 00:44:20,460
sometimes it's ok

1374
00:44:18,480 --> 00:44:22,920
improve your communication this is

1375
00:44:20,460 --> 00:44:24,240
pretty obvious to written oral of course

1376
00:44:22,920 --> 00:44:25,980
well-written papers are more likely to

1377
00:44:24,240 --> 00:44:27,149
be accepted and this other thing is that

1378
00:44:25,980 --> 00:44:29,849
people sometimes don't appreciate is

1379
00:44:27,150 --> 00:44:31,530
when you write down thoughts it just

1380
00:44:29,849 --> 00:44:33,660
really helps clarify what your what your

1381
00:44:31,530 --> 00:44:35,220
to do there's a great quote I write to

1382
00:44:33,660 --> 00:44:36,390
discover what I know and that's happened

1383
00:44:35,220 --> 00:44:38,669
to us many many times throughout her

1384
00:44:36,390 --> 00:44:40,170
career of course that's also in terms of

1385
00:44:38,670 --> 00:44:42,240
oral communication give as many talks as

1386
00:44:40,170 --> 00:44:43,710
you can that's why it's great to be a

1387
00:44:42,240 --> 00:44:44,790
professor whether you like it or not

1388
00:44:43,710 --> 00:44:46,590
you're in front of a class you get to

1389
00:44:44,790 --> 00:44:48,390
practice talking all the time it's ok to

1390
00:44:46,590 --> 00:44:48,960
be nervous at first get feedback on

1391
00:44:48,390 --> 00:44:51,600
these things

1392
00:44:48,960 --> 00:44:53,400
Hamming said famously you should spend

1393
00:44:51,600 --> 00:44:54,630
at least half as much time half as much

1394
00:44:53,400 --> 00:44:55,680
time in the presentation of the work is

1395
00:44:54,630 --> 00:44:57,030
he doing the work itself so you should

1396
00:44:55,680 --> 00:44:58,379
spend like half your time talking about

1397
00:44:57,030 --> 00:44:59,580
your work and communicating about your

1398
00:44:58,380 --> 00:45:02,580
work otherwise no one will know anything

1399
00:44:59,580 --> 00:45:05,340
about it my example of that is my first

1400
00:45:02,580 --> 00:45:06,630
talks that I gave in my life my as an

1401
00:45:05,340 --> 00:45:08,730
undergrad I didn't really give many I

1402
00:45:06,630 --> 00:45:10,770
remember one particular one I gave in a

1403
00:45:08,730 --> 00:45:12,540
German class this is a class with 8

1404
00:45:10,770 --> 00:45:15,330
students in it and I had to give like a

1405
00:45:12,540 --> 00:45:16,710
five-minute presentation in German in

1406
00:45:15,330 --> 00:45:18,930
front of these 8 students and the

1407
00:45:16,710 --> 00:45:21,480
professor and I literally almost passed

1408
00:45:18,930 --> 00:45:23,520
out just walking to the podium I was so

1409
00:45:21,480 --> 00:45:25,500
nervous I'm like I'm not gonna be able

1410
00:45:23,520 --> 00:45:27,990
to do this I only wish that I had a

1411
00:45:25,500 --> 00:45:30,060
video of this so I could relive the

1412
00:45:27,990 --> 00:45:32,129
tragedy of that German talk that I gave

1413
00:45:30,060 --> 00:45:33,779
that one time and I said undergrad and

1414
00:45:32,130 --> 00:45:35,160
then I arrived at grad school and of

1415
00:45:33,780 --> 00:45:36,960
course why is that like I went to grad

1416
00:45:35,160 --> 00:45:38,580
school and I'm like this is fantastic

1417
00:45:36,960 --> 00:45:40,140
I'll finally get to just focus on doing

1418
00:45:38,580 --> 00:45:42,600
technical work none of this other stuff

1419
00:45:40,140 --> 00:45:46,319
where you have to talk or write or any

1420
00:45:42,600 --> 00:45:47,610
of that business and the first week my

1421
00:45:46,320 --> 00:45:49,290
advisor gave me an assignment which was

1422
00:45:47,610 --> 00:45:50,550
hey we're starting this new project was

1423
00:45:49,290 --> 00:45:51,750
called the now project network of

1424
00:45:50,550 --> 00:45:53,130
workstations where we're starting to

1425
00:45:51,750 --> 00:45:54,990
understand that clusters might be useful

1426
00:45:53,130 --> 00:45:56,790
to build our scale computer systems and

1427
00:45:54,990 --> 00:45:58,589
he's like why don't you read about

1428
00:45:56,790 --> 00:46:01,410
network interfaces and then give a talk

1429
00:45:58,590 --> 00:46:03,540
to the group the next week now not only

1430
00:46:01,410 --> 00:46:05,670
did that tickle my fear of giving talks

1431
00:46:03,540 --> 00:46:07,800
in public but it also was the case that

1432
00:46:05,670 --> 00:46:10,320
in terms of network interfaces in the

1433
00:46:07,800 --> 00:46:12,180
room they were going to be many experts

1434
00:46:10,320 --> 00:46:13,770
in network interfaces that knew way more

1435
00:46:12,180 --> 00:46:16,379
about network interfaces and certainly I

1436
00:46:13,770 --> 00:46:18,930
did then or even I do now

1437
00:46:16,380 --> 00:46:22,050
so it was a tough audience and you know

1438
00:46:18,930 --> 00:46:25,830
my my reaction to that of course was oh

1439
00:46:22,050 --> 00:46:28,170
I have to quit graduate school I've been

1440
00:46:25,830 --> 00:46:30,210
here one week and the worst thing that

1441
00:46:28,170 --> 00:46:31,920
could I imagine happening and somehow I

1442
00:46:30,210 --> 00:46:33,060
stumbled through it and like a lot of

1443
00:46:31,920 --> 00:46:34,830
times I tell the story to people they're

1444
00:46:33,060 --> 00:46:36,270
like you look pretty comfortable now it

1445
00:46:34,830 --> 00:46:38,490
sounds like you're making this up and

1446
00:46:36,270 --> 00:46:40,380
it's literally just practice you just

1447
00:46:38,490 --> 00:46:41,850
practice and at some point you realize

1448
00:46:40,380 --> 00:46:43,830
you know I can't even see who you are

1449
00:46:41,850 --> 00:46:45,130
and if you're sleeping or whatever so

1450
00:46:43,830 --> 00:46:46,779
you just get over it it's not that

1451
00:46:45,130 --> 00:46:48,700
of a deal I've made many mistakes in

1452
00:46:46,779 --> 00:46:51,369
public I say all sorts of stupid things

1453
00:46:48,700 --> 00:46:53,288
I'm still still going forward so improve

1454
00:46:51,369 --> 00:46:56,890
your communication and mostly through

1455
00:46:53,289 --> 00:47:01,029
practice last couple points how am i

1456
00:46:56,890 --> 00:47:02,589
doing in time I'll finish soon you

1457
00:47:01,029 --> 00:47:04,599
started late though didn't you

1458
00:47:02,589 --> 00:47:08,049
I started yeah okay all right I blame

1459
00:47:04,599 --> 00:47:09,910
Danny so fine find what you like and

1460
00:47:08,049 --> 00:47:11,950
find what you do well and both of those

1461
00:47:09,910 --> 00:47:13,180
things are important so a lot of

1462
00:47:11,950 --> 00:47:14,769
research at the beginning you have to

1463
00:47:13,180 --> 00:47:16,690
develop taste like figure out what you

1464
00:47:14,769 --> 00:47:18,069
actually want to work on and there's a

1465
00:47:16,690 --> 00:47:20,410
great quotes from Eric Kandel he's a

1466
00:47:18,069 --> 00:47:23,170
Nobel Prize winner in biology and he is

1467
00:47:20,410 --> 00:47:25,390
this fast fascinating and to some extent

1468
00:47:23,170 --> 00:47:27,279
heart-rending a bi autobiography which

1469
00:47:25,390 --> 00:47:28,569
you should certainly read if you can and

1470
00:47:27,279 --> 00:47:30,250
hit a quote that I took from that was

1471
00:47:28,569 --> 00:47:31,990
maturation as a scientist involves many

1472
00:47:30,250 --> 00:47:33,819
components but a key one for me was the

1473
00:47:31,990 --> 00:47:35,649
development of taste much as it is in

1474
00:47:33,819 --> 00:47:37,240
the enjoyment of our music food or wine

1475
00:47:35,650 --> 00:47:38,950
one needs to learn what problems are

1476
00:47:37,240 --> 00:47:40,419
important I sense myself developing

1477
00:47:38,950 --> 00:47:41,740
taste distinguishing what was

1478
00:47:40,420 --> 00:47:42,789
interesting from what was not and among

1479
00:47:41,740 --> 00:47:44,558
those things that were interesting I

1480
00:47:42,789 --> 00:47:45,549
also learned what was doable so it's

1481
00:47:44,559 --> 00:47:47,980
interesting he talks about both those

1482
00:47:45,549 --> 00:47:49,420
things about developing taste figure out

1483
00:47:47,980 --> 00:47:50,890
what you want to work on and then also

1484
00:47:49,420 --> 00:47:52,599
what you can do so he want to learn

1485
00:47:50,890 --> 00:47:54,368
about brains instead he studied those

1486
00:47:52,599 --> 00:47:55,180
sea slugs at the top you want to learn

1487
00:47:54,369 --> 00:47:56,950
about human brains they're too

1488
00:47:55,180 --> 00:47:58,839
complicated so instead he studied the

1489
00:47:56,950 --> 00:48:00,210
full neural circuitry of that sea slug

1490
00:47:58,839 --> 00:48:02,500
and that's why you want a Nobel Prize

1491
00:48:00,210 --> 00:48:04,210
and so finding what you do well is kind

1492
00:48:02,500 --> 00:48:05,950
of related to that it's it's related to

1493
00:48:04,210 --> 00:48:07,539
things you're interested in but you have

1494
00:48:05,950 --> 00:48:09,700
to be able to do it well right and that

1495
00:48:07,539 --> 00:48:11,140
requires some level of self-awareness

1496
00:48:09,700 --> 00:48:12,549
you know those who could do good science

1497
00:48:11,140 --> 00:48:14,259
do so because they choose problems that

1498
00:48:12,549 --> 00:48:15,730
are suited to them said Lee Smolin and

1499
00:48:14,259 --> 00:48:18,430
his fascinating book called the trouble

1500
00:48:15,730 --> 00:48:19,990
with physics so our example of this was

1501
00:48:18,430 --> 00:48:21,759
a student a student was working on

1502
00:48:19,990 --> 00:48:24,220
something a project we were calling a

1503
00:48:21,759 --> 00:48:24,940
practice students named astonied and he

1504
00:48:24,220 --> 00:48:26,890
was working on this thing called

1505
00:48:24,940 --> 00:48:28,569
fractured processes the idea was to

1506
00:48:26,890 --> 00:48:30,098
carve a monolithic process down into

1507
00:48:28,569 --> 00:48:31,390
smaller components and then have each of

1508
00:48:30,099 --> 00:48:32,980
them be restartable much in this kind of

1509
00:48:31,390 --> 00:48:34,750
micro reboot work that people had done

1510
00:48:32,980 --> 00:48:36,279
kind of a follow-on to that and really

1511
00:48:34,750 --> 00:48:38,079
we spent years on this a couple years

1512
00:48:36,279 --> 00:48:39,730
student was totally frustrated paper

1513
00:48:38,079 --> 00:48:41,529
kept getting rejected eventually

1514
00:48:39,730 --> 00:48:43,210
published in try offices like if finally

1515
00:48:41,529 --> 00:48:44,740
we got done with that work and the poor

1516
00:48:43,210 --> 00:48:46,869
student was then faced with this I'm not

1517
00:48:44,740 --> 00:48:48,008
sure I'm gonna get a PhD and what we

1518
00:48:46,869 --> 00:48:49,660
kind of came to is let's just try one

1519
00:48:48,009 --> 00:48:51,309
more problem and he started working on

1520
00:48:49,660 --> 00:48:53,710
crash consistency and it really kind of

1521
00:48:51,309 --> 00:48:54,970
took off like a rocket and if we wrote a

1522
00:48:53,710 --> 00:48:56,950
paper that end up publisher notice the

1523
00:48:54,970 --> 00:48:58,089
eye of this tool called Alice and and

1524
00:48:56,950 --> 00:48:58,750
then some follow-on work and it's really

1525
00:48:58,089 --> 00:49:00,730
influenced about

1526
00:48:58,750 --> 00:49:03,130
our subsequent paper and he was amazing

1527
00:49:00,730 --> 00:49:05,620
and all this work and the success really

1528
00:49:03,130 --> 00:49:07,090
came it wasn't just a factor of the

1529
00:49:05,620 --> 00:49:08,350
student it was the problem matching the

1530
00:49:07,090 --> 00:49:09,610
student and I think that's something you

1531
00:49:08,350 --> 00:49:11,080
always have to think about what are you

1532
00:49:09,610 --> 00:49:13,090
interested in but also what can you do

1533
00:49:11,080 --> 00:49:15,190
well and if you don't match us the two

1534
00:49:13,090 --> 00:49:17,560
things it's often troublesome now that's

1535
00:49:15,190 --> 00:49:19,660
a little bit problematic advice because

1536
00:49:17,560 --> 00:49:20,980
for an advisor you're always trying to

1537
00:49:19,660 --> 00:49:22,629
judge is this student gonna kind of get

1538
00:49:20,980 --> 00:49:23,530
through the ph.d process and if it just

1539
00:49:22,630 --> 00:49:25,030
turns out they're working on the wrong

1540
00:49:23,530 --> 00:49:26,110
problem you have a very fundamental

1541
00:49:25,030 --> 00:49:27,880
problem you can't just judge them and

1542
00:49:26,110 --> 00:49:29,140
say hey this isn't gonna work out you

1543
00:49:27,880 --> 00:49:30,460
might be that they're working on the

1544
00:49:29,140 --> 00:49:31,779
wrong problem right and so that's

1545
00:49:30,460 --> 00:49:33,580
something that certainly I've thought

1546
00:49:31,780 --> 00:49:35,410
about a lot so I was going to talk a

1547
00:49:33,580 --> 00:49:37,900
little bit about Alice but I'm gonna

1548
00:49:35,410 --> 00:49:40,390
skip that part for the sake of just

1549
00:49:37,900 --> 00:49:41,950
getting done kind of on time but you can

1550
00:49:40,390 --> 00:49:43,540
read about it this is just kind of shows

1551
00:49:41,950 --> 00:49:45,970
if you're just trying to update a file

1552
00:49:43,540 --> 00:49:48,730
atomically actually how much work it is

1553
00:49:45,970 --> 00:49:50,410
like to bright up correct file update

1554
00:49:48,730 --> 00:49:52,240
protocol at application level that's

1555
00:49:50,410 --> 00:49:53,620
what we studied in that work it requires

1556
00:49:52,240 --> 00:49:57,279
a lot of thought other than just

1557
00:49:53,620 --> 00:49:59,380
overriding the file so and that was

1558
00:49:57,280 --> 00:50:00,970
Alice summary so that worked and led to

1559
00:49:59,380 --> 00:50:02,470
that we understood these things called

1560
00:50:00,970 --> 00:50:04,419
persistence properties that file systems

1561
00:50:02,470 --> 00:50:06,069
have in exposed to applications we

1562
00:50:04,420 --> 00:50:07,300
studied application update protocols and

1563
00:50:06,070 --> 00:50:08,800
they were all very varied and had

1564
00:50:07,300 --> 00:50:10,840
vulnerabilities and bugs that assume

1565
00:50:08,800 --> 00:50:12,420
things about file systems and that even

1566
00:50:10,840 --> 00:50:13,930
battle-tested applications like

1567
00:50:12,420 --> 00:50:15,670
databases have been out in the field

1568
00:50:13,930 --> 00:50:16,810
three years had bugs in them because

1569
00:50:15,670 --> 00:50:17,830
they were assuming something about file

1570
00:50:16,810 --> 00:50:20,020
systems that had changed

1571
00:50:17,830 --> 00:50:21,490
so sorry I can't talk about that more so

1572
00:50:20,020 --> 00:50:22,750
find what you like and find what you do

1573
00:50:21,490 --> 00:50:24,640
well and think about both of those

1574
00:50:22,750 --> 00:50:27,580
things okay

1575
00:50:24,640 --> 00:50:30,549
last couple points next last point is

1576
00:50:27,580 --> 00:50:31,630
listen listen is a little bit more

1577
00:50:30,550 --> 00:50:33,100
general than just the research process

1578
00:50:31,630 --> 00:50:34,870
it kind of relates and perhaps more to

1579
00:50:33,100 --> 00:50:37,150
teaching I've noticed this though and a

1580
00:50:34,870 --> 00:50:38,740
lot of I've gotten a great benefit in my

1581
00:50:37,150 --> 00:50:42,460
life of interacting with a lot of very

1582
00:50:38,740 --> 00:50:44,410
well-known researchers like my advisor

1583
00:50:42,460 --> 00:50:46,240
you know Jim Gray I mentioned a few

1584
00:50:44,410 --> 00:50:48,520
times you know how lucky it is for any

1585
00:50:46,240 --> 00:50:50,259
person to be involved with such people

1586
00:50:48,520 --> 00:50:51,700
and get to learn from them and what I

1587
00:50:50,260 --> 00:50:53,680
always found it very remarkable about

1588
00:50:51,700 --> 00:50:54,939
them these are people who can be as

1589
00:50:53,680 --> 00:50:56,950
articulate as anyone else make a

1590
00:50:54,940 --> 00:50:59,380
forceful point as anyone else you know

1591
00:50:56,950 --> 00:51:00,819
talk you know talk compellingly about

1592
00:50:59,380 --> 00:51:03,370
whatever they're working and what these

1593
00:51:00,820 --> 00:51:04,510
people I always found did was that they

1594
00:51:03,370 --> 00:51:06,009
were willing to listen to you when you

1595
00:51:04,510 --> 00:51:07,720
talked to them and then hear what you're

1596
00:51:06,010 --> 00:51:09,430
saying and then react to that Jim Gray

1597
00:51:07,720 --> 00:51:10,629
for example would when he would come to

1598
00:51:09,430 --> 00:51:11,640
he would come to Wisconsin after we are

1599
00:51:10,630 --> 00:51:13,320
new professors there

1600
00:51:11,640 --> 00:51:14,910
and he would just say make sure we have

1601
00:51:13,320 --> 00:51:17,400
some hours for the grad students and he

1602
00:51:14,910 --> 00:51:18,890
would sit with grad students for hours

1603
00:51:17,400 --> 00:51:21,210
and just talk about what they're doing

1604
00:51:18,890 --> 00:51:24,240
and how remarkable is that for someone

1605
00:51:21,210 --> 00:51:26,160
so you know so successful to be so

1606
00:51:24,240 --> 00:51:28,109
willing just to spend hours in the

1607
00:51:26,160 --> 00:51:29,730
details with people so listening is good

1608
00:51:28,110 --> 00:51:31,530
and our experience I'll given that was

1609
00:51:29,730 --> 00:51:32,730
kind of a teaching story teaching and

1610
00:51:31,530 --> 00:51:34,920
research are really quite related

1611
00:51:32,730 --> 00:51:36,360
actually that when you repeatedly

1612
00:51:34,920 --> 00:51:37,770
revisit fundamentals of things as a

1613
00:51:36,360 --> 00:51:39,150
teacher I think you think about them

1614
00:51:37,770 --> 00:51:40,590
differently and the four can make your

1615
00:51:39,150 --> 00:51:42,030
research better and it's also an

1616
00:51:40,590 --> 00:51:43,560
opportunity to listen listen to students

1617
00:51:42,030 --> 00:51:44,820
ask questions about material every time

1618
00:51:43,560 --> 00:51:46,470
I questions asked by student in the

1619
00:51:44,820 --> 00:51:48,810
class it means you didn't quite explain

1620
00:51:46,470 --> 00:51:50,310
it properly and so there's you know the

1621
00:51:48,810 --> 00:51:51,390
way I like to think about it is when I

1622
00:51:50,310 --> 00:51:52,620
used to think about teaching you so I

1623
00:51:51,390 --> 00:51:54,569
think it's the professor telling the

1624
00:51:52,620 --> 00:51:56,279
students something but really it's it's

1625
00:51:54,570 --> 00:51:57,450
a cycle right you say something the

1626
00:51:56,280 --> 00:51:59,370
student asks a question and then you

1627
00:51:57,450 --> 00:52:02,549
learn better how to say those things so

1628
00:51:59,370 --> 00:52:04,170
those same questions don't come up our

1629
00:52:02,550 --> 00:52:05,640
experience which damage at the beginning

1630
00:52:04,170 --> 00:52:07,710
with with this free operating systems

1631
00:52:05,640 --> 00:52:08,970
book developed we didn't really set out

1632
00:52:07,710 --> 00:52:10,950
to write a book it just kind of happened

1633
00:52:08,970 --> 00:52:13,379
organically and all because students

1634
00:52:10,950 --> 00:52:15,359
kind of asked questions and you know

1635
00:52:13,380 --> 00:52:16,830
like you can go buy a hardcover now we

1636
00:52:15,360 --> 00:52:19,230
printed ourselves it's downloaded a lot

1637
00:52:16,830 --> 00:52:21,150
whatever but really how it started was

1638
00:52:19,230 --> 00:52:22,380
this two questions one asked by two

1639
00:52:21,150 --> 00:52:23,820
different students and I'll just share

1640
00:52:22,380 --> 00:52:26,520
this is really my last story and then

1641
00:52:23,820 --> 00:52:28,110
I'll say thanks student for the first

1642
00:52:26,520 --> 00:52:29,640
student that asked this question I'd

1643
00:52:28,110 --> 00:52:31,410
been teaching the OS class for some

1644
00:52:29,640 --> 00:52:32,879
years at Wisconsin and Andre and I had

1645
00:52:31,410 --> 00:52:34,980
been developing our own kind of lecture

1646
00:52:32,880 --> 00:52:36,450
notes but we just use one of the

1647
00:52:34,980 --> 00:52:38,610
standard textbooks there's many out

1648
00:52:36,450 --> 00:52:40,980
there at the time and one student asked

1649
00:52:38,610 --> 00:52:43,260
me is this book required for the class

1650
00:52:40,980 --> 00:52:45,480
is this textbook required I said well

1651
00:52:43,260 --> 00:52:46,800
you know look I teach stuff in class

1652
00:52:45,480 --> 00:52:48,090
it's not like we're following the book

1653
00:52:46,800 --> 00:52:49,710
we have our own notes that we're

1654
00:52:48,090 --> 00:52:51,660
following but it's nice to have a

1655
00:52:49,710 --> 00:52:53,340
different source so kind of yeah but I

1656
00:52:51,660 --> 00:52:54,720
for whatever reason I kind of tried to

1657
00:52:53,340 --> 00:52:56,460
listen to the student and I said well

1658
00:52:54,720 --> 00:52:58,649
why do you ask that question and the

1659
00:52:56,460 --> 00:53:01,800
student said very humbly I can't really

1660
00:52:58,650 --> 00:53:04,710
afford the book and I was so embarrassed

1661
00:53:01,800 --> 00:53:06,900
of myself that I never considered that

1662
00:53:04,710 --> 00:53:08,610
that I said from that moment on I'm

1663
00:53:06,900 --> 00:53:11,970
never gonna force a student to buy

1664
00:53:08,610 --> 00:53:13,680
expensive textbook again so that was

1665
00:53:11,970 --> 00:53:15,299
that I just had come to class you know

1666
00:53:13,680 --> 00:53:16,740
I'll write on the chalkboard you take

1667
00:53:15,300 --> 00:53:18,510
notes that's how we'll do class from now

1668
00:53:16,740 --> 00:53:21,330
on students seem kind of excited about

1669
00:53:18,510 --> 00:53:22,890
it one less thing to buy but then

1670
00:53:21,330 --> 00:53:25,020
student two came up about a week later

1671
00:53:22,890 --> 00:53:26,120
and sidon two said well what do I do if

1672
00:53:25,020 --> 00:53:28,259
I miss

1673
00:53:26,120 --> 00:53:30,359
I'm like well why do you miss class he

1674
00:53:28,260 --> 00:53:35,220
said well sometimes I oversleep I said

1675
00:53:30,360 --> 00:53:36,930
it's one o'clock this true story like

1676
00:53:35,220 --> 00:53:38,399
you can wake up and he's like well

1677
00:53:36,930 --> 00:53:39,660
sometimes I'm out of town or whatever

1678
00:53:38,400 --> 00:53:42,030
okay fine

1679
00:53:39,660 --> 00:53:43,200
so I you know I we had like I said Andre

1680
00:53:42,030 --> 00:53:44,550
and I had developed these notes enough

1681
00:53:43,200 --> 00:53:46,230
and so what I just did that semester

1682
00:53:44,550 --> 00:53:48,270
because of that question that I listen

1683
00:53:46,230 --> 00:53:49,950
to was I would go back to my office and

1684
00:53:48,270 --> 00:53:51,600
just kind of write down what I had just

1685
00:53:49,950 --> 00:53:53,250
said it was right in my head I could

1686
00:53:51,600 --> 00:53:55,650
write it down and I found that I kind of

1687
00:53:53,250 --> 00:53:57,530
enjoyed that process and that's why we

1688
00:53:55,650 --> 00:54:01,110
got to this free operating systems book

1689
00:53:57,530 --> 00:54:03,150
so listen and then finally it's the

1690
00:54:01,110 --> 00:54:04,650
people stupid of course all of this work

1691
00:54:03,150 --> 00:54:07,260
that any work that I talked about I did

1692
00:54:04,650 --> 00:54:09,360
very little of it like I said it's with

1693
00:54:07,260 --> 00:54:10,800
my wife here's all these PhD students

1694
00:54:09,360 --> 00:54:12,180
we've had these amazing we were so lucky

1695
00:54:10,800 --> 00:54:14,820
we've had so many great students over

1696
00:54:12,180 --> 00:54:16,859
the years some postdocs many masters and

1697
00:54:14,820 --> 00:54:18,480
undergrad students too they did all the

1698
00:54:16,860 --> 00:54:19,800
work and when you look back at the work

1699
00:54:18,480 --> 00:54:21,630
it's sure it's fun to talk about the

1700
00:54:19,800 --> 00:54:23,250
technical things you did but what you

1701
00:54:21,630 --> 00:54:26,400
really end up remembering are the people

1702
00:54:23,250 --> 00:54:29,040
and so at the end of the day you should

1703
00:54:26,400 --> 00:54:32,240
remember that I think too so that's my

1704
00:54:29,040 --> 00:54:32,240
talk thank you very much

1705
00:54:38,100 --> 00:54:42,400
so I don't know how do we have time for

1706
00:54:40,390 --> 00:54:44,529
any questions or do people actually have

1707
00:54:42,400 --> 00:54:46,000
any questions or the next person should

1708
00:54:44,530 --> 00:54:49,180
get set up and then I'll be happy to

1709
00:54:46,000 --> 00:54:52,560
talk to you Oh as well I'll fly who's

1710
00:54:49,180 --> 00:54:52,560
next by the way it's lightning talks

1711
00:54:55,680 --> 00:54:59,500
okay well whatever if people have a

1712
00:54:58,060 --> 00:55:00,820
question I found that when I give these

1713
00:54:59,500 --> 00:55:02,170
advice talks nobody wants to ask

1714
00:55:00,820 --> 00:55:07,630
questions but if you have a question I'd

1715
00:55:02,170 --> 00:55:12,400
be happy to entertain it well I'll take

1716
00:55:07,630 --> 00:55:14,110
a shot strict Pharaoh Ramses one of the

1717
00:55:12,400 --> 00:55:15,970
things that I was struck as I was

1718
00:55:14,110 --> 00:55:19,090
listening to you when you're going

1719
00:55:15,970 --> 00:55:21,459
through examples of successful papers

1720
00:55:19,090 --> 00:55:24,040
it's how practical a lot of the things

1721
00:55:21,460 --> 00:55:25,150
that you came up with there were things

1722
00:55:24,040 --> 00:55:27,400
that could be used in the word

1723
00:55:25,150 --> 00:55:29,050
real-world so you want to speak to I

1724
00:55:27,400 --> 00:55:32,440
mean I don't know whether that was by

1725
00:55:29,050 --> 00:55:33,790
design and by accident so you want to

1726
00:55:32,440 --> 00:55:37,360
speak to that yeah thanks for that

1727
00:55:33,790 --> 00:55:40,150
question so yeah I guess the way we

1728
00:55:37,360 --> 00:55:41,680
viewed it is you know one thing you do

1729
00:55:40,150 --> 00:55:43,150
when you arrive look at a new

1730
00:55:41,680 --> 00:55:44,319
institution and you're like a young

1731
00:55:43,150 --> 00:55:46,300
professor is you have to think a little

1732
00:55:44,320 --> 00:55:47,710
bit about how am I going to kind of move

1733
00:55:46,300 --> 00:55:51,010
the world forward what part of the world

1734
00:55:47,710 --> 00:55:53,950
am I going to focus on and I guess what

1735
00:55:51,010 --> 00:55:56,140
we saw at that time was there was this

1736
00:55:53,950 --> 00:55:58,779
large systems community that we wanted

1737
00:55:56,140 --> 00:56:01,420
to be a part of right you know OS the

1738
00:55:58,780 --> 00:56:02,980
ISO SPU's next event eventually fast and

1739
00:56:01,420 --> 00:56:04,030
the other conferences so there's a

1740
00:56:02,980 --> 00:56:05,290
research community wanna be a part of

1741
00:56:04,030 --> 00:56:08,590
and we notice that there was this

1742
00:56:05,290 --> 00:56:10,360
storage industry which had lots of

1743
00:56:08,590 --> 00:56:12,700
interesting stuff going on had lots of

1744
00:56:10,360 --> 00:56:15,340
actually you know resources people money

1745
00:56:12,700 --> 00:56:17,049
and they weren't that connected so we

1746
00:56:15,340 --> 00:56:18,520
did make a little bit of a decision to

1747
00:56:17,050 --> 00:56:20,080
like hey we should go kind of go learn

1748
00:56:18,520 --> 00:56:21,910
about that world that talked to industry

1749
00:56:20,080 --> 00:56:23,350
point and I think that's just always

1750
00:56:21,910 --> 00:56:25,060
influenced kind of how we do work is

1751
00:56:23,350 --> 00:56:26,470
that we say we start with something that

1752
00:56:25,060 --> 00:56:29,259
could be connected to the real world

1753
00:56:26,470 --> 00:56:31,330
instead of just making up a problem so

1754
00:56:29,260 --> 00:56:33,430
perhaps that's where that came from and

1755
00:56:31,330 --> 00:56:34,779
you know to the extent that we can we

1756
00:56:33,430 --> 00:56:36,430
try to do things that are practical

1757
00:56:34,780 --> 00:56:38,890
because in and we're systems researchers

1758
00:56:36,430 --> 00:56:40,839
right so that we should be connected to

1759
00:56:38,890 --> 00:56:42,670
the real world in some way it probably

1760
00:56:40,840 --> 00:56:44,410
has its strengths and weaknesses it may

1761
00:56:42,670 --> 00:56:47,200
sometimes make you know work a little

1762
00:56:44,410 --> 00:56:49,589
closer to the boundaries of what exists

1763
00:56:47,200 --> 00:56:51,419
today but it also has that power

1764
00:56:49,590 --> 00:56:54,630
quality I think of maybe being more

1765
00:56:51,420 --> 00:57:02,490
realistic so maybe that's it okay thanks

1766
00:56:54,630 --> 00:57:04,740
yeah thanks rmz there are I probably

1767
00:57:02,490 --> 00:57:06,120
don't know you know at least my answer

1768
00:57:04,740 --> 00:57:09,270
to this question but I'm wondering how

1769
00:57:06,120 --> 00:57:12,259
how you treated it especially for advice

1770
00:57:09,270 --> 00:57:15,509
to the audience but when you measure how

1771
00:57:12,260 --> 00:57:18,990
do you know to trust what you measure

1772
00:57:15,510 --> 00:57:21,240
and when do you start to think maybe

1773
00:57:18,990 --> 00:57:22,620
this is too good to be true or too bad

1774
00:57:21,240 --> 00:57:24,359
or there's something wrong with the

1775
00:57:22,620 --> 00:57:27,000
measurement and I need to kind of like

1776
00:57:24,360 --> 00:57:28,650
measure the measurement right watches

1777
00:57:27,000 --> 00:57:30,720
the Watchers yeah that's a great

1778
00:57:28,650 --> 00:57:33,780
question and of course you know as much

1779
00:57:30,720 --> 00:57:36,480
or more about that than I do so how do

1780
00:57:33,780 --> 00:57:38,460
you know when to stop well clearly what

1781
00:57:36,480 --> 00:57:39,600
you do is you do enough until you're

1782
00:57:38,460 --> 00:57:42,900
like this paper can get into a

1783
00:57:39,600 --> 00:57:45,960
conference then you're done no don't do

1784
00:57:42,900 --> 00:57:47,430
that I guess what I've always felt with

1785
00:57:45,960 --> 00:57:51,000
and that one example tried to hint it

1786
00:57:47,430 --> 00:57:52,980
down a little bit is I remember very

1787
00:57:51,000 --> 00:57:55,500
early on one of our first graduate

1788
00:57:52,980 --> 00:57:58,440
students back then this is this funny

1789
00:57:55,500 --> 00:58:01,050
thing I used to like do actual work so I

1790
00:57:58,440 --> 00:58:03,690
would make graphs and you know build

1791
00:58:01,050 --> 00:58:05,700
systems things and that quickly got you

1792
00:58:03,690 --> 00:58:07,110
know overrun by having too many students

1793
00:58:05,700 --> 00:58:08,669
who clearly when they work on things all

1794
00:58:07,110 --> 00:58:10,620
day do it much faster than when I do for

1795
00:58:08,670 --> 00:58:12,780
two hours a day but so I was still in

1796
00:58:10,620 --> 00:58:16,370
that mode of in Andreea to producing our

1797
00:58:12,780 --> 00:58:19,260
own graphs and the student then asked me

1798
00:58:16,370 --> 00:58:22,230
how come your graphs look good and my

1799
00:58:19,260 --> 00:58:23,730
graphs look like garbage which was this

1800
00:58:22,230 --> 00:58:25,590
a really interesting question right

1801
00:58:23,730 --> 00:58:28,740
because I agreed with him his graphs

1802
00:58:25,590 --> 00:58:30,600
looked like garbage and and what I said

1803
00:58:28,740 --> 00:58:33,060
was you know there's there's this kind

1804
00:58:30,600 --> 00:58:35,910
of underlying thing that is true of any

1805
00:58:33,060 --> 00:58:37,830
good experiment which is to extent that

1806
00:58:35,910 --> 00:58:40,680
you can you understand what the system

1807
00:58:37,830 --> 00:58:41,910
is mostly doing and and therefore when

1808
00:58:40,680 --> 00:58:43,560
you're doing a measurement you're really

1809
00:58:41,910 --> 00:58:44,970
just varying the one thing that you're

1810
00:58:43,560 --> 00:58:47,400
trying to control for so that's what

1811
00:58:44,970 --> 00:58:49,410
good science is that's what good systems

1812
00:58:47,400 --> 00:58:51,750
experimentation is so I was always very

1813
00:58:49,410 --> 00:58:53,100
careful to get it down to the one factor

1814
00:58:51,750 --> 00:58:55,350
and then when you vary that factor you

1815
00:58:53,100 --> 00:58:57,029
get the expected curve more or less and

1816
00:58:55,350 --> 00:58:58,319
once in a while you get something that

1817
00:58:57,030 --> 00:58:59,640
you don't expect and that's that

1818
00:58:58,320 --> 00:59:01,980
learning opportunity and then you go

1819
00:58:59,640 --> 00:59:03,359
from there what this what students tend

1820
00:59:01,980 --> 00:59:04,770
to do I think at first

1821
00:59:03,360 --> 00:59:06,120
is there like I have to do some

1822
00:59:04,770 --> 00:59:08,700
measurements I know that the end part of

1823
00:59:06,120 --> 00:59:09,960
the paper has that I've seen some papers

1824
00:59:08,700 --> 00:59:11,279
that have measurements in them and so

1825
00:59:09,960 --> 00:59:13,260
they're like I measured some stuff here

1826
00:59:11,280 --> 00:59:15,510
it is instead of looking at it as a

1827
00:59:13,260 --> 00:59:17,370
process where I need to kind of

1828
00:59:15,510 --> 00:59:18,780
understand very deeply what I'm doing

1829
00:59:17,370 --> 00:59:19,980
and then figure out how to measure that

1830
00:59:18,780 --> 00:59:21,450
now it doesn't quite answer your

1831
00:59:19,980 --> 00:59:22,080
question of where do you where do you

1832
00:59:21,450 --> 00:59:23,669
stop

1833
00:59:22,080 --> 00:59:25,049
I guess the place we stopped is where we

1834
00:59:23,670 --> 00:59:26,940
feel like we've really explained it to

1835
00:59:25,050 --> 00:59:28,260
ourselves and that's it's a bit it's

1836
00:59:26,940 --> 00:59:30,930
qualitative right so it's hard to

1837
00:59:28,260 --> 00:59:32,100
automate that so so I don't think I

1838
00:59:30,930 --> 00:59:36,000
quite answered your question but that's

1839
00:59:32,100 --> 00:59:37,860
certainly how I think about it okay so I

1840
00:59:36,000 --> 00:59:38,970
think we're gonna transition so thank

1841
00:59:37,860 --> 00:59:41,390
you very much again I'll be happy to

1842
00:59:38,970 --> 00:59:41,390
talk to us

