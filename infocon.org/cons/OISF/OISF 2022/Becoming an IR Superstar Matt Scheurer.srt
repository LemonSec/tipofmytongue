1
00:00:00,000 --> 00:00:02,480
matt where are you matt

2
00:00:02,480 --> 00:00:05,040
you gotta go to the first slide oh

3
00:00:05,040 --> 00:00:06,399
ellen hit it

4
00:00:06,399 --> 00:00:09,400
high five

5
00:00:09,400 --> 00:00:12,710
[Music]

6
00:00:17,580 --> 00:00:20,630
[Music]

7
00:00:21,600 --> 00:00:22,960
there you go matt you need to put this

8
00:00:22,960 --> 00:00:24,370
on

9
00:00:24,370 --> 00:00:27,510
[Music]

10
00:00:28,320 --> 00:00:31,480
all right

11
00:00:32,000 --> 00:00:36,840
gotta make an entrance or what all right

12
00:00:44,559 --> 00:00:47,360
um well please make sure we get audio

13
00:00:47,360 --> 00:00:50,320
going yes please

14
00:00:51,730 --> 00:00:54,760
[Music]

15
00:00:55,920 --> 00:00:59,840
adrian are you picking up anything

16
00:01:00,320 --> 00:01:02,559
okay

17
00:01:02,559 --> 00:01:05,360
say some stuff yes awesome

18
00:01:05,360 --> 00:01:06,880
so the

19
00:01:06,880 --> 00:01:08,080
virtual world is coming through the

20
00:01:08,080 --> 00:01:11,040
laptop by the way all right

21
00:01:11,040 --> 00:01:13,520
all right so let me make sure yep

22
00:01:13,520 --> 00:01:15,200
awesome

23
00:01:15,200 --> 00:01:17,439
welcome everybody thank you isf for

24
00:01:17,439 --> 00:01:20,240
having me i'm glad to be here again love

25
00:01:20,240 --> 00:01:22,560
this conference always have for those

26
00:01:22,560 --> 00:01:24,240
who don't know me my name is matt

27
00:01:24,240 --> 00:01:27,119
shearer my topic today is becoming an ir

28
00:01:27,119 --> 00:01:29,920
superstar i came dressed the part i want

29
00:01:29,920 --> 00:01:31,520
to help all of you

30
00:01:31,520 --> 00:01:33,040
learn how to become an instant response

31
00:01:33,040 --> 00:01:34,240
superstar

32
00:01:34,240 --> 00:01:38,400
so i need help people uh i am

33
00:01:38,400 --> 00:01:40,079
a little more than 100 people away from

34
00:01:40,079 --> 00:01:42,960
hitting 1 337

35
00:01:42,960 --> 00:01:46,159
followers on twitter to have leet status

36
00:01:46,159 --> 00:01:47,520
so if you're not following me on twitter

37
00:01:47,520 --> 00:01:50,240
already at c3rkah

38
00:01:50,240 --> 00:01:52,399
please uh follow me there uh you can

39
00:01:52,399 --> 00:01:54,799
also hit me up on linkedin and also so

40
00:01:54,799 --> 00:01:56,799
you're not scrambling for notes uh if

41
00:01:56,799 --> 00:01:58,840
you go to

42
00:01:58,840 --> 00:02:00,960
slides.dfirmatt.com it'll take you to my

43
00:02:00,960 --> 00:02:03,040
github repo and you can get a copy of

44
00:02:03,040 --> 00:02:05,759
the slide deck there um so that way you

45
00:02:05,759 --> 00:02:09,038
can focus on the talk

46
00:02:09,038 --> 00:02:11,360
see some pictures here i'll pause just a

47
00:02:11,360 --> 00:02:14,360
moment

48
00:02:30,480 --> 00:02:31,440
all right

49
00:02:31,440 --> 00:02:34,640
we'll begin so what i do i work for a

50
00:02:34,640 --> 00:02:36,640
big well-known organization

51
00:02:36,640 --> 00:02:39,040
as an avp of computer security and

52
00:02:39,040 --> 00:02:40,879
incident response

53
00:02:40,879 --> 00:02:42,640
i still think of myself as just an

54
00:02:42,640 --> 00:02:43,680
engineer

55
00:02:43,680 --> 00:02:44,879
but i've got a lot of years of

56
00:02:44,879 --> 00:02:47,519
experience i've done dfir stuff for

57
00:02:47,519 --> 00:02:48,879
quite a while so that's what i want to

58
00:02:48,879 --> 00:02:52,000
talk about today i'm also a podcast host

59
00:02:52,000 --> 00:02:54,080
for the threat real podcast with my

60
00:02:54,080 --> 00:02:57,120
co-host micah brown uh

61
00:02:57,120 --> 00:03:00,720
we we've been on hiatus for a bit um i'm

62
00:03:00,720 --> 00:03:03,360
hoping to get out in a new episode

63
00:03:03,360 --> 00:03:06,159
before hacker summer camp hits

64
00:03:06,159 --> 00:03:08,000
and i'm just uh going to pause here for

65
00:03:08,000 --> 00:03:09,920
a moment while they fix these whatever

66
00:03:09,920 --> 00:03:12,480
stream issue is happening

67
00:03:12,480 --> 00:03:17,159
online so bear with us

68
00:03:22,720 --> 00:03:25,720
so

69
00:03:29,470 --> 00:03:32,580
[Music]

70
00:03:36,720 --> 00:03:39,680
i do want to noted when i when this talk

71
00:03:39,680 --> 00:03:40,959
runs late

72
00:03:40,959 --> 00:03:42,959
don't blame me for putting the schedule

73
00:03:42,959 --> 00:03:44,400
behind

74
00:03:44,400 --> 00:03:46,080
somebody wouldn't stop talking at the

75
00:03:46,080 --> 00:03:47,599
beginning and now they're fixing

76
00:03:47,599 --> 00:03:49,440
technical issues so

77
00:03:49,440 --> 00:03:52,000
when the whole schedule's running late

78
00:03:52,000 --> 00:03:54,239
not my fault

79
00:03:54,239 --> 00:03:55,680
we good to go

80
00:03:55,680 --> 00:03:57,519
all right i'm done giving dr c a hard

81
00:03:57,519 --> 00:04:00,720
time thank you

82
00:04:00,720 --> 00:04:02,799
all right let's go

83
00:04:02,799 --> 00:04:05,280
maybe oh you broke the clicker man come

84
00:04:05,280 --> 00:04:07,760
on dude

85
00:04:10,560 --> 00:04:11,760
see this is why i don't want to do

86
00:04:11,760 --> 00:04:14,239
virtually

87
00:04:14,239 --> 00:04:17,120
sorry no worries

88
00:04:17,120 --> 00:04:18,959
uh yeah i still have the clicker back

89
00:04:18,959 --> 00:04:22,479
and i probably messed something up

90
00:04:26,400 --> 00:04:29,840
more technical issues

91
00:04:32,240 --> 00:04:34,400
yeah all right i'm good

92
00:04:34,400 --> 00:04:36,080
are we good online

93
00:04:36,080 --> 00:04:38,080
we're good here in person i can say that

94
00:04:38,080 --> 00:04:40,240
much all right let's go

95
00:04:40,240 --> 00:04:40,960
so

96
00:04:40,960 --> 00:04:42,720
i do some volunteer stuff i'm an

97
00:04:42,720 --> 00:04:45,360
official hacking is not a crime advocate

98
00:04:45,360 --> 00:04:47,040
um

99
00:04:47,040 --> 00:04:48,400
check it out as hacking is not a

100
00:04:48,400 --> 00:04:51,040
crime.org i'm also a wamsa which is the

101
00:04:51,040 --> 00:04:52,880
women's security alliance technical

102
00:04:52,880 --> 00:04:54,800
mentor

103
00:04:54,800 --> 00:04:57,280
if you're looking to mentor women into

104
00:04:57,280 --> 00:04:59,600
information security or if you're a

105
00:04:59,600 --> 00:05:01,440
woman that's interested in pursuing a

106
00:05:01,440 --> 00:05:03,680
career in information security a great

107
00:05:03,680 --> 00:05:05,360
organization check out their website

108
00:05:05,360 --> 00:05:07,680
wampsa.org they're always looking for

109
00:05:07,680 --> 00:05:10,960
mentors and mentees

110
00:05:10,960 --> 00:05:12,960
so i do have a day job but the opinions

111
00:05:12,960 --> 00:05:15,199
expressed today are not the opinions of

112
00:05:15,199 --> 00:05:17,759
my employer they don't reflect their

113
00:05:17,759 --> 00:05:19,600
ideas i'm speaking solely on my own

114
00:05:19,600 --> 00:05:21,840
behalf so don't blame them for anything

115
00:05:21,840 --> 00:05:24,560
i say today's agenda we're going to

116
00:05:24,560 --> 00:05:25,840
cover

117
00:05:25,840 --> 00:05:28,479
the baseline technical skills and

118
00:05:28,479 --> 00:05:30,240
knowledge required for incident response

119
00:05:30,240 --> 00:05:32,160
investigative analysis and then we'll

120
00:05:32,160 --> 00:05:34,479
wrap up with q a

121
00:05:34,479 --> 00:05:36,880
so why this talk this talk is largely

122
00:05:36,880 --> 00:05:39,360
inspired by job candidates that i've

123
00:05:39,360 --> 00:05:41,199
participated in interviewing for level

124
00:05:41,199 --> 00:05:43,759
four that's principal security engineer

125
00:05:43,759 --> 00:05:46,320
level positions and finding experienced

126
00:05:46,320 --> 00:05:48,720
ir candidates ready for that level of

127
00:05:48,720 --> 00:05:50,800
work is very challenging

128
00:05:50,800 --> 00:05:52,880
the purpose of this talk is to help fill

129
00:05:52,880 --> 00:05:55,199
the knowledge gaps that i've seen

130
00:05:55,199 --> 00:05:57,280
covering where aspiring ir analysts and

131
00:05:57,280 --> 00:05:59,120
engineers should start and then build

132
00:05:59,120 --> 00:06:00,800
upon their knowledge

133
00:06:00,800 --> 00:06:03,520
and so let me just say this

134
00:06:03,520 --> 00:06:04,880
i've said in a lot of talks where i

135
00:06:04,880 --> 00:06:06,800
didn't learn anything that should not be

136
00:06:06,800 --> 00:06:08,960
this talk if you honestly get through

137
00:06:08,960 --> 00:06:10,720
this whole slide deck and come up and

138
00:06:10,720 --> 00:06:12,479
say matt i didn't learn a single thing

139
00:06:12,479 --> 00:06:15,039
singing this talk come talk to me we

140
00:06:15,039 --> 00:06:18,400
need to chat about career opportunities

141
00:06:18,400 --> 00:06:19,520
all right so the rule of incident

142
00:06:19,520 --> 00:06:20,560
response

143
00:06:20,560 --> 00:06:22,720
uh incident responders we answer the

144
00:06:22,720 --> 00:06:25,280
classic who what when where why and how

145
00:06:25,280 --> 00:06:26,400
questions

146
00:06:26,400 --> 00:06:29,199
uh when we look into security incidents

147
00:06:29,199 --> 00:06:31,360
aspiring incident responders actually

148
00:06:31,360 --> 00:06:34,160
possess a working level of knowledge and

149
00:06:34,160 --> 00:06:36,720
preferably first-hand experience in each

150
00:06:36,720 --> 00:06:38,319
of the following information security

151
00:06:38,319 --> 00:06:39,680
disciplines

152
00:06:39,680 --> 00:06:41,280
defensive security which is usually

153
00:06:41,280 --> 00:06:42,720
pretty obvious

154
00:06:42,720 --> 00:06:44,240
people don't think about it but

155
00:06:44,240 --> 00:06:46,400
offensive security skills are incredibly

156
00:06:46,400 --> 00:06:47,600
helpful when you're doing incident

157
00:06:47,600 --> 00:06:48,880
response

158
00:06:48,880 --> 00:06:51,280
and just knowing what the tools and and

159
00:06:51,280 --> 00:06:52,720
techniques that are being leveraged and

160
00:06:52,720 --> 00:06:53,919
we're going to talk about that a little

161
00:06:53,919 --> 00:06:55,039
bit later

162
00:06:55,039 --> 00:06:58,479
in this talk and then digital forensics

163
00:06:58,479 --> 00:07:00,319
we've got a great follow-up talk that

164
00:07:00,319 --> 00:07:02,479
scott's going to give on malware

165
00:07:02,479 --> 00:07:04,319
analysis that's going to be awesome this

166
00:07:04,319 --> 00:07:06,720
should segue beautifully into that

167
00:07:06,720 --> 00:07:09,120
so when instant response starts

168
00:07:09,120 --> 00:07:10,560
sometimes the user will say hey

169
00:07:10,560 --> 00:07:12,080
something doesn't seem right here and

170
00:07:12,080 --> 00:07:13,840
they'll report it but most of the time

171
00:07:13,840 --> 00:07:15,360
you're getting an automated alert and

172
00:07:15,360 --> 00:07:17,919
those are things from your sim your soar

173
00:07:17,919 --> 00:07:20,240
platform

174
00:07:20,240 --> 00:07:22,080
antivirus your

175
00:07:22,080 --> 00:07:24,160
endpoint detection response network

176
00:07:24,160 --> 00:07:25,680
detection response sometimes they

177
00:07:25,680 --> 00:07:28,479
combine those two call them xdr

178
00:07:28,479 --> 00:07:31,599
and then your ids and ips systems will

179
00:07:31,599 --> 00:07:34,160
send alerts uh so that's probably the

180
00:07:34,160 --> 00:07:36,080
number one uh place where instant

181
00:07:36,080 --> 00:07:37,599
response begins

182
00:07:37,599 --> 00:07:40,960
um so diving deep while working uh with

183
00:07:40,960 --> 00:07:43,599
information from an organization sims or

184
00:07:43,599 --> 00:07:47,759
av edr ndr xdr and ids ips it's a lot of

185
00:07:47,759 --> 00:07:49,120
alphabet there

186
00:07:49,120 --> 00:07:51,280
while those solutions are critical in an

187
00:07:51,280 --> 00:07:53,039
enterprise environment please don't

188
00:07:53,039 --> 00:07:55,840
become too reliant on any one of those

189
00:07:55,840 --> 00:07:57,680
or even maybe even a collection of those

190
00:07:57,680 --> 00:07:59,599
security tools alone

191
00:07:59,599 --> 00:08:01,360
because learning developing a better

192
00:08:01,360 --> 00:08:04,000
understanding of the properties of files

193
00:08:04,000 --> 00:08:05,919
the underlying activities that trigger

194
00:08:05,919 --> 00:08:08,479
those alerts is paramount to becoming a

195
00:08:08,479 --> 00:08:11,280
better incident responder

196
00:08:11,280 --> 00:08:13,680
so i want to talk about ir dispositions

197
00:08:13,680 --> 00:08:15,360
and most of you hopefully know this but

198
00:08:15,360 --> 00:08:17,680
just in case you don't a true positive

199
00:08:17,680 --> 00:08:20,319
is classifying malicious activity as

200
00:08:20,319 --> 00:08:21,440
malicious

201
00:08:21,440 --> 00:08:23,360
false positive is incorrectly

202
00:08:23,360 --> 00:08:25,840
classifying benign activities malicious

203
00:08:25,840 --> 00:08:28,560
and my good friend micah who disappeared

204
00:08:28,560 --> 00:08:30,960
on me likes to say there are no false

205
00:08:30,960 --> 00:08:32,880
positives there are only poorly written

206
00:08:32,880 --> 00:08:33,919
rules

207
00:08:33,919 --> 00:08:35,360
uh and there's a lot of truth to that

208
00:08:35,360 --> 00:08:38,000
right um so you know true positives

209
00:08:38,000 --> 00:08:39,679
really in a perfect world are the only

210
00:08:39,679 --> 00:08:41,519
thing you would have where false

211
00:08:41,519 --> 00:08:43,120
positives are the things that you would

212
00:08:43,120 --> 00:08:45,360
never get now that's a perfect world pie

213
00:08:45,360 --> 00:08:47,519
in the sky never really going to happen

214
00:08:47,519 --> 00:08:49,360
but those are what you want to strive

215
00:08:49,360 --> 00:08:50,320
for

216
00:08:50,320 --> 00:08:52,080
true negatives are generally the things

217
00:08:52,080 --> 00:08:53,920
that you just don't want to know about

218
00:08:53,920 --> 00:08:55,920
their classifying benign activity is

219
00:08:55,920 --> 00:08:57,200
benign

220
00:08:57,200 --> 00:08:59,360
and then false negative is incorrectly

221
00:08:59,360 --> 00:09:00,720
classifying

222
00:09:00,720 --> 00:09:02,880
malicious activities benign and that's

223
00:09:02,880 --> 00:09:05,440
certainly the worst outcome because you

224
00:09:05,440 --> 00:09:07,040
have bad stuff happening and you don't

225
00:09:07,040 --> 00:09:08,880
even know it

226
00:09:08,880 --> 00:09:12,320
so i'm going to talk about os basics so

227
00:09:12,320 --> 00:09:13,519
specifically

228
00:09:13,519 --> 00:09:15,760
the windows operating system

229
00:09:15,760 --> 00:09:17,519
and linux

230
00:09:17,519 --> 00:09:19,120
so but knowing how to review the

231
00:09:19,120 --> 00:09:21,600
processes the services and the daemons

232
00:09:21,600 --> 00:09:23,360
that are running and their impacts on

233
00:09:23,360 --> 00:09:26,800
system and cpu memory utilization uh

234
00:09:26,800 --> 00:09:28,560
that's pretty important to knowing

235
00:09:28,560 --> 00:09:30,800
what's going on on a system in windows

236
00:09:30,800 --> 00:09:32,480
you generally start with like the task

237
00:09:32,480 --> 00:09:35,279
manager uh you have services.msc and you

238
00:09:35,279 --> 00:09:37,920
have other things like processes explore

239
00:09:37,920 --> 00:09:39,680
process monitor and those sort of things

240
00:09:39,680 --> 00:09:40,720
as well

241
00:09:40,720 --> 00:09:42,720
that you can optionally have

242
00:09:42,720 --> 00:09:44,880
linux just understand that the ps

243
00:09:44,880 --> 00:09:46,399
command is going to show you what's

244
00:09:46,399 --> 00:09:50,000
running on a box and then top or h-top

245
00:09:50,000 --> 00:09:51,519
if you have it which is a little nicer

246
00:09:51,519 --> 00:09:54,240
to look at uh will kind of show you

247
00:09:54,240 --> 00:09:56,320
what's running how much memory it's

248
00:09:56,320 --> 00:09:58,800
using how much cpu it's eating up those

249
00:09:58,800 --> 00:10:00,480
sort of things so these are the things

250
00:10:00,480 --> 00:10:02,800
that can kind of help you pinpoint

251
00:10:02,800 --> 00:10:04,720
what's worth looking at on a system and

252
00:10:04,720 --> 00:10:07,279
investigating uh particularly when you

253
00:10:07,279 --> 00:10:08,640
know you hear next about malware

254
00:10:08,640 --> 00:10:10,480
analysis like those are kind of the

255
00:10:10,480 --> 00:10:12,240
things that help you dial in to what

256
00:10:12,240 --> 00:10:14,480
you're looking for or they can they're

257
00:10:14,480 --> 00:10:16,399
you know it's not perfect but

258
00:10:16,399 --> 00:10:18,000
you know generally that's a good place

259
00:10:18,000 --> 00:10:19,760
to start

260
00:10:19,760 --> 00:10:22,320
so file system basics knowing where

261
00:10:22,320 --> 00:10:23,920
things are supposed to be located on an

262
00:10:23,920 --> 00:10:27,040
end point is really important

263
00:10:27,040 --> 00:10:28,800
conversely knowing where things

264
00:10:28,800 --> 00:10:31,279
shouldn't exist but are on a system are

265
00:10:31,279 --> 00:10:34,079
also vitally important incident response

266
00:10:34,079 --> 00:10:35,040
so

267
00:10:35,040 --> 00:10:37,120
understanding the microsoft windows file

268
00:10:37,120 --> 00:10:39,040
system and where those things are

269
00:10:39,040 --> 00:10:41,760
shouldn't be linux file system and then

270
00:10:41,760 --> 00:10:43,519
depending on your environment maybe even

271
00:10:43,519 --> 00:10:46,480
mac os depending on you know how

272
00:10:46,480 --> 00:10:48,560
much it's prevalent within your

273
00:10:48,560 --> 00:10:50,160
environment

274
00:10:50,160 --> 00:10:52,000
it could be important i'm not really

275
00:10:52,000 --> 00:10:53,680
going to focus on that but i did want to

276
00:10:53,680 --> 00:10:55,279
briefly mention it

277
00:10:55,279 --> 00:10:57,680
so file system basics

278
00:10:57,680 --> 00:11:00,000
understand where the user directory is

279
00:11:00,000 --> 00:11:01,760
on windows hopefully most of you know

280
00:11:01,760 --> 00:11:04,880
it's just c users and then the user name

281
00:11:04,880 --> 00:11:06,959
that's logged into the system well in

282
00:11:06,959 --> 00:11:08,959
linux it's going to be under slash home

283
00:11:08,959 --> 00:11:11,200
slash user name and some of you might be

284
00:11:11,200 --> 00:11:13,200
thinking it's pretty basic stuff but

285
00:11:13,200 --> 00:11:14,640
you'd be surprised the candidates i

286
00:11:14,640 --> 00:11:17,680
talked to they've got nice degrees

287
00:11:17,680 --> 00:11:20,160
a laundry list of certifications

288
00:11:20,160 --> 00:11:21,200
and

289
00:11:21,200 --> 00:11:22,959
they have experience even as security

290
00:11:22,959 --> 00:11:25,920
engineers in big organizations

291
00:11:25,920 --> 00:11:27,040
yet they don't

292
00:11:27,040 --> 00:11:28,560
readily know

293
00:11:28,560 --> 00:11:30,720
where that is

294
00:11:30,720 --> 00:11:32,800
no absolutely not

295
00:11:32,800 --> 00:11:34,640
i just told you where it is why are you

296
00:11:34,640 --> 00:11:36,460
asking me if i know where it is come on

297
00:11:36,460 --> 00:11:40,160
[Laughter]

298
00:11:40,160 --> 00:11:42,640
big organization i'm a college dropout

299
00:11:42,640 --> 00:11:44,160
with a security plus certification

300
00:11:44,160 --> 00:11:45,839
that's not real impressive educational

301
00:11:45,839 --> 00:11:49,600
credentials but i know my stuff

302
00:11:50,160 --> 00:11:52,480
all right file system basics on windows

303
00:11:52,480 --> 00:11:54,000
so most configuration settings are

304
00:11:54,000 --> 00:11:55,920
really stored in the windows registry

305
00:11:55,920 --> 00:11:58,480
and so those are when you pull it up it

306
00:11:58,480 --> 00:12:00,240
looks like one big long list of stuff

307
00:12:00,240 --> 00:12:02,480
but it's actually different things sort

308
00:12:02,480 --> 00:12:05,200
of mashed together called hives and so

309
00:12:05,200 --> 00:12:07,760
you have hq local machine software hkey

310
00:12:07,760 --> 00:12:10,480
local machine system hd local machine

311
00:12:10,480 --> 00:12:12,720
sam which is where you have your

312
00:12:12,720 --> 00:12:16,000
credentials and it's a prime target

313
00:12:16,000 --> 00:12:17,120
and then

314
00:12:17,120 --> 00:12:20,000
hkey local machine security and then you

315
00:12:20,000 --> 00:12:21,519
also have

316
00:12:21,519 --> 00:12:23,920
h key user's default and hkey current

317
00:12:23,920 --> 00:12:25,279
config

318
00:12:25,279 --> 00:12:27,600
an important path to know are a system

319
00:12:27,600 --> 00:12:29,279
root

320
00:12:29,279 --> 00:12:32,160
slash which is usually the c drive

321
00:12:32,160 --> 00:12:34,880
system 32 config

322
00:12:34,880 --> 00:12:36,880
and then also i want to talk about the

323
00:12:36,880 --> 00:12:39,120
slash backup folder inside of there

324
00:12:39,120 --> 00:12:40,639
sometimes it's kind of hard getting a

325
00:12:40,639 --> 00:12:44,240
live hive file on a running system

326
00:12:44,240 --> 00:12:45,760
so the cool thing is you can check in

327
00:12:45,760 --> 00:12:47,600
the reg back

328
00:12:47,600 --> 00:12:49,360
folder if it hasn't been disabled in

329
00:12:49,360 --> 00:12:51,360
your environment you might have registry

330
00:12:51,360 --> 00:12:53,040
hives there they're much more easy to

331
00:12:53,040 --> 00:12:55,279
pull off a system and analyze

332
00:12:55,279 --> 00:12:57,279
the other thing you can do is if you

333
00:12:57,279 --> 00:13:00,000
have the live hive and you have the reg

334
00:13:00,000 --> 00:13:01,680
backup

335
00:13:01,680 --> 00:13:03,519
you can actually compare those two and

336
00:13:03,519 --> 00:13:05,440
see if things have changed so if you

337
00:13:05,440 --> 00:13:08,399
have a point in time backup that you can

338
00:13:08,399 --> 00:13:10,639
compare you might be able to tell from

339
00:13:10,639 --> 00:13:13,279
that what's changed on a system

340
00:13:13,279 --> 00:13:15,440
and then also the

341
00:13:15,440 --> 00:13:17,760
you know usually the c the user profile

342
00:13:17,760 --> 00:13:20,079
environment variable nt user.dat so

343
00:13:20,079 --> 00:13:22,079
that'd be c colon backslash users

344
00:13:22,079 --> 00:13:25,600
backslash username backslash ntuser.dat

345
00:13:25,600 --> 00:13:27,120
again another one of those hives right

346
00:13:27,120 --> 00:13:28,959
and so you want to open those up on a

347
00:13:28,959 --> 00:13:31,800
windows box with regedit

348
00:13:31,800 --> 00:13:34,240
regdt32.exe is an older and now it's

349
00:13:34,240 --> 00:13:37,040
just kind of a pointer back to regedit

350
00:13:37,040 --> 00:13:38,320
exe

351
00:13:38,320 --> 00:13:39,839
and this is an all-inclusive there's a

352
00:13:39,839 --> 00:13:41,760
lot of third-party forensic tools and

353
00:13:41,760 --> 00:13:43,519
things like that that you can also use

354
00:13:43,519 --> 00:13:44,320
to

355
00:13:44,320 --> 00:13:48,000
analyze these things

356
00:13:48,000 --> 00:13:50,639
file system basics on linux most likes

357
00:13:50,639 --> 00:13:52,320
configuration files are stored under the

358
00:13:52,320 --> 00:13:54,240
slash etsy folder

359
00:13:54,240 --> 00:13:56,240
or within subdirectories inside of the

360
00:13:56,240 --> 00:13:58,000
slash etsy folder

361
00:13:58,000 --> 00:13:59,440
some noteworthy file there is or the

362
00:13:59,440 --> 00:14:02,480
pass wd file which again has like the

363
00:14:02,480 --> 00:14:04,160
list of user names and that's usually

364
00:14:04,160 --> 00:14:06,320
pretty easily accessible by anybody with

365
00:14:06,320 --> 00:14:09,199
any level of access to the system

366
00:14:09,199 --> 00:14:11,040
what's a little more protected is the

367
00:14:11,040 --> 00:14:14,240
shadow file which has the

368
00:14:14,240 --> 00:14:17,120
you know um basically salted hashed

369
00:14:17,120 --> 00:14:20,000
version of uh the credentials for the

370
00:14:20,000 --> 00:14:22,160
system and it's a juicy target for

371
00:14:22,160 --> 00:14:24,399
thread actors because uh if they can

372
00:14:24,399 --> 00:14:26,399
grab the shadow file they can do offline

373
00:14:26,399 --> 00:14:27,839
password cracking with something like

374
00:14:27,839 --> 00:14:29,279
john the ripper

375
00:14:29,279 --> 00:14:31,040
and a bunch of other tools but that's

376
00:14:31,040 --> 00:14:34,320
certainly one of the prevalent ones

377
00:14:34,320 --> 00:14:35,839
really just to get familiar with the

378
00:14:35,839 --> 00:14:37,199
linux operating system if you're not

379
00:14:37,199 --> 00:14:39,120
terribly familiar with it the linux

380
00:14:39,120 --> 00:14:41,360
foundation has something called the fhs

381
00:14:41,360 --> 00:14:44,399
the file system hierarchy standard it's

382
00:14:44,399 --> 00:14:47,040
a great reference for where paths are on

383
00:14:47,040 --> 00:14:49,360
a linux host and why they exist in that

384
00:14:49,360 --> 00:14:51,680
path so if you've never looked at that

385
00:14:51,680 --> 00:14:53,040
and you don't have a ton of experience

386
00:14:53,040 --> 00:14:55,120
with linux have a look at it great

387
00:14:55,120 --> 00:14:57,680
information and by the way when you

388
00:14:57,680 --> 00:14:59,600
download the slides uh all these are

389
00:14:59,600 --> 00:15:01,920
hyperlinks back to these resources so

390
00:15:01,920 --> 00:15:04,399
you can then go back and retrieve these

391
00:15:04,399 --> 00:15:06,880
documents uh get the links all that good

392
00:15:06,880 --> 00:15:08,079
stuff

393
00:15:08,079 --> 00:15:10,079
um so incident response skill

394
00:15:10,079 --> 00:15:12,480
understanding logs and pcaps really the

395
00:15:12,480 --> 00:15:13,920
bedrock

396
00:15:13,920 --> 00:15:15,360
and starting point for most security

397
00:15:15,360 --> 00:15:17,600
investigations starts with the available

398
00:15:17,600 --> 00:15:20,240
logs and packet capture files if you

399
00:15:20,240 --> 00:15:22,000
have them

400
00:15:22,000 --> 00:15:23,920
sometimes that's not always practical if

401
00:15:23,920 --> 00:15:25,519
they are

402
00:15:25,519 --> 00:15:28,240
using encrypted protocols for example

403
00:15:28,240 --> 00:15:30,320
and you don't have now the the key and

404
00:15:30,320 --> 00:15:32,240
so forth but if you have decrypted

405
00:15:32,240 --> 00:15:33,839
packets that's like one of the best

406
00:15:33,839 --> 00:15:35,519
things ever

407
00:15:35,519 --> 00:15:37,199
so sims are great but here's why you

408
00:15:37,199 --> 00:15:40,000
don't want to depend on them exclusively

409
00:15:40,000 --> 00:15:42,639
and focus your core knowledge only on

410
00:15:42,639 --> 00:15:45,759
hey i investigate stuff out of the sim

411
00:15:45,759 --> 00:15:47,600
because they're not perfect

412
00:15:47,600 --> 00:15:48,399
so

413
00:15:48,399 --> 00:15:49,440
sims

414
00:15:49,440 --> 00:15:51,839
the licensing on those and the resources

415
00:15:51,839 --> 00:15:55,759
to run them is pretty high

416
00:15:55,759 --> 00:15:57,279
so what happens is these things are

417
00:15:57,279 --> 00:15:59,360
configured just to capture specific

418
00:15:59,360 --> 00:16:02,560
events event types and important details

419
00:16:02,560 --> 00:16:04,160
might actually be tuned out and not

420
00:16:04,160 --> 00:16:06,880
getting to your sim in the first place

421
00:16:06,880 --> 00:16:09,279
and so you know it could also be add the

422
00:16:09,279 --> 00:16:10,959
logs in the sim but they're not parsing

423
00:16:10,959 --> 00:16:12,560
correctly so when you try to search the

424
00:16:12,560 --> 00:16:14,000
sim you're not seeing everything that

425
00:16:14,000 --> 00:16:15,839
you think you are

426
00:16:15,839 --> 00:16:17,759
and then import or i'm sorry input

427
00:16:17,759 --> 00:16:19,759
sources might become broken you don't

428
00:16:19,759 --> 00:16:21,440
have good health checking

429
00:16:21,440 --> 00:16:24,000
or the health checking fails on you

430
00:16:24,000 --> 00:16:25,680
you might just totally miss something

431
00:16:25,680 --> 00:16:26,800
there

432
00:16:26,800 --> 00:16:28,320
and then

433
00:16:28,320 --> 00:16:30,160
again these things are very resource

434
00:16:30,160 --> 00:16:31,920
intensive so if the system is running

435
00:16:31,920 --> 00:16:34,000
full speed you might have correlation

436
00:16:34,000 --> 00:16:35,839
searches that simply don't run they get

437
00:16:35,839 --> 00:16:37,680
skipped out of the system

438
00:16:37,680 --> 00:16:38,800
so that's why you don't want to depend

439
00:16:38,800 --> 00:16:41,040
solely on what's in a sim

440
00:16:41,040 --> 00:16:43,600
so what you do want to understand is

441
00:16:43,600 --> 00:16:45,600
native logs and where they exist on

442
00:16:45,600 --> 00:16:48,320
various endpoints it's really important

443
00:16:48,320 --> 00:16:51,199
so windows logs linux logs server logs

444
00:16:51,199 --> 00:16:53,120
and application logs are usually the big

445
00:16:53,120 --> 00:16:56,079
ones i think of uh windows logs

446
00:16:56,079 --> 00:16:57,680
so the four primary ones have been

447
00:16:57,680 --> 00:17:00,240
around forever and ever and ever are a

448
00:17:00,240 --> 00:17:03,120
application log the security log the

449
00:17:03,120 --> 00:17:06,160
setup log and the system log

450
00:17:06,160 --> 00:17:08,079
though there's a lot of other ones now

451
00:17:08,079 --> 00:17:09,919
if they're enabled

452
00:17:09,919 --> 00:17:12,880
and they exist as dot evtx files and

453
00:17:12,880 --> 00:17:15,919
they live under the c colon windows

454
00:17:15,919 --> 00:17:18,880
system 32 folder slash windyvt

455
00:17:18,880 --> 00:17:20,959
logs

456
00:17:20,959 --> 00:17:23,039
and then they can be opened using the

457
00:17:23,039 --> 00:17:24,599
event viewer

458
00:17:24,599 --> 00:17:27,679
eventbwr.exe on a windows host

459
00:17:27,679 --> 00:17:29,039
understanding

460
00:17:29,039 --> 00:17:31,039
sort of how windows logging works at a

461
00:17:31,039 --> 00:17:34,559
high level just know that windows logs

462
00:17:34,559 --> 00:17:36,480
various event types

463
00:17:36,480 --> 00:17:38,960
based with specific event id numbers i

464
00:17:38,960 --> 00:17:40,880
don't have time to go through a lot of

465
00:17:40,880 --> 00:17:43,360
examples but what i did do is put a link

466
00:17:43,360 --> 00:17:46,240
to microsoft's own documentation

467
00:17:46,240 --> 00:17:49,840
of what they say is important to

468
00:17:49,840 --> 00:17:52,000
monitor and if microsoft says these are

469
00:17:52,000 --> 00:17:53,840
important events to monitor they

470
00:17:53,840 --> 00:17:56,160
probably are they created the os after

471
00:17:56,160 --> 00:17:57,760
all

472
00:17:57,760 --> 00:17:59,679
at a high level also understand that you

473
00:17:59,679 --> 00:18:02,559
have various log on type conditions

474
00:18:02,559 --> 00:18:04,240
and understanding those is also

475
00:18:04,240 --> 00:18:05,840
important so if you have a log on type

476
00:18:05,840 --> 00:18:08,960
10 you know somebody is trying to

477
00:18:08,960 --> 00:18:11,919
rdp into a host from elsewhere these

478
00:18:11,919 --> 00:18:13,200
things are very telling when you're

479
00:18:13,200 --> 00:18:14,640
trying to investigate and put together

480
00:18:14,640 --> 00:18:17,200
that picture

481
00:18:17,520 --> 00:18:19,679
linux logs most links logs live under

482
00:18:19,679 --> 00:18:22,160
the slash var slash log folder and an

483
00:18:22,160 --> 00:18:25,760
example is slash var log syslog

484
00:18:25,760 --> 00:18:27,760
typically viewable using any preferred

485
00:18:27,760 --> 00:18:30,000
text editor you can even you know you

486
00:18:30,000 --> 00:18:31,520
can throw the cat command the more

487
00:18:31,520 --> 00:18:33,760
command or the less command to peruse

488
00:18:33,760 --> 00:18:35,919
log files you can also use the head

489
00:18:35,919 --> 00:18:37,679
command to get the first x number of

490
00:18:37,679 --> 00:18:40,880
lines out of a log file or you can use

491
00:18:40,880 --> 00:18:43,039
the tail command to get the last and

492
00:18:43,039 --> 00:18:46,320
often usually the the most the newest uh

493
00:18:46,320 --> 00:18:48,480
log entries uh you can even use tail

494
00:18:48,480 --> 00:18:51,919
dash f to live follow the log file and

495
00:18:51,919 --> 00:18:53,840
uh basically keep track of what's

496
00:18:53,840 --> 00:18:55,919
happening on the system uh pretty much

497
00:18:55,919 --> 00:18:58,720
in in real time

498
00:18:58,720 --> 00:19:02,160
more stuff about linux logs is they

499
00:19:02,160 --> 00:19:05,039
are often time stamped in epoch time so

500
00:19:05,039 --> 00:19:07,840
back in 1970 when the unix operating

501
00:19:07,840 --> 00:19:10,400
system was created they took the epoch

502
00:19:10,400 --> 00:19:13,840
or the birth if you will of the linux os

503
00:19:13,840 --> 00:19:16,240
as the year of 1970 so a lot of times

504
00:19:16,240 --> 00:19:18,480
these things are in relation to

505
00:19:18,480 --> 00:19:21,200
january 1st of 1970

506
00:19:21,200 --> 00:19:23,039
but they're just a string of numbers and

507
00:19:23,039 --> 00:19:24,720
they don't really make sense to look at

508
00:19:24,720 --> 00:19:26,080
them so you're going to want to use a

509
00:19:26,080 --> 00:19:28,960
converter to translate those epoch times

510
00:19:28,960 --> 00:19:31,039
in human readable time and the other

511
00:19:31,039 --> 00:19:32,080
important thing when you're doing an

512
00:19:32,080 --> 00:19:34,240
investigation is to understand your time

513
00:19:34,240 --> 00:19:36,960
stamps you know is everything local time

514
00:19:36,960 --> 00:19:39,200
to where you are are you a big national

515
00:19:39,200 --> 00:19:41,280
or international business you might have

516
00:19:41,280 --> 00:19:44,080
everything set to gmt you might have a

517
00:19:44,080 --> 00:19:45,760
mixed case scenario where you got some

518
00:19:45,760 --> 00:19:48,559
systems on local time and others on gmt

519
00:19:48,559 --> 00:19:50,400
but you have to sort of correlate those

520
00:19:50,400 --> 00:19:52,240
together to put together a picture of

521
00:19:52,240 --> 00:19:53,360
what happened

522
00:19:53,360 --> 00:19:55,520
so just being aware of that as

523
00:19:55,520 --> 00:19:58,320
you know pretty important

524
00:19:58,320 --> 00:20:00,320
server logs just be aware that various

525
00:20:00,320 --> 00:20:02,240
server applications can store their own

526
00:20:02,240 --> 00:20:04,320
logs independently of the host os's

527
00:20:04,320 --> 00:20:05,679
native logging

528
00:20:05,679 --> 00:20:08,159
default log paths and names are also

529
00:20:08,159 --> 00:20:09,760
sometimes changed because they're

530
00:20:09,760 --> 00:20:11,120
configurable

531
00:20:11,120 --> 00:20:14,080
by default windows iis server logs are

532
00:20:14,080 --> 00:20:18,080
stored and numbered w3 svc folders

533
00:20:18,080 --> 00:20:21,600
under the c drive inet pub slash log

534
00:20:21,600 --> 00:20:24,400
slash log files but again that could be

535
00:20:24,400 --> 00:20:26,480
moved it could be a d drive or an e

536
00:20:26,480 --> 00:20:28,720
drive or something like that you kind of

537
00:20:28,720 --> 00:20:30,080
got to know the environment you might

538
00:20:30,080 --> 00:20:31,840
have to look at how iis is configured

539
00:20:31,840 --> 00:20:33,919
for the logging to know where you should

540
00:20:33,919 --> 00:20:35,520
be looking

541
00:20:35,520 --> 00:20:38,000
application logs be aware that various

542
00:20:38,000 --> 00:20:40,240
applications might store their own logs

543
00:20:40,240 --> 00:20:42,320
independent of the host os's native

544
00:20:42,320 --> 00:20:45,600
logging so sometimes things

545
00:20:45,600 --> 00:20:47,919
that you run on a windows host for

546
00:20:47,919 --> 00:20:50,080
example will use the event viewer and

547
00:20:50,080 --> 00:20:51,520
are viewable there

548
00:20:51,520 --> 00:20:52,960
sometimes they just have their own

549
00:20:52,960 --> 00:20:56,480
separate log files in a folder somewhere

550
00:20:56,480 --> 00:20:58,559
and then sometimes you have logs that

551
00:20:58,559 --> 00:21:00,880
reside on the endpoint itself

552
00:21:00,880 --> 00:21:02,640
sometimes you have a central management

553
00:21:02,640 --> 00:21:04,720
console and sometimes both of those

554
00:21:04,720 --> 00:21:07,840
conditions are true so like a lot of edr

555
00:21:07,840 --> 00:21:10,640
and antivirus solutions for example

556
00:21:10,640 --> 00:21:13,760
will have local logs on the endpoint

557
00:21:13,760 --> 00:21:16,159
but you also have in the central console

558
00:21:16,159 --> 00:21:18,799
where those logs are and so sometimes

559
00:21:18,799 --> 00:21:19,679
you can

560
00:21:19,679 --> 00:21:21,120
you know get those but it's just

561
00:21:21,120 --> 00:21:22,720
something to be aware of so that you

562
00:21:22,720 --> 00:21:26,080
know where you should be looking

563
00:21:26,080 --> 00:21:27,760
and then instant response skill

564
00:21:27,760 --> 00:21:30,159
networking basics just understanding the

565
00:21:30,159 --> 00:21:32,960
basic concept between behind tcp and the

566
00:21:32,960 --> 00:21:35,679
three-way handshake versus udp as a

567
00:21:35,679 --> 00:21:37,919
connectionless protocol

568
00:21:37,919 --> 00:21:40,240
and this is not an all-inclusive list uh

569
00:21:40,240 --> 00:21:41,760
i just threw a couple a few quick

570
00:21:41,760 --> 00:21:44,799
examples here uh but you got 22 ssh got

571
00:21:44,799 --> 00:21:47,600
your web ports

572
00:21:48,480 --> 00:21:50,880
a few

573
00:21:51,280 --> 00:21:54,400
and you know so you got smb you got

574
00:21:54,400 --> 00:21:58,480
rdp ports uh udp 53 which is what dns is

575
00:21:58,480 --> 00:22:00,320
primarily communicating over but here's

576
00:22:00,320 --> 00:22:03,200
a list that's got a really great

577
00:22:03,200 --> 00:22:06,000
listing of common ports so check it out

578
00:22:06,000 --> 00:22:07,280
if you're not terribly familiar with

579
00:22:07,280 --> 00:22:08,159
those

580
00:22:08,159 --> 00:22:10,159
and then learn about port scanning if

581
00:22:10,159 --> 00:22:11,760
you haven't dabbled with nmap give it a

582
00:22:11,760 --> 00:22:13,760
try

583
00:22:13,760 --> 00:22:16,400
packet network packets being able to

584
00:22:16,400 --> 00:22:18,400
analyze network traffic data is really

585
00:22:18,400 --> 00:22:20,559
an important instant response skill

586
00:22:20,559 --> 00:22:22,240
so learning how to create save and

587
00:22:22,240 --> 00:22:25,520
analyze packet capture files or pcaps

588
00:22:25,520 --> 00:22:27,360
and you can use things like wireshark

589
00:22:27,360 --> 00:22:30,480
t-sharp tcp dump wind dump a whole host

590
00:22:30,480 --> 00:22:32,080
of others

591
00:22:32,080 --> 00:22:34,000
but those are some of the more popular

592
00:22:34,000 --> 00:22:35,760
ones and if you're looking to get good

593
00:22:35,760 --> 00:22:38,400
with wireshark i actually gave my

594
00:22:38,400 --> 00:22:42,080
wireshark workshop at oisf in the march

595
00:22:42,080 --> 00:22:44,480
meeting i believe and there's a link you

596
00:22:44,480 --> 00:22:47,200
can download the lab the whole lab you

597
00:22:47,200 --> 00:22:49,840
just unzip the file and the text file in

598
00:22:49,840 --> 00:22:51,440
there

599
00:22:51,440 --> 00:22:53,919
is the lab guide itself walks you

600
00:22:53,919 --> 00:22:55,840
through every step of the way to do some

601
00:22:55,840 --> 00:22:58,080
cool exercises with wireshark if you're

602
00:22:58,080 --> 00:23:01,439
not terribly familiar with it

603
00:23:03,520 --> 00:23:07,158
so yes

604
00:23:10,080 --> 00:23:13,360
i don't touch on that in this talk

605
00:23:13,360 --> 00:23:15,600
um so but you know and again obtaining

606
00:23:15,600 --> 00:23:18,159
descriptive packets is always the

607
00:23:18,159 --> 00:23:19,919
best but it may not always be feasible

608
00:23:19,919 --> 00:23:22,080
particularly in larger enterprises a lot

609
00:23:22,080 --> 00:23:23,440
of times you have to look at commercial

610
00:23:23,440 --> 00:23:26,720
solutions for the newest

611
00:23:26,720 --> 00:23:28,640
protocols that are

612
00:23:28,640 --> 00:23:30,559
being deployed and that stuff can get

613
00:23:30,559 --> 00:23:33,520
pretty darn expensive

614
00:23:33,520 --> 00:23:37,360
ospl of understanding the owasp top 10

615
00:23:37,360 --> 00:23:39,520
is

616
00:23:39,520 --> 00:23:41,600
really just kind of important common

617
00:23:41,600 --> 00:23:42,559
knowledge

618
00:23:42,559 --> 00:23:44,080
it's really

619
00:23:44,080 --> 00:23:45,279
sort of

620
00:23:45,279 --> 00:23:47,520
what web developer well yeah basically

621
00:23:47,520 --> 00:23:49,360
web application developers have

622
00:23:49,360 --> 00:23:51,520
prioritized the list of if you're trying

623
00:23:51,520 --> 00:23:52,640
to fix

624
00:23:52,640 --> 00:23:54,240
issues

625
00:23:54,240 --> 00:23:55,360
in your web environment or you're

626
00:23:55,360 --> 00:23:56,640
looking to figure out what should we

627
00:23:56,640 --> 00:23:59,600
tackle first oasp top 10 is the go to

628
00:23:59,600 --> 00:24:01,200
for that but there's a ton of

629
00:24:01,200 --> 00:24:03,360
information out there breaks down what

630
00:24:03,360 --> 00:24:05,200
the vulnerabilities are often how

631
00:24:05,200 --> 00:24:08,080
they're exploited and how to fix them so

632
00:24:08,080 --> 00:24:09,840
just be familiar with that

633
00:24:09,840 --> 00:24:12,480
web requests the more common methods are

634
00:24:12,480 --> 00:24:14,960
get head post and connect

635
00:24:14,960 --> 00:24:16,880
you see those all the time

636
00:24:16,880 --> 00:24:18,880
potentially concerning http request

637
00:24:18,880 --> 00:24:20,960
methods could include put and delete now

638
00:24:20,960 --> 00:24:23,120
those may or may not be normal

639
00:24:23,120 --> 00:24:24,720
like if you have a

640
00:24:24,720 --> 00:24:26,240
photo bucket

641
00:24:26,240 --> 00:24:28,400
web app on your site it would be

642
00:24:28,400 --> 00:24:30,640
probably pretty common to see puts for a

643
00:24:30,640 --> 00:24:32,799
bunch of different files or deletes for

644
00:24:32,799 --> 00:24:35,600
removing files but if you have a contact

645
00:24:35,600 --> 00:24:36,559
form

646
00:24:36,559 --> 00:24:38,159
probably shouldn't see those kinds of

647
00:24:38,159 --> 00:24:39,840
things targeting that so you kind of

648
00:24:39,840 --> 00:24:41,520
have to know the environment figure out

649
00:24:41,520 --> 00:24:43,279
what's being attacked

650
00:24:43,279 --> 00:24:44,799
and then some of the lesser seen ones

651
00:24:44,799 --> 00:24:47,279
that you might run across are options

652
00:24:47,279 --> 00:24:49,760
trace and patch

653
00:24:49,760 --> 00:24:51,520
but if you're doing instant response

654
00:24:51,520 --> 00:24:53,919
understanding the http response codes is

655
00:24:53,919 --> 00:24:55,919
really important and these things are

656
00:24:55,919 --> 00:24:57,679
basically broke down in series unless

657
00:24:57,679 --> 00:24:59,679
you're using an old

658
00:24:59,679 --> 00:25:02,080
very old version of http you're not

659
00:25:02,080 --> 00:25:03,760
really going to see the 100s which are

660
00:25:03,760 --> 00:25:05,919
the the informational ones but

661
00:25:05,919 --> 00:25:07,840
the 200 series

662
00:25:07,840 --> 00:25:09,360
means that the server

663
00:25:09,360 --> 00:25:12,960
accepted the request now the result

664
00:25:12,960 --> 00:25:15,520
may or may not be what was expected

665
00:25:15,520 --> 00:25:18,320
so sometimes those are

666
00:25:18,320 --> 00:25:20,000
things that uh

667
00:25:20,000 --> 00:25:22,880
you know you have to look into

668
00:25:22,880 --> 00:25:24,480
and you may have to drill down deeper to

669
00:25:24,480 --> 00:25:25,840
understand

670
00:25:25,840 --> 00:25:28,080
okay did this thing did this request

671
00:25:28,080 --> 00:25:30,480
actually work on the web server or not

672
00:25:30,480 --> 00:25:33,440
uh 300s are generally your redirects so

673
00:25:33,440 --> 00:25:34,240
your

674
00:25:34,240 --> 00:25:35,520
301

675
00:25:35,520 --> 00:25:37,279
permanent redirect and your 302

676
00:25:37,279 --> 00:25:39,279
temporary redirects

677
00:25:39,279 --> 00:25:40,720
you know just when you see those kinds

678
00:25:40,720 --> 00:25:42,640
of things that's kind of what you're

679
00:25:42,640 --> 00:25:43,760
looking at

680
00:25:43,760 --> 00:25:46,240
400s are basically a client

681
00:25:46,240 --> 00:25:48,880
error response that and often you know

682
00:25:48,880 --> 00:25:51,279
404 is a very popular one that means

683
00:25:51,279 --> 00:25:53,440
something was requested on a web page

684
00:25:53,440 --> 00:25:55,600
and the file or the the page you know

685
00:25:55,600 --> 00:25:57,520
the page file or whatever file it is

686
00:25:57,520 --> 00:26:00,720
just simply isn't there it's not found

687
00:26:00,720 --> 00:26:02,240
um and so

688
00:26:02,240 --> 00:26:03,679
you know that could be indicative of an

689
00:26:03,679 --> 00:26:06,320
attack it could just be indicative of a

690
00:26:06,320 --> 00:26:09,320
pages

691
00:26:14,720 --> 00:26:17,600
coded and is trying to pull in um

692
00:26:17,600 --> 00:26:20,080
sources that are at the wrong location

693
00:26:20,080 --> 00:26:22,240
or just don't exist there anymore

694
00:26:22,240 --> 00:26:24,880
and then 500 is sort of the flip side of

695
00:26:24,880 --> 00:26:27,279
that that's the server gets this request

696
00:26:27,279 --> 00:26:29,039
has no idea to do with it so it just

697
00:26:29,039 --> 00:26:30,960
kicks back an error message

698
00:26:30,960 --> 00:26:32,720
but that's coming from the server back

699
00:26:32,720 --> 00:26:34,559
to the client

700
00:26:34,559 --> 00:26:36,400
um and so the response skill of sql

701
00:26:36,400 --> 00:26:38,559
basics so understanding structured query

702
00:26:38,559 --> 00:26:40,960
language to help identify injection

703
00:26:40,960 --> 00:26:43,039
attacks if you look at the wasp top 10

704
00:26:43,039 --> 00:26:46,159
injection has been on that thing forever

705
00:26:46,159 --> 00:26:47,760
pretty much since it's an inception all

706
00:26:47,760 --> 00:26:50,720
the way through to today in modern times

707
00:26:50,720 --> 00:26:53,039
sql injection is one of the more popular

708
00:26:53,039 --> 00:26:54,960
ones i believe they consolidated that

709
00:26:54,960 --> 00:26:57,200
last time i looked

710
00:26:57,200 --> 00:27:00,240
to include all kinds of injection but

711
00:27:00,240 --> 00:27:02,240
being able to identify sql injection is

712
00:27:02,240 --> 00:27:04,480
really helpful here's a couple courses

713
00:27:04,480 --> 00:27:07,600
that are free quick and easy to try so

714
00:27:07,600 --> 00:27:11,200
highly recommend having a look at those

715
00:27:11,200 --> 00:27:12,880
and then data encoding i want to talk

716
00:27:12,880 --> 00:27:15,200
about this just a little bit so

717
00:27:15,200 --> 00:27:17,039
learning to recognize and identify the

718
00:27:17,039 --> 00:27:19,039
most popular dating encoding string

719
00:27:19,039 --> 00:27:22,640
formats is pretty important um

720
00:27:22,640 --> 00:27:24,399
i don't know if i have do i have a laser

721
00:27:24,399 --> 00:27:26,799
on here

722
00:27:28,640 --> 00:27:30,320
nope doesn't look like it

723
00:27:30,320 --> 00:27:32,159
all right so

724
00:27:32,159 --> 00:27:35,760
sorry adrian i'm a move on you here um

725
00:27:35,760 --> 00:27:37,440
i have an encoded example of the string

726
00:27:37,440 --> 00:27:39,760
hello attendees

727
00:27:39,760 --> 00:27:41,679
what that looks like in base64 there are

728
00:27:41,679 --> 00:27:43,120
some traits here that will help you

729
00:27:43,120 --> 00:27:46,000
identify this is base64

730
00:27:46,000 --> 00:27:48,480
so we have alphanumeric

731
00:27:48,480 --> 00:27:52,240
uh it's the full alphabet it's a to z or

732
00:27:52,240 --> 00:27:54,399
you know very close to it given whatever

733
00:27:54,399 --> 00:27:56,399
particular string you're looking at

734
00:27:56,399 --> 00:27:59,840
um but also the characters the text

735
00:27:59,840 --> 00:28:01,360
characters are mixed case so you have

736
00:28:01,360 --> 00:28:03,520
uppercase and lowercase

737
00:28:03,520 --> 00:28:05,679
uh and then one of the real big

738
00:28:05,679 --> 00:28:08,080
telling signs at the end of it if you

739
00:28:08,080 --> 00:28:10,880
don't have the right number of bits for

740
00:28:10,880 --> 00:28:13,679
the encoding and decoding to work

741
00:28:13,679 --> 00:28:15,840
the equal sign is what's called a pad to

742
00:28:15,840 --> 00:28:17,840
make sure that you get to the

743
00:28:17,840 --> 00:28:20,320
proper number of of bits

744
00:28:20,320 --> 00:28:22,399
so when you see one or two equal sign

745
00:28:22,399 --> 00:28:24,640
there's a good chance it's base 64. now

746
00:28:24,640 --> 00:28:27,440
there's other base encodings as well but

747
00:28:27,440 --> 00:28:31,200
i usually start just trying with base64

748
00:28:31,200 --> 00:28:33,039
rot13 you might be thinking well that's

749
00:28:33,039 --> 00:28:35,120
crazy but believe it or not microsoft

750
00:28:35,120 --> 00:28:37,360
uses rot13 quite a bit i'm going to cite

751
00:28:37,360 --> 00:28:40,080
a specific example later on

752
00:28:40,080 --> 00:28:42,559
and so what's telling here

753
00:28:42,559 --> 00:28:44,720
is you have

754
00:28:44,720 --> 00:28:46,159
alphabetic characters that aren't

755
00:28:46,159 --> 00:28:47,919
necessarily human readable if you don't

756
00:28:47,919 --> 00:28:49,440
know the secret

757
00:28:49,440 --> 00:28:51,679
but what's interesting here

758
00:28:51,679 --> 00:28:53,440
in the artifacts is you notice that the

759
00:28:53,440 --> 00:28:56,559
case matches the case

760
00:28:56,559 --> 00:28:58,399
so in the alphabetic string but then you

761
00:28:58,399 --> 00:29:00,399
also notice that the space matches the

762
00:29:00,399 --> 00:29:04,000
space and the punctuation doesn't change

763
00:29:04,000 --> 00:29:06,320
and so when you see those sort of things

764
00:29:06,320 --> 00:29:07,200
um

765
00:29:07,200 --> 00:29:09,039
i don't think that's quite quite reach

766
00:29:09,039 --> 00:29:10,960
but

767
00:29:10,960 --> 00:29:12,240
all right i'm gonna fall off the stage

768
00:29:12,240 --> 00:29:14,080
here in a minute so that's gonna be fun

769
00:29:14,080 --> 00:29:15,440
uh

770
00:29:15,440 --> 00:29:18,960
i hope there's a hospital nearby

771
00:29:19,279 --> 00:29:21,360
oh awesome good deal i'm in good shape

772
00:29:21,360 --> 00:29:23,600
then all right so yeah so what you have

773
00:29:23,600 --> 00:29:25,200
is with the uh

774
00:29:25,200 --> 00:29:27,039
you know these are the kinds of things

775
00:29:27,039 --> 00:29:28,320
that can help you think like okay i've

776
00:29:28,320 --> 00:29:30,880
got spaces in here looks like i've got

777
00:29:30,880 --> 00:29:32,480
you know case that might match something

778
00:29:32,480 --> 00:29:34,880
punctuation doesn't change

779
00:29:34,880 --> 00:29:37,440
you know why not try rot13 it's either

780
00:29:37,440 --> 00:29:39,360
that or you know some other substitution

781
00:29:39,360 --> 00:29:42,240
cipher uh good chance of it

782
00:29:42,240 --> 00:29:44,720
and then hexadecimal so generally that's

783
00:29:44,720 --> 00:29:47,120
when you see pairings alphanumeric

784
00:29:47,120 --> 00:29:48,320
pairings

785
00:29:48,320 --> 00:29:50,640
and sometimes these are prefixed by 0x

786
00:29:50,640 --> 00:29:52,080
in front of them sometimes they're just

787
00:29:52,080 --> 00:29:54,159
number alphanumeric pairs but when you

788
00:29:54,159 --> 00:29:56,799
see pairs of things they're alphanumeric

789
00:29:56,799 --> 00:29:58,399
but the letters never go beyond the

790
00:29:58,399 --> 00:30:00,000
letter f

791
00:30:00,000 --> 00:30:02,000
so they're a through f you never see g

792
00:30:02,000 --> 00:30:04,559
or higher in the alphabet

793
00:30:04,559 --> 00:30:05,760
good chance you're just looking at

794
00:30:05,760 --> 00:30:09,760
hexadecimal there so that's real quickly

795
00:30:09,760 --> 00:30:11,360
and again not an all inclusive list

796
00:30:11,360 --> 00:30:13,760
there's tons and tons of encoding uh

797
00:30:13,760 --> 00:30:16,080
formats out there but the in the wild

798
00:30:16,080 --> 00:30:17,440
those are probably the three i

799
00:30:17,440 --> 00:30:20,640
personally see the most

800
00:30:21,600 --> 00:30:22,480
and so

801
00:30:22,480 --> 00:30:24,080
file type identification is another

802
00:30:24,080 --> 00:30:25,760
important ir skill

803
00:30:25,760 --> 00:30:27,520
understanding what are called file

804
00:30:27,520 --> 00:30:30,399
signatures magic bytes magic numbers

805
00:30:30,399 --> 00:30:31,760
file headers whatever you want to call

806
00:30:31,760 --> 00:30:35,520
them they go by numerous names i've seen

807
00:30:35,520 --> 00:30:37,600
but they're important to understand

808
00:30:37,600 --> 00:30:39,760
because file extensions can either be

809
00:30:39,760 --> 00:30:42,480
removed or renamed to something else

810
00:30:42,480 --> 00:30:43,600
just to

811
00:30:43,600 --> 00:30:45,279
try to fool somebody

812
00:30:45,279 --> 00:30:46,960
as to what they really are but what

813
00:30:46,960 --> 00:30:48,720
happens when you open a file in a text

814
00:30:48,720 --> 00:30:51,520
editor or preferably in a hex editor

815
00:30:51,520 --> 00:30:52,960
with an ascii

816
00:30:52,960 --> 00:30:54,320
output window

817
00:30:54,320 --> 00:30:55,200
is

818
00:30:55,200 --> 00:30:56,720
you can look for certain things at the

819
00:30:56,720 --> 00:30:58,240
beginning of the files and at the end of

820
00:30:58,240 --> 00:31:00,480
the files and here's a great resource to

821
00:31:00,480 --> 00:31:02,480
a lot of these different file signatures

822
00:31:02,480 --> 00:31:04,320
and so just a couple quick examples of

823
00:31:04,320 --> 00:31:06,320
that if in your first few bytes in the

824
00:31:06,320 --> 00:31:08,640
ascii you see mz

825
00:31:08,640 --> 00:31:10,240
it's named it's actually the

826
00:31:10,240 --> 00:31:12,559
abbreviation for the person at microsoft

827
00:31:12,559 --> 00:31:15,279
who created the exe file format

828
00:31:15,279 --> 00:31:17,279
but when you see that mz at the

829
00:31:17,279 --> 00:31:20,320
beginning of a file and the ascii output

830
00:31:20,320 --> 00:31:22,240
is a good chance that's an executable

831
00:31:22,240 --> 00:31:25,360
file uh most likely it is

832
00:31:25,360 --> 00:31:26,960
even if the file extension isn't there

833
00:31:26,960 --> 00:31:29,200
it's been renamed to dot txt or whatever

834
00:31:29,200 --> 00:31:30,640
have you

835
00:31:30,640 --> 00:31:32,399
when you see pk

836
00:31:32,399 --> 00:31:34,640
uh that guardians back to the old pk

837
00:31:34,640 --> 00:31:38,000
where in pk zip days uh and so that's

838
00:31:38,000 --> 00:31:40,080
the file header you get for something

839
00:31:40,080 --> 00:31:42,080
uh and when you're looking at things

840
00:31:42,080 --> 00:31:43,919
there's usually three

841
00:31:43,919 --> 00:31:45,200
that aren't human readable there's

842
00:31:45,200 --> 00:31:48,240
usually three common threads here uh it

843
00:31:48,240 --> 00:31:50,399
could be encoded uh it could be

844
00:31:50,399 --> 00:31:53,919
encrypted or it could just be compressed

845
00:31:53,919 --> 00:31:55,600
and so when you look at the file header

846
00:31:55,600 --> 00:31:57,600
and you see pk that kind of helps you

847
00:31:57,600 --> 00:31:59,120
know probably compressed i can probably

848
00:31:59,120 --> 00:32:01,840
rename it to dot zip and extract it out

849
00:32:01,840 --> 00:32:04,960
and then inspect the contents

850
00:32:04,960 --> 00:32:07,279
yes

851
00:32:09,039 --> 00:32:10,480
um

852
00:32:10,480 --> 00:32:13,440
so actually i

853
00:32:13,840 --> 00:32:15,679
notepad

854
00:32:15,679 --> 00:32:18,000
actually in windows environment i i do

855
00:32:18,000 --> 00:32:18,960
so

856
00:32:18,960 --> 00:32:21,760
i like notepad plus plus for small files

857
00:32:21,760 --> 00:32:23,840
i actually prefer textpad for large

858
00:32:23,840 --> 00:32:26,159
files because it in a windows system can

859
00:32:26,159 --> 00:32:27,440
actually handle

860
00:32:27,440 --> 00:32:29,519
unimaginably large files without

861
00:32:29,519 --> 00:32:31,440
completely running the system out of

862
00:32:31,440 --> 00:32:33,919
resources

863
00:32:33,919 --> 00:32:36,640
on linux host i actually like the g hex

864
00:32:36,640 --> 00:32:38,159
hex editor

865
00:32:38,159 --> 00:32:41,760
so there's a couple of my my go to's um

866
00:32:41,760 --> 00:32:43,840
but i've also used i think it's like psy

867
00:32:43,840 --> 00:32:46,080
text or whatever's in remnucks i've used

868
00:32:46,080 --> 00:32:49,039
that one too uh and kind of made peace

869
00:32:49,039 --> 00:32:50,799
with it once i you know figured out how

870
00:32:50,799 --> 00:32:52,399
to get the regex

871
00:32:52,399 --> 00:32:55,679
searches working how i wanted um so

872
00:32:55,679 --> 00:32:59,120
just you know a couple examples

873
00:32:59,840 --> 00:33:01,600
all right

874
00:33:01,600 --> 00:33:03,519
let's say that again

875
00:33:03,519 --> 00:33:05,279
go ahead

876
00:33:05,279 --> 00:33:06,320
hexer

877
00:33:06,320 --> 00:33:07,760
okay

878
00:33:07,760 --> 00:33:11,360
so it's easier to move around

879
00:33:11,360 --> 00:33:14,959
all right good advice thank you

880
00:33:16,640 --> 00:33:19,120
i use it

881
00:33:20,399 --> 00:33:22,559
i i do

882
00:33:22,559 --> 00:33:25,840
there's a few of us

883
00:33:26,799 --> 00:33:28,799
i always use that in a pinch

884
00:33:28,799 --> 00:33:31,440
v-i-m i think v-i-m now is the

885
00:33:31,440 --> 00:33:33,760
population

886
00:33:34,000 --> 00:33:36,720
yeah most of the time it's basically um

887
00:33:36,720 --> 00:33:38,399
you know you have a link

888
00:33:38,399 --> 00:33:40,720
when you run vi it's really running them

889
00:33:40,720 --> 00:33:42,480
in the background but you know

890
00:33:42,480 --> 00:33:45,279
everybody's used to vi uh well maybe not

891
00:33:45,279 --> 00:33:47,039
everybody but if you're used to vi it's

892
00:33:47,039 --> 00:33:49,120
usually launching vim on most linux

893
00:33:49,120 --> 00:33:51,600
distributions these days um so

894
00:33:51,600 --> 00:33:53,039
understanding persistence i don't have

895
00:33:53,039 --> 00:33:54,799
time to drill into tons and tons of

896
00:33:54,799 --> 00:33:57,360
examples but the idea here is that if a

897
00:33:57,360 --> 00:33:59,919
threat actor gets hold of a system they

898
00:33:59,919 --> 00:34:01,760
want to maintain their foothold on that

899
00:34:01,760 --> 00:34:05,039
system and things that are volatile

900
00:34:05,039 --> 00:34:06,799
will go away if the system just simply

901
00:34:06,799 --> 00:34:08,560
gets restarted

902
00:34:08,560 --> 00:34:11,440
so persistence becomes important then to

903
00:34:11,440 --> 00:34:13,440
anybody doing offensive security

904
00:34:13,440 --> 00:34:15,359
regardless of their motive because they

905
00:34:15,359 --> 00:34:17,359
want to maintain and be able to you know

906
00:34:17,359 --> 00:34:20,239
re-establish that connection later on or

907
00:34:20,239 --> 00:34:22,320
keep it up the whole time

908
00:34:22,320 --> 00:34:24,399
and so there are some specific ones for

909
00:34:24,399 --> 00:34:25,839
windows and linux i don't have time to

910
00:34:25,839 --> 00:34:27,119
get into these

911
00:34:27,119 --> 00:34:28,960
and this i promise this is not like the

912
00:34:28,960 --> 00:34:30,719
10 000th talk

913
00:34:30,719 --> 00:34:33,520
out there on the miter attack framework

914
00:34:33,520 --> 00:34:36,560
but here's a good resource on mitre that

915
00:34:36,560 --> 00:34:38,960
talks about very specific ways that

916
00:34:38,960 --> 00:34:42,960
persistence happens on a on a host os

917
00:34:42,960 --> 00:34:43,839
and then

918
00:34:43,839 --> 00:34:47,040
identifying file execution understanding

919
00:34:47,040 --> 00:34:48,719
how to know if a file executed on

920
00:34:48,719 --> 00:34:50,399
windows endpoint

921
00:34:50,399 --> 00:34:52,159
so a lot of times your

922
00:34:52,159 --> 00:34:55,280
edr xdr solutions will tell you but if

923
00:34:55,280 --> 00:34:57,040
you don't have that

924
00:34:57,040 --> 00:34:59,920
and i talked about rot 13 earlier but in

925
00:34:59,920 --> 00:35:03,040
the windows registry h key current user

926
00:35:03,040 --> 00:35:04,880
software microsoft windows current

927
00:35:04,880 --> 00:35:07,599
version explorer user assist and then

928
00:35:07,599 --> 00:35:11,440
you have the grid and then count

929
00:35:11,440 --> 00:35:13,040
in that

930
00:35:13,040 --> 00:35:15,119
key or you know sort of define the

931
00:35:15,119 --> 00:35:16,880
things that run and those are actually

932
00:35:16,880 --> 00:35:19,200
rot 13 encoded

933
00:35:19,200 --> 00:35:20,800
so if you're looking to figure out did

934
00:35:20,800 --> 00:35:22,960
notepad.exe run or not you don't search

935
00:35:22,960 --> 00:35:25,359
the registry for notepad.exe

936
00:35:25,359 --> 00:35:27,920
you basically wrote 13

937
00:35:27,920 --> 00:35:30,400
in code notepad.exe and search for that

938
00:35:30,400 --> 00:35:32,480
in the registry

939
00:35:32,480 --> 00:35:34,400
this is again not an all-inclusive list

940
00:35:34,400 --> 00:35:36,960
but also memory dumps having a look at

941
00:35:36,960 --> 00:35:39,760
shim cache the prefetch folder on

942
00:35:39,760 --> 00:35:42,640
windows is also another good one

943
00:35:42,640 --> 00:35:46,400
and so with with prefetch

944
00:35:47,599 --> 00:35:50,240
the idea is that anything once runs on a

945
00:35:50,240 --> 00:35:52,880
windows host uh is it goes into the

946
00:35:52,880 --> 00:35:56,079
prefetch folder um and so the next time

947
00:35:56,079 --> 00:36:00,000
that file is loaded it'll load faster

948
00:36:00,000 --> 00:36:01,920
but things that have never run aren't

949
00:36:01,920 --> 00:36:04,000
going to be found in that folder so

950
00:36:04,000 --> 00:36:07,280
that's why it can be another helpful one

951
00:36:07,280 --> 00:36:09,280
and so one of the reasons windows is so

952
00:36:09,280 --> 00:36:12,320
hard to secure and you know compared to

953
00:36:12,320 --> 00:36:15,119
you know say mac os linux

954
00:36:15,119 --> 00:36:16,880
all these other types of systems is

955
00:36:16,880 --> 00:36:18,640
because there are a lot of file

956
00:36:18,640 --> 00:36:20,560
extensions that just simply run by

957
00:36:20,560 --> 00:36:22,800
default on a windows host

958
00:36:22,800 --> 00:36:25,599
if i get an exe file somehow from the

959
00:36:25,599 --> 00:36:27,599
internet and i double click on on the

960
00:36:27,599 --> 00:36:30,720
windows endpoint what's going to happen

961
00:36:30,720 --> 00:36:32,320
it's going to run it right because

962
00:36:32,320 --> 00:36:35,040
that's what the os is set to do if i

963
00:36:35,040 --> 00:36:37,680
download a dot sh shell script on my

964
00:36:37,680 --> 00:36:39,359
linux laptop

965
00:36:39,359 --> 00:36:41,520
and i double click on it

966
00:36:41,520 --> 00:36:44,240
nothing because it hasn't been the

967
00:36:44,240 --> 00:36:45,680
execute

968
00:36:45,680 --> 00:36:47,839
permission has not been set on that file

969
00:36:47,839 --> 00:36:49,760
unless i manually do so so it just

970
00:36:49,760 --> 00:36:51,920
doesn't run out of the box and there's

971
00:36:51,920 --> 00:36:53,520
so many of these things that here's a

972
00:36:53,520 --> 00:36:55,599
great how to geek article that talks

973
00:36:55,599 --> 00:36:57,520
about 50 of these

974
00:36:57,520 --> 00:36:58,720
and

975
00:36:58,720 --> 00:37:00,800
even they admit there might be more that

976
00:37:00,800 --> 00:37:02,320
we don't have covered that we don't even

977
00:37:02,320 --> 00:37:03,680
know about

978
00:37:03,680 --> 00:37:05,280
but that's one of the reasons windows is

979
00:37:05,280 --> 00:37:07,760
so hard to secure is because you have

980
00:37:07,760 --> 00:37:11,520
all sorts of things that just simply run

981
00:37:11,520 --> 00:37:13,520
and then evidence collection

982
00:37:13,520 --> 00:37:14,640
so there's a couple different

983
00:37:14,640 --> 00:37:16,800
methodologies here that i cite

984
00:37:16,800 --> 00:37:20,000
one is the old rfc 3227

985
00:37:20,000 --> 00:37:22,320
which is the order of volatility now the

986
00:37:22,320 --> 00:37:24,320
idea behind the order of volatility is

987
00:37:24,320 --> 00:37:26,400
you want to capture the artifacts from

988
00:37:26,400 --> 00:37:28,880
an endpoint you're investigating from

989
00:37:28,880 --> 00:37:31,839
the most volatile to the least volatile

990
00:37:31,839 --> 00:37:34,000
so for example things that are running

991
00:37:34,000 --> 00:37:35,760
in memory that's going to disappear

992
00:37:35,760 --> 00:37:37,200
pretty quick

993
00:37:37,200 --> 00:37:39,599
if you lose power or the system shut

994
00:37:39,599 --> 00:37:41,520
down on an end point

995
00:37:41,520 --> 00:37:43,760
anything that's volatile is gone like

996
00:37:43,760 --> 00:37:45,839
the contents of memory

997
00:37:45,839 --> 00:37:47,920
the data that's on a usb stick that's

998
00:37:47,920 --> 00:37:50,480
plugged into that system are not likely

999
00:37:50,480 --> 00:37:52,320
to change or disappear too much unless

1000
00:37:52,320 --> 00:37:54,480
there's you know some special software

1001
00:37:54,480 --> 00:37:56,880
that's set to do just that thing but

1002
00:37:56,880 --> 00:37:58,480
generally speaking the data that's

1003
00:37:58,480 --> 00:38:00,640
residing on a usb stick is still going

1004
00:38:00,640 --> 00:38:02,480
to be on that same usb stick even if the

1005
00:38:02,480 --> 00:38:04,880
system gets powered down thrown in a

1006
00:38:04,880 --> 00:38:06,560
closet for a couple months pulled back

1007
00:38:06,560 --> 00:38:07,520
out

1008
00:38:07,520 --> 00:38:09,040
so this is the idea that you want to get

1009
00:38:09,040 --> 00:38:10,560
the stuff that's going to disappear

1010
00:38:10,560 --> 00:38:12,800
first uh all the way down to like

1011
00:38:12,800 --> 00:38:14,480
archival media

1012
00:38:14,480 --> 00:38:16,839
and here's the link to the rfc for that

1013
00:38:16,839 --> 00:38:19,839
um it's a pretty similar list but nist

1014
00:38:19,839 --> 00:38:22,160
has a guide to

1015
00:38:22,160 --> 00:38:23,680
integrating forensic techniques into

1016
00:38:23,680 --> 00:38:25,520
incident response

1017
00:38:25,520 --> 00:38:28,640
and it's again the same concept here of

1018
00:38:28,640 --> 00:38:32,000
getting the most volatile data first

1019
00:38:32,000 --> 00:38:33,359
and they have a

1020
00:38:33,359 --> 00:38:36,400
specific order in which you can do that

1021
00:38:36,400 --> 00:38:37,839
i'm not saying you have to stick to one

1022
00:38:37,839 --> 00:38:39,440
or the other it's probably a good idea

1023
00:38:39,440 --> 00:38:41,200
but if you want to deviate from that

1024
00:38:41,200 --> 00:38:43,040
it's no problem but you probably want to

1025
00:38:43,040 --> 00:38:45,200
make sure in an organization that you're

1026
00:38:45,200 --> 00:38:46,400
documenting

1027
00:38:46,400 --> 00:38:48,720
how you're doing it in what order so

1028
00:38:48,720 --> 00:38:50,560
that you can then later on say well this

1029
00:38:50,560 --> 00:38:52,480
is our standard operating procedure to

1030
00:38:52,480 --> 00:38:54,240
do it this way

1031
00:38:54,240 --> 00:38:56,480
but conceptually you should have the

1032
00:38:56,480 --> 00:38:58,320
same idea getting the most volatile

1033
00:38:58,320 --> 00:39:01,640
stuff first

1034
00:39:01,680 --> 00:39:02,800
so some

1035
00:39:02,800 --> 00:39:06,160
tools for skill building cyber chef

1036
00:39:06,160 --> 00:39:09,599
i gave a cyber chef workshop here

1037
00:39:09,599 --> 00:39:11,520
at oisf

1038
00:39:11,520 --> 00:39:12,800
and

1039
00:39:12,800 --> 00:39:14,560
very similar to the wireshark workshop

1040
00:39:14,560 --> 00:39:17,119
you can download the files unzip it the

1041
00:39:17,119 --> 00:39:21,520
txt file is the lab guide um have at it

1042
00:39:21,520 --> 00:39:23,680
and there are also instant responses

1043
00:39:23,680 --> 00:39:26,000
forensic tools and cali linux believe it

1044
00:39:26,000 --> 00:39:27,520
or not some of you may be thinking well

1045
00:39:27,520 --> 00:39:29,520
cali's more offensive security that's

1046
00:39:29,520 --> 00:39:31,839
true but it does have tools like autopsy

1047
00:39:31,839 --> 00:39:34,640
in it um and so if you have cali

1048
00:39:34,640 --> 00:39:37,760
instance yeah why not dabble in that uh

1049
00:39:37,760 --> 00:39:40,800
remnucks is uh specific for reversing

1050
00:39:40,800 --> 00:39:41,839
malware

1051
00:39:41,839 --> 00:39:43,839
it's a great distribution

1052
00:39:43,839 --> 00:39:46,079
probably one i use

1053
00:39:46,079 --> 00:39:47,680
fairly frequently

1054
00:39:47,680 --> 00:39:50,480
cn sift workstation has some good stuff

1055
00:39:50,480 --> 00:39:52,079
you can actually combine those things

1056
00:39:52,079 --> 00:39:53,839
you can install sift

1057
00:39:53,839 --> 00:39:57,119
tools into remnux or vice versa

1058
00:39:57,119 --> 00:39:58,320
and then

1059
00:39:58,320 --> 00:40:00,000
that's great for static analysis but if

1060
00:40:00,000 --> 00:40:00,960
you're trying to look at windows

1061
00:40:00,960 --> 00:40:03,520
binaries those are linux systems uh

1062
00:40:03,520 --> 00:40:07,040
fireeye has what's called flare vm and

1063
00:40:07,040 --> 00:40:08,800
the idea is you can even download a

1064
00:40:08,800 --> 00:40:11,599
trial version of windows

1065
00:40:11,599 --> 00:40:13,760
install the flare tools in it

1066
00:40:13,760 --> 00:40:15,680
and where that's helpful is because that

1067
00:40:15,680 --> 00:40:18,319
helps you do dynamic analysis

1068
00:40:18,319 --> 00:40:20,319
so that helps you analyze how something

1069
00:40:20,319 --> 00:40:22,480
really impacts the system when it's

1070
00:40:22,480 --> 00:40:24,720
running live on the native os that it

1071
00:40:24,720 --> 00:40:27,599
was designed to run on uh so another

1072
00:40:27,599 --> 00:40:29,920
great um

1073
00:40:29,920 --> 00:40:32,160
collection of tools and utilities

1074
00:40:32,160 --> 00:40:34,880
i you know just have at it and dabble in

1075
00:40:34,880 --> 00:40:36,160
some of the tools

1076
00:40:36,160 --> 00:40:38,640
some really good stuff and then some

1077
00:40:38,640 --> 00:40:41,200
ways to build skills the anissa training

1078
00:40:41,200 --> 00:40:43,359
labs i've talked about those at oisf

1079
00:40:43,359 --> 00:40:44,880
before

1080
00:40:44,880 --> 00:40:47,520
some great technical content absolutely

1081
00:40:47,520 --> 00:40:49,760
free and it's geared specifically

1082
00:40:49,760 --> 00:40:51,359
towards instant response and they've got

1083
00:40:51,359 --> 00:40:52,880
some good forensic stuff in there as

1084
00:40:52,880 --> 00:40:53,760
well

1085
00:40:53,760 --> 00:40:56,800
participating capture the flag events

1086
00:40:56,800 --> 00:40:58,240
great learning experience i can't

1087
00:40:58,240 --> 00:41:00,960
recommend it enough

1088
00:41:00,960 --> 00:41:04,160
i know i probably learned the most

1089
00:41:04,160 --> 00:41:07,280
doing ctf things uh just because it

1090
00:41:07,280 --> 00:41:08,880
forces you to learn things maybe you

1091
00:41:08,880 --> 00:41:11,520
didn't know before or really refresh on

1092
00:41:11,520 --> 00:41:13,760
things that you got really rusty on

1093
00:41:13,760 --> 00:41:15,760
because you're trying to solve a a

1094
00:41:15,760 --> 00:41:17,839
capture of the flag challenge

1095
00:41:17,839 --> 00:41:20,000
and then periodically have a look again

1096
00:41:20,000 --> 00:41:22,319
not a talk on mitre but have a look at

1097
00:41:22,319 --> 00:41:23,359
the

1098
00:41:23,359 --> 00:41:25,440
tactics the techniques and procedures in

1099
00:41:25,440 --> 00:41:28,480
the miter attack framework and uh you

1100
00:41:28,480 --> 00:41:29,920
know really

1101
00:41:29,920 --> 00:41:31,760
from it is a response and detection

1102
00:41:31,760 --> 00:41:33,440
standpoint i really recommend

1103
00:41:33,440 --> 00:41:35,839
understanding the techniques and the

1104
00:41:35,839 --> 00:41:38,079
processes and procedures more so than

1105
00:41:38,079 --> 00:41:40,960
focusing on the tools because if i can

1106
00:41:40,960 --> 00:41:42,240
take

1107
00:41:42,240 --> 00:41:43,880
my

1108
00:41:43,880 --> 00:41:46,520
badware.exe file rename it to

1109
00:41:46,520 --> 00:41:48,880
goodwear.exe file and it defeats your

1110
00:41:48,880 --> 00:41:50,560
security

1111
00:41:50,560 --> 00:41:51,839
solutions

1112
00:41:51,839 --> 00:41:53,920
not a good detection

1113
00:41:53,920 --> 00:41:57,400
also if

1114
00:42:08,319 --> 00:42:10,800
hello folks iron geek here

1115
00:42:10,800 --> 00:42:12,240
unfortunately

1116
00:42:12,240 --> 00:42:15,040
the microphone ran out of juice so we

1117
00:42:15,040 --> 00:42:16,800
lost audio for most the rest of this

1118
00:42:16,800 --> 00:42:18,000
video

1119
00:42:18,000 --> 00:42:21,800
apologies for the inconvenience

1120
00:52:25,710 --> 00:52:26,960
[Music]

1121
00:52:26,960 --> 00:52:31,240
again thank you great presentation

1122
00:52:34,760 --> 00:52:39,849
[Applause]

1123
00:52:44,839 --> 00:52:46,559
uh actually some high bosses from last

1124
00:52:46,559 --> 00:52:48,400
year that if you're interested so

1125
00:52:48,400 --> 00:52:50,880
uh check them out later come on so very

1126
00:52:50,880 --> 00:52:52,079
cool

1127
00:52:52,079 --> 00:52:53,520
all right we're going to get set up well

1128
00:52:53,520 --> 00:52:56,079
scott is getting set up

1129
00:52:56,079 --> 00:52:58,319
folks this is a hacker conference i

1130
00:52:58,319 --> 00:53:00,079
don't see enough black cats out here in

1131
00:53:00,079 --> 00:53:02,079
this audience

1132
00:53:02,079 --> 00:53:04,319
i think we need to fix this situation

1133
00:53:04,319 --> 00:53:06,000
right now

1134
00:53:06,000 --> 00:53:08,160
so

1135
00:53:08,160 --> 00:53:10,880
wave your hands and make some noise if

1136
00:53:10,880 --> 00:53:13,960
you want a hat

1137
00:53:13,960 --> 00:53:17,070
[Music]

1138
00:53:18,160 --> 00:53:19,680
i need to change the batteries in the

1139
00:53:19,680 --> 00:53:22,240
microphone

1140
00:53:23,960 --> 00:53:26,559
[Applause]

1141
00:53:26,559 --> 00:53:29,119
hello everybody iron geek here

1142
00:53:29,119 --> 00:53:30,640
unfortunately

1143
00:53:30,640 --> 00:53:33,040
the microphone ran out of juice at about

1144
00:53:33,040 --> 00:53:35,680
this point so most the audio until the

1145
00:53:35,680 --> 00:53:37,359
end of the video is

1146
00:53:37,359 --> 00:53:38,640
not there

1147
00:53:38,640 --> 00:53:41,640
apologies

