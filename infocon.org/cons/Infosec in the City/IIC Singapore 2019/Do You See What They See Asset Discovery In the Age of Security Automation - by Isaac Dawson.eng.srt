1
00:00:00,030 --> 00:00:02,340
good to go alright hello everybody my

2
00:00:02,340 --> 00:00:04,410
name is Isaac Dawson I'm CEO and founder

3
00:00:04,410 --> 00:00:06,960
of link I we do continuous a discovery

4
00:00:06,960 --> 00:00:09,300
for external facing websites and

5
00:00:09,300 --> 00:00:11,639
infrastructure so just a quick word

6
00:00:11,639 --> 00:00:12,540
about who I am

7
00:00:12,540 --> 00:00:15,299
as mentioned CEO and founder prior to

8
00:00:15,299 --> 00:00:16,199
that I worked for a company called

9
00:00:16,199 --> 00:00:18,539
Verico that did dynamic and binary

10
00:00:18,539 --> 00:00:20,850
static analysis I was the lead for the

11
00:00:20,850 --> 00:00:23,189
research and development for doing

12
00:00:23,189 --> 00:00:25,740
research on attack strings trying to

13
00:00:25,740 --> 00:00:28,140
automate like sequel injection but make

14
00:00:28,140 --> 00:00:29,550
it so it didn't actually destroy all of

15
00:00:29,550 --> 00:00:31,289
our customers data so trying to do

16
00:00:31,289 --> 00:00:34,710
things at scale safely prior to that I

17
00:00:34,710 --> 00:00:36,899
was a application security consultant

18
00:00:36,899 --> 00:00:40,530
for Symantec and at stake overall about

19
00:00:40,530 --> 00:00:43,640
19 years of experience professional

20
00:00:43,640 --> 00:00:48,629
experience in information security so

21
00:00:48,629 --> 00:00:50,910
real quick I just want to give a rundown

22
00:00:50,910 --> 00:00:52,680
to what this is this talk is about so

23
00:00:52,680 --> 00:00:54,449
the asset discovery problem what is it

24
00:00:54,449 --> 00:00:56,129
why should your organization to have

25
00:00:56,129 --> 00:00:58,140
some sort of asset discovery program in

26
00:00:58,140 --> 00:01:00,090
place how the industry has really

27
00:01:00,090 --> 00:01:02,129
changed in the past ten years or so and

28
00:01:02,129 --> 00:01:04,438
how automation has really moved

29
00:01:04,438 --> 00:01:06,299
everything forward much faster than

30
00:01:06,299 --> 00:01:08,369
before and I want to cover how to build

31
00:01:08,369 --> 00:01:09,510
your own program within your

32
00:01:09,510 --> 00:01:12,540
organization so if in fact if you are a

33
00:01:12,540 --> 00:01:14,040
bug bounty person you can probably take

34
00:01:14,040 --> 00:01:15,360
the same information and use it for your

35
00:01:15,360 --> 00:01:17,460
bug bounties but for an organization you

36
00:01:17,460 --> 00:01:18,840
may want to use this information to

37
00:01:18,840 --> 00:01:21,869
build your own program as well and I

38
00:01:21,869 --> 00:01:24,030
want to cover the the benefits of having

39
00:01:24,030 --> 00:01:26,070
one as well as not having one and then

40
00:01:26,070 --> 00:01:29,670
some final remarks so to really set the

41
00:01:29,670 --> 00:01:32,880
stage for what the importance of having

42
00:01:32,880 --> 00:01:35,040
an asset discovery program in place is

43
00:01:35,040 --> 00:01:36,990
let's use this fictitious company called

44
00:01:36,990 --> 00:01:39,509
I don't whatever company comm so you

45
00:01:39,509 --> 00:01:41,280
have your your standard firewall with

46
00:01:41,280 --> 00:01:42,840
your web application servers the

47
00:01:42,840 --> 00:01:45,930
databases in the backend now this is

48
00:01:45,930 --> 00:01:47,640
probably highly monitored and highly

49
00:01:47,640 --> 00:01:49,909
secured quarterly scans monthly scans

50
00:01:49,909 --> 00:01:52,140
everything's going great but then

51
00:01:52,140 --> 00:01:53,970
marketing needs to set up some website

52
00:01:53,970 --> 00:01:55,470
and they have a pretty tight deadline

53
00:01:55,470 --> 00:01:56,969
let's say maybe two weeks a month that

54
00:01:56,969 --> 00:01:59,909
they needed get a website up it needs to

55
00:01:59,909 --> 00:02:02,399
be able to take information from

56
00:02:02,399 --> 00:02:05,250
customers but they can't really put it

57
00:02:05,250 --> 00:02:07,020
inside of the the protected and

58
00:02:07,020 --> 00:02:08,940
monitored network so they decided to put

59
00:02:08,940 --> 00:02:11,220
it into the cloud it still needs to be

60
00:02:11,220 --> 00:02:13,740
able to update information

61
00:02:13,740 --> 00:02:15,180
in the customer database or have some

62
00:02:15,180 --> 00:02:17,280
sort of connection back to the the

63
00:02:17,280 --> 00:02:20,280
infrastructure on the back end now maybe

64
00:02:20,280 --> 00:02:21,840
this marketing team is smart and they

65
00:02:21,840 --> 00:02:23,160
work with the security and operations

66
00:02:23,160 --> 00:02:24,840
team they got a firewall in place

67
00:02:24,840 --> 00:02:26,190
everything's patched of things looking

68
00:02:26,190 --> 00:02:29,790
great so campaign time launches users

69
00:02:29,790 --> 00:02:32,000
sign up buy products whatever

70
00:02:32,000 --> 00:02:34,710
now after a certain period of time this

71
00:02:34,710 --> 00:02:37,320
site knows is no longer needed it's no

72
00:02:37,320 --> 00:02:40,610
longer used anymore the campaigns over

73
00:02:40,610 --> 00:02:43,440
but let's say six months to a year out

74
00:02:43,440 --> 00:02:45,390
someone starts probing this organization

75
00:02:45,390 --> 00:02:47,040
so maybe they're trying to find

76
00:02:47,040 --> 00:02:49,200
vulnerabilities sequel injection and in

77
00:02:49,200 --> 00:02:52,050
the the web servers for company comm but

78
00:02:52,050 --> 00:02:54,270
things again our quarterly scans secured

79
00:02:54,270 --> 00:02:55,950
so they start probing across four

80
00:02:55,950 --> 00:02:57,120
different sub domains and they come

81
00:02:57,120 --> 00:02:59,280
across this marketing website now it's

82
00:02:59,280 --> 00:03:00,570
been six months to a year

83
00:03:00,570 --> 00:03:02,580
it's basically forgotten hasn't been

84
00:03:02,580 --> 00:03:04,830
patched hasn't been updated and it could

85
00:03:04,830 --> 00:03:05,670
be compromised

86
00:03:05,670 --> 00:03:07,860
so from here they really have two

87
00:03:07,860 --> 00:03:09,720
options one if there is a pipe back to

88
00:03:09,720 --> 00:03:11,670
the protected and infrastructure they

89
00:03:11,670 --> 00:03:14,310
could use that or they could try to take

90
00:03:14,310 --> 00:03:16,020
credentials from this marketing website

91
00:03:16,020 --> 00:03:18,000
and reuse it on other parts of the

92
00:03:18,000 --> 00:03:20,370
organization now this may seem

93
00:03:20,370 --> 00:03:21,720
hypothetical but I've already heard

94
00:03:21,720 --> 00:03:23,610
about three or four cases during this

95
00:03:23,610 --> 00:03:25,530
caucus conference for people like yeah

96
00:03:25,530 --> 00:03:27,690
my marketing site got compromised a

97
00:03:27,690 --> 00:03:29,640
person from duo just mentioned it

98
00:03:29,640 --> 00:03:31,440
yesterday as well and I've been on

99
00:03:31,440 --> 00:03:34,410
customer calls where we give them a list

100
00:03:34,410 --> 00:03:36,540
of assets and that they didn't know they

101
00:03:36,540 --> 00:03:38,520
had and wow that sites two years old I

102
00:03:38,520 --> 00:03:40,230
had no idea what I was sitting there or

103
00:03:40,230 --> 00:03:42,270
it was a developer's virtual machine

104
00:03:42,270 --> 00:03:44,040
that they stood up and they forgot about

105
00:03:44,040 --> 00:03:45,240
it we're just gonna shut that off right

106
00:03:45,240 --> 00:03:48,440
now so these things absolutely do happen

107
00:03:48,440 --> 00:03:51,750
so let's use another example of if you

108
00:03:51,750 --> 00:03:52,890
don't have an asset discovery program

109
00:03:52,890 --> 00:03:55,500
some of the risks or issues that you're

110
00:03:55,500 --> 00:03:57,540
going to run into so let's take an

111
00:03:57,540 --> 00:03:59,460
example incident where there's a new

112
00:03:59,460 --> 00:04:02,000
exploit that was released for apache so

113
00:04:02,000 --> 00:04:03,780
immediately you're going to have some

114
00:04:03,780 --> 00:04:05,490
questions how many my websites are

115
00:04:05,490 --> 00:04:08,070
affected or who do i ask to get that

116
00:04:08,070 --> 00:04:10,590
information is that information accurate

117
00:04:10,590 --> 00:04:12,959
and up-to-date what versions do I have

118
00:04:12,959 --> 00:04:16,589
is this applicable to me and even is

119
00:04:16,589 --> 00:04:19,529
this site even under my control

120
00:04:19,529 --> 00:04:21,089
maybe I'm outsourcing to a marketing

121
00:04:21,089 --> 00:04:23,250
company and it's using my domain but

122
00:04:23,250 --> 00:04:24,810
it's not something that I can control so

123
00:04:24,810 --> 00:04:26,340
now I have to communicate with that

124
00:04:26,340 --> 00:04:27,020
third part

125
00:04:27,020 --> 00:04:30,110
to get them to patch so all of these

126
00:04:30,110 --> 00:04:32,300
things are going to take time to answer

127
00:04:32,300 --> 00:04:34,759
and if you don't have a list of assets

128
00:04:34,759 --> 00:04:37,520
that's up to date and there's an

129
00:04:37,520 --> 00:04:39,889
emergency you're going to be having some

130
00:04:39,889 --> 00:04:41,210
problems you're going to be working

131
00:04:41,210 --> 00:04:44,620
against the the the incident time wise

132
00:04:44,620 --> 00:04:47,150
so the question I want to ask is how

133
00:04:47,150 --> 00:04:48,289
long would it take you to answer these

134
00:04:48,289 --> 00:04:52,220
questions so maybe a week if you have to

135
00:04:52,220 --> 00:04:54,199
if you have to communicate with third

136
00:04:54,199 --> 00:04:56,630
parties maybe a month all this time

137
00:04:56,630 --> 00:04:58,419
there's an exploit that is being

138
00:04:58,419 --> 00:05:02,000
exploited across the internet so the

139
00:05:02,000 --> 00:05:03,319
second question would be is how long can

140
00:05:03,319 --> 00:05:04,639
you afford to not have answers to these

141
00:05:04,639 --> 00:05:10,159
questions so to make things even worse

142
00:05:10,159 --> 00:05:12,650
now we have more much more than before

143
00:05:12,650 --> 00:05:14,330
like 10-15 years ago we have this

144
00:05:14,330 --> 00:05:16,520
changing landscape where developers are

145
00:05:16,520 --> 00:05:19,220
bringing machines online we have new

146
00:05:19,220 --> 00:05:21,639
hosts that are coming online these hosts

147
00:05:21,639 --> 00:05:24,500
use different programming languages so

148
00:05:24,500 --> 00:05:26,509
now you have to lay out two levels of

149
00:05:26,509 --> 00:05:27,590
things that you need to keep up-to-date

150
00:05:27,590 --> 00:05:29,900
with the operating system level patches

151
00:05:29,900 --> 00:05:32,690
the language that's being used patches

152
00:05:32,690 --> 00:05:37,219
and these applications have their own

153
00:05:37,219 --> 00:05:38,690
sets of dependencies so maybe they're

154
00:05:38,690 --> 00:05:41,090
using jQuery maybe they use a Redis

155
00:05:41,090 --> 00:05:43,159
back-end is that Redis back-end that

156
00:05:43,159 --> 00:05:45,259
just got turned on is that maybe

157
00:05:45,259 --> 00:05:46,669
unauthenticated and sitting on the

158
00:05:46,669 --> 00:05:51,199
internet so these systems coming online

159
00:05:51,199 --> 00:05:53,810
and offline you also have dependencies

160
00:05:53,810 --> 00:05:56,360
on top of dependencies because maybe all

161
00:05:56,360 --> 00:05:57,650
these systems aren't running in your

162
00:05:57,650 --> 00:05:59,750
infrastructure maybe it's running an

163
00:05:59,750 --> 00:06:02,960
Amazon or Microsoft Azure so if let's

164
00:06:02,960 --> 00:06:04,909
say Azure has an outage how many your

165
00:06:04,909 --> 00:06:06,830
websites are going to be affected if you

166
00:06:06,830 --> 00:06:08,599
don't have this list your inventory list

167
00:06:08,599 --> 00:06:09,919
and it's not being completed and

168
00:06:09,919 --> 00:06:12,080
something updated again these are

169
00:06:12,080 --> 00:06:13,430
questions that you would want to have

170
00:06:13,430 --> 00:06:16,759
answered before an incident occurs TLS

171
00:06:16,759 --> 00:06:18,710
certificates is another great example if

172
00:06:18,710 --> 00:06:19,909
you're not keeping up to date with your

173
00:06:19,909 --> 00:06:21,860
TLS certificates when they expire and

174
00:06:21,860 --> 00:06:24,979
they do expire your parts of your

175
00:06:24,979 --> 00:06:26,569
organization will no longer be

176
00:06:26,569 --> 00:06:28,909
accessible if it's an API system

177
00:06:28,909 --> 00:06:31,009
maybe mobile client only goes through a

178
00:06:31,009 --> 00:06:32,509
certain API gateway and if that

179
00:06:32,509 --> 00:06:33,949
certificate expires now your mobile

180
00:06:33,949 --> 00:06:38,300
clients don't work another kind of

181
00:06:38,300 --> 00:06:40,010
concern with this changing landscape is

182
00:06:40,010 --> 00:06:40,650
if depending on

183
00:06:40,650 --> 00:06:42,810
size of your organization cannon

184
00:06:42,810 --> 00:06:44,130
probably has this issue with mergers and

185
00:06:44,130 --> 00:06:46,199
acquisitions where they're bringing on

186
00:06:46,199 --> 00:06:48,330
completely new organizations and they

187
00:06:48,330 --> 00:06:50,160
have to migrate them over to their

188
00:06:50,160 --> 00:06:52,470
systems but that's going to take six

189
00:06:52,470 --> 00:06:53,940
months to a year to two years for that

190
00:06:53,940 --> 00:06:56,669
to actually occur if ever so you have

191
00:06:56,669 --> 00:06:58,139
all these systems that you need to be

192
00:06:58,139 --> 00:06:59,460
concerned with and if you don't have

193
00:06:59,460 --> 00:07:02,850
this list it's just going to be

194
00:07:02,850 --> 00:07:04,889
extremely hard for you to really to

195
00:07:04,889 --> 00:07:09,060
prioritize your security programs so I

196
00:07:09,060 --> 00:07:10,620
want to take a quick look at the the

197
00:07:10,620 --> 00:07:12,630
industry response and how technology and

198
00:07:12,630 --> 00:07:14,400
processes have kind of changed and where

199
00:07:14,400 --> 00:07:17,639
we're heading now I think most of us in

200
00:07:17,639 --> 00:07:19,470
the room would agree if any of you deal

201
00:07:19,470 --> 00:07:21,600
with product security or any sort of

202
00:07:21,600 --> 00:07:23,699
product development that everything is

203
00:07:23,699 --> 00:07:25,830
moving towards continuous automation so

204
00:07:25,830 --> 00:07:29,430
we have C ICD and now thankfully we also

205
00:07:29,430 --> 00:07:31,080
have security trying to integrate itself

206
00:07:31,080 --> 00:07:34,710
within this pipeline so with these new

207
00:07:34,710 --> 00:07:37,560
automation routines we have security

208
00:07:37,560 --> 00:07:39,449
trying to integrate itself at very

209
00:07:39,449 --> 00:07:42,060
specific points but overall everything

210
00:07:42,060 --> 00:07:43,889
is moving towards a continuous system

211
00:07:43,889 --> 00:07:46,199
because it just it increases the

212
00:07:46,199 --> 00:07:48,750
productivity and it increases that the

213
00:07:48,750 --> 00:07:50,160
features that we can push to our

214
00:07:50,160 --> 00:07:50,910
customers

215
00:07:50,910 --> 00:07:54,630
and continuous security is becoming a

216
00:07:54,630 --> 00:07:55,770
large part of that B and there's this

217
00:07:55,770 --> 00:07:57,479
concept of continuous assurance where

218
00:07:57,479 --> 00:07:59,639
you create a baseline of what you think

219
00:07:59,639 --> 00:08:02,099
is secure you monitor it maybe new

220
00:08:02,099 --> 00:08:04,289
features are released and you need to

221
00:08:04,289 --> 00:08:06,990
adjust your your baseline and it's just

222
00:08:06,990 --> 00:08:09,720
this model of continuous assurance so

223
00:08:09,720 --> 00:08:11,130
all this is telling us is that we're

224
00:08:11,130 --> 00:08:13,199
moving into this this era of continuous

225
00:08:13,199 --> 00:08:16,560
security and I would I want to say that

226
00:08:16,560 --> 00:08:18,090
probably within the next five years or

227
00:08:18,090 --> 00:08:20,370
so we're going to have most of our

228
00:08:20,370 --> 00:08:22,710
security testing being done continuously

229
00:08:22,710 --> 00:08:24,330
it's going to become completely

230
00:08:24,330 --> 00:08:27,510
automated the days of organizations

231
00:08:27,510 --> 00:08:29,280
using the excuse of you can't scan

232
00:08:29,280 --> 00:08:30,990
production I'm think are coming to an

233
00:08:30,990 --> 00:08:32,760
end because guess what we're getting

234
00:08:32,760 --> 00:08:35,700
scanned all the time everywhere so it

235
00:08:35,700 --> 00:08:37,500
only makes sense for us to utilize these

236
00:08:37,500 --> 00:08:39,390
security tools because attackers are

237
00:08:39,390 --> 00:08:44,010
using it against us anyways and a lot of

238
00:08:44,010 --> 00:08:47,940
this really has come out from bug

239
00:08:47,940 --> 00:08:49,620
bounties and I don't want to say bug

240
00:08:49,620 --> 00:08:51,029
bounties have really changed the game

241
00:08:51,029 --> 00:08:53,190
but I think they've really exposed what

242
00:08:53,190 --> 00:08:54,260
the game is to the

243
00:08:54,260 --> 00:08:57,260
like that we are moving towards this age

244
00:08:57,260 --> 00:08:59,720
of being scanned constantly attackers

245
00:08:59,720 --> 00:09:01,490
are creating maps of our external facing

246
00:09:01,490 --> 00:09:03,590
infrastructure they're using this

247
00:09:03,590 --> 00:09:06,350
information to build up lists of assets

248
00:09:06,350 --> 00:09:08,990
technologies dependencies there may not

249
00:09:08,990 --> 00:09:11,270
be an issue today but now they have a

250
00:09:11,270 --> 00:09:13,220
list to see if something occurs in the

251
00:09:13,220 --> 00:09:15,610
future that they can use against you and

252
00:09:15,610 --> 00:09:18,050
bug bounties again I think I've been

253
00:09:18,050 --> 00:09:19,820
really good at exposing this and showing

254
00:09:19,820 --> 00:09:22,970
that bug bounty people have a higher

255
00:09:22,970 --> 00:09:24,830
chance of getting paid their bounties if

256
00:09:24,830 --> 00:09:27,320
they automate a lot of their tasks so

257
00:09:27,320 --> 00:09:29,630
they're moving towards this everybody's

258
00:09:29,630 --> 00:09:31,180
in fact there was a talk earlier today

259
00:09:31,180 --> 00:09:34,550
where two gentlemen were talking about

260
00:09:34,550 --> 00:09:36,710
how they were automating their bug

261
00:09:36,710 --> 00:09:38,960
bounties programs to find low-hanging

262
00:09:38,960 --> 00:09:41,410
fruits so this basically means just

263
00:09:41,410 --> 00:09:43,790
scanning for all the easy stuff so that

264
00:09:43,790 --> 00:09:45,800
they can focus on the more critical high

265
00:09:45,800 --> 00:09:48,140
level stuff but those even those

266
00:09:48,140 --> 00:09:50,360
low-hanging fruits are usually critical

267
00:09:50,360 --> 00:09:52,840
vulnerabilities whether it's SSR f or

268
00:09:52,840 --> 00:09:55,160
xxe injection or any of these other

269
00:09:55,160 --> 00:09:58,370
types of attacks they can be used to

270
00:09:58,370 --> 00:10:00,020
break in easily in an automated fashion

271
00:10:00,020 --> 00:10:02,000
and that is probably the last thing you

272
00:10:02,000 --> 00:10:03,680
want you would probably prefer someone

273
00:10:03,680 --> 00:10:05,540
having to take the time to try to break

274
00:10:05,540 --> 00:10:07,160
in your organization than having a

275
00:10:07,160 --> 00:10:11,780
script do it so I want to talk about

276
00:10:11,780 --> 00:10:13,850
maybe building your own asset discovery

277
00:10:13,850 --> 00:10:15,980
program I don't know how many of you in

278
00:10:15,980 --> 00:10:17,330
here are in that position where you're

279
00:10:17,330 --> 00:10:19,550
able to build something like this but if

280
00:10:19,550 --> 00:10:20,840
you're not you can use this information

281
00:10:20,840 --> 00:10:22,400
to talk to your security team or your

282
00:10:22,400 --> 00:10:25,760
operations team and I really want to

283
00:10:25,760 --> 00:10:28,580
talk about why so one of my beta testers

284
00:10:28,580 --> 00:10:30,230
I was talking to them and I'm like so

285
00:10:30,230 --> 00:10:32,030
why did you use my service or whatever

286
00:10:32,030 --> 00:10:33,950
and they basically said I don't want any

287
00:10:33,950 --> 00:10:36,590
surprises I don't want to find out that

288
00:10:36,590 --> 00:10:38,690
this marketing site had been hacked and

289
00:10:38,690 --> 00:10:40,580
for two years and I didn't even know

290
00:10:40,580 --> 00:10:42,770
that service existed I just don't want

291
00:10:42,770 --> 00:10:44,150
to be surprised I want to know what's

292
00:10:44,150 --> 00:10:46,370
out there what level of patches or what

293
00:10:46,370 --> 00:10:49,250
versions of software I'm running and I

294
00:10:49,250 --> 00:10:50,630
think that's are probably a really good

295
00:10:50,630 --> 00:10:52,220
use case for a lot of these these

296
00:10:52,220 --> 00:10:53,780
organizations they just don't want to be

297
00:10:53,780 --> 00:10:58,100
surprised so if you don't have an asset

298
00:10:58,100 --> 00:10:59,900
discovery program I would say probably

299
00:10:59,900 --> 00:11:02,120
the the one of the largest issues is

300
00:11:02,120 --> 00:11:06,590
it's really hard to prioritize your

301
00:11:06,590 --> 00:11:08,379
security and operations per

302
00:11:08,379 --> 00:11:10,629
so patch management has been flying

303
00:11:10,629 --> 00:11:12,910
around a lot here at this conference and

304
00:11:12,910 --> 00:11:14,170
if you don't have a list of your assets

305
00:11:14,170 --> 00:11:16,899
well you can't patch them and I really

306
00:11:16,899 --> 00:11:20,230
feel like the first step in any security

307
00:11:20,230 --> 00:11:21,999
programming is knowing what you have so

308
00:11:21,999 --> 00:11:23,350
you know how to protect it and if you

309
00:11:23,350 --> 00:11:24,579
don't have that it's going to be

310
00:11:24,579 --> 00:11:25,989
extremely hard you're gonna be working

311
00:11:25,989 --> 00:11:28,329
against the tide to really try to keep

312
00:11:28,329 --> 00:11:30,970
your systems at a good baseline of

313
00:11:30,970 --> 00:11:35,619
security another kind of issue that I

314
00:11:35,619 --> 00:11:37,119
see is more of an organizational issue

315
00:11:37,119 --> 00:11:38,410
where there's gonna be finger-pointing

316
00:11:38,410 --> 00:11:39,939
and blame and I've seen this in

317
00:11:39,939 --> 00:11:42,629
organizations in the past where if

318
00:11:42,629 --> 00:11:44,529
something let's say the marketing site

319
00:11:44,529 --> 00:11:46,209
does get compromised what people are

320
00:11:46,209 --> 00:11:47,679
gonna start blaming a marketing well

321
00:11:47,679 --> 00:11:48,939
it's not really marketing this fault it

322
00:11:48,939 --> 00:11:50,350
was everybody's fault because security

323
00:11:50,350 --> 00:11:51,939
forgot about it marketing forgot about

324
00:11:51,939 --> 00:11:54,879
it so if you have this list in place and

325
00:11:54,879 --> 00:11:57,009
you know who the owner of it is it's

326
00:11:57,009 --> 00:11:59,350
much easier to work together to really

327
00:11:59,350 --> 00:12:03,759
solve these types of issues and going

328
00:12:03,759 --> 00:12:05,410
back to the point of if a incident

329
00:12:05,410 --> 00:12:07,059
occurs or there's a new attack that came

330
00:12:07,059 --> 00:12:10,269
out it's really time consuming to answer

331
00:12:10,269 --> 00:12:11,619
these a lot of these questions and

332
00:12:11,619 --> 00:12:12,970
that's not something you want to be

333
00:12:12,970 --> 00:12:14,499
working on when you're in emergency mode

334
00:12:14,499 --> 00:12:16,209
you want to be remediating your issues

335
00:12:16,209 --> 00:12:18,699
as soon as possible not trying to answer

336
00:12:18,699 --> 00:12:24,100
where my websites and the benefits of an

337
00:12:24,100 --> 00:12:25,689
asset discovery program I mean it's been

338
00:12:25,689 --> 00:12:27,160
pretty clear like you're able to answer

339
00:12:27,160 --> 00:12:28,600
a lot of these questions you're gonna

340
00:12:28,600 --> 00:12:31,089
have proper prioritization Incident

341
00:12:31,089 --> 00:12:32,949
Response becomes much easier once you

342
00:12:32,949 --> 00:12:34,899
know where things are who the owner is

343
00:12:34,899 --> 00:12:36,999
what versions they're at and it really

344
00:12:36,999 --> 00:12:38,139
helps you determine your third-party

345
00:12:38,139 --> 00:12:40,809
dependencies and risks I don't know how

346
00:12:40,809 --> 00:12:42,790
many of you here are familiar with the

347
00:12:42,790 --> 00:12:46,230
source composition analysis that's

348
00:12:46,230 --> 00:12:48,360
getting more and more popular where

349
00:12:48,360 --> 00:12:50,079
organization product teams and

350
00:12:50,079 --> 00:12:51,369
development and developers in general

351
00:12:51,369 --> 00:12:54,189
want to know all of their their

352
00:12:54,189 --> 00:12:56,079
dependencies so it's like a third party

353
00:12:56,079 --> 00:12:59,079
chain supply management risk issue you

354
00:12:59,079 --> 00:13:00,549
can also do that from the outside as

355
00:13:00,549 --> 00:13:02,199
well because there's tools that allow

356
00:13:02,199 --> 00:13:04,179
you to determine certain versions or

357
00:13:04,179 --> 00:13:05,649
what software you're running from the

358
00:13:05,649 --> 00:13:07,839
outside so it really helps you build up

359
00:13:07,839 --> 00:13:10,209
a list of your dependencies in there and

360
00:13:10,209 --> 00:13:11,709
their risks because there are going to

361
00:13:11,709 --> 00:13:12,879
be vulnerabilities that are going to be

362
00:13:12,879 --> 00:13:14,350
released that you do need to know about

363
00:13:14,350 --> 00:13:16,480
and you do need to know if they affect

364
00:13:16,480 --> 00:13:19,670
your services and products in particular

365
00:13:19,670 --> 00:13:22,280
other kind of as non-security related

366
00:13:22,280 --> 00:13:24,530
issues that really a passive discovery

367
00:13:24,530 --> 00:13:25,850
program helps with the system health

368
00:13:25,850 --> 00:13:27,770
checks TLS certificates is more of an

369
00:13:27,770 --> 00:13:30,860
availability issue latency issues if you

370
00:13:30,860 --> 00:13:32,090
have a good program in place that's

371
00:13:32,090 --> 00:13:34,040
doing continuous monitoring you can get

372
00:13:34,040 --> 00:13:36,980
good read back for feedback for how

373
00:13:36,980 --> 00:13:41,660
latent your requests are so how do we

374
00:13:41,660 --> 00:13:43,400
get started well first off you're gonna

375
00:13:43,400 --> 00:13:45,770
work with your teens this is well it's

376
00:13:45,770 --> 00:13:47,810
something that could be done by just the

377
00:13:47,810 --> 00:13:49,070
security team I wouldn't really

378
00:13:49,070 --> 00:13:50,450
recommend it you really want to get

379
00:13:50,450 --> 00:13:51,920
input from all your teams especially

380
00:13:51,920 --> 00:13:53,600
again if you're a product development

381
00:13:53,600 --> 00:13:56,390
organization so one thing that I've seen

382
00:13:56,390 --> 00:13:58,460
work in the past is to have product

383
00:13:58,460 --> 00:14:00,320
teams submit their information or

384
00:14:00,320 --> 00:14:02,960
product team owners someone where you

385
00:14:02,960 --> 00:14:04,790
can delegate to say okay you're creating

386
00:14:04,790 --> 00:14:06,920
this product it's running these servers

387
00:14:06,920 --> 00:14:09,380
with these dependencies and these

388
00:14:09,380 --> 00:14:11,900
dependencies are at these versions so

389
00:14:11,900 --> 00:14:13,700
you get them to Delhi you delegate that

390
00:14:13,700 --> 00:14:16,520
information so you can collect it in a

391
00:14:16,520 --> 00:14:19,220
single shared single source of truth

392
00:14:19,220 --> 00:14:21,370
neither maybe it's a document or a wiki

393
00:14:21,370 --> 00:14:23,570
someplace where people can update it

394
00:14:23,570 --> 00:14:26,330
with their information you probably want

395
00:14:26,330 --> 00:14:27,170
to talk to your sales and marketing

396
00:14:27,170 --> 00:14:29,000
teams see what websites they know about

397
00:14:29,000 --> 00:14:30,650
what what are they used on a day to day

398
00:14:30,650 --> 00:14:33,770
basis extracting information from logs

399
00:14:33,770 --> 00:14:36,350
like syslog if you're using AWS there's

400
00:14:36,350 --> 00:14:38,210
cloud watch is a great resource to be

401
00:14:38,210 --> 00:14:40,490
able to pull out which domains and which

402
00:14:40,490 --> 00:14:42,890
sites you're using as well as obviously

403
00:14:42,890 --> 00:14:45,520
that the list of instances that you have

404
00:14:45,520 --> 00:14:48,410
probably the best one the most bang for

405
00:14:48,410 --> 00:14:49,970
your buck is just talking to your your

406
00:14:49,970 --> 00:14:51,950
system operators to get DNS records from

407
00:14:51,950 --> 00:14:54,440
their DNS servers a lot of them let you

408
00:14:54,440 --> 00:14:56,390
export it if you can export those DNS

409
00:14:56,390 --> 00:14:58,640
records to use that information again

410
00:14:58,640 --> 00:15:00,200
put it into a shared document or wiki

411
00:15:00,200 --> 00:15:02,990
and security reports hopefully you guys

412
00:15:02,990 --> 00:15:04,700
are scanning your networks on quarterly

413
00:15:04,700 --> 00:15:06,620
basis at least you can use that

414
00:15:06,620 --> 00:15:09,790
information again to build up this list

415
00:15:09,790 --> 00:15:14,540
so let's talk about some techniques this

416
00:15:14,540 --> 00:15:17,090
is kind of just a very high-level look

417
00:15:17,090 --> 00:15:18,500
of some of the techniques you're gonna

418
00:15:18,500 --> 00:15:21,500
want to use to to really extract them

419
00:15:21,500 --> 00:15:23,120
once you have that list provided from

420
00:15:23,120 --> 00:15:24,440
the internal let's take a look at it

421
00:15:24,440 --> 00:15:26,930
from the outside now so techniques such

422
00:15:26,930 --> 00:15:28,610
as doing DNS lookups if you have a list

423
00:15:28,610 --> 00:15:30,950
of IP ranges just do reverse IP address

424
00:15:30,950 --> 00:15:33,230
lookups using the tool like dig

425
00:15:33,230 --> 00:15:35,480
extracting host names from certificates

426
00:15:35,480 --> 00:15:38,170
so a lot of certificates these days will

427
00:15:38,170 --> 00:15:40,939
be you can apply for a single

428
00:15:40,939 --> 00:15:42,259
certificate that matches multiple

429
00:15:42,259 --> 00:15:43,879
domains and sometimes you can use that

430
00:15:43,879 --> 00:15:45,529
information to extract additional

431
00:15:45,529 --> 00:15:48,499
subdomains you did not know about zone

432
00:15:48,499 --> 00:15:50,269
transfer are scraping host names from

433
00:15:50,269 --> 00:15:52,639
websites is another big one where you

434
00:15:52,639 --> 00:15:54,470
just load up the web page and then you

435
00:15:54,470 --> 00:15:56,089
just take all the links out and

436
00:15:56,089 --> 00:15:58,609
sometimes it can include subdomains zone

437
00:15:58,609 --> 00:16:00,290
transfers I don't know if anybody here

438
00:16:00,290 --> 00:16:02,749
is familiar zone transfers from DNS it's

439
00:16:02,749 --> 00:16:05,029
amazingly still effective I'm surprised

440
00:16:05,029 --> 00:16:08,209
how many sites or DNS systems are still

441
00:16:08,209 --> 00:16:09,739
configured to allow zone transfers from

442
00:16:09,739 --> 00:16:13,220
anywhere and second insect 3 walking so

443
00:16:13,220 --> 00:16:16,009
n SEC is a called like next-gen security

444
00:16:16,009 --> 00:16:18,949
or next security basically it's a DNS

445
00:16:18,949 --> 00:16:22,069
SEC record type where you can think of

446
00:16:22,069 --> 00:16:23,629
it almost like a link to list where it

447
00:16:23,629 --> 00:16:25,879
has a link to the next record so if you

448
00:16:25,879 --> 00:16:28,879
have a company com it'll have another

449
00:16:28,879 --> 00:16:31,129
record for bida company comm and see and

450
00:16:31,129 --> 00:16:32,720
you can literally just walk through the

451
00:16:32,720 --> 00:16:35,119
DNS I don't know why I was implemented

452
00:16:35,119 --> 00:16:38,749
for for DNS SEC but they realize their

453
00:16:38,749 --> 00:16:39,949
mistake and they started to work on

454
00:16:39,949 --> 00:16:43,519
insect 3 which now hashes them but

455
00:16:43,519 --> 00:16:45,290
there's ways you can still do off

456
00:16:45,290 --> 00:16:48,259
offline cracking of the hashes to again

457
00:16:48,259 --> 00:16:50,629
just walk through the domains there's if

458
00:16:50,629 --> 00:16:52,100
you're more interested in these types of

459
00:16:52,100 --> 00:16:53,869
attacks or these types of techniques

460
00:16:53,869 --> 00:16:55,999
just Google n SEC walking you'll find

461
00:16:55,999 --> 00:16:58,850
tons of hits and then brute forcing to

462
00:16:58,850 --> 00:17:00,439
find subdomains so this is like you take

463
00:17:00,439 --> 00:17:03,739
WWE company or comm and then web comm

464
00:17:03,739 --> 00:17:05,539
and then VPN comm so you have a word

465
00:17:05,539 --> 00:17:07,189
list that you kind of iterate through to

466
00:17:07,189 --> 00:17:09,279
find all these different sites

467
00:17:09,279 --> 00:17:11,480
permutations is pretty similar except

468
00:17:11,480 --> 00:17:14,240
for your permit ating on various aspects

469
00:17:14,240 --> 00:17:16,220
of a domain so if you find web one

470
00:17:16,220 --> 00:17:18,559
company com you're gonna try to calm

471
00:17:18,559 --> 00:17:23,059
three calm et cetera so depending what

472
00:17:23,059 --> 00:17:24,109
I've seen in past with certain

473
00:17:24,109 --> 00:17:25,398
organizations is they have like naming

474
00:17:25,398 --> 00:17:27,380
schemes so maybe they'll name one of

475
00:17:27,380 --> 00:17:29,539
those their servers like red combi no

476
00:17:29,539 --> 00:17:31,070
more blue comedy com

477
00:17:31,070 --> 00:17:34,190
so if you have a initial list or initial

478
00:17:34,190 --> 00:17:35,240
host name you're going to want to add

479
00:17:35,240 --> 00:17:37,850
permutations of that naming scheme and

480
00:17:37,850 --> 00:17:39,350
that will help you find sites in the

481
00:17:39,350 --> 00:17:41,570
future

482
00:17:41,570 --> 00:17:45,679
so one major really just a goldmine

483
00:17:45,679 --> 00:17:47,330
information these days a certificate

484
00:17:47,330 --> 00:17:50,779
transparency so major certificate issues

485
00:17:50,779 --> 00:17:53,690
issuers submit anytime they issue a

486
00:17:53,690 --> 00:17:55,940
certificate to a new company to the

487
00:17:55,940 --> 00:17:58,309
certificate transparency servers which

488
00:17:58,309 --> 00:18:00,799
lets for this conversation considered a

489
00:18:00,799 --> 00:18:03,529
public database there's multiple servers

490
00:18:03,529 --> 00:18:05,179
so there's I think there's like fifteen

491
00:18:05,179 --> 00:18:07,039
or twenty now that you can basically go

492
00:18:07,039 --> 00:18:10,309
to and literally query from index zero

493
00:18:10,309 --> 00:18:11,960
give me all your certificates that have

494
00:18:11,960 --> 00:18:15,919
been issued since 2017 or whatever so

495
00:18:15,919 --> 00:18:17,269
the reason certificate transparency

496
00:18:17,269 --> 00:18:19,940
exists is to really help organizations

497
00:18:19,940 --> 00:18:21,860
kind of monitor to make sure that no one

498
00:18:21,860 --> 00:18:24,679
is like say trying to issue google.com

499
00:18:24,679 --> 00:18:27,379
certificate from let's say I don't know

500
00:18:27,379 --> 00:18:30,679
Singapore so it's this way of monitoring

501
00:18:30,679 --> 00:18:33,200
the the certificate sis the PKI system

502
00:18:33,200 --> 00:18:35,360
to make sure that the bad things are not

503
00:18:35,360 --> 00:18:37,940
happening the benefit is that anyone can

504
00:18:37,940 --> 00:18:40,009
query this so these servers are open to

505
00:18:40,009 --> 00:18:41,840
the Internet you can just if you know if

506
00:18:41,840 --> 00:18:43,129
you have a d-- a certificate

507
00:18:43,129 --> 00:18:44,809
transparency client you can just go

508
00:18:44,809 --> 00:18:46,250
ahead and query it and pull out

509
00:18:46,250 --> 00:18:49,399
information and there isn't a massive

510
00:18:49,399 --> 00:18:52,669
just massive amount of data so this is

511
00:18:52,669 --> 00:18:56,120
my data set right now i've been running

512
00:18:56,120 --> 00:18:57,830
it for a couple months now i've got

513
00:18:57,830 --> 00:19:01,190
about six terabytes of data with 19

514
00:19:01,190 --> 00:19:03,590
billion records now a lot of these are

515
00:19:03,590 --> 00:19:07,039
duplicates the again there's like 1520

516
00:19:07,039 --> 00:19:10,009
servers so the certificates may or may

517
00:19:10,009 --> 00:19:11,620
not be issued to each one of these

518
00:19:11,620 --> 00:19:14,000
certificate transparency servers so

519
00:19:14,000 --> 00:19:15,200
unfortunately got to collect them all i

520
00:19:15,200 --> 00:19:16,610
would not recommend doing this there's

521
00:19:16,610 --> 00:19:17,779
better ways of doing it which i'll talk

522
00:19:17,779 --> 00:19:21,080
about in a second oh actually just to

523
00:19:21,080 --> 00:19:22,960
show you what that data looks like

524
00:19:22,960 --> 00:19:25,100
here's just a sample that i pulled out

525
00:19:25,100 --> 00:19:27,200
from my dataset obviously that's way too

526
00:19:27,200 --> 00:19:33,289
small let's bring up the magnifier so we

527
00:19:33,289 --> 00:19:36,110
have inside it so I pull out very

528
00:19:36,110 --> 00:19:38,509
specific data but it has the oil you

529
00:19:38,509 --> 00:19:40,370
can't even see that just when I pulled

530
00:19:40,370 --> 00:19:42,860
it out the server type it came from and

531
00:19:42,860 --> 00:19:45,620
of course I can't move across here there

532
00:19:45,620 --> 00:19:48,139
we go oh it's not following that's

533
00:19:48,139 --> 00:19:50,779
annoying everyone so basically there's

534
00:19:50,779 --> 00:19:52,039
just a lot of data that you can pull out

535
00:19:52,039 --> 00:19:53,920
thank you

536
00:19:53,920 --> 00:19:55,740
it's not even showing you I'm sorry

537
00:19:55,740 --> 00:19:59,440
apologize wasn't looking that makes much

538
00:19:59,440 --> 00:20:07,510
more sense so here we have the name of

539
00:20:07,510 --> 00:20:10,660
the company we have certain certificate

540
00:20:10,660 --> 00:20:12,040
properties that I've in particular

541
00:20:12,040 --> 00:20:15,130
wanted to pull out you have the the

542
00:20:15,130 --> 00:20:18,340
actual certificate CN or the common name

543
00:20:18,340 --> 00:20:21,490
which you can pull out as well as other

544
00:20:21,490 --> 00:20:23,860
verified DNS names inside of those as

545
00:20:23,860 --> 00:20:26,410
well so for example cloud fair you when

546
00:20:26,410 --> 00:20:28,420
cloud for issues a certificate it'll

547
00:20:28,420 --> 00:20:31,330
actually do a bulk issue with multiple

548
00:20:31,330 --> 00:20:33,280
domains inside of it so you'd me you'd

549
00:20:33,280 --> 00:20:34,600
been need to be able to pull all that

550
00:20:34,600 --> 00:20:36,640
information now but again it's just a

551
00:20:36,640 --> 00:20:38,260
ton of really good information if you're

552
00:20:38,260 --> 00:20:43,050
trying to find additional subdomains so

553
00:20:43,050 --> 00:20:46,270
what services can we use to build out

554
00:20:46,270 --> 00:20:50,680
our asset lists CRT shell or SH is a

555
00:20:50,680 --> 00:20:52,660
free service that you can use from

556
00:20:52,660 --> 00:20:54,490
Komodo what you just put in a domain

557
00:20:54,490 --> 00:20:56,110
name query and it'll give you all your

558
00:20:56,110 --> 00:20:57,550
subdomains pulled out from the

559
00:20:57,550 --> 00:21:00,370
certificate transparency servers there's

560
00:21:00,370 --> 00:21:02,110
things like hacker target which you put

561
00:21:02,110 --> 00:21:03,160
in a domain name and it gives you all

562
00:21:03,160 --> 00:21:07,030
the subdomains virustotal if you were if

563
00:21:07,030 --> 00:21:08,560
your organization is large enough and

564
00:21:08,560 --> 00:21:12,430
you have a s numbers or IP ranges you

565
00:21:12,430 --> 00:21:14,620
can use these search tools to just put

566
00:21:14,620 --> 00:21:15,760
in an IP address and I'll give you a

567
00:21:15,760 --> 00:21:17,770
list back of all the ranges that exist

568
00:21:17,770 --> 00:21:19,600
sometimes you can even put in company

569
00:21:19,600 --> 00:21:24,000
names the last one blog rapid7 com is

570
00:21:24,000 --> 00:21:26,200
it's a really great project by the

571
00:21:26,200 --> 00:21:29,170
rapid7 team called open sonar where they

572
00:21:29,170 --> 00:21:31,270
just do internet wide scans they do

573
00:21:31,270 --> 00:21:34,270
internet wide DNS queries and you can

574
00:21:34,270 --> 00:21:36,700
use that information in a a de Vos

575
00:21:36,700 --> 00:21:38,410
Athena which allows you to search for it

576
00:21:38,410 --> 00:21:41,080
so you can search for domains that are

577
00:21:41,080 --> 00:21:44,110
specific to your organization so that

578
00:21:44,110 --> 00:21:45,610
was kind of the passive acquisition

579
00:21:45,610 --> 00:21:47,050
there's more of an active acquisition

580
00:21:47,050 --> 00:21:48,580
that you can use the most popular these

581
00:21:48,580 --> 00:21:51,970
days is OS a mass project definitely

582
00:21:51,970 --> 00:21:53,140
highly room it we recommend checking

583
00:21:53,140 --> 00:21:55,810
this one out it's written by Jeff Foley

584
00:21:55,810 --> 00:21:59,080
again it's an OS project they have a lot

585
00:21:59,080 --> 00:22:02,320
of the the the these systems are these

586
00:22:02,320 --> 00:22:03,850
excuse me these links in here are

587
00:22:03,850 --> 00:22:05,500
included in a mass so it'll do it

588
00:22:05,500 --> 00:22:07,150
automatically for you

589
00:22:07,150 --> 00:22:09,280
there's this service called search

590
00:22:09,280 --> 00:22:11,830
stream from Khalid aughh which monitors

591
00:22:11,830 --> 00:22:13,510
the certificate transparency servers in

592
00:22:13,510 --> 00:22:15,280
real-time so what you can do is you can

593
00:22:15,280 --> 00:22:17,350
just write up a quick client say you

594
00:22:17,350 --> 00:22:19,720
want to match on your domains and then

595
00:22:19,720 --> 00:22:21,880
have it basically alert anytime as

596
00:22:21,880 --> 00:22:24,690
certificate is issued from search stream

597
00:22:24,690 --> 00:22:27,280
for finding technologies used by your

598
00:22:27,280 --> 00:22:29,680
assets you can use URL scanned at i/o so

599
00:22:29,680 --> 00:22:31,960
this uses whap Eliezer on the back end

600
00:22:31,960 --> 00:22:34,240
but what you do is you submit a URL it

601
00:22:34,240 --> 00:22:37,809
goes to it takes a screenshot it takes

602
00:22:37,809 --> 00:22:39,490
that screenshot and while it's loading

603
00:22:39,490 --> 00:22:41,260
the page it actually extracts from

604
00:22:41,260 --> 00:22:42,730
JavaScript all the the server

605
00:22:42,730 --> 00:22:44,040
information the server headers

606
00:22:44,040 --> 00:22:46,559
JavaScript versions that I can find

607
00:22:46,559 --> 00:22:48,850
other things you probably want to do for

608
00:22:48,850 --> 00:22:50,770
if you're creating your own active

609
00:22:50,770 --> 00:22:52,450
acquisition program is for monitoring

610
00:22:52,450 --> 00:22:54,010
expiring certificates I mean you could

611
00:22:54,010 --> 00:22:55,630
just do this with an open SSL client if

612
00:22:55,630 --> 00:22:56,920
you wanted to and just knock it out in a

613
00:22:56,920 --> 00:22:58,750
bash script or you can use one of these

614
00:22:58,750 --> 00:23:03,100
pre-made ones not too complicated some

615
00:23:03,100 --> 00:23:05,140
other popular tools you got port scanner

616
00:23:05,140 --> 00:23:08,590
zmapp very fast but only single ports so

617
00:23:08,590 --> 00:23:11,140
I would recommend using probably masscan

618
00:23:11,140 --> 00:23:12,490
if you want to do multiple ports unless

619
00:23:12,490 --> 00:23:14,740
you literally are just want to scan your

620
00:23:14,740 --> 00:23:16,300
entire organization for a single port

621
00:23:16,300 --> 00:23:18,760
and map the tried and tested and true

622
00:23:18,760 --> 00:23:21,510
it's slow but it gets the job done

623
00:23:21,510 --> 00:23:24,370
sub the subdomain resolvers there's mass

624
00:23:24,370 --> 00:23:27,760
DNS for name permutations you have alt

625
00:23:27,760 --> 00:23:31,390
DNS so you can use all these tools in

626
00:23:31,390 --> 00:23:33,850
combination but it is going to require

627
00:23:33,850 --> 00:23:37,600
some scripting you could you're going to

628
00:23:37,600 --> 00:23:40,000
need to either schedule this using cron

629
00:23:40,000 --> 00:23:41,500
or some other type of scheduling system

630
00:23:41,500 --> 00:23:44,290
to use a master to your enumerations you

631
00:23:44,290 --> 00:23:45,910
use you create have to create a search

632
00:23:45,910 --> 00:23:48,580
stream clients and get API keys for URL

633
00:23:48,580 --> 00:23:50,350
scan and then you can start to build

634
00:23:50,350 --> 00:23:53,050
your own little pipeline so the first

635
00:23:53,050 --> 00:23:54,100
thing you're gonna want to do is to

636
00:23:54,100 --> 00:23:55,809
parse public data records as I mentioned

637
00:23:55,809 --> 00:23:57,250
certificate transparency is probably the

638
00:23:57,250 --> 00:24:00,970
biggest one and the open sonar stuff you

639
00:24:00,970 --> 00:24:04,929
can use AMS there's a a track feature

640
00:24:04,929 --> 00:24:06,520
which allows you to do differentials

641
00:24:06,520 --> 00:24:07,780
between scans so you can do actually

642
00:24:07,780 --> 00:24:09,010
check the difference between them and

643
00:24:09,010 --> 00:24:11,230
then you take that list of assets and

644
00:24:11,230 --> 00:24:12,730
you load it into URL scan you can batch

645
00:24:12,730 --> 00:24:15,460
submit them and then you can get the the

646
00:24:15,460 --> 00:24:17,140
results for all your technologies and

647
00:24:17,140 --> 00:24:19,900
dependencies as well as also take those

648
00:24:19,900 --> 00:24:20,860
sites that responded

649
00:24:20,860 --> 00:24:23,290
as a proper HTTP site to check

650
00:24:23,290 --> 00:24:26,110
certificates and explorations now you

651
00:24:26,110 --> 00:24:28,120
can take all this information and you

652
00:24:28,120 --> 00:24:29,770
can post it to a shared document or a

653
00:24:29,770 --> 00:24:32,500
wiki or if your if you your organization

654
00:24:32,500 --> 00:24:35,049
uses slack you can post it to slack so

655
00:24:35,049 --> 00:24:36,130
there's pretty much anything you can

656
00:24:36,130 --> 00:24:38,320
really do and and I think what's one of

657
00:24:38,320 --> 00:24:39,340
the more interesting things about

658
00:24:39,340 --> 00:24:41,049
creating your asset discovery program is

659
00:24:41,049 --> 00:24:43,090
you can really customize it any way you

660
00:24:43,090 --> 00:24:45,400
want so if your organization's worried

661
00:24:45,400 --> 00:24:47,410
about brand protection so people are

662
00:24:47,410 --> 00:24:49,420
trying to register domains for typo

663
00:24:49,420 --> 00:24:51,790
squatting or whatnot you can use again

664
00:24:51,790 --> 00:24:53,290
if you have that list of initial domains

665
00:24:53,290 --> 00:24:56,010
you can use tools such as DNS twist to

666
00:24:56,010 --> 00:24:58,450
see if anybody's try to register domains

667
00:24:58,450 --> 00:25:00,820
that look very similar to yours and you

668
00:25:00,820 --> 00:25:02,110
can also put this within your search

669
00:25:02,110 --> 00:25:04,360
stream client so you can say okay not

670
00:25:04,360 --> 00:25:05,760
only do I want to know if new

671
00:25:05,760 --> 00:25:08,230
certificates are issued for my domains I

672
00:25:08,230 --> 00:25:09,370
want to see if people are trying to

673
00:25:09,370 --> 00:25:10,840
issue certificates for domains that look

674
00:25:10,840 --> 00:25:13,480
very similar to mine you can use

675
00:25:13,480 --> 00:25:15,400
malicious compromised domain checks such

676
00:25:15,400 --> 00:25:17,770
as Google's API for Safe Browsing you

677
00:25:17,770 --> 00:25:19,390
could even script it up to do a curl

678
00:25:19,390 --> 00:25:20,500
checks if you wanted to look for

679
00:25:20,500 --> 00:25:23,140
specific files maybe there's one of your

680
00:25:23,140 --> 00:25:24,850
site's gets compromised through an admin

681
00:25:24,850 --> 00:25:26,380
panel and you want to check that all of

682
00:25:26,380 --> 00:25:27,940
your sites don't have that admin panel

683
00:25:27,940 --> 00:25:32,770
exposed you could script it up so some

684
00:25:32,770 --> 00:25:35,049
other considerations IP addresses might

685
00:25:35,049 --> 00:25:37,059
be useless this one thing that I first

686
00:25:37,059 --> 00:25:39,130
really came to the conclusion of when I

687
00:25:39,130 --> 00:25:41,260
built my own system that's over time

688
00:25:41,260 --> 00:25:42,669
especially with content delivery

689
00:25:42,669 --> 00:25:44,950
networks a lot of these host names are

690
00:25:44,950 --> 00:25:47,080
just being there's a content delivery

691
00:25:47,080 --> 00:25:48,940
network in front of it's called cloud

692
00:25:48,940 --> 00:25:51,880
fronting or fronting where IP addresses

693
00:25:51,880 --> 00:25:53,620
over time just don't really mean

694
00:25:53,620 --> 00:25:54,760
anything anymore they they can't really

695
00:25:54,760 --> 00:25:55,900
point to your site so if you're trying

696
00:25:55,900 --> 00:25:57,580
to scan something with an old IP address

697
00:25:57,580 --> 00:25:58,750
it's not going to point to your domain

698
00:25:58,750 --> 00:26:00,250
anymore it's pointing to someone some

699
00:26:00,250 --> 00:26:03,100
other organization if you're doing brute

700
00:26:03,100 --> 00:26:05,410
force I think it's built into a mess but

701
00:26:05,410 --> 00:26:07,870
I'm not positive wildcard DNS domains so

702
00:26:07,870 --> 00:26:10,780
this is a domain if you send any type of

703
00:26:10,780 --> 00:26:12,280
query to a subdomain it says yeah

704
00:26:12,280 --> 00:26:13,990
there's a domain here it's not actually

705
00:26:13,990 --> 00:26:15,280
true it's just responding yes to

706
00:26:15,280 --> 00:26:16,990
everything so keep that in mind

707
00:26:16,990 --> 00:26:19,480
and there's wildcard DNS checks so you

708
00:26:19,480 --> 00:26:21,490
can you can use I think Google Chrome

709
00:26:21,490 --> 00:26:23,020
does some sort of testing for it if you

710
00:26:23,020 --> 00:26:24,160
look at their source code you can figure

711
00:26:24,160 --> 00:26:24,780
it out

712
00:26:24,780 --> 00:26:27,610
hosted services again like AWS and

713
00:26:27,610 --> 00:26:29,290
whatnot you need to be careful scanning

714
00:26:29,290 --> 00:26:32,350
these things AWS is can be pretty strict

715
00:26:32,350 --> 00:26:33,610
about what's being scandal though

716
00:26:33,610 --> 00:26:34,630
they've just recently

717
00:26:34,630 --> 00:26:36,460
change their pen testing agreement to

718
00:26:36,460 --> 00:26:37,240
allow you to scan your own

719
00:26:37,240 --> 00:26:39,400
infrastructure which is great but I

720
00:26:39,400 --> 00:26:40,840
would not recommend trying to scan from

721
00:26:40,840 --> 00:26:45,430
their infrastructure also be careful and

722
00:26:45,430 --> 00:26:47,410
gentle with hammering specific services

723
00:26:47,410 --> 00:26:50,140
such as websites and DNS you're gonna

724
00:26:50,140 --> 00:26:51,520
want to have some rate limiting in place

725
00:26:51,520 --> 00:26:54,340
especially for DNS you might think the

726
00:26:54,340 --> 00:26:55,240
DNS will be able to handle everything

727
00:26:55,240 --> 00:26:56,380
but there's definitely some

728
00:26:56,380 --> 00:26:57,670
organizations running some older

729
00:26:57,670 --> 00:26:59,680
versions of DNS that are not able to

730
00:26:59,680 --> 00:27:02,710
handle everything so always if you can

731
00:27:02,710 --> 00:27:04,600
let people know that you're going to be

732
00:27:04,600 --> 00:27:05,890
doing these types of activities before

733
00:27:05,890 --> 00:27:09,310
you do it so they know who which which

734
00:27:09,310 --> 00:27:10,870
people that communicate with if there's

735
00:27:10,870 --> 00:27:15,250
an issue so that pretty much covers

736
00:27:15,250 --> 00:27:17,140
everything I want to talk about I just

737
00:27:17,140 --> 00:27:18,580
really want to drive home the point that

738
00:27:18,580 --> 00:27:20,440
asset discovery is really no longer a

739
00:27:20,440 --> 00:27:21,790
point in time it's not something you

740
00:27:21,790 --> 00:27:23,230
just do once and just like hey I have an

741
00:27:23,230 --> 00:27:25,300
asset list I'm done things are just

742
00:27:25,300 --> 00:27:26,980
changing way too quickly way too often

743
00:27:26,980 --> 00:27:30,130
you need to keep this list updated and

744
00:27:30,130 --> 00:27:32,020
up to date so that if there is an

745
00:27:32,020 --> 00:27:33,820
incident sibling something does occur

746
00:27:33,820 --> 00:27:37,120
you have real-time answers for those

747
00:27:37,120 --> 00:27:39,300
types of whatever that incident is and

748
00:27:39,300 --> 00:27:41,320
honestly this is this is more of a

749
00:27:41,320 --> 00:27:44,050
preventative type of system where you're

750
00:27:44,050 --> 00:27:46,150
really just trying to keep things up to

751
00:27:46,150 --> 00:27:48,370
date know where they exist know who to

752
00:27:48,370 --> 00:27:50,320
communicate with and hopefully your

753
00:27:50,320 --> 00:27:52,000
organization will be the better for it

754
00:27:52,000 --> 00:27:54,910
and that's pretty much it thank you any

755
00:27:54,910 --> 00:28:07,510
questions yes what's been the most

756
00:28:07,510 --> 00:28:09,670
surprising benefit that a customers come

757
00:28:09,670 --> 00:28:14,320
back with surprising benefits yes well I

758
00:28:14,320 --> 00:28:15,700
would say probably knowing that there's

759
00:28:15,700 --> 00:28:17,200
sites out there that they didn't know

760
00:28:17,200 --> 00:28:18,450
was exposed that they could shut down

761
00:28:18,450 --> 00:28:21,700
that probably the biggest one how about

762
00:28:21,700 --> 00:28:24,700
in your experience I just say the same

763
00:28:24,700 --> 00:28:28,090
yeah yeah and so he mentioned the other

764
00:28:28,090 --> 00:28:30,370
day about costs so that's something I

765
00:28:30,370 --> 00:28:31,720
hadn't thought about your actually if

766
00:28:31,720 --> 00:28:33,940
you have these sites that are online for

767
00:28:33,940 --> 00:28:36,310
two years you're burning money like

768
00:28:36,310 --> 00:28:37,720
there's there's no reason for you to be

769
00:28:37,720 --> 00:28:38,980
running that site and if you could just

770
00:28:38,980 --> 00:28:40,420
shut it off you're saving money so

771
00:28:40,420 --> 00:28:41,680
that's another benefit of having an

772
00:28:41,680 --> 00:28:43,690
asset discovery program yeah we look for

773
00:28:43,690 --> 00:28:46,540
expired SSL certificates Knox I care too

774
00:28:46,540 --> 00:28:48,460
stuff's about advanced as sales tickets

775
00:28:48,460 --> 00:28:49,930
but they're an indicator obsolescence

776
00:28:49,930 --> 00:28:51,730
that's you have an update the SSL

777
00:28:51,730 --> 00:28:54,010
certificate no one's luck no one's using

778
00:28:54,010 --> 00:29:00,840
it yeah good point any other questions

779
00:29:00,840 --> 00:29:10,090
great thank you he asked me to for his

780
00:29:10,090 --> 00:29:11,890
risk crowd system wants you to go to

781
00:29:11,890 --> 00:29:13,990
this website and sign up it's risk crowd

782
00:29:13,990 --> 00:29:18,030
the risk crowd comm thank you

