1
00:00:00,780 --> 00:00:04,560
hello everyone and yeah today we're

2
00:00:04,560 --> 00:00:06,299
talking about something that a lot of

3
00:00:06,299 --> 00:00:08,400
people don't really like to talk about

4
00:00:08,400 --> 00:00:10,320
um when you up

5
00:00:10,320 --> 00:00:13,920
so today uh the topic is we up

6
00:00:13,920 --> 00:00:16,500
and we broke the internet well for some

7
00:00:16,500 --> 00:00:18,119
people for a while

8
00:00:18,119 --> 00:00:20,760
uh briefly to tell you who they are uh

9
00:00:20,760 --> 00:00:23,760
We've with doing networking since a

10
00:00:23,760 --> 00:00:26,039
couple of years we started

11
00:00:26,039 --> 00:00:28,920
more than a decade ago we've moved to

12
00:00:28,920 --> 00:00:31,859
Finland in the pandemic we're now a

13
00:00:31,859 --> 00:00:33,260
Finnish company

14
00:00:33,260 --> 00:00:37,500
and we speak a lot of languages

15
00:00:37,500 --> 00:00:39,059
and

16
00:00:39,059 --> 00:00:42,480
um yeah so we run the network we run an

17
00:00:42,480 --> 00:00:45,780
ISP Network across Europe we are with

18
00:00:45,780 --> 00:00:47,879
our team across Europe so all of those

19
00:00:47,879 --> 00:00:51,379
locations have data center connectivity

20
00:00:51,379 --> 00:00:54,180
backbone connectivity

21
00:00:54,180 --> 00:00:58,140
so we do routing we run our own network

22
00:00:58,140 --> 00:01:01,739
since 2014 we have become earlier

23
00:01:01,739 --> 00:01:04,500
Lear means a local internet Rich history

24
00:01:04,500 --> 00:01:07,020
it means that you're part of one of the

25
00:01:07,020 --> 00:01:10,220
five global

26
00:01:10,220 --> 00:01:14,119
Registries be that right

27
00:01:14,119 --> 00:01:17,640
we started with hey we want our own IP

28
00:01:17,640 --> 00:01:19,619
space we want our own routing let's put

29
00:01:19,619 --> 00:01:21,420
some servers there let's have our own

30
00:01:21,420 --> 00:01:24,659
little stuff it was fun them people came

31
00:01:24,659 --> 00:01:28,380
like hey can you put that server online

32
00:01:28,380 --> 00:01:31,020
she was like hmm actually I would like

33
00:01:31,020 --> 00:01:32,580
to have my internet in my office from

34
00:01:32,580 --> 00:01:35,220
myself as well so of course we started

35
00:01:35,220 --> 00:01:37,259
doing a bit of DSL

36
00:01:37,259 --> 00:01:39,119
and then it's like um

37
00:01:39,119 --> 00:01:41,520
now I have to buy all this capacity we

38
00:01:41,520 --> 00:01:42,900
had to pay like

39
00:01:42,900 --> 00:01:44,460
a couple hundred couple thousands of

40
00:01:44,460 --> 00:01:47,700
bucks just for a couple of uh gigabits

41
00:01:47,700 --> 00:01:49,380
of Transit

42
00:01:49,380 --> 00:01:51,180
we should sell the Trotters it's going

43
00:01:51,180 --> 00:01:54,000
to be cheaper so we started providing IP

44
00:01:54,000 --> 00:01:56,040
Transit

45
00:01:56,040 --> 00:01:58,560
and eventually this went into something

46
00:01:58,560 --> 00:02:01,920
called sponsorships when uh students and

47
00:02:01,920 --> 00:02:04,619
other organizations want to do some

48
00:02:04,619 --> 00:02:06,540
research be that for example small ID

49
00:02:06,540 --> 00:02:08,280
company that's like hey we also need our

50
00:02:08,280 --> 00:02:09,780
lab equipment

51
00:02:09,780 --> 00:02:13,020
and when we have our own lab equipment

52
00:02:13,020 --> 00:02:14,640
we might not want to have that on the

53
00:02:14,640 --> 00:02:16,860
production Network so they come to us

54
00:02:16,860 --> 00:02:18,840
yeah someone clicked the link

55
00:02:18,840 --> 00:02:21,739
congratulations

56
00:02:23,400 --> 00:02:25,080
so

57
00:02:25,080 --> 00:02:26,940
um back to the sponsorships so again

58
00:02:26,940 --> 00:02:29,580
we're trying to educate people so if

59
00:02:29,580 --> 00:02:31,319
anyone in this room has ever wanted to

60
00:02:31,319 --> 00:02:33,599
do some bgp some background running come

61
00:02:33,599 --> 00:02:34,500
to us

62
00:02:34,500 --> 00:02:37,140
we do this resource sponging you can get

63
00:02:37,140 --> 00:02:39,599
IPv6 based from us you can get an ASN

64
00:02:39,599 --> 00:02:41,220
from us we normally only give you as

65
00:02:41,220 --> 00:02:44,760
32-bit ASN because 16 bit is ends are in

66
00:02:44,760 --> 00:02:47,359
limited Supply

67
00:02:47,400 --> 00:02:50,760
and we have a lot of them not not many

68
00:02:50,760 --> 00:02:54,060
it's it's hundreds it exploded when

69
00:02:54,060 --> 00:02:55,620
Hurricane Electric one of the most

70
00:02:55,620 --> 00:02:58,680
predominant uh providers in this field

71
00:02:58,680 --> 00:03:01,500
which gives out free resources and free

72
00:03:01,500 --> 00:03:03,360
Transit as we say I don't know we don't

73
00:03:03,360 --> 00:03:06,599
do tunnels anymore so we picked up quite

74
00:03:06,599 --> 00:03:08,220
a bit of like

75
00:03:08,220 --> 00:03:12,480
quite a bit of of organization

76
00:03:12,900 --> 00:03:17,940
so an asset what's an as set when you

77
00:03:17,940 --> 00:03:20,159
run a network when you run a vgp network

78
00:03:20,159 --> 00:03:23,819
you have routes that you announced to

79
00:03:23,819 --> 00:03:25,800
other networks

80
00:03:25,800 --> 00:03:28,260
a stop net is what you know a subnet is

81
00:03:28,260 --> 00:03:31,019
a route in backbone terminology that

82
00:03:31,019 --> 00:03:34,980
route belongs to a so-called out num and

83
00:03:34,980 --> 00:03:37,379
a uh in ASN

84
00:03:37,379 --> 00:03:40,140
in common terms

85
00:03:40,140 --> 00:03:42,120
when you're an upstream provider so

86
00:03:42,120 --> 00:03:43,860
you're a trendy provider

87
00:03:43,860 --> 00:03:45,480
you want to filter that your customer

88
00:03:45,480 --> 00:03:47,640
doesn't announce it to you because it's

89
00:03:47,640 --> 00:03:51,299
not 2005 anymore we're Pakistan Telecom

90
00:03:51,299 --> 00:03:53,580
I think did one of the most famous route

91
00:03:53,580 --> 00:03:56,099
leaks when they were like hmm we want to

92
00:03:56,099 --> 00:03:58,260
block access to YouTube let's put into

93
00:03:58,260 --> 00:04:01,140
more routes though block the YouTube

94
00:04:01,140 --> 00:04:03,120
traffic into nowhere

95
00:04:03,120 --> 00:04:05,700
but I accidentally published it globally

96
00:04:05,700 --> 00:04:07,260
and then everyone believed that YouTube

97
00:04:07,260 --> 00:04:10,140
was hosted in Pakistan and yeah then

98
00:04:10,140 --> 00:04:12,060
Pakistan Telecom was overwhelmed with

99
00:04:12,060 --> 00:04:14,099
the traffic because there of course are

100
00:04:14,099 --> 00:04:15,540
not YouTube

101
00:04:15,540 --> 00:04:17,699
why we're referring to this well it's

102
00:04:17,699 --> 00:04:19,320
one of the most famous cases where

103
00:04:19,320 --> 00:04:22,820
filtering was not done

104
00:04:22,979 --> 00:04:24,120
um so

105
00:04:24,120 --> 00:04:25,919
the common way to do that is the

106
00:04:25,919 --> 00:04:28,320
so-called as said it's basically

107
00:04:28,320 --> 00:04:30,660
yeah it includes our paying customers

108
00:04:30,660 --> 00:04:33,060
and includes our free customers

109
00:04:33,060 --> 00:04:35,100
so

110
00:04:35,100 --> 00:04:37,979
things we started to do to prevent that

111
00:04:37,979 --> 00:04:40,919
stuff goes wrong is I was like hmm this

112
00:04:40,919 --> 00:04:42,600
this is an array and this array can

113
00:04:42,600 --> 00:04:44,639
contain other stuff so

114
00:04:44,639 --> 00:04:46,680
no we don't do that to to free customers

115
00:04:46,680 --> 00:04:48,720
we don't we don't we don't accept that

116
00:04:48,720 --> 00:04:51,180
because people has been doing stuff like

117
00:04:51,180 --> 00:04:53,880
oh we we include our Upstream providers

118
00:04:53,880 --> 00:04:55,680
so suddenly you have like recursive

119
00:04:55,680 --> 00:04:57,120
includes

120
00:04:57,120 --> 00:04:59,400
who here believes that recursion and the

121
00:04:59,400 --> 00:05:01,080
recursion is the same thing in internet

122
00:05:01,080 --> 00:05:03,300
routing I think nobody it leads to Route

123
00:05:03,300 --> 00:05:04,500
loops

124
00:05:04,500 --> 00:05:08,340
so we started doing preventive stuff we

125
00:05:08,340 --> 00:05:10,860
don't accept that from free customers so

126
00:05:10,860 --> 00:05:13,620
they cannot include garbage

127
00:05:13,620 --> 00:05:16,259
but we have a few Legacy customers we

128
00:05:16,259 --> 00:05:17,699
can't change what's already been

129
00:05:17,699 --> 00:05:19,500
deployed people will be angry people

130
00:05:19,500 --> 00:05:24,000
will stuff will break so hey maybe maybe

131
00:05:24,000 --> 00:05:25,919
you're a small lab Network you probably

132
00:05:25,919 --> 00:05:27,840
shouldn't announce a hundred thousand

133
00:05:27,840 --> 00:05:29,220
routes to us because that's like the

134
00:05:29,220 --> 00:05:31,080
size of the global routing table so we

135
00:05:31,080 --> 00:05:34,020
we maybe set you a little bit to five

136
00:05:34,020 --> 00:05:36,479
well you can announce one route maybe

137
00:05:36,479 --> 00:05:38,699
two but not a thousand not a hundred

138
00:05:38,699 --> 00:05:41,039
thousand

139
00:05:41,039 --> 00:05:44,699
we still have if we run the numbers I

140
00:05:44,699 --> 00:05:49,080
checked about a week ago 25 000 routes

141
00:05:49,080 --> 00:05:54,240
the IPv6 table is at the moment 169 500

142
00:05:54,240 --> 00:05:56,699
routes so

143
00:05:56,699 --> 00:05:59,820
we're still like a major chunk of the

144
00:05:59,820 --> 00:06:02,039
global V6 internet if everyone announces

145
00:06:02,039 --> 00:06:05,520
their routes to us that's scary

146
00:06:05,520 --> 00:06:08,160
and one of the things for people who

147
00:06:08,160 --> 00:06:09,840
have run networks if you have static

148
00:06:09,840 --> 00:06:12,979
filters and your client stops announcing

149
00:06:12,979 --> 00:06:15,600
any routes to you but you still allow

150
00:06:15,600 --> 00:06:18,180
those routes through you end up doing a

151
00:06:18,180 --> 00:06:20,580
redistribution so you have a tier one

152
00:06:20,580 --> 00:06:22,319
provider tier one provider gives you a

153
00:06:22,319 --> 00:06:24,180
full table

154
00:06:24,180 --> 00:06:26,699
and that's a customer route who's

155
00:06:26,699 --> 00:06:28,259
currently not your customer you

156
00:06:28,259 --> 00:06:29,940
re-announce it to your other Upstream

157
00:06:29,940 --> 00:06:31,500
provider so you're suddenly becoming an

158
00:06:31,500 --> 00:06:33,539
upstream provider for a big Upstream

159
00:06:33,539 --> 00:06:36,419
provider that's not good like company

160
00:06:36,419 --> 00:06:38,699
like Hurricane Electric level three all

161
00:06:38,699 --> 00:06:40,319
those so-called tier one providers you

162
00:06:40,319 --> 00:06:42,060
should not actually become

163
00:06:42,060 --> 00:06:45,180
their service provider

164
00:06:45,180 --> 00:06:48,539
this is a bit of groundwork for

165
00:06:48,539 --> 00:06:51,720
what's going to happen now so

166
00:06:51,720 --> 00:06:54,319
we have an incident

167
00:06:54,319 --> 00:06:57,600
we get a phone call hey

168
00:06:57,600 --> 00:07:00,300
we can't do phone calls anymore it's all

169
00:07:00,300 --> 00:07:02,160
bad I had to call you from my mobile

170
00:07:02,160 --> 00:07:03,600
phone because we don't hear and

171
00:07:03,600 --> 00:07:06,539
understand anyone on our VoIP calls

172
00:07:06,539 --> 00:07:10,500
that's odd we don't have that here so

173
00:07:10,500 --> 00:07:13,319
when we go to investigate Hmm this

174
00:07:13,319 --> 00:07:15,479
router in Frankfurt is really high CPU

175
00:07:15,479 --> 00:07:17,940
load that's bad

176
00:07:17,940 --> 00:07:21,599
we go on again it's an S flow demon

177
00:07:21,599 --> 00:07:23,819
which runs wild s flow for who doesn't

178
00:07:23,819 --> 00:07:25,620
know is a

179
00:07:25,620 --> 00:07:29,479
one of the standards to export traffic

180
00:07:29,479 --> 00:07:32,160
metadata so this is doing in order to

181
00:07:32,160 --> 00:07:33,300
actually know what's going on in your

182
00:07:33,300 --> 00:07:35,400
network you normally just get automata

183
00:07:35,400 --> 00:07:36,840
data you don't get or the entire packets

184
00:07:36,840 --> 00:07:39,120
as an ISP it's like every 2000 packet I

185
00:07:39,120 --> 00:07:40,620
want to know hey this is traffic going

186
00:07:40,620 --> 00:07:43,740
on this way if you only get two thousand

187
00:07:43,740 --> 00:07:47,699
one two thousandth header samples

188
00:07:47,699 --> 00:07:49,800
you can extrapolate what traffic levels

189
00:07:49,800 --> 00:07:51,180
you have so you know like this customer

190
00:07:51,180 --> 00:07:52,919
is causing issues or this customer is

191
00:07:52,919 --> 00:07:55,080
getting 500 000 packets per second these

192
00:07:55,080 --> 00:07:56,580
customers under details maybe we should

193
00:07:56,580 --> 00:07:59,460
do something about it so it's like this

194
00:07:59,460 --> 00:08:01,979
after runs wild okay let's kill it

195
00:08:01,979 --> 00:08:05,400
standard operation process process runs

196
00:08:05,400 --> 00:08:08,759
file is it Mission Creator no

197
00:08:08,759 --> 00:08:12,300
kill it customers happy

198
00:08:12,300 --> 00:08:14,520
well and then that's where the actual

199
00:08:14,520 --> 00:08:15,960
incident starts because we get a ticket

200
00:08:15,960 --> 00:08:18,240
from a company called salesforce.com I

201
00:08:18,240 --> 00:08:19,860
don't think anyone ever used that I

202
00:08:19,860 --> 00:08:21,120
don't think that's a really a relevant

203
00:08:21,120 --> 00:08:22,259
service

204
00:08:22,259 --> 00:08:25,919
and it is oh a subnet League out of D

205
00:08:25,919 --> 00:08:28,620
kicks Munich

206
00:08:28,620 --> 00:08:31,020
I think the dumpster starts smoldering

207
00:08:31,020 --> 00:08:32,640
here

208
00:08:32,640 --> 00:08:35,279
that's how we feel like stay smoke just

209
00:08:35,279 --> 00:08:36,539
something weird

210
00:08:36,539 --> 00:08:38,399
smells like smoke

211
00:08:38,399 --> 00:08:39,479
so

212
00:08:39,479 --> 00:08:42,659
uh what went wrong so we we talked to

213
00:08:42,659 --> 00:08:44,279
the knock from Salesforce and they're

214
00:08:44,279 --> 00:08:46,220
like we announced them around to

215
00:08:46,220 --> 00:08:49,380
cloudflare hey last time I reject

216
00:08:49,380 --> 00:08:51,360
cloudflare doesn't pay any routing bills

217
00:08:51,360 --> 00:08:53,220
to us they're not a clients of ours also

218
00:08:53,220 --> 00:08:55,980
they're fairly big so makes no sense

219
00:08:55,980 --> 00:08:57,839
awesome

220
00:08:57,839 --> 00:09:00,720
we don't have a session with Salesforce

221
00:09:00,720 --> 00:09:02,580
so

222
00:09:02,580 --> 00:09:05,580
we're not doing anything why does this

223
00:09:05,580 --> 00:09:09,420
go through uh so with bgp you either

224
00:09:09,420 --> 00:09:11,519
have a session with

225
00:09:11,519 --> 00:09:13,740
another Network for your exchange routes

226
00:09:13,740 --> 00:09:16,500
so this is also just metadata where you

227
00:09:16,500 --> 00:09:19,260
exchange routes or you have a metadata

228
00:09:19,260 --> 00:09:21,420
mediation server it's called a router a

229
00:09:21,420 --> 00:09:22,980
route server and an internet exchange

230
00:09:22,980 --> 00:09:25,740
point just facilitates that because if

231
00:09:25,740 --> 00:09:28,260
we have 10 member

232
00:09:28,260 --> 00:09:30,540
on an ixp and I actually just a bit big

233
00:09:30,540 --> 00:09:32,519
fancy switch you have to maintain 100

234
00:09:32,519 --> 00:09:35,100
sessions if you have a hundred members

235
00:09:35,100 --> 00:09:37,500
suddenly you have to maintain across all

236
00:09:37,500 --> 00:09:40,380
of them 10 000 sessions so at one point

237
00:09:40,380 --> 00:09:42,720
if you have a thousand members on ixp it

238
00:09:42,720 --> 00:09:44,700
just becomes absolutely unmaintainable

239
00:09:44,700 --> 00:09:48,060
so you need a router to facilitate also

240
00:09:48,060 --> 00:09:49,800
a route server should perform the

241
00:09:49,800 --> 00:09:51,420
filtering for you so you announce your

242
00:09:51,420 --> 00:09:52,920
routes the route server everyone else

243
00:09:52,920 --> 00:09:54,000
knows

244
00:09:54,000 --> 00:09:56,940
what's available on a route service

245
00:09:56,940 --> 00:09:59,399
so there's a central point of filtering

246
00:09:59,399 --> 00:10:02,040
well D kicks should filter that

247
00:10:02,040 --> 00:10:04,140
so we send a ticket to dkicks hey guys

248
00:10:04,140 --> 00:10:05,459
something's wrong here why are you guys

249
00:10:05,459 --> 00:10:07,680
not filtering

250
00:10:07,680 --> 00:10:10,740
well the answer that came back was like

251
00:10:10,740 --> 00:10:13,440
this because yeah we clearly up

252
00:10:13,440 --> 00:10:15,779
and that was the answer so

253
00:10:15,779 --> 00:10:20,399
sorry we we're starting to run a query

254
00:10:20,399 --> 00:10:22,680
on our as set

255
00:10:22,680 --> 00:10:26,040
and hey actually we are a client a

256
00:10:26,040 --> 00:10:28,500
customer uh there are customer of ours

257
00:10:28,500 --> 00:10:30,839
that should not be what happened

258
00:10:30,839 --> 00:10:33,180
there's a nice tool called IR Explorer

259
00:10:33,180 --> 00:10:35,580
from nlnoc because if you have to search

260
00:10:35,580 --> 00:10:38,220
for content in an array in an array in

261
00:10:38,220 --> 00:10:39,899
an array in an array in a database

262
00:10:39,899 --> 00:10:41,519
you're actually going to get crazy so

263
00:10:41,519 --> 00:10:44,100
this thing does that to you and we find

264
00:10:44,100 --> 00:10:45,360
out that

265
00:10:45,360 --> 00:10:46,980
a customer of a customer of a customer

266
00:10:46,980 --> 00:10:51,420
of a customer claims that there are

267
00:10:51,420 --> 00:10:54,360
an ispf cloudflare well that

268
00:10:54,360 --> 00:10:57,240
that's not a good idea

269
00:10:57,240 --> 00:10:58,980
so

270
00:10:58,980 --> 00:11:01,440
again briefly what's an AI set contains

271
00:11:01,440 --> 00:11:03,899
an array of objects that can be either

272
00:11:03,899 --> 00:11:06,360
another area is that or

273
00:11:06,360 --> 00:11:08,279
a bunch of asns

274
00:11:08,279 --> 00:11:10,920
and this is here that you can generate a

275
00:11:10,920 --> 00:11:13,560
list of routes to filter to say which

276
00:11:13,560 --> 00:11:15,180
are the legit routes that this network

277
00:11:15,180 --> 00:11:17,720
can announce to you this ASN

278
00:11:17,720 --> 00:11:20,579
and because there's a route object and

279
00:11:20,579 --> 00:11:24,360
the route object gets searched reversely

280
00:11:24,360 --> 00:11:27,779
so our es set is garbage that's what we

281
00:11:27,779 --> 00:11:31,260
know now it's like okay fair enough but

282
00:11:31,260 --> 00:11:33,860
but but but but

283
00:11:34,079 --> 00:11:37,680
we have a route from cloudflare that has

284
00:11:37,680 --> 00:11:39,300
been announced to us from Hurricane

285
00:11:39,300 --> 00:11:42,240
Electric and we now announced that

286
00:11:42,240 --> 00:11:45,360
to cloudflare which then doesn't work

287
00:11:45,360 --> 00:11:47,519
because the uh sorry to Salesforce which

288
00:11:47,519 --> 00:11:49,320
then cannot announce anything anymore so

289
00:11:49,320 --> 00:11:51,740
this this

290
00:11:52,079 --> 00:11:54,060
is for that it's not that just our

291
00:11:54,060 --> 00:11:56,940
customers in the right and the get

292
00:11:56,940 --> 00:11:58,860
filtered routes and our upstreams get

293
00:11:58,860 --> 00:12:00,899
filtered out both sites have to filter

294
00:12:00,899 --> 00:12:03,420
the ISP filters

295
00:12:03,420 --> 00:12:04,980
and

296
00:12:04,980 --> 00:12:07,079
they're a client-filled this

297
00:12:07,079 --> 00:12:08,700
so

298
00:12:08,700 --> 00:12:11,279
in order to have a filter macro which

299
00:12:11,279 --> 00:12:13,260
processes what you announce because you

300
00:12:13,260 --> 00:12:14,880
might have different policies you run

301
00:12:14,880 --> 00:12:17,880
something called a route map

302
00:12:17,880 --> 00:12:20,220
uh yeah well

303
00:12:20,220 --> 00:12:22,140
we only announced stuff that we take as

304
00:12:22,140 --> 00:12:23,820
customers this doesn't come out of a

305
00:12:23,820 --> 00:12:25,620
customer route so what's what's wrong

306
00:12:25,620 --> 00:12:27,480
here

307
00:12:27,480 --> 00:12:30,899
we haven't updated anything so we also

308
00:12:30,899 --> 00:12:32,940
don't generate automated filter updates

309
00:12:32,940 --> 00:12:34,980
because exactly kind of issues like this

310
00:12:34,980 --> 00:12:37,620
where stuff blows up

311
00:12:37,620 --> 00:12:39,959
well

312
00:12:39,959 --> 00:12:43,579
the dumpster Fire gets bigger

313
00:12:43,680 --> 00:12:47,399
so we were running a routing OS at that

314
00:12:47,399 --> 00:12:50,579
time which is called iOS and iOS at that

315
00:12:50,579 --> 00:12:53,579
version was query fairly fairly limited

316
00:12:53,579 --> 00:12:55,500
I mean if you have to to save your

317
00:12:55,500 --> 00:12:57,120
configuration and every time you change

318
00:12:57,120 --> 00:12:58,740
something you wait 20 minutes it's

319
00:12:58,740 --> 00:13:01,019
really really fun I tell you I mean

320
00:13:01,019 --> 00:13:03,779
that's more like drinking coffee or code

321
00:13:03,779 --> 00:13:05,339
is compiling everyone knows this this

322
00:13:05,339 --> 00:13:07,560
XKCD of slacking off no the code is

323
00:13:07,560 --> 00:13:10,220
compiling this was worse

324
00:13:10,220 --> 00:13:13,320
uh so we've reached the configuration

325
00:13:13,320 --> 00:13:15,060
size where it's so bad that sometimes

326
00:13:15,060 --> 00:13:16,980
the config just gets corrupted and we

327
00:13:16,980 --> 00:13:19,079
have to fix it underneath on the disk by

328
00:13:19,079 --> 00:13:21,360
hand and exactly that's where where we

329
00:13:21,360 --> 00:13:24,180
where we up so up number one

330
00:13:24,180 --> 00:13:26,820
kind of a kind that's fine up

331
00:13:26,820 --> 00:13:30,240
safety net of ours well we

332
00:13:30,240 --> 00:13:33,060
we copied this allow allow allow allow

333
00:13:33,060 --> 00:13:34,980
deny

334
00:13:34,980 --> 00:13:37,860
oh there's no deny here so we allow a

335
00:13:37,860 --> 00:13:40,399
bunch of stuff

336
00:13:40,740 --> 00:13:43,740
and then the rest also gets a lot well

337
00:13:43,740 --> 00:13:46,320
it worked nothing broke you don't notice

338
00:13:46,320 --> 00:13:48,060
that you don't break anything you don't

339
00:13:48,060 --> 00:13:50,339
notice that you don't filter out

340
00:13:50,339 --> 00:13:52,079
anything if you don't announce garbage

341
00:13:52,079 --> 00:13:53,820
until you announce garbage and you've

342
00:13:53,820 --> 00:13:55,980
realized that your filter doesn't work

343
00:13:55,980 --> 00:13:57,959
yeah it's like

344
00:13:57,959 --> 00:13:59,940
it's great

345
00:13:59,940 --> 00:14:02,639
uh well it was it was done by a junior I

346
00:14:02,639 --> 00:14:04,380
don't blame my junior I wasn't doing the

347
00:14:04,380 --> 00:14:06,660
break myself and I wasn't breaking it

348
00:14:06,660 --> 00:14:08,459
myself I mean

349
00:14:08,459 --> 00:14:11,220
but I wasn't personally doing it so I

350
00:14:11,220 --> 00:14:14,579
had no idea this was repaired

351
00:14:14,579 --> 00:14:17,820
and in my opinion there is a third

352
00:14:17,820 --> 00:14:18,540
up

353
00:14:18,540 --> 00:14:20,399
how you can do a route map because we

354
00:14:20,399 --> 00:14:23,040
have this this route server so what

355
00:14:23,040 --> 00:14:26,279
happens is this this route so

356
00:14:26,279 --> 00:14:28,920
two Salesforce we announced that we're

357
00:14:28,920 --> 00:14:31,260
the ISP of Hurricane Electric which is

358
00:14:31,260 --> 00:14:33,060
the ISP of cloudflare

359
00:14:33,060 --> 00:14:36,180
and in my opinion a route server should

360
00:14:36,180 --> 00:14:38,279
start doing plausibility check that like

361
00:14:38,279 --> 00:14:42,060
small isps are not like the the service

362
00:14:42,060 --> 00:14:45,199
provider of a large ISP

363
00:14:45,199 --> 00:14:47,160
but

364
00:14:47,160 --> 00:14:51,000
yeah it hasn't it hasn't worked so yeah

365
00:14:51,000 --> 00:14:53,279
three layers of security none of them

366
00:14:53,279 --> 00:14:55,920
worked and also we announced a lot of

367
00:14:55,920 --> 00:14:58,380
routes not just that one route

368
00:14:58,380 --> 00:15:01,320
so we were like well shouldn't like

369
00:15:01,320 --> 00:15:03,240
we announced a hundred thousand routes

370
00:15:03,240 --> 00:15:04,380
to you

371
00:15:04,380 --> 00:15:08,399
should that shut we have leaked every

372
00:15:08,399 --> 00:15:09,899
single world ever

373
00:15:09,899 --> 00:15:12,120
so what happens is we send an entire

374
00:15:12,120 --> 00:15:13,920
table like the entire internet routing

375
00:15:13,920 --> 00:15:15,779
table to with the Upstream of the entire

376
00:15:15,779 --> 00:15:17,220
internet now where the service provider

377
00:15:17,220 --> 00:15:19,620
of the entire internet now nobody should

378
00:15:19,620 --> 00:15:21,000
announce that nobody should tell that

379
00:15:21,000 --> 00:15:22,500
the route service or route server should

380
00:15:22,500 --> 00:15:25,860
tell us like you know what you're idiots

381
00:15:25,860 --> 00:15:27,480
session shot

382
00:15:27,480 --> 00:15:30,180
that didn't happen so we had a third

383
00:15:30,180 --> 00:15:32,040
 up

384
00:15:32,040 --> 00:15:34,680
I mean only the Salesforce route went

385
00:15:34,680 --> 00:15:36,779
through but still we announced the

386
00:15:36,779 --> 00:15:39,480
entire internet to them so yeah in the

387
00:15:39,480 --> 00:15:41,459
meantime it's like okay we we really

388
00:15:41,459 --> 00:15:44,479
need to clean our fire

389
00:15:44,880 --> 00:15:48,120
so in the meantime this is one of the

390
00:15:48,120 --> 00:15:50,579
topics I'm working on is how do you fix

391
00:15:50,579 --> 00:15:51,779
this that the internet doesn't break

392
00:15:51,779 --> 00:15:53,699
whenever someone does a simple type of

393
00:15:53,699 --> 00:15:54,720
like

394
00:15:54,720 --> 00:15:57,300
oh there's no deny one line that gets

395
00:15:57,300 --> 00:16:00,360
lost and the internet breaks

396
00:16:00,360 --> 00:16:01,139
um

397
00:16:01,139 --> 00:16:04,500
so essentially in my opinion the

398
00:16:04,500 --> 00:16:06,540
route filtering with ASX is is

399
00:16:06,540 --> 00:16:09,540
completely broken which means yes the

400
00:16:09,540 --> 00:16:11,100
internet is broken and yes the internet

401
00:16:11,100 --> 00:16:12,839
works on a broken

402
00:16:12,839 --> 00:16:15,620
system of trust

403
00:16:15,620 --> 00:16:18,959
and probably there should be some

404
00:16:18,959 --> 00:16:20,459
possibility

405
00:16:20,459 --> 00:16:24,060
checks I don't know how to do it other

406
00:16:24,060 --> 00:16:25,680
people know don't know how to do it

407
00:16:25,680 --> 00:16:28,019
there's approaches for it and this with

408
00:16:28,019 --> 00:16:30,420
everything on the internet I mean IPv6

409
00:16:30,420 --> 00:16:34,199
has not been rolled out since 24 years

410
00:16:34,199 --> 00:16:36,680
of age of IPv6

411
00:16:36,680 --> 00:16:39,959
I would assume it takes another 10 to 15

412
00:16:39,959 --> 00:16:41,940
years to fix this problem in the

413
00:16:41,940 --> 00:16:44,519
internet our approaches are PSL for

414
00:16:44,519 --> 00:16:47,100
who's who's interested in it or

415
00:16:47,100 --> 00:16:49,740
historical data to start saying hey this

416
00:16:49,740 --> 00:16:51,480
network has never been an upstream of

417
00:16:51,480 --> 00:16:53,100
this other network maybe that should

418
00:16:53,100 --> 00:16:54,959
that is not plausible because the

419
00:16:54,959 --> 00:16:57,300
service provider of cloudflare have

420
00:16:57,300 --> 00:16:59,279
always been hurricane and a few others

421
00:16:59,279 --> 00:17:02,519
so so these random Smalls this Finnish

422
00:17:02,519 --> 00:17:04,980
company probably should not

423
00:17:04,980 --> 00:17:06,660
you can do is you can do machine

424
00:17:06,660 --> 00:17:09,140
learning on historical data you can do

425
00:17:09,140 --> 00:17:12,419
Declaration of data to do that so

426
00:17:12,419 --> 00:17:15,839
yeah this is this is a master thesis on

427
00:17:15,839 --> 00:17:17,459
one of my co-workers who's also running

428
00:17:17,459 --> 00:17:21,240
around here to to bring up proposals

429
00:17:21,240 --> 00:17:25,679
but yeah triple fail and rebroke the

430
00:17:25,679 --> 00:17:28,799
internet for Salesforce and uh

431
00:17:28,799 --> 00:17:32,840
I would say this is how it felt then

432
00:17:35,940 --> 00:17:38,820
so and in order to give proper picture

433
00:17:38,820 --> 00:17:41,400
credit uh this this was found that it's

434
00:17:41,400 --> 00:17:43,140
only time to occur I still love this

435
00:17:43,140 --> 00:17:45,900
because yeah everyone who has been to to

436
00:17:45,900 --> 00:17:48,840
talk who knows what this is about

437
00:17:48,840 --> 00:17:49,740
um

438
00:17:49,740 --> 00:17:52,919
we have five minutes if someone has

439
00:17:52,919 --> 00:17:54,299
questions

440
00:17:54,299 --> 00:17:57,059
find me here but we're anyway at the end

441
00:17:57,059 --> 00:17:58,559
of this

442
00:17:58,559 --> 00:18:00,000
of this day

443
00:18:00,000 --> 00:18:02,660
thank you

444
00:18:03,299 --> 00:18:05,280
okay so the question is how long it took

445
00:18:05,280 --> 00:18:07,200
things to become normal again after this

446
00:18:07,200 --> 00:18:10,140
happened I think the moment we we found

447
00:18:10,140 --> 00:18:11,760
the issue Salesforce has already

448
00:18:11,760 --> 00:18:14,340
filtered the route from us so the issue

449
00:18:14,340 --> 00:18:16,200
has already stopped at a point in time

450
00:18:16,200 --> 00:18:18,539
they have opened the ticket because they

451
00:18:18,539 --> 00:18:19,740
were like

452
00:18:19,740 --> 00:18:22,260
you're getting you're getting this the

453
00:18:22,260 --> 00:18:24,480
the cloudflare traffic and that's not

454
00:18:24,480 --> 00:18:25,500
right

455
00:18:25,500 --> 00:18:27,240
we just filter the route because they

456
00:18:27,240 --> 00:18:29,220
can also just say uh no no we don't take

457
00:18:29,220 --> 00:18:31,140
open Factory as an ISP to that so they

458
00:18:31,140 --> 00:18:33,120
just block the path and everything went

459
00:18:33,120 --> 00:18:34,620
back to normal because we have a one

460
00:18:34,620 --> 00:18:36,419
geek port and say it's four centers five

461
00:18:36,419 --> 00:18:38,039
gigabytes of traffic that's by the way

462
00:18:38,039 --> 00:18:39,660
why everything broke

463
00:18:39,660 --> 00:18:41,640
otherwise it would have worked but

464
00:18:41,640 --> 00:18:43,919
Salesforce has five five gigabit of

465
00:18:43,919 --> 00:18:45,660
traffic to cloudflare I didn't know that

466
00:18:45,660 --> 00:18:47,580
now I know

467
00:18:47,580 --> 00:18:50,418
more questions

