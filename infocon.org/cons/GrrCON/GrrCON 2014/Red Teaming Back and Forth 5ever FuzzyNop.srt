1
00:00:00,400 --> 00:00:04,080
hello everyone II arm

2
00:00:04,080 --> 00:00:07,220
so this video is playing right now if
these guys on there

3
00:00:07,220 --> 00:00:11,219
there these on hackers video gamers that
arm

4
00:00:11,219 --> 00:00:16,190
are playing Team Fortress 2 and their
under the mat outside the enemy's base

5
00:00:16,190 --> 00:00:19,529
and they just building hurts their so
soon as the enemy spawns

6
00:00:19,529 --> 00:00:23,119
up they get classes with rockets SEC and

7
00:00:23,119 --> 00:00:27,220
one glove great little quote from this
video is guys like but

8
00:00:27,220 --> 00:00:30,460
after you doing and the like well I mean
like

9
00:00:30,460 --> 00:00:33,520
it poppin want us to do it they would
have put it in the game

10
00:00:33,520 --> 00:00:37,010
and %uh that's why I feel about a lot of
things anyways

11
00:00:37,010 --> 00:00:40,469
effective it is pretty funny another
whatever

12
00:00:40,469 --> 00:00:45,970
so ok

13
00:00:45,970 --> 00:00:48,610
I'm putting up this talk

14
00:00:48,610 --> 00:00:52,660
is redeeming back and forth back in by 5
ever

15
00:00:52,660 --> 00:00:56,220
so sometimes I play a drinking game with
the stock

16
00:00:56,220 --> 00:00:59,750
and it normally back tires for a plea I
get way to drop

17
00:00:59,750 --> 00:01:02,830
about halfway through the talk and then
unites has on the floor

18
00:01:02,830 --> 00:01:06,040
arm I'm gonna try and just play with
myself

19
00:01:06,040 --> 00:01:10,000
I the bartenders were nice enough to
pour me a nice class if not water

20
00:01:10,000 --> 00:01:13,380
and Dom if I say for

21
00:01:13,380 --> 00:01:16,750
instead of five and I should always say
five on

22
00:01:16,750 --> 00:01:21,640
feel free to call me out on it but not
too much be gentle

23
00:01:21,640 --> 00:01:25,490
so quick survey who's up who's reading
here

24
00:01:25,490 --> 00:01:30,539
regulars who who breaks things two big
things an accident good

25
00:01:30,539 --> 00:01:33,630
up who's routine

26
00:01:33,630 --> 00:01:39,310
defending defenders code auditors that
don't break things but have to clean up

27
00:01:39,310 --> 00:01:42,399
things that people break network admins

28
00:01:42,399 --> 00:01:47,060
all participants said anyone on track
team

29
00:01:47,060 --> 00:01:50,750
you better not be defeated scope its
pretty early om

30
00:01:50,750 --> 00:01:54,670
I bet people run drug team last night
though right yeah

31
00:01:54,670 --> 00:02:01,009
so outline I wanna talk gonna talk about
red versus blue a little bit what that

32
00:02:01,009 --> 00:02:01,720
means to me

33
00:02:01,720 --> 00:02:06,090
a penetration test why they suck
sometimes I have a philosophical

34
00:02:06,090 --> 00:02:07,680
anecdote that may or may not

35
00:02:07,680 --> 00:02:11,970
make sense and then I'll talk about some
360 no scope hello swag

36
00:02:11,970 --> 00:02:17,020
and her two a bit of a show-and-tell are
i've a twelve step process

37
00:02:17,020 --> 00:02:20,650
and they'll be demos are all of my demos
by the way

38
00:02:20,650 --> 00:02:24,769
are going to run through my phone which
is tethered and

39
00:02:24,769 --> 00:02:28,180
I but one bar right now cock

40
00:02:28,180 --> 00:02:32,280
we'll see how that works and then is
going to have missed you you hear

41
00:02:32,280 --> 00:02:37,430
her see is an EQ more soap

42
00:02:37,430 --> 00:02:40,680
bad at Penn has think the pen is

43
00:02:40,680 --> 00:02:43,920
tested and gather some turning issues
there but whatever

44
00:02:43,920 --> 00:02:47,190
worst-case Penn worked fine

45
00:02:47,190 --> 00:02:50,420
we check your check box and tested great

46
00:02:50,420 --> 00:02:54,170
are hoping this isn't you because it's
frustrating and hopefully

47
00:02:54,170 --> 00:02:57,430
you're not the one has to do this hope
leaning on a on the receiving end of

48
00:02:57,430 --> 00:02:57,900
this

49
00:02:57,900 --> 00:03:01,380
its it's frustrating if you've ever been
on a contest like this

50
00:03:01,380 --> 00:03:05,370
what happens is you rollin and your
hands are tied you don't really get it

51
00:03:05,370 --> 00:03:06,549
you anything you

52
00:03:06,549 --> 00:03:09,570
you know you could probably hacked them
you know you could probably

53
00:03:09,570 --> 00:03:13,549
getting a different way but it's not in
school so what are some ways that you

54
00:03:13,549 --> 00:03:14,370
can find that your

55
00:03:14,370 --> 00:03:19,060
you're not really in school if your
users to the user base is out of scope

56
00:03:19,060 --> 00:03:23,019
well you're missing up big part in the
attack surface there

57
00:03:23,019 --> 00:03:26,860
and if you don't if you don't really
demonstrate impact

58
00:03:26,860 --> 00:03:30,299
if you're just reporting on things that
you found

59
00:03:30,299 --> 00:03:34,530
then how do you know like what happens
is you get that pen test back as the

60
00:03:34,530 --> 00:03:35,500
receiver ovett

61
00:03:35,500 --> 00:03:38,590
you get that contest back and you get
the report and you're like

62
00:03:38,590 --> 00:03:43,500
now this one doesn't apply to us yellow
toner duties there but is exploitable

63
00:03:43,500 --> 00:03:48,360
now so not so good and if you can't
validate the findings

64
00:03:48,360 --> 00:03:51,690
also that so what about but no results

65
00:03:51,690 --> 00:03:54,760
with you any word so

66
00:03:54,760 --> 00:03:58,420
other people who have been tested or
receive pen test you ever have a pen

67
00:03:58,420 --> 00:04:02,340
test with no results

68
00:04:02,340 --> 00:04:03,900
what would you do about it

69
00:04:03,900 --> 00:04:07,380
was there anything you could do about it

70
00:04:07,380 --> 00:04:10,730
so I think there should never be a
penthouse with no results

71
00:04:10,730 --> 00:04:13,830
because if you're getting all results
your scope is too tight

72
00:04:13,830 --> 00:04:17,799
you should talk them into widening the
scope

73
00:04:17,799 --> 00:04:21,799
because if if your school too tight and
getting no results they're paying for

74
00:04:21,799 --> 00:04:22,420
something

75
00:04:22,420 --> 00:04:26,140
and you're not eliminating this path
that could have happened right

76
00:04:26,140 --> 00:04:29,310
you not eliminating the fish that what's
gonna happen

77
00:04:29,310 --> 00:04:32,380
not a limiting any of that stuff for
them and dear

78
00:04:32,380 --> 00:04:37,130
you know pen testing checking to Cox's
and I think they do this

79
00:04:37,130 --> 00:04:42,700
mainly because of Europe acknowledging

80
00:04:42,700 --> 00:04:45,849
the security flaws rated easier to not
have to deal with them

81
00:04:45,850 --> 00:04:48,850
but they need to get the pen testing
this so

82
00:04:48,850 --> 00:04:53,160
I think we'd be no when that happens
here's my here's my philosophical

83
00:04:53,160 --> 00:04:54,180
anecdote

84
00:04:54,180 --> 00:04:57,880
up writer I'll economists

85
00:04:57,880 --> 00:05:03,220
philosopher nassim Nicholas Taleb wrote
this book called The Black Swan

86
00:05:03,220 --> 00:05:07,430
and basically with the Black Swan effect
is

87
00:05:07,430 --> 00:05:12,230
she with the Black Swan effect is

88
00:05:12,230 --> 00:05:16,360
is this event totally random and

89
00:05:16,360 --> 00:05:20,570
after happens you overvalued the
likelihood of that happening again and

90
00:05:20,570 --> 00:05:21,320
it changes

91
00:05:21,320 --> 00:05:28,320
and has a huge impact on changing
significantly

92
00:05:28,970 --> 00:05:29,560
so like

93
00:05:29,560 --> 00:05:31,620
he has a problem

94
00:05:31,620 --> 00:05:34,740
them with this word random though to
because

95
00:05:34,740 --> 00:05:38,000
randomness people like s randomness

96
00:05:38,000 --> 00:05:41,930
nice throw the dice 16 sides its random

97
00:05:41,930 --> 00:05:45,250
well no it's not its gonna land on wanna
six sides

98
00:05:45,250 --> 00:05:48,570
if the data million sides is that random
know I'll up

99
00:05:48,570 --> 00:05:51,889
billion now brandon is

100
00:05:51,889 --> 00:05:55,190
throwing the dice and this projector
rose likes

101
00:05:55,190 --> 00:05:58,530
and then each that piece at that pace
and then spit it back out

102
00:05:58,530 --> 00:06:01,660
and the dice lands on potato that was
random

103
00:06:01,660 --> 00:06:04,740
the dais is potato now and it's free my
copy

104
00:06:04,740 --> 00:06:07,940
none of that stuff is in the scope %uh
but I stroll

105
00:06:07,940 --> 00:06:13,190
and suddenly it happen so what happened
if that happened suddenly we be afraid

106
00:06:13,190 --> 00:06:14,110
of potato that's

107
00:06:14,110 --> 00:06:17,130
all the time would you like all crack

108
00:06:17,130 --> 00:06:20,130
don't touch the dice you know get your
body scanned

109
00:06:20,130 --> 00:06:24,030
patch heart bleed patch shell shocker

110
00:06:24,030 --> 00:06:27,510
this is everything it's gonna happen now
we do need to

111
00:06:27,510 --> 00:06:30,870
to worry about these things happening
but we need to be careful that we don't

112
00:06:30,870 --> 00:06:33,430
over value them

113
00:06:33,430 --> 00:06:37,090
so another guy umberto eco

114
00:06:37,090 --> 00:06:40,700
burger ago

115
00:06:40,700 --> 00:06:44,410
is Italian philosopher and he has an
extremely large

116
00:06:44,410 --> 00:06:48,600
library about 30,000 books

117
00:06:48,600 --> 00:06:52,690
pic and this thirty thousand book
library gets visitors

118
00:06:52,690 --> 00:06:55,780
people visit his is T and they say wow

119
00:06:55,780 --> 00:06:59,910
doctor Berto echo tyson's Spanish retire
something

120
00:06:59,910 --> 00:07:03,090
and they say you have such a large
library

121
00:07:03,090 --> 00:07:08,340
how many books have you read and so he
classifies people into two types:

122
00:07:08,340 --> 00:07:12,220
the dumb ones that ask that and the
other people

123
00:07:12,220 --> 00:07:15,580
because it's not about how many books
you've read

124
00:07:15,580 --> 00:07:19,950
if you have a library of 30,000 books is
your goal to sit down everyday and train

125
00:07:19,950 --> 00:07:23,920
read as many of them as possible no it
security your library

126
00:07:23,920 --> 00:07:27,570
illuminating the things that you don't
know the things that are in the library

127
00:07:27,570 --> 00:07:31,220
the books that you have internet there
those are far more valuable

128
00:07:31,220 --> 00:07:34,570
because the books you have read you know
what's in them

129
00:07:34,570 --> 00:07:40,440
you know that knowledge now but the
books that you haven't read

130
00:07:40,440 --> 00:07:44,410
might have something really important
that you don't know yet so

131
00:07:44,410 --> 00:07:47,670
this kinda pertains to to pen testing a
little bit rate

132
00:07:47,670 --> 00:07:51,740
because it's the vulnerability that you
don't know about yet

133
00:07:51,740 --> 00:07:55,950
it's the vulnerability book but you
haven't read

134
00:07:55,950 --> 00:07:59,210
so I think it's about eliminating the
unknown

135
00:07:59,210 --> 00:08:03,320
and I think the value of things that you
do know far outweighs the value things

136
00:08:03,320 --> 00:08:03,870
you cannot

137
00:08:03,870 --> 00:08:08,290
so type wrote Richie that make sense

138
00:08:08,290 --> 00:08:13,460
no an indexer up

139
00:08:13,460 --> 00:08:17,060
but that makes sense so talking about
the red team

140
00:08:17,060 --> 00:08:20,410
360 no scope your site and what I mean
by this is

141
00:08:20,410 --> 00:08:23,840
this is how I felt going from a
consulting pen tester

142
00:08:23,840 --> 00:08:27,750
into a role where I'm reading all the
time and suddenly like

143
00:08:27,750 --> 00:08:31,930
scope out the window and the goals are
different they're trying to snuff C

144
00:08:31,930 --> 00:08:33,140
mealy

145
00:08:33,140 --> 00:08:36,649
threat actors instead of trying to get
to sleep the network find the

146
00:08:36,649 --> 00:08:37,469
vulnerabilities

147
00:08:37,469 --> 00:08:41,770
your you're just playing back and for me
I was Forza

148
00:08:41,770 --> 00:08:45,200
crazy it's the best thing ever and

149
00:08:45,200 --> 00:08:49,360
yes got anything now you're also testing
defenses

150
00:08:49,360 --> 00:08:56,360
you you you also testing defenses

151
00:08:57,000 --> 00:09:01,250
because as your internet work

152
00:09:01,250 --> 00:09:05,300
as you read teaming there should be some
defense in place

153
00:09:05,300 --> 00:09:08,600
and that is something that you want to
get feedback on

154
00:09:08,600 --> 00:09:15,010
break we'll talk about that later here's
my twelve steps to read cover

155
00:09:15,010 --> 00:09:20,600
and I said four yet scrapping 5

156
00:09:20,600 --> 00:09:23,080
gets me every time so

157
00:09:23,080 --> 00:09:27,040
here scenarios got nice sort of Mike
okay with the goals when you doing

158
00:09:27,040 --> 00:09:30,720
Pettini and I came up with a key hack
everything up

159
00:09:30,720 --> 00:09:34,390
cause damage compromise intellectual
property right

160
00:09:34,390 --> 00:09:38,580
and like I give the talk once an aside
was like that again haha

161
00:09:38,580 --> 00:09:42,190
karach those those goals are yes the
school

162
00:09:42,190 --> 00:09:45,470
but but really what's the purpose where
the actual goals

163
00:09:45,470 --> 00:09:48,660
national goals are to be a change
catalyst for

164
00:09:48,660 --> 00:09:52,540
your target because somebody somewhere
needs the funding somebody somewhere

165
00:09:52,540 --> 00:09:53,590
needs new budget

166
00:09:53,590 --> 00:09:57,520
and you're gonna help them either
realize that security is a big issue

167
00:09:57,520 --> 00:10:02,570
or help them help someone else realize
that and then

168
00:10:02,570 --> 00:10:06,140
you know leverage rate in the within the
business within the organization

169
00:10:06,140 --> 00:10:09,740
the they need that leverage same thing
and then like for yourself

170
00:10:09,740 --> 00:10:14,540
looking like a badass right cuz you want
to come out and pack everything

171
00:10:14,540 --> 00:10:18,760
anyone have the results anyone feel good
about it now

172
00:10:18,760 --> 00:10:23,340
couple restrictions note in our service
nope getting caught when you don't want

173
00:10:23,340 --> 00:10:23,770
to

174
00:10:23,770 --> 00:10:27,110
and no actual physical violence

175
00:10:27,110 --> 00:10:30,340
II on my team ends up always

176
00:10:30,340 --> 00:10:33,950
like is a was kidnapped in copies Han
mailed his family

177
00:10:33,950 --> 00:10:37,370
that's how we'll get the domain admin
password well

178
00:10:37,370 --> 00:10:39,399
up

179
00:10:39,399 --> 00:10:43,029
maybe well let's no no physical violence
I mean it

180
00:10:43,029 --> 00:10:46,980
so it's tough one week on

181
00:10:46,980 --> 00:10:50,120
its step on it always week on you you

182
00:10:50,120 --> 00:10:53,480
always have to refund your card and
would I be my this I do I mean like

183
00:10:53,480 --> 00:10:57,540
scope them out on the Internet yes but

184
00:10:57,540 --> 00:11:01,850
I think you should also him a call see
who answers the phone when you call them

185
00:11:01,850 --> 00:11:04,980
see if anybody answers the phone i'd a
problem recently

186
00:11:04,980 --> 00:11:08,579
work couldn't get ahold anybody at the
company because they're also

187
00:11:08,579 --> 00:11:12,279
busy that's a problem I had to carry a
scenario in which

188
00:11:12,279 --> 00:11:16,430
I'm important enough that they're gonna
call me back so you know if your

189
00:11:16,430 --> 00:11:19,600
always worrying that your phone's going
to ring and you need to answer it and

190
00:11:19,600 --> 00:11:21,600
pretend to be a different person

191
00:11:21,600 --> 00:11:26,040
it makes for a stressful few days
anyways I you can stop by five the visit

192
00:11:26,040 --> 00:11:29,339
strollin see if you can walk right in
the front door

193
00:11:29,339 --> 00:11:32,740
see if it's a place that but everybody
walk right into the front door

194
00:11:32,740 --> 00:11:36,020
if not maybe you can schedule an
appointment there

195
00:11:36,020 --> 00:11:39,730
maybe you can find a way that they'll
let you in and then you know roseanne

196
00:11:39,730 --> 00:11:40,540
stuff of course

197
00:11:40,540 --> 00:11:43,660
a big part of this scoping

198
00:11:43,660 --> 00:11:47,580
is identifying moments opportunity and

199
00:11:47,580 --> 00:11:51,529
this is things like if the company has
an event going on

200
00:11:51,529 --> 00:11:55,270
something outdoor where people are going
to be at publicly accessible

201
00:11:55,270 --> 00:11:58,760
that's that's the way it if a company
has

202
00:11:58,760 --> 00:12:02,790
recent press articles that say things
about them you can leverage that

203
00:12:02,790 --> 00:12:03,570
information

204
00:12:03,570 --> 00:12:07,760
you create a sense of mmm familiarity
for them

205
00:12:07,760 --> 00:12:11,240
right slightly estabas slightly
establish trust

206
00:12:11,240 --> 00:12:14,520
because of something that's happening
and you're talking to them about that

207
00:12:14,520 --> 00:12:19,520
%uh

208
00:12:19,520 --> 00:12:23,440
when companies get acquired it's great
everyone super confused

209
00:12:23,440 --> 00:12:26,470
arm things are getting integrated

210
00:12:26,470 --> 00:12:31,160
new people are showing up all the time
great opportunity

211
00:12:31,160 --> 00:12:35,089
benefit enrollment periods for some
reason always working writes like a

212
00:12:35,089 --> 00:12:39,279
your new health care provider is at this
link you go and register

213
00:12:39,279 --> 00:12:42,890
and I also either use this companion app
and down i mean like its

214
00:12:42,890 --> 00:12:46,399
people do anything to keep their
benefits we're they want healthcare

215
00:12:46,399 --> 00:12:50,080
whatever so with Sep cue

216
00:12:50,080 --> 00:12:53,399
after you scope your target Accu

217
00:12:53,399 --> 00:12:56,459
figured out what kinda computers they
have after you figure out this kind of

218
00:12:56,459 --> 00:12:58,290
stuff if took

219
00:12:58,290 --> 00:13:03,120
roll some hour for them do you fire up
Metasploit like pop out a module

220
00:13:03,120 --> 00:13:06,839
meaty if it's the right target
environment if they don't have like

221
00:13:06,839 --> 00:13:10,630
treat detection if they don't have six
that are gonna sing on notice what's up

222
00:13:10,630 --> 00:13:13,390
you're capable of getting something
that's gonna bypass things in their

223
00:13:13,390 --> 00:13:13,920
network

224
00:13:13,920 --> 00:13:18,760
totaling ayala I've been targeting a lot
are networks

225
00:13:18,760 --> 00:13:22,220
works like start-up everyone's on wifi

226
00:13:22,220 --> 00:13:27,240
there is no corporate network everyone
has a Mac Book so I decided to you

227
00:13:27,240 --> 00:13:28,390
brought my on our

228
00:13:28,390 --> 00:13:31,520
and I wanted it to be I want to be
flexible

229
00:13:31,520 --> 00:13:34,690
I wanted them to be like over in a block
that IP when

230
00:13:34,690 --> 00:13:39,779
and I just be able to move it easily I'm
so I ended up going to the cloud

231
00:13:39,779 --> 00:13:43,200
using Amazon but also wanted to be
portable

232
00:13:43,200 --> 00:13:46,820
so use papon so it ended up not portable
at all

233
00:13:46,820 --> 00:13:49,860
but up and I wanted to be a lady to
troll

234
00:13:49,860 --> 00:13:54,020
and we'll talk about that later also so
symbols good

235
00:13:54,020 --> 00:13:57,800
because I'm lazy on how I feel about
that maybe you're lazy to you

236
00:13:57,800 --> 00:14:02,089
so here's what I did: I made something
that runs in their box

237
00:14:02,089 --> 00:14:05,980
use papon drops SSH keys

238
00:14:05,980 --> 00:14:09,630
goes out to Twitter crowds a tweet from
a trigger handle

239
00:14:09,630 --> 00:14:12,880
d called that into an IP address and
then sends a reverse

240
00:14:12,880 --> 00:14:16,829
SSH tunnel up to Amazon Web server
wherever that IP address

241
00:14:16,829 --> 00:14:20,529
results to then when I do with isse jin
et servers well

242
00:14:20,529 --> 00:14:23,560
and that reversed hun allows me to ssh
directly into the box

243
00:14:23,560 --> 00:14:26,760
using the private key and public key
pair that I drop on the box

244
00:14:26,760 --> 00:14:30,560
super simple your some benefits

245
00:14:30,560 --> 00:14:33,660
all my topics infected SSH Amazon

246
00:14:33,660 --> 00:14:37,560
doesn't look super suspicious om

247
00:14:37,560 --> 00:14:40,709
detection teams end up having a pretty
hard time with this

248
00:14:40,709 --> 00:14:44,610
which I was glad about so here's a tutor

249
00:14:44,610 --> 00:14:49,529
toxic let some

250
00:14:49,529 --> 00:14:56,529
let's go for a double ok let's go five a
devil

251
00:14:58,100 --> 00:15:05,100
thank you sir I could use a drink has my
steps to

252
00:15:05,329 --> 00:15:10,630
giving a talk try to get one demo to
work so what I have

253
00:15:10,630 --> 00:15:13,760
is a scripted that writes another script

254
00:15:13,760 --> 00:15:16,790
because like I said I'm lazy I'd rather

255
00:15:16,790 --> 00:15:19,790
run a script and get my output every
time

256
00:15:19,790 --> 00:15:23,730
and not have to like go in edit hold
because I'm gonna mess it up

257
00:15:23,730 --> 00:15:28,290
I got if I die

258
00:15:28,290 --> 00:15:31,329
on stage I want to be buried under the
stage

259
00:15:31,329 --> 00:15:34,389
so

260
00:15:34,389 --> 00:15:38,240
here's it's an ugly scar I think I need
to write a script to write this script

261
00:15:38,240 --> 00:15:41,480
because it's starting to get pretty ugly
and when I wanna make changes it's just

262
00:15:41,480 --> 00:15:41,829
a

263
00:15:41,829 --> 00:15:48,829
so here's what running the script click
in

264
00:15:51,160 --> 00:15:55,990
so up in

265
00:15:55,990 --> 00:16:02,990
good

266
00:16:07,270 --> 00:16:10,980
it man re: and that's my demo thank you

267
00:16:10,980 --> 00:16:17,980
so here's my cell maker and in here
there's a Python script called

268
00:16:20,130 --> 00:16:23,230
snail maker scary isn't it

269
00:16:23,230 --> 00:16:27,940
on I call it snail I honestly don't know
why it's not an acronym

270
00:16:27,940 --> 00:16:31,840
I like adventure time and I like finding
the snail

271
00:16:31,840 --> 00:16:35,080
so I thought blue team might like trying
to find myself so

272
00:16:35,080 --> 00:16:38,430
that's why it's called that so I have a
lexicon

273
00:16:38,430 --> 00:16:41,490
this lexicon is basically a dump upwards

274
00:16:41,490 --> 00:16:45,129
I took something from the

275
00:16:45,129 --> 00:16:47,500
I I actually don't even remember where I
took it from

276
00:16:47,500 --> 00:16:50,500
trying up hey guys

277
00:16:50,500 --> 00:16:55,029
knock it off an extra key

278
00:16:55,029 --> 00:16:58,560
would you guys like to use as the XR ke
5

279
00:16:58,560 --> 00:17:05,189
alright will make

280
00:17:05,189 --> 00:17:11,819
will make five fives have heard

281
00:17:11,819 --> 00:17:16,110
yeah hope the user name I'm connecting
into my server with

282
00:17:16,110 --> 00:17:20,140
is called snail I think and the Twitter
handle is

283
00:17:20,140 --> 00:17:23,439
for once an your

284
00:17:23,439 --> 00:17:26,449
white by the way you can add

285
00:17:26,449 --> 00:17:29,460
once for once in your life I want in
your life

286
00:17:29,460 --> 00:17:33,679
to the end anything and make it funny

287
00:17:33,679 --> 00:17:38,010
Lake I hope my demo words 5 once in my
life

288
00:17:38,010 --> 00:17:41,720
kinda like that oh my god this is

289
00:17:41,720 --> 00:17:46,750
red team says or something

290
00:17:46,750 --> 00:17:50,429
i DK and what these are up is

291
00:17:50,429 --> 00:17:54,640
tweet two letters so I just packed these
words on to the front and and

292
00:17:54,640 --> 00:17:57,960
love the two weeks from the Twitter
account I first I was

293
00:17:57,960 --> 00:18:02,070
lick scraping the the website Twitter
and just like finding the tags that

294
00:18:02,070 --> 00:18:02,780
matter to me

295
00:18:02,780 --> 00:18:05,980
and then describing the tweet from outta
there that works like a week until the

296
00:18:05,980 --> 00:18:07,909
updated the site and the market changed

297
00:18:07,909 --> 00:18:11,780
up issues my aunt letters and the

298
00:18:11,780 --> 00:18:15,400
these are customizable course OSX
persistence

299
00:18:15,400 --> 00:18:20,850
why not now

300
00:18:20,850 --> 00:18:24,500
the way 2006 persons works is there
something called the launch team in and

301
00:18:24,500 --> 00:18:25,650
dislodged a min

302
00:18:25,650 --> 00:18:28,740
has a utility called launch CTL and

303
00:18:28,740 --> 00:18:32,850
you can write a key west file and then
taught to load and the fewest file

304
00:18:32,850 --> 00:18:36,289
basically like determines how it should
look so shit run

305
00:18:36,289 --> 00:18:39,570
all the time yes it should run all the
time at startup

306
00:18:39,570 --> 00:18:44,100
yes so what will happen is the operating
system will keep my python script

307
00:18:44,100 --> 00:18:46,360
running in 20 yuan load this much

308
00:18:46,360 --> 00:18:50,669
and if you don't know to look for it
kinda hard to find you see the weird

309
00:18:50,669 --> 00:18:52,559
process heat up a conscript you kill it

310
00:18:52,559 --> 00:18:57,370
find I get a new show on a second so
pretty

311
00:18:57,370 --> 00:19:02,030
need persistence in

312
00:19:02,030 --> 00:19:06,100
the

313
00:19:06,100 --> 00:19:07,060
so obviously Asian

314
00:19:07,060 --> 00:19:11,790
I'll show you what this ends up doing
well it does it has the second layer

315
00:19:11,790 --> 00:19:13,000
text takes a bit to run

316
00:19:13,000 --> 00:19:16,710
so here's what the script when it comes
out looks like

317
00:19:16,710 --> 00:19:19,950
if you see here

318
00:19:19,950 --> 00:19:24,150
I didn't want there to be any strings so
what I doing is I have my

319
00:19:24,150 --> 00:19:29,660
X or encoded lexicon which is like the
64 X or an ice pack on all the letters

320
00:19:29,660 --> 00:19:30,590
and numbers at the end

321
00:19:30,590 --> 00:19:34,250
so that I have everything that I need to
form any string that i won

322
00:19:34,250 --> 00:19:37,900
and the script will generate this

323
00:19:37,900 --> 00:19:42,340
automatically as it gets compiled and
will happen is artistic indexes

324
00:19:42,340 --> 00:19:45,430
into the string thats gibberish an
encoded

325
00:19:45,430 --> 00:19:50,650
and then I'll construct my strings using
that string that way I have this

326
00:19:50,650 --> 00:19:54,560
and right now are saying look at those
variable names that's pretty obvious

327
00:19:54,560 --> 00:19:59,090
it comes out here here's my has me
running commands to electrophoresis

328
00:19:59,090 --> 00:20:05,170
such round one about his cation gets rid
of those stupid stupid variable names

329
00:20:05,170 --> 00:20:08,740
but you can still kinda see what's going
on

330
00:20:08,740 --> 00:20:11,930
it's pretty easy to the park despite
print statements after everything

331
00:20:11,930 --> 00:20:14,600
papon script after all

332
00:20:14,600 --> 00:20:17,840
surround 3 does this you

333
00:20:17,840 --> 00:20:23,549
this isn't that hard be 64 encoded
lambda the compact tax everything

334
00:20:23,549 --> 00:20:26,410
together all the functions get the code
it in time and run

335
00:20:26,410 --> 00:20:32,870
have the targets that come up against
have been able to decode this

336
00:20:32,870 --> 00:20:37,360
which is good because there's some troll
ability to be happening at once they do

337
00:20:37,360 --> 00:20:42,530
on figured out and I think ur

338
00:20:42,530 --> 00:20:46,490
think I'm hours time minute printing out
my stuff

339
00:20:46,490 --> 00:20:50,020
give me any 5's tells me all the stuff
that I typed in because I clearly

340
00:20:50,020 --> 00:20:53,240
are ready for got it and the script as
many

341
00:20:53,240 --> 00:20:57,020
I'm gonna wait to don't the script I'm
gonna the most mothers

342
00:20:57,020 --> 00:21:04,020
at the same time okay

343
00:21:05,620 --> 00:21:10,030
so here's what tweets come out

344
00:21:10,030 --> 00:21:14,400
looking like but he says provide Pelican
pipe built

345
00:21:14,400 --> 00:21:17,640
transform acid configuring york-new or
something condo

346
00:21:17,640 --> 00:21:19,420
up

347
00:21:19,420 --> 00:21:23,900
having a lexicon you use sometimes they
come are really funny sometimes not so

348
00:21:23,900 --> 00:21:28,230
much

349
00:21:28,230 --> 00:21:28,640
so

350
00:21:28,640 --> 00:21:32,800
step 3: be like I got in and

351
00:21:32,800 --> 00:21:36,130
how do you get in well you have to
normally fish someone

352
00:21:36,130 --> 00:21:39,530
that it almost always comes down to that
for me either that work physically

353
00:21:39,530 --> 00:21:40,170
showing up

354
00:21:40,170 --> 00:21:43,350
up his messy sample show up

355
00:21:43,350 --> 00:21:47,430
be there to you interview them

356
00:21:47,430 --> 00:21:50,840
about their office because it's
beautiful

357
00:21:50,840 --> 00:21:54,110
you wanna go around you wanna see
everything that they have one take

358
00:21:54,110 --> 00:21:54,900
pictures

359
00:21:54,900 --> 00:21:59,090
learn about their culture gonna learn
how often employees come into the office

360
00:21:59,090 --> 00:22:00,400
at late at night

361
00:22:00,400 --> 00:22:03,520
has it might be useful to know that you
get to see

362
00:22:03,520 --> 00:22:07,440
all the computers that they have and
then you can view the photos here

363
00:22:07,440 --> 00:22:11,140
okay on have a photo consent form you to
sign

364
00:22:11,140 --> 00:22:14,580
up I didn't print it I'm really sorry
stupid

365
00:22:14,580 --> 00:22:18,320
but could you please print this for me
and I'll be like yeah

366
00:22:18,320 --> 00:22:22,230
and then you can the track to them they
plug into the computer and then you're

367
00:22:22,230 --> 00:22:22,590
like

368
00:22:22,590 --> 00:22:25,980
I'll I don't really remember where I put
it on the drive empty mind

369
00:22:25,980 --> 00:22:29,090
great thanks double-click Mauer

370
00:22:29,090 --> 00:22:33,470
the booklet PDF yet there you go works
every time

371
00:22:33,470 --> 00:22:36,620
sixty percent of the time so

372
00:22:36,620 --> 00:22:40,580
a couple other P text that I really like
being like I'm an IT

373
00:22:40,580 --> 00:22:44,290
you have a problem on how to fix it ice
or

374
00:22:44,290 --> 00:22:47,450
I'm from a company that you deal with so
you kinda party know us

375
00:22:47,450 --> 00:22:53,630
a good one or I want a job and I'm so
awesome that you wanna hire me so bad

376
00:22:53,630 --> 00:22:57,150
that you're let me come to your office
to interview or your except

377
00:22:57,150 --> 00:23:00,230
any type up jar I hope based

378
00:23:00,230 --> 00:23:04,920
demo that I've created because you wanna
see the cool stuff that I've done

379
00:23:04,920 --> 00:23:08,820
one interview we talked about

380
00:23:08,820 --> 00:23:12,440
or on a friend now you can

381
00:23:12,440 --> 00:23:16,240
if the company uses Google Hangouts for
their communication which

382
00:23:16,240 --> 00:23:19,040
a lot of them are starting to do now

383
00:23:19,040 --> 00:23:22,790
you can't create whatever it gmail and
then

384
00:23:22,790 --> 00:23:26,270
yes the company guess someone in the
company's email which is normally pretty

385
00:23:26,270 --> 00:23:28,370
easy it's like first dot last

386
00:23:28,370 --> 00:23:32,930
or you know first name first name the
last name

387
00:23:32,930 --> 00:23:36,090
at if you get that right you'll

388
00:23:36,090 --> 00:23:39,500
plus will pop up and you'll be able to
see up the person's

389
00:23:39,500 --> 00:23:43,960
picture and what their name is on it and
then you can go to their profile

390
00:23:43,960 --> 00:23:47,960
and you can literally copy everything
into your profile the photo

391
00:23:47,960 --> 00:23:52,160
where they went to school any
information they happen Haasan

392
00:23:52,160 --> 00:23:55,240
and how much you can do is you can just
message someone

393
00:23:55,240 --> 00:23:58,260
in the company and what happens is
though at first

394
00:23:58,260 --> 00:24:01,800
if the settings enable get things like
you want this is bottle of

395
00:24:01,800 --> 00:24:05,570
but your email looks like their personal
gmail account like an iPad course

396
00:24:05,570 --> 00:24:08,950
except and you're talking to them and
when you talk to them they don't

397
00:24:08,950 --> 00:24:12,570
even see the email but you can use all
they see is the picture and Anne

398
00:24:12,570 --> 00:24:16,190
so this works in till year

399
00:24:16,190 --> 00:24:22,070
talking to someone and they're standing
right next to them literally

400
00:24:22,070 --> 00:24:25,549
how much one time I was talking to
people

401
00:24:25,549 --> 00:24:29,109
and I'm like hey mighty I needed to run
this

402
00:24:29,109 --> 00:24:33,090
I'm okay course and then right is there
clicking it

403
00:24:33,090 --> 00:24:36,299
ago security test like

404
00:24:36,299 --> 00:24:40,749
home course not and i'm looking at her
always

405
00:24:40,749 --> 00:24:43,889
has thing at a time like he hugged me
you that

406
00:24:43,889 --> 00:24:49,950
things for your shell thanks 5 your
shell

407
00:24:49,950 --> 00:24:54,669
thank those members the appear such

408
00:24:54,669 --> 00:24:58,009
message okay

409
00:24:58,009 --> 00:25:03,799
I think it's about time for the
collective Devils wish me luck

410
00:25:03,799 --> 00:25:09,269
ahead now you guys are getting it

411
00:25:09,269 --> 00:25:16,269
keep

412
00:25:18,119 --> 00:25:19,149
good

413
00:25:19,149 --> 00:25:26,149
solution here be fun okay so this one

414
00:25:33,740 --> 00:25:37,800
Rd timed out good luck for me 5 me

415
00:25:37,800 --> 00:25:43,500
is hard enough okay this is the cell
phone sucks going on

416
00:25:43,500 --> 00:25:50,080
is gonna the bed who

417
00:25:50,080 --> 00:25:57,080
okie

418
00:25:58,240 --> 00:26:05,240
here we go obviously

419
00:26:07,260 --> 00:26:14,260
keep in stock more than once and I

420
00:26:18,720 --> 00:26:25,720
is five 5 now the way I drop this is
usually with a char

421
00:26:27,100 --> 00:26:31,500
and I have another script to wrap this
up into a jar

422
00:26:31,500 --> 00:26:37,020
and drop it and execute now it's by

423
00:26:37,020 --> 00:26:40,220
highest can you count 123

424
00:26:40,220 --> 00:26:45,980
pot okay so here's my server it's a
saying it's

425
00:26:45,980 --> 00:26:52,980
I like him ready doesn't care

426
00:26:54,180 --> 00:26:57,450
me it's just the server not better

427
00:26:57,450 --> 00:27:00,840
I should be able to ssh

428
00:27:00,840 --> 00:27:04,790
back into this box great it works

429
00:27:04,790 --> 00:27:08,490
yeah hey miss hafer my cell phone come
on

430
00:27:08,490 --> 00:27:12,530
I didn't think that was going to work so
here I am on a server

431
00:27:12,530 --> 00:27:16,550
her on my box on Hum

432
00:27:16,550 --> 00:27:20,350
dewey

433
00:27:20,350 --> 00:27:23,880
okay on a demo what I'm gonna talk about
next just in case

434
00:27:23,880 --> 00:27:27,080
%uh this connection dies so there's
something that

435
00:27:27,080 --> 00:27:31,420
you can do right everybody what is the
easiest way to get someones password

436
00:27:31,420 --> 00:27:35,980
after import great ask them

437
00:27:35,980 --> 00:27:40,460
fight great in

438
00:27:40,460 --> 00:27:44,880
so I'm not a script what this does

439
00:27:44,880 --> 00:27:48,190
is generates it's a script to write a
script see anything here

440
00:27:48,190 --> 00:27:52,299
it's a script that generates also script
commands both a script

441
00:27:52,299 --> 00:27:55,620
is AppleScript interpreter for the
command line

442
00:27:55,620 --> 00:28:00,029
it will run AppleScript what the
interpret for the fact checker

443
00:28:00,029 --> 00:28:04,279
as I get better what it will do is

444
00:28:04,279 --> 00:28:07,950
you can a tell any any application on
the system

445
00:28:07,950 --> 00:28:11,299
to display anything or interact with the
goin

446
00:28:11,299 --> 00:28:15,470
basically anyway so what I do is make a
pop-up box

447
00:28:15,470 --> 00:28:22,470
here's what this looks like so I'm going
to pick an application

448
00:28:27,490 --> 00:28:32,450
on my system top performers me and a

449
00:28:32,450 --> 00:28:36,240
but see the pic something's going to be
on our target for sure

450
00:28:36,240 --> 00:28:39,309
Hall ball 5 sure

451
00:28:39,309 --> 00:28:43,990
how about guys have any preferences how
about System Preferences

452
00:28:43,990 --> 00:28:49,510
someone

453
00:28:49,510 --> 00:28:53,240
what we want to ask 5

454
00:28:53,240 --> 00:28:59,080
heard right now

455
00:28:59,080 --> 00:29:04,470
in reality what I would do is i'd say
software update requires that you enter

456
00:29:04,470 --> 00:29:05,970
your password to continue

457
00:29:05,970 --> 00:29:08,980
or KeePass

458
00:29:08,980 --> 00:29:12,650
requires your password to continue or
name

459
00:29:12,650 --> 00:29:16,480
anything you know 1password requires
your password to connect

460
00:29:16,480 --> 00:29:20,310
servers down update like anything you
want you can ask them anything you want

461
00:29:20,310 --> 00:29:23,960
and you can give the box any tight over
in a sec

462
00:29:23,960 --> 00:29:27,790
and then here's mcmahon

463
00:29:27,790 --> 00:29:31,530
and it's already been copied to the
clipboard for me because again

464
00:29:31,530 --> 00:29:37,350
BZ here's what here's what it looks like
5 me

465
00:29:37,350 --> 00:29:40,510
home chest yankee you come around

466
00:29:40,510 --> 00:29:43,510
now

467
00:29:43,510 --> 00:29:48,220
when I first did this you'd run the
first the run a simple dialog man and

468
00:29:48,220 --> 00:29:51,180
you're saying tell ap System Preferences
to display dialog

469
00:29:51,180 --> 00:29:54,680
I'm asking five your password default
answer with a Nikon

470
00:29:54,680 --> 00:29:57,990
with hit an answer title5 and only the
OK button

471
00:29:57,990 --> 00:30:02,950
that poppin is also OK now what will
happen is

472
00:30:02,950 --> 00:30:06,690
it will bounce down on the dock and when
I see a bouncing ball click it

473
00:30:06,690 --> 00:30:11,590
and I'll see the dialogue and me beat
reach out to me is like a like

474
00:30:11,590 --> 00:30:15,190
how do you get it like Papa to the front
some like you can pop it to the front

475
00:30:15,190 --> 00:30:16,050
that easy

476
00:30:16,050 --> 00:30:19,560
I was not easy because system
preferences in particular

477
00:30:19,560 --> 00:30:24,000
you tell it activity which is exposing
pop to the front and what happens is it

478
00:30:24,000 --> 00:30:24,760
possible from

479
00:30:24,760 --> 00:30:28,490
and then immediately goes to the
background so to the five ground and

480
00:30:28,490 --> 00:30:31,710
then back to the background that so good

481
00:30:31,710 --> 00:30:35,540
the worker home then I figured out is
you tell it to activate twice

482
00:30:35,540 --> 00:30:38,840
and that works why I don't know

483
00:30:38,840 --> 00:30:45,840
doc science

484
00:30:46,680 --> 00:30:52,400
low all that's almost the whole command

485
00:30:52,400 --> 00:30:58,010
strengthen

486
00:30:58,010 --> 00:31:05,010
ok we'll get this I believe in us 0

487
00:31:06,100 --> 00:31:12,650
okay and then here you have

488
00:31:12,650 --> 00:31:16,690
password great super success

489
00:31:16,690 --> 00:31:20,020
now let's go back to the presentation

490
00:31:20,020 --> 00:31:25,000
I risk tonight her

491
00:31:25,000 --> 00:31:28,000
so

492
00:31:28,000 --> 00:31:32,070
what happens when you get in rate that
first step the first drop the shell

493
00:31:32,070 --> 00:31:35,690
you have the shell everything's working
would you do normal guy

494
00:31:35,690 --> 00:31:39,210
normal walk act natural play it cool

495
00:31:39,210 --> 00:31:43,070
because the last thing you want to do is
drop into a box and then start scanning

496
00:31:43,070 --> 00:31:46,270
the network by them if you've never seen
this video its great

497
00:31:46,270 --> 00:31:50,500
not just that it's normal guy on a walk
or going to the grocery store

498
00:31:50,500 --> 00:31:54,550
really good stuff and Om the thing that
takes YouTube videos and turns them into

499
00:31:54,550 --> 00:31:55,040
gifts

500
00:31:55,040 --> 00:31:59,660
is my best friend now some

501
00:31:59,660 --> 00:32:03,110
so um the more you can commit normalcy

502
00:32:03,110 --> 00:32:07,180
the more you learn about the environment
and then the easier it will be to move

503
00:32:07,180 --> 00:32:07,760
around

504
00:32:07,760 --> 00:32:12,320
and get access to things that you want
so your general strategy

505
00:32:12,320 --> 00:32:16,210
is to going to be too in said public
final what there is

506
00:32:16,210 --> 00:32:20,020
but instead of attacking the white find
the person who normally has access to

507
00:32:20,020 --> 00:32:20,350
that

508
00:32:20,350 --> 00:32:24,770
based on their wiki entries based on
their blog post based on their title at

509
00:32:24,770 --> 00:32:25,460
the company

510
00:32:25,460 --> 00:32:29,570
and then go after them and then just
follow them

511
00:32:29,570 --> 00:32:34,370
we need to go so how do you figure out
where they go and what you might have

512
00:32:34,370 --> 00:32:35,050
access to

513
00:32:35,050 --> 00:32:38,700
dropper tool box look at bash history
see where pssh

514
00:32:38,700 --> 00:32:41,990
anywhere has thats gonna be easy way to
get in

515
00:32:41,990 --> 00:32:45,910
%uh you can look at nine holes another
good trick is

516
00:32:45,910 --> 00:32:51,090
he paced so I use PT copy to get my
script by also script in my clipboard

517
00:32:51,090 --> 00:32:55,200
pp case does the opposite peace whatever
you have in the clip or two

518
00:32:55,200 --> 00:32:58,290
the mainline and that will work over SSH
session

519
00:32:58,290 --> 00:33:01,960
so what you can do you is poppin their
box what's the last thing in their

520
00:33:01,960 --> 00:33:02,710
support

521
00:33:02,710 --> 00:33:06,650
I don't know let's find out he paced you
know what happens to me sometimes

522
00:33:06,650 --> 00:33:11,210
their password thanks the way every
Password Manager works by copying things

523
00:33:11,210 --> 00:33:12,810
into the court for a little bit

524
00:33:12,810 --> 00:33:16,290
great also people send passwords to each
other

525
00:33:16,290 --> 00:33:20,640
I was on site and engagement

526
00:33:20,640 --> 00:33:24,000
the one girl ASCII other guy

527
00:33:24,000 --> 00:33:27,230
Haiti what's the wifi password again for
our

528
00:33:27,230 --> 00:33:30,820
private secure one he's like there's
trainers here

529
00:33:30,820 --> 00:33:34,680
any I llame I'll send it to you through
the through the secure chat

530
00:33:34,680 --> 00:33:38,380
just okay so then

531
00:33:38,380 --> 00:33:44,580
are in in here you

532
00:33:44,580 --> 00:33:48,370
wounded men take a drink on

533
00:33:48,370 --> 00:33:52,809
and I would end up happening is he sends
it and then I get a show on his box

534
00:33:52,809 --> 00:33:56,600
because he needs to print my for a
consent form has my photographer just

535
00:33:56,600 --> 00:34:00,309
my photo consent I am a

536
00:34:00,309 --> 00:34:04,240
my five harder for just took a picture
of him

537
00:34:04,240 --> 00:34:08,339
and he does that I get the shell weepies

538
00:34:08,339 --> 00:34:12,220
getting it my password thanks sonya is

539
00:34:12,220 --> 00:34:15,520
her pickets

540
00:34:15,520 --> 00:34:18,869
good way for lateral movement there's a
lot of information on that

541
00:34:18,869 --> 00:34:22,669
I'm not going to give you any of it it
up there here's something that you may

542
00:34:22,669 --> 00:34:23,950
not be familiar with

543
00:34:23,950 --> 00:34:27,480
message control master to know your with
this

544
00:34:27,480 --> 00:34:30,990
anybody yes so anyways

545
00:34:30,990 --> 00:34:35,070
message control master is multiplexing
for SSH connections into service

546
00:34:35,070 --> 00:34:38,790
so what happens is i connect I'm Joe
admin

547
00:34:38,790 --> 00:34:42,450
i connect in and then I also need SEP
something

548
00:34:42,450 --> 00:34:46,780
I don't get asked my password because I
already have an active connection

549
00:34:46,780 --> 00:34:50,429
it uses my existing session with this
means to me

550
00:34:50,429 --> 00:34:54,020
is that if I'm on your box and I see
that you just SSH someone

551
00:34:54,020 --> 00:34:57,680
and the settings enable all I do is had
the same command you type

552
00:34:57,680 --> 00:35:01,070
and I get SSH 10 I don't get prompted
for a password

553
00:35:01,070 --> 00:35:05,339
market prompted for to them propagation
out a proper

554
00:35:05,339 --> 00:35:09,369
anything he said 5 anything tomorrow
night at the string

555
00:35:09,369 --> 00:35:12,460
perceived

556
00:35:12,460 --> 00:35:16,430
sector in more spice

557
00:35:16,430 --> 00:35:19,530
you have that new shell in there hope

558
00:35:19,530 --> 00:35:23,900
up a socks5 proxy on it socks5 proxy is
made up US server now

559
00:35:23,900 --> 00:35:28,180
I'm able to browse the internal network
I'm able to browse their internal wiki

560
00:35:28,180 --> 00:35:31,330
I am able to find out things that they
don't have access to you

561
00:35:31,330 --> 00:35:35,100
you wanna do the whole re concept again

562
00:35:35,100 --> 00:35:38,130
their cheney this point now

563
00:35:38,130 --> 00:35:41,550
and I've already said most this

564
00:35:41,550 --> 00:35:44,680
you get but but seriously internal wiki

565
00:35:44,680 --> 00:35:48,540
number one target after you compromise
an environment because

566
00:35:48,540 --> 00:35:53,600
it it tells all everything that they
need to know to be an employee there

567
00:35:53,600 --> 00:35:58,630
is normally on their wiki and we he's
almost never have to doctor of so soon

568
00:35:58,630 --> 00:36:01,710
as you peace their password or propped
import

569
00:36:01,710 --> 00:36:04,900
I did with also script you

570
00:36:04,900 --> 00:36:08,110
you are on internal wiki and man

571
00:36:08,110 --> 00:36:11,970
everything where the servers are how to
connect to them how admin them

572
00:36:11,970 --> 00:36:15,390
perfect

573
00:36:15,390 --> 00:36:17,339
on the next this is how I keylock

574
00:36:17,339 --> 00:36:20,500
it is the most jane ki way pepper

575
00:36:20,500 --> 00:36:24,670
%uh there's a command cop show key which
echoes out key strokes back to the

576
00:36:24,670 --> 00:36:25,280
terminal

577
00:36:25,280 --> 00:36:29,559
it runs for 10 seconds if there's no
activity so I wrote a paper on Raptr for

578
00:36:29,559 --> 00:36:30,040
it

579
00:36:30,040 --> 00:36:33,250
two stops into a file means it up a
little bit there are definitely better

580
00:36:33,250 --> 00:36:34,270
ways to do this

581
00:36:34,270 --> 00:36:38,460
here's the whole suspect stuff we talked
about and more importantly

582
00:36:38,460 --> 00:36:42,530
this also works with Windows %uh I think
it was great cost

583
00:36:42,530 --> 00:36:45,720
who saw my presentation was like that's
awesome

584
00:36:45,720 --> 00:36:49,630
I'm gonna write a partial persian so now
there's a partial version out there

585
00:36:49,630 --> 00:36:53,819
and then right before last night you the
stock cause was like

586
00:36:53,819 --> 00:36:57,250
a or some NXT tech to clean up boom one
command

587
00:36:57,250 --> 00:37:00,839
pop-up box password effect back to the
terminal

588
00:37:00,839 --> 00:37:03,829
great look portability of a sign in

589
00:37:03,829 --> 00:37:07,119
but I really okay so step 5:

590
00:37:07,119 --> 00:37:10,950
on if you notice but every step has been
step 5 after step 5:

591
00:37:10,950 --> 00:37:16,010
at a certain point

592
00:37:16,010 --> 00:37:19,530
this tactic a following people is not
how work anymore

593
00:37:19,530 --> 00:37:23,819
there's gonna be to thank her off that
you can't bypass

594
00:37:23,819 --> 00:37:26,869
there's going to be something that you
need to know and you

595
00:37:26,869 --> 00:37:30,550
won't be able to get it from the wiki so
how do you do this well you have to

596
00:37:30,550 --> 00:37:30,890
learn

597
00:37:30,890 --> 00:37:35,329
everything about the guy that you're
hurting see take screenshots

598
00:37:35,329 --> 00:37:38,819
this system display equals Collins euro

599
00:37:38,819 --> 00:37:42,780
gives you the screenshot of the user you
can't do you the screenshot command I

600
00:37:42,780 --> 00:37:45,079
was using important this is for the
Knicks

601
00:37:45,079 --> 00:37:48,089
it exists in OS X and other operating
systems well

602
00:37:48,089 --> 00:37:52,440
I've links me

603
00:37:52,440 --> 00:37:57,130
now there's a couple there's a couple
coppia

604
00:37:57,130 --> 00:38:00,970
will talk about but you might need to go
harder than screenshots you might need

605
00:38:00,970 --> 00:38:03,059
to just proxy all of their traffic

606
00:38:03,059 --> 00:38:06,820
through upper plugin that sitting in a
WS

607
00:38:06,820 --> 00:38:10,390
which we did so they may be

608
00:38:10,390 --> 00:38:15,040
are you peeing into another box and they
do it from

609
00:38:15,040 --> 00:38:19,300
their laptop the RDP into their my next
stop something like that

610
00:38:19,300 --> 00:38:22,680
so which you can do is

611
00:38:22,680 --> 00:38:25,750
if they're not really using RDP session
you threes the process

612
00:38:25,750 --> 00:38:30,850
the screen doesn't change until they
realize its pros and kill it and then

613
00:38:30,850 --> 00:38:31,450
you can

614
00:38:31,450 --> 00:38:34,700
RTP while you're there now the thing
that sucks is like

615
00:38:34,700 --> 00:38:37,740
they close their laptop they go home
like

616
00:38:37,740 --> 00:38:41,060
you lose so you gotta do it while
they're there during the day so lunch

617
00:38:41,060 --> 00:38:41,720
break free

618
00:38:41,720 --> 00:38:44,690
trees are processed go in do whatever
you need to do you set up everything

619
00:38:44,690 --> 00:38:45,910
back the same way it was

620
00:38:45,910 --> 00:38:50,420
and a hope we can hack it cut now

621
00:38:50,420 --> 00:38:53,660
hope we knock it hot like

622
00:38:53,660 --> 00:38:57,450
people going to get suspicious if you
didn't switch shots if you're

623
00:38:57,450 --> 00:39:00,780
as a teaching tool box you doing on a
stop if their admins

624
00:39:00,780 --> 00:39:05,290
they're gonna have the know-how to
figure it out so it ends up happening is

625
00:39:05,290 --> 00:39:05,960
some

626
00:39:05,960 --> 00:39:09,420
the first time I did this a screenshot
thing I'm smart was like

627
00:39:09,420 --> 00:39:12,900
you know what there's probably a sound
plays every time someone takes a

628
00:39:12,900 --> 00:39:13,570
screenshot

629
00:39:13,570 --> 00:39:17,260
so I'm gonna go on rename the file an

630
00:39:17,260 --> 00:39:21,690
they're not going to hear the sound
throws me that's exactly what I did

631
00:39:21,690 --> 00:39:25,120
it works great on the one person that I
remember to do it to you

632
00:39:25,120 --> 00:39:30,060
so disliked by people trying to figure
out who goes where who has access to the

633
00:39:30,060 --> 00:39:30,950
secure environment

634
00:39:30,950 --> 00:39:34,760
and these guys they're listed in the
Spotify or whatever and

635
00:39:34,760 --> 00:39:38,470
each sheik sheik all day

636
00:39:38,470 --> 00:39:42,220
some hope and they're like my heart EP
sessions

637
00:39:42,220 --> 00:39:47,630
frozen again and and then he'd they look
at who's a cessation I like

638
00:39:47,630 --> 00:39:50,790
that's weird that this other admins as a
teaching in the white box like

639
00:39:50,790 --> 00:39:52,799
up

640
00:39:52,799 --> 00:39:57,690
so hike hey security at company
screenshots are you picking up my

641
00:39:57,690 --> 00:39:58,220
computer

642
00:39:58,220 --> 00:40:03,270
I find this hi We suspect very classy
right

643
00:40:03,270 --> 00:40:06,339
so already can help don't worry

644
00:40:06,339 --> 00:40:11,160
her mind by mistake sorry you not a
security from that guy cuz we have

645
00:40:11,160 --> 00:40:13,010
access to everything including his

646
00:40:13,010 --> 00:40:16,569
email and quick side note

647
00:40:16,569 --> 00:40:19,579
you know you pop on OS X Box Linux box

648
00:40:19,579 --> 00:40:22,640
dump cookies throw those cookies into
your browser

649
00:40:22,640 --> 00:40:26,029
you're locking in their email doesn't
matter if they if you factor of

650
00:40:26,029 --> 00:40:29,200
whatever so they send this mistake

651
00:40:29,200 --> 00:40:33,890
hey are we send a mistake for them I
guess and we also

652
00:40:33,890 --> 00:40:37,829
do a little maintenance on your inbox
any most common back from security

653
00:40:37,829 --> 00:40:42,480
doctor any emails that say that word
screenshot just in case we miss it

654
00:40:42,480 --> 00:40:46,089
filter for such good

655
00:40:46,089 --> 00:40:49,210
helpers so moving on to Step 5

656
00:40:49,210 --> 00:40:52,559
get hot but has yet he said

657
00:40:52,559 --> 00:40:56,069
Kit Kat well yeah don't get caught you
don't want to you

658
00:40:56,069 --> 00:41:00,289
however you should want to at some point
some point you gonna get access to

659
00:41:00,289 --> 00:41:00,880
everything

660
00:41:00,880 --> 00:41:04,790
or you're going to get as far as you can
and

661
00:41:04,790 --> 00:41:08,109
you you check your cock there's value
for the blue team

662
00:41:08,109 --> 00:41:14,330
5 the blue team hot skillet are done
playing the game

663
00:41:14,330 --> 00:41:18,609
now his so-called on artist TRICARE up

664
00:41:18,609 --> 00:41:22,300
if you need to make extra noise to do
this if you're if you're not stealthy

665
00:41:22,300 --> 00:41:24,010
and they're still not detecting you
agree

666
00:41:24,010 --> 00:41:27,480
like make extra nice you could do this
by network scanning

667
00:41:27,480 --> 00:41:32,450
if there's an IDS device great it's
probably gonna pick up a nap stamp drop

668
00:41:32,450 --> 00:41:34,720
in Metasploit better per bottle on a
server

669
00:41:34,720 --> 00:41:38,990
run things against but not like do
whatever it takes to make noise to do

670
00:41:38,990 --> 00:41:39,890
those things that

671
00:41:39,890 --> 00:41:44,390
you know you're like this is going to be
cut do those see if you cut because

672
00:41:44,390 --> 00:41:47,160
if you do those things that you thought
would get you hot and you don't get

673
00:41:47,160 --> 00:41:49,089
caught that is a finding

674
00:41:49,089 --> 00:41:52,349
an important one because they have a

675
00:41:52,349 --> 00:41:55,810
incident response team they have a blue
team and suddenly you're like a poutine

676
00:41:55,810 --> 00:41:59,400
why did you catch this and not OG's like
I we all know

677
00:41:59,400 --> 00:42:02,400
so any define a treetop

678
00:42:02,400 --> 00:42:06,859
you define that threshold and then when
you do get hot something really

679
00:42:06,859 --> 00:42:10,119
magical happens it's my favorite part
because

680
00:42:10,119 --> 00:42:14,010
you get caught and suddenly the game
changes for you

681
00:42:14,010 --> 00:42:16,810
it was all about attacking in
penetrating before and now it's all

682
00:42:16,810 --> 00:42:18,190
about persisting

683
00:42:18,190 --> 00:42:22,859
summer that step troll ability this is
where that comes in

684
00:42:22,859 --> 00:42:26,580
because they find him our and they
figure out your

685
00:42:26,580 --> 00:42:30,450
depiction great the first thing I do as
soon as in an

686
00:42:30,450 --> 00:42:34,590
everyone's knee-jerk gut reaction when
the final like and ensuring our system

687
00:42:34,590 --> 00:42:38,790
is to just start playing whack-a-mole
killing every single thing they can find

688
00:42:38,790 --> 00:42:42,320
great I'm hours got persistence is gonna
keep coming back

689
00:42:42,320 --> 00:42:45,320
until you are able to get to that user's
box

690
00:42:45,320 --> 00:42:48,950
figure out what the Mauer does figure
out how is persisting and remove it

691
00:42:48,950 --> 00:42:53,440
or bottom of the network their mole use
it it's not an easy thing to do

692
00:42:53,440 --> 00:42:57,650
if you don't it's a response it hard so
if I prefer whole

693
00:42:57,650 --> 00:43:01,430
my IP address is fluid exchange with
Twitter buddy in the book to better

694
00:43:01,430 --> 00:43:05,700
AB no one's done that yet he did on time
they called Twitter up

695
00:43:05,700 --> 00:43:08,850
got a slight the account taken down so I
was good

696
00:43:08,850 --> 00:43:14,510
and you know be random so maybe mine are
on our calls up for Twitter & they look

697
00:43:14,510 --> 00:43:14,910
like

698
00:43:14,910 --> 00:43:18,910
okay who's talking to Twitter and who
has an SSH connection and logic

699
00:43:18,910 --> 00:43:22,770
that's gonna find people with them our
well I know all

700
00:43:22,770 --> 00:43:26,200
that you copy because you're playing
whack-a-mole with my shells

701
00:43:26,200 --> 00:43:29,220
so I made a new shell

702
00:43:29,220 --> 00:43:32,680
on another system and it's completely
different

703
00:43:32,680 --> 00:43:37,460
great go ahead please optimal figured
out so

704
00:43:37,460 --> 00:43:41,140
here's what you T mchugh it you reverse
them our

705
00:43:41,140 --> 00:43:44,510
got a good team your personal our your

706
00:43:44,510 --> 00:43:47,720
great call up for Twitter to this IP
address here's what we're gonna do

707
00:43:47,720 --> 00:43:50,829
or not blocked them in real-time

708
00:43:50,829 --> 00:43:53,829
to be dismayed that's the new CTU we
called it

709
00:43:53,829 --> 00:43:57,009
bucket perfect

710
00:43:57,009 --> 00:44:00,390
any problem with this you autumn

711
00:44:00,390 --> 00:44:03,500
aqui blocking IP address that I i meow

712
00:44:03,500 --> 00:44:07,049
a problem cool when you IP is this

713
00:44:07,049 --> 00:44:10,410
menu appears that might expect his
Google my neck said he is your company's

714
00:44:10,410 --> 00:44:10,980
website

715
00:44:10,980 --> 00:44:14,170
my next five years any resource that you
can only access

716
00:44:14,170 --> 00:44:17,470
who that's what dost I'm not doing it we
teams doing it

717
00:44:17,470 --> 00:44:21,250
next trolololol

718
00:44:21,250 --> 00:44:24,279
so

719
00:44:24,279 --> 00:44:27,539
next to last at I think Sep 5

720
00:44:27,539 --> 00:44:30,630
is to rampage because at this point

721
00:44:30,630 --> 00:44:33,960
is still got that one little extra shall
I didn't find great

722
00:44:33,960 --> 00:44:37,410
now's the time to do every risky thing

723
00:44:37,410 --> 00:44:41,299
that didn't you before because you were
trying not to get caught your cock

724
00:44:41,299 --> 00:44:42,619
you're still in

725
00:44:42,619 --> 00:44:46,529
this is Hannah suck down a source code
x2 all the deities

726
00:44:46,529 --> 00:44:49,549
do whatever it takes to show them

727
00:44:49,549 --> 00:44:52,900
that use it in UN

728
00:44:52,900 --> 00:44:56,869
right must look like a badass hope we
don't do this but if you are able to do

729
00:44:56,869 --> 00:44:57,329
this

730
00:44:57,329 --> 00:45:00,369
big finding thing is he with you in some
spots maybe

731
00:45:00,369 --> 00:45:06,960
but everything is to come to an end

732
00:45:06,960 --> 00:45:09,590
I'm

733
00:45:09,590 --> 00:45:12,020
and the last ep when things do come to
an end

734
00:45:12,020 --> 00:45:16,560
is to drink and drank what you should do
is you should take

735
00:45:16,560 --> 00:45:21,960
blue team out for Richard if your red
team you've been making blue team's life

736
00:45:21,960 --> 00:45:26,610
hell right and retaining its not about
making blue teams like hell

737
00:45:26,610 --> 00:45:29,770
it's not testing the security of your
organization rate

738
00:45:29,770 --> 00:45:34,510
or your target organization so their
people to you on the other side

739
00:45:34,510 --> 00:45:38,070
rate is not red versus blue it's well
it's reversible

740
00:45:38,070 --> 00:45:41,910
but you're still people its people
hanging out with people

741
00:45:41,910 --> 00:45:45,430
you have a drink yet get to talk about
what went wrong

742
00:45:45,430 --> 00:45:49,860
the stupid things that you messed up
one-time I was wrong on my see to use

743
00:45:49,860 --> 00:45:52,090
use in like Twitter in the last text up
a notch

744
00:45:52,090 --> 00:45:55,130
yeah but you would just copy the

745
00:45:55,130 --> 00:45:59,890
Amazon instance and you never change the
certificate that you used for an HTTPS

746
00:45:59,890 --> 00:46:00,660
postback

747
00:46:00,660 --> 00:46:04,820
so we just could assert my how out

748
00:46:04,820 --> 00:46:08,420
so now I'll and then I'm like and we did
this and you can find

749
00:46:08,420 --> 00:46:11,980
up a dull an hour of friends additional
yes but or friends

750
00:46:11,980 --> 00:46:17,630
in alright your Bilderberg

751
00:46:17,630 --> 00:46:21,690
backup job who cobbling

752
00:46:21,690 --> 00:46:28,690
that was necessary right does anyone
have any questions

753
00:46:29,000 --> 00:46:29,580
ok

754
00:46:29,580 --> 00:46:36,580
inspired me back there arm

755
00:46:41,160 --> 00:46:42,500
so back

756
00:46:42,500 --> 00:46:45,950
with netcat doesn't meet my other
question was you notice that

757
00:46:45,950 --> 00:46:49,730
iSSH back down into the box instead of
just receiving

758
00:46:49,730 --> 00:46:53,250
forever shall up the reason I did it
that way

759
00:46:53,250 --> 00:46:57,180
is because I want to use SSH has
built-in

760
00:46:57,180 --> 00:47:00,530
if I use netcat made it on a system
perhaps

761
00:47:00,530 --> 00:47:05,650
by it is not accepted so I accepted
version of.net cap it's going on system

762
00:47:05,650 --> 00:47:08,750
that isn't on the system by all so

763
00:47:08,750 --> 00:47:11,930
message was accepted at it with easy I
could drop the keys

764
00:47:11,930 --> 00:47:15,890
and work like that arm the receiving the
river shells

765
00:47:15,890 --> 00:47:18,960
there's ways to do it I'm lazy this was
the easiest way

766
00:47:18,960 --> 00:47:25,960
that's why

767
00:47:31,160 --> 00:47:34,380
18 don't care yes yeah

768
00:47:34,380 --> 00:47:37,030
arm

769
00:47:37,030 --> 00:47:38,670
she

770
00:47:38,670 --> 00:47:41,580
so the questions that have you ever
heard dealt with having the external

771
00:47:41,580 --> 00:47:42,080
data

772
00:47:42,080 --> 00:47:45,560
and it's Nick regulated data I assume
you mean like things that are

773
00:47:45,560 --> 00:47:49,430
extremely sensitive PIII social security
numbers eccentric such a researcher

774
00:47:49,430 --> 00:47:53,430
up yep hey don't get hacked %uh

775
00:47:53,430 --> 00:47:57,250
the ideal thing is that red team get
signed off in a way

776
00:47:57,250 --> 00:48:00,990
that CEO says you what hackers with you

777
00:48:00,990 --> 00:48:04,490
thank you for that school because we
will do what happens with you if you get

778
00:48:04,490 --> 00:48:05,500
to take that data

779
00:48:05,500 --> 00:48:08,570
you make the impact do they have to
disclose it

780
00:48:08,570 --> 00:48:12,650
no I still technically work for them or
I'm employed by them

781
00:48:12,650 --> 00:48:17,740
yeah I went to a server yeah wall fell
PCI if they find out about it

782
00:48:17,740 --> 00:48:22,500
but server gets crop everything it's
tweeted shredded

783
00:48:22,500 --> 00:48:26,010
no harm no foul docket hacked I guess
yeah

784
00:48:26,010 --> 00:48:29,160
we don't talk about that a good question

785
00:48:29,160 --> 00:48:36,160
s yet my problem

786
00:48:36,170 --> 00:48:39,260
that's why they cannot find a date on my
thing that's why

787
00:48:39,260 --> 00:48:44,030
you know i mean yeah if I cared about
compliance and regulation

788
00:48:44,030 --> 00:48:47,640
I wouldn't be dredging

789
00:48:47,640 --> 00:48:49,890
you know I don't know you're right

790
00:48:49,890 --> 00:48:56,890
but I guess I guess it be interesting to
try and you are a team engagement where

791
00:48:56,950 --> 00:48:58,390
you stay like compliant with

792
00:48:58,390 --> 00:49:02,690
every law kinda oxymoron

793
00:49:02,690 --> 00:49:07,049
I guess and the questions

794
00:49:07,049 --> 00:49:08,380
the new

795
00:49:08,380 --> 00:49:09,480
because thank you

