1
00:00:00,530 --> 00:00:05,210
<font color="#E5E5E5">okay</font><font color="#CCCCCC"> I think I</font><font color="#E5E5E5"> should make a start again</font>

2
00:00:05,810 --> 00:00:13,530
so this this<font color="#E5E5E5"> is part two of the BGP</font>

3
00:00:09,540 --> 00:00:16,349
techniques tutorial so as I said before

4
00:00:13,530 --> 00:00:18,060
we broke at three-thirty<font color="#E5E5E5"> I'm not going</font>

5
00:00:16,350 --> 00:00:20,220
<font color="#E5E5E5">to do the Confederation slice but they</font>

6
00:00:18,060 --> 00:00:25,080
are here so I'll just jump through them

7
00:00:20,220 --> 00:00:28,439
and all want to see is red reflector

8
00:00:25,080 --> 00:00:31,288
just changes the full mesh ibgp and took

9
00:00:28,439 --> 00:00:34,290
a kind of core and then point<font color="#E5E5E5"> to point</font>

10
00:00:31,289 --> 00:00:36,300
type ibgp<font color="#CCCCCC"> set up what a confederation</font>

11
00:00:34,290 --> 00:00:38,820
does is take your network and divide it

12
00:00:36,300 --> 00:00:40,828
into lots of sub a<font color="#E5E5E5"> esas and so they have</font>

13
00:00:38,820 --> 00:00:42,899
the normal sort of ebgp running between

14
00:00:40,829 --> 00:00:45,360
<font color="#E5E5E5">the different sub a esas but then at the</font>

15
00:00:42,899 --> 00:00:47,039
edge of your<font color="#E5E5E5"> network</font><font color="#CCCCCC"> you put a wrapper</font>

16
00:00:45,360 --> 00:00:49,910
around the whole infrastructure and say

17
00:00:47,039 --> 00:00:51,660
well I'm really<font color="#CCCCCC"> a s whatever</font><font color="#E5E5E5"> and so</font>

18
00:00:49,910 --> 00:00:55,019
internet which is that you've<font color="#E5E5E5"> got lots</font>

19
00:00:51,660 --> 00:00:56,879
of different networks talking ebgp with

20
00:00:55,020 --> 00:00:59,600
each other but the world still sees you

21
00:00:56,879 --> 00:01:01,769
<font color="#E5E5E5">as one network so that's the difference</font>

22
00:00:59,600 --> 00:01:03,780
<font color="#CCCCCC">I'm not going</font><font color="#E5E5E5"> to go through the details</font>

23
00:01:01,770 --> 00:01:05,850
and<font color="#CCCCCC"> there in the slides there if you</font>

24
00:01:03,780 --> 00:01:08,520
want to read them the other thing i

25
00:01:05,850 --> 00:01:10,169
found interesting is that ISPs are on

26
00:01:08,520 --> 00:01:11,970
the acquisition trail tend to use

27
00:01:10,170 --> 00:01:14,490
Confederations because it becomes<font color="#E5E5E5"> very</font>

28
00:01:11,970 --> 00:01:16,710
easy you<font color="#CCCCCC"> just if you buy another network</font>

29
00:01:14,490 --> 00:01:20,369
that's in another<font color="#E5E5E5"> a s you just wrap your</font>

30
00:01:16,710 --> 00:01:23,669
Confederation rounded and so that seems

31
00:01:20,369 --> 00:01:25,200
to<font color="#E5E5E5"> be another well a reason to use</font>

32
00:01:23,670 --> 00:01:27,630
Confederation rather than just<font color="#CCCCCC"> right</font>

33
00:01:25,200 --> 00:01:28,770
reflectors and as I say they are the

34
00:01:27,630 --> 00:01:30,119
other thing you<font color="#CCCCCC"> can do of course you can</font>

35
00:01:28,770 --> 00:01:32,130
use right reflectors within the

36
00:01:30,119 --> 00:01:34,409
Confederation sub<font color="#CCCCCC"> ES and</font><font color="#E5E5E5"> I've seen folks</font>

37
00:01:32,130 --> 00:01:37,470
who are doing<font color="#E5E5E5"> that as well you</font><font color="#CCCCCC"> can still</font>

38
00:01:34,409 --> 00:01:41,250
scale the full mesh ibgp within the sub

39
00:01:37,470 --> 00:01:44,929
a s anyway I am so the<font color="#E5E5E5"> next bit i want</font>

40
00:01:41,250 --> 00:01:47,250
to look at are 32-bit es numbers or I've

41
00:01:44,930 --> 00:01:50,939
subtitled how to support customers using

42
00:01:47,250 --> 00:01:52,920
the extended a s range so a 32-bit OS

43
00:01:50,939 --> 00:01:57,508
numbers the standards documents are

44
00:01:52,920 --> 00:02:00,090
those 4893 specification 5396 is the

45
00:01:57,509 --> 00:02:04,110
textual representation and then there's

46
00:02:00,090 --> 00:02:07,500
extended community in 56 68 as<font color="#E5E5E5"> I said at</font>

47
00:02:04,110 --> 00:02:10,020
<font color="#CCCCCC">the start of a s 2 3 4 5 6</font><font color="#E5E5E5"> is reserved</font>

48
00:02:07,500 --> 00:02:11,880
as the interface between<font color="#CCCCCC"> a</font><font color="#E5E5E5"> 16-bit and</font>

49
00:02:10,020 --> 00:02:13,860
the 32-bit world

50
00:02:11,880 --> 00:02:15,660
so those of you who are using bgp on all

51
00:02:13,860 --> 00:02:17,580
the routers are all the software

52
00:02:15,660 --> 00:02:18,990
probably wondering with all these two

53
00:02:17,580 --> 00:02:21,870
three<font color="#CCCCCC"> or</font><font color="#E5E5E5"> four five six is appearing</font>

54
00:02:18,990 --> 00:02:24,060
guess what that's the your

55
00:02:21,870 --> 00:02:28,170
representation of the 32-bit<font color="#CCCCCC"> guess</font>

56
00:02:24,060 --> 00:02:30,930
numbers that are now being<font color="#CCCCCC"> used so the</font>

57
00:02:28,170 --> 00:02:34,799
terminology 16-bit<font color="#CCCCCC"> air sends generally</font>

58
00:02:30,930 --> 00:02:38,610
<font color="#E5E5E5">refer to the range 0 to 65535 32-bit</font>

59
00:02:34,800 --> 00:02:42,630
asains are used to 65536 up to the top

60
00:02:38,610 --> 00:02:45,030
and the 32-bit asn pool is used to refer

61
00:02:42,630 --> 00:02:46,829
to the whole<font color="#E5E5E5"> range I don't know how its</font>

62
00:02:45,030 --> 00:02:51,060
ended up like this but you when people

63
00:02:46,830 --> 00:02:52,470
<font color="#CCCCCC">talk about the different asn</font><font color="#E5E5E5"> rangers be</font>

64
00:02:51,060 --> 00:02:54,260
aware that<font color="#CCCCCC"> that's that's what the</font>

65
00:02:52,470 --> 00:02:57,720
generally calling once the one we<font color="#E5E5E5"> talk</font>

66
00:02:54,260 --> 00:03:01,609
32-bit<font color="#E5E5E5"> AR sounds we mean the one 65536</font>

67
00:02:57,720 --> 00:03:06,390
and upwards even though the 0 to 65535

68
00:03:01,610 --> 00:03:08,700
does fit into the<font color="#E5E5E5"> the whole pool now</font>

69
00:03:06,390 --> 00:03:13,070
getting an ear same go to your registry

70
00:03:08,700 --> 00:03:15,989
you'll get one bit of<font color="#E5E5E5"> history so</font><font color="#CCCCCC"> i'm</font>

71
00:03:13,070 --> 00:03:18,150
<font color="#E5E5E5">from january first 2007 you could get</font>

72
00:03:15,990 --> 00:03:21,180
your 32-bit highest number and so some

73
00:03:18,150 --> 00:03:24,410
early adopters did that from first of

74
00:03:21,180 --> 00:03:28,200
January 2009<font color="#E5E5E5"> the registries were giving</font>

75
00:03:24,410 --> 00:03:30,329
32-bit<font color="#E5E5E5"> esns by default and 16-bit if you</font>

76
00:03:28,200 --> 00:03:33,119
asked for<font color="#E5E5E5"> yeah asked for them so if you</font>

77
00:03:30,330 --> 00:03:35,730
<font color="#E5E5E5">wanted a 16-bit es number yet to see an</font>

78
00:03:33,120 --> 00:03:38,160
application form and from first<font color="#CCCCCC"> January</font>

79
00:03:35,730 --> 00:03:40,560
this year those new distinction made you

80
00:03:38,160 --> 00:03:42,120
just got a nice number from the pool the

81
00:03:40,560 --> 00:03:44,010
theory being that all vendors would

82
00:03:42,120 --> 00:03:46,860
support it and be widely available all

83
00:03:44,010 --> 00:03:48,989
<font color="#CCCCCC">the routers everywhere what I'm finding</font>

84
00:03:46,860 --> 00:03:50,730
is that people are still<font color="#E5E5E5"> going</font><font color="#CCCCCC"> to the</font>

85
00:03:48,990 --> 00:03:53,190
registry and saying my router doesn't

86
00:03:50,730 --> 00:03:56,100
run 32-bit<font color="#CCCCCC"> asm's yet can I</font><font color="#E5E5E5"> still get a</font>

87
00:03:53,190 --> 00:03:59,310
16-bit that will work for maybe a gyro

88
00:03:56,100 --> 00:04:02,820
or two or three yet until the original

89
00:03:59,310 --> 00:04:07,250
16-bit pool runs out so you can't rely

90
00:04:02,820 --> 00:04:11,340
<font color="#CCCCCC">on that being there forever um</font>

91
00:04:07,250 --> 00:04:13,410
representation<font color="#E5E5E5"> well you just write them</font>

92
00:04:11,340 --> 00:04:15,570
down like that traditional farmer<font color="#E5E5E5"> is</font>

93
00:04:13,410 --> 00:04:18,000
<font color="#CCCCCC">playing format some people wanted</font><font color="#E5E5E5"> the</font>

94
00:04:15,570 --> 00:04:19,230
dot format so bit like communities we

95
00:04:18,000 --> 00:04:21,600
have a call on so you<font color="#CCCCCC"> don't have to</font>

96
00:04:19,230 --> 00:04:24,630
write this whole 32 bits you<font color="#CCCCCC"> can do 16</font>

97
00:04:21,600 --> 00:04:29,880
call on 16 some people wanted 16 dots

98
00:04:24,630 --> 00:04:32,190
16 for a SNS so rather than writing big

99
00:04:29,880 --> 00:04:35,370
<font color="#E5E5E5">numbers you can bite to dot 4 which is</font>

100
00:04:32,190 --> 00:04:38,130
much shorter and some people<font color="#E5E5E5"> even wanted</font>

101
00:04:35,370 --> 00:04:40,470
this s dot plus in other words convert

102
00:04:38,130 --> 00:04:42,930
everything to the dot notation so the

103
00:04:40,470 --> 00:04:46,170
old 16-bit range you'd write a<font color="#E5E5E5"> zero dot</font>

104
00:04:42,930 --> 00:04:48,440
<font color="#E5E5E5">something the only problem is regular</font>

105
00:04:46,170 --> 00:04:50,700
expressions break rather spectacularly

106
00:04:48,440 --> 00:04:54,420
well they don't<font color="#E5E5E5"> break but there need to</font>

107
00:04:50,700 --> 00:04:57,690
be fairly substantially rewritten I've

108
00:04:54,420 --> 00:05:01,830
put<font color="#CCCCCC"> some examples there so matching any</font>

109
00:04:57,690 --> 00:05:04,650
16-bit a SNES playing you<font color="#CCCCCC"> just do that</font>

110
00:05:01,830 --> 00:05:06,780
which<font color="#CCCCCC"> is more what most of us know but</font>

111
00:05:04,650 --> 00:05:08,370
if you wanted to do a s dot well you

112
00:05:06,780 --> 00:05:11,580
could write it like this<font color="#E5E5E5"> the various</font>

113
00:05:08,370 --> 00:05:13,830
<font color="#E5E5E5">other options as well but it's this</font>

114
00:05:11,580 --> 00:05:15,180
horrible you've got to escape<font color="#E5E5E5"> the dot in</font>

115
00:05:13,830 --> 00:05:18,270
there<font color="#E5E5E5"> just so that it will actually</font>

116
00:05:15,180 --> 00:05:20,340
match and if using a s dot plus it looks

117
00:05:18,270 --> 00:05:22,500
like that so it's just the thought of

118
00:05:20,340 --> 00:05:24,210
having to rewrite lots and<font color="#E5E5E5"> lots of</font>

119
00:05:22,500 --> 00:05:26,780
regular expressions for a s path

120
00:05:24,210 --> 00:05:29,190
matching was too much for many people<font color="#E5E5E5"> so</font>

121
00:05:26,780 --> 00:05:31,799
generally we found that the Operations

122
00:05:29,190 --> 00:05:33,870
community was kind of can't do it with a

123
00:05:31,800 --> 00:05:37,800
s dot is nice to look at but it's not

124
00:05:33,870 --> 00:05:40,620
nice dash that implement on a router mm

125
00:05:37,800 --> 00:05:43,590
no<font color="#E5E5E5"> 32-bit era sounds backward compatible</font>

126
00:05:40,620 --> 00:05:45,780
with 16-bit so there's no flag day we

127
00:05:43,590 --> 00:05:47,969
don't<font color="#E5E5E5"> need to throw away routers upgrade</font>

128
00:05:45,780 --> 00:05:49,919
right well upgrade as and replace the

129
00:05:47,970 --> 00:05:53,040
hardware you don't need<font color="#E5E5E5"> to replace the</font>

130
00:05:49,920 --> 00:05:54,720
16-bit s and you already have again

131
00:05:53,040 --> 00:05:56,220
there seems to be some kind<font color="#E5E5E5"> of Mythology</font>

132
00:05:54,720 --> 00:05:58,890
out there that if you're going<font color="#CCCCCC"> to</font><font color="#E5E5E5"> use</font>

133
00:05:56,220 --> 00:06:01,680
32-bit es numbers on your router you've

134
00:05:58,890 --> 00:06:03,270
got to get rid<font color="#E5E5E5"> of your 16-bit and get a</font>

135
00:06:01,680 --> 00:06:06,270
32 but I don't know where that<font color="#E5E5E5"> came from</font>

136
00:06:03,270 --> 00:06:07,950
but it's definitely not<font color="#CCCCCC"> the case you do</font>

137
00:06:06,270 --> 00:06:09,570
<font color="#E5E5E5">need to be aware that customers more</font>

138
00:06:07,950 --> 00:06:13,380
than likely will be<font color="#E5E5E5"> coming with 32</font>

139
00:06:09,570 --> 00:06:16,080
various numbers<font color="#E5E5E5"> yes</font><font color="#CCCCCC"> 2 3 4 5 6</font><font color="#E5E5E5"> is not a</font>

140
00:06:13,380 --> 00:06:19,920
bogan and it's not a new isp that's

141
00:06:16,080 --> 00:06:21,840
getting bigger every day now and you

142
00:06:19,920 --> 00:06:24,030
also if you want<font color="#E5E5E5"> to</font><font color="#CCCCCC"> support 32-bit</font>

143
00:06:21,840 --> 00:06:26,099
numbers and other words configure it on

144
00:06:24,030 --> 00:06:28,109
your router you will<font color="#CCCCCC"> actually need a</font>

145
00:06:26,100 --> 00:06:31,560
writer that<font color="#CCCCCC"> has software that will let</font>

146
00:06:28,110 --> 00:06:34,380
you do that<font color="#CCCCCC"> we'll come to this if</font><font color="#E5E5E5"> you're</font>

147
00:06:31,560 --> 00:06:36,700
bgp implementations<font color="#CCCCCC"> ok</font>

148
00:06:34,380 --> 00:06:38,980
32 badia sales will be silently

149
00:06:36,700 --> 00:06:40,690
transported across your back<font color="#E5E5E5"> board if</font>

150
00:06:38,980 --> 00:06:44,500
you look at it<font color="#E5E5E5"> 32-bit</font><font color="#CCCCCC"> air signs have</font>

151
00:06:40,690 --> 00:06:46,990
been<font color="#E5E5E5"> used since what mid 2006 and nobody</font>

152
00:06:44,500 --> 00:06:48,700
really<font color="#E5E5E5"> noticed but if you weren't</font>

153
00:06:46,990 --> 00:06:50,140
looking you didn't know about it that's

154
00:06:48,700 --> 00:06:53,289
the way<font color="#CCCCCC"> it's really meant to</font><font color="#E5E5E5"> be because</font>

155
00:06:50,140 --> 00:06:55,840
bgp luckily in the specification it says

156
00:06:53,290 --> 00:06:58,600
only unknown attribute should be passed

157
00:06:55,840 --> 00:07:00,340
silently across<font color="#E5E5E5"> the network so that's a</font>

158
00:06:58,600 --> 00:07:02,800
<font color="#E5E5E5">good thing it meant</font><font color="#CCCCCC"> that the rollout of</font>

159
00:07:00,340 --> 00:07:07,169
32-bit is numbers happen without the

160
00:07:02,800 --> 00:07:09,640
whole internet<font color="#E5E5E5"> having to be upgraded um</font>

161
00:07:07,170 --> 00:07:11,170
so how does it<font color="#E5E5E5"> all work well if you look</font>

162
00:07:09,640 --> 00:07:14,669
around to end the remote router supports

163
00:07:11,170 --> 00:07:17,560
32 bit ASM configuration easy it just

164
00:07:14,670 --> 00:07:19,930
like it is today you don't need<font color="#CCCCCC"> to do</font>

165
00:07:17,560 --> 00:07:22,390
anything the local router and remote

166
00:07:19,930 --> 00:07:25,270
router does not support<font color="#CCCCCC"> 32-bit AI sounds</font>

167
00:07:22,390 --> 00:07:28,000
too bad you can only use 16 so if you

168
00:07:25,270 --> 00:07:30,010
get a 32 bit from your registry and your

169
00:07:28,000 --> 00:07:32,800
software doesn't support it you need to

170
00:07:30,010 --> 00:07:35,740
do the deer registry email and Sierra

171
00:07:32,800 --> 00:07:38,650
can i swap back to a<font color="#E5E5E5"> 16-bit please which</font>

172
00:07:35,740 --> 00:07:41,020
you can do today<font color="#CCCCCC"> but maybe 23 years time</font>

173
00:07:38,650 --> 00:07:44,380
when you cannot do that it means<font color="#E5E5E5"> you're</font>

174
00:07:41,020 --> 00:07:46,750
stuck the local router supports 16-bit

175
00:07:44,380 --> 00:07:50,140
and the remote router or network has a

176
00:07:46,750 --> 00:07:52,420
32-bit ASM then we have what's called

177
00:07:50,140 --> 00:07:57,490
compatibility mode and it works like

178
00:07:52,420 --> 00:08:00,310
this sort<font color="#E5E5E5"> of so we set up bgp peering</font>

179
00:07:57,490 --> 00:08:01,750
the remote asks local 32-bit is

180
00:08:00,310 --> 00:08:03,460
supported so that's<font color="#E5E5E5"> the beach</font><font color="#CCCCCC"> p</font>

181
00:08:01,750 --> 00:08:06,790
capability negotiation<font color="#E5E5E5"> i talked about</font>

182
00:08:03,460 --> 00:08:09,070
<font color="#E5E5E5">the local will say no go away don't know</font>

183
00:08:06,790 --> 00:08:11,800
what you're talking about and so what

184
00:08:09,070 --> 00:08:13,000
happens then the remote says ah he's old

185
00:08:11,800 --> 00:08:15,430
he doesn't know<font color="#CCCCCC"> why he</font><font color="#E5E5E5"> doesn't know</font>

186
00:08:13,000 --> 00:08:18,220
about the 32-bit air signs ultra is two

187
00:08:15,430 --> 00:08:19,840
three four<font color="#CCCCCC"> five six the local of course</font>

188
00:08:18,220 --> 00:08:21,520
has to be configured to<font color="#E5E5E5"> peer with two</font>

189
00:08:19,840 --> 00:08:24,849
three four five<font color="#CCCCCC"> six</font><font color="#E5E5E5"> because they can't</font>

190
00:08:21,520 --> 00:08:27,520
configure the new big number so the

191
00:08:24,850 --> 00:08:30,340
local configures neighbor is two three

192
00:08:27,520 --> 00:08:32,620
four<font color="#CCCCCC"> five six when the remote comes in</font>

193
00:08:30,340 --> 00:08:35,439
saying<font color="#E5E5E5"> AI min s two three four five</font><font color="#CCCCCC"> six</font>

194
00:08:32,620 --> 00:08:36,710
it's a matching s the bgp session is

195
00:08:35,440 --> 00:08:41,090
established

196
00:08:36,710 --> 00:08:42,830
what happens then is the<font color="#CCCCCC"> ESN that's well</font>

197
00:08:41,090 --> 00:08:45,890
<font color="#CCCCCC">this sorry the network using 32-bit</font>

198
00:08:42,830 --> 00:08:47,930
higher sounds will include a new bgp

199
00:08:45,890 --> 00:08:50,510
attribute called the<font color="#E5E5E5"> a</font><font color="#CCCCCC"> s for path and</font>

200
00:08:47,930 --> 00:08:53,300
that will include the 32-bit a s number

201
00:08:50,510 --> 00:08:56,270
information so that one silently passes

202
00:08:53,300 --> 00:08:58,729
to the network<font color="#CCCCCC"> that</font><font color="#E5E5E5"> can support 16-bit</font>

203
00:08:56,270 --> 00:09:01,160
<font color="#CCCCCC">32-bit s numbers</font><font color="#E5E5E5"> it's silently passed</font>

204
00:08:58,730 --> 00:09:04,010
through all that the<font color="#CCCCCC"> network that can</font>

205
00:09:01,160 --> 00:09:06,920
<font color="#E5E5E5">only support 16-bit s number</font><font color="#CCCCCC"> CS is the a</font>

206
00:09:04,010 --> 00:09:09,530
s 2 3 4 5 6 which is<font color="#E5E5E5"> why you see the two</font>

207
00:09:06,920 --> 00:09:11,270
three four<font color="#CCCCCC"> five six</font><font color="#E5E5E5"> in the path when it</font>

208
00:09:09,530 --> 00:09:13,670
gets back to somebody<font color="#E5E5E5"> who can support</font>

209
00:09:11,270 --> 00:09:15,890
32-bit highest numbers<font color="#E5E5E5"> the norther AS</font>

210
00:09:13,670 --> 00:09:17,719
for path attribute so rather than

211
00:09:15,890 --> 00:09:20,000
printing two three four<font color="#CCCCCC"> five six</font><font color="#E5E5E5"> they</font>

212
00:09:17,720 --> 00:09:22,310
grabbed the<font color="#E5E5E5"> s4 path attribute and put</font>

213
00:09:20,000 --> 00:09:24,980
the right numbers back in place so it's

214
00:09:22,310 --> 00:09:27,079
very clever how how it actually works so

215
00:09:24,980 --> 00:09:29,720
the 16-bit world sees two three four

216
00:09:27,080 --> 00:09:32,690
five<font color="#CCCCCC"> six</font><font color="#E5E5E5"> standing in for the 32-bit s</font>

217
00:09:29,720 --> 00:09:35,810
number on the 32-bit world sees<font color="#CCCCCC"> it how</font>

218
00:09:32,690 --> 00:09:39,110
it's meant to be so we saw this picture

219
00:09:35,810 --> 00:09:41,989
earlier as I say the 16-bit world sees

220
00:09:39,110 --> 00:09:45,440
that the 32-bit world sees the real

221
00:09:41,990 --> 00:09:46,970
numbers as they are meant to<font color="#CCCCCC"> be and so</font>

222
00:09:45,440 --> 00:09:49,850
<font color="#E5E5E5">that's it so it's actually beautiful</font>

223
00:09:46,970 --> 00:09:52,580
beautifully simple the two new

224
00:09:49,850 --> 00:09:55,640
attributes we've got the s4 path which

225
00:09:52,580 --> 00:09:57,920
is the four brother four byte or the

226
00:09:55,640 --> 00:10:01,400
32-bit a s path so it just<font color="#CCCCCC"> contains a</font>

227
00:09:57,920 --> 00:10:02,750
32-bit<font color="#CCCCCC"> is path because the standard es</font>

228
00:10:01,400 --> 00:10:04,910
path contains the two three four five

229
00:10:02,750 --> 00:10:07,340
<font color="#CCCCCC">sixes and then just the swapping is done</font>

230
00:10:04,910 --> 00:10:10,910
by the rightful itself there's also the

231
00:10:07,340 --> 00:10:14,780
a s for aggregate of which is the 32-bit

232
00:10:10,910 --> 00:10:16,189
<font color="#CCCCCC">asn aggregator information and as it</font>

233
00:10:14,780 --> 00:10:18,439
says they're well-behaved<font color="#E5E5E5"> be cheaper</font>

234
00:10:16,190 --> 00:10:19,310
invitations simply pass these along if

235
00:10:18,440 --> 00:10:22,640
they don't know what these attributes

236
00:10:19,310 --> 00:10:25,609
are about of course there's a s 2 3 4 5

237
00:10:22,640 --> 00:10:27,580
6<font color="#E5E5E5"> which is special so you'll see more</font><font color="#CCCCCC"> of</font>

238
00:10:25,610 --> 00:10:30,140
<font color="#E5E5E5">that appearing what does it</font><font color="#CCCCCC"> look like</font>

239
00:10:27,580 --> 00:10:34,490
well this is<font color="#CCCCCC"> just my router the time in</font>

240
00:10:30,140 --> 00:10:38,210
my lab so v4 prefix originated by<font color="#E5E5E5"> a s</font>

241
00:10:34,490 --> 00:10:41,180
1966 13 so we do a short ebgp for that I

242
00:10:38,210 --> 00:10:43,370
get well there<font color="#E5E5E5"> you see them right so</font>

243
00:10:41,180 --> 00:10:46,880
this is heard from I forget true that is

244
00:10:43,370 --> 00:10:48,310
I think it's some es 2013 1072<font color="#E5E5E5"> I get</font>

245
00:10:46,880 --> 00:10:53,050
transit from

246
00:10:48,310 --> 00:10:55,349
and then you see the AAS 1966 13 so

247
00:10:53,050 --> 00:10:58,240
that's my router supporting a s play if

248
00:10:55,350 --> 00:11:00,960
I flick it over to the a s dot format

249
00:10:58,240 --> 00:11:04,480
then it prints it out like 20 and 35

250
00:11:00,960 --> 00:11:06,580
instead so it's up to you generally you

251
00:11:04,480 --> 00:11:09,279
can switch between the two formats

252
00:11:06,580 --> 00:11:15,400
depending if you want a s path regular

253
00:11:09,279 --> 00:11:18,510
expression pain or not however if you

254
00:11:15,400 --> 00:11:21,370
have the router that cannot support

255
00:11:18,510 --> 00:11:23,410
32-bit es numbers it will instead print

256
00:11:21,370 --> 00:11:25,779
the prefixes like this two three four

257
00:11:23,410 --> 00:11:27,699
<font color="#CCCCCC">five six like that so actually had to go</font>

258
00:11:25,779 --> 00:11:30,400
and down rate downgrade the software<font color="#E5E5E5"> and</font>

259
00:11:27,700 --> 00:11:32,380
this<font color="#E5E5E5"> rotor to actually get the I put</font>

260
00:11:30,400 --> 00:11:34,120
looking like that<font color="#CCCCCC"> okay so that's if you</font>

261
00:11:32,380 --> 00:11:36,160
don't support it you'll see two three

262
00:11:34,120 --> 00:11:38,470
four five<font color="#CCCCCC"> six and</font><font color="#E5E5E5"> it's not a bug like</font>

263
00:11:36,160 --> 00:11:40,140
<font color="#E5E5E5">that I know it's unusual to</font><font color="#CCCCCC"> CNAs path</font>

264
00:11:38,470 --> 00:11:43,000
looking<font color="#E5E5E5"> like this with the same es</font>

265
00:11:40,140 --> 00:11:46,180
separated by others but in this

266
00:11:43,000 --> 00:11:48,300
particular case it's not what's not a

267
00:11:46,180 --> 00:11:51,910
problem it's<font color="#E5E5E5"> not a Miss configuration</font>

268
00:11:48,300 --> 00:11:55,060
the other thing<font color="#CCCCCC"> is don't use s 2 3 4 5 6</font>

269
00:11:51,910 --> 00:11:56,620
<font color="#E5E5E5">as your own s number some people have</font>

270
00:11:55,060 --> 00:12:02,410
tried to<font color="#E5E5E5"> do that and you end up with</font>

271
00:11:56,620 --> 00:12:04,870
them strange situations and right now if

272
00:12:02,410 --> 00:12:07,569
you don't<font color="#E5E5E5"> actually support 32-bit</font><font color="#CCCCCC"> a</font>

273
00:12:04,870 --> 00:12:12,910
<font color="#CCCCCC">ascends on your router software you have</font>

274
00:12:07,570 --> 00:12:14,800
a few<font color="#E5E5E5"> problems mean it all work but you</font>

275
00:12:12,910 --> 00:12:17,319
have inability distinguished between PA

276
00:12:14,800 --> 00:12:19,000
SS using 32-bit asn don't look the same

277
00:12:17,320 --> 00:12:20,950
<font color="#E5E5E5">though look as though the two three four</font>

278
00:12:19,000 --> 00:12:22,240
<font color="#CCCCCC">five six so you're going to</font><font color="#E5E5E5"> have</font><font color="#CCCCCC"> to use</font>

279
00:12:20,950 --> 00:12:25,030
something else mean if they use

280
00:12:22,240 --> 00:12:27,190
communities you're all right<font color="#E5E5E5"> but if you</font>

281
00:12:25,030 --> 00:12:30,490
don't use communities they're all two

282
00:12:27,190 --> 00:12:32,410
three four five six how do<font color="#E5E5E5"> you</font>

283
00:12:30,490 --> 00:12:35,280
distinguish between a pre of prefixes

284
00:12:32,410 --> 00:12:37,810
origin is again they<font color="#CCCCCC"> all look the same</font>

285
00:12:35,280 --> 00:12:39,130
you know which ones real which<font color="#E5E5E5"> ones fate</font>

286
00:12:37,810 --> 00:12:41,650
what if somebody is<font color="#E5E5E5"> coming along</font>

287
00:12:39,130 --> 00:12:43,540
masquerading as somebody<font color="#CCCCCC"> else it's just</font>

288
00:12:41,650 --> 00:12:46,990
<font color="#CCCCCC">two three four five six</font><font color="#E5E5E5"> to you so it</font>

289
00:12:43,540 --> 00:12:49,300
might be<font color="#E5E5E5"> all</font><font color="#CCCCCC"> right if you're using net</font>

290
00:12:46,990 --> 00:12:51,760
flow any of the other type of traffic

291
00:12:49,300 --> 00:12:54,459
flow summarization stuff well two three

292
00:12:51,760 --> 00:12:56,110
four<font color="#CCCCCC"> five six</font><font color="#E5E5E5"> it's all the same so as I</font>

293
00:12:54,459 --> 00:12:57,099
said earlier you've got this AAS that's

294
00:12:56,110 --> 00:12:59,050
getting bigger and bigger

295
00:12:57,100 --> 00:13:01,930
<font color="#E5E5E5">and bigger number one in</font><font color="#CCCCCC"> your traffic</font>

296
00:12:59,050 --> 00:13:03,729
flow data it's not as some big new isp

297
00:13:01,930 --> 00:13:06,790
your content provider it's just the

298
00:13:03,730 --> 00:13:09,160
32-bit asn internet so it's actually

299
00:13:06,790 --> 00:13:10,689
<font color="#E5E5E5">probably a good idea really to try and</font>

300
00:13:09,160 --> 00:13:13,020
move over<font color="#CCCCCC"> to software that supports a</font>

301
00:13:10,690 --> 00:13:16,570
32-bit es ends so that you can implement

302
00:13:13,020 --> 00:13:19,480
policies I mean I took this list of the

303
00:13:16,570 --> 00:13:21,730
coupon net web site minute<font color="#E5E5E5"> gears is back</font>

304
00:13:19,480 --> 00:13:23,740
in January I haven't updated it since

305
00:13:21,730 --> 00:13:27,520
but I think it's still<font color="#E5E5E5"> pretty much</font>

306
00:13:23,740 --> 00:13:28,780
current so that's that's most of the

307
00:13:27,520 --> 00:13:30,310
list I think they're few more on the

308
00:13:28,780 --> 00:13:33,250
coupon site can some of<font color="#E5E5E5"> the smaller</font>

309
00:13:30,310 --> 00:13:34,719
implementations as well but it's pretty

310
00:13:33,250 --> 00:13:36,120
<font color="#E5E5E5">much all there</font><font color="#CCCCCC"> I mean I think all your</font>

311
00:13:34,720 --> 00:13:39,310
favorite vendors have got some

312
00:13:36,120 --> 00:13:40,720
implementation or other whether you want

313
00:13:39,310 --> 00:13:44,619
to<font color="#E5E5E5"> move to the software or not is</font>

314
00:13:40,720 --> 00:13:47,140
<font color="#E5E5E5">another matter right so that was for</font><font color="#CCCCCC"> by</font>

315
00:13:44,620 --> 00:13:51,190
<font color="#E5E5E5">s numbers should be pretty simple stuff</font>

316
00:13:47,140 --> 00:13:53,830
to implement flap damping so as I say

317
00:13:51,190 --> 00:13:55,690
their stability for the 1990s because

318
00:13:53,830 --> 00:13:59,230
back in the 1990s we thought right flap

319
00:13:55,690 --> 00:14:01,270
damping was a really good<font color="#E5E5E5"> idea network</font>

320
00:13:59,230 --> 00:14:02,890
instability<font color="#E5E5E5"> for the 21st century because</font>

321
00:14:01,270 --> 00:14:05,530
i<font color="#CCCCCC"> think these days most people consider</font>

322
00:14:02,890 --> 00:14:09,550
flat damping a really bad idea so let's

323
00:14:05,530 --> 00:14:12,579
see why<font color="#CCCCCC"> m</font><font color="#E5E5E5"> while the theory first was a</font>

324
00:14:09,550 --> 00:14:14,290
right flap is basically a withdraw when

325
00:14:12,580 --> 00:14:16,690
<font color="#E5E5E5">bgp followed by an update</font><font color="#CCCCCC"> in other words</font>

326
00:14:14,290 --> 00:14:19,959
a path is removed<font color="#E5E5E5"> then reappears that's</font>

327
00:14:16,690 --> 00:14:21,460
considered a flat flat ripples through

328
00:14:19,960 --> 00:14:23,290
the entire<font color="#E5E5E5"> internet it means every</font>

329
00:14:21,460 --> 00:14:26,830
writer<font color="#E5E5E5"> that's got the full BGP table</font>

330
00:14:23,290 --> 00:14:29,770
will see your flap 35,000 autonomous

331
00:14:26,830 --> 00:14:31,630
systems that's a lot<font color="#CCCCCC"> of writers and so</font>

332
00:14:29,770 --> 00:14:34,090
flap damping was aiming to try and

333
00:14:31,630 --> 00:14:36,160
reduce the scope of the proper flat

334
00:14:34,090 --> 00:14:38,200
propagation<font color="#E5E5E5"> all right so we try and get</font>

335
00:14:36,160 --> 00:14:40,270
the flaps only seen locally and if

336
00:14:38,200 --> 00:14:43,420
people<font color="#E5E5E5"> flap-flap-flap all the time and</font>

337
00:14:40,270 --> 00:14:49,180
we try and cut out the<font color="#E5E5E5"> unstable networks</font>

338
00:14:43,420 --> 00:14:50,620
and unstable paths until they recover so

339
00:14:49,180 --> 00:14:52,270
requirements you want fast convergence

340
00:14:50,620 --> 00:14:55,030
<font color="#E5E5E5">for normal route changes if you know</font>

341
00:14:52,270 --> 00:14:57,189
it's a prefix it appears if you withdraw

342
00:14:55,030 --> 00:14:58,209
a prefix it disappears but if you want

343
00:14:57,190 --> 00:14:59,680
<font color="#E5E5E5">to announce withdraw</font><font color="#CCCCCC"> announced</font>

344
00:14:58,210 --> 00:15:01,930
withdrawal then we need<font color="#CCCCCC"> to do something</font>

345
00:14:59,680 --> 00:15:04,079
about it so we use history to predict

346
00:15:01,930 --> 00:15:07,060
<font color="#E5E5E5">the</font><font color="#CCCCCC"> future</font>

347
00:15:04,080 --> 00:15:09,550
each<font color="#CCCCCC"> flat gets a penalty when the</font>

348
00:15:07,060 --> 00:15:12,459
penalty goes over suppress of<font color="#E5E5E5"> amina a</font>

349
00:15:09,550 --> 00:15:14,560
suppressed limit then we<font color="#CCCCCC"> stop the prefix</font>

350
00:15:12,459 --> 00:15:17,109
be announced the penalty decays

351
00:15:14,560 --> 00:15:20,229
exponentially once it reaches a reuse

352
00:15:17,110 --> 00:15:22,360
limit then weary<font color="#CCCCCC"> advertised so all</font>

353
00:15:20,230 --> 00:15:26,110
sounds fine in theory pretty picture

354
00:15:22,360 --> 00:15:27,490
looks<font color="#CCCCCC"> like that so if you flap maybe two</font>

355
00:15:26,110 --> 00:15:29,950
three times depending on implementation

356
00:15:27,490 --> 00:15:32,260
you disappear for an hour half hour

357
00:15:29,950 --> 00:15:33,730
three-quarters an hour and so forth so

358
00:15:32,260 --> 00:15:35,290
it's meant to really<font color="#E5E5E5"> if you flap to</font>

359
00:15:33,730 --> 00:15:38,290
three times its really meant<font color="#E5E5E5"> to hit you</font>

360
00:15:35,290 --> 00:15:41,099
very<font color="#CCCCCC"> very hard and I think it's</font><font color="#E5E5E5"> fair to</font>

361
00:15:38,290 --> 00:15:49,510
say in the made late 90s it did his job

362
00:15:41,100 --> 00:15:51,160
but then internet grew big so the vendor

363
00:15:49,510 --> 00:15:54,130
defaults initially were considered too

364
00:15:51,160 --> 00:15:57,579
severe when we found that<font color="#E5E5E5"> the first</font>

365
00:15:54,130 --> 00:15:59,260
implementations came in 1995 and assign

366
00:15:57,579 --> 00:16:01,029
I think the first<font color="#CCCCCC"> Cisco implementation</font>

367
00:15:59,260 --> 00:16:02,800
on Cisco implementation means you flat

368
00:16:01,029 --> 00:16:04,329
<font color="#CCCCCC">was something is it you flap twice or</font>

369
00:16:02,800 --> 00:16:06,579
flat three times you've gone for an hour

370
00:16:04,329 --> 00:16:07,959
<font color="#CCCCCC">of</font><font color="#E5E5E5"> something which is pretty severe and</font>

371
00:16:06,579 --> 00:16:11,620
it was pretty much<font color="#E5E5E5"> hitting everything</font>

372
00:16:07,959 --> 00:16:14,319
altogether so in Europe the ripe writing

373
00:16:11,620 --> 00:16:16,029
working group did a little quite a bit

374
00:16:14,320 --> 00:16:18,100
of<font color="#E5E5E5"> work on this came up with some</font>

375
00:16:16,029 --> 00:16:21,399
recommendations<font color="#CCCCCC"> about good values so we</font>

376
00:16:18,100 --> 00:16:23,140
hit 24 is really hard 23 and 22 is not

377
00:16:21,399 --> 00:16:26,649
so hard and everything else you pretty

378
00:16:23,140 --> 00:16:28,300
much treat very very gently<font color="#E5E5E5"> and</font><font color="#CCCCCC"> then it</font>

379
00:16:26,649 --> 00:16:31,209
was things like oh dear but the root

380
00:16:28,300 --> 00:16:33,819
nameservers we're going all next on / 24

381
00:16:31,209 --> 00:16:35,410
21<font color="#E5E5E5"> all but a lot of them so</font><font color="#CCCCCC"> that meant</font>

382
00:16:33,820 --> 00:16:37,600
<font color="#CCCCCC">you could knock out the root nameservers</font>

383
00:16:35,410 --> 00:16:40,719
all bulky exceptions were root name

384
00:16:37,600 --> 00:16:42,760
servers and then as was the whole

385
00:16:40,720 --> 00:16:44,320
critical infrastructure argument if you

386
00:16:42,760 --> 00:16:46,510
if you read the right documents you'll

387
00:16:44,320 --> 00:16:48,130
see and we're on<font color="#E5E5E5"> the mailing list of the</font>

388
00:16:46,510 --> 00:16:51,069
time you'll<font color="#CCCCCC"> see some arguments but what</font>

389
00:16:48,130 --> 00:16:53,560
is and isn't critical infrastructure but

390
00:16:51,070 --> 00:16:55,839
<font color="#E5E5E5">even in spite that people saying look</font>

391
00:16:53,560 --> 00:16:57,790
you know don't overdo right<font color="#CCCCCC"> flap damping</font>

392
00:16:55,839 --> 00:16:59,470
people just switched on the<font color="#CCCCCC"> devender</font>

393
00:16:57,790 --> 00:17:01,420
defaults because it said in<font color="#E5E5E5"> the manual</font>

394
00:16:59,470 --> 00:17:04,540
you must do right flat damping because

395
00:17:01,420 --> 00:17:07,389
it's good they didn't think and then we

396
00:17:04,540 --> 00:17:10,599
had the<font color="#E5E5E5"> researchers so there's some of</font>

397
00:17:07,390 --> 00:17:12,730
them pointing out the problems caused

398
00:17:10,599 --> 00:17:13,889
when ISPs actually do right flat

399
00:17:12,730 --> 00:17:17,709
campaign

400
00:17:13,890 --> 00:17:19,299
first problem if one path flaps so<font color="#E5E5E5"> BGP</font>

401
00:17:17,709 --> 00:17:22,179
speakers pick the<font color="#E5E5E5"> next best path</font>

402
00:17:19,299 --> 00:17:24,279
announcer<font color="#CCCCCC"> to all peers and implement</font>

403
00:17:22,179 --> 00:17:27,699
<font color="#E5E5E5">increment the flap counter so you could</font>

404
00:17:24,279 --> 00:17:32,620
end<font color="#E5E5E5"> up with flap flaps being created and</font>

405
00:17:27,699 --> 00:17:34,090
damped simply by a path<font color="#E5E5E5"> changer which</font>

406
00:17:32,620 --> 00:17:36,699
wasn't<font color="#E5E5E5"> really quite the idea if a path</font>

407
00:17:34,090 --> 00:17:38,649
changes it's just one simple change but

408
00:17:36,700 --> 00:17:40,919
it<font color="#E5E5E5"> just as Lords it's like you say</font>

409
00:17:38,649 --> 00:17:43,330
something and<font color="#E5E5E5"> it echoes on and on and on</font>

410
00:17:40,919 --> 00:17:44,559
it<font color="#CCCCCC"> was quite interesting how you see</font>

411
00:17:43,330 --> 00:17:47,830
some of<font color="#E5E5E5"> these things that's helping</font>

412
00:17:44,559 --> 00:17:50,408
people doing<font color="#CCCCCC"> multihoming 2000 2001 2002</font>

413
00:17:47,830 --> 00:17:52,418
we'd announce a prefix and I look on

414
00:17:50,409 --> 00:17:55,179
right views<font color="#E5E5E5"> maybe 10 minutes later and</font>

415
00:17:52,419 --> 00:17:56,649
see it as fact 15 times<font color="#E5E5E5"> it's like</font><font color="#CCCCCC"> house</font>

416
00:17:55,179 --> 00:17:59,320
<font color="#CCCCCC">as</font><font color="#E5E5E5"> possible</font><font color="#CCCCCC"> only just</font><font color="#E5E5E5"> announced the</font>

417
00:17:56,649 --> 00:18:01,510
prefix<font color="#CCCCCC"> and</font><font color="#E5E5E5"> it's done but because the BGP</font>

418
00:17:59,320 --> 00:18:04,928
speakers change the best paths all the

419
00:18:01,510 --> 00:18:07,539
time and causing all these different

420
00:18:04,929 --> 00:18:09,549
<font color="#E5E5E5">announcements of different peers what</font>

421
00:18:07,539 --> 00:18:11,890
else<font color="#E5E5E5"> Beach p implementations are</font>

422
00:18:09,549 --> 00:18:13,570
different trends at times you know some

423
00:18:11,890 --> 00:18:15,309
of them if you announce a prefix then

424
00:18:13,570 --> 00:18:18,070
mediately<font color="#E5E5E5"> noun sit on after doing best</font>

425
00:18:15,309 --> 00:18:19,990
path weathermen implementations hang on

426
00:18:18,070 --> 00:18:22,330
<font color="#E5E5E5">to it for 30 seconds and then the</font>

427
00:18:19,990 --> 00:18:24,120
announcer as he had this race to the

428
00:18:22,330 --> 00:18:26,260
finish line which did the same thing

429
00:18:24,120 --> 00:18:28,779
like<font color="#CCCCCC"> you got flat counters been</font>

430
00:18:26,260 --> 00:18:32,408
implemented best path being changed<font color="#E5E5E5"> and</font>

431
00:18:28,779 --> 00:18:34,960
it ended up with a bit of<font color="#E5E5E5"> a mess too so</font>

432
00:18:32,409 --> 00:18:37,299
flap damping by and large is considered

433
00:18:34,960 --> 00:18:39,429
really bad thing<font color="#CCCCCC"> to do these days simply</font>

434
00:18:37,299 --> 00:18:42,250
because it causes more instability

435
00:18:39,429 --> 00:18:44,350
they're just<font color="#CCCCCC"> not doing it at all because</font>

436
00:18:42,250 --> 00:18:46,690
the internet and I was so dense it's so

437
00:18:44,350 --> 00:18:49,059
densely interconnected the many many

438
00:18:46,690 --> 00:18:51,429
paths between different providers that

439
00:18:49,059 --> 00:18:53,559
it actually will seriously impair the

440
00:18:51,429 --> 00:18:58,539
functionality of<font color="#E5E5E5"> the network and</font>

441
00:18:53,559 --> 00:19:00,820
Internet ah look at that Joey<font color="#CCCCCC"> egli um</font>

442
00:18:58,539 --> 00:19:02,470
one of<font color="#E5E5E5"> the things</font><font color="#CCCCCC"> that was observed and</font>

443
00:19:00,820 --> 00:19:05,529
part of the reason that<font color="#CCCCCC"> we got into flap</font>

444
00:19:02,470 --> 00:19:07,809
damping<font color="#E5E5E5"> and to begin with was that it</font>

445
00:19:05,529 --> 00:19:10,240
was observed<font color="#CCCCCC"> that the edges of the</font>

446
00:19:07,809 --> 00:19:12,340
network Ted a tendency to flap at a

447
00:19:10,240 --> 00:19:15,539
greater rate than like many sections of

448
00:19:12,340 --> 00:19:21,010
the core<font color="#E5E5E5"> and the theory was is that as</font>

449
00:19:15,539 --> 00:19:23,360
more prefixes appeared flapping would

450
00:19:21,010 --> 00:19:26,520
out continue to grow at a linear

451
00:19:23,360 --> 00:19:29,070
or higher rate and the fact of the

452
00:19:26,520 --> 00:19:32,490
<font color="#E5E5E5">matter is it's grown at a sub linear</font>

453
00:19:29,070 --> 00:19:34,770
rate which means that even as we add

454
00:19:32,490 --> 00:19:38,790
more prefixes that doesn't mean those

455
00:19:34,770 --> 00:19:40,889
prefixes are more unstable so um the

456
00:19:38,790 --> 00:19:42,540
great threat that flapping was supposed

457
00:19:40,890 --> 00:19:48,930
to alleviate turns out it hasn't

458
00:19:42,540 --> 00:19:53,820
<font color="#E5E5E5">happened so thanks yep thanks Joe can</font>

459
00:19:48,930 --> 00:19:56,340
<font color="#E5E5E5">you use</font><font color="#CCCCCC"> the mic actually have another</font>

460
00:19:53,820 --> 00:19:58,710
<font color="#E5E5E5">question with regard to best path we</font>

461
00:19:56,340 --> 00:20:00,899
think<font color="#E5E5E5"> a number of vendors are</font>

462
00:19:58,710 --> 00:20:03,930
introducing multiple best paths in the

463
00:20:00,900 --> 00:20:06,360
<font color="#CCCCCC">very near future and you know just want</font>

464
00:20:03,930 --> 00:20:14,680
to get your thoughts<font color="#E5E5E5"> on the impact of</font>

465
00:20:06,360 --> 00:20:19,010
that on<font color="#CCCCCC"> BGP impact on BGP BGE dampening</font>

466
00:20:14,680 --> 00:20:20,900
um off the top of my head standing here

467
00:20:19,010 --> 00:20:24,320
right now I would have to go<font color="#E5E5E5"> and think</font>

468
00:20:20,900 --> 00:20:27,500
about<font color="#CCCCCC"> it I can't see any impact</font><font color="#E5E5E5"> right</font>

469
00:20:24,320 --> 00:20:30,139
now<font color="#E5E5E5"> obviously in the bgp flap situation</font>

470
00:20:27,500 --> 00:20:32,510
but<font color="#E5E5E5"> i think it's a case of really once</font>

471
00:20:30,140 --> 00:20:34,100
we get some implementations and people

472
00:20:32,510 --> 00:20:36,200
starting to use it we'll<font color="#E5E5E5"> get we'll get a</font>

473
00:20:34,100 --> 00:20:39,889
better idea what's what's going to

474
00:20:36,200 --> 00:20:43,040
happen<font color="#CCCCCC"> you know as jaw was saying you</font>

475
00:20:39,890 --> 00:20:45,320
know the big solution and while this big

476
00:20:43,040 --> 00:20:48,080
problem that we were going to<font color="#E5E5E5"> have din</font>

477
00:20:45,320 --> 00:20:49,970
became truly happen and really what I'm

478
00:20:48,080 --> 00:20:51,980
trying<font color="#E5E5E5"> to see here now is that folks are</font>

479
00:20:49,970 --> 00:20:54,350
just blindly switch it on<font color="#E5E5E5"> actually</font>

480
00:20:51,980 --> 00:20:58,910
causing more damage than just not

481
00:20:54,350 --> 00:21:00,620
switching on her<font color="#CCCCCC"> tall but I mean there's</font>

482
00:20:58,910 --> 00:21:02,900
actually some right up in the that's

483
00:21:00,620 --> 00:21:04,699
right 378 document of envy wants to look

484
00:21:02,900 --> 00:21:06,880
at<font color="#E5E5E5"> a bit of the the history</font><font color="#CCCCCC"> off at all</font>

485
00:21:04,700 --> 00:21:09,470
so some of the problems and so forth

486
00:21:06,880 --> 00:21:12,170
minutes it's a bit old now but because

487
00:21:09,470 --> 00:21:13,580
<font color="#E5E5E5">this was done a few years ago but the</font>

488
00:21:12,170 --> 00:21:18,920
general recommendation now should be

489
00:21:13,580 --> 00:21:20,600
<font color="#E5E5E5">just just don't do it</font><font color="#CCCCCC"> okay now</font><font color="#E5E5E5"> I just</font>

490
00:21:18,920 --> 00:21:22,820
want<font color="#CCCCCC"> to take a quick</font><font color="#E5E5E5"> look through some</font>

491
00:21:20,600 --> 00:21:25,760
of the communities and it was a bit of<font color="#CCCCCC"> a</font>

492
00:21:22,820 --> 00:21:28,460
jump this is kind of this is kind of<font color="#E5E5E5"> BGP</font>

493
00:21:25,760 --> 00:21:31,940
scaling as well even though I've given

494
00:21:28,460 --> 00:21:33,890
it a separate title the subtitle making

495
00:21:31,940 --> 00:21:36,920
life easier<font color="#CCCCCC"> for yourself I'm actually</font>

496
00:21:33,890 --> 00:21:38,690
deadly serious about it in the

497
00:21:36,920 --> 00:21:40,430
<font color="#E5E5E5">multihoming tutorial i do have got lots</font>

498
00:21:38,690 --> 00:21:42,440
<font color="#CCCCCC">of examples of using communities and</font>

499
00:21:40,430 --> 00:21:46,910
community policy to show you how to

500
00:21:42,440 --> 00:21:48,890
greatly simplify things so but we'll

501
00:21:46,910 --> 00:21:50,930
just<font color="#CCCCCC"> quickly look here i just</font><font color="#E5E5E5"> want to</font>

502
00:21:48,890 --> 00:21:53,240
put some in the bgp techniques tutorials

503
00:21:50,930 --> 00:21:54,950
well just I suppose<font color="#E5E5E5"> get you interested</font>

504
00:21:53,240 --> 00:21:57,140
in<font color="#E5E5E5"> actually looking at using communities</font>

505
00:21:54,950 --> 00:22:00,050
within your network if you aren't

506
00:21:57,140 --> 00:22:02,120
<font color="#CCCCCC">actually using them already because what</font>

507
00:22:00,050 --> 00:22:04,100
those lets you do is group prefixes into

508
00:22:02,120 --> 00:22:06,290
different classes it's rather than just

509
00:22:04,100 --> 00:22:08,389
having one a s and you try and do all

510
00:22:06,290 --> 00:22:10,460
your edge filtering with or you're a s

511
00:22:08,390 --> 00:22:12,500
filters and prefix filters you can

512
00:22:10,460 --> 00:22:14,630
actually group them into communities and

513
00:22:12,500 --> 00:22:17,090
do all your edge filtering based on

514
00:22:14,630 --> 00:22:18,500
communities instead each community means

515
00:22:17,090 --> 00:22:20,840
a different thing<font color="#CCCCCC"> we can have a</font>

516
00:22:18,500 --> 00:22:23,630
different<font color="#CCCCCC"> result inside</font><font color="#E5E5E5"> your network or</font>

517
00:22:20,840 --> 00:22:24,419
for your peers<font color="#CCCCCC"> your</font><font color="#E5E5E5"> transit providers as</font>

518
00:22:23,630 --> 00:22:27,790
well

519
00:22:24,420 --> 00:22:30,130
now the no recommended<font color="#CCCCCC"> ISP bgp</font>

520
00:22:27,790 --> 00:22:32,320
communities and again folks come and ask

521
00:22:30,130 --> 00:22:35,800
me oh there must be a recommended list

522
00:22:32,320 --> 00:22:38,230
to use there isn't really mean of<font color="#E5E5E5"> the</font>

523
00:22:35,800 --> 00:22:40,960
five standard communities the ones in

524
00:22:38,230 --> 00:22:43,680
RFC 1998 but that was only what internet

525
00:22:40,960 --> 00:22:45,700
<font color="#CCCCCC">MCI were doing it's not necessarily</font>

526
00:22:43,680 --> 00:22:47,590
recommended best practice they just

527
00:22:45,700 --> 00:22:52,090
document it what they did and other

528
00:22:47,590 --> 00:22:55,959
people decided to copy mean been some up

529
00:22:52,090 --> 00:22:58,059
efforts to document does that long<font color="#E5E5E5"> long</font>

530
00:22:55,960 --> 00:23:01,240
<font color="#CCCCCC">ago expired internet-draft there that</font>

531
00:22:58,059 --> 00:23:02,740
documented<font color="#CCCCCC"> I suppose some of the best</font>

532
00:23:01,240 --> 00:23:06,700
practice communities that folks were

533
00:23:02,740 --> 00:23:08,530
using the folks at wanna see document

534
00:23:06,700 --> 00:23:10,020
communities that's kept relatively up to

535
00:23:08,530 --> 00:23:13,000
date which<font color="#CCCCCC"> is a pretty good effort and</font>

536
00:23:10,020 --> 00:23:15,580
there's a jury tutorial<font color="#CCCCCC"> ten nanak's ago</font>

537
00:23:13,000 --> 00:23:17,290
<font color="#E5E5E5">I'm showing some of the typical service</font>

538
00:23:15,580 --> 00:23:19,030
provider communities and use then

539
00:23:17,290 --> 00:23:21,040
between<font color="#E5E5E5"> 10 90 x is what three and a half</font>

540
00:23:19,030 --> 00:23:23,980
years ago so things have probably

541
00:23:21,040 --> 00:23:25,809
changed then from then to but that's<font color="#E5E5E5"> all</font>

542
00:23:23,980 --> 00:23:27,280
<font color="#E5E5E5">this really beam and people just refer</font>

543
00:23:25,809 --> 00:23:29,200
<font color="#CCCCCC">to those to try and figure out what to</font>

544
00:23:27,280 --> 00:23:31,480
do so there's no<font color="#E5E5E5"> real best practice</font>

545
00:23:29,200 --> 00:23:34,480
people just decide what they're going to

546
00:23:31,480 --> 00:23:35,650
<font color="#CCCCCC">actually work with and once they figure</font>

547
00:23:34,480 --> 00:23:37,660
<font color="#CCCCCC">out what they're going to do they</font>

548
00:23:35,650 --> 00:23:40,059
publish it on the website or some do

549
00:23:37,660 --> 00:23:43,300
others publicity in the air subject in

550
00:23:40,059 --> 00:23:45,160
the<font color="#E5E5E5"> irr in the internet writing registry</font>

551
00:23:43,300 --> 00:23:48,520
so I've just<font color="#E5E5E5"> grabbed some off</font><font color="#CCCCCC"> the net</font>

552
00:23:45,160 --> 00:23:51,700
<font color="#E5E5E5">just to show</font><font color="#CCCCCC"> you probably totally</font>

553
00:23:48,520 --> 00:23:54,250
invisible from the room but you know

554
00:23:51,700 --> 00:23:56,230
here's here's one from sprint and if you

555
00:23:54,250 --> 00:23:58,090
can make out what it says<font color="#E5E5E5"> well they've</font>

556
00:23:56,230 --> 00:24:01,330
got<font color="#CCCCCC"> a list of</font><font color="#E5E5E5"> guesses that are supported</font>

557
00:23:58,090 --> 00:24:05,139
here you've got<font color="#CCCCCC"> things like well 65,000</font>

558
00:24:01,330 --> 00:24:07,510
colon XXX XXX is this list of autonomous

559
00:24:05,140 --> 00:24:10,690
systems so if you send<font color="#E5E5E5"> them a prefix and</font>

560
00:24:07,510 --> 00:24:13,120
if<font color="#CCCCCC"> you're a customer of</font><font color="#E5E5E5"> theirs with this</font>

561
00:24:10,690 --> 00:24:17,230
community set they will not advertise

562
00:24:13,120 --> 00:24:22,330
that prefix<font color="#E5E5E5"> to this AAS or if you send</font>

563
00:24:17,230 --> 00:24:25,000
them 6503 65,000<font color="#E5E5E5"> 3 colon XXX we will do</font>

564
00:24:22,330 --> 00:24:28,178
a three times prepend of your prefix

565
00:24:25,000 --> 00:24:29,830
announcements towards that a s so in

566
00:24:28,179 --> 00:24:32,200
other words what they've done is they've

567
00:24:29,830 --> 00:24:35,649
allowed their customers to do traffic

568
00:24:32,200 --> 00:24:36,730
engineering between themselves and their

569
00:24:35,650 --> 00:24:38,980
peers

570
00:24:36,730 --> 00:24:42,010
are these listed a SS on the network

571
00:24:38,980 --> 00:24:43,929
which<font color="#E5E5E5"> I think are all</font><font color="#CCCCCC"> their peers okay</font>

572
00:24:42,010 --> 00:24:45,429
<font color="#E5E5E5">so that's that's a sort of useful thing</font>

573
00:24:43,929 --> 00:24:47,049
so rather<font color="#E5E5E5"> than having the customer's</font>

574
00:24:45,429 --> 00:24:49,210
phone up and<font color="#E5E5E5"> see who can you change it</font>

575
00:24:47,049 --> 00:24:50,950
this<font color="#E5E5E5"> and you</font><font color="#CCCCCC"> can you change that they've</font>

576
00:24:49,210 --> 00:24:53,140
created these communities to allow

577
00:24:50,950 --> 00:24:55,049
customers to do that so in<font color="#E5E5E5"> your bgp</font>

578
00:24:53,140 --> 00:24:56,890
announcement to sprint you can just tag

579
00:24:55,049 --> 00:24:59,830
different prefixes with these

580
00:24:56,890 --> 00:25:02,380
communities and they will do those

581
00:24:59,830 --> 00:25:03,879
particular things on the network so

582
00:25:02,380 --> 00:25:05,410
there's more<font color="#CCCCCC"> information on their</font>

583
00:25:03,880 --> 00:25:07,450
website so that's one example<font color="#E5E5E5"> I'm not</font>

584
00:25:05,410 --> 00:25:12,340
advertising any particular ISP I'm just

585
00:25:07,450 --> 00:25:14,290
showing you examples here's<font color="#CCCCCC"> NTT go to us</font>

586
00:25:12,340 --> 00:25:17,409
to NCT net so they've<font color="#CCCCCC"> got a website</font>

587
00:25:14,290 --> 00:25:20,020
listing what some of their policies are

588
00:25:17,410 --> 00:25:22,210
so their default local preface 120 and

589
00:25:20,020 --> 00:25:25,590
they've<font color="#E5E5E5"> got various other communities so</font>

590
00:25:22,210 --> 00:25:27,760
if you send these particular communities

591
00:25:25,590 --> 00:25:32,350
again they<font color="#E5E5E5"> will do these particular</font>

592
00:25:27,760 --> 00:25:36,070
things so 2914<font color="#CCCCCC"> 40-50 means customer</font>

593
00:25:32,350 --> 00:25:40,990
fallback 2914 470 means as a peer and so

594
00:25:36,070 --> 00:25:43,178
forth 2914 for 11 / pens I bound to

595
00:25:40,990 --> 00:25:44,860
customer<font color="#CCCCCC"> 1 times or two times or three</font>

596
00:25:43,179 --> 00:25:48,190
times and so on it's quite a long page

597
00:25:44,860 --> 00:25:51,428
of options that<font color="#E5E5E5"> are available so there's</font>

598
00:25:48,190 --> 00:25:54,549
some more possibilities verizon business

599
00:25:51,429 --> 00:25:57,520
in<font color="#CCCCCC"> europe so here's here's another one</font>

600
00:25:54,549 --> 00:26:01,150
this is picked out of the Internet

601
00:25:57,520 --> 00:26:04,139
routing registry run by the ripe NCC so

602
00:26:01,150 --> 00:26:06,429
you look up<font color="#CCCCCC"> the autumn object again</font>

603
00:26:04,140 --> 00:26:08,470
while missing out all the other<font color="#CCCCCC"> details</font>

604
00:26:06,429 --> 00:26:11,020
we look down to the remarks section you

605
00:26:08,470 --> 00:26:13,270
see<font color="#CCCCCC"> again a s72 has got various and</font>

606
00:26:11,020 --> 00:26:16,720
communities listed there so they again

607
00:26:13,270 --> 00:26:20,280
some more<font color="#E5E5E5"> examples 70 to 80 set local</font>

608
00:26:16,720 --> 00:26:23,770
profit is actually one of the RFC 1998

609
00:26:20,280 --> 00:26:26,530
versions seminar to 20 only<font color="#CCCCCC"> announced to</font>

610
00:26:23,770 --> 00:26:29,230
the<font color="#E5E5E5"> ESS and</font><font color="#CCCCCC"> customers 7230 keep within</font>

611
00:26:26,530 --> 00:26:31,690
<font color="#CCCCCC">europe single pre-planned to prepend</font>

612
00:26:29,230 --> 00:26:34,270
free<font color="#CCCCCC"> free pass you see the pattern there</font>

613
00:26:31,690 --> 00:26:38,020
the typical<font color="#CCCCCC"> things</font><font color="#E5E5E5"> that that folks might</font>

614
00:26:34,270 --> 00:26:42,549
be using<font color="#E5E5E5"> and</font><font color="#CCCCCC"> their others and BTW ignite</font>

615
00:26:38,020 --> 00:26:44,500
this is a huge<font color="#CCCCCC"> list and the definitions</font>

616
00:26:42,549 --> 00:26:47,149
are based on<font color="#E5E5E5"> tisca</font><font color="#CCCCCC"> lee's original ones</font>

617
00:26:44,500 --> 00:26:49,129
mean<font color="#E5E5E5"> tisk</font><font color="#CCCCCC"> alize of what ti net now but</font>

618
00:26:47,149 --> 00:26:51,830
many many years<font color="#E5E5E5"> ago typically came up</font>

619
00:26:49,129 --> 00:26:53,928
with a very<font color="#E5E5E5"> very complex list and so BTW</font>

620
00:26:51,830 --> 00:26:57,139
ignite seems to have adopted them but

621
00:26:53,929 --> 00:27:00,259
here's the typical thing<font color="#CCCCCC"> they're so for</font>

622
00:26:57,139 --> 00:27:02,330
<font color="#CCCCCC">example if you send 5400 corn</font><font color="#E5E5E5"> 1000 they</font>

623
00:27:00,259 --> 00:27:04,639
will<font color="#E5E5E5"> not announce that prefix to</font><font color="#CCCCCC"> all</font>

624
00:27:02,330 --> 00:27:07,009
their peers and transits obvious and

625
00:27:04,639 --> 00:27:09,859
5,400 core and<font color="#E5E5E5"> 2000 they'll do a single</font>

626
00:27:07,009 --> 00:27:11,659
prepend now I've worked with customers

627
00:27:09,859 --> 00:27:13,460
of bt ignite and have played<font color="#CCCCCC"> around</font>

628
00:27:11,659 --> 00:27:15,679
<font color="#CCCCCC">release communities and they do actually</font>

629
00:27:13,460 --> 00:27:17,239
work as advertised which is which<font color="#CCCCCC"> is not</font>

630
00:27:15,679 --> 00:27:19,609
bad but<font color="#CCCCCC"> you can see that the</font><font color="#E5E5E5"> type of</font>

631
00:27:17,239 --> 00:27:21,889
things that folks or user communities

632
00:27:19,609 --> 00:27:24,168
for which<font color="#E5E5E5"> can you imagine trying</font><font color="#CCCCCC"> to</font>

633
00:27:21,889 --> 00:27:28,459
phone up<font color="#E5E5E5"> a network operations center and</font>

634
00:27:24,169 --> 00:27:31,969
explain what you want in English whereas

635
00:27:28,460 --> 00:27:34,129
just with a service provider providing

636
00:27:31,969 --> 00:27:36,619
these communities you can<font color="#E5E5E5"> configure all</font>

637
00:27:34,129 --> 00:27:38,299
this for yourself to do your own traffic

638
00:27:36,619 --> 00:27:41,779
<font color="#E5E5E5">engineering announcements non</font>

639
00:27:38,299 --> 00:27:44,119
announcements and so forth level<font color="#CCCCCC"> three</font>

640
00:27:41,779 --> 00:27:46,339
going off a<font color="#E5E5E5"> very big list and I don't</font>

641
00:27:44,119 --> 00:27:48,918
know how many<font color="#CCCCCC"> of these are</font><font color="#E5E5E5"> actually used</font>

642
00:27:46,339 --> 00:27:50,719
or if they are used but it still is an

643
00:27:48,919 --> 00:27:56,059
impressively big list if you<font color="#E5E5E5"> look up</font><font color="#CCCCCC"> the</font>

644
00:27:50,719 --> 00:27:58,369
rotten an object so 65,000<font color="#E5E5E5"> 1 colon 0 pre</font>

645
00:27:56,059 --> 00:28:01,759
<font color="#E5E5E5">pen to all peers city of a thousand one</font>

646
00:27:58,369 --> 00:28:03,499
pre pen to peers with ASX and then

647
00:28:01,759 --> 00:28:06,739
you've<font color="#CCCCCC"> got the Goering the local press</font>

648
00:28:03,499 --> 00:28:09,139
setting ones fifty five six pull a 999

649
00:28:06,739 --> 00:28:11,509
that one's a great one and<font color="#E5E5E5"> this is not a</font>

650
00:28:09,139 --> 00:28:14,299
security workshop but if you announce a

651
00:28:11,509 --> 00:28:16,580
prefix with this community set they were

652
00:28:14,299 --> 00:28:19,099
black hole it this is great<font color="#CCCCCC"> for handling</font>

653
00:28:16,580 --> 00:28:22,189
dos attacks<font color="#CCCCCC"> someone does a DOS attack</font><font color="#E5E5E5"> on</font>

654
00:28:19,099 --> 00:28:24,279
address space that's yours rather than

655
00:28:22,190 --> 00:28:27,139
completely filling up your inbound links

656
00:28:24,279 --> 00:28:29,239
what you can do is you can send the

657
00:28:27,139 --> 00:28:32,389
while<font color="#E5E5E5"> the prefix is being attacked by</font>

658
00:28:29,239 --> 00:28:34,909
bgp to level three is an upstream with

659
00:28:32,389 --> 00:28:36,468
that community set and then they will

660
00:28:34,909 --> 00:28:38,210
black hole all<font color="#E5E5E5"> the traffic coming in to</font>

661
00:28:36,469 --> 00:28:40,639
<font color="#E5E5E5">that destination within their backbone</font>

662
00:28:38,210 --> 00:28:42,349
so that's really really useful when<font color="#CCCCCC"> i've</font>

663
00:28:40,639 --> 00:28:44,809
been quite a<font color="#E5E5E5"> few ice peas are doing this</font>

664
00:28:42,349 --> 00:28:46,879
now more or doing it it<font color="#E5E5E5"> doesn't mean you</font>

665
00:28:44,809 --> 00:28:48,408
just<font color="#E5E5E5"> do that and then forget it you do</font>

666
00:28:46,879 --> 00:28:50,209
that and<font color="#E5E5E5"> then phone them up and say I</font>

667
00:28:48,409 --> 00:28:52,070
need help trying<font color="#E5E5E5"> to get rid of this dos</font>

668
00:28:50,210 --> 00:28:53,960
attack<font color="#CCCCCC"> I say</font><font color="#E5E5E5"> this</font><font color="#CCCCCC"> is not</font><font color="#E5E5E5"> a security</font>

669
00:28:52,070 --> 00:28:55,549
workshop and you can talk<font color="#E5E5E5"> to the</font>

670
00:28:53,960 --> 00:28:57,309
security folks about it but I'm<font color="#CCCCCC"> just</font>

671
00:28:55,549 --> 00:28:59,980
showing you one example of

672
00:28:57,309 --> 00:29:02,168
the community use whereas otherwise

673
00:28:59,980 --> 00:29:03,549
trying to deal with<font color="#E5E5E5"> this you middle of</font>

674
00:29:02,169 --> 00:29:05,169
<font color="#CCCCCC">DOS attack trying to phone somebody up</font>

675
00:29:03,549 --> 00:29:06,789
and get them to<font color="#E5E5E5"> put filters at different</font>

676
00:29:05,169 --> 00:29:09,580
parts of<font color="#E5E5E5"> the network it's too much work</font>

677
00:29:06,789 --> 00:29:12,820
<font color="#E5E5E5">whereas this totally automates it it's</font>

678
00:29:09,580 --> 00:29:14,289
another example anyway let's say that's

679
00:29:12,820 --> 00:29:16,779
that's all I'm<font color="#E5E5E5"> really going to spend on</font>

680
00:29:14,289 --> 00:29:19,720
communities just to get an idea of some

681
00:29:16,779 --> 00:29:22,840
of the things they might be used for so

682
00:29:19,720 --> 00:29:24,490
now look at the deploying bgp and an IV

683
00:29:22,840 --> 00:29:27,928
networks<font color="#E5E5E5"> we've got about an hour to go</font>

684
00:29:24,490 --> 00:29:31,929
through the rest of this and so this<font color="#E5E5E5"> is</font>

685
00:29:27,929 --> 00:29:33,460
primarily<font color="#E5E5E5"> a lot of</font><font color="#CCCCCC"> good advice those of</font>

686
00:29:31,929 --> 00:29:36,759
you who normally know that<font color="#E5E5E5"> i ranked a</font>

687
00:29:33,460 --> 00:29:38,590
lot about aggregation ahem and we'll

688
00:29:36,759 --> 00:29:40,090
look<font color="#E5E5E5"> at some configuration tips as well</font>

689
00:29:38,590 --> 00:29:42,399
so we just look at generally good

690
00:29:40,090 --> 00:29:44,709
practice things skilling the network

691
00:29:42,399 --> 00:29:48,489
things good<font color="#E5E5E5"> behavior and internet type</font>

692
00:29:44,710 --> 00:29:50,379
things at least as far as PG<font color="#CCCCCC"> Pecos so</font>

693
00:29:48,490 --> 00:29:53,440
let's see so we've learned all about bgp

694
00:29:50,379 --> 00:29:54,820
and<font color="#CCCCCC"> wow what apart from being</font>

695
00:29:53,440 --> 00:29:57,519
multihoming but we've learned everything

696
00:29:54,820 --> 00:30:00,490
else about bgp so how do we actually use

697
00:29:57,519 --> 00:30:06,940
<font color="#CCCCCC">it so we're</font><font color="#E5E5E5"> going to look at the role of</font>

698
00:30:00,490 --> 00:30:10,179
igp and I bgp in the network so bgp

699
00:30:06,940 --> 00:30:11,769
versus ospf<font color="#CCCCCC"> ania sighs there's still</font>

700
00:30:10,179 --> 00:30:14,019
folks to say oh well you know don't<font color="#E5E5E5"> need</font>

701
00:30:11,769 --> 00:30:16,419
to use ibgp in the network in your is is

702
00:30:14,019 --> 00:30:18,129
you know you've<font color="#CCCCCC"> done such a good job all</font>

703
00:30:16,419 --> 00:30:20,169
<font color="#CCCCCC">the vendors and we can carry thousands</font>

704
00:30:18,129 --> 00:30:23,230
of prefixes and<font color="#CCCCCC"> I</font><font color="#E5E5E5"> esaias and it's all</font>

705
00:30:20,169 --> 00:30:25,480
great well that's not<font color="#E5E5E5"> the point you know</font>

706
00:30:23,230 --> 00:30:29,409
thousands of prefix and is is<font color="#E5E5E5"> not to</font>

707
00:30:25,480 --> 00:30:32,080
serve as some of the a tiny little

708
00:30:29,409 --> 00:30:34,299
internet cafe it's there to service the

709
00:30:32,080 --> 00:30:36,070
global transit providers you know the

710
00:30:34,299 --> 00:30:38,168
biggest biggest is peace because they've

711
00:30:36,070 --> 00:30:40,539
got thousands of routers so that's why

712
00:30:38,169 --> 00:30:43,509
the scaling of of it is they're putting

713
00:30:40,539 --> 00:30:47,799
20,000 customers into ospf is not good

714
00:30:43,509 --> 00:30:48,970
practice you can do it but you can do

715
00:30:47,799 --> 00:30:54,129
lots of other<font color="#CCCCCC"> things that</font><font color="#E5E5E5"> are probably</font>

716
00:30:48,970 --> 00:30:55,899
not good ideas either so ospf and<font color="#E5E5E5"> is is</font>

717
00:30:54,129 --> 00:30:57,789
the use for carrying infrastructure

718
00:30:55,899 --> 00:30:59,799
addresses by and large your point point

719
00:30:57,789 --> 00:31:02,019
links if you need to carry those and

720
00:30:59,799 --> 00:31:05,230
your loopback interface addresses on

721
00:31:02,019 --> 00:31:07,029
your router so you can run ibgp that's

722
00:31:05,230 --> 00:31:09,159
all that<font color="#CCCCCC"> you should find in there and</font>

723
00:31:07,029 --> 00:31:09,920
you know thought<font color="#E5E5E5"> was a nice competition</font>

724
00:31:09,159 --> 00:31:12,380
between

725
00:31:09,920 --> 00:31:14,960
<font color="#E5E5E5">mom bgp folks to try and reduce the</font>

726
00:31:12,380 --> 00:31:17,150
number of prefixes running around<font color="#CCCCCC"> an</font>

727
00:31:14,960 --> 00:31:19,460
<font color="#E5E5E5">ospf for is is because the fewer</font>

728
00:31:17,150 --> 00:31:21,920
prefixes the faster the convergence you

729
00:31:19,460 --> 00:31:24,590
can get without using any<font color="#E5E5E5"> of the special</font>

730
00:31:21,920 --> 00:31:26,840
tricks<font color="#CCCCCC"> all right so the design goal is</font>

731
00:31:24,590 --> 00:31:31,429
to minimize the number of prefixes in

732
00:31:26,840 --> 00:31:33,730
your<font color="#E5E5E5"> I GP BJP's use internally and</font>

733
00:31:31,430 --> 00:31:36,380
externally also saying at the start I

734
00:31:33,730 --> 00:31:38,510
<font color="#CCCCCC">BGP carries some are all</font><font color="#E5E5E5"> internet prefix</font>

735
00:31:36,380 --> 00:31:39,770
across the backbone and your customer

736
00:31:38,510 --> 00:31:42,350
prefixes that's where you put<font color="#CCCCCC"> your</font>

737
00:31:39,770 --> 00:31:44,510
customer prefixes<font color="#CCCCCC"> jg delegate address</font>

738
00:31:42,350 --> 00:31:46,429
space<font color="#E5E5E5"> your customers or they turn up</font>

739
00:31:44,510 --> 00:31:52,640
connect to<font color="#E5E5E5"> your network with the wrong</font>

740
00:31:46,430 --> 00:31:55,250
address space and put it in ibgp notice

741
00:31:52,640 --> 00:31:57,320
this is<font color="#E5E5E5"> v 4v six in the protocol</font>

742
00:31:55,250 --> 00:32:00,560
independent whatever have<font color="#E5E5E5"> been saying so</font>

743
00:31:57,320 --> 00:32:02,780
far for ipv4 applies to ipv6 to like

744
00:32:00,560 --> 00:32:04,550
nothing<font color="#E5E5E5"> changes but all the changes</font>

745
00:32:02,780 --> 00:32:06,440
between v4 and v6 all the numbers get

746
00:32:04,550 --> 00:32:11,120
big as far<font color="#E5E5E5"> as we're concerned in this</font>

747
00:32:06,440 --> 00:32:13,040
room doing<font color="#E5E5E5"> bgp ebgp is used exchange</font>

748
00:32:11,120 --> 00:32:15,530
prefixes with other autonomous systems

749
00:32:13,040 --> 00:32:17,300
and that's where<font color="#E5E5E5"> you also implement your</font>

750
00:32:15,530 --> 00:32:20,180
writing policy so<font color="#E5E5E5"> i said this at the</font>

751
00:32:17,300 --> 00:32:21,800
<font color="#E5E5E5">start there's the model when we saw this</font>

752
00:32:20,180 --> 00:32:25,640
picture at the start<font color="#E5E5E5"> of the tutorial as</font>

753
00:32:21,800 --> 00:32:29,300
well you've got your<font color="#CCCCCC"> I GP connectivity</font>

754
00:32:25,640 --> 00:32:31,750
between routers ibgp transferring

755
00:32:29,300 --> 00:32:34,280
prefixes across your back<font color="#E5E5E5"> board ebgp</font>

756
00:32:31,750 --> 00:32:36,950
prefixes between autonomous systems and

757
00:32:34,280 --> 00:32:40,790
your policies so it's a simple division

758
00:32:36,950 --> 00:32:43,730
of labor for these three protocols I

759
00:32:40,790 --> 00:32:46,040
still consider ibgp and ebgp different

760
00:32:43,730 --> 00:32:47,960
protocols shared about common name and

761
00:32:46,040 --> 00:32:52,490
common configuration because it<font color="#CCCCCC"> behave</font>

762
00:32:47,960 --> 00:32:56,210
<font color="#CCCCCC">very different ways so do not distribute</font>

763
00:32:52,490 --> 00:32:58,130
<font color="#E5E5E5">BGP into ospf</font><font color="#CCCCCC"> Riss just because there's</font>

764
00:32:56,210 --> 00:32:59,540
a redistribute command on your various

765
00:32:58,130 --> 00:33:02,570
implementations does not mean it's a

766
00:32:59,540 --> 00:33:06,239
good thing to do<font color="#CCCCCC"> okay</font>

767
00:33:02,570 --> 00:33:08,718
ospf is is designed for fast convergence

768
00:33:06,239 --> 00:33:11,700
small number of prefixes so dumping

769
00:33:08,719 --> 00:33:14,070
330,000 Internet routing prefixes into

770
00:33:11,700 --> 00:33:15,239
ospf is generally not a good idea the

771
00:33:14,070 --> 00:33:17,580
other way around is not a good idea

772
00:33:15,239 --> 00:33:19,619
either things in your backbone change

773
00:33:17,580 --> 00:33:22,739
very very quickly so to have iOS iOS or

774
00:33:19,619 --> 00:33:26,218
SPF keeping knocking BGP every 23

775
00:33:22,739 --> 00:33:28,710
seconds and just<font color="#E5E5E5"> really doesn't make BGP</font>

776
00:33:26,219 --> 00:33:30,779
very happy and don't put<font color="#E5E5E5"> your customer</font>

777
00:33:28,710 --> 00:33:33,029
prefixes into ospf<font color="#CCCCCC"> for aya size as well</font>

778
00:33:30,779 --> 00:33:36,089
<font color="#E5E5E5">even though it might be</font><font color="#CCCCCC"> a small network</font>

779
00:33:33,029 --> 00:33:38,159
with only a<font color="#CCCCCC"> few customers you're going</font>

780
00:33:36,089 --> 00:33:40,379
to grow bigger I mean I<font color="#CCCCCC"> don't know I've</font>

781
00:33:38,159 --> 00:33:41,849
met many operators who've said no no

782
00:33:40,379 --> 00:33:43,080
<font color="#E5E5E5">only can have a small network with only</font>

783
00:33:41,849 --> 00:33:46,499
three rioters and that's all it's ever

784
00:33:43,080 --> 00:33:48,629
going to be everybody has got a growing

785
00:33:46,499 --> 00:33:51,210
network so it's a very<font color="#CCCCCC"> good idea to</font>

786
00:33:48,629 --> 00:33:52,918
start how you need to<font color="#E5E5E5"> carry on because</font>

787
00:33:51,210 --> 00:33:55,859
redesigning think six months<font color="#CCCCCC"> down the</font>

788
00:33:52,919 --> 00:33:58,409
path to do right reflectors or

789
00:33:55,859 --> 00:34:01,678
<font color="#E5E5E5">Confederations or to have customers</font>

790
00:33:58,409 --> 00:34:04,649
running an eye I<font color="#CCCCCC"> BGP rather than ospf it</font>

791
00:34:01,679 --> 00:34:08,849
just wastes time and so start<font color="#CCCCCC"> from the</font>

792
00:34:04,649 --> 00:34:10,379
beginning then<font color="#E5E5E5"> anybody I've well knocked</font>

793
00:34:08,849 --> 00:34:12,899
on the door off to help with the<font color="#E5E5E5"> network</font>

794
00:34:10,379 --> 00:34:15,598
design i've started from the beginning

795
00:34:12,899 --> 00:34:17,038
how intend to scale the network and they

796
00:34:15,599 --> 00:34:18,149
<font color="#E5E5E5">don't appreciate it at the time it's</font>

797
00:34:17,039 --> 00:34:20,010
like well<font color="#E5E5E5"> this</font><font color="#CCCCCC"> is seems really</font>

798
00:34:18,149 --> 00:34:22,739
complicated for just three routers ah

799
00:34:20,010 --> 00:34:25,859
yeah<font color="#E5E5E5"> but when you have</font><font color="#CCCCCC"> 200 rioters it'll</font>

800
00:34:22,739 --> 00:34:28,138
look the same and yeah now five years

801
00:34:25,859 --> 00:34:30,750
later they appreciate the difference so

802
00:34:28,139 --> 00:34:33,119
always start how you need<font color="#CCCCCC"> to carry on</font>

803
00:34:30,750 --> 00:34:34,710
because then<font color="#E5E5E5"> it will scale if you don't</font>

804
00:34:33,119 --> 00:34:38,970
want to do that then it will not scale

805
00:34:34,710 --> 00:34:44,159
it's easy choice now putting prefixes

806
00:34:38,969 --> 00:34:46,678
into ibgp<font color="#CCCCCC"> Wow so use ibgp to carry</font>

807
00:34:44,159 --> 00:34:48,210
customers don't use ospf things that

808
00:34:46,679 --> 00:34:50,520
folks do point<font color="#E5E5E5"> a static right to the</font>

809
00:34:48,210 --> 00:34:53,250
customer<font color="#CCCCCC"> and then you can well what</font>

810
00:34:50,520 --> 00:34:55,549
redistributes statics into ibgp or

811
00:34:53,250 --> 00:34:58,140
whatever else your implementation does

812
00:34:55,549 --> 00:35:00,990
you want<font color="#E5E5E5"> to make sure that the prefix</font>

813
00:34:58,140 --> 00:35:03,650
always remains an ibgp if it's a

814
00:35:00,990 --> 00:35:06,629
customer link static link to a customer

815
00:35:03,650 --> 00:35:08,970
but for example in iOS if interface goes

816
00:35:06,630 --> 00:35:10,440
down then the static route disappears if

817
00:35:08,970 --> 00:35:13,319
the static right disappears the entry

818
00:35:10,440 --> 00:35:15,119
disappears from ibgp also which ends up

819
00:35:13,319 --> 00:35:18,450
with route that's happening

820
00:35:15,119 --> 00:35:19,950
inside the network as well so don't set

821
00:35:18,450 --> 00:35:21,749
things up so the static right will

822
00:35:19,950 --> 00:35:24,058
disappear them to face goes down make

823
00:35:21,749 --> 00:35:25,859
the static right permanent and then<font color="#E5E5E5"> even</font>

824
00:35:24,059 --> 00:35:27,960
an interface goes down it's still there

825
00:35:25,859 --> 00:35:30,240
so the entry is still an ibgp and you

826
00:35:27,960 --> 00:35:33,509
<font color="#CCCCCC">got to</font><font color="#E5E5E5"> stable network don't switch on</font>

827
00:35:30,240 --> 00:35:35,038
bgp flap damping for your ibgp<font color="#CCCCCC"> i mean i</font>

828
00:35:33,509 --> 00:35:38,069
<font color="#E5E5E5">don't even go and ask your vendor for</font>

829
00:35:35,039 --> 00:35:39,869
hit because the lots of people do

830
00:35:38,069 --> 00:35:42,180
<font color="#E5E5E5">although my networks unstable</font><font color="#CCCCCC"> i wanted</font>

831
00:35:39,869 --> 00:35:43,980
to have<font color="#E5E5E5"> IBG</font><font color="#CCCCCC"> flap damping and the</font>

832
00:35:42,180 --> 00:35:45,450
question is always maybe we should<font color="#E5E5E5"> have</font>

833
00:35:43,980 --> 00:35:48,869
a look at your network design because I

834
00:35:45,450 --> 00:35:51,450
bgp should be flapping so you don't want

835
00:35:48,869 --> 00:35:53,490
I bgp flaps to happen so nail up a lot

836
00:35:51,450 --> 00:35:58,999
of<font color="#CCCCCC"> these rights that are used to inject</font>

837
00:35:53,490 --> 00:36:01,979
prefixes into ibgp<font color="#E5E5E5"> okay aggregation</font>

838
00:35:58,999 --> 00:36:03,660
aggregation now this means an Einstein

839
00:36:01,980 --> 00:36:05,640
address block you get from the registry

840
00:36:03,660 --> 00:36:07,920
to other<font color="#CCCCCC"> a esas connected to your</font>

841
00:36:05,640 --> 00:36:11,670
network you'd think this is<font color="#CCCCCC"> actually</font>

842
00:36:07,920 --> 00:36:14,849
very very<font color="#E5E5E5"> simple but for some reason it</font>

843
00:36:11,670 --> 00:36:17,039
doesn't seem to<font color="#E5E5E5"> be simple at all you can</font>

844
00:36:14,849 --> 00:36:19,170
announce sub prefixes for traffic

845
00:36:17,039 --> 00:36:20,819
engineering obviously you're<font color="#CCCCCC"> going to</font>

846
00:36:19,170 --> 00:36:22,499
see<font color="#CCCCCC"> lots and lots of sub prefixes inside</font>

847
00:36:20,819 --> 00:36:23,880
your network as well because you're

848
00:36:22,499 --> 00:36:25,890
<font color="#E5E5E5">going to give pieces of your address</font>

849
00:36:23,880 --> 00:36:28,289
block to your customers or your services

850
00:36:25,890 --> 00:36:31,890
server lands hosting lines whatever<font color="#E5E5E5"> you</font>

851
00:36:28,289 --> 00:36:33,630
do you're going<font color="#E5E5E5"> to see those in ibgp the</font>

852
00:36:31,890 --> 00:36:36,839
world does not<font color="#E5E5E5"> care if</font><font color="#CCCCCC"> you split your</font>

853
00:36:33,630 --> 00:36:38,809
network up into / 28 the<font color="#E5E5E5"> network cares</font>

854
00:36:36,839 --> 00:36:41,578
for the<font color="#CCCCCC"> address block that you have</font>

855
00:36:38,809 --> 00:36:44,190
right when you're writing a letter to

856
00:36:41,579 --> 00:36:45,779
your friend<font color="#E5E5E5"> okay maybe six pages long</font>

857
00:36:44,190 --> 00:36:48,749
for those<font color="#CCCCCC"> who still</font><font color="#E5E5E5"> write letters rather</font>

858
00:36:45,779 --> 00:36:50,160
than email you don't take each page tear

859
00:36:48,749 --> 00:36:52,439
<font color="#CCCCCC">it in two and then posters and 12</font>

860
00:36:50,160 --> 00:36:55,739
envelopes and expect them to reassemble

861
00:36:52,440 --> 00:36:58,109
the whole thing at the<font color="#E5E5E5"> other end well I</font>

862
00:36:55,739 --> 00:36:59,789
don't<font color="#CCCCCC"> know</font><font color="#E5E5E5"> maybe people do but it seems</font>

863
00:36:58,109 --> 00:37:02,549
to<font color="#E5E5E5"> be many many isps seem to think this</font>

864
00:36:59,789 --> 00:37:04,049
is a really<font color="#E5E5E5"> good idea so it just seemed</font>

865
00:37:02,549 --> 00:37:05,369
to<font color="#CCCCCC"> me</font><font color="#E5E5E5"> doesn't make any sense you know</font>

866
00:37:04,049 --> 00:37:07,170
why would you split things into pieces

867
00:37:05,369 --> 00:37:08,579
send them out then expect you all to

868
00:37:07,170 --> 00:37:11,069
reassemble everything at the other side

869
00:37:08,579 --> 00:37:12,239
you<font color="#E5E5E5"> don't do it in anything else but</font>

870
00:37:11,069 --> 00:37:14,940
there's still loads of people thinking

871
00:37:12,239 --> 00:37:16,950
in terms of class sees the still people

872
00:37:14,940 --> 00:37:19,529
will come<font color="#CCCCCC"> to me oh yeah I've got such</font>

873
00:37:16,950 --> 00:37:21,049
and such class<font color="#E5E5E5"> sees from raipur Aaron or</font>

874
00:37:19,529 --> 00:37:23,280
a panic

875
00:37:21,050 --> 00:37:26,760
you might have<font color="#E5E5E5"> got class series from</font>

876
00:37:23,280 --> 00:37:28,890
ripe<font color="#E5E5E5"> NCC because they were around in 92</font>

877
00:37:26,760 --> 00:37:30,420
93 you might have got from a panic<font color="#E5E5E5"> in</font>

878
00:37:28,890 --> 00:37:31,980
<font color="#E5E5E5">the early days but</font><font color="#CCCCCC"> i</font><font color="#E5E5E5"> don't think aaron</font>

879
00:37:30,420 --> 00:37:33,870
has ever handed out class sees because

880
00:37:31,980 --> 00:37:37,970
<font color="#E5E5E5">they only have been around since 2000</font>

881
00:37:33,870 --> 00:37:40,710
and class sees disappeared in 1994 so

882
00:37:37,970 --> 00:37:42,859
you'll see as i<font color="#CCCCCC"> said as i spawned you</font>

883
00:37:40,710 --> 00:37:48,240
earlier it's a bit of a rant of mine so

884
00:37:42,860 --> 00:37:50,100
yes<font color="#E5E5E5"> no you make a good point the</font>

885
00:37:48,240 --> 00:37:53,310
question<font color="#CCCCCC"> I have is with regard to</font>

886
00:37:50,100 --> 00:37:55,860
customers that are<font color="#CCCCCC"> multihoming more and</font>

887
00:37:53,310 --> 00:37:57,240
more and part of the challenge is you

888
00:37:55,860 --> 00:37:59,190
never<font color="#E5E5E5"> know which</font><font color="#CCCCCC"> one of your customers</font>

889
00:37:57,240 --> 00:38:03,750
<font color="#E5E5E5">are going to end up wanting to multi</font>

890
00:37:59,190 --> 00:38:06,660
home so you know you can aggregate your

891
00:38:03,750 --> 00:38:09,120
announcements until the customer right

892
00:38:06,660 --> 00:38:10,680
in the middle of that block decides that

893
00:38:09,120 --> 00:38:13,549
they're going<font color="#E5E5E5"> to multi home at which</font>

894
00:38:10,680 --> 00:38:15,569
<font color="#CCCCCC">point you can no longer aggregate it and</font>

895
00:38:13,550 --> 00:38:18,120
they're going<font color="#E5E5E5"> to be making their own</font>

896
00:38:15,570 --> 00:38:20,640
announcements with you as a transit

897
00:38:18,120 --> 00:38:22,980
rather than you on their behalf how do

898
00:38:20,640 --> 00:38:24,480
you<font color="#E5E5E5"> go about dealing with that I still</font>

899
00:38:22,980 --> 00:38:27,450
<font color="#E5E5E5">it's still a nun stag rigueur because</font>

900
00:38:24,480 --> 00:38:28,980
the<font color="#E5E5E5"> address space is still mine as the</font>

901
00:38:27,450 --> 00:38:31,740
service provider they're just taking one

902
00:38:28,980 --> 00:38:35,400
piece out<font color="#CCCCCC"> of it so if they're</font><font color="#E5E5E5"> not so /</font>

903
00:38:31,740 --> 00:38:38,370
24 either the 19 aggregate it's still do

904
00:38:35,400 --> 00:38:41,850
it you don't need to<font color="#E5E5E5"> do longer nights</font>

905
00:38:38,370 --> 00:38:44,900
the / 24 right<font color="#E5E5E5"> landis match wins so like</font>

906
00:38:41,850 --> 00:38:47,640
the / 19 aggregate still works for every

907
00:38:44,900 --> 00:38:51,600
component except for this last 24 that's

908
00:38:47,640 --> 00:38:56,870
punched out of it but I've got I've got

909
00:38:51,600 --> 00:38:59,880
more about this<font color="#E5E5E5"> coming you'll see and so</font>

910
00:38:56,870 --> 00:39:01,529
let's look mean I don't know the ice be

911
00:38:59,880 --> 00:39:03,480
sure don't want aggregate are held in

912
00:39:01,530 --> 00:39:04,980
relatively poor gut regard by the

913
00:39:03,480 --> 00:39:07,020
community<font color="#E5E5E5"> I suppose it depends which</font>

914
00:39:04,980 --> 00:39:10,170
community and where you look the some

915
00:39:07,020 --> 00:39:12,240
parts of the<font color="#CCCCCC"> world where folks seem to</font>

916
00:39:10,170 --> 00:39:13,830
think that<font color="#E5E5E5"> well we just take whatever's</font>

917
00:39:12,240 --> 00:39:16,109
<font color="#CCCCCC">an ibgp and punt it out to the world</font>

918
00:39:13,830 --> 00:39:18,390
it's perfectly<font color="#CCCCCC"> okay and when</font><font color="#E5E5E5"> I do this</font>

919
00:39:16,110 --> 00:39:20,250
<font color="#CCCCCC">presentation or just a summary of it</font>

920
00:39:18,390 --> 00:39:21,390
then people<font color="#CCCCCC"> group what's he talking</font>

921
00:39:20,250 --> 00:39:24,210
about why is he going on and on about

922
00:39:21,390 --> 00:39:26,190
this being such a big issue but then I

923
00:39:24,210 --> 00:39:28,320
also hear what's the big transit

924
00:39:26,190 --> 00:39:30,840
providers are carrying 330,000 prefixes

925
00:39:28,320 --> 00:39:32,910
have to say about<font color="#E5E5E5"> it and whining at</font>

926
00:39:30,840 --> 00:39:34,380
vendors to put even more gigs of ram

927
00:39:32,910 --> 00:39:37,080
into rioters and they given

928
00:39:34,380 --> 00:39:39,860
faster processors and this type of thing

929
00:39:37,080 --> 00:39:41,910
so there's the winning<font color="#E5E5E5"> they lose their</font>

930
00:39:39,860 --> 00:39:43,590
registries generally published the minim

931
00:39:41,910 --> 00:39:46,319
allocation size so it can be anything

932
00:39:43,590 --> 00:39:48,210
from 22 to<font color="#CCCCCC"> a 22 pending which registry</font>

933
00:39:46,320 --> 00:39:50,820
so you'd<font color="#CCCCCC"> think that apart from</font>

934
00:39:48,210 --> 00:39:53,630
<font color="#CCCCCC">multihoming traffic engineering you</font>

935
00:39:50,820 --> 00:40:02,130
won't<font color="#E5E5E5"> see many prefixes longer than / 22</font>

936
00:39:53,630 --> 00:40:04,920
guess what the more than 168500<font color="#E5E5E5"> force /</font>

937
00:40:02,130 --> 00:40:08,100
24 seems to be the minimum it will reach

938
00:40:04,920 --> 00:40:09,930
everywhere so I<font color="#E5E5E5"> guess Shawn Duran is not</font>

939
00:40:08,100 --> 00:40:12,150
at sprint doing filtering anymore well

940
00:40:09,930 --> 00:40:15,180
that went away bought<font color="#CCCCCC"> ten ten years ago</font>

941
00:40:12,150 --> 00:40:17,730
before that that<font color="#E5E5E5"> kind of filter was</font>

942
00:40:15,180 --> 00:40:19,710
present / 24 seems to be the minimum

943
00:40:17,730 --> 00:40:21,720
that will<font color="#E5E5E5"> get you pretty much anywhere</font>

944
00:40:19,710 --> 00:40:24,090
in the network although if i look<font color="#E5E5E5"> at the</font>

945
00:40:21,720 --> 00:40:26,240
<font color="#CCCCCC">BGP table</font><font color="#E5E5E5"> I see / 30 tues that he wants</font>

946
00:40:24,090 --> 00:40:29,040
thirties and everything else as well

947
00:40:26,240 --> 00:40:32,339
anyway / 24 seems to be popular

948
00:40:29,040 --> 00:40:33,900
announcement and we want to take bets on

949
00:40:32,340 --> 00:40:42,840
what the popular announcement will<font color="#CCCCCC"> be</font>

950
00:40:33,900 --> 00:40:45,480
for ipv6 / 48 maybe 64 thank you um

951
00:40:42,840 --> 00:40:48,120
probably<font color="#CCCCCC"> right actually anyway let's</font>

952
00:40:45,480 --> 00:40:49,830
look at the aggregation piece so you've

953
00:40:48,120 --> 00:40:53,580
got<font color="#E5E5E5"> a nice the Earth's 100 he's got a</font>

954
00:40:49,830 --> 00:40:56,130
customer whoops got a customer got a /

955
00:40:53,580 --> 00:40:58,590
23 or given the 23 to the customer<font color="#CCCCCC"> and</font>

956
00:40:56,130 --> 00:41:00,300
what he does he takes his ibgp his

957
00:40:58,590 --> 00:41:02,550
broadband filters and he just sends the

958
00:41:00,300 --> 00:41:04,230
whole what I to the<font color="#CCCCCC"> Internet hey because</font>

959
00:41:02,550 --> 00:41:06,330
<font color="#E5E5E5">it works I'm only going</font><font color="#CCCCCC"> to nine cidre</font>

960
00:41:04,230 --> 00:41:07,710
space that my customers using i'm not

961
00:41:06,330 --> 00:41:10,410
going to nice unused address space

962
00:41:07,710 --> 00:41:13,470
because it attracts well 60 kilobits per

963
00:41:10,410 --> 00:41:16,230
second power what / 19 notes by 80

964
00:41:13,470 --> 00:41:18,689
kilobits per second per / 19 actually it

965
00:41:16,230 --> 00:41:20,880
depends whether what range of address

966
00:41:18,690 --> 00:41:22,320
space you have but yes<font color="#CCCCCC"> there's a</font>

967
00:41:20,880 --> 00:41:25,320
<font color="#E5E5E5">background noise in the internet which</font>

968
00:41:22,320 --> 00:41:27,570
<font color="#CCCCCC">is about 60 80 kilobits per second per /</font>

969
00:41:25,320 --> 00:41:30,750
19 so they<font color="#E5E5E5"> don't want this noise coming</font>

970
00:41:27,570 --> 00:41:33,060
in<font color="#CCCCCC"> okay</font><font color="#E5E5E5"> so what happens in reality</font>

971
00:41:30,750 --> 00:41:35,900
<font color="#CCCCCC">customer link goes down / 23 so</font>

972
00:41:33,060 --> 00:41:38,279
unreachable is withdrawn from the ibgp

973
00:41:35,900 --> 00:41:40,020
<font color="#E5E5E5">isp doesn't aggregate at all so the</font>

974
00:41:38,280 --> 00:41:42,780
withdrawal message goes out to all other

975
00:41:40,020 --> 00:41:45,300
35,000 autonomous systems or whoever's

976
00:41:42,780 --> 00:41:46,380
got<font color="#CCCCCC"> foo</font><font color="#E5E5E5"> bgp table and they all see the</font>

977
00:41:45,300 --> 00:41:49,380
withdrawal

978
00:41:46,380 --> 00:41:50,970
lord on the back burner routers and that

979
00:41:49,380 --> 00:41:53,160
was the intention of flap damping in<font color="#E5E5E5"> the</font>

980
00:41:50,970 --> 00:41:56,069
early<font color="#CCCCCC"> nineties</font><font color="#E5E5E5"> mid-90s was to stop this</font>

981
00:41:53,160 --> 00:41:59,580
sort of thing happening customer link

982
00:41:56,070 --> 00:42:01,560
returns / 23 network is now visible we

983
00:41:59,580 --> 00:42:04,350
advertised<font color="#CCCCCC"> appears propagates through</font>

984
00:42:01,560 --> 00:42:07,080
the internet all hang about some<font color="#E5E5E5"> people</font>

985
00:42:04,350 --> 00:42:08,310
still doing flat damping so what does<font color="#CCCCCC"> it</font>

986
00:42:07,080 --> 00:42:10,890
<font color="#E5E5E5">actually probably get through the whole</font>

987
00:42:08,310 --> 00:42:12,779
internet what happens no it doesn't some

988
00:42:10,890 --> 00:42:15,000
people do flap damping still suppress

989
00:42:12,780 --> 00:42:16,320
the prefix so what happens is the

990
00:42:15,000 --> 00:42:18,680
<font color="#E5E5E5">internet may take 10 or 20 minutes</font>

991
00:42:16,320 --> 00:42:20,700
actually become visible or even<font color="#E5E5E5"> longer</font>

992
00:42:18,680 --> 00:42:22,259
it's a bit<font color="#E5E5E5"> like you know you walk into</font>

993
00:42:20,700 --> 00:42:23,819
your house and<font color="#E5E5E5"> evening switch on the</font>

994
00:42:22,260 --> 00:42:25,830
light<font color="#E5E5E5"> and it kind of flickers and</font>

995
00:42:23,820 --> 00:42:27,870
nothing happens from<font color="#E5E5E5"> but next 10 or 15</font>

996
00:42:25,830 --> 00:42:29,190
<font color="#CCCCCC">minutes and</font><font color="#E5E5E5"> then it comes on it's like a</font>

997
00:42:27,870 --> 00:42:31,560
sort of server so you switch on<font color="#E5E5E5"> your</font>

998
00:42:29,190 --> 00:42:34,380
mobile phone and<font color="#CCCCCC"> you don't</font><font color="#E5E5E5"> get service</font>

999
00:42:31,560 --> 00:42:36,630
for another 10 or 15<font color="#CCCCCC"> minutes now that's</font>

1000
00:42:34,380 --> 00:42:38,130
unacceptable in any other world but why

1001
00:42:36,630 --> 00:42:39,960
is it acceptable here in internet and i

1002
00:42:38,130 --> 00:42:42,300
find this totally bizarre again<font color="#CCCCCC"> there's</font>

1003
00:42:39,960 --> 00:42:45,060
<font color="#CCCCCC">no</font><font color="#E5E5E5"> these strange things that are SP some</font>

1004
00:42:42,300 --> 00:42:46,980
ice<font color="#E5E5E5"> P seem to think this is good and</font>

1005
00:42:45,060 --> 00:42:49,950
when I challenge them with this<font color="#E5E5E5"> it's</font>

1006
00:42:46,980 --> 00:42:52,230
kind of do but it works doesn't it the

1007
00:42:49,950 --> 00:42:54,930
internet is it's like any other service

1008
00:42:52,230 --> 00:42:57,510
<font color="#CCCCCC">it's no you pay for something you expect</font>

1009
00:42:54,930 --> 00:42:59,549
it to<font color="#E5E5E5"> be there when you</font><font color="#CCCCCC"> need it well as</font>

1010
00:42:57,510 --> 00:43:01,530
if RFP was actually announcing an

1011
00:42:59,550 --> 00:43:03,720
aggregate as well or<font color="#CCCCCC"> even just</font>

1012
00:43:01,530 --> 00:43:05,970
announcing as aggregate because you no

1013
00:43:03,720 --> 00:43:08,310
need to do anything else it actually

1014
00:43:05,970 --> 00:43:10,890
works better customer link goes down 23

1015
00:43:08,310 --> 00:43:13,710
disappears withdrawn from a s100 ibgp

1016
00:43:10,890 --> 00:43:15,390
and that's it because the<font color="#E5E5E5"> 19 aggregate</font>

1017
00:43:13,710 --> 00:43:18,120
still announced<font color="#CCCCCC"> no propagation delays</font>

1018
00:43:15,390 --> 00:43:21,600
nobody else sees the change<font color="#E5E5E5"> and all is</font>

1019
00:43:18,120 --> 00:43:23,250
fine or going back<font color="#E5E5E5"> to my analogy it's a</font>

1020
00:43:21,600 --> 00:43:25,290
bit like if you switch the light off in

1021
00:43:23,250 --> 00:43:28,160
<font color="#E5E5E5">your house the lights run the whole</font>

1022
00:43:25,290 --> 00:43:30,930
world flicker you shouldn't have that

1023
00:43:28,160 --> 00:43:34,290
customer link returns / 23 network is

1024
00:43:30,930 --> 00:43:37,560
visible again 23 is reinjected into s1

1025
00:43:34,290 --> 00:43:39,029
hundreds ibgp and that's it so nice<font color="#CCCCCC"> be</font>

1026
00:43:37,560 --> 00:43:40,740
or the customer wants<font color="#E5E5E5"> this network</font>

1027
00:43:39,030 --> 00:43:42,600
connection he switches as writer on or

1028
00:43:40,740 --> 00:43:44,729
as<font color="#E5E5E5"> PC on you can download his email</font>

1029
00:43:42,600 --> 00:43:47,250
everything<font color="#E5E5E5"> just works that's how it</font>

1030
00:43:44,730 --> 00:43:49,920
<font color="#E5E5E5">should be well this</font><font color="#CCCCCC"> is how I was brought</font>

1031
00:43:47,250 --> 00:43:52,500
up Libya was just you know that's how

1032
00:43:49,920 --> 00:43:54,720
<font color="#E5E5E5">all the folks i was around in europe</font>

1033
00:43:52,500 --> 00:43:55,470
were in<font color="#E5E5E5"> the early 90s this is how you do</font>

1034
00:43:54,720 --> 00:43:57,000
things

1035
00:43:55,470 --> 00:43:58,560
there's no<font color="#E5E5E5"> other way to do it nobody</font>

1036
00:43:57,000 --> 00:44:00,840
could conceive of any other<font color="#E5E5E5"> way of</font><font color="#CCCCCC"> doing</font>

1037
00:43:58,560 --> 00:44:02,430
it I bgp was internal and you just

1038
00:44:00,840 --> 00:44:04,320
announce you aggregate I'd band but

1039
00:44:02,430 --> 00:44:05,759
these days it seems to<font color="#E5E5E5"> be yeah we'll</font>

1040
00:44:04,320 --> 00:44:07,770
just announced any old junk out to the

1041
00:44:05,760 --> 00:44:12,330
network somebody else's problem as long

1042
00:44:07,770 --> 00:44:13,859
as it's good for me anyway so why do so

1043
00:44:12,330 --> 00:44:15,859
many still do it is it lack of knowledge

1044
00:44:13,859 --> 00:44:21,869
gosh I've done enough of these tutorials

1045
00:44:15,859 --> 00:44:23,130
laziness who knows anyway so 30<font color="#CCCCCC"> okay</font>

1046
00:44:21,869 --> 00:44:24,660
says internet today this was thirty

1047
00:44:23,130 --> 00:44:28,230
first of august one is doing the slides

1048
00:44:24,660 --> 00:44:32,970
so was 329 thousand prefixes my view

1049
00:44:28,230 --> 00:44:35,880
meanwhile what rip out a month later I

1050
00:44:32,970 --> 00:44:39,080
think<font color="#CCCCCC"> I'm up to about 333,000 prefixes</font>

1051
00:44:35,880 --> 00:44:41,130
<font color="#E5E5E5">Matt so adding about</font><font color="#CCCCCC"> 3,000 a month</font>

1052
00:44:39,080 --> 00:44:43,140
wonder what it's<font color="#CCCCCC"> going to be next</font><font color="#E5E5E5"> year</font>

1053
00:44:41,130 --> 00:44:45,060
<font color="#E5E5E5">anyway this is part of my writing</font>

1054
00:44:43,140 --> 00:44:46,920
analysis those of you who on the<font color="#CCCCCC"> nano</font>

1055
00:44:45,060 --> 00:44:49,710
mailing list will see us and<font color="#CCCCCC"> with spam</font>

1056
00:44:46,920 --> 00:44:52,050
every week that does send this report

1057
00:44:49,710 --> 00:44:54,750
that I'm doing Jeff Houston descends<font color="#CCCCCC"> the</font>

1058
00:44:52,050 --> 00:44:56,369
cyber report as<font color="#CCCCCC"> well so you get lots of</font>

1059
00:44:54,750 --> 00:44:58,380
this analysis stuff that's happening if

1060
00:44:56,369 --> 00:45:00,690
you want to read it but one thing

1061
00:44:58,380 --> 00:45:03,510
actually do is I take the BGP table as

1062
00:45:00,690 --> 00:45:05,910
it is and aggregate it so I do what is

1063
00:45:03,510 --> 00:45:08,070
<font color="#E5E5E5">BS have forgotten to do I actually do</font>

1064
00:45:05,910 --> 00:45:10,560
the aggregation for them the beach be

1065
00:45:08,070 --> 00:45:12,599
table goes down to 150<font color="#E5E5E5"> 1000 prefixes if</font>

1066
00:45:10,560 --> 00:45:15,540
you do that with<font color="#CCCCCC"> no loss of</font><font color="#E5E5E5"> information</font>

1067
00:45:12,599 --> 00:45:19,650
nor was<font color="#E5E5E5"> it has nothing quite incredible</font>

1068
00:45:15,540 --> 00:45:23,070
really so we've got 170,000<font color="#CCCCCC"> 180,000</font>

1069
00:45:19,650 --> 00:45:25,320
prefix is almost of junk that's actually

1070
00:45:23,070 --> 00:45:27,630
a bad sign there's more junk in<font color="#E5E5E5"> the BGP</font>

1071
00:45:25,320 --> 00:45:29,760
table and there's<font color="#CCCCCC"> actually good stuff so</font>

1072
00:45:27,630 --> 00:45:31,680
I'm<font color="#E5E5E5"> just waiting I'm waiting for</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> day</font>

1073
00:45:29,760 --> 00:45:34,530
that some<font color="#E5E5E5"> ISPs a right I've enough</font>

1074
00:45:31,680 --> 00:45:36,569
carrying 330,000 of junk<font color="#E5E5E5"> I'm actually</font>

1075
00:45:34,530 --> 00:45:39,210
going<font color="#E5E5E5"> to filter out and keep only the</font>

1076
00:45:36,570 --> 00:45:40,890
good stuff it's got to come soon it's

1077
00:45:39,210 --> 00:45:42,510
really got to come with riotous needing

1078
00:45:40,890 --> 00:45:45,690
almost a gig of ram now to carry

1079
00:45:42,510 --> 00:45:48,390
everything<font color="#E5E5E5"> nevermind the poor folks are</font>

1080
00:45:45,690 --> 00:45:49,859
doing mpls and you know carrier carrier

1081
00:45:48,390 --> 00:45:54,029
kind of stuff we were carrying multiple

1082
00:45:49,859 --> 00:45:56,220
versions of this either<font color="#E5E5E5"> that or they're</font>

1083
00:45:54,030 --> 00:45:59,520
<font color="#E5E5E5">just going to get lots of gigs of ram</font>

1084
00:45:56,220 --> 00:46:03,149
and the routers and so yes other things

1085
00:45:59,520 --> 00:46:04,900
here / 24 171,000 / 24<font color="#E5E5E5"> s on the</font>

1086
00:46:03,150 --> 00:46:07,180
thirty-first of<font color="#E5E5E5"> august</font>

1087
00:46:04,900 --> 00:46:09,760
there are almost 35,000 autonomous

1088
00:46:07,180 --> 00:46:11,410
systems and what else so it's kind of

1089
00:46:09,760 --> 00:46:13,930
the new swamp spaced I've just put some

1090
00:46:11,410 --> 00:46:17,109
in comparison febri 99 is when<font color="#E5E5E5"> I started</font>

1091
00:46:13,930 --> 00:46:18,370
<font color="#CCCCCC">doing this registry blocks contributed</font>

1092
00:46:17,110 --> 00:46:21,100
eighty-eight percent of the routing

1093
00:46:18,370 --> 00:46:24,430
table so that was the size you look at

1094
00:46:21,100 --> 00:46:27,220
some classics here so 193 / 8 that's<font color="#CCCCCC"> the</font>

1095
00:46:24,430 --> 00:46:31,149
ripe NCC so<font color="#E5E5E5"> it's European bloc it was</font>

1096
00:46:27,220 --> 00:46:33,640
fully allocated back in February 99 2390

1097
00:46:31,150 --> 00:46:35,950
prefixes people will<font color="#CCCCCC"> multi-homing doing</font>

1098
00:46:33,640 --> 00:46:38,470
traffic engineering<font color="#E5E5E5"> leaking sub prefixes</font>

1099
00:46:35,950 --> 00:46:43,270
all the rest great what else can<font color="#E5E5E5"> i pick</font>

1100
00:46:38,470 --> 00:46:45,759
on to a 3 / 8 2 a 2 / 8<font color="#CCCCCC"> linked to a</font><font color="#E5E5E5"> two</font>

1101
00:46:43,270 --> 00:46:51,370
<font color="#CCCCCC">and</font><font color="#E5E5E5"> two or three years in</font><font color="#CCCCCC"> Asia look at</font>

1102
00:46:45,760 --> 00:46:56,530
them 2276<font color="#CCCCCC"> 3 yeah 3622 now watch as I</font>

1103
00:46:51,370 --> 00:47:02,290
move forward<font color="#E5E5E5"> 11 years to a 2 / 8 11,300</font>

1104
00:46:56,530 --> 00:47:05,200
3 / 8 1 16 7 7 193 / 8 6820 is<font color="#E5E5E5"> doubled</font>

1105
00:47:02,290 --> 00:47:07,600
how can it have doubled what's changed

1106
00:47:05,200 --> 00:47:10,899
<font color="#CCCCCC">in the network I mean it's fully</font>

1107
00:47:07,600 --> 00:47:12,730
allocated from the ripe NCC yes<font color="#E5E5E5"> iOS peas</font>

1108
00:47:10,900 --> 00:47:15,070
may have got more into connections with

1109
00:47:12,730 --> 00:47:19,120
each other that probably<font color="#E5E5E5"> is more</font>

1110
00:47:15,070 --> 00:47:21,250
<font color="#CCCCCC">multi-homing going on but the bolt or</font>

1111
00:47:19,120 --> 00:47:23,620
even while these it mean these are just

1112
00:47:21,250 --> 00:47:27,520
scary 11,000 we have the whole internet

1113
00:47:23,620 --> 00:47:29,230
<font color="#E5E5E5">went 11,000 / / 8 well I've got some</font>

1114
00:47:27,520 --> 00:47:34,860
numbers looking at<font color="#E5E5E5"> that I mean even if</font>

1115
00:47:29,230 --> 00:47:42,490
we did 5,000 per / 8 would end up with

1116
00:47:34,860 --> 00:47:45,720
530,000 prefixes in the BGP table the 14

1117
00:47:42,490 --> 00:47:50,049
other / eights left to look<font color="#E5E5E5"> at all that</font>

1118
00:47:45,720 --> 00:47:52,600
762 thousand prefixes and that's only

1119
00:47:50,050 --> 00:47:56,290
with<font color="#E5E5E5"> 5000 / /a what if it went to like</font>

1120
00:47:52,600 --> 00:47:59,200
two<font color="#CCCCCC"> or 2 / 8 it would double cigna 1.6</font>

1121
00:47:56,290 --> 00:48:00,430
million prefixes thing about<font color="#E5E5E5"> I work for</font>

1122
00:47:59,200 --> 00:48:03,580
a<font color="#E5E5E5"> vendors and this meant to be a good</font>

1123
00:48:00,430 --> 00:48:05,919
<font color="#E5E5E5">thing means i can sell more memory and</font>

1124
00:48:03,580 --> 00:48:09,250
bigger routers to the ISPs that's not

1125
00:48:05,920 --> 00:48:11,020
the<font color="#CCCCCC"> point in assists it's just the usual</font>

1126
00:48:09,250 --> 00:48:12,300
thing you don't want<font color="#E5E5E5"> to make it somebody</font>

1127
00:48:11,020 --> 00:48:15,210
else's<font color="#CCCCCC"> problem</font>

1128
00:48:12,300 --> 00:48:16,560
<font color="#E5E5E5">I'm not</font><font color="#CCCCCC"> even going to start on the v4</font>

1129
00:48:15,210 --> 00:48:19,020
<font color="#E5E5E5">run out policies in the different</font>

1130
00:48:16,560 --> 00:48:20,850
registry regions where it's going the

1131
00:48:19,020 --> 00:48:23,370
final / 8 is going to be chopped up into

1132
00:48:20,850 --> 00:48:24,960
tiny little pieces and not even going to

1133
00:48:23,370 --> 00:48:26,460
<font color="#E5E5E5">talk about address transfer markets</font>

1134
00:48:24,960 --> 00:48:28,470
which will probably happen next year as

1135
00:48:26,460 --> 00:48:30,960
<font color="#CCCCCC">well which means opping up more of</font>

1136
00:48:28,470 --> 00:48:32,879
address space so this PGP table I'm

1137
00:48:30,960 --> 00:48:36,480
probably<font color="#E5E5E5"> being toward the conservative</font>

1138
00:48:32,880 --> 00:48:40,560
at that sort of size who wants<font color="#CCCCCC"> to</font><font color="#E5E5E5"> go</font>

1139
00:48:36,480 --> 00:48:42,360
shopping<font color="#CCCCCC"> for memory anyway but you know</font>

1140
00:48:40,560 --> 00:48:45,240
it's generally pretty serious issue and

1141
00:48:42,360 --> 00:48:46,320
I kind of hope<font color="#CCCCCC"> that ISPs pay more</font>

1142
00:48:45,240 --> 00:48:48,509
attention to what they're actually

1143
00:48:46,320 --> 00:48:51,300
letting the customer sent them rather

1144
00:48:48,510 --> 00:48:53,040
than just accepting any old rubbish if

1145
00:48:51,300 --> 00:48:54,480
they're going<font color="#E5E5E5"> to do traffic engineering</font>

1146
00:48:53,040 --> 00:48:57,029
find out what the traffic engineering

1147
00:48:54,480 --> 00:48:59,570
prefixes are and just<font color="#CCCCCC"> allow those in the</font>

1148
00:48:57,030 --> 00:49:02,250
filters it takes more<font color="#E5E5E5"> work but then</font>

1149
00:48:59,570 --> 00:49:04,710
means we don't<font color="#E5E5E5"> end up with a massive BGP</font>

1150
00:49:02,250 --> 00:49:07,380
table when a big BGP table think what it

1151
00:49:04,710 --> 00:49:09,510
does the convergence time how long<font color="#CCCCCC"> does</font>

1152
00:49:07,380 --> 00:49:11,760
it take to load into the rioters it's

1153
00:49:09,510 --> 00:49:14,340
two three four<font color="#E5E5E5"> minutes is that</font><font color="#CCCCCC"> okay to</font>

1154
00:49:11,760 --> 00:49:16,530
<font color="#E5E5E5">load the full BGP table or maybe 10</font>

1155
00:49:14,340 --> 00:49:19,050
minutes<font color="#E5E5E5"> if you've got</font><font color="#CCCCCC"> multi-homing to</font>

1156
00:49:16,530 --> 00:49:21,030
<font color="#CCCCCC">BGP feeds full BGP table 1 link falls</font>

1157
00:49:19,050 --> 00:49:23,520
over how long do you want<font color="#E5E5E5"> to wait</font><font color="#CCCCCC"> for</font>

1158
00:49:21,030 --> 00:49:25,110
the<font color="#E5E5E5"> other link to become useful yes your</font>

1159
00:49:23,520 --> 00:49:27,330
<font color="#E5E5E5">vendors can do different tricks to make</font>

1160
00:49:25,110 --> 00:49:29,040
it faster but what if<font color="#CCCCCC"> you don't</font><font color="#E5E5E5"> have a</font>

1161
00:49:27,330 --> 00:49:31,200
router platform that can do<font color="#CCCCCC"> all the</font>

1162
00:49:29,040 --> 00:49:34,529
tricks anyway these are open questions

1163
00:49:31,200 --> 00:49:38,580
<font color="#E5E5E5">I'm not going to go into explanation of</font>

1164
00:49:34,530 --> 00:49:40,110
the mole em anyway traffic engineering I

1165
00:49:38,580 --> 00:49:42,330
don't think<font color="#E5E5E5"> traffic engineering willing</font>

1166
00:49:40,110 --> 00:49:44,790
it is all it there's a<font color="#E5E5E5"> lot of mean I</font>

1167
00:49:42,330 --> 00:49:48,450
know there's<font color="#E5E5E5"> a lot</font><font color="#CCCCCC"> of want and laziness</font>

1168
00:49:44,790 --> 00:49:50,430
out there now the side report as some of

1169
00:49:48,450 --> 00:49:52,710
<font color="#CCCCCC">you may remember Tony Bates started that</font>

1170
00:49:50,430 --> 00:49:55,290
when did<font color="#E5E5E5"> he start at nine to four or so</font>

1171
00:49:52,710 --> 00:49:57,510
he started it as we move from class fool

1172
00:49:55,290 --> 00:49:59,640
to classless routing side report was

1173
00:49:57,510 --> 00:50:01,400
intended<font color="#CCCCCC"> to encourage people to start</font>

1174
00:49:59,640 --> 00:50:06,569
<font color="#CCCCCC">site arising because what happened was</font>

1175
00:50:01,400 --> 00:50:08,370
before we used classless routing and jon

1176
00:50:06,570 --> 00:50:10,650
postel was handing<font color="#CCCCCC"> out blocks of class</font>

1177
00:50:08,370 --> 00:50:13,140
sees<font color="#CCCCCC"> is peas rather than</font><font color="#E5E5E5"> handing</font><font color="#CCCCCC"> at</font>

1178
00:50:10,650 --> 00:50:14,850
class<font color="#E5E5E5"> B's so this side report was</font>

1179
00:50:13,140 --> 00:50:18,509
designed to courage people with 16 class

1180
00:50:14,850 --> 00:50:21,630
sees or contiguous classes of 32<font color="#E5E5E5"> class</font>

1181
00:50:18,510 --> 00:50:23,650
sees to announce a / 20 or / 19 instead

1182
00:50:21,630 --> 00:50:25,360
and so as a kind of

1183
00:50:23,650 --> 00:50:26,890
I suppose hall of shame or something

1184
00:50:25,360 --> 00:50:31,090
like that to persuade people to move

1185
00:50:26,890 --> 00:50:33,279
<font color="#E5E5E5">over when i joined cisco 1998 and by</font>

1186
00:50:31,090 --> 00:50:35,560
that<font color="#E5E5E5"> time the side report had become a</font>

1187
00:50:33,280 --> 00:50:37,570
marking the marketing departments dream

1188
00:50:35,560 --> 00:50:39,220
of hey we're number three in the<font color="#E5E5E5"> side</font>

1189
00:50:37,570 --> 00:50:42,190
report<font color="#CCCCCC"> we're number three</font><font color="#E5E5E5"> is p in</font><font color="#CCCCCC"> the</font>

1190
00:50:39,220 --> 00:50:43,899
world and seriously people<font color="#E5E5E5"> were saying</font>

1191
00:50:42,190 --> 00:50:45,700
side report was a<font color="#E5E5E5"> positive thing that's</font>

1192
00:50:43,900 --> 00:50:48,580
like no you're not<font color="#CCCCCC"> you're number three</font>

1193
00:50:45,700 --> 00:50:51,129
idiot because<font color="#E5E5E5"> he definitely shouldn't be</font>

1194
00:50:48,580 --> 00:50:54,310
you<font color="#E5E5E5"> definitely shouldn't be</font><font color="#CCCCCC"> a appearing</font>

1195
00:50:51,130 --> 00:50:56,140
on the list at all so mean<font color="#E5E5E5"> i took i</font>

1196
00:50:54,310 --> 00:50:58,150
looked at it<font color="#E5E5E5"> for a while Jeff Houston</font>

1197
00:50:56,140 --> 00:51:01,000
when he left Telstra and joined<font color="#E5E5E5"> ap Nick</font>

1198
00:50:58,150 --> 00:51:03,070
he started doing<font color="#E5E5E5"> and a lot of work and</font>

1199
00:51:01,000 --> 00:51:05,080
looking at the writing table and so the

1200
00:51:03,070 --> 00:51:07,030
side report is now part of of his

1201
00:51:05,080 --> 00:51:08,440
activity so I think<font color="#CCCCCC"> I've got a few</font>

1202
00:51:07,030 --> 00:51:10,420
slides about it it's really<font color="#E5E5E5"> interesting</font>

1203
00:51:08,440 --> 00:51:12,100
place to go and<font color="#E5E5E5"> have a look when there's</font>

1204
00:51:10,420 --> 00:51:14,380
a ripe writing working group we did an

1205
00:51:12,100 --> 00:51:17,110
aggregation aggregation recommendations

1206
00:51:14,380 --> 00:51:19,780
document again encouraging<font color="#CCCCCC"> io ESPYs</font>

1207
00:51:17,110 --> 00:51:21,760
we're documenting the obvious in rob

1208
00:51:19,780 --> 00:51:24,460
evans and i think was<font color="#CCCCCC"> mike hughes and I</font>

1209
00:51:21,760 --> 00:51:26,350
when we did it we just like well we're

1210
00:51:24,460 --> 00:51:28,000
<font color="#E5E5E5">documenting obvious but we reckon</font>

1211
00:51:26,350 --> 00:51:30,130
there's a fair amount of lack<font color="#CCCCCC"> of</font>

1212
00:51:28,000 --> 00:51:33,250
documentation of<font color="#E5E5E5"> Bob Dolph of the</font>

1213
00:51:30,130 --> 00:51:35,320
<font color="#CCCCCC">obvious and where the hope was it will</font>

1214
00:51:33,250 --> 00:51:37,630
encourage eyes peas to read the document

1215
00:51:35,320 --> 00:51:41,380
and figure out how really tonight's

1216
00:51:37,630 --> 00:51:43,450
prefixes anyway side report web<font color="#CCCCCC"> page</font>

1217
00:51:41,380 --> 00:51:47,560
looks something like this so yeah looks

1218
00:51:43,450 --> 00:51:49,600
like that you can do things<font color="#E5E5E5"> like so this</font>

1219
00:51:47,560 --> 00:51:52,930
one's for aggregation<font color="#CCCCCC"> summaries so here</font>

1220
00:51:49,600 --> 00:51:56,819
the number of prefixes being announced

1221
00:51:52,930 --> 00:52:02,649
so<font color="#E5E5E5"> Jeff's view has but 335,000 prefixes</font>

1222
00:51:56,820 --> 00:52:05,800
as6 389<font color="#CCCCCC"> and icing 3824 after aggregation</font>

1223
00:52:02,650 --> 00:52:10,020
it would be down to 278 so there's the

1224
00:52:05,800 --> 00:52:12,970
number one savings could be made<font color="#E5E5E5"> 3546</font>

1225
00:52:10,020 --> 00:52:16,300
full of I<font color="#E5E5E5"> don't know setlist</font>

1226
00:52:12,970 --> 00:52:18,790
announcements to put it politely TWTC

1227
00:52:16,300 --> 00:52:20,770
number to verizon online free and so on

1228
00:52:18,790 --> 00:52:24,540
you can go<font color="#E5E5E5"> through the list</font><font color="#CCCCCC"> by career</font>

1229
00:52:20,770 --> 00:52:26,830
telecom so this transit network in Korea

1230
00:52:24,540 --> 00:52:29,440
again this new aggregation happening

1231
00:52:26,830 --> 00:52:30,580
there whatsoever at all now you can<font color="#E5E5E5"> go</font>

1232
00:52:29,440 --> 00:52:33,850
through<font color="#CCCCCC"> the list but some really</font>

1233
00:52:30,580 --> 00:52:35,290
stunning<font color="#CCCCCC"> ones here</font><font color="#E5E5E5"> I won't point out the</font>

1234
00:52:33,850 --> 00:52:37,660
stunning ones i'll just get lined up

1235
00:52:35,290 --> 00:52:39,250
<font color="#E5E5E5">suit Benny</font><font color="#CCCCCC"> we can</font><font color="#E5E5E5"> you can see the list</font>

1236
00:52:37,660 --> 00:52:42,580
this is this is the top I don't know

1237
00:52:39,250 --> 00:52:44,920
what it is top 20 or something but folks

1238
00:52:42,580 --> 00:52:46,720
that could do better in aggregation<font color="#E5E5E5"> need</font>

1239
00:52:44,920 --> 00:52:48,340
some of them have done a lot<font color="#E5E5E5"> of work i</font>

1240
00:52:46,720 --> 00:52:49,959
<font color="#E5E5E5">think you know i should mention china</font>

1241
00:52:48,340 --> 00:52:51,940
telecom they spend about two years

1242
00:52:49,960 --> 00:52:53,470
getting<font color="#E5E5E5"> away from number one on the list</font>

1243
00:52:51,940 --> 00:52:56,970
<font color="#E5E5E5">because it did really like being there</font>

1244
00:52:53,470 --> 00:53:00,069
and<font color="#E5E5E5"> so now the i play on the list i</font>

1245
00:52:56,970 --> 00:53:03,160
don't think<font color="#E5E5E5"> they are I mean there's this</font>

1246
00:53:00,070 --> 00:53:04,600
room that's a different network so you

1247
00:53:03,160 --> 00:53:06,730
know getting off that<font color="#E5E5E5"> list is actually</font>

1248
00:53:04,600 --> 00:53:10,450
<font color="#CCCCCC">seen important as nurse responsible</font>

1249
00:53:06,730 --> 00:53:12,520
operation anyway i'll move on top 20

1250
00:53:10,450 --> 00:53:14,970
added routes / originating air sensor

1251
00:53:12,520 --> 00:53:18,100
can see all these sort of things so

1252
00:53:14,970 --> 00:53:19,870
there's that connect whoever they are

1253
00:53:18,100 --> 00:53:21,670
wherever they are they've added 143

1254
00:53:19,870 --> 00:53:24,880
prefixes and so on<font color="#E5E5E5"> that type of thing</font>

1255
00:53:21,670 --> 00:53:26,860
who's done withdrawn 219 prefixes

1256
00:53:24,880 --> 00:53:28,210
disappeared from<font color="#CCCCCC"> belgic</font><font color="#E5E5E5"> um Skynet either</font>

1257
00:53:26,860 --> 00:53:30,510
because they switch to the network off

1258
00:53:28,210 --> 00:53:35,490
or they did some aggregation or what

1259
00:53:30,510 --> 00:53:38,050
more specifics so this<font color="#CCCCCC"> is looking</font><font color="#E5E5E5"> at</font>

1260
00:53:35,490 --> 00:53:40,720
<font color="#E5E5E5">their</font><font color="#CCCCCC"> advertisements a more specific</font>

1261
00:53:38,050 --> 00:53:42,430
than original class-based prefix mask or

1262
00:53:40,720 --> 00:53:44,830
more specific than the register

1263
00:53:42,430 --> 00:53:46,060
allocation size so again you see the

1264
00:53:44,830 --> 00:53:47,650
list there who have taken<font color="#CCCCCC"> the minimum</font>

1265
00:53:46,060 --> 00:53:49,570
allocation from the registry for that

1266
00:53:47,650 --> 00:53:54,610
address block and just chopped it into

1267
00:53:49,570 --> 00:53:57,040
little pieces so here okay here's a

1268
00:53:54,610 --> 00:53:58,720
typical thing at the bottom of the<font color="#E5E5E5"> main</font>

1269
00:53:57,040 --> 00:54:00,790
page of the side report you<font color="#CCCCCC"> can put your</font>

1270
00:53:58,720 --> 00:54:04,209
<font color="#CCCCCC">asin and it gives you a gregation</font>

1271
00:54:00,790 --> 00:54:06,670
recommendations so<font color="#CCCCCC"> i did it for a s4 755</font>

1272
00:54:04,210 --> 00:54:08,950
which is my favorite<font color="#CCCCCC"> pic on one in the</font>

1273
00:54:06,670 --> 00:54:12,520
asia-pacific<font color="#E5E5E5"> region because they're</font>

1274
00:54:08,950 --> 00:54:14,500
announcing 24 23 22 is<font color="#CCCCCC"> twenty ones what</font>

1275
00:54:12,520 --> 00:54:16,720
they do<font color="#CCCCCC"> is when a customer connects they</font>

1276
00:54:14,500 --> 00:54:19,030
<font color="#E5E5E5">announced that customer address block to</font>

1277
00:54:16,720 --> 00:54:20,980
the internet when they do announced that

1278
00:54:19,030 --> 00:54:25,180
aggregate as well but<font color="#CCCCCC"> announced all the</font>

1279
00:54:20,980 --> 00:54:27,760
pieces and I've Satan guys<font color="#CCCCCC"> ibgp</font><font color="#E5E5E5"> is not</font>

1280
00:54:25,180 --> 00:54:29,830
ebgp I beach peace inside the BGP is

1281
00:54:27,760 --> 00:54:31,150
outside you don't<font color="#E5E5E5"> need</font><font color="#CCCCCC"> to announce all</font>

1282
00:54:29,830 --> 00:54:34,870
this stuff<font color="#E5E5E5"> although we're doing traffic</font>

1283
00:54:31,150 --> 00:54:37,930
engineering no this is your ibgp I work

1284
00:54:34,870 --> 00:54:41,170
I get access to your customer of yours I

1285
00:54:37,930 --> 00:54:43,029
can actually<font color="#E5E5E5"> see all this so and you can</font>

1286
00:54:41,170 --> 00:54:44,110
do this for all the here's another

1287
00:54:43,030 --> 00:54:46,090
one

1288
00:54:44,110 --> 00:54:48,700
another another example of what's

1289
00:54:46,090 --> 00:54:53,500
actually going on and you pop in any a s

1290
00:54:48,700 --> 00:54:55,899
and you can see what they do so sighs of

1291
00:54:53,500 --> 00:54:59,500
writing table well<font color="#E5E5E5"> writer memory is that</font>

1292
00:54:55,900 --> 00:55:01,390
<font color="#CCCCCC">a problem apparently not writers can</font>

1293
00:54:59,500 --> 00:55:02,890
carry million-plus prefixes two million

1294
00:55:01,390 --> 00:55:05,080
three million seems to work in the lab

1295
00:55:02,890 --> 00:55:07,299
gosh I hope<font color="#E5E5E5"> it works in real life but</font>

1296
00:55:05,080 --> 00:55:09,460
<font color="#CCCCCC">you can do this in the</font><font color="#E5E5E5"> lab and</font><font color="#CCCCCC"> it seems</font>

1297
00:55:07,300 --> 00:55:11,590
to<font color="#CCCCCC"> be</font><font color="#E5E5E5"> okay you can put four gigs of</font><font color="#CCCCCC"> RAM</font>

1298
00:55:09,460 --> 00:55:14,080
in there and it'll keep us going for a

1299
00:55:11,590 --> 00:55:15,460
year<font color="#CCCCCC"> or two what about convergence of</font>

1300
00:55:14,080 --> 00:55:17,110
<font color="#E5E5E5">the writing system how long does that</font>

1301
00:55:15,460 --> 00:55:19,570
<font color="#E5E5E5">actually take well it depends on your</font>

1302
00:55:17,110 --> 00:55:21,130
cpu sure you can go to your<font color="#E5E5E5"> vendors and</font>

1303
00:55:19,570 --> 00:55:24,730
keep them happy by buying the latest

1304
00:55:21,130 --> 00:55:26,080
<font color="#E5E5E5">CPUs but that you know it's a bit like</font>

1305
00:55:24,730 --> 00:55:27,910
you know if your car is<font color="#E5E5E5"> not going fast</font>

1306
00:55:26,080 --> 00:55:32,650
enough do you put a bigger turbo charger

1307
00:55:27,910 --> 00:55:35,200
into it so anyway<font color="#CCCCCC"> beach it updates take</font>

1308
00:55:32,650 --> 00:55:37,900
longer to deal with there's also the BGP

1309
00:55:35,200 --> 00:55:39,580
and stability report and this used to be

1310
00:55:37,900 --> 00:55:41,260
quite spectacular when Jeff started

1311
00:55:39,580 --> 00:55:43,000
doing it but it seems to<font color="#E5E5E5"> have come down</font>

1312
00:55:41,260 --> 00:55:44,980
<font color="#CCCCCC">when we started</font><font color="#E5E5E5"> doing this it was a</font><font color="#CCCCCC"> ripe</font>

1313
00:55:43,000 --> 00:55:47,950
meeting in Istanbul and it was<font color="#CCCCCC"> actually</font>

1314
00:55:44,980 --> 00:55:51,850
localhost there who was top<font color="#CCCCCC"> of</font><font color="#E5E5E5"> the</font>

1315
00:55:47,950 --> 00:55:53,890
report by a mile and but the updates

1316
00:55:51,850 --> 00:55:56,170
<font color="#E5E5E5">don't seem to be quite as bad as we</font>

1317
00:55:53,890 --> 00:55:58,029
expect but they're still noticeable so

1318
00:55:56,170 --> 00:56:01,300
this<font color="#CCCCCC"> is looking</font><font color="#E5E5E5"> at the instability in</font>

1319
00:55:58,030 --> 00:56:03,400
the last seven days so what<font color="#CCCCCC"> okay so in</font>

1320
00:56:01,300 --> 00:56:07,720
the last seven days as3<font color="#CCCCCC"> five five six</font>

1321
00:56:03,400 --> 00:56:11,290
<font color="#CCCCCC">seven has sent 71,000 updates give you a</font>

1322
00:56:07,720 --> 00:56:15,220
clue in seven days 10000 updates is one

1323
00:56:11,290 --> 00:56:18,070
update per minute so 70,000 updates

1324
00:56:15,220 --> 00:56:21,160
means they have done seven updates per

1325
00:56:18,070 --> 00:56:23,140
minute how can you do seven updates per

1326
00:56:21,160 --> 00:56:24,970
minute I mean gosh is a lot of flapping

1327
00:56:23,140 --> 00:56:26,470
going on there yeah even if you count

1328
00:56:24,970 --> 00:56:29,410
for<font color="#E5E5E5"> all the different diverse powers to</font>

1329
00:56:26,470 --> 00:56:32,799
get to Australia seven updates per

1330
00:56:29,410 --> 00:56:36,759
minute is spectacular<font color="#CCCCCC"> and it's not them</font>

1331
00:56:32,800 --> 00:56:41,290
you know it's also 50 or 50,000 from

1332
00:56:36,760 --> 00:56:46,340
Bahrain 29,000 from<font color="#CCCCCC"> their 25,000 from</font>

1333
00:56:41,290 --> 00:56:49,810
here 23,000 from their regular feature

1334
00:56:46,340 --> 00:56:52,220
the top of all these lists right so it's

1335
00:56:49,810 --> 00:56:54,110
it's quite a significant amount of

1336
00:56:52,220 --> 00:56:57,140
update it's<font color="#E5E5E5"> not as spectacular as it</font>

1337
00:56:54,110 --> 00:56:59,270
used to be so if whatever reason has

1338
00:56:57,140 --> 00:57:01,970
caused that but it's still a large

1339
00:56:59,270 --> 00:57:03,800
number of updates Joe yeah particularly

1340
00:57:01,970 --> 00:57:06,529
when you see it as more out on the edge

1341
00:57:03,800 --> 00:57:08,660
it's hard to justify those in the name

1342
00:57:06,530 --> 00:57:10,670
of traffic engineering if you only have

1343
00:57:08,660 --> 00:57:13,129
one upstream why do I get so many

1344
00:57:10,670 --> 00:57:15,440
updates from you you know that's

1345
00:57:13,130 --> 00:57:17,540
<font color="#CCCCCC">actually sort of one of the really</font>

1346
00:57:15,440 --> 00:57:20,390
interesting exercises with some of those

1347
00:57:17,540 --> 00:57:22,340
on the<font color="#CCCCCC"> other hand</font><font color="#E5E5E5"> I'm having configured</font>

1348
00:57:20,390 --> 00:57:26,150
a bgp session that produced one of those

1349
00:57:22,340 --> 00:57:30,160
um at one time<font color="#CCCCCC"> I can certainly imagine</font>

1350
00:57:26,150 --> 00:57:30,160
how you could do that inadvertently

1351
00:57:31,090 --> 00:57:37,040
anyway so yeah thanks Joe<font color="#E5E5E5"> but you know</font>

1352
00:57:34,970 --> 00:57:39,020
my usual offer is to anybody appears in

1353
00:57:37,040 --> 00:57:40,880
any of these I'm happy to come and take

1354
00:57:39,020 --> 00:57:43,550
a look and<font color="#E5E5E5"> see why things are bad and</font>

1355
00:57:40,880 --> 00:57:46,810
make things<font color="#E5E5E5"> better you know I'm not here</font>

1356
00:57:43,550 --> 00:57:50,540
just to wine oh yeah for sure in my time

1357
00:57:46,810 --> 00:57:51,799
yeah<font color="#E5E5E5"> definitely no I want to see the</font>

1358
00:57:50,540 --> 00:57:53,630
internet look better place I'm not

1359
00:57:51,800 --> 00:57:56,090
whining here just to wine and look for

1360
00:57:53,630 --> 00:57:57,170
work I'm whining here because I want the

1361
00:57:56,090 --> 00:57:59,360
<font color="#CCCCCC">internet</font><font color="#E5E5E5"> to be a better place for</font>

1362
00:57:57,170 --> 00:58:01,460
everybody because if it's more unstable

1363
00:57:59,360 --> 00:58:04,550
than while none of us and business

1364
00:58:01,460 --> 00:58:07,070
that's really what it comes down to so

1365
00:58:04,550 --> 00:58:08,420
<font color="#CCCCCC">that</font><font color="#E5E5E5"> that's really why I'm here looking</font>

1366
00:58:07,070 --> 00:58:11,180
at some<font color="#CCCCCC"> of this if you look</font><font color="#E5E5E5"> at</font><font color="#CCCCCC"> the</font>

1367
00:58:08,420 --> 00:58:14,420
<font color="#E5E5E5">prefixes Alabama's</font><font color="#CCCCCC"> the super computer</font>

1368
00:58:11,180 --> 00:58:16,220
network likes bouncing lots and lots two

1369
00:58:14,420 --> 00:58:19,370
of the prefix<font color="#E5E5E5"> it's a slob 17 it's not</font>

1370
00:58:16,220 --> 00:58:24,439
like it's a / 24 it's a / 17 one per

1371
00:58:19,370 --> 00:58:26,089
minute like anyway I find<font color="#E5E5E5"> that</font><font color="#CCCCCC"> hard to</font>

1372
00:58:24,440 --> 00:58:29,930
imagine been with that's that's what's

1373
00:58:26,090 --> 00:58:31,520
happening and<font color="#CCCCCC"> okay there's a routing</font>

1374
00:58:29,930 --> 00:58:33,080
table growth so it's somewhere up there

1375
00:58:31,520 --> 00:58:35,660
for aggregated that we<font color="#E5E5E5"> somewhere down</font>

1376
00:58:33,080 --> 00:58:38,990
here so it's basically we've got all

1377
00:58:35,660 --> 00:58:41,299
this stuff of pretty<font color="#CCCCCC"> much not very</font>

1378
00:58:38,990 --> 00:58:44,359
useful<font color="#CCCCCC"> information so you can</font><font color="#E5E5E5"> scan you</font>

1379
00:58:41,300 --> 00:58:46,070
can see that<font color="#E5E5E5"> off Jeff's work thirty-five</font>

1380
00:58:44,360 --> 00:58:47,570
percent saving I reckon is very easy to

1381
00:58:46,070 --> 00:58:49,490
achieve I mean I<font color="#E5E5E5"> know people have</font>

1382
00:58:47,570 --> 00:58:51,080
<font color="#E5E5E5">started to filter the junk they only</font>

1383
00:58:49,490 --> 00:58:53,120
look for aggregates and so for there's a

1384
00:58:51,080 --> 00:58:56,299
lot of work to actually do it but they

1385
00:58:53,120 --> 00:58:56,890
<font color="#E5E5E5">can pull the bgp table down to a</font><font color="#CCCCCC"> 220,000</font>

1386
00:58:56,300 --> 00:58:59,260
prefix

1387
00:58:56,890 --> 00:59:01,390
is and if customers don't complain your

1388
00:58:59,260 --> 00:59:03,720
loss of connectivity and so that<font color="#CCCCCC"> they're</font>

1389
00:59:01,390 --> 00:59:09,339
saving themselves that quite easily

1390
00:59:03,720 --> 00:59:11,439
anyway that was<font color="#E5E5E5"> the end of the rent</font><font color="#CCCCCC"> now</font>

1391
00:59:09,340 --> 00:59:13,120
receiving prefixes so the three

1392
00:59:11,440 --> 00:59:16,180
scenarios receiving prefix and mother

1393
00:59:13,120 --> 00:59:19,299
<font color="#CCCCCC">ASNs</font><font color="#E5E5E5"> I mentioned them earlier customer</font>

1394
00:59:16,180 --> 00:59:21,819
talks bgp to you pierre talks bgp and an

1395
00:59:19,300 --> 00:59:23,140
upstream of transit talks bgp they are

1396
00:59:21,820 --> 00:59:27,370
different<font color="#CCCCCC"> we need to treat them a</font>

1397
00:59:23,140 --> 00:59:30,400
different way right so if it's for a

1398
00:59:27,370 --> 00:59:31,509
customer the first thing<font color="#E5E5E5"> to do is check</font>

1399
00:59:30,400 --> 00:59:33,580
<font color="#CCCCCC">with the address</font><font color="#E5E5E5"> space that they're</font>

1400
00:59:31,510 --> 00:59:35,470
coming along with is actually<font color="#CCCCCC"> theirs to</font>

1401
00:59:33,580 --> 00:59:38,380
a nurse now if you if you've assigned

1402
00:59:35,470 --> 00:59:39,970
<font color="#CCCCCC">them address space that's okay but if</font>

1403
00:59:38,380 --> 00:59:41,140
they turn up<font color="#E5E5E5"> with an address block and</font>

1404
00:59:39,970 --> 00:59:43,149
say oh yeah<font color="#E5E5E5"> this is my address space</font>

1405
00:59:41,140 --> 00:59:45,129
please announce it you're not meant to

1406
00:59:43,150 --> 00:59:47,680
do<font color="#E5E5E5"> they are few give me your</font><font color="#CCCCCC"> money give</font>

1407
00:59:45,130 --> 00:59:49,210
me your money I'll announce it<font color="#CCCCCC"> okay you</font>

1408
00:59:47,680 --> 00:59:51,370
meant actually check that it really is

1409
00:59:49,210 --> 00:59:53,530
theirs to announce because the bad guys

1410
00:59:51,370 --> 00:59:55,120
do this the bad guys look for address

1411
00:59:53,530 --> 00:59:57,940
space that has not been allocated and

1412
00:59:55,120 --> 00:59:59,920
let's say come up<font color="#CCCCCC"> 2nite</font><font color="#E5E5E5"> unsuspecting</font><font color="#CCCCCC"> isp</font>

1413
00:59:57,940 --> 01:00:03,010
and say hey<font color="#CCCCCC"> yeah announce this i</font><font color="#E5E5E5"> need to</font>

1414
00:59:59,920 --> 01:00:06,370
do some bad stuff<font color="#E5E5E5"> okay what they might</font>

1415
01:00:03,010 --> 01:00:08,170
do is look for address space that's used

1416
01:00:06,370 --> 01:00:09,640
by somebody else but<font color="#E5E5E5"> not actually</font>

1417
01:00:08,170 --> 01:00:11,500
<font color="#E5E5E5">present on the internet so it's actually</font>

1418
01:00:09,640 --> 01:00:12,910
<font color="#E5E5E5">listed as blowing into somebody else and</font>

1419
01:00:11,500 --> 01:00:15,250
they<font color="#E5E5E5"> just appear because nobody is going</font>

1420
01:00:12,910 --> 01:00:17,710
to suspect it so it's worth checking

1421
01:00:15,250 --> 01:00:19,390
<font color="#CCCCCC">look in the whois database</font><font color="#E5E5E5"> I mean you</font>

1422
01:00:17,710 --> 01:00:20,890
can<font color="#CCCCCC"> do it well as graphical user</font>

1423
01:00:19,390 --> 01:00:22,839
interface that's a command-line

1424
01:00:20,890 --> 01:00:25,029
interface are thrown in some examples

1425
01:00:22,840 --> 01:00:26,710
these are ancient I don't well I know

1426
01:00:25,030 --> 01:00:29,020
this one's still relatively accurate

1427
01:00:26,710 --> 01:00:32,380
look look it up see who it actually is

1428
01:00:29,020 --> 01:00:34,420
is registered to and if it's not mean if

1429
01:00:32,380 --> 01:00:35,650
it say in this case if it's not<font color="#CCCCCC"> ap Nick</font>

1430
01:00:34,420 --> 01:00:36,910
who's coming along saying please

1431
01:00:35,650 --> 01:00:40,780
announce then you probably should be

1432
01:00:36,910 --> 01:00:42,790
suspicious or something like that you

1433
01:00:40,780 --> 01:00:44,080
<font color="#CCCCCC">know if a customer leaves one RSP and</font>

1434
01:00:42,790 --> 01:00:46,240
goes to another one<font color="#CCCCCC"> and tries to take</font>

1435
01:00:44,080 --> 01:00:49,779
the previous are ESPYs address space

1436
01:00:46,240 --> 01:00:52,029
again you're not really meant to accept

1437
01:00:49,780 --> 01:00:53,740
that or you're<font color="#E5E5E5"> not meant to accept that</font>

1438
01:00:52,030 --> 01:00:54,829
because it's some other people's address

1439
01:00:53,740 --> 01:00:59,488
block

1440
01:00:54,829 --> 01:01:01,249
so do check as for<font color="#CCCCCC"> piers well they're</font>

1441
01:00:59,489 --> 01:01:05,339
the folks you're going to exchange

1442
01:01:01,249 --> 01:01:06,899
prefixes and therefore have a direct

1443
01:01:05,339 --> 01:01:09,089
interconnect with they're not going to

1444
01:01:06,900 --> 01:01:11,369
<font color="#E5E5E5">give you transit you're not going to</font>

1445
01:01:09,089 --> 01:01:13,169
give them transit and you're probably

1446
01:01:11,369 --> 01:01:16,979
<font color="#E5E5E5">not going to exchange money either it's</font>

1447
01:01:13,169 --> 01:01:18,868
a direct business relationship so what

1448
01:01:16,979 --> 01:01:20,578
you're going<font color="#E5E5E5"> to do there is prefixes you</font>

1449
01:01:18,869 --> 01:01:22,199
<font color="#CCCCCC">announce they're going to accept</font>

1450
01:01:20,579 --> 01:01:23,909
prefixes they announced you're going to

1451
01:01:22,199 --> 01:01:25,229
<font color="#E5E5E5">accept and that's it you're not going to</font>

1452
01:01:23,909 --> 01:01:29,219
give each other transit or any other

1453
01:01:25,229 --> 01:01:30,808
thing so agree what you're going to do

1454
01:01:29,219 --> 01:01:33,319
it can either be<font color="#E5E5E5"> in a contract written</font>

1455
01:01:30,809 --> 01:01:35,400
document email telephone call whatever

1456
01:01:33,319 --> 01:01:37,949
some folks use the Internet routing

1457
01:01:35,400 --> 01:01:39,989
registry still amazingly enough and you

1458
01:01:37,949 --> 01:01:41,880
can use the<font color="#CCCCCC"> irr tool set and it produces</font>

1459
01:01:39,989 --> 01:01:46,259
lovely about your configurations for you

1460
01:01:41,880 --> 01:01:48,689
if you<font color="#E5E5E5"> want to do it that way whereas</font>

1461
01:01:46,259 --> 01:01:50,549
your upstream provider well they're the

1462
01:01:48,689 --> 01:01:54,209
folks who you pay to give you access to

1463
01:01:50,549 --> 01:01:57,119
the whole<font color="#E5E5E5"> internet so receiving prefixes</font>

1464
01:01:54,209 --> 01:01:58,649
from them well does is it really

1465
01:01:57,119 --> 01:02:01,319
necessary when it says special

1466
01:01:58,650 --> 01:02:05,729
circumstances see you later that means

1467
01:02:01,319 --> 01:02:08,339
well<font color="#E5E5E5"> multihoming traffic engineering you</font>

1468
01:02:05,729 --> 01:02:10,649
gently will need to receive<font color="#CCCCCC"> or some</font>

1469
01:02:08,339 --> 01:02:11,969
semblance of the BGP table if<font color="#CCCCCC"> you want</font>

1470
01:02:10,650 --> 01:02:14,099
to do traffic engineering or

1471
01:02:11,969 --> 01:02:16,739
<font color="#CCCCCC">multi-homing if you want to carry the</font>

1472
01:02:14,099 --> 01:02:19,380
full bgp table that's fine too but

1473
01:02:16,739 --> 01:02:22,079
330,000 prefixes is quite a lot to carry

1474
01:02:19,380 --> 01:02:24,329
and so maybe<font color="#E5E5E5"> you only really needed to</font>

1475
01:02:22,079 --> 01:02:25,619
fault right but<font color="#E5E5E5"> I don't</font><font color="#CCCCCC"> want to get too</font>

1476
01:02:24,329 --> 01:02:28,529
<font color="#CCCCCC">much into that that's a whole other</font>

1477
01:02:25,619 --> 01:02:30,599
tutorial altogether does<font color="#E5E5E5"> multihoming</font>

1478
01:02:28,529 --> 01:02:33,359
really need to have to pool copies of

1479
01:02:30,599 --> 01:02:35,369
the BGP table sure it'll work but you

1480
01:02:33,359 --> 01:02:38,130
can<font color="#CCCCCC"> get</font><font color="#E5E5E5"> away with a lot less and do just</font>

1481
01:02:35,369 --> 01:02:41,339
the same thing so get upstream or your

1482
01:02:38,130 --> 01:02:43,919
transit data default right from them

1483
01:02:41,339 --> 01:02:45,599
that's probably<font color="#E5E5E5"> enough or maybe if they</font>

1484
01:02:43,919 --> 01:02:48,269
don't<font color="#E5E5E5"> want to give</font><font color="#CCCCCC"> you a default you can</font>

1485
01:02:45,599 --> 01:02:51,089
<font color="#CCCCCC">actually use one prefix prefix from them</font>

1486
01:02:48,269 --> 01:02:52,979
as a default so actually<font color="#CCCCCC"> think about</font>

1487
01:02:51,089 --> 01:02:55,229
<font color="#E5E5E5">what you're going to receive if you want</font>

1488
01:02:52,979 --> 01:02:58,379
the<font color="#CCCCCC"> full table then again</font><font color="#E5E5E5"> you need to be</font>

1489
01:02:55,229 --> 01:03:01,589
careful don't accept private address

1490
01:02:58,380 --> 01:03:03,869
space so RFC 5735<font color="#CCCCCC"> documents some</font>

1491
01:03:01,589 --> 01:03:06,569
addresses that we've got special uses

1492
01:03:03,869 --> 01:03:08,700
note that it's a list of special<font color="#E5E5E5"> use</font>

1493
01:03:06,569 --> 01:03:11,369
<font color="#E5E5E5">address some are used</font><font color="#CCCCCC"> on the</font><font color="#E5E5E5"> internet</font>

1494
01:03:08,700 --> 01:03:13,919
others are not don't just take our<font color="#CCCCCC"> C</font>

1495
01:03:11,369 --> 01:03:15,690
5735 and block everything as you

1496
01:03:13,920 --> 01:03:18,869
<font color="#E5E5E5">otherwise you'll find most lot of things</font>

1497
01:03:15,690 --> 01:03:20,549
won't work my private<font color="#E5E5E5"> address space you</font>

1498
01:03:18,869 --> 01:03:24,420
<font color="#E5E5E5">want to block your own address space you</font>

1499
01:03:20,549 --> 01:03:26,549
want<font color="#E5E5E5"> to block don't accept the default</font>

1500
01:03:24,420 --> 01:03:28,410
right unless you expect to get it some

1501
01:03:26,549 --> 01:03:30,660
<font color="#E5E5E5">people from time to time like randomly</font>

1502
01:03:28,410 --> 01:03:32,910
announcing the default right but because

1503
01:03:30,660 --> 01:03:36,269
they like randomly announcing several

1504
01:03:32,910 --> 01:03:38,460
megabits per second of junk or to be a

1505
01:03:36,269 --> 01:03:40,200
configuration error but so don't accept

1506
01:03:38,460 --> 01:03:42,299
<font color="#CCCCCC">the default because if it comes</font><font color="#E5E5E5"> from a</font>

1507
01:03:40,200 --> 01:03:44,308
place you're not expecting it may cause

1508
01:03:42,299 --> 01:03:46,200
issues with your I plan traffic and

1509
01:03:44,309 --> 01:03:48,630
there's still a lot of<font color="#CCCCCC"> people not</font>

1510
01:03:46,200 --> 01:03:52,618
accepting prefixes longer than a / 24

1511
01:03:48,630 --> 01:03:55,019
and clearly announcing<font color="#E5E5E5"> a longer in a /</font>

1512
01:03:52,619 --> 01:03:57,359
24 still seems<font color="#E5E5E5"> to work because you see</font>

1513
01:03:55,019 --> 01:03:59,279
them out there on the internet so I

1514
01:03:57,359 --> 01:04:01,859
<font color="#E5E5E5">recognize everybody has that filter in</font>

1515
01:03:59,279 --> 01:04:05,160
place but a lot of ice P configurations

1516
01:04:01,859 --> 01:04:08,308
I see I still see the / 24 and longer

1517
01:04:05,160 --> 01:04:10,170
being blocked I mean amongst others team

1518
01:04:08,309 --> 01:04:12,289
come we have a list<font color="#E5E5E5"> of</font><font color="#CCCCCC"> bargains and</font>

1519
01:04:10,170 --> 01:04:16,380
they've got<font color="#E5E5E5"> the ball gown right server</font>

1520
01:04:12,289 --> 01:04:18,029
for both v4 and v6 prefixes the v6

1521
01:04:16,380 --> 01:04:20,789
prefix<font color="#CCCCCC"> borgen server is actually quite</font>

1522
01:04:18,029 --> 01:04:23,160
fun it gives you about 22,000 prefixes

1523
01:04:20,789 --> 01:04:25,950
which is interesting<font color="#CCCCCC"> because the v6</font>

1524
01:04:23,160 --> 01:04:27,420
<font color="#CCCCCC">tables only got about 3,000 so one of</font>

1525
01:04:25,950 --> 01:04:29,848
these days sooner hopefully I'll see the

1526
01:04:27,420 --> 01:04:33,509
bull gone prefix is actually and be

1527
01:04:29,849 --> 01:04:35,700
smaller than natural v6 table anyway so

1528
01:04:33,509 --> 01:04:38,880
you<font color="#E5E5E5"> can get a BGP feet with these ball</font>

1529
01:04:35,700 --> 01:04:42,029
gowns and you can you can set up a black

1530
01:04:38,880 --> 01:04:44,549
hole system using bgp to show you how so

1531
01:04:42,029 --> 01:04:46,829
if<font color="#E5E5E5"> you can make sure that traffic from</font>

1532
01:04:44,549 --> 01:04:50,549
unused address space doesn't actually

1533
01:04:46,829 --> 01:04:53,880
get into<font color="#E5E5E5"> your network and now receiving</font>

1534
01:04:50,549 --> 01:04:56,220
prefixes you do have<font color="#E5E5E5"> to be careful only</font>

1535
01:04:53,880 --> 01:04:57,989
accept what you expect to<font color="#E5E5E5"> accept so</font>

1536
01:04:56,220 --> 01:05:02,249
again it's<font color="#E5E5E5"> just being responsible and</font>

1537
01:04:57,989 --> 01:05:04,410
<font color="#CCCCCC">internet citizen now the last pieces of</font>

1538
01:05:02,249 --> 01:05:06,160
this these<font color="#CCCCCC"> are just</font><font color="#E5E5E5"> some configuration</font>

1539
01:05:04,410 --> 01:05:09,000
tips

1540
01:05:06,160 --> 01:05:15,250
just a few<font color="#CCCCCC"> things</font><font color="#E5E5E5"> to finish the slides</font>

1541
01:05:09,000 --> 01:05:16,870
<font color="#E5E5E5">mmm so for ibgp and I GP reminders use a</font>

1542
01:05:15,250 --> 01:05:18,520
loop back on the router or some other

1543
01:05:16,870 --> 01:05:20,529
interface that you can't physically

1544
01:05:18,520 --> 01:05:23,590
remove a shutdown or whatever else and

1545
01:05:20,530 --> 01:05:27,190
run ibgp between it because<font color="#CCCCCC"> that way you</font>

1546
01:05:23,590 --> 01:05:29,020
get a stable ibgp<font color="#E5E5E5"> setup I mean if your</font>

1547
01:05:27,190 --> 01:05:30,550
network is only one line and you've<font color="#E5E5E5"> only</font>

1548
01:05:29,020 --> 01:05:31,780
got routers on that one line then you

1549
01:05:30,550 --> 01:05:34,080
probably don't need loot bags because

1550
01:05:31,780 --> 01:05:37,720
you just run ibgp on the land interfaces

1551
01:05:34,080 --> 01:05:40,900
but<font color="#E5E5E5"> as I said your networks are going to</font>

1552
01:05:37,720 --> 01:05:43,089
grow so if you get a second<font color="#CCCCCC"> site or a</font>

1553
01:05:40,900 --> 01:05:45,070
third site and you're<font color="#E5E5E5"> going to have</font>

1554
01:05:43,090 --> 01:05:49,390
redundancy then you're going to need to

1555
01:05:45,070 --> 01:05:51,520
<font color="#E5E5E5">change it so do you design it now so</font>

1556
01:05:49,390 --> 01:05:53,020
that<font color="#CCCCCC"> your allow for that</font><font color="#E5E5E5"> growth or you</font>

1557
01:05:51,520 --> 01:05:56,380
want to reconfigure it six months<font color="#CCCCCC"> down</font>

1558
01:05:53,020 --> 01:05:58,060
<font color="#E5E5E5">the path so I tend to even though it's</font>

1559
01:05:56,380 --> 01:06:00,610
<font color="#E5E5E5">like two routers on a network I still</font>

1560
01:05:58,060 --> 01:06:03,759
time to set up<font color="#E5E5E5"> I bgp between loop packs</font>

1561
01:06:00,610 --> 01:06:05,440
it seems sort<font color="#E5E5E5"> of pointless but it allows</font>

1562
01:06:03,760 --> 01:06:07,330
for<font color="#CCCCCC"> the growth so if a third router</font>

1563
01:06:05,440 --> 01:06:09,130
comes along or another site comes along

1564
01:06:07,330 --> 01:06:12,610
I<font color="#E5E5E5"> don't have to reconfigure things I</font>

1565
01:06:09,130 --> 01:06:15,730
just<font color="#CCCCCC"> add it into the to the mix make</font>

1566
01:06:12,610 --> 01:06:18,760
<font color="#CCCCCC">sure that your ospf is is carries the</font>

1567
01:06:15,730 --> 01:06:20,830
loopback / 32 address because have you

1568
01:06:18,760 --> 01:06:23,590
done if you don't carry<font color="#E5E5E5"> it</font><font color="#CCCCCC"> your ibgp</font>

1569
01:06:20,830 --> 01:06:26,170
isn't going to work what about the

1570
01:06:23,590 --> 01:06:28,690
demarcations or networks now these are

1571
01:06:26,170 --> 01:06:31,390
the links to your customers the links to

1572
01:06:28,690 --> 01:06:33,910
your upstream so your peers what you're

1573
01:06:31,390 --> 01:06:37,180
going to do with those some people use

1574
01:06:33,910 --> 01:06:39,700
<font color="#E5E5E5">IP are numbered what IP a number does is</font>

1575
01:06:37,180 --> 01:06:41,319
you just say IPO number loopback0 rather

1576
01:06:39,700 --> 01:06:43,270
than putting an IP address on the

1577
01:06:41,320 --> 01:06:47,920
point-to-point link and this<font color="#E5E5E5"> works for</font>

1578
01:06:43,270 --> 01:06:49,660
v4 or v6 you use say another interfaces

1579
01:06:47,920 --> 01:06:52,000
address do<font color="#E5E5E5"> you don't actually need an</font>

1580
01:06:49,660 --> 01:06:55,180
address on the interface to send traffic

1581
01:06:52,000 --> 01:06:57,430
on it I see a<font color="#E5E5E5"> lot of people do IP a</font>

1582
01:06:55,180 --> 01:07:02,649
numbered and that way they save a / 30

1583
01:06:57,430 --> 01:07:05,529
in v4 or a<font color="#CCCCCC"> slash something in v6 64 all</font>

1584
01:07:02,650 --> 01:07:08,910
the way through to 127 it means you

1585
01:07:05,530 --> 01:07:11,950
don't have to carry the prefixes in<font color="#CCCCCC"> igp</font>

1586
01:07:08,910 --> 01:07:15,350
use next<font color="#E5E5E5"> hop</font><font color="#CCCCCC"> cell</font>

1587
01:07:11,950 --> 01:07:17,359
for ibgp so you set the next top to be

1588
01:07:15,350 --> 01:07:18,470
that<font color="#CCCCCC"> of the local router then you don't</font>

1589
01:07:17,360 --> 01:07:20,270
<font color="#CCCCCC">have to carry the external</font>

1590
01:07:18,470 --> 01:07:25,520
point-to-point link around in your in

1591
01:07:20,270 --> 01:07:29,150
your<font color="#CCCCCC"> igp some people put the demarcation</font>

1592
01:07:25,520 --> 01:07:31,040
/ 30 s into ibgp instead so if you're

1593
01:07:29,150 --> 01:07:33,620
providing a service that monitors the

1594
01:07:31,040 --> 01:07:35,480
customers link while you want to be able

1595
01:07:33,620 --> 01:07:38,210
<font color="#E5E5E5">to monitor it by pinging it or something</font>

1596
01:07:35,480 --> 01:07:40,190
if you're<font color="#E5E5E5"> using a numbered well there's</font>

1597
01:07:38,210 --> 01:07:42,830
nothing to ping<font color="#E5E5E5"> while you could to ping</font>

1598
01:07:40,190 --> 01:07:43,640
the actual remote writer but it's

1599
01:07:42,830 --> 01:07:44,900
probably<font color="#E5E5E5"> easier to ping the</font>

1600
01:07:43,640 --> 01:07:46,400
point-to-point link because of the

1601
01:07:44,900 --> 01:07:50,030
remote it could be other reasons the

1602
01:07:46,400 --> 01:07:52,130
remote disappears or if<font color="#E5E5E5"> you're</font><font color="#CCCCCC"> using at</font>

1603
01:07:50,030 --> 01:07:53,690
next top self and you're not carrying

1604
01:07:52,130 --> 01:07:56,180
external point-to-point link in your<font color="#E5E5E5"> eye</font>

1605
01:07:53,690 --> 01:07:58,190
GPU can't even ping it anyway<font color="#CCCCCC"> so what</font>

1606
01:07:56,180 --> 01:08:00,589
some people<font color="#CCCCCC"> do is they put the external</font>

1607
01:07:58,190 --> 01:08:02,480
pointer points into ibgp and that way

1608
01:08:00,590 --> 01:08:04,700
the monitoring system can still monitor

1609
01:08:02,480 --> 01:08:08,420
it you take<font color="#CCCCCC"> it with a special community</font>

1610
01:08:04,700 --> 01:08:10,399
so only the<font color="#E5E5E5"> Operations Center can can</font>

1611
01:08:08,420 --> 01:08:13,400
see the / 30 you don't send it to the

1612
01:08:10,400 --> 01:08:15,050
whole wide world<font color="#CCCCCC"> but whatever you do</font>

1613
01:08:13,400 --> 01:08:17,810
those are<font color="#E5E5E5"> the three different ways of</font>

1614
01:08:15,050 --> 01:08:20,589
doing it whatever you do don't put the

1615
01:08:17,810 --> 01:08:23,690
demarcation networks into ospf and is is

1616
01:08:20,589 --> 01:08:29,720
that way you keep your ospf<font color="#E5E5E5"> is is nice</font>

1617
01:08:23,689 --> 01:08:31,580
and small right so next top self so<font color="#E5E5E5"> I've</font>

1618
01:08:29,720 --> 01:08:33,950
explained this already will it help

1619
01:08:31,580 --> 01:08:36,318
scale the network many<font color="#CCCCCC"> eyes please</font>

1620
01:08:33,950 --> 01:08:39,050
consider this best practice today I

1621
01:08:36,319 --> 01:08:40,819
can't looking run most of the well

1622
01:08:39,050 --> 01:08:43,520
established networks that are all doing

1623
01:08:40,819 --> 01:08:45,859
this the setting the next top to be that

1624
01:08:43,520 --> 01:08:51,080
of<font color="#CCCCCC"> the local router for external</font>

1625
01:08:45,859 --> 01:08:55,700
prefixes um what else limiting the ears

1626
01:08:51,080 --> 01:08:57,290
path length some people do this some

1627
01:08:55,700 --> 01:09:00,108
implementations have why don't<font color="#CCCCCC"> know if</font>

1628
01:08:57,290 --> 01:09:02,060
it's have a more had now some

1629
01:09:00,109 --> 01:09:04,670
invitations had problems with long<font color="#E5E5E5"> a s</font>

1630
01:09:02,060 --> 01:09:08,180
paths people who are coding only allowed

1631
01:09:04,670 --> 01:09:11,630
for a s paths up to 255 long so when<font color="#CCCCCC"> I'm</font>

1632
01:09:08,180 --> 01:09:14,210
sent a path with 256 or 257<font color="#CCCCCC"> aces in</font><font color="#E5E5E5"> it</font>

1633
01:09:11,630 --> 01:09:16,910
they cause memory overrun and corruption

1634
01:09:14,210 --> 01:09:18,630
and the<font color="#E5E5E5"> BGP processes and</font><font color="#CCCCCC"> writers to</font>

1635
01:09:16,910 --> 01:09:21,809
crash and all this sort of thing

1636
01:09:18,630 --> 01:09:24,569
so if some providers still limit the

1637
01:09:21,810 --> 01:09:27,540
<font color="#CCCCCC">airs path length to say 20 or 30 a esas</font>

1638
01:09:24,569 --> 01:09:29,489
only don't know if this<font color="#E5E5E5"> is a</font><font color="#CCCCCC"> good idea</font>

1639
01:09:27,540 --> 01:09:31,528
to<font color="#E5E5E5"> do or not I know some</font><font color="#CCCCCC"> people do it</font>

1640
01:09:29,488 --> 01:09:34,649
because they say well the<font color="#CCCCCC"> danette can't</font>

1641
01:09:31,529 --> 01:09:37,380
from really as 30s hops long I mean an

1642
01:09:34,649 --> 01:09:38,969
average is about 5a s hops I mean in my

1643
01:09:37,380 --> 01:09:41,219
bgp analysis that i do i<font color="#E5E5E5"> think</font><font color="#CCCCCC"> the</font>

1644
01:09:38,969 --> 01:09:44,279
longest<font color="#E5E5E5"> i see generally that makes sense</font>

1645
01:09:41,219 --> 01:09:46,920
is about<font color="#E5E5E5"> 20 you see some people do it 20</font>

1646
01:09:44,279 --> 01:09:49,920
<font color="#CCCCCC">times prepend public as they forget that</font>

1647
01:09:46,920 --> 01:09:51,870
its longest match writing but you see

1648
01:09:49,920 --> 01:09:53,460
some of these 20<font color="#E5E5E5"> times pre pans that are</font>

1649
01:09:51,870 --> 01:09:56,460
the best path and think why are they

1650
01:09:53,460 --> 01:09:58,560
<font color="#E5E5E5">doing this I mean you can find 20 hops</font>

1651
01:09:56,460 --> 01:10:02,090
to the internet anywhere<font color="#E5E5E5"> at all so</font>

1652
01:09:58,560 --> 01:10:04,650
what's the 20<font color="#CCCCCC"> * prepend trying to do and</font>

1653
01:10:02,090 --> 01:10:07,170
so but some people filter so you got a

1654
01:10:04,650 --> 01:10:10,710
nice path limiter on the<font color="#CCCCCC"> BGP session to</font>

1655
01:10:07,170 --> 01:10:12,360
limit it to maximum of 15 or 20 but you

1656
01:10:10,710 --> 01:10:14,489
know here's some historical ones<font color="#E5E5E5"> I mean</font>

1657
01:10:12,360 --> 01:10:16,139
three ffe the v6 folks here will

1658
01:10:14,489 --> 01:10:19,650
recognize that as a former<font color="#CCCCCC"> six bone</font>

1659
01:10:16,139 --> 01:10:22,699
address I mean this one was caused by an

1660
01:10:19,650 --> 01:10:25,138
error in a BGP implementation for v6 and

1661
01:10:22,699 --> 01:10:27,150
where I don't know what was going on<font color="#E5E5E5"> but</font>

1662
01:10:25,139 --> 01:10:30,150
anyway you can see a massively long AF

1663
01:10:27,150 --> 01:10:33,000
path here and this one here's a here's a

1664
01:10:30,150 --> 01:10:35,940
<font color="#CCCCCC">prepend 21 prepend but it's still the</font>

1665
01:10:33,000 --> 01:10:37,380
best path so obviously somebody thinks

1666
01:10:35,940 --> 01:10:39,330
if they do a really whopping<font color="#E5E5E5"> liebig</font>

1667
01:10:37,380 --> 01:10:40,889
<font color="#CCCCCC">prepend and become really unimportant I</font>

1668
01:10:39,330 --> 01:10:42,900
know what they were doing they were

1669
01:10:40,889 --> 01:10:45,090
trying to<font color="#E5E5E5"> get the covering / 19 to take</font>

1670
01:10:42,900 --> 01:10:48,809
priority over the 24 that's<font color="#CCCCCC"> usually the</font>

1671
01:10:45,090 --> 01:10:50,550
reason I hear her the 24 is always going

1672
01:10:48,810 --> 01:10:53,489
to<font color="#E5E5E5"> win over a line team unless it's not</font>

1673
01:10:50,550 --> 01:10:55,139
announced but it's amazing<font color="#CCCCCC"> how many</font>

1674
01:10:53,489 --> 01:10:57,449
people<font color="#E5E5E5"> just don't realize I think they</font>

1675
01:10:55,139 --> 01:11:00,540
do a big prepend somehow the 19 will

1676
01:10:57,449 --> 01:11:03,210
become more important it'll<font color="#CCCCCC"> never 24</font>

1677
01:11:00,540 --> 01:11:07,290
will always win over the<font color="#CCCCCC"> covering</font><font color="#E5E5E5"> 19 no</font>

1678
01:11:03,210 --> 01:11:08,909
matter what you<font color="#E5E5E5"> do to it okay so yeah</font>

1679
01:11:07,290 --> 01:11:10,199
there's one example again<font color="#E5E5E5"> I don't know</font>

1680
01:11:08,909 --> 01:11:12,059
how old it was but you can<font color="#E5E5E5"> look on the</font>

1681
01:11:10,199 --> 01:11:16,259
internet today and see more examples

1682
01:11:12,060 --> 01:11:21,600
like this here's<font color="#CCCCCC"> another one</font><font color="#E5E5E5"> there bgp</font>

1683
01:11:16,260 --> 01:11:24,889
TTL hack now what this is about is this

1684
01:11:21,600 --> 01:11:28,590
is GT sm to give it<font color="#E5E5E5"> its official name</font>

1685
01:11:24,889 --> 01:11:30,659
generalized TTL security mechanism what

1686
01:11:28,590 --> 01:11:31,230
you do is you know mean<font color="#E5E5E5"> you beb GP your</font>

1687
01:11:30,659 --> 01:11:33,750
time to live

1688
01:11:31,230 --> 01:11:37,530
one now what<font color="#E5E5E5"> you can do ebgp with your</font>

1689
01:11:33,750 --> 01:11:40,170
direct neighbor but the problem there is

1690
01:11:37,530 --> 01:11:43,200
that somebody<font color="#E5E5E5"> away from your direct</font>

1691
01:11:40,170 --> 01:11:45,270
neighbor can set the right TTL and try

1692
01:11:43,200 --> 01:11:47,660
and<font color="#E5E5E5"> set</font><font color="#CCCCCC"> up a BGP session pretending to</font>

1693
01:11:45,270 --> 01:11:52,050
<font color="#CCCCCC">be your neighbor with your router</font>

1694
01:11:47,660 --> 01:11:54,570
because it has the right TTL so to avoid

1695
01:11:52,050 --> 01:11:57,480
that possibility if you set the TTL to

1696
01:11:54,570 --> 01:12:01,650
255 then the packet getting to you is

1697
01:11:57,480 --> 01:12:03,780
TTL 254 nobody can do that year your

1698
01:12:01,650 --> 01:12:07,349
attacker out here<font color="#CCCCCC"> even if he tries to</font>

1699
01:12:03,780 --> 01:12:09,300
set it to 255 well the packet gets<font color="#CCCCCC"> at</font>

1700
01:12:07,350 --> 01:12:11,820
253 by the time it reaches you it

1701
01:12:09,300 --> 01:12:14,040
doesn't match so you ignore it so it's a

1702
01:12:11,820 --> 01:12:16,280
very<font color="#E5E5E5"> very neat trick of trying to avoid</font>

1703
01:12:14,040 --> 01:12:19,830
anybody doing a<font color="#E5E5E5"> BGP attack on you</font>

1704
01:12:16,280 --> 01:12:22,200
because the big question is do people

1705
01:12:19,830 --> 01:12:25,650
actually use this type of TTL attack on

1706
01:12:22,200 --> 01:12:28,260
<font color="#E5E5E5">BGP I don't know me I guess given that</font>

1707
01:12:25,650 --> 01:12:30,780
the RFC exists and it was worthwhile

1708
01:12:28,260 --> 01:12:33,660
work for folks to do that was actually

1709
01:12:30,780 --> 01:12:35,099
could<font color="#CCCCCC"> be a potential</font><font color="#E5E5E5"> issue but it's</font>

1710
01:12:33,660 --> 01:12:37,830
<font color="#E5E5E5">there you know you get some eyes people</font>

1711
01:12:35,100 --> 01:12:39,420
<font color="#E5E5E5">actually will support this are those who</font>

1712
01:12:37,830 --> 01:12:44,880
look at you blankly when you<font color="#E5E5E5"> mentioned</font>

1713
01:12:39,420 --> 01:12:47,270
GT sm so but that's how<font color="#CCCCCC"> it works again</font>

1714
01:12:44,880 --> 01:12:50,040
both neighbors have to agree to<font color="#E5E5E5"> use it</font>

1715
01:12:47,270 --> 01:12:52,230
much easier to<font color="#E5E5E5"> perform them doing an md5</font>

1716
01:12:50,040 --> 01:12:54,030
so some people put passwords on<font color="#CCCCCC"> bgp</font>

1717
01:12:52,230 --> 01:12:56,160
sessions some people<font color="#E5E5E5"> don't like</font>

1718
01:12:54,030 --> 01:12:58,320
passwords and bgp sessions because again

1719
01:12:56,160 --> 01:13:00,470
a few<font color="#CCCCCC"> years</font><font color="#E5E5E5"> ago it shoot up all the</font>

1720
01:12:58,320 --> 01:13:03,360
router<font color="#CCCCCC"> cpu that</font><font color="#E5E5E5"> issue has been fixed</font>

1721
01:13:00,470 --> 01:13:05,790
<font color="#E5E5E5">long time</font><font color="#CCCCCC"> ago but still some people</font>

1722
01:13:03,360 --> 01:13:09,360
don't want<font color="#E5E5E5"> to use passwords whereas the</font>

1723
01:13:05,790 --> 01:13:11,640
<font color="#E5E5E5">bgp TTL hack is a neat way of making</font>

1724
01:13:09,360 --> 01:13:14,339
<font color="#E5E5E5">sure that nobody can hijack the</font><font color="#CCCCCC"> bgp</font>

1725
01:13:11,640 --> 01:13:16,710
session so provide security when i use

1726
01:13:14,340 --> 01:13:18,420
security in quotes because probably

1727
01:13:16,710 --> 01:13:20,670
<font color="#E5E5E5">doesn't provide security but at least it</font>

1728
01:13:18,420 --> 01:13:23,730
provides a bit of safety for the<font color="#E5E5E5"> bgp</font>

1729
01:13:20,670 --> 01:13:25,800
session and there was a februari 2003

1730
01:13:23,730 --> 01:13:27,799
nanog there was a presentation<font color="#E5E5E5"> I think</font>

1731
01:13:25,800 --> 01:13:30,660
Dave Meyer gave that presentation on how

1732
01:13:27,800 --> 01:13:32,250
the whole thing actually works so if

1733
01:13:30,660 --> 01:13:35,269
you're<font color="#E5E5E5"> interested have a look at that</font>

1734
01:13:32,250 --> 01:13:39,840
<font color="#E5E5E5">one and and see what it's about</font>

1735
01:13:35,270 --> 01:13:42,270
templates<font color="#E5E5E5"> I like using templates for</font>

1736
01:13:39,840 --> 01:13:44,600
doing a lot of<font color="#E5E5E5"> BGP configurations what</font>

1737
01:13:42,270 --> 01:13:47,300
you don't want to do is set up a custom

1738
01:13:44,600 --> 01:13:50,310
configuration for every<font color="#E5E5E5"> single router</font>

1739
01:13:47,300 --> 01:13:51,630
because it's hard to manage if you need

1740
01:13:50,310 --> 01:13:53,370
to update something<font color="#E5E5E5"> the BGP</font>

1741
01:13:51,630 --> 01:13:55,740
configuration you've got<font color="#E5E5E5"> 50 routers in</font>

1742
01:13:53,370 --> 01:13:57,780
your network<font color="#E5E5E5"> you got to log into each</font>

1743
01:13:55,740 --> 01:13:59,370
one and go okay we've got this here not

1744
01:13:57,780 --> 01:14:01,230
there what does<font color="#E5E5E5"> this thing mean well</font>

1745
01:13:59,370 --> 01:14:02,550
this thing is that but another route

1746
01:14:01,230 --> 01:14:06,179
it's<font color="#E5E5E5"> something else you've got different</font>

1747
01:14:02,550 --> 01:14:07,980
<font color="#E5E5E5">names and different policy filters and</font>

1748
01:14:06,180 --> 01:14:10,320
all the rest it becomes a nightmare to

1749
01:14:07,980 --> 01:14:13,080
try and manage so rather than doing that

1750
01:14:10,320 --> 01:14:15,630
create a template set up a template for

1751
01:14:13,080 --> 01:14:17,519
ibgp set up a template for ebgp

1752
01:14:15,630 --> 01:14:19,650
customers set up a template for each of

1753
01:14:17,520 --> 01:14:22,140
<font color="#E5E5E5">your different peers then if you need to</font>

1754
01:14:19,650 --> 01:14:24,839
<font color="#E5E5E5">update things for any of your ibgp</font>

1755
01:14:22,140 --> 01:14:26,790
sessions you update the template off the

1756
01:14:24,840 --> 01:14:28,950
router and then you can<font color="#E5E5E5"> upload it to</font>

1757
01:14:26,790 --> 01:14:31,350
each one I know that<font color="#CCCCCC"> you have good</font>

1758
01:14:28,950 --> 01:14:34,440
consistent configuration across the

1759
01:14:31,350 --> 01:14:36,060
network another thing<font color="#CCCCCC"> is of course the</font>

1760
01:14:34,440 --> 01:14:38,879
vendor defaults are not really optimal

1761
01:14:36,060 --> 01:14:40,920
or even very useful fire speed you know

1762
01:14:38,880 --> 01:14:44,160
poor old vendors they've got to try and

1763
01:14:40,920 --> 01:14:45,870
make defaults useful for everybody and

1764
01:14:44,160 --> 01:14:48,720
it's not<font color="#E5E5E5"> just service providers the</font>

1765
01:14:45,870 --> 01:14:50,070
enterprise of<font color="#CCCCCC"> god the fans</font><font color="#E5E5E5"> have got you</font>

1766
01:14:48,720 --> 01:14:51,960
know goodness noah's academic and

1767
01:14:50,070 --> 01:14:54,299
research and color<font color="#CCCCCC"> JS and small</font>

1768
01:14:51,960 --> 01:14:56,490
businesses and home users trying<font color="#E5E5E5"> to have</font>

1769
01:14:54,300 --> 01:14:58,950
defaults at work for everybody is a bit

1770
01:14:56,490 --> 01:15:00,240
much so rather than sort of<font color="#E5E5E5"> getting</font>

1771
01:14:58,950 --> 01:15:01,349
vendors to do different faults or

1772
01:15:00,240 --> 01:15:05,099
different people which would be wrong

1773
01:15:01,350 --> 01:15:06,900
anyway iOS PS create their own templates

1774
01:15:05,100 --> 01:15:09,180
with the defaults<font color="#CCCCCC"> that they want and</font>

1775
01:15:06,900 --> 01:15:11,879
then<font color="#CCCCCC"> you can</font><font color="#E5E5E5"> manage it across the</font>

1776
01:15:09,180 --> 01:15:13,740
<font color="#E5E5E5">network</font><font color="#CCCCCC"> main team come we have got time</font>

1777
01:15:11,880 --> 01:15:16,140
various bgp templates you can look on

1778
01:15:13,740 --> 01:15:19,410
there they're reading room the documents

1779
01:15:16,140 --> 01:15:20,700
they've got quite<font color="#CCCCCC"> a few bgp templates in</font>

1780
01:15:19,410 --> 01:15:23,639
there against some<font color="#CCCCCC"> of them are getting a</font>

1781
01:15:20,700 --> 01:15:26,760
bit<font color="#E5E5E5"> old but I need</font><font color="#CCCCCC"> to help the guys get</font>

1782
01:15:23,640 --> 01:15:28,260
them updated but<font color="#E5E5E5"> it gives you the</font>

1783
01:15:26,760 --> 01:15:30,210
general idea of what you should<font color="#CCCCCC"> be doing</font>

1784
01:15:28,260 --> 01:15:33,090
and should not be<font color="#E5E5E5"> doing as a typical</font>

1785
01:15:30,210 --> 01:15:34,620
service provider<font color="#E5E5E5"> BGP configuration means</font>

1786
01:15:33,090 --> 01:15:36,450
not just service providers enemy who is

1787
01:15:34,620 --> 01:15:39,870
connecting to a service provider will

1788
01:15:36,450 --> 01:15:42,510
find them useful as well but you know

1789
01:15:39,870 --> 01:15:45,720
the sort of thing on an ibgp template

1790
01:15:42,510 --> 01:15:47,940
you've got<font color="#CCCCCC"> IBG between loot bags you got</font>

1791
01:15:45,720 --> 01:15:48,940
<font color="#E5E5E5">the next top self make sure you're</font>

1792
01:15:47,940 --> 01:15:50,889
sending communities

1793
01:15:48,940 --> 01:15:53,739
I bgp otherwise the guarantee of

1794
01:15:50,890 --> 01:15:55,239
accidents happening mean again it

1795
01:15:53,739 --> 01:15:56,799
depends<font color="#CCCCCC"> on your different vendors but</font>

1796
01:15:55,239 --> 01:15:58,410
you try and keep it consistent across

1797
01:15:56,800 --> 01:16:01,750
<font color="#E5E5E5">the different platforms you're fine</font>

1798
01:15:58,410 --> 01:16:04,150
<font color="#E5E5E5">hardwired bgp diversion for</font><font color="#CCCCCC"> i agree this</font>

1799
01:16:01,750 --> 01:16:07,150
is paranoid but<font color="#E5E5E5"> i see so many people</font>

1800
01:16:04,150 --> 01:16:09,160
doing it that<font color="#CCCCCC"> i put it in</font><font color="#E5E5E5"> here or maybe</font>

1801
01:16:07,150 --> 01:16:11,379
people do it because<font color="#CCCCCC"> i put it in</font><font color="#E5E5E5"> here</font><font color="#CCCCCC"> i</font>

1802
01:16:09,160 --> 01:16:13,120
don't<font color="#CCCCCC"> remember which came first but</font>

1803
01:16:11,380 --> 01:16:15,250
still a lot<font color="#CCCCCC"> of people setting version</font>

1804
01:16:13,120 --> 01:16:18,059
for bgp because you can set version 3

1805
01:16:15,250 --> 01:16:20,920
and you get classful bgp if you want

1806
01:16:18,060 --> 01:16:24,699
<font color="#E5E5E5">will be very useful that mean you can</font>

1807
01:16:20,920 --> 01:16:26,530
actually<font color="#E5E5E5"> do</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> um passwords and I bgp</font>

1808
01:16:24,699 --> 01:16:31,870
session<font color="#CCCCCC"> i see a</font><font color="#E5E5E5"> lot of people are using</font>

1809
01:16:26,530 --> 01:16:33,940
passwords and I bgp so it's a secret

1810
01:16:31,870 --> 01:16:35,920
that shared between you and the<font color="#CCCCCC"> PR if</font>

1811
01:16:33,940 --> 01:16:39,370
the<font color="#CCCCCC"> pakistan of the correct md5 hash</font>

1812
01:16:35,920 --> 01:16:41,560
than<font color="#CCCCCC"> their ignored it Jenny helps defeat</font>

1813
01:16:39,370 --> 01:16:43,960
miscreants who wanted to<font color="#E5E5E5"> attack the bgp</font>

1814
01:16:41,560 --> 01:16:45,550
sessions<font color="#E5E5E5"> i still get the sense that the</font>

1815
01:16:43,960 --> 01:16:47,800
community is divided about whether this

1816
01:16:45,550 --> 01:16:49,810
is a good idea or not<font color="#CCCCCC"> I'd say I've done</font>

1817
01:16:47,800 --> 01:16:51,670
<font color="#CCCCCC">this for years never had problems but</font>

1818
01:16:49,810 --> 01:16:52,810
other folks come in<font color="#CCCCCC"> Tommy oh yeah well</font>

1819
01:16:51,670 --> 01:16:55,750
we've had what's the problems because<font color="#CCCCCC"> of</font>

1820
01:16:52,810 --> 01:16:57,550
a B and C I'm kind of<font color="#E5E5E5"> well whatever but</font>

1821
01:16:55,750 --> 01:17:00,070
you find I'm just saying you'll find

1822
01:16:57,550 --> 01:17:02,590
that especially for ebgp some of your up

1823
01:17:00,070 --> 01:17:04,660
streams demanded<font color="#E5E5E5"> it's mandatory you will</font>

1824
01:17:02,590 --> 01:17:06,640
not get an ebgp session with them unless

1825
01:17:04,660 --> 01:17:09,130
there's a password or you got an

1826
01:17:06,640 --> 01:17:10,780
exchange point you'll find that half the

1827
01:17:09,130 --> 01:17:13,570
peers of the<font color="#E5E5E5"> exchange point want</font>

1828
01:17:10,780 --> 01:17:14,889
passwords and other half absolutely<font color="#E5E5E5"> will</font>

1829
01:17:13,570 --> 01:17:18,759
have<font color="#E5E5E5"> nothing to do</font><font color="#CCCCCC"> with passwords</font>

1830
01:17:14,890 --> 01:17:23,980
whatsoever but anyway it's a powerful

1831
01:17:18,760 --> 01:17:26,800
preventive tool what else<font color="#CCCCCC"> eb</font><font color="#E5E5E5"> GP do not</font>

1832
01:17:23,980 --> 01:17:28,870
do damping<font color="#CCCCCC"> i think i've made that</font><font color="#E5E5E5"> clear</font>

1833
01:17:26,800 --> 01:17:31,300
but don't do<font color="#CCCCCC"> it unless you understand</font>

1834
01:17:28,870 --> 01:17:34,239
the impact don't you definitely don't

1835
01:17:31,300 --> 01:17:35,920
use the vendor defaults unfortunately

1836
01:17:34,239 --> 01:17:38,259
vandals were there first because there'd

1837
01:17:35,920 --> 01:17:40,090
implemented didn't no idea what default

1838
01:17:38,260 --> 01:17:41,770
<font color="#E5E5E5">good defaults would be because the</font><font color="#CCCCCC"> test</font>

1839
01:17:40,090 --> 01:17:43,989
<font color="#CCCCCC">bed was the internet were trying to</font>

1840
01:17:41,770 --> 01:17:45,400
prevent something unfortunately what we

1841
01:17:43,989 --> 01:17:47,379
learned on the internet didn't make it

1842
01:17:45,400 --> 01:17:49,179
back into the code because changing

1843
01:17:47,380 --> 01:17:53,080
defaults is always very very difficult

1844
01:17:49,180 --> 01:17:56,170
<font color="#E5E5E5">thing to do and what else removed</font>

1845
01:17:53,080 --> 01:17:58,239
private ESS primary<font color="#CCCCCC"> esther should only</font>

1846
01:17:56,170 --> 01:17:58,760
be seen inside your own network they're

1847
01:17:58,239 --> 01:18:02,329
not men

1848
01:17:58,760 --> 01:18:03,889
for public<font color="#CCCCCC"> internet view so make sure</font>

1849
01:18:02,329 --> 01:18:07,400
you strip them out before you announce

1850
01:18:03,889 --> 01:18:09,019
them to the public internet again quite

1851
01:18:07,400 --> 01:18:10,969
a few people forget to do<font color="#E5E5E5"> this</font><font color="#CCCCCC"> as</font><font color="#E5E5E5"> part</font>

1852
01:18:09,019 --> 01:18:12,199
<font color="#E5E5E5">of thing my writing report I look for</font>

1853
01:18:10,969 --> 01:18:14,449
all the private es is that the people

1854
01:18:12,199 --> 01:18:15,949
are peering an<font color="#CCCCCC"> RSP seem to allow them</font>

1855
01:18:14,449 --> 01:18:21,530
through and so we see quite a few

1856
01:18:15,949 --> 01:18:24,230
private ESS out there and use extensive

1857
01:18:21,530 --> 01:18:26,570
filters mean<font color="#E5E5E5"> I actually use backup so as</font>

1858
01:18:24,230 --> 01:18:28,339
well as doing prefix filters I tend<font color="#E5E5E5"> to</font>

1859
01:18:26,570 --> 01:18:30,710
throw<font color="#E5E5E5"> in an</font><font color="#CCCCCC"> AAS pass filter just for</font>

1860
01:18:28,340 --> 01:18:33,070
good measure just in case I mean it's

1861
01:18:30,710 --> 01:18:36,139
very easy to fat finger a prefix filter

1862
01:18:33,070 --> 01:18:37,699
mean if you're late at night or no sleep

1863
01:18:36,139 --> 01:18:40,010
or anything and you want to<font color="#E5E5E5"> make some</font>

1864
01:18:37,699 --> 01:18:42,230
<font color="#E5E5E5">change and you get it wrong at least</font>

1865
01:18:40,010 --> 01:18:44,869
<font color="#CCCCCC">having an AAS pass filter or some</font>

1866
01:18:42,230 --> 01:18:47,299
community filters a backup will at least

1867
01:18:44,869 --> 01:18:48,739
ensure that you don't have a major

1868
01:18:47,300 --> 01:18:50,300
disaster on your hands<font color="#E5E5E5"> it may not be</font>

1869
01:18:48,739 --> 01:18:52,190
<font color="#E5E5E5">quite as good as the prefix filter was</font>

1870
01:18:50,300 --> 01:18:55,489
but at least it can mean the difference

1871
01:18:52,190 --> 01:18:57,079
between getting the<font color="#CCCCCC"> food</font><font color="#E5E5E5"> bgp table into</font>

1872
01:18:55,489 --> 01:19:02,299
<font color="#CCCCCC">your network coming from a customer for</font>

1873
01:18:57,079 --> 01:19:04,579
example what else keep policy language

1874
01:19:02,300 --> 01:19:08,079
for implementing policy rather than

1875
01:19:04,579 --> 01:19:11,079
doing basic filtering again the router

1876
01:19:08,079 --> 01:19:13,090
have enough configuration very

1877
01:19:11,079 --> 01:19:15,949
<font color="#E5E5E5">variability that you can actually</font>

1878
01:19:13,090 --> 01:19:17,840
separate<font color="#CCCCCC"> the two out some people like</font>

1879
01:19:15,949 --> 01:19:19,669
really really complicated policy but you

1880
01:19:17,840 --> 01:19:22,429
find that some of the policy language is

1881
01:19:19,670 --> 01:19:24,380
doing basic filtering as well and

1882
01:19:22,429 --> 01:19:26,059
certainly if you're learning<font color="#CCCCCC"> BGP try and</font>

1883
01:19:24,380 --> 01:19:28,070
keep the separation once you become a

1884
01:19:26,059 --> 01:19:30,800
guru then you can mix it all up and look

1885
01:19:28,070 --> 01:19:32,329
complicated and so come like a that

1886
01:19:30,800 --> 01:19:34,039
nobody else<font color="#CCCCCC"> understands its would make</font>

1887
01:19:32,329 --> 01:19:38,389
sure<font color="#CCCCCC"> that</font><font color="#E5E5E5"> your employer</font><font color="#CCCCCC"> has to keep you</font>

1888
01:19:34,039 --> 01:19:41,150
in a job I am also use a password but on

1889
01:19:38,389 --> 01:19:43,039
the BGP sessions if<font color="#CCCCCC"> you're upstream</font>

1890
01:19:41,150 --> 01:19:46,909
<font color="#E5E5E5">demands it or your peer demands it I</font>

1891
01:19:43,039 --> 01:19:48,619
think they're useful what else maximum

1892
01:19:46,909 --> 01:19:51,589
prefix tracking now this is another<font color="#CCCCCC"> one</font>

1893
01:19:48,619 --> 01:19:53,929
that's um interesting I<font color="#E5E5E5"> mean if you if</font>

1894
01:19:51,590 --> 01:19:56,210
you have got a<font color="#E5E5E5"> peer session are you</font>

1895
01:19:53,929 --> 01:19:58,670
expect to get<font color="#E5E5E5"> ten prefixes from a PSA</font>

1896
01:19:56,210 --> 01:20:00,619
across an exchange point let<font color="#E5E5E5"> me break</font>

1897
01:19:58,670 --> 01:20:03,650
something and accidentally send you

1898
01:20:00,619 --> 01:20:05,150
330,000 prefixes you probably<font color="#E5E5E5"> don't</font><font color="#CCCCCC"> want</font>

1899
01:20:03,650 --> 01:20:07,969
your traffic going across the exchange

1900
01:20:05,150 --> 01:20:10,789
to this little<font color="#E5E5E5"> peer so having</font><font color="#CCCCCC"> a maximum</font>

1901
01:20:07,969 --> 01:20:12,420
prefix track saying well<font color="#CCCCCC"> if they send us</font>

1902
01:20:10,789 --> 01:20:15,269
bullet-time prefixes tear the

1903
01:20:12,420 --> 01:20:17,100
GP session down only<font color="#E5E5E5"> send your warnings</font>

1904
01:20:15,270 --> 01:20:20,610
I mean it's all very very configurable

1905
01:20:17,100 --> 01:20:22,350
so it can send your warnings it can tell

1906
01:20:20,610 --> 01:20:24,570
the session down it can bring it back up

1907
01:20:22,350 --> 01:20:26,580
<font color="#CCCCCC">again in an hour of</font><font color="#E5E5E5"> to time or something</font>

1908
01:20:24,570 --> 01:20:28,590
but at least use maximum prefix

1909
01:20:26,580 --> 01:20:30,330
trafficking so that at least you're

1910
01:20:28,590 --> 01:20:32,130
monitoring system can tell you if

1911
01:20:30,330 --> 01:20:35,100
something's gone wrong that's a good

1912
01:20:32,130 --> 01:20:36,840
<font color="#E5E5E5">idea and when I certainly find some of</font>

1913
01:20:35,100 --> 01:20:39,270
the European peers at some of these

1914
01:20:36,840 --> 01:20:41,760
exchange points in Europe sending the

1915
01:20:39,270 --> 01:20:43,650
period requests that come in I see yeah

1916
01:20:41,760 --> 01:20:47,190
we use maximum we set maximum prefix

1917
01:20:43,650 --> 01:20:49,379
tracking for your<font color="#E5E5E5"> 2x so please tell us</font>

1918
01:20:47,190 --> 01:20:50,910
how<font color="#E5E5E5"> many prefixes and then the we say</font>

1919
01:20:49,380 --> 01:20:53,160
right we're going<font color="#E5E5E5"> to send</font><font color="#CCCCCC"> 10 prefixes</font>

1920
01:20:50,910 --> 01:20:55,920
<font color="#CCCCCC">okay we'll set you max prefix to</font><font color="#E5E5E5"> 20</font>

1921
01:20:53,160 --> 01:20:59,340
because that stops a full bgp feed

1922
01:20:55,920 --> 01:21:01,140
coming in and breaking the network log

1923
01:20:59,340 --> 01:21:02,820
changes of neighbor State watch the logs

1924
01:21:01,140 --> 01:21:04,650
don't just sort<font color="#E5E5E5"> of gather logs and send</font>

1925
01:21:02,820 --> 01:21:06,660
them<font color="#CCCCCC"> to the mouth</font><font color="#E5E5E5"> I'll actually watch</font>

1926
01:21:04,650 --> 01:21:09,570
the logs tie<font color="#E5E5E5"> it into your management</font>

1927
01:21:06,660 --> 01:21:12,090
system another one that folks don't

1928
01:21:09,570 --> 01:21:14,750
think of make the<font color="#E5E5E5"> BGP administrative</font>

1929
01:21:12,090 --> 01:21:18,449
distance higher than that of any<font color="#CCCCCC"> IGP I</font>

1930
01:21:14,750 --> 01:21:22,410
mean suddenly an iOS cisco iOS ebgp

1931
01:21:18,449 --> 01:21:24,178
admin distance is 20 and so is not well

1932
01:21:22,410 --> 01:21:26,820
it's been a few<font color="#E5E5E5"> times I've been involved</font>

1933
01:21:24,179 --> 01:21:29,160
for a some days<font color="#E5E5E5"> sent a prefix from the</font>

1934
01:21:26,820 --> 01:21:32,989
backbone but<font color="#E5E5E5"> it's come from another a s</font>

1935
01:21:29,160 --> 01:21:36,239
in by ebgp and it's overridden to ospf

1936
01:21:32,989 --> 01:21:37,799
that's not a good situation not good

1937
01:21:36,239 --> 01:21:40,110
situation at all<font color="#CCCCCC"> okay the many other</font>

1938
01:21:37,800 --> 01:21:42,420
errors that caused that to happen but

1939
01:21:40,110 --> 01:21:44,759
you really<font color="#CCCCCC"> don't want your ebgp or ibgp</font>

1940
01:21:42,420 --> 01:21:46,860
to override or SPF and<font color="#E5E5E5"> I</font><font color="#CCCCCC"> Osias you</font>

1941
01:21:44,760 --> 01:21:49,679
<font color="#E5E5E5">really don't want that at all so to</font>

1942
01:21:46,860 --> 01:21:55,199
again guard against it set the<font color="#CCCCCC"> BGP</font>

1943
01:21:49,679 --> 01:21:57,870
distance higher than ospf for iOS is M

1944
01:21:55,199 --> 01:22:00,178
what else summary yeah so use

1945
01:21:57,870 --> 01:22:01,710
configuration templates try and

1946
01:22:00,179 --> 01:22:04,440
standardize<font color="#E5E5E5"> the configuration as much as</font>

1947
01:22:01,710 --> 01:22:07,410
you can be aware of standard tricks

1948
01:22:04,440 --> 01:22:08,879
<font color="#CCCCCC">divided compromise the</font><font color="#E5E5E5"> BGP session let's</font>

1949
01:22:07,410 --> 01:22:11,370
say the Nano community is pretty good

1950
01:22:08,880 --> 01:22:13,980
<font color="#CCCCCC">that way for talking bgp things and</font>

1951
01:22:11,370 --> 01:22:15,390
issues and good practice team<font color="#CCCCCC"> kumas got</font>

1952
01:22:13,980 --> 01:22:18,799
a lot of useful<font color="#E5E5E5"> information as well</font>

1953
01:22:15,390 --> 01:22:22,020
you've got the various<font color="#CCCCCC"> vente nsp wet</font>

1954
01:22:18,800 --> 01:22:24,850
mailing lists as well in cisco juniper

1955
01:22:22,020 --> 01:22:27,730
whatever all<font color="#CCCCCC"> those</font><font color="#E5E5E5"> all the various</font>

1956
01:22:24,850 --> 01:22:29,110
nsp list that Jared looks after get on

1957
01:22:27,730 --> 01:22:30,809
those if you want specific vendor

1958
01:22:29,110 --> 01:22:33,130
configuration information as well

1959
01:22:30,810 --> 01:22:35,580
<font color="#E5E5E5">basically want to try and do anything</font>

1960
01:22:33,130 --> 01:22:38,020
<font color="#CCCCCC">and everything to make your</font><font color="#E5E5E5"> life easier</font>

1961
01:22:35,580 --> 01:22:39,370
that's what engineers want to have an

1962
01:22:38,020 --> 01:22:42,550
easy life you don't want to be<font color="#CCCCCC"> working</font>

1963
01:22:39,370 --> 01:22:45,190
24 by 7 make the network less prone to

1964
01:22:42,550 --> 01:22:47,020
errors make<font color="#CCCCCC"> a skill better and if you</font>

1965
01:22:45,190 --> 01:22:48,940
can do all<font color="#E5E5E5"> that then you</font><font color="#CCCCCC"> can have an</font>

1966
01:22:47,020 --> 01:22:50,560
easy life while looking very very<font color="#E5E5E5"> busy</font>

1967
01:22:48,940 --> 01:22:52,419
so it's really all about scaling and if

1968
01:22:50,560 --> 01:22:55,260
your networks not going to scale then

1969
01:22:52,420 --> 01:22:58,750
it's not<font color="#CCCCCC"> going to be successful and</font>

1970
01:22:55,260 --> 01:23:01,840
that's it folks um I hope you found it

1971
01:22:58,750 --> 01:23:04,000
useful I say that<font color="#E5E5E5"> the two other</font>

1972
01:23:01,840 --> 01:23:06,250
tutorials and in this series<font color="#E5E5E5"> there's a</font>

1973
01:23:04,000 --> 01:23:09,030
multihoming tutorial which if you go to

1974
01:23:06,250 --> 01:23:11,110
the ftp<font color="#E5E5E5"> site or showed at the beginning</font>

1975
01:23:09,030 --> 01:23:14,670
actually published should take you back

1976
01:23:11,110 --> 01:23:14,670
to that<font color="#E5E5E5"> page if you want to grab the URL</font>

1977
01:23:16,440 --> 01:23:23,500
but if you go to the<font color="#E5E5E5"> ftp site here you</font>

1978
01:23:19,510 --> 01:23:25,000
can actually find there's a multihoming

1979
01:23:23,500 --> 01:23:27,270
tutorial which follows right<font color="#E5E5E5"> on from</font>

1980
01:23:25,000 --> 01:23:30,580
this so it starts<font color="#CCCCCC"> looking at some of the</font>

1981
01:23:27,270 --> 01:23:32,560
<font color="#CCCCCC">BGP attributes introduction really hard</font>

1982
01:23:30,580 --> 01:23:36,070
to do multihoming all the way up to well

1983
01:23:32,560 --> 01:23:38,140
not complicated me I don't do how major

1984
01:23:36,070 --> 01:23:39,519
tier<font color="#E5E5E5"> ones interconnect with each other</font>

1985
01:23:38,140 --> 01:23:42,220
because<font color="#E5E5E5"> that's really quite</font>

1986
01:23:39,520 --> 01:23:45,010
sophisticated stuff but it's the basic

1987
01:23:42,220 --> 01:23:46,780
steps to doing a small<font color="#CCCCCC"> network</font>

1988
01:23:45,010 --> 01:23:49,750
<font color="#E5E5E5">multi-home into two or three providers</font>

1989
01:23:46,780 --> 01:23:51,610
how to go and actor to exchange point

1990
01:23:49,750 --> 01:23:53,740
and so forth so that's<font color="#E5E5E5"> the multihoming</font>

1991
01:23:51,610 --> 01:23:55,089
presentation you just look on<font color="#CCCCCC"> there look</font>

1992
01:23:53,740 --> 01:23:57,370
first look for<font color="#E5E5E5"> something that's got a</font>

1993
01:23:55,090 --> 01:24:01,420
<font color="#E5E5E5">recent date and if you're interested in</font>

1994
01:23:57,370 --> 01:24:04,000
<font color="#E5E5E5">that sorry yeah that's ok that's a few</font>

1995
01:24:01,420 --> 01:24:05,440
years ago but with<font color="#E5E5E5"> that you know that's</font>

1996
01:24:04,000 --> 01:24:08,110
some others at a more recent<font color="#E5E5E5"> I think it</font>

1997
01:24:05,440 --> 01:24:10,540
was apricot or San ogor whatever I did

1998
01:24:08,110 --> 01:24:13,120
it but have have a look there there's

1999
01:24:10,540 --> 01:24:15,070
also<font color="#CCCCCC"> bgp troubleshooting tutorial again</font>

2000
01:24:13,120 --> 01:24:16,570
you know again<font color="#E5E5E5"> the</font><font color="#CCCCCC"> Nano program</font>

2001
01:24:15,070 --> 01:24:18,040
committee asked me to do one and<font color="#CCCCCC"> i was</font>

2002
01:24:16,570 --> 01:24:20,259
<font color="#CCCCCC">scratching my head about how to do it</font>

2003
01:24:18,040 --> 01:24:23,290
<font color="#CCCCCC">because troubleshooting bgp is something</font>

2004
01:24:20,260 --> 01:24:26,260
you learn so I've taken some<font color="#CCCCCC"> of</font><font color="#E5E5E5"> the more</font>

2005
01:24:23,290 --> 01:24:28,510
useful popular things or common things

2006
01:24:26,260 --> 01:24:30,730
I've come across<font color="#E5E5E5"> over the last 15</font><font color="#CCCCCC"> years</font>

2007
01:24:28,510 --> 01:24:33,220
or so and put them in in a tutorial

2008
01:24:30,730 --> 01:24:36,690
slice if you find those useful feel free

2009
01:24:33,220 --> 01:24:36,690
help yourself it's publicly available

2010
01:24:36,750 --> 01:24:41,730
let's say if they're useful if you've

2011
01:24:40,080 --> 01:24:44,309
any questions about any of<font color="#E5E5E5"> those let me</font>

2012
01:24:41,730 --> 01:24:45,780
know I'm happy to<font color="#E5E5E5"> help any questions</font>

2013
01:24:44,310 --> 01:24:48,630
about this tutorial to say i'm here

2014
01:24:45,780 --> 01:24:50,370
until tuesday evening so again feel free

2015
01:24:48,630 --> 01:24:52,580
<font color="#CCCCCC">to ask</font><font color="#E5E5E5"> me thank you very</font><font color="#CCCCCC"> much for</font>

2016
01:24:50,370 --> 01:24:52,580
<font color="#E5E5E5">listening</font>

