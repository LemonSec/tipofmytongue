1
00:00:08,019 --> 00:00:14,139
okay all right hello everyone all right

2
00:00:12,340 --> 00:00:17,919
I'm gonna ask some question to start off

3
00:00:14,139 --> 00:00:21,250
with hey Matt yeah I'm glad you're here

4
00:00:17,919 --> 00:00:22,779
actually all right now I want you to be

5
00:00:21,250 --> 00:00:24,910
honest this won't be a reflection on you

6
00:00:22,779 --> 00:00:26,650
this will be a reflection on us in the

7
00:00:24,910 --> 00:00:29,560
DNS community as to how well this got

8
00:00:26,650 --> 00:00:31,269
communicated to you how many of you by

9
00:00:29,560 --> 00:00:36,280
raise of hands is this the first time

10
00:00:31,269 --> 00:00:39,540
you've ever heard of DNS Flag Day okay

11
00:00:36,280 --> 00:00:41,860
more than I expected but okay all right

12
00:00:39,540 --> 00:00:45,220
all right

13
00:00:41,860 --> 00:00:46,570
how many of you actually know that well

14
00:00:45,220 --> 00:00:48,070
those that raise your hands won't know

15
00:00:46,570 --> 00:00:49,629
but how many of you that didn't raise

16
00:00:48,070 --> 00:00:55,089
your hands do you know what deep what

17
00:00:49,629 --> 00:00:56,650
day is DNS Flag Day excellent okay it

18
00:00:55,089 --> 00:00:59,470
turns out Dina's Flag Day has already

19
00:00:56,650 --> 00:01:02,979
passed all right so it turns out the

20
00:00:59,470 --> 00:01:06,189
name DNS flag day gets our Flag Day in

21
00:01:02,979 --> 00:01:08,289
general gets some people excited okay

22
00:01:06,189 --> 00:01:09,610
I'll talk about this a little bit more

23
00:01:08,290 --> 00:01:12,460
later on okay

24
00:01:09,610 --> 00:01:17,770
all right oh yeah I'm Eddie Winstead I'm

25
00:01:12,460 --> 00:01:20,439
from iousy Lola all right so all of you

26
00:01:17,770 --> 00:01:22,119
in this room know that if the DNS

27
00:01:20,439 --> 00:01:27,669
doesn't work the network is still

28
00:01:22,119 --> 00:01:30,399
working just fine right mostly the DNS

29
00:01:27,670 --> 00:01:33,640
is for us stupid humans we remember

30
00:01:30,399 --> 00:01:36,909
letters easier than numbers okay so most

31
00:01:33,640 --> 00:01:38,499
DNS transactions or transactions on the

32
00:01:36,909 --> 00:01:41,619
Internet start with the DNS and so

33
00:01:38,499 --> 00:01:46,420
here's a sort of a very simplistic view

34
00:01:41,619 --> 00:01:49,359
of how that works yeah so here on the

35
00:01:46,420 --> 00:01:51,460
left side we have a resolver that's the

36
00:01:49,359 --> 00:01:53,859
one that takes in questions from clients

37
00:01:51,460 --> 00:01:56,380
all right now I have a question for all

38
00:01:53,859 --> 00:01:58,719
your DNS geeks in here how many of you

39
00:01:56,380 --> 00:02:00,339
without looking right now know what name

40
00:01:58,719 --> 00:02:04,240
server you're using this in your query

41
00:02:00,340 --> 00:02:07,719
suit okay very good

42
00:02:04,240 --> 00:02:09,699
yeah the usual characters okay all right

43
00:02:07,719 --> 00:02:10,419
it starts to 26:20 or something like

44
00:02:09,699 --> 00:02:14,560
that yeah

45
00:02:10,419 --> 00:02:16,959
anyway all right so you as the client or

46
00:02:14,560 --> 00:02:19,069
sending queries into these resolvers

47
00:02:16,960 --> 00:02:21,439
that resolver then acts

48
00:02:19,069 --> 00:02:23,298
on your behalf and goes off and ask the

49
00:02:21,439 --> 00:02:26,870
questions that are required to be asked

50
00:02:23,299 --> 00:02:29,450
of many levels of authoritative servers

51
00:02:26,870 --> 00:02:33,680
usually to get the answer back to you

52
00:02:29,450 --> 00:02:35,480
okay so that's very simplistic usually

53
00:02:33,680 --> 00:02:37,659
there are many of these resolvers there

54
00:02:35,480 --> 00:02:41,420
are usually at least 13 of those

55
00:02:37,659 --> 00:02:44,599
authoritative servers somewhere anyway

56
00:02:41,420 --> 00:02:46,339
and then also along with the question

57
00:02:44,599 --> 00:02:48,858
and the answer coming back there are

58
00:02:46,340 --> 00:02:50,870
lots of flags involved that are being

59
00:02:48,859 --> 00:02:54,379
used I also want to point out that this

60
00:02:50,870 --> 00:02:58,400
the very basics of this design are 35

61
00:02:54,379 --> 00:03:03,459
years old so kudos to the DNS for still

62
00:02:58,400 --> 00:03:03,459
operating as it does all right excellent

63
00:03:03,699 --> 00:03:08,510
now the things that come back and one of

64
00:03:07,219 --> 00:03:10,519
the important things that come back from

65
00:03:08,510 --> 00:03:14,179
the authoritative servers are these

66
00:03:10,519 --> 00:03:16,579
response codes so this these are used to

67
00:03:14,180 --> 00:03:19,129
give clues to the resolver side of

68
00:03:16,579 --> 00:03:21,260
things as to what might have gone wrong

69
00:03:19,129 --> 00:03:26,989
if you're not if you don't get the

70
00:03:21,260 --> 00:03:28,759
answer that you expect okay some of

71
00:03:26,989 --> 00:03:31,939
these if you do dns you're very familiar

72
00:03:28,759 --> 00:03:35,418
with favorites are like NX domain serve

73
00:03:31,939 --> 00:03:36,259
fail is usually everyone's favorite at

74
00:03:35,419 --> 00:03:38,299
ISC

75
00:03:36,259 --> 00:03:41,569
we have to license plates there's a

76
00:03:38,299 --> 00:03:43,220
serve a license plate and I have an 8 X

77
00:03:41,569 --> 00:03:44,629
domain license plate if that tells you

78
00:03:43,220 --> 00:03:46,790
anything

79
00:03:44,629 --> 00:03:48,168
and then bad VIRs is one that we're

80
00:03:46,790 --> 00:03:53,478
going to talk about in terms of this

81
00:03:48,169 --> 00:03:56,540
talk today so remember I said like it's

82
00:03:53,479 --> 00:03:59,389
been 35 years and so of course over this

83
00:03:56,540 --> 00:04:01,548
period of time between 1983 and now

84
00:03:59,389 --> 00:04:03,680
there are things that we wanted to add

85
00:04:01,549 --> 00:04:07,040
functionality that we needed to add to

86
00:04:03,680 --> 00:04:09,590
the DNS this was done via something

87
00:04:07,040 --> 00:04:15,370
called extension mechanisms for DNS or a

88
00:04:09,590 --> 00:04:18,918
DNS 0 this was originally defined in

89
00:04:15,370 --> 00:04:21,949
1999 so this is coming up on 20 years

90
00:04:18,918 --> 00:04:23,750
old when we talk about DNS Flag Day this

91
00:04:21,949 --> 00:04:28,580
is mostly what we're talking about here

92
00:04:23,750 --> 00:04:32,560
is making sure that on the authoritative

93
00:04:28,580 --> 00:04:35,800
side of things that people

94
00:04:32,560 --> 00:04:38,470
respond properly to a DNS queries coming

95
00:04:35,800 --> 00:04:44,350
in or a DNS flag queries coming in from

96
00:04:38,470 --> 00:04:46,300
the resolvers okay so you know when when

97
00:04:44,350 --> 00:04:48,910
the whole when the whole Flag Day thing

98
00:04:46,300 --> 00:04:50,410
sort of got out to people beyond the DNS

99
00:04:48,910 --> 00:04:52,810
community there was a lot of freak out

100
00:04:50,410 --> 00:04:54,460
in terms of a lot of stuff is gonna

101
00:04:52,810 --> 00:04:56,919
break how are you guys gonna turn all

102
00:04:54,460 --> 00:04:57,820
this stuff off sort of on the fly and

103
00:04:56,919 --> 00:05:00,690
break things

104
00:04:57,820 --> 00:05:04,450
alright is everyone's DNS still working

105
00:05:00,690 --> 00:05:07,260
yeah ok ok good as well as always

106
00:05:04,450 --> 00:05:11,050
exactly as far as we know it's working

107
00:05:07,260 --> 00:05:13,090
now the thing about eating s0 is in 1999

108
00:05:11,050 --> 00:05:14,410
of course we couldn't it's sort of

109
00:05:13,090 --> 00:05:17,619
ironic we couldn't just do a Flag Day

110
00:05:14,410 --> 00:05:19,900
right and say okay at this juncture

111
00:05:17,620 --> 00:05:21,760
we're gonna cut off regular old playing

112
00:05:19,900 --> 00:05:23,320
great DNS and grow and we're gonna

113
00:05:21,760 --> 00:05:25,719
implement something new

114
00:05:23,320 --> 00:05:29,409
edie ns0 was designed to be a hop by hop

115
00:05:25,720 --> 00:05:33,100
extension so there are flags that can be

116
00:05:29,410 --> 00:05:36,850
sent along from query into clients from

117
00:05:33,100 --> 00:05:39,520
resolvers that say I can speak Eden s0

118
00:05:36,850 --> 00:05:41,440
and I can do some things can you as well

119
00:05:39,520 --> 00:05:43,990
and then the authoritative servers can

120
00:05:41,440 --> 00:05:46,510
respond back and they can agree on how

121
00:05:43,990 --> 00:05:49,479
they're gonna speak about things now it

122
00:05:46,510 --> 00:05:53,440
turns out that over the years you know

123
00:05:49,479 --> 00:05:55,360
20-some year are close to 20 years there

124
00:05:53,440 --> 00:06:00,300
were a lot of authoritative servers that

125
00:05:55,360 --> 00:06:02,470
were sending back confusing responses

126
00:06:00,300 --> 00:06:05,860
sometimes they weren't sending back

127
00:06:02,470 --> 00:06:08,169
anything to e DNS queries so what this

128
00:06:05,860 --> 00:06:10,840
talk what's what ended up happening is

129
00:06:08,169 --> 00:06:13,930
though this was designed to be an add-on

130
00:06:10,840 --> 00:06:16,270
to the DNS and easy to deploy what ended

131
00:06:13,930 --> 00:06:18,400
up happening was the folks that write

132
00:06:16,270 --> 00:06:19,719
DNS software for the resolvers had to do

133
00:06:18,400 --> 00:06:21,429
a lot of workarounds for these

134
00:06:19,720 --> 00:06:26,169
authoritative servers that would not

135
00:06:21,430 --> 00:06:28,090
properly implement Edie and s0 ok the

136
00:06:26,169 --> 00:06:29,620
eds standard was updated about five

137
00:06:28,090 --> 00:06:32,380
years ago it turns out one of the

138
00:06:29,620 --> 00:06:33,789
authors is here hello jail so if you

139
00:06:32,380 --> 00:06:36,719
have any questions about eating nests

140
00:06:33,789 --> 00:06:41,800
itself you have the authority here

141
00:06:36,720 --> 00:06:43,570
but in essence you know it was outlined

142
00:06:41,800 --> 00:06:45,880
in the standards if you don't speak II D

143
00:06:43,570 --> 00:06:48,159
and s or I asked you about an Eden s

144
00:06:45,880 --> 00:06:50,860
version that you don't support then just

145
00:06:48,160 --> 00:06:52,620
respond to me would bet bad vers in the

146
00:06:50,860 --> 00:06:55,870
response code and we'll go on just fine

147
00:06:52,620 --> 00:06:57,460
if you if I send you a DNS flag and you

148
00:06:55,870 --> 00:06:58,690
don't speak II D and s that's fine just

149
00:06:57,460 --> 00:07:01,180
ignore it

150
00:06:58,690 --> 00:07:02,469
same thing with a DNS options ok the

151
00:07:01,180 --> 00:07:03,850
other thing I want to point out here is

152
00:07:02,470 --> 00:07:06,550
that it wasn't only authoritative

153
00:07:03,850 --> 00:07:07,690
servers that were causing problems it

154
00:07:06,550 --> 00:07:09,970
turns out that a lot of people put

155
00:07:07,690 --> 00:07:12,580
firewalls in front of authoritative

156
00:07:09,970 --> 00:07:13,840
servers that's entirely fine but if you

157
00:07:12,580 --> 00:07:16,359
do that you need to make sure that

158
00:07:13,840 --> 00:07:19,510
firewall knows how to or has properly

159
00:07:16,360 --> 00:07:21,820
implemented DNS protocols so you know

160
00:07:19,510 --> 00:07:25,599
the old joke is it's always the firewall

161
00:07:21,820 --> 00:07:28,090
right all right well what do we do what

162
00:07:25,600 --> 00:07:32,890
why do we have a DNS now what did we use

163
00:07:28,090 --> 00:07:36,390
it for the original design was you could

164
00:07:32,890 --> 00:07:40,479
do UDP DNS messages up to 512 bytes

165
00:07:36,390 --> 00:07:43,300
anything over 512 bytes TC bit would get

166
00:07:40,480 --> 00:07:45,700
set and you need to retry me over TCP to

167
00:07:43,300 --> 00:07:49,510
get the rest of the data generally

168
00:07:45,700 --> 00:07:51,760
speaking these days via a DNS we can

169
00:07:49,510 --> 00:07:56,349
speak up because feat UDP between

170
00:07:51,760 --> 00:07:58,360
ourselves up to 4 0 9 6 bytes ok so

171
00:07:56,350 --> 00:08:02,130
that's great one of the main drivers of

172
00:07:58,360 --> 00:08:04,510
that was the implementation of DNS SEC

173
00:08:02,130 --> 00:08:05,770
now I do want to point out one of the

174
00:08:04,510 --> 00:08:07,659
things that we've discovered over the

175
00:08:05,770 --> 00:08:10,810
last few weeks is there was a

176
00:08:07,660 --> 00:08:13,180
misconception that if I don't do DNS SEC

177
00:08:10,810 --> 00:08:16,510
then it doesn't matter it whether or not

178
00:08:13,180 --> 00:08:20,560
I speak a DNS okay I won't be affected

179
00:08:16,510 --> 00:08:22,840
by this it turns out since by 9.11 we've

180
00:08:20,560 --> 00:08:25,960
started implementing DNS cookies turned

181
00:08:22,840 --> 00:08:29,380
on by default so DNS cookies are a way

182
00:08:25,960 --> 00:08:33,909
for us to prevent or mitigate spoofing

183
00:08:29,380 --> 00:08:35,679
and DDoS attacks in the DNS okay so even

184
00:08:33,909 --> 00:08:38,110
if you didn't do DNS SEC you would

185
00:08:35,679 --> 00:08:41,530
certainly be affected by DNS cookie and

186
00:08:38,110 --> 00:08:43,180
implementation there's also clients

187
00:08:41,530 --> 00:08:45,360
subnet identifiers this is a way of

188
00:08:43,179 --> 00:08:48,699
sending more specific information

189
00:08:45,360 --> 00:08:50,770
usually by geographic location there's

190
00:08:48,700 --> 00:08:52,570
some data about the client asking the

191
00:08:50,770 --> 00:08:55,589
question that we can use on the

192
00:08:52,570 --> 00:08:58,360
authoritative side to send data back and

193
00:08:55,589 --> 00:08:59,020
then the next great things for the DNS

194
00:08:58,360 --> 00:09:02,950
are all

195
00:08:59,020 --> 00:09:05,170
probably gonna come from edia nest so we

196
00:09:02,950 --> 00:09:08,740
just felt like the DNS community just

197
00:09:05,170 --> 00:09:11,050
felt like 2019 was a good time to go

198
00:09:08,740 --> 00:09:13,450
ahead and declare a flag day and say you

199
00:09:11,050 --> 00:09:18,400
have to respond appropriately to these a

200
00:09:13,450 --> 00:09:23,560
DNS queries all right so here's some

201
00:09:18,400 --> 00:09:26,439
data so we at ISC ran this a DNS cop is

202
00:09:23,560 --> 00:09:29,619
sea org and we still have it our

203
00:09:26,440 --> 00:09:32,350
operations crew is here dan has blue

204
00:09:29,620 --> 00:09:33,850
hair today I think blueish green okay so

205
00:09:32,350 --> 00:09:36,910
I want you to test your domains if you

206
00:09:33,850 --> 00:09:41,110
like and if Dan stands up just stop

207
00:09:36,910 --> 00:09:44,800
that'd be great this this infrastructure

208
00:09:41,110 --> 00:09:49,180
was not designed to be massively queried

209
00:09:44,800 --> 00:09:51,189
so starting about two weeks before Flag

210
00:09:49,180 --> 00:09:54,670
Day we got many calls about from

211
00:09:51,190 --> 00:09:57,430
organizations saying hey I served 1

212
00:09:54,670 --> 00:10:00,430
million domains or 2 million domains and

213
00:09:57,430 --> 00:10:02,260
you're a DNS compliance machine keeps

214
00:10:00,430 --> 00:10:07,479
rate limiting me

215
00:10:02,260 --> 00:10:10,330
well of course ok so the tools that we

216
00:10:07,480 --> 00:10:13,480
made available on a DNS cop the website

217
00:10:10,330 --> 00:10:14,920
are freely downloadable and you can

218
00:10:13,480 --> 00:10:16,570
build the test yourself

219
00:10:14,920 --> 00:10:18,520
if you have a massive environment that

220
00:10:16,570 --> 00:10:20,560
you need to test download the tools

221
00:10:18,520 --> 00:10:23,280
directly from our gate lab site don't

222
00:10:20,560 --> 00:10:26,229
try to do it through this thing

223
00:10:23,280 --> 00:10:27,790
but what I want to point out is like a

224
00:10:26,230 --> 00:10:31,720
lot of you raised your hand that you

225
00:10:27,790 --> 00:10:34,770
hadn't heard of DNS Flag Day and so we

226
00:10:31,720 --> 00:10:38,740
at ISE have been tracking this

227
00:10:34,770 --> 00:10:41,650
compatibility things since late 2014

228
00:10:38,740 --> 00:10:44,230
I believe so a very long time so for us

229
00:10:41,650 --> 00:10:46,209
it's sort of a sort of old hat right

230
00:10:44,230 --> 00:10:48,910
it's like of course everyone knows about

231
00:10:46,210 --> 00:10:50,890
this I've given some talks at some

232
00:10:48,910 --> 00:10:54,010
conferences about the title was called

233
00:10:50,890 --> 00:10:55,510
II D and s incompatibility I don't think

234
00:10:54,010 --> 00:10:58,780
I hit nano again so for that I do

235
00:10:55,510 --> 00:11:00,880
apologize but we've been doing this for

236
00:10:58,780 --> 00:11:02,560
a long time as you can see things are

237
00:11:00,880 --> 00:11:05,560
trending in the right direction and have

238
00:11:02,560 --> 00:11:07,640
been for quite a while because before we

239
00:11:05,560 --> 00:11:09,680
even declared Flag Day

240
00:11:07,640 --> 00:11:12,140
you know a lot of you know our good

241
00:11:09,680 --> 00:11:15,319
buddy Mark Andrews you've exchanged

242
00:11:12,140 --> 00:11:16,850
email with him on the nat nog list he

243
00:11:15,320 --> 00:11:20,959
has been working on this this has really

244
00:11:16,850 --> 00:11:23,440
been his passion so in all these years

245
00:11:20,959 --> 00:11:27,018
that you see here he was contacting

246
00:11:23,440 --> 00:11:28,519
firewall vendors other people who

247
00:11:27,019 --> 00:11:32,360
weren't doing the right thing but the

248
00:11:28,519 --> 00:11:35,089
DNS protocol okay but at some point we

249
00:11:32,360 --> 00:11:38,149
figured you know we just have to declare

250
00:11:35,089 --> 00:11:42,200
a Flag Day and move on so these are some

251
00:11:38,149 --> 00:11:43,820
of the things that we noticed obviously

252
00:11:42,200 --> 00:11:45,920
firewalls can get in the way

253
00:11:43,820 --> 00:11:48,260
load balancers can do some some odd

254
00:11:45,920 --> 00:11:50,479
things and then odor Microsoft didn't

255
00:11:48,260 --> 00:11:54,470
originally implement the e DNS in their

256
00:11:50,480 --> 00:11:56,149
name server software so when I say odor

257
00:11:54,470 --> 00:11:59,269
Microsoft servers I'm talking about

258
00:11:56,149 --> 00:12:00,529
servers older than 10 years old okay so

259
00:11:59,269 --> 00:12:03,290
I think I mean I don't know the

260
00:12:00,529 --> 00:12:05,060
Microsoft stuff but I think around 2008

261
00:12:03,290 --> 00:12:06,680
servers when they finally started doing

262
00:12:05,060 --> 00:12:08,510
the right thing okay so we're still

263
00:12:06,680 --> 00:12:13,689
talking about a decade worth of

264
00:12:08,510 --> 00:12:13,689
hopefully you upgraded in that time okay

265
00:12:13,959 --> 00:12:20,930
one of the issues that we have or DNS

266
00:12:18,350 --> 00:12:24,290
software vendors have is how do we

267
00:12:20,930 --> 00:12:27,500
interpret these timeouts so I said you

268
00:12:24,290 --> 00:12:29,750
know I that firewalls are blocking e DNS

269
00:12:27,500 --> 00:12:32,560
or responding with you know

270
00:12:29,750 --> 00:12:35,029
inappropriate inappropriate language

271
00:12:32,560 --> 00:12:38,149
they're responding with things that the

272
00:12:35,029 --> 00:12:39,950
that don't match the standards now one

273
00:12:38,149 --> 00:12:42,529
of these that's really really tricky is

274
00:12:39,950 --> 00:12:46,399
when we send a DNS information and we

275
00:12:42,529 --> 00:12:48,829
don't get any response at all so this is

276
00:12:46,399 --> 00:12:51,260
the one that's been very tricky on again

277
00:12:48,829 --> 00:12:54,109
for DNS software vendors we add the

278
00:12:51,260 --> 00:12:56,899
right code and maintain code to try to

279
00:12:54,110 --> 00:12:58,480
work around these these authoritative

280
00:12:56,899 --> 00:13:01,310
name servers and firewalls

281
00:12:58,480 --> 00:13:04,010
so essentially you know in the old DNS

282
00:13:01,310 --> 00:13:06,349
if if I didn't get a response from a DNS

283
00:13:04,010 --> 00:13:08,540
server then it pretty much meant

284
00:13:06,350 --> 00:13:10,339
there's no need trying again because

285
00:13:08,540 --> 00:13:11,920
that servers down or something's wrong

286
00:13:10,339 --> 00:13:14,720
so I can try something else

287
00:13:11,920 --> 00:13:16,219
when we talk about implementation of EDS

288
00:13:14,720 --> 00:13:17,510
this wasn't the case

289
00:13:16,220 --> 00:13:20,630
there were servers that would answer

290
00:13:17,510 --> 00:13:22,370
regular DNS but not a DNS or

291
00:13:20,630 --> 00:13:25,490
give again conflicting or confusing

292
00:13:22,370 --> 00:13:28,250
responses and so we we had to write a

293
00:13:25,490 --> 00:13:33,260
bunch of workarounds to to handle these

294
00:13:28,250 --> 00:13:36,400
cases yeah so the workarounds that we

295
00:13:33,260 --> 00:13:39,890
implemented where we retry without a DNS

296
00:13:36,400 --> 00:13:42,110
we'd even retry with TCP and the main

297
00:13:39,890 --> 00:13:43,760
thing we would do is for as we're

298
00:13:42,110 --> 00:13:47,780
talking to that server we would just

299
00:13:43,760 --> 00:13:50,540
disable EDS all around again so now when

300
00:13:47,780 --> 00:13:52,490
we're moving into wanting to implement

301
00:13:50,540 --> 00:13:55,130
things like DNS cookies you know not

302
00:13:52,490 --> 00:13:57,620
even talking about DNS SEC this creates

303
00:13:55,130 --> 00:14:02,810
problems so we need those authoritative

304
00:13:57,620 --> 00:14:04,790
servers to answer appropriately as you

305
00:14:02,810 --> 00:14:08,089
might imagine having to write that extra

306
00:14:04,790 --> 00:14:11,000
code makes the code even more brittle

307
00:14:08,090 --> 00:14:13,510
than it already is so it's a lot to keep

308
00:14:11,000 --> 00:14:17,450
up with have trying to handle these

309
00:14:13,510 --> 00:14:20,840
these workarounds and these dependencies

310
00:14:17,450 --> 00:14:24,320
so they also make it much harder for us

311
00:14:20,840 --> 00:14:26,570
to to implement new features again if if

312
00:14:24,320 --> 00:14:28,220
folks aren't doing a DNS then it makes

313
00:14:26,570 --> 00:14:32,330
it harder for us to do things like DNS

314
00:14:28,220 --> 00:14:34,610
cookies you might expect that if I am a

315
00:14:32,330 --> 00:14:37,010
resolver and I have to keep retrying an

316
00:14:34,610 --> 00:14:39,590
authoritative server over various

317
00:14:37,010 --> 00:14:44,240
mechanisms then it's going to slow down

318
00:14:39,590 --> 00:14:47,990
the DNS for all of us the other thing in

319
00:14:44,240 --> 00:14:51,170
terms of coming to 2019 is the majority

320
00:14:47,990 --> 00:14:54,340
of things had been fixed so we didn't

321
00:14:51,170 --> 00:14:57,199
feel like this was going to be a major

322
00:14:54,340 --> 00:15:00,170
disrupting thing on the internet if we

323
00:14:57,200 --> 00:15:02,240
declared this day it turns out it did

324
00:15:00,170 --> 00:15:06,910
not I hope who would here have a DNS

325
00:15:02,240 --> 00:15:10,640
problem related to DNS Flag Day okay

326
00:15:06,910 --> 00:15:13,219
very good that'll help us in the

327
00:15:10,640 --> 00:15:15,890
question and answer period I assume I

328
00:15:13,220 --> 00:15:18,200
have had someone come up to me in the

329
00:15:15,890 --> 00:15:20,000
lobby yesterday actually and said hey

330
00:15:18,200 --> 00:15:24,470
thanks for doing that Flag Day because

331
00:15:20,000 --> 00:15:27,710
you got X is P to finally fix their name

332
00:15:24,470 --> 00:15:30,040
servers so I could snip out my

333
00:15:27,710 --> 00:15:32,390
workaround config that I had for them

334
00:15:30,040 --> 00:15:33,069
because now their name servers behave

335
00:15:32,390 --> 00:15:37,810
properly

336
00:15:33,070 --> 00:15:41,350
so there are some good news so again the

337
00:15:37,810 --> 00:15:43,540
date was February 1st to me this is a

338
00:15:41,350 --> 00:15:46,720
really impressive group of entities that

339
00:15:43,540 --> 00:15:49,139
came together to do this we're really

340
00:15:46,720 --> 00:15:51,339
proud to be part of this group and very

341
00:15:49,139 --> 00:15:54,279
excited that this group got together to

342
00:15:51,339 --> 00:15:56,680
do this so on the software side of

343
00:15:54,279 --> 00:15:58,750
things the open-source vendors that you

344
00:15:56,680 --> 00:16:02,560
see there is e being one of them in our

345
00:15:58,750 --> 00:16:05,529
friends at and on that labs C zednik and

346
00:16:02,560 --> 00:16:08,079
power DNS and then on the services side

347
00:16:05,529 --> 00:16:11,230
the Google DNS the quad nine the

348
00:16:08,079 --> 00:16:18,040
CloudFlare DNS resolvers started

349
00:16:11,230 --> 00:16:21,069
implementing this as well okay so I said

350
00:16:18,040 --> 00:16:27,189
the the named Flag Day was a little bit

351
00:16:21,069 --> 00:16:31,360
of not exactly the right term okay what

352
00:16:27,190 --> 00:16:33,190
it meant was after that date for example

353
00:16:31,360 --> 00:16:35,680
is see we're not going to release

354
00:16:33,190 --> 00:16:39,699
another version of bind that has these

355
00:16:35,680 --> 00:16:45,638
workarounds in it after that date so for

356
00:16:39,699 --> 00:16:47,139
us by 9.13 dot six and 9.14 no longer

357
00:16:45,639 --> 00:16:49,300
contain these workarounds that we're

358
00:16:47,139 --> 00:16:53,319
talking about all right

359
00:16:49,300 --> 00:16:55,750
power DNS is 4.2 not it turns out they

360
00:16:53,319 --> 00:16:57,729
were pretty in since they're one of the

361
00:16:55,750 --> 00:17:00,760
newer ones they never implemented these

362
00:16:57,730 --> 00:17:02,949
workarounds so for them it wasn't as big

363
00:17:00,760 --> 00:17:07,199
of an issue and then for Unbound it's

364
00:17:02,949 --> 00:17:07,199
either one eight four or one nine zero

365
00:17:07,500 --> 00:17:14,049
all right now there's a lot of you know

366
00:17:11,619 --> 00:17:16,658
we're the open source folks there are a

367
00:17:14,049 --> 00:17:19,179
lot of course vendors that either use

368
00:17:16,659 --> 00:17:21,990
our products or our software in their

369
00:17:19,179 --> 00:17:25,000
products or have their own DNS software

370
00:17:21,990 --> 00:17:27,400
if you download the slides you these

371
00:17:25,000 --> 00:17:29,740
links should be clickable if your vendor

372
00:17:27,400 --> 00:17:32,440
is here you should see a statement from

373
00:17:29,740 --> 00:17:33,790
them if they're not here you should be

374
00:17:32,440 --> 00:17:35,650
able to ask them and hopefully they will

375
00:17:33,790 --> 00:17:40,690
know about dns Flag Day

376
00:17:35,650 --> 00:17:43,000
I suspect they will and then again the

377
00:17:40,690 --> 00:17:46,929
service operators as as you see listed

378
00:17:43,000 --> 00:17:48,909
here Google I know started

379
00:17:46,929 --> 00:17:55,269
pretty much on February first rolling

380
00:17:48,909 --> 00:17:57,220
out these changes to 8.8.8.8 and I don't

381
00:17:55,269 --> 00:17:59,350
know where they are now but I know the

382
00:17:57,220 --> 00:18:00,999
initial rollout on February 1st they

383
00:17:59,350 --> 00:18:08,139
didn't see any issues and so they've

384
00:18:00,999 --> 00:18:09,909
continued to roll out since then so this

385
00:18:08,139 --> 00:18:11,830
is the part that gets Dan nervous but

386
00:18:09,909 --> 00:18:15,009
you can test your domains at this site

387
00:18:11,830 --> 00:18:17,559
DNS flagged a net note that that site is

388
00:18:15,009 --> 00:18:22,710
not hosted by ISC but the back end the e

389
00:18:17,559 --> 00:18:26,879
DNS comp test is the part that we run so

390
00:18:22,710 --> 00:18:29,830
the front end to this is a little more

391
00:18:26,879 --> 00:18:34,029
stripped down if you want the real hard

392
00:18:29,830 --> 00:18:36,759
core responses go to e DNS comp is sea

393
00:18:34,029 --> 00:18:39,820
org so in this case we have and I'm

394
00:18:36,759 --> 00:18:42,299
doing trying to do my best about not

395
00:18:39,820 --> 00:18:44,439
naming and shaming anyone in this talk

396
00:18:42,299 --> 00:18:49,110
but here we have our good buddies at

397
00:18:44,440 --> 00:18:52,720
ripe so of course these slides were made

398
00:18:49,110 --> 00:18:54,610
at least in early January so there's

399
00:18:52,720 --> 00:18:55,899
been some changes since I made these but

400
00:18:54,610 --> 00:19:00,389
you know ripe is doing great

401
00:18:55,899 --> 00:19:02,889
of course these folks at techradar.com

402
00:19:00,389 --> 00:19:05,229
they were like one of the worst

403
00:19:02,889 --> 00:19:07,719
offenders in terms of what we saw on the

404
00:19:05,230 --> 00:19:09,249
test it turns out I checked these last

405
00:19:07,720 --> 00:19:11,860
week and they are now completely fine

406
00:19:09,249 --> 00:19:16,690
and compliant so there are all systems

407
00:19:11,860 --> 00:19:19,330
go and green whalley calm is when it's

408
00:19:16,690 --> 00:19:21,759
interesting because if you if you look

409
00:19:19,330 --> 00:19:24,460
at the the actual output of the tests

410
00:19:21,759 --> 00:19:26,860
they just have one name server that's

411
00:19:24,460 --> 00:19:29,409
that looks to be having a problem and it

412
00:19:26,860 --> 00:19:30,668
looks to be having a network problem so

413
00:19:29,409 --> 00:19:32,350
all their other name servers are

414
00:19:30,669 --> 00:19:34,269
answering fine they're fully compliant

415
00:19:32,350 --> 00:19:36,459
with II D and s there's no problems they

416
00:19:34,269 --> 00:19:37,840
have one that's having a problem so the

417
00:19:36,460 --> 00:19:39,070
reason we have this slide on here is

418
00:19:37,840 --> 00:19:42,039
just to let you know there could be

419
00:19:39,070 --> 00:19:44,499
other issues other than this DNS Flag

420
00:19:42,039 --> 00:19:51,100
Day thing that could cause something to

421
00:19:44,499 --> 00:19:53,499
complain it you own this okay yeah so

422
00:19:51,100 --> 00:19:55,980
our good buddies at Netflix you will

423
00:19:53,499 --> 00:19:58,470
note even if you run their tests today

424
00:19:55,980 --> 00:20:02,280
there are quote unquote minor problems

425
00:19:58,470 --> 00:20:04,680
detected it is after February first hit

426
00:20:02,280 --> 00:20:08,490
who else has streamed and Netflix while

427
00:20:04,680 --> 00:20:10,320
they've been here in the hotel okay it's

428
00:20:08,490 --> 00:20:13,320
worked fine I watched Parks and Rec it

429
00:20:10,320 --> 00:20:14,879
was great no problems DNS is great what

430
00:20:13,320 --> 00:20:16,649
this really is is that whole thing

431
00:20:14,880 --> 00:20:19,680
remember I said earlier that there are

432
00:20:16,650 --> 00:20:22,170
certain there's certain netflix has

433
00:20:19,680 --> 00:20:24,690
their domains hosted at a certain

434
00:20:22,170 --> 00:20:27,450
provider and that provider is currently

435
00:20:24,690 --> 00:20:29,970
they're responding just fine to EDS one

436
00:20:27,450 --> 00:20:32,910
queries except they're not responding

437
00:20:29,970 --> 00:20:35,520
with the bad vers response code so

438
00:20:32,910 --> 00:20:38,030
that's technically a violation and

439
00:20:35,520 --> 00:20:41,010
that's why you see the the warning here

440
00:20:38,030 --> 00:20:43,410
most of my career has been in operations

441
00:20:41,010 --> 00:20:45,990
so I certainly understand there's a

442
00:20:43,410 --> 00:20:50,550
there's a strong debate about whether or

443
00:20:45,990 --> 00:20:53,250
not I should be told to respond to

444
00:20:50,550 --> 00:20:55,740
something that has not been defined yet

445
00:20:53,250 --> 00:20:58,230
so II DNS one has not been defined yet

446
00:20:55,740 --> 00:21:01,320
but part of that reason is when it was

447
00:20:58,230 --> 00:21:04,650
redone five years ago we may have wanted

448
00:21:01,320 --> 00:21:06,899
to bump the the e DNS version but it

449
00:21:04,650 --> 00:21:08,790
would have taken it would have broken so

450
00:21:06,900 --> 00:21:09,960
many things we couldn't so at some point

451
00:21:08,790 --> 00:21:12,060
in the future we're gonna want to bump

452
00:21:09,960 --> 00:21:16,620
the version so we're trying to get

453
00:21:12,060 --> 00:21:18,450
people prepared for that as well alright

454
00:21:16,620 --> 00:21:21,570
so when you do the testing you'll get a

455
00:21:18,450 --> 00:21:23,100
summary yeah if you get something other

456
00:21:21,570 --> 00:21:26,970
than a timeout you'd probably need to

457
00:21:23,100 --> 00:21:29,010
upgrade or talk to your DNS vendor yeah

458
00:21:26,970 --> 00:21:30,480
if you're getting timeouts and the

459
00:21:29,010 --> 00:21:33,800
machine is actually up you probably want

460
00:21:30,480 --> 00:21:33,800
to take a look at your firewall settings

461
00:21:33,890 --> 00:21:39,600
alright so the whole point of this Flag

462
00:21:36,120 --> 00:21:43,080
Day thing is you know we the long term

463
00:21:39,600 --> 00:21:44,850
goal here is again we get to remove a

464
00:21:43,080 --> 00:21:46,379
bunch of that workaround code so we're

465
00:21:44,850 --> 00:21:50,610
trying to make the DNS more resilient

466
00:21:46,380 --> 00:21:53,490
the DNS will be faster we'll get to more

467
00:21:50,610 --> 00:21:55,740
easily deploy the next greatest DNS

468
00:21:53,490 --> 00:21:59,450
features the one again that we are

469
00:21:55,740 --> 00:22:02,670
excited about is DNS cookies these days

470
00:21:59,450 --> 00:22:08,310
all right does anybody watch the show

471
00:22:02,670 --> 00:22:09,750
fun with flags okay excellent Matt this

472
00:22:08,310 --> 00:22:12,870
slides actually will

473
00:22:09,750 --> 00:22:15,540
made for you so you're welcome all right

474
00:22:12,870 --> 00:22:18,120
so somehow along the way along on the

475
00:22:15,540 --> 00:22:20,399
Nanog Lister got to be some conversation

476
00:22:18,120 --> 00:22:24,780
about how could you guys be so silly to

477
00:22:20,400 --> 00:22:26,490
do this on this time so we learned some

478
00:22:24,780 --> 00:22:29,250
things and when I say I made this slide

479
00:22:26,490 --> 00:22:31,140
so I'm only speaking for probably the

480
00:22:29,250 --> 00:22:33,120
ISC side of things obviously there's a

481
00:22:31,140 --> 00:22:35,100
bunch of us in the DNS community that

482
00:22:33,120 --> 00:22:37,649
came together to decide on this date I

483
00:22:35,100 --> 00:22:39,540
can almost guarantee you none of those

484
00:22:37,650 --> 00:22:40,950
people watched the Super Bowl or ever

485
00:22:39,540 --> 00:22:42,899
we're even aware that such a thing

486
00:22:40,950 --> 00:22:44,730
existed okay

487
00:22:42,900 --> 00:22:48,660
but so we weren't trying to make your

488
00:22:44,730 --> 00:22:50,550
life painful you know whenever you pick

489
00:22:48,660 --> 00:22:52,890
a date like this it's always weird right

490
00:22:50,550 --> 00:22:54,210
you can't do november/december you want

491
00:22:52,890 --> 00:22:56,730
to avoid the summer months because

492
00:22:54,210 --> 00:22:59,400
that's vacation you know blah blah blah

493
00:22:56,730 --> 00:23:02,070
and actually most of the ISE employees

494
00:22:59,400 --> 00:23:03,990
today are not based in the US so most of

495
00:23:02,070 --> 00:23:08,370
them I would argue were not Super Bowl

496
00:23:03,990 --> 00:23:09,930
aware so anyway the but we're the

497
00:23:08,370 --> 00:23:11,939
echo-chamber thing this is when I was

498
00:23:09,930 --> 00:23:14,040
asking about the the sort of the failure

499
00:23:11,940 --> 00:23:17,280
of the DNS community to get this

500
00:23:14,040 --> 00:23:20,820
communicated to us this was all like

501
00:23:17,280 --> 00:23:23,879
we've been talking about this for 20

502
00:23:20,820 --> 00:23:25,800
years we've been talking about trying to

503
00:23:23,880 --> 00:23:28,710
get people to fix their stuff hardcore

504
00:23:25,800 --> 00:23:30,300
for like the past five years so and

505
00:23:28,710 --> 00:23:32,100
again we've reached out to firewall

506
00:23:30,300 --> 00:23:35,310
vendors we've reached out to other DNS

507
00:23:32,100 --> 00:23:37,740
software vendors and so we didn't think

508
00:23:35,310 --> 00:23:40,050
this would be such a big deal it turns

509
00:23:37,740 --> 00:23:42,360
out that some news organizations got

510
00:23:40,050 --> 00:23:44,190
ahold of this apparently some auditor

511
00:23:42,360 --> 00:23:46,290
got ahold of this and then all of a

512
00:23:44,190 --> 00:23:49,080
sudden sort of about two weeks before

513
00:23:46,290 --> 00:23:52,889
the Flag Day I seized phones were

514
00:23:49,080 --> 00:23:56,480
ringing quite a bit so which is kind of

515
00:23:52,890 --> 00:24:01,110
amazing most people contact us via email

516
00:23:56,480 --> 00:24:05,310
but you know what I really want to say

517
00:24:01,110 --> 00:24:08,760
here too is we'd like to see I'd like to

518
00:24:05,310 --> 00:24:11,399
see more of the DNS operations people

519
00:24:08,760 --> 00:24:13,830
show up to DNS org all right it's going

520
00:24:11,400 --> 00:24:17,010
to be co-located with the nanog in

521
00:24:13,830 --> 00:24:19,530
Austin at the end of October so that

522
00:24:17,010 --> 00:24:22,350
voice that's who we heard a lot from was

523
00:24:19,530 --> 00:24:23,280
people who provide authoritative DNS

524
00:24:22,350 --> 00:24:26,070
services and

525
00:24:23,280 --> 00:24:28,020
the ISP on the resolver side we heard

526
00:24:26,070 --> 00:24:30,419
from a lot of them as well and they were

527
00:24:28,020 --> 00:24:33,150
sort of caught unawares about this so if

528
00:24:30,420 --> 00:24:36,180
you want to to help us fix that please

529
00:24:33,150 --> 00:24:38,510
do at in orc because you'll have direct

530
00:24:36,180 --> 00:24:41,640
interface with all the people that's

531
00:24:38,510 --> 00:24:47,820
developed the DNS RFC's and write a lot

532
00:24:41,640 --> 00:24:50,610
of the dns code ok all right so I have

533
00:24:47,820 --> 00:24:54,330
to say during that two weeks before Flag

534
00:24:50,610 --> 00:24:57,709
Day period I said several times that the

535
00:24:54,330 --> 00:25:01,800
naming of this is unfortunate because

536
00:24:57,710 --> 00:25:04,560
people were calling and asking me to see

537
00:25:01,800 --> 00:25:07,260
if I could tell if things like tiny DNS

538
00:25:04,560 --> 00:25:12,870
we're going to still work after February

539
00:25:07,260 --> 00:25:14,700
first and you know this those two weeks

540
00:25:12,870 --> 00:25:18,090
were were a lot of work for a lot of us

541
00:25:14,700 --> 00:25:19,800
at IC but it turns out in retrospect I

542
00:25:18,090 --> 00:25:22,679
actually think the the name was good

543
00:25:19,800 --> 00:25:25,200
because we saw a lot of movement right

544
00:25:22,680 --> 00:25:28,440
before the Flag Day as these graphs will

545
00:25:25,200 --> 00:25:30,470
show so a lot of folks coming into

546
00:25:28,440 --> 00:25:33,510
compliance right before the deadline

547
00:25:30,470 --> 00:25:35,160
which if you're like me I'm sort of a

548
00:25:33,510 --> 00:25:39,780
right before the deadline kind of person

549
00:25:35,160 --> 00:25:42,000
so I totally understand so I don't know

550
00:25:39,780 --> 00:25:48,210
if we do this again I will go ahead and

551
00:25:42,000 --> 00:25:50,970
warn you that there is some courage

552
00:25:48,210 --> 00:25:53,520
amongst the DNS folks that this has gone

553
00:25:50,970 --> 00:25:55,440
so well so you might see us do something

554
00:25:53,520 --> 00:25:57,620
else along these lines I don't know what

555
00:25:55,440 --> 00:25:59,640
that is I don't we don't we don't have

556
00:25:57,620 --> 00:26:01,889
something that needs to be implemented

557
00:25:59,640 --> 00:26:03,090
by certain some certain time but you may

558
00:26:01,890 --> 00:26:07,680
see us try to do something like this

559
00:26:03,090 --> 00:26:09,240
again so again come to O art be more

560
00:26:07,680 --> 00:26:11,280
engaged with the DNS community and

561
00:26:09,240 --> 00:26:12,720
hopefully we can avoid some of the last

562
00:26:11,280 --> 00:26:17,580
minute freakout that we did this time

563
00:26:12,720 --> 00:26:19,050
around so yeah check your domains I

564
00:26:17,580 --> 00:26:22,020
suspect everyone's working just fine

565
00:26:19,050 --> 00:26:24,740
these days if you do get the warnings go

566
00:26:22,020 --> 00:26:27,060
to the e DNS comp site see what they are

567
00:26:24,740 --> 00:26:29,070
might not be things for you that you

568
00:26:27,060 --> 00:26:31,620
have to worry about right now the other

569
00:26:29,070 --> 00:26:33,270
thing is some of this stuff is if we do

570
00:26:31,620 --> 00:26:35,639
see problems it's going to be kind of

571
00:26:33,270 --> 00:26:36,658
tricky to debug right because some name

572
00:26:35,640 --> 00:26:38,460
servers answering

573
00:26:36,659 --> 00:26:42,149
surely some or not those are usually the

574
00:26:38,460 --> 00:26:44,849
most fun problems to debug so keep this

575
00:26:42,149 --> 00:26:47,189
talk in mind keep DNS flag day in mind

576
00:26:44,849 --> 00:26:53,309
if you see a DNS issue it may or may not

577
00:26:47,190 --> 00:26:58,039
be related to them okay and for that I

578
00:26:53,309 --> 00:26:58,039
will be happy to address any questions

579
00:27:00,590 --> 00:27:05,999
Matt attack here Eddy thank you very

580
00:27:03,389 --> 00:27:08,008
much for the talk on this and also thank

581
00:27:05,999 --> 00:27:10,349
you for dealing with the last minute

582
00:27:08,009 --> 00:27:11,070
freakout on the mailing list there yes I

583
00:27:10,349 --> 00:27:13,439
will agree

584
00:27:11,070 --> 00:27:15,779
terming it the flag day really did raise

585
00:27:13,440 --> 00:27:17,909
a lot of it oh my god this guy is going

586
00:27:15,779 --> 00:27:21,929
to fall type reactions yeah especially

587
00:27:17,909 --> 00:27:26,129
on what he's arguably a us-centric

588
00:27:21,929 --> 00:27:30,330
big weekend for advertisers I do think

589
00:27:26,129 --> 00:27:32,158
that the output on the tool there were a

590
00:27:30,330 --> 00:27:34,949
couple of our domains that I had tested

591
00:27:32,159 --> 00:27:38,129
that showed up big screens of red output

592
00:27:34,950 --> 00:27:39,899
which led to a oh my god how bad a shape

593
00:27:38,129 --> 00:27:41,580
are we in and some of the follow-up

594
00:27:39,899 --> 00:27:44,369
emails on I actually don't panic that

595
00:27:41,580 --> 00:27:46,710
that's kind of okay I think the tool

596
00:27:44,369 --> 00:27:49,259
could have been better about if you see

597
00:27:46,710 --> 00:27:50,909
red it may not actually all be bad even

598
00:27:49,259 --> 00:27:54,149
though red for a lot of people is the

599
00:27:50,909 --> 00:27:56,970
red blinking you're screwed now type of

600
00:27:54,149 --> 00:27:59,219
warning yeah but kudos on it going well

601
00:27:56,970 --> 00:28:00,659
I had a lot of the things other things

602
00:27:59,220 --> 00:28:02,639
to worry about that weekend but Dean has

603
00:28:00,659 --> 00:28:04,830
turned out to not be one of them good

604
00:28:02,639 --> 00:28:07,168
job excellent glad to hear that and

605
00:28:04,830 --> 00:28:08,908
thank you for the feedback we we've

606
00:28:07,169 --> 00:28:11,999
certainly gotten similar feedback that's

607
00:28:08,909 --> 00:28:14,009
somewhat you know some of the responses

608
00:28:11,999 --> 00:28:18,080
were a little alarmist when they didn't

609
00:28:14,009 --> 00:28:22,890
have to be so yep totally understand

610
00:28:18,080 --> 00:28:24,389
anybody else all right

611
00:28:22,890 --> 00:28:31,089
thank you very much

612
00:28:24,390 --> 00:28:31,089
[Applause]

613
00:28:35,879 --> 00:28:37,939
you

