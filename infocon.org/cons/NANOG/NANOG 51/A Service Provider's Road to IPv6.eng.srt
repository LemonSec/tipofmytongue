1
00:00:00,000 --> 00:00:02,029
I

2
00:00:07,450 --> 00:00:13,080
hello everybody my name is Amir Tavia

3
00:00:11,010 --> 00:00:15,269
snipey consulting and I'm gonna<font color="#E5E5E5"> talk</font>

4
00:00:13,080 --> 00:00:19,170
about yet another IP

5
00:00:15,269 --> 00:00:22,230
tation so there are eighteen hundred

6
00:00:19,170 --> 00:00:24,119
emails about<font color="#E5E5E5"> ipv6 and I know there's</font>

7
00:00:22,230 --> 00:00:25,890
been hundreds of presentations lately so

8
00:00:24,119 --> 00:00:28,948
you probably thinking okay what is this

9
00:00:25,890 --> 00:00:30,180
that's what makes this one<font color="#E5E5E5"> special so</font>

10
00:00:28,949 --> 00:00:32,309
this<font color="#CCCCCC"> is not the best practice</font>

11
00:00:30,180 --> 00:00:33,840
presentation what I'm trying to do is

12
00:00:32,308 --> 00:00:35,940
<font color="#E5E5E5">there might be some of you that are just</font>

13
00:00:33,840 --> 00:00:38,879
about<font color="#E5E5E5"> to get started you want the and</font>

14
00:00:35,940 --> 00:00:40,860
<font color="#E5E5E5">you probably have a network that you're</font>

15
00:00:38,879 --> 00:00:41,940
trying<font color="#E5E5E5"> to</font><font color="#CCCCCC"> get</font><font color="#E5E5E5"> your thoughts around it</font>

16
00:00:40,860 --> 00:00:43,170
how you're<font color="#E5E5E5"> going to get started this</font>

17
00:00:41,940 --> 00:00:44,579
might be something that will give you

18
00:00:43,170 --> 00:00:46,199
more data points<font color="#E5E5E5"> also you might be</font>

19
00:00:44,579 --> 00:00:47,970
somebody that is in the<font color="#E5E5E5"> middle of this</font>

20
00:00:46,199 --> 00:00:49,620
process and once you know where

21
00:00:47,970 --> 00:00:52,980
<font color="#E5E5E5">everybody else is and because I've seen</font>

22
00:00:49,620 --> 00:00:54,899
<font color="#E5E5E5">in the projects that I do and I do a lot</font>

23
00:00:52,980 --> 00:00:56,910
of projects and internationally where a

24
00:00:54,899 --> 00:01:00,720
lot of<font color="#CCCCCC"> people are sometimes ahead of the</font>

25
00:00:56,910 --> 00:01:03,690
curve in ipv6 deployment what you see is

26
00:01:00,720 --> 00:01:05,129
that some people with some a<font color="#E5E5E5"> lot of</font>

27
00:01:03,690 --> 00:01:06,780
<font color="#E5E5E5">people</font><font color="#CCCCCC"> actually have plans and what</font>

28
00:01:05,129 --> 00:01:11,219
we're<font color="#CCCCCC"> trying to do is</font><font color="#E5E5E5"> verify that</font>

29
00:01:06,780 --> 00:01:12,750
against other people's plans so the

30
00:01:11,219 --> 00:01:15,809
typical service providers dilemma is

31
00:01:12,750 --> 00:01:17,280
<font color="#CCCCCC">this a lot of providers have more than</font>

32
00:01:15,810 --> 00:01:19,530
one network that they have to deal with

33
00:01:17,280 --> 00:01:21,630
so they<font color="#E5E5E5"> might have an Internet network</font>

34
00:01:19,530 --> 00:01:24,959
they might have a network<font color="#E5E5E5"> that is later</font>

35
00:01:21,630 --> 00:01:27,149
three VPN based maybe on mpls for their

36
00:01:24,959 --> 00:01:28,409
enterprise customers and it will<font color="#CCCCCC"> have a</font>

37
00:01:27,149 --> 00:01:30,810
subscriber network that will have

38
00:01:28,409 --> 00:01:33,329
connectivity to both of those and these

39
00:01:30,810 --> 00:01:34,619
networks are multi-vendor and what what

40
00:01:33,329 --> 00:01:36,169
makes this a little more complicated is

41
00:01:34,619 --> 00:01:39,029
the fact that there is usually

42
00:01:36,170 --> 00:01:41,389
dependency into dependency across this

43
00:01:39,029 --> 00:01:44,310
networks when you want to do end-to-end

44
00:01:41,389 --> 00:01:46,649
ipv6 deployment so for<font color="#E5E5E5"> example you might</font>

45
00:01:44,310 --> 00:01:48,869
have a subscriber that originates on a

46
00:01:46,649 --> 00:01:52,380
nubira has a lack device it gets

47
00:01:48,869 --> 00:01:54,389
terminated on an LMS and and then from

48
00:01:52,380 --> 00:01:57,719
<font color="#CCCCCC">there we'll get into getting to an MPLS</font>

49
00:01:54,389 --> 00:01:59,759
Network so the end when traffic goes to

50
00:01:57,719 --> 00:02:02,309
a subscriber network based on one vendor

51
00:01:59,759 --> 00:02:04,109
to an MPLS VPN network and eventually<font color="#CCCCCC"> to</font>

52
00:02:02,310 --> 00:02:05,909
the<font color="#E5E5E5"> corporate network and if you wanted</font>

53
00:02:04,109 --> 00:02:07,708
to be able to<font color="#CCCCCC"> offer this as an to end</font>

54
00:02:05,909 --> 00:02:09,810
service to somebody you need to think

55
00:02:07,709 --> 00:02:12,090
about all the pieces so<font color="#E5E5E5"> I'm</font><font color="#CCCCCC"> going to</font>

56
00:02:09,810 --> 00:02:14,069
<font color="#E5E5E5">cover all this this is a specific</font>

57
00:02:12,090 --> 00:02:16,019
service provider actually well

58
00:02:14,069 --> 00:02:18,060
what we did was the design work<font color="#CCCCCC"> for the</font>

59
00:02:16,019 --> 00:02:20,400
ipv6 deployment and the migration

60
00:02:18,060 --> 00:02:22,680
planning for all<font color="#E5E5E5"> those three pieces the</font>

61
00:02:20,400 --> 00:02:28,709
subscriber network the public internet

62
00:02:22,680 --> 00:02:31,139
and mpls VPN a few small assumptions and

63
00:02:28,709 --> 00:02:33,480
backgrounds about the project at the

64
00:02:31,139 --> 00:02:36,629
first step is dual stack as you a lot<font color="#E5E5E5"> of</font>

65
00:02:33,480 --> 00:02:38,459
you probably<font color="#E5E5E5"> now and it's only the</font><font color="#CCCCCC"> first</font>

66
00:02:36,629 --> 00:02:40,048
step so as soon<font color="#E5E5E5"> as you shall talking</font>

67
00:02:38,459 --> 00:02:43,230
<font color="#E5E5E5">about the dual stack deployment people</font>

68
00:02:40,049 --> 00:02:44,760
start to ask me what's next and as a lot

69
00:02:43,230 --> 00:02:47,069
of you probably know there's a<font color="#E5E5E5"> lot of</font>

70
00:02:44,760 --> 00:02:48,388
<font color="#CCCCCC">different ways to go what about the</font><font color="#E5E5E5"> next</font>

71
00:02:47,069 --> 00:02:51,510
step so it's<font color="#E5E5E5"> something like a</font>

72
00:02:48,389 --> 00:02:53,400
carrier-grade NAT<font color="#CCCCCC"> it is definitely part</font>

73
00:02:51,510 --> 00:02:55,319
of the puzzle as far as a lot of<font color="#E5E5E5"> people</font>

74
00:02:53,400 --> 00:02:56,730
<font color="#E5E5E5">that I've talked to you and so a lot of</font>

75
00:02:55,319 --> 00:03:00,689
<font color="#E5E5E5">our designs actually have to get you</font>

76
00:02:56,730 --> 00:03:02,488
have to keep that<font color="#CCCCCC"> in mind very early on</font>

77
00:03:00,689 --> 00:03:04,409
we made a<font color="#E5E5E5"> decision that the only things</font>

78
00:03:02,489 --> 00:03:06,239
we're going to dump for ipv6 were things

79
00:03:04,409 --> 00:03:07,650
that are externally visible so a lot of

80
00:03:06,239 --> 00:03:09,810
you<font color="#E5E5E5"> might not decide to do that a lot of</font>

81
00:03:07,650 --> 00:03:11,310
you might<font color="#CCCCCC"> think that we're</font><font color="#E5E5E5"> gonna do you</font>

82
00:03:09,810 --> 00:03:12,840
know there might be something that<font color="#CCCCCC"> is</font>

83
00:03:11,310 --> 00:03:17,489
comes from government where all your

84
00:03:12,840 --> 00:03:19,349
systems have to be ipv6 capable we only

85
00:03:17,489 --> 00:03:22,229
did what was visible for the end

86
00:03:19,349 --> 00:03:25,048
customer so for example for management

87
00:03:22,229 --> 00:03:26,599
of devices you want to be able to if you

88
00:03:25,049 --> 00:03:29,909
want to be able to get the ipv6

89
00:03:26,599 --> 00:03:31,649
information through the specific nibs

90
00:03:29,909 --> 00:03:33,948
but the actual infrastructure for the

91
00:03:31,650 --> 00:03:36,030
network management could stay on ipv4

92
00:03:33,949 --> 00:03:38,189
same thing with things<font color="#E5E5E5"> like telling math</font>

93
00:03:36,030 --> 00:03:42,180
and ssh so those<font color="#E5E5E5"> things we left them</font>

94
00:03:38,189 --> 00:03:43,709
<font color="#E5E5E5">alive here before as far as</font><font color="#CCCCCC"> possible it</font>

95
00:03:42,180 --> 00:03:45,930
has to be<font color="#E5E5E5"> transparent to the existing</font>

96
00:03:43,709 --> 00:03:47,370
customers<font color="#E5E5E5"> so that's kind of obvious at</font>

97
00:03:45,930 --> 00:03:50,069
sometimes this is not as easy<font color="#E5E5E5"> as it</font>

98
00:03:47,370 --> 00:03:52,530
sounds as we got<font color="#CCCCCC"> into it and we'll talk</font>

99
00:03:50,069 --> 00:03:56,069
<font color="#E5E5E5">about that and a</font><font color="#CCCCCC"> little bit about what</font>

100
00:03:52,530 --> 00:03:59,250
kind of transport scheme we had for the

101
00:03:56,069 --> 00:04:01,349
public the<font color="#CCCCCC"> internet network IP before</font>

102
00:03:59,250 --> 00:04:04,469
natively it was about was being used and

103
00:04:01,349 --> 00:04:06,719
for the MPLS Network it was based on

104
00:04:04,469 --> 00:04:10,709
mpls I mean<font color="#CCCCCC"> for the 30 UPI network is</font>

105
00:04:06,719 --> 00:04:12,689
based on mpls the products<font color="#CCCCCC"> that were</font>

106
00:04:10,709 --> 00:04:16,409
deployed network we're primarily juniper

107
00:04:12,689 --> 00:04:18,810
and cisco on the subscriber side and

108
00:04:16,409 --> 00:04:21,539
lack and idleness devices<font color="#E5E5E5"> where they the</font>

109
00:04:18,810 --> 00:04:24,100
old<font color="#E5E5E5"> Geno's fee-based</font><font color="#CCCCCC"> unisphere devices</font>

110
00:04:21,539 --> 00:04:27,969
of<font color="#E5E5E5"> Juniper which are the ER x and</font>

111
00:04:24,100 --> 00:04:31,030
320 then we had juniper tnm series on

112
00:04:27,970 --> 00:04:33,760
the mpls VPN as as<font color="#E5E5E5"> p.m. PE as well as</font>

113
00:04:31,030 --> 00:04:35,289
cisco routers and there were to actually

114
00:04:33,760 --> 00:04:37,630
separate VPN networks that we actually

115
00:04:35,290 --> 00:04:39,610
connect through Interpol wider option C

116
00:04:37,630 --> 00:04:41,740
for VPNs and that was part<font color="#E5E5E5"> of that</font><font color="#CCCCCC"> vb6</font>

117
00:04:39,610 --> 00:04:44,050
<font color="#E5E5E5">design as well and then we also have</font>

118
00:04:41,740 --> 00:04:46,210
<font color="#CCCCCC">cisco CRSs as Internet routers as well</font>

119
00:04:44,050 --> 00:04:48,490
and they're also alcatel devices that

120
00:04:46,210 --> 00:04:51,729
were transparent to ipv6 because they

121
00:04:48,490 --> 00:04:56,470
were providing vpls for the<font color="#CCCCCC"> underlying</font>

122
00:04:51,730 --> 00:04:57,970
<font color="#E5E5E5">metro transport so the first network</font><font color="#CCCCCC"> I'm</font>

123
00:04:56,470 --> 00:05:01,330
going to talk about is the<font color="#E5E5E5"> residential</font>

124
00:04:57,970 --> 00:05:03,190
piece of this and there were there are

125
00:05:01,330 --> 00:05:04,960
actually three models i mean the<font color="#CCCCCC"> two</font>

126
00:05:03,190 --> 00:05:06,190
<font color="#E5E5E5">often where majority of the subscribers</font>

127
00:05:04,960 --> 00:05:08,560
used it this<font color="#E5E5E5"> is one of these two models</font>

128
00:05:06,190 --> 00:05:11,050
and so one of them is a simple routed

129
00:05:08,560 --> 00:05:13,480
mode where you<font color="#CCCCCC"> have a PPP session from</font>

130
00:05:11,050 --> 00:05:15,190
the cpe terminating on the<font color="#E5E5E5"> lack and then</font>

131
00:05:13,480 --> 00:05:18,130
based on<font color="#E5E5E5"> the authentication result you</font>

132
00:05:15,190 --> 00:05:21,100
can be handled by<font color="#E5E5E5"> the subscriber itself</font>

133
00:05:18,130 --> 00:05:24,310
or can be handed to another isp very

134
00:05:21,100 --> 00:05:26,290
vanilla nothing fancy about that or you

135
00:05:24,310 --> 00:05:29,320
could actually have an<font color="#E5E5E5"> lttp back hall</font>

136
00:05:26,290 --> 00:05:32,140
where the<font color="#CCCCCC"> lac has an lttp session to an</font>

137
00:05:29,320 --> 00:05:33,520
LMS and from there the LMS could be

138
00:05:32,140 --> 00:05:35,650
owned by the service provider or it

139
00:05:33,520 --> 00:05:38,109
could be owned by a third party and<font color="#E5E5E5"> from</font>

140
00:05:35,650 --> 00:05:40,539
there it will exit you know most<font color="#E5E5E5"> of him</font>

141
00:05:38,110 --> 00:05:42,820
to another to mpls VPN network where we

142
00:05:40,540 --> 00:05:44,830
<font color="#E5E5E5">will talk about separately and to a</font>

143
00:05:42,820 --> 00:05:46,270
corporate network there was also a third

144
00:05:44,830 --> 00:05:49,120
case which had to<font color="#CCCCCC"> do with</font><font color="#E5E5E5"> customers</font>

145
00:05:46,270 --> 00:05:51,370
which were using a<font color="#E5E5E5"> bridged mode access</font>

146
00:05:49,120 --> 00:05:53,520
and for that it was<font color="#E5E5E5"> actually very small</font>

147
00:05:51,370 --> 00:05:57,580
number of the subscribers in this case

148
00:05:53,520 --> 00:05:59,500
that that<font color="#E5E5E5"> used that but we actually make</font>

149
00:05:57,580 --> 00:06:04,479
design changes and<font color="#E5E5E5"> I want to talk about</font>

150
00:05:59,500 --> 00:06:07,240
profiles<font color="#E5E5E5"> I'll mention them so let's say</font>

151
00:06:04,480 --> 00:06:09,280
<font color="#E5E5E5">you have a PPP based network for your</font>

152
00:06:07,240 --> 00:06:12,160
subscriber network and you you want to

153
00:06:09,280 --> 00:06:15,729
move to ipv6 the first<font color="#E5E5E5"> question that</font>

154
00:06:12,160 --> 00:06:17,110
<font color="#E5E5E5">gets raised is what model of PPP are you</font>

155
00:06:15,730 --> 00:06:19,000
going to use are you going to have a

156
00:06:17,110 --> 00:06:20,080
dual stack or dual session basically are

157
00:06:19,000 --> 00:06:22,930
<font color="#E5E5E5">you going to have one</font><font color="#CCCCCC"> PP each session</font>

158
00:06:20,080 --> 00:06:25,599
with ipv4 and ipv6 right on top of<font color="#E5E5E5"> it</font>

159
00:06:22,930 --> 00:06:27,340
like the one on the left or are you

160
00:06:25,600 --> 00:06:30,970
going to have to separate EVP sessions

161
00:06:27,340 --> 00:06:33,549
and i'm<font color="#E5E5E5"> going to say scaling a lot in</font>

162
00:06:30,970 --> 00:06:34,460
<font color="#E5E5E5">this presentation and due to scaling</font>

163
00:06:33,550 --> 00:06:38,120
reasons

164
00:06:34,460 --> 00:06:40,400
and many other<font color="#E5E5E5"> of implementation reasons</font>

165
00:06:38,120 --> 00:06:42,259
the one<font color="#CCCCCC"> on</font><font color="#E5E5E5"> the right was never even an</font>

166
00:06:40,400 --> 00:06:43,880
option for us so from the very beginning

167
00:06:42,259 --> 00:06:45,979
we knew that we have to go with one

168
00:06:43,880 --> 00:06:47,960
single PPP session and also involve

169
00:06:45,979 --> 00:06:50,690
network management tools what customer

170
00:06:47,960 --> 00:06:53,840
was comfortable with so what we have

171
00:06:50,690 --> 00:06:56,900
actually was one authentication unified

172
00:06:53,840 --> 00:06:57,739
for before and v6 the one on<font color="#CCCCCC"> the right</font>

173
00:06:56,900 --> 00:07:00,919
actually<font color="#E5E5E5"> has some interesting</font>

174
00:06:57,740 --> 00:07:03,199
applications for ipv6<font color="#E5E5E5"> LMS for example</font>

175
00:07:00,919 --> 00:07:05,030
but most of the people have talked to

176
00:07:03,199 --> 00:07:07,699
<font color="#E5E5E5">when they have a PPP network are</font>

177
00:07:05,030 --> 00:07:14,719
considering the model<font color="#CCCCCC"> on the left which</font>

178
00:07:07,699 --> 00:07:18,380
<font color="#CCCCCC">is the one single PPP session so how do</font>

179
00:07:14,720 --> 00:07:19,610
you<font color="#E5E5E5"> get started</font><font color="#CCCCCC"> and that's might that</font>

180
00:07:18,380 --> 00:07:22,250
might be actually the most difficult

181
00:07:19,610 --> 00:07:24,470
part<font color="#CCCCCC"> of this project is you know when</font>

182
00:07:22,250 --> 00:07:27,800
somebody has nothing in place how do you

183
00:07:24,470 --> 00:07:29,270
<font color="#E5E5E5">get started</font><font color="#CCCCCC"> the service offering is you</font>

184
00:07:27,800 --> 00:07:30,620
know probably the most important part

185
00:07:29,270 --> 00:07:32,568
for any sort of anything you're going<font color="#E5E5E5"> to</font>

186
00:07:30,620 --> 00:07:35,539
<font color="#E5E5E5">roll out and for ipv6 is not any</font>

187
00:07:32,569 --> 00:07:36,800
different we spend a lot of time trying

188
00:07:35,539 --> 00:07:40,159
to<font color="#E5E5E5"> figure out what was offered an</font><font color="#CCCCCC"> IP</font>

189
00:07:36,800 --> 00:07:42,050
<font color="#CCCCCC">before and I know a lot of guys probably</font>

190
00:07:40,159 --> 00:07:44,000
here have documentation about every

191
00:07:42,050 --> 00:07:46,039
service to offer and but some of you

192
00:07:44,000 --> 00:07:49,070
probably have stuff that<font color="#CCCCCC"> is 52 years old</font>

193
00:07:46,039 --> 00:07:51,650
and<font color="#CCCCCC"> that was a case with this</font><font color="#E5E5E5"> customer</font>

194
00:07:49,070 --> 00:07:53,000
and so the first thing we had to do

195
00:07:51,650 --> 00:07:54,560
<font color="#CCCCCC">would go</font><font color="#E5E5E5"> through all the configuration</font>

196
00:07:53,000 --> 00:07:56,150
and a documentation and trying to figure

197
00:07:54,560 --> 00:07:59,780
<font color="#CCCCCC">out what it is that actually they offer</font>

198
00:07:56,150 --> 00:08:01,039
an IP before then the next thing<font color="#CCCCCC"> is do</font>

199
00:07:59,780 --> 00:08:03,530
any<font color="#E5E5E5"> of these things actually makes sense</font>

200
00:08:01,039 --> 00:08:05,570
<font color="#E5E5E5">to move forward to ipv6 there are</font>

201
00:08:03,530 --> 00:08:07,580
actually<font color="#CCCCCC"> many IP before things that and</font>

202
00:08:05,570 --> 00:08:09,969
<font color="#E5E5E5">I have for example it one example at</font><font color="#CCCCCC"> the</font>

203
00:08:07,580 --> 00:08:13,550
end there it doesn't really make sense

204
00:08:09,969 --> 00:08:17,330
to carry the ipv4 or it wouldn't be

205
00:08:13,550 --> 00:08:19,400
feasible these scaling reasons so I

206
00:08:17,330 --> 00:08:22,310
mentioned<font color="#E5E5E5"> example is for example</font><font color="#CCCCCC"> for</font>

207
00:08:19,400 --> 00:08:25,729
ipv4 and if subscriber networks is a

208
00:08:22,310 --> 00:08:27,050
service<font color="#E5E5E5"> called fixed IP where the you</font>

209
00:08:25,729 --> 00:08:29,960
get the same<font color="#E5E5E5"> IP address it goes away</font>

210
00:08:27,050 --> 00:08:32,839
where<font color="#E5E5E5"> you</font><font color="#CCCCCC"> login from and to do that so</font>

211
00:08:29,960 --> 00:08:35,598
the providers actually leaked / 30 tues

212
00:08:32,839 --> 00:08:38,209
<font color="#E5E5E5">through all the all throughout the whole</font>

213
00:08:35,599 --> 00:08:39,740
subscriber network well they're scaling

214
00:08:38,208 --> 00:08:42,799
reasons because<font color="#E5E5E5"> it's scaling usually</font>

215
00:08:39,740 --> 00:08:44,300
different<font color="#E5E5E5"> for ipv6 and ipv4 that's</font>

216
00:08:42,799 --> 00:08:45,349
really<font color="#E5E5E5"> not feasible for leaking all the</font>

217
00:08:44,300 --> 00:08:46,760
stats 128

218
00:08:45,350 --> 00:08:48,080
the<font color="#E5E5E5"> network so that one thing that's</font>

219
00:08:46,760 --> 00:08:51,260
right there for<font color="#E5E5E5"> example we know</font><font color="#CCCCCC"> you have</font>

220
00:08:48,080 --> 00:08:53,750
<font color="#CCCCCC">to do something</font><font color="#E5E5E5"> different everything is</font>

221
00:08:51,260 --> 00:08:55,580
influenced by scaling and as you go

222
00:08:53,750 --> 00:08:59,150
about doing ipv6 a lot of TI probably

223
00:08:55,580 --> 00:09:00,290
run into this um it's very early<font color="#CCCCCC"> on that</font>

224
00:08:59,150 --> 00:09:01,699
you<font color="#E5E5E5"> have</font><font color="#CCCCCC"> to figure</font><font color="#E5E5E5"> out what are the</font>

225
00:09:00,290 --> 00:09:03,290
limits of your<font color="#E5E5E5"> device what the limits</font>

226
00:09:01,700 --> 00:09:05,900
are for<font color="#E5E5E5"> your device is because as soon</font>

227
00:09:03,290 --> 00:09:08,750
as you get into it it really quickly

228
00:09:05,900 --> 00:09:10,220
affects your design decisions you might

229
00:09:08,750 --> 00:09:11,690
have to buy new hardware you might have

230
00:09:10,220 --> 00:09:15,820
to upgrade your software and you might

231
00:09:11,690 --> 00:09:19,580
need new guidelines to what's offered

232
00:09:15,820 --> 00:09:21,140
and um if you<font color="#CCCCCC"> want I can talk</font><font color="#E5E5E5"> about some</font>

233
00:09:19,580 --> 00:09:22,640
of the places where i saw the scaling

234
00:09:21,140 --> 00:09:25,100
and<font color="#E5E5E5"> i have a slide on that at the end</font>

235
00:09:22,640 --> 00:09:26,900
and then there's the smaller things like

236
00:09:25,100 --> 00:09:29,240
licenses some<font color="#E5E5E5"> devices like for example</font>

237
00:09:26,900 --> 00:09:34,520
the<font color="#CCCCCC"> junos a base juniper routers needed</font>

238
00:09:29,240 --> 00:09:36,530
an ipv6 license so on the<font color="#CCCCCC"> subscribers</font>

239
00:09:34,520 --> 00:09:38,600
side what was what were the first things

240
00:09:36,530 --> 00:09:40,100
that we had to do<font color="#E5E5E5"> interfaces obviously</font>

241
00:09:38,600 --> 00:09:41,570
it started for my numbering in the

242
00:09:40,100 --> 00:09:44,720
<font color="#E5E5E5">coming up with the way when</font><font color="#CCCCCC"> the scheme</font>

243
00:09:41,570 --> 00:09:46,790
for for addresses on IP on actual

244
00:09:44,720 --> 00:09:49,880
interfaces on the<font color="#E5E5E5"> lack of metal mesh</font>

245
00:09:46,790 --> 00:09:56,510
devices there are many<font color="#E5E5E5"> choices you gotta</font>

246
00:09:49,880 --> 00:09:58,070
/ 126 / 127 64's and many opinions<font color="#CCCCCC"> I</font>

247
00:09:56,510 --> 00:09:59,870
mean<font color="#CCCCCC"> I have talked to many people and</font>

248
00:09:58,070 --> 00:10:03,200
that there was a presentation from an

249
00:09:59,870 --> 00:10:05,170
old nanog where / 64 s were actually

250
00:10:03,200 --> 00:10:09,050
said to be very wasteful even for ipv6

251
00:10:05,170 --> 00:10:12,380
what we did pick ax /<font color="#E5E5E5"> 64 and so we were</font>

252
00:10:09,050 --> 00:10:14,359
raised phul but it was much easier<font color="#E5E5E5"> for</font>

253
00:10:12,380 --> 00:10:16,790
somebody who doesn't have much expertise

254
00:10:14,360 --> 00:10:18,440
in ipv6 to deal with simple or

255
00:10:16,790 --> 00:10:20,900
addressing because we just picked that

256
00:10:18,440 --> 00:10:25,250
one and that too as the two sides<font color="#E5E5E5"> of the</font>

257
00:10:20,900 --> 00:10:29,959
interface and that was it maybe not the

258
00:10:25,250 --> 00:10:33,560
most efficient way of doing things<font color="#CCCCCC"> but</font>

259
00:10:29,960 --> 00:10:36,800
that's the way we did it as far as<font color="#E5E5E5"> I GP</font>

260
00:10:33,560 --> 00:10:40,130
is is was a protocol and we just got

261
00:10:36,800 --> 00:10:43,699
altered is is to<font color="#CCCCCC"> carry ipv6 routes for</font>

262
00:10:40,130 --> 00:10:48,439
bgp we have two options we could have

263
00:10:43,700 --> 00:10:50,900
native ipv6 endpoints right or you could

264
00:10:48,440 --> 00:10:52,980
actually have your existing ipv4 bgp

265
00:10:50,900 --> 00:10:55,889
sessions carrying ipv6<font color="#CCCCCC"> MRI</font>

266
00:10:52,980 --> 00:10:57,630
and so this<font color="#CCCCCC"> is the</font><font color="#E5E5E5"> question of how</font><font color="#CCCCCC"> much</font>

267
00:10:55,889 --> 00:10:59,579
isolation you want between services as

268
00:10:57,630 --> 00:11:02,130
far as control plane versus what you're

269
00:10:59,579 --> 00:11:03,449
scaling needs are and we wanted<font color="#E5E5E5"> to keep</font>

270
00:11:02,130 --> 00:11:04,800
things<font color="#E5E5E5"> as separate as possible even</font>

271
00:11:03,449 --> 00:11:06,750
<font color="#E5E5E5">though we shared</font><font color="#CCCCCC"> igp because it was</font>

272
00:11:04,800 --> 00:11:08,370
easier<font color="#CCCCCC"> when it came to be GV we always</font>

273
00:11:06,750 --> 00:11:09,779
kept things separate I mean<font color="#E5E5E5"> since then</font>

274
00:11:08,370 --> 00:11:12,300
I've<font color="#CCCCCC"> done another project in Europe</font>

275
00:11:09,779 --> 00:11:15,660
where we even since we started from ospf

276
00:11:12,300 --> 00:11:17,819
and ospf doesn't support v6 natively and

277
00:11:15,660 --> 00:11:20,100
you have to do to ospfv3 we decided to

278
00:11:17,820 --> 00:11:21,690
have<font color="#E5E5E5"> two separate I gp's but if you're</font>

279
00:11:20,100 --> 00:11:22,980
<font color="#E5E5E5">starting from eyes is a lot of times it</font>

280
00:11:21,690 --> 00:11:25,490
makes<font color="#E5E5E5"> sense just</font><font color="#CCCCCC"> to be a</font><font color="#E5E5E5"> little lazier</font>

281
00:11:22,980 --> 00:11:28,230
and just configure<font color="#E5E5E5"> I</font><font color="#CCCCCC"> sighs to carry both</font>

282
00:11:25,490 --> 00:11:31,320
so anyways we pick the least painful

283
00:11:28,230 --> 00:11:35,519
process the option which was to have is

284
00:11:31,320 --> 00:11:38,760
is carry both protocols and bgp native

285
00:11:35,519 --> 00:11:40,620
bgp endpoints and then you also have

286
00:11:38,760 --> 00:11:43,439
<font color="#E5E5E5">this idea of all your routing you have a</font>

287
00:11:40,620 --> 00:11:44,760
lot of routing policies in place and all

288
00:11:43,440 --> 00:11:46,529
of those have to be converted so you

289
00:11:44,760 --> 00:11:48,240
have to have if you're<font color="#E5E5E5"> sending the</font>

290
00:11:46,529 --> 00:11:52,769
default route for example to somebody

291
00:11:48,240 --> 00:11:55,170
you have to convert that for v6<font color="#CCCCCC"> the most</font>

292
00:11:52,769 --> 00:11:56,670
<font color="#E5E5E5">difficult part of</font><font color="#CCCCCC"> the subscriber network</font>

293
00:11:55,170 --> 00:11:58,439
design is<font color="#CCCCCC"> actually how you're going to</font>

294
00:11:56,670 --> 00:12:00,750
assign IP addresses to your customer and

295
00:11:58,440 --> 00:12:04,350
this is going<font color="#E5E5E5"> to be different from from</font>

296
00:12:00,750 --> 00:12:05,639
provider to provider so this diagram

297
00:12:04,350 --> 00:12:08,579
<font color="#E5E5E5">basically tells you that</font><font color="#CCCCCC"> they're</font>

298
00:12:05,639 --> 00:12:11,670
different parts of through this problem

299
00:12:08,579 --> 00:12:13,620
and they probably before usually<font color="#E5E5E5"> as soon</font>

300
00:12:11,670 --> 00:12:16,889
as user authenticates they get an

301
00:12:13,620 --> 00:12:18,990
address from the radius server and this

302
00:12:16,889 --> 00:12:20,639
is the same idea from v6 and with a

303
00:12:18,990 --> 00:12:24,120
different of difference is that in for

304
00:12:20,639 --> 00:12:26,040
v6 and<font color="#CCCCCC"> I have you can actually get up</font><font color="#E5E5E5"> to</font>

305
00:12:24,120 --> 00:12:28,310
<font color="#E5E5E5">three addresses so you always get a</font>

306
00:12:26,040 --> 00:12:32,910
link-local address and then you<font color="#E5E5E5"> also</font>

307
00:12:28,310 --> 00:12:36,149
<font color="#E5E5E5">could get a an address coming from the</font>

308
00:12:32,910 --> 00:12:39,300
icmpv6 neighbor discovery process for

309
00:12:36,149 --> 00:12:40,860
for that<font color="#CCCCCC"> for a</font><font color="#E5E5E5"> for the van link and then</font>

310
00:12:39,300 --> 00:12:43,229
there'll be a third<font color="#E5E5E5"> one which is new to</font>

311
00:12:40,860 --> 00:12:46,560
ipv6 or uniquely ipv6 which is the

312
00:12:43,230 --> 00:12:50,940
perfect<font color="#E5E5E5"> solution concept where you</font>

313
00:12:46,560 --> 00:12:52,920
actually assign ipv6 to the cpe and the

314
00:12:50,940 --> 00:12:57,180
CP that has a chance to assign that to

315
00:12:52,920 --> 00:12:59,069
its own network sitting behind it so if

316
00:12:57,180 --> 00:13:00,829
you<font color="#E5E5E5"> look at this diagram then the orange</font>

317
00:12:59,069 --> 00:13:05,660
side is basically what happens<font color="#E5E5E5"> under</font>

318
00:13:00,830 --> 00:13:07,820
honest behind the CP up this is actually

319
00:13:05,660 --> 00:13:09,469
what<font color="#CCCCCC"> it took a lot of time</font><font color="#E5E5E5"> because what</font>

320
00:13:07,820 --> 00:13:10,610
happens is depending on<font color="#E5E5E5"> how you decide</font>

321
00:13:09,470 --> 00:13:13,550
to configure this and this is<font color="#E5E5E5"> very</font>

322
00:13:10,610 --> 00:13:15,050
implementation dependent I this is where

323
00:13:13,550 --> 00:13:17,030
you run into a lot of<font color="#E5E5E5"> your scaling</font>

324
00:13:15,050 --> 00:13:18,050
issues because you know there's a big

325
00:13:17,030 --> 00:13:19,790
difference<font color="#E5E5E5"> between having each</font>

326
00:13:18,050 --> 00:13:22,040
subscriber burning two addresses versus

327
00:13:19,790 --> 00:13:23,900
three addresses and also the way you

328
00:13:22,040 --> 00:13:26,120
configure the local<font color="#CCCCCC"> life if you're doing</font>

329
00:13:23,900 --> 00:13:29,270
local pools on the on the on a beer as

330
00:13:26,120 --> 00:13:31,580
device the way you configure these are

331
00:13:29,270 --> 00:13:33,829
just implementation details will affect

332
00:13:31,580 --> 00:13:36,380
the scaling of the device and there's

333
00:13:33,830 --> 00:13:37,850
<font color="#E5E5E5">the ipv4 and ipv6 have different</font><font color="#CCCCCC"> skin</font>

334
00:13:36,380 --> 00:13:39,980
<font color="#E5E5E5">limits so just because you can have</font>

335
00:13:37,850 --> 00:13:41,690
10,000 ipv4 customers doesn't<font color="#E5E5E5"> storm you</font>

336
00:13:39,980 --> 00:13:49,970
can have 10,000<font color="#E5E5E5"> I give you six customers</font>

337
00:13:41,690 --> 00:13:52,760
that or dual stack customers so when you

338
00:13:49,970 --> 00:13:55,100
have a dynamic before your peepee uppp

339
00:13:52,760 --> 00:13:58,010
least act like we did where the actual

340
00:13:55,100 --> 00:13:59,570
subscriber<font color="#E5E5E5"> interface is the vlans or ATM</font>

341
00:13:58,010 --> 00:14:01,819
sobbing faces to actually don't need<font color="#E5E5E5"> any</font>

342
00:13:59,570 --> 00:14:03,620
change when you<font color="#E5E5E5"> go to ipv6 the the</font>

343
00:14:01,820 --> 00:14:05,240
profile is dynamic and it gets assigned

344
00:14:03,620 --> 00:14:07,490
to the user as soon as they get

345
00:14:05,240 --> 00:14:09,740
authenticated so all the changes for

346
00:14:07,490 --> 00:14:11,510
ipv6 for individual<font color="#E5E5E5"> dsl user in our case</font>

347
00:14:09,740 --> 00:14:13,550
all that changed for that specific user

348
00:14:11,510 --> 00:14:16,310
was contained in<font color="#E5E5E5"> the profile and the</font>

349
00:14:13,550 --> 00:14:19,010
user profile so a user profile that

350
00:14:16,310 --> 00:14:20,689
currently has<font color="#E5E5E5"> ipv4 certain IP before</font>

351
00:14:19,010 --> 00:14:23,319
<font color="#CCCCCC">information has to be changed</font><font color="#E5E5E5"> to have</font>

352
00:14:20,690 --> 00:14:26,330
<font color="#E5E5E5">now certain ipv6 specific information</font>

353
00:14:23,320 --> 00:14:28,010
these are new information are listed

354
00:14:26,330 --> 00:14:30,410
there you<font color="#E5E5E5"> need</font><font color="#CCCCCC"> to have an ipv6 loopback</font>

355
00:14:28,010 --> 00:14:34,700
neighbor discovery if you<font color="#CCCCCC"> want it to be</font>

356
00:14:30,410 --> 00:14:37,610
<font color="#E5E5E5">turned on usually providers have it ipv4</font>

357
00:14:34,700 --> 00:14:40,700
policies patch to dsl customers so we

358
00:14:37,610 --> 00:14:43,190
need an ipv6 policy but<font color="#E5E5E5"> for security</font>

359
00:14:40,700 --> 00:14:45,170
checks and things like that this is

360
00:14:43,190 --> 00:14:47,240
specific case we had RPF check or ever

361
00:14:45,170 --> 00:14:52,969
before<font color="#E5E5E5"> customer so we do the same thing</font>

362
00:14:47,240 --> 00:14:55,010
for ipv6 and and one of<font color="#CCCCCC"> the things that</font>

363
00:14:52,970 --> 00:14:56,240
actually was different in our case and

364
00:14:55,010 --> 00:14:58,730
this<font color="#E5E5E5"> is something</font><font color="#CCCCCC"> that we</font><font color="#E5E5E5"> actually</font>

365
00:14:56,240 --> 00:15:01,390
changed design a bunch of time is that

366
00:14:58,730 --> 00:15:03,590
<font color="#E5E5E5">during we had to keep in mind</font><font color="#CCCCCC"> and</font>

367
00:15:01,390 --> 00:15:06,680
incorporating your design the fact that

368
00:15:03,590 --> 00:15:07,889
in the future carrier-grade NAT or CGN

369
00:15:06,680 --> 00:15:09,660
would be<font color="#E5E5E5"> something that will</font>

370
00:15:07,889 --> 00:15:12,089
happen in a network even though the

371
00:15:09,660 --> 00:15:14,608
exact<font color="#CCCCCC"> details are not known we wanted</font><font color="#E5E5E5"> to</font>

372
00:15:12,089 --> 00:15:17,040
have the capability to<font color="#CCCCCC"> base on</font>

373
00:15:14,609 --> 00:15:20,100
authentication results move a<font color="#E5E5E5"> customer</font>

374
00:15:17,040 --> 00:15:21,599
from 11 virtual routing domain to

375
00:15:20,100 --> 00:15:25,529
another one so that<font color="#E5E5E5"> can be routed to</font><font color="#CCCCCC"> a</font>

376
00:15:21,600 --> 00:15:26,999
siegean box and that<font color="#CCCCCC"> actually affected</font>

377
00:15:25,529 --> 00:15:29,850
the way we configure the profiles and

378
00:15:26,999 --> 00:15:33,119
and and<font color="#E5E5E5"> and the AAA profiles on the on</font>

379
00:15:29,850 --> 00:15:34,709
the<font color="#E5E5E5"> lack and on the BRS so a lot of</font>

380
00:15:33,119 --> 00:15:35,879
details on you have today we have<font color="#E5E5E5"> to</font>

381
00:15:34,709 --> 00:15:39,059
test all<font color="#CCCCCC"> of these and see how they</font>

382
00:15:35,879 --> 00:15:41,819
actually<font color="#CCCCCC"> behave and at the end we came</font>

383
00:15:39,059 --> 00:15:44,730
up<font color="#E5E5E5"> it's basically kind of a hack include</font>

384
00:15:41,819 --> 00:15:47,519
to have a way to move a customer based

385
00:15:44,730 --> 00:15:49,499
on the authentication results from one

386
00:15:47,519 --> 00:15:50,429
virtual router to another one so that

387
00:15:49,499 --> 00:15:54,959
they can't have a different routing

388
00:15:50,429 --> 00:15:56,279
domain dns servers are just a quick

389
00:15:54,959 --> 00:15:57,959
mention because this is another thing

390
00:15:56,279 --> 00:16:00,929
that the behavior wasn't clear till we

391
00:15:57,959 --> 00:16:02,309
actually tested it so how many<font color="#CCCCCC"> DNS</font>

392
00:16:00,929 --> 00:16:04,679
servers<font color="#E5E5E5"> for ipv6 you want to send</font><font color="#CCCCCC"> to a</font>

393
00:16:02,309 --> 00:16:06,118
customer and<font color="#E5E5E5"> the problem was that there</font>

394
00:16:04,679 --> 00:16:11,970
were many places you can configure this

395
00:16:06,119 --> 00:16:14,639
and on ER x and so you know<font color="#E5E5E5"> there are</font>

396
00:16:11,970 --> 00:16:17,610
three places here listed we pick the

397
00:16:14,639 --> 00:16:20,579
same place that<font color="#CCCCCC"> we configure ipv4</font><font color="#E5E5E5"> which</font>

398
00:16:17,610 --> 00:16:23,669
is triple-a ipv6 dash DMS by through

399
00:16:20,579 --> 00:16:25,859
that command and then the designer came

400
00:16:23,669 --> 00:16:28,049
up with was that you always get<font color="#CCCCCC"> to DNS</font>

401
00:16:25,860 --> 00:16:29,369
servers and then if you want to override

402
00:16:28,049 --> 00:16:33,089
that you could do that<font color="#E5E5E5"> by configuring</font>

403
00:16:29,369 --> 00:16:36,749
under dhcpv6 local server configuration

404
00:16:33,089 --> 00:16:39,629
so basically the SCP v6 LS is where you

405
00:16:36,749 --> 00:16:41,549
do your<font color="#E5E5E5"> DHCP prefix delegation and right</font>

406
00:16:39,629 --> 00:16:47,369
under that you can also configure the

407
00:16:41,549 --> 00:16:49,889
DNS servers a quick mention we have<font color="#E5E5E5"> to</font>

408
00:16:47,369 --> 00:16:51,539
add accounting the support so everything

409
00:16:49,889 --> 00:16:53,269
that<font color="#E5E5E5"> you have for</font><font color="#CCCCCC"> ipv4</font><font color="#E5E5E5"> including</font>

410
00:16:51,539 --> 00:16:56,699
<font color="#E5E5E5">accounting needs to be updated for ipv6</font>

411
00:16:53,269 --> 00:16:59,730
counters<font color="#E5E5E5"> the customer already used PPP</font>

412
00:16:56,699 --> 00:17:03,628
counters so since we're using one<font color="#E5E5E5"> ppv</font>

413
00:16:59,730 --> 00:17:05,909
session for ipv4 my ipv6 the PPP

414
00:17:03,629 --> 00:17:07,500
counters already captured whatever they

415
00:17:05,909 --> 00:17:10,980
<font color="#E5E5E5">needed but there was also</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> can be</font>

416
00:17:07,500 --> 00:17:15,148
specific counters that were included<font color="#CCCCCC"> in</font>

417
00:17:10,980 --> 00:17:17,339
our design and then there was an<font color="#CCCCCC"> lms</font>

418
00:17:15,148 --> 00:17:20,219
piece and a lot of the designs that

419
00:17:17,339 --> 00:17:24,208
running to the lac are also common today

420
00:17:20,220 --> 00:17:25,709
yes there are so we could say that<font color="#E5E5E5"> L&S</font>

421
00:17:24,209 --> 00:17:27,510
actually is a superset because it has

422
00:17:25,709 --> 00:17:31,049
many<font color="#CCCCCC"> other things in it that lack</font>

423
00:17:27,510 --> 00:17:33,419
doesn't so for example<font color="#CCCCCC"> there's actually</font>

424
00:17:31,049 --> 00:17:35,850
specific vrf configuration on lms that

425
00:17:33,419 --> 00:17:38,309
connects<font color="#E5E5E5"> to the mpls VPN including the</font>

426
00:17:35,850 --> 00:17:40,590
fact that the routing connections on<font color="#E5E5E5"> lms</font>

427
00:17:38,309 --> 00:17:42,120
to the mpls VPN network is going to be

428
00:17:40,590 --> 00:17:44,100
based<font color="#E5E5E5"> on what</font><font color="#CCCCCC"> i'm going to</font><font color="#E5E5E5"> talk about</font>

429
00:17:42,120 --> 00:17:50,010
next which is at six vpe so it's based

430
00:17:44,100 --> 00:17:52,049
on mpls so so we talked about subscriber

431
00:17:50,010 --> 00:17:53,879
network that<font color="#CCCCCC"> and the subscriber network</font>

432
00:17:52,049 --> 00:17:56,490
touches and<font color="#CCCCCC"> I'm from one end through and</font>

433
00:17:53,880 --> 00:17:58,140
<font color="#CCCCCC">on Nancy</font><font color="#E5E5E5"> such as MPLS VPN network from</font>

434
00:17:56,490 --> 00:18:01,289
one end it goes to the internet which

435
00:17:58,140 --> 00:18:04,500
we'll talk about at the<font color="#CCCCCC"> end so mpls VPN</font>

436
00:18:01,289 --> 00:18:07,980
network is is basically obviously used

437
00:18:04,500 --> 00:18:10,860
for enterprise customer access and it's

438
00:18:07,980 --> 00:18:13,549
a<font color="#E5E5E5"> private network but still it was part</font>

439
00:18:10,860 --> 00:18:16,490
of the scope to have that<font color="#E5E5E5"> ipv6 enable</font>

440
00:18:13,549 --> 00:18:19,980
since mpls is already used<font color="#E5E5E5"> for ipv4</font>

441
00:18:16,490 --> 00:18:22,950
moving to activity<font color="#CCCCCC"> 644</font><font color="#E5E5E5"> mpls VPN network</font>

442
00:18:19,980 --> 00:18:25,860
is actually quite simple the<font color="#CCCCCC"> model that</font>

443
00:18:22,950 --> 00:18:28,049
is used is called six vp which basically

444
00:18:25,860 --> 00:18:30,449
uses a label the same way that happy

445
00:18:28,049 --> 00:18:33,929
before uses<font color="#E5E5E5"> two or two ton of likely be</font>

446
00:18:30,450 --> 00:18:36,330
<font color="#E5E5E5">six to the</font><font color="#CCCCCC"> network what's good</font><font color="#E5E5E5"> about it</font>

447
00:18:33,929 --> 00:18:38,610
is that you use the same mpls LSPs and

448
00:18:36,330 --> 00:18:39,840
you in the goal is to<font color="#CCCCCC"> actually have</font>

449
00:18:38,610 --> 00:18:41,520
everything that<font color="#CCCCCC"> you have for</font><font color="#E5E5E5"> before</font>

450
00:18:39,840 --> 00:18:44,939
including the filters and counters and

451
00:18:41,520 --> 00:18:47,840
all the qos configurations that before

452
00:18:44,940 --> 00:18:49,860
to have that all work for OB<font color="#CCCCCC"> 6 as well I</font>

453
00:18:47,840 --> 00:18:51,418
<font color="#CCCCCC">think that's</font><font color="#E5E5E5"> was</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> goal</font><font color="#CCCCCC"> i mean we</font>

454
00:18:49,860 --> 00:18:52,469
actually<font color="#CCCCCC"> ran into some implementation</font>

455
00:18:51,419 --> 00:18:55,230
issues where not everything was

456
00:18:52,470 --> 00:19:00,960
supported but the concepts are very

457
00:18:55,230 --> 00:19:02,159
similar<font color="#CCCCCC"> so all the PT robbers that</font>

458
00:19:00,960 --> 00:19:04,230
<font color="#E5E5E5">reported the scope of this project were</font>

459
00:19:02,159 --> 00:19:06,659
a<font color="#E5E5E5"> jew no space and then</font><font color="#CCCCCC"> junos you have</font>

460
00:19:04,230 --> 00:19:09,570
ipv6 tunneling which is a command that

461
00:19:06,659 --> 00:19:11,159
you<font color="#E5E5E5"> turn on under in pls stanza and what</font>

462
00:19:09,570 --> 00:19:15,090
<font color="#CCCCCC">that does is</font><font color="#E5E5E5"> that it enables a router to</font>

463
00:19:11,159 --> 00:19:16,860
resolve the ipv6 next hops

464
00:19:15,090 --> 00:19:18,090
and then the other<font color="#CCCCCC"> thing is</font><font color="#E5E5E5"> the only</font>

465
00:19:16,860 --> 00:19:21,629
other thing you really have<font color="#E5E5E5"> to do is</font>

466
00:19:18,090 --> 00:19:24,090
turn on ipv6 address family under bgp

467
00:19:21,630 --> 00:19:25,230
sessions the hardest<font color="#CCCCCC"> part of this was</font>

468
00:19:24,090 --> 00:19:26,189
not actually<font color="#CCCCCC"> in figuring out what we're</font>

469
00:19:25,230 --> 00:19:27,930
going to do it was actually<font color="#E5E5E5"> the</font>

470
00:19:26,190 --> 00:19:29,220
migration planning so that you turn on

471
00:19:27,930 --> 00:19:30,990
the new<font color="#E5E5E5"> address families without</font>

472
00:19:29,220 --> 00:19:33,600
bringing out all the sessions at the

473
00:19:30,990 --> 00:19:35,610
same time the other thing is<font color="#E5E5E5"> that this</font>

474
00:19:33,600 --> 00:19:38,419
all these this network also had

475
00:19:35,610 --> 00:19:40,889
interoperability testing with the Cisco

476
00:19:38,420 --> 00:19:44,310
devices sitting<font color="#E5E5E5"> on a separate layer</font>

477
00:19:40,890 --> 00:19:47,190
<font color="#E5E5E5">three VPN network through option C inter</font>

478
00:19:44,310 --> 00:19:51,480
provider VPNs and to support ipv6 across

479
00:19:47,190 --> 00:19:53,190
the two vendors that's on the course

480
00:19:51,480 --> 00:19:56,130
sites on the course ID is very simple we

481
00:19:53,190 --> 00:19:59,460
have mpls and you have new address

482
00:19:56,130 --> 00:20:01,110
family for VPN v6 and you have this ipv6

483
00:19:59,460 --> 00:20:03,150
tunnel in command that enables you to

484
00:20:01,110 --> 00:20:06,389
resolve your next hops on the<font color="#E5E5E5"> customer</font>

485
00:20:03,150 --> 00:20:08,910
facing side there are new I GPS that

486
00:20:06,390 --> 00:20:11,160
face the either bgp roar static on an

487
00:20:08,910 --> 00:20:15,240
igp that face is a customer<font color="#CCCCCC"> that so this</font>

488
00:20:11,160 --> 00:20:17,820
is<font color="#E5E5E5"> basically a routing on the PE ce e so</font>

489
00:20:15,240 --> 00:20:18,930
this is when I earlier when I mentioned

490
00:20:17,820 --> 00:20:21,689
<font color="#E5E5E5">that you have to first go through your</font>

491
00:20:18,930 --> 00:20:23,310
ipv4 configurations and make<font color="#CCCCCC"> sure you</font>

492
00:20:21,690 --> 00:20:24,840
understand what's there so for example

493
00:20:23,310 --> 00:20:27,419
the customer told us that we do<font color="#E5E5E5"> always</font>

494
00:20:24,840 --> 00:20:30,720
be appearing I always<font color="#E5E5E5"> be appearing with</font>

495
00:20:27,420 --> 00:20:32,370
with our with our VPN customers and as

496
00:20:30,720 --> 00:20:33,600
we went through and discovered the

497
00:20:32,370 --> 00:20:35,219
configurations were there but the

498
00:20:33,600 --> 00:20:36,389
sessions were not even<font color="#E5E5E5"> up so that's when</font>

499
00:20:35,220 --> 00:20:38,820
you realize well there's no point of

500
00:20:36,390 --> 00:20:41,250
doing ospfv3 since nobody relieved in

501
00:20:38,820 --> 00:20:44,280
users<font color="#CCCCCC"> always be up in this case ebgp</font>

502
00:20:41,250 --> 00:20:45,690
again you can have a<font color="#E5E5E5"> BGP Nate we decided</font>

503
00:20:44,280 --> 00:20:48,450
to go<font color="#E5E5E5"> with native ebgp appearing to</font>

504
00:20:45,690 --> 00:20:50,520
customers customers static is very

505
00:20:48,450 --> 00:20:53,340
simple configuration both on cisco and

506
00:20:50,520 --> 00:20:56,040
juniper follows the same idea as<font color="#CCCCCC"> i</font><font color="#E5E5E5"> could</font>

507
00:20:53,340 --> 00:20:59,639
<font color="#CCCCCC">be for static routes and the only</font><font color="#E5E5E5"> new</font>

508
00:20:56,040 --> 00:21:01,889
thing really that<font color="#E5E5E5"> conceptually was rip</font>

509
00:20:59,640 --> 00:21:04,080
ng and<font color="#CCCCCC"> the customers were running rip</font>

510
00:21:01,890 --> 00:21:06,780
which were not<font color="#E5E5E5"> that</font><font color="#CCCCCC"> many we had to test</font>

511
00:21:04,080 --> 00:21:11,310
and certify up energy to be used as a<font color="#E5E5E5"> pc</font>

512
00:21:06,780 --> 00:21:14,280
<font color="#CCCCCC">protocol there is extensive qos in this</font>

513
00:21:11,310 --> 00:21:18,060
network and we had to update all of that

514
00:21:14,280 --> 00:21:19,440
for ipv6 so a lot of time people when

515
00:21:18,060 --> 00:21:20,520
the talking rahi v6 they said<font color="#CCCCCC"> okay we'll</font>

516
00:21:19,440 --> 00:21:21,270
just<font color="#E5E5E5"> start on the protocols and that's</font>

517
00:21:20,520 --> 00:21:23,910
it

518
00:21:21,270 --> 00:21:25,350
um well it would break things if you

519
00:21:23,910 --> 00:21:27,900
<font color="#E5E5E5">really don't have to us and security</font>

520
00:21:25,350 --> 00:21:29,340
pieces in place from the beginning<font color="#CCCCCC"> and</font>

521
00:21:27,900 --> 00:21:30,930
<font color="#CCCCCC">you cannot really go to your customers</font>

522
00:21:29,340 --> 00:21:32,850
and give<font color="#E5E5E5"> it as a service and</font><font color="#CCCCCC"> get your</font>

523
00:21:30,930 --> 00:21:35,430
marketing behind it if you really<font color="#CCCCCC"> don't</font>

524
00:21:32,850 --> 00:21:36,719
<font color="#CCCCCC">have all the pieces in place and soak us</font>

525
00:21:35,430 --> 00:21:38,790
was a very important part of it

526
00:21:36,720 --> 00:21:42,240
especially<font color="#E5E5E5"> since</font><font color="#CCCCCC"> we ran into some</font>

527
00:21:38,790 --> 00:21:43,290
hardware restrictions so in the core we

528
00:21:42,240 --> 00:21:45,510
didn't have to<font color="#E5E5E5"> change anything because</font>

529
00:21:43,290 --> 00:21:47,850
everything got mapped to the<font color="#CCCCCC"> MPLS exp</font>

530
00:21:45,510 --> 00:21:50,670
bits as long<font color="#CCCCCC"> as we</font><font color="#E5E5E5"> decided to keep the</font>

531
00:21:47,850 --> 00:21:53,790
qos consistent between ipv4 and ipv6 so

532
00:21:50,670 --> 00:21:55,860
meaning that in ipv4 voice back at a EF

533
00:21:53,790 --> 00:21:58,740
packet and ipv6 one will<font color="#E5E5E5"> have the same</font>

534
00:21:55,860 --> 00:22:01,110
<font color="#E5E5E5">behavior also Ollie we had to do was to</font>

535
00:21:58,740 --> 00:22:03,210
define new<font color="#CCCCCC"> code point alias mappings on</font>

536
00:22:01,110 --> 00:22:06,479
the edge and then the core we use the

537
00:22:03,210 --> 00:22:08,430
same same<font color="#CCCCCC"> QSR configuration we had on</font>

538
00:22:06,480 --> 00:22:12,450
the<font color="#CCCCCC"> edge on the other hand we had to</font>

539
00:22:08,430 --> 00:22:15,360
have new classifiers for ipv6 both VA

540
00:22:12,450 --> 00:22:18,420
classifications and MF classifications

541
00:22:15,360 --> 00:22:20,689
and this is where we<font color="#CCCCCC"> actually ran to a</font>

542
00:22:18,420 --> 00:22:24,360
lot of problems in the forwarding paths

543
00:22:20,690 --> 00:22:26,160
meaning they were older hardware that

544
00:22:24,360 --> 00:22:28,620
didn't necessarily support<font color="#CCCCCC"> certain</font>

545
00:22:26,160 --> 00:22:31,560
<font color="#E5E5E5">filter configurations with multiple</font>

546
00:22:28,620 --> 00:22:33,149
classifications in them and this is just

547
00:22:31,560 --> 00:22:35,429
you know it happens<font color="#CCCCCC"> if when you're doing</font>

548
00:22:33,150 --> 00:22:36,870
ipv6 he<font color="#CCCCCC"> gonna</font><font color="#E5E5E5"> realize that certain</font>

549
00:22:35,430 --> 00:22:39,510
things<font color="#E5E5E5"> you thought works just should</font>

550
00:22:36,870 --> 00:22:41,969
just work with it will not work and we

551
00:22:39,510 --> 00:22:46,410
saw a<font color="#CCCCCC"> lot of those when he came to us</font>

552
00:22:41,970 --> 00:22:47,880
<font color="#E5E5E5">for ipv6 and it wasn't that it wasn't</font>

553
00:22:46,410 --> 00:22:50,850
available it just wasn't available in

554
00:22:47,880 --> 00:22:55,410
the hardware that we were using a router

555
00:22:50,850 --> 00:22:57,899
security so for a six vp case the core

556
00:22:55,410 --> 00:22:59,850
you obviously is riding on top of the

557
00:22:57,900 --> 00:23:02,310
ipv4 control plane we're not changing

558
00:22:59,850 --> 00:23:05,429
anything so we didn't have to define a

559
00:23:02,310 --> 00:23:07,110
new IP before filters on the<font color="#E5E5E5"> court on</font>

560
00:23:05,430 --> 00:23:10,020
the course ID but there were actually

561
00:23:07,110 --> 00:23:11,610
per customer vrf loop backs and these

562
00:23:10,020 --> 00:23:14,100
each have their own filter attached to

563
00:23:11,610 --> 00:23:15,419
them so this<font color="#E5E5E5"> is all actually really the</font>

564
00:23:14,100 --> 00:23:18,330
<font color="#E5E5E5">same piece right i mean we aren't</font>

565
00:23:15,420 --> 00:23:19,590
protecting a router as far as the

566
00:23:18,330 --> 00:23:21,480
customer was concerned though there were

567
00:23:19,590 --> 00:23:24,030
different parts of<font color="#CCCCCC"> the design they</font>

568
00:23:21,480 --> 00:23:25,860
thought of this as<font color="#E5E5E5"> okay if the loop this</font>

569
00:23:24,030 --> 00:23:28,139
global look back where we protect

570
00:23:25,860 --> 00:23:29,790
there is a customer vrf look back where

571
00:23:28,140 --> 00:23:30,990
we protect with different filter at the

572
00:23:29,790 --> 00:23:34,559
end of<font color="#E5E5E5"> the day they are the same piece</font>

573
00:23:30,990 --> 00:23:35,730
you're<font color="#E5E5E5"> perfectly router itself but we</font>

574
00:23:34,559 --> 00:23:37,530
actually<font color="#CCCCCC"> had to have come</font><font color="#E5E5E5"> up with two</font>

575
00:23:35,730 --> 00:23:38,820
different filters for that I mean in

576
00:23:37,530 --> 00:23:42,690
this case just one filter because the

577
00:23:38,820 --> 00:23:46,260
core is<font color="#E5E5E5"> not changing so the new filter</font>

578
00:23:42,690 --> 00:23:47,910
for ipv6 on the facing the customers I

579
00:23:46,260 --> 00:23:53,760
had to think I had to actually include

580
00:23:47,910 --> 00:23:54,960
terms for ospfv3 derp ng we are pv6 what

581
00:23:53,760 --> 00:23:56,490
was<font color="#E5E5E5"> interesting is that what we notice</font>

582
00:23:54,960 --> 00:23:58,380
that<font color="#CCCCCC"> the filters were actually we have</font>

583
00:23:56,490 --> 00:23:59,970
to actually fix a lot<font color="#CCCCCC"> of</font><font color="#E5E5E5"> the stuff</font><font color="#CCCCCC"> that</font>

584
00:23:58,380 --> 00:24:01,919
was<font color="#E5E5E5"> in the v4 filters because we thought</font>

585
00:23:59,970 --> 00:24:03,960
it wasn't a very<font color="#CCCCCC"> good filter and then</font>

586
00:24:01,919 --> 00:24:08,070
based on the new updated filter we

587
00:24:03,960 --> 00:24:11,400
created a v6 filter they were also<font color="#E5E5E5"> our</font>

588
00:24:08,070 --> 00:24:14,159
<font color="#E5E5E5">PF checks for ipv4 another interfaces</font>

589
00:24:11,400 --> 00:24:17,360
and we did the same thing for ipv6 just

590
00:24:14,160 --> 00:24:21,240
turning on 536 conceptually is saying

591
00:24:17,360 --> 00:24:23,340
finally and we have the public network

592
00:24:21,240 --> 00:24:26,900
which a lot of the toxic people probably

593
00:24:23,340 --> 00:24:26,899
always heard is about the internet and

594
00:24:27,049 --> 00:24:32,730
so you<font color="#E5E5E5"> know the the goal</font><font color="#CCCCCC"> was to turn it</font>

595
00:24:30,419 --> 00:24:34,559
<font color="#E5E5E5">on as everywhere maybe the goal</font><font color="#CCCCCC"> was to</font>

596
00:24:32,730 --> 00:24:39,299
turn on in every router every edge

597
00:24:34,559 --> 00:24:43,740
router and and and we for most<font color="#CCCCCC"> part we</font>

598
00:24:39,299 --> 00:24:45,690
actually reach that goal so again we

599
00:24:43,740 --> 00:24:49,470
decided people stay as needed as

600
00:24:45,690 --> 00:24:52,049
possible so the bgp sessions run over

601
00:24:49,470 --> 00:24:53,580
ipv6 endpoints using gtv6<font color="#E5E5E5"> on the</font>

602
00:24:52,049 --> 00:24:55,139
negative network and this is how we

603
00:24:53,580 --> 00:24:56,668
appear with the subscriber network and

604
00:24:55,140 --> 00:24:59,370
the public network and that's a week

605
00:24:56,669 --> 00:25:01,770
here with a subscriber network is is

606
00:24:59,370 --> 00:25:04,409
<font color="#CCCCCC">carries again both ipv4 and ipv6 so we</font>

607
00:25:01,770 --> 00:25:10,139
have shared the share the faith in a<font color="#E5E5E5"> GP</font>

608
00:25:04,410 --> 00:25:11,940
side and we if we ever<font color="#CCCCCC"> in a</font><font color="#E5E5E5"> miser</font>

609
00:25:10,140 --> 00:25:13,410
<font color="#E5E5E5">commendation would have been to use ospf</font>

610
00:25:11,940 --> 00:25:15,150
<font color="#E5E5E5">I mean if you were studying for my</font>

611
00:25:13,410 --> 00:25:18,240
ospfv3<font color="#E5E5E5"> I would have had a separate</font><font color="#CCCCCC"> IGP</font>

612
00:25:15,150 --> 00:25:19,980
because the scaling issues are not

613
00:25:18,240 --> 00:25:21,630
happening right now on the number of

614
00:25:19,980 --> 00:25:24,360
routes and a<font color="#CCCCCC"> number</font><font color="#E5E5E5"> of each EP sessions</font>

615
00:25:21,630 --> 00:25:26,490
and or number routes and I GP most of

616
00:25:24,360 --> 00:25:28,830
the scaling problems that I've seen half

617
00:25:26,490 --> 00:25:30,880
is happening<font color="#E5E5E5"> on the subscriber side as</font>

618
00:25:28,830 --> 00:25:33,100
far<font color="#E5E5E5"> as a number of</font>

619
00:25:30,880 --> 00:25:35,710
a number of subscribers number of PPP

620
00:25:33,100 --> 00:25:37,990
sessions a number of dhcp leases and

621
00:25:35,710 --> 00:25:40,090
things like that as well<font color="#CCCCCC"> as hardware</font>

622
00:25:37,990 --> 00:25:41,950
restrictions on certain things so have<font color="#CCCCCC"> I</font>

623
00:25:40,090 --> 00:25:44,139
mean if if you<font color="#E5E5E5"> think one day you might</font>

624
00:25:41,950 --> 00:25:46,030
have a v6 centric network where we<font color="#E5E5E5"> six</font>

625
00:25:44,140 --> 00:25:50,580
is the<font color="#E5E5E5"> dominant protocol I mean having</font>

626
00:25:46,030 --> 00:25:50,580
<font color="#E5E5E5">them separate is actually not bad idea</font>

627
00:25:51,810 --> 00:25:56,889
so to do this on the public network on

628
00:25:55,180 --> 00:25:58,090
the<font color="#CCCCCC"> June aside the ice ice didn't have</font>

629
00:25:56,890 --> 00:25:59,890
to do we didn't have<font color="#E5E5E5"> to do anything to</font>

630
00:25:58,090 --> 00:26:02,409
do I science because by default it

631
00:25:59,890 --> 00:26:03,910
carries both ipv4 and ipv6 you actually

632
00:26:02,410 --> 00:26:05,470
have to turn it<font color="#E5E5E5"> off right maybe six if</font>

633
00:26:03,910 --> 00:26:09,400
you<font color="#E5E5E5"> don't wanna keep my insights to</font>

634
00:26:05,470 --> 00:26:12,460
carry ipv6 ibgp again we created new

635
00:26:09,400 --> 00:26:13,960
peer groups for ipv6 to keep things

636
00:26:12,460 --> 00:26:15,940
clean we didn't want<font color="#E5E5E5"> to mess anything up</font>

637
00:26:13,960 --> 00:26:18,850
in<font color="#E5E5E5"> an axe by accident on ipv4 that was</font>

638
00:26:15,940 --> 00:26:21,700
already<font color="#E5E5E5"> working and for ebgp cos</font>

639
00:26:18,850 --> 00:26:24,340
appearance again separate bgp sessions

640
00:26:21,700 --> 00:26:29,350
and we try<font color="#E5E5E5"> to keep these consistent to</font>

641
00:26:24,340 --> 00:26:31,030
always have new papers so the filters

642
00:26:29,350 --> 00:26:33,520
and qos very similar on the on the edge

643
00:26:31,030 --> 00:26:37,030
there were actually classifiers that set

644
00:26:33,520 --> 00:26:40,290
the dscp to reset this dscp<font color="#CCCCCC"> to set to</font>

645
00:26:37,030 --> 00:26:43,870
<font color="#CCCCCC">zero for internet entering a network and</font>

646
00:26:40,290 --> 00:26:47,350
we<font color="#CCCCCC"> actually had to have dhcpv6</font>

647
00:26:43,870 --> 00:26:49,449
<font color="#E5E5E5">equivalents of that function and just</font>

648
00:26:47,350 --> 00:26:51,219
one note that there are filters and<font color="#CCCCCC"> the</font>

649
00:26:49,450 --> 00:26:53,200
filters are actually used in every part

650
00:26:51,220 --> 00:26:54,970
of this project for security they're

651
00:26:53,200 --> 00:26:57,550
used for multiple classifications in

652
00:26:54,970 --> 00:26:59,580
junos use filters for because a lot of

653
00:26:57,550 --> 00:27:02,379
this stuff as you know space use

654
00:26:59,580 --> 00:27:06,490
multi-fuel classifiers through use of

655
00:27:02,380 --> 00:27:08,590
filters and all this stuff had to be

656
00:27:06,490 --> 00:27:10,930
converted to a queue before and when you

657
00:27:08,590 --> 00:27:14,050
have<font color="#CCCCCC"> a complex filter with things like</font>

658
00:27:10,930 --> 00:27:15,700
police's built into them then that's

659
00:27:14,050 --> 00:27:19,560
<font color="#E5E5E5">where a lot of times when you see some</font>

660
00:27:15,700 --> 00:27:19,560
hardware not supporting ipv6 away

661
00:27:20,010 --> 00:27:25,000
so as<font color="#E5E5E5"> far as the security the filters</font>

662
00:27:23,200 --> 00:27:28,060
order to protect the router itself is

663
00:27:25,000 --> 00:27:29,260
concerned now we actually for the public

664
00:27:28,060 --> 00:27:33,460
<font color="#CCCCCC">internet we actually have to have new</font>

665
00:27:29,260 --> 00:27:35,050
global ipv6 loopback filters so we have

666
00:27:33,460 --> 00:27:36,559
to have equivalent terms<font color="#E5E5E5"> for things like</font>

667
00:27:35,050 --> 00:27:39,049
bgp and

668
00:27:36,559 --> 00:27:41,499
and and actually<font color="#E5E5E5"> SSH is not correct</font>

669
00:27:39,049 --> 00:27:44,779
because we didn't change its as I ipv6

670
00:27:41,499 --> 00:27:46,490
so since we didn't take a<font color="#E5E5E5"> lot of the</font>

671
00:27:44,779 --> 00:27:48,590
network management function<font color="#E5E5E5"> striking</font><font color="#CCCCCC"> 56</font>

672
00:27:46,490 --> 00:27:53,090
the<font color="#E5E5E5"> filter business only have two and</font>

673
00:27:48,590 --> 00:27:55,129
change for those on the edge again we

674
00:27:53,090 --> 00:27:59,809
had to change everything<font color="#E5E5E5"> that we had to</font>

675
00:27:55,129 --> 00:28:03,350
accommodate<font color="#E5E5E5"> for ipv6 so what did</font><font color="#CCCCCC"> we</font>

676
00:27:59,809 --> 00:28:06,620
<font color="#E5E5E5">learn so</font><font color="#CCCCCC"> three three slides on what were</font>

677
00:28:03,350 --> 00:28:10,039
the lessons so dual<font color="#E5E5E5"> stack is not</font>

678
00:28:06,620 --> 00:28:12,258
<font color="#E5E5E5">necessarily</font><font color="#CCCCCC"> the solution people are you</font>

679
00:28:10,039 --> 00:28:14,299
<font color="#CCCCCC">know in</font><font color="#E5E5E5"> the long term they believe in</font>

680
00:28:12,259 --> 00:28:16,369
right there needs to be another<font color="#E5E5E5"> step to</font>

681
00:28:14,299 --> 00:28:19,460
<font color="#E5E5E5">help with the ipv4 at the space</font>

682
00:28:16,369 --> 00:28:21,590
exhaustion problem and from<font color="#E5E5E5"> what I've</font>

683
00:28:19,460 --> 00:28:23,029
seen<font color="#E5E5E5"> almost everybody thinks that even</font>

684
00:28:21,590 --> 00:28:24,918
though you nobody<font color="#E5E5E5"> really likes it that</font>

685
00:28:23,029 --> 00:28:28,309
the carrier grade<font color="#CCCCCC"> nacked a large-scale</font>

686
00:28:24,919 --> 00:28:32,119
math CGN is part of the puzzle somehow

687
00:28:28,309 --> 00:28:36,399
either by just hopefully not but by

688
00:28:32,119 --> 00:28:39,320
either by just doing a double maths or

689
00:28:36,399 --> 00:28:41,989
as a combination with another technique

690
00:28:39,320 --> 00:28:45,049
either<font color="#CCCCCC"> way 6 rd or over the way the one</font>

691
00:28:41,990 --> 00:28:47,659
that our customer was interested in vs

692
00:28:45,049 --> 00:28:49,490
light so look the key thing here is that

693
00:28:47,659 --> 00:28:52,759
there are<font color="#E5E5E5"> other steps that need to be</font>

694
00:28:49,490 --> 00:28:55,399
taken after this and and the that's a

695
00:28:52,759 --> 00:28:59,210
new phase of this project and this the

696
00:28:55,399 --> 00:29:00,559
answers are not finalized but the design

697
00:28:59,210 --> 00:29:02,149
had to keep<font color="#E5E5E5"> that in mind so as I</font>

698
00:29:00,559 --> 00:29:03,649
mentioned you have to have CGN for

699
00:29:02,149 --> 00:29:05,299
example if you think i have CGN and

700
00:29:03,649 --> 00:29:07,850
you're going<font color="#E5E5E5"> to</font><font color="#CCCCCC"> miss with your</font><font color="#E5E5E5"> profiles</font>

701
00:29:05,299 --> 00:29:09,350
on your subscriber side you should<font color="#E5E5E5"> think</font>

702
00:29:07,850 --> 00:29:10,850
about how you're going to wrap those

703
00:29:09,350 --> 00:29:16,209
customers where you that you have to<font color="#E5E5E5"> do</font>

704
00:29:10,850 --> 00:29:19,820
at math<font color="#E5E5E5"> an extranet on them</font><font color="#CCCCCC"> okay so</font>

705
00:29:16,210 --> 00:29:21,980
that's the future the hardest<font color="#E5E5E5"> part again</font>

706
00:29:19,820 --> 00:29:23,059
or the most time-consuming part is

707
00:29:21,980 --> 00:29:25,340
figuring out<font color="#E5E5E5"> what it is</font><font color="#CCCCCC"> that we have to</font>

708
00:29:23,059 --> 00:29:27,168
<font color="#E5E5E5">configure for ipv6 I mean this was more</font>

709
00:29:25,340 --> 00:29:29,449
than just turning on the routing

710
00:29:27,169 --> 00:29:31,519
protocols so<font color="#E5E5E5"> because we have to do so</font>

711
00:29:29,450 --> 00:29:32,869
parallel<font color="#E5E5E5"> to this project there we</font>

712
00:29:31,519 --> 00:29:34,809
actually had people working on the

713
00:29:32,869 --> 00:29:37,580
billing systems and provisioning and

714
00:29:34,809 --> 00:29:39,830
things like that and so everyone can

715
00:29:37,580 --> 00:29:41,149
have to move hand in hand and the most

716
00:29:39,830 --> 00:29:42,580
<font color="#E5E5E5">important part of this project is trying</font>

717
00:29:41,149 --> 00:29:45,289
to<font color="#E5E5E5"> figure out what are the pieces</font>

718
00:29:42,580 --> 00:29:46,590
because a lot of times people don't<font color="#E5E5E5"> even</font>

719
00:29:45,289 --> 00:29:49,169
know what are the pieces in ipv4

720
00:29:46,590 --> 00:29:51,299
and absolutely i mean it's unfortunate

721
00:29:49,169 --> 00:29:54,600
but that's<font color="#E5E5E5"> true or they have it and it's</font>

722
00:29:51,299 --> 00:29:56,129
updated so once you figure out<font color="#E5E5E5"> what are</font>

723
00:29:54,600 --> 00:29:57,750
the pieces then you as<font color="#E5E5E5"> i mentioned you</font>

724
00:29:56,130 --> 00:29:59,700
figure out<font color="#E5E5E5"> what is working</font><font color="#CCCCCC"> with</font><font color="#E5E5E5"> you I b6</font>

725
00:29:57,750 --> 00:30:01,169
and this process is not necessarily the

726
00:29:59,700 --> 00:30:02,340
you know I'm not<font color="#CCCCCC"> even saying that</font><font color="#E5E5E5"> this</font>

727
00:30:01,169 --> 00:30:04,470
<font color="#CCCCCC">is what everybody should do this is the</font>

728
00:30:02,340 --> 00:30:06,830
way I went about doing it and what was

729
00:30:04,470 --> 00:30:09,600
worth of the ipv6 and if it<font color="#E5E5E5"> made sense</font>

730
00:30:06,830 --> 00:30:12,629
and this is where you actually had some

731
00:30:09,600 --> 00:30:14,219
sort of cost analysis involved because a

732
00:30:12,630 --> 00:30:16,080
lot of times if you<font color="#E5E5E5"> wanted to have</font>

733
00:30:14,220 --> 00:30:18,029
certain service it would have scaling

734
00:30:16,080 --> 00:30:19,350
consequences and having scaling

735
00:30:18,029 --> 00:30:23,460
consequences mean you have to upgrade

736
00:30:19,350 --> 00:30:24,809
and a one question for example that have

737
00:30:23,460 --> 00:30:28,080
to be answered and<font color="#E5E5E5"> I had it somewhere</font>

738
00:30:24,809 --> 00:30:29,850
<font color="#CCCCCC">and I didn't talk about</font><font color="#E5E5E5"> it is on a beer</font>

739
00:30:28,080 --> 00:30:32,428
as device on the lack device which

740
00:30:29,850 --> 00:30:34,469
customers are you going to move to dual

741
00:30:32,429 --> 00:30:36,750
stack is this only<font color="#E5E5E5"> going to be your new</font>

742
00:30:34,470 --> 00:30:38,730
customers or are you going to move all

743
00:30:36,750 --> 00:30:40,200
your existing<font color="#CCCCCC"> customers</font><font color="#E5E5E5"> there's pros and</font>

744
00:30:38,730 --> 00:30:41,880
cons to<font color="#CCCCCC"> each if</font><font color="#E5E5E5"> you move all your</font>

745
00:30:40,200 --> 00:30:43,080
everybody got a tube you'll stack it

746
00:30:41,880 --> 00:30:45,480
makes a management<font color="#CCCCCC"> with an easier</font>

747
00:30:43,080 --> 00:30:47,629
because everybody is the same everybody

748
00:30:45,480 --> 00:30:51,330
has this basic the same configuration

749
00:30:47,630 --> 00:30:53,340
but then the ipv4 and ipv6 scaling you

750
00:30:51,330 --> 00:30:55,710
hit the ceiling<font color="#CCCCCC"> at different points so</font>

751
00:30:53,340 --> 00:30:57,658
it does help you to have the<font color="#CCCCCC"> Beast only</font>

752
00:30:55,710 --> 00:30:59,640
the new customer go to be<font color="#CCCCCC"> 6 because</font><font color="#E5E5E5"> you</font>

753
00:30:57,659 --> 00:31:01,980
save on scaling the ceilings that you're

754
00:30:59,640 --> 00:31:04,970
given so these are<font color="#CCCCCC"> the kind of decisions</font>

755
00:31:01,980 --> 00:31:10,010
<font color="#CCCCCC">that are technical but then you know</font>

756
00:31:04,970 --> 00:31:15,149
very much<font color="#E5E5E5"> so</font><font color="#CCCCCC"> involved where my involve</font>

757
00:31:10,010 --> 00:31:16,830
cost analysis and then finally as far as

758
00:31:15,149 --> 00:31:18,360
so that's that's on the scale inside but

759
00:31:16,830 --> 00:31:20,668
then also there is like what<font color="#E5E5E5"> I mentioned</font>

760
00:31:18,360 --> 00:31:23,158
like fixed IP customers that for ipv6

761
00:31:20,669 --> 00:31:24,630
just you cannot do it that way<font color="#CCCCCC"> or you</font>

762
00:31:23,159 --> 00:31:27,720
<font color="#E5E5E5">really really will have scaling issues</font>

763
00:31:24,630 --> 00:31:29,610
very<font color="#E5E5E5"> quickly and for those we actually</font>

764
00:31:27,720 --> 00:31:31,110
came<font color="#CCCCCC"> up with different really</font><font color="#E5E5E5"> cool</font><font color="#CCCCCC"> G</font>

765
00:31:29,610 --> 00:31:32,340
<font color="#CCCCCC">designed</font><font color="#E5E5E5"> because</font><font color="#CCCCCC"> that's one wanted it so</font>

766
00:31:31,110 --> 00:31:36,029
we came up with<font color="#E5E5E5"> a design that actually</font>

767
00:31:32,340 --> 00:31:38,158
involve doing tunnels and into LMS and

768
00:31:36,029 --> 00:31:40,140
just having a cluster of lms with<font color="#E5E5E5"> a</font>

769
00:31:38,159 --> 00:31:42,390
subset of<font color="#E5E5E5"> the routing just for the ipv6</font>

770
00:31:40,140 --> 00:31:47,510
customer where's that<font color="#E5E5E5"> one fixed IP fix</font>

771
00:31:42,390 --> 00:31:51,000
IP so the devil is in<font color="#CCCCCC"> implementation and</font>

772
00:31:47,510 --> 00:31:53,790
ipv6 scaling is what's going to hit you

773
00:31:51,000 --> 00:31:54,930
and I don't know what hardware everybody

774
00:31:53,790 --> 00:31:57,930
uses but<font color="#E5E5E5"> it's gonna be different for</font>

775
00:31:54,930 --> 00:31:59,400
<font color="#CCCCCC">different people it could be you can hit</font>

776
00:31:57,930 --> 00:32:01,560
<font color="#CCCCCC">it at different places depending how you</font>

777
00:31:59,400 --> 00:32:02,880
configure it it could be rats and

778
00:32:01,560 --> 00:32:05,250
control plane it could be droughts in

779
00:32:02,880 --> 00:32:07,350
the data plane number of dual stack

780
00:32:05,250 --> 00:32:09,930
interfaces obviously this is one of<font color="#E5E5E5"> the</font>

781
00:32:07,350 --> 00:32:12,270
<font color="#E5E5E5">things we definitely saw for us dhcpv6</font>

782
00:32:09,930 --> 00:32:14,190
lisa's number of releases that the<font color="#E5E5E5"> lac</font>

783
00:32:12,270 --> 00:32:17,010
device can hold on at any given time

784
00:32:14,190 --> 00:32:19,280
that was our first one and as soon as

785
00:32:17,010 --> 00:32:21,570
you fix that<font color="#CCCCCC"> and you hit the other ones</font>

786
00:32:19,280 --> 00:32:23,460
and don't assume<font color="#E5E5E5"> that features work</font>

787
00:32:21,570 --> 00:32:24,840
equally like I what I mentioned with

788
00:32:23,460 --> 00:32:26,160
filters I mean certain things I worked

789
00:32:24,840 --> 00:32:27,600
out before don't necessarily work with

790
00:32:26,160 --> 00:32:29,430
v6 I mean we<font color="#CCCCCC"> were lucky enough that</font>

791
00:32:27,600 --> 00:32:31,679
almost everything was officially

792
00:32:29,430 --> 00:32:33,570
supported except that what means what

793
00:32:31,680 --> 00:32:34,680
what means supported doesn't<font color="#E5E5E5"> really mean</font>

794
00:32:33,570 --> 00:32:38,840
that is supported on<font color="#E5E5E5"> the hardware and</font>

795
00:32:34,680 --> 00:32:41,940
<font color="#E5E5E5">software that you're running and finally</font>

796
00:32:38,840 --> 00:32:43,199
you<font color="#CCCCCC"> need to have an organizational</font>

797
00:32:41,940 --> 00:32:45,750
commitment if you're<font color="#E5E5E5"> gonna make</font><font color="#CCCCCC"> this as</font>

798
00:32:43,200 --> 00:32:48,360
a big service and as an official service

799
00:32:45,750 --> 00:32:50,730
that<font color="#E5E5E5"> all pieces all</font><font color="#CCCCCC"> the organizations</font>

800
00:32:48,360 --> 00:32:52,530
behind it so this<font color="#E5E5E5"> was something that</font>

801
00:32:50,730 --> 00:32:54,810
this<font color="#E5E5E5"> customer was going to make a big</font>

802
00:32:52,530 --> 00:32:56,280
<font color="#E5E5E5">deal off and make you know have the</font>

803
00:32:54,810 --> 00:32:58,050
marketing team was<font color="#E5E5E5"> ready to go on and</font>

804
00:32:56,280 --> 00:32:59,430
announce it and things like that<font color="#E5E5E5"> so</font>

805
00:32:58,050 --> 00:33:00,629
there is<font color="#E5E5E5"> provision in systems and</font>

806
00:32:59,430 --> 00:33:02,250
billing systems and marketing and

807
00:33:00,630 --> 00:33:04,830
peering agreements so you needed to have

808
00:33:02,250 --> 00:33:06,600
executive support of this and in all

809
00:33:04,830 --> 00:33:07,889
levels and and we actually<font color="#E5E5E5"> had this</font>

810
00:33:06,600 --> 00:33:09,090
because at the beginning we were i was

811
00:33:07,890 --> 00:33:12,750
<font color="#E5E5E5">told that this was one</font><font color="#CCCCCC"> of the</font><font color="#E5E5E5"> biggest</font>

812
00:33:09,090 --> 00:33:15,720
things on the CEOs or radar so that is

813
00:33:12,750 --> 00:33:17,070
very<font color="#CCCCCC"> important that's all I have and if</font>

814
00:33:15,720 --> 00:33:19,250
<font color="#E5E5E5">you have</font><font color="#CCCCCC"> any questions I'll</font><font color="#E5E5E5"> be happy to</font>

815
00:33:17,070 --> 00:33:19,250
answer

816
00:33:32,720 --> 00:33:39,549
hi<font color="#E5E5E5"> Kathy Aronson</font><font color="#CCCCCC"> Caskey you um not</font>

817
00:33:36,919 --> 00:33:41,780
<font color="#CCCCCC">exactly sure how I want</font><font color="#E5E5E5"> to ask this but</font>

818
00:33:39,549 --> 00:33:43,879
there's something<font color="#E5E5E5"> comforting to</font>

819
00:33:41,780 --> 00:33:46,129
management about running routing

820
00:33:43,880 --> 00:33:50,240
<font color="#CCCCCC">protocols ships in the night as opposed</font>

821
00:33:46,130 --> 00:33:53,270
to<font color="#CCCCCC"> just turning on a new feature in is</font>

822
00:33:50,240 --> 00:33:57,830
is I just<font color="#E5E5E5"> wondered like how stable is</font>

823
00:33:53,270 --> 00:34:05,200
the v6<font color="#E5E5E5"> edition and how easy is it to</font>

824
00:33:57,830 --> 00:34:05,199
turn off<font color="#E5E5E5"> and I use those p.m. so I um so</font>

825
00:34:05,530 --> 00:34:12,560
most of the<font color="#E5E5E5"> problems of stability and</font>

826
00:34:09,290 --> 00:34:15,560
bugs we ran into<font color="#E5E5E5"> was letting the core so</font>

827
00:34:12,560 --> 00:34:20,210
as you move more towards the edge we saw

828
00:34:15,560 --> 00:34:22,940
most of the problems the dual stack ice

829
00:34:20,210 --> 00:34:27,260
is has<font color="#CCCCCC"> been very stable deluxe index in</font>

830
00:34:22,940 --> 00:34:28,849
the<font color="#E5E5E5"> places that I have seen it and we</font>

831
00:34:27,260 --> 00:34:31,520
did about three months of<font color="#E5E5E5"> testing on</font>

832
00:34:28,849 --> 00:34:33,530
this after this was done we didn't test

833
00:34:31,520 --> 00:34:35,509
ospf in this project but I do have

834
00:34:33,530 --> 00:34:37,909
another<font color="#E5E5E5"> customer</font><font color="#CCCCCC"> loop who is using ospf</font>

835
00:34:35,510 --> 00:34:41,480
for ipv4 and they're going to<font color="#E5E5E5"> do is for</font>

836
00:34:37,909 --> 00:34:43,750
ipv6 so in that case I<font color="#E5E5E5"> size is just</font>

837
00:34:41,480 --> 00:34:47,480
solely for ipv6 so I haven't<font color="#CCCCCC"> done ospfv3</font>

838
00:34:43,750 --> 00:34:48,918
in practice as far as running in a

839
00:34:47,480 --> 00:34:52,359
<font color="#CCCCCC">network so I cannot give you data points</font>

840
00:34:48,918 --> 00:34:55,399
on that but I size has been<font color="#E5E5E5"> quite stable</font>

841
00:34:52,359 --> 00:35:00,830
what are the main bugs at the edge that

842
00:34:55,399 --> 00:35:01,970
easy are you just<font color="#E5E5E5"> am concerned with</font>

843
00:35:00,830 --> 00:35:07,098
routing protocols or are you talking

844
00:35:01,970 --> 00:35:10,368
<font color="#CCCCCC">about everything we had problems with</font>

845
00:35:07,099 --> 00:35:16,450
<font color="#E5E5E5">the way that we had a lot of problems</font>

846
00:35:10,369 --> 00:35:20,240
with<font color="#CCCCCC"> dhcp leases we had problems with</font>

847
00:35:16,450 --> 00:35:21,740
the neighbor discovery process the way

848
00:35:20,240 --> 00:35:26,540
the prefix was assigned for<font color="#CCCCCC"> the neighbor</font>

849
00:35:21,740 --> 00:35:29,810
discovery L&S actually we had issues

850
00:35:26,540 --> 00:35:32,560
where certain things were not tunneled

851
00:35:29,810 --> 00:35:35,480
for ipv6 from well from the lack<font color="#E5E5E5"> of LNS</font>

852
00:35:32,560 --> 00:35:38,450
so on the subscriber side probably was

853
00:35:35,480 --> 00:35:40,550
eighty percent of our<font color="#CCCCCC"> issues and that's</font>

854
00:35:38,450 --> 00:35:44,060
<font color="#E5E5E5">probably because people have more</font>

855
00:35:40,550 --> 00:35:45,290
expertise on the people people have more

856
00:35:44,060 --> 00:35:46,910
parties on the

857
00:35:45,290 --> 00:35:48,950
and on the on the course ID and on the

858
00:35:46,910 --> 00:35:50,390
edge things were all things and<font color="#E5E5E5"> the</font>

859
00:35:48,950 --> 00:35:52,689
subscriber settings were all they were

860
00:35:50,390 --> 00:35:54,980
older code and people were just neglect

861
00:35:52,690 --> 00:35:56,270
neglecting the network more than<font color="#E5E5E5"> they</font>

862
00:35:54,980 --> 00:35:57,380
were with it<font color="#E5E5E5"> with the core and so I</font>

863
00:35:56,270 --> 00:36:00,759
think<font color="#CCCCCC"> a lot of it had to do</font><font color="#E5E5E5"> with</font><font color="#CCCCCC"> because</font>

864
00:35:57,380 --> 00:36:00,760
we're running stuff that was way old

865
00:36:02,080 --> 00:36:06,400
<font color="#CCCCCC">okay thank you</font>

