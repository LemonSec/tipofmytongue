1
00:00:05,480 --> 00:00:09,809
okay so this is completely unrelated

2
00:00:08,400 --> 00:00:13,349
even though the slide background<font color="#CCCCCC"> it's</font>

3
00:00:09,809 --> 00:00:15,629
<font color="#CCCCCC">assigning this is going to be just</font><font color="#E5E5E5"> a</font>

4
00:00:13,349 --> 00:00:19,680
really quick once through on how to use

5
00:00:15,630 --> 00:00:22,109
<font color="#CCCCCC">VLANs to secure an insight this</font><font color="#E5E5E5"> is not</font>

6
00:00:19,680 --> 00:00:24,300
about your big<font color="#CCCCCC"> network that goes across</font>

7
00:00:22,109 --> 00:00:26,640
<font color="#E5E5E5">the country this</font><font color="#CCCCCC"> is about one location</font>

8
00:00:24,300 --> 00:00:29,550
one building punching machines in the

9
00:00:26,640 --> 00:00:33,870
office how do you make<font color="#E5E5E5"> them a little bit</font>

10
00:00:29,550 --> 00:00:36,480
more secure a lot<font color="#E5E5E5"> of people have</font>

11
00:00:33,870 --> 00:00:38,489
opinions<font color="#E5E5E5"> about how firewalls work a lot</font>

12
00:00:36,480 --> 00:00:41,930
of<font color="#E5E5E5"> end users have opinions about how</font>

13
00:00:38,489 --> 00:00:43,800
firewalls work mostly they are

14
00:00:41,930 --> 00:00:46,379
constrained by what they have been

15
00:00:43,800 --> 00:00:48,538
marketed and the marketing people have

16
00:00:46,379 --> 00:00:52,110
been creating a lot<font color="#CCCCCC"> of</font><font color="#E5E5E5"> expectations</font>

17
00:00:48,539 --> 00:00:53,489
about how firewalls work and what

18
00:00:52,110 --> 00:00:55,620
terminology should be used to<font color="#CCCCCC"> describe</font>

19
00:00:53,489 --> 00:01:00,089
them and so forth I think that's causing

20
00:00:55,620 --> 00:01:02,370
us some problems there's this big

21
00:01:00,090 --> 00:01:03,960
artificial distinctions between pakka

22
00:01:02,370 --> 00:01:06,780
<font color="#E5E5E5">solder and firewalls and stateful</font>

23
00:01:03,960 --> 00:01:09,450
inspection firewalls five years ago<font color="#E5E5E5"> that</font>

24
00:01:06,780 --> 00:01:11,820
was reasonable now it's not<font color="#E5E5E5"> really</font>

25
00:01:09,450 --> 00:01:14,880
actually useful anybody who's doing any

26
00:01:11,820 --> 00:01:16,529
sort of major firewalling has some

27
00:01:14,880 --> 00:01:18,060
stateful inspection features and some

28
00:01:16,530 --> 00:01:19,820
packet filtering features and some of

29
00:01:18,060 --> 00:01:22,229
this and some of that everything that's

30
00:01:19,820 --> 00:01:26,089
proven necessary in the last few years

31
00:01:22,229 --> 00:01:30,680
to fight the actual real-world attacks

32
00:01:26,090 --> 00:01:33,119
also there's this inside<font color="#CCCCCC"> outside DMZ</font>

33
00:01:30,680 --> 00:01:35,909
terminology that has come to<font color="#E5E5E5"> really</font>

34
00:01:33,119 --> 00:01:39,060
dominate the way the way people

35
00:01:35,909 --> 00:01:40,619
construct mental models of this stuff if

36
00:01:39,060 --> 00:01:45,320
they don't actually<font color="#E5E5E5"> understand how the</font>

37
00:01:40,619 --> 00:01:48,329
attacks work there instead trying to

38
00:01:45,320 --> 00:01:53,429
formulate a kind<font color="#E5E5E5"> of naive security</font>

39
00:01:48,329 --> 00:01:57,809
policy for a site so i would like to try

40
00:01:53,430 --> 00:01:59,880
<font color="#E5E5E5">to get folks to think in kind of more</font>

41
00:01:57,810 --> 00:02:01,969
modern terms about that so that they

42
00:01:59,880 --> 00:02:07,020
don't get trapped in the problems that

43
00:02:01,969 --> 00:02:09,329
that solutions that<font color="#CCCCCC"> creates so what</font><font color="#E5E5E5"> I</font>

44
00:02:07,020 --> 00:02:12,420
see a lot<font color="#CCCCCC"> of in enterprises small</font>

45
00:02:09,330 --> 00:02:13,470
enterprises is they go out and<font color="#CCCCCC"> get</font>

46
00:02:12,420 --> 00:02:16,890
<font color="#E5E5E5">really expensive</font>

47
00:02:13,470 --> 00:02:19,260
inspection box spend forty or fifty

48
00:02:16,890 --> 00:02:22,079
thousand bucks on something that<font color="#CCCCCC"> has</font>

49
00:02:19,260 --> 00:02:24,780
three ethernet interfaces runs windows

50
00:02:22,080 --> 00:02:28,080
and has some application on it<font color="#E5E5E5"> writes it</font>

51
00:02:24,780 --> 00:02:31,170
does<font color="#E5E5E5"> stateful inspection so</font><font color="#CCCCCC"> anything</font>

52
00:02:28,080 --> 00:02:34,020
credibly slow throughput is never very

53
00:02:31,170 --> 00:02:36,119
good<font color="#E5E5E5"> on those um they typically crash</font>

54
00:02:34,020 --> 00:02:38,340
pretty frequently and you know you get a

55
00:02:36,120 --> 00:02:39,860
call in the middle well call early in

56
00:02:38,340 --> 00:02:42,450
the morning saying the internet is down

57
00:02:39,860 --> 00:02:44,160
<font color="#CCCCCC">um that's</font><font color="#E5E5E5"> funny I kind of thing your</font>

58
00:02:42,450 --> 00:02:46,410
site router I can't sing any further

59
00:02:44,160 --> 00:02:48,329
than<font color="#CCCCCC"> that maybe you should reboot the</font>

60
00:02:46,410 --> 00:02:49,709
firewall again and then<font color="#CCCCCC"> everything is</font>

61
00:02:48,330 --> 00:02:51,180
magically get better and they say I

62
00:02:49,709 --> 00:02:54,959
couldn't<font color="#E5E5E5"> let the fire while we paid for</font>

63
00:02:51,180 --> 00:03:00,630
two thousand dollars left so the problem

64
00:02:54,959 --> 00:03:03,630
with the<font color="#CCCCCC"> inside-outside DMZ three zones</font>

65
00:03:00,630 --> 00:03:06,920
and the inside and the DMZ being

66
00:03:03,630 --> 00:03:11,459
basically a one-way filter and the

67
00:03:06,920 --> 00:03:15,269
outside<font color="#E5E5E5"> DMZ being you know a few ports</font>

68
00:03:11,459 --> 00:03:17,850
allowed through is twofold we're seeing

69
00:03:15,270 --> 00:03:20,190
more and more tax that use the actual

70
00:03:17,850 --> 00:03:24,470
service port as their point<font color="#E5E5E5"> of entry</font>

71
00:03:20,190 --> 00:03:27,060
right windows box sitting there port 80

72
00:03:24,470 --> 00:03:32,519
effectively tunnel to the attack in for

73
00:03:27,060 --> 00:03:36,510
the attacker<font color="#CCCCCC"> that one there's no real</font>

74
00:03:32,519 --> 00:03:38,190
way around in a packet filter or even

75
00:03:36,510 --> 00:03:40,320
something<font color="#E5E5E5"> that doesn't</font><font color="#CCCCCC"> have very</font>

76
00:03:38,190 --> 00:03:43,140
up-to-date understanding of the content

77
00:03:40,320 --> 00:03:45,150
of the packet we're not going<font color="#CCCCCC"> to win</font>

78
00:03:43,140 --> 00:03:48,109
<font color="#E5E5E5">that one right we can't make everyone</font>

79
00:03:45,150 --> 00:03:52,170
update all<font color="#CCCCCC"> of their firewall devices</font>

80
00:03:48,110 --> 00:03:54,750
every few minutes we've got<font color="#CCCCCC"> to</font><font color="#E5E5E5"> have a</font>

81
00:03:52,170 --> 00:03:59,010
more generic solution to contain

82
00:03:54,750 --> 00:04:01,799
problems when<font color="#CCCCCC"> they occur and none of</font>

83
00:03:59,010 --> 00:04:03,720
<font color="#E5E5E5">this protects the ball against end users</font>

84
00:04:01,799 --> 00:04:07,110
within your organization that you don't

85
00:04:03,720 --> 00:04:09,510
completely trust so stepping stone

86
00:04:07,110 --> 00:04:12,030
<font color="#CCCCCC">attacks here's the</font><font color="#E5E5E5"> sort of traditional</font>

87
00:04:09,510 --> 00:04:13,829
<font color="#E5E5E5">inside outside</font><font color="#CCCCCC"> attack around the outside</font>

88
00:04:12,030 --> 00:04:15,870
you've got a server with some known

89
00:04:13,830 --> 00:04:17,250
vulnerability you're allowing a port

90
00:04:15,870 --> 00:04:19,680
through to<font color="#E5E5E5"> that server and then you've</font>

91
00:04:17,250 --> 00:04:21,329
<font color="#CCCCCC">got other stuff on the inside</font><font color="#E5E5E5"> all right</font>

92
00:04:19,680 --> 00:04:24,030
<font color="#CCCCCC">a pack channel comes through the allowed</font>

93
00:04:21,329 --> 00:04:25,830
port turns into a control channel the

94
00:04:24,030 --> 00:04:26,510
compromised server is used as stepping

95
00:04:25,830 --> 00:04:29,030
stones

96
00:04:26,510 --> 00:04:31,340
other stuff that<font color="#E5E5E5"> should be protected</font>

97
00:04:29,030 --> 00:04:32,960
because it's behind the firewall except

98
00:04:31,340 --> 00:04:36,320
the firewall is this one monolithic

99
00:04:32,960 --> 00:04:39,140
thing that turns into a control panel

100
00:04:36,320 --> 00:04:40,940
global<font color="#CCCCCC"> okay so untrusted user attacks</font>

101
00:04:39,140 --> 00:04:42,740
you've got your<font color="#CCCCCC"> DMZ that's sort of</font>

102
00:04:40,940 --> 00:04:44,780
between<font color="#E5E5E5"> the inside and the outside or</font>

103
00:04:42,740 --> 00:04:46,400
it's a third zone whatever you've<font color="#CCCCCC"> got a</font>

104
00:04:44,780 --> 00:04:49,070
whole bunch<font color="#E5E5E5"> of loud stuff between the</font>

105
00:04:46,400 --> 00:04:50,810
inside the DMZ that's not a very strong

106
00:04:49,070 --> 00:04:53,770
firewall and then you've got<font color="#E5E5E5"> allowed</font>

107
00:04:50,810 --> 00:04:57,320
ports to between<font color="#E5E5E5"> the DMV on the outside</font>

108
00:04:53,770 --> 00:04:59,750
untrusted user uses one<font color="#CCCCCC"> of the outports</font>

109
00:04:57,320 --> 00:05:04,240
attacks one of the inside things so

110
00:04:59,750 --> 00:05:07,580
forth so the kind<font color="#E5E5E5"> of principles</font><font color="#CCCCCC"> that I</font>

111
00:05:04,240 --> 00:05:09,650
use when I'm trying<font color="#E5E5E5"> to advise people</font>

112
00:05:07,580 --> 00:05:11,719
about how to do this our first<font color="#E5E5E5"> of all</font>

113
00:05:09,650 --> 00:05:14,299
don't add points of failure right if

114
00:05:11,720 --> 00:05:16,160
your solution involves an additional box

115
00:05:14,300 --> 00:05:17,930
it's probably not a good<font color="#E5E5E5"> one right</font>

116
00:05:16,160 --> 00:05:19,670
because<font color="#E5E5E5"> additional boxes are bad I've</font>

117
00:05:17,930 --> 00:05:22,310
already got<font color="#CCCCCC"> lots of spots</font><font color="#E5E5E5"> have lots of</font>

118
00:05:19,670 --> 00:05:23,810
capabilities billions capabilities that

119
00:05:22,310 --> 00:05:25,310
you're not<font color="#CCCCCC"> using maybe you should take a</font>

120
00:05:23,810 --> 00:05:27,710
<font color="#E5E5E5">look at</font><font color="#CCCCCC"> what the boxes you already have</font>

121
00:05:25,310 --> 00:05:30,710
to especially since the boxes you

122
00:05:27,710 --> 00:05:40,520
already have our<font color="#E5E5E5"> fast and you already</font>

123
00:05:30,710 --> 00:05:44,080
<font color="#E5E5E5">understand them so also most of these</font>

124
00:05:40,520 --> 00:05:46,700
standalone stateful inspection boxes I

125
00:05:44,080 --> 00:05:49,520
don't know of any that were they

126
00:05:46,700 --> 00:05:51,530
understand the UN trunking the UN

127
00:05:49,520 --> 00:05:53,150
trunking allows you to do some<font color="#CCCCCC"> remaining</font>

128
00:05:51,530 --> 00:05:57,169
<font color="#E5E5E5">tricks which is what I will get into</font>

129
00:05:53,150 --> 00:05:58,880
yeah here's the<font color="#CCCCCC"> sort of simple pack of</font>

130
00:05:57,170 --> 00:05:59,930
silver idea right you've<font color="#CCCCCC"> got the outside</font>

131
00:05:58,880 --> 00:06:01,820
you've got a router you've got the

132
00:05:59,930 --> 00:06:03,980
inside you got your switch fabric you

133
00:06:01,820 --> 00:06:05,210
put one big packet filters in the middle

134
00:06:03,980 --> 00:06:09,140
of the router between the outside and

135
00:06:05,210 --> 00:06:11,989
the inside right traffic<font color="#CCCCCC"> comes in gets</font>

136
00:06:09,140 --> 00:06:18,460
filtered if it's clean goes through<font color="#E5E5E5"> okay</font>

137
00:06:11,990 --> 00:06:20,600
so instead use a VLAN stays inside then

138
00:06:18,460 --> 00:06:23,299
you can have<font color="#E5E5E5"> a whole</font><font color="#CCCCCC"> bunch of</font><font color="#E5E5E5"> little</font>

139
00:06:20,600 --> 00:06:25,910
separate packet filters each one purpose

140
00:06:23,300 --> 00:06:29,090
specific does stuff on that VLAN the

141
00:06:25,910 --> 00:06:31,250
stuff on that VLAN is probably just one

142
00:06:29,090 --> 00:06:33,440
machine it's tough<font color="#E5E5E5"> on a veal and then</font>

143
00:06:31,250 --> 00:06:39,130
<font color="#CCCCCC">stuff that shares a common security</font>

144
00:06:33,440 --> 00:06:41,800
policy so use the router sorry<font color="#E5E5E5"> okay</font>

145
00:06:39,130 --> 00:06:44,780
all right again that's kind of obvious

146
00:06:41,800 --> 00:06:47,060
now if you have one big packet filter

147
00:06:44,780 --> 00:06:49,159
you're executing the<font color="#CCCCCC"> rule set alright</font>

148
00:06:47,060 --> 00:06:50,830
<font color="#CCCCCC">ruleset</font><font color="#E5E5E5"> may be really big right let's</font>

149
00:06:49,160 --> 00:06:53,300
let's say it's<font color="#E5E5E5"> not really the biggest</font>

150
00:06:50,830 --> 00:06:54,979
sporting line rule set protecting a

151
00:06:53,300 --> 00:06:57,020
bunch of<font color="#E5E5E5"> stuff behind it on average</font>

152
00:06:54,980 --> 00:06:59,900
<font color="#E5E5E5">maybe out of 40 line rule set you can</font>

153
00:06:57,020 --> 00:07:03,409
execute<font color="#CCCCCC"> 20 rules before you find a match</font>

154
00:06:59,900 --> 00:07:05,239
<font color="#E5E5E5">and you either discard or pass the</font>

155
00:07:03,410 --> 00:07:09,650
<font color="#E5E5E5">packets and go on to the next packet and</font>

156
00:07:05,240 --> 00:07:11,240
start executing again if you instead

157
00:07:09,650 --> 00:07:13,310
split that into a whole bunch<font color="#E5E5E5"> of little</font>

158
00:07:11,240 --> 00:07:15,320
rule sets the router can route really

159
00:07:13,310 --> 00:07:17,780
fast in this instance<font color="#E5E5E5"> routing means</font>

160
00:07:15,320 --> 00:07:20,120
taking what which output viewing going

161
00:07:17,780 --> 00:07:22,219
to go on to write once the router picks

162
00:07:20,120 --> 00:07:25,310
which output VLAN then you start

163
00:07:22,220 --> 00:07:28,280
executing a packet filter or<font color="#CCCCCC"> a rule set</font>

164
00:07:25,310 --> 00:07:30,140
or whatever um that means the rule sets

165
00:07:28,280 --> 00:07:32,090
can be very<font color="#E5E5E5"> short so let's say there now</font>

166
00:07:30,140 --> 00:07:36,380
for lines and you're executing to on

167
00:07:32,090 --> 00:07:38,419
average instead<font color="#CCCCCC"> of 20 um that means</font><font color="#E5E5E5"> you</font>

168
00:07:36,380 --> 00:07:42,610
can go on to the<font color="#CCCCCC"> next packet 10 times</font>

169
00:07:38,420 --> 00:07:42,610
faster because you've divided work in 10

170
00:07:43,030 --> 00:07:48,080
so on a switch what this looks like this

171
00:07:46,370 --> 00:07:51,680
is just<font color="#CCCCCC"> using</font><font color="#E5E5E5"> a little catalyst as an</font>

172
00:07:48,080 --> 00:07:54,830
example and here I've got in yellow<font color="#CCCCCC"> the</font>

173
00:07:51,680 --> 00:07:57,740
kind of yeah you can see deal the

174
00:07:54,830 --> 00:07:59,479
numbering that we use internally to sort

175
00:07:57,740 --> 00:08:01,700
of keep everything tied together because

176
00:07:59,480 --> 00:08:04,340
this does involve a bunch of parts on a

177
00:08:01,700 --> 00:08:07,580
bunch of on two devices after he kept

178
00:08:04,340 --> 00:08:11,179
synchronized so if we<font color="#CCCCCC"> have say switch</font>

179
00:08:07,580 --> 00:08:18,080
<font color="#CCCCCC">three interface 41 we'll just</font><font color="#E5E5E5"> call that</font>

180
00:08:11,180 --> 00:08:23,390
you know<font color="#E5E5E5"> number 3 41 for this purpose we</font>

181
00:08:18,080 --> 00:08:25,550
throw in a description we say what vlans

182
00:08:23,390 --> 00:08:27,800
that output port on the switch is

183
00:08:25,550 --> 00:08:34,220
attached to configure the Atlanta name

184
00:08:27,800 --> 00:08:37,520
<font color="#CCCCCC">it then on</font><font color="#E5E5E5"> the router we have a ethernet</font>

185
00:08:34,220 --> 00:08:40,190
interface facing the switch fabric or

186
00:08:37,520 --> 00:08:42,500
gig e or whatever doesn't have any

187
00:08:40,190 --> 00:08:44,390
address on itself instead<font color="#E5E5E5"> we have a</font>

188
00:08:42,500 --> 00:08:47,540
whole<font color="#E5E5E5"> lot of view n specific</font>

189
00:08:44,390 --> 00:08:50,960
subinterfaces what I'm not<font color="#E5E5E5"> showing on</font>

190
00:08:47,540 --> 00:08:52,170
here is<font color="#CCCCCC"> that we have the default VLAN 0</font>

191
00:08:50,960 --> 00:08:55,769
n1 which we

192
00:08:52,170 --> 00:09:00,860
put anything on<font color="#E5E5E5"> arm or we just put</font>

193
00:08:55,769 --> 00:09:02,880
infrastructure devices not any server

194
00:09:00,860 --> 00:09:05,850
things that need to be access to the

195
00:09:02,880 --> 00:09:07,950
outside so then we've got<font color="#E5E5E5"> things</font><font color="#CCCCCC"> with</font>

196
00:09:05,850 --> 00:09:13,100
 security policy here as an example

197
00:09:07,950 --> 00:09:17,370
of<font color="#E5E5E5"> DNS server tie one of the virtual</font>

198
00:09:13,100 --> 00:09:19,380
subinterfaces to that view am we have

199
00:09:17,370 --> 00:09:23,279
input and output filters so we can

200
00:09:19,380 --> 00:09:25,860
control both directions tie it to the

201
00:09:23,279 --> 00:09:28,079
specific VLAN given that grass and then

202
00:09:25,860 --> 00:09:30,180
we've got<font color="#E5E5E5"> the two filters so here we're</font>

203
00:09:28,079 --> 00:09:32,729
just<font color="#E5E5E5"> sort of allowing any sort of</font>

204
00:09:30,180 --> 00:09:35,130
reasonable DNS traffic into<font color="#CCCCCC"> the router</font>

205
00:09:32,730 --> 00:09:36,750
from the server and out towards the

206
00:09:35,130 --> 00:09:39,750
router were just allowing queries and

207
00:09:36,750 --> 00:09:43,889
that you can<font color="#CCCCCC"> see</font><font color="#E5E5E5"> more</font><font color="#CCCCCC"> of the screen were</font>

208
00:09:39,750 --> 00:09:46,829
<font color="#CCCCCC">color ok give a more interesting example</font>

209
00:09:43,889 --> 00:09:50,850
what about<font color="#E5E5E5"> that the tricky situation of</font>

210
00:09:46,829 --> 00:09:53,519
we have a VPN ten-point box something

211
00:09:50,850 --> 00:09:56,070
like an<font color="#CCCCCC"> al</font><font color="#E5E5E5"> tiga or you know a sonicwall</font>

212
00:09:53,519 --> 00:09:58,350
or something like that which thinks that

213
00:09:56,070 --> 00:09:59,850
it has an inside<font color="#E5E5E5"> and an outside it</font>

214
00:09:58,350 --> 00:10:04,019
thinks it's<font color="#E5E5E5"> kind of like a little baby</font>

215
00:09:59,850 --> 00:10:07,140
firewall that does encryption IPSec is

216
00:10:04,019 --> 00:10:09,390
this a special<font color="#E5E5E5"> case no not using this</font>

217
00:10:07,140 --> 00:10:12,089
model this<font color="#E5E5E5"> is just a server with two</font>

218
00:10:09,390 --> 00:10:14,399
interfaces one of the interfaces allows

219
00:10:12,089 --> 00:10:16,980
IPSec traffic in from the outside and

220
00:10:14,399 --> 00:10:19,140
ipsec traffic out to the<font color="#CCCCCC"> outside and</font>

221
00:10:16,980 --> 00:10:23,220
that's it so you can't attack it any

222
00:10:19,140 --> 00:10:25,980
other way one the interfaces allows most

223
00:10:23,220 --> 00:10:29,100
kinds<font color="#E5E5E5"> of traffic to your other servers</font>

224
00:10:25,980 --> 00:10:31,230
internally but not all and most return

225
00:10:29,100 --> 00:10:32,940
traffic but not<font color="#E5E5E5"> all and doesn't</font><font color="#CCCCCC"> really</font>

226
00:10:31,230 --> 00:10:36,510
allow anything to the outside world at

227
00:10:32,940 --> 00:10:39,930
all so walk through this one quickly

228
00:10:36,510 --> 00:10:42,060
<font color="#CCCCCC">draft</font><font color="#E5E5E5"> enters from outside first rule set</font>

229
00:10:39,930 --> 00:10:45,449
is going to filter out anything other

230
00:10:42,060 --> 00:10:47,760
than<font color="#E5E5E5"> IP sex so you can't do like an HTTP</font>

231
00:10:45,449 --> 00:10:55,729
based attack on the management interface

232
00:10:47,760 --> 00:10:58,019
of the the VPN endpoint comes in traffic

233
00:10:55,730 --> 00:11:00,300
decrypted traffic comes out of the VPN

234
00:10:58,019 --> 00:11:03,180
endpoint then we've got<font color="#E5E5E5"> another rule</font>

235
00:11:00,300 --> 00:11:04,319
sets there that's saying well this is

236
00:11:03,180 --> 00:11:07,439
somebody<font color="#CCCCCC"> who</font>

237
00:11:04,320 --> 00:11:10,380
came in on VPN so we know they've

238
00:11:07,440 --> 00:11:12,240
authenticated using a password or using

239
00:11:10,380 --> 00:11:14,939
it you know card key or something<font color="#CCCCCC"> like</font>

240
00:11:12,240 --> 00:11:16,710
that but we can't<font color="#E5E5E5"> actually see them we</font>

241
00:11:14,940 --> 00:11:18,900
<font color="#E5E5E5">don't know that it's not somebody's kid</font>

242
00:11:16,710 --> 00:11:21,210
right or somebody's broken into an

243
00:11:18,900 --> 00:11:22,439
employee's house or<font color="#E5E5E5"> whatever therefore</font>

244
00:11:21,210 --> 00:11:24,150
we're not going to trusted in exactly

245
00:11:22,440 --> 00:11:25,560
the same way we trust somebody who's

246
00:11:24,150 --> 00:11:27,420
walked in and sitting<font color="#E5E5E5"> in front of the</font>

247
00:11:25,560 --> 00:11:28,829
machine in their office or still going

248
00:11:27,420 --> 00:11:30,060
to give<font color="#E5E5E5"> them access to most of the stuff</font>

249
00:11:28,830 --> 00:11:32,160
that they would have<font color="#CCCCCC"> had</font><font color="#E5E5E5"> access to any</font>

250
00:11:30,060 --> 00:11:33,750
way so we can<font color="#E5E5E5"> do a different security</font>

251
00:11:32,160 --> 00:11:35,430
policy than people coming in straight

252
00:11:33,750 --> 00:11:38,100
from the outside or than people coming

253
00:11:35,430 --> 00:11:41,250
in from desktops and then out again

254
00:11:38,100 --> 00:11:44,070
toward the server we control the<font color="#CCCCCC"> port's</font>

255
00:11:41,250 --> 00:11:49,380
exactly like we would<font color="#E5E5E5"> for services in</font>

256
00:11:44,070 --> 00:11:57,560
now to<font color="#CCCCCC"> dress</font><font color="#E5E5E5"> the world so that's that</font>

257
00:11:49,380 --> 00:11:57,560
one questions on that key

258
00:11:58,089 --> 00:12:06,440
hi<font color="#CCCCCC"> michell exchange point</font><font color="#E5E5E5"> me I actually</font>

259
00:12:05,240 --> 00:12:09,110
have different<font color="#E5E5E5"> reasons for asking this</font>

260
00:12:06,440 --> 00:12:13,459
or rather it's more of a<font color="#E5E5E5"> comment and a</font>

261
00:12:09,110 --> 00:12:16,880
question which is that<font color="#E5E5E5"> it's quite neat</font>

262
00:12:13,459 --> 00:12:18,649
scheme I think the 820 2.12

263
00:12:16,880 --> 00:12:22,550
subinterfaces and Reuters for a good

264
00:12:18,649 --> 00:12:24,500
idea and I<font color="#E5E5E5"> quality over to them to</font>

265
00:12:22,550 --> 00:12:27,290
support<font color="#E5E5E5"> them I'm not sure who supports</font>

266
00:12:24,500 --> 00:12:29,209
them apart from<font color="#E5E5E5"> Cisco one possible</font>

267
00:12:27,290 --> 00:12:31,430
drawback is subinterfaces at the moment

268
00:12:29,209 --> 00:12:34,689
don't tend to<font color="#E5E5E5"> have a lot in the way of</font>

269
00:12:31,430 --> 00:12:37,040
packet counters and accounting on them

270
00:12:34,690 --> 00:12:40,540
again that<font color="#E5E5E5"> would</font><font color="#CCCCCC"> be</font><font color="#E5E5E5"> a nice things just</font>

271
00:12:37,040 --> 00:12:43,389
to see<font color="#CCCCCC"> supported from the</font><font color="#E5E5E5"> Rooter vendors</font>

272
00:12:40,540 --> 00:12:46,790
yes that's<font color="#E5E5E5"> an agreement on that one um</font>

273
00:12:43,389 --> 00:12:50,269
one<font color="#CCCCCC"> of</font><font color="#E5E5E5"> the big problems is that a lot</font><font color="#CCCCCC"> of</font>

274
00:12:46,790 --> 00:12:55,010
vendors don't have SMP calendars as keep

275
00:12:50,269 --> 00:12:57,110
is saying for VLAN interfaces one of the

276
00:12:55,010 --> 00:12:59,839
<font color="#E5E5E5">reasons people do this is because if</font>

277
00:12:57,110 --> 00:13:04,149
they pop an ACL<font color="#E5E5E5"> onto the interface</font>

278
00:12:59,839 --> 00:13:06,820
inbound outbound and they can use

279
00:13:04,149 --> 00:13:09,709
<font color="#E5E5E5">natural information get their average</font>

280
00:13:06,820 --> 00:13:12,110
packet size they can<font color="#E5E5E5"> get a packet count</font>

281
00:13:09,709 --> 00:13:13,819
in and out on each of the viewing on

282
00:13:12,110 --> 00:13:16,430
each of the vlans or each of those

283
00:13:13,820 --> 00:13:19,820
subinterfaces and then multiply<font color="#CCCCCC"> that by</font>

284
00:13:16,430 --> 00:13:25,339
the<font color="#E5E5E5"> average price per packet fits for</font>

285
00:13:19,820 --> 00:13:27,440
backup oh I'm glad<font color="#E5E5E5"> that says you did</font>

286
00:13:25,339 --> 00:13:29,690
this presentation it's something that I

287
00:13:27,440 --> 00:13:31,720
think makes a lot of sense and<font color="#E5E5E5"> I would</font>

288
00:13:29,690 --> 00:13:38,269
<font color="#E5E5E5">like to see a lot of other providers</font>

289
00:13:31,720 --> 00:13:40,850
doing this two questions one is what do

290
00:13:38,269 --> 00:13:45,050
you see is the added complexity to

291
00:13:40,850 --> 00:13:48,079
troubleshooting and management from a

292
00:13:45,050 --> 00:13:52,069
network operations in a<font color="#CCCCCC"> NOC monkey kind</font>

293
00:13:48,079 --> 00:13:54,170
of perspective and in part two is along

294
00:13:52,069 --> 00:13:56,990
those lines what do<font color="#CCCCCC"> you have as</font>

295
00:13:54,170 --> 00:14:01,010
recommendations<font color="#E5E5E5"> for how do you keep</font>

296
00:13:56,990 --> 00:14:02,690
track of<font color="#E5E5E5"> 1500 vlans and the</font><font color="#CCCCCC"> slash 30s</font>

297
00:14:01,010 --> 00:14:04,880
that<font color="#E5E5E5"> you're assigned to</font><font color="#CCCCCC"> it of the 28</font><font color="#E5E5E5"> or</font>

298
00:14:02,690 --> 00:14:07,030
whatever and making sure that that

299
00:14:04,880 --> 00:14:11,530
switch config router config

300
00:14:07,030 --> 00:14:14,140
dms etc is all<font color="#E5E5E5"> corporately glued let me</font>

301
00:14:11,530 --> 00:14:16,449
take those in reverse order question 2

302
00:14:14,140 --> 00:14:20,130
was how<font color="#E5E5E5"> to keep track</font><font color="#CCCCCC"> of all</font><font color="#E5E5E5"> this</font><font color="#CCCCCC"> stuff</font>

303
00:14:16,450 --> 00:14:22,600
when<font color="#CCCCCC"> it gets a large we sort</font><font color="#E5E5E5"> of</font>

304
00:14:20,130 --> 00:14:26,439
aggressively force all this stuff into<font color="#CCCCCC"> a</font>

305
00:14:22,600 --> 00:14:29,020
ski and keep everything in a ski flat

306
00:14:26,440 --> 00:14:32,140
files basically and have a lot of just

307
00:14:29,020 --> 00:14:35,380
little in-house pearl tools that go and

308
00:14:32,140 --> 00:14:38,620
<font color="#E5E5E5">find stuff and use grapple off and you</font>

309
00:14:35,380 --> 00:14:40,060
know it that sounds pretty simple minded

310
00:14:38,620 --> 00:14:42,340
I think if<font color="#E5E5E5"> someone were doing it on a</font>

311
00:14:40,060 --> 00:14:45,699
much larger scale than we were they'd

312
00:14:42,340 --> 00:14:48,030
switch<font color="#CCCCCC"> the database back-end that would</font>

313
00:14:45,700 --> 00:14:53,560
generate config snippets automatically

314
00:14:48,030 --> 00:14:55,780
we're not<font color="#E5E5E5"> doing that but we're also not</font>

315
00:14:53,560 --> 00:14:59,890
doing this in such a large volume that

316
00:14:55,780 --> 00:15:04,180
that's a problem for us on average<font color="#CCCCCC"> I</font>

317
00:14:59,890 --> 00:15:10,120
think we're touching 50 to 75 acl's a

318
00:15:04,180 --> 00:15:14,650
day among three people doing this in in

319
00:15:10,120 --> 00:15:16,990
our<font color="#E5E5E5"> security staff if we were doing two</font>

320
00:15:14,650 --> 00:15:18,670
or<font color="#E5E5E5"> three or four</font><font color="#CCCCCC"> times that volume we'd</font>

321
00:15:16,990 --> 00:15:23,830
definitely be looking<font color="#E5E5E5"> into the date at a</font>

322
00:15:18,670 --> 00:15:26,589
database for managing it sorry<font color="#E5E5E5"> I mean</font>

323
00:15:23,830 --> 00:15:30,750
<font color="#E5E5E5">like an SQL and a database as opposed to</font>

324
00:15:26,590 --> 00:15:33,900
the tools that<font color="#E5E5E5"> we've written in house</font>

325
00:15:30,750 --> 00:15:40,150
question number<font color="#CCCCCC"> one was relative</font>

326
00:15:33,900 --> 00:15:42,760
complexity this is there's obviously a

327
00:15:40,150 --> 00:15:44,770
complexity overhead here in keeping the

328
00:15:42,760 --> 00:15:48,250
pieces tied together right<font color="#E5E5E5"> because it</font>

329
00:15:44,770 --> 00:15:50,439
requires a vm<font color="#E5E5E5"> and interface on</font><font color="#CCCCCC"> the</font>

330
00:15:48,250 --> 00:15:52,720
switch and interface on<font color="#CCCCCC"> the router and</font>

331
00:15:50,440 --> 00:15:56,170
inbound access<font color="#CCCCCC"> list and an outbound</font>

332
00:15:52,720 --> 00:15:57,670
access list and any other security

333
00:15:56,170 --> 00:16:00,640
features that are being applied to<font color="#CCCCCC"> the</font>

334
00:15:57,670 --> 00:16:02,199
sub interface that's a lot to keep in

335
00:16:00,640 --> 00:16:03,750
your head if<font color="#E5E5E5"> you don't do this</font>

336
00:16:02,200 --> 00:16:09,010
frequently if you do this frequently

337
00:16:03,750 --> 00:16:11,500
<font color="#E5E5E5">it's second nature the problem here is</font>

338
00:16:09,010 --> 00:16:15,580
this this gets difficult to hand off to

339
00:16:11,500 --> 00:16:18,580
naive side the administrators we do this

340
00:16:15,580 --> 00:16:20,150
because we manage security for a lot of

341
00:16:18,580 --> 00:16:23,600
our customer sites

342
00:16:20,150 --> 00:16:26,569
this becomes very easy for us the big

343
00:16:23,600 --> 00:16:29,450
win here for us is the tiny little<font color="#CCCCCC"> IC</font>

344
00:16:26,570 --> 00:16:31,550
<font color="#CCCCCC">Al's right the ACLS get very short and</font>

345
00:16:29,450 --> 00:16:35,890
very purpose specific and you throw in a

346
00:16:31,550 --> 00:16:38,120
lot<font color="#CCCCCC"> of comments and you can become very</font>

347
00:16:35,890 --> 00:16:41,780
<font color="#E5E5E5">stateless in the way you deal</font><font color="#CCCCCC"> with them</font>

348
00:16:38,120 --> 00:16:43,760
<font color="#E5E5E5">right a NOC person can pull</font><font color="#CCCCCC"> up an ACL</font>

349
00:16:41,780 --> 00:16:46,520
see immediately what it's trying to do

350
00:16:43,760 --> 00:16:48,950
right look in the comments and<font color="#E5E5E5"> see</font>

351
00:16:46,520 --> 00:16:51,860
exactly what the idea behind that ACL is

352
00:16:48,950 --> 00:16:53,870
and work with<font color="#CCCCCC"> it and slam it back in all</font>

353
00:16:51,860 --> 00:16:55,490
with that were without ever having<font color="#E5E5E5"> to</font>

354
00:16:53,870 --> 00:16:58,640
think<font color="#E5E5E5"> about what the interaction between</font>

355
00:16:55,490 --> 00:17:01,460
that and some other servers or whatever

356
00:16:58,640 --> 00:17:04,190
might be<font color="#E5E5E5"> right because it breaks out</font><font color="#CCCCCC"> the</font>

357
00:17:01,460 --> 00:17:10,150
functions of a big AC out into a lot<font color="#CCCCCC"> of</font>

358
00:17:04,190 --> 00:17:13,280
separate ones that don't have inter

359
00:17:10,150 --> 00:17:15,020
injured connecting you're not dealing

360
00:17:13,280 --> 00:17:17,450
with flows inbound and outbound and

361
00:17:15,020 --> 00:17:19,609
what's way the sim setup was and cetera

362
00:17:17,450 --> 00:17:21,650
yeah exactly right so<font color="#E5E5E5"> so it's</font><font color="#CCCCCC"> very</font>

363
00:17:19,609 --> 00:17:23,300
definitely a trade-off it's a really

364
00:17:21,650 --> 00:17:25,130
<font color="#CCCCCC">good</font><font color="#E5E5E5"> trade-off for anybody who asks deal</font>

365
00:17:23,300 --> 00:17:27,440
with this a lot it's a really<font color="#E5E5E5"> bad</font>

366
00:17:25,130 --> 00:17:29,930
trade-off for anybody that deals with it

367
00:17:27,440 --> 00:17:36,230
once a month<font color="#E5E5E5"> just</font><font color="#CCCCCC"> a quick follow-up on</font>

368
00:17:29,930 --> 00:17:39,410
the other question I have is redundancy

369
00:17:36,230 --> 00:17:41,530
we spend a lot<font color="#CCCCCC"> of times yesterday on an</font>

370
00:17:39,410 --> 00:17:43,850
infrastructure redundancy<font color="#CCCCCC"> and so forth</font>

371
00:17:41,530 --> 00:17:46,250
one of the arguments that i<font color="#E5E5E5"> usually get</font>

372
00:17:43,850 --> 00:17:49,370
back phone providers one<font color="#CCCCCC"> torna you know</font>

373
00:17:46,250 --> 00:17:51,470
100<font color="#E5E5E5"> Meg to a cat 2900 and break up your</font>

374
00:17:49,370 --> 00:17:53,000
<font color="#CCCCCC">vlans in the 10</font><font color="#E5E5E5"> meg force or gigabit so</font>

375
00:17:51,470 --> 00:17:55,370
what happened is what happens when that

376
00:17:53,000 --> 00:17:57,650
single interface fails what are your

377
00:17:55,370 --> 00:18:02,179
recommendations for that and then I'm

378
00:17:57,650 --> 00:18:03,980
done and Ted can go<font color="#E5E5E5"> next um honestly the</font>

379
00:18:02,180 --> 00:18:08,420
way we're putting this in it's usually

380
00:18:03,980 --> 00:18:09,950
for any sites that well one of the

381
00:18:08,420 --> 00:18:12,440
reasons i like the little switches is

382
00:18:09,950 --> 00:18:16,610
that it's easier to do colts parent

383
00:18:12,440 --> 00:18:20,540
right so we tend to<font color="#E5E5E5"> recommend little</font>

384
00:18:16,610 --> 00:18:24,590
stackable switches like to give a vendor

385
00:18:20,540 --> 00:18:26,720
specific example cat 3548<font color="#E5E5E5"> right a big</font>

386
00:18:24,590 --> 00:18:31,520
sack of 3548 tied together with gig

387
00:18:26,720 --> 00:18:33,830
rather than a you know<font color="#E5E5E5"> 6500 or something</font>

388
00:18:31,520 --> 00:18:35,360
where if the thing fails

389
00:18:33,830 --> 00:18:39,549
just out<font color="#CCCCCC"> of luck</font><font color="#E5E5E5"> until a replacement</font>

390
00:18:35,360 --> 00:18:43,219
shows up so dead kind of<font color="#E5E5E5"> a</font><font color="#CCCCCC"> question on</font>

391
00:18:39,549 --> 00:18:44,059
scaling when<font color="#E5E5E5"> I first saw you doing this</font>

392
00:18:43,220 --> 00:18:46,100
I thought<font color="#E5E5E5"> that you were actually</font>

393
00:18:44,059 --> 00:18:48,950
dividing things into categories so you

394
00:18:46,100 --> 00:18:51,529
had like a category<font color="#E5E5E5"> of VPN users and</font>

395
00:18:48,950 --> 00:18:55,250
they would have the short little ACL of

396
00:18:51,529 --> 00:18:57,130
VPN users but in your example it looked

397
00:18:55,250 --> 00:18:59,960
like you were down at this last<font color="#E5E5E5"> 30 level</font>

398
00:18:57,130 --> 00:19:03,049
and again with John's comments my

399
00:18:59,960 --> 00:19:04,850
question is if you're doing it really at

400
00:19:03,049 --> 00:19:06,200
<font color="#CCCCCC">that level of granularity are you in</font>

401
00:19:04,850 --> 00:19:08,299
essence going to have to say we're not

402
00:19:06,200 --> 00:19:10,669
<font color="#E5E5E5">going</font><font color="#CCCCCC"> to do dhcp anymore because we have</font>

403
00:19:08,299 --> 00:19:12,889
to have a specific ACL assigned to a

404
00:19:10,669 --> 00:19:16,519
specific IP address and a specific test

405
00:19:12,889 --> 00:19:20,029
mob know<font color="#E5E5E5"> what we're we divide it at the</font>

406
00:19:16,519 --> 00:19:22,549
unique security policy level of

407
00:19:20,029 --> 00:19:25,070
granularity that<font color="#E5E5E5"> is if we have 50,000</font>

408
00:19:22,549 --> 00:19:28,279
users who have identical security policy

409
00:19:25,070 --> 00:19:32,809
we have a set of ACLs and an interface

410
00:19:28,279 --> 00:19:34,970
facing those 50,000 users if we have 50

411
00:19:32,809 --> 00:19:37,879
dozen would be over your VLAN limit so

412
00:19:34,970 --> 00:19:40,940
it could be<font color="#E5E5E5"> right</font><font color="#CCCCCC"> now exactly um so</font>

413
00:19:37,880 --> 00:19:43,220
frequently we will set one up if a site

414
00:19:40,940 --> 00:19:45,470
has 2 dns servers will provoke dns

415
00:19:43,220 --> 00:19:48,169
servers on<font color="#CCCCCC"> the same VLAN for instance or</font>

416
00:19:45,470 --> 00:19:49,639
you know that kind of thing we are

417
00:19:48,169 --> 00:19:52,039
running out of<font color="#CCCCCC"> time you'd get Dave Meyer</font>

418
00:19:49,639 --> 00:19:54,070
up here I will I will<font color="#E5E5E5"> follow up ok thank</font>

419
00:19:52,039 --> 00:19:54,070
you

