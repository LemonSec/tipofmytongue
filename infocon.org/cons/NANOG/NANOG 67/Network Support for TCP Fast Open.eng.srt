1
00:00:05,500 --> 00:00:10,770
<font color="#E5E5E5">all righty folks</font>

2
00:00:08,280 --> 00:00:12,390
thank you again to<font color="#CCCCCC"> our sponsors</font>

3
00:00:10,770 --> 00:00:14,740
providing that hopefully you guys all

4
00:00:12,390 --> 00:00:16,059
enjoyed<font color="#CCCCCC"> it we had a</font><font color="#E5E5E5"> good time</font><font color="#CCCCCC"> at</font><font color="#E5E5E5"> the new</font>

5
00:00:14,740 --> 00:00:18,730
lunch as well<font color="#CCCCCC"> a lot of a lot of</font><font color="#E5E5E5"> good</font>

6
00:00:16,059 --> 00:00:20,230
<font color="#E5E5E5">good attendance</font><font color="#CCCCCC"> they're nice faces so I</font>

7
00:00:18,730 --> 00:00:22,119
want you go ahead<font color="#E5E5E5"> and get settled in and</font>

8
00:00:20,230 --> 00:00:24,130
once again<font color="#CCCCCC"> it's open seating in first</font>

9
00:00:22,119 --> 00:00:26,020
class up here just<font color="#E5E5E5"> like Southwest</font>

10
00:00:24,130 --> 00:00:28,538
Airlines<font color="#E5E5E5"> come on over open seating</font><font color="#CCCCCC"> get a</font>

11
00:00:26,020 --> 00:00:30,009
table<font color="#E5E5E5"> meet some friends and I wanted</font><font color="#CCCCCC"> to</font>

12
00:00:28,539 --> 00:00:34,410
introduce<font color="#CCCCCC"> Kristoff from</font><font color="#E5E5E5"> Apple who's</font>

13
00:00:30,009 --> 00:00:34,410
going to talk<font color="#E5E5E5"> to us about TCP fast</font><font color="#CCCCCC"> open</font>

14
00:00:39,420 --> 00:00:45,190
thanks for the introduction

15
00:00:41,730 --> 00:00:48,430
yeah I'm coming from<font color="#E5E5E5"> Apple</font><font color="#CCCCCC"> and we have</font>

16
00:00:45,190 --> 00:00:52,299
been<font color="#CCCCCC"> working on the extension to TCP</font>

17
00:00:48,430 --> 00:00:54,010
<font color="#E5E5E5">whose goal is</font><font color="#CCCCCC"> to reduce the latency and</font>

18
00:00:52,299 --> 00:00:58,629
basically<font color="#E5E5E5"> improve the user experience</font>

19
00:00:54,010 --> 00:01:00,280
when accessing<font color="#E5E5E5"> the</font><font color="#CCCCCC"> internet</font><font color="#E5E5E5"> however in</font>

20
00:00:58,629 --> 00:01:02,379
this talk I'm giving<font color="#E5E5E5"> you basically a</font>

21
00:01:00,280 --> 00:01:05,170
<font color="#E5E5E5">tale of all those issues that we found</font>

22
00:01:02,379 --> 00:01:06,880
was deploying<font color="#E5E5E5"> this into this solution we</font>

23
00:01:05,170 --> 00:01:08,380
have had a lot<font color="#CCCCCC"> of issues</font><font color="#E5E5E5"> with firewalls</font>

24
00:01:06,880 --> 00:01:11,530
<font color="#E5E5E5">and mailboxes intrusion detection</font>

25
00:01:08,380 --> 00:01:15,729
systems that were completely blocking

26
00:01:11,530 --> 00:01:17,439
<font color="#E5E5E5">our extension and</font><font color="#CCCCCC"> so this call this talk</font>

27
00:01:15,729 --> 00:01:19,780
can<font color="#CCCCCC"> be seen as</font><font color="#E5E5E5"> like a call to</font><font color="#CCCCCC"> action</font>

28
00:01:17,439 --> 00:01:22,000
that in the firewalls and intrusion

29
00:01:19,780 --> 00:01:25,479
detection systems we should try to<font color="#E5E5E5"> take</font>

30
00:01:22,000 --> 00:01:27,609
TCP<font color="#E5E5E5"> fast open into account so that</font>

31
00:01:25,479 --> 00:01:31,840
solutions like these can<font color="#E5E5E5"> be deployed in</font>

32
00:01:27,609 --> 00:01:34,589
<font color="#E5E5E5">the Internet today so let me first start</font>

33
00:01:31,840 --> 00:01:37,749
<font color="#E5E5E5">with why does latency actually matters</font>

34
00:01:34,590 --> 00:01:41,259
<font color="#E5E5E5">in the number one metric that we are</font>

35
00:01:37,749 --> 00:01:44,020
using mostly<font color="#E5E5E5"> to advertise and also to</font>

36
00:01:41,259 --> 00:01:46,149
measure our our<font color="#CCCCCC"> internet connectivity is</font>

37
00:01:44,020 --> 00:01:47,979
the bandwidth but<font color="#CCCCCC"> how much does</font><font color="#E5E5E5"> the band</font>

38
00:01:46,149 --> 00:01:50,979
what actually matters in<font color="#CCCCCC"> terms of user</font>

39
00:01:47,979 --> 00:01:54,640
experience<font color="#CCCCCC"> so there was a study in 2010</font>

40
00:01:50,979 --> 00:01:57,189
that measured<font color="#E5E5E5"> the page load time of the</font>

41
00:01:54,640 --> 00:01:59,469
25 most popular<font color="#E5E5E5"> websites when the</font>

42
00:01:57,189 --> 00:02:01,809
latency is<font color="#E5E5E5"> fixed at 60 milliseconds and</font>

43
00:01:59,469 --> 00:02:05,079
the bandwidth is running<font color="#E5E5E5"> from</font><font color="#CCCCCC"> 1 to</font><font color="#E5E5E5"> 10</font>

44
00:02:01,810 --> 00:02:08,679
<font color="#E5E5E5">megabits per</font><font color="#CCCCCC"> seconds</font><font color="#E5E5E5"> the study has shown</font>

45
00:02:05,079 --> 00:02:11,410
that<font color="#E5E5E5"> when the band word increases from 1</font>

46
00:02:08,679 --> 00:02:13,660
to<font color="#E5E5E5"> 2 there's a significant increase or</font>

47
00:02:11,410 --> 00:02:16,420
significant benefit<font color="#E5E5E5"> in terms of page</font>

48
00:02:13,660 --> 00:02:18,579
load time<font color="#E5E5E5"> however for the</font><font color="#CCCCCC"> window band</font>

49
00:02:16,420 --> 00:02:22,179
<font color="#CCCCCC">wide</font><font color="#E5E5E5"> increases beyond 5 megabits per</font>

50
00:02:18,580 --> 00:02:24,550
seconds the benefit in terms<font color="#E5E5E5"> of</font><font color="#CCCCCC"> ban page</font>

51
00:02:22,180 --> 00:02:28,230
load time is<font color="#CCCCCC"> basically non-existent</font><font color="#E5E5E5"> its</font>

52
00:02:24,550 --> 00:02:31,300
marginal the

53
00:02:28,230 --> 00:02:34,569
major influencing factor<font color="#E5E5E5"> for page load</font>

54
00:02:31,300 --> 00:02:36,010
time<font color="#CCCCCC"> nowadays with who is high bandwidth</font>

55
00:02:34,569 --> 00:02:38,790
<font color="#CCCCCC">a tweet with the Hydra bandwidth that we</font>

56
00:02:36,010 --> 00:02:41,769
<font color="#CCCCCC">have nowadays it's basically the latency</font>

57
00:02:38,790 --> 00:02:43,720
the study has measured the<font color="#CCCCCC"> page real</font>

58
00:02:41,769 --> 00:02:45,400
time again for<font color="#E5E5E5"> the 25 most popular</font>

59
00:02:43,720 --> 00:02:47,859
websites when the band<font color="#CCCCCC"> white is fixed at</font>

60
00:02:45,400 --> 00:02:50,890
<font color="#CCCCCC">5 megabits per</font><font color="#E5E5E5"> second and as you can</font><font color="#CCCCCC"> see</font>

61
00:02:47,860 --> 00:02:53,319
on the graph<font color="#E5E5E5"> on</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> on the right side as</font>

62
00:02:50,890 --> 00:02:54,819
the latency decreases the page load time

63
00:02:53,319 --> 00:02:57,790
decreases as well and so there's a

64
00:02:54,819 --> 00:03:04,839
<font color="#E5E5E5">linear correlation between page load</font>

65
00:02:57,790 --> 00:03:06,578
time and the latency<font color="#CCCCCC"> now</font><font color="#E5E5E5"> the question is</font>

66
00:03:04,840 --> 00:03:08,500
why<font color="#CCCCCC"> it is actually why does the latency</font>

67
00:03:06,579 --> 00:03:10,030
has such a high impact well it's because

68
00:03:08,500 --> 00:03:11,829
the websites that we are<font color="#CCCCCC"> lowering alert</font>

69
00:03:10,030 --> 00:03:13,390
that<font color="#E5E5E5"> we are accessing have many</font>

70
00:03:11,829 --> 00:03:17,140
different web objects and as we<font color="#E5E5E5"> are</font>

71
00:03:13,390 --> 00:03:18,640
fetching the index dot<font color="#CCCCCC"> HTML we discover</font>

72
00:03:17,140 --> 00:03:20,129
oh there are actually other dependencies

73
00:03:18,640 --> 00:03:22,750
for this<font color="#CCCCCC"> website</font><font color="#E5E5E5"> and we have to</font>

74
00:03:20,129 --> 00:03:25,060
establish<font color="#CCCCCC"> a new connection</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> maybe a</font>

75
00:03:22,750 --> 00:03:27,700
completely different server and fetch

76
00:03:25,060 --> 00:03:30,790
this<font color="#E5E5E5"> other web object and all this back</font>

77
00:03:27,700 --> 00:03:34,238
<font color="#CCCCCC">and forth</font><font color="#E5E5E5"> between the</font><font color="#CCCCCC"> server's injury</font>

78
00:03:30,790 --> 00:03:38,739
has<font color="#E5E5E5"> affected a lot by the latency in the</font>

79
00:03:34,239 --> 00:03:40,180
network now the page load time<font color="#E5E5E5"> impacts</font>

80
00:03:38,739 --> 00:03:42,850
basically the user<font color="#E5E5E5"> experience and the</font>

81
00:03:40,180 --> 00:03:44,829
user is not very happy<font color="#E5E5E5"> when the page</font>

82
00:03:42,850 --> 00:03:47,200
load time is<font color="#E5E5E5"> taking a lot of</font><font color="#CCCCCC"> it's</font>

83
00:03:44,829 --> 00:03:51,910
<font color="#CCCCCC">basically very</font><font color="#E5E5E5"> large and there was a</font>

84
00:03:47,200 --> 00:03:53,738
study in<font color="#E5E5E5"> 2000 first 2013 at IMC</font><font color="#CCCCCC"> ware</font>

85
00:03:51,910 --> 00:03:56,440
<font color="#E5E5E5">which measured basically the impact of</font>

86
00:03:53,739 --> 00:03:59,769
latency<font color="#E5E5E5"> on service revenue and the study</font>

87
00:03:56,440 --> 00:04:02,079
has shown that<font color="#E5E5E5"> only 100 milliseconds of</font>

88
00:03:59,769 --> 00:04:04,599
additional latency<font color="#CCCCCC"> in the page load time</font>

89
00:04:02,079 --> 00:04:07,780
has a significant impact<font color="#CCCCCC"> on the revenue</font>

90
00:04:04,599 --> 00:04:09,518
<font color="#E5E5E5">and customer satisfaction so this means</font>

91
00:04:07,780 --> 00:04:12,310
basically<font color="#CCCCCC"> Pedro time should be the</font>

92
00:04:09,519 --> 00:04:15,190
<font color="#E5E5E5">number one metric that we use to</font>

93
00:04:12,310 --> 00:04:17,168
<font color="#CCCCCC">evaluate</font><font color="#E5E5E5"> our networks because it is</font>

94
00:04:15,190 --> 00:04:19,899
impacting user experience user

95
00:04:17,168 --> 00:04:23,889
satisfaction<font color="#E5E5E5"> and ultimately it is</font>

96
00:04:19,899 --> 00:04:26,710
impacting also the service revenue now

97
00:04:23,889 --> 00:04:30,010
<font color="#E5E5E5">to understand why</font><font color="#CCCCCC"> does the latency</font><font color="#E5E5E5"> has</font>

98
00:04:26,710 --> 00:04:32,169
such a high<font color="#E5E5E5"> impact on the on the page</font>

99
00:04:30,010 --> 00:04:33,639
load time we have to look a<font color="#CCCCCC"> bit on the</font>

100
00:04:32,169 --> 00:04:34,180
protocols that<font color="#E5E5E5"> are being used on</font><font color="#CCCCCC"> the</font>

101
00:04:33,639 --> 00:04:36,520
Internet

102
00:04:34,180 --> 00:04:38,409
so the the<font color="#CCCCCC"> tcp</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> transition cultural</font>

103
00:04:36,520 --> 00:04:40,630
protocol is used<font color="#CCCCCC"> for</font><font color="#E5E5E5"> 95 percent</font><font color="#CCCCCC"> of the</font>

104
00:04:38,409 --> 00:04:41,688
<font color="#CCCCCC">internet's</font><font color="#E5E5E5"> traffic and it provides a</font>

105
00:04:40,630 --> 00:04:43,759
liable and in

106
00:04:41,689 --> 00:04:45,610
order byte<font color="#E5E5E5"> stream so all the web objects</font>

107
00:04:43,759 --> 00:04:48,499
<font color="#E5E5E5">and</font><font color="#CCCCCC"> everything is being send over</font><font color="#E5E5E5"> TCP</font>

108
00:04:45,610 --> 00:04:50,509
<font color="#E5E5E5">now in order</font><font color="#CCCCCC"> to provide this reliable</font>

109
00:04:48,499 --> 00:04:53,349
and in order byte stream service it

110
00:04:50,509 --> 00:04:56,239
requires a<font color="#CCCCCC"> so-called 3-way handshake and</font>

111
00:04:53,349 --> 00:04:59,389
<font color="#E5E5E5">did</font><font color="#CCCCCC"> preemie handshake</font><font color="#E5E5E5"> is there to</font>

112
00:04:56,239 --> 00:05:01,698
establish<font color="#CCCCCC"> a connection and negotiate</font>

113
00:04:59,389 --> 00:05:03,169
some parameters<font color="#CCCCCC"> for this</font><font color="#E5E5E5"> connection now</font>

114
00:05:01,699 --> 00:05:05,419
this<font color="#CCCCCC"> probably handshake has been under a</font>

115
00:05:03,169 --> 00:05:07,698
lot<font color="#CCCCCC"> of criticism in the</font><font color="#E5E5E5"> past and it has</font>

116
00:05:05,419 --> 00:05:11,299
<font color="#E5E5E5">led</font><font color="#CCCCCC"> to the so called TCP joke where</font>

117
00:05:07,699 --> 00:05:12,860
basically<font color="#E5E5E5"> somebody wants to tell</font><font color="#CCCCCC"> T wants</font>

118
00:05:11,299 --> 00:05:14,688
to hear TCP drove the other side

119
00:05:12,860 --> 00:05:16,729
confirms yes I'm<font color="#E5E5E5"> going to tell</font><font color="#CCCCCC"> it to</font><font color="#E5E5E5"> you</font>

120
00:05:14,689 --> 00:05:18,739
see Pedro<font color="#E5E5E5"> can't actually</font><font color="#CCCCCC"> the TCP joke</font>

121
00:05:16,729 --> 00:05:21,378
never starts<font color="#E5E5E5"> and that's</font><font color="#CCCCCC"> basically what's</font>

122
00:05:18,739 --> 00:05:22,729
<font color="#CCCCCC">these TCP is it is a lot of back and</font>

123
00:05:21,379 --> 00:05:26,059
<font color="#CCCCCC">forth</font><font color="#E5E5E5"> between the client and the server</font>

124
00:05:22,729 --> 00:05:29,659
<font color="#CCCCCC">before the the useful data can actually</font>

125
00:05:26,059 --> 00:05:31,819
be sent so this TCP handshake<font color="#E5E5E5"> is</font>

126
00:05:29,659 --> 00:05:33,589
actually<font color="#E5E5E5"> very expensive the client is</font>

127
00:05:31,819 --> 00:05:37,009
sending a sin to the server and his sin

128
00:05:33,589 --> 00:05:39,379
contains<font color="#CCCCCC"> the</font><font color="#E5E5E5"> sequence numbers and some</font>

129
00:05:37,009 --> 00:05:41,360
<font color="#E5E5E5">options</font><font color="#CCCCCC"> to negotiate certain</font><font color="#E5E5E5"> extensions</font>

130
00:05:39,379 --> 00:05:44,769
<font color="#E5E5E5">for this connection and the server</font>

131
00:05:41,360 --> 00:05:46,699
replies was a cynic<font color="#E5E5E5"> to this to discern</font>

132
00:05:44,769 --> 00:05:49,309
confirming the sequence numbers

133
00:05:46,699 --> 00:05:52,789
acknowledging the sin being sent by the

134
00:05:49,309 --> 00:05:55,639
client<font color="#CCCCCC"> and also</font><font color="#E5E5E5"> confirming also the TCP</font>

135
00:05:52,789 --> 00:05:57,318
options<font color="#E5E5E5"> and only after this process the</font>

136
00:05:55,639 --> 00:06:00,169
client can finally send its data or

137
00:05:57,319 --> 00:06:02,929
<font color="#E5E5E5">request to the server and the server can</font>

138
00:06:00,169 --> 00:06:05,748
only reply<font color="#E5E5E5"> so as you can</font><font color="#CCCCCC"> see this</font>

139
00:06:02,929 --> 00:06:08,688
handshake basically takes one<font color="#CCCCCC"> RTT</font><font color="#E5E5E5"> now</font>

140
00:06:05,749 --> 00:06:11,269
you might<font color="#E5E5E5"> say well one</font><font color="#CCCCCC"> RTT</font><font color="#E5E5E5"> that's not so</font>

141
00:06:08,689 --> 00:06:14,269
much in the end however<font color="#E5E5E5"> on cellular</font>

142
00:06:11,269 --> 00:06:16,759
networks<font color="#CCCCCC"> our</font><font color="#E5E5E5"> titties</font><font color="#CCCCCC"> are on on</font><font color="#E5E5E5"> congested</font>

143
00:06:14,269 --> 00:06:18,529
networks<font color="#CCCCCC"> our tt's can go to</font><font color="#E5E5E5"> several</font>

144
00:06:16,759 --> 00:06:22,159
hundreds of milliseconds<font color="#E5E5E5"> sometimes and</font>

145
00:06:18,529 --> 00:06:24,349
as<font color="#E5E5E5"> I have shown in</font><font color="#CCCCCC"> the introduction</font><font color="#E5E5E5"> one</font>

146
00:06:22,159 --> 00:06:26,089
only<font color="#CCCCCC"> 100 milliseconds has already a very</font>

147
00:06:24,349 --> 00:06:30,619
significant<font color="#CCCCCC"> impact on the service</font>

148
00:06:26,089 --> 00:06:33,259
revenue and on user experience<font color="#CCCCCC"> so if we</font>

149
00:06:30,619 --> 00:06:35,869
could<font color="#E5E5E5"> would be able</font><font color="#CCCCCC"> to cut down this TCP</font>

150
00:06:33,259 --> 00:06:38,089
handshake<font color="#E5E5E5"> delay this we would have</font><font color="#CCCCCC"> a</font>

151
00:06:35,869 --> 00:06:41,989
<font color="#CCCCCC">major benefit for the users of the</font>

152
00:06:38,089 --> 00:06:44,179
<font color="#E5E5E5">networks now luckily there is a solution</font>

153
00:06:41,989 --> 00:06:46,969
<font color="#E5E5E5">to this problem available</font>

154
00:06:44,179 --> 00:06:51,138
<font color="#E5E5E5">it's TCP fast open standardized at the</font>

155
00:06:46,969 --> 00:06:54,259
<font color="#E5E5E5">ITF</font><font color="#CCCCCC"> an RFC 74</font><font color="#E5E5E5"> 13 and it's basically an</font>

156
00:06:51,139 --> 00:06:55,009
extension<font color="#E5E5E5"> to TCP to accelerate the TCP</font>

157
00:06:54,259 --> 00:06:59,160
handshake

158
00:06:55,009 --> 00:07:02,220
<font color="#CCCCCC">what does</font><font color="#E5E5E5"> it do TCP fast open</font><font color="#CCCCCC"> allows</font>

159
00:06:59,160 --> 00:07:04,770
basically declined to send the HTTP

160
00:07:02,220 --> 00:07:08,240
<font color="#E5E5E5">request</font><font color="#CCCCCC"> or maybe to the</font><font color="#E5E5E5"> TLS client hello</font>

161
00:07:04,770 --> 00:07:10,620
<font color="#E5E5E5">together was the same at</font><font color="#CCCCCC"> the same time</font>

162
00:07:08,240 --> 00:07:12,750
as the server receives<font color="#E5E5E5"> this</font><font color="#CCCCCC"> sin together</font>

163
00:07:10,620 --> 00:07:15,600
<font color="#E5E5E5">with the HTTP</font><font color="#CCCCCC"> request it can reply</font>

164
00:07:12,750 --> 00:07:19,530
immediately<font color="#E5E5E5"> with data sending it back</font><font color="#CCCCCC"> to</font>

165
00:07:15,600 --> 00:07:21,000
<font color="#E5E5E5">the client so as you can</font><font color="#CCCCCC"> see we by using</font>

166
00:07:19,530 --> 00:07:24,809
this kind of method we are<font color="#E5E5E5"> cutting down</font>

167
00:07:21,000 --> 00:07:27,449
<font color="#E5E5E5">the latency of the handshake</font><font color="#CCCCCC"> however of</font>

168
00:07:24,810 --> 00:07:29,639
<font color="#CCCCCC">course there's a downside to it as well</font>

169
00:07:27,449 --> 00:07:32,070
that<font color="#E5E5E5"> if we would do this in a very naive</font>

170
00:07:29,639 --> 00:07:34,560
way it would open<font color="#E5E5E5"> the</font><font color="#CCCCCC"> door for do</font><font color="#E5E5E5"> denial</font>

171
00:07:32,070 --> 00:07:37,039
of service attacks because attackers

172
00:07:34,560 --> 00:07:38,580
could basically flood the servers with

173
00:07:37,039 --> 00:07:40,590
IP spoofed

174
00:07:38,580 --> 00:07:42,630
<font color="#E5E5E5">syn segments that</font><font color="#CCCCCC"> are requesting fall</font>

175
00:07:40,590 --> 00:07:44,580
out of<font color="#E5E5E5"> data so it needs to be</font><font color="#CCCCCC"> fast open</font>

176
00:07:42,630 --> 00:07:46,789
<font color="#E5E5E5">includes also</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> security mechanism to</font>

177
00:07:44,580 --> 00:07:49,380
<font color="#CCCCCC">protect against this kind</font><font color="#E5E5E5"> of behavior</font>

178
00:07:46,789 --> 00:07:54,479
<font color="#CCCCCC">and</font><font color="#E5E5E5"> I will show you later</font><font color="#CCCCCC"> how exactly</font>

179
00:07:49,380 --> 00:07:57,630
these mechanisms works<font color="#E5E5E5"> now thanks to the</font>

180
00:07:54,479 --> 00:08:01,349
benefit that<font color="#E5E5E5"> TCP fast open</font><font color="#CCCCCC"> provides at</font>

181
00:07:57,630 --> 00:08:07,349
Apple<font color="#E5E5E5"> we decided to to deploy it in iOS</font>

182
00:08:01,349 --> 00:08:09,120
<font color="#E5E5E5">9</font><font color="#CCCCCC"> and OS</font><font color="#E5E5E5"> 10.11 release and this it has</font>

183
00:08:07,349 --> 00:08:13,289
been used for<font color="#CCCCCC"> an</font><font color="#E5E5E5"> apple service on all</font>

184
00:08:09,120 --> 00:08:15,810
devices<font color="#E5E5E5"> and the</font><font color="#CCCCCC"> EPI</font><font color="#E5E5E5"> that we deployed for</font>

185
00:08:13,289 --> 00:08:17,880
<font color="#CCCCCC">asar</font><font color="#E5E5E5"> is also public and we are basically</font>

186
00:08:15,810 --> 00:08:20,280
<font color="#E5E5E5">expecting that in the future a lot</font><font color="#CCCCCC"> of</font>

187
00:08:17,880 --> 00:08:22,800
applications will start using it and<font color="#E5E5E5"> so</font>

188
00:08:20,280 --> 00:08:24,690
the traffic<font color="#CCCCCC"> or</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> TFR</font><font color="#E5E5E5"> traffic on the</font>

189
00:08:22,800 --> 00:08:26,120
internet will increase more<font color="#CCCCCC"> and more and</font>

190
00:08:24,690 --> 00:08:29,610
it will gain more and<font color="#E5E5E5"> more popularity</font>

191
00:08:26,120 --> 00:08:31,770
<font color="#E5E5E5">and overall we saw that this was very</font>

192
00:08:29,610 --> 00:08:35,459
beneficial<font color="#E5E5E5"> for from a user experience</font>

193
00:08:31,770 --> 00:08:37,919
point of view however<font color="#E5E5E5"> firewalls got also</font>

194
00:08:35,458 --> 00:08:39,478
in the way and<font color="#E5E5E5"> sometimes they were very</font>

195
00:08:37,919 --> 00:08:41,939
destructive<font color="#CCCCCC"> to the connection</font>

196
00:08:39,479 --> 00:08:43,560
connectivity<font color="#CCCCCC"> of the client</font><font color="#E5E5E5"> and in the</font>

197
00:08:41,940 --> 00:08:46,040
remainder<font color="#E5E5E5"> of this</font><font color="#CCCCCC"> talk I will tell you</font>

198
00:08:43,559 --> 00:08:49,709
more<font color="#CCCCCC"> about those</font><font color="#E5E5E5"> issues that we found</font>

199
00:08:46,040 --> 00:08:52,620
<font color="#E5E5E5">with</font><font color="#CCCCCC"> respect to firewalls so first we</font>

200
00:08:49,709 --> 00:08:55,140
<font color="#CCCCCC">will</font><font color="#E5E5E5"> need to I need to do a little deep</font>

201
00:08:52,620 --> 00:08:59,010
dive into the details<font color="#CCCCCC"> of TCP first</font><font color="#E5E5E5"> open</font>

202
00:08:55,140 --> 00:09:00,990
to see how it really works<font color="#E5E5E5"> so it starts</font>

203
00:08:59,010 --> 00:09:03,839
off<font color="#CCCCCC"> with a cookie exchange basically the</font>

204
00:09:00,990 --> 00:09:06,270
client<font color="#CCCCCC"> is standing inside the syn a TFO</font>

205
00:09:03,839 --> 00:09:08,790
cookie request to the server<font color="#E5E5E5"> this is</font>

206
00:09:06,270 --> 00:09:11,490
basically to negotiate support for TF

207
00:09:08,790 --> 00:09:13,770
the server upon<font color="#E5E5E5"> research reception of</font>

208
00:09:11,490 --> 00:09:16,320
this generates a<font color="#CCCCCC"> cookie</font><font color="#E5E5E5"> which is</font>

209
00:09:13,770 --> 00:09:18,960
basically the hash of the client<font color="#E5E5E5"> IP with</font>

210
00:09:16,320 --> 00:09:21,000
a local secret<font color="#E5E5E5"> by</font><font color="#CCCCCC"> doing</font><font color="#E5E5E5"> it that way</font><font color="#CCCCCC"> from</font>

211
00:09:18,960 --> 00:09:24,270
<font color="#E5E5E5">the server</font><font color="#CCCCCC"> side it is completely status</font>

212
00:09:21,000 --> 00:09:26,550
it can<font color="#E5E5E5"> always regenerate a cookie</font><font color="#CCCCCC"> why is</font>

213
00:09:24,270 --> 00:09:28,800
<font color="#CCCCCC">it using the client IP</font><font color="#E5E5E5"> inside the cookie</font>

214
00:09:26,550 --> 00:09:31,709
<font color="#CCCCCC">well it is to protect</font><font color="#E5E5E5"> against the denial</font>

215
00:09:28,800 --> 00:09:33,479
<font color="#E5E5E5">of service attacks the that way an</font>

216
00:09:31,710 --> 00:09:36,150
attacker who is spoofing IP addresses

217
00:09:33,480 --> 00:09:38,390
cannot<font color="#E5E5E5"> attack</font><font color="#CCCCCC"> D and the server</font><font color="#E5E5E5"> because</font>

218
00:09:36,150 --> 00:09:42,180
<font color="#CCCCCC">he doesn't</font><font color="#E5E5E5"> know the</font><font color="#CCCCCC"> cookie that</font><font color="#E5E5E5"> it would</font>

219
00:09:38,390 --> 00:09:43,620
correspond<font color="#CCCCCC"> to a specific client IP and</font>

220
00:09:42,180 --> 00:09:45,810
he sent the server then when he has

221
00:09:43,620 --> 00:09:48,210
<font color="#E5E5E5">generated his cookie he was send it back</font>

222
00:09:45,810 --> 00:09:52,920
<font color="#CCCCCC">to the client</font><font color="#E5E5E5"> as part of the TFO cookie</font>

223
00:09:48,210 --> 00:09:54,960
option inside<font color="#CCCCCC"> a - tcp option space now</font>

224
00:09:52,920 --> 00:09:57,240
<font color="#E5E5E5">the client has</font><font color="#CCCCCC"> learnt a cookie that has</font>

225
00:09:54,960 --> 00:09:59,730
<font color="#E5E5E5">been provided</font><font color="#CCCCCC"> by</font><font color="#E5E5E5"> the server</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> he can</font>

226
00:09:57,240 --> 00:10:03,000
use this now in order to<font color="#E5E5E5"> send the HTTP</font>

227
00:09:59,730 --> 00:10:04,830
<font color="#CCCCCC">request together</font><font color="#E5E5E5"> inside the same and as</font>

228
00:10:03,000 --> 00:10:07,080
you<font color="#E5E5E5"> can</font><font color="#CCCCCC"> see here on the graphic is the</font>

229
00:10:04,830 --> 00:10:09,360
client does this together with the<font color="#E5E5E5"> TFO</font>

230
00:10:07,080 --> 00:10:12,420
cookie the server as it receives this

231
00:10:09,360 --> 00:10:14,370
sin was data<font color="#E5E5E5"> he can verify the cookie so</font>

232
00:10:12,420 --> 00:10:16,469
it is<font color="#E5E5E5"> protected against the denial of</font>

233
00:10:14,370 --> 00:10:19,350
service attack and he can read<font color="#CCCCCC"> the data</font>

234
00:10:16,470 --> 00:10:21,300
<font color="#E5E5E5">and finally he can reply with</font><font color="#CCCCCC"> a cynic</font>

235
00:10:19,350 --> 00:10:24,950
<font color="#E5E5E5">acknowledging the reception of the data</font>

236
00:10:21,300 --> 00:10:27,540
<font color="#E5E5E5">and he can send the response immediately</font>

237
00:10:24,950 --> 00:10:30,870
<font color="#E5E5E5">so as you see</font><font color="#CCCCCC"> here in this graphic is</font>

238
00:10:27,540 --> 00:10:32,699
<font color="#CCCCCC">that there's no we are not losing time</font>

239
00:10:30,870 --> 00:10:34,020
<font color="#E5E5E5">anymore due to that the three we</font>

240
00:10:32,700 --> 00:10:36,540
handshake we are replying<font color="#CCCCCC"> there</font>

241
00:10:34,020 --> 00:10:38,250
immediately<font color="#CCCCCC"> was the</font><font color="#E5E5E5"> data and we are</font>

242
00:10:36,540 --> 00:10:41,430
gaining several<font color="#E5E5E5"> hundreds of milliseconds</font>

243
00:10:38,250 --> 00:10:43,590
<font color="#E5E5E5">in terms of latency on networks that</font>

244
00:10:41,430 --> 00:10:48,479
<font color="#E5E5E5">have a high high delay like cellular</font>

245
00:10:43,590 --> 00:10:51,360
networks now as I mentioned we had a lot

246
00:10:48,480 --> 00:10:53,700
of problems with<font color="#CCCCCC"> metal boxes and I will</font>

247
00:10:51,360 --> 00:10:56,160
give you<font color="#CCCCCC"> a little overview of</font><font color="#E5E5E5"> all those</font>

248
00:10:53,700 --> 00:10:58,620
<font color="#E5E5E5">issues that we found and why we think</font>

249
00:10:56,160 --> 00:11:02,850
<font color="#CCCCCC">they are there</font><font color="#E5E5E5"> and what could maybe be</font>

250
00:10:58,620 --> 00:11:05,130
done to<font color="#E5E5E5"> get a circumvent them as a</font>

251
00:11:02,850 --> 00:11:08,390
summary<font color="#E5E5E5"> we found metal boxes and</font>

252
00:11:05,130 --> 00:11:12,360
firewalls<font color="#CCCCCC"> that respond</font><font color="#E5E5E5"> very badly to</font>

253
00:11:08,390 --> 00:11:14,520
unknown<font color="#E5E5E5"> TCP options we had</font><font color="#CCCCCC"> mailboxes</font>

254
00:11:12,360 --> 00:11:16,980
that<font color="#CCCCCC"> we're</font><font color="#E5E5E5"> dropping TCP packets because</font>

255
00:11:14,520 --> 00:11:19,380
<font color="#E5E5E5">of those unknown TCP options we had</font>

256
00:11:16,980 --> 00:11:21,080
<font color="#CCCCCC">middle boxes who removed them out of the</font>

257
00:11:19,380 --> 00:11:24,680
option space

258
00:11:21,080 --> 00:11:26,540
we also found other<font color="#E5E5E5"> mailboxes that</font><font color="#CCCCCC"> were</font>

259
00:11:24,680 --> 00:11:29,449
even<font color="#E5E5E5"> more destructive that</font><font color="#CCCCCC"> were like</font>

260
00:11:26,540 --> 00:11:30,680
marking entire connections as invalid<font color="#E5E5E5"> so</font>

261
00:11:29,450 --> 00:11:33,620
the client was<font color="#E5E5E5"> basically being</font>

262
00:11:30,680 --> 00:11:35,780
<font color="#E5E5E5">completely blocked other intrusion</font>

263
00:11:33,620 --> 00:11:37,940
detection systems<font color="#E5E5E5"> went even one step</font>

264
00:11:35,780 --> 00:11:39,819
<font color="#CCCCCC">farther they were even blocking</font><font color="#E5E5E5"> the full</font>

265
00:11:37,940 --> 00:11:42,410
<font color="#E5E5E5">client so the client didn't have any</font>

266
00:11:39,820 --> 00:11:44,780
connectivity to the<font color="#CCCCCC"> Internet anymore</font><font color="#E5E5E5"> for</font>

267
00:11:42,410 --> 00:11:47,719
<font color="#CCCCCC">a certain time</font><font color="#E5E5E5"> period we found it from</font>

268
00:11:44,780 --> 00:11:50,270
it went<font color="#E5E5E5"> from 30 seconds to sometimes 90</font>

269
00:11:47,720 --> 00:11:51,890
seconds and so this<font color="#E5E5E5"> kind of behavior is</font>

270
00:11:50,270 --> 00:11:55,720
of course very<font color="#E5E5E5"> destructive and it's kind</font>

271
00:11:51,890 --> 00:11:58,069
of a<font color="#E5E5E5"> a showstopper</font><font color="#CCCCCC"> for TCP</font><font color="#E5E5E5"> faster open</font>

272
00:11:55,720 --> 00:12:00,860
so let's start with<font color="#E5E5E5"> the first</font><font color="#CCCCCC"> male</font>

273
00:11:58,070 --> 00:12:03,830
<font color="#CCCCCC">Marcus well</font><font color="#E5E5E5"> TCP fast open</font><font color="#CCCCCC"> is using a new</font>

274
00:12:00,860 --> 00:12:06,140
TCP option and we have found<font color="#E5E5E5"> mailboxes</font>

275
00:12:03,830 --> 00:12:08,060
who are moving unknown TCP options now

276
00:12:06,140 --> 00:12:10,790
how does TFO behave in such kind<font color="#E5E5E5"> of</font>

277
00:12:08,060 --> 00:12:12,979
behavior well<font color="#E5E5E5"> if the client is sending</font>

278
00:12:10,790 --> 00:12:15,140
<font color="#CCCCCC">its in was the TV phone cookie</font><font color="#E5E5E5"> request</font>

279
00:12:12,980 --> 00:12:17,330
the middle<font color="#E5E5E5"> box will move it the server</font>

280
00:12:15,140 --> 00:12:18,949
will receive a sin without<font color="#CCCCCC"> a TFO option</font>

281
00:12:17,330 --> 00:12:21,800
and he will assume that<font color="#E5E5E5"> this is</font><font color="#CCCCCC"> a</font>

282
00:12:18,950 --> 00:12:24,020
regular connection<font color="#E5E5E5"> and he will not he</font>

283
00:12:21,800 --> 00:12:26,930
<font color="#E5E5E5">will not generate a cookie inside the</font>

284
00:12:24,020 --> 00:12:29,270
Sinek<font color="#CCCCCC"> from a</font><font color="#E5E5E5"> performance point of view</font>

285
00:12:26,930 --> 00:12:32,270
this<font color="#E5E5E5"> is not that destructive</font><font color="#CCCCCC"> because</font>

286
00:12:29,270 --> 00:12:34,850
<font color="#E5E5E5">basically the</font><font color="#CCCCCC"> client will have</font><font color="#E5E5E5"> to fall</font>

287
00:12:32,270 --> 00:12:36,560
back<font color="#CCCCCC"> to regular TCP clients who are</font><font color="#E5E5E5"> and</font>

288
00:12:34,850 --> 00:12:38,810
such<font color="#E5E5E5"> kind of networks will</font><font color="#CCCCCC"> basically</font>

289
00:12:36,560 --> 00:12:41,089
never pay a latency cost compared<font color="#E5E5E5"> to</font>

290
00:12:38,810 --> 00:12:46,489
other well behaving networks<font color="#E5E5E5"> and so they</font>

291
00:12:41,090 --> 00:12:48,290
will have<font color="#CCCCCC"> a worse user experience</font><font color="#E5E5E5"> no the</font>

292
00:12:46,490 --> 00:12:50,060
<font color="#E5E5E5">question is maybe also why are those</font>

293
00:12:48,290 --> 00:12:52,699
middle boxes and firewalls removing

294
00:12:50,060 --> 00:12:55,579
those TCP options because using an

295
00:12:52,700 --> 00:12:59,150
unknown TCP option it's<font color="#E5E5E5"> not necessarily</font>

296
00:12:55,580 --> 00:13:01,370
an attack vector<font color="#E5E5E5"> it's maybe just</font><font color="#CCCCCC"> a new</font>

297
00:12:59,150 --> 00:13:04,010
extension<font color="#E5E5E5"> to TCP that is being deployed</font>

298
00:13:01,370 --> 00:13:07,940
<font color="#E5E5E5">and so in our view</font><font color="#CCCCCC"> middleboxes</font><font color="#E5E5E5"> should</font>

299
00:13:04,010 --> 00:13:09,560
not remove those<font color="#E5E5E5"> TCP options another</font>

300
00:13:07,940 --> 00:13:12,020
issue that we<font color="#E5E5E5"> found is basically</font>

301
00:13:09,560 --> 00:13:13,520
<font color="#E5E5E5">sometimes they not</font><font color="#CCCCCC"> only remove the TCP</font>

302
00:13:12,020 --> 00:13:17,270
options<font color="#CCCCCC"> they drop the same</font><font color="#E5E5E5"> segment</font>

303
00:13:13,520 --> 00:13:19,880
entirely now when this<font color="#CCCCCC"> happens the way</font>

304
00:13:17,270 --> 00:13:21,890
we are react in terms of TFO is we are

305
00:13:19,880 --> 00:13:24,230
retransmitting the<font color="#CCCCCC"> syn</font><font color="#E5E5E5"> after a</font>

306
00:13:21,890 --> 00:13:26,780
<font color="#CCCCCC">retransmission time out of one second</font>

307
00:13:24,230 --> 00:13:29,660
and then<font color="#E5E5E5"> we are not put using the TFO</font>

308
00:13:26,780 --> 00:13:31,819
option now if we have such<font color="#CCCCCC"> kind of</font>

309
00:13:29,660 --> 00:13:33,699
middle box in the network<font color="#CCCCCC"> this increases</font>

310
00:13:31,820 --> 00:13:35,799
the latency by one second<font color="#E5E5E5"> and</font>

311
00:13:33,699 --> 00:13:37,809
has a very huge impact<font color="#E5E5E5"> in terms of user</font>

312
00:13:35,799 --> 00:13:40,959
<font color="#CCCCCC">experience</font><font color="#E5E5E5"> because every connection will</font>

313
00:13:37,809 --> 00:13:42,669
take one second<font color="#CCCCCC"> to be established so the</font>

314
00:13:40,959 --> 00:13:45,849
user<font color="#E5E5E5"> experience is significantly</font>

315
00:13:42,669 --> 00:13:48,059
degraded<font color="#E5E5E5"> now the question is again why</font>

316
00:13:45,850 --> 00:13:50,679
<font color="#CCCCCC">would the middle box</font><font color="#E5E5E5"> drop those kind of</font>

317
00:13:48,059 --> 00:13:52,679
segments<font color="#E5E5E5"> that</font><font color="#CCCCCC"> have an unknown TCP option</font>

318
00:13:50,679 --> 00:13:54,999
because dropping is like the<font color="#E5E5E5"> most</font>

319
00:13:52,679 --> 00:13:57,639
destructive operation that could<font color="#E5E5E5"> be done</font>

320
00:13:54,999 --> 00:14:03,519
<font color="#CCCCCC">and it has a very big</font><font color="#E5E5E5"> impact in terms of</font>

321
00:13:57,639 --> 00:14:04,959
page load time also<font color="#E5E5E5"> similar behavior for</font>

322
00:14:03,519 --> 00:14:07,089
the st. segments that<font color="#E5E5E5"> are</font><font color="#CCCCCC"> containing</font>

323
00:14:04,959 --> 00:14:09,819
data<font color="#E5E5E5"> we saw</font><font color="#CCCCCC"> middleboxes</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> dropped</font>

324
00:14:07,089 --> 00:14:11,949
those segments as well<font color="#CCCCCC"> and we</font><font color="#E5E5E5"> have again</font>

325
00:14:09,819 --> 00:14:14,049
the<font color="#CCCCCC"> same behavior</font><font color="#E5E5E5"> in terms</font><font color="#CCCCCC"> of user</font>

326
00:14:11,949 --> 00:14:17,889
experience<font color="#E5E5E5"> where we are retransmitting</font>

327
00:14:14,049 --> 00:14:20,799
the<font color="#E5E5E5"> same option without data the</font><font color="#CCCCCC"> user is</font>

328
00:14:17,889 --> 00:14:27,160
paying a significant and<font color="#CCCCCC"> Angela very</font><font color="#E5E5E5"> big</font>

329
00:14:20,799 --> 00:14:29,379
latency cost<font color="#CCCCCC"> some more tricky middle</font>

330
00:14:27,160 --> 00:14:31,719
boxes<font color="#E5E5E5"> that we found were basically when</font>

331
00:14:29,379 --> 00:14:33,730
a server receives the<font color="#E5E5E5"> syn was together</font>

332
00:14:31,720 --> 00:14:35,649
<font color="#E5E5E5">with the data he acknowledged</font><font color="#CCCCCC"> the data</font>

333
00:14:33,730 --> 00:14:38,980
as well<font color="#CCCCCC"> and so the acknowledgement</font>

334
00:14:35,649 --> 00:14:40,720
<font color="#CCCCCC">number is higher than for regular TCP so</font>

335
00:14:38,980 --> 00:14:44,109
let me show<font color="#E5E5E5"> you a little bit in this</font>

336
00:14:40,720 --> 00:14:46,269
more in detail the synth<font color="#E5E5E5"> segment for</font>

337
00:14:44,109 --> 00:14:48,720
example has sequence number<font color="#CCCCCC"> zero</font><font color="#E5E5E5"> and it</font>

338
00:14:46,269 --> 00:14:51,249
has a data level<font color="#CCCCCC"> length</font><font color="#E5E5E5"> of</font><font color="#CCCCCC"> 10 bytes</font>

339
00:14:48,720 --> 00:14:52,449
now when the server receives<font color="#CCCCCC"> this he</font>

340
00:14:51,249 --> 00:14:54,759
will<font color="#E5E5E5"> acknowledge this and the</font>

341
00:14:52,449 --> 00:14:57,459
acknowledgement<font color="#E5E5E5"> number will be 11 now</font>

342
00:14:54,759 --> 00:14:59,410
many mailboxes<font color="#E5E5E5"> might say oh I expected</font>

343
00:14:57,459 --> 00:15:02,258
<font color="#CCCCCC">acknowledgment</font><font color="#E5E5E5"> number</font><font color="#CCCCCC"> one</font><font color="#E5E5E5"> and so it will</font>

344
00:14:59,410 --> 00:15:03,639
<font color="#E5E5E5">drop those Synnex segments and the thing</font>

345
00:15:02,259 --> 00:15:05,829
is the server will keep on<font color="#CCCCCC"> red ones</font>

346
00:15:03,639 --> 00:15:08,799
<font color="#E5E5E5">meeting the</font><font color="#CCCCCC"> cynic segments he will think</font>

347
00:15:05,829 --> 00:15:11,108
no I have received up to<font color="#CCCCCC"> 11 by it</font><font color="#E5E5E5"> so I</font>

348
00:15:08,799 --> 00:15:12,369
will acknowledge<font color="#E5E5E5"> 11 bytes and the middle</font>

349
00:15:11,109 --> 00:15:12,819
box will keep on saying<font color="#CCCCCC"> no you should</font>

350
00:15:12,369 --> 00:15:15,669
not allow

351
00:15:12,819 --> 00:15:17,679
<font color="#CCCCCC">acknowledge 11 bytes and the mailbox</font>

352
00:15:15,669 --> 00:15:19,389
will still<font color="#E5E5E5"> keep on expecting only</font><font color="#CCCCCC"> 1 byte</font>

353
00:15:17,679 --> 00:15:21,009
<font color="#E5E5E5">and so what happens here is the</font>

354
00:15:19,389 --> 00:15:24,160
connection will never be established<font color="#E5E5E5"> and</font>

355
00:15:21,009 --> 00:15:28,389
basically the<font color="#E5E5E5"> client will not be</font><font color="#CCCCCC"> able to</font>

356
00:15:24,160 --> 00:15:30,069
<font color="#E5E5E5">browse</font><font color="#CCCCCC"> the Internet at</font><font color="#E5E5E5"> all unless we are</font>

357
00:15:28,389 --> 00:15:33,699
<font color="#E5E5E5">able</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> kind of detect those behaviors</font>

358
00:15:30,069 --> 00:15:35,399
and<font color="#E5E5E5"> turn off</font><font color="#CCCCCC"> TFO and so this is</font><font color="#E5E5E5"> very</font>

359
00:15:33,699 --> 00:15:38,108
disruptive in terms of user experience

360
00:15:35,399 --> 00:15:39,999
<font color="#E5E5E5">again because from the clients point of</font>

361
00:15:38,109 --> 00:15:44,439
view the<font color="#E5E5E5"> internet is down the network</font>

362
00:15:39,999 --> 00:15:47,070
<font color="#CCCCCC">doesn't work another issue that we also</font>

363
00:15:44,439 --> 00:15:49,349
<font color="#E5E5E5">found in one of the mailboxes</font>

364
00:15:47,070 --> 00:15:51,780
that some intrusion detection systems

365
00:15:49,350 --> 00:15:53,880
were completely black on the client<font color="#E5E5E5"> and</font>

366
00:15:51,780 --> 00:15:56,100
it was really interesting<font color="#CCCCCC"> to see</font><font color="#E5E5E5"> the</font>

367
00:15:53,880 --> 00:15:58,020
<font color="#CCCCCC">behavior that we observed there</font><font color="#E5E5E5"> so</font>

368
00:15:56,100 --> 00:16:00,900
basically the client<font color="#E5E5E5"> is sending us in</font>

369
00:15:58,020 --> 00:16:03,180
with data<font color="#E5E5E5"> and he adds the TFO</font><font color="#CCCCCC"> cookie</font>

370
00:16:00,900 --> 00:16:05,490
option<font color="#E5E5E5"> the server received the simplest</font>

371
00:16:03,180 --> 00:16:07,410
data<font color="#E5E5E5"> and he</font><font color="#CCCCCC"> response was a cynic</font>

372
00:16:05,490 --> 00:16:10,080
acknowledging the data and the middle

373
00:16:07,410 --> 00:16:12,510
box<font color="#E5E5E5"> that we that</font><font color="#CCCCCC"> we were</font><font color="#E5E5E5"> experimenting</font>

374
00:16:10,080 --> 00:16:13,770
with<font color="#E5E5E5"> it didn't drop</font><font color="#CCCCCC"> the cynic</font><font color="#E5E5E5"> and even</font>

375
00:16:12,510 --> 00:16:16,050
the server replied was the data

376
00:16:13,770 --> 00:16:18,120
<font color="#E5E5E5">immediately and the client received his</font>

377
00:16:16,050 --> 00:16:20,819
data<font color="#E5E5E5"> so everything looked fine from a</font>

378
00:16:18,120 --> 00:16:22,500
client point of view<font color="#E5E5E5"> only after that the</font>

379
00:16:20,820 --> 00:16:25,590
<font color="#CCCCCC">middle box started blocking the traffic</font>

380
00:16:22,500 --> 00:16:28,110
and it actually<font color="#E5E5E5"> blocked not only this</font>

381
00:16:25,590 --> 00:16:30,660
particular<font color="#CCCCCC"> connection</font><font color="#E5E5E5"> it blocked the</font>

382
00:16:28,110 --> 00:16:33,240
whole client for a certain for a certain

383
00:16:30,660 --> 00:16:35,449
time we<font color="#CCCCCC"> saw</font><font color="#E5E5E5"> from 30 seconds up to 90</font>

384
00:16:33,240 --> 00:16:37,980
<font color="#E5E5E5">seconds and sometimes a bit longer</font><font color="#CCCCCC"> so</font>

385
00:16:35,450 --> 00:16:40,350
<font color="#CCCCCC">this kind of behavior</font><font color="#E5E5E5"> again is very</font>

386
00:16:37,980 --> 00:16:46,740
disruptive<font color="#CCCCCC"> it's basically a showstopper</font>

387
00:16:40,350 --> 00:16:48,990
<font color="#E5E5E5">for TFO and those networks were</font>

388
00:16:46,740 --> 00:16:51,390
basically one<font color="#CCCCCC"> of the major reasons while</font>

389
00:16:48,990 --> 00:16:55,140
why we in the end decided<font color="#CCCCCC"> that we'll</font>

390
00:16:51,390 --> 00:16:58,080
have to turn off<font color="#CCCCCC"> the FO so the question</font>

391
00:16:55,140 --> 00:17:01,290
is how common is this well it actually

392
00:16:58,080 --> 00:17:07,319
mostly TFO works it works rather in 80%

393
00:17:01,290 --> 00:17:09,420
of the cases<font color="#E5E5E5"> however if I as a user in</font>

394
00:17:07,319 --> 00:17:12,089
my home and in an<font color="#E5E5E5"> in a network</font><font color="#CCCCCC"> that</font>

395
00:17:09,420 --> 00:17:15,089
doesn't<font color="#E5E5E5"> support TFO 100% of my</font>

396
00:17:12,089 --> 00:17:16,740
connections will not work<font color="#E5E5E5"> yeah or</font><font color="#CCCCCC"> one or</font>

397
00:17:15,089 --> 00:17:18,329
<font color="#E5E5E5">two percent of the</font><font color="#CCCCCC"> users of a particular</font>

398
00:17:16,740 --> 00:17:20,010
network provider of a<font color="#E5E5E5"> particular</font>

399
00:17:18,329 --> 00:17:21,930
<font color="#CCCCCC">cellular network</font><font color="#E5E5E5"> and if there's this</font>

400
00:17:20,010 --> 00:17:25,079
middle<font color="#E5E5E5"> box there</font><font color="#CCCCCC"> Corsair internet</font>

401
00:17:21,930 --> 00:17:26,550
connectivity will be less good and less

402
00:17:25,079 --> 00:17:30,690
performant than in the other<font color="#CCCCCC"> well</font>

403
00:17:26,550 --> 00:17:34,200
behaving networks so to conclude is

404
00:17:30,690 --> 00:17:37,440
basically latency has<font color="#E5E5E5"> a direct impact on</font>

405
00:17:34,200 --> 00:17:38,810
the<font color="#E5E5E5"> user experience</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> TCP fast</font><font color="#CCCCCC"> open is</font>

406
00:17:37,440 --> 00:17:42,240
a solution<font color="#CCCCCC"> that would allow to</font>

407
00:17:38,810 --> 00:17:44,280
significantly reduce latency<font color="#E5E5E5"> those</font>

408
00:17:42,240 --> 00:17:46,200
<font color="#CCCCCC">mailboxes</font><font color="#E5E5E5"> however are kind of</font>

409
00:17:44,280 --> 00:17:49,170
interfering significantly with the

410
00:17:46,200 --> 00:17:51,200
deployment<font color="#E5E5E5"> of TFO and we would like</font><font color="#CCCCCC"> to</font>

411
00:17:49,170 --> 00:17:53,910
make a<font color="#E5E5E5"> call to</font><font color="#CCCCCC"> the vendors of</font>

412
00:17:51,200 --> 00:17:56,070
<font color="#CCCCCC">middleboxes firewalls and</font><font color="#E5E5E5"> although these</font>

413
00:17:53,910 --> 00:17:58,650
equipments and also to the operators

414
00:17:56,070 --> 00:18:00,480
<font color="#E5E5E5">that we should take tcp fast open into</font>

415
00:17:58,650 --> 00:18:01,890
account it

416
00:18:00,480 --> 00:18:03,870
<font color="#CCCCCC">spearmint with it and make sure</font><font color="#E5E5E5"> that it</font>

417
00:18:01,890 --> 00:18:06,600
works in the<font color="#E5E5E5"> networks</font><font color="#CCCCCC"> because it will</font>

418
00:18:03,870 --> 00:18:09,510
<font color="#E5E5E5">allow for</font><font color="#CCCCCC"> future extensions of TCP and</font>

419
00:18:06,600 --> 00:18:14,219
it will<font color="#CCCCCC"> also allow well to improve the</font>

420
00:18:09,510 --> 00:18:16,490
user experience<font color="#E5E5E5"> so if you are if you are</font>

421
00:18:14,220 --> 00:18:18,450
<font color="#E5E5E5">one of</font><font color="#CCCCCC"> the network operators or</font><font color="#E5E5E5"> if then</font>

422
00:18:16,490 --> 00:18:20,669
equipment vendors you can<font color="#E5E5E5"> come talk to</font>

423
00:18:18,450 --> 00:18:23,520
me after the<font color="#CCCCCC"> talk to discuss on how we</font>

424
00:18:20,669 --> 00:18:26,669
can how we can verify and<font color="#E5E5E5"> validate the</font>

425
00:18:23,520 --> 00:18:28,830
TFO works currently<font color="#E5E5E5"> in your network</font><font color="#CCCCCC"> free</font>

426
00:18:26,669 --> 00:18:30,510
free to<font color="#E5E5E5"> come talk to me and with that I</font>

427
00:18:28,830 --> 00:18:32,040
would<font color="#E5E5E5"> like</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> thank you for</font><font color="#CCCCCC"> your</font>

428
00:18:30,510 --> 00:18:34,280
<font color="#E5E5E5">attention and I'm ready to take</font>

429
00:18:32,040 --> 00:18:34,280
<font color="#E5E5E5">questions</font>

430
00:18:38,330 --> 00:18:44,460
<font color="#CCCCCC">Tony Tambor</font><font color="#E5E5E5"> Comcast's so is there a</font>

431
00:18:41,190 --> 00:18:45,450
there isn't a quick way to test<font color="#E5E5E5"> to</font><font color="#CCCCCC"> see</font>

432
00:18:44,460 --> 00:18:48,090
whether it's working<font color="#CCCCCC"> in different</font>

433
00:18:45,450 --> 00:18:50,490
scenarios<font color="#CCCCCC"> there are some tools available</font>

434
00:18:48,090 --> 00:18:52,409
that allowed to explore whether for

435
00:18:50,490 --> 00:18:55,200
<font color="#CCCCCC">example their mailboxes that remove TFO</font>

436
00:18:52,410 --> 00:18:59,700
options like trace<font color="#E5E5E5"> box maybe</font><font color="#CCCCCC"> you've</font>

437
00:18:55,200 --> 00:19:02,549
<font color="#E5E5E5">heard of this tool and besides that it's</font>

438
00:18:59,700 --> 00:19:06,090
possible to Linux supports it and also

439
00:19:02,549 --> 00:19:08,280
<font color="#E5E5E5">in many in since quite</font><font color="#CCCCCC"> some time so it's</font>

440
00:19:06,090 --> 00:19:12,780
<font color="#CCCCCC">possible</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> create a connection</font><font color="#E5E5E5"> and see</font>

441
00:19:08,280 --> 00:19:14,940
if it really<font color="#CCCCCC"> works on our side we would</font>

442
00:19:12,780 --> 00:19:16,799
like<font color="#CCCCCC"> to work</font><font color="#E5E5E5"> on a tool that allows to</font>

443
00:19:14,940 --> 00:19:19,679
validate that<font color="#E5E5E5"> your</font><font color="#CCCCCC"> network works on this</font>

444
00:19:16,799 --> 00:19:22,889
but at the moment I cannot yet confirmed

445
00:19:19,679 --> 00:19:26,250
<font color="#E5E5E5">that it will be available</font><font color="#CCCCCC"> but we can</font>

446
00:19:22,890 --> 00:19:28,320
talk after later on and how we can make

447
00:19:26,250 --> 00:19:30,299
<font color="#CCCCCC">sure that</font><font color="#E5E5E5"> TFO works currently</font><font color="#CCCCCC"> in</font><font color="#E5E5E5"> Comcast</font>

448
00:19:28,320 --> 00:19:35,939
yeah well I mean not asking just for

449
00:19:30,299 --> 00:19:38,400
<font color="#E5E5E5">itself but</font><font color="#CCCCCC"> we're yeah</font><font color="#E5E5E5"> I mean if you know</font>

450
00:19:35,940 --> 00:19:40,440
if you had a website you know<font color="#E5E5E5"> well-known</font>

451
00:19:38,400 --> 00:19:41,970
<font color="#CCCCCC">website that you could just</font><font color="#E5E5E5"> say hit this</font>

452
00:19:40,440 --> 00:19:43,380
and<font color="#CCCCCC"> it'll confirm you know like the</font>

453
00:19:41,970 --> 00:19:46,500
dancing turtle thing like you know

454
00:19:43,380 --> 00:19:49,980
<font color="#CCCCCC">you've</font><font color="#E5E5E5"> reached this via yes so basically</font>

455
00:19:46,500 --> 00:19:53,400
I think if you go to google.com

456
00:19:49,980 --> 00:19:55,260
it has TFO enabled<font color="#CCCCCC"> but yeah that's</font><font color="#E5E5E5"> one</font>

457
00:19:53,400 --> 00:19:59,460
<font color="#E5E5E5">of the</font><font color="#CCCCCC"> websites you can contact if</font><font color="#E5E5E5"> you</font>

458
00:19:55,260 --> 00:20:02,070
<font color="#E5E5E5">have</font><font color="#CCCCCC"> using TFO</font><font color="#E5E5E5"> on the</font><font color="#CCCCCC"> client-side so</font>

459
00:19:59,460 --> 00:20:03,419
you're saying that<font color="#E5E5E5"> if you if TFO is</font>

460
00:20:02,070 --> 00:20:04,428
blocked you won't be<font color="#E5E5E5"> able to get to</font>

461
00:20:03,419 --> 00:20:07,470
Google

462
00:20:04,429 --> 00:20:09,630
it all depends on<font color="#CCCCCC"> so</font><font color="#E5E5E5"> it all depends on</font>

463
00:20:07,470 --> 00:20:11,750
how it<font color="#E5E5E5"> is blocked so there are if you</font>

464
00:20:09,630 --> 00:20:13,880
<font color="#E5E5E5">have one</font><font color="#CCCCCC"> or if</font><font color="#E5E5E5"> there's one of the</font>

465
00:20:11,750 --> 00:20:16,630
middleboxes black<font color="#E5E5E5"> only client</font><font color="#CCCCCC"> or client</font>

466
00:20:13,880 --> 00:20:19,490
<font color="#E5E5E5">one won't be able to access this website</font>

467
00:20:16,630 --> 00:20:23,809
<font color="#CCCCCC">if it is middle box that removes the</font><font color="#E5E5E5"> TfL</font>

468
00:20:19,490 --> 00:20:25,370
option what your what<font color="#E5E5E5"> iOS and our stand</font>

469
00:20:23,809 --> 00:20:27,049
is doing is basically in<font color="#E5E5E5"> the</font>

470
00:20:25,370 --> 00:20:28,789
retransmission<font color="#E5E5E5"> of the same segment it</font>

471
00:20:27,049 --> 00:20:32,360
won't use the TfL option so it will fall

472
00:20:28,789 --> 00:20:34,100
back<font color="#CCCCCC"> to regular TCP</font><font color="#E5E5E5"> and so what is</font>

473
00:20:32,360 --> 00:20:36,289
<font color="#E5E5E5">currently needed is one needs to</font>

474
00:20:34,100 --> 00:20:39,289
<font color="#E5E5E5">actually really look at packet</font><font color="#CCCCCC"> races to</font>

475
00:20:36,289 --> 00:20:41,330
understand whether TFO is working<font color="#CCCCCC"> Trace</font>

476
00:20:39,289 --> 00:20:44,539
box<font color="#E5E5E5"> is a tool</font><font color="#CCCCCC"> that actually</font><font color="#E5E5E5"> allows to</font>

477
00:20:41,330 --> 00:20:46,100
see which TFO option which option<font color="#E5E5E5"> is</font>

478
00:20:44,539 --> 00:20:48,470
being removed in the network<font color="#E5E5E5"> and which</font>

479
00:20:46,100 --> 00:20:51,709
box is<font color="#CCCCCC"> actually doing it</font><font color="#E5E5E5"> so really</font>

480
00:20:48,470 --> 00:20:56,690
<font color="#CCCCCC">recommend</font><font color="#E5E5E5"> to to use trace box for those</font>

481
00:20:51,710 --> 00:20:58,909
kind of measurements<font color="#E5E5E5"> thanks Matt PTAC</font>

482
00:20:56,690 --> 00:21:01,190
Yahoo so you're<font color="#E5E5E5"> talking about TCP</font>

483
00:20:58,909 --> 00:21:04,760
options a lot here<font color="#E5E5E5"> did you do any</font>

484
00:21:01,190 --> 00:21:07,850
comparison of v4<font color="#E5E5E5"> versus v6 behaviors</font>

485
00:21:04,760 --> 00:21:11,030
with middle boxes<font color="#E5E5E5"> first question second</font>

486
00:21:07,850 --> 00:21:14,000
<font color="#CCCCCC">question do you have known vendors that</font>

487
00:21:11,030 --> 00:21:15,230
are problematic that you could let us<font color="#E5E5E5"> be</font>

488
00:21:14,000 --> 00:21:17,510
<font color="#CCCCCC">aware of</font><font color="#E5E5E5"> we</font><font color="#CCCCCC"> should look</font><font color="#E5E5E5"> for in our</font>

489
00:21:15,230 --> 00:21:19,340
networks or as they say<font color="#E5E5E5"> we prefer not to</font>

490
00:21:17,510 --> 00:21:20,539
name but here's a tool that<font color="#E5E5E5"> you might be</font>

491
00:21:19,340 --> 00:21:23,840
able<font color="#CCCCCC"> to</font><font color="#E5E5E5"> use it will tell you if your</font>

492
00:21:20,539 --> 00:21:26,120
middle boxes are not happy boxes so with

493
00:21:23,840 --> 00:21:30,230
respect to v4 v6<font color="#E5E5E5"> unfortunately we don't</font>

494
00:21:26,120 --> 00:21:32,629
<font color="#CCCCCC">have any data on</font><font color="#E5E5E5"> this so if there's a</font>

495
00:21:30,230 --> 00:21:34,490
difference between v4 and v6<font color="#E5E5E5"> so we don't</font>

496
00:21:32,630 --> 00:21:37,760
we don't<font color="#E5E5E5"> know we haven't gathered this</font>

497
00:21:34,490 --> 00:21:41,690
kind of data<font color="#E5E5E5"> with respect to naming</font>

498
00:21:37,760 --> 00:21:44,330
vendors we I don't<font color="#CCCCCC"> want to point fingers</font>

499
00:21:41,690 --> 00:21:46,309
<font color="#E5E5E5">and name the vendors</font><font color="#CCCCCC"> we have worked</font><font color="#E5E5E5"> with</font>

500
00:21:44,330 --> 00:21:48,649
some<font color="#CCCCCC"> of them who acknowledge yes oops</font>

501
00:21:46,309 --> 00:21:50,990
this was a buck literally and they fixed

502
00:21:48,650 --> 00:21:52,580
<font color="#E5E5E5">it in later version however we don't</font>

503
00:21:50,990 --> 00:21:55,760
know where this old version still

504
00:21:52,580 --> 00:21:57,980
<font color="#E5E5E5">deployed so it's</font><font color="#CCCCCC"> difficult to</font><font color="#E5E5E5"> say then</font>

505
00:21:55,760 --> 00:22:00,379
we also worked with some network

506
00:21:57,980 --> 00:22:03,200
operators where we really found<font color="#E5E5E5"> those</font>

507
00:22:00,380 --> 00:22:05,720
issues some were cooperative<font color="#E5E5E5"> and</font><font color="#CCCCCC"> tried</font>

508
00:22:03,200 --> 00:22:08,360
<font color="#CCCCCC">to fix</font><font color="#E5E5E5"> the issues some were less</font>

509
00:22:05,720 --> 00:22:13,039
cooperative and we're like this<font color="#E5E5E5"> is the</font>

510
00:22:08,360 --> 00:22:15,799
way the network<font color="#E5E5E5"> works so yeah with</font>

511
00:22:13,039 --> 00:22:19,730
<font color="#E5E5E5">respect to the tooling</font><font color="#CCCCCC"> at the moment</font>

512
00:22:15,799 --> 00:22:21,620
there's no tool yet available<font color="#CCCCCC"> as I said</font>

513
00:22:19,730 --> 00:22:24,440
yeah get in touch with<font color="#E5E5E5"> me after</font><font color="#CCCCCC"> the talk</font>

514
00:22:21,620 --> 00:22:27,209
and I can<font color="#CCCCCC"> help</font><font color="#E5E5E5"> you out</font><font color="#CCCCCC"> on how to</font>

515
00:22:24,440 --> 00:22:29,549
how to validate<font color="#CCCCCC"> for</font><font color="#E5E5E5"> TFO can you clarify</font>

516
00:22:27,210 --> 00:22:30,809
did<font color="#E5E5E5"> you mean you didn't test with v6 or</font>

517
00:22:29,549 --> 00:22:32,789
you just<font color="#E5E5E5"> don't have a comparison</font><font color="#CCCCCC"> we</font>

518
00:22:30,809 --> 00:22:35,970
don't have the<font color="#E5E5E5"> data we did that we did</font>

519
00:22:32,789 --> 00:22:38,730
<font color="#E5E5E5">it use it on v4 and v6 in the data</font>

520
00:22:35,970 --> 00:22:48,059
<font color="#E5E5E5">collection process we didn't settle</font>

521
00:22:38,730 --> 00:22:49,619
right<font color="#CCCCCC"> between both yeah</font><font color="#E5E5E5"> Philip Matthews</font>

522
00:22:48,059 --> 00:22:51,529
<font color="#CCCCCC">Nokia</font><font color="#E5E5E5"> I'm just wondering if you could</font>

523
00:22:49,619 --> 00:22:55,399
have to use this as a<font color="#E5E5E5"> chance to</font>

524
00:22:51,529 --> 00:22:59,970
encourage<font color="#E5E5E5"> people to do this by you use</font>

525
00:22:55,399 --> 00:23:02,189
use the fast<font color="#CCCCCC"> CCP fast</font><font color="#E5E5E5"> open option on no</font>

526
00:22:59,970 --> 00:23:04,379
addresses<font color="#E5E5E5"> that you know work well and</font>

527
00:23:02,190 --> 00:23:06,059
you don't<font color="#E5E5E5"> use it on those that don't and</font>

528
00:23:04,379 --> 00:23:08,969
therefore<font color="#E5E5E5"> people who are used on certain</font>

529
00:23:06,059 --> 00:23:11,190
providers get fast<font color="#CCCCCC"> and others get slow</font>

530
00:23:08,970 --> 00:23:13,830
and so it's<font color="#E5E5E5"> sort of a natural incentive</font>

531
00:23:11,190 --> 00:23:16,799
for people<font color="#E5E5E5"> to improve</font><font color="#CCCCCC"> their work</font><font color="#E5E5E5"> yes yes</font>

532
00:23:13,830 --> 00:23:20,189
yes<font color="#CCCCCC"> well like if if</font><font color="#E5E5E5"> we would have such</font>

533
00:23:16,799 --> 00:23:22,139
kind<font color="#E5E5E5"> of a list of which operators or</font>

534
00:23:20,190 --> 00:23:23,789
networks are well behaving we could

535
00:23:22,139 --> 00:23:28,168
<font color="#CCCCCC">blacklist and why this</font><font color="#E5E5E5"> on the server</font>

536
00:23:23,789 --> 00:23:37,320
side absolutely<font color="#E5E5E5"> so if anyone wants to</font>

537
00:23:28,169 --> 00:23:39,679
come<font color="#CCCCCC"> on the whitelist</font><font color="#E5E5E5"> okay thank you</font>

538
00:23:37,320 --> 00:23:39,678
<font color="#CCCCCC">very much</font>

