1
00:00:05,410 --> 00:00:10,940
hi everyone<font color="#CCCCCC"> I'm Toby I'm a</font><font color="#E5E5E5"> software</font>

2
00:00:08,510 --> 00:00:12,620
<font color="#CCCCCC">engineer at Google and I would like</font><font color="#E5E5E5"> to</font>

3
00:00:10,940 --> 00:00:14,239
talk<font color="#CCCCCC"> to you a little bit about our</font>

4
00:00:12,620 --> 00:00:16,280
measurement work regarding traffic

5
00:00:14,240 --> 00:00:18,289
<font color="#E5E5E5">policing and</font><font color="#CCCCCC"> the web and</font><font color="#E5E5E5"> this is joint</font>

6
00:00:16,280 --> 00:00:22,250
<font color="#CCCCCC">work with</font><font color="#E5E5E5"> other folks at Google and also</font>

7
00:00:18,289 --> 00:00:23,660
<font color="#E5E5E5">at USC so just to kick things off let me</font>

8
00:00:22,250 --> 00:00:26,030
<font color="#E5E5E5">put everything into a little bit of</font>

9
00:00:23,660 --> 00:00:27,290
context<font color="#E5E5E5"> when</font><font color="#CCCCCC"> we talk about internet</font>

10
00:00:26,030 --> 00:00:29,360
measurements we usually have three

11
00:00:27,290 --> 00:00:31,070
<font color="#CCCCCC">involved parties</font><font color="#E5E5E5"> we have content</font>

12
00:00:29,360 --> 00:00:33,590
providers that provide your<font color="#E5E5E5"> services</font>

13
00:00:31,070 --> 00:00:35,690
like shopping search or video streaming

14
00:00:33,590 --> 00:00:37,789
<font color="#E5E5E5">on the</font><font color="#CCCCCC"> other hand we have the users that</font>

15
00:00:35,690 --> 00:00:39,589
consume these services and pay<font color="#CCCCCC"> for them</font>

16
00:00:37,789 --> 00:00:41,960
and in the middle gluing everything

17
00:00:39,589 --> 00:00:45,589
<font color="#CCCCCC">together</font><font color="#E5E5E5"> are the</font><font color="#CCCCCC"> Internet</font><font color="#E5E5E5"> service</font>

18
00:00:41,960 --> 00:00:47,359
providers<font color="#E5E5E5"> now in recent years this kind</font>

19
00:00:45,589 --> 00:00:50,089
<font color="#E5E5E5">of</font><font color="#CCCCCC"> environment has undergone some</font>

20
00:00:47,359 --> 00:00:52,190
drastic<font color="#CCCCCC"> changes</font><font color="#E5E5E5"> so for one thing what</font>

21
00:00:50,089 --> 00:00:54,829
happened is<font color="#E5E5E5"> that we've seen an</font>

22
00:00:52,190 --> 00:00:57,769
<font color="#E5E5E5">exponential growth</font><font color="#CCCCCC"> of video</font><font color="#E5E5E5"> traffic the</font>

23
00:00:54,829 --> 00:00:59,960
<font color="#E5E5E5">two video providers named here YouTube</font>

24
00:00:57,769 --> 00:01:04,190
and Netflix alone<font color="#E5E5E5"> account for roughly</font>

25
00:00:59,960 --> 00:01:05,750
<font color="#CCCCCC">50%</font><font color="#E5E5E5"> of the traffic in North America what</font>

26
00:01:04,190 --> 00:01:07,220
all of these content providers have in

27
00:01:05,750 --> 00:01:09,950
common though is<font color="#CCCCCC"> that</font><font color="#E5E5E5"> they want to</font>

28
00:01:07,220 --> 00:01:10,579
<font color="#CCCCCC">maximize the quality</font><font color="#E5E5E5"> of</font><font color="#CCCCCC"> experience for</font>

29
00:01:09,950 --> 00:01:12,469
<font color="#CCCCCC">their users</font>

30
00:01:10,579 --> 00:01:15,110
so what<font color="#E5E5E5"> this often means is we</font><font color="#CCCCCC"> need a</font>

31
00:01:12,469 --> 00:01:16,479
high<font color="#E5E5E5"> bitrate with low tolerance for</font>

32
00:01:15,110 --> 00:01:19,600
<font color="#E5E5E5">latency and packet loss</font>

33
00:01:16,479 --> 00:01:22,429
now orthogonal to that<font color="#E5E5E5"> the ISPs have</font>

34
00:01:19,600 --> 00:01:24,829
slightly different goals they<font color="#CCCCCC"> want to</font>

35
00:01:22,430 --> 00:01:27,649
accommodate<font color="#E5E5E5"> a multitude of services and</font>

36
00:01:24,829 --> 00:01:29,979
policies and they often<font color="#E5E5E5"> use this by</font>

37
00:01:27,649 --> 00:01:33,049
using some form of<font color="#CCCCCC"> traffic engineering</font>

38
00:01:29,979 --> 00:01:35,270
so one form<font color="#E5E5E5"> of traffic engineering could</font>

39
00:01:33,049 --> 00:01:37,939
I can have the goal<font color="#E5E5E5"> of just enforcing</font><font color="#CCCCCC"> a</font>

40
00:01:35,270 --> 00:01:40,640
weight limit or maximum throughput<font color="#E5E5E5"> and</font>

41
00:01:37,939 --> 00:01:42,949
there are two common<font color="#CCCCCC"> ways to</font><font color="#E5E5E5"> do this the</font>

42
00:01:40,640 --> 00:01:44,689
first<font color="#CCCCCC"> one is to just drop packets once</font>

43
00:01:42,950 --> 00:01:46,789
you reach a throughput limit<font color="#E5E5E5"> this is</font>

44
00:01:44,689 --> 00:01:49,729
known as<font color="#E5E5E5"> traffic</font><font color="#CCCCCC"> policing the</font>

45
00:01:46,789 --> 00:01:51,469
alternative option is to use<font color="#E5E5E5"> a queue and</font>

46
00:01:49,729 --> 00:01:53,719
<font color="#E5E5E5">in your queue packets and send them out</font>

47
00:01:51,469 --> 00:01:55,280
at<font color="#E5E5E5"> the maximum rate</font><font color="#CCCCCC"> that you want to</font>

48
00:01:53,719 --> 00:01:57,380
enforce and this is called<font color="#E5E5E5"> traffic</font>

49
00:01:55,280 --> 00:01:59,649
shaping<font color="#E5E5E5"> now I want</font><font color="#CCCCCC"> to make it</font><font color="#E5E5E5"> clear</font><font color="#CCCCCC"> that</font>

50
00:01:57,380 --> 00:02:02,810
<font color="#E5E5E5">in this talk I'm only focusing on</font>

51
00:01:59,649 --> 00:02:07,700
traffic policing and<font color="#E5E5E5"> traffic shaping is</font>

52
00:02:02,810 --> 00:02:09,920
<font color="#CCCCCC">only tangentially involved here</font><font color="#E5E5E5"> all</font>

53
00:02:07,700 --> 00:02:11,660
<font color="#E5E5E5">right so the contribution</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> our work is</font>

54
00:02:09,919 --> 00:02:13,819
that<font color="#E5E5E5"> we want to</font><font color="#CCCCCC"> analyze the prevalence</font>

55
00:02:11,660 --> 00:02:16,280
and<font color="#E5E5E5"> impact of traffic policing around</font>

56
00:02:13,819 --> 00:02:17,679
the world<font color="#E5E5E5"> and also look a little bit of</font>

57
00:02:16,280 --> 00:02:19,659
what can we do about police

58
00:02:17,680 --> 00:02:22,810
and mitigate their potential and

59
00:02:19,659 --> 00:02:24,849
negative<font color="#CCCCCC"> side-effects</font><font color="#E5E5E5"> so this is roughly</font>

60
00:02:22,810 --> 00:02:26,290
<font color="#E5E5E5">how</font><font color="#CCCCCC"> the talk</font><font color="#E5E5E5"> is going to</font><font color="#CCCCCC"> be structured</font>

61
00:02:24,849 --> 00:02:28,540
<font color="#CCCCCC">I'm going to tell you a little</font><font color="#E5E5E5"> bit</font><font color="#CCCCCC"> about</font>

62
00:02:26,290 --> 00:02:31,450
how policing works then how we detect it

63
00:02:28,540 --> 00:02:34,000
in packet captures and then provide<font color="#CCCCCC"> some</font>

64
00:02:31,450 --> 00:02:36,969
measurement results and finally<font color="#E5E5E5"> talk</font>

65
00:02:34,000 --> 00:02:38,769
<font color="#CCCCCC">about how we can mitigate the</font><font color="#E5E5E5"> impact so</font>

66
00:02:36,969 --> 00:02:40,989
let's get started<font color="#CCCCCC"> I'm just</font><font color="#E5E5E5"> gonna give</font>

67
00:02:38,769 --> 00:02:42,819
<font color="#E5E5E5">you a very simple example how police are</font>

68
00:02:40,989 --> 00:02:45,069
works for those of you who<font color="#E5E5E5"> don't know</font>

69
00:02:42,819 --> 00:02:46,298
<font color="#E5E5E5">about</font><font color="#CCCCCC"> it so you have an input link an</font>

70
00:02:45,069 --> 00:02:48,819
output link in the middle<font color="#CCCCCC"> you have a</font>

71
00:02:46,299 --> 00:02:51,400
police and the<font color="#CCCCCC"> police it</font><font color="#E5E5E5"> has some state</font>

72
00:02:48,819 --> 00:02:53,290
in the form of token<font color="#E5E5E5"> bucket now what the</font>

73
00:02:51,400 --> 00:02:56,260
police is<font color="#CCCCCC"> doing is it's refreshing</font>

74
00:02:53,290 --> 00:02:58,659
tokens at the predefined policing rate

75
00:02:56,260 --> 00:03:00,340
you<font color="#CCCCCC"> want to enforce now when the packet</font>

76
00:02:58,659 --> 00:03:02,349
is coming in the police are simply

77
00:03:00,340 --> 00:03:04,389
checking<font color="#E5E5E5"> if there's a token available</font>

78
00:03:02,349 --> 00:03:07,179
and if<font color="#E5E5E5"> that's the</font><font color="#CCCCCC"> case it's consuming</font>

79
00:03:04,389 --> 00:03:09,370
your token<font color="#E5E5E5"> and sending the packet out if</font>

80
00:03:07,180 --> 00:03:12,519
there's no token available when a packet

81
00:03:09,370 --> 00:03:14,950
is coming in then<font color="#E5E5E5"> it just drops the</font>

82
00:03:12,519 --> 00:03:18,280
packet immediately<font color="#E5E5E5"> now let me show you</font>

83
00:03:14,950 --> 00:03:19,839
what this<font color="#E5E5E5"> can</font><font color="#CCCCCC"> do in practice so how to</font>

84
00:03:18,280 --> 00:03:21,609
talk I'm going<font color="#E5E5E5"> to show you a couple of</font>

85
00:03:19,840 --> 00:03:24,190
these<font color="#E5E5E5"> sequence and diagrams where you</font>

86
00:03:21,609 --> 00:03:27,280
have time<font color="#CCCCCC"> on the x-axis</font><font color="#E5E5E5"> sequence number</font>

87
00:03:24,190 --> 00:03:29,199
or progress on the y-axis<font color="#CCCCCC"> so the first</font>

88
00:03:27,280 --> 00:03:30,940
thing I'm showing<font color="#E5E5E5"> you here is the</font>

89
00:03:29,199 --> 00:03:33,699
throughput<font color="#E5E5E5"> that this police I wants to</font>

90
00:03:30,940 --> 00:03:37,599
allow over<font color="#CCCCCC"> time this yellow dashed line</font>

91
00:03:33,699 --> 00:03:39,669
<font color="#E5E5E5">now a lot of token buckets</font><font color="#CCCCCC"> police's also</font>

92
00:03:37,599 --> 00:03:41,858
do is<font color="#CCCCCC"> they allow some kind of person s</font>

93
00:03:39,669 --> 00:03:44,409
so if<font color="#E5E5E5"> your connection</font><font color="#CCCCCC"> isn't immediately</font>

94
00:03:41,859 --> 00:03:46,359
sending<font color="#CCCCCC"> traffic</font><font color="#E5E5E5"> you can</font><font color="#CCCCCC"> have an initial</font>

95
00:03:44,409 --> 00:03:49,298
burst<font color="#E5E5E5"> from these safe tokens so</font><font color="#CCCCCC"> there's</font>

96
00:03:46,359 --> 00:03:51,370
some policing limit is shifted upwards

97
00:03:49,299 --> 00:03:53,109
<font color="#E5E5E5">so</font><font color="#CCCCCC"> I'm</font><font color="#E5E5E5"> going to show you a connection</font>

98
00:03:51,370 --> 00:03:54,970
that we<font color="#CCCCCC"> actually observe</font><font color="#E5E5E5"> and practice</font>

99
00:03:53,109 --> 00:03:57,310
and<font color="#E5E5E5"> how it interacted with</font><font color="#CCCCCC"> the police</font>

100
00:03:54,970 --> 00:03:58,389
<font color="#E5E5E5">I'm gonna show in the</font><font color="#CCCCCC"> real data as the</font>

101
00:03:57,310 --> 00:04:01,720
blue circles and then the

102
00:03:58,389 --> 00:04:03,340
retransmissions or losses<font color="#CCCCCC"> as red ones</font><font color="#E5E5E5"> so</font>

103
00:04:01,720 --> 00:04:05,889
what you see in the beginning<font color="#E5E5E5"> is</font><font color="#CCCCCC"> that</font>

104
00:04:03,340 --> 00:04:08,019
this connection<font color="#CCCCCC"> is doing what TCP</font>

105
00:04:05,889 --> 00:04:10,090
classically does in the beginning is<font color="#E5E5E5"> its</font>

106
00:04:08,019 --> 00:04:12,370
<font color="#E5E5E5">overshooting you have slow start with</font>

107
00:04:10,090 --> 00:04:14,919
exponential growth of<font color="#CCCCCC"> heat transmission</font>

108
00:04:12,370 --> 00:04:16,478
<font color="#E5E5E5">rate and because</font><font color="#CCCCCC"> you had this initial</font>

109
00:04:14,919 --> 00:04:18,699
burst<font color="#E5E5E5"> where the police is essentially</font>

110
00:04:16,478 --> 00:04:21,219
letting data through at unlimited rate

111
00:04:18,699 --> 00:04:23,710
<font color="#CCCCCC">your overshooting in this case by about</font>

112
00:04:21,220 --> 00:04:25,750
<font color="#E5E5E5">one megabyte what's happening afterwards</font>

113
00:04:23,710 --> 00:04:27,729
is<font color="#CCCCCC"> that you have multiple rounds</font><font color="#E5E5E5"> of</font>

114
00:04:25,750 --> 00:04:29,500
retransmissions<font color="#CCCCCC"> where TCP is trying to</font>

115
00:04:27,729 --> 00:04:31,330
<font color="#E5E5E5">figure out what's going on and this</font><font color="#CCCCCC"> is</font>

116
00:04:29,500 --> 00:04:34,720
recovering from<font color="#E5E5E5"> this packet</font>

117
00:04:31,330 --> 00:04:36,490
now this particular trace is a<font color="#E5E5E5"> YouTube</font>

118
00:04:34,720 --> 00:04:38,890
tray so what is happening afterwards is

119
00:04:36,490 --> 00:04:40,510
you have this<font color="#E5E5E5"> kind of an idle period</font>

120
00:04:38,890 --> 00:04:43,450
where you're not<font color="#E5E5E5"> transmitting</font><font color="#CCCCCC"> a video</font>

121
00:04:40,510 --> 00:04:45,370
chunk anymore<font color="#CCCCCC"> and then after you start</font>

122
00:04:43,450 --> 00:04:49,450
transmitting<font color="#E5E5E5"> the next video chunk</font><font color="#CCCCCC"> UF</font>

123
00:04:45,370 --> 00:04:52,720
<font color="#E5E5E5">again slightly</font><font color="#CCCCCC"> slight number of buffer</font>

124
00:04:49,450 --> 00:04:55,390
time tokens so we can recover fairly

125
00:04:52,720 --> 00:04:57,670
<font color="#E5E5E5">quickly from the wasted throughput</font>

126
00:04:55,390 --> 00:05:00,010
earlier and in the end<font color="#CCCCCC"> you've roughly</font>

127
00:04:57,670 --> 00:05:03,700
<font color="#E5E5E5">match</font><font color="#CCCCCC"> the transmission rate to the</font>

128
00:05:00,010 --> 00:05:05,320
<font color="#E5E5E5">policing rate now policing can have</font>

129
00:05:03,700 --> 00:05:07,630
negative<font color="#CCCCCC"> side effects</font><font color="#E5E5E5"> for all three</font>

130
00:05:05,320 --> 00:05:09,310
<font color="#E5E5E5">parties that I mentioned initially it</font>

131
00:05:07,630 --> 00:05:11,590
can<font color="#E5E5E5"> be bad</font><font color="#CCCCCC"> for the content providers</font>

132
00:05:09,310 --> 00:05:13,570
because you're<font color="#E5E5E5"> producing an excess load</font>

133
00:05:11,590 --> 00:05:15,669
on the servers that<font color="#CCCCCC"> are forced</font><font color="#E5E5E5"> to</font>

134
00:05:13,570 --> 00:05:17,740
<font color="#E5E5E5">retransmit drop packets</font><font color="#CCCCCC"> just as a</font>

135
00:05:15,670 --> 00:05:20,380
spoiler<font color="#CCCCCC"> for results</font><font color="#E5E5E5"> I'm presenting later</font>

136
00:05:17,740 --> 00:05:21,910
<font color="#CCCCCC">the global</font><font color="#E5E5E5"> average you see</font><font color="#CCCCCC"> 20%</font>

137
00:05:20,380 --> 00:05:23,860
retransmissions when policing is

138
00:05:21,910 --> 00:05:26,590
involved<font color="#E5E5E5"> whereas this 2% when</font><font color="#CCCCCC"> low</font>

139
00:05:23,860 --> 00:05:28,660
policing is involved for the SPS it can

140
00:05:26,590 --> 00:05:31,119
also have<font color="#CCCCCC"> some negative</font><font color="#E5E5E5"> impact</font><font color="#CCCCCC"> because</font>

141
00:05:28,660 --> 00:05:33,610
<font color="#E5E5E5">it is transporting traffic across the</font>

142
00:05:31,120 --> 00:05:36,040
<font color="#CCCCCC">internet only for it to</font><font color="#E5E5E5"> be dropped by a</font>

143
00:05:33,610 --> 00:05:39,310
police are<font color="#CCCCCC"> very closely located to</font><font color="#E5E5E5"> the</font>

144
00:05:36,040 --> 00:05:41,650
<font color="#E5E5E5">user and finally for the users it can</font>

145
00:05:39,310 --> 00:05:43,840
have bad impact because<font color="#E5E5E5"> it's interacting</font>

146
00:05:41,650 --> 00:05:45,070
<font color="#E5E5E5">variably with TCP based connections</font><font color="#CCCCCC"> I'm</font>

147
00:05:43,840 --> 00:05:47,229
going to show you<font color="#E5E5E5"> that we actually</font>

148
00:05:45,070 --> 00:05:49,390
<font color="#E5E5E5">measure degraded video quality</font><font color="#CCCCCC"> of</font>

149
00:05:47,230 --> 00:05:53,290
experience<font color="#CCCCCC"> which then can lead to use a</font>

150
00:05:49,390 --> 00:05:55,030
dissatisfaction<font color="#CCCCCC"> alright</font><font color="#E5E5E5"> so let me tell</font>

151
00:05:53,290 --> 00:05:56,650
<font color="#E5E5E5">you how we</font><font color="#CCCCCC"> actually</font><font color="#E5E5E5"> analyze</font><font color="#CCCCCC"> the</font>

152
00:05:55,030 --> 00:05:58,929
prevalence and impact of policing at

153
00:05:56,650 --> 00:06:01,239
scale<font color="#CCCCCC"> we first develop a mechanism</font><font color="#E5E5E5"> to</font>

154
00:05:58,930 --> 00:06:04,150
<font color="#E5E5E5">detect</font><font color="#CCCCCC"> M policing from packet captures</font>

155
00:06:01,240 --> 00:06:06,700
from<font color="#E5E5E5"> the server side we then tied these</font>

156
00:06:04,150 --> 00:06:08,349
this<font color="#CCCCCC"> information back to application</font>

157
00:06:06,700 --> 00:06:10,870
metrics that are<font color="#CCCCCC"> already collected on</font>

158
00:06:08,350 --> 00:06:12,700
<font color="#E5E5E5">the client side</font><font color="#CCCCCC"> and a global scale</font><font color="#E5E5E5"> we</font>

159
00:06:10,870 --> 00:06:15,070
achieve<font color="#CCCCCC"> by collecting packet phase for</font>

160
00:06:12,700 --> 00:06:16,320
almost every<font color="#E5E5E5"> Google for intent across</font>

161
00:06:15,070 --> 00:06:19,090
the world

162
00:06:16,320 --> 00:06:21,250
so then analysis pipeline looks roughly

163
00:06:19,090 --> 00:06:23,770
like this<font color="#CCCCCC"> so we want</font><font color="#E5E5E5"> to serve an HTTP</font>

164
00:06:21,250 --> 00:06:25,540
response like a video<font color="#CCCCCC"> chunk to a client</font>

165
00:06:23,770 --> 00:06:27,789
the clients<font color="#E5E5E5"> already collecting</font>

166
00:06:25,540 --> 00:06:29,560
application metrics and what we do is we

167
00:06:27,790 --> 00:06:32,830
collect sample packet<font color="#E5E5E5"> rates on the</font>

168
00:06:29,560 --> 00:06:34,870
server side<font color="#CCCCCC"> do some post-processing</font><font color="#E5E5E5"> at</font>

169
00:06:32,830 --> 00:06:36,460
<font color="#CCCCCC">the back end where we detect Leasing and</font>

170
00:06:34,870 --> 00:06:39,460
then cross-reference this with the

171
00:06:36,460 --> 00:06:41,770
application metrics so let me quickly

172
00:06:39,460 --> 00:06:44,590
<font color="#E5E5E5">show</font><font color="#CCCCCC"> you</font><font color="#E5E5E5"> how we detect policing from</font>

173
00:06:41,770 --> 00:06:46,719
server side traces<font color="#CCCCCC"> own so</font><font color="#E5E5E5"> again we</font>

174
00:06:44,590 --> 00:06:50,289
police<font color="#CCCCCC"> at once to enforce</font><font color="#E5E5E5"> a policing</font>

175
00:06:46,720 --> 00:06:52,360
<font color="#CCCCCC">rate now the key info here is</font><font color="#E5E5E5"> that we</font>

176
00:06:50,290 --> 00:06:54,820
know that<font color="#E5E5E5"> whenever you stay below</font><font color="#CCCCCC"> that</font>

177
00:06:52,360 --> 00:06:56,920
red line<font color="#E5E5E5"> packets should pass through the</font>

178
00:06:54,820 --> 00:06:58,930
<font color="#E5E5E5">police</font><font color="#CCCCCC"> er</font><font color="#E5E5E5"> whenever you go above that</font>

179
00:06:56,920 --> 00:07:01,270
<font color="#E5E5E5">policing line the</font><font color="#CCCCCC"> packets</font><font color="#E5E5E5"> should be</font>

180
00:06:58,930 --> 00:07:03,100
dropped by the police and in fact the

181
00:07:01,270 --> 00:07:06,340
packets<font color="#E5E5E5"> will always be dropped when we</font>

182
00:07:03,100 --> 00:07:08,290
cross this diagonal policing red line so

183
00:07:06,340 --> 00:07:10,900
we will use<font color="#E5E5E5"> that</font><font color="#CCCCCC"> knowledge to detect</font>

184
00:07:08,290 --> 00:07:13,210
policing and packet captures so<font color="#CCCCCC"> easy</font>

185
00:07:10,900 --> 00:07:14,620
<font color="#E5E5E5">sample capture</font><font color="#CCCCCC"> - to simplify how</font>

186
00:07:13,210 --> 00:07:17,380
<font color="#CCCCCC">actually doing this so</font><font color="#E5E5E5"> you can see</font>

187
00:07:14,620 --> 00:07:20,260
you're making progress over<font color="#CCCCCC"> time with</font>

188
00:07:17,380 --> 00:07:21,820
occasional packet losses<font color="#E5E5E5"> so the first</font>

189
00:07:20,260 --> 00:07:24,159
thing we want to do is you want to<font color="#E5E5E5"> find</font>

190
00:07:21,820 --> 00:07:25,810
what's the policing<font color="#CCCCCC"> weight</font><font color="#E5E5E5"> and here</font>

191
00:07:24,160 --> 00:07:27,850
again from the knowledge I showed you in

192
00:07:25,810 --> 00:07:30,070
the<font color="#CCCCCC"> or in the previous slide we use the</font>

193
00:07:27,850 --> 00:07:33,010
measured throughput<font color="#E5E5E5"> between an early</font>

194
00:07:30,070 --> 00:07:35,080
loss as an estimate<font color="#E5E5E5"> simply because we</font>

195
00:07:33,010 --> 00:07:37,570
think<font color="#CCCCCC"> that the</font><font color="#E5E5E5"> losses are caused by a by</font>

196
00:07:35,080 --> 00:07:39,340
a police<font color="#CCCCCC"> or in the</font><font color="#E5E5E5"> next step we then</font>

197
00:07:37,570 --> 00:07:41,409
match the<font color="#CCCCCC"> performance to the expected</font>

198
00:07:39,340 --> 00:07:43,630
policing and behavior<font color="#CCCCCC"> so again</font>

199
00:07:41,410 --> 00:07:44,730
everything<font color="#E5E5E5"> above that diagonal policing</font>

200
00:07:43,630 --> 00:07:46,930
<font color="#CCCCCC">weight line should get dropped</font>

201
00:07:44,730 --> 00:07:49,120
<font color="#E5E5E5">everything below or almost everything</font>

202
00:07:46,930 --> 00:07:51,220
below should go through now I'm saying

203
00:07:49,120 --> 00:07:53,170
<font color="#CCCCCC">here almost because there can be other</font>

204
00:07:51,220 --> 00:07:55,120
<font color="#CCCCCC">causes for packet drops so we allow for</font>

205
00:07:53,170 --> 00:07:57,160
<font color="#CCCCCC">a</font><font color="#E5E5E5"> little bit of noise for losses that</font>

206
00:07:55,120 --> 00:08:01,420
happen when you stay below<font color="#E5E5E5"> the diagonal</font>

207
00:07:57,160 --> 00:08:04,150
line<font color="#E5E5E5"> okay so it's important for</font><font color="#CCCCCC"> us that</font>

208
00:08:01,420 --> 00:08:06,040
we<font color="#CCCCCC"> avoid falsely labeling</font><font color="#E5E5E5"> loss as</font>

209
00:08:04,150 --> 00:08:07,929
<font color="#CCCCCC">pellucid policing so I'm showing you</font><font color="#E5E5E5"> a</font>

210
00:08:06,040 --> 00:08:10,090
<font color="#E5E5E5">couple of example</font><font color="#CCCCCC"> that hopefully</font>

211
00:08:07,930 --> 00:08:12,340
convinced you that we can achieve<font color="#E5E5E5"> this</font>

212
00:08:10,090 --> 00:08:14,560
<font color="#E5E5E5">so in this particular</font><font color="#CCCCCC"> example</font><font color="#E5E5E5"> you see</font>

213
00:08:12,340 --> 00:08:16,960
that<font color="#CCCCCC"> throughput is ramping up over time</font>

214
00:08:14,560 --> 00:08:19,540
with occasional packet loss<font color="#CCCCCC"> so again</font><font color="#E5E5E5"> our</font>

215
00:08:16,960 --> 00:08:21,880
algorithm would draw this imaginary

216
00:08:19,540 --> 00:08:23,350
policing with line<font color="#E5E5E5"> and you can</font><font color="#CCCCCC"> see here</font>

217
00:08:21,880 --> 00:08:25,630
<font color="#CCCCCC">that the losses that</font><font color="#E5E5E5"> happened in this</font>

218
00:08:23,350 --> 00:08:27,940
case they<font color="#CCCCCC"> all happen when you stay below</font>

219
00:08:25,630 --> 00:08:30,550
<font color="#E5E5E5">the line</font><font color="#CCCCCC"> so this isn't consistent</font><font color="#E5E5E5"> with</font>

220
00:08:27,940 --> 00:08:31,450
<font color="#CCCCCC">what we would</font><font color="#E5E5E5"> expect from the</font><font color="#CCCCCC"> police' a</font>

221
00:08:30,550 --> 00:08:33,900
police'

222
00:08:31,450 --> 00:08:36,520
would not have dropped these packets<font color="#E5E5E5"> now</font>

223
00:08:33,900 --> 00:08:39,159
<font color="#CCCCCC">similarly</font><font color="#E5E5E5"> here's another example</font><font color="#CCCCCC"> which</font>

224
00:08:36,520 --> 00:08:41,079
looks a little<font color="#E5E5E5"> bit more involved again</font>

225
00:08:39,159 --> 00:08:43,179
we draw<font color="#E5E5E5"> the</font><font color="#CCCCCC"> policing</font><font color="#E5E5E5"> red line and in</font>

226
00:08:41,080 --> 00:08:45,400
this case you can see that<font color="#CCCCCC"> there's</font>

227
00:08:43,179 --> 00:08:48,010
<font color="#CCCCCC">actually a face where we go well beyond</font>

228
00:08:45,400 --> 00:08:49,959
the policing red line<font color="#E5E5E5"> so</font><font color="#CCCCCC"> policer would</font>

229
00:08:48,010 --> 00:08:51,520
have dropped traffic<font color="#CCCCCC"> Amir Lee when you</font>

230
00:08:49,960 --> 00:08:53,650
cross<font color="#E5E5E5"> that</font><font color="#CCCCCC"> line so again this is</font><font color="#E5E5E5"> not</font>

231
00:08:51,520 --> 00:08:56,949
consistent<font color="#E5E5E5"> with what</font><font color="#CCCCCC"> we expect from a</font>

232
00:08:53,650 --> 00:08:59,290
<font color="#CCCCCC">policing</font><font color="#E5E5E5"> now one common</font><font color="#CCCCCC"> Chris we heard</font>

233
00:08:56,950 --> 00:09:01,270
is well policing can actually look<font color="#E5E5E5"> very</font>

234
00:08:59,290 --> 00:09:03,069
<font color="#E5E5E5">similar to</font><font color="#CCCCCC"> congestion how do we</font>

235
00:09:01,270 --> 00:09:06,490
distinguish<font color="#CCCCCC"> between these</font><font color="#E5E5E5"> two</font>

236
00:09:03,070 --> 00:09:08,290
<font color="#E5E5E5">so the key knowledge we use here is that</font>

237
00:09:06,490 --> 00:09:10,720
packets are usually dropped when a

238
00:09:08,290 --> 00:09:12,939
<font color="#CCCCCC">routers buffer is already full and we</font>

239
00:09:10,720 --> 00:09:15,820
also know that when a buffer fills up we

240
00:09:12,940 --> 00:09:18,310
do experience queuing delay<font color="#E5E5E5"> so what we</font>

241
00:09:15,820 --> 00:09:20,710
do is we use inflated latency as an

242
00:09:18,310 --> 00:09:23,380
additional signal<font color="#E5E5E5"> that can indicate that</font>

243
00:09:20,710 --> 00:09:24,790
there's actually<font color="#CCCCCC"> no policing involved so</font>

244
00:09:23,380 --> 00:09:27,610
in this particular case<font color="#CCCCCC"> I'm showing you</font>

245
00:09:24,790 --> 00:09:30,189
here as a separate on a separate<font color="#CCCCCC"> access</font>

246
00:09:27,610 --> 00:09:32,260
how latency measurements could look like

247
00:09:30,190 --> 00:09:34,210
<font color="#E5E5E5">so</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> if we see that the latency is</font>

248
00:09:32,260 --> 00:09:36,100
actually spiking at the same time where

249
00:09:34,210 --> 00:09:38,080
we see packet loss we use this as

250
00:09:36,100 --> 00:09:41,410
<font color="#CCCCCC">evidence that</font><font color="#E5E5E5"> it might not</font><font color="#CCCCCC"> be</font><font color="#E5E5E5"> policing</font>

251
00:09:38,080 --> 00:09:45,180
and rather<font color="#E5E5E5"> bullet out</font><font color="#CCCCCC"> all right so I'm</font>

252
00:09:41,410 --> 00:09:47,469
the paper is accompanying this and<font color="#E5E5E5"> talk</font>

253
00:09:45,180 --> 00:09:49,089
has a lot<font color="#E5E5E5"> of</font><font color="#CCCCCC"> information about</font><font color="#E5E5E5"> and</font>

254
00:09:47,470 --> 00:09:51,160
validation so I'm<font color="#E5E5E5"> not going to go into</font>

255
00:09:49,090 --> 00:09:53,860
detail about<font color="#E5E5E5"> this</font><font color="#CCCCCC"> but suffice it to say</font>

256
00:09:51,160 --> 00:09:56,110
we have<font color="#E5E5E5"> two kind of validation setups</font>

257
00:09:53,860 --> 00:09:57,700
the first one is a lab setting where we

258
00:09:56,110 --> 00:09:59,410
<font color="#CCCCCC">just</font><font color="#E5E5E5"> create</font><font color="#CCCCCC"> our own traffic</font><font color="#E5E5E5"> with</font>

259
00:09:57,700 --> 00:10:02,170
policing involves shaping involve

260
00:09:59,410 --> 00:10:04,000
congestion<font color="#E5E5E5"> and then with this ground</font>

261
00:10:02,170 --> 00:10:06,520
truth we try to figure<font color="#E5E5E5"> out how often is</font>

262
00:10:04,000 --> 00:10:08,290
<font color="#E5E5E5">our I</font><font color="#CCCCCC"> wasn't</font><font color="#E5E5E5"> actually correct and while</font>

263
00:10:06,520 --> 00:10:10,420
we don't detect policing in all the

264
00:10:08,290 --> 00:10:11,980
cases it was very important to<font color="#E5E5E5"> us that</font>

265
00:10:10,420 --> 00:10:14,079
<font color="#E5E5E5">we actually don't produce false</font>

266
00:10:11,980 --> 00:10:14,800
positives<font color="#E5E5E5"> sort of all results I'm going</font>

267
00:10:14,080 --> 00:10:16,630
to show you<font color="#E5E5E5"> later</font>

268
00:10:14,800 --> 00:10:18,609
<font color="#CCCCCC">lightly underestimate the amount of</font>

269
00:10:16,630 --> 00:10:22,330
policing that<font color="#CCCCCC"> is</font><font color="#E5E5E5"> I'm present in the web</font>

270
00:10:18,610 --> 00:10:25,660
<font color="#E5E5E5">a second and validation step was where</font>

271
00:10:22,330 --> 00:10:27,970
we was based on us looking and some into

272
00:10:25,660 --> 00:10:31,180
some deep<font color="#E5E5E5"> types so here I'm showing</font><font color="#CCCCCC"> you</font>

273
00:10:27,970 --> 00:10:33,190
<font color="#E5E5E5">four five</font><font color="#CCCCCC"> IPS how the policing weight</font>

274
00:10:31,180 --> 00:10:35,560
<font color="#E5E5E5">distribution looked like that we saw</font>

275
00:10:33,190 --> 00:10:38,380
what<font color="#E5E5E5"> you can see is that we for each of</font>

276
00:10:35,560 --> 00:10:40,780
these IPS we only observed<font color="#E5E5E5"> few policing</font>

277
00:10:38,380 --> 00:10:43,150
<font color="#E5E5E5">rates and in fact</font><font color="#CCCCCC"> for four out of five</font>

278
00:10:40,780 --> 00:10:45,490
<font color="#E5E5E5">DS</font><font color="#CCCCCC"> five IPS we could confirm that these</font>

279
00:10:43,150 --> 00:10:47,110
rates match the data plan<font color="#E5E5E5"> for the fifth</font>

280
00:10:45,490 --> 00:10:48,700
IPS we couldn't do that<font color="#CCCCCC"> because</font><font color="#E5E5E5"> it was</font>

281
00:10:47,110 --> 00:10:52,150
defunct at the time that we did<font color="#E5E5E5"> this</font>

282
00:10:48,700 --> 00:10:54,880
analysis we<font color="#CCCCCC"> also confirmed that for all</font>

283
00:10:52,150 --> 00:10:56,860
the other ISPs<font color="#CCCCCC"> that their policing rates</font>

284
00:10:54,880 --> 00:10:59,350
cluster around<font color="#E5E5E5"> a few values across the</font>

285
00:10:56,860 --> 00:11:02,020
whole<font color="#E5E5E5"> data set and finally we observed</font>

286
00:10:59,350 --> 00:11:04,900
<font color="#CCCCCC">no such consistency</font><font color="#E5E5E5"> across the flows</font>

287
00:11:02,020 --> 00:11:06,370
where we didn't detect policing<font color="#E5E5E5"> so this</font>

288
00:11:04,900 --> 00:11:09,790
<font color="#E5E5E5">gives us a little bit more confidence</font>

289
00:11:06,370 --> 00:11:10,990
<font color="#CCCCCC">that we're doing the</font><font color="#E5E5E5"> right thing</font><font color="#CCCCCC"> alright</font>

290
00:11:09,790 --> 00:11:12,250
so this

291
00:11:10,990 --> 00:11:13,930
<font color="#E5E5E5">part of the</font><font color="#CCCCCC"> truck I</font><font color="#E5E5E5"> want to talk a</font>

292
00:11:12,250 --> 00:11:15,640
<font color="#E5E5E5">little bit</font><font color="#CCCCCC"> about our measurements</font><font color="#E5E5E5"> result</font>

293
00:11:13,930 --> 00:11:19,449
<font color="#E5E5E5">and then finally talk</font><font color="#CCCCCC"> about what we can</font>

294
00:11:15,640 --> 00:11:22,240
<font color="#E5E5E5">do about</font><font color="#CCCCCC"> all this so</font><font color="#E5E5E5"> we didn't internet</font>

295
00:11:19,450 --> 00:11:25,120
<font color="#E5E5E5">wide</font><font color="#CCCCCC"> a measurement</font><font color="#E5E5E5"> campaign in late 2015</font>

296
00:11:22,240 --> 00:11:27,430
we<font color="#CCCCCC"> sampled data for seven</font><font color="#E5E5E5"> days from</font>

297
00:11:25,120 --> 00:11:31,209
almost all<font color="#E5E5E5"> Google font ends that gave us</font>

298
00:11:27,430 --> 00:11:33,189
about 270 billion TCP packets and to tie

299
00:11:31,209 --> 00:11:35,050
TCP performance back to application

300
00:11:33,190 --> 00:11:37,149
performance<font color="#E5E5E5"> we actually</font><font color="#CCCCCC"> analyzed</font>

301
00:11:35,050 --> 00:11:39,310
everything in<font color="#CCCCCC"> hgp request/response</font>

302
00:11:37,149 --> 00:11:42,010
granularity<font color="#E5E5E5"> so</font><font color="#CCCCCC"> you want to figure out</font>

303
00:11:39,310 --> 00:11:44,410
<font color="#CCCCCC">how bad did a video chunk for example</font>

304
00:11:42,010 --> 00:11:47,380
perform when policing was involved<font color="#E5E5E5"> for</font>

305
00:11:44,410 --> 00:11:49,870
that<font color="#E5E5E5"> particular chunk okay so let</font><font color="#CCCCCC"> me</font>

306
00:11:47,380 --> 00:11:52,439
<font color="#E5E5E5">start with a couple of results the first</font>

307
00:11:49,870 --> 00:11:54,610
thing is actually<font color="#E5E5E5"> quite a promising is</font>

308
00:11:52,440 --> 00:11:57,370
which is<font color="#E5E5E5"> talking about the prevalence</font>

309
00:11:54,610 --> 00:11:59,890
<font color="#E5E5E5">policing across the web so here I'm</font>

310
00:11:57,370 --> 00:12:02,110
<font color="#CCCCCC">showing you how many</font><font color="#E5E5E5"> of the segments</font>

311
00:11:59,890 --> 00:12:04,510
that<font color="#CCCCCC"> we captured actually had policing</font>

312
00:12:02,110 --> 00:12:04,930
<font color="#E5E5E5">and</font><font color="#CCCCCC"> the numbers are really</font><font color="#E5E5E5"> low this is</font>

313
00:12:04,510 --> 00:12:07,240
great

314
00:12:04,930 --> 00:12:08,739
but then we<font color="#E5E5E5"> actually want to look at</font>

315
00:12:07,240 --> 00:12:11,709
well<font color="#CCCCCC"> what about the connections that</font>

316
00:12:08,740 --> 00:12:13,930
actually<font color="#CCCCCC"> perform poorly and what we see</font>

317
00:12:11,709 --> 00:12:17,670
in these lossy connection is that up<font color="#E5E5E5"> to</font>

318
00:12:13,930 --> 00:12:21,160
<font color="#CCCCCC">7 percent</font><font color="#E5E5E5"> of them have policing involved</font>

319
00:12:17,670 --> 00:12:23,709
the<font color="#E5E5E5"> next thing we looked at was what</font>

320
00:12:21,160 --> 00:12:25,930
<font color="#E5E5E5">kind of differences did we see between</font>

321
00:12:23,709 --> 00:12:28,569
these police and<font color="#E5E5E5"> on police connections</font>

322
00:12:25,930 --> 00:12:32,410
the first metric<font color="#CCCCCC"> we looked at was packet</font>

323
00:12:28,570 --> 00:12:34,420
loss so here<font color="#E5E5E5"> I'm showing</font><font color="#CCCCCC"> you the average</font>

324
00:12:32,410 --> 00:12:36,550
packet loss for police and non police

325
00:12:34,420 --> 00:12:39,069
connections<font color="#E5E5E5"> across the world and what</font>

326
00:12:36,550 --> 00:12:40,750
<font color="#CCCCCC">you can see is that on the average we</font>

327
00:12:39,070 --> 00:12:44,020
see about<font color="#CCCCCC"> two percent loss when no</font>

328
00:12:40,750 --> 00:12:46,600
policing is involved and<font color="#E5E5E5"> our 20% loss or</font>

329
00:12:44,020 --> 00:12:48,850
more when policing is involved<font color="#E5E5E5"> now</font><font color="#CCCCCC"> 20</font>

330
00:12:46,600 --> 00:12:51,670
<font color="#CCCCCC">percent loss is a huge number because</font>

331
00:12:48,850 --> 00:12:53,620
TCP usually breaks down at<font color="#E5E5E5"> this kind of</font>

332
00:12:51,670 --> 00:12:56,979
packet loss<font color="#CCCCCC"> rates and has a tough time</font>

333
00:12:53,620 --> 00:12:59,980
recovering from it now we were

334
00:12:56,980 --> 00:13:01,990
interested<font color="#E5E5E5"> in where do these huge packet</font>

335
00:12:59,980 --> 00:13:04,089
loss numbers actually<font color="#E5E5E5"> come</font><font color="#CCCCCC"> from</font><font color="#E5E5E5"> and the</font>

336
00:13:01,990 --> 00:13:06,820
answer lies<font color="#CCCCCC"> in this</font><font color="#E5E5E5"> graph I</font><font color="#CCCCCC"> showed you</font>

337
00:13:04,089 --> 00:13:09,190
earlier<font color="#E5E5E5"> so we can simplify</font><font color="#CCCCCC"> this graph a</font>

338
00:13:06,820 --> 00:13:10,779
little<font color="#E5E5E5"> bit we can actually look at the</font>

339
00:13:09,190 --> 00:13:13,000
throughput curves in two<font color="#E5E5E5"> different</font>

340
00:13:10,779 --> 00:13:15,310
phases<font color="#E5E5E5"> of this connection the first one</font>

341
00:13:13,000 --> 00:13:17,649
is the<font color="#CCCCCC"> burst</font><font color="#E5E5E5"> to put happening before the</font>

342
00:13:15,310 --> 00:13:19,810
<font color="#E5E5E5">police actually kicks in and the second</font>

343
00:13:17,649 --> 00:13:22,060
one is the<font color="#E5E5E5"> police are enforcing the</font>

344
00:13:19,810 --> 00:13:23,770
policing rate now what you can<font color="#CCCCCC"> see is</font>

345
00:13:22,060 --> 00:13:24,489
<font color="#CCCCCC">that there is this inflection</font><font color="#E5E5E5"> point</font>

346
00:13:23,770 --> 00:13:26,829
where<font color="#E5E5E5"> we</font>

347
00:13:24,490 --> 00:13:28,990
<font color="#CCCCCC">they change a</font><font color="#E5E5E5"> very sudden change in</font>

348
00:13:26,830 --> 00:13:31,660
bandwidth<font color="#E5E5E5"> and TCP</font><font color="#CCCCCC"> really</font><font color="#E5E5E5"> doesn't like</font>

349
00:13:28,990 --> 00:13:34,870
some changes in bandwidth<font color="#E5E5E5"> now when we</font>

350
00:13:31,660 --> 00:13:37,569
looked<font color="#E5E5E5"> at the</font><font color="#CCCCCC"> burst stupid words</font><font color="#E5E5E5"> this</font>

351
00:13:34,870 --> 00:13:40,180
<font color="#CCCCCC">keep releasing rate that we see you can</font>

352
00:13:37,570 --> 00:13:42,640
see that on average we have policing

353
00:13:40,180 --> 00:13:44,140
rates<font color="#E5E5E5"> that are over</font><font color="#CCCCCC"> fifty percent</font><font color="#E5E5E5"> lower</font>

354
00:13:42,640 --> 00:13:46,839
than<font color="#E5E5E5"> the burst through</font><font color="#CCCCCC"> portrayal and</font>

355
00:13:44,140 --> 00:13:49,569
this is by the way<font color="#CCCCCC"> a large scale on the</font>

356
00:13:46,839 --> 00:13:51,550
x-axis<font color="#E5E5E5"> in the 90th percentile the</font>

357
00:13:49,570 --> 00:13:54,700
policing rate is<font color="#E5E5E5"> ten times</font><font color="#CCCCCC"> slower than</font>

358
00:13:51,550 --> 00:13:56,680
<font color="#E5E5E5">the burst you can initially produce when</font>

359
00:13:54,700 --> 00:13:58,870
going<font color="#CCCCCC"> through a policing and that's why</font>

360
00:13:56,680 --> 00:14:01,120
these loss rates are so large because

361
00:13:58,870 --> 00:14:04,240
<font color="#E5E5E5">TCP cannot recover from them quickly</font>

362
00:14:01,120 --> 00:14:06,760
enough<font color="#CCCCCC"> all</font><font color="#E5E5E5"> right so the most important</font>

363
00:14:04,240 --> 00:14:09,279
<font color="#E5E5E5">thing we looked at</font><font color="#CCCCCC"> was the quality of</font>

364
00:14:06,760 --> 00:14:10,120
them experience and here we look at two

365
00:14:09,279 --> 00:14:12,550
things

366
00:14:10,120 --> 00:14:14,380
the<font color="#E5E5E5"> first one is the</font><font color="#CCCCCC"> rebuffering</font><font color="#E5E5E5"> time so</font>

367
00:14:12,550 --> 00:14:17,079
this<font color="#CCCCCC"> is</font><font color="#E5E5E5"> the time that</font><font color="#CCCCCC"> a video is</font><font color="#E5E5E5"> paused</font>

368
00:14:14,380 --> 00:14:18,939
<font color="#CCCCCC">after a playback started due to</font>

369
00:14:17,080 --> 00:14:21,399
insufficient stream data being buffered

370
00:14:18,940 --> 00:14:22,990
<font color="#E5E5E5">and we contrast that to the watch time</font>

371
00:14:21,399 --> 00:14:25,180
so that's the<font color="#E5E5E5"> fraction of the video</font>

372
00:14:22,990 --> 00:14:28,270
watched by the user<font color="#E5E5E5"> now the</font><font color="#CCCCCC"> waves</font>

373
00:14:25,180 --> 00:14:30,459
between these two<font color="#E5E5E5"> short optimally be</font>

374
00:14:28,270 --> 00:14:32,290
<font color="#CCCCCC">zero</font><font color="#E5E5E5"> which</font><font color="#CCCCCC"> means</font><font color="#E5E5E5"> that as</font><font color="#CCCCCC"> soon</font><font color="#E5E5E5"> as you</font>

375
00:14:30,459 --> 00:14:34,119
start playing<font color="#E5E5E5"> a video you should never</font>

376
00:14:32,290 --> 00:14:37,209
<font color="#E5E5E5">be buffer and show that spinning wheel</font>

377
00:14:34,120 --> 00:14:40,209
of<font color="#E5E5E5"> death now what we see and practice is</font>

378
00:14:37,209 --> 00:14:42,310
that<font color="#E5E5E5"> policing can have an effect on</font>

379
00:14:40,209 --> 00:14:44,109
these on<font color="#CCCCCC"> on this</font><font color="#E5E5E5"> metric so here I'm</font>

380
00:14:42,310 --> 00:14:45,760
showing<font color="#CCCCCC"> you one graph where we looked at</font>

381
00:14:44,110 --> 00:14:47,740
<font color="#E5E5E5">the play works with similar throughput</font>

382
00:14:45,760 --> 00:14:50,050
<font color="#E5E5E5">and then just</font><font color="#CCCCCC"> them single out the police</font>

383
00:14:47,740 --> 00:14:52,420
<font color="#E5E5E5">play works what you can see is in the</font>

384
00:14:50,050 --> 00:14:53,890
<font color="#CCCCCC">tail the police segments</font><font color="#E5E5E5"> can have two up</font>

385
00:14:52,420 --> 00:14:59,110
to<font color="#CCCCCC"> two hundred percent</font><font color="#E5E5E5"> higher</font>

386
00:14:53,890 --> 00:15:00,579
rebuffering times<font color="#E5E5E5"> all</font><font color="#CCCCCC"> right</font><font color="#E5E5E5"> so so much</font>

387
00:14:59,110 --> 00:15:02,320
about<font color="#E5E5E5"> our measurement results I would</font>

388
00:15:00,579 --> 00:15:03,849
like to spend<font color="#E5E5E5"> the rest of the talk</font>

389
00:15:02,320 --> 00:15:06,310
talking<font color="#CCCCCC"> a little bit</font><font color="#E5E5E5"> about how we can</font>

390
00:15:03,850 --> 00:15:08,649
mitigate police impact and we separate

391
00:15:06,310 --> 00:15:11,020
this in two<font color="#E5E5E5"> categories what can content</font>

392
00:15:08,649 --> 00:15:13,959
providers do and what can the policing

393
00:15:11,020 --> 00:15:15,910
<font color="#CCCCCC">ISP is to now they are two different</font>

394
00:15:13,959 --> 00:15:17,560
<font color="#E5E5E5">they're different</font><font color="#CCCCCC"> constraints</font><font color="#E5E5E5"> involved</font>

395
00:15:15,910 --> 00:15:19,779
<font color="#CCCCCC">here the content providers have no</font>

396
00:15:17,560 --> 00:15:21,550
access to<font color="#E5E5E5"> the police and typically they</font>

397
00:15:19,779 --> 00:15:23,950
don't<font color="#CCCCCC"> know what kind of configurations</font>

398
00:15:21,550 --> 00:15:25,839
were used but what they can do is they

399
00:15:23,950 --> 00:15:27,850
<font color="#CCCCCC">can control the transmission patters</font>

400
00:15:25,839 --> 00:15:29,600
patterns to minimize the chance of

401
00:15:27,850 --> 00:15:32,870
<font color="#E5E5E5">hitting a token bucket</font>

402
00:15:29,600 --> 00:15:34,670
when it's empty<font color="#E5E5E5"> the policing</font><font color="#CCCCCC"> ISPs they</font>

403
00:15:32,870 --> 00:15:36,860
<font color="#E5E5E5">have access to</font><font color="#CCCCCC"> these police's</font><font color="#E5E5E5"> and their</font>

404
00:15:34,670 --> 00:15:38,719
configurations<font color="#E5E5E5"> so they can deploy</font>

405
00:15:36,860 --> 00:15:41,779
alternative traffic management

406
00:15:38,720 --> 00:15:44,300
techniques<font color="#E5E5E5"> if they wanted</font><font color="#CCCCCC"> to so in the</font>

407
00:15:41,779 --> 00:15:46,519
paper we vote and<font color="#E5E5E5"> we looked at five</font>

408
00:15:44,300 --> 00:15:49,250
different<font color="#E5E5E5"> things</font><font color="#CCCCCC"> and invite you</font><font color="#E5E5E5"> to take</font>

409
00:15:46,519 --> 00:15:51,769
a look at the paper for more details we

410
00:15:49,250 --> 00:15:53,600
looked at<font color="#E5E5E5"> rate limiting pacing and some</font>

411
00:15:51,769 --> 00:15:56,089
ways<font color="#CCCCCC"> to reduce packet</font><font color="#E5E5E5"> loss is doing</font>

412
00:15:53,600 --> 00:15:58,790
<font color="#CCCCCC">TCB's recovery</font><font color="#E5E5E5"> to improve performance</font><font color="#CCCCCC"> on</font>

413
00:15:56,089 --> 00:16:00,949
the policing<font color="#CCCCCC"> is P side</font><font color="#E5E5E5"> we looked at can</font>

414
00:15:58,790 --> 00:16:03,829
<font color="#CCCCCC">we maybe tune these police's to use</font>

415
00:16:00,949 --> 00:16:05,540
better configurations or I'm<font color="#E5E5E5"> shaping as</font>

416
00:16:03,829 --> 00:16:08,239
an alternative traffic engineering

417
00:16:05,540 --> 00:16:09,889
technique now I want to spend<font color="#E5E5E5"> time</font><font color="#CCCCCC"> a</font>

418
00:16:08,240 --> 00:16:12,589
little<font color="#CCCCCC"> bit on</font><font color="#E5E5E5"> two additional efforts</font>

419
00:16:09,889 --> 00:16:15,920
that came after we<font color="#E5E5E5"> which initely</font>

420
00:16:12,589 --> 00:16:18,410
published a paper which<font color="#CCCCCC"> is we can model</font>

421
00:16:15,920 --> 00:16:21,529
police<font color="#CCCCCC"> explicitly on the content</font>

422
00:16:18,410 --> 00:16:23,719
provider<font color="#E5E5E5"> set and then shared across both</font>

423
00:16:21,529 --> 00:16:26,180
realms we can actually<font color="#E5E5E5"> incorporate data</font>

424
00:16:23,720 --> 00:16:29,089
plan informations to<font color="#CCCCCC"> a data plan</font>

425
00:16:26,180 --> 00:16:30,709
information<font color="#CCCCCC"> to make</font><font color="#E5E5E5"> better decisions</font><font color="#CCCCCC"> so</font>

426
00:16:29,089 --> 00:16:34,069
let's start<font color="#E5E5E5"> with how we</font><font color="#CCCCCC"> can model</font>

427
00:16:30,709 --> 00:16:37,430
<font color="#CCCCCC">police's</font><font color="#E5E5E5"> so for a little bit context the</font>

428
00:16:34,069 --> 00:16:39,259
way this came up<font color="#E5E5E5"> for as a</font><font color="#CCCCCC"> google was as</font>

429
00:16:37,430 --> 00:16:41,839
part of a new congestion control

430
00:16:39,259 --> 00:16:44,779
mechanism called<font color="#CCCCCC"> MBTA</font><font color="#E5E5E5"> arm this was</font>

431
00:16:41,839 --> 00:16:46,730
published in<font color="#E5E5E5"> late last year and</font><font color="#CCCCCC"> ACM q BB</font>

432
00:16:44,779 --> 00:16:49,370
<font color="#CCCCCC">R stands for</font><font color="#E5E5E5"> bottom leg bandwidth and</font>

433
00:16:46,730 --> 00:16:51,529
<font color="#CCCCCC">round-trip propagation time and the key</font>

434
00:16:49,370 --> 00:16:54,529
goal here is that<font color="#CCCCCC"> we seek high</font>

435
00:16:51,529 --> 00:16:57,259
throughput with small<font color="#CCCCCC"> queues by probably</font>

436
00:16:54,529 --> 00:16:59,990
being bandwidth and our<font color="#E5E5E5"> TT sequentially</font>

437
00:16:57,259 --> 00:17:02,689
so this goes<font color="#CCCCCC"> away a little bit from what</font>

438
00:16:59,990 --> 00:17:05,270
<font color="#E5E5E5">TCP congestion control typically does is</font>

439
00:17:02,689 --> 00:17:07,220
which is sent as<font color="#CCCCCC"> fast</font><font color="#E5E5E5"> and as much as</font><font color="#CCCCCC"> you</font>

440
00:17:05,270 --> 00:17:09,980
<font color="#E5E5E5">can until you have packet loss</font><font color="#CCCCCC"> and then</font>

441
00:17:07,220 --> 00:17:12,380
you slow down so we have an explicit

442
00:17:09,980 --> 00:17:14,630
<font color="#E5E5E5">model of a bottleneck</font><font color="#CCCCCC"> in PBR so we're</font>

443
00:17:12,380 --> 00:17:17,900
tracking the maximum bandwidth<font color="#E5E5E5"> and the</font>

444
00:17:14,630 --> 00:17:19,579
minimum<font color="#CCCCCC"> RTT using some windowed</font><font color="#E5E5E5"> max min</font>

445
00:17:17,900 --> 00:17:21,620
filters to figure out what is the

446
00:17:19,579 --> 00:17:24,198
optimal bandwidth and<font color="#E5E5E5"> then we</font><font color="#CCCCCC"> pace near</font>

447
00:17:21,619 --> 00:17:26,208
<font color="#E5E5E5">that bandwidth</font><font color="#CCCCCC"> and then on loss we</font>

448
00:17:24,199 --> 00:17:28,400
reduce the current delivery<font color="#CCCCCC"> rate but we</font>

449
00:17:26,209 --> 00:17:30,620
probe<font color="#E5E5E5"> very quickly so there's a very</font>

450
00:17:28,400 --> 00:17:34,190
<font color="#E5E5E5">different from what typical congestion</font>

451
00:17:30,620 --> 00:17:36,469
<font color="#E5E5E5">control does so</font><font color="#CCCCCC"> bbr is modeling police</font>

452
00:17:34,190 --> 00:17:37,830
as explicitly since we figure<font color="#CCCCCC"> out that</font>

453
00:17:36,470 --> 00:17:41,100
police<font color="#E5E5E5"> are can</font>

454
00:17:37,830 --> 00:17:43,260
I'm bad in fact on our connections so<font color="#CCCCCC"> we</font>

455
00:17:41,100 --> 00:17:44,789
do is<font color="#CCCCCC"> similar</font><font color="#E5E5E5"> some is similar to what</font>

456
00:17:43,260 --> 00:17:47,190
our<font color="#E5E5E5"> detection algorithm for a</font>

457
00:17:44,789 --> 00:17:49,140
measurement campaign<font color="#CCCCCC"> um did</font><font color="#E5E5E5"> we</font><font color="#CCCCCC"> have a</font>

458
00:17:47,190 --> 00:17:52,140
<font color="#CCCCCC">long-term</font><font color="#E5E5E5"> sampling interval typically</font>

459
00:17:49,140 --> 00:17:54,450
between<font color="#CCCCCC"> 4 &</font><font color="#E5E5E5"> 6</font><font color="#CCCCCC"> and our round trips and we</font>

460
00:17:52,140 --> 00:17:56,039
<font color="#E5E5E5">start and again</font><font color="#CCCCCC"> the packet</font><font color="#E5E5E5"> loss based on</font>

461
00:17:54,450 --> 00:17:58,019
<font color="#E5E5E5">the assumption that we want to measure</font>

462
00:17:56,039 --> 00:18:00,629
what's happening<font color="#E5E5E5"> when the token buckets</font>

463
00:17:58,019 --> 00:18:03,000
are actually empty<font color="#E5E5E5"> and we record the</font>

464
00:18:00,630 --> 00:18:06,059
average throughput<font color="#E5E5E5"> and the packet loss</font>

465
00:18:03,000 --> 00:18:08,039
<font color="#CCCCCC">rates over each of these</font><font color="#E5E5E5"> intervals now</font>

466
00:18:06,059 --> 00:18:10,950
if two consecutive intervals have very

467
00:18:08,039 --> 00:18:12,750
high loss and roughly<font color="#CCCCCC"> the same kind of</font>

468
00:18:10,950 --> 00:18:14,639
throughput<font color="#E5E5E5"> then we estimate</font><font color="#CCCCCC"> that</font>

469
00:18:12,750 --> 00:18:16,529
policing<font color="#E5E5E5"> is involved</font><font color="#CCCCCC"> and we just</font>

470
00:18:14,639 --> 00:18:17,969
<font color="#E5E5E5">transmit at the average of these weights</font>

471
00:18:16,529 --> 00:18:20,490
for for quite a while

472
00:18:17,970 --> 00:18:22,649
now there are ton of magic numbers and

473
00:18:20,490 --> 00:18:24,450
in this<font color="#E5E5E5"> slide here</font><font color="#CCCCCC"> right</font><font color="#E5E5E5"> so these might</font>

474
00:18:22,649 --> 00:18:26,668
need to be tuned for different content

475
00:18:24,450 --> 00:18:29,010
providers differently<font color="#E5E5E5"> and we</font><font color="#CCCCCC"> figure</font><font color="#E5E5E5"> out</font>

476
00:18:26,669 --> 00:18:30,899
<font color="#E5E5E5">these</font><font color="#CCCCCC"> values based on measurement sweeps</font>

477
00:18:29,010 --> 00:18:34,139
and<font color="#E5E5E5"> they work pretty well for</font><font color="#CCCCCC"> our</font>

478
00:18:30,899 --> 00:18:36,870
purposes<font color="#CCCCCC"> so let's see how this would</font>

479
00:18:34,139 --> 00:18:38,490
<font color="#E5E5E5">work on based on that trace I showed you</font>

480
00:18:36,870 --> 00:18:41,070
earlier so again we would<font color="#CCCCCC"> have this</font>

481
00:18:38,490 --> 00:18:43,740
initial burst<font color="#CCCCCC"> PBR wouldn't necessarily</font>

482
00:18:41,070 --> 00:18:45,899
work differently<font color="#E5E5E5"> there but what we do is</font>

483
00:18:43,740 --> 00:18:48,990
we have<font color="#E5E5E5"> these two sampling intervals</font>

484
00:18:45,899 --> 00:18:50,639
when we have<font color="#CCCCCC"> T's</font><font color="#E5E5E5"> but we have the loss</font>

485
00:18:48,990 --> 00:18:52,260
recovery involved and we would see that

486
00:18:50,639 --> 00:18:54,570
<font color="#E5E5E5">the throughput is essentially the same</font>

487
00:18:52,260 --> 00:18:55,889
during<font color="#CCCCCC"> this recovery periods so that</font>

488
00:18:54,570 --> 00:18:58,320
point<font color="#CCCCCC"> B VI</font><font color="#E5E5E5"> would just continue</font>

489
00:18:55,889 --> 00:19:01,139
transmitting at this weight<font color="#E5E5E5"> and thereby</font>

490
00:18:58,320 --> 00:19:04,678
reducing the<font color="#E5E5E5"> risk that we hit an empty</font>

491
00:19:01,139 --> 00:19:06,389
token back<font color="#E5E5E5"> at them again now here I'm</font>

492
00:19:04,679 --> 00:19:08,880
showing<font color="#CCCCCC"> you another trace which is a</font>

493
00:19:06,389 --> 00:19:10,590
little bit longer this<font color="#E5E5E5"> police YouTube</font>

494
00:19:08,880 --> 00:19:13,860
<font color="#E5E5E5">trace so again you see</font><font color="#CCCCCC"> at the beginning</font>

495
00:19:10,590 --> 00:19:15,330
<font color="#E5E5E5">these collection of red dots where we</font>

496
00:19:13,860 --> 00:19:17,370
initially detect the<font color="#E5E5E5"> police'</font>

497
00:19:15,330 --> 00:19:20,668
<font color="#E5E5E5">and then we're performing pretty well</font>

498
00:19:17,370 --> 00:19:23,789
over time without mostly any loss<font color="#E5E5E5"> you</font>

499
00:19:20,669 --> 00:19:25,830
can see in<font color="#CCCCCC"> about ten second</font><font color="#E5E5E5"> intervals</font>

500
00:19:23,789 --> 00:19:27,840
<font color="#E5E5E5">that there is policing</font><font color="#CCCCCC"> involved them</font>

501
00:19:25,830 --> 00:19:29,879
against we see again packet loss<font color="#CCCCCC"> and</font>

502
00:19:27,840 --> 00:19:31,799
<font color="#CCCCCC">this is caused</font><font color="#E5E5E5"> by</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> congestion control</font>

503
00:19:29,880 --> 00:19:33,960
deciding that it actually<font color="#E5E5E5"> wants to</font>

504
00:19:31,799 --> 00:19:35,460
revoke every once in a while to figure

505
00:19:33,960 --> 00:19:36,929
out<font color="#E5E5E5"> if there's maybe more bandwidth</font>

506
00:19:35,460 --> 00:19:38,970
available so we don't want to<font color="#CCCCCC"> be stuck</font>

507
00:19:36,929 --> 00:19:42,419
<font color="#CCCCCC">at this</font><font color="#E5E5E5"> I'm average policing wait for</font>

508
00:19:38,970 --> 00:19:44,460
for forever<font color="#E5E5E5"> all right</font><font color="#CCCCCC"> so there's one</font>

509
00:19:42,419 --> 00:19:48,270
last thing<font color="#E5E5E5"> I want</font><font color="#CCCCCC"> to talk</font><font color="#E5E5E5"> about which is</font>

510
00:19:44,460 --> 00:19:50,760
<font color="#E5E5E5">what can content providers and DSM is</font>

511
00:19:48,270 --> 00:19:51,340
<font color="#CCCCCC">peace may</font><font color="#E5E5E5"> be due to</font><font color="#CCCCCC"> atom</font><font color="#E5E5E5"> and there's one</font>

512
00:19:50,760 --> 00:19:54,760
effort

513
00:19:51,340 --> 00:19:57,490
<font color="#E5E5E5">that some colleagues developed a little</font>

514
00:19:54,760 --> 00:19:58,540
while ago which is<font color="#E5E5E5"> a mobile data plan</font>

515
00:19:57,490 --> 00:20:00,970
API

516
00:19:58,540 --> 00:20:03,100
the problem with policing<font color="#E5E5E5"> is often that</font>

517
00:20:00,970 --> 00:20:05,260
<font color="#CCCCCC">the content providers are unaware of</font>

518
00:20:03,100 --> 00:20:07,540
<font color="#E5E5E5">their configurations with the mobile</font>

519
00:20:05,260 --> 00:20:09,370
data<font color="#E5E5E5"> plan API the applications can</font>

520
00:20:07,540 --> 00:20:11,379
actually request<font color="#E5E5E5"> information about</font><font color="#CCCCCC"> a</font>

521
00:20:09,370 --> 00:20:13,899
user's data plan from the mobile<font color="#E5E5E5"> network</font>

522
00:20:11,380 --> 00:20:15,730
operator and then<font color="#E5E5E5"> the content provider</font>

523
00:20:13,900 --> 00:20:19,720
can incorporate that<font color="#CCCCCC"> kind of information</font>

524
00:20:15,730 --> 00:20:21,610
to<font color="#CCCCCC"> improve the quality of experience so</font>

525
00:20:19,720 --> 00:20:24,100
for<font color="#E5E5E5"> example YouTube can actually</font>

526
00:20:21,610 --> 00:20:25,959
customize<font color="#CCCCCC"> the video quality or</font><font color="#E5E5E5"> its</font>

527
00:20:24,100 --> 00:20:27,969
transmission rate if we<font color="#CCCCCC"> actually know</font>

528
00:20:25,960 --> 00:20:29,950
beforehand what<font color="#CCCCCC"> the</font><font color="#E5E5E5"> PRU is policing rate</font>

529
00:20:27,970 --> 00:20:33,310
<font color="#CCCCCC">is</font><font color="#E5E5E5"> like so we reduce the</font><font color="#CCCCCC"> amount of</font>

530
00:20:29,950 --> 00:20:37,030
packet loss<font color="#E5E5E5"> by just</font><font color="#CCCCCC"> as transmitting at</font>

531
00:20:33,310 --> 00:20:40,360
the rate which is slightly lower lower

532
00:20:37,030 --> 00:20:42,430
than what the police are likes if you

533
00:20:40,360 --> 00:20:46,840
<font color="#E5E5E5">like more there's an email</font><font color="#CCCCCC"> address and</font>

534
00:20:42,430 --> 00:20:48,400
<font color="#E5E5E5">there you can contact</font><font color="#CCCCCC"> alright</font><font color="#E5E5E5"> so just</font><font color="#CCCCCC"> to</font>

535
00:20:46,840 --> 00:20:51,159
wrap<font color="#E5E5E5"> up and leave them some time for</font>

536
00:20:48,400 --> 00:20:53,620
questions<font color="#CCCCCC"> i Speas need ways to deal with</font>

537
00:20:51,160 --> 00:20:55,930
<font color="#E5E5E5">increasing traffic demands and they want</font>

538
00:20:53,620 --> 00:20:58,870
<font color="#E5E5E5">to enforce and plan so traffic policing</font>

539
00:20:55,930 --> 00:21:01,300
is one<font color="#E5E5E5"> option to actually</font><font color="#CCCCCC"> do this on</font><font color="#E5E5E5"> a</font>

540
00:20:58,870 --> 00:21:03,459
global<font color="#E5E5E5"> scale we</font><font color="#CCCCCC"> see up to 7% of lossy</font>

541
00:21:01,300 --> 00:21:06,070
segments being affected by traffic

542
00:21:03,460 --> 00:21:08,710
policing<font color="#E5E5E5"> and I showed you</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> police</font>

543
00:21:06,070 --> 00:21:11,320
connections<font color="#E5E5E5"> can see much higher loss</font>

544
00:21:08,710 --> 00:21:13,810
rates they can see long recovery<font color="#E5E5E5"> times</font>

545
00:21:11,320 --> 00:21:16,270
when<font color="#E5E5E5"> police's allow initial</font><font color="#CCCCCC"> births</font><font color="#E5E5E5"> and</font>

546
00:21:13,810 --> 00:21:18,790
we can see voice<font color="#E5E5E5"> video</font><font color="#CCCCCC"> via buffering</font>

547
00:21:16,270 --> 00:21:20,740
times or quality of<font color="#E5E5E5"> experience now the</font>

548
00:21:18,790 --> 00:21:23,260
<font color="#CCCCCC">negative effects that can be caused by</font>

549
00:21:20,740 --> 00:21:25,570
<font color="#CCCCCC">police are can be mitigated I showed</font><font color="#E5E5E5"> you</font>

550
00:21:23,260 --> 00:21:28,990
<font color="#E5E5E5">some solutions for the content providers</font>

551
00:21:25,570 --> 00:21:31,240
as<font color="#CCCCCC"> well as for the ice please if</font><font color="#E5E5E5"> you</font>

552
00:21:28,990 --> 00:21:34,170
have questions<font color="#CCCCCC"> feel</font><font color="#E5E5E5"> free to email us</font><font color="#CCCCCC"> at</font>

553
00:21:31,240 --> 00:21:37,420
the<font color="#CCCCCC"> address there there's also an</font>

554
00:21:34,170 --> 00:21:40,090
adjunct<font color="#E5E5E5"> data and tech report publicly</font>

555
00:21:37,420 --> 00:21:45,280
<font color="#E5E5E5">available at github this I developed as</font>

556
00:21:40,090 --> 00:21:47,830
<font color="#CCCCCC">part of my PhD work at USC and feel free</font>

557
00:21:45,280 --> 00:21:51,030
to<font color="#E5E5E5"> check out</font><font color="#CCCCCC"> the slides and</font><font color="#E5E5E5"> with that I</font>

558
00:21:47,830 --> 00:21:51,030
<font color="#E5E5E5">thank</font><font color="#CCCCCC"> you for your</font><font color="#E5E5E5"> attention</font>

559
00:21:51,370 --> 00:21:59,060
[Applause]

560
00:22:04,080 --> 00:22:10,960
<font color="#CCCCCC">hi jakey infinera have you had any</font>

561
00:22:08,409 --> 00:22:16,139
<font color="#CCCCCC">positive response from ISPs</font><font color="#E5E5E5"> for this</font>

562
00:22:10,960 --> 00:22:20,200
<font color="#CCCCCC">notion</font><font color="#E5E5E5"> of the mobile data plan API I</font>

563
00:22:16,139 --> 00:22:23,678
can't answer that<font color="#CCCCCC"> since I'm</font><font color="#E5E5E5"> not involved</font>

564
00:22:20,200 --> 00:22:25,750
<font color="#E5E5E5">in the mobile data plan</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> I I would</font>

565
00:22:23,679 --> 00:22:28,240
<font color="#CCCCCC">have to check back on that with other</font>

566
00:22:25,750 --> 00:22:29,950
developers<font color="#E5E5E5"> okay and and follow-on</font>

567
00:22:28,240 --> 00:22:32,950
question was have<font color="#E5E5E5"> you given any</font><font color="#CCCCCC"> thought</font>

568
00:22:29,950 --> 00:22:34,450
<font color="#E5E5E5">to potential unintended consequences of</font>

569
00:22:32,950 --> 00:22:38,200
something<font color="#E5E5E5"> like</font><font color="#CCCCCC"> PBR you know playing</font>

570
00:22:34,450 --> 00:22:39,970
around<font color="#E5E5E5"> with retransmission and</font><font color="#CCCCCC"> all the</font>

571
00:22:38,200 --> 00:22:41,289
factors that<font color="#E5E5E5"> you</font><font color="#CCCCCC"> have and as you</font>

572
00:22:39,970 --> 00:22:43,090
yourself said you<font color="#E5E5E5"> had to come</font><font color="#CCCCCC"> up with</font>

573
00:22:41,289 --> 00:22:44,980
some magic<font color="#E5E5E5"> numbers which may not apply</font>

574
00:22:43,090 --> 00:22:47,709
across all networks<font color="#CCCCCC"> any thoughts about</font>

575
00:22:44,980 --> 00:22:52,600
how<font color="#CCCCCC"> to</font><font color="#E5E5E5"> avoid some kind of a storm caused</font>

576
00:22:47,710 --> 00:22:55,210
by this<font color="#E5E5E5"> so I can tell you the</font><font color="#CCCCCC"> DVR team</font>

577
00:22:52,600 --> 00:22:56,709
played around<font color="#CCCCCC"> with this for</font><font color="#E5E5E5"> multiple</font>

578
00:22:55,210 --> 00:22:59,789
years before they actually<font color="#E5E5E5"> said okay</font>

579
00:22:56,710 --> 00:23:01,990
<font color="#CCCCCC">these are numbers we</font><font color="#E5E5E5"> want to look at</font><font color="#CCCCCC"> I</font>

580
00:22:59,789 --> 00:23:03,879
totally agreed that these<font color="#CCCCCC"> numbers</font>

581
00:23:01,990 --> 00:23:05,830
probably<font color="#E5E5E5"> won't work for every single</font>

582
00:23:03,879 --> 00:23:07,449
<font color="#E5E5E5">situation I think the decision was there</font>

583
00:23:05,830 --> 00:23:10,000
we use<font color="#CCCCCC"> the numbers that work for the</font>

584
00:23:07,450 --> 00:23:12,100
huge majority<font color="#CCCCCC"> of people and</font><font color="#E5E5E5"> prove their</font>

585
00:23:10,000 --> 00:23:14,769
performance at the slight cost that

586
00:23:12,100 --> 00:23:17,219
<font color="#CCCCCC">maybe for</font><font color="#E5E5E5"> a tail of customers they might</font>

587
00:23:14,769 --> 00:23:20,919
make<font color="#E5E5E5"> things a little bit worse thank you</font>

588
00:23:17,220 --> 00:23:24,129
<font color="#CCCCCC">yeah</font><font color="#E5E5E5"> man Peter Yahoo so to clarify on</font>

589
00:23:20,919 --> 00:23:25,720
<font color="#CCCCCC">that you're a lab examples</font><font color="#E5E5E5"> look very</font>

590
00:23:24,129 --> 00:23:27,639
clean in<font color="#E5E5E5"> terms of yours the police or</font>

591
00:23:25,720 --> 00:23:28,840
here's our traffic<font color="#CCCCCC"> closed real world</font>

592
00:23:27,639 --> 00:23:31,508
you've got<font color="#CCCCCC"> a lot of</font><font color="#E5E5E5"> different competing</font>

593
00:23:28,840 --> 00:23:33,610
traffic flows did you find that<font color="#CCCCCC"> you had</font>

594
00:23:31,509 --> 00:23:36,610
problems<font color="#E5E5E5"> with actually characterizing</font>

595
00:23:33,610 --> 00:23:38,678
police when you have many many parallel

596
00:23:36,610 --> 00:23:42,850
data flows all impinge on<font color="#CCCCCC"> the bucket at</font>

597
00:23:38,679 --> 00:23:45,399
the<font color="#E5E5E5"> same time so so so this works for</font>

598
00:23:42,850 --> 00:23:47,529
<font color="#CCCCCC">our traffic</font><font color="#E5E5E5"> pattern and the only reason</font>

599
00:23:45,399 --> 00:23:50,649
<font color="#CCCCCC">for that is that we</font><font color="#E5E5E5"> are not trying to</font>

600
00:23:47,529 --> 00:23:52,299
<font color="#E5E5E5">sub transmission parallel all right so</font>

601
00:23:50,649 --> 00:23:54,129
we kind<font color="#E5E5E5"> of have this</font><font color="#CCCCCC"> special set up</font>

602
00:23:52,299 --> 00:23:58,750
where we would<font color="#E5E5E5"> have a fairly clean</font>

603
00:23:54,129 --> 00:24:01,149
signal<font color="#E5E5E5"> now what we would like to do more</font>

604
00:23:58,750 --> 00:24:02,740
general is well it<font color="#E5E5E5"> doesn't</font><font color="#CCCCCC"> really</font><font color="#E5E5E5"> matter</font>

605
00:24:01,149 --> 00:24:04,299
<font color="#E5E5E5">if we are looking at the</font><font color="#CCCCCC"> single</font>

606
00:24:02,740 --> 00:24:04,980
connection<font color="#E5E5E5"> here police'll likely doesn't</font>

607
00:24:04,299 --> 00:24:07,350
<font color="#E5E5E5">care what</font>

608
00:24:04,980 --> 00:24:09,030
<font color="#E5E5E5">it cares more about how much traffic is</font>

609
00:24:07,350 --> 00:24:10,409
<font color="#CCCCCC">going to</font><font color="#E5E5E5"> this particular user so we</font>

610
00:24:09,030 --> 00:24:12,389
could<font color="#E5E5E5"> just throw everything into a</font>

611
00:24:10,410 --> 00:24:14,730
single bucket<font color="#E5E5E5"> there the reason</font><font color="#CCCCCC"> we</font>

612
00:24:12,390 --> 00:24:17,429
couldn't<font color="#E5E5E5"> do that is for privacy purposes</font>

613
00:24:14,730 --> 00:24:18,870
<font color="#E5E5E5">we had no information about customers</font>

614
00:24:17,429 --> 00:24:20,820
whatsoever so we<font color="#E5E5E5"> couldn't even say how</font>

615
00:24:18,870 --> 00:24:22,649
<font color="#CCCCCC">many customers</font><font color="#E5E5E5"> were affected</font><font color="#CCCCCC"> by police</font>

616
00:24:20,820 --> 00:24:25,290
or police that's right

617
00:24:22,650 --> 00:24:26,790
<font color="#CCCCCC">I think providers could potentially do</font>

618
00:24:25,290 --> 00:24:28,379
that and then they should just adjust

619
00:24:26,790 --> 00:24:30,059
the mechanism and say we<font color="#E5E5E5"> just look at</font>

620
00:24:28,380 --> 00:24:31,679
<font color="#CCCCCC">all the traffic going to a user</font><font color="#E5E5E5"> and</font>

621
00:24:30,059 --> 00:24:33,690
<font color="#E5E5E5">that's also one of the reasons why we</font>

622
00:24:31,679 --> 00:24:35,730
<font color="#E5E5E5">likely unless</font><font color="#CCCCCC"> Amit how much policing is</font>

623
00:24:33,690 --> 00:24:37,620
going on<font color="#E5E5E5"> if there's</font><font color="#CCCCCC"> any kind</font><font color="#E5E5E5"> of noise</font>

624
00:24:35,730 --> 00:24:39,570
and<font color="#CCCCCC"> there a little bit of noise we can</font>

625
00:24:37,620 --> 00:24:41,399
handle<font color="#E5E5E5"> if you have something</font><font color="#CCCCCC"> going on</font>

626
00:24:39,570 --> 00:24:42,990
beside watching<font color="#E5E5E5"> YouTube then we probably</font>

627
00:24:41,400 --> 00:24:48,059
have a tough time<font color="#E5E5E5"> figuring that out</font>

628
00:24:42,990 --> 00:24:51,210
thank you the Phil Rosenthal from<font color="#CCCCCC"> ice</font>

629
00:24:48,059 --> 00:24:53,129
<font color="#CCCCCC">prime</font><font color="#E5E5E5"> I'm wondering do you have your</font>

630
00:24:51,210 --> 00:24:54,720
congestion control algorithm is it like

631
00:24:53,130 --> 00:24:56,580
available as a pluggable module that

632
00:24:54,720 --> 00:25:00,120
others can can use and play<font color="#E5E5E5"> around with</font>

633
00:24:56,580 --> 00:25:03,059
<font color="#CCCCCC">bbr has been upstream to</font><font color="#E5E5E5"> the Linux</font>

634
00:25:00,120 --> 00:25:04,830
<font color="#E5E5E5">kernel while ago and as far</font><font color="#CCCCCC"> as I know</font>

635
00:25:03,059 --> 00:25:07,710
their efforts on the way to make this

636
00:25:04,830 --> 00:25:10,710
part of<font color="#E5E5E5"> FreeBSD as well bye-bye</font>

637
00:25:07,710 --> 00:25:13,140
not by<font color="#E5E5E5"> Google Doughboy</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> la folks and so</font>

638
00:25:10,710 --> 00:25:15,720
following<font color="#E5E5E5"> up on what Matt</font><font color="#CCCCCC"> PTAC was</font>

639
00:25:13,140 --> 00:25:19,049
asking I mean<font color="#E5E5E5"> when you have in the real</font>

640
00:25:15,720 --> 00:25:21,450
world competing flows does doesn't it

641
00:25:19,049 --> 00:25:24,600
just end up<font color="#E5E5E5"> that it you know it does</font><font color="#CCCCCC"> end</font>

642
00:25:21,450 --> 00:25:26,940
up reaching<font color="#E5E5E5"> an equilibrium</font><font color="#CCCCCC"> better</font><font color="#E5E5E5"> than</font>

643
00:25:24,600 --> 00:25:28,949
the previous algorithms or it still

644
00:25:26,940 --> 00:25:30,600
<font color="#E5E5E5">doesn't help well so the thing</font><font color="#CCCCCC"> is I</font><font color="#E5E5E5"> mean</font>

645
00:25:28,950 --> 00:25:33,630
the worst case<font color="#E5E5E5"> we don't detect the</font>

646
00:25:30,600 --> 00:25:36,629
police<font color="#CCCCCC"> arm right</font><font color="#E5E5E5"> so that's that's always</font>

647
00:25:33,630 --> 00:25:38,940
a risk<font color="#CCCCCC"> in which case bbr will still</font>

648
00:25:36,630 --> 00:25:42,780
perform better<font color="#CCCCCC"> simply because it isn't</font>

649
00:25:38,940 --> 00:25:44,010
<font color="#E5E5E5">so</font><font color="#CCCCCC"> it doesn't react so aggressively when</font>

650
00:25:42,780 --> 00:25:46,320
packet loss<font color="#CCCCCC"> is involved</font>

651
00:25:44,010 --> 00:25:48,330
<font color="#E5E5E5">we just can't fine tune the algorithm in</font>

652
00:25:46,320 --> 00:25:50,428
that case so we<font color="#E5E5E5"> will hit the token</font>

653
00:25:48,330 --> 00:25:51,360
bucket<font color="#E5E5E5"> over and over again if we cannot</font>

654
00:25:50,429 --> 00:25:53,549
figure<font color="#E5E5E5"> out that there's actually</font>

655
00:25:51,360 --> 00:26:00,229
<font color="#E5E5E5">policing involved there</font><font color="#CCCCCC"> so that's a risk</font>

656
00:25:53,549 --> 00:26:02,610
<font color="#E5E5E5">thank you yep</font><font color="#CCCCCC"> Jesse</font><font color="#E5E5E5"> J Houston a penny</font>

657
00:26:00,230 --> 00:26:05,110
this<font color="#E5E5E5"> is sort of the another one at a</font>

658
00:26:02,610 --> 00:26:07,659
long run<font color="#E5E5E5"> of TCP flow control at</font>

659
00:26:05,110 --> 00:26:10,090
algorithms and if I understand what

660
00:26:07,660 --> 00:26:12,550
<font color="#E5E5E5">you're saying</font><font color="#CCCCCC"> you're trying to optimize</font>

661
00:26:10,090 --> 00:26:15,370
the flow control<font color="#E5E5E5"> where you get packet</font>

662
00:26:12,550 --> 00:26:16,899
loss<font color="#E5E5E5"> without a corresponding increase in</font>

663
00:26:15,370 --> 00:26:19,300
<font color="#E5E5E5">the queuing delay</font><font color="#CCCCCC"> which is normally what</font>

664
00:26:16,900 --> 00:26:22,090
<font color="#CCCCCC">you get with congestion so you're trying</font>

665
00:26:19,300 --> 00:26:24,070
<font color="#E5E5E5">to react to</font><font color="#CCCCCC"> almost random packet drop</font>

666
00:26:22,090 --> 00:26:26,850
without<font color="#CCCCCC"> advance signalling under</font>

667
00:26:24,070 --> 00:26:31,060
circumstances that<font color="#E5E5E5"> you think is policing</font>

668
00:26:26,850 --> 00:26:33,340
<font color="#E5E5E5">if you have so if you look at the actual</font>

669
00:26:31,060 --> 00:26:35,710
numbers there needs to be<font color="#CCCCCC"> 20% packet</font>

670
00:26:33,340 --> 00:26:37,870
loss involved<font color="#CCCCCC"> here to</font><font color="#E5E5E5"> even trigger this</font>

671
00:26:35,710 --> 00:26:39,100
kind<font color="#E5E5E5"> of a mechanism so let me get</font><font color="#CCCCCC"> to</font>

672
00:26:37,870 --> 00:26:41,379
where I was going

673
00:26:39,100 --> 00:26:43,870
most of<font color="#CCCCCC"> TCP is basically a round-trip</font>

674
00:26:41,380 --> 00:26:45,370
flow control algorithm where you punt in

675
00:26:43,870 --> 00:26:47,560
stuff<font color="#E5E5E5"> you wait for one amount of it</font>

676
00:26:45,370 --> 00:26:50,620
tells you how it's going the<font color="#CCCCCC"> whole idea</font>

677
00:26:47,560 --> 00:26:52,179
behind flow start and you<font color="#E5E5E5"> know aimd was</font>

678
00:26:50,620 --> 00:26:54,250
to sort of oscillate<font color="#CCCCCC"> around what she</font>

679
00:26:52,180 --> 00:26:56,260
thought was<font color="#CCCCCC"> the sweet spot if you've</font>

680
00:26:54,250 --> 00:26:58,870
removed<font color="#E5E5E5"> that in this algorithm</font><font color="#CCCCCC"> so the</font>

681
00:26:56,260 --> 00:27:01,600
<font color="#E5E5E5">first point is do you ramp up as</font>

682
00:26:58,870 --> 00:27:03,850
efficiently as<font color="#E5E5E5"> aimd or do you take</font>

683
00:27:01,600 --> 00:27:07,030
slower in<font color="#CCCCCC"> bbr to get to what you think</font>

684
00:27:03,850 --> 00:27:10,659
<font color="#E5E5E5">is the optimal rate and secondly do you</font>

685
00:27:07,030 --> 00:27:13,270
adapt<font color="#E5E5E5"> aggressively to competing flows</font>

686
00:27:10,660 --> 00:27:15,190
<font color="#CCCCCC">does it take you some time to sense that</font>

687
00:27:13,270 --> 00:27:17,490
someone<font color="#E5E5E5"> else is flogging bandwidth and</font>

688
00:27:15,190 --> 00:27:20,710
<font color="#E5E5E5">you need to adjust so are you less</font>

689
00:27:17,490 --> 00:27:24,940
sensitive as<font color="#E5E5E5"> Sally Floyd used to say in</font>

690
00:27:20,710 --> 00:27:27,220
this kind of algorithm<font color="#E5E5E5"> I can't answer</font>

691
00:27:24,940 --> 00:27:29,290
this<font color="#E5E5E5"> exactly because</font><font color="#CCCCCC"> I haven't</font><font color="#E5E5E5"> worked on</font>

692
00:27:27,220 --> 00:27:31,120
<font color="#E5E5E5">the</font><font color="#CCCCCC"> bbr I've rhythm I really invite you</font>

693
00:27:29,290 --> 00:27:32,830
<font color="#E5E5E5">to look at the</font><font color="#CCCCCC"> PBR paper there has been</font>

694
00:27:31,120 --> 00:27:35,560
I<font color="#E5E5E5"> mean Google has done extensive</font>

695
00:27:32,830 --> 00:27:37,810
evaluation and even on the<font color="#CCCCCC"> bebe odd</font>

696
00:27:35,560 --> 00:27:39,850
-<font color="#E5E5E5"> def mailing list there has been</font>

697
00:27:37,810 --> 00:27:42,040
extensive evaluation by other parties

698
00:27:39,850 --> 00:27:44,860
<font color="#CCCCCC">that looked at</font><font color="#E5E5E5"> canvas actually work in</font>

699
00:27:42,040 --> 00:27:48,129
the<font color="#E5E5E5"> internet I</font><font color="#CCCCCC"> think the main consensus</font>

700
00:27:44,860 --> 00:27:50,320
is yes it works better but<font color="#E5E5E5"> I am certain</font>

701
00:27:48,130 --> 00:27:51,640
<font color="#E5E5E5">there have been lots of studies</font><font color="#CCCCCC"> where</font>

702
00:27:50,320 --> 00:27:54,760
they figure<font color="#CCCCCC"> out well and</font><font color="#E5E5E5"> this particular</font>

703
00:27:51,640 --> 00:27:56,890
setting is actually sucks a lot and then

704
00:27:54,760 --> 00:27:58,240
people have<font color="#CCCCCC"> to look</font><font color="#E5E5E5"> at it again see can</font>

705
00:27:56,890 --> 00:28:02,040
we<font color="#CCCCCC"> actually deal with</font><font color="#E5E5E5"> this or is</font><font color="#CCCCCC"> this</font>

706
00:27:58,240 --> 00:28:02,040
just them a corner case<font color="#E5E5E5"> thank you</font>

707
00:28:03,740 --> 00:28:09,410
<font color="#CCCCCC">alright alright</font><font color="#E5E5E5"> thanks</font>

