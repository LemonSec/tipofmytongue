1
00:00:06,890 --> 00:00:12,629
yes my name is Lorenzo clearly I've been

2
00:00:09,360 --> 00:00:14,760
involved at<font color="#CCCCCC"> any IP</font><font color="#E5E5E5"> 6 efforts at Google</font>

3
00:00:12,629 --> 00:00:18,750
since quite a while<font color="#CCCCCC"> now since the</font>

4
00:00:14,760 --> 00:00:20,850
beginning I never really many of you may

5
00:00:18,750 --> 00:00:23,670
have<font color="#CCCCCC"> seen this before I've never talked</font>

6
00:00:20,850 --> 00:00:26,310
about<font color="#E5E5E5"> it</font><font color="#CCCCCC"> at nano so I'd like to share</font>

7
00:00:23,670 --> 00:00:29,130
some general information<font color="#E5E5E5"> about ip6</font>

8
00:00:26,310 --> 00:00:30,538
<font color="#E5E5E5">Google and then focus later on on one of</font>

9
00:00:29,130 --> 00:00:33,149
the big problems<font color="#E5E5E5"> that we see at the</font>

10
00:00:30,539 --> 00:00:35,610
moment<font color="#E5E5E5"> which is ipv6 brokenness in the</font>

11
00:00:33,149 --> 00:00:37,199
internet and how that sort of impedes

12
00:00:35,610 --> 00:00:42,180
our ability to actually deliver e6

13
00:00:37,199 --> 00:00:46,349
content so why why is it that we started

14
00:00:42,180 --> 00:00:48,960
in 2007 actually to do ipv6 well

15
00:00:46,350 --> 00:00:52,140
everyone seen this graph the writing's

16
00:00:48,960 --> 00:00:53,880
on the wall for before<font color="#E5E5E5"> we started I mean</font>

17
00:00:52,140 --> 00:00:56,280
in 2000 we had fifty percent of<font color="#E5E5E5"> the</font>

18
00:00:53,880 --> 00:00:58,290
<font color="#E5E5E5">address</font><font color="#CCCCCC"> free now we have beginning we</font>

19
00:00:56,280 --> 00:01:01,770
had<font color="#E5E5E5"> ten percent of address space free</font>

20
00:00:58,290 --> 00:01:05,360
and now we have six percent so yeah

21
00:01:01,770 --> 00:01:07,649
there we<font color="#E5E5E5"> are the image finally loaded so</font>

22
00:01:05,360 --> 00:01:10,590
before the writing's on the wall that

23
00:01:07,649 --> 00:01:12,179
before okay so so what what happens

24
00:01:10,590 --> 00:01:16,289
after that while you buy addresses or

25
00:01:12,179 --> 00:01:19,530
you not or you do v6 if netting is going

26
00:01:16,289 --> 00:01:20,700
to be expensive you'll need the box<font color="#E5E5E5"> is</font>

27
00:01:19,530 --> 00:01:22,049
going<font color="#E5E5E5"> to be expensive you're going to</font>

28
00:01:20,700 --> 00:01:23,729
have to log every session that passes

29
00:01:22,049 --> 00:01:26,429
through<font color="#E5E5E5"> them you can use compression to</font>

30
00:01:23,729 --> 00:01:28,139
reduce that but it ends up being<font color="#E5E5E5"> of the</font>

31
00:01:26,429 --> 00:01:30,450
order of terabytes a month for every for

32
00:01:28,139 --> 00:01:33,329
every million subscribers of course

33
00:01:30,450 --> 00:01:36,149
networks that is complex and it's hard

34
00:01:33,329 --> 00:01:37,559
<font color="#E5E5E5">to manage from the perspective of a</font>

35
00:01:36,149 --> 00:01:39,539
content provider what's more interesting

36
00:01:37,560 --> 00:01:42,229
is that the semantics of an IP address

37
00:01:39,539 --> 00:01:45,209
become blurred you can't assume that<font color="#CCCCCC"> a</font>

38
00:01:42,229 --> 00:01:48,899
then an IP address<font color="#E5E5E5"> is as an individual</font>

39
00:01:45,209 --> 00:01:51,149
user you can't relocate as well and that

40
00:01:48,899 --> 00:01:52,529
impacts your ability to give for example

41
00:01:51,149 --> 00:01:55,499
streaming with fine-grained geolocation

42
00:01:52,529 --> 00:01:58,200
restrictions you can't identify abuse

43
00:01:55,499 --> 00:01:59,429
and mitigate abuse because if you if you

44
00:01:58,200 --> 00:02:01,889
block an IP address you might be

45
00:01:59,429 --> 00:02:04,979
blocking 100 users and taking out those

46
00:02:01,889 --> 00:02:07,439
users collateral damage then there's

47
00:02:04,979 --> 00:02:11,130
port exhaustion problems when some user

48
00:02:07,439 --> 00:02:13,170
is behind a carrier-grade NAT and<font color="#CCCCCC"> then</font>

49
00:02:11,130 --> 00:02:14,940
has a virus that's opening all the ports

50
00:02:13,170 --> 00:02:16,200
and exhausting all the state on than

51
00:02:14,940 --> 00:02:19,890
that what's going to happen is that then

52
00:02:16,200 --> 00:02:21,989
<font color="#CCCCCC">that has to has to warn the user and</font>

53
00:02:19,890 --> 00:02:24,059
the current specifications in the

54
00:02:21,990 --> 00:02:27,270
broadband forum say that this should be

55
00:02:24,060 --> 00:02:29,100
done using HTTP intercept so the your

56
00:02:27,270 --> 00:02:31,319
connection to google will be or<font color="#E5E5E5"> to</font>

57
00:02:29,100 --> 00:02:33,000
anywhere else will be intercepted and

58
00:02:31,319 --> 00:02:34,769
you'll<font color="#E5E5E5"> get this helpful page saying you</font>

59
00:02:33,000 --> 00:02:36,270
have run out of ports please click<font color="#CCCCCC"> here</font>

60
00:02:34,770 --> 00:02:38,400
to fix<font color="#E5E5E5"> the problem or please contact</font>

61
00:02:36,270 --> 00:02:40,650
your SP and of course we're thrilled to

62
00:02:38,400 --> 00:02:42,600
have that content replaced our content

63
00:02:40,650 --> 00:02:44,310
replaced by messages like that and

64
00:02:42,600 --> 00:02:45,750
there's things like IP authentication

65
00:02:44,310 --> 00:02:49,950
and nobody does that<font color="#E5E5E5"> so I'm not going to</font>

66
00:02:45,750 --> 00:02:52,140
talk<font color="#E5E5E5"> about new devices there's set-top</font>

67
00:02:49,950 --> 00:02:54,089
boxes a lot<font color="#E5E5E5"> of them</font><font color="#CCCCCC"> just simply can't be</font>

68
00:02:52,140 --> 00:02:56,760
numbered out of the four space because

69
00:02:54,090 --> 00:02:59,760
there is no v4 space mobile networks we

70
00:02:56,760 --> 00:03:03,870
actually had a implementers meeting last

71
00:02:59,760 --> 00:03:06,390
week at on Google campus and Verizon and

72
00:03:03,870 --> 00:03:07,830
t-mobile over there and for them it's

73
00:03:06,390 --> 00:03:09,238
basically they've already run out<font color="#E5E5E5"> of</font>

74
00:03:07,830 --> 00:03:11,070
before<font color="#E5E5E5"> they're saying that there's no we</font>

75
00:03:09,239 --> 00:03:12,840
know more<font color="#E5E5E5"> before they have I think</font>

76
00:03:11,070 --> 00:03:15,900
<font color="#E5E5E5">multiple overlapping that</font><font color="#CCCCCC"> ten spaces</font>

77
00:03:12,840 --> 00:03:18,690
<font color="#CCCCCC">bogen space and and that's</font><font color="#E5E5E5"> very</font><font color="#CCCCCC"> hard to</font>

78
00:03:15,900 --> 00:03:20,970
manage so if you want<font color="#CCCCCC"> to</font><font color="#E5E5E5"> talk to these</font>

79
00:03:18,690 --> 00:03:23,190
devices you'd better have ipv6 because

80
00:03:20,970 --> 00:03:25,079
and if you don't they'll do it<font color="#CCCCCC"> for you</font>

81
00:03:23,190 --> 00:03:26,970
right they'll put in that 64 in place I

82
00:03:25,079 --> 00:03:29,070
think t-mobile has gone on the record<font color="#CCCCCC"> is</font>

83
00:03:26,970 --> 00:03:32,070
saying there's multiple times they will

84
00:03:29,070 --> 00:03:33,329
do not 64 so if your services so if you

85
00:03:32,070 --> 00:03:35,190
wanted if<font color="#E5E5E5"> you want to you know provide</font>

86
00:03:33,329 --> 00:03:39,739
better service you better be available

87
00:03:35,190 --> 00:03:44,010
over 36 new applications I mean really

88
00:03:39,739 --> 00:03:45,959
ip6 is the only way to to keep to

89
00:03:44,010 --> 00:03:49,739
maintain the<font color="#E5E5E5"> current architecture of the</font>

90
00:03:45,959 --> 00:03:52,680
<font color="#E5E5E5">Internet as we know it so what have</font><font color="#CCCCCC"> we</font>

91
00:03:49,739 --> 00:03:54,180
done so we started in 2007 as a

92
00:03:52,680 --> 00:03:55,380
<font color="#CCCCCC">20-percent project you know this is</font><font color="#E5E5E5"> one</font>

93
00:03:54,180 --> 00:03:57,180
of those things about Google's as you

94
00:03:55,380 --> 00:03:59,579
get to<font color="#E5E5E5"> start on working on whatever you</font>

95
00:03:57,180 --> 00:04:01,380
like and<font color="#E5E5E5"> then</font><font color="#CCCCCC"> people just came out</font><font color="#E5E5E5"> of</font>

96
00:03:59,579 --> 00:04:03,030
the woodwork to help how<font color="#CCCCCC"> can i make my</font>

97
00:04:01,380 --> 00:04:06,720
service available every<font color="#CCCCCC"> 6 how kind of</font>

98
00:04:03,030 --> 00:04:08,220
help we started with a small small scale

99
00:04:06,720 --> 00:04:10,049
lab network and then we just<font color="#E5E5E5"> scaled it</font>

100
00:04:08,220 --> 00:04:11,609
up a<font color="#E5E5E5"> pilot is not expensive and then one</font>

101
00:04:10,049 --> 00:04:13,709
wants network is there the applications

102
00:04:11,610 --> 00:04:15,120
will follow<font color="#E5E5E5"> because to the software to</font>

103
00:04:13,709 --> 00:04:19,649
<font color="#E5E5E5">the tooth applications is just another</font>

104
00:04:15,120 --> 00:04:21,149
packet right so we did in stages so v6

105
00:04:19,649 --> 00:04:22,380
doesn't need to be as capable of v4 on

106
00:04:21,149 --> 00:04:23,940
day one just because the traffic isn't

107
00:04:22,380 --> 00:04:25,110
there but it has to be done<font color="#E5E5E5"> properly</font>

108
00:04:23,940 --> 00:04:27,330
because if it's not<font color="#E5E5E5"> production quality</font>

109
00:04:25,110 --> 00:04:29,160
then it's not<font color="#E5E5E5"> used to anyone and we</font>

110
00:04:27,330 --> 00:04:30,780
followed into our normal upgrade cycles

111
00:04:29,160 --> 00:04:32,249
one of the reasons why<font color="#E5E5E5"> I took</font><font color="#CCCCCC"> YouTube to</font>

112
00:04:30,780 --> 00:04:33,628
you know so long to be avail

113
00:04:32,249 --> 00:04:36,239
<font color="#CCCCCC">of every sex is that the hardware that</font>

114
00:04:33,629 --> 00:04:40,169
we had was not capable of<font color="#E5E5E5"> doing a p6 in</font>

115
00:04:36,239 --> 00:04:41,878
harder so how did<font color="#E5E5E5"> we do</font><font color="#CCCCCC"> it a little</font><font color="#E5E5E5"> bit</font>

116
00:04:40,169 --> 00:04:43,229
more from the<font color="#E5E5E5"> software side so we we</font>

117
00:04:41,879 --> 00:04:44,879
took the approach that you know since

118
00:04:43,229 --> 00:04:47,099
since what we needed to<font color="#E5E5E5"> to make</font>

119
00:04:44,879 --> 00:04:50,609
<font color="#E5E5E5">available first we'll use the services</font>

120
00:04:47,099 --> 00:04:53,459
and since there was so little traffic

121
00:04:50,609 --> 00:04:54,839
and still is it's about 0.1 percent what

122
00:04:53,459 --> 00:04:56,339
happened is we started from the outside

123
00:04:54,839 --> 00:04:57,809
and<font color="#CCCCCC"> we moved it</font><font color="#E5E5E5"> and we started that load</font>

124
00:04:56,339 --> 00:04:59,129
balancer then we move<font color="#CCCCCC"> to the front end</font>

125
00:04:57,809 --> 00:05:00,989
then we move<font color="#CCCCCC"> to the web server and then</font>

126
00:04:59,129 --> 00:05:03,029
<font color="#E5E5E5">we went</font><font color="#CCCCCC"> back</font><font color="#E5E5E5"> towards the back end and</font>

127
00:05:00,989 --> 00:05:04,709
and and if you're a content provider

128
00:05:03,029 --> 00:05:06,899
there some parts<font color="#CCCCCC"> of</font><font color="#E5E5E5"> the network that</font>

129
00:05:04,709 --> 00:05:10,199
will never need to<font color="#E5E5E5"> see an ipv6 packet</font>

130
00:05:06,899 --> 00:05:12,029
you know for years<font color="#E5E5E5"> and and so you can</font>

131
00:05:10,199 --> 00:05:13,379
use before<font color="#E5E5E5"> for those parts of network as</font>

132
00:05:12,029 --> 00:05:14,610
long as<font color="#CCCCCC"> you keep track of what your</font>

133
00:05:13,379 --> 00:05:17,399
original ipv6 address of the user

134
00:05:14,610 --> 00:05:20,219
connection was so what we did is we use

135
00:05:17,399 --> 00:05:21,509
this<font color="#E5E5E5"> this I think brilliant because it's</font>

136
00:05:20,219 --> 00:05:22,889
<font color="#E5E5E5">not my invention it's brilliant hat</font>

137
00:05:21,509 --> 00:05:25,799
called address corrosion where you take

138
00:05:22,889 --> 00:05:27,149
an ipv6 address you take out the non you

139
00:05:25,799 --> 00:05:29,279
take out the bits that the user<font color="#E5E5E5"> can</font>

140
00:05:27,149 --> 00:05:31,049
manipulate so typically the last 64 bits

141
00:05:29,279 --> 00:05:33,419
and you hash it into multicast and

142
00:05:31,049 --> 00:05:35,609
reserved space so your application that

143
00:05:33,419 --> 00:05:37,529
expensive afford was still gets a v4

144
00:05:35,609 --> 00:05:39,448
dress and there's enough space there is

145
00:05:37,529 --> 00:05:42,689
is 29 bits that you can still maintain

146
00:05:39,449 --> 00:05:45,209
some reasonable level of repeatability

147
00:05:42,689 --> 00:05:47,309
and blogging so you know who it<font color="#CCCCCC"> was</font>

148
00:05:45,209 --> 00:05:49,289
because the hash is one way and you

149
00:05:47,309 --> 00:05:52,469
potentially even could brute force it if

150
00:05:49,289 --> 00:05:54,209
it was a if necessary sometimes<font color="#E5E5E5"> this</font>

151
00:05:52,469 --> 00:05:56,189
isn't perfect some people logged<font color="#E5E5E5"> into</font>

152
00:05:54,209 --> 00:05:59,189
<font color="#E5E5E5">gmail and the system say your last login</font>

153
00:05:56,189 --> 00:06:01,799
is from<font color="#E5E5E5"> 238 blah de blah de blah we fix</font>

154
00:05:59,189 --> 00:06:04,429
<font color="#CCCCCC">that by saying initially we fix that by</font>

155
00:06:01,799 --> 00:06:08,578
saying your last login is unavailable

156
00:06:04,429 --> 00:06:10,558
but<font color="#E5E5E5"> this this this some this these shim</font>

157
00:06:08,579 --> 00:06:13,019
layers allow you to move forward<font color="#E5E5E5"> when</font>

158
00:06:10,559 --> 00:06:14,939
<font color="#E5E5E5">before all of your code has been updated</font>

159
00:06:13,019 --> 00:06:16,889
to do v6 because that's a large

160
00:06:14,939 --> 00:06:18,479
undertaking and and what we've been

161
00:06:16,889 --> 00:06:20,369
<font color="#CCCCCC">hearing from other content providers as</font>

162
00:06:18,479 --> 00:06:22,469
well is that there's for example

163
00:06:20,369 --> 00:06:24,839
<font color="#E5E5E5">Facebook who recently lost their launch</font>

164
00:06:22,469 --> 00:06:26,669
their ipv6 website at what we've been

165
00:06:24,839 --> 00:06:29,159
hearing is that the amount<font color="#E5E5E5"> of work to</font>

166
00:06:26,669 --> 00:06:30,839
audit all the code is<font color="#CCCCCC"> is the long pole</font>

167
00:06:29,159 --> 00:06:33,119
and attend here for them they they just

168
00:06:30,839 --> 00:06:35,819
enable v6 on their loan balances and it

169
00:06:33,119 --> 00:06:37,739
just work so it took us<font color="#CCCCCC"> about a year and</font>

170
00:06:35,819 --> 00:06:40,279
a half<font color="#E5E5E5"> to do to get from from a place</font>

171
00:06:37,739 --> 00:06:42,299
where we<font color="#E5E5E5"> started to where we had all</font>

172
00:06:40,279 --> 00:06:45,689
Google services or most of<font color="#E5E5E5"> them</font>

173
00:06:42,300 --> 00:06:50,369
available over 56 talk about how

174
00:06:45,689 --> 00:06:53,879
we do that you'll note that<font color="#CCCCCC"> YouTube was</font>

175
00:06:50,369 --> 00:06:55,769
one of the last pieces and that was due

176
00:06:53,879 --> 00:06:58,860
to hardware issues you'll note that the

177
00:06:55,769 --> 00:07:00,360
<font color="#CCCCCC">back one youtube was</font><font color="#E5E5E5"> not back blocked on</font>

178
00:06:58,860 --> 00:07:02,610
the<font color="#E5E5E5"> background you being dual stack we</font>

179
00:07:00,360 --> 00:07:05,249
turned on<font color="#CCCCCC"> YouTube and then for other</font>

180
00:07:02,610 --> 00:07:06,809
reasons the backbone<font color="#CCCCCC"> cake so you don't</font>

181
00:07:05,249 --> 00:07:08,129
<font color="#E5E5E5">really necessarily need a dual stack</font>

182
00:07:06,809 --> 00:07:10,469
backbone the only thing that you<font color="#E5E5E5"> need is</font>

183
00:07:08,129 --> 00:07:12,299
something that's production quality so

184
00:07:10,469 --> 00:07:17,669
whatever technology you use to do that

185
00:07:12,299 --> 00:07:21,209
is fine so we can't enable the reason

186
00:07:17,669 --> 00:07:23,099
why<font color="#E5E5E5"> you don't do you can't do have a v6</font>

187
00:07:21,209 --> 00:07:26,249
look up for<font color="#CCCCCC"> download at google com you</font>

188
00:07:23,099 --> 00:07:28,889
may know<font color="#E5E5E5"> this is that we can't do that</font>

189
00:07:26,249 --> 00:07:30,839
or about 0.1 percent of users won't

190
00:07:28,889 --> 00:07:33,059
reach Google anymore and and we<font color="#E5E5E5"> have the</font>

191
00:07:30,839 --> 00:07:35,789
data to prove<font color="#CCCCCC"> that so this is</font>

192
00:07:33,059 --> 00:07:38,779
unacceptable to us and I'll talk later

193
00:07:35,789 --> 00:07:41,519
on about the exact about the issues here

194
00:07:38,779 --> 00:07:45,389
<font color="#CCCCCC">so we but we do it on demand so if your</font>

195
00:07:41,519 --> 00:07:48,179
DNS servers in is in is in a the

196
00:07:45,389 --> 00:07:50,669
whitelist then you can get v6 records

197
00:07:48,179 --> 00:07:52,289
for almost Google properties the

198
00:07:50,669 --> 00:07:53,789
<font color="#E5E5E5">requirements a good v6 connectivity to</font>

199
00:07:52,289 --> 00:07:56,099
<font color="#CCCCCC">Google or production</font><font color="#E5E5E5"> quality v6</font>

200
00:07:53,789 --> 00:07:57,509
networking support and acceptable levels

201
00:07:56,099 --> 00:08:01,079
of users of breakage which is much

202
00:07:57,509 --> 00:08:02,939
harder<font color="#E5E5E5"> than it sounds so again yeah if</font>

203
00:08:01,079 --> 00:08:06,329
your if your DNS servers in<font color="#CCCCCC"> the in the</font>

204
00:08:02,939 --> 00:08:07,649
whitelist you'll get v6 addresses for

205
00:08:06,329 --> 00:08:09,300
most Google properties and it will just

206
00:08:07,649 --> 00:08:13,649
work your traffic will just start

207
00:08:09,300 --> 00:08:14,789
flowing over v6 and your users will be

208
00:08:13,649 --> 00:08:16,199
<font color="#E5E5E5">happy because they've</font><font color="#CCCCCC"> been using</font><font color="#E5E5E5"> these</font>

209
00:08:14,789 --> 00:08:17,459
six and actually user will<font color="#CCCCCC"> be happy</font>

210
00:08:16,199 --> 00:08:21,899
because they don't know<font color="#E5E5E5"> they're using v6</font>

211
00:08:17,459 --> 00:08:24,539
and that's the way<font color="#E5E5E5"> to be and so we've</font>

212
00:08:21,899 --> 00:08:26,399
<font color="#E5E5E5">had a theistic response um we've got to</font>

213
00:08:24,539 --> 00:08:28,259
<font color="#CCCCCC">think maybe</font><font color="#E5E5E5"> a hundred organizations</font>

214
00:08:26,399 --> 00:08:29,459
participating a lot most of the v6

215
00:08:28,259 --> 00:08:31,399
internet that we see through all<font color="#E5E5E5"> the</font>

216
00:08:29,459 --> 00:08:34,589
measurements is actually in the program

217
00:08:31,399 --> 00:08:35,909
the thing is<font color="#CCCCCC"> that in honor managed</font>

218
00:08:34,589 --> 00:08:38,490
networks like residential eyes<font color="#CCCCCC"> peer</font>

219
00:08:35,909 --> 00:08:40,729
support is orange a problem so some some

220
00:08:38,490 --> 00:08:43,558
low number of<font color="#E5E5E5"> users may have broken</font>

221
00:08:40,729 --> 00:08:45,000
connectivity at home and they can't get

222
00:08:43,558 --> 00:08:46,680
<font color="#CCCCCC">to google and you know what everything</font>

223
00:08:45,000 --> 00:08:49,379
<font color="#E5E5E5">else works so it must be google problem</font>

224
00:08:46,680 --> 00:08:50,969
right so it's not there you know that

225
00:08:49,379 --> 00:08:52,170
their home gateway is trying to do 64

226
00:08:50,970 --> 00:08:53,759
behind in<font color="#E5E5E5"> that and that's not going to</font>

227
00:08:52,170 --> 00:08:55,959
work so from the users perspective

228
00:08:53,759 --> 00:08:57,460
<font color="#E5E5E5">google as broken as they can go to</font>

229
00:08:55,960 --> 00:09:00,130
they can go to whatever are the website

230
00:08:57,460 --> 00:09:02,320
<font color="#CCCCCC">and</font><font color="#E5E5E5"> that works so they may not</font><font color="#CCCCCC"> even call</font>

231
00:09:00,130 --> 00:09:07,360
them I speak now<font color="#CCCCCC"> she'll</font><font color="#E5E5E5"> Google Google's</font>

232
00:09:02,320 --> 00:09:09,160
broken today what if<font color="#CCCCCC"> we learn</font><font color="#E5E5E5"> testings</font>

233
00:09:07,360 --> 00:09:11,920
important implementations mostly work

234
00:09:09,160 --> 00:09:13,780
but they do have bugs nobody's really

235
00:09:11,920 --> 00:09:15,760
kick the tires so if it's something

236
00:09:13,780 --> 00:09:18,520
supported<font color="#CCCCCC"> that</font><font color="#E5E5E5"> may not actually work if</font>

237
00:09:15,760 --> 00:09:20,380
you find a bug report it and keep

238
00:09:18,520 --> 00:09:21,790
testing don't block don't block on

239
00:09:20,380 --> 00:09:23,470
finding the<font color="#E5E5E5"> next vendor code release</font>

240
00:09:21,790 --> 00:09:26,290
because you<font color="#E5E5E5"> really don't have time for</font>

241
00:09:23,470 --> 00:09:28,840
<font color="#E5E5E5">that anymore I mean if you find one bug</font>

242
00:09:26,290 --> 00:09:29,770
every three months then I don't know

243
00:09:28,840 --> 00:09:32,650
that you're<font color="#E5E5E5"> going to get this done</font>

244
00:09:29,770 --> 00:09:34,720
because<font color="#E5E5E5"> um so what we did is we we in</font>

245
00:09:32,650 --> 00:09:37,480
some potato occurrences we worked

246
00:09:34,720 --> 00:09:39,250
rounded in the design we sort<font color="#E5E5E5"> of put we</font>

247
00:09:37,480 --> 00:09:40,960
put more<font color="#CCCCCC"> crowns</font><font color="#E5E5E5"> in and we actually trial</font>

248
00:09:39,250 --> 00:09:42,040
it in<font color="#CCCCCC"> production and we put it into</font>

249
00:09:40,960 --> 00:09:43,870
production when we were confident that

250
00:09:42,040 --> 00:09:45,730
was going to<font color="#E5E5E5"> work maybe it wasn't as</font>

251
00:09:43,870 --> 00:09:47,290
pretty but allowed us to find<font color="#E5E5E5"> it allowed</font>

252
00:09:45,730 --> 00:09:49,230
us to find the other<font color="#E5E5E5"> bugs the ones that</font>

253
00:09:47,290 --> 00:09:52,750
<font color="#CCCCCC">were really hard to find like these</font><font color="#E5E5E5"> ones</font>

254
00:09:49,230 --> 00:09:55,690
so for example if if we're a firewall

255
00:09:52,750 --> 00:09:58,210
filter has a<font color="#CCCCCC"> 1-bit match in bits 32 to</font>

256
00:09:55,690 --> 00:10:00,040
64 and then<font color="#CCCCCC"> a two-bit match in with 64</font>

257
00:09:58,210 --> 00:10:03,850
296 then the second term will not match

258
00:10:00,040 --> 00:10:05,770
on this chipset on this family<font color="#CCCCCC"> in this</font>

259
00:10:03,850 --> 00:10:07,740
version so are<font color="#E5E5E5"> you going to find that in</font>

260
00:10:05,770 --> 00:10:10,240
the lab well we didn't find it in lab so

261
00:10:07,740 --> 00:10:11,950
then the only<font color="#E5E5E5"> way we found this was that</font>

262
00:10:10,240 --> 00:10:15,040
a BGP pairing went down somewhere in<font color="#E5E5E5"> our</font>

263
00:10:11,950 --> 00:10:17,380
network<font color="#E5E5E5"> and so yeah good luck finding</font>

264
00:10:15,040 --> 00:10:19,810
<font color="#CCCCCC">that and then race conditions between</font>

265
00:10:17,380 --> 00:10:22,030
fibbin rip updates they get out of sync

266
00:10:19,810 --> 00:10:23,979
oh yeah we worked around that for before

267
00:10:22,030 --> 00:10:27,640
<font color="#E5E5E5">in this way and we just forgot</font><font color="#CCCCCC"> to put</font>

268
00:10:23,980 --> 00:10:29,740
that<font color="#E5E5E5"> info v6 again the vendor is fixing</font>

269
00:10:27,640 --> 00:10:31,420
it but you know it took time I mean we

270
00:10:29,740 --> 00:10:34,630
only found this one too after months in

271
00:10:31,420 --> 00:10:36,250
a large number of date senses if<font color="#CCCCCC"> dad</font>

272
00:10:34,630 --> 00:10:37,689
triggers duplicated rest affection

273
00:10:36,250 --> 00:10:39,070
triggers usually looping an interface

274
00:10:37,690 --> 00:10:40,600
you have to remove<font color="#E5E5E5"> the config from your</font>

275
00:10:39,070 --> 00:10:43,650
face and<font color="#CCCCCC"> put it</font><font color="#E5E5E5"> back you can't just shut</font>

276
00:10:40,600 --> 00:10:46,750
it down because that's how it was so

277
00:10:43,650 --> 00:10:49,600
again that takes that but these bugs

278
00:10:46,750 --> 00:10:51,160
didn't take time to find and fix so

279
00:10:49,600 --> 00:10:54,550
rather<font color="#E5E5E5"> than show you some statistics</font>

280
00:10:51,160 --> 00:10:57,850
about how how ipv6 is only in<font color="#CCCCCC"> France and</font>

281
00:10:54,550 --> 00:10:59,770
sort of I'd like to<font color="#E5E5E5"> show you how this</font>

282
00:10:57,850 --> 00:11:03,340
thing supposed to work and how we<font color="#E5E5E5"> seeing</font>

283
00:10:59,770 --> 00:11:05,980
<font color="#E5E5E5">that you see this work so I'm in using a</font>

284
00:11:03,340 --> 00:11:08,680
resolver that's in the white list so I

285
00:11:05,980 --> 00:11:09,720
basically just get you know v6 and

286
00:11:08,680 --> 00:11:14,819
before addresses for

287
00:11:09,720 --> 00:11:16,500
google com so I can<font color="#E5E5E5"> just do this and I</font>

288
00:11:14,819 --> 00:11:19,378
can go to and<font color="#CCCCCC"> then there's</font><font color="#E5E5E5"> my packets</font>

289
00:11:16,500 --> 00:11:25,170
this is TCP dump and and then I can do

290
00:11:19,379 --> 00:11:28,889
you know I can go to maps and I can well

291
00:11:25,170 --> 00:11:30,300
actually I can but I can like this I can

292
00:11:28,889 --> 00:11:31,949
just<font color="#E5E5E5"> drag the wrap around and you'll</font>

293
00:11:30,300 --> 00:11:33,420
just see the v6 packets flying and

294
00:11:31,949 --> 00:11:34,889
there's the user just<font color="#E5E5E5"> doesn't notice</font>

295
00:11:33,420 --> 00:11:37,050
<font color="#E5E5E5">that</font><font color="#CCCCCC"> they're using</font><font color="#E5E5E5"> these six so this is</font>

296
00:11:34,889 --> 00:11:39,540
<font color="#CCCCCC">how we think it should work and it's</font>

297
00:11:37,050 --> 00:11:41,459
working except for you know<font color="#E5E5E5"> there's one</font>

298
00:11:39,540 --> 00:11:47,670
in<font color="#E5E5E5"> 10,000 years or 1,000 uses they were</font>

299
00:11:41,459 --> 00:11:55,439
broken so on<font color="#CCCCCC"> that note so what's the</font>

300
00:11:47,670 --> 00:11:57,209
problem<font color="#E5E5E5"> here we're we're so the problem</font>

301
00:11:55,439 --> 00:11:59,879
<font color="#E5E5E5">is that most applications on the client</font>

302
00:11:57,209 --> 00:12:02,209
side including web browsers are using

303
00:11:59,879 --> 00:12:05,160
the paradigm that was written by integer

304
00:12:02,209 --> 00:12:06,869
1998 or something the canonical<font color="#CCCCCC"> source</font>

305
00:12:05,160 --> 00:12:08,339
<font color="#CCCCCC">is</font><font color="#E5E5E5"> that the way you do it is do you call</font>

306
00:12:06,870 --> 00:12:09,870
get a dream fo you get a list of IP

307
00:12:08,339 --> 00:12:12,410
addresses<font color="#E5E5E5"> and you connect</font><font color="#CCCCCC"> to them one by</font>

308
00:12:09,870 --> 00:12:15,000
one and use the first one<font color="#CCCCCC"> that works and</font>

309
00:12:12,410 --> 00:12:16,769
get a drain for<font color="#E5E5E5"> usually returns up you</font><font color="#CCCCCC"> 6</font>

310
00:12:15,000 --> 00:12:18,389
first so the application will try v6 and

311
00:12:16,769 --> 00:12:20,639
if it's not available<font color="#CCCCCC"> it will try ill</font>

312
00:12:18,389 --> 00:12:22,290
fall back to<font color="#E5E5E5"> the form so the records</font>

313
00:12:20,639 --> 00:12:24,360
fail and time out one by one and then

314
00:12:22,290 --> 00:12:25,829
goes to v4 so how bad could that get

315
00:12:24,360 --> 00:12:28,680
knew you'd<font color="#CCCCCC"> think it would work but</font><font color="#E5E5E5"> it</font>

316
00:12:25,829 --> 00:12:30,689
doesn't not sometimes it doesn't so

317
00:12:28,680 --> 00:12:32,878
there's various failure modes you can if

318
00:12:30,689 --> 00:12:34,949
the address the failure can be local to

319
00:12:32,879 --> 00:12:36,269
the host so you don't ever be<font color="#CCCCCC"> 6 dress</font>

320
00:12:34,949 --> 00:12:38,128
you don't have a<font color="#CCCCCC"> root</font><font color="#E5E5E5"> so you try to</font>

321
00:12:36,269 --> 00:12:40,050
connect from it fails immediately that's

322
00:12:38,129 --> 00:12:42,149
that's fine there's no problem if the

323
00:12:40,050 --> 00:12:44,069
application does fall back to<font color="#E5E5E5"> v4 for</font>

324
00:12:42,149 --> 00:12:45,420
example if it isn't Java and I put<font color="#CCCCCC"> that</font>

325
00:12:44,069 --> 00:12:47,219
down<font color="#CCCCCC"> to the fact that the</font><font color="#E5E5E5"> Java API is</font>

326
00:12:45,420 --> 00:12:50,250
were designed a long time ago before v6

327
00:12:47,220 --> 00:12:51,930
<font color="#E5E5E5">was actually really being deployed but</font>

328
00:12:50,250 --> 00:12:53,850
<font color="#CCCCCC">again in most cases this works right you</font>

329
00:12:51,930 --> 00:12:56,449
get a local arrow it's fast and you just

330
00:12:53,850 --> 00:12:59,069
move on with life and youth before

331
00:12:56,449 --> 00:13:01,199
network error Reuters can reply to sim

332
00:12:59,069 --> 00:13:02,459
packets with our mutuals and depending

333
00:13:01,199 --> 00:13:04,019
on the stack you'll either use them or

334
00:13:02,459 --> 00:13:07,229
you're either terminate the connection

335
00:13:04,019 --> 00:13:09,689
or not most<font color="#E5E5E5"> of most stacks don't</font>

336
00:13:07,230 --> 00:13:11,160
actually give up on TCP connections when

337
00:13:09,689 --> 00:13:12,779
they get unreachable so what other

338
00:13:11,160 --> 00:13:16,230
people have done in networks were there

339
00:13:12,779 --> 00:13:18,209
is v6 but no public v6 and no access to

340
00:13:16,230 --> 00:13:20,910
the real v6 internet they send reset

341
00:13:18,209 --> 00:13:22,939
packets they spoof reset packets that

342
00:13:20,910 --> 00:13:25,160
works better then there's

343
00:13:22,940 --> 00:13:28,970
calling MTU holes<font color="#E5E5E5"> there's lots of</font>

344
00:13:25,160 --> 00:13:31,250
failure scenarios so local failure is

345
00:13:28,970 --> 00:13:32,540
fast with unreachable as you get a

346
00:13:31,250 --> 00:13:35,900
<font color="#E5E5E5">timeout that depends on the OS and</font>

347
00:13:32,540 --> 00:13:37,219
windows it takes 20 seconds and Mac it

348
00:13:35,900 --> 00:13:38,720
takes four seconds and then it's

349
00:13:37,220 --> 00:13:42,350
actually<font color="#CCCCCC"> owners unreachable so that it</font>

350
00:13:38,720 --> 00:13:44,120
just comes back immediately MTU holes

351
00:13:42,350 --> 00:13:46,670
take longer I mean it takes<font color="#E5E5E5"> with the</font>

352
00:13:44,120 --> 00:13:48,860
order of seconds one thing to note that

353
00:13:46,670 --> 00:13:50,479
even if all the failures are fast some

354
00:13:48,860 --> 00:13:52,490
applications like<font color="#E5E5E5"> Internet Explorer</font><font color="#CCCCCC"> just</font>

355
00:13:50,480 --> 00:13:54,380
give up after<font color="#E5E5E5"> five tries so if you</font>

356
00:13:52,490 --> 00:13:57,380
<font color="#E5E5E5">happen to have six addresses for jumbo</font>

357
00:13:54,380 --> 00:13:59,630
gumbo google com then<font color="#CCCCCC"> ie7</font><font color="#E5E5E5"> just won't</font>

358
00:13:57,380 --> 00:14:03,080
work if you have broken<font color="#CCCCCC"> pieces</font><font color="#E5E5E5"> you just</font>

359
00:13:59,630 --> 00:14:05,180
will fail so<font color="#E5E5E5"> that's unexpectable</font>

360
00:14:03,080 --> 00:14:06,500
obviously<font color="#E5E5E5"> I mean who wants to wait two</font>

361
00:14:05,180 --> 00:14:10,189
minutes for the Google homepage to come

362
00:14:06,500 --> 00:14:11,720
up not me and so we can mitigate the

363
00:14:10,190 --> 00:14:13,130
damage by publishing only one<font color="#CCCCCC"> chordate</font>

364
00:14:11,720 --> 00:14:16,640
record we currently publish the same

365
00:14:13,130 --> 00:14:18,200
number<font color="#CCCCCC"> of v4 and v6 records but we can</font>

366
00:14:16,640 --> 00:14:19,760
move that down to one<font color="#E5E5E5"> although it's</font>

367
00:14:18,200 --> 00:14:21,350
still a 20-second timeout like would you

368
00:14:19,760 --> 00:14:22,819
want a 20-second timeout every time you

369
00:14:21,350 --> 00:14:26,440
go to Google<font color="#E5E5E5"> or every map tile you load</font>

370
00:14:22,820 --> 00:14:29,600
probably not so what's going wrong so

371
00:14:26,440 --> 00:14:31,790
<font color="#E5E5E5">often it's due to 64 and gateways that</font>

372
00:14:29,600 --> 00:14:34,310
were shipped in past years with token

373
00:14:31,790 --> 00:14:36,949
checkbox v6 support that in order to for

374
00:14:34,310 --> 00:14:40,670
example have some certification

375
00:14:36,950 --> 00:14:42,350
compliance badge on on on the<font color="#E5E5E5"> box in</font>

376
00:14:40,670 --> 00:14:44,150
some cases you can go to a hidden page

377
00:14:42,350 --> 00:14:46,460
to turn this off in some cases you can't

378
00:14:44,150 --> 00:14:48,020
I know<font color="#E5E5E5"> that Paul has a v6 route and you</font>

379
00:14:46,460 --> 00:14:50,120
can't turn it off<font color="#CCCCCC"> and it just breaks as</font>

380
00:14:48,020 --> 00:14:51,710
v6 connectivity and this will break

381
00:14:50,120 --> 00:14:53,000
things even if you have real v6

382
00:14:51,710 --> 00:14:54,590
connectivity because the host will

383
00:14:53,000 --> 00:14:56,990
choose whichever route for advertisement

384
00:14:54,590 --> 00:14:58,640
you send out<font color="#CCCCCC"> it's it received last so</font>

385
00:14:56,990 --> 00:15:00,470
even if you have working v6 and you have

386
00:14:58,640 --> 00:15:02,750
one of<font color="#E5E5E5"> these boxes your internet</font>

387
00:15:00,470 --> 00:15:05,630
connection will have broken v6 you'll go

388
00:15:02,750 --> 00:15:07,850
<font color="#E5E5E5">it best you'll get a latency increase at</font>

389
00:15:05,630 --> 00:15:09,770
worst it won't work Reuters have been

390
00:15:07,850 --> 00:15:12,200
known to turn on 64 with private

391
00:15:09,770 --> 00:15:14,390
addresses that won't<font color="#CCCCCC"> work 64 requires a</font>

392
00:15:12,200 --> 00:15:17,480
public address but implementations

393
00:15:14,390 --> 00:15:19,750
didn't think of that it seems so yep I

394
00:15:17,480 --> 00:15:22,220
need to get my summer picnic ticket

395
00:15:19,750 --> 00:15:23,810
implementations don't think of the

396
00:15:22,220 --> 00:15:25,880
things that 64 using private addresses

397
00:15:23,810 --> 00:15:27,319
won't work and they<font color="#E5E5E5"> just turn</font><font color="#CCCCCC"> it on</font>

398
00:15:25,880 --> 00:15:28,660
anyway and guess that guess<font color="#E5E5E5"> what that's</font>

399
00:15:27,320 --> 00:15:37,389
never going to work

400
00:15:28,660 --> 00:15:40,029
so so there's also problems in the hosts

401
00:15:37,389 --> 00:15:41,740
right host may prefer the sixth for

402
00:15:40,029 --> 00:15:43,029
Rueter over the native<font color="#E5E5E5"> root unlike in</font>

403
00:15:41,740 --> 00:15:45,939
the case where you have to Reuters and

404
00:15:43,029 --> 00:15:47,860
<font color="#CCCCCC">one is doing 64 and one is not for</font>

405
00:15:45,939 --> 00:15:50,709
example<font color="#E5E5E5"> 64 Rooter just happens to say</font>

406
00:15:47,860 --> 00:15:53,170
that are raised more frequently also the

407
00:15:50,709 --> 00:15:55,540
host may prefer using 624 dress actually

408
00:15:53,170 --> 00:15:58,420
using a v6 connection instead of a v4

409
00:15:55,540 --> 00:16:01,269
connection that can happen if the host

410
00:15:58,420 --> 00:16:03,490
is not using the proper RFC compliant

411
00:16:01,269 --> 00:16:05,379
getaddrinfo or if it's using private

412
00:16:03,490 --> 00:16:08,620
addresses and this is a known issue with

413
00:16:05,379 --> 00:16:11,680
the with the RFC or if you have a v6 a

414
00:16:08,620 --> 00:16:14,199
v6 public address from six to four and<font color="#E5E5E5"> a</font>

415
00:16:11,680 --> 00:16:15,638
v4 private address the<font color="#CCCCCC"> the stack will</font>

416
00:16:14,199 --> 00:16:16,990
think oh and<font color="#CCCCCC"> this private address can't</font>

417
00:16:15,639 --> 00:16:20,470
connect to a global address let me use

418
00:16:16,990 --> 00:16:22,990
v6 instead and usually v6 using 64 is

419
00:16:20,470 --> 00:16:24,910
not particularly reliable and similar

420
00:16:22,990 --> 00:16:26,829
considerations for<font color="#CCCCCC"> torito torito's</font>

421
00:16:24,910 --> 00:16:28,600
basically a nightmare for<font color="#CCCCCC"> short live</font>

422
00:16:26,829 --> 00:16:32,469
connections is high<font color="#E5E5E5"> setup times it's</font>

423
00:16:28,600 --> 00:16:34,089
it's it's got a huge matrix times or it

424
00:16:32,470 --> 00:16:35,620
works doesn't work twice different you

425
00:16:34,089 --> 00:16:37,389
know connection<font color="#E5E5E5"> types different gateways</font>

426
00:16:35,620 --> 00:16:40,060
most implementations don't use three

427
00:16:37,389 --> 00:16:43,029
total and then there's always host

428
00:16:40,060 --> 00:16:46,119
firewalls that might block ICMP I icmpv6

429
00:16:43,029 --> 00:16:47,709
killing your v6 connection might not

430
00:16:46,120 --> 00:16:51,939
understand v6 at all<font color="#E5E5E5"> and just rocket</font>

431
00:16:47,709 --> 00:16:53,920
excuse me um this one's my favorite um

432
00:16:51,939 --> 00:16:56,380
again don't don't look at the MAC

433
00:16:53,920 --> 00:16:58,750
addresses here please it's stuff that

434
00:16:56,380 --> 00:17:01,120
this is not<font color="#CCCCCC"> the purpose is not to say oh</font>

435
00:16:58,750 --> 00:17:04,059
this vendor did this wrong but you know

436
00:17:01,120 --> 00:17:05,980
what happens here<font color="#CCCCCC"> is that there's a</font>

437
00:17:04,059 --> 00:17:07,569
<font color="#CCCCCC">Rooter on on the home network and this</font>

438
00:17:05,980 --> 00:17:09,039
is this comes from a user by the<font color="#E5E5E5"> way who</font>

439
00:17:07,569 --> 00:17:11,289
said I can't get to Google what's the

440
00:17:09,039 --> 00:17:13,569
problem and we helped you know we help

441
00:17:11,289 --> 00:17:15,819
debug it and so this gateway is sending

442
00:17:13,569 --> 00:17:21,099
<font color="#E5E5E5">out a</font><font color="#CCCCCC"> route or advertisement with 0 with</font>

443
00:17:15,819 --> 00:17:23,199
a zero prefix 000000 / 64 and that's not

444
00:17:21,099 --> 00:17:25,958
<font color="#E5E5E5">even a unicast address it's not in</font>

445
00:17:23,199 --> 00:17:27,630
unicast space it's in reserved space but

446
00:17:25,959 --> 00:17:31,570
the<font color="#E5E5E5"> host happily accepts it and use it</font>

447
00:17:27,630 --> 00:17:33,100
and and it tries to connect and the

448
00:17:31,570 --> 00:17:34,780
Rooter says actually I don't<font color="#E5E5E5"> really</font><font color="#CCCCCC"> have</font>

449
00:17:33,100 --> 00:17:36,100
a default route I was telling you that<font color="#CCCCCC"> I</font>

450
00:17:34,780 --> 00:17:37,629
had a default route but I<font color="#E5E5E5"> don't really</font>

451
00:17:36,100 --> 00:17:38,800
<font color="#CCCCCC">have one so I'm</font><font color="#E5E5E5"> sending you back in</font>

452
00:17:37,630 --> 00:17:41,320
unreachable

453
00:17:38,800 --> 00:17:44,020
the host ignores it so the<font color="#E5E5E5"> host and</font><font color="#CCCCCC"> sim</font>

454
00:17:41,320 --> 00:17:45,340
and<font color="#E5E5E5"> the river says nope unreachable the</font>

455
00:17:44,020 --> 00:17:47,260
house and sin and<font color="#CCCCCC"> the</font><font color="#E5E5E5"> root says</font>

456
00:17:45,340 --> 00:17:49,149
unreachable and this goes on for four

457
00:17:47,260 --> 00:17:50,800
seconds and then what happens is that

458
00:17:49,150 --> 00:17:52,180
the host says wait my route is not

459
00:17:50,800 --> 00:17:54,460
working let me ping it to see if it's

460
00:17:52,180 --> 00:17:55,810
working Reuters working and then the

461
00:17:54,460 --> 00:17:58,030
hood says okay this<font color="#E5E5E5"> food is working let</font>

462
00:17:55,810 --> 00:17:59,169
me try the next address so try to

463
00:17:58,030 --> 00:18:02,620
connect the next rest and there's

464
00:17:59,170 --> 00:18:05,140
<font color="#E5E5E5">another four seconds</font><font color="#CCCCCC"> so this took 24</font>

465
00:18:02,620 --> 00:18:07,060
second and the user was just sitting

466
00:18:05,140 --> 00:18:11,020
there and the browser was spinning and

467
00:18:07,060 --> 00:18:12,760
that's<font color="#E5E5E5"> not what we want to see so how do</font>

468
00:18:11,020 --> 00:18:14,260
<font color="#E5E5E5">we measure this so it's similar to what</font>

469
00:18:12,760 --> 00:18:16,570
we we've done<font color="#CCCCCC"> before and what others</font>

470
00:18:14,260 --> 00:18:18,700
have done before<font color="#E5E5E5"> with a few tweaks we're</font>

471
00:18:16,570 --> 00:18:21,060
basically we<font color="#CCCCCC"> ask</font><font color="#E5E5E5"> the browser that could</font>

472
00:18:18,700 --> 00:18:23,560
be<font color="#E5E5E5"> for only site and a dual stack site</font>

473
00:18:21,060 --> 00:18:26,200
using available<font color="#CCCCCC"> in visible elements on a</font>

474
00:18:23,560 --> 00:18:28,300
web page and then we we measure<font color="#CCCCCC"> the</font>

475
00:18:26,200 --> 00:18:30,220
results so we're using long-lived

476
00:18:28,300 --> 00:18:32,230
<font color="#E5E5E5">websites like YouTube</font><font color="#CCCCCC"> and Gmail</font><font color="#E5E5E5"> because</font>

477
00:18:30,220 --> 00:18:34,360
we want to confirm<font color="#CCCCCC"> that the user was was</font>

478
00:18:32,230 --> 00:18:37,000
still there after<font color="#E5E5E5"> after a given time</font>

479
00:18:34,360 --> 00:18:38,439
like 30 seconds because we really<font color="#CCCCCC"> want</font>

480
00:18:37,000 --> 00:18:40,720
to<font color="#E5E5E5"> make sure that the fact that the user</font>

481
00:18:38,440 --> 00:18:42,280
couldn't reach a v6 website was<font color="#CCCCCC"> not due</font>

482
00:18:40,720 --> 00:18:44,500
to the fact that he disconnected between

483
00:18:42,280 --> 00:18:45,910
the two measurements but due to<font color="#E5E5E5"> the fact</font>

484
00:18:44,500 --> 00:18:47,620
that<font color="#CCCCCC"> he actually couldn't get to the v6</font>

485
00:18:45,910 --> 00:18:49,270
website after<font color="#E5E5E5"> 30 seconds the user was</font>

486
00:18:47,620 --> 00:18:51,399
still there and<font color="#E5E5E5"> he still hadn't clocked</font>

487
00:18:49,270 --> 00:18:53,350
in over to a dual stack website so it's

488
00:18:51,400 --> 00:18:56,140
so he has some issue that's breaking

489
00:18:53,350 --> 00:18:57,760
connectivity we use<font color="#CCCCCC"> javascript to make</font>

490
00:18:56,140 --> 00:19:00,490
multiple requests for the<font color="#E5E5E5"> same session</font>

491
00:18:57,760 --> 00:19:03,370
and we that allows us<font color="#E5E5E5"> to do other</font>

492
00:19:00,490 --> 00:19:06,070
measurements like MTU measurements and

493
00:19:03,370 --> 00:19:07,780
measurements with glue records there's

494
00:19:06,070 --> 00:19:10,090
various other websites that can do<font color="#E5E5E5"> this</font>

495
00:19:07,780 --> 00:19:11,980
for example<font color="#CCCCCC"> if you go to test ipv6 com</font>

496
00:19:10,090 --> 00:19:14,470
you can actually<font color="#E5E5E5"> test your own v6</font>

497
00:19:11,980 --> 00:19:16,930
connection and we have a<font color="#CCCCCC"> sensor law</font>

498
00:19:14,470 --> 00:19:18,160
<font color="#CCCCCC">after</font><font color="#E5E5E5"> given time again to to catch the</font>

499
00:19:16,930 --> 00:19:21,250
case where user disconnects between

500
00:19:18,160 --> 00:19:22,720
requests and we use one time host names

501
00:19:21,250 --> 00:19:25,480
so that we can uniquely identify

502
00:19:22,720 --> 00:19:27,190
multiple requests and we also find<font color="#E5E5E5"> out</font>

503
00:19:25,480 --> 00:19:30,010
<font color="#CCCCCC">if that if the browser actually made a</font>

504
00:19:27,190 --> 00:19:33,190
quad a request we might<font color="#E5E5E5"> be able to see</font>

505
00:19:30,010 --> 00:19:36,310
if some home gateway takes 30 seconds or

506
00:19:33,190 --> 00:19:37,900
<font color="#E5E5E5">times out quoi de quoi de questions and</font>

507
00:19:36,310 --> 00:19:39,340
<font color="#E5E5E5">also it will prevent the browser from</font>

508
00:19:37,900 --> 00:19:42,040
crashing the JavaScript so we can change

509
00:19:39,340 --> 00:19:44,199
the measurement code so we have a

510
00:19:42,040 --> 00:19:45,520
reasonable data set we you have<font color="#E5E5E5"> about 10</font>

511
00:19:44,200 --> 00:19:47,740
million samples today this is<font color="#E5E5E5"> all</font>

512
00:19:45,520 --> 00:19:49,200
depends on<font color="#E5E5E5"> how</font><font color="#CCCCCC"> you know how many times</font>

513
00:19:47,740 --> 00:19:51,330
we decide to hand out the measure

514
00:19:49,200 --> 00:19:54,210
code we only have requests at the moment

515
00:19:51,330 --> 00:19:55,408
we're still analyzing the data the one

516
00:19:54,210 --> 00:19:57,419
point is that the daily numbers are

517
00:19:55,409 --> 00:19:58,830
stable so at this point we<font color="#E5E5E5"> have</font>

518
00:19:57,419 --> 00:20:01,830
reasonable confidence that these numbers

519
00:19:58,830 --> 00:20:03,990
are actually what we're going to see and

520
00:20:01,830 --> 00:20:06,000
before<font color="#CCCCCC"> also</font><font color="#E5E5E5"> has a nonzero failure right</font>

521
00:20:03,990 --> 00:20:08,100
but but but in our measurements at least

522
00:20:06,000 --> 00:20:09,630
there's a clear separation about<font color="#CCCCCC"> v4</font>

523
00:20:08,100 --> 00:20:11,459
failure rates and beasts and<font color="#E5E5E5"> jewel stack</font>

524
00:20:09,630 --> 00:20:13,350
and b6 failure rates so we know that

525
00:20:11,460 --> 00:20:15,990
<font color="#CCCCCC">this</font><font color="#E5E5E5"> problem exists we have reliable</font>

526
00:20:13,350 --> 00:20:19,080
data to prove it for the entire internet

527
00:20:15,990 --> 00:20:21,240
the number is I'd say unacceptably high

528
00:20:19,080 --> 00:20:24,418
0.09<font color="#E5E5E5"> percent those are the numbers for</font>

529
00:20:21,240 --> 00:20:27,120
15 live about two weeks latest two weeks

530
00:20:24,419 --> 00:20:28,799
and that's basically one in a thousand

531
00:20:27,120 --> 00:20:30,149
users can't get to Google anymore if we

532
00:20:28,799 --> 00:20:35,309
turn on v6 for the whole world and

533
00:20:30,149 --> 00:20:37,049
<font color="#E5E5E5">that's unacceptable if you the results</font>

534
00:20:35,309 --> 00:20:40,769
do vary per network if you take a large

535
00:20:37,049 --> 00:20:42,960
<font color="#E5E5E5">ISP it's this</font><font color="#CCCCCC"> particular ice P is 0.06</font>

536
00:20:40,769 --> 00:20:44,669
four percent and that's still if it's a

537
00:20:42,960 --> 00:20:46,169
10 million user ice P<font color="#E5E5E5"> that's still six</font>

538
00:20:44,669 --> 00:20:47,490
thousand users that can't get to Google

539
00:20:46,169 --> 00:20:49,019
anymore that's that's a lot of

540
00:20:47,490 --> 00:20:51,659
brokenness and something<font color="#CCCCCC"> that we're not</font>

541
00:20:49,019 --> 00:20:55,830
<font color="#CCCCCC">really</font><font color="#E5E5E5"> prepared to accept for a</font>

542
00:20:51,659 --> 00:20:57,659
whitelist ISP the spread between a nice

543
00:20:55,830 --> 00:20:59,639
p that's already in<font color="#E5E5E5"> the Google over ipv6</font>

544
00:20:57,659 --> 00:21:00,779
program that's getting the 6 records for

545
00:20:59,639 --> 00:21:06,090
all the properties<font color="#CCCCCC"> that we're measuring</font>

546
00:21:00,779 --> 00:21:07,289
on like<font color="#E5E5E5"> YouTube the spread</font><font color="#CCCCCC"> is less this</font>

547
00:21:06,090 --> 00:21:09,689
is actually a mistake in the site is

548
00:21:07,289 --> 00:21:11,010
less significant so if<font color="#CCCCCC"> we if we try to</font>

549
00:21:09,690 --> 00:21:13,080
measure a white list of network at the

550
00:21:11,010 --> 00:21:14,940
moment<font color="#E5E5E5"> we can't get a clearer we can't</font>

551
00:21:13,080 --> 00:21:16,439
get a clear signal we'll fix that by

552
00:21:14,940 --> 00:21:19,590
putting measurement on<font color="#E5E5E5"> a</font><font color="#CCCCCC"> non-white</font>

553
00:21:16,440 --> 00:21:20,850
<font color="#CCCCCC">listed host and</font><font color="#E5E5E5"> for different license we</font>

554
00:21:19,590 --> 00:21:22,620
have different numbers for the for the

555
00:21:20,850 --> 00:21:24,600
large eyes p above if you take all the

556
00:21:22,620 --> 00:21:27,989
clients again at 0.06 four percent if

557
00:21:24,600 --> 00:21:30,928
<font color="#E5E5E5">you take out max it drops about four or</font>

558
00:21:27,990 --> 00:21:34,049
five fold and and we<font color="#CCCCCC"> suspect that that</font>

559
00:21:30,929 --> 00:21:36,960
is because the RFC 348 for

560
00:21:34,049 --> 00:21:39,990
implementation and max does 624 before

561
00:21:36,960 --> 00:21:42,360
private before and and<font color="#E5E5E5"> I think after</font>

562
00:21:39,990 --> 00:21:44,220
<font color="#CCCCCC">slap i slashed outpost i think that the</font>

563
00:21:42,360 --> 00:21:45,418
<font color="#CCCCCC">apple developers</font><font color="#E5E5E5"> arrived this and we're</font>

564
00:21:44,220 --> 00:21:48,149
looking<font color="#E5E5E5"> forward to a fixed because that</font>

565
00:21:45,419 --> 00:21:51,470
would really improve the quality of

566
00:21:48,149 --> 00:21:54,360
service that<font color="#CCCCCC"> we can provide and again so</font>

567
00:21:51,470 --> 00:21:56,610
0.014 is still in<font color="#E5E5E5"> four nines</font><font color="#CCCCCC"> territory</font>

568
00:21:54,360 --> 00:21:58,229
so it's not<font color="#E5E5E5"> the best but it's</font>

569
00:21:56,610 --> 00:21:59,219
significantly better than the man umber

570
00:21:58,230 --> 00:22:02,080
above

571
00:21:59,220 --> 00:22:04,030
so how do we<font color="#E5E5E5"> fix this we can fix Reuters</font>

572
00:22:02,080 --> 00:22:05,230
and we can't<font color="#E5E5E5"> really we can't really fix</font>

573
00:22:04,030 --> 00:22:06,790
with us because you'd<font color="#CCCCCC"> have to upgrade</font>

574
00:22:05,230 --> 00:22:09,100
Reuters a lot of these<font color="#E5E5E5"> Reuters in the</font>

575
00:22:06,790 --> 00:22:10,510
homes aren't<font color="#CCCCCC"> upgradeable even if they</font>

576
00:22:09,100 --> 00:22:11,919
were the user typically doesn't know

577
00:22:10,510 --> 00:22:14,320
what the problem<font color="#E5E5E5"> is</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> would</font><font color="#CCCCCC"> just google</font>

578
00:22:11,920 --> 00:22:16,540
is broken today and what are they going

579
00:22:14,320 --> 00:22:18,010
to do they're going<font color="#E5E5E5"> to they might look</font>

580
00:22:16,540 --> 00:22:19,720
for a firmware upgrade but most users

581
00:22:18,010 --> 00:22:21,670
don't want to spend<font color="#E5E5E5"> their time on this</font>

582
00:22:19,720 --> 00:22:23,140
right so they'll just say oh let's move

583
00:22:21,670 --> 00:22:25,930
on let's go to some other website and

584
00:22:23,140 --> 00:22:28,570
stuff they might call their ice P we

585
00:22:25,930 --> 00:22:30,340
have seen<font color="#CCCCCC"> that they in it that we have</font>

586
00:22:28,570 --> 00:22:33,659
seen users not call high speeds and<font color="#E5E5E5"> just</font>

587
00:22:30,340 --> 00:22:36,580
my loss or just accept that it's broken

588
00:22:33,660 --> 00:22:38,140
so for house problems we can<font color="#E5E5E5"> work it</font>

589
00:22:36,580 --> 00:22:40,120
work around it in individual

590
00:22:38,140 --> 00:22:42,040
applications and a chrome or firefox we

591
00:22:40,120 --> 00:22:44,590
can't fix<font color="#CCCCCC"> IE we can't fix</font><font color="#E5E5E5"> Safari because</font>

592
00:22:42,040 --> 00:22:46,690
they're closed source really what what

593
00:22:44,590 --> 00:22:49,209
we really need here is is is the OS<font color="#CCCCCC"> is</font>

594
00:22:46,690 --> 00:22:50,500
to be a little smarter and unfortunately

595
00:22:49,210 --> 00:22:51,700
we have the situation<font color="#CCCCCC"> where there's a</font>

596
00:22:50,500 --> 00:22:53,020
lot of gear in the field as these

597
00:22:51,700 --> 00:22:54,820
thousands of users in<font color="#E5E5E5"> the field</font><font color="#CCCCCC"> that are</font>

598
00:22:53,020 --> 00:22:56,410
breaking connections<font color="#E5E5E5"> and the only place</font>

599
00:22:54,820 --> 00:22:58,810
to work<font color="#E5E5E5"> around the</font><font color="#CCCCCC"> israeli</font><font color="#E5E5E5"> the OS and</font>

600
00:22:56,410 --> 00:23:01,180
the OS can you know work around<font color="#CCCCCC"> reader</font>

601
00:22:58,810 --> 00:23:03,040
<font color="#E5E5E5">problems right there's various things</font>

602
00:23:01,180 --> 00:23:05,320
that<font color="#E5E5E5"> we can do here there's the happy</font>

603
00:23:03,040 --> 00:23:06,879
eyeballs raft and wing which is a

604
00:23:05,320 --> 00:23:10,030
general solution perhaps a little more

605
00:23:06,880 --> 00:23:11,620
complex than we need and it has to<font color="#E5E5E5"> be</font>

606
00:23:10,030 --> 00:23:14,350
<font color="#E5E5E5">implemented in every application or</font>

607
00:23:11,620 --> 00:23:17,080
there's the the OS could be a little

608
00:23:14,350 --> 00:23:20,320
<font color="#E5E5E5">smarter I mean I know that mac OS x is</font>

609
00:23:17,080 --> 00:23:22,840
plying<font color="#E5E5E5"> to do simultaneous connections to</font>

610
00:23:20,320 --> 00:23:24,280
v4 and v6 and of course that<font color="#CCCCCC"> increases</font>

611
00:23:22,840 --> 00:23:27,040
the load<font color="#CCCCCC"> on the server side right but</font>

612
00:23:24,280 --> 00:23:28,330
you know if it's only<font color="#CCCCCC"> a duplicate syn</font>

613
00:23:27,040 --> 00:23:31,690
packet<font color="#E5E5E5"> that's a whole lot</font><font color="#CCCCCC"> better than</font><font color="#E5E5E5"> a</font>

614
00:23:28,330 --> 00:23:33,010
user<font color="#E5E5E5"> the concat you at all so it also</font>

615
00:23:31,690 --> 00:23:35,710
conflicts and few holes but it would

616
00:23:33,010 --> 00:23:36,970
significantly improve the situation and

617
00:23:35,710 --> 00:23:38,620
one<font color="#E5E5E5"> other thing that we've seen that</font>

618
00:23:36,970 --> 00:23:40,210
windows does is when you connect and you

619
00:23:38,620 --> 00:23:42,340
get a<font color="#CCCCCC"> DHCP or you get an address from</font>

620
00:23:40,210 --> 00:23:44,440
dhcp it probes the network to verify if

621
00:23:42,340 --> 00:23:48,100
<font color="#CCCCCC">you have working connectivity and it</font>

622
00:23:44,440 --> 00:23:50,110
uses this to to pop up a helpful you

623
00:23:48,100 --> 00:23:52,389
don't have real connectivity bubble are

624
00:23:50,110 --> 00:23:53,800
you<font color="#E5E5E5"> behind a captive access point would</font>

625
00:23:52,390 --> 00:23:55,000
<font color="#E5E5E5">you like to connect to the internet to</font>

626
00:23:53,800 --> 00:23:58,149
figure out what's<font color="#E5E5E5"> wrong and perhaps</font>

627
00:23:55,000 --> 00:24:00,220
<font color="#CCCCCC">login and we might be able to extend</font>

628
00:23:58,150 --> 00:24:03,460
this for so that it did v6 probing as

629
00:24:00,220 --> 00:24:07,810
well it could one a user could even

630
00:24:03,460 --> 00:24:10,120
disable<font color="#E5E5E5"> ipv6 oh s</font><font color="#CCCCCC"> wide right</font><font color="#E5E5E5"> because</font><font color="#CCCCCC"> if</font>

631
00:24:07,810 --> 00:24:11,990
it's you know again one user in<font color="#E5E5E5"> 10,000</font>

632
00:24:10,120 --> 00:24:14,479
it's fine to disable ipv6

633
00:24:11,990 --> 00:24:16,130
because before works just fine right so

634
00:24:14,480 --> 00:24:18,620
but the fact that the<font color="#E5E5E5"> user is broken</font>

635
00:24:16,130 --> 00:24:21,559
doesn't allow us to use v6 because it

636
00:24:18,620 --> 00:24:23,178
would break the user so um yeah so these

637
00:24:21,559 --> 00:24:26,360
are the ideas that I have at the moment

638
00:24:23,179 --> 00:24:31,100
I think ultimately it has to be done

639
00:24:26,360 --> 00:24:32,300
that the OS level but I'm<font color="#CCCCCC"> I'd be I'd</font>

640
00:24:31,100 --> 00:24:34,250
<font color="#E5E5E5">love to hear any suggestions that the</font>

641
00:24:32,300 --> 00:24:36,470
floor has on this<font color="#E5E5E5"> because this is</font><font color="#CCCCCC"> a real</font>

642
00:24:34,250 --> 00:24:38,600
problem I kids the fact that we don't

643
00:24:36,470 --> 00:24:40,130
offer v6 on our on our main host names

644
00:24:38,600 --> 00:24:41,689
is not because we<font color="#E5E5E5"> can't because we have</font>

645
00:24:40,130 --> 00:24:43,520
the infrastructure to do it but we can

646
00:24:41,690 --> 00:24:47,380
and we can't because they will break

647
00:24:43,520 --> 00:24:57,139
users and we can't do that<font color="#E5E5E5"> so with that</font>

648
00:24:47,380 --> 00:25:00,710
any ideas<font color="#E5E5E5"> Leo picknelly I see I'm</font>

649
00:24:57,140 --> 00:25:02,540
curious<font color="#E5E5E5"> about those users that break I</font>

650
00:25:00,710 --> 00:25:04,790
know several people have done studies

651
00:25:02,540 --> 00:25:07,250
without in the past including Google I'm

652
00:25:04,790 --> 00:25:10,460
curious if that is an ongoing study and

653
00:25:07,250 --> 00:25:12,500
if you can tell<font color="#E5E5E5"> me if the rate of the</font>

654
00:25:10,460 --> 00:25:17,540
<font color="#E5E5E5">percentage of broken users has increased</font>

655
00:25:12,500 --> 00:25:19,940
or decreased over time it is ongoing we

656
00:25:17,540 --> 00:25:22,270
<font color="#E5E5E5">currently only have this is very</font>

657
00:25:19,940 --> 00:25:24,620
recently the data that we had a

658
00:25:22,270 --> 00:25:27,080
different type of measurement on going

659
00:25:24,620 --> 00:25:29,120
for a<font color="#E5E5E5"> long time the</font><font color="#CCCCCC"> data there is as a</font>

660
00:25:27,080 --> 00:25:31,220
little muddier and the semantics aren't

661
00:25:29,120 --> 00:25:33,739
as clear as this as the new version that

662
00:25:31,220 --> 00:25:36,350
we have now we're collecting this is

663
00:25:33,740 --> 00:25:37,910
intended to be ongoing and we intend to

664
00:25:36,350 --> 00:25:39,469
monitor the situation we<font color="#E5E5E5"> don't have any</font>

665
00:25:37,910 --> 00:25:41,090
gear about trends because we only have

666
00:25:39,470 --> 00:25:42,890
essentially a few weeks of data at the

667
00:25:41,090 --> 00:25:46,610
moment<font color="#E5E5E5"> and we haven't done the work to</font>

668
00:25:42,890 --> 00:25:49,270
do you know trending but it will we plan

669
00:25:46,610 --> 00:25:49,270
<font color="#CCCCCC">to do that</font>

670
00:25:52,390 --> 00:25:55,390
ok

671
00:26:01,100 --> 00:26:05,860
I think it's this<font color="#CCCCCC"> one</font>

