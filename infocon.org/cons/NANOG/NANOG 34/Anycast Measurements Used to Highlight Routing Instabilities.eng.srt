1
00:00:00,709 --> 00:00:07,199
<font color="#CCCCCC">alright hi I'm Peter booth and I'm the</font>

2
00:00:04,589 --> 00:00:09,150
substitute Randy<font color="#CCCCCC"> bush for this full a</font>

3
00:00:07,200 --> 00:00:11,849
little too tall for it but it'll<font color="#CCCCCC"> work</font>

4
00:00:09,150 --> 00:00:16,740
out so I'm<font color="#E5E5E5"> going to be presenting</font><font color="#CCCCCC"> on</font>

5
00:00:11,849 --> 00:00:20,550
using the<font color="#CCCCCC"> dns servers to measure the</font>

6
00:00:16,740 --> 00:00:21,959
flapping in any<font color="#E5E5E5"> cast and how any cast</font>

7
00:00:20,550 --> 00:00:25,470
can highlight certain forms of routing

8
00:00:21,960 --> 00:00:28,500
and stability I've been<font color="#E5E5E5"> doing this work</font>

9
00:00:25,470 --> 00:00:31,769
with Randy and you know we've been

10
00:00:28,500 --> 00:00:33,840
helped out by Lucy and Joel and all

11
00:00:31,769 --> 00:00:37,050
these people<font color="#E5E5E5"> and of course many of you</font>

12
00:00:33,840 --> 00:00:39,390
although<font color="#CCCCCC"> not more than half of you</font>

13
00:00:37,050 --> 00:00:41,430
because<font color="#CCCCCC"> we</font><font color="#E5E5E5"> got only we got 150</font>

14
00:00:39,390 --> 00:00:45,690
participants in total and they're

15
00:00:41,430 --> 00:00:47,579
slightly more<font color="#CCCCCC"> than 300 of you so why do</font>

16
00:00:45,690 --> 00:00:49,980
this<font color="#CCCCCC"> uh there was</font><font color="#E5E5E5"> a verisign</font>

17
00:00:47,579 --> 00:00:52,800
presentation and the last night i

18
00:00:49,980 --> 00:00:55,288
believe on lifetimes of j root and they

19
00:00:52,800 --> 00:01:00,358
reported on non-trivial routing jitter

20
00:00:55,289 --> 00:01:02,850
ah and concluded<font color="#CCCCCC"> that you should not run</font>

21
00:01:00,359 --> 00:01:06,479
<font color="#CCCCCC">any cast with do not run any cast with</font>

22
00:01:02,850 --> 00:01:08,250
stateful transport but for a decade I

23
00:01:06,479 --> 00:01:11,429
mean we're for a long time<font color="#E5E5E5"> we have had</font>

24
00:01:08,250 --> 00:01:13,979
<font color="#E5E5E5">reports of successful delivery of</font>

25
00:01:11,430 --> 00:01:16,890
services over any<font color="#CCCCCC"> casts so there's</font>

26
00:01:13,979 --> 00:01:18,450
clearly something going on here when we

27
00:01:16,890 --> 00:01:20,750
have these two things disagreeing and

28
00:01:18,450 --> 00:01:22,560
<font color="#CCCCCC">that's a nice fruitful area for research</font>

29
00:01:20,750 --> 00:01:24,560
which is good because I'm a grad student

30
00:01:22,560 --> 00:01:28,290
and that's what we're supposed to do ah

31
00:01:24,560 --> 00:01:30,570
all right<font color="#E5E5E5"> first things first I contacted</font>

32
00:01:28,290 --> 00:01:33,150
<font color="#E5E5E5">the folks at verisign and we found out</font>

33
00:01:30,570 --> 00:01:34,429
which routes were flapping and sort<font color="#E5E5E5"> of</font>

34
00:01:33,150 --> 00:01:36,720
<font color="#E5E5E5">asked them for their data and they</font>

35
00:01:34,430 --> 00:01:39,630
obliged us and we worked with a little

36
00:01:36,720 --> 00:01:42,658
<font color="#E5E5E5">bit and we watched the relevant routes</font>

37
00:01:39,630 --> 00:01:45,240
flap using<font color="#E5E5E5"> VG play but in this part the</font>

38
00:01:42,659 --> 00:01:47,040
problem is that BG play has this there's

39
00:01:45,240 --> 00:01:51,689
a few issues with PG play where you

40
00:01:47,040 --> 00:01:53,310
<font color="#CCCCCC">can't quite in certain instances it's</font>

41
00:01:51,689 --> 00:01:55,919
really really hard to understand what's

42
00:01:53,310 --> 00:01:58,409
going on<font color="#E5E5E5"> because all the any casted</font>

43
00:01:55,920 --> 00:02:00,180
clusters appear is one point because

44
00:01:58,409 --> 00:02:02,869
they look like one thing in BGP and

45
00:02:00,180 --> 00:02:05,490
that's the whole point of any cast so

46
00:02:02,869 --> 00:02:07,770
this tool which is<font color="#E5E5E5"> great for some things</font>

47
00:02:05,490 --> 00:02:09,329
was was very<font color="#E5E5E5"> difficult for us and so</font><font color="#CCCCCC"> we</font>

48
00:02:07,770 --> 00:02:11,579
designed an experiment that

49
00:02:09,330 --> 00:02:14,700
participated in to check out how common

50
00:02:11,580 --> 00:02:16,380
all this behavior was and to see what

51
00:02:14,700 --> 00:02:20,280
was going on<font color="#CCCCCC"> and whether anyone was</font>

52
00:02:16,380 --> 00:02:24,810
affected on our experiment we sent out

53
00:02:20,280 --> 00:02:28,170
emails to<font color="#CCCCCC"> nanog and San ugh and bunch of</font>

54
00:02:24,810 --> 00:02:30,570
them and got a multitude of<font color="#CCCCCC"> hosts as I</font>

55
00:02:28,170 --> 00:02:35,030
said we had a<font color="#E5E5E5"> hundred and ninety ish</font>

56
00:02:30,570 --> 00:02:40,829
unique ip's reporting and a<font color="#E5E5E5"> hundred and</font>

57
00:02:35,030 --> 00:02:42,840
40 ish unique<font color="#E5E5E5"> a s is reporting on we</font>

58
00:02:40,830 --> 00:02:44,250
sent and we got all these people<font color="#E5E5E5"> to run</font>

59
00:02:42,840 --> 00:02:48,000
<font color="#E5E5E5">our collection script which did the</font>

60
00:02:44,250 --> 00:02:50,640
following<font color="#CCCCCC"> it looked up it's externally</font>

61
00:02:48,000 --> 00:02:52,740
viewable IP address and then sent a UDP

62
00:02:50,640 --> 00:02:56,208
query every two seconds to each any

63
00:02:52,740 --> 00:02:58,980
casted route cfi JK m and then sent a

64
00:02:56,209 --> 00:03:02,310
<font color="#CCCCCC">tcp query every 20 seconds teach any</font>

65
00:02:58,980 --> 00:03:04,380
casted route and then we emailed the

66
00:03:02,310 --> 00:03:05,490
results to a central server so y 2<font color="#E5E5E5"> and</font>

67
00:03:04,380 --> 00:03:06,930
20 you<font color="#CCCCCC"> know you got to</font><font color="#E5E5E5"> be suspicious</font>

68
00:03:05,490 --> 00:03:09,000
every time you see numbers that's

69
00:03:06,930 --> 00:03:11,250
because the verisign people reported

70
00:03:09,000 --> 00:03:14,250
route flapping or at least cluster

71
00:03:11,250 --> 00:03:15,989
switching on the with frequencies on the

72
00:03:14,250 --> 00:03:17,519
order of five seconds and if you want to

73
00:03:15,989 --> 00:03:19,230
measure something at five seconds you

74
00:03:17,519 --> 00:03:22,530
have<font color="#E5E5E5"> to sample it twice that so two</font>

75
00:03:19,230 --> 00:03:24,119
seconds<font color="#E5E5E5"> and then</font><font color="#CCCCCC"> TCP because you want to</font>

76
00:03:22,530 --> 00:03:28,200
<font color="#E5E5E5">be nice to the roots and so we backed</font>

77
00:03:24,120 --> 00:03:30,959
off<font color="#E5E5E5"> there the query was looked exactly</font>

78
00:03:28,200 --> 00:03:33,660
like<font color="#CCCCCC"> that we were digging it each for</font>

79
00:03:30,959 --> 00:03:36,480
digging at each root server for chaos

80
00:03:33,660 --> 00:03:38,880
txt because the all the root servers

81
00:03:36,480 --> 00:03:40,709
have agreed that to put in the<font color="#CCCCCC"> ks txt</font>

82
00:03:38,880 --> 00:03:42,390
field the actual name<font color="#E5E5E5"> of the box that</font>

83
00:03:40,709 --> 00:03:43,980
responded to the<font color="#E5E5E5"> query so it looks just</font>

84
00:03:42,390 --> 00:03:46,738
<font color="#CCCCCC">like</font><font color="#E5E5E5"> all the others in every other</font>

85
00:03:43,980 --> 00:03:49,679
respect except that one field which we

86
00:03:46,739 --> 00:03:51,330
<font color="#E5E5E5">get</font><font color="#CCCCCC"> to use to distinguish them so what</font>

87
00:03:49,680 --> 00:03:53,250
are this Hannibal script output so

88
00:03:51,330 --> 00:03:56,790
here's what it looked like the

89
00:03:53,250 --> 00:04:01,440
externally viewable IP address<font color="#E5E5E5"> 19 to 8 7</font>

90
00:03:56,790 --> 00:04:03,690
10 9 158<font color="#E5E5E5"> ah and then as</font><font color="#CCCCCC"> you go through</font>

91
00:04:01,440 --> 00:04:06,420
this script output you<font color="#E5E5E5"> can actually see</font>

92
00:04:03,690 --> 00:04:08,160
the<font color="#CCCCCC"> timestamp and</font><font color="#E5E5E5"> then what we were</font>

93
00:04:06,420 --> 00:04:10,079
talking to what protocol we were using

94
00:04:08,160 --> 00:04:11,700
to talk to the<font color="#E5E5E5"> root and which root</font>

95
00:04:10,080 --> 00:04:14,549
server responded what was in that txt

96
00:04:11,700 --> 00:04:15,720
field often<font color="#E5E5E5"> this well not that often but</font>

97
00:04:14,549 --> 00:04:20,608
sometimes this field was blank

98
00:04:15,720 --> 00:04:22,350
indicating a no reply ah so now before I

99
00:04:20,608 --> 00:04:25,320
continue I have to<font color="#E5E5E5"> make it</font>

100
00:04:22,350 --> 00:04:29,360
flamer this is about routing we're using

101
00:04:25,320 --> 00:04:32,820
the<font color="#CCCCCC"> DNS servers to study routing not</font>

102
00:04:29,360 --> 00:04:35,700
using routing to batting bag on the<font color="#E5E5E5"> DNS</font>

103
00:04:32,820 --> 00:04:37,530
servers or something like that and we

104
00:04:35,700 --> 00:04:39,360
did use a regular<font color="#E5E5E5"> expression on East</font>

105
00:04:37,530 --> 00:04:42,960
each host name into a cluster identifier

106
00:04:39,360 --> 00:04:44,460
so that uh we didn't have any load

107
00:04:42,960 --> 00:04:45,479
balancing issues with the cluster and we

108
00:04:44,460 --> 00:04:52,590
got all those regular expressions

109
00:04:45,480 --> 00:04:55,170
validated by each<font color="#E5E5E5"> root ah so now what</font>

110
00:04:52,590 --> 00:04:58,619
why is this what you're about to see

111
00:04:55,170 --> 00:05:03,240
happening well I mean it's probably

112
00:04:58,620 --> 00:05:05,820
<font color="#E5E5E5">caused</font><font color="#CCCCCC"> by ebgp ibgp and I GP in some</font>

113
00:05:03,240 --> 00:05:06,990
combination of those two because it

114
00:05:05,820 --> 00:05:11,010
really does<font color="#CCCCCC"> seem to be routing type</font>

115
00:05:06,990 --> 00:05:14,730
phenomenon and just for posterity here

116
00:05:11,010 --> 00:05:17,159
are our results but these are relatively

117
00:05:14,730 --> 00:05:18,570
crappy to read it's just you know<font color="#E5E5E5"> you</font>

118
00:05:17,160 --> 00:05:20,280
might want<font color="#E5E5E5"> them on the website for you</font>

119
00:05:18,570 --> 00:05:23,790
so later you can go like oh this<font color="#E5E5E5"> is how</font>

120
00:05:20,280 --> 00:05:27,450
<font color="#E5E5E5">it work so we sent 117 million probes</font>

121
00:05:23,790 --> 00:05:29,250
and saw switches to various routes

122
00:05:27,450 --> 00:05:30,719
between clusters and there are

123
00:05:29,250 --> 00:05:32,460
percentages of failures and all this

124
00:05:30,720 --> 00:05:34,950
other good stuff the interesting thing

125
00:05:32,460 --> 00:05:38,070
to note is that generally<font color="#E5E5E5"> TCP failed</font>

126
00:05:34,950 --> 00:05:40,770
more than UDP just like<font color="#CCCCCC"> our intuition</font>

127
00:05:38,070 --> 00:05:44,180
would expect<font color="#CCCCCC"> accepts F which responded</font>

128
00:05:40,770 --> 00:05:47,039
which they're basically the same and

129
00:05:44,180 --> 00:05:48,780
there you<font color="#CCCCCC"> go ah but these aren't very</font>

130
00:05:47,040 --> 00:05:50,280
<font color="#E5E5E5">edifying what's more edifying is when we</font>

131
00:05:48,780 --> 00:05:52,770
break it down and look at some<font color="#E5E5E5"> things</font>

132
00:05:50,280 --> 00:05:55,679
<font color="#E5E5E5">like the mean time between switches all</font>

133
00:05:52,770 --> 00:05:57,450
of a<font color="#CCCCCC"> sudden we can see really really</font>

134
00:05:55,680 --> 00:05:59,790
clearly because we also distributed our

135
00:05:57,450 --> 00:06:02,219
test script across the planet lab across

136
00:05:59,790 --> 00:06:05,820
a huge<font color="#E5E5E5"> set of planetlab nodes is that</font>

137
00:06:02,220 --> 00:06:07,440
<font color="#CCCCCC">planetlab</font><font color="#E5E5E5"> is much more stable than the</font>

138
00:06:05,820 --> 00:06:10,409
<font color="#CCCCCC">internet the mean time between switches</font>

139
00:06:07,440 --> 00:06:11,940
and<font color="#CCCCCC"> planetlab</font><font color="#E5E5E5"> is 2.2 hours the mean time</font>

140
00:06:10,410 --> 00:06:15,750
on the internet for<font color="#E5E5E5"> all over all the</font>

141
00:06:11,940 --> 00:06:17,400
hosts we measured is 14 minutes so this

142
00:06:15,750 --> 00:06:18,960
means that<font color="#E5E5E5"> if you're doing a study on</font>

143
00:06:17,400 --> 00:06:20,280
planetlab you have to be careful about

144
00:06:18,960 --> 00:06:23,640
generalizing at least if you're talking

145
00:06:20,280 --> 00:06:25,830
about routing stability<font color="#E5E5E5"> ah and the</font>

146
00:06:23,640 --> 00:06:28,650
standard deviation for the<font color="#E5E5E5"> internet much</font>

147
00:06:25,830 --> 00:06:31,469
higher ah so there's a much wider

148
00:06:28,650 --> 00:06:35,568
variation on the internet and just

149
00:06:31,470 --> 00:06:36,860
because ah if you show someone this me

150
00:06:35,569 --> 00:06:40,189
in standard deviation you should also

151
00:06:36,860 --> 00:06:41,839
show them the median the time between

152
00:06:40,189 --> 00:06:45,709
switches the average time<font color="#E5E5E5"> between</font>

153
00:06:41,839 --> 00:06:47,869
switches for the median<font color="#CCCCCC"> AAS is presented</font>

154
00:06:45,709 --> 00:06:49,219
as well but you can care or<font color="#E5E5E5"> not it</font>

155
00:06:47,869 --> 00:06:54,219
really<font color="#E5E5E5"> is a</font><font color="#CCCCCC"> coincidence that they're</font>

156
00:06:49,219 --> 00:06:57,830
both 1.4 hours for planetlab<font color="#E5E5E5"> ah so</font>

157
00:06:54,219 --> 00:06:59,569
there's<font color="#E5E5E5"> this wide distribution I mean 14</font>

158
00:06:57,830 --> 00:07:02,419
minutes plus or minus two hours no

159
00:06:59,569 --> 00:07:05,209
definitely plus but I planetlab is much

160
00:07:02,419 --> 00:07:08,899
more stable and there's a large variance

161
00:07:05,209 --> 00:07:11,149
on<font color="#E5E5E5"> the</font><font color="#CCCCCC"> internet okay so now we look at</font>

162
00:07:08,899 --> 00:07:13,939
some asses and specific some nice cases

163
00:07:11,149 --> 00:07:15,800
to track what's going on and some things

164
00:07:13,939 --> 00:07:17,809
and what we're<font color="#CCCCCC"> going to do is we're</font>

165
00:07:15,800 --> 00:07:20,930
going to<font color="#E5E5E5"> make frequency graphs so we</font>

166
00:07:17,809 --> 00:07:24,879
look at ejs and we look at what they saw

167
00:07:20,930 --> 00:07:30,619
for the<font color="#E5E5E5"> roots for the root servers and</font>

168
00:07:24,879 --> 00:07:31,909
we say okay well if you<font color="#E5E5E5"> see if you see</font>

169
00:07:30,619 --> 00:07:33,589
one root server and you get the<font color="#E5E5E5"> same</font>

170
00:07:31,909 --> 00:07:34,729
root cert root cluster root cluster<font color="#E5E5E5"> boot</font>

171
00:07:33,589 --> 00:07:36,949
cluster and then you get<font color="#E5E5E5"> a different</font>

172
00:07:34,729 --> 00:07:39,378
<font color="#E5E5E5">route cluster we measure the time</font>

173
00:07:36,949 --> 00:07:40,999
between switches and then we make a

174
00:07:39,379 --> 00:07:43,999
graph of all the various<font color="#CCCCCC"> times between</font>

175
00:07:40,999 --> 00:07:45,709
switches we saw and make various when we

176
00:07:43,999 --> 00:07:48,019
quantize these into buckets and so we

177
00:07:45,709 --> 00:07:51,229
can hopefully get a sort of a frequency

178
00:07:48,019 --> 00:07:52,879
or a distribution of what's<font color="#E5E5E5"> going on so</font>

179
00:07:51,229 --> 00:07:55,248
<font color="#E5E5E5">sometimes the changes for every root</font>

180
00:07:52,879 --> 00:07:56,629
track together that is sometimes<font color="#E5E5E5"> when</font>

181
00:07:55,249 --> 00:07:58,039
you see a different cluster at see you

182
00:07:56,629 --> 00:08:01,459
<font color="#E5E5E5">also see a different cluster at F and I</font>

183
00:07:58,039 --> 00:08:05,180
and J and K and M which intuitively to

184
00:08:01,459 --> 00:08:07,369
us sort of indicates ibgp or<font color="#CCCCCC"> IGP turn</font>

185
00:08:05,180 --> 00:08:10,099
because what you're seeing possibly and

186
00:08:07,369 --> 00:08:11,899
<font color="#CCCCCC">we're this</font><font color="#E5E5E5"> is you know as it says</font>

187
00:08:10,099 --> 00:08:15,289
rampant supposition and the subject of

188
00:08:11,899 --> 00:08:18,589
ongoing investigation we suspect that

189
00:08:15,289 --> 00:08:20,209
what's happening is you are switching

190
00:08:18,589 --> 00:08:21,439
between exit points on a geographically

191
00:08:20,209 --> 00:08:23,419
distributed<font color="#CCCCCC"> network so all of a sudden</font>

192
00:08:21,439 --> 00:08:25,339
you get this exit point you're getting<font color="#E5E5E5"> a</font>

193
00:08:23,419 --> 00:08:26,688
new you see this view the network and

194
00:08:25,339 --> 00:08:27,740
<font color="#E5E5E5">then you get that exit point you see</font>

195
00:08:26,689 --> 00:08:30,680
that view of<font color="#E5E5E5"> the network and you're just</font>

196
00:08:27,740 --> 00:08:32,568
switching between them sometimes they

197
00:08:30,680 --> 00:08:34,430
don't track together indicating that

198
00:08:32,568 --> 00:08:36,799
there's changes possibly farther down in

199
00:08:34,429 --> 00:08:39,138
the stream and sometimes they do a

200
00:08:36,799 --> 00:08:42,198
little of<font color="#E5E5E5"> both which you know makes</font>

201
00:08:39,139 --> 00:08:45,230
analysis always more difficult ah so

202
00:08:42,198 --> 00:08:48,459
here's a sample a s it's<font color="#E5E5E5"> not it's sort</font>

203
00:08:45,230 --> 00:08:50,980
of a median a s if you will

204
00:08:48,460 --> 00:08:56,740
and AH one thing that you know keep

205
00:08:50,980 --> 00:08:59,080
track of the<font color="#E5E5E5"> y-axis and just here here</font>

206
00:08:56,740 --> 00:09:00,970
we go so this a s saw a lot of switches

207
00:08:59,080 --> 00:09:03,430
that were on the order of between about

208
00:09:00,970 --> 00:09:07,450
<font color="#E5E5E5">10 seconds in a minute so that looks log</font>

209
00:09:03,430 --> 00:09:09,579
scale about 30 seconds um so they saw a

210
00:09:07,450 --> 00:09:11,920
lot of switches that happen on the order

211
00:09:09,580 --> 00:09:14,740
of 30 seconds now not a whole lot I<font color="#CCCCCC"> mean</font>

212
00:09:11,920 --> 00:09:16,390
we sent out seven hundred and<font color="#E5E5E5"> forty</font>

213
00:09:14,740 --> 00:09:18,850
<font color="#E5E5E5">eight thousand probes from this a s and</font>

214
00:09:16,390 --> 00:09:21,160
we saw you know<font color="#CCCCCC"> twenty switches</font>

215
00:09:18,850 --> 00:09:22,600
sometimes til 1220 switches at that

216
00:09:21,160 --> 00:09:24,730
frequency for one<font color="#E5E5E5"> route and 12 for</font>

217
00:09:22,600 --> 00:09:25,810
another so the total switch is seen is

218
00:09:24,730 --> 00:09:29,500
of course the area under all these

219
00:09:25,810 --> 00:09:33,790
curves and there's different curves for

220
00:09:29,500 --> 00:09:38,140
each one so let's now look at a good one

221
00:09:33,790 --> 00:09:40,560
<font color="#E5E5E5">/ a good this one we sent out 151,000</font>

222
00:09:38,140 --> 00:09:43,510
probes and never saw a<font color="#E5E5E5"> single switch</font>

223
00:09:40,560 --> 00:09:44,920
nice and stable then we see things<font color="#E5E5E5"> that</font>

224
00:09:43,510 --> 00:09:47,890
switch a little bit more keep track of

225
00:09:44,920 --> 00:09:49,329
this y-axis uh so here<font color="#E5E5E5"> we saw 70</font>

226
00:09:47,890 --> 00:09:50,860
switches and they're all tracking

227
00:09:49,330 --> 00:09:53,500
together and go in a little<font color="#E5E5E5"> kooky so</font>

228
00:09:50,860 --> 00:09:56,020
that's you<font color="#CCCCCC"> know possibly igp possibly i</font>

229
00:09:53,500 --> 00:09:58,870
<font color="#E5E5E5">ve GP or possibly just you know we're</font>

230
00:09:56,020 --> 00:10:01,930
wrong ah but it's definitely a real

231
00:09:58,870 --> 00:10:05,020
effect and you know we<font color="#E5E5E5"> get the ugly so</font>

232
00:10:01,930 --> 00:10:09,099
you know it<font color="#E5E5E5"> was 70 before it's 250 now</font>

233
00:10:05,020 --> 00:10:13,180
uh-uh and it gets a little worse because

234
00:10:09,100 --> 00:10:15,670
it keeps<font color="#E5E5E5"> going and that is 25,000</font>

235
00:10:13,180 --> 00:10:18,069
switches for one particular route

236
00:10:15,670 --> 00:10:23,560
indicating that we have some sort of

237
00:10:18,070 --> 00:10:26,560
clear route flapping going on so what's

238
00:10:23,560 --> 00:10:29,530
happening so now one question is does

239
00:10:26,560 --> 00:10:31,000
this matter so let's talk about failures

240
00:10:29,530 --> 00:10:32,470
now how many failures did we see from

241
00:10:31,000 --> 00:10:33,430
<font color="#CCCCCC">each route because if we see failures</font>

242
00:10:32,470 --> 00:10:34,810
from route then we'd be seeing

243
00:10:33,430 --> 00:10:37,689
interference between control plane and

244
00:10:34,810 --> 00:10:39,729
data plane and that'd<font color="#E5E5E5"> be cool um so if</font>

245
00:10:37,690 --> 00:10:41,620
you'll recall a call back to that one

246
00:10:39,730 --> 00:10:43,600
where I presented the raw data tcp

247
00:10:41,620 --> 00:10:46,180
failed more than UDP did as a percentage

248
00:10:43,600 --> 00:10:48,520
and we<font color="#E5E5E5"> don't really know what's causing</font>

249
00:10:46,180 --> 00:10:50,020
these failures if you look at<font color="#CCCCCC"> the</font>

250
00:10:48,520 --> 00:10:52,090
frequency distribution of these failures

251
00:10:50,020 --> 00:10:53,590
sometimes<font color="#CCCCCC"> they're plus on indicating</font>

252
00:10:52,090 --> 00:10:56,620
that the events causing<font color="#E5E5E5"> the failures are</font>

253
00:10:53,590 --> 00:10:59,560
independent um that's not<font color="#E5E5E5"> helpful but</font>

254
00:10:56,620 --> 00:11:00,850
it's at least something um and<font color="#CCCCCC"> so the</font>

255
00:10:59,560 --> 00:11:03,849
question we really

256
00:11:00,850 --> 00:11:06,250
and so what we want<font color="#E5E5E5"> to know if the court</font>

257
00:11:03,850 --> 00:11:07,509
switches and failures are correlated do

258
00:11:06,250 --> 00:11:09,579
a estimates with a greater amount of

259
00:11:07,509 --> 00:11:13,060
<font color="#E5E5E5">switching</font><font color="#CCCCCC"> Seymour no replies but</font><font color="#E5E5E5"> let's</font>

260
00:11:09,579 --> 00:11:16,388
first compare the two protocols TCP and

261
00:11:13,060 --> 00:11:18,069
UDP on the failure rates were often

262
00:11:16,389 --> 00:11:22,690
really really distinct between the two

263
00:11:18,069 --> 00:11:26,740
of<font color="#CCCCCC"> them ah this is the</font><font color="#E5E5E5"> same</font><font color="#CCCCCC"> a s over the</font>

264
00:11:22,690 --> 00:11:29,279
<font color="#E5E5E5">same time period seeing different</font>

265
00:11:26,740 --> 00:11:32,079
failure rates for different routes on

266
00:11:29,279 --> 00:11:34,269
the scale<font color="#CCCCCC"> on the graphs is you know a</font>

267
00:11:32,079 --> 00:11:36,219
little bit<font color="#E5E5E5"> more one goes up to</font><font color="#CCCCCC"> 1400</font>

268
00:11:34,269 --> 00:11:39,730
sorry for the<font color="#CCCCCC"> pixelation and the other</font>

269
00:11:36,220 --> 00:11:42,579
one goes up<font color="#E5E5E5"> to</font><font color="#CCCCCC"> 3500 but aside from that</font>

270
00:11:39,730 --> 00:11:45,579
I<font color="#E5E5E5"> mean it's not too bad they're not two</font>

271
00:11:42,579 --> 00:11:49,209
distinct and if you look at<font color="#CCCCCC"> it we're</font>

272
00:11:45,579 --> 00:11:51,160
seeing dramatically more no replies or

273
00:11:49,209 --> 00:11:55,508
not seeing dramatically more no replies

274
00:11:51,160 --> 00:11:57,069
from<font color="#CCCCCC"> K</font><font color="#E5E5E5"> root and I mean if you look at it</font>

275
00:11:55,509 --> 00:12:00,370
there's there's still a green blip on

276
00:11:57,069 --> 00:12:03,750
that right one on the<font color="#CCCCCC"> TCP graph but it's</font>

277
00:12:00,370 --> 00:12:06,579
completely dwarfed by K root just not

278
00:12:03,750 --> 00:12:10,689
not being into responding to TCP replies

279
00:12:06,579 --> 00:12:12,189
so same<font color="#CCCCCC"> a s same times very different</font>

280
00:12:10,689 --> 00:12:14,349
behaviors because it's<font color="#E5E5E5"> different because</font>

281
00:12:12,189 --> 00:12:17,469
of different protocols that's that's

282
00:12:14,350 --> 00:12:19,949
interesting now what do we care about we

283
00:12:17,470 --> 00:12:22,630
want to know if switches and failures

284
00:12:19,949 --> 00:12:24,639
happen together if it switches cause

285
00:12:22,630 --> 00:12:26,980
failures or failures caused switches or

286
00:12:24,639 --> 00:12:29,800
something so how often do they happen

287
00:12:26,980 --> 00:12:31,689
together so just find<font color="#E5E5E5"> this kind of thing</font>

288
00:12:29,800 --> 00:12:33,069
you calculate a correlation coefficient

289
00:12:31,689 --> 00:12:36,969
which is a number that ranges between

290
00:12:33,069 --> 00:12:39,040
negative 1 and positive one<font color="#E5E5E5"> and if it's</font>

291
00:12:36,970 --> 00:12:43,810
zero then there's no<font color="#CCCCCC"> correlation between</font>

292
00:12:39,040 --> 00:12:47,139
<font color="#E5E5E5">the things for example UDP and I I route</font>

293
00:12:43,810 --> 00:12:49,089
saw no correlation<font color="#CCCCCC"> between</font><font color="#E5E5E5"> its switches</font>

294
00:12:47,139 --> 00:12:51,009
and its failures now if it's negative

295
00:12:49,089 --> 00:12:52,600
<font color="#CCCCCC">one that means</font><font color="#E5E5E5"> that the two things are</font>

296
00:12:51,009 --> 00:12:54,519
negatively correlated when you see more

297
00:12:52,600 --> 00:12:58,000
of one you see less of the other and if

298
00:12:54,519 --> 00:12:59,350
it's more<font color="#CCCCCC"> than if it's if it's closer to</font>

299
00:12:58,000 --> 00:13:00,759
negative<font color="#E5E5E5"> one you see that and if it's</font>

300
00:12:59,350 --> 00:13:03,189
closer to positive 1 that means they're

301
00:13:00,759 --> 00:13:05,050
positively correlated that is if you've

302
00:13:03,189 --> 00:13:06,910
seen<font color="#E5E5E5"> more switches you'll see more</font>

303
00:13:05,050 --> 00:13:09,719
failures or if you see more failures

304
00:13:06,910 --> 00:13:12,850
there were probably more switches and

305
00:13:09,720 --> 00:13:19,009
looking at our graphs you see that

306
00:13:12,850 --> 00:13:20,990
in general<font color="#CCCCCC"> tcp</font><font color="#E5E5E5"> is slightly more coral</font>

307
00:13:19,009 --> 00:13:26,449
switches and failures just like we would

308
00:13:20,990 --> 00:13:27,709
expect tcp and is more<font color="#E5E5E5"> TCP switches are</font>

309
00:13:26,449 --> 00:13:30,050
more correlated with failures you know

310
00:13:27,709 --> 00:13:31,489
you switch out midstream you're going to

311
00:13:30,050 --> 00:13:32,599
see failures because you're talking<font color="#CCCCCC"> to</font>

312
00:13:31,490 --> 00:13:34,100
one cluster you're talking to one

313
00:13:32,600 --> 00:13:35,959
cluster your routing switches and all of

314
00:13:34,100 --> 00:13:37,309
a<font color="#CCCCCC"> sudden you're sending the middle</font><font color="#E5E5E5"> of a</font>

315
00:13:35,959 --> 00:13:38,089
stream to some random cluster<font color="#E5E5E5"> who</font>

316
00:13:37,309 --> 00:13:40,059
doesn't know what you're talking about

317
00:13:38,089 --> 00:13:42,800
so<font color="#CCCCCC"> you're not going</font><font color="#E5E5E5"> to see anything um</font>

318
00:13:40,059 --> 00:13:46,969
and that's<font color="#E5E5E5"> going to manifest</font><font color="#CCCCCC"> itself as a</font>

319
00:13:42,800 --> 00:13:49,939
no reply so all of a sudden we're back

320
00:13:46,970 --> 00:13:52,519
to here<font color="#E5E5E5"> and</font><font color="#CCCCCC"> we know and so here's the</font>

321
00:13:49,939 --> 00:13:55,670
scatter plots for all this and so let's

322
00:13:52,519 --> 00:14:00,829
have some<font color="#E5E5E5"> take-home lessons from all of</font>

323
00:13:55,670 --> 00:14:02,349
this oh thank you so let's have some

324
00:14:00,829 --> 00:14:05,479
<font color="#E5E5E5">take-home lessons from all of this</font>

325
00:14:02,350 --> 00:14:07,970
<font color="#E5E5E5">take-home lessons routing weirdness</font>

326
00:14:05,480 --> 00:14:09,829
seems to be effect<font color="#E5E5E5"> anycast kind of</font>

327
00:14:07,970 --> 00:14:12,430
disproportionately<font color="#E5E5E5"> I mean and it's any</font>

328
00:14:09,829 --> 00:14:17,359
gas is a really nice tool for watching

329
00:14:12,430 --> 00:14:19,399
routing routing flaps change ah that's

330
00:14:17,360 --> 00:14:22,750
kind of neat planetlab is not the same

331
00:14:19,399 --> 00:14:27,100
as<font color="#E5E5E5"> the internet in terms of routing oh</font>

332
00:14:22,750 --> 00:14:29,449
my god this<font color="#CCCCCC"> is big news</font><font color="#E5E5E5"> for us academics</font>

333
00:14:27,100 --> 00:14:31,250
we really want it to<font color="#E5E5E5"> be the same because</font>

334
00:14:29,449 --> 00:14:34,719
it's so much<font color="#E5E5E5"> easier to deploy things on</font>

335
00:14:31,250 --> 00:14:34,720
planet lab than to ask things of you

336
00:14:35,410 --> 00:14:44,000
some people caught that most assr<font color="#E5E5E5"> okay</font>

337
00:14:39,800 --> 00:14:46,670
ah that but when things get bad they can

338
00:14:44,000 --> 00:14:50,889
be very bad and we saw a much wider

339
00:14:46,670 --> 00:14:54,849
distribution of good versus bad on the

340
00:14:50,889 --> 00:14:58,300
internet than we did on just planetlab

341
00:14:54,850 --> 00:15:00,709
UCP UDP and<font color="#CCCCCC"> TCP probes fail differently</font>

342
00:14:58,300 --> 00:15:02,800
so generalize it you don't<font color="#E5E5E5"> really want</font>

343
00:15:00,709 --> 00:15:06,170
<font color="#CCCCCC">to generalize from one to the other and</font>

344
00:15:02,800 --> 00:15:08,599
for everyone<font color="#E5E5E5"> who participated your</font>

345
00:15:06,170 --> 00:15:13,069
autonomous systems data can be found at

346
00:15:08,600 --> 00:15:16,910
<font color="#E5E5E5">that or that URL depending on which</font><font color="#CCCCCC"> side</font>

347
00:15:13,069 --> 00:15:19,128
of the room you're on and you can check

348
00:15:16,910 --> 00:15:20,870
it<font color="#E5E5E5"> out yourself and see how your Fayette</font>

349
00:15:19,129 --> 00:15:25,009
how you failed<font color="#E5E5E5"> and how you switched as</font>

350
00:15:20,870 --> 00:15:25,550
measured by UDP<font color="#CCCCCC"> TCP by both UDP and TCP</font>

351
00:15:25,009 --> 00:15:27,680
to all the

352
00:15:25,550 --> 00:15:29,000
so I'd<font color="#CCCCCC"> like to also thank everyone who</font>

353
00:15:27,680 --> 00:15:32,029
did participate for their participation

354
00:15:29,000 --> 00:15:33,680
because it was really actually pretty

355
00:15:32,029 --> 00:15:35,990
neat to have<font color="#CCCCCC"> data</font><font color="#E5E5E5"> new data coming in</font>

356
00:15:33,680 --> 00:15:41,329
every morning<font color="#E5E5E5"> to analyze and parson mess</font>

357
00:15:35,990 --> 00:15:44,750
around with um<font color="#CCCCCC"> alright and if there are</font>

358
00:15:41,330 --> 00:15:46,459
questions just about like what did<font color="#E5E5E5"> you</font>

359
00:15:44,750 --> 00:15:48,680
say like sort of understanding type

360
00:15:46,459 --> 00:15:51,260
questions you're welcome to ask them now

361
00:15:48,680 --> 00:15:53,149
but otherwise we're gonna have<font color="#E5E5E5"> daniel</font>

362
00:15:51,260 --> 00:15:58,189
karen berg come up and sort of<font color="#E5E5E5"> continue</font>

363
00:15:53,149 --> 00:16:01,250
on this theme oh<font color="#E5E5E5"> yeah there's 11 so I'm</font>

364
00:15:58,190 --> 00:16:03,470
more customers from Paris I so let's

365
00:16:01,250 --> 00:16:05,209
forget sending me<font color="#E5E5E5"> that thing</font><font color="#CCCCCC"> oh</font><font color="#E5E5E5"> you're</font>

366
00:16:03,470 --> 00:16:06,709
welcome<font color="#CCCCCC"> you're welcome</font><font color="#E5E5E5"> so one of the</font>

367
00:16:05,209 --> 00:16:08,719
things<font color="#E5E5E5"> I noticed we were looking at</font><font color="#CCCCCC"> some</font>

368
00:16:06,709 --> 00:16:10,579
<font color="#CCCCCC">of this data is that there seem to be a</font>

369
00:16:08,720 --> 00:16:13,760
lot<font color="#E5E5E5"> of sort correlation between the high</font>

370
00:16:10,579 --> 00:16:16,699
score frequency switches an area of<font color="#E5E5E5"> the</font>

371
00:16:13,760 --> 00:16:18,589
world I was wondering<font color="#E5E5E5"> for example some</font>

372
00:16:16,700 --> 00:16:21,230
<font color="#CCCCCC">of that high frequency switches we saw</font>

373
00:16:18,589 --> 00:16:23,450
it came from like India another one took

374
00:16:21,230 --> 00:16:25,579
place in Australia<font color="#E5E5E5"> and</font><font color="#CCCCCC"> I was wondering</font>

375
00:16:23,450 --> 00:16:28,100
if you saw something like that as well I

376
00:16:25,579 --> 00:16:30,579
haven't dainichi like strong<font color="#E5E5E5"> Geographic</font>

377
00:16:28,100 --> 00:16:32,959
analysis I was trying<font color="#CCCCCC"> to bug people for</font>

378
00:16:30,579 --> 00:16:35,329
good ways of finding out where things

379
00:16:32,959 --> 00:16:36,439
are located<font color="#CCCCCC"> I I keep asking people I</font>

380
00:16:35,329 --> 00:16:37,819
think<font color="#CCCCCC"> I keep asking the</font><font color="#E5E5E5"> wrong people</font>

381
00:16:36,440 --> 00:16:40,010
because I<font color="#CCCCCC"> ask</font><font color="#E5E5E5"> people who do weird things</font>

382
00:16:37,820 --> 00:16:41,779
with bgp and assignments and they're

383
00:16:40,010 --> 00:16:43,550
like dude you can't know anything

384
00:16:41,779 --> 00:16:44,959
because<font color="#E5E5E5"> it's bgp and you're just gonna</font>

385
00:16:43,550 --> 00:16:47,599
tweak the knobs and<font color="#E5E5E5"> i just hide all that</font>

386
00:16:44,959 --> 00:16:49,160
information from you anyways so<font color="#CCCCCC"> i</font>

387
00:16:47,600 --> 00:16:51,860
haven't<font color="#E5E5E5"> done any geographic analysis but</font>

388
00:16:49,160 --> 00:16:54,020
<font color="#E5E5E5">i do agree that everyone who has looked</font>

389
00:16:51,860 --> 00:16:55,790
<font color="#E5E5E5">at these data has said that the things</font>

390
00:16:54,020 --> 00:16:57,770
that were more flapping<font color="#E5E5E5"> were also tended</font>

391
00:16:55,790 --> 00:16:59,990
to be on the edge of the network tend to

392
00:16:57,770 --> 00:17:02,029
be edge ish yes yeah so that's what I

393
00:16:59,990 --> 00:17:03,620
saw as well the other thing is<font color="#E5E5E5"> that the</font>

394
00:17:02,029 --> 00:17:05,000
point of<font color="#E5E5E5"> the talk it just kind of</font>

395
00:17:03,620 --> 00:17:07,339
reiterate with their life and<font color="#E5E5E5"> time is</font>

396
00:17:05,000 --> 00:17:09,679
j.r which saw this kind of originated

397
00:17:07,339 --> 00:17:12,020
from is that it's fine with you<font color="#CCCCCC"> DP'd</font>

398
00:17:09,679 --> 00:17:13,280
sort of<font color="#E5E5E5"> DNS queries by</font><font color="#CCCCCC"> I knew of a lot</font>

399
00:17:12,020 --> 00:17:15,319
of people<font color="#CCCCCC"> that were thinking about</font><font color="#E5E5E5"> using</font>

400
00:17:13,280 --> 00:17:17,800
any cast with staples or transport

401
00:17:15,319 --> 00:17:20,030
mechanisms and then I wanted to caution

402
00:17:17,800 --> 00:17:21,948
against say hey look we got this little

403
00:17:20,030 --> 00:17:23,510
area that we need look for look towards

404
00:17:21,949 --> 00:17:27,910
here if you want to have a global sort

405
00:17:23,510 --> 00:17:27,910
of footprint for these sort of services

406
00:17:42,049 --> 00:17:46,369
son my name is Eric hosting with

407
00:17:44,539 --> 00:17:48,980
<font color="#CCCCCC">Internet network services I was</font>

408
00:17:46,369 --> 00:17:51,738
<font color="#E5E5E5">wondering if you had</font><font color="#CCCCCC"> done any any work</font>

409
00:17:48,980 --> 00:17:53,899
to try to take problems that were

410
00:17:51,739 --> 00:17:55,820
happening with the<font color="#CCCCCC"> route services or the</font>

411
00:17:53,899 --> 00:17:57,860
root servers out of the equation to like

412
00:17:55,820 --> 00:18:01,220
sort of subtract that problem from it

413
00:17:57,860 --> 00:18:03,019
for instance putting a device<font color="#CCCCCC"> that's</font>

414
00:18:01,220 --> 00:18:07,279
<font color="#E5E5E5">close and could talk to a particular</font>

415
00:18:03,019 --> 00:18:09,369
root server near it so that you could I

416
00:18:07,279 --> 00:18:12,860
will tell you that we're right now

417
00:18:09,369 --> 00:18:16,488
building up boxes to deploy to various

418
00:18:12,860 --> 00:18:19,699
<font color="#CCCCCC">locations to slurp the IE</font><font color="#E5E5E5"> bgp igp and</font>

419
00:18:16,489 --> 00:18:21,289
ebgp feeds for a particular area while

420
00:18:19,700 --> 00:18:23,450
we're running these probes at the same

421
00:18:21,289 --> 00:18:25,100
time to hopefully do exactly that but

422
00:18:23,450 --> 00:18:27,619
that's still in the working on<font color="#E5E5E5"> its stage</font>

423
00:18:25,100 --> 00:18:30,590
does that answer your question so<font color="#CCCCCC"> that</font>

424
00:18:27,619 --> 00:18:32,928
that's<font color="#E5E5E5"> an attempt to factor out</font><font color="#CCCCCC"> a DNS</font>

425
00:18:30,590 --> 00:18:34,158
servers having issues but at the same

426
00:18:32,929 --> 00:18:37,279
time<font color="#CCCCCC"> i think daniel</font><font color="#E5E5E5"> is going to be</font>

427
00:18:34,159 --> 00:18:40,149
talking about<font color="#E5E5E5"> dns mom and another way of</font>

428
00:18:37,279 --> 00:18:40,149
doing<font color="#E5E5E5"> that so</font>

