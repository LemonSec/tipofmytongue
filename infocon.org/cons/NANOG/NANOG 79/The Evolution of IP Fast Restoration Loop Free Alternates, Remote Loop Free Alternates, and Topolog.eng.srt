1
00:00:00,000 --> 00:00:03,030
Hey

2
00:00:00,990 --> 00:00:03,030
[Music]

3
00:00:03,450 --> 00:00:07,659
you

4
00:00:04,360 --> 00:00:07,659
[Music]

5
00:00:10,429 --> 00:00:15,869
so hi everyone I would like to introduce

6
00:00:14,039 --> 00:00:19,800
you to our next speaker

7
00:00:15,869 --> 00:00:22,710
ronbo Nika her own is distinguished

8
00:00:19,800 --> 00:00:25,199
engineer at juniper and he's here to

9
00:00:22,710 --> 00:00:27,599
talk to us about fast reroute on IP

10
00:00:25,199 --> 00:00:31,529
networks really all yours

11
00:00:27,599 --> 00:00:33,210
thank you good evening good night good

12
00:00:31,529 --> 00:00:35,550
morning good afternoon whatever time

13
00:00:33,210 --> 00:00:37,940
zone you're in and today we're gonna

14
00:00:35,550 --> 00:00:41,309
talk a little bit about IP fast reroute

15
00:00:37,940 --> 00:00:44,010
now IP feet fast reroute has evolved

16
00:00:41,309 --> 00:00:47,010
through three stages at first there was

17
00:00:44,010 --> 00:00:50,660
link free alternates LFA then remote

18
00:00:47,010 --> 00:00:52,890
link free alternates are LFA and finally

19
00:00:50,660 --> 00:00:55,199
topology independent loop free

20
00:00:52,890 --> 00:00:58,079
alternates TI LFA we're gonna step

21
00:00:55,199 --> 00:00:59,460
through each of them but first let's

22
00:00:58,079 --> 00:01:02,219
talk about a little bit about what the

23
00:00:59,460 --> 00:01:04,679
problem is let's say for a minute you

24
00:01:02,219 --> 00:01:06,810
have a link failure in your network well

25
00:01:04,679 --> 00:01:08,670
for some small period of time you're

26
00:01:06,810 --> 00:01:12,780
going to be dropping packets while the

27
00:01:08,670 --> 00:01:14,190
IGP turns the nodes on either side of

28
00:01:12,780 --> 00:01:16,470
the link failure are gonna have to

29
00:01:14,190 --> 00:01:18,450
advertise the link failure it's got that

30
00:01:16,470 --> 00:01:23,640
information propagates through your IGP

31
00:01:18,450 --> 00:01:25,410
domain everybody rican recomputes their

32
00:01:23,640 --> 00:01:28,560
best path to everywhere else and then

33
00:01:25,410 --> 00:01:30,030
things go back to normal now and this is

34
00:01:28,560 --> 00:01:32,520
called the convergence period and

35
00:01:30,030 --> 00:01:35,520
connected e connectivity isn't restored

36
00:01:32,520 --> 00:01:36,530
until the IGP converges now how long

37
00:01:35,520 --> 00:01:39,869
does that take

38
00:01:36,530 --> 00:01:43,369
well it depends on the size of your

39
00:01:39,869 --> 00:01:45,780
network the size of your IGP domains um

40
00:01:43,369 --> 00:01:47,220
the speed that your processors running

41
00:01:45,780 --> 00:01:48,869
out if you're lucky

42
00:01:47,220 --> 00:01:51,989
it might be milliseconds and nobody'll

43
00:01:48,869 --> 00:01:54,270
care if you're less like likely seconds

44
00:01:51,989 --> 00:01:55,709
and maybe users will start to notice

45
00:01:54,270 --> 00:01:58,140
that if they're gaming or if they're

46
00:01:55,709 --> 00:01:59,810
doing IP telephony and if it's really

47
00:01:58,140 --> 00:02:03,959
bad it might be tens of seconds and

48
00:01:59,810 --> 00:02:07,530
users will definitely notice that so we

49
00:02:03,959 --> 00:02:09,929
have this idea of IP fast reroute IP

50
00:02:07,530 --> 00:02:12,629
fast reroute protect some resource

51
00:02:09,929 --> 00:02:15,030
either a link or a node and it computes

52
00:02:12,629 --> 00:02:17,399
a repair path around that protected

53
00:02:15,030 --> 00:02:21,239
resource when the protected resource

54
00:02:17,400 --> 00:02:22,810
fails the node just upset upstream of

55
00:02:21,239 --> 00:02:26,860
the failed resource

56
00:02:22,810 --> 00:02:28,750
shifts traffic to the repair path so

57
00:02:26,860 --> 00:02:32,260
that connectivity is preserved during

58
00:02:28,750 --> 00:02:33,400
the IGP convergence period anyhow that

59
00:02:32,260 --> 00:02:34,959
may have sounded like so much

60
00:02:33,400 --> 00:02:39,040
gobbledygook so I'll give you a concrete

61
00:02:34,959 --> 00:02:41,610
example let's say for a minute r2

62
00:02:39,040 --> 00:02:47,200
calculates its least cost Ralph to r7

63
00:02:41,610 --> 00:02:50,019
that's gonna go go through R to R 5 now

64
00:02:47,200 --> 00:02:51,940
if R 2 R 5 breaks are two is gonna

65
00:02:50,019 --> 00:02:55,569
blackhole traffic destined for our seven

66
00:02:51,940 --> 00:02:59,200
and this black holing may persist for a

67
00:02:55,569 --> 00:03:03,250
while um certainly r2 has to install new

68
00:02:59,200 --> 00:03:05,798
routes to r7 but maybe other nodes also

69
00:03:03,250 --> 00:03:09,599
have to do that before the ITP Rican

70
00:03:05,799 --> 00:03:12,040
verges so for some small period of time

71
00:03:09,599 --> 00:03:13,090
we're going to have black holing and

72
00:03:12,040 --> 00:03:15,849
that's going to be called the

73
00:03:13,090 --> 00:03:19,690
convergence period now we need two other

74
00:03:15,849 --> 00:03:22,810
words in our vocabulary um one is pre

75
00:03:19,690 --> 00:03:25,420
convergence state r2 is in a pre

76
00:03:22,810 --> 00:03:27,970
convergence state regarding r7 from the

77
00:03:25,420 --> 00:03:30,820
time our two r5 breaks until it installs

78
00:03:27,970 --> 00:03:33,250
a new route to r7 so what's the pre

79
00:03:30,820 --> 00:03:35,260
convergence time it's the time between

80
00:03:33,250 --> 00:03:38,019
the break till the time our two gets a

81
00:03:35,260 --> 00:03:40,780
new route to r7 then there's a post

82
00:03:38,019 --> 00:03:43,060
convergence state once that new route is

83
00:03:40,780 --> 00:03:45,980
installed our two enters a post

84
00:03:43,060 --> 00:03:49,470
convergence State

85
00:03:45,980 --> 00:03:52,349
now there are three fast reroute

86
00:03:49,470 --> 00:03:56,310
solutions they've evolved over time l fa

87
00:03:52,349 --> 00:03:58,049
re l fa and e IL fa there are some

88
00:03:56,310 --> 00:03:59,790
things that all three solutions have in

89
00:03:58,050 --> 00:04:01,200
common and there are some things that

90
00:03:59,790 --> 00:04:03,780
all three solutions make all three

91
00:04:01,200 --> 00:04:05,579
solutions different what they have in

92
00:04:03,780 --> 00:04:08,940
common is each of them has something

93
00:04:05,580 --> 00:04:11,400
called a point of local repair the point

94
00:04:08,940 --> 00:04:14,459
of local repair is just upstream of the

95
00:04:11,400 --> 00:04:18,030
protected resource it notices that the

96
00:04:14,459 --> 00:04:19,530
protected resource is broken first the

97
00:04:18,029 --> 00:04:23,549
other thing they all have in common is

98
00:04:19,529 --> 00:04:27,200
something called a repair node the point

99
00:04:23,550 --> 00:04:30,630
of local repoint of local repair the PLR

100
00:04:27,200 --> 00:04:33,719
wants to get traffic to the repair node

101
00:04:30,630 --> 00:04:36,180
during the convergence period because

102
00:04:33,720 --> 00:04:40,470
the repair node is guaranteed to have a

103
00:04:36,180 --> 00:04:42,810
path to the ultimate destination so the

104
00:04:40,470 --> 00:04:45,060
PLR may not be able to use it best path

105
00:04:42,810 --> 00:04:47,729
to get to the destination but if it can

106
00:04:45,060 --> 00:04:49,289
get traffic to the repair node the

107
00:04:47,729 --> 00:04:51,659
repair node can get at the rest of the

108
00:04:49,289 --> 00:04:56,969
way now what are the differences between

109
00:04:51,660 --> 00:04:59,190
LF a RL fa and TI l fa well the biggest

110
00:04:56,970 --> 00:05:03,030
difference is how fussy they are about

111
00:04:59,190 --> 00:05:05,070
selecting a repair node in LFA the

112
00:05:03,030 --> 00:05:08,609
repair node must be directly connected

113
00:05:05,070 --> 00:05:11,219
to the PLR and it must meet two other

114
00:05:08,610 --> 00:05:12,150
criteria that we'll talk about later but

115
00:05:11,220 --> 00:05:14,130
the good thing is you don't need a

116
00:05:12,150 --> 00:05:17,159
tunnel to get to it and it gives you

117
00:05:14,130 --> 00:05:19,469
pretty good coverage in most network

118
00:05:17,160 --> 00:05:22,380
well in many network topologies LFA is

119
00:05:19,470 --> 00:05:24,960
good enough to give you fast reroute but

120
00:05:22,380 --> 00:05:27,419
and some network topologies LFA will not

121
00:05:24,960 --> 00:05:29,039
give you fast reroute that's why we say

122
00:05:27,419 --> 00:05:33,930
it's a good coverage as opposed to you

123
00:05:29,039 --> 00:05:36,000
know 100% coverage now our LFA has less

124
00:05:33,930 --> 00:05:37,590
suvir's restrictions on rev repair node

125
00:05:36,000 --> 00:05:40,080
selection there are more nodes that can

126
00:05:37,590 --> 00:05:41,820
be the repair node and the reason why as

127
00:05:40,080 --> 00:05:46,289
the repair node does not need to be

128
00:05:41,820 --> 00:05:48,719
directly connected to the PLR if the PLR

129
00:05:46,289 --> 00:05:51,300
can reach the repair node over a tunnel

130
00:05:48,720 --> 00:05:53,940
that follows the pre convergence IGP

131
00:05:51,300 --> 00:05:56,580
least cost path that repair node is good

132
00:05:53,940 --> 00:05:59,509
enough so thus of the restriction on

133
00:05:56,580 --> 00:06:01,039
selecting a repair node is less severe

134
00:05:59,509 --> 00:06:04,729
you do need a tunnel to get to it and

135
00:06:01,039 --> 00:06:08,870
you get better coverage than LFA but

136
00:06:04,729 --> 00:06:12,529
still you don't get TI LFA then finally

137
00:06:08,870 --> 00:06:14,360
we have apology independent LFA it has

138
00:06:12,529 --> 00:06:16,339
the least severe restrictions on repair

139
00:06:14,360 --> 00:06:17,930
note selection in fact you're guaranteed

140
00:06:16,339 --> 00:06:21,919
that there will be a repair node

141
00:06:17,930 --> 00:06:24,229
available again you need a tunnel to get

142
00:06:21,919 --> 00:06:26,839
to it and in particular you need a

143
00:06:24,229 --> 00:06:28,849
segment routing tunnel the difference

144
00:06:26,839 --> 00:06:31,490
between the tunnel you used in our LFA

145
00:06:28,849 --> 00:06:33,438
and the one you use in TI LFA the tunnel

146
00:06:31,490 --> 00:06:37,610
in our LFA follows the pre convergence

147
00:06:33,439 --> 00:06:39,979
IGP best cost path least cost path the

148
00:06:37,610 --> 00:06:42,860
tunnels that you use in TI LFA can

149
00:06:39,979 --> 00:06:44,659
follow any path that you want and it

150
00:06:42,860 --> 00:06:46,909
gives you the best coverage it gives you

151
00:06:44,659 --> 00:06:51,229
100% coverage so there's guaranteed to

152
00:06:46,909 --> 00:06:53,810
be a repair note available so let's take

153
00:06:51,229 --> 00:06:57,558
a little look what we're going to do is

154
00:06:53,810 --> 00:07:02,149
take a look at all three fast reroute

155
00:06:57,559 --> 00:07:03,560
solutions LFA or LFA and di LFA we're

156
00:07:02,149 --> 00:07:07,990
going to take a look at a reference to

157
00:07:03,560 --> 00:07:11,240
Paulo G and take a look at first our

158
00:07:07,990 --> 00:07:13,249
repair node is selected and how we use

159
00:07:11,240 --> 00:07:15,770
it then we're going to tweak the

160
00:07:13,249 --> 00:07:19,099
topology a little bit to show you a

161
00:07:15,770 --> 00:07:22,219
topology in which in this case LFA does

162
00:07:19,099 --> 00:07:24,229
not work and we'll go on to our LFA do

163
00:07:22,219 --> 00:07:26,899
the same exercise and we'll tweak the

164
00:07:24,229 --> 00:07:29,060
topology a little bit and show you a

165
00:07:26,899 --> 00:07:31,729
topology in which neither LFA nor our

166
00:07:29,060 --> 00:07:34,310
LFA will give you coverage and then

167
00:07:31,729 --> 00:07:39,560
we'll go on to TI LFA and show you how

168
00:07:34,310 --> 00:07:42,490
it gives you 100% coverage so let's talk

169
00:07:39,560 --> 00:07:45,010
about LFA first

170
00:07:42,490 --> 00:07:48,160
LFA preserve

171
00:07:45,010 --> 00:07:50,780
connectivity during the conjure up that

172
00:07:48,160 --> 00:07:53,090
LFA preserves connectivity during

173
00:07:50,780 --> 00:07:54,619
convergence by pre computing and

174
00:07:53,090 --> 00:07:56,989
installing a backup route to the

175
00:07:54,620 --> 00:07:59,090
destination when the primary route

176
00:07:56,990 --> 00:08:01,169
becomes unusable traffic shifts to the

177
00:07:59,090 --> 00:08:05,400
backup route

178
00:08:01,169 --> 00:08:08,729
so let's go through an example and the

179
00:08:05,400 --> 00:08:11,310
example topology r2 calculates its least

180
00:08:08,729 --> 00:08:14,849
cost path to our seven and that least

181
00:08:11,310 --> 00:08:16,259
cost path traverses the link between r2

182
00:08:14,849 --> 00:08:19,710
and r5 that's the link that's

183
00:08:16,259 --> 00:08:22,560
highlighted in yellow it also identifies

184
00:08:19,710 --> 00:08:27,568
a repair node and in this case the

185
00:08:22,560 --> 00:08:33,328
repair node is r3 so let's say for a

186
00:08:27,569 --> 00:08:36,750
moment that r2 fails if r2 can get

187
00:08:33,328 --> 00:08:40,409
traffic destined for r7 to r3 it has a

188
00:08:36,750 --> 00:08:43,799
guarantee that r3 has a path to r7 and

189
00:08:40,409 --> 00:08:47,970
things will just work now

190
00:08:43,799 --> 00:08:51,000
Oh what what do we do before the break

191
00:08:47,970 --> 00:08:55,199
well r2 calculates its least cost paths

192
00:08:51,000 --> 00:08:58,140
2r v r7 through r5 it identifies a least

193
00:08:55,199 --> 00:09:02,219
cost path to the repair node through r2

194
00:08:58,140 --> 00:09:05,670
r3 and it installs that path as a backup

195
00:09:02,220 --> 00:09:09,540
to our seven so we need a couple pieces

196
00:09:05,670 --> 00:09:12,630
of terminology here first is PLR in this

197
00:09:09,540 --> 00:09:14,959
example r2 is the PLR it is the node

198
00:09:12,630 --> 00:09:18,959
just upstream of the protected link and

199
00:09:14,959 --> 00:09:22,260
it will detect the break on the

200
00:09:18,959 --> 00:09:27,839
protected link first it also identifies

201
00:09:22,260 --> 00:09:29,939
the repair node in this case r3 now what

202
00:09:27,839 --> 00:09:32,910
are the requirements to be a repair node

203
00:09:29,940 --> 00:09:35,570
well first and foremost the repair node

204
00:09:32,910 --> 00:09:38,730
has to be directly connected to the PLR

205
00:09:35,570 --> 00:09:42,600
second it has to satisfy the loop three

206
00:09:38,730 --> 00:09:44,850
criteria this means with r3 is in its

207
00:09:42,600 --> 00:09:47,390
pre convergence state before it noticed

208
00:09:44,850 --> 00:09:52,709
notices that are two r5 has gone down

209
00:09:47,390 --> 00:09:55,640
its least cost path to r7 must not go

210
00:09:52,709 --> 00:09:55,640
back through r2

211
00:09:55,730 --> 00:10:00,110
it turns out that's exactly the

212
00:09:57,560 --> 00:10:03,529
situation here our threes least-cost

213
00:10:00,110 --> 00:10:07,730
path to r7 has a metric of one two four

214
00:10:03,529 --> 00:10:11,540
six whereas if it went back through r2

215
00:10:07,730 --> 00:10:15,290
the metric would be one five seven so

216
00:10:11,540 --> 00:10:17,269
our threes least cost path to r7 is not

217
00:10:15,290 --> 00:10:19,610
back through r2 you can see why you

218
00:10:17,269 --> 00:10:21,920
wouldn't want it to go back to r2 r3

219
00:10:19,610 --> 00:10:24,139
sent the back pack it back to r2 r2

220
00:10:21,920 --> 00:10:27,680
would just send it back to r3 and you'd

221
00:10:24,139 --> 00:10:31,639
have a routing loop the next criteria is

222
00:10:27,680 --> 00:10:33,589
the downstream criteria that is the IGP

223
00:10:31,639 --> 00:10:36,230
metric from the repair node to the

224
00:10:33,589 --> 00:10:38,870
ultimate destination has to be less than

225
00:10:36,230 --> 00:10:41,029
the IGP metric from the PLR to the

226
00:10:38,870 --> 00:10:43,040
ultimate destination and that kind of

227
00:10:41,029 --> 00:10:48,769
makes sense the repair node has to be

228
00:10:43,040 --> 00:10:52,339
closer to the destination and the PLR so

229
00:10:48,769 --> 00:10:55,420
what happens after the break r2 notices

230
00:10:52,339 --> 00:11:00,440
that link are two r5 is broken

231
00:10:55,420 --> 00:11:05,000
it sends traffic destined for our r7 to

232
00:11:00,440 --> 00:11:07,699
r3 r3 forwards the packet the rest of

233
00:11:05,000 --> 00:11:09,949
the way to our seven and it gets there

234
00:11:07,699 --> 00:11:14,990
continuity is preserved during the break

235
00:11:09,949 --> 00:11:18,050
and when the IGP rican verges now our

236
00:11:14,990 --> 00:11:23,389
two's least-cost path to r7 will also be

237
00:11:18,050 --> 00:11:28,279
through r3 now I'm going to tweak the

238
00:11:23,389 --> 00:11:32,750
IGP a little bit and the last slide the

239
00:11:28,279 --> 00:11:38,709
IGP metric of r3 r4 was one now I'm

240
00:11:32,750 --> 00:11:38,709
going to tweak it up to three well now

241
00:11:39,030 --> 00:11:48,839
our three is no longer a repair node for

242
00:11:43,880 --> 00:11:51,810
our two and the reason why the metric

243
00:11:48,840 --> 00:11:55,920
between our three and our seven going

244
00:11:51,810 --> 00:11:57,920
through our for our 6r8 is three four

245
00:11:55,920 --> 00:12:01,920
five six seven eight

246
00:11:57,920 --> 00:12:04,189
well the metric going back through r2 is

247
00:12:01,920 --> 00:12:08,610
one five seven

248
00:12:04,190 --> 00:12:11,580
so if r2 tried to send a packet destined

249
00:12:08,610 --> 00:12:13,500
for r7 to r3 r3 would just send it right

250
00:12:11,580 --> 00:12:14,790
back to our two you'd have a routing

251
00:12:13,500 --> 00:12:17,550
loop and that would be worse than black

252
00:12:14,790 --> 00:12:22,410
holing so what we're seeing is the basic

253
00:12:17,550 --> 00:12:24,660
limitation of just plain old LFA in some

254
00:12:22,410 --> 00:12:27,180
network topologies there is no repair

255
00:12:24,660 --> 00:12:32,310
node so in this particular network

256
00:12:27,180 --> 00:12:37,250
topology LFA cannot protect link are two

257
00:12:32,310 --> 00:12:41,640
or five with respect to destination r7

258
00:12:37,250 --> 00:12:44,529
so this brings us to remote LFA how do

259
00:12:41,640 --> 00:12:48,649
we get around this problem

260
00:12:44,529 --> 00:12:51,079
well our LFA addresses LFA him

261
00:12:48,649 --> 00:12:53,389
limitations by allowing some nodes to

262
00:12:51,079 --> 00:12:56,329
serve as repair nodes even if they're

263
00:12:53,389 --> 00:12:59,089
not directly connected to the PLR so

264
00:12:56,329 --> 00:13:02,618
what does that mean in LFA the only

265
00:12:59,089 --> 00:13:05,959
possible repair node was r3 now

266
00:13:02,619 --> 00:13:09,410
other nodes can serve as the repair node

267
00:13:05,959 --> 00:13:13,160
but you need to build a tunnel from the

268
00:13:09,410 --> 00:13:15,110
PLR to the repair node and that tunnel

269
00:13:13,160 --> 00:13:18,709
will follow the least-cost the pre

270
00:13:15,110 --> 00:13:21,549
convergence least cost path from the PLR

271
00:13:18,709 --> 00:13:21,549
to the repair node

272
00:13:21,870 --> 00:13:27,520
so let's take a look at the exact same

273
00:13:25,570 --> 00:13:30,610
topology we had a couple slides back

274
00:13:27,520 --> 00:13:33,130
this is the topology in which LFA would

275
00:13:30,610 --> 00:13:36,760
not work because you know the metric

276
00:13:33,130 --> 00:13:40,120
between r3 and r4 had been elevated to

277
00:13:36,760 --> 00:13:42,310
three so again our LFA is protecting

278
00:13:40,120 --> 00:13:45,310
link R 2 R 5 that's the link highlighted

279
00:13:42,310 --> 00:13:48,339
in yellow are two calculates its least

280
00:13:45,310 --> 00:13:50,380
cost path to r7 and it's still through R

281
00:13:48,340 --> 00:13:54,150
2 R 5 and it installs that as the

282
00:13:50,380 --> 00:13:59,020
primary now r2 identifies a repair node

283
00:13:54,150 --> 00:14:02,740
this time R 3 is not the repair node R 4

284
00:13:59,020 --> 00:14:06,490
is um and you'll notice our 4 isn't

285
00:14:02,740 --> 00:14:07,510
directly connected to R to the PLR and

286
00:14:06,490 --> 00:14:13,270
the repair node aren't directly

287
00:14:07,510 --> 00:14:15,150
connected so R 2 has to create a tunnel

288
00:14:13,270 --> 00:14:20,380
to the repair node and this tunnel

289
00:14:15,150 --> 00:14:22,750
follows the IGP least cost path from the

290
00:14:20,380 --> 00:14:25,390
PLR to the repair node and then it

291
00:14:22,750 --> 00:14:27,640
installs that tunnel of the PLR our two

292
00:14:25,390 --> 00:14:32,650
installs that tunnel as a backup route

293
00:14:27,640 --> 00:14:36,550
to r7 now what are the requirements for

294
00:14:32,650 --> 00:14:38,110
a repair node this part of the talk is

295
00:14:36,550 --> 00:14:39,550
gonna sound a little scary because I'm

296
00:14:38,110 --> 00:14:42,370
going to start throwing P's and Q's

297
00:14:39,550 --> 00:14:46,420
around but it's really not that complex

298
00:14:42,370 --> 00:14:50,110
so try to hang with me the repair node

299
00:14:46,420 --> 00:14:53,079
has to be in the PQ space now what's the

300
00:14:50,110 --> 00:14:56,650
PQ space the PQ space is the

301
00:14:53,080 --> 00:14:58,750
intersection of the PLR SP space and the

302
00:14:56,650 --> 00:15:00,459
destinations Q space so we're going to

303
00:14:58,750 --> 00:15:02,800
define two things the PLR is going to

304
00:15:00,460 --> 00:15:06,220
have a set of four errors in the and the

305
00:15:02,800 --> 00:15:08,370
P space the destination is going to have

306
00:15:06,220 --> 00:15:11,440
a set of routers in the queue space and

307
00:15:08,370 --> 00:15:16,470
any node that is in both sets is in the

308
00:15:11,440 --> 00:15:20,080
PQ space now what is in the plra P space

309
00:15:16,470 --> 00:15:22,000
the PLR SP space contains nodes that it

310
00:15:20,080 --> 00:15:25,870
can reach in its pre converging state

311
00:15:22,000 --> 00:15:30,190
without traversing the protected link so

312
00:15:25,870 --> 00:15:33,910
in this example are two in its pre

313
00:15:30,190 --> 00:15:35,710
convergence State can reach R 3 R 4 R 6

314
00:15:33,910 --> 00:15:39,400
and r8

315
00:15:35,710 --> 00:15:42,910
um along the pre-computed along the

316
00:15:39,400 --> 00:15:45,550
least-cost path without traversing the

317
00:15:42,910 --> 00:15:50,760
protected link you'll notice that it

318
00:15:45,550 --> 00:15:54,819
can't reach our five our five is not in

319
00:15:50,760 --> 00:15:58,270
our twos peace pace and the reason why

320
00:15:54,820 --> 00:16:00,280
is our twos least-cost path to our five

321
00:15:58,270 --> 00:16:02,890
is through our to our five and that's

322
00:16:00,280 --> 00:16:06,310
the protected link so it's just not

323
00:16:02,890 --> 00:16:08,050
there now the next thing we have to

324
00:16:06,310 --> 00:16:11,140
understand is the destinations queue

325
00:16:08,050 --> 00:16:13,780
space what's that the destinations queue

326
00:16:11,140 --> 00:16:15,760
space contains the nodes that uh that

327
00:16:13,780 --> 00:16:18,100
can reach the destination and their pre

328
00:16:15,760 --> 00:16:20,140
converging state without protecting the

329
00:16:18,100 --> 00:16:24,250
without traversing the protected link

330
00:16:20,140 --> 00:16:29,290
and in that space we have our five r4 r5

331
00:16:24,250 --> 00:16:31,630
r6 r7 and r8 um you'll see that our

332
00:16:29,290 --> 00:16:33,280
three isn't in that space if the

333
00:16:31,630 --> 00:16:35,740
destination wanted to reach our three it

334
00:16:33,280 --> 00:16:37,569
would go through the protected link so

335
00:16:35,740 --> 00:16:40,720
now we're looking for nodes that are in

336
00:16:37,570 --> 00:16:43,330
both the P and the Q space and the

337
00:16:40,720 --> 00:16:43,780
intersection is our for our six and our

338
00:16:43,330 --> 00:16:47,530
eight

339
00:16:43,780 --> 00:16:52,750
so our for our six and r8 are all

340
00:16:47,530 --> 00:16:55,150
candidates for being the repair node and

341
00:16:52,750 --> 00:16:58,270
in this case we pick our four is the

342
00:16:55,150 --> 00:17:00,100
repair node the reason why is it's

343
00:16:58,270 --> 00:17:01,480
closest to our two also it's going to

344
00:17:00,100 --> 00:17:04,780
illustrate a nice little point in a

345
00:17:01,480 --> 00:17:08,620
minute so what happens after the break

346
00:17:04,780 --> 00:17:11,829
um the link breaks and becomes unusable

347
00:17:08,619 --> 00:17:15,429
our to start sending traffic destined

348
00:17:11,829 --> 00:17:19,329
for r7 through the backup route that is

349
00:17:15,430 --> 00:17:21,970
to our for our four releases packets

350
00:17:19,329 --> 00:17:24,189
from the tunnel and sends it to r7 now

351
00:17:21,970 --> 00:17:26,709
let's take a look at our four is passed

352
00:17:24,190 --> 00:17:29,530
to r7 you'll see that it has two week

353
00:17:26,709 --> 00:17:33,400
will cost multi paths one goes through

354
00:17:29,530 --> 00:17:36,730
our six and r8 the other goes through r6

355
00:17:33,400 --> 00:17:39,040
and r5 and both are leveraged because

356
00:17:36,730 --> 00:17:42,990
this is just an IP packet and it's going

357
00:17:39,040 --> 00:17:42,990
to do the load balancing the way IP does

358
00:17:44,650 --> 00:17:51,010
now let's talk about node protection for

359
00:17:47,860 --> 00:17:54,219
a while the difference between link

360
00:17:51,010 --> 00:17:56,470
protection and node protection is what

361
00:17:54,220 --> 00:18:00,730
is protected and the previous slide you

362
00:17:56,470 --> 00:18:03,280
saw the link between r2 and r5

363
00:18:00,730 --> 00:18:06,370
highlighted in yellow that meant we were

364
00:18:03,280 --> 00:18:08,410
worried about it breaking now our five

365
00:18:06,370 --> 00:18:09,040
is highlighted in yellow so what does

366
00:18:08,410 --> 00:18:12,550
that mean

367
00:18:09,040 --> 00:18:15,430
when r2 detects link are two or five is

368
00:18:12,550 --> 00:18:18,730
down it assumes that the reason for that

369
00:18:15,430 --> 00:18:22,420
outage is that r5 itself is down

370
00:18:18,730 --> 00:18:25,030
and if r5 itself is down all of the

371
00:18:22,420 --> 00:18:29,100
links connected to our five are also

372
00:18:25,030 --> 00:18:32,320
down so in the case of node protection

373
00:18:29,100 --> 00:18:36,340
r2 not only wants to avoid link are two

374
00:18:32,320 --> 00:18:39,220
r5 but it needs to avoid our v r6 and

375
00:18:36,340 --> 00:18:43,959
our v r7 all of the nodes connected to

376
00:18:39,220 --> 00:18:45,790
our five so what does it do um again it

377
00:18:43,960 --> 00:18:48,790
calculates its least cost path through

378
00:18:45,790 --> 00:18:50,950
our to r5 then it identifies a repair

379
00:18:48,790 --> 00:18:54,428
node but this time it can't identify our

380
00:18:50,950 --> 00:18:57,670
four because if our four with a repair

381
00:18:54,429 --> 00:19:00,580
node and the traffic were released at

382
00:18:57,670 --> 00:19:02,679
our for our six would send it across the

383
00:19:00,580 --> 00:19:05,559
equal cost multi path and you you

384
00:19:02,679 --> 00:19:08,500
traverse r5 so in this case there is

385
00:19:05,559 --> 00:19:12,190
only one candidate to be the repair node

386
00:19:08,500 --> 00:19:15,670
that's our eight so instead of building

387
00:19:12,190 --> 00:19:19,390
a tunnel from R to R for this time we

388
00:19:15,670 --> 00:19:22,330
build a tunnel from R 1 to R 8 when the

389
00:19:19,390 --> 00:19:25,660
link breaks packets go along that tunnel

390
00:19:22,330 --> 00:19:28,210
r 8 the repair node releases packets

391
00:19:25,660 --> 00:19:32,559
from the tunnel and r8 Ford's it along

392
00:19:28,210 --> 00:19:42,559
the one and only path to r7 and that's

393
00:19:32,559 --> 00:19:45,168
through our eight or seven now in node

394
00:19:42,559 --> 00:19:47,178
protection what are the requirement what

395
00:19:45,169 --> 00:19:51,460
are the requirements to be a repair node

396
00:19:47,179 --> 00:19:53,720
um the repair node has to be in PQ space

397
00:19:51,460 --> 00:19:55,820
that is it still has to be in the

398
00:19:53,720 --> 00:19:59,779
intersection of the PLR SP space in the

399
00:19:55,820 --> 00:20:03,139
destinations Q space um here's the

400
00:19:59,779 --> 00:20:04,970
difference the PLR SP space contains

401
00:20:03,139 --> 00:20:07,729
nodes that it can reach in its pre

402
00:20:04,970 --> 00:20:12,340
converging state without traversing the

403
00:20:07,730 --> 00:20:12,340
protected node so

404
00:20:12,530 --> 00:20:21,710
um here the P space is R 3 R 4 R 6 + r8

405
00:20:18,100 --> 00:20:23,689
the destinations q space contains nodes

406
00:20:21,710 --> 00:20:25,910
that it can reach of the destination in

407
00:20:23,690 --> 00:20:29,150
their brief convergence state without

408
00:20:25,910 --> 00:20:30,470
traversing the protected node and here

409
00:20:29,150 --> 00:20:32,180
only seven or eight are in the queue

410
00:20:30,470 --> 00:20:36,560
space and this is because of that IPC

411
00:20:32,180 --> 00:20:40,580
ecmp so here only r8 is a candidate for

412
00:20:36,560 --> 00:20:42,470
the PQ space so we're starting to feel

413
00:20:40,580 --> 00:20:45,169
pretty secure now we think that we have

414
00:20:42,470 --> 00:20:49,400
well things well in hand you know using

415
00:20:45,170 --> 00:20:52,550
tunnels you expand the number of

416
00:20:49,400 --> 00:20:55,880
candidates you have has repair nodes and

417
00:20:52,550 --> 00:21:02,030
you get better coverage but you don't

418
00:20:55,880 --> 00:21:06,670
get 100% coverage here I've tweaked the

419
00:21:02,030 --> 00:21:08,930
IGP um metric on this link one more time

420
00:21:06,670 --> 00:21:10,820
first time you saw the metric it was set

421
00:21:08,930 --> 00:21:14,810
to one second time you saw it it was set

422
00:21:10,820 --> 00:21:20,720
to three this time it's set to seven um

423
00:21:14,810 --> 00:21:23,780
and this example again r2 protects LFA

424
00:21:20,720 --> 00:21:26,030
protects the link r2 are five and the

425
00:21:23,780 --> 00:21:30,350
IGP metric associated with our four hour

426
00:21:26,030 --> 00:21:34,280
six has been cranked up to seven now our

427
00:21:30,350 --> 00:21:38,260
two SP space only uh contains only node

428
00:21:34,280 --> 00:21:38,260
r3 um

429
00:21:38,590 --> 00:21:46,720
because the IGP metric from R 3 to R 4

430
00:21:41,990 --> 00:21:49,669
is so high that path through R 3

431
00:21:46,720 --> 00:21:52,009
basically is the least cost path to know

432
00:21:49,669 --> 00:21:54,350
where's the least cost path to almost

433
00:21:52,009 --> 00:21:58,340
every place is through the broken link R

434
00:21:54,350 --> 00:22:01,580
2 R 5 so the P space has only R 3 in it

435
00:21:58,340 --> 00:22:05,149
the Q space still contains r2 r4 and r5

436
00:22:01,580 --> 00:22:08,899
and the PQ space is empty so in this

437
00:22:05,149 --> 00:22:16,360
topology r2 can't find a repair node for

438
00:22:08,899 --> 00:22:21,830
r7 and you just can't get 100% 100%

439
00:22:16,360 --> 00:22:25,428
coverage in in this topology now really

440
00:22:21,830 --> 00:22:27,830
the problem is in our LFA the repair

441
00:22:25,429 --> 00:22:30,470
tunnel the tunnel that connects the PLR

442
00:22:27,830 --> 00:22:34,490
to the repair node follows the pre

443
00:22:30,470 --> 00:22:36,500
convergence IGP least cost path wouldn't

444
00:22:34,490 --> 00:22:39,350
it be nice if you could have a repair

445
00:22:36,500 --> 00:22:43,940
tunnel that's traffic engineered it

446
00:22:39,350 --> 00:22:47,090
follows any path you like so now the P

447
00:22:43,940 --> 00:22:51,769
space gets very large in fact the P

448
00:22:47,090 --> 00:22:54,860
space would include every node in the in

449
00:22:51,769 --> 00:22:58,190
the domain and this is exactly what you

450
00:22:54,860 --> 00:23:01,000
get with TI LF a topology independent

451
00:22:58,190 --> 00:23:01,000
loop free alternates

452
00:23:03,150 --> 00:23:10,840
okay um we already talked about our

453
00:23:06,940 --> 00:23:17,200
elephant limitations the fact that you

454
00:23:10,840 --> 00:23:18,639
can't get a repair note for all you

455
00:23:17,200 --> 00:23:22,390
can't get a repair note for all

456
00:23:18,640 --> 00:23:28,350
typologies so let's talk about how tal

457
00:23:22,390 --> 00:23:30,850
fa works in this application TI LFA is

458
00:23:28,350 --> 00:23:33,760
protecting our two or five again the

459
00:23:30,850 --> 00:23:35,350
same link again our two calculates the

460
00:23:33,760 --> 00:23:37,419
least cost path to our seven and it's

461
00:23:35,350 --> 00:23:41,230
going through our to our five so it

462
00:23:37,419 --> 00:23:44,830
installs that as its primary link now it

463
00:23:41,230 --> 00:23:47,020
identifies a repair tunnel and in this

464
00:23:44,830 --> 00:23:49,330
case

465
00:23:47,020 --> 00:23:52,629
can pick our four is the repair tunnel

466
00:23:49,330 --> 00:23:55,120
because so long as our two can get the

467
00:23:52,630 --> 00:23:57,250
packet past our three into our for our

468
00:23:55,120 --> 00:23:59,169
four can release the packet from the

469
00:23:57,250 --> 00:24:01,990
tunnel and it will get the rest of the

470
00:23:59,170 --> 00:24:04,360
way to our seven notice that this repair

471
00:24:01,990 --> 00:24:07,150
tunnel doesn't follow the least-cost

472
00:24:04,360 --> 00:24:09,520
path from our to to our for the least

473
00:24:07,150 --> 00:24:12,580
cost path from r2 to r4 is through r5

474
00:24:09,520 --> 00:24:15,780
and r6 across the broken link so this is

475
00:24:12,580 --> 00:24:19,540
a traffic engineered repair tunnel um

476
00:24:15,780 --> 00:24:23,910
the way this repair tunnel works is r2

477
00:24:19,540 --> 00:24:29,920
pushes an SR MPLS label onto a stack and

478
00:24:23,910 --> 00:24:32,020
forwards the packet to r3 r3 pops that

479
00:24:29,920 --> 00:24:35,470
label off and that label is an

480
00:24:32,020 --> 00:24:41,080
instruction the instruction says for

481
00:24:35,470 --> 00:24:42,700
this packet along the length r3 r4 send

482
00:24:41,080 --> 00:24:45,820
it to our for whether or not that is the

483
00:24:42,700 --> 00:24:48,309
least cost path to r4 and that solves

484
00:24:45,820 --> 00:24:50,350
your problem now you can deliver the

485
00:24:48,309 --> 00:24:54,940
packet to r4 which is a perfectly good

486
00:24:50,350 --> 00:24:57,490
repair node um even though our three is

487
00:24:54,940 --> 00:25:01,990
not on the least-cost path from R 2 to R

488
00:24:57,490 --> 00:25:04,179
4 now P are two installs this tunnel as

489
00:25:01,990 --> 00:25:06,210
a backup route and you'll see that it

490
00:25:04,179 --> 00:25:09,100
gets used with the link brakes

491
00:25:06,210 --> 00:25:11,830
now what are the reason uh what are the

492
00:25:09,100 --> 00:25:14,590
requirements for a repair nord when

493
00:25:11,830 --> 00:25:17,199
we're doing PIL F a link protection well

494
00:25:14,590 --> 00:25:21,120
the repair node has to reside in the

495
00:25:17,200 --> 00:25:23,980
destination nodes Q space that's to say

496
00:25:21,120 --> 00:25:26,530
the destined no destination node can

497
00:25:23,980 --> 00:25:28,960
reach it and it's pre convergent state

498
00:25:26,530 --> 00:25:32,080
without traversing of the protecting a

499
00:25:28,960 --> 00:25:35,679
protected link so nodes four or five six

500
00:25:32,080 --> 00:25:37,740
seven and eight are all in sevens Q

501
00:25:35,679 --> 00:25:40,270
space um

502
00:25:37,740 --> 00:25:42,640
notice there's no real requirement about

503
00:25:40,270 --> 00:25:45,929
P space because because this is a

504
00:25:42,640 --> 00:25:49,030
traffic engineered tunnel r2 can reach

505
00:25:45,929 --> 00:25:50,050
every single note on this router under

506
00:25:49,030 --> 00:25:54,490
than this topology

507
00:25:50,050 --> 00:25:56,590
without traversing r2 are five now in

508
00:25:54,490 --> 00:25:59,940
this case we choose our four because

509
00:25:56,590 --> 00:25:59,939
it's the closest to the PLR

510
00:26:00,760 --> 00:26:06,850
so what happens after the link after the

511
00:26:04,360 --> 00:26:09,879
link breaks are to realizes the links

512
00:26:06,850 --> 00:26:12,760
broken um so would start sending pack

513
00:26:09,880 --> 00:26:16,090
packets along the backup path it pushes

514
00:26:12,760 --> 00:26:18,760
labeled 1010 Ford's the packet to r3 r3

515
00:26:16,090 --> 00:26:21,309
pops the label forwards the packet to

516
00:26:18,760 --> 00:26:24,760
our for our for sends it the rest of the

517
00:26:21,309 --> 00:26:28,590
way along the path and again our six

518
00:26:24,760 --> 00:26:31,720
leverages that a CMP between our five

519
00:26:28,590 --> 00:26:33,129
between our six and our seven so there's

520
00:26:31,720 --> 00:26:36,360
one path through our five and other

521
00:26:33,130 --> 00:26:39,360
through our a and our six will use those

522
00:26:36,360 --> 00:26:39,360
now

523
00:26:39,840 --> 00:26:47,889
let's talk about node protection we also

524
00:26:42,700 --> 00:26:52,660
have node protection in TI l fa and TI l

525
00:26:47,890 --> 00:26:55,450
fa here the link isn't protected it

526
00:26:52,660 --> 00:26:57,940
snowed r5 that's protected so when are

527
00:26:55,450 --> 00:27:00,160
to realizes that the link to r5 is

528
00:26:57,940 --> 00:27:03,250
broken it assumes that the reason for

529
00:27:00,160 --> 00:27:05,410
this is that our v is broken and all of

530
00:27:03,250 --> 00:27:12,880
the links that are 5 connects to are

531
00:27:05,410 --> 00:27:16,360
also broken so now you do not want r6 to

532
00:27:12,880 --> 00:27:19,210
be exercising that ecmp to r7 you don't

533
00:27:16,360 --> 00:27:21,939
want it sending traffic to our 5 so your

534
00:27:19,210 --> 00:27:24,760
choice of repair tunnels changes you

535
00:27:21,940 --> 00:27:26,800
don't want to use our four as a repair

536
00:27:24,760 --> 00:27:29,560
tunnel because it would send traffic to

537
00:27:26,800 --> 00:27:31,330
our 6 that would leverage the ecmp you

538
00:27:29,560 --> 00:27:34,330
don't want to use our of 6 as a repair

539
00:27:31,330 --> 00:27:37,300
tunnel as it would leverage the ecmp

540
00:27:34,330 --> 00:27:41,050
you want to use our 8 as the repair

541
00:27:37,300 --> 00:27:44,139
tunnel so what does this repair tunnel

542
00:27:41,050 --> 00:27:46,720
look like well our two creates a repair

543
00:27:44,140 --> 00:27:48,820
tunnel to the repair node node the

544
00:27:46,720 --> 00:27:51,960
repair tunnel has an outgoing PLR

545
00:27:48,820 --> 00:27:56,939
interface that's the interface to r3 and

546
00:27:51,960 --> 00:28:00,670
it has a list of adjacency segments MPLA

547
00:27:56,940 --> 00:28:03,310
that it has a repair list and the

548
00:28:00,670 --> 00:28:07,690
adjacency segment 10 10 that begins on

549
00:28:03,310 --> 00:28:12,280
10th r3 and ends on r4 so what what

550
00:28:07,690 --> 00:28:15,250
happens in this r2 pushes the label 2010

551
00:28:12,280 --> 00:28:20,050
and then the label 10 10 and forwards

552
00:28:15,250 --> 00:28:24,550
the packet to r3 r3 pops the label 10 10

553
00:28:20,050 --> 00:28:32,500
and that label causes it to Ford the

554
00:28:24,550 --> 00:28:34,000
packet to r4 r r4

555
00:28:32,500 --> 00:28:37,419
you

556
00:28:34,000 --> 00:28:39,970
forwards the packet all the way to our

557
00:28:37,419 --> 00:28:46,049
sex and it does this because of label

558
00:28:39,970 --> 00:28:49,090
2020 our eight receives the packet pop

559
00:28:46,049 --> 00:28:51,370
pops label 2020 and forwards the packet

560
00:28:49,090 --> 00:28:54,939
the rest of the way so what you see here

561
00:28:51,370 --> 00:28:57,129
is this repair tunnel the Green Line it

562
00:28:54,940 --> 00:29:02,470
didn't follow the ITP least-cost path

563
00:28:57,129 --> 00:29:04,689
from R 2 to R 4 um but it was traffic

564
00:29:02,470 --> 00:29:12,399
engineered in such a way that it pushed

565
00:29:04,690 --> 00:29:16,120
past the the the nodes that would have

566
00:29:12,399 --> 00:29:17,768
otherwise had to go through a node

567
00:29:16,120 --> 00:29:20,139
protection what are the requirements for

568
00:29:17,769 --> 00:29:22,210
the repair node the repair node must

569
00:29:20,139 --> 00:29:24,789
reside in the destinations cube space

570
00:29:22,210 --> 00:29:26,559
same as before and that means the

571
00:29:24,789 --> 00:29:31,658
destination has to be able to reach the

572
00:29:26,559 --> 00:29:33,220
repair node what in its pre convergent

573
00:29:31,659 --> 00:29:37,269
state without traversing the protected

574
00:29:33,220 --> 00:29:40,809
link so our sevinor and r8 are in the

575
00:29:37,269 --> 00:29:43,059
queue space r4 and r6 aren't in the

576
00:29:40,809 --> 00:29:45,879
queue space because of the ecmp to r7

577
00:29:43,059 --> 00:29:48,428
and in this case we chose our 8 as the

578
00:29:45,879 --> 00:29:52,590
repair node ELR we could have actually

579
00:29:48,429 --> 00:29:52,590
chosen r7 itself as the repair node

580
00:29:53,020 --> 00:29:58,240
and here's an example of what happens

581
00:29:56,110 --> 00:30:00,309
after the break this is exactly what I

582
00:29:58,240 --> 00:30:02,919
talked about a couple slides back are

583
00:30:00,309 --> 00:30:06,059
two pushes to labels on the packet and

584
00:30:02,919 --> 00:30:11,380
sends it through the repair tunnel to RA

585
00:30:06,059 --> 00:30:14,139
so wrapping up with some conclusions TI

586
00:30:11,380 --> 00:30:16,000
LFA is a fairly simple mechanism that

587
00:30:14,140 --> 00:30:18,730
can protect all nodes and links in all

588
00:30:16,000 --> 00:30:21,850
network topologies and for this reason

589
00:30:18,730 --> 00:30:25,779
we say that T il FA provides 100%

590
00:30:21,850 --> 00:30:28,570
coverage TI LFA is powerful enough to

591
00:30:25,779 --> 00:30:31,659
the motivate network operators to deploy

592
00:30:28,570 --> 00:30:33,668
SR there are many network operators who

593
00:30:31,659 --> 00:30:35,830
want their traffic to traverse the

594
00:30:33,669 --> 00:30:37,720
least-cost path from source source to

595
00:30:35,830 --> 00:30:39,370
destination they don't want to do any

596
00:30:37,720 --> 00:30:44,460
traffic engineering at all what they do

597
00:30:39,370 --> 00:30:47,770
want FR r and fr are gives them 100%

598
00:30:44,460 --> 00:30:50,470
coverage in any network topology so they

599
00:30:47,770 --> 00:30:52,120
deploy segment routing not because they

600
00:30:50,470 --> 00:30:53,980
want the traffic engineer their normal

601
00:30:52,120 --> 00:30:57,158
traffic but because they want the

602
00:30:53,980 --> 00:31:01,020
traffic engineer their repair paths well

603
00:30:57,159 --> 00:31:01,020
that's it and I'll open to questions now

604
00:31:09,050 --> 00:31:13,440
thank you very much Ron now we have

605
00:31:11,520 --> 00:31:14,940
three questions for you so far if

606
00:31:13,440 --> 00:31:17,670
anybody else wants to get a question

607
00:31:14,940 --> 00:31:19,590
real quick please submit it now I'll get

608
00:31:17,670 --> 00:31:22,260
to it of your time so the first question

609
00:31:19,590 --> 00:31:24,389
is while doing segment routing traffic

610
00:31:22,260 --> 00:31:27,120
engineering if the explicit note is

611
00:31:24,390 --> 00:31:30,720
failed does TI LFA have a mechanism to

612
00:31:27,120 --> 00:31:31,949
protect the node failure okay so first

613
00:31:30,720 --> 00:31:36,600
let's make sure I understand the

614
00:31:31,950 --> 00:31:40,800
question the protected node is the

615
00:31:36,600 --> 00:31:42,540
endpoint of AV prefix Ted hood said the

616
00:31:40,800 --> 00:31:45,600
protected node appears to be down I

617
00:31:42,540 --> 00:31:48,060
think the answer is that the behavior is

618
00:31:45,600 --> 00:31:49,740
configurable one possible behavior as

619
00:31:48,060 --> 00:31:53,820
you drop the packet because you cannot

620
00:31:49,740 --> 00:31:57,480
get to the protected notice down another

621
00:31:53,820 --> 00:31:58,860
is that you just go to the next node I'm

622
00:31:57,480 --> 00:32:00,600
gonna have to check on that and see if

623
00:31:58,860 --> 00:32:02,850
our implementation actually does both

624
00:32:00,600 --> 00:32:07,230
what I believe the behavior should be

625
00:32:02,850 --> 00:32:10,230
configurable all right the next question

626
00:32:07,230 --> 00:32:11,970
is for the LFA flavors each node has to

627
00:32:10,230 --> 00:32:14,580
compute LFA for every other node in the

628
00:32:11,970 --> 00:32:16,260
network yes it did not know that there's

629
00:32:14,580 --> 00:32:18,270
not that computation loads get very

630
00:32:16,260 --> 00:32:21,390
large yes it is computationally

631
00:32:18,270 --> 00:32:23,820
expensive and to reduce the expense

632
00:32:21,390 --> 00:32:26,040
there are some optimizations you might

633
00:32:23,820 --> 00:32:28,350
pick a repair node that is suboptimal

634
00:32:26,040 --> 00:32:30,930
but good enough to reduce the amount of

635
00:32:28,350 --> 00:32:33,209
up optimization there are other things

636
00:32:30,930 --> 00:32:35,310
that you can do even in a fairly

637
00:32:33,210 --> 00:32:38,160
complicated network we found that we can

638
00:32:35,310 --> 00:32:43,080
do good enough computations pretty

639
00:32:38,160 --> 00:32:45,150
quickly alright and next question is

640
00:32:43,080 --> 00:32:49,470
what is your opinion about the future of

641
00:32:45,150 --> 00:32:54,030
protecting srte policies by TI LFA on

642
00:32:49,470 --> 00:32:57,150
transit nodes okay protecting TI LFA

643
00:32:54,030 --> 00:33:01,560
policies on transit nodes let's say and

644
00:32:57,150 --> 00:33:05,820
we are talking about in SRM pls it says

645
00:33:01,560 --> 00:33:08,159
srte policies by okay in that case we're

646
00:33:05,820 --> 00:33:11,570
probably talking about SRM pls and yes

647
00:33:08,160 --> 00:33:11,570
it can be done on a transit node

648
00:33:11,950 --> 00:33:19,540
let's say well first of all TI LFA is

649
00:33:15,400 --> 00:33:20,800
all about prefix and node segments let's

650
00:33:19,540 --> 00:33:22,990
say you're in the middle of a node

651
00:33:20,800 --> 00:33:26,710
segment and you realize the link is down

652
00:33:22,990 --> 00:33:30,070
and you need a way to get to the segment

653
00:33:26,710 --> 00:33:33,910
endpoint um it's exactly as it was

654
00:33:30,070 --> 00:33:36,580
described in there and the slides what

655
00:33:33,910 --> 00:33:40,150
you do is push a few more labels that

656
00:33:36,580 --> 00:33:42,520
get you to the repair node and once you

657
00:33:40,150 --> 00:33:44,140
know the repair node might be a segment

658
00:33:42,520 --> 00:33:46,750
endpoint that might be a node on the

659
00:33:44,140 --> 00:33:48,460
path to the segment endpoint but neither

660
00:33:46,750 --> 00:33:51,700
event you're gonna get there and the

661
00:33:48,460 --> 00:33:53,710
repair path the the labels that

662
00:33:51,700 --> 00:33:55,990
represent the repair path will go away

663
00:33:53,710 --> 00:33:59,430
and you'll continue routing the packet

664
00:33:55,990 --> 00:34:02,350
on its merry way to the segment endpoint

665
00:33:59,430 --> 00:34:04,120
all right thank you very much I do

666
00:34:02,350 --> 00:34:06,520
apologize to all the questions that we

667
00:34:04,120 --> 00:34:08,918
have for another time but sure Ron would

668
00:34:06,520 --> 00:34:11,889
be perfectly happy to talk to you and I

669
00:34:08,918 --> 00:34:15,159
list or by some other mechanism please

670
00:34:11,889 --> 00:34:17,109
feel free don't you know yeah again

671
00:34:15,159 --> 00:34:19,149
thank you very much and that concludes

672
00:34:17,110 --> 00:34:22,169
our current session the next talk is the

673
00:34:19,150 --> 00:34:22,168
5g QuickStart

674
00:34:22,320 --> 00:34:25,429
[Music]

675
00:34:26,989 --> 00:34:29,049
you

