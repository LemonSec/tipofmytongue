1
00:00:00,170 --> 00:00:04,798
hi I'm<font color="#CCCCCC"> VJ kill this is</font><font color="#E5E5E5"> John Mitchell</font>

2
00:00:03,210 --> 00:00:09,030
join actually did most of the work here

3
00:00:04,799 --> 00:00:11,730
I'm just<font color="#E5E5E5"> speaking on it we</font><font color="#CCCCCC"> work well</font>

4
00:00:09,030 --> 00:00:13,579
<font color="#E5E5E5">specifically in the 8th edn division</font>

5
00:00:11,730 --> 00:00:19,140
which is the backbone portion of the UL

6
00:00:13,580 --> 00:00:20,970
business so this is<font color="#CCCCCC"> not something that</font>

7
00:00:19,140 --> 00:00:24,510
we have we have strong religious

8
00:00:20,970 --> 00:00:26,698
opinions about we considered ospf we

9
00:00:24,510 --> 00:00:30,199
were running OS be a fine we looked at

10
00:00:26,699 --> 00:00:34,290
is is<font color="#E5E5E5"> and for us</font><font color="#CCCCCC"> is s just happened to</font>

11
00:00:30,199 --> 00:00:37,020
give us more benefit and then ospf for

12
00:00:34,290 --> 00:00:39,989
other people the<font color="#E5E5E5"> equation may be</font>

13
00:00:37,020 --> 00:00:42,590
different so this<font color="#E5E5E5"> is a nice little quote</font>

14
00:00:39,989 --> 00:00:48,959
which basically sums up our philosophy

15
00:00:42,590 --> 00:00:50,640
on a<font color="#E5E5E5"> GPS so why did we do that why did</font>

16
00:00:48,960 --> 00:00:53,030
we<font color="#E5E5E5"> feel that 8th edn would be better</font>

17
00:00:50,640 --> 00:00:55,980
served by moving<font color="#E5E5E5"> to is is than ospf</font>

18
00:00:53,030 --> 00:00:58,770
simple because we were looking for

19
00:00:55,980 --> 00:01:01,288
features is is is a<font color="#E5E5E5"> fairly small knit</font>

20
00:00:58,770 --> 00:01:04,019
community there like a handful of large

21
00:01:01,289 --> 00:01:06,090
ISPs that run is is most mostly

22
00:01:04,019 --> 00:01:08,430
everybody else does<font color="#CCCCCC"> not care unlike ospf</font>

23
00:01:06,090 --> 00:01:10,140
so things<font color="#E5E5E5"> that we wanted done in the</font>

24
00:01:08,430 --> 00:01:12,270
protocol we could get a faster

25
00:01:10,140 --> 00:01:13,979
turnaround through the ITF through the

26
00:01:12,270 --> 00:01:15,839
vendors because<font color="#E5E5E5"> well they're basically</font>

27
00:01:13,979 --> 00:01:18,780
about 20 people who really care and we

28
00:01:15,840 --> 00:01:21,270
know all of them to<font color="#CCCCCC"> be specific the the</font>

29
00:01:18,780 --> 00:01:23,460
feature that drove<font color="#E5E5E5"> us fastest to ISS was</font>

30
00:01:21,270 --> 00:01:27,240
faster convergence<font color="#CCCCCC"> Cisco our primary</font>

31
00:01:23,460 --> 00:01:30,179
vendor that is putting in the fast we

32
00:01:27,240 --> 00:01:32,009
convergence code in is is first there

33
00:01:30,180 --> 00:01:33,869
are some security implications and as

34
00:01:32,009 --> 00:01:36,450
well<font color="#E5E5E5"> as simplicity because we went from</font>

35
00:01:33,869 --> 00:01:38,759
a multi area ospf to a single area is is

36
00:01:36,450 --> 00:01:40,320
so here's the good quote some people

37
00:01:38,759 --> 00:01:45,360
tend<font color="#E5E5E5"> to</font><font color="#CCCCCC"> think that is is is actually</font>

38
00:01:40,320 --> 00:01:47,699
complicated so that's chance really<font color="#CCCCCC"> X of</font>

39
00:01:45,360 --> 00:01:54,600
quest I believe he is completely

40
00:01:47,700 --> 00:01:58,140
incorrect now there's a large amount of

41
00:01:54,600 --> 00:01:59,669
discussion<font color="#CCCCCC"> in ospf</font><font color="#E5E5E5"> this is mr.</font><font color="#CCCCCC"> katsas</font>

42
00:01:58,140 --> 00:02:03,090
slide he gave it an a knock this is a

43
00:01:59,670 --> 00:02:04,799
URL the primary reason we were<font color="#E5E5E5"> concerned</font>

44
00:02:03,090 --> 00:02:07,710
about for security was packet bombs in

45
00:02:04,799 --> 00:02:09,569
ospf which really wasn't as big of a

46
00:02:07,710 --> 00:02:12,329
concern for AOL as it is for many other

47
00:02:09,568 --> 00:02:12,940
people<font color="#CCCCCC"> because we have filtering turned</font>

48
00:02:12,330 --> 00:02:15,390
on

49
00:02:12,940 --> 00:02:19,300
in almost every edge facing line card

50
00:02:15,390 --> 00:02:24,339
unfortunately not all of them but<font color="#E5E5E5"> the</font>

51
00:02:19,300 --> 00:02:25,990
big ones are all packet filter is<font color="#CCCCCC"> is</font>

52
00:02:24,340 --> 00:02:27,490
runs directly on l2 and therefore is

53
00:02:25,990 --> 00:02:31,750
much harder to spoof our attack from a

54
00:02:27,490 --> 00:02:34,540
distance simplicity this was I believe

55
00:02:31,750 --> 00:02:37,450
one<font color="#E5E5E5"> of the key drivers and that</font>

56
00:02:34,540 --> 00:02:42,519
motivated<font color="#CCCCCC"> our management to push for is</font>

57
00:02:37,450 --> 00:02:45,459
is we had ospf in in a multi area

58
00:02:42,520 --> 00:02:48,520
configuration in our pops it added

59
00:02:45,460 --> 00:02:51,040
complexity it added extra configuration

60
00:02:48,520 --> 00:02:53,410
it added typos because we are not where

61
00:02:51,040 --> 00:02:55,840
we are generating our router configs by

62
00:02:53,410 --> 00:02:58,150
automation yet we are still<font color="#E5E5E5"> doing some</font>

63
00:02:55,840 --> 00:03:01,870
of it by hand and people tend<font color="#E5E5E5"> to screw</font>

64
00:02:58,150 --> 00:03:05,590
up<font color="#CCCCCC"> Network statements masks and tend to</font>

65
00:03:01,870 --> 00:03:08,220
<font color="#E5E5E5">cause minor minor issues ospf also is</font>

66
00:03:05,590 --> 00:03:11,410
distance vector between<font color="#CCCCCC"> areas it's a</font>

67
00:03:08,220 --> 00:03:14,950
<font color="#CCCCCC">link-state</font><font color="#E5E5E5"> within an area but if you go</font>

68
00:03:11,410 --> 00:03:16,690
from area 0<font color="#E5E5E5"> sorry area x2 backbone to</font>

69
00:03:14,950 --> 00:03:21,100
area why you run a distance vector

70
00:03:16,690 --> 00:03:22,930
calculation is that a<font color="#E5E5E5"> real problem no</font>

71
00:03:21,100 --> 00:03:24,579
<font color="#E5E5E5">but the cisco guys felt that it would</font>

72
00:03:22,930 --> 00:03:26,709
add extra complexity that we didn't

73
00:03:24,580 --> 00:03:32,500
really<font color="#CCCCCC"> need the benefit was not worth</font>

74
00:03:26,709 --> 00:03:34,780
the extra extra amount<font color="#E5E5E5"> of work and also</font>

75
00:03:32,500 --> 00:03:36,640
flat areas are easy to maintain because

76
00:03:34,780 --> 00:03:40,150
we are not the smartest people around so

77
00:03:36,640 --> 00:03:42,700
what is simple is good so this<font color="#E5E5E5"> is what I</font>

78
00:03:40,150 --> 00:03:44,500
ospf area looked like and I actually

79
00:03:42,700 --> 00:03:46,390
<font color="#CCCCCC">apologize for actually having config</font>

80
00:03:44,500 --> 00:03:52,120
bits<font color="#E5E5E5"> instead of red router blue router</font>

81
00:03:46,390 --> 00:03:55,149
but this is so this<font color="#E5E5E5"> is</font><font color="#CCCCCC"> the backbone over</font>

82
00:03:52,120 --> 00:03:57,880
the top we have area 0<font color="#E5E5E5"> this is the the</font>

83
00:03:55,150 --> 00:03:59,739
pop all the edge routers are here they

84
00:03:57,880 --> 00:04:02,230
<font color="#E5E5E5">are in the area</font><font color="#CCCCCC"> X wherever the be</font>

85
00:03:59,739 --> 00:04:06,190
typical sorority of<font color="#E5E5E5"> the pop is again</font>

86
00:04:02,230 --> 00:04:07,988
fairly simple no rocket science here so

87
00:04:06,190 --> 00:04:09,700
here's our strategy the basic strategy

88
00:04:07,989 --> 00:04:11,830
was that when you're changing<font color="#CCCCCC"> the</font><font color="#E5E5E5"> tires</font>

89
00:04:09,700 --> 00:04:14,320
and a moving car make<font color="#CCCCCC"> sure that one</font>

90
00:04:11,830 --> 00:04:17,440
wheel is on<font color="#E5E5E5"> the ground at all times so</font>

91
00:04:14,320 --> 00:04:20,320
<font color="#CCCCCC">we ran the network in parallel install</font>

92
00:04:17,440 --> 00:04:22,530
is is verified the routes change the

93
00:04:20,320 --> 00:04:24,849
ospf distance to be higher than is is

94
00:04:22,530 --> 00:04:27,179
verify the network and then removed<font color="#CCCCCC"> ISS</font>

95
00:04:24,850 --> 00:04:32,350
<font color="#E5E5E5">I'm sorry ospf groups</font>

96
00:04:27,180 --> 00:04:34,030
that would have<font color="#E5E5E5"> been bad so here's what</font>

97
00:04:32,350 --> 00:04:36,760
our network look like the red star is

98
00:04:34,030 --> 00:04:40,590
approximately where we were doing the

99
00:04:36,760 --> 00:04:46,060
change<font color="#E5E5E5"> from so this is Japan over here</font>

100
00:04:40,590 --> 00:04:50,260
California Europe the US all of it<font color="#E5E5E5"> is OC</font>

101
00:04:46,060 --> 00:04:56,320
192 except portions of Japan this is a

102
00:04:50,260 --> 00:04:58,539
fairly large network and we also very

103
00:04:56,320 --> 00:05:00,700
important to verify out-of-band

104
00:04:58,540 --> 00:05:02,710
connectivity because<font color="#CCCCCC"> when you're doing</font>

105
00:05:00,700 --> 00:05:04,539
changes in band and you destroy your

106
00:05:02,710 --> 00:05:07,330
transport infrastructure you<font color="#E5E5E5"> cannot rely</font>

107
00:05:04,540 --> 00:05:08,800
on in band to get you out so the first

108
00:05:07,330 --> 00:05:09,940
thing we did was verify that we<font color="#E5E5E5"> had</font>

109
00:05:08,800 --> 00:05:11,680
<font color="#E5E5E5">out-of-band true out-of-band</font>

110
00:05:09,940 --> 00:05:15,750
connectivity to all our<font color="#E5E5E5"> pops before</font>

111
00:05:11,680 --> 00:05:15,750
making the change us yes you do the same

112
00:05:17,220 --> 00:05:22,690
so here's the<font color="#E5E5E5"> basically a prep we</font>

113
00:05:19,690 --> 00:05:26,620
<font color="#E5E5E5">qualified</font><font color="#CCCCCC"> an iOS loaded it onto a test</font>

114
00:05:22,690 --> 00:05:29,530
pop this is actually<font color="#CCCCCC"> a RTL is actually a</font>

115
00:05:26,620 --> 00:05:31,420
pop which is a live network pop has all

116
00:05:29,530 --> 00:05:32,799
the configurations but there are<font color="#CCCCCC"> no</font>

117
00:05:31,420 --> 00:05:34,660
customers on it so we can deploy

118
00:05:32,800 --> 00:05:35,860
incremental changes in that pop verify

119
00:05:34,660 --> 00:05:39,310
that it does what it's supposed to do

120
00:05:35,860 --> 00:05:40,600
<font color="#E5E5E5">and then if it goes goes wrong it</font>

121
00:05:39,310 --> 00:05:44,100
doesn't destroy the rest of the backbone

122
00:05:40,600 --> 00:05:47,140
or affect customers we develop scripts

123
00:05:44,100 --> 00:05:48,370
against this pop so that we could verify

124
00:05:47,140 --> 00:05:52,120
that what we're trying to do was

125
00:05:48,370 --> 00:05:54,330
actually correct oops whatever new here

126
00:05:52,120 --> 00:05:54,330
we go

127
00:05:56,220 --> 00:06:01,740
<font color="#E5E5E5">okay so the entire migration trip dude</font>

128
00:05:58,620 --> 00:06:03,660
took two days monday and wednesday were

129
00:06:01,740 --> 00:06:06,000
the effective days of change in the

130
00:06:03,660 --> 00:06:07,830
network so we verified the loaded

131
00:06:06,000 --> 00:06:10,110
configuration pre generated by script

132
00:06:07,830 --> 00:06:12,840
that<font color="#CCCCCC"> John wrote which took our ospf</font>

133
00:06:10,110 --> 00:06:14,730
configs from rancid repositories ran a

134
00:06:12,840 --> 00:06:18,659
script over them and spat out the ISS

135
00:06:14,730 --> 00:06:21,510
configs 1 / router which we loaded up we

136
00:06:18,660 --> 00:06:24,060
changed the ospf admin distance to 254

137
00:06:21,510 --> 00:06:25,980
on some edge routers to verify that the

138
00:06:24,060 --> 00:06:32,130
routing actually would work<font color="#CCCCCC"> rtl was one</font>

139
00:06:25,980 --> 00:06:34,470
of them then we compared ifs and ospf

140
00:06:32,130 --> 00:06:36,630
routes and each pair of routers to make

141
00:06:34,470 --> 00:06:39,030
sure that what was visible in is is and

142
00:06:36,630 --> 00:06:40,500
was reachable by is is was also

143
00:06:39,030 --> 00:06:46,260
congruent to what was visible in

144
00:06:40,500 --> 00:06:49,290
reachable by ospf then last minute check

145
00:06:46,260 --> 00:06:51,030
verify<font color="#CCCCCC"> that the ISS and ospf costs were</font>

146
00:06:49,290 --> 00:06:52,620
the same because we may have there was a

147
00:06:51,030 --> 00:06:54,179
delta between when we generated the

148
00:06:52,620 --> 00:06:55,950
configs and from when we actually

149
00:06:54,180 --> 00:06:57,990
<font color="#E5E5E5">executed the change admin distance</font>

150
00:06:55,950 --> 00:07:00,960
command so<font color="#E5E5E5"> he wanted to make sure the</font>

151
00:06:57,990 --> 00:07:04,590
right before we did it that that the

152
00:07:00,960 --> 00:07:06,599
ospf metric topology was congruent not

153
00:07:04,590 --> 00:07:09,030
the same but congruent to the ospf

154
00:07:06,600 --> 00:07:10,260
metric topology at that time then of

155
00:07:09,030 --> 00:07:12,570
course<font color="#CCCCCC"> there was some basic reach</font>

156
00:07:10,260 --> 00:07:15,150
ability tests ping the routers and rely

157
00:07:12,570 --> 00:07:16,610
on the NOC to monitor external sites to

158
00:07:15,150 --> 00:07:20,010
make sure that we had everything working

159
00:07:16,610 --> 00:07:22,050
according<font color="#CCCCCC"> to plan and of course there</font>

160
00:07:20,010 --> 00:07:24,030
was no migration verification done post

161
00:07:22,050 --> 00:07:25,770
migration because<font color="#E5E5E5"> if you want to verify</font>

162
00:07:24,030 --> 00:07:29,460
something after the horses out<font color="#E5E5E5"> of the</font>

163
00:07:25,770 --> 00:07:30,810
barn you've already<font color="#CCCCCC"> lost we ran a bunch</font>

164
00:07:29,460 --> 00:07:32,729
of scripts to remove the<font color="#CCCCCC"> West Pier</font>

165
00:07:30,810 --> 00:07:36,570
configuration<font color="#CCCCCC"> that was the day after the</font>

166
00:07:32,729 --> 00:07:42,210
<font color="#E5E5E5">week after and we were done so this is</font>

167
00:07:36,570 --> 00:07:43,530
what our is is<font color="#CCCCCC"> Network looks like now so</font>

168
00:07:42,210 --> 00:07:46,049
you<font color="#E5E5E5"> have the popper outers if you</font>

169
00:07:43,530 --> 00:07:47,609
remember from<font color="#CCCCCC"> the ospf slide and the</font>

170
00:07:46,050 --> 00:07:51,900
backbone area went<font color="#E5E5E5"> something through</font>

171
00:07:47,610 --> 00:07:54,600
like that half through the routers now

172
00:07:51,900 --> 00:07:56,159
they<font color="#CCCCCC"> have just</font><font color="#E5E5E5"> been pushed all flat is</font>

173
00:07:54,600 --> 00:07:59,910
is runs all the way down to<font color="#E5E5E5"> the edge</font>

174
00:07:56,160 --> 00:08:01,890
routers no major change here you will

175
00:07:59,910 --> 00:08:03,960
<font color="#CCCCCC">notice from the if you look back at the</font>

176
00:08:01,890 --> 00:08:07,500
slides on the web that<font color="#CCCCCC"> the metric</font><font color="#E5E5E5"> cost</font>

177
00:08:03,960 --> 00:08:09,560
here is higher than the<font color="#E5E5E5"> metra cost</font><font color="#CCCCCC"> there</font>

178
00:08:07,500 --> 00:08:10,760
in ospf and there

179
00:08:09,560 --> 00:08:15,639
reason for that which we will go<font color="#CCCCCC"> into</font>

180
00:08:10,760 --> 00:08:15,639
later any questions so far

181
00:08:21,120 --> 00:08:27,690
I am going deliberately fast because

182
00:08:23,220 --> 00:08:29,040
well this is kind of boring now I mean I

183
00:08:27,690 --> 00:08:32,219
could put in red routers blue raiders

184
00:08:29,040 --> 00:08:34,050
but might get shot<font color="#E5E5E5"> so here are the</font>

185
00:08:32,219 --> 00:08:37,440
config bits the essential config bits

186
00:08:34,049 --> 00:08:40,859
for<font color="#E5E5E5"> I</font><font color="#CCCCCC"> Assize configuration even IFI is</font>

187
00:08:37,440 --> 00:08:43,260
level<font color="#CCCCCC"> two because if at ever some point</font>

188
00:08:40,860 --> 00:08:46,020
we wanted to migrate to multi area is is

189
00:08:43,260 --> 00:08:48,150
if we ever grew that large we could

190
00:08:46,020 --> 00:08:49,890
easily incrementally add level<font color="#E5E5E5"> one as</font>

191
00:08:48,150 --> 00:08:51,270
opposed to having the entire back bonus

192
00:08:49,890 --> 00:08:56,550
level one<font color="#CCCCCC"> and then trying to retrofit</font>

193
00:08:51,270 --> 00:08:58,680
multi-layer and multi-level is is metric

194
00:08:56,550 --> 00:09:02,550
style wide standard so we could have

195
00:08:58,680 --> 00:09:04,260
congruent metric space with ospf and the

196
00:09:02,550 --> 00:09:09,300
key part here is external overload

197
00:09:04,260 --> 00:09:12,900
signaling is is some routers some

198
00:09:09,300 --> 00:09:16,050
vendors<font color="#E5E5E5"> routers will not drop an ISI</font>

199
00:09:12,900 --> 00:09:18,449
adjacency if DCF stops forwarding on the

200
00:09:16,050 --> 00:09:20,969
line card which means<font color="#CCCCCC"> that your router</font>

201
00:09:18,450 --> 00:09:23,070
<font color="#E5E5E5">will the interface and the line card</font>

202
00:09:20,970 --> 00:09:25,050
will stay active in the ISS topology and

203
00:09:23,070 --> 00:09:27,260
will be placed on the shortest path even

204
00:09:25,050 --> 00:09:31,620
<font color="#CCCCCC">though</font><font color="#E5E5E5"> it no longer forwards IP packets</font>

205
00:09:27,260 --> 00:09:34,260
this<font color="#E5E5E5"> command will tear down the the link</font>

206
00:09:31,620 --> 00:09:37,260
in case DCF fails on the particular line

207
00:09:34,260 --> 00:09:40,170
card or port and of course the standard

208
00:09:37,260 --> 00:09:42,689
<font color="#CCCCCC">wait for bgp because the is is converges</font>

209
00:09:40,170 --> 00:09:44,430
in order of seconds vgp converges on the

210
00:09:42,690 --> 00:09:46,080
order of minutes and<font color="#E5E5E5"> you don't want to</font>

211
00:09:44,430 --> 00:09:48,000
place a router in the shortest path

212
00:09:46,080 --> 00:09:50,100
before it has all the routes otherwise

213
00:09:48,000 --> 00:09:51,990
you will black hole traffic until such a

214
00:09:50,100 --> 00:09:54,720
time you are finished with the<font color="#CCCCCC"> bdp</font>

215
00:09:51,990 --> 00:09:56,730
<font color="#CCCCCC">conversion of course no hello padding</font>

216
00:09:54,720 --> 00:09:58,980
this was<font color="#E5E5E5"> used when there was actually a</font>

217
00:09:56,730 --> 00:10:00,510
chance of MTU mismatches that<font color="#CCCCCC"> is no</font>

218
00:09:58,980 --> 00:10:05,730
longer the case<font color="#E5E5E5"> our vendors have</font>

219
00:10:00,510 --> 00:10:09,540
deprecated this command so here's a

220
00:10:05,730 --> 00:10:12,810
little<font color="#E5E5E5"> bit for design for this we went</font>

221
00:10:09,540 --> 00:10:14,760
with the standard ibgp hack earlier we

222
00:10:12,810 --> 00:10:18,029
were<font color="#E5E5E5"> lying on ospf and specific</font>

223
00:10:14,760 --> 00:10:20,760
allocations per pop to carry the reach

224
00:10:18,029 --> 00:10:22,920
ability into the pop we no longer care

225
00:10:20,760 --> 00:10:27,120
for that we have removed that all<font color="#E5E5E5"> legend</font>

226
00:10:22,920 --> 00:10:28,979
<font color="#E5E5E5">true faces are put into</font><font color="#CCCCCC"> BGP ISS will</font>

227
00:10:27,120 --> 00:10:32,130
still be preferred for those prefixes or

228
00:10:28,980 --> 00:10:33,570
links that are in is is<font color="#CCCCCC"> because I sis</font>

229
00:10:32,130 --> 00:10:37,360
has the lower

230
00:10:33,570 --> 00:10:39,220
and redistribution to the<font color="#CCCCCC"> BGP was so</font>

231
00:10:37,360 --> 00:10:41,740
that we<font color="#CCCCCC"> could reduce our SPF now is</font><font color="#E5E5E5"> this</font>

232
00:10:39,220 --> 00:10:45,040
really a problem for our network very

233
00:10:41,740 --> 00:10:47,830
large very flat very fat pipes it's not

234
00:10:45,040 --> 00:10:49,900
<font color="#E5E5E5">a whole mesh no it's not really</font><font color="#CCCCCC"> a</font>

235
00:10:47,830 --> 00:10:54,810
problem but it was a zero cost

236
00:10:49,900 --> 00:10:54,810
optimization then hurt us so we did it

237
00:10:55,950 --> 00:11:04,870
so here's some of our costing design as

238
00:11:00,370 --> 00:11:06,610
you saw saw before and these links i

239
00:11:04,870 --> 00:11:09,850
love this laser pointer by the way

240
00:11:06,610 --> 00:11:13,300
thanks<font color="#E5E5E5"> avi these links</font><font color="#CCCCCC"> are</font><font color="#E5E5E5"> on very high</font>

241
00:11:09,850 --> 00:11:16,960
<font color="#E5E5E5">cost 500 500 backbone costs are in the</font>

242
00:11:13,300 --> 00:11:24,250
order of<font color="#E5E5E5"> 10 120 the reason we did that</font>

243
00:11:16,960 --> 00:11:26,290
was if oops if this link fails we do not

244
00:11:24,250 --> 00:11:28,210
want<font color="#E5E5E5"> traffic inversion that if this the</font>

245
00:11:26,290 --> 00:11:30,160
backbone<font color="#E5E5E5"> rather the backbone router link</font>

246
00:11:28,210 --> 00:11:31,660
goes down we do not want<font color="#E5E5E5"> traffic to go</font>

247
00:11:30,160 --> 00:11:34,360
through the pop router<font color="#E5E5E5"> back up to the</font>

248
00:11:31,660 --> 00:11:40,030
backbone router and through the through

249
00:11:34,360 --> 00:11:42,430
the network so<font color="#CCCCCC"> we added 500 to the ospf</font>

250
00:11:40,030 --> 00:11:44,620
metric which was<font color="#E5E5E5"> like 12 or 4 which is</font>

251
00:11:42,430 --> 00:11:46,180
the standard<font color="#CCCCCC"> entry pop metric so that we</font>

252
00:11:44,620 --> 00:11:47,560
could<font color="#E5E5E5"> never have traffic</font><font color="#CCCCCC"> conversion this</font>

253
00:11:46,180 --> 00:11:50,819
<font color="#E5E5E5">is at least an order of magnitude higher</font>

254
00:11:47,560 --> 00:11:53,290
than any other costs in the backbone of

255
00:11:50,820 --> 00:11:54,880
course the<font color="#E5E5E5"> problem with</font><font color="#CCCCCC"> that is that it</font>

256
00:11:53,290 --> 00:11:58,420
leads directly to the<font color="#CCCCCC"> med oscillation</font>

257
00:11:54,880 --> 00:11:59,530
issue and so the way we mitigated the

258
00:11:58,420 --> 00:12:01,240
med oscillation issue and there<font color="#E5E5E5"> are</font>

259
00:11:59,530 --> 00:12:03,040
several like presentations from<font color="#CCCCCC"> Cisco</font>

260
00:12:01,240 --> 00:12:06,850
there's a draft out on this or RFC now

261
00:12:03,040 --> 00:12:09,099
is that we turned on full mesh if<font color="#E5E5E5"> within</font>

262
00:12:06,850 --> 00:12:11,980
the client I'm sorry within the butter

263
00:12:09,100 --> 00:12:15,610
within the pop and made sure that the

264
00:12:11,980 --> 00:12:17,560
cost of the<font color="#E5E5E5"> inter pop the inter pop</font>

265
00:12:15,610 --> 00:12:20,430
links the backbone links was greater

266
00:12:17,560 --> 00:12:23,109
than the cost differences within the pop

267
00:12:20,430 --> 00:12:24,760
<font color="#E5E5E5">okay so it's the cost differences within</font>

268
00:12:23,110 --> 00:12:27,250
the coop<font color="#CCCCCC"> iran the order of two or four</font>

269
00:12:24,760 --> 00:12:31,000
make<font color="#CCCCCC"> sure that</font><font color="#E5E5E5"> the lowest backbone cost</font>

270
00:12:27,250 --> 00:12:32,560
is on the order of n make sure otherwise

271
00:12:31,000 --> 00:12:34,450
you will have<font color="#CCCCCC"> bgp made oscillation</font>

272
00:12:32,560 --> 00:12:36,130
issues and of course that<font color="#E5E5E5"> changed our</font>

273
00:12:34,450 --> 00:12:37,810
<font color="#E5E5E5">cost</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> procedure to add 10,000 to the</font>

274
00:12:36,130 --> 00:12:40,300
interface so there's no way anybody's

275
00:12:37,810 --> 00:12:43,050
going to<font color="#E5E5E5"> use</font><font color="#CCCCCC"> that so here's the actual</font>

276
00:12:40,300 --> 00:12:43,050
timeline

277
00:12:44,290 --> 00:12:56,060
about two<font color="#CCCCCC"> hours load the ISS config this</font>

278
00:12:49,459 --> 00:12:57,859
is about six a.m. onwards verify the

279
00:12:56,060 --> 00:13:00,140
routes this is on<font color="#E5E5E5"> Monday we started with</font>

280
00:12:57,860 --> 00:13:02,329
Lord diocese configuration Tuesday make

281
00:13:00,140 --> 00:13:05,420
<font color="#CCCCCC">sure all the routers in is is the same</font>

282
00:13:02,329 --> 00:13:08,000
as they are<font color="#E5E5E5"> in ospf switch the distance</font>

283
00:13:05,420 --> 00:13:11,449
at three in the morning confirm that all

284
00:13:08,000 --> 00:13:16,000
the reach works that's this time is

285
00:13:11,450 --> 00:13:19,640
total about four hours and a week later

286
00:13:16,000 --> 00:13:25,250
monday Monday remove all ospf from the

287
00:13:19,640 --> 00:13:26,600
background the change loading ass has

288
00:13:25,250 --> 00:13:28,730
config was completely non-disruptive

289
00:13:26,600 --> 00:13:31,779
nothing happened which was<font color="#CCCCCC"> a pleasant</font>

290
00:13:28,730 --> 00:13:34,279
surprise it has not<font color="#CCCCCC"> been the case always</font>

291
00:13:31,779 --> 00:13:36,260
we had a script that took our ospf

292
00:13:34,279 --> 00:13:38,810
config at that moment from the last

293
00:13:36,260 --> 00:13:40,670
rancid run dumped it into is is and then

294
00:13:38,810 --> 00:13:45,018
was copy to each router at that point

295
00:13:40,670 --> 00:13:46,399
new<font color="#E5E5E5"> ice ice router router a news so we</font>

296
00:13:45,019 --> 00:13:48,680
wrote a bunch of scripts that compared

297
00:13:46,399 --> 00:13:50,420
the ayah size topology with our ospf

298
00:13:48,680 --> 00:13:52,219
topology make sure that the topologies

299
00:13:50,420 --> 00:13:53,719
were congruent that we were not routing

300
00:13:52,220 --> 00:13:56,990
to<font color="#CCCCCC"> Timbuktu when</font><font color="#E5E5E5"> we really should be</font>

301
00:13:53,720 --> 00:14:00,470
<font color="#E5E5E5">riding to Tokyo check the ISS database</font>

302
00:13:56,990 --> 00:14:02,899
that the is is topology the the<font color="#E5E5E5"> actual</font>

303
00:14:00,470 --> 00:14:05,180
database was congruent with the ospf

304
00:14:02,899 --> 00:14:07,010
database we took both databases out and

305
00:14:05,180 --> 00:14:10,729
compared them John again wrote those

306
00:14:07,010 --> 00:14:13,819
scripts very tough then<font color="#CCCCCC"> on selected edge</font>

307
00:14:10,730 --> 00:14:15,800
routers we push the ospf<font color="#E5E5E5"> costs up to 250</font>

308
00:14:13,820 --> 00:14:17,630
<font color="#E5E5E5">for so that the OSP routes for that</font>

309
00:14:15,800 --> 00:14:20,329
network for that particular router will

310
00:14:17,630 --> 00:14:21,709
no longer in use so now at<font color="#CCCCCC"> this point</font><font color="#E5E5E5"> we</font>

311
00:14:20,329 --> 00:14:24,079
<font color="#CCCCCC">have the network in a half and half</font>

312
00:14:21,709 --> 00:14:26,510
<font color="#E5E5E5">state to get to some network so you are</font>

313
00:14:24,079 --> 00:14:28,459
following the ospf topology and to get

314
00:14:26,510 --> 00:14:30,620
to some peers in other parts of the

315
00:14:28,459 --> 00:14:33,439
<font color="#E5E5E5">network we are following the eye of the</font>

316
00:14:30,620 --> 00:14:34,490
ospf topology so good thing that<font color="#E5E5E5"> we</font><font color="#CCCCCC"> had</font>

317
00:14:33,440 --> 00:14:36,140
<font color="#E5E5E5">verified</font><font color="#CCCCCC"> that they were congruent</font>

318
00:14:34,490 --> 00:14:37,399
because this is where if there is

319
00:14:36,140 --> 00:14:39,500
trouble this<font color="#E5E5E5"> is where you'll start to</font>

320
00:14:37,399 --> 00:14:42,199
see it as you start to have loops

321
00:14:39,500 --> 00:14:44,510
because<font color="#E5E5E5"> your or ospf tree is pointing in</font>

322
00:14:42,199 --> 00:14:49,250
one way and your is<font color="#CCCCCC"> is-3 is</font><font color="#E5E5E5"> pointing the</font>

323
00:14:44,510 --> 00:14:51,019
other way again compared then we made

324
00:14:49,250 --> 00:14:56,449
the<font color="#CCCCCC"> go/no-go decision to move forward</font>

325
00:14:51,019 --> 00:14:57,290
with this one other thing that that was

326
00:14:56,449 --> 00:14:59,329
unexpected

327
00:14:57,290 --> 00:15:00,769
and that we we actually knew<font color="#CCCCCC"> about but</font>

328
00:14:59,329 --> 00:15:03,979
we didn't<font color="#E5E5E5"> actually think that we're</font>

329
00:15:00,769 --> 00:15:06,680
going<font color="#E5E5E5"> to hit it was that changing the</font>

330
00:15:03,980 --> 00:15:09,500
metric<font color="#E5E5E5"> affects the med now due to our</font>

331
00:15:06,680 --> 00:15:15,560
change in the inter pop sorry the intra

332
00:15:09,500 --> 00:15:20,449
pop links are is is metrics were higher

333
00:15:15,560 --> 00:15:22,699
than the equivalent ospf metrics now the

334
00:15:20,449 --> 00:15:24,319
topologies were congruent but the costs

335
00:15:22,699 --> 00:15:27,949
were different this is<font color="#E5E5E5"> very important</font>

336
00:15:24,319 --> 00:15:30,019
because one minute<font color="#E5E5E5"> after the new</font><font color="#CCCCCC"> igp</font>

337
00:15:27,949 --> 00:15:34,389
change the cost has been propagated into

338
00:15:30,019 --> 00:15:36,829
the network the<font color="#E5E5E5"> BGP will change its med</font>

339
00:15:34,389 --> 00:15:40,100
unfortunately this is again vendor

340
00:15:36,829 --> 00:15:43,099
implementation the<font color="#E5E5E5"> BGP the metric change</font>

341
00:15:40,100 --> 00:15:45,139
will not propagate for<font color="#E5E5E5"> 10 minutes and we</font>

342
00:15:43,100 --> 00:15:47,480
had a large beer that was listening<font color="#CCCCCC"> to</font>

343
00:15:45,139 --> 00:15:50,029
our meds unfortunately we did not also

344
00:15:47,480 --> 00:15:51,620
have enough capacity to that beard that

345
00:15:50,029 --> 00:15:55,250
we could<font color="#E5E5E5"> change the cost on one router</font>

346
00:15:51,620 --> 00:15:56,930
and then<font color="#E5E5E5"> as everything went away from</font>

347
00:15:55,250 --> 00:15:59,089
that router because the<font color="#CCCCCC"> OSB of course I</font>

348
00:15:56,930 --> 00:16:01,880
<font color="#CCCCCC">a--this</font><font color="#E5E5E5"> cost was higher we did not have</font>

349
00:15:59,089 --> 00:16:05,389
enough capacity on other circuit to take

350
00:16:01,880 --> 00:16:07,850
the entire load so those large<font color="#E5E5E5"> peers</font>

351
00:16:05,389 --> 00:16:10,579
were special cased we loaded<font color="#CCCCCC"> them</font>

352
00:16:07,850 --> 00:16:13,130
manually and then migrated the entire

353
00:16:10,579 --> 00:16:17,569
set<font color="#E5E5E5"> of those routers at the same time we</font>

354
00:16:13,130 --> 00:16:19,850
manually cleared the IP bgp soft out to

355
00:16:17,569 --> 00:16:21,439
ensure that that the metric changes for

356
00:16:19,850 --> 00:16:23,750
that particular peer took place roughly

357
00:16:21,440 --> 00:16:25,940
within a couple of seconds worth of

358
00:16:23,750 --> 00:16:27,740
window so that we didn't<font color="#CCCCCC"> have a huge</font>

359
00:16:25,940 --> 00:16:33,740
traffic sloshed and I'm talking<font color="#CCCCCC"> on the</font>

360
00:16:27,740 --> 00:16:38,120
order of like multiple multiple gigs<font color="#CCCCCC"> so</font>

361
00:16:33,740 --> 00:16:39,500
the big<font color="#CCCCCC"> one Wednesday morning we</font>

362
00:16:38,120 --> 00:16:41,180
verified that the current<font color="#CCCCCC"> network</font>

363
00:16:39,500 --> 00:16:44,449
metrics were consistent<font color="#CCCCCC"> with the config</font>

364
00:16:41,180 --> 00:16:46,279
files the ospf metrics manually changed

365
00:16:44,449 --> 00:16:48,410
the admin distance on a few riders so we

366
00:16:46,279 --> 00:16:52,339
saw a<font color="#E5E5E5"> slow started it verified that it</font>

367
00:16:48,410 --> 00:16:55,730
was a go no-go and then ran a script to

368
00:16:52,339 --> 00:16:58,910
change the entire network now looking

369
00:16:55,730 --> 00:17:01,730
<font color="#CCCCCC">back to</font><font color="#E5E5E5"> the star</font><font color="#CCCCCC"> I was pointing about we</font>

370
00:16:58,910 --> 00:17:04,819
ran the ospf conversion in order of

371
00:17:01,730 --> 00:17:07,309
<font color="#E5E5E5">distance from where we were actually</font>

372
00:17:04,819 --> 00:17:10,280
attaching to the network so that in case

373
00:17:07,309 --> 00:17:13,069
we actually screwed up something bad

374
00:17:10,280 --> 00:17:16,490
we could still<font color="#CCCCCC"> go to the point closest</font>

375
00:17:13,069 --> 00:17:19,250
to that screw up manually go link by

376
00:17:16,490 --> 00:17:20,930
link and then fix the problem we had out

377
00:17:19,250 --> 00:17:23,500
of<font color="#E5E5E5"> band but we prefer not to use it if</font>

378
00:17:20,930 --> 00:17:26,630
possible because out of<font color="#E5E5E5"> band is slow</font>

379
00:17:23,500 --> 00:17:30,590
once we verify that we<font color="#E5E5E5"> ran everything in</font>

380
00:17:26,630 --> 00:17:32,480
those order so Europe Asia<font color="#E5E5E5"> of Brazil the</font>

381
00:17:30,590 --> 00:17:34,520
u.s. edge routers and then the<font color="#CCCCCC"> u.s.</font>

382
00:17:32,480 --> 00:17:36,470
co-writers and then the<font color="#CCCCCC"> last one was the</font>

383
00:17:34,520 --> 00:17:39,260
data center DC area where we were

384
00:17:36,470 --> 00:17:40,610
actually sitting so that if anything had

385
00:17:39,260 --> 00:17:43,760
started going wrong at the edges you

386
00:17:40,610 --> 00:17:45,530
would know about it by now so all the

387
00:17:43,760 --> 00:17:48,080
routers all the routes that<font color="#CCCCCC"> are external</font>

388
00:17:45,530 --> 00:17:54,889
<font color="#E5E5E5">routes and ospf are now carried a night</font>

389
00:17:48,080 --> 00:17:59,050
<font color="#E5E5E5">ibgp oh that's a lot of talk any</font>

390
00:17:54,890 --> 00:17:59,050
questions so far anybody still awake

391
00:17:59,320 --> 00:18:12,220
<font color="#CCCCCC">okay</font><font color="#E5E5E5"> I have the laser pointer avi susan</font>

392
00:18:09,920 --> 00:18:12,220
<font color="#CCCCCC">has a question</font>

393
00:18:13,799 --> 00:18:18,330
during them during the migration did you

394
00:18:16,409 --> 00:18:21,139
run<font color="#E5E5E5"> into any undocumented or unfound</font>

395
00:18:18,330 --> 00:18:23,158
bugs with an iOS regarding is is

396
00:18:21,139 --> 00:18:25,080
strangely enough we were actually just

397
00:18:23,159 --> 00:18:28,200
talking about<font color="#E5E5E5"> going to talk about that</font>

398
00:18:25,080 --> 00:18:30,299
<font color="#CCCCCC">right now in this slide there were some</font>

399
00:18:28,200 --> 00:18:32,129
is I as fixes that were put into the

400
00:18:30,299 --> 00:18:36,179
code that<font color="#CCCCCC"> was qualified for deployment</font>

401
00:18:32,129 --> 00:18:39,299
they were actually knock<font color="#CCCCCC"> on wood nothing</font>

402
00:18:36,179 --> 00:18:41,999
happened there were no bugs it just

403
00:18:39,299 --> 00:18:45,690
worked I mean you<font color="#E5E5E5"> could have like Victor</font>

404
00:18:41,999 --> 00:18:51,419
jaws up off the floor which<font color="#E5E5E5"> version huh</font>

405
00:18:45,690 --> 00:18:53,549
which version<font color="#CCCCCC"> of iOS 21 f</font><font color="#E5E5E5"> 7 it was s</font>

406
00:18:51,419 --> 00:18:58,200
seven or six at the time basically<font color="#E5E5E5"> n</font>

407
00:18:53,549 --> 00:19:04,649
plus 1 whatever n is at any given<font color="#E5E5E5"> day so</font>

408
00:18:58,200 --> 00:19:07,590
<font color="#E5E5E5">that act I'm sure yellow I repeat the</font>

409
00:19:04,649 --> 00:19:10,199
question is<font color="#CCCCCC"> wow he said the timeline was</font>

410
00:19:07,590 --> 00:19:12,749
one weeks from the time you started to

411
00:19:10,200 --> 00:19:14,820
flourish and just the cutover but how

412
00:19:12,749 --> 00:19:16,230
much pre-planning did you have to do to

413
00:19:14,820 --> 00:19:19,439
write the scripts<font color="#E5E5E5"> I mean was that like</font>

414
00:19:16,230 --> 00:19:21,149
six months two days kind of the scope of

415
00:19:19,440 --> 00:19:24,450
the project itself John will<font color="#CCCCCC"> be better</font>

416
00:19:21,149 --> 00:19:26,820
able to answer that yeah so there was

417
00:19:24,450 --> 00:19:28,590
kind of a number<font color="#CCCCCC"> of other issues that I</font>

418
00:19:26,820 --> 00:19:30,960
think<font color="#E5E5E5"> you all recall with the security</font>

419
00:19:28,590 --> 00:19:34,320
related issues with certain vendors code

420
00:19:30,960 --> 00:19:36,059
so a lot of<font color="#E5E5E5"> things mid</font><font color="#CCCCCC"> stopped the</font>

421
00:19:34,320 --> 00:19:38,879
rollout from occurring when we first

422
00:19:36,059 --> 00:19:42,928
designed it so in actuality we decided

423
00:19:38,879 --> 00:19:46,109
to move to Isis roughly nine months or a

424
00:19:42,929 --> 00:19:47,789
year before we actually did the rollout

425
00:19:46,109 --> 00:19:49,799
now<font color="#CCCCCC"> obviously we didn't spend all that</font>

426
00:19:47,789 --> 00:19:53,489
much time working on<font color="#CCCCCC"> those</font><font color="#E5E5E5"> things but</font>

427
00:19:49,799 --> 00:19:57,320
<font color="#E5E5E5">I'd say that man hours in scripting and</font>

428
00:19:53,489 --> 00:20:00,389
preparation were along the lines of

429
00:19:57,320 --> 00:20:02,279
maybe two weeks on the scripting and

430
00:20:00,389 --> 00:20:03,719
stuff side and then on the iOS like

431
00:20:02,279 --> 00:20:06,779
coming up with the config and stuff I

432
00:20:03,720 --> 00:20:08,549
mean<font color="#E5E5E5"> that was that was yeah maybe about</font>

433
00:20:06,779 --> 00:20:10,080
a month because of<font color="#CCCCCC"> the testing that</font><font color="#E5E5E5"> was</font>

434
00:20:08,549 --> 00:20:11,000
<font color="#E5E5E5">involved for Isis to make sure that</font>

435
00:20:10,080 --> 00:20:16,399
everything<font color="#CCCCCC"> was</font><font color="#E5E5E5"> going</font>

436
00:20:11,000 --> 00:20:19,580
okay we<font color="#E5E5E5"> have another question okay hey</font>

437
00:20:16,400 --> 00:20:23,000
<font color="#CCCCCC">Vijay hey in when you were trying</font><font color="#E5E5E5"> to</font>

438
00:20:19,580 --> 00:20:24,639
solve the transitivity problem through

439
00:20:23,000 --> 00:20:27,530
the edge routers did you consider

440
00:20:24,640 --> 00:20:29,570
setting the Overlook bit permanently on

441
00:20:27,530 --> 00:20:31,070
those routers no because<font color="#E5E5E5"> you were</font>

442
00:20:29,570 --> 00:20:34,460
putting the loopback only<font color="#E5E5E5"> in you weren't</font>

443
00:20:31,070 --> 00:20:36,230
redistributing<font color="#CCCCCC"> connectors anymore no we</font>

444
00:20:34,460 --> 00:20:38,990
did not said<font color="#CCCCCC"> that because we actually</font>

445
00:20:36,230 --> 00:20:41,030
wanted we were fairly confident that the

446
00:20:38,990 --> 00:20:42,260
network's the topologies were actually

447
00:20:41,030 --> 00:20:44,600
congruent so they would do the right

448
00:20:42,260 --> 00:20:46,220
thing from routing perspective which no

449
00:20:44,600 --> 00:20:49,610
matter which database you pick to route

450
00:20:46,220 --> 00:20:51,040
<font color="#E5E5E5">with we deliberately did not put up no</font>

451
00:20:49,610 --> 00:20:54,590
overload because we wanted<font color="#E5E5E5"> to verify</font>

452
00:20:51,040 --> 00:20:57,230
connectivity through those routers right

453
00:20:54,590 --> 00:21:00,050
so we're using BGR non bgp routes then

454
00:20:57,230 --> 00:21:01,070
yes<font color="#E5E5E5"> okay so because I was just thinking</font>

455
00:21:00,050 --> 00:21:03,830
we were thinking of<font color="#E5E5E5"> doing that ourselves</font>

456
00:21:01,070 --> 00:21:05,780
and I<font color="#E5E5E5"> wanted to see if you know rather</font>

457
00:21:03,830 --> 00:21:07,730
than going through the<font color="#E5E5E5"> Med oscillation</font>

458
00:21:05,780 --> 00:21:08,990
problem in that you change the IDP

459
00:21:07,730 --> 00:21:11,600
metrics and then of course<font color="#CCCCCC"> the meds</font>

460
00:21:08,990 --> 00:21:14,210
changed right if you consider using that

461
00:21:11,600 --> 00:21:16,550
method so you can maintain metric

462
00:21:14,210 --> 00:21:18,890
congruence you know between ospf and<font color="#CCCCCC"> is</font>

463
00:21:16,550 --> 00:21:20,300
<font color="#CCCCCC">is and</font><font color="#E5E5E5"> I have to deal with that</font><font color="#CCCCCC"> now we</font>

464
00:21:18,890 --> 00:21:22,430
decided to sweldn worth the effort and

465
00:21:20,300 --> 00:21:25,399
i'll show<font color="#CCCCCC"> you in the slide we</font><font color="#E5E5E5"> actually</font>

466
00:21:22,430 --> 00:21:27,560
did it<font color="#E5E5E5"> while passing live traffic and so</font>

467
00:21:25,400 --> 00:21:30,530
there was actually no disruption<font color="#E5E5E5"> I got</font>

468
00:21:27,560 --> 00:21:31,909
to have court so the convergence time

469
00:21:30,530 --> 00:21:35,990
for installation in the forwarding table

470
00:21:31,910 --> 00:21:37,310
so that then that was under a second and

471
00:21:35,990 --> 00:21:38,660
the<font color="#E5E5E5"> reason for that was that there were</font>

472
00:21:37,310 --> 00:21:41,419
no<font color="#CCCCCC"> self updates to the forwarding table</font>

473
00:21:38,660 --> 00:21:43,010
now this is a non intuitive result and

474
00:21:41,420 --> 00:21:44,750
we<font color="#E5E5E5"> were kind of surprised by it</font>

475
00:21:43,010 --> 00:21:49,670
ourselves but we verified it repeatedly

476
00:21:44,750 --> 00:21:53,090
in<font color="#E5E5E5"> the lab the costs changed but the</font>

477
00:21:49,670 --> 00:21:54,680
topology did not this is<font color="#CCCCCC"> the key part so</font>

478
00:21:53,090 --> 00:21:57,169
the cost to reach certain things have

479
00:21:54,680 --> 00:21:59,930
changed but the the bads you would take

480
00:21:57,170 --> 00:22:04,520
the shortest path tree was still in the

481
00:21:59,930 --> 00:22:06,950
same shape so the forwarding table would

482
00:22:04,520 --> 00:22:09,950
did not need<font color="#E5E5E5"> to be updated when we</font>

483
00:22:06,950 --> 00:22:11,840
switched from ospf and routing an ospf

484
00:22:09,950 --> 00:22:14,270
to routing and is is this<font color="#CCCCCC"> is very</font>

485
00:22:11,840 --> 00:22:16,429
important because the entire section for

486
00:22:14,270 --> 00:22:18,260
the new routes was under a second we use

487
00:22:16,430 --> 00:22:21,190
under a second because<font color="#E5E5E5"> our lowest</font>

488
00:22:18,260 --> 00:22:23,600
resolution we could get<font color="#E5E5E5"> with a second so</font>

489
00:22:21,190 --> 00:22:24,320
it could<font color="#CCCCCC"> be like on the order of like</font>

490
00:22:23,600 --> 00:22:28,070
100

491
00:22:24,320 --> 00:22:30,019
we would not know and of course very

492
00:22:28,070 --> 00:22:35,200
important thing last but not the least

493
00:22:30,019 --> 00:22:35,200
<font color="#CCCCCC">roll back in case we did make an error</font>

494
00:22:36,039 --> 00:22:40,399
we were we have pre written scripts that

495
00:22:38,720 --> 00:22:41,840
were immediately roll back the network

496
00:22:40,399 --> 00:22:43,639
in reverse order from where we started

497
00:22:41,840 --> 00:22:45,980
so in this case<font color="#E5E5E5"> we would start rolling</font>

498
00:22:43,639 --> 00:22:47,990
back from where we were to the edge as

499
00:22:45,980 --> 00:22:55,850
opposed to rolling back in from the edge

500
00:22:47,990 --> 00:22:57,980
to out whoa please<font color="#CCCCCC"> bill and after it was</font>

501
00:22:55,850 --> 00:23:00,799
all burnt in one week later John ran a

502
00:22:57,980 --> 00:23:04,490
script removed all ospf the old configs

503
00:23:00,799 --> 00:23:06,470
are archived in<font color="#CCCCCC"> transit we are done so</font>

504
00:23:04,490 --> 00:23:07,909
this<font color="#CCCCCC"> is actually</font><font color="#E5E5E5"> the mail that was sent</font>

505
00:23:06,470 --> 00:23:11,720
out after the maintenance was done

506
00:23:07,909 --> 00:23:13,850
here's their user graphs and this is the

507
00:23:11,720 --> 00:23:16,340
line of truth this is when the actual

508
00:23:13,850 --> 00:23:19,969
maintenance was happening and as you can

509
00:23:16,340 --> 00:23:23,889
see there<font color="#CCCCCC"> is no user drop whatsoever and</font>

510
00:23:19,970 --> 00:23:26,240
our client is extremely susceptible to

511
00:23:23,889 --> 00:23:28,668
extreme<font color="#CCCCCC"> Lee's perhaps an understated</font>

512
00:23:26,240 --> 00:23:30,799
word is very successful<font color="#CCCCCC"> to routing</font>

513
00:23:28,669 --> 00:23:36,200
changes it drops users left and right if

514
00:23:30,799 --> 00:23:38,090
you if you change things match here's an

515
00:23:36,200 --> 00:23:41,629
actual traffic graph this is<font color="#E5E5E5"> speaking to</font>

516
00:23:38,090 --> 00:23:43,850
<font color="#E5E5E5">chris martin's point this is in gigabits</font>

517
00:23:41,629 --> 00:23:45,168
per second here blah blah time this is

518
00:23:43,850 --> 00:23:48,649
the config window when we actually

519
00:23:45,169 --> 00:23:51,919
switched the ospf to is is<font color="#CCCCCC"> as you can</font>

520
00:23:48,649 --> 00:23:55,879
<font color="#CCCCCC">see</font><font color="#E5E5E5"> there's almost no traffic change it</font>

521
00:23:51,919 --> 00:23:58,820
just continued on the graph the reason

522
00:23:55,879 --> 00:24:01,879
we picked this time to change as opposed

523
00:23:58,820 --> 00:24:05,629
<font color="#E5E5E5">to the absolute peak time is the traffic</font>

524
00:24:01,879 --> 00:24:07,580
graph vector the vector is going<font color="#E5E5E5"> down so</font>

525
00:24:05,629 --> 00:24:09,080
it's<font color="#E5E5E5"> always easier</font><font color="#CCCCCC"> to knock people off</font>

526
00:24:07,580 --> 00:24:10,699
and<font color="#E5E5E5"> they're going to log off anyway as</font>

527
00:24:09,080 --> 00:24:12,259
opposed to doing the same thing here

528
00:24:10,700 --> 00:24:13,820
when they're trying<font color="#E5E5E5"> to log on in case</font>

529
00:24:12,259 --> 00:24:15,230
their mistakes because when they're

530
00:24:13,820 --> 00:24:17,480
trying<font color="#CCCCCC"> to log on and they can't log on</font>

531
00:24:15,230 --> 00:24:19,549
<font color="#E5E5E5">they get very irate and our call to</font>

532
00:24:17,480 --> 00:24:21,320
<font color="#E5E5E5">member services goes up however if they</font>

533
00:24:19,549 --> 00:24:22,759
want<font color="#CCCCCC"> to</font><font color="#E5E5E5"> go to bed anyway and it knocks</font>

534
00:24:21,320 --> 00:24:26,049
them off they're like<font color="#E5E5E5"> oh screw it damn</font>

535
00:24:22,759 --> 00:24:26,049
eol and go to bed

536
00:24:27,520 --> 00:24:33,350
so the direction of traffic I mean you

537
00:24:31,970 --> 00:24:35,690
will notice<font color="#CCCCCC"> that this we did the</font><font color="#E5E5E5"> same</font>

538
00:24:33,350 --> 00:24:37,189
thing for the<font color="#E5E5E5"> user graph I mean of</font>

539
00:24:35,690 --> 00:24:41,330
course<font color="#E5E5E5"> our user graph tends to follow us</font>

540
00:24:37,190 --> 00:24:43,400
<font color="#E5E5E5">on we change things on the downward</font>

541
00:24:41,330 --> 00:24:47,030
direction so that there's<font color="#E5E5E5"> actual vector</font>

542
00:24:43,400 --> 00:24:49,220
to the to the component<font color="#E5E5E5"> of traffic</font>

543
00:24:47,030 --> 00:24:52,520
change as well so changing that the very

544
00:24:49,220 --> 00:24:56,480
bottom so this<font color="#CCCCCC"> is something</font><font color="#E5E5E5"> we did at</font>

545
00:24:52,520 --> 00:24:58,129
our<font color="#E5E5E5"> last job at my last job at</font><font color="#CCCCCC"> mfn when</font>

546
00:24:56,480 --> 00:25:00,620
we did the change<font color="#E5E5E5"> we have this big board</font>

547
00:24:58,130 --> 00:25:03,100
up<font color="#E5E5E5"> and we were converting from ospf to</font>

548
00:25:00,620 --> 00:25:07,070
is is at the same<font color="#E5E5E5"> time I think</font><font color="#CCCCCC"> Leo and</font>

549
00:25:03,100 --> 00:25:08,689
Rachel were there at the time this<font color="#CCCCCC"> is</font>

550
00:25:07,070 --> 00:25:10,429
<font color="#CCCCCC">very important when you're doing</font><font color="#E5E5E5"> things</font>

551
00:25:08,690 --> 00:25:14,600
like that that have high visibility to

552
00:25:10,430 --> 00:25:17,540
management because knocking like a

553
00:25:14,600 --> 00:25:22,429
<font color="#E5E5E5">couple of million users offline tends to</font>

554
00:25:17,540 --> 00:25:25,909
get you noticed and not in a good way so

555
00:25:22,430 --> 00:25:27,440
any<font color="#CCCCCC"> questions and of course</font><font color="#E5E5E5"> when I when</font>

556
00:25:25,910 --> 00:25:29,270
I mentioned<font color="#CCCCCC"> to Brock at Global Crossing</font>

557
00:25:27,440 --> 00:25:30,500
that we were sitting<font color="#E5E5E5"> to I</font><font color="#CCCCCC"> esaias he's</font>

558
00:25:29,270 --> 00:25:32,330
the first question out of his mouth

559
00:25:30,500 --> 00:25:35,360
where I are you thinking of smoking off

560
00:25:32,330 --> 00:25:37,250
the mpls hookah and then when<font color="#E5E5E5"> I</font>

561
00:25:35,360 --> 00:25:39,020
mentioned<font color="#CCCCCC"> to my mentor Bill Barnes acts</font>

562
00:25:37,250 --> 00:25:42,260
of Union<font color="#CCCCCC"> ette that we are going to</font><font color="#E5E5E5"> go to</font>

563
00:25:39,020 --> 00:25:45,410
ospf for is is for simplicity he came up

564
00:25:42,260 --> 00:25:47,120
with<font color="#E5E5E5"> this quote the difference in making</font>

565
00:25:45,410 --> 00:25:49,610
something foolproof and reducing<font color="#CCCCCC"> the</font>

566
00:25:47,120 --> 00:25:51,860
number of fools I still don't<font color="#E5E5E5"> understand</font>

567
00:25:49,610 --> 00:25:53,479
it i<font color="#CCCCCC"> think he was meeting me but any</font>

568
00:25:51,860 --> 00:25:56,120
questions<font color="#CCCCCC"> i I got a couple</font><font color="#E5E5E5"> questions</font>

569
00:25:53,480 --> 00:25:57,500
<font color="#E5E5E5">Danny</font><font color="#CCCCCC"> McPherson uh just</font><font color="#E5E5E5"> wondering uh you</font>

570
00:25:56,120 --> 00:25:58,760
guys do a pretty good job at your post

571
00:25:57,500 --> 00:26:00,530
mortem stuff going back and keeping

572
00:25:58,760 --> 00:26:03,110
track of tickets and one have you seen

573
00:26:00,530 --> 00:26:05,450
any realized benefit of transitioning

574
00:26:03,110 --> 00:26:07,429
have you seen any real life benefit and

575
00:26:05,450 --> 00:26:12,460
number of<font color="#E5E5E5"> like</font><font color="#CCCCCC"> IGP related bugs</font><font color="#E5E5E5"> going</font>

576
00:26:07,430 --> 00:26:16,580
down in your network um John yeah yeah

577
00:26:12,460 --> 00:26:19,520
actually before the change only in a

578
00:26:16,580 --> 00:26:21,889
code version almost two years<font color="#CCCCCC"> ago did we</font>

579
00:26:19,520 --> 00:26:24,170
ever see in the<font color="#CCCCCC"> igp related bug i don't</font>

580
00:26:21,890 --> 00:26:26,120
think the<font color="#CCCCCC"> igp is something that we</font>

581
00:26:24,170 --> 00:26:29,180
normally have problems with so no in

582
00:26:26,120 --> 00:26:30,350
that respect but for auditing of the

583
00:26:29,180 --> 00:26:33,200
configuration because of the simplicity

584
00:26:30,350 --> 00:26:37,159
we<font color="#CCCCCC"> definitely realized two real gains in</font>

585
00:26:33,200 --> 00:26:37,710
moving diocese what about operational

586
00:26:37,160 --> 00:26:39,450
learning curve

587
00:26:37,710 --> 00:26:40,770
for life the NOC folks I mean you know

588
00:26:39,450 --> 00:26:43,049
I've<font color="#E5E5E5"> got a pretty good handle I know you</font>

589
00:26:40,770 --> 00:26:44,730
guys do<font color="#E5E5E5"> want different I GPS but was</font>

590
00:26:43,049 --> 00:26:45,809
there a huge learning curve there did

591
00:26:44,730 --> 00:26:48,720
<font color="#E5E5E5">you do a lot</font><font color="#CCCCCC"> of training or not</font>

592
00:26:45,809 --> 00:26:50,460
<font color="#E5E5E5">beforehand or um actually no I mean</font>

593
00:26:48,720 --> 00:26:52,620
we've<font color="#CCCCCC"> done this at like at least two</font>

594
00:26:50,460 --> 00:26:55,140
other networks before and once people

595
00:26:52,620 --> 00:26:58,168
get over the fact that they're seeing in

596
00:26:55,140 --> 00:27:00,539
net instead<font color="#E5E5E5"> of an IP address it's it's</font>

597
00:26:58,169 --> 00:27:03,149
extremely simple<font color="#E5E5E5"> I mean there isn't much</font>

598
00:27:00,539 --> 00:27:05,370
to<font color="#CCCCCC"> ISS</font><font color="#E5E5E5"> debugging because they're only</font>

599
00:27:03,149 --> 00:27:06,899
like five commands you<font color="#CCCCCC"> can run right</font><font color="#E5E5E5"> now</font>

600
00:27:05,370 --> 00:27:10,289
so<font color="#E5E5E5"> you just run</font><font color="#CCCCCC"> the fire command and you</font>

601
00:27:06,899 --> 00:27:12,239
figure it out send my last question was

602
00:27:10,289 --> 00:27:13,980
oh right let me follow under a<font color="#E5E5E5"> little</font>

603
00:27:12,240 --> 00:27:15,960
<font color="#E5E5E5">bit I</font><font color="#CCCCCC"> did not didn't have any problems</font>

604
00:27:13,980 --> 00:27:18,539
<font color="#CCCCCC">but there was actually pretty extensive</font>

605
00:27:15,960 --> 00:27:20,789
crane I'd like<font color="#CCCCCC"> to thank also Cisco for</font>

606
00:27:18,539 --> 00:27:23,279
providing a lot of that sorry cool and

607
00:27:20,789 --> 00:27:26,070
have you<font color="#CCCCCC"> seen tangible benefits from</font>

608
00:27:23,279 --> 00:27:27,450
actually doing the transition from<font color="#E5E5E5"> doing</font>

609
00:27:26,070 --> 00:27:30,090
the transition yes we have a bunch of

610
00:27:27,450 --> 00:27:33,029
very experienced engineers now who know

611
00:27:30,090 --> 00:27:35,879
how to do large-scale juggling of this

612
00:27:33,029 --> 00:27:39,059
kind of things one any material benefit

613
00:27:35,880 --> 00:27:42,720
not<font color="#E5E5E5"> yet but as soon as the new code gets</font>

614
00:27:39,059 --> 00:27:45,539
qualified and we upgrade all our<font color="#CCCCCC"> GRPs we</font>

615
00:27:42,720 --> 00:27:47,039
will be seeing<font color="#CCCCCC"> you</font><font color="#E5E5E5"> seven fit yeah that's</font>

616
00:27:45,539 --> 00:27:49,320
good dancer part so i was wondering more

617
00:27:47,039 --> 00:27:51,480
like you know SPF runtime takes you know

618
00:27:49,320 --> 00:27:53,789
half as long that kind of thing well yes

619
00:27:51,480 --> 00:27:55,740
there<font color="#E5E5E5"> is</font><font color="#CCCCCC"> but again the difference</font>

620
00:27:53,789 --> 00:27:57,720
<font color="#CCCCCC">between going from a 500 millisecond SP</font>

621
00:27:55,740 --> 00:28:01,049
<font color="#CCCCCC">of run to a four hundred millisecond SP</font>

622
00:27:57,720 --> 00:28:05,789
efron is not yet emma is not yet visible

623
00:28:01,049 --> 00:28:08,250
I<font color="#E5E5E5"> do and sonia rada</font><font color="#CCCCCC"> SI bien my one</font>

624
00:28:05,789 --> 00:28:10,260
question was since you're the entire

625
00:28:08,250 --> 00:28:12,360
network is completely flat is there any

626
00:28:10,260 --> 00:28:14,640
concern with the actual link state

627
00:28:12,360 --> 00:28:16,168
database and you know having<font color="#CCCCCC"> a</font>

628
00:28:14,640 --> 00:28:19,649
corruption start from one side to the

629
00:28:16,169 --> 00:28:21,330
other<font color="#E5E5E5"> we actually have worked with this</font>

630
00:28:19,649 --> 00:28:23,729
when I<font color="#E5E5E5"> was at unit we were running a</font>

631
00:28:21,330 --> 00:28:25,799
flat network that was<font color="#E5E5E5"> about ten times</font>

632
00:28:23,730 --> 00:28:28,559
larger in terms of number of links and

633
00:28:25,799 --> 00:28:30,559
routers also we talked with<font color="#CCCCCC"> Cisco</font>

634
00:28:28,559 --> 00:28:32,520
developers and juniper developers and

635
00:28:30,559 --> 00:28:34,830
<font color="#CCCCCC">brocket developers and none of them</font>

636
00:28:32,520 --> 00:28:38,250
indicated that areas were necessary in

637
00:28:34,830 --> 00:28:42,029
terms of reducing consumption of

638
00:28:38,250 --> 00:28:43,649
resources and<font color="#CCCCCC"> the routers I guess you</font>

639
00:28:42,029 --> 00:28:46,470
had more of my concern you know would<font color="#CCCCCC"> be</font>

640
00:28:43,649 --> 00:28:48,620
like with ospf you can obviously run

641
00:28:46,470 --> 00:28:50,450
multiple processes and edge them off and

642
00:28:48,620 --> 00:28:52,070
a little bit more redistribution

643
00:28:50,450 --> 00:28:54,830
filtering between instead<font color="#CCCCCC"> of</font><font color="#E5E5E5"> using</font>

644
00:28:52,070 --> 00:28:57,620
typical areas like using area you know

645
00:28:54,830 --> 00:28:59,090
more than area 1 2 3 4<font color="#E5E5E5"> using multiple</font>

646
00:28:57,620 --> 00:29:00,679
processes and then redistributing

647
00:28:59,090 --> 00:29:03,260
between them to kind<font color="#CCCCCC"> of control the link</font>

648
00:29:00,680 --> 00:29:06,470
state database and your edge<font color="#CCCCCC"> set type of</font>

649
00:29:03,260 --> 00:29:09,770
service off yes there are<font color="#E5E5E5"> I know several</font>

650
00:29:06,470 --> 00:29:12,980
networks who have done those kind of

651
00:29:09,770 --> 00:29:14,540
things and I'm not<font color="#CCCCCC"> the smartest</font><font color="#E5E5E5"> person</font>

652
00:29:12,980 --> 00:29:16,010
in the world<font color="#E5E5E5"> but I'm smart enough to</font>

653
00:29:14,540 --> 00:29:18,020
realize that<font color="#E5E5E5"> any time you try to do</font>

654
00:29:16,010 --> 00:29:19,910
multiple redistributions and controlling

655
00:29:18,020 --> 00:29:22,309
of link<font color="#CCCCCC"> states and stuff your design is</font>

656
00:29:19,910 --> 00:29:24,740
fundamentally flawed somewhere because

657
00:29:22,309 --> 00:29:26,660
you can do it but the NOC has to

658
00:29:24,740 --> 00:29:30,050
maintain it and the NOC has to debug it

659
00:29:26,660 --> 00:29:32,240
and I mean I'll be honest here like

660
00:29:30,050 --> 00:29:35,600
looking at a three-state link on three

661
00:29:32,240 --> 00:29:36,830
state ospf router it's like who the<font color="#CCCCCC"> hell</font>

662
00:29:35,600 --> 00:29:39,080
knows what the hell is going on I

663
00:29:36,830 --> 00:29:40,428
certainly<font color="#E5E5E5"> don't and I don't want our NOC</font>

664
00:29:39,080 --> 00:29:42,199
to sit there at three in the morning

665
00:29:40,429 --> 00:29:45,020
trying<font color="#E5E5E5"> to figure out why a particular</font>

666
00:29:42,200 --> 00:29:51,980
prefix is not reachable so in<font color="#CCCCCC"> general</font>

667
00:29:45,020 --> 00:29:54,950
what is simpler tends to be better last

668
00:29:51,980 --> 00:29:57,170
question hey BJ what I think you pointed

669
00:29:54,950 --> 00:30:02,150
out a subtle point that I don't know if

670
00:29:57,170 --> 00:30:04,040
is Craig he relates because you're rich

671
00:30:02,150 --> 00:30:05,420
connectivity to other providers I'm

672
00:30:04,040 --> 00:30:08,210
assuming that there was a lot of med

673
00:30:05,420 --> 00:30:09,620
churn because as you were changing the

674
00:30:08,210 --> 00:30:10,820
metrics on each link and kind<font color="#E5E5E5"> of going</font>

675
00:30:09,620 --> 00:30:14,659
through then you would<font color="#CCCCCC"> have been</font><font color="#E5E5E5"> doing a</font>

676
00:30:10,820 --> 00:30:16,669
lot of updates and based on you know you

677
00:30:14,660 --> 00:30:18,080
<font color="#CCCCCC">know the way you're peering most of them</font>

678
00:30:16,670 --> 00:30:21,559
would<font color="#E5E5E5"> have been ignored because it's</font>

679
00:30:18,080 --> 00:30:22,879
mostly<font color="#E5E5E5"> peers I wonder if I don't know</font>

680
00:30:21,559 --> 00:30:24,170
this<font color="#E5E5E5"> is</font><font color="#CCCCCC"> something</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> could be done now</font>

681
00:30:22,880 --> 00:30:26,000
but I<font color="#E5E5E5"> wonder at least if you consider</font>

682
00:30:24,170 --> 00:30:28,400
the way you were connected before you

683
00:30:26,000 --> 00:30:29,450
decided to do the metric adjustment

684
00:30:28,400 --> 00:30:31,490
because if you were buying a lot of

685
00:30:29,450 --> 00:30:32,780
transit and your providers were

686
00:30:31,490 --> 00:30:34,900
listening<font color="#CCCCCC"> to your medicine you probably</font>

687
00:30:32,780 --> 00:30:37,850
would have been subject to i would

688
00:30:34,900 --> 00:30:39,320
<font color="#E5E5E5">probably suspect a lot of damping so i</font>

689
00:30:37,850 --> 00:30:41,540
don't know if<font color="#E5E5E5"> anybody</font><font color="#CCCCCC"> else notice that</font>

690
00:30:39,320 --> 00:30:42,700
<font color="#E5E5E5">but is there is there any like bgp</font>

691
00:30:41,540 --> 00:30:44,690
measurements still being done today

692
00:30:42,700 --> 00:30:46,429
where somebody could maybe digging in

693
00:30:44,690 --> 00:30:47,540
some archives and you know look at 1668

694
00:30:46,429 --> 00:30:50,059
and say wow we didn't really<font color="#E5E5E5"> see</font>

695
00:30:47,540 --> 00:30:52,970
<font color="#CCCCCC">anything because</font><font color="#E5E5E5"> this is about as big</font><font color="#CCCCCC"> as</font>

696
00:30:50,059 --> 00:30:54,269
you can get in terms of you know you

697
00:30:52,970 --> 00:30:56,489
probably sent out like

698
00:30:54,269 --> 00:30:58,440
many thousands of updates you know to at

699
00:30:56,489 --> 00:31:00,059
least your peers over the course of<font color="#E5E5E5"> the</font>

700
00:30:58,440 --> 00:31:03,049
migration and it didn't appear to affect

701
00:31:00,059 --> 00:31:05,519
your traffic in any negative way

702
00:31:03,049 --> 00:31:06,839
actually we're lucky enough to have

703
00:31:05,519 --> 00:31:08,070
<font color="#E5E5E5">aggregated pretty well</font><font color="#CCCCCC"> sighting we're</font>

704
00:31:06,839 --> 00:31:11,249
not talking<font color="#CCCCCC"> about a huge number of</font>

705
00:31:08,070 --> 00:31:14,070
routes overall but on the on the other

706
00:31:11,249 --> 00:31:16,049
side I<font color="#E5E5E5"> think the traffic patterns show</font>

707
00:31:14,070 --> 00:31:17,369
that it's unlikely that much was

708
00:31:16,049 --> 00:31:20,639
dampened otherwise we would have seen

709
00:31:17,369 --> 00:31:22,529
<font color="#CCCCCC">that it significant traffic drop off we</font>

710
00:31:20,639 --> 00:31:24,629
have done some studying into the effects

711
00:31:22,529 --> 00:31:27,149
of BGP dampening did other providers for

712
00:31:24,629 --> 00:31:30,329
using especially using some of the

713
00:31:27,149 --> 00:31:32,849
<font color="#E5E5E5">ralphs use projects data and what we</font>

714
00:31:30,329 --> 00:31:35,070
have<font color="#E5E5E5"> noticed is that that two updates</font>

715
00:31:32,849 --> 00:31:36,809
usually do<font color="#CCCCCC"> not cause dampening and</font>

716
00:31:35,070 --> 00:31:39,299
that's all we were actually<font color="#E5E5E5"> doing at</font>

717
00:31:36,809 --> 00:31:41,700
this point<font color="#E5E5E5"> okay so you were announcing</font>

718
00:31:39,299 --> 00:31:43,799
your aggregates from a point close to

719
00:31:41,700 --> 00:31:45,029
the boundary of your network<font color="#E5E5E5"> and like</font>

720
00:31:43,799 --> 00:31:46,320
injecting them from there they weren't

721
00:31:45,029 --> 00:31:48,059
like being aggregating the<font color="#E5E5E5"> core</font>

722
00:31:46,320 --> 00:31:50,939
somewhere where you would have lots of

723
00:31:48,059 --> 00:31:54,149
metric churn there I'm not<font color="#E5E5E5"> saying that</font>

724
00:31:50,940 --> 00:31:56,129
all all route<font color="#E5E5E5"> announcements did get new</font>

725
00:31:54,149 --> 00:31:57,178
meds sent out on them whether<font color="#E5E5E5"> or not as</font>

726
00:31:56,129 --> 00:31:59,248
you<font color="#E5E5E5"> pointed out not everyone was</font>

727
00:31:57,179 --> 00:32:00,929
listening the other thing that comes

728
00:31:59,249 --> 00:32:02,609
into play here is that I mean we're only

729
00:32:00,929 --> 00:32:04,679
<font color="#E5E5E5">talking about one or two updates it went</font>

730
00:32:02,609 --> 00:32:06,509
out to two<font color="#CCCCCC"> piers we didn't make there</font>

731
00:32:04,679 --> 00:32:08,879
warn't numero q it said numerous updates

732
00:32:06,509 --> 00:32:10,529
<font color="#E5E5E5">Oh a numerous updates of the route</font>

733
00:32:08,879 --> 00:32:12,629
announcements<font color="#E5E5E5"> okay so I mean it was</font>

734
00:32:10,529 --> 00:32:14,309
really<font color="#CCCCCC"> just one flipping of the</font><font color="#E5E5E5"> switch</font>

735
00:32:12,629 --> 00:32:15,809
that<font color="#CCCCCC"> caused on the edge router</font>

736
00:32:14,309 --> 00:32:17,729
specifically when the admin distance

737
00:32:15,809 --> 00:32:20,999
changes that was when the<font color="#CCCCCC"> Med went out</font>

738
00:32:17,729 --> 00:32:22,889
as it appears for the most part when

739
00:32:20,999 --> 00:32:24,479
you're saying I think<font color="#E5E5E5"> that you're</font>

740
00:32:22,889 --> 00:32:26,279
correct it if you aren't careful about

741
00:32:24,479 --> 00:32:28,649
this and if you are buying a lot of

742
00:32:26,279 --> 00:32:30,629
transit then I guess<font color="#CCCCCC"> that would be a</font>

743
00:32:28,649 --> 00:32:32,039
problem<font color="#E5E5E5"> for you if you if you if most</font>

744
00:32:30,629 --> 00:32:33,988
people wore whistling<font color="#CCCCCC"> to your meds in</font>

745
00:32:32,039 --> 00:32:38,279
our case<font color="#E5E5E5"> we knew exactly which networks</font>

746
00:32:33,989 --> 00:32:39,719
would need to deal with<font color="#E5E5E5"> um and we took</font>

747
00:32:38,279 --> 00:32:40,859
care<font color="#E5E5E5"> of those as we said ahead of time</font>

748
00:32:39,719 --> 00:32:44,749
<font color="#CCCCCC">so that the announcements went out</font>

749
00:32:40,859 --> 00:32:44,749
roughly the same<font color="#E5E5E5"> time cool thanks</font>

750
00:32:46,760 --> 00:32:50,840
<font color="#E5E5E5">okay that's it thank you</font>

