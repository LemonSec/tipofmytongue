1
00:00:00,530 --> 00:00:05,220
about today is inter domain measurement

2
00:00:02,939 --> 00:00:07,950
analysis and control improvement

3
00:00:05,220 --> 00:00:11,219
connectivity at your borders with whom

4
00:00:07,950 --> 00:00:13,650
<font color="#CCCCCC">we're at what speed how to improve your</font>

5
00:00:11,219 --> 00:00:16,108
inter connections with other people what

6
00:00:13,650 --> 00:00:20,220
we're not talking<font color="#E5E5E5"> about today is mpls</font>

7
00:00:16,109 --> 00:00:21,750
diffserv RSVP crl DP and all sorts of

8
00:00:20,220 --> 00:00:23,130
other acronyms with a bunch of capital

9
00:00:21,750 --> 00:00:24,990
letters that have become associated with

10
00:00:23,130 --> 00:00:27,029
traffic engineering traffic engineering

11
00:00:24,990 --> 00:00:28,470
is clearly a very very big subject and

12
00:00:27,029 --> 00:00:30,390
in the next<font color="#E5E5E5"> 90 minutes we will cover a</font>

13
00:00:28,470 --> 00:00:33,320
very very small portion of it but

14
00:00:30,390 --> 00:00:36,090
<font color="#CCCCCC">hopefully we'll cover it reasonably well</font>

15
00:00:33,320 --> 00:00:37,980
goals for the afternoon methods and

16
00:00:36,090 --> 00:00:40,230
concepts on how to improve<font color="#CCCCCC"> inter-domain</font>

17
00:00:37,980 --> 00:00:41,760
connectivity and depending on who you

18
00:00:40,230 --> 00:00:43,709
<font color="#CCCCCC">are improved will have</font><font color="#E5E5E5"> different</font>

19
00:00:41,760 --> 00:00:46,050
meanings if you're a<font color="#E5E5E5"> Tier one isp</font>

20
00:00:43,710 --> 00:00:48,149
<font color="#CCCCCC">improve might mean catching people to</font>

21
00:00:46,050 --> 00:00:50,010
folding traffic at your borders on to

22
00:00:48,149 --> 00:00:53,430
you for routes you didn't announce if

23
00:00:50,010 --> 00:00:55,110
you're a small<font color="#E5E5E5"> isp it might mean finding</font>

24
00:00:53,430 --> 00:00:57,449
the right<font color="#E5E5E5"> people to appear with order by</font>

25
00:00:55,110 --> 00:00:59,309
transit from or to get settlement based

26
00:00:57,449 --> 00:01:02,099
peering from that you get the most<font color="#E5E5E5"> bang</font>

27
00:00:59,309 --> 00:01:04,438
for your buck another goal finding ways

28
00:01:02,100 --> 00:01:06,240
to reduce impact of failure and peer

29
00:01:04,438 --> 00:01:08,820
transit networks you know how what

30
00:01:06,240 --> 00:01:11,429
things can you do in order to keep your

31
00:01:08,820 --> 00:01:13,259
neighbor networks from from having

32
00:01:11,430 --> 00:01:14,580
trouble reaching you and some of<font color="#E5E5E5"> the</font>

33
00:01:13,260 --> 00:01:17,549
we're going<font color="#E5E5E5"> to do has some opera</font>

34
00:01:14,580 --> 00:01:19,979
operational complexity so keep that in

35
00:01:17,549 --> 00:01:22,850
mind<font color="#E5E5E5"> and if you're squeamish about such</font>

36
00:01:19,979 --> 00:01:24,900
things you know put on your<font color="#E5E5E5"> glasses</font>

37
00:01:22,850 --> 00:01:27,330
presentation outline we're going<font color="#E5E5E5"> to talk</font>

38
00:01:24,900 --> 00:01:29,250
about defining goals for<font color="#E5E5E5"> inter domain te</font>

39
00:01:27,330 --> 00:01:32,130
we're going<font color="#E5E5E5"> to talk about how to measure</font>

40
00:01:29,250 --> 00:01:33,900
<font color="#E5E5E5">to get data that will answer those goals</font>

41
00:01:32,130 --> 00:01:36,179
and those problem statements we're going

42
00:01:33,900 --> 00:01:37,650
<font color="#CCCCCC">to apply data to those goals we're going</font>

43
00:01:36,180 --> 00:01:39,420
<font color="#E5E5E5">to talk about eliciting control and</font>

44
00:01:37,650 --> 00:01:40,979
redefining your goals once you've

45
00:01:39,420 --> 00:01:43,049
measured and gotten some quantitative

46
00:01:40,979 --> 00:01:45,179
data we're going<font color="#E5E5E5"> talk about some</font>

47
00:01:43,049 --> 00:01:47,729
conceptual examples some people who are

48
00:01:45,180 --> 00:01:50,310
doing this stuff some sort<font color="#E5E5E5"> of live</font>

49
00:01:47,729 --> 00:01:53,280
network examples and in the end

50
00:01:50,310 --> 00:01:56,969
<font color="#E5E5E5">hopefully there will be some questions</font>

51
00:01:53,280 --> 00:01:58,950
<font color="#E5E5E5">but not just the ton so</font><font color="#CCCCCC"> inter-domain</font>

52
00:01:56,969 --> 00:02:01,048
traffic engineering goals definition a

53
00:01:58,950 --> 00:02:02,759
problem statement you<font color="#E5E5E5"> can measure a lot</font>

54
00:02:01,049 --> 00:02:04,200
of data what you need<font color="#E5E5E5"> to be able to do</font>

55
00:02:02,759 --> 00:02:06,840
is measure data that answers questions

56
00:02:04,200 --> 00:02:08,580
that you have and need<font color="#CCCCCC"> to answer and</font>

57
00:02:06,840 --> 00:02:11,250
there's there's a bit<font color="#E5E5E5"> of a format to</font>

58
00:02:08,580 --> 00:02:13,200
doing this you define a goal you measure

59
00:02:11,250 --> 00:02:13,830
information that applies<font color="#CCCCCC"> to your goal</font>

60
00:02:13,200 --> 00:02:15,810
you

61
00:02:13,830 --> 00:02:16,980
analyze it you refine your goals because

62
00:02:15,810 --> 00:02:19,740
often you'll<font color="#CCCCCC"> find that what you thought</font>

63
00:02:16,980 --> 00:02:20,730
was the right answer qualitatively ended

64
00:02:19,740 --> 00:02:22,920
up not being the right answer

65
00:02:20,730 --> 00:02:25,320
quantitatively and<font color="#E5E5E5"> then you listen some</font>

66
00:02:22,920 --> 00:02:28,380
action to improve<font color="#CCCCCC"> your network hopefully</font>

67
00:02:25,320 --> 00:02:31,410
so step one defining goals what is it

68
00:02:28,380 --> 00:02:33,660
you need<font color="#CCCCCC"> to</font><font color="#E5E5E5"> accomplish examples of some</font>

69
00:02:31,410 --> 00:02:35,820
goals you know<font color="#E5E5E5"> I need to offload my</font>

70
00:02:33,660 --> 00:02:38,400
NSFNET peering links outbound because

71
00:02:35,820 --> 00:02:40,320
<font color="#E5E5E5">they're congested NSFNET seemed like a</font>

72
00:02:38,400 --> 00:02:42,930
nice politically correct word to use

73
00:02:40,320 --> 00:02:46,950
that spot in the sentence obviously no

74
00:02:42,930 --> 00:02:48,540
one has that problem another door<font color="#E5E5E5"> I need</font>

75
00:02:46,950 --> 00:02:50,519
to expand my inner domain peering wings

76
00:02:48,540 --> 00:02:52,109
flew Philly right I'm ready<font color="#E5E5E5"> to expand my</font>

77
00:02:50,520 --> 00:02:54,270
network<font color="#E5E5E5"> I'm ready to grow my</font>

78
00:02:52,110 --> 00:02:56,580
<font color="#CCCCCC">inter-domain links who do</font><font color="#E5E5E5"> I go connect</font>

79
00:02:54,270 --> 00:02:59,040
to and where and it<font color="#CCCCCC"> will speed and why</font>

80
00:02:56,580 --> 00:03:00,570
don't<font color="#E5E5E5"> just go to the people who seem</font>

81
00:02:59,040 --> 00:03:02,340
<font color="#CCCCCC">like the right people because that's</font>

82
00:03:00,570 --> 00:03:05,130
where<font color="#E5E5E5"> everyone else connects that</font>

83
00:03:02,340 --> 00:03:07,290
offensive way to do business<font color="#E5E5E5"> and a third</font>

84
00:03:05,130 --> 00:03:08,970
goal you<font color="#CCCCCC"> know hey I</font><font color="#E5E5E5"> need to find some</font>

85
00:03:07,290 --> 00:03:10,980
people I need<font color="#CCCCCC"> to identify some sales</font>

86
00:03:08,970 --> 00:03:12,330
opportunities seems like a strange thing

87
00:03:10,980 --> 00:03:14,489
to talk about in the traffic hearing

88
00:03:12,330 --> 00:03:16,410
discussion but you know when it comes

89
00:03:14,490 --> 00:03:19,560
<font color="#E5E5E5">right down to it we're all here to put</font>

90
00:03:16,410 --> 00:03:21,780
products on the market once you define a

91
00:03:19,560 --> 00:03:24,620
goal don't be afraid<font color="#CCCCCC"> to adjust your</font>

92
00:03:21,780 --> 00:03:27,239
assumptions once you started measuring

93
00:03:24,620 --> 00:03:28,200
you know just what<font color="#E5E5E5"> you plan to do and</font>

94
00:03:27,239 --> 00:03:31,230
what you<font color="#CCCCCC"> end up doing they change</font>

95
00:03:28,200 --> 00:03:32,970
substantially and that's<font color="#E5E5E5"> okay clue about</font>

96
00:03:31,230 --> 00:03:35,040
doing all this stuff should increase as

97
00:03:32,970 --> 00:03:37,440
valid network data becomes available and

98
00:03:35,040 --> 00:03:39,359
consulted and I just can't stress this

99
00:03:37,440 --> 00:03:40,709
enough there's just<font color="#CCCCCC"> a ton of people out</font>

100
00:03:39,360 --> 00:03:42,330
there<font color="#E5E5E5"> who go through all the trouble of</font>

101
00:03:40,709 --> 00:03:44,160
measuring and collecting data and never

102
00:03:42,330 --> 00:03:45,420
use it<font color="#E5E5E5"> and they've just created a</font>

103
00:03:44,160 --> 00:03:47,820
truckload of work<font color="#E5E5E5"> for themselves</font><font color="#CCCCCC"> that</font>

104
00:03:45,420 --> 00:03:49,890
you know doesn't<font color="#E5E5E5"> help and actually</font>

105
00:03:47,820 --> 00:03:54,299
probably<font color="#E5E5E5"> help hurts them quite a bit</font>

106
00:03:49,890 --> 00:03:57,690
because they don't use it what sort of

107
00:03:54,300 --> 00:03:59,280
data should<font color="#E5E5E5"> I collect for</font><font color="#CCCCCC"> the purposes</font>

108
00:03:57,690 --> 00:04:01,739
of what we're<font color="#CCCCCC"> doing in what we're trying</font>

109
00:03:59,280 --> 00:04:04,620
to do we need flow export data or some

110
00:04:01,739 --> 00:04:07,440
generic traffic accounting and we need

111
00:04:04,620 --> 00:04:09,840
BGP routing data we can use active

112
00:04:07,440 --> 00:04:12,269
measurement data ping traceroute going

113
00:04:09,840 --> 00:04:13,950
out and measuring the product of what

114
00:04:12,269 --> 00:04:16,530
you're offering measuring through your

115
00:04:13,950 --> 00:04:18,959
network and some amount of SNMP niceties

116
00:04:16,529 --> 00:04:20,608
to get nice titles for things there's

117
00:04:18,959 --> 00:04:23,760
some public tools available for this see

118
00:04:20,608 --> 00:04:25,560
<font color="#CCCCCC">Flo DS zebra ping traceroute</font><font color="#E5E5E5"> Scotty all</font>

119
00:04:23,760 --> 00:04:27,030
number of things there are some

120
00:04:25,560 --> 00:04:27,520
commercial products available that do

121
00:04:27,030 --> 00:04:32,080
the sort<font color="#E5E5E5"> of</font>

122
00:04:27,520 --> 00:04:34,479
as well and so once you've defined a

123
00:04:32,080 --> 00:04:37,568
goal and<font color="#CCCCCC"> you know we can choose any goal</font>

124
00:04:34,479 --> 00:04:39,460
we want you need to go measure data that

125
00:04:37,569 --> 00:04:41,889
will help you solve that<font color="#E5E5E5"> problem if you</font>

126
00:04:39,460 --> 00:04:43,060
don't have a problem<font color="#E5E5E5"> statement you're</font>

127
00:04:41,889 --> 00:04:44,470
just going to end up with<font color="#CCCCCC"> a ton of data</font>

128
00:04:43,060 --> 00:04:46,690
<font color="#E5E5E5">you don't know how to use in the right</font>

129
00:04:44,470 --> 00:04:49,060
way so you know their domain te

130
00:04:46,690 --> 00:04:53,520
measurement or getting good problem<font color="#CCCCCC"> goal</font>

131
00:04:49,060 --> 00:04:55,270
specific data to everybody hear me

132
00:04:53,520 --> 00:04:56,409
person<font color="#E5E5E5"> on the back supposed to wave</font>

133
00:04:55,270 --> 00:05:01,120
their hand and say yes I can hear you

134
00:04:56,409 --> 00:05:03,190
yeah so the assumed network model you

135
00:05:01,120 --> 00:05:04,599
know there's<font color="#CCCCCC"> just a zillion of them but</font>

136
00:05:03,190 --> 00:05:05,889
the one that seems to<font color="#E5E5E5"> be sort of</font>

137
00:05:04,599 --> 00:05:07,000
prevalent and the one that we worked

138
00:05:05,889 --> 00:05:09,639
with the most is the hierarchical

139
00:05:07,000 --> 00:05:11,740
network model here<font color="#CCCCCC"> your ingress and</font>

140
00:05:09,639 --> 00:05:13,930
egress network services are separated

141
00:05:11,740 --> 00:05:15,220
<font color="#E5E5E5">from your transit services worse than</font>

142
00:05:13,930 --> 00:05:16,840
<font color="#E5E5E5">other but you know this is what we're</font>

143
00:05:15,220 --> 00:05:19,569
going to focus on so here's a nice

144
00:05:16,840 --> 00:05:22,239
little<font color="#E5E5E5"> picture that I drew you have your</font>

145
00:05:19,569 --> 00:05:24,400
<font color="#E5E5E5">network services and the access to those</font>

146
00:05:22,240 --> 00:05:26,289
is relegated by core routers and the

147
00:05:24,400 --> 00:05:28,870
access into your transport service or

148
00:05:26,289 --> 00:05:30,520
your<font color="#E5E5E5"> transit service is by edge routers</font>

149
00:05:28,870 --> 00:05:32,680
whether they be pure routers gateway

150
00:05:30,520 --> 00:05:34,960
routers<font color="#E5E5E5"> webhosting routers customer</font>

151
00:05:32,680 --> 00:05:36,580
aggregation routers whatever and<font color="#E5E5E5"> your</font>

152
00:05:34,960 --> 00:05:38,830
inter domain links or your customer

153
00:05:36,580 --> 00:05:40,568
links are off of the edge that model

154
00:05:38,830 --> 00:05:41,949
works really well for measurement and

155
00:05:40,569 --> 00:05:43,419
analysis and sort of things we want to

156
00:05:41,949 --> 00:05:46,000
do we'll talk<font color="#E5E5E5"> about</font><font color="#CCCCCC"> a couple of other</font>

157
00:05:43,419 --> 00:05:50,080
models actual another model which is

158
00:05:46,000 --> 00:05:51,699
much harder to work with so types of

159
00:05:50,080 --> 00:05:54,609
<font color="#E5E5E5">data to measure again routing data our</font>

160
00:05:51,699 --> 00:05:56,259
focus here is<font color="#E5E5E5"> BGP and you know I suppose</font>

161
00:05:54,610 --> 00:05:59,229
<font color="#E5E5E5">if someone here has the need to use I'd</font>

162
00:05:56,259 --> 00:06:00,789
ERP or you know<font color="#E5E5E5"> heaven forbid EGP you</font>

163
00:05:59,229 --> 00:06:02,560
could do the same general sort of<font color="#E5E5E5"> thing</font>

164
00:06:00,789 --> 00:06:05,770
with it<font color="#CCCCCC"> but obviously</font><font color="#E5E5E5"> you know BGP for</font>

165
00:06:02,560 --> 00:06:08,729
zar<font color="#E5E5E5"> is our focus</font><font color="#CCCCCC"> here traffic</font><font color="#E5E5E5"> data we're</font>

166
00:06:05,770 --> 00:06:11,198
using a net flow flow<font color="#E5E5E5"> export v5 here</font>

167
00:06:08,729 --> 00:06:13,539
again any sort of traffic accounting

168
00:06:11,199 --> 00:06:15,759
information is helpful whether it<font color="#E5E5E5"> be TCP</font>

169
00:06:13,539 --> 00:06:18,130
dump or you know whatever<font color="#E5E5E5"> you</font><font color="#CCCCCC"> want to</font>

170
00:06:15,759 --> 00:06:20,050
use as<font color="#E5E5E5"> long as you can get</font><font color="#CCCCCC"> some amount</font>

171
00:06:18,130 --> 00:06:21,580
of traffic load information and then

172
00:06:20,050 --> 00:06:23,949
active measurement and performance data

173
00:06:21,580 --> 00:06:25,599
ping traceroute<font color="#CCCCCC"> one-way delay jitter all</font>

174
00:06:23,949 --> 00:06:27,969
the things that<font color="#E5E5E5"> are statements about the</font>

175
00:06:25,599 --> 00:06:32,520
<font color="#E5E5E5">quality of the product of your services</font>

176
00:06:27,969 --> 00:06:35,349
as opposed to the devices routing data

177
00:06:32,520 --> 00:06:37,000
routers do this reasonably well I means

178
00:06:35,349 --> 00:06:39,099
the core competency by design of what a

179
00:06:37,000 --> 00:06:40,139
router is router should route and if

180
00:06:39,099 --> 00:06:41,340
they don't

181
00:06:40,139 --> 00:06:43,680
you should<font color="#E5E5E5"> probably get a</font><font color="#CCCCCC"> different kind</font>

182
00:06:41,340 --> 00:06:46,289
of router different data sets are

183
00:06:43,680 --> 00:06:49,169
available for measurement I BGP route

184
00:06:46,289 --> 00:06:51,810
reflection ebgp ibgp works really well

185
00:06:49,169 --> 00:06:53,639
when your problem statement is<font color="#E5E5E5"> I want to</font>

186
00:06:51,810 --> 00:06:56,189
measure things<font color="#CCCCCC"> out loud I want to see</font>

187
00:06:53,639 --> 00:06:57,840
exit off of my network and when you're

188
00:06:56,189 --> 00:06:59,789
measuring flow data and routing data

189
00:06:57,840 --> 00:07:01,830
from the same device and your question

190
00:06:59,789 --> 00:07:04,229
is<font color="#E5E5E5"> outbound ibgp is definitely the way</font>

191
00:07:01,830 --> 00:07:05,818
<font color="#CCCCCC">to go route reflection another way</font><font color="#E5E5E5"> to go</font>

192
00:07:04,229 --> 00:07:08,878
if you're<font color="#E5E5E5"> trying to answer an inbound</font>

193
00:07:05,819 --> 00:07:10,199
question obviously traffic coming the

194
00:07:08,879 --> 00:07:12,270
destination<font color="#E5E5E5"> address coming into your</font>

195
00:07:10,199 --> 00:07:13,560
network is going to map to a route<font color="#CCCCCC"> I bgp</font>

196
00:07:12,270 --> 00:07:15,448
won't communicate that information to

197
00:07:13,560 --> 00:07:17,250
you have to use route reflection to

198
00:07:15,449 --> 00:07:19,620
cleanly get internal routes from your

199
00:07:17,250 --> 00:07:21,750
device choose the right one<font color="#E5E5E5"> to measure</font>

200
00:07:19,620 --> 00:07:24,029
based on your needs and goals so you

201
00:07:21,750 --> 00:07:25,199
know same general picture if I'm if I'm

202
00:07:24,029 --> 00:07:27,960
trying to answer this question of

203
00:07:25,199 --> 00:07:30,449
traffic<font color="#CCCCCC"> coming in from as3 to my</font><font color="#E5E5E5"> peer</font>

204
00:07:27,960 --> 00:07:33,270
box too in order for<font color="#CCCCCC"> me to see what</font>

205
00:07:30,449 --> 00:07:35,430
<font color="#E5E5E5">routes and what is pads traffic maps to</font>

206
00:07:33,270 --> 00:07:38,240
across my core network I need to use

207
00:07:35,430 --> 00:07:40,830
route reflection pretty basic vgp stuff

208
00:07:38,240 --> 00:07:42,689
if<font color="#CCCCCC"> I'm answering the reverse question of</font>

209
00:07:40,830 --> 00:07:44,609
traffic coming<font color="#CCCCCC"> from my course network</font>

210
00:07:42,689 --> 00:07:46,680
services<font color="#E5E5E5"> into peer to over the thick</font>

211
00:07:44,610 --> 00:07:48,000
links going out to these a esas those

212
00:07:46,680 --> 00:07:50,219
are external links<font color="#E5E5E5"> and slums they've</font>

213
00:07:48,000 --> 00:07:51,930
been marked at marked active' my bgp

214
00:07:50,219 --> 00:07:53,909
collector will get those routes and all

215
00:07:51,930 --> 00:07:57,300
<font color="#CCCCCC">i need a standard ibgp because those</font>

216
00:07:53,909 --> 00:08:01,110
routes are announced to me that way so

217
00:07:57,300 --> 00:08:03,060
said in a longer sentence when your goal

218
00:08:01,110 --> 00:08:05,069
is outbound characterization and your

219
00:08:03,060 --> 00:08:08,219
measurement point is the exit point for

220
00:08:05,069 --> 00:08:11,520
traffic<font color="#CCCCCC"> ibgp</font><font color="#E5E5E5"> is the person you want to</font>

221
00:08:08,219 --> 00:08:13,439
work with<font color="#CCCCCC"> I honestly thought that this</font>

222
00:08:11,520 --> 00:08:17,008
was funny when I wrote<font color="#CCCCCC"> it protocols hate</font>

223
00:08:13,439 --> 00:08:19,550
being anthropomorphised I really thought

224
00:08:17,009 --> 00:08:23,580
<font color="#CCCCCC">that was funny a couple</font><font color="#E5E5E5"> of</font><font color="#CCCCCC"> weeks ago I</font>

225
00:08:19,550 --> 00:08:25,439
appreciate<font color="#CCCCCC"> your sympathy last when your</font>

226
00:08:23,580 --> 00:08:27,089
goal is inbound characterization and

227
00:08:25,439 --> 00:08:29,189
your measurement point is the entry

228
00:08:27,089 --> 00:08:31,289
point for traffic route reflection must

229
00:08:29,189 --> 00:08:32,699
be used same picture you know same<font color="#E5E5E5"> idea</font>

230
00:08:31,289 --> 00:08:34,529
when you're coming in and your

231
00:08:32,698 --> 00:08:35,939
measurement point is<font color="#E5E5E5"> peer to if you're</font>

232
00:08:34,529 --> 00:08:37,169
looking<font color="#CCCCCC"> at traffic coming in you need</font><font color="#E5E5E5"> to</font>

233
00:08:35,940 --> 00:08:38,789
know<font color="#CCCCCC"> about internal routes that means</font>

234
00:08:37,169 --> 00:08:40,319
you need<font color="#E5E5E5"> route reflection if you're</font>

235
00:08:38,789 --> 00:08:41,698
looking outbound you're looking at

236
00:08:40,320 --> 00:08:45,089
external routes that means<font color="#E5E5E5"> ibgp will</font>

237
00:08:41,698 --> 00:08:47,339
suffice ibgp you know n by IV GP is a

238
00:08:45,089 --> 00:08:50,750
lot<font color="#CCCCCC"> easier to</font><font color="#E5E5E5"> do than by route</font>

239
00:08:47,339 --> 00:08:50,750
reflection just by number of<font color="#E5E5E5"> paths</font>

240
00:08:50,840 --> 00:08:54,590
slightly off topic but it was a<font color="#E5E5E5"> good</font>

241
00:08:52,670 --> 00:08:58,280
place to mention<font color="#E5E5E5"> this the concept</font><font color="#CCCCCC"> of</font>

242
00:08:54,590 --> 00:09:00,440
full mesh bgp monitoring and the value

243
00:08:58,280 --> 00:09:01,730
of it you<font color="#CCCCCC"> know by full mesh</font><font color="#E5E5E5"> I mean hey</font>

244
00:09:00,440 --> 00:09:04,100
you<font color="#E5E5E5"> know I have a whole</font><font color="#CCCCCC"> bunch of blue</font>

245
00:09:01,730 --> 00:09:06,020
boxes that are all sending ibgp routes

246
00:09:04,100 --> 00:09:08,660
to the collector you get a full view of

247
00:09:06,020 --> 00:09:10,069
what your domain is doing you can track

248
00:09:08,660 --> 00:09:12,410
rounds historically you can go back<font color="#E5E5E5"> and</font>

249
00:09:10,070 --> 00:09:14,030
<font color="#E5E5E5">look for historical problems you can do</font>

250
00:09:12,410 --> 00:09:15,380
policy benchmark and say hey you know I

251
00:09:14,030 --> 00:09:17,209
want<font color="#E5E5E5"> to know when something bad has</font>

252
00:09:15,380 --> 00:09:18,530
happened tell<font color="#E5E5E5"> me I want to know when I</font>

253
00:09:17,210 --> 00:09:20,240
hear default from the wrong place I want

254
00:09:18,530 --> 00:09:21,500
to<font color="#E5E5E5"> know if i hear default at all i want</font>

255
00:09:20,240 --> 00:09:23,090
to<font color="#E5E5E5"> know if I'm hearing you know units</font>

256
00:09:21,500 --> 00:09:25,790
<font color="#E5E5E5">routes through cable and wireless etc</font>

257
00:09:23,090 --> 00:09:28,160
etc tracking med selection issues that's

258
00:09:25,790 --> 00:09:30,770
a really good way to do that but just

259
00:09:28,160 --> 00:09:33,530
bottom line identifying disasters the

260
00:09:30,770 --> 00:09:35,449
first time clue<font color="#E5E5E5"> fully there's just so</font>

261
00:09:33,530 --> 00:09:38,810
many people out<font color="#CCCCCC"> there who have really</font>

262
00:09:35,450 --> 00:09:39,920
<font color="#E5E5E5">bad routing mess ups and they just you</font>

263
00:09:38,810 --> 00:09:41,119
know they sort<font color="#E5E5E5"> of wait for it to happen</font>

264
00:09:39,920 --> 00:09:43,819
again to see if they can catch<font color="#CCCCCC"> it in the</font>

265
00:09:41,120 --> 00:09:46,550
act and it hurts everybody so it's a

266
00:09:43,820 --> 00:09:48,290
global table please you know do a little

267
00:09:46,550 --> 00:09:50,689
bit of measurement and try and try and

268
00:09:48,290 --> 00:09:52,160
head things off at the pass a little off

269
00:09:50,690 --> 00:09:54,950
topic for that I actually felt like it

270
00:09:52,160 --> 00:09:57,170
was sort of important to mention again

271
00:09:54,950 --> 00:10:00,590
the full mesh picture that one was easy

272
00:09:57,170 --> 00:10:02,030
to draw traffic accounting data once you

273
00:10:00,590 --> 00:10:03,500
<font color="#CCCCCC">have routing information you need</font>

274
00:10:02,030 --> 00:10:04,819
traffic accounting information you could

275
00:10:03,500 --> 00:10:06,980
call it flow expert you can<font color="#CCCCCC"> call it</font>

276
00:10:04,820 --> 00:10:11,480
<font color="#CCCCCC">netflix</font><font color="#E5E5E5"> call see flow</font><font color="#CCCCCC"> I call it a major</font>

277
00:10:06,980 --> 00:10:13,460
pain in my ass you could also use s flow

278
00:10:11,480 --> 00:10:14,930
you could use you<font color="#CCCCCC"> know any sort of</font>

279
00:10:13,460 --> 00:10:16,550
traffic accounting information we used

280
00:10:14,930 --> 00:10:19,250
flow exports as we were working with

281
00:10:16,550 --> 00:10:20,990
<font color="#CCCCCC">Cisco's and junipers the quick skinny on</font>

282
00:10:19,250 --> 00:10:22,520
flow it's basically packet and bike

283
00:10:20,990 --> 00:10:25,100
counters / unique set of traffic

284
00:10:22,520 --> 00:10:27,740
attributes source IP IP source port desk

285
00:10:25,100 --> 00:10:30,220
or etc its measured from strategic

286
00:10:27,740 --> 00:10:32,600
routers<font color="#E5E5E5"> / input interface currently</font>

287
00:10:30,220 --> 00:10:34,190
which interfaces depends on your defined

288
00:10:32,600 --> 00:10:36,040
goals and needs and<font color="#E5E5E5"> we'll get a little</font>

289
00:10:34,190 --> 00:10:40,400
bit<font color="#E5E5E5"> more into that in a second and</font>

290
00:10:36,040 --> 00:10:42,949
there's a lot of historical complaints

291
00:10:40,400 --> 00:10:44,930
about flow export and believe me I

292
00:10:42,950 --> 00:10:46,580
understand it but it really has come

293
00:10:44,930 --> 00:10:48,620
quite a long way in the last couple of

294
00:10:46,580 --> 00:10:51,530
years it is not you know it is not<font color="#E5E5E5"> your</font>

295
00:10:48,620 --> 00:10:54,560
grandfather's flow export technology it

296
00:10:51,530 --> 00:10:56,600
works a lot better than it did in 99 so

297
00:10:54,560 --> 00:10:58,849
if you know if you heard from someone

298
00:10:56,600 --> 00:11:02,270
once upon a time gosh you know netflow

299
00:10:58,850 --> 00:11:03,950
can't do that that's bad you know things

300
00:11:02,270 --> 00:11:04,930
<font color="#E5E5E5">which things have changed a little bit</font>

301
00:11:03,950 --> 00:11:08,780
<font color="#E5E5E5">over time</font>

302
00:11:04,930 --> 00:11:12,560
so collecting flow export information as

303
00:11:08,780 --> 00:11:15,110
per your problem statement if I'm<font color="#E5E5E5"> doing</font>

304
00:11:12,560 --> 00:11:16,550
inbound measurement I'm going to all<font color="#E5E5E5"> I</font>

305
00:11:15,110 --> 00:11:18,860
need to do is collect inbound on a

306
00:11:16,550 --> 00:11:20,810
single interface for each a s I'm

307
00:11:18,860 --> 00:11:22,550
concerned about<font color="#E5E5E5"> if I want</font><font color="#CCCCCC"> to find out</font>

308
00:11:20,810 --> 00:11:25,359
<font color="#E5E5E5">the characteristics of traffic coming in</font>

309
00:11:22,550 --> 00:11:28,010
from as3 all<font color="#E5E5E5"> I need to do is measure</font>

310
00:11:25,360 --> 00:11:31,190
duflot export inbound on the a s 3<font color="#E5E5E5"> s</font>

311
00:11:28,010 --> 00:11:32,810
link and export<font color="#CCCCCC"> that off a battle that</font>

312
00:11:31,190 --> 00:11:35,000
<font color="#CCCCCC">will answer that</font><font color="#E5E5E5"> question that's really</font>

313
00:11:32,810 --> 00:11:36,770
easy to do similarly in the hierarchical

314
00:11:35,000 --> 00:11:38,420
network model if you want to answer the

315
00:11:36,770 --> 00:11:40,430
outbound question it's pretty easy to<font color="#E5E5E5"> do</font>

316
00:11:38,420 --> 00:11:42,800
too because there's<font color="#E5E5E5"> only two links that</font>

317
00:11:40,430 --> 00:11:47,510
can contribute to external load off of

318
00:11:42,800 --> 00:11:49,339
peer two and in any same network your

319
00:11:47,510 --> 00:11:51,350
core network services will never transit

320
00:11:49,340 --> 00:11:53,080
your edge box so any traffic that's

321
00:11:51,350 --> 00:11:55,790
coming in those two interfaces is

322
00:11:53,080 --> 00:11:57,080
destined either for that router or for

323
00:11:55,790 --> 00:12:00,980
one of the exit points off that router

324
00:11:57,080 --> 00:12:02,210
so in this model ibgp and a low number

325
00:12:00,980 --> 00:12:09,730
of<font color="#E5E5E5"> interfaces will give you</font><font color="#CCCCCC"> all the</font>

326
00:12:02,210 --> 00:12:12,140
information you need for get to that yet

327
00:12:09,730 --> 00:12:14,870
we can talk<font color="#CCCCCC"> later about overlapping</font>

328
00:12:12,140 --> 00:12:18,620
problem statements that's a<font color="#E5E5E5"> different</font>

329
00:12:14,870 --> 00:12:21,290
<font color="#E5E5E5">story this is an example</font><font color="#CCCCCC"> of a</font>

330
00:12:18,620 --> 00:12:22,820
non-hierarchical<font color="#E5E5E5"> network obviously an</font><font color="#CCCCCC"> S</font>

331
00:12:21,290 --> 00:12:25,310
back in the day was sort of an example

332
00:12:22,820 --> 00:12:27,230
<font color="#CCCCCC">of this where your core services and</font>

333
00:12:25,310 --> 00:12:28,640
your edge services come off the same box

334
00:12:27,230 --> 00:12:30,350
you're appearing links in your

335
00:12:28,640 --> 00:12:31,460
transplants are in the same router and

336
00:12:30,350 --> 00:12:33,230
that can cause some operational

337
00:12:31,460 --> 00:12:35,360
complexity because you don't know

338
00:12:33,230 --> 00:12:37,520
necessarily the traffic coming in one

339
00:12:35,360 --> 00:12:39,350
backbone link is going off the box that

340
00:12:37,520 --> 00:12:41,030
they transit through to another core box

341
00:12:39,350 --> 00:12:42,590
and if you're measuring<font color="#E5E5E5"> on more than one</font>

342
00:12:41,030 --> 00:12:44,569
core box that means you have the

343
00:12:42,590 --> 00:12:48,500
opportunity<font color="#CCCCCC"> to double count flows if</font>

344
00:12:44,570 --> 00:12:50,960
traffic comes in you know I'm which I

345
00:12:48,500 --> 00:12:52,520
<font color="#E5E5E5">know all those laser pointers but if</font>

346
00:12:50,960 --> 00:12:53,660
traffic comes in one core box thicker

347
00:12:52,520 --> 00:12:55,550
and you're measuring on that link

348
00:12:53,660 --> 00:12:57,170
because that has the opportunity to

349
00:12:55,550 --> 00:13:00,500
contribute to<font color="#E5E5E5"> one of your external links</font>

350
00:12:57,170 --> 00:13:02,870
and traffic is you don't<font color="#E5E5E5"> know what</font>

351
00:13:00,500 --> 00:13:04,040
traffic is staying on<font color="#CCCCCC"> that box or going</font>

352
00:13:02,870 --> 00:13:05,810
off not there<font color="#E5E5E5"> and what traffic is</font>

353
00:13:04,040 --> 00:13:08,180
staying on that<font color="#E5E5E5"> if you're measuring at</font>

354
00:13:05,810 --> 00:13:10,040
the next router you have the<font color="#E5E5E5"> opportunity</font>

355
00:13:08,180 --> 00:13:13,229
to count the same flow on two interfaces

356
00:13:10,040 --> 00:13:17,910
and that can skew your data

357
00:13:13,230 --> 00:13:19,620
so that's harder said again since floor

358
00:13:17,910 --> 00:13:21,329
export data is inbound only all

359
00:13:19,620 --> 00:13:23,460
potential feeder links in a<font color="#CCCCCC"> non</font>

360
00:13:21,330 --> 00:13:24,630
<font color="#CCCCCC">hierarchical mixed services device have</font>

361
00:13:23,460 --> 00:13:26,460
to be accounted for in order<font color="#E5E5E5"> to catch</font>

362
00:13:24,630 --> 00:13:28,050
all outbound traffic right in<font color="#E5E5E5"> order to</font>

363
00:13:26,460 --> 00:13:29,910
know what's<font color="#CCCCCC"> going on in the a s to link</font>

364
00:13:28,050 --> 00:13:32,430
I<font color="#E5E5E5"> have to measure on all of the core</font>

365
00:13:29,910 --> 00:13:34,469
interfaces assuming<font color="#E5E5E5"> that none of the</font>

366
00:13:32,430 --> 00:13:38,010
other asses off that are getting transit

367
00:13:34,470 --> 00:13:40,230
from me one issue is how do you<font color="#E5E5E5"> know</font>

368
00:13:38,010 --> 00:13:42,780
what data is coming<font color="#E5E5E5"> in core link for</font>

369
00:13:40,230 --> 00:13:44,970
core link<font color="#E5E5E5"> X is bound</font><font color="#CCCCCC"> for the local</font>

370
00:13:42,780 --> 00:13:46,350
external link and rot reflection is bad

371
00:13:44,970 --> 00:13:49,500
here because you can double count if

372
00:13:46,350 --> 00:13:52,380
you're doing route reflection from core

373
00:13:49,500 --> 00:13:54,630
box in red and the one below<font color="#CCCCCC"> it you're</font>

374
00:13:52,380 --> 00:13:57,090
going<font color="#E5E5E5"> to get you're going to get the</font>

375
00:13:54,630 --> 00:13:58,770
flow applied to an ass path<font color="#E5E5E5"> unbox one</font>

376
00:13:57,090 --> 00:14:00,780
then you're going to<font color="#E5E5E5"> get the flow</font>

377
00:13:58,770 --> 00:14:02,610
applied to the same is pass on box<font color="#CCCCCC"> to</font>

378
00:14:00,780 --> 00:14:04,199
<font color="#CCCCCC">that means you've double</font><font color="#E5E5E5"> counted and</font>

379
00:14:02,610 --> 00:14:05,490
that you know you<font color="#E5E5E5"> don't you don't want</font>

380
00:14:04,200 --> 00:14:11,370
to do all this only<font color="#E5E5E5"> the senior numbers</font>

381
00:14:05,490 --> 00:14:13,110
inflated by you know too so yeah and the

382
00:14:11,370 --> 00:14:14,790
problem<font color="#CCCCCC"> only gets exacerbated by complex</font>

383
00:14:13,110 --> 00:14:16,080
policy if you have<font color="#CCCCCC"> BGP policy on your</font>

384
00:14:14,790 --> 00:14:17,939
network where you have<font color="#CCCCCC"> different</font>

385
00:14:16,080 --> 00:14:19,950
policies per box you don't have global

386
00:14:17,940 --> 00:14:23,840
policy that only makes this problem

387
00:14:19,950 --> 00:14:25,920
worse words are less on flow data

388
00:14:23,840 --> 00:14:28,860
micromanagement of networks based on

389
00:14:25,920 --> 00:14:30,780
flow data is bad if you take every

390
00:14:28,860 --> 00:14:32,760
single flow and try and<font color="#E5E5E5"> make Network</font>

391
00:14:30,780 --> 00:14:34,890
decisions macro level decisions based on

392
00:14:32,760 --> 00:14:36,660
micro flows you will never finish it

393
00:14:34,890 --> 00:14:38,160
will<font color="#E5E5E5"> create a terrible hysteresis on</font>

394
00:14:36,660 --> 00:14:40,469
your network<font color="#E5E5E5"> and it will be a ton of</font>

395
00:14:38,160 --> 00:14:42,030
work it's<font color="#E5E5E5"> just a losing proposition to</font>

396
00:14:40,470 --> 00:14:44,970
try and engineer your network based on

397
00:14:42,030 --> 00:14:46,680
flow on individual flows macro

398
00:14:44,970 --> 00:14:48,990
management of networks based on flows is

399
00:14:46,680 --> 00:14:50,819
good looking at<font color="#CCCCCC"> long-term trends looking</font>

400
00:14:48,990 --> 00:14:52,830
at long-term information and aggregating

401
00:14:50,820 --> 00:14:55,560
data so that you can see the three and

402
00:14:52,830 --> 00:14:56,880
six and nine and<font color="#CCCCCC"> 12 month trends in your</font>

403
00:14:55,560 --> 00:14:59,880
network that is a winning proposition

404
00:14:56,880 --> 00:15:03,689
it's a lot less work<font color="#E5E5E5"> and the value</font><font color="#CCCCCC"> to</font>

405
00:14:59,880 --> 00:15:06,210
you is much much higher so some

406
00:15:03,690 --> 00:15:08,520
operational challenges with slow export

407
00:15:06,210 --> 00:15:10,890
data and doing this stuff<font color="#E5E5E5"> Guild's law</font>

408
00:15:08,520 --> 00:15:12,810
which is a good thing to preface does

409
00:15:10,890 --> 00:15:14,460
anything can be measured in a way that

410
00:15:12,810 --> 00:15:17,969
is superior to not measuring it at all

411
00:15:14,460 --> 00:15:20,400
which i<font color="#E5E5E5"> think is absolutely true so some</font>

412
00:15:17,970 --> 00:15:23,250
operational challenges access lists and

413
00:15:20,400 --> 00:15:25,790
data export in the Great Beast the cisco

414
00:15:23,250 --> 00:15:27,290
12,000 router

415
00:15:25,790 --> 00:15:29,000
can do a<font color="#E5E5E5"> whole bunch</font><font color="#CCCCCC"> of different things</font>

416
00:15:27,290 --> 00:15:32,120
but it<font color="#E5E5E5"> can only be one of the great many</font>

417
00:15:29,000 --> 00:15:33,470
things and samples epsilon the GSR is

418
00:15:32,120 --> 00:15:35,180
usually distributing the line cards

419
00:15:33,470 --> 00:15:36,410
right you've<font color="#CCCCCC"> got to you've got a fabric</font>

420
00:15:35,180 --> 00:15:40,010
on the box and it all goes around the

421
00:15:36,410 --> 00:15:43,550
grp but if you have any kind<font color="#E5E5E5"> of access</font>

422
00:15:40,010 --> 00:15:45,860
list XXX port access list outbound

423
00:15:43,550 --> 00:15:48,680
access list and any interface flow

424
00:15:45,860 --> 00:15:51,410
export won't work on any interface and

425
00:15:48,680 --> 00:15:52,969
you know this little slide shows that

426
00:15:51,410 --> 00:15:54,890
you know if you have access lists

427
00:15:52,970 --> 00:15:56,510
configured on a router sample<font color="#CCCCCC"> netflow</font>

428
00:15:54,890 --> 00:15:58,880
won't work and a lot of people<font color="#E5E5E5"> have a</font>

429
00:15:56,510 --> 00:16:00,439
<font color="#E5E5E5">lot of access</font><font color="#CCCCCC"> lists running if you have</font>

430
00:15:58,880 --> 00:16:02,770
sampled<font color="#CCCCCC"> netflow running I</font><font color="#E5E5E5"> don't even</font>

431
00:16:00,440 --> 00:16:05,120
know what perk is but it won't<font color="#E5E5E5"> work and</font>

432
00:16:02,770 --> 00:16:06,890
that<font color="#E5E5E5"> is</font><font color="#CCCCCC"> greater than IP coloring which</font>

433
00:16:05,120 --> 00:16:07,970
is greater than bgp policy accounting

434
00:16:06,890 --> 00:16:09,830
which is greater than frame relay

435
00:16:07,970 --> 00:16:13,190
traffic policing which is not<font color="#CCCCCC"> very late</font>

436
00:16:09,830 --> 00:16:16,840
traffic shaping apparently and<font color="#CCCCCC"> I guess</font>

437
00:16:13,190 --> 00:16:19,100
<font color="#CCCCCC">some of us changed in a</font><font color="#E5E5E5"> 12o 18s but a</font>

438
00:16:16,840 --> 00:16:20,660
lot of people<font color="#E5E5E5"> are running a lot of old</font>

439
00:16:19,100 --> 00:16:24,950
<font color="#CCCCCC">codes so just be aware of the fact that</font>

440
00:16:20,660 --> 00:16:27,250
ax access-list can seriously kill what

441
00:16:24,950 --> 00:16:31,580
you're trying to do with sample<font color="#CCCCCC"> net flow</font>

442
00:16:27,250 --> 00:16:34,430
just being vendor-neutral some releases

443
00:16:31,580 --> 00:16:36,080
of ginos have bugs where it can't export

444
00:16:34,430 --> 00:16:40,160
data on all the interfaces you configure

445
00:16:36,080 --> 00:16:43,730
on it look up PR 2015 9 if you think you

446
00:16:40,160 --> 00:16:48,079
might<font color="#CCCCCC"> be subject to that I've</font><font color="#E5E5E5"> seen it in</font>

447
00:16:43,730 --> 00:16:49,490
a 5-1 are one but not in 44 so whatever

448
00:16:48,080 --> 00:16:52,700
version of code you're running check it

449
00:16:49,490 --> 00:16:54,620
out on<font color="#CCCCCC"> high-speed interfaces the best</font>

450
00:16:52,700 --> 00:16:57,260
you can realistically<font color="#E5E5E5"> sample is some</font>

451
00:16:54,620 --> 00:16:59,090
ratio less are greater than one to one

452
00:16:57,260 --> 00:17:03,530
when you get up to high-speed interface

453
00:16:59,090 --> 00:17:05,329
is OC 48 OC 192 the idea<font color="#E5E5E5"> of accounting</font>

454
00:17:03,530 --> 00:17:06,619
every packet that comes in starts to

455
00:17:05,329 --> 00:17:08,869
interfere with<font color="#CCCCCC"> the</font><font color="#E5E5E5"> concept of forwarding</font>

456
00:17:06,619 --> 00:17:10,310
it and quite frankly forwarding has to

457
00:17:08,869 --> 00:17:12,109
take precedence over accounting because

458
00:17:10,310 --> 00:17:14,359
accounting a whole bunch of packets that

459
00:17:12,109 --> 00:17:17,449
never get forwarded doesn't help you

460
00:17:14,359 --> 00:17:18,740
right so if you need to count bytes this

461
00:17:17,450 --> 00:17:20,150
is going to introduce errors if you're

462
00:17:18,740 --> 00:17:21,740
trying<font color="#E5E5E5"> to do something like</font><font color="#CCCCCC"> a billing</font>

463
00:17:20,150 --> 00:17:24,260
system if you're<font color="#E5E5E5"> trying to do</font><font color="#CCCCCC"> something</font>

464
00:17:21,740 --> 00:17:25,640
that<font color="#CCCCCC"> is packet and bite sensitive</font>

465
00:17:24,260 --> 00:17:27,020
there's going<font color="#CCCCCC"> to be a problem</font><font color="#E5E5E5"> for you</font>

466
00:17:25,640 --> 00:17:28,640
but if you're<font color="#CCCCCC"> trying</font><font color="#E5E5E5"> to do traffic</font>

467
00:17:27,020 --> 00:17:31,280
engineering for trying to do capacity

468
00:17:28,640 --> 00:17:33,730
planning or congestion mitigation it's

469
00:17:31,280 --> 00:17:36,889
<font color="#E5E5E5">okay the people really seem</font><font color="#CCCCCC"> to fear</font>

470
00:17:33,730 --> 00:17:39,400
sampling but as long<font color="#CCCCCC"> as you're</font><font color="#E5E5E5"> not bit</font>

471
00:17:36,890 --> 00:17:42,050
sensitive to it it's<font color="#E5E5E5"> okay</font>

472
00:17:39,400 --> 00:17:43,520
what you need<font color="#E5E5E5"> to do is</font><font color="#CCCCCC"> basically compare</font>

473
00:17:42,050 --> 00:17:46,430
samples and make sure<font color="#E5E5E5"> the samples are</font>

474
00:17:43,520 --> 00:17:48,560
normalized if you have a<font color="#CCCCCC"> 7500</font><font color="#E5E5E5"> 7500</font>

475
00:17:46,430 --> 00:17:50,690
doesn't do sampling it does one for<font color="#E5E5E5"> one</font>

476
00:17:48,560 --> 00:17:53,300
packet analysis the GSR I'm fairly

477
00:17:50,690 --> 00:17:55,100
certain you can't even<font color="#E5E5E5"> configure 141 so</font>

478
00:17:53,300 --> 00:17:57,260
if you have some number of 75 hundreds

479
00:17:55,100 --> 00:17:58,790
doing flow some number of GSR is doing

480
00:17:57,260 --> 00:18:00,440
flow you need to combine the<font color="#E5E5E5"> data</font>

481
00:17:58,790 --> 00:18:01,550
together in order to make<font color="#CCCCCC"> it normalized</font>

482
00:18:00,440 --> 00:18:02,930
so it can be compared<font color="#E5E5E5"> to each other</font>

483
00:18:01,550 --> 00:18:04,340
right just like multiplying the

484
00:18:02,930 --> 00:18:09,290
denominator in fractions so you can

485
00:18:04,340 --> 00:18:10,370
compare the numerator I just if you come

486
00:18:09,290 --> 00:18:12,290
away<font color="#CCCCCC"> with nothing else in this</font>

487
00:18:10,370 --> 00:18:15,459
conversation than this I guess<font color="#CCCCCC"> it's not</font>

488
00:18:12,290 --> 00:18:17,389
<font color="#E5E5E5">a conversation unless someone talks but</font>

489
00:18:15,460 --> 00:18:19,880
normalizing the data does not mean

490
00:18:17,390 --> 00:18:22,580
multiplying by the sample interval the

491
00:18:19,880 --> 00:18:24,800
district distribution of packets is not

492
00:18:22,580 --> 00:18:26,540
such that you can say hey I'm doing<font color="#E5E5E5"> one</font>

493
00:18:24,800 --> 00:18:28,669
on a<font color="#E5E5E5"> hundred so in order to get the real</font>

494
00:18:26,540 --> 00:18:31,070
number I'm just<font color="#E5E5E5"> going</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> multiply all my</font>

495
00:18:28,670 --> 00:18:33,560
values by 100 it just doesn't<font color="#CCCCCC"> work that</font>

496
00:18:31,070 --> 00:18:34,970
<font color="#E5E5E5">way and if anyone wants</font><font color="#CCCCCC"> to talk about it</font>

497
00:18:33,560 --> 00:18:38,750
some more I can draw some pictures later

498
00:18:34,970 --> 00:18:40,640
but uh that that it just doesn't work

499
00:18:38,750 --> 00:18:42,380
that<font color="#E5E5E5"> way but one way that you</font><font color="#CCCCCC"> can</font>

500
00:18:40,640 --> 00:18:43,910
normalize traffic that seems to work

501
00:18:42,380 --> 00:18:46,520
reasonably well as long<font color="#E5E5E5"> as you're</font><font color="#CCCCCC"> not</font>

502
00:18:43,910 --> 00:18:48,830
bit<font color="#CCCCCC"> and byte sensitive is to take the</font>

503
00:18:46,520 --> 00:18:51,080
load<font color="#E5E5E5"> and</font><font color="#CCCCCC"> the speed of your</font><font color="#E5E5E5"> interface and</font>

504
00:18:48,830 --> 00:18:54,500
take comparable values off of interface

505
00:18:51,080 --> 00:18:56,649
so let's<font color="#E5E5E5"> say I had 10 ass pads across an</font>

506
00:18:54,500 --> 00:19:00,230
interface and each of them represented

507
00:18:56,650 --> 00:19:02,000
ten percent of<font color="#E5E5E5"> the interface load if you</font>

508
00:19:00,230 --> 00:19:04,190
take the actual interface load that you

509
00:19:02,000 --> 00:19:05,900
get via SNMP and take ten percent of

510
00:19:04,190 --> 00:19:07,820
that you can normalize your data to say

511
00:19:05,900 --> 00:19:09,860
well I know what traffic actually was on

512
00:19:07,820 --> 00:19:11,570
<font color="#E5E5E5">that interface and I know relative to</font>

513
00:19:09,860 --> 00:19:13,580
each other on that interface what

514
00:19:11,570 --> 00:19:15,770
traffic was for each is path i can

515
00:19:13,580 --> 00:19:17,090
divide that in by percentage right that

516
00:19:15,770 --> 00:19:19,280
seems to<font color="#E5E5E5"> be</font><font color="#CCCCCC"> a reasonable way to do</font>

517
00:19:17,090 --> 00:19:22,730
<font color="#CCCCCC">long-term planning and normalizing flow</font>

518
00:19:19,280 --> 00:19:24,560
statistics there's some non-trivial lack

519
00:19:22,730 --> 00:19:26,530
of current research on statistical

520
00:19:24,560 --> 00:19:29,149
validity and flow data based on samples

521
00:19:26,530 --> 00:19:32,629
<font color="#CCCCCC">casey and some of her friends did a nice</font>

522
00:19:29,150 --> 00:19:35,990
paper in 1993 that talked about sampling

523
00:19:32,630 --> 00:19:37,910
validity in in the AF snap<font color="#CCCCCC"> network but</font>

524
00:19:35,990 --> 00:19:40,120
<font color="#E5E5E5">that was a long time</font><font color="#CCCCCC"> ago and it actually</font>

525
00:19:37,910 --> 00:19:43,010
predates substantial HTTP traffic on

526
00:19:40,120 --> 00:19:45,229
backbones so I mean<font color="#CCCCCC"> basically we have</font>

527
00:19:43,010 --> 00:19:46,940
very large very high capacity core links

528
00:19:45,230 --> 00:19:48,470
we have very large very high capacity

529
00:19:46,940 --> 00:19:49,700
peering links we have customer links and

530
00:19:48,470 --> 00:19:51,620
all of them are<font color="#E5E5E5"> going</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> have different</font>

531
00:19:49,700 --> 00:19:52,250
<font color="#E5E5E5">traffic characteristics all of them are</font>

532
00:19:51,620 --> 00:19:54,770
going<font color="#E5E5E5"> to different</font>

533
00:19:52,250 --> 00:19:56,570
granularities and knowing what a valid

534
00:19:54,770 --> 00:19:58,400
statistical sampling rate on each one<font color="#E5E5E5"> of</font>

535
00:19:56,570 --> 00:20:00,530
those types of links would be really

536
00:19:58,400 --> 00:20:05,540
really<font color="#E5E5E5"> valuable and if anyone has some</font>

537
00:20:00,530 --> 00:20:07,250
copious spare time please go do that at

538
00:20:05,540 --> 00:20:08,990
<font color="#E5E5E5">any rate so the question of well what's</font>

539
00:20:07,250 --> 00:20:11,210
the valid sampling rate that's<font color="#E5E5E5"> really</font>

540
00:20:08,990 --> 00:20:13,100
good question and it would<font color="#CCCCCC"> be really</font>

541
00:20:11,210 --> 00:20:15,740
good if some people<font color="#E5E5E5"> started sitting down</font>

542
00:20:13,100 --> 00:20:19,399
to work on that or if they already<font color="#E5E5E5"> are</font>

543
00:20:15,740 --> 00:20:21,950
that's great so I again tried<font color="#E5E5E5"> to be</font>

544
00:20:19,400 --> 00:20:24,770
funny so we talked about<font color="#E5E5E5"> guilds law and</font>

545
00:20:21,950 --> 00:20:26,660
I made up the guild wetland construct

546
00:20:24,770 --> 00:20:28,070
and that is the<font color="#E5E5E5"> total pita factor</font>

547
00:20:26,660 --> 00:20:29,960
experienced through the process of

548
00:20:28,070 --> 00:20:31,909
network measurement is far less than<font color="#CCCCCC"> the</font>

549
00:20:29,960 --> 00:20:33,080
<font color="#E5E5E5">total pita factor experienced through</font>

550
00:20:31,910 --> 00:20:36,290
<font color="#E5E5E5">planning and engineering and network</font>

551
00:20:33,080 --> 00:20:38,960
without<font color="#E5E5E5"> Network measurements tough clue</font>

552
00:20:36,290 --> 00:20:40,820
full statements and easy clueless

553
00:20:38,960 --> 00:20:43,490
statements I'll take<font color="#E5E5E5"> the tough clue full</font>

554
00:20:40,820 --> 00:20:44,720
statements anytime<font color="#E5E5E5"> and</font><font color="#CCCCCC"> peeta I don't</font>

555
00:20:43,490 --> 00:20:48,320
know if you guys have<font color="#E5E5E5"> ever heard this up</font>

556
00:20:44,720 --> 00:20:49,460
pain in<font color="#E5E5E5"> the ass and for those those of</font>

557
00:20:48,320 --> 00:20:52,490
you without customers may not be

558
00:20:49,460 --> 00:20:55,870
familiar with it<font color="#E5E5E5"> but anyway I find this</font>

559
00:20:52,490 --> 00:20:58,760
<font color="#E5E5E5">to be very very true performance data</font>

560
00:20:55,870 --> 00:21:02,000
active measurement<font color="#CCCCCC"> round-trip one way</font>

561
00:20:58,760 --> 00:21:03,980
ping trace route all the things that<font color="#CCCCCC"> you</font>

562
00:21:02,000 --> 00:21:05,870
put<font color="#CCCCCC"> a probe out and measure through your</font>

563
00:21:03,980 --> 00:21:08,360
network to verify<font color="#E5E5E5"> the performance of</font>

564
00:21:05,870 --> 00:21:10,219
your entire network mr<font color="#E5E5E5"> TG and link</font>

565
00:21:08,360 --> 00:21:12,050
utilization were things saturated you

566
00:21:10,220 --> 00:21:15,200
know<font color="#E5E5E5"> are my links approaching statures</font>

567
00:21:12,050 --> 00:21:17,419
at saturation really important stuff but

568
00:21:15,200 --> 00:21:18,980
sadly<font color="#CCCCCC"> not part of our</font><font color="#E5E5E5"> examples as we ran</font>

569
00:21:17,420 --> 00:21:21,320
out of time because we had to<font color="#E5E5E5"> do our day</font>

570
00:21:18,980 --> 00:21:24,610
jobs can<font color="#E5E5E5"> you talk into this is hard to</font>

571
00:21:21,320 --> 00:21:29,460
hear you in the back all<font color="#E5E5E5"> right yeah</font>

572
00:21:24,610 --> 00:21:35,229
sure okay thank you look is this better

573
00:21:29,460 --> 00:21:37,320
it's all right your honor oh how<font color="#E5E5E5"> about</font>

574
00:21:35,230 --> 00:21:37,320
now

575
00:21:37,980 --> 00:21:59,280
how about<font color="#CCCCCC"> now I I can try and yell hello</font>

576
00:21:53,390 --> 00:22:00,929
is this thing on I'll just yell and I'll

577
00:21:59,280 --> 00:22:03,480
try to yell it<font color="#E5E5E5"> if anybody's having</font>

578
00:22:00,929 --> 00:22:06,540
trouble hearing me please give a<font color="#E5E5E5"> yell</font>

579
00:22:03,480 --> 00:22:08,280
and I'll yell louder performance data is

580
00:22:06,540 --> 00:22:10,620
really important for this stuff but we

581
00:22:08,280 --> 00:22:13,500
just didn't<font color="#E5E5E5"> have time to get to</font><font color="#CCCCCC"> it so my</font>

582
00:22:10,620 --> 00:22:15,149
apologies but you know it really helps

583
00:22:13,500 --> 00:22:17,669
in goal selection it really helps you

584
00:22:15,150 --> 00:22:19,620
identify problems and it really helps in

585
00:22:17,669 --> 00:22:21,150
goal<font color="#CCCCCC"> reselection you</font><font color="#E5E5E5"> know and bottom</font>

586
00:22:19,620 --> 00:22:22,439
line is you know use this stuff to

587
00:22:21,150 --> 00:22:24,540
figure<font color="#E5E5E5"> out am i making things better or</font>

588
00:22:22,440 --> 00:22:26,070
worse you<font color="#E5E5E5"> know I brought up new pairing</font>

589
00:22:24,540 --> 00:22:28,500
I've moved traffic around I've done this

590
00:22:26,070 --> 00:22:30,000
or that you know quantitatively<font color="#E5E5E5"> I'm</font>

591
00:22:28,500 --> 00:22:31,980
measuring my networks have I made things

592
00:22:30,000 --> 00:22:35,480
better if you have them<font color="#CCCCCC"> you're winning</font>

593
00:22:31,980 --> 00:22:37,919
if you haven't then you're not obviously

594
00:22:35,480 --> 00:22:40,080
applying data to your goals once you've

595
00:22:37,919 --> 00:22:41,640
defined a goal statement once you know

596
00:22:40,080 --> 00:22:42,809
your problem<font color="#E5E5E5"> and once you</font><font color="#CCCCCC"> started</font>

597
00:22:41,640 --> 00:22:44,910
measuring and once you<font color="#CCCCCC"> started getting</font>

598
00:22:42,809 --> 00:22:47,100
<font color="#E5E5E5">good data at some point you're going to</font>

599
00:22:44,910 --> 00:22:49,700
have to glue those together right how do

600
00:22:47,100 --> 00:22:52,500
i<font color="#CCCCCC"> use my data to solve my problem and</font>

601
00:22:49,700 --> 00:22:54,390
for focusing on what we're doing<font color="#CCCCCC"> here</font>

602
00:22:52,500 --> 00:22:56,760
we're taking traffic accounting data or

603
00:22:54,390 --> 00:22:59,280
applying it to routing attributes and

604
00:22:56,760 --> 00:23:02,429
routes right how much load is

605
00:22:59,280 --> 00:23:03,720
representative / s path bgp next hop

606
00:23:02,429 --> 00:23:06,150
community community<font color="#CCCCCC"> list whatever</font>

607
00:23:03,720 --> 00:23:08,790
whatever it is that you<font color="#CCCCCC"> need to do our</font>

608
00:23:06,150 --> 00:23:11,460
focus<font color="#E5E5E5"> here is on traffic statistics bite</font>

609
00:23:08,790 --> 00:23:13,620
and packet rates /<font color="#CCCCCC"> a s path that's what</font>

610
00:23:11,460 --> 00:23:14,760
allows<font color="#CCCCCC"> us to do the how do</font><font color="#E5E5E5"> we find</font>

611
00:23:13,620 --> 00:23:17,809
people to connect with<font color="#E5E5E5"> and how do we</font>

612
00:23:14,760 --> 00:23:22,860
optimize our<font color="#E5E5E5"> inter domain connectivity</font>

613
00:23:17,809 --> 00:23:25,379
so traffic data tables for a s paths we

614
00:23:22,860 --> 00:23:27,209
take traffic load<font color="#CCCCCC"> / a s path we get</font>

615
00:23:25,380 --> 00:23:29,190
every individual flow we take the

616
00:23:27,210 --> 00:23:31,890
destination address and we do a route

617
00:23:29,190 --> 00:23:33,720
look up in real time and we find the AS

618
00:23:31,890 --> 00:23:36,540
path attribute for that and we apply the

619
00:23:33,720 --> 00:23:40,049
packet and<font color="#E5E5E5"> bike counters to that s path</font>

620
00:23:36,540 --> 00:23:42,899
so what that gives me is a bunch of a s

621
00:23:40,049 --> 00:23:44,129
path load values which<font color="#CCCCCC"> I can overlay on</font>

622
00:23:42,900 --> 00:23:46,650
top of each<font color="#E5E5E5"> other to make a tree</font>

623
00:23:44,130 --> 00:23:48,240
structure and once I've done that I can

624
00:23:46,650 --> 00:23:50,429
see that<font color="#E5E5E5"> all the traffic that's</font>

625
00:23:48,240 --> 00:23:51,389
terminating in an ass all the<font color="#CCCCCC"> traffic is</font>

626
00:23:50,429 --> 00:23:53,909
going<font color="#E5E5E5"> through in a</font>

627
00:23:51,389 --> 00:23:56,549
and you know the product<font color="#E5E5E5"> of the two so</font>

628
00:23:53,909 --> 00:23:59,279
if<font color="#E5E5E5"> I have some ass path 101 that has X</font>

629
00:23:56,549 --> 00:24:01,829
bits per second some ass path 10 11 2 3

630
00:23:59,279 --> 00:24:05,070
4 which has y bits per second and 101

631
00:24:01,829 --> 00:24:06,779
1234 999 5 which has z bits per second<font color="#E5E5E5"> I</font>

632
00:24:05,070 --> 00:24:09,539
can overlay those on top of<font color="#CCCCCC"> each other</font>

633
00:24:06,779 --> 00:24:12,869
and see that the traffic<font color="#CCCCCC"> syncing to</font><font color="#E5E5E5"> 101</font>

634
00:24:09,539 --> 00:24:16,408
is<font color="#E5E5E5"> X the traffic transiting 101 is y</font>

635
00:24:12,869 --> 00:24:19,109
plus Z and the total traffic aggregation

636
00:24:16,409 --> 00:24:21,179
<font color="#E5E5E5">that's going to or through that a s as X</font>

637
00:24:19,109 --> 00:24:22,678
plus y plus Z and I can do this<font color="#E5E5E5"> for</font>

638
00:24:21,179 --> 00:24:25,499
every branch and every structure of the

639
00:24:22,679 --> 00:24:27,299
tree so this addresses the middle mile

640
00:24:25,499 --> 00:24:31,469
is is instead of the traditional first

641
00:24:27,299 --> 00:24:33,839
neighbor or edge destination s right all

642
00:24:31,469 --> 00:24:35,999
the middle guess is on the path<font color="#E5E5E5"> I can</font>

643
00:24:33,839 --> 00:24:37,859
now see so I can see the full set of

644
00:24:35,999 --> 00:24:40,379
relationships instead of just how people

645
00:24:37,859 --> 00:24:42,539
sink out to the destinations because

646
00:24:40,379 --> 00:24:45,779
when I'm when I'm a large ISP or even

647
00:24:42,539 --> 00:24:48,509
small isp I'm not looking necessarily

648
00:24:45,779 --> 00:24:50,820
when my goal is inter domain expansion I

649
00:24:48,509 --> 00:24:52,440
don't necessarily<font color="#E5E5E5"> care about the sinks</font>

650
00:24:50,820 --> 00:24:53,579
what I<font color="#CCCCCC"> care about is the aggregation</font>

651
00:24:52,440 --> 00:24:56,909
points where do I get the biggest bang

652
00:24:53,579 --> 00:24:59,879
for my buck so once again it allows to

653
00:24:56,909 --> 00:25:05,820
and through values instead of just two

654
00:24:59,879 --> 00:25:08,158
values so floral export v5 you get all

655
00:25:05,820 --> 00:25:10,529
these individual flow records and you've

656
00:25:08,159 --> 00:25:12,599
got<font color="#E5E5E5"> all</font><font color="#CCCCCC"> this routing information but</font>

657
00:25:10,529 --> 00:25:14,579
what like<font color="#E5E5E5"> I said before micromanaging</font>

658
00:25:12,599 --> 00:25:16,168
networks based on flow data and routing

659
00:25:14,579 --> 00:25:17,999
data not necessarily route and get above

660
00:25:16,169 --> 00:25:19,559
floated is very very<font color="#E5E5E5"> bad so you need to</font>

661
00:25:17,999 --> 00:25:21,209
aggregate data over time and anyone

662
00:25:19,559 --> 00:25:24,269
who's ever used see flow d is probably

663
00:25:21,209 --> 00:25:26,669
familiar with this concept when you

664
00:25:24,269 --> 00:25:29,339
aggregate data over time frames you want

665
00:25:26,669 --> 00:25:30,869
<font color="#CCCCCC">long-term now long-term maybe a day for</font>

666
00:25:29,339 --> 00:25:32,009
<font color="#E5E5E5">you because maybe you made a change and</font>

667
00:25:30,869 --> 00:25:35,988
you're looking<font color="#CCCCCC"> to see what the result is</font>

668
00:25:32,009 --> 00:25:35,989
it maybe<font color="#E5E5E5"> three months because</font>

669
00:25:37,990 --> 00:25:46,330
hi hey doing<font color="#CCCCCC"> okay so so you can do</font>

670
00:25:44,530 --> 00:25:48,250
long-term averages three months<font color="#E5E5E5"> I want</font>

671
00:25:46,330 --> 00:25:49,840
to know next quarter who should I go

672
00:25:48,250 --> 00:25:52,059
after preparing or who should I go after

673
00:25:49,840 --> 00:25:55,600
to buy capacity from if that's what you

674
00:25:52,059 --> 00:25:58,000
need<font color="#CCCCCC"> to</font><font color="#E5E5E5"> do or short-term benchmarks</font>

675
00:25:55,600 --> 00:26:00,340
right you know in by short-term I mean

676
00:25:58,000 --> 00:26:04,240
sort of long-term because micromanaging

677
00:26:00,340 --> 00:26:08,919
networks via flows is bad data

678
00:26:04,240 --> 00:26:10,090
aggregation via interfaces aggregating

679
00:26:08,920 --> 00:26:11,890
across the set of interfaces that

680
00:26:10,090 --> 00:26:13,120
represent your problem statement and

681
00:26:11,890 --> 00:26:15,760
<font color="#E5E5E5">this is something</font><font color="#CCCCCC"> that Tracy mentioned</font>

682
00:26:13,120 --> 00:26:17,620
earlier<font color="#E5E5E5"> you may be one interface I may</font>

683
00:26:15,760 --> 00:26:21,580
want to look at the ASL or the traffic

684
00:26:17,620 --> 00:26:24,219
load in from ASX right or maybe I want

685
00:26:21,580 --> 00:26:25,840
to aggregate all the interfaces on a

686
00:26:24,220 --> 00:26:27,700
router together because my router serves

687
00:26:25,840 --> 00:26:29,970
a given function and I want<font color="#E5E5E5"> to see what</font>

688
00:26:27,700 --> 00:26:32,200
traffic is<font color="#CCCCCC"> going through that router or</font>

689
00:26:29,970 --> 00:26:33,520
you know maybe I want to<font color="#E5E5E5"> aggravate every</font>

690
00:26:32,200 --> 00:26:35,260
interface I'm measuring in the entire

691
00:26:33,520 --> 00:26:37,990
domain because what I really want<font color="#E5E5E5"> to</font>

692
00:26:35,260 --> 00:26:40,360
know is given all the traffic i have for

693
00:26:37,990 --> 00:26:42,280
all the places that I measuring where is

694
00:26:40,360 --> 00:26:46,840
my best opportunity excuse me for

695
00:26:42,280 --> 00:26:50,970
expansion and what's most think is to do

696
00:26:46,840 --> 00:26:53,919
NMM interfaces where or<font color="#CCCCCC"> MN whatever</font>

697
00:26:50,970 --> 00:26:55,450
where<font color="#CCCCCC"> you know you're taking</font><font color="#E5E5E5"> three of</font>

698
00:26:53,920 --> 00:26:56,770
seven links off of a router and

699
00:26:55,450 --> 00:26:59,020
aggregating those together because those

700
00:26:56,770 --> 00:27:00,639
three links answer the<font color="#E5E5E5"> questions that</font>

701
00:26:59,020 --> 00:27:04,360
<font color="#E5E5E5">you're trying to answer they apply to</font>

702
00:27:00,640 --> 00:27:05,740
your problem statement so you know what

703
00:27:04,360 --> 00:27:07,840
do we do with all this you know<font color="#E5E5E5"> once</font>

704
00:27:05,740 --> 00:27:09,070
you've measured all this information you

705
00:27:07,840 --> 00:27:10,480
know once you've got it<font color="#CCCCCC"> all aggregated</font>

706
00:27:09,070 --> 00:27:13,090
and you've got you know some amount<font color="#E5E5E5"> of</font>

707
00:27:10,480 --> 00:27:14,920
traffic and some some amount of traffic

708
00:27:13,090 --> 00:27:18,550
engineering information what does one go

709
00:27:14,920 --> 00:27:21,120
do and with that<font color="#E5E5E5"> I will hand off to</font><font color="#CCCCCC"> my</font>

710
00:27:18,550 --> 00:27:21,120
good friend Joe

711
00:27:28,690 --> 00:27:47,770
all right you<font color="#E5E5E5"> might forget that exactly</font>

712
00:27:43,300 --> 00:27:50,600
yes working could everybody hear me okay

713
00:27:47,770 --> 00:27:52,430
okay the very second slides we had

714
00:27:50,600 --> 00:27:54,709
talked called me a token Canadian and I

715
00:27:52,430 --> 00:27:57,280
may not<font color="#E5E5E5"> sound like a Canadian that's</font>

716
00:27:54,710 --> 00:27:57,280
because I'm in disguise

717
00:27:58,930 --> 00:28:05,620
so we have some assumptions about the

718
00:28:02,590 --> 00:28:08,709
routing architecture the routes to our

719
00:28:05,620 --> 00:28:10,810
external networks are in BGP there are

720
00:28:08,710 --> 00:28:13,000
gb basically told us<font color="#E5E5E5"> how to find</font><font color="#CCCCCC"> the</font>

721
00:28:10,810 --> 00:28:16,690
<font color="#E5E5E5">next top for the routes that we have in</font>

722
00:28:13,000 --> 00:28:18,750
BGP we exit we select exit points for

723
00:28:16,690 --> 00:28:21,130
traffic based on b2b part selection and

724
00:28:18,750 --> 00:28:23,740
and that's an assumption that I think is

725
00:28:21,130 --> 00:28:25,360
fairly reasonable if your network

726
00:28:23,740 --> 00:28:26,350
differs very substantially from that

727
00:28:25,360 --> 00:28:33,179
then you have other problems to solve

728
00:28:26,350 --> 00:28:35,169
before you start measuring things so

729
00:28:33,180 --> 00:28:36,580
basically<font color="#E5E5E5"> a planet's we'll talk about a</font>

730
00:28:35,170 --> 00:28:38,680
little<font color="#E5E5E5"> tool box here of what we can</font><font color="#CCCCCC"> do</font>

731
00:28:36,580 --> 00:28:40,179
to change things if we've made some

732
00:28:38,680 --> 00:28:41,860
measurements and we decided<font color="#CCCCCC"> that a</font>

733
00:28:40,180 --> 00:28:44,650
traffic needs to flow in some different

734
00:28:41,860 --> 00:28:46,600
<font color="#CCCCCC">way</font><font color="#E5E5E5"> to the way it's currently flowing we</font>

735
00:28:44,650 --> 00:28:48,220
have need little<font color="#CCCCCC"> tool box of spanners</font>

736
00:28:46,600 --> 00:28:52,840
and wrenches we can use<font color="#CCCCCC"> to try and shift</font>

737
00:28:48,220 --> 00:28:54,460
traffic around so outbound<font color="#E5E5E5"> traffic we</font>

738
00:28:52,840 --> 00:28:56,379
control<font color="#E5E5E5"> our outbound traffic by</font>

739
00:28:54,460 --> 00:28:57,700
controlling by<font color="#E5E5E5"> changing how we process</font>

740
00:28:56,380 --> 00:29:00,250
routes that we learn from<font color="#E5E5E5"> other people</font>

741
00:28:57,700 --> 00:29:01,270
so we apply policy on the<font color="#E5E5E5"> routes we</font>

742
00:29:00,250 --> 00:29:02,680
learn<font color="#CCCCCC"> from other people at the place</font>

743
00:29:01,270 --> 00:29:05,139
where<font color="#CCCCCC"> we learn them because that's</font><font color="#E5E5E5"> so</font>

744
00:29:02,680 --> 00:29:07,570
easy place to do it so we can<font color="#E5E5E5"> have</font>

745
00:29:05,140 --> 00:29:09,280
general policy we can have a bunch of

746
00:29:07,570 --> 00:29:11,169
policy to do with a BGP attributes that

747
00:29:09,280 --> 00:29:12,520
applied appearing links so we prefer

748
00:29:11,170 --> 00:29:16,630
some particular<font color="#E5E5E5"> Korean crisis to other</font>

749
00:29:12,520 --> 00:29:19,450
places we prefer<font color="#E5E5E5"> peering links / transit</font>

750
00:29:16,630 --> 00:29:21,040
links and we have specific policy as

751
00:29:19,450 --> 00:29:22,480
<font color="#CCCCCC">well which might be short</font><font color="#E5E5E5"> term policy or</font>

752
00:29:21,040 --> 00:29:24,730
it might be<font color="#CCCCCC"> a long term policy which is</font>

753
00:29:22,480 --> 00:29:26,950
to say things<font color="#CCCCCC"> like if we want to transit</font>

754
00:29:24,730 --> 00:29:28,840
<font color="#CCCCCC">well we want</font><font color="#E5E5E5"> to avoid a particular</font>

755
00:29:26,950 --> 00:29:29,980
peering point for some reason maybe

756
00:29:28,840 --> 00:29:32,740
<font color="#E5E5E5">because we have a congested interface</font>

757
00:29:29,980 --> 00:29:34,000
there so we'd like to try<font color="#E5E5E5"> and depress</font>

758
00:29:32,740 --> 00:29:35,440
the rest within over there so we'll

759
00:29:34,000 --> 00:29:36,730
still use them<font color="#E5E5E5"> if we have to if we have</font>

760
00:29:35,440 --> 00:29:38,110
any other<font color="#E5E5E5"> else elsewhere in the net</font>

761
00:29:36,730 --> 00:29:40,620
whipped and that probably better place

762
00:29:38,110 --> 00:29:40,620
to<font color="#E5E5E5"> send the traffic</font>

763
00:29:41,770 --> 00:29:46,190
so here<font color="#E5E5E5"> are some some attributes that</font>

764
00:29:43,880 --> 00:29:47,929
people commonly used to a to change

765
00:29:46,190 --> 00:29:50,390
their their exit<font color="#CCCCCC"> selection for</font>

766
00:29:47,929 --> 00:29:53,059
particular<font color="#CCCCCC"> routes so local</font><font color="#E5E5E5"> preferences</font>

767
00:29:50,390 --> 00:29:55,220
<font color="#E5E5E5">are common one very commonly used to</font>

768
00:29:53,059 --> 00:29:57,740
consider to change the preference

769
00:29:55,220 --> 00:30:01,899
between customer and and PRS to avoid

770
00:29:57,740 --> 00:30:04,340
some nasty oscillations meds a SPF

771
00:30:01,899 --> 00:30:07,520
different vendors have different<font color="#CCCCCC"> bgp</font>

772
00:30:04,340 --> 00:30:09,649
path selection algorithms so depending

773
00:30:07,520 --> 00:30:11,510
on<font color="#E5E5E5"> who your vendor is you may be able to</font>

774
00:30:09,649 --> 00:30:13,760
go down<font color="#CCCCCC"> and find vendor-specific knobs</font>

775
00:30:11,510 --> 00:30:15,140
or rather knobs that basically allow you

776
00:30:13,760 --> 00:30:17,620
to control<font color="#E5E5E5"> the outbound traffic in a way</font>

777
00:30:15,140 --> 00:30:17,620
to make sense

778
00:30:20,269 --> 00:30:23,599
so the<font color="#CCCCCC"> idea of</font><font color="#E5E5E5"> making all these</font><font color="#CCCCCC"> changes</font>

779
00:30:22,249 --> 00:30:25,909
is<font color="#E5E5E5"> to do small changes if</font><font color="#CCCCCC"> you can</font>

780
00:30:23,599 --> 00:30:27,979
saltine jizz and then pause and wait and

781
00:30:25,909 --> 00:30:29,330
wait and see what<font color="#CCCCCC"> happens</font><font color="#E5E5E5"> because</font>

782
00:30:27,979 --> 00:30:31,179
there's a natural latency between things

783
00:30:29,330 --> 00:30:33,049
happening and people reacting to it so

784
00:30:31,179 --> 00:30:34,279
changing something and then looking and

785
00:30:33,049 --> 00:30:36,259
saying well you<font color="#E5E5E5"> know</font><font color="#CCCCCC"> that the interface</font>

786
00:30:34,279 --> 00:30:37,609
<font color="#CCCCCC">def seemed reasonable now the pings are</font>

787
00:30:36,259 --> 00:30:40,879
no longer five seconds five seconds to

788
00:30:37,609 --> 00:30:42,468
go across the so<font color="#CCCCCC"> C 12 everything must be</font>

789
00:30:40,879 --> 00:30:44,869
ok<font color="#E5E5E5"> I'll go home now that's not really a</font>

790
00:30:42,469 --> 00:30:48,549
good approach the idea<font color="#E5E5E5"> is to make very</font>

791
00:30:44,869 --> 00:30:48,549
small changes and then basically repeat

792
00:30:49,690 --> 00:30:54,979
so inbound traffic is a different

793
00:30:52,759 --> 00:30:57,169
<font color="#CCCCCC">problem inbound traffic and controlling</font>

794
00:30:54,979 --> 00:30:58,579
where your inbound traffic cams<font color="#E5E5E5"> is</font>

795
00:30:57,169 --> 00:31:00,349
trying to is all about influencing

796
00:30:58,579 --> 00:31:02,239
policy and other networks so you're

797
00:31:00,349 --> 00:31:03,529
<font color="#E5E5E5">talking about interested influencing</font>

798
00:31:02,239 --> 00:31:05,719
basically the outbound policy of your

799
00:31:03,529 --> 00:31:06,829
peers and transit providers and also

800
00:31:05,719 --> 00:31:08,989
people in the world to have no

801
00:31:06,829 --> 00:31:13,099
connection to you whatsoever so in

802
00:31:08,989 --> 00:31:18,019
<font color="#E5E5E5">general this is</font><font color="#CCCCCC"> a harder problem you</font>

803
00:31:13,099 --> 00:31:19,519
know so some providers give some degree

804
00:31:18,019 --> 00:31:21,950
of control to their customers and<font color="#E5E5E5"> peers</font>

805
00:31:19,519 --> 00:31:23,479
to allow those people to influence the

806
00:31:21,950 --> 00:31:27,469
way that exit selection is done in those

807
00:31:23,479 --> 00:31:28,549
<font color="#CCCCCC">four networks</font><font color="#E5E5E5"> so 1755 the who has record</font>

808
00:31:27,469 --> 00:31:29,899
there has have an<font color="#E5E5E5"> interesting selection</font>

809
00:31:28,549 --> 00:31:31,459
of community strings concert to

810
00:31:29,899 --> 00:31:33,978
influence the way routes are propagated

811
00:31:31,459 --> 00:31:37,099
through 1755<font color="#E5E5E5"> to other peers and</font>

812
00:31:33,979 --> 00:31:38,450
customers so lots<font color="#E5E5E5"> of lots of providers</font>

813
00:31:37,099 --> 00:31:39,739
do this kind of thing so you talk to

814
00:31:38,450 --> 00:31:41,389
<font color="#E5E5E5">your provider and people you directly</font>

815
00:31:39,739 --> 00:31:42,889
talk to you may find that there are

816
00:31:41,389 --> 00:31:45,289
particular ministering community strings

817
00:31:42,889 --> 00:31:47,389
you can<font color="#E5E5E5"> use to change</font><font color="#CCCCCC"> the way that your</font>

818
00:31:45,289 --> 00:31:48,859
the routes<font color="#E5E5E5"> that you advertised are</font>

819
00:31:47,389 --> 00:31:50,149
treated by those other networks and that

820
00:31:48,859 --> 00:31:55,129
can be a useful way of adjusting your

821
00:31:50,149 --> 00:31:56,958
inbound traffic slider abuse if<font color="#E5E5E5"> you</font>

822
00:31:55,129 --> 00:31:58,248
advertise<font color="#CCCCCC"> the</font><font color="#E5E5E5"> long prefix the chances</font>

823
00:31:56,959 --> 00:31:59,779
are<font color="#E5E5E5"> the traffic will follow that as long</font>

824
00:31:58,249 --> 00:32:02,959
<font color="#E5E5E5">as people receive that long prefix and</font>

825
00:31:59,779 --> 00:32:05,029
don't tell trip so there are<font color="#CCCCCC"> a bunch of</font>

826
00:32:02,959 --> 00:32:06,619
Devil's run the place that do traffic

827
00:32:05,029 --> 00:32:08,659
engineering by advertising an overlap

828
00:32:06,619 --> 00:32:11,029
instead of prefixes they might have a

829
00:32:08,659 --> 00:32:12,259
super<font color="#E5E5E5"> net / 16 super net but particular</font>

830
00:32:11,029 --> 00:32:13,999
bits of traffic which they might prefer

831
00:32:12,259 --> 00:32:17,719
to advertise<font color="#E5E5E5"> to tear to receiver a</font>

832
00:32:13,999 --> 00:32:19,339
different link they'll advertise a / 24

833
00:32:17,719 --> 00:32:21,349
which is covered by<font color="#E5E5E5"> that 16 down the</font>

834
00:32:19,339 --> 00:32:22,519
other link so they have a covering

835
00:32:21,349 --> 00:32:25,369
aggregate to make sure that it'll easily

836
00:32:22,519 --> 00:32:26,570
traffic the kind of<font color="#E5E5E5"> gambling on the fact</font>

837
00:32:25,369 --> 00:32:28,999
that people are<font color="#E5E5E5"> going to listen to the</font>

838
00:32:26,570 --> 00:32:30,589
<font color="#E5E5E5">first 24 and send traffic that way and</font>

839
00:32:28,999 --> 00:32:32,179
<font color="#CCCCCC">anybody who doesn't</font><font color="#E5E5E5"> will send the</font>

840
00:32:30,589 --> 00:32:34,820
traffic to the aggregate

841
00:32:32,179 --> 00:32:36,289
so the reason<font color="#E5E5E5"> this is</font><font color="#CCCCCC"> a effective thing</font>

842
00:32:34,820 --> 00:32:38,840
is just as longest prefix renwick wins

843
00:32:36,289 --> 00:32:40,009
there's a very<font color="#CCCCCC"> strong rule for trying to</font>

844
00:32:38,840 --> 00:32:43,009
work out whether send packets in<font color="#E5E5E5"> the</font>

845
00:32:40,009 --> 00:32:44,509
forward table 14 table no amount of<font color="#CCCCCC"> BGP</font>

846
00:32:43,009 --> 00:32:46,429
policy is going to override<font color="#CCCCCC"> the fact</font><font color="#E5E5E5"> if</font>

847
00:32:44,509 --> 00:32:49,730
<font color="#E5E5E5">you have a longer p</font><font color="#CCCCCC"> fixed route that's</font>

848
00:32:46,429 --> 00:32:51,529
the rap is going to<font color="#E5E5E5"> get used</font><font color="#CCCCCC"> and the</font>

849
00:32:49,730 --> 00:32:53,419
reason is bad is because you end up

850
00:32:51,529 --> 00:32:55,460
putting all kinds of extra straight into

851
00:32:53,419 --> 00:32:56,929
the routing table which is good for<font color="#E5E5E5"> you</font>

852
00:32:55,460 --> 00:32:59,149
<font color="#E5E5E5">but the rest</font><font color="#CCCCCC"> of the world have to endure</font>

853
00:32:56,929 --> 00:33:01,129
it so you're basically taking up space

854
00:32:59,149 --> 00:33:03,158
and<font color="#E5E5E5"> all of out of the world just your</font>

855
00:33:01,129 --> 00:33:05,658
<font color="#E5E5E5">own requirements which is kind of rude</font>

856
00:33:03,159 --> 00:33:07,100
and asked us or the scaling problems and

857
00:33:05,659 --> 00:33:10,490
conversions problems<font color="#E5E5E5"> and that kind of</font>

858
00:33:07,100 --> 00:33:14,029
thing AAS path stuffing is in other ways

859
00:33:10,490 --> 00:33:15,460
trying<font color="#E5E5E5"> to influence the the exit policy</font>

860
00:33:14,029 --> 00:33:18,889
that other people use in other networks

861
00:33:15,460 --> 00:33:19,940
so basically<font color="#CCCCCC"> if I'm as5 instead of just</font>

862
00:33:18,889 --> 00:33:21,709
advertising the route straight to

863
00:33:19,940 --> 00:33:23,389
another personal stuff at five times

864
00:33:21,710 --> 00:33:25,789
with a s5 so the path meant now looks

865
00:33:23,389 --> 00:33:27,139
like<font color="#E5E5E5"> it's been through six a esas so</font>

866
00:33:25,789 --> 00:33:29,330
this<font color="#E5E5E5"> is a very common common thing but</font>

867
00:33:27,139 --> 00:33:31,399
unfortunately AAS pass comes way down

868
00:33:29,330 --> 00:33:33,619
the list on on the BGP tiebreaker list

869
00:33:31,399 --> 00:33:36,918
so other people's local preference and

870
00:33:33,619 --> 00:33:38,418
<font color="#E5E5E5">Majesty is probably gonna beat it AAS</font>

871
00:33:36,919 --> 00:33:39,679
path pollution is that is a particularly

872
00:33:38,419 --> 00:33:42,619
nasty trick that I learned from someone

873
00:33:39,679 --> 00:33:44,779
in Australia if I ever try the route

874
00:33:42,619 --> 00:33:46,850
over a particular circuit and to suit my

875
00:33:44,779 --> 00:33:48,259
purposes<font color="#E5E5E5"> I really want to say I want</font>

876
00:33:46,850 --> 00:33:50,480
<font color="#E5E5E5">traffic to follow this link but I never</font>

877
00:33:48,259 --> 00:33:53,240
want traffic from say unit to come down

878
00:33:50,480 --> 00:33:55,759
this leg so what I'll do is I'll prepend

879
00:33:53,240 --> 00:33:57,769
701<font color="#E5E5E5"> and to be a person before I send it</font>

880
00:33:55,759 --> 00:34:00,080
which means that 7701 will never accept

881
00:33:57,769 --> 00:34:01,759
that well so that's particularly nasty

882
00:34:00,080 --> 00:34:03,019
because like Mexico broken to user than

883
00:34:01,759 --> 00:34:06,049
up at the path and<font color="#CCCCCC"> say hang</font><font color="#E5E5E5"> on a second</font>

884
00:34:03,019 --> 00:34:07,940
you are transiting 701 traffic it can be

885
00:34:06,049 --> 00:34:10,250
<font color="#CCCCCC">very effective but it can make things</font>

886
00:34:07,940 --> 00:34:11,480
very confusing and<font color="#CCCCCC"> also some people will</font>

887
00:34:10,250 --> 00:34:13,429
actually put some filters on there in

888
00:34:11,480 --> 00:34:14,809
down policy and say we won't accept a

889
00:34:13,429 --> 00:34:17,450
rat from anybody if it appears that the

890
00:34:14,809 --> 00:34:20,230
transiting 701 routes in which case you

891
00:34:17,449 --> 00:34:22,399
<font color="#CCCCCC">have just didn't get</font><font color="#E5E5E5"> accepted at all so</font>

892
00:34:20,230 --> 00:34:24,469
basically<font color="#CCCCCC"> all these kinds of things you</font>

893
00:34:22,399 --> 00:34:27,168
<font color="#CCCCCC">have no direct control over the policy</font>

894
00:34:24,469 --> 00:34:28,638
in other people's networks so all these

895
00:34:27,168 --> 00:34:30,319
<font color="#CCCCCC">things are just things to try is try and</font>

896
00:34:28,639 --> 00:34:32,629
edge a little bit more traffic one way a

897
00:34:30,319 --> 00:34:34,219
little more traffic the other way so you

898
00:34:32,629 --> 00:34:37,100
can try and<font color="#E5E5E5"> sort of adjust the flow of</font>

899
00:34:34,219 --> 00:34:39,159
traffic between different external links

900
00:34:37,100 --> 00:34:39,159
you

901
00:34:41,770 --> 00:34:46,270
so<font color="#E5E5E5"> really this is just a summary of the</font>

902
00:34:44,290 --> 00:34:48,130
slightly warning qualities of the

903
00:34:46,270 --> 00:34:49,509
previous slide which some<font color="#CCCCCC"> of these</font>

904
00:34:48,130 --> 00:34:51,640
things are<font color="#E5E5E5"> going to have unwelcome</font>

905
00:34:49,510 --> 00:34:53,050
effects in other people's networks they

906
00:34:51,639 --> 00:34:55,149
might be unwelcome simply because it

907
00:34:53,050 --> 00:34:56,800
makes operations staff confused you<font color="#E5E5E5"> know</font>

908
00:34:55,149 --> 00:34:58,000
people want to start saying what the

909
00:34:56,800 --> 00:34:59,620
hell I just seems weird thing about

910
00:34:58,000 --> 00:35:01,990
routing table and people might just

911
00:34:59,620 --> 00:35:03,700
waste time<font color="#E5E5E5"> thinking about it so even if</font>

912
00:35:01,990 --> 00:35:05,439
the even if the net effect on the other

913
00:35:03,700 --> 00:35:06,939
network is completely benign you can

914
00:35:05,440 --> 00:35:09,370
still waste people's time and wasting

915
00:35:06,940 --> 00:35:10,840
people's time is not<font color="#E5E5E5"> a good</font><font color="#CCCCCC"> thing so</font>

916
00:35:09,370 --> 00:35:13,740
basically<font color="#E5E5E5"> we all have to pray nice play</font>

917
00:35:10,840 --> 00:35:16,000
nicely that's best the answer here so<font color="#E5E5E5"> I</font>

918
00:35:13,740 --> 00:35:17,259
guess<font color="#CCCCCC"> it's a balance we have to try</font><font color="#E5E5E5"> and</font>

919
00:35:16,000 --> 00:35:19,180
do what's best<font color="#E5E5E5"> for our customers because</font>

920
00:35:17,260 --> 00:35:20,380
they're paying us money but we don't

921
00:35:19,180 --> 00:35:21,759
<font color="#CCCCCC">really want to piss everybody else off</font>

922
00:35:20,380 --> 00:35:23,200
in the world<font color="#E5E5E5"> because if we do none</font><font color="#CCCCCC"> of</font>

923
00:35:21,760 --> 00:35:25,710
them will talk to us so that kind of

924
00:35:23,200 --> 00:35:25,710
defeats the purpose

925
00:35:27,700 --> 00:35:34,029
so we have some conceptual sort of goals

926
00:35:31,740 --> 00:35:35,319
that Josh<font color="#CCCCCC"> and I were talking about and</font>

927
00:35:34,030 --> 00:35:40,320
we came up with a couple<font color="#E5E5E5"> of questions</font>

928
00:35:35,320 --> 00:35:40,320
<font color="#CCCCCC">that we thought might</font><font color="#E5E5E5"> be quite common so</font>

929
00:35:43,380 --> 00:35:47,440
the conceptual example the first one is

930
00:35:45,790 --> 00:35:48,940
basically who is who is chewing up my

931
00:35:47,440 --> 00:35:51,670
network resources so we're concentrating

932
00:35:48,940 --> 00:35:53,590
now for the purposes of<font color="#CCCCCC"> available</font>

933
00:35:51,670 --> 00:35:54,550
<font color="#E5E5E5">experimentation on</font><font color="#CCCCCC"> Afghan</font><font color="#E5E5E5"> traffic we're</font>

934
00:35:53,590 --> 00:36:00,940
looking<font color="#E5E5E5"> at where are we sending our</font>

935
00:35:54,550 --> 00:36:03,840
traffic and the reason we're looking at

936
00:36:00,940 --> 00:36:08,619
those sort of things is to try and

937
00:36:03,840 --> 00:36:09,970
control that down traffic so we're

938
00:36:08,619 --> 00:36:12,910
looking at appropriate network expansion

939
00:36:09,970 --> 00:36:14,020
who should we deal with next we might

940
00:36:12,910 --> 00:36:16,149
have particular<font color="#E5E5E5"> peers that we need to</font>

941
00:36:14,020 --> 00:36:17,530
<font color="#CCCCCC">maintain traffic ratios with so it may</font>

942
00:36:16,150 --> 00:36:19,410
<font color="#CCCCCC">be good for example not</font><font color="#E5E5E5"> to send traffic</font>

943
00:36:17,530 --> 00:36:21,730
to a particular<font color="#E5E5E5"> Pierrot click an avoider</font>

944
00:36:19,410 --> 00:36:23,020
so the interesting thing<font color="#CCCCCC"> is to try and</font>

945
00:36:21,730 --> 00:36:24,700
find out of the traffic we're sending

946
00:36:23,020 --> 00:36:27,310
those people if we're trying to reduce

947
00:36:24,700 --> 00:36:28,600
the amount traffic we're sending who are

948
00:36:27,310 --> 00:36:30,250
the main consumers of traffic beyond

949
00:36:28,600 --> 00:36:38,560
that<font color="#CCCCCC"> is may we can peel it as people</font>

950
00:36:30,250 --> 00:36:40,810
<font color="#E5E5E5">directly so another example is trying to</font>

951
00:36:38,560 --> 00:36:41,350
spot some traffic flows when people are

952
00:36:40,810 --> 00:36:45,009
doing things<font color="#CCCCCC"> that they shouldn't</font>

953
00:36:41,350 --> 00:36:47,799
necessarily be doing so this one here

954
00:36:45,010 --> 00:36:51,160
theft over IP is<font color="#CCCCCC"> your system have no</font>

955
00:36:47,800 --> 00:36:52,840
responsibility<font color="#CCCCCC"> for that one the idea is</font>

956
00:36:51,160 --> 00:36:53,920
to<font color="#E5E5E5"> say if we have a peer some of this</font>

957
00:36:52,840 --> 00:36:55,210
<font color="#CCCCCC">p.m. may have a problem do</font><font color="#E5E5E5"> you do miss</font>

958
00:36:53,920 --> 00:36:56,800
configuration or perhaps some more

959
00:36:55,210 --> 00:36:58,330
nefarious purpose they are sending

960
00:36:56,800 --> 00:37:00,670
traffic to us which corresponds to route

961
00:36:58,330 --> 00:37:01,930
that we're not sending them so they

962
00:37:00,670 --> 00:37:04,600
might<font color="#E5E5E5"> be</font><font color="#CCCCCC"> using us as a result they might</font>

963
00:37:01,930 --> 00:37:05,950
probably have a temporary<font color="#CCCCCC"> problem that</font>

964
00:37:04,600 --> 00:37:07,240
they can find they can<font color="#E5E5E5"> relief by sending</font>

965
00:37:05,950 --> 00:37:09,460
traffic at us instead because they know

966
00:37:07,240 --> 00:37:12,970
our connection to say another epi<font color="#E5E5E5"> Ras is</font>

967
00:37:09,460 --> 00:37:13,930
better than theirs and this is a thing

968
00:37:12,970 --> 00:37:15,220
if you don't measure your network you

969
00:37:13,930 --> 00:37:16,890
<font color="#E5E5E5">can never really tell us is going on</font>

970
00:37:15,220 --> 00:37:19,029
until someone opens a trouble ticket and

971
00:37:16,890 --> 00:37:19,960
if somebody may never happen in trouble

972
00:37:19,030 --> 00:37:22,090
ticket because it may<font color="#E5E5E5"> never cause</font>

973
00:37:19,960 --> 00:37:23,710
anybody any problems but<font color="#E5E5E5"> even so it's</font>

974
00:37:22,090 --> 00:37:26,910
consuming<font color="#CCCCCC"> the network resources from by</font>

975
00:37:23,710 --> 00:37:26,910
people who are not<font color="#E5E5E5"> paying you</font>

976
00:37:30,870 --> 00:37:36,990
the yahoo apparently are doing this kind

977
00:37:33,150 --> 00:37:41,370
of stuff hell if you want to talk<font color="#CCCCCC"> about</font>

978
00:37:36,990 --> 00:37:43,500
this<font color="#E5E5E5"> one segregation over again a lot</font><font color="#CCCCCC"> of</font>

979
00:37:41,370 --> 00:37:46,680
them stuff for a number of years<font color="#E5E5E5"> ago you</font>

980
00:37:43,500 --> 00:37:50,040
can just appearing<font color="#E5E5E5"> about expanding</font>

981
00:37:46,680 --> 00:37:52,410
politically sorry expanding your network

982
00:37:50,040 --> 00:37:54,480
<font color="#E5E5E5">ruefully you know doing performance</font>

983
00:37:52,410 --> 00:37:56,700
analysis and even<font color="#E5E5E5"> doing some some manner</font>

984
00:37:54,480 --> 00:37:58,410
of you know instead<font color="#CCCCCC"> of letting bgp</font>

985
00:37:56,700 --> 00:37:59,549
select routes for me<font color="#CCCCCC"> i'm going</font><font color="#E5E5E5"> to do</font>

986
00:37:58,410 --> 00:38:00,839
active measurement and<font color="#CCCCCC"> i'm going</font><font color="#E5E5E5"> to</font>

987
00:37:59,550 --> 00:38:02,340
force without different tours in my

988
00:38:00,840 --> 00:38:04,410
network and<font color="#E5E5E5"> i'm going to determine</font><font color="#CCCCCC"> for</font>

989
00:38:02,340 --> 00:38:07,260
myself who's the best and when i say for

990
00:38:04,410 --> 00:38:08,460
myself I mean him for<font color="#CCCCCC"> himself what</font><font color="#E5E5E5"> the</font>

991
00:38:07,260 --> 00:38:10,020
best route is based on the performance

992
00:38:08,460 --> 00:38:13,560
characteristics<font color="#CCCCCC"> and</font><font color="#E5E5E5"> I'm going to select</font>

993
00:38:10,020 --> 00:38:15,330
routes based on that so they do all sort

994
00:38:13,560 --> 00:38:18,509
of you know custom macros for is

995
00:38:15,330 --> 00:38:20,850
analysis source and destination<font color="#CCCCCC"> as</font><font color="#E5E5E5"> fans</font>

996
00:38:18,510 --> 00:38:21,660
with details where's<font color="#E5E5E5"> my traffic going I</font>

997
00:38:20,850 --> 00:38:23,310
mean<font color="#E5E5E5"> all the stuff that we've been</font>

998
00:38:21,660 --> 00:38:25,350
<font color="#E5E5E5">talking</font><font color="#CCCCCC"> about the post at Yahoo have</font>

999
00:38:23,310 --> 00:38:28,110
been doing for a while<font color="#CCCCCC"> now they do some</font>

1000
00:38:25,350 --> 00:38:30,060
stuff with chargeback billing I don't

1001
00:38:28,110 --> 00:38:33,030
know a whole lot about that I'd have<font color="#E5E5E5"> to</font>

1002
00:38:30,060 --> 00:38:35,279
ask jeffrey about that but a dog attack

1003
00:38:33,030 --> 00:38:38,040
detection performance analysis on their

1004
00:38:35,280 --> 00:38:39,270
backbone mapping traffic statistics I'm

1005
00:38:38,040 --> 00:38:40,890
so they're not working across their

1006
00:38:39,270 --> 00:38:44,360
network as well as outbound off their

1007
00:38:40,890 --> 00:38:46,680
network yeah who pushes a lot of data so

1008
00:38:44,360 --> 00:38:48,450
traffic to the biggest aggregation

1009
00:38:46,680 --> 00:38:51,089
points off of their network is a really

1010
00:38:48,450 --> 00:38:52,890
really<font color="#E5E5E5"> good thing for them then on the</font>

1011
00:38:51,090 --> 00:38:56,760
next slide there's there's a map that

1012
00:38:52,890 --> 00:38:58,140
shows a traffic that's going<font color="#E5E5E5"> sinking to</font>

1013
00:38:56,760 --> 00:38:59,850
one of their neighbor I asses and

1014
00:38:58,140 --> 00:39:02,069
traffic that's transiting through their

1015
00:38:59,850 --> 00:39:04,799
neighbor<font color="#CCCCCC"> a/s and they actually view this</font>

1016
00:39:02,070 --> 00:39:08,220
in quasi real time so they can really

1017
00:39:04,800 --> 00:39:10,590
<font color="#E5E5E5">see what a they can really see what's</font>

1018
00:39:08,220 --> 00:39:13,339
going<font color="#E5E5E5"> on and who they're really shipping</font>

1019
00:39:10,590 --> 00:39:13,340
a lot of data through

1020
00:39:24,240 --> 00:39:30,520
<font color="#E5E5E5">okay so the last few things we now talk</font>

1021
00:39:26,590 --> 00:39:32,080
about<font color="#E5E5E5"> his</font><font color="#CCCCCC"> experience we had just</font>

1022
00:39:30,520 --> 00:39:33,759
<font color="#E5E5E5">recently over the past couple weeks Josh</font>

1023
00:39:32,080 --> 00:39:36,370
and<font color="#CCCCCC"> I threw some configurations and</font>

1024
00:39:33,760 --> 00:39:37,780
routers in the<font color="#CCCCCC"> mfn network and tried to</font>

1025
00:39:36,370 --> 00:39:38,799
have a look<font color="#E5E5E5"> at some</font><font color="#CCCCCC"> answer some problems</font>

1026
00:39:37,780 --> 00:39:41,050
that we thought<font color="#CCCCCC"> might be useful to</font>

1027
00:39:38,800 --> 00:39:42,820
answer so you'll find<font color="#E5E5E5"> it examples are</font>

1028
00:39:41,050 --> 00:39:45,760
not romantically heavy on details not

1029
00:39:42,820 --> 00:39:46,990
too many specifics on them because uh we

1030
00:39:45,760 --> 00:39:47,860
have contracts with our peers<font color="#E5E5E5"> that say</font>

1031
00:39:46,990 --> 00:39:50,290
<font color="#E5E5E5">that we're allowed to look at traffic</font>

1032
00:39:47,860 --> 00:39:52,570
data for the purposes of traffic

1033
00:39:50,290 --> 00:39:54,550
engineering as I<font color="#CCCCCC"> think</font><font color="#E5E5E5"> most people do</font>

1034
00:39:52,570 --> 00:39:56,200
but<font color="#E5E5E5"> they don't tend to cover sort of</font>

1035
00:39:54,550 --> 00:39:58,090
basically publishing<font color="#E5E5E5"> that data and</font>

1036
00:39:56,200 --> 00:40:00,490
<font color="#E5E5E5">telling other people</font><font color="#CCCCCC"> at a conference so</font>

1037
00:39:58,090 --> 00:40:02,230
this<font color="#E5E5E5"> is kind of sort of a little bit</font>

1038
00:40:00,490 --> 00:40:05,799
abstract but a the principal<font color="#E5E5E5"> thing</font>

1039
00:40:02,230 --> 00:40:07,720
should be<font color="#E5E5E5"> quite clear so here's a</font><font color="#CCCCCC"> here</font>

1040
00:40:05,800 --> 00:40:09,220
<font color="#CCCCCC">the</font><font color="#E5E5E5"> net worth example that we try to try</font>

1041
00:40:07,720 --> 00:40:11,220
to answer a question so we<font color="#CCCCCC"> appeal with</font>

1042
00:40:09,220 --> 00:40:14,169
this particular<font color="#E5E5E5"> large regional ISP in</font>

1043
00:40:11,220 --> 00:40:16,509
several places and we're congested

1044
00:40:14,170 --> 00:40:20,290
towards them so we're<font color="#E5E5E5"> not congested all</font>

1045
00:40:16,510 --> 00:40:21,820
day or anything honest but a towards

1046
00:40:20,290 --> 00:40:22,840
some of these people over<font color="#E5E5E5"> some of these</font>

1047
00:40:21,820 --> 00:40:25,300
touring leagues at certain times of the

1048
00:40:22,840 --> 00:40:27,820
day we get kind<font color="#E5E5E5"> of busy so what we're</font>

1049
00:40:25,300 --> 00:40:29,500
going to try and<font color="#E5E5E5"> do is offload that so</font>

1050
00:40:27,820 --> 00:40:30,820
who at the top people behind this large

1051
00:40:29,500 --> 00:40:32,800
regional provider that we're talking to

1052
00:40:30,820 --> 00:40:36,130
that we breach via them so maybe<font color="#E5E5E5"> we can</font>

1053
00:40:32,800 --> 00:40:38,080
<font color="#E5E5E5">peel with them directly and</font><font color="#CCCCCC"> not just the</font>

1054
00:40:36,130 --> 00:40:39,820
endpoints not just the final end points

1055
00:40:38,080 --> 00:40:41,560
of the the SS that are actually sinks in

1056
00:40:39,820 --> 00:40:42,970
the traffic but for example what

1057
00:40:41,560 --> 00:40:45,370
accusation points<font color="#CCCCCC"> exists between them</font>

1058
00:40:42,970 --> 00:40:46,480
what tier two providers or regional

1059
00:40:45,370 --> 00:40:49,990
providers<font color="#E5E5E5"> or whatever</font><font color="#CCCCCC"> going</font><font color="#E5E5E5"> to call them</font>

1060
00:40:46,480 --> 00:40:52,390
behind this large<font color="#CCCCCC"> ISP can we maybe talk</font>

1061
00:40:49,990 --> 00:40:56,439
to directly in order to offload the

1062
00:40:52,390 --> 00:40:59,020
congested peering circuits so we had a

1063
00:40:56,440 --> 00:41:00,670
little<font color="#E5E5E5"> look at the</font><font color="#CCCCCC"> network and although</font>

1064
00:40:59,020 --> 00:41:02,830
a lot of the network is to the pure core

1065
00:41:00,670 --> 00:41:05,470
edge along the lines that just described

1066
00:41:02,830 --> 00:41:07,060
in this diagram there are other areas

1067
00:41:05,470 --> 00:41:09,209
<font color="#CCCCCC">where it isn't there are other areas</font>

1068
00:41:07,060 --> 00:41:11,920
<font color="#CCCCCC">where it looks more like the ANS diagram</font>

1069
00:41:09,210 --> 00:41:13,300
for one reason rather<font color="#E5E5E5"> expedience and</font>

1070
00:41:11,920 --> 00:41:15,070
availability of hardware circus get

1071
00:41:13,300 --> 00:41:16,240
added liver need to get added and people

1072
00:41:15,070 --> 00:41:17,800
<font color="#E5E5E5">are not always thinking directly of</font>

1073
00:41:16,240 --> 00:41:19,120
measurement when they do it so it's

1074
00:41:17,800 --> 00:41:20,230
maybe not as convenient as we as we

1075
00:41:19,120 --> 00:41:23,170
would like<font color="#CCCCCC"> to</font><font color="#E5E5E5"> but we can publish still</font>

1076
00:41:20,230 --> 00:41:26,440
do something so in this example all

1077
00:41:23,170 --> 00:41:28,190
appearing ladders of GSR 12,000 all the

1078
00:41:26,440 --> 00:41:29,900
peering<font color="#E5E5E5"> circuits goes to 12</font>

1079
00:41:28,190 --> 00:41:31,220
and most in the areas where we do have a

1080
00:41:29,900 --> 00:41:34,369
hierarchical model most of the links

1081
00:41:31,220 --> 00:41:35,540
back to the<font color="#E5E5E5"> core</font><font color="#CCCCCC"> at</font><font color="#E5E5E5"> OC 48 so it's a GSR</font>

1082
00:41:34,369 --> 00:41:39,050
we know we're doing<font color="#E5E5E5"> sampling that flow</font>

1083
00:41:35,540 --> 00:41:41,089
and net flow anyway there are 48<font color="#CCCCCC"> surfers</font>

1084
00:41:39,050 --> 00:41:42,500
<font color="#CCCCCC">involved some of which are</font><font color="#E5E5E5"> quite busy so</font>

1085
00:41:41,089 --> 00:41:43,578
maybe the sampling ratio is not<font color="#E5E5E5"> going to</font>

1086
00:41:42,500 --> 00:41:44,810
be<font color="#E5E5E5"> particularly close to</font><font color="#CCCCCC"> one to</font><font color="#E5E5E5"> one</font>

1087
00:41:43,579 --> 00:41:49,940
<font color="#E5E5E5">because they don't flood the network</font>

1088
00:41:44,810 --> 00:41:51,680
with measurement data so the sampling

1089
00:41:49,940 --> 00:41:53,300
thing is probably<font color="#E5E5E5"> okay because we're</font>

1090
00:41:51,680 --> 00:41:55,430
looking at wells of<font color="#E5E5E5"> traffic volumes we</font>

1091
00:41:53,300 --> 00:41:56,900
want to see for the for the two and

1092
00:41:55,430 --> 00:41:58,910
through categories behind this large

1093
00:41:56,900 --> 00:42:01,700
regional<font color="#E5E5E5"> isp we want to be able to say</font>

1094
00:41:58,910 --> 00:42:05,180
let's order these things by by traffic

1095
00:42:01,700 --> 00:42:07,640
to and traffic<font color="#E5E5E5"> to and sort them and look</font>

1096
00:42:05,180 --> 00:42:08,779
<font color="#E5E5E5">at the people at</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> top of the list so</font>

1097
00:42:07,640 --> 00:42:11,118
a couple little things we found<font color="#E5E5E5"> out</font>

1098
00:42:08,780 --> 00:42:12,800
turning on IP route cash flow sampled on

1099
00:42:11,119 --> 00:42:15,050
an interface that didn't previously have

1100
00:42:12,800 --> 00:42:16,940
it can cause of course eval just sort of

1101
00:42:15,050 --> 00:42:18,260
on pause for a second and contemplative

1102
00:42:16,940 --> 00:42:20,510
existence and wonder what<font color="#E5E5E5"> it's doing</font>

1103
00:42:18,260 --> 00:42:22,609
here and while it's doing that traffic

1104
00:42:20,510 --> 00:42:26,150
kinda goes everywhere so as we as we

1105
00:42:22,609 --> 00:42:28,160
found out doing that turning that kind

1106
00:42:26,150 --> 00:42:30,260
of thing on is good to do<font color="#CCCCCC"> in advance or</font>

1107
00:42:28,160 --> 00:42:33,799
puts doing a maintenance window it's not

1108
00:42:30,260 --> 00:42:35,599
particularly<font color="#E5E5E5"> good to do a pig time in</font>

1109
00:42:33,800 --> 00:42:36,980
down acls transformation does this

1110
00:42:35,599 --> 00:42:39,290
contention for the feature set on

1111
00:42:36,980 --> 00:42:40,910
inbound for the sort<font color="#E5E5E5"> of inbound traffic</font>

1112
00:42:39,290 --> 00:42:43,250
management stuff on it on a line card so

1113
00:42:40,910 --> 00:42:46,790
we<font color="#E5E5E5"> can't have a CLS running and expect</font>

1114
00:42:43,250 --> 00:42:48,140
to get NetFlow data as well so a lot of

1115
00:42:46,790 --> 00:42:50,599
interfaces for one reason another will

1116
00:42:48,140 --> 00:42:52,609
have some sort of last<font color="#CCCCCC"> time sort</font><font color="#E5E5E5"> of ACL</font>

1117
00:42:50,599 --> 00:42:54,680
on them may be peering legs aren't

1118
00:42:52,609 --> 00:42:56,328
necessarily<font color="#E5E5E5"> the one could do that but in</font>

1119
00:42:54,680 --> 00:42:58,098
the passive parts of the network where

1120
00:42:56,329 --> 00:42:59,540
we have multiple kinds of external links

1121
00:42:58,099 --> 00:43:01,790
on a single router so it's not purely

1122
00:42:59,540 --> 00:43:04,040
purely peering we might have<font color="#E5E5E5"> acl's out</font>

1123
00:43:01,790 --> 00:43:06,410
towards a customer for example if we

1124
00:43:04,040 --> 00:43:08,630
<font color="#CCCCCC">have an outbound ACL and outbound ec ACL</font>

1125
00:43:06,410 --> 00:43:11,270
on the GSR is actually implemented as an

1126
00:43:08,630 --> 00:43:12,710
inbound ACL and all other interfaces so

1127
00:43:11,270 --> 00:43:15,920
that effectively wipes out<font color="#CCCCCC"> netflow</font>

1128
00:43:12,710 --> 00:43:17,569
putting it from the entire rabbit so we

1129
00:43:15,920 --> 00:43:18,800
have to turn<font color="#CCCCCC"> off all the ACLS and we</font>

1130
00:43:17,569 --> 00:43:20,480
have to<font color="#E5E5E5"> talk to their people who put the</font>

1131
00:43:18,800 --> 00:43:22,250
a tails on to find out whether it's

1132
00:43:20,480 --> 00:43:23,810
appropriate to take them<font color="#E5E5E5"> off so these</font>

1133
00:43:22,250 --> 00:43:25,970
kind of things can<font color="#E5E5E5"> take some</font><font color="#CCCCCC"> time and</font>

1134
00:43:23,810 --> 00:43:27,470
again this is a little<font color="#E5E5E5"> hurdle that can</font>

1135
00:43:25,970 --> 00:43:30,220
stop you just measuring in five minutes

1136
00:43:27,470 --> 00:43:30,220
<font color="#E5E5E5">after you thought of a question</font>

1137
00:43:30,500 --> 00:43:35,310
so we can figure that configure the

1138
00:43:32,610 --> 00:43:37,920
export hosts the rather start sending

1139
00:43:35,310 --> 00:43:39,180
the data and<font color="#E5E5E5"> then if I the data arrives</font>

1140
00:43:37,920 --> 00:43:41,780
and we and we sit back and watch<font color="#E5E5E5"> the</font>

1141
00:43:39,180 --> 00:43:41,779
distant / free

1142
00:43:44,010 --> 00:43:47,590
so as<font color="#E5E5E5"> I mentioned what we're actually</font>

1143
00:43:46,150 --> 00:43:49,330
trying<font color="#E5E5E5"> to gather this data is a relative</font>

1144
00:43:47,590 --> 00:43:52,030
bite counts through and two networks

1145
00:43:49,330 --> 00:43:53,890
reached through the pier in question so

1146
00:43:52,030 --> 00:43:55,390
if there's an AS one<font color="#CCCCCC"> topper way we want</font>

1147
00:43:53,890 --> 00:43:57,279
<font color="#E5E5E5">to know traffic</font><font color="#CCCCCC"> terminates in that is</font>

1148
00:43:55,390 --> 00:43:59,680
and traffic that goes through that<font color="#CCCCCC"> a s</font>

1149
00:43:57,280 --> 00:44:00,640
doesn't<font color="#CCCCCC"> actually terminate there because</font>

1150
00:43:59,680 --> 00:44:01,960
together that kind of gives an

1151
00:44:00,640 --> 00:44:04,960
indication of<font color="#E5E5E5"> how valuable what Pierre</font>

1152
00:44:01,960 --> 00:44:08,590
is in terms of appearing or camping

1153
00:44:04,960 --> 00:44:14,350
directly and again absolute numbers

1154
00:44:08,590 --> 00:44:15,790
don't matter so<font color="#CCCCCC"> this is</font><font color="#E5E5E5"> the this</font><font color="#CCCCCC"> is some</font>

1155
00:44:14,350 --> 00:44:17,770
sample output from the tool that we used

1156
00:44:15,790 --> 00:44:19,779
it's not actually from this example it

1157
00:44:17,770 --> 00:44:21,580
from a different example but<font color="#E5E5E5"> this is</font>

1158
00:44:19,780 --> 00:44:22,960
this is a tool that axiom a course

1159
00:44:21,580 --> 00:44:24,279
called see flow but you could use all

1160
00:44:22,960 --> 00:44:27,850
<font color="#E5E5E5">kinds of other tools to try and do it in</font>

1161
00:44:24,280 --> 00:44:31,150
<font color="#E5E5E5">the past I've done this by Alex traffic</font>

1162
00:44:27,850 --> 00:44:34,000
sorry in the past I've done some other

1163
00:44:31,150 --> 00:44:36,250
sorts of things by taking rather crude

1164
00:44:34,000 --> 00:44:38,830
snapshots of the rib even<font color="#E5E5E5"> just by script</font>

1165
00:44:36,250 --> 00:44:40,110
expecting in a show IP bgp and trying to

1166
00:44:38,830 --> 00:44:42,069
find<font color="#E5E5E5"> out now what's behind appear</font>

1167
00:44:40,110 --> 00:44:43,900
storing a statement saying well<font color="#CCCCCC"> i have a</font>

1168
00:44:42,070 --> 00:44:46,300
proximate table now of<font color="#E5E5E5"> routes that i</font>

1169
00:44:43,900 --> 00:44:47,770
learned through that pier so although it

1170
00:44:46,300 --> 00:44:49,480
might not be sort of accurate up to the

1171
00:44:47,770 --> 00:44:51,040
minute it may be good enough to<font color="#E5E5E5"> make a</font>

1172
00:44:49,480 --> 00:44:52,270
generalization so we have some sort of

1173
00:44:51,040 --> 00:44:55,300
idea of routes that are learned<font color="#E5E5E5"> to</font>

1174
00:44:52,270 --> 00:44:57,990
appear then then what<font color="#E5E5E5"> we do is try and</font>

1175
00:44:55,300 --> 00:45:00,790
<font color="#E5E5E5">match as Josh mentioned the destination</font>

1176
00:44:57,990 --> 00:45:02,379
networks from the flow day that we

1177
00:45:00,790 --> 00:45:03,940
received match them up and try<font color="#E5E5E5"> and work</font>

1178
00:45:02,380 --> 00:45:05,770
out what a s pads correspond to

1179
00:45:03,940 --> 00:45:07,000
different<font color="#CCCCCC"> rounds of traffic and if</font>

1180
00:45:05,770 --> 00:45:08,500
you're familiar with<font color="#E5E5E5"> C flow then what we</font>

1181
00:45:07,000 --> 00:45:11,170
basically doing is building a CFO type

1182
00:45:08,500 --> 00:45:12,160
matrix but it's when<font color="#E5E5E5"> a s classes is is</font>

1183
00:45:11,170 --> 00:45:15,190
what we're trying to<font color="#E5E5E5"> measure the traffic</font>

1184
00:45:12,160 --> 00:45:18,069
for so we're<font color="#CCCCCC"> taking a instead</font><font color="#E5E5E5"> of just at</font>

1185
00:45:15,190 --> 00:45:19,870
origin a s or or a next top I GP next<font color="#CCCCCC"> up</font>

1186
00:45:18,070 --> 00:45:21,370
or some other useful things we're<font color="#E5E5E5"> taking</font>

1187
00:45:19,870 --> 00:45:23,470
a s path which is a useful thing and

1188
00:45:21,370 --> 00:45:26,680
saying forever EAS path we see how much

1189
00:45:23,470 --> 00:45:28,270
traffic to resend that way so the<font color="#CCCCCC"> reason</font>

1190
00:45:26,680 --> 00:45:30,580
for this slide here is it actually

1191
00:45:28,270 --> 00:45:32,290
<font color="#E5E5E5">demonstrated quite nicely so you can see</font>

1192
00:45:30,580 --> 00:45:34,540
for a particular a.s.a.p indicates that

1193
00:45:32,290 --> 00:45:36,250
we already<font color="#CCCCCC"> have a</font><font color="#E5E5E5"> session with them and</font>

1194
00:45:34,540 --> 00:45:39,420
<font color="#CCCCCC">you can see we have packets per second</font>

1195
00:45:36,250 --> 00:45:41,350
through we have<font color="#E5E5E5"> bits per second through</font>

1196
00:45:39,420 --> 00:45:44,010
and we have a<font color="#E5E5E5"> sort of list which is</font>

1197
00:45:41,350 --> 00:45:44,009
<font color="#E5E5E5">useful to look at</font>

1198
00:45:46,619 --> 00:45:50,440
so we have another example now we have

1199
00:45:49,210 --> 00:45:52,779
somebody<font color="#E5E5E5"> who comes towards us and says</font>

1200
00:45:50,440 --> 00:45:54,009
they want to<font color="#E5E5E5"> peer and that's good</font>

1201
00:45:52,779 --> 00:45:54,970
because we're good appearing and we like

1202
00:45:54,009 --> 00:45:57,069
doing peering with all kinds of people

1203
00:45:54,970 --> 00:45:58,480
but this<font color="#CCCCCC"> particular person says we don't</font>

1204
00:45:57,069 --> 00:46:00,369
really<font color="#E5E5E5"> want to peer across an exchange</font>

1205
00:45:58,480 --> 00:46:03,220
<font color="#CCCCCC">that you're on yet because we we already</font>

1206
00:46:00,369 --> 00:46:05,410
consumed a lot of your traffic<font color="#E5E5E5"> exactly</font>

1207
00:46:03,220 --> 00:46:07,660
<font color="#E5E5E5">we say we consume 140 men zo traffic</font><font color="#CCCCCC"> at</font>

1208
00:46:05,410 --> 00:46:08,649
peak so like a fast ethernet connection

1209
00:46:07,660 --> 00:46:11,859
<font color="#E5E5E5">ever appearing exchange somewheres</font>

1210
00:46:08,650 --> 00:46:13,119
probably waste of time so we want<font color="#E5E5E5"> to</font><font color="#CCCCCC"> p @</font>

1211
00:46:11,859 --> 00:46:14,980
<font color="#CCCCCC">p and i want</font><font color="#E5E5E5"> to do a private peer in</font>

1212
00:46:13,119 --> 00:46:17,140
connection<font color="#CCCCCC"> straightaway so we want they</font>

1213
00:46:14,980 --> 00:46:19,749
<font color="#E5E5E5">want us</font><font color="#CCCCCC"> to allocate a port and do a</font>

1214
00:46:17,140 --> 00:46:20,950
direct interconnects with them now it

1215
00:46:19,749 --> 00:46:22,359
may<font color="#E5E5E5"> be that we haven't</font><font color="#CCCCCC"> really heard of</font><font color="#E5E5E5"> a</font>

1216
00:46:20,950 --> 00:46:24,990
sr particularly much maybe they're kind

1217
00:46:22,359 --> 00:46:26,980
of new maybe we don't<font color="#E5E5E5"> have any sort of</font>

1218
00:46:24,990 --> 00:46:28,029
conceptual way of trying to work out

1219
00:46:26,980 --> 00:46:30,910
whether that's a reasonable thing for

1220
00:46:28,029 --> 00:46:32,589
them<font color="#E5E5E5"> to say maybe they just mistaken so</font>

1221
00:46:30,910 --> 00:46:33,879
in any case it would be nice to confirm

1222
00:46:32,589 --> 00:46:34,960
the numbers and find out that we do

1223
00:46:33,880 --> 00:46:36,700
<font color="#E5E5E5">really want to peel them directly</font>

1224
00:46:34,960 --> 00:46:42,190
straight away and not waste our time<font color="#E5E5E5"> of</font>

1225
00:46:36,700 --> 00:46:43,960
the public connection so the answer

1226
00:46:42,190 --> 00:46:45,490
we're trying to add the question we're

1227
00:46:43,960 --> 00:46:48,849
trying to answer is how<font color="#E5E5E5"> much traffic are</font>

1228
00:46:45,490 --> 00:46:50,078
we send<font color="#E5E5E5"> into this this this ASR and we</font>

1229
00:46:48,849 --> 00:46:53,980
currently reach<font color="#CCCCCC"> there through</font><font color="#E5E5E5"> some other</font>

1230
00:46:50,079 --> 00:46:56,200
is a st and we appear with a<font color="#E5E5E5"> ft in a</font>

1231
00:46:53,980 --> 00:46:57,549
number of places we have more

1232
00:46:56,200 --> 00:46:59,859
complexities because some of the old

1233
00:46:57,549 --> 00:47:03,339
appearing exchanges still hasn't all the

1234
00:46:59,859 --> 00:47:04,779
routers on and we have an overlap

1235
00:47:03,339 --> 00:47:07,269
between this problem<font color="#E5E5E5"> and the other</font>

1236
00:47:04,779 --> 00:47:08,650
problem so<font color="#E5E5E5"> again up there getting flow</font>

1237
00:47:07,269 --> 00:47:12,939
data from one router that corresponds to

1238
00:47:08,650 --> 00:47:15,069
both again we have<font color="#CCCCCC"> to</font><font color="#E5E5E5"> apology there's</font>

1239
00:47:12,940 --> 00:47:17,739
not edge core throughout the whole whole

1240
00:47:15,069 --> 00:47:20,230
network they want<font color="#E5E5E5"> to get actual numbers</font>

1241
00:47:17,739 --> 00:47:21,670
out<font color="#CCCCCC"> of this because</font><font color="#E5E5E5"> we actually ought to</font>

1242
00:47:20,230 --> 00:47:25,059
find that is how much traffic was ending

1243
00:47:21,670 --> 00:47:26,230
and for various<font color="#E5E5E5"> sort of recent localized</font>

1244
00:47:25,059 --> 00:47:27,519
reasons we keep<font color="#E5E5E5"> that keep having to</font>

1245
00:47:26,230 --> 00:47:29,589
apply<font color="#CCCCCC"> a CLS to various interfaces</font>

1246
00:47:27,519 --> 00:47:31,089
because we get large amounts of sort<font color="#E5E5E5"> of</font>

1247
00:47:29,589 --> 00:47:33,220
unwelcome traffic directly their routers

1248
00:47:31,089 --> 00:47:35,140
from various<font color="#E5E5E5"> places which we have to</font>

1249
00:47:33,220 --> 00:47:37,629
kind<font color="#CCCCCC"> of takes priority against measuring</font>

1250
00:47:35,140 --> 00:47:39,609
get some future peering things so we can

1251
00:47:37,630 --> 00:47:40,630
have holes now data and the chances are

1252
00:47:39,609 --> 00:47:42,069
we going to have holes in<font color="#E5E5E5"> our database</font>

1253
00:47:40,630 --> 00:47:43,269
don't correspond across the board

1254
00:47:42,069 --> 00:47:45,130
because<font color="#CCCCCC"> atl's a file and applied</font>

1255
00:47:43,269 --> 00:47:46,479
everywhere simultaneously so we might

1256
00:47:45,130 --> 00:47:49,269
have one<font color="#CCCCCC"> speaker but suddenly stopped</font>

1257
00:47:46,480 --> 00:47:51,039
sending<font color="#E5E5E5"> us NetFlow data for a while and</font>

1258
00:47:49,269 --> 00:47:52,629
then another one that does it later and

1259
00:47:51,039 --> 00:47:55,019
<font color="#E5E5E5">we end up</font><font color="#CCCCCC"> it's overlapping overlapping</font>

1260
00:47:52,630 --> 00:47:55,019
picture

1261
00:47:57,420 --> 00:48:02,010
so Josh mentioned us here we have there

1262
00:47:59,910 --> 00:48:04,740
are<font color="#E5E5E5"> various tools that</font><font color="#CCCCCC"> mr TG will</font>

1263
00:48:02,010 --> 00:48:05,790
measure the traffic from the interface

1264
00:48:04,740 --> 00:48:08,220
counters or measure how much traffic

1265
00:48:05,790 --> 00:48:10,230
there sending across an interface so to

1266
00:48:08,220 --> 00:48:11,549
try<font color="#E5E5E5"> and convert the relative numbers</font>

1267
00:48:10,230 --> 00:48:14,250
that we have the<font color="#E5E5E5"> sampled numbers that we</font>

1268
00:48:11,549 --> 00:48:17,220
have to absolute numbers of bits per

1269
00:48:14,250 --> 00:48:18,569
second we can take a bunch of<font color="#E5E5E5"> data which</font>

1270
00:48:17,220 --> 00:48:21,328
represents the throughput on an

1271
00:48:18,569 --> 00:48:24,779
interface obtained through SNMP counters

1272
00:48:21,329 --> 00:48:26,130
or from candles or table ASAP and we can

1273
00:48:24,780 --> 00:48:29,240
divide that up in proportion to what

1274
00:48:26,130 --> 00:48:29,240
traffic we think we're interested in

1275
00:48:32,200 --> 00:48:38,558
so let's play some more to say about

1276
00:48:36,349 --> 00:48:38,559
this

1277
00:48:44,270 --> 00:48:49,370
so the problem<font color="#CCCCCC"> 7,500 be kind of</font><font color="#E5E5E5"> sides</font>

1278
00:48:47,840 --> 00:48:50,900
that it has it turned out that was a

1279
00:48:49,370 --> 00:48:53,299
public during arrangement but the rats

1280
00:48:50,900 --> 00:48:54,440
were so sort of so depressed<font color="#E5E5E5"> they</font>

1281
00:48:53,300 --> 00:48:56,660
weren't sending in traffic there anyway

1282
00:48:54,440 --> 00:48:58,040
<font color="#CCCCCC">so if you actually reduced the set of a</font>

1283
00:48:56,660 --> 00:48:59,990
STP rings which we have to bother about

1284
00:48:58,040 --> 00:49:01,250
by looking<font color="#CCCCCC"> at the realities of how the</font>

1285
00:48:59,990 --> 00:49:03,680
rats were being depressed through

1286
00:49:01,250 --> 00:49:06,920
existing policy so we could go through

1287
00:49:03,680 --> 00:49:08,629
and say of those original six appearing

1288
00:49:06,920 --> 00:49:10,100
places in fact<font color="#E5E5E5"> there's only four we have</font>

1289
00:49:08,630 --> 00:49:11,720
to worry about because the<font color="#E5E5E5"> other one is</font>

1290
00:49:10,100 --> 00:49:14,870
just basically aren't used their routes

1291
00:49:11,720 --> 00:49:17,600
that have never normally selected we did

1292
00:49:14,870 --> 00:49:18,740
the trick with the MIT gee thanks why

1293
00:49:17,600 --> 00:49:20,390
should we<font color="#E5E5E5"> have a tool called duct which</font>

1294
00:49:18,740 --> 00:49:22,310
does the same thing so we could divide

1295
00:49:20,390 --> 00:49:24,200
up<font color="#E5E5E5"> and get absolute numbers for the</font>

1296
00:49:22,310 --> 00:49:26,810
throughput to<font color="#E5E5E5"> AST the correspondent to</font>

1297
00:49:24,200 --> 00:49:30,859
traffic that was going through or to ASR

1298
00:49:26,810 --> 00:49:32,060
and the problem with the<font color="#E5E5E5"> the overlapping</font>

1299
00:49:30,860 --> 00:49:35,480
problem statement turned up the another

1300
00:49:32,060 --> 00:49:37,009
problem at all it's very trivial

1301
00:49:35,480 --> 00:49:38,480
basically because none of the<font color="#CCCCCC"> traffic</font>

1302
00:49:37,010 --> 00:49:40,910
that<font color="#E5E5E5"> we were counting with the other</font>

1303
00:49:38,480 --> 00:49:43,760
provider obviously was have next top of

1304
00:49:40,910 --> 00:49:46,009
<font color="#E5E5E5">AST because it's all going spaces in the</font>

1305
00:49:43,760 --> 00:49:47,360
other provider which is not a st so the

1306
00:49:46,010 --> 00:49:49,130
fact that we had<font color="#E5E5E5"> data from the same</font>

1307
00:49:47,360 --> 00:49:50,450
<font color="#E5E5E5">router answering both problems but just</font>

1308
00:49:49,130 --> 00:49:51,680
not an issue because<font color="#CCCCCC"> we could sort the</font>

1309
00:49:50,450 --> 00:49:53,779
data very easily and say problems

1310
00:49:51,680 --> 00:49:55,790
traffic data which corresponds to<font color="#CCCCCC"> this</font>

1311
00:49:53,780 --> 00:49:57,680
question which will use<font color="#CCCCCC"> to make an</font>

1312
00:49:55,790 --> 00:49:59,060
answer all has a st at the first<font color="#E5E5E5"> next</font>

1313
00:49:57,680 --> 00:50:00,529
<font color="#E5E5E5">hop which is a very</font><font color="#CCCCCC"> simple way of</font>

1314
00:49:59,060 --> 00:50:03,370
<font color="#CCCCCC">spending all traffic out the</font><font color="#E5E5E5"> only</font>

1315
00:50:00,530 --> 00:50:03,370
corresponds to this problem

1316
00:50:04,750 --> 00:50:09,110
the problem with the the ACL that kept

1317
00:50:07,910 --> 00:50:11,660
appearing and disappearing<font color="#E5E5E5"> in various</font>

1318
00:50:09,110 --> 00:50:13,250
parts<font color="#E5E5E5"> of the network was a little bit</font>

1319
00:50:11,660 --> 00:50:15,440
more annoying to try and to try and spot

1320
00:50:13,250 --> 00:50:17,240
we could spot holes and find out where

1321
00:50:15,440 --> 00:50:18,860
we didn't get flowed over with a next

1322
00:50:17,240 --> 00:50:20,899
type of<font color="#E5E5E5"> AST from a router in a period of</font>

1323
00:50:18,860 --> 00:50:24,020
time which<font color="#CCCCCC"> is a</font><font color="#E5E5E5"> fairly good indication</font>

1324
00:50:20,900 --> 00:50:25,010
that<font color="#E5E5E5"> nacl was put on but it also could</font>

1325
00:50:24,020 --> 00:50:26,450
be something to do with the<font color="#CCCCCC"> fact that</font>

1326
00:50:25,010 --> 00:50:28,790
was some other ratting policy<font color="#E5E5E5"> going on</font>

1327
00:50:26,450 --> 00:50:29,899
maybe somebody changed the the routing

1328
00:50:28,790 --> 00:50:31,460
policy due to connect congested

1329
00:50:29,900 --> 00:50:33,020
interface and deeper after connection

1330
00:50:31,460 --> 00:50:38,180
which means suddenly<font color="#CCCCCC"> stopped sending</font>

1331
00:50:33,020 --> 00:50:39,890
<font color="#E5E5E5">traffic that way so the only real way</font><font color="#CCCCCC"> of</font>

1332
00:50:38,180 --> 00:50:41,960
tracking this down this was kind of a

1333
00:50:39,890 --> 00:50:43,190
crude way of doing it is we have we have

1334
00:50:41,960 --> 00:50:44,660
a talk called rented that probably many

1335
00:50:43,190 --> 00:50:45,890
people are familiar with which keeps

1336
00:50:44,660 --> 00:50:48,980
track of their configurations and I

1337
00:50:45,890 --> 00:50:51,109
<font color="#CCCCCC">rattus stores in a CVS so we have a</font>

1338
00:50:48,980 --> 00:50:52,400
configuration history of<font color="#E5E5E5"> sampled</font>

1339
00:50:51,110 --> 00:50:54,710
configurations which have<font color="#E5E5E5"> hold every</font>

1340
00:50:52,400 --> 00:50:56,420
half hour so with half hour of

1341
00:50:54,710 --> 00:50:58,610
<font color="#E5E5E5">granularity we can spot where a CL has</font>

1342
00:50:56,420 --> 00:51:00,800
been applied to<font color="#CCCCCC"> an interface and</font>

1343
00:50:58,610 --> 00:51:02,630
therefore discount the basically<font color="#CCCCCC"> the</font>

1344
00:51:00,800 --> 00:51:04,670
entire pool of data for<font color="#CCCCCC"> AST for the</font>

1345
00:51:02,630 --> 00:51:06,740
battery in this<font color="#E5E5E5"> problem during that</font>

1346
00:51:04,670 --> 00:51:08,990
period well we have any ACL on any of

1347
00:51:06,740 --> 00:51:10,970
the interfaces we're talking about so

1348
00:51:08,990 --> 00:51:12,319
the problem with doing this when you

1349
00:51:10,970 --> 00:51:13,939
have a lot of ACLs being applied and

1350
00:51:12,320 --> 00:51:16,190
pulled off and when you have<font color="#CCCCCC"> a half hour</font>

1351
00:51:13,940 --> 00:51:17,420
<font color="#E5E5E5">of granularity is you end up there's not</font>

1352
00:51:16,190 --> 00:51:20,000
necessarily an awful lot<font color="#E5E5E5"> of periods of</font>

1353
00:51:17,420 --> 00:51:21,140
time where you can measure traffic and

1354
00:51:20,000 --> 00:51:24,200
also the periods where you can measure

1355
00:51:21,140 --> 00:51:25,460
traffic might spend a couple weeks but

1356
00:51:24,200 --> 00:51:28,399
might correspond<font color="#CCCCCC"> to different times of</font>

1357
00:51:25,460 --> 00:51:30,080
day different<font color="#E5E5E5"> times of times a week and</font>

1358
00:51:28,400 --> 00:51:32,000
might not necessarily be representative

1359
00:51:30,080 --> 00:51:34,990
of traffic flow during the entire period

1360
00:51:32,000 --> 00:51:36,980
so the ideal answer here is to try and

1361
00:51:34,990 --> 00:51:38,779
beat on the vendors and make sure<font color="#E5E5E5"> you</font>

1362
00:51:36,980 --> 00:51:41,690
can do<font color="#CCCCCC"> ACLs and sampled net flow at the</font>

1363
00:51:38,780 --> 00:51:43,550
same time but<font color="#E5E5E5"> I've sent that the other</font>

1364
00:51:41,690 --> 00:51:44,720
thing<font color="#CCCCCC"> is trying to keep the ACLS off the</font>

1365
00:51:43,550 --> 00:51:46,840
router while you're doing the

1366
00:51:44,720 --> 00:51:46,839
measurement

1367
00:51:49,010 --> 00:51:56,010
so there's our<font color="#CCCCCC"> family the problems that</font>

1368
00:51:54,030 --> 00:51:57,150
we try to track<font color="#CCCCCC"> down during our</font>

1369
00:51:56,010 --> 00:51:59,460
experimentation just over the<font color="#E5E5E5"> last</font>

1370
00:51:57,150 --> 00:52:00,870
couple<font color="#CCCCCC"> of weeks</font><font color="#E5E5E5"> we're an top questions</font>

1371
00:51:59,460 --> 00:52:05,060
there were particular questions with

1372
00:52:00,870 --> 00:52:07,680
very specific sort of problem Rangers

1373
00:52:05,060 --> 00:52:09,120
and we<font color="#E5E5E5"> tried to add configuration to the</font>

1374
00:52:07,680 --> 00:52:11,540
network<font color="#E5E5E5"> to try and pull those answer to</font>

1375
00:52:09,120 --> 00:52:15,330
pull<font color="#E5E5E5"> data out and answer</font><font color="#CCCCCC"> those questions</font>

1376
00:52:11,540 --> 00:52:16,650
so<font color="#E5E5E5"> we found out that</font><font color="#CCCCCC"> I well we've just</font>

1377
00:52:15,330 --> 00:52:17,730
completed the measurement stage the next

1378
00:52:16,650 --> 00:52:20,070
stage<font color="#E5E5E5"> would be to actually go and make</font>

1379
00:52:17,730 --> 00:52:21,900
changes in the face of the first example

1380
00:52:20,070 --> 00:52:24,390
and to do that<font color="#CCCCCC"> in the iterative manner</font>

1381
00:52:21,900 --> 00:52:26,310
so we'll try<font color="#CCCCCC"> and try and adjust the</font>

1382
00:52:24,390 --> 00:52:28,259
traffic flow<font color="#E5E5E5"> in the slow sort of</font>

1383
00:52:26,310 --> 00:52:31,620
controlled way and then re measure and

1384
00:52:28,260 --> 00:52:32,850
see what changed we didn't actually

1385
00:52:31,620 --> 00:52:34,589
happen to<font color="#E5E5E5"> measure for many juniper</font>

1386
00:52:32,850 --> 00:52:35,759
routers because none of<font color="#E5E5E5"> the questions</font>

1387
00:52:34,590 --> 00:52:39,570
concerns have any juniper routers

1388
00:52:35,760 --> 00:52:40,770
involved in them and we didn't attempt

1389
00:52:39,570 --> 00:52:42,090
to build a full-time general-purpose

1390
00:52:40,770 --> 00:52:44,130
measurement infrastructure to answer

1391
00:52:42,090 --> 00:52:46,320
these questions in a general way that

1392
00:52:44,130 --> 00:52:47,820
seems like<font color="#E5E5E5"> a much harder question it</font>

1393
00:52:46,320 --> 00:52:49,140
might be sort<font color="#E5E5E5"> of a manageable for</font>

1394
00:52:47,820 --> 00:52:51,540
smaller networks but when you<font color="#CCCCCC"> have a few</font>

1395
00:52:49,140 --> 00:52:53,040
<font color="#CCCCCC">hundred routers involves the collection</font>

1396
00:52:51,540 --> 00:52:57,630
infrastructure can<font color="#CCCCCC"> be as a non-trivial</font>

1397
00:52:53,040 --> 00:53:00,240
sort of fainter to design now we also

1398
00:52:57,630 --> 00:53:01,590
didn't talk about edge flows where the

1399
00:53:00,240 --> 00:53:05,640
edge router doesn't have any<font color="#E5E5E5"> sort of</font>

1400
00:53:01,590 --> 00:53:07,260
flow export I mean there are other boxes

1401
00:53:05,640 --> 00:53:08,970
we can apparently are available that you

1402
00:53:07,260 --> 00:53:10,290
can<font color="#E5E5E5"> insert in the physical transport</font>

1403
00:53:08,970 --> 00:53:12,959
path to a router which will generate

1404
00:53:10,290 --> 00:53:14,279
<font color="#CCCCCC">netflow records so for example if you</font>

1405
00:53:12,960 --> 00:53:15,720
<font color="#CCCCCC">have a</font><font color="#E5E5E5"> router that you're unable or</font>

1406
00:53:14,280 --> 00:53:17,670
unwilling to generate that flow<font color="#CCCCCC"> based</font>

1407
00:53:15,720 --> 00:53:20,250
data from there are vendors selling

1408
00:53:17,670 --> 00:53:22,020
boxes where you can plug in into NOC

1409
00:53:20,250 --> 00:53:25,590
1243 or some like that which will

1410
00:53:22,020 --> 00:53:28,170
<font color="#E5E5E5">generate NetFlow data from the line so</font>

1411
00:53:25,590 --> 00:53:29,250
in a kind of passive way so I<font color="#E5E5E5"> mean there</font>

1412
00:53:28,170 --> 00:53:30,750
are there are<font color="#E5E5E5"> solutions to that sort of</font>

1413
00:53:29,250 --> 00:53:32,730
thing but we didn't have<font color="#E5E5E5"> to try any of</font>

1414
00:53:30,750 --> 00:53:35,420
<font color="#E5E5E5">that because we were quite happy tuning</font>

1415
00:53:32,730 --> 00:53:35,420
that flow one of the<font color="#CCCCCC"> others</font>

1416
00:53:36,440 --> 00:53:49,130
so that is it are there any questions

1417
00:53:38,640 --> 00:53:49,129
<font color="#E5E5E5">you are buried</font>

1418
00:53:49,640 --> 00:53:53,160
well the traffic<font color="#CCCCCC"> which whether we that</font>

1419
00:53:51,990 --> 00:53:55,500
we recorded<font color="#CCCCCC"> the flow data that we</font>

1420
00:53:53,160 --> 00:53:57,089
recorded<font color="#CCCCCC"> in these examples we use</font>

1421
00:53:55,500 --> 00:53:58,800
basically a freebsd box at one point in

1422
00:53:57,089 --> 00:54:02,190
the network then<font color="#CCCCCC"> i</font><font color="#E5E5E5"> think a 20 gig jess</font>

1423
00:53:58,800 --> 00:54:03,240
client which we just watched and if<font color="#E5E5E5"> we</font>

1424
00:54:02,190 --> 00:54:05,220
<font color="#E5E5E5">need to move things off an archived from</font>

1425
00:54:03,240 --> 00:54:07,828
somewhere else we did that but we

1426
00:54:05,220 --> 00:54:09,689
certainly didn't need a huge to the

1427
00:54:07,829 --> 00:54:12,230
humongous data store in order to answer

1428
00:54:09,690 --> 00:54:12,230
this<font color="#CCCCCC"> question</font>

1429
00:54:14,150 --> 00:54:20,030
located was generated by<font color="#E5E5E5"> now</font>

1430
00:54:17,570 --> 00:54:21,830
he<font color="#E5E5E5"> happens in our December Taylor but</font>

1431
00:54:20,030 --> 00:54:24,230
one thing<font color="#CCCCCC"> you mentioned is that we</font>

1432
00:54:21,830 --> 00:54:31,400
weren't recording the wrong clothes we

1433
00:54:24,230 --> 00:54:34,130
work for<font color="#E5E5E5"> manipulating around you may or</font>

1434
00:54:31,400 --> 00:54:35,900
may not choose to<font color="#E5E5E5"> do so our our</font>

1435
00:54:34,130 --> 00:54:38,180
requirements for<font color="#E5E5E5"> discuses were</font>

1436
00:54:35,900 --> 00:54:40,550
substantially less because of<font color="#E5E5E5"> that I</font>

1437
00:54:38,180 --> 00:54:42,770
think how many robbers there's<font color="#CCCCCC"> overlays</font>

1438
00:54:40,550 --> 00:54:44,720
<font color="#CCCCCC">well so one of them something like 12</font>

1439
00:54:42,770 --> 00:54:48,740
powders and all them<font color="#CCCCCC"> we're doing 10</font>

1440
00:54:44,720 --> 00:54:50,660
knots hundreds and some number you know

1441
00:54:48,740 --> 00:54:53,569
between three and eight times bead

1442
00:54:50,660 --> 00:54:55,640
interfaces those levels in 48<font color="#CCCCCC"> and I want</font>

1443
00:54:53,570 --> 00:55:00,320
to<font color="#E5E5E5"> get that / router we were collecting</font>

1444
00:54:55,640 --> 00:55:05,259
something like 12 mega day<font color="#CCCCCC"> one mega days</font>

1445
00:55:00,320 --> 00:55:11,210
like that I mean it sounds<font color="#E5E5E5"> reasonable</font>

1446
00:55:05,260 --> 00:55:13,730
all from that<font color="#E5E5E5"> so patient a strong close</font>

1447
00:55:11,210 --> 00:55:16,250
with her voluminous and and two of his

1448
00:55:13,730 --> 00:55:23,470
<font color="#CCCCCC">professed these business requirement was</font>

1449
00:55:16,250 --> 00:55:27,080
not hot and we were behind us<font color="#E5E5E5"> or not</font>

1450
00:55:23,470 --> 00:55:29,390
yeah we were basically using the data to

1451
00:55:27,080 --> 00:55:30,680
populate that is part matrix and once

1452
00:55:29,390 --> 00:55:32,810
the measures to be populated between the

1453
00:55:30,680 --> 00:55:36,379
data away so we could do that because

1454
00:55:32,810 --> 00:55:39,080
we're answering specific questions even

1455
00:55:36,380 --> 00:55:40,460
sort of semi specific questions like a s

1456
00:55:39,080 --> 00:55:41,360
part makes is across the<font color="#CCCCCC"> necklace we're</font>

1457
00:55:40,460 --> 00:55:43,280
still allow you to answer general

1458
00:55:41,360 --> 00:55:44,390
questions they don't contain all the

1459
00:55:43,280 --> 00:55:45,620
data<font color="#E5E5E5"> that you could be able to go back</font>

1460
00:55:44,390 --> 00:55:47,299
and<font color="#CCCCCC"> say</font><font color="#E5E5E5"> well what actually happened last</font>

1461
00:55:45,620 --> 00:55:48,529
<font color="#E5E5E5">Tuesday because</font><font color="#CCCCCC"> now that we know this in</font>

1462
00:55:47,300 --> 00:55:50,060
fact there was some sort of spike here

1463
00:55:48,530 --> 00:55:51,710
which caused<font color="#CCCCCC"> the problem so let's go</font>

1464
00:55:50,060 --> 00:55:53,630
investigate it so we've discarded<font color="#E5E5E5"> that</font>

1465
00:55:51,710 --> 00:55:55,190
data by that point so with the way<font color="#CCCCCC"> we</font>

1466
00:55:53,630 --> 00:55:56,750
measured for this for this example we

1467
00:55:55,190 --> 00:56:00,620
couldn't tell<font color="#CCCCCC"> it with an</font><font color="#E5E5E5"> answer my</font>

1468
00:55:56,750 --> 00:56:03,020
question can we comment on the dollar

1469
00:56:00,620 --> 00:56:04,640
implications of doing measurement for

1470
00:56:03,020 --> 00:56:06,529
traffic engineering

1471
00:56:04,640 --> 00:56:08,328
I think the<font color="#CCCCCC"> answer is that</font><font color="#E5E5E5"> we didn't</font>

1472
00:56:06,529 --> 00:56:09,650
talk directly about dollars and Josh for

1473
00:56:08,329 --> 00:56:10,579
probably something to say about this as

1474
00:56:09,650 --> 00:56:13,220
well we didn't talk directly about

1475
00:56:10,579 --> 00:56:16,039
dollars i got from references to<font color="#E5E5E5"> josh</font>

1476
00:56:13,220 --> 00:56:17,808
and snake oil but<font color="#E5E5E5"> basically the idea is</font>

1477
00:56:16,039 --> 00:56:19,069
that if you<font color="#E5E5E5"> have a problem in your</font>

1478
00:56:17,809 --> 00:56:20,660
<font color="#E5E5E5">network that you need to solve then a</font>

1479
00:56:19,069 --> 00:56:22,400
very sort of tempting way to<font color="#E5E5E5"> solve it if</font>

1480
00:56:20,660 --> 00:56:24,680
you have unlimited money it's just to go

1481
00:56:22,400 --> 00:56:26,420
out upgrade everything so if you think

1482
00:56:24,680 --> 00:56:27,680
one circuit to someone is congested then

1483
00:56:26,420 --> 00:56:30,109
you can just go and buy a bigger circle

1484
00:56:27,680 --> 00:56:31,460
<font color="#CCCCCC">by another circuit and you can</font><font color="#E5E5E5"> keep</font>

1485
00:56:30,109 --> 00:56:32,750
doing<font color="#E5E5E5"> that the idea of doing the traffic</font>

1486
00:56:31,460 --> 00:56:34,849
engineering is you don't<font color="#E5E5E5"> necessarily</font>

1487
00:56:32,750 --> 00:56:37,099
have to do that that's not the<font color="#CCCCCC"> only way</font>

1488
00:56:34,849 --> 00:56:38,809
to answer<font color="#E5E5E5"> the question so if we have a</font>

1489
00:56:37,099 --> 00:56:40,970
particularly congested peering circuit

1490
00:56:38,809 --> 00:56:42,710
towards this particular person or

1491
00:56:40,970 --> 00:56:43,939
transit circuit and there may be

1492
00:56:42,710 --> 00:56:45,769
alternatives drop grading is<font color="#CCCCCC"> straight</font>

1493
00:56:43,940 --> 00:56:48,349
<font color="#CCCCCC">away we may</font><font color="#E5E5E5"> be able to go out</font><font color="#CCCCCC"> and gather</font>

1494
00:56:45,769 --> 00:56:49,549
of appearing other peering sessions

1495
00:56:48,349 --> 00:56:51,799
across the public exchanges really

1496
00:56:49,549 --> 00:56:52,819
already<font color="#E5E5E5"> are and basically lower the cost</font>

1497
00:56:51,799 --> 00:56:55,940
of delivering our traffic without

1498
00:56:52,819 --> 00:57:06,259
congestion and that way save spending

1499
00:56:55,940 --> 00:57:08,000
the money yeah yeah I mean<font color="#CCCCCC"> Vijay's big</font>

1500
00:57:06,260 --> 00:57:10,279
bit is that in order to do traffic

1501
00:57:08,000 --> 00:57:11,779
engineering you require traffic sounds

1502
00:57:10,279 --> 00:57:13,609
traffic you<font color="#CCCCCC"> can do very little traffic</font>

1503
00:57:11,779 --> 00:57:16,190
engineering or very little worthwhile

1504
00:57:13,609 --> 00:57:17,690
traffic engineering another last number

1505
00:57:16,190 --> 00:57:18,950
of years I mean a lot<font color="#CCCCCC"> of the major</font>

1506
00:57:17,690 --> 00:57:20,960
carriers and even a lot of the smaller

1507
00:57:18,950 --> 00:57:23,180
carriers have found that<font color="#E5E5E5"> they have just</font>

1508
00:57:20,960 --> 00:57:25,099
noodles and noodles of internal capacity

1509
00:57:23,180 --> 00:57:26,808
right<font color="#E5E5E5"> I mean when you have an internal</font>

1510
00:57:25,099 --> 00:57:28,670
capacity problem you know you throw

1511
00:57:26,809 --> 00:57:30,799
another link at it and therefore you

1512
00:57:28,670 --> 00:57:32,359
don't and even<font color="#E5E5E5"> though they've spent you</font>

1513
00:57:30,799 --> 00:57:34,369
know a hundred hundred thousand hours

1514
00:57:32,359 --> 00:57:37,569
designing internal traffic engineering

1515
00:57:34,369 --> 00:57:41,180
systems there's enough existing internal

1516
00:57:37,569 --> 00:57:42,769
network fiber if nothing else that

1517
00:57:41,180 --> 00:57:44,808
allows people to really throw been to

1518
00:57:42,769 --> 00:57:47,269
hook a problem<font color="#CCCCCC"> inter-domain that doesn't</font>

1519
00:57:44,809 --> 00:57:50,390
tend to be the case you know if I'm

1520
00:57:47,269 --> 00:57:51,709
provider ex and Joe's provider why well

1521
00:57:50,390 --> 00:57:54,170
I'm sure we both have plenty<font color="#E5E5E5"> of fiber</font>

1522
00:57:51,710 --> 00:57:56,019
but not between each<font color="#E5E5E5"> other so there's</font>

1523
00:57:54,170 --> 00:57:58,339
costs with external relationships

1524
00:57:56,019 --> 00:58:01,899
there's cost reports there's<font color="#E5E5E5"> cost with</font>

1525
00:57:58,339 --> 00:58:01,900
administrative costs there's<font color="#E5E5E5"> cost with</font>

1526
00:58:02,880 --> 00:58:07,330
there's cost with with having

1527
00:58:05,500 --> 00:58:08,920
<font color="#CCCCCC">inter-domain links to be able</font><font color="#E5E5E5"> to get the</font>

1528
00:58:07,330 --> 00:58:10,720
biggest bang for your buck by figuring

1529
00:58:08,920 --> 00:58:14,290
out whom am<font color="#E5E5E5"> I going to dedicate an</font>

1530
00:58:10,720 --> 00:58:15,609
expensive router port to because you

1531
00:58:14,290 --> 00:58:17,950
know who am I going to<font color="#E5E5E5"> go up here with</font>

1532
00:58:15,609 --> 00:58:19,720
you may be paying those people because

1533
00:58:17,950 --> 00:58:21,098
you're buying transit you may be paying

1534
00:58:19,720 --> 00:58:23,680
the people because your traffic<font color="#CCCCCC"> rate</font>

1535
00:58:21,099 --> 00:58:25,300
ratios are such that you're paying a

1536
00:58:23,680 --> 00:58:26,919
settlement fee you might be lucky enough

1537
00:58:25,300 --> 00:58:28,540
to just to be a standard pier and that's

1538
00:58:26,920 --> 00:58:30,849
<font color="#E5E5E5">great but they're still costs associated</font>

1539
00:58:28,540 --> 00:58:33,099
with<font color="#E5E5E5"> that if you are</font><font color="#CCCCCC"> paying settlement</font>

1540
00:58:30,849 --> 00:58:34,420
fees to some upstream provider you're

1541
00:58:33,099 --> 00:58:36,010
paying settlement fees because you

1542
00:58:34,420 --> 00:58:38,530
qualify as a peer about your traffic

1543
00:58:36,010 --> 00:58:41,650
ratios don't quite meet their criteria

1544
00:58:38,530 --> 00:58:43,780
using this to make your traffic ratios

1545
00:58:41,650 --> 00:58:45,970
fit into their criteria can obviate

1546
00:58:43,780 --> 00:58:47,770
costs for you and then you know the

1547
00:58:45,970 --> 00:58:49,359
other example is just clearly you know

1548
00:58:47,770 --> 00:58:50,920
<font color="#E5E5E5">using</font><font color="#CCCCCC"> this stuff to go</font><font color="#E5E5E5"> find the</font>

1549
00:58:49,359 --> 00:58:52,690
consumers of your of your bandwidth and

1550
00:58:50,920 --> 00:58:54,040
consumers of your<font color="#E5E5E5"> resources those are</font>

1551
00:58:52,690 --> 00:58:55,300
people<font color="#CCCCCC"> that use the stuff that you</font>

1552
00:58:54,040 --> 00:58:57,400
provide and<font color="#E5E5E5"> those</font><font color="#CCCCCC"> are sales</font>

1553
00:58:55,300 --> 00:58:58,810
opportunities and I don't I don't want

1554
00:58:57,400 --> 00:59:00,609
to stand up here<font color="#CCCCCC"> you know with my sales</font>

1555
00:58:58,810 --> 00:59:02,290
hat on and tell you guys to go off and

1556
00:59:00,609 --> 00:59:04,060
sell everyone because it's<font color="#E5E5E5"> not really</font>

1557
00:59:02,290 --> 00:59:07,270
you<font color="#CCCCCC"> know what the man</font><font color="#E5E5E5"> I gigs about but</font>

1558
00:59:04,060 --> 00:59:11,910
there are really good reasons to do this

1559
00:59:07,270 --> 00:59:11,910
stuff to drive revenue and save costs

1560
00:59:17,040 --> 00:59:21,160
pgp accounting is pretty useful except

1561
00:59:19,690 --> 00:59:24,100
you need a priori knowledge of what

1562
00:59:21,160 --> 00:59:26,980
you're looking<font color="#CCCCCC"> for I and so for the</font>

1563
00:59:24,100 --> 00:59:29,200
second example you could use that the

1564
00:59:26,980 --> 00:59:31,450
the problem with with<font color="#CCCCCC"> that is that if</font>

1565
00:59:29,200 --> 00:59:33,069
you<font color="#CCCCCC"> don't know exactly what you want</font><font color="#E5E5E5"> or</font>

1566
00:59:31,450 --> 00:59:35,740
if you think that what you<font color="#E5E5E5"> want may</font>

1567
00:59:33,070 --> 00:59:38,050
change based on what you learn or if you

1568
00:59:35,740 --> 00:59:39,399
need to know more than six buckets or

1569
00:59:38,050 --> 00:59:42,730
eight buckets I can't remember<font color="#E5E5E5"> the</font>

1570
00:59:39,400 --> 00:59:44,410
number it's useful<font color="#CCCCCC"> in the same space but</font>

1571
00:59:42,730 --> 00:59:46,000
it's pretty limited you have to know

1572
00:59:44,410 --> 00:59:47,799
exactly<font color="#CCCCCC"> what you need to know ahead of</font>

1573
00:59:46,000 --> 00:59:49,990
time and need to<font color="#E5E5E5"> measure it in the right</font>

1574
00:59:47,800 --> 00:59:52,510
places although you do with here too but

1575
00:59:49,990 --> 00:59:54,160
i think if this is a much<font color="#CCCCCC"> more flexible</font>

1576
00:59:52,510 --> 00:59:56,980
approach to answering a much broader

1577
00:59:54,160 --> 01:00:00,490
scale<font color="#CCCCCC"> of questions but</font><font color="#E5E5E5"> like DC you and</font>

1578
00:59:56,980 --> 01:00:02,890
the bucket of counters for bgp do have

1579
01:00:00,490 --> 01:00:06,609
some application in the<font color="#E5E5E5"> same space again</font>

1580
01:00:02,890 --> 01:00:09,640
you know memory usage on<font color="#CCCCCC"> the box some of</font>

1581
01:00:06,610 --> 01:00:12,010
the same issues in deploying it

1582
01:00:09,640 --> 01:00:16,720
especially on<font color="#CCCCCC"> cisco's with the iOS issue</font>

1583
01:00:12,010 --> 01:00:18,430
buddy yeah<font color="#CCCCCC"> I think</font><font color="#E5E5E5"> it's on the list it's</font>

1584
01:00:16,720 --> 01:00:19,980
somewhere further down the list too so

1585
01:00:18,430 --> 01:00:22,660
if you're doing sample<font color="#CCCCCC"> netflow end and</font>

1586
01:00:19,980 --> 01:00:27,190
you see you or the cisco equivalent

1587
01:00:22,660 --> 01:00:28,990
constraints ready yeah so so yeah you

1588
01:00:27,190 --> 01:00:31,140
can use<font color="#E5E5E5"> that in some places other</font>

1589
01:00:28,990 --> 01:00:31,140
questions

1590
01:00:32,430 --> 01:00:44,520
one more you can do it now how do you

1591
01:00:39,320 --> 01:00:54,420
not worry give me<font color="#E5E5E5"> the second time in a</font>

1592
01:00:44,520 --> 01:00:57,300
<font color="#E5E5E5">member for 114 that number you are going</font>

1593
01:00:54,420 --> 01:01:00,000
to be<font color="#CCCCCC"> very torquey because it is working</font>

1594
01:00:57,300 --> 01:01:05,330
<font color="#E5E5E5">anomaly what do</font><font color="#CCCCCC"> you think you're going</font>

1595
01:01:00,000 --> 01:01:13,920
to be perfectly clear mind for south or

1596
01:01:05,330 --> 01:01:16,230
undergrad what caring with AFC I 100

1597
01:01:13,920 --> 01:01:19,590
that was their claim of how much traffic

1598
01:01:16,230 --> 01:01:21,270
they exchanged<font color="#E5E5E5"> no that's what that's</font>

1599
01:01:19,590 --> 01:01:24,780
what I talking gotta keep them<font color="#E5E5E5"> off so if</font>

1600
01:01:21,270 --> 01:01:30,050
we<font color="#E5E5E5"> could have one congestion per second</font>

1601
01:01:24,780 --> 01:01:30,050
at people of so right

1602
01:01:30,350 --> 01:01:35,569
and actually the analysis is still

1603
01:01:33,110 --> 01:01:38,000
ongoing a melon either we haven't quite

1604
01:01:35,570 --> 01:01:39,110
precise 11 and we have some answers but

1605
01:01:38,000 --> 01:01:41,660
we haven't checked<font color="#E5E5E5"> enough to decide that</font>

1606
01:01:39,110 --> 01:01:46,420
<font color="#E5E5E5">I'm working on</font><font color="#CCCCCC"> their smart</font><font color="#E5E5E5"> and there's</font>

1607
01:01:41,660 --> 01:01:46,420
insurance problem

1608
01:01:49,809 --> 01:01:53,079
who else

1609
01:01:53,370 --> 01:01:56,509
thanks for<font color="#CCCCCC"> sin</font><font color="#E5E5E5"> through</font>

