1
00:00:13,440 --> 00:00:18,800
oh my I'm not even on stage yet and

2
00:00:16,680 --> 00:00:22,800
you're already applauding don't do that

3
00:00:18,800 --> 00:00:24,840
okay so the way I figure it is is if I

4
00:00:22,800 --> 00:00:31,740
walk away from this presentation and you

5
00:00:24,840 --> 00:00:33,750
all say Clos instead of cloth okay then

6
00:00:31,740 --> 00:00:36,390
I've won I've gotten done what I wanted

7
00:00:33,750 --> 00:00:38,550
to get done so you may know that I do a

8
00:00:36,390 --> 00:00:39,930
lot with history of networking I have a

9
00:00:38,550 --> 00:00:41,580
podcast called the history of networking

10
00:00:39,930 --> 00:00:44,850
and what I'm trying to do here is just

11
00:00:41,580 --> 00:00:46,769
talk a little bit how we got to the

12
00:00:44,850 --> 00:00:49,710
concept of a spline and leaf network and

13
00:00:46,770 --> 00:00:53,789
and by the way a lot of this has lived

14
00:00:49,710 --> 00:00:55,559
history so yes I am that old I might not

15
00:00:53,789 --> 00:00:59,520
look like it so everybody probably

16
00:00:55,559 --> 00:01:01,260
recognizes this this the first one there

17
00:00:59,520 --> 00:01:03,239
were the lady plugging in a thing is

18
00:01:01,260 --> 00:01:05,820
actually a cross bar fabric or cloth bar

19
00:01:03,239 --> 00:01:07,259
switch I used to have used to work on

20
00:01:05,820 --> 00:01:09,119
one of these when I was back in the US

21
00:01:07,259 --> 00:01:11,970
Air Force we actually had one of these

22
00:01:09,119 --> 00:01:13,680
and you know essentially what happens

23
00:01:11,970 --> 00:01:15,630
here is you call the operator and the

24
00:01:13,680 --> 00:01:18,810
operator says who do you want to talk to

25
00:01:15,630 --> 00:01:22,470
and so they figure out which make which

26
00:01:18,810 --> 00:01:23,970
circuit needs to be made to do the to

27
00:01:22,470 --> 00:01:26,399
make the connection between a send

28
00:01:23,970 --> 00:01:28,289
device and receive device now these were

29
00:01:26,399 --> 00:01:30,630
mechanically these were replaced by

30
00:01:28,289 --> 00:01:34,050
mechanical crossbars as you can see down

31
00:01:30,630 --> 00:01:35,610
here in the corner this is probably in a

32
00:01:34,050 --> 00:01:38,399
building distribution frame if you know

33
00:01:35,610 --> 00:01:40,979
what that is I used to work on those to

34
00:01:38,399 --> 00:01:43,140
a building distribution frame and this

35
00:01:40,979 --> 00:01:45,899
is a mechanical version of that each of

36
00:01:43,140 --> 00:01:47,819
those relays actually does the makes for

37
00:01:45,899 --> 00:01:48,840
these kinds of circuits now I'm going to

38
00:01:47,819 --> 00:01:50,580
get into a little bit of a

39
00:01:48,840 --> 00:01:54,030
unidirectional and how this works but

40
00:01:50,580 --> 00:01:56,009
this is kind of where we started from so

41
00:01:54,030 --> 00:01:58,440
if you look at a crossbar logically what

42
00:01:56,009 --> 00:02:00,479
you have is is you have every device is

43
00:01:58,440 --> 00:02:02,310
split up into you didn't even know

44
00:02:00,479 --> 00:02:05,220
you're getting a tutorial on cost parts

45
00:02:02,310 --> 00:02:07,500
today - right but that's okay every

46
00:02:05,220 --> 00:02:10,619
device is flit up into a logical sin and

47
00:02:07,500 --> 00:02:12,810
a logical receive so if device one wants

48
00:02:10,619 --> 00:02:15,090
to talk to device three where the blue

49
00:02:12,810 --> 00:02:18,660
dot is there's some scheduler and that's

50
00:02:15,090 --> 00:02:21,420
the person in the previous slide is the

51
00:02:18,660 --> 00:02:23,160
scheduler will say oh one wants to talk

52
00:02:21,420 --> 00:02:24,959
to three so what I'm going to do is I'm

53
00:02:23,160 --> 00:02:26,430
going to make the connection where one's

54
00:02:24,960 --> 00:02:29,459
sinned

55
00:02:26,430 --> 00:02:31,590
reaches threes receive now it's

56
00:02:29,459 --> 00:02:33,180
important here that the circuit make is

57
00:02:31,590 --> 00:02:35,489
all I'm talking about I'm not talking

58
00:02:33,180 --> 00:02:38,010
about the traffic itself the traffic

59
00:02:35,489 --> 00:02:39,989
itself runs bi-directional once you do

60
00:02:38,010 --> 00:02:42,209
the make but you have to make the

61
00:02:39,989 --> 00:02:44,099
circuit in some way and that's done by a

62
00:02:42,209 --> 00:02:47,459
scheduler by connecting those two wires

63
00:02:44,099 --> 00:02:48,810
so again each device has a logical send

64
00:02:47,459 --> 00:02:51,690
analogical receive so even your

65
00:02:48,810 --> 00:02:53,700
telephone handset in those days or even

66
00:02:51,690 --> 00:02:57,000
today had a logical send analogical

67
00:02:53,700 --> 00:03:00,109
receive now this is a stoker switch how

68
00:02:57,000 --> 00:03:00,110
many of you've worked on this before

69
00:03:00,680 --> 00:03:08,160
yeah okay so we had a frame it require

70
00:03:06,239 --> 00:03:10,200
four space it was about twelve thousand

71
00:03:08,160 --> 00:03:12,840
lines and it was made up of the primary

72
00:03:10,200 --> 00:03:16,078
frame the main frame on the base was a

73
00:03:12,840 --> 00:03:19,079
stoker frame so we had a large number of

74
00:03:16,079 --> 00:03:21,299
Stoeger switches and the way this works

75
00:03:19,079 --> 00:03:23,720
is that you over the old dial type

76
00:03:21,299 --> 00:03:26,549
telephone where you have the circular

77
00:03:23,720 --> 00:03:29,069
thing you know and the dial pad and it's

78
00:03:26,549 --> 00:03:31,530
not even like a pad you just so that is

79
00:03:29,069 --> 00:03:33,358
actually driving a stepper motor and

80
00:03:31,530 --> 00:03:35,069
that's Stepford there's actually two

81
00:03:33,359 --> 00:03:37,319
stepper motors in a stoker switch and

82
00:03:35,069 --> 00:03:40,798
the steppers when you dial the first

83
00:03:37,319 --> 00:03:42,418
digit it drives the armature down the

84
00:03:40,799 --> 00:03:44,849
wafers and you can kind of see the

85
00:03:42,419 --> 00:03:46,799
wafers here they're circular wafers so

86
00:03:44,849 --> 00:03:48,750
it drives the armature down the wafers

87
00:03:46,799 --> 00:03:51,150
and the second digit you dial drives the

88
00:03:48,750 --> 00:03:53,489
armature around the wafers using a

89
00:03:51,150 --> 00:03:55,530
separate motor so that you can cover two

90
00:03:53,489 --> 00:03:57,209
digits in each one of these now the

91
00:03:55,530 --> 00:04:02,370
starter switch was designed by an

92
00:03:57,209 --> 00:04:05,459
undertaker I'm not kidding who was

93
00:04:02,370 --> 00:04:07,859
convinced that the lady running this in

94
00:04:05,459 --> 00:04:09,930
the small town where he lived was

95
00:04:07,859 --> 00:04:12,449
married to another undertaker in the

96
00:04:09,930 --> 00:04:13,919
town and every time somebody would call

97
00:04:12,449 --> 00:04:15,329
and say I need the undertaker because

98
00:04:13,919 --> 00:04:17,880
there was a dead body to be picked up

99
00:04:15,329 --> 00:04:20,430
she would direct the traffic to her

100
00:04:17,880 --> 00:04:22,409
husband who was his competitor so he got

101
00:04:20,430 --> 00:04:24,120
together with his brother and said we

102
00:04:22,410 --> 00:04:26,280
can't have this I've got to automate

103
00:04:24,120 --> 00:04:28,440
this process so he designed the Stoker

104
00:04:26,280 --> 00:04:30,179
switch sometimes called the stroker

105
00:04:28,440 --> 00:04:32,460
because it's almond Brown Stoeger this

106
00:04:30,180 --> 00:04:36,180
was invented in 1891 these were very

107
00:04:32,460 --> 00:04:38,370
very common and this was again just

108
00:04:36,180 --> 00:04:39,540
designed to take the operator out of the

109
00:04:38,370 --> 00:04:41,730
circuit make process

110
00:04:39,540 --> 00:04:44,910
once you make the circuit you still end

111
00:04:41,730 --> 00:04:47,850
up with bi-directional traffic flow but

112
00:04:44,910 --> 00:04:49,410
you are but you're making the circuit

113
00:04:47,850 --> 00:04:51,900
from send to receive logical santé

114
00:04:49,410 --> 00:04:54,120
logical receive what's the number one

115
00:04:51,900 --> 00:05:07,049
tool for troubleshooting a starter

116
00:04:54,120 --> 00:05:08,970
switch huh contact fluid so you walk

117
00:05:07,050 --> 00:05:11,220
around with your bottle of contact fluid

118
00:05:08,970 --> 00:05:13,050
when somebody calls in a dirty circuit

119
00:05:11,220 --> 00:05:14,940
and you spray the starter switch down

120
00:05:13,050 --> 00:05:17,210
with contact fluid in the hopes of

121
00:05:14,940 --> 00:05:20,130
making the circuit not quite sir dirty

122
00:05:17,210 --> 00:05:23,520
so this is again lived-experience this

123
00:05:20,130 --> 00:05:25,409
is a larger Stoeger frame and you can

124
00:05:23,520 --> 00:05:29,099
see in the very back there you can see

125
00:05:25,410 --> 00:05:31,950
some some what are those it looks like

126
00:05:29,100 --> 00:05:33,480
there are some circuit conditioners

127
00:05:31,950 --> 00:05:36,060
sitting on the back wall there and there

128
00:05:33,480 --> 00:05:37,560
might be some some crossbar fabrics up

129
00:05:36,060 --> 00:05:39,540
there what we would normally do in the

130
00:05:37,560 --> 00:05:41,220
old telco days is we would run the

131
00:05:39,540 --> 00:05:43,290
mainframe off staggers and we would run

132
00:05:41,220 --> 00:05:45,120
the building frames off of cross border

133
00:05:43,290 --> 00:05:46,260
mechanical crossbar switches so you

134
00:05:45,120 --> 00:05:47,430
would have a BD app and you'd have

135
00:05:46,260 --> 00:05:49,289
trunks between them

136
00:05:47,430 --> 00:05:51,540
now the trunk lines are interesting

137
00:05:49,290 --> 00:05:54,780
because what happens is is you couldn't

138
00:05:51,540 --> 00:05:56,700
run the trunk line you couldn't power it

139
00:05:54,780 --> 00:05:59,460
you couldn't get enough power to run the

140
00:05:56,700 --> 00:06:01,770
trunk line in mass so you couldn't have

141
00:05:59,460 --> 00:06:03,810
a trunk line for every circuit that you

142
00:06:01,770 --> 00:06:06,630
might have so my graph was basically a

143
00:06:03,810 --> 00:06:09,900
12,000 line Stoeger switch and we had

144
00:06:06,630 --> 00:06:12,300
multiple PDFs that were that were

145
00:06:09,900 --> 00:06:15,270
crossbar smaller crossbar frames and we

146
00:06:12,300 --> 00:06:18,330
would have 200 maybe a hundred pair that

147
00:06:15,270 --> 00:06:20,940
would be punched down on 66's to get you

148
00:06:18,330 --> 00:06:25,830
between the PDF and and the mainframe on

149
00:06:20,940 --> 00:06:32,760
the network I told you I'm old okay much

150
00:06:25,830 --> 00:06:34,320
older than I look anyway so these are

151
00:06:32,760 --> 00:06:36,390
the trunk lines are very very difficult

152
00:06:34,320 --> 00:06:38,550
to drive electrically so you'd have very

153
00:06:36,390 --> 00:06:40,140
few of them therefore this is how you

154
00:06:38,550 --> 00:06:42,900
get in a whole concept of long distance

155
00:06:40,140 --> 00:06:44,580
before we had voice over IP now this is

156
00:06:42,900 --> 00:06:45,719
the way a stoker frame is wired I'm

157
00:06:44,580 --> 00:06:47,099
getting somewhere with this we're gonna

158
00:06:45,720 --> 00:06:48,690
get to spine and leaf in just a minute

159
00:06:47,100 --> 00:06:50,580
trust me we're gonna get to the clover

160
00:06:48,690 --> 00:06:51,850
and where it comes from in just a minute

161
00:06:50,580 --> 00:06:55,270
all right

162
00:06:51,850 --> 00:06:56,500
each switch is one port so if you think

163
00:06:55,270 --> 00:06:58,750
about the way I described the stagger

164
00:06:56,500 --> 00:07:00,430
switch there are 10 wafers and an

165
00:06:58,750 --> 00:07:02,620
armature that drives down the Tim wafers

166
00:07:00,430 --> 00:07:04,420
and then there is each wafer is circular

167
00:07:02,620 --> 00:07:06,430
and there are 10 connection points on

168
00:07:04,420 --> 00:07:08,440
that so it's a 1 in 100

169
00:07:06,430 --> 00:07:11,560
outs which is what it is I have one

170
00:07:08,440 --> 00:07:14,350
input and 100 out possible outputs so

171
00:07:11,560 --> 00:07:17,590
what I would do is I would wire 3 stages

172
00:07:14,350 --> 00:07:21,130
of Stoeger switches which gives me 6

173
00:07:17,590 --> 00:07:24,310
digits and if I want to do long distance

174
00:07:21,130 --> 00:07:26,680
I add a stoker switch to take me through

175
00:07:24,310 --> 00:07:30,160
a frame or to a trunk line that gives me

176
00:07:26,680 --> 00:07:32,680
my 9 digit phone number okay and I'm 0 +

177
00:07:30,160 --> 00:07:35,080
1 which is a pre-k is a pre-cut in the

178
00:07:32,680 --> 00:07:37,570
frame so this is how you get to a 6

179
00:07:35,080 --> 00:07:39,810
digit phone numbers you have 3 start 3

180
00:07:37,570 --> 00:07:42,730
stages of Stroger switches and each

181
00:07:39,810 --> 00:07:45,190
wafer output of the stagger switch is

182
00:07:42,730 --> 00:07:46,840
actually wired to the core of another

183
00:07:45,190 --> 00:07:49,719
Stoker switch so you get this kind of

184
00:07:46,840 --> 00:07:52,539
spine and leaf concept going in the

185
00:07:49,720 --> 00:07:54,550
layout of the Stoker frame these were

186
00:07:52,540 --> 00:07:58,450
very very painful to wire they were all

187
00:07:54,550 --> 00:08:00,820
hand soldered so you'd have 12,000 lines

188
00:07:58,450 --> 00:08:03,250
of Stoker and you would hand wire all of

189
00:08:00,820 --> 00:08:05,680
this running we went to wrap downs

190
00:08:03,250 --> 00:08:12,040
eventually but most of the early stuff

191
00:08:05,680 --> 00:08:15,100
was done with with soldering so this is

192
00:08:12,040 --> 00:08:17,080
how you get a cloak now le clos in 1952

193
00:08:15,100 --> 00:08:19,510
or 19:53 you may have heard this bit of

194
00:08:17,080 --> 00:08:22,479
the history before said these Dugger

195
00:08:19,510 --> 00:08:24,760
switches they are very expensive to run

196
00:08:22,480 --> 00:08:27,340
they suck up a lot of power they're very

197
00:08:24,760 --> 00:08:29,830
hard to tune and maintain because of

198
00:08:27,340 --> 00:08:32,860
those pairs of armatures and that one in

199
00:08:29,830 --> 00:08:35,020
100 l so he said how can I replace the

200
00:08:32,860 --> 00:08:37,570
Stoeger switch with something that is

201
00:08:35,020 --> 00:08:39,728
going to be more heat efficient more

202
00:08:37,570 --> 00:08:41,770
power efficient and actually make it

203
00:08:39,729 --> 00:08:44,500
where I can scale the stoker switches as

204
00:08:41,770 --> 00:08:46,569
you can see as well are extraordinarily

205
00:08:44,500 --> 00:08:48,660
large and heavy they take up a lot of

206
00:08:46,570 --> 00:08:51,730
space whereas if you compare that with

207
00:08:48,660 --> 00:08:53,110
these crossbar fabrics which is they're

208
00:08:51,730 --> 00:08:55,600
a lot smaller and they take up a lot

209
00:08:53,110 --> 00:08:57,700
less power so so this guys are like

210
00:08:55,600 --> 00:08:59,830
close he's trying to figure out these

211
00:08:57,700 --> 00:09:01,720
crossbar fabrics are getting too

212
00:08:59,830 --> 00:09:04,330
expensive and too hard for me to manage

213
00:09:01,720 --> 00:09:04,900
so what do I do to get rid of all this

214
00:09:04,330 --> 00:09:07,060
mess

215
00:09:04,900 --> 00:09:08,920
and make it smaller so what did it was

216
00:09:07,060 --> 00:09:10,510
as he took the stoker switches and he

217
00:09:08,920 --> 00:09:15,370
replaced them with crossbars

218
00:09:10,510 --> 00:09:17,140
hence the Clos fabric and so all you're

219
00:09:15,370 --> 00:09:20,350
doing is you're like you're doing you're

220
00:09:17,140 --> 00:09:23,560
using a fixed originally they were 10 by

221
00:09:20,350 --> 00:09:25,810
10 can input 10 output switches and you

222
00:09:23,560 --> 00:09:29,319
replace all of your Stoeger switches

223
00:09:25,810 --> 00:09:32,560
with these crossbars now you always have

224
00:09:29,320 --> 00:09:34,360
three stages in a cloak a brick always

225
00:09:32,560 --> 00:09:35,680
it's not far it's not seven it's always

226
00:09:34,360 --> 00:09:38,140
three if you go to five or seven it's

227
00:09:35,680 --> 00:09:39,640
called something else again you know my

228
00:09:38,140 --> 00:09:43,620
whole job here today is to get you to

229
00:09:39,640 --> 00:09:44,980
use the right words for the right things

230
00:09:43,620 --> 00:09:49,720
all right

231
00:09:44,980 --> 00:09:52,029
so multiple inputs etc etc now again a

232
00:09:49,720 --> 00:09:55,779
closed a brick is designed for telco

233
00:09:52,029 --> 00:09:57,279
this is 1952 y'all okay this is

234
00:09:55,779 --> 00:10:00,100
following before most of the people in

235
00:09:57,279 --> 00:10:03,640
this room were born including me this is

236
00:10:00,100 --> 00:10:07,330
a unidirectional fabric make situation

237
00:10:03,640 --> 00:10:08,890
okay I have Bert I have logical sim and

238
00:10:07,330 --> 00:10:13,120
logical receive on each one of these

239
00:10:08,890 --> 00:10:16,000
devices and I actually do setup I do a

240
00:10:13,120 --> 00:10:17,830
make across the fabric and then I

241
00:10:16,000 --> 00:10:20,020
actually get the bake and once the make

242
00:10:17,830 --> 00:10:21,910
is made then I can actually run traffic

243
00:10:20,020 --> 00:10:25,089
in both directions so this is a

244
00:10:21,910 --> 00:10:27,130
unidirectional setup it's non blocking

245
00:10:25,089 --> 00:10:29,860
as a very specific meaning of non

246
00:10:27,130 --> 00:10:32,560
blocking it's non blocking because if

247
00:10:29,860 --> 00:10:34,720
the circuit is busy I fail at the edge

248
00:10:32,560 --> 00:10:36,160
of the network this is going to come

249
00:10:34,720 --> 00:10:39,400
into play when I talk about non blocking

250
00:10:36,160 --> 00:10:41,020
versus non contending because packet

251
00:10:39,400 --> 00:10:43,390
switch networks are never truly non

252
00:10:41,020 --> 00:10:44,980
blocking we use the term it's not really

253
00:10:43,390 --> 00:10:48,640
what it is they're really non contending

254
00:10:44,980 --> 00:10:50,800
anyway so I have what I can consider to

255
00:10:48,640 --> 00:10:53,709
be edge admittance quality-of-service

256
00:10:50,800 --> 00:10:56,560
here if I make it through the edge of

257
00:10:53,709 --> 00:10:59,109
the network I have a circuit I can make

258
00:10:56,560 --> 00:11:01,270
the circuit I can transverse traffic so

259
00:10:59,110 --> 00:11:03,400
it's non blocking because I block at the

260
00:11:01,270 --> 00:11:06,189
edge the network itself does not block

261
00:11:03,400 --> 00:11:09,730
traffic only it's dropped at the edge of

262
00:11:06,190 --> 00:11:11,830
the network now when I switch this to

263
00:11:09,730 --> 00:11:14,620
packet switching and I have

264
00:11:11,830 --> 00:11:16,930
bi-directional forwarding this is what's

265
00:11:14,620 --> 00:11:18,700
called a folded clone now we use folded

266
00:11:16,930 --> 00:11:20,079
to mean we flipped it over so

267
00:11:18,700 --> 00:11:21,970
the spines are on the top and all the

268
00:11:20,080 --> 00:11:24,130
leaves are on the bottom we draw it

269
00:11:21,970 --> 00:11:27,160
folding really what folded means is it's

270
00:11:24,130 --> 00:11:29,260
bi-directional since packets can now be

271
00:11:27,160 --> 00:11:30,939
dropped in the network it means it's non

272
00:11:29,260 --> 00:11:32,710
contending rather than non blocking

273
00:11:30,940 --> 00:11:34,690
unless you're going to set up edge

274
00:11:32,710 --> 00:11:36,910
admittance to ensure that you don't drop

275
00:11:34,690 --> 00:11:40,540
packets it's truly a non contending

276
00:11:36,910 --> 00:11:43,150
fabric rather than non blocking so some

277
00:11:40,540 --> 00:11:44,920
interesting concepts behind the idea of

278
00:11:43,150 --> 00:11:46,900
a fabric in the first place why is it a

279
00:11:44,920 --> 00:11:49,630
fabric rather than just a network a

280
00:11:46,900 --> 00:11:51,970
fabric is a subset of network topologies

281
00:11:49,630 --> 00:11:54,910
so first of all it's regular and

282
00:11:51,970 --> 00:11:57,520
repeating so if you look at a 2 a 1 B 2

283
00:11:54,910 --> 00:12:02,110
and B 1 they are connected pretty much

284
00:11:57,520 --> 00:12:04,240
identically to B to C to C 1 and C 2 and

285
00:12:02,110 --> 00:12:08,440
those are all four connected pretty much

286
00:12:04,240 --> 00:12:11,890
identically to C to D to D C 1 and D 1

287
00:12:08,440 --> 00:12:16,030
ok so the connections are it's it's a

288
00:12:11,890 --> 00:12:18,550
mini kind of modularization okay I have

289
00:12:16,030 --> 00:12:20,319
like this micro modularization that

290
00:12:18,550 --> 00:12:22,030
allows me to pick up any part of the

291
00:12:20,320 --> 00:12:24,010
network and place it someplace else

292
00:12:22,030 --> 00:12:26,380
so it's so that's the first thing it's

293
00:12:24,010 --> 00:12:29,530
regularly repeating the second thing is

294
00:12:26,380 --> 00:12:30,520
its non planar if you look at any of

295
00:12:29,530 --> 00:12:32,829
those connections where those

296
00:12:30,520 --> 00:12:34,150
connections cross now in the old days I

297
00:12:32,830 --> 00:12:35,830
would draw this if I were doing it on a

298
00:12:34,150 --> 00:12:37,600
board but in the old days when I were

299
00:12:35,830 --> 00:12:40,240
doing electronic circuits I would take

300
00:12:37,600 --> 00:12:42,190
one circuit line one run on my circuit

301
00:12:40,240 --> 00:12:43,690
board and I would draw a second circuit

302
00:12:42,190 --> 00:12:45,700
now we go they're not going to connect

303
00:12:43,690 --> 00:12:48,160
so I'll draw a little hump in it to draw

304
00:12:45,700 --> 00:12:49,600
over the other circuit and when I draw

305
00:12:48,160 --> 00:12:53,680
the hump in it what I'm doing is I'm

306
00:12:49,600 --> 00:12:55,840
breaking outside of the plane of the

307
00:12:53,680 --> 00:12:57,219
circuit board okay this is why you have

308
00:12:55,840 --> 00:12:59,080
circuit boards with multiple layers

309
00:12:57,220 --> 00:13:01,270
because I'm breaking outside the plane

310
00:12:59,080 --> 00:13:04,300
so that's why it's called non planar

311
00:13:01,270 --> 00:13:06,310
I cannot draw a fabric a clove fabric or

312
00:13:04,300 --> 00:13:08,410
spine and leaf of any kind and make it

313
00:13:06,310 --> 00:13:10,750
planar you have to have points where the

314
00:13:08,410 --> 00:13:13,959
two links overlap and they don't connect

315
00:13:10,750 --> 00:13:16,960
there's no cross links so you don't have

316
00:13:13,960 --> 00:13:18,820
connections between a2 and b2 they're

317
00:13:16,960 --> 00:13:20,500
all because all of your traffic in this

318
00:13:18,820 --> 00:13:23,380
type of network is driven what's called

319
00:13:20,500 --> 00:13:25,480
east to west okay I don't have any north

320
00:13:23,380 --> 00:13:28,300
to south traffic in a cloak a vert it's

321
00:13:25,480 --> 00:13:30,130
all east to west and any north to south

322
00:13:28,300 --> 00:13:32,050
traffic that exists in my network design

323
00:13:30,130 --> 00:13:34,180
I actually drive it Easton

324
00:13:32,050 --> 00:13:36,189
West across the color fabric so I don't

325
00:13:34,180 --> 00:13:38,439
have cross links to facilitate North and

326
00:13:36,190 --> 00:13:40,779
South traffic flow it's also scale out

327
00:13:38,440 --> 00:13:42,250
the scale is only limited by the device

328
00:13:40,779 --> 00:13:44,950
port you know I think I have slides in

329
00:13:42,250 --> 00:13:46,810
here all right so there's this thing

330
00:13:44,950 --> 00:13:48,250
called a rearrange able Club we actually

331
00:13:46,810 --> 00:13:50,410
don't use these for the most part well I

332
00:13:48,250 --> 00:13:53,860
say that but I'll talk where we actually

333
00:13:50,410 --> 00:13:55,269
do use a B'nai in one place this is was

334
00:13:53,860 --> 00:13:57,640
originally invented theoretically by

335
00:13:55,269 --> 00:13:59,920
václav Binet it was described by other

336
00:13:57,640 --> 00:14:01,540
people this introduces the idea of

337
00:13:59,920 --> 00:14:03,790
planes if you look in the middle you'll

338
00:14:01,540 --> 00:14:06,819
notice there are two Chloe bricks kind

339
00:14:03,790 --> 00:14:08,890
of in the middle left to right okay and

340
00:14:06,820 --> 00:14:10,959
those are planes so you can build

341
00:14:08,890 --> 00:14:13,089
multiple planes so this is the first

342
00:14:10,959 --> 00:14:14,380
kind of finally fabric that introduced

343
00:14:13,089 --> 00:14:16,899
planes this is a B'nai in

344
00:14:14,380 --> 00:14:19,870
packet-switching terms and if you ever

345
00:14:16,899 --> 00:14:21,490
build a three-stage fine and leaf but

346
00:14:19,870 --> 00:14:24,690
you build it with chassis boxes in your

347
00:14:21,490 --> 00:14:27,750
spine you're actually building a B'nai

348
00:14:24,690 --> 00:14:30,670
because there's a fabric inside the

349
00:14:27,750 --> 00:14:33,279
chassis device that's connecting all the

350
00:14:30,670 --> 00:14:36,339
ports together so it's actually a second

351
00:14:33,279 --> 00:14:38,620
layer or a second stage of fabric so

352
00:14:36,339 --> 00:14:40,899
it's actually a five-stage been a is

353
00:14:38,620 --> 00:14:42,399
what you're actually building okay this

354
00:14:40,899 --> 00:14:44,020
is when you put all the spines on the

355
00:14:42,399 --> 00:14:47,829
top I think that's ugly so I'm going to

356
00:14:44,020 --> 00:14:51,329
ignore that there's this concept called

357
00:14:47,829 --> 00:14:54,520
a fat tree this is a universal topology

358
00:14:51,329 --> 00:14:56,890
Charles learson in 1985 fat tree is a

359
00:14:54,520 --> 00:14:59,140
pretty new idea each page has bent twice

360
00:14:56,890 --> 00:15:01,510
the bandwidth what I mean when I say a

361
00:14:59,140 --> 00:15:04,149
universal topology is is that you can

362
00:15:01,510 --> 00:15:06,310
take any topology and build that

363
00:15:04,149 --> 00:15:08,440
topology using tunnels on top of any

364
00:15:06,310 --> 00:15:10,390
other topology so you can emulate a full

365
00:15:08,440 --> 00:15:12,430
mesh on top of a ring or you can emulate

366
00:15:10,390 --> 00:15:14,980
a full mesh on top or a ring on top for

367
00:15:12,430 --> 00:15:17,469
whatever you want to do mathematically

368
00:15:14,980 --> 00:15:20,020
you can figure out how much efficiency

369
00:15:17,470 --> 00:15:22,930
you lose how many additional hops and

370
00:15:20,020 --> 00:15:24,550
stretch you put into the topology by

371
00:15:22,930 --> 00:15:28,149
emulating month apology on top of

372
00:15:24,550 --> 00:15:31,180
another that's called the efficiency of

373
00:15:28,149 --> 00:15:33,310
the topology a universal topology is one

374
00:15:31,180 --> 00:15:35,589
that loses the least efficiency no

375
00:15:33,310 --> 00:15:37,569
matter what other topology you emulator

376
00:15:35,589 --> 00:15:39,790
on top of it so now if you think about

377
00:15:37,570 --> 00:15:41,709
why do we use pine and leaf even though

378
00:15:39,790 --> 00:15:44,620
you do we don't generally use true fat

379
00:15:41,709 --> 00:15:45,410
trees spine and leaf comes close to a

380
00:15:44,620 --> 00:15:50,149
universal

381
00:15:45,410 --> 00:15:51,649
apology even if it's not a fat tree all

382
00:15:50,149 --> 00:15:53,149
right this is what I call a butterfly

383
00:15:51,649 --> 00:15:54,920
people don't like me calling this a

384
00:15:53,149 --> 00:15:56,329
butterfly I don't know why I don't know

385
00:15:54,920 --> 00:15:59,660
any other name for it so I call it a

386
00:15:56,329 --> 00:16:02,120
butterfly all right this is a butterfly

387
00:15:59,660 --> 00:16:05,719
fabric so if you look very carefully

388
00:16:02,120 --> 00:16:07,850
you'll see I've color-coded the planes

389
00:16:05,720 --> 00:16:09,199
so I'll show you a different picture in

390
00:16:07,850 --> 00:16:11,750
just a second which is how you normally

391
00:16:09,199 --> 00:16:13,459
see if this is split out and by the way

392
00:16:11,750 --> 00:16:17,209
I always draw my fabrics with the spine

393
00:16:13,459 --> 00:16:19,550
in the center so you have to a gesture

394
00:16:17,209 --> 00:16:21,560
of thinking to that my topic racks are

395
00:16:19,550 --> 00:16:23,899
all white and then each of those

396
00:16:21,560 --> 00:16:26,660
sections like you see the blue orange

397
00:16:23,899 --> 00:16:30,009
green grey and then the white below it

398
00:16:26,660 --> 00:16:32,569
that's a pod so this give you a nice pod

399
00:16:30,009 --> 00:16:34,970
architecture that you can scale out very

400
00:16:32,569 --> 00:16:37,759
easily and then you can dump you can

401
00:16:34,970 --> 00:16:39,649
backfill in those planes what are called

402
00:16:37,759 --> 00:16:41,600
the fabrics the Fabri honors in the

403
00:16:39,649 --> 00:16:44,209
middle piece by piece to scale your

404
00:16:41,600 --> 00:16:46,430
fabric up so this is typically what you

405
00:16:44,209 --> 00:16:51,560
see almost all hyperscale is using is

406
00:16:46,430 --> 00:16:53,089
what it looks like from the top and this

407
00:16:51,560 --> 00:16:55,518
is what it looks like in 3d now I know

408
00:16:53,089 --> 00:16:56,990
you probably can't rock that image but

409
00:16:55,519 --> 00:16:59,870
this is what you'll probably see it

410
00:16:56,990 --> 00:17:02,449
drawn like all the time okay and you'll

411
00:16:59,870 --> 00:17:04,849
see those fabrics which is down at the

412
00:17:02,449 --> 00:17:06,859
bottom and then the spine switches

413
00:17:04,849 --> 00:17:09,469
those are your fav see so it turns

414
00:17:06,859 --> 00:17:12,889
crossways to each other your fabrics are

415
00:17:09,470 --> 00:17:15,079
cross to your pods essentially is the

416
00:17:12,890 --> 00:17:17,630
way this works and you can scale it out

417
00:17:15,079 --> 00:17:21,579
by increasing the number of devices in

418
00:17:17,630 --> 00:17:24,010
any given spine plane that you want to

419
00:17:21,579 --> 00:17:32,000
this is how you normally see it drawn

420
00:17:24,010 --> 00:17:33,860
this is a Mac size 8 port is that right

421
00:17:32,000 --> 00:17:36,110
are these eight yeah these are eight

422
00:17:33,860 --> 00:17:38,120
ports so this is a Mac size fabric with

423
00:17:36,110 --> 00:17:39,530
eight port devices which you would never

424
00:17:38,120 --> 00:17:42,559
build cuz you would never use a port

425
00:17:39,530 --> 00:17:43,850
devices but anyway but you can see in

426
00:17:42,559 --> 00:17:46,908
this image once I show you that other

427
00:17:43,850 --> 00:17:49,699
picture how your planes kind of run

428
00:17:46,909 --> 00:17:53,360
counter to your pods your pods so you're

429
00:17:49,700 --> 00:17:55,730
great so your pod runs top to bottom or

430
00:17:53,360 --> 00:17:56,610
bottom to top and your planes run right

431
00:17:55,730 --> 00:17:58,470
to left

432
00:17:56,610 --> 00:18:00,959
and so they kind of run cross to each

433
00:17:58,470 --> 00:18:02,520
other some people like to call this a

434
00:18:00,960 --> 00:18:05,100
cross bar but it's really not a cross

435
00:18:02,520 --> 00:18:08,700
bar because it's not a cross bar let's

436
00:18:05,100 --> 00:18:11,580
talk about some scaling if I'm going to

437
00:18:08,700 --> 00:18:15,030
talk just a straight clove abric with

438
00:18:11,580 --> 00:18:18,809
nothing else using 64 by 100 Gig devices

439
00:18:15,030 --> 00:18:22,410
I can use a 32 I can use the 32 by 3

440
00:18:18,809 --> 00:18:24,240
fabric so 32 wide so to scale a clove a

441
00:18:22,410 --> 00:18:25,890
brick all I do is I think the number of

442
00:18:24,240 --> 00:18:29,520
ports on the device are divided by 2

443
00:18:25,890 --> 00:18:31,230
that's the width of my fabric close to

444
00:18:29,520 --> 00:18:33,270
fabrics are always three stages so it's

445
00:18:31,230 --> 00:18:35,220
going to be 32 by 3 with a 64 port

446
00:18:33,270 --> 00:18:39,780
device it's going to be a 32 Ford device

447
00:18:35,220 --> 00:18:42,270
can be 16 by 3 okay and I can build a t1

448
00:18:39,780 --> 00:18:44,370
so if I'm running the way I played my

449
00:18:42,270 --> 00:18:46,470
little math here is I said I'm running

450
00:18:44,370 --> 00:18:48,959
hundred all hundred gig ports and I'm

451
00:18:46,470 --> 00:18:53,640
using 4 to 1 opticals to give me 25 gig

452
00:18:48,960 --> 00:18:57,780
down to my servers so kr I'll send you

453
00:18:53,640 --> 00:19:03,240
the slides don't worry he's taking

454
00:18:57,780 --> 00:19:07,049
pictures over here anyway so I'm

455
00:19:03,240 --> 00:19:10,710
figuring that I will have 2048 by a

456
00:19:07,049 --> 00:19:12,770
hundred gig facing out and Nani using 96

457
00:19:10,710 --> 00:19:17,520
by two are you switches for fabric with

458
00:19:12,770 --> 00:19:20,340
81 92 by 25 gig facing out so using 64

459
00:19:17,520 --> 00:19:24,240
fort devices I can get up to 8,000 192

460
00:19:20,340 --> 00:19:26,879
by 25 gig port using just a 32 by 3

461
00:19:24,240 --> 00:19:28,830
fabric if I'm using 32 of course it's

462
00:19:26,880 --> 00:19:30,870
just you just divide it like it's down

463
00:19:28,830 --> 00:19:33,689
by quarter or whatever that is right and

464
00:19:30,870 --> 00:19:35,790
it's 48 by 1 argue boxes so this is kind

465
00:19:33,690 --> 00:19:38,100
of what you get to with a straight clove

466
00:19:35,790 --> 00:19:39,450
a brick in terms of scaling now of

467
00:19:38,100 --> 00:19:41,370
course you can play with numbers and

468
00:19:39,450 --> 00:19:43,290
this is all one-to-one over description

469
00:19:41,370 --> 00:19:45,719
I've not done any oversubscription in

470
00:19:43,290 --> 00:19:48,840
any of these numbers now this is a

471
00:19:45,720 --> 00:19:50,970
butterfly if I was running for fabrics

472
00:19:48,840 --> 00:19:54,149
like what I show here it's that's the

473
00:19:50,970 --> 00:19:57,299
same scale as a full-out 62 by 30 by 100

474
00:19:54,150 --> 00:19:58,770
or 64 by 100 using a straight

475
00:19:57,299 --> 00:20:00,900
three-stage Club but this is now a

476
00:19:58,770 --> 00:20:03,210
five-stage fabric right because I have

477
00:20:00,900 --> 00:20:05,640
my pods topper priox I have my spine and

478
00:20:03,210 --> 00:20:08,669
I have my fabrics I have my second spine

479
00:20:05,640 --> 00:20:10,330
and then I have my top of racks again if

480
00:20:08,669 --> 00:20:13,480
I was running

481
00:20:10,330 --> 00:20:15,610
I would get 8192 by 25 gig port facing

482
00:20:13,480 --> 00:20:18,520
out with four fabrics with a 32 by 100

483
00:20:15,610 --> 00:20:21,459
device the max size I can build with 32

484
00:20:18,520 --> 00:20:24,340
by 100 in a butterfly is 16 fabrics Mike

485
00:20:21,460 --> 00:20:28,050
is 32 divided by 16 or divided by 2 is

486
00:20:24,340 --> 00:20:32,740
16 so I can have 16 fabric scuse me

487
00:20:28,050 --> 00:20:37,180
32,768 by 25 gig facing out ports on

488
00:20:32,740 --> 00:20:41,260
that size fabric now if I go to 64 by

489
00:20:37,180 --> 00:20:42,670
100 devices which are too are you you

490
00:20:41,260 --> 00:20:44,470
can start seeing some of the numbers I

491
00:20:42,670 --> 00:20:50,020
can get the max I can build is going to

492
00:20:44,470 --> 00:20:53,350
be 32 fabrics which is 26 260 mm 144 by

493
00:20:50,020 --> 00:20:57,639
25 gig facing out ports in a butter in a

494
00:20:53,350 --> 00:20:59,620
five-stage butterfly using 32 fabrics so

495
00:20:57,640 --> 00:21:01,300
32 of those green you'd have to come up

496
00:20:59,620 --> 00:21:02,229
with 32 different colors to make it work

497
00:21:01,300 --> 00:21:05,710
right because you've got to have them

498
00:21:02,230 --> 00:21:08,380
two colors wide and each one of those is

499
00:21:05,710 --> 00:21:10,210
actually 32 wide because it's a 64 port

500
00:21:08,380 --> 00:21:11,710
device okay

501
00:21:10,210 --> 00:21:13,840
so anything you do you just take your

502
00:21:11,710 --> 00:21:16,030
port numbers and divide them in half and

503
00:21:13,840 --> 00:21:17,949
you can figure it out the real trick is

504
00:21:16,030 --> 00:21:20,260
is that if you want to know how big of a

505
00:21:17,950 --> 00:21:21,910
fabric you can build again take the max

506
00:21:20,260 --> 00:21:23,830
ports on the device divide in half

507
00:21:21,910 --> 00:21:25,750
that's the number of fabrics that's the

508
00:21:23,830 --> 00:21:27,100
number of devices in the fabric and each

509
00:21:25,750 --> 00:21:29,380
one of those fabrics and a butterfly

510
00:21:27,100 --> 00:21:31,120
then you just count the number of ports

511
00:21:29,380 --> 00:21:33,100
you have in the spine that's identical

512
00:21:31,120 --> 00:21:35,199
to the number of ports you have at the

513
00:21:33,100 --> 00:21:39,520
edge at whatever speed you have with one

514
00:21:35,200 --> 00:21:42,310
on one one to one oversubscription okay

515
00:21:39,520 --> 00:21:44,260
I think I'm at the beginning again I

516
00:21:42,310 --> 00:21:47,520
didn't know as it would flip on me so

517
00:21:44,260 --> 00:21:51,940
that is it I just hope I convinced you

518
00:21:47,520 --> 00:21:54,790
to say Clos instead of class and write

519
00:21:51,940 --> 00:21:58,630
it with an uppercase C and lowercase L

520
00:21:54,790 --> 00:22:00,670
OS it's the guy's name and use the

521
00:21:58,630 --> 00:22:02,140
proper term for been a I don't know what

522
00:22:00,670 --> 00:22:03,820
to call a butterfly other than I call it

523
00:22:02,140 --> 00:22:08,680
a butterfly people fuss at me about that

524
00:22:03,820 --> 00:22:12,270
so any questions on my little spiel

525
00:22:08,680 --> 00:22:12,270
about spine and leaf fabrics

526
00:22:13,320 --> 00:22:20,470
Tony Tony to Ober Comcast great

527
00:22:17,860 --> 00:22:22,320
presentation thanks I think it's

528
00:22:20,470 --> 00:22:25,700
pronounced finish

529
00:22:22,320 --> 00:22:30,149
Oh is it pronounced finish yeah see

530
00:22:25,700 --> 00:22:36,030
could be I didn't research that one I

531
00:22:30,150 --> 00:22:38,300
research clue anybody else want to call

532
00:22:36,030 --> 00:22:40,649
me out and tell me I'm wrong

533
00:22:38,300 --> 00:22:44,370
which is perfectly fine by the way

534
00:22:40,650 --> 00:22:46,440
okay Oh Gus am i scooting to the

535
00:22:44,370 --> 00:22:49,699
microphone it's a long way to the

536
00:22:46,440 --> 00:22:53,630
microphone they need to make them closer

537
00:22:49,700 --> 00:22:53,630
it's too big of a meeting room

538
00:22:55,070 --> 00:22:57,570
hey great talk Alan Hannah and

539
00:22:57,150 --> 00:23:04,920
CrowdStrike

540
00:22:57,570 --> 00:23:05,570
it's Stroger switch oh and I even worked

541
00:23:04,920 --> 00:23:07,160
on them

542
00:23:05,570 --> 00:23:15,470
[Applause]

543
00:23:07,160 --> 00:23:15,470
Thanks so hey buddy ultimate coffee I

544
00:23:19,130 --> 00:23:23,760
pull Saul to Google you said you would

545
00:23:22,350 --> 00:23:28,320
never build one of these out of an 8

546
00:23:23,760 --> 00:23:31,710
ports which we did in 2004 okay well in

547
00:23:28,320 --> 00:23:33,480
2004 yes yes you would in 2004 yeah and

548
00:23:31,710 --> 00:23:35,640
the cabling was pretty crazy

549
00:23:33,480 --> 00:23:37,890
yeah right today I don't know that I

550
00:23:35,640 --> 00:23:40,020
would go could you even buy an 8 port

551
00:23:37,890 --> 00:23:43,290
switch today other than Linksys I hope

552
00:23:40,020 --> 00:23:46,350
not you could buy a you could build

553
00:23:43,290 --> 00:23:48,330
yourself an 8 port butterfly fabric in

554
00:23:46,350 --> 00:23:51,810
your house out of a port link switches

555
00:23:48,330 --> 00:23:56,429
link links of switches get a lot of

556
00:23:51,810 --> 00:23:58,850
devices on it I guess all right well

557
00:23:56,430 --> 00:23:58,850
thank you

558
00:24:00,130 --> 00:24:02,190
you

559
00:24:08,630 --> 00:24:10,690
you

