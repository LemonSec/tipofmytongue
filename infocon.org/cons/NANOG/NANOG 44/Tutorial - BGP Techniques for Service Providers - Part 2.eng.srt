1
00:00:00,469 --> 00:00:06,870
ya think<font color="#E5E5E5"> that was all okay so i</font><font color="#CCCCCC"> will</font>

2
00:00:03,449 --> 00:00:09,830
carry on with this I used to have right

3
00:00:06,870 --> 00:00:12,179
flap damping in this tutorial as a

4
00:00:09,830 --> 00:00:14,309
highly recommended skilling technique

5
00:00:12,179 --> 00:00:17,010
until about four or five years<font color="#CCCCCC"> ago when</font>

6
00:00:14,309 --> 00:00:21,240
<font color="#E5E5E5">I stopped putting it in as good thing</font>

7
00:00:17,010 --> 00:00:23,279
and now put it<font color="#E5E5E5"> in as a bad thing so so</font>

8
00:00:21,240 --> 00:00:26,970
many<font color="#E5E5E5"> years it was actually strongly</font>

9
00:00:23,279 --> 00:00:29,189
encouraged pretty much from 95 96 97 98

10
00:00:26,970 --> 00:00:32,790
we considered right flap that being

11
00:00:29,189 --> 00:00:36,239
pretty good<font color="#E5E5E5"> thing to do really what was</font>

12
00:00:32,790 --> 00:00:38,519
going on and<font color="#CCCCCC"> Internet ISPs were probably</font>

13
00:00:36,239 --> 00:00:40,530
announcing the customers they were dial

14
00:00:38,520 --> 00:00:43,710
in connect four short time and answer /

15
00:00:40,530 --> 00:00:45,239
24 grab email hang up and then three

16
00:00:43,710 --> 00:00:47,280
minutes later doll and a man would do

17
00:00:45,239 --> 00:00:49,500
<font color="#CCCCCC">its stuff</font><font color="#E5E5E5"> and pull again for email so</font>

18
00:00:47,280 --> 00:00:51,719
we'd see a lot of churning of / 24 on

19
00:00:49,500 --> 00:00:54,120
the<font color="#CCCCCC"> network usually caused by dial on</font>

20
00:00:51,719 --> 00:00:56,219
demand or something similar and it was

21
00:00:54,120 --> 00:00:58,379
overwhelming our poor old slow routers

22
00:00:56,219 --> 00:01:01,469
that we had back in the<font color="#CCCCCC"> in the mid-90s</font>

23
00:00:58,379 --> 00:01:03,269
and so right flat damping basically came

24
00:01:01,469 --> 00:01:08,100
in to try and mitigate some of this

25
00:01:03,270 --> 00:01:09,600
issue well more recent years you know

26
00:01:08,100 --> 00:01:11,039
there's been<font color="#E5E5E5"> studies research would ever</font>

27
00:01:09,600 --> 00:01:13,229
been done to show<font color="#E5E5E5"> that bright flat</font>

28
00:01:11,040 --> 00:01:15,180
damping actually slows<font color="#CCCCCC"> network</font>

29
00:01:13,229 --> 00:01:17,789
convergence and does a lot of other evil

30
00:01:15,180 --> 00:01:20,040
nasty things so<font color="#E5E5E5"> I'll come to those a</font>

31
00:01:17,790 --> 00:01:21,750
<font color="#E5E5E5">little bit later on but I'll</font><font color="#CCCCCC"> just cover</font>

32
00:01:20,040 --> 00:01:25,229
through go through right<font color="#E5E5E5"> fat damping as</font>

33
00:01:21,750 --> 00:01:28,350
it is first and then we'll look at the

34
00:01:25,229 --> 00:01:29,729
badness so right flap by<font color="#CCCCCC"> definition is</font>

35
00:01:28,350 --> 00:01:32,729
basically<font color="#CCCCCC"> they going</font><font color="#E5E5E5"> up and down of a</font>

36
00:01:29,729 --> 00:01:34,380
path or a change in an attribute yes and

37
00:01:32,729 --> 00:01:36,840
a change in an attribute that was one

38
00:01:34,380 --> 00:01:40,259
<font color="#CCCCCC">thing that was often overlooked by a lot</font>

39
00:01:36,840 --> 00:01:42,180
of service providers so in other words

40
00:01:40,259 --> 00:01:44,369
if there's a<font color="#CCCCCC"> bgp withdraw followed by an</font>

41
00:01:42,180 --> 00:01:46,409
<font color="#E5E5E5">update that was counted as one flap or</font>

42
00:01:44,369 --> 00:01:49,590
if a bgp attribute changed that was

43
00:01:46,409 --> 00:01:51,540
counted as one flap to ripples through

44
00:01:49,590 --> 00:01:53,340
the entire internet and it wastes<font color="#E5E5E5"> CPU</font>

45
00:01:51,540 --> 00:01:56,189
why should somebody rebooting the router

46
00:01:53,340 --> 00:01:58,770
in the south<font color="#E5E5E5"> of Chile impact your router</font>

47
00:01:56,189 --> 00:02:00,298
it should matter<font color="#CCCCCC"> it's many</font><font color="#E5E5E5"> a s hops away</font>

48
00:01:58,770 --> 00:02:02,130
it's in a different side of the planet

49
00:02:00,299 --> 00:02:04,290
so it shouldn't<font color="#E5E5E5"> have to impact your</font>

50
00:02:02,130 --> 00:02:06,929
network that's a sort of thing that<font color="#E5E5E5"> we</font>

51
00:02:04,290 --> 00:02:09,149
were seeing<font color="#E5E5E5"> when our backbone back in</font>

52
00:02:06,930 --> 00:02:10,619
the mid-90s basically somebody could do

53
00:02:09,149 --> 00:02:12,510
something<font color="#E5E5E5"> weird and other side of the</font>

54
00:02:10,619 --> 00:02:15,900
planet and would have a nerd

55
00:02:12,510 --> 00:02:18,149
split impact on our infrastructure so

56
00:02:15,900 --> 00:02:21,030
fat damping came along pretty much

57
00:02:18,150 --> 00:02:23,849
everybody want to<font color="#E5E5E5"> do it and lots of back</font>

58
00:02:21,030 --> 00:02:26,430
of beer mats designs were done in

59
00:02:23,849 --> 00:02:29,700
various ITF meetings and nanos and so

60
00:02:26,430 --> 00:02:32,159
forth implementation fully described in

61
00:02:29,700 --> 00:02:34,879
RFC<font color="#CCCCCC"> 24-39 basically we want fast</font>

62
00:02:32,159 --> 00:02:37,109
convergence for<font color="#E5E5E5"> normal</font><font color="#CCCCCC"> right changes</font>

63
00:02:34,879 --> 00:02:39,720
trying to use history predict the future

64
00:02:37,110 --> 00:02:42,689
so if history shows stable prefix it's

65
00:02:39,720 --> 00:02:44,459
<font color="#E5E5E5">likely to stay stable if if history</font>

66
00:02:42,689 --> 00:02:47,340
shows prefix bunches up<font color="#E5E5E5"> in downloads</font>

67
00:02:44,459 --> 00:02:49,200
it's likely<font color="#CCCCCC"> to carry on doing</font><font color="#E5E5E5"> that we</font>

68
00:02:47,340 --> 00:02:51,720
want<font color="#E5E5E5"> to suppress oscillating routes but</font>

69
00:02:49,200 --> 00:02:53,819
advertise the stable ones and

70
00:02:51,720 --> 00:02:55,829
implementation details<font color="#CCCCCC"> manisa iOS</font>

71
00:02:53,819 --> 00:02:59,129
numbers that probably same or different

72
00:02:55,829 --> 00:03:01,409
for your implementation penalty of<font color="#CCCCCC"> 1,000</font>

73
00:02:59,129 --> 00:03:03,480
for each flap change<font color="#CCCCCC"> in attribute gets a</font>

74
00:03:01,409 --> 00:03:05,280
penalty of 500 people often overlook

75
00:03:03,480 --> 00:03:07,138
that and they were<font color="#E5E5E5"> going well my prefix</font>

76
00:03:05,280 --> 00:03:09,269
is not flapping but yeah I'm changing

77
00:03:07,139 --> 00:03:10,769
<font color="#CCCCCC">the community every now and then well if</font>

78
00:03:09,269 --> 00:03:12,720
you change your community that's<font color="#E5E5E5"> a</font>

79
00:03:10,769 --> 00:03:16,379
change in attribute and that gets a flap

80
00:03:12,720 --> 00:03:18,720
so that wasn't<font color="#CCCCCC"> very pleasant we have</font>

81
00:03:16,379 --> 00:03:20,849
exponential decay the penalty there's a

82
00:03:18,720 --> 00:03:22,410
<font color="#E5E5E5">half life rate if you've done physics or</font>

83
00:03:20,849 --> 00:03:24,060
whatever at school you'll know what all

84
00:03:22,410 --> 00:03:26,790
this<font color="#CCCCCC"> is about but</font><font color="#E5E5E5"> basically it</font>

85
00:03:24,060 --> 00:03:28,709
exponentially<font color="#E5E5E5"> the case like this when</font>

86
00:03:26,790 --> 00:03:30,660
the penalty goes over<font color="#CCCCCC"> suppressed limit</font>

87
00:03:28,709 --> 00:03:32,519
prefix was suppressed when the prefix

88
00:03:30,660 --> 00:03:34,698
goes under<font color="#CCCCCC"> the penalty goes under a</font>

89
00:03:32,519 --> 00:03:37,049
reuse limit and will be realized

90
00:03:34,699 --> 00:03:39,239
pictures worth a thousand words it would

91
00:03:37,049 --> 00:03:41,579
work<font color="#CCCCCC"> something like</font><font color="#E5E5E5"> that so in other</font>

92
00:03:39,239 --> 00:03:44,129
words this is time along the bottom this

93
00:03:41,579 --> 00:03:47,040
<font color="#E5E5E5">is the penalty here prefix flaps its</font>

94
00:03:44,129 --> 00:03:49,230
<font color="#E5E5E5">flap three times penalties to thousands</font>

95
00:03:47,040 --> 00:03:51,209
it's gone above the<font color="#CCCCCC"> suppress limit so</font>

96
00:03:49,230 --> 00:03:52,560
the prefix get suppressed kind of zone

97
00:03:51,209 --> 00:03:55,530
flapping until somebody figures out

98
00:03:52,560 --> 00:03:58,260
what's wrong we then get<font color="#E5E5E5"> the exponential</font>

99
00:03:55,530 --> 00:04:00,959
decay down to this reuse limit and then

100
00:03:58,260 --> 00:04:03,358
the prefix gets riad ver<font color="#CCCCCC"> tised notice</font>

101
00:04:00,959 --> 00:04:06,359
three flaps is in a fairly short time

102
00:04:03,359 --> 00:04:08,310
this is a<font color="#CCCCCC"> very long</font><font color="#E5E5E5"> time</font><font color="#CCCCCC"> okay so</font>

103
00:04:06,359 --> 00:04:10,500
typically the implementations for flat

104
00:04:08,310 --> 00:04:13,079
damping you could flat<font color="#E5E5E5"> three times then</font>

105
00:04:10,500 --> 00:04:16,048
disappear for an hour which you<font color="#CCCCCC"> know</font>

106
00:04:13,079 --> 00:04:17,789
it's it's you know it's<font color="#E5E5E5"> it was deemed</font>

107
00:04:16,048 --> 00:04:19,948
suitable punishment for flapping

108
00:04:17,789 --> 00:04:22,320
prefixes at the time it's pretty hard to

109
00:04:19,949 --> 00:04:24,030
explain<font color="#E5E5E5"> to customers that well yeah you</font>

110
00:04:22,320 --> 00:04:25,930
saw you flap your prefix three times

111
00:04:24,030 --> 00:04:28,008
you're not getting internet for now

112
00:04:25,930 --> 00:04:30,020
okay it's a bit ly can you switch off

113
00:04:28,009 --> 00:04:31,220
the electricity in your house<font color="#E5E5E5"> and the</font>

114
00:04:30,020 --> 00:04:33,020
electricity<font color="#E5E5E5"> company doesn't give you</font>

115
00:04:31,220 --> 00:04:37,099
supply for another day just because you

116
00:04:33,020 --> 00:04:40,818
flick<font color="#CCCCCC"> the switch so it's anyway</font><font color="#E5E5E5"> so it</font>

117
00:04:37,099 --> 00:04:42,830
was quite punitive don't Lee applied to

118
00:04:40,819 --> 00:04:44,449
inbound<font color="#E5E5E5"> announcements from ebgp peers</font>

119
00:04:42,830 --> 00:04:46,609
and only the path had actually flapped

120
00:04:44,449 --> 00:04:48,949
got punished so if the backup path store

121
00:04:46,610 --> 00:04:51,039
worked then while you would have best

122
00:04:48,949 --> 00:04:53,660
path selection that would use the backup

123
00:04:51,039 --> 00:04:55,580
and<font color="#E5E5E5"> your various values that you could</font>

124
00:04:53,660 --> 00:04:57,340
tweak so you could tune the flap damping

125
00:04:55,580 --> 00:04:59,750
to pretty much whatever you want

126
00:04:57,340 --> 00:05:01,758
unfortunately most isp's just chose to

127
00:04:59,750 --> 00:05:06,490
<font color="#E5E5E5">use fender defaults and that was</font><font color="#CCCCCC"> part of</font>

128
00:05:01,759 --> 00:05:09,080
<font color="#CCCCCC">the reason for the death of flap damping</font>

129
00:05:06,490 --> 00:05:11,870
so anyway first implementations on

130
00:05:09,080 --> 00:05:13,969
internet<font color="#CCCCCC"> right about 1995</font><font color="#E5E5E5"> vendor</font>

131
00:05:11,870 --> 00:05:16,310
defaults with<font color="#E5E5E5"> too severe I mean first</font>

132
00:05:13,970 --> 00:05:18,409
implementation<font color="#E5E5E5"> was on iOS very severe</font>

133
00:05:16,310 --> 00:05:21,409
defaults but then in Cisco's defense

134
00:05:18,409 --> 00:05:23,419
what enough should anybody use you<font color="#CCCCCC"> ask</font>

135
00:05:21,409 --> 00:05:26,300
to deploy something what should good

136
00:05:23,419 --> 00:05:27,979
numbers actually be so the ripe routing

137
00:05:26,300 --> 00:05:30,289
working group tried to figure out what

138
00:05:27,979 --> 00:05:33,050
good number should be so right 178

139
00:05:30,289 --> 00:05:35,960
document was the first attempt at trying

140
00:05:33,050 --> 00:05:39,470
to<font color="#E5E5E5"> produce some sensible</font><font color="#CCCCCC"> visor</font><font color="#E5E5E5"> / 24 s</font>

141
00:05:35,960 --> 00:05:41,210
got hit really hard 22 and 23 s got hit

142
00:05:39,470 --> 00:05:43,190
a little bit and everything else pretty

143
00:05:41,210 --> 00:05:44,840
much got left or alone because the

144
00:05:43,190 --> 00:05:46,280
minimum allocation<font color="#CCCCCC"> that the registers</font>

145
00:05:44,840 --> 00:05:48,799
were handing out brand about<font color="#E5E5E5"> those days</font>

146
00:05:46,280 --> 00:05:52,698
was a / 19 or a / 20 so we didn't want

147
00:05:48,800 --> 00:05:55,219
<font color="#E5E5E5">to punish those ripe to 10 what did</font><font color="#CCCCCC"> ripe</font>

148
00:05:52,699 --> 00:05:58,400
<font color="#CCCCCC">210 do i forgot</font><font color="#E5E5E5"> i think ripe do to not</font>

149
00:05:55,219 --> 00:06:00,469
know right<font color="#E5E5E5"> yeah right to 10</font><font color="#CCCCCC"> introduce</font>

150
00:05:58,400 --> 00:06:01,969
the root nameservers because we thought

151
00:06:00,469 --> 00:06:05,180
well it's probably not a very good<font color="#E5E5E5"> idea</font>

152
00:06:01,969 --> 00:06:07,699
to<font color="#CCCCCC"> flat damp the root nameservers and</font>

153
00:06:05,180 --> 00:06:10,460
then<font color="#E5E5E5"> write</font><font color="#CCCCCC"> to 29 introduced and</font>

154
00:06:07,699 --> 00:06:12,560
configuration examples for cisco juniper

155
00:06:10,460 --> 00:06:15,258
foundry and a few others as far think

156
00:06:12,560 --> 00:06:17,060
<font color="#E5E5E5">those do we have</font><font color="#CCCCCC"> I forgot Benway was a</font>

157
00:06:15,259 --> 00:06:19,840
few vendor examples as well and as a

158
00:06:17,060 --> 00:06:21,710
nice website you go to an all the rest

159
00:06:19,840 --> 00:06:24,530
unfortunately in spite of the working

160
00:06:21,710 --> 00:06:25,880
groups best efforts many isps just

161
00:06:24,530 --> 00:06:27,469
switched on the vendor defaults because

162
00:06:25,880 --> 00:06:29,240
well they looked in the<font color="#CCCCCC"> Cisco or</font><font color="#E5E5E5"> juniper</font>

163
00:06:27,469 --> 00:06:32,659
manual and said what to do and that's

164
00:06:29,240 --> 00:06:35,500
<font color="#E5E5E5">what they did those no mention of actual</font>

165
00:06:32,659 --> 00:06:38,210
the ripe writing working group work and

166
00:06:35,500 --> 00:06:40,580
<font color="#E5E5E5">then we had folks like more</font><font color="#CCCCCC"> lamar</font>

167
00:06:38,210 --> 00:06:44,258
<font color="#E5E5E5">and tim Griffin and Craig</font><font color="#CCCCCC"> Lebovitz</font>

168
00:06:40,580 --> 00:06:47,448
<font color="#E5E5E5">neighborhood sure Andy Bush looking at</font>

169
00:06:44,259 --> 00:06:49,789
well impacts of flat damping just

170
00:06:47,449 --> 00:06:51,680
amongst other things so certainly more

171
00:06:49,789 --> 00:06:53,360
<font color="#E5E5E5">than</font><font color="#CCCCCC"> Mao's work right flap damping</font>

172
00:06:51,680 --> 00:06:55,270
exacerbates<font color="#CCCCCC"> Internet routing convergence</font>

173
00:06:53,360 --> 00:06:57,949
<font color="#E5E5E5">she actually was showing</font><font color="#CCCCCC"> that</font>

174
00:06:55,270 --> 00:07:01,400
convergence<font color="#E5E5E5"> Lord if you implemented flat</font>

175
00:06:57,949 --> 00:07:03,500
damping Tim Griffin's what's the sound

176
00:07:01,400 --> 00:07:05,508
of one<font color="#E5E5E5"> Road flapping supposes meant to</font>

177
00:07:03,500 --> 00:07:07,160
be<font color="#CCCCCC"> copying the name of the what's the</font>

178
00:07:05,509 --> 00:07:09,080
sound of one hand clapping the book but

179
00:07:07,160 --> 00:07:11,000
anyway what's the sound of one<font color="#CCCCCC"> road</font>

180
00:07:09,080 --> 00:07:15,320
flapping and it's a lot it's a lot more

181
00:07:11,000 --> 00:07:17,060
<font color="#E5E5E5">than anybody ever expected and Bob you</font>

182
00:07:15,320 --> 00:07:19,699
know<font color="#E5E5E5"> Abba who just work was well known</font>

183
00:07:17,060 --> 00:07:21,080
and she probably para need a lot<font color="#CCCCCC"> of this</font>

184
00:07:19,699 --> 00:07:23,169
<font color="#E5E5E5">looking at what the routing table was</font>

185
00:07:21,080 --> 00:07:25,430
actually doing<font color="#E5E5E5"> in the back in those days</font>

186
00:07:23,169 --> 00:07:26,870
and<font color="#E5E5E5"> then Randy was looking at well</font>

187
00:07:25,430 --> 00:07:28,250
what's the chance of<font color="#CCCCCC"> getting packets</font>

188
00:07:26,870 --> 00:07:29,810
across the internet and you came to

189
00:07:28,250 --> 00:07:31,490
<font color="#E5E5E5">think hundred percent but it wasn't</font>

190
00:07:29,810 --> 00:07:33,680
<font color="#CCCCCC">really that and part of the side effects</font>

191
00:07:31,490 --> 00:07:35,720
of<font color="#E5E5E5"> his analysis was what's all this flap</font>

192
00:07:33,680 --> 00:07:37,520
damping going on here why all these

193
00:07:35,720 --> 00:07:40,599
prefixes being amplified and all the

194
00:07:37,520 --> 00:07:44,240
rest so it actually looked quite scary

195
00:07:40,599 --> 00:07:45,979
problem one path flaps well bgp speakers

196
00:07:44,240 --> 00:07:48,110
pick the branch next<font color="#E5E5E5"> best</font><font color="#CCCCCC"> pathway an</font>

197
00:07:45,979 --> 00:07:51,229
answer to all peers flat count is

198
00:07:48,110 --> 00:07:52,699
incremented that's fine the<font color="#CCCCCC"> PRC a change</font>

199
00:07:51,229 --> 00:07:54,889
in path will guess what happened path

200
00:07:52,699 --> 00:07:57,169
changes attribute changes they all

201
00:07:54,889 --> 00:07:59,449
increment the<font color="#CCCCCC"> fat counter as well now</font>

202
00:07:57,169 --> 00:08:01,460
<font color="#E5E5E5">for a few hops</font><font color="#CCCCCC"> pse multiple changes and</font>

203
00:07:59,449 --> 00:08:03,740
all come from different places<font color="#E5E5E5"> to your</font>

204
00:08:01,460 --> 00:08:05,239
flat counters are going berserk so I

205
00:08:03,740 --> 00:08:06,919
didn't<font color="#E5E5E5"> really believe this but mean I</font>

206
00:08:05,240 --> 00:08:09,580
was doing yes when I started off doing

207
00:08:06,919 --> 00:08:12,289
my<font color="#CCCCCC"> multi-homing things about 2000 2001</font>

208
00:08:09,580 --> 00:08:15,198
helping some<font color="#E5E5E5"> ISPs multi-home announced</font>

209
00:08:12,289 --> 00:08:17,810
once / 24 but ten minutes later went to

210
00:08:15,199 --> 00:08:19,729
write views and has a flat 15 times<font color="#CCCCCC"> on</font>

211
00:08:17,810 --> 00:08:21,710
<font color="#E5E5E5">right fusion</font><font color="#CCCCCC"> is like</font><font color="#E5E5E5"> okay I've just</font>

212
00:08:19,729 --> 00:08:24,650
announced this prefix how can it flat 15

213
00:08:21,710 --> 00:08:26,690
times and then of<font color="#CCCCCC"> course you look at all</font>

214
00:08:24,650 --> 00:08:28,969
the work am I cited<font color="#CCCCCC"> on the previous</font>

215
00:08:26,690 --> 00:08:31,659
slide and that's exactly what they saw

216
00:08:28,969 --> 00:08:33,950
for the very very similar reasons

217
00:08:31,659 --> 00:08:36,860
different beachfl implementations have

218
00:08:33,950 --> 00:08:38,329
different transit time for prefixes okay

219
00:08:36,860 --> 00:08:40,130
so some of them have<font color="#E5E5E5"> got this minimum</font>

220
00:08:38,328 --> 00:08:41,958
right advertisement<font color="#CCCCCC"> intervals select</font>

221
00:08:40,130 --> 00:08:44,329
hold on to prefix before they pass it on

222
00:08:41,958 --> 00:08:46,760
others don't so you've got this race to

223
00:08:44,329 --> 00:08:48,199
the finish line so if<font color="#CCCCCC"> your prefixes run</font>

224
00:08:46,760 --> 00:08:49,670
through an old<font color="#E5E5E5"> juniper network will get</font>

225
00:08:48,199 --> 00:08:50,839
their time a they run through<font color="#CCCCCC"> an all</font>

226
00:08:49,670 --> 00:08:53,479
<font color="#CCCCCC">cisco network we get there</font>

227
00:08:50,840 --> 00:08:55,670
time be if the run through a<font color="#E5E5E5"> 50-50</font><font color="#CCCCCC"> Cisco</font>

228
00:08:53,480 --> 00:08:57,740
juniper network or a s path the get time

229
00:08:55,670 --> 00:08:59,270
<font color="#E5E5E5">see time d and all the rest so you've</font>

230
00:08:57,740 --> 00:09:01,430
got this avalanche of announcements all

231
00:08:59,270 --> 00:09:03,110
writing at different times and so of

232
00:09:01,430 --> 00:09:08,329
course<font color="#E5E5E5"> the end site see this is multiple</font>

233
00:09:03,110 --> 00:09:10,610
flaps solution don't use right flap

234
00:09:08,330 --> 00:09:13,850
damping very easy just<font color="#CCCCCC"> don't do it</font>

235
00:09:10,610 --> 00:09:16,430
anywhere at all because it will

236
00:09:13,850 --> 00:09:18,620
unnecessarily impair access to the

237
00:09:16,430 --> 00:09:19,910
network and to the<font color="#CCCCCC"> Internet now I'm</font>

238
00:09:18,620 --> 00:09:21,800
going<font color="#E5E5E5"> to show you some stuff in and</font>

239
00:09:19,910 --> 00:09:23,780
<font color="#E5E5E5">probably about 20 minutes time or so</font>

240
00:09:21,800 --> 00:09:26,089
which probably makes us think that we

241
00:09:23,780 --> 00:09:28,640
<font color="#CCCCCC">really need to revisit this flat damping</font>

242
00:09:26,090 --> 00:09:31,400
thing but we need to<font color="#E5E5E5"> revisit in a way</font>

243
00:09:28,640 --> 00:09:34,130
that actually makes it work for us<font color="#E5E5E5"> I</font>

244
00:09:31,400 --> 00:09:36,890
mean a right routing working group we

245
00:09:34,130 --> 00:09:38,330
did ripe 378 which basically explained

246
00:09:36,890 --> 00:09:40,010
the last few slides like what the

247
00:09:38,330 --> 00:09:42,020
problems are what not to do and

248
00:09:40,010 --> 00:09:45,380
basically just don't do flat damping at

249
00:09:42,020 --> 00:09:47,390
all so if<font color="#E5E5E5"> you're still running flat</font>

250
00:09:45,380 --> 00:09:48,740
damping<font color="#CCCCCC"> probably should go home</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> just</font>

251
00:09:47,390 --> 00:09:50,780
switch it off because it's<font color="#E5E5E5"> not doing you</font>

252
00:09:48,740 --> 00:09:52,760
any favors some people still ask me

253
00:09:50,780 --> 00:09:55,220
should<font color="#CCCCCC"> I still do</font><font color="#E5E5E5"> this was my customers</font>

254
00:09:52,760 --> 00:09:58,460
well if your customers talking bgp to

255
00:09:55,220 --> 00:10:03,530
you and they flap the prefix well that's

256
00:09:58,460 --> 00:10:05,060
probably their issue but but if it's if

257
00:10:03,530 --> 00:10:06,589
they've only got one router miss talking

258
00:10:05,060 --> 00:10:08,089
bgp to you it's unlikely they're going

259
00:10:06,590 --> 00:10:09,800
to flap a prefix what they're going to

260
00:10:08,090 --> 00:10:11,570
do is shut the bgp session<font color="#E5E5E5"> down and</font>

261
00:10:09,800 --> 00:10:13,339
that's<font color="#E5E5E5"> not kind of as a flap anyway so</font>

262
00:10:11,570 --> 00:10:15,620
there's<font color="#CCCCCC"> probably not much benefit there</font>

263
00:10:13,340 --> 00:10:17,300
but certainly fab riding transit to any

264
00:10:15,620 --> 00:10:19,760
autonomous systems you really don't want

265
00:10:17,300 --> 00:10:23,990
to do right flat damping at all as it is

266
00:10:19,760 --> 00:10:26,510
<font color="#E5E5E5">implemented today okay using communities</font>

267
00:10:23,990 --> 00:10:28,010
so here's<font color="#E5E5E5"> some examples of how I espèce</font>

268
00:10:26,510 --> 00:10:30,110
will use communities I<font color="#E5E5E5"> kind of</font>

269
00:10:28,010 --> 00:10:31,910
introduced communities before<font color="#E5E5E5"> this is</font>

270
00:10:30,110 --> 00:10:35,000
another scaling technique it's<font color="#E5E5E5"> not a</font>

271
00:10:31,910 --> 00:10:37,610
specific bgp scaling technique but it's

272
00:10:35,000 --> 00:10:41,690
useful<font color="#CCCCCC"> for helping isp scale their</font>

273
00:10:37,610 --> 00:10:44,540
network operation first<font color="#E5E5E5"> thing is</font><font color="#CCCCCC"> the no</font>

274
00:10:41,690 --> 00:10:47,270
recommended<font color="#E5E5E5"> isp communities the new isp</font>

275
00:10:44,540 --> 00:10:49,670
bgp communities at all as I've seen 1998

276
00:10:47,270 --> 00:10:52,280
which is<font color="#E5E5E5"> really just Tony Bates and crew</font>

277
00:10:49,670 --> 00:10:53,870
at<font color="#E5E5E5"> internet MCI back in those days just</font>

278
00:10:52,280 --> 00:10:56,390
saying hey we use these communities to

279
00:10:53,870 --> 00:10:58,310
do this and they wrote<font color="#CCCCCC"> it down back in</font>

280
00:10:56,390 --> 00:11:01,209
the doors those days when<font color="#CCCCCC"> you just write</font>

281
00:10:58,310 --> 00:11:03,439
stuff down and out of season it was

282
00:11:01,209 --> 00:11:06,018
the defy standard communities i

283
00:11:03,440 --> 00:11:09,140
mentioned earlier there were efforts

284
00:11:06,019 --> 00:11:13,459
made to document them so there was<font color="#CCCCCC"> that</font>

285
00:11:09,140 --> 00:11:15,800
draft that's<font color="#E5E5E5"> what UCL in belgium so that</font>

286
00:11:13,459 --> 00:11:18,079
was a<font color="#CCCCCC"> bgp</font><font color="#E5E5E5"> community survey which only</font>

287
00:11:15,800 --> 00:11:19,969
ever got to the<font color="#E5E5E5"> first draft stage but</font>

288
00:11:18,079 --> 00:11:22,310
doesn't really be nothing else folks

289
00:11:19,970 --> 00:11:23,660
that wanna see a documenting<font color="#E5E5E5"> isp</font>

290
00:11:22,310 --> 00:11:26,209
communities as they come across<font color="#E5E5E5"> them</font>

291
00:11:23,660 --> 00:11:30,469
which is<font color="#E5E5E5"> good and then of course</font><font color="#CCCCCC"> there</font>

292
00:11:26,209 --> 00:11:32,959
was the<font color="#CCCCCC"> nano tutorial nano 40 was it</font>

293
00:11:30,470 --> 00:11:37,160
gone who did it I think was Richard

294
00:11:32,959 --> 00:11:39,500
<font color="#CCCCCC">steenburgen I think I'm Nanak 40</font>

295
00:11:37,160 --> 00:11:42,949
tutorial which basically showed some of

296
00:11:39,500 --> 00:11:44,870
the typical communities that is PSU's so

297
00:11:42,950 --> 00:11:46,519
again was another nice attempt to trying

298
00:11:44,870 --> 00:11:49,579
to document what was going what was

299
00:11:46,519 --> 00:11:50,890
going on<font color="#E5E5E5"> or what is going on I speak</font>

300
00:11:49,579 --> 00:11:53,750
<font color="#E5E5E5">public policy is usually published</font>

301
00:11:50,890 --> 00:11:55,279
sometimes it goes on<font color="#E5E5E5"> the website usually</font>

302
00:11:53,750 --> 00:11:58,149
in an Operations page or something<font color="#CCCCCC"> like</font>

303
00:11:55,279 --> 00:12:01,820
that<font color="#CCCCCC"> or maybe the BGP peering page or or</font>

304
00:11:58,149 --> 00:12:02,990
bgp setup page to all the pans some of

305
00:12:01,820 --> 00:12:06,110
<font color="#E5E5E5">them actually put</font><font color="#CCCCCC"> it in an Internet</font>

306
00:12:02,990 --> 00:12:07,640
routing registry some ISPs actually use

307
00:12:06,110 --> 00:12:10,880
that<font color="#CCCCCC"> and you'll see what the community</font>

308
00:12:07,640 --> 00:12:12,770
policy is in there sort<font color="#E5E5E5"> of throw in some</font>

309
00:12:10,880 --> 00:12:14,120
examples up on the screen those of you

310
00:12:12,770 --> 00:12:15,410
at the back are going of real problem

311
00:12:14,120 --> 00:12:17,200
seeing this one but you can go to

312
00:12:15,410 --> 00:12:20,719
sprint's website and you can find<font color="#E5E5E5"> out</font>

313
00:12:17,200 --> 00:12:22,220
what<font color="#E5E5E5"> they actually do some of you the</font>

314
00:12:20,720 --> 00:12:24,890
front agron of<font color="#CCCCCC"> real problems you've been</font>

315
00:12:22,220 --> 00:12:27,680
reading this and but you know for

316
00:12:24,890 --> 00:12:32,000
<font color="#CCCCCC">example this one here says 65 or 1 colon</font>

317
00:12:27,680 --> 00:12:36,589
XXX and it says do a single s path

318
00:12:32,000 --> 00:12:38,990
prepend of 1239 towards a s XXX so if

319
00:12:36,589 --> 00:12:42,050
you send these communities<font color="#CCCCCC"> they</font><font color="#E5E5E5"> 6500 for</font>

320
00:12:38,990 --> 00:12:43,430
<font color="#E5E5E5">callin XXX towards sprint viewer if</font>

321
00:12:42,050 --> 00:12:46,219
you're a customer of theirs or peer of

322
00:12:43,430 --> 00:12:48,469
layers they will do a<font color="#CCCCCC"> 4 x</font><font color="#E5E5E5"> prepend ave s</font>

323
00:12:46,220 --> 00:12:52,760
<font color="#E5E5E5">1 239 when you announce that prefix</font>

324
00:12:48,470 --> 00:12:54,230
towards a XXX that can be handy<font color="#CCCCCC"> i mean</font>

325
00:12:52,760 --> 00:12:55,640
if you want<font color="#E5E5E5"> to do some traffic engineer</font>

326
00:12:54,230 --> 00:12:57,860
<font color="#CCCCCC">view if you want to sprint for your</font>

327
00:12:55,640 --> 00:12:58,970
major traffic between them and you but

328
00:12:57,860 --> 00:13:00,949
you don't want them for your major

329
00:12:58,970 --> 00:13:02,810
traffic die nowhere else why you can do

330
00:13:00,949 --> 00:13:06,620
or four times prepend towards wherever

331
00:13:02,810 --> 00:13:08,029
then ever else is or you can<font color="#E5E5E5"> do the</font><font color="#CCCCCC"> same</font>

332
00:13:06,620 --> 00:13:11,029
thing in asia or you can do the<font color="#CCCCCC"> same</font>

333
00:13:08,029 --> 00:13:12,439
thing in<font color="#E5E5E5"> europe and so forth okay and</font>

334
00:13:11,029 --> 00:13:13,580
they<font color="#E5E5E5"> the list appears that they have</font>

335
00:13:12,440 --> 00:13:15,080
there

336
00:13:13,580 --> 00:13:17,450
the communities that<font color="#E5E5E5"> are supported there</font>

337
00:13:15,080 --> 00:13:19,580
so you can go<font color="#CCCCCC"> and configure this as you</font>

338
00:13:17,450 --> 00:13:24,530
as you wish more info on the website as

339
00:13:19,580 --> 00:13:26,540
<font color="#CCCCCC">I said apt this is an Australia this is</font>

340
00:13:24,530 --> 00:13:29,120
what used to be connect now bought by a

341
00:13:26,540 --> 00:13:31,520
PT they've got some communities<font color="#CCCCCC"> they</font>

342
00:13:29,120 --> 00:13:34,220
listed in the routing registry here so

343
00:13:31,520 --> 00:13:37,460
for example 2764 colon<font color="#E5E5E5"> to if you send an</font>

344
00:13:34,220 --> 00:13:39,050
app that community on the prefixes you

345
00:13:37,460 --> 00:13:40,850
announce to them they will only

346
00:13:39,050 --> 00:13:42,709
announced this prefix within the local

347
00:13:40,850 --> 00:13:46,460
pop they will<font color="#E5E5E5"> not send it anywhere else</font>

348
00:13:42,710 --> 00:13:48,020
<font color="#E5E5E5">at all if you send them to 7 64 call and</font>

349
00:13:46,460 --> 00:13:50,180
for they will local the<font color="#CCCCCC"> law preference</font>

350
00:13:48,020 --> 00:13:51,920
local preference by 15 remember what I

351
00:13:50,180 --> 00:13:54,349
said about<font color="#E5E5E5"> Amy DS not really being used</font>

352
00:13:51,920 --> 00:13:56,510
anymore well this<font color="#CCCCCC"> is the alternative you</font>

353
00:13:54,350 --> 00:13:58,910
send this community here and they will

354
00:13:56,510 --> 00:14:02,630
lower the<font color="#CCCCCC"> meed on that particular path</font>

355
00:13:58,910 --> 00:14:04,390
from the default<font color="#E5E5E5"> of 100 285 so in other</font>

356
00:14:02,630 --> 00:14:09,410
words giving you the same effect<font color="#E5E5E5"> as</font>

357
00:14:04,390 --> 00:14:12,590
sending em Edie's<font color="#E5E5E5"> okay who</font><font color="#CCCCCC"> else</font><font color="#E5E5E5"> small</font>

358
00:14:09,410 --> 00:14:14,540
verizon business in Europe I've no idea

359
00:14:12,590 --> 00:14:17,240
what verizon business in the u.s. do but

360
00:14:14,540 --> 00:14:19,400
<font color="#E5E5E5">this is a s7 or to anybody who's</font>

361
00:14:17,240 --> 00:14:22,400
<font color="#CCCCCC">associate with a s72 will know these as</font>

362
00:14:19,400 --> 00:14:24,650
I know them similar to 8a state local

363
00:14:22,400 --> 00:14:27,230
<font color="#CCCCCC">pref 80 within a s7 or two so if you as</font>

364
00:14:24,650 --> 00:14:29,420
a customer of<font color="#CCCCCC"> 70</font><font color="#E5E5E5"> to send them 72</font><font color="#CCCCCC"> cullen</font>

365
00:14:27,230 --> 00:14:31,370
ATM your announcements they will set

366
00:14:29,420 --> 00:14:34,010
local privately on those prefixes all

367
00:14:31,370 --> 00:14:36,620
they will set local pref 120 on those

368
00:14:34,010 --> 00:14:39,470
prefixes so again it works like m.ed

369
00:14:36,620 --> 00:14:41,510
does or used to do you send them that

370
00:14:39,470 --> 00:14:44,210
community and why the raise the local

371
00:14:41,510 --> 00:14:47,930
pref or lower the local prep so useful

372
00:14:44,210 --> 00:14:49,940
for traffic engineering and<font color="#CCCCCC"> 702</font><font color="#E5E5E5"> colon</font>

373
00:14:47,930 --> 00:14:52,010
one does a single pre pants under 22

374
00:14:49,940 --> 00:14:53,960
does double<font color="#E5E5E5"> prepay and 7 or 23 does</font>

375
00:14:52,010 --> 00:14:56,120
triple prepend these seem<font color="#CCCCCC"> to</font><font color="#E5E5E5"> be very</font>

376
00:14:53,960 --> 00:14:57,740
common not only verizon does these quite

377
00:14:56,120 --> 00:14:59,210
a few<font color="#CCCCCC"> other eyes piece i know do these</font>

378
00:14:57,740 --> 00:15:01,970
ones so i think<font color="#E5E5E5"> these they're pretty</font>

379
00:14:59,210 --> 00:15:03,800
<font color="#E5E5E5">much even though they're not standard</font>

380
00:15:01,970 --> 00:15:07,070
that pretty much industry de facto

381
00:15:03,800 --> 00:15:08,300
standard values that have been used and

382
00:15:07,070 --> 00:15:09,710
the various other ones i'm not going<font color="#E5E5E5"> to</font>

383
00:15:08,300 --> 00:15:12,380
<font color="#E5E5E5">go through them all but you can see the</font>

384
00:15:09,710 --> 00:15:14,030
examples here do different pre pens and

385
00:15:12,380 --> 00:15:17,930
<font color="#E5E5E5">lance mints in different regions and so</font>

386
00:15:14,030 --> 00:15:19,310
forth BTW ignite this is the<font color="#CCCCCC"> past.more</font>

387
00:15:17,930 --> 00:15:22,430
<font color="#CCCCCC">worldwide network but definitely</font>

388
00:15:19,310 --> 00:15:25,339
european network and typically many

389
00:15:22,430 --> 00:15:27,290
years ago had a hugely complex set of

390
00:15:25,340 --> 00:15:29,149
communities which I thought were great

391
00:15:27,290 --> 00:15:31,819
you don't seem to have them anymore but

392
00:15:29,149 --> 00:15:34,910
BTW ignite borrowed them and so they

393
00:15:31,820 --> 00:15:36,589
have implemented them like this<font color="#E5E5E5"> and so</font>

394
00:15:34,910 --> 00:15:39,920
you look<font color="#E5E5E5"> at them again if you look in</font>

395
00:15:36,589 --> 00:15:43,970
<font color="#CCCCCC">the AS object and the ripe routing</font>

396
00:15:39,920 --> 00:15:46,610
registry you'll see things like 5400

397
00:15:43,970 --> 00:15:48,769
<font color="#E5E5E5">colon 1000 if you attach that to a</font>

398
00:15:46,610 --> 00:15:51,920
prefix they will not<font color="#E5E5E5"> announce it to any</font>

399
00:15:48,769 --> 00:15:53,959
of their peers or transits or if you

400
00:15:51,920 --> 00:15:56,689
send them 5400<font color="#CCCCCC"> call in two thousand</font>

401
00:15:53,959 --> 00:16:00,319
they'll do a single prepend or 5402 all

402
00:15:56,690 --> 00:16:02,420
their peers or transits<font color="#CCCCCC"> okay and</font><font color="#E5E5E5"> then</font>

403
00:16:00,319 --> 00:16:04,430
<font color="#E5E5E5">you've</font><font color="#CCCCCC"> got the transit providers here so</font>

404
00:16:02,420 --> 00:16:06,019
<font color="#E5E5E5">I mean</font><font color="#CCCCCC"> if you want not don't want to</font>

405
00:16:04,430 --> 00:16:08,120
announce the prefix towards sprint you

406
00:16:06,019 --> 00:16:10,009
send in that community if you<font color="#E5E5E5"> don't want</font>

407
00:16:08,120 --> 00:16:12,829
an answer towards AT&T you send that

408
00:16:10,009 --> 00:16:15,470
community and so forth have a look at

409
00:16:12,829 --> 00:16:17,569
the<font color="#CCCCCC"> AR subject it's a huge list pretty</font>

410
00:16:15,470 --> 00:16:18,920
sophisticated list and<font color="#E5E5E5"> I'm sure some of</font>

411
00:16:17,569 --> 00:16:21,110
you could borrow this for your own

412
00:16:18,920 --> 00:16:24,349
network as well so you as a customer

413
00:16:21,110 --> 00:16:27,620
send these communities to bt ignite they

414
00:16:24,350 --> 00:16:30,709
will do what they say up there level<font color="#CCCCCC"> 3</font>

415
00:16:27,620 --> 00:16:32,449
we've got time very complex one again if

416
00:16:30,709 --> 00:16:36,888
you look<font color="#E5E5E5"> in the right providing registry</font>

417
00:16:32,449 --> 00:16:39,199
you'll see this one for<font color="#E5E5E5"> es 3356 summer</font>

418
00:16:36,889 --> 00:16:42,339
stuff you know the<font color="#CCCCCC"> do single pre-paint</font>

419
00:16:39,199 --> 00:16:45,800
appears the juice per single pre pan to

420
00:16:42,339 --> 00:16:48,230
particular<font color="#CCCCCC"> AS that's supported they will</font>

421
00:16:45,800 --> 00:16:50,810
do set local press 70 80 90 pretty

422
00:16:48,230 --> 00:16:53,660
similar to<font color="#E5E5E5"> the m ed ideas there's the</font>

423
00:16:50,810 --> 00:16:55,040
black hole 13 356 color 9999<font color="#CCCCCC"> i was</font>

424
00:16:53,660 --> 00:16:57,290
explaining to somebody<font color="#E5E5E5"> during the break</font>

425
00:16:55,040 --> 00:16:59,750
this is wonderful i wish every isp would

426
00:16:57,290 --> 00:17:02,599
do this if you're being attacked as a

427
00:16:59,750 --> 00:17:04,760
customer<font color="#CCCCCC"> of level 3</font><font color="#E5E5E5"> you basically send</font>

428
00:17:02,600 --> 00:17:07,790
your prefix that's being attacked / 32

429
00:17:04,760 --> 00:17:10,158
with this community tagged onto it and

430
00:17:07,790 --> 00:17:13,928
level 3 will basically<font color="#CCCCCC"> sync the traffic</font>

431
00:17:10,159 --> 00:17:17,000
for that address space into the

432
00:17:13,929 --> 00:17:18,980
distributed sinkhole network it's<font color="#E5E5E5"> pretty</font>

433
00:17:17,000 --> 00:17:20,809
neat it's a way of stopping were not

434
00:17:18,980 --> 00:17:24,349
stopping the<font color="#CCCCCC"> DOS attack</font><font color="#E5E5E5"> but keeping the</font>

435
00:17:20,809 --> 00:17:26,209
<font color="#E5E5E5">DOS attack out of your your</font><font color="#CCCCCC"> down link to</font>

436
00:17:24,349 --> 00:17:27,980
your network if<font color="#E5E5E5"> morais peace around the</font>

437
00:17:26,209 --> 00:17:30,590
world did this and we mean much easier

438
00:17:27,980 --> 00:17:32,720
to work to try and defeat some of these

439
00:17:30,590 --> 00:17:34,760
dos attacks on the group but that's

440
00:17:32,720 --> 00:17:38,150
that's what<font color="#E5E5E5"> level</font><font color="#CCCCCC"> 3 actually supports</font>

441
00:17:34,760 --> 00:17:39,710
which is really nice um<font color="#CCCCCC"> okay so those</font>

442
00:17:38,150 --> 00:17:40,570
are some examples you can find a whole

443
00:17:39,710 --> 00:17:43,120
heap more

444
00:17:40,570 --> 00:17:44,500
sitting around on the network so check

445
00:17:43,120 --> 00:17:47,139
with your upstream provider see if they

446
00:17:44,500 --> 00:17:49,000
support communities at least<font color="#E5E5E5"> some like</font>

447
00:17:47,139 --> 00:17:50,439
this because it can<font color="#CCCCCC"> be really useful for</font>

448
00:17:49,000 --> 00:17:52,389
you doing a traffic engineering<font color="#E5E5E5"> I</font>

449
00:17:50,440 --> 00:17:54,279
<font color="#E5E5E5">generally put this in the</font><font color="#CCCCCC"> multi-homing</font>

450
00:17:52,389 --> 00:17:57,549
tutorial but<font color="#E5E5E5"> I've added into this one</font>

451
00:17:54,279 --> 00:17:59,889
because people always ask me at the

452
00:17:57,549 --> 00:18:01,658
break<font color="#E5E5E5"> okay what about communities for</font>

453
00:17:59,889 --> 00:18:03,309
external bgp don't we do those as well

454
00:18:01,659 --> 00:18:05,350
so<font color="#CCCCCC"> i throw in the men for this this</font>

455
00:18:03,309 --> 00:18:08,320
presentation as well just so you<font color="#CCCCCC"> see how</font>

456
00:18:05,350 --> 00:18:11,678
they how they work so let's<font color="#E5E5E5"> get</font><font color="#CCCCCC"> on to</font>

457
00:18:08,320 --> 00:18:15,309
the second piece deploying bgp learned

458
00:18:11,679 --> 00:18:19,169
all about it what do<font color="#E5E5E5"> we do well look at</font>

459
00:18:15,309 --> 00:18:22,750
<font color="#CCCCCC">the</font><font color="#E5E5E5"> role of bgp versus the igps first</font>

460
00:18:19,169 --> 00:18:25,389
sumagot igps interior routing protocols

461
00:18:22,750 --> 00:18:27,730
<font color="#CCCCCC">ious is an ospf for pretty much the</font>

462
00:18:25,389 --> 00:18:30,850
favorites these days the service

463
00:18:27,730 --> 00:18:33,039
provider space you<font color="#CCCCCC"> don't see many isps</font>

464
00:18:30,850 --> 00:18:34,570
using much else if you look at

465
00:18:33,039 --> 00:18:36,940
enterprise space things a little bit

466
00:18:34,570 --> 00:18:38,678
different eigrp tends to be the

467
00:18:36,940 --> 00:18:42,669
overwhelming favorite but some of us PF

468
00:18:38,679 --> 00:18:45,879
but very much for the service provider

469
00:18:42,669 --> 00:18:48,759
space I<font color="#CCCCCC"> esaias and ospf seem to be dead</font>

470
00:18:45,879 --> 00:18:50,678
heat in popularity the use for carrying

471
00:18:48,759 --> 00:18:52,419
infrastructure addresses your router

472
00:18:50,679 --> 00:18:53,980
loot bags your point-to-point links

473
00:18:52,419 --> 00:18:58,059
within your infrastructure and that is

474
00:18:53,980 --> 00:19:00,279
all nothing else full stop<font color="#CCCCCC"> okay design</font>

475
00:18:58,059 --> 00:19:02,639
goal for most are ESPYs<font color="#CCCCCC"> is to minimize</font>

476
00:19:00,279 --> 00:19:05,080
the number prefix is carried in the<font color="#CCCCCC"> IGP</font>

477
00:19:02,639 --> 00:19:06,939
so you don't put internet prefixes there

478
00:19:05,080 --> 00:19:09,460
you do not redistribute from bgp into

479
00:19:06,940 --> 00:19:11,860
iOS is even though the command exists

480
00:19:09,460 --> 00:19:13,509
does not mean it's a good thing to do do

481
00:19:11,860 --> 00:19:15,758
not go whining to your vendor that you

482
00:19:13,509 --> 00:19:17,470
cannot do it again it does or doesn't

483
00:19:15,759 --> 00:19:20,769
work<font color="#E5E5E5"> properly or your router crashes an</font>

484
00:19:17,470 --> 00:19:24,070
igp is not intended to<font color="#E5E5E5"> carry 270,000</font>

485
00:19:20,769 --> 00:19:25,840
prefixes don't put your customers there

486
00:19:24,070 --> 00:19:27,668
either a lot<font color="#CCCCCC"> of</font><font color="#E5E5E5"> people still seem to</font>

487
00:19:25,840 --> 00:19:29,830
<font color="#E5E5E5">think yeah we'll drop our customers into</font>

488
00:19:27,669 --> 00:19:31,690
ospf then will redistribute ospf into

489
00:19:29,830 --> 00:19:33,639
bgp at the border and hey everything

490
00:19:31,690 --> 00:19:35,139
will work just nicely well<font color="#CCCCCC"> i'm sure</font>

491
00:19:33,639 --> 00:19:37,029
<font color="#CCCCCC">something</font><font color="#E5E5E5"> will work with you got if</font>

492
00:19:35,139 --> 00:19:38,918
you've got<font color="#E5E5E5"> 10 customers but when you've</font>

493
00:19:37,029 --> 00:19:40,809
<font color="#E5E5E5">got 10,000 it may not work so well</font>

494
00:19:38,919 --> 00:19:43,240
convergence of your<font color="#CCCCCC"> network will really</font>

495
00:19:40,809 --> 00:19:44,740
be severely impacted so most design

496
00:19:43,240 --> 00:19:48,580
goals are to minimize the number of

497
00:19:44,740 --> 00:19:51,779
prefixes in<font color="#CCCCCC"> igp put them all into bgp</font>

498
00:19:48,580 --> 00:19:54,659
we've seen this before the first half

499
00:19:51,779 --> 00:19:56,440
you've got ibgp annie bgp

500
00:19:54,660 --> 00:19:58,300
treat them as different routing

501
00:19:56,440 --> 00:20:00,670
protocols with different aims in life

502
00:19:58,300 --> 00:20:01,870
and then you won't<font color="#E5E5E5"> go far wrong I'm</font>

503
00:20:00,670 --> 00:20:04,870
going<font color="#CCCCCC"> to come</font><font color="#E5E5E5"> back to that particular</font>

504
00:20:01,870 --> 00:20:08,469
theme a little bit later on<font color="#E5E5E5"> when I start</font>

505
00:20:04,870 --> 00:20:10,090
one of<font color="#E5E5E5"> my favorite rents</font><font color="#CCCCCC"> okay</font><font color="#E5E5E5"> ibgp</font>

506
00:20:08,470 --> 00:20:12,880
that's where you<font color="#E5E5E5"> put your customer</font>

507
00:20:10,090 --> 00:20:15,310
prefixes<font color="#E5E5E5"> I bgb put your internet</font>

508
00:20:12,880 --> 00:20:17,950
prefixes the prefix you<font color="#E5E5E5"> laughing appears</font>

509
00:20:15,310 --> 00:20:19,870
in your transit in<font color="#CCCCCC"> their ebgp is what</font>

510
00:20:17,950 --> 00:20:21,910
you exchange or what you use to exchange

511
00:20:19,870 --> 00:20:24,699
prefixes with other autonomous systems

512
00:20:21,910 --> 00:20:26,860
okay<font color="#CCCCCC"> what</font><font color="#E5E5E5"> goes</font><font color="#CCCCCC"> in</font><font color="#E5E5E5"> ebgp is not</font>

513
00:20:24,700 --> 00:20:30,070
necessarily<font color="#E5E5E5"> the same as what goes on I</font>

514
00:20:26,860 --> 00:20:34,120
bgp that's the model we've seen<font color="#E5E5E5"> that</font>

515
00:20:30,070 --> 00:20:37,450
before do not do not distribute bgp into

516
00:20:34,120 --> 00:20:39,909
or<font color="#E5E5E5"> spare for iOS yes the command exists</font>

517
00:20:37,450 --> 00:20:42,310
doesn't mean it works very<font color="#E5E5E5"> well don't</font>

518
00:20:39,910 --> 00:20:44,050
distribute<font color="#CCCCCC"> IGP into bgp yes the command</font>

519
00:20:42,310 --> 00:20:47,350
exists but it probably<font color="#CCCCCC"> won't work so</font>

520
00:20:44,050 --> 00:20:49,389
well either you probably cause bgp to go

521
00:20:47,350 --> 00:20:52,659
into frenzy because ospf an IRS IRS

522
00:20:49,390 --> 00:20:55,450
change very rapidly and a lot bgp does

523
00:20:52,660 --> 00:20:57,850
not like change so if you want bgp

524
00:20:55,450 --> 00:21:01,300
process to go more gobble a lot of your

525
00:20:57,850 --> 00:21:04,659
<font color="#E5E5E5">cpu carry on redistributed don't use an</font>

526
00:21:01,300 --> 00:21:06,190
igp to carry customer prefixes if you

527
00:21:04,660 --> 00:21:09,370
don't do any of<font color="#E5E5E5"> these things you met</font>

528
00:21:06,190 --> 00:21:11,140
with will not scale goods<font color="#CCCCCC"> i mean i'm not</font>

529
00:21:09,370 --> 00:21:13,209
just<font color="#E5E5E5"> saying because i'm standing up here</font>

530
00:21:11,140 --> 00:21:15,100
saying that this<font color="#CCCCCC"> is like the experience</font>

531
00:21:13,210 --> 00:21:17,830
over the last 15<font color="#CCCCCC"> years of</font><font color="#E5E5E5"> seeing eyes</font>

532
00:21:15,100 --> 00:21:19,959
peas build the<font color="#CCCCCC"> networks this is the</font>

533
00:21:17,830 --> 00:21:24,220
really only way to try<font color="#E5E5E5"> and get scalable</font>

534
00:21:19,960 --> 00:21:29,800
networks to function putting prefixes

535
00:21:24,220 --> 00:21:32,830
into ibgp well I bgp Gary's customer

536
00:21:29,800 --> 00:21:34,270
prefixes don't use<font color="#E5E5E5"> ospf is ours journey</font>

537
00:21:32,830 --> 00:21:36,610
point a static towards the customer

538
00:21:34,270 --> 00:21:38,350
interface<font color="#CCCCCC"> network statement put the</font>

539
00:21:36,610 --> 00:21:39,939
network into the<font color="#E5E5E5"> bgp process network</font>

540
00:21:38,350 --> 00:21:44,379
statement<font color="#E5E5E5"> we distribute whatever you</font>

541
00:21:39,940 --> 00:21:47,680
want to do however you do it you want to

542
00:21:44,380 --> 00:21:50,080
<font color="#E5E5E5">try</font><font color="#CCCCCC"> and also avoid ibgp flaps one</font><font color="#E5E5E5"> leaf</font>

543
00:21:47,680 --> 00:21:52,750
still frequently asked questions is why

544
00:21:50,080 --> 00:21:56,580
bgp churning a lot can we get flap

545
00:21:52,750 --> 00:21:59,350
damping for ibgp please no you cannot

546
00:21:56,580 --> 00:22:01,510
<font color="#E5E5E5">okay and the reason I say no you cannot</font>

547
00:21:59,350 --> 00:22:05,740
just because well if your network design

548
00:22:01,510 --> 00:22:07,540
is broken then well you're fixing it

549
00:22:05,740 --> 00:22:07,960
<font color="#E5E5E5">without yet another feature in BGP is</font>

550
00:22:07,540 --> 00:22:10,330
really<font color="#E5E5E5"> not</font>

551
00:22:07,960 --> 00:22:13,060
the right way interface flap generally

552
00:22:10,330 --> 00:22:14,740
means if you re distributing say from a

553
00:22:13,060 --> 00:22:16,179
static<font color="#E5E5E5"> route into BG people interface</font>

554
00:22:14,740 --> 00:22:18,220
goes down while the static towards the

555
00:22:16,180 --> 00:22:19,840
customer disappears so the prefix gets

556
00:22:18,220 --> 00:22:21,430
withdrawn from ibgp if you're a small

557
00:22:19,840 --> 00:22:23,409
<font color="#CCCCCC">network this probably doesn't matter so</font>

558
00:22:21,430 --> 00:22:24,610
much the big<font color="#E5E5E5"> network you have loads of</font>

559
00:22:23,410 --> 00:22:27,580
customers bring up and down<font color="#CCCCCC"> all the time</font>

560
00:22:24,610 --> 00:22:30,969
you<font color="#E5E5E5"> probably don't</font><font color="#CCCCCC"> want your interfaces</font>

561
00:22:27,580 --> 00:22:33,610
to flap so certainly the some ways ganda

562
00:22:30,970 --> 00:22:35,650
planning implementation to ensure that

563
00:22:33,610 --> 00:22:37,600
<font color="#CCCCCC">the static route is hardwired so it's</font>

564
00:22:35,650 --> 00:22:41,820
<font color="#CCCCCC">always in the routing table so that</font>

565
00:22:37,600 --> 00:22:44,580
you'll never<font color="#E5E5E5"> get a flap in</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> I bgp</font>

566
00:22:41,820 --> 00:22:46,990
aggregation quality or quantity

567
00:22:44,580 --> 00:22:49,210
aggregation<font color="#E5E5E5"> means announcing the address</font>

568
00:22:46,990 --> 00:22:53,230
block you see from<font color="#E5E5E5"> the registry to other</font>

569
00:22:49,210 --> 00:22:54,790
a SS connect to your network I always

570
00:22:53,230 --> 00:22:56,020
<font color="#E5E5E5">kind of thought</font><font color="#CCCCCC"> at me I maybe have been</font>

571
00:22:54,790 --> 00:22:57,040
in this business far too long but I

572
00:22:56,020 --> 00:22:58,660
<font color="#E5E5E5">always thought this was kind of obvious</font>

573
00:22:57,040 --> 00:23:01,540
but it doesn't<font color="#E5E5E5"> seem</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> be obvious</font>

574
00:22:58,660 --> 00:23:04,300
anymore these days sub prefixes of

575
00:23:01,540 --> 00:23:05,800
aggregate can be announced internally

576
00:23:04,300 --> 00:23:08,500
nice p network obviously you're<font color="#CCCCCC"> going to</font>

577
00:23:05,800 --> 00:23:11,980
give sub prefix<font color="#E5E5E5"> to your customers</font><font color="#CCCCCC"> maybe</font>

578
00:23:08,500 --> 00:23:16,000
24 s 23 is 27 29 s those all go into

579
00:23:11,980 --> 00:23:18,040
<font color="#E5E5E5">your ibgp you're being</font><font color="#CCCCCC"> a known sub</font>

580
00:23:16,000 --> 00:23:21,610
prefixes to other a SS to assist<font color="#E5E5E5"> with</font>

581
00:23:18,040 --> 00:23:23,670
<font color="#E5E5E5">multihoming as well ok now the sub</font>

582
00:23:21,610 --> 00:23:25,959
prefix is your<font color="#CCCCCC"> 9 stayed with multihoming</font>

583
00:23:23,670 --> 00:23:28,120
stealing from the<font color="#CCCCCC"> multi-homing tutorial</font>

584
00:23:25,960 --> 00:23:29,650
that sometimes do it's not<font color="#E5E5E5"> a case so if</font>

585
00:23:28,120 --> 00:23:31,149
you<font color="#E5E5E5"> take your address block and jump it</font>

586
00:23:29,650 --> 00:23:32,560
up in the<font color="#E5E5E5"> smallest piece as possible and</font>

587
00:23:31,150 --> 00:23:35,710
just<font color="#CCCCCC"> spray it out there and hope</font>

588
00:23:32,560 --> 00:23:37,300
something works<font color="#CCCCCC"> ok you</font><font color="#E5E5E5"> actually need to</font>

589
00:23:35,710 --> 00:23:38,620
<font color="#E5E5E5">do some proper engineering to try and</font>

590
00:23:37,300 --> 00:23:42,760
figure out where<font color="#E5E5E5"> things should go how</font>

591
00:23:38,620 --> 00:23:43,989
<font color="#CCCCCC">they should go careful work but</font>

592
00:23:42,760 --> 00:23:45,760
<font color="#CCCCCC">unfortunately too many people still</font>

593
00:23:43,990 --> 00:23:48,310
thinking about<font color="#E5E5E5"> class sees or something</font>

594
00:23:45,760 --> 00:23:51,250
or other and the chopping the address

595
00:23:48,310 --> 00:23:54,460
space<font color="#CCCCCC"> they received under 2 / 24 as you</font>

596
00:23:51,250 --> 00:23:56,080
see in a few slides but no it's<font color="#CCCCCC"> getting</font>

597
00:23:54,460 --> 00:23:59,110
close for sixty percent of the routing

598
00:23:56,080 --> 00:24:02,530
table today is made up of / 24 s quite

599
00:23:59,110 --> 00:24:03,639
incredible address block should be

600
00:24:02,530 --> 00:24:06,399
announced<font color="#E5E5E5"> to the</font><font color="#CCCCCC"> Internet as an</font>

601
00:24:03,640 --> 00:24:08,050
aggregate sub prefixes should not be

602
00:24:06,400 --> 00:24:10,690
announced<font color="#CCCCCC"> at all unless we're trying to</font>

603
00:24:08,050 --> 00:24:13,889
do traffic engineering more later while

604
00:24:10,690 --> 00:24:16,120
laters when I next talk about that

605
00:24:13,890 --> 00:24:18,010
<font color="#CCCCCC">aggregate</font><font color="#E5E5E5"> should be generated internally</font>

606
00:24:16,120 --> 00:24:20,229
some<font color="#E5E5E5"> people's generate aggregate in the</font>

607
00:24:18,010 --> 00:24:21,370
border router which is generally fine if

608
00:24:20,230 --> 00:24:23,890
the border router is

609
00:24:21,370 --> 00:24:26,080
within your network physically<font color="#E5E5E5"> if the</font>

610
00:24:23,890 --> 00:24:28,300
border out<font color="#CCCCCC"> of somewhere</font><font color="#E5E5E5"> remote connected</font>

611
00:24:26,080 --> 00:24:30,280
by thin string to your backbone well

612
00:24:28,300 --> 00:24:32,200
that thing's string breaks you still

613
00:24:30,280 --> 00:24:34,720
generate your egra gate and your backup

614
00:24:32,200 --> 00:24:36,670
doesn't no longer works if<font color="#E5E5E5"> you get a</font>

615
00:24:34,720 --> 00:24:37,930
backup<font color="#E5E5E5"> path some other way while your</font>

616
00:24:36,670 --> 00:24:39,880
body route is still announcing<font color="#CCCCCC"> the</font>

617
00:24:37,930 --> 00:24:43,540
aggregate so it gets round internet

618
00:24:39,880 --> 00:24:46,450
close to where your wallet on traffic

619
00:24:43,540 --> 00:24:48,610
comes back sees the best<font color="#E5E5E5"> path is via</font>

620
00:24:46,450 --> 00:24:51,040
your border router traffic comes into

621
00:24:48,610 --> 00:24:52,689
the border router it has no best path

622
00:24:51,040 --> 00:24:54,909
anymore so it drops everything on the

623
00:24:52,690 --> 00:24:57,820
floor<font color="#CCCCCC"> being</font><font color="#E5E5E5"> there</font><font color="#CCCCCC"> done that many times</font>

624
00:24:54,910 --> 00:24:59,920
so try in<font color="#E5E5E5"> January aggregates within the</font>

625
00:24:57,820 --> 00:25:02,320
core of the<font color="#CCCCCC"> network rather than out at</font>

626
00:24:59,920 --> 00:25:05,920
the edge and you save cutting yourself

627
00:25:02,320 --> 00:25:07,600
off announcing an aggregate well I hope

628
00:25:05,920 --> 00:25:09,700
you don't want aggregate are held in

629
00:25:07,600 --> 00:25:11,159
general pool regard by community at

630
00:25:09,700 --> 00:25:13,420
least by some parts<font color="#E5E5E5"> of the community</font>

631
00:25:11,160 --> 00:25:15,309
other parts of community don't seem to

632
00:25:13,420 --> 00:25:16,960
care very much at all they're quite

633
00:25:15,309 --> 00:25:19,540
happy<font color="#CCCCCC"> to go spending the hard-earned</font>

634
00:25:16,960 --> 00:25:21,280
dollars at the vendors buying really

635
00:25:19,540 --> 00:25:24,040
really expensive memory or really really

636
00:25:21,280 --> 00:25:25,540
expensive router upgrades the registries

637
00:25:24,040 --> 00:25:28,780
published the minimum allocation size

638
00:25:25,540 --> 00:25:30,760
again it's anything<font color="#E5E5E5"> from a / 22 22</font>

639
00:25:28,780 --> 00:25:33,460
depending on the registry in a panic

640
00:25:30,760 --> 00:25:36,550
just well month ago went down to / 22

641
00:25:33,460 --> 00:25:39,910
minimum allocation now<font color="#E5E5E5"> I think Aaron is</font>

642
00:25:36,550 --> 00:25:41,860
still a / 20 so it'll be<font color="#E5E5E5"> different from</font>

643
00:25:39,910 --> 00:25:43,720
different<font color="#E5E5E5"> registry regions and will be</font>

644
00:25:41,860 --> 00:25:46,330
different<font color="#E5E5E5"> for</font><font color="#CCCCCC"> different address blocks</font>

645
00:25:43,720 --> 00:25:48,760
as well<font color="#CCCCCC"> ap makes minimum for example</font>

646
00:25:46,330 --> 00:25:51,730
used to be a / 19 a few<font color="#E5E5E5"> years ago so you</font>

647
00:25:48,760 --> 00:25:55,480
still<font color="#CCCCCC"> see some address blocks / 19 where</font>

648
00:25:51,730 --> 00:25:56,980
others are now appearing as a / 22 so

649
00:25:55,480 --> 00:25:59,290
there should<font color="#CCCCCC"> really be not much reason</font>

650
00:25:56,980 --> 00:26:01,720
for seeing many prefixes longer than<font color="#E5E5E5"> a /</font>

651
00:25:59,290 --> 00:26:05,550
22 you would have thought but the more

652
00:26:01,720 --> 00:26:05,550
than hundred forty-one thousand / 24

653
00:26:05,940 --> 00:26:09,940
aggregation example this is<font color="#E5E5E5"> this is some</font>

654
00:26:08,200 --> 00:26:11,020
of<font color="#CCCCCC"> the stuff that I see</font><font color="#E5E5E5"> that going on to</font>

655
00:26:09,940 --> 00:26:12,730
try and explain to<font color="#E5E5E5"> people why</font>

656
00:26:11,020 --> 00:26:16,870
aggregations actually recently important

657
00:26:12,730 --> 00:26:18,970
so customers go / 23<font color="#CCCCCC"> s when hundreds got</font>

658
00:26:16,870 --> 00:26:21,550
<font color="#CCCCCC">a / 19 address block and what does the</font>

659
00:26:18,970 --> 00:26:23,679
s100 do they go<font color="#E5E5E5"> ooh I'm running BGP</font>

660
00:26:21,550 --> 00:26:25,510
while I'm<font color="#CCCCCC"> very clever and what they do</font>

661
00:26:23,679 --> 00:26:27,520
<font color="#CCCCCC">is every time the handler address space</font>

662
00:26:25,510 --> 00:26:30,580
to<font color="#E5E5E5"> the customer they announced it by the</font>

663
00:26:27,520 --> 00:26:32,860
ebgp out to the world and if you don't

664
00:26:30,580 --> 00:26:33,970
think<font color="#E5E5E5"> many people do that today or yes</font>

665
00:26:32,860 --> 00:26:34,850
they do go<font color="#E5E5E5"> and have a look at the</font>

666
00:26:33,970 --> 00:26:36,980
routing table<font color="#E5E5E5"> pick</font>

667
00:26:34,850 --> 00:26:39,919
random<font color="#CCCCCC"> is you will see loads of this</font>

668
00:26:36,980 --> 00:26:43,130
loads and loads and<font color="#E5E5E5"> loads they basically</font>

669
00:26:39,920 --> 00:26:44,390
leaked the ibgp out to the internet and

670
00:26:43,130 --> 00:26:45,710
they<font color="#CCCCCC"> don't think about</font><font color="#E5E5E5"> it see what's the</font>

671
00:26:44,390 --> 00:26:47,300
problem the<font color="#E5E5E5"> internet carries everything</font>

672
00:26:45,710 --> 00:26:50,000
<font color="#E5E5E5">no it's all life is all good and</font>

673
00:26:47,300 --> 00:26:52,520
everything's working just fine well here

674
00:26:50,000 --> 00:26:54,860
is<font color="#E5E5E5"> there just fine custom link goes down</font>

675
00:26:52,520 --> 00:26:57,950
23 network becomes unreachable it's

676
00:26:54,860 --> 00:26:59,419
withdrawn from the ibgp OSP doesn't send

677
00:26:57,950 --> 00:27:00,740
any aggregates out at all because who

678
00:26:59,420 --> 00:27:03,410
aggregate who that's going to take up

679
00:27:00,740 --> 00:27:04,880
memory in my router so they don't 23

680
00:27:03,410 --> 00:27:07,580
<font color="#E5E5E5">Network withdrawals announced appears</font>

681
00:27:04,880 --> 00:27:12,350
all<font color="#E5E5E5"> 20 9400 tournament systems in</font>

682
00:27:07,580 --> 00:27:13,280
internet will see<font color="#E5E5E5"> less withdraw I did</font>

683
00:27:12,350 --> 00:27:16,310
load and<font color="#E5E5E5"> all the internet backbone</font>

684
00:27:13,280 --> 00:27:18,700
rioters<font color="#CCCCCC"> custom</font><font color="#E5E5E5"> link returns he comes</font>

685
00:27:16,310 --> 00:27:20,720
back next days which is router back on

686
00:27:18,700 --> 00:27:22,370
and of course<font color="#CCCCCC"> when you switch a router</font>

687
00:27:20,720 --> 00:27:24,140
back on you'd want your network to work

688
00:27:22,370 --> 00:27:25,429
mean you pretty much you'd walk into

689
00:27:24,140 --> 00:27:27,530
room you switch<font color="#E5E5E5"> on the lights and they</font>

690
00:27:25,430 --> 00:27:28,910
work you come back<font color="#E5E5E5"> from a day's work at</font>

691
00:27:27,530 --> 00:27:30,170
the office<font color="#CCCCCC"> come into your house switch</font>

692
00:27:28,910 --> 00:27:34,580
on the lights you expect<font color="#E5E5E5"> them to work</font>

693
00:27:30,170 --> 00:27:37,190
don't<font color="#E5E5E5"> you but doesn't happen here the 23</font>

694
00:27:34,580 --> 00:27:39,980
is riad ver ties to peers goes into ibgp

695
00:27:37,190 --> 00:27:41,210
renounce to ebgp peers starts ripping

696
00:27:39,980 --> 00:27:43,280
through<font color="#CCCCCC"> the internet load on the</font>

697
00:27:41,210 --> 00:27:46,040
backbone rioters some ice<font color="#E5E5E5"> peace is</font>

698
00:27:43,280 --> 00:27:48,020
building<font color="#CCCCCC"> flat damping all eyes peas some</font>

699
00:27:46,040 --> 00:27:49,730
using different vendors you call this

700
00:27:48,020 --> 00:27:51,020
different race to the finish line was

701
00:27:49,730 --> 00:27:54,340
talking about before the<font color="#E5E5E5"> break flat</font>

702
00:27:51,020 --> 00:27:56,600
damping coming in previous gets flagged

703
00:27:54,340 --> 00:27:59,060
suppressed for 30 minutes 16 minutes

704
00:27:56,600 --> 00:28:01,429
longer depending people use defaults or

705
00:27:59,060 --> 00:28:04,310
not internet may take 10 or 20 minutes

706
00:28:01,430 --> 00:28:06,560
<font color="#E5E5E5">or longer to be visible and may</font><font color="#CCCCCC"> be bumpy</font>

707
00:28:04,310 --> 00:28:09,290
for<font color="#E5E5E5"> the next hour or</font><font color="#CCCCCC"> so where's the</font>

708
00:28:06,560 --> 00:28:10,879
quality of service<font color="#E5E5E5"> okay customers</font><font color="#CCCCCC"> trying</font>

709
00:28:09,290 --> 00:28:12,620
<font color="#E5E5E5">to browse the net download his email</font>

710
00:28:10,880 --> 00:28:14,360
finds<font color="#E5E5E5"> that nothing works</font><font color="#CCCCCC"> phones</font><font color="#E5E5E5"> as iOS P</font>

711
00:28:12,620 --> 00:28:16,370
is P says I know what you're<font color="#E5E5E5"> talking</font>

712
00:28:14,360 --> 00:28:19,250
about while working fine here go reboot

713
00:28:16,370 --> 00:28:22,250
your PC you see this happen so often and

714
00:28:19,250 --> 00:28:25,910
actually its isp basically not being

715
00:28:22,250 --> 00:28:27,650
very<font color="#CCCCCC"> good or being incompetent basically</font>

716
00:28:25,910 --> 00:28:30,050
because<font color="#CCCCCC"> I thought</font><font color="#E5E5E5"> it boils down to every</font>

717
00:28:27,650 --> 00:28:33,080
time the customer prefix flaps the whole

718
00:28:30,050 --> 00:28:35,210
world gets to see this particular impact

719
00:28:33,080 --> 00:28:38,169
and it does happen i've got some

720
00:28:35,210 --> 00:28:40,190
examples coming up extraordinary example

721
00:28:38,170 --> 00:28:43,190
here's a good example<font color="#CCCCCC"> i mean if people</font>

722
00:28:40,190 --> 00:28:45,080
<font color="#E5E5E5">just did it of aggregation so the ISPs</font>

723
00:28:43,190 --> 00:28:47,290
100<font color="#E5E5E5"> January's is aggregate census</font>

724
00:28:45,080 --> 00:28:48,889
aggregate<font color="#CCCCCC"> artist customer gets a / 23</font>

725
00:28:47,290 --> 00:28:50,870
link goes down

726
00:28:48,890 --> 00:28:54,260
is withdrawn from ibgp the<font color="#E5E5E5"> aggregates</font>

727
00:28:50,870 --> 00:28:56,080
still announced nothing happens customer

728
00:28:54,260 --> 00:29:00,140
come back next days which is<font color="#CCCCCC"> writer on</font>

729
00:28:56,080 --> 00:29:02,360
23 is re-injected into the ibgp<font color="#E5E5E5"> son they</font>

730
00:29:00,140 --> 00:29:05,060
<font color="#E5E5E5">can see low internet this is how it</font>

731
00:29:02,360 --> 00:29:07,219
should work so why do a lot<font color="#CCCCCC"> of people</font>

732
00:29:05,060 --> 00:29:09,220
<font color="#E5E5E5">think this one this example is no</font>

733
00:29:07,220 --> 00:29:11,960
different from the<font color="#E5E5E5"> previous example</font><font color="#CCCCCC"> I</font>

734
00:29:09,220 --> 00:29:14,030
mean I do to a lot of the world and<font color="#CCCCCC"> I do</font>

735
00:29:11,960 --> 00:29:15,230
this slide and people come up to me well

736
00:29:14,030 --> 00:29:16,430
it's<font color="#E5E5E5"> very nice example I have to</font>

737
00:29:15,230 --> 00:29:18,140
understand what you mean by the

738
00:29:16,430 --> 00:29:23,120
differences here I don't understand why

739
00:29:18,140 --> 00:29:24,860
it's different many isps need to become

740
00:29:23,120 --> 00:29:26,419
customers of themselves a thing to

741
00:29:24,860 --> 00:29:29,780
actually understand what some of these

742
00:29:26,420 --> 00:29:31,100
these things are actually impacting

743
00:29:29,780 --> 00:29:32,810
because they don't you know<font color="#E5E5E5"> the</font>

744
00:29:31,100 --> 00:29:34,699
customers out for now they don't receive

745
00:29:32,810 --> 00:29:36,770
thing really think about it they sit<font color="#CCCCCC"> in</font>

746
00:29:34,700 --> 00:29:38,360
an arc they get the connectivity their

747
00:29:36,770 --> 00:29:41,990
foot works<font color="#CCCCCC"> okay for their in customer as</font>

748
00:29:38,360 --> 00:29:44,419
well good<font color="#CCCCCC"> examples pretty much what</font>

749
00:29:41,990 --> 00:29:46,130
everybody should be<font color="#E5E5E5"> doing</font><font color="#CCCCCC"> okay diced</font>

750
00:29:44,420 --> 00:29:48,770
<font color="#E5E5E5">internet stability reduce the size of</font>

751
00:29:46,130 --> 00:29:51,890
<font color="#CCCCCC">the writing-table reduces writing shown</font>

752
00:29:48,770 --> 00:29:53,450
and it generally improves the qos for

753
00:29:51,890 --> 00:29:56,090
everybody people get so obsessed<font color="#CCCCCC"> but</font>

754
00:29:53,450 --> 00:29:58,880
doing<font color="#E5E5E5"> rate limiting and package shaping</font>

755
00:29:56,090 --> 00:30:00,590
and all the rest they can't even<font color="#E5E5E5"> get the</font>

756
00:29:58,880 --> 00:30:02,270
basic qos stuff like this actually

757
00:30:00,590 --> 00:30:04,730
<font color="#E5E5E5">ensuring that people can use</font><font color="#CCCCCC"> the network</font>

758
00:30:02,270 --> 00:30:07,100
when they want to actually working and

759
00:30:04,730 --> 00:30:10,190
<font color="#CCCCCC">why do</font><font color="#E5E5E5"> we have this bad example mean is</font>

760
00:30:07,100 --> 00:30:12,800
it laziness lack of<font color="#E5E5E5"> knowledge some cases</font>

761
00:30:10,190 --> 00:30:14,600
lack of knowledge gently is just

762
00:30:12,800 --> 00:30:17,379
laziness people don't understand the

763
00:30:14,600 --> 00:30:19,669
difference in ibgp and ebgp and so forth

764
00:30:17,380 --> 00:30:21,200
but<font color="#E5E5E5"> look at the table today well this</font>

765
00:30:19,670 --> 00:30:22,910
wasn't today this was about four days

766
00:30:21,200 --> 00:30:27,170
ago<font color="#E5E5E5"> when</font><font color="#CCCCCC"> i did the with the slides</font>

767
00:30:22,910 --> 00:30:28,520
together 270,000 153 prefixes<font color="#CCCCCC"> i think</font>

768
00:30:27,170 --> 00:30:30,140
it's<font color="#E5E5E5"> about two hundred seventy thousand</font>

769
00:30:28,520 --> 00:30:32,180
nine hundred and my<font color="#CCCCCC"> view now it's gone</font>

770
00:30:30,140 --> 00:30:35,030
up<font color="#CCCCCC"> about six hundred</font><font color="#E5E5E5"> and last three days</font>

771
00:30:32,180 --> 00:30:38,660
I do aggregation this is<font color="#E5E5E5"> analysis stuff</font>

772
00:30:35,030 --> 00:30:41,720
that<font color="#CCCCCC"> I do i take the routing table and</font>

773
00:30:38,660 --> 00:30:43,730
aggregated so as as it what it could be

774
00:30:41,720 --> 00:30:47,570
<font color="#E5E5E5">if everybody else did aggregation and it</font>

775
00:30:43,730 --> 00:30:49,640
pulls it down 130,000 prefixes right so

776
00:30:47,570 --> 00:30:51,500
<font color="#E5E5E5">i could actually have a bgp feed 130,000</font>

777
00:30:49,640 --> 00:30:55,670
prefixes and lose new information

778
00:30:51,500 --> 00:30:59,570
whatsoever so there's 140,000 prefixes

779
00:30:55,670 --> 00:31:01,610
of junk that's<font color="#E5E5E5"> quite a lot how much</font>

780
00:30:59,570 --> 00:31:06,429
memory does that take up what<font color="#CCCCCC"> is it cost</font>

781
00:31:01,610 --> 00:31:06,429
<font color="#E5E5E5">to buy it from your favorite vendors and</font>

782
00:31:16,570 --> 00:31:23,000
<font color="#E5E5E5">and while now</font><font color="#CCCCCC"> doing for aggregation mean</font>

783
00:31:20,150 --> 00:31:27,040
that there's a lot<font color="#CCCCCC"> of people subdivide</font>

784
00:31:23,000 --> 00:31:35,510
prefixes but yeah I<font color="#CCCCCC"> mean pinups are</font>

785
00:31:27,040 --> 00:31:37,550
important more for sure I put a<font color="#E5E5E5"> lot of</font>

786
00:31:35,510 --> 00:31:40,190
people<font color="#E5E5E5"> who are not actually doing the</font>

787
00:31:37,550 --> 00:31:43,250
pinups either there's simply leaking

788
00:31:40,190 --> 00:31:46,100
ibgp out to the world I mean you can

789
00:31:43,250 --> 00:31:48,680
<font color="#E5E5E5">have a look at the BGP table just to see</font>

790
00:31:46,100 --> 00:31:50,899
it so yeah I mean I suppose I'm arguing

791
00:31:48,680 --> 00:31:52,610
for both things<font color="#E5E5E5"> yes I'm pointing out</font>

792
00:31:50,900 --> 00:31:59,030
what happens if you don't<font color="#E5E5E5"> have the</font>

793
00:31:52,610 --> 00:32:00,649
<font color="#E5E5E5">pull-up riots but yeah / 24 s announcers</font>

794
00:31:59,030 --> 00:32:03,230
was saying hundred<font color="#E5E5E5"> forty-one thousand of</font>

795
00:32:00,650 --> 00:32:05,300
them<font color="#E5E5E5"> people quite happy to blame or it's</font>

796
00:32:03,230 --> 00:32:06,800
all caused by our network 19 2 / 8 which

797
00:32:05,300 --> 00:32:09,440
was the original Class C from years and

798
00:32:06,800 --> 00:32:12,260
years ago 1 or 2 / 8 is the<font color="#CCCCCC"> best behaved</font>

799
00:32:09,440 --> 00:32:14,030
of all the<font color="#E5E5E5"> / eights around it's been</font>

800
00:32:12,260 --> 00:32:16,520
<font color="#E5E5E5">about five and a half thousand prefixes</font>

801
00:32:14,030 --> 00:32:18,170
for probably<font color="#E5E5E5"> would last ten years okay</font>

802
00:32:16,520 --> 00:32:20,480
it's the best behave the rest of them

803
00:32:18,170 --> 00:32:22,220
are very very messy so twenty-nine

804
00:32:20,480 --> 00:32:24,740
thousand four hundred onimous systems as

805
00:32:22,220 --> 00:32:27,110
I said so<font color="#E5E5E5"> after</font><font color="#CCCCCC"> maxim</font><font color="#E5E5E5"> after aggregation</font>

806
00:32:24,740 --> 00:32:28,580
me this is aggressive aggregation mean

807
00:32:27,110 --> 00:32:31,219
I'm sure<font color="#CCCCCC"> the</font><font color="#E5E5E5"> routing table won't be</font>

808
00:32:28,580 --> 00:32:33,919
quite as aggregated as that but if I

809
00:32:31,220 --> 00:32:38,150
aggregate by origin es I can pull it

810
00:32:33,920 --> 00:32:39,740
down to 130,000 prefixes and so I<font color="#E5E5E5"> don't</font>

811
00:32:38,150 --> 00:32:41,300
know if<font color="#E5E5E5"> call this a new swamp space in</font>

812
00:32:39,740 --> 00:32:44,860
the old days we had swamp space which

813
00:32:41,300 --> 00:32:48,050
was 19 2 / 8 1 or 2 / 8 was a mess

814
00:32:44,860 --> 00:32:50,330
certainly not long and you know 94 95 it

815
00:32:48,050 --> 00:32:53,570
really was a big<font color="#E5E5E5"> mess because what</font>

816
00:32:50,330 --> 00:32:55,699
happened pre cider was is peace were

817
00:32:53,570 --> 00:32:57,919
getting blocks out of<font color="#E5E5E5"> 192 so they were</font>

818
00:32:55,700 --> 00:33:00,290
getting blocks of class sees and the big

819
00:32:57,920 --> 00:33:01,760
effort to reduce the swamp in 1<font color="#CCCCCC"> & 2 / 8</font>

820
00:33:00,290 --> 00:33:03,770
was to get people to aggregate these

821
00:33:01,760 --> 00:33:05,660
blocks this<font color="#E5E5E5"> is all happen now if you</font>

822
00:33:03,770 --> 00:33:08,150
look through 192 it's actually<font color="#CCCCCC"> pretty</font>

823
00:33:05,660 --> 00:33:11,360
tidy it's looking in some of the other

824
00:33:08,150 --> 00:33:13,940
blocks things are not so tidy so this is

825
00:33:11,360 --> 00:33:14,689
1999 when<font color="#CCCCCC"> I started poking around</font><font color="#E5E5E5"> in all</font>

826
00:33:13,940 --> 00:33:16,310
this so

827
00:33:14,690 --> 00:33:19,880
these are all the<font color="#CCCCCC"> slash eats that are</font>

828
00:33:16,310 --> 00:33:24,649
now have been assigned<font color="#E5E5E5"> to the registries</font>

829
00:33:19,880 --> 00:33:25,880
the five registries today so if you<font color="#E5E5E5"> look</font>

830
00:33:24,650 --> 00:33:28,520
through them that's actually not a lot

831
00:33:25,880 --> 00:33:33,470
happening mean 192 / 8 even when 99 was

832
00:33:28,520 --> 00:33:37,129
66 sorry 6300 so it's dropped about 500

833
00:33:33,470 --> 00:33:41,690
prefixes from nine years ago<font color="#CCCCCC"> live a look</font>

834
00:33:37,130 --> 00:33:43,610
at 193 / 8 2390 prefixes<font color="#CCCCCC"> unit was the</font>

835
00:33:41,690 --> 00:33:45,320
first one that<font color="#E5E5E5"> the ripe NCC got it was</font>

836
00:33:43,610 --> 00:33:48,139
the first ibis<font color="#CCCCCC"> blocker used in Europe</font>

837
00:33:45,320 --> 00:33:50,689
and<font color="#CCCCCC"> was sitting around 2,400 prefixes</font>

838
00:33:48,140 --> 00:33:52,820
for many many many years there has been

839
00:33:50,690 --> 00:33:55,970
fully allocated for goodness knows<font color="#CCCCCC"> how</font>

840
00:33:52,820 --> 00:33:59,990
long so watch that<font color="#E5E5E5"> one as it moves over</font>

841
00:33:55,970 --> 00:34:04,940
to<font color="#E5E5E5"> the next next slide 22 / 8 was AP</font>

842
00:33:59,990 --> 00:34:06,080
next first address block Bob it<font color="#E5E5E5"> was kind</font>

843
00:34:04,940 --> 00:34:07,970
of is a bit funny it was actually a

844
00:34:06,080 --> 00:34:10,190
unique they got a fair chunk of<font color="#CCCCCC"> that</font>

845
00:34:07,970 --> 00:34:14,030
address<font color="#CCCCCC"> space and</font><font color="#E5E5E5"> Telstra for a long</font>

846
00:34:10,190 --> 00:34:17,570
time announced I think was 22 / 12 or 11

847
00:34:14,030 --> 00:34:20,570
or something like that<font color="#E5E5E5"> so suddenly in 99</font>

848
00:34:17,570 --> 00:34:24,920
it was nice and<font color="#E5E5E5"> tidy 2276 prefixes two</font>

849
00:34:20,570 --> 00:34:28,550
or three<font color="#E5E5E5"> also was ap- prefixes fully</font>

850
00:34:24,920 --> 00:34:32,659
allocated and<font color="#CCCCCC"> this blocks in 1999 so</font>

851
00:34:28,550 --> 00:34:35,210
what has<font color="#CCCCCC"> changed between 99 and now so</font>

852
00:34:32,659 --> 00:34:39,350
if<font color="#E5E5E5"> we look at</font><font color="#CCCCCC"> well one min 2 / 8 total</font>

853
00:34:35,210 --> 00:34:43,310
prefixes 6929 that's not changed very

854
00:34:39,350 --> 00:34:45,560
much 193 sashayed gone up to 6220 what

855
00:34:43,310 --> 00:34:47,449
exactly has changed I mean that's<font color="#E5E5E5"> a</font>

856
00:34:45,560 --> 00:34:49,790
fully allocated block from the ripe NCC

857
00:34:47,449 --> 00:34:52,850
why does it need to be disintegrated so

858
00:34:49,790 --> 00:34:54,710
much but these two are amazing<font color="#E5E5E5"> 2 a 2 / 8</font>

859
00:34:52,850 --> 00:34:57,200
is now almost 11,000 prefixes and

860
00:34:54,710 --> 00:35:00,740
through 3 / 8 was eleven thousand

861
00:34:57,200 --> 00:35:03,980
prefixes exactly<font color="#E5E5E5"> okay and you look back</font>

862
00:35:00,740 --> 00:35:07,040
in 99 fully allocated that size today

863
00:35:03,980 --> 00:35:08,600
<font color="#E5E5E5">they've gone up to that so that's quite</font>

864
00:35:07,040 --> 00:35:10,490
amazing if you look at most of the rest

865
00:35:08,600 --> 00:35:12,950
on the round about five thousand or so

866
00:35:10,490 --> 00:35:14,540
so you look through all here ones that

867
00:35:12,950 --> 00:35:18,259
<font color="#E5E5E5">are fully allocated time to be hitting</font>

868
00:35:14,540 --> 00:35:19,940
around about five or six thousand ok so

869
00:35:18,260 --> 00:35:21,590
these this<font color="#E5E5E5"> is really what's</font><font color="#CCCCCC"> grown so the</font>

870
00:35:19,940 --> 00:35:23,420
registry blocks are contributing about

871
00:35:21,590 --> 00:35:25,340
<font color="#E5E5E5">eighty-nine percent of the Internet</font>

872
00:35:23,420 --> 00:35:27,290
routing table that's actually being

873
00:35:25,340 --> 00:35:29,670
consistent if we go back to

874
00:35:27,290 --> 00:35:31,320
februari again the registry blocks are

875
00:35:29,670 --> 00:35:33,240
contributing eighty-eight percent of the

876
00:35:31,320 --> 00:35:35,130
<font color="#CCCCCC">writing-table so this also means that</font>

877
00:35:33,240 --> 00:35:37,470
the other address<font color="#E5E5E5"> space the legacy</font>

878
00:35:35,130 --> 00:35:41,850
address face is also being d aggregated

879
00:35:37,470 --> 00:35:44,220
as well um so yeah showing creeping the

880
00:35:41,850 --> 00:35:45,779
aggregation I know I'm just kind of

881
00:35:44,220 --> 00:35:48,990
waiting my hands but<font color="#E5E5E5"> you know pursuing</font>

882
00:35:45,780 --> 00:35:51,390
<font color="#CCCCCC">5,000 prefixes once fully allocated we</font>

883
00:35:48,990 --> 00:35:55,410
could end<font color="#CCCCCC"> up with maybe 440,000 prefix</font>

884
00:35:51,390 --> 00:35:59,190
in the BGP table and of the remaining 39

885
00:35:55,410 --> 00:36:00,330
allocate unallocated / 8 we could

886
00:35:59,190 --> 00:36:01,980
probably end up I know this is just

887
00:36:00,330 --> 00:36:04,790
complete waving my hands in there maybe

888
00:36:01,980 --> 00:36:08,940
eight and a half thousand so 850,000

889
00:36:04,790 --> 00:36:10,920
prefixes in the BGP table how much

890
00:36:08,940 --> 00:36:12,420
memory do you need to<font color="#E5E5E5"> handle that so</font>

891
00:36:10,920 --> 00:36:15,600
people probably should start thinking

892
00:36:12,420 --> 00:36:17,510
about that when we would be fully

893
00:36:15,600 --> 00:36:22,049
allocated probably three years<font color="#E5E5E5"> from now</font>

894
00:36:17,510 --> 00:36:23,520
maybe sooner so I don't think<font color="#E5E5E5"> these</font>

895
00:36:22,050 --> 00:36:24,990
numbers are really that far<font color="#CCCCCC"> away and</font>

896
00:36:23,520 --> 00:36:27,110
suddenly few look at the graph of the

897
00:36:24,990 --> 00:36:30,330
growth of the table which is somewhere

898
00:36:27,110 --> 00:36:35,100
coming you'll see<font color="#CCCCCC"> that the growth is is</font>

899
00:36:30,330 --> 00:36:37,380
accelerating um yeah so rested address

900
00:36:35,100 --> 00:36:38,700
<font color="#E5E5E5">basis is showing this</font><font color="#CCCCCC"> D aggregation also</font>

901
00:36:37,380 --> 00:36:41,160
and what are the justifications of a

902
00:36:38,700 --> 00:36:42,629
traffic engineering now a lot<font color="#CCCCCC"> of traffic</font>

903
00:36:41,160 --> 00:36:44,580
engineering is really well thought out

904
00:36:42,630 --> 00:36:46,500
but people take the address space and

905
00:36:44,580 --> 00:36:49,109
may<font color="#E5E5E5"> be divided into two three four five</font>

906
00:36:46,500 --> 00:36:51,960
<font color="#E5E5E5">pieces there's a lot</font><font color="#CCCCCC"> of other traffic</font>

907
00:36:49,109 --> 00:36:54,869
engineering that simply<font color="#E5E5E5"> take an address</font>

908
00:36:51,960 --> 00:36:56,609
space chopping into 24 23 s or something

909
00:36:54,869 --> 00:37:01,800
like that and it doesn't<font color="#E5E5E5"> really seem to</font>

910
00:36:56,609 --> 00:37:04,609
<font color="#E5E5E5">have very good justification for it I</font>

911
00:37:01,800 --> 00:37:07,680
looked at this when Jeff Houston does

912
00:37:04,609 --> 00:37:10,350
similar analysis work based around on

913
00:37:07,680 --> 00:37:13,440
his website I mean I did this fun well

914
00:37:10,350 --> 00:37:14,940
as you see actober two years ago<font color="#E5E5E5"> and</font><font color="#CCCCCC"> I</font>

915
00:37:13,440 --> 00:37:17,010
found<font color="#E5E5E5"> that it's probably about thirty</font>

916
00:37:14,940 --> 00:37:19,470
five percent saving as possible simply

917
00:37:17,010 --> 00:37:22,530
by throwing away all the traffic

918
00:37:19,470 --> 00:37:25,500
engineering information so i suppose the

919
00:37:22,530 --> 00:37:27,030
<font color="#E5E5E5">remedies using the the nokia community</font>

920
00:37:25,500 --> 00:37:32,520
we probably could we use the routing

921
00:37:27,030 --> 00:37:35,609
table fairly noticeably<font color="#E5E5E5"> okay um anyway</font>

922
00:37:32,520 --> 00:37:37,050
so excuses tend to be like well traffic

923
00:37:35,609 --> 00:37:38,700
<font color="#E5E5E5">engineering probably caused about ten</font>

924
00:37:37,050 --> 00:37:40,680
percent it's a real traffic engineering

925
00:37:38,700 --> 00:37:42,149
that you we can't avoid and

926
00:37:40,680 --> 00:37:44,040
as deliberate the aggregation with

927
00:37:42,150 --> 00:37:46,109
people just announcing lots of small

928
00:37:44,040 --> 00:37:48,180
prefixes on the same path with or

929
00:37:46,109 --> 00:37:50,549
<font color="#E5E5E5">without covering aggregates and for no</font>

930
00:37:48,180 --> 00:37:51,629
reason apart from they think is good fun

931
00:37:50,550 --> 00:37:56,130
and<font color="#E5E5E5"> they can do it and other people</font>

932
00:37:51,630 --> 00:37:57,480
accept it so efforts to improve will

933
00:37:56,130 --> 00:37:59,280
have been loads of efforts to improve

934
00:37:57,480 --> 00:38:01,670
it's not as though word just all

935
00:37:59,280 --> 00:38:04,530
standing here cahoots terrible<font color="#E5E5E5"> terrible</font>

936
00:38:01,670 --> 00:38:06,480
the side report was the first one side

937
00:38:04,530 --> 00:38:09,059
report actually started off trying to

938
00:38:06,480 --> 00:38:12,300
<font color="#E5E5E5">encourage people to move to classless</font>

939
00:38:09,059 --> 00:38:13,829
routing from the old<font color="#E5E5E5"> class flow right so</font>

940
00:38:12,300 --> 00:38:16,680
<font color="#E5E5E5">I was trying</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> encourage people who got</font>

941
00:38:13,829 --> 00:38:18,420
legacy 192 space to actually join the

942
00:38:16,680 --> 00:38:20,910
groups of 24 s they had<font color="#E5E5E5"> into bigger</font>

943
00:38:18,420 --> 00:38:22,680
announcements so<font color="#E5E5E5"> Tony Bates started that</font>

944
00:38:20,910 --> 00:38:25,470
off I<font color="#CCCCCC"> think you sold ripe ncc when he</font>

945
00:38:22,680 --> 00:38:27,899
started it but he carried on when he was

946
00:38:25,470 --> 00:38:29,700
<font color="#CCCCCC">in turn MCI and when he was</font><font color="#E5E5E5"> at Cisco and</font>

947
00:38:27,900 --> 00:38:32,010
then he handed over to<font color="#CCCCCC"> me and</font><font color="#E5E5E5"> then I</font>

948
00:38:29,700 --> 00:38:33,960
handed it over to Jeff so it's all got a

949
00:38:32,010 --> 00:38:38,640
nice website a lot of work at Jeff put

950
00:38:33,960 --> 00:38:40,970
into it<font color="#CCCCCC"> www side report org and it</font>

951
00:38:38,640 --> 00:38:45,480
generally lists a whole heap of things

952
00:38:40,970 --> 00:38:47,578
but includes the list of 30 of service

953
00:38:45,480 --> 00:38:51,420
providers or autonomous systems who

954
00:38:47,579 --> 00:38:53,480
could do better at aggregating we're

955
00:38:51,420 --> 00:38:57,630
also<font color="#E5E5E5"> the right routing working group</font>

956
00:38:53,480 --> 00:39:01,260
<font color="#E5E5E5">less is mike hughes and my fault along</font>

957
00:38:57,630 --> 00:39:03,839
with rob evans from you<font color="#E5E5E5"> karna was the</font>

958
00:39:01,260 --> 00:39:05,010
right 399 document which basically

959
00:39:03,839 --> 00:39:08,640
looked at some of the causes of

960
00:39:05,010 --> 00:39:11,940
aggregation and try to encourage eyes

961
00:39:08,640 --> 00:39:13,770
peas to actually consider<font color="#CCCCCC"> bar announcing</font>

962
00:39:11,940 --> 00:39:17,030
aggregate and can be more considerate

963
00:39:13,770 --> 00:39:18,900
when doing<font color="#E5E5E5"> traffic engineering so we</font>

964
00:39:17,030 --> 00:39:21,150
documented a lot of the current

965
00:39:18,900 --> 00:39:23,940
practices and so forth so that's in the

966
00:39:21,150 --> 00:39:26,940
right 399 document it's been translated

967
00:39:23,940 --> 00:39:28,890
into<font color="#CCCCCC"> spanish was it last year think that</font>

968
00:39:26,940 --> 00:39:32,480
was done and by three days ago it's been

969
00:39:28,890 --> 00:39:34,529
<font color="#E5E5E5">translated in japanese so the internal</font>

970
00:39:32,480 --> 00:39:36,869
internationalization folks at<font color="#CCCCCC"> jan org</font>

971
00:39:34,530 --> 00:39:39,180
actually did<font color="#CCCCCC"> that work so for our</font>

972
00:39:36,869 --> 00:39:40,859
Japanese speakers here and you<font color="#E5E5E5"> can go</font>

973
00:39:39,180 --> 00:39:43,919
read all about<font color="#E5E5E5"> it in Japanese as well</font>

974
00:39:40,859 --> 00:39:46,230
and if you feel brave you can<font color="#E5E5E5"> compare</font>

975
00:39:43,920 --> 00:39:49,020
with<font color="#E5E5E5"> English</font><font color="#CCCCCC"> versions and see how well</font>

976
00:39:46,230 --> 00:39:50,730
it's mapped across if<font color="#E5E5E5"> anybody else wants</font>

977
00:39:49,020 --> 00:39:53,880
to translate into<font color="#E5E5E5"> any other languages</font>

978
00:39:50,730 --> 00:39:56,100
<font color="#CCCCCC">you're very welcome to do so</font>

979
00:39:53,880 --> 00:39:58,200
anyway so the side to report the website

980
00:39:56,100 --> 00:40:00,690
allows searches and computations of

981
00:39:58,200 --> 00:40:02,549
aggregation to be made on<font color="#CCCCCC"> a pas basis so</font>

982
00:40:00,690 --> 00:40:04,320
there's actually<font color="#CCCCCC"> a tool in there you can</font>

983
00:40:02,550 --> 00:40:06,960
pop the<font color="#E5E5E5"> a s number in and find out</font>

984
00:40:04,320 --> 00:40:09,720
things about it for it so let's look

985
00:40:06,960 --> 00:40:13,710
through the website quickly so going to

986
00:40:09,720 --> 00:40:16,549
<font color="#E5E5E5">the homepage side report org so you can</font>

987
00:40:13,710 --> 00:40:20,370
see for Jeff's view is where is the

988
00:40:16,550 --> 00:40:23,790
282,000 prefixes he sees which is<font color="#CCCCCC"> a wee</font>

989
00:40:20,370 --> 00:40:26,640
bit more than I see I'm seeing my view

990
00:40:23,790 --> 00:40:29,279
is at dixie and<font color="#CCCCCC"> Japan Jeff's one is what</font>

991
00:40:26,640 --> 00:40:31,410
he gets from where did<font color="#E5E5E5"> he get it from I</font>

992
00:40:29,280 --> 00:40:36,030
<font color="#CCCCCC">think you might get it from</font><font color="#E5E5E5"> Telstra</font>

993
00:40:31,410 --> 00:40:38,310
still or reach or somebody similar kind

994
00:40:36,030 --> 00:40:42,110
<font color="#E5E5E5">of a s numbers and so forth so that</font>

995
00:40:38,310 --> 00:40:47,100
<font color="#CCCCCC">gation summary so here like the top</font>

996
00:40:42,110 --> 00:40:49,320
announcements into the internet so let's

997
00:40:47,100 --> 00:40:51,779
see I think<font color="#E5E5E5"> this is ordered by net gain</font>

998
00:40:49,320 --> 00:40:53,670
so the service provider that could

999
00:40:51,780 --> 00:40:55,770
contribute most to the size of the

1000
00:40:53,670 --> 00:40:58,020
routing table at least<font color="#E5E5E5"> help reduce it</font>

1001
00:40:55,770 --> 00:41:00,210
most is the<font color="#E5E5E5"> China education and research</font>

1002
00:40:58,020 --> 00:41:02,880
<font color="#CCCCCC">Network who are currently announcing</font>

1003
00:41:00,210 --> 00:41:06,210
5033 prefixes but if aggregated could

1004
00:41:02,880 --> 00:41:09,240
reduce it to 880 so eighty-two percent

1005
00:41:06,210 --> 00:41:11,700
reduction possible number two is

1006
00:41:09,240 --> 00:41:13,910
<font color="#E5E5E5">bellsouth number three is quest number</font>

1007
00:41:11,700 --> 00:41:17,160
through is<font color="#CCCCCC"> paetec</font><font color="#E5E5E5"> number five is cox</font>

1008
00:41:13,910 --> 00:41:20,790
tata<font color="#E5E5E5"> communications there well number</font>

1009
00:41:17,160 --> 00:41:24,540
<font color="#E5E5E5">two in</font><font color="#CCCCCC"> asia for the aggregation so</font>

1010
00:41:20,790 --> 00:41:27,630
<font color="#CCCCCC">that's vsnl or yeah which is</font><font color="#E5E5E5"> basically</font>

1011
00:41:24,540 --> 00:41:31,590
India national ISP with that a s

1012
00:41:27,630 --> 00:41:34,170
<font color="#E5E5E5">pathways cable provider in India uni-net</font>

1013
00:41:31,590 --> 00:41:35,670
where they<font color="#CCCCCC"> mexico</font><font color="#E5E5E5"> i think cox</font>

1014
00:41:34,170 --> 00:41:37,560
communication and so on through the list

1015
00:41:35,670 --> 00:41:39,720
so there's a there the savings that

1016
00:41:37,560 --> 00:41:42,330
could be made<font color="#E5E5E5"> with bigger efforts that</font>

1017
00:41:39,720 --> 00:41:45,870
folks trying<font color="#E5E5E5"> to do some aggregation</font><font color="#CCCCCC"> i</font>

1018
00:41:42,330 --> 00:41:48,270
should<font color="#E5E5E5"> mention that chinanet used to be</font>

1019
00:41:45,870 --> 00:41:50,420
fairly high up on<font color="#E5E5E5"> this list where are</font>

1020
00:41:48,270 --> 00:41:50,420
they now

1021
00:41:51,250 --> 00:41:55,030
is nice not that one needs to<font color="#E5E5E5"> be on this</font>

1022
00:41:53,500 --> 00:41:57,790
list used to be pretty close<font color="#E5E5E5"> to the top</font>

1023
00:41:55,030 --> 00:41:59,410
on<font color="#E5E5E5"> the list and I think I'd given this</font>

1024
00:41:57,790 --> 00:42:01,180
presentation in front of the folks once

1025
00:41:59,410 --> 00:42:03,730
too often but that's this sat down and

1026
00:42:01,180 --> 00:42:05,740
worked really hard to do a fairly

1027
00:42:03,730 --> 00:42:07,180
substantial amount of aggregation so it

1028
00:42:05,740 --> 00:42:08,439
<font color="#E5E5E5">can be done mean I</font><font color="#CCCCCC"> know it was like a</font>

1029
00:42:07,180 --> 00:42:09,910
six-month project that they were

1030
00:42:08,440 --> 00:42:12,100
involved<font color="#CCCCCC"> and to try and prove things</font>

1031
00:42:09,910 --> 00:42:13,810
they basically got I think there was<font color="#CCCCCC"> a /</font>

1032
00:42:12,100 --> 00:42:18,759
12 worth of address space was chopped

1033
00:42:13,810 --> 00:42:21,250
down and about 19 20 21 and it was done

1034
00:42:18,760 --> 00:42:22,750
/ province / city in each province and

1035
00:42:21,250 --> 00:42:24,850
we're<font color="#CCCCCC"> looking at like a large number of</font>

1036
00:42:22,750 --> 00:42:26,410
cities in each province and none of it

1037
00:42:24,850 --> 00:42:28,210
was aggregated so they aggregate in a

1038
00:42:26,410 --> 00:42:30,370
provincial level and on a national level

1039
00:42:28,210 --> 00:42:32,920
and they're<font color="#E5E5E5"> pretty much disappeared from</font>

1040
00:42:30,370 --> 00:42:38,350
from this list so it is<font color="#E5E5E5"> possible to to</font>

1041
00:42:32,920 --> 00:42:44,830
tidy up so we've<font color="#CCCCCC"> top 20 arrives at a top</font>

1042
00:42:38,350 --> 00:42:47,680
20 withdrawn more specifics so like c CR

1043
00:42:44,830 --> 00:42:49,240
nett announcing 4054 more specific so

1044
00:42:47,680 --> 00:42:50,649
they've got covering aggregate they're

1045
00:42:49,240 --> 00:42:52,660
just<font color="#E5E5E5"> announcing all the specifics as</font>

1046
00:42:50,650 --> 00:42:57,490
well and so you can<font color="#E5E5E5"> see that in the list</font>

1047
00:42:52,660 --> 00:43:00,339
also so I've picked at random or hear

1048
00:42:57,490 --> 00:43:01,930
static communications because this

1049
00:43:00,340 --> 00:43:03,280
appears number one in Asia and I<font color="#CCCCCC"> spend a</font>

1050
00:43:01,930 --> 00:43:05,799
lot<font color="#CCCCCC"> of time in Asia obviously because I</font>

1051
00:43:03,280 --> 00:43:08,740
live there this one features quite a lot

1052
00:43:05,800 --> 00:43:09,790
in<font color="#CCCCCC"> my bgp presentations but</font><font color="#E5E5E5"> you look at</font>

1053
00:43:08,740 --> 00:43:13,029
the sort<font color="#E5E5E5"> of things that being an ounce</font>

1054
00:43:09,790 --> 00:43:16,900
<font color="#E5E5E5">mean 24 is 21 is 24 24 21 and they're</font>

1055
00:43:13,030 --> 00:43:19,510
contiguous<font color="#E5E5E5"> okay they're basically and</font>

1056
00:43:16,900 --> 00:43:21,820
when<font color="#CCCCCC"> I I've seen an ibgp feed from them</font>

1057
00:43:19,510 --> 00:43:25,330
as well guess what it looks<font color="#E5E5E5"> exactly the</font>

1058
00:43:21,820 --> 00:43:27,010
same right it's when I'm don't want to

1059
00:43:25,330 --> 00:43:29,799
cast aspersions but I basically believe

1060
00:43:27,010 --> 00:43:32,110
there are no filters between<font color="#CCCCCC"> a s4 755</font>

1061
00:43:29,800 --> 00:43:34,150
<font color="#CCCCCC">and outside world at all whatever they</font>

1062
00:43:32,110 --> 00:43:36,250
have in ibgp<font color="#E5E5E5"> just goes whoops just goes</font>

1063
00:43:34,150 --> 00:43:38,440
straight out there and so the side

1064
00:43:36,250 --> 00:43:42,460
report mean you can put the<font color="#CCCCCC"> asn and will</font>

1065
00:43:38,440 --> 00:43:43,990
tell you look your 1951 to 160 / 14 you

1066
00:43:42,460 --> 00:43:45,370
<font color="#E5E5E5">can withdraw all these prefixes</font>

1067
00:43:43,990 --> 00:43:47,379
everything in red could be withdrawn

1068
00:43:45,370 --> 00:43:52,089
quite easily no loss of routing

1069
00:43:47,380 --> 00:43:55,120
information whatsoever and covered well

1070
00:43:52,090 --> 00:43:56,350
I always<font color="#E5E5E5"> put this one in but</font><font color="#CCCCCC"> again it</font>

1071
00:43:55,120 --> 00:43:58,990
shows a<font color="#E5E5E5"> lot of the possibilities</font>

1072
00:43:56,350 --> 00:44:02,230
announcing loads and loads of 23<font color="#CCCCCC"> and 24</font>

1073
00:43:58,990 --> 00:44:04,479
could all be aggregated into the / 16

1074
00:44:02,230 --> 00:44:06,700
that it comes out off quite easily

1075
00:44:04,480 --> 00:44:09,880
so<font color="#CCCCCC"> we put</font><font color="#E5E5E5"> your own s number in there and</font>

1076
00:44:06,700 --> 00:44:11,649
you can see what it's doing anyway so

1077
00:44:09,880 --> 00:44:13,390
size of routing<font color="#CCCCCC"> tables so people have</font>

1078
00:44:11,650 --> 00:44:14,650
said well memory is not<font color="#CCCCCC"> a</font><font color="#E5E5E5"> problem the</font>

1079
00:44:13,390 --> 00:44:16,240
vendors have come along so yeah we'll

1080
00:44:14,650 --> 00:44:18,640
give you four gig of ram in your routers

1081
00:44:16,240 --> 00:44:20,350
well that's fine you<font color="#E5E5E5"> can spare the</font>

1082
00:44:18,640 --> 00:44:22,750
expensive prices for it to<font color="#E5E5E5"> North all the</font>

1083
00:44:20,350 --> 00:44:24,549
rest yes<font color="#E5E5E5"> 1 million prefixes have been</font>

1084
00:44:22,750 --> 00:44:26,619
<font color="#E5E5E5">tested in the lab 2 million prefixes</font>

1085
00:44:24,550 --> 00:44:29,109
it's all going to<font color="#E5E5E5"> be great what about</font>

1086
00:44:26,619 --> 00:44:32,050
convergence how long does the<font color="#E5E5E5"> CPU</font>

1087
00:44:29,109 --> 00:44:34,359
actually take to handle 1 million prefix

1088
00:44:32,050 --> 00:44:35,980
in the BGP table<font color="#E5E5E5"> especially if they all</font>

1089
00:44:34,359 --> 00:44:38,230
change you want<font color="#E5E5E5"> to change the next hops</font>

1090
00:44:35,980 --> 00:44:40,150
sure we can throw faster processes and

1091
00:44:38,230 --> 00:44:42,160
all the rest in but it all takes a

1092
00:44:40,150 --> 00:44:44,380
finite time why is all this necessary

1093
00:44:42,160 --> 00:44:46,330
and you can speed things up simply by

1094
00:44:44,380 --> 00:44:48,910
not having to handle a lot of this this

1095
00:44:46,330 --> 00:44:50,799
junk so Jeff actually started<font color="#CCCCCC"> about two</font>

1096
00:44:48,910 --> 00:44:52,629
years<font color="#E5E5E5"> ago this bgp and stability report</font>

1097
00:44:50,800 --> 00:44:54,340
so you looks at the instabilities in the

1098
00:44:52,630 --> 00:44:57,730
routing system and this makes

1099
00:44:54,340 --> 00:44:59,260
interesting reading don't<font color="#E5E5E5"> have good your</font>

1100
00:44:57,730 --> 00:45:03,880
mental arithmetic is but have a look at

1101
00:44:59,260 --> 00:45:07,240
this one<font color="#E5E5E5"> is 95 83 is generating 276,000</font>

1102
00:45:03,880 --> 00:45:09,750
updates per month<font color="#E5E5E5"> you divide</font><font color="#CCCCCC"> that out</font>

1103
00:45:07,240 --> 00:45:11,830
and how many updates per minute it is i

1104
00:45:09,750 --> 00:45:14,500
<font color="#E5E5E5">think when i did the numbers it's like</font>

1105
00:45:11,830 --> 00:45:16,660
three a minute so the sending three

1106
00:45:14,500 --> 00:45:18,310
updates per minute from that is so

1107
00:45:16,660 --> 00:45:25,270
that's from<font color="#CCCCCC"> satyam in philosophy in</font>

1108
00:45:18,310 --> 00:45:27,790
<font color="#E5E5E5">india we list some was the ears 1803 ICM</font>

1109
00:45:25,270 --> 00:45:32,470
sprint is basically miles away in

1110
00:45:27,790 --> 00:45:34,450
comparison or CR<font color="#E5E5E5"> nett and china they pop</font>

1111
00:45:32,470 --> 00:45:36,640
up again<font color="#E5E5E5"> 100 hundred thousand updates</font>

1112
00:45:34,450 --> 00:45:38,250
per month<font color="#E5E5E5"> so these are the sort of</font>

1113
00:45:36,640 --> 00:45:40,540
instabilities there's some really

1114
00:45:38,250 --> 00:45:42,490
amazingly bad ones this this one hasn't

1115
00:45:40,540 --> 00:45:44,109
been quite<font color="#E5E5E5"> so bad but some days you look</font>

1116
00:45:42,490 --> 00:45:46,450
at this it's just extraordinary amount

1117
00:45:44,109 --> 00:45:50,470
of<font color="#E5E5E5"> instabilities there but we're looking</font>

1118
00:45:46,450 --> 00:45:52,149
at like updates many updates per hour

1119
00:45:50,470 --> 00:45:54,609
coming from particular autonomous

1120
00:45:52,150 --> 00:45:57,250
systems if you look<font color="#E5E5E5"> at prefixes</font>

1121
00:45:54,609 --> 00:46:00,100
themselves the most bouncy prefix in the

1122
00:45:57,250 --> 00:46:04,540
world at the moment is 192 212 that 120

1123
00:46:00,100 --> 00:46:07,839
/ 24 which is 78,000 updates per month

1124
00:46:04,540 --> 00:46:11,470
so<font color="#CCCCCC"> that would be</font><font color="#E5E5E5"> walk one every two</font>

1125
00:46:07,840 --> 00:46:13,330
minutes so does<font color="#CCCCCC"> that sound like down on</font>

1126
00:46:11,470 --> 00:46:14,919
demand all day down<font color="#CCCCCC"> on the man but I</font>

1127
00:46:13,330 --> 00:46:16,440
don't know how things can update every

1128
00:46:14,920 --> 00:46:22,079
two minutes it just doesn't seem

1129
00:46:16,440 --> 00:46:24,660
<font color="#E5E5E5">seem feasible but we should damp that</font>

1130
00:46:22,079 --> 00:46:26,609
completely and that's the point a lot of

1131
00:46:24,660 --> 00:46:28,770
the folks<font color="#CCCCCC"> they will be</font><font color="#E5E5E5"> looking at</font><font color="#CCCCCC"> flat</font>

1132
00:46:26,609 --> 00:46:31,529
damping is saying flat damping should be

1133
00:46:28,770 --> 00:46:34,020
done totally not<font color="#E5E5E5"> per path and you can't</font>

1134
00:46:31,530 --> 00:46:36,180
configure total flat damping on any of

1135
00:46:34,020 --> 00:46:38,130
our routers than normal now I think<font color="#CCCCCC"> we</font>

1136
00:46:36,180 --> 00:46:40,618
really nice<font color="#CCCCCC"> me I would like to</font><font color="#E5E5E5"> try</font><font color="#CCCCCC"> it if</font>

1137
00:46:38,130 --> 00:46:44,069
I can<font color="#CCCCCC"> have a knob to actually do flat</font>

1138
00:46:40,619 --> 00:46:45,839
damping sort of any prefix flaps it's

1139
00:46:44,069 --> 00:46:47,940
all gone completely utterly and

1140
00:46:45,839 --> 00:46:51,540
absolutely that's what I would<font color="#CCCCCC"> like to</font>

1141
00:46:47,940 --> 00:46:53,550
see but I only work for a vendor it

1142
00:46:51,540 --> 00:46:56,970
needs customers to actually get features

1143
00:46:53,550 --> 00:46:58,859
done I can't get anything done at all so

1144
00:46:56,970 --> 00:47:00,868
if you if you think that flat damping

1145
00:46:58,859 --> 00:47:02,730
should be done absolutely please go and

1146
00:47:00,869 --> 00:47:04,260
beg to your favorite vendor to get them

1147
00:47:02,730 --> 00:47:06,060
to do it because<font color="#E5E5E5"> i think that would</font>

1148
00:47:04,260 --> 00:47:08,700
would actually make a big difference and

1149
00:47:06,060 --> 00:47:10,440
stop a lot of this stuff<font color="#E5E5E5"> because when</font>

1150
00:47:08,700 --> 00:47:13,290
you<font color="#E5E5E5"> look at it means</font><font color="#CCCCCC"> SiFi is causing a</font>

1151
00:47:10,440 --> 00:47:17,069
<font color="#CCCCCC">lot of it and it's</font><font color="#E5E5E5"> not that I haven't</font>

1152
00:47:13,290 --> 00:47:18,720
spoken to them about it either<font color="#CCCCCC"> okay</font>

1153
00:47:17,069 --> 00:47:20,430
anyway so that that's tracking the

1154
00:47:18,720 --> 00:47:22,680
updates<font color="#E5E5E5"> the instabilities in the routing</font>

1155
00:47:20,430 --> 00:47:24,990
system note this<font color="#CCCCCC"> is the view from</font><font color="#E5E5E5"> I</font>

1156
00:47:22,680 --> 00:47:26,970
think it's pretty much from the<font color="#E5E5E5"> tail</font>

1157
00:47:24,990 --> 00:47:28,290
stress network in Australia it will be

1158
00:47:26,970 --> 00:47:31,140
different in different parts of the

1159
00:47:28,290 --> 00:47:32,730
<font color="#CCCCCC">world so I need to check with</font><font color="#E5E5E5"> Jeff is</font>

1160
00:47:31,140 --> 00:47:35,009
actually not here in the<font color="#E5E5E5"> second half but</font>

1161
00:47:32,730 --> 00:47:36,150
I need<font color="#E5E5E5"> to check a Jeff where what views</font>

1162
00:47:35,010 --> 00:47:38,880
he actually gets to<font color="#E5E5E5"> see these</font>

1163
00:47:36,150 --> 00:47:40,170
instabilities but if any way you want<font color="#E5E5E5"> to</font>

1164
00:47:38,880 --> 00:47:43,050
track it in your part of the world and

1165
00:47:40,170 --> 00:47:45,329
sure be delighted anyway so aggregation

1166
00:47:43,050 --> 00:47:48,089
potentials this again is just taken from

1167
00:47:45,329 --> 00:47:49,980
Jeff's website because it shows it

1168
00:47:48,089 --> 00:47:52,740
better so there's the writing-table

1169
00:47:49,980 --> 00:47:55,980
today onwards and upwards this growth

1170
00:47:52,740 --> 00:47:57,868
rate here when I sort<font color="#E5E5E5"> of pulled it out</font>

1171
00:47:55,980 --> 00:47:59,910
and put a curve against it it's actually

1172
00:47:57,869 --> 00:48:01,800
<font color="#E5E5E5">faster than it's ever been it's faster</font>

1173
00:47:59,910 --> 00:48:05,310
than this piece here that was just

1174
00:48:01,800 --> 00:48:08,130
before<font color="#E5E5E5"> the dot-com bust 2000-2001 today</font>

1175
00:48:05,310 --> 00:48:09,810
it's faster than<font color="#E5E5E5"> it was i'm not</font><font color="#CCCCCC"> going to</font>

1176
00:48:08,130 --> 00:48:11,310
draw any parallels to the financial

1177
00:48:09,810 --> 00:48:15,779
<font color="#E5E5E5">collapse that's happening around our</font>

1178
00:48:11,310 --> 00:48:17,400
ears but maybe we can predict financial

1179
00:48:15,780 --> 00:48:20,250
collapses just by the rate of growth of

1180
00:48:17,400 --> 00:48:21,089
the routing table anyway sorry<font color="#E5E5E5"> what I</font>

1181
00:48:20,250 --> 00:48:24,420
was going<font color="#E5E5E5"> to</font><font color="#CCCCCC"> say is if you actually</font>

1182
00:48:21,089 --> 00:48:26,759
aggregate and buy<font color="#CCCCCC"> a s path it can pull</font>

1183
00:48:24,420 --> 00:48:28,500
the bgp table down<font color="#CCCCCC"> there aggregate by</font>

1184
00:48:26,760 --> 00:48:29,880
origin is it pulls it down there with

1185
00:48:28,500 --> 00:48:32,310
just<font color="#E5E5E5"> more than numbers that</font><font color="#CCCCCC"> i'm getting</font>

1186
00:48:29,880 --> 00:48:35,130
I aggregate but origin<font color="#CCCCCC"> is jeff aggregate</font>

1187
00:48:32,310 --> 00:48:36,810
spurious path which is up up there so

1188
00:48:35,130 --> 00:48:38,820
having something like<font color="#E5E5E5"> this in the router</font>

1189
00:48:36,810 --> 00:48:40,520
could actually be useful i know some isp

1190
00:48:38,820 --> 00:48:42,930
is actually do fill to what they get

1191
00:48:40,520 --> 00:48:44,400
again there's no real knob that you<font color="#E5E5E5"> can</font>

1192
00:48:42,930 --> 00:48:47,279
switch on in your router that<font color="#E5E5E5"> i'm aware</font>

1193
00:48:44,400 --> 00:48:49,380
of that if you see an aggregator it will

1194
00:48:47,280 --> 00:48:51,090
ignore all sub prefixes because i think

1195
00:48:49,380 --> 00:48:53,030
<font color="#CCCCCC">that</font><font color="#E5E5E5"> i think more people are going to</font>

1196
00:48:51,090 --> 00:48:55,140
start<font color="#E5E5E5"> asking for</font><font color="#CCCCCC"> that rather than pay</font>

1197
00:48:53,030 --> 00:48:59,400
thousands and thousands of<font color="#E5E5E5"> dollars</font><font color="#CCCCCC"> just</font>

1198
00:48:55,140 --> 00:49:01,680
to get extra gigs of ram anyway so i

1199
00:48:59,400 --> 00:49:04,860
would say<font color="#E5E5E5"> 35% saving is quite feasible</font>

1200
00:49:01,680 --> 00:49:07,470
in the<font color="#E5E5E5"> routing table today okay</font>

1201
00:49:04,860 --> 00:49:09,210
receiving prefixes this is getting<font color="#E5E5E5"> back</font>

1202
00:49:07,470 --> 00:49:11,970
to best practices or stop man gregation

1203
00:49:09,210 --> 00:49:14,040
right now receiving best practices the

1204
00:49:11,970 --> 00:49:17,549
three scenarios for receiving prefixes

1205
00:49:14,040 --> 00:49:20,930
from other a<font color="#E5E5E5"> esas if there's a customer</font>

1206
00:49:17,550 --> 00:49:23,070
talking bgp your peer or an upstream and

1207
00:49:20,930 --> 00:49:24,629
you kind of have to treat them<font color="#E5E5E5"> all</font>

1208
00:49:23,070 --> 00:49:26,610
differently you can't just treat them

1209
00:49:24,630 --> 00:49:29,490
<font color="#E5E5E5">all the same right they've got different</font>

1210
00:49:26,610 --> 00:49:33,800
filtering requirements and you need to

1211
00:49:29,490 --> 00:49:36,089
handle<font color="#E5E5E5"> them separately firstly customers</font>

1212
00:49:33,800 --> 00:49:37,290
you should<font color="#E5E5E5"> only accept prefixes from</font>

1213
00:49:36,090 --> 00:49:39,300
your customers that you know that

1214
00:49:37,290 --> 00:49:40,680
actually entitled to use so your

1215
00:49:39,300 --> 00:49:42,510
customer<font color="#E5E5E5"> wanders up to you and says hey</font>

1216
00:49:40,680 --> 00:49:44,669
I've got such and such an address space

1217
00:49:42,510 --> 00:49:48,120
check that it's actually there's<font color="#CCCCCC"> not</font>

1218
00:49:44,670 --> 00:49:50,130
just<font color="#E5E5E5"> something that made out of thin air</font>

1219
00:49:48,120 --> 00:49:51,870
or<font color="#CCCCCC"> something like that check that it</font>

1220
00:49:50,130 --> 00:49:53,130
actually is their address space to

1221
00:49:51,870 --> 00:49:55,020
announce<font color="#E5E5E5"> I mean obviously if you've</font>

1222
00:49:53,130 --> 00:49:57,360
assigned them an address block out if

1223
00:49:55,020 --> 00:49:58,740
you go in space it's fine but if they're

1224
00:49:57,360 --> 00:50:00,750
turning up with<font color="#E5E5E5"> the</font><font color="#CCCCCC"> wrong address space</font>

1225
00:49:58,740 --> 00:50:02,549
check that it really is their address

1226
00:50:00,750 --> 00:50:05,190
space that's all you can do there's no

1227
00:50:02,550 --> 00:50:07,200
other authoritative way you have to

1228
00:50:05,190 --> 00:50:08,400
check up the registry<font color="#E5E5E5"> database and it is</font>

1229
00:50:07,200 --> 00:50:11,460
<font color="#CCCCCC">actually</font><font color="#E5E5E5"> theirs if they are the</font>

1230
00:50:08,400 --> 00:50:15,500
registered ball user then you're

1231
00:50:11,460 --> 00:50:15,500
probably fine to announce it yeah

1232
00:50:22,670 --> 00:50:26,580
does that make<font color="#CCCCCC"> it harder from</font><font color="#E5E5E5"> tonight's</font>

1233
00:50:24,990 --> 00:50:29,450
address space<font color="#E5E5E5"> you network rather than</font>

1234
00:50:26,580 --> 00:50:35,790
four piers no I don't see why it should

1235
00:50:29,450 --> 00:50:37,589
really yes yes yeah i'm going to do that

1236
00:50:35,790 --> 00:50:42,090
next yeah piers should be<font color="#E5E5E5"> checking</font>

1237
00:50:37,590 --> 00:50:43,440
address space as well yes<font color="#CCCCCC"> i mean i</font><font color="#E5E5E5"> would</font>

1238
00:50:42,090 --> 00:50:45,630
even say upstream should be checking

1239
00:50:43,440 --> 00:50:47,490
<font color="#E5E5E5">address space to whether some classic</font>

1240
00:50:45,630 --> 00:50:49,020
cases were up streamed quite happy to

1241
00:50:47,490 --> 00:50:51,029
accept whatever the customer sent them

1242
00:50:49,020 --> 00:50:56,610
you have heard<font color="#E5E5E5"> of one or two instances</font>

1243
00:50:51,030 --> 00:50:59,520
in the past so but yeah it's generally

1244
00:50:56,610 --> 00:51:01,710
filtering filtering<font color="#CCCCCC"> your check what the</font>

1245
00:50:59,520 --> 00:51:08,310
<font color="#E5E5E5">customer is entitled to sand if they're</font>

1246
00:51:01,710 --> 00:51:10,170
<font color="#CCCCCC">not entitled ascended don't accept it so</font>

1247
00:51:08,310 --> 00:51:11,460
now the five registry<font color="#E5E5E5"> databases and</font>

1248
00:51:10,170 --> 00:51:14,190
that's pretty much all that you can

1249
00:51:11,460 --> 00:51:16,860
check<font color="#E5E5E5"> very simple tool who is so som</font>

1250
00:51:14,190 --> 00:51:18,990
some registries have a web interface to

1251
00:51:16,860 --> 00:51:21,180
the who is tool but you don't have<font color="#E5E5E5"> to do</font>

1252
00:51:18,990 --> 00:51:23,100
that<font color="#E5E5E5"> I mean most unix systems these days</font>

1253
00:51:21,180 --> 00:51:25,230
have a who is command used to who is and

1254
00:51:23,100 --> 00:51:26,520
<font color="#CCCCCC">and look</font><font color="#E5E5E5"> up the address space and if the</font>

1255
00:51:25,230 --> 00:51:28,920
customer doesn't match the one who's

1256
00:51:26,520 --> 00:51:31,770
coming along then you need to start

1257
00:51:28,920 --> 00:51:33,600
asking<font color="#CCCCCC"> questions so</font><font color="#E5E5E5"> I'm just throwing</font>

1258
00:51:31,770 --> 00:51:35,040
some examples in here I mean<font color="#E5E5E5"> if it's a</font>

1259
00:51:33,600 --> 00:51:37,830
portable address space you know it's

1260
00:51:35,040 --> 00:51:40,529
<font color="#E5E5E5">like somebody turns up and wants to want</font>

1261
00:51:37,830 --> 00:51:41,640
you<font color="#E5E5E5"> to write to to 1220 90 or you look</font>

1262
00:51:40,530 --> 00:51:43,080
it up and<font color="#E5E5E5"> say oh that's a pin eggs</font>

1263
00:51:41,640 --> 00:51:44,310
address space well if they're not<font color="#E5E5E5"> a</font>

1264
00:51:43,080 --> 00:51:45,990
panic then you probably don't<font color="#CCCCCC"> want to</font>

1265
00:51:44,310 --> 00:51:49,799
<font color="#E5E5E5">start announcing this address block for</font>

1266
00:51:45,990 --> 00:51:51,689
example here's another one somebody

1267
00:51:49,800 --> 00:51:53,640
turns up with one if you want to 82 well

1268
00:51:51,690 --> 00:51:55,290
if<font color="#E5E5E5"> they are if they're not wood</font>

1269
00:51:53,640 --> 00:51:57,690
mackenzie if that still belongs to win

1270
00:51:55,290 --> 00:51:59,250
<font color="#CCCCCC">mackenzie then well you shouldn't be</font>

1271
00:51:57,690 --> 00:52:03,630
<font color="#E5E5E5">again shouldn't be announcing the</font>

1272
00:51:59,250 --> 00:52:05,220
address block right so from peers but

1273
00:52:03,630 --> 00:52:07,800
somebody with whom you agreed to

1274
00:52:05,220 --> 00:52:12,270
exchange prefixes we originated in to

1275
00:52:07,800 --> 00:52:13,950
the internet so generally so private

1276
00:52:12,270 --> 00:52:15,300
peering so you are giving reach ability

1277
00:52:13,950 --> 00:52:17,399
into your network to them and they're

1278
00:52:15,300 --> 00:52:19,440
giving reach ability<font color="#E5E5E5"> i'm into their</font>

1279
00:52:17,400 --> 00:52:23,370
network to you so that's pretty much<font color="#E5E5E5"> all</font>

1280
00:52:19,440 --> 00:52:25,320
that you should be doing<font color="#E5E5E5"> with a peer so</font>

1281
00:52:23,370 --> 00:52:26,819
the prefixes that you accept from them

1282
00:52:25,320 --> 00:52:29,100
or what they're entitled<font color="#E5E5E5"> to a not so</font>

1283
00:52:26,820 --> 00:52:29,619
again you you agree as part of the

1284
00:52:29,100 --> 00:52:30,970
<font color="#E5E5E5">period</font>

1285
00:52:29,619 --> 00:52:34,089
changement what you're going to exchange

1286
00:52:30,970 --> 00:52:35,680
with each other now when it you could

1287
00:52:34,089 --> 00:52:37,420
agree various ways to<font color="#E5E5E5"> do it may be</font>

1288
00:52:35,680 --> 00:52:39,098
exchanged emails with each other or

1289
00:52:37,420 --> 00:52:42,309
maybe you decide to use<font color="#CCCCCC"> a</font><font color="#E5E5E5"> writing</font>

1290
00:52:39,099 --> 00:52:43,569
registry or something like that but at

1291
00:52:42,309 --> 00:52:46,390
least you come to some agreement what

1292
00:52:43,569 --> 00:52:48,519
you can and cannot accept again some<font color="#CCCCCC"> of</font>

1293
00:52:46,390 --> 00:52:50,379
the peelings<font color="#E5E5E5"> I've seen especially to</font>

1294
00:52:48,519 --> 00:52:51,879
internet exchange points<font color="#E5E5E5"> it's like open</font>

1295
00:52:50,380 --> 00:52:53,470
season yeah<font color="#E5E5E5"> I'll accept any old rubbish</font>

1296
00:52:51,880 --> 00:52:55,690
you<font color="#E5E5E5"> send me and i'll send you any old</font>

1297
00:52:53,470 --> 00:52:57,578
rubbish that<font color="#E5E5E5"> i have that's only going to</font>

1298
00:52:55,690 --> 00:52:59,170
end up with with serious accidents

1299
00:52:57,579 --> 00:53:01,390
somebody sends<font color="#E5E5E5"> your default</font><font color="#CCCCCC"> cryer to</font>

1300
00:52:59,170 --> 00:53:03,549
<font color="#CCCCCC">cross your private peering well you'll</font>

1301
00:53:01,390 --> 00:53:05,470
<font color="#E5E5E5">end up using their links for all your</font>

1302
00:53:03,549 --> 00:53:07,269
outbound traffic rather than your own

1303
00:53:05,470 --> 00:53:12,609
links and your own links are probably a

1304
00:53:07,269 --> 00:53:14,288
lot<font color="#E5E5E5"> better than theirs for example so</font>

1305
00:53:12,609 --> 00:53:16,348
you agree what each other going to send

1306
00:53:14,289 --> 00:53:18,849
or use the Internet routing registry

1307
00:53:16,349 --> 00:53:21,940
quite a<font color="#E5E5E5"> few ice be used internet writing</font>

1308
00:53:18,849 --> 00:53:24,190
registry if you want to automatically

1309
00:53:21,940 --> 00:53:25,839
configure your your routers and so forth

1310
00:53:24,190 --> 00:53:28,690
or semi-automatically you can use the

1311
00:53:25,839 --> 00:53:31,390
IRL<font color="#E5E5E5"> tool set which is e look after or</font>

1312
00:53:28,690 --> 00:53:33,190
you can write your<font color="#E5E5E5"> own scripting to do</font>

1313
00:53:31,390 --> 00:53:35,078
that I mean again I<font color="#CCCCCC"> Spees either do</font>

1314
00:53:33,190 --> 00:53:38,039
though and scripting or<font color="#E5E5E5"> they use the IRR</font>

1315
00:53:35,079 --> 00:53:41,289
<font color="#CCCCCC">toolset so that's that's all possible</font>

1316
00:53:38,039 --> 00:53:42,880
what about up streams well the upstream

1317
00:53:41,289 --> 00:53:44,799
are your<font color="#E5E5E5"> trance providers the ice P who</font>

1318
00:53:42,880 --> 00:53:47,799
you're paying to give transit to the

1319
00:53:44,799 --> 00:53:49,930
whole<font color="#E5E5E5"> internet so do you want to receive</font>

1320
00:53:47,799 --> 00:53:52,509
food prefixes from them all two hundred

1321
00:53:49,930 --> 00:53:54,489
seventy thousand or so well I mean<font color="#E5E5E5"> you</font>

1322
00:53:52,509 --> 00:53:57,249
can do if you<font color="#CCCCCC"> want to I always ask the</font>

1323
00:53:54,489 --> 00:53:59,230
question do you need to what's wrong

1324
00:53:57,249 --> 00:54:01,450
with the default route default route

1325
00:53:59,230 --> 00:54:03,309
says I know how to get<font color="#CCCCCC"> to the internet I</font>

1326
00:54:01,450 --> 00:54:04,749
mean if<font color="#CCCCCC"> you're upstream providers only</font>

1327
00:54:03,309 --> 00:54:06,009
got a single connection to the internet

1328
00:54:04,749 --> 00:54:07,720
then you probably don't<font color="#CCCCCC"> want</font><font color="#E5E5E5"> just a</font>

1329
00:54:06,009 --> 00:54:09,309
default right from them because they

1330
00:54:07,720 --> 00:54:11,589
don't have any redundancy but if they're

1331
00:54:09,309 --> 00:54:13,239
<font color="#E5E5E5">well connected and so forth getting into</font>

1332
00:54:11,589 --> 00:54:15,210
<font color="#E5E5E5">fault route from them is probably a good</font>

1333
00:54:13,239 --> 00:54:18,249
<font color="#E5E5E5">thing to do it's certainly safety</font>

1334
00:54:15,210 --> 00:54:20,650
270,000 prefixes and boy doesn't make<font color="#E5E5E5"> in</font>

1335
00:54:18,249 --> 00:54:22,720
BGP convergence speed up if you<font color="#E5E5E5"> can link</font>

1336
00:54:20,650 --> 00:54:24,579
failures you will feel over to<font color="#CCCCCC"> backup</font>

1337
00:54:22,720 --> 00:54:27,700
links in a matter of seconds rather than

1338
00:54:24,579 --> 00:54:31,119
matter of minutes<font color="#E5E5E5"> so having</font><font color="#CCCCCC"> a sparse bgp</font>

1339
00:54:27,700 --> 00:54:32,828
tables generally pretty nice idea if

1340
00:54:31,119 --> 00:54:34,299
your transit provider it's probably

1341
00:54:32,829 --> 00:54:36,039
slightly different<font color="#CCCCCC"> mean if your transit</font>

1342
00:54:34,299 --> 00:54:38,079
provider you probably<font color="#E5E5E5"> want to have the</font>

1343
00:54:36,039 --> 00:54:41,079
fool bgp table because then your

1344
00:54:38,079 --> 00:54:42,910
customers probably want a full table or

1345
00:54:41,079 --> 00:54:45,220
substantial table or<font color="#CCCCCC"> something like that</font>

1346
00:54:42,910 --> 00:54:47,558
and it gets<font color="#E5E5E5"> too hard for them to try and</font>

1347
00:54:45,220 --> 00:54:48,939
do any<font color="#CCCCCC"> multi-homing but we look at</font>

1348
00:54:47,559 --> 00:54:50,799
internet today although what three and a

1349
00:54:48,940 --> 00:54:53,890
half thousand autonomous systems provide

1350
00:54:50,799 --> 00:54:55,569
transit 26,000 or end of the internet

1351
00:54:53,890 --> 00:54:57,759
they're not providing transit anywhere

1352
00:54:55,569 --> 00:54:59,859
else<font color="#E5E5E5"> so if you're</font><font color="#CCCCCC"> not providing transit</font>

1353
00:54:57,760 --> 00:55:04,539
other autonomous systems ask yourself

1354
00:54:59,859 --> 00:55:06,670
why do you need a full bgp table so if

1355
00:55:04,539 --> 00:55:09,819
you want to<font color="#E5E5E5"> receive prefixes again don't</font>

1356
00:55:06,670 --> 00:55:12,059
just accept any old rubbish again many

1357
00:55:09,819 --> 00:55:14,680
historical accidents have happened

1358
00:55:12,059 --> 00:55:17,260
because people have accepted any old

1359
00:55:14,680 --> 00:55:20,529
rubbish but starter you don't want to

1360
00:55:17,260 --> 00:55:23,859
<font color="#E5E5E5">receive the private address space a lot</font>

1361
00:55:20,530 --> 00:55:26,349
of<font color="#E5E5E5"> lot of prefix in RFC 3339 a special</font>

1362
00:55:23,859 --> 00:55:30,759
use some should be routed other should

1363
00:55:26,349 --> 00:55:32,859
not so have<font color="#CCCCCC"> checked check those up just</font>

1364
00:55:30,760 --> 00:55:34,720
to make sure that you're<font color="#E5E5E5"> getting the</font>

1365
00:55:32,859 --> 00:55:36,520
right stuff don't accept<font color="#E5E5E5"> your own</font>

1366
00:55:34,720 --> 00:55:38,709
prefixes why would you hear your own

1367
00:55:36,520 --> 00:55:41,440
prefixes from anywhere else that's

1368
00:55:38,710 --> 00:55:42,789
<font color="#E5E5E5">pretty unusual don't accept</font><font color="#CCCCCC"> the default</font>

1369
00:55:41,440 --> 00:55:44,319
route unless you need it because some

1370
00:55:42,789 --> 00:55:46,329
time to time the default route does get

1371
00:55:44,319 --> 00:55:47,740
announced by accident so you<font color="#E5E5E5"> probably</font>

1372
00:55:46,329 --> 00:55:49,329
don't<font color="#CCCCCC"> want to hear a default route from</font>

1373
00:55:47,740 --> 00:55:53,259
some places you weren't going to<font color="#E5E5E5"> expect</font>

1374
00:55:49,329 --> 00:55:55,329
it some people are now allow prefixes

1375
00:55:53,260 --> 00:55:57,579
longer than / 24 it seems to<font color="#E5E5E5"> be again</font>

1376
00:55:55,329 --> 00:56:02,049
industry standard of not accepting

1377
00:55:57,579 --> 00:56:04,089
anything longer than 24 so 25<font color="#E5E5E5"> 26 27 28</font>

1378
00:56:02,049 --> 00:56:06,520
you don't really want you<font color="#E5E5E5"> don't expect</font>

1379
00:56:04,089 --> 00:56:07,900
<font color="#E5E5E5">to see these they're not many of them</font>

1380
00:56:06,520 --> 00:56:10,529
anyway it's not<font color="#E5E5E5"> going to cause a massive</font>

1381
00:56:07,900 --> 00:56:13,119
<font color="#E5E5E5">problem but generally you don't see them</font>

1382
00:56:10,529 --> 00:56:15,279
if all this is<font color="#E5E5E5"> too much for you well</font>

1383
00:56:13,119 --> 00:56:18,099
team come we have a nice service they've

1384
00:56:15,279 --> 00:56:20,049
got this bull gone right server which

1385
00:56:18,099 --> 00:56:24,039
basically<font color="#E5E5E5"> will send you a BGP prefect</font>

1386
00:56:20,049 --> 00:56:26,589
bgp feed of prefixes that you probably

1387
00:56:24,039 --> 00:56:28,390
don't<font color="#CCCCCC"> want to</font><font color="#E5E5E5"> see on the internet okay</font>

1388
00:56:26,589 --> 00:56:30,730
so you can<font color="#E5E5E5"> sign up</font><font color="#CCCCCC"> to that service if</font>

1389
00:56:28,390 --> 00:56:33,009
<font color="#CCCCCC">you want to do it or anybody else who</font>

1390
00:56:30,730 --> 00:56:34,720
offers a service like that when I know

1391
00:56:33,010 --> 00:56:37,599
quite a few rsps are using it you're

1392
00:56:34,720 --> 00:56:39,339
perfectly happy but for goodness sake if

1393
00:56:37,599 --> 00:56:42,279
you're<font color="#E5E5E5"> going to do this sort of bug on</font>

1394
00:56:39,339 --> 00:56:44,440
based filtering safer like the registry

1395
00:56:42,279 --> 00:56:46,630
unassigned prefixes and so on keep it up

1396
00:56:44,440 --> 00:56:48,609
to date<font color="#E5E5E5"> I'm not going to tell my</font>

1397
00:56:46,630 --> 00:56:49,750
Mongolia story and this this<font color="#E5E5E5"> thing I</font>

1398
00:56:48,609 --> 00:56:51,578
<font color="#CCCCCC">don't</font><font color="#E5E5E5"> have enough time but you know</font>

1399
00:56:49,750 --> 00:56:52,960
there's many many classic examples of

1400
00:56:51,579 --> 00:56:56,289
people<font color="#E5E5E5"> were doing static filtering in</font>

1401
00:56:52,960 --> 00:56:56,710
and not updating it so it's easiest to

1402
00:56:56,289 --> 00:56:59,050
use

1403
00:56:56,710 --> 00:57:02,320
this that's right server and that way

1404
00:56:59,050 --> 00:57:06,330
you ensure that the prefixes that you're

1405
00:57:02,320 --> 00:57:08,950
receiving will always be current and

1406
00:57:06,330 --> 00:57:10,450
<font color="#CCCCCC">it's</font><font color="#E5E5E5"> anyway so generally paying</font>

1407
00:57:08,950 --> 00:57:13,660
attention to prefix you receive<font color="#E5E5E5"> from</font>

1408
00:57:10,450 --> 00:57:15,279
customers your peers transit providers

1409
00:57:13,660 --> 00:57:17,500
it all helps with integrity of the local

1410
00:57:15,280 --> 00:57:19,660
<font color="#CCCCCC">network and with integrity of the</font>

1411
00:57:17,500 --> 00:57:21,490
internet so I say many of the accidents

1412
00:57:19,660 --> 00:57:23,230
on the net have happened simply because

1413
00:57:21,490 --> 00:57:26,169
people have not been filtering a

1414
00:57:23,230 --> 00:57:28,540
proprietary or properly nobody owns<font color="#E5E5E5"> the</font>

1415
00:57:26,170 --> 00:57:29,859
<font color="#CCCCCC">internet well we own the internet so if</font>

1416
00:57:28,540 --> 00:57:32,310
we want the internet to work as we

1417
00:57:29,859 --> 00:57:36,160
expect it then we really need<font color="#CCCCCC"> to behave</font>

1418
00:57:32,310 --> 00:57:39,450
properly on it and look after it right

1419
00:57:36,160 --> 00:57:41,200
so the<font color="#E5E5E5"> final piece configuration tips</font>

1420
00:57:39,450 --> 00:57:43,330
I'm<font color="#E5E5E5"> just going to go</font><font color="#CCCCCC"> through some</font>

1421
00:57:41,200 --> 00:57:47,529
configuration tips templates and so

1422
00:57:43,330 --> 00:57:50,319
forth a lot of<font color="#CCCCCC"> these are good practices</font>

1423
00:57:47,530 --> 00:57:52,300
some arguable good practices but I've

1424
00:57:50,320 --> 00:57:54,540
put down here a lot<font color="#CCCCCC"> of the ones</font><font color="#E5E5E5"> that I</font>

1425
00:57:52,300 --> 00:57:57,820
found people insist a really good ideas

1426
00:57:54,540 --> 00:57:59,830
the first would<font color="#E5E5E5"> really well use loopback</font>

1427
00:57:57,820 --> 00:58:01,750
for ibgp pairings because that way we

1428
00:57:59,830 --> 00:58:03,848
keep our ibgp independent of our

1429
00:58:01,750 --> 00:58:05,650
infrastructure some people still run

1430
00:58:03,849 --> 00:58:07,270
ibgp between wheel interfaces the

1431
00:58:05,650 --> 00:58:10,900
downside is if a real interface goes

1432
00:58:07,270 --> 00:58:14,710
down your ibgp will go down and put<font color="#E5E5E5"> the</font>

1433
00:58:10,900 --> 00:58:18,400
loopback<font color="#E5E5E5"> 32 into the</font><font color="#CCCCCC"> IGP think about the</font>

1434
00:58:14,710 --> 00:58:20,170
demarcations so networks so do<font color="#E5E5E5"> you want</font>

1435
00:58:18,400 --> 00:58:22,359
to use a numbered interfaces some<font color="#CCCCCC"> our</font>

1436
00:58:20,170 --> 00:58:25,450
species<font color="#E5E5E5"> are none unnumbered interfaces</font>

1437
00:58:22,359 --> 00:58:27,880
for point-to-point links to customers a

1438
00:58:25,450 --> 00:58:30,160
lot<font color="#E5E5E5"> of ISPs more and more these days are</font>

1439
00:58:27,880 --> 00:58:32,320
using<font color="#CCCCCC"> next hop cell so they set the</font>

1440
00:58:30,160 --> 00:58:33,730
external<font color="#E5E5E5"> next top or replace the</font>

1441
00:58:32,320 --> 00:58:37,060
external next<font color="#E5E5E5"> stop with that of the</font>

1442
00:58:33,730 --> 00:58:39,970
<font color="#E5E5E5">local router some people carry the DMR</font>

1443
00:58:37,060 --> 00:58:42,820
Cashin zone / dodges in BGP because the

1444
00:58:39,970 --> 00:58:45,640
monitor customer links so you<font color="#E5E5E5"> don't put</font>

1445
00:58:42,820 --> 00:58:47,790
them in the<font color="#CCCCCC"> IGP you put them in BGP we</font>

1446
00:58:45,640 --> 00:58:49,810
tag them with a special community and

1447
00:58:47,790 --> 00:58:52,089
only the router that connects to<font color="#E5E5E5"> your</font>

1448
00:58:49,810 --> 00:58:53,920
not we'll let that community through so

1449
00:58:52,089 --> 00:58:55,990
that so you're not can actually see the

1450
00:58:53,920 --> 00:58:58,270
point-to-point links that kind of thing

1451
00:58:55,990 --> 00:59:00,580
perhaps but basically you want<font color="#E5E5E5"> to keep</font>

1452
00:58:58,270 --> 00:59:02,980
all the demarcation point-to-point links

1453
00:59:00,580 --> 00:59:07,779
out of your<font color="#CCCCCC"> igp and that keeps it</font><font color="#E5E5E5"> nice</font>

1454
00:59:02,980 --> 00:59:09,800
and small so that's<font color="#E5E5E5"> the next</font><font color="#CCCCCC"> hop self so</font>

1455
00:59:07,780 --> 00:59:12,500
the BGP speaker will announce

1456
00:59:09,800 --> 00:59:17,420
external network using the router local

1457
00:59:12,500 --> 00:59:21,170
address and that is very<font color="#E5E5E5"> useful to help</font>

1458
00:59:17,420 --> 00:59:23,150
<font color="#E5E5E5">produce the</font><font color="#CCCCCC"> igp some people</font><font color="#E5E5E5"> limit the</font>

1459
00:59:21,170 --> 00:59:25,040
<font color="#CCCCCC">airs path lengths I mean internet</font><font color="#E5E5E5"> an</font>

1460
00:59:23,150 --> 00:59:27,590
<font color="#E5E5E5">average is five autonomous systems deep</font>

1461
00:59:25,040 --> 00:59:30,020
when even crossing the network I think

1462
00:59:27,590 --> 00:59:31,850
the longest EAS path be with unique a

1463
00:59:30,020 --> 00:59:34,460
esas without any pre<font color="#CCCCCC"> pens or something</font>

1464
00:59:31,850 --> 00:59:37,190
like 12 or 13<font color="#E5E5E5"> so the internet is not</font>

1465
00:59:34,460 --> 00:59:39,230
really<font color="#CCCCCC"> that broad is very very dense so</font>

1466
00:59:37,190 --> 00:59:41,930
some are ESPYs go well I'm only really

1467
00:59:39,230 --> 00:59:44,690
going to see about 13 or 14 max why

1468
00:59:41,930 --> 00:59:47,810
should<font color="#E5E5E5"> I see an AS path with six TAS as</font>

1469
00:59:44,690 --> 00:59:50,090
long so they they limit the number of

1470
00:59:47,810 --> 00:59:53,720
the maximum is path length to<font color="#CCCCCC"> around</font>

1471
00:59:50,090 --> 00:59:55,160
<font color="#E5E5E5">about</font><font color="#CCCCCC"> 20 autonomous systems</font><font color="#E5E5E5"> okay again I</font>

1472
00:59:53,720 --> 00:59:57,560
track these numbers the<font color="#CCCCCC"> internet</font>

1473
00:59:55,160 --> 01:00:00,259
generally<font color="#E5E5E5"> the longest es path sometimes</font>

1474
00:59:57,560 --> 01:00:02,240
usually about 14 or 15 and then every

1475
01:00:00,260 --> 01:00:04,130
month or two pops up<font color="#CCCCCC"> to about</font><font color="#E5E5E5"> 50 or so</font>

1476
01:00:02,240 --> 01:00:05,899
ago somebody does a 40 times<font color="#CCCCCC"> pre pen</font>

1477
01:00:04,130 --> 01:00:09,830
because<font color="#E5E5E5"> they don't know how local</font>

1478
01:00:05,900 --> 01:00:11,630
perhaps work or something so some rsps

1479
01:00:09,830 --> 01:00:13,670
will do this I mean there was something

1480
01:00:11,630 --> 01:00:17,480
was at 23 years ago there was somebody

1481
01:00:13,670 --> 01:00:20,300
tried to do<font color="#E5E5E5"> a 255 or 256 yes path and it</font>

1482
01:00:17,480 --> 01:00:22,730
corrupted good because in the software

1483
01:00:20,300 --> 01:00:24,170
didn't actually check for because nobody

1484
01:00:22,730 --> 01:00:26,330
<font color="#E5E5E5">ever thought that a esas will ever be</font>

1485
01:00:24,170 --> 01:00:29,030
more than 255 so it<font color="#E5E5E5"> didn't actually</font>

1486
01:00:26,330 --> 01:00:30,470
check in the software whether it would

1487
01:00:29,030 --> 01:00:32,510
<font color="#CCCCCC">be longer so overwrought some other</font>

1488
01:00:30,470 --> 01:00:35,930
memory and started causing<font color="#E5E5E5"> Rogers to</font>

1489
01:00:32,510 --> 01:00:38,000
crash so you see some ridiculous

1490
01:00:35,930 --> 01:00:40,370
examples this is old one from the days

1491
01:00:38,000 --> 01:00:42,440
of the<font color="#E5E5E5"> six born the ipv6 experimental</font>

1492
01:00:40,370 --> 01:00:44,299
<font color="#E5E5E5">network long gone but you saw something</font>

1493
01:00:42,440 --> 01:00:47,870
absurd like this this<font color="#E5E5E5"> is actually</font><font color="#CCCCCC"> caused</font>

1494
01:00:44,300 --> 01:00:49,730
<font color="#CCCCCC">bamberg a withdraw bag but you still see</font>

1495
01:00:47,870 --> 01:00:51,859
these ridiculously long ears paths and

1496
01:00:49,730 --> 01:00:55,370
here somebody's done a mass ave s past

1497
01:00:51,860 --> 01:00:56,660
prepend as160 327 this is the best path

1498
01:00:55,370 --> 01:00:58,310
it's<font color="#E5E5E5"> the only path in the routing</font><font color="#CCCCCC"> table</font>

1499
01:00:56,660 --> 01:01:01,490
but they've done a big pre pen for some

1500
01:00:58,310 --> 01:01:06,740
reason<font color="#CCCCCC"> ok no doing</font><font color="#E5E5E5"> massive pre pens will</font>

1501
01:01:01,490 --> 01:01:08,540
not override local<font color="#E5E5E5"> pratts so anyway but</font>

1502
01:01:06,740 --> 01:01:10,009
you know the more classic examples<font color="#CCCCCC"> 20s</font>

1503
01:01:08,540 --> 01:01:13,190
miles compared to<font color="#CCCCCC"> summit</font><font color="#E5E5E5"> I've actually</font>

1504
01:01:10,010 --> 01:01:15,530
<font color="#E5E5E5">seen so some people actually no limit</font>

1505
01:01:13,190 --> 01:01:18,200
<font color="#CCCCCC">Aires path the maximum length of a s</font>

1506
01:01:15,530 --> 01:01:20,000
paths with prefix has more than say<font color="#CCCCCC"> 20</font>

1507
01:01:18,200 --> 01:01:22,149
asses in the path they ignore the prefix

1508
01:01:20,000 --> 01:01:25,900
or the other

1509
01:01:22,150 --> 01:01:28,660
there's a<font color="#CCCCCC"> bgp TTL hack again it's</font>

1510
01:01:25,900 --> 01:01:31,750
limited deployment<font color="#CCCCCC"> I've found mean rse</font>

1511
01:01:28,660 --> 01:01:34,750
<font color="#E5E5E5">5082 describes this as a bit of a neat</font>

1512
01:01:31,750 --> 01:01:37,059
trick it's<font color="#E5E5E5"> designed to stop dos attacks</font>

1513
01:01:34,750 --> 01:01:40,690
and bgp sessions so the<font color="#E5E5E5"> way this works</font>

1514
01:01:37,059 --> 01:01:43,180
is<font color="#CCCCCC"> you basically your router is sitting</font>

1515
01:01:40,690 --> 01:01:45,849
here<font color="#E5E5E5"> well normally your TTL it will be</font>

1516
01:01:43,180 --> 01:01:47,230
one here TT l0 layer which is<font color="#E5E5E5"> fine for</font>

1517
01:01:45,849 --> 01:01:49,240
somebody sitting out in the network

1518
01:01:47,230 --> 01:01:51,279
Chris they can send<font color="#E5E5E5"> craft in BGP packets</font>

1519
01:01:49,240 --> 01:01:53,890
with the<font color="#E5E5E5"> right TTL to try and disrupt</font>

1520
01:01:51,279 --> 01:01:57,670
the<font color="#E5E5E5"> BGP session here well the front of</font>

1521
01:01:53,890 --> 01:02:00,368
two sets of TTL to 255 then router one

1522
01:01:57,670 --> 01:02:02,559
expects the TTL coming in to be<font color="#CCCCCC"> 254</font>

1523
01:02:00,369 --> 01:02:07,420
<font color="#CCCCCC">surrounding one has told expect the TTL</font>

1524
01:02:02,559 --> 01:02:10,990
<font color="#CCCCCC">two from router to to be 254 or 255 i</font>

1525
01:02:07,420 --> 01:02:12,609
should say<font color="#E5E5E5"> expect</font><font color="#CCCCCC"> in between 55 then</font>

1526
01:02:10,990 --> 01:02:14,618
what<font color="#E5E5E5"> the</font><font color="#CCCCCC"> BGP session will work and that</font>

1527
01:02:12,609 --> 01:02:16,450
the beauty of this is<font color="#E5E5E5"> an attack is</font>

1528
01:02:14,619 --> 01:02:18,400
sitting out<font color="#CCCCCC"> he has to send a packet the</font>

1529
01:02:16,450 --> 01:02:21,520
TTL will be reduced it arrives at router

1530
01:02:18,400 --> 01:02:24,069
one with a time<font color="#CCCCCC"> to live with 253 so</font>

1531
01:02:21,520 --> 01:02:26,770
router one grows boss not for me wrong

1532
01:02:24,069 --> 01:02:28,480
time to<font color="#E5E5E5"> live goodbye so it's a pretty</font>

1533
01:02:26,770 --> 01:02:30,910
neat trick which some are ESPYs<font color="#CCCCCC"> are</font>

1534
01:02:28,480 --> 01:02:37,299
usually to try and avoid having these a

1535
01:02:30,910 --> 01:02:39,788
general attack zombie gpp rings so there

1536
01:02:37,299 --> 01:02:41,680
was a nano presentation back in 2003

1537
01:02:39,789 --> 01:02:45,220
explaining how this all work as I said

1538
01:02:41,680 --> 01:02:46,868
<font color="#E5E5E5">it's an RFC some RSP use it as it gives</font>

1539
01:02:45,220 --> 01:02:49,149
<font color="#E5E5E5">them as i put in brackets or quotes</font>

1540
01:02:46,869 --> 01:02:53,380
their security for the<font color="#E5E5E5"> bgp sessions so</font>

1541
01:02:49,150 --> 01:02:55,119
some isps consider it useful I'm note

1542
01:02:53,380 --> 01:02:56,650
that both neighbors have to agree to<font color="#E5E5E5"> use</font>

1543
01:02:55,119 --> 01:02:57,789
the feature you can't just decide<font color="#CCCCCC"> to set</font>

1544
01:02:56,650 --> 01:03:01,059
it up yourself because your neighbor

1545
01:02:57,789 --> 01:03:03,940
will still send packets with TTL one so

1546
01:03:01,059 --> 01:03:06,789
it won't<font color="#CCCCCC"> be too useful if and you try</font>

1547
01:03:03,940 --> 01:03:09,609
and<font color="#E5E5E5"> configure it templates i always</font>

1548
01:03:06,789 --> 01:03:11,260
<font color="#E5E5E5">think templates are great things for</font>

1549
01:03:09,609 --> 01:03:12,819
<font color="#E5E5E5">doing configurations nothing worse than</font>

1550
01:03:11,260 --> 01:03:15,039
trying new custom configurations for

1551
01:03:12,819 --> 01:03:16,650
every<font color="#E5E5E5"> single</font><font color="#CCCCCC"> roger in your network most</font>

1552
01:03:15,039 --> 01:03:20,589
hours piece of what core distribution

1553
01:03:16,650 --> 01:03:22,630
aggregation border service system

1554
01:03:20,589 --> 01:03:24,490
whatever routers so if you have

1555
01:03:22,630 --> 01:03:25,990
standardized configurations for each one

1556
01:03:24,490 --> 01:03:28,180
then it makes managing the network much

1557
01:03:25,990 --> 01:03:29,439
easier you just<font color="#E5E5E5"> put the standardized</font>

1558
01:03:28,180 --> 01:03:31,629
configuration if you need to<font color="#E5E5E5"> make a</font>

1559
01:03:29,440 --> 01:03:33,250
<font color="#CCCCCC">change you update your template and then</font>

1560
01:03:31,630 --> 01:03:34,869
<font color="#E5E5E5">you upload it to all the rioters and</font>

1561
01:03:33,250 --> 01:03:35,540
then you knew all the<font color="#E5E5E5"> writers will get</font>

1562
01:03:34,869 --> 01:03:37,070
updated

1563
01:03:35,540 --> 01:03:41,390
cheese<font color="#E5E5E5"> then running around each one and</font>

1564
01:03:37,070 --> 01:03:43,010
making custom changes also then the

1565
01:03:41,390 --> 01:03:44,990
defaults tend not to be optimal even

1566
01:03:43,010 --> 01:03:46,490
very useful for isps just because the

1567
01:03:44,990 --> 01:03:48,470
vendors decided that one thing should be

1568
01:03:46,490 --> 01:03:50,209
a default does not mean<font color="#E5E5E5"> it should</font><font color="#CCCCCC"> be the</font>

1569
01:03:48,470 --> 01:03:53,270
default you need to<font color="#E5E5E5"> decide what the</font>

1570
01:03:50,210 --> 01:03:54,920
default is for<font color="#E5E5E5"> your network when yes</font>

1571
01:03:53,270 --> 01:03:56,990
there's some obvious defaults that the

1572
01:03:54,920 --> 01:03:58,460
whole industry thinks should be but the

1573
01:03:56,990 --> 01:04:00,500
problem<font color="#CCCCCC"> with a</font><font color="#E5E5E5"> lot</font><font color="#CCCCCC"> of vendors</font><font color="#E5E5E5"> as they</font>

1574
01:03:58,460 --> 01:04:03,500
service more than one market so trying

1575
01:04:00,500 --> 01:04:05,450
to find a nice default for that fits

1576
01:04:03,500 --> 01:04:07,730
into all my kids is probably a bit<font color="#E5E5E5"> of a</font>

1577
01:04:05,450 --> 01:04:09,319
challenge so what you find is the ISPs

1578
01:04:07,730 --> 01:04:11,920
tend to just create their own templates

1579
01:04:09,320 --> 01:04:14,840
the some industry<font color="#CCCCCC"> well-known defaults</font>

1580
01:04:11,920 --> 01:04:16,820
folks like the team can we keep these if

1581
01:04:14,840 --> 01:04:19,450
you<font color="#E5E5E5"> look in</font><font color="#CCCCCC"> the reading room they've got</font>

1582
01:04:16,820 --> 01:04:21,860
various router<font color="#CCCCCC"> on</font><font color="#E5E5E5"> bgp and all the rest</font>

1583
01:04:19,450 --> 01:04:25,310
templates which are considered industry

1584
01:04:21,860 --> 01:04:27,530
best practice good practice people

1585
01:04:25,310 --> 01:04:29,360
favorites and so forth that you might

1586
01:04:27,530 --> 01:04:32,330
<font color="#CCCCCC">like to</font><font color="#E5E5E5"> consider adopting for your own</font>

1587
01:04:29,360 --> 01:04:34,970
network so<font color="#E5E5E5"> I've put some I BG group's</font>

1588
01:04:32,330 --> 01:04:36,590
ibgp ones here<font color="#CCCCCC"> so I</font><font color="#E5E5E5"> beach beauty</font>

1589
01:04:34,970 --> 01:04:39,230
loopback interface is pretty much

1590
01:04:36,590 --> 01:04:42,050
standard<font color="#E5E5E5"> next hop self pretty much</font>

1591
01:04:39,230 --> 01:04:43,910
standard<font color="#E5E5E5"> sending communities and I bgp</font>

1592
01:04:42,050 --> 01:04:45,470
otherwise accidents<font color="#CCCCCC"> will happen you know</font>

1593
01:04:43,910 --> 01:04:47,299
if your neighbor sends you have prefixed

1594
01:04:45,470 --> 01:04:49,819
with<font color="#CCCCCC"> new export and you don't send</font>

1595
01:04:47,300 --> 01:04:51,560
communities within your ibgp your

1596
01:04:49,820 --> 01:04:53,450
neighbors wasting the time and you end

1597
01:04:51,560 --> 01:04:56,750
up leaking the prefix that<font color="#E5E5E5"> he wanted to</font>

1598
01:04:53,450 --> 01:04:58,580
<font color="#CCCCCC">be suppressed how do I bgp diversion for</font>

1599
01:04:56,750 --> 01:05:00,620
yes there's still some comedians out

1600
01:04:58,580 --> 01:05:02,450
there you try and set<font color="#CCCCCC"> up</font><font color="#E5E5E5"> bgp version 3</font>

1601
01:05:00,620 --> 01:05:04,460
although some people who like playing

1602
01:05:02,450 --> 01:05:07,879
around with bgp version numbers there's

1603
01:05:04,460 --> 01:05:09,770
no be gb version<font color="#CCCCCC"> five yet so some ISPs</font>

1604
01:05:07,880 --> 01:05:12,920
make absolutely sure<font color="#E5E5E5"> bgp is hardwired to</font>

1605
01:05:09,770 --> 01:05:14,509
version 3 some people use<font color="#E5E5E5"> up passwords a</font>

1606
01:05:12,920 --> 01:05:19,330
lot of<font color="#E5E5E5"> people use passwords and</font><font color="#CCCCCC"> ibgp</font>

1607
01:05:14,510 --> 01:05:22,340
sessions so I mean within the network

1608
01:05:19,330 --> 01:05:24,770
like that can be pretty useful<font color="#E5E5E5"> I see</font>

1609
01:05:22,340 --> 01:05:27,350
more used outside the network for ebgp

1610
01:05:24,770 --> 01:05:29,690
sessions again with a view of all the

1611
01:05:27,350 --> 01:05:31,759
<font color="#E5E5E5">recipes I see some of the mandate</font>

1612
01:05:29,690 --> 01:05:34,370
passwords other words will absolutely

1613
01:05:31,760 --> 01:05:36,200
not use passwords so you<font color="#E5E5E5"> don't help a</font>

1614
01:05:34,370 --> 01:05:39,830
<font color="#E5E5E5">varian what you want to actually try</font><font color="#CCCCCC"> and</font>

1615
01:05:36,200 --> 01:05:41,990
do honestly I don't think<font color="#CCCCCC"> that</font><font color="#E5E5E5"> many</font>

1616
01:05:39,830 --> 01:05:43,730
people who tagged bgp sessions but mean

1617
01:05:41,990 --> 01:05:46,459
<font color="#CCCCCC">i think we're all working a paranoid</font>

1618
01:05:43,730 --> 01:05:47,810
moment phase right at the moment it's

1619
01:05:46,460 --> 01:05:48,900
pretty<font color="#E5E5E5"> powerful prevention</font><font color="#CCCCCC"> too</font>

1620
01:05:47,810 --> 01:05:51,180
especially<font color="#E5E5E5"> when</font><font color="#CCCCCC"> it's combined</font>

1621
01:05:48,900 --> 01:05:54,900
with filters and<font color="#CCCCCC"> the actual TTL hacker</font>

1622
01:05:51,180 --> 01:05:56,580
mentioned earlier bgp damping do not use

1623
01:05:54,900 --> 01:05:58,440
it unless you understand the impact some

1624
01:05:56,580 --> 01:06:00,350
people still<font color="#E5E5E5"> use it and while i</font>

1625
01:05:58,440 --> 01:06:02,820
understand impact that's fine and

1626
01:06:00,350 --> 01:06:04,319
<font color="#E5E5E5">definitely don't use any vendor defaults</font>

1627
01:06:02,820 --> 01:06:07,020
flat damping or otherwise unless you

1628
01:06:04,320 --> 01:06:08,730
will understand why remove private ESS

1629
01:06:07,020 --> 01:06:11,370
from announcement priority<font color="#CCCCCC"> esas should</font>

1630
01:06:08,730 --> 01:06:13,470
not appear on the public<font color="#E5E5E5"> internet so</font>

1631
01:06:11,370 --> 01:06:15,420
most vendors again of nice commands<font color="#E5E5E5"> that</font>

1632
01:06:13,470 --> 01:06:18,750
will strip out private ESS from any from

1633
01:06:15,420 --> 01:06:21,330
a s paths use extensive filters with

1634
01:06:18,750 --> 01:06:23,490
backups so some people use a prefix

1635
01:06:21,330 --> 01:06:25,590
filters to filter prefixes and then back

1636
01:06:23,490 --> 01:06:27,209
them up with<font color="#CCCCCC"> a s path filters if you've</font>

1637
01:06:25,590 --> 01:06:29,700
<font color="#E5E5E5">got a private</font><font color="#CCCCCC"> pier with a neighboring s</font>

1638
01:06:27,210 --> 01:06:33,060
then put in an AAS path all that says

1639
01:06:29,700 --> 01:06:37,109
only<font color="#E5E5E5"> let this is into my network as an</font>

1640
01:06:33,060 --> 01:06:39,810
example what else any<font color="#CCCCCC"> BGP</font><font color="#E5E5E5"> use a password</font>

1641
01:06:37,110 --> 01:06:44,130
again some say some ISPs use passwords

1642
01:06:39,810 --> 01:06:46,680
allows don't maximum prefix tracking

1643
01:06:44,130 --> 01:06:48,510
quite a<font color="#CCCCCC"> few people use that if you only</font>

1644
01:06:46,680 --> 01:06:50,569
ever expected<font color="#E5E5E5"> to get a thousand prefixes</font>

1645
01:06:48,510 --> 01:06:53,460
from your peer you probably want to just

1646
01:06:50,570 --> 01:06:54,870
set something up so that you'll

1647
01:06:53,460 --> 01:06:57,120
disconnect the session if they sound

1648
01:06:54,870 --> 01:06:59,040
they send you the full BGP table so

1649
01:06:57,120 --> 01:07:01,259
quite a few people<font color="#E5E5E5"> will use macs and</font>

1650
01:06:59,040 --> 01:07:03,600
prefix tracking you can get it to do

1651
01:07:01,260 --> 01:07:05,670
things like shut down the<font color="#E5E5E5"> BGP session if</font>

1652
01:07:03,600 --> 01:07:07,950
it goes over or just repeatedly send

1653
01:07:05,670 --> 01:07:09,780
your warning messages you<font color="#CCCCCC"> can get it to</font>

1654
01:07:07,950 --> 01:07:11,910
restart the BGP session after an hour

1655
01:07:09,780 --> 01:07:13,920
just in case it was configuration error

1656
01:07:11,910 --> 01:07:15,930
all this kind of stuff<font color="#E5E5E5"> so it's fairly</font>

1657
01:07:13,920 --> 01:07:20,070
configurable how you can handle<font color="#E5E5E5"> it I</font>

1658
01:07:15,930 --> 01:07:21,660
mentioned the maximas path length<font color="#E5E5E5"> block</font>

1659
01:07:20,070 --> 01:07:24,120
the changes of neighbor<font color="#CCCCCC"> States that's</font>

1660
01:07:21,660 --> 01:07:27,000
pretty useful as well and keep an eye on

1661
01:07:24,120 --> 01:07:28,560
the logs also make the<font color="#E5E5E5"> BGP</font>

1662
01:07:27,000 --> 01:07:32,220
administrative distance higher than that

1663
01:07:28,560 --> 01:07:34,440
of any<font color="#CCCCCC"> IGP now again it depends on your</font>

1664
01:07:32,220 --> 01:07:37,379
<font color="#CCCCCC">faults some defaults for ebgp halfhyde</font>

1665
01:07:34,440 --> 01:07:40,260
mid-distance 20 so if you learn external

1666
01:07:37,380 --> 01:07:41,970
prefixes by ebgp from your own

1667
01:07:40,260 --> 01:07:43,800
infrastructure they're going<font color="#E5E5E5"> to</font>

1668
01:07:41,970 --> 01:07:46,379
overwrite your<font color="#CCCCCC"> igp which is probably not</font>

1669
01:07:43,800 --> 01:07:47,730
<font color="#E5E5E5">too useful again</font><font color="#CCCCCC"> i can just say been</font>

1670
01:07:46,380 --> 01:07:49,530
<font color="#CCCCCC">there done that</font><font color="#E5E5E5"> so it's not very</font>

1671
01:07:47,730 --> 01:07:51,690
pleasant trying to unravel from that one

1672
01:07:49,530 --> 01:07:53,970
so if you make your<font color="#E5E5E5"> BGP administrative</font>

1673
01:07:51,690 --> 01:07:56,090
distance higher than your<font color="#CCCCCC"> igp then you</font>

1674
01:07:53,970 --> 01:07:58,049
save that<font color="#E5E5E5"> accident from happening</font>

1675
01:07:56,090 --> 01:07:59,880
summary of all this try<font color="#E5E5E5"> and use</font>

1676
01:07:58,050 --> 01:08:01,220
configuration templates try and

1677
01:07:59,880 --> 01:08:03,680
<font color="#CCCCCC">standardize configuration</font>

1678
01:08:01,220 --> 01:08:06,290
just generally makes things easier keep

1679
01:08:03,680 --> 01:08:08,560
aware of standard tricks whoops and to

1680
01:08:06,290 --> 01:08:10,460
avoid compromise of the<font color="#CCCCCC"> BGP session</font>

1681
01:08:08,560 --> 01:08:14,990
generally just<font color="#E5E5E5"> do anything</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> just</font>

1682
01:08:10,460 --> 01:08:16,700
makes your<font color="#E5E5E5"> life easier and</font><font color="#CCCCCC"> also you want</font>

1683
01:08:14,990 --> 01:08:19,130
to<font color="#CCCCCC"> think</font><font color="#E5E5E5"> about scalability mean if your</font>

1684
01:08:16,700 --> 01:08:20,389
<font color="#E5E5E5">natural doesn't scale then well it's not</font>

1685
01:08:19,130 --> 01:08:21,890
<font color="#E5E5E5">going to be successful you're going to</font>

1686
01:08:20,390 --> 01:08:24,080
have to work a lot harder to keep it

1687
01:08:21,890 --> 01:08:25,609
<font color="#E5E5E5">running so the general goal of all of</font>

1688
01:08:24,080 --> 01:08:27,200
this is try<font color="#CCCCCC"> and keep it</font><font color="#E5E5E5"> simple try and</font>

1689
01:08:25,609 --> 01:08:29,390
keep it scalable use templates as much

1690
01:08:27,200 --> 01:08:30,950
as you can be aware of industry best

1691
01:08:29,390 --> 01:08:32,630
practices keep an eye on what they are

1692
01:08:30,950 --> 01:08:34,580
don't go in anything static like this

1693
01:08:32,630 --> 01:08:36,710
tutorial<font color="#E5E5E5"> do you fill up a Reggie</font>

1694
01:08:34,580 --> 01:08:38,960
tutorial from 1998 and I've been falling

1695
01:08:36,710 --> 01:08:41,799
what it says well don't<font color="#E5E5E5"> because it's</font><font color="#CCCCCC"> ten</font>

1696
01:08:38,960 --> 01:08:44,089
years out of date okay so keep an eye on

1697
01:08:41,799 --> 01:08:45,589
tutorials like this or from<font color="#E5E5E5"> anybody</font><font color="#CCCCCC"> else</font>

1698
01:08:44,089 --> 01:08:48,019
and so forth what the industry best

1699
01:08:45,589 --> 01:08:49,939
practices are sit on the different

1700
01:08:48,020 --> 01:08:51,560
operational group mailing lists you know

1701
01:08:49,939 --> 01:08:53,450
nano glist can be useful for some of

1702
01:08:51,560 --> 01:08:55,430
this stuff or if your other parts of the

1703
01:08:53,450 --> 01:08:57,500
<font color="#CCCCCC">world look at those operations list</font>

1704
01:08:55,430 --> 01:09:03,500
there and you generally keep abreast of

1705
01:08:57,500 --> 01:09:05,420
what's going on<font color="#CCCCCC"> and that is it so</font><font color="#E5E5E5"> I</font>

1706
01:09:03,500 --> 01:09:07,009
finished<font color="#E5E5E5"> 15 minutes early just said I</font>

1707
01:09:05,420 --> 01:09:09,200
can<font color="#CCCCCC"> guide if you</font><font color="#E5E5E5"> and go to the community</font>

1708
01:09:07,009 --> 01:09:11,540
meeting which starts in 15 minutes time

1709
01:09:09,200 --> 01:09:13,910
as I said along an emerald room you're

1710
01:09:11,540 --> 01:09:16,130
all welcome<font color="#E5E5E5"> to</font><font color="#CCCCCC"> come if you</font><font color="#E5E5E5"> would like</font><font color="#CCCCCC"> to</font>

1711
01:09:13,910 --> 01:09:20,108
do that if you don't<font color="#E5E5E5"> want to go there's</font>

1712
01:09:16,130 --> 01:09:23,719
the welcome party this evening and the

1713
01:09:20,109 --> 01:09:26,540
Bonaventure Brewing Company otherwise

1714
01:09:23,719 --> 01:09:28,630
we'll see you all tomorrow thanks for

1715
01:09:26,540 --> 01:09:28,630
coming

