1
00:00:00,319 --> 00:00:06,120
basic<font color="#E5E5E5"> agenda for today we're going to</font>

2
00:00:03,000 --> 00:00:07,980
cover quick introduction important

3
00:00:06,120 --> 00:00:11,670
disclaimers<font color="#CCCCCC"> talk a</font><font color="#E5E5E5"> little bit about</font>

4
00:00:07,980 --> 00:00:13,219
traffic engineering prior to MPLS basics

5
00:00:11,670 --> 00:00:14,849
of traffic<font color="#E5E5E5"> engineering tunnels</font>

6
00:00:13,219 --> 00:00:18,060
<font color="#CCCCCC">distributing</font><font color="#E5E5E5"> the appropriate information</font>

7
00:00:14,849 --> 00:00:22,080
<font color="#E5E5E5">amongst your</font><font color="#CCCCCC"> router's path calculation</font>

8
00:00:18,060 --> 00:00:26,278
and set and a little bit more<font color="#CCCCCC"> on</font>

9
00:00:22,080 --> 00:00:29,848
Diagnostics<font color="#CCCCCC"> so important disclaimer here</font>

10
00:00:26,279 --> 00:00:31,470
<font color="#CCCCCC">I have not been exposed to Juniper</font>

11
00:00:29,849 --> 00:00:34,020
<font color="#E5E5E5">operating system I've never touched the</font>

12
00:00:31,470 --> 00:00:36,660
<font color="#E5E5E5">Juniper I've worked with Riverstone but</font>

13
00:00:34,020 --> 00:00:39,149
didn't do any MPLS work on those

14
00:00:36,660 --> 00:00:40,190
I am a<font color="#CCCCCC"> Cisco only shop that just</font><font color="#E5E5E5"> happens</font>

15
00:00:39,149 --> 00:00:42,300
to be what I'm doing

16
00:00:40,190 --> 00:00:45,209
apologies that<font color="#E5E5E5"> I don't have any</font><font color="#CCCCCC"> jus</font><font color="#E5E5E5"> nos</font>

17
00:00:42,300 --> 00:00:47,640
configuration examples<font color="#CCCCCC"> if this seems</font>

18
00:00:45,210 --> 00:00:50,250
<font color="#E5E5E5">useful to you and you have a buddy you</font>

19
00:00:47,640 --> 00:00:52,260
can help you out<font color="#E5E5E5"> I'd be happy to act as</font>

20
00:00:50,250 --> 00:00:55,800
a third<font color="#E5E5E5"> party</font><font color="#CCCCCC"> in that angle</font><font color="#E5E5E5"> to help out</font>

21
00:00:52,260 --> 00:00:56,640
there<font color="#CCCCCC"> please ask questions as they come</font>

22
00:00:55,800 --> 00:00:59,940
up

23
00:00:56,640 --> 00:01:01,739
this builds<font color="#E5E5E5"> on a lot of topics</font>

24
00:00:59,940 --> 00:01:02,968
there are several checkpoints<font color="#CCCCCC"> along</font><font color="#E5E5E5"> the</font>

25
00:01:01,739 --> 00:01:05,880
way to help us make sure<font color="#E5E5E5"> we're on track</font>

26
00:01:02,969 --> 00:01:07,740
<font color="#E5E5E5">and we're all kind of tuned in</font><font color="#CCCCCC"> but</font>

27
00:01:05,880 --> 00:01:10,170
please pause me at any point<font color="#E5E5E5"> go up to</font>

28
00:01:07,740 --> 00:01:13,259
the microphone and<font color="#E5E5E5"> we'll talk about it</font>

29
00:01:10,170 --> 00:01:15,810
<font color="#E5E5E5">if we end up early</font><font color="#CCCCCC"> we'll switch laptops</font>

30
00:01:13,260 --> 00:01:18,450
and and poke a little<font color="#CCCCCC"> bit into my</font>

31
00:01:15,810 --> 00:01:20,970
<font color="#E5E5E5">production network usually</font><font color="#CCCCCC"> every day</font>

32
00:01:18,450 --> 00:01:24,509
around<font color="#CCCCCC"> this time</font><font color="#E5E5E5"> traffic engineering is</font>

33
00:01:20,970 --> 00:01:27,990
kicking in in one spot<font color="#E5E5E5"> or another so and</font>

34
00:01:24,509 --> 00:01:30,420
obviously<font color="#E5E5E5"> there's no fancy</font><font color="#CCCCCC"> corporate</font>

35
00:01:27,990 --> 00:01:32,189
logos on here this<font color="#E5E5E5"> is not a vendor</font>

36
00:01:30,420 --> 00:01:34,619
driven tutorial this<font color="#CCCCCC"> is from an operator</font>

37
00:01:32,189 --> 00:01:37,880
perspective<font color="#E5E5E5"> I use this stuff that</font>

38
00:01:34,619 --> 00:01:40,920
becomes very<font color="#CCCCCC"> valuable to my network and</font>

39
00:01:37,880 --> 00:01:44,119
it's geared<font color="#E5E5E5"> as much as I can to those of</font>

40
00:01:40,920 --> 00:01:46,500
you who are our network operators so

41
00:01:44,119 --> 00:01:49,560
diving<font color="#E5E5E5"> right into traffic engineering</font>

42
00:01:46,500 --> 00:01:52,049
prior to MPLS if you've got<font color="#CCCCCC"> a</font><font color="#E5E5E5"> GP of some</font>

43
00:01:49,560 --> 00:01:53,899
form let's say it's<font color="#E5E5E5"> is</font><font color="#CCCCCC"> I asked for</font>

44
00:01:52,049 --> 00:01:55,950
<font color="#E5E5E5">default metric is</font><font color="#CCCCCC"> 10 in all cases</font>

45
00:01:53,899 --> 00:01:57,390
<font color="#CCCCCC">commonly known as the fish problem if</font>

46
00:01:55,950 --> 00:01:59,880
you get a little<font color="#CCCCCC"> bit creative this</font><font color="#E5E5E5"> will</font>

47
00:01:57,390 --> 00:02:01,500
<font color="#E5E5E5">look like a fish to you</font><font color="#CCCCCC"> and if we</font><font color="#E5E5E5"> throw</font>

48
00:01:59,880 --> 00:02:03,270
some<font color="#CCCCCC"> traffic over</font><font color="#E5E5E5"> it will find that all</font>

49
00:02:01,500 --> 00:02:06,540
of<font color="#CCCCCC"> our traffic</font><font color="#E5E5E5"> coming in on a or</font><font color="#CCCCCC"> B</font>

50
00:02:03,270 --> 00:02:10,378
headed out<font color="#E5E5E5"> G wants to go through C and D</font>

51
00:02:06,540 --> 00:02:12,330
<font color="#CCCCCC">and never through C E and F</font><font color="#E5E5E5"> there are</font>

52
00:02:10,378 --> 00:02:15,269
ways to<font color="#E5E5E5"> tweak that</font>

53
00:02:12,330 --> 00:02:19,050
we can go in and<font color="#E5E5E5"> muddle around with our</font>

54
00:02:15,270 --> 00:02:21,020
<font color="#CCCCCC">IGP metrics and adjust them but you've</font>

55
00:02:19,050 --> 00:02:22,530
<font color="#E5E5E5">really got to have a incredible</font>

56
00:02:21,020 --> 00:02:25,680
<font color="#CCCCCC">understanding of your network</font>

57
00:02:22,530 --> 00:02:28,560
soup-to-nuts<font color="#E5E5E5"> know what tweaking a metric</font>

58
00:02:25,680 --> 00:02:30,720
by one year<font color="#E5E5E5"> or five there will do to all</font>

59
00:02:28,560 --> 00:02:32,310
of your traffic<font color="#CCCCCC"> and if you end up</font><font color="#E5E5E5"> with</font>

60
00:02:30,720 --> 00:02:34,109
some mismatched metrics<font color="#CCCCCC"> did you not end</font>

61
00:02:32,310 --> 00:02:37,290
<font color="#E5E5E5">up with some routing loops and other</font>

62
00:02:34,110 --> 00:02:39,000
sort of forwarding<font color="#CCCCCC"> funny's</font><font color="#E5E5E5"> so we we can</font>

63
00:02:37,290 --> 00:02:41,790
go<font color="#CCCCCC"> through</font><font color="#E5E5E5"> and change the metrics C to D</font>

64
00:02:39,000 --> 00:02:43,920
and<font color="#CCCCCC"> D to G and we'll find that</font><font color="#E5E5E5"> you know</font>

65
00:02:41,790 --> 00:02:45,959
<font color="#E5E5E5">theoretically based on our load sharing</font>

66
00:02:43,920 --> 00:02:48,839
hash<font color="#E5E5E5"> that</font><font color="#CCCCCC"> traffic is going</font><font color="#E5E5E5"> to spread</font>

67
00:02:45,960 --> 00:02:50,430
over<font color="#CCCCCC"> the two paths available and be able</font>

68
00:02:48,840 --> 00:02:52,800
<font color="#E5E5E5">to use more</font><font color="#CCCCCC"> of what what our</font><font color="#E5E5E5"> network</font>

69
00:02:50,430 --> 00:02:55,260
offers obviously in this scenario we

70
00:02:52,800 --> 00:02:57,120
<font color="#CCCCCC">don't have any redundancy left over</font><font color="#E5E5E5"> but</font>

71
00:02:55,260 --> 00:02:59,640
we're able<font color="#CCCCCC"> to handle traffic</font><font color="#E5E5E5"> that</font>

72
00:02:57,120 --> 00:03:05,130
otherwise would be<font color="#E5E5E5"> unable</font><font color="#CCCCCC"> to use the</font>

73
00:02:59,640 --> 00:03:07,910
links through<font color="#CCCCCC"> ENF</font><font color="#E5E5E5"> so our fundamentals</font>

74
00:03:05,130 --> 00:03:09,930
moving into traffic engineering on MPLS

75
00:03:07,910 --> 00:03:12,090
<font color="#CCCCCC">we all know</font><font color="#E5E5E5"> that packets are forwarded</font>

76
00:03:09,930 --> 00:03:14,160
based on our fib or<font color="#E5E5E5"> alpha if you're</font>

77
00:03:12,090 --> 00:03:17,760
already<font color="#E5E5E5"> running MPLS forwarding and it's</font>

78
00:03:14,160 --> 00:03:20,310
all built on<font color="#CCCCCC"> your rib</font><font color="#E5E5E5"> the rib obviously</font>

79
00:03:17,760 --> 00:03:23,070
is driven on next top information you

80
00:03:20,310 --> 00:03:26,100
know what what interface do<font color="#E5E5E5"> i aggress on</font>

81
00:03:23,070 --> 00:03:29,220
<font color="#E5E5E5">what's the next hop mac value or</font>

82
00:03:26,100 --> 00:03:31,019
whatever<font color="#CCCCCC"> and again here we're dealing</font>

83
00:03:29,220 --> 00:03:34,260
<font color="#CCCCCC">with routing production</font><font color="#E5E5E5"> network traffic</font>

84
00:03:31,020 --> 00:03:37,050
<font color="#E5E5E5">so we need an exit interface and because</font>

85
00:03:34,260 --> 00:03:40,019
we want to travel it across our network

86
00:03:37,050 --> 00:03:41,340
over a deterministic path<font color="#E5E5E5"> we bring in</font>

87
00:03:40,020 --> 00:03:45,270
the new<font color="#E5E5E5"> concept of the traffic</font>

88
00:03:41,340 --> 00:03:46,800
engineering tunnel<font color="#E5E5E5"> so fundamentally our</font>

89
00:03:45,270 --> 00:03:49,500
<font color="#E5E5E5">traffic engineering tunnel is a</font>

90
00:03:46,800 --> 00:03:50,730
unidirectional logical link from<font color="#E5E5E5"> one</font>

91
00:03:49,500 --> 00:03:53,640
router<font color="#E5E5E5"> to another router</font>

92
00:03:50,730 --> 00:03:56,489
<font color="#E5E5E5">unlike GRE tunnel which is normally</font>

93
00:03:53,640 --> 00:03:59,040
bi-directional back and forth once the

94
00:03:56,490 --> 00:04:00,660
tunnel<font color="#CCCCCC"> is properly</font><font color="#E5E5E5"> configured</font><font color="#CCCCCC"> a label is</font>

95
00:03:59,040 --> 00:04:02,970
a sign for that tunnel<font color="#E5E5E5"> hop-by-hop</font>

96
00:04:00,660 --> 00:04:05,130
<font color="#E5E5E5">through the network so</font><font color="#CCCCCC"> we end up</font><font color="#E5E5E5"> with</font><font color="#CCCCCC"> a</font>

97
00:04:02,970 --> 00:04:06,690
<font color="#CCCCCC">label switched path</font><font color="#E5E5E5"> the path through the</font>

98
00:04:05,130 --> 00:04:08,040
<font color="#CCCCCC">network</font><font color="#E5E5E5"> will be</font><font color="#CCCCCC"> deterministic meaning</font>

99
00:04:06,690 --> 00:04:09,960
all the<font color="#CCCCCC"> packets traveling over this</font>

100
00:04:08,040 --> 00:04:12,780
tunnel will follow the same hop-by-hop

101
00:04:09,960 --> 00:04:15,570
<font color="#E5E5E5">path at least until various reoptimize</font>

102
00:04:12,780 --> 00:04:18,120
ations<font color="#E5E5E5"> or adjustments that</font><font color="#CCCCCC"> we'll talk</font>

103
00:04:15,570 --> 00:04:21,810
<font color="#E5E5E5">about through the tutorial and that</font>

104
00:04:18,120 --> 00:04:23,669
deterministic path<font color="#E5E5E5"> may not</font><font color="#CCCCCC"> be your IGP</font>

105
00:04:21,810 --> 00:04:26,169
shortest path<font color="#E5E5E5"> so it allows us</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> utilize</font>

106
00:04:23,669 --> 00:04:29,438
<font color="#E5E5E5">other links in your</font>

107
00:04:26,169 --> 00:04:33,938
<font color="#E5E5E5">that aren't the best route from point A</font>

108
00:04:29,439 --> 00:04:35,349
<font color="#E5E5E5">to point B so</font><font color="#CCCCCC"> once traffic is routed on</font>

109
00:04:33,939 --> 00:04:38,620
the tunnel<font color="#CCCCCC"> and</font><font color="#E5E5E5"> we will find that that</font>

110
00:04:35,349 --> 00:04:40,748
takes a<font color="#E5E5E5"> lot of steps</font><font color="#CCCCCC"> the traffic then</font>

111
00:04:38,620 --> 00:04:43,629
flows through<font color="#CCCCCC"> the tunnel based on the</font>

112
00:04:40,749 --> 00:04:44,830
<font color="#E5E5E5">path assigned to that tunnel</font><font color="#CCCCCC"> returned</font>

113
00:04:43,629 --> 00:04:47,740
traffic going<font color="#E5E5E5"> the opposite direction</font>

114
00:04:44,830 --> 00:04:49,719
<font color="#CCCCCC">could</font><font color="#E5E5E5"> be placed</font><font color="#CCCCCC"> onto a tunnel that</font>

115
00:04:47,740 --> 00:04:51,819
travels in the opposite<font color="#CCCCCC"> direction as</font>

116
00:04:49,719 --> 00:04:53,080
well<font color="#CCCCCC"> or you could simply allow it to be</font>

117
00:04:51,819 --> 00:04:55,060
<font color="#E5E5E5">routed by out the IGP</font>

118
00:04:53,080 --> 00:04:58,599
there will be some scenarios<font color="#E5E5E5"> and our</font>

119
00:04:55,060 --> 00:05:02,439
caveats at the end that<font color="#E5E5E5"> you really want</font>

120
00:04:58,599 --> 00:05:03,969
tunnels going<font color="#CCCCCC"> in both directions but if</font>

121
00:05:02,439 --> 00:05:07,379
you're doing<font color="#E5E5E5"> plain</font><font color="#CCCCCC"> vanilla packet</font>

122
00:05:03,969 --> 00:05:09,819
forwarding<font color="#E5E5E5"> not that necessary so a</font>

123
00:05:07,379 --> 00:05:12,279
couple of key<font color="#E5E5E5"> terms for traffic</font>

124
00:05:09,819 --> 00:05:13,960
engineering<font color="#CCCCCC"> headend is where you</font>

125
00:05:12,279 --> 00:05:16,930
<font color="#CCCCCC">configure your traffic engineering</font>

126
00:05:13,960 --> 00:05:20,049
<font color="#E5E5E5">tunnel because the</font><font color="#CCCCCC"> te tunnel is</font>

127
00:05:16,930 --> 00:05:21,699
unidirectional<font color="#CCCCCC"> there's no need for a</font>

128
00:05:20,050 --> 00:05:24,490
traffic<font color="#E5E5E5"> engineering configuration on the</font>

129
00:05:21,699 --> 00:05:27,009
<font color="#E5E5E5">opposite end so the only place</font><font color="#CCCCCC"> that we</font>

130
00:05:24,490 --> 00:05:30,069
do any real te configuration is again on

131
00:05:27,009 --> 00:05:33,279
that head end in this case router a the

132
00:05:30,069 --> 00:05:36,400
tunnel<font color="#CCCCCC"> tail is the destination</font><font color="#E5E5E5"> address</font>

133
00:05:33,279 --> 00:05:39,610
<font color="#E5E5E5">of the tunnel as pictured</font><font color="#CCCCCC"> here router D</font>

134
00:05:36,400 --> 00:05:41,318
and midpoint<font color="#E5E5E5"> routers along</font><font color="#CCCCCC"> the path or</font>

135
00:05:39,610 --> 00:05:44,050
<font color="#E5E5E5">anything that's in the middle there may</font>

136
00:05:41,319 --> 00:05:45,639
or may<font color="#CCCCCC"> not be any midpoint routers there</font>

137
00:05:44,050 --> 00:05:47,740
are scenarios where you'll do a tunnel

138
00:05:45,639 --> 00:05:49,210
from one<font color="#E5E5E5"> router to the next router</font>

139
00:05:47,740 --> 00:05:52,509
<font color="#E5E5E5">because you may end</font><font color="#CCCCCC"> up hunting that</font>

140
00:05:49,210 --> 00:05:54,279
traffic<font color="#E5E5E5"> through</font><font color="#CCCCCC"> a non best route because</font>

141
00:05:52,509 --> 00:05:57,819
you simply<font color="#E5E5E5"> have congestion over that one</font>

142
00:05:54,279 --> 00:06:00,870
link but in this case<font color="#E5E5E5"> the midpoint</font>

143
00:05:57,819 --> 00:06:00,870
routers are<font color="#CCCCCC"> B</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> C</font>

144
00:06:01,420 --> 00:06:05,470
so diving<font color="#E5E5E5"> into some basic traffic</font>

145
00:06:03,490 --> 00:06:07,810
engineering configuration<font color="#E5E5E5"> on each router</font>

146
00:06:05,470 --> 00:06:09,910
where you want to do te<font color="#E5E5E5"> you need MPLS</font>

147
00:06:07,810 --> 00:06:12,670
traffic engineering tunnels enables the

148
00:06:09,910 --> 00:06:15,310
code<font color="#CCCCCC"> that</font><font color="#E5E5E5"> then follows</font><font color="#CCCCCC"> there on into</font>

149
00:06:12,670 --> 00:06:18,670
<font color="#E5E5E5">your</font><font color="#CCCCCC"> IGP and in the case</font><font color="#E5E5E5"> of MPLS traffic</font>

150
00:06:15,310 --> 00:06:21,640
engineering<font color="#E5E5E5"> the only options are OSPF</font>

151
00:06:18,670 --> 00:06:24,730
and<font color="#E5E5E5"> is is if you're running</font><font color="#CCCCCC"> eigrp there</font>

152
00:06:21,640 --> 00:06:28,120
are no mechanisms<font color="#CCCCCC"> inside that IGP to</font>

153
00:06:24,730 --> 00:06:30,940
carry the various parameters<font color="#CCCCCC"> in lsas</font>

154
00:06:28,120 --> 00:06:33,730
<font color="#CCCCCC">that are necessary to knowing where can</font>

155
00:06:30,940 --> 00:06:35,650
I put this tunnel or that tunnel<font color="#E5E5E5"> so that</font>

156
00:06:33,730 --> 00:06:38,110
we end<font color="#E5E5E5"> up on a link that</font><font color="#CCCCCC"> has bandwidth</font>

157
00:06:35,650 --> 00:06:40,210
available and then on the physical

158
00:06:38,110 --> 00:06:41,830
interfaces<font color="#E5E5E5"> across your LAN</font><font color="#CCCCCC"> or network</font>

159
00:06:40,210 --> 00:06:43,989
whatever whatever boundaries you

160
00:06:41,830 --> 00:06:46,240
anticipate doing traffic engineering

161
00:06:43,990 --> 00:06:48,610
<font color="#E5E5E5">that physical interface obviously</font><font color="#CCCCCC"> needs</font>

162
00:06:46,240 --> 00:06:51,850
MPLS IP so it can forward label packets

163
00:06:48,610 --> 00:06:54,340
and<font color="#E5E5E5"> it's</font><font color="#CCCCCC"> also going to need MPLS traffic</font>

164
00:06:51,850 --> 00:06:55,420
engineering tunnels that signals back to

165
00:06:54,340 --> 00:06:57,520
the IGP

166
00:06:55,420 --> 00:06:59,080
to share the traffic engineering

167
00:06:57,520 --> 00:07:02,200
information<font color="#CCCCCC"> how much bandwidth is</font>

168
00:06:59,080 --> 00:07:04,570
available<font color="#E5E5E5"> at various priority levels</font>

169
00:07:02,200 --> 00:07:06,789
<font color="#E5E5E5">with the other traffic engineering nodes</font>

170
00:07:04,570 --> 00:07:09,070
where you've enabled<font color="#E5E5E5"> all these commands</font>

171
00:07:06,790 --> 00:07:10,960
<font color="#E5E5E5">and</font><font color="#CCCCCC"> it ends up</font><font color="#E5E5E5"> kind of being</font><font color="#CCCCCC"> a big</font>

172
00:07:09,070 --> 00:07:13,180
synergy<font color="#CCCCCC"> of routers with an information</font>

173
00:07:10,960 --> 00:07:16,570
<font color="#CCCCCC">of bandwidth availability throughout</font>

174
00:07:13,180 --> 00:07:18,130
<font color="#E5E5E5">your</font><font color="#CCCCCC"> network then when it's</font><font color="#E5E5E5"> time to</font>

175
00:07:16,570 --> 00:07:21,460
<font color="#E5E5E5">start</font><font color="#CCCCCC"> bringing up</font><font color="#E5E5E5"> traffic engineering</font>

176
00:07:18,130 --> 00:07:24,310
tunnels<font color="#CCCCCC"> we start creating interfaces</font>

177
00:07:21,460 --> 00:07:27,669
<font color="#CCCCCC">that</font><font color="#E5E5E5"> are simply tunnel</font><font color="#CCCCCC"> X</font><font color="#E5E5E5"> you'll have to</font>

178
00:07:24,310 --> 00:07:30,970
work on<font color="#E5E5E5"> your own numbering scheme</font><font color="#CCCCCC"> feel</font>

179
00:07:27,670 --> 00:07:33,340
<font color="#E5E5E5">free to ping</font><font color="#CCCCCC"> me afterward for some</font>

180
00:07:30,970 --> 00:07:34,840
<font color="#E5E5E5">guidance I'm you know one example</font><font color="#CCCCCC"> and</font>

181
00:07:33,340 --> 00:07:37,690
<font color="#E5E5E5">I'm sure there's others who</font><font color="#CCCCCC"> we</font><font color="#E5E5E5"> could</font>

182
00:07:34,840 --> 00:07:39,609
<font color="#E5E5E5">contact to get other</font><font color="#CCCCCC"> ideas</font><font color="#E5E5E5"> in order</font><font color="#CCCCCC"> to</font>

183
00:07:37,690 --> 00:07:41,740
be able<font color="#E5E5E5"> to forward IP packets we have to</font>

184
00:07:39,610 --> 00:07:43,480
have an IP address<font color="#E5E5E5"> on there</font><font color="#CCCCCC"> because</font>

185
00:07:41,740 --> 00:07:46,120
<font color="#CCCCCC">these are unidirectional burning up</font>

186
00:07:43,480 --> 00:07:49,120
<font color="#CCCCCC">slash</font><font color="#E5E5E5"> 30s on your te tunnels would be</font>

187
00:07:46,120 --> 00:07:51,030
rather<font color="#E5E5E5"> wasteful and inefficient so we</font>

188
00:07:49,120 --> 00:07:54,820
can<font color="#E5E5E5"> just borrow the loopback address and</font>

189
00:07:51,030 --> 00:07:57,280
be<font color="#CCCCCC"> able</font><font color="#E5E5E5"> to forward traffic tunnel mode</font>

190
00:07:54,820 --> 00:07:59,590
has to<font color="#CCCCCC"> be changed from GRE</font><font color="#E5E5E5"> to MPLS</font>

191
00:07:57,280 --> 00:08:02,320
traffic engineering<font color="#E5E5E5"> and like any other</font>

192
00:07:59,590 --> 00:08:05,169
tunnel we need<font color="#CCCCCC"> a</font><font color="#E5E5E5"> destination and it</font>

193
00:08:02,320 --> 00:08:09,229
would be the defined address ideally

194
00:08:05,170 --> 00:08:11,270
your loopback<font color="#E5E5E5"> zero of the tunnel tail</font>

195
00:08:09,229 --> 00:08:13,990
and then we need to<font color="#E5E5E5"> find a way through</font>

196
00:08:11,270 --> 00:08:17,180
the network<font color="#CCCCCC"> and this covers</font><font color="#E5E5E5"> all</font><font color="#CCCCCC"> of our</font>

197
00:08:13,990 --> 00:08:19,520
dynamic<font color="#CCCCCC"> past selection or explicit path</font>

198
00:08:17,180 --> 00:08:20,990
<font color="#E5E5E5">selection which we'll get to but for</font>

199
00:08:19,520 --> 00:08:22,340
<font color="#E5E5E5">lack of a better</font><font color="#CCCCCC"> example if you just</font>

200
00:08:20,990 --> 00:08:25,490
<font color="#CCCCCC">want to</font><font color="#E5E5E5"> bring up the traffic engineering</font>

201
00:08:22,340 --> 00:08:28,310
<font color="#CCCCCC">tunnel bringing a sining tunnel MPLS</font>

202
00:08:25,490 --> 00:08:31,189
traffic engineering path option pick a

203
00:08:28,310 --> 00:08:33,919
<font color="#E5E5E5">number and say dynamic the tunnel will</font>

204
00:08:31,189 --> 00:08:35,839
find a path<font color="#E5E5E5"> essentially the best path</font>

205
00:08:33,919 --> 00:08:37,490
through your<font color="#E5E5E5"> network that</font><font color="#CCCCCC"> has an</font>

206
00:08:35,839 --> 00:08:39,370
<font color="#E5E5E5">appropriate amount of bandwidth</font><font color="#CCCCCC"> in this</font>

207
00:08:37,490 --> 00:08:41,089
case we haven't<font color="#E5E5E5"> defined any bandwidth</font>

208
00:08:39,370 --> 00:08:43,639
parameters on the<font color="#E5E5E5"> tunnel</font>

209
00:08:41,089 --> 00:08:48,589
so it'll<font color="#CCCCCC"> be a</font><font color="#E5E5E5"> zero bandwidth tunnel and</font>

210
00:08:43,639 --> 00:08:51,380
<font color="#CCCCCC">you'll find the best path so we're at</font>

211
00:08:48,589 --> 00:08:53,660
checkpoint<font color="#CCCCCC"> one looking back over</font><font color="#E5E5E5"> what</font>

212
00:08:51,380 --> 00:08:56,600
we've zipped through tunnels go from a

213
00:08:53,660 --> 00:08:59,000
head end to a tail end possibly through

214
00:08:56,600 --> 00:09:01,610
midpoint routers over a deterministic

215
00:08:59,000 --> 00:09:04,040
path it stays the same<font color="#E5E5E5"> until various</font>

216
00:09:01,610 --> 00:09:05,990
reoptimize ation events we've covered

217
00:09:04,040 --> 00:09:09,469
the commands<font color="#CCCCCC"> that go on a router</font><font color="#E5E5E5"> at a</font>

218
00:09:05,990 --> 00:09:13,519
global<font color="#E5E5E5"> level</font><font color="#CCCCCC"> on physical interfaces</font><font color="#E5E5E5"> and</font>

219
00:09:09,470 --> 00:09:15,410
on our te head ends what commands are

220
00:09:13,519 --> 00:09:17,930
necessary for<font color="#E5E5E5"> each traffic engineering</font>

221
00:09:15,410 --> 00:09:19,370
<font color="#E5E5E5">tunnel so now we're going to dive into</font>

222
00:09:17,930 --> 00:09:21,439
<font color="#E5E5E5">traffic engineering and its relationship</font>

223
00:09:19,370 --> 00:09:23,120
<font color="#CCCCCC">with bandwidth and again if you've got</font>

224
00:09:21,440 --> 00:09:25,850
questions please walk up<font color="#CCCCCC"> the</font><font color="#E5E5E5"> microphone</font>

225
00:09:23,120 --> 00:09:27,380
<font color="#E5E5E5">and because this builds on</font><font color="#CCCCCC"> a lot of</font>

226
00:09:25,850 --> 00:09:32,300
<font color="#CCCCCC">stuff</font><font color="#E5E5E5"> I'd like to</font><font color="#CCCCCC"> get those covered nice</font>

227
00:09:27,380 --> 00:09:35,750
and early traffic engineering<font color="#E5E5E5"> and</font>

228
00:09:32,300 --> 00:09:37,670
bandwidth<font color="#E5E5E5"> your physical interfaces</font><font color="#CCCCCC"> LAN</font>

229
00:09:35,750 --> 00:09:38,779
links LAN links<font color="#CCCCCC"> Man links whatever</font>

230
00:09:37,670 --> 00:09:42,110
you've got flowing through your network

231
00:09:38,779 --> 00:09:45,019
<font color="#E5E5E5">can be told how much bandwidth can</font><font color="#CCCCCC"> be</font>

232
00:09:42,110 --> 00:09:48,920
reserved meaning used by traffic

233
00:09:45,019 --> 00:09:51,730
engineering IP RSVP bandwidth<font color="#CCCCCC"> xx the</font>

234
00:09:48,920 --> 00:09:54,949
numbers end up being put in there twice

235
00:09:51,730 --> 00:09:56,810
<font color="#E5E5E5">really defines micro flows which aren't</font>

236
00:09:54,949 --> 00:09:59,719
<font color="#CCCCCC">really</font><font color="#E5E5E5"> relevant in this scenario</font><font color="#CCCCCC"> so just</font>

237
00:09:56,810 --> 00:10:02,329
repeat the number<font color="#E5E5E5"> our traffic</font>

238
00:09:59,720 --> 00:10:04,790
<font color="#E5E5E5">engineering tunnels</font><font color="#CCCCCC"> as configured on the</font>

239
00:10:02,329 --> 00:10:06,800
various head ends of the network can be

240
00:10:04,790 --> 00:10:10,639
<font color="#E5E5E5">configured with how much bandwidth is</font>

241
00:10:06,800 --> 00:10:14,899
needed on a per tunnel basis with<font color="#E5E5E5"> tunnel</font>

242
00:10:10,639 --> 00:10:19,310
MPLS<font color="#E5E5E5"> traffic bandwidth</font><font color="#CCCCCC"> why our tunnels</font>

243
00:10:14,899 --> 00:10:22,649
<font color="#CCCCCC">will</font><font color="#E5E5E5"> reserve through RSVP why amount of</font>

244
00:10:19,310 --> 00:10:24,839
bandwidth on<font color="#E5E5E5"> their outbound interfaces</font>

245
00:10:22,649 --> 00:10:29,339
and in doing so<font color="#E5E5E5"> they will find a path</font>

246
00:10:24,839 --> 00:10:32,550
<font color="#CCCCCC">across the network over the various best</font>

247
00:10:29,339 --> 00:10:36,629
<font color="#E5E5E5">or almost best interfaces such that the</font>

248
00:10:32,550 --> 00:10:40,079
interface<font color="#E5E5E5"> is used</font><font color="#CCCCCC"> we'll have more</font>

249
00:10:36,629 --> 00:10:43,980
bandwidth available<font color="#E5E5E5"> for reservation than</font>

250
00:10:40,079 --> 00:10:46,349
the tunnels are requesting<font color="#E5E5E5"> so that we at</font>

251
00:10:43,980 --> 00:10:49,529
least<font color="#E5E5E5"> in the concept don't over</font>

252
00:10:46,350 --> 00:10:52,170
subscribe our interfaces<font color="#E5E5E5"> there are lots</font>

253
00:10:49,529 --> 00:10:54,540
of design models that don't<font color="#E5E5E5"> pay direct</font>

254
00:10:52,170 --> 00:10:56,639
<font color="#E5E5E5">bit</font><font color="#CCCCCC"> for bit</font><font color="#E5E5E5"> attention to our bandwidth</font>

255
00:10:54,540 --> 00:10:59,939
consumption<font color="#CCCCCC"> that's</font><font color="#E5E5E5"> certainly an option</font>

256
00:10:56,639 --> 00:11:02,279
<font color="#E5E5E5">that I've got built into a separate</font>

257
00:10:59,939 --> 00:11:04,559
design tutorial<font color="#CCCCCC"> that will come</font><font color="#E5E5E5"> in a</font>

258
00:11:02,279 --> 00:11:06,360
future<font color="#CCCCCC"> Nanog there are other ways</font>

259
00:11:04,559 --> 00:11:08,790
perhaps<font color="#E5E5E5"> when you're setting the</font>

260
00:11:06,360 --> 00:11:11,939
bandwidth<font color="#CCCCCC"> available in</font><font color="#E5E5E5"> a near face to</font>

261
00:11:08,790 --> 00:11:14,839
allow yourself<font color="#CCCCCC"> a</font><font color="#E5E5E5"> 10% 50%</font><font color="#CCCCCC"> whatever</font>

262
00:11:11,939 --> 00:11:17,519
cushion you want so<font color="#E5E5E5"> that various</font>

263
00:11:14,839 --> 00:11:21,839
<font color="#E5E5E5">microbursts flash crowd events</font>

264
00:11:17,519 --> 00:11:23,699
<font color="#CCCCCC">what-have-you have room to operate</font><font color="#E5E5E5"> but</font>

265
00:11:21,839 --> 00:11:25,079
this is our<font color="#E5E5E5"> fundamental concept of</font>

266
00:11:23,699 --> 00:11:28,769
traffic traffic engineering<font color="#E5E5E5"> in its</font>

267
00:11:25,079 --> 00:11:32,160
relationship with bandwidth so obviously

268
00:11:28,769 --> 00:11:34,649
you<font color="#E5E5E5"> can manually or automatically hop</font>

269
00:11:32,160 --> 00:11:37,679
into<font color="#CCCCCC"> your router</font><font color="#E5E5E5"> and adjust those tunnel</font>

270
00:11:34,649 --> 00:11:40,350
bandwidth values<font color="#CCCCCC"> as time</font><font color="#E5E5E5"> goes on hourly</font>

271
00:11:37,679 --> 00:11:43,199
<font color="#CCCCCC">daily monthly</font><font color="#E5E5E5"> whatever suits your</font>

272
00:11:40,350 --> 00:11:45,749
network to match the changes in your

273
00:11:43,199 --> 00:11:48,149
traffic<font color="#E5E5E5"> and if those tunnels have a path</font>

274
00:11:45,749 --> 00:11:50,249
option that's dynamically<font color="#E5E5E5"> assigned the</font>

275
00:11:48,149 --> 00:11:53,129
tunnels will dynamically find a path

276
00:11:50,249 --> 00:11:55,529
<font color="#CCCCCC">hop-by-hop through your network that has</font>

277
00:11:53,129 --> 00:11:58,170
sufficient bandwidth or that's<font color="#E5E5E5"> the</font>

278
00:11:55,529 --> 00:11:59,670
<font color="#E5E5E5">important point here</font><font color="#CCCCCC"> go down which means</font>

279
00:11:58,170 --> 00:12:01,349
<font color="#E5E5E5">they will fall out</font><font color="#CCCCCC"> of your</font><font color="#E5E5E5"> rib they'll</font>

280
00:11:59,670 --> 00:12:03,269
fall out of your fib<font color="#E5E5E5"> and those</font>

281
00:12:01,350 --> 00:12:07,139
<font color="#E5E5E5">particular tunnels are no longer used</font>

282
00:12:03,269 --> 00:12:08,759
<font color="#CCCCCC">for traffic</font><font color="#E5E5E5"> engineering</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> if</font><font color="#CCCCCC"> nothing</font>

283
00:12:07,139 --> 00:12:10,889
else it<font color="#E5E5E5"> gives you indication in your</font>

284
00:12:08,759 --> 00:12:12,720
logging systems that<font color="#E5E5E5"> oops I've over</font>

285
00:12:10,889 --> 00:12:15,089
subscribed whatever values<font color="#E5E5E5"> I've</font>

286
00:12:12,720 --> 00:12:16,790
programmed<font color="#E5E5E5"> into my network and it's time</font>

287
00:12:15,089 --> 00:12:18,899
to<font color="#CCCCCC"> run around</font><font color="#E5E5E5"> and take a look</font><font color="#CCCCCC"> at that</font>

288
00:12:16,790 --> 00:12:21,540
we'll also look at<font color="#CCCCCC"> some various</font>

289
00:12:18,899 --> 00:12:24,240
diagnostic commands to<font color="#E5E5E5"> be able</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> assess</font>

290
00:12:21,540 --> 00:12:26,929
how we're doing<font color="#E5E5E5"> as far as bandwidth</font>

291
00:12:24,240 --> 00:12:29,339
being reserved<font color="#E5E5E5"> actively on the network</font>

292
00:12:26,929 --> 00:12:31,439
based<font color="#E5E5E5"> on the physical configurations</font>

293
00:12:29,339 --> 00:12:33,690
we've<font color="#E5E5E5"> loaded in there</font>

294
00:12:31,440 --> 00:12:35,160
and then<font color="#CCCCCC"> comes</font><font color="#E5E5E5"> some of the traffic</font>

295
00:12:33,690 --> 00:12:38,720
engineering magic and<font color="#E5E5E5"> this happens to</font><font color="#CCCCCC"> be</font>

296
00:12:35,160 --> 00:12:42,149
<font color="#E5E5E5">something I rely on perhaps even abuse</font>

297
00:12:38,720 --> 00:12:44,459
<font color="#E5E5E5">our traffic engineering tunnels can be</font>

298
00:12:42,149 --> 00:12:47,519
configured<font color="#E5E5E5"> to watch their actual traffic</font>

299
00:12:44,459 --> 00:12:49,619
<font color="#E5E5E5">as in inside the</font><font color="#CCCCCC"> router the router says</font>

300
00:12:47,519 --> 00:12:52,319
show interface<font color="#CCCCCC"> bla pipe include rate</font>

301
00:12:49,620 --> 00:12:54,360
every<font color="#E5E5E5"> five minutes</font><font color="#CCCCCC"> and of course because</font>

302
00:12:52,319 --> 00:12:56,430
<font color="#E5E5E5">these are unidirectional logical links</font>

303
00:12:54,360 --> 00:12:58,110
there's only going to<font color="#E5E5E5"> be outbound</font>

304
00:12:56,430 --> 00:13:01,529
bandwidth there will never<font color="#E5E5E5"> be in bound</font>

305
00:12:58,110 --> 00:13:04,889
packets on a te tunnel<font color="#E5E5E5"> and they'll do</font>

306
00:13:01,529 --> 00:13:07,680
this at periodic intervals<font color="#CCCCCC"> so now we</font>

307
00:13:04,889 --> 00:13:10,529
begin<font color="#E5E5E5"> to have dynamic reservations that</font>

308
00:13:07,680 --> 00:13:13,949
match the live<font color="#CCCCCC"> network so if you have</font>

309
00:13:10,529 --> 00:13:17,399
traffic bursts<font color="#E5E5E5"> it won't be instantaneous</font>

310
00:13:13,949 --> 00:13:19,800
<font color="#CCCCCC">in my case I run</font><font color="#E5E5E5"> a</font><font color="#CCCCCC"> very aggressive</font><font color="#E5E5E5"> auto</font>

311
00:13:17,399 --> 00:13:23,730
bandwidth scheme so that<font color="#CCCCCC"> within 15</font>

312
00:13:19,800 --> 00:13:26,639
<font color="#E5E5E5">minutes my network rearranges te tunnels</font>

313
00:13:23,730 --> 00:13:29,250
<font color="#E5E5E5">so that we try</font><font color="#CCCCCC"> not to over subscribe</font>

314
00:13:26,639 --> 00:13:32,279
links<font color="#E5E5E5"> obviously you can go you</font><font color="#CCCCCC"> can drop</font>

315
00:13:29,250 --> 00:13:34,110
a lot of packets in<font color="#E5E5E5"> 15 minutes</font><font color="#CCCCCC"> but for</font>

316
00:13:32,279 --> 00:13:36,199
<font color="#E5E5E5">where we</font><font color="#CCCCCC"> are it keeps things under</font>

317
00:13:34,110 --> 00:13:39,089
control<font color="#CCCCCC"> in a reasonable time scale</font><font color="#E5E5E5"> and</font>

318
00:13:36,199 --> 00:13:41,670
allows us<font color="#CCCCCC"> to breathe easier when things</font>

319
00:13:39,089 --> 00:13:43,139
happen and<font color="#E5E5E5"> perhaps we can focus on the</font>

320
00:13:41,670 --> 00:13:45,240
next<font color="#CCCCCC"> most important thing</font>

321
00:13:43,139 --> 00:13:47,490
perhaps it's identifying a DDoS attack

322
00:13:45,240 --> 00:13:49,860
and source and<font color="#E5E5E5"> destination and start</font>

323
00:13:47,490 --> 00:13:51,899
<font color="#CCCCCC">looking up</font><font color="#E5E5E5"> no routes perhaps it's simply</font>

324
00:13:49,860 --> 00:13:53,670
<font color="#E5E5E5">a particular traffic shift due to an</font>

325
00:13:51,899 --> 00:13:57,149
outage event or a<font color="#E5E5E5"> traffic change and</font>

326
00:13:53,670 --> 00:14:00,469
start looking<font color="#E5E5E5"> at retuning BGP and allow</font>

327
00:13:57,149 --> 00:14:02,579
the<font color="#CCCCCC"> lan in our case to readjust</font><font color="#E5E5E5"> itself</font>

328
00:14:00,470 --> 00:14:02,939
<font color="#CCCCCC">without us really</font><font color="#E5E5E5"> having to worry</font><font color="#CCCCCC"> about</font>

329
00:14:02,579 --> 00:14:06,810
it

330
00:14:02,939 --> 00:14:09,329
so bandwidth is reserved using RSVP<font color="#E5E5E5"> in</font>

331
00:14:06,810 --> 00:14:12,149
this algorithm<font color="#E5E5E5"> however keep in</font><font color="#CCCCCC"> mind this</font>

332
00:14:09,329 --> 00:14:14,430
is<font color="#CCCCCC"> not particularly a QoS mechanism the</font>

333
00:14:12,149 --> 00:14:17,160
traffic that you<font color="#E5E5E5"> reserve for MPLS</font>

334
00:14:14,430 --> 00:14:19,709
traffic engineering<font color="#E5E5E5"> is only a number</font><font color="#CCCCCC"> in</font>

335
00:14:17,160 --> 00:14:23,279
a control plane it's not actually<font color="#E5E5E5"> going</font>

336
00:14:19,709 --> 00:14:26,518
<font color="#CCCCCC">to force the router to prioritize</font><font color="#E5E5E5"> that</font>

337
00:14:23,279 --> 00:14:29,370
much bandwidth<font color="#CCCCCC"> out your interfaces for</font>

338
00:14:26,519 --> 00:14:31,350
MPLS traffic engineering<font color="#CCCCCC"> there's lots of</font>

339
00:14:29,370 --> 00:14:33,809
other QoS things you can do with MPLS

340
00:14:31,350 --> 00:14:35,100
<font color="#E5E5E5">I'm not going to cover them I simply</font>

341
00:14:33,809 --> 00:14:37,469
<font color="#CCCCCC">aren't I'm not</font><font color="#E5E5E5"> using that in</font><font color="#CCCCCC"> my</font>

342
00:14:35,100 --> 00:14:39,000
production<font color="#CCCCCC"> network there are</font><font color="#E5E5E5"> some other</font>

343
00:14:37,470 --> 00:14:41,709
experts we<font color="#CCCCCC"> can bring in if that sounds</font>

344
00:14:39,000 --> 00:14:45,439
<font color="#E5E5E5">appropriate for a future</font><font color="#CCCCCC"> Nanog</font>

345
00:14:41,709 --> 00:14:48,008
so to actually implement<font color="#CCCCCC"> this</font><font color="#E5E5E5"> tunnel</font>

346
00:14:45,439 --> 00:14:52,519
MPLS traffic engineering<font color="#CCCCCC"> auto b/w</font>

347
00:14:48,009 --> 00:14:55,040
frequency why each<font color="#CCCCCC"> auto bandwidth tunnel</font>

348
00:14:52,519 --> 00:14:56,929
<font color="#E5E5E5">will do a show interface to capture its</font>

349
00:14:55,040 --> 00:15:01,639
rate every five minutes

350
00:14:56,929 --> 00:15:04,399
this number is globally adjustable<font color="#E5E5E5"> but</font>

351
00:15:01,639 --> 00:15:07,429
the<font color="#E5E5E5"> capture ratio is global not per</font>

352
00:15:04,399 --> 00:15:12,350
interface each<font color="#E5E5E5"> auto bandwidth tunnel</font>

353
00:15:07,429 --> 00:15:14,990
<font color="#E5E5E5">will update the</font><font color="#CCCCCC"> actual configuration in</font>

354
00:15:12,350 --> 00:15:18,619
<font color="#E5E5E5">your router that shows</font><font color="#CCCCCC"> tunnel MPLS</font>

355
00:15:14,990 --> 00:15:20,569
<font color="#CCCCCC">traffic bandwidth X every</font><font color="#E5E5E5"> Y seconds</font>

356
00:15:18,619 --> 00:15:23,209
whatever<font color="#E5E5E5"> you've</font><font color="#CCCCCC"> said it to I</font><font color="#E5E5E5"> believe the</font>

357
00:15:20,569 --> 00:15:27,490
Cisco default is one day so it's a real

358
00:15:23,209 --> 00:15:32,449
slow generic adjustment there in my case

359
00:15:27,490 --> 00:15:36,139
<font color="#CCCCCC">y is 900 seconds</font><font color="#E5E5E5"> 15 minutes so 3</font>

360
00:15:32,449 --> 00:15:39,290
captures over the span of<font color="#E5E5E5"> Y seconds</font>

361
00:15:36,139 --> 00:15:41,589
you'll have however<font color="#E5E5E5"> many 300 second</font>

362
00:15:39,290 --> 00:15:46,029
intervals are in there the highest

363
00:15:41,589 --> 00:15:50,149
single interval<font color="#E5E5E5"> is used as the</font><font color="#CCCCCC"> reference</font>

364
00:15:46,029 --> 00:15:54,110
<font color="#E5E5E5">when updating the tunnel bandwidth every</font>

365
00:15:50,149 --> 00:15:55,879
<font color="#E5E5E5">Y seconds</font><font color="#CCCCCC"> so if you've</font><font color="#E5E5E5"> got</font><font color="#CCCCCC"> one</font><font color="#E5E5E5"> 15</font><font color="#CCCCCC"> one</font>

366
00:15:54,110 --> 00:15:57,559
<font color="#CCCCCC">5-minute period somewhere in the course</font>

367
00:15:55,879 --> 00:16:00,649
<font color="#E5E5E5">of your day</font><font color="#CCCCCC"> or your hour or whatever</font>

368
00:15:57,559 --> 00:16:03,290
<font color="#E5E5E5">that was hot that's gonna get captured</font>

369
00:16:00,649 --> 00:16:06,579
<font color="#E5E5E5">and stored locally and as a bit of a</font>

370
00:16:03,290 --> 00:16:10,219
tangent<font color="#CCCCCC"> you may want to tweak the</font>

371
00:16:06,579 --> 00:16:12,949
interface<font color="#E5E5E5"> load interval</font><font color="#CCCCCC"> because it's an</font>

372
00:16:10,220 --> 00:16:15,379
exponentially<font color="#CCCCCC"> decaying function</font><font color="#E5E5E5"> by</font>

373
00:16:12,949 --> 00:16:17,420
default that's<font color="#E5E5E5"> a</font><font color="#CCCCCC"> 5</font><font color="#E5E5E5"> minute supposed</font>

374
00:16:15,379 --> 00:16:19,759
average but because<font color="#CCCCCC"> of the decay you're</font>

375
00:16:17,420 --> 00:16:22,339
probably more looking at<font color="#E5E5E5"> seven and a</font>

376
00:16:19,759 --> 00:16:26,689
half<font color="#E5E5E5"> minutes of relevant data factoring</font>

377
00:16:22,339 --> 00:16:28,639
in<font color="#E5E5E5"> I feel comfortable</font><font color="#CCCCCC"> five minutes but</font>

378
00:16:26,689 --> 00:16:33,498
some<font color="#E5E5E5"> folks may want a more accurate</font>

379
00:16:28,639 --> 00:16:36,319
snapshot<font color="#E5E5E5"> of instantaneous traffic</font><font color="#CCCCCC"> and as</font>

380
00:16:33,499 --> 00:16:39,920
I<font color="#E5E5E5"> pointed out in the slide this auto</font>

381
00:16:36,319 --> 00:16:42,378
bandwidth is changing your configuration

382
00:16:39,920 --> 00:16:44,179
if you do a show run and you wait<font color="#CCCCCC"> 15</font>

383
00:16:42,379 --> 00:16:45,980
minutes<font color="#E5E5E5"> or you wait a day and you do</font>

384
00:16:44,179 --> 00:16:48,379
<font color="#CCCCCC">another show run you'll see the numbers</font>

385
00:16:45,980 --> 00:16:50,540
have changed<font color="#E5E5E5"> it's really in there if you</font>

386
00:16:48,379 --> 00:16:53,360
do a copy run start<font color="#E5E5E5"> those numbers are</font>

387
00:16:50,540 --> 00:16:54,199
<font color="#CCCCCC">really in your startup configuration so</font>

388
00:16:53,360 --> 00:16:55,820
though

389
00:16:54,200 --> 00:16:58,250
of you who<font color="#E5E5E5"> capture your router configs</font>

390
00:16:55,820 --> 00:17:00,680
<font color="#CCCCCC">every day</font><font color="#E5E5E5"> may want to try and work</font><font color="#CCCCCC"> on an</font>

391
00:16:58,250 --> 00:17:03,980
exclusion mechanism because<font color="#CCCCCC"> our core</font>

392
00:17:00,680 --> 00:17:05,810
routers<font color="#CCCCCC"> everyday fill up our email box</font>

393
00:17:03,980 --> 00:17:08,180
with configuration changes<font color="#E5E5E5"> that are</font>

394
00:17:05,810 --> 00:17:11,030
<font color="#E5E5E5">really just</font><font color="#CCCCCC"> bandwidth adjustments that</font>

395
00:17:08,180 --> 00:17:12,620
we're not<font color="#CCCCCC"> really paying attention</font><font color="#E5E5E5"> to so</font>

396
00:17:11,030 --> 00:17:14,089
those<font color="#CCCCCC"> of</font><font color="#E5E5E5"> you who are hopefully</font>

397
00:17:12,619 --> 00:17:16,579
automating your configuration or at

398
00:17:14,089 --> 00:17:22,669
least<font color="#CCCCCC"> you're tracking this</font><font color="#E5E5E5"> is a key</font>

399
00:17:16,579 --> 00:17:25,609
point operationally<font color="#CCCCCC"> okay another pausing</font>

400
00:17:22,670 --> 00:17:27,800
point<font color="#E5E5E5"> we've covered traffic engineering</font>

401
00:17:25,609 --> 00:17:30,530
<font color="#CCCCCC">tunnel basics we've covered router</font>

402
00:17:27,800 --> 00:17:32,690
configuration basics now we're going<font color="#E5E5E5"> to</font>

403
00:17:30,530 --> 00:17:34,250
die we've also covered general concepts

404
00:17:32,690 --> 00:17:36,260
<font color="#CCCCCC">about traffic engineering</font><font color="#E5E5E5"> and bandwidth</font>

405
00:17:34,250 --> 00:17:39,080
<font color="#E5E5E5">now we're going to plow into how do we</font>

406
00:17:36,260 --> 00:17:43,240
find a path through our network<font color="#CCCCCC"> and this</font>

407
00:17:39,080 --> 00:17:46,610
is essentially disjointed from our<font color="#CCCCCC"> IGP</font>

408
00:17:43,240 --> 00:17:48,590
so now we<font color="#E5E5E5"> get</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> path calculation and</font>

409
00:17:46,610 --> 00:17:51,439
set up and this revolves around a

410
00:17:48,590 --> 00:17:52,550
constrained version of SPF<font color="#E5E5E5"> we're going</font>

411
00:17:51,440 --> 00:17:55,240
to find the shortest path through the

412
00:17:52,550 --> 00:17:58,430
network<font color="#CCCCCC"> that meets</font><font color="#E5E5E5"> certain</font>

413
00:17:55,240 --> 00:18:01,340
considerations<font color="#E5E5E5"> in our case the</font><font color="#CCCCCC"> shortest</font>

414
00:17:58,430 --> 00:18:04,160
path<font color="#E5E5E5"> that has X bandwidth available for</font>

415
00:18:01,340 --> 00:18:06,740
reservation<font color="#CCCCCC"> technically</font><font color="#E5E5E5"> its bandwidth</font><font color="#CCCCCC"> X</font>

416
00:18:04,160 --> 00:18:09,020
<font color="#E5E5E5">at or below priority Y there are eight</font>

417
00:18:06,740 --> 00:18:14,360
priority levels available<font color="#CCCCCC"> we'll get</font>

418
00:18:09,020 --> 00:18:17,690
there<font color="#E5E5E5"> so quick rehash on SPF</font>

419
00:18:14,360 --> 00:18:20,479
calculations<font color="#CCCCCC"> starting off</font><font color="#E5E5E5"> will create a</font>

420
00:18:17,690 --> 00:18:24,320
path list and a<font color="#E5E5E5"> tenth list these</font><font color="#CCCCCC"> are key</font>

421
00:18:20,480 --> 00:18:25,670
variables in the SPF calc<font color="#CCCCCC"> step one we're</font>

422
00:18:24,320 --> 00:18:27,830
going<font color="#E5E5E5"> to go</font><font color="#CCCCCC"> ahead and put ourselves on</font>

423
00:18:25,670 --> 00:18:30,200
<font color="#E5E5E5">the</font><font color="#CCCCCC"> path list</font><font color="#E5E5E5"> with a distance of</font><font color="#CCCCCC"> zero</font>

424
00:18:27,830 --> 00:18:32,480
and the next top of ourselves<font color="#E5E5E5"> and we're</font>

425
00:18:30,200 --> 00:18:33,950
going to<font color="#E5E5E5"> ignore</font><font color="#CCCCCC"> our bandwidth and for</font>

426
00:18:32,480 --> 00:18:36,020
the node<font color="#CCCCCC"> that we just placed on</font><font color="#E5E5E5"> the path</font>

427
00:18:33,950 --> 00:18:39,410
list we'll call that<font color="#E5E5E5"> temporarily the</font>

428
00:18:36,020 --> 00:18:41,270
path node<font color="#E5E5E5"> step three says put all of the</font>

429
00:18:39,410 --> 00:18:44,210
path nodes neighbors on the<font color="#E5E5E5"> tentative</font>

430
00:18:41,270 --> 00:18:46,670
list<font color="#E5E5E5"> unless</font><font color="#CCCCCC"> a neighbor is already on the</font>

431
00:18:44,210 --> 00:18:49,670
<font color="#E5E5E5">tenth list or the path list with a lower</font>

432
00:18:46,670 --> 00:18:53,330
cost<font color="#E5E5E5"> at step four if the</font><font color="#CCCCCC"> tenth list is</font>

433
00:18:49,670 --> 00:18:54,560
<font color="#CCCCCC">empty we</font><font color="#E5E5E5"> stop at Step five</font><font color="#CCCCCC"> we find the</font>

434
00:18:53,330 --> 00:18:57,620
neighbor in the<font color="#CCCCCC"> tenth list with the</font>

435
00:18:54,560 --> 00:18:59,620
lowest cost<font color="#CCCCCC"> and we move</font><font color="#E5E5E5"> that over to the</font>

436
00:18:57,620 --> 00:19:05,090
<font color="#E5E5E5">path list and we jump</font><font color="#CCCCCC"> back to step</font><font color="#E5E5E5"> two</font>

437
00:18:59,620 --> 00:19:07,500
<font color="#E5E5E5">so essentially a six step process</font>

438
00:19:05,090 --> 00:19:11,790
covering how the router actually does

439
00:19:07,500 --> 00:19:13,500
the OSPF<font color="#CCCCCC"> or is is</font><font color="#E5E5E5"> scenario and we're</font>

440
00:19:11,790 --> 00:19:16,350
<font color="#E5E5E5">gonna jump down hopefully</font><font color="#CCCCCC"> you've picked</font>

441
00:19:13,500 --> 00:19:19,380
up a worksheet<font color="#CCCCCC"> those of you who may have</font>

442
00:19:16,350 --> 00:19:21,840
<font color="#E5E5E5">done a lot of</font><font color="#CCCCCC"> OSPF are is is</font><font color="#E5E5E5"> internals</font>

443
00:19:19,380 --> 00:19:23,610
feel free to tune out but we're going<font color="#E5E5E5"> to</font>

444
00:19:21,840 --> 00:19:26,730
run<font color="#E5E5E5"> through an</font><font color="#CCCCCC"> example exercise real</font>

445
00:19:23,610 --> 00:19:30,500
quick covering SPF<font color="#CCCCCC"> using the worksheet</font>

446
00:19:26,730 --> 00:19:30,500
and the easel pad

447
00:19:38,660 --> 00:19:43,280
and we're looking<font color="#CCCCCC"> for the side</font><font color="#E5E5E5"> of the</font>

448
00:19:41,180 --> 00:19:46,700
worksheet<font color="#CCCCCC"> that</font><font color="#E5E5E5"> does not have bandwidth</font>

449
00:19:43,280 --> 00:19:48,260
numbers in the diagram at<font color="#CCCCCC"> the top</font><font color="#E5E5E5"> and</font>

450
00:19:46,700 --> 00:19:51,170
we're going<font color="#CCCCCC"> to calculate</font><font color="#E5E5E5"> the best cost</font>

451
00:19:48,260 --> 00:19:53,720
path from<font color="#E5E5E5"> router a to router D so step</font>

452
00:19:51,170 --> 00:19:55,550
one we<font color="#E5E5E5"> put ourselves on</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> path list</font>

453
00:19:53,720 --> 00:19:59,600
and<font color="#E5E5E5"> that's going to be a with the next</font>

454
00:19:55,550 --> 00:20:01,700
top of<font color="#CCCCCC"> zero</font><font color="#E5E5E5"> of ourselves</font><font color="#CCCCCC"> and we'll put</font>

455
00:19:59,600 --> 00:20:05,120
all<font color="#E5E5E5"> of</font><font color="#CCCCCC"> aides</font><font color="#E5E5E5"> neighbors on the tenth list</font>

456
00:20:01,700 --> 00:20:09,470
<font color="#CCCCCC">so in this case neighbor B has a cost of</font>

457
00:20:05,120 --> 00:20:11,270
five and neighbors C has a cost of<font color="#CCCCCC"> ten</font>

458
00:20:09,470 --> 00:20:12,770
we'll go through and<font color="#E5E5E5"> we'll pick the item</font>

459
00:20:11,270 --> 00:20:15,830
on the<font color="#E5E5E5"> tenth list that's got the lowest</font>

460
00:20:12,770 --> 00:20:19,520
<font color="#E5E5E5">cost which will be be be punts over to</font>

461
00:20:15,830 --> 00:20:23,419
the path list<font color="#E5E5E5"> with a cost of 5 and the</font>

462
00:20:19,520 --> 00:20:25,430
next<font color="#CCCCCC"> hop of B and now that we've put B</font>

463
00:20:23,420 --> 00:20:27,440
on<font color="#E5E5E5"> the tenth</font><font color="#CCCCCC"> or on the path list we're</font>

464
00:20:25,430 --> 00:20:30,200
going to go<font color="#CCCCCC"> ahead and take these</font>

465
00:20:27,440 --> 00:20:32,450
neighbors and place them<font color="#CCCCCC"> onto</font><font color="#E5E5E5"> the tenth</font>

466
00:20:30,200 --> 00:20:35,450
list<font color="#E5E5E5"> unless</font><font color="#CCCCCC"> they're already</font><font color="#E5E5E5"> on the tenth</font>

467
00:20:32,450 --> 00:20:37,910
list with<font color="#E5E5E5"> a lower cost</font><font color="#CCCCCC"> so these</font>

468
00:20:35,450 --> 00:20:41,600
neighbors include a who's already on<font color="#E5E5E5"> the</font>

469
00:20:37,910 --> 00:20:43,430
path list<font color="#CCCCCC"> C at a cost of 5 plus 3</font><font color="#E5E5E5"> is</font><font color="#CCCCCC"> 8</font>

470
00:20:41,600 --> 00:20:47,090
so we're going to scratch out<font color="#CCCCCC"> the</font>

471
00:20:43,430 --> 00:20:49,820
existing C and put a new C of 8<font color="#E5E5E5"> now</font>

472
00:20:47,090 --> 00:20:51,530
we're<font color="#E5E5E5"> going to put a a new neighbor on</font>

473
00:20:49,820 --> 00:20:56,000
the<font color="#CCCCCC"> 10th list of D which is going</font><font color="#E5E5E5"> to be</font>

474
00:20:51,530 --> 00:20:59,960
at a cost of 5 plus 8<font color="#E5E5E5"> or 13 and we'll</font>

475
00:20:56,000 --> 00:21:02,060
select the<font color="#E5E5E5"> lowest cost entity on the</font>

476
00:20:59,960 --> 00:21:06,320
<font color="#CCCCCC">10th list and move</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> over to</font><font color="#E5E5E5"> the path</font>

477
00:21:02,060 --> 00:21:08,960
list so now C moves on to<font color="#CCCCCC"> the path list</font>

478
00:21:06,320 --> 00:21:11,600
with a cost of 8 and the next top of see

479
00:21:08,960 --> 00:21:14,570
actually I'm incorrect<font color="#E5E5E5"> that should be a</font>

480
00:21:11,600 --> 00:21:19,850
next top of B so we're slowly building

481
00:21:14,570 --> 00:21:22,460
<font color="#E5E5E5">up our routing table</font><font color="#CCCCCC"> and now we take the</font>

482
00:21:19,850 --> 00:21:25,159
new node on the path list<font color="#E5E5E5"> and that's our</font>

483
00:21:22,460 --> 00:21:27,320
path node<font color="#E5E5E5"> take a look at its neighbors</font><font color="#CCCCCC"> C</font>

484
00:21:25,160 --> 00:21:29,660
has a neighbor of<font color="#E5E5E5"> a but that's already</font>

485
00:21:27,320 --> 00:21:32,149
<font color="#CCCCCC">on</font><font color="#E5E5E5"> the path list C as</font><font color="#CCCCCC"> a neighbor of B</font>

486
00:21:29,660 --> 00:21:34,160
<font color="#E5E5E5">but that's already</font><font color="#CCCCCC"> on</font><font color="#E5E5E5"> the path list C is</font>

487
00:21:32,150 --> 00:21:36,770
a neighbor<font color="#CCCCCC"> of D at a cost of 5 plus 3</font>

488
00:21:34,160 --> 00:21:39,650
<font color="#CCCCCC">plus 4</font><font color="#E5E5E5"> which is 12 which</font><font color="#CCCCCC"> is actually</font>

489
00:21:36,770 --> 00:21:42,500
lower<font color="#E5E5E5"> than the existing entry on the</font>

490
00:21:39,650 --> 00:21:47,630
<font color="#CCCCCC">tenth list</font><font color="#E5E5E5"> D comes over to the path list</font>

491
00:21:42,500 --> 00:21:50,520
<font color="#E5E5E5">at a cost of 12 with a next top of being</font>

492
00:21:47,630 --> 00:21:53,250
so we've<font color="#E5E5E5"> basically managed to build up</font>

493
00:21:50,520 --> 00:21:57,540
our routing<font color="#E5E5E5"> table so that router a can</font>

494
00:21:53,250 --> 00:22:00,030
find router<font color="#E5E5E5"> D using three hops</font><font color="#CCCCCC"> at a cost</font>

495
00:21:57,540 --> 00:22:03,899
of 12 which you'd see in your routing

496
00:22:00,030 --> 00:22:06,590
<font color="#E5E5E5">table under OSPF or is is metrics any</font>

497
00:22:03,900 --> 00:22:08,580
questions on<font color="#E5E5E5"> this first</font><font color="#CCCCCC"> SBF exercise</font>

498
00:22:06,590 --> 00:22:11,639
<font color="#E5E5E5">zoom through it but we'll talk</font><font color="#CCCCCC"> about</font>

499
00:22:08,580 --> 00:22:14,790
some references<font color="#CCCCCC"> on where to get</font><font color="#E5E5E5"> a little</font>

500
00:22:11,640 --> 00:22:17,610
<font color="#E5E5E5">bit more exposure that what we're going</font>

501
00:22:14,790 --> 00:22:21,629
to<font color="#E5E5E5"> do is now repeat the exercise except</font>

502
00:22:17,610 --> 00:22:23,790
factor in SPF constraints and we're

503
00:22:21,630 --> 00:22:26,070
<font color="#E5E5E5">looking for a path from router a to</font>

504
00:22:23,790 --> 00:22:28,980
router<font color="#E5E5E5"> D that gives us a bandwidth</font>

505
00:22:26,070 --> 00:22:32,850
availability of 60 megabytes or megabits

506
00:22:28,980 --> 00:22:35,250
per second<font color="#E5E5E5"> so same basic scenario</font><font color="#CCCCCC"> going</font>

507
00:22:32,850 --> 00:22:38,610
<font color="#E5E5E5">from A to D we'll start off by putting</font>

508
00:22:35,250 --> 00:22:42,660
router a on the path list<font color="#CCCCCC"> next type of</font>

509
00:22:38,610 --> 00:22:45,629
<font color="#E5E5E5">self cost of</font><font color="#CCCCCC"> 0 all</font><font color="#E5E5E5"> the router a's</font>

510
00:22:42,660 --> 00:22:48,780
neighbors on the<font color="#CCCCCC"> 10th list B cost of</font><font color="#E5E5E5"> 5</font>

511
00:22:45,630 --> 00:22:54,870
next<font color="#CCCCCC"> top be available bandwidth hundred</font>

512
00:22:48,780 --> 00:22:57,240
Meg<font color="#E5E5E5"> C cost of 10 next top of C available</font>

513
00:22:54,870 --> 00:22:59,219
bandwidth hundred Meg<font color="#E5E5E5"> so we take the</font>

514
00:22:57,240 --> 00:23:02,130
item on the<font color="#CCCCCC"> 10th list with the lowest</font>

515
00:22:59,220 --> 00:23:06,300
cost<font color="#CCCCCC"> B moves over to the</font><font color="#E5E5E5"> path list cost</font>

516
00:23:02,130 --> 00:23:08,100
of<font color="#CCCCCC"> five next</font><font color="#E5E5E5"> top B we now take B's</font>

517
00:23:06,300 --> 00:23:09,540
<font color="#E5E5E5">neighbors place them on</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> 10th list</font>

518
00:23:08,100 --> 00:23:11,520
<font color="#CCCCCC">unless they're</font><font color="#E5E5E5"> already on the path of</font>

519
00:23:09,540 --> 00:23:14,850
10th list right<font color="#E5E5E5"> now</font><font color="#CCCCCC"> is</font><font color="#E5E5E5"> lower cost</font>

520
00:23:11,520 --> 00:23:16,350
<font color="#CCCCCC">a is already on we can get to see at a</font>

521
00:23:14,850 --> 00:23:18,600
cost of<font color="#CCCCCC"> 8 as we saw in the previous</font>

522
00:23:16,350 --> 00:23:20,250
example<font color="#E5E5E5"> except there's only 50 Meg's</font>

523
00:23:18,600 --> 00:23:23,330
available we're trying to build<font color="#E5E5E5"> a 60</font>

524
00:23:20,250 --> 00:23:26,250
mega so we don't actually put the ABC

525
00:23:23,330 --> 00:23:28,770
entry on the<font color="#E5E5E5"> 10th list we leave the</font>

526
00:23:26,250 --> 00:23:31,860
existing<font color="#CCCCCC"> C entry on there and we also</font>

527
00:23:28,770 --> 00:23:33,960
have a neighbor in<font color="#E5E5E5"> D at a cost of 13</font>

528
00:23:31,860 --> 00:23:36,060
<font color="#E5E5E5">that does have at least 60 Meg's</font>

529
00:23:33,960 --> 00:23:39,350
available and that's<font color="#E5E5E5"> through the next</font>

530
00:23:36,060 --> 00:23:46,409
<font color="#CCCCCC">type of</font><font color="#E5E5E5"> B and that's got 80 Meg's</font>

531
00:23:39,350 --> 00:23:52,469
available so our lowest cost path on the

532
00:23:46,410 --> 00:23:56,370
list is C C moves over cost of 10 next

533
00:23:52,470 --> 00:23:58,500
top of C and it's got 100 Meg's<font color="#E5E5E5"> so we</font>

534
00:23:56,370 --> 00:23:59,760
take all of<font color="#E5E5E5"> C's neighbors place them on</font>

535
00:23:58,500 --> 00:24:00,120
the<font color="#CCCCCC"> 10th list unless</font><font color="#E5E5E5"> they're already on</font>

536
00:23:59,760 --> 00:24:03,750
the<font color="#E5E5E5"> list</font>

537
00:24:00,120 --> 00:24:06,330
<font color="#CCCCCC">where</font><font color="#E5E5E5"> right now</font><font color="#CCCCCC"> a zombies on</font><font color="#E5E5E5"> our only</font>

538
00:24:03,750 --> 00:24:08,130
<font color="#E5E5E5">option is D at a cost of 14 that's</font><font color="#CCCCCC"> a</font>

539
00:24:06,330 --> 00:24:10,649
higher cost than<font color="#E5E5E5"> what's already there</font><font color="#CCCCCC"> so</font>

540
00:24:08,130 --> 00:24:12,960
<font color="#CCCCCC">the list doesn't update</font><font color="#E5E5E5"> we take our</font>

541
00:24:10,650 --> 00:24:15,420
lowest remaining<font color="#E5E5E5"> cost item on the list</font>

542
00:24:12,960 --> 00:24:18,960
<font color="#E5E5E5">and punt it over to the path list so now</font>

543
00:24:15,420 --> 00:24:20,790
D is available<font color="#E5E5E5"> at a cost of 13 by going</font>

544
00:24:18,960 --> 00:24:23,430
<font color="#E5E5E5">through B so it's a different path</font>

545
00:24:20,790 --> 00:24:25,800
<font color="#E5E5E5">through our network because it was the</font>

546
00:24:23,430 --> 00:24:28,650
<font color="#E5E5E5">only path or as least at</font><font color="#CCCCCC"> least in this</font>

547
00:24:25,800 --> 00:24:32,129
case the<font color="#E5E5E5"> best path that had at</font><font color="#CCCCCC"> least 60</font>

548
00:24:28,650 --> 00:24:35,790
Meg's<font color="#E5E5E5"> let's say 65 makes available</font><font color="#CCCCCC"> to</font>

549
00:24:32,130 --> 00:24:38,850
sustain what<font color="#CCCCCC"> we wanted</font><font color="#E5E5E5"> to do the</font><font color="#CCCCCC"> BC link</font>

550
00:24:35,790 --> 00:24:42,090
with a limit<font color="#E5E5E5"> of 50 tied our hands and</font>

551
00:24:38,850 --> 00:24:43,770
meant that<font color="#CCCCCC"> we had to go through a</font><font color="#E5E5E5"> BD any</font>

552
00:24:42,090 --> 00:24:48,320
questions on the constrained SPF

553
00:24:43,770 --> 00:24:48,320
exercise<font color="#E5E5E5"> all right</font>

554
00:24:54,500 --> 00:24:58,640
<font color="#CCCCCC">I know it's a little</font><font color="#E5E5E5"> different to</font>

555
00:24:57,110 --> 00:25:01,909
<font color="#E5E5E5">actually go to Nana</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> can pull out a pen</font>

556
00:24:58,640 --> 00:25:03,410
but this was pretty<font color="#E5E5E5"> valuable to</font>

557
00:25:01,910 --> 00:25:05,300
understanding<font color="#E5E5E5"> how a lot of this work</font><font color="#CCCCCC"> for</font>

558
00:25:03,410 --> 00:25:07,190
me<font color="#CCCCCC"> and thought</font><font color="#E5E5E5"> it'd be worthwhile</font><font color="#CCCCCC"> to</font>

559
00:25:05,300 --> 00:25:09,350
take<font color="#E5E5E5"> a few minutes to put it in there so</font>

560
00:25:07,190 --> 00:25:12,580
we've run through<font color="#E5E5E5"> our</font><font color="#CCCCCC"> CSP F exercise</font><font color="#E5E5E5"> a</font>

561
00:25:09,350 --> 00:25:18,860
couple<font color="#CCCCCC"> of key notes on constrained SPF</font>

562
00:25:12,580 --> 00:25:21,740
<font color="#E5E5E5">within an individual tunnel no interface</font>

563
00:25:18,860 --> 00:25:24,620
load sharing happens the<font color="#CCCCCC"> teehee tunnel</font>

564
00:25:21,740 --> 00:25:26,440
has single interface<font color="#CCCCCC"> exit points</font>

565
00:25:24,620 --> 00:25:29,989
<font color="#E5E5E5">hop-by-hop</font>

566
00:25:26,440 --> 00:25:33,460
as soon as a path is found that meets

567
00:25:29,990 --> 00:25:37,430
the criteria<font color="#E5E5E5"> that path is selected and</font>

568
00:25:33,460 --> 00:25:40,070
signaled as the LSP<font color="#E5E5E5"> some key tie</font>

569
00:25:37,430 --> 00:25:44,450
<font color="#E5E5E5">breakers are the lowest</font><font color="#CCCCCC"> IGP cost we</font>

570
00:25:40,070 --> 00:25:48,590
already came to that the largest<font color="#E5E5E5"> minimum</font>

571
00:25:44,450 --> 00:25:53,030
available bandwidth wins in the<font color="#E5E5E5"> CSP</font><font color="#CCCCCC"> F</font>

572
00:25:48,590 --> 00:25:54,590
<font color="#CCCCCC">passed selection lowest hop count also</font>

573
00:25:53,030 --> 00:25:59,300
<font color="#E5E5E5">factors in if you haven't already</font>

574
00:25:54,590 --> 00:26:01,280
selected<font color="#E5E5E5"> a best route and the top node</font>

575
00:25:59,300 --> 00:26:03,620
on the path list and<font color="#E5E5E5"> this ends up being</font>

576
00:26:01,280 --> 00:26:06,800
somewhat<font color="#E5E5E5"> deterministic based on how the</font>

577
00:26:03,620 --> 00:26:09,290
router actually performs<font color="#E5E5E5"> its calculation</font>

578
00:26:06,800 --> 00:26:11,120
a lot of internals that I'm not<font color="#CCCCCC"> familiar</font>

579
00:26:09,290 --> 00:26:18,760
<font color="#CCCCCC">with and isn't really</font><font color="#E5E5E5"> adjustable by way</font>

580
00:26:11,120 --> 00:26:21,350
of a knob in<font color="#CCCCCC"> the configuration</font><font color="#E5E5E5"> but that</font>

581
00:26:18,760 --> 00:26:22,879
ends up indicating<font color="#CCCCCC"> that there are some</font>

582
00:26:21,350 --> 00:26:25,730
certain scenarios where you<font color="#E5E5E5"> may not</font>

583
00:26:22,880 --> 00:26:27,680
fully understand why traffic's covering

584
00:26:25,730 --> 00:26:31,100
the path it is<font color="#E5E5E5"> and you may need to do a</font>

585
00:26:27,680 --> 00:26:33,620
little bit of<font color="#CCCCCC"> IGP metric redesign I had</font>

586
00:26:31,100 --> 00:26:35,389
to do this in<font color="#CCCCCC"> my</font><font color="#E5E5E5"> network</font><font color="#CCCCCC"> ended</font><font color="#E5E5E5"> up</font>

587
00:26:33,620 --> 00:26:38,810
following<font color="#E5E5E5"> a lot of the model of</font><font color="#CCCCCC"> VJ</font><font color="#E5E5E5"> Gil</font>

588
00:26:35,390 --> 00:26:41,030
when they can<font color="#E5E5E5"> convert at</font><font color="#CCCCCC"> 8080</font><font color="#E5E5E5"> DN from</font>

589
00:26:38,810 --> 00:26:43,190
<font color="#CCCCCC">OSPF to ISI ass and that really helped</font>

590
00:26:41,030 --> 00:26:47,410
make my<font color="#CCCCCC"> T tunnels follow what I</font>

591
00:26:43,190 --> 00:26:51,380
anticipated to<font color="#CCCCCC"> be the most logical path</font>

592
00:26:47,410 --> 00:26:53,990
so another checkpoint for where we're at

593
00:26:51,380 --> 00:26:56,540
<font color="#E5E5E5">we've covered T in config basics</font><font color="#CCCCCC"> T and</font>

594
00:26:53,990 --> 00:26:58,700
bandwidth concepts calculating the path

595
00:26:56,540 --> 00:27:01,550
through our network and now it's time to

596
00:26:58,700 --> 00:27:03,490
<font color="#E5E5E5">actually configure how to select the</font>

597
00:27:01,550 --> 00:27:06,409
path through our network

598
00:27:03,490 --> 00:27:08,570
as we touched on earlier<font color="#CCCCCC"> paths can be</font>

599
00:27:06,410 --> 00:27:10,580
created dynamically<font color="#E5E5E5"> by allowing</font><font color="#CCCCCC"> RT</font>

600
00:27:08,570 --> 00:27:13,668
enabled<font color="#CCCCCC"> IGP to perform these</font>

601
00:27:10,580 --> 00:27:15,830
calculations<font color="#E5E5E5"> for us and indicated</font><font color="#CCCCCC"> before</font>

602
00:27:13,669 --> 00:27:19,850
its path option pick a number<font color="#E5E5E5"> lowest</font>

603
00:27:15,830 --> 00:27:22,428
number wins<font color="#E5E5E5"> as dynamic you also have the</font>

604
00:27:19,850 --> 00:27:26,689
option<font color="#E5E5E5"> of creating explicit hop-by-hop</font>

605
00:27:22,429 --> 00:27:28,160
paths<font color="#CCCCCC"> define an IP explicit path by a</font>

606
00:27:26,690 --> 00:27:30,380
name and<font color="#E5E5E5"> I think you can also do by</font>

607
00:27:28,160 --> 00:27:33,860
<font color="#E5E5E5">number and then within that explicit</font>

608
00:27:30,380 --> 00:27:36,950
path specify next<font color="#E5E5E5"> top addresses in</font>

609
00:27:33,860 --> 00:27:40,309
sequence<font color="#CCCCCC"> you may need</font><font color="#E5E5E5"> to experiment with</font>

610
00:27:36,950 --> 00:27:44,000
this on various code releases you may

611
00:27:40,309 --> 00:27:46,730
have to specify<font color="#E5E5E5"> interface addresses and</font>

612
00:27:44,000 --> 00:27:48,320
<font color="#E5E5E5">loopback</font><font color="#CCCCCC"> zeroes it all depends on</font><font color="#E5E5E5"> the</font>

613
00:27:46,730 --> 00:27:50,570
specific implementation<font color="#E5E5E5"> I've run into a</font>

614
00:27:48,320 --> 00:27:52,639
couple<font color="#E5E5E5"> of gotchas where the tunnel path</font>

615
00:27:50,570 --> 00:27:55,549
option wouldn't come up<font color="#CCCCCC"> until a couple</font>

616
00:27:52,640 --> 00:27:59,230
<font color="#CCCCCC">of</font><font color="#E5E5E5"> extra data points are added to the</font>

617
00:27:55,549 --> 00:28:02,750
path option<font color="#E5E5E5"> and then within the tunnel</font>

618
00:27:59,230 --> 00:28:06,289
<font color="#CCCCCC">the te tunnel interface defined</font><font color="#E5E5E5"> tunnel</font>

619
00:28:02,750 --> 00:28:08,659
MPLS traffic<font color="#CCCCCC"> path option</font><font color="#E5E5E5"> X explicit name</font>

620
00:28:06,289 --> 00:28:12,020
and then specify the name<font color="#CCCCCC"> of</font><font color="#E5E5E5"> the of</font><font color="#CCCCCC"> the</font>

621
00:28:08,659 --> 00:28:13,400
path option you've written so you you

622
00:28:12,020 --> 00:28:15,980
can<font color="#CCCCCC"> actually write these to</font><font color="#E5E5E5"> take</font>

623
00:28:13,400 --> 00:28:19,100
specific hops if you've got parallel

624
00:28:15,980 --> 00:28:20,480
links between<font color="#E5E5E5"> two routers or typically</font>

625
00:28:19,100 --> 00:28:23,809
you can get<font color="#E5E5E5"> away with just specifying</font>

626
00:28:20,480 --> 00:28:29,770
loop backs<font color="#CCCCCC"> again play</font><font color="#E5E5E5"> with your code as</font>

627
00:28:23,809 --> 00:28:32,899
needed<font color="#CCCCCC"> so that's explicit hop by hop</font>

628
00:28:29,770 --> 00:28:35,900
selection we also have the<font color="#E5E5E5"> option of</font>

629
00:28:32,900 --> 00:28:37,730
doing take any path you<font color="#E5E5E5"> can find through</font>

630
00:28:35,900 --> 00:28:40,850
the network but don't go through this

631
00:28:37,730 --> 00:28:42,679
<font color="#E5E5E5">and that this can be a loopback or this</font>

632
00:28:40,850 --> 00:28:44,719
can<font color="#CCCCCC"> be an interface address</font><font color="#E5E5E5"> so if you've</font>

633
00:28:42,679 --> 00:28:46,789
got a link<font color="#CCCCCC"> you just</font><font color="#E5E5E5"> don't want one</font>

634
00:28:44,720 --> 00:28:52,549
<font color="#E5E5E5">tunnel to take you can</font><font color="#CCCCCC"> do an explicit</font>

635
00:28:46,789 --> 00:28:56,809
path<font color="#E5E5E5"> that excludes an address it could</font>

636
00:28:52,549 --> 00:28:59,870
be a high latency link it could be just

637
00:28:56,809 --> 00:29:05,059
a low bandwidth link a low reliability

638
00:28:59,870 --> 00:29:08,299
link your network is<font color="#CCCCCC"> your</font><font color="#E5E5E5"> network but</font>

639
00:29:05,059 --> 00:29:10,100
this is particularly important<font color="#E5E5E5"> if we</font>

640
00:29:08,299 --> 00:29:12,320
take traffic engineering and extend it

641
00:29:10,100 --> 00:29:13,908
<font color="#E5E5E5">to the next level</font><font color="#CCCCCC"> for fast reroute you</font>

642
00:29:12,320 --> 00:29:16,879
may want to have a fast reroute

643
00:29:13,909 --> 00:29:19,520
capability to specifically<font color="#E5E5E5"> ignore</font>

644
00:29:16,880 --> 00:29:22,160
a<font color="#E5E5E5"> link you're protecting and use the</font>

645
00:29:19,520 --> 00:29:24,440
explicit path ignore or exclusion option

646
00:29:22,160 --> 00:29:28,460
to exclude<font color="#E5E5E5"> that</font><font color="#CCCCCC"> I need</font><font color="#E5E5E5"> to turn the power</font>

647
00:29:24,440 --> 00:29:30,610
switch on<font color="#CCCCCC"> to the mic</font><font color="#E5E5E5"> rotate from right</font>

648
00:29:28,460 --> 00:29:30,610
to left

649
00:29:31,280 --> 00:29:36,470
<font color="#CCCCCC">ken Emory</font><font color="#E5E5E5"> from wondering when you do the</font>

650
00:29:34,550 --> 00:29:39,080
exclude if all the other paths go away

651
00:29:36,470 --> 00:29:42,740
does that still exclude that path that

652
00:29:39,080 --> 00:29:46,070
<font color="#CCCCCC">you manually excluded</font><font color="#E5E5E5"> repeat the</font>

653
00:29:42,740 --> 00:29:48,290
<font color="#E5E5E5">question you've got multiple paths and</font>

654
00:29:46,070 --> 00:29:49,280
so you're excluding this one<font color="#E5E5E5"> what</font><font color="#CCCCCC"> about</font>

655
00:29:48,290 --> 00:29:51,860
the other paths

656
00:29:49,280 --> 00:29:56,600
go away will it use the one<font color="#CCCCCC"> you have</font>

657
00:29:51,860 --> 00:29:58,820
excluded<font color="#E5E5E5"> the tunnel may have let's say</font>

658
00:29:56,600 --> 00:30:01,550
there's three<font color="#E5E5E5"> path options configure</font>

659
00:29:58,820 --> 00:30:04,970
path option number<font color="#E5E5E5"> one you've specified</font>

660
00:30:01,550 --> 00:30:07,460
next<font color="#E5E5E5"> hops path option number two you've</font>

661
00:30:04,970 --> 00:30:09,160
specified an exclusion let's say path

662
00:30:07,460 --> 00:30:11,720
option<font color="#E5E5E5"> three</font><font color="#CCCCCC"> is dynamic</font>

663
00:30:09,160 --> 00:30:14,210
every time the tunnel reoptimize<font color="#CCCCCC"> --is</font>

664
00:30:11,720 --> 00:30:16,580
which<font color="#E5E5E5"> we'll cover it will try the lowest</font>

665
00:30:14,210 --> 00:30:19,100
numeric path option first<font color="#E5E5E5"> so in this</font>

666
00:30:16,580 --> 00:30:22,399
case it would do a<font color="#CCCCCC"> Next Top calculation</font>

667
00:30:19,100 --> 00:30:25,040
<font color="#E5E5E5">if that path had insufficient bandwidth</font>

668
00:30:22,400 --> 00:30:26,540
to sustain this tunnels configuration<font color="#E5E5E5"> it</font>

669
00:30:25,040 --> 00:30:29,570
would then attempt<font color="#E5E5E5"> to path option number</font>

670
00:30:26,540 --> 00:30:31,430
<font color="#E5E5E5">two which would be</font><font color="#CCCCCC"> an exclusion say</font><font color="#E5E5E5"> go</font>

671
00:30:29,570 --> 00:30:33,800
there<font color="#E5E5E5"> but don't go through this node or</font>

672
00:30:31,430 --> 00:30:35,390
this link<font color="#E5E5E5"> and if that failed because</font>

673
00:30:33,800 --> 00:30:37,070
there was an insufficient bandwidth it

674
00:30:35,390 --> 00:30:39,320
would then fail<font color="#CCCCCC"> to the third option</font>

675
00:30:37,070 --> 00:30:42,460
which<font color="#CCCCCC"> is dynamic</font><font color="#E5E5E5"> and would go through it</font>

676
00:30:39,320 --> 00:30:42,460
<font color="#E5E5E5">does that help</font>

677
00:30:45,519 --> 00:30:53,840
the key though<font color="#CCCCCC"> is on a particular</font>

678
00:30:48,620 --> 00:30:56,508
explicit path cannot mix and match next

679
00:30:53,840 --> 00:30:58,879
<font color="#E5E5E5">address and exclude address just a</font>

680
00:30:56,509 --> 00:31:01,429
limitation the code<font color="#E5E5E5"> the calculations</font>

681
00:30:58,879 --> 00:31:05,719
probably get pretty<font color="#E5E5E5"> brutal going through</font>

682
00:31:01,429 --> 00:31:07,460
<font color="#E5E5E5">that so and this leads right</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> where</font>

683
00:31:05,720 --> 00:31:10,370
we're going<font color="#CCCCCC"> a</font><font color="#E5E5E5"> tea tunnel can have</font>

684
00:31:07,460 --> 00:31:13,279
<font color="#E5E5E5">multiple</font><font color="#CCCCCC"> paths options</font><font color="#E5E5E5"> lowest cost based</font>

685
00:31:10,370 --> 00:31:15,529
on<font color="#E5E5E5"> the number before the name or dynamic</font>

686
00:31:13,279 --> 00:31:17,809
is attempted first<font color="#E5E5E5"> they're then</font>

687
00:31:15,529 --> 00:31:20,929
attempted sequentially<font color="#CCCCCC"> until a</font><font color="#E5E5E5"> path can</font>

688
00:31:17,809 --> 00:31:22,580
be successfully established<font color="#CCCCCC"> depending</font><font color="#E5E5E5"> on</font>

689
00:31:20,929 --> 00:31:24,820
your architecture it's usually best<font color="#E5E5E5"> to</font>

690
00:31:22,580 --> 00:31:27,830
have a dynamic option<font color="#CCCCCC"> as your highest</font>

691
00:31:24,820 --> 00:31:29,360
numeric option so<font color="#E5E5E5"> that you can find a</font>

692
00:31:27,830 --> 00:31:32,090
path<font color="#E5E5E5"> of the network of bandwidth</font><font color="#CCCCCC"> X</font>

693
00:31:29,360 --> 00:31:34,879
wherever it may be<font color="#CCCCCC"> otherwise you may end</font>

694
00:31:32,090 --> 00:31:36,980
<font color="#E5E5E5">up having</font><font color="#CCCCCC"> to eat tunnels going</font><font color="#E5E5E5"> line</font>

695
00:31:34,879 --> 00:31:39,408
protocol down<font color="#E5E5E5"> falling out</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> your ribs</font>

696
00:31:36,980 --> 00:31:42,019
and fibs and reverting back to<font color="#CCCCCC"> IGP</font>

697
00:31:39,409 --> 00:31:44,990
forwarding and particularly in my<font color="#CCCCCC"> case</font>

698
00:31:42,019 --> 00:31:47,179
doing automatic bandwidth adjustment if

699
00:31:44,990 --> 00:31:51,080
some of<font color="#E5E5E5"> your traffic is traveling solely</font>

700
00:31:47,179 --> 00:31:53,149
by<font color="#CCCCCC"> IGP forwarding and not by te tunnel</font>

701
00:31:51,080 --> 00:31:55,908
forwarding you have traffic<font color="#E5E5E5"> that's not</font>

702
00:31:53,149 --> 00:31:58,340
being<font color="#CCCCCC"> counted as far as a bandwidth</font>

703
00:31:55,909 --> 00:32:00,320
value<font color="#E5E5E5"> over that physical interface and</font>

704
00:31:58,340 --> 00:32:02,689
if you've told an oc-3<font color="#E5E5E5"> that there's a</font>

705
00:32:00,320 --> 00:32:04,668
hundred and<font color="#E5E5E5"> 20 megabits available when</font>

706
00:32:02,690 --> 00:32:06,889
in fact<font color="#E5E5E5"> you've got</font><font color="#CCCCCC"> sixty megabits of</font><font color="#E5E5E5"> non</font>

707
00:32:04,669 --> 00:32:08,749
te traffic flowing over<font color="#CCCCCC"> it</font><font color="#E5E5E5"> you</font>

708
00:32:06,889 --> 00:32:10,340
potentially have<font color="#CCCCCC"> a scenario where you're</font>

709
00:32:08,749 --> 00:32:17,080
going to<font color="#CCCCCC"> reserve more traffic than you</font>

710
00:32:10,340 --> 00:32:21,259
truly have available<font color="#E5E5E5"> to te so upon</font>

711
00:32:17,080 --> 00:32:24,110
<font color="#CCCCCC">set-up of</font><font color="#E5E5E5"> a tunnel or reoptimize ation</font>

712
00:32:21,259 --> 00:32:25,840
<font color="#E5E5E5">of a tunnel</font><font color="#CCCCCC"> si SPF checks the tunnels</font>

713
00:32:24,110 --> 00:32:27,949
path options in sequence

714
00:32:25,840 --> 00:32:29,709
static path options are<font color="#E5E5E5"> checked</font>

715
00:32:27,950 --> 00:32:32,179
hop-by-hop for<font color="#E5E5E5"> available bandwidth</font>

716
00:32:29,710 --> 00:32:33,919
dynamic path options do a complete

717
00:32:32,179 --> 00:32:36,230
search of the network<font color="#E5E5E5"> for an available</font>

718
00:32:33,919 --> 00:32:38,360
hop-by-hop path and if there<font color="#CCCCCC"> are no</font>

719
00:32:36,230 --> 00:32:42,129
available<font color="#E5E5E5"> paths that we have sufficient</font>

720
00:32:38,360 --> 00:32:42,129
<font color="#E5E5E5">bandwidth tunnel goes down</font>

721
00:32:42,400 --> 00:32:47,410
so we've covered everything you see it's

722
00:32:45,910 --> 00:32:48,580
time<font color="#E5E5E5"> to start distributing the traffic</font>

723
00:32:47,410 --> 00:32:53,890
engineering information<font color="#CCCCCC"> around the</font>

724
00:32:48,580 --> 00:32:56,530
<font color="#E5E5E5">network it all gets shared inside of</font>

725
00:32:53,890 --> 00:32:58,420
your various<font color="#E5E5E5"> I GPL essays</font>

726
00:32:56,530 --> 00:33:01,300
there's available bandwidth per

727
00:32:58,420 --> 00:33:03,160
interface that bandwidth can then be

728
00:33:01,300 --> 00:33:05,590
broken<font color="#E5E5E5"> down into eight priority levels</font>

729
00:33:03,160 --> 00:33:08,110
<font color="#CCCCCC">not</font><font color="#E5E5E5"> in any related</font><font color="#CCCCCC"> to IP precedents and</font>

730
00:33:05,590 --> 00:33:11,709
simply numeric values<font color="#E5E5E5"> what your traffic</font>

731
00:33:08,110 --> 00:33:15,550
engineering tunnels can<font color="#E5E5E5"> be told to</font><font color="#CCCCCC"> be a</font>

732
00:33:11,710 --> 00:33:19,030
priority<font color="#E5E5E5"> value from 0 to</font><font color="#CCCCCC"> 7 so the high</font>

733
00:33:15,550 --> 00:33:20,379
priority tunnels can push low priority

734
00:33:19,030 --> 00:33:22,480
tunnels out<font color="#E5E5E5"> of the way if for some</font>

735
00:33:20,380 --> 00:33:26,380
reason they need to resize or they

736
00:33:22,480 --> 00:33:28,870
otherwise<font color="#CCCCCC"> reap remise the low priority</font>

737
00:33:26,380 --> 00:33:31,780
tunnels will fall<font color="#E5E5E5"> potentially to an</font>

738
00:33:28,870 --> 00:33:33,489
indirect path so<font color="#CCCCCC"> that your high priority</font>

739
00:33:31,780 --> 00:33:35,678
tunnels take the best path that they can

740
00:33:33,490 --> 00:33:37,620
possibly<font color="#E5E5E5"> find still might not</font><font color="#CCCCCC"> be your</font>

741
00:33:35,679 --> 00:33:39,970
<font color="#CCCCCC">IGP best path is you've got enough</font>

742
00:33:37,620 --> 00:33:42,520
<font color="#CCCCCC">Tunnel overload relative to your</font><font color="#E5E5E5"> best</font>

743
00:33:39,970 --> 00:33:46,200
path interface but you've got some

744
00:33:42,520 --> 00:33:49,629
ability<font color="#CCCCCC"> to tweak and tune your tunnels</font>

745
00:33:46,200 --> 00:33:52,330
<font color="#CCCCCC">implementation specific to to make this</font>

746
00:33:49,630 --> 00:33:54,400
work<font color="#CCCCCC"> as the caveat there are some</font>

747
00:33:52,330 --> 00:33:56,590
dynamics as far as the tunnel<font color="#E5E5E5"> versus</font>

748
00:33:54,400 --> 00:33:58,929
your interface sizing and the exact

749
00:33:56,590 --> 00:34:02,500
sequence<font color="#E5E5E5"> that the individual tunnels</font>

750
00:33:58,929 --> 00:34:05,320
resize<font color="#CCCCCC"> sometimes called</font><font color="#E5E5E5"> max</font><font color="#CCCCCC"> filler min</font>

751
00:34:02,500 --> 00:34:08,649
<font color="#E5E5E5">fill</font><font color="#CCCCCC"> if you find yourself looking at</font>

752
00:34:05,320 --> 00:34:10,179
deploying<font color="#E5E5E5"> team on your network give me a</font>

753
00:34:08,649 --> 00:34:12,399
holler<font color="#E5E5E5"> and we'll we'll cover over some</font>

754
00:34:10,179 --> 00:34:15,159
of the specifics it's also covered<font color="#CCCCCC"> a</font>

755
00:34:12,399 --> 00:34:16,989
little<font color="#E5E5E5"> bit</font><font color="#CCCCCC"> in the traffic engineering</font>

756
00:34:15,159 --> 00:34:19,690
with MPLS<font color="#CCCCCC"> book</font><font color="#E5E5E5"> from Cisco press which</font>

757
00:34:16,989 --> 00:34:21,129
admittedly was<font color="#CCCCCC"> a lot</font><font color="#E5E5E5"> of the origin for</font>

758
00:34:19,690 --> 00:34:23,730
how I picked up<font color="#E5E5E5"> on this and how this</font>

759
00:34:21,129 --> 00:34:26,799
presentations somewhat<font color="#E5E5E5"> structured</font>

760
00:34:23,730 --> 00:34:29,980
<font color="#CCCCCC">there's also a way</font><font color="#E5E5E5"> to tell traffic</font>

761
00:34:26,800 --> 00:34:33,879
engineering to consider a different<font color="#E5E5E5"> link</font>

762
00:34:29,980 --> 00:34:36,250
metric than what you've told your<font color="#CCCCCC"> IGP so</font>

763
00:34:33,879 --> 00:34:39,790
essentially it's a te specific<font color="#CCCCCC"> IGP</font>

764
00:34:36,250 --> 00:34:42,399
metric that's passed around in<font color="#E5E5E5"> the</font><font color="#CCCCCC"> TE</font><font color="#E5E5E5"> l</font>

765
00:34:39,790 --> 00:34:44,230
<font color="#E5E5E5">SAS that signal the routers to know</font>

766
00:34:42,399 --> 00:34:47,710
where they're going<font color="#CCCCCC"> and</font><font color="#E5E5E5"> what paths to</font>

767
00:34:44,230 --> 00:34:50,560
use certain parameters on how far you

768
00:34:47,710 --> 00:34:53,199
can really push that and then the third

769
00:34:50,560 --> 00:34:54,759
<font color="#E5E5E5">value</font><font color="#CCCCCC"> a key point under information</font>

770
00:34:53,199 --> 00:34:55,908
distribution<font color="#E5E5E5"> which we're not going</font><font color="#CCCCCC"> to go</font>

771
00:34:54,760 --> 00:34:59,359
into<font color="#E5E5E5"> actual implementation</font>

772
00:34:55,909 --> 00:35:02,059
<font color="#CCCCCC">of is tunnel</font><font color="#E5E5E5"> affinity you've got I think</font>

773
00:34:59,359 --> 00:35:04,069
<font color="#E5E5E5">it's 32</font><font color="#CCCCCC"> bits</font><font color="#E5E5E5"> where you can use the bit</font>

774
00:35:02,059 --> 00:35:06,319
patterns as<font color="#CCCCCC"> you see fit somewhat like</font>

775
00:35:04,069 --> 00:35:08,150
<font color="#CCCCCC">bgp communities nobody nobody ever tells</font>

776
00:35:06,319 --> 00:35:09,788
<font color="#E5E5E5">you how to use them intelligent and you</font>

777
00:35:08,150 --> 00:35:12,200
kinda<font color="#E5E5E5"> have</font><font color="#CCCCCC"> to crash into</font><font color="#E5E5E5"> a good</font>

778
00:35:09,789 --> 00:35:14,900
presentation or guideline on<font color="#E5E5E5"> how to use</font>

779
00:35:12,200 --> 00:35:17,450
<font color="#E5E5E5">it</font><font color="#CCCCCC"> but</font><font color="#E5E5E5"> you can have the various physical</font>

780
00:35:14,900 --> 00:35:20,210
<font color="#E5E5E5">interfaces on your network configured</font>

781
00:35:17,450 --> 00:35:22,129
with bits that perhaps<font color="#E5E5E5"> indicate they</font>

782
00:35:20,210 --> 00:35:24,280
travel over<font color="#CCCCCC"> satellite or they travel</font>

783
00:35:22,130 --> 00:35:28,369
over microwave or they travel over<font color="#CCCCCC"> a</font>

784
00:35:24,280 --> 00:35:30,309
high latency path or<font color="#E5E5E5"> for those of you</font>

785
00:35:28,369 --> 00:35:33,530
who may have territorial<font color="#E5E5E5"> restrictions</font>

786
00:35:30,309 --> 00:35:36,829
<font color="#E5E5E5">meaning this content can never transit</font>

787
00:35:33,530 --> 00:35:38,839
another country<font color="#CCCCCC"> you can</font><font color="#E5E5E5"> indicate in the</font>

788
00:35:36,829 --> 00:35:41,660
<font color="#CCCCCC">tunnel affinity</font><font color="#E5E5E5"> or the interface</font>

789
00:35:38,839 --> 00:35:44,390
affinity bits<font color="#E5E5E5"> whether that link perhaps</font>

790
00:35:41,660 --> 00:35:46,640
goes into Canada<font color="#E5E5E5"> and you can have</font>

791
00:35:44,390 --> 00:35:49,368
tunnels that<font color="#E5E5E5"> are configured</font><font color="#CCCCCC"> with an</font>

792
00:35:46,640 --> 00:35:50,690
affinity mask<font color="#E5E5E5"> that will never select a</font>

793
00:35:49,369 --> 00:35:52,700
path through the<font color="#CCCCCC"> network</font><font color="#E5E5E5"> that perhaps</font>

794
00:35:50,690 --> 00:35:54,380
<font color="#E5E5E5">goes through Canada maybe there's some</font>

795
00:35:52,700 --> 00:35:56,450
sort<font color="#E5E5E5"> of export restriction and the mere</font>

796
00:35:54,380 --> 00:35:58,640
<font color="#CCCCCC">fact that those bits</font><font color="#E5E5E5"> traveling over this</font>

797
00:35:56,450 --> 00:36:02,149
<font color="#E5E5E5">particular tunnel don't belong outside</font>

798
00:35:58,640 --> 00:36:06,078
<font color="#CCCCCC">US</font><font color="#E5E5E5"> or any other boundary you may want to</font>

799
00:36:02,150 --> 00:36:11,569
define some rather unique<font color="#E5E5E5"> esoteric ways</font>

800
00:36:06,079 --> 00:36:13,400
of adjusting<font color="#CCCCCC"> te so this information is</font>

801
00:36:11,569 --> 00:36:14,839
passed<font color="#E5E5E5"> around amongst the various te</font>

802
00:36:13,400 --> 00:36:17,240
capable routers in your network

803
00:36:14,839 --> 00:36:19,788
<font color="#CCCCCC">immediately when there are significant</font>

804
00:36:17,240 --> 00:36:22,910
changes<font color="#E5E5E5"> if a tunnel is is dramatically</font>

805
00:36:19,789 --> 00:36:24,260
resized the router will pass the

806
00:36:22,910 --> 00:36:26,328
<font color="#CCCCCC">information</font><font color="#E5E5E5"> around to the rest of the</font>

807
00:36:24,260 --> 00:36:29,180
<font color="#E5E5E5">nodes in the network right away if</font>

808
00:36:26,329 --> 00:36:30,440
there's a very<font color="#CCCCCC"> small change</font><font color="#E5E5E5"> in bandwidth</font>

809
00:36:29,180 --> 00:36:33,680
reservation or something along<font color="#E5E5E5"> those</font>

810
00:36:30,440 --> 00:36:36,980
<font color="#CCCCCC">lines it'll catch up to it</font><font color="#E5E5E5"> perhaps</font><font color="#CCCCCC"> three</font>

811
00:36:33,680 --> 00:36:39,770
minutes later but<font color="#E5E5E5"> if it's hasn't gotten</font>

812
00:36:36,980 --> 00:36:43,460
<font color="#CCCCCC">around</font><font color="#E5E5E5"> sending that small bandwidth</font>

813
00:36:39,770 --> 00:36:46,099
change<font color="#CCCCCC"> LSA</font><font color="#E5E5E5"> the other nodes and another</font>

814
00:36:43,460 --> 00:36:47,960
tunnel happens to resize and tries to

815
00:36:46,099 --> 00:36:49,549
<font color="#CCCCCC">use a link where there actually isn't</font>

816
00:36:47,960 --> 00:36:51,680
enough bandwidth for it to<font color="#E5E5E5"> actually get</font>

817
00:36:49,549 --> 00:36:55,309
<font color="#E5E5E5">its</font><font color="#CCCCCC"> reservation that will cause an error</font>

818
00:36:51,680 --> 00:36:57,500
and the information<font color="#CCCCCC"> which had been held</font>

819
00:36:55,309 --> 00:36:59,329
for<font color="#CCCCCC"> a periodic to update will then be</font>

820
00:36:57,500 --> 00:37:02,510
signaled immediately<font color="#E5E5E5"> so that the rest of</font>

821
00:36:59,329 --> 00:37:04,700
<font color="#E5E5E5">the network realizes</font><font color="#CCCCCC"> oops</font><font color="#E5E5E5"> that wasn't</font>

822
00:37:02,510 --> 00:37:05,990
<font color="#CCCCCC">the</font><font color="#E5E5E5"> most up-to-date information and it</font>

823
00:37:04,700 --> 00:37:07,609
was better to<font color="#E5E5E5"> know</font><font color="#CCCCCC"> about this</font><font color="#E5E5E5"> change</font>

824
00:37:05,990 --> 00:37:11,368
right<font color="#CCCCCC"> away</font>

825
00:37:07,609 --> 00:37:13,650
there are a variety of bandwidth

826
00:37:11,369 --> 00:37:15,210
thresholds<font color="#CCCCCC"> that thankfully are</font>

827
00:37:13,650 --> 00:37:17,070
configured as percentages so that

828
00:37:15,210 --> 00:37:21,000
whether you're<font color="#CCCCCC"> doing this on t ones or</font>

829
00:37:17,070 --> 00:37:23,010
<font color="#CCCCCC">OC 768</font><font color="#E5E5E5"> there are various key points</font><font color="#CCCCCC"> that</font>

830
00:37:21,000 --> 00:37:25,560
<font color="#E5E5E5">Cisco and I'm sure juniper have defined</font>

831
00:37:23,010 --> 00:37:27,840
<font color="#E5E5E5">where the information</font><font color="#CCCCCC"> is passed there I</font>

832
00:37:25,560 --> 00:37:30,540
believe<font color="#E5E5E5"> 14 by default but it's very</font>

833
00:37:27,840 --> 00:37:32,369
<font color="#CCCCCC">customizable should you</font><font color="#E5E5E5"> happen to have</font>

834
00:37:30,540 --> 00:37:36,300
different traffic<font color="#CCCCCC"> changes in your</font>

835
00:37:32,369 --> 00:37:37,680
network so as<font color="#E5E5E5"> mentioned before the in</font>

836
00:37:36,300 --> 00:37:39,869
significant<font color="#CCCCCC"> changes are flooded every</font>

837
00:37:37,680 --> 00:37:45,060
<font color="#E5E5E5">three minutes by default and if the</font><font color="#CCCCCC"> past</font>

838
00:37:39,869 --> 00:37:47,190
<font color="#E5E5E5">setup fails it's flooded right away so</font>

839
00:37:45,060 --> 00:37:49,410
what if a<font color="#CCCCCC"> new path whether</font><font color="#E5E5E5"> it's dynamic</font>

840
00:37:47,190 --> 00:37:53,430
or static<font color="#CCCCCC"> appears</font><font color="#E5E5E5"> in your network</font><font color="#CCCCCC"> that's</font>

841
00:37:49,410 --> 00:37:56,399
better than<font color="#E5E5E5"> the current one te will</font>

842
00:37:53,430 --> 00:37:59,520
reoptimize<font color="#CCCCCC"> and it'll do this every hour</font>

843
00:37:56,400 --> 00:38:02,880
<font color="#E5E5E5">as a timer that starts the time that the</font>

844
00:37:59,520 --> 00:38:04,170
tunnel comes up<font color="#E5E5E5"> not all the tunnels on</font>

845
00:38:02,880 --> 00:38:07,410
one particular router<font color="#E5E5E5"> that way there's</font>

846
00:38:04,170 --> 00:38:10,650
some scatter in it but if you happen to

847
00:38:07,410 --> 00:38:12,359
feel<font color="#CCCCCC"> that your tunnels could be signaled</font>

848
00:38:10,650 --> 00:38:14,640
across your network<font color="#E5E5E5"> in a better format</font>

849
00:38:12,359 --> 00:38:17,190
<font color="#E5E5E5">you can manually hop</font><font color="#CCCCCC"> onto routers and</font>

850
00:38:14,640 --> 00:38:19,890
MPLS traffic reoptimize<font color="#CCCCCC"> you can do it</font>

851
00:38:17,190 --> 00:38:22,700
globally<font color="#E5E5E5"> or you can indicate individual</font>

852
00:38:19,890 --> 00:38:27,990
tunnels<font color="#E5E5E5"> that need to be reoptimize</font><font color="#CCCCCC"> and</font>

853
00:38:22,700 --> 00:38:31,890
if you want tunnels to reoptimize<font color="#CCCCCC"> on the</font>

854
00:38:27,990 --> 00:38:33,569
event<font color="#CCCCCC"> a link comes up</font><font color="#E5E5E5"> you can have that</font>

855
00:38:31,890 --> 00:38:36,299
built in but<font color="#CCCCCC"> just in case</font><font color="#E5E5E5"> you've got</font>

856
00:38:33,570 --> 00:38:39,359
heavily flapping links cisco defaults

857
00:38:36,300 --> 00:38:41,010
that<font color="#E5E5E5"> to off when links go down</font><font color="#CCCCCC"> obviously</font>

858
00:38:39,359 --> 00:38:42,990
there's no way for a tunnel to continue

859
00:38:41,010 --> 00:38:45,840
<font color="#CCCCCC">flowing over</font><font color="#E5E5E5"> that link</font><font color="#CCCCCC"> so reoptimize</font>

860
00:38:42,990 --> 00:38:47,549
ation happens right away<font color="#CCCCCC"> but</font><font color="#E5E5E5"> when</font><font color="#CCCCCC"> the</font>

861
00:38:45,840 --> 00:38:51,830
<font color="#CCCCCC">link comes back up by default</font><font color="#E5E5E5"> the</font>

862
00:38:47,550 --> 00:38:51,830
traffic<font color="#E5E5E5"> tunnel stays off that link</font>

863
00:38:52,550 --> 00:39:00,030
<font color="#CCCCCC">production real-world experience means</font>

864
00:38:56,609 --> 00:39:01,830
that if you have<font color="#CCCCCC"> a flapping link te</font>

865
00:39:00,030 --> 00:39:06,090
tunnels will tend to<font color="#E5E5E5"> stay</font><font color="#CCCCCC"> off of</font><font color="#E5E5E5"> that</font>

866
00:39:01,830 --> 00:39:09,170
<font color="#CCCCCC">link for a period</font><font color="#E5E5E5"> in this case somewhere</font>

867
00:39:06,090 --> 00:39:12,119
<font color="#E5E5E5">up</font><font color="#CCCCCC"> to an hour so</font><font color="#E5E5E5"> you essentially have</font>

868
00:39:09,170 --> 00:39:14,670
flap dampening<font color="#E5E5E5"> in that packets are not</font>

869
00:39:12,119 --> 00:39:16,200
forwarded<font color="#E5E5E5"> back</font><font color="#CCCCCC"> on to</font><font color="#E5E5E5"> that link for some</font>

870
00:39:14,670 --> 00:39:18,990
<font color="#E5E5E5">period of time so in the</font><font color="#CCCCCC"> event of an</font>

871
00:39:16,200 --> 00:39:20,270
<font color="#CCCCCC">actual link bounce traffic</font><font color="#E5E5E5"> will stay off</font>

872
00:39:18,990 --> 00:39:22,009
<font color="#CCCCCC">that link</font>

873
00:39:20,270 --> 00:39:24,259
so if it ends up recurring within a

874
00:39:22,010 --> 00:39:27,170
short<font color="#CCCCCC"> period you've got less chance of</font>

875
00:39:24,260 --> 00:39:32,540
packet loss<font color="#E5E5E5"> until</font><font color="#CCCCCC"> the ribbon febri</font>

876
00:39:27,170 --> 00:39:35,750
converge<font color="#E5E5E5"> so we've done a lot</font><font color="#CCCCCC"> of talking</font>

877
00:39:32,540 --> 00:39:38,060
<font color="#CCCCCC">45</font><font color="#E5E5E5"> minutes or</font><font color="#CCCCCC"> so about</font><font color="#E5E5E5"> various concepts</font>

878
00:39:35,750 --> 00:39:39,530
of<font color="#CCCCCC"> Te how to configure our</font><font color="#E5E5E5"> paths through</font>

879
00:39:38,060 --> 00:39:41,690
the<font color="#E5E5E5"> network how to get the information</font>

880
00:39:39,530 --> 00:39:43,760
<font color="#E5E5E5">around the network</font><font color="#CCCCCC"> but we haven't</font><font color="#E5E5E5"> put</font>

881
00:39:41,690 --> 00:39:47,390
any traffic<font color="#E5E5E5"> on these tunnels yet</font><font color="#CCCCCC"> so</font>

882
00:39:43,760 --> 00:39:50,330
that's what's up<font color="#E5E5E5"> next three basic</font>

883
00:39:47,390 --> 00:39:52,930
methods<font color="#E5E5E5"> static routes hopefully you all</font>

884
00:39:50,330 --> 00:39:55,640
understand that<font color="#E5E5E5"> policy based routing</font>

885
00:39:52,930 --> 00:39:57,560
<font color="#CCCCCC">obviously not a very scalable</font><font color="#E5E5E5"> solution</font>

886
00:39:55,640 --> 00:39:59,720
<font color="#E5E5E5">but you if you</font><font color="#CCCCCC"> have particular traffic</font>

887
00:39:57,560 --> 00:40:01,820
<font color="#E5E5E5">that you want to be traffic engineered</font>

888
00:39:59,720 --> 00:40:05,060
whether it's something<font color="#E5E5E5"> you simply don't</font>

889
00:40:01,820 --> 00:40:08,300
<font color="#E5E5E5">want</font><font color="#CCCCCC"> on</font><font color="#E5E5E5"> your best route</font><font color="#CCCCCC"> or otherwise</font><font color="#E5E5E5"> you</font>

890
00:40:05,060 --> 00:40:10,160
want it to be tracked<font color="#CCCCCC"> maybe you want to</font>

891
00:40:08,300 --> 00:40:12,590
<font color="#E5E5E5">know exactly</font><font color="#CCCCCC"> how much traffic is</font><font color="#E5E5E5"> going</font>

892
00:40:10,160 --> 00:40:16,509
<font color="#E5E5E5">from this</font><font color="#CCCCCC"> customer out certain router</font>

893
00:40:12,590 --> 00:40:19,850
you can<font color="#E5E5E5"> policy route it on to the tunnel</font>

894
00:40:16,510 --> 00:40:21,620
<font color="#CCCCCC">so</font><font color="#E5E5E5"> that your native</font><font color="#CCCCCC"> ribbon FIB</font><font color="#E5E5E5"> don't</font>

895
00:40:19,850 --> 00:40:24,140
actually change to reflect<font color="#E5E5E5"> the tunnels</font>

896
00:40:21,620 --> 00:40:27,350
presence but particular traffic<font color="#E5E5E5"> is</font><font color="#CCCCCC"> sent</font>

897
00:40:24,140 --> 00:40:31,180
over<font color="#E5E5E5"> there this is a way</font><font color="#CCCCCC"> to do it</font><font color="#E5E5E5"> and</font>

898
00:40:27,350 --> 00:40:34,190
the third option<font color="#E5E5E5"> is</font><font color="#CCCCCC"> auto route basically</font>

899
00:40:31,180 --> 00:40:36,290
<font color="#E5E5E5">treat this tunnel</font><font color="#CCCCCC"> as though it's a</font>

900
00:40:34,190 --> 00:40:38,810
logical directly connected link<font color="#E5E5E5"> all the</font>

901
00:40:36,290 --> 00:40:40,820
way to the tunnel<font color="#E5E5E5"> tail so send any</font>

902
00:40:38,810 --> 00:40:42,710
packets<font color="#E5E5E5"> down the tunnel that would be</font>

903
00:40:40,820 --> 00:40:46,700
destined for either the tunnel tail or

904
00:40:42,710 --> 00:40:50,390
beyond<font color="#E5E5E5"> and it updates</font><font color="#CCCCCC"> the local routers</font>

905
00:40:46,700 --> 00:40:53,270
ribbon<font color="#CCCCCC"> fit with</font><font color="#E5E5E5"> tunnel X in place</font><font color="#CCCCCC"> of the</font>

906
00:40:50,390 --> 00:40:55,670
IGP<font color="#CCCCCC"> next-hop so that</font><font color="#E5E5E5"> traffic going down</font>

907
00:40:53,270 --> 00:40:58,370
the tunnel<font color="#CCCCCC"> is now forwarded all the way</font>

908
00:40:55,670 --> 00:41:02,420
to the tunnel tail not just to one hop

909
00:40:58,370 --> 00:41:05,720
further based<font color="#E5E5E5"> on the te tunnel and it</font>

910
00:41:02,420 --> 00:41:11,030
preserves<font color="#E5E5E5"> the calculated</font><font color="#CCCCCC"> IGP cost</font><font color="#E5E5E5"> all</font>

911
00:41:05,720 --> 00:41:13,549
the way to the<font color="#E5E5E5"> te tail</font><font color="#CCCCCC"> this becomes very</font>

912
00:41:11,030 --> 00:41:16,280
<font color="#E5E5E5">scalable essentially one line of</font>

913
00:41:13,550 --> 00:41:19,460
configuration<font color="#CCCCCC"> / tunnel</font><font color="#E5E5E5"> and poof te</font>

914
00:41:16,280 --> 00:41:22,550
tunnels take over the key though is it

915
00:41:19,460 --> 00:41:27,050
updates the local routers ribbon fit it

916
00:41:22,550 --> 00:41:32,300
does not signal the te tunnel

917
00:41:27,050 --> 00:41:35,750
into<font color="#E5E5E5"> your</font><font color="#CCCCCC"> IGP so prior routers are not</font>

918
00:41:32,300 --> 00:41:37,760
made aware<font color="#E5E5E5"> of this tunnel being a</font>

919
00:41:35,750 --> 00:41:40,340
logical link that jumps all the way<font color="#E5E5E5"> the</font>

920
00:41:37,760 --> 00:41:42,770
tunnel<font color="#E5E5E5"> tail there are ways to do that</font>

921
00:41:40,340 --> 00:41:46,340
with is is<font color="#E5E5E5"> I believe there are</font><font color="#CCCCCC"> ways to</font>

922
00:41:42,770 --> 00:41:51,140
do<font color="#CCCCCC"> it with very recent 12</font><font color="#E5E5E5"> OS code in</font>

923
00:41:46,340 --> 00:41:53,420
<font color="#CCCCCC">OSPF</font><font color="#E5E5E5"> but that becomes a</font><font color="#CCCCCC"> little tricky</font>

924
00:41:51,140 --> 00:41:56,000
<font color="#E5E5E5">because you end up chasing down</font><font color="#CCCCCC"> IGP</font>

925
00:41:53,420 --> 00:41:59,330
scaling problems if you've got let's say

926
00:41:56,000 --> 00:42:03,020
three tunnels per<font color="#CCCCCC"> physical link for load</font>

927
00:41:59,330 --> 00:42:05,690
sharing<font color="#CCCCCC"> capabilities so that if you over</font>

928
00:42:03,020 --> 00:42:07,600
subscribe a link by<font color="#CCCCCC"> 50 percent 130 your</font>

929
00:42:05,690 --> 00:42:10,280
traffic punts over to an alternate path

930
00:42:07,600 --> 00:42:12,020
<font color="#CCCCCC">you're now signalling ascent you're</font>

931
00:42:10,280 --> 00:42:15,820
essentially could quadruple<font color="#E5E5E5"> the</font><font color="#CCCCCC"> amount</font>

932
00:42:12,020 --> 00:42:18,830
of links in<font color="#E5E5E5"> your</font><font color="#CCCCCC"> IGP so that's very</font>

933
00:42:15,820 --> 00:42:23,450
<font color="#CCCCCC">implementation-specific and potentially</font>

934
00:42:18,830 --> 00:42:27,619
risky to do it<font color="#E5E5E5"> tunnel MPLS traffic or</font>

935
00:42:23,450 --> 00:42:30,020
out<font color="#E5E5E5"> announced so we're</font><font color="#CCCCCC"> starting to</font>

936
00:42:27,619 --> 00:42:33,800
automatically route our traffic across

937
00:42:30,020 --> 00:42:36,800
<font color="#E5E5E5">the tunnel to a tail end based on</font>

938
00:42:33,800 --> 00:42:39,170
bandwidth as talked about before<font color="#E5E5E5"> the key</font>

939
00:42:36,800 --> 00:42:44,780
though is if you have parallel physical

940
00:42:39,170 --> 00:42:46,790
interfaces<font color="#CCCCCC"> traffic won't load share over</font>

941
00:42:44,780 --> 00:42:50,119
<font color="#CCCCCC">those parallel interfaces</font><font color="#E5E5E5"> unless you</font>

942
00:42:46,790 --> 00:42:51,970
have parallel<font color="#E5E5E5"> tunnels and if you have</font>

943
00:42:50,119 --> 00:42:55,100
bandwidth configured on those tunnels

944
00:42:51,970 --> 00:42:58,939
<font color="#E5E5E5">the tunnels will by default load share</font>

945
00:42:55,100 --> 00:43:00,618
inversely to<font color="#CCCCCC"> the configured bandwidth so</font>

946
00:42:58,940 --> 00:43:02,480
if you're doing<font color="#CCCCCC"> autumn auto bandwidth</font>

947
00:43:00,619 --> 00:43:05,510
you<font color="#CCCCCC"> can really end</font><font color="#E5E5E5"> up with some</font>

948
00:43:02,480 --> 00:43:07,280
divergent values<font color="#E5E5E5"> there</font><font color="#CCCCCC"> theoretically</font>

949
00:43:05,510 --> 00:43:10,280
it'll start off doing one<font color="#CCCCCC"> for one load</font>

950
00:43:07,280 --> 00:43:13,040
sharing<font color="#E5E5E5"> but chances are at the exact</font>

951
00:43:10,280 --> 00:43:16,150
instant<font color="#CCCCCC"> that</font><font color="#E5E5E5"> auto bandwidth checks the</font>

952
00:43:13,040 --> 00:43:18,890
traffic usage you may have differences

953
00:43:16,150 --> 00:43:20,690
<font color="#E5E5E5">under the hood it's limited</font><font color="#CCCCCC"> to staff</font>

954
00:43:18,890 --> 00:43:22,640
sixteen buckets or something along<font color="#E5E5E5"> those</font>

955
00:43:20,690 --> 00:43:24,470
<font color="#CCCCCC">lines so you'll get some</font><font color="#E5E5E5"> sort of</font>

956
00:43:22,640 --> 00:43:26,420
proportion maybe instead<font color="#E5E5E5"> of being</font><font color="#CCCCCC"> eight</font>

957
00:43:24,470 --> 00:43:28,549
this<font color="#E5E5E5"> you know one one half this way and</font>

958
00:43:26,420 --> 00:43:30,590
<font color="#E5E5E5">one half that way you might have</font><font color="#CCCCCC"> seven</font>

959
00:43:28,550 --> 00:43:32,090
<font color="#CCCCCC">sixteen s go in one</font><font color="#E5E5E5"> way and 916 s go</font>

960
00:43:30,590 --> 00:43:34,880
another way and<font color="#E5E5E5"> you almost potentially</font>

961
00:43:32,090 --> 00:43:38,060
could have these<font color="#E5E5E5"> values drift apart</font><font color="#CCCCCC"> and</font>

962
00:43:34,880 --> 00:43:41,060
one tunnel end up being unused

963
00:43:38,060 --> 00:43:43,070
the way around that is<font color="#CCCCCC"> to tell traffic</font>

964
00:43:41,060 --> 00:43:44,990
engineering to do load sharing<font color="#E5E5E5"> based on</font>

965
00:43:43,070 --> 00:43:48,380
<font color="#E5E5E5">the configured value so if you did</font><font color="#CCCCCC"> tell</font>

966
00:43:44,990 --> 00:43:50,600
MPLS traffic<font color="#E5E5E5"> law</font><font color="#CCCCCC"> caring 1,000</font><font color="#E5E5E5"> and load</font>

967
00:43:48,380 --> 00:43:53,110
sharing<font color="#CCCCCC"> 1,000 on two parallel tunnels</font>

968
00:43:50,600 --> 00:43:56,779
the two tunnels<font color="#E5E5E5"> will load share</font>

969
00:43:53,110 --> 00:43:58,220
proportionally<font color="#E5E5E5"> and auto bandwidth will</font>

970
00:43:56,780 --> 00:44:01,550
track the bandwidth over those tunnels

971
00:43:58,220 --> 00:44:04,520
<font color="#E5E5E5">and signal the actual traffic inside the</font>

972
00:44:01,550 --> 00:44:05,960
<font color="#E5E5E5">network obviously</font><font color="#CCCCCC"> the load sharing hash</font>

973
00:44:04,520 --> 00:44:08,810
<font color="#E5E5E5">could mean that your</font><font color="#CCCCCC"> traffic isn't</font>

974
00:44:05,960 --> 00:44:11,750
<font color="#E5E5E5">exactly one-for-one</font><font color="#CCCCCC"> but at least you've</font>

975
00:44:08,810 --> 00:44:17,150
got<font color="#E5E5E5"> consistency and less</font><font color="#CCCCCC"> chance</font><font color="#E5E5E5"> of a</font>

976
00:44:11,750 --> 00:44:19,220
divergent bandwidth calculation so the

977
00:44:17,150 --> 00:44:21,530
<font color="#CCCCCC">ICP can load share</font><font color="#E5E5E5"> over equal cost paths</font>

978
00:44:19,220 --> 00:44:23,149
and<font color="#E5E5E5"> te tunnel cannot load share over</font>

979
00:44:21,530 --> 00:44:24,410
multiple physical<font color="#E5E5E5"> interfaces but then</font>

980
00:44:23,150 --> 00:44:26,240
again you can simply build multiple

981
00:44:24,410 --> 00:44:29,560
tunnels<font color="#E5E5E5"> from head to tail and</font><font color="#CCCCCC"> the</font>

982
00:44:26,240 --> 00:44:29,560
traffic<font color="#E5E5E5"> and load share of the tunnels</font>

983
00:44:32,380 --> 00:44:36,230
<font color="#CCCCCC">alright</font><font color="#E5E5E5"> so we finally got around to</font>

984
00:44:34,430 --> 00:44:38,560
putting traffic on the tunnels<font color="#E5E5E5"> and it's</font>

985
00:44:36,230 --> 00:44:40,640
time<font color="#CCCCCC"> for a little bit</font><font color="#E5E5E5"> of Diagnostics</font>

986
00:44:38,560 --> 00:44:42,230
when you're looking<font color="#CCCCCC"> to see if traffic's</font>

987
00:44:40,640 --> 00:44:45,650
going over a tunnel obviously show IP

988
00:44:42,230 --> 00:44:47,510
route<font color="#E5E5E5"> pick an address</font><font color="#CCCCCC"> if it's</font><font color="#E5E5E5"> routed</font>

989
00:44:45,650 --> 00:44:49,130
over<font color="#E5E5E5"> a tunnel</font><font color="#CCCCCC"> the next top will be a</font>

990
00:44:47,510 --> 00:44:51,140
tunnel interface<font color="#E5E5E5"> as opposed to a</font>

991
00:44:49,130 --> 00:44:52,610
<font color="#E5E5E5">physical you may then want</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> take</font><font color="#CCCCCC"> a</font>

992
00:44:51,140 --> 00:44:54,920
look<font color="#E5E5E5"> at the running configuration on</font>

993
00:44:52,610 --> 00:44:57,950
that<font color="#E5E5E5"> tunnel to</font><font color="#CCCCCC"> figure out exactly where</font>

994
00:44:54,920 --> 00:45:01,400
it's going at cetera<font color="#E5E5E5"> you can</font><font color="#CCCCCC"> also show</font>

995
00:44:57,950 --> 00:45:04,549
IP RSVP reservations<font color="#CCCCCC"> this shows all the</font>

996
00:45:01,400 --> 00:45:08,030
<font color="#E5E5E5">individual tunnel reservations and their</font>

997
00:45:04,550 --> 00:45:11,710
egress interface and if you were<font color="#E5E5E5"> on a</font>

998
00:45:08,030 --> 00:45:15,220
particular router that is<font color="#CCCCCC"> 80 headend</font>

999
00:45:11,710 --> 00:45:17,300
<font color="#CCCCCC">show MPLS traffic Tinnell suboptimal</font>

1000
00:45:15,220 --> 00:45:19,640
<font color="#E5E5E5">constraint none just happens</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> be the</font>

1001
00:45:17,300 --> 00:45:23,030
options that<font color="#E5E5E5"> are necessary this shows</font>

1002
00:45:19,640 --> 00:45:27,620
you which of<font color="#E5E5E5"> your head end tunnels are</font>

1003
00:45:23,030 --> 00:45:30,770
currently rerouted onto a path that's

1004
00:45:27,620 --> 00:45:33,799
different<font color="#E5E5E5"> than your</font><font color="#CCCCCC"> IGP best path so you</font>

1005
00:45:30,770 --> 00:45:37,540
<font color="#E5E5E5">can essentially quickly assess which</font>

1006
00:45:33,800 --> 00:45:39,710
tunnels got<font color="#CCCCCC"> punted off</font><font color="#E5E5E5"> the best path</font>

1007
00:45:37,540 --> 00:45:43,060
<font color="#E5E5E5">because of current traffic loads or</font>

1008
00:45:39,710 --> 00:45:43,060
other configuration adjustments

1009
00:45:44,190 --> 00:45:50,280
on any tunnel<font color="#CCCCCC"> I'm any router</font>

1010
00:45:47,560 --> 00:45:52,779
participating in traffic engineering

1011
00:45:50,280 --> 00:45:56,050
operations<font color="#E5E5E5"> you can take a look</font><font color="#CCCCCC"> at MPLS</font>

1012
00:45:52,780 --> 00:45:57,579
traffic engineering tunnels<font color="#E5E5E5"> for tunnels</font>

1013
00:45:56,050 --> 00:46:00,460
originating on the router

1014
00:45:57,579 --> 00:46:04,230
there's detail information the bandwidth

1015
00:46:00,460 --> 00:46:06,640
information and that<font color="#CCCCCC"> also</font><font color="#E5E5E5"> includes the</font>

1016
00:46:04,230 --> 00:46:09,070
<font color="#E5E5E5">consecutive statistics on auto bandwidth</font>

1017
00:46:06,640 --> 00:46:12,549
how much has<font color="#CCCCCC"> been clocked</font><font color="#E5E5E5"> every 300</font>

1018
00:46:09,070 --> 00:46:13,660
seconds<font color="#E5E5E5"> since the last reoptimize ation</font>

1019
00:46:12,550 --> 00:46:15,730
it'll show you

1020
00:46:13,660 --> 00:46:17,819
MPLS labeling information<font color="#E5E5E5"> it'll show you</font>

1021
00:46:15,730 --> 00:46:21,550
the<font color="#E5E5E5"> hop-by-hop path through the network</font>

1022
00:46:17,820 --> 00:46:23,650
<font color="#E5E5E5">there's less detailed or I phrase</font><font color="#CCCCCC"> it as</font>

1023
00:46:21,550 --> 00:46:26,770
moderate information for all<font color="#E5E5E5"> tunnel</font>

1024
00:46:23,650 --> 00:46:28,660
midpoints and<font color="#E5E5E5"> all tunnel tails</font><font color="#CCCCCC"> not</font><font color="#E5E5E5"> as</font>

1025
00:46:26,770 --> 00:46:29,920
much as you'd<font color="#CCCCCC"> find on</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> head end but</font>

1026
00:46:28,660 --> 00:46:32,129
at least enough to<font color="#CCCCCC"> figure</font><font color="#E5E5E5"> out where the</font>

1027
00:46:29,920 --> 00:46:38,890
tunnel comes from where it's going<font color="#E5E5E5"> and</font>

1028
00:46:32,130 --> 00:46:41,530
hop<font color="#CCCCCC"> loop back</font><font color="#E5E5E5"> zero addresses</font><font color="#CCCCCC"> etc and you</font>

1029
00:46:38,890 --> 00:46:43,900
can<font color="#E5E5E5"> also kind of filter this down and</font>

1030
00:46:41,530 --> 00:46:46,420
show MPLS traffic engineering tunnels

1031
00:46:43,900 --> 00:46:49,599
that<font color="#CCCCCC"> are only of a</font><font color="#E5E5E5"> roll that's perhaps</font>

1032
00:46:46,420 --> 00:46:52,569
<font color="#E5E5E5">head ends or only of a roll that's tail</font>

1033
00:46:49,599 --> 00:46:56,440
<font color="#E5E5E5">ends or only of a role that's midpoints</font>

1034
00:46:52,569 --> 00:46:57,730
or<font color="#E5E5E5"> only of a roll that's remote meaning</font>

1035
00:46:56,440 --> 00:47:00,010
<font color="#E5E5E5">anything that's not a head end any</font>

1036
00:46:57,730 --> 00:47:02,589
tunnels<font color="#CCCCCC"> that are</font><font color="#E5E5E5"> traversing this router</font>

1037
00:47:00,010 --> 00:47:05,099
<font color="#CCCCCC">we're ending on this router</font><font color="#E5E5E5"> are covered</font>

1038
00:47:02,589 --> 00:47:05,099
by remote

1039
00:47:06,760 --> 00:47:11,829
and although there have been<font color="#E5E5E5"> some some</font>

1040
00:47:09,280 --> 00:47:14,980
poor bugs as far as calculating the

1041
00:47:11,829 --> 00:47:16,599
values so happy RSVP interfaces shows

1042
00:47:14,980 --> 00:47:22,089
the allocated and maximum bandwidth

1043
00:47:16,599 --> 00:47:25,030
available in an interface few key

1044
00:47:22,089 --> 00:47:27,460
caveats if you're overlaying<font color="#E5E5E5"> traffic</font>

1045
00:47:25,030 --> 00:47:30,760
engineering with other variables<font color="#CCCCCC"> if</font>

1046
00:47:27,460 --> 00:47:36,550
you've got MPLS VPNs<font color="#CCCCCC"> any time that a</font>

1047
00:47:30,760 --> 00:47:38,800
tunnel<font color="#CCCCCC"> tale is not the egress pe highly</font>

1048
00:47:36,550 --> 00:47:42,670
recommend that<font color="#E5E5E5"> you add MPLS IP to the</font>

1049
00:47:38,800 --> 00:47:46,359
tunnel configuration<font color="#E5E5E5"> this adds a label</font>

1050
00:47:42,670 --> 00:47:49,599
<font color="#CCCCCC">on to the stack</font><font color="#E5E5E5"> ordinarily with MPLS</font>

1051
00:47:46,359 --> 00:47:53,440
VPNs<font color="#E5E5E5"> you've got an internal VPN label</font>

1052
00:47:49,599 --> 00:47:55,780
and an external<font color="#CCCCCC"> LDP label to get you</font>

1053
00:47:53,440 --> 00:47:58,270
from<font color="#CCCCCC"> here to there by</font><font color="#E5E5E5"> default when you</font>

1054
00:47:55,780 --> 00:48:01,630
enable traffic engineering<font color="#E5E5E5"> that external</font>

1055
00:47:58,270 --> 00:48:07,210
<font color="#CCCCCC">LD pilla</font><font color="#E5E5E5"> will get swapped with a te</font>

1056
00:48:01,630 --> 00:48:09,430
label if we<font color="#CCCCCC"> were</font><font color="#E5E5E5"> in the scenario just</font>

1057
00:48:07,210 --> 00:48:12,579
shown on the screen<font color="#CCCCCC"> and a</font><font color="#E5E5E5"> tunnel</font>

1058
00:48:09,430 --> 00:48:14,589
<font color="#CCCCCC">happened to go from PE on the</font><font color="#E5E5E5"> left to PE</font>

1059
00:48:12,579 --> 00:48:18,130
that's towards the right but<font color="#E5E5E5"> not on the</font>

1060
00:48:14,589 --> 00:48:20,980
end the third route or the second P

1061
00:48:18,130 --> 00:48:24,220
<font color="#E5E5E5">that's shown there would pop the TE</font>

1062
00:48:20,980 --> 00:48:28,780
label when the packet arrives<font color="#E5E5E5"> on</font><font color="#CCCCCC"> the 4th</font>

1063
00:48:24,220 --> 00:48:32,919
router it would only have a VPN label if

1064
00:48:28,780 --> 00:48:35,770
that particular VPN<font color="#E5E5E5"> the RF was not live</font>

1065
00:48:32,920 --> 00:48:37,210
<font color="#CCCCCC">on the PE the router will not have</font>

1066
00:48:35,770 --> 00:48:41,109
forwarding information know how to get

1067
00:48:37,210 --> 00:48:44,230
<font color="#CCCCCC">to</font><font color="#E5E5E5"> the actual</font><font color="#CCCCCC"> LD P</font><font color="#E5E5E5"> next hop and packet</font>

1068
00:48:41,109 --> 00:48:47,589
fails by enabling MPLS and the tunnel

1069
00:48:44,230 --> 00:48:50,680
configuration instead<font color="#E5E5E5"> of swapping</font><font color="#CCCCCC"> te</font>

1070
00:48:47,589 --> 00:48:53,520
label in place of the<font color="#E5E5E5"> LDP label it adds</font>

1071
00:48:50,680 --> 00:48:55,960
the<font color="#CCCCCC"> te label on the outside of the stack</font>

1072
00:48:53,520 --> 00:49:00,790
preserving the<font color="#E5E5E5"> LDP label in the middle</font>

1073
00:48:55,960 --> 00:49:02,950
so<font color="#CCCCCC"> that when it gets</font><font color="#E5E5E5"> to PE</font><font color="#CCCCCC"> node for the</font>

1074
00:49:00,790 --> 00:49:07,180
third hop the second P router will pop

1075
00:49:02,950 --> 00:49:10,060
the<font color="#CCCCCC"> te label the fourth node</font><font color="#E5E5E5"> that middle</font>

1076
00:49:07,180 --> 00:49:12,240
PE<font color="#E5E5E5"> will still have the LDP label as</font><font color="#CCCCCC"> well</font>

1077
00:49:10,060 --> 00:49:14,500
as the VPN label and can figure out

1078
00:49:12,240 --> 00:49:18,399
forwarding<font color="#CCCCCC"> information to the last hop</font>

1079
00:49:14,500 --> 00:49:20,799
router<font color="#E5E5E5"> in doing so pop the LDP label</font>

1080
00:49:18,400 --> 00:49:22,990
and the packet arrives on the<font color="#CCCCCC"> npe</font><font color="#E5E5E5"> with</font>

1081
00:49:20,799 --> 00:49:25,650
the<font color="#CCCCCC"> VPM label still intact so it's</font>

1082
00:49:22,990 --> 00:49:30,689
capable<font color="#E5E5E5"> of being properly forwarded</font>

1083
00:49:25,650 --> 00:49:32,950
along<font color="#CCCCCC"> with that</font><font color="#E5E5E5"> particularly if you have</font>

1084
00:49:30,690 --> 00:49:34,720
<font color="#CCCCCC">unidirectional tunnels</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> are not</font>

1085
00:49:32,950 --> 00:49:36,970
matched<font color="#E5E5E5"> by a corresponding reverse</font>

1086
00:49:34,720 --> 00:49:38,549
direction<font color="#E5E5E5"> tunnel</font><font color="#CCCCCC"> end</font><font color="#E5E5E5"> or during the</font>

1087
00:49:36,970 --> 00:49:41,609
<font color="#E5E5E5">window of which you're enabling this</font>

1088
00:49:38,549 --> 00:49:45,190
highly recommend MPLS<font color="#CCCCCC"> LDP discovery</font>

1089
00:49:41,609 --> 00:49:48,390
directed hello<font color="#CCCCCC"> except so that when you</font>

1090
00:49:45,190 --> 00:49:51,400
enable MPLS IP on the<font color="#E5E5E5"> left end PE</font><font color="#CCCCCC"> router</font>

1091
00:49:48,390 --> 00:49:54,368
<font color="#E5E5E5">the PE router in the middle here will</font>

1092
00:49:51,400 --> 00:49:57,250
accept a directed<font color="#E5E5E5"> LD</font><font color="#CCCCCC"> P session from</font><font color="#E5E5E5"> the</font>

1093
00:49:54,369 --> 00:49:59,829
left end<font color="#CCCCCC"> PE router</font><font color="#E5E5E5"> otherwise the LDP</font>

1094
00:49:57,250 --> 00:50:01,900
labels will not be exchanged and all

1095
00:49:59,829 --> 00:50:07,390
your wonderful MPLS IP configuration on

1096
00:50:01,900 --> 00:50:10,510
the tunnels<font color="#E5E5E5"> doesn't work in if you're</font>

1097
00:50:07,390 --> 00:50:13,180
<font color="#E5E5E5">doing multicast</font><font color="#CCCCCC"> a one form or</font><font color="#E5E5E5"> another</font><font color="#CCCCCC"> on</font>

1098
00:50:10,510 --> 00:50:15,010
your network the multicast RPF

1099
00:50:13,180 --> 00:50:19,419
configurations are normally based on

1100
00:50:15,010 --> 00:50:22,329
your<font color="#E5E5E5"> unique a strip uni-directional te</font>

1101
00:50:19,420 --> 00:50:26,760
tunnels<font color="#E5E5E5"> because</font><font color="#CCCCCC"> they</font><font color="#E5E5E5"> don't go back and</font>

1102
00:50:22,329 --> 00:50:29,980
<font color="#CCCCCC">forth</font><font color="#E5E5E5"> cause RPF failures things go boom</font>

1103
00:50:26,760 --> 00:50:32,980
<font color="#CCCCCC">so within your I GP on any potential</font>

1104
00:50:29,980 --> 00:50:36,430
router<font color="#CCCCCC"> within the mesh MPLS traffic</font>

1105
00:50:32,980 --> 00:50:39,369
engineering<font color="#E5E5E5"> multicast</font><font color="#CCCCCC"> in tact</font><font color="#E5E5E5"> belongs in</font>

1106
00:50:36,430 --> 00:50:43,868
your<font color="#CCCCCC"> I GP</font><font color="#E5E5E5"> config so that the RPF checks</font>

1107
00:50:39,369 --> 00:50:46,960
are based on the<font color="#E5E5E5"> RHIB prior to the</font><font color="#CCCCCC"> te</font>

1108
00:50:43,869 --> 00:50:48,400
overlay to update your next hops to go

1109
00:50:46,960 --> 00:50:51,549
over tunnels as opposed to physical

1110
00:50:48,400 --> 00:50:53,950
interfaces<font color="#E5E5E5"> then they're done</font><font color="#CCCCCC"> they're</font>

1111
00:50:51,549 --> 00:50:58,720
<font color="#CCCCCC">earned the t-shirt</font><font color="#E5E5E5"> after a lot</font><font color="#CCCCCC"> of mad</font>

1112
00:50:53,950 --> 00:50:59,980
configuration changes so that's a real

1113
00:50:58,720 --> 00:51:03,209
important gotcha if<font color="#CCCCCC"> you've got multi</font>

1114
00:50:59,980 --> 00:51:03,210
service<font color="#CCCCCC"> going on inside</font><font color="#E5E5E5"> your network</font>

1115
00:51:03,270 --> 00:51:09,500
<font color="#CCCCCC">alrighty</font>

1116
00:51:05,540 --> 00:51:11,690
any questions presentations on the

1117
00:51:09,500 --> 00:51:13,340
website the<font color="#CCCCCC"> email address is there</font><font color="#E5E5E5"> feel</font>

1118
00:51:11,690 --> 00:51:15,859
<font color="#CCCCCC">free to ping me if you've got questions</font>

1119
00:51:13,340 --> 00:51:17,090
<font color="#E5E5E5">and I'm</font><font color="#CCCCCC"> gonna</font><font color="#E5E5E5"> go ahead and swap laptops</font>

1120
00:51:15,859 --> 00:51:19,520
and we're going to<font color="#E5E5E5"> go ahead and see</font><font color="#CCCCCC"> if</font>

1121
00:51:17,090 --> 00:51:21,350
there's any te going on in my network

1122
00:51:19,520 --> 00:51:25,840
<font color="#CCCCCC">it's usually</font><font color="#E5E5E5"> pretty obvious from our</font>

1123
00:51:21,350 --> 00:51:25,839
MPLS graphs or<font color="#CCCCCC"> MMR TG graphs</font>

1124
00:51:44,460 --> 00:51:53,180
yes you do<font color="#E5E5E5"> okay this is snippet of</font>

1125
00:51:48,240 --> 00:51:55,379
graphs<font color="#E5E5E5"> I've pulled together</font><font color="#CCCCCC"> we've got a</font>

1126
00:51:53,180 --> 00:51:57,390
relatively small<font color="#CCCCCC"> Network where do we do</font>

1127
00:51:55,380 --> 00:52:00,210
<font color="#CCCCCC">about 150</font><font color="#E5E5E5"> to 200 megabits per second</font>

1128
00:51:57,390 --> 00:52:04,620
aggregate transit<font color="#CCCCCC"> traffic to the</font>

1129
00:52:00,210 --> 00:52:06,390
<font color="#CCCCCC">internet</font><font color="#E5E5E5"> for pops</font><font color="#CCCCCC"> to largest pops are in</font>

1130
00:52:04,620 --> 00:52:09,270
Dallas<font color="#CCCCCC"> in</font><font color="#E5E5E5"> Houston I've got an</font><font color="#CCCCCC"> overload</font>

1131
00:52:06,390 --> 00:52:12,500
of<font color="#E5E5E5"> egress traffic coming in from</font><font color="#CCCCCC"> a</font>

1132
00:52:09,270 --> 00:52:16,620
Houston customer we're punting it out

1133
00:52:12,500 --> 00:52:19,620
<font color="#E5E5E5">our various three transits in Dallas</font><font color="#CCCCCC"> and</font>

1134
00:52:16,620 --> 00:52:22,950
we've got<font color="#E5E5E5"> four parallel ds3</font><font color="#CCCCCC"> s2</font><font color="#E5E5E5"> between</font>

1135
00:52:19,620 --> 00:52:25,620
core 1 and core 1<font color="#E5E5E5"> & 2</font><font color="#CCCCCC"> between core 2 and</font>

1136
00:52:22,950 --> 00:52:27,540
core<font color="#E5E5E5"> 2 top graph here on the</font><font color="#CCCCCC"> left</font>

1137
00:52:25,620 --> 00:52:32,819
indicates<font color="#CCCCCC"> the aggregate traffic</font><font color="#E5E5E5"> over</font>

1138
00:52:27,540 --> 00:52:35,460
those<font color="#E5E5E5"> 4</font><font color="#CCCCCC"> due to some asymmetric s--</font><font color="#E5E5E5"> in</font>

1139
00:52:32,820 --> 00:52:37,890
our redundancy configurations we've got

1140
00:52:35,460 --> 00:52:40,890
an oc-3<font color="#CCCCCC"> oc3 link that's not backed up by</font>

1141
00:52:37,890 --> 00:52:43,109
<font color="#CCCCCC">a parallel LC 3 link we tend to have a</font>

1142
00:52:40,890 --> 00:52:45,600
lot<font color="#CCCCCC"> more</font><font color="#E5E5E5"> traffic on the links between</font>

1143
00:52:43,110 --> 00:52:48,630
core 1 and core 1 than we do on the

1144
00:52:45,600 --> 00:52:50,670
links between core 2 and core - here's

1145
00:52:48,630 --> 00:52:53,520
traffic on one<font color="#CCCCCC"> of</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> -</font><font color="#E5E5E5"> between core 1</font>

1146
00:52:50,670 --> 00:52:56,040
and core 1 green inbound is coming from

1147
00:52:53,520 --> 00:52:58,980
<font color="#E5E5E5">Houston into Dallas and the various</font>

1148
00:52:56,040 --> 00:53:02,580
white dips happen to be instances<font color="#E5E5E5"> when</font>

1149
00:52:58,980 --> 00:53:05,430
traffic<font color="#E5E5E5"> got up over</font><font color="#CCCCCC"> our 30 mega bit IP</font>

1150
00:53:02,580 --> 00:53:07,770
RSVP bandwidth threshold<font color="#E5E5E5"> and then within</font>

1151
00:53:05,430 --> 00:53:08,580
<font color="#E5E5E5">a span</font><font color="#CCCCCC"> of 15</font><font color="#E5E5E5"> minutes in some cases span</font>

1152
00:53:07,770 --> 00:53:12,210
of<font color="#CCCCCC"> five minutes</font>

1153
00:53:08,580 --> 00:53:13,980
<font color="#CCCCCC">teehee kicks in and punts one-third of</font>

1154
00:53:12,210 --> 00:53:17,190
the traffic<font color="#E5E5E5"> over that physical interface</font>

1155
00:53:13,980 --> 00:53:19,380
<font color="#CCCCCC">onto some other</font><font color="#E5E5E5"> path which typically is</font>

1156
00:53:17,190 --> 00:53:22,230
one of the ds3 s going<font color="#E5E5E5"> from core</font><font color="#CCCCCC"> to core</font>

1157
00:53:19,380 --> 00:53:24,840
<font color="#CCCCCC">- so it particularly happened here about</font>

1158
00:53:22,230 --> 00:53:28,170
9:00 a.m.<font color="#E5E5E5"> central again or just before</font>

1159
00:53:24,840 --> 00:53:31,080
<font color="#CCCCCC">11:00 a.m. Central and we're tickling</font>

1160
00:53:28,170 --> 00:53:32,960
the threshold right now<font color="#CCCCCC"> or very</font><font color="#E5E5E5"> close</font><font color="#CCCCCC"> to</font>

1161
00:53:31,080 --> 00:53:36,630
now on that one

1162
00:53:32,960 --> 00:53:39,870
likewise on<font color="#CCCCCC"> the second ds3 from core</font><font color="#E5E5E5"> 1</font>

1163
00:53:36,630 --> 00:53:41,490
to core 1 we've touched it<font color="#E5E5E5"> and some of</font>

1164
00:53:39,870 --> 00:53:44,759
<font color="#CCCCCC">these white dips</font><font color="#E5E5E5"> indicate that it could</font>

1165
00:53:41,490 --> 00:53:46,740
have rerouted<font color="#CCCCCC"> a lot of the big spikes</font>

1166
00:53:44,760 --> 00:53:50,610
showing up here core<font color="#CCCCCC"> to the core to as</font>

1167
00:53:46,740 --> 00:53:52,930
well<font color="#E5E5E5"> as here core to the core to signify</font>

1168
00:53:50,610 --> 00:53:57,040
traffic engineering and kicked in

1169
00:53:52,930 --> 00:54:00,129
and particularly here in Houston the

1170
00:53:57,040 --> 00:54:03,640
inter coral in<font color="#E5E5E5"> or it's actually</font><font color="#CCCCCC"> a bundle</font>

1171
00:54:00,130 --> 00:54:06,400
to pause links<font color="#CCCCCC"> tends not to have any</font>

1172
00:54:03,640 --> 00:54:09,970
traffic<font color="#CCCCCC"> whatsoever unless te is kicked</font>

1173
00:54:06,400 --> 00:54:11,920
in<font color="#CCCCCC"> so here</font><font color="#E5E5E5"> about 11</font><font color="#CCCCCC"> a.m. this morning we</font>

1174
00:54:09,970 --> 00:54:15,930
were traffic engineering about 30

1175
00:54:11,920 --> 00:54:21,670
megabits<font color="#E5E5E5"> over an alternate path that</font>

1176
00:54:15,930 --> 00:54:23,828
added two hops<font color="#CCCCCC"> they're not really</font>

1177
00:54:21,670 --> 00:54:25,900
experiencing congestion except for brief

1178
00:54:23,829 --> 00:54:30,730
<font color="#CCCCCC">periods perhaps that you can't see</font><font color="#E5E5E5"> in</font>

1179
00:54:25,900 --> 00:54:33,339
the<font color="#E5E5E5"> five minute window</font><font color="#CCCCCC"> but this is you</font>

1180
00:54:30,730 --> 00:54:34,809
know<font color="#E5E5E5"> obviously I need to upgrade these</font>

1181
00:54:33,339 --> 00:54:36,520
links I'd like to flip three of them

1182
00:54:34,809 --> 00:54:41,260
into an oc-3<font color="#E5E5E5"> but haven't gotten there</font>

1183
00:54:36,520 --> 00:54:42,730
yet<font color="#CCCCCC"> and this</font><font color="#E5E5E5"> is somewhat status quo it's</font>

1184
00:54:41,260 --> 00:54:44,770
it's a<font color="#E5E5E5"> great way to see the</font><font color="#CCCCCC"> traffic</font>

1185
00:54:42,730 --> 00:54:47,369
engineering works for us like I<font color="#E5E5E5"> said</font>

1186
00:54:44,770 --> 00:54:49,990
this is aggressive 15-minute bandwidth

1187
00:54:47,369 --> 00:54:52,980
<font color="#CCCCCC">you know with a network as small as what</font>

1188
00:54:49,990 --> 00:54:56,348
I'm running<font color="#E5E5E5"> surprises duked</font><font color="#CCCCCC"> and and</font>

1189
00:54:52,980 --> 00:54:59,740
<font color="#CCCCCC">Kenan do show up at the spur of the</font>

1190
00:54:56,349 --> 00:55:03,579
moment<font color="#CCCCCC"> so this this keeps us a little</font>

1191
00:54:59,740 --> 00:55:07,058
<font color="#E5E5E5">bit safer so that while I'm</font><font color="#CCCCCC"> here and not</font>

1192
00:55:03,579 --> 00:55:09,280
<font color="#E5E5E5">getting called my junior staff is able</font>

1193
00:55:07,059 --> 00:55:15,630
<font color="#CCCCCC">to weather the surprises a little bit</font>

1194
00:55:09,280 --> 00:55:15,630
better any questions

1195
00:55:19,230 --> 00:55:21,990
I'll be<font color="#CCCCCC"> available for a</font><font color="#E5E5E5"> while if you've</font>

1196
00:55:21,030 --> 00:55:26,420
got anything you want to<font color="#E5E5E5"> see</font>

1197
00:55:21,990 --> 00:55:26,419
specifically<font color="#CCCCCC"> thanks for coming</font>

