1
00:00:00,829 --> 00:00:06,060
okay it gives me great pleasure to<font color="#E5E5E5"> be</font>

2
00:00:03,480 --> 00:00:08,010
able to introduce our next speaker I've

3
00:00:06,060 --> 00:00:10,230
had the good luck to be at two

4
00:00:08,010 --> 00:00:12,719
organizations where Dave captures worked

5
00:00:10,230 --> 00:00:16,560
and in fact he's<font color="#CCCCCC"> the perfect person to</font>

6
00:00:12,719 --> 00:00:18,720
talk about<font color="#E5E5E5"> why are we scared of</font><font color="#CCCCCC"> STS he's</font>

7
00:00:16,560 --> 00:00:20,939
always been very<font color="#E5E5E5"> good to those of us</font>

8
00:00:18,720 --> 00:00:24,060
novices when i first<font color="#CCCCCC"> started at</font><font color="#E5E5E5"> merritt</font>

9
00:00:20,939 --> 00:00:27,448
and actually thought that an<font color="#CCCCCC"> EGP was my</font>

10
00:00:24,060 --> 00:00:29,640
monogram he was<font color="#E5E5E5"> very kind to explain</font>

11
00:00:27,449 --> 00:00:34,500
that no that was really a protocol not

12
00:00:29,640 --> 00:00:36,030
just my<font color="#E5E5E5"> initials and so I think it gives</font>

13
00:00:34,500 --> 00:00:39,960
me great pleasure to introduce him

14
00:00:36,030 --> 00:00:43,170
Dave's been at<font color="#CCCCCC"> Merrit cisco juniper</font>

15
00:00:39,960 --> 00:00:45,510
Frank<font color="#E5E5E5"> Allison and the odd socks and he's</font>

16
00:00:43,170 --> 00:00:56,340
now going to speak to us about<font color="#CCCCCC"> igp</font>

17
00:00:45,510 --> 00:01:01,949
scaling and stability<font color="#E5E5E5"> thank you leasing</font>

18
00:00:56,340 --> 00:01:07,110
good morning I in fact a bit about the

19
00:01:01,949 --> 00:01:09,270
history of igp an igp implementation in

20
00:01:07,110 --> 00:01:12,390
particular because there's respect and

21
00:01:09,270 --> 00:01:16,199
then there's the reality talk a bit

22
00:01:12,390 --> 00:01:17,970
about how what happens when<font color="#CCCCCC"> I gp's</font>

23
00:01:16,200 --> 00:01:20,070
converged what are all the pieces and

24
00:01:17,970 --> 00:01:23,810
where all the weak spots and finally

25
00:01:20,070 --> 00:01:26,729
some conclusions if you go back to about

26
00:01:23,810 --> 00:01:28,470
1990s when we first started<font color="#E5E5E5"> seeing</font>

27
00:01:26,729 --> 00:01:32,479
implementations of<font color="#CCCCCC"> link state protocols</font>

28
00:01:28,470 --> 00:01:34,229
I<font color="#CCCCCC"> Esiason ospf the first</font><font color="#E5E5E5"> couple of years</font>

29
00:01:32,479 --> 00:01:35,970
<font color="#E5E5E5">we're just trying to get the</font>

30
00:01:34,229 --> 00:01:39,119
implementations to work they're not

31
00:01:35,970 --> 00:01:41,610
trivial bits of code to<font color="#CCCCCC"> write and if you</font>

32
00:01:39,119 --> 00:01:44,640
hadn't done<font color="#CCCCCC"> it before achieving some</font>

33
00:01:41,610 --> 00:01:46,289
kind of you know sense about how<font color="#E5E5E5"> things</font>

34
00:01:44,640 --> 00:01:48,659
worked was pretty difficult you have<font color="#E5E5E5"> to</font>

35
00:01:46,290 --> 00:01:50,280
work through the implementation before

36
00:01:48,659 --> 00:01:54,509
you really understand the protocols and

37
00:01:50,280 --> 00:01:56,009
so the early implementations had enough

38
00:01:54,509 --> 00:01:58,649
trouble just calculating the right

39
00:01:56,009 --> 00:02:00,869
routes without spending a lot of time

40
00:01:58,649 --> 00:02:04,380
and complexity trying to figure<font color="#CCCCCC"> out how</font>

41
00:02:00,869 --> 00:02:07,350
to make them<font color="#CCCCCC"> work in larger networks so</font>

42
00:02:04,380 --> 00:02:08,940
a lot of prototype quality software was

43
00:02:07,350 --> 00:02:11,819
shipped in anybody who played with

44
00:02:08,940 --> 00:02:13,090
routers early on sounds like I'm cutting

45
00:02:11,819 --> 00:02:15,160
out here anyone who played with

46
00:02:13,090 --> 00:02:20,050
<font color="#CCCCCC">is</font><font color="#E5E5E5"> early on knew that if you push things</font>

47
00:02:15,160 --> 00:02:22,299
hard enough they'd fall over we got to

48
00:02:20,050 --> 00:02:25,420
about 1994 things got a little bit more

49
00:02:22,300 --> 00:02:28,780
<font color="#CCCCCC">stable and so fast convergence became a</font>

50
00:02:25,420 --> 00:02:32,379
marketing a marketing point and the

51
00:02:28,780 --> 00:02:34,720
interop booths<font color="#E5E5E5"> at around 93 94 had a lot</font>

52
00:02:32,379 --> 00:02:36,579
of people unplugging cables and showing

53
00:02:34,720 --> 00:02:39,280
how rapidly their protocols converged

54
00:02:36,580 --> 00:02:40,900
was all very exciting but it didn't

55
00:02:39,280 --> 00:02:43,269
really matter a whole lot in those days

56
00:02:40,900 --> 00:02:45,610
because<font color="#E5E5E5"> you</font><font color="#CCCCCC"> know a network converged</font>

57
00:02:43,269 --> 00:02:48,459
fast enough if it was backed up before

58
00:02:45,610 --> 00:02:50,500
anybody managed<font color="#E5E5E5"> to call the NOC so that</font>

59
00:02:48,459 --> 00:02:53,530
<font color="#E5E5E5">the time the</font><font color="#CCCCCC"> time frame</font><font color="#E5E5E5"> was you know a</font>

60
00:02:50,500 --> 00:02:55,870
minute or two and<font color="#E5E5E5"> when you really did</font>

61
00:02:53,530 --> 00:02:59,349
try<font color="#E5E5E5"> to turn up turn up the heat a little</font>

62
00:02:55,870 --> 00:03:04,510
bit things kind of flap around wildly

63
00:02:59,349 --> 00:03:07,209
and fell over then 95 came around in

64
00:03:04,510 --> 00:03:10,090
these this idea of this you know

65
00:03:07,209 --> 00:03:14,650
commercial large international internet

66
00:03:10,090 --> 00:03:16,329
<font color="#CCCCCC">thing started happening and it really</font>

67
00:03:14,650 --> 00:03:19,450
did have to work you didn't<font color="#E5E5E5"> want the</font>

68
00:03:16,329 --> 00:03:21,970
network to fall<font color="#CCCCCC"> over you know those who</font>

69
00:03:19,450 --> 00:03:24,339
are old<font color="#E5E5E5"> enough remember AOL down for 19</font>

70
00:03:21,970 --> 00:03:26,579
hours and there were lots of other ones

71
00:03:24,340 --> 00:03:29,440
that<font color="#E5E5E5"> perhaps got a little bit less press</font>

72
00:03:26,579 --> 00:03:31,660
but there<font color="#E5E5E5"> was considerable pressure to</font>

73
00:03:29,440 --> 00:03:34,870
just make it<font color="#E5E5E5"> stable you know we don't</font>

74
00:03:31,660 --> 00:03:37,660
<font color="#CCCCCC">really you know</font><font color="#E5E5E5"> we'll deal with you know</font>

75
00:03:34,870 --> 00:03:41,980
one minute outages in return for the

76
00:03:37,660 --> 00:03:44,859
thing not burning down so as a result

77
00:03:41,980 --> 00:03:47,440
lots of timers got<font color="#E5E5E5"> crank two really big</font>

78
00:03:44,859 --> 00:03:49,239
values so the adjacencies would stay<font color="#CCCCCC"> up</font>

79
00:03:47,440 --> 00:03:51,549
for a minute<font color="#E5E5E5"> before they'd go down and</font>

80
00:03:49,239 --> 00:03:54,910
that sort of thing and the one thing

81
00:03:51,549 --> 00:03:58,239
<font color="#CCCCCC">that was you</font><font color="#E5E5E5"> know that the piper was</font>

82
00:03:54,910 --> 00:04:00,639
paid with with convergence speed they

83
00:03:58,239 --> 00:04:07,599
traded<font color="#E5E5E5"> that off for stability and</font>

84
00:04:00,639 --> 00:04:09,250
scalability but now there's pressure to

85
00:04:07,599 --> 00:04:11,108
converge more quickly again because

86
00:04:09,250 --> 00:04:15,730
there are actually applications that

87
00:04:11,109 --> 00:04:19,840
care voice over IP is an example there's

88
00:04:15,730 --> 00:04:21,789
also considerable pressure technological

89
00:04:19,839 --> 00:04:24,390
pressure there's a perception that IP is

90
00:04:21,789 --> 00:04:26,740
slow to converge and therefore we need

91
00:04:24,390 --> 00:04:29,949
ATM or we need mpls

92
00:04:26,740 --> 00:04:32,740
so we need whatever but you know we've

93
00:04:29,949 --> 00:04:34,690
learned a few things over the years so i

94
00:04:32,740 --> 00:04:38,669
think we you know a bit more about<font color="#CCCCCC"> how</font>

95
00:04:34,690 --> 00:04:44,169
<font color="#E5E5E5">to be fast even with traditional I GPS</font>

96
00:04:38,669 --> 00:04:48,880
so there's in my list anyhow six pieces

97
00:04:44,169 --> 00:04:51,430
to your<font color="#CCCCCC"> igp converging or things things</font>

98
00:04:48,880 --> 00:04:54,759
that have to converge after your<font color="#CCCCCC"> IV igp</font>

99
00:04:51,430 --> 00:04:56,979
changes the first thing you have to<font color="#E5E5E5"> do</font>

100
00:04:54,759 --> 00:04:59,289
<font color="#E5E5E5">is detect that something changed and if</font>

101
00:04:56,979 --> 00:05:02,409
your hardware does this for you life is

102
00:04:59,289 --> 00:05:05,199
good because you know when the light

103
00:05:02,409 --> 00:05:07,120
goes out on a sonnet link you can groom

104
00:05:05,199 --> 00:05:11,970
that in<font color="#CCCCCC"> Hardware you can groom that in</font>

105
00:05:07,120 --> 00:05:15,310
drivers you<font color="#E5E5E5"> can get whatever level of</font>

106
00:05:11,970 --> 00:05:19,870
rapidity and hold down<font color="#E5E5E5"> and debouncing</font>

107
00:05:15,310 --> 00:05:21,190
that you want one issue with this we're

108
00:05:19,870 --> 00:05:23,919
increasingly seeing Ethernet

109
00:05:21,190 --> 00:05:28,120
technologies in pops and as of this

110
00:05:23,919 --> 00:05:32,049
point there is no you<font color="#CCCCCC"> know data link</font>

111
00:05:28,120 --> 00:05:33,159
layer signaling that cleanly tells you

112
00:05:32,050 --> 00:05:35,860
that you can't talk to your other

113
00:05:33,159 --> 00:05:37,180
neighbor if the wire falls out of<font color="#E5E5E5"> the</font>

114
00:05:35,860 --> 00:05:39,190
<font color="#E5E5E5">back of</font><font color="#CCCCCC"> your router you can tell that</font>

115
00:05:37,180 --> 00:05:41,139
that<font color="#E5E5E5"> happens but if the wire falls out</font>

116
00:05:39,190 --> 00:05:45,940
of the other router you can't tell that

117
00:05:41,139 --> 00:05:48,610
<font color="#CCCCCC">that one router went away so ultimately</font>

118
00:05:45,940 --> 00:05:52,229
<font color="#E5E5E5">you still have to fall back to software</font>

119
00:05:48,610 --> 00:05:54,820
failure detection using hello protocols

120
00:05:52,229 --> 00:05:58,150
and in the past you know the<font color="#E5E5E5"> only way</font>

121
00:05:54,820 --> 00:06:00,490
you can get a rapid detection is too

122
00:05:58,150 --> 00:06:02,859
rapidly send hellos and rapidly<font color="#CCCCCC"> timeout</font>

123
00:06:00,490 --> 00:06:05,229
when you<font color="#E5E5E5"> don't see them in the past</font>

124
00:06:02,860 --> 00:06:07,990
attempts to do<font color="#E5E5E5"> this have made things</font>

125
00:06:05,229 --> 00:06:09,960
<font color="#E5E5E5">fall over pretty badly because you know</font>

126
00:06:07,990 --> 00:06:12,759
the scheduling Layton sees in the

127
00:06:09,960 --> 00:06:14,799
protocol implementations were you know

128
00:06:12,759 --> 00:06:17,770
on the same order as the<font color="#CCCCCC"> timeout so if</font>

129
00:06:14,800 --> 00:06:19,719
you run off<font color="#CCCCCC"> and you know calculate SPF</font>

130
00:06:17,770 --> 00:06:21,698
for two seconds or you type a show

131
00:06:19,719 --> 00:06:23,530
command and the<font color="#E5E5E5"> CPU goes away for two</font>

132
00:06:21,699 --> 00:06:28,560
seconds and all of your Jason sees

133
00:06:23,530 --> 00:06:31,000
timeout life is not good you can now and

134
00:06:28,560 --> 00:06:32,940
you know there are several vendors I

135
00:06:31,000 --> 00:06:36,849
know<font color="#E5E5E5"> that are now capable of doing this</font>

136
00:06:32,940 --> 00:06:38,540
you can do fast hellos and even some

137
00:06:36,849 --> 00:06:41,060
what's Caleb<font color="#E5E5E5"> Lee</font>

138
00:06:38,540 --> 00:06:44,210
you know<font color="#E5E5E5"> sub-second timeouts and</font>

139
00:06:41,060 --> 00:06:47,510
<font color="#E5E5E5">hundreds of neighbors and to do this you</font>

140
00:06:44,210 --> 00:06:49,549
need<font color="#CCCCCC"> to change</font><font color="#E5E5E5"> the scheduling model and</font>

141
00:06:47,510 --> 00:06:50,870
depending on your hardware architecture

142
00:06:49,550 --> 00:06:53,810
you may actually distribute the

143
00:06:50,870 --> 00:06:56,810
processing of these<font color="#E5E5E5"> things as well you</font>

144
00:06:53,810 --> 00:06:58,970
still have an<font color="#E5E5E5"> issue of you know if you</font>

145
00:06:56,810 --> 00:07:01,670
uh Leo you can do is send and receive

146
00:06:58,970 --> 00:07:03,230
hellos at full speed and can't do

147
00:07:01,670 --> 00:07:05,300
anything<font color="#E5E5E5"> else then things will start to</font>

148
00:07:03,230 --> 00:07:09,200
fall apart<font color="#E5E5E5"> although</font><font color="#CCCCCC"> you can get clever</font>

149
00:07:05,300 --> 00:07:11,000
but the big point is the first thing you

150
00:07:09,200 --> 00:07:14,030
<font color="#CCCCCC">have to do before anything else is make</font>

151
00:07:11,000 --> 00:07:16,640
adjacency maintenance stable regardless

152
00:07:14,030 --> 00:07:17,989
of<font color="#E5E5E5"> the load on</font><font color="#CCCCCC"> the router so this oh the</font>

153
00:07:16,640 --> 00:07:20,120
router is at one-hundred percent CPUs

154
00:07:17,990 --> 00:07:24,830
it's starting to drop adjacencies<font color="#CCCCCC"> this</font>

155
00:07:20,120 --> 00:07:26,960
didn't happen now once you've detected

156
00:07:24,830 --> 00:07:29,390
that something has changed you have to

157
00:07:26,960 --> 00:07:33,500
tell the world<font color="#E5E5E5"> about it by sending an</font>

158
00:07:29,390 --> 00:07:35,870
LSA or an LSP out traditionally when a

159
00:07:33,500 --> 00:07:40,400
router detected a change there's a<font color="#E5E5E5"> hold</font>

160
00:07:35,870 --> 00:07:42,590
<font color="#E5E5E5">down period first to try to collect</font>

161
00:07:40,400 --> 00:07:44,870
multiple changes because you are only

162
00:07:42,590 --> 00:07:47,390
<font color="#E5E5E5">going to get one chance for a while to</font>

163
00:07:44,870 --> 00:07:48,740
send a new packet outs of a couple of

164
00:07:47,390 --> 00:07:52,070
<font color="#CCCCCC">things change do</font><font color="#E5E5E5"> you want to group them</font>

165
00:07:48,740 --> 00:07:53,960
together and then there's a hole down

166
00:07:52,070 --> 00:07:56,810
applied where once you've generated an

167
00:07:53,960 --> 00:07:58,820
LSA RLS LSP you don't regenerate it for

168
00:07:56,810 --> 00:08:01,820
a period of time typically on the order

169
00:07:58,820 --> 00:08:03,409
of seconds in order<font color="#CCCCCC"> to put an upper</font>

170
00:08:01,820 --> 00:08:08,150
bound on the<font color="#E5E5E5"> amount of traffic that a</font>

171
00:08:03,410 --> 00:08:12,050
router can<font color="#E5E5E5"> can flood into the</font><font color="#CCCCCC"> igp this</font>

172
00:08:08,150 --> 00:08:14,570
obviously has issues with convergence

173
00:08:12,050 --> 00:08:16,280
time because you're withholding

174
00:08:14,570 --> 00:08:19,730
information the rest of the network

175
00:08:16,280 --> 00:08:23,450
needs to know in order to converge so a

176
00:08:19,730 --> 00:08:26,060
more intelligent strategy is to<font color="#E5E5E5"> do more</font>

177
00:08:23,450 --> 00:08:29,360
rapidly<font color="#CCCCCC"> announce interesting things that</font>

178
00:08:26,060 --> 00:08:31,460
<font color="#E5E5E5">change and interesting as a you know is</font>

179
00:08:29,360 --> 00:08:35,120
a heuristic<font color="#E5E5E5"> that people can figure out</font>

180
00:08:31,460 --> 00:08:39,799
on their own but to allow yourself to

181
00:08:35,120 --> 00:08:42,140
more rapidly generate<font color="#CCCCCC"> LSP s or lsas know</font>

182
00:08:39,799 --> 00:08:44,990
for a while at least and you still

183
00:08:42,140 --> 00:08:46,640
probably want to<font color="#E5E5E5"> you know eventually put</font>

184
00:08:44,990 --> 00:08:48,140
a hold down on things just so that you

185
00:08:46,640 --> 00:08:50,180
don't you know run the<font color="#CCCCCC"> network</font>

186
00:08:48,140 --> 00:08:51,580
continuously if you have a flapping link

187
00:08:50,180 --> 00:08:54,829
for<font color="#E5E5E5"> insta</font>

188
00:08:51,580 --> 00:08:57,770
there's an interesting<font color="#E5E5E5"> side effect if</font>

189
00:08:54,830 --> 00:08:59,660
things are implemented intelligently

190
00:08:57,770 --> 00:09:01,250
which is that when<font color="#CCCCCC"> the network gets</font>

191
00:08:59,660 --> 00:09:03,740
loaded it can<font color="#CCCCCC"> actually become more</font>

192
00:09:01,250 --> 00:09:06,020
efficient because the newer information

193
00:09:03,740 --> 00:09:08,510
can take over<font color="#E5E5E5"> and squash the old</font>

194
00:09:06,020 --> 00:09:11,120
information<font color="#CCCCCC"> that's in flight so you can</font>

195
00:09:08,510 --> 00:09:13,660
get away with less<font color="#CCCCCC"> than you know a</font>

196
00:09:11,120 --> 00:09:16,190
multiple of the number<font color="#E5E5E5"> of packets and</font>

197
00:09:13,660 --> 00:09:21,560
even went you even<font color="#E5E5E5"> more so when things</font>

198
00:09:16,190 --> 00:09:23,660
get busy the IOC is is pretty easy to

199
00:09:21,560 --> 00:09:26,510
twist in these ways if you read the spec

200
00:09:23,660 --> 00:09:28,100
literally there's a number of timers and

201
00:09:26,510 --> 00:09:30,590
things in there and say you shouldn't do

202
00:09:28,100 --> 00:09:34,310
things faster than<font color="#E5E5E5"> you know faster than</font>

203
00:09:30,590 --> 00:09:37,310
X but none of<font color="#E5E5E5"> those are really normative</font>

204
00:09:34,310 --> 00:09:39,500
in the sense that you can tweak those

205
00:09:37,310 --> 00:09:41,420
and not affect interoperability so

206
00:09:39,500 --> 00:09:44,330
there's there's there's what the spec

207
00:09:41,420 --> 00:09:46,360
says in what you really<font color="#E5E5E5"> know you can get</font>

208
00:09:44,330 --> 00:09:50,390
away with if you know what you're doing

209
00:09:46,360 --> 00:09:52,460
ospf on the other<font color="#E5E5E5"> hand the</font><font color="#CCCCCC"> the founding</font>

210
00:09:50,390 --> 00:09:55,790
fathers that wrote ospf back in the late

211
00:09:52,460 --> 00:09:58,910
80s decided that the the sender's of<font color="#E5E5E5"> El</font>

212
00:09:55,790 --> 00:10:00,949
<font color="#E5E5E5">FAS couldn't be trusted to to limit the</font>

213
00:09:58,910 --> 00:10:02,750
rate at which they are generated so the

214
00:10:00,950 --> 00:10:06,290
spec calls for<font color="#E5E5E5"> the receivers to throw</font>

215
00:10:02,750 --> 00:10:08,330
away LSA<font color="#CCCCCC"> is if they receive an update at</font>

216
00:10:06,290 --> 00:10:10,699
LSA less than five seconds after

217
00:10:08,330 --> 00:10:12,800
receiving a previously updated LSA which

218
00:10:10,700 --> 00:10:16,060
kind of makes it hard to go any faster

219
00:10:12,800 --> 00:10:19,699
than five-second intervals and changes

220
00:10:16,060 --> 00:10:22,459
so I'm taking<font color="#CCCCCC"> a radical step of</font>

221
00:10:19,700 --> 00:10:25,580
suggesting that we ignore<font color="#CCCCCC"> the spec in</font>

222
00:10:22,460 --> 00:10:27,410
this sense which you can do really

223
00:10:25,580 --> 00:10:29,900
<font color="#CCCCCC">without any interoperability problem if</font>

224
00:10:27,410 --> 00:10:32,630
you're<font color="#E5E5E5"> talking if you remove the receive</font>

225
00:10:29,900 --> 00:10:35,360
that<font color="#CCCCCC"> receive dating and then you let</font>

226
00:10:32,630 --> 00:10:38,750
your transmitter be smarter and go fast

227
00:10:35,360 --> 00:10:41,180
sometimes and<font color="#E5E5E5"> you know be adaptive the</font>

228
00:10:38,750 --> 00:10:44,150
receivers that no<font color="#E5E5E5"> longer filter things</font>

229
00:10:41,180 --> 00:10:45,859
will go fast the older Caesar will still

230
00:10:44,150 --> 00:10:48,800
drop the packet they'll be retransmitted

231
00:10:45,860 --> 00:10:50,990
and things will converge roughly at the

232
00:10:48,800 --> 00:10:52,130
same speed they will now and this<font color="#E5E5E5"> is</font>

233
00:10:50,990 --> 00:10:54,740
<font color="#E5E5E5">only in the case when things are</font>

234
00:10:52,130 --> 00:10:58,070
changing rapidly or you could add a knob

235
00:10:54,740 --> 00:11:00,250
but I have a slide later about<font color="#E5E5E5"> adding</font>

236
00:10:58,070 --> 00:11:00,250
knobs

237
00:11:00,310 --> 00:11:07,520
once you've generated<font color="#CCCCCC"> LSAs analyses you</font>

238
00:11:03,620 --> 00:11:09,290
have to flood them there so there's

239
00:11:07,520 --> 00:11:11,210
traditionally been delays in<font color="#E5E5E5"> this</font>

240
00:11:09,290 --> 00:11:14,480
process<font color="#E5E5E5"> as well particularly in ospf</font>

241
00:11:11,210 --> 00:11:17,780
where you<font color="#E5E5E5"> don't send individual</font><font color="#CCCCCC"> LSAs you</font>

242
00:11:14,480 --> 00:11:19,820
group up at a hot by hot basis whatever

243
00:11:17,780 --> 00:11:22,640
<font color="#CCCCCC">lsas need to be flooded out of a link</font>

244
00:11:19,820 --> 00:11:26,930
into an LSA update packet and send that

245
00:11:22,640 --> 00:11:29,180
packet so by delaying the relaying of

246
00:11:26,930 --> 00:11:31,540
<font color="#CCCCCC">lsas you can gain efficiency by reducing</font>

247
00:11:29,180 --> 00:11:34,270
the<font color="#CCCCCC"> number of packets are sending</font>

248
00:11:31,540 --> 00:11:38,599
additionally most implementations

249
00:11:34,270 --> 00:11:41,600
throttle the rate at which LSA or<font color="#E5E5E5"> LSP s</font>

250
00:11:38,600 --> 00:11:43,580
are sent on a link because these

251
00:11:41,600 --> 00:11:47,690
protocols don't have any flow control

252
00:11:43,580 --> 00:11:50,120
and so you can overwhelm a receiver if

253
00:11:47,690 --> 00:11:52,520
you have a relatively low powered router

254
00:11:50,120 --> 00:11:54,830
with a whole lot<font color="#CCCCCC"> of links on it you can</font>

255
00:11:52,520 --> 00:11:56,930
swamp them with incoming packets and

256
00:11:54,830 --> 00:11:59,000
most implementations have all kinds of

257
00:11:56,930 --> 00:12:00,770
heuristics particularly when a router

258
00:11:59,000 --> 00:12:03,110
first comes up so that all<font color="#E5E5E5"> of its</font>

259
00:12:00,770 --> 00:12:06,439
neighbors<font color="#E5E5E5"> don't attack it</font><font color="#CCCCCC"> with full you</font>

260
00:12:03,110 --> 00:12:08,120
know full LS databases and so forth but

261
00:12:06,440 --> 00:12:11,270
all these things directly affect the

262
00:12:08,120 --> 00:12:13,400
rate of convergence because if it takes

263
00:12:11,270 --> 00:12:15,980
you know if there's a latency of 500

264
00:12:13,400 --> 00:12:17,870
milliseconds per hop then it's<font color="#E5E5E5"> going to</font>

265
00:12:15,980 --> 00:12:20,360
take 500 milliseconds times the diameter

266
00:12:17,870 --> 00:12:22,960
of the network for<font color="#CCCCCC"> the information to</font>

267
00:12:20,360 --> 00:12:24,890
propagate all the way across the<font color="#E5E5E5"> network</font>

268
00:12:22,960 --> 00:12:26,180
furthermore even when things<font color="#CCCCCC"> aren't</font>

269
00:12:24,890 --> 00:12:29,540
changing there's there's there's

270
00:12:26,180 --> 00:12:32,030
background rumble in<font color="#CCCCCC"> in the ls database</font>

271
00:12:29,540 --> 00:12:33,650
there's typically they're being

272
00:12:32,030 --> 00:12:36,770
refreshed at various intervals and

273
00:12:33,650 --> 00:12:39,800
depending on the implementation you may

274
00:12:36,770 --> 00:12:41,900
have bursty refreshing going on and all

275
00:12:39,800 --> 00:12:43,939
those packets get in the way<font color="#E5E5E5"> and if</font>

276
00:12:41,900 --> 00:12:45,949
you're doing throttling you know you may

277
00:12:43,940 --> 00:12:47,540
have a whole<font color="#E5E5E5"> bunch of other</font><font color="#CCCCCC"> LSAs which</font>

278
00:12:45,950 --> 00:12:52,820
aren't really interesting in front of

279
00:12:47,540 --> 00:12:54,500
you on the<font color="#E5E5E5"> queues so you can if you</font>

280
00:12:52,820 --> 00:12:58,240
start looking<font color="#E5E5E5"> at the scheduling of the</font>

281
00:12:54,500 --> 00:13:00,770
transmission<font color="#E5E5E5"> of</font><font color="#CCCCCC"> l essays and LSPs and</font>

282
00:12:58,240 --> 00:13:02,510
give priority to the interesting ones

283
00:13:00,770 --> 00:13:05,230
and<font color="#CCCCCC"> we're interesting is once again the</font>

284
00:13:02,510 --> 00:13:08,600
bigger the entropy here the heuristic

285
00:13:05,230 --> 00:13:11,160
you can get the one<font color="#E5E5E5"> signaling your</font>

286
00:13:08,600 --> 00:13:15,180
changes through quickly

287
00:13:11,160 --> 00:13:19,209
the retransmission schemes are typically

288
00:13:15,180 --> 00:13:22,329
fairly bare-bones many implementations

289
00:13:19,209 --> 00:13:25,479
simply retransmit<font color="#CCCCCC"> lsas at a fixed</font>

290
00:13:22,329 --> 00:13:28,120
interval but unlike transport protocols

291
00:13:25,480 --> 00:13:30,490
this is a retransmission per packet and

292
00:13:28,120 --> 00:13:32,470
if you have<font color="#E5E5E5"> 100 packets that are</font>

293
00:13:30,490 --> 00:13:34,990
awaiting retransmission or being

294
00:13:32,470 --> 00:13:36,879
retransmitted you'll have 100 packets

295
00:13:34,990 --> 00:13:38,550
being sent every five seconds and so

296
00:13:36,879 --> 00:13:40,990
depending<font color="#CCCCCC"> on</font><font color="#E5E5E5"> if you've just flooded</font>

297
00:13:38,550 --> 00:13:43,120
60,000<font color="#CCCCCC"> lsas because somebody</font>

298
00:13:40,990 --> 00:13:44,379
accidentally redistributed BGP into ospf

299
00:13:43,120 --> 00:13:47,740
which happens about once a year

300
00:13:44,379 --> 00:13:50,680
somewhere you can end up in a world of

301
00:13:47,740 --> 00:13:52,240
hurt so with some adaptive

302
00:13:50,680 --> 00:13:54,519
retransmission you can at least<font color="#E5E5E5"> keep</font>

303
00:13:52,240 --> 00:13:57,879
from from completely tanking your

304
00:13:54,519 --> 00:14:01,600
<font color="#CCCCCC">neighbors and if you have your</font>

305
00:13:57,879 --> 00:14:03,550
<font color="#E5E5E5">scheduling right the noise</font><font color="#CCCCCC"> LSAs become</font>

306
00:14:01,600 --> 00:14:05,769
in the<font color="#CCCCCC"> noise</font><font color="#E5E5E5"> you don't actually have to</font>

307
00:14:03,550 --> 00:14:07,959
care about them anymore and there have

308
00:14:05,769 --> 00:14:10,300
been<font color="#E5E5E5"> some discussions about oh look how</font>

309
00:14:07,959 --> 00:14:11,649
<font color="#E5E5E5">much background traffic there is and we</font>

310
00:14:10,300 --> 00:14:13,870
should try<font color="#E5E5E5"> to suppress that and it's</font>

311
00:14:11,649 --> 00:14:16,300
scary and bad and you know it's good to

312
00:14:13,870 --> 00:14:18,130
<font color="#E5E5E5">know if it's if it's pathological but on</font>

313
00:14:16,300 --> 00:14:23,699
the<font color="#E5E5E5"> other hand it shouldn't be a problem</font>

314
00:14:18,130 --> 00:14:25,839
they do<font color="#E5E5E5"> things right now</font><font color="#CCCCCC"> we get to SPF</font>

315
00:14:23,699 --> 00:14:29,319
everyone seems to be<font color="#CCCCCC"> really scared of</font>

316
00:14:25,839 --> 00:14:33,310
SPF and the reason<font color="#CCCCCC"> is that it's caused</font>

317
00:14:29,319 --> 00:14:36,430
all kinds of<font color="#E5E5E5"> trouble in a lot of a lot</font>

318
00:14:33,310 --> 00:14:38,290
of<font color="#CCCCCC"> shift implementations initially the</font>

319
00:14:36,430 --> 00:14:41,229
implementations were slow it might take

320
00:14:38,290 --> 00:14:43,300
a second or<font color="#E5E5E5"> two</font><font color="#CCCCCC"> to run</font><font color="#E5E5E5"> on SPF across a</font>

321
00:14:41,230 --> 00:14:46,990
network of you know several hundred

322
00:14:43,300 --> 00:14:49,449
routers and if you have a run<font color="#E5E5E5"> to</font>

323
00:14:46,990 --> 00:14:51,790
completion scheduler which most

324
00:14:49,449 --> 00:14:54,160
implementations do for arcane technical

325
00:14:51,790 --> 00:14:55,930
reasons if your SPF takes a long time

326
00:14:54,160 --> 00:14:58,480
you may not<font color="#E5E5E5"> be sending or receiving</font>

327
00:14:55,930 --> 00:15:01,508
hellos during that time and if you're

328
00:14:58,480 --> 00:15:04,829
<font color="#E5E5E5">trying to get your detection times down</font>

329
00:15:01,509 --> 00:15:07,660
you can end up losing hellos and then

330
00:15:04,829 --> 00:15:09,430
adjacencies fail and so the adjacency

331
00:15:07,660 --> 00:15:10,809
failed so you have to run SPF again and

332
00:15:09,430 --> 00:15:13,508
then you're on SPF and more adjacencies

333
00:15:10,809 --> 00:15:15,129
fail and<font color="#E5E5E5"> then the network reaches</font>

334
00:15:13,509 --> 00:15:17,170
metastable meltdown state which is

335
00:15:15,129 --> 00:15:19,319
really cool if you're<font color="#E5E5E5"> not running the</font>

336
00:15:17,170 --> 00:15:19,319
network

337
00:15:19,390 --> 00:15:25,510
like a good train wreck it's fun to

338
00:15:21,400 --> 00:15:27,250
watch from<font color="#E5E5E5"> the distance so there's all</font>

339
00:15:25,510 --> 00:15:29,680
kinds of hold downs and scheduling

340
00:15:27,250 --> 00:15:33,070
delays and SPF delays and so forth that

341
00:15:29,680 --> 00:15:34,810
you'll see commands to control and these

342
00:15:33,070 --> 00:15:38,440
<font color="#E5E5E5">are essentially workarounds for these</font>

343
00:15:34,810 --> 00:15:41,140
stability problems but of<font color="#CCCCCC"> course these</font>

344
00:15:38,440 --> 00:15:42,520
slow convergence and you know there have

345
00:15:41,140 --> 00:15:44,410
<font color="#E5E5E5">been presentations here in the past</font>

346
00:15:42,520 --> 00:15:46,630
demonstrative<font color="#E5E5E5"> and it may take you know</font>

347
00:15:44,410 --> 00:15:48,219
two or three of these intervals to

348
00:15:46,630 --> 00:15:49,810
finally really converge and get rid of

349
00:15:48,220 --> 00:15:53,320
all the routing loops because until

350
00:15:49,810 --> 00:15:57,219
everybody has calculated SPF on the

351
00:15:53,320 --> 00:15:58,690
final set of<font color="#CCCCCC"> lsas then there's going to</font>

352
00:15:57,220 --> 00:16:00,010
be inconsistent routing in the network

353
00:15:58,690 --> 00:16:04,750
and packets are going to run in circles

354
00:16:00,010 --> 00:16:06,580
and<font color="#E5E5E5"> you know fall on the floor so the</font>

355
00:16:04,750 --> 00:16:10,720
key here is if you engineer things right

356
00:16:06,580 --> 00:16:12,150
SPF should not be destabilizing you

357
00:16:10,720 --> 00:16:17,140
should be able to<font color="#E5E5E5"> run it all day long</font>

358
00:16:12,150 --> 00:16:18,280
<font color="#E5E5E5">constantly without hurting anything the</font>

359
00:16:17,140 --> 00:16:20,710
first thing you have to do is<font color="#E5E5E5"> I</font>

360
00:16:18,280 --> 00:16:22,060
mentioned in an earlier slide is do

361
00:16:20,710 --> 00:16:24,580
adjacency maintenance in a pre-emptive

362
00:16:22,060 --> 00:16:27,670
fashion you know jcd maintenance has to

363
00:16:24,580 --> 00:16:29,800
run in parallel with everything else so

364
00:16:27,670 --> 00:16:32,319
then you don't care<font color="#CCCCCC"> how long it takes to</font>

365
00:16:29,800 --> 00:16:34,000
run<font color="#CCCCCC"> a still at a four-story level you</font>

366
00:16:32,320 --> 00:16:36,010
don't care<font color="#E5E5E5"> how long it takes to run SPF</font>

367
00:16:34,000 --> 00:16:39,790
it's not<font color="#E5E5E5"> going to make your adjacencies</font>

368
00:16:36,010 --> 00:16:41,380
fall down if you prioritize things such

369
00:16:39,790 --> 00:16:43,480
that even if<font color="#E5E5E5"> you're running SPF</font>

370
00:16:41,380 --> 00:16:46,210
constantly you're still in between SPF

371
00:16:43,480 --> 00:16:48,100
runs processing incoming<font color="#CCCCCC"> LSA s and LS PS</font>

372
00:16:46,210 --> 00:16:50,610
and updating your database so that you

373
00:16:48,100 --> 00:16:53,110
don't lock to<font color="#CCCCCC"> the database in some state</font>

374
00:16:50,610 --> 00:16:58,540
from a long time excuse me<font color="#E5E5E5"> from a long</font>

375
00:16:53,110 --> 00:17:02,050
time<font color="#CCCCCC"> ago that will help a lot overall</font>

376
00:16:58,540 --> 00:17:03,579
convergence shouldn't suffer<font color="#E5E5E5"> even if SPF</font>

377
00:17:02,050 --> 00:17:05,260
is running all the time you know

378
00:17:03,580 --> 00:17:08,470
depending on how long it<font color="#CCCCCC"> takes to run</font>

379
00:17:05,260 --> 00:17:10,540
SPF there's been mentioned in this forum

380
00:17:08,470 --> 00:17:14,500
before<font color="#E5E5E5"> about doing incremental SPFs as a</font>

381
00:17:10,540 --> 00:17:15,730
way of reducing the<font color="#E5E5E5"> runtime and this</font>

382
00:17:14,500 --> 00:17:18,099
that you know if you can do it in a

383
00:17:15,730 --> 00:17:21,209
millisecond instead of you know 500

384
00:17:18,099 --> 00:17:24,339
<font color="#E5E5E5">milliseconds you know that's gravy</font><font color="#CCCCCC"> too</font>

385
00:17:21,209 --> 00:17:26,620
right now there's enough other<font color="#E5E5E5"> things</font>

386
00:17:24,339 --> 00:17:27,829
broken so it in the larger scheme of

387
00:17:26,619 --> 00:17:30,439
things

388
00:17:27,829 --> 00:17:35,510
you know tweaking the SPFL<font color="#CCCCCC"> ger if M is</font>

389
00:17:30,440 --> 00:17:38,269
<font color="#E5E5E5">not that</font><font color="#CCCCCC"> interesting yet given</font><font color="#E5E5E5"> all the</font>

390
00:17:35,510 --> 00:17:39,890
other things that are slow<font color="#E5E5E5"> and the size</font>

391
00:17:38,269 --> 00:17:42,260
of<font color="#E5E5E5"> the networks that are out there right</font>

392
00:17:39,890 --> 00:17:45,799
<font color="#E5E5E5">now if you can feel the network with</font>

393
00:17:42,260 --> 00:17:47,960
10,000 routers in a single area the SPF

394
00:17:45,799 --> 00:17:49,820
<font color="#CCCCCC">times will start to matter a lot but I</font>

395
00:17:47,960 --> 00:17:52,130
suspect that<font color="#CCCCCC"> we'll</font><font color="#E5E5E5"> be fixing other</font>

396
00:17:49,820 --> 00:17:54,379
problems before we manage to deploy

397
00:17:52,130 --> 00:17:57,110
social network so this<font color="#E5E5E5"> is a good stuff</font>

398
00:17:54,380 --> 00:17:58,700
after we fix everything else there's

399
00:17:57,110 --> 00:18:00,649
also been talking about<font color="#CCCCCC"> back off</font>

400
00:17:58,700 --> 00:18:02,120
algorithms for SPF calculation which

401
00:18:00,649 --> 00:18:03,860
kind of made me<font color="#E5E5E5"> scratch my head a bit</font>

402
00:18:02,120 --> 00:18:07,189
particularly exponential<font color="#CCCCCC"> back-off</font>

403
00:18:03,860 --> 00:18:08,299
because you know or exponential<font color="#CCCCCC"> back-off</font>

404
00:18:07,190 --> 00:18:10,429
is something you use when you have

405
00:18:08,299 --> 00:18:14,750
competition and fairness you want

406
00:18:10,429 --> 00:18:16,970
fairness and so forth if sbf doesn't

407
00:18:14,750 --> 00:18:19,130
hurt anything then you shouldn't be

408
00:18:16,970 --> 00:18:21,049
<font color="#E5E5E5">running away from it</font><font color="#CCCCCC"> because backing</font>

409
00:18:19,130 --> 00:18:23,389
away from<font color="#CCCCCC"> it particularly backing away</font>

410
00:18:21,049 --> 00:18:25,940
from<font color="#CCCCCC"> it rapidly</font><font color="#E5E5E5"> is going to negatively</font>

411
00:18:23,389 --> 00:18:27,408
impact your convergence so if you

412
00:18:25,940 --> 00:18:30,740
engineer things so that it doesn't hurt

413
00:18:27,409 --> 00:18:34,159
you to run a two-run SPF then you<font color="#E5E5E5"> don't</font>

414
00:18:30,740 --> 00:18:38,870
have<font color="#E5E5E5"> to go to heroic measures to try not</font>

415
00:18:34,159 --> 00:18:41,179
to run it now this<font color="#E5E5E5"> is actually the</font>

416
00:18:38,870 --> 00:18:44,689
biggest<font color="#E5E5E5"> problem and it's not an igp</font>

417
00:18:41,179 --> 00:18:48,470
problem per se which is bgp is

418
00:18:44,690 --> 00:18:51,010
calculating a hundred thousand routes to

419
00:18:48,470 --> 00:18:53,990
where the<font color="#E5E5E5"> next hop is the exit router</font>

420
00:18:51,010 --> 00:18:56,658
then the<font color="#CCCCCC"> igp calculates the route to the</font>

421
00:18:53,990 --> 00:19:00,380
exit router and it has<font color="#E5E5E5"> a next top and</font>

422
00:18:56,659 --> 00:19:02,570
then somehow you have to you have to

423
00:19:00,380 --> 00:19:04,909
change<font color="#E5E5E5"> the next tops of you know many</font>

424
00:19:02,570 --> 00:19:09,470
potentially many thousands of<font color="#E5E5E5"> bgp roots</font>

425
00:19:04,909 --> 00:19:11,269
when you have a change<font color="#E5E5E5"> in the</font><font color="#CCCCCC"> igp this</font>

426
00:19:09,470 --> 00:19:15,230
has been<font color="#E5E5E5"> traditionally done in software</font>

427
00:19:11,269 --> 00:19:16,850
wear SPF runs you get a new next hop to

428
00:19:15,230 --> 00:19:18,409
get to some router at the other end of

429
00:19:16,850 --> 00:19:19,760
the network then you go running down

430
00:19:18,409 --> 00:19:21,289
through your forwarding table saying

431
00:19:19,760 --> 00:19:23,269
well<font color="#CCCCCC"> i have to replace that one that one</font>

432
00:19:21,289 --> 00:19:25,519
that one and that one<font color="#CCCCCC"> and of course that</font>

433
00:19:23,269 --> 00:19:29,659
<font color="#E5E5E5">grows at best linearly with the number</font>

434
00:19:25,519 --> 00:19:31,100
<font color="#E5E5E5">of routes that you have if you can do</font>

435
00:19:29,659 --> 00:19:34,309
indirect lookups in your hardware

436
00:19:31,100 --> 00:19:36,939
suddenly this cost which is arguably the

437
00:19:34,309 --> 00:19:39,020
<font color="#CCCCCC">largest cost goes away completely</font>

438
00:19:36,940 --> 00:19:41,029
depending and depending on how your

439
00:19:39,020 --> 00:19:41,480
hardware works you may be able to<font color="#E5E5E5"> view</font>

440
00:19:41,029 --> 00:19:44,049
this

441
00:19:41,480 --> 00:19:47,179
<font color="#E5E5E5">look up you know at forwarding time so</font>

442
00:19:44,049 --> 00:19:49,010
so the forwarding table says for this

443
00:19:47,179 --> 00:19:50,600
route the next stop is this exit router

444
00:19:49,010 --> 00:19:53,090
and by the way the next<font color="#E5E5E5"> stop</font><font color="#CCCCCC"> for that</font>

445
00:19:50,600 --> 00:19:55,480
exit router is this next<font color="#E5E5E5"> hop router and</font>

446
00:19:53,090 --> 00:19:57,649
if you if you have efficient enough

447
00:19:55,480 --> 00:19:59,750
forwarding hardware you do that look up

448
00:19:57,650 --> 00:20:02,690
at forwarding time and this no longer is

449
00:19:59,750 --> 00:20:07,370
a routing protocol convergence issue and

450
00:20:02,690 --> 00:20:09,440
it's a huge win if<font color="#CCCCCC"> you can do it once</font>

451
00:20:07,370 --> 00:20:10,850
you've calculated forwarding tables then

452
00:20:09,440 --> 00:20:12,020
you have to get<font color="#E5E5E5"> them into the hardware</font>

453
00:20:10,850 --> 00:20:14,689
assuming<font color="#E5E5E5"> that you have</font><font color="#CCCCCC"> Hardware</font>

454
00:20:12,020 --> 00:20:18,730
forwarding which most routers that<font color="#E5E5E5"> that</font>

455
00:20:14,690 --> 00:20:20,600
out there<font color="#E5E5E5"> in the core do the more</font>

456
00:20:18,730 --> 00:20:21,919
forwarding engines with separate

457
00:20:20,600 --> 00:20:24,219
forwarding tables you have the more

458
00:20:21,919 --> 00:20:27,380
copies of things you have to download

459
00:20:24,220 --> 00:20:29,510
and this can get incredibly expensive

460
00:20:27,380 --> 00:20:31,340
particularly if you are<font color="#E5E5E5"> still doing</font>

461
00:20:29,510 --> 00:20:33,740
recursion in software because you may

462
00:20:31,340 --> 00:20:38,090
have to download you know 10,000 routes

463
00:20:33,740 --> 00:20:40,280
to every forwarding card when one link

464
00:20:38,090 --> 00:20:43,100
change somewhere in the network and so

465
00:20:40,280 --> 00:20:46,879
the time for your<font color="#E5E5E5"> system overall to</font>

466
00:20:43,100 --> 00:20:48,439
converge is going to rise you know<font color="#CCCCCC"> is</font>

467
00:20:46,880 --> 00:20:53,660
<font color="#CCCCCC">going</font><font color="#E5E5E5"> to get</font><font color="#CCCCCC"> worse with a number of</font>

468
00:20:48,440 --> 00:20:57,410
these engines we have had a semi

469
00:20:53,660 --> 00:20:58,760
centralized architecture although we and

470
00:20:57,410 --> 00:21:00,860
everybody else knows that just have

471
00:20:58,760 --> 00:21:02,600
scaling limitations so no matter<font color="#E5E5E5"> what</font>

472
00:21:00,860 --> 00:21:04,580
you do eventually you're going to have

473
00:21:02,600 --> 00:21:06,168
multiple of these engines if you want to

474
00:21:04,580 --> 00:21:08,149
build big boxes they have lots<font color="#E5E5E5"> of</font>

475
00:21:06,169 --> 00:21:11,000
interfaces and so the answer really is

476
00:21:08,150 --> 00:21:13,460
if you fix the recursion problem then

477
00:21:11,000 --> 00:21:15,770
updating a couple of routes in you know

478
00:21:13,460 --> 00:21:17,870
a<font color="#E5E5E5"> couple of dozen forwarding engines</font>

479
00:21:15,770 --> 00:21:19,460
becomes pretty cheap particularly if you

480
00:21:17,870 --> 00:21:22,479
spend<font color="#E5E5E5"> some</font><font color="#CCCCCC"> time thinking about</font><font color="#E5E5E5"> how that</font>

481
00:21:19,460 --> 00:21:22,480
<font color="#E5E5E5">update process works</font>

482
00:21:26,179 --> 00:21:34,110
in the past stability and scalability

483
00:21:29,640 --> 00:21:35,790
have been the big deal above all else

484
00:21:34,110 --> 00:21:37,439
because if the network doesn't stay up

485
00:21:35,790 --> 00:21:41,040
as you well know it doesn't matter how

486
00:21:37,440 --> 00:21:43,710
fast it is this has been arguably

487
00:21:41,040 --> 00:21:44,970
successful at least those<font color="#CCCCCC"> of us score</font>

488
00:21:43,710 --> 00:21:47,400
<font color="#CCCCCC">around long enough to remember when</font>

489
00:21:44,970 --> 00:21:49,080
things are really bad and I apologize to

490
00:21:47,400 --> 00:21:53,460
<font color="#E5E5E5">anyone who's still having these kinds of</font>

491
00:21:49,080 --> 00:21:56,549
problems some of the biggest barriers

492
00:21:53,460 --> 00:21:59,960
have been<font color="#E5E5E5"> outside the</font><font color="#CCCCCC"> IGP implementation</font>

493
00:21:56,549 --> 00:22:02,790
per<font color="#E5E5E5"> se their architectural issues</font>

494
00:21:59,960 --> 00:22:06,000
systemic issues in the router systemic

495
00:22:02,790 --> 00:22:09,480
issues in the network as a whole as we

496
00:22:06,000 --> 00:22:12,480
chip away at these then thinking<font color="#E5E5E5"> about</font>

497
00:22:09,480 --> 00:22:15,750
you know optimizations of the small

498
00:22:12,480 --> 00:22:18,240
things like incremental SPFs will become

499
00:22:15,750 --> 00:22:24,600
more interesting<font color="#E5E5E5"> you go for</font><font color="#CCCCCC"> the for the</font>

500
00:22:18,240 --> 00:22:26,940
big targets first with we should be able

501
00:22:24,600 --> 00:22:31,409
to deliver boxes that can do<font color="#E5E5E5"> this fast</font>

502
00:22:26,940 --> 00:22:34,980
and and do it with<font color="#CCCCCC"> stability and do it's</font>

503
00:22:31,410 --> 00:22:37,169
<font color="#E5E5E5">Caleb late and if you do this right when</font>

504
00:22:34,980 --> 00:22:38,760
a system gets loaded down all that

505
00:22:37,169 --> 00:22:40,650
should happen is that convergence should

506
00:22:38,760 --> 00:22:42,210
start to suffer and she suffered

507
00:22:40,650 --> 00:22:44,610
gracefully you shouldn't have

508
00:22:42,210 --> 00:22:47,820
catastrophic collapses you shouldn't

509
00:22:44,610 --> 00:22:51,209
have you know sudden falling off the

510
00:22:47,820 --> 00:22:53,460
cliff in in convergence and it's not

511
00:22:51,210 --> 00:22:58,020
easy to do<font color="#E5E5E5"> this and I won't claim that</font>

512
00:22:53,460 --> 00:23:00,870
that we're there yet that any vendor is

513
00:22:58,020 --> 00:23:02,460
there<font color="#E5E5E5"> yet but you know that we we know</font>

514
00:23:00,870 --> 00:23:06,260
how we're getting closer and closer to

515
00:23:02,460 --> 00:23:09,840
<font color="#E5E5E5">this ideal and I</font><font color="#CCCCCC"> gp's aren't inherently</font>

516
00:23:06,260 --> 00:23:12,629
unstable which the sort<font color="#E5E5E5"> of gathered a</font>

517
00:23:09,840 --> 00:23:14,159
reputation of<font color="#CCCCCC"> being so mostly because</font><font color="#E5E5E5"> of</font>

518
00:23:12,630 --> 00:23:16,020
the quality<font color="#CCCCCC"> of the implementations over</font>

519
00:23:14,160 --> 00:23:17,700
the years of which<font color="#E5E5E5"> I have to admit to</font>

520
00:23:16,020 --> 00:23:19,559
having tampered with most of them so

521
00:23:17,700 --> 00:23:23,309
that's why I'm wearing dark glasses you

522
00:23:19,559 --> 00:23:25,559
won't<font color="#CCCCCC"> recognize me now if you</font><font color="#E5E5E5"> get to the</font>

523
00:23:23,309 --> 00:23:27,330
point where you're just swamped in

524
00:23:25,559 --> 00:23:29,370
hellos and you can't do anything<font color="#E5E5E5"> else</font>

525
00:23:27,330 --> 00:23:31,860
then things may fall apart but<font color="#E5E5E5"> then you</font>

526
00:23:29,370 --> 00:23:33,600
could even get clever and start turning

527
00:23:31,860 --> 00:23:37,050
off interfaces or other things you know

528
00:23:33,600 --> 00:23:38,309
really gratuitous bad things that<font color="#CCCCCC"> are</font>

529
00:23:37,050 --> 00:23:39,659
better<font color="#E5E5E5"> than the whole router and the</font>

530
00:23:38,309 --> 00:23:41,670
whole network falling over just

531
00:23:39,660 --> 00:23:44,040
randomly losing topology instead which

532
00:23:41,670 --> 00:23:49,590
probably isn't a lot<font color="#E5E5E5"> better than a</font>

533
00:23:44,040 --> 00:23:51,540
collapsing network but gets close adding

534
00:23:49,590 --> 00:23:55,439
more knobs isn't the answer i've seen

535
00:23:51,540 --> 00:23:57,330
some presentations of which there is

536
00:23:55,440 --> 00:23:59,820
proudly proclaiming we have these great

537
00:23:57,330 --> 00:24:03,510
knobs with you know<font color="#E5E5E5"> for values that you</font>

538
00:23:59,820 --> 00:24:05,730
can tweak but no one really<font color="#E5E5E5"> knows how</font><font color="#CCCCCC"> to</font>

539
00:24:03,510 --> 00:24:08,580
set those values and you know Dave I ran

540
00:24:05,730 --> 00:24:10,620
has a law that says you know all you

541
00:24:08,580 --> 00:24:13,889
know all mobs have one setting that

542
00:24:10,620 --> 00:24:16,500
works<font color="#E5E5E5"> and all the rest don't he says it</font>

543
00:24:13,890 --> 00:24:19,640
more succinctly than I do most of these

544
00:24:16,500 --> 00:24:21,810
settings are wrong and pushing the

545
00:24:19,640 --> 00:24:23,760
responsibility for stability back on the

546
00:24:21,810 --> 00:24:26,490
operators by providing knobs like this

547
00:24:23,760 --> 00:24:28,379
is not not a good way to achieve

548
00:24:26,490 --> 00:24:29,700
stability I mean I<font color="#E5E5E5"> don't know how to set</font>

549
00:24:28,380 --> 00:24:33,180
the knob so I don't know how I would

550
00:24:29,700 --> 00:24:34,980
expect<font color="#E5E5E5"> you people to do so so</font><font color="#CCCCCC"> basically</font>

551
00:24:33,180 --> 00:24:37,650
you either have to<font color="#E5E5E5"> make things adaptive</font>

552
00:24:34,980 --> 00:24:39,420
so that the the routers and

553
00:24:37,650 --> 00:24:41,460
implementations are resilient enough to

554
00:24:39,420 --> 00:24:43,380
sort<font color="#E5E5E5"> of sense what's going on and adjust</font>

555
00:24:41,460 --> 00:24:46,740
the things that need<font color="#CCCCCC"> to be adjusted</font><font color="#E5E5E5"> or</font>

556
00:24:43,380 --> 00:24:48,960
better<font color="#E5E5E5"> yet you try to do the</font>

557
00:24:46,740 --> 00:24:50,910
implementations in such a way that those

558
00:24:48,960 --> 00:24:53,790
values of those parameters don't<font color="#E5E5E5"> really</font>

559
00:24:50,910 --> 00:24:56,700
matter in the stability sense you know

560
00:24:53,790 --> 00:24:58,379
if<font color="#CCCCCC"> SPF can run all day you don't care</font>

561
00:24:56,700 --> 00:25:03,600
<font color="#CCCCCC">what the scheduling interval is set for</font>

562
00:24:58,380 --> 00:25:05,790
spss and if you do have adaptivity keep

563
00:25:03,600 --> 00:25:08,070
it simple and keep it bounded because

564
00:25:05,790 --> 00:25:10,770
the network<font color="#E5E5E5"> is chaotic enough as it is</font>

565
00:25:08,070 --> 00:25:12,570
<font color="#E5E5E5">and trying to debug a network which is</font>

566
00:25:10,770 --> 00:25:14,940
sort of out<font color="#CCCCCC"> there turning its own knobs</font>

567
00:25:12,570 --> 00:25:18,750
in you know interesting<font color="#E5E5E5"> and complex ways</font>

568
00:25:14,940 --> 00:25:23,510
is going to be really<font color="#E5E5E5"> hard and that's my</font>

569
00:25:18,750 --> 00:25:23,510
talk thank you

570
00:25:25,240 --> 00:25:31,360
questions I may get<font color="#E5E5E5"> you out to lunch</font>

571
00:25:27,460 --> 00:25:33,840
early here for if we're lucky up I see

572
00:25:31,360 --> 00:25:33,840
somebody moving

573
00:25:38,850 --> 00:25:42,689
just want to<font color="#CCCCCC"> make one comment first</font><font color="#E5E5E5"> I</font>

574
00:25:41,010 --> 00:25:45,300
enjoyed<font color="#CCCCCC"> your talk thank you thank you</font>

575
00:25:42,690 --> 00:25:46,890
and about<font color="#CCCCCC"> the incremental algorithm 0 to</font>

576
00:25:45,300 --> 00:25:49,500
the<font color="#CCCCCC"> right and for</font><font color="#E5E5E5"> example the</font><font color="#CCCCCC"> times that</font>

577
00:25:46,890 --> 00:25:51,540
<font color="#CCCCCC">we have presented in the last manag the</font>

578
00:25:49,500 --> 00:25:52,950
<font color="#E5E5E5">foolish PS took like 3 millisecond and</font>

579
00:25:51,540 --> 00:25:54,659
the incremental tip like less than

580
00:25:52,950 --> 00:25:55,920
hundred microseconds es right order of

581
00:25:54,660 --> 00:25:58,620
<font color="#CCCCCC">monks the faster but three milliseconds</font>

582
00:25:55,920 --> 00:26:00,780
is already very good<font color="#E5E5E5"> right but one thing</font>

583
00:25:58,620 --> 00:26:03,030
that<font color="#CCCCCC"> it bends in</font><font color="#E5E5E5"> the longer term is</font>

584
00:26:00,780 --> 00:26:05,760
scalability yes as the size of the

585
00:26:03,030 --> 00:26:07,379
network gets bigger and bigger that<font color="#E5E5E5"> one</font>

586
00:26:05,760 --> 00:26:09,450
<font color="#CCCCCC">millisecond</font><font color="#E5E5E5"> or</font><font color="#CCCCCC"> 3 millisecond whatever</font>

587
00:26:07,380 --> 00:26:11,640
goes up<font color="#E5E5E5"> much higher much faster yes</font>

588
00:26:09,450 --> 00:26:13,860
standing in line is worse than linear so

589
00:26:11,640 --> 00:26:15,720
so if X to the group in the<font color="#E5E5E5"> longer term</font>

590
00:26:13,860 --> 00:26:17,580
perhaps not necessarily needed today to

591
00:26:15,720 --> 00:26:20,220
achieve such second collection right and

592
00:26:17,580 --> 00:26:22,470
and I I do agree with<font color="#CCCCCC"> that it's easy</font>

593
00:26:20,220 --> 00:26:25,350
they're really fat targets in<font color="#CCCCCC"> the</font>

594
00:26:22,470 --> 00:26:28,980
meantime and tinkering with<font color="#E5E5E5"> the SPF</font>

595
00:26:25,350 --> 00:26:30,389
algorithm is something that should be

596
00:26:28,980 --> 00:26:34,230
done carefully when we're not fighting

597
00:26:30,390 --> 00:26:36,540
fires and so forth but I<font color="#E5E5E5"> I agree if if</font>

598
00:26:34,230 --> 00:26:38,820
we can achieve a network big enough so

599
00:26:36,540 --> 00:26:40,620
<font color="#CCCCCC">that</font><font color="#E5E5E5"> the cost of that SPF becomes a</font>

600
00:26:38,820 --> 00:26:44,639
dominant part of the convergence time

601
00:26:40,620 --> 00:26:46,469
then I will<font color="#E5E5E5"> be really</font><font color="#CCCCCC"> happy on the other</font>

602
00:26:44,640 --> 00:26:48,120
hand I think<font color="#E5E5E5"> it's good</font><font color="#CCCCCC"> to get city and</font>

603
00:26:46,470 --> 00:26:50,370
then having<font color="#E5E5E5"> dick but that</font><font color="#CCCCCC"> is everything</font>

604
00:26:48,120 --> 00:26:51,870
is<font color="#E5E5E5"> actually good yeah I wasn't trying to</font>

605
00:26:50,370 --> 00:26:53,969
say that<font color="#E5E5E5"> it's not suddenly it should be</font>

606
00:26:51,870 --> 00:26:55,290
done but I'm elicitor priorities to sort

607
00:26:53,970 --> 00:27:00,860
of after a whole bunch of other stuff

608
00:26:55,290 --> 00:27:00,860
eggs anyone else

609
00:27:01,549 --> 00:27:06,610
I think I've<font color="#E5E5E5"> made up time</font><font color="#CCCCCC"> for everyone</font>

610
00:27:04,279 --> 00:27:06,610
thank you

