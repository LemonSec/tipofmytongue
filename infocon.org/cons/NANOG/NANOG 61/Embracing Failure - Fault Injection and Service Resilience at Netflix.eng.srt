1
00:00:05,930 --> 00:00:12,590
<font color="#CCCCCC">all</font><font color="#E5E5E5"> right welcome back</font>

2
00:00:08,389 --> 00:00:15,619
<font color="#E5E5E5">the homestretch</font><font color="#CCCCCC"> nanog 61</font><font color="#E5E5E5"> almost there</font><font color="#CCCCCC"> I</font>

3
00:00:12,590 --> 00:00:17,900
do<font color="#E5E5E5"> have one reminder out to complete the</font>

4
00:00:15,619 --> 00:00:20,000
surveys for<font color="#CCCCCC"> the content up</font><font color="#E5E5E5"> till now we</font>

5
00:00:17,900 --> 00:00:22,668
have one<font color="#E5E5E5"> more drawing for an Xbox one</font>

6
00:00:20,000 --> 00:00:24,198
<font color="#E5E5E5">coming up this afternoon so please fill</font>

7
00:00:22,669 --> 00:00:27,320
out the survey is either on<font color="#CCCCCC"> the website</font>

8
00:00:24,199 --> 00:00:33,410
or via<font color="#CCCCCC"> the guidebook and coming up now</font>

9
00:00:27,320 --> 00:00:37,190
we have Josh Evans with Netflix<font color="#E5E5E5"> Josh all</font>

10
00:00:33,410 --> 00:00:38,360
<font color="#E5E5E5">right hello I'm Josh Evans and I'm going</font>

11
00:00:37,190 --> 00:00:40,760
to talk to you<font color="#E5E5E5"> today about fault</font>

12
00:00:38,360 --> 00:00:45,950
injection<font color="#CCCCCC"> and service resiliency</font><font color="#E5E5E5"> and how</font>

13
00:00:40,760 --> 00:00:47,720
we think<font color="#CCCCCC"> about</font><font color="#E5E5E5"> that at Netflix</font><font color="#CCCCCC"> it's</font>

14
00:00:45,950 --> 00:00:50,390
<font color="#E5E5E5">supposed to progress</font><font color="#CCCCCC"> ah here</font><font color="#E5E5E5"> we go</font>

15
00:00:47,720 --> 00:00:53,120
so just by way<font color="#E5E5E5"> of introduction</font><font color="#CCCCCC"> I've been</font>

16
00:00:50,390 --> 00:00:55,280
in<font color="#CCCCCC"> technology for about</font><font color="#E5E5E5"> 24 years</font><font color="#CCCCCC"> started</font>

17
00:00:53,120 --> 00:00:56,750
out at<font color="#CCCCCC"> Borland International in tech</font>

18
00:00:55,280 --> 00:00:59,660
support<font color="#CCCCCC"> moved through doing tools</font>

19
00:00:56,750 --> 00:01:02,000
development<font color="#E5E5E5"> tests framed test framework</font>

20
00:00:59,660 --> 00:01:04,429
development<font color="#E5E5E5"> a few management roles went</font>

21
00:01:02,000 --> 00:01:06,950
to a failed<font color="#E5E5E5"> startup before I landed at</font>

22
00:01:04,430 --> 00:01:11,240
Netflix and I've stayed there ever since

23
00:01:06,950 --> 00:01:12,530
started there around 1999 so<font color="#E5E5E5"> I've moved</font>

24
00:01:11,240 --> 00:01:16,399
<font color="#E5E5E5">through a number of roles there as well</font>

25
00:01:12,530 --> 00:01:17,720
ecommerce<font color="#E5E5E5"> streaming and tools</font><font color="#CCCCCC"> services</font>

26
00:01:16,400 --> 00:01:19,010
and operations<font color="#E5E5E5"> have been kind of</font>

27
00:01:17,720 --> 00:01:23,720
fundamental to<font color="#CCCCCC"> what I've been doing for</font>

28
00:01:19,010 --> 00:01:26,090
<font color="#CCCCCC">quite some time my current role is</font>

29
00:01:23,720 --> 00:01:26,960
director<font color="#CCCCCC"> of operations engineering</font><font color="#E5E5E5"> and</font>

30
00:01:26,090 --> 00:01:29,390
I'm going<font color="#CCCCCC"> to talk a little</font><font color="#E5E5E5"> bit</font><font color="#CCCCCC"> about</font>

31
00:01:26,960 --> 00:01:30,979
what that<font color="#E5E5E5"> group is about</font><font color="#CCCCCC"> but first I</font>

32
00:01:29,390 --> 00:01:32,780
want to just<font color="#CCCCCC"> introduce you to the</font>

33
00:01:30,979 --> 00:01:38,330
Netflix<font color="#E5E5E5"> ecosystem and give you a sense</font>

34
00:01:32,780 --> 00:01:39,979
of<font color="#CCCCCC"> what</font><font color="#E5E5E5"> that's about so we have many</font>

35
00:01:38,330 --> 00:01:42,500
<font color="#CCCCCC">devices out there in the in the field</font>

36
00:01:39,979 --> 00:01:45,619
doing<font color="#E5E5E5"> video streaming for those of you</font>

37
00:01:42,500 --> 00:01:47,060
who know about<font color="#CCCCCC"> Netflix we have a control</font>

38
00:01:45,619 --> 00:01:48,409
plane in the Amazon Cloud which<font color="#E5E5E5"> is</font>

39
00:01:47,060 --> 00:01:50,299
<font color="#E5E5E5">predominantly what I'm going to talk</font>

40
00:01:48,409 --> 00:01:52,299
<font color="#CCCCCC">about</font><font color="#E5E5E5"> today but we also do</font><font color="#CCCCCC"> have</font>

41
00:01:50,299 --> 00:01:54,740
third-party<font color="#E5E5E5"> providers that we</font><font color="#CCCCCC"> work with</font>

42
00:01:52,299 --> 00:01:57,170
<font color="#E5E5E5">for static</font><font color="#CCCCCC"> content delivery and</font>

43
00:01:54,740 --> 00:02:01,759
<font color="#E5E5E5">authentication services and we also do</font>

44
00:01:57,170 --> 00:02:03,950
have<font color="#CCCCCC"> our</font><font color="#E5E5E5"> own CDN</font><font color="#CCCCCC"> so we've got</font><font color="#E5E5E5"> roughly 48</font>

45
00:02:01,759 --> 00:02:05,420
<font color="#E5E5E5">million customers now and growing we're</font>

46
00:02:03,950 --> 00:02:06,320
in<font color="#CCCCCC"> about 41</font><font color="#E5E5E5"> countries and we've already</font>

47
00:02:05,420 --> 00:02:08,239
<font color="#E5E5E5">announced that we're going to be</font>

48
00:02:06,320 --> 00:02:11,450
expanding internationally later in the

49
00:02:08,239 --> 00:02:13,400
year any given<font color="#E5E5E5"> month</font><font color="#CCCCCC"> we serve up over a</font>

50
00:02:11,450 --> 00:02:15,950
billion hours<font color="#E5E5E5"> of viewing to our</font>

51
00:02:13,400 --> 00:02:17,930
customers and we<font color="#CCCCCC"> are on over a thousand</font>

52
00:02:15,950 --> 00:02:21,019
different<font color="#E5E5E5"> device</font><font color="#CCCCCC"> types including D TVs</font>

53
00:02:17,930 --> 00:02:24,150
game consoles Android devices<font color="#CCCCCC"> etc</font>

54
00:02:21,020 --> 00:02:26,040
we're in<font color="#CCCCCC"> three</font><font color="#E5E5E5"> AWS</font><font color="#CCCCCC"> regions and</font><font color="#E5E5E5"> we have</font>

55
00:02:24,150 --> 00:02:28,620
hundreds of services that we<font color="#E5E5E5"> deploy into</font>

56
00:02:26,040 --> 00:02:30,269
<font color="#E5E5E5">each one of those regions and at peak</font>

57
00:02:28,620 --> 00:02:34,740
we're<font color="#E5E5E5"> handling hundreds of thousands of</font>

58
00:02:30,270 --> 00:02:36,510
requests<font color="#CCCCCC"> per second and we also as</font><font color="#E5E5E5"> I</font>

59
00:02:34,740 --> 00:02:38,570
<font color="#CCCCCC">mentioned</font><font color="#E5E5E5"> you have partner provided</font>

60
00:02:36,510 --> 00:02:41,850
services that we integrate<font color="#E5E5E5"> with as well</font>

61
00:02:38,570 --> 00:02:44,340
our CDN<font color="#E5E5E5"> serves petabytes of data stores</font>

62
00:02:41,850 --> 00:02:47,250
petabytes of data and at peak is serving

63
00:02:44,340 --> 00:02:50,220
out<font color="#E5E5E5"> traffic at terabits per second and</font>

64
00:02:47,250 --> 00:02:51,990
when we think<font color="#E5E5E5"> about how we operate</font><font color="#CCCCCC"> all</font>

65
00:02:50,220 --> 00:02:55,200
<font color="#CCCCCC">of that</font><font color="#E5E5E5"> and what we want to accomplish</font>

66
00:02:51,990 --> 00:02:58,080
the focus of my team<font color="#E5E5E5"> is to try to drive</font>

67
00:02:55,200 --> 00:02:59,820
<font color="#E5E5E5">higher quality and higher velocity for</font>

68
00:02:58,080 --> 00:03:01,860
Netflix as a whole<font color="#E5E5E5"> and this is a</font>

69
00:02:59,820 --> 00:03:04,019
hypothetical<font color="#E5E5E5"> graph here showing</font>

70
00:03:01,860 --> 00:03:06,090
availability and<font color="#CCCCCC"> it's</font><font color="#E5E5E5"> tension with rate</font>

71
00:03:04,020 --> 00:03:07,620
of change and<font color="#E5E5E5"> the premise</font><font color="#CCCCCC"> here is that</font>

72
00:03:06,090 --> 00:03:09,270
as<font color="#E5E5E5"> you increase</font><font color="#CCCCCC"> your rate of change</font>

73
00:03:07,620 --> 00:03:10,830
you're<font color="#E5E5E5"> going to lower your availability</font>

74
00:03:09,270 --> 00:03:13,500
<font color="#E5E5E5">and if you want to raise your</font>

75
00:03:10,830 --> 00:03:16,650
<font color="#CCCCCC">availability for instance we would</font><font color="#E5E5E5"> like</font>

76
00:03:13,500 --> 00:03:19,680
<font color="#CCCCCC">to be pretty</font><font color="#E5E5E5"> much standing at about four</font>

77
00:03:16,650 --> 00:03:21,480
nines availability<font color="#CCCCCC"> it seems that you</font>

78
00:03:19,680 --> 00:03:24,750
<font color="#E5E5E5">would need to slow</font><font color="#CCCCCC"> down in</font><font color="#E5E5E5"> order</font><font color="#CCCCCC"> to do</font>

79
00:03:21,480 --> 00:03:26,190
that<font color="#E5E5E5"> the goal of my team</font><font color="#CCCCCC"> and a larger</font>

80
00:03:24,750 --> 00:03:28,530
goal for Netflix<font color="#CCCCCC"> Engineering as a whole</font>

81
00:03:26,190 --> 00:03:30,540
is<font color="#CCCCCC"> to try</font><font color="#E5E5E5"> to shift that curve such that</font>

82
00:03:28,530 --> 00:03:32,220
<font color="#CCCCCC">we can actually advance on both fronts</font>

83
00:03:30,540 --> 00:03:35,010
<font color="#E5E5E5">and we do that through engineering</font>

84
00:03:32,220 --> 00:03:36,989
<font color="#E5E5E5">efforts we do it through operations and</font>

85
00:03:35,010 --> 00:03:39,000
we do it by evangelizing best practices

86
00:03:36,989 --> 00:03:40,709
<font color="#E5E5E5">throughout our organization</font><font color="#CCCCCC"> I mean at</font>

87
00:03:39,000 --> 00:03:42,510
the end<font color="#E5E5E5"> of the day it's really about a</font>

88
00:03:40,709 --> 00:03:46,200
<font color="#E5E5E5">commitment to continuous improvement</font><font color="#CCCCCC"> on</font>

89
00:03:42,510 --> 00:03:47,670
both<font color="#E5E5E5"> of those angles of attack so when</font>

90
00:03:46,200 --> 00:03:49,518
we talk about availability<font color="#E5E5E5"> it's really</font>

91
00:03:47,670 --> 00:03:51,329
this experience that we're talking<font color="#CCCCCC"> about</font>

92
00:03:49,519 --> 00:03:53,190
<font color="#E5E5E5">customers need</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> be able to sign</font><font color="#CCCCCC"> up</font>

93
00:03:51,330 --> 00:03:55,080
<font color="#E5E5E5">they need to be able to activate a</font>

94
00:03:53,190 --> 00:03:56,250
device then you<font color="#CCCCCC"> drill the brows and find</font>

95
00:03:55,080 --> 00:03:57,900
<font color="#E5E5E5">something they want to watch and when</font>

96
00:03:56,250 --> 00:04:01,440
they<font color="#E5E5E5"> hit that play button</font><font color="#CCCCCC"> it needs to</font>

97
00:03:57,900 --> 00:04:04,290
<font color="#CCCCCC">work and</font><font color="#E5E5E5"> this is</font><font color="#CCCCCC"> what keeps us up</font><font color="#E5E5E5"> at</font>

98
00:04:01,440 --> 00:04:05,190
night<font color="#E5E5E5"> these error dialogues I'm hearing</font>

99
00:04:04,290 --> 00:04:07,140
some<font color="#CCCCCC"> laugh some of</font><font color="#E5E5E5"> you might</font><font color="#CCCCCC"> have</font>

100
00:04:05,190 --> 00:04:09,060
actually<font color="#E5E5E5"> seen this before</font>

101
00:04:07,140 --> 00:04:12,839
and this is<font color="#E5E5E5"> something that we</font><font color="#CCCCCC"> are really</font>

102
00:04:09,060 --> 00:04:19,048
<font color="#CCCCCC">working to prevent so the reality is</font>

103
00:04:12,840 --> 00:04:21,090
<font color="#E5E5E5">that failures happen</font><font color="#CCCCCC"> all the</font><font color="#E5E5E5"> time discs</font>

104
00:04:19,048 --> 00:04:24,570
will fail<font color="#E5E5E5"> your power is</font><font color="#CCCCCC"> going to</font><font color="#E5E5E5"> go out</font>

105
00:04:21,089 --> 00:04:26,099
at some<font color="#CCCCCC"> point</font><font color="#E5E5E5"> and generators</font><font color="#CCCCCC"> do</font>

106
00:04:24,570 --> 00:04:28,710
sometimes fail as<font color="#CCCCCC"> well so your backup</font>

107
00:04:26,100 --> 00:04:30,479
will fail<font color="#CCCCCC"> we're</font><font color="#E5E5E5"> human and so we're gonna</font>

108
00:04:28,710 --> 00:04:32,010
<font color="#CCCCCC">introduce bugs into</font><font color="#E5E5E5"> our environment</font>

109
00:04:30,479 --> 00:04:33,840
<font color="#E5E5E5">we're gonna make mistakes while we're</font>

110
00:04:32,010 --> 00:04:35,480
configure if configuring and operating

111
00:04:33,840 --> 00:04:39,650
our environment

112
00:04:35,480 --> 00:04:41,910
and so<font color="#CCCCCC"> failure is ultimately unavoidable</font>

113
00:04:39,650 --> 00:04:43,349
so we start out<font color="#CCCCCC"> by</font><font color="#E5E5E5"> saying well let's</font>

114
00:04:41,910 --> 00:04:45,510
design for failure let's assume that

115
00:04:43,350 --> 00:04:46,950
<font color="#CCCCCC">that's going</font><font color="#E5E5E5"> to happen and do all of the</font>

116
00:04:45,510 --> 00:04:49,469
traditional things<font color="#CCCCCC"> that</font><font color="#E5E5E5"> you would do</font><font color="#CCCCCC"> to</font>

117
00:04:46,950 --> 00:04:51,539
<font color="#E5E5E5">defend against it so you've got</font>

118
00:04:49,470 --> 00:04:52,890
<font color="#E5E5E5">inception handling we embrace</font><font color="#CCCCCC"> auto</font>

119
00:04:51,540 --> 00:04:55,860
<font color="#CCCCCC">scaling which I'll talk about in</font><font color="#E5E5E5"> a</font>

120
00:04:52,890 --> 00:04:57,690
little<font color="#CCCCCC"> bit</font><font color="#E5E5E5"> more detail we embrace</font>

121
00:04:55,860 --> 00:04:59,400
redundancy and<font color="#E5E5E5"> turn the forms of</font>

122
00:04:57,690 --> 00:05:01,950
<font color="#E5E5E5">failover horizontal scaling of those</font>

123
00:04:59,400 --> 00:05:04,109
kinds of<font color="#E5E5E5"> disciplines we embrace fault</font>

124
00:05:01,950 --> 00:05:05,520
tolerance and fault isolation<font color="#CCCCCC"> so that</font>

125
00:05:04,110 --> 00:05:07,920
systems that are dependent on<font color="#E5E5E5"> other</font>

126
00:05:05,520 --> 00:05:09,919
systems are as resilient<font color="#E5E5E5"> as possible</font>

127
00:05:07,920 --> 00:05:12,330
when those<font color="#E5E5E5"> other systems are</font><font color="#CCCCCC"> unavailable</font>

128
00:05:09,920 --> 00:05:14,130
and<font color="#E5E5E5"> we have a concept of fall backs</font><font color="#CCCCCC"> and</font>

129
00:05:12,330 --> 00:05:16,229
<font color="#CCCCCC">degraded experiences so that even</font><font color="#E5E5E5"> if we</font>

130
00:05:14,130 --> 00:05:17,610
<font color="#E5E5E5">can't provide the best experience</font><font color="#CCCCCC"> we can</font>

131
00:05:16,230 --> 00:05:19,650
provide an experience<font color="#E5E5E5"> to our customers</font>

132
00:05:17,610 --> 00:05:23,670
<font color="#CCCCCC">when things are running into into</font>

133
00:05:19,650 --> 00:05:25,620
problems<font color="#CCCCCC"> so our goal here</font><font color="#E5E5E5"> is</font><font color="#CCCCCC"> to protect</font>

134
00:05:23,670 --> 00:05:31,080
the<font color="#E5E5E5"> customer from these</font><font color="#CCCCCC"> failures</font><font color="#E5E5E5"> as much</font>

135
00:05:25,620 --> 00:05:34,710
as possible<font color="#E5E5E5"> so is that enough</font><font color="#CCCCCC"> I would</font>

136
00:05:31,080 --> 00:05:36,539
<font color="#E5E5E5">argue that no it's not not</font><font color="#CCCCCC"> even close</font>

137
00:05:34,710 --> 00:05:38,370
how do<font color="#E5E5E5"> we actually know</font><font color="#CCCCCC"> of what we've</font>

138
00:05:36,540 --> 00:05:41,130
designed<font color="#E5E5E5"> and what we've code it</font><font color="#CCCCCC"> actually</font>

139
00:05:38,370 --> 00:05:41,760
works<font color="#E5E5E5"> does the system actually work</font><font color="#CCCCCC"> as</font>

140
00:05:41,130 --> 00:05:44,630
designed

141
00:05:41,760 --> 00:05:47,070
is it as resilient<font color="#E5E5E5"> as</font><font color="#CCCCCC"> we think it is and</font>

142
00:05:44,630 --> 00:05:49,350
how do we prevent drifting into<font color="#CCCCCC"> failure</font>

143
00:05:47,070 --> 00:05:50,909
once we've<font color="#E5E5E5"> gotten into a good state</font><font color="#CCCCCC"> even</font>

144
00:05:49,350 --> 00:05:52,650
<font color="#CCCCCC">in the</font><font color="#E5E5E5"> most perfect world even if we get</font>

145
00:05:50,910 --> 00:05:56,729
<font color="#E5E5E5">it all right at one point in time it</font>

146
00:05:52,650 --> 00:05:59,370
<font color="#E5E5E5">will change and so</font><font color="#CCCCCC"> we test for</font><font color="#E5E5E5"> failure</font>

147
00:05:56,729 --> 00:06:00,630
<font color="#E5E5E5">as another strategy and again we do a</font>

148
00:05:59,370 --> 00:06:02,180
lot of the bread-and-butter<font color="#E5E5E5"> things here</font>

149
00:06:00,630 --> 00:06:04,590
unit testing at<font color="#CCCCCC"> the module level</font>

150
00:06:02,180 --> 00:06:06,990
<font color="#CCCCCC">integration</font><font color="#E5E5E5"> testing at</font><font color="#CCCCCC"> the service level</font>

151
00:06:04,590 --> 00:06:08,460
stress and load tests and even

152
00:06:06,990 --> 00:06:10,530
simulations of testing<font color="#CCCCCC"> out various</font>

153
00:06:08,460 --> 00:06:13,770
<font color="#E5E5E5">scenarios with combinations of services</font>

154
00:06:10,530 --> 00:06:16,729
and testing does increase our<font color="#CCCCCC"> confidence</font>

155
00:06:13,770 --> 00:06:20,789
but that's also<font color="#E5E5E5"> really not quite enough</font>

156
00:06:16,729 --> 00:06:23,490
<font color="#E5E5E5">as we've discovered so testing</font>

157
00:06:20,790 --> 00:06:26,820
distributed systems is hard<font color="#E5E5E5"> we've got</font>

158
00:06:23,490 --> 00:06:28,500
massive<font color="#E5E5E5"> changing</font><font color="#CCCCCC"> datasets we're at</font><font color="#E5E5E5"> web</font>

159
00:06:26,820 --> 00:06:30,390
scale<font color="#E5E5E5"> so hundreds of thousands of</font>

160
00:06:28,500 --> 00:06:33,030
transactions per second running<font color="#E5E5E5"> through</font>

161
00:06:30,390 --> 00:06:34,860
a complex<font color="#CCCCCC"> distributed system the</font>

162
00:06:33,030 --> 00:06:37,349
interactions are complicated<font color="#E5E5E5"> the</font>

163
00:06:34,860 --> 00:06:38,669
information flows are complicated<font color="#E5E5E5"> and it</font>

164
00:06:37,350 --> 00:06:40,169
gets<font color="#E5E5E5"> even more interesting</font><font color="#CCCCCC"> as things</font>

165
00:06:38,669 --> 00:06:41,609
become asynchronous and<font color="#E5E5E5"> we're moving</font>

166
00:06:40,169 --> 00:06:43,729
<font color="#E5E5E5">more and more towards asynchronous</font>

167
00:06:41,610 --> 00:06:45,620
models

168
00:06:43,729 --> 00:06:46,998
third party services<font color="#E5E5E5"> add some</font>

169
00:06:45,620 --> 00:06:50,180
<font color="#E5E5E5">interesting variables we have less</font>

170
00:06:46,999 --> 00:06:51,409
<font color="#E5E5E5">control over those and while we're doing</font>

171
00:06:50,180 --> 00:06:52,789
all<font color="#CCCCCC"> of</font><font color="#E5E5E5"> these things we're constantly</font>

172
00:06:51,409 --> 00:07:00,229
changing<font color="#CCCCCC"> this</font><font color="#E5E5E5"> environment it's</font><font color="#CCCCCC"> not a</font>

173
00:06:52,789 --> 00:07:03,139
static<font color="#CCCCCC"> environment</font><font color="#E5E5E5"> by any means so what</font>

174
00:07:00,229 --> 00:07:05,058
if we actually inject failure into<font color="#E5E5E5"> our</font>

175
00:07:03,139 --> 00:07:08,389
<font color="#CCCCCC">environment</font><font color="#E5E5E5"> we do in a controlled</font><font color="#CCCCCC"> way to</font>

176
00:07:05,059 --> 00:07:10,009
see how things break<font color="#CCCCCC"> and when we</font><font color="#E5E5E5"> talk</font>

177
00:07:08,389 --> 00:07:11,509
about embracing<font color="#E5E5E5"> failure we actually</font>

178
00:07:10,009 --> 00:07:13,219
don't<font color="#E5E5E5"> talk about</font><font color="#CCCCCC"> a safe version</font><font color="#E5E5E5"> of</font>

179
00:07:11,509 --> 00:07:14,569
embracing<font color="#CCCCCC"> failure in our</font><font color="#E5E5E5"> test</font>

180
00:07:13,219 --> 00:07:17,870
environment we actually do it in our

181
00:07:14,569 --> 00:07:19,460
production<font color="#CCCCCC"> environment</font><font color="#E5E5E5"> we don't</font><font color="#CCCCCC"> want to</font>

182
00:07:17,870 --> 00:07:20,749
wait for random failures to happen

183
00:07:19,460 --> 00:07:22,399
<font color="#E5E5E5">especially at two o'clock in the morning</font>

184
00:07:20,749 --> 00:07:23,960
<font color="#E5E5E5">nobody likes to get woken up at 2:00 in</font>

185
00:07:22,399 --> 00:07:26,389
<font color="#CCCCCC">the morning</font><font color="#E5E5E5"> with a failure</font><font color="#CCCCCC"> I start</font>

186
00:07:23,960 --> 00:07:28,609
<font color="#E5E5E5">trying to figure</font><font color="#CCCCCC"> out</font><font color="#E5E5E5"> what's going on so</font>

187
00:07:26,389 --> 00:07:30,770
we want<font color="#E5E5E5"> to cause failure so that we can</font>

188
00:07:28,610 --> 00:07:32,779
<font color="#CCCCCC">validate our resiliency</font><font color="#E5E5E5"> we want to test</font>

189
00:07:30,770 --> 00:07:35,049
<font color="#E5E5E5">our</font><font color="#CCCCCC"> design</font><font color="#E5E5E5"> assumptions by trust by</font>

190
00:07:32,779 --> 00:07:36,979
<font color="#E5E5E5">stressing them with real production load</font>

191
00:07:35,050 --> 00:07:38,990
<font color="#E5E5E5">and we want to remove all the</font>

192
00:07:36,979 --> 00:07:40,339
uncertainty or as<font color="#E5E5E5"> much as we can by</font>

193
00:07:38,990 --> 00:07:42,080
forcing<font color="#E5E5E5"> these failures on a regular</font>

194
00:07:40,339 --> 00:07:44,240
basis so<font color="#CCCCCC"> as</font><font color="#E5E5E5"> we're changing</font><font color="#CCCCCC"> our codebase</font>

195
00:07:42,080 --> 00:07:47,779
we can keep affirming<font color="#E5E5E5"> that that things</font>

196
00:07:44,240 --> 00:07:50,180
work as we expect and so this led to<font color="#E5E5E5"> the</font>

197
00:07:47,779 --> 00:07:53,629
creation of what<font color="#CCCCCC"> we fondly call the</font>

198
00:07:50,180 --> 00:07:55,550
simian army<font color="#E5E5E5"> and before I get</font><font color="#CCCCCC"> into that I</font>

199
00:07:53,629 --> 00:07:57,649
want<font color="#CCCCCC"> to talk about two key concepts</font><font color="#E5E5E5"> that</font>

200
00:07:55,550 --> 00:08:00,469
are<font color="#E5E5E5"> pretty</font><font color="#CCCCCC"> critical to the concept of</font>

201
00:07:57,649 --> 00:08:02,149
fault injection the first one is the

202
00:08:00,469 --> 00:08:04,939
concept<font color="#E5E5E5"> of auto scaling and in the</font>

203
00:08:02,149 --> 00:08:06,919
Amazon world<font color="#CCCCCC"> auto scaling</font><font color="#E5E5E5"> is a virtual</font>

204
00:08:04,939 --> 00:08:09,169
instance cluster or it works within<font color="#E5E5E5"> a</font>

205
00:08:06,919 --> 00:08:10,849
virtual<font color="#E5E5E5"> instant cluster that scales up</font>

206
00:08:09,169 --> 00:08:12,830
<font color="#E5E5E5">and down with traffic this is</font><font color="#CCCCCC"> a graph</font><font color="#E5E5E5"> of</font>

207
00:08:10,849 --> 00:08:14,990
our<font color="#E5E5E5"> week over week trends and you can</font>

208
00:08:12,830 --> 00:08:16,849
see peaks and valleys as we move into

209
00:08:14,990 --> 00:08:19,939
the evening<font color="#CCCCCC"> hours and</font><font color="#E5E5E5"> move down into the</font>

210
00:08:16,849 --> 00:08:22,248
<font color="#E5E5E5">early</font><font color="#CCCCCC"> morning hours we rely on both</font>

211
00:08:19,939 --> 00:08:23,959
reactive mechanisms provided<font color="#E5E5E5"> by Amazon's</font>

212
00:08:22,249 --> 00:08:25,639
infrastructure but<font color="#CCCCCC"> we also have our own</font>

213
00:08:23,959 --> 00:08:27,169
predictive mechanisms<font color="#E5E5E5"> based on these</font>

214
00:08:25,639 --> 00:08:29,089
<font color="#E5E5E5">trends we actually know when things</font><font color="#CCCCCC"> need</font>

215
00:08:27,169 --> 00:08:31,549
to scale<font color="#E5E5E5"> up</font><font color="#CCCCCC"> and so we can proactively</font>

216
00:08:29,089 --> 00:08:34,849
start<font color="#E5E5E5"> spinning up instances as we ramp</font>

217
00:08:31,550 --> 00:08:35,959
<font color="#E5E5E5">it a really important factor is not just</font>

218
00:08:34,849 --> 00:08:38,899
the scaling dimension<font color="#E5E5E5"> but the</font>

219
00:08:35,958 --> 00:08:40,638
replacement<font color="#E5E5E5"> dimension so if we remove an</font>

220
00:08:38,899 --> 00:08:42,740
instance from production<font color="#E5E5E5"> on purpose to</font>

221
00:08:40,639 --> 00:08:43,729
go and try and<font color="#E5E5E5"> break something we want</font>

222
00:08:42,740 --> 00:08:45,500
<font color="#E5E5E5">to make sure</font><font color="#CCCCCC"> that it's going</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> get</font>

223
00:08:43,729 --> 00:08:47,149
<font color="#E5E5E5">replaced again with a healthy instances</font>

224
00:08:45,500 --> 00:08:50,899
so that's a great<font color="#E5E5E5"> feature that's</font>

225
00:08:47,149 --> 00:08:53,810
provided as well another key concept<font color="#E5E5E5"> is</font>

226
00:08:50,899 --> 00:08:54,829
circuit breakers and fall backs<font color="#E5E5E5"> and I'm</font>

227
00:08:53,810 --> 00:08:56,599
not going to walk through<font color="#CCCCCC"> this entire</font>

228
00:08:54,829 --> 00:08:57,279
diagram<font color="#E5E5E5"> it's fairly complex but the</font>

229
00:08:56,600 --> 00:08:59,259
concept

230
00:08:57,279 --> 00:09:02,319
is that every single<font color="#E5E5E5"> request that comes</font>

231
00:08:59,259 --> 00:09:03,939
in<font color="#E5E5E5"> that's going to go and reach out to a</font>

232
00:09:02,319 --> 00:09:06,939
separate distributed system is wrapped

233
00:09:03,939 --> 00:09:08,949
in a dependency command object<font color="#CCCCCC"> and if</font>

234
00:09:06,939 --> 00:09:10,449
that<font color="#CCCCCC"> should</font><font color="#E5E5E5"> fail if</font><font color="#CCCCCC"> it the</font><font color="#E5E5E5"> connection</font>

235
00:09:08,949 --> 00:09:12,008
<font color="#CCCCCC">should be</font><font color="#E5E5E5"> too slow if it should</font>

236
00:09:10,449 --> 00:09:14,620
<font color="#E5E5E5">completely fail there's a fallback</font>

237
00:09:12,009 --> 00:09:16,389
<font color="#CCCCCC">built-in</font><font color="#E5E5E5"> and if too many of those happen</font>

238
00:09:14,620 --> 00:09:17,980
within<font color="#E5E5E5"> a short</font><font color="#CCCCCC"> period of time</font><font color="#E5E5E5"> will</font>

239
00:09:16,389 --> 00:09:19,930
<font color="#CCCCCC">actually</font><font color="#E5E5E5"> open the circuit and we will</font>

240
00:09:17,980 --> 00:09:21,490
stop sending<font color="#E5E5E5"> traffic to</font><font color="#CCCCCC"> that one</font>

241
00:09:19,930 --> 00:09:23,138
<font color="#E5E5E5">particular application</font><font color="#CCCCCC"> to that</font>

242
00:09:21,490 --> 00:09:24,910
dependency<font color="#E5E5E5"> so that all the other</font>

243
00:09:23,139 --> 00:09:26,949
dependencies<font color="#E5E5E5"> and all the other requests</font>

244
00:09:24,910 --> 00:09:30,459
can<font color="#CCCCCC"> be satisfied</font><font color="#E5E5E5"> and we fail fast until</font>

245
00:09:26,949 --> 00:09:36,069
that service comes back up so let's

246
00:09:30,459 --> 00:09:38,888
start with<font color="#E5E5E5"> the basics here let's start</font>

247
00:09:36,069 --> 00:09:41,498
with an instance failing and this was

248
00:09:38,889 --> 00:09:44,519
<font color="#E5E5E5">really this is related to the first of</font>

249
00:09:41,499 --> 00:09:46,990
<font color="#E5E5E5">the simian army this</font><font color="#CCCCCC"> is chaos monkey</font><font color="#E5E5E5"> and</font>

250
00:09:44,519 --> 00:09:48,370
chaos monkey<font color="#CCCCCC"> you really want</font><font color="#E5E5E5"> to think</font>

251
00:09:46,990 --> 00:09:50,439
<font color="#E5E5E5">about it as imagine that you've</font><font color="#CCCCCC"> let a</font>

252
00:09:48,370 --> 00:09:51,730
monkey loose in your data center<font color="#E5E5E5"> and</font>

253
00:09:50,439 --> 00:09:53,889
he's pulling out cables and<font color="#E5E5E5"> he's</font>

254
00:09:51,730 --> 00:09:55,809
pressing<font color="#E5E5E5"> buttons smashing boxes together</font>

255
00:09:53,889 --> 00:09:59,379
<font color="#E5E5E5">and creating kind of random effects</font>

256
00:09:55,809 --> 00:10:00,790
<font color="#E5E5E5">within your environment</font><font color="#CCCCCC"> we obviously do</font>

257
00:09:59,379 --> 00:10:01,990
the string business hours<font color="#E5E5E5"> because again</font>

258
00:10:00,790 --> 00:10:05,170
we<font color="#E5E5E5"> want to get woken up to</font><font color="#CCCCCC"> 2</font><font color="#E5E5E5"> o'clock in</font>

259
00:10:01,990 --> 00:10:08,019
<font color="#CCCCCC">the morning when</font><font color="#E5E5E5"> this is running</font><font color="#CCCCCC"> but the</font>

260
00:10:05,170 --> 00:10:10,089
the benefit here is<font color="#E5E5E5"> that</font><font color="#CCCCCC"> we get to</font><font color="#E5E5E5"> test</font>

261
00:10:08,019 --> 00:10:11,259
this<font color="#E5E5E5"> failure on a very regular basis you</font>

262
00:10:10,089 --> 00:10:12,759
know our average cluster will have a

263
00:10:11,259 --> 00:10:17,160
failure happen<font color="#E5E5E5"> every</font><font color="#CCCCCC"> day that's</font>

264
00:10:12,759 --> 00:10:19,660
scheduled that's what we've learned

265
00:10:17,160 --> 00:10:23,379
primarily from this<font color="#E5E5E5"> this particular</font>

266
00:10:19,660 --> 00:10:24,759
<font color="#E5E5E5">exercise</font><font color="#CCCCCC"> is</font><font color="#E5E5E5"> that state is problematic if</font>

267
00:10:23,379 --> 00:10:26,050
you have stateless systems and you kill

268
00:10:24,759 --> 00:10:28,209
them<font color="#CCCCCC"> they usually spin up very quickly</font>

269
00:10:26,050 --> 00:10:29,800
<font color="#E5E5E5">and they</font><font color="#CCCCCC"> can be replaced</font><font color="#E5E5E5"> if you</font><font color="#CCCCCC"> have</font>

270
00:10:28,209 --> 00:10:31,930
state it takes<font color="#CCCCCC"> a</font><font color="#E5E5E5"> while to accumulate</font>

271
00:10:29,800 --> 00:10:34,029
<font color="#E5E5E5">state and for this reason we've actually</font>

272
00:10:31,930 --> 00:10:36,430
<font color="#E5E5E5">taken our time</font><font color="#CCCCCC"> getting around</font><font color="#E5E5E5"> to chaos</font>

273
00:10:34,029 --> 00:10:37,839
<font color="#CCCCCC">monkey for things like Cassandra where</font>

274
00:10:36,430 --> 00:10:40,979
you actually<font color="#E5E5E5"> take out a node and it has</font>

275
00:10:37,839 --> 00:10:43,750
to go get replaced<font color="#E5E5E5"> and reboot strapped</font>

276
00:10:40,980 --> 00:10:45,250
<font color="#CCCCCC">auto replacement works really well</font><font color="#E5E5E5"> so</font>

277
00:10:43,750 --> 00:10:48,519
that's<font color="#E5E5E5"> been a quite a successful</font><font color="#CCCCCC"> thing</font>

278
00:10:45,250 --> 00:10:50,319
for us but surviving a single instance

279
00:10:48,519 --> 00:10:51,699
failure<font color="#E5E5E5"> really isn't enough</font><font color="#CCCCCC"> this is</font>

280
00:10:50,319 --> 00:10:55,089
<font color="#CCCCCC">pretty basic stuff it's</font><font color="#E5E5E5"> been working</font>

281
00:10:51,699 --> 00:10:56,740
<font color="#E5E5E5">well</font><font color="#CCCCCC"> for</font><font color="#E5E5E5"> us for quite some time so let's</font>

282
00:10:55,089 --> 00:10:59,350
<font color="#CCCCCC">move up</font><font color="#E5E5E5"> a level and let's say</font><font color="#CCCCCC"> now your</font>

283
00:10:56,740 --> 00:11:01,240
<font color="#E5E5E5">data center fails in the Amazon world</font>

284
00:10:59,350 --> 00:11:02,769
<font color="#E5E5E5">data centers are called availability</font>

285
00:11:01,240 --> 00:11:06,040
zones and they are clustered<font color="#CCCCCC"> into</font>

286
00:11:02,769 --> 00:11:09,370
regions and we created<font color="#CCCCCC"> another member of</font>

287
00:11:06,040 --> 00:11:11,480
the simian<font color="#E5E5E5"> army</font><font color="#CCCCCC"> chaos gorilla to take</font>

288
00:11:09,370 --> 00:11:14,270
out an availability<font color="#E5E5E5"> zone</font>

289
00:11:11,480 --> 00:11:16,310
so we're simulating<font color="#E5E5E5"> this we have a three</font>

290
00:11:14,270 --> 00:11:19,460
zone configuration in the United States

291
00:11:16,310 --> 00:11:21,079
and in<font color="#CCCCCC"> Europe and we eliminate one</font><font color="#E5E5E5"> zone</font>

292
00:11:19,460 --> 00:11:22,610
<font color="#CCCCCC">and then we want to</font><font color="#E5E5E5"> make sure that the</font>

293
00:11:21,080 --> 00:11:26,450
other zones can actually handle all the

294
00:11:22,610 --> 00:11:27,830
traffic that<font color="#CCCCCC"> things fail correctly and</font>

295
00:11:26,450 --> 00:11:29,420
<font color="#E5E5E5">what we encountered the</font><font color="#CCCCCC"> first time that</font>

296
00:11:27,830 --> 00:11:31,700
we ran<font color="#E5E5E5"> this or early on this</font><font color="#CCCCCC"> was</font>

297
00:11:29,420 --> 00:11:33,410
sometime<font color="#CCCCCC"> last year we found that we</font>

298
00:11:31,700 --> 00:11:35,840
actually<font color="#E5E5E5"> did kind of perturb things</font>

299
00:11:33,410 --> 00:11:37,850
quite a bit<font color="#CCCCCC"> this</font><font color="#E5E5E5"> is again</font><font color="#CCCCCC"> our</font><font color="#E5E5E5"> starts per</font>

300
00:11:35,840 --> 00:11:39,530
second over<font color="#CCCCCC"> a much narrower window and</font>

301
00:11:37,850 --> 00:11:41,390
you can<font color="#E5E5E5"> see that we induced some</font>

302
00:11:39,530 --> 00:11:45,520
<font color="#CCCCCC">variability in our starts per second</font>

303
00:11:41,390 --> 00:11:48,110
graph few things we<font color="#CCCCCC"> learn from</font><font color="#E5E5E5"> this</font>

304
00:11:45,520 --> 00:11:50,750
<font color="#CCCCCC">large-scale events are</font><font color="#E5E5E5"> really kind</font><font color="#CCCCCC"> of</font>

305
00:11:48,110 --> 00:11:52,700
hard<font color="#E5E5E5"> to simulate taking down hundreds of</font>

306
00:11:50,750 --> 00:11:54,620
<font color="#E5E5E5">clusters and thousands of instances</font><font color="#CCCCCC"> in a</font>

307
00:11:52,700 --> 00:11:56,060
short<font color="#CCCCCC"> period of time is that's worth out</font>

308
00:11:54,620 --> 00:11:59,240
actually<font color="#CCCCCC"> pulling the power on</font><font color="#E5E5E5"> everything</font>

309
00:11:56,060 --> 00:12:02,239
is actually<font color="#E5E5E5"> kind</font><font color="#CCCCCC"> of challenging rapidly</font>

310
00:11:59,240 --> 00:12:04,130
shifting traffic is also<font color="#E5E5E5"> error-prone we</font>

311
00:12:02,240 --> 00:12:07,310
found that our<font color="#E5E5E5"> al B's the elastic load</font>

312
00:12:04,130 --> 00:12:09,189
balancers<font color="#CCCCCC"> we needed to change</font><font color="#E5E5E5"> DNS TTL so</font>

313
00:12:07,310 --> 00:12:11,479
that we could<font color="#CCCCCC"> shift</font><font color="#E5E5E5"> traffic more quickly</font>

314
00:12:09,190 --> 00:12:13,610
we had lingering connections between our

315
00:12:11,480 --> 00:12:15,920
applications<font color="#CCCCCC"> and our caches</font><font color="#E5E5E5"> and that</font>

316
00:12:13,610 --> 00:12:17,990
needed to<font color="#E5E5E5"> be</font><font color="#CCCCCC"> addressed and not all of</font>

317
00:12:15,920 --> 00:12:19,189
<font color="#E5E5E5">our clusters were pre scaled and so we</font>

318
00:12:17,990 --> 00:12:20,930
found that<font color="#E5E5E5"> when we started quickly</font>

319
00:12:19,190 --> 00:12:22,760
<font color="#E5E5E5">moving traffic around it took a little</font>

320
00:12:20,930 --> 00:12:24,380
while<font color="#CCCCCC"> for</font><font color="#E5E5E5"> some</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> this for some</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> our</font>

321
00:12:22,760 --> 00:12:25,850
<font color="#E5E5E5">systems actually scale up</font><font color="#CCCCCC"> quickly enough</font>

322
00:12:24,380 --> 00:12:27,350
<font color="#E5E5E5">and some of them were</font><font color="#CCCCCC"> not using auto</font>

323
00:12:25,850 --> 00:12:31,970
scaling and so they need to<font color="#CCCCCC"> be manually</font>

324
00:12:27,350 --> 00:12:33,940
scaled we also learned about<font color="#E5E5E5"> some hidden</font>

325
00:12:31,970 --> 00:12:36,560
assumptions and configuration issues

326
00:12:33,940 --> 00:12:38,840
some<font color="#E5E5E5"> of our apps were not configured for</font>

327
00:12:36,560 --> 00:12:40,849
cross<font color="#E5E5E5"> zone calls we have</font><font color="#CCCCCC"> a mechanism</font><font color="#E5E5E5"> in</font>

328
00:12:38,840 --> 00:12:42,680
our internal<font color="#E5E5E5"> load balancer such that if</font>

329
00:12:40,850 --> 00:12:44,480
<font color="#E5E5E5">you configure</font><font color="#CCCCCC"> it for zone affinity which</font>

330
00:12:42,680 --> 00:12:46,819
means<font color="#CCCCCC"> favor your own zone and that fails</font>

331
00:12:44,480 --> 00:12:48,440
<font color="#E5E5E5">it will then go to immediately go and</font>

332
00:12:46,820 --> 00:12:50,540
<font color="#E5E5E5">start making calls into another</font>

333
00:12:48,440 --> 00:12:51,980
availability zone and this was not set

334
00:12:50,540 --> 00:12:54,949
up<font color="#CCCCCC"> for everything for all</font><font color="#E5E5E5"> of our</font>

335
00:12:51,980 --> 00:12:56,810
clusters there were mismatched<font color="#E5E5E5"> timeouts</font>

336
00:12:54,950 --> 00:12:58,970
<font color="#CCCCCC">we have a lower level timeout at our</font>

337
00:12:56,810 --> 00:13:00,829
load balancer level<font color="#E5E5E5"> but we also had</font>

338
00:12:58,970 --> 00:13:03,410
hystrix<font color="#CCCCCC"> fallbacks that were timing out</font>

339
00:13:00,830 --> 00:13:05,630
faster than<font color="#CCCCCC"> our underlying load balancer</font>

340
00:13:03,410 --> 00:13:07,370
logic<font color="#E5E5E5"> and so we</font><font color="#CCCCCC"> continued to since we</font>

341
00:13:05,630 --> 00:13:10,550
<font color="#E5E5E5">continued to send traffic to the wrong</font>

342
00:13:07,370 --> 00:13:12,500
<font color="#E5E5E5">location our rest client</font><font color="#CCCCCC"> also had a</font>

343
00:13:10,550 --> 00:13:14,719
preservation<font color="#E5E5E5"> mode that said hey if more</font>

344
00:13:12,500 --> 00:13:16,070
than<font color="#CCCCCC"> 20% of your cluster just</font><font color="#E5E5E5"> goes away</font>

345
00:13:14,720 --> 00:13:17,570
we're going<font color="#E5E5E5"> to assume there's some bug</font>

346
00:13:16,070 --> 00:13:20,290
<font color="#CCCCCC">in your code were you</font><font color="#E5E5E5"> doing something</font>

347
00:13:17,570 --> 00:13:23,000
<font color="#E5E5E5">wrong</font><font color="#CCCCCC"> and so we actually</font><font color="#E5E5E5"> did</font><font color="#CCCCCC"> not release</font>

348
00:13:20,290 --> 00:13:23,930
knowledge of instances<font color="#E5E5E5"> that</font><font color="#CCCCCC"> had actually</font>

349
00:13:23,000 --> 00:13:25,760
been been

350
00:13:23,930 --> 00:13:29,030
moved<font color="#E5E5E5"> so we sent</font><font color="#CCCCCC"> traffic to instances</font>

351
00:13:25,760 --> 00:13:31,490
<font color="#E5E5E5">that weren't there the good news is</font>

352
00:13:29,030 --> 00:13:33,079
<font color="#E5E5E5">Cassandra worked as expected</font><font color="#CCCCCC"> the hint at</font>

353
00:13:31,490 --> 00:13:34,850
<font color="#CCCCCC">handoffs were accumulated on</font><font color="#E5E5E5"> the nodes</font>

354
00:13:33,080 --> 00:13:36,680
<font color="#E5E5E5">that were in the existing surviving</font>

355
00:13:34,850 --> 00:13:37,580
availability zones and<font color="#E5E5E5"> when we turned</font>

356
00:13:36,680 --> 00:13:38,989
<font color="#CCCCCC">everything back</font><font color="#E5E5E5"> on</font>

357
00:13:37,580 --> 00:13:42,920
they were replicated back and it worked

358
00:13:38,990 --> 00:13:45,830
<font color="#CCCCCC">quite well</font><font color="#E5E5E5"> so from a regroup perspective</font>

359
00:13:42,920 --> 00:13:47,959
<font color="#CCCCCC">we realized</font><font color="#E5E5E5"> just recently that we've</font>

360
00:13:45,830 --> 00:13:49,520
moved<font color="#E5E5E5"> really from zone outage</font><font color="#CCCCCC"> to zone</font>

361
00:13:47,960 --> 00:13:52,430
evacuation<font color="#CCCCCC"> we've become a little bit</font>

362
00:13:49,520 --> 00:13:53,990
<font color="#E5E5E5">cautious</font><font color="#CCCCCC"> we carefully</font><font color="#E5E5E5"> do register</font>

363
00:13:52,430 --> 00:13:56,329
instances now when we're doing this

364
00:13:53,990 --> 00:13:58,310
exercise and we're doing<font color="#CCCCCC"> more</font><font color="#E5E5E5"> stage</font>

365
00:13:56,330 --> 00:13:59,990
traffic shifts and we're<font color="#CCCCCC"> talking</font><font color="#E5E5E5"> now</font>

366
00:13:58,310 --> 00:14:01,280
about different ways<font color="#CCCCCC"> that we can move</font>

367
00:13:59,990 --> 00:14:05,000
back<font color="#E5E5E5"> to being more aggressive</font><font color="#CCCCCC"> and</font>

368
00:14:01,280 --> 00:14:07,220
simulating a true outage<font color="#E5E5E5"> so let's move</font>

369
00:14:05,000 --> 00:14:10,250
<font color="#E5E5E5">up to the next</font><font color="#CCCCCC"> level let's imagine an</font>

370
00:14:07,220 --> 00:14:12,200
entire region<font color="#E5E5E5"> fails and this wouldn't a</font>

371
00:14:10,250 --> 00:14:14,540
case would be<font color="#E5E5E5"> let's say us</font><font color="#CCCCCC"> East</font><font color="#E5E5E5"> one or</font>

372
00:14:12,200 --> 00:14:16,310
us<font color="#E5E5E5"> West two in the Amazon region a whole</font>

373
00:14:14,540 --> 00:14:19,099
cluster<font color="#CCCCCC"> of</font><font color="#E5E5E5"> data</font><font color="#CCCCCC"> centres goes down at</font><font color="#E5E5E5"> the</font>

374
00:14:16,310 --> 00:14:20,209
same<font color="#E5E5E5"> time and what that looks like here</font>

375
00:14:19,100 --> 00:14:21,860
<font color="#E5E5E5">just to give you a little bit of a sense</font>

376
00:14:20,210 --> 00:14:24,140
<font color="#CCCCCC">of</font><font color="#E5E5E5"> the architecture at a very high level</font>

377
00:14:21,860 --> 00:14:26,810
<font color="#E5E5E5">is we've got our regional load balancers</font>

378
00:14:24,140 --> 00:14:28,340
we have a technology<font color="#CCCCCC"> called Zul which</font>

379
00:14:26,810 --> 00:14:30,020
allows us to<font color="#CCCCCC"> deal with</font><font color="#E5E5E5"> miss routes</font>

380
00:14:28,340 --> 00:14:32,390
between<font color="#E5E5E5"> regions and it does kind of</font>

381
00:14:30,020 --> 00:14:34,040
smart shopping<font color="#E5E5E5"> traffic shaping and it</font>

382
00:14:32,390 --> 00:14:35,360
then<font color="#E5E5E5"> passes through to the instances</font>

383
00:14:34,040 --> 00:14:37,670
within<font color="#E5E5E5"> each</font><font color="#CCCCCC"> one</font><font color="#E5E5E5"> of the Amazon</font>

384
00:14:35,360 --> 00:14:39,050
<font color="#CCCCCC">availability zones</font><font color="#E5E5E5"> and of course</font>

385
00:14:37,670 --> 00:14:41,329
<font color="#CCCCCC">Cassandra's running in all those zones</font>

386
00:14:39,050 --> 00:14:44,060
<font color="#E5E5E5">and replicating between</font><font color="#CCCCCC"> those zones as</font>

387
00:14:41,330 --> 00:14:45,950
well<font color="#E5E5E5"> and we run in the US and what's</font>

388
00:14:44,060 --> 00:14:47,810
called an<font color="#E5E5E5"> active active configuration so</font>

389
00:14:45,950 --> 00:14:50,390
we're actually using<font color="#E5E5E5"> geo routing at the</font>

390
00:14:47,810 --> 00:14:53,569
<font color="#E5E5E5">DNS level to send roughly half the</font>

391
00:14:50,390 --> 00:14:56,540
<font color="#CCCCCC">country to one one region</font><font color="#E5E5E5"> and one one to</font>

392
00:14:53,570 --> 00:14:59,660
the other<font color="#E5E5E5"> gotta stop doing that so we</font>

393
00:14:56,540 --> 00:15:03,620
created another<font color="#E5E5E5"> simian army member</font>

394
00:14:59,660 --> 00:15:07,010
called chaos<font color="#E5E5E5"> Kong and chaos Kong takes</font>

395
00:15:03,620 --> 00:15:09,230
out an entire<font color="#CCCCCC"> region and</font><font color="#E5E5E5"> then when it's</font>

396
00:15:07,010 --> 00:15:10,610
<font color="#E5E5E5">done</font><font color="#CCCCCC"> we're able</font><font color="#E5E5E5"> to just go ahead and</font>

397
00:15:09,230 --> 00:15:14,030
switch<font color="#CCCCCC"> back and we use this</font><font color="#E5E5E5"> just by</font>

398
00:15:10,610 --> 00:15:15,680
changing<font color="#CCCCCC"> our DNS routing logic so what</font>

399
00:15:14,030 --> 00:15:18,350
we learned here<font color="#CCCCCC"> was this was actually</font>

400
00:15:15,680 --> 00:15:19,969
pretty<font color="#E5E5E5"> straightforward exercise except</font>

401
00:15:18,350 --> 00:15:21,770
that we needed<font color="#CCCCCC"> to do things like disable</font>

402
00:15:19,970 --> 00:15:23,180
our predictive auto scaling mechanism we

403
00:15:21,770 --> 00:15:23,510
were actually as we were shutting things

404
00:15:23,180 --> 00:15:25,160
down

405
00:15:23,510 --> 00:15:27,080
predictive auto scaling was<font color="#E5E5E5"> scaling our</font>

406
00:15:25,160 --> 00:15:28,670
instances back up so<font color="#CCCCCC"> that was kind of</font>

407
00:15:27,080 --> 00:15:31,340
<font color="#E5E5E5">kind of productive we needed to disable</font>

408
00:15:28,670 --> 00:15:33,079
that we also discovered<font color="#CCCCCC"> that we really</font>

409
00:15:31,340 --> 00:15:34,760
did need<font color="#CCCCCC"> to do some pre scaling in the</font>

410
00:15:33,080 --> 00:15:36,259
target<font color="#E5E5E5"> region so that we had enough</font>

411
00:15:34,760 --> 00:15:38,449
<font color="#CCCCCC">capacity with n we'd more</font>

412
00:15:36,259 --> 00:15:41,209
affecting the customer experience<font color="#CCCCCC"> in too</font>

413
00:15:38,449 --> 00:15:42,978
much of a<font color="#CCCCCC"> negative way so the still room</font>

414
00:15:41,209 --> 00:15:45,439
<font color="#CCCCCC">for improvement very similar to the Cass</font>

415
00:15:42,979 --> 00:15:47,029
gorilla<font color="#E5E5E5"> exercise</font><font color="#CCCCCC"> it's not a true</font>

416
00:15:45,439 --> 00:15:49,819
<font color="#E5E5E5">regional outage where things go down</font>

417
00:15:47,029 --> 00:15:51,889
<font color="#CCCCCC">harden</font><font color="#E5E5E5"> so we're still</font><font color="#CCCCCC"> doing</font><font color="#E5E5E5"> stage</font>

418
00:15:49,819 --> 00:15:53,748
migrations<font color="#CCCCCC"> and we're not doing</font><font color="#E5E5E5"> what we</font>

419
00:15:51,889 --> 00:15:55,279
<font color="#E5E5E5">think of as</font><font color="#CCCCCC"> a split brain</font><font color="#E5E5E5"> where we</font>

420
00:15:53,749 --> 00:15:57,589
really cut off<font color="#E5E5E5"> the connection</font><font color="#CCCCCC"> between</font>

421
00:15:55,279 --> 00:15:58,999
the<font color="#E5E5E5"> two regions in terms</font><font color="#CCCCCC"> of Cassandra</font>

422
00:15:57,589 --> 00:16:00,589
<font color="#E5E5E5">replication and there's a little miss</font>

423
00:15:58,999 --> 00:16:04,489
route so<font color="#CCCCCC"> that still work for us to do</font>

424
00:16:00,589 --> 00:16:10,639
there<font color="#CCCCCC"> so that everything fails</font>

425
00:16:04,489 --> 00:16:12,739
completely we created a tool called

426
00:16:10,639 --> 00:16:14,600
latency monkey to test<font color="#E5E5E5"> for partial</font>

427
00:16:12,739 --> 00:16:17,149
failures where things get slow<font color="#CCCCCC"> starts</font>

428
00:16:14,600 --> 00:16:19,970
spewing errors but don't necessarily<font color="#CCCCCC"> go</font>

429
00:16:17,149 --> 00:16:22,759
down hard<font color="#CCCCCC"> and so the goal here is to</font>

430
00:16:19,970 --> 00:16:25,069
<font color="#E5E5E5">simulate latent service calls and inject</font>

431
00:16:22,759 --> 00:16:28,189
arbitrary latency or errors<font color="#E5E5E5"> into a</font>

432
00:16:25,069 --> 00:16:31,459
particular service level and<font color="#E5E5E5"> then we</font>

433
00:16:28,189 --> 00:16:33,108
observe<font color="#E5E5E5"> for the effects our service</font>

434
00:16:31,459 --> 00:16:34,459
<font color="#CCCCCC">architecture just</font><font color="#E5E5E5"> to expand a little bit</font>

435
00:16:33,109 --> 00:16:37,220
<font color="#E5E5E5">look something</font><font color="#CCCCCC"> like this</font><font color="#E5E5E5"> as we drill</font>

436
00:16:34,459 --> 00:16:39,228
down<font color="#E5E5E5"> into one availability zone we have</font>

437
00:16:37,220 --> 00:16:41,269
<font color="#CCCCCC">the EOB the elastic load balancer which</font>

438
00:16:39,229 --> 00:16:43,819
then routes through our smart layer<font color="#E5E5E5"> Azul</font>

439
00:16:41,269 --> 00:16:45,919
<font color="#E5E5E5">it's the edge and then</font><font color="#CCCCCC"> the edge will</font>

440
00:16:43,819 --> 00:16:47,779
then call many services<font color="#CCCCCC"> sometimes tens</font>

441
00:16:45,919 --> 00:16:51,019
or<font color="#CCCCCC"> even a</font><font color="#E5E5E5"> hundred services to satisfy a</font>

442
00:16:47,779 --> 00:16:52,970
particular<font color="#E5E5E5"> request and latency monkey</font>

443
00:16:51,019 --> 00:16:55,579
focuses on one of those clusters<font color="#E5E5E5"> and</font>

444
00:16:52,970 --> 00:16:58,970
treats it as if<font color="#E5E5E5"> it's sick and we do this</font>

445
00:16:55,579 --> 00:17:01,519
<font color="#E5E5E5">using server-side URI filters you can</font>

446
00:16:58,970 --> 00:17:03,379
<font color="#CCCCCC">treat all requests the same way but</font><font color="#E5E5E5"> you</font>

447
00:17:01,519 --> 00:17:05,149
can also<font color="#E5E5E5"> get down to the request level</font>

448
00:17:03,379 --> 00:17:07,730
<font color="#E5E5E5">the individual request level</font><font color="#CCCCCC"> using</font>

449
00:17:05,148 --> 00:17:10,128
pattern matching<font color="#E5E5E5"> you can also just pick</font>

450
00:17:07,730 --> 00:17:14,269
a percentage of<font color="#CCCCCC"> traffic that will get</font>

451
00:17:10,128 --> 00:17:15,708
the latent or failed response and we can

452
00:17:14,269 --> 00:17:17,149
put in any<font color="#CCCCCC"> arbitrary delay and any</font>

453
00:17:15,709 --> 00:17:18,620
arbitrary response so<font color="#E5E5E5"> it could be an</font>

454
00:17:17,148 --> 00:17:21,739
error code it could be some arbitrary

455
00:17:18,619 --> 00:17:24,408
<font color="#E5E5E5">payload so what we learned from this</font>

456
00:17:21,740 --> 00:17:26,480
which was<font color="#E5E5E5"> interesting which is and in</font>

457
00:17:24,409 --> 00:17:28,010
some ways obvious in retrospect<font color="#E5E5E5"> that</font>

458
00:17:26,480 --> 00:17:31,340
<font color="#CCCCCC">startup resiliency is different from</font>

459
00:17:28,010 --> 00:17:33,289
<font color="#E5E5E5">steady-state resiliency</font><font color="#CCCCCC"> story</font><font color="#E5E5E5"> resiliency</font>

460
00:17:31,340 --> 00:17:35,480
usually involves<font color="#CCCCCC"> pulling in dynamic</font>

461
00:17:33,289 --> 00:17:38,059
configurations<font color="#E5E5E5"> caching metadata and</font>

462
00:17:35,480 --> 00:17:39,139
<font color="#E5E5E5">doing various things</font><font color="#CCCCCC"> like</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> and not</font>

463
00:17:38,059 --> 00:17:40,730
<font color="#E5E5E5">all those dependencies</font><font color="#CCCCCC"> were well</font>

464
00:17:39,139 --> 00:17:42,260
understood or<font color="#E5E5E5"> well known and so we</font>

465
00:17:40,730 --> 00:17:43,940
needed<font color="#E5E5E5"> to do some work to</font><font color="#CCCCCC"> try</font><font color="#E5E5E5"> to</font>

466
00:17:42,260 --> 00:17:46,730
mitigate<font color="#E5E5E5"> some of the concerns</font><font color="#CCCCCC"> around</font>

467
00:17:43,940 --> 00:17:48,110
that service owners don't<font color="#E5E5E5"> always know</font>

468
00:17:46,730 --> 00:17:50,000
what their dependencies are you can be

469
00:17:48,110 --> 00:17:51,590
<font color="#E5E5E5">pulling in jar files and live other</font>

470
00:17:50,000 --> 00:17:52,940
kinds of<font color="#E5E5E5"> libraries</font><font color="#CCCCCC"> without</font><font color="#E5E5E5"> really</font>

471
00:17:51,590 --> 00:17:56,090
knowing what additional<font color="#E5E5E5"> service</font>

472
00:17:52,940 --> 00:17:57,470
dependencies are there and fall backs

473
00:17:56,090 --> 00:17:59,030
can fail<font color="#CCCCCC"> too you can have a fallback</font>

474
00:17:57,470 --> 00:18:00,170
that throws an exception<font color="#CCCCCC"> or calls</font>

475
00:17:59,030 --> 00:18:03,680
<font color="#CCCCCC">another service which is also</font>

476
00:18:00,170 --> 00:18:06,710
unavailable<font color="#CCCCCC"> second-order effects are</font>

477
00:18:03,680 --> 00:18:08,630
also challenging to test<font color="#E5E5E5"> so this is</font>

478
00:18:06,710 --> 00:18:10,910
where service a call service<font color="#E5E5E5"> B which</font>

479
00:18:08,630 --> 00:18:12,920
<font color="#E5E5E5">calls service C you may call service e</font>

480
00:18:10,910 --> 00:18:14,540
directly as<font color="#E5E5E5"> well and it's more</font>

481
00:18:12,920 --> 00:18:17,810
challenging<font color="#CCCCCC"> with this mechanism to set</font>

482
00:18:14,540 --> 00:18:19,490
it<font color="#E5E5E5"> up to do</font><font color="#CCCCCC"> that dependencies will</font>

483
00:18:17,810 --> 00:18:21,770
change over<font color="#CCCCCC"> times</font><font color="#E5E5E5"> so again even if you</font>

484
00:18:19,490 --> 00:18:24,440
get<font color="#E5E5E5"> it right now you might might not be</font>

485
00:18:21,770 --> 00:18:25,760
correct later<font color="#CCCCCC"> and so a holistic view is</font>

486
00:18:24,440 --> 00:18:27,200
<font color="#E5E5E5">really necessary to make sure we're</font>

487
00:18:25,760 --> 00:18:30,500
testing<font color="#E5E5E5"> this matrix and we're</font><font color="#CCCCCC"> doing it</font>

488
00:18:27,200 --> 00:18:32,360
<font color="#E5E5E5">on a regular basis what we've discovered</font>

489
00:18:30,500 --> 00:18:34,130
<font color="#CCCCCC">also is a lot of teams and a lot of</font>

490
00:18:32,360 --> 00:18:35,990
teams but<font color="#E5E5E5"> some teams were opting out</font>

491
00:18:34,130 --> 00:18:37,970
<font color="#E5E5E5">because it was just too scary to run</font>

492
00:18:35,990 --> 00:18:39,530
this in production<font color="#E5E5E5"> for their services</font><font color="#CCCCCC"> to</font>

493
00:18:37,970 --> 00:18:43,160
be<font color="#E5E5E5"> dependent on a service that we made</font>

494
00:18:39,530 --> 00:18:45,800
<font color="#E5E5E5">unhealthy and so we created yet</font><font color="#CCCCCC"> another</font>

495
00:18:43,160 --> 00:18:47,270
set<font color="#E5E5E5"> of infrastructure which you call</font>

496
00:18:45,800 --> 00:18:48,740
fault injection testing which<font color="#CCCCCC"> is</font>

497
00:18:47,270 --> 00:18:51,800
different from latency monkey<font color="#E5E5E5"> in some</font>

498
00:18:48,740 --> 00:18:53,750
interesting ways it can be<font color="#E5E5E5"> overridden at</font>

499
00:18:51,800 --> 00:18:55,340
the individual account level<font color="#E5E5E5"> or even at</font>

500
00:18:53,750 --> 00:18:58,580
<font color="#CCCCCC">the electronics</font><font color="#E5E5E5"> serial number level for</font>

501
00:18:55,340 --> 00:19:00,649
an individual device<font color="#CCCCCC"> and then as you</font>

502
00:18:58,580 --> 00:19:02,899
make calls and you have that override in

503
00:19:00,650 --> 00:19:04,580
place<font color="#E5E5E5"> the</font><font color="#CCCCCC"> request and the context is</font>

504
00:19:02,900 --> 00:19:06,200
decorated such that as it passes<font color="#E5E5E5"> through</font>

505
00:19:04,580 --> 00:19:08,840
<font color="#CCCCCC">the</font><font color="#E5E5E5"> entire call graph in the distributed</font>

506
00:19:06,200 --> 00:19:10,760
<font color="#CCCCCC">system that override is set so that</font><font color="#E5E5E5"> any</font>

507
00:19:08,840 --> 00:19:13,250
service calling a system that<font color="#E5E5E5"> needs to</font>

508
00:19:10,760 --> 00:19:15,290
be<font color="#CCCCCC"> in a</font><font color="#E5E5E5"> in a six state will know that it</font>

509
00:19:13,250 --> 00:19:18,740
<font color="#E5E5E5">needs to do so and</font><font color="#CCCCCC"> so we can do things</font>

510
00:19:15,290 --> 00:19:21,170
like<font color="#E5E5E5"> have edge call service be directly</font>

511
00:19:18,740 --> 00:19:22,970
<font color="#E5E5E5">and simulate that failing but also call</font>

512
00:19:21,170 --> 00:19:27,530
service a and have that call service<font color="#CCCCCC"> be</font>

513
00:19:22,970 --> 00:19:30,230
and get the exact same down<font color="#CCCCCC"> effect so</font>

514
00:19:27,530 --> 00:19:31,940
benefits here this is<font color="#E5E5E5"> confidence</font>

515
00:19:30,230 --> 00:19:34,520
<font color="#E5E5E5">building so that teams will be more</font>

516
00:19:31,940 --> 00:19:38,690
<font color="#E5E5E5">willing to do latency monkey simulations</font>

517
00:19:34,520 --> 00:19:41,060
at scale<font color="#CCCCCC"> it's continuous allows</font><font color="#E5E5E5"> us to do</font>

518
00:19:38,690 --> 00:19:42,320
continuous<font color="#E5E5E5"> resiliency testing both in</font>

519
00:19:41,060 --> 00:19:43,700
<font color="#E5E5E5">our test and production environment</font>

520
00:19:42,320 --> 00:19:45,260
because this is<font color="#E5E5E5"> happening at the request</font>

521
00:19:43,700 --> 00:19:48,800
level<font color="#E5E5E5"> and it doesn't</font><font color="#CCCCCC"> have any effect</font><font color="#E5E5E5"> on</font>

522
00:19:45,260 --> 00:19:51,770
live production traffic it allows us<font color="#CCCCCC"> to</font>

523
00:19:48,800 --> 00:19:53,720
<font color="#E5E5E5">test a minimum viable service by turning</font>

524
00:19:51,770 --> 00:19:56,510
on<font color="#CCCCCC"> fallbacks for all the other services</font>

525
00:19:53,720 --> 00:19:58,520
<font color="#CCCCCC">that don't are</font><font color="#E5E5E5"> not necessary and keep</font>

526
00:19:56,510 --> 00:19:59,870
the main critical viable services up and

527
00:19:58,520 --> 00:20:03,139
<font color="#E5E5E5">running</font><font color="#CCCCCC"> and make sure that</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> actually</font>

528
00:19:59,870 --> 00:20:03,679
works correctly it also allows us<font color="#CCCCCC"> to do</font>

529
00:20:03,140 --> 00:20:06,200
device

530
00:20:03,680 --> 00:20:08,060
resiliency evaluation such that we can

531
00:20:06,200 --> 00:20:10,160
learn<font color="#CCCCCC"> about how our devices behave when</font>

532
00:20:08,060 --> 00:20:14,540
<font color="#CCCCCC">middle tier services are in a bad state</font>

533
00:20:10,160 --> 00:20:16,340
and returning<font color="#E5E5E5"> fall backs so this is a</font>

534
00:20:14,540 --> 00:20:18,800
bit of an eye chart<font color="#CCCCCC"> but this was from</font>

535
00:20:16,340 --> 00:20:20,959
our<font color="#CCCCCC"> first</font><font color="#E5E5E5"> device resiliency run all</font>

536
00:20:18,800 --> 00:20:23,120
those boxes<font color="#E5E5E5"> in red were things</font><font color="#CCCCCC"> that we</font>

537
00:20:20,960 --> 00:20:24,650
did not<font color="#E5E5E5"> expect to have</font><font color="#CCCCCC"> happen</font><font color="#E5E5E5"> and in</font>

538
00:20:23,120 --> 00:20:25,879
some cases we had services that should

539
00:20:24,650 --> 00:20:27,320
<font color="#E5E5E5">have been optional that we're doing</font>

540
00:20:25,880 --> 00:20:29,120
<font color="#E5E5E5">things</font><font color="#CCCCCC"> like preventing playback</font><font color="#E5E5E5"> from</font>

541
00:20:27,320 --> 00:20:30,260
happening<font color="#CCCCCC"> so we learned a lot from</font><font color="#E5E5E5"> this</font>

542
00:20:29,120 --> 00:20:34,310
<font color="#E5E5E5">exercise when we found it really</font>

543
00:20:30,260 --> 00:20:38,540
<font color="#E5E5E5">valuable so that's fault injection</font>

544
00:20:34,310 --> 00:20:40,700
testing<font color="#CCCCCC"> is that it</font><font color="#E5E5E5"> and I would</font><font color="#CCCCCC"> argue</font>

545
00:20:38,540 --> 00:20:42,470
that fault injection<font color="#CCCCCC"> still is</font><font color="#E5E5E5"> not enough</font>

546
00:20:40,700 --> 00:20:44,990
it's really<font color="#E5E5E5"> helpful and it helps us</font>

547
00:20:42,470 --> 00:20:47,570
<font color="#E5E5E5">validate things at scale and in many</font>

548
00:20:44,990 --> 00:20:50,450
<font color="#E5E5E5">different ways but</font><font color="#CCCCCC"> we</font><font color="#E5E5E5"> still can deploy</font>

549
00:20:47,570 --> 00:20:52,330
bad code<font color="#E5E5E5"> and do bad deployments we still</font>

550
00:20:50,450 --> 00:20:54,950
can miss configure<font color="#E5E5E5"> things in production</font>

551
00:20:52,330 --> 00:20:56,720
<font color="#E5E5E5">you</font><font color="#CCCCCC"> can end up with</font><font color="#E5E5E5"> Byzantine failures</font>

552
00:20:54,950 --> 00:20:58,550
complex failures that<font color="#E5E5E5"> happen through</font>

553
00:20:56,720 --> 00:20:59,990
through different interactions<font color="#E5E5E5"> and</font>

554
00:20:58,550 --> 00:21:02,780
different flows through the distributed

555
00:20:59,990 --> 00:21:04,310
system<font color="#CCCCCC"> memory</font><font color="#E5E5E5"> leaks can happen and</font>

556
00:21:02,780 --> 00:21:07,340
<font color="#E5E5E5">sometimes they take</font><font color="#CCCCCC"> awhile to manifest</font>

557
00:21:04,310 --> 00:21:09,860
<font color="#E5E5E5">themselves and performance can degrade</font>

558
00:21:07,340 --> 00:21:11,959
<font color="#E5E5E5">and drift over time and all of</font><font color="#CCCCCC"> these</font>

559
00:21:09,860 --> 00:21:14,929
things<font color="#E5E5E5"> can lead to availability issues</font>

560
00:21:11,960 --> 00:21:17,210
and resiliency issues<font color="#E5E5E5"> so we actually</font>

561
00:21:14,930 --> 00:21:19,730
<font color="#E5E5E5">adopt a multi-faceted approach that goes</font>

562
00:21:17,210 --> 00:21:21,590
beyond fault injection<font color="#CCCCCC"> we're doing</font>

563
00:21:19,730 --> 00:21:23,660
continuous<font color="#E5E5E5"> to build a continuous build</font>

564
00:21:21,590 --> 00:21:27,590
<font color="#E5E5E5">delivery and deployment</font><font color="#CCCCCC"> we're working on</font>

565
00:21:23,660 --> 00:21:29,480
<font color="#E5E5E5">that right</font><font color="#CCCCCC"> now we are shoring up our</font>

566
00:21:27,590 --> 00:21:31,040
test environments and infrastructure and

567
00:21:29,480 --> 00:21:34,070
code coverage to make sure that we can

568
00:21:31,040 --> 00:21:35,240
catch<font color="#E5E5E5"> things where possible we do</font>

569
00:21:34,070 --> 00:21:37,909
something<font color="#E5E5E5"> called automated canary</font>

570
00:21:35,240 --> 00:21:40,310
analysis where we<font color="#E5E5E5"> actually test on with</font>

571
00:21:37,910 --> 00:21:42,500
live traffic<font color="#E5E5E5"> new code and old code side</font>

572
00:21:40,310 --> 00:21:43,879
by side and then do comparisons to make

573
00:21:42,500 --> 00:21:45,560
sure that the new code is at least<font color="#E5E5E5"> as</font>

574
00:21:43,880 --> 00:21:48,260
<font color="#E5E5E5">good or better</font><font color="#CCCCCC"> than the other code</font><font color="#E5E5E5"> and</font>

575
00:21:45,560 --> 00:21:50,120
the old code<font color="#E5E5E5"> and we do staged</font>

576
00:21:48,260 --> 00:21:51,980
configuration deployments so we can

577
00:21:50,120 --> 00:21:53,030
isolate a configuration<font color="#E5E5E5"> change and learn</font>

578
00:21:51,980 --> 00:21:55,940
<font color="#E5E5E5">whether</font><font color="#CCCCCC"> or not it's breaking something</font>

579
00:21:53,030 --> 00:21:58,910
<font color="#E5E5E5">before we roll it out broadly we've got</font>

580
00:21:55,940 --> 00:22:01,250
<font color="#E5E5E5">crisis response tooling and operational</font>

581
00:21:58,910 --> 00:22:03,020
protocols<font color="#E5E5E5"> because things will break and</font>

582
00:22:01,250 --> 00:22:05,240
so the next<font color="#E5E5E5"> best</font><font color="#CCCCCC"> thing is to respond</font>

583
00:22:03,020 --> 00:22:07,370
quickly<font color="#E5E5E5"> and to that end</font><font color="#CCCCCC"> we have</font>

584
00:22:05,240 --> 00:22:09,560
<font color="#CCCCCC">real-time</font><font color="#E5E5E5"> analytics detection and</font>

585
00:22:07,370 --> 00:22:11,389
alerting in place<font color="#E5E5E5"> we have operational</font>

586
00:22:09,560 --> 00:22:13,250
insight tools that provide dashboards

587
00:22:11,390 --> 00:22:15,890
and reports so<font color="#CCCCCC"> we can see how</font><font color="#E5E5E5"> things are</font>

588
00:22:13,250 --> 00:22:17,420
performing and we do regular performance

589
00:22:15,890 --> 00:22:18,830
and efficiency engagements with our team

590
00:22:17,420 --> 00:22:20,690
seems to make sure<font color="#E5E5E5"> the performance</font>

591
00:22:18,830 --> 00:22:24,800
degradation<font color="#CCCCCC"> don't turn into reliability</font>

592
00:22:20,690 --> 00:22:27,590
issues so I'll close<font color="#E5E5E5"> out by saying it's</font>

593
00:22:24,800 --> 00:22:29,629
also<font color="#E5E5E5"> about people and culture being on a</font>

594
00:22:27,590 --> 00:22:31,939
team that<font color="#E5E5E5"> is centralized that is trying</font>

595
00:22:29,630 --> 00:22:34,250
to<font color="#E5E5E5"> drive availability throughout an</font>

596
00:22:31,940 --> 00:22:35,890
<font color="#CCCCCC">organization</font><font color="#E5E5E5"> it takes an effort to do so</font>

597
00:22:34,250 --> 00:22:39,230
and<font color="#E5E5E5"> there's a social dimension to</font><font color="#CCCCCC"> it</font>

598
00:22:35,890 --> 00:22:41,090
from<font color="#CCCCCC"> a technical</font><font color="#E5E5E5"> culture perspective we</font>

599
00:22:39,230 --> 00:22:44,300
have adopted the DevOps model of you

600
00:22:41,090 --> 00:22:45,500
build it<font color="#E5E5E5"> you run it and each we treat</font>

601
00:22:44,300 --> 00:22:47,600
each failure<font color="#E5E5E5"> as a learning experience</font>

602
00:22:45,500 --> 00:22:49,820
<font color="#E5E5E5">and adopt what's called blameless</font>

603
00:22:47,600 --> 00:22:51,110
<font color="#E5E5E5">incident reviews and this is you know we</font>

604
00:22:49,820 --> 00:22:52,790
<font color="#E5E5E5">don't want finger-pointing within these</font>

605
00:22:51,110 --> 00:22:54,320
sessions<font color="#E5E5E5"> the goal here</font><font color="#CCCCCC"> is to get to root</font>

606
00:22:52,790 --> 00:22:56,420
cause<font color="#CCCCCC"> figure</font><font color="#E5E5E5"> out what happened</font><font color="#CCCCCC"> and</font>

607
00:22:54,320 --> 00:22:58,909
figure<font color="#CCCCCC"> out what mitigation needs to be</font>

608
00:22:56,420 --> 00:23:00,560
done and<font color="#E5E5E5"> again I can't underscore this</font>

609
00:22:58,910 --> 00:23:04,450
enough but a commitment<font color="#CCCCCC"> to</font><font color="#E5E5E5"> continuous</font>

610
00:23:00,560 --> 00:23:04,450
<font color="#CCCCCC">improvement is absolutely critical here</font>

611
00:23:04,780 --> 00:23:10,010
context and collaboration<font color="#E5E5E5"> are also very</font>

612
00:23:07,310 --> 00:23:12,560
important context will engage your

613
00:23:10,010 --> 00:23:14,420
partners<font color="#E5E5E5"> if you have data and graphs and</font>

614
00:23:12,560 --> 00:23:16,310
<font color="#E5E5E5">you can point to root causes and various</font>

615
00:23:14,420 --> 00:23:19,160
things<font color="#E5E5E5"> to set context with your partners</font>

616
00:23:16,310 --> 00:23:20,690
it helps them get<font color="#E5E5E5"> on board we have</font><font color="#CCCCCC"> many</font>

617
00:23:19,160 --> 00:23:23,980
<font color="#E5E5E5">conversations about global</font>

618
00:23:20,690 --> 00:23:26,630
<font color="#CCCCCC">responsibility and global versus local</font>

619
00:23:23,980 --> 00:23:29,180
urgent<font color="#CCCCCC"> versus important</font><font color="#E5E5E5"> schedule driven</font>

620
00:23:26,630 --> 00:23:30,940
products product-type features<font color="#E5E5E5"> versus</font>

621
00:23:29,180 --> 00:23:33,020
infrastructure investments and

622
00:23:30,940 --> 00:23:34,610
ultimately we<font color="#CCCCCC"> talk about</font><font color="#E5E5E5"> long term</font>

623
00:23:33,020 --> 00:23:36,620
vision about where<font color="#E5E5E5"> we want to be four</font>

624
00:23:34,610 --> 00:23:39,770
nines of availability certain levels<font color="#E5E5E5"> of</font>

625
00:23:36,620 --> 00:23:41,449
latency<font color="#E5E5E5"> a certain value on quality and</font>

626
00:23:39,770 --> 00:23:44,270
so that's something<font color="#CCCCCC"> that we're</font>

627
00:23:41,450 --> 00:23:46,550
continually<font color="#CCCCCC"> working on in terms of</font>

628
00:23:44,270 --> 00:23:47,990
<font color="#E5E5E5">collaboration if you engage partners as</font>

629
00:23:46,550 --> 00:23:49,490
opposed to trying<font color="#E5E5E5"> to come up with all</font>

630
00:23:47,990 --> 00:23:51,050
the solutions<font color="#CCCCCC"> on your own</font><font color="#E5E5E5"> you're going</font>

631
00:23:49,490 --> 00:23:53,180
to come up<font color="#CCCCCC"> with better</font><font color="#E5E5E5"> solutions through</font>

632
00:23:51,050 --> 00:23:56,180
collaboration and it also<font color="#E5E5E5"> generates</font>

633
00:23:53,180 --> 00:23:58,370
buy-in from<font color="#E5E5E5"> your partners at the end of</font>

634
00:23:56,180 --> 00:24:00,020
the day<font color="#E5E5E5"> the teams</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> don't engage that</font>

635
00:23:58,370 --> 00:24:01,760
are on the<font color="#CCCCCC"> critical path for your</font>

636
00:24:00,020 --> 00:24:05,780
customer experience<font color="#CCCCCC"> are</font><font color="#E5E5E5"> going to be the</font>

637
00:24:01,760 --> 00:24:06,980
weak link<font color="#E5E5E5"> so if you're interested</font><font color="#CCCCCC"> in</font>

638
00:24:05,780 --> 00:24:08,330
some<font color="#CCCCCC"> of the technologies that I've</font>

639
00:24:06,980 --> 00:24:10,220
talked<font color="#E5E5E5"> about here a lot</font><font color="#CCCCCC"> of this is</font>

640
00:24:08,330 --> 00:24:13,850
posted on the<font color="#E5E5E5"> Netflix OSS site</font><font color="#CCCCCC"> at</font>

641
00:24:10,220 --> 00:24:17,140
Netflix<font color="#CCCCCC"> github.com</font><font color="#E5E5E5"> and if there any</font>

642
00:24:13,850 --> 00:24:17,139
<font color="#CCCCCC">questions</font><font color="#E5E5E5"> I can take them now</font>

643
00:24:26,020 --> 00:24:32,360
hi<font color="#E5E5E5"> Mike Bennett from 3mg consulting</font><font color="#CCCCCC"> I</font>

644
00:24:30,140 --> 00:24:34,580
have just one question<font color="#E5E5E5"> during the</font>

645
00:24:32,360 --> 00:24:37,039
latency monkey testing<font color="#E5E5E5"> mm-hmm this</font>

646
00:24:34,580 --> 00:24:38,750
particular particularly<font color="#E5E5E5"> interested to</font>

647
00:24:37,039 --> 00:24:41,299
know<font color="#E5E5E5"> sort of the order of magnitude</font><font color="#CCCCCC"> or</font>

648
00:24:38,750 --> 00:24:44,179
range of<font color="#E5E5E5"> latency that you injected to do</font>

649
00:24:41,299 --> 00:24:45,770
your testing<font color="#CCCCCC"> I believe it goes up</font><font color="#E5E5E5"> in two</font>

650
00:24:44,179 --> 00:24:47,149
seconds<font color="#E5E5E5"> most of our timeouts are in</font>

651
00:24:45,770 --> 00:24:49,158
milliseconds<font color="#CCCCCC"> and small numbers of</font>

652
00:24:47,149 --> 00:24:51,860
milliseconds<font color="#CCCCCC"> so it can vary anywhere</font>

653
00:24:49,159 --> 00:24:54,110
<font color="#CCCCCC">from at 10 or</font><font color="#E5E5E5"> 20 milliseconds to add</font>

654
00:24:51,860 --> 00:24:55,760
<font color="#E5E5E5">several seconds of latency ultimately</font>

655
00:24:54,110 --> 00:24:57,139
<font color="#E5E5E5">you want to know what your timeouts are</font>

656
00:24:55,760 --> 00:24:58,789
and then you want<font color="#E5E5E5"> to test beyond that</font>

657
00:24:57,140 --> 00:25:03,260
<font color="#CCCCCC">limit and see what happens</font>

658
00:24:58,789 --> 00:25:05,450
<font color="#CCCCCC">great</font><font color="#E5E5E5"> thank you Ron</font><font color="#CCCCCC"> balakrishnan from</font>

659
00:25:03,260 --> 00:25:07,309
Microsoft<font color="#CCCCCC"> and I'm a big</font><font color="#E5E5E5"> fan of your</font>

660
00:25:05,450 --> 00:25:10,279
simian army<font color="#E5E5E5"> thank you for taking time</font><font color="#CCCCCC"> to</font>

661
00:25:07,309 --> 00:25:12,500
<font color="#E5E5E5">come</font><font color="#CCCCCC"> and talk to</font><font color="#E5E5E5"> us</font><font color="#CCCCCC"> on this a couple of</font>

662
00:25:10,279 --> 00:25:15,080
questions one<font color="#CCCCCC"> is how much over-provision</font>

663
00:25:12,500 --> 00:25:17,659
do you do when you have<font color="#E5E5E5"> unleashed this</font>

664
00:25:15,080 --> 00:25:20,990
all this chaos monkeys and simian army

665
00:25:17,659 --> 00:25:23,049
<font color="#CCCCCC">and what is the guarantee that</font><font color="#E5E5E5"> you</font><font color="#CCCCCC"> have</font>

666
00:25:20,990 --> 00:25:25,669
that you don't<font color="#E5E5E5"> knock all your</font>

667
00:25:23,049 --> 00:25:28,100
redundancies when you have this<font color="#CCCCCC"> amin</font>

668
00:25:25,669 --> 00:25:29,570
army<font color="#E5E5E5"> working in tandem so</font><font color="#CCCCCC"> I'm sorry</font>

669
00:25:28,100 --> 00:25:31,010
<font color="#E5E5E5">you're warning us ask them</font><font color="#CCCCCC"> was this</font><font color="#E5E5E5"> how</font>

670
00:25:29,570 --> 00:25:33,408
much<font color="#CCCCCC"> over-provisioning we do</font><font color="#E5E5E5"> that's</font>

671
00:25:31,010 --> 00:25:34,789
<font color="#E5E5E5">right so we</font><font color="#CCCCCC"> run in an active active</font>

672
00:25:33,409 --> 00:25:37,100
infrastructure so<font color="#CCCCCC"> we have enough</font>

673
00:25:34,789 --> 00:25:39,408
reserved capacity in either one<font color="#CCCCCC"> of</font><font color="#E5E5E5"> our</font>

674
00:25:37,100 --> 00:25:42,049
<font color="#E5E5E5">regions to handle a hundred percent of</font>

675
00:25:39,409 --> 00:25:43,429
the load in<font color="#E5E5E5"> the regional scenario we</font>

676
00:25:42,049 --> 00:25:44,929
make sure we<font color="#E5E5E5"> have</font><font color="#CCCCCC"> enough capacity</font><font color="#E5E5E5"> so</font>

677
00:25:43,429 --> 00:25:47,809
that<font color="#CCCCCC"> we can handle</font><font color="#E5E5E5"> a hundred percent</font><font color="#CCCCCC"> of</font>

678
00:25:44,929 --> 00:25:50,140
our peak load<font color="#E5E5E5"> in two of our regions okay</font>

679
00:25:47,809 --> 00:25:52,520
and when<font color="#E5E5E5"> you have the simian army</font>

680
00:25:50,140 --> 00:25:56,690
<font color="#CCCCCC">operating in tandem</font><font color="#E5E5E5"> say for example your</font>

681
00:25:52,520 --> 00:25:58,700
conk<font color="#E5E5E5"> monkey and versus some other things</font>

682
00:25:56,690 --> 00:26:00,860
so<font color="#E5E5E5"> you have not done your whole data</font>

683
00:25:58,700 --> 00:26:02,360
<font color="#E5E5E5">center and something</font><font color="#CCCCCC"> else is</font><font color="#E5E5E5"> going on</font><font color="#CCCCCC"> in</font>

684
00:26:00,860 --> 00:26:03,639
the other one<font color="#E5E5E5"> so what is a guarantee</font>

685
00:26:02,360 --> 00:26:05,870
that<font color="#E5E5E5"> you don't knock all your</font>

686
00:26:03,640 --> 00:26:07,279
redundancies<font color="#E5E5E5"> well we have to have</font>

687
00:26:05,870 --> 00:26:08,959
insight into<font color="#E5E5E5"> what's</font><font color="#CCCCCC"> going on at the</font>

688
00:26:07,279 --> 00:26:11,179
<font color="#E5E5E5">moment and we won't actually do the</font>

689
00:26:08,960 --> 00:26:12,380
let's say<font color="#CCCCCC"> the Kong exercise unless</font><font color="#E5E5E5"> we</font>

690
00:26:11,179 --> 00:26:14,179
know that<font color="#CCCCCC"> everything's</font><font color="#E5E5E5"> in</font><font color="#CCCCCC"> a healthy</font>

691
00:26:12,380 --> 00:26:15,950
<font color="#CCCCCC">state so we're not</font><font color="#E5E5E5"> gonna have chaos</font>

692
00:26:14,179 --> 00:26:17,120
<font color="#CCCCCC">monkey and chaos</font><font color="#E5E5E5"> gorilla running for</font>

693
00:26:15,950 --> 00:26:18,679
instance at the<font color="#E5E5E5"> same time that we're</font>

694
00:26:17,120 --> 00:26:20,870
<font color="#E5E5E5">doing</font><font color="#CCCCCC"> a calling exercise</font><font color="#E5E5E5"> we would</font>

695
00:26:18,679 --> 00:26:21,980
separate<font color="#E5E5E5"> those exercises out and if</font>

696
00:26:20,870 --> 00:26:23,779
there's some kind<font color="#CCCCCC"> of production</font><font color="#E5E5E5"> issue</font>

697
00:26:21,980 --> 00:26:25,880
going<font color="#E5E5E5"> on we would hold off and</font><font color="#CCCCCC"> wait</font>

698
00:26:23,779 --> 00:26:27,529
until that's resolved before<font color="#CCCCCC"> we would</font><font color="#E5E5E5"> go</font>

699
00:26:25,880 --> 00:26:29,630
ahead<font color="#E5E5E5"> and do</font><font color="#CCCCCC"> that exercise</font><font color="#E5E5E5"> so it's a</font>

700
00:26:27,529 --> 00:26:31,279
more of<font color="#CCCCCC"> a controlled</font><font color="#E5E5E5"> environment</font><font color="#CCCCCC"> it's a</font>

701
00:26:29,630 --> 00:26:32,330
controlled yes

702
00:26:31,279 --> 00:26:33,980
yeah<font color="#E5E5E5"> it's that</font><font color="#CCCCCC"> these are</font><font color="#E5E5E5"> definitely</font>

703
00:26:32,330 --> 00:26:35,418
controlled experiments<font color="#CCCCCC"> Cass monkey is</font>

704
00:26:33,980 --> 00:26:37,789
scheduled on<font color="#CCCCCC"> a daily basis for most</font>

705
00:26:35,419 --> 00:26:39,400
<font color="#E5E5E5">clusters chaos Kong and chaos</font><font color="#CCCCCC"> gorillas</font>

706
00:26:37,789 --> 00:26:44,600
are scheduled extras

707
00:26:39,400 --> 00:26:46,970
<font color="#E5E5E5">Thank You Ethan</font><font color="#CCCCCC"> Katz Bassett</font><font color="#E5E5E5"> University</font>

708
00:26:44,600 --> 00:26:49,219
of<font color="#E5E5E5"> Southern California good</font><font color="#CCCCCC"> luck I was</font>

709
00:26:46,970 --> 00:26:51,350
curious if<font color="#E5E5E5"> you could talk a little bit</font>

710
00:26:49,220 --> 00:26:53,120
<font color="#CCCCCC">about</font><font color="#E5E5E5"> going from injected failures that</font>

711
00:26:51,350 --> 00:26:55,280
<font color="#CCCCCC">caused problems</font><font color="#E5E5E5"> to actually root causes</font>

712
00:26:53,120 --> 00:26:56,780
<font color="#E5E5E5">and fixes and whether you've done</font><font color="#CCCCCC"> much</font>

713
00:26:55,280 --> 00:26:58,100
<font color="#CCCCCC">in</font><font color="#E5E5E5"> terms of building kind of</font>

714
00:26:56,780 --> 00:27:00,080
complementary tools that help in that

715
00:26:58,100 --> 00:27:02,360
<font color="#E5E5E5">process</font><font color="#CCCCCC"> in terms of</font><font color="#E5E5E5"> trying to discover</font>

716
00:27:00,080 --> 00:27:05,240
<font color="#E5E5E5">root causes and fixes yeah so after</font><font color="#CCCCCC"> if</font>

717
00:27:02,360 --> 00:27:06,439
<font color="#E5E5E5">you you know one of your monkeys ends up</font>

718
00:27:05,240 --> 00:27:08,060
<font color="#E5E5E5">having some effect that you maybe didn't</font>

719
00:27:06,440 --> 00:27:09,560
expect and<font color="#E5E5E5"> then kind of the process</font><font color="#CCCCCC"> of</font>

720
00:27:08,060 --> 00:27:11,210
<font color="#E5E5E5">going</font><font color="#CCCCCC"> through figured it would actually</font>

721
00:27:09,560 --> 00:27:12,830
run<font color="#E5E5E5"> through</font><font color="#CCCCCC"> our normal protocols in</font>

722
00:27:11,210 --> 00:27:14,840
terms of rapid response we actually

723
00:27:12,830 --> 00:27:16,550
<font color="#E5E5E5">don't really pay for a chaos monkey it's</font>

724
00:27:14,840 --> 00:27:19,220
been it runs pretty<font color="#E5E5E5"> much all the</font><font color="#CCCCCC"> time</font>

725
00:27:16,550 --> 00:27:21,770
and for<font color="#CCCCCC"> quite some time has not actually</font>

726
00:27:19,220 --> 00:27:23,210
generated<font color="#E5E5E5"> any real problems so</font><font color="#CCCCCC"> we</font>

727
00:27:21,770 --> 00:27:25,400
haven't<font color="#E5E5E5"> had</font><font color="#CCCCCC"> a situation</font><font color="#E5E5E5"> where it's</font>

728
00:27:23,210 --> 00:27:26,960
caused an unexpected<font color="#CCCCCC"> incident in quite</font>

729
00:27:25,400 --> 00:27:28,250
some<font color="#E5E5E5"> time because teams have gotten used</font>

730
00:27:26,960 --> 00:27:29,720
<font color="#E5E5E5">to having</font><font color="#CCCCCC"> it around it's</font><font color="#E5E5E5"> the advantage</font>

731
00:27:28,250 --> 00:27:31,280
<font color="#CCCCCC">of always running it is people</font><font color="#E5E5E5"> are</font>

732
00:27:29,720 --> 00:27:34,040
already<font color="#E5E5E5"> thinking</font><font color="#CCCCCC"> about defending against</font>

733
00:27:31,280 --> 00:27:35,510
it<font color="#CCCCCC"> the other</font><font color="#E5E5E5"> exercises are done in a</font>

734
00:27:34,040 --> 00:27:37,129
<font color="#E5E5E5">very controlled way by the same team</font>

735
00:27:35,510 --> 00:27:39,800
<font color="#CCCCCC">that would rapidly respond if something</font>

736
00:27:37,130 --> 00:27:42,980
went<font color="#E5E5E5"> wrong</font><font color="#CCCCCC"> and so that helps so they're</font>

737
00:27:39,800 --> 00:27:44,120
<font color="#CCCCCC">scheduled exercises there I think that</font>

738
00:27:42,980 --> 00:27:47,710
<font color="#CCCCCC">might address</font><font color="#E5E5E5"> your question did that</font>

739
00:27:44,120 --> 00:27:47,709
<font color="#E5E5E5">completely answer that sure thanks</font>

740
00:27:47,890 --> 00:27:53,360
it's<font color="#CCCCCC"> got</font><font color="#E5E5E5"> like Google so in that same</font>

741
00:27:50,420 --> 00:27:55,250
vein<font color="#CCCCCC"> that preservation mode issue that</font>

742
00:27:53,360 --> 00:27:57,530
you ran into<font color="#E5E5E5"> so those types of things</font>

743
00:27:55,250 --> 00:27:58,970
<font color="#CCCCCC">I'm just</font><font color="#E5E5E5"> thinking about externally it</font>

744
00:27:57,530 --> 00:28:01,129
sounds like some developer thought that

745
00:27:58,970 --> 00:28:03,170
was a great<font color="#E5E5E5"> idea and operationally it's</font>

746
00:28:01,130 --> 00:28:04,970
not so hot have those kind<font color="#CCCCCC"> of</font><font color="#E5E5E5"> ideas I</font>

747
00:28:03,170 --> 00:28:07,070
have those kind<font color="#E5E5E5"> of</font><font color="#CCCCCC"> issues</font><font color="#E5E5E5"> more or less</font>

748
00:28:04,970 --> 00:28:10,390
dried up entirely because<font color="#E5E5E5"> of</font><font color="#CCCCCC"> this or</font>

749
00:28:07,070 --> 00:28:13,129
have you<font color="#E5E5E5"> developed a better process for</font>

750
00:28:10,390 --> 00:28:17,120
closing<font color="#E5E5E5"> that loop because of this or</font>

751
00:28:13,130 --> 00:28:18,860
other I<font color="#CCCCCC"> guess</font><font color="#E5E5E5"> we do tend to learn more</font>

752
00:28:17,120 --> 00:28:21,110
the first<font color="#E5E5E5"> time we do something</font><font color="#CCCCCC"> or</font><font color="#E5E5E5"> if we</font>

753
00:28:18,860 --> 00:28:23,479
haven't<font color="#CCCCCC"> done something</font><font color="#E5E5E5"> in a long time</font>

754
00:28:21,110 --> 00:28:24,979
so a lot<font color="#CCCCCC"> of issues got Mike with chaos</font>

755
00:28:23,480 --> 00:28:26,000
monkey<font color="#E5E5E5"> when we first started doing it we</font>

756
00:28:24,980 --> 00:28:28,340
discovered what the problems<font color="#CCCCCC"> were and</font>

757
00:28:26,000 --> 00:28:30,230
<font color="#E5E5E5">then they became known and then teams</font>

758
00:28:28,340 --> 00:28:32,540
opted out essentially until they were

759
00:28:30,230 --> 00:28:35,120
<font color="#CCCCCC">able to get get their systems in</font><font color="#E5E5E5"> place</font>

760
00:28:32,540 --> 00:28:37,760
so<font color="#CCCCCC"> that they could be</font><font color="#E5E5E5"> resilient</font><font color="#CCCCCC"> so that</font>

761
00:28:35,120 --> 00:28:39,469
I think<font color="#CCCCCC"> that largely addresses that</font><font color="#E5E5E5"> I</font>

762
00:28:37,760 --> 00:28:41,300
suspect<font color="#E5E5E5"> when we try to do the next</font>

763
00:28:39,470 --> 00:28:42,980
<font color="#CCCCCC">gorilla exercise and bring</font><font color="#E5E5E5"> things</font><font color="#CCCCCC"> down</font>

764
00:28:41,300 --> 00:28:44,690
in a much harder fashion that<font color="#CCCCCC"> we'll</font>

765
00:28:42,980 --> 00:28:46,070
learn again that things have drifted and

766
00:28:44,690 --> 00:28:47,780
we'll discover again that there are

767
00:28:46,070 --> 00:28:50,510
issues<font color="#CCCCCC"> but the whole</font><font color="#E5E5E5"> point of this is</font>

768
00:28:47,780 --> 00:28:52,460
<font color="#CCCCCC">that if</font><font color="#E5E5E5"> you do</font><font color="#CCCCCC"> it on a regular basis you</font>

769
00:28:50,510 --> 00:28:52,980
tend not to get<font color="#CCCCCC"> that drift if you do it</font>

770
00:28:52,460 --> 00:28:54,299
<font color="#CCCCCC">very rare</font>

771
00:28:52,980 --> 00:29:00,510
earlier you don't<font color="#E5E5E5"> do it at all then</font>

772
00:28:54,299 --> 00:29:02,580
you're<font color="#E5E5E5"> going to get surprised hi Hugo</font>

773
00:29:00,510 --> 00:29:04,350
<font color="#E5E5E5">slab with Stargate connections</font><font color="#CCCCCC"> more</font>

774
00:29:02,580 --> 00:29:06,659
<font color="#E5E5E5">procedural thing when you</font><font color="#CCCCCC"> are mentioning</font>

775
00:29:04,350 --> 00:29:09,240
you build it you own it<font color="#CCCCCC"> if that extends</font>

776
00:29:06,660 --> 00:29:11,940
<font color="#CCCCCC">down to an individual level to a team</font>

777
00:29:09,240 --> 00:29:13,260
<font color="#E5E5E5">level and if so kind of how you deal</font>

778
00:29:11,940 --> 00:29:15,270
with continuity<font color="#CCCCCC"> if you have folks</font>

779
00:29:13,260 --> 00:29:17,760
<font color="#CCCCCC">entering exiting teams or you know</font>

780
00:29:15,270 --> 00:29:19,980
leaving the<font color="#CCCCCC"> the operation</font><font color="#E5E5E5"> entirely</font><font color="#CCCCCC"> kind</font>

781
00:29:17,760 --> 00:29:22,470
<font color="#E5E5E5">of how you deal with all you can't</font><font color="#CCCCCC"> donut</font>

782
00:29:19,980 --> 00:29:24,720
<font color="#CCCCCC">anymore because you're</font><font color="#E5E5E5"> not involved</font><font color="#CCCCCC"> it</font>

783
00:29:22,470 --> 00:29:27,090
tends to<font color="#E5E5E5"> be done at the team</font><font color="#CCCCCC"> level</font><font color="#E5E5E5"> and</font>

784
00:29:24,720 --> 00:29:28,350
so there<font color="#CCCCCC"> are on-call rotations for</font><font color="#E5E5E5"> given</font>

785
00:29:27,090 --> 00:29:29,790
<font color="#E5E5E5">service and we try</font><font color="#CCCCCC"> to make sure we've</font>

786
00:29:28,350 --> 00:29:31,678
got<font color="#E5E5E5"> at least two</font><font color="#CCCCCC"> people who know about</font>

787
00:29:29,790 --> 00:29:33,030
any one thing occasionally you'll have a

788
00:29:31,679 --> 00:29:34,590
single<font color="#E5E5E5"> point</font><font color="#CCCCCC"> of failure</font><font color="#E5E5E5"> where</font><font color="#CCCCCC"> only one</font>

789
00:29:33,030 --> 00:29:36,840
<font color="#CCCCCC">person knows about a particular service</font>

790
00:29:34,590 --> 00:29:39,720
and we see that as<font color="#CCCCCC"> a</font><font color="#E5E5E5"> vulnerability</font><font color="#CCCCCC"> so we</font>

791
00:29:36,840 --> 00:29:41,668
try<font color="#E5E5E5"> to address that</font><font color="#CCCCCC"> and then the on-call</font>

792
00:29:39,720 --> 00:29:43,500
has an escalation<font color="#E5E5E5"> instead of escalation</font>

793
00:29:41,669 --> 00:29:45,330
policies such that we'll<font color="#CCCCCC"> have a primary</font>

794
00:29:43,500 --> 00:29:47,070
person<font color="#CCCCCC"> potentially a secondary</font><font color="#E5E5E5"> person</font>

795
00:29:45,330 --> 00:29:49,020
who gets<font color="#E5E5E5"> called when there's a service</font>

796
00:29:47,070 --> 00:29:51,210
outage<font color="#CCCCCC"> so the ownership is really at the</font>

797
00:29:49,020 --> 00:29:51,960
<font color="#E5E5E5">team level</font><font color="#CCCCCC"> and different</font><font color="#E5E5E5"> teams can do it</font>

798
00:29:51,210 --> 00:29:53,760
in<font color="#E5E5E5"> different ways</font>

799
00:29:51,960 --> 00:29:55,530
you<font color="#E5E5E5"> might have a handful of engineers</font>

800
00:29:53,760 --> 00:29:57,059
who do it some teams actually<font color="#E5E5E5"> chosen to</font>

801
00:29:55,530 --> 00:29:58,740
have more slightly operational people

802
00:29:57,059 --> 00:30:00,600
<font color="#E5E5E5">who might address issues but within the</font>

803
00:29:58,740 --> 00:30:05,850
<font color="#E5E5E5">same team and so it varies a little bit</font>

804
00:30:00,600 --> 00:30:09,090
<font color="#E5E5E5">thank you I feel in greeting Microsoft</font>

805
00:30:05,850 --> 00:30:11,340
so a<font color="#E5E5E5"> question for you have</font><font color="#CCCCCC"> you</font><font color="#E5E5E5"> noticed</font>

806
00:30:09,090 --> 00:30:16,230
that this<font color="#E5E5E5"> has actually decreased your</font>

807
00:30:11,340 --> 00:30:17,220
outages<font color="#CCCCCC"> I believe it I</font><font color="#E5E5E5"> believe so and</font>

808
00:30:16,230 --> 00:30:19,410
<font color="#E5E5E5">that's something that we're actually</font>

809
00:30:17,220 --> 00:30:21,240
working<font color="#E5E5E5"> on measuring so our major</font>

810
00:30:19,410 --> 00:30:24,510
outages tend to happen<font color="#E5E5E5"> extremely and</font>

811
00:30:21,240 --> 00:30:25,830
frequently<font color="#CCCCCC"> and so it's hard to tell each</font>

812
00:30:24,510 --> 00:30:27,480
time might say we certainly are not

813
00:30:25,830 --> 00:30:28,320
encountering the same problems we've

814
00:30:27,480 --> 00:30:30,480
encountered<font color="#E5E5E5"> before</font>

815
00:30:28,320 --> 00:30:31,799
but sometimes we<font color="#E5E5E5"> encounter new ones</font><font color="#CCCCCC"> I</font>

816
00:30:30,480 --> 00:30:35,460
<font color="#E5E5E5">think</font><font color="#CCCCCC"> you probably heard recently about</font>

817
00:30:31,799 --> 00:30:38,429
<font color="#E5E5E5">the</font><font color="#CCCCCC"> Ultra DNS issue we hadn't</font><font color="#E5E5E5"> tried to</font>

818
00:30:35,460 --> 00:30:40,590
<font color="#E5E5E5">do fault</font><font color="#CCCCCC"> injection with at the DNS level</font>

819
00:30:38,429 --> 00:30:43,740
<font color="#E5E5E5">and so that had some effects on us that</font>

820
00:30:40,590 --> 00:30:45,629
were undesirable so I'd say it's<font color="#E5E5E5"> the</font>

821
00:30:43,740 --> 00:30:47,850
thing<font color="#CCCCCC"> that</font><font color="#E5E5E5"> we have not tested</font><font color="#CCCCCC"> that tends</font>

822
00:30:45,630 --> 00:30:50,040
to<font color="#E5E5E5"> be</font><font color="#CCCCCC"> the thing that will break from</font>

823
00:30:47,850 --> 00:30:52,350
<font color="#E5E5E5">that</font><font color="#CCCCCC"> perspective the</font><font color="#E5E5E5"> things that we do</font>

824
00:30:50,040 --> 00:30:54,000
<font color="#E5E5E5">test tends to tend to work well how</font>

825
00:30:52,350 --> 00:30:55,799
<font color="#CCCCCC">about in terms</font><font color="#E5E5E5"> of duration</font><font color="#CCCCCC"> you find that</font>

826
00:30:54,000 --> 00:30:57,210
<font color="#E5E5E5">having the experience with the fault</font>

827
00:30:55,799 --> 00:30:59,190
injection means<font color="#E5E5E5"> the good restoration</font>

828
00:30:57,210 --> 00:31:02,730
<font color="#E5E5E5">times are faster</font><font color="#CCCCCC"> because</font><font color="#E5E5E5"> people say oh</font>

829
00:30:59,190 --> 00:31:03,450
it looks<font color="#E5E5E5"> like that</font><font color="#CCCCCC"> I couldn't</font><font color="#E5E5E5"> quite</font><font color="#CCCCCC"> hear</font>

830
00:31:02,730 --> 00:31:05,400
your question you're talking about

831
00:31:03,450 --> 00:31:06,240
restoration<font color="#E5E5E5"> times restoration times yes</font>

832
00:31:05,400 --> 00:31:07,980
so

833
00:31:06,240 --> 00:31:09,539
since you are constantly stressing<font color="#E5E5E5"> the</font>

834
00:31:07,980 --> 00:31:11,669
system your engineers happen to know

835
00:31:09,539 --> 00:31:13,139
that<font color="#E5E5E5"> this kind of failure looks like</font>

836
00:31:11,669 --> 00:31:15,029
this that kind<font color="#E5E5E5"> of failure looks like</font>

837
00:31:13,139 --> 00:31:16,498
that<font color="#E5E5E5"> does that mean that your engineers</font>

838
00:31:15,029 --> 00:31:20,119
are<font color="#CCCCCC"> able to restore</font><font color="#E5E5E5"> problems when they</font>

839
00:31:16,499 --> 00:31:22,590
<font color="#CCCCCC">actually occur</font><font color="#E5E5E5"> faster</font><font color="#CCCCCC"> it certainly helps</font>

840
00:31:20,119 --> 00:31:24,178
<font color="#E5E5E5">the more experienced folks who have done</font>

841
00:31:22,590 --> 00:31:25,980
a lot<font color="#CCCCCC"> of</font><font color="#E5E5E5"> these kind of crisis response</font>

842
00:31:24,179 --> 00:31:27,389
calls<font color="#E5E5E5"> tend to be very good</font><font color="#CCCCCC"> at</font><font color="#E5E5E5"> having a</font>

843
00:31:25,980 --> 00:31:29,820
sense of<font color="#E5E5E5"> how how</font><font color="#CCCCCC"> long it will take to</font>

844
00:31:27,389 --> 00:31:35,998
<font color="#CCCCCC">recover and less experienced people</font>

845
00:31:29,820 --> 00:31:37,710
<font color="#CCCCCC">obviously will not it's hard</font><font color="#E5E5E5"> to know</font><font color="#CCCCCC"> I</font>

846
00:31:35,999 --> 00:31:39,240
mean there's<font color="#CCCCCC"> definitely certain</font><font color="#E5E5E5"> kinds of</font>

847
00:31:37,710 --> 00:31:41,070
failures<font color="#CCCCCC"> that we've seen before that</font>

848
00:31:39,240 --> 00:31:43,200
generally we can respond<font color="#E5E5E5"> to very quickly</font>

849
00:31:41,070 --> 00:31:44,789
<font color="#CCCCCC">the other</font><font color="#E5E5E5"> challenge we have is</font>

850
00:31:43,200 --> 00:31:46,440
determining when we do something<font color="#CCCCCC"> like a</font>

851
00:31:44,789 --> 00:31:47,429
complete fail<font color="#E5E5E5"> over exercise so for</font>

852
00:31:46,440 --> 00:31:49,169
instance in<font color="#E5E5E5"> our active active</font>

853
00:31:47,429 --> 00:31:50,999
configuration<font color="#E5E5E5"> there's an interesting</font>

854
00:31:49,169 --> 00:31:52,649
<font color="#CCCCCC">question</font><font color="#E5E5E5"> about well it takes about 45</font>

855
00:31:50,999 --> 00:31:54,240
minutes<font color="#CCCCCC"> to an hour to move all of</font><font color="#E5E5E5"> our</font>

856
00:31:52,649 --> 00:31:56,580
<font color="#E5E5E5">traffic over from one region to another</font>

857
00:31:54,240 --> 00:31:58,350
<font color="#CCCCCC">so it's a</font><font color="#E5E5E5"> judgment call</font><font color="#CCCCCC"> at the</font><font color="#E5E5E5"> moment</font>

858
00:31:56,580 --> 00:32:01,110
how severe is<font color="#E5E5E5"> the problem how long will</font>

859
00:31:58,350 --> 00:32:02,820
it take<font color="#E5E5E5"> in terms of this duration</font><font color="#CCCCCC"> do we</font>

860
00:32:01,110 --> 00:32:04,379
pull the trigger<font color="#CCCCCC"> in do this very drastic</font>

861
00:32:02,820 --> 00:32:06,210
thing to move all our<font color="#E5E5E5"> traffic over to</font>

862
00:32:04,379 --> 00:32:09,029
another<font color="#CCCCCC"> region and then have</font><font color="#E5E5E5"> to fall</font>

863
00:32:06,210 --> 00:32:10,080
<font color="#CCCCCC">back or</font><font color="#E5E5E5"> not and that we just tend to</font>

864
00:32:09,029 --> 00:32:14,299
<font color="#E5E5E5">have to deal with</font><font color="#CCCCCC"> that on a case-by-case</font>

865
00:32:10,080 --> 00:32:14,299
basis<font color="#E5E5E5"> when that happens thank you</font>

866
00:32:17,740 --> 00:32:21,360
thank you very<font color="#E5E5E5"> much thank you</font>

867
00:32:28,730 --> 00:32:30,790
you

