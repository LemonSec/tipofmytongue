1
00:00:00,500 --> 00:00:06,649
thanks a lot<font color="#CCCCCC"> said never let it be said</font>

2
00:00:04,080 --> 00:00:10,260
that as engineers were completely stupid

3
00:00:06,649 --> 00:00:12,570
we have learned we've<font color="#E5E5E5"> been watching v6</font>

4
00:00:10,260 --> 00:00:14,879
and its transition mechanism and

5
00:00:12,570 --> 00:00:16,590
watching the way in<font color="#E5E5E5"> which your responded</font>

6
00:00:14,880 --> 00:00:18,690
to an incremental change that's totally

7
00:00:16,590 --> 00:00:20,359
disruptive in your network and thought

8
00:00:18,690 --> 00:00:23,550
well maybe that's not<font color="#CCCCCC"> the way to do it</font>

9
00:00:20,359 --> 00:00:24,869
and<font color="#E5E5E5"> the one in particular that well I</font>

10
00:00:23,550 --> 00:00:27,119
think we've<font color="#CCCCCC"> learned</font><font color="#E5E5E5"> from is actually</font>

11
00:00:24,869 --> 00:00:28,680
this issue about the other kind<font color="#E5E5E5"> of</font>

12
00:00:27,119 --> 00:00:31,259
exhaustion that's flying around which is

13
00:00:28,680 --> 00:00:32,430
the exhaustion of a s numbers so I want

14
00:00:31,260 --> 00:00:35,250
<font color="#E5E5E5">to talk a little bit this morning about</font>

15
00:00:32,430 --> 00:00:38,519
<font color="#E5E5E5">four byte is numbers 32-bit a s numbers</font>

16
00:00:35,250 --> 00:00:42,059
and take the view that we're almost all

17
00:00:38,520 --> 00:00:44,670
of you are today in your router you

18
00:00:42,059 --> 00:00:47,968
don't understand them what your router

19
00:00:44,670 --> 00:00:51,030
has is a 16-bit a s number machine so

20
00:00:47,969 --> 00:00:53,730
what does the world look like<font color="#E5E5E5"> when some</font>

21
00:00:51,030 --> 00:00:57,180
of<font color="#CCCCCC"> you</font><font color="#E5E5E5"> start incrementally deploying for</font>

22
00:00:53,730 --> 00:01:00,029
by a s numbers so that's the perspective

23
00:00:57,180 --> 00:01:04,349
I'm trying to take here here's a graph

24
00:01:00,030 --> 00:01:08,369
<font color="#CCCCCC">lotsa lines what I'm trying to do is</font>

25
00:01:04,349 --> 00:01:10,500
predict when those four byte numbers are

26
00:01:08,369 --> 00:01:12,180
<font color="#E5E5E5">X re the two byte numbers the current</font>

27
00:01:10,500 --> 00:01:15,810
number<font color="#E5E5E5"> pool of a s numbers is going to</font>

28
00:01:12,180 --> 00:01:18,270
exhaust itself so what I did was look<font color="#E5E5E5"> at</font>

29
00:01:15,810 --> 00:01:20,790
<font color="#E5E5E5">the total number of a s numbers out</font>

30
00:01:18,270 --> 00:01:24,240
there in the field look at the stuff

31
00:01:20,790 --> 00:01:26,610
that I can see in BGP and not all<font color="#CCCCCC"> of</font>

32
00:01:24,240 --> 00:01:30,360
them are in VG p and look at the stuff

33
00:01:26,610 --> 00:01:32,340
that isn't in BGP and predict those

34
00:01:30,360 --> 00:01:34,920
outwards and at the same time look at

35
00:01:32,340 --> 00:01:38,570
the supply side how many<font color="#E5E5E5"> are left with</font>

36
00:01:34,920 --> 00:01:41,790
ayana right now<font color="#CCCCCC"> I</font><font color="#E5E5E5"> Anna have around</font>

37
00:01:38,570 --> 00:01:43,589
21,000 a as numbers left and then look

38
00:01:41,790 --> 00:01:46,380
at the rars below that and try and

39
00:01:43,590 --> 00:01:49,920
figure out when will<font color="#E5E5E5"> the first rars a</font>

40
00:01:46,380 --> 00:01:54,509
nice try haven't got any left sorry

41
00:01:49,920 --> 00:01:56,430
can't do it so that<font color="#E5E5E5"> model and what I've</font>

42
00:01:54,509 --> 00:01:58,829
done is using an exponential growth

43
00:01:56,430 --> 00:02:01,680
model with a very<font color="#CCCCCC"> very small exponential</font>

44
00:01:58,829 --> 00:02:04,289
factor which correlates almost precisely

45
00:02:01,680 --> 00:02:06,049
over the last four years so there's a

46
00:02:04,290 --> 00:02:08,550
pretty high certainty on that prediction

47
00:02:06,049 --> 00:02:10,979
we're looking at an exhausting time of

48
00:02:08,550 --> 00:02:12,330
around<font color="#E5E5E5"> 20 100 UTC on the twenty-ninth of</font>

49
00:02:10,979 --> 00:02:16,470
october two thousand

50
00:02:12,330 --> 00:02:18,780
10 plus or minus a few<font color="#CCCCCC"> minutes obviously</font>

51
00:02:16,470 --> 00:02:22,140
you might change that if you do a rush

52
00:02:18,780 --> 00:02:24,180
on it but I'm there I'm tracking you

53
00:02:22,140 --> 00:02:27,179
every day I look at the numbers<font color="#CCCCCC"> again</font>

54
00:02:24,180 --> 00:02:29,700
and publish that at<font color="#CCCCCC"> that URL so yes i'm</font>

55
00:02:27,180 --> 00:02:32,640
watching this quite tightly and revising

56
00:02:29,700 --> 00:02:34,980
the predictive model every day so yes we

57
00:02:32,640 --> 00:02:38,399
are running out yes you have

58
00:02:34,980 --> 00:02:40,590
approximately four years ish little

59
00:02:38,400 --> 00:02:44,820
under four years and yes there is some

60
00:02:40,590 --> 00:02:46,650
work to do so what we're<font color="#CCCCCC"> trying to do is</font>

61
00:02:44,820 --> 00:02:48,480
to<font color="#CCCCCC"> do something radically different to</font>

62
00:02:46,650 --> 00:02:51,690
this industry and do something<font color="#CCCCCC"> i think</font>

63
00:02:48,480 --> 00:02:54,780
<font color="#E5E5E5">that is almost completely novel we're</font>

64
00:02:51,690 --> 00:02:56,850
trying<font color="#E5E5E5"> to plan and what we'd like to do</font>

65
00:02:54,780 --> 00:02:59,670
<font color="#E5E5E5">is to actually allow those folks who</font>

66
00:02:56,850 --> 00:03:01,859
wish to do this early do this early and

67
00:02:59,670 --> 00:03:05,670
actually attain<font color="#E5E5E5"> obtain a 4-byte asn</font>

68
00:03:01,860 --> 00:03:07,290
umber and start using it and phase it in

69
00:03:05,670 --> 00:03:09,149
so that at the<font color="#E5E5E5"> point when we're running</font>

70
00:03:07,290 --> 00:03:12,000
pretty pretty close to<font color="#CCCCCC"> the bone here on</font>

71
00:03:09,150 --> 00:03:15,360
the old to bite numbers we then start

72
00:03:12,000 --> 00:03:17,489
flipping the model so the rirs across

73
00:03:15,360 --> 00:03:20,010
all of the rars have adopted the

74
00:03:17,489 --> 00:03:21,450
following procedure that as of today in

75
00:03:20,010 --> 00:03:24,090
fact<font color="#E5E5E5"> as of</font><font color="#CCCCCC"> the first of January this</font>

76
00:03:21,450 --> 00:03:27,268
year if you want a 4-byte asn umber<font color="#CCCCCC"> ask</font>

77
00:03:24,090 --> 00:03:28,769
for it if<font color="#E5E5E5"> you don't ask for it and</font><font color="#CCCCCC"> you</font>

78
00:03:27,269 --> 00:03:32,430
just want an AS number you'll get a

79
00:03:28,769 --> 00:03:34,739
<font color="#CCCCCC">2-byte number fine however in just a</font>

80
00:03:32,430 --> 00:03:37,230
<font color="#E5E5E5">little under two years from now first of</font>

81
00:03:34,739 --> 00:03:38,580
January 2009 when we still have some to

82
00:03:37,230 --> 00:03:41,459
black numbers left according<font color="#CCCCCC"> to the</font>

83
00:03:38,580 --> 00:03:44,670
model when you<font color="#E5E5E5"> ask for na s number we</font>

84
00:03:41,459 --> 00:03:48,330
<font color="#E5E5E5">will give you a big one 32 bits with a</font>

85
00:03:44,670 --> 00:03:51,268
<font color="#E5E5E5">non-zero high bit unless you explicitly</font>

86
00:03:48,330 --> 00:03:53,550
say I'd<font color="#CCCCCC"> like a small one I don't care</font>

87
00:03:51,269 --> 00:03:56,220
why none of the rars<font color="#CCCCCC"> care why you might</font>

88
00:03:53,550 --> 00:03:57,900
want a small one but there's<font color="#E5E5E5"> enough</font>

89
00:03:56,220 --> 00:03:59,459
there to satisfy but if you<font color="#E5E5E5"> really don't</font>

90
00:03:57,900 --> 00:04:01,320
<font color="#E5E5E5">care</font><font color="#CCCCCC"> and hopefully by then there will be</font>

91
00:03:59,459 --> 00:04:04,680
<font color="#E5E5E5">a vendor implementations will finish and</font>

92
00:04:01,320 --> 00:04:07,920
you'll be deploying this stuff anyway<font color="#E5E5E5"> by</font>

93
00:04:04,680 --> 00:04:10,830
then it won't matter so that's the

94
00:04:07,920 --> 00:04:14,010
<font color="#E5E5E5">current policy regime now I'd like</font><font color="#CCCCCC"> to</font>

95
00:04:10,830 --> 00:04:15,959
<font color="#E5E5E5">take this view of well what does this</font>

96
00:04:14,010 --> 00:04:18,810
<font color="#CCCCCC">four byte number transition look like</font>

97
00:04:15,959 --> 00:04:21,649
and will you<font color="#E5E5E5"> need to start kicking your</font>

98
00:04:18,810 --> 00:04:24,350
<font color="#CCCCCC">router's in the head even though you're</font>

99
00:04:21,649 --> 00:04:28,310
deploying 1 i'm deploying<font color="#CCCCCC"> it what's the</font>

100
00:04:24,350 --> 00:04:30,139
change to you so the full body<font color="#E5E5E5"> is number</font>

101
00:04:28,310 --> 00:04:31,490
transition<font color="#E5E5E5"> like i said is</font><font color="#CCCCCC"> not a v6 thing</font>

102
00:04:30,139 --> 00:04:32,990
it's not<font color="#E5E5E5"> an incremental change with</font>

103
00:04:31,490 --> 00:04:35,210
massive disruption it's actually an

104
00:04:32,990 --> 00:04:38,000
incremental change with almost no

105
00:04:35,210 --> 00:04:40,849
disruption we're changing as little as

106
00:04:38,000 --> 00:04:43,220
<font color="#CCCCCC">possible in the bgp spank and if i'm</font>

107
00:04:40,850 --> 00:04:48,050
speaking for x and i'm peering with

108
00:04:43,220 --> 00:04:49,789
someone speaking to buy<font color="#CCCCCC"> ebgp</font><font color="#E5E5E5"> or ibgp the</font>

109
00:04:48,050 --> 00:04:52,759
first thing<font color="#E5E5E5"> on the open is to negotiate</font>

110
00:04:49,789 --> 00:04:56,030
<font color="#E5E5E5">what kind of neighbor</font><font color="#CCCCCC"> i have to bite off</font>

111
00:04:52,759 --> 00:04:58,910
or bite and I adjust my behavior as a

112
00:04:56,030 --> 00:05:01,460
4-byte speaker if I am peering with the

113
00:04:58,910 --> 00:05:04,250
to bite speaker and if I'm hearing<font color="#E5E5E5"> with</font>

114
00:05:01,460 --> 00:05:06,380
the to bite speaker I adopt an

115
00:05:04,250 --> 00:05:08,389
artificial persona I become someone

116
00:05:06,380 --> 00:05:11,300
subtly different who is to bite

117
00:05:08,389 --> 00:05:14,120
compatible so the<font color="#E5E5E5"> to bite speaker thinks</font>

118
00:05:11,300 --> 00:05:16,699
they're talking<font color="#CCCCCC"> to a 2-byte speaker so</font>

119
00:05:14,120 --> 00:05:19,070
this<font color="#CCCCCC"> is entirely backward compatible</font>

120
00:05:16,699 --> 00:05:21,410
it's the four byte speaker who has to do

121
00:05:19,070 --> 00:05:23,180
all the hard work if the two bites Baker

122
00:05:21,410 --> 00:05:24,650
says to bite I just don't understand

123
00:05:23,180 --> 00:05:27,199
this stuff the four<font color="#E5E5E5"> byte speaker goes</font>

124
00:05:24,650 --> 00:05:29,469
<font color="#CCCCCC">okay you want</font><font color="#E5E5E5"> me to speak in to bite</font>

125
00:05:27,199 --> 00:05:32,810
language I'll speaking to bite language

126
00:05:29,470 --> 00:05:34,490
so i use a 4-byte persona with my four

127
00:05:32,810 --> 00:05:37,220
byte peers if I negotiate and you're

128
00:05:34,490 --> 00:05:38,840
<font color="#E5E5E5">going yep for bite then everything is in</font>

129
00:05:37,220 --> 00:05:41,240
for bayt a.s numbers all the update

130
00:05:38,840 --> 00:05:46,039
messages and so on use the extended full

131
00:05:41,240 --> 00:05:50,650
bite message what happens I preserve the

132
00:05:46,039 --> 00:05:54,650
basic<font color="#CCCCCC"> a/s semantics in</font><font color="#E5E5E5"> vgp an AS</font><font color="#CCCCCC"> par</font>

133
00:05:50,650 --> 00:05:57,440
<font color="#E5E5E5">actually isn't intended in the strict</font>

134
00:05:54,650 --> 00:06:00,320
sense of the protocol to express where

135
00:05:57,440 --> 00:06:02,960
and through which a esas the packets<font color="#CCCCCC"> may</font>

136
00:06:00,320 --> 00:06:05,719
<font color="#CCCCCC">be transited that is not the intention</font>

137
00:06:02,960 --> 00:06:07,969
in a strict protocol sense of the AAS

138
00:06:05,720 --> 00:06:10,880
path you might think<font color="#CCCCCC"> you're using it</font>

139
00:06:07,970 --> 00:06:13,190
that way but in protocol terms that's

140
00:06:10,880 --> 00:06:15,889
too much information and you don't<font color="#E5E5E5"> use</font>

141
00:06:13,190 --> 00:06:18,800
<font color="#E5E5E5">it the reason why you have an enumerated</font>

142
00:06:15,889 --> 00:06:20,150
path is actually to do very fast loop

143
00:06:18,800 --> 00:06:22,490
detection without the count to infinity

144
00:06:20,150 --> 00:06:25,460
problem that is classic in most distance

145
00:06:22,490 --> 00:06:28,669
vector as soon as I see myself in an

146
00:06:25,460 --> 00:06:30,919
update<font color="#E5E5E5"> that's a loop so in actual fact</font>

147
00:06:28,669 --> 00:06:34,729
when<font color="#E5E5E5"> I look at the</font><font color="#CCCCCC"> AAS path all I'm</font>

148
00:06:30,919 --> 00:06:36,438
looking at is to see my own a s number

149
00:06:34,729 --> 00:06:38,359
I don't care<font color="#CCCCCC"> about anyone else who's</font>

150
00:06:36,439 --> 00:06:41,509
either seen it or not it's not<font color="#CCCCCC"> them my</font>

151
00:06:38,360 --> 00:06:43,039
<font color="#CCCCCC">problem my problem is is my is number in</font>

152
00:06:41,509 --> 00:06:47,509
that<font color="#E5E5E5"> path already when I receive an</font>

153
00:06:43,039 --> 00:06:49,998
update and secondly bgp default path

154
00:06:47,509 --> 00:06:52,999
selection is to select the quote

155
00:06:49,999 --> 00:06:56,029
cheapest power we're cheap is a metric

156
00:06:52,999 --> 00:06:58,490
of a as path length so<font color="#CCCCCC"> i need to know</font>

157
00:06:56,029 --> 00:07:02,180
the cheapest park I need to have the

158
00:06:58,490 --> 00:07:04,159
length of the AAS path preserved but all

159
00:07:02,180 --> 00:07:06,080
I'm looking for is myself<font color="#E5E5E5"> and the number</font>

160
00:07:04,159 --> 00:07:09,830
of entries in a protocol sense that's

161
00:07:06,080 --> 00:07:12,979
all you have so you can lie in the<font color="#CCCCCC"> a s</font>

162
00:07:09,830 --> 00:07:16,758
path and people do it all the time you

163
00:07:12,979 --> 00:07:18,889
<font color="#CCCCCC">can and the protocol still works so in</font>

164
00:07:16,759 --> 00:07:22,249
the 4 x 2 x transition that's what we do

165
00:07:18,889 --> 00:07:24,919
and there is no flag day nothing

166
00:07:22,249 --> 00:07:27,589
happened on the first of January 2007

167
00:07:24,919 --> 00:07:30,969
and your router if it's doing a full

168
00:07:27,589 --> 00:07:34,490
round feed already has at least one

169
00:07:30,969 --> 00:07:38,360
embedded 4-byte asn virtus<font color="#CCCCCC"> minh i know</font>

170
00:07:34,490 --> 00:07:40,370
because<font color="#CCCCCC"> i put</font><font color="#E5E5E5"> it</font><font color="#CCCCCC"> there so what I've got</font>

171
00:07:38,360 --> 00:07:42,289
is this model that says to bide

172
00:07:40,370 --> 00:07:45,110
implementations you can run them for as

173
00:07:42,289 --> 00:07:48,560
long as<font color="#CCCCCC"> you like it</font><font color="#E5E5E5"> doesn't matter as</font>

174
00:07:45,110 --> 00:07:51,349
long as<font color="#E5E5E5"> you're a s number is to buy you</font>

175
00:07:48,560 --> 00:07:53,930
can run indefinitely and the deployment

176
00:07:51,349 --> 00:07:56,628
of<font color="#CCCCCC"> 4 x it can be as piecemeal as</font><font color="#E5E5E5"> nats</font>

177
00:07:53,930 --> 00:07:59,659
you can do it you can do it I can do it

178
00:07:56,629 --> 00:08:02,240
and in essence that information would be

179
00:07:59,659 --> 00:08:05,360
correctly mapped across the two<font color="#E5E5E5"> byte bgp</font>

180
00:08:02,240 --> 00:08:10,639
ocean so piecemeal deployment of four

181
00:08:05,360 --> 00:08:13,490
byte will work so what's changed well

182
00:08:10,639 --> 00:08:16,339
when<font color="#CCCCCC"> i'm talking</font><font color="#E5E5E5"> as a four by two a</font>

183
00:08:13,490 --> 00:08:19,370
turbine<font color="#E5E5E5"> i'm going to lie in bits of the</font>

184
00:08:16,339 --> 00:08:21,979
<font color="#E5E5E5">AAS path those a s numbers that have</font>

185
00:08:19,370 --> 00:08:24,259
nonzero high order bits that actually

186
00:08:21,979 --> 00:08:26,419
have the up order 16 bits<font color="#E5E5E5"> nonzero I</font>

187
00:08:24,259 --> 00:08:29,959
can't tell you about<font color="#E5E5E5"> them so I'm going</font>

188
00:08:26,419 --> 00:08:32,838
<font color="#CCCCCC">to tell you a funny a s number 2 3 4 5 6</font>

189
00:08:29,959 --> 00:08:35,419
which is<font color="#CCCCCC"> a token holder the to bite</font>

190
00:08:32,839 --> 00:08:38,000
compatible wild card for big numbers i

191
00:08:35,419 --> 00:08:40,068
can't do and the other thing is<font color="#CCCCCC"> that</font><font color="#E5E5E5"> the</font>

192
00:08:38,000 --> 00:08:42,620
<font color="#CCCCCC">update messages themselves will be</font>

193
00:08:40,068 --> 00:08:45,229
bigger<font color="#E5E5E5"> there will be more</font><font color="#CCCCCC"> information</font>

194
00:08:42,620 --> 00:08:47,810
when<font color="#E5E5E5"> i'm a 4-byte speaking to a</font><font color="#CCCCCC"> 2 x</font><font color="#E5E5E5"> and</font>

195
00:08:45,230 --> 00:08:50,510
the updates you carry across the

196
00:08:47,810 --> 00:08:52,930
<font color="#E5E5E5">to bike world will be larger in size</font>

197
00:08:50,510 --> 00:08:56,770
there will be more<font color="#E5E5E5"> bytes in that message</font>

198
00:08:52,930 --> 00:08:59,270
but as you see if you care to look

199
00:08:56,770 --> 00:09:02,180
prefix reach ability information is

200
00:08:59,270 --> 00:09:04,730
still communicated the prefix that<font color="#E5E5E5"> I'm</font>

201
00:09:02,180 --> 00:09:07,430
advertising using a<font color="#CCCCCC"> 4 by day as origin</font>

202
00:09:04,730 --> 00:09:09,470
right now today you will see and you

203
00:09:07,430 --> 00:09:11,569
will do your correct decision in terms

204
00:09:09,470 --> 00:09:14,390
of how do<font color="#CCCCCC"> I flick packets to that</font>

205
00:09:11,570 --> 00:09:16,220
destination nothing breaks when

206
00:09:14,390 --> 00:09:19,220
advertising that prefix of<font color="#CCCCCC"> a 4-byte</font>

207
00:09:16,220 --> 00:09:21,640
origin<font color="#CCCCCC"> I'm still connected so what does</font>

208
00:09:19,220 --> 00:09:24,020
<font color="#E5E5E5">this imply if you're a</font><font color="#CCCCCC"> two-bit AAS and</font>

209
00:09:21,640 --> 00:09:26,779
almost of people most all of you are

210
00:09:24,020 --> 00:09:29,779
today<font color="#E5E5E5"> and you've got</font><font color="#CCCCCC"> no interest in</font>

211
00:09:26,779 --> 00:09:31,370
disturbing a stable operation of<font color="#CCCCCC"> BGP you</font>

212
00:09:29,779 --> 00:09:33,230
don't want to kick your router in the

213
00:09:31,370 --> 00:09:34,700
head and something that<font color="#E5E5E5"> none of you</font>

214
00:09:33,230 --> 00:09:36,890
really<font color="#E5E5E5"> want to do if you really get down</font>

215
00:09:34,700 --> 00:09:39,020
<font color="#CCCCCC">to it they're natural fact nothing</font>

216
00:09:36,890 --> 00:09:42,260
changes you don't have to do anything at

217
00:09:39,020 --> 00:09:44,000
all nothing changes you can watch the

218
00:09:42,260 --> 00:09:47,089
rest of the world do what they do you

219
00:09:44,000 --> 00:09:50,570
don't have to change so you know<font color="#E5E5E5"> that</font>

220
00:09:47,089 --> 00:09:52,130
was<font color="#E5E5E5"> logically where I ended but as</font>

221
00:09:50,570 --> 00:09:53,530
always I've got 30 minutes<font color="#CCCCCC"> so I thought</font>

222
00:09:52,130 --> 00:09:57,260
well I might take<font color="#E5E5E5"> a little bit more time</font>

223
00:09:53,530 --> 00:09:59,120
that's not quite true other things<font color="#E5E5E5"> will</font>

224
00:09:57,260 --> 00:10:02,420
change and you will have<font color="#E5E5E5"> to</font><font color="#CCCCCC"> be aware of</font>

225
00:09:59,120 --> 00:10:04,280
them<font color="#E5E5E5"> I said before that the</font><font color="#CCCCCC"> a s path is</font>

226
00:10:02,420 --> 00:10:07,790
two things strictly<font color="#E5E5E5"> it's a metric</font>

227
00:10:04,280 --> 00:10:10,670
shortest<font color="#E5E5E5"> path wins by default and it's a</font>

228
00:10:07,790 --> 00:10:13,640
loop detector I'm<font color="#E5E5E5"> looking for</font><font color="#CCCCCC"> my own</font><font color="#E5E5E5"> a s</font>

229
00:10:10,670 --> 00:10:17,000
I don't care<font color="#E5E5E5"> what else is in it as a BGP</font>

230
00:10:13,640 --> 00:10:19,819
speaker I'm<font color="#E5E5E5"> looking for myself so the</font>

231
00:10:17,000 --> 00:10:22,550
<font color="#E5E5E5">way we do the transition is actually</font>

232
00:10:19,820 --> 00:10:26,960
when a 4-byte speaks to a 2 x we use

233
00:10:22,550 --> 00:10:29,000
both translation and tunneling and we

234
00:10:26,960 --> 00:10:31,580
tunnel before bite information through

235
00:10:29,000 --> 00:10:35,330
the two byte world what we have in BGP

236
00:10:31,580 --> 00:10:37,910
are transitive opaque attributes of an

237
00:10:35,330 --> 00:10:40,400
update<font color="#E5E5E5"> and a transitive a peek at</font>

238
00:10:37,910 --> 00:10:42,040
attribute has the semantics that if you

239
00:10:40,400 --> 00:10:45,079
don't understand these block of bits

240
00:10:42,040 --> 00:10:47,990
store them<font color="#E5E5E5"> in your red and when you on</font>

241
00:10:45,080 --> 00:10:49,880
<font color="#CCCCCC">advertise just replicate them don't</font>

242
00:10:47,990 --> 00:10:51,770
change them don't try and<font color="#E5E5E5"> interpret them</font>

243
00:10:49,880 --> 00:10:53,570
either opaque to you if you<font color="#E5E5E5"> don't</font>

244
00:10:51,770 --> 00:10:56,990
understand them do nothing that's

245
00:10:53,570 --> 00:10:59,390
tunneling so I have a very quick example

246
00:10:56,990 --> 00:11:01,050
here to illustrate the approach to dot<font color="#E5E5E5"> 0</font>

247
00:10:59,390 --> 00:11:04,319
it's a big one<font color="#CCCCCC"> too</font>

248
00:11:01,050 --> 00:11:08,279
<font color="#CCCCCC">the 22 it's a big one talks to 12</font><font color="#E5E5E5"> to one</font>

249
00:11:04,320 --> 00:11:12,029
it's one<font color="#E5E5E5"> of yours talks to 4</font><font color="#CCCCCC"> 630 37</font><font color="#E5E5E5"> one</font>

250
00:11:08,279 --> 00:11:13,950
of yours talks two to three so in the

251
00:11:12,029 --> 00:11:17,610
ribs when I start it's just an internal

252
00:11:13,950 --> 00:11:19,529
route given to me by my<font color="#CCCCCC"> IGP and I send</font>

253
00:11:17,610 --> 00:11:22,410
that to my neighbor to dot<font color="#CCCCCC"> too and it's</font>

254
00:11:19,529 --> 00:11:24,810
a normal bgp update but it uses longer a

255
00:11:22,410 --> 00:11:27,630
s path so<font color="#CCCCCC"> i send 20 in the update</font>

256
00:11:24,810 --> 00:11:30,119
message this originated from 20 and in

257
00:11:27,630 --> 00:11:33,029
the rib<font color="#CCCCCC"> that'll put in that this is the</font>

258
00:11:30,120 --> 00:11:36,029
path attribute i received the two dot to

259
00:11:33,029 --> 00:11:38,450
knows that it's talking to a<font color="#CCCCCC"> 2-byte it</font>

260
00:11:36,029 --> 00:11:42,300
knows<font color="#CCCCCC"> that something weird has to happen</font>

261
00:11:38,450 --> 00:11:44,730
so when it sends the update along it

262
00:11:42,300 --> 00:11:47,069
adds itself to the path but then

263
00:11:44,730 --> 00:11:48,750
translates both of them because<font color="#CCCCCC"> they're</font>

264
00:11:47,070 --> 00:11:51,899
not to bite numbers<font color="#E5E5E5"> therefore bite</font>

265
00:11:48,750 --> 00:11:53,730
numbers so it sends an update with two

266
00:11:51,899 --> 00:11:58,260
three four<font color="#CCCCCC"> five six</font><font color="#E5E5E5"> two three four</font><font color="#CCCCCC"> five</font>

267
00:11:53,730 --> 00:12:01,920
six same length that I'm lying but I

268
00:11:58,260 --> 00:12:04,290
also<font color="#E5E5E5"> send in an opaque attribute the</font>

269
00:12:01,920 --> 00:12:06,300
actual layers path at the time<font color="#E5E5E5"> it</font>

270
00:12:04,290 --> 00:12:09,750
<font color="#E5E5E5">entered the to bite world it was too dot</font>

271
00:12:06,300 --> 00:12:13,680
220 and that's hidden inside a new<font color="#CCCCCC"> AAS</font>

272
00:12:09,750 --> 00:12:15,600
path transitive opaque attribute 12 to

273
00:12:13,680 --> 00:12:17,339
one will put in its rib two three four

274
00:12:15,600 --> 00:12:20,970
<font color="#CCCCCC">five six two three four five six but it</font>

275
00:12:17,339 --> 00:12:24,779
will store that opaque attribute so that

276
00:12:20,970 --> 00:12:26,820
when<font color="#CCCCCC"> it sends the update on to 4637 it</font>

277
00:12:24,779 --> 00:12:30,779
keeps that attribute as it received at

278
00:12:26,820 --> 00:12:33,660
two dot<font color="#CCCCCC"> 20 and now the AAS path starts</font>

279
00:12:30,779 --> 00:12:36,120
to form as normal 12 to one two three

280
00:12:33,660 --> 00:12:41,130
<font color="#E5E5E5">four five six two three four</font><font color="#CCCCCC"> five six no</font>

281
00:12:36,120 --> 00:12:42,990
<font color="#E5E5E5">magic here in the ribbon 4637 the path</font>

282
00:12:41,130 --> 00:12:44,339
as translated in other words one to two

283
00:12:42,990 --> 00:12:48,180
one two three four five six two three

284
00:12:44,339 --> 00:12:50,339
four five six and it sends to the new

285
00:12:48,180 --> 00:12:52,199
bgp because it's a to buy it<font color="#CCCCCC"> just sends</font>

286
00:12:50,339 --> 00:12:56,100
that transitive opaque attribute once

287
00:12:52,199 --> 00:12:58,800
more the four might receive er goes our

288
00:12:56,100 --> 00:13:01,709
<font color="#CCCCCC">ha I've got</font><font color="#E5E5E5"> to join the beans again and</font>

289
00:12:58,800 --> 00:13:03,630
it substitutes back the four byte

290
00:13:01,709 --> 00:13:05,670
information in the transitive opaque

291
00:13:03,630 --> 00:13:08,610
attribute that it understands I

292
00:13:05,670 --> 00:13:11,670
understand this so it now rebuilds the

293
00:13:08,610 --> 00:13:14,180
path as if the two byte intermediaries

294
00:13:11,670 --> 00:13:18,380
before by presto I get

295
00:13:14,180 --> 00:13:20,649
a coherent for by a espar if a loop

296
00:13:18,380 --> 00:13:25,100
forms I can see it<font color="#E5E5E5"> in for</font><font color="#CCCCCC"> VAR world</font>

297
00:13:20,649 --> 00:13:27,320
everything works so now in the red<font color="#CCCCCC"> I</font>

298
00:13:25,100 --> 00:13:29,149
have translated attributes in the two

299
00:13:27,320 --> 00:13:32,930
boat world I have real attributes in the

300
00:13:29,149 --> 00:13:35,330
<font color="#E5E5E5">full-back world life is fine enjoy so</font>

301
00:13:32,930 --> 00:13:37,489
you know<font color="#CCCCCC"> I'm an old bgp speaker what</font>

302
00:13:35,330 --> 00:13:41,720
should<font color="#CCCCCC"> i look out for because</font><font color="#E5E5E5"> bgp will</font>

303
00:13:37,490 --> 00:13:44,660
just work don't<font color="#CCCCCC"> muck with transitive</font>

304
00:13:41,720 --> 00:13:47,360
opaque attributes please please don't

305
00:13:44,660 --> 00:13:48,920
muck with it it's not a you must not

306
00:13:47,360 --> 00:13:51,230
muck with it all the world will collapse

307
00:13:48,920 --> 00:13:54,410
as we know it's a plea it's a please

308
00:13:51,230 --> 00:13:57,470
don't if you do mark with it and if you

309
00:13:54,410 --> 00:13:59,990
don't hand it on<font color="#CCCCCC"> Luke detection will be</font>

310
00:13:57,470 --> 00:14:02,540
longer it will take longer to converge

311
00:13:59,990 --> 00:14:04,550
on a withdrawal because the<font color="#E5E5E5"> Luke will go</font>

312
00:14:02,540 --> 00:14:06,980
for much longer than you thought but the

313
00:14:04,550 --> 00:14:09,500
loop will still be detected<font color="#E5E5E5"> and found</font>

314
00:14:06,980 --> 00:14:11,120
but the loop will only be detected in

315
00:14:09,500 --> 00:14:14,209
<font color="#E5E5E5">the two boat world not the four byte</font>

316
00:14:11,120 --> 00:14:17,120
world so the default you pass it on is

317
00:14:14,209 --> 00:14:19,219
just fine if you really want<font color="#E5E5E5"> to get</font>

318
00:14:17,120 --> 00:14:20,690
remarkably anal about the way in which

319
00:14:19,220 --> 00:14:22,820
you treat these<font color="#E5E5E5"> transitive a bank</font>

320
00:14:20,690 --> 00:14:25,630
attributes and drop them that's not a

321
00:14:22,820 --> 00:14:28,250
good thing but<font color="#E5E5E5"> the world won't collapse</font>

322
00:14:25,630 --> 00:14:29,990
when you do proxy aggregation you also

323
00:14:28,250 --> 00:14:32,750
generate a new aggregator and aggregator

324
00:14:29,990 --> 00:14:34,700
attribute if a 4-byte world wanted<font color="#E5E5E5"> to do</font>

325
00:14:32,750 --> 00:14:36,680
it there will<font color="#CCCCCC"> be a full bite aggregator</font>

326
00:14:34,700 --> 00:14:39,160
that won't work again there's another

327
00:14:36,680 --> 00:14:43,069
new attribute new aggregator transitive

328
00:14:39,160 --> 00:14:46,939
leave it alone default is fine just pass

329
00:14:43,070 --> 00:14:49,130
it on if<font color="#CCCCCC"> you choose to strip it well you</font>

330
00:14:46,940 --> 00:14:51,770
know nothing fatal he breaks in terms of

331
00:14:49,130 --> 00:14:54,250
loops but it's<font color="#E5E5E5"> not a good idea it just</font>

332
00:14:51,770 --> 00:14:57,140
takes longer to detect the problem and

333
00:14:54,250 --> 00:15:00,410
if you're worried about what's in a is

334
00:14:57,140 --> 00:15:02,959
pars then<font color="#CCCCCC"> 2 3 4 5 6 is a wild card</font><font color="#E5E5E5"> for</font>

335
00:15:00,410 --> 00:15:04,550
the rest of the world and it's going<font color="#E5E5E5"> to</font>

336
00:15:02,959 --> 00:15:06,619
<font color="#E5E5E5">appear everywhere it's going</font><font color="#CCCCCC"> to be</font>

337
00:15:04,550 --> 00:15:08,569
origins it's going to be transits it's

338
00:15:06,620 --> 00:15:10,459
going to look a remarkably strange<font color="#E5E5E5"> a s</font>

339
00:15:08,570 --> 00:15:13,279
from your point of view it's not an

340
00:15:10,459 --> 00:15:16,310
error it's a wild card that said down

341
00:15:13,279 --> 00:15:18,410
there<font color="#E5E5E5"> in the opaque attribute area is</font>

342
00:15:16,310 --> 00:15:20,689
actually the relay s number it's<font color="#E5E5E5"> not</font>

343
00:15:18,410 --> 00:15:22,699
yours to understand so two three four

344
00:15:20,690 --> 00:15:25,490
five<font color="#CCCCCC"> six</font><font color="#E5E5E5"> if you're worried about filters</font>

345
00:15:22,700 --> 00:15:27,379
ackles all that kind of stuff two three

346
00:15:25,490 --> 00:15:31,759
four<font color="#CCCCCC"> five six is a bit of a wild card</font>

347
00:15:27,379 --> 00:15:33,529
for you if you're doing<font color="#CCCCCC"> netflow then if</font>

348
00:15:31,759 --> 00:15:35,029
you're working<font color="#E5E5E5"> on to bite you're going</font>

349
00:15:33,529 --> 00:15:37,160
to get an awful lot of net flow with two

350
00:15:35,029 --> 00:15:38,599
three four<font color="#CCCCCC"> five six and that's</font><font color="#E5E5E5"> going to</font>

351
00:15:37,160 --> 00:15:40,848
be a little<font color="#E5E5E5"> bit interesting to try and</font>

352
00:15:38,599 --> 00:15:44,149
understand because it stands for many a

353
00:15:40,849 --> 00:15:45,769
esas not just one if you really want<font color="#E5E5E5"> to</font>

354
00:15:44,149 --> 00:15:47,869
do this then if you want to detect the

355
00:15:45,769 --> 00:15:50,209
fall by<font color="#CCCCCC"> a you've</font><font color="#E5E5E5"> got to run for</font><font color="#CCCCCC"> by pgp</font>

356
00:15:47,869 --> 00:15:52,429
and<font color="#CCCCCC"> B you've gotta run netflow version 9</font>

357
00:15:50,209 --> 00:15:53,929
at least because<font color="#CCCCCC"> netflow version 9 is</font>

358
00:15:52,429 --> 00:15:57,470
the first one<font color="#CCCCCC"> that actually allows a s</font>

359
00:15:53,929 --> 00:16:00,970
numbers to be 32 bits your analyzer that

360
00:15:57,470 --> 00:16:03,079
analyzes<font color="#E5E5E5"> net flow does it support for</font><font color="#CCCCCC"> x</font>

361
00:16:00,970 --> 00:16:04,669
because if you start presenting it with

362
00:16:03,079 --> 00:16:06,248
net flow version 9 and long grey as

363
00:16:04,669 --> 00:16:08,959
numbers what does your analyzer<font color="#CCCCCC"> thing</font>

364
00:16:06,249 --> 00:16:11,029
version 8 and earlier can't run with

365
00:16:08,959 --> 00:16:14,809
four byte they're actually to bite

366
00:16:11,029 --> 00:16:17,599
constrained if you're using communities

367
00:16:14,809 --> 00:16:19,429
to signal when in the to bite world you

368
00:16:17,599 --> 00:16:21,079
can't signal to me in the four byte

369
00:16:19,429 --> 00:16:25,579
world you just have no way of doing this

370
00:16:21,079 --> 00:16:29,029
unless you<font color="#CCCCCC"> also hook up your</font><font color="#E5E5E5"> vgp to run</font>

371
00:16:25,579 --> 00:16:30,679
extended communities so the reference is

372
00:16:29,029 --> 00:16:33,139
<font color="#E5E5E5">that if you're looking to do this you</font>

373
00:16:30,679 --> 00:16:35,899
<font color="#CCCCCC">will need to be compliant with RFC 4630</font>

374
00:16:33,139 --> 00:16:37,850
extended community attributes and using

375
00:16:35,899 --> 00:16:41,239
the signaling mechanism as defined in

376
00:16:37,850 --> 00:16:42,619
that draft so if you really<font color="#E5E5E5"> want to be</font>

377
00:16:41,239 --> 00:16:44,749
in the<font color="#E5E5E5"> to</font><font color="#CCCCCC"> back world and send me a</font>

378
00:16:42,619 --> 00:16:47,209
signal via a community attribute that

379
00:16:44,749 --> 00:16:49,489
<font color="#CCCCCC">I'm going</font><font color="#E5E5E5"> to receive you're going to</font>

380
00:16:47,209 --> 00:16:51,349
have to at least<font color="#E5E5E5"> do 4630 extended</font>

381
00:16:49,489 --> 00:16:55,459
community attributes and that signaling

382
00:16:51,350 --> 00:16:58,970
<font color="#E5E5E5">I said before vgp updates will increase</font>

383
00:16:55,459 --> 00:17:03,409
in size because now when i send you<font color="#CCCCCC"> a</font>

384
00:16:58,970 --> 00:17:06,829
path you will have the path and the four

385
00:17:03,409 --> 00:17:08,809
byte version of the front<font color="#E5E5E5"> of the path so</font>

386
00:17:06,829 --> 00:17:11,269
the<font color="#E5E5E5"> four byte version it takes twice as</font>

387
00:17:08,809 --> 00:17:13,759
much to store reach a s and<font color="#CCCCCC"> I'm going to</font>

388
00:17:11,269 --> 00:17:16,549
<font color="#E5E5E5">be actually having larger updates so in</font>

389
00:17:13,759 --> 00:17:18,049
the worst case what's going on is of

390
00:17:16,549 --> 00:17:19,939
course if<font color="#E5E5E5"> I'm a 4-byte speaker I'm</font>

391
00:17:18,049 --> 00:17:22,549
internally for bite every a s path

392
00:17:19,939 --> 00:17:24,379
doubles in size if there<font color="#E5E5E5"> are 50,000</font>

393
00:17:22,549 --> 00:17:25,668
distinct day s pars that used to be a

394
00:17:24,378 --> 00:17:27,980
<font color="#CCCCCC">hundred thousand bytes it's now</font><font color="#E5E5E5"> two</font>

395
00:17:25,669 --> 00:17:30,139
<font color="#E5E5E5">hundred thousand votes so the amount of</font>

396
00:17:27,980 --> 00:17:32,840
memory required to actually run bgp is

397
00:17:30,139 --> 00:17:34,279
higher even if you're<font color="#E5E5E5"> to bite world you</font>

398
00:17:32,840 --> 00:17:37,428
will notice the memory to store pars

399
00:17:34,279 --> 00:17:38,400
will increase why because the new AAS

400
00:17:37,429 --> 00:17:40,350
<font color="#E5E5E5">path</font>

401
00:17:38,400 --> 00:17:42,660
it is tacked in so<font color="#E5E5E5"> you're going to have</font>

402
00:17:40,350 --> 00:17:45,060
<font color="#CCCCCC">to store that so you'll need to</font><font color="#E5E5E5"> hold not</font>

403
00:17:42,660 --> 00:17:47,850
twice the memory but twice the pool of

404
00:17:45,060 --> 00:17:49,860
memory you use to hold<font color="#E5E5E5"> a</font><font color="#CCCCCC"> is paths twice</font>

405
00:17:47,850 --> 00:17:51,810
the memory plus the original so you may

406
00:17:49,860 --> 00:17:53,669
need to hold up<font color="#E5E5E5"> to three times the</font>

407
00:17:51,810 --> 00:17:56,669
memory that you're originally holding

408
00:17:53,670 --> 00:17:59,160
parts in those are big updates same as

409
00:17:56,670 --> 00:18:01,620
in memory same as in updates i'm going

410
00:17:59,160 --> 00:18:04,020
to use twice the update size in for x 24

411
00:18:01,620 --> 00:18:06,209
<font color="#E5E5E5">x and our women use up to three</font><font color="#CCCCCC"> times</font>

412
00:18:04,020 --> 00:18:08,220
the<font color="#CCCCCC"> size of the update message</font><font color="#E5E5E5"> that is</font>

413
00:18:06,210 --> 00:18:10,410
used to carry the path not the entire

414
00:18:08,220 --> 00:18:12,390
update just the section in the path

415
00:18:10,410 --> 00:18:17,310
might blow out by another factor of

416
00:18:12,390 --> 00:18:19,170
<font color="#E5E5E5">three performance and i actually did a</font>

417
00:18:17,310 --> 00:18:20,879
hack on open<font color="#CCCCCC"> BGP d and actually</font>

418
00:18:19,170 --> 00:18:22,800
implemented<font color="#CCCCCC"> four bytes in BGP d and</font>

419
00:18:20,880 --> 00:18:24,870
thought<font color="#CCCCCC"> jesus is cool I loaded up the</font>

420
00:18:22,800 --> 00:18:27,780
full routing table gee this is cool I

421
00:18:24,870 --> 00:18:32,540
then brought up a<font color="#CCCCCC"> 2-byte neighbor it</font>

422
00:18:27,780 --> 00:18:35,250
didn't<font color="#E5E5E5"> work why because open bgp d</font>

423
00:18:32,540 --> 00:18:39,060
generates all of the updates before

424
00:18:35,250 --> 00:18:40,890
sending anything on and it froze doing a

425
00:18:39,060 --> 00:18:43,800
massive amount of path computation

426
00:18:40,890 --> 00:18:45,510
internally in the engine so if<font color="#CCCCCC"> i'm</font>

427
00:18:43,800 --> 00:18:47,220
<font color="#E5E5E5">starting up a session and I'm for biting</font>

428
00:18:45,510 --> 00:18:48,629
your to buy I have to do a lot<font color="#E5E5E5"> of work</font>

429
00:18:47,220 --> 00:18:50,550
per part because I've actually<font color="#E5E5E5"> got to</font>

430
00:18:48,630 --> 00:18:52,890
generate if you will the four byte

431
00:18:50,550 --> 00:18:56,100
equivalent and strip down the<font color="#E5E5E5"> path that</font>

432
00:18:52,890 --> 00:18:58,980
<font color="#E5E5E5">I had in my rib so session</font><font color="#CCCCCC"> startup may</font>

433
00:18:56,100 --> 00:19:00,449
be really slow because the four<font color="#E5E5E5"> byte</font>

434
00:18:58,980 --> 00:19:02,790
speaker has to do a huge amount of work

435
00:19:00,450 --> 00:19:04,620
and for<font color="#E5E5E5"> about</font><font color="#CCCCCC"> thirty five thousand</font>

436
00:19:02,790 --> 00:19:06,810
unique pars which is what some of you

437
00:19:04,620 --> 00:19:09,149
see some of you see a lot more that's a

438
00:19:06,810 --> 00:19:11,100
lot of computation and starting a

439
00:19:09,150 --> 00:19:15,600
session up depending on the way your vgp

440
00:19:11,100 --> 00:19:17,429
engine works may take longer if any of

441
00:19:15,600 --> 00:19:19,590
you don't like transitive opaque

442
00:19:17,430 --> 00:19:21,900
attributes and strip them you're going

443
00:19:19,590 --> 00:19:24,720
to cause some of us some pain because

444
00:19:21,900 --> 00:19:26,700
convergence times may increase if you

445
00:19:24,720 --> 00:19:29,100
destroy that<font color="#CCCCCC"> neways</font><font color="#E5E5E5"> power attribute</font>

446
00:19:26,700 --> 00:19:30,600
<font color="#E5E5E5">loops will take longer to detect the</font>

447
00:19:29,100 --> 00:19:32,399
update<font color="#E5E5E5"> message will travel further</font>

448
00:19:30,600 --> 00:19:34,649
before someone sees their own a<font color="#CCCCCC"> s</font>

449
00:19:32,400 --> 00:19:37,320
<font color="#E5E5E5">because you're just destroyed all of the</font>

450
00:19:34,650 --> 00:19:39,810
four byte for a SS so none of the four

451
00:19:37,320 --> 00:19:41,370
byte folk can see the loop it's<font color="#E5E5E5"> not</font><font color="#CCCCCC"> that</font>

452
00:19:39,810 --> 00:19:42,450
you've just<font color="#E5E5E5"> uncovered infinite looping</font>

453
00:19:41,370 --> 00:19:44,429
it's not that you've done something

454
00:19:42,450 --> 00:19:46,740
really bad you've done something<font color="#E5E5E5"> that</font>

455
00:19:44,430 --> 00:19:50,370
makes the vgp convergence process take

456
00:19:46,740 --> 00:19:52,120
more time so please<font color="#E5E5E5"> don't do it if you</font>

457
00:19:50,370 --> 00:19:55,030
proxy aggregate right now

458
00:19:52,120 --> 00:19:57,610
just make sure<font color="#E5E5E5"> that the proxy aggregate</font>

459
00:19:55,030 --> 00:19:59,590
you actually advertise is larger than

460
00:19:57,610 --> 00:20:02,860
all of the components<font color="#E5E5E5"> that you're using</font>

461
00:19:59,590 --> 00:20:05,590
as seed inputs because when you proxy

462
00:20:02,860 --> 00:20:07,810
aggregate you will destroy<font color="#E5E5E5"> the new a is</font>

463
00:20:05,590 --> 00:20:10,570
path attribute it will have<font color="#E5E5E5"> no meaning</font>

464
00:20:07,810 --> 00:20:12,340
after proxy aggregation so make sure

465
00:20:10,570 --> 00:20:14,580
<font color="#E5E5E5">that the aggregate is always larger than</font>

466
00:20:12,340 --> 00:20:18,669
all of the specifics you're using

467
00:20:14,580 --> 00:20:22,960
otherwise I can't guarantee<font color="#E5E5E5"> that looping</font>

468
00:20:18,670 --> 00:20:24,910
won't happen looping may happen so if

469
00:20:22,960 --> 00:20:26,800
you do do proxy aggression and almost

470
00:20:24,910 --> 00:20:29,410
none of<font color="#E5E5E5"> you do most of you seem to do it</font>

471
00:20:26,800 --> 00:20:30,970
for about an hour or<font color="#CCCCCC"> so and then</font><font color="#E5E5E5"> go that</font>

472
00:20:29,410 --> 00:20:32,430
was really cool i'll turn it off but if

473
00:20:30,970 --> 00:20:37,660
any of you are doing this all the<font color="#CCCCCC"> time</font>

474
00:20:32,430 --> 00:20:40,450
watch out um I've<font color="#CCCCCC"> got this</font><font color="#E5E5E5"> long held</font>

475
00:20:37,660 --> 00:20:44,140
session it's really cool I'd like<font color="#CCCCCC"> to</font>

476
00:20:40,450 --> 00:20:46,510
turn it<font color="#E5E5E5"> to full bite stop shut down no</font>

477
00:20:44,140 --> 00:20:50,110
<font color="#CCCCCC">graceful restart clean restart right</font>

478
00:20:46,510 --> 00:20:52,960
from scratch you can't flick an ibgp or

479
00:20:50,110 --> 00:20:55,090
an ebgp session<font color="#E5E5E5"> into</font><font color="#CCCCCC"> four byte mode you</font>

480
00:20:52,960 --> 00:20:57,460
just can't do it you've actually go to

481
00:20:55,090 --> 00:20:59,980
tear the entire session down and then do

482
00:20:57,460 --> 00:21:02,110
a clean start using the<font color="#CCCCCC"> open negotiation</font>

483
00:20:59,980 --> 00:21:06,550
and capability exchange nothing else

484
00:21:02,110 --> 00:21:09,879
works um I'm not sure<font color="#E5E5E5"> that all of you</font>

485
00:21:06,550 --> 00:21:11,470
will flag day your internal network if

486
00:21:09,880 --> 00:21:13,240
you really do want to move a esas

487
00:21:11,470 --> 00:21:15,190
there's a merger acquisition all of a

488
00:21:13,240 --> 00:21:17,890
sudden the other guys is<font color="#E5E5E5"> you're merging</font>

489
00:21:15,190 --> 00:21:20,170
<font color="#E5E5E5">with prevails and it's a 4-byte I've got</font>

490
00:21:17,890 --> 00:21:22,630
to<font color="#E5E5E5"> change my is in 24 x I've got all</font>

491
00:21:20,170 --> 00:21:25,300
these ibgp speakers you<font color="#CCCCCC"> can do it</font>

492
00:21:22,630 --> 00:21:28,240
because<font color="#E5E5E5"> the same mechanism works</font><font color="#CCCCCC"> Oh</font><font color="#E5E5E5"> bgp</font>

493
00:21:25,300 --> 00:21:31,899
ebgp it makes no difference but think

494
00:21:28,240 --> 00:21:33,280
hard test it in the lab some things are

495
00:21:31,900 --> 00:21:35,290
not obvious particularly with a lot<font color="#CCCCCC"> of</font>

496
00:21:33,280 --> 00:21:38,490
other configuration and signaling you

497
00:21:35,290 --> 00:21:41,260
can do this one router at a time but

498
00:21:38,490 --> 00:21:45,030
don't put the guy who started<font color="#CCCCCC"> last week</font>

499
00:21:41,260 --> 00:21:48,700
on to the project<font color="#E5E5E5"> okay that won't work</font>

500
00:21:45,030 --> 00:21:50,649
um how do<font color="#E5E5E5"> you describe these oh god</font>

501
00:21:48,700 --> 00:21:52,780
we've had so many<font color="#E5E5E5"> debates about notation</font>

502
00:21:50,650 --> 00:21:54,880
you can either start using really really

503
00:21:52,780 --> 00:21:56,290
big numbers I must<font color="#E5E5E5"> admit I don't like it</font>

504
00:21:54,880 --> 00:21:57,730
personally but some of you<font color="#E5E5E5"> like it and</font>

505
00:21:56,290 --> 00:22:00,639
find you can use really really big

506
00:21:57,730 --> 00:22:04,390
numbers I'm actually a keen proponent of

507
00:22:00,640 --> 00:22:05,890
the dotted short int 2 3<font color="#CCCCCC"> 12</font><font color="#E5E5E5"> high order</font>

508
00:22:04,390 --> 00:22:08,020
16 bit slower<font color="#CCCCCC"> at a 16</font>

509
00:22:05,890 --> 00:22:10,420
it's just the<font color="#E5E5E5"> way I</font><font color="#CCCCCC"> think</font><font color="#E5E5E5"> and some folks</font>

510
00:22:08,020 --> 00:22:12,970
say change nothing that<font color="#E5E5E5"> doesn't need to</font>

511
00:22:10,420 --> 00:22:15,400
be changed the dotted short in plus if

512
00:22:12,970 --> 00:22:19,000
it's less than 65,000 just write the

513
00:22:15,400 --> 00:22:22,990
number if it's more<font color="#E5E5E5"> than 65535 write it</font>

514
00:22:19,000 --> 00:22:25,720
as a dot B the implementation<font color="#E5E5E5"> I patched</font>

515
00:22:22,990 --> 00:22:28,720
will accept either that report only dots

516
00:22:25,720 --> 00:22:31,030
other implementers in BGP probably have

517
00:22:28,720 --> 00:22:34,180
their own style but right now we haven't

518
00:22:31,030 --> 00:22:35,830
converged on a single notation what

519
00:22:34,180 --> 00:22:40,660
about your operating support system oh

520
00:22:35,830 --> 00:22:42,610
dear many folk use the<font color="#CCCCCC"> AS number and tie</font>

521
00:22:40,660 --> 00:22:44,650
<font color="#E5E5E5">it to the customer and load up</font>

522
00:22:42,610 --> 00:22:46,449
configurations and filters automatically

523
00:22:44,650 --> 00:22:49,450
so what happens when a customer comes

524
00:22:46,450 --> 00:22:52,630
along and says I'm 12 what do<font color="#E5E5E5"> you load</font>

525
00:22:49,450 --> 00:22:57,190
into your router filter lists about<font color="#E5E5E5"> 2 3</font>

526
00:22:52,630 --> 00:22:59,710
<font color="#E5E5E5">4 5 6 so somehow in your current OSS</font>

527
00:22:57,190 --> 00:23:02,230
right now you need<font color="#E5E5E5"> to</font><font color="#CCCCCC"> think about what</font>

528
00:22:59,710 --> 00:23:04,180
if I appear with someone who's<font color="#CCCCCC"> for bite</font>

529
00:23:02,230 --> 00:23:06,010
what if I have a customer<font color="#CCCCCC"> who's for like</font>

530
00:23:04,180 --> 00:23:08,290
what if one<font color="#CCCCCC"> of my transits is for bite</font>

531
00:23:06,010 --> 00:23:11,410
will my current operational support

532
00:23:08,290 --> 00:23:14,020
system do the right thing and by do<font color="#CCCCCC"> the</font>

533
00:23:11,410 --> 00:23:15,670
right thing hopefully it will understand

534
00:23:14,020 --> 00:23:18,100
for bad<font color="#E5E5E5"> straight away because</font>

535
00:23:15,670 --> 00:23:20,380
otherwise you get confused which is<font color="#E5E5E5"> was</font>

536
00:23:18,100 --> 00:23:21,850
I talking about but when<font color="#E5E5E5"> you get your</font>

537
00:23:20,380 --> 00:23:24,160
system to automatically generate

538
00:23:21,850 --> 00:23:26,409
filterless to<font color="#E5E5E5"> automatically as part</font>

539
00:23:24,160 --> 00:23:29,920
filters just remember that if your

540
00:23:26,410 --> 00:23:32,290
router is old to buy the filter is going

541
00:23:29,920 --> 00:23:34,660
to be a 2 3<font color="#E5E5E5"> 4 5 6 filter and then think</font>

542
00:23:32,290 --> 00:23:37,270
about<font color="#CCCCCC"> how many peering sessions that</font>

543
00:23:34,660 --> 00:23:40,480
filter is<font color="#E5E5E5"> applied across because of our</font>

544
00:23:37,270 --> 00:23:45,790
filter for you and your for by<font color="#CCCCCC"> I do a 2</font>

545
00:23:40,480 --> 00:23:49,570
<font color="#CCCCCC">3 4 5 6</font><font color="#E5E5E5"> if I pass traffic from you 10-3</font>

546
00:23:45,790 --> 00:23:51,550
through the same filter 2 3 4 5 6 is

547
00:23:49,570 --> 00:23:53,830
going to get smacked both times<font color="#E5E5E5"> you may</font>

548
00:23:51,550 --> 00:23:58,629
have unintended results be very careful

549
00:23:53,830 --> 00:24:00,070
<font color="#E5E5E5">about your OSS obviously the regional</font>

550
00:23:58,630 --> 00:24:01,690
internet registries are now sending<font color="#CCCCCC"> the</font>

551
00:24:00,070 --> 00:24:03,399
stuff out into the wild obviously

552
00:24:01,690 --> 00:24:05,800
they're going to have to do changes to

553
00:24:03,400 --> 00:24:07,510
report correctly so internet route

554
00:24:05,800 --> 00:24:09,790
registries and<font color="#CCCCCC"> our psl is going to have</font>

555
00:24:07,510 --> 00:24:11,110
to change who is and so on I think Hank

556
00:24:09,790 --> 00:24:13,930
is going to talk about<font color="#E5E5E5"> that</font><font color="#CCCCCC"> my next</font>

557
00:24:11,110 --> 00:24:16,510
presentation<font color="#E5E5E5"> any piece of software you</font>

558
00:24:13,930 --> 00:24:18,880
have that manipulates<font color="#E5E5E5"> a s numbers you've</font>

559
00:24:16,510 --> 00:24:21,129
got to recognize<font color="#E5E5E5"> that very very soon</font>

560
00:24:18,880 --> 00:24:23,080
tomorrow a customer might have said I

561
00:24:21,130 --> 00:24:28,180
want to play<font color="#CCCCCC"> with big numbers here's my</font>

562
00:24:23,080 --> 00:24:30,580
big is number route me so what about<font color="#E5E5E5"> if</font>

563
00:24:28,180 --> 00:24:32,890
you want to play<font color="#CCCCCC"> with this</font><font color="#E5E5E5"> stuff now you</font>

564
00:24:30,580 --> 00:24:35,050
can play with this stuff right<font color="#CCCCCC"> now there</font>

565
00:24:32,890 --> 00:24:38,140
are<font color="#E5E5E5"> patches available for quagga which</font>

566
00:24:35,050 --> 00:24:41,139
is the old zebra on steroids there are

567
00:24:38,140 --> 00:24:43,750
patches for open<font color="#CCCCCC"> bgp d i did some myself</font>

568
00:24:41,140 --> 00:24:45,760
to 3.9 and four point oh and the open

569
00:24:43,750 --> 00:24:47,470
bgp d fokin now working<font color="#E5E5E5"> on integrating</font>

570
00:24:45,760 --> 00:24:50,290
in that into their main line right now

571
00:24:47,470 --> 00:24:51,970
and<font color="#CCCCCC"> i believe that the junos</font><font color="#E5E5E5"> folk can</font>

572
00:24:50,290 --> 00:24:54,070
jump up the correct made the<font color="#E5E5E5"> june hace 4</font>

573
00:24:51,970 --> 00:24:56,980
10 and later and<font color="#CCCCCC"> i don't know the</font>

574
00:24:54,070 --> 00:24:59,500
version numbers for read back what did I

575
00:24:56,980 --> 00:25:01,390
patch when I patched open<font color="#E5E5E5"> bgp d it</font>

576
00:24:59,500 --> 00:25:03,010
wasn't very hard you change the data

577
00:25:01,390 --> 00:25:04,990
structure everything<font color="#CCCCCC"> is four bytes you</font>

578
00:25:03,010 --> 00:25:07,660
change the parser to recognize a dot B

579
00:25:04,990 --> 00:25:10,210
you alter the open processing to say I

580
00:25:07,660 --> 00:25:12,730
do for byte do you do for x and then you

581
00:25:10,210 --> 00:25:14,950
alter the update processing when<font color="#E5E5E5"> I send</font>

582
00:25:12,730 --> 00:25:17,320
a message to a<font color="#CCCCCC"> turbine I go</font><font color="#E5E5E5"> and do the</font>

583
00:25:14,950 --> 00:25:19,390
new<font color="#CCCCCC"> a/s path thing when i receive an</font>

584
00:25:17,320 --> 00:25:21,939
update message from a turbine<font color="#E5E5E5"> i do the</font>

585
00:25:19,390 --> 00:25:23,770
rican vergence with the new<font color="#CCCCCC"> a/s path not</font>

586
00:25:21,940 --> 00:25:26,140
a<font color="#E5E5E5"> very big set of changes the patch said</font>

587
00:25:23,770 --> 00:25:28,030
is actually quite small have we tested

588
00:25:26,140 --> 00:25:30,430
it yes we've tested it is it being

589
00:25:28,030 --> 00:25:34,060
tested right now yes it is if you look

590
00:25:30,430 --> 00:25:35,590
for 20 30 10 dot 63 got 0 / 24 you will

591
00:25:34,060 --> 00:25:38,020
actually find it originates from a as

592
00:25:35,590 --> 00:25:39,490
two three four five<font color="#CCCCCC"> six unless you're</font>

593
00:25:38,020 --> 00:25:41,530
running<font color="#E5E5E5"> something that understands four</font>

594
00:25:39,490 --> 00:25:45,520
byte in which case you will see that it

595
00:25:41,530 --> 00:25:47,350
really originated from<font color="#CCCCCC"> 22 22 if you</font><font color="#E5E5E5"> look</font>

596
00:25:45,520 --> 00:25:48,610
<font color="#E5E5E5">it in route views you'll see this</font><font color="#CCCCCC"> two</font>

597
00:25:47,350 --> 00:25:51,790
<font color="#CCCCCC">three four five six because we're out</font>

598
00:25:48,610 --> 00:25:53,379
views is a<font color="#CCCCCC"> 2-byte bgp and</font><font color="#E5E5E5"> i actually did</font>

599
00:25:51,790 --> 00:25:55,030
this across the live internet on january

600
00:25:53,380 --> 00:25:57,940
the<font color="#CCCCCC"> 11th and found that it works just</font>

601
00:25:55,030 --> 00:25:59,500
hunky and this is one<font color="#CCCCCC"> of the</font><font color="#E5E5E5"> immediate</font>

602
00:25:57,940 --> 00:26:01,150
tests we just go straight through to

603
00:25:59,500 --> 00:26:03,550
bite and back to full bite and yes<font color="#E5E5E5"> you</font>

604
00:26:01,150 --> 00:26:05,170
see the<font color="#E5E5E5"> correct path back again and the</font>

605
00:26:03,550 --> 00:26:08,860
originator is actually being advertised

606
00:26:05,170 --> 00:26:11,200
correctly as a 4-byte so realistically

607
00:26:08,860 --> 00:26:12,879
in BGP no nothing changes everything

608
00:26:11,200 --> 00:26:14,260
just works you don't have to do anything

609
00:26:12,880 --> 00:26:16,170
the internet<font color="#E5E5E5"> won't crash and burn</font>

610
00:26:14,260 --> 00:26:18,790
because of<font color="#CCCCCC"> four by day s numbers whew</font>

611
00:26:16,170 --> 00:26:20,440
will your operating support system do

612
00:26:18,790 --> 00:26:22,090
the right thing when a customer appear

613
00:26:20,440 --> 00:26:25,510
or a transit fronts up with a big number

614
00:26:22,090 --> 00:26:28,030
I don't know you better find out because

615
00:26:25,510 --> 00:26:29,770
that might happen tomorrow so you need

616
00:26:28,030 --> 00:26:30,740
to<font color="#CCCCCC"> ask yourself what will happen if</font><font color="#E5E5E5"> you</font>

617
00:26:29,770 --> 00:26:32,629
get to customers

618
00:26:30,740 --> 00:26:33,920
with a big number three customers with a

619
00:26:32,630 --> 00:26:35,179
big number are you going<font color="#E5E5E5"> to get</font>

620
00:26:33,920 --> 00:26:38,480
terminally confused or will the right

621
00:26:35,179 --> 00:26:40,929
thing happen there's an ietf spec there

622
00:26:38,480 --> 00:26:44,179
it<font color="#CCCCCC"> is it's now at version 13 i believe</font>

623
00:26:40,929 --> 00:26:45,770
the patches that<font color="#E5E5E5"> i did to open bgp dr at</font>

624
00:26:44,179 --> 00:26:48,290
that URL if you actually want to<font color="#E5E5E5"> play</font>

625
00:26:45,770 --> 00:26:51,230
with<font color="#E5E5E5"> it freebsd doesn't understand four</font>

626
00:26:48,290 --> 00:26:52,700
point oh so 3.9 actually works perfectly

627
00:26:51,230 --> 00:26:55,130
on freebsd that's been I did all my

628
00:26:52,700 --> 00:26:57,170
testing and<font color="#CCCCCC"> the quadra</font><font color="#E5E5E5"> folk or at least</font>

629
00:26:55,130 --> 00:26:58,400
not the<font color="#CCCCCC"> quadra folk but some folk are</font>

630
00:26:57,170 --> 00:27:00,350
working on this and submitting it to

631
00:26:58,400 --> 00:27:02,270
quagga and their patches are over<font color="#E5E5E5"> there</font>

632
00:27:00,350 --> 00:27:04,820
so if you want<font color="#E5E5E5"> to play it's actually</font>

633
00:27:02,270 --> 00:27:06,440
really quite cool to play you can go and

634
00:27:04,820 --> 00:27:08,240
<font color="#E5E5E5">get an experimental allocation from a</font>

635
00:27:06,440 --> 00:27:14,090
regional internet registry and you can

636
00:27:08,240 --> 00:27:15,710
play today<font color="#CCCCCC"> thank you questions yeah we</font>

637
00:27:14,090 --> 00:27:17,300
have time<font color="#CCCCCC"> for a few questions if we</font><font color="#E5E5E5"> want</font>

638
00:27:15,710 --> 00:27:23,630
and Hank if you can come up<font color="#E5E5E5"> while we</font>

639
00:27:17,300 --> 00:27:25,850
take questions that would<font color="#E5E5E5"> be great so</font>

640
00:27:23,630 --> 00:27:28,910
what I heard an<font color="#E5E5E5"> analog ago was someone</font>

641
00:27:25,850 --> 00:27:31,580
saying oh<font color="#CCCCCC"> my god will I not see anyone</font>

642
00:27:28,910 --> 00:27:34,100
who advertises with a 4-byte ASR adjourn

643
00:27:31,580 --> 00:27:35,870
am I breaking connectivity and hopefully

644
00:27:34,100 --> 00:27:38,120
I have demonstrated to<font color="#CCCCCC"> has</font><font color="#E5E5E5"> given you</font>

645
00:27:35,870 --> 00:27:40,280
some confidence that that is not<font color="#E5E5E5"> a</font>

646
00:27:38,120 --> 00:27:44,270
<font color="#CCCCCC">problem connectivity is connectivity</font>

647
00:27:40,280 --> 00:27:46,389
this will<font color="#CCCCCC"> just work I'm</font><font color="#E5E5E5"> glad you share</font>

648
00:27:44,270 --> 00:27:49,389
<font color="#CCCCCC">that confidence then great I think</font>

649
00:27:46,390 --> 00:27:49,390
<font color="#E5E5E5">thanks</font>

