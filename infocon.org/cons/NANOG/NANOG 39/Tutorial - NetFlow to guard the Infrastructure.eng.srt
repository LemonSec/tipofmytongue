1
00:00:01,730 --> 00:00:10,679
so yeah my name is yen obviously and i

2
00:00:06,600 --> 00:00:14,399
will talk about net flow more

3
00:00:10,679 --> 00:00:19,039
specifically as a security uses of net

4
00:00:14,400 --> 00:00:22,519
flow in a backbone prospective I mean

5
00:00:19,039 --> 00:00:27,180
more specifically to look at the

6
00:00:22,519 --> 00:00:31,640
infrastructure part so I'm<font color="#E5E5E5"> not</font><font color="#CCCCCC"> really</font>

7
00:00:27,180 --> 00:00:36,860
interested well I'm the point is not to

8
00:00:31,640 --> 00:00:42,780
have a look at pier to be a massive

9
00:00:36,860 --> 00:00:45,149
events in the data<font color="#CCCCCC"> plane but more</font><font color="#E5E5E5"> even</font>

10
00:00:42,780 --> 00:00:58,140
<font color="#E5E5E5">star getting the control and management</font>

11
00:00:45,149 --> 00:01:03,260
plane but whatever so there is mostly to

12
00:00:58,140 --> 00:01:07,979
two parts yeah let's see two parts the

13
00:01:03,260 --> 00:01:14,400
first part being what's on the exporter

14
00:01:07,979 --> 00:01:18,060
side of the thing so our one configures

15
00:01:14,400 --> 00:01:21,840
net flow on its routers or think like

16
00:01:18,060 --> 00:01:24,479
that and the second<font color="#E5E5E5"> part is on the</font>

17
00:01:21,840 --> 00:01:27,840
collecting side so what to do with the

18
00:01:24,479 --> 00:01:33,450
exported data and what tools are

19
00:01:27,840 --> 00:01:38,100
available and some overview of what we

20
00:01:33,450 --> 00:01:45,390
can do<font color="#E5E5E5"> with said tools and then short</font>

21
00:01:38,100 --> 00:01:49,919
conclusion as usual I ever so this<font color="#CCCCCC"> is a</font>

22
00:01:45,390 --> 00:01:56,369
part with slides actually I will I have

23
00:01:49,920 --> 00:02:01,350
a live capture of the nanog traffic on

24
00:01:56,369 --> 00:02:05,670
my locally on my<font color="#E5E5E5"> disk so rather than to</font>

25
00:02:01,350 --> 00:02:09,179
present screenshots I will we'll just

26
00:02:05,670 --> 00:02:11,460
have a look using some tool in the

27
00:02:09,179 --> 00:02:15,350
traffic which was captured

28
00:02:11,460 --> 00:02:26,180
in the first few our previous hours

29
00:02:15,350 --> 00:02:30,780
that's it so<font color="#CCCCCC"> 22 to begin with the basics</font>

30
00:02:26,180 --> 00:02:36,060
what's<font color="#CCCCCC"> netflow so everybody knows what</font>

31
00:02:30,780 --> 00:02:38,520
net flow is but<font color="#E5E5E5"> ok just this is a way</font>

32
00:02:36,060 --> 00:02:40,530
for the<font color="#E5E5E5"> rooters</font><font color="#CCCCCC"> to export some</font>

33
00:02:38,520 --> 00:02:44,880
information regarding the packet

34
00:02:40,530 --> 00:02:49,140
forwarded yeah so basically<font color="#E5E5E5"> net flow is</font>

35
00:02:44,880 --> 00:02:51,840
two things up the midway through several

36
00:02:49,140 --> 00:02:57,390
things a metering process and the

37
00:02:51,840 --> 00:03:03,030
<font color="#CCCCCC">Reuters and routing devices and a</font>

38
00:02:57,390 --> 00:03:07,739
protocol on the wire to export and work

39
00:03:03,030 --> 00:03:11,070
on those data yeah so for different uses

40
00:03:07,740 --> 00:03:13,890
like<font color="#CCCCCC"> real-time or near real time because</font>

41
00:03:11,070 --> 00:03:16,920
<font color="#CCCCCC">flows are not exported really real time</font>

42
00:03:13,890 --> 00:03:20,549
which<font color="#CCCCCC"> is at and then for more long term</font>

43
00:03:16,920 --> 00:03:23,549
<font color="#E5E5E5">and trending or whatever you want to do</font>

44
00:03:20,550 --> 00:03:30,450
with<font color="#E5E5E5"> them and forensics that can use</font>

45
00:03:23,550 --> 00:03:34,460
that kind of stuff<font color="#E5E5E5"> so at first netflow</font>

46
00:03:30,450 --> 00:03:38,780
was and is pushed mainly by one

47
00:03:34,460 --> 00:03:43,710
prominent van dough in the rotor land

48
00:03:38,780 --> 00:03:46,950
but I this is this<font color="#E5E5E5"> is now an industry</font>

49
00:03:43,710 --> 00:03:49,950
standard meaning that this isn't it's in

50
00:03:46,950 --> 00:03:53,730
the process of being well there is an

51
00:03:49,950 --> 00:04:00,989
<font color="#E5E5E5">IDF work group I pfx working on</font>

52
00:03:53,730 --> 00:04:04,130
normalization stuff and an important

53
00:04:00,990 --> 00:04:08,660
part an important number of all the

54
00:04:04,130 --> 00:04:12,540
Vandals beside<font color="#E5E5E5"> bondo see as you put</font>

55
00:04:08,660 --> 00:04:16,219
<font color="#CCCCCC">netflow support net flow so this is</font>

56
00:04:12,540 --> 00:04:19,170
<font color="#E5E5E5">quite an industry standard the other</font>

57
00:04:16,220 --> 00:04:23,669
standard or aiming<font color="#CCCCCC"> to be a standard</font>

58
00:04:19,170 --> 00:04:24,950
would be as flow but with without<font color="#E5E5E5"> the</font>

59
00:04:23,669 --> 00:04:29,669
same

60
00:04:24,950 --> 00:04:32,130
support device report so okay so yeah

61
00:04:29,670 --> 00:04:37,830
those are also technologies and crane

62
00:04:32,130 --> 00:04:41,640
diameter and as flow at one point yeah

63
00:04:37,830 --> 00:04:45,680
so when the<font color="#CCCCCC"> IP FX work group started</font>

64
00:04:41,640 --> 00:04:50,539
work on flow like export normalization

65
00:04:45,680 --> 00:04:56,160
they considered different possibilities

66
00:04:50,540 --> 00:05:00,180
to to use as a base for the new protocol

67
00:04:56,160 --> 00:05:02,550
and so they choose<font color="#CCCCCC"> netflow v9 so i will</font>

68
00:05:00,180 --> 00:05:06,900
talk about<font color="#CCCCCC"> different flavors of net flow</font>

69
00:05:02,550 --> 00:05:09,690
but just to say that there were

70
00:05:06,900 --> 00:05:13,020
different proposals from different

71
00:05:09,690 --> 00:05:16,710
vendors I guess through as I said and

72
00:05:13,020 --> 00:05:23,880
then<font color="#CCCCCC"> net flow cisco netflow was chosen</font>

73
00:05:16,710 --> 00:05:27,270
as a base for IPO FX so what's a what's

74
00:05:23,880 --> 00:05:31,200
a flow are quickly so too definition

75
00:05:27,270 --> 00:05:35,010
first one being<font color="#CCCCCC"> I'll lose</font><font color="#E5E5E5"> one but it</font>

76
00:05:31,200 --> 00:05:39,690
works so basically you have packets

77
00:05:35,010 --> 00:05:42,270
forwarded on your Reuters and yeah some

78
00:05:39,690 --> 00:05:46,130
of those packets share some

79
00:05:42,270 --> 00:05:50,849
characteristics and<font color="#CCCCCC"> okay you decide that</font>

80
00:05:46,130 --> 00:05:54,780
<font color="#E5E5E5">this set of characteristics define a</font>

81
00:05:50,850 --> 00:05:59,900
flow<font color="#CCCCCC"> okay same definition more verbose</font>

82
00:05:54,780 --> 00:06:04,590
and so well<font color="#E5E5E5"> actually on the wire and</font>

83
00:05:59,900 --> 00:06:08,310
what<font color="#E5E5E5"> what's a flow exactly so some key</font>

84
00:06:04,590 --> 00:06:12,510
fields and number of<font color="#E5E5E5"> them and some</font>

85
00:06:08,310 --> 00:06:16,470
additional fields<font color="#E5E5E5"> I am talking here</font>

86
00:06:12,510 --> 00:06:19,530
about the version 5 of net flow because

87
00:06:16,470 --> 00:06:23,630
I want<font color="#E5E5E5"> to enter into big details but</font>

88
00:06:19,530 --> 00:06:28,830
there is different versions of net flow

89
00:06:23,630 --> 00:06:31,740
historically<font color="#E5E5E5"> and so currently we are</font>

90
00:06:28,830 --> 00:06:35,180
talking mostly about the pro v5 which is

91
00:06:31,740 --> 00:06:37,800
basically the stand up but let Ravi<font color="#CCCCCC"> 9 is</font>

92
00:06:35,180 --> 00:06:43,199
is pushing so

93
00:06:37,800 --> 00:06:45,830
<font color="#E5E5E5">okay so a flow version 5 is the key</font>

94
00:06:43,199 --> 00:06:48,680
fields like source and destination

95
00:06:45,830 --> 00:06:53,128
addresses source and destination port

96
00:06:48,680 --> 00:06:58,319
the layer<font color="#E5E5E5"> 3 protocol information type of</font>

97
00:06:53,129 --> 00:07:01,560
service and input<font color="#E5E5E5"> I</font><font color="#CCCCCC"> F index and then</font>

98
00:06:58,319 --> 00:07:04,860
some additional fields like a background

99
00:07:01,560 --> 00:07:09,780
packet count the start and end time of

100
00:07:04,860 --> 00:07:14,159
the flu the<font color="#CCCCCC"> TCP flags when available or</font>

101
00:07:09,780 --> 00:07:16,948
when really want of course and some

102
00:07:14,159 --> 00:07:22,789
routing informations like next next up

103
00:07:16,949 --> 00:07:22,789
source and destination is when available

104
00:07:25,610 --> 00:07:34,590
so few characteristics based upon that

105
00:07:30,750 --> 00:07:40,229
is that a flow really is about layer

106
00:07:34,590 --> 00:07:45,270
yeah 3 and 4 information flow through

107
00:07:40,229 --> 00:07:50,789
the unidirectional beating race or more

108
00:07:45,270 --> 00:07:54,120
<font color="#CCCCCC">recently egress but I mean that if we</font>

109
00:07:50,789 --> 00:07:57,449
take<font color="#CCCCCC"> I will say a bit more later on that</font>

110
00:07:54,120 --> 00:08:03,750
but well when we want to<font color="#E5E5E5"> look at traffic</font>

111
00:07:57,449 --> 00:08:06,629
what we have in<font color="#CCCCCC"> 9 is layer 7 well when</font>

112
00:08:03,750 --> 00:08:11,879
we want<font color="#E5E5E5"> to do some analysis what we see</font>

113
00:08:06,629 --> 00:08:13,620
is layer 7 traffic and wire and but the

114
00:08:11,879 --> 00:08:18,419
<font color="#E5E5E5">probe records which are exported</font>

115
00:08:13,620 --> 00:08:21,770
basically split two ways of the layer 7

116
00:08:18,419 --> 00:08:25,198
communications or stream or conversation

117
00:08:21,770 --> 00:08:32,039
course at wherever<font color="#E5E5E5"> you want and and so</font>

118
00:08:25,199 --> 00:08:37,370
<font color="#CCCCCC">you end up</font><font color="#E5E5E5"> with two with two records in</font>

119
00:08:32,039 --> 00:08:39,899
both ways if I'm clear and ok some other

120
00:08:37,370 --> 00:08:43,140
characteristics but yeah that's not

121
00:08:39,899 --> 00:08:46,709
without cost for the router like memory

122
00:08:43,140 --> 00:08:50,350
CPU so things you have to take into

123
00:08:46,709 --> 00:08:54,319
account before

124
00:08:50,350 --> 00:08:57,530
before enabling<font color="#CCCCCC"> netflix port on some of</font>

125
00:08:54,320 --> 00:09:03,070
your boxee boxes and yeah kind of the

126
00:08:57,530 --> 00:09:08,329
<font color="#E5E5E5">perfect solution blah blah Joe rational</font>

127
00:09:03,070 --> 00:09:14,810
<font color="#E5E5E5">net flow was first opinion if i'm not</font>

128
00:09:08,330 --> 00:09:19,010
mistaken on 96 96 oh I'm not a cisco guy

129
00:09:14,810 --> 00:09:24,349
so check with your rep that<font color="#E5E5E5"> I think that</font>

130
00:09:19,010 --> 00:09:27,800
that's the point<font color="#E5E5E5"> okay so all techno the</font>

131
00:09:24,350 --> 00:09:30,650
truth is actually that a lot is

132
00:09:27,800 --> 00:09:33,439
happening in the eye in the protocol and

133
00:09:30,650 --> 00:09:36,530
implementation front so and there is a

134
00:09:33,440 --> 00:09:41,870
<font color="#E5E5E5">lot of project and jumping on the net</font>

135
00:09:36,530 --> 00:09:47,300
flow bandwagon so yeah a lot of<font color="#E5E5E5"> things</font>

136
00:09:41,870 --> 00:09:50,680
<font color="#E5E5E5">are evolving around okay and even with</font>

137
00:09:47,300 --> 00:09:56,420
no probing unknown and techno I mean I

138
00:09:50,680 --> 00:10:02,479
keep seeing in the forums and the SP

139
00:09:56,420 --> 00:10:05,810
forum yeah I want<font color="#CCCCCC"> monitor that's kind of</font>

140
00:10:02,480 --> 00:10:10,550
layer layer<font color="#CCCCCC"> 3 or 4 information for some</font>

141
00:10:05,810 --> 00:10:13,010
customers link or<font color="#CCCCCC"> or on some part</font><font color="#E5E5E5"> of my</font>

142
00:10:10,550 --> 00:10:15,859
backbone know or should<font color="#E5E5E5"> I do that or</font>

143
00:10:13,010 --> 00:10:17,930
what tool do you use to what can<font color="#E5E5E5"> I do</font>

144
00:10:15,860 --> 00:10:21,200
with<font color="#E5E5E5"> net flow I've heard about net flow</font>

145
00:10:17,930 --> 00:10:27,260
I don't know what what do you what<font color="#E5E5E5"> so</font>

146
00:10:21,200 --> 00:10:29,840
uses are or whatever so okay even being

147
00:10:27,260 --> 00:10:33,140
in northern well not technol<font color="#CCCCCC"> I think</font>

148
00:10:29,840 --> 00:10:38,330
that there<font color="#CCCCCC"> is a reason for why I also</font>

149
00:10:33,140 --> 00:10:42,160
for tutorial from the<font color="#E5E5E5"> beginning from the</font>

150
00:10:38,330 --> 00:10:45,320
<font color="#CCCCCC">root aside to the tools actually and</font>

151
00:10:42,160 --> 00:10:49,449
yeah also point to to keep in mind<font color="#CCCCCC"> is</font>

152
00:10:45,320 --> 00:10:53,860
<font color="#E5E5E5">that infrastructure is my steel is</font>

153
00:10:49,450 --> 00:10:53,860
potential target one way or another

154
00:10:54,710 --> 00:11:02,120
everybody yeah you know that but so I've

155
00:10:58,770 --> 00:11:07,970
been several recent Cisco advisories

156
00:11:02,120 --> 00:11:10,760
very recently a few weeks<font color="#E5E5E5"> ago so I mean</font>

157
00:11:07,970 --> 00:11:13,200
stuff is happening in the infrastructure

158
00:11:10,760 --> 00:11:15,830
when I talk about infrastructure like

159
00:11:13,200 --> 00:11:18,980
everybody else but<font color="#E5E5E5"> I talk about yeah</font>

160
00:11:15,830 --> 00:11:24,120
obviously layer 3 and above stuff

161
00:11:18,980 --> 00:11:27,240
because but so rotors and infrastructure

162
00:11:24,120 --> 00:11:29,670
servers like dns and so yeah okay

163
00:11:27,240 --> 00:11:32,510
infrastructure<font color="#CCCCCC"> may be a potential target</font>

164
00:11:29,670 --> 00:11:35,610
and but what's needed actually is

165
00:11:32,510 --> 00:11:40,200
actually inside I mean<font color="#CCCCCC"> as there is a lot</font>

166
00:11:35,610 --> 00:11:44,040
of fun phantasms and and third<font color="#CCCCCC"> discourse</font>

167
00:11:40,200 --> 00:11:46,890
<font color="#CCCCCC">is being heard and what we need what you</font>

168
00:11:44,040 --> 00:11:50,000
need on your backbones on your network

169
00:11:46,890 --> 00:11:54,510
is is to<font color="#CCCCCC"> know what's happening either</font>

170
00:11:50,000 --> 00:11:59,460
actually packets attacks<font color="#CCCCCC"> targeting your</font>

171
00:11:54,510 --> 00:12:04,310
router's is<font color="#CCCCCC"> there even low low key</font>

172
00:11:59,460 --> 00:12:06,960
profile low profile attacks i mean just

173
00:12:04,310 --> 00:12:12,000
dictionary attacks against telnet or SSH

174
00:12:06,960 --> 00:12:14,340
port or against some of your IP space

175
00:12:12,000 --> 00:12:17,070
used by you and frustration off stuff

176
00:12:14,340 --> 00:12:21,890
like that that's important to know by

177
00:12:17,070 --> 00:12:21,890
the way<font color="#CCCCCC"> where it's at my insert</font><font color="#E5E5E5"> my point</font>

178
00:12:21,950 --> 00:12:33,450
so<font color="#E5E5E5"> net flow versions</font><font color="#CCCCCC"> i talked about</font>

179
00:12:27,620 --> 00:12:37,230
<font color="#CCCCCC">netflow version 5 and version 9 so there</font>

180
00:12:33,450 --> 00:12:41,010
is<font color="#CCCCCC"> a different version of the protocol</font>

181
00:12:37,230 --> 00:12:42,330
the thing is that actually yeah I said

182
00:12:41,010 --> 00:12:47,180
<font color="#CCCCCC">that we are</font><font color="#E5E5E5"> talking about two</font><font color="#CCCCCC"> things</font>

183
00:12:42,330 --> 00:12:47,180
that protocol<font color="#E5E5E5"> and were on the wire and</font>

184
00:12:47,330 --> 00:12:56,790
process on the metering side to gather

185
00:12:52,470 --> 00:13:00,180
information<font color="#E5E5E5"> prior to export so this is</font>

186
00:12:56,790 --> 00:13:06,689
ready to these different things and so

187
00:13:00,180 --> 00:13:07,888
in both<font color="#CCCCCC"> side things continue to to being</font>

188
00:13:06,690 --> 00:13:11,989
worked on

189
00:13:07,889 --> 00:13:16,529
like with the<font color="#CCCCCC"> IPF X working group and</font>

190
00:13:11,989 --> 00:13:21,139
Cisco Cisco Soria and<font color="#E5E5E5"> its own that keeps</font>

191
00:13:16,529 --> 00:13:26,509
on improving while all complex defying

192
00:13:21,139 --> 00:13:30,149
sometimes the stuff okay and<font color="#E5E5E5"> anyway so</font>

193
00:13:26,509 --> 00:13:33,949
regarding flavors version the<font color="#E5E5E5"> sterilized</font>

194
00:13:30,149 --> 00:13:37,350
stuff like that it depends a lot of some

195
00:13:33,949 --> 00:13:41,099
combinations of software software

196
00:13:37,350 --> 00:13:44,429
hardware and the bundle that you have

197
00:13:41,100 --> 00:13:51,119
and combinations of those meaning<font color="#CCCCCC"> that</font>

198
00:13:44,429 --> 00:13:56,540
ok some<font color="#CCCCCC"> van dough some non cylinder for</font>

199
00:13:51,119 --> 00:14:00,720
example will support obviously only

200
00:13:56,540 --> 00:14:04,019
Russian<font color="#E5E5E5"> five for example and a new</font>

201
00:14:00,720 --> 00:14:06,919
subset of it meaning<font color="#CCCCCC"> that some Sun</font>

202
00:14:04,019 --> 00:14:11,579
fields which are part of the protocol

203
00:14:06,919 --> 00:14:18,470
will not be exported<font color="#E5E5E5"> or field if you</font>

204
00:14:11,579 --> 00:14:21,929
enable<font color="#CCCCCC"> netflow expert on some device and</font>

205
00:14:18,470 --> 00:14:26,040
yeah if you for example junipers you put

206
00:14:21,929 --> 00:14:28,790
<font color="#E5E5E5">net flow</font><font color="#CCCCCC"> to and so net flow version 5</font>

207
00:14:26,040 --> 00:14:32,399
only for now and there isn't some

208
00:14:28,790 --> 00:14:35,219
particular reasons to when you enable

209
00:14:32,399 --> 00:14:38,790
net flow so depending on on your

210
00:14:35,220 --> 00:14:41,759
hardware<font color="#E5E5E5"> and software on and and bando</font>

211
00:14:38,790 --> 00:14:45,509
as I said<font color="#E5E5E5"> there is many things to keep</font>

212
00:14:41,759 --> 00:14:48,329
in mind and many particularities just

213
00:14:45,509 --> 00:14:51,110
waiting to bite you when one way or

214
00:14:48,329 --> 00:14:55,219
another so there is there is no

215
00:14:51,110 --> 00:14:59,039
<font color="#CCCCCC">Universal recite to enable netflow just</font>

216
00:14:55,220 --> 00:15:01,730
yeah it depends<font color="#E5E5E5"> a lot of of the context</font>

217
00:14:59,039 --> 00:15:01,730
but anyway

218
00:15:05,970 --> 00:15:15,959
now so sorry I'm waiting so back to<font color="#E5E5E5"> the</font>

219
00:15:12,839 --> 00:15:19,589
versions as<font color="#E5E5E5"> I said version 5 de facto</font>

220
00:15:15,959 --> 00:15:23,420
standard well less and less by the way

221
00:15:19,589 --> 00:15:28,819
because<font color="#E5E5E5"> for example i said that i</font>

222
00:15:23,420 --> 00:15:32,729
collected some traffic on the neck

223
00:15:28,819 --> 00:15:40,160
tonight nanog network so from the border

224
00:15:32,730 --> 00:15:44,420
router some hours ago and and by default

225
00:15:40,160 --> 00:15:48,509
the version export it was version 9 so

226
00:15:44,420 --> 00:15:53,479
things are changing anyway<font color="#E5E5E5"> so what is so</font>

227
00:15:48,509 --> 00:15:58,980
we saw what flow our flow looks like

228
00:15:53,480 --> 00:16:01,490
version 5 on the<font color="#E5E5E5"> version 9 front you</font><font color="#CCCCCC"> ok</font>

229
00:15:58,980 --> 00:16:06,379
many things have changed by the way so

230
00:16:01,490 --> 00:16:06,379
first first of all the system<font color="#E5E5E5"> plate base</font>

231
00:16:06,589 --> 00:16:16,259
what it means that<font color="#CCCCCC"> ok it brings a lot of</font>

232
00:16:12,199 --> 00:16:18,329
flexibility well for<font color="#CCCCCC"> now the only</font>

233
00:16:16,259 --> 00:16:22,259
flexibility that you will get with

234
00:16:18,329 --> 00:16:25,589
natural v9 is that you as a user has to

235
00:16:22,259 --> 00:16:28,620
be very flexible because your rotors

236
00:16:25,589 --> 00:16:30,509
won't be any more flexible than usual

237
00:16:28,620 --> 00:16:33,509
meaning that you don't have the choice

238
00:16:30,509 --> 00:16:37,050
of<font color="#E5E5E5"> the</font><font color="#CCCCCC"> templates for now this</font><font color="#E5E5E5"> is</font>

239
00:16:33,509 --> 00:16:39,540
<font color="#E5E5E5">changing I don't want to to have</font>

240
00:16:37,050 --> 00:16:42,089
somebody from<font color="#CCCCCC"> Cisco rice and say ok I</font>

241
00:16:39,540 --> 00:16:44,670
know that yes this is<font color="#E5E5E5"> changing but for</font>

242
00:16:42,089 --> 00:16:47,939
now flexibility mean you you have to<font color="#E5E5E5"> be</font>

243
00:16:44,670 --> 00:16:52,399
very<font color="#E5E5E5"> flexible and so</font><font color="#CCCCCC"> ok</font><font color="#E5E5E5"> we now bring</font>

244
00:16:47,939 --> 00:16:58,550
some interesting<font color="#E5E5E5"> features anyway like</font>

245
00:16:52,399 --> 00:17:03,380
also transport beside UDP like IP basics

246
00:16:58,550 --> 00:17:06,839
support<font color="#CCCCCC"> okay</font><font color="#E5E5E5"> this is another description</font>

247
00:17:03,380 --> 00:17:11,099
some more importantly perhaps some layer

248
00:17:06,839 --> 00:17:15,720
two fields like make addresses and some

249
00:17:11,099 --> 00:17:19,089
additional additional layer<font color="#CCCCCC"> three feeds</font>

250
00:17:15,720 --> 00:17:25,870
<font color="#E5E5E5">like TTL ipid</font>

251
00:17:19,089 --> 00:17:27,220
and bgp next pope information probably

252
00:17:25,869 --> 00:17:31,539
not processed by your collector of

253
00:17:27,220 --> 00:17:35,679
choice what<font color="#CCCCCC"> I mean is that an important</font>

254
00:17:31,539 --> 00:17:39,400
them well yeah more and more collectors

255
00:17:35,679 --> 00:17:43,179
and support net will be nine but for

256
00:17:39,400 --> 00:17:49,900
example for the collector<font color="#E5E5E5"> I will talk</font>

257
00:17:43,179 --> 00:17:53,830
about later later the<font color="#E5E5E5"> support yet the</font>

258
00:17:49,900 --> 00:17:57,490
templates and the v9 protocol but they

259
00:17:53,830 --> 00:18:00,699
don't broke the additional fields yet so

260
00:17:57,490 --> 00:18:04,899
meaning that you could well enable on

261
00:18:00,700 --> 00:18:10,539
your router say export of TTL if it

262
00:18:04,899 --> 00:18:13,209
makes<font color="#E5E5E5"> sense for you for now it won't it</font>

263
00:18:10,539 --> 00:18:16,149
won't be used on your collector of

264
00:18:13,210 --> 00:18:21,520
choice well many chances are<font color="#E5E5E5"> it will not</font>

265
00:18:16,149 --> 00:18:25,809
be used anyway so netru v9e is a moving

266
00:18:21,520 --> 00:18:29,379
target as<font color="#E5E5E5"> I said and some features are</font>

267
00:18:25,809 --> 00:18:35,500
backwards to version 5 like transport<font color="#E5E5E5"> in</font>

268
00:18:29,380 --> 00:18:39,880
<font color="#E5E5E5">dependency so recently net flow networks</font>

269
00:18:35,500 --> 00:18:42,010
<font color="#E5E5E5">port on cisco</font><font color="#CCCCCC"> reuters gain yeah</font><font color="#E5E5E5"> okay</font>

270
00:18:39,880 --> 00:18:47,919
transporting dependency meaning that you

271
00:18:42,010 --> 00:18:52,658
are not you can enable tcp HTTP for the

272
00:18:47,919 --> 00:18:56,620
export and then there is<font color="#E5E5E5"> a net full</font>

273
00:18:52,659 --> 00:19:01,750
version 10 which is also known as I pfx

274
00:18:56,620 --> 00:19:07,418
so which<font color="#E5E5E5"> is</font><font color="#CCCCCC"> a etf</font><font color="#E5E5E5"> beast and in this</font>

275
00:19:01,750 --> 00:19:10,059
front it's based on on a fork of<font color="#E5E5E5"> net</font>

276
00:19:07,419 --> 00:19:13,200
<font color="#E5E5E5">rovi</font><font color="#CCCCCC"> 9 because</font><font color="#E5E5E5"> I said that that will be</font>

277
00:19:10,059 --> 00:19:18,149
<font color="#E5E5E5">9 was chosen as a base for the</font>

278
00:19:13,200 --> 00:19:23,200
standardization<font color="#E5E5E5"> default so meaning that</font>

279
00:19:18,149 --> 00:19:25,809
<font color="#E5E5E5">netru v9 which is</font><font color="#CCCCCC"> what supported by your</font>

280
00:19:23,200 --> 00:19:29,350
<font color="#CCCCCC">router's right now while depending on</font>

281
00:19:25,809 --> 00:19:33,309
the iOS version and some configurations

282
00:19:29,350 --> 00:19:37,029
like that but so<font color="#E5E5E5"> they is not</font><font color="#CCCCCC"> the same as</font>

283
00:19:33,309 --> 00:19:41,080
what's working on under the name I pfx

284
00:19:37,029 --> 00:19:44,230
so<font color="#E5E5E5"> okay and there is</font><font color="#CCCCCC"> also versions like</font>

285
00:19:41,080 --> 00:19:50,019
version 1 which is<font color="#E5E5E5"> where yeah the first</font>

286
00:19:44,230 --> 00:19:52,080
and some versions which are used a new

287
00:19:50,019 --> 00:19:58,269
which are relevant only four switches

288
00:19:52,080 --> 00:20:01,779
like version 7 version and it brings

289
00:19:58,269 --> 00:20:04,990
some root of a segregation that anyway

290
00:20:01,779 --> 00:20:11,350
and<font color="#CCCCCC"> now even though where the switch is</font>

291
00:20:04,990 --> 00:20:15,250
layer<font color="#E5E5E5"> 2 layer 3 b's support version 52</font>

292
00:20:11,350 --> 00:20:16,658
so normally you should have on your

293
00:20:15,250 --> 00:20:19,269
collectors you should collect on<font color="#CCCCCC"> any</font>

294
00:20:16,659 --> 00:20:24,250
version<font color="#E5E5E5"> 5 and</font><font color="#CCCCCC"> drabs version 9 at the</font>

295
00:20:19,269 --> 00:20:27,240
point so because particular reasons<font color="#CCCCCC"> I</font>

296
00:20:24,250 --> 00:20:32,039
said support is not the same<font color="#E5E5E5"> on all</font>

297
00:20:27,240 --> 00:20:37,899
devices for example not all boxes from

298
00:20:32,039 --> 00:20:40,600
set aside band or supports<font color="#CCCCCC"> netflow so if</font>

299
00:20:37,899 --> 00:20:46,689
this<font color="#E5E5E5"> is a feature which is important for</font>

300
00:20:40,600 --> 00:20:49,418
you it ok take that into account and

301
00:20:46,690 --> 00:20:53,799
even<font color="#E5E5E5"> when supported</font><font color="#CCCCCC"> I mean</font><font color="#E5E5E5"> for example</font>

302
00:20:49,419 --> 00:20:58,960
on some registry which is TCP flags are

303
00:20:53,799 --> 00:21:04,799
not exported so<font color="#E5E5E5"> not a big deal but yeah</font>

304
00:20:58,960 --> 00:21:04,799
there is a lot of particular reasons<font color="#CCCCCC"> ok</font>

305
00:21:05,850 --> 00:21:13,209
yeah<font color="#E5E5E5"> and on Reuters to you have some</font>

306
00:21:09,129 --> 00:21:17,620
particle rhythms so when you want to

307
00:21:13,210 --> 00:21:21,700
enable net flow on the 12 case you have

308
00:21:17,620 --> 00:21:24,750
that big question big warning every dog

309
00:21:21,700 --> 00:21:30,309
and every public documentation that

310
00:21:24,750 --> 00:21:31,450
saying that<font color="#CCCCCC"> ok all kind of trouble may</font>

311
00:21:30,309 --> 00:21:35,799
while just

312
00:21:31,450 --> 00:21:37,690
that during a drink appropriate time

313
00:21:35,799 --> 00:21:40,990
frame<font color="#E5E5E5"> and then the reason does a</font>

314
00:21:37,690 --> 00:21:45,490
question which<font color="#CCCCCC"> is less less advertised</font>

315
00:21:40,990 --> 00:21:49,210
saying that the way it's done<font color="#E5E5E5"> on order</font>

316
00:21:45,490 --> 00:21:54,120
and Giants for the two and jeans for the

317
00:21:49,210 --> 00:21:58,779
12<font color="#E5E5E5"> KS enabling fooling a to export put</font>

318
00:21:54,120 --> 00:22:03,039
quite of burden on the memory<font color="#E5E5E5"> and so I'm</font>

319
00:21:58,779 --> 00:22:07,929
<font color="#E5E5E5">for for the funnier i'm not sure</font><font color="#CCCCCC"> but for</font>

320
00:22:03,039 --> 00:22:11,559
4g anecdotes and the questions are too

321
00:22:07,929 --> 00:22:16,419
so don't do that<font color="#CCCCCC"> i tried on on</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> 12 k</font>

322
00:22:11,559 --> 00:22:19,059
and and so you have<font color="#E5E5E5"> 2 12 KS and on one</font>

323
00:22:16,419 --> 00:22:22,570
you you configure the<font color="#CCCCCC"> net flow export</font>

324
00:22:19,059 --> 00:22:25,600
and you lose connectivity with your box

325
00:22:22,570 --> 00:22:30,519
and so you check on the console and you

326
00:22:25,600 --> 00:22:33,908
see funny messages like a user d safe

327
00:22:30,519 --> 00:22:36,490
and distributed safe disabled due to low

328
00:22:33,909 --> 00:22:43,090
memory conditions and so you say oops

329
00:22:36,490 --> 00:22:47,010
and so but all Europe your BG ppl went

330
00:22:43,090 --> 00:22:51,580
to use<font color="#E5E5E5"> our 12 k and so 0 12 k which</font><font color="#CCCCCC"> is a</font>

331
00:22:47,010 --> 00:22:55,750
shot on memory to start to<font color="#CCCCCC"> okay well not</font>

332
00:22:51,580 --> 00:23:03,370
not not a good idea by the way so do

333
00:22:55,750 --> 00:23:07,600
tests on on a lab not in production so

334
00:23:03,370 --> 00:23:12,699
yeah this was some overview of<font color="#CCCCCC"> what net</font>

335
00:23:07,600 --> 00:23:15,519
flow and then and the flow cage so the

336
00:23:12,700 --> 00:23:18,669
<font color="#E5E5E5">principle of net flow is that basically</font>

337
00:23:15,519 --> 00:23:20,980
you have one or several depend depending

338
00:23:18,669 --> 00:23:23,220
of what we are talking about so you have

339
00:23:20,980 --> 00:23:28,510
a<font color="#E5E5E5"> memory catch which is kept under</font>

340
00:23:23,220 --> 00:23:32,019
Reuters which is enabled not for well

341
00:23:28,510 --> 00:23:34,750
and the wording is a bit confusing way

342
00:23:32,019 --> 00:23:39,340
it's enabled yeah you enable<font color="#CCCCCC"> netflow</font>

343
00:23:34,750 --> 00:23:42,730
export and net will capture / interface

344
00:23:39,340 --> 00:23:44,149
but the catch is global for all

345
00:23:42,730 --> 00:23:49,340
interfaces

346
00:23:44,150 --> 00:23:54,200
<font color="#E5E5E5">okay and so you can tune the number of</font>

347
00:23:49,340 --> 00:23:56,179
entries you will keep anyway and so the

348
00:23:54,200 --> 00:23:59,570
point how it works is that for each

349
00:23:56,180 --> 00:24:02,930
packets and drinkin interface so either

350
00:23:59,570 --> 00:24:05,840
you have a corresponding flow existing

351
00:24:02,930 --> 00:24:10,700
already and so a<font color="#E5E5E5"> number of fields will</font>

352
00:24:05,840 --> 00:24:12,949
be updated like for example yeah

353
00:24:10,700 --> 00:24:16,490
obviously is bites and packet counts

354
00:24:12,950 --> 00:24:18,560
will be summed at the end time will be

355
00:24:16,490 --> 00:24:22,820
updated with the new zone you a n time

356
00:24:18,560 --> 00:24:26,060
of the new<font color="#CCCCCC"> Poquette arrived and so TCP</font>

357
00:24:22,820 --> 00:24:29,360
flags of course we are talking about<font color="#E5E5E5"> TCP</font>

358
00:24:26,060 --> 00:24:34,639
flags and by the way tcp flags are odd

359
00:24:29,360 --> 00:24:37,550
together so we have that field and so if

360
00:24:34,640 --> 00:24:40,400
<font color="#CCCCCC">you have a new packet and ring with a</font>

361
00:24:37,550 --> 00:24:42,740
<font color="#E5E5E5">tcp flag which was not seen before it</font>

362
00:24:40,400 --> 00:24:45,470
would be odd with with<font color="#E5E5E5"> the other one or</font>

363
00:24:42,740 --> 00:24:48,230
if<font color="#CCCCCC"> not if there is no already</font><font color="#E5E5E5"> an</font>

364
00:24:45,470 --> 00:24:50,930
existing flow matching the packet<font color="#E5E5E5"> a new</font>

365
00:24:48,230 --> 00:24:55,670
entry is created and then you have an

366
00:24:50,930 --> 00:25:00,290
expiration mechanism to manage to keep

367
00:24:55,670 --> 00:25:03,620
the catch and low and then some export

368
00:25:00,290 --> 00:25:07,639
if configured but by the way you can

369
00:25:03,620 --> 00:25:09,770
configure net flow without configuring

370
00:25:07,640 --> 00:25:14,510
the export this is<font color="#CCCCCC"> to and relate and</font>

371
00:25:09,770 --> 00:25:17,780
related things even if it makes<font color="#E5E5E5"> it makes</font>

372
00:25:14,510 --> 00:25:21,129
red Suns anyway and so expression

373
00:25:17,780 --> 00:25:24,740
mechanism I said so basically this is

374
00:25:21,130 --> 00:25:27,200
either either we are talking about a<font color="#E5E5E5"> TCP</font>

375
00:25:24,740 --> 00:25:31,520
<font color="#E5E5E5">packet and so is that when you see a</font>

376
00:25:27,200 --> 00:25:36,740
reset<font color="#E5E5E5"> or off in packets you you expire</font>

377
00:25:31,520 --> 00:25:40,700
and export your flow or after a timeout

378
00:25:36,740 --> 00:25:42,920
for inactive flows meaning flows during

379
00:25:40,700 --> 00:25:47,210
the time there have been<font color="#CCCCCC"> no new packet</font>

380
00:25:42,920 --> 00:25:51,590
entering the catch or and after timeout

381
00:25:47,210 --> 00:25:54,380
for active flows meaning<font color="#CCCCCC"> that if you</font>

382
00:25:51,590 --> 00:25:57,320
take<font color="#E5E5E5"> a long TCP session or whatever</font>

383
00:25:54,380 --> 00:26:04,490
session like a satchel tuna or whatever

384
00:25:57,320 --> 00:26:07,850
it would be splitted into and into time

385
00:26:04,490 --> 00:26:09,620
<font color="#E5E5E5">time record and so will you would have</font>

386
00:26:07,850 --> 00:26:12,500
not with you will have to reconstruct

387
00:26:09,620 --> 00:26:15,559
your record meaning that the longest

388
00:26:12,500 --> 00:26:18,230
edge session will be splitted upon many

389
00:26:15,559 --> 00:26:20,480
different flows many different free

390
00:26:18,230 --> 00:26:29,419
calls<font color="#CCCCCC"> actually and so yeah when the</font>

391
00:26:20,480 --> 00:26:33,049
catch is full it<font color="#E5E5E5"> would be expired</font><font color="#CCCCCC"> to now</font>

392
00:26:29,419 --> 00:26:38,360
sorry I'm waiting for<font color="#CCCCCC"> the</font><font color="#E5E5E5"> laptop to</font><font color="#CCCCCC"> okay</font>

393
00:26:33,049 --> 00:26:40,610
so basic example to export and net to

394
00:26:38,360 --> 00:26:45,740
configure the<font color="#E5E5E5"> flow catch and the router</font>

395
00:26:40,610 --> 00:26:49,699
is something like that so yeah first on

396
00:26:45,740 --> 00:26:52,429
the global configuration<font color="#CCCCCC"> where you say</font>

397
00:26:49,700 --> 00:27:00,440
that<font color="#E5E5E5"> you want to flow catch you say the</font>

398
00:26:52,429 --> 00:27:03,289
version and if you have a BGP bring bgp

399
00:27:00,440 --> 00:27:05,990
processing the router you decide you you

400
00:27:03,289 --> 00:27:09,529
say if<font color="#E5E5E5"> you want to originate</font><font color="#CCCCCC"> opere yes</font>

401
00:27:05,990 --> 00:27:16,429
<font color="#CCCCCC">okay self-evident</font><font color="#E5E5E5"> and then pro interface</font>

402
00:27:09,529 --> 00:27:21,889
you configure the actual flow collection

403
00:27:16,429 --> 00:27:25,490
mechanism so ingress or egress by

404
00:27:21,889 --> 00:27:29,289
default<font color="#E5E5E5"> well this is in res but there is</font>

405
00:27:25,490 --> 00:27:33,500
a discussion actually depends a lot of

406
00:27:29,289 --> 00:27:35,269
your what what the kind<font color="#E5E5E5"> of device we are</font>

407
00:27:33,500 --> 00:27:41,440
talking about<font color="#E5E5E5"> for example if you want to</font>

408
00:27:35,269 --> 00:27:44,509
capture traffic multicast<font color="#E5E5E5"> traffic</font>

409
00:27:41,440 --> 00:27:48,620
depending it may be<font color="#E5E5E5"> interest interesting</font>

410
00:27:44,509 --> 00:27:51,009
<font color="#E5E5E5">to enable egress export egress collect</font>

411
00:27:48,620 --> 00:27:54,229
rather than grace so it depends of your

412
00:27:51,009 --> 00:27:56,870
requirements but<font color="#E5E5E5"> basically the simple</font>

413
00:27:54,230 --> 00:28:01,269
case is<font color="#CCCCCC"> that you take every of your</font>

414
00:27:56,870 --> 00:28:06,168
interfaces and you enable ingress

415
00:28:01,269 --> 00:28:09,950
collect and so yeah without you able to

416
00:28:06,169 --> 00:28:10,680
<font color="#E5E5E5">match every packet back and forth if you</font>

417
00:28:09,950 --> 00:28:16,040
<font color="#E5E5E5">traffic</font>

418
00:28:10,680 --> 00:28:16,040
I can't force forwarded by the root oh

419
00:28:20,750 --> 00:28:30,600
<font color="#E5E5E5">okay and with version 9 specifics so you</font>

420
00:28:26,790 --> 00:28:37,190
can add as<font color="#E5E5E5"> I say but you can add capture</font>

421
00:28:30,600 --> 00:28:43,070
like layer<font color="#E5E5E5"> 2 or the TTL the VLAN ID and</font>

422
00:28:37,190 --> 00:28:48,960
yeah some benign specifics as I said and

423
00:28:43,070 --> 00:28:53,129
then this<font color="#E5E5E5"> is a part on the layer</font><font color="#CCCCCC"> 2 to 3</font>

424
00:28:48,960 --> 00:28:58,340
switches so<font color="#E5E5E5"> ND NetFlow data export and</font>

425
00:28:53,130 --> 00:29:04,320
so you have yet other particular reason

426
00:28:58,340 --> 00:29:07,560
so just to export to collect the flows

427
00:29:04,320 --> 00:29:09,810
so depending and the point to keep in

428
00:29:07,560 --> 00:29:14,010
mind<font color="#E5E5E5"> is that there is a flow mask and</font>

429
00:29:09,810 --> 00:29:17,490
those devices and so by default you

430
00:29:14,010 --> 00:29:21,110
don't capture all the full granularity

431
00:29:17,490 --> 00:29:25,950
of information but you will restrict to

432
00:29:21,110 --> 00:29:27,810
only the dresses without the port or so

433
00:29:25,950 --> 00:29:34,500
if you want full of regularity you have

434
00:29:27,810 --> 00:29:36,690
to to chat to say that so from a

435
00:29:34,500 --> 00:29:38,730
security perspective this is<font color="#E5E5E5"> good the</font>

436
00:29:36,690 --> 00:29:40,410
more granularity we have the better of

437
00:29:38,730 --> 00:29:43,800
<font color="#CCCCCC">course now from an operational</font>

438
00:29:40,410 --> 00:29:46,430
perspective this<font color="#CCCCCC"> is not</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> same so it</font>

439
00:29:43,800 --> 00:29:52,889
depends a lot of your box<font color="#E5E5E5"> and os are</font>

440
00:29:46,430 --> 00:29:58,370
overloaded or not and so other van der

441
00:29:52,890 --> 00:30:03,210
other practices so unja nipper natural

442
00:29:58,370 --> 00:30:07,679
relies on adaptative service interfaces

443
00:30:03,210 --> 00:30:14,160
or whatever the name<font color="#E5E5E5"> is and basically</font>

444
00:30:07,680 --> 00:30:16,050
<font color="#E5E5E5">the way to enable a net flow is too so</font>

445
00:30:14,160 --> 00:30:20,850
you define something rule in the

446
00:30:16,050 --> 00:30:24,540
firewall statement and where you<font color="#CCCCCC"> you can</font>

447
00:30:20,850 --> 00:30:27,510
put a sampling obviously can be

448
00:30:24,540 --> 00:30:30,030
can be<font color="#E5E5E5"> one so one out of one meaning the</font>

449
00:30:27,510 --> 00:30:32,340
sampling and then you define input

450
00:30:30,030 --> 00:30:34,740
filter which are called for every

451
00:30:32,340 --> 00:30:39,899
interfaces where you want to enable

452
00:30:34,740 --> 00:30:44,670
natural collect and so yeah I have a an

453
00:30:39,900 --> 00:30:48,960
example just<font color="#CCCCCC"> I munger a bit the journey</font>

454
00:30:44,670 --> 00:30:55,250
/ configuration just<font color="#CCCCCC"> to fit that on the</font>

455
00:30:48,960 --> 00:31:01,260
screen<font color="#E5E5E5"> but</font><font color="#CCCCCC"> the principle is</font><font color="#E5E5E5"> there and</font>

456
00:30:55,250 --> 00:31:03,990
then just while 11 slide on freebsd if

457
00:31:01,260 --> 00:31:06,410
you have on some parts of your backbone

458
00:31:03,990 --> 00:31:11,420
some freebsd<font color="#E5E5E5"> rooters or perhaps not</font>

459
00:31:06,410 --> 00:31:14,670
anyway so there is an internal channel

460
00:31:11,420 --> 00:31:18,530
network for photos being familiar with

461
00:31:14,670 --> 00:31:21,630
freebsd so there is that channel based

462
00:31:18,530 --> 00:31:25,710
framework which is called net graph

463
00:31:21,630 --> 00:31:28,890
which is a cool cool framework cool

464
00:31:25,710 --> 00:31:32,300
network framework and so there is with

465
00:31:28,890 --> 00:31:35,070
many different nodes to enable

466
00:31:32,300 --> 00:31:39,330
interesting features anyway and so there

467
00:31:35,070 --> 00:31:46,820
is the net flow net graph node so and

468
00:31:39,330 --> 00:31:52,230
you can use that with net graph not for

469
00:31:46,820 --> 00:31:56,280
the freebsd native packet filtering<font color="#E5E5E5"> ipfw</font>

470
00:31:52,230 --> 00:32:00,750
and so you end up<font color="#CCCCCC"> with something like</font>

471
00:31:56,280 --> 00:32:03,510
<font color="#E5E5E5">that so that's very convenient I have</font>

472
00:32:00,750 --> 00:32:06,960
yeah I have another example but that's

473
00:32:03,510 --> 00:32:08,910
dead easy to define filters I mean so if

474
00:32:06,960 --> 00:32:12,630
you want to to enable the capture of

475
00:32:08,910 --> 00:32:16,290
only a subjective the traffic or or

476
00:32:12,630 --> 00:32:20,520
something like that<font color="#E5E5E5"> so ok so the syntax</font>

477
00:32:16,290 --> 00:32:23,070
is<font color="#CCCCCC"> ok what it is never mind is that's</font>

478
00:32:20,520 --> 00:32:25,560
quite simple<font color="#E5E5E5"> but if you just want to</font>

479
00:32:23,070 --> 00:32:28,679
<font color="#E5E5E5">enable I don't know why</font><font color="#CCCCCC"> a traffic for</font>

480
00:32:25,560 --> 00:32:34,110
ssh for example so this is<font color="#CCCCCC"> a new matter</font>

481
00:32:28,680 --> 00:32:37,920
of crafting ACL in the filter in the

482
00:32:34,110 --> 00:32:42,090
<font color="#E5E5E5">packet filter of the freebsd box so</font>

483
00:32:37,920 --> 00:32:46,170
all the syntax is that simple and so

484
00:32:42,090 --> 00:32:48,750
yeah oh and yes the bad news is is

485
00:32:46,170 --> 00:32:51,540
fields are not populated even if you

486
00:32:48,750 --> 00:32:55,550
have a bgp speaking demon on your

487
00:32:51,540 --> 00:32:59,850
freebsd so<font color="#E5E5E5"> i feel the pupils is two</font>

488
00:32:55,550 --> 00:33:03,659
together the AAS fields and routing

489
00:32:59,850 --> 00:33:06,030
information don't use VSD the other bad

490
00:33:03,660 --> 00:33:12,210
news that<font color="#CCCCCC"> I</font><font color="#E5E5E5"> discovered is that it seems</font>

491
00:33:06,030 --> 00:33:14,310
that icmp I I'm not digged in actually

492
00:33:12,210 --> 00:33:17,970
to see if this<font color="#CCCCCC"> is just a problem on my</font>

493
00:33:14,310 --> 00:33:22,290
side or<font color="#E5E5E5"> I should push a bug report</font>

494
00:33:17,970 --> 00:33:24,570
anyway and so it seems that icmp

495
00:33:22,290 --> 00:33:27,840
<font color="#E5E5E5">informations are not filled at all</font>

496
00:33:24,570 --> 00:33:35,310
meaning<font color="#CCCCCC"> type and God I will talk about</font>

497
00:33:27,840 --> 00:33:40,169
that in some slides but so ok no<font color="#E5E5E5"> ICMP a</font>

498
00:33:35,310 --> 00:33:47,850
Taipan code if<font color="#CCCCCC"> you use freebsd with a ng</font>

499
00:33:40,170 --> 00:33:54,000
<font color="#CCCCCC">netflow jump so I talked about</font><font color="#E5E5E5"> as a</font>

500
00:33:47,850 --> 00:33:57,570
location<font color="#CCCCCC"> Oh data are expired upon</font>

501
00:33:54,000 --> 00:34:00,390
certain circumstances and so you<font color="#E5E5E5"> have a</font>

502
00:33:57,570 --> 00:34:03,030
way as I mean to keep<font color="#CCCCCC"> the cage under</font>

503
00:34:00,390 --> 00:34:07,260
control I mean so<font color="#CCCCCC"> you can tune its size</font>

504
00:34:03,030 --> 00:34:09,449
obviously<font color="#E5E5E5"> so the default size of the</font>

505
00:34:07,260 --> 00:34:14,540
catch of the flow catch depends a lot of

506
00:34:09,449 --> 00:34:18,210
your hardware and its memory you can

507
00:34:14,540 --> 00:34:22,440
play with the edging of entries meaning

508
00:34:18,210 --> 00:34:28,820
<font color="#CCCCCC">that you can and that's a good idea to</font>

509
00:34:22,440 --> 00:34:32,340
lower to lower and you export the active

510
00:34:28,820 --> 00:34:34,800
timeouts and because so as I said or

511
00:34:32,340 --> 00:34:38,310
perhaps not but it was written is in

512
00:34:34,800 --> 00:34:43,130
slide but the default active timeout for

513
00:34:38,310 --> 00:34:47,310
flow for record in the memory catch is

514
00:34:43,130 --> 00:34:50,540
30 minutes and meaning that if you want

515
00:34:47,310 --> 00:34:50,540
to do near<font color="#CCCCCC"> real-time</font>

516
00:34:50,719 --> 00:35:00,089
analysis with your record a long flow

517
00:34:56,159 --> 00:35:03,660
you will not collect it at least<font color="#E5E5E5"> before</font>

518
00:35:00,090 --> 00:35:06,780
after yeah<font color="#E5E5E5"> okay you see the Rays I will</font>

519
00:35:03,660 --> 00:35:09,359
ah sorry so i will be<font color="#E5E5E5"> at least 30</font>

520
00:35:06,780 --> 00:35:13,619
minutes during which you will not be

521
00:35:09,359 --> 00:35:18,509
able<font color="#E5E5E5"> to see some records of interest so</font>

522
00:35:13,619 --> 00:35:22,880
just you can lower those edging timeouts

523
00:35:18,510 --> 00:35:25,890
you<font color="#CCCCCC"> can enable you can enable and</font>

524
00:35:22,880 --> 00:35:29,430
probably depending on the size<font color="#CCCCCC"> and the</font>

525
00:35:25,890 --> 00:35:33,299
traffic considered you will need<font color="#CCCCCC"> to</font>

526
00:35:29,430 --> 00:35:36,540
enable sampling so<font color="#E5E5E5"> okay i will talk</font>

527
00:35:33,300 --> 00:35:39,540
about sampling a bit later<font color="#E5E5E5"> you can do</font>

528
00:35:36,540 --> 00:35:42,240
input filtering if you know<font color="#CCCCCC"> that you</font>

529
00:35:39,540 --> 00:35:45,690
<font color="#CCCCCC">don't need to look at that kind of</font>

530
00:35:42,240 --> 00:35:49,049
<font color="#E5E5E5">traffic or you need to only collect that</font>

531
00:35:45,690 --> 00:35:52,650
and that part of the traffic<font color="#E5E5E5"> you can put</font>

532
00:35:49,050 --> 00:35:56,040
filters which are defined like policy

533
00:35:52,650 --> 00:36:00,060
maps and<font color="#E5E5E5"> cisco so to say okay</font><font color="#CCCCCC"> i'm only</font>

534
00:35:56,040 --> 00:36:02,790
interested by the<font color="#CCCCCC"> traffic matching juice</font>

535
00:36:00,060 --> 00:36:05,580
layer<font color="#E5E5E5"> three layer for kind of</font>

536
00:36:02,790 --> 00:36:09,000
information and then<font color="#E5E5E5"> i talked</font><font color="#CCCCCC"> about</font>

537
00:36:05,580 --> 00:36:15,779
flown asked before which is the way on

538
00:36:09,000 --> 00:36:18,930
the catalyst su-22 to lose some

539
00:36:15,780 --> 00:36:26,790
granularity but I can to manage more

540
00:36:18,930 --> 00:36:29,399
more traffic if needed I don't know what

541
00:36:26,790 --> 00:36:32,730
my laptop is doing during this time<font color="#E5E5E5"> okay</font>

542
00:36:29,400 --> 00:36:36,930
anyway some performance considerations

543
00:36:32,730 --> 00:36:42,500
so its entry each flow record in the

544
00:36:36,930 --> 00:36:48,720
memory catch as sighs and<font color="#E5E5E5"> I which is 64</font>

545
00:36:42,500 --> 00:36:51,260
64 bytes so<font color="#E5E5E5"> okay I talked</font><font color="#CCCCCC"> about</font><font color="#E5E5E5"> the</font>

546
00:36:48,720 --> 00:36:54,890
version 8 of net flow which brings

547
00:36:51,260 --> 00:37:00,510
aggregation<font color="#E5E5E5"> route aside so meaning that</font>

548
00:36:54,890 --> 00:37:03,868
when you have root of supporting version

549
00:37:00,510 --> 00:37:08,220
8 and that you enable aggregation

550
00:37:03,869 --> 00:37:13,880
you will end up creating another cage in

551
00:37:08,220 --> 00:37:13,879
which data are aggregated for example

552
00:37:14,960 --> 00:37:22,829
<font color="#E5E5E5">bye-bye netmask or by number of fields</font>

553
00:37:18,269 --> 00:37:25,680
where you can play with and but by the

554
00:37:22,829 --> 00:37:29,519
way<font color="#E5E5E5"> aggregation so is correct</font><font color="#CCCCCC"> off</font>

555
00:37:25,680 --> 00:37:31,950
<font color="#E5E5E5">friendly because of course you decreases</font>

556
00:37:29,519 --> 00:37:35,700
a lot traffic<font color="#CCCCCC"> export into ricotta</font>

557
00:37:31,950 --> 00:37:40,049
exported but this is more costly<font color="#E5E5E5"> cpu GPU</font>

558
00:37:35,700 --> 00:37:42,930
<font color="#E5E5E5">is so the point being that so let's</font><font color="#CCCCCC"> ruto</font>

559
00:37:40,049 --> 00:37:46,950
is doing and bizarro ting the better and

560
00:37:42,930 --> 00:37:52,710
so that's the job of the collecting

561
00:37:46,950 --> 00:37:56,069
process to to do cpu intensive task<font color="#E5E5E5"> not</font>

562
00:37:52,710 --> 00:37:59,880
the router for some platforms this is

563
00:37:56,069 --> 00:38:04,019
done in ardwel basically only except for

564
00:37:59,880 --> 00:38:07,829
the export by itself so it's not<font color="#CCCCCC"> that</font>

565
00:38:04,019 --> 00:38:12,390
cpu and friendly and<font color="#CCCCCC"> okay so before</font>

566
00:38:07,829 --> 00:38:17,480
enabling zit enabling that ray just yeah

567
00:38:12,390 --> 00:38:17,480
you plan you test and as<font color="#CCCCCC"> usual I mean</font>

568
00:38:17,869 --> 00:38:26,009
sampling sampling or not so this may not

569
00:38:22,319 --> 00:38:28,410
<font color="#CCCCCC">be a</font><font color="#E5E5E5"> choice while the decision to sample</font>

570
00:38:26,009 --> 00:38:33,480
or not because depending on on your

571
00:38:28,410 --> 00:38:34,980
traffic<font color="#CCCCCC"> okay you may need to sample so</font>

572
00:38:33,480 --> 00:38:38,460
the<font color="#E5E5E5"> way we are talking about</font><font color="#CCCCCC"> different</font>

573
00:38:34,980 --> 00:38:41,430
kind of sampling by the way saris flew

574
00:38:38,460 --> 00:38:45,509
sampling vs Pac addresses time sampling

575
00:38:41,430 --> 00:38:49,890
and deterministic vs random so for

576
00:38:45,509 --> 00:38:55,049
<font color="#CCCCCC">example packet sampling is to sample one</font>

577
00:38:49,890 --> 00:38:57,299
packet<font color="#CCCCCC"> off out of 100 and okay and if</font>

578
00:38:55,049 --> 00:39:02,489
this is<font color="#E5E5E5"> time sampling so you sample</font>

579
00:38:57,299 --> 00:39:05,749
every 10 seconds for example and<font color="#E5E5E5"> okay if</font>

580
00:39:02,489 --> 00:39:09,150
you have<font color="#E5E5E5"> randomness this is great</font>

581
00:39:05,749 --> 00:39:14,098
because without with deterministic

582
00:39:09,150 --> 00:39:17,670
sampling you may you may lose some burst

583
00:39:14,099 --> 00:39:19,980
you may not see sunburst in the traffic

584
00:39:17,670 --> 00:39:24,329
because you<font color="#E5E5E5"> sample at every regular</font>

585
00:39:19,980 --> 00:39:28,290
interval I mean so anyway so the choice

586
00:39:24,329 --> 00:39:31,079
is not<font color="#CCCCCC"> yours meaning that the type of</font>

587
00:39:28,290 --> 00:39:34,829
sampling that that's available on your

588
00:39:31,079 --> 00:39:39,089
box does not yeah that's not your choice

589
00:39:34,829 --> 00:39:42,920
that depends of your box<font color="#E5E5E5"> okay and I US</font>

590
00:39:39,089 --> 00:39:45,630
version considerate and and whatever so

591
00:39:42,920 --> 00:39:47,790
<font color="#E5E5E5">you may need to enable sampling of</font>

592
00:39:45,630 --> 00:39:51,420
course we are talking<font color="#E5E5E5"> about security so</font>

593
00:39:47,790 --> 00:39:54,270
as i said already but<font color="#CCCCCC"> the more</font>

594
00:39:51,420 --> 00:39:58,380
granularity that you get the better but

595
00:39:54,270 --> 00:40:03,480
again this may not be possible so trade

596
00:39:58,380 --> 00:40:06,869
of eyes user and so if<font color="#CCCCCC"> we want to look</font>

597
00:40:03,480 --> 00:40:09,210
at as a cash flow in real time<font color="#E5E5E5"> so we are</font>

598
00:40:06,869 --> 00:40:11,270
not talking about exporting for now we

599
00:40:09,210 --> 00:40:15,500
<font color="#E5E5E5">are talking about</font><font color="#CCCCCC"> your collecting</font>

600
00:40:11,270 --> 00:40:19,890
connecting sorry on the<font color="#CCCCCC"> router and just</font>

601
00:40:15,500 --> 00:40:21,900
have a look at the traffic and even

602
00:40:19,890 --> 00:40:25,790
<font color="#E5E5E5">without exporting and collecting the</font>

603
00:40:21,900 --> 00:40:28,859
record when something is going wrong

604
00:40:25,790 --> 00:40:37,619
this is interesting to have this feature

605
00:40:28,859 --> 00:40:40,140
<font color="#CCCCCC">i mean so</font><font color="#E5E5E5"> okay and so beside so this is</font>

606
00:40:37,619 --> 00:40:44,160
<font color="#E5E5E5">the main this is a way to to query the</font>

607
00:40:40,140 --> 00:40:47,420
main flow catch and there is<font color="#E5E5E5"> also a top</font>

608
00:40:44,160 --> 00:40:51,240
to curl sketch so in recent<font color="#CCCCCC"> a US</font>

609
00:40:47,420 --> 00:40:56,299
releases it was in the<font color="#CCCCCC"> t train</font><font color="#E5E5E5"> i'm not</font>

610
00:40:51,240 --> 00:41:01,319
<font color="#E5E5E5">sure it has been pushed into the main</font>

611
00:40:56,299 --> 00:41:04,790
releases anyway so i<font color="#E5E5E5"> mentioned that</font>

612
00:41:01,319 --> 00:41:07,470
because<font color="#CCCCCC"> it is not interesting but so the</font>

613
00:41:04,790 --> 00:41:11,069
purpose is to create some dedicated

614
00:41:07,470 --> 00:41:14,430
catch where the router keeps the top

615
00:41:11,069 --> 00:41:19,799
talkers of the networks so the<font color="#CCCCCC"> point is</font>

616
00:41:14,430 --> 00:41:23,970
that you have to<font color="#E5E5E5"> enable that that</font><font color="#CCCCCC"> Sudan</font>

617
00:41:19,799 --> 00:41:27,390
<font color="#CCCCCC">flow cage and during configuration time</font>

618
00:41:23,970 --> 00:41:30,299
you have to define the number of entries

619
00:41:27,390 --> 00:41:31,299
you want to keep into that cage and the

620
00:41:30,299 --> 00:41:38,400
salt critter

621
00:41:31,300 --> 00:41:42,520
yeah so okay and an<font color="#CCCCCC"> example so</font>

622
00:41:38,400 --> 00:41:46,450
self-evident and there is<font color="#E5E5E5"> another</font>

623
00:41:42,520 --> 00:41:52,720
feature which<font color="#E5E5E5"> is cool okay which is</font><font color="#CCCCCC"> cool</font>

624
00:41:46,450 --> 00:41:57,000
<font color="#E5E5E5">the dynamic top talkers where you should</font>

625
00:41:52,720 --> 00:42:00,970
check with your us Russians again and

626
00:41:57,000 --> 00:42:03,880
we're in that case dynamic top two girls

627
00:42:00,970 --> 00:42:06,399
I you can really worried so we are

628
00:42:03,880 --> 00:42:09,970
talking<font color="#E5E5E5"> about your main gauge</font><font color="#CCCCCC"> flow and</font>

629
00:42:06,400 --> 00:42:15,460
so you can<font color="#E5E5E5"> query dynamically that cash</font>

630
00:42:09,970 --> 00:42:18,730
flow and so define dynamic fashion the

631
00:42:15,460 --> 00:42:20,860
sort criteria for example and so you can

632
00:42:18,730 --> 00:42:28,960
restrict<font color="#E5E5E5"> the output matching only a</font>

633
00:42:20,860 --> 00:42:34,920
subset<font color="#CCCCCC"> of the fields and and yeah yeah</font>

634
00:42:28,960 --> 00:42:39,190
so in the Jennifer case there is this I

635
00:42:34,920 --> 00:42:43,090
just I don't want<font color="#E5E5E5"> to do when ye I am I</font>

636
00:42:39,190 --> 00:42:47,560
like everyone though a lot but there is

637
00:42:43,090 --> 00:42:51,430
this cool CLI I mean where you<font color="#E5E5E5"> can use</font>

638
00:42:47,560 --> 00:42:55,000
pipe statement and to just match a

639
00:42:51,430 --> 00:42:58,299
subset<font color="#CCCCCC"> of the output and just trim the</font>

640
00:42:55,000 --> 00:43:04,210
output and so that's quite<font color="#E5E5E5"> powerful so</font>

641
00:42:58,300 --> 00:43:08,650
okay and my examples will not be

642
00:43:04,210 --> 00:43:14,500
complete<font color="#E5E5E5"> without</font><font color="#CCCCCC"> i have freebsd so you</font>

643
00:43:08,650 --> 00:43:20,230
have that flow CTL CLI just to query

644
00:43:14,500 --> 00:43:26,610
your cage and of<font color="#CCCCCC"> course you have the</font>

645
00:43:20,230 --> 00:43:26,610
usual grape sort get whatever unix tools

646
00:43:27,120 --> 00:43:37,779
export so we we saw to enable sorry the

647
00:43:35,980 --> 00:43:42,880
metering the net flow metering process

648
00:43:37,780 --> 00:43:43,840
and<font color="#CCCCCC"> Reuters and application Oh to look</font>

649
00:43:42,880 --> 00:43:49,160
at

650
00:43:43,840 --> 00:43:51,680
the catch and so our our goal here is to

651
00:43:49,160 --> 00:43:55,790
explore<font color="#E5E5E5"> the data actually</font><font color="#CCCCCC"> not not to</font>

652
00:43:51,680 --> 00:43:59,569
keep that under Reuters<font color="#E5E5E5"> so the way it</font>

653
00:43:55,790 --> 00:44:01,310
works is that when upon expiration so we

654
00:43:59,570 --> 00:44:05,420
saw the exploration mechanism and the

655
00:44:01,310 --> 00:44:08,509
catch upon expression flows are exported

656
00:44:05,420 --> 00:44:13,970
if export is configured and so they are

657
00:44:08,510 --> 00:44:17,900
all packed together okay and<font color="#E5E5E5"> just sent</font>

658
00:44:13,970 --> 00:44:21,529
and wire on the UDP Datagram so there is

659
00:44:17,900 --> 00:44:23,810
a net flow a door with a version with a

660
00:44:21,530 --> 00:44:26,390
sequence number with the number<font color="#CCCCCC"> of</font>

661
00:44:23,810 --> 00:44:30,620
<font color="#E5E5E5">records which i exported and then you</font>

662
00:44:26,390 --> 00:44:34,759
have those records which are packed

663
00:44:30,620 --> 00:44:40,850
together on one Datagram so between<font color="#CCCCCC"> 1</font>

664
00:44:34,760 --> 00:44:43,310
<font color="#CCCCCC">and 30 flow records they are export okay</font>

665
00:44:40,850 --> 00:44:46,339
you can do<font color="#CCCCCC"> lose detection because you</font>

666
00:44:43,310 --> 00:44:48,259
have a sequence number but yeah there is

667
00:44:46,340 --> 00:44:51,110
no provision for retransmission of you

668
00:44:48,260 --> 00:44:55,340
see ya we are talking<font color="#CCCCCC"> about UDP but at</font>

669
00:44:51,110 --> 00:44:57,520
the application<font color="#CCCCCC"> at the protocol level at</font>

670
00:44:55,340 --> 00:45:01,550
the<font color="#E5E5E5"> application level there is no</font>

671
00:44:57,520 --> 00:45:06,500
retransmission either so I mean you can

672
00:45:01,550 --> 00:45:13,160
<font color="#E5E5E5">detect that you have some loose but</font>

673
00:45:06,500 --> 00:45:18,260
nothing more<font color="#CCCCCC"> yes</font><font color="#E5E5E5"> sorry so the way to</font>

674
00:45:13,160 --> 00:45:22,759
export to configure the export on<font color="#E5E5E5"> the</font>

675
00:45:18,260 --> 00:45:26,090
cisco router is<font color="#E5E5E5"> ok so I p flow export</font>

676
00:45:22,760 --> 00:45:30,440
you again you give this nation address

677
00:45:26,090 --> 00:45:37,550
and port and now protocol like I said

678
00:45:30,440 --> 00:45:43,910
like UDP or HTTP and a sauce so the

679
00:45:37,550 --> 00:45:49,010
loopback may be a good<font color="#E5E5E5"> idea always the</font>

680
00:45:43,910 --> 00:45:51,770
example on Jenny /<font color="#E5E5E5"> so</font><font color="#CCCCCC"> okay syntax is</font>

681
00:45:49,010 --> 00:45:54,190
what it<font color="#E5E5E5"> is but ok this is pretty</font>

682
00:45:51,770 --> 00:45:54,190
self-evident

683
00:45:56,330 --> 00:46:06,660
and then on freebsd of course again

684
00:46:02,900 --> 00:46:09,210
others so<font color="#CCCCCC"> i just for the sake of it</font>

685
00:46:06,660 --> 00:46:14,160
because you you don't<font color="#E5E5E5"> need that but</font>

686
00:46:09,210 --> 00:46:17,460
there is<font color="#E5E5E5"> other software based net flow</font>

687
00:46:14,160 --> 00:46:22,560
metering processes exporters if needed

688
00:46:17,460 --> 00:46:24,210
sometimes<font color="#CCCCCC"> okay we never know so mostly</font>

689
00:46:22,560 --> 00:46:27,900
they are based where there is<font color="#CCCCCC"> two two</font>

690
00:46:24,210 --> 00:46:33,110
families but most fees are based on pcap

691
00:46:27,900 --> 00:46:35,420
so you have some<font color="#CCCCCC"> pcap process and</font>

692
00:46:33,110 --> 00:46:39,330
capturing the traffic<font color="#CCCCCC"> real time and</font>

693
00:46:35,420 --> 00:46:43,230
recreating<font color="#CCCCCC"> netflow records and for</font>

694
00:46:39,330 --> 00:46:45,450
export on the wire using the user net

695
00:46:43,230 --> 00:46:51,690
for protocol I mean so you have a number

696
00:46:45,450 --> 00:46:55,470
<font color="#E5E5E5">of</font><font color="#CCCCCC"> projects existing okay and you can</font>

697
00:46:51,690 --> 00:46:58,820
<font color="#CCCCCC">have other sources</font><font color="#E5E5E5"> like firewall logs so</font>

698
00:46:55,470 --> 00:47:03,680
there is<font color="#CCCCCC"> one solution</font><font color="#E5E5E5"> for netfilter</font>

699
00:46:58,820 --> 00:47:08,600
there is one tool for PF packet filter

700
00:47:03,680 --> 00:47:13,279
logs so just you have a process passing

701
00:47:08,600 --> 00:47:20,670
the logs of your firewall and crafting

702
00:47:13,280 --> 00:47:24,930
<font color="#CCCCCC">netflow records following that well the</font>

703
00:47:20,670 --> 00:47:27,150
idea is that it may be<font color="#E5E5E5"> useful but that</font>

704
00:47:24,930 --> 00:47:30,240
kind of tools may be useful no in the

705
00:47:27,150 --> 00:47:33,720
<font color="#E5E5E5">forensics away for example so you you</font>

706
00:47:30,240 --> 00:47:37,649
you have<font color="#CCCCCC"> some</font><font color="#E5E5E5"> packet capture or whatever</font>

707
00:47:33,720 --> 00:47:40,680
and you want to use regular<font color="#CCCCCC"> netflow</font>

708
00:47:37,650 --> 00:47:47,600
tools on that for a number of reasons

709
00:47:40,680 --> 00:47:47,600
and okay this is<font color="#CCCCCC"> a way to to do that</font>

710
00:47:49,310 --> 00:47:58,620
exporting so we you may want<font color="#E5E5E5"> to improve</font>

711
00:47:53,670 --> 00:48:01,020
reliability of export the first things

712
00:47:58,620 --> 00:48:07,390
that you may do is to configure multiple

713
00:48:01,020 --> 00:48:11,740
destinations while at most<font color="#CCCCCC"> to that</font>

714
00:48:07,390 --> 00:48:14,890
you can do that so yeah in the on your

715
00:48:11,740 --> 00:48:17,859
Reuters depending on<font color="#E5E5E5"> the are 12 and 0 on</font>

716
00:48:14,890 --> 00:48:22,839
<font color="#CCCCCC">your Reuters you can configure at most</font>

717
00:48:17,859 --> 00:48:26,140
to this nation you can export to<font color="#E5E5E5"> a</font><font color="#CCCCCC"> needy</font>

718
00:48:22,839 --> 00:48:29,049
<font color="#E5E5E5">cast address and to multicast</font><font color="#CCCCCC"> where</font>

719
00:48:26,140 --> 00:48:32,410
collector and so that's pretty

720
00:48:29,049 --> 00:48:35,440
convenient because out of<font color="#CCCCCC"> the</font><font color="#E5E5E5"> box you</font>

721
00:48:32,410 --> 00:48:39,250
are provided with redundancy if needed

722
00:48:35,440 --> 00:48:42,519
scalability and correct or diversity

723
00:48:39,250 --> 00:48:46,380
meaning<font color="#CCCCCC"> that from my own experience</font>

724
00:48:42,519 --> 00:48:50,740
there is not<font color="#E5E5E5"> one collector solving our</font>

725
00:48:46,380 --> 00:48:54,190
problems so you end<font color="#E5E5E5"> up</font><font color="#CCCCCC"> with several</font>

726
00:48:50,740 --> 00:48:58,479
different tools to work on the same set

727
00:48:54,190 --> 00:49:03,579
of data basically and so solution like

728
00:48:58,480 --> 00:49:06,099
multicast makes it easy to just stack up

729
00:49:03,579 --> 00:49:08,980
new collectors or two to test another

730
00:49:06,099 --> 00:49:13,950
brand on under the commercial tool you

731
00:49:08,980 --> 00:49:18,609
just tack up on the<font color="#E5E5E5"> on the</font><font color="#CCCCCC"> poor and</font><font color="#E5E5E5"> okay</font>

732
00:49:13,950 --> 00:49:21,578
to improve reliability other ways to

733
00:49:18,609 --> 00:49:27,970
consider using other transport like a

734
00:49:21,579 --> 00:49:31,779
ctp<font color="#CCCCCC"> as TP so as it</font><font color="#E5E5E5"> seems I've not</font>

735
00:49:27,970 --> 00:49:36,160
followed recently but I<font color="#E5E5E5"> see TP is the</font>

736
00:49:31,779 --> 00:49:43,089
most<font color="#E5E5E5"> sctp support is immersed in the IP</font>

737
00:49:36,160 --> 00:49:48,009
FX draft actually so so but when<font color="#E5E5E5"> I</font>

738
00:49:43,089 --> 00:49:52,180
<font color="#E5E5E5">listed that recently so Cisco Reuters</font>

739
00:49:48,009 --> 00:49:57,390
can export / a ctp no problem and quite

740
00:49:52,180 --> 00:50:01,000
some month some weeks so<font color="#E5E5E5"> months ago I</font>

741
00:49:57,390 --> 00:50:06,870
ctp support was committed<font color="#CCCCCC"> to in the</font>

742
00:50:01,000 --> 00:50:10,420
freebsd three and so my first

743
00:50:06,870 --> 00:50:13,930
my first point was to say okay just

744
00:50:10,420 --> 00:50:15,670
let's let's let's do some tests<font color="#E5E5E5"> and the</font>

745
00:50:13,930 --> 00:50:20,310
problem was to find a collector of

746
00:50:15,670 --> 00:50:23,590
supporting ICT be actually so<font color="#E5E5E5"> I ended up</font>

747
00:50:20,310 --> 00:50:27,820
testing that with<font color="#E5E5E5"> an top which</font><font color="#CCCCCC"> is not</font>

748
00:50:23,590 --> 00:50:35,430
really a collector either but anyway n

749
00:50:27,820 --> 00:50:38,140
top support sctp<font color="#CCCCCC"> too so okay some</font>

750
00:50:35,430 --> 00:50:42,279
considerations that which are important

751
00:50:38,140 --> 00:50:46,330
to keep in mind so<font color="#E5E5E5"> I talked</font><font color="#CCCCCC"> about the</font>

752
00:50:42,280 --> 00:50:50,260
<font color="#E5E5E5">Uni directionality so of the ricotta</font>

753
00:50:46,330 --> 00:50:52,480
exported<font color="#E5E5E5"> and also of the traffic yeah</font>

754
00:50:50,260 --> 00:50:58,000
the traffic exported so meaning that

755
00:50:52,480 --> 00:51:00,640
<font color="#E5E5E5">Reuters this is the information</font>

756
00:50:58,000 --> 00:51:03,910
<font color="#E5E5E5">expertise is from the rooters to some</font>

757
00:51:00,640 --> 00:51:08,230
character probably<font color="#CCCCCC"> more in</font><font color="#E5E5E5"> the inside</font>

758
00:51:03,910 --> 00:51:11,410
<font color="#CCCCCC">part of</font><font color="#E5E5E5"> the network so okay</font><font color="#CCCCCC"> so this is</font>

759
00:51:08,230 --> 00:51:15,580
UDP based there is no<font color="#CCCCCC"> Krypto check some</font>

760
00:51:11,410 --> 00:51:17,940
way whatsoever whatsoever so well so no

761
00:51:15,580 --> 00:51:24,910
authentication of the exporter

762
00:51:17,940 --> 00:51:28,060
<font color="#E5E5E5">innovation and and you aux port 48 bytes</font>

763
00:51:24,910 --> 00:51:31,690
long record for every for every packet

764
00:51:28,060 --> 00:51:35,170
meaning in the event of denial of denial

765
00:51:31,690 --> 00:51:40,680
of service where you can have a lot of

766
00:51:35,170 --> 00:51:44,410
<font color="#E5E5E5">small packets you will end up exporting</font>

767
00:51:40,680 --> 00:51:48,370
48 bytes long record so that's another

768
00:51:44,410 --> 00:51:51,490
denial of service I mean so<font color="#E5E5E5"> okay anyway</font>

769
00:51:48,370 --> 00:51:53,910
you may want that may be wise to protect

770
00:51:51,490 --> 00:51:59,189
the link between exporter and collector

771
00:51:53,910 --> 00:52:03,600
if<font color="#E5E5E5"> not we can imagine an attacker</font>

772
00:51:59,190 --> 00:52:06,790
crafting<font color="#E5E5E5"> rogue and need</font><font color="#CCCCCC"> for records and</font>

773
00:52:03,600 --> 00:52:09,910
very completely your legitimate

774
00:52:06,790 --> 00:52:13,750
collection and the the rugged record or

775
00:52:09,910 --> 00:52:16,120
other things like<font color="#E5E5E5"> that</font><font color="#CCCCCC"> so yeah I see</font>

776
00:52:13,750 --> 00:52:19,600
else or you a PF to check for<font color="#CCCCCC"> one</font>

777
00:52:16,120 --> 00:52:20,700
<font color="#E5E5E5">teaspoon to TCP rappers mechanism all</font>

778
00:52:19,600 --> 00:52:30,460
alike

779
00:52:20,700 --> 00:52:35,020
of use actually so it was for the<font color="#E5E5E5"> Rooter</font>

780
00:52:30,460 --> 00:52:43,240
side of those things<font color="#CCCCCC"> okay and</font><font color="#E5E5E5"> now we'll</font>

781
00:52:35,020 --> 00:52:48,190
<font color="#E5E5E5">go to the correct side what should do a</font>

782
00:52:43,240 --> 00:52:50,049
collector on my mind well<font color="#E5E5E5"> we're talking</font>

783
00:52:48,190 --> 00:52:55,150
about first we are talking about

784
00:52:50,050 --> 00:52:57,730
<font color="#E5E5E5">different things because under the name</font>

785
00:52:55,150 --> 00:53:00,640
character you will find very different

786
00:52:57,730 --> 00:53:03,340
tools with very different purposes of

787
00:53:00,640 --> 00:53:06,400
course and so from my<font color="#E5E5E5"> own perspective</font>

788
00:53:03,340 --> 00:53:08,710
I'm talking about keeping go pelipper

789
00:53:06,400 --> 00:53:11,940
record granularity because the purpose

790
00:53:08,710 --> 00:53:15,550
<font color="#E5E5E5">is to be able to do forensics or to do</font>

791
00:53:11,940 --> 00:53:20,370
analysis at some point in time back<font color="#CCCCCC"> in</font>

792
00:53:15,550 --> 00:53:26,580
time as long as your storage capacity

793
00:53:20,370 --> 00:53:30,069
for you and so per record granularity

794
00:53:26,580 --> 00:53:34,210
aggregation facilities because when you

795
00:53:30,070 --> 00:53:37,720
end up<font color="#E5E5E5"> with a lot of</font><font color="#CCCCCC"> records you need to</font>

796
00:53:34,210 --> 00:53:42,090
do aggregation on the data and to have

797
00:53:37,720 --> 00:53:42,089
all of use to<font color="#E5E5E5"> be able to spot things</font>

798
00:53:43,320 --> 00:53:49,450
versatility<font color="#E5E5E5"> meaning that while some to</font>

799
00:53:47,440 --> 00:53:52,300
some tools are very dedicated to a given

800
00:53:49,450 --> 00:53:57,490
task meaning some<font color="#E5E5E5"> to Lou some tool will</font>

801
00:53:52,300 --> 00:54:02,760
will<font color="#CCCCCC"> be dedicated for those detection</font>

802
00:53:57,490 --> 00:54:08,140
some other will<font color="#CCCCCC"> be dedicated for</font>

803
00:54:02,760 --> 00:54:12,490
performance performance monitoring or a

804
00:54:08,140 --> 00:54:16,960
lot of<font color="#CCCCCC"> different uses like that and as</font>

805
00:54:12,490 --> 00:54:20,279
an analyst you you never<font color="#CCCCCC"> know what what</font>

806
00:54:16,960 --> 00:54:24,000
kind of what thing you will want to look

807
00:54:20,280 --> 00:54:26,680
under traffic you after meaning so

808
00:54:24,000 --> 00:54:31,050
versatility is important because you are

809
00:54:26,680 --> 00:54:34,410
not constrained into a given schema of

810
00:54:31,050 --> 00:54:39,809
digging into things

811
00:54:34,410 --> 00:54:42,149
poor fool CLI is important and graphs a

812
00:54:39,809 --> 00:54:46,170
rather important because no matter what

813
00:54:42,150 --> 00:54:49,380
is here I is when you have some amount

814
00:54:46,170 --> 00:54:52,020
of data the only way to make sense of

815
00:54:49,380 --> 00:54:58,140
the data is to have cool graphs no

816
00:54:52,020 --> 00:55:00,720
matter what so and yeah all of these can

817
00:54:58,140 --> 00:55:03,779
be splitted over different tools so as I

818
00:55:00,720 --> 00:55:06,750
said you may end up using different

819
00:55:03,780 --> 00:55:09,599
tools even<font color="#E5E5E5"> for the same set of data even</font>

820
00:55:06,750 --> 00:55:13,950
<font color="#E5E5E5">for the same job I mean security</font>

821
00:55:09,599 --> 00:55:19,289
<font color="#CCCCCC">perspective and knee and just using two</font>

822
00:55:13,950 --> 00:55:23,609
different tools<font color="#CCCCCC"> free yeah for example</font>

823
00:55:19,289 --> 00:55:27,960
and I'm so previous job I was<font color="#E5E5E5"> working</font>

824
00:55:23,609 --> 00:55:30,410
<font color="#CCCCCC">for satellite operator in Europe and so</font>

825
00:55:27,960 --> 00:55:36,089
we use two different tools when

826
00:55:30,410 --> 00:55:41,220
commercial one from a<font color="#E5E5E5"> rondo in Michigan</font>

827
00:55:36,089 --> 00:55:43,470
and one opens was one which i<font color="#E5E5E5"> will name</font>

828
00:55:41,220 --> 00:55:46,379
because<font color="#CCCCCC"> i will talk about that</font><font color="#E5E5E5"> boss was</font>

829
00:55:43,470 --> 00:55:49,759
one which is<font color="#CCCCCC"> an appt</font><font color="#E5E5E5"> dumpin xn and so</font>

830
00:55:46,380 --> 00:55:53,010
the fact we have two<font color="#E5E5E5"> different tools</font>

831
00:55:49,760 --> 00:55:54,539
well this is rather convenient that to

832
00:55:53,010 --> 00:55:56,910
look at the same problem<font color="#E5E5E5"> with two</font>

833
00:55:54,539 --> 00:55:58,410
different set of<font color="#E5E5E5"> of tools and two</font>

834
00:55:56,910 --> 00:56:00,750
different<font color="#E5E5E5"> ways</font><font color="#CCCCCC"> to present the</font>

835
00:55:58,410 --> 00:56:03,509
information and<font color="#E5E5E5"> some problems are</font>

836
00:56:00,750 --> 00:56:06,539
difficult to spot with one and easier

837
00:56:03,510 --> 00:56:10,410
with you or the reverse<font color="#E5E5E5"> uses ID so</font>

838
00:56:06,539 --> 00:56:13,170
nothing prevents you while after that

839
00:56:10,410 --> 00:56:16,319
depends on your capacities<font color="#CCCCCC"> reg again and</font>

840
00:56:13,170 --> 00:56:18,420
your time and your teams and number of

841
00:56:16,319 --> 00:56:21,808
<font color="#E5E5E5">different things but this is not</font>

842
00:56:18,420 --> 00:56:25,349
technical anymore and so as an analyst

843
00:56:21,809 --> 00:56:27,720
well what what you have to what are your

844
00:56:25,349 --> 00:56:30,690
duties as an analyst well is that

845
00:56:27,720 --> 00:56:32,879
basically and just relax with a coffee

846
00:56:30,690 --> 00:56:35,339
in front of pretty graphs this is all

847
00:56:32,880 --> 00:56:40,589
that<font color="#CCCCCC"> you have to do well perhaps a bit</font>

848
00:56:35,339 --> 00:56:46,799
more but I mean so<font color="#CCCCCC"> you look at graphs</font>

849
00:56:40,589 --> 00:56:48,049
you check your top ends whatever n and

850
00:56:46,799 --> 00:56:50,809
whatever

851
00:56:48,049 --> 00:56:54,410
meaning value we<font color="#CCCCCC"> are we are talking</font>

852
00:56:50,809 --> 00:56:56,809
<font color="#E5E5E5">about it and just build different</font>

853
00:56:54,410 --> 00:56:58,910
filters to look at the traffic with

854
00:56:56,809 --> 00:57:04,599
different perspective<font color="#E5E5E5"> and to be able to</font>

855
00:56:58,910 --> 00:57:09,618
to spot some things we which which which

856
00:57:04,599 --> 00:57:12,410
if not would go undetected by ok so the

857
00:57:09,619 --> 00:57:15,890
pupils is<font color="#E5E5E5"> yeah to to put filters</font><font color="#CCCCCC"> and to</font>

858
00:57:12,410 --> 00:57:19,489
sell<font color="#CCCCCC"> cam</font><font color="#E5E5E5"> I'm interested in that subset</font>

859
00:57:15,890 --> 00:57:23,719
of traffic and so having a look at<font color="#E5E5E5"> only</font>

860
00:57:19,489 --> 00:57:25,579
traffic targeting infrastructure or so

861
00:57:23,719 --> 00:57:29,719
what's going on under control and

862
00:57:25,579 --> 00:57:32,959
management<font color="#E5E5E5"> planes more specifically what</font>

863
00:57:29,719 --> 00:57:35,959
are the look of my bgp session for

864
00:57:32,959 --> 00:57:38,328
example may I learn things by just

865
00:57:35,959 --> 00:57:40,698
looking at the flows of<font color="#CCCCCC"> night bgp</font>

866
00:57:38,329 --> 00:57:44,689
stations or maybe not or maybe<font color="#CCCCCC"> not i</font>

867
00:57:40,699 --> 00:57:49,160
will<font color="#CCCCCC"> give a screenshot so what the</font>

868
00:57:44,689 --> 00:57:52,189
traffic directed especially specifically

869
00:57:49,160 --> 00:57:55,699
to my AP ranch used by the

870
00:57:52,189 --> 00:57:58,098
infrastructure online network what's the

871
00:57:55,699 --> 00:58:02,839
outgoing traffic from side addresses

872
00:57:58,099 --> 00:58:07,309
that's important too because yeah okay

873
00:58:02,839 --> 00:58:09,558
Brutus are oddly are<font color="#CCCCCC"> these servers</font><font color="#E5E5E5"> I</font>

874
00:58:07,309 --> 00:58:14,410
mean so there is not<font color="#CCCCCC"> a lot of outgoing</font>

875
00:58:09,559 --> 00:58:18,170
traffic originating from the own

876
00:58:14,410 --> 00:58:20,479
management at addresses i mean so that's

877
00:58:18,170 --> 00:58:24,619
important that may<font color="#E5E5E5"> be important to have</font>

878
00:58:20,479 --> 00:58:28,038
a look at<font color="#CCCCCC"> that some more consideration</font>

879
00:58:24,619 --> 00:58:31,069
to keep in<font color="#CCCCCC"> mind</font><font color="#E5E5E5"> i said that already but</font>

880
00:58:28,039 --> 00:58:36,979
<font color="#E5E5E5">we are talking</font><font color="#CCCCCC"> about some very very IP</font>

881
00:58:31,069 --> 00:58:42,650
centric thing netflow this is somewhat

882
00:58:36,979 --> 00:58:46,249
changing with v9 with some layer to

883
00:58:42,650 --> 00:58:50,809
information as<font color="#E5E5E5"> i said with better with</font>

884
00:58:46,249 --> 00:58:54,259
some mpls and support but to do i don't

885
00:58:50,809 --> 00:58:59,599
remember the number up to three or four

886
00:58:54,259 --> 00:59:01,230
levels i'm not<font color="#E5E5E5"> sure but obviously</font><font color="#CCCCCC"> we are</font>

887
00:58:59,599 --> 00:59:04,490
not<font color="#E5E5E5"> talking about</font>

888
00:59:01,230 --> 00:59:07,880
some any<font color="#CCCCCC"> over whatever or whatever</font>

889
00:59:04,490 --> 00:59:12,839
encapsulate encapsulate sorry

890
00:59:07,880 --> 00:59:16,290
encapsulation skin-friendly monitoring

891
00:59:12,840 --> 00:59:19,230
tool meaning that<font color="#CCCCCC"> okay obviously you</font>

892
00:59:16,290 --> 00:59:22,740
<font color="#CCCCCC">only have until three or four so all</font>

893
00:59:19,230 --> 00:59:26,730
which is IP over IP or UDP or IP or

894
00:59:22,740 --> 00:59:29,368
later to over whatever<font color="#E5E5E5"> you will have our</font>

895
00:59:26,730 --> 00:59:35,359
time so the best you can do but if we

896
00:59:29,369 --> 00:59:39,810
<font color="#CCCCCC">are</font><font color="#E5E5E5"> talking about IP sectionals or</font>

897
00:59:35,359 --> 00:59:43,259
whatever<font color="#CCCCCC"> Janelle's user identified I up</font>

898
00:59:39,810 --> 00:59:46,170
so on your network your management so

899
00:59:43,260 --> 00:59:52,470
the best<font color="#E5E5E5"> you can do is to capture so</font>

900
00:59:46,170 --> 00:59:55,320
<font color="#CCCCCC">information just before so one endpoint</font>

901
00:59:52,470 --> 00:59:58,799
to nail ok so to have the full

902
00:59:55,320 --> 01:00:02,220
granularity and to capture the traffic

903
00:59:58,800 --> 01:00:07,430
just<font color="#CCCCCC"> after the remote end point so to</font>

904
01:00:02,220 --> 01:00:11,399
have soda capsulated traffic again<font color="#CCCCCC"> ok I</font>

905
01:00:07,430 --> 01:00:18,180
said that CP flags are blended order

906
01:00:11,400 --> 01:00:22,500
together so so for a full and TCP

907
01:00:18,180 --> 01:00:26,819
session with and chicken with a data

908
01:00:22,500 --> 01:00:30,540
exchange but we end up with is a<font color="#CCCCCC"> rig</font>

909
01:00:26,820 --> 01:00:34,670
<font color="#E5E5E5">with two</font><font color="#CCCCCC"> records in two different ways I</font>

910
01:00:30,540 --> 01:00:39,140
said with all the flags basically set so

911
01:00:34,670 --> 01:00:44,070
of course we have seen<font color="#E5E5E5"> and the</font><font color="#CCCCCC"> ACK and</font>

912
01:00:39,140 --> 01:00:46,920
you will find Finn or wizard and so

913
01:00:44,070 --> 01:00:49,800
there is no individual<font color="#E5E5E5"> TCP flag</font>

914
01:00:46,920 --> 01:00:52,200
granularity except that of course we

915
01:00:49,800 --> 01:00:56,520
will find records on<font color="#CCCCCC"> your on your on</font>

916
01:00:52,200 --> 01:01:01,399
your record captured collected with a

917
01:00:56,520 --> 01:01:01,400
need for example one or two flag set so

918
01:01:01,490 --> 01:01:08,459
this<font color="#CCCCCC"> is an example with an F dump I will</font>

919
01:01:04,230 --> 01:01:11,310
talk about NF damp and how it<font color="#E5E5E5"> works more</font>

920
01:01:08,460 --> 01:01:14,550
in details in the few slides but just<font color="#CCCCCC"> to</font>

921
01:01:11,310 --> 01:01:18,029
<font color="#CCCCCC">example the logic is easier so I mean</font>

922
01:01:14,550 --> 01:01:22,100
the point of pupils of the first query

923
01:01:18,030 --> 01:01:25,710
is to just look at for the traffic<font color="#E5E5E5"> of</font>

924
01:01:22,100 --> 01:01:29,490
the recording<font color="#E5E5E5"> only the scene flag sets</font>

925
01:01:25,710 --> 01:01:34,110
so the scene and not any other flag

926
01:01:29,490 --> 01:01:41,270
obviously the second query is I want the

927
01:01:34,110 --> 01:01:44,520
record<font color="#E5E5E5"> having the reset flag set maybe</font>

928
01:01:41,270 --> 01:01:48,750
along<font color="#E5E5E5"> with the egg flag set but not</font>

929
01:01:44,520 --> 01:01:54,890
other flag so what you are<font color="#E5E5E5"> looking for</font>

930
01:01:48,750 --> 01:01:58,320
is<font color="#E5E5E5"> a burst of syn packets in one way and</font>

931
01:01:54,890 --> 01:02:01,940
the rest of reset packets in the<font color="#E5E5E5"> other</font>

932
01:01:58,320 --> 01:02:08,370
way around<font color="#E5E5E5"> so meaning it could be large</font>

933
01:02:01,940 --> 01:02:10,470
scan or some other event exact so this

934
01:02:08,370 --> 01:02:14,730
is<font color="#CCCCCC"> the best</font><font color="#E5E5E5"> that you can do when it</font>

935
01:02:10,470 --> 01:02:18,120
comes to<font color="#CCCCCC"> TCP you can do queries in on</font>

936
01:02:14,730 --> 01:02:20,730
every with<font color="#E5E5E5"> every speaker combination but</font>

937
01:02:18,120 --> 01:02:23,220
I I mean if you have a full completed in

938
01:02:20,730 --> 01:02:28,620
TCP session from the first scene to the

939
01:02:23,220 --> 01:02:32,819
last fin yeah you have no granularity so

940
01:02:28,620 --> 01:02:36,180
<font color="#CCCCCC">okay and so I said</font><font color="#E5E5E5"> that before but they</font>

941
01:02:32,820 --> 01:02:39,860
are seven streams conversations whatever

942
01:02:36,180 --> 01:02:42,960
the name are splitted at least at least

943
01:02:39,860 --> 01:02:45,990
upon two different records so as an

944
01:02:42,960 --> 01:02:50,700
analyst that's not always convenient I

945
01:02:45,990 --> 01:02:53,580
have a slide<font color="#CCCCCC"> on that later on</font><font color="#E5E5E5"> and the</font>

946
01:02:50,700 --> 01:02:57,680
other orthogonal problem is that the

947
01:02:53,580 --> 01:03:02,160
source and this nation I as we see it I

948
01:02:57,680 --> 01:03:05,669
as used it as we sit and our natural

949
01:03:02,160 --> 01:03:11,190
world does not match the circuits notion

950
01:03:05,670 --> 01:03:16,740
of client and server and and yeah that's

951
01:03:11,190 --> 01:03:20,100
<font color="#E5E5E5">a pity I mean that in certain cases that</font>

952
01:03:16,740 --> 01:03:23,040
yeah that easy<font color="#CCCCCC"> to know which I which</font>

953
01:03:20,100 --> 01:03:26,610
side initiated the traffic and which I

954
01:03:23,040 --> 01:03:27,240
on which side there is a server and but

955
01:03:26,610 --> 01:03:30,960
in many

956
01:03:27,240 --> 01:03:36,020
mini cases there is no no way on no easy

957
01:03:30,960 --> 01:03:39,720
way to decide that<font color="#CCCCCC"> except</font><font color="#E5E5E5"> by applying</font>

958
01:03:36,020 --> 01:03:44,490
more less<font color="#E5E5E5"> working heuristics on your</font>

959
01:03:39,720 --> 01:03:49,830
traffic and say<font color="#CCCCCC"> ok I ok more on that</font>

960
01:03:44,490 --> 01:03:55,410
later but lost lost in well lost in

961
01:03:49,830 --> 01:04:00,060
collection a very low key figure I mean

962
01:03:55,410 --> 01:04:05,490
but<font color="#E5E5E5"> even on very very small very very</font>

963
01:04:00,060 --> 01:04:07,440
<font color="#E5E5E5">smaller setting with</font><font color="#CCCCCC"> three report I know</font>

964
01:04:05,490 --> 01:04:13,140
to borders we are talking<font color="#CCCCCC"> about at least</font>

965
01:04:07,440 --> 01:04:19,380
seven gig of data protected Christopher

966
01:04:13,140 --> 01:04:22,740
Murrow on the<font color="#CCCCCC"> nsp sec buff in some hour</font>

967
01:04:19,380 --> 01:04:26,730
ago talked about sat on the<font color="#CCCCCC"> network they</font>

968
01:04:22,740 --> 01:04:29,759
were<font color="#E5E5E5"> talking about terabytes of data per</font>

969
01:04:26,730 --> 01:04:34,730
day<font color="#E5E5E5"> something like that so meaning that</font>

970
01:04:29,760 --> 01:04:38,040
it's quickly<font color="#E5E5E5"> a lot</font><font color="#CCCCCC"> of data even</font><font color="#E5E5E5"> in</font><font color="#CCCCCC"> small</font>

971
01:04:34,730 --> 01:04:42,630
small eyes<font color="#E5E5E5"> I use</font><font color="#CCCCCC"> P platform you will end</font>

972
01:04:38,040 --> 01:04:48,810
up quickly with tens of Giga of data per

973
01:04:42,630 --> 01:04:53,490
day ok so I'm talking I'm talking about

974
01:04:48,810 --> 01:04:57,450
not know non sampling<font color="#E5E5E5"> here but ok this</font>

975
01:04:53,490 --> 01:05:02,069
is really<font color="#CCCCCC"> ugur confortable amounts of</font>

976
01:04:57,450 --> 01:05:07,020
data to look at with<font color="#E5E5E5"> that said what you</font>

977
01:05:02,070 --> 01:05:10,770
<font color="#E5E5E5">can do beside the prune or data and so</font>

978
01:05:07,020 --> 01:05:14,100
first midterm strategy is compression

979
01:05:10,770 --> 01:05:18,930
you<font color="#CCCCCC"> can</font><font color="#E5E5E5"> compress your data I'm talking</font>

980
01:05:14,100 --> 01:05:26,069
about flat files fat flat file storage

981
01:05:18,930 --> 01:05:29,399
sorry yeah so depending<font color="#E5E5E5"> on the tool you</font>

982
01:05:26,070 --> 01:05:32,970
use they will store your<font color="#E5E5E5"> data and some</font>

983
01:05:29,400 --> 01:05:35,820
different kind<font color="#E5E5E5"> of storage Israel binary</font>

984
01:05:32,970 --> 01:05:39,509
flat file which is<font color="#E5E5E5"> the most efficient</font>

985
01:05:35,820 --> 01:05:44,730
basically it may be in a

986
01:05:39,510 --> 01:05:48,450
in sequence database it may be<font color="#CCCCCC"> okay so</font>

987
01:05:44,730 --> 01:05:50,490
first thing if you if you can depending

988
01:05:48,450 --> 01:05:53,279
of your storage back and you can

989
01:05:50,490 --> 01:05:55,640
compress all the data for whatever

990
01:05:53,280 --> 01:05:57,990
meaning of order you may want to put and

991
01:05:55,640 --> 01:06:02,339
long-term you have no other choice but

992
01:05:57,990 --> 01:06:08,160
to prune regularly<font color="#CCCCCC"> old data and perhaps</font>

993
01:06:02,340 --> 01:06:11,220
keep some some aggregated views of the

994
01:06:08,160 --> 01:06:16,290
network 12 for example<font color="#E5E5E5"> only as the top</font>

995
01:06:11,220 --> 01:06:22,080
<font color="#E5E5E5">ends the top and promotes for example so</font>

996
01:06:16,290 --> 01:06:23,790
so<font color="#CCCCCC"> first unread bandwidth eaters on your</font>

997
01:06:22,080 --> 01:06:26,310
network every month or something like

998
01:06:23,790 --> 01:06:33,360
that with different criteria positives

999
01:06:26,310 --> 01:06:37,170
but<font color="#CCCCCC"> okay flat file well well there is</font>

1000
01:06:33,360 --> 01:06:41,040
only<font color="#E5E5E5"> this database temptation because it</font>

1001
01:06:37,170 --> 01:06:44,640
looks so so good and I know that great

1002
01:06:41,040 --> 01:06:46,620
number of very clever people are storing

1003
01:06:44,640 --> 01:06:50,790
that in<font color="#CCCCCC"> a sequel database but there is</font>

1004
01:06:46,620 --> 01:06:53,779
so much of a novel read over that anyway

1005
01:06:50,790 --> 01:06:58,200
<font color="#E5E5E5">so I took the most efficient storage is</font>

1006
01:06:53,780 --> 01:07:00,330
really binary flat files but of<font color="#E5E5E5"> course</font>

1007
01:06:58,200 --> 01:07:03,419
<font color="#CCCCCC">having</font><font color="#E5E5E5"> that in the sequel database</font>

1008
01:07:00,330 --> 01:07:09,270
enable of kind of interesting queries as

1009
01:07:03,420 --> 01:07:13,680
well so yeah it's up to you also as a

1010
01:07:09,270 --> 01:07:17,520
way to to think about that is just so

1011
01:07:13,680 --> 01:07:24,810
just store the row the<font color="#E5E5E5"> bulk of your data</font>

1012
01:07:17,520 --> 01:07:30,540
on flat binary files and send associated

1013
01:07:24,810 --> 01:07:38,180
data in the database like like for

1014
01:07:30,540 --> 01:07:42,090
example matrixes of traffic or some

1015
01:07:38,180 --> 01:07:45,690
resolution information of some sort or

1016
01:07:42,090 --> 01:07:50,330
some aggregated data when well another

1017
01:07:45,690 --> 01:07:53,339
and so keep the row the room it into

1018
01:07:50,330 --> 01:07:58,739
quick and retrieve formats

1019
01:07:53,339 --> 01:08:02,038
and then use a sequel database just by

1020
01:07:58,739 --> 01:08:04,469
side to to store ready the data and do

1021
01:08:02,039 --> 01:08:07,619
the queries on the sequel<font color="#E5E5E5"> and just</font>

1022
01:08:04,469 --> 01:08:10,229
retrieve with what<font color="#E5E5E5"> you retrieve on the</font>

1023
01:08:07,619 --> 01:08:16,619
sequel<font color="#E5E5E5"> database you are able to look</font>

1024
01:08:10,229 --> 01:08:20,908
further onto your binary so the point is

1025
01:08:16,618 --> 01:08:23,399
that well each tool uses its own format

1026
01:08:20,908 --> 01:08:28,979
on disk and there is no normalized on

1027
01:08:23,399 --> 01:08:32,638
disk format so it may be a pity or not I

1028
01:08:28,979 --> 01:08:36,330
don't<font color="#E5E5E5"> know there is not a youth leader</font>

1029
01:08:32,639 --> 01:08:41,549
is not so the point is<font color="#CCCCCC"> that if you end</font>

1030
01:08:36,330 --> 01:08:45,109
up using<font color="#E5E5E5"> different tools for the job you</font>

1031
01:08:41,549 --> 01:08:48,948
will<font color="#E5E5E5"> only be able</font><font color="#CCCCCC"> to just use a common</font>

1032
01:08:45,109 --> 01:08:55,310
store of data but you will need to

1033
01:08:48,948 --> 01:08:58,948
<font color="#E5E5E5">duplicate</font><font color="#CCCCCC"> n time so the data you want to</font>

1034
01:08:55,310 --> 01:09:06,089
look at depending<font color="#CCCCCC"> on</font><font color="#E5E5E5"> the tools you use</font>

1035
01:08:58,948 --> 01:09:08,939
so and so some popular collectors or

1036
01:09:06,089 --> 01:09:14,068
tools to to to look at net flow and work

1037
01:09:08,939 --> 01:09:18,118
in medford data and there is a just last

1038
01:09:14,069 --> 01:09:23,040
word regarding the database issue for

1039
01:09:18,118 --> 01:09:25,799
what's worse in the commercial front in

1040
01:09:23,040 --> 01:09:30,049
the commercial world nearly<font color="#E5E5E5"> all</font>

1041
01:09:25,799 --> 01:09:33,859
commercial vendors proposing solutions

1042
01:09:30,049 --> 01:09:37,049
evolving around net flow<font color="#E5E5E5"> so more in a</font>

1043
01:09:33,859 --> 01:09:40,500
security perspective but anyway use a

1044
01:09:37,049 --> 01:09:45,560
combination of<font color="#CCCCCC"> the two as i said so the</font>

1045
01:09:40,500 --> 01:09:48,868
raw data on flat files on disk and some

1046
01:09:45,560 --> 01:09:52,560
postgres<font color="#CCCCCC"> o or my sequel installation</font>

1047
01:09:48,868 --> 01:09:54,980
beside to store associated data<font color="#CCCCCC"> ok</font>

1048
01:09:52,560 --> 01:09:59,010
anyway so there is a<font color="#CCCCCC"> lot of different</font>

1049
01:09:54,980 --> 01:10:01,980
<font color="#E5E5E5">tools work on with metro data both</font>

1050
01:09:59,010 --> 01:10:05,159
consoles and commercial<font color="#CCCCCC"> okay with</font>

1051
01:10:01,980 --> 01:10:06,330
different strengths and weaknesses so

1052
01:10:05,159 --> 01:10:10,679
just some

1053
01:10:06,330 --> 01:10:13,290
names are the optic flow which is I

1054
01:10:10,680 --> 01:10:17,630
<font color="#CCCCCC">don't</font><font color="#E5E5E5"> want to but which is ready a great</font>

1055
01:10:13,290 --> 01:10:22,320
great tools<font color="#E5E5E5"> I have not tried one cup</font>

1056
01:10:17,630 --> 01:10:24,090
<font color="#CCCCCC">Cisco Marcy this is not well it depend</font>

1057
01:10:22,320 --> 01:10:26,759
depending on what you want<font color="#CCCCCC"> to do that</font>

1058
01:10:24,090 --> 01:10:31,440
<font color="#E5E5E5">this may not</font><font color="#CCCCCC"> be what you want to buy</font>

1059
01:10:26,760 --> 01:10:34,550
anyway and so<font color="#E5E5E5"> q1 labs as an offer</font><font color="#CCCCCC"> to and</font>

1060
01:10:31,440 --> 01:10:38,790
ok<font color="#CCCCCC"> and in the open source front you have</font>

1061
01:10:34,550 --> 01:10:45,690
<font color="#E5E5E5">the old and efficient and no matter what</font>

1062
01:10:38,790 --> 01:10:50,190
flow tools yeah there is you the older

1063
01:10:45,690 --> 01:10:57,360
she<font color="#CCCCCC"> flew from kada you will find a gas</font>

1064
01:10:50,190 --> 01:11:00,660
silk and NF dumpin of sin<font color="#E5E5E5"> ok</font><font color="#CCCCCC"> I have lot</font>

1065
01:10:57,360 --> 01:11:02,099
more<font color="#CCCCCC"> sites on an example of sin and so</font>

1066
01:11:00,660 --> 01:11:04,410
all those which are not really

1067
01:11:02,100 --> 01:11:08,130
collectors but tools to which are

1068
01:11:04,410 --> 01:11:11,840
working on NetFlow data on door<font color="#E5E5E5"> net flow</font>

1069
01:11:08,130 --> 01:11:16,290
like information like agree which<font color="#CCCCCC"> is an</font>

1070
01:11:11,840 --> 01:11:19,800
interesting tool by the way penalties

1071
01:11:16,290 --> 01:11:23,810
which is a denier<font color="#E5E5E5"> of service specialized</font>

1072
01:11:19,800 --> 01:11:27,450
kind of tool end up which while you own

1073
01:11:23,810 --> 01:11:31,890
you all know enter I'm sure but so this

1074
01:11:27,450 --> 01:11:34,530
<font color="#CCCCCC">is not</font><font color="#E5E5E5"> a correct eyes my ok n top is not</font>

1075
01:11:31,890 --> 01:11:39,450
bad is that so pretty interesting tool

1076
01:11:34,530 --> 01:11:44,309
this is a memory hog for sure last time

1077
01:11:39,450 --> 01:11:47,790
I tried<font color="#E5E5E5"> it that was not a monument of</font>

1078
01:11:44,310 --> 01:11:51,630
stability but it may be me<font color="#CCCCCC"> on me and and</font>

1079
01:11:47,790 --> 01:11:55,310
and it does not collect so I mean it

1080
01:11:51,630 --> 01:11:58,440
gives you an overview of traffic

1081
01:11:55,310 --> 01:12:01,800
exported but you are not able to do

1082
01:11:58,440 --> 01:12:06,089
forensics and and to look<font color="#E5E5E5"> actually ate</font>

1083
01:12:01,800 --> 01:12:09,810
at your<font color="#E5E5E5"> record so net-net enterpise out</font>

1084
01:12:06,090 --> 01:12:12,840
of scope<font color="#CCCCCC"> stage where it is basically</font><font color="#E5E5E5"> in</font>

1085
01:12:09,810 --> 01:12:15,120
the same category that's a cool tool but

1086
01:12:12,840 --> 01:12:19,170
keeping only<font color="#E5E5E5"> very very aggregated you of</font>

1087
01:12:15,120 --> 01:12:24,800
the data so more for to have trained

1088
01:12:19,170 --> 01:12:24,800
meaning and done with and so on

1089
01:12:25,190 --> 01:12:35,040
confirmation<font color="#CCCCCC"> and so not what we are</font>

1090
01:12:28,739 --> 01:12:38,099
looking<font color="#E5E5E5"> after so flow tools might take</font>

1091
01:12:35,040 --> 01:12:42,360
on that there is a lot of projects in

1092
01:12:38,100 --> 01:12:44,070
our projects<font color="#E5E5E5"> using flow tools so if you</font>

1093
01:12:42,360 --> 01:12:47,460
use that that's<font color="#E5E5E5"> perfect that's a very</font>

1094
01:12:44,070 --> 01:12:51,199
very good tool I'm I'm not trying to<font color="#CCCCCC"> say</font>

1095
01:12:47,460 --> 01:12:54,150
a bad thing so or whatever so this is<font color="#CCCCCC"> a</font>

1096
01:12:51,199 --> 01:12:56,610
historical collection and analysis

1097
01:12:54,150 --> 01:12:59,910
package because all those tools are

1098
01:12:56,610 --> 01:13:03,570
doing<font color="#CCCCCC"> bhasu collecting process of the</font>

1099
01:12:59,910 --> 01:13:05,940
things and they have the client from

1100
01:13:03,570 --> 01:13:09,120
tends to let you dig into the data

1101
01:13:05,940 --> 01:13:13,160
collected<font color="#E5E5E5"> there is many many pages and</font>

1102
01:13:09,120 --> 01:13:16,099
issues associated<font color="#CCCCCC"> the</font><font color="#E5E5E5"> scripts and and</font>

1103
01:13:13,160 --> 01:13:19,620
floating around and contributions and

1104
01:13:16,100 --> 01:13:24,210
many many things there is a<font color="#CCCCCC"> huge user</font>

1105
01:13:19,620 --> 01:13:28,199
community I have no figures but ok well

1106
01:13:24,210 --> 01:13:32,040
the CLI is in my well okay I'm not that

1107
01:13:28,199 --> 01:13:34,799
fond of the CLI of<font color="#CCCCCC"> pro tools</font><font color="#E5E5E5"> but that's</font>

1108
01:13:32,040 --> 01:13:37,880
only me probably and with<font color="#E5E5E5"> pro tools you</font>

1109
01:13:34,800 --> 01:13:43,350
you will find a number sorry of of

1110
01:13:37,880 --> 01:13:46,350
graphs of with so you have frost can you

1111
01:13:43,350 --> 01:13:48,540
have<font color="#CCCCCC"> see you flow and others like that</font>

1112
01:13:46,350 --> 01:13:53,219
so the great things is that you are not

1113
01:13:48,540 --> 01:13:55,320
tied with some graphical front and you

1114
01:13:53,219 --> 01:13:58,290
have<font color="#CCCCCC"> fruit tools on one side and you can</font>

1115
01:13:55,320 --> 01:14:01,830
you have different<font color="#E5E5E5"> possibilities as a as</font>

1116
01:13:58,290 --> 01:14:05,130
a graphical fronting on the minus side

1117
01:14:01,830 --> 01:14:10,230
is that ok they are not<font color="#E5E5E5"> tied tightly</font>

1118
01:14:05,130 --> 01:14:13,980
coupled together so of course that's<font color="#E5E5E5"> not</font>

1119
01:14:10,230 --> 01:14:17,280
exactly maintained that's not<font color="#CCCCCC"> necessary</font>

1120
01:14:13,980 --> 01:14:20,190
<font color="#CCCCCC">problem I mean because ok if it works no</font>

1121
01:14:17,280 --> 01:14:24,019
need to<font color="#E5E5E5"> be maintained of course for</font>

1122
01:14:20,190 --> 01:14:24,019
example there is no version 9 spot

1123
01:14:24,920 --> 01:14:34,010
so<font color="#CCCCCC"> Russian nine as brings all kinds of</font>

1124
01:14:29,750 --> 01:14:37,100
complexity and maybe quirks with it but

1125
01:14:34,010 --> 01:14:39,380
as I said as the network as a record

1126
01:14:37,100 --> 01:14:44,540
collected a few<font color="#CCCCCC"> hours ago by default</font>

1127
01:14:39,380 --> 01:14:47,870
were exported using version 9 so as a

1128
01:14:44,540 --> 01:14:51,290
<font color="#CCCCCC">route could</font><font color="#E5E5E5"> have been configured with</font>

1129
01:14:47,870 --> 01:14:53,780
version 5 no matter what but not

1130
01:14:51,290 --> 01:14:58,480
supporting version 9 maybe more<font color="#E5E5E5"> and more</font>

1131
01:14:53,780 --> 01:15:02,300
of<font color="#CCCCCC"> a problem in the</font><font color="#E5E5E5"> future okay anyway</font>

1132
01:14:58,480 --> 01:15:05,629
also versatile in the<font color="#E5E5E5"> versatile category</font>

1133
01:15:02,300 --> 01:15:08,810
other tool which<font color="#CCCCCC"> is an F dump and have</font>

1134
01:15:05,630 --> 01:15:13,400
seen well this is two sets of<font color="#E5E5E5"> tool and</font>

1135
01:15:08,810 --> 01:15:17,469
epson being the CLI and<font color="#E5E5E5"> correcting and</font>

1136
01:15:13,400 --> 01:15:21,679
<font color="#CCCCCC">sierra part i have seen being the graph</font>

1137
01:15:17,469 --> 01:15:26,150
graphical front and so<font color="#E5E5E5"> i will talk about</font>

1138
01:15:21,679 --> 01:15:28,489
this one for different reasons but the

1139
01:15:26,150 --> 01:15:33,199
design is said to be clean and modular

1140
01:15:28,489 --> 01:15:36,678
so you know what<font color="#E5E5E5"> that means there is the</font>

1141
01:15:33,199 --> 01:15:39,559
Sierra is very<font color="#E5E5E5"> very powerful and at the</font>

1142
01:15:36,679 --> 01:15:45,860
same time simple I mean the filters are

1143
01:15:39,560 --> 01:15:49,360
in the pcap like fashion so to just

1144
01:15:45,860 --> 01:15:53,599
<font color="#E5E5E5">worry a subset of your traffic you use</font>

1145
01:15:49,360 --> 01:15:55,489
the syntax you are accustomed to with

1146
01:15:53,600 --> 01:15:58,910
tcp down and the like so that very

1147
01:15:55,489 --> 01:16:02,480
convenient the good point is that so

1148
01:15:58,910 --> 01:16:06,800
there is an epson as<font color="#CCCCCC"> as a graph fronting</font>

1149
01:16:02,480 --> 01:16:08,239
so there are tidy copper together so it

1150
01:16:06,800 --> 01:16:10,520
brings all<font color="#E5E5E5"> kind</font><font color="#CCCCCC"> of interesting</font>

1151
01:16:08,239 --> 01:16:16,250
possibilities it takes input from

1152
01:16:10,520 --> 01:16:19,870
naturally 57 and d9 transparently so

1153
01:16:16,250 --> 01:16:23,000
that in the v9 case not all fields are

1154
01:16:19,870 --> 01:16:27,580
as reported as<font color="#CCCCCC"> I said if</font><font color="#E5E5E5"> you configure</font>

1155
01:16:23,000 --> 01:16:32,510
on your router export of say TTL field

1156
01:16:27,580 --> 01:16:36,500
<font color="#CCCCCC">and f dump will not be able to well it</font>

1157
01:16:32,510 --> 01:16:38,400
will take<font color="#CCCCCC"> the traffic on the wire quite</font>

1158
01:16:36,500 --> 01:16:43,710
fine but it will not

1159
01:16:38,400 --> 01:16:47,250
store that field yeah and it takes input

1160
01:16:43,710 --> 01:16:49,110
from<font color="#CCCCCC"> each flow if needed so that's</font>

1161
01:16:47,250 --> 01:16:55,310
pretty good actually it's actively

1162
01:16:49,110 --> 01:16:59,969
maintained by a very cool guy Peter AG

1163
01:16:55,310 --> 01:17:03,300
from the switch<font color="#CCCCCC"> dot CH and so and peter</font>

1164
01:16:59,969 --> 01:17:07,650
<font color="#CCCCCC">is really responsive I mean if you have</font>

1165
01:17:03,300 --> 01:17:11,010
some suggestion some bug reports on

1166
01:17:07,650 --> 01:17:15,150
whatever some ID that you want<font color="#CCCCCC"> to</font><font color="#E5E5E5"> be</font>

1167
01:17:11,010 --> 01:17:19,290
pushed you are more<font color="#E5E5E5"> than welcome there</font>

1168
01:17:15,150 --> 01:17:24,449
is mailing list and so UK you can

1169
01:17:19,290 --> 01:17:29,219
contribute and<font color="#CCCCCC"> okay for example you see</font>

1170
01:17:24,449 --> 01:17:32,309
some some days<font color="#CCCCCC"> ago I reported privately</font>

1171
01:17:29,219 --> 01:17:36,090
because I we<font color="#CCCCCC"> well</font><font color="#E5E5E5"> okay whatever aberg</font>

1172
01:17:32,310 --> 01:17:40,199
regarding ICMP decoding and I had a

1173
01:17:36,090 --> 01:17:45,540
patch in the two following hours I mean

1174
01:17:40,199 --> 01:17:49,469
so ready responsive there is a plug-in

1175
01:17:45,540 --> 01:17:53,280
system so that's<font color="#E5E5E5"> great so that's an easy</font>

1176
01:17:49,469 --> 01:17:57,239
way to build more capability I would

1177
01:17:53,280 --> 01:17:58,800
have an F dampen epson maybe the problem

1178
01:17:57,239 --> 01:18:04,259
is that<font color="#E5E5E5"> there is not a lot plugins</font>

1179
01:17:58,800 --> 01:18:08,100
available so some people are using in

1180
01:18:04,260 --> 01:18:11,429
our plugins privately but there is<font color="#E5E5E5"> no</font>

1181
01:18:08,100 --> 01:18:14,429
common repository of plugins and so<font color="#E5E5E5"> okay</font>

1182
01:18:11,429 --> 01:18:16,890
there is<font color="#E5E5E5"> some patches to like okay and</font>

1183
01:18:14,429 --> 01:18:19,920
<font color="#CCCCCC">if split ort winter or patches or</font>

1184
01:18:16,890 --> 01:18:23,510
external contributions more on that

1185
01:18:19,920 --> 01:18:29,219
later there is a steadily growing

1186
01:18:23,510 --> 01:18:33,900
community by<font color="#E5E5E5"> the way so on the very very</font>

1187
01:18:29,219 --> 01:18:35,730
<font color="#E5E5E5">good points verse 18 so you can use an F</font>

1188
01:18:33,900 --> 01:18:39,049
done for trouble network troubleshooting

1189
01:18:35,730 --> 01:18:42,559
all kind<font color="#E5E5E5"> of trouble shooting performance</font>

1190
01:18:39,050 --> 01:18:46,489
considerations security whatever<font color="#E5E5E5"> a</font>

1191
01:18:42,560 --> 01:18:51,540
beaten for real-time data or<font color="#CCCCCC"> long-term</font>

1192
01:18:46,489 --> 01:18:56,320
<font color="#E5E5E5">trending and all forensics or so</font>

1193
01:18:51,540 --> 01:19:00,190
yeah and it comes to with the flu tools

1194
01:18:56,320 --> 01:19:03,489
to in a vm converter so it at a very

1195
01:19:00,190 --> 01:19:09,460
very nice move so yeah and so the winner

1196
01:19:03,489 --> 01:19:12,218
is obviously so and have them and have

1197
01:19:09,460 --> 01:19:14,620
sin with some more details on the

1198
01:19:12,219 --> 01:19:18,670
architectural front you have two

1199
01:19:14,620 --> 01:19:22,559
processes and if cap the<font color="#CCCCCC"> any sk s f cab</font>

1200
01:19:18,670 --> 01:19:25,210
d3 which are responsible of collecting

1201
01:19:22,560 --> 01:19:28,659
the data coming from the from the

1202
01:19:25,210 --> 01:19:34,750
<font color="#E5E5E5">network so net flow for one and a true</font>

1203
01:19:28,659 --> 01:19:38,759
for the other those demons do absolutely

1204
01:19:34,750 --> 01:19:41,260
no pre post processing of<font color="#E5E5E5"> the record so</font>

1205
01:19:38,760 --> 01:19:43,710
data is read from the<font color="#CCCCCC"> network and</font>

1206
01:19:41,260 --> 01:19:50,440
written to the disk in fix it sighs

1207
01:19:43,710 --> 01:19:52,810
binary files so five minutes and they

1208
01:19:50,440 --> 01:19:56,830
made the max to other collector if you

1209
01:19:52,810 --> 01:19:59,199
want to use another brand or under the

1210
01:19:56,830 --> 01:20:01,840
type of character besides yeah you can

1211
01:19:59,199 --> 01:20:03,849
just configure an<font color="#CCCCCC"> F cab day to replicate</font>

1212
01:20:01,840 --> 01:20:08,040
all the<font color="#E5E5E5"> traffic receive to another</font>

1213
01:20:03,850 --> 01:20:12,310
address and so you have<font color="#E5E5E5"> an F dump on the</font>

1214
01:20:08,040 --> 01:20:16,780
<font color="#E5E5E5">client side to read the data and store</font>

1215
01:20:12,310 --> 01:20:19,090
<font color="#E5E5E5">then work on that and you have some</font>

1216
01:20:16,780 --> 01:20:22,330
other i canna<font color="#CCCCCC"> freeplay to replace</font>

1217
01:20:19,090 --> 01:20:25,239
traffic expire and if profile to manage

1218
01:20:22,330 --> 01:20:28,929
profiles and yeah<font color="#E5E5E5"> okay and you have an F</font>

1219
01:20:25,239 --> 01:20:33,099
sin which graphs as information based on

1220
01:20:28,929 --> 01:20:35,460
RD tools and we checked as a<font color="#CCCCCC"> front-end</font>

1221
01:20:33,100 --> 01:20:39,370
<font color="#E5E5E5">to NF them queries and with a plug-in</font>

1222
01:20:35,460 --> 01:20:43,900
management system installation is rather

1223
01:20:39,370 --> 01:20:49,000
simple actually so you can download the

1224
01:20:43,900 --> 01:20:51,730
doubles on<font color="#CCCCCC"> sourceforge you have two</font>

1225
01:20:49,000 --> 01:20:56,770
branches basically stable stable branch

1226
01:20:51,730 --> 01:21:00,519
and snapshots currently there are

1227
01:20:56,770 --> 01:21:02,590
snapshots for the upcoming one dot 3 &

1228
01:21:00,520 --> 01:21:05,650
<font color="#CCCCCC">F's and release</font>

1229
01:21:02,590 --> 01:21:13,690
it brings major really major usability

1230
01:21:05,650 --> 01:21:16,409
improvements so<font color="#E5E5E5"> okay but there is some</font>

1231
01:21:13,690 --> 01:21:19,570
<font color="#CCCCCC">not stability</font><font color="#E5E5E5"> program pti few yummy but</font>

1232
01:21:16,409 --> 01:21:22,629
this is rid of work in progress so you

1233
01:21:19,570 --> 01:21:27,489
may see a new snapshot every two days

1234
01:21:22,630 --> 01:21:29,679
also fixing fixing the problem of<font color="#CCCCCC"> the</font>

1235
01:21:27,489 --> 01:21:33,280
preview snapshot and rigging perhaps

1236
01:21:29,679 --> 01:21:36,099
some more programs so you are ok you

1237
01:21:33,280 --> 01:21:38,889
know anyway there is an upgrade path

1238
01:21:36,099 --> 01:21:41,139
provided between releases snapshot

1239
01:21:38,889 --> 01:21:44,830
whatever so<font color="#E5E5E5"> you are not supposed to lose</font>

1240
01:21:41,139 --> 01:21:48,310
data when you upgrade from one to

1241
01:21:44,830 --> 01:21:50,650
another version to install compile and

1242
01:21:48,310 --> 01:21:54,489
have them<font color="#E5E5E5"> all you need is basically c</font>

1243
01:21:50,650 --> 01:21:56,980
compiler and as for an epson what you

1244
01:21:54,489 --> 01:22:00,400
need is Perl PHP are already tools and

1245
01:21:56,980 --> 01:22:04,509
so<font color="#CCCCCC"> okay PHP extension next session and</font>

1246
01:22:00,400 --> 01:22:08,730
socket you may need to bump the maximum

1247
01:22:04,510 --> 01:22:12,969
number of system<font color="#E5E5E5"> five</font><font color="#CCCCCC"> I pcs uma</font><font color="#E5E5E5"> force</font>

1248
01:22:08,730 --> 01:22:19,839
because it consumes one per<font color="#E5E5E5"> source /</font>

1249
01:22:12,969 --> 01:22:22,780
collector so<font color="#E5E5E5"> okay NEP them so principle</font>

1250
01:22:19,840 --> 01:22:27,489
is simple it treats and it kept stored

1251
01:22:22,780 --> 01:22:31,540
files and you can<font color="#E5E5E5"> use the cab pickup</font>

1252
01:22:27,489 --> 01:22:34,598
like filters<font color="#E5E5E5"> I as I said and</font><font color="#CCCCCC"> okay and</font>

1253
01:22:31,540 --> 01:22:38,050
you can do all kind<font color="#E5E5E5"> of interesting</font>

1254
01:22:34,599 --> 01:22:41,020
aggregation<font color="#E5E5E5"> post-processing so for</font>

1255
01:22:38,050 --> 01:22:42,969
<font color="#E5E5E5">example aggregation person net if you</font>

1256
01:22:41,020 --> 01:22:45,849
want to have a look at<font color="#E5E5E5"> the traffic but</font>

1257
01:22:42,969 --> 01:22:50,219
you want to<font color="#E5E5E5"> aggregate on stage 24 or</font>

1258
01:22:45,849 --> 01:22:54,460
whatever and you can produce the top

1259
01:22:50,219 --> 01:22:56,889
ends and consumer of by flow or packets

1260
01:22:54,460 --> 01:23:03,909
or<font color="#E5E5E5"> bytes or whatever and all those of</font>

1261
01:22:56,889 --> 01:23:06,820
<font color="#E5E5E5">the results ok and</font><font color="#CCCCCC"> then display so Anna</font>

1262
01:23:03,909 --> 01:23:10,540
and display sorry you have some

1263
01:23:06,820 --> 01:23:15,099
predefined formats for so we put and you

1264
01:23:10,540 --> 01:23:16,940
<font color="#CCCCCC">have also user-defined so an example it</font>

1265
01:23:15,099 --> 01:23:23,309
supports

1266
01:23:16,940 --> 01:23:26,699
to format the format style of formatting

1267
01:23:23,309 --> 01:23:30,150
sorry so predefined formats where you

1268
01:23:26,699 --> 01:23:32,669
can say<font color="#CCCCCC"> that you want</font><font color="#E5E5E5"> the classic output</font>

1269
01:23:30,150 --> 01:23:37,518
and long extended to have more data like

1270
01:23:32,670 --> 01:23:41,159
the<font color="#E5E5E5"> TCP flags if any pipe is actually</font>

1271
01:23:37,519 --> 01:23:44,249
the more scriptable output we're all

1272
01:23:41,159 --> 01:23:48,749
fields are operated by pipes and<font color="#CCCCCC"> ro well</font>

1273
01:23:44,249 --> 01:23:52,199
you can also<font color="#E5E5E5"> fill them</font><font color="#CCCCCC"> ok and you can</font>

1274
01:23:48,749 --> 01:23:56,880
define your own own filters format if

1275
01:23:52,199 --> 01:24:00,030
needed if you want to display only the

1276
01:23:56,880 --> 01:24:02,510
duration and yes awesome and this nation

1277
01:24:00,030 --> 01:24:10,320
address and port so something like that

1278
01:24:02,510 --> 01:24:19,219
works another example<font color="#E5E5E5"> of define output</font>

1279
01:24:10,320 --> 01:24:21,929
to to display a is metrics traffic so<font color="#CCCCCC"> ok</font>

1280
01:24:19,219 --> 01:24:27,090
if you if you really need to you can

1281
01:24:21,929 --> 01:24:31,670
define your own your own formats and so

1282
01:24:27,090 --> 01:24:36,139
in any of them that see<font color="#E5E5E5"> he also actually</font>

1283
01:24:31,670 --> 01:24:40,829
explains 02 to define that<font color="#E5E5E5"> so that's</font>

1284
01:24:36,139 --> 01:24:45,179
that's quite easy actually if you need

1285
01:24:40,829 --> 01:24:47,909
some really user define output of your

1286
01:24:45,179 --> 01:24:49,979
own for whatever<font color="#CCCCCC"> post-processing that</font>

1287
01:24:47,909 --> 01:24:53,009
you may need you can do that and you

1288
01:24:49,979 --> 01:24:54,989
have to so you read the instructions in

1289
01:24:53,010 --> 01:24:59,940
and of them that see<font color="#E5E5E5"> and recompile and</font>

1290
01:24:54,989 --> 01:25:03,900
that's it basically and so it<font color="#E5E5E5"> was for</font>

1291
01:24:59,940 --> 01:25:08,699
the any of them<font color="#E5E5E5"> part and for an F sin</font>

1292
01:25:03,900 --> 01:25:12,598
you<font color="#E5E5E5"> have a rather explicit configuration</font>

1293
01:25:08,699 --> 01:25:16,799
file where you you will put false values

1294
01:25:12,599 --> 01:25:20,459
passes like we are installed the binary

1295
01:25:16,800 --> 01:25:26,599
where I installed the front and the data

1296
01:25:20,459 --> 01:25:29,730
repository whatever and<font color="#E5E5E5"> ok and some</font>

1297
01:25:26,599 --> 01:25:35,130
watermarking dis watermarking

1298
01:25:29,730 --> 01:25:38,160
and stuff like<font color="#E5E5E5"> that and this is how it</font>

1299
01:25:35,130 --> 01:25:40,200
<font color="#CCCCCC">looks I go</font><font color="#E5E5E5"> really quickly on the screen</font>

1300
01:25:38,160 --> 01:25:42,809
<font color="#CCCCCC">shot because I have life screenshots as</font>

1301
01:25:40,200 --> 01:25:47,250
I said so much better and data

1302
01:25:42,810 --> 01:25:50,840
organization you can<font color="#CCCCCC"> organize on these</font>

1303
01:25:47,250 --> 01:25:55,170
the data in with different schemes so

1304
01:25:50,840 --> 01:25:57,350
depending on<font color="#E5E5E5"> your configuration file so</font>

1305
01:25:55,170 --> 01:26:01,320
you<font color="#CCCCCC"> can decide</font><font color="#E5E5E5"> to have all the data</font>

1306
01:25:57,350 --> 01:26:05,130
<font color="#E5E5E5">collected three in one big directory but</font>

1307
01:26:01,320 --> 01:26:10,230
it will fill up pretty quickly with five

1308
01:26:05,130 --> 01:26:13,170
<font color="#CCCCCC">minutes slot files or you can have</font>

1309
01:26:10,230 --> 01:26:17,849
different heroic eyes depending<font color="#CCCCCC"> on</font><font color="#E5E5E5"> your</font>

1310
01:26:13,170 --> 01:26:20,700
needs and data organization where

1311
01:26:17,850 --> 01:26:23,100
profiles which will see that later on

1312
01:26:20,700 --> 01:26:25,500
managing profiles you can manage so

1313
01:26:23,100 --> 01:26:28,110
profiles will see what profiles are but

1314
01:26:25,500 --> 01:26:31,830
you can manage profiles using the CLI or

1315
01:26:28,110 --> 01:26:34,980
with a web interface actually and so

1316
01:26:31,830 --> 01:26:40,440
just an example of building a profile to

1317
01:26:34,980 --> 01:26:45,650
look more in details of UDP traffic on

1318
01:26:40,440 --> 01:26:45,650
some given port this is how it<font color="#E5E5E5"> works</font>

1319
01:26:52,150 --> 01:26:58,620
and channels but we'll see that detail

1320
01:27:01,170 --> 01:27:12,670
<font color="#CCCCCC">okay i will</font><font color="#E5E5E5"> switch yeah so actually this</font>

1321
01:27:09,100 --> 01:27:15,880
is a<font color="#E5E5E5"> traffic captured while captured the</font>

1322
01:27:12,670 --> 01:27:20,100
<font color="#CCCCCC">net flow Isaacson April recorders as</font>

1323
01:27:15,880 --> 01:27:24,550
exported on the border router of nanog

1324
01:27:20,100 --> 01:27:29,429
from yesterday afternoon till rights

1325
01:27:24,550 --> 01:27:39,940
after I started to talk ear right so

1326
01:27:29,429 --> 01:27:45,510
this<font color="#CCCCCC"> is</font><font color="#E5E5E5"> the main tab and panel yeah okay</font>

1327
01:27:39,940 --> 01:27:50,349
and so in the graph tab you are able to

1328
01:27:45,510 --> 01:27:54,040
to have a look at<font color="#E5E5E5"> the different at</font><font color="#CCCCCC"> the</font>

1329
01:27:50,350 --> 01:27:56,020
traffic using different matrix with ya

1330
01:27:54,040 --> 01:28:00,780
number of flows and packets<font color="#E5E5E5"> and and</font>

1331
01:27:56,020 --> 01:28:05,679
bites I mean and then<font color="#E5E5E5"> you have a detail</font>

1332
01:28:00,780 --> 01:28:15,519
tab why you can do actually queries so<font color="#CCCCCC"> I</font>

1333
01:28:05,679 --> 01:28:17,640
mean<font color="#E5E5E5"> if you won't work on some I don't</font>

1334
01:28:15,520 --> 01:28:17,640
know

1335
01:28:23,880 --> 01:28:26,960
and just do

1336
01:28:50,790 --> 01:28:57,900
yeah ok so you Cesar ID basically so you

1337
01:28:55,320 --> 01:29:03,240
have your your graphs with traffic and

1338
01:28:57,900 --> 01:29:07,110
<font color="#CCCCCC">you are able</font><font color="#E5E5E5"> to yeah define some some</font>

1339
01:29:03,240 --> 01:29:09,240
<font color="#E5E5E5">time window and build queries to look</font>

1340
01:29:07,110 --> 01:29:13,469
<font color="#E5E5E5">actually at the</font><font color="#CCCCCC"> traffic which was</font>

1341
01:29:09,240 --> 01:29:16,980
collected<font color="#E5E5E5"> and the nice</font><font color="#CCCCCC"> thing is that you</font>

1342
01:29:13,470 --> 01:29:19,170
are<font color="#CCCCCC"> able to</font><font color="#E5E5E5"> define your filters and</font>

1343
01:29:16,980 --> 01:29:28,160
profiles to look at the traffic with

1344
01:29:19,170 --> 01:29:32,220
graphs so an example<font color="#E5E5E5"> I built a few</font>

1345
01:29:28,160 --> 01:29:39,389
filters to look more in details at the

1346
01:29:32,220 --> 01:29:43,050
<font color="#CCCCCC">traffic</font><font color="#E5E5E5"> and so defining some common uses</font>

1347
01:29:39,390 --> 01:29:50,210
of some some pattern some<font color="#E5E5E5"> network</font>

1348
01:29:43,050 --> 01:29:53,690
pattern like Janelle's web while slammer

1349
01:29:50,210 --> 01:30:03,240
windows traffic window windows<font color="#E5E5E5"> verbosity</font>

1350
01:29:53,690 --> 01:30:06,690
mail so actually<font color="#E5E5E5"> to do that yeah i</font>

1351
01:30:03,240 --> 01:30:12,059
define i define a profile<font color="#CCCCCC"> called main</font>

1352
01:30:06,690 --> 01:30:15,000
and yeah in that profile you define

1353
01:30:12,060 --> 01:30:20,220
channels on it each channel being given

1354
01:30:15,000 --> 01:30:23,010
a filter of traffic<font color="#E5E5E5"> so and so channels</font>

1355
01:30:20,220 --> 01:30:26,880
are I don't know perhaps some of you add

1356
01:30:23,010 --> 01:30:29,730
some<font color="#CCCCCC"> previous experience with order with</font>

1357
01:30:26,880 --> 01:30:32,460
a stable branch of an F sin but I can

1358
01:30:29,730 --> 01:30:35,700
promise that there is so the channel

1359
01:30:32,460 --> 01:30:38,910
stuff is completely new and this rather

1360
01:30:35,700 --> 01:30:42,980
powerful before that u.s.<font color="#CCCCCC"> u.s. turk</font>

1361
01:30:38,910 --> 01:30:49,170
basically with one filter up a profile

1362
01:30:42,980 --> 01:30:55,070
ok<font color="#E5E5E5"> ok</font><font color="#CCCCCC"> i go quickly</font><font color="#E5E5E5"> that and and so and</font>

1363
01:30:49,170 --> 01:30:59,610
with none nestable stackable profiles so

1364
01:30:55,070 --> 01:31:02,969
<font color="#E5E5E5">ok so quickly so you see you you define</font>

1365
01:30:59,610 --> 01:31:04,620
a profile so rather simple actually and

1366
01:31:02,970 --> 01:31:07,320
you define channel

1367
01:31:04,620 --> 01:31:11,120
with filter information associated to

1368
01:31:07,320 --> 01:31:15,900
each so well the way I did<font color="#CCCCCC"> that was to</font>

1369
01:31:11,120 --> 01:31:21,059
put in mail for traffic for smtp I map

1370
01:31:15,900 --> 01:31:25,889
and and pop and then<font color="#CCCCCC"> ok you see so for</font>

1371
01:31:21,060 --> 01:31:28,710
<font color="#CCCCCC">example in tuners I put HTTPS but ok it</font>

1372
01:31:25,890 --> 01:31:33,660
could be HTTP try it could be web

1373
01:31:28,710 --> 01:31:42,320
surfing as well so<font color="#CCCCCC"> that's another so</font>

1374
01:31:33,660 --> 01:31:47,370
quickly and just<font color="#E5E5E5"> I get another filter</font>

1375
01:31:42,320 --> 01:31:50,519
profile sorry we're okay<font color="#E5E5E5"> my point was</font>

1376
01:31:47,370 --> 01:31:55,920
more to look at traffic between as a

1377
01:31:50,520 --> 01:31:59,430
different subnets so basically<font color="#E5E5E5"> the</font><font color="#CCCCCC"> rails</font>

1378
01:31:55,920 --> 01:32:03,750
<font color="#E5E5E5">three group of IP address considered</font>

1379
01:31:59,430 --> 01:32:07,200
while for if you want there is traffic

1380
01:32:03,750 --> 01:32:11,010
from the<font color="#CCCCCC"> big evil internet between the</font>

1381
01:32:07,200 --> 01:32:15,030
big evil internet and<font color="#E5E5E5"> the dynamic full</font>

1382
01:32:11,010 --> 01:32:17,310
of addresses used by your<font color="#CCCCCC"> laptop's dhcp</font>

1383
01:32:15,030 --> 01:32:20,280
leases<font color="#E5E5E5"> I mean and there's traffic from</font>

1384
01:32:17,310 --> 01:32:23,970
<font color="#CCCCCC">the internet to the pool of addresses</font>

1385
01:32:20,280 --> 01:32:27,420
used by the<font color="#E5E5E5"> Reuters and infrastructure</font>

1386
01:32:23,970 --> 01:32:29,730
in the network and yeah<font color="#CCCCCC"> okay basically</font>

1387
01:32:27,420 --> 01:32:33,320
that's it and<font color="#E5E5E5"> then traffic between</font>

1388
01:32:29,730 --> 01:32:38,389
dynamic pool and that infrastructure and

1389
01:32:33,320 --> 01:32:43,500
ghost ghost traffic being in small red

1390
01:32:38,390 --> 01:32:49,320
let me see those<font color="#E5E5E5"> traffic being traffic</font>

1391
01:32:43,500 --> 01:32:52,940
directed to not attributed IPS in the

1392
01:32:49,320 --> 01:32:52,940
<font color="#E5E5E5">infrastructure space</font>

1393
01:32:56,380 --> 01:33:01,850
so the nice thing is that you can

1394
01:32:59,000 --> 01:33:07,190
unselect and channels to see more in

1395
01:33:01,850 --> 01:33:12,670
details some traffic pattern<font color="#CCCCCC"> okay and</font><font color="#E5E5E5"> so</font>

1396
01:33:07,190 --> 01:33:12,669
if<font color="#CCCCCC"> we just have a look quickly</font>

1397
01:33:20,870 --> 01:33:29,510
sorry ok so that's some output obviously

1398
01:33:26,050 --> 01:33:32,930
we need to dig further into to see what

1399
01:33:29,510 --> 01:33:36,530
<font color="#E5E5E5">kind of traffic to none used addresses</font>

1400
01:33:32,930 --> 01:33:38,210
<font color="#CCCCCC">were captured this traffic is actually</font>

1401
01:33:36,530 --> 01:33:42,469
pretty interesting but perhaps not this

1402
01:33:38,210 --> 01:33:45,650
one but in general because a nice way<font color="#E5E5E5"> to</font>

1403
01:33:42,470 --> 01:33:48,470
do<font color="#CCCCCC"> to our trending on what's a burning</font>

1404
01:33:45,650 --> 01:33:54,170
the temperature at large of the internet

1405
01:33:48,470 --> 01:33:58,940
and some macro events or micro even if

1406
01:33:54,170 --> 01:34:01,670
for<font color="#E5E5E5"> geographic geographically close to</font>

1407
01:33:58,940 --> 01:34:04,519
you is to look at traffic where nobody

1408
01:34:01,670 --> 01:34:06,560
is listening in your infrastructure and

1409
01:34:04,520 --> 01:34:08,930
you can see a lot of different<font color="#E5E5E5"> patterns</font>

1410
01:34:06,560 --> 01:34:12,890
and trainings and stuff like that so<font color="#E5E5E5"> and</font>

1411
01:34:08,930 --> 01:34:15,380
just<font color="#CCCCCC"> right like</font><font color="#E5E5E5"> last thing</font><font color="#CCCCCC"> for a plug-in</font>

1412
01:34:12,890 --> 01:34:18,410
<font color="#E5E5E5">I talked about or perhaps not hot rocker</font>

1413
01:34:15,380 --> 01:34:24,200
which is only plug-in so far existing

1414
01:34:18,410 --> 01:34:28,070
for for an F sin and so okay the name is

1415
01:34:24,200 --> 01:34:33,679
rather self-evident so podbean to to

1416
01:34:28,070 --> 01:34:37,400
track the top took your spot but you may

1417
01:34:33,680 --> 01:34:40,670
end up<font color="#CCCCCC"> okay my base is plain wrong here</font>

1418
01:34:37,400 --> 01:34:44,269
because there is only dynamic pots but

1419
01:34:40,670 --> 01:34:49,990
as<font color="#E5E5E5"> I am not capturing traffic anymore it</font>

1420
01:34:44,270 --> 01:34:55,490
keeps updating with<font color="#CCCCCC"> okay anyway and just</font>

1421
01:34:49,990 --> 01:34:58,160
<font color="#CCCCCC">okay resolution okay</font><font color="#E5E5E5"> I have a screenshot</font>

1422
01:34:55,490 --> 01:35:01,790
for that now you have resolution and

1423
01:34:58,160 --> 01:35:04,670
that's<font color="#E5E5E5"> great that's that's new too and</font>

1424
01:35:01,790 --> 01:35:08,390
you can configure so you have name and

1425
01:35:04,670 --> 01:35:11,810
<font color="#CCCCCC">AES resolution in an F sin so you can</font>

1426
01:35:08,390 --> 01:35:15,020
configure that if you look into look up

1427
01:35:11,810 --> 01:35:18,530
the p.m. in<font color="#CCCCCC"> the lib exact directory if</font>

1428
01:35:15,020 --> 01:35:20,990
you want to use another server for AES

1429
01:35:18,530 --> 01:35:22,940
resolution or change the time I<font color="#E5E5E5"> would</font>

1430
01:35:20,990 --> 01:35:26,750
for example the time I<font color="#E5E5E5"> would turn signal</font>

1431
01:35:22,940 --> 01:35:30,919
t is rather low and so you may need to

1432
01:35:26,750 --> 01:35:33,140
increase that ok plugins I said about

1433
01:35:30,920 --> 01:35:34,730
plugins there is a patch is floating

1434
01:35:33,140 --> 01:35:40,400
around to enable

1435
01:35:34,730 --> 01:35:42,410
old<font color="#E5E5E5"> winter style error the tools to look</font>

1436
01:35:40,400 --> 01:35:48,129
<font color="#E5E5E5">further into the traffic captured with</font>

1437
01:35:42,410 --> 01:35:51,170
an F sin and there was some discussions

1438
01:35:48,130 --> 01:35:55,640
there was some discussions to know if

1439
01:35:51,170 --> 01:36:00,910
that<font color="#CCCCCC"> would out to be integrated</font><font color="#E5E5E5"> into the</font>

1440
01:35:55,640 --> 01:36:05,690
main trunk or not so I don't<font color="#CCCCCC"> know</font><font color="#E5E5E5"> what</font>

1441
01:36:00,910 --> 01:36:10,670
will follow but anyway so odd winter is

1442
01:36:05,690 --> 01:36:13,790
a nagger is amused mainly in climate

1443
01:36:10,670 --> 01:36:17,360
changes right to spot anomalies in

1444
01:36:13,790 --> 01:36:21,080
traffic and so the nice thing with that

1445
01:36:17,360 --> 01:36:23,150
<font color="#E5E5E5">patch is that you can sorry</font><font color="#CCCCCC"> is that you</font>

1446
01:36:21,080 --> 01:36:25,610
can<font color="#E5E5E5"> install that in parallel with an</font>

1447
01:36:23,150 --> 01:36:28,400
<font color="#E5E5E5">existing and absent installation so you</font>

1448
01:36:25,610 --> 01:36:30,559
are<font color="#E5E5E5"> not supposed</font><font color="#CCCCCC"> to break your main your</font>

1449
01:36:28,400 --> 01:36:33,830
<font color="#E5E5E5">main an epson installation and you can</font>

1450
01:36:30,560 --> 01:36:39,380
can have<font color="#E5E5E5"> that in parallel what my motion</font>

1451
01:36:33,830 --> 01:36:44,690
is doing ok so if we<font color="#CCCCCC"> okay if</font><font color="#E5E5E5"> we if we</font>

1452
01:36:39,380 --> 01:36:49,210
look<font color="#CCCCCC"> on the above pans so traffic it may</font>

1453
01:36:44,690 --> 01:36:52,790
it may not be simple to to sport

1454
01:36:49,210 --> 01:36:58,460
anomalies in the<font color="#CCCCCC"> lower source of traffic</font>

1455
01:36:52,790 --> 01:37:03,110
I mean in the brown part or<font color="#CCCCCC"> ok and thing</font>

1456
01:36:58,460 --> 01:37:05,750
like what winter enables to ya just look

1457
01:37:03,110 --> 01:37:08,630
at the trending and patterns of usual

1458
01:37:05,750 --> 01:37:10,970
patterns and with that you<font color="#E5E5E5"> able to spot</font>

1459
01:37:08,630 --> 01:37:15,500
an annually which was clearly<font color="#E5E5E5"> not</font>

1460
01:37:10,970 --> 01:37:18,680
visible in the main part<font color="#E5E5E5"> I mean if you</font>

1461
01:37:15,500 --> 01:37:21,620
see what I<font color="#CCCCCC"> mean ok so with that you may</font>

1462
01:37:18,680 --> 01:37:25,460
be able to<font color="#E5E5E5"> spot most specifically in res</font>

1463
01:37:21,620 --> 01:37:29,809
verbals sources of information just a

1464
01:37:25,460 --> 01:37:32,600
concrete example quickly quickly so

1465
01:37:29,810 --> 01:37:37,310
example below purely fictional of course

1466
01:37:32,600 --> 01:37:39,770
but if you were to you you may want to

1467
01:37:37,310 --> 01:37:42,020
to to have a look<font color="#E5E5E5"> at traffic with</font>

1468
01:37:39,770 --> 01:37:45,170
certain characteristics<font color="#CCCCCC"> I mean for</font>

1469
01:37:42,020 --> 01:37:47,920
<font color="#CCCCCC">example some I ICMP types and code or</font>

1470
01:37:45,170 --> 01:37:50,500
with certain protocols

1471
01:37:47,920 --> 01:37:54,370
the fact that actually the first

1472
01:37:50,500 --> 01:37:57,910
requirement we can do nothing for<font color="#E5E5E5"> that</font>

1473
01:37:54,370 --> 01:38:00,010
because there is no IP up<font color="#CCCCCC"> shin which are</font>

1474
01:37:57,910 --> 01:38:01,960
captured with net flow so we are not

1475
01:38:00,010 --> 01:38:05,110
able too much traffic based on some

1476
01:38:01,960 --> 01:38:11,080
options anyway<font color="#E5E5E5"> we</font><font color="#CCCCCC"> are able to look at</font>

1477
01:38:05,110 --> 01:38:13,870
icmp traffic and other protocols the

1478
01:38:11,080 --> 01:38:18,130
last<font color="#CCCCCC"> Clause is that the packet is sent</font>

1479
01:38:13,870 --> 01:38:19,599
to physical or veteran address it's

1480
01:38:18,130 --> 01:38:22,480
<font color="#E5E5E5">interesting to have a look if</font><font color="#CCCCCC"> you have</font>

1481
01:38:19,600 --> 01:38:28,449
some kind<font color="#E5E5E5"> of traffic on your network so</font>

1482
01:38:22,480 --> 01:38:32,259
ICMP case with ICMP just<font color="#E5E5E5"> by that the way</font>

1483
01:38:28,449 --> 01:38:35,559
it<font color="#CCCCCC"> works is that to encode I simply</font>

1484
01:38:32,260 --> 01:38:39,610
information indeed the source code so

1485
01:38:35,560 --> 01:38:41,500
sore<font color="#E5E5E5"> spot sorry is always</font><font color="#CCCCCC"> 0 so when</font>

1486
01:38:39,610 --> 01:38:43,989
there is a ICMP traffic capture

1487
01:38:41,500 --> 01:38:46,000
forwarded by your router it will export

1488
01:38:43,989 --> 01:38:50,519
a record of that I simply<font color="#E5E5E5"> traffic with a</font>

1489
01:38:46,000 --> 01:38:55,810
sore spot of 0<font color="#E5E5E5"> and the code and type</font><font color="#CCCCCC"> are</font>

1490
01:38:50,520 --> 01:39:00,900
shoe on into the destination port<font color="#CCCCCC"> okay</font>

1491
01:38:55,810 --> 01:39:03,820
so if we have a look at record the

1492
01:39:00,900 --> 01:39:05,440
little problem that we are we with an<font color="#CCCCCC"> F</font>

1493
01:39:03,820 --> 01:39:09,250
them is that for now there is no

1494
01:39:05,440 --> 01:39:13,389
specific keywords to to to do queries on

1495
01:39:09,250 --> 01:39:18,760
the type and code so you have to use the

1496
01:39:13,390 --> 01:39:21,640
action<font color="#CCCCCC"> 16 bits value to do the query so</font>

1497
01:39:18,760 --> 01:39:25,060
meaning if<font color="#CCCCCC"> you want to match tape eight</font>

1498
01:39:21,640 --> 01:39:27,489
and thirteen and<font color="#E5E5E5"> and so on and traffic</font>

1499
01:39:25,060 --> 01:39:30,010
with<font color="#E5E5E5"> an</font><font color="#CCCCCC"> F</font><font color="#E5E5E5"> dump you will be the you will</font>

1500
01:39:27,489 --> 01:39:32,379
<font color="#CCCCCC">end up building</font><font color="#E5E5E5"> a filter like proto ICMP</font>

1501
01:39:30,010 --> 01:39:34,449
and port blah blah blah blah blah<font color="#E5E5E5"> take</font>

1502
01:39:32,380 --> 01:39:41,500
your calc and that's easy but such a bit

1503
01:39:34,449 --> 01:39:48,219
boring<font color="#E5E5E5"> to do yeah okay</font><font color="#CCCCCC"> adding</font><font color="#E5E5E5"> adding</font><font color="#CCCCCC"> a</font>

1504
01:39:41,500 --> 01:39:50,140
new profile and channel we saw<font color="#E5E5E5"> that</font><font color="#CCCCCC"> okay</font>

1505
01:39:48,219 --> 01:39:52,300
direction<font color="#E5E5E5"> I said that there is no way to</font>

1506
01:39:50,140 --> 01:39:56,410
build the direction I would have the

1507
01:39:52,300 --> 01:40:00,429
record because the way it's<font color="#E5E5E5"> done and by</font>

1508
01:39:56,410 --> 01:40:02,309
flows it would be cool sometimes to have

1509
01:40:00,429 --> 01:40:06,090
to to work and by flows

1510
01:40:02,310 --> 01:40:10,050
when all the commercial tools working

1511
01:40:06,090 --> 01:40:11,640
with<font color="#CCCCCC"> net flow end up matching by flow so</font>

1512
01:40:10,050 --> 01:40:13,650
meaning that you are able<font color="#E5E5E5"> to see with</font>

1513
01:40:11,640 --> 01:40:17,340
one record both sides of the

1514
01:40:13,650 --> 01:40:23,389
conversation and<font color="#E5E5E5"> NF dumb does not do</font>

1515
01:40:17,340 --> 01:40:26,810
that so you can fire your your favorite

1516
01:40:23,390 --> 01:40:30,510
script language of yours<font color="#CCCCCC"> like / or</font>

1517
01:40:26,810 --> 01:40:33,840
Python or Ruby or whatever and and build

1518
01:40:30,510 --> 01:40:37,080
a small aggregation by for a great

1519
01:40:33,840 --> 01:40:41,130
aggregator sites that's quite that's not

1520
01:40:37,080 --> 01:40:47,100
a line<font color="#E5E5E5"> okay from pick up to net flow but</font>

1521
01:40:41,130 --> 01:40:50,910
I said some things about that<font color="#E5E5E5"> just bgp</font>

1522
01:40:47,100 --> 01:40:53,310
some just a graph i am not sure there is

1523
01:40:50,910 --> 01:40:54,900
actually an interested in looking at<font color="#CCCCCC"> be</font>

1524
01:40:53,310 --> 01:40:59,670
<font color="#CCCCCC">cheap traffic</font><font color="#E5E5E5"> from a net through</font>

1525
01:40:54,900 --> 01:41:02,400
perspective but well bgp is pretty much

1526
01:40:59,670 --> 01:41:07,680
in every meaning of the term like a bit

1527
01:41:02,400 --> 01:41:11,309
traffic I mean and so this<font color="#CCCCCC"> is how it</font>

1528
01:41:07,680 --> 01:41:16,050
looks like in regular with 1pm in

1529
01:41:11,310 --> 01:41:20,010
regular update on withdrawal cycle I

1530
01:41:16,050 --> 01:41:23,270
mean so regular hundred packet and this

1531
01:41:20,010 --> 01:41:25,350
is how it looks when there is some ebgp

1532
01:41:23,270 --> 01:41:31,530
instability we are with Europe

1533
01:41:25,350 --> 01:41:37,020
instability<font color="#E5E5E5"> so of course we see with a</font>

1534
01:41:31,530 --> 01:41:41,030
big increase of traffic so so I mean

1535
01:41:37,020 --> 01:41:45,530
that only by looking and if there is

1536
01:41:41,030 --> 01:41:48,809
massive or some increase of the<font color="#CCCCCC"> update</font>

1537
01:41:45,530 --> 01:41:53,040
received for example they will<font color="#E5E5E5"> end up</font>

1538
01:41:48,810 --> 01:41:56,340
being<font color="#E5E5E5"> in your graph so with that I'm not</font>

1539
01:41:53,040 --> 01:42:02,790
<font color="#E5E5E5">sure I don't know if this is a useful or</font>

1540
01:41:56,340 --> 01:42:05,430
not yeah okay but<font color="#E5E5E5"> I mean with that at</font>

1541
01:42:02,790 --> 01:42:08,040
least you are able<font color="#E5E5E5"> to say okay at that</font>

1542
01:42:05,430 --> 01:42:10,830
time there is a peak there is an

1543
01:42:08,040 --> 01:42:13,980
increase of<font color="#CCCCCC"> bgp traffic between that and</font>

1544
01:42:10,830 --> 01:42:15,710
that peers and what does that<font color="#CCCCCC"> mean</font><font color="#E5E5E5"> so</font>

1545
01:42:13,980 --> 01:42:18,889
all you<font color="#CCCCCC"> have to do</font>

1546
01:42:15,710 --> 01:42:21,350
well it's up<font color="#CCCCCC"> to</font><font color="#E5E5E5"> you to fire your bgp</font>

1547
01:42:18,890 --> 01:42:25,690
logs and and<font color="#E5E5E5"> i will look in more detail</font>

1548
01:42:21,350 --> 01:42:29,600
at<font color="#CCCCCC"> the application level I mean</font><font color="#E5E5E5"> and just</font>

1549
01:42:25,690 --> 01:42:33,950
<font color="#CCCCCC">okay I talked about traffic directed to</font>

1550
01:42:29,600 --> 01:42:37,219
to to the void also none so for a very

1551
01:42:33,950 --> 01:42:40,309
<font color="#E5E5E5">very low volume very very low volume</font>

1552
01:42:37,219 --> 01:42:44,890
sources but just in<font color="#CCCCCC"> gray you see</font>

1553
01:42:40,310 --> 01:42:48,650
patterns in the<font color="#E5E5E5"> traffic directed to</font>

1554
01:42:44,890 --> 01:42:51,290
non-routine not addressed no news

1555
01:42:48,650 --> 01:42:53,960
addresses or no rooted or discard or

1556
01:42:51,290 --> 01:42:57,140
diverted whatever you you under please

1557
01:42:53,960 --> 01:43:00,350
and so we can see<font color="#E5E5E5"> that in</font><font color="#CCCCCC"> gray we can</font>

1558
01:42:57,140 --> 01:43:03,590
see that<font color="#E5E5E5"> the patterns during time yeah</font>

1559
01:43:00,350 --> 01:43:05,930
<font color="#E5E5E5">okay agree you will read</font><font color="#CCCCCC"> this right a</font>

1560
01:43:03,590 --> 01:43:12,380
gray which is a pretty cool aggregation

1561
01:43:05,930 --> 01:43:16,430
stuff and net flow flow spec is a very

1562
01:43:12,380 --> 01:43:20,810
cool thing but<font color="#E5E5E5"> okay no no more time just</font>

1563
01:43:16,430 --> 01:43:24,800
for<font color="#E5E5E5"> for three innings actually but on</font>

1564
01:43:20,810 --> 01:43:29,590
the net flow site and there is a cool

1565
01:43:24,800 --> 01:43:32,540
the the last link is a repository of all

1566
01:43:29,590 --> 01:43:34,880
commercial open open source tools

1567
01:43:32,540 --> 01:43:37,760
working with<font color="#CCCCCC"> net4</font><font color="#E5E5E5"> basically quite extent</font>

1568
01:43:34,880 --> 01:43:39,980
<font color="#CCCCCC">joseph's oh ok thanks thanks</font><font color="#E5E5E5"> for your</font>

1569
01:43:37,760 --> 01:43:43,840
attention sorry for being long and

1570
01:43:39,980 --> 01:43:43,839
boring and whatever

1571
01:43:46,590 --> 01:43:55,120
yeah I just last world but my plan was

1572
01:43:52,210 --> 01:43:58,180
actually to spend way more time in the

1573
01:43:55,120 --> 01:44:00,519
with interactive data and I supposed<font color="#E5E5E5"> to</font>

1574
01:43:58,180 --> 01:44:02,950
have more<font color="#E5E5E5"> time than that okay sorry</font>

1575
01:44:00,520 --> 01:44:05,130
sorry for that but there is a lot to do

1576
01:44:02,950 --> 01:44:09,179
in the analysis part of you three<font color="#CCCCCC"> and</font>

1577
01:44:05,130 --> 01:44:09,180
okay sorry<font color="#E5E5E5"> thanks</font>

