1
00:00:00,110 --> 00:00:05,370
good morning all my name is guy taille

2
00:00:03,810 --> 00:00:08,700
currently worked for a limelight

3
00:00:05,370 --> 00:00:11,719
networks at the time that<font color="#CCCCCC"> I wrote this</font>

4
00:00:08,700 --> 00:00:15,049
presentation I was actually it's a

5
00:00:11,719 --> 00:00:17,460
another carrier global crossing and so

6
00:00:15,049 --> 00:00:19,109
the<font color="#CCCCCC"> idea at the time was to put</font>

7
00:00:17,460 --> 00:00:25,470
something<font color="#E5E5E5"> together that sort of shared</font>

8
00:00:19,109 --> 00:00:29,269
some<font color="#CCCCCC"> of the experiences that I had while</font>

9
00:00:25,470 --> 00:00:32,339
helping to<font color="#E5E5E5"> run the backbone and the MPLS</font>

10
00:00:29,269 --> 00:00:34,670
implementation there since I'd left

11
00:00:32,340 --> 00:00:37,950
actually<font color="#E5E5E5"> had to strip out some of the</font>

12
00:00:34,670 --> 00:00:41,489
specific information<font color="#E5E5E5"> about certain</font>

13
00:00:37,950 --> 00:00:42,870
incidents but I think it actually made

14
00:00:41,489 --> 00:00:45,959
the presentation better to have it<font color="#E5E5E5"> be a</font>

15
00:00:42,870 --> 00:00:48,379
little<font color="#E5E5E5"> bit more generic anyway so I'll</font>

16
00:00:45,960 --> 00:00:52,829
try<font color="#CCCCCC"> to I'll</font><font color="#E5E5E5"> try to supplement with his</font>

17
00:00:48,379 --> 00:00:55,140
some examples if possible but apologize

18
00:00:52,829 --> 00:01:01,829
it's not exactly<font color="#E5E5E5"> the same presentation</font>

19
00:00:55,140 --> 00:01:04,290
as they first put together<font color="#CCCCCC"> okay let's</font>

20
00:01:01,829 --> 00:01:07,229
try that<font color="#CCCCCC"> all right so what we're going</font>

21
00:01:04,290 --> 00:01:11,490
to talk about is a quick overview of

22
00:01:07,229 --> 00:01:13,500
what mpls is why you want to use tunnels

23
00:01:11,490 --> 00:01:17,070
you know maybe why you'd want to<font color="#E5E5E5"> use</font>

24
00:01:13,500 --> 00:01:18,990
mpls specifically discuss RSVP a little

25
00:01:17,070 --> 00:01:23,610
bit and some of the quirks<font color="#CCCCCC"> i'll go into</font>

26
00:01:18,990 --> 00:01:25,740
<font color="#CCCCCC">a couple of examples of some issues that</font>

27
00:01:23,610 --> 00:01:30,420
we ran into or that anyone<font color="#CCCCCC"> that would</font>

28
00:01:25,740 --> 00:01:32,310
implement it would run into<font color="#E5E5E5"> i'll go into</font>

29
00:01:30,420 --> 00:01:34,200
where to place<font color="#CCCCCC"> the head ends of the</font>

30
00:01:32,310 --> 00:01:38,369
tunnels<font color="#E5E5E5"> and some different ramifications</font>

31
00:01:34,200 --> 00:01:39,659
of you know where you place them whether

32
00:01:38,369 --> 00:01:42,659
you're going to do online or offline

33
00:01:39,659 --> 00:01:44,939
calculation for your reservation

34
00:01:42,659 --> 00:01:50,159
statements and then<font color="#E5E5E5"> i'll summarize it up</font>

35
00:01:44,939 --> 00:01:53,270
at the<font color="#E5E5E5"> end so mpls it stands for</font>

36
00:01:50,159 --> 00:01:57,030
multiple protocol label switching

37
00:01:53,270 --> 00:02:00,320
basically packets are switched through

38
00:01:57,030 --> 00:02:05,280
the network along a predetermined path

39
00:02:00,320 --> 00:02:08,848
through the cunning use of labels so

40
00:02:05,280 --> 00:02:12,420
basically the<font color="#CCCCCC"> routers have a</font><font color="#E5E5E5"> information</font>

41
00:02:08,848 --> 00:02:13,530
<font color="#E5E5E5">based database in on the router that</font>

42
00:02:12,420 --> 00:02:16,769
contains a list

43
00:02:13,530 --> 00:02:22,430
of all of<font color="#E5E5E5"> the LSPs that transit through</font>

44
00:02:16,770 --> 00:02:25,940
it which basically amounts to you know

45
00:02:22,430 --> 00:02:28,800
label coming in on a certain interface

46
00:02:25,940 --> 00:02:32,489
rewrite the label with another one pass

47
00:02:28,800 --> 00:02:33,720
<font color="#CCCCCC">it out another specific interface you</font>

48
00:02:32,489 --> 00:02:36,540
know as argue that could speed up

49
00:02:33,720 --> 00:02:38,040
routing and whatever there's<font color="#E5E5E5"> been some</font>

50
00:02:36,540 --> 00:02:41,280
debate about<font color="#CCCCCC"> that whether it actually</font>

51
00:02:38,040 --> 00:02:48,049
happens or not but it does take routing

52
00:02:41,280 --> 00:02:52,230
away from all of your core devices loan

53
00:02:48,050 --> 00:02:54,120
so when the tunnel establishes it

54
00:02:52,230 --> 00:02:57,209
determines whatever the best path is at

55
00:02:54,120 --> 00:02:59,760
the time and so you know then you have

56
00:02:57,209 --> 00:03:01,680
<font color="#CCCCCC">like a counter on the head end that will</font>

57
00:02:59,760 --> 00:03:03,359
periodically bout and recalculate

58
00:03:01,680 --> 00:03:10,650
recheck to see if it's still the best

59
00:03:03,360 --> 00:03:14,550
path so real quick these next two slides

60
00:03:10,650 --> 00:03:17,790
I've diagrams from convergence digest

61
00:03:14,550 --> 00:03:20,310
from a presentation or online course

62
00:03:17,790 --> 00:03:22,980
that fella named<font color="#E5E5E5"> Rick Gallagher put</font>

63
00:03:20,310 --> 00:03:25,110
together just<font color="#CCCCCC"> throwing that out there</font>

64
00:03:22,980 --> 00:03:27,619
since actually didn't get<font color="#CCCCCC"> permission</font>

65
00:03:25,110 --> 00:03:31,709
from him to use the slide I<font color="#CCCCCC"> or the</font>

66
00:03:27,620 --> 00:03:33,780
graphic rather I asked him didn't hear

67
00:03:31,709 --> 00:03:38,160
back so there's the credit form don't

68
00:03:33,780 --> 00:03:43,040
sue me so what you have is a label edge

69
00:03:38,160 --> 00:03:47,570
router that's the head end of the tunnel

70
00:03:43,040 --> 00:03:47,570
determines the next hop for<font color="#E5E5E5"> the prefix</font>

71
00:03:47,810 --> 00:03:56,420
you know<font color="#E5E5E5"> inserts the label into the</font>

72
00:03:52,290 --> 00:03:58,950
header shoves it along its path the

73
00:03:56,420 --> 00:04:01,798
routers in the middle or called LS ours

74
00:03:58,950 --> 00:04:04,470
and they do<font color="#E5E5E5"> what I just mentioned</font><font color="#CCCCCC"> before</font>

75
00:04:01,799 --> 00:04:07,470
they see a label coming in on a specific

76
00:04:04,470 --> 00:04:10,650
interface it knows with that label<font color="#E5E5E5"> I</font>

77
00:04:07,470 --> 00:04:12,510
rewrite the label repackage it with

78
00:04:10,650 --> 00:04:16,560
another one shoot it out another

79
00:04:12,510 --> 00:04:19,529
interface<font color="#CCCCCC"> alright let's look into the</font>

80
00:04:16,560 --> 00:04:22,380
MPLS packet header in excruciating

81
00:04:19,529 --> 00:04:25,380
detail I'm just<font color="#E5E5E5"> kidding I one do that</font><font color="#CCCCCC"> to</font>

82
00:04:22,380 --> 00:04:29,460
you guys<font color="#E5E5E5"> I so</font>

83
00:04:25,380 --> 00:04:31,890
here's why we'd want to use tunnels you

84
00:04:29,460 --> 00:04:34,560
can it's<font color="#E5E5E5"> very useful an operational</font>

85
00:04:31,890 --> 00:04:36,780
level for you know seeing how much

86
00:04:34,560 --> 00:04:39,240
traffic you have flowing between two

87
00:04:36,780 --> 00:04:42,030
destinations on your network<font color="#CCCCCC"> you know</font>

88
00:04:39,240 --> 00:04:44,070
for example here<font color="#CCCCCC"> you</font><font color="#E5E5E5"> know how much</font><font color="#CCCCCC"> diab</font>

89
00:04:42,030 --> 00:04:46,109
flowing between your network between<font color="#CCCCCC"> a</font>

90
00:04:44,070 --> 00:04:51,349
you know<font color="#CCCCCC"> a city pair it's very easy to</font>

91
00:04:46,110 --> 00:04:53,940
calculate that<font color="#CCCCCC"> I also found it useful</font>

92
00:04:51,350 --> 00:04:57,060
you know if<font color="#E5E5E5"> we had a certain surge in</font>

93
00:04:53,940 --> 00:04:59,730
traffic on our network to be able to

94
00:04:57,060 --> 00:05:02,610
quickly pinpoint the the two of you know

95
00:04:59,730 --> 00:05:09,270
the entry the egress in ingress on your

96
00:05:02,610 --> 00:05:12,360
network this became really useful as<font color="#E5E5E5"> I</font>

97
00:05:09,270 --> 00:05:16,469
moved into an engineering department the

98
00:05:12,360 --> 00:05:20,850
ability<font color="#CCCCCC"> to route specific prefixes along</font>

99
00:05:16,470 --> 00:05:23,460
a predestined or you know<font color="#E5E5E5"> pre a specific</font>

100
00:05:20,850 --> 00:05:26,790
tunnel either one that gets created for

101
00:05:23,460 --> 00:05:29,789
a specific purpose or you know for like

102
00:05:26,790 --> 00:05:32,790
a transitory issue that's going on or

103
00:05:29,790 --> 00:05:34,920
you<font color="#E5E5E5"> know maybe just to do some traffic</font>

104
00:05:32,790 --> 00:05:39,060
engineering in general not specific to

105
00:05:34,920 --> 00:05:43,200
an event<font color="#E5E5E5"> and it also allows you to</font>

106
00:05:39,060 --> 00:05:47,400
specify specific routers that you do

107
00:05:43,200 --> 00:05:48,930
<font color="#E5E5E5">want your traffic to flow through you</font>

108
00:05:47,400 --> 00:05:53,489
can either do<font color="#E5E5E5"> that through a series of</font>

109
00:05:48,930 --> 00:05:55,940
strict ops which basically you can use a

110
00:05:53,490 --> 00:05:59,040
loopback address or an interface IP and

111
00:05:55,940 --> 00:06:02,040
say<font color="#CCCCCC"> alright this</font><font color="#E5E5E5"> is one of my</font>

112
00:05:59,040 --> 00:06:04,610
constraints on my path I want all<font color="#E5E5E5"> the</font>

113
00:06:02,040 --> 00:06:06,900
traffic along this specific tunnel to

114
00:06:04,610 --> 00:06:10,890
transit this particular interface or

115
00:06:06,900 --> 00:06:13,950
this particular router so you know that

116
00:06:10,890 --> 00:06:15,780
you can do that<font color="#E5E5E5"> with a strict saying you</font>

117
00:06:13,950 --> 00:06:19,830
know it must follow this path or you can

118
00:06:15,780 --> 00:06:22,229
say loose which says<font color="#E5E5E5"> all right so</font>

119
00:06:19,830 --> 00:06:25,650
<font color="#E5E5E5">instead of routing to the end point</font>

120
00:06:22,230 --> 00:06:27,360
there your<font color="#E5E5E5"> destination you know route to</font>

121
00:06:25,650 --> 00:06:31,070
this loose hop I don't<font color="#E5E5E5"> care how you get</font>

122
00:06:27,360 --> 00:06:31,070
there but it must transit through here

123
00:06:31,520 --> 00:06:37,070
so I became<font color="#E5E5E5"> useful for one of our</font>

124
00:06:35,190 --> 00:06:42,600
overlay networks

125
00:06:37,070 --> 00:06:45,000
that used a sr LG database to make sure

126
00:06:42,600 --> 00:06:46,770
that we didn't have there was a primary

127
00:06:45,000 --> 00:06:49,320
enough backup tunnel for the specific

128
00:06:46,770 --> 00:06:53,159
type of traffic and we wanted<font color="#CCCCCC"> to</font><font color="#E5E5E5"> make</font>

129
00:06:49,320 --> 00:06:56,040
sure that<font color="#E5E5E5"> if there</font><font color="#CCCCCC"> was a layer</font><font color="#E5E5E5"> 1 failure</font>

130
00:06:53,160 --> 00:06:58,979
along the primary path that the backup

131
00:06:56,040 --> 00:07:03,270
tunnel wouldn't share any of<font color="#E5E5E5"> the same</font>

132
00:06:58,979 --> 00:07:04,289
network elements so that you know the

133
00:07:03,270 --> 00:07:08,070
tunnel<font color="#E5E5E5"> was already going to be</font>

134
00:07:04,290 --> 00:07:14,600
established<font color="#E5E5E5"> and it would reduce the</font>

135
00:07:08,070 --> 00:07:17,909
amount of time that 14 could restart so

136
00:07:14,600 --> 00:07:22,320
<font color="#CCCCCC">it's also useful you</font><font color="#E5E5E5"> know for sort of a</font>

137
00:07:17,910 --> 00:07:23,700
capacity planning a function it was kind

138
00:07:22,320 --> 00:07:28,530
of kidding around we call it a poor

139
00:07:23,700 --> 00:07:33,180
man's<font color="#E5E5E5"> net flow a specific incident that</font>

140
00:07:28,530 --> 00:07:37,320
became really useful was there was a

141
00:07:33,180 --> 00:07:40,590
particular peer that we there was a

142
00:07:37,320 --> 00:07:43,409
common circuit failure between a city

143
00:07:40,590 --> 00:07:44,969
pair that we had and<font color="#E5E5E5"> we actually didn't</font>

144
00:07:43,410 --> 00:07:48,780
realize how<font color="#E5E5E5"> much traffic was being</font>

145
00:07:44,970 --> 00:07:51,240
passed back and forth in that in the you

146
00:07:48,780 --> 00:07:52,590
<font color="#E5E5E5">know the one side of the the tunnel or</font>

147
00:07:51,240 --> 00:07:55,770
the one of the one side of the circuit

148
00:07:52,590 --> 00:07:57,630
so you know we had a circuit fail and

149
00:07:55,770 --> 00:08:01,049
traffic rerouted to another peering

150
00:07:57,630 --> 00:08:02,880
point and it was enough<font color="#E5E5E5"> where you</font><font color="#CCCCCC"> know I</font>

151
00:08:01,050 --> 00:08:04,590
contacted that<font color="#E5E5E5"> other peer and said hey</font>

152
00:08:02,880 --> 00:08:07,139
you know we should<font color="#CCCCCC"> probably</font><font color="#E5E5E5"> set</font>

153
00:08:04,590 --> 00:08:09,750
something up you know on the on the a

154
00:08:07,139 --> 00:08:11,639
side of<font color="#CCCCCC"> this circuit because when that</font>

155
00:08:09,750 --> 00:08:13,349
circuit failed we saw so much traffic

156
00:08:11,639 --> 00:08:16,380
rear out to the other you<font color="#E5E5E5"> know to a</font>

157
00:08:13,349 --> 00:08:19,289
alternate point so it actually helped

158
00:08:16,380 --> 00:08:25,200
out a lot to you know optimize traffic

159
00:08:19,289 --> 00:08:27,930
flow between between<font color="#E5E5E5"> the two networks it</font>

160
00:08:25,200 --> 00:08:31,110
also<font color="#E5E5E5"> allows</font><font color="#CCCCCC"> you to do you know protocol</font>

161
00:08:27,930 --> 00:08:33,150
transport through your backbone perhaps

162
00:08:31,110 --> 00:08:38,940
on protocols that you don't actually

163
00:08:33,150 --> 00:08:41,250
<font color="#E5E5E5">intend to enable on your entire core so</font>

164
00:08:38,940 --> 00:08:44,190
allows you to run<font color="#E5E5E5"> VoIP tunnels if you</font>

165
00:08:41,250 --> 00:08:48,450
decide to run it through a tunnel you

166
00:08:44,190 --> 00:08:50,710
can do VPN ipv6 using 6pe so you don't

167
00:08:48,450 --> 00:08:56,770
actually have<font color="#CCCCCC"> to enable ipv6 but you</font>

168
00:08:50,710 --> 00:08:59,590
still have<font color="#E5E5E5"> it is a product offering some</font>

169
00:08:56,770 --> 00:09:01,480
of the drawbacks are that it definitely

170
00:08:59,590 --> 00:09:06,580
has a level<font color="#E5E5E5"> of complication on your</font>

171
00:09:01,480 --> 00:09:10,360
network<font color="#CCCCCC"> you know there's more protocols</font>

172
00:09:06,580 --> 00:09:13,650
more moving parts it also adds a lot<font color="#CCCCCC"> of</font>

173
00:09:10,360 --> 00:09:21,790
overhead and so you need to have beefier

174
00:09:13,650 --> 00:09:23,860
routers so you know so it simplifies the

175
00:09:21,790 --> 00:09:29,439
routing a little bit through the core

176
00:09:23,860 --> 00:09:32,080
but it adds state to be<font color="#E5E5E5"> able to keep all</font>

177
00:09:29,440 --> 00:09:36,430
of the you<font color="#CCCCCC"> know the tunnel information</font>

178
00:09:32,080 --> 00:09:38,950
database up you need more ram to be able

179
00:09:36,430 --> 00:09:42,189
<font color="#E5E5E5">to hold all that information and you</font>

180
00:09:38,950 --> 00:09:44,140
also need to<font color="#CCCCCC"> have training for your</font>

181
00:09:42,190 --> 00:09:47,620
operations and engineering staffs to be

182
00:09:44,140 --> 00:09:49,720
<font color="#CCCCCC">able to</font><font color="#E5E5E5"> support it and you also have</font><font color="#CCCCCC"> a</font>

183
00:09:47,620 --> 00:09:52,750
<font color="#E5E5E5">possibility</font><font color="#CCCCCC"> of a</font><font color="#E5E5E5"> disconnect between your</font>

184
00:09:49,720 --> 00:09:55,120
data and<font color="#E5E5E5"> control</font><font color="#CCCCCC"> plane meaning that you</font>

185
00:09:52,750 --> 00:09:57,550
know as your data travels along a

186
00:09:55,120 --> 00:09:59,920
certain path if you you<font color="#CCCCCC"> know go to</font><font color="#E5E5E5"> a</font>

187
00:09:57,550 --> 00:10:03,219
specific router that's not on a head end

188
00:09:59,920 --> 00:10:05,260
of the tunnel and you run a traceroute

189
00:10:03,220 --> 00:10:07,540
you know you're<font color="#E5E5E5"> not you may not be</font>

190
00:10:05,260 --> 00:10:09,640
following the same path because that's

191
00:10:07,540 --> 00:10:13,089
not going to be constrained by<font color="#E5E5E5"> whatever</font>

192
00:10:09,640 --> 00:10:17,230
your constraints are that you specify in

193
00:10:13,090 --> 00:10:20,560
your head end but there's<font color="#E5E5E5"> a there's been</font>

194
00:10:17,230 --> 00:10:24,730
some items that that I'll mention in a

195
00:10:20,560 --> 00:10:27,810
sec that help out with that there's also

196
00:10:24,730 --> 00:10:30,850
the issue of TTL propagation one of the

197
00:10:27,810 --> 00:10:33,609
you<font color="#CCCCCC"> know when we first enabled mpls at</font>

198
00:10:30,850 --> 00:10:36,970
global crossing you know<font color="#E5E5E5"> people would</font>

199
00:10:33,610 --> 00:10:40,450
just see you know<font color="#CCCCCC"> sigh de los angeles</font>

200
00:10:36,970 --> 00:10:43,810
side<font color="#CCCCCC"> b New York and you know hey what's</font>

201
00:10:40,450 --> 00:10:45,670
going on<font color="#E5E5E5"> in between so you know one of</font>

202
00:10:43,810 --> 00:10:49,000
the one of<font color="#E5E5E5"> the nice parts about it is</font>

203
00:10:45,670 --> 00:10:51,699
that as a carrier you can troubleshoot

204
00:10:49,000 --> 00:10:54,460
your own network without getting

205
00:10:51,700 --> 00:10:58,260
bombarded with emails hey you know your

206
00:10:54,460 --> 00:11:01,180
path switched from heater there you know

207
00:10:58,260 --> 00:11:03,230
so<font color="#E5E5E5"> you can hide your network events a</font>

208
00:11:01,180 --> 00:11:06,089
little bit better

209
00:11:03,230 --> 00:11:09,210
the mpls ping is what<font color="#E5E5E5"> I just</font><font color="#CCCCCC"> mentioned a</font>

210
00:11:06,089 --> 00:11:12,330
<font color="#E5E5E5">second ago as far as being able to run a</font>

211
00:11:09,210 --> 00:11:14,510
traceroute or a ping from the head end

212
00:11:12,330 --> 00:11:16,710
and<font color="#CCCCCC"> actually have it take the tunnel</font>

213
00:11:14,510 --> 00:11:20,640
there were some tunnel forwarding issues

214
00:11:16,710 --> 00:11:21,990
that we ran into<font color="#CCCCCC"> that you know wouldn't</font>

215
00:11:20,640 --> 00:11:26,689
<font color="#E5E5E5">become a parent if you actually just ran</font>

216
00:11:21,990 --> 00:11:31,230
<font color="#E5E5E5">a straight by CMP traceroute or ping</font>

217
00:11:26,690 --> 00:11:34,350
this may not be<font color="#E5E5E5"> too relevant but it</font>

218
00:11:31,230 --> 00:11:36,270
certainly was previously where you might

219
00:11:34,350 --> 00:11:40,170
<font color="#CCCCCC">have some</font><font color="#E5E5E5"> tcp benefit of having fewer</font>

220
00:11:36,270 --> 00:11:43,470
hops some applications would timeout

221
00:11:40,170 --> 00:11:45,750
after a certain number of hops so a

222
00:11:43,470 --> 00:11:49,589
couple of customers said that they

223
00:11:45,750 --> 00:11:52,500
actually<font color="#CCCCCC"> liked the fact</font><font color="#E5E5E5"> that you</font><font color="#CCCCCC"> know</font>

224
00:11:49,589 --> 00:11:54,839
the fewer tu no hops in the trace trace

225
00:11:52,500 --> 00:11:56,490
route and<font color="#E5E5E5"> in the path and then of course</font>

226
00:11:54,839 --> 00:11:58,529
<font color="#E5E5E5">there's the marketing advantage of</font>

227
00:11:56,490 --> 00:12:03,180
saying hey we're one hop two out network

228
00:11:58,529 --> 00:12:09,689
or whatever so some of the benefits of

229
00:12:03,180 --> 00:12:12,209
using mpls and so there's a lot of

230
00:12:09,690 --> 00:12:14,750
variables about you know again where do

231
00:12:12,209 --> 00:12:17,729
you place it and how its implemented but

232
00:12:14,750 --> 00:12:21,140
you know a<font color="#E5E5E5"> couple of</font><font color="#CCCCCC"> years</font><font color="#E5E5E5"> ago wasn't</font>

233
00:12:17,730 --> 00:12:25,830
uncommon to have you know c48 backbone

234
00:12:21,140 --> 00:12:27,660
OC 48 up links to a router and generally

235
00:12:25,830 --> 00:12:33,690
speaking customer and p router ports

236
00:12:27,660 --> 00:12:36,709
were you know c12 Giggy<font color="#E5E5E5"> you know</font>

237
00:12:33,690 --> 00:12:40,110
different variations but usually on a

238
00:12:36,709 --> 00:12:43,079
scale you know one order smaller than

239
00:12:40,110 --> 00:12:44,520
your actual backbone or uplinks you know

240
00:12:43,080 --> 00:12:47,279
there were the larger customers and

241
00:12:44,520 --> 00:12:51,120
peers that would have larger interfaces

242
00:12:47,279 --> 00:12:54,660
but but now it's<font color="#E5E5E5"> not very uncommon to</font>

243
00:12:51,120 --> 00:12:58,529
have you know a customer or<font color="#E5E5E5"> peer on a</font>

244
00:12:54,660 --> 00:13:01,140
one router that has more capacity you

245
00:12:58,529 --> 00:13:03,120
know in and outs you know but on the

246
00:13:01,140 --> 00:13:09,120
interconnect then you<font color="#CCCCCC"> actually have on</font>

247
00:13:03,120 --> 00:13:13,770
your backbone and then you know the the

248
00:13:09,120 --> 00:13:16,030
<font color="#CCCCCC">size of the ingress or egress circuit is</font>

249
00:13:13,770 --> 00:13:18,970
actually even if it's

250
00:13:16,030 --> 00:13:21,850
you know you could have to buy 10 gige 3

251
00:13:18,970 --> 00:13:23,560
<font color="#E5E5E5">by 10 gige but the actual you know at</font>

252
00:13:21,850 --> 00:13:26,020
the core of it it's still<font color="#E5E5E5"> a 10 gig</font>

253
00:13:23,560 --> 00:13:30,910
circuit you can't have a 12 gig flow on

254
00:13:26,020 --> 00:13:36,340
it for<font color="#E5E5E5"> example so having the ability to</font>

255
00:13:30,910 --> 00:13:40,750
break flows down into smaller it's a

256
00:13:36,340 --> 00:13:44,470
series of smaller flows is one of the

257
00:13:40,750 --> 00:13:48,610
nice elements allows you to defer your

258
00:13:44,470 --> 00:13:50,020
upgrade costs a little bit if you're not

259
00:13:48,610 --> 00:13:51,390
work starting a little<font color="#E5E5E5"> hot in a certain</font>

260
00:13:50,020 --> 00:13:55,960
area and<font color="#E5E5E5"> you have some additional</font>

261
00:13:51,390 --> 00:13:58,569
capacity and another you know you can

262
00:13:55,960 --> 00:14:02,170
use a different combination either using

263
00:13:58,570 --> 00:14:06,940
a loose hop or using a stateful

264
00:14:02,170 --> 00:14:11,290
signaling protocol like RSVP to to move

265
00:14:06,940 --> 00:14:14,100
traffic to non direct paths<font color="#E5E5E5"> of course</font>

266
00:14:11,290 --> 00:14:16,930
there's some considerations to take into

267
00:14:14,100 --> 00:14:22,150
account which I'll mention a little bit

268
00:14:16,930 --> 00:14:24,760
later relating<font color="#E5E5E5"> to this and you can</font><font color="#CCCCCC"> do</font>

269
00:14:22,150 --> 00:14:31,110
different qos is with different labels

270
00:14:24,760 --> 00:14:33,610
that mpls offers some drawbacks are that

271
00:14:31,110 --> 00:14:39,220
you know you could have<font color="#E5E5E5"> a asymmetrical</font>

272
00:14:33,610 --> 00:14:41,620
data plane a lot of<font color="#CCCCCC"> times you know it</font>

273
00:14:39,220 --> 00:14:43,750
will follow the same path as your<font color="#CCCCCC"> igp so</font>

274
00:14:41,620 --> 00:14:45,970
it's usually not too<font color="#E5E5E5"> much of a concern</font>

275
00:14:43,750 --> 00:14:49,690
but usually just something to be aware

276
00:14:45,970 --> 00:14:53,710
of more<font color="#CCCCCC"> than an actual drawback</font><font color="#E5E5E5"> and as</font>

277
00:14:49,690 --> 00:14:58,660
tunnels break you will lose data in a

278
00:14:53,710 --> 00:15:04,090
tunnel when it breaks some of the

279
00:14:58,660 --> 00:15:06,459
benefits of running rsvp-te lets you

280
00:15:04,090 --> 00:15:10,450
control your traffic levels and what<font color="#CCCCCC"> I</font>

281
00:15:06,460 --> 00:15:12,190
<font color="#E5E5E5">mean by</font><font color="#CCCCCC"> that is you know</font><font color="#E5E5E5"> there are</font>

282
00:15:10,450 --> 00:15:14,680
<font color="#E5E5E5">networks that are expanding into new</font>

283
00:15:12,190 --> 00:15:17,140
regions and when they do so they don't

284
00:15:14,680 --> 00:15:20,349
necessarily<font color="#E5E5E5"> need to have the same scale</font>

285
00:15:17,140 --> 00:15:23,110
of a network in you know their expansion

286
00:15:20,350 --> 00:15:27,490
<font color="#CCCCCC">it allows you to open up a small pop in</font>

287
00:15:23,110 --> 00:15:29,529
a new location you know if your network

288
00:15:27,490 --> 00:15:31,540
<font color="#CCCCCC">rose your customer base grows</font>

289
00:15:29,529 --> 00:15:36,160
then you can do<font color="#CCCCCC"> your incremental</font>

290
00:15:31,540 --> 00:15:38,610
upgrades something that became useful at

291
00:15:36,160 --> 00:15:42,029
different times is being<font color="#E5E5E5"> able to add</font>

292
00:15:38,610 --> 00:15:45,730
uneven parallel circuits where you know

293
00:15:42,029 --> 00:15:49,689
you have maybe OC 48 uplinks or 10 gige

294
00:15:45,730 --> 00:15:51,910
or 10 gig up<font color="#E5E5E5"> blinks and you know you</font>

295
00:15:49,689 --> 00:15:54,040
<font color="#E5E5E5">don't</font><font color="#CCCCCC"> have the chassis space at the time</font>

296
00:15:51,910 --> 00:15:56,639
or you know<font color="#E5E5E5"> you have to add another card</font>

297
00:15:54,040 --> 00:16:00,160
but you actually have available

298
00:15:56,639 --> 00:16:02,259
interfaces that on both sides that where

299
00:16:00,160 --> 00:16:05,740
you can you know bring up some more

300
00:16:02,259 --> 00:16:10,870
capacity in a pinch and so if you<font color="#CCCCCC"> were</font>

301
00:16:05,740 --> 00:16:13,449
<font color="#E5E5E5">just to have strict IP you know try to</font>

302
00:16:10,870 --> 00:16:15,910
<font color="#E5E5E5">load balance equally but having</font>

303
00:16:13,449 --> 00:16:18,939
something where a protocol where you

304
00:16:15,910 --> 00:16:20,559
have the ability<font color="#CCCCCC"> to say I don't</font><font color="#E5E5E5"> want you</font>

305
00:16:18,939 --> 00:16:23,050
to send more<font color="#CCCCCC"> than X amount</font><font color="#E5E5E5"> of traffic</font>

306
00:16:20,559 --> 00:16:27,490
along this path allows you to use on

307
00:16:23,050 --> 00:16:30,849
even parallel circuits and you can do

308
00:16:27,490 --> 00:16:32,740
<font color="#E5E5E5">some link coloring to allow you to only</font>

309
00:16:30,850 --> 00:16:35,649
send certain types of traffic along a

310
00:16:32,740 --> 00:16:39,750
particular path you know one example

311
00:16:35,649 --> 00:16:42,939
would be if you<font color="#CCCCCC"> have a node in Asia and</font>

312
00:16:39,750 --> 00:16:45,910
you know you let's say you have you know

313
00:16:42,939 --> 00:16:48,490
better traffic like VPN traffic that

314
00:16:45,910 --> 00:16:51,009
wants to go to Europe instead of having

315
00:16:48,490 --> 00:16:53,290
to traverse you know through North

316
00:16:51,009 --> 00:16:55,300
America to get<font color="#E5E5E5"> to Europe you</font><font color="#CCCCCC"> can go</font>

317
00:16:53,290 --> 00:16:57,519
directly<font color="#CCCCCC"> on you know through the</font>

318
00:16:55,300 --> 00:16:59,769
terrestrial part of Asia well those

319
00:16:57,519 --> 00:17:01,529
circuits are really<font color="#CCCCCC"> expensive you</font>

320
00:16:59,769 --> 00:17:05,079
definitely don't<font color="#CCCCCC"> want to put your</font><font color="#E5E5E5"> low</font>

321
00:17:01,529 --> 00:17:07,270
<font color="#E5E5E5">margin IP traffic on there so you can</font>

322
00:17:05,079 --> 00:17:10,059
say I only want my VPN traffic to be

323
00:17:07,270 --> 00:17:13,379
<font color="#CCCCCC">able to take this preferred path you</font>

324
00:17:10,059 --> 00:17:15,819
know possibilities are endless with that

325
00:17:13,380 --> 00:17:19,299
you could do some priority shin of

326
00:17:15,819 --> 00:17:22,480
traffic as a mentioned earlier and it

327
00:17:19,299 --> 00:17:26,980
also allows you to do some<font color="#E5E5E5"> more advanced</font>

328
00:17:22,480 --> 00:17:28,840
error detection it actually<font color="#E5E5E5"> does polling</font>

329
00:17:26,980 --> 00:17:31,870
of the network sort of a heartbeat it

330
00:17:28,840 --> 00:17:33,549
doesn't just wait for<font color="#E5E5E5"> you know like the</font>

331
00:17:31,870 --> 00:17:36,189
<font color="#CCCCCC">equivalent of a path tear message to</font>

332
00:17:33,549 --> 00:17:41,230
shoot out to have to make adjustments to

333
00:17:36,190 --> 00:17:44,070
<font color="#E5E5E5">the path some of the drawbacks you know</font>

334
00:17:41,230 --> 00:17:44,070
you have more state

335
00:17:44,460 --> 00:17:52,020
and one of<font color="#E5E5E5"> the biggest part though is</font>

336
00:17:48,280 --> 00:17:55,690
that you become reliant on having the

337
00:17:52,020 --> 00:17:59,050
control there so if for whatever reason

338
00:17:55,690 --> 00:18:00,940
a tunnel fails and<font color="#CCCCCC"> you have some</font>

339
00:17:59,050 --> 00:18:04,690
constraints that you've taken into

340
00:18:00,940 --> 00:18:06,250
account you know when the tunnel when

341
00:18:04,690 --> 00:18:09,850
the tunnel fails that constraints no

342
00:18:06,250 --> 00:18:12,190
longer there and you have the resultant

343
00:18:09,850 --> 00:18:14,290
you know just direct path that IP would

344
00:18:12,190 --> 00:18:16,840
choose which may not<font color="#E5E5E5"> be the same path</font>

345
00:18:14,290 --> 00:18:19,960
that<font color="#E5E5E5"> your tunnel is taken so if you are</font>

346
00:18:16,840 --> 00:18:22,480
counting<font color="#CCCCCC"> on on that constraint for a</font>

347
00:18:19,960 --> 00:18:27,520
specific region of<font color="#E5E5E5"> your network and it's</font>

348
00:18:22,480 --> 00:18:34,660
not there it causes issues some of the

349
00:18:27,520 --> 00:18:37,450
quirks you know at the<font color="#CCCCCC"> time I wasn't I'd</font>

350
00:18:34,660 --> 00:18:39,520
never played<font color="#E5E5E5"> on</font><font color="#CCCCCC"> Hardware other than</font>

351
00:18:37,450 --> 00:18:41,890
Cisco<font color="#CCCCCC"> or juniper or so but so this is</font>

352
00:18:39,520 --> 00:18:45,910
the cisco and juniper implementations of

353
00:18:41,890 --> 00:18:49,870
RSVP of course they don't implement it

354
00:18:45,910 --> 00:18:54,400
the same way what Cisco's by default

355
00:18:49,870 --> 00:18:55,899
will do is after they don't have they

356
00:18:54,400 --> 00:18:57,970
don't shoot every time a tunnel

357
00:18:55,900 --> 00:19:02,290
establishes it doesn't necessarily

358
00:18:57,970 --> 00:19:04,030
<font color="#CCCCCC">matter to the rest of the network you</font>

359
00:19:02,290 --> 00:19:08,590
know that a tunnel established along a

360
00:19:04,030 --> 00:19:11,530
specific path but once you get<font color="#E5E5E5"> to a</font>

361
00:19:08,590 --> 00:19:13,389
<font color="#CCCCCC">certain threshold you know you do want</font>

362
00:19:11,530 --> 00:19:17,500
the router to say hey you<font color="#E5E5E5"> know I'm not</font>

363
00:19:13,390 --> 00:19:19,150
<font color="#CCCCCC">as I you know I'm starting</font><font color="#E5E5E5"> to fill up so</font>

364
00:19:17,500 --> 00:19:21,790
what the Cisco's will do is every

365
00:19:19,150 --> 00:19:23,650
fifteen percent it'll flood out saying I

366
00:19:21,790 --> 00:19:26,050
just<font color="#E5E5E5"> crossed the 15 I just crashed the</font>

367
00:19:23,650 --> 00:19:29,410
thirty percent barrier one of the nice

368
00:19:26,050 --> 00:19:32,980
things that they do is once it starts

369
00:19:29,410 --> 00:19:35,200
getting full you know at 95 96 it starts

370
00:19:32,980 --> 00:19:38,110
every one percent it starts flooding out

371
00:19:35,200 --> 00:19:39,880
saying hey I'm starting<font color="#E5E5E5"> to close you</font>

372
00:19:38,110 --> 00:19:42,280
know<font color="#E5E5E5"> reach my max I'm getting closer to</font>

373
00:19:39,880 --> 00:19:44,200
<font color="#E5E5E5">my max you know and it tells the rest of</font>

374
00:19:42,280 --> 00:19:48,639
the network don't try to signal through

375
00:19:44,200 --> 00:19:50,470
me what the junipers will do is was just

376
00:19:48,640 --> 00:19:54,310
ten percent and it goes all<font color="#E5E5E5"> the way to a</font>

377
00:19:50,470 --> 00:19:56,200
<font color="#CCCCCC">hundred so as</font><font color="#E5E5E5"> you can guess once you get</font>

378
00:19:54,310 --> 00:19:58,210
past ninety percent

379
00:19:56,200 --> 00:20:01,929
unless you actually hit a<font color="#E5E5E5"> hundred and</font>

380
00:19:58,210 --> 00:20:04,450
it's pretty<font color="#E5E5E5"> hard to do tunnels will</font>

381
00:20:01,929 --> 00:20:10,450
still attempt to establish through that

382
00:20:04,450 --> 00:20:14,230
router so that became interesting at a

383
00:20:10,450 --> 00:20:16,539
certain<font color="#E5E5E5"> point when Cisco devices got</font>

384
00:20:14,230 --> 00:20:22,870
replaced by juniper devices as core

385
00:20:16,539 --> 00:20:26,139
routers so now you know what<font color="#E5E5E5"> happens</font>

386
00:20:22,870 --> 00:20:30,340
<font color="#CCCCCC">when your traffic flows start to get</font>

387
00:20:26,139 --> 00:20:33,370
bigger you can allow your tunnels to

388
00:20:30,340 --> 00:20:38,820
just keep<font color="#E5E5E5"> growing and you now have</font><font color="#CCCCCC"> 4 or</font>

389
00:20:33,370 --> 00:20:41,379
<font color="#CCCCCC">5 10 12 gig flows on a specific tunnel</font>

390
00:20:38,820 --> 00:20:43,720
you can convince your budget owner that

391
00:20:41,380 --> 00:20:46,269
you need to fork lift your entire

392
00:20:43,720 --> 00:20:50,860
network or you can<font color="#E5E5E5"> split your demands</font>

393
00:20:46,269 --> 00:20:53,740
and parallel tunnels so usually most

394
00:20:50,860 --> 00:21:01,469
<font color="#CCCCCC">people will take options see there but</font>

395
00:20:53,740 --> 00:21:03,760
it's<font color="#CCCCCC"> not a magic bullet so this is a</font>

396
00:21:01,470 --> 00:21:07,389
possible scenario that<font color="#E5E5E5"> you can run into</font>

397
00:21:03,760 --> 00:21:10,389
<font color="#E5E5E5">I don't think it'd be too uncommon you</font>

398
00:21:07,389 --> 00:21:15,908
know you have on your left let's say

399
00:21:10,389 --> 00:21:22,360
that's your point a and then on the

400
00:21:15,909 --> 00:21:24,549
right is point Z and you have you<font color="#E5E5E5"> have</font>

401
00:21:22,360 --> 00:21:28,629
your four parallel giggy's circuits

402
00:21:24,549 --> 00:21:30,610
let's say now the middle<font color="#E5E5E5"> router there</font>

403
00:21:28,630 --> 00:21:32,250
can be your network it can be a single

404
00:21:30,610 --> 00:21:35,350
router doesn't really matter too much

405
00:21:32,250 --> 00:21:39,460
what we're<font color="#E5E5E5"> looking at is the uplink</font>

406
00:21:35,350 --> 00:21:41,949
capacity of the two endpoints there you

407
00:21:39,460 --> 00:21:44,559
have two tunnels you know let's say you

408
00:21:41,950 --> 00:21:48,490
had a one gig flow between the two well

409
00:21:44,559 --> 00:21:50,049
on a single Giggy circuit you know that

410
00:21:48,490 --> 00:21:52,090
would fill the<font color="#E5E5E5"> entire circuit up so</font>

411
00:21:50,049 --> 00:21:54,370
that's when you're like all right I got

412
00:21:52,090 --> 00:21:58,029
to split it up into into two tunnels and

413
00:21:54,370 --> 00:22:00,750
it would just establish through you know

414
00:21:58,029 --> 00:22:03,039
two of<font color="#E5E5E5"> the tunnels let's</font><font color="#CCCCCC"> just say for</font>

415
00:22:00,750 --> 00:22:04,510
sake of argument that attacked you

416
00:22:03,039 --> 00:22:07,980
actually have like a even distribution

417
00:22:04,510 --> 00:22:07,980
across your floor<font color="#E5E5E5"> up links</font>

418
00:22:08,360 --> 00:22:17,059
one of the tunnel fails the other tunnel

419
00:22:12,860 --> 00:22:20,780
will take all of the actual<font color="#E5E5E5"> traffic but</font>

420
00:22:17,059 --> 00:22:25,178
it's only reserved half a gig it's

421
00:22:20,780 --> 00:22:27,678
carrying<font color="#E5E5E5"> one gig of traffic so now your</font>

422
00:22:25,179 --> 00:22:30,230
circuit utilization instead of having a

423
00:22:27,679 --> 00:22:33,170
nice for by sixty percent distribution

424
00:22:30,230 --> 00:22:35,900
you have two circuits that are sixty

425
00:22:33,170 --> 00:22:38,570
percent one that had<font color="#CCCCCC"> the previous</font>

426
00:22:35,900 --> 00:22:41,690
traffic on it running a ten percent and

427
00:22:38,570 --> 00:22:46,040
then the fourth circuit<font color="#E5E5E5"> is now at 110</font>

428
00:22:41,690 --> 00:22:47,929
percent so something distress I guess I

429
00:22:46,040 --> 00:22:51,980
should<font color="#E5E5E5"> have mentioned earlier is</font><font color="#CCCCCC"> that</font>

430
00:22:47,929 --> 00:22:54,860
there is a disconnect as far as the

431
00:22:51,980 --> 00:22:57,380
reservation the the tunnels are not

432
00:22:54,860 --> 00:22:59,809
necessarily aware of how<font color="#CCCCCC"> much traffic is</font>

433
00:22:57,380 --> 00:23:02,570
actually passing through it when it

434
00:22:59,809 --> 00:23:06,379
reserves so it'll take whatever number

435
00:23:02,570 --> 00:23:07,909
you have for your reservation so they're

436
00:23:06,380 --> 00:23:10,070
<font color="#CCCCCC">actually you know one thing to keep in</font>

437
00:23:07,910 --> 00:23:13,480
mind though basically the takeaway from

438
00:23:10,070 --> 00:23:15,860
this is that you know so there's a

439
00:23:13,480 --> 00:23:18,110
there's your actual traffic along<font color="#CCCCCC"> the</font>

440
00:23:15,860 --> 00:23:22,520
tunnel and your reserved traffic for the

441
00:23:18,110 --> 00:23:24,469
tunnel if you<font color="#E5E5E5"> use a well I'll go into</font>

442
00:23:22,520 --> 00:23:27,918
<font color="#E5E5E5">the online and offline calculation and a</font>

443
00:23:24,470 --> 00:23:31,850
little<font color="#E5E5E5"> bit here but it can definitely</font>

444
00:23:27,919 --> 00:23:34,880
cause a big issue when you have parallel

445
00:23:31,850 --> 00:23:37,760
tunnels one<font color="#E5E5E5"> of them fails it the next</font>

446
00:23:34,880 --> 00:23:41,450
tunnel the remaining tunnels will soak

447
00:23:37,760 --> 00:23:44,929
up all of the difference if you were

448
00:23:41,450 --> 00:23:50,150
just running IP it would probably you

449
00:23:44,929 --> 00:23:54,559
know spread across all four tunnels so

450
00:23:50,150 --> 00:23:56,570
your head and placement you know the two

451
00:23:54,559 --> 00:23:59,480
different<font color="#E5E5E5"> philosophies were to put all</font>

452
00:23:56,570 --> 00:24:02,840
the tunnels on the core routers or to

453
00:23:59,480 --> 00:24:04,990
put it<font color="#E5E5E5"> on the edge some of the benefits</font>

454
00:24:02,840 --> 00:24:08,178
of putting on the core<font color="#E5E5E5"> would be that</font>

455
00:24:04,990 --> 00:24:10,190
generally a lot of<font color="#E5E5E5"> people run you know</font>

456
00:24:08,179 --> 00:24:12,410
<font color="#E5E5E5">to core environment to core router</font>

457
00:24:10,190 --> 00:24:15,350
environments and you can have multiple

458
00:24:12,410 --> 00:24:18,020
edge not just<font color="#E5E5E5"> for IP but you know a lot</font>

459
00:24:15,350 --> 00:24:21,520
<font color="#CCCCCC">of people use different hardware to</font>

460
00:24:18,020 --> 00:24:27,280
aggregate VPNs and and whatever so

461
00:24:21,520 --> 00:24:30,260
you can have fewer tunnels on your core

462
00:24:27,280 --> 00:24:33,080
it also<font color="#E5E5E5"> allows you to have kind of dumb</font>

463
00:24:30,260 --> 00:24:35,720
a dumb edge where you<font color="#E5E5E5"> just have cheap</font>

464
00:24:33,080 --> 00:24:37,820
hardware that can take the traffic in or

465
00:24:35,720 --> 00:24:43,940
push the traffic out and doesn't really

466
00:24:37,820 --> 00:24:45,470
need<font color="#E5E5E5"> to have too many moving parts so</font>

467
00:24:43,940 --> 00:24:47,510
the benefits of actually pushing it to

468
00:24:45,470 --> 00:24:50,630
the<font color="#E5E5E5"> edge though is that you get better</font>

469
00:24:47,510 --> 00:24:54,429
accounting across your network allows

470
00:24:50,630 --> 00:24:56,960
you to run the RSVP or mpls on your

471
00:24:54,429 --> 00:25:00,620
<font color="#CCCCCC">uplinks so</font><font color="#E5E5E5"> you get the traffic</font>

472
00:24:56,960 --> 00:25:04,610
management all the way to your ingress

473
00:25:00,620 --> 00:25:06,439
or egress point and there's no slosh I

474
00:25:04,610 --> 00:25:10,699
was<font color="#E5E5E5"> talking about that with someone</font>

475
00:25:06,440 --> 00:25:12,710
yesterday where r / is you know the<font color="#CCCCCC"> the</font>

476
00:25:10,700 --> 00:25:15,020
traffic will or the router the edge

477
00:25:12,710 --> 00:25:18,530
router will see two tunnels on two

478
00:25:15,020 --> 00:25:21,799
separate routers as being a valid next

479
00:25:18,530 --> 00:25:24,490
hop so there were times where traffic

480
00:25:21,799 --> 00:25:29,658
would flip flop between both up links

481
00:25:24,490 --> 00:25:33,830
and from tunnel<font color="#E5E5E5"> the tunnel so when you</font>

482
00:25:29,659 --> 00:25:35,990
have edge to edge you<font color="#CCCCCC"> know if there's</font>

483
00:25:33,830 --> 00:25:38,389
the one the tunnel will establish on the

484
00:25:35,990 --> 00:25:44,840
one path and as long as that tunnels up

485
00:25:38,390 --> 00:25:47,510
it'll<font color="#E5E5E5"> take it so some of the benefits of</font>

486
00:25:44,840 --> 00:25:51,500
running an offline calculation model for

487
00:25:47,510 --> 00:25:53,658
your RSVP values is that you<font color="#E5E5E5"> don't</font>

488
00:25:51,500 --> 00:25:58,760
actually<font color="#E5E5E5"> need your head ends to do the</font>

489
00:25:53,659 --> 00:26:01,820
calculation and you get generally stable

490
00:25:58,760 --> 00:26:03,559
pathing if the tunnels have to

491
00:26:01,820 --> 00:26:05,539
constantly be recalculated by the head

492
00:26:03,559 --> 00:26:11,120
ends you know<font color="#CCCCCC"> I could find a better path</font>

493
00:26:05,539 --> 00:26:13,010
and shift around<font color="#CCCCCC"> drawbacks are that you</font>

494
00:26:11,120 --> 00:26:15,830
can have in efficient usage of your

495
00:26:13,010 --> 00:26:18,470
bandwidth during you<font color="#CCCCCC"> know non-hot times</font>

496
00:26:15,830 --> 00:26:20,990
on your network it<font color="#E5E5E5"> actually takes quite</font>

497
00:26:18,470 --> 00:26:23,299
a bit of programming to be able<font color="#E5E5E5"> to do</font>

498
00:26:20,990 --> 00:26:25,900
your calculations and it's<font color="#CCCCCC"> a very</font><font color="#E5E5E5"> highly</font>

499
00:26:23,299 --> 00:26:28,250
<font color="#E5E5E5">dependent on your stats collection</font>

500
00:26:25,900 --> 00:26:30,530
meaning<font color="#CCCCCC"> that you know if you have some</font>

501
00:26:28,250 --> 00:26:33,610
problem with the storage or or whatever

502
00:26:30,530 --> 00:26:35,270
or the retrieval of the data it can

503
00:26:33,610 --> 00:26:42,260
<font color="#E5E5E5">wiley skew you</font>

504
00:26:35,270 --> 00:26:43,370
your RSVP reservations so this<font color="#CCCCCC"> is just</font>

505
00:26:42,260 --> 00:26:48,879
sort<font color="#CCCCCC"> of what I</font><font color="#E5E5E5"> was mentioning earlier</font>

506
00:26:43,370 --> 00:26:51,260
where you have during most of the time

507
00:26:48,880 --> 00:26:53,300
<font color="#CCCCCC">you'd probably want</font><font color="#E5E5E5"> to calculate for</font>

508
00:26:51,260 --> 00:26:55,490
maybe not<font color="#E5E5E5"> your peak but maybe a p95</font>

509
00:26:53,300 --> 00:26:59,090
value so a lot of times you're<font color="#E5E5E5"> going to</font>

510
00:26:55,490 --> 00:27:01,130
have wasted bandwidth and then during

511
00:26:59,090 --> 00:27:06,080
the peak you'll have unaccounted for

512
00:27:01,130 --> 00:27:09,080
bandwidth so benefits and drawbacks of

513
00:27:06,080 --> 00:27:13,970
doing online it's an action better

514
00:27:09,080 --> 00:27:15,740
reflection of your actual traffic if you

515
00:27:13,970 --> 00:27:17,690
have a sudden surge in traffic on<font color="#E5E5E5"> your</font>

516
00:27:15,740 --> 00:27:21,140
network doing an offline calculation

517
00:27:17,690 --> 00:27:23,900
won't pick it up so if you do it if you

518
00:27:21,140 --> 00:27:26,570
allow the tunnels or the routers to run

519
00:27:23,900 --> 00:27:29,180
an auto bandwidth it will eventually

520
00:27:26,570 --> 00:27:33,010
pick it up but the<font color="#CCCCCC"> traffic will trail</font>

521
00:27:29,180 --> 00:27:35,630
and lead the actual reservation so

522
00:27:33,010 --> 00:27:37,580
depending on<font color="#CCCCCC"> how</font><font color="#E5E5E5"> steep a curve it is or</font>

523
00:27:35,630 --> 00:27:40,990
how much traffic is being unaccounted

524
00:27:37,580 --> 00:27:42,980
for it may not really<font color="#E5E5E5"> help you in time</font>

525
00:27:40,990 --> 00:27:44,960
and you have to use<font color="#CCCCCC"> the vendors</font>

526
00:27:42,980 --> 00:27:47,900
heuristics instead of your<font color="#CCCCCC"> own as far as</font>

527
00:27:44,960 --> 00:27:50,230
just stating you know why I want<font color="#E5E5E5"> to run</font>

528
00:27:47,900 --> 00:27:52,340
at a certain bandwidth or or whatever

529
00:27:50,230 --> 00:27:55,990
here's an example what I mean of

530
00:27:52,340 --> 00:27:58,639
trailing and leading the actual traffic

531
00:27:55,990 --> 00:28:01,460
you know you have a threshold which is

532
00:27:58,640 --> 00:28:04,520
the bar there of you know this is<font color="#E5E5E5"> my</font>

533
00:28:01,460 --> 00:28:06,110
static reservation or not static

534
00:28:04,520 --> 00:28:08,570
reservation but this is my reservation

535
00:28:06,110 --> 00:28:12,199
the actual traffic is growing along the

536
00:28:08,570 --> 00:28:14,780
bell<font color="#CCCCCC"> curve there so as traffic's ramping</font>

537
00:28:12,200 --> 00:28:17,480
up a lot<font color="#E5E5E5"> of times the actual traffic</font>

538
00:28:14,780 --> 00:28:20,420
will be higher than what your reserved

539
00:28:17,480 --> 00:28:23,240
because it's<font color="#E5E5E5"> being run on the traffic</font>

540
00:28:20,420 --> 00:28:26,270
from a previous time and then on the

541
00:28:23,240 --> 00:28:30,190
flip side you'll actually have more

542
00:28:26,270 --> 00:28:30,190
reserved than you actually need so

543
00:28:30,370 --> 00:28:35,899
there's a<font color="#E5E5E5"> couple of causes of tunnel</font>

544
00:28:32,900 --> 00:28:39,080
failures most common is usually circular

545
00:28:35,900 --> 00:28:42,940
<font color="#CCCCCC">IGP failure sometimes</font><font color="#E5E5E5"> if there's</font>

546
00:28:39,080 --> 00:28:42,939
absolutely<font color="#E5E5E5"> no reservable bandwidth</font>

547
00:28:44,570 --> 00:28:50,360
the tunnel can actually not establish

548
00:28:47,389 --> 00:28:53,658
and then it'll just ram through on IP

549
00:28:50,360 --> 00:28:56,600
and the other two not really too common

550
00:28:53,659 --> 00:29:02,809
so just wanted to mention this real

551
00:28:56,600 --> 00:29:05,539
quick soft preemption<font color="#CCCCCC"> allows the tunnel</font>

552
00:29:02,809 --> 00:29:08,870
to continue forwarding traffic while and

553
00:29:05,539 --> 00:29:12,500
another tunnel establishes something

554
00:29:08,870 --> 00:29:14,658
that actually someone at my current job

555
00:29:12,500 --> 00:29:16,940
<font color="#E5E5E5">and someone at my previous</font><font color="#CCCCCC"> job worked on</font>

556
00:29:14,659 --> 00:29:20,840
together with a couple<font color="#CCCCCC"> of the hardware</font>

557
00:29:16,940 --> 00:29:23,299
vendors<font color="#E5E5E5"> juniper is already implemented</font>

558
00:29:20,840 --> 00:29:25,580
and Cisco says that they're planning<font color="#E5E5E5"> on</font>

559
00:29:23,299 --> 00:29:29,990
it so that will actually greatly help

560
00:29:25,580 --> 00:29:33,379
the black holing issue so some

561
00:29:29,990 --> 00:29:36,950
considerations not saying<font color="#E5E5E5"> I've answers</font>

562
00:29:33,379 --> 00:29:38,449
to any of these but so one of the things

563
00:29:36,950 --> 00:29:43,279
<font color="#CCCCCC">I mentioned earlier is is it better to</font>

564
00:29:38,450 --> 00:29:48,289
have traffic running along a sub optimal

565
00:29:43,279 --> 00:29:51,679
path all<font color="#E5E5E5"> the time or would it be better</font>

566
00:29:48,289 --> 00:29:55,549
to have you know<font color="#E5E5E5"> traffic run along the</font>

567
00:29:51,679 --> 00:29:58,490
sub optimal path if there's not full

568
00:29:55,549 --> 00:30:01,070
resource available to it and then you

569
00:29:58,490 --> 00:30:03,320
know as the traffic levels die down you

570
00:30:01,070 --> 00:30:05,689
know allow the tunnel to go over the

571
00:30:03,320 --> 00:30:11,450
specific path the the more optimal path

572
00:30:05,690 --> 00:30:13,460
you know I don't<font color="#E5E5E5"> know what's the better</font>

573
00:30:11,450 --> 00:30:15,970
way to handle the larger flows in

574
00:30:13,460 --> 00:30:19,100
traffic should we have smaller tunnels

575
00:30:15,970 --> 00:30:22,519
creates more stayed on the routers you

576
00:30:19,100 --> 00:30:25,580
know<font color="#E5E5E5"> possibly running into ecmp equal</font>

577
00:30:22,519 --> 00:30:29,200
cost multipath problems it's a better to

578
00:30:25,580 --> 00:30:31,309
have<font color="#E5E5E5"> smaller number but larger tunnels</font>

579
00:30:29,200 --> 00:30:33,830
are they better off on the core<font color="#CCCCCC"> of</font><font color="#E5E5E5"> the</font>

580
00:30:31,309 --> 00:30:35,960
edge that's<font color="#E5E5E5"> a whole design philosophy as</font>

581
00:30:33,830 --> 00:30:40,699
far as you wanna have a dumb core or

582
00:30:35,960 --> 00:30:46,730
dumb edge how do you want to calculate

583
00:30:40,700 --> 00:30:48,889
<font color="#E5E5E5">your spear reservations and another</font>

584
00:30:46,730 --> 00:30:51,139
<font color="#E5E5E5">interesting</font><font color="#CCCCCC"> issue is you know how to</font>

585
00:30:48,889 --> 00:30:53,539
account for sudden<font color="#E5E5E5"> surges and traffic</font>

586
00:30:51,139 --> 00:30:56,510
such as if traffic would normally

587
00:30:53,539 --> 00:30:57,990
hairpin a specific router suddenly

588
00:30:56,510 --> 00:31:01,080
there's a failure it has to actually

589
00:30:57,990 --> 00:31:04,710
hit your backbone and your reservations

590
00:31:01,080 --> 00:31:08,879
are all out of<font color="#E5E5E5"> whack so the bottom line</font>

591
00:31:04,710 --> 00:31:10,740
is<font color="#E5E5E5"> I've found that using tunnels allow</font>

592
00:31:08,880 --> 00:31:14,700
you for more control over your traffic

593
00:31:10,740 --> 00:31:20,309
and your network allows you to defer

594
00:31:14,700 --> 00:31:22,470
some effects and some capex costs but I

595
00:31:20,309 --> 00:31:26,910
had the flip side there's more moving

596
00:31:22,470 --> 00:31:30,630
parts you do need<font color="#E5E5E5"> to spend the money on</font>

597
00:31:26,910 --> 00:31:34,110
your hardware it takes more engineering

598
00:31:30,630 --> 00:31:39,300
resources and the bottom line<font color="#CCCCCC"> is</font><font color="#E5E5E5"> but</font>

599
00:31:34,110 --> 00:31:48,928
<font color="#E5E5E5">still takes money to make money so any</font>

600
00:31:39,300 --> 00:31:55,370
questions Wow looks<font color="#E5E5E5"> like the crowd</font><font color="#CCCCCC"> is</font>

601
00:31:48,929 --> 00:31:55,370
silent<font color="#CCCCCC"> they're deafening applause oh</font>

