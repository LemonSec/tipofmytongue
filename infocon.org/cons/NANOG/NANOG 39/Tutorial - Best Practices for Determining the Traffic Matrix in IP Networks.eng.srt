1
00:00:00,380 --> 00:00:08,010
<font color="#E5E5E5">okay</font><font color="#CCCCCC"> good afternoon</font><font color="#E5E5E5"> everybody</font><font color="#CCCCCC"> welcome</font><font color="#E5E5E5"> my</font>

2
00:00:06,629 --> 00:00:10,500
<font color="#E5E5E5">name is</font><font color="#CCCCCC"> Thomas Telecom</font>

3
00:00:08,010 --> 00:00:13,910
as you can see this is<font color="#E5E5E5"> already the</font><font color="#CCCCCC"> third</font>

4
00:00:10,500 --> 00:00:16,590
version of<font color="#CCCCCC"> the traffic matrixes tutorial</font>

5
00:00:13,910 --> 00:00:20,039
<font color="#CCCCCC">last one was actually at the Nanook in</font>

6
00:00:16,590 --> 00:00:23,220
Los<font color="#CCCCCC"> Angeles and I'm always interested to</font>

7
00:00:20,039 --> 00:00:27,330
hear feedback from<font color="#E5E5E5"> people if there are</font>

8
00:00:23,220 --> 00:00:29,429
more<font color="#CCCCCC"> if there</font><font color="#E5E5E5"> are more topics to add or</font>

9
00:00:27,330 --> 00:00:31,019
things you think<font color="#E5E5E5"> are incorrect or</font>

10
00:00:29,429 --> 00:00:32,850
changes you want<font color="#E5E5E5"> to make just let me</font>

11
00:00:31,019 --> 00:00:34,589
know<font color="#CCCCCC"> several people have done based</font><font color="#E5E5E5"> on</font>

12
00:00:32,850 --> 00:00:37,050
<font color="#E5E5E5">the last version I incorporate these</font>

13
00:00:34,590 --> 00:00:40,200
changes<font color="#E5E5E5"> into the slides and use them for</font>

14
00:00:37,050 --> 00:00:42,769
<font color="#CCCCCC">next time</font><font color="#E5E5E5"> so first a little background</font>

15
00:00:40,200 --> 00:00:46,770
<font color="#E5E5E5">on why I'm actually giving this tutorial</font>

16
00:00:42,770 --> 00:00:49,170
for my daily work I help operators<font color="#CCCCCC"> ice</font>

17
00:00:46,770 --> 00:00:51,480
vision or mobile<font color="#E5E5E5"> phone operators</font><font color="#CCCCCC"> and</font>

18
00:00:49,170 --> 00:00:54,180
modeling<font color="#E5E5E5"> and simulating their network</font>

19
00:00:51,480 --> 00:00:56,640
<font color="#CCCCCC">and when I come</font><font color="#E5E5E5"> somewhere it's always</font>

20
00:00:54,180 --> 00:00:58,230
relatively easy to get<font color="#CCCCCC"> a topology of the</font>

21
00:00:56,640 --> 00:01:01,469
network<font color="#E5E5E5"> you have to</font><font color="#CCCCCC"> route the convicts</font>

22
00:00:58,230 --> 00:01:02,279
to<font color="#CCCCCC"> bars or</font><font color="#E5E5E5"> ensure</font><font color="#CCCCCC"> yzs database output or</font>

23
00:01:01,469 --> 00:01:05,040
something like<font color="#E5E5E5"> that</font>

24
00:01:02,280 --> 00:01:07,680
but it always<font color="#E5E5E5"> proves to be</font><font color="#CCCCCC"> very hard to</font>

25
00:01:05,040 --> 00:01:10,049
get traffic data for the network<font color="#CCCCCC"> where's</font>

26
00:01:07,680 --> 00:01:12,619
the traffic going<font color="#E5E5E5"> from a rod and my</font>

27
00:01:10,049 --> 00:01:15,780
network<font color="#CCCCCC"> to another rod</font><font color="#E5E5E5"> in the network</font>

28
00:01:12,619 --> 00:01:18,689
when I was going<font color="#CCCCCC"> over</font><font color="#E5E5E5"> the slides again</font><font color="#CCCCCC"> I</font>

29
00:01:15,780 --> 00:01:20,729
thought it strange that<font color="#E5E5E5"> I can write</font><font color="#CCCCCC"> 90</font>

30
00:01:18,689 --> 00:01:22,500
slides about<font color="#E5E5E5"> how to get your</font><font color="#CCCCCC"> traffic</font>

31
00:01:20,729 --> 00:01:25,080
data and still everywhere where I come

32
00:01:22,500 --> 00:01:26,759
it proves to be a<font color="#E5E5E5"> problem so that's the</font>

33
00:01:25,080 --> 00:01:28,798
<font color="#E5E5E5">reason I think it's it's relevant to</font>

34
00:01:26,759 --> 00:01:30,270
share this information<font color="#E5E5E5"> with you this is</font>

35
00:01:28,799 --> 00:01:32,220
from<font color="#CCCCCC"> experiences we have had with</font>

36
00:01:30,270 --> 00:01:35,579
several types of<font color="#CCCCCC"> network</font><font color="#E5E5E5"> several types</font>

37
00:01:32,220 --> 00:01:39,960
of equipment and the things<font color="#E5E5E5"> we've</font>

38
00:01:35,579 --> 00:01:43,008
<font color="#CCCCCC">learned in doing</font><font color="#E5E5E5"> this so to give an</font>

39
00:01:39,960 --> 00:01:47,389
overview of<font color="#E5E5E5"> what I</font><font color="#CCCCCC"> will</font><font color="#E5E5E5"> be talking</font><font color="#CCCCCC"> about</font>

40
00:01:43,009 --> 00:01:51,770
this<font color="#E5E5E5"> afternoon</font><font color="#CCCCCC"> first</font><font color="#E5E5E5"> a few general</font>

41
00:01:47,390 --> 00:01:53,939
properties<font color="#E5E5E5"> of traffic matrices and this</font>

42
00:01:51,770 --> 00:01:55,110
might seem a<font color="#CCCCCC"> little</font><font color="#E5E5E5"> bit boring but I</font>

43
00:01:53,939 --> 00:01:57,839
need them<font color="#E5E5E5"> later on</font>

44
00:01:55,110 --> 00:02:00,119
<font color="#E5E5E5">in the in the tutorial then a section</font>

45
00:01:57,840 --> 00:02:02,490
about measurements<font color="#E5E5E5"> in IP</font><font color="#CCCCCC"> network so in</font>

46
00:02:00,119 --> 00:02:05,340
networks where<font color="#E5E5E5"> there is no MPLS how can</font>

47
00:02:02,490 --> 00:02:07,829
we know where the traffic is<font color="#CCCCCC"> going the</font>

48
00:02:05,340 --> 00:02:09,450
second part about<font color="#E5E5E5"> MPLS networks which</font>

49
00:02:07,829 --> 00:02:13,280
<font color="#CCCCCC">give you a lot of extra information</font>

50
00:02:09,449 --> 00:02:13,280
about<font color="#E5E5E5"> traffic data</font>

51
00:02:13,709 --> 00:02:18,629
something about estimation<font color="#CCCCCC"> have been</font>

52
00:02:16,290 --> 00:02:20,640
<font color="#E5E5E5">talks about this topic</font><font color="#CCCCCC"> before at</font><font color="#E5E5E5"> Nanak</font>

53
00:02:18,629 --> 00:02:22,018
and<font color="#E5E5E5"> it's something</font><font color="#CCCCCC"> we use a lot</font><font color="#E5E5E5"> our</font>

54
00:02:20,640 --> 00:02:23,909
<font color="#E5E5E5">selves as well so how</font><font color="#CCCCCC"> can</font><font color="#E5E5E5"> I actually</font>

55
00:02:22,019 --> 00:02:26,790
estimate what the<font color="#E5E5E5"> traffic matrices and</font>

56
00:02:23,909 --> 00:02:29,310
then<font color="#E5E5E5"> to short topics about how to deal</font>

57
00:02:26,790 --> 00:02:34,440
with partial<font color="#E5E5E5"> topologies and a few notes</font>

58
00:02:29,310 --> 00:02:36,060
<font color="#CCCCCC">about multicast I'd have a few</font>

59
00:02:34,440 --> 00:02:38,069
acknowledgments to<font color="#E5E5E5"> make for people</font><font color="#CCCCCC"> who</font>

60
00:02:36,060 --> 00:02:40,140
<font color="#CCCCCC">actually</font><font color="#E5E5E5"> have contributed to the slides</font>

61
00:02:38,069 --> 00:02:42,268
<font color="#E5E5E5">here of</font><font color="#CCCCCC"> whose</font><font color="#E5E5E5"> materials I've used</font>

62
00:02:40,140 --> 00:02:44,609
especially<font color="#E5E5E5"> as Stefan Schneider from</font>

63
00:02:42,269 --> 00:02:46,049
<font color="#CCCCCC">deutsche telekom the first time we gave</font>

64
00:02:44,610 --> 00:02:48,629
<font color="#E5E5E5">this tutorial we actually did it</font>

65
00:02:46,049 --> 00:02:53,400
together<font color="#CCCCCC"> so a lot of the slides</font><font color="#E5E5E5"> in here</font>

66
00:02:48,629 --> 00:02:56,280
are<font color="#E5E5E5"> are made by</font><font color="#CCCCCC"> Stefan first a</font><font color="#E5E5E5"> simple</font>

67
00:02:53,400 --> 00:02:58,500
definition<font color="#E5E5E5"> matter to make sure</font><font color="#CCCCCC"> we're all</font>

68
00:02:56,280 --> 00:03:00,870
<font color="#E5E5E5">talking about the</font><font color="#CCCCCC"> same</font><font color="#E5E5E5"> thing so a</font>

69
00:02:58,500 --> 00:03:02,940
traffic matrix represents the amount of

70
00:03:00,870 --> 00:03:05,730
traffic<font color="#E5E5E5"> transmitted between pairs</font><font color="#CCCCCC"> of</font>

71
00:03:02,940 --> 00:03:08,849
nodes in the<font color="#E5E5E5"> network I will often</font><font color="#CCCCCC"> refer</font>

72
00:03:05,730 --> 00:03:12,420
to<font color="#E5E5E5"> them as demands server demands</font><font color="#CCCCCC"> in</font>

73
00:03:08,849 --> 00:03:14,040
this case is a a entry in the traffic

74
00:03:12,420 --> 00:03:18,030
matrix so the traffic<font color="#E5E5E5"> between two</font>

75
00:03:14,040 --> 00:03:20,280
<font color="#E5E5E5">routers the traffic matrix itself can</font>

76
00:03:18,030 --> 00:03:22,980
represent either<font color="#E5E5E5"> the traffic at a</font>

77
00:03:20,280 --> 00:03:25,980
specific time or<font color="#E5E5E5"> already some kind of</font>

78
00:03:22,980 --> 00:03:29,760
<font color="#E5E5E5">aggregated data for example</font><font color="#CCCCCC"> the average</font>

79
00:03:25,980 --> 00:03:32,429
<font color="#E5E5E5">over a day or the peak during a day</font><font color="#CCCCCC"> we</font>

80
00:03:29,760 --> 00:03:34,410
see two types of traffic matrix

81
00:03:32,430 --> 00:03:36,660
basically router the router<font color="#CCCCCC"> of</font><font color="#E5E5E5"> Bob - Bob</font>

82
00:03:34,410 --> 00:03:38,579
<font color="#E5E5E5">where with pop - pop you only look at</font>

83
00:03:36,660 --> 00:03:41,310
<font color="#E5E5E5">the</font><font color="#CCCCCC"> traffic between</font><font color="#E5E5E5"> two locations</font><font color="#CCCCCC"> not</font>

84
00:03:38,579 --> 00:03:43,079
specifically<font color="#E5E5E5"> to which router is</font><font color="#CCCCCC"> going</font><font color="#E5E5E5"> I</font>

85
00:03:41,310 --> 00:03:45,750
won't<font color="#CCCCCC"> be talking very</font><font color="#E5E5E5"> much about</font><font color="#CCCCCC"> that so</font>

86
00:03:43,079 --> 00:03:53,099
we will<font color="#E5E5E5"> look</font><font color="#CCCCCC"> to look at router to router</font>

87
00:03:45,750 --> 00:03:56,180
<font color="#E5E5E5">traffic matrices so also going</font><font color="#CCCCCC"> to talk</font>

88
00:03:53,099 --> 00:03:59,280
about<font color="#E5E5E5"> why do we actually need them</font>

89
00:03:56,180 --> 00:04:00,900
<font color="#CCCCCC">because I can very easily look at the</font>

90
00:03:59,280 --> 00:04:03,030
<font color="#CCCCCC">traffic on my network with tools</font><font color="#E5E5E5"> like</font>

91
00:04:00,900 --> 00:04:04,349
mrtg<font color="#E5E5E5"> and I see immediately how much</font>

92
00:04:03,030 --> 00:04:06,299
traffic I have on every link in the

93
00:04:04,349 --> 00:04:07,918
network and I can see if<font color="#E5E5E5"> there is</font>

94
00:04:06,299 --> 00:04:09,660
<font color="#E5E5E5">congestion or not so why would I</font>

95
00:04:07,919 --> 00:04:12,299
actually need a traffic matrix for my

96
00:04:09,660 --> 00:04:15,930
network<font color="#CCCCCC"> the reason is if there are</font>

97
00:04:12,299 --> 00:04:18,389
changes<font color="#E5E5E5"> so the monitoring of the network</font>

98
00:04:15,930 --> 00:04:21,478
<font color="#E5E5E5">tells you exactly if everything is</font><font color="#CCCCCC"> fine</font>

99
00:04:18,389 --> 00:04:23,280
<font color="#CCCCCC">at that moment in that topology but you</font>

100
00:04:21,478 --> 00:04:24,900
might need to do some capacity planning

101
00:04:23,280 --> 00:04:26,729
<font color="#E5E5E5">and say</font><font color="#CCCCCC"> ok what happens if</font>

102
00:04:24,900 --> 00:04:28,560
at a link between two routers<font color="#E5E5E5"> or two</font>

103
00:04:26,729 --> 00:04:31,320
locations<font color="#CCCCCC"> where it's not a link yet I</font>

104
00:04:28,560 --> 00:04:32,790
cannot look at<font color="#E5E5E5"> the existing link traffic</font>

105
00:04:31,320 --> 00:04:35,880
and say well it will now be distributed

106
00:04:32,790 --> 00:04:37,860
<font color="#CCCCCC">all</font><font color="#E5E5E5"> over new link</font><font color="#CCCCCC"> I need to know which</font>

107
00:04:35,880 --> 00:04:40,800
<font color="#E5E5E5">end-to-end flowers will actually run</font>

108
00:04:37,860 --> 00:04:44,310
over the new link<font color="#E5E5E5"> or</font><font color="#CCCCCC"> what-if scenarios</font>

109
00:04:40,800 --> 00:04:46,919
if I<font color="#CCCCCC"> changed the topology or look at the</font>

110
00:04:44,310 --> 00:04:48,900
<font color="#E5E5E5">resilience analysis so what happens if a</font>

111
00:04:46,919 --> 00:04:50,250
router fails on my<font color="#E5E5E5"> network then I need</font>

112
00:04:48,900 --> 00:04:52,109
to<font color="#CCCCCC"> look at the new routing</font><font color="#E5E5E5"> but also I</font>

113
00:04:50,250 --> 00:04:54,270
need to know the end-to-end<font color="#E5E5E5"> traffic in</font>

114
00:04:52,110 --> 00:04:56,639
the network<font color="#CCCCCC"> the last reason is</font><font color="#E5E5E5"> for</font>

115
00:04:54,270 --> 00:05:01,469
optimization<font color="#E5E5E5"> purposes</font><font color="#CCCCCC"> either</font><font color="#E5E5E5"> I want to</font>

116
00:04:56,639 --> 00:05:02,580
tune my<font color="#CCCCCC"> OSPF</font><font color="#E5E5E5"> for ISAs metrics or I want</font>

117
00:05:01,470 --> 00:05:05,340
<font color="#E5E5E5">to do something</font><font color="#CCCCCC"> with MPLS traffic</font>

118
00:05:02,580 --> 00:05:07,500
engineering<font color="#E5E5E5"> for example</font><font color="#CCCCCC"> not deploy a</font>

119
00:05:05,340 --> 00:05:10,619
full mesh of tunnels but I just want to

120
00:05:07,500 --> 00:05:12,330
<font color="#CCCCCC">only deploy</font><font color="#E5E5E5"> a handful of tunnels for the</font>

121
00:05:10,620 --> 00:05:14,880
<font color="#E5E5E5">largest flowers I have in my</font><font color="#CCCCCC"> network</font><font color="#E5E5E5"> so</font>

122
00:05:12,330 --> 00:05:17,099
all kinds of reasons why we<font color="#CCCCCC"> need</font><font color="#E5E5E5"> to know</font>

123
00:05:14,880 --> 00:05:21,690
more<font color="#CCCCCC"> than just</font><font color="#E5E5E5"> the link loads in the</font>

124
00:05:17,100 --> 00:05:23,850
network<font color="#CCCCCC"> during the talk I will</font>

125
00:05:21,690 --> 00:05:25,110
distinguish between two main types<font color="#E5E5E5"> of</font>

126
00:05:23,850 --> 00:05:27,539
traffic<font color="#CCCCCC"> matrixes</font>

127
00:05:25,110 --> 00:05:29,250
first is the internal<font color="#E5E5E5"> traffic matrix so</font>

128
00:05:27,539 --> 00:05:31,169
if you look at your<font color="#E5E5E5"> own network and you</font>

129
00:05:29,250 --> 00:05:33,180
figure out where does the<font color="#CCCCCC"> traffic come</font>

130
00:05:31,169 --> 00:05:33,990
<font color="#E5E5E5">into my network and where does it</font><font color="#CCCCCC"> go out</font>

131
00:05:33,180 --> 00:05:37,080
<font color="#CCCCCC">of the network</font>

132
00:05:33,990 --> 00:05:40,830
<font color="#E5E5E5">so it's an ingress</font><font color="#CCCCCC"> to egress</font><font color="#E5E5E5"> traffic</font>

133
00:05:37,080 --> 00:05:42,750
matrix<font color="#E5E5E5"> but for a more detailed analysis</font>

134
00:05:40,830 --> 00:05:45,150
also<font color="#E5E5E5"> for your</font><font color="#CCCCCC"> external traffic</font><font color="#E5E5E5"> and your</font>

135
00:05:42,750 --> 00:05:47,580
your your<font color="#CCCCCC"> Beach be writing you might</font>

136
00:05:45,150 --> 00:05:50,729
actually want to<font color="#E5E5E5"> look one step deeper</font>

137
00:05:47,580 --> 00:05:53,310
into where the traffic<font color="#E5E5E5"> is</font><font color="#CCCCCC"> going and</font><font color="#E5E5E5"> you</font>

138
00:05:50,729 --> 00:05:55,590
<font color="#CCCCCC">want to include</font><font color="#E5E5E5"> your neighbors into the</font>

139
00:05:53,310 --> 00:05:58,229
flops<font color="#E5E5E5"> so then we</font><font color="#CCCCCC"> haven't</font><font color="#E5E5E5"> what we call</font>

140
00:05:55,590 --> 00:06:00,150
pop or router to external<font color="#E5E5E5"> a s so I have</font>

141
00:05:58,229 --> 00:06:02,580
a router in my<font color="#CCCCCC"> network</font><font color="#E5E5E5"> for example</font><font color="#CCCCCC"> an</font>

142
00:06:00,150 --> 00:06:05,909
exit router<font color="#E5E5E5"> how much traffic is there to</font>

143
00:06:02,580 --> 00:06:09,198
all of my direct<font color="#E5E5E5"> peers or transit or</font>

144
00:06:05,910 --> 00:06:13,380
customers anybody talking<font color="#E5E5E5"> BGP to you</font>

145
00:06:09,199 --> 00:06:15,870
<font color="#E5E5E5">this can be very useful</font><font color="#CCCCCC"> for example to</font>

146
00:06:13,380 --> 00:06:18,150
see what<font color="#CCCCCC"> is the</font><font color="#E5E5E5"> impact of failures on</font>

147
00:06:15,870 --> 00:06:20,729
the<font color="#E5E5E5"> beach</font><font color="#CCCCCC"> B links or what is the impact</font>

148
00:06:18,150 --> 00:06:22,440
of changes inside my network on where

149
00:06:20,729 --> 00:06:24,780
the<font color="#CCCCCC"> traffic will leave the network to my</font>

150
00:06:22,440 --> 00:06:26,820
neighbors I actually did a presentation

151
00:06:24,780 --> 00:06:29,460
on<font color="#E5E5E5"> what you can do with the data at</font>

152
00:06:26,820 --> 00:06:32,280
<font color="#E5E5E5">arrive a while back and there's a</font>

153
00:06:29,460 --> 00:06:36,180
<font color="#E5E5E5">reference at the end</font><font color="#CCCCCC"> of the slides where</font>

154
00:06:32,280 --> 00:06:38,948
you can<font color="#E5E5E5"> find the URL</font><font color="#CCCCCC"> I'm</font>

155
00:06:36,180 --> 00:06:41,979
specifically<font color="#E5E5E5"> not looking at the full</font><font color="#CCCCCC"> is</font>

156
00:06:38,949 --> 00:06:44,490
<font color="#E5E5E5">part at this point so an analysis</font><font color="#CCCCCC"> of</font>

157
00:06:41,979 --> 00:06:48,310
where<font color="#E5E5E5"> traffic is going multiple hops</font>

158
00:06:44,490 --> 00:06:49,719
<font color="#CCCCCC">beyond my own network</font><font color="#E5E5E5"> is a completely</font>

159
00:06:48,310 --> 00:06:52,060
different game<font color="#CCCCCC"> and completely</font><font color="#E5E5E5"> different</font>

160
00:06:49,719 --> 00:06:57,460
analysis from your<font color="#E5E5E5"> internal traffic</font>

161
00:06:52,060 --> 00:07:00,249
matrix so<font color="#E5E5E5"> a visualization of what I just</font>

162
00:06:57,460 --> 00:07:02,560
<font color="#E5E5E5">discussed in the first case you</font><font color="#CCCCCC"> have the</font>

163
00:07:00,249 --> 00:07:05,020
<font color="#CCCCCC">traffic from an example pop here with</font>

164
00:07:02,560 --> 00:07:07,990
two<font color="#CCCCCC"> corridors to all the other</font><font color="#E5E5E5"> core</font>

165
00:07:05,020 --> 00:07:10,599
<font color="#CCCCCC">routers in the network while</font><font color="#E5E5E5"> if you look</font>

166
00:07:07,990 --> 00:07:13,449
at the external<font color="#E5E5E5"> traffic matrix</font><font color="#CCCCCC"> you</font>

167
00:07:10,599 --> 00:07:15,909
<font color="#E5E5E5">actually have traffic from corridors to</font>

168
00:07:13,449 --> 00:07:22,930
all your neighbor<font color="#E5E5E5"> a/s so basically the</font>

169
00:07:15,909 --> 00:07:25,120
next hope is<font color="#E5E5E5"> of your neighbors</font><font color="#CCCCCC"> I won't</font>

170
00:07:22,930 --> 00:07:29,169
say a few things about presentation

171
00:07:25,120 --> 00:07:32,710
which was a few<font color="#CCCCCC"> Nanak's ago</font><font color="#E5E5E5"> by fan</font>

172
00:07:29,169 --> 00:07:35,919
<font color="#CCCCCC">Jacobson how were you</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> Wilma about I</font>

173
00:07:32,710 --> 00:07:39,758
<font color="#E5E5E5">think it was called route fusion where a</font>

174
00:07:35,919 --> 00:07:42,370
flow<font color="#E5E5E5"> road flow route</font><font color="#CCCCCC"> flow</font><font color="#E5E5E5"> fusion it was</font>

175
00:07:39,759 --> 00:07:44,800
called where they made a case for

176
00:07:42,370 --> 00:07:48,039
<font color="#E5E5E5">actually not just looking at the</font><font color="#CCCCCC"> traffic</font>

177
00:07:44,800 --> 00:07:50,860
but combining the traffic<font color="#E5E5E5"> data to the</font>

178
00:07:48,039 --> 00:07:53,800
traffic matrix<font color="#E5E5E5"> together with routing</font>

179
00:07:50,860 --> 00:07:56,529
<font color="#E5E5E5">information a lot of things they talked</font>

180
00:07:53,800 --> 00:08:00,129
about<font color="#E5E5E5"> are also covered in this tutorial</font>

181
00:07:56,529 --> 00:08:01,210
and<font color="#E5E5E5"> but it definitely</font><font color="#CCCCCC"> makes sense</font><font color="#E5E5E5"> to</font>

182
00:08:00,129 --> 00:08:02,649
have<font color="#E5E5E5"> another look at their slides</font>

183
00:08:01,210 --> 00:08:06,188
<font color="#E5E5E5">because they bring up a lot of very good</font>

184
00:08:02,649 --> 00:08:08,069
<font color="#CCCCCC">IDs and approaches in looking a</font><font color="#E5E5E5"> little</font>

185
00:08:06,189 --> 00:08:11,740
bit further out<font color="#CCCCCC"> of your your network</font>

186
00:08:08,069 --> 00:08:14,229
<font color="#CCCCCC">also they make an observation which will</font>

187
00:08:11,740 --> 00:08:17,409
we'll also see in this tutorial times it

188
00:08:14,229 --> 00:08:20,500
is<font color="#E5E5E5"> terrific can possibly go</font><font color="#CCCCCC"> to a lot of</font>

189
00:08:17,409 --> 00:08:22,409
<font color="#E5E5E5">places in</font><font color="#CCCCCC"> your</font><font color="#E5E5E5"> own network or or further</font>

190
00:08:20,500 --> 00:08:24,610
<font color="#E5E5E5">down</font><font color="#CCCCCC"> in the</font><font color="#E5E5E5"> internet but in reality</font>

191
00:08:22,409 --> 00:08:26,800
<font color="#E5E5E5">traffic actually goes to only very few</font>

192
00:08:24,610 --> 00:08:29,050
<font color="#CCCCCC">places so if your instead of trying to</font>

193
00:08:26,800 --> 00:08:31,300
cover<font color="#CCCCCC"> 100</font><font color="#E5E5E5"> percent of your</font><font color="#CCCCCC"> traffic</font><font color="#E5E5E5"> try to</font>

194
00:08:29,050 --> 00:08:33,430
cover 95 or 98 percent of<font color="#E5E5E5"> your traffic</font>

195
00:08:31,300 --> 00:08:35,349
the whole<font color="#E5E5E5"> problem becomes much smaller</font>

196
00:08:33,429 --> 00:08:38,109
<font color="#E5E5E5">because the number</font><font color="#CCCCCC"> of destinations</font><font color="#E5E5E5"> where</font>

197
00:08:35,349 --> 00:08:41,260
it's going is<font color="#E5E5E5"> really not that large as</font>

198
00:08:38,110 --> 00:08:43,120
the<font color="#CCCCCC"> full set of possible destinations</font><font color="#E5E5E5"> so</font>

199
00:08:41,260 --> 00:08:45,779
what they suggest<font color="#E5E5E5"> in their paper is if</font>

200
00:08:43,120 --> 00:08:49,000
you look for<font color="#E5E5E5"> example at net flow data</font>

201
00:08:45,779 --> 00:08:49,570
make<font color="#CCCCCC"> sure you also take</font><font color="#E5E5E5"> the BGP routing</font>

202
00:08:49,000 --> 00:08:51,940
table in

203
00:08:49,570 --> 00:08:54,730
to<font color="#E5E5E5"> account</font><font color="#CCCCCC"> look at the next a s</font><font color="#E5E5E5"> maybe a</font>

204
00:08:51,940 --> 00:08:57,970
few a<font color="#CCCCCC"> s is down</font><font color="#E5E5E5"> record that</font><font color="#CCCCCC"> information</font>

205
00:08:54,730 --> 00:08:59,740
together<font color="#E5E5E5"> with the flow data later on</font>

206
00:08:57,970 --> 00:09:06,840
there is<font color="#E5E5E5"> an</font><font color="#CCCCCC"> example how you can do such</font>

207
00:08:59,740 --> 00:09:09,160
a thing with a passive<font color="#CCCCCC"> bgp session then</font>

208
00:09:06,840 --> 00:09:10,750
something<font color="#CCCCCC"> about traffic matrixes in</font>

209
00:09:09,160 --> 00:09:13,360
general just<font color="#E5E5E5"> the properties of the</font>

210
00:09:10,750 --> 00:09:15,220
traffic<font color="#CCCCCC"> this</font><font color="#E5E5E5"> comes from an analysis</font>

211
00:09:13,360 --> 00:09:19,570
we've done on a<font color="#CCCCCC"> tier 1 network</font><font color="#E5E5E5"> it's</font>

212
00:09:15,220 --> 00:09:21,250
actually published in a paper and it's a

213
00:09:19,570 --> 00:09:22,780
network where we<font color="#E5E5E5"> can</font><font color="#CCCCCC"> actually measure</font>

214
00:09:21,250 --> 00:09:25,540
the traffic<font color="#E5E5E5"> matrix because there's a</font>

215
00:09:22,780 --> 00:09:28,420
full<font color="#E5E5E5"> mess of mesh of MPLS tunnels we</font>

216
00:09:25,540 --> 00:09:31,750
have 24<font color="#E5E5E5"> hours of data and we just have a</font>

217
00:09:28,420 --> 00:09:33,640
<font color="#E5E5E5">quick look at how the traffic is</font>

218
00:09:31,750 --> 00:09:36,010
distributed over time so what happens

219
00:09:33,640 --> 00:09:38,380
during a day<font color="#E5E5E5"> how the traffic is</font>

220
00:09:36,010 --> 00:09:42,689
distributed<font color="#E5E5E5"> over the network and how the</font>

221
00:09:38,380 --> 00:09:45,550
distribution<font color="#E5E5E5"> of</font><font color="#CCCCCC"> traffic is taking place</font>

222
00:09:42,690 --> 00:09:48,160
so first the the<font color="#E5E5E5"> temporal distribution</font>

223
00:09:45,550 --> 00:09:50,609
what happens<font color="#E5E5E5"> over a day this is a graph</font>

224
00:09:48,160 --> 00:09:53,620
I think everybody is very<font color="#CCCCCC"> familiar with</font>

225
00:09:50,610 --> 00:09:56,230
<font color="#E5E5E5">from the networks I have seen if you</font>

226
00:09:53,620 --> 00:09:57,970
have a lot of aggregated traffic from

227
00:09:56,230 --> 00:10:00,310
<font color="#CCCCCC">your customers you basically see a very</font>

228
00:09:57,970 --> 00:10:03,940
nice daily cycle<font color="#E5E5E5"> with</font><font color="#CCCCCC"> the minimum</font>

229
00:10:00,310 --> 00:10:05,079
<font color="#E5E5E5">somewhere in the night and then peak</font>

230
00:10:03,940 --> 00:10:09,760
<font color="#E5E5E5">somewhere I think</font>

231
00:10:05,080 --> 00:10:12,820
noon<font color="#CCCCCC"> late</font><font color="#E5E5E5"> afternoon early evening</font><font color="#CCCCCC"> it</font>

232
00:10:09,760 --> 00:10:15,160
also<font color="#E5E5E5"> proves that the peak actually is</font>

233
00:10:12,820 --> 00:10:18,160
not a very small moment it kind of

234
00:10:15,160 --> 00:10:21,160
spreads over<font color="#E5E5E5"> at least an hour again in</font>

235
00:10:18,160 --> 00:10:23,079
most of the<font color="#E5E5E5"> networks we have seen so to</font>

236
00:10:21,160 --> 00:10:25,540
do any useful<font color="#CCCCCC"> work with the traffic</font>

237
00:10:23,080 --> 00:10:27,880
matrix like capacity planning<font color="#E5E5E5"> or other</font>

238
00:10:25,540 --> 00:10:30,699
<font color="#E5E5E5">planning on your network</font><font color="#CCCCCC"> it actually</font>

239
00:10:27,880 --> 00:10:33,400
<font color="#E5E5E5">proves to work very</font><font color="#CCCCCC"> well to just take a</font>

240
00:10:30,700 --> 00:10:38,230
snapshot<font color="#CCCCCC"> over</font><font color="#E5E5E5"> an hour or so</font><font color="#CCCCCC"> at the peak</font>

241
00:10:33,400 --> 00:10:40,390
<font color="#E5E5E5">of all your traffic then we look at the</font>

242
00:10:38,230 --> 00:10:42,100
spatial<font color="#E5E5E5"> distribution of the network so</font>

243
00:10:40,390 --> 00:10:43,990
if we look at<font color="#E5E5E5"> all the possible routers</font>

244
00:10:42,100 --> 00:10:47,380
in the network<font color="#E5E5E5"> in this case all the</font>

245
00:10:43,990 --> 00:10:49,120
Pope's<font color="#E5E5E5"> in the network</font><font color="#CCCCCC"> is there</font><font color="#E5E5E5"> an equal</font>

246
00:10:47,380 --> 00:10:51,880
<font color="#E5E5E5">amount of traffic between them or is</font><font color="#CCCCCC"> it</font>

247
00:10:49,120 --> 00:10:54,640
actually focused on just a few<font color="#CCCCCC"> places</font>

248
00:10:51,880 --> 00:10:57,670
<font color="#CCCCCC">well what you</font><font color="#E5E5E5"> see here is clearly the</font>

249
00:10:54,640 --> 00:11:00,069
letter<font color="#CCCCCC"> you have on one side the source</font>

250
00:10:57,670 --> 00:11:01,780
<font color="#E5E5E5">on the</font><font color="#CCCCCC"> other side the destination</font><font color="#E5E5E5"> the</font>

251
00:11:00,070 --> 00:11:03,630
color indicates how much traffic there

252
00:11:01,780 --> 00:11:05,730
is<font color="#E5E5E5"> between these pairs</font>

253
00:11:03,630 --> 00:11:08,160
<font color="#CCCCCC">we're red and yellow</font><font color="#E5E5E5"> are</font><font color="#CCCCCC"> the highest</font>

254
00:11:05,730 --> 00:11:10,500
traffic failures we've both<font color="#E5E5E5"> done that</font>

255
00:11:08,160 --> 00:11:12,719
both for<font color="#CCCCCC"> a European Network and an</font>

256
00:11:10,500 --> 00:11:14,940
American network<font color="#CCCCCC"> and they show a very</font>

257
00:11:12,720 --> 00:11:18,240
similar thing that<font color="#CCCCCC"> is most traffic</font>

258
00:11:14,940 --> 00:11:19,500
actually<font color="#E5E5E5"> is between a few locations</font><font color="#CCCCCC"> so</font>

259
00:11:18,240 --> 00:11:21,270
these are probably<font color="#E5E5E5"> your big peering</font>

260
00:11:19,500 --> 00:11:23,310
locations you're big<font color="#E5E5E5"> beer</font><font color="#CCCCCC"> your big</font>

261
00:11:21,270 --> 00:11:25,290
customer locations<font color="#E5E5E5"> but it's not like</font>

262
00:11:23,310 --> 00:11:27,949
traffic<font color="#E5E5E5"> is going</font><font color="#CCCCCC"> anywhere</font><font color="#E5E5E5"> and this is an</font>

263
00:11:25,290 --> 00:11:30,569
theme which comes back several<font color="#CCCCCC"> times</font>

264
00:11:27,950 --> 00:11:32,580
<font color="#CCCCCC">we're just covering</font><font color="#E5E5E5"> a certain percentage</font>

265
00:11:30,570 --> 00:11:34,020
of your<font color="#E5E5E5"> traffic</font><font color="#CCCCCC"> you</font><font color="#E5E5E5"> actually have a very</font>

266
00:11:32,580 --> 00:11:35,850
<font color="#E5E5E5">good picture</font><font color="#CCCCCC"> of what's happening in</font><font color="#E5E5E5"> your</font>

267
00:11:34,020 --> 00:11:37,770
network<font color="#E5E5E5"> because</font><font color="#CCCCCC"> if you look at all the</font>

268
00:11:35,850 --> 00:11:43,170
blue here there's really<font color="#CCCCCC"> not a lot of</font>

269
00:11:37,770 --> 00:11:44,720
very interesting<font color="#E5E5E5"> detail in there then</font>

270
00:11:43,170 --> 00:11:46,800
<font color="#E5E5E5">the last one is</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> little bit more</font>

271
00:11:44,720 --> 00:11:49,350
<font color="#E5E5E5">complicated but also interesting</font><font color="#CCCCCC"> to look</font>

272
00:11:46,800 --> 00:11:51,359
<font color="#E5E5E5">at that is if we look at purely</font><font color="#CCCCCC"> the</font>

273
00:11:49,350 --> 00:11:55,050
traffic you get this this this daily

274
00:11:51,360 --> 00:11:58,260
cycle which<font color="#CCCCCC"> I've</font><font color="#E5E5E5"> just churned but the</font>

275
00:11:55,050 --> 00:12:00,329
question is if I do not look at the

276
00:11:58,260 --> 00:12:02,550
<font color="#E5E5E5">absolute amount of traffic</font><font color="#CCCCCC"> but just at</font>

277
00:12:00,330 --> 00:12:04,980
the<font color="#E5E5E5"> distribution of traffic so if I have</font>

278
00:12:02,550 --> 00:12:07,380
a router<font color="#E5E5E5"> and</font><font color="#CCCCCC"> has it sends</font><font color="#E5E5E5"> a hundred</font>

279
00:12:04,980 --> 00:12:09,060
megabytes<font color="#E5E5E5"> of traffic into</font><font color="#CCCCCC"> the network</font>

280
00:12:07,380 --> 00:12:10,530
<font color="#E5E5E5">I'm not interested in the hundred</font>

281
00:12:09,060 --> 00:12:12,839
megabits I'm interested<font color="#CCCCCC"> and how many</font>

282
00:12:10,530 --> 00:12:14,850
percent of the total<font color="#E5E5E5"> traffic this is so</font>

283
00:12:12,839 --> 00:12:16,950
a router which is<font color="#E5E5E5"> sending most of the</font>

284
00:12:14,850 --> 00:12:18,540
<font color="#E5E5E5">traffic in the</font><font color="#CCCCCC"> network</font><font color="#E5E5E5"> at midnight is</font>

285
00:12:16,950 --> 00:12:20,310
also the router which<font color="#CCCCCC"> is</font><font color="#E5E5E5"> sending most of</font>

286
00:12:18,540 --> 00:12:24,569
the traffic<font color="#E5E5E5"> in the</font><font color="#CCCCCC"> network at peak time</font>

287
00:12:20,310 --> 00:12:27,599
and on the Left graph you<font color="#CCCCCC"> see for the</font>

288
00:12:24,570 --> 00:12:29,190
<font color="#E5E5E5">largest four sources</font><font color="#CCCCCC"> in the network the</font>

289
00:12:27,600 --> 00:12:32,310
total amount of traffic<font color="#CCCCCC"> the very</font>

290
00:12:29,190 --> 00:12:33,750
well-known graphs<font color="#CCCCCC"> on the right you see</font>

291
00:12:32,310 --> 00:12:35,969
something which we call<font color="#E5E5E5"> the fan-out</font>

292
00:12:33,750 --> 00:12:38,250
<font color="#E5E5E5">which is the relative amount of traffic</font>

293
00:12:35,970 --> 00:12:40,710
<font color="#E5E5E5">it sends into the network and during the</font>

294
00:12:38,250 --> 00:12:43,790
daily cycle<font color="#E5E5E5"> that number seems to be</font>

295
00:12:40,710 --> 00:12:46,620
fairly<font color="#E5E5E5"> stable so a router which is</font>

296
00:12:43,790 --> 00:12:48,329
<font color="#E5E5E5">that's a large in the evening is also</font>

297
00:12:46,620 --> 00:12:52,860
over the large router<font color="#E5E5E5"> in the morning</font>

298
00:12:48,330 --> 00:12:58,290
this<font color="#E5E5E5"> can be a very</font><font color="#CCCCCC"> useful thing to make</font>

299
00:12:52,860 --> 00:13:00,410
make use of in planning purposes so then

300
00:12:58,290 --> 00:13:04,860
we come to<font color="#E5E5E5"> the collection of the data</font>

301
00:13:00,410 --> 00:13:09,560
itself<font color="#E5E5E5"> based on just practical</font>

302
00:13:04,860 --> 00:13:11,880
guidelines<font color="#CCCCCC"> I think most networks</font><font color="#E5E5E5"> run</font>

303
00:13:09,560 --> 00:13:14,250
queries through<font color="#CCCCCC"> the network</font><font color="#E5E5E5"> in</font><font color="#CCCCCC"> about 5</font>

304
00:13:11,880 --> 00:13:14,790
or<font color="#E5E5E5"> 15 minutes if you do less than</font><font color="#CCCCCC"> 5</font>

305
00:13:14,250 --> 00:13:16,529
minutes

306
00:13:14,790 --> 00:13:18,660
<font color="#E5E5E5">you might get into performance</font>

307
00:13:16,529 --> 00:13:20,699
<font color="#E5E5E5">issues with the amount of SNMP requests</font>

308
00:13:18,660 --> 00:13:22,560
you need to send to<font color="#E5E5E5"> the routers the</font>

309
00:13:20,699 --> 00:13:25,199
amount of data<font color="#E5E5E5"> you need to store if you</font>

310
00:13:22,560 --> 00:13:27,029
<font color="#CCCCCC">take longer in</font><font color="#E5E5E5"> 2050 minutes you actually</font>

311
00:13:25,199 --> 00:13:28,829
start losing granularity<font color="#E5E5E5"> because there</font>

312
00:13:27,029 --> 00:13:31,769
might have<font color="#E5E5E5"> been interesting things</font>

313
00:13:28,829 --> 00:13:34,620
<font color="#E5E5E5">within a 15 minute interval but you</font>

314
00:13:31,769 --> 00:13:37,019
measure for<font color="#CCCCCC"> all</font><font color="#E5E5E5"> the different methods</font><font color="#CCCCCC"> we</font>

315
00:13:34,620 --> 00:13:39,600
I will be<font color="#E5E5E5"> showing</font><font color="#CCCCCC"> later</font><font color="#E5E5E5"> are the</font><font color="#CCCCCC"> byte</font>

316
00:13:37,019 --> 00:13:41,459
counters so most<font color="#E5E5E5"> of the time you don't</font>

317
00:13:39,600 --> 00:13:44,189
get a rate<font color="#E5E5E5"> but you get the amount of</font>

318
00:13:41,459 --> 00:13:46,050
traffic<font color="#E5E5E5"> which has been sent over an</font>

319
00:13:44,189 --> 00:13:47,730
interface or sent<font color="#CCCCCC"> into a certain</font>

320
00:13:46,050 --> 00:13:50,069
accounting bucket so<font color="#E5E5E5"> you do this</font>

321
00:13:47,730 --> 00:13:51,360
multiple times<font color="#CCCCCC"> you subtract the traffic</font>

322
00:13:50,069 --> 00:13:54,660
and based on<font color="#E5E5E5"> the interval</font><font color="#CCCCCC"> you can</font>

323
00:13:51,360 --> 00:13:56,610
<font color="#CCCCCC">actually calculate</font><font color="#E5E5E5"> the rate I already</font>

324
00:13:54,660 --> 00:13:58,139
said a few<font color="#E5E5E5"> things</font><font color="#CCCCCC"> about</font><font color="#E5E5E5"> what kind of</font>

325
00:13:56,610 --> 00:14:02,970
traffic matrix you<font color="#CCCCCC"> can generate from</font>

326
00:13:58,139 --> 00:14:05,699
<font color="#E5E5E5">that so either a peak or an average over</font>

327
00:14:02,970 --> 00:14:08,610
<font color="#CCCCCC">an hour and in a lot of cases we've seen</font>

328
00:14:05,699 --> 00:14:10,439
<font color="#E5E5E5">just taking an hour at the time you know</font>

329
00:14:08,610 --> 00:14:13,850
the<font color="#E5E5E5"> network is going to peak works</font>

330
00:14:10,439 --> 00:14:16,370
perfectly well for for planning purposes

331
00:14:13,850 --> 00:14:18,620
<font color="#E5E5E5">so then we come finally to the</font>

332
00:14:16,370 --> 00:14:23,089
collection<font color="#E5E5E5"> of the traffic</font><font color="#CCCCCC"> metrics</font><font color="#E5E5E5"> itself</font>

333
00:14:18,620 --> 00:14:26,220
the<font color="#CCCCCC"> for IP networks the the four major</font>

334
00:14:23,089 --> 00:14:30,240
tech techniques I'm going to talk about

335
00:14:26,220 --> 00:14:32,309
<font color="#E5E5E5">our net flow then BGP policy counting</font>

336
00:14:30,240 --> 00:14:34,220
and<font color="#CCCCCC"> DCU which are kind of</font><font color="#E5E5E5"> the same thing</font>

337
00:14:32,309 --> 00:14:39,329
on the Cisco side and the<font color="#E5E5E5"> Juniper sides</font>

338
00:14:34,220 --> 00:14:40,800
then<font color="#E5E5E5"> the estimation MPLS actually of</font>

339
00:14:39,329 --> 00:14:47,099
<font color="#CCCCCC">course</font><font color="#E5E5E5"> isn't applied to do that B</font>

340
00:14:40,800 --> 00:14:51,089
networks so net flow<font color="#E5E5E5"> I think everybody</font>

341
00:14:47,100 --> 00:14:52,889
knows in some way because<font color="#E5E5E5"> it's it's used</font>

342
00:14:51,089 --> 00:14:54,990
to love and mentioned everywhere<font color="#CCCCCC"> I think</font>

343
00:14:52,889 --> 00:14:57,389
there's even<font color="#CCCCCC"> an another</font><font color="#E5E5E5"> tutorial on net</font>

344
00:14:54,990 --> 00:15:00,300
flow in the afternoon for security

345
00:14:57,389 --> 00:15:03,269
aspects and I'm not going to cover<font color="#E5E5E5"> net</font>

346
00:15:00,300 --> 00:15:05,699
flow<font color="#CCCCCC"> in to an extreme detail also</font>

347
00:15:03,269 --> 00:15:08,029
<font color="#E5E5E5">because it's such an white area there's</font>

348
00:15:05,699 --> 00:15:12,628
a lot<font color="#CCCCCC"> of lot of different flavors of</font>

349
00:15:08,029 --> 00:15:16,249
first again the definition<font color="#E5E5E5"> matter</font><font color="#CCCCCC"> a flow</font>

350
00:15:12,629 --> 00:15:19,079
in net flow terminology is defined by

351
00:15:16,249 --> 00:15:21,689
all the IP packets<font color="#E5E5E5"> that</font><font color="#CCCCCC"> have a common</font>

352
00:15:19,079 --> 00:15:24,628
source<font color="#E5E5E5"> a common destination</font><font color="#CCCCCC"> a source</font>

353
00:15:21,689 --> 00:15:28,949
port destination port protocol type type

354
00:15:24,629 --> 00:15:31,019
of service and the input interface so

355
00:15:28,950 --> 00:15:33,570
even traffic<font color="#E5E5E5"> between two hosts on the</font>

356
00:15:31,019 --> 00:15:37,019
network or on the<font color="#CCCCCC"> Internet</font><font color="#E5E5E5"> may generate</font>

357
00:15:33,570 --> 00:15:39,029
<font color="#CCCCCC">multiple flowers</font><font color="#E5E5E5"> so clearly it tells you</font>

358
00:15:37,019 --> 00:15:40,910
a lot of<font color="#CCCCCC"> detailed</font><font color="#E5E5E5"> information which can</font>

359
00:15:39,029 --> 00:15:44,459
<font color="#E5E5E5">be extremely</font><font color="#CCCCCC"> useful for</font><font color="#E5E5E5"> things like</font>

360
00:15:40,910 --> 00:15:46,529
<font color="#E5E5E5">security or denial of service attacks</font>

361
00:15:44,459 --> 00:15:49,439
etc<font color="#E5E5E5"> but for</font><font color="#CCCCCC"> just getting</font><font color="#E5E5E5"> a traffic</font>

362
00:15:46,529 --> 00:15:53,070
matrix<font color="#E5E5E5"> we really don't need this kind</font><font color="#CCCCCC"> of</font>

363
00:15:49,440 --> 00:15:56,040
detail the router<font color="#E5E5E5"> keeps track of these</font>

364
00:15:53,070 --> 00:15:58,050
flowers<font color="#CCCCCC"> and for every</font><font color="#E5E5E5"> entry it has</font>

365
00:15:56,040 --> 00:16:01,250
<font color="#E5E5E5">created so for every new flow it sees it</font>

366
00:15:58,050 --> 00:16:07,529
will keep a counter for the<font color="#CCCCCC"> bytes and</font>

367
00:16:01,250 --> 00:16:10,320
the packets<font color="#E5E5E5"> there are a lot of versions</font>

368
00:16:07,529 --> 00:16:12,510
out<font color="#CCCCCC"> there for generating</font><font color="#E5E5E5"> net flow</font>

369
00:16:10,320 --> 00:16:14,870
records the most common one and the most

370
00:16:12,510 --> 00:16:17,220
widely<font color="#E5E5E5"> deployed is version 5 which</font><font color="#CCCCCC"> is</font>

371
00:16:14,870 --> 00:16:19,139
basically exact what I exactly<font color="#CCCCCC"> what I</font>

372
00:16:17,220 --> 00:16:21,149
showed<font color="#CCCCCC"> on the previous slide the flow</font>

373
00:16:19,139 --> 00:16:23,490
records are exported in a very raw

374
00:16:21,149 --> 00:16:26,160
format to a collector and I will show an

375
00:16:23,490 --> 00:16:28,339
example<font color="#E5E5E5"> later then there is version 7</font>

376
00:16:26,160 --> 00:16:30,899
which<font color="#CCCCCC"> is specifically the switches</font>

377
00:16:28,339 --> 00:16:32,130
version<font color="#E5E5E5"> 8</font><font color="#CCCCCC"> and 9 are the</font><font color="#E5E5E5"> newer ones and</font>

378
00:16:30,899 --> 00:16:35,250
actually the more interesting ones

379
00:16:32,130 --> 00:16:35,970
because there you can<font color="#E5E5E5"> aggregate data on</font>

380
00:16:35,250 --> 00:16:37,560
the routers

381
00:16:35,970 --> 00:16:39,930
instead of sending all the data to a

382
00:16:37,560 --> 00:16:41,609
host somewhere far<font color="#CCCCCC"> away and then trying</font>

383
00:16:39,930 --> 00:16:43,500
to<font color="#E5E5E5"> do some correlation you can</font><font color="#CCCCCC"> actually</font>

384
00:16:41,610 --> 00:16:46,380
already filter out all the<font color="#CCCCCC"> useless</font>

385
00:16:43,500 --> 00:16:47,940
information<font color="#CCCCCC"> on the router itself</font><font color="#E5E5E5"> nice</font>

386
00:16:46,380 --> 00:16:50,279
thing about net flow is that<font color="#E5E5E5"> it's fairly</font>

387
00:16:47,940 --> 00:16:55,410
widely deployed on cisco juniper<font color="#E5E5E5"> and</font>

388
00:16:50,279 --> 00:16:56,880
various other browser vendors<font color="#E5E5E5"> so the</font>

389
00:16:55,410 --> 00:16:59,850
thing is<font color="#E5E5E5"> we need to get the flow records</font>

390
00:16:56,880 --> 00:17:02,970
<font color="#E5E5E5">from the flow cache on the router to</font>

391
00:16:59,850 --> 00:17:05,699
some kind kind<font color="#E5E5E5"> of collector the right</font>

392
00:17:02,970 --> 00:17:09,360
router decides on<font color="#E5E5E5"> when to export the</font>

393
00:17:05,699 --> 00:17:12,449
flow either<font color="#E5E5E5"> when it expires so in case</font>

394
00:17:09,359 --> 00:17:15,020
of<font color="#E5E5E5"> TCP when the session is closed</font><font color="#CCCCCC"> or in</font>

395
00:17:12,449 --> 00:17:17,699
the case<font color="#E5E5E5"> of UDP when a timer expires or</font>

396
00:17:15,020 --> 00:17:19,319
when does simply no room<font color="#CCCCCC"> anymore on the</font>

397
00:17:17,699 --> 00:17:22,350
router to store more information<font color="#CCCCCC"> and</font>

398
00:17:19,319 --> 00:17:25,379
<font color="#CCCCCC">will</font><font color="#E5E5E5"> export things or when it just times</font>

399
00:17:22,349 --> 00:17:28,590
out for any other reason<font color="#E5E5E5"> it will use UDP</font>

400
00:17:25,380 --> 00:17:31,470
<font color="#E5E5E5">to send it to a collector which is</font>

401
00:17:28,590 --> 00:17:34,530
unreliable<font color="#E5E5E5"> so if traffic is lost during</font>

402
00:17:31,470 --> 00:17:36,750
<font color="#E5E5E5">between the router and the collector</font>

403
00:17:34,530 --> 00:17:38,820
then it will not<font color="#E5E5E5"> be recovered</font><font color="#CCCCCC"> to reach</font>

404
00:17:36,750 --> 00:17:40,500
<font color="#CCCCCC">write or anything this</font><font color="#E5E5E5"> is a good thing</font>

405
00:17:38,820 --> 00:17:40,980
<font color="#CCCCCC">because if something goes wrong you</font>

406
00:17:40,500 --> 00:17:42,570
<font color="#E5E5E5">don't want</font>

407
00:17:40,980 --> 00:17:45,450
<font color="#CCCCCC">back up megabytes</font><font color="#E5E5E5"> of flow record</font>

408
00:17:42,570 --> 00:17:51,689
<font color="#E5E5E5">somewhere on the router to retry later</font>

409
00:17:45,450 --> 00:17:53,310
<font color="#CCCCCC">on so the way this works in a picture</font>

410
00:17:51,690 --> 00:17:56,010
from Cisco actually you have the net

411
00:17:53,310 --> 00:17:58,379
flow cache on the router<font color="#CCCCCC"> at some point</font>

412
00:17:56,010 --> 00:18:00,540
<font color="#E5E5E5">because</font><font color="#CCCCCC"> of one</font><font color="#E5E5E5"> of these reasons the flow</font>

413
00:17:58,380 --> 00:18:02,970
expires and<font color="#E5E5E5"> you</font><font color="#CCCCCC"> send the</font><font color="#E5E5E5"> two collector</font>

414
00:18:00,540 --> 00:18:04,790
which generally<font color="#CCCCCC"> is some kind of UNIX</font>

415
00:18:02,970 --> 00:18:08,400
machine collecting these flow records

416
00:18:04,790 --> 00:18:11,550
<font color="#E5E5E5">because the amount of data can</font><font color="#CCCCCC"> be fairly</font>

417
00:18:08,400 --> 00:18:12,690
<font color="#E5E5E5">large</font><font color="#CCCCCC"> I think in the</font><font color="#E5E5E5"> packet</font><font color="#CCCCCC"> design</font>

418
00:18:11,550 --> 00:18:15,840
presentation<font color="#E5E5E5"> they mentioned something</font>

419
00:18:12,690 --> 00:18:18,870
<font color="#CCCCCC">like 1% of the link bandwidth you're</font>

420
00:18:15,840 --> 00:18:21,419
you're measuring the<font color="#E5E5E5"> you're enabling net</font>

421
00:18:18,870 --> 00:18:23,600
flow on is actually<font color="#E5E5E5"> required to send the</font>

422
00:18:21,420 --> 00:18:26,730
net flow records to a collector<font color="#E5E5E5"> and</font>

423
00:18:23,600 --> 00:18:29,100
that's that that's<font color="#E5E5E5"> quite a bit of data</font>

424
00:18:26,730 --> 00:18:31,290
<font color="#E5E5E5">if you look at gigabit or 10 gigabit</font>

425
00:18:29,100 --> 00:18:33,030
links and not<font color="#CCCCCC"> only to sent</font><font color="#E5E5E5"> of your</font>

426
00:18:31,290 --> 00:18:35,670
network<font color="#CCCCCC"> but also</font><font color="#E5E5E5"> the process of store it</font>

427
00:18:33,030 --> 00:18:37,440
so a lot of deployments<font color="#CCCCCC"> I've seen for</font>

428
00:18:35,670 --> 00:18:39,510
net flow collectors have no collectors

429
00:18:37,440 --> 00:18:46,770
at different locations<font color="#E5E5E5"> just</font><font color="#CCCCCC"> to keep</font>

430
00:18:39,510 --> 00:18:48,060
things<font color="#E5E5E5"> scalable but the main problem</font>

431
00:18:46,770 --> 00:18:50,010
<font color="#CCCCCC">with net flow for the purpose of</font>

432
00:18:48,060 --> 00:18:52,590
<font color="#E5E5E5">generating a traffic matrix is that you</font>

433
00:18:50,010 --> 00:18:58,350
need<font color="#E5E5E5"> to convert those flow records to</font>

434
00:18:52,590 --> 00:19:01,740
something we can use as I showed on the

435
00:18:58,350 --> 00:19:03,780
first slide<font color="#E5E5E5"> the flow record actually has</font>

436
00:19:01,740 --> 00:19:06,510
a source address<font color="#CCCCCC"> short IP address and</font><font color="#E5E5E5"> a</font>

437
00:19:03,780 --> 00:19:09,090
source destination<font color="#E5E5E5"> and a destination</font><font color="#CCCCCC"> IP</font>

438
00:19:06,510 --> 00:19:11,250
address<font color="#E5E5E5"> but that's really not what we're</font>

439
00:19:09,090 --> 00:19:13,860
<font color="#CCCCCC">interested in because in most isp cases</font>

440
00:19:11,250 --> 00:19:16,050
<font color="#E5E5E5">both the source</font><font color="#CCCCCC"> and the destination</font><font color="#E5E5E5"> or</font>

441
00:19:13,860 --> 00:19:17,580
at least either<font color="#E5E5E5"> one of them is not on</font>

442
00:19:16,050 --> 00:19:19,409
your network<font color="#CCCCCC"> so what we want</font><font color="#E5E5E5"> to know is</font>

443
00:19:17,580 --> 00:19:21,810
where<font color="#E5E5E5"> did the traffic come into the</font>

444
00:19:19,410 --> 00:19:25,740
network<font color="#CCCCCC"> and where did the traffic leave</font>

445
00:19:21,810 --> 00:19:28,429
the network<font color="#E5E5E5"> so to start we enable net</font>

446
00:19:25,740 --> 00:19:31,950
flow on all the external interfaces on

447
00:19:28,430 --> 00:19:34,350
facing<font color="#CCCCCC"> outside of our network</font><font color="#E5E5E5"> or from</font>

448
00:19:31,950 --> 00:19:36,930
the<font color="#E5E5E5"> access</font><font color="#CCCCCC"> route</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> the core</font><font color="#E5E5E5"> so at that</font>

449
00:19:34,350 --> 00:19:40,919
<font color="#E5E5E5">point we already know where the traffic</font>

450
00:19:36,930 --> 00:19:43,350
<font color="#E5E5E5">came into the network based on the place</font>

451
00:19:40,920 --> 00:19:45,600
where<font color="#E5E5E5"> the net flow record was generated</font>

452
00:19:43,350 --> 00:19:50,439
<font color="#E5E5E5">so I know the incoming interface or</font><font color="#CCCCCC"> the</font>

453
00:19:45,600 --> 00:19:53,679
incoming router then

454
00:19:50,440 --> 00:19:55,990
if I export<font color="#E5E5E5"> it to my collector</font><font color="#CCCCCC"> I also</font>

455
00:19:53,680 --> 00:19:57,930
need to<font color="#E5E5E5"> figure</font><font color="#CCCCCC"> out</font><font color="#E5E5E5"> okay where is this</font>

456
00:19:55,990 --> 00:20:01,170
traffic<font color="#CCCCCC"> going</font><font color="#E5E5E5"> into the network so I need</font>

457
00:19:57,930 --> 00:20:05,740
routing data or some kind of information

458
00:20:01,170 --> 00:20:07,480
<font color="#CCCCCC">either</font><font color="#E5E5E5"> from a static</font><font color="#CCCCCC"> list so if if</font>

459
00:20:05,740 --> 00:20:08,890
traffic<font color="#E5E5E5"> is going to</font><font color="#CCCCCC"> a set of customers</font>

460
00:20:07,480 --> 00:20:10,690
you know what the<font color="#E5E5E5"> address space is you</font>

461
00:20:08,890 --> 00:20:12,640
could generate the<font color="#E5E5E5"> list which says this</font>

462
00:20:10,690 --> 00:20:15,700
<font color="#E5E5E5">address goes out</font><font color="#CCCCCC"> of the network at that</font>

463
00:20:12,640 --> 00:20:18,580
location<font color="#E5E5E5"> very inconvenient and not very</font>

464
00:20:15,700 --> 00:20:20,710
scalable of course<font color="#E5E5E5"> so I think most</font>

465
00:20:18,580 --> 00:20:23,320
networks will do such with<font color="#E5E5E5"> either</font>

466
00:20:20,710 --> 00:20:26,710
communities in<font color="#CCCCCC"> bgp or looking</font><font color="#E5E5E5"> at the BGP</font>

467
00:20:23,320 --> 00:20:30,639
<font color="#CCCCCC">beach pas</font><font color="#E5E5E5"> so in the net flow record you</font>

468
00:20:26,710 --> 00:20:31,990
can export the a s number where the

469
00:20:30,640 --> 00:20:34,690
traffic is<font color="#CCCCCC"> going to</font><font color="#E5E5E5"> leave your network</font>

470
00:20:31,990 --> 00:20:39,870
and that will tell you where it's<font color="#CCCCCC"> going</font>

471
00:20:34,690 --> 00:20:42,730
to have the<font color="#E5E5E5"> equals point in your network</font>

472
00:20:39,870 --> 00:20:47,909
so this<font color="#E5E5E5"> isn't this is not a simple thing</font>

473
00:20:42,730 --> 00:20:50,350
<font color="#CCCCCC">to do and there</font><font color="#E5E5E5"> are commercial products</font>

474
00:20:47,910 --> 00:20:52,840
<font color="#E5E5E5">performing this task for you and often</font>

475
00:20:50,350 --> 00:20:55,870
<font color="#E5E5E5">they already do other things with net</font>

476
00:20:52,840 --> 00:20:57,730
<font color="#E5E5E5">flow like security or details things</font>

477
00:20:55,870 --> 00:20:59,560
<font color="#E5E5E5">like that and this comes on as an add-on</font>

478
00:20:57,730 --> 00:21:04,150
<font color="#E5E5E5">they can also give you the traffic</font>

479
00:20:59,560 --> 00:21:07,690
<font color="#E5E5E5">metrics so instead of having the router</font>

480
00:21:04,150 --> 00:21:10,530
in<font color="#CCCCCC"> real-time do</font><font color="#E5E5E5"> lookups for every flow</font>

481
00:21:07,690 --> 00:21:13,740
on what it should export for the a s

482
00:21:10,530 --> 00:21:16,510
<font color="#E5E5E5">it's a better approach</font><font color="#CCCCCC"> to actually run a</font>

483
00:21:13,740 --> 00:21:18,430
BGP passive beer on the collector itself

484
00:21:16,510 --> 00:21:20,590
<font color="#E5E5E5">so there is a</font><font color="#CCCCCC"> BGP session between the</font>

485
00:21:18,430 --> 00:21:23,140
collector and<font color="#E5E5E5"> one or more routers in the</font>

486
00:21:20,590 --> 00:21:26,340
network<font color="#E5E5E5"> and the collector actually has a</font>

487
00:21:23,140 --> 00:21:30,100
full BGP<font color="#E5E5E5"> table so the router will just</font>

488
00:21:26,340 --> 00:21:32,649
export the<font color="#E5E5E5"> raw</font><font color="#CCCCCC"> records and the collector</font>

489
00:21:30,100 --> 00:21:34,689
will do the lookup in the BGP table<font color="#E5E5E5"> this</font>

490
00:21:32,650 --> 00:21:36,190
also<font color="#CCCCCC"> connects to the packet design</font>

491
00:21:34,690 --> 00:21:38,140
presentation<font color="#E5E5E5"> where they should have</font>

492
00:21:36,190 --> 00:21:40,270
shown that you<font color="#CCCCCC"> can at that</font><font color="#E5E5E5"> moment also</font>

493
00:21:38,140 --> 00:21:42,790
use much more information<font color="#E5E5E5"> than</font><font color="#CCCCCC"> just</font>

494
00:21:40,270 --> 00:21:45,100
there's the destination a s or a

495
00:21:42,790 --> 00:21:48,670
neighbor a s you can look one step

496
00:21:45,100 --> 00:21:50,679
deeper and see<font color="#E5E5E5"> next to your show behind</font>

497
00:21:48,670 --> 00:21:53,410
<font color="#E5E5E5">your peers what are the interesting</font>

498
00:21:50,680 --> 00:21:57,640
networks do to look at so they they

499
00:21:53,410 --> 00:21:58,810
<font color="#CCCCCC">propose the same approach here so it's</font>

500
00:21:57,640 --> 00:22:00,830
better for<font color="#CCCCCC"> the routers because</font><font color="#E5E5E5"> the</font>

501
00:21:58,810 --> 00:22:03,440
router doesn't do have to do the

502
00:22:00,830 --> 00:22:06,800
the beach<font color="#CCCCCC"> P look up and</font><font color="#E5E5E5"> there yes look</font>

503
00:22:03,440 --> 00:22:08,420
up and it tells you much more<font color="#E5E5E5"> I can</font>

504
00:22:06,800 --> 00:22:10,210
potentially tell you much<font color="#CCCCCC"> more on what's</font>

505
00:22:08,420 --> 00:22:12,650
going on

506
00:22:10,210 --> 00:22:14,750
there's another very tricky<font color="#CCCCCC"> thing to</font>

507
00:22:12,650 --> 00:22:18,950
<font color="#E5E5E5">keep in mind when</font><font color="#CCCCCC"> looking at these flow</font>

508
00:22:14,750 --> 00:22:21,320
records<font color="#E5E5E5"> if we have here a set up and in</font>

509
00:22:18,950 --> 00:22:25,190
this<font color="#E5E5E5"> case we are a s3 and we're</font>

510
00:22:21,320 --> 00:22:27,800
exporting<font color="#E5E5E5"> flow records from the router</font>

511
00:22:25,190 --> 00:22:31,820
<font color="#CCCCCC">down a</font><font color="#E5E5E5"> s3 and we're looking at</font><font color="#CCCCCC"> traffic</font>

512
00:22:27,800 --> 00:22:35,810
from<font color="#E5E5E5"> a</font><font color="#CCCCCC"> s12 a s4 the path based on on</font>

513
00:22:31,820 --> 00:22:42,860
<font color="#E5E5E5">beach be set up is a s1 s2 s3 and then</font><font color="#CCCCCC"> 2</font>

514
00:22:35,810 --> 00:22:45,230
a is<font color="#E5E5E5"> 4 so if I export my flow records it</font>

515
00:22:42,860 --> 00:22:49,790
says destination<font color="#CCCCCC"> is a is 4 which is</font>

516
00:22:45,230 --> 00:22:51,560
<font color="#E5E5E5">correct</font><font color="#CCCCCC"> and it says the source is is</font><font color="#E5E5E5"> x1</font>

517
00:22:49,790 --> 00:22:54,139
which<font color="#CCCCCC"> is</font><font color="#E5E5E5"> also correct because both we</font>

518
00:22:51,560 --> 00:22:58,159
know<font color="#E5E5E5"> from who is advertising that IP</font>

519
00:22:54,140 --> 00:22:59,360
address<font color="#CCCCCC"> but</font><font color="#E5E5E5"> if we at the same time look</font>

520
00:22:58,160 --> 00:23:01,280
at how the routing in the reverse

521
00:22:59,360 --> 00:23:03,830
direction works<font color="#E5E5E5"> so we have traffic</font>

522
00:23:01,280 --> 00:23:06,620
<font color="#E5E5E5">supposedly traffic from a s4 to a at</font><font color="#CCCCCC"> 1</font>

523
00:23:03,830 --> 00:23:08,659
you will<font color="#E5E5E5"> see that and this is just an</font>

524
00:23:06,620 --> 00:23:12,379
example where the policy is such that it

525
00:23:08,660 --> 00:23:16,070
<font color="#CCCCCC">will actually be a s for a s3 a s5 to a</font>

526
00:23:12,380 --> 00:23:20,300
<font color="#CCCCCC">h1</font><font color="#E5E5E5"> so there's an isometric path now if</font>

527
00:23:16,070 --> 00:23:22,520
we ask the router to export the peering

528
00:23:20,300 --> 00:23:24,110
s so to tell<font color="#E5E5E5"> you actually whether she</font>

529
00:23:22,520 --> 00:23:25,970
which is your neighbor<font color="#E5E5E5"> which is sending</font>

530
00:23:24,110 --> 00:23:28,490
you the traffic<font color="#CCCCCC"> it will tell you what's</font>

531
00:23:25,970 --> 00:23:29,750
a is 5 because<font color="#CCCCCC"> that</font><font color="#E5E5E5"> what that</font><font color="#CCCCCC"> is what</font><font color="#E5E5E5"> it</font>

532
00:23:28,490 --> 00:23:32,090
sees in this network

533
00:23:29,750 --> 00:23:35,030
it looks up the prefix in<font color="#CCCCCC"> a</font><font color="#E5E5E5"> h1 and it</font>

534
00:23:32,090 --> 00:23:37,189
sees well I'm using a<font color="#CCCCCC"> s5 to get there so</font>

535
00:23:35,030 --> 00:23:38,660
it<font color="#CCCCCC"> probably also came from a is fine</font><font color="#E5E5E5"> but</font>

536
00:23:37,190 --> 00:23:41,960
<font color="#CCCCCC">in</font><font color="#E5E5E5"> the case of astrometric routing that</font>

537
00:23:38,660 --> 00:23:44,240
definitely is not<font color="#E5E5E5"> the case</font><font color="#CCCCCC"> so just</font>

538
00:23:41,960 --> 00:23:46,010
looking at these flow records and then

539
00:23:44,240 --> 00:23:48,050
deducting what your neighbor answers are

540
00:23:46,010 --> 00:23:50,090
can be<font color="#E5E5E5"> tricky you really need to look at</font>

541
00:23:48,050 --> 00:23:52,450
where at which router<font color="#E5E5E5"> it came into your</font>

542
00:23:50,090 --> 00:23:52,449
<font color="#E5E5E5">network</font>

543
00:23:53,920 --> 00:24:01,750
<font color="#E5E5E5">then the newer versions of</font><font color="#CCCCCC"> NetFlow have</font>

544
00:23:58,080 --> 00:24:04,350
<font color="#E5E5E5">big advantages over but I've been just</font>

545
00:24:01,750 --> 00:24:07,420
<font color="#E5E5E5">explaining because they can actually</font>

546
00:24:04,350 --> 00:24:09,669
perform aggregation<font color="#E5E5E5"> within the router so</font>

547
00:24:07,420 --> 00:24:13,780
<font color="#CCCCCC">instead of exporting</font><font color="#E5E5E5"> every flow record</font>

548
00:24:09,670 --> 00:24:16,060
you can say<font color="#E5E5E5"> in the router itself</font><font color="#CCCCCC"> assume</font>

549
00:24:13,780 --> 00:24:18,040
all the flow records<font color="#E5E5E5"> up which have</font>

550
00:24:16,060 --> 00:24:19,480
traffic<font color="#E5E5E5"> to a certain prefix or all the</font>

551
00:24:18,040 --> 00:24:23,950
flow records which have traffic<font color="#CCCCCC"> to a</font>

552
00:24:19,480 --> 00:24:26,470
certain<font color="#E5E5E5"> a s that immensely reduces the</font>

553
00:24:23,950 --> 00:24:29,620
amount of data you<font color="#CCCCCC"> need to</font><font color="#E5E5E5"> send from the</font>

554
00:24:26,470 --> 00:24:31,600
<font color="#E5E5E5">router to</font><font color="#CCCCCC"> the flow collectors so we're</font>

555
00:24:29,620 --> 00:24:33,790
with version<font color="#E5E5E5"> 5 you probably on a large</font>

556
00:24:31,600 --> 00:24:35,590
network need multiple collectors<font color="#CCCCCC"> you</font>

557
00:24:33,790 --> 00:24:39,670
here could<font color="#E5E5E5"> easily do with one because</font>

558
00:24:35,590 --> 00:24:42,250
<font color="#E5E5E5">it's it's much less performance issue of</font>

559
00:24:39,670 --> 00:24:43,840
processing it on the router itself

560
00:24:42,250 --> 00:24:46,690
<font color="#E5E5E5">there's not a whole</font><font color="#CCCCCC"> lot of difference</font>

561
00:24:43,840 --> 00:24:49,090
<font color="#E5E5E5">because it's still using the version 5</font>

562
00:24:46,690 --> 00:24:51,880
cache<font color="#CCCCCC"> it's just an add-on which actually</font>

563
00:24:49,090 --> 00:24:54,189
does the aggregation<font color="#E5E5E5"> there are multiple</font>

564
00:24:51,880 --> 00:24:57,100
<font color="#E5E5E5">of those aggregation schemes</font><font color="#CCCCCC"> either</font><font color="#E5E5E5"> for</font>

565
00:24:54,190 --> 00:25:02,560
protocol per aspera destination address

566
00:24:57,100 --> 00:25:05,230
etc<font color="#CCCCCC"> whatever you think is</font><font color="#E5E5E5"> relevant</font><font color="#CCCCCC"> so</font>

567
00:25:02,560 --> 00:25:08,100
again the<font color="#E5E5E5"> same picture the cache</font><font color="#CCCCCC"> as I</font>

568
00:25:05,230 --> 00:25:11,260
said is<font color="#E5E5E5"> still there but the flow is not</font>

569
00:25:08,100 --> 00:25:13,570
<font color="#E5E5E5">exported directly but it's using an</font>

570
00:25:11,260 --> 00:25:15,610
aggregation scheme these aggregation

571
00:25:13,570 --> 00:25:18,460
schemes are exported in a certain format

572
00:25:15,610 --> 00:25:21,669
to the<font color="#E5E5E5"> flow collector multiple at a time</font>

573
00:25:18,460 --> 00:25:28,240
if<font color="#E5E5E5"> you want to and also at a certain</font>

574
00:25:21,670 --> 00:25:30,880
interval there's also a new aggregation

575
00:25:28,240 --> 00:25:32,920
scheme which I've been<font color="#CCCCCC"> using myself in</font><font color="#E5E5E5"> a</font>

576
00:25:30,880 --> 00:25:35,770
few deployments<font color="#E5E5E5"> lately it which is the</font>

577
00:25:32,920 --> 00:25:40,660
<font color="#E5E5E5">BGP</font><font color="#CCCCCC"> next top aggregation this is really</font>

578
00:25:35,770 --> 00:25:43,270
easy<font color="#CCCCCC"> because it will tell you</font><font color="#E5E5E5"> for</font>

579
00:25:40,660 --> 00:25:44,770
traffic<font color="#E5E5E5"> on</font><font color="#CCCCCC"> a certain</font><font color="#E5E5E5"> router not the</font>

580
00:25:43,270 --> 00:25:46,810
<font color="#CCCCCC">destination where it's going but it</font><font color="#E5E5E5"> will</font>

581
00:25:44,770 --> 00:25:49,810
tell you which<font color="#CCCCCC"> is</font><font color="#E5E5E5"> the next hop in the</font>

582
00:25:46,810 --> 00:25:52,840
beach P table normally<font color="#E5E5E5"> that is your</font>

583
00:25:49,810 --> 00:25:55,149
<font color="#CCCCCC">equals rather</font><font color="#E5E5E5"> on the network because BGP</font>

584
00:25:52,840 --> 00:25:56,889
will have a next<font color="#E5E5E5"> hope which is an IP</font>

585
00:25:55,150 --> 00:25:58,480
address<font color="#E5E5E5"> which is around</font><font color="#CCCCCC"> or somewhere</font>

586
00:25:56,890 --> 00:26:01,600
<font color="#E5E5E5">else in your network where it has</font>

587
00:25:58,480 --> 00:26:04,450
received the route to words where<font color="#E5E5E5"> your</font>

588
00:26:01,600 --> 00:26:07,000
your<font color="#E5E5E5"> traffic is going so this brings you</font>

589
00:26:04,450 --> 00:26:07,510
very close to directly getting<font color="#E5E5E5"> your</font>

590
00:26:07,000 --> 00:26:09,100
<font color="#CCCCCC">traffic</font><font color="#E5E5E5"> map</font>

591
00:26:07,510 --> 00:26:12,220
<font color="#E5E5E5">tricks because you're at some</font><font color="#CCCCCC"> access</font>

592
00:26:09,100 --> 00:26:14,409
router<font color="#E5E5E5"> aggregating customers you</font>

593
00:26:12,220 --> 00:26:16,720
aggregate<font color="#E5E5E5"> on</font><font color="#CCCCCC"> PHP</font><font color="#E5E5E5"> next stop and you</font>

594
00:26:14,410 --> 00:26:19,660
exactly<font color="#CCCCCC"> know from that router I have</font>

595
00:26:16,720 --> 00:26:23,110
traffic<font color="#E5E5E5"> to these BGP next</font><font color="#CCCCCC"> hops</font><font color="#E5E5E5"> which are</font>

596
00:26:19,660 --> 00:26:24,820
<font color="#CCCCCC">your egress routers the</font><font color="#E5E5E5"> only issue you</font>

597
00:26:23,110 --> 00:26:26,979
still have is that it doesn't<font color="#CCCCCC"> work for a</font>

598
00:26:24,820 --> 00:26:29,889
GP based traffic so if your destination

599
00:26:26,980 --> 00:26:31,690
<font color="#E5E5E5">isn't a GP maybe a server farm or</font>

600
00:26:29,890 --> 00:26:33,370
something<font color="#E5E5E5"> internally in</font><font color="#CCCCCC"> your network</font><font color="#E5E5E5"> it</font>

601
00:26:31,690 --> 00:26:39,370
<font color="#E5E5E5">will actually give give</font><font color="#CCCCCC"> all kinds</font><font color="#E5E5E5"> of</font>

602
00:26:33,370 --> 00:26:42,429
<font color="#E5E5E5">zeros as a next</font><font color="#CCCCCC"> hop so here you see</font>

603
00:26:39,370 --> 00:26:43,929
<font color="#E5E5E5">where you would enable the net flow on</font>

604
00:26:42,430 --> 00:26:46,960
the interface which<font color="#E5E5E5"> is</font><font color="#CCCCCC"> on all your</font>

605
00:26:43,930 --> 00:26:49,420
external<font color="#E5E5E5"> facing interfaces and then it</font>

606
00:26:46,960 --> 00:26:51,370
will tell you<font color="#CCCCCC"> nicely for well if</font><font color="#E5E5E5"> you</font>

607
00:26:49,420 --> 00:26:53,350
look at the AR on the left it will<font color="#E5E5E5"> tell</font>

608
00:26:51,370 --> 00:26:56,139
you which<font color="#E5E5E5"> AR on the right</font>

609
00:26:53,350 --> 00:26:58,510
the traffic is leaving the network<font color="#CCCCCC"> this</font>

610
00:26:56,140 --> 00:27:01,240
<font color="#E5E5E5">you can do with the version 8 inside the</font>

611
00:26:58,510 --> 00:27:03,160
<font color="#E5E5E5">router but some of the flow collectors</font>

612
00:27:01,240 --> 00:27:05,610
<font color="#E5E5E5">and I know the one</font><font color="#CCCCCC"> from Cisco for</font>

613
00:27:03,160 --> 00:27:09,790
example can also do this on version<font color="#E5E5E5"> 5</font>

614
00:27:05,610 --> 00:27:12,699
information then there is<font color="#E5E5E5"> something</font>

615
00:27:09,790 --> 00:27:15,399
<font color="#CCCCCC">called MPLS awareness flow which gives</font>

616
00:27:12,700 --> 00:27:18,100
you<font color="#E5E5E5"> some</font><font color="#CCCCCC"> more information</font><font color="#E5E5E5"> than just</font>

617
00:27:15,400 --> 00:27:18,700
based on<font color="#E5E5E5"> the IP header in the case of</font>

618
00:27:18,100 --> 00:27:20,949
MPLS

619
00:27:18,700 --> 00:27:22,630
like with<font color="#CCCCCC"> LDP</font><font color="#E5E5E5"> you know the facts so you</font>

620
00:27:20,950 --> 00:27:27,310
<font color="#CCCCCC">know actually know where the traffic is</font>

621
00:27:22,630 --> 00:27:31,320
exiting as well<font color="#CCCCCC"> I think in most cases</font>

622
00:27:27,310 --> 00:27:34,780
where where you have an MPLS deployment

623
00:27:31,320 --> 00:27:36,669
the<font color="#E5E5E5"> BGP next</font><font color="#CCCCCC"> hope will also work and</font>

624
00:27:34,780 --> 00:27:41,590
maybe<font color="#CCCCCC"> even give you easier results</font>

625
00:27:36,670 --> 00:27:43,210
because if the MPLS is<font color="#E5E5E5"> used for VPNs the</font>

626
00:27:41,590 --> 00:27:46,030
<font color="#E5E5E5">BGP next</font><font color="#CCCCCC"> stop will perfectly work</font>

627
00:27:43,210 --> 00:27:50,140
<font color="#E5E5E5">because it's all based on on beach B so</font>

628
00:27:46,030 --> 00:27:53,820
I have not<font color="#E5E5E5"> myself seen a useful</font>

629
00:27:50,140 --> 00:27:55,810
deployment of<font color="#E5E5E5"> this feature anywhere yet</font>

630
00:27:53,820 --> 00:27:57,879
so as I said this<font color="#CCCCCC"> this</font><font color="#E5E5E5"> is</font><font color="#CCCCCC"> really a</font>

631
00:27:55,810 --> 00:27:59,800
<font color="#E5E5E5">high-level overview if I would go into</font>

632
00:27:57,880 --> 00:28:03,670
the details<font color="#CCCCCC"> here it would be a complete</font>

633
00:27:59,800 --> 00:28:06,340
separate tutorial<font color="#CCCCCC"> but there is a lot you</font>

634
00:28:03,670 --> 00:28:08,800
<font color="#CCCCCC">can do with net flow</font><font color="#E5E5E5"> especially if you</font>

635
00:28:06,340 --> 00:28:11,669
already have it running<font color="#E5E5E5"> for some kind of</font>

636
00:28:08,800 --> 00:28:14,860
other reason like<font color="#CCCCCC"> flag security analysis</font>

637
00:28:11,670 --> 00:28:17,620
<font color="#CCCCCC">it's not so</font><font color="#E5E5E5"> simple to generate the</font>

638
00:28:14,860 --> 00:28:20,379
traffic matrix<font color="#E5E5E5"> from it because well</font><font color="#CCCCCC"> you</font>

639
00:28:17,620 --> 00:28:22,120
<font color="#CCCCCC">need your ingress egress you have to</font>

640
00:28:20,380 --> 00:28:24,160
<font color="#CCCCCC">choose with which is your neighbor a</font><font color="#E5E5E5"> s</font>

641
00:28:22,120 --> 00:28:27,419
<font color="#CCCCCC">sorry which should be</font><font color="#E5E5E5"> areas versus the</font>

642
00:28:24,160 --> 00:28:30,130
<font color="#CCCCCC">original a s</font><font color="#E5E5E5"> and it's fairly CPU</font>

643
00:28:27,420 --> 00:28:32,620
intensive on the<font color="#E5E5E5"> routers of course you</font>

644
00:28:30,130 --> 00:28:34,030
can do<font color="#E5E5E5"> sampling to get less processing</font>

645
00:28:32,620 --> 00:28:38,379
<font color="#E5E5E5">but then you have all</font><font color="#CCCCCC"> kind of issues</font>

646
00:28:34,030 --> 00:28:40,660
<font color="#CCCCCC">from how accurate the sampling is also</font>

647
00:28:38,380 --> 00:28:42,730
there are so many different types of

648
00:28:40,660 --> 00:28:43,900
routers and types of software versions

649
00:28:42,730 --> 00:28:45,550
out there that I really don't<font color="#E5E5E5"> want to</font>

650
00:28:43,900 --> 00:28:47,890
<font color="#E5E5E5">keep track</font><font color="#CCCCCC"> of exactly what's implemented</font>

651
00:28:45,550 --> 00:28:51,639
where there is a very<font color="#CCCCCC"> nice</font><font color="#E5E5E5"> webpage from</font>

652
00:28:47,890 --> 00:28:53,530
<font color="#E5E5E5">venom our class where he has links to</font>

653
00:28:51,640 --> 00:28:55,420
<font color="#E5E5E5">presentations with much more detail</font>

654
00:28:53,530 --> 00:28:59,110
<font color="#CCCCCC">about all</font><font color="#E5E5E5"> these different</font><font color="#CCCCCC"> types</font><font color="#E5E5E5"> of</font>

655
00:28:55,420 --> 00:29:01,240
<font color="#CCCCCC">NetFlow that I have here also there are</font>

656
00:28:59,110 --> 00:29:03,250
multiple commercial tools available

657
00:29:01,240 --> 00:29:05,890
which will<font color="#E5E5E5"> do all of these</font><font color="#CCCCCC"> things I've</font>

658
00:29:03,250 --> 00:29:08,320
<font color="#CCCCCC">shown here</font><font color="#E5E5E5"> arbors I think a</font><font color="#CCCCCC"> very</font>

659
00:29:05,890 --> 00:29:12,960
<font color="#CCCCCC">well-known one</font><font color="#E5E5E5"> I've seen at Lex which</font>

660
00:29:08,320 --> 00:29:18,250
can do<font color="#E5E5E5"> the</font><font color="#CCCCCC"> setup with the passive</font><font color="#E5E5E5"> BGP</font>

661
00:29:12,960 --> 00:29:21,160
connection for example in my<font color="#E5E5E5"> own</font>

662
00:29:18,250 --> 00:29:22,990
experience<font color="#CCCCCC"> also</font><font color="#E5E5E5"> even if you have picked</font>

663
00:29:21,160 --> 00:29:26,200
a<font color="#E5E5E5"> nice aggregation scheme and have all</font>

664
00:29:22,990 --> 00:29:29,110
figured out how to<font color="#E5E5E5"> deploy</font><font color="#CCCCCC"> it</font><font color="#E5E5E5"> you almost</font>

665
00:29:26,200 --> 00:29:30,700
<font color="#E5E5E5">always run into some kind of issue</font>

666
00:29:29,110 --> 00:29:32,050
because there's one router which doesn't

667
00:29:30,700 --> 00:29:33,550
<font color="#CCCCCC">support it</font><font color="#E5E5E5"> which is a different version</font>

668
00:29:32,050 --> 00:29:36,100
<font color="#E5E5E5">or different hardware or different</font>

669
00:29:33,550 --> 00:29:38,080
<font color="#E5E5E5">vendor at least in my</font><font color="#CCCCCC"> experience it's</font>

670
00:29:36,100 --> 00:29:40,770
very<font color="#E5E5E5"> hard to get</font><font color="#CCCCCC"> this network</font><font color="#E5E5E5"> wide</font>

671
00:29:38,080 --> 00:29:40,770
running

672
00:29:44,820 --> 00:29:50,590
next one is which<font color="#CCCCCC"> be policy accounting</font>

673
00:29:48,510 --> 00:29:53,110
which I personally<font color="#E5E5E5"> think is a very</font>

674
00:29:50,590 --> 00:29:56,639
simple and nice mechanism<font color="#CCCCCC"> to get a very</font>

675
00:29:53,110 --> 00:29:59,639
useful<font color="#CCCCCC"> data</font><font color="#E5E5E5"> what it basically does is</font>

676
00:29:56,640 --> 00:30:02,290
you have a certain<font color="#CCCCCC"> amount</font><font color="#E5E5E5"> of counters</font>

677
00:29:59,640 --> 00:30:06,610
<font color="#CCCCCC">buckets where you can count traffic in</font>

678
00:30:02,290 --> 00:30:10,059
and you can assign<font color="#CCCCCC"> them to</font><font color="#E5E5E5"> access lists</font>

679
00:30:06,610 --> 00:30:13,360
which use BGP<font color="#E5E5E5"> so you can either match it</font>

680
00:30:10,059 --> 00:30:16,300
on neighbor<font color="#CCCCCC"> guesses</font><font color="#E5E5E5"> or or things</font><font color="#CCCCCC"> in</font><font color="#E5E5E5"> the</font>

681
00:30:13,360 --> 00:30:19,659
<font color="#CCCCCC">S path you can base it on communities</font>

682
00:30:16,300 --> 00:30:21,610
<font color="#E5E5E5">which might be</font><font color="#CCCCCC"> the easiest one so for</font>

683
00:30:19,660 --> 00:30:24,250
example on all your peers you give every

684
00:30:21,610 --> 00:30:26,320
peer and specific community number and

685
00:30:24,250 --> 00:30:28,929
then you make<font color="#E5E5E5"> in all the routers</font><font color="#CCCCCC"> an</font>

686
00:30:26,320 --> 00:30:31,120
access<font color="#E5E5E5"> list which says bucket number one</font>

687
00:30:28,929 --> 00:30:33,690
is peer one because number two is peer<font color="#CCCCCC"> -</font>

688
00:30:31,120 --> 00:30:37,389
and you keep track<font color="#E5E5E5"> of which one</font><font color="#CCCCCC"> is which</font>

689
00:30:33,690 --> 00:30:39,040
<font color="#CCCCCC">given the beach</font><font color="#E5E5E5"> B policy accounting and</font>

690
00:30:37,390 --> 00:30:41,500
for all the traffic<font color="#CCCCCC"> towards any of these</font>

691
00:30:39,040 --> 00:30:44,020
BGP destinations<font color="#E5E5E5"> it will nicely count</font>

692
00:30:41,500 --> 00:30:46,000
<font color="#E5E5E5">how much traffic there is it's</font><font color="#CCCCCC"> very</font><font color="#E5E5E5"> easy</font>

693
00:30:44,020 --> 00:30:48,250
<font color="#CCCCCC">to retrieve</font><font color="#E5E5E5"> this information because</font>

694
00:30:46,000 --> 00:30:50,440
it's all in as an abbey map and it's

695
00:30:48,250 --> 00:30:53,170
fairly simple<font color="#E5E5E5"> to do extract it from the</font>

696
00:30:50,440 --> 00:30:55,120
router<font color="#CCCCCC"> of course there's always a</font>

697
00:30:53,170 --> 00:30:58,720
limitation<font color="#CCCCCC"> and in this case is that</font>

698
00:30:55,120 --> 00:31:00,820
there are only 64 buckets<font color="#CCCCCC"> so it's simple</font>

699
00:30:58,720 --> 00:31:03,940
<font color="#E5E5E5">it works good but you can only count</font>

700
00:31:00,820 --> 00:31:06,639
traffic to 64 destinations this might

701
00:31:03,940 --> 00:31:09,309
not<font color="#E5E5E5"> be dead bad because here we have</font>

702
00:31:06,640 --> 00:31:12,010
another example<font color="#E5E5E5"> on where you might</font><font color="#CCCCCC"> not</font>

703
00:31:09,309 --> 00:31:14,710
need<font color="#E5E5E5"> to count all the traffic if with 64</font>

704
00:31:12,010 --> 00:31:16,480
buckets you can<font color="#CCCCCC"> actually count</font><font color="#E5E5E5"> 1995 98</font>

705
00:31:14,710 --> 00:31:20,530
percent of<font color="#E5E5E5"> your traffic you might be</font>

706
00:31:16,480 --> 00:31:22,890
perfectly fine with the solution as far

707
00:31:20,530 --> 00:31:27,940
as I know this<font color="#CCCCCC"> is an Cisco specific</font>

708
00:31:22,890 --> 00:31:31,900
solution then on the Juniper<font color="#CCCCCC"> site there</font>

709
00:31:27,940 --> 00:31:33,100
is<font color="#E5E5E5"> something fairly similar or almost</font>

710
00:31:31,900 --> 00:31:35,590
exactly the<font color="#CCCCCC"> same which is called</font>

711
00:31:33,100 --> 00:31:36,790
destination class<font color="#CCCCCC"> usage I think in the</font>

712
00:31:35,590 --> 00:31:38,889
newer versions it's actually a

713
00:31:36,790 --> 00:31:42,670
combination of source class and

714
00:31:38,890 --> 00:31:43,120
destination class usage so does the same

715
00:31:42,670 --> 00:31:47,110
thing

716
00:31:43,120 --> 00:31:49,360
based on communities or other properties

717
00:31:47,110 --> 00:31:52,300
<font color="#CCCCCC">you</font><font color="#E5E5E5"> can set on either</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> BGP route or an</font>

718
00:31:49,360 --> 00:31:54,949
IP route you can count traffic<font color="#E5E5E5"> in two</font>

719
00:31:52,300 --> 00:32:00,230
buckets and do your<font color="#CCCCCC"> accounting</font><font color="#E5E5E5"> that way</font>

720
00:31:54,950 --> 00:32:02,320
<font color="#CCCCCC">a nice feature here is that the data</font><font color="#E5E5E5"> is</font>

721
00:32:00,230 --> 00:32:05,990
actually stored in a file on the router

722
00:32:02,320 --> 00:32:08,480
which<font color="#CCCCCC"> Mac</font><font color="#E5E5E5"> which may might make retrieval</font>

723
00:32:05,990 --> 00:32:10,070
<font color="#E5E5E5">even easier to implement and using as</font><font color="#CCCCCC"> a</font>

724
00:32:08,480 --> 00:32:11,690
<font color="#CCCCCC">newbie</font><font color="#E5E5E5"> because you can just make a</font>

725
00:32:10,070 --> 00:32:14,059
script which takes the file out at

726
00:32:11,690 --> 00:32:15,649
<font color="#E5E5E5">certain times rinse it to some parser to</font>

727
00:32:14,059 --> 00:32:16,279
put all<font color="#CCCCCC"> of the routers</font><font color="#E5E5E5"> together and and</font>

728
00:32:15,649 --> 00:32:18,739
you're done

729
00:32:16,279 --> 00:32:20,539
the older versions of journals<font color="#E5E5E5"> and then</font>

730
00:32:18,740 --> 00:32:22,970
I don't know<font color="#E5E5E5"> exactly what</font><font color="#CCCCCC"> till</font><font color="#E5E5E5"> tell</font>

731
00:32:20,539 --> 00:32:24,889
which version had support for only<font color="#E5E5E5"> 16</font>

732
00:32:22,970 --> 00:32:28,580
<font color="#CCCCCC">buckets</font><font color="#E5E5E5"> which i think is a little</font><font color="#CCCCCC"> bit</font>

733
00:32:24,889 --> 00:32:32,360
<font color="#E5E5E5">too limited to do proper traffic metrics</font>

734
00:32:28,580 --> 00:32:34,519
accounting<font color="#CCCCCC"> but as far as</font><font color="#E5E5E5"> I'm aware the</font>

735
00:32:32,360 --> 00:32:36,799
current versions which probably<font color="#E5E5E5"> most</font>

736
00:32:34,519 --> 00:32:39,529
people running<font color="#CCCCCC"> Juniper have deployed</font>

737
00:32:36,799 --> 00:32:43,179
<font color="#CCCCCC">dirty no 26</font><font color="#E5E5E5"> which i think is a</font><font color="#CCCCCC"> very</font><font color="#E5E5E5"> good</font>

738
00:32:39,529 --> 00:32:47,000
number to do<font color="#E5E5E5"> as a total number</font><font color="#CCCCCC"> of</font>

739
00:32:43,179 --> 00:32:49,970
accounting book it's in<font color="#E5E5E5"> your network so</font>

740
00:32:47,000 --> 00:32:52,730
<font color="#E5E5E5">a simple example</font><font color="#CCCCCC"> here you have a network</font>

741
00:32:49,970 --> 00:32:56,080
with on one router<font color="#E5E5E5"> all kind of customers</font>

742
00:32:52,730 --> 00:32:59,149
connected to other routers which have

743
00:32:56,080 --> 00:33:02,149
connections<font color="#CCCCCC"> to your</font><font color="#E5E5E5"> transit provider you</font>

744
00:32:59,149 --> 00:33:03,469
mark<font color="#E5E5E5"> them with a certain</font><font color="#CCCCCC"> community or or</font>

745
00:33:02,149 --> 00:33:05,360
you<font color="#E5E5E5"> look at the a s but if you have</font>

746
00:33:03,470 --> 00:33:06,889
multiple connections to the same a<font color="#CCCCCC"> s</font>

747
00:33:05,360 --> 00:33:08,059
probably communities is better to

748
00:33:06,889 --> 00:33:11,510
<font color="#CCCCCC">actually distinguish</font><font color="#E5E5E5"> between the</font>

749
00:33:08,059 --> 00:33:13,129
different exit points and on<font color="#E5E5E5"> the</font>

750
00:33:11,510 --> 00:33:15,500
interfaces from<font color="#E5E5E5"> the customers here in</font>

751
00:33:13,130 --> 00:33:18,590
the<font color="#CCCCCC"> DCU</font><font color="#E5E5E5"> and you nicely get how much</font>

752
00:33:15,500 --> 00:33:22,039
<font color="#CCCCCC">traffic goes from that router</font><font color="#E5E5E5"> to either</font>

753
00:33:18,590 --> 00:33:24,019
<font color="#E5E5E5">of these transit provides if you even</font>

754
00:33:22,039 --> 00:33:26,210
want more granularity<font color="#E5E5E5"> you can use the</font>

755
00:33:24,019 --> 00:33:27,679
combination<font color="#E5E5E5"> of source class and</font>

756
00:33:26,210 --> 00:33:30,019
destination class so you can<font color="#CCCCCC"> actually</font>

757
00:33:27,679 --> 00:33:31,549
also do it<font color="#E5E5E5"> per incoming interface and</font>

758
00:33:30,019 --> 00:33:33,409
then you know how<font color="#E5E5E5"> much traffic there is</font>

759
00:33:31,549 --> 00:33:35,779
from a certain customer<font color="#E5E5E5"> to a certain</font>

760
00:33:33,409 --> 00:33:37,490
transit provider again with the

761
00:33:35,779 --> 00:33:43,399
limitation of hundred twenty six sources

762
00:33:37,490 --> 00:33:45,559
<font color="#E5E5E5">and twenty six destinations</font><font color="#CCCCCC"> seaman liner</font>

763
00:33:43,399 --> 00:33:49,279
from<font color="#E5E5E5"> switch appointed me</font><font color="#CCCCCC"> to earn nice</font>

764
00:33:45,559 --> 00:33:53,059
<font color="#CCCCCC">webpage he has made but the URL</font><font color="#E5E5E5"> written</font>

765
00:33:49,279 --> 00:33:56,120
down here where he explains a<font color="#E5E5E5"> bit on how</font>

766
00:33:53,059 --> 00:33:59,720
you can access<font color="#E5E5E5"> the</font><font color="#CCCCCC"> data for both b2b</font>

767
00:33:56,120 --> 00:34:02,899
policy accounting and the<font color="#CCCCCC"> juniper</font><font color="#E5E5E5"> DCU he</font>

768
00:33:59,720 --> 00:34:05,480
also has provided a library for using

769
00:34:02,899 --> 00:34:07,250
<font color="#CCCCCC">SNMP</font><font color="#E5E5E5"> in Perl and</font><font color="#CCCCCC"> are</font><font color="#E5E5E5"> links</font><font color="#CCCCCC"> to the</font><font color="#E5E5E5"> MIPS</font>

770
00:34:05,480 --> 00:34:08,270
there so if you're ever interested in

771
00:34:07,250 --> 00:34:09,800
doing something<font color="#E5E5E5"> with these</font>

772
00:34:08,270 --> 00:34:17,889
just that would be<font color="#E5E5E5"> very good place</font><font color="#CCCCCC"> to</font>

773
00:34:09,800 --> 00:34:19,850
<font color="#E5E5E5">get started so</font><font color="#CCCCCC"> tyll tyll</font><font color="#E5E5E5"> here for the</font>

774
00:34:17,889 --> 00:34:24,350
getting statistics from<font color="#E5E5E5"> the pure IP</font>

775
00:34:19,850 --> 00:34:28,489
<font color="#E5E5E5">networks now we'll have a look at MPLS</font>

776
00:34:24,350 --> 00:34:30,710
deployments so<font color="#E5E5E5"> in MPLS networks we</font>

777
00:34:28,489 --> 00:34:33,799
actually can distinguish between two

778
00:34:30,710 --> 00:34:38,230
types<font color="#E5E5E5"> of deployments you</font><font color="#CCCCCC"> either have an</font>

779
00:34:33,800 --> 00:34:40,610
<font color="#E5E5E5">LD</font><font color="#CCCCCC"> p</font><font color="#E5E5E5"> network where you have labels for</font>

780
00:34:38,230 --> 00:34:43,730
transporting for example VPN traffic or

781
00:34:40,610 --> 00:34:45,409
layer<font color="#E5E5E5"> to traffic</font><font color="#CCCCCC"> over your network</font><font color="#E5E5E5"> but</font>

782
00:34:43,730 --> 00:34:47,840
your routing<font color="#E5E5E5"> just follows</font><font color="#CCCCCC"> the IGP</font>

783
00:34:45,409 --> 00:34:50,870
routing as as any IP packet will do in

784
00:34:47,840 --> 00:34:52,820
the network<font color="#E5E5E5"> the other option is RSVP</font>

785
00:34:50,870 --> 00:34:54,290
<font color="#E5E5E5">traffic engineering where you have</font>

786
00:34:52,820 --> 00:34:56,750
traffic engineer tunnels<font color="#E5E5E5"> through</font><font color="#CCCCCC"> the</font>

787
00:34:54,290 --> 00:35:00,970
network with a specific<font color="#CCCCCC"> path either set</font>

788
00:34:56,750 --> 00:35:03,740
up dynamically or statically where

789
00:35:00,970 --> 00:35:06,740
traffic which is forced into eternal

790
00:35:03,740 --> 00:35:07,540
Texan and<font color="#CCCCCC"> pre set up</font><font color="#E5E5E5"> paths different</font>

791
00:35:06,740 --> 00:35:12,259
from the ITP

792
00:35:07,540 --> 00:35:16,790
<font color="#E5E5E5">both of these solutions give some useful</font>

793
00:35:12,260 --> 00:35:18,770
<font color="#CCCCCC">information for traffic statistics at</font>

794
00:35:16,790 --> 00:35:20,480
the<font color="#E5E5E5"> end I have a few commands so from</font>

795
00:35:18,770 --> 00:35:24,250
<font color="#E5E5E5">Stefan's</font><font color="#CCCCCC"> neato</font><font color="#E5E5E5"> slides on how they have</font>

796
00:35:20,480 --> 00:35:24,250
<font color="#E5E5E5">deployed this within</font><font color="#CCCCCC"> George</font><font color="#E5E5E5"> Telecom</font>

797
00:35:26,990 --> 00:35:33,740
so the way this<font color="#E5E5E5"> looks like in</font><font color="#CCCCCC"> the Cisco</font>

798
00:35:30,020 --> 00:35:36,319
<font color="#E5E5E5">router is that you have an</font><font color="#CCCCCC"> interface for</font>

799
00:35:33,740 --> 00:35:38,419
<font color="#CCCCCC">the traffic engineer Tunnel</font><font color="#E5E5E5"> so we're</font>

800
00:35:36,319 --> 00:35:41,500
looking here<font color="#E5E5E5"> at the RSVP traffic</font>

801
00:35:38,420 --> 00:35:44,839
engineer<font color="#E5E5E5"> tunnels and a certain path</font>

802
00:35:41,500 --> 00:35:48,170
<font color="#CCCCCC">associated</font><font color="#E5E5E5"> with it based on where the</font>

803
00:35:44,839 --> 00:35:50,690
tunnel starts<font color="#E5E5E5"> traffic is routed</font><font color="#CCCCCC"> into the</font>

804
00:35:48,170 --> 00:35:52,220
tunnel<font color="#E5E5E5"> either as</font><font color="#CCCCCC"> part of a VPN</font><font color="#E5E5E5"> or just</font>

805
00:35:50,690 --> 00:35:54,920
because of the it's integrated<font color="#E5E5E5"> in</font><font color="#CCCCCC"> the</font>

806
00:35:52,220 --> 00:35:59,629
<font color="#CCCCCC">IGP and it will</font><font color="#E5E5E5"> follow that tunnel</font>

807
00:35:54,920 --> 00:36:00,950
<font color="#CCCCCC">a lot</font><font color="#E5E5E5"> of deployments here for this type</font>

808
00:35:59,630 --> 00:36:02,990
of<font color="#E5E5E5"> traffic</font><font color="#CCCCCC"> engineering</font><font color="#E5E5E5"> actually have a</font>

809
00:36:00,950 --> 00:36:07,098
full mesh of tunnels<font color="#E5E5E5"> so from every</font>

810
00:36:02,990 --> 00:36:08,930
router in the network<font color="#CCCCCC"> you set up an MPLS</font>

811
00:36:07,099 --> 00:36:12,440
traffic engineering<font color="#CCCCCC"> on to every other</font>

812
00:36:08,930 --> 00:36:14,960
router in network<font color="#CCCCCC"> what you get is a mesh</font>

813
00:36:12,440 --> 00:36:16,819
<font color="#E5E5E5">of end times if you have</font><font color="#CCCCCC"> n routers in</font>

814
00:36:14,960 --> 00:36:20,660
the network n times and minus<font color="#CCCCCC"> one</font>

815
00:36:16,819 --> 00:36:22,250
terminals in<font color="#E5E5E5"> the network</font><font color="#CCCCCC"> there are</font><font color="#E5E5E5"> lots</font>

816
00:36:20,660 --> 00:36:23,750
of<font color="#E5E5E5"> scalability issues with this kind of</font>

817
00:36:22,250 --> 00:36:26,869
deployments<font color="#E5E5E5"> especially on larger</font>

818
00:36:23,750 --> 00:36:28,880
networks because<font color="#E5E5E5"> it's</font><font color="#CCCCCC"> scales as n square</font>

819
00:36:26,869 --> 00:36:31,460
<font color="#E5E5E5">with the number of</font><font color="#CCCCCC"> routers in your</font>

820
00:36:28,880 --> 00:36:33,290
network and managing<font color="#CCCCCC"> tunnels can</font><font color="#E5E5E5"> be very</font>

821
00:36:31,460 --> 00:36:36,859
hard<font color="#CCCCCC"> to do I have some experience from a</font>

822
00:36:33,290 --> 00:36:41,270
previous job with<font color="#CCCCCC"> that</font><font color="#E5E5E5"> but it also gives</font>

823
00:36:36,859 --> 00:36:44,109
<font color="#E5E5E5">you advantages because all the traffic</font>

824
00:36:41,270 --> 00:36:47,329
which goes<font color="#E5E5E5"> into such a tunnel is</font>

825
00:36:44,109 --> 00:36:49,040
automatically counted<font color="#E5E5E5"> as an interface</font>

826
00:36:47,329 --> 00:36:51,950
counter<font color="#CCCCCC"> sir these</font><font color="#E5E5E5"> Tennessee offers</font>

827
00:36:49,040 --> 00:36:53,720
interfaces in your router<font color="#CCCCCC"> even with MRTT</font>

828
00:36:51,950 --> 00:36:56,419
<font color="#E5E5E5">they will pick them up and and</font>

829
00:36:53,720 --> 00:36:58,308
automatically<font color="#E5E5E5"> share the traffic to all</font>

830
00:36:56,420 --> 00:37:00,260
these different destinations so if you

831
00:36:58,309 --> 00:37:03,770
deploy a full mesh of tunnels<font color="#E5E5E5"> you</font>

832
00:37:00,260 --> 00:37:05,630
automatically have<font color="#E5E5E5"> a full mesh of a full</font>

833
00:37:03,770 --> 00:37:09,980
traffic matrix between<font color="#E5E5E5"> all the points</font>

834
00:37:05,630 --> 00:37:15,230
where you<font color="#E5E5E5"> have these tunnels so on the</font>

835
00:37:09,980 --> 00:37:17,329
<font color="#E5E5E5">downside deploying a full</font><font color="#CCCCCC"> mass of MPLS</font>

836
00:37:15,230 --> 00:37:18,799
<font color="#CCCCCC">the Eternals is a lot</font><font color="#E5E5E5"> of effort people</font>

837
00:37:17,329 --> 00:37:22,780
<font color="#CCCCCC">need</font><font color="#E5E5E5"> to understand how to troubleshoot</font>

838
00:37:18,799 --> 00:37:25,099
it how to monitor it and if<font color="#CCCCCC"> there's</font><font color="#E5E5E5"> no</font>

839
00:37:22,780 --> 00:37:27,200
reason to<font color="#E5E5E5"> do traffic engineering I don't</font>

840
00:37:25,099 --> 00:37:29,710
think anybody<font color="#E5E5E5"> would even</font><font color="#CCCCCC"> consider doing</font>

841
00:37:27,200 --> 00:37:34,220
<font color="#E5E5E5">this just for</font><font color="#CCCCCC"> the traffic statistics</font>

842
00:37:29,710 --> 00:37:37,339
<font color="#E5E5E5">also the the tunnels don't do any load</font>

843
00:37:34,220 --> 00:37:39,049
balancing<font color="#E5E5E5"> anymore so if your</font><font color="#CCCCCC"> network is</font>

844
00:37:37,339 --> 00:37:40,580
based on a lot of<font color="#E5E5E5"> load balancing then</font>

845
00:37:39,050 --> 00:37:42,920
with the nose it might get harder to get

846
00:37:40,580 --> 00:37:44,540
a proper traffic<font color="#CCCCCC"> distribution so if you</font>

847
00:37:42,920 --> 00:37:47,720
run MPLS traffic engineering<font color="#E5E5E5"> full mesh</font>

848
00:37:44,540 --> 00:37:51,410
<font color="#E5E5E5">you have your knife starts if not this</font>

849
00:37:47,720 --> 00:37:53,089
<font color="#CCCCCC">is not a</font><font color="#E5E5E5"> relevant solution this one I</font>

850
00:37:51,410 --> 00:38:02,000
think is more<font color="#CCCCCC"> interesting and also</font><font color="#E5E5E5"> more</font>

851
00:37:53,090 --> 00:38:04,790
applicable to deployments so if<font color="#CCCCCC"> LDP</font><font color="#E5E5E5"> is</font>

852
00:38:02,000 --> 00:38:07,250
used for label<font color="#CCCCCC"> distribution which for</font>

853
00:38:04,790 --> 00:38:10,910
example<font color="#CCCCCC"> off VPN enabled networks will be</font>

854
00:38:07,250 --> 00:38:14,270
<font color="#E5E5E5">the case then traffic coming</font><font color="#CCCCCC"> into a</font>

855
00:38:10,910 --> 00:38:17,270
router<font color="#E5E5E5"> on a certain label is switched</font>

856
00:38:14,270 --> 00:38:19,790
out to an interface<font color="#E5E5E5"> using a different</font>

857
00:38:17,270 --> 00:38:22,910
<font color="#CCCCCC">label based on the routing</font><font color="#E5E5E5"> which is</font>

858
00:38:19,790 --> 00:38:25,460
already set up<font color="#E5E5E5"> by the ITP nice thing is</font>

859
00:38:22,910 --> 00:38:28,580
though that<font color="#CCCCCC"> for</font><font color="#E5E5E5"> every packet it switches</font>

860
00:38:25,460 --> 00:38:31,400
<font color="#E5E5E5">for example here a packet with label</font><font color="#CCCCCC"> 1 2</font>

861
00:38:28,580 --> 00:38:34,310
3<font color="#E5E5E5"> 4 coming in label 1 2 3 5 going out</font>

862
00:38:31,400 --> 00:38:37,580
the<font color="#E5E5E5"> word</font><font color="#CCCCCC"> already for thousand bytes</font>

863
00:38:34,310 --> 00:38:40,130
<font color="#CCCCCC">waste</font><font color="#E5E5E5"> if a new packet comes in it will</font>

864
00:38:37,580 --> 00:38:43,130
<font color="#CCCCCC">actually update the counter so for every</font>

865
00:38:40,130 --> 00:38:45,710
byte for every packet<font color="#E5E5E5"> switched through</font>

866
00:38:43,130 --> 00:38:47,870
<font color="#CCCCCC">LDP to the network every router</font><font color="#E5E5E5"> keeps</font><font color="#CCCCCC"> a</font>

867
00:38:45,710 --> 00:38:50,870
counter on how much<font color="#E5E5E5"> traffic there is so</font>

868
00:38:47,870 --> 00:38:55,640
these counters<font color="#E5E5E5"> we can use to generate</font>

869
00:38:50,870 --> 00:38:56,650
our<font color="#E5E5E5"> traffic metrics the nice thing is if</font>

870
00:38:55,640 --> 00:39:00,470
you have ecmp

871
00:38:56,650 --> 00:39:02,480
in your network based on<font color="#CCCCCC"> IP routing LDP</font>

872
00:39:00,470 --> 00:39:04,160
will just do exactly the same<font color="#E5E5E5"> thing</font>

873
00:39:02,480 --> 00:39:07,520
so if<font color="#CCCCCC"> I have traffic coming in here from</font>

874
00:39:04,160 --> 00:39:10,220
router 1<font color="#E5E5E5"> 2 2</font><font color="#CCCCCC"> and 2 its load balancing it</font>

875
00:39:07,520 --> 00:39:12,140
then the one label coming in will

876
00:39:10,220 --> 00:39:13,759
<font color="#CCCCCC">actually splits in</font><font color="#E5E5E5"> two labels going out</font>

877
00:39:12,140 --> 00:39:18,529
and follow the same route thing as

878
00:39:13,760 --> 00:39:20,630
<font color="#E5E5E5">before and at the final destination</font><font color="#CCCCCC"> the</font>

879
00:39:18,530 --> 00:39:25,780
<font color="#E5E5E5">two labels will be merged again into a</font>

880
00:39:20,630 --> 00:39:28,040
single stream so how can<font color="#E5E5E5"> we use</font><font color="#CCCCCC"> this to</font>

881
00:39:25,780 --> 00:39:29,660
<font color="#E5E5E5">generate traffic matrix because it's not</font>

882
00:39:28,040 --> 00:39:32,660
as easy anymore<font color="#E5E5E5"> as with tunnels which</font>

883
00:39:29,660 --> 00:39:34,879
<font color="#CCCCCC">have an and clear</font><font color="#E5E5E5"> the beginning or and</font>

884
00:39:32,660 --> 00:39:36,620
start and an end<font color="#E5E5E5"> here we need to figure</font>

885
00:39:34,880 --> 00:39:41,960
out<font color="#E5E5E5"> more on where the traffic is</font><font color="#CCCCCC"> coming</font>

886
00:39:36,620 --> 00:39:44,150
<font color="#CCCCCC">from so one of the issues is if we</font><font color="#E5E5E5"> start</font>

887
00:39:41,960 --> 00:39:47,630
at an random router in the network<font color="#E5E5E5"> and</font>

888
00:39:44,150 --> 00:39:50,000
we see traffic<font color="#CCCCCC"> over a certain MPLS LDP</font>

889
00:39:47,630 --> 00:39:52,380
<font color="#E5E5E5">feck how do we know where the traffic</font>

890
00:39:50,000 --> 00:39:55,349
<font color="#E5E5E5">came</font><font color="#CCCCCC"> from where is the start of</font>

891
00:39:52,380 --> 00:39:57,720
traffic<font color="#E5E5E5"> so if we look at the path</font>

892
00:39:55,349 --> 00:40:00,509
through<font color="#E5E5E5"> the</font><font color="#CCCCCC"> network so</font><font color="#E5E5E5"> we have a router</font>

893
00:39:57,720 --> 00:40:03,919
<font color="#E5E5E5">start route starting at a going to be</font>

894
00:40:00,509 --> 00:40:06,359
via several other routers exiting at<font color="#CCCCCC"> C</font>

895
00:40:03,920 --> 00:40:08,970
every router<font color="#E5E5E5"> in that path will keep a</font>

896
00:40:06,359 --> 00:40:11,460
counter for<font color="#E5E5E5"> the traffic towards</font>

897
00:40:08,970 --> 00:40:14,129
destination C so if I have a packet

898
00:40:11,460 --> 00:40:16,019
coming from route or a to be over the

899
00:40:14,130 --> 00:40:18,930
whole path it<font color="#E5E5E5"> will be counted everywhere</font>

900
00:40:16,019 --> 00:40:21,508
<font color="#CCCCCC">if I</font><font color="#E5E5E5"> haven't packets which starts at B</font>

901
00:40:18,930 --> 00:40:26,368
it will be counting everywhere except at

902
00:40:21,509 --> 00:40:29,009
router<font color="#E5E5E5"> a so the idea here</font><font color="#CCCCCC"> is I look at</font>

903
00:40:26,369 --> 00:40:31,230
the traffic<font color="#CCCCCC"> on every router in the</font><font color="#E5E5E5"> path</font>

904
00:40:29,009 --> 00:40:34,589
I know where it's going because I know

905
00:40:31,230 --> 00:40:36,660
what the fact is<font color="#E5E5E5"> and I know that's the</font>

906
00:40:34,589 --> 00:40:38,430
traffic<font color="#CCCCCC"> from</font><font color="#E5E5E5"> the previous</font><font color="#CCCCCC"> hope</font><font color="#E5E5E5"> I should</font>

907
00:40:36,660 --> 00:40:41,029
subtract<font color="#E5E5E5"> because</font><font color="#CCCCCC"> that's</font><font color="#E5E5E5"> already has been</font>

908
00:40:38,430 --> 00:40:44,190
counted so if I see hundred megabits

909
00:40:41,029 --> 00:40:46,079
<font color="#E5E5E5">toward C at rather be and I know that</font>

910
00:40:44,190 --> 00:40:48,150
<font color="#E5E5E5">there is 50 megabits throughout towards</font>

911
00:40:46,079 --> 00:40:50,009
route<font color="#E5E5E5"> or Z at a then I know that</font><font color="#CCCCCC"> the</font>

912
00:40:48,150 --> 00:40:53,819
<font color="#E5E5E5">remaining 50 must have</font><font color="#CCCCCC"> entered the</font>

913
00:40:50,009 --> 00:40:56,000
network at B<font color="#E5E5E5"> this sounds a bit</font>

914
00:40:53,819 --> 00:40:58,759
<font color="#E5E5E5">complicated but it really isn't</font><font color="#CCCCCC"> and</font>

915
00:40:56,000 --> 00:41:01,140
there's a very<font color="#E5E5E5"> nice paper about</font><font color="#CCCCCC"> it from</font>

916
00:40:58,759 --> 00:41:02,670
Martin<font color="#E5E5E5"> who</font><font color="#CCCCCC"> never</font><font color="#E5E5E5"> and stay for</font><font color="#CCCCCC"> senator</font>

917
00:41:01,140 --> 00:41:05,118
from<font color="#E5E5E5"> Deutsche Telekom they have</font>

918
00:41:02,670 --> 00:41:08,009
implemented it and they describe<font color="#E5E5E5"> exactly</font>

919
00:41:05,119 --> 00:41:12,000
the algorithm for processing this<font color="#E5E5E5"> on on</font>

920
00:41:08,009 --> 00:41:15,359
the network<font color="#E5E5E5"> so here's an example on how</font>

921
00:41:12,000 --> 00:41:17,039
that<font color="#E5E5E5"> would</font><font color="#CCCCCC"> work as you</font><font color="#E5E5E5"> don't know where</font>

922
00:41:15,359 --> 00:41:19,650
<font color="#E5E5E5">to start</font>

923
00:41:17,039 --> 00:41:21,660
<font color="#E5E5E5">we've all here</font><font color="#CCCCCC"> show what happens if you</font>

924
00:41:19,650 --> 00:41:23,670
<font color="#E5E5E5">start at</font><font color="#CCCCCC"> about two</font><font color="#E5E5E5"> three</font><font color="#CCCCCC"> you pick a run</font>

925
00:41:21,660 --> 00:41:26,098
<font color="#CCCCCC">random router</font><font color="#E5E5E5"> in network you look at how</font>

926
00:41:23,670 --> 00:41:28,079
much<font color="#E5E5E5"> traffic there is and you</font><font color="#CCCCCC"> know that</font>

927
00:41:26,099 --> 00:41:30,180
<font color="#E5E5E5">traffic you see at this hope I need</font><font color="#CCCCCC"> to</font>

928
00:41:28,079 --> 00:41:32,279
subtract from the next hole<font color="#E5E5E5"> so here we</font>

929
00:41:30,180 --> 00:41:35,009
have an example where<font color="#E5E5E5"> there is 20 units</font>

930
00:41:32,279 --> 00:41:37,319
<font color="#CCCCCC">of traffic let's say 20 megabits 20</font>

931
00:41:35,009 --> 00:41:39,480
bytes doesn't matter from<font color="#E5E5E5"> router run to</font>

932
00:41:37,319 --> 00:41:42,299
route the<font color="#CCCCCC"> five we want to create a</font>

933
00:41:39,480 --> 00:41:45,930
traffic matrix<font color="#E5E5E5"> so if we're</font><font color="#CCCCCC"> dumb there</font>

934
00:41:42,299 --> 00:41:49,288
should<font color="#E5E5E5"> be 20 in the column from</font><font color="#CCCCCC"> 1 to 5</font>

935
00:41:45,930 --> 00:41:52,288
so<font color="#E5E5E5"> let's see what happens we actually</font>

936
00:41:49,289 --> 00:41:53,880
<font color="#CCCCCC">start at router 3 and at router 3 we've</font>

937
00:41:52,289 --> 00:41:56,670
seen 10 units of traffic<font color="#E5E5E5"> because of the</font>

938
00:41:53,880 --> 00:42:00,589
<font color="#E5E5E5">load balancing so the traffic actually</font>

939
00:41:56,670 --> 00:42:00,589
at router 2 has split over<font color="#CCCCCC"> the two parts</font>

940
00:42:01,750 --> 00:42:07,610
so I know at this point<font color="#E5E5E5"> that there is 10</font>

941
00:42:05,960 --> 00:42:10,490
<font color="#CCCCCC">units of traffic from route the tree to</font>

942
00:42:07,610 --> 00:42:13,520
route the<font color="#CCCCCC"> 5 from the information I have</font>

943
00:42:10,490 --> 00:42:15,649
at this point<font color="#CCCCCC"> I</font><font color="#E5E5E5"> process the next router</font>

944
00:42:13,520 --> 00:42:18,080
which is<font color="#E5E5E5"> route the</font><font color="#CCCCCC"> 4 and there I see</font>

945
00:42:15,650 --> 00:42:20,120
another 10 units of traffic for about

946
00:42:18,080 --> 00:42:22,310
the<font color="#E5E5E5"> four to route the 5 so it there I</font>

947
00:42:20,120 --> 00:42:25,540
put also<font color="#CCCCCC"> in the traffic metrics then</font>

948
00:42:22,310 --> 00:42:28,279
units from<font color="#E5E5E5"> router for throughout the</font><font color="#CCCCCC"> 5</font>

949
00:42:25,540 --> 00:42:30,770
now I look at router 5 itself which<font color="#CCCCCC"> has</font>

950
00:42:28,280 --> 00:42:34,310
no<font color="#CCCCCC"> information because that's</font><font color="#E5E5E5"> the</font>

951
00:42:30,770 --> 00:42:36,740
<font color="#CCCCCC">destination of the traffic</font><font color="#E5E5E5"> then I come</font>

952
00:42:34,310 --> 00:42:38,060
to route the wall<font color="#CCCCCC"> I'd rather 1</font><font color="#E5E5E5"> I see 20</font>

953
00:42:36,740 --> 00:42:40,910
units of traffic which were actually

954
00:42:38,060 --> 00:42:43,520
<font color="#E5E5E5">coming into the</font><font color="#CCCCCC"> network there</font><font color="#E5E5E5"> so I put</font>

955
00:42:40,910 --> 00:42:47,330
20<font color="#CCCCCC"> in the column</font><font color="#E5E5E5"> from router run to</font>

956
00:42:43,520 --> 00:42:49,970
router 5 and I put at the<font color="#E5E5E5"> same time -</font><font color="#CCCCCC"> 20</font>

957
00:42:47,330 --> 00:42:52,220
at the<font color="#CCCCCC"> next stop which is routed to the</font>

958
00:42:49,970 --> 00:42:53,899
reason is I want<font color="#CCCCCC"> to</font><font color="#E5E5E5"> subtract the traffic</font>

959
00:42:52,220 --> 00:42:56,359
which came into the network at a at

960
00:42:53,900 --> 00:42:57,860
router<font color="#E5E5E5"> 1 I want</font><font color="#CCCCCC"> to subtract it at router</font>

961
00:42:56,360 --> 00:43:02,120
2<font color="#E5E5E5"> because I don't want to</font><font color="#CCCCCC"> double count</font>

962
00:42:57,860 --> 00:43:07,430
it so I do that then a process<font color="#E5E5E5"> router</font><font color="#CCCCCC"> 2</font>

963
00:43:02,120 --> 00:43:11,750
and that's<font color="#E5E5E5"> there I have 10 units going</font>

964
00:43:07,430 --> 00:43:14,569
<font color="#E5E5E5">out I add them so I see 20 units in</font>

965
00:43:11,750 --> 00:43:16,760
total<font color="#CCCCCC"> I add them</font><font color="#E5E5E5"> to the minus 20 which I</font>

966
00:43:14,570 --> 00:43:19,130
had<font color="#E5E5E5"> inherited from previous</font><font color="#CCCCCC"> hop</font><font color="#E5E5E5"> and it</font>

967
00:43:16,760 --> 00:43:21,650
nicely<font color="#E5E5E5"> zeros out and I have my proper</font>

968
00:43:19,130 --> 00:43:25,880
traffic<font color="#CCCCCC"> matrix which is 20 units</font><font color="#E5E5E5"> from 1</font>

969
00:43:21,650 --> 00:43:30,650
to 5<font color="#CCCCCC"> I know this example is not</font><font color="#E5E5E5"> the the</font>

970
00:43:25,880 --> 00:43:32,150
<font color="#E5E5E5">best possible and I suggest if you</font>

971
00:43:30,650 --> 00:43:34,610
really interested<font color="#E5E5E5"> in this method have a</font>

972
00:43:32,150 --> 00:43:38,810
look at the paper which are in much more

973
00:43:34,610 --> 00:43:40,820
detail on<font color="#E5E5E5"> how</font><font color="#CCCCCC"> this</font><font color="#E5E5E5"> works also</font><font color="#CCCCCC"> there</font><font color="#E5E5E5"> are</font>

974
00:43:38,810 --> 00:43:44,840
some practical considerations of doing

975
00:43:40,820 --> 00:43:46,670
this and on one router<font color="#CCCCCC"> Fandral it</font>

976
00:43:44,840 --> 00:43:47,900
actually is easier than<font color="#E5E5E5"> i sho with here</font>

977
00:43:46,670 --> 00:43:50,090
<font color="#E5E5E5">and on the other it's actually more</font>

978
00:43:47,900 --> 00:43:55,210
complicated<font color="#CCCCCC"> emmechelle here to start</font>

979
00:43:50,090 --> 00:43:57,830
with<font color="#CCCCCC"> cisco on iOS</font><font color="#E5E5E5"> there is an issue that</font>

980
00:43:55,210 --> 00:44:00,260
instead<font color="#CCCCCC"> of showing all the</font><font color="#E5E5E5"> LDP traffic</font>

981
00:43:57,830 --> 00:44:03,259
towards<font color="#CCCCCC"> certain</font><font color="#E5E5E5"> destination it only</font>

982
00:44:00,260 --> 00:44:05,660
shows the<font color="#E5E5E5"> transit traffic so if</font><font color="#CCCCCC"> I have</font>

983
00:44:03,260 --> 00:44:08,060
50 megabits transiting through my router

984
00:44:05,660 --> 00:44:09,799
to a destination<font color="#E5E5E5"> I content but if there</font>

985
00:44:08,060 --> 00:44:11,480
is a node of<font color="#E5E5E5"> 20 coming in so it's</font>

986
00:44:09,800 --> 00:44:14,660
<font color="#CCCCCC">actually being encapsulated there in</font>

987
00:44:11,480 --> 00:44:15,150
MPLS<font color="#CCCCCC"> it's not being counted</font><font color="#E5E5E5"> so I kind of</font>

988
00:44:14,660 --> 00:44:17,819
like

989
00:44:15,150 --> 00:44:19,530
information on where<font color="#E5E5E5"> the traffic comes</font>

990
00:44:17,820 --> 00:44:20,490
into the network<font color="#E5E5E5"> traffic only shows up</font>

991
00:44:19,530 --> 00:44:22,170
at the next<font color="#CCCCCC"> stop</font>

992
00:44:20,490 --> 00:44:24,810
not at the<font color="#E5E5E5"> hop where it came into the</font>

993
00:44:22,170 --> 00:44:27,390
network<font color="#E5E5E5"> this might or might not</font><font color="#CCCCCC"> be a</font>

994
00:44:24,810 --> 00:44:30,570
problem<font color="#CCCCCC"> for example if you see the small</font>

995
00:44:27,390 --> 00:44:32,400
topology<font color="#CCCCCC"> I have there at the bottom if</font>

996
00:44:30,570 --> 00:44:35,460
all the encapsulation is done at the

997
00:44:32,400 --> 00:44:37,170
<font color="#E5E5E5">access routers then and I see the</font>

998
00:44:35,460 --> 00:44:38,610
traffic showing up at the<font color="#CCCCCC"> the core</font>

999
00:44:37,170 --> 00:44:42,090
router in this case that the label

1000
00:44:38,610 --> 00:44:43,110
<font color="#CCCCCC">switch router</font><font color="#E5E5E5"> LS</font><font color="#CCCCCC"> RA then I know where</font>

1001
00:44:42,090 --> 00:44:45,060
the traffic<font color="#E5E5E5"> came</font><font color="#CCCCCC"> from</font>

1002
00:44:43,110 --> 00:44:47,370
I see traffic showing up<font color="#E5E5E5"> I see my</font>

1003
00:44:45,060 --> 00:44:50,190
incoming<font color="#E5E5E5"> links and the numbers will will</font>

1004
00:44:47,370 --> 00:44:52,710
match<font color="#CCCCCC"> if I have a mix</font><font color="#E5E5E5"> of encapsulation</font>

1005
00:44:50,190 --> 00:44:54,480
<font color="#CCCCCC">and transiting</font><font color="#E5E5E5"> on the same routers then</font>

1006
00:44:52,710 --> 00:44:57,030
<font color="#E5E5E5">it's going to be very hard</font><font color="#CCCCCC"> to figure</font><font color="#E5E5E5"> out</font>

1007
00:44:54,480 --> 00:44:59,340
<font color="#E5E5E5">where the traffic came</font><font color="#CCCCCC"> from also</font><font color="#E5E5E5"> the</font>

1008
00:44:57,030 --> 00:45:03,900
paper has some more detail on on what to

1009
00:44:59,340 --> 00:45:10,080
do in<font color="#CCCCCC"> that</font><font color="#E5E5E5"> case the way this looks on on</font>

1010
00:45:03,900 --> 00:45:12,360
the CLI is that<font color="#E5E5E5"> per forwarding entry in</font>

1011
00:45:10,080 --> 00:45:16,049
this case an IP destination<font color="#CCCCCC"> you see an</font>

1012
00:45:12,360 --> 00:45:18,030
amount of bytes switched<font color="#CCCCCC"> and</font><font color="#E5E5E5"> the thing</font>

1013
00:45:16,050 --> 00:45:19,440
to keep in mind<font color="#CCCCCC"> is these are not all</font><font color="#E5E5E5"> the</font>

1014
00:45:18,030 --> 00:45:21,000
<font color="#E5E5E5">bytes which these are only</font><font color="#CCCCCC"> two bytes</font>

1015
00:45:19,440 --> 00:45:23,220
which were actually<font color="#E5E5E5"> coming</font><font color="#CCCCCC"> in as</font><font color="#E5E5E5"> MPLS</font>

1016
00:45:21,000 --> 00:45:25,880
and going out as MPLS not<font color="#E5E5E5"> the bytes that</font>

1017
00:45:23,220 --> 00:45:28,589
<font color="#CCCCCC">came in as IP and go out as MPLS</font>

1018
00:45:25,880 --> 00:45:32,700
obviously<font color="#E5E5E5"> this was the one which was</font>

1019
00:45:28,590 --> 00:45:36,570
<font color="#E5E5E5">trickier on juniper fortunately it's a</font>

1020
00:45:32,700 --> 00:45:38,220
little bit easier<font color="#CCCCCC"> to process the nice</font>

1021
00:45:36,570 --> 00:45:40,350
<font color="#E5E5E5">thing there is</font><font color="#CCCCCC"> that juniper actually has</font>

1022
00:45:38,220 --> 00:45:42,959
different<font color="#CCCCCC"> counters for</font><font color="#E5E5E5"> both the transit</font>

1023
00:45:40,350 --> 00:45:44,549
traffic<font color="#E5E5E5"> and the ingress traffic so it</font>

1024
00:45:42,960 --> 00:45:45,990
<font color="#E5E5E5">tells you how much traffic came through</font>

1025
00:45:44,550 --> 00:45:48,930
the router for to a certain destination

1026
00:45:45,990 --> 00:45:51,479
<font color="#E5E5E5">it tells you how much</font><font color="#CCCCCC"> traffic came into</font>

1027
00:45:48,930 --> 00:45:54,480
<font color="#E5E5E5">the router from a different source</font>

1028
00:45:51,480 --> 00:45:56,250
<font color="#E5E5E5">towards the same destination the only</font>

1029
00:45:54,480 --> 00:45:58,620
<font color="#E5E5E5">thing juniper doesn't show is which are</font>

1030
00:45:56,250 --> 00:46:01,080
<font color="#E5E5E5">the outgoing interfaces so if there are</font>

1031
00:45:58,620 --> 00:46:03,210
multiple then you will have<font color="#E5E5E5"> to</font><font color="#CCCCCC"> assume</font>

1032
00:46:01,080 --> 00:46:05,430
<font color="#E5E5E5">that traffic is load balanced equally</font>

1033
00:46:03,210 --> 00:46:07,230
<font color="#E5E5E5">which I think in most core networks with</font>

1034
00:46:05,430 --> 00:46:10,950
a lot<font color="#CCCCCC"> of traffic</font><font color="#E5E5E5"> is northern and very</font>

1035
00:46:07,230 --> 00:46:13,350
unfair assumption again an<font color="#CCCCCC"> example on</font>

1036
00:46:10,950 --> 00:46:15,899
<font color="#CCCCCC">how that</font><font color="#E5E5E5"> looks in the router</font><font color="#CCCCCC"> you see</font>

1037
00:46:13,350 --> 00:46:17,850
very nicely<font color="#E5E5E5"> to a certain facts or</font>

1038
00:46:15,900 --> 00:46:19,500
certain destination you see two

1039
00:46:17,850 --> 00:46:21,480
countries one for transit one for

1040
00:46:19,500 --> 00:46:23,640
ingress<font color="#E5E5E5"> you see the number of packets</font>

1041
00:46:21,480 --> 00:46:25,650
<font color="#E5E5E5">and number of bytes this is really easy</font>

1042
00:46:23,640 --> 00:46:27,180
<font color="#CCCCCC">to process</font><font color="#E5E5E5"> all you need to have to</font>

1043
00:46:25,650 --> 00:46:28,080
<font color="#E5E5E5">figure</font><font color="#CCCCCC"> out is which are the routers in</font>

1044
00:46:27,180 --> 00:46:30,390
the chain

1045
00:46:28,080 --> 00:46:32,910
and and you're done<font color="#E5E5E5"> it's actually even</font>

1046
00:46:30,390 --> 00:46:34,950
<font color="#CCCCCC">easier</font><font color="#E5E5E5"> because you can even also look at</font>

1047
00:46:32,910 --> 00:46:36,480
just the increased traffic<font color="#E5E5E5"> and it tells</font>

1048
00:46:34,950 --> 00:46:38,730
you immediately<font color="#E5E5E5"> from this route I have</font>

1049
00:46:36,480 --> 00:46:40,520
so much<font color="#CCCCCC"> traffic to that destination so</font>

1050
00:46:38,730 --> 00:46:43,110
the whole algorithm<font color="#CCCCCC"> I showed before</font>

1051
00:46:40,520 --> 00:46:44,820
<font color="#CCCCCC">actually</font><font color="#E5E5E5"> doesn't even apply to the the</font>

1052
00:46:43,110 --> 00:46:50,270
<font color="#CCCCCC">juniper browser you directly get the</font>

1053
00:46:44,820 --> 00:46:52,770
<font color="#CCCCCC">statistics as I said before this is</font><font color="#E5E5E5"> not</font>

1054
00:46:50,270 --> 00:46:55,860
just something<font color="#E5E5E5"> we</font><font color="#CCCCCC"> made up</font><font color="#E5E5E5"> this actually</font>

1055
00:46:52,770 --> 00:46:59,370
has<font color="#E5E5E5"> been deployed in Deutsche Telekom</font><font color="#CCCCCC"> on</font>

1056
00:46:55,860 --> 00:47:01,500
a fairly<font color="#CCCCCC"> large network they</font><font color="#E5E5E5"> run all</font><font color="#CCCCCC"> of</font>

1057
00:46:59,370 --> 00:47:07,049
this on a<font color="#E5E5E5"> single PC they have a script</font>

1058
00:47:01,500 --> 00:47:09,960
which locks into the which locks into

1059
00:47:07,050 --> 00:47:11,850
the routers<font color="#E5E5E5"> this</font><font color="#CCCCCC"> the show command parses</font>

1060
00:47:09,960 --> 00:47:14,130
the outputs<font color="#CCCCCC"> puts it together</font><font color="#E5E5E5"> in traffic</font>

1061
00:47:11,850 --> 00:47:16,770
matrix<font color="#E5E5E5"> and they have very up-to-date</font>

1062
00:47:14,130 --> 00:47:19,410
<font color="#E5E5E5">with very accurate statistics of exactly</font>

1063
00:47:16,770 --> 00:47:22,259
where the traffic is<font color="#CCCCCC"> going the whole</font>

1064
00:47:19,410 --> 00:47:24,750
<font color="#E5E5E5">process in their case looks like first</font>

1065
00:47:22,260 --> 00:47:28,140
figure<font color="#CCCCCC"> out what the</font><font color="#E5E5E5"> topology</font><font color="#CCCCCC"> is based on</font>

1066
00:47:24,750 --> 00:47:30,600
the router come<font color="#E5E5E5"> fix then look at the LDP</font>

1067
00:47:28,140 --> 00:47:34,440
data and do the<font color="#E5E5E5"> algorithm as I showed</font>

1068
00:47:30,600 --> 00:47:36,390
before<font color="#E5E5E5"> then they have to do some scaling</font>

1069
00:47:34,440 --> 00:47:37,650
<font color="#E5E5E5">because</font><font color="#CCCCCC"> they have to</font><font color="#E5E5E5"> issue that with the</font>

1070
00:47:36,390 --> 00:47:39,390
<font color="#CCCCCC">Cisco you only see the ingress the</font>

1071
00:47:37,650 --> 00:47:41,370
<font color="#E5E5E5">transit</font><font color="#CCCCCC"> traffic so they have to figure</font>

1072
00:47:39,390 --> 00:47:45,210
<font color="#CCCCCC">out some things on where where the</font>

1073
00:47:41,370 --> 00:47:46,680
traffic was<font color="#E5E5E5"> coming from and then they</font>

1074
00:47:45,210 --> 00:47:48,320
transform it into the<font color="#CCCCCC"> proper traffic</font>

1075
00:47:46,680 --> 00:47:51,990
matrix and they do all the planning

1076
00:47:48,320 --> 00:47:53,280
failure analysis<font color="#E5E5E5"> with that data and</font>

1077
00:47:51,990 --> 00:47:54,810
again<font color="#CCCCCC"> I keep saying it there's a nice</font>

1078
00:47:53,280 --> 00:48:01,080
paper about<font color="#CCCCCC"> it as a reference at the end</font>

1079
00:47:54,810 --> 00:48:05,340
<font color="#CCCCCC">of the slides</font><font color="#E5E5E5"> and it's worth reading so</font>

1080
00:48:01,080 --> 00:48:08,009
conclusion not much news here

1081
00:48:05,340 --> 00:48:09,780
it works in a multi vendor environment

1082
00:48:08,010 --> 00:48:12,180
it<font color="#CCCCCC"> gives you direct results it's not a</font>

1083
00:48:09,780 --> 00:48:19,170
whole lot<font color="#CCCCCC"> of processing</font><font color="#E5E5E5"> and very worth</font>

1084
00:48:12,180 --> 00:48:20,850
exploring then I come to<font color="#CCCCCC"> a large part of</font>

1085
00:48:19,170 --> 00:48:24,990
<font color="#E5E5E5">the tutorial about traffic</font><font color="#CCCCCC"> matrix</font>

1086
00:48:20,850 --> 00:48:26,970
estimation<font color="#E5E5E5"> this is a fairly new topic</font>

1087
00:48:24,990 --> 00:48:29,640
<font color="#E5E5E5">that have been several presentations at</font>

1088
00:48:26,970 --> 00:48:31,649
<font color="#CCCCCC">Nanak</font><font color="#E5E5E5"> from especially</font><font color="#CCCCCC"> AT&T I think</font><font color="#E5E5E5"> on</font>

1089
00:48:29,640 --> 00:48:33,180
this topic<font color="#E5E5E5"> on how</font><font color="#CCCCCC"> you can do this</font><font color="#E5E5E5"> in</font>

1090
00:48:31,650 --> 00:48:37,460
your network how you can do it fast<font color="#E5E5E5"> and</font>

1091
00:48:33,180 --> 00:48:40,319
reliable<font color="#E5E5E5"> and in my experience</font><font color="#CCCCCC"> when we</font>

1092
00:48:37,460 --> 00:48:41,530
need to<font color="#CCCCCC"> have very quickly some data to</font>

1093
00:48:40,320 --> 00:48:44,920
<font color="#E5E5E5">get started on estimate</font>

1094
00:48:41,530 --> 00:48:47,710
always is the way to go because you<font color="#CCCCCC"> can</font>

1095
00:48:44,920 --> 00:48:50,560
get your<font color="#CCCCCC"> link statistics from</font><font color="#E5E5E5"> the</font>

1096
00:48:47,710 --> 00:48:52,150
<font color="#E5E5E5">network and you don't rely on all these</font>

1097
00:48:50,560 --> 00:48:54,400
<font color="#E5E5E5">different things I've just discussed</font>

1098
00:48:52,150 --> 00:48:56,350
<font color="#E5E5E5">which are not that difficult but they</font>

1099
00:48:54,400 --> 00:49:03,610
require some<font color="#E5E5E5"> work to roll out and the</font>

1100
00:48:56,350 --> 00:49:05,470
script so let<font color="#E5E5E5"> me skip this</font><font color="#CCCCCC"> one</font><font color="#E5E5E5"> what we</font>

1101
00:49:03,610 --> 00:49:08,650
<font color="#E5E5E5">really want is figure out what the</font>

1102
00:49:05,470 --> 00:49:10,330
traffic matrix is from something<font color="#E5E5E5"> we can</font>

1103
00:49:08,650 --> 00:49:11,920
directly measure so we<font color="#E5E5E5"> don't have to set</font>

1104
00:49:10,330 --> 00:49:15,580
up<font color="#CCCCCC"> anything no configuration in the</font>

1105
00:49:11,920 --> 00:49:18,850
network<font color="#CCCCCC"> just look at the link</font>

1106
00:49:15,580 --> 00:49:21,250
utilizations<font color="#E5E5E5"> and figure out where is my</font>

1107
00:49:18,850 --> 00:49:23,230
traffic going<font color="#E5E5E5"> so to formulate the</font>

1108
00:49:21,250 --> 00:49:25,180
problem<font color="#E5E5E5"> we're going to</font><font color="#CCCCCC"> look at is how do</font>

1109
00:49:23,230 --> 00:49:28,210
<font color="#E5E5E5">i estimate my point-to-point demands</font>

1110
00:49:25,180 --> 00:49:32,700
from the<font color="#CCCCCC"> link utilizations</font><font color="#E5E5E5"> I see an MRT</font>

1111
00:49:28,210 --> 00:49:37,890
<font color="#E5E5E5">G or any other tool this ID was first</font>

1112
00:49:32,700 --> 00:49:41,710
published<font color="#E5E5E5"> by</font><font color="#CCCCCC"> Yahoo</font><font color="#E5E5E5"> d VAR d in 1996 and</font>

1113
00:49:37,890 --> 00:49:45,549
mathematical it's<font color="#E5E5E5"> a problem which shows</font>

1114
00:49:41,710 --> 00:49:48,940
up in<font color="#E5E5E5"> different areas as well like</font>

1115
00:49:45,550 --> 00:49:51,070
seismology MRI scans<font color="#E5E5E5"> they have similar</font>

1116
00:49:48,940 --> 00:49:55,510
<font color="#E5E5E5">problems to solve then we try to solve</font>

1117
00:49:51,070 --> 00:50:00,520
here so this is a funny thing<font color="#CCCCCC"> I</font>

1118
00:49:55,510 --> 00:50:04,210
discovered<font color="#E5E5E5"> in a paper already from 1937</font>

1119
00:50:00,520 --> 00:50:05,590
<font color="#CCCCCC">so we have talked here at Nano pushing</font>

1120
00:50:04,210 --> 00:50:07,600
new ideas about traffic<font color="#E5E5E5"> metrics</font>

1121
00:50:05,590 --> 00:50:11,110
<font color="#E5E5E5">estimation but it actually was written</font>

1122
00:50:07,600 --> 00:50:13,420
down in 1937 by a Dutch engineer called

1123
00:50:11,110 --> 00:50:16,450
cut<font color="#E5E5E5"> off this was around the time that</font>

1124
00:50:13,420 --> 00:50:19,030
<font color="#E5E5E5">the Erlang formulas were discovered and</font>

1125
00:50:16,450 --> 00:50:21,339
he wrote kind of angry article<font color="#CCCCCC"> and</font><font color="#E5E5E5"> he</font>

1126
00:50:19,030 --> 00:50:23,440
says it's<font color="#E5E5E5"> very nice</font><font color="#CCCCCC"> that we have</font><font color="#E5E5E5"> all</font>

1127
00:50:21,340 --> 00:50:25,840
<font color="#E5E5E5">these formulas to calculate what the</font>

1128
00:50:23,440 --> 00:50:28,060
blocking<font color="#CCCCCC"> changes on and on on a link but</font>

1129
00:50:25,840 --> 00:50:30,040
what purpose is that<font color="#E5E5E5"> formula</font><font color="#CCCCCC"> if I don't</font>

1130
00:50:28,060 --> 00:50:32,410
know how much<font color="#E5E5E5"> traffic I have what what</font>

1131
00:50:30,040 --> 00:50:35,860
am I going to<font color="#E5E5E5"> apply</font><font color="#CCCCCC"> it to so he came up</font>

1132
00:50:32,410 --> 00:50:38,920
<font color="#CCCCCC">with an algorithm which says here I</font><font color="#E5E5E5"> have</font>

1133
00:50:35,860 --> 00:50:40,360
all my telephone switches<font color="#CCCCCC"> I know how</font>

1134
00:50:38,920 --> 00:50:43,030
much<font color="#E5E5E5"> traffic goes in how much</font><font color="#CCCCCC"> traffic</font>

1135
00:50:40,360 --> 00:50:45,580
comes out and he<font color="#CCCCCC"> arrests a very</font><font color="#E5E5E5"> simple</font>

1136
00:50:43,030 --> 00:50:48,070
algorithm and<font color="#CCCCCC"> attractive algorithm to</font>

1137
00:50:45,580 --> 00:50:51,190
<font color="#CCCCCC">estimate what the</font><font color="#E5E5E5"> flows are</font><font color="#CCCCCC"> in</font><font color="#E5E5E5"> the</font>

1138
00:50:48,070 --> 00:50:53,320
telephone network<font color="#E5E5E5"> this algorithm is if</font>

1139
00:50:51,190 --> 00:50:55,160
you generalize it a little bit<font color="#E5E5E5"> directly</font>

1140
00:50:53,320 --> 00:50:58,940
applicable to<font color="#CCCCCC"> what we do on I've been</font><font color="#E5E5E5"> at</font>

1141
00:50:55,160 --> 00:51:00,520
works<font color="#CCCCCC"> today</font><font color="#E5E5E5"> so it's not new</font><font color="#CCCCCC"> but still</font><font color="#E5E5E5"> a</font>

1142
00:50:58,940 --> 00:51:03,910
very<font color="#CCCCCC"> good Heidi</font>

1143
00:51:00,520 --> 00:51:08,060
so the demand estimation<font color="#E5E5E5"> as</font><font color="#CCCCCC"> it's called</font>

1144
00:51:03,910 --> 00:51:10,549
what we try to do is from a set<font color="#CCCCCC"> of data</font>

1145
00:51:08,060 --> 00:51:14,299
we have<font color="#CCCCCC"> which is</font><font color="#E5E5E5"> the link utilizations</font>

1146
00:51:10,550 --> 00:51:16,160
<font color="#CCCCCC">if you have n</font><font color="#E5E5E5"> nodes in the network the</font>

1147
00:51:14,300 --> 00:51:17,840
number of links will be<font color="#E5E5E5"> order n so maybe</font>

1148
00:51:16,160 --> 00:51:19,879
it's<font color="#CCCCCC"> two times three times</font><font color="#E5E5E5"> and something</font>

1149
00:51:17,840 --> 00:51:22,580
<font color="#CCCCCC">like</font><font color="#E5E5E5"> that but what we need</font><font color="#CCCCCC"> to estimate</font>

1150
00:51:19,880 --> 00:51:25,100
<font color="#E5E5E5">the traffic matrix actually is n square</font>

1151
00:51:22,580 --> 00:51:28,250
<font color="#CCCCCC">so</font><font color="#E5E5E5"> we have little information from which</font>

1152
00:51:25,100 --> 00:51:32,810
we try<font color="#CCCCCC"> to estimate</font><font color="#E5E5E5"> a lot of</font><font color="#CCCCCC"> information</font>

1153
00:51:28,250 --> 00:51:35,330
<font color="#E5E5E5">so obviously this cannot be</font><font color="#CCCCCC"> done within</font>

1154
00:51:32,810 --> 00:51:37,400
with with absolute certainty<font color="#CCCCCC"> there might</font>

1155
00:51:35,330 --> 00:51:39,110
be multiple solutions<font color="#E5E5E5"> so what we're</font>

1156
00:51:37,400 --> 00:51:42,350
actually<font color="#E5E5E5"> going to do is we're</font><font color="#CCCCCC"> going to</font>

1157
00:51:39,110 --> 00:51:45,440
<font color="#E5E5E5">estimate a traffic matrix which is the</font>

1158
00:51:42,350 --> 00:51:47,750
most<font color="#E5E5E5"> likely traffic matrix there are</font>

1159
00:51:45,440 --> 00:51:50,870
many algorithms which can<font color="#CCCCCC"> do things like</font>

1160
00:51:47,750 --> 00:51:52,100
<font color="#CCCCCC">that a lot of</font><font color="#E5E5E5"> papers about them there's</font>

1161
00:51:50,870 --> 00:51:54,859
a gravity model

1162
00:51:52,100 --> 00:51:58,130
maximum likelihood estimation entropy

1163
00:51:54,860 --> 00:51:59,870
maximization and I think the point to

1164
00:51:58,130 --> 00:52:01,820
take<font color="#E5E5E5"> away from all</font><font color="#CCCCCC"> these purposes</font><font color="#E5E5E5"> it</font>

1165
00:51:59,870 --> 00:52:03,650
really<font color="#E5E5E5"> doesn't matter too</font><font color="#CCCCCC"> much which</font>

1166
00:52:01,820 --> 00:52:07,100
algorithm it is because they<font color="#E5E5E5"> basically</font>

1167
00:52:03,650 --> 00:52:08,570
give all rather similar<font color="#E5E5E5"> results I'm sure</font>

1168
00:52:07,100 --> 00:52:14,750
lots of people<font color="#CCCCCC"> will disagree</font><font color="#E5E5E5"> with I</font>

1169
00:52:08,570 --> 00:52:16,850
<font color="#E5E5E5">think it is so these these algorithms</font>

1170
00:52:14,750 --> 00:52:19,400
work<font color="#E5E5E5"> on very large sets of</font><font color="#CCCCCC"> data</font><font color="#E5E5E5"> and</font>

1171
00:52:16,850 --> 00:52:21,470
there's no way you can look at the<font color="#CCCCCC"> date</font>

1172
00:52:19,400 --> 00:52:24,560
<font color="#E5E5E5">that</font><font color="#CCCCCC"> I understand how it</font><font color="#E5E5E5"> works so here's</font>

1173
00:52:21,470 --> 00:52:26,660
a very<font color="#CCCCCC"> simple example</font><font color="#E5E5E5"> which you can just</font>

1174
00:52:24,560 --> 00:52:30,080
go<font color="#CCCCCC"> over the algorithm step by step</font><font color="#E5E5E5"> on</font>

1175
00:52:26,660 --> 00:52:33,379
how it works<font color="#E5E5E5"> we have a network here with</font>

1176
00:52:30,080 --> 00:52:35,600
routers<font color="#E5E5E5"> in Paris Brussels and London and</font>

1177
00:52:33,380 --> 00:52:37,310
the only<font color="#E5E5E5"> thing we know is</font><font color="#CCCCCC"> that on the</font>

1178
00:52:35,600 --> 00:52:41,299
link in the middle<font color="#E5E5E5"> there there</font><font color="#CCCCCC"> are 6</font>

1179
00:52:37,310 --> 00:52:43,490
megabits of traffic<font color="#E5E5E5"> also</font><font color="#CCCCCC"> we know that</font>

1180
00:52:41,300 --> 00:52:45,290
there are<font color="#CCCCCC"> two</font><font color="#E5E5E5"> flowers over</font><font color="#CCCCCC"> that link</font>

1181
00:52:43,490 --> 00:52:47,779
that<font color="#CCCCCC"> we know that from</font><font color="#E5E5E5"> from the routing</font>

1182
00:52:45,290 --> 00:52:49,100
table so the Paris Brussels and<font color="#E5E5E5"> the</font>

1183
00:52:47,780 --> 00:52:50,930
Paris longer traffic is there so the

1184
00:52:49,100 --> 00:52:54,470
only<font color="#E5E5E5"> information we get from</font><font color="#CCCCCC"> the network</font>

1185
00:52:50,930 --> 00:52:56,419
is the sermon of Paris<font color="#CCCCCC"> to Brussels and</font>

1186
00:52:54,470 --> 00:52:59,990
<font color="#E5E5E5">Paris to London is 6 megabits nothing</font>

1187
00:52:56,420 --> 00:53:03,430
else we know<font color="#E5E5E5"> so whatever we come up</font><font color="#CCCCCC"> with</font>

1188
00:52:59,990 --> 00:53:05,959
<font color="#CCCCCC">a solution</font><font color="#E5E5E5"> it needs to fit the equation</font>

1189
00:53:03,430 --> 00:53:07,899
Paris to Brussels<font color="#E5E5E5"> plus Paris the load</font>

1190
00:53:05,960 --> 00:53:11,359
<font color="#CCCCCC">Mystics</font>

1191
00:53:07,900 --> 00:53:13,339
so if<font color="#E5E5E5"> I put it in a graph and on one</font>

1192
00:53:11,359 --> 00:53:14,869
axis I put the traffic Paris the

1193
00:53:13,339 --> 00:53:17,630
<font color="#CCCCCC">Brussels on the other</font><font color="#E5E5E5"> axis I put the</font>

1194
00:53:14,869 --> 00:53:19,489
traffic<font color="#E5E5E5"> Paris to London</font><font color="#CCCCCC"> I know that it</font>

1195
00:53:17,630 --> 00:53:21,859
needs<font color="#CCCCCC"> to</font><font color="#E5E5E5"> be on the line on the thick</font>

1196
00:53:19,489 --> 00:53:23,630
blue line<font color="#E5E5E5"> there that</font><font color="#CCCCCC"> means if there is</font>

1197
00:53:21,859 --> 00:53:25,788
no traffic from Paris to Brussels<font color="#CCCCCC"> there</font>

1198
00:53:23,630 --> 00:53:29,239
must be<font color="#CCCCCC"> sixth - from Paris to London and</font>

1199
00:53:25,789 --> 00:53:32,180
the<font color="#CCCCCC"> other way around</font><font color="#E5E5E5"> or three versus</font>

1200
00:53:29,239 --> 00:53:35,449
three or two<font color="#E5E5E5"> versus for any solution on</font>

1201
00:53:32,180 --> 00:53:37,399
that<font color="#E5E5E5"> line so basically we're kind of</font>

1202
00:53:35,449 --> 00:53:41,359
stuck because<font color="#E5E5E5"> we're where would a</font>

1203
00:53:37,400 --> 00:53:43,009
solution be<font color="#CCCCCC"> to this problem there</font><font color="#E5E5E5"> we</font>

1204
00:53:41,359 --> 00:53:46,190
<font color="#CCCCCC">actually going to generate some extra</font>

1205
00:53:43,009 --> 00:53:48,440
information<font color="#E5E5E5"> in this case</font><font color="#CCCCCC"> a gravity model</font>

1206
00:53:46,190 --> 00:53:52,400
so we're going to<font color="#E5E5E5"> look at the overall</font>

1207
00:53:48,440 --> 00:53:55,130
<font color="#CCCCCC">network and we see</font><font color="#E5E5E5"> that in the total</font>

1208
00:53:52,400 --> 00:53:57,589
<font color="#CCCCCC">network brussels is responsible for 2%</font>

1209
00:53:55,130 --> 00:53:59,869
of<font color="#E5E5E5"> the overall traffic</font><font color="#CCCCCC"> londa is</font>

1210
00:53:57,589 --> 00:54:02,058
responsible for<font color="#CCCCCC"> 8% of the overall</font>

1211
00:53:59,869 --> 00:54:04,609
traffic so the extra information<font color="#E5E5E5"> we get</font>

1212
00:54:02,059 --> 00:54:07,759
here is<font color="#CCCCCC"> that</font><font color="#E5E5E5"> longer is four times</font><font color="#CCCCCC"> larger</font>

1213
00:54:04,609 --> 00:54:13,880
than<font color="#E5E5E5"> brussels so what we could assume</font>

1214
00:54:07,759 --> 00:54:15,440
<font color="#E5E5E5">here is say well if longer is larger</font>

1215
00:54:13,880 --> 00:54:17,239
than brussels then it's most<font color="#E5E5E5"> likely that</font>

1216
00:54:15,440 --> 00:54:18,499
<font color="#E5E5E5">from Paris there's more traffic going to</font>

1217
00:54:17,239 --> 00:54:21,640
longer<font color="#CCCCCC"> than the rest</font><font color="#E5E5E5"> of Brussels</font>

1218
00:54:18,499 --> 00:54:27,198
so if we put<font color="#E5E5E5"> that assumption in there</font>

1219
00:54:21,640 --> 00:54:30,788
<font color="#E5E5E5">and we know we</font><font color="#CCCCCC"> estimated</font><font color="#E5E5E5"> one megabits</font>

1220
00:54:27,199 --> 00:54:33,890
Paris to Brussels and<font color="#CCCCCC"> four to London</font>

1221
00:54:30,789 --> 00:54:35,599
<font color="#CCCCCC">because of the total traffic</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> 50</font><font color="#E5E5E5"> we</font>

1222
00:54:33,890 --> 00:54:37,640
bring<font color="#E5E5E5"> two percent</font><font color="#CCCCCC"> two longer</font><font color="#E5E5E5"> a two</font>

1223
00:54:35,599 --> 00:54:40,099
percent to Brussels<font color="#E5E5E5"> eight to London we</font>

1224
00:54:37,640 --> 00:54:42,828
see that although it's an estimate<font color="#CCCCCC"> it</font>

1225
00:54:40,099 --> 00:54:45,680
doesn't fit the solution so we have an

1226
00:54:42,829 --> 00:54:47,420
estimate we have<font color="#CCCCCC"> an requirement for the</font>

1227
00:54:45,680 --> 00:54:49,669
solution<font color="#E5E5E5"> and the only step which</font><font color="#CCCCCC"> is</font>

1228
00:54:47,420 --> 00:54:50,390
required is how do we get from<font color="#CCCCCC"> our</font>

1229
00:54:49,670 --> 00:54:52,670
estimates

1230
00:54:50,390 --> 00:54:54,288
towards a point which is part of the

1231
00:54:52,670 --> 00:54:56,690
solution<font color="#CCCCCC"> so all these</font><font color="#E5E5E5"> different</font>

1232
00:54:54,289 --> 00:54:58,670
<font color="#E5E5E5">algorithms</font><font color="#CCCCCC"> actually just figure out how</font>

1233
00:54:56,690 --> 00:55:03,140
I find the shortest path<font color="#CCCCCC"> from the red</font>

1234
00:54:58,670 --> 00:55:05,089
dots to<font color="#E5E5E5"> the blue dots on the line and so</font>

1235
00:55:03,140 --> 00:55:07,430
<font color="#CCCCCC">the blue dot can move a little</font><font color="#E5E5E5"> bit but</font>

1236
00:55:05,089 --> 00:55:09,170
it doesn't matter too<font color="#CCCCCC"> much on exactly</font>

1237
00:55:07,430 --> 00:55:13,339
where it<font color="#E5E5E5"> is it needs</font><font color="#CCCCCC"> to be in the right</font>

1238
00:55:09,170 --> 00:55:16,160
area<font color="#E5E5E5"> so in this very simple example the</font>

1239
00:55:13,339 --> 00:55:17,420
best guess we can make is that<font color="#E5E5E5"> Paris to</font>

1240
00:55:16,160 --> 00:55:19,480
Brussels is<font color="#E5E5E5"> one-and-a-half megabits</font>

1241
00:55:17,420 --> 00:55:21,400
Paris the lawn - four and<font color="#E5E5E5"> a half megabit</font>

1242
00:55:19,480 --> 00:55:22,690
if it's true<font color="#CCCCCC"> we don't</font><font color="#E5E5E5"> know because</font><font color="#CCCCCC"> this</font>

1243
00:55:21,400 --> 00:55:24,820
<font color="#E5E5E5">is the information we have</font><font color="#CCCCCC"> we</font><font color="#E5E5E5"> could</font>

1244
00:55:22,690 --> 00:55:27,720
enable<font color="#CCCCCC"> NetFlow to see if it's true but</font>

1245
00:55:24,820 --> 00:55:30,220
<font color="#CCCCCC">this is the</font><font color="#E5E5E5"> best guess we can make</font>

1246
00:55:27,720 --> 00:55:32,080
obviously<font color="#E5E5E5"> this was extremely</font><font color="#CCCCCC"> simple but</font>

1247
00:55:30,220 --> 00:55:34,750
you can imagine<font color="#CCCCCC"> that you</font><font color="#E5E5E5"> can do this</font>

1248
00:55:32,080 --> 00:55:37,180
<font color="#E5E5E5">with thousand links or and 500 routers</font>

1249
00:55:34,750 --> 00:55:39,160
<font color="#E5E5E5">exactly the same way as I just described</font>

1250
00:55:37,180 --> 00:55:42,339
it here what you actually do<font color="#CCCCCC"> is you</font>

1251
00:55:39,160 --> 00:55:44,470
formulate it<font color="#E5E5E5"> in a more formal</font><font color="#CCCCCC"> way where</font>

1252
00:55:42,340 --> 00:55:46,870
you make a routing matrix which tells

1253
00:55:44,470 --> 00:55:49,120
you which demand runs on which link and

1254
00:55:46,870 --> 00:55:54,160
you get equations like the ones I've

1255
00:55:49,120 --> 00:55:55,569
shown<font color="#E5E5E5"> before so more relevant for</font><font color="#CCCCCC"> us</font><font color="#E5E5E5"> we</font>

1256
00:55:54,160 --> 00:55:59,410
here right<font color="#CCCCCC"> now is how well does this</font>

1257
00:55:55,570 --> 00:56:00,850
work<font color="#CCCCCC"> on my own</font><font color="#E5E5E5"> network the nice thing is</font>

1258
00:55:59,410 --> 00:56:02,890
we have been<font color="#E5E5E5"> working with several</font>

1259
00:56:00,850 --> 00:56:05,440
<font color="#E5E5E5">networks so we actually know what the</font>

1260
00:56:02,890 --> 00:56:06,970
traffic matrix is for<font color="#CCCCCC"> example in</font><font color="#E5E5E5"> the</font>

1261
00:56:05,440 --> 00:56:12,460
network for<font color="#CCCCCC"> my</font><font color="#E5E5E5"> previous employer at</font>

1262
00:56:06,970 --> 00:56:16,120
Global Crossing we had this full mesh of

1263
00:56:12,460 --> 00:56:17,650
tunnels in the network and so we had an

1264
00:56:16,120 --> 00:56:20,080
exact traffic matrix we know where the

1265
00:56:17,650 --> 00:56:21,550
traffic is<font color="#E5E5E5"> going</font><font color="#CCCCCC"> so it's an ideal case</font>

1266
00:56:20,080 --> 00:56:22,990
<font color="#E5E5E5">I'm on testing all these different</font>

1267
00:56:21,550 --> 00:56:24,820
algorithms<font color="#CCCCCC"> because I can look at the</font>

1268
00:56:22,990 --> 00:56:26,919
link loads<font color="#E5E5E5"> I can run</font><font color="#CCCCCC"> my estimation</font>

1269
00:56:24,820 --> 00:56:28,480
algorithm and compare it<font color="#E5E5E5"> to the traffic</font>

1270
00:56:26,920 --> 00:56:30,580
I see on the tunnels and see if if it

1271
00:56:28,480 --> 00:56:34,720
matches<font color="#CCCCCC"> so we've done that here in</font><font color="#E5E5E5"> this</font>

1272
00:56:30,580 --> 00:56:36,580
graph on the<font color="#E5E5E5"> x-axis you see the known</font>

1273
00:56:34,720 --> 00:56:38,500
<font color="#E5E5E5">demands so those are the demands we've</font>

1274
00:56:36,580 --> 00:56:41,220
actually measured<font color="#E5E5E5"> on the MPLS tunnels on</font>

1275
00:56:38,500 --> 00:56:43,750
the<font color="#CCCCCC"> y-axis you</font><font color="#E5E5E5"> see what we've estimated</font>

1276
00:56:41,220 --> 00:56:47,169
<font color="#E5E5E5">now the first thing you see</font><font color="#CCCCCC"> here is that</font>

1277
00:56:43,750 --> 00:56:48,430
it's<font color="#E5E5E5"> not about not at all accurate</font><font color="#CCCCCC"> if it</font>

1278
00:56:47,170 --> 00:56:50,980
was a<font color="#E5E5E5"> perfect match</font>

1279
00:56:48,430 --> 00:56:52,750
everything would be<font color="#E5E5E5"> on the thick blue</font>

1280
00:56:50,980 --> 00:56:55,570
line<font color="#E5E5E5"> there but you see that there was a</font>

1281
00:56:52,750 --> 00:56:59,290
lot of<font color="#E5E5E5"> spread or</font><font color="#CCCCCC"> underline</font><font color="#E5E5E5"> the good news</font>

1282
00:56:55,570 --> 00:57:01,570
though is<font color="#E5E5E5"> that the algorithm did pick</font>

1283
00:56:59,290 --> 00:57:04,480
out the large<font color="#E5E5E5"> demand so if demand is</font>

1284
00:57:01,570 --> 00:57:05,950
large in real life it will<font color="#E5E5E5"> also be large</font>

1285
00:57:04,480 --> 00:57:07,750
<font color="#CCCCCC">in the estimation it might not be</font>

1286
00:57:05,950 --> 00:57:09,700
exactly<font color="#E5E5E5"> accurate but it does a fairly</font>

1287
00:57:07,750 --> 00:57:12,280
<font color="#E5E5E5">good job and getting demands into the</font>

1288
00:57:09,700 --> 00:57:14,140
right<font color="#CCCCCC"> direction</font><font color="#E5E5E5"> so</font><font color="#CCCCCC"> the first conclusion</font>

1289
00:57:12,280 --> 00:57:16,720
might be that this<font color="#E5E5E5"> is very</font><font color="#CCCCCC"> disappointing</font>

1290
00:57:14,140 --> 00:57:20,170
and<font color="#E5E5E5"> doesn't work at all and just</font><font color="#CCCCCC"> discard</font>

1291
00:57:16,720 --> 00:57:22,390
it but<font color="#E5E5E5"> what we need to realize is</font><font color="#CCCCCC"> that</font>

1292
00:57:20,170 --> 00:57:23,920
we're not so<font color="#E5E5E5"> much interested</font><font color="#CCCCCC"> in</font><font color="#E5E5E5"> the</font>

1293
00:57:22,390 --> 00:57:25,150
demands themselves because we're<font color="#E5E5E5"> not</font>

1294
00:57:23,920 --> 00:57:25,950
<font color="#E5E5E5">going to use</font><font color="#CCCCCC"> them for billing or</font>

1295
00:57:25,150 --> 00:57:28,330
something like<font color="#E5E5E5"> that</font>

1296
00:57:25,950 --> 00:57:32,058
what we're<font color="#E5E5E5"> interested in is using them</font>

1297
00:57:28,330 --> 00:57:35,119
<font color="#CCCCCC">for resilience analysis for</font>

1298
00:57:32,059 --> 00:57:36,829
<font color="#CCCCCC">passatti</font><font color="#E5E5E5"> planning for optimization</font>

1299
00:57:35,119 --> 00:57:40,219
anything like that<font color="#E5E5E5"> so the</font><font color="#CCCCCC"> question is if</font>

1300
00:57:36,829 --> 00:57:41,809
I<font color="#CCCCCC"> use this estimated traffic matrix</font>

1301
00:57:40,219 --> 00:57:44,989
which I know<font color="#E5E5E5"> it's not</font><font color="#CCCCCC"> very accurate and</font>

1302
00:57:41,809 --> 00:57:47,150
I use it<font color="#CCCCCC"> for</font><font color="#E5E5E5"> failing every link in the</font>

1303
00:57:44,989 --> 00:57:49,039
network and seeing what happens<font color="#CCCCCC"> will it</font>

1304
00:57:47,150 --> 00:57:52,160
give me the<font color="#E5E5E5"> same results as the</font><font color="#CCCCCC"> real</font>

1305
00:57:49,039 --> 00:57:55,999
traffic matrix<font color="#E5E5E5"> and then the amazing</font>

1306
00:57:52,160 --> 00:57:58,129
<font color="#E5E5E5">thing happens so here</font><font color="#CCCCCC"> we've ran</font><font color="#E5E5E5"> failure</font>

1307
00:57:55,999 --> 00:58:00,799
simulation for a full<font color="#E5E5E5"> network we fill</font>

1308
00:57:58,130 --> 00:58:02,449
every link in the network one by one we

1309
00:58:00,799 --> 00:58:04,369
look at all<font color="#E5E5E5"> the other links</font><font color="#CCCCCC"> and we</font><font color="#E5E5E5"> keep</font>

1310
00:58:02,449 --> 00:58:06,459
track of<font color="#CCCCCC"> the highest load we see on any</font>

1311
00:58:04,369 --> 00:58:09,799
<font color="#E5E5E5">of these</font><font color="#CCCCCC"> links so it's the worst-case</font>

1312
00:58:06,459 --> 00:58:11,058
analysis of every possible failure<font color="#E5E5E5"> this</font>

1313
00:58:09,799 --> 00:58:12,799
will tell you if<font color="#CCCCCC"> there is</font><font color="#E5E5E5"> congestion</font>

1314
00:58:11,059 --> 00:58:16,880
somewhere in the<font color="#CCCCCC"> network based</font><font color="#E5E5E5"> on</font><font color="#CCCCCC"> a</font>

1315
00:58:12,799 --> 00:58:21,559
<font color="#E5E5E5">possible link feeling we do this using</font>

1316
00:58:16,880 --> 00:58:23,119
<font color="#E5E5E5">the traffic metric we've</font><font color="#CCCCCC"> estimated we do</font>

1317
00:58:21,559 --> 00:58:27,140
this<font color="#E5E5E5"> using the traffic matrix we have</font>

1318
00:58:23,119 --> 00:58:29,089
from MPLS and it's amazing but it just

1319
00:58:27,140 --> 00:58:31,430
exactly gives you the same results<font color="#CCCCCC"> so</font>

1320
00:58:29,089 --> 00:58:34,989
<font color="#CCCCCC">for this purpose</font><font color="#E5E5E5"> the estimated traffic</font>

1321
00:58:31,430 --> 00:58:34,989
matrix<font color="#E5E5E5"> actually did extremely well</font>

1322
00:58:35,439 --> 00:58:39,859
so there is an explanation<font color="#E5E5E5"> behind it</font>

1323
00:58:38,209 --> 00:58:41,839
because<font color="#CCCCCC"> it looks a little bit like</font><font color="#E5E5E5"> magic</font>

1324
00:58:39,859 --> 00:58:43,400
<font color="#E5E5E5">like you have this total garbage</font><font color="#CCCCCC"> data</font>

1325
00:58:41,839 --> 00:58:46,099
and then<font color="#CCCCCC"> suddenly</font><font color="#E5E5E5"> everything works out</font>

1326
00:58:43,400 --> 00:58:48,109
perfectly well but there is a good

1327
00:58:46,099 --> 00:58:50,929
<font color="#E5E5E5">explanation behind it we're here trying</font>

1328
00:58:48,109 --> 00:58:53,089
<font color="#CCCCCC">to</font><font color="#E5E5E5"> estimate individual demands which</font>

1329
00:58:50,929 --> 00:58:56,150
there are a lot of<font color="#E5E5E5"> them and</font><font color="#CCCCCC"> they are</font>

1330
00:58:53,089 --> 00:58:59,058
<font color="#E5E5E5">very small compared to the total traffic</font>

1331
00:58:56,150 --> 00:59:01,519
we see on the<font color="#E5E5E5"> network but if you do and</font>

1332
00:58:59,059 --> 00:59:04,660
fill your analysis or something for

1333
00:59:01,519 --> 00:59:07,279
capacity<font color="#E5E5E5"> planning if a link fails</font>

1334
00:59:04,660 --> 00:59:10,098
<font color="#E5E5E5">traffic is not distributed randomly over</font>

1335
00:59:07,279 --> 00:59:12,529
the network<font color="#CCCCCC"> so if my one of my</font><font color="#E5E5E5"> big links</font>

1336
00:59:10,099 --> 00:59:14,660
of the ocean fails<font color="#E5E5E5"> there might be two or</font>

1337
00:59:12,529 --> 00:59:17,630
<font color="#CCCCCC">three</font><font color="#E5E5E5"> more so traffic will redistribute</font>

1338
00:59:14,660 --> 00:59:19,848
<font color="#E5E5E5">over one or</font><font color="#CCCCCC"> two different paths</font><font color="#E5E5E5"> so these</font>

1339
00:59:17,630 --> 00:59:21,439
<font color="#E5E5E5">demands actually stay together in groups</font>

1340
00:59:19,849 --> 00:59:23,059
<font color="#CCCCCC">half of the traffic might go one</font>

1341
00:59:21,439 --> 00:59:23,839
direction half of traffic might go the

1342
00:59:23,059 --> 00:59:26,239
other direction

1343
00:59:23,839 --> 00:59:29,328
I might have trouble estimating<font color="#E5E5E5"> these</font>

1344
00:59:26,239 --> 00:59:31,249
demands individually but together<font color="#E5E5E5"> I can</font>

1345
00:59:29,329 --> 00:59:33,319
actually<font color="#CCCCCC"> estimate them fairly</font><font color="#E5E5E5"> accurately</font>

1346
00:59:31,249 --> 00:59:35,509
<font color="#E5E5E5">and that's exactly the</font><font color="#CCCCCC"> effect you see</font>

1347
00:59:33,319 --> 00:59:38,739
<font color="#E5E5E5">happening</font><font color="#CCCCCC"> here</font><font color="#E5E5E5"> so for your deployment</font>

1348
00:59:35,509 --> 00:59:41,360
purposes it gives you a<font color="#E5E5E5"> very good data</font>

1349
00:59:38,739 --> 00:59:45,880
we can even make<font color="#E5E5E5"> it better</font>

1350
00:59:41,360 --> 00:59:49,580
and I've now presented it as an

1351
00:59:45,880 --> 00:59:51,500
<font color="#CCCCCC">either/or solution so it'll do</font><font color="#E5E5E5"> something</font>

1352
00:59:49,580 --> 00:59:53,840
with<font color="#E5E5E5"> DCU or</font><font color="#CCCCCC"> BGP policy accounting</font><font color="#E5E5E5"> or</font>

1353
00:59:51,500 --> 00:59:58,160
<font color="#CCCCCC">NetFlow</font><font color="#E5E5E5"> or you do estimation but why not</font>

1354
00:59:53,840 --> 00:59:59,780
do both<font color="#CCCCCC"> if you run an estimation</font><font color="#E5E5E5"> you</font>

1355
00:59:58,160 --> 01:00:02,210
will figure<font color="#CCCCCC"> out where are your</font><font color="#E5E5E5"> large</font>

1356
00:59:59,780 --> 01:00:05,720
traffic<font color="#CCCCCC"> demands once you know them</font><font color="#E5E5E5"> you</font>

1357
01:00:02,210 --> 01:00:08,000
<font color="#CCCCCC">can set up</font><font color="#E5E5E5"> which people see accounting</font>

1358
01:00:05,720 --> 01:00:10,069
<font color="#E5E5E5">on just a few routers that</font><font color="#CCCCCC"> will exactly</font>

1359
01:00:08,000 --> 01:00:11,930
pin<font color="#E5E5E5"> down those very large demands and</font>

1360
01:00:10,070 --> 01:00:15,230
everything you have<font color="#E5E5E5"> left you can</font>

1361
01:00:11,930 --> 01:00:17,870
estimate if you look at the error in the

1362
01:00:15,230 --> 01:00:20,780
data<font color="#E5E5E5"> you</font><font color="#CCCCCC"> have you see in this</font><font color="#E5E5E5"> graph here</font>

1363
01:00:17,870 --> 01:00:21,440
<font color="#CCCCCC">that actually</font><font color="#E5E5E5"> after adding</font><font color="#CCCCCC"> just a few</font>

1364
01:00:20,780 --> 01:00:23,270
measurements

1365
01:00:21,440 --> 01:00:28,370
your average error in the day that goes

1366
01:00:23,270 --> 01:00:29,930
down<font color="#CCCCCC"> to almost</font><font color="#E5E5E5"> zero</font><font color="#CCCCCC"> I have to admit</font><font color="#E5E5E5"> this</font>

1367
01:00:28,370 --> 01:00:31,819
<font color="#CCCCCC">is also a little bit</font><font color="#E5E5E5"> caused by the fact</font>

1368
01:00:29,930 --> 01:00:33,200
that most traffic is<font color="#E5E5E5"> just carried by a</font>

1369
01:00:31,820 --> 01:00:34,850
few<font color="#CCCCCC"> D months so if we know them</font>

1370
01:00:33,200 --> 01:00:37,580
<font color="#CCCCCC">obviously the error in the rest becomes</font>

1371
01:00:34,850 --> 01:00:42,259
<font color="#CCCCCC">much smaller</font><font color="#E5E5E5"> but well it's not fake it's</font>

1372
01:00:37,580 --> 01:00:46,060
real so this was the<font color="#E5E5E5"> overview on how it</font>

1373
01:00:42,260 --> 01:00:48,470
works<font color="#E5E5E5"> we did actually another case study</font>

1374
01:00:46,060 --> 01:00:50,840
<font color="#CCCCCC">kind</font><font color="#E5E5E5"> of similar what I've just shown on</font>

1375
01:00:48,470 --> 01:00:53,569
the different<font color="#E5E5E5"> network also</font><font color="#CCCCCC"> one where we</font>

1376
01:00:50,840 --> 01:00:57,020
have<font color="#E5E5E5"> at the traffic metrics from</font><font color="#CCCCCC"> LDP and</font>

1377
01:00:53,570 --> 01:00:59,450
we've done<font color="#E5E5E5"> a similar analysis so we</font><font color="#CCCCCC"> have</font>

1378
01:00:57,020 --> 01:01:01,660
a<font color="#E5E5E5"> network of about</font><font color="#CCCCCC"> 80 routers 200</font>

1379
01:00:59,450 --> 01:01:06,410
circuits<font color="#CCCCCC"> a</font><font color="#E5E5E5"> traffic</font><font color="#CCCCCC"> matrix of around</font>

1380
01:01:01,660 --> 01:01:08,930
<font color="#CCCCCC">2,500 50 entries the reason it's not</font>

1381
01:01:06,410 --> 01:01:10,700
exactly<font color="#CCCCCC"> and square is that</font><font color="#E5E5E5"> the core</font>

1382
01:01:08,930 --> 01:01:12,609
routers<font color="#CCCCCC"> don't source or sink traffic so</font>

1383
01:01:10,700 --> 01:01:14,960
they're<font color="#E5E5E5"> not part of the traffic matrix</font>

1384
01:01:12,610 --> 01:01:16,970
we know the traffic matrix because you

1385
01:01:14,960 --> 01:01:19,940
can measure it one of the methods I've

1386
01:01:16,970 --> 01:01:23,890
explained before<font color="#E5E5E5"> and in this case</font><font color="#CCCCCC"> study</font>

1387
01:01:19,940 --> 01:01:26,600
<font color="#E5E5E5">we look at a few different evaluations</font>

1388
01:01:23,890 --> 01:01:29,660
<font color="#E5E5E5">first of all how do the two matrices</font>

1389
01:01:26,600 --> 01:01:31,400
compare the second one is how well does

1390
01:01:29,660 --> 01:01:33,980
it<font color="#E5E5E5"> predict the worst case link</font>

1391
01:01:31,400 --> 01:01:35,480
utilization so if I do a failure<font color="#E5E5E5"> will it</font>

1392
01:01:33,980 --> 01:01:38,870
tell me<font color="#CCCCCC"> exactly what's going</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> happen</font>

1393
01:01:35,480 --> 01:01:41,090
and if I use<font color="#E5E5E5"> it for other tools for</font>

1394
01:01:38,870 --> 01:01:43,100
<font color="#E5E5E5">example in a tool for optimizing</font><font color="#CCCCCC"> igb</font>

1395
01:01:41,090 --> 01:01:46,640
metrics there are several papers<font color="#E5E5E5"> are</font>

1396
01:01:43,100 --> 01:01:49,750
there and implementations<font color="#E5E5E5"> will that also</font>

1397
01:01:46,640 --> 01:01:49,750
<font color="#E5E5E5">give me the</font><font color="#CCCCCC"> same results</font>

1398
01:01:49,880 --> 01:01:57,920
so the<font color="#E5E5E5"> procedure for this comparison is</font>

1399
01:01:52,790 --> 01:01:59,870
as follows<font color="#E5E5E5"> we start with a traffic and</font>

1400
01:01:57,920 --> 01:02:02,900
network with<font color="#E5E5E5"> a known traffic matrix</font>

1401
01:01:59,870 --> 01:02:05,089
which we call<font color="#E5E5E5"> plan a we run a simulation</font>

1402
01:02:02,900 --> 01:02:08,840
<font color="#CCCCCC">so we know exactly</font><font color="#E5E5E5"> what the link loads</font>

1403
01:02:05,090 --> 01:02:12,080
are everywhere in the network<font color="#E5E5E5"> that</font><font color="#CCCCCC"> we</font>

1404
01:02:08,840 --> 01:02:13,580
call<font color="#CCCCCC"> plan</font><font color="#E5E5E5"> B and in plan B we only have</font>

1405
01:02:12,080 --> 01:02:16,310
to link<font color="#CCCCCC"> load so we don't have to real</font>

1406
01:02:13,580 --> 01:02:18,140
traffic<font color="#CCCCCC"> matrix anymore</font><font color="#E5E5E5"> on plan B we're</font>

1407
01:02:16,310 --> 01:02:20,960
<font color="#CCCCCC">going</font><font color="#E5E5E5"> to run an estimation process and</font>

1408
01:02:18,140 --> 01:02:23,240
then we're going to<font color="#CCCCCC"> do these various</font>

1409
01:02:20,960 --> 01:02:25,730
evaluations on both plan a original plan

1410
01:02:23,240 --> 01:02:31,959
<font color="#CCCCCC">to</font><font color="#E5E5E5"> estimate the plan plan B and compare</font>

1411
01:02:25,730 --> 01:02:34,480
them to<font color="#E5E5E5"> each other here you go with</font>

1412
01:02:31,960 --> 01:02:37,220
estimating the traffic matrix itself

1413
01:02:34,480 --> 01:02:39,650
<font color="#E5E5E5">again on the x-axis you</font><font color="#CCCCCC"> see the real</font>

1414
01:02:37,220 --> 01:02:42,020
traffic<font color="#E5E5E5"> on the y-axis to estimate the</font>

1415
01:02:39,650 --> 01:02:44,620
traffic and<font color="#E5E5E5"> a fairly similar result to</font>

1416
01:02:42,020 --> 01:02:47,360
what<font color="#CCCCCC"> I've shown in in the first picture</font>

1417
01:02:44,620 --> 01:02:49,009
<font color="#CCCCCC">it</font><font color="#E5E5E5"> basically puts it the demands in</font><font color="#CCCCCC"> the</font>

1418
01:02:47,360 --> 01:02:53,810
right direction but extremely<font color="#E5E5E5"> accurate</font>

1419
01:02:49,010 --> 01:02:56,300
<font color="#CCCCCC">it is not then we're going</font><font color="#E5E5E5"> to look at</font>

1420
01:02:53,810 --> 01:02:58,100
all the<font color="#E5E5E5"> failures so both networks fill</font>

1421
01:02:56,300 --> 01:02:59,930
every link<font color="#E5E5E5"> keep track of the highest</font>

1422
01:02:58,100 --> 01:03:02,920
utilization we see on<font color="#E5E5E5"> every other link</font>

1423
01:02:59,930 --> 01:03:10,160
in the network<font color="#E5E5E5"> compare them and again</font>

1424
01:03:02,920 --> 01:03:13,910
<font color="#E5E5E5">here you see a similar</font><font color="#CCCCCC"> thing that they</font>

1425
01:03:10,160 --> 01:03:16,160
provide<font color="#E5E5E5"> almost exactly the</font><font color="#CCCCCC"> same results</font>

1426
01:03:13,910 --> 01:03:19,640
<font color="#E5E5E5">on the estimated and</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> real traffic</font>

1427
01:03:16,160 --> 01:03:21,379
<font color="#CCCCCC">matrix and we've done</font><font color="#E5E5E5"> this on actually</font>

1428
01:03:19,640 --> 01:03:25,359
<font color="#E5E5E5">more than than those two networks and we</font>

1429
01:03:21,380 --> 01:03:28,310
see it in in all those cases<font color="#E5E5E5"> happening</font>

1430
01:03:25,360 --> 01:03:30,290
then we<font color="#CCCCCC"> go to a little bit</font><font color="#E5E5E5"> more complex</font>

1431
01:03:28,310 --> 01:03:32,210
case here we're going to<font color="#CCCCCC"> optimize the</font>

1432
01:03:30,290 --> 01:03:34,100
network so<font color="#CCCCCC"> we</font><font color="#E5E5E5"> have this tool which</font><font color="#CCCCCC"> you</font>

1433
01:03:32,210 --> 01:03:36,050
give it a network<font color="#E5E5E5"> with traffic and</font>

1434
01:03:34,100 --> 01:03:40,339
certain routing<font color="#E5E5E5"> and it's going to find</font>

1435
01:03:36,050 --> 01:03:41,480
better metrics to battle or balance the

1436
01:03:40,340 --> 01:03:43,280
<font color="#CCCCCC">traffic or actually get your</font>

1437
01:03:41,480 --> 01:03:45,860
utilizations down in the network

1438
01:03:43,280 --> 01:03:48,260
basically<font color="#E5E5E5"> get more traffic over</font><font color="#CCCCCC"> the same</font>

1439
01:03:45,860 --> 01:03:50,840
<font color="#CCCCCC">network by picking different hours bf4</font>

1440
01:03:48,260 --> 01:03:52,700
<font color="#CCCCCC">IRCs metrics so what would</font><font color="#E5E5E5"> happen if we</font>

1441
01:03:50,840 --> 01:03:54,590
feed this<font color="#E5E5E5"> inaccurate estimate the</font>

1442
01:03:52,700 --> 01:03:59,509
traffic<font color="#CCCCCC"> matrix into that estimation</font>

1443
01:03:54,590 --> 01:04:01,490
process what you see here is that<font color="#E5E5E5"> on the</font>

1444
01:03:59,510 --> 01:04:03,859
<font color="#CCCCCC">x-axis</font><font color="#E5E5E5"> again based</font><font color="#CCCCCC"> on the</font><font color="#E5E5E5"> measured</font>

1445
01:04:01,490 --> 01:04:05,720
<font color="#E5E5E5">demands optimize the network</font>

1446
01:04:03,859 --> 01:04:08,150
and look looking at<font color="#E5E5E5"> the link utilization</font>

1447
01:04:05,720 --> 01:04:10,368
<font color="#E5E5E5">so the link loads using emergency or</font>

1448
01:04:08,150 --> 01:04:12,799
something<font color="#CCCCCC"> like that although I</font><font color="#E5E5E5"> access</font>

1449
01:04:10,369 --> 01:04:15,559
the based on<font color="#E5E5E5"> the estimated amounts here</font>

1450
01:04:12,799 --> 01:04:17,809
you see that they<font color="#E5E5E5"> don't match at all</font><font color="#CCCCCC"> so</font>

1451
01:04:15,559 --> 01:04:20,839
if I give it the<font color="#E5E5E5"> real traffic matrix it</font>

1452
01:04:17,809 --> 01:04:22,819
comes up with a<font color="#E5E5E5"> solution and</font><font color="#CCCCCC"> four new</font>

1453
01:04:20,839 --> 01:04:24,769
metrics and therefore new routing<font color="#CCCCCC"> and</font>

1454
01:04:22,819 --> 01:04:26,299
new link<font color="#CCCCCC"> utilizations same for the</font>

1455
01:04:24,769 --> 01:04:29,390
estimate but they don't match with each

1456
01:04:26,299 --> 01:04:31,250
<font color="#E5E5E5">other that does not necessarily</font><font color="#CCCCCC"> mean</font>

1457
01:04:29,390 --> 01:04:32,269
that one did worse or better than<font color="#CCCCCC"> the</font>

1458
01:04:31,250 --> 01:04:34,970
other it means they did something

1459
01:04:32,269 --> 01:04:37,879
<font color="#E5E5E5">different</font><font color="#CCCCCC"> so what</font><font color="#E5E5E5"> I'm going to compare</font>

1460
01:04:34,970 --> 01:04:39,680
<font color="#E5E5E5">in this case it's not</font><font color="#CCCCCC"> linked a to link a</font>

1461
01:04:37,880 --> 01:04:41,779
in the other<font color="#CCCCCC"> network</font><font color="#E5E5E5"> but I'm going to</font>

1462
01:04:39,680 --> 01:04:43,490
compare the highest link in one network

1463
01:04:41,779 --> 01:04:45,650
<font color="#E5E5E5">to the highest link in the other</font><font color="#CCCCCC"> Network</font>

1464
01:04:43,490 --> 01:04:47,240
<font color="#CCCCCC">the</font><font color="#E5E5E5"> second highest the second highest to</font>

1465
01:04:45,650 --> 01:04:51,799
see if they give this to give the same

1466
01:04:47,240 --> 01:04:54,740
<font color="#E5E5E5">type of results and what happens they</font>

1467
01:04:51,799 --> 01:04:57,430
<font color="#E5E5E5">basically give the same results there's</font>

1468
01:04:54,740 --> 01:04:59,209
a few differences<font color="#CCCCCC"> the estimated</font>

1469
01:04:57,430 --> 01:05:03,500
<font color="#CCCCCC">utilization actually I think it</font><font color="#E5E5E5"> was</font>

1470
01:04:59,210 --> 01:05:06,470
something<font color="#E5E5E5"> like 5% higher than with the</font>

1471
01:05:03,500 --> 01:05:09,049
<font color="#E5E5E5">real traffic matrix but if I compare the</font>

1472
01:05:06,470 --> 01:05:11,930
link based on an ordering<font color="#E5E5E5"> so the highest</font>

1473
01:05:09,049 --> 01:05:15,589
to the lowest<font color="#E5E5E5"> it actually gives a</font>

1474
01:05:11,930 --> 01:05:17,690
comparable good solution<font color="#E5E5E5"> to my new using</font>

1475
01:05:15,589 --> 01:05:19,369
my new metrics the thing is the

1476
01:05:17,690 --> 01:05:24,109
different so it gives you a<font color="#CCCCCC"> different</font>

1477
01:05:19,369 --> 01:05:26,380
solution exactly<font color="#CCCCCC"> the same analysis for</font>

1478
01:05:24,109 --> 01:05:29,029
the worst case utilization so again

1479
01:05:26,380 --> 01:05:30,859
optimize the metrics<font color="#E5E5E5"> compare them but</font>

1480
01:05:29,029 --> 01:05:33,049
now look<font color="#E5E5E5"> at</font><font color="#CCCCCC"> all the</font><font color="#E5E5E5"> failures as well and</font>

1481
01:05:30,859 --> 01:05:34,720
again you see<font color="#CCCCCC"> that</font><font color="#E5E5E5"> there</font><font color="#CCCCCC"> is a little</font><font color="#E5E5E5"> bit</font>

1482
01:05:33,049 --> 01:05:36,890
of difference between<font color="#CCCCCC"> the</font><font color="#E5E5E5"> two networks</font>

1483
01:05:34,720 --> 01:05:39,319
<font color="#E5E5E5">the difference actually is smaller than</font>

1484
01:05:36,890 --> 01:05:41,390
<font color="#CCCCCC">before also</font><font color="#E5E5E5"> because if you take a link</font>

1485
01:05:39,319 --> 01:05:43,430
<font color="#E5E5E5">out of</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> network the remaining number</font>

1486
01:05:41,390 --> 01:05:46,490
of<font color="#CCCCCC"> choices you have is just smaller so</font>

1487
01:05:43,430 --> 01:05:48,828
it needs to<font color="#CCCCCC"> be closer together and again</font>

1488
01:05:46,490 --> 01:05:51,019
<font color="#E5E5E5">if I order them</font><font color="#CCCCCC"> you see</font><font color="#E5E5E5"> that they</font>

1489
01:05:48,829 --> 01:05:53,690
actually<font color="#CCCCCC"> give well pretty</font><font color="#E5E5E5"> much the same</font>

1490
01:05:51,019 --> 01:06:00,589
results<font color="#E5E5E5"> for</font><font color="#CCCCCC"> these for the estimated</font>

1491
01:05:53,690 --> 01:06:01,910
versus the real traffic matrix then the

1492
01:06:00,589 --> 01:06:05,630
thing I showed before as well what

1493
01:06:01,910 --> 01:06:07,640
happens if I add measurement data<font color="#E5E5E5"> so in</font>

1494
01:06:05,630 --> 01:06:10,880
here in<font color="#E5E5E5"> this</font><font color="#CCCCCC"> case I estimate my traffic</font>

1495
01:06:07,640 --> 01:06:12,500
<font color="#E5E5E5">matrix</font><font color="#CCCCCC"> I take the hundred</font><font color="#E5E5E5"> highest</font>

1496
01:06:10,880 --> 01:06:15,910
demands<font color="#E5E5E5"> from the traffic map</font><font color="#CCCCCC"> from the</font>

1497
01:06:12,500 --> 01:06:19,390
estimated traffic traffic matrix<font color="#E5E5E5"> though</font>

1498
01:06:15,910 --> 01:06:20,649
<font color="#CCCCCC">I measure</font><font color="#E5E5E5"> I</font><font color="#CCCCCC"> setup DCU or b2b policy</font>

1499
01:06:19,390 --> 01:06:23,828
accounting on my<font color="#E5E5E5"> network to measure</font>

1500
01:06:20,650 --> 01:06:25,960
<font color="#E5E5E5">exactly those demands and then I run the</font>

1501
01:06:23,829 --> 01:06:28,809
estimation again but now I fill in the

1502
01:06:25,960 --> 01:06:32,980
<font color="#E5E5E5">demand I already know and it shows that</font>

1503
01:06:28,809 --> 01:06:37,839
<font color="#E5E5E5">we're just running DCU on hundreds</font><font color="#CCCCCC"> of</font>

1504
01:06:32,980 --> 01:06:41,849
these<font color="#CCCCCC"> amounts which covers 38% of the</font>

1505
01:06:37,839 --> 01:06:44,440
<font color="#E5E5E5">traffic</font><font color="#CCCCCC"> you get a lot large traffic</font>

1506
01:06:41,849 --> 01:06:46,119
<font color="#E5E5E5">perfectly accurate in</font><font color="#CCCCCC"> a traffic matrix</font>

1507
01:06:44,440 --> 01:06:50,859
and all the smaller ones<font color="#CCCCCC"> still</font><font color="#E5E5E5"> have some</font>

1508
01:06:46,119 --> 01:06:52,480
variation<font color="#E5E5E5"> I can take a slightly</font>

1509
01:06:50,859 --> 01:06:54,339
different<font color="#E5E5E5"> approach</font><font color="#CCCCCC"> that say well I don't</font>

1510
01:06:52,480 --> 01:06:56,440
<font color="#CCCCCC">want to</font><font color="#E5E5E5"> go everywhere</font><font color="#CCCCCC"> in my network</font><font color="#E5E5E5"> and</font>

1511
01:06:54,339 --> 01:06:59,380
configure one or two buckets<font color="#E5E5E5"> just</font><font color="#CCCCCC"> take</font>

1512
01:06:56,440 --> 01:07:02,530
the<font color="#E5E5E5"> top ten routers</font><font color="#CCCCCC"> of the top ten</font>

1513
01:06:59,380 --> 01:07:05,260
routers you configure either<font color="#CCCCCC"> net flow</font>

1514
01:07:02,530 --> 01:07:08,619
policy<font color="#CCCCCC"> count in DCU just in 10 routers</font>

1515
01:07:05,260 --> 01:07:11,140
use that data to improve the estimation

1516
01:07:08,619 --> 01:07:13,890
<font color="#E5E5E5">and see how that</font><font color="#CCCCCC"> works and here</font><font color="#E5E5E5"> on 10</font>

1517
01:07:11,140 --> 01:07:16,690
routers you actually capture capture<font color="#E5E5E5"> 40</font>

1518
01:07:13,890 --> 01:07:18,640
41 percent of<font color="#E5E5E5"> the traffic</font><font color="#CCCCCC"> so remember</font>

1519
01:07:16,690 --> 01:07:21,099
this<font color="#E5E5E5"> was a</font><font color="#CCCCCC"> network but I think</font><font color="#E5E5E5"> about 80</font>

1520
01:07:18,640 --> 01:07:23,500
routers<font color="#E5E5E5"> so in 10 routers you have</font>

1521
01:07:21,099 --> 01:07:25,690
actually<font color="#E5E5E5"> 40 percent of the traffic which</font>

1522
01:07:23,500 --> 01:07:31,720
shows again that<font color="#E5E5E5"> most of the traffic is</font>

1523
01:07:25,690 --> 01:07:34,660
just<font color="#E5E5E5"> at a few places so the combination</font>

1524
01:07:31,720 --> 01:07:36,609
of estimation and<font color="#E5E5E5"> measuring a few things</font>

1525
01:07:34,660 --> 01:07:39,910
is I think<font color="#E5E5E5"> very powerful especially</font>

1526
01:07:36,609 --> 01:07:43,480
<font color="#CCCCCC">because it's still kind of scary</font>

1527
01:07:39,910 --> 01:07:45,339
to fully rely for<font color="#E5E5E5"> your your planning and</font>

1528
01:07:43,480 --> 01:07:47,589
failure<font color="#E5E5E5"> analysis on just estimated</font>

1529
01:07:45,339 --> 01:07:49,900
<font color="#E5E5E5">values if you</font><font color="#CCCCCC"> can measure them it gives</font>

1530
01:07:47,589 --> 01:07:52,420
<font color="#E5E5E5">you some confidence</font><font color="#CCCCCC"> on at least</font><font color="#E5E5E5"> my large</font>

1531
01:07:49,900 --> 01:07:54,400
flows<font color="#CCCCCC"> are accurate and it gives you an</font>

1532
01:07:52,420 --> 01:07:56,589
<font color="#E5E5E5">idea on how</font><font color="#CCCCCC"> well the estimation did so</font>

1533
01:07:54,400 --> 01:08:01,869
you can keep an eye on if things keep

1534
01:07:56,589 --> 01:08:03,460
are still in<font color="#E5E5E5"> sync if I run all my</font>

1535
01:08:01,869 --> 01:08:06,039
<font color="#E5E5E5">simulations again it even</font><font color="#CCCCCC"> gets better</font>

1536
01:08:03,460 --> 01:08:10,779
<font color="#E5E5E5">but it already was doing pretty well so</font>

1537
01:08:06,039 --> 01:08:13,990
there's not much news to<font color="#E5E5E5"> add there so to</font>

1538
01:08:10,779 --> 01:08:15,609
take away<font color="#E5E5E5"> from this I think from all the</font>

1539
01:08:13,990 --> 01:08:18,370
experience we have with<font color="#E5E5E5"> this technology</font>

1540
01:08:15,609 --> 01:08:20,170
<font color="#E5E5E5">it works very well</font><font color="#CCCCCC"> you don't have to</font>

1541
01:08:18,370 --> 01:08:21,670
just<font color="#CCCCCC"> believe myself</font>

1542
01:08:20,170 --> 01:08:23,739
I mean<font color="#CCCCCC"> AT&T</font><font color="#E5E5E5"> has been telling the same</font>

1543
01:08:21,670 --> 01:08:26,020
story here<font color="#CCCCCC"> also backed up with results</font>

1544
01:08:23,738 --> 01:08:27,549
<font color="#CCCCCC">from their network and what we see is</font>

1545
01:08:26,020 --> 01:08:32,549
<font color="#CCCCCC">very much in</font><font color="#E5E5E5"> line with what they have</font>

1546
01:08:27,549 --> 01:08:32,549
and the combination<font color="#E5E5E5"> makes it even better</font>

1547
01:08:33,158 --> 01:08:37,089
another thing AT&T has has pointed<font color="#E5E5E5"> out</font>

1548
01:08:35,500 --> 01:08:39,908
it's a few times in their presentations

1549
01:08:37,089 --> 01:08:41,828
is you can even<font color="#E5E5E5"> do this including your</font>

1550
01:08:39,908 --> 01:08:43,388
<font color="#E5E5E5">traffic</font><font color="#CCCCCC"> through peers</font><font color="#E5E5E5"> so you're not so</font>

1551
01:08:41,828 --> 01:08:46,389
good<font color="#E5E5E5"> you're not really going to look at</font>

1552
01:08:43,389 --> 01:08:48,368
the<font color="#E5E5E5"> BGP</font><font color="#CCCCCC"> routing or</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> aah parts but you</font>

1553
01:08:46,389 --> 01:08:50,440
<font color="#CCCCCC">just estimate the traffic up to the</font>

1554
01:08:48,368 --> 01:08:52,960
remote peering router<font color="#E5E5E5"> on the</font><font color="#CCCCCC"> other side</font>

1555
01:08:50,439 --> 01:08:54,879
in the case<font color="#E5E5E5"> of</font><font color="#CCCCCC"> ATT I think they even</font>

1556
01:08:52,960 --> 01:08:57,939
mentioned that<font color="#E5E5E5"> it makes the solution</font>

1557
01:08:54,880 --> 01:09:00,549
<font color="#CCCCCC">more accurate</font><font color="#E5E5E5"> but also as I explained</font>

1558
01:08:57,939 --> 01:09:01,960
<font color="#CCCCCC">before you can use it for simulating</font>

1559
01:09:00,549 --> 01:09:04,750
failures on<font color="#E5E5E5"> the beach buildings</font>

1560
01:09:01,960 --> 01:09:06,819
themselves<font color="#E5E5E5"> service this method is not</font>

1561
01:09:04,750 --> 01:09:14,920
restricted<font color="#CCCCCC"> to just staying on your own</font>

1562
01:09:06,819 --> 01:09:17,049
<font color="#CCCCCC">edge of</font><font color="#E5E5E5"> in topology so again the</font>

1563
01:09:14,920 --> 01:09:20,158
<font color="#CCCCCC">presentation here that they not</font><font color="#E5E5E5"> have</font>

1564
01:09:17,049 --> 01:09:23,889
always<font color="#E5E5E5"> been on kind of research type</font>

1565
01:09:20,158 --> 01:09:25,448
level but really it<font color="#E5E5E5"> has moved beyond</font>

1566
01:09:23,889 --> 01:09:27,040
<font color="#E5E5E5">that the algorithms are not that hard</font>

1567
01:09:25,448 --> 01:09:29,528
some<font color="#E5E5E5"> of the papers actually give you</font>

1568
01:09:27,040 --> 01:09:31,359
<font color="#E5E5E5">some</font><font color="#CCCCCC"> sample</font><font color="#E5E5E5"> code on how to do with if</font>

1569
01:09:29,529 --> 01:09:32,889
you really want to you<font color="#CCCCCC"> can do</font><font color="#E5E5E5"> it</font>

1570
01:09:31,359 --> 01:09:35,319
yourself<font color="#CCCCCC"> there</font><font color="#E5E5E5"> are commercial tools</font>

1571
01:09:32,889 --> 01:09:38,109
available<font color="#CCCCCC"> to doing this and I think it's</font>

1572
01:09:35,319 --> 01:09:41,319
also in the totem traffic engineering

1573
01:09:38,109 --> 01:09:43,630
<font color="#E5E5E5">toolkit from the University and Belgium</font>

1574
01:09:41,319 --> 01:09:44,770
<font color="#CCCCCC">I think they have an implementation as</font>

1575
01:09:43,630 --> 01:09:47,828
<font color="#CCCCCC">well</font><font color="#E5E5E5"> I didn't have a chance to check</font><font color="#CCCCCC"> it</font>

1576
01:09:44,770 --> 01:09:49,449
myself<font color="#E5E5E5"> but I read at</font><font color="#CCCCCC"> least on the</font>

1577
01:09:47,828 --> 01:09:54,340
<font color="#CCCCCC">website that they have an implementation</font>

1578
01:09:49,448 --> 01:09:57,329
in<font color="#E5E5E5"> free</font><font color="#CCCCCC"> software available</font><font color="#E5E5E5"> and it can</font>

1579
01:09:54,340 --> 01:10:01,270
use<font color="#E5E5E5"> can be used in many different</font>

1580
01:09:57,329 --> 01:10:03,480
scenarios<font color="#CCCCCC"> also for</font><font color="#E5E5E5"> example where you</font>

1581
01:10:01,270 --> 01:10:06,849
<font color="#CCCCCC">have a partial</font><font color="#E5E5E5"> and pls mesh and want</font><font color="#CCCCCC"> to</font>

1582
01:10:03,480 --> 01:10:08,619
estimate<font color="#E5E5E5"> the rest of the traffic and I</font>

1583
01:10:06,849 --> 01:10:10,420
highly suggest you take a look<font color="#CCCCCC"> at the</font>

1584
01:10:08,619 --> 01:10:13,348
ATT worked<font color="#E5E5E5"> again there's a reference at</font>

1585
01:10:10,420 --> 01:10:13,349
<font color="#CCCCCC">the end of the slides</font>

1586
01:10:13,409 --> 01:10:18,759
<font color="#CCCCCC">ok we're also</font><font color="#E5E5E5"> almost at the end I have</font>

1587
01:10:16,210 --> 01:10:20,139
two more small topics which<font color="#E5E5E5"> are kind of</font>

1588
01:10:18,760 --> 01:10:24,159
related<font color="#CCCCCC"> to what I've been discussing</font>

1589
01:10:20,139 --> 01:10:26,559
<font color="#CCCCCC">before first traffic metrics impartial</font>

1590
01:10:24,159 --> 01:10:28,058
topologies<font color="#E5E5E5"> there might be all</font><font color="#CCCCCC"> kind</font><font color="#E5E5E5"> of</font>

1591
01:10:26,559 --> 01:10:31,300
reasons<font color="#E5E5E5"> why you do not</font><font color="#CCCCCC"> want to include</font>

1592
01:10:28,059 --> 01:10:32,800
all of your routers in your analysis<font color="#E5E5E5"> for</font>

1593
01:10:31,300 --> 01:10:35,940
<font color="#E5E5E5">example if you</font><font color="#CCCCCC"> already have a fairly</font><font color="#E5E5E5"> big</font>

1594
01:10:32,800 --> 01:10:35,940
core network

1595
01:10:36,810 --> 01:10:41,770
it might not<font color="#E5E5E5"> be interesting to add</font>

1596
01:10:39,070 --> 01:10:43,630
thousands<font color="#E5E5E5"> of</font><font color="#CCCCCC"> adsl aggregation devices or</font>

1597
01:10:41,770 --> 01:10:46,450
something<font color="#CCCCCC"> like that to your simulation</font>

1598
01:10:43,630 --> 01:10:48,190
because they all have exactly<font color="#CCCCCC"> the same</font>

1599
01:10:46,450 --> 01:10:50,230
topology their homes<font color="#E5E5E5"> into one or two</font>

1600
01:10:48,190 --> 01:10:52,030
<font color="#CCCCCC">Corrado's and there really is</font><font color="#E5E5E5"> no point</font>

1601
01:10:50,230 --> 01:10:54,309
in in simulating failure for every

1602
01:10:52,030 --> 01:10:56,349
single<font color="#CCCCCC"> of these</font><font color="#E5E5E5"> devices because you know</font>

1603
01:10:54,310 --> 01:10:58,000
if one of<font color="#CCCCCC"> the earthling</font><font color="#E5E5E5"> feels traffic</font>

1604
01:10:56,350 --> 01:11:01,090
goes to the other world so there's no

1605
01:10:58,000 --> 01:11:04,030
<font color="#E5E5E5">point in simulating</font><font color="#CCCCCC"> death but if you</font>

1606
01:11:01,090 --> 01:11:05,620
remove them<font color="#E5E5E5"> from the topology</font><font color="#CCCCCC"> it looks</font>

1607
01:11:04,030 --> 01:11:09,519
like your traffic<font color="#E5E5E5"> is being sourced on</font>

1608
01:11:05,620 --> 01:11:11,380
the Corrado's which works well<font color="#CCCCCC"> for the</font>

1609
01:11:09,520 --> 01:11:12,550
normal scenario where everything is up

1610
01:11:11,380 --> 01:11:14,890
<font color="#E5E5E5">and</font><font color="#CCCCCC"> running but the fall of the curve</font>

1611
01:11:12,550 --> 01:11:17,020
others<font color="#E5E5E5"> goes down traffic will actually</font>

1612
01:11:14,890 --> 01:11:19,510
<font color="#CCCCCC">disappear from your simulation</font><font color="#E5E5E5"> well in</font>

1613
01:11:17,020 --> 01:11:21,460
real life traffic will shift<font color="#E5E5E5"> from one</font>

1614
01:11:19,510 --> 01:11:23,290
<font color="#CCCCCC">car out</font><font color="#E5E5E5"> to the other because all those</font>

1615
01:11:21,460 --> 01:11:27,040
access<font color="#E5E5E5"> devices will send the traffic to</font>

1616
01:11:23,290 --> 01:11:29,530
<font color="#CCCCCC">the</font><font color="#E5E5E5"> remaining</font><font color="#CCCCCC"> core rather to properly</font>

1617
01:11:27,040 --> 01:11:32,050
simulate this without having<font color="#E5E5E5"> all these</font>

1618
01:11:29,530 --> 01:11:36,240
handles of thousands or whatever devices

1619
01:11:32,050 --> 01:11:39,010
<font color="#E5E5E5">in there you can actually just generate</font>

1620
01:11:36,240 --> 01:11:40,240
a virtual router<font color="#E5E5E5"> so if we have the</font>

1621
01:11:39,010 --> 01:11:42,400
picture<font color="#E5E5E5"> here on the left with three</font>

1622
01:11:40,240 --> 01:11:46,410
access routers you could replace<font color="#E5E5E5"> that</font>

1623
01:11:42,400 --> 01:11:49,179
<font color="#E5E5E5">access router by one virtual router</font>

1624
01:11:46,410 --> 01:11:51,550
which has the same topology<font color="#E5E5E5"> because</font>

1625
01:11:49,180 --> 01:11:52,750
<font color="#E5E5E5">that's the same uplinks you just add all</font>

1626
01:11:51,550 --> 01:11:55,470
the<font color="#E5E5E5"> traffic you had from the three</font>

1627
01:11:52,750 --> 01:11:58,990
routers to that virtual<font color="#E5E5E5"> router and</font>

1628
01:11:55,470 --> 01:12:01,540
everything I've discussed before<font color="#CCCCCC"> still</font>

1629
01:11:58,990 --> 01:12:02,800
applies in exactly the<font color="#E5E5E5"> same way if you</font>

1630
01:12:01,540 --> 01:12:05,019
have a different<font color="#E5E5E5"> topology like on the</font>

1631
01:12:02,800 --> 01:12:06,640
right where you<font color="#CCCCCC"> have a small ring</font><font color="#E5E5E5"> with a</font>

1632
01:12:05,020 --> 01:12:08,650
chain<font color="#CCCCCC"> of routers between the two</font>

1633
01:12:06,640 --> 01:12:11,320
<font color="#CCCCCC">Corrado's you can do exactly</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> same</font>

1634
01:12:08,650 --> 01:12:13,059
thing but here you will<font color="#CCCCCC"> need</font><font color="#E5E5E5"> two virtual</font>

1635
01:12:11,320 --> 01:12:14,500
routers<font color="#CCCCCC"> because you need to decide</font>

1636
01:12:13,060 --> 01:12:16,260
<font color="#E5E5E5">whether in the normal case traffic is</font>

1637
01:12:14,500 --> 01:12:18,310
going<font color="#CCCCCC"> to</font><font color="#E5E5E5"> left or to the right and</font>

1638
01:12:16,260 --> 01:12:20,740
putting<font color="#E5E5E5"> the right metrics on those</font>

1639
01:12:18,310 --> 01:12:25,090
virtual routers you can give exactly the

1640
01:12:20,740 --> 01:12:26,740
same simulations<font color="#E5E5E5"> again I've seen</font><font color="#CCCCCC"> several</font>

1641
01:12:25,090 --> 01:12:28,870
networks where where this is being done

1642
01:12:26,740 --> 01:12:30,429
simply<font color="#E5E5E5"> because there is a whole regional</font>

1643
01:12:28,870 --> 01:12:32,140
<font color="#E5E5E5">network attached to the core or</font>

1644
01:12:30,430 --> 01:12:34,750
<font color="#CCCCCC">something like that which at that</font><font color="#E5E5E5"> point</font>

1645
01:12:32,140 --> 01:12:36,520
are not<font color="#E5E5E5"> interested in simulating but</font>

1646
01:12:34,750 --> 01:12:38,950
leaving it out<font color="#E5E5E5"> might actually give</font>

1647
01:12:36,520 --> 01:12:40,570
<font color="#E5E5E5">problems if the core routers</font><font color="#CCCCCC"> or some</font>

1648
01:12:38,950 --> 01:12:42,730
links<font color="#E5E5E5"> to the core</font><font color="#CCCCCC"> routers fail because</font>

1649
01:12:40,570 --> 01:12:45,808
the real net would network would have

1650
01:12:42,730 --> 01:12:51,249
shifted the traffic

1651
01:12:45,809 --> 01:12:53,439
then a<font color="#E5E5E5"> last note about multicast</font><font color="#CCCCCC"> I put</font>

1652
01:12:51,249 --> 01:12:55,329
it in here<font color="#E5E5E5"> for the first time in the</font>

1653
01:12:53,439 --> 01:12:58,800
<font color="#E5E5E5">previous tutorials I didn't have it but</font>

1654
01:12:55,329 --> 01:13:04,299
<font color="#CCCCCC">we see much more deployment</font><font color="#E5E5E5"> of</font>

1655
01:12:58,800 --> 01:13:06,669
especially<font color="#E5E5E5"> IPTV like services so you</font>

1656
01:13:04,300 --> 01:13:10,269
have multicast traffic from<font color="#E5E5E5"> one two or</font>

1657
01:13:06,669 --> 01:13:12,519
three<font color="#CCCCCC"> sources</font><font color="#E5E5E5"> in the network to a lot of</font>

1658
01:13:10,269 --> 01:13:16,389
<font color="#CCCCCC">Pope's</font><font color="#E5E5E5"> in the network or different</font>

1659
01:13:12,519 --> 01:13:18,129
locations<font color="#CCCCCC"> but</font><font color="#E5E5E5"> as one very large stream</font>

1660
01:13:16,389 --> 01:13:20,559
or a whole group of streams having

1661
01:13:18,129 --> 01:13:22,269
exactly the same destinations<font color="#CCCCCC"> a very</font>

1662
01:13:20,559 --> 01:13:24,579
common<font color="#CCCCCC"> scenario is for example</font><font color="#E5E5E5"> cable</font>

1663
01:13:22,269 --> 01:13:26,879
network but they have a common feat

1664
01:13:24,579 --> 01:13:29,978
which goes to all the regional<font color="#E5E5E5"> cable</font>

1665
01:13:26,879 --> 01:13:32,019
<font color="#CCCCCC">headends and they use multicast for</font>

1666
01:13:29,979 --> 01:13:34,089
distribution<font color="#E5E5E5"> because this type of</font>

1667
01:13:32,019 --> 01:13:37,659
multicast<font color="#E5E5E5"> traffic often has a very large</font>

1668
01:13:34,089 --> 01:13:39,579
<font color="#E5E5E5">volume compared to some video conference</font>

1669
01:13:37,659 --> 01:13:43,749
over<font color="#CCCCCC"> the</font><font color="#E5E5E5"> internet or</font><font color="#CCCCCC"> something</font>

1670
01:13:39,579 --> 01:13:47,438
this<font color="#E5E5E5"> examples I've seen</font><font color="#CCCCCC"> is</font><font color="#E5E5E5"> terrific</font>

1671
01:13:43,749 --> 01:13:49,239
up to a gigabit per second which if you

1672
01:13:47,439 --> 01:13:50,979
run<font color="#CCCCCC"> at over noisy</font><font color="#E5E5E5"> for</font><font color="#CCCCCC"> the ED backbone</font>

1673
01:13:49,239 --> 01:13:58,570
actually becomes<font color="#E5E5E5"> very significant amount</font>

1674
01:13:50,979 --> 01:14:01,929
<font color="#CCCCCC">of</font><font color="#E5E5E5"> traffic</font><font color="#CCCCCC"> to take into</font><font color="#E5E5E5"> account the good</font>

1675
01:13:58,570 --> 01:14:04,478
thing<font color="#E5E5E5"> here is</font><font color="#CCCCCC"> that measuring</font><font color="#E5E5E5"> traffic is</font>

1676
01:14:01,929 --> 01:14:06,010
<font color="#E5E5E5">much easier than at this per unit cost</font>

1677
01:14:04,479 --> 01:14:08,169
traffic because the flows are already

1678
01:14:06,010 --> 01:14:10,300
there<font color="#E5E5E5"> the multicast group defines</font>

1679
01:14:08,169 --> 01:14:13,030
exactly<font color="#E5E5E5"> where the traffic comes in and</font>

1680
01:14:10,300 --> 01:14:18,599
where it goes<font color="#CCCCCC"> to</font><font color="#E5E5E5"> so there is nothing you</font>

1681
01:14:13,030 --> 01:14:20,858
<font color="#CCCCCC">need</font><font color="#E5E5E5"> to advocate there in moving or</font>

1682
01:14:18,599 --> 01:14:23,349
<font color="#E5E5E5">transforming source and destination IP</font>

1683
01:14:20,859 --> 01:14:26,309
addresses<font color="#E5E5E5"> to ingress egress you already</font>

1684
01:14:23,349 --> 01:14:29,379
know what<font color="#E5E5E5"> the flows are on the</font>

1685
01:14:26,309 --> 01:14:30,639
<font color="#E5E5E5">unfortunate side the interface counters</font>

1686
01:14:29,379 --> 01:14:33,699
on the<font color="#E5E5E5"> router don't seem to give</font>

1687
01:14:30,639 --> 01:14:35,609
multicast bytes so there are<font color="#E5E5E5"> two MIPS</font>

1688
01:14:33,699 --> 01:14:38,829
which<font color="#CCCCCC"> irrelevant here the IBM</font><font color="#E5E5E5"> roadmap</font>

1689
01:14:35,609 --> 01:14:40,809
which tells you exactly<font color="#E5E5E5"> I have these</font>

1690
01:14:38,829 --> 01:14:43,089
groups on this router<font color="#CCCCCC"> and multicast</font>

1691
01:14:40,809 --> 01:14:45,070
groups<font color="#E5E5E5"> there's so much traffic on every</font>

1692
01:14:43,089 --> 01:14:46,300
of these groups it also tells you where

1693
01:14:45,070 --> 01:14:48,159
<font color="#CCCCCC">the traffic is coming</font><font color="#E5E5E5"> into the router</font>

1694
01:14:46,300 --> 01:14:51,489
and where it's going<font color="#E5E5E5"> out of the router</font>

1695
01:14:48,159 --> 01:14:52,898
<font color="#E5E5E5">so measuring multicast traffic is in</font>

1696
01:14:51,489 --> 01:14:55,030
this sense much easier than this<font color="#E5E5E5"> for</font>

1697
01:14:52,899 --> 01:14:56,829
unicast traffic because this whole issue

1698
01:14:55,030 --> 01:14:58,370
of generating the traffic<font color="#E5E5E5"> matrix from</font>

1699
01:14:56,829 --> 01:15:00,830
flow records and

1700
01:14:58,370 --> 01:15:03,650
really<font color="#E5E5E5"> doesn't</font><font color="#CCCCCC"> exist here you can even</font>

1701
01:15:00,830 --> 01:15:05,990
<font color="#E5E5E5">look at the</font><font color="#CCCCCC"> PIM map which gives you also</font>

1702
01:15:03,650 --> 01:15:10,549
<font color="#E5E5E5">an idea about the</font><font color="#CCCCCC"> topology on where the</font>

1703
01:15:05,990 --> 01:15:12,380
multicast adjacencies<font color="#CCCCCC"> exist I don't have</font>

1704
01:15:10,550 --> 01:15:13,750
much<font color="#E5E5E5"> more about this</font><font color="#CCCCCC"> topic but</font><font color="#E5E5E5"> I thought</font>

1705
01:15:12,380 --> 01:15:16,340
it<font color="#E5E5E5"> was relevant to bring it up here</font>

1706
01:15:13,750 --> 01:15:17,990
<font color="#CCCCCC">there was a</font><font color="#E5E5E5"> very nice project from</font><font color="#CCCCCC"> G</font>

1707
01:15:16,340 --> 01:15:21,560
<font color="#CCCCCC">Arnett they have made a multicast</font>

1708
01:15:17,990 --> 01:15:22,940
weather map there's a<font color="#CCCCCC"> URL to the to the</font>

1709
01:15:21,560 --> 01:15:27,050
<font color="#CCCCCC">web site where you</font><font color="#E5E5E5"> can see how it works</font>

1710
01:15:22,940 --> 01:15:29,360
<font color="#E5E5E5">and also somewhere on the gr net</font><font color="#CCCCCC"> web</font>

1711
01:15:27,050 --> 01:15:31,790
<font color="#CCCCCC">site there was a very nice PDF</font><font color="#E5E5E5"> with the</font>

1712
01:15:29,360 --> 01:15:34,219
whole<font color="#CCCCCC"> explanation on what they</font>

1713
01:15:31,790 --> 01:15:35,870
implemented and how<font color="#E5E5E5"> it worked</font><font color="#CCCCCC"> and there</font>

1714
01:15:34,220 --> 01:15:38,420
you can<font color="#E5E5E5"> much more find much more details</font>

1715
01:15:35,870 --> 01:15:44,320
on how to measure<font color="#E5E5E5"> multicast traffic</font>

1716
01:15:38,420 --> 01:15:47,570
<font color="#CCCCCC">metrics so a quick</font><font color="#E5E5E5"> week web recap of</font>

1717
01:15:44,320 --> 01:15:50,780
what of me<font color="#E5E5E5"> talking</font><font color="#CCCCCC"> about</font><font color="#E5E5E5"> so on the net</font>

1718
01:15:47,570 --> 01:15:53,480
flow<font color="#CCCCCC"> site</font><font color="#E5E5E5"> it just</font><font color="#CCCCCC"> takes a</font><font color="#E5E5E5"> lot of</font>

1719
01:15:50,780 --> 01:15:55,759
<font color="#E5E5E5">resources</font><font color="#CCCCCC"> to do the right thing if you</font>

1720
01:15:53,480 --> 01:15:58,610
already have systems<font color="#E5E5E5"> deployed like Arbor</font>

1721
01:15:55,760 --> 01:16:00,560
or at legs for other purposes<font color="#CCCCCC"> it's a</font>

1722
01:15:58,610 --> 01:16:03,049
very good idea<font color="#CCCCCC"> to actually</font><font color="#E5E5E5"> extract the</font>

1723
01:16:00,560 --> 01:16:05,360
data<font color="#E5E5E5"> from that for getting your traffic</font>

1724
01:16:03,050 --> 01:16:09,920
<font color="#E5E5E5">metrics for doing visual analysis or</font>

1725
01:16:05,360 --> 01:16:11,780
anything like<font color="#E5E5E5"> this if you really need to</font>

1726
01:16:09,920 --> 01:16:13,310
<font color="#E5E5E5">start the deployment</font><font color="#CCCCCC"> just for</font><font color="#E5E5E5"> that</font>

1727
01:16:11,780 --> 01:16:15,110
purpose<font color="#CCCCCC"> I think the beach be next up</font>

1728
01:16:13,310 --> 01:16:16,700
aggregation is the one to have a look<font color="#E5E5E5"> at</font>

1729
01:16:15,110 --> 01:16:18,559
because<font color="#CCCCCC"> it basically directly gives you</font>

1730
01:16:16,700 --> 01:16:21,500
<font color="#E5E5E5">the information you need with the least</font>

1731
01:16:18,560 --> 01:16:23,570
<font color="#E5E5E5">amount of</font><font color="#CCCCCC"> overheads which people see</font>

1732
01:16:21,500 --> 01:16:26,210
<font color="#CCCCCC">counting in</font><font color="#E5E5E5"> this you are</font><font color="#CCCCCC"> very simple to</font>

1733
01:16:23,570 --> 01:16:27,559
<font color="#CCCCCC">use and very effective especially with</font>

1734
01:16:26,210 --> 01:16:29,210
the late of<font color="#CCCCCC"> geno's releases where you</font>

1735
01:16:27,560 --> 01:16:31,820
have hundred twenty six classes for<font color="#E5E5E5"> this</font>

1736
01:16:29,210 --> 01:16:37,600
you<font color="#CCCCCC"> I think you can</font><font color="#E5E5E5"> cover most</font><font color="#CCCCCC"> of your</font>

1737
01:16:31,820 --> 01:16:39,710
traffic using that method for MPLS

1738
01:16:37,600 --> 01:16:41,120
people running a full measure of traffic

1739
01:16:39,710 --> 01:16:42,920
engineering<font color="#CCCCCC"> journals already know</font><font color="#E5E5E5"> that</font>

1740
01:16:41,120 --> 01:16:44,860
you get<font color="#E5E5E5"> good</font><font color="#CCCCCC"> statistics from them</font><font color="#E5E5E5"> people</font>

1741
01:16:42,920 --> 01:16:48,680
<font color="#CCCCCC">who don't run it are not going to run</font>

1742
01:16:44,860 --> 01:16:51,049
<font color="#CCCCCC">ample st for just for that purpose the</font>

1743
01:16:48,680 --> 01:16:53,920
<font color="#E5E5E5">LDP method is very simple especially</font><font color="#CCCCCC"> if</font>

1744
01:16:51,050 --> 01:16:56,660
you have a Juniper you basically<font color="#CCCCCC"> can get</font>

1745
01:16:53,920 --> 01:16:59,720
directly<font color="#E5E5E5"> traffic metrics</font><font color="#CCCCCC"> from</font><font color="#E5E5E5"> the CLI on</font>

1746
01:16:56,660 --> 01:17:01,519
Cisco you need a<font color="#E5E5E5"> little do a little bit</font>

1747
01:16:59,720 --> 01:17:02,960
<font color="#E5E5E5">more work and have a look at the paper</font>

1748
01:17:01,520 --> 01:17:04,540
from<font color="#CCCCCC"> deutsche telekom to see how you</font>

1749
01:17:02,960 --> 01:17:07,790
actually<font color="#CCCCCC"> should implement the algorithm</font>

1750
01:17:04,540 --> 01:17:09,289
then<font color="#E5E5E5"> for the estimation</font><font color="#CCCCCC"> i think it's</font>

1751
01:17:07,790 --> 01:17:11,300
very useful

1752
01:17:09,289 --> 01:17:13,759
and I think<font color="#CCCCCC"> more people should have</font><font color="#E5E5E5"> a</font>

1753
01:17:11,300 --> 01:17:17,199
look at it and<font color="#E5E5E5"> don't be too afraid of</font>

1754
01:17:13,760 --> 01:17:19,789
<font color="#CCCCCC">what's it but it's exactly</font><font color="#E5E5E5"> going to do</font>

1755
01:17:17,199 --> 01:17:21,469
as I said<font color="#CCCCCC"> at</font><font color="#E5E5E5"> the beginning I'm always</font>

1756
01:17:19,789 --> 01:17:22,789
interested<font color="#E5E5E5"> to receive feedback if you</font>

1757
01:17:21,469 --> 01:17:25,579
think something's incorrect there should

1758
01:17:22,789 --> 01:17:27,409
be covered sorry let<font color="#CCCCCC"> me know and I will</font>

1759
01:17:25,579 --> 01:17:28,639
make<font color="#CCCCCC"> sure to</font><font color="#E5E5E5"> include it</font><font color="#CCCCCC"> for the next</font>

1760
01:17:27,409 --> 01:17:34,638
tutorial

1761
01:17:28,639 --> 01:17:37,550
<font color="#CCCCCC">if happy</font><font color="#E5E5E5"> if that happens</font><font color="#CCCCCC"> at any time the</font>

1762
01:17:34,639 --> 01:17:40,340
<font color="#E5E5E5">last page the references to some of the</font>

1763
01:17:37,550 --> 01:17:43,699
papers<font color="#E5E5E5"> I've been talking</font><font color="#CCCCCC"> about</font><font color="#E5E5E5"> and that</font>

1764
01:17:40,340 --> 01:17:46,119
<font color="#E5E5E5">basically ends the tutorial thank you</font>

1765
01:17:43,699 --> 01:17:46,119
<font color="#CCCCCC">for your attention</font>

