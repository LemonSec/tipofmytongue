1
00:00:06,410 --> 00:00:10,510
<font color="#CCCCCC">I was waiting for</font><font color="#E5E5E5"> a slide here</font>

2
00:00:34,280 --> 00:00:37,340
sorry folks<font color="#CCCCCC"> just some momentary</font>

3
00:00:35,870 --> 00:00:39,788
technical difficulties<font color="#E5E5E5"> will be back on</font>

4
00:00:37,340 --> 00:00:39,789
here shortly

5
00:00:50,960 --> 00:00:56,210
there we go<font color="#E5E5E5"> okay so I'm going</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> talk</font>

6
00:00:53,780 --> 00:00:59,570
about<font color="#E5E5E5"> something</font><font color="#CCCCCC"> that's</font><font color="#E5E5E5"> sort of very</font><font color="#CCCCCC"> old</font>

7
00:00:56,210 --> 00:01:03,890
hat in<font color="#CCCCCC"> some sense OSPF version two has</font>

8
00:00:59,570 --> 00:01:04,760
<font color="#CCCCCC">been around for 15 20</font><font color="#E5E5E5"> years</font><font color="#CCCCCC"> I'm just</font>

9
00:01:03,890 --> 00:01:06,200
<font color="#E5E5E5">going to go a little</font><font color="#CCCCCC"> bit about some</font><font color="#E5E5E5"> of</font>

10
00:01:04,760 --> 00:01:08,000
the things<font color="#E5E5E5"> we've discovered with what</font>

11
00:01:06,200 --> 00:01:10,730
happens with<font color="#CCCCCC"> OSPF routing especially</font>

12
00:01:08,000 --> 00:01:15,950
with areas<font color="#E5E5E5"> so brief introductions so</font><font color="#CCCCCC"> SPF</font>

13
00:01:10,730 --> 00:01:19,280
is widely used<font color="#E5E5E5"> for routing within an</font>

14
00:01:15,950 --> 00:01:21,320
autonomous<font color="#CCCCCC"> system it raus packets along</font>

15
00:01:19,280 --> 00:01:24,140
shortest paths in terms of length of

16
00:01:21,320 --> 00:01:27,470
<font color="#E5E5E5">weights are configured on the links for</font>

17
00:01:24,140 --> 00:01:30,710
<font color="#E5E5E5">scalability issues</font><font color="#CCCCCC"> OSPF</font><font color="#E5E5E5"> least allows the</font>

18
00:01:27,470 --> 00:01:32,210
division of<font color="#E5E5E5"> a domain into areas that</font>

19
00:01:30,710 --> 00:01:34,369
affect<font color="#E5E5E5"> the routing this is</font><font color="#CCCCCC"> do</font>

20
00:01:32,210 --> 00:01:35,600
<font color="#E5E5E5">intelligence reduce the amount that an</font>

21
00:01:34,369 --> 00:01:39,080
individual router has<font color="#E5E5E5"> to know about the</font>

22
00:01:35,600 --> 00:01:41,030
<font color="#E5E5E5">entire network areas are at</font><font color="#CCCCCC"> least</font><font color="#E5E5E5"> in my</font>

23
00:01:39,080 --> 00:01:44,330
experience<font color="#E5E5E5"> used widely where place you</font>

24
00:01:41,030 --> 00:01:46,220
know people are using<font color="#CCCCCC"> OSPF areas add in</font>

25
00:01:44,330 --> 00:01:48,500
some surprising complexity to<font color="#CCCCCC"> what</font>

26
00:01:46,220 --> 00:01:50,690
happens with<font color="#CCCCCC"> OSPF routing</font><font color="#E5E5E5"> you offer you</font>

27
00:01:48,500 --> 00:01:53,770
can get<font color="#CCCCCC"> paths they're no longer</font><font color="#E5E5E5"> shortest</font>

28
00:01:50,690 --> 00:01:56,000
paths in terms of the weights<font color="#E5E5E5"> and the</font>

29
00:01:53,770 --> 00:01:57,970
<font color="#CCCCCC">OSPF has evolved to allow some</font>

30
00:01:56,000 --> 00:02:01,880
additional tweaks<font color="#E5E5E5"> that make the</font>

31
00:01:57,970 --> 00:02:05,090
complexity even<font color="#E5E5E5"> greater</font><font color="#CCCCCC"> we have a</font><font color="#E5E5E5"> quick</font>

32
00:02:01,880 --> 00:02:08,810
introduction<font color="#E5E5E5"> to</font><font color="#CCCCCC"> OSPF routing</font><font color="#E5E5E5"> how areas</font>

33
00:02:05,090 --> 00:02:12,080
behave with<font color="#CCCCCC"> routing a couple of the RFC</font>

34
00:02:08,810 --> 00:02:14,330
<font color="#CCCCCC">s that have tweaked on the OSPF standard</font>

35
00:02:12,080 --> 00:02:16,430
on and about<font color="#E5E5E5"> some other things that</font>

36
00:02:14,330 --> 00:02:18,709
<font color="#E5E5E5">happen with routing to autonomous system</font>

37
00:02:16,430 --> 00:02:23,500
border routers and I'm<font color="#E5E5E5"> gonna end with</font><font color="#CCCCCC"> a</font>

38
00:02:18,709 --> 00:02:28,220
quiz<font color="#E5E5E5"> just get us back to</font><font color="#CCCCCC"> very</font><font color="#E5E5E5"> old school</font>

39
00:02:23,500 --> 00:02:32,060
okay<font color="#CCCCCC"> so is a link state protocol</font><font color="#E5E5E5"> so</font>

40
00:02:28,220 --> 00:02:33,440
every router<font color="#E5E5E5"> learns the topology</font><font color="#CCCCCC"> of the</font>

41
00:02:32,060 --> 00:02:36,980
network or<font color="#E5E5E5"> the piece of the</font><font color="#CCCCCC"> network that</font>

42
00:02:33,440 --> 00:02:41,150
<font color="#CCCCCC">is really paying</font><font color="#E5E5E5"> attention to computes</font>

43
00:02:36,980 --> 00:02:44,000
shortest paths<font color="#E5E5E5"> in that network and then</font>

44
00:02:41,150 --> 00:02:47,630
you<font color="#CCCCCC"> know</font><font color="#E5E5E5"> forwards packets along those</font>

45
00:02:44,000 --> 00:02:49,040
source paths<font color="#CCCCCC"> OSPF does this type of</font><font color="#E5E5E5"> link</font>

46
00:02:47,630 --> 00:02:51,650
state protocol with a couple of tweaks

47
00:02:49,040 --> 00:02:55,070
<font color="#CCCCCC">there are two different major types of</font>

48
00:02:51,650 --> 00:02:58,130
nodes there are transit nodes which is

49
00:02:55,070 --> 00:02:59,900
nodes for traffic going<font color="#E5E5E5"> through and stub</font>

50
00:02:58,130 --> 00:03:01,650
nodes which are essentially loop backs

51
00:02:59,900 --> 00:03:04,230
or

52
00:03:01,650 --> 00:03:09,599
you know subnets are advertised by the

53
00:03:04,230 --> 00:03:13,530
routers<font color="#E5E5E5"> and so links between transit</font>

54
00:03:09,599 --> 00:03:17,069
nodes are you know only<font color="#E5E5E5"> actually used if</font>

55
00:03:13,530 --> 00:03:19,860
they are up in<font color="#E5E5E5"> both directions</font><font color="#CCCCCC"> links</font><font color="#E5E5E5"> to</font>

56
00:03:17,069 --> 00:03:21,629
stubs are one way links going<font color="#E5E5E5"> to the</font>

57
00:03:19,860 --> 00:03:25,400
<font color="#CCCCCC">stubborness</font><font color="#E5E5E5"> all traffic is really</font>

58
00:03:21,629 --> 00:03:27,840
heading to a stub in its long run<font color="#E5E5E5"> okay</font>

59
00:03:25,400 --> 00:03:29,549
so here's an example<font color="#E5E5E5"> and this will sort</font>

60
00:03:27,840 --> 00:03:30,599
<font color="#CCCCCC">of illustrate the type of</font><font color="#E5E5E5"> figure</font><font color="#CCCCCC"> that</font>

61
00:03:29,549 --> 00:03:33,540
I'm<font color="#E5E5E5"> going to use</font><font color="#CCCCCC"> for many of these</font>

62
00:03:30,599 --> 00:03:36,599
<font color="#E5E5E5">examples</font><font color="#CCCCCC"> so this is a sketch of</font><font color="#E5E5E5"> a</font>

63
00:03:33,540 --> 00:03:41,400
network<font color="#E5E5E5"> those big black boxes with names</font>

64
00:03:36,599 --> 00:03:44,160
in them are routers<font color="#CCCCCC"> at the bottom of the</font>

65
00:03:41,400 --> 00:03:47,040
<font color="#E5E5E5">box are some loop backs on the router</font>

66
00:03:44,160 --> 00:03:50,040
<font color="#E5E5E5">and they're configured</font><font color="#CCCCCC"> OSPF weight or</font>

67
00:03:47,040 --> 00:03:53,959
distance to the<font color="#E5E5E5"> loopback the links</font>

68
00:03:50,040 --> 00:03:57,390
between<font color="#E5E5E5"> routers are the transit links</font>

69
00:03:53,959 --> 00:04:00,840
and the little boxes<font color="#E5E5E5"> on the links are</font>

70
00:03:57,390 --> 00:04:03,420
they configured<font color="#CCCCCC"> OSPF</font><font color="#E5E5E5"> weight or distance</font>

71
00:04:00,840 --> 00:04:06,989
<font color="#E5E5E5">on those links</font><font color="#CCCCCC"> it's configured in both</font>

72
00:04:03,420 --> 00:04:08,309
directions so the actually in all the

73
00:04:06,989 --> 00:04:09,510
<font color="#CCCCCC">examples it's going to</font><font color="#E5E5E5"> actually be</font>

74
00:04:08,310 --> 00:04:10,560
symmetric weights and so you<font color="#E5E5E5"> don't</font>

75
00:04:09,510 --> 00:04:15,418
<font color="#E5E5E5">really need to</font><font color="#CCCCCC"> worry</font><font color="#E5E5E5"> about the fact</font><font color="#CCCCCC"> that</font>

76
00:04:10,560 --> 00:04:18,660
there are<font color="#E5E5E5"> two weights on them so for</font>

77
00:04:15,419 --> 00:04:22,500
<font color="#E5E5E5">example if you are routing from the back</font>

78
00:04:18,660 --> 00:04:25,050
one<font color="#E5E5E5"> to the access</font><font color="#CCCCCC"> 3 router the various</font>

79
00:04:22,500 --> 00:04:29,010
routers which can be computing<font color="#E5E5E5"> their you</font>

80
00:04:25,050 --> 00:04:32,039
know<font color="#CCCCCC"> paths and distances to to the</font>

81
00:04:29,010 --> 00:04:33,960
destination so from access 3 itself the

82
00:04:32,039 --> 00:04:35,550
distance is just<font color="#CCCCCC"> 1</font><font color="#E5E5E5"> because it's just</font>

83
00:04:33,960 --> 00:04:39,270
<font color="#E5E5E5">this distance from it to its loop back</font>

84
00:04:35,550 --> 00:04:40,949
on you know back for can looks amongst

85
00:04:39,270 --> 00:04:43,139
its various routes<font color="#E5E5E5"> and finds a first</font>

86
00:04:40,949 --> 00:04:45,690
path of 51 which is<font color="#E5E5E5"> along the direct</font>

87
00:04:43,139 --> 00:04:48,539
link just<font color="#E5E5E5"> pick</font><font color="#CCCCCC"> another example back 3</font>

88
00:04:45,690 --> 00:04:50,660
has the indirect route through back 4

89
00:04:48,539 --> 00:04:55,020
which<font color="#CCCCCC"> is cheaper than its direct</font><font color="#E5E5E5"> route</font>

90
00:04:50,660 --> 00:04:57,570
<font color="#E5E5E5">and so all the routers you know compute</font>

91
00:04:55,020 --> 00:04:59,729
their distances<font color="#E5E5E5"> and then each router in</font>

92
00:04:57,570 --> 00:05:04,919
turn forwards the packets along<font color="#CCCCCC"> its</font>

93
00:04:59,729 --> 00:05:07,830
shortest<font color="#E5E5E5"> path or paths so for</font>

94
00:05:04,919 --> 00:05:10,349
scalability<font color="#CCCCCC"> OSPF domains</font><font color="#E5E5E5"> can be divided</font>

95
00:05:07,830 --> 00:05:12,030
into<font color="#E5E5E5"> areas areas are just numbered with</font>

96
00:05:10,349 --> 00:05:13,670
all you<font color="#E5E5E5"> can</font><font color="#CCCCCC"> think of</font><font color="#E5E5E5"> it as an integer</font>

97
00:05:12,030 --> 00:05:15,520
and IP address<font color="#E5E5E5"> there often</font>

98
00:05:13,670 --> 00:05:18,320
presented as IP addresses on

99
00:05:15,520 --> 00:05:21,289
<font color="#E5E5E5">conceptually</font><font color="#CCCCCC"> its areas work as a</font>

100
00:05:18,320 --> 00:05:24,830
hub-and-spoke<font color="#CCCCCC"> network</font><font color="#E5E5E5"> so area</font><font color="#CCCCCC"> zero is</font>

101
00:05:21,290 --> 00:05:30,080
the hub<font color="#E5E5E5"> all of the non zero areas form</font>

102
00:05:24,830 --> 00:05:31,849
spokes<font color="#CCCCCC"> an area is really</font><font color="#E5E5E5"> just a if links</font>

103
00:05:30,080 --> 00:05:34,490
<font color="#E5E5E5">are</font><font color="#CCCCCC"> wider in</font><font color="#E5E5E5"> areas links and stubs are</font>

104
00:05:31,850 --> 00:05:36,230
in areas routers can end<font color="#E5E5E5"> up being in</font>

105
00:05:34,490 --> 00:05:37,490
more<font color="#E5E5E5"> than one area if they have links</font>

106
00:05:36,230 --> 00:05:41,210
that<font color="#E5E5E5"> are in more than one area but the</font>

107
00:05:37,490 --> 00:05:43,910
links are what are in areas<font color="#CCCCCC"> of a router</font>

108
00:05:41,210 --> 00:05:46,640
<font color="#E5E5E5">has links in multiple areas it's an area</font>

109
00:05:43,910 --> 00:05:49,100
border router<font color="#E5E5E5"> and at least if you start</font>

110
00:05:46,640 --> 00:05:51,890
<font color="#E5E5E5">with</font><font color="#CCCCCC"> just</font><font color="#E5E5E5"> the base</font><font color="#CCCCCC"> OSPF version to an</font>

111
00:05:49,100 --> 00:05:54,170
area border router must<font color="#E5E5E5"> have links in</font>

112
00:05:51,890 --> 00:05:57,830
area<font color="#E5E5E5"> zero and that is because it will</font>

113
00:05:54,170 --> 00:06:00,140
<font color="#CCCCCC">only pay attention</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> stubs are not in</font>

114
00:05:57,830 --> 00:06:02,120
attached areas from area<font color="#CCCCCC"> zero so</font><font color="#E5E5E5"> if it</font>

115
00:06:00,140 --> 00:06:04,460
doesn't<font color="#E5E5E5"> have</font><font color="#CCCCCC"> them they'll yes</font><font color="#E5E5E5"> so how</font>

116
00:06:02,120 --> 00:06:08,180
this sort<font color="#CCCCCC"> of limits the set of knowledge</font>

117
00:06:04,460 --> 00:06:09,979
<font color="#E5E5E5">is that a router</font><font color="#CCCCCC"> only learns the</font>

118
00:06:08,180 --> 00:06:13,490
<font color="#CCCCCC">topology of the areas</font><font color="#E5E5E5"> is directly</font>

119
00:06:09,980 --> 00:06:17,030
connected to<font color="#E5E5E5"> and for things that is not</font>

120
00:06:13,490 --> 00:06:19,100
directly<font color="#CCCCCC"> connected to it learns the the</font>

121
00:06:17,030 --> 00:06:21,739
area border routers may<font color="#CCCCCC"> announce their</font>

122
00:06:19,100 --> 00:06:27,650
distances to those remote stubs<font color="#E5E5E5"> in those</font>

123
00:06:21,740 --> 00:06:29,990
other areas<font color="#E5E5E5"> so</font><font color="#CCCCCC"> for example on in this</font>

124
00:06:27,650 --> 00:06:32,929
I've indicated the different areas by

125
00:06:29,990 --> 00:06:36,350
different colors<font color="#CCCCCC"> so black is going to be</font>

126
00:06:32,930 --> 00:06:39,620
<font color="#CCCCCC">area zero other colors are non zero</font>

127
00:06:36,350 --> 00:06:42,050
areas<font color="#E5E5E5"> so we can see there we</font><font color="#CCCCCC"> have a you</font>

128
00:06:39,620 --> 00:06:44,480
<font color="#E5E5E5">know three different</font><font color="#CCCCCC"> areas</font><font color="#E5E5E5"> the red area</font>

129
00:06:42,050 --> 00:06:45,590
the blue area<font color="#CCCCCC"> in the black</font><font color="#E5E5E5"> stubs also</font>

130
00:06:44,480 --> 00:06:48,770
are in areas and so they're also

131
00:06:45,590 --> 00:06:52,760
indicated<font color="#CCCCCC"> by</font><font color="#E5E5E5"> the color</font><font color="#CCCCCC"> they're in</font><font color="#E5E5E5"> okay</font>

132
00:06:48,770 --> 00:06:55,070
<font color="#E5E5E5">and in this situation before you know</font>

133
00:06:52,760 --> 00:06:57,050
back<font color="#E5E5E5"> routers are the area border routers</font>

134
00:06:55,070 --> 00:07:01,070
<font color="#E5E5E5">because they're the routers</font><font color="#CCCCCC"> that have</font>

135
00:06:57,050 --> 00:07:03,050
links in more than one area okay so for

136
00:07:01,070 --> 00:07:05,870
path calculation<font color="#CCCCCC"> within with areas</font>

137
00:07:03,050 --> 00:07:08,540
routers calculate shortest path trees<font color="#E5E5E5"> to</font>

138
00:07:05,870 --> 00:07:10,700
all of the attached you know<font color="#E5E5E5"> the stubs</font>

139
00:07:08,540 --> 00:07:14,540
<font color="#CCCCCC">they're in their</font><font color="#E5E5E5"> local areas or inter</font>

140
00:07:10,700 --> 00:07:15,830
area paths<font color="#E5E5E5"> and then for destinations</font>

141
00:07:14,540 --> 00:07:18,980
that are not in one<font color="#CCCCCC"> of</font><font color="#E5E5E5"> their locally</font>

142
00:07:15,830 --> 00:07:20,960
attached areas<font color="#CCCCCC"> they look at paths to an</font>

143
00:07:18,980 --> 00:07:23,810
area border router<font color="#E5E5E5"> plus the distance the</font>

144
00:07:20,960 --> 00:07:26,659
area border router advertised<font color="#E5E5E5"> and pick</font>

145
00:07:23,810 --> 00:07:27,680
the shortest<font color="#E5E5E5"> of those leading to inter</font>

146
00:07:26,660 --> 00:07:31,340
<font color="#E5E5E5">area</font>

147
00:07:27,680 --> 00:07:34,370
so for example<font color="#E5E5E5"> similar</font><font color="#CCCCCC"> network with the</font>

148
00:07:31,340 --> 00:07:38,719
areas<font color="#E5E5E5"> if we were routing from access 3</font>

149
00:07:34,370 --> 00:07:41,720
to access<font color="#E5E5E5"> 1 the area border routers</font><font color="#CCCCCC"> that</font>

150
00:07:38,720 --> 00:07:43,010
see that<font color="#E5E5E5"> stub a nexus one are just back</font>

151
00:07:41,720 --> 00:07:45,890
<font color="#CCCCCC">1 and back 2</font>

152
00:07:43,010 --> 00:07:49,520
so they compute their<font color="#E5E5E5"> intra area paths</font>

153
00:07:45,890 --> 00:07:53,110
to<font color="#CCCCCC"> that then the area border routers</font>

154
00:07:49,520 --> 00:07:55,909
<font color="#E5E5E5">back</font><font color="#CCCCCC"> 3</font><font color="#E5E5E5"> and back for compute their</font>

155
00:07:53,110 --> 00:07:57,260
shortest paths by looking at paths to

156
00:07:55,910 --> 00:07:59,210
somebody one of<font color="#E5E5E5"> the area or two routers</font>

157
00:07:57,260 --> 00:08:03,740
that's advertising distances<font color="#E5E5E5"> is there</font>

158
00:07:59,210 --> 00:08:09,080
and then the<font color="#E5E5E5"> source router looks at</font>

159
00:08:03,740 --> 00:08:10,730
computing its distances and in<font color="#CCCCCC"> this case</font>

160
00:08:09,080 --> 00:08:12,140
it looks at either the<font color="#E5E5E5"> path you'll you</font>

161
00:08:10,730 --> 00:08:14,780
know<font color="#E5E5E5"> looks at its path to</font><font color="#CCCCCC"> the area</font>

162
00:08:12,140 --> 00:08:16,789
border routers and picks<font color="#E5E5E5"> the closest one</font>

163
00:08:14,780 --> 00:08:25,820
<font color="#E5E5E5">which ends</font><font color="#CCCCCC"> up being</font><font color="#E5E5E5"> the loop through</font>

164
00:08:16,790 --> 00:08:28,190
back 4 and back<font color="#CCCCCC"> 3 ok</font><font color="#E5E5E5"> so this issue that</font>

165
00:08:25,820 --> 00:08:31,490
the routers will always pick an intra

166
00:08:28,190 --> 00:08:34,520
area path<font color="#E5E5E5"> over an inter area path can</font>

167
00:08:31,490 --> 00:08:36,620
lead to a type<font color="#CCCCCC"> of area hijacking</font><font color="#E5E5E5"> where</font>

168
00:08:34,520 --> 00:08:38,659
the<font color="#E5E5E5"> path will end up following something</font>

169
00:08:36,620 --> 00:08:40,490
<font color="#CCCCCC">that's different</font><font color="#E5E5E5"> than</font><font color="#CCCCCC"> what the earlier</font>

170
00:08:38,659 --> 00:08:45,140
routers were calculating or distances

171
00:08:40,490 --> 00:08:46,910
based<font color="#E5E5E5"> on so as an example in this</font>

172
00:08:45,140 --> 00:08:50,330
network once again same source and

173
00:08:46,910 --> 00:08:55,160
<font color="#E5E5E5">destination if the red link between</font>

174
00:08:50,330 --> 00:08:57,680
<font color="#E5E5E5">access 1 and back 2 goes down</font><font color="#CCCCCC"> well</font><font color="#E5E5E5"> let's</font>

175
00:08:55,160 --> 00:09:01,010
look at<font color="#E5E5E5"> what happens to the</font><font color="#CCCCCC"> routing so</font>

176
00:08:57,680 --> 00:09:05,359
first of all back to is now going<font color="#CCCCCC"> to</font>

177
00:09:01,010 --> 00:09:08,000
have is<font color="#E5E5E5"> shipped</font><font color="#CCCCCC"> to a longer path to its</font>

178
00:09:05,360 --> 00:09:09,470
destination<font color="#CCCCCC"> because</font><font color="#E5E5E5"> in the red area it</font>

179
00:09:08,000 --> 00:09:12,500
has a path that<font color="#E5E5E5"> goes</font><font color="#CCCCCC"> through that a</font>

180
00:09:09,470 --> 00:09:16,070
zigzag and so it will advertise<font color="#E5E5E5"> that</font>

181
00:09:12,500 --> 00:09:19,220
greater distance back for when it wants

182
00:09:16,070 --> 00:09:21,440
to compute its shortest path<font color="#E5E5E5"> see that it</font>

183
00:09:19,220 --> 00:09:22,850
has a now a shorter path by going from

184
00:09:21,440 --> 00:09:24,950
<font color="#E5E5E5">back you know through back to</font><font color="#CCCCCC"> to back</font>

185
00:09:22,850 --> 00:09:28,430
one and then using the distance<font color="#E5E5E5"> the back</font>

186
00:09:24,950 --> 00:09:31,880
<font color="#E5E5E5">one advertised and then once again</font>

187
00:09:28,430 --> 00:09:34,849
access<font color="#CCCCCC"> 3 in the blue area will compute</font>

188
00:09:31,880 --> 00:09:37,030
its path using<font color="#E5E5E5"> back four and so this</font>

189
00:09:34,850 --> 00:09:40,340
<font color="#E5E5E5">means it computed a path and distance</font>

190
00:09:37,030 --> 00:09:43,420
<font color="#E5E5E5">that was based on this path</font>

191
00:09:40,340 --> 00:09:45,800
but when the traffic reaches back<font color="#E5E5E5"> to</font>

192
00:09:43,420 --> 00:09:48,800
<font color="#E5E5E5">back to will discover that it has a</font>

193
00:09:45,800 --> 00:09:51,109
<font color="#E5E5E5">intra area path and use that instead of</font>

194
00:09:48,800 --> 00:09:53,180
forwarding to back one along the shorter

195
00:09:51,110 --> 00:09:55,160
path<font color="#E5E5E5"> and so the actual</font><font color="#CCCCCC"> traffic will</font>

196
00:09:53,180 --> 00:10:02,449
<font color="#CCCCCC">zigzag through one of</font><font color="#E5E5E5"> the access routers</font>

197
00:09:55,160 --> 00:10:06,520
on its way to the<font color="#E5E5E5"> other one so this</font><font color="#CCCCCC"> is</font>

198
00:10:02,450 --> 00:10:09,410
<font color="#CCCCCC">sort of a well-known phenomenon and so</font>

199
00:10:06,520 --> 00:10:11,449
<font color="#E5E5E5">that's one of the ways</font><font color="#CCCCCC"> to address it</font>

200
00:10:09,410 --> 00:10:13,579
would be if the link between<font color="#CCCCCC"> bath one</font>

201
00:10:11,450 --> 00:10:16,220
and back<font color="#CCCCCC"> two or</font><font color="#E5E5E5"> if you had a parallel</font>

202
00:10:13,580 --> 00:10:17,750
link that was in the red area<font color="#E5E5E5"> then it</font>

203
00:10:16,220 --> 00:10:21,080
would be able<font color="#E5E5E5"> to use that for its route</font>

204
00:10:17,750 --> 00:10:23,360
that creation<font color="#E5E5E5"> that problem was trying to</font>

205
00:10:21,080 --> 00:10:29,089
create lots<font color="#E5E5E5"> of extra parallel links and</font>

206
00:10:23,360 --> 00:10:32,779
so<font color="#E5E5E5"> RFC</font><font color="#CCCCCC"> 51 85 allowed</font><font color="#E5E5E5"> configuration of a</font>

207
00:10:29,089 --> 00:10:35,210
link to be in multiple<font color="#E5E5E5"> areas so</font><font color="#CCCCCC"> stub</font>

208
00:10:32,779 --> 00:10:37,400
still can only be in a single area<font color="#E5E5E5"> links</font>

209
00:10:35,210 --> 00:10:39,500
<font color="#E5E5E5">can</font><font color="#CCCCCC"> be configured</font><font color="#E5E5E5"> in multiple areas and</font>

210
00:10:37,400 --> 00:10:43,220
having only one<font color="#E5E5E5"> primary area which is</font>

211
00:10:39,500 --> 00:10:46,610
the area<font color="#CCCCCC"> where the the actual</font><font color="#E5E5E5"> interface</font>

212
00:10:43,220 --> 00:10:48,620
IPS are advertised as<font color="#CCCCCC"> being in and so</font>

213
00:10:46,610 --> 00:10:50,330
this<font color="#E5E5E5"> allows configuration against some</font>

214
00:10:48,620 --> 00:10:54,920
hijacking cases<font color="#E5E5E5"> but</font><font color="#CCCCCC"> also</font><font color="#E5E5E5"> add simple</font>

215
00:10:50,330 --> 00:10:57,650
flexi<font color="#E5E5E5"> for example in this</font><font color="#CCCCCC"> network now</font>

216
00:10:54,920 --> 00:10:59,900
that there is<font color="#E5E5E5"> a that the link between</font>

217
00:10:57,650 --> 00:11:05,150
back<font color="#CCCCCC"> 1 and back 2 is</font><font color="#E5E5E5"> also in the red</font>

218
00:10:59,900 --> 00:11:07,280
area back<font color="#E5E5E5"> to seize a intra area path in</font>

219
00:11:05,150 --> 00:11:12,620
the red area going<font color="#E5E5E5"> to back</font><font color="#CCCCCC"> 1 and then to</font>

220
00:11:07,280 --> 00:11:14,000
access<font color="#E5E5E5"> one and avoids this exacting</font><font color="#CCCCCC"> but</font>

221
00:11:12,620 --> 00:11:15,470
this can<font color="#E5E5E5"> also lead</font><font color="#CCCCCC"> to other</font>

222
00:11:14,000 --> 00:11:17,930
complications as<font color="#E5E5E5"> we will see a little</font>

223
00:11:15,470 --> 00:11:20,120
<font color="#E5E5E5">later so there's also another type of</font>

224
00:11:17,930 --> 00:11:22,790
hijacking<font color="#CCCCCC"> the higher</font><font color="#E5E5E5"> and being</font><font color="#CCCCCC"> hit it</font>

225
00:11:20,120 --> 00:11:29,480
<font color="#CCCCCC">myself so another type of</font><font color="#E5E5E5"> thing that can</font>

226
00:11:22,790 --> 00:11:31,430
happen with areas<font color="#E5E5E5"> this</font><font color="#CCCCCC"> is a simple two</font>

227
00:11:29,480 --> 00:11:33,440
area network one thing as areas are

228
00:11:31,430 --> 00:11:36,170
<font color="#E5E5E5">often used</font><font color="#CCCCCC"> for is use</font><font color="#E5E5E5"> it configure a</font>

229
00:11:33,440 --> 00:11:36,860
different area in each<font color="#CCCCCC"> office or pop and</font>

230
00:11:36,170 --> 00:11:38,750
so that's what this<font color="#CCCCCC"> is sort of</font>

231
00:11:36,860 --> 00:11:42,290
representing is<font color="#CCCCCC"> two separate access</font>

232
00:11:38,750 --> 00:11:43,220
networks connected by a backbone<font color="#E5E5E5"> and if</font>

233
00:11:42,290 --> 00:11:44,930
<font color="#CCCCCC">you're</font><font color="#E5E5E5"> routing from the source to</font>

234
00:11:43,220 --> 00:11:48,140
<font color="#E5E5E5">destination it takes the very</font>

235
00:11:44,930 --> 00:11:50,680
straightforward route now<font color="#E5E5E5"> however</font>

236
00:11:48,140 --> 00:11:53,630
suppose that access to

237
00:11:50,680 --> 00:11:57,979
connections<font color="#CCCCCC"> to the aggregation routers</font>

238
00:11:53,630 --> 00:11:59,990
happened to share the same pathway so

239
00:11:57,980 --> 00:12:02,690
there was a lack<font color="#CCCCCC"> of</font><font color="#E5E5E5"> fiber diversity and</font>

240
00:11:59,990 --> 00:12:06,170
so somebody<font color="#E5E5E5"> had the clever idea of</font>

241
00:12:02,690 --> 00:12:08,240
<font color="#E5E5E5">putting in a backup link from access</font><font color="#CCCCCC"> to</font>

242
00:12:06,170 --> 00:12:10,520
over to another aggregation router to

243
00:12:08,240 --> 00:12:12,860
get some diversity<font color="#CCCCCC"> configured with a</font>

244
00:12:10,520 --> 00:12:15,530
very high<font color="#CCCCCC"> OSPF</font><font color="#E5E5E5"> weight</font><font color="#CCCCCC"> so that would not</font>

245
00:12:12,860 --> 00:12:16,580
<font color="#E5E5E5">be used unless there was a program of</font>

246
00:12:15,530 --> 00:12:20,860
<font color="#E5E5E5">fiber cut that would threaten to</font>

247
00:12:16,580 --> 00:12:23,600
disconnect access to well<font color="#E5E5E5"> this has the</font>

248
00:12:20,860 --> 00:12:25,970
visit<font color="#CCCCCC"> event that makes aggregator to</font>

249
00:12:23,600 --> 00:12:29,390
become an area<font color="#E5E5E5"> border router because it</font>

250
00:12:25,970 --> 00:12:32,300
now has<font color="#E5E5E5"> links in multiple areas as an</font>

251
00:12:29,390 --> 00:12:36,500
area border router<font color="#CCCCCC"> it only will listen</font>

252
00:12:32,300 --> 00:12:40,099
to remote prefixes<font color="#E5E5E5"> remote stubs</font><font color="#CCCCCC"> in area</font>

253
00:12:36,500 --> 00:12:42,440
<font color="#CCCCCC">0</font><font color="#E5E5E5"> it doesn't</font><font color="#CCCCCC"> have any links in area</font><font color="#E5E5E5"> 0 so</font>

254
00:12:40,100 --> 00:12:46,390
it doesn't learn about the destination

255
00:12:42,440 --> 00:12:49,190
stub and so it just<font color="#CCCCCC"> black holes traffic</font>

256
00:12:46,390 --> 00:12:52,310
so a way<font color="#CCCCCC"> around</font><font color="#E5E5E5"> this was introduced with</font>

257
00:12:49,190 --> 00:12:55,100
RFC 3509<font color="#E5E5E5"> which was basically the</font>

258
00:12:52,310 --> 00:12:56,569
observation that<font color="#E5E5E5"> well routers could</font>

259
00:12:55,100 --> 00:12:57,950
actually do something sensible<font color="#E5E5E5"> in this</font>

260
00:12:56,570 --> 00:13:00,470
case rather<font color="#CCCCCC"> just black calling the</font>

261
00:12:57,950 --> 00:13:03,140
traffic<font color="#E5E5E5"> this is sort of a very strange</font>

262
00:13:00,470 --> 00:13:05,660
RFC because it doesn't actually specify

263
00:13:03,140 --> 00:13:08,000
what the standard should<font color="#E5E5E5"> you know an</font>

264
00:13:05,660 --> 00:13:12,650
amendment to the standard option<font color="#E5E5E5"> all it</font>

265
00:13:08,000 --> 00:13:14,360
says is that<font color="#CCCCCC"> in this case specific</font>

266
00:13:12,650 --> 00:13:16,189
router vendors have done something

267
00:13:14,360 --> 00:13:18,530
<font color="#E5E5E5">different than black hole the traffic</font>

268
00:13:16,190 --> 00:13:20,930
they allow for<font color="#CCCCCC"> a concept</font><font color="#E5E5E5"> of a multi area</font>

269
00:13:18,530 --> 00:13:23,569
router and<font color="#E5E5E5"> it specific specimen what</font>

270
00:13:20,930 --> 00:13:25,819
Cisco<font color="#E5E5E5"> and IBM routers do and that's the</font>

271
00:13:23,570 --> 00:13:28,160
<font color="#E5E5E5">only two vendors routers are specifies</font>

272
00:13:25,820 --> 00:13:29,810
what happens<font color="#CCCCCC"> to and they specify</font>

273
00:13:28,160 --> 00:13:32,689
slightly different behaviors for that

274
00:13:29,810 --> 00:13:35,300
but the<font color="#E5E5E5"> basic point is that</font><font color="#CCCCCC"> it says that</font>

275
00:13:32,690 --> 00:13:38,630
they can<font color="#E5E5E5"> essentially act as if they are</font>

276
00:13:35,300 --> 00:13:40,339
<font color="#E5E5E5">just routers with the</font><font color="#CCCCCC"> areas being</font>

277
00:13:38,630 --> 00:13:41,930
separate<font color="#E5E5E5"> and not acting as an area</font>

278
00:13:40,340 --> 00:13:43,730
border<font color="#E5E5E5"> routers so they can still forward</font>

279
00:13:41,930 --> 00:13:48,380
<font color="#E5E5E5">traffic to other prefixes</font><font color="#CCCCCC"> that they've</font>

280
00:13:43,730 --> 00:13:50,510
learned so that<font color="#CCCCCC"> would that allows the</font>

281
00:13:48,380 --> 00:13:52,580
routers to still<font color="#E5E5E5"> forward traffic to that</font>

282
00:13:50,510 --> 00:13:55,970
previous destination but it<font color="#E5E5E5"> can still</font>

283
00:13:52,580 --> 00:13:58,540
create<font color="#E5E5E5"> other pieces of chaos so in that</font>

284
00:13:55,970 --> 00:14:02,690
same<font color="#CCCCCC"> network if we were routing from</font>

285
00:13:58,540 --> 00:14:04,010
access<font color="#E5E5E5"> one to access</font><font color="#CCCCCC"> 3 once again the</font>

286
00:14:02,690 --> 00:14:06,380
route would<font color="#CCCCCC"> be</font><font color="#E5E5E5"> a fair</font>

287
00:14:04,010 --> 00:14:10,580
<font color="#CCCCCC">straight forward 1</font><font color="#E5E5E5"> up to the backbone</font>

288
00:14:06,380 --> 00:14:12,890
and<font color="#E5E5E5"> across and back now if we introduce</font>

289
00:14:10,580 --> 00:14:15,100
that<font color="#E5E5E5"> same you know sort</font><font color="#CCCCCC"> of backup</font><font color="#E5E5E5"> link</font>

290
00:14:12,890 --> 00:14:18,319
with a very high<font color="#CCCCCC"> OSPF weight</font>

291
00:14:15,100 --> 00:14:20,600
well aggregator<font color="#CCCCCC"> - doesn't</font><font color="#E5E5E5"> black hole the</font>

292
00:14:18,320 --> 00:14:26,180
traffic<font color="#E5E5E5"> because with if it's complying</font>

293
00:14:20,600 --> 00:14:29,860
with<font color="#E5E5E5"> RFC 3500 router instead</font><font color="#CCCCCC"> of an area</font>

294
00:14:26,180 --> 00:14:33,199
border router<font color="#E5E5E5"> but it does now have a</font>

295
00:14:29,860 --> 00:14:36,650
local<font color="#E5E5E5"> path</font><font color="#CCCCCC"> in the blue area</font><font color="#E5E5E5"> in Terraria</font>

296
00:14:33,200 --> 00:14:39,850
path to the destination<font color="#CCCCCC"> so instead it</font>

297
00:14:36,650 --> 00:14:45,069
will route traffic<font color="#E5E5E5"> over this backup link</font>

298
00:14:39,850 --> 00:14:49,010
through one access router to<font color="#E5E5E5"> the other</font>

299
00:14:45,070 --> 00:14:50,780
<font color="#CCCCCC">okay another</font><font color="#E5E5E5"> example</font><font color="#CCCCCC"> of some interesting</font>

300
00:14:49,010 --> 00:14:55,010
<font color="#E5E5E5">that happens there is is that the stub</font>

301
00:14:50,780 --> 00:14:56,720
area<font color="#E5E5E5"> can matter so the area what area of</font>

302
00:14:55,010 --> 00:15:00,069
<font color="#E5E5E5">the stub is in can certainly have an</font>

303
00:14:56,720 --> 00:15:02,360
impact<font color="#CCCCCC"> so here's</font><font color="#E5E5E5"> another example on a</font>

304
00:15:00,070 --> 00:15:06,290
you<font color="#E5E5E5"> know access our if we're routing</font>

305
00:15:02,360 --> 00:15:08,360
<font color="#CCCCCC">from access</font><font color="#E5E5E5"> one to aggregation one you</font>

306
00:15:06,290 --> 00:15:12,189
might<font color="#E5E5E5"> think that</font><font color="#CCCCCC"> it would take the nice</font>

307
00:15:08,360 --> 00:15:14,570
short you know ha you know of length 50

308
00:15:12,190 --> 00:15:16,850
however let's<font color="#CCCCCC"> look at what happens in</font>

309
00:15:14,570 --> 00:15:21,560
more detail there's only<font color="#E5E5E5"> two area border</font>

310
00:15:16,850 --> 00:15:25,550
routers in this back<font color="#E5E5E5"> one and back</font><font color="#CCCCCC"> - so</font>

311
00:15:21,560 --> 00:15:29,569
they compute their distance<font color="#E5E5E5"> to the the</font>

312
00:15:25,550 --> 00:15:32,800
<font color="#CCCCCC">read stub</font><font color="#E5E5E5"> in the ready area by looking</font>

313
00:15:29,570 --> 00:15:35,780
their shortest<font color="#E5E5E5"> path and then source</font>

314
00:15:32,800 --> 00:15:38,990
computes in the blue area<font color="#CCCCCC"> its route to a</font>

315
00:15:35,780 --> 00:15:42,380
<font color="#CCCCCC">BRS</font><font color="#E5E5E5"> plus the ABR distances and so it</font>

316
00:15:38,990 --> 00:15:45,170
sees that route to back<font color="#CCCCCC"> 1</font><font color="#E5E5E5"> plus you know</font>

317
00:15:42,380 --> 00:15:47,360
<font color="#E5E5E5">the distance of 351</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> black one</font>

318
00:15:45,170 --> 00:15:49,579
<font color="#E5E5E5">advertised and gets its distance of 751</font>

319
00:15:47,360 --> 00:15:52,340
or can see the route going<font color="#E5E5E5"> up through</font>

320
00:15:49,580 --> 00:15:55,100
back<font color="#CCCCCC"> to</font><font color="#E5E5E5"> plus back</font><font color="#CCCCCC"> twos advertised</font>

321
00:15:52,340 --> 00:15:57,830
distance and the route through back to

322
00:15:55,100 --> 00:16:01,670
<font color="#CCCCCC">is a shorter one so a little</font><font color="#E5E5E5"> forward is</font>

323
00:15:57,830 --> 00:16:03,110
<font color="#CCCCCC">traffic towards</font><font color="#E5E5E5"> aggregator - but when</font><font color="#CCCCCC"> it</font>

324
00:16:01,670 --> 00:16:06,530
get the traffic<font color="#CCCCCC"> gets to</font>

325
00:16:03,110 --> 00:16:09,590
aggregator to it now sees that it has a

326
00:16:06,530 --> 00:16:11,510
intra<font color="#E5E5E5"> area path in the red area so</font><font color="#CCCCCC"> we'll</font>

327
00:16:09,590 --> 00:16:13,370
<font color="#E5E5E5">forward directly there so you get</font><font color="#CCCCCC"> up for</font>

328
00:16:11,510 --> 00:16:15,590
this sort<font color="#CCCCCC"> of this another type of</font>

329
00:16:13,370 --> 00:16:18,340
hijacking<font color="#CCCCCC"> the result of this a</font><font color="#E5E5E5"> little</font>

330
00:16:15,590 --> 00:16:18,340
<font color="#E5E5E5">bit unusual looking</font>

331
00:16:19,120 --> 00:16:27,800
so one<font color="#E5E5E5"> last thing</font><font color="#CCCCCC"> that happens is</font><font color="#E5E5E5"> that</font>

332
00:16:24,970 --> 00:16:30,710
routers can import external routes

333
00:16:27,800 --> 00:16:32,390
<font color="#E5E5E5">either static routes or they can import</font>

334
00:16:30,710 --> 00:16:34,640
routes from other routing processes

335
00:16:32,390 --> 00:16:37,520
either<font color="#CCCCCC"> OSPF or other types of</font>

336
00:16:34,640 --> 00:16:39,500
<font color="#E5E5E5">cooperating processes when a router</font>

337
00:16:37,520 --> 00:16:40,340
imports external routes it's called an

338
00:16:39,500 --> 00:16:43,630
<font color="#CCCCCC">asbr</font>

339
00:16:40,340 --> 00:16:46,310
for autonomous system border router<font color="#E5E5E5"> and</font>

340
00:16:43,630 --> 00:16:49,130
so the<font color="#CCCCCC"> asbr</font>

341
00:16:46,310 --> 00:16:51,199
advertises that it<font color="#E5E5E5"> has a given prefix at</font>

342
00:16:49,130 --> 00:16:54,830
a given<font color="#CCCCCC"> distance that it can forward</font>

343
00:16:51,200 --> 00:16:57,050
<font color="#CCCCCC">traffic to and when a router is looking</font>

344
00:16:54,830 --> 00:17:01,190
for paths<font color="#CCCCCC"> it first looks to see</font><font color="#E5E5E5"> if it</font>

345
00:16:57,050 --> 00:17:03,229
has a you know an intra area path then

346
00:17:01,190 --> 00:17:06,110
it<font color="#E5E5E5"> looks for an inter area path within</font>

347
00:17:03,230 --> 00:17:08,959
<font color="#CCCCCC">the domain and then it looks to see</font><font color="#E5E5E5"> if</font>

348
00:17:06,109 --> 00:17:11,089
it has a path<font color="#E5E5E5"> to an external stub</font><font color="#CCCCCC"> and</font>

349
00:17:08,959 --> 00:17:14,569
once again it's<font color="#CCCCCC"> looking at</font><font color="#E5E5E5"> the distance</font>

350
00:17:11,089 --> 00:17:17,599
to the asbr<font color="#E5E5E5"> plus the distance of the</font><font color="#CCCCCC"> SPR</font>

351
00:17:14,569 --> 00:17:20,599
advertised<font color="#E5E5E5"> now the one thing that's</font>

352
00:17:17,599 --> 00:17:22,429
unusual about this<font color="#E5E5E5"> is that unlike all of</font>

353
00:17:20,599 --> 00:17:24,438
<font color="#CCCCCC">the the loop facts that you could be</font>

354
00:17:22,430 --> 00:17:26,089
routing to ASPRS

355
00:17:24,439 --> 00:17:28,490
<font color="#CCCCCC">are routers and therefore they're not in</font>

356
00:17:26,089 --> 00:17:30,770
a specific area<font color="#CCCCCC"> and therefore</font><font color="#E5E5E5"> you could</font>

357
00:17:28,490 --> 00:17:36,320
have intra area routes<font color="#E5E5E5"> in multiple paths</font>

358
00:17:30,770 --> 00:17:38,150
in multiple areas and so the there has

359
00:17:36,320 --> 00:17:43,220
to be sort<font color="#CCCCCC"> of it</font><font color="#E5E5E5"> there is an additional</font>

360
00:17:38,150 --> 00:17:45,320
<font color="#CCCCCC">tie break</font><font color="#E5E5E5"> for routing to and</font><font color="#CCCCCC"> asbr</font><font color="#E5E5E5"> and it</font>

361
00:17:43,220 --> 00:17:48,170
<font color="#E5E5E5">actually depends on there's sort of</font>

362
00:17:45,320 --> 00:17:51,560
<font color="#CCCCCC">anything</font><font color="#E5E5E5"> whether RFC 1583 compatibility</font>

363
00:17:48,170 --> 00:17:54,710
is set to disabled or not but it

364
00:17:51,560 --> 00:17:56,899
basically<font color="#E5E5E5"> breaks ties by</font><font color="#CCCCCC"> lowest cost</font><font color="#E5E5E5"> and</font>

365
00:17:54,710 --> 00:17:58,700
then if<font color="#CCCCCC"> there's a tie on cost it</font><font color="#E5E5E5"> breaks</font>

366
00:17:56,900 --> 00:18:03,580
ties by rocking along the highest<font color="#E5E5E5"> higher</font>

367
00:17:58,700 --> 00:18:06,770
area<font color="#E5E5E5"> number as I did</font><font color="#CCCCCC"> so for</font><font color="#E5E5E5"> example</font><font color="#CCCCCC"> um</font>

368
00:18:03,580 --> 00:18:09,080
<font color="#CCCCCC">if we were just routing from back one</font><font color="#E5E5E5"> to</font>

369
00:18:06,770 --> 00:18:10,970
back to well<font color="#E5E5E5"> it depends on where they're</font>

370
00:18:09,080 --> 00:18:12,770
routing to it as the<font color="#E5E5E5"> loop back or</font>

371
00:18:10,970 --> 00:18:15,620
routing to it as an<font color="#CCCCCC"> ASP Arkwright - as</font><font color="#E5E5E5"> a</font>

372
00:18:12,770 --> 00:18:18,530
<font color="#CCCCCC">loop</font><font color="#E5E5E5"> back the stub is in the black area</font>

373
00:18:15,620 --> 00:18:21,469
so it's<font color="#E5E5E5"> going</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> use the intra area path</font>

374
00:18:18,530 --> 00:18:24,170
in the black area<font color="#CCCCCC"> Peroni</font><font color="#E5E5E5"> - isn't a SBR</font>

375
00:18:21,470 --> 00:18:27,110
<font color="#E5E5E5">then it sees that</font><font color="#CCCCCC"> it has a shorter route</font>

376
00:18:24,170 --> 00:18:30,370
in the red area and routes<font color="#E5E5E5"> by way of the</font>

377
00:18:27,110 --> 00:18:30,370
access routers in the red area

378
00:18:31,000 --> 00:18:38,690
<font color="#E5E5E5">okay</font><font color="#CCCCCC"> so as promised</font><font color="#E5E5E5"> there's a quiz which</font>

379
00:18:35,210 --> 00:18:44,150
is<font color="#E5E5E5"> what's the path from R 1 to R 5</font><font color="#CCCCCC"> in</font>

380
00:18:38,690 --> 00:18:49,220
this network give a pause if anyone

381
00:18:44,150 --> 00:18:51,260
wants to try<font color="#CCCCCC"> to venture</font><font color="#E5E5E5"> a guess actually</font>

382
00:18:49,220 --> 00:18:54,230
<font color="#CCCCCC">I'll jump ahead</font><font color="#E5E5E5"> it's a trick</font><font color="#CCCCCC"> question</font>

383
00:18:51,260 --> 00:18:56,360
because<font color="#E5E5E5"> the answer depends on what the</font>

384
00:18:54,230 --> 00:18:59,870
<font color="#CCCCCC">question was so it</font><font color="#E5E5E5"> depends on whether</font>

385
00:18:56,360 --> 00:19:01,908
the destination<font color="#E5E5E5"> meant the area</font><font color="#CCCCCC"> 0</font>

386
00:18:59,870 --> 00:19:04,760
<font color="#E5E5E5">loopback or</font><font color="#CCCCCC"> there black</font><font color="#E5E5E5"> area loopback</font>

387
00:19:01,909 --> 00:19:09,020
<font color="#E5E5E5">the area green area loopback</font><font color="#CCCCCC"> or the</font>

388
00:19:04,760 --> 00:19:12,140
<font color="#E5E5E5">destination as an ASB R it also depends</font>

389
00:19:09,020 --> 00:19:17,000
<font color="#E5E5E5">on whether the routers are RFC 3509</font>

390
00:19:12,140 --> 00:19:19,549
compliant<font color="#CCCCCC"> and</font><font color="#E5E5E5"> if</font><font color="#CCCCCC"> they're</font><font color="#E5E5E5"> RFC 3509</font>

391
00:19:17,000 --> 00:19:21,650
compliant<font color="#CCCCCC"> it depends on whether they're</font>

392
00:19:19,549 --> 00:19:24,490
Cisco or juniper routers at least

393
00:19:21,650 --> 00:19:28,640
because they behave<font color="#CCCCCC"> differently in</font>

394
00:19:24,490 --> 00:19:30,860
<font color="#CCCCCC">particular when</font><font color="#E5E5E5"> you have a multi area</font>

395
00:19:28,640 --> 00:19:35,840
router<font color="#E5E5E5"> it depends on whether they</font>

396
00:19:30,860 --> 00:19:38,360
advertise<font color="#E5E5E5"> local prefixes or not so now</font>

397
00:19:35,840 --> 00:19:43,039
we can go<font color="#CCCCCC"> through the various depends so</font>

398
00:19:38,360 --> 00:19:50,770
if we're at<font color="#E5E5E5"> routing to the area</font><font color="#CCCCCC"> zero</font>

399
00:19:43,039 --> 00:19:53,179
loopback and the<font color="#E5E5E5"> r1 is not</font><font color="#CCCCCC"> RFC 3500</font>

400
00:19:50,770 --> 00:19:56,030
block<font color="#E5E5E5"> all the traffic because</font><font color="#CCCCCC"> it will be</font>

401
00:19:53,179 --> 00:19:59,419
an area border router<font color="#E5E5E5"> and will not have</font>

402
00:19:56,030 --> 00:20:02,120
seen that loopback advertised on the

403
00:19:59,419 --> 00:20:06,770
other hand if it's RFC 3509 compliant

404
00:20:02,120 --> 00:20:10,399
you<font color="#CCCCCC"> get this path it</font><font color="#E5E5E5"> will first forward</font>

405
00:20:06,770 --> 00:20:12,500
in the red area<font color="#E5E5E5"> then split amongst the</font>

406
00:20:10,400 --> 00:20:18,650
red and blue area links and then go

407
00:20:12,500 --> 00:20:21,980
<font color="#E5E5E5">across the green link now if</font><font color="#CCCCCC"> you're</font>

408
00:20:18,650 --> 00:20:25,700
routing<font color="#E5E5E5"> it to the green stub as I said</font>

409
00:20:21,980 --> 00:20:29,570
it<font color="#E5E5E5"> depends on whether the r3 is a Cisco</font>

410
00:20:25,700 --> 00:20:32,210
or a<font color="#E5E5E5"> juniper if it's a Cisco</font><font color="#CCCCCC"> router it</font>

411
00:20:29,570 --> 00:20:35,960
will end up<font color="#CCCCCC"> doing the same path we</font><font color="#E5E5E5"> saw</font>

412
00:20:32,210 --> 00:20:39,290
for the<font color="#E5E5E5"> black stub however if it's</font>

413
00:20:35,960 --> 00:20:41,150
juniper router<font color="#CCCCCC"> it'll end up</font><font color="#E5E5E5"> doing a sort</font>

414
00:20:39,290 --> 00:20:42,530
<font color="#E5E5E5">of different</font><font color="#CCCCCC"> path</font><font color="#E5E5E5"> or splits along the</font>

415
00:20:41,150 --> 00:20:44,679
first<font color="#E5E5E5"> link and</font><font color="#CCCCCC"> then just uses the blue</font>

416
00:20:42,530 --> 00:20:44,678
here

417
00:20:45,130 --> 00:20:55,460
if<font color="#E5E5E5"> it's routing to an</font><font color="#CCCCCC"> a SVR it doesn't</font>

418
00:20:52,100 --> 00:20:56,000
<font color="#E5E5E5">really matter</font><font color="#CCCCCC"> but its discord yeah</font><font color="#E5E5E5"> so it</font>

419
00:20:55,460 --> 00:20:58,460
does matter

420
00:20:56,000 --> 00:21:00,020
right<font color="#E5E5E5"> so for the</font><font color="#CCCCCC"> SBR routing once again</font>

421
00:20:58,460 --> 00:21:06,340
<font color="#E5E5E5">depending upon Cisco or juniper you'll</font>

422
00:21:00,020 --> 00:21:06,340
get this<font color="#E5E5E5"> three hot path or</font><font color="#CCCCCC"> that one</font>

423
00:21:08,290 --> 00:21:11,409
thank<font color="#CCCCCC"> you</font>

424
00:21:17,330 --> 00:21:28,520
<font color="#E5E5E5">okay any questions going once going</font>

425
00:21:26,400 --> 00:21:28,520
twice

426
00:21:29,210 --> 00:21:38,570
hi<font color="#CCCCCC"> Jay aside from</font><font color="#E5E5E5"> what's the</font><font color="#CCCCCC"> aside from</font>

427
00:21:34,290 --> 00:21:42,510
<font color="#E5E5E5">sticking with is is what's the take away</font>

428
00:21:38,570 --> 00:21:46,020
<font color="#CCCCCC">so take away is really</font><font color="#E5E5E5"> the area</font><font color="#CCCCCC"> don't</font>

429
00:21:42,510 --> 00:21:47,760
build networks that like that<font color="#E5E5E5"> it's it's</font>

430
00:21:46,020 --> 00:21:49,050
<font color="#E5E5E5">sort of</font><font color="#CCCCCC"> that you need to</font><font color="#E5E5E5"> you know it's</font>

431
00:21:47,760 --> 00:21:52,680
more complicated<font color="#CCCCCC"> than you might expect</font>

432
00:21:49,050 --> 00:21:55,730
<font color="#E5E5E5">and so if you're using</font><font color="#CCCCCC"> OSPF with areas</font>

433
00:21:52,680 --> 00:21:58,440
you need<font color="#E5E5E5"> to be ready for surprises</font>

434
00:21:55,730 --> 00:21:59,550
right and so<font color="#E5E5E5"> I guess</font><font color="#CCCCCC"> yes I have some</font>

435
00:21:58,440 --> 00:22:02,460
<font color="#E5E5E5">friends that have claimed that the</font>

436
00:21:59,550 --> 00:22:04,139
<font color="#E5E5E5">takeaway</font><font color="#CCCCCC"> is that</font><font color="#E5E5E5"> use is is because areas</font>

437
00:22:02,460 --> 00:22:05,370
are so complicated there that no one

438
00:22:04,140 --> 00:22:11,400
ever<font color="#E5E5E5"> uses them and you don't have to</font>

439
00:22:05,370 --> 00:22:13,919
worry<font color="#E5E5E5"> about them didn't actually call</font>

440
00:22:11,400 --> 00:22:21,960
<font color="#CCCCCC">the</font><font color="#E5E5E5"> air is is scaled so much better that</font>

441
00:22:13,920 --> 00:22:24,410
you<font color="#E5E5E5"> don't need</font><font color="#CCCCCC"> to for</font><font color="#E5E5E5"> that yes okay</font>

442
00:22:21,960 --> 00:22:24,410
anybody else

443
00:22:27,440 --> 00:22:31,210
<font color="#E5E5E5">okay David thank you</font><font color="#CCCCCC"> very much</font><font color="#E5E5E5"> again</font>

