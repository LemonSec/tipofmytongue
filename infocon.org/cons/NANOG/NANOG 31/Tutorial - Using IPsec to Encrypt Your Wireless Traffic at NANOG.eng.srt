1
00:00:03,830 --> 00:00:21,560
does<font color="#E5E5E5"> that have a number written on it so</font>

2
00:00:19,470 --> 00:00:24,900
an important thing<font color="#CCCCCC"> to realize is that</font>

3
00:00:21,560 --> 00:00:26,880
depending on<font color="#E5E5E5"> which is you're using in</font>

4
00:00:24,900 --> 00:00:31,320
and some other configuration options

5
00:00:26,880 --> 00:00:34,980
here the traffic on the network over

6
00:00:31,320 --> 00:00:37,860
here may not be encrypted locally so for

7
00:00:34,980 --> 00:00:40,500
example<font color="#E5E5E5"> if you're making a query to to</font>

8
00:00:37,860 --> 00:00:44,280
this local DNS server that query may not

9
00:00:40,500 --> 00:00:46,650
be encrypted that's especially true if

10
00:00:44,280 --> 00:00:48,870
you're going to use<font color="#CCCCCC"> Windows if you're</font>

11
00:00:46,650 --> 00:00:50,070
using clinics or freebsd it's sort of

12
00:00:48,870 --> 00:00:53,640
optional you can you can do it either

13
00:00:50,070 --> 00:00:55,890
<font color="#CCCCCC">way so that's just</font><font color="#E5E5E5"> something to keep in</font>

14
00:00:53,640 --> 00:00:58,199
mind this is not<font color="#E5E5E5"> going to encrypt</font>

15
00:00:55,890 --> 00:00:59,309
everything it's going to encrypt for

16
00:00:58,199 --> 00:01:05,009
sure it's going to encrypt things that

17
00:00:59,309 --> 00:01:10,140
are not on that local subnet and also

18
00:01:05,009 --> 00:01:12,630
note that there are places on the

19
00:01:10,140 --> 00:01:14,670
network<font color="#E5E5E5"> here in the hotel where your</font>

20
00:01:12,630 --> 00:01:17,670
traffic will be unencrypted for example

21
00:01:14,670 --> 00:01:19,220
<font color="#CCCCCC">you know</font><font color="#E5E5E5"> on this subnet on this link</font>

22
00:01:17,670 --> 00:01:21,720
going out to the<font color="#CCCCCC"> Internet and of course</font>

23
00:01:19,220 --> 00:01:23,908
out there<font color="#CCCCCC"> on the internet so if there's</font>

24
00:01:21,720 --> 00:01:30,170
an<font color="#CCCCCC"> attacker</font><font color="#E5E5E5"> an eavesdropper out there</font>

25
00:01:23,909 --> 00:01:32,970
they may be able<font color="#E5E5E5"> to see your packets I</font>

26
00:01:30,170 --> 00:01:36,510
guess<font color="#E5E5E5"> this slide says some of the things</font>

27
00:01:32,970 --> 00:01:38,670
i already said also note that using

28
00:01:36,510 --> 00:01:41,400
IPSec does not it's not<font color="#E5E5E5"> a firewall it's</font>

29
00:01:38,670 --> 00:01:43,710
not protecting your laptop from say

30
00:01:41,400 --> 00:01:47,520
malicious people here locally they still

31
00:01:43,710 --> 00:01:48,960
may be able<font color="#E5E5E5"> to you know reach your</font>

32
00:01:47,520 --> 00:01:53,548
laptop send you packets and that kind of

33
00:01:48,960 --> 00:01:55,500
thing and also<font color="#E5E5E5"> note that the primary</font>

34
00:01:53,549 --> 00:01:58,500
goal here is encryption it's not

35
00:01:55,500 --> 00:01:59,760
authentication obviously<font color="#E5E5E5"> because we're</font>

36
00:01:58,500 --> 00:02:03,720
giving everybody the same same

37
00:01:59,760 --> 00:02:05,220
<font color="#CCCCCC">pre-shared secret so there's you know</font>

38
00:02:03,720 --> 00:02:07,408
<font color="#E5E5E5">I'm not I'm not authenticating</font>

39
00:02:05,220 --> 00:02:08,609
individual users here I'm just mainly

40
00:02:07,409 --> 00:02:12,590
interested in getting<font color="#E5E5E5"> you</font><font color="#CCCCCC"> to the step</font>

41
00:02:08,610 --> 00:02:12,590
where your traffic can be encrypted

42
00:02:16,310 --> 00:02:20,220
I got a couple slides here on sort of

43
00:02:18,930 --> 00:02:24,959
<font color="#E5E5E5">big picture how this is all going to</font>

44
00:02:20,220 --> 00:02:26,760
<font color="#CCCCCC">work your your laptop your which is the</font>

45
00:02:24,959 --> 00:02:29,100
ipsec client is<font color="#E5E5E5"> going to create a</font>

46
00:02:26,760 --> 00:02:32,269
security association with the<font color="#CCCCCC"> Epis x</font>

47
00:02:29,100 --> 00:02:37,799
server we're using<font color="#E5E5E5"> pre-shared keys</font>

48
00:02:32,270 --> 00:02:39,780
instead of<font color="#E5E5E5"> say x.509 certificates your</font>

49
00:02:37,800 --> 00:02:42,690
laptop is is going to<font color="#E5E5E5"> get a secondary IP</font>

50
00:02:39,780 --> 00:02:48,030
address either automatically if your

51
00:02:42,690 --> 00:02:51,030
windows XP user or manually if your bsd

52
00:02:48,030 --> 00:02:52,530
linux or macintosh user and the way you

53
00:02:51,030 --> 00:02:55,110
get an address manually is you get one

54
00:02:52,530 --> 00:02:59,810
of these cards which I've given some of

55
00:02:55,110 --> 00:02:59,810
you already if you need<font color="#CCCCCC"> one come on up</font>

56
00:03:00,320 --> 00:03:04,430
you need one<font color="#CCCCCC"> okay</font>

57
00:03:14,490 --> 00:03:17,120
well

58
00:03:18,750 --> 00:03:26,060
<font color="#E5E5E5">I'm filling in I'm filling in the last</font>

59
00:03:21,210 --> 00:03:28,860
octet of the address the cards have

60
00:03:26,060 --> 00:03:31,230
blanks for your primary address and your

61
00:03:28,860 --> 00:03:32,910
secondary address the secondary address

62
00:03:31,230 --> 00:03:36,570
you get from me the primary address you

63
00:03:32,910 --> 00:03:40,500
get from the dhcp<font color="#CCCCCC"> server and in some in</font>

64
00:03:36,570 --> 00:03:42,810
the<font color="#E5E5E5"> linux and bsd configurations you'll</font>

65
00:03:40,500 --> 00:03:44,580
need to type in the primary address and

66
00:03:42,810 --> 00:04:03,000
the secondary address into some of the

67
00:03:44,580 --> 00:04:09,200
configuration files windows windows

68
00:04:03,000 --> 00:04:17,269
<font color="#E5E5E5">users users we're using an l2tp tunnel</font>

69
00:04:09,200 --> 00:04:22,740
encapsulation for linux bsd and<font color="#E5E5E5"> max</font>

70
00:04:17,269 --> 00:04:25,080
we're not using we're using<font color="#E5E5E5"> the IPSec</font>

71
00:04:22,740 --> 00:04:26,850
tunneling features so there's no other

72
00:04:25,080 --> 00:04:28,740
tunneling protocol like PPP or anything

73
00:04:26,850 --> 00:04:31,860
like that but we have to do some tricks

74
00:04:28,740 --> 00:04:34,169
<font color="#E5E5E5">to get the packets leaving your laptop</font>

75
00:04:31,860 --> 00:04:47,490
to have the secondary address as the

76
00:04:34,169 --> 00:04:49,530
<font color="#E5E5E5">source so for</font><font color="#CCCCCC"> BSD we use IPSec server</font>

77
00:04:47,490 --> 00:04:51,810
already has proxy arp injuries for all

78
00:04:49,530 --> 00:04:53,489
of those addresses that's already set<font color="#E5E5E5"> up</font>

79
00:04:51,810 --> 00:04:57,590
so packets coming in from the outside

80
00:04:53,490 --> 00:04:57,590
will get routed to<font color="#CCCCCC"> they're automatically</font>

81
00:04:59,740 --> 00:05:07,900
this slide shows the the IP<font color="#E5E5E5"> addresses</font>

82
00:05:03,069 --> 00:05:14,319
that that will be using everywhere that

83
00:05:07,900 --> 00:05:16,359
you see one 9235 xxx yyy that represents

84
00:05:14,319 --> 00:05:19,770
your primary address that you get from

85
00:05:16,360 --> 00:05:25,330
the dhcp server everywhere<font color="#CCCCCC"> that you see</font>

86
00:05:19,770 --> 00:05:29,799
one 9235 169 zze that's your secondary

87
00:05:25,330 --> 00:05:34,359
address and then on the same subnet

88
00:05:29,800 --> 00:05:37,240
there's addresses for the ipsec servers

89
00:05:34,360 --> 00:05:40,449
one is using raccoon one is using<font color="#E5E5E5"> AIESEC</font>

90
00:05:37,240 --> 00:05:45,639
empty and there's another address for

91
00:05:40,449 --> 00:05:53,430
the tunnel endpoint for l2tp in question

92
00:05:45,639 --> 00:05:57,639
oh so when I was preparing all this<font color="#E5E5E5"> I</font>

93
00:05:53,430 --> 00:06:01,900
found it necessary to use raccoon with

94
00:05:57,639 --> 00:06:05,830
windows because raccoon will create

95
00:06:01,900 --> 00:06:08,169
transport mode associations whereas it

96
00:06:05,830 --> 00:06:13,030
was hard or impossible for me to do<font color="#E5E5E5"> so</font>

97
00:06:08,169 --> 00:06:15,340
with AIESEC empty however for for the

98
00:06:13,030 --> 00:06:18,429
others were bsd and linux i found that

99
00:06:15,340 --> 00:06:23,698
aiesec empty made a better server than

100
00:06:18,430 --> 00:06:23,699
raccoon did so<font color="#CCCCCC"> i decided to</font><font color="#E5E5E5"> have both I</font>

101
00:06:25,680 --> 00:06:32,740
<font color="#E5E5E5">yeah right I do they both have issues</font>

102
00:06:30,159 --> 00:06:34,090
<font color="#E5E5E5">and pluses and minuses but you know if</font>

103
00:06:32,740 --> 00:06:36,729
you're trying it you<font color="#E5E5E5"> find one doesn't</font>

104
00:06:34,090 --> 00:06:37,900
<font color="#CCCCCC">work you can well in theory you could</font>

105
00:06:36,729 --> 00:06:39,520
try the other except i would have<font color="#E5E5E5"> to do</font>

106
00:06:37,900 --> 00:06:43,888
some setup stuff<font color="#E5E5E5"> probably to make that</font>

107
00:06:39,520 --> 00:06:43,889
<font color="#CCCCCC">work those are another question</font>

108
00:06:45,920 --> 00:06:50,120
so here's a brief overview<font color="#CCCCCC"> of how this</font>

109
00:06:48,770 --> 00:06:51,530
works for windows<font color="#E5E5E5"> I have a number of</font>

110
00:06:50,120 --> 00:06:54,470
slides that<font color="#E5E5E5"> will go through all the</font>

111
00:06:51,530 --> 00:06:56,000
details<font color="#E5E5E5"> here in a second so by the way</font>

112
00:06:54,470 --> 00:06:59,180
if<font color="#E5E5E5"> you're planning to sort of play along</font>

113
00:06:56,000 --> 00:07:01,660
and do the<font color="#E5E5E5"> same thing the windows people</font>

114
00:06:59,180 --> 00:07:05,930
are up first you might want<font color="#E5E5E5"> to get ready</font>

115
00:07:01,660 --> 00:07:08,510
to go through some<font color="#CCCCCC"> of these</font><font color="#E5E5E5"> slides</font><font color="#CCCCCC"> okay</font>

116
00:07:05,930 --> 00:07:11,480
so and these instructions only refer to

117
00:07:08,510 --> 00:07:14,750
<font color="#E5E5E5">Windows XP and not say Windows 2000 or</font>

118
00:07:11,480 --> 00:07:18,050
2003 because it's it's really<font color="#E5E5E5"> hard in</font>

119
00:07:14,750 --> 00:07:21,470
two thousand or<font color="#E5E5E5"> 2003 to do this and XP</font>

120
00:07:18,050 --> 00:07:25,730
has a built-in l2tp and ipsec client

121
00:07:21,470 --> 00:07:29,140
that makes it<font color="#E5E5E5"> pretty easy once you</font>

122
00:07:25,730 --> 00:07:34,250
configure that<font color="#E5E5E5"> client it creates a</font>

123
00:07:29,140 --> 00:07:39,380
security<font color="#E5E5E5"> Association and then it logs in</font>

124
00:07:34,250 --> 00:07:41,120
to the l2tp server and after that well

125
00:07:39,380 --> 00:07:43,040
and<font color="#E5E5E5"> then it makes our entering the</font>

126
00:07:41,120 --> 00:07:44,570
routing table so all the traffic will go

127
00:07:43,040 --> 00:07:51,620
through that tunnel and will be

128
00:07:44,570 --> 00:07:53,330
encrypted by IPSec for Mac users you may

129
00:07:51,620 --> 00:07:56,180
want to download this program called

130
00:07:53,330 --> 00:07:59,210
vapor sec and there's a there's a URL

131
00:07:56,180 --> 00:08:01,100
for that upcoming in the slides the

132
00:07:59,210 --> 00:08:03,229
vapor<font color="#E5E5E5"> SEC is just a front into raccoon</font>

133
00:08:01,100 --> 00:08:06,860
so you could<font color="#E5E5E5"> use raccoon directly if</font>

134
00:08:03,230 --> 00:08:08,990
<font color="#CCCCCC">you're more comfortable with that vapor</font>

135
00:08:06,860 --> 00:08:11,420
sec does not do everything that<font color="#CCCCCC"> we</font>

136
00:08:08,990 --> 00:08:14,030
needed<font color="#E5E5E5"> to do so you will need to open up</font>

137
00:08:11,420 --> 00:08:16,180
a root shell and and do some things<font color="#E5E5E5"> like</font>

138
00:08:14,030 --> 00:08:21,979
add an alias to your interface and

139
00:08:16,180 --> 00:08:26,480
change the routing table a<font color="#CCCCCC"> little bit so</font>

140
00:08:21,980 --> 00:08:27,740
freebsd is is similar because you<font color="#E5E5E5"> also</font>

141
00:08:26,480 --> 00:08:31,790
need to change<font color="#E5E5E5"> the writing-table you</font>

142
00:08:27,740 --> 00:08:36,260
need to manually make an ad add the

143
00:08:31,790 --> 00:08:38,150
alias you also need probably need<font color="#CCCCCC"> to add</font>

144
00:08:36,260 --> 00:08:40,100
<font color="#CCCCCC">i pee sex support to your Colonel if you</font>

145
00:08:38,150 --> 00:08:43,419
haven't<font color="#E5E5E5"> done that already and need to</font>

146
00:08:40,100 --> 00:08:43,420
install<font color="#CCCCCC"> that I sick empty port</font>

147
00:08:45,620 --> 00:08:51,320
for linux my instructions are with using

148
00:08:48,050 --> 00:08:53,540
free<font color="#CCCCCC"> swan and i started started this</font>

149
00:08:51,320 --> 00:08:55,730
before free<font color="#E5E5E5"> swan became openswan and</font><font color="#CCCCCC"> i</font>

150
00:08:53,540 --> 00:08:57,829
didn't have time<font color="#CCCCCC"> i didn't</font><font color="#E5E5E5"> bother to</font>

151
00:08:55,730 --> 00:09:00,710
download openswan and see if it's

152
00:08:57,830 --> 00:09:04,720
similar enough that it still works so it

153
00:09:00,710 --> 00:09:14,510
may may not you'll also need IP tables

154
00:09:04,720 --> 00:09:17,600
so that we can add a gnat rule<font color="#E5E5E5"> ok so the</font>

155
00:09:14,510 --> 00:09:21,400
next section is about<font color="#E5E5E5"> 13 screenshots of</font>

156
00:09:17,600 --> 00:09:25,279
<font color="#E5E5E5">Windows dialog boxes and whatnot so</font>

157
00:09:21,400 --> 00:09:29,240
anyone who's using<font color="#E5E5E5"> Windows this is what</font>

158
00:09:25,279 --> 00:09:31,939
you want to do the<font color="#E5E5E5"> first thing is to</font>

159
00:09:29,240 --> 00:09:35,440
open up the new connection wizard which

160
00:09:31,940 --> 00:09:39,440
you can get to<font color="#CCCCCC"> by accessory while start</font>

161
00:09:35,440 --> 00:09:45,920
all programs accessories communications

162
00:09:39,440 --> 00:09:48,100
and new connection wizard ready for the

163
00:09:45,920 --> 00:09:48,099
next one

164
00:09:51,500 --> 00:09:57,480
so this should be<font color="#E5E5E5"> the first screen that</font>

165
00:09:54,420 --> 00:09:59,969
you see after that and you want to

166
00:09:57,480 --> 00:10:02,600
select the option<font color="#CCCCCC"> that says connect to</font>

167
00:09:59,970 --> 00:10:04,889
the network at my workplace even though

168
00:10:02,600 --> 00:10:08,060
you<font color="#CCCCCC"> are not at work and you are not</font>

169
00:10:04,889 --> 00:10:08,060
connecting to your workplace today

170
00:10:10,940 --> 00:10:18,870
obviously<font color="#E5E5E5"> then you select next if I if</font>

171
00:10:17,579 --> 00:10:23,310
anybody is doing this and<font color="#CCCCCC"> I go too fast</font>

172
00:10:18,870 --> 00:10:25,620
just give me a holler<font color="#CCCCCC"> okay so the next</font>

173
00:10:23,310 --> 00:10:32,939
screen<font color="#E5E5E5"> you want to select the VPN</font>

174
00:10:25,620 --> 00:10:35,370
connection option here you can type in a

175
00:10:32,940 --> 00:10:36,630
name for your connection doesn't have to

176
00:10:35,370 --> 00:10:46,320
be anything in particular can be

177
00:10:36,630 --> 00:10:51,120
<font color="#E5E5E5">whatever you want then at this point you</font>

178
00:10:46,320 --> 00:10:53,760
are to<font color="#CCCCCC"> enter the IP address of of the</font>

179
00:10:51,120 --> 00:11:02,449
IPS X<font color="#E5E5E5"> server so if you can't read</font><font color="#CCCCCC"> that</font>

180
00:10:53,760 --> 00:11:02,449
it says 192 35 169 254

181
00:11:10,950 --> 00:11:13,990
I'll i put this light up<font color="#E5E5E5"> here</font><font color="#CCCCCC"> because</font>

182
00:11:12,850 --> 00:11:15,639
you may want to select the option<font color="#E5E5E5"> this</font>

183
00:11:13,990 --> 00:11:18,420
is add a shortcut to this connection on

184
00:11:15,639 --> 00:11:22,800
my desktop before you hit finish and

185
00:11:18,420 --> 00:11:25,510
then when you finish you<font color="#E5E5E5"> should have</font>

186
00:11:22,800 --> 00:11:34,269
that little icon right there or

187
00:11:25,510 --> 00:11:36,819
something like that this screen that's

188
00:11:34,269 --> 00:11:42,160
up here is prompting for authentication

189
00:11:36,820 --> 00:11:44,350
to the l2tp server the<font color="#E5E5E5"> username can be</font>

190
00:11:42,160 --> 00:11:47,260
anything it doesn't it doesn't care the

191
00:11:44,350 --> 00:11:55,420
lttp server doesn't care the password is

192
00:11:47,260 --> 00:11:56,769
pass phrase and as far as the other

193
00:11:55,420 --> 00:12:03,010
settings below that<font color="#CCCCCC"> I don't</font><font color="#E5E5E5"> think it</font>

194
00:11:56,769 --> 00:12:06,639
really matters which use like there ok

195
00:12:03,010 --> 00:12:08,500
so from from this point where where you

196
00:12:06,639 --> 00:12:10,149
see<font color="#CCCCCC"> the connect and cancel and</font>

197
00:12:08,500 --> 00:12:13,899
properties you should slick you should

198
00:12:10,149 --> 00:12:17,380
click on properties and you'll get<font color="#E5E5E5"> this</font>

199
00:12:13,899 --> 00:12:20,079
window there's<font color="#E5E5E5"> nothing really to change</font>

200
00:12:17,380 --> 00:12:23,320
or the<font color="#E5E5E5"> general tab under the options tab</font>

201
00:12:20,079 --> 00:12:27,579
however you may want to increase<font color="#CCCCCC"> the</font>

202
00:12:23,320 --> 00:12:32,199
redial attempts and decrease<font color="#CCCCCC"> the time</font>

203
00:12:27,579 --> 00:12:35,310
between redials and also select redial

204
00:12:32,199 --> 00:12:35,310
if line is dropped

205
00:12:44,490 --> 00:12:51,730
next you want to<font color="#E5E5E5"> click on the</font><font color="#CCCCCC"> security</font>

206
00:12:46,870 --> 00:12:56,830
<font color="#CCCCCC">tab and this refers to l2tp security and</font>

207
00:12:51,730 --> 00:13:00,670
not IP security and so<font color="#E5E5E5"> that's why you</font>

208
00:12:56,830 --> 00:13:04,690
need to deselect this button that says

209
00:13:00,670 --> 00:13:05,979
require data encryption the l2tp server

210
00:13:04,690 --> 00:13:08,800
here is not set<font color="#CCCCCC"> up for data encryption</font>

211
00:13:05,980 --> 00:13:14,410
so and we<font color="#CCCCCC"> don't care because IPSec will</font>

212
00:13:08,800 --> 00:13:16,300
doing all be doing<font color="#E5E5E5"> all that for us and</font>

213
00:13:14,410 --> 00:13:18,810
then after you've done that it you

214
00:13:16,300 --> 00:13:24,370
should click on the IPSec Settings

215
00:13:18,810 --> 00:13:27,089
button there and it opens up a box where

216
00:13:24,370 --> 00:13:31,899
you can type in the pre-shared key and

217
00:13:27,089 --> 00:13:33,790
the key is it's down<font color="#CCCCCC"> here at the bottom</font>

218
00:13:31,899 --> 00:13:38,070
it's also in the window the Key says

219
00:13:33,790 --> 00:13:38,069
what is your threat model ?

220
00:13:49,440 --> 00:13:54,850
so if you've<font color="#E5E5E5"> done that you select ok and</font>

221
00:13:51,580 --> 00:13:57,970
that window goes away then<font color="#E5E5E5"> you should</font>

222
00:13:54,850 --> 00:14:01,330
click on the networking tab and at the

223
00:13:57,970 --> 00:14:11,920
top it says type of VPN you should

224
00:14:01,330 --> 00:14:13,810
select l2tp ipsec VPN<font color="#CCCCCC"> i think in</font><font color="#E5E5E5"> this</font>

225
00:14:11,920 --> 00:14:16,479
example<font color="#CCCCCC"> i also disabled no I guess I</font>

226
00:14:13,810 --> 00:14:19,119
didn't well I may<font color="#E5E5E5"> have disabled the sum</font>

227
00:14:16,480 --> 00:14:25,170
of the Microsoft client protocol stuff

228
00:14:19,120 --> 00:14:27,190
but you probably don't have to<font color="#CCCCCC"> ok so</font>

229
00:14:25,170 --> 00:14:29,829
then we're done with this little

230
00:14:27,190 --> 00:14:33,339
properties dialog you don't have to

231
00:14:29,830 --> 00:14:36,360
change anything under advanced when you

232
00:14:33,339 --> 00:14:38,620
when you close that and go back to that

233
00:14:36,360 --> 00:14:40,500
the screen where you type in the

234
00:14:38,620 --> 00:14:43,480
<font color="#E5E5E5">username and</font><font color="#CCCCCC"> the pass phrase you select</font>

235
00:14:40,500 --> 00:14:44,620
the connect button you should<font color="#CCCCCC"> see a</font>

236
00:14:43,480 --> 00:14:50,460
little window like<font color="#CCCCCC"> this that says</font>

237
00:14:44,620 --> 00:14:50,460
connecting to 192 35 169 254 and

238
00:14:50,520 --> 00:14:56,290
hopefully he will get connected and

239
00:14:53,170 --> 00:14:57,760
authenticated it may in my test it it

240
00:14:56,290 --> 00:14:59,380
sort<font color="#E5E5E5"> of took a couple of tries sometimes</font>

241
00:14:57,760 --> 00:15:00,339
it would read out automatically and it

242
00:14:59,380 --> 00:15:04,290
would work after the second or third

243
00:15:00,339 --> 00:15:07,000
time and then once once you're connected

244
00:15:04,290 --> 00:15:09,640
you might get<font color="#E5E5E5"> a little icon down here</font>

245
00:15:07,000 --> 00:15:12,490
which you can click on to get the status

246
00:15:09,640 --> 00:15:14,140
window that's shown here so does anybody

247
00:15:12,490 --> 00:15:15,880
actually made it this far and gotten

248
00:15:14,140 --> 00:15:20,080
authenticated yeah there's at least one

249
00:15:15,880 --> 00:15:25,360
good<font color="#E5E5E5"> job you're not authenticated is it</font>

250
00:15:20,080 --> 00:15:27,730
still tryin<font color="#CCCCCC"> ok I mean I'm interested to</font>

251
00:15:25,360 --> 00:15:29,410
see<font color="#CCCCCC"> if more than one can do it</font><font color="#E5E5E5"> because</font><font color="#CCCCCC"> i</font>

252
00:15:27,730 --> 00:15:32,740
only tested with one box at<font color="#E5E5E5"> home</font><font color="#CCCCCC"> i</font><font color="#E5E5E5"> never</font>

253
00:15:29,410 --> 00:15:42,370
did<font color="#E5E5E5"> like two or three so hopefully it</font>

254
00:15:32,740 --> 00:15:43,420
works for<font color="#E5E5E5"> more than one yeah is there</font>

255
00:15:42,370 --> 00:15:46,260
anybody here that's going<font color="#E5E5E5"> to try this on</font>

256
00:15:43,420 --> 00:15:52,540
a<font color="#CCCCCC"> Macintosh today ok there's a few good</font>

257
00:15:46,260 --> 00:15:54,670
so I think<font color="#E5E5E5"> that's</font><font color="#CCCCCC"> ok is anybody need me</font>

258
00:15:52,540 --> 00:15:57,490
to hold on<font color="#E5E5E5"> to the the windows way for a</font>

259
00:15:54,670 --> 00:15:59,219
while or<font color="#E5E5E5"> should we move on like we'll</font>

260
00:15:57,490 --> 00:16:02,890
move on

261
00:15:59,220 --> 00:16:06,779
ok so you Matt guys have you downloaded

262
00:16:02,890 --> 00:16:10,330
already have a question already<font color="#CCCCCC"> ok later</font>

263
00:16:06,779 --> 00:16:21,399
so has anyone<font color="#E5E5E5"> downloaded vapor sec yet</font>

264
00:16:10,330 --> 00:16:25,660
<font color="#CCCCCC">you</font><font color="#E5E5E5"> got it ok that's good here's some is</font>

265
00:16:21,399 --> 00:16:27,160
a set of commands which I guess

266
00:16:25,660 --> 00:16:28,930
unfortunately you'll have to type these

267
00:16:27,160 --> 00:16:30,610
in I don't have these pre typed in for

268
00:16:28,930 --> 00:16:31,870
you but you may<font color="#CCCCCC"> want to save these as a</font>

269
00:16:30,610 --> 00:16:43,390
script and<font color="#E5E5E5"> then you'll be able to</font>

270
00:16:31,870 --> 00:16:45,130
execute these puffin yes oh right right

271
00:16:43,390 --> 00:16:57,209
don't yeah that's that's just an example

272
00:16:45,130 --> 00:16:57,209
yeah no that's there's two typos there

273
00:17:00,270 --> 00:17:06,059
it has to be<font color="#E5E5E5"> for the appropriate</font>

274
00:17:02,320 --> 00:17:08,800
interface where your primary address no

275
00:17:06,059 --> 00:17:10,329
that's right yeah the friend of mine

276
00:17:08,800 --> 00:17:11,770
that help me with this I guess we did it

277
00:17:10,329 --> 00:17:15,159
on a wired<font color="#E5E5E5"> network and so that's why I</font>

278
00:17:11,770 --> 00:17:20,280
took these examples from there yeah that

279
00:17:15,160 --> 00:17:22,920
the second line it<font color="#CCCCCC"> should say route add</font>

280
00:17:20,280 --> 00:17:29,590
the first address is correct that's one

281
00:17:22,920 --> 00:17:36,580
9235 169 252 the next address is wrong

282
00:17:29,590 --> 00:17:39,750
and it should say 192 35 164 dot<font color="#E5E5E5"> one so</font>

283
00:17:36,580 --> 00:17:39,750
there's two mistakes there

284
00:17:42,210 --> 00:17:52,940
and obviously these examples he replaces

285
00:17:46,350 --> 00:17:52,939
<font color="#CCCCCC">ezz with</font><font color="#E5E5E5"> your assigned secondary address</font>

286
00:18:06,680 --> 00:18:15,470
I think it's not done you you can

287
00:18:12,990 --> 00:18:18,660
certainly set up the server to accept

288
00:18:15,470 --> 00:18:21,240
any address or from a<font color="#E5E5E5"> group of addresses</font>

289
00:18:18,660 --> 00:18:22,290
but you cannot<font color="#E5E5E5"> make the IP</font><font color="#CCCCCC"> 6 server do</font>

290
00:18:21,240 --> 00:18:24,690
the assignments you would have to use

291
00:18:22,290 --> 00:18:26,580
like a PPP demon or something like that

292
00:18:24,690 --> 00:18:28,920
that's that's one of the things<font color="#E5E5E5"> that the</font>

293
00:18:26,580 --> 00:18:32,070
l2tp demon does on Windows is it hands

294
00:18:28,920 --> 00:18:34,350
out the addresses for you as far<font color="#CCCCCC"> as I</font>

295
00:18:32,070 --> 00:18:38,220
know there's no dhcp over ipsec that'd

296
00:18:34,350 --> 00:18:48,179
be kind of cool well I guess I<font color="#E5E5E5"> wouldn't</font>

297
00:18:38,220 --> 00:18:52,320
work with it oh<font color="#E5E5E5"> okay like a proprietary</font>

298
00:18:48,180 --> 00:18:54,630
solution or something<font color="#E5E5E5"> no okay so Matt</font>

299
00:18:52,320 --> 00:18:58,139
guys ready for this screen are we still

300
00:18:54,630 --> 00:19:01,080
typing in route commands<font color="#E5E5E5"> okay no</font>

301
00:18:58,140 --> 00:19:07,590
response so here's here's what the vapor

302
00:19:01,080 --> 00:19:11,970
<font color="#CCCCCC">SEC screen looks like and you can fill</font>

303
00:19:07,590 --> 00:19:15,689
in the the IP address here that's

304
00:19:11,970 --> 00:19:20,760
<font color="#E5E5E5">actually correct that's correct that's</font>

305
00:19:15,690 --> 00:19:22,530
correct the shared secret is<font color="#CCCCCC"> the same as</font>

306
00:19:20,760 --> 00:19:25,470
<font color="#CCCCCC">it was before it's actually longer than</font>

307
00:19:22,530 --> 00:19:27,360
four dots it's what is your threat model

308
00:19:25,470 --> 00:19:29,810
it's the same<font color="#CCCCCC"> as on the card</font><font color="#E5E5E5"> that I've</font>

309
00:19:27,360 --> 00:19:29,810
<font color="#E5E5E5">given you</font>

310
00:19:37,840 --> 00:19:57,708
sure

311
00:19:40,519 --> 00:19:58,629
<font color="#E5E5E5">oh I thought he's talking to me</font><font color="#CCCCCC"> so I</font>

312
00:19:57,709 --> 00:20:01,519
guess<font color="#E5E5E5"> this is actually what the main</font>

313
00:19:58,629 --> 00:20:06,009
<font color="#E5E5E5">vapor sex screen looks</font><font color="#CCCCCC"> like this is the</font>

314
00:20:01,519 --> 00:20:07,849
<font color="#E5E5E5">previous one is the add or edit screen</font>

315
00:20:06,009 --> 00:20:09,259
so when you get to this point after

316
00:20:07,849 --> 00:20:12,109
you've typed in after you filled in

317
00:20:09,259 --> 00:20:16,669
those fields you want<font color="#E5E5E5"> to hit the button</font>

318
00:20:12,109 --> 00:20:18,708
that<font color="#E5E5E5"> says vaporize and then it should</font>

319
00:20:16,669 --> 00:20:20,570
<font color="#E5E5E5">change to down at the bottom it should</font>

320
00:20:18,709 --> 00:20:27,019
change<font color="#E5E5E5"> to something like raccoon is</font>

321
00:20:20,570 --> 00:20:30,649
running and then hopefully<font color="#E5E5E5"> it's all set</font>

322
00:20:27,019 --> 00:20:34,749
<font color="#CCCCCC">up I don't</font><font color="#E5E5E5"> have any slide any slides</font>

323
00:20:30,649 --> 00:20:36,768
after this for the<font color="#CCCCCC"> mat guys but</font><font color="#E5E5E5"> you can</font>

324
00:20:34,749 --> 00:20:38,479
the way you can test it is the same way

325
00:20:36,769 --> 00:20:40,369
for<font color="#E5E5E5"> freebsd which I'll get to in a</font>

326
00:20:38,479 --> 00:20:43,729
second or you can open up a window and

327
00:20:40,369 --> 00:20:45,320
run commands like set ki minus D or you

328
00:20:43,729 --> 00:20:48,379
can run TCP dump and see if you're

329
00:20:45,320 --> 00:20:54,408
seeing ESP packets in the TCP dump

330
00:20:48,379 --> 00:20:57,019
output ESP is an IPSec protocol type

331
00:20:54,409 --> 00:20:58,729
<font color="#CCCCCC">it's encapsulation service protocol or</font>

332
00:20:57,019 --> 00:21:06,889
something yeah payload packet I don't

333
00:20:58,729 --> 00:21:09,559
know so so the mac OS<font color="#CCCCCC"> away is a lot</font>

334
00:21:06,889 --> 00:21:10,908
similar to the freebsd way some of<font color="#CCCCCC"> the</font>

335
00:21:09,559 --> 00:21:13,908
stuff will be sort of relevant to you

336
00:21:10,909 --> 00:21:16,579
guys too so are<font color="#E5E5E5"> there any freebsd or</font>

337
00:21:13,909 --> 00:21:17,749
general bsd users here today<font color="#E5E5E5"> okay you</font>

338
00:21:16,579 --> 00:21:23,269
got your kernels configure it already

339
00:21:17,749 --> 00:21:28,700
cool if not you could add these lines to

340
00:21:23,269 --> 00:21:31,099
make<font color="#E5E5E5"> a new kernel here's some commands</font>

341
00:21:28,700 --> 00:21:34,940
for installing<font color="#E5E5E5"> ickfd from the freebsd</font>

342
00:21:31,099 --> 00:21:36,559
ports system and if you don't have the

343
00:21:34,940 --> 00:21:39,609
<font color="#E5E5E5">ports set up you can probably download</font>

344
00:21:36,559 --> 00:21:42,229
this binary package from an ftp server

345
00:21:39,609 --> 00:21:47,260
you guys got<font color="#CCCCCC"> aiesec empty already had to</font>

346
00:21:42,229 --> 00:21:49,690
I guess<font color="#E5E5E5"> okay so on that</font>

347
00:21:47,260 --> 00:21:52,210
HTTP server that we<font color="#CCCCCC"> thought might be</font>

348
00:21:49,690 --> 00:21:54,490
down there's a file you can download

349
00:21:52,210 --> 00:21:55,780
there's<font color="#E5E5E5"> like a template aiesec empty</font>

350
00:21:54,490 --> 00:22:01,570
configuration file that you<font color="#E5E5E5"> can download</font>

351
00:21:55,780 --> 00:22:03,639
at this URL you can<font color="#E5E5E5"> save it anywhere but</font>

352
00:22:01,570 --> 00:22:08,919
here's the default location user local

353
00:22:03,640 --> 00:22:10,180
etsy<font color="#E5E5E5"> ISO camp d</font><font color="#CCCCCC"> aiesec camp decom after</font>

354
00:22:08,920 --> 00:22:13,120
you download that<font color="#E5E5E5"> file you</font><font color="#CCCCCC"> need to</font>

355
00:22:10,180 --> 00:22:20,590
change you need<font color="#E5E5E5"> to set your primary</font>

356
00:22:13,120 --> 00:22:22,800
address and your secondary addresses if

357
00:22:20,590 --> 00:22:25,810
by some chance you get a different

358
00:22:22,800 --> 00:22:28,210
primary address from the dhcp server

359
00:22:25,810 --> 00:22:30,070
over the next few days you would have<font color="#E5E5E5"> to</font>

360
00:22:28,210 --> 00:22:32,290
go in and edit this file again and

361
00:22:30,070 --> 00:22:35,169
change<font color="#E5E5E5"> things and restart I see empty</font>

362
00:22:32,290 --> 00:22:36,610
because it'll get confused otherwise

363
00:22:35,170 --> 00:22:38,460
hopefully you're at your itís really

364
00:22:36,610 --> 00:22:43,360
shouldn't change but it<font color="#CCCCCC"> might if you</font>

365
00:22:38,460 --> 00:22:49,380
deleted the the state file or<font color="#CCCCCC"> something</font>

366
00:22:43,360 --> 00:22:51,729
like that here's a little startup script

367
00:22:49,380 --> 00:22:55,150
you can<font color="#E5E5E5"> also download this from</font><font color="#CCCCCC"> that</font>

368
00:22:51,730 --> 00:22:57,190
same directory and just change the

369
00:22:55,150 --> 00:23:00,010
variables to match your configuration

370
00:22:57,190 --> 00:23:03,520
the first thing it does is kills any

371
00:23:00,010 --> 00:23:05,110
previous incarnations of ice camp d and

372
00:23:03,520 --> 00:23:12,160
it flushes the security Association

373
00:23:05,110 --> 00:23:15,520
tables then we<font color="#E5E5E5"> add the alias two to the</font>

374
00:23:12,160 --> 00:23:17,770
<font color="#E5E5E5">interface again this one says</font><font color="#CCCCCC"> f XP 0 but</font>

375
00:23:15,520 --> 00:23:22,240
likely it's going to be different for

376
00:23:17,770 --> 00:23:24,790
you especially be using<font color="#E5E5E5"> wireless then</font>

377
00:23:22,240 --> 00:23:27,100
there's<font color="#CCCCCC"> three routing commands one to</font>

378
00:23:24,790 --> 00:23:31,180
add a host route one to delete the

379
00:23:27,100 --> 00:23:33,850
default route and the third to add a<font color="#E5E5E5"> new</font>

380
00:23:31,180 --> 00:23:37,180
default route pointing to<font color="#CCCCCC"> your secondary</font>

381
00:23:33,850 --> 00:23:42,040
IP address then you start the ice camp

382
00:23:37,180 --> 00:23:45,820
demon the dash for here says<font color="#E5E5E5"> only listen</font>

383
00:23:42,040 --> 00:23:47,200
on ipv4 address sockets that<font color="#CCCCCC"> just</font>

384
00:23:45,820 --> 00:23:50,070
prevents a little error message from

385
00:23:47,200 --> 00:23:50,070
showing up about ipv6

386
00:23:54,360 --> 00:23:58,870
so in theory after<font color="#E5E5E5"> you've gone through</font>

387
00:23:56,650 --> 00:24:01,150
those steps you should<font color="#CCCCCC"> be associated and</font>

388
00:23:58,870 --> 00:24:04,659
you should<font color="#CCCCCC"> be</font><font color="#E5E5E5"> able to see traffic going</font>

389
00:24:01,150 --> 00:24:06,400
out you can run TCP dump in one window

390
00:24:04,660 --> 00:24:10,330
and try<font color="#CCCCCC"> pinging something in another</font>

391
00:24:06,400 --> 00:24:11,410
window you should see<font color="#E5E5E5"> the kind of stuff</font>

392
00:24:10,330 --> 00:24:13,149
that's<font color="#E5E5E5"> shown here at the bottom where</font>

393
00:24:11,410 --> 00:24:17,530
these you see these ESP packets going

394
00:24:13,150 --> 00:24:19,900
back and forth you<font color="#CCCCCC"> can also run the set</font>

395
00:24:17,530 --> 00:24:22,840
key command to dump the security

396
00:24:19,900 --> 00:24:27,970
associations and you should see two

397
00:24:22,840 --> 00:24:33,000
entries there how's it going<font color="#CCCCCC"> freebsd</font>

398
00:24:27,970 --> 00:24:33,000
guys any luck no comment

399
00:24:38,570 --> 00:24:44,120
well hopefully it<font color="#CCCCCC"> feels like we're</font><font color="#E5E5E5"> gonna</font>

400
00:24:42,500 --> 00:24:45,889
<font color="#E5E5E5">have extra time so speak up if you want</font>

401
00:24:44,120 --> 00:24:56,928
some help or some questions or something

402
00:24:45,889 --> 00:25:04,129
about that no one it shouldn't it

403
00:24:56,929 --> 00:25:13,659
shouldn't affect did you can you run set

404
00:25:04,130 --> 00:25:13,659
ki minus capital<font color="#CCCCCC"> D I guess yeah</font>

405
00:25:18,260 --> 00:25:20,320
Oh

406
00:25:28,780 --> 00:25:34,480
does it show<font color="#E5E5E5"> anything it's got a couple</font>

407
00:25:32,120 --> 00:25:34,479
of injuries

408
00:25:43,080 --> 00:25:53,269
you should see<font color="#CCCCCC"> it should have</font><font color="#E5E5E5"> your</font>

409
00:25:50,970 --> 00:25:58,710
primary address in it I think if you run

410
00:25:53,269 --> 00:26:01,070
minus DP you should see your secondary

411
00:25:58,710 --> 00:26:01,070
address

412
00:26:22,419 --> 00:26:31,570
is anybody going to try<font color="#E5E5E5"> this on Linux</font>

413
00:26:24,460 --> 00:26:33,850
today<font color="#E5E5E5"> okay good oh I have instructions</font>

414
00:26:31,570 --> 00:26:36,689
in this slides for doing raccoon on bsd

415
00:26:33,850 --> 00:26:42,639
but<font color="#E5E5E5"> I'll I think I'll skip those for now</font>

416
00:26:36,690 --> 00:26:44,159
they're kind<font color="#CCCCCC"> of short anyway one thing</font>

417
00:26:42,639 --> 00:26:48,668
actually one thing<font color="#E5E5E5"> to note about raccoon</font>

418
00:26:44,159 --> 00:26:50,289
is that it doesn't initiate the security

419
00:26:48,669 --> 00:26:54,070
associations and tell you that<font color="#E5E5E5"> you have</font>

420
00:26:50,289 --> 00:26:55,869
traffic to send out so you wouldn't see

421
00:26:54,070 --> 00:27:00,840
<font color="#E5E5E5">anything in</font><font color="#CCCCCC"> that database until you ping</font>

422
00:26:55,869 --> 00:27:07,559
something or something<font color="#E5E5E5"> like that yeah</font>

423
00:27:00,840 --> 00:27:07,559
yeah yeah that should yeah

424
00:27:12,739 --> 00:27:18,559
<font color="#E5E5E5">okay these so when I did my little tests</font>

425
00:27:16,739 --> 00:27:21,509
and everything on linux i was using

426
00:27:18,559 --> 00:27:23,190
gentoo linux and I didn't<font color="#E5E5E5"> have to change</font>

427
00:27:21,509 --> 00:27:28,139
<font color="#E5E5E5">the colonel it was already configured</font>

428
00:27:23,190 --> 00:27:29,699
for ipsec<font color="#E5E5E5"> I don't I don't know if all</font>

429
00:27:28,139 --> 00:27:31,139
your others will be configured or not

430
00:27:29,699 --> 00:27:34,649
but I<font color="#E5E5E5"> think these</font><font color="#CCCCCC"> are the things that</font>

431
00:27:31,139 --> 00:27:40,228
should be enabled in the<font color="#E5E5E5"> kernel free</font>

432
00:27:34,649 --> 00:27:42,958
<font color="#CCCCCC">swan is the software that i'm using and</font>

433
00:27:40,229 --> 00:27:45,449
<font color="#E5E5E5">i realize later that it's I believe</font><font color="#CCCCCC"> free</font>

434
00:27:42,959 --> 00:27:47,489
<font color="#E5E5E5">Swan includes Colonel patches right so</font>

435
00:27:45,449 --> 00:27:48,599
you may have to after<font color="#E5E5E5"> you download that</font>

436
00:27:47,489 --> 00:27:50,459
you may<font color="#CCCCCC"> have</font><font color="#E5E5E5"> to apply the patches and</font>

437
00:27:48,599 --> 00:27:58,939
then build a new kernel I sort<font color="#CCCCCC"> of</font>

438
00:27:50,459 --> 00:28:02,309
skipped over that in the slides that

439
00:27:58,940 --> 00:28:06,690
that same local HTTP server has some

440
00:28:02,309 --> 00:28:10,109
templates for the Linux configuration in

441
00:28:06,690 --> 00:28:13,169
the linux free<font color="#E5E5E5"> salon directory there's a</font>

442
00:28:10,109 --> 00:28:19,139
file called ipsec<font color="#E5E5E5"> com which you need to</font>

443
00:28:13,169 --> 00:28:20,969
download and change change the X's YS

444
00:28:19,139 --> 00:28:23,779
and Z's<font color="#CCCCCC"> to match your primary and</font>

445
00:28:20,969 --> 00:28:23,779
secondary addresses

446
00:28:41,149 --> 00:28:51,609
the pre-shared key goes in its own file

447
00:28:45,669 --> 00:28:54,759
etsy ipsec ipsec not secrets and it has

448
00:28:51,609 --> 00:28:57,439
sort of<font color="#E5E5E5"> an interesting format here with</font>

449
00:28:54,759 --> 00:29:02,080
the two addresses than a colon in the

450
00:28:57,440 --> 00:29:02,080
word psk and the secret goes in quotes

451
00:29:06,849 --> 00:29:11,139
we've only had one success of our season

452
00:29:13,029 --> 00:29:36,080
no that's a good<font color="#CCCCCC"> idea one of the hardest</font>

453
00:29:34,399 --> 00:29:37,968
things was when I<font color="#E5E5E5"> spent a lot</font><font color="#CCCCCC"> of time</font>

454
00:29:36,080 --> 00:29:43,460
trying to<font color="#E5E5E5"> get windows to work with ice</font>

455
00:29:37,969 --> 00:29:44,989
camp d and it<font color="#E5E5E5"> it was really frustrating</font>

456
00:29:43,460 --> 00:29:46,099
because<font color="#CCCCCC"> windows didn't give you a lot of</font>

457
00:29:44,989 --> 00:29:48,289
you know debugging and that kind of

458
00:29:46,099 --> 00:29:51,499
stuff<font color="#E5E5E5"> and it turned out the problem was</font>

459
00:29:48,289 --> 00:29:53,679
that<font color="#E5E5E5"> Windows needs to use tunnel mo it</font>

460
00:29:51,499 --> 00:29:55,879
needs to use transport mode ipsec and

461
00:29:53,679 --> 00:29:59,269
<font color="#CCCCCC">basic empty doesn't really like</font>

462
00:29:55,879 --> 00:30:00,649
transport mode so once<font color="#CCCCCC"> I switch to</font><font color="#E5E5E5"> using</font>

463
00:29:59,269 --> 00:30:05,859
raccoon that was that became a lot

464
00:30:00,649 --> 00:30:09,379
<font color="#E5E5E5">easier after you get things running the</font>

465
00:30:05,859 --> 00:30:13,218
most common problem seems to be that you

466
00:30:09,379 --> 00:30:15,668
get sort<font color="#CCCCCC"> of a inconsistency in in the</font>

467
00:30:13,219 --> 00:30:20,690
keys between the two ends so for<font color="#E5E5E5"> example</font>

468
00:30:15,669 --> 00:30:23,029
if<font color="#CCCCCC"> you you know killed your demons on</font>

469
00:30:20,690 --> 00:30:25,190
your laptop and started it up again you

470
00:30:23,029 --> 00:30:28,249
would make another association with the

471
00:30:25,190 --> 00:30:30,109
other side and<font color="#E5E5E5"> then the ipsec server may</font>

472
00:30:28,249 --> 00:30:32,059
have two associations in its database

473
00:30:30,109 --> 00:30:34,599
and you only<font color="#CCCCCC"> have one and it may be</font>

474
00:30:32,059 --> 00:30:37,039
<font color="#E5E5E5">using the wrong one to send packets or</font>

475
00:30:34,599 --> 00:30:38,960
so one side would maybe<font color="#CCCCCC"> timeout the key</font>

476
00:30:37,039 --> 00:30:40,309
and<font color="#E5E5E5"> the other side would keep the key</font>

477
00:30:38,960 --> 00:30:43,190
around<font color="#E5E5E5"> and think</font><font color="#CCCCCC"> that is</font><font color="#E5E5E5"> still valid and</font>

478
00:30:40,309 --> 00:30:45,859
and those sorts of problems can only be

479
00:30:43,190 --> 00:30:48,519
fixed by like restarting you know one or

480
00:30:45,859 --> 00:30:48,519
both of the ends so

481
00:30:48,780 --> 00:30:57,370
yeah well it depends on where the

482
00:30:52,660 --> 00:31:01,960
problem is i guess<font color="#E5E5E5"> but but other than</font>

483
00:30:57,370 --> 00:31:11,560
that<font color="#CCCCCC"> i haven't</font><font color="#E5E5E5"> seen</font><font color="#CCCCCC"> any</font><font color="#E5E5E5"> real significant</font>

484
00:31:01,960 --> 00:31:15,070
problems yeah yeah that works pretty

485
00:31:11,560 --> 00:31:16,899
well actually aiesec empty<font color="#CCCCCC"> i know when</font>

486
00:31:15,070 --> 00:31:19,600
you when you shut down<font color="#E5E5E5"> the yes camp</font>

487
00:31:16,900 --> 00:31:21,700
demon it will send a message<font color="#CCCCCC"> to the</font>

488
00:31:19,600 --> 00:31:24,010
other side saying<font color="#CCCCCC"> i'm shutting down you</font>

489
00:31:21,700 --> 00:31:26,020
know please delete these associations so

490
00:31:24,010 --> 00:31:30,550
that when you start it up again there

491
00:31:26,020 --> 00:31:32,340
won't<font color="#E5E5E5"> be that other one there still then</font>

492
00:31:30,550 --> 00:31:34,629
<font color="#CCCCCC">I don't know I didn't I didn't try that</font>

493
00:31:32,340 --> 00:31:40,720
yeah if one of the sides just stops

494
00:31:34,630 --> 00:31:51,240
talking I don't know<font color="#E5E5E5"> okay linux oh you</font>

495
00:31:40,720 --> 00:31:51,240
got a question did<font color="#CCCCCC"> ya</font><font color="#E5E5E5"> okay</font>

496
00:31:52,070 --> 00:31:57,200
left a look at<font color="#E5E5E5"> that unfortunately</font><font color="#CCCCCC"> I</font>

497
00:31:56,000 --> 00:32:01,850
don't have a network connection here so

498
00:31:57,200 --> 00:32:04,550
I can't log in right now but no I would

499
00:32:01,850 --> 00:32:10,669
need<font color="#E5E5E5"> to log into that ipsec server over</font>

500
00:32:04,550 --> 00:32:15,830
there any other room do you have ssh

501
00:32:10,670 --> 00:32:24,740
client on your laptop oh<font color="#CCCCCC"> okay yep yeah</font>

502
00:32:15,830 --> 00:32:26,240
maybe I can<font color="#E5E5E5"> use it no but I think when I</font>

503
00:32:24,740 --> 00:32:29,560
google for those something meaningful

504
00:32:26,240 --> 00:32:29,560
came up so yeah

505
00:32:55,210 --> 00:33:16,340
okay okay right okay<font color="#CCCCCC"> so what what</font><font color="#E5E5E5"> Shawn</font>

506
00:33:13,910 --> 00:33:20,270
<font color="#E5E5E5">just reminded me was that I see camp d</font>

507
00:33:16,340 --> 00:33:23,240
is picky about<font color="#E5E5E5"> file file permissions and</font>

508
00:33:20,270 --> 00:33:25,190
it ignores your file if the permissions

509
00:33:23,240 --> 00:33:28,610
are too promiscuous and so you'll have

510
00:33:25,190 --> 00:33:32,480
<font color="#CCCCCC">to change</font><font color="#E5E5E5"> it to be like mode 600 before</font>

511
00:33:28,610 --> 00:33:35,110
<font color="#CCCCCC">it will obey but shawn says he's</font><font color="#E5E5E5"> got it</font>

512
00:33:32,480 --> 00:33:35,110
working<font color="#E5E5E5"> for freebsd</font>

513
00:34:29,650 --> 00:34:33,520
yeah you might you might be right it may

514
00:34:32,290 --> 00:34:35,409
be only working for one percent at a

515
00:34:33,520 --> 00:34:40,000
time so far<font color="#E5E5E5"> so we'll have to look at</font>

516
00:34:35,409 --> 00:34:44,620
<font color="#E5E5E5">that a little bit later I guess ok so</font>

517
00:34:40,000 --> 00:34:46,659
I'll resume the the Linux thing here by

518
00:34:44,620 --> 00:34:49,569
now you should<font color="#CCCCCC"> have this config file</font>

519
00:34:46,659 --> 00:34:55,810
downloaded and the<font color="#CCCCCC"> pre-shared secret</font>

520
00:34:49,570 --> 00:34:57,010
file set then here's a script which you

521
00:34:55,810 --> 00:34:59,890
can also download so<font color="#E5E5E5"> you don't have to</font>

522
00:34:57,010 --> 00:35:01,690
type<font color="#E5E5E5"> all this crap in after after you</font>

523
00:34:59,890 --> 00:35:06,420
download it you'll have<font color="#E5E5E5"> to change the</font>

524
00:35:01,690 --> 00:35:13,480
<font color="#CCCCCC">Z's to match your secondary IP address</font>

525
00:35:06,420 --> 00:35:22,690
this script adds an IP alias it adds

526
00:35:13,480 --> 00:35:25,870
some things to the<font color="#CCCCCC"> nat tables it also</font>

527
00:35:22,690 --> 00:35:28,990
adds a route then it starts the IPSec

528
00:35:25,870 --> 00:35:33,700
server<font color="#E5E5E5"> alright</font><font color="#CCCCCC"> pset client this script</font>

529
00:35:28,990 --> 00:35:36,069
has a variable which you can set if you

530
00:35:33,700 --> 00:35:40,480
want to attempt encryption<font color="#CCCCCC"> of the local</font>

531
00:35:36,070 --> 00:35:43,660
traffic as<font color="#CCCCCC"> well as the remote traffic so</font>

532
00:35:40,480 --> 00:35:45,400
the danger is that if you if you do that

533
00:35:43,660 --> 00:35:48,759
if<font color="#CCCCCC"> you say that</font><font color="#E5E5E5"> you want</font><font color="#CCCCCC"> to encrypt the</font>

534
00:35:45,400 --> 00:35:51,460
local traffic and then the IPSec stuff

535
00:35:48,760 --> 00:35:54,160
doesn't start up you won't probably be

536
00:35:51,460 --> 00:35:55,720
able<font color="#CCCCCC"> to talk to like the dns server the</font>

537
00:35:54,160 --> 00:35:59,319
local<font color="#CCCCCC"> dns server and those other things</font>

538
00:35:55,720 --> 00:36:01,419
until I be six starts working so what I

539
00:35:59,320 --> 00:36:03,520
recommend is first get it working with

540
00:36:01,420 --> 00:36:06,390
that variable set to know and then if

541
00:36:03,520 --> 00:36:13,570
you're brave enough set it to yes and

542
00:36:06,390 --> 00:36:14,710
give it<font color="#E5E5E5"> a try again after you've you</font>

543
00:36:13,570 --> 00:36:17,550
know done all that and run<font color="#E5E5E5"> the startup</font>

544
00:36:14,710 --> 00:36:21,130
script you can run TCP dump and ping and

545
00:36:17,550 --> 00:36:25,090
you can check syslog for errors you can

546
00:36:21,130 --> 00:36:28,360
run the command IPSec look and it should

547
00:36:25,090 --> 00:36:29,700
show you security associations and I

548
00:36:28,360 --> 00:36:32,940
think it<font color="#E5E5E5"> also shows you writing table</font>

549
00:36:29,700 --> 00:36:32,939
for good measure

550
00:36:39,759 --> 00:36:43,209
so<font color="#E5E5E5"> after you've gotten all this working</font>

551
00:36:41,439 --> 00:36:48,879
there's a couple things<font color="#E5E5E5"> to think about</font>

552
00:36:43,209 --> 00:36:49,569
one of them is<font color="#E5E5E5"> MTU sizes when you when</font>

553
00:36:48,880 --> 00:36:51,249
we're<font color="#CCCCCC"> doing all this encapsulation</font>

554
00:36:49,569 --> 00:36:53,709
especially for<font color="#E5E5E5"> Windows where you've got</font>

555
00:36:51,249 --> 00:36:55,839
you know IPSec and then PPP and then

556
00:36:53,709 --> 00:36:57,279
l2tp you're adding all these<font color="#E5E5E5"> layers onto</font>

557
00:36:55,839 --> 00:37:01,149
your packets they're<font color="#E5E5E5"> going to get bigger</font>

558
00:36:57,279 --> 00:37:04,479
than the ethernet MTU size so<font color="#CCCCCC"> you may</font>

559
00:37:01,149 --> 00:37:05,799
want to I windows may be smart about

560
00:37:04,479 --> 00:37:08,319
this<font color="#E5E5E5"> and do</font><font color="#CCCCCC"> it automatically for you i'm</font>

561
00:37:05,799 --> 00:37:10,059
<font color="#E5E5E5">not sure</font><font color="#CCCCCC"> and in the linux and beasties</font>

562
00:37:08,319 --> 00:37:12,449
may be smart too but you may have to

563
00:37:10,059 --> 00:37:14,799
also manually lower them to use so that

564
00:37:12,449 --> 00:37:16,899
the encrypted packets don't exceed the

565
00:37:14,799 --> 00:37:20,319
MTU size you can sort of test this by

566
00:37:16,899 --> 00:37:22,598
running TCP dump and doing a you know a

567
00:37:20,319 --> 00:37:24,579
large flow data transfer and if you see

568
00:37:22,599 --> 00:37:26,139
a lot of fragmented packets and if you

569
00:37:24,579 --> 00:37:27,399
care about that you may want to lower

570
00:37:26,139 --> 00:37:30,699
the empty you so that you don't have so

571
00:37:27,399 --> 00:37:32,499
many fragments going out there you'd

572
00:37:30,699 --> 00:37:39,519
probably<font color="#E5E5E5"> you know makes it a little more</font>

573
00:37:32,499 --> 00:37:41,109
efficient that way as I mentioned<font color="#CCCCCC"> a</font>

574
00:37:39,519 --> 00:37:50,049
little bit<font color="#CCCCCC"> earlier</font><font color="#E5E5E5"> key lifetimes can</font>

575
00:37:41,109 --> 00:37:59,339
sometimes be a problem<font color="#E5E5E5"> I guess in theory</font>

576
00:37:50,049 --> 00:38:01,389
I don't know I no guarantees by me<font color="#E5E5E5"> okay</font>

577
00:37:59,339 --> 00:38:10,419
that maybe some of<font color="#E5E5E5"> the problems i</font><font color="#CCCCCC"> was</font>

578
00:38:01,389 --> 00:38:12,789
saying then<font color="#E5E5E5"> okay each of these IPSec</font>

579
00:38:10,419 --> 00:38:14,769
clients probably has its own values for

580
00:38:12,789 --> 00:38:18,029
key lifetimes that it's you know willing

581
00:38:14,769 --> 00:38:20,348
to use anywhere from minutes to hours

582
00:38:18,029 --> 00:38:22,809
every time the key expires it has to

583
00:38:20,349 --> 00:38:28,149
renegotiate a new security<font color="#E5E5E5"> association</font>

584
00:38:22,809 --> 00:38:30,339
so short<font color="#E5E5E5"> keys short lifetimes may be</font>

585
00:38:28,149 --> 00:38:32,679
problematic because you know<font color="#E5E5E5"> I'm a</font>

586
00:38:30,339 --> 00:38:33,999
<font color="#CCCCCC">timeout</font><font color="#E5E5E5"> then it may not get anyone for a</font>

587
00:38:32,679 --> 00:38:35,529
few seconds or a minute or something

588
00:38:33,999 --> 00:38:40,029
like that and during that<font color="#CCCCCC"> time you</font><font color="#E5E5E5"> won't</font>

589
00:38:35,529 --> 00:38:41,709
<font color="#E5E5E5">be able to talk to anybody longer key</font>

590
00:38:40,029 --> 00:38:44,979
lifetimes are better because there's

591
00:38:41,709 --> 00:38:46,209
fewer renegotiations but it makes your

592
00:38:44,979 --> 00:38:51,308
packets a little bit more successful

593
00:38:46,209 --> 00:38:52,959
susceptible to being cracked or you know

594
00:38:51,309 --> 00:38:53,670
what<font color="#CCCCCC"> it</font><font color="#E5E5E5"> you know someone could do like a</font>

595
00:38:52,959 --> 00:38:57,440
brute force attack

596
00:38:53,670 --> 00:38:57,440
or something and decrypt your packets

597
00:38:57,680 --> 00:39:03,210
that's the<font color="#E5E5E5"> end of my slides so at this</font>

598
00:39:01,079 --> 00:39:04,470
point we should<font color="#E5E5E5"> probably look at</font>

599
00:39:03,210 --> 00:39:08,839
specific problems that people are having

600
00:39:04,470 --> 00:39:21,868
or error messages or anything like that

601
00:39:08,839 --> 00:39:26,210
you got one<font color="#E5E5E5"> right oh you have to go to</font>

602
00:39:21,869 --> 00:39:27,960
these services list and start it okay

603
00:39:26,210 --> 00:39:31,640
okay but<font color="#E5E5E5"> you're</font><font color="#CCCCCC"> having the same problem</font>

604
00:39:27,960 --> 00:39:31,640
is right

605
00:39:59,680 --> 00:40:05,700
that's 92 negotiation

606
00:40:11,790 --> 00:40:21,670
the server runs freebsd yeah the one

607
00:40:19,150 --> 00:40:23,680
that that<font color="#E5E5E5"> server runs both the raccoon</font>

608
00:40:21,670 --> 00:40:29,020
and nice camp demon on two different

609
00:40:23,680 --> 00:40:31,210
addresses<font color="#E5E5E5"> okay it my guess</font><font color="#CCCCCC"> is that</font>

610
00:40:29,020 --> 00:40:33,390
there's a problem<font color="#E5E5E5"> with the l2tp</font>

611
00:40:31,210 --> 00:40:37,150
configuration on my side such that it's

612
00:40:33,390 --> 00:40:38,890
only giving out one address at a time or

613
00:40:37,150 --> 00:40:44,650
something like that<font color="#E5E5E5"> so I'll need to look</font>

614
00:40:38,890 --> 00:40:46,660
at that more closely anybody else have

615
00:40:44,650 --> 00:40:51,880
any successes or failures to report at

616
00:40:46,660 --> 00:40:59,440
this point right that both of these guys

617
00:40:51,880 --> 00:41:02,500
<font color="#CCCCCC">are the XP users pardon me not windows</font>

618
00:40:59,440 --> 00:41:04,510
people i<font color="#CCCCCC"> don't think oh there's okay you</font>

619
00:41:02,500 --> 00:41:08,200
may be<font color="#CCCCCC"> the</font><font color="#E5E5E5"> only one though is there</font>

620
00:41:04,510 --> 00:41:18,180
another okay what can<font color="#E5E5E5"> you tell what</font>

621
00:41:08,200 --> 00:41:18,180
address you got a<font color="#E5E5E5"> let's see</font>

622
00:41:21,569 --> 00:41:29,020
so if you're<font color="#E5E5E5"> a Windows user and if you</font>

623
00:41:26,049 --> 00:41:32,710
get connected<font color="#E5E5E5"> I'd be curious when you go</font>

624
00:41:29,020 --> 00:41:35,470
to the properties or the status whatever

625
00:41:32,710 --> 00:41:38,079
it is of the connection see if you get

626
00:41:35,470 --> 00:41:40,118
anything besides 130 in that last octet

627
00:41:38,079 --> 00:41:41,440
if you if you get one thirty that means

628
00:41:40,119 --> 00:41:42,760
that it's only giving out that address

629
00:41:41,440 --> 00:41:47,529
and it's not giving<font color="#E5E5E5"> out any others that</font>

630
00:41:42,760 --> 00:41:49,119
I thought I<font color="#E5E5E5"> told it to give out so ok so</font>

631
00:41:47,529 --> 00:41:54,339
everyone's sharing that address you get

632
00:41:49,119 --> 00:41:58,839
it for a few seconds at a time yeah okay

633
00:41:54,339 --> 00:42:00,730
<font color="#E5E5E5">I don't I don't know if you have any</font>

634
00:41:58,839 --> 00:42:03,520
choice it sounds like somebody can take

635
00:42:00,730 --> 00:42:06,970
it away from you since there's one you

636
00:42:03,520 --> 00:42:08,650
know passphrase for everybody so so I'll

637
00:42:06,970 --> 00:42:13,058
need<font color="#E5E5E5"> to go back to the server and look</font>

638
00:42:08,650 --> 00:42:18,910
at<font color="#CCCCCC"> that closely any other questions at</font>

639
00:42:13,059 --> 00:42:20,319
this time yeah well I mean so obviously

640
00:42:18,910 --> 00:42:22,000
this is<font color="#CCCCCC"> the first time we're trying to</font>

641
00:42:20,319 --> 00:42:23,650
send<font color="#E5E5E5"> we're working out the bugs but but</font>

642
00:42:22,000 --> 00:42:24,940
the idea is that yeah it should be<font color="#E5E5E5"> up</font>

643
00:42:23,650 --> 00:42:26,710
and available<font color="#CCCCCC"> for the rest of the</font>

644
00:42:24,940 --> 00:42:29,339
meeting and maybe you know hopefully

645
00:42:26,710 --> 00:42:29,339
future meetings

646
00:42:44,510 --> 00:42:49,550
my guess<font color="#CCCCCC"> would be that if you're if</font>

647
00:42:46,550 --> 00:42:51,380
you're you<font color="#CCCCCC"> know if this is not your</font><font color="#E5E5E5"> way</font>

648
00:42:49,550 --> 00:42:53,870
then you're going to pay someone<font color="#E5E5E5"> for an</font>

649
00:42:51,380 --> 00:42:55,310
ipsec client and maybe you're<font color="#E5E5E5"> going to</font>

650
00:42:53,870 --> 00:42:57,380
have like an IT admin who's going to

651
00:42:55,310 --> 00:43:00,820
pre-configure things for you and then

652
00:42:57,380 --> 00:43:00,820
the user won't have to worry<font color="#E5E5E5"> about it</font>

653
00:43:01,480 --> 00:43:05,450
well<font color="#E5E5E5"> I gotta mean even I mean even with</font>

654
00:43:03,980 --> 00:43:08,690
<font color="#E5E5E5">this you could have it pre configured by</font>

655
00:43:05,450 --> 00:43:10,040
an IT admin and and you<font color="#CCCCCC"> know then all</font>

656
00:43:08,690 --> 00:43:13,220
the user has<font color="#E5E5E5"> to do is pop it up and say</font>

657
00:43:10,040 --> 00:43:17,450
connect so once it's you know what once

658
00:43:13,220 --> 00:43:18,560
it's set up it's set up but if<font color="#E5E5E5"> you</font><font color="#CCCCCC"> think</font>

659
00:43:17,450 --> 00:43:23,270
this is bad you should try it on windows

660
00:43:18,560 --> 00:43:25,070
2000 because you had because you have to

661
00:43:23,270 --> 00:43:27,170
do the ipsec part yourself you have<font color="#CCCCCC"> to</font>

662
00:43:25,070 --> 00:43:35,500
go to<font color="#E5E5E5"> all these screens it's like it's</font>

663
00:43:27,170 --> 00:43:37,880
like 30 or 40 screens well I think<font color="#CCCCCC"> so I</font>

664
00:43:35,500 --> 00:43:39,800
Sean's got it working on freebsd<font color="#CCCCCC"> I don't</font>

665
00:43:37,880 --> 00:43:41,600
think we've got any<font color="#CCCCCC"> mac successes yet no</font>

666
00:43:39,800 --> 00:43:43,840
I haven't heard<font color="#CCCCCC"> from the</font><font color="#E5E5E5"> Linux guys yet</font>

667
00:43:41,600 --> 00:43:43,839
either so

668
00:43:49,910 --> 00:44:03,180
really<font color="#CCCCCC"> okay yep I've seen</font><font color="#E5E5E5"> that with my</font>

669
00:44:00,060 --> 00:44:07,890
wireless card sometimes that that maybe

670
00:44:03,180 --> 00:44:09,868
maybe that but hopefully<font color="#E5E5E5"> somebody's not</font>

671
00:44:07,890 --> 00:44:34,589
crafting ipsec packets that are valid

672
00:44:09,869 --> 00:44:37,320
and reaching you I believe so yes<font color="#E5E5E5"> the</font>

673
00:44:34,589 --> 00:44:40,560
the the keys for encryption should be

674
00:44:37,320 --> 00:44:42,510
you know uniquely generated the the

675
00:44:40,560 --> 00:44:47,240
problem with the<font color="#CCCCCC"> pre-shared secret that</font>

676
00:44:42,510 --> 00:44:49,440
we're<font color="#E5E5E5"> using is that if you decide to use</font>

677
00:44:47,240 --> 00:44:53,520
<font color="#E5E5E5">the same secondary address that</font><font color="#CCCCCC"> I'm</font>

678
00:44:49,440 --> 00:44:55,770
<font color="#E5E5E5">using you can you know probably knock my</font>

679
00:44:53,520 --> 00:44:57,359
security<font color="#E5E5E5"> Association out and and take</font>

680
00:44:55,770 --> 00:44:59,640
<font color="#E5E5E5">over not that you'd be able to see my</font>

681
00:44:57,359 --> 00:45:03,440
packets but you can just disrupt the

682
00:44:59,640 --> 00:45:03,440
service for me yeah

683
00:45:10,780 --> 00:45:47,510
yeah okay<font color="#E5E5E5"> so it's right okay well all</font>

684
00:45:44,930 --> 00:45:50,509
these all these demons also have modes

685
00:45:47,510 --> 00:45:51,890
really use x.509 certificates so you

686
00:45:50,510 --> 00:45:53,510
know that maybe that's probably a better

687
00:45:51,890 --> 00:45:54,920
option it's just I didn't want<font color="#E5E5E5"> to go</font>

688
00:45:53,510 --> 00:45:57,410
through the trouble of doing that for

689
00:45:54,920 --> 00:46:00,770
<font color="#E5E5E5">everybody this time but you could get a</font>

690
00:45:57,410 --> 00:46:02,629
unique certificate from me and then I

691
00:46:00,770 --> 00:46:05,150
assume that that certificate can also

692
00:46:02,630 --> 00:46:06,260
have things in there like the address

693
00:46:05,150 --> 00:46:19,730
you're supposed to be using maybe I

694
00:46:06,260 --> 00:46:22,490
don't<font color="#CCCCCC"> know yeah I haven't read anything</font>

695
00:46:19,730 --> 00:46:24,760
like that but I guess doesn't mean it's

696
00:46:22,490 --> 00:46:24,759
not possible

697
00:46:27,650 --> 00:46:37,410
for<font color="#E5E5E5"> Windows yeah that's what</font><font color="#CCCCCC"> it was</font>

698
00:46:30,150 --> 00:46:52,430
supposed to do that's the router right

699
00:46:37,410 --> 00:46:52,430
<font color="#E5E5E5">okay okay yeah that's what I've seen too</font>

700
00:46:58,220 --> 00:47:07,859
yeah you could I assume that<font color="#E5E5E5"> you know</font>

701
00:47:04,640 --> 00:47:09,390
you didn't disconnect right you you did

702
00:47:07,860 --> 00:47:10,830
disconnect earlier<font color="#E5E5E5"> okay yeah I don't</font>

703
00:47:09,390 --> 00:47:12,720
<font color="#E5E5E5">know if you have to disconnect and then</font>

704
00:47:10,830 --> 00:47:19,470
it releases or someone can take it away

705
00:47:12,720 --> 00:47:22,950
from you okay yeah unfortunately there's

706
00:47:19,470 --> 00:47:25,649
there's no way to like manually assign

707
00:47:22,950 --> 00:47:27,029
those addresses like there's you know

708
00:47:25,650 --> 00:47:28,980
for the like these little cards that I

709
00:47:27,030 --> 00:47:33,560
give out so we'll<font color="#E5E5E5"> have to figure out</font>

710
00:47:28,980 --> 00:47:33,560
<font color="#E5E5E5">what the l2tp demon is not doing right</font>

711
00:47:36,140 --> 00:47:48,830
so I<font color="#CCCCCC"> think no go</font><font color="#E5E5E5"> ahead Oh a demon levels</font>

712
00:47:44,520 --> 00:47:48,830
<font color="#CCCCCC">it like a demon or client a</font><font color="#E5E5E5"> client okay</font>

713
00:47:50,600 --> 00:47:56,910
not at the moment it wouldn't but in the

714
00:47:53,100 --> 00:47:58,440
future yeah yeah<font color="#E5E5E5"> that would that would</font>

715
00:47:56,910 --> 00:48:03,000
solve one of<font color="#E5E5E5"> the problems of giving out</font>

716
00:47:58,440 --> 00:48:04,170
the addresses definitely it makes<font color="#E5E5E5"> you</font>

717
00:48:03,000 --> 00:48:05,250
it's a<font color="#E5E5E5"> little bit annoying because it</font>

718
00:48:04,170 --> 00:48:09,560
makes the<font color="#CCCCCC"> pack it's a lot bigger to you</font>

719
00:48:05,250 --> 00:48:09,560
<font color="#E5E5E5">have all these extra encapsulations but</font>

720
00:48:13,219 --> 00:48:22,469
yeah well the way it works on in the

721
00:48:19,799 --> 00:48:24,960
windows case is it sets up he<font color="#CCCCCC"> use</font><font color="#E5E5E5"> the</font>

722
00:48:22,469 --> 00:48:31,069
l2tp demon and then it sets up like a

723
00:48:24,960 --> 00:48:36,269
PPP tunnel and<font color="#E5E5E5"> Windows encrypts</font>

724
00:48:31,069 --> 00:48:40,440
everything that goes over that tunnel so

725
00:48:36,269 --> 00:48:43,439
I<font color="#E5E5E5"> do it it's really a ton I dress it's</font>

726
00:48:40,440 --> 00:48:45,359
not really an ipsec address because in

727
00:48:43,440 --> 00:48:48,839
this mode ipsec is being used in

728
00:48:45,359 --> 00:48:52,788
transport mode whereas for the<font color="#E5E5E5"> unix guys</font>

729
00:48:48,839 --> 00:48:52,788
it's being used in tunnel mode

730
00:48:59,120 --> 00:49:03,980
so I<font color="#CCCCCC"> think the next thing to do probably</font>

731
00:49:00,650 --> 00:49:05,420
<font color="#E5E5E5">is to go look at</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> server and see</font>

732
00:49:03,980 --> 00:49:07,490
what's wrong with it and<font color="#E5E5E5"> then if you</font>

733
00:49:05,420 --> 00:49:09,170
guys<font color="#E5E5E5"> have any you know questions feel</font>

734
00:49:07,490 --> 00:49:10,729
free to come by or stopped me in the

735
00:49:09,170 --> 00:49:13,820
hallway or whatever and look at specific

736
00:49:10,730 --> 00:49:24,290
problems I'll certainly be available for

737
00:49:13,820 --> 00:49:25,490
the rest of the<font color="#E5E5E5"> meeting I can yeah I</font>

738
00:49:24,290 --> 00:49:31,910
have to stand up again and talk about

739
00:49:25,490 --> 00:49:34,390
<font color="#E5E5E5">this so or do what</font><font color="#CCCCCC"> Shawn suggested</font><font color="#E5E5E5"> and</font>

740
00:49:31,910 --> 00:49:36,440
hack the system and steal someone's

741
00:49:34,390 --> 00:49:42,910
security associations and embarrass me

742
00:49:36,440 --> 00:49:42,910
okay whatever

