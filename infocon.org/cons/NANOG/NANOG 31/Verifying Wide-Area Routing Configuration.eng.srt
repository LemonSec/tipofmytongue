1
00:00:01,970 --> 00:00:08,990
Thanks<font color="#E5E5E5"> ok I'm back I'm here to talk</font>

2
00:00:06,359 --> 00:00:12,269
<font color="#E5E5E5">about a tool that I've built called RCC</font>

3
00:00:08,990 --> 00:00:14,820
which checks bgp configuration on

4
00:00:12,269 --> 00:00:17,520
routers within a single AF tries to find

5
00:00:14,820 --> 00:00:20,430
errors I came<font color="#E5E5E5"> to</font><font color="#CCCCCC"> nine hours ago and</font>

6
00:00:17,520 --> 00:00:22,080
described sort of<font color="#E5E5E5"> a describe the tool in</font>

7
00:00:20,430 --> 00:00:24,930
kind of box diagram form and today I'm

8
00:00:22,080 --> 00:00:26,880
<font color="#CCCCCC">going to give you a demo and also some</font>

9
00:00:24,930 --> 00:00:29,179
some reports of some things<font color="#E5E5E5"> we found and</font>

10
00:00:26,880 --> 00:00:31,380
hopefully you'll find it<font color="#E5E5E5"> interesting</font>

11
00:00:29,179 --> 00:00:33,690
great so I could almost skip this slide

12
00:00:31,380 --> 00:00:35,070
because we've had a lot of a lot of

13
00:00:33,690 --> 00:00:38,610
complaints about bgp this morning

14
00:00:35,070 --> 00:00:40,710
already ritual came here a<font color="#CCCCCC"> few years ago</font>

15
00:00:38,610 --> 00:00:43,980
and<font color="#E5E5E5"> and talked about bgp</font>

16
00:00:40,710 --> 00:00:46,110
misconfigurations and lots of other

17
00:00:43,980 --> 00:00:49,410
researchers have noticed too you know

18
00:00:46,110 --> 00:00:51,510
many many<font color="#CCCCCC"> and varied problems and one</font>

19
00:00:49,410 --> 00:00:54,599
thing to take away from from the sort<font color="#E5E5E5"> of</font>

20
00:00:51,510 --> 00:00:57,539
laundry list of complaints is that be

21
00:00:54,600 --> 00:00:59,489
<font color="#CCCCCC">gps behavior is largely determined by</font>

22
00:00:57,539 --> 00:01:01,410
how its configured so if we want<font color="#CCCCCC"> it to</font>

23
00:00:59,489 --> 00:01:04,349
be doing the right thing we need some

24
00:01:01,410 --> 00:01:05,729
way of checking we know<font color="#E5E5E5"> are the routers</font>

25
00:01:04,349 --> 00:01:07,949
configured correctly when we turn things

26
00:01:05,729 --> 00:01:10,350
on as the behavior going to be the way

27
00:01:07,950 --> 00:01:13,909
we want it<font color="#CCCCCC"> to be now i notice that was</font>

28
00:01:10,350 --> 00:01:16,380
put in a session it<font color="#E5E5E5"> was just myself a</font>

29
00:01:13,909 --> 00:01:18,689
grad student in computer science and

30
00:01:16,380 --> 00:01:20,039
Andrew who's also a grad student so even

31
00:01:18,689 --> 00:01:22,048
though we're researchers you're probably

32
00:01:20,040 --> 00:01:24,170
thinking you know<font color="#E5E5E5"> this stuff doesn't</font>

33
00:01:22,049 --> 00:01:29,220
<font color="#CCCCCC">really happen in the real world right</font>

34
00:01:24,170 --> 00:01:30,810
well you know news reports and various

35
00:01:29,220 --> 00:01:32,340
<font color="#CCCCCC">things would suggest</font><font color="#E5E5E5"> that these things</font>

36
00:01:30,810 --> 00:01:34,860
do happen and depending on who you ask

37
00:01:32,340 --> 00:01:37,079
these types of outages you know if you

38
00:01:34,860 --> 00:01:39,720
ask an ISP they blame the vendor if you

39
00:01:37,079 --> 00:01:41,908
ask the vendor they they blame the ISP

40
00:01:39,720 --> 00:01:44,729
right so what's what's really going on

41
00:01:41,909 --> 00:01:47,640
well let's what I did<font color="#E5E5E5"> is like I looked</font>

42
00:01:44,729 --> 00:01:49,619
at the nano gmail archive just to sort

43
00:01:47,640 --> 00:01:52,340
of figure out<font color="#E5E5E5"> what types of problems</font>

44
00:01:49,619 --> 00:01:57,689
<font color="#E5E5E5">people actually are reporting as far as</font>

45
00:01:52,340 --> 00:01:59,700
hello<font color="#E5E5E5"> okay thanks what types of problems</font>

46
00:01:57,689 --> 00:02:01,529
<font color="#E5E5E5">people actually are reporting in terms</font>

47
00:01:59,700 --> 00:02:05,009
of things that<font color="#E5E5E5"> look like configuration</font>

48
00:02:01,530 --> 00:02:08,038
errors etc and what what<font color="#E5E5E5"> i did so i was</font>

49
00:02:05,009 --> 00:02:09,360
<font color="#E5E5E5">able to spend about a day reading the</font>

50
00:02:08,038 --> 00:02:11,008
<font color="#CCCCCC">nano email archives and actually</font>

51
00:02:09,360 --> 00:02:12,530
convinced myself that that I was doing

52
00:02:11,008 --> 00:02:20,079
useful work

53
00:02:12,530 --> 00:02:22,580
I don't know anyway so what<font color="#CCCCCC"> I did was a</font>

54
00:02:20,080 --> 00:02:24,680
clustered these emails by according<font color="#E5E5E5"> to</font>

55
00:02:22,580 --> 00:02:25,730
thread and then<font color="#E5E5E5"> I what I did is I sort</font>

56
00:02:24,680 --> 00:02:27,440
of looked at what these emails were

57
00:02:25,730 --> 00:02:28,459
talking about were the things where

58
00:02:27,440 --> 00:02:30,620
people were complaining about a

59
00:02:28,459 --> 00:02:32,120
particular type of problem and the

60
00:02:30,620 --> 00:02:34,340
numbers the numbers that I've listed

61
00:02:32,120 --> 00:02:35,870
that are not in parentheses are things

62
00:02:34,340 --> 00:02:38,030
where people have actually complained so

63
00:02:35,870 --> 00:02:40,190
filtering was you know if someone is

64
00:02:38,030 --> 00:02:41,720
filtering<font color="#CCCCCC"> sentra to prefix or someone</font>

65
00:02:40,190 --> 00:02:45,140
should<font color="#CCCCCC"> be filtering such-and-such</font><font color="#E5E5E5"> prefix</font>

66
00:02:41,720 --> 00:02:46,850
and they aren't things like someone

67
00:02:45,140 --> 00:02:49,880
<font color="#E5E5E5">seems to be leaking this route you</font><font color="#CCCCCC"> know</font>

68
00:02:46,850 --> 00:02:51,980
what's going<font color="#E5E5E5"> on someone's stealing my</font>

69
00:02:49,880 --> 00:02:53,780
route<font color="#E5E5E5"> global route visibility things</font>

70
00:02:51,980 --> 00:02:56,450
like hey<font color="#E5E5E5"> I'm announcing this prefix but</font>

71
00:02:53,780 --> 00:02:57,709
I can't see it<font color="#CCCCCC"> at all my at all the</font>

72
00:02:56,450 --> 00:03:00,290
<font color="#E5E5E5">places that I should be able to see it</font>

73
00:02:57,709 --> 00:03:02,930
like whoever is filtering this please

74
00:03:00,290 --> 00:03:04,609
stop that type of thing and then<font color="#E5E5E5"> there</font>

75
00:03:02,930 --> 00:03:07,910
<font color="#E5E5E5">are various other things that I noticed</font>

76
00:03:04,610 --> 00:03:10,340
people complaining about things like you

77
00:03:07,910 --> 00:03:13,430
<font color="#E5E5E5">know people sending trace routes you</font>

78
00:03:10,340 --> 00:03:15,019
know with routing loops or you know

79
00:03:13,430 --> 00:03:18,079
things<font color="#CCCCCC"> that just</font><font color="#E5E5E5"> dive in a black hole</font>

80
00:03:15,019 --> 00:03:20,239
and this isn't really you know

81
00:03:18,079 --> 00:03:23,180
scientific study but I just want<font color="#E5E5E5"> to sort</font>

82
00:03:20,239 --> 00:03:25,910
of illustrate a couple of things what is

83
00:03:23,180 --> 00:03:28,519
it there's certain things that seem to

84
00:03:25,910 --> 00:03:31,250
be fairly chronic you know these

85
00:03:28,519 --> 00:03:34,040
filtering problems for one<font color="#E5E5E5"> seem two</font>

86
00:03:31,250 --> 00:03:35,900
teams seem<font color="#CCCCCC"> to come</font><font color="#E5E5E5"> up a lot and another</font>

87
00:03:34,040 --> 00:03:37,459
<font color="#CCCCCC">thing that I kind of noticed was you</font>

88
00:03:35,900 --> 00:03:39,500
know<font color="#E5E5E5"> there are emails that i was looking</font>

89
00:03:37,459 --> 00:03:43,160
at like this<font color="#E5E5E5"> year they're talking</font><font color="#CCCCCC"> about</font>

90
00:03:39,500 --> 00:03:44,900
you know filtering problems and<font color="#CCCCCC"> you</font>

91
00:03:43,160 --> 00:03:46,670
could change<font color="#E5E5E5"> the date to like 1994 and</font>

92
00:03:44,900 --> 00:03:47,959
it was it<font color="#CCCCCC"> was pretty</font><font color="#E5E5E5"> much</font><font color="#CCCCCC"> the same email</font>

93
00:03:46,670 --> 00:03:49,429
like these problems are the saying the

94
00:03:47,959 --> 00:03:52,880
same things that that people have been

95
00:03:49,430 --> 00:03:54,680
addressing for for a long<font color="#E5E5E5"> time all right</font>

96
00:03:52,880 --> 00:03:59,600
let's let's try to make some<font color="#E5E5E5"> progress</font>

97
00:03:54,680 --> 00:04:02,180
here okay so you<font color="#CCCCCC"> know besides just</font>

98
00:03:59,600 --> 00:04:03,709
looking at email we can also just sort

99
00:04:02,180 --> 00:04:07,160
of look at some empirical evidence and

100
00:04:03,709 --> 00:04:09,680
see what types of routes are<font color="#E5E5E5"> you know</font>

101
00:04:07,160 --> 00:04:13,730
getting leaked in various places so so

102
00:04:09,680 --> 00:04:15,290
what I did was I I've got<font color="#E5E5E5"> to these ibgp</font>

103
00:04:13,730 --> 00:04:18,589
monitors that are sitting<font color="#E5E5E5"> in eight</font>

104
00:04:15,290 --> 00:04:20,418
different a esas that are spread spread

105
00:04:18,589 --> 00:04:22,219
out in<font color="#CCCCCC"> various locations on the internet</font>

106
00:04:20,418 --> 00:04:23,359
and what I did is I looked at the BGP

107
00:04:22,220 --> 00:04:25,820
updates that we're<font color="#E5E5E5"> hearing at these</font>

108
00:04:23,360 --> 00:04:26,350
these monitors over the<font color="#E5E5E5"> course of 11</font>

109
00:04:25,820 --> 00:04:29,290
<font color="#CCCCCC">months</font>

110
00:04:26,350 --> 00:04:32,380
basically from you know you know today

111
00:04:29,290 --> 00:04:34,090
back until last<font color="#E5E5E5"> July when</font><font color="#CCCCCC"> I'm showing on</font>

112
00:04:32,380 --> 00:04:35,830
this graph let's<font color="#E5E5E5"> first look at the red</font>

113
00:04:34,090 --> 00:04:38,469
line it's basically just a time series

114
00:04:35,830 --> 00:04:41,409
plot of how<font color="#CCCCCC"> many bogan route</font>

115
00:04:38,470 --> 00:04:44,500
advertisements do we see at any<font color="#E5E5E5"> one of</font>

116
00:04:41,410 --> 00:04:47,620
these vantage points in a particular

117
00:04:44,500 --> 00:04:49,570
week and by<font color="#E5E5E5"> bogan here i'm</font><font color="#CCCCCC"> using the the</font>

118
00:04:47,620 --> 00:04:51,820
team camera definition of bogan so this

119
00:04:49,570 --> 00:04:54,849
is both private address space and

120
00:04:51,820 --> 00:04:57,849
unallocated but about half to two-thirds

121
00:04:54,850 --> 00:05:00,640
of these announcements are actually in

122
00:04:57,850 --> 00:05:02,140
the private space so this would indicate

123
00:05:00,640 --> 00:05:03,820
that people aren't even really doing the

124
00:05:02,140 --> 00:05:07,030
easy things as far as filtering

125
00:05:03,820 --> 00:05:09,159
filtering bogans I've listed<font color="#CCCCCC"> a URL</font><font color="#E5E5E5"> here</font>

126
00:05:07,030 --> 00:05:10,869
I'm actually actively collecting these

127
00:05:09,160 --> 00:05:12,820
types of things<font color="#E5E5E5"> and I'm looking for more</font>

128
00:05:10,870 --> 00:05:18,550
more vantage points if you want to give

129
00:05:12,820 --> 00:05:19,740
<font color="#E5E5E5">me one hint so even though I probably</font>

130
00:05:18,550 --> 00:05:22,030
didn't<font color="#E5E5E5"> need to convince you of this</font>

131
00:05:19,740 --> 00:05:23,440
hopefully I have you know convince you

132
00:05:22,030 --> 00:05:26,200
that we've got some<font color="#CCCCCC"> problems on our</font>

133
00:05:23,440 --> 00:05:28,450
<font color="#CCCCCC">hands and it's it seems like there's</font>

134
00:05:26,200 --> 00:05:30,190
sort of two logical ways that you could

135
00:05:28,450 --> 00:05:31,750
that you could go forward<font color="#E5E5E5"> or to two</font>

136
00:05:30,190 --> 00:05:33,880
possible suggestions right one is that

137
00:05:31,750 --> 00:05:35,830
<font color="#E5E5E5">obviously we've got a buggy protocol it</font>

138
00:05:33,880 --> 00:05:39,010
doesn't do things<font color="#E5E5E5"> like allow negotiation</font>

139
00:05:35,830 --> 00:05:41,380
we can get wedgies let's let's just toss

140
00:05:39,010 --> 00:05:42,849
it out and<font color="#CCCCCC"> replace it</font><font color="#E5E5E5"> or you know let's</font>

141
00:05:41,380 --> 00:05:45,340
let's add some<font color="#E5E5E5"> things and hope that</font>

142
00:05:42,850 --> 00:05:47,320
these problems go away well what types

143
00:05:45,340 --> 00:05:48,760
of<font color="#CCCCCC"> things do we need</font><font color="#E5E5E5"> to fix and you know</font>

144
00:05:47,320 --> 00:05:50,830
if we start out<font color="#E5E5E5"> with some new protocol</font>

145
00:05:48,760 --> 00:05:52,630
it's going<font color="#E5E5E5"> to have to support</font><font color="#CCCCCC"> a lot of</font>

146
00:05:50,830 --> 00:05:54,940
the same things that that our current

147
00:05:52,630 --> 00:05:57,130
version of BGP has to support so how can

148
00:05:54,940 --> 00:05:58,390
we<font color="#E5E5E5"> ensure that this new protocol is</font>

149
00:05:57,130 --> 00:06:00,250
going to be any less error-prone are

150
00:05:58,390 --> 00:06:01,990
these problems with with<font color="#E5E5E5"> filtering with</font>

151
00:06:00,250 --> 00:06:04,570
you know black holes it said are they

152
00:06:01,990 --> 00:06:05,770
going to go<font color="#E5E5E5"> away we need to answer these</font>

153
00:06:04,570 --> 00:06:08,230
questions if we're going<font color="#E5E5E5"> to try to</font>

154
00:06:05,770 --> 00:06:09,159
propose a new protocol the second<font color="#E5E5E5"> thing</font>

155
00:06:08,230 --> 00:06:13,330
we can complain about is the

156
00:06:09,160 --> 00:06:16,330
configuration languages you say you know

157
00:06:13,330 --> 00:06:18,609
oh these you know Cisco or<font color="#E5E5E5"> juniper or</font>

158
00:06:16,330 --> 00:06:20,169
whatever configuration languages is too

159
00:06:18,610 --> 00:06:23,740
low level we should you know redesign it

160
00:06:20,170 --> 00:06:25,330
so that it's you know reflects what we

161
00:06:23,740 --> 00:06:27,040
want to accomplish at a higher level and

162
00:06:25,330 --> 00:06:28,300
again it's<font color="#E5E5E5"> sort of hard to figure out</font>

163
00:06:27,040 --> 00:06:29,710
<font color="#E5E5E5">you</font><font color="#CCCCCC"> know if we want</font><font color="#E5E5E5"> to fix the</font>

164
00:06:28,300 --> 00:06:31,150
configuration language what parts<font color="#E5E5E5"> of the</font>

165
00:06:29,710 --> 00:06:33,340
language are people actually messing up

166
00:06:31,150 --> 00:06:35,169
what types of<font color="#CCCCCC"> things would we want</font><font color="#E5E5E5"> to</font>

167
00:06:33,340 --> 00:06:36,640
make go away and in order to do that we

168
00:06:35,169 --> 00:06:37,990
really need to<font color="#E5E5E5"> study like what types of</font>

169
00:06:36,640 --> 00:06:39,760
<font color="#CCCCCC">things that</font><font color="#E5E5E5"> people are getting wrong in</font>

170
00:06:37,990 --> 00:06:41,380
their configuration today

171
00:06:39,760 --> 00:06:45,730
before we can propose any types of

172
00:06:41,380 --> 00:06:48,760
reasonable fixes so here's<font color="#CCCCCC"> my proposal</font>

173
00:06:45,730 --> 00:06:51,220
to you what I'm giving<font color="#E5E5E5"> you is a tool</font>

174
00:06:48,760 --> 00:06:53,409
that uses static analysis<font color="#CCCCCC"> by that I just</font>

175
00:06:51,220 --> 00:06:55,930
mean it's it's grokking the the static

176
00:06:53,410 --> 00:06:57,790
configs and pulling configurations off

177
00:06:55,930 --> 00:07:01,840
routers and then<font color="#E5E5E5"> doing offline analysis</font>

178
00:06:57,790 --> 00:07:03,960
of<font color="#CCCCCC"> the actual text of the configurations</font>

179
00:07:01,840 --> 00:07:06,880
and trying to find configure

180
00:07:03,960 --> 00:07:09,870
configuration errors<font color="#E5E5E5"> okay so I'm hoping</font>

181
00:07:06,880 --> 00:07:12,370
that tool like this can<font color="#CCCCCC"> actually help</font>

182
00:07:09,870 --> 00:07:14,470
networks be less error-prone<font color="#E5E5E5"> I'm</font>

183
00:07:12,370 --> 00:07:17,740
<font color="#E5E5E5">allowing operators to find certain types</font>

184
00:07:14,470 --> 00:07:19,540
of configuration problems common bugs

185
00:07:17,740 --> 00:07:21,300
etc before actually deploying the

186
00:07:19,540 --> 00:07:25,210
configuration on the routers themselves

187
00:07:21,300 --> 00:07:27,790
um the other<font color="#E5E5E5"> thing you know just you</font>

188
00:07:25,210 --> 00:07:30,159
know<font color="#CCCCCC"> not entirely altruistic right I'm</font>

189
00:07:27,790 --> 00:07:31,840
<font color="#E5E5E5">hoping that you know with your help</font>

190
00:07:30,160 --> 00:07:33,730
people like me can figure out you know

191
00:07:31,840 --> 00:07:35,710
what types of problems are actually

192
00:07:33,730 --> 00:07:38,110
happening in real<font color="#CCCCCC"> network so if we were</font>

193
00:07:35,710 --> 00:07:39,909
to propose you know you know protocol

194
00:07:38,110 --> 00:07:41,290
changes changes to the configuration

195
00:07:39,910 --> 00:07:42,730
language what types of<font color="#CCCCCC"> things make sense</font>

196
00:07:41,290 --> 00:07:45,400
so that we can make these problems go

197
00:07:42,730 --> 00:07:48,340
away so here's a URL<font color="#E5E5E5"> I'm going to show</font>

198
00:07:45,400 --> 00:07:51,039
<font color="#E5E5E5">you a few times but this is your first</font>

199
00:07:48,340 --> 00:07:55,060
chance to<font color="#E5E5E5"> go check out some information</font>

200
00:07:51,040 --> 00:07:56,590
on the on the tool so let<font color="#E5E5E5"> me just sort</font>

201
00:07:55,060 --> 00:08:00,070
of describe to you at a very high level

202
00:07:56,590 --> 00:08:02,440
how the Tool Works so first thing that

203
00:08:00,070 --> 00:08:05,290
happens is uh the router configurations

204
00:08:02,440 --> 00:08:07,180
are sucked down off the routers and then

205
00:08:05,290 --> 00:08:09,970
there's a pre processing module

206
00:08:07,180 --> 00:08:11,830
basically all this does is you know

207
00:08:09,970 --> 00:08:12,790
expands things like peer groups and

208
00:08:11,830 --> 00:08:14,950
things like that just<font color="#CCCCCC"> to</font><font color="#E5E5E5"> make the</font>

209
00:08:12,790 --> 00:08:17,230
configuration a little easier<font color="#CCCCCC"> to parse</font>

210
00:08:14,950 --> 00:08:19,990
<font color="#CCCCCC">I'm not going</font><font color="#E5E5E5"> to show you</font><font color="#CCCCCC"> that is in the</font>

211
00:08:17,230 --> 00:08:22,150
demo that I'm about to show you this so

212
00:08:19,990 --> 00:08:23,920
once this once that<font color="#E5E5E5"> pre-processing</font>

213
00:08:22,150 --> 00:08:25,780
happens basically going to<font color="#E5E5E5"> take a sort</font>

214
00:08:23,920 --> 00:08:27,940
of a clean version of the<font color="#CCCCCC"> Cisco or</font><font color="#E5E5E5"> the</font>

215
00:08:25,780 --> 00:08:29,859
<font color="#CCCCCC">Juniper or what have you and parse it</font>

216
00:08:27,940 --> 00:08:32,140
into an intermediate configuration in

217
00:08:29,860 --> 00:08:34,030
intermediate format and what that's

218
00:08:32,140 --> 00:08:35,500
going<font color="#E5E5E5"> to be is basically mysql database</font>

219
00:08:34,030 --> 00:08:37,449
table so it's going<font color="#E5E5E5"> to be a nice like</font>

220
00:08:35,500 --> 00:08:38,890
abstract graphic representation of here

221
00:08:37,450 --> 00:08:40,570
<font color="#CCCCCC">are my sessions here are my route maps</font>

222
00:08:38,890 --> 00:08:42,549
you know here's what my network looks

223
00:08:40,570 --> 00:08:44,860
like if you will and<font color="#CCCCCC"> then what I can do</font>

224
00:08:42,549 --> 00:08:46,449
<font color="#E5E5E5">is you know run a verifier on that and</font>

225
00:08:44,860 --> 00:08:48,400
say you know here now I've got this nice

226
00:08:46,450 --> 00:08:49,810
abstract representation<font color="#E5E5E5"> of what my</font>

227
00:08:48,400 --> 00:08:51,420
network<font color="#E5E5E5"> looks like i can start asking</font>

228
00:08:49,810 --> 00:08:53,760
questions like you know

229
00:08:51,420 --> 00:08:54,899
do I have this right and I'll talk<font color="#E5E5E5"> I'll</font>

230
00:08:53,760 --> 00:08:58,380
<font color="#E5E5E5">spend the second half of the talk</font>

231
00:08:54,899 --> 00:09:00,930
talking about what I mean by that ok so

232
00:08:58,380 --> 00:09:04,290
it's show time but first since we're<font color="#CCCCCC"> in</font>

233
00:09:00,930 --> 00:09:06,420
the land of Arnold I I thought I'd use

234
00:09:04,290 --> 00:09:09,540
<font color="#CCCCCC">it you know Hollywood s-type disclaimer</font>

235
00:09:06,420 --> 00:09:13,529
to say that uh yeah this<font color="#CCCCCC"> is entirely</font>

236
00:09:09,540 --> 00:09:17,160
fictional I've<font color="#E5E5E5"> used my imagination here</font>

237
00:09:13,529 --> 00:09:21,439
and and I don't mean<font color="#CCCCCC"> to be you know</font>

238
00:09:17,160 --> 00:09:24,870
referring to any a esas alive or dead

239
00:09:21,440 --> 00:09:27,120
<font color="#CCCCCC">okay so basically so i'm going</font><font color="#E5E5E5"> to show</font>

240
00:09:24,870 --> 00:09:29,100
you the second two boxes the first thing

241
00:09:27,120 --> 00:09:30,750
<font color="#CCCCCC">i'm going to do is relatively unexcited</font>

242
00:09:29,100 --> 00:09:32,730
<font color="#CCCCCC">i just want to show you that it's very</font>

243
00:09:30,750 --> 00:09:37,589
<font color="#E5E5E5">easy you</font><font color="#CCCCCC"> can</font><font color="#E5E5E5"> do it on your own network</font>

244
00:09:32,730 --> 00:09:38,970
and you should basically and<font color="#E5E5E5"> just run</font>

245
00:09:37,589 --> 00:09:40,949
something that parses through<font color="#CCCCCC"> I</font>

246
00:09:38,970 --> 00:09:43,079
basically<font color="#E5E5E5"> got three routers here I just</font>

247
00:09:40,949 --> 00:09:45,979
ran that script it parses through the

248
00:09:43,079 --> 00:09:48,180
cisco configs of of those three routers

249
00:09:45,980 --> 00:09:49,889
it will spit out things immediately

250
00:09:48,180 --> 00:09:53,040
things that it can't parse like if I've

251
00:09:49,889 --> 00:09:54,510
got<font color="#E5E5E5"> a you know a BGP session that</font>

252
00:09:53,040 --> 00:09:56,189
defines a route map but I don't have<font color="#E5E5E5"> the</font>

253
00:09:54,510 --> 00:09:57,630
route map to find then it will complain

254
00:09:56,190 --> 00:09:59,459
about that immediately but but we'll see

255
00:09:57,630 --> 00:10:01,680
we'll see more of that later but

256
00:09:59,459 --> 00:10:02,969
basically what i have now is at the

257
00:10:01,680 --> 00:10:04,140
completion of running the script I've

258
00:10:02,970 --> 00:10:07,290
got a nice like intermediate

259
00:10:04,140 --> 00:10:09,480
representation of my<font color="#E5E5E5"> config so let me</font>

260
00:10:07,290 --> 00:10:11,910
just kind<font color="#CCCCCC"> of show you what that looks</font>

261
00:10:09,480 --> 00:10:13,529
like i'm not<font color="#E5E5E5"> going to show</font><font color="#CCCCCC"> you the</font>

262
00:10:11,910 --> 00:10:15,959
entire schema but<font color="#E5E5E5"> i just want to give</font>

263
00:10:13,529 --> 00:10:17,189
<font color="#CCCCCC">you kind of like a</font><font color="#E5E5E5"> flavor of what this</font>

264
00:10:15,959 --> 00:10:20,729
looks like once we've got<font color="#CCCCCC"> it in an</font>

265
00:10:17,190 --> 00:10:22,140
intermediate format I'm so basically I'm

266
00:10:20,730 --> 00:10:23,760
just showing you one table here which is

267
00:10:22,140 --> 00:10:25,470
the sessions table and that that shows

268
00:10:23,760 --> 00:10:27,269
of course like the router name which

269
00:10:25,470 --> 00:10:28,890
means you know this is<font color="#CCCCCC"> the</font><font color="#E5E5E5"> config I</font><font color="#CCCCCC"> grab</font>

270
00:10:27,269 --> 00:10:30,810
this this statement<font color="#CCCCCC"> or this is</font><font color="#E5E5E5"> the</font>

271
00:10:28,890 --> 00:10:32,339
router I grab this config statement from

272
00:10:30,810 --> 00:10:34,670
here's the neighbor that it's going<font color="#E5E5E5"> to</font>

273
00:10:32,339 --> 00:10:36,600
<font color="#E5E5E5">is it a route reflector client session</font>

274
00:10:34,670 --> 00:10:38,939
you'll notice that columns here is

275
00:10:36,600 --> 00:10:41,069
fairly uninteresting but I'll allah i'll

276
00:10:38,940 --> 00:10:45,180
tell you why that's important later you

277
00:10:41,069 --> 00:10:46,709
know which is it's going<font color="#E5E5E5"> to and then the</font>

278
00:10:45,180 --> 00:10:48,689
one thing<font color="#CCCCCC"> i wanted</font><font color="#E5E5E5"> to highlight here is</font>

279
00:10:46,709 --> 00:10:50,099
that you know I've got<font color="#E5E5E5"> import route maps</font>

280
00:10:48,690 --> 00:10:52,440
and export route maps in and you'll

281
00:10:50,100 --> 00:10:53,940
notice<font color="#E5E5E5"> that it's a little bit non non</font>

282
00:10:52,440 --> 00:10:55,829
sensible right you'd kind<font color="#E5E5E5"> of expect to</font>

283
00:10:53,940 --> 00:10:57,360
see something<font color="#CCCCCC"> like privates or fear or</font>

284
00:10:55,829 --> 00:10:59,939
anything but basically what I've done is

285
00:10:57,360 --> 00:11:03,779
I've canonicalize route maps right so

286
00:10:59,940 --> 00:11:04,950
often you'll you<font color="#CCCCCC"> know have you</font><font color="#E5E5E5"> know for</font>

287
00:11:03,779 --> 00:11:07,080
example to like

288
00:11:04,950 --> 00:11:10,860
four three two one<font color="#E5E5E5"> here you might have</font>

289
00:11:07,080 --> 00:11:13,740
private or you know exchange<font color="#E5E5E5"> point in or</font>

290
00:11:10,860 --> 00:11:14,820
exchange point out as a route map on on

291
00:11:13,740 --> 00:11:17,400
two different routers but you may

292
00:11:14,820 --> 00:11:19,110
actually you know that may mean two

293
00:11:17,400 --> 00:11:21,150
different things depending on you know

294
00:11:19,110 --> 00:11:23,910
whether you're<font color="#E5E5E5"> on router a or router be</font>

295
00:11:21,150 --> 00:11:25,439
what I've done here is is say that<font color="#E5E5E5"> okay</font>

296
00:11:23,910 --> 00:11:27,990
if I've<font color="#E5E5E5"> got a route map that's called</font>

297
00:11:25,440 --> 00:11:30,900
route map to that is actually the same

298
00:11:27,990 --> 00:11:32,640
route map so what you can do is then

299
00:11:30,900 --> 00:11:34,110
sort<font color="#E5E5E5"> of look at what the canonicalize</font>

300
00:11:32,640 --> 00:11:36,630
form of these<font color="#E5E5E5"> things are so let's see</font>

301
00:11:34,110 --> 00:11:38,730
<font color="#E5E5E5">what I'm doing</font><font color="#CCCCCC"> on you know the</font><font color="#E5E5E5"> import</font>

302
00:11:36,630 --> 00:11:41,189
route map to this particular<font color="#CCCCCC"> session</font>

303
00:11:38,730 --> 00:11:42,720
right and I can say oh<font color="#E5E5E5"> okay it looks</font>

304
00:11:41,190 --> 00:11:45,150
<font color="#CCCCCC">like this you know if I've if I match</font>

305
00:11:42,720 --> 00:11:46,560
particular ass path regular expression

306
00:11:45,150 --> 00:11:47,819
then I'm going to assign it a local

307
00:11:46,560 --> 00:11:50,099
preference and I'm going<font color="#CCCCCC"> to permit it</font>

308
00:11:47,820 --> 00:11:52,590
and deny everything else and<font color="#E5E5E5"> if</font><font color="#CCCCCC"> i look</font>

309
00:11:50,100 --> 00:11:54,060
at if i look<font color="#E5E5E5"> at the route map for</font><font color="#CCCCCC"> the</font>

310
00:11:52,590 --> 00:11:55,770
other session then i can sort of see

311
00:11:54,060 --> 00:11:59,489
what that looks like and notice i don't

312
00:11:55,770 --> 00:12:01,650
have to do things like eyeball the

313
00:11:59,490 --> 00:12:04,110
config to sort of manually dereference<font color="#E5E5E5"> a</font>

314
00:12:01,650 --> 00:12:05,310
<font color="#E5E5E5">s path access lists or notice that even</font>

315
00:12:04,110 --> 00:12:06,630
though they're both called exchange

316
00:12:05,310 --> 00:12:08,510
point in or something<font color="#CCCCCC"> like this that</font>

317
00:12:06,630 --> 00:12:10,680
there are actually two different things

318
00:12:08,510 --> 00:12:12,840
we've all we've pretty much all taken

319
00:12:10,680 --> 00:12:14,939
care of that so then once I've got<font color="#CCCCCC"> this</font>

320
00:12:12,840 --> 00:12:18,030
intermediate format what i can do is run

321
00:12:14,940 --> 00:12:19,830
I can run my verifier on it right and

322
00:12:18,030 --> 00:12:21,329
this is sort of what<font color="#E5E5E5"> I'm going to spend</font>

323
00:12:19,830 --> 00:12:23,550
<font color="#E5E5E5">the rest of the talk talking about and</font>

324
00:12:21,330 --> 00:12:25,410
what I'm what I'd<font color="#E5E5E5"> like to have sort of</font>

325
00:12:23,550 --> 00:12:27,209
more help and suggestions on but

326
00:12:25,410 --> 00:12:29,130
<font color="#E5E5E5">basically you can run and then</font><font color="#CCCCCC"> in this</font>

327
00:12:27,210 --> 00:12:32,040
these are<font color="#E5E5E5"> the flavor of errors that we</font>

328
00:12:29,130 --> 00:12:33,270
want<font color="#CCCCCC"> the the tool spits out right so you</font>

329
00:12:32,040 --> 00:12:34,650
know the parse errors that i showed you

330
00:12:33,270 --> 00:12:36,449
<font color="#E5E5E5">before you know where i couldn't</font>

331
00:12:34,650 --> 00:12:38,100
actually parse into the intermediate

332
00:12:36,450 --> 00:12:39,750
format but other other types of things

333
00:12:38,100 --> 00:12:42,780
were oh you know it doesn't<font color="#CCCCCC"> look like</font>

334
00:12:39,750 --> 00:12:45,930
you've got<font color="#E5E5E5"> a full mesh ibgp let's say</font>

335
00:12:42,780 --> 00:12:47,610
you know I've<font color="#E5E5E5"> got two peers like four</font>

336
00:12:45,930 --> 00:12:49,229
three two one<font color="#CCCCCC"> and one two three four</font>

337
00:12:47,610 --> 00:12:52,530
like I want<font color="#E5E5E5"> to make sure that</font><font color="#CCCCCC"> I'm not</font>

338
00:12:49,230 --> 00:12:54,600
transiting between the two peers these

339
00:12:52,530 --> 00:12:56,189
types of errors report that and then

340
00:12:54,600 --> 00:12:57,810
there<font color="#E5E5E5"> are other types of things that</font><font color="#CCCCCC"> you</font>

341
00:12:56,190 --> 00:12:59,160
know minor annoyances things like oh I

342
00:12:57,810 --> 00:13:01,069
notice you've got a<font color="#E5E5E5"> BGP network</font>

343
00:12:59,160 --> 00:13:02,910
statement but there's no there's no

344
00:13:01,070 --> 00:13:05,010
static route to it and there's no

345
00:13:02,910 --> 00:13:06,900
redistribute like did you really mean to

346
00:13:05,010 --> 00:13:08,850
do that or maybe should actually clean

347
00:13:06,900 --> 00:13:10,709
that up I mean other things that that

348
00:13:08,850 --> 00:13:12,450
you<font color="#E5E5E5"> know maybe of general interests like</font>

349
00:13:10,710 --> 00:13:15,510
oh you know deterministic met is off

350
00:13:12,450 --> 00:13:17,990
synchronizations off synchronizations on

351
00:13:15,510 --> 00:13:17,990
sorry

352
00:13:18,350 --> 00:13:24,149
believe it or not we found that mistake

353
00:13:21,589 --> 00:13:25,920
you know are you using non deterministic

354
00:13:24,149 --> 00:13:27,749
tiebreaking may not be an error you may

355
00:13:25,920 --> 00:13:29,839
have meant to do that but these types of

356
00:13:27,749 --> 00:13:35,100
things maybe you'd want to know right

357
00:13:29,839 --> 00:13:36,809
<font color="#CCCCCC">okay so that I've given</font><font color="#E5E5E5"> you sort of an</font>

358
00:13:35,100 --> 00:13:40,829
overview of<font color="#E5E5E5"> kind of</font><font color="#CCCCCC"> what the tool looks</font>

359
00:13:36,809 --> 00:13:42,749
like oh and I should mention<font color="#E5E5E5"> like of</font>

360
00:13:40,829 --> 00:13:45,449
<font color="#E5E5E5">course that output you know looked a</font>

361
00:13:42,749 --> 00:13:46,439
little messy and wild but one of the

362
00:13:45,449 --> 00:13:48,748
things I've added to<font color="#E5E5E5"> the tool is</font>

363
00:13:46,439 --> 00:13:50,219
actually sort<font color="#CCCCCC"> of a web interface where</font>

364
00:13:48,749 --> 00:13:51,689
<font color="#CCCCCC">you know you can run that script that I</font>

365
00:13:50,220 --> 00:13:53,579
<font color="#E5E5E5">just ran for you and then it'll spit all</font>

366
00:13:51,689 --> 00:13:55,860
these things out into<font color="#CCCCCC"> a slightly</font><font color="#E5E5E5"> more</font>

367
00:13:53,579 --> 00:13:58,949
<font color="#E5E5E5">friendly format if you want to make it</font>

368
00:13:55,860 --> 00:14:03,899
friendlier then then then feel free to

369
00:13:58,949 --> 00:14:05,099
<font color="#E5E5E5">help me I'm not a UI expert</font><font color="#CCCCCC"> okay so for</font>

370
00:14:03,899 --> 00:14:06,689
the right for the second half<font color="#E5E5E5"> of the</font>

371
00:14:05,100 --> 00:14:08,309
talk really what I want to talk about is

372
00:14:06,689 --> 00:14:11,248
<font color="#E5E5E5">how this verifier works how I've</font>

373
00:14:08,309 --> 00:14:12,389
designed it you know give you sort of<font color="#E5E5E5"> an</font>

374
00:14:11,249 --> 00:14:14,970
overview of<font color="#E5E5E5"> the types of things we are</font>

375
00:14:12,389 --> 00:14:16,740
testing now talk<font color="#CCCCCC"> to</font><font color="#E5E5E5"> you about sort of</font>

376
00:14:14,970 --> 00:14:20,730
some things<font color="#E5E5E5"> we've found by looking at</font>

377
00:14:16,740 --> 00:14:23,459
configurations in in<font color="#CCCCCC"> 9 ases and then</font>

378
00:14:20,730 --> 00:14:27,000
talk about<font color="#E5E5E5"> why</font><font color="#CCCCCC"> I think these problems</font>

379
00:14:23,459 --> 00:14:29,309
are happening and then at<font color="#E5E5E5"> the end I will</font>

380
00:14:27,000 --> 00:14:33,120
again shamelessly plead for your

381
00:14:29,309 --> 00:14:34,980
cooperation<font color="#CCCCCC"> okay so the first</font><font color="#E5E5E5"> thing I</font>

382
00:14:33,120 --> 00:14:36,930
want<font color="#CCCCCC"> to do</font><font color="#E5E5E5"> is talk about you know this</font>

383
00:14:34,980 --> 00:14:38,490
design of the tool<font color="#CCCCCC"> and obviously I've</font>

384
00:14:36,930 --> 00:14:39,839
talked a lot about verification and what

385
00:14:38,490 --> 00:14:42,000
it means for the routing protocol to<font color="#CCCCCC"> be</font>

386
00:14:39,839 --> 00:14:43,769
correct but well the<font color="#E5E5E5"> first thing we need</font>

387
00:14:42,000 --> 00:14:45,809
of course is a definition<font color="#CCCCCC"> of correctness</font>

388
00:14:43,769 --> 00:14:47,610
and you know for something like shortest

389
00:14:45,809 --> 00:14:50,040
path routing the definition is pretty

390
00:14:47,610 --> 00:14:53,250
clear but<font color="#CCCCCC"> for</font><font color="#E5E5E5"> something like BGP it's a</font>

391
00:14:50,040 --> 00:14:54,629
little less clear right so the first

392
00:14:53,250 --> 00:14:57,930
thing<font color="#E5E5E5"> I've done is defined correctness</font>

393
00:14:54,629 --> 00:14:59,879
in terms of five properties um these

394
00:14:57,930 --> 00:15:01,229
aren't meant to be exhausted exhaustive

395
00:14:59,879 --> 00:15:03,540
and if I've forgotten something I

396
00:15:01,230 --> 00:15:06,329
<font color="#E5E5E5">definitely appreciate you telling me but</font>

397
00:15:03,540 --> 00:15:07,829
let me just sort of summarize each each

398
00:15:06,329 --> 00:15:09,719
one of these properties the first is

399
00:15:07,829 --> 00:15:11,008
pretty obvious<font color="#CCCCCC"> right it's it's called</font>

400
00:15:09,720 --> 00:15:13,379
validity and that just says you know

401
00:15:11,009 --> 00:15:15,240
<font color="#CCCCCC">isma is my is you know is my routing</font>

402
00:15:13,379 --> 00:15:16,920
protocol going to advertise routes

403
00:15:15,240 --> 00:15:19,410
they're bogus like if someone tries to

404
00:15:16,920 --> 00:15:22,319
<font color="#E5E5E5">use this route will they not get wheeler</font>

405
00:15:19,410 --> 00:15:24,300
packets<font color="#E5E5E5"> not get to the destination as</font>

406
00:15:22,319 --> 00:15:26,519
we've seen you know<font color="#CCCCCC"> these things can</font>

407
00:15:24,300 --> 00:15:27,229
actually<font color="#E5E5E5"> happen we want to check for</font>

408
00:15:26,519 --> 00:15:30,170
<font color="#CCCCCC">check</font><font color="#E5E5E5"> for the</font>

409
00:15:27,230 --> 00:15:32,510
things the opposite<font color="#E5E5E5"> problem is something</font>

410
00:15:30,170 --> 00:15:35,420
called visibility and that just says if

411
00:15:32,510 --> 00:15:37,400
there is some path between a router and

412
00:15:35,420 --> 00:15:39,229
in some destination that could<font color="#E5E5E5"> be used</font>

413
00:15:37,400 --> 00:15:40,610
you know that packets would actually go

414
00:15:39,230 --> 00:15:43,310
this way<font color="#CCCCCC"> and that</font><font color="#E5E5E5"> it's conformant with</font>

415
00:15:40,610 --> 00:15:45,440
policy etc then<font color="#CCCCCC"> will my routing protocol</font>

416
00:15:43,310 --> 00:15:47,420
<font color="#E5E5E5">actually tell me about it and</font><font color="#CCCCCC"> I'll show</font>

417
00:15:45,440 --> 00:15:49,640
you an interesting example of where

418
00:15:47,420 --> 00:15:53,750
that's violated in the next couple of

419
00:15:49,640 --> 00:15:54,949
slides the third sort of recognizes this

420
00:15:53,750 --> 00:15:58,580
point that many people brought up this

421
00:15:54,950 --> 00:15:59,990
morning which is that often<font color="#CCCCCC"> that often</font>

422
00:15:58,580 --> 00:16:02,660
operators don't really want<font color="#E5E5E5"> to expose</font>

423
00:15:59,990 --> 00:16:04,910
certain types of information to other a

424
00:16:02,660 --> 00:16:07,730
SS and you know one thing<font color="#CCCCCC"> I mentioned</font>

425
00:16:04,910 --> 00:16:10,520
was you know am I transiting between two

426
00:16:07,730 --> 00:16:12,080
<font color="#CCCCCC">of my peers I want to</font><font color="#E5E5E5"> I want to make</font>

427
00:16:10,520 --> 00:16:14,689
sure that<font color="#E5E5E5"> you know those types of routes</font>

428
00:16:12,080 --> 00:16:16,340
aren't lead I'm<font color="#CCCCCC"> there other there</font><font color="#E5E5E5"> are</font>

429
00:16:14,690 --> 00:16:18,380
two other properties that I've included

430
00:16:16,340 --> 00:16:19,580
my definition of correctness and I'm not

431
00:16:18,380 --> 00:16:24,410
<font color="#E5E5E5">going to talk about a whole lot in this</font>

432
00:16:19,580 --> 00:16:25,520
<font color="#E5E5E5">talk partially because there's certain</font>

433
00:16:24,410 --> 00:16:28,819
things that I think<font color="#E5E5E5"> static analysis</font>

434
00:16:25,520 --> 00:16:30,850
isn't really that useful for particular

435
00:16:28,820 --> 00:16:33,500
the this property like well we have

436
00:16:30,850 --> 00:16:36,020
oscillations based on on on policy

437
00:16:33,500 --> 00:16:37,280
things that things that<font color="#E5E5E5"> people have</font>

438
00:16:36,020 --> 00:16:39,079
talked a little bit about this morning

439
00:16:37,280 --> 00:16:42,589
<font color="#CCCCCC">already and those may be better suited</font>

440
00:16:39,080 --> 00:16:45,950
for protocol changes ok so this<font color="#CCCCCC"> light</font>

441
00:16:42,590 --> 00:16:47,930
should<font color="#E5E5E5"> be fairly obvious to you but I</font>

442
00:16:45,950 --> 00:16:50,270
<font color="#E5E5E5">just want to I just want to sort of</font>

443
00:16:47,930 --> 00:16:52,189
raise it because obviously we have this

444
00:16:50,270 --> 00:16:53,900
definition of what it means to be

445
00:16:52,190 --> 00:16:56,540
correct but how are we going to actually

446
00:16:53,900 --> 00:16:57,740
<font color="#E5E5E5">apply it well to in order to do that we</font>

447
00:16:56,540 --> 00:16:59,360
kind<font color="#E5E5E5"> of need to figure out like what are</font>

448
00:16:57,740 --> 00:17:02,090
the one of the things that<font color="#CCCCCC"> BGP is really</font>

449
00:16:59,360 --> 00:17:04,280
doing and<font color="#E5E5E5"> it really boils down to about</font>

450
00:17:02,090 --> 00:17:06,470
six things right so<font color="#E5E5E5"> you know there's or</font>

451
00:17:04,280 --> 00:17:08,149
origination a router may export that

452
00:17:06,470 --> 00:17:09,560
<font color="#E5E5E5">route to another router when that router</font>

453
00:17:08,150 --> 00:17:11,480
here<font color="#E5E5E5"> is it it's going to import it do</font>

454
00:17:09,560 --> 00:17:14,000
some stuff you<font color="#CCCCCC"> know decide whether or</font>

455
00:17:11,480 --> 00:17:16,849
not to accept it or not there's the the

456
00:17:14,000 --> 00:17:18,619
path selection process the router could

457
00:17:16,849 --> 00:17:20,839
modify attributes and it could also

458
00:17:18,619 --> 00:17:24,530
propagate the that route to other

459
00:17:20,839 --> 00:17:25,939
routers inside its own asu no<font color="#CCCCCC"> ibgp so</font>

460
00:17:24,530 --> 00:17:27,950
putting these things together the

461
00:17:25,940 --> 00:17:30,650
properties of correctness and the steps

462
00:17:27,950 --> 00:17:33,050
of BGP operation we can sort of start<font color="#E5E5E5"> to</font>

463
00:17:30,650 --> 00:17:34,730
get a little bit<font color="#CCCCCC"> of flavor for you know</font>

464
00:17:33,050 --> 00:17:36,560
something that<font color="#CCCCCC"> looks a little less ad</font>

465
00:17:34,730 --> 00:17:39,560
<font color="#CCCCCC">hoc right which which is you know at</font>

466
00:17:36,560 --> 00:17:40,300
each step of of operation what types of

467
00:17:39,560 --> 00:17:41,919
you know what

468
00:17:40,300 --> 00:17:44,200
specs of correctness could possibly go

469
00:17:41,920 --> 00:17:47,080
wrong and<font color="#E5E5E5"> I'm going to talk a little bit</font>

470
00:17:44,200 --> 00:17:49,500
about some<font color="#CCCCCC"> of these in the next couple</font>

471
00:17:47,080 --> 00:17:52,210
of slides but you can<font color="#E5E5E5"> imagine you know</font>

472
00:17:49,500 --> 00:17:53,610
validity can obviously be violated in on

473
00:17:52,210 --> 00:17:57,400
origination right you can originate

474
00:17:53,610 --> 00:17:59,679
bogus prefixes for example the idea here

475
00:17:57,400 --> 00:18:02,020
is to try to find<font color="#E5E5E5"> a system at systematic</font>

476
00:17:59,680 --> 00:18:04,690
way of asking you know at what stage can

477
00:18:02,020 --> 00:18:07,450
particular you know particular aspects

478
00:18:04,690 --> 00:18:08,800
of the routing protocol go wrong and you

479
00:18:07,450 --> 00:18:11,350
know knowing<font color="#E5E5E5"> these things how can i</font>

480
00:18:08,800 --> 00:18:13,930
right static analysis checks to make

481
00:18:11,350 --> 00:18:16,449
sure that they don't go wrong and<font color="#E5E5E5"> if I</font>

482
00:18:13,930 --> 00:18:18,160
can't then<font color="#E5E5E5"> you know what what types of</font>

483
00:18:16,450 --> 00:18:21,340
changes should we be be making to the

484
00:18:18,160 --> 00:18:22,510
<font color="#E5E5E5">protocol or languages so that I can so</font>

485
00:18:21,340 --> 00:18:24,970
let<font color="#E5E5E5"> me just sort of walk through</font><font color="#CCCCCC"> that</font>

486
00:18:22,510 --> 00:18:26,620
table a<font color="#CCCCCC"> little bit give you you know</font>

487
00:18:24,970 --> 00:18:28,930
<font color="#E5E5E5">give you a few examples and in the</font>

488
00:18:26,620 --> 00:18:32,020
process I'm<font color="#E5E5E5"> just going to you know use</font>

489
00:18:28,930 --> 00:18:34,300
examples that our tool RCC actually

490
00:18:32,020 --> 00:18:36,100
checks for just<font color="#CCCCCC"> did you know give you an</font>

491
00:18:34,300 --> 00:18:38,110
idea of all the types of things we're

492
00:18:36,100 --> 00:18:39,610
looking for so you know<font color="#E5E5E5"> bogen prefixes</font>

493
00:18:38,110 --> 00:18:41,679
<font color="#E5E5E5">I've already gone over but there are</font>

494
00:18:39,610 --> 00:18:44,399
there<font color="#CCCCCC"> are other</font><font color="#E5E5E5"> things you know related</font>

495
00:18:41,680 --> 00:18:47,500
to a s path that we also check for so

496
00:18:44,400 --> 00:18:49,450
you know on export like<font color="#CCCCCC"> ru prepending</font>

497
00:18:47,500 --> 00:18:53,590
the same<font color="#E5E5E5"> AS that you know that you</font>

498
00:18:49,450 --> 00:18:56,050
belong to if you're using customers who

499
00:18:53,590 --> 00:18:57,520
are<font color="#E5E5E5"> speaking bgp but you've got</font><font color="#CCCCCC"> you're</font>

500
00:18:56,050 --> 00:19:00,070
using<font color="#E5E5E5"> private a esas are you removing</font>

501
00:18:57,520 --> 00:19:02,820
that private is before you re advertise

502
00:19:00,070 --> 00:19:06,700
it to to the world you'd be surprised

503
00:19:02,820 --> 00:19:08,200
you know<font color="#CCCCCC"> i give it a bogan URL earlier</font>

504
00:19:06,700 --> 00:19:11,650
in<font color="#E5E5E5"> the talk and you'd be surprised how</font>

505
00:19:08,200 --> 00:19:13,120
<font color="#E5E5E5">many private a esas leaked out or maybe</font>

506
00:19:11,650 --> 00:19:14,440
you wouldn't<font color="#CCCCCC"> I don't know if you've been</font>

507
00:19:13,120 --> 00:19:19,870
looking maybe it wouldn't be surprised

508
00:19:14,440 --> 00:19:21,760
but<font color="#CCCCCC"> uh they're quite a few and then very</font>

509
00:19:19,870 --> 00:19:23,500
<font color="#CCCCCC">you know various things that we also</font>

510
00:19:21,760 --> 00:19:25,330
check<font color="#CCCCCC"> it you know other types of things</font>

511
00:19:23,500 --> 00:19:26,920
for filters you know are<font color="#E5E5E5"> there sessions</font>

512
00:19:25,330 --> 00:19:29,919
defined that don't have route maps at

513
00:19:26,920 --> 00:19:32,410
all if<font color="#E5E5E5"> you define a route map and you</font>

514
00:19:29,920 --> 00:19:33,670
use you know access lists Ras path lists

515
00:19:32,410 --> 00:19:34,630
or community lists like are the things

516
00:19:33,670 --> 00:19:38,860
you're trying to<font color="#E5E5E5"> use have you actually</font>

517
00:19:34,630 --> 00:19:40,900
defined them this you know how are you

518
00:19:38,860 --> 00:19:43,629
setting the next<font color="#CCCCCC"> top attribute on on on</font>

519
00:19:40,900 --> 00:19:45,310
sessions to other a on your ebgp

520
00:19:43,630 --> 00:19:48,960
sessions like if you're not setting next

521
00:19:45,310 --> 00:19:51,460
top self well you<font color="#CCCCCC"> better be sure that</font>

522
00:19:48,960 --> 00:19:53,080
the the interface that's on the other

523
00:19:51,460 --> 00:19:54,270
side<font color="#CCCCCC"> of that session is somehow injected</font>

524
00:19:53,080 --> 00:19:58,270
into your<font color="#CCCCCC"> igp</font>

525
00:19:54,270 --> 00:19:59,680
that should say I gp9<font color="#E5E5E5"> I hear otherwise</font>

526
00:19:58,270 --> 00:20:02,230
otherwise you've got reach ability

527
00:19:59,680 --> 00:20:03,910
problems so let's<font color="#CCCCCC"> talk a little bit</font><font color="#E5E5E5"> more</font>

528
00:20:02,230 --> 00:20:05,530
<font color="#CCCCCC">about the second</font><font color="#E5E5E5"> property this is</font>

529
00:20:03,910 --> 00:20:07,840
visibility there are obvious things like

530
00:20:05,530 --> 00:20:10,180
synchronization new network statements

531
00:20:07,840 --> 00:20:11,649
without routes one thing<font color="#E5E5E5"> that I that the</font>

532
00:20:10,180 --> 00:20:14,500
tool isn't currently checking<font color="#CCCCCC"> for word</font>

533
00:20:11,650 --> 00:20:16,180
but<font color="#CCCCCC"> that I plan to add soon</font><font color="#E5E5E5"> is no are</font>

534
00:20:14,500 --> 00:20:18,370
you filtering prefixes that have

535
00:20:16,180 --> 00:20:21,550
recently been allocated by Aaron or or

536
00:20:18,370 --> 00:20:24,280
ethnic or ripe or<font color="#E5E5E5"> whatnot you'd be</font>

537
00:20:21,550 --> 00:20:26,680
surprised again how many<font color="#CCCCCC"> people don't</font>

538
00:20:24,280 --> 00:20:29,020
update their filters when when prefixes

539
00:20:26,680 --> 00:20:31,230
are allocated and something I want to

540
00:20:29,020 --> 00:20:34,060
spend<font color="#E5E5E5"> a couple slides on is is this</font><font color="#CCCCCC"> ibgp</font>

541
00:20:31,230 --> 00:20:35,830
signaling issue which<font color="#CCCCCC"> is related to this</font>

542
00:20:34,060 --> 00:20:37,030
property you know if<font color="#CCCCCC"> I have a path is my</font>

543
00:20:35,830 --> 00:20:39,699
routing protocol going to tell me about

544
00:20:37,030 --> 00:20:41,560
<font color="#CCCCCC">it there are obvious things to check for</font>

545
00:20:39,700 --> 00:20:43,930
again you know duplicate loop backs

546
00:20:41,560 --> 00:20:46,360
cluster IDs etc but there are other ways

547
00:20:43,930 --> 00:20:47,350
<font color="#CCCCCC">that I BGP can be partitioned that you</font>

548
00:20:46,360 --> 00:20:49,389
may or may not be<font color="#E5E5E5"> familiar with</font>

549
00:20:47,350 --> 00:20:51,370
obviously we<font color="#E5E5E5"> all know about full mesh</font>

550
00:20:49,390 --> 00:20:52,780
but<font color="#E5E5E5"> things get a little more interesting</font>

551
00:20:51,370 --> 00:20:55,419
when when we start adding route

552
00:20:52,780 --> 00:20:57,460
reflection right so in case people don't

553
00:20:55,420 --> 00:20:59,970
know know how this<font color="#E5E5E5"> works I imagine most</font>

554
00:20:57,460 --> 00:21:02,200
of you do but it's sort of quick review

555
00:20:59,970 --> 00:21:03,430
you know the default is you know the

556
00:21:02,200 --> 00:21:05,380
router is not going<font color="#E5E5E5"> to learn an ibgp</font>

557
00:21:03,430 --> 00:21:09,220
learn it's not going to re-advertise an

558
00:21:05,380 --> 00:21:12,040
ibgp learn route via ibgp so you're

559
00:21:09,220 --> 00:21:13,360
going<font color="#E5E5E5"> to need an N squared scaling you</font>

560
00:21:12,040 --> 00:21:16,870
know<font color="#E5E5E5"> people recognize that this was a</font>

561
00:21:13,360 --> 00:21:18,209
<font color="#E5E5E5">problem and you know in in the</font><font color="#CCCCCC"> usual</font>

562
00:21:16,870 --> 00:21:21,399
fashion we've added another feature

563
00:21:18,210 --> 00:21:22,870
called route reflection and and the way

564
00:21:21,400 --> 00:21:25,300
this behaves is you know route reflector

565
00:21:22,870 --> 00:21:27,010
clients just<font color="#E5E5E5"> behave it's normal but</font>

566
00:21:25,300 --> 00:21:28,899
route reflectors then we'll riad<font color="#CCCCCC"> ver</font>

567
00:21:27,010 --> 00:21:30,850
<font color="#CCCCCC">ties their non-client routes to all</font>

568
00:21:28,900 --> 00:21:33,910
their other clients and the riad ver

569
00:21:30,850 --> 00:21:37,270
ties the client routes to both non

570
00:21:33,910 --> 00:21:40,260
clients and other clients<font color="#CCCCCC"> ok so this</font>

571
00:21:37,270 --> 00:21:43,540
seems this<font color="#E5E5E5"> seems pretty simple right</font>

572
00:21:40,260 --> 00:21:45,850
great well it turns out that you know

573
00:21:43,540 --> 00:21:48,310
maybe it is simple in a lot<font color="#E5E5E5"> of cases but</font>

574
00:21:45,850 --> 00:21:50,050
there<font color="#CCCCCC"> are situations where things can</font>

575
00:21:48,310 --> 00:21:52,780
happen where you might not expect and

576
00:21:50,050 --> 00:21:54,280
<font color="#E5E5E5">you might end up with with routes not</font>

577
00:21:52,780 --> 00:21:56,470
propagating as you'd hope so let's sort

578
00:21:54,280 --> 00:21:58,450
of take this simple<font color="#E5E5E5"> example we've got a</font>

579
00:21:56,470 --> 00:22:00,190
router w that's a route reflector it's

580
00:21:58,450 --> 00:22:04,480
got two clients one of which<font color="#E5E5E5"> I've</font>

581
00:22:00,190 --> 00:22:07,260
labeled X X has a regular<font color="#E5E5E5"> ibgp session</font>

582
00:22:04,480 --> 00:22:11,250
to Y and Y is a route reflector of

583
00:22:07,260 --> 00:22:13,430
client z<font color="#CCCCCC"> okay so i don't know if</font><font color="#E5E5E5"> it and</font>

584
00:22:11,250 --> 00:22:16,890
<font color="#E5E5E5">i know if you see what's coming here but</font>

585
00:22:13,430 --> 00:22:20,460
<font color="#E5E5E5">know if the if x speaks ebgp to some</font>

586
00:22:16,890 --> 00:22:22,520
some neighboring is and it learns<font color="#CCCCCC"> the</font>

587
00:22:20,460 --> 00:22:24,900
route then then everything's hunky-dory

588
00:22:22,520 --> 00:22:28,440
everyone hears everyone learns that that

589
00:22:24,900 --> 00:22:30,420
a BGP route great well what happens when

590
00:22:28,440 --> 00:22:34,380
you know what happens if w is speaking

591
00:22:30,420 --> 00:22:36,780
ebgp well w's clients of course<font color="#E5E5E5"> here</font>

592
00:22:34,380 --> 00:22:38,640
that route but X remember<font color="#CCCCCC"> X is just</font>

593
00:22:36,780 --> 00:22:40,889
behaving as usual because it's a<font color="#E5E5E5"> rat</font>

594
00:22:38,640 --> 00:22:42,810
reflector client it learns that route VI

595
00:22:40,890 --> 00:22:45,300
bgp and it's not going to re-advertise

596
00:22:42,810 --> 00:22:47,879
that route to Y so now we've got a

597
00:22:45,300 --> 00:22:50,940
problem you know we've<font color="#E5E5E5"> got an a bgp</font>

598
00:22:47,880 --> 00:22:52,260
learn route that should have been re

599
00:22:50,940 --> 00:22:56,160
advertised<font color="#E5E5E5"> to all the routers inside the</font>

600
00:22:52,260 --> 00:22:58,470
a s but that's not happening and this<font color="#E5E5E5"> is</font>

601
00:22:56,160 --> 00:23:00,180
<font color="#E5E5E5">just a simple demonstration of how you</font>

602
00:22:58,470 --> 00:23:01,740
know something that's fairly simple like

603
00:23:00,180 --> 00:23:03,810
a rat reflector hierarchy can go

604
00:23:01,740 --> 00:23:05,250
horribly wrong and that's<font color="#E5E5E5"> it's kind of</font>

605
00:23:03,810 --> 00:23:06,870
one of<font color="#E5E5E5"> the things that we want to check</font>

606
00:23:05,250 --> 00:23:09,150
and the tool<font color="#CCCCCC"> and</font><font color="#E5E5E5"> this is this is an</font>

607
00:23:06,870 --> 00:23:13,949
example of where<font color="#E5E5E5"> where static analysis</font>

608
00:23:09,150 --> 00:23:15,360
can can<font color="#CCCCCC"> help you can imagine that</font><font color="#E5E5E5"> this</font>

609
00:23:13,950 --> 00:23:17,220
type of thing would be rather you know

610
00:23:15,360 --> 00:23:18,990
depending on the advertisements you hear

611
00:23:17,220 --> 00:23:20,550
from your neighbors it could be rather

612
00:23:18,990 --> 00:23:22,340
difficult to<font color="#E5E5E5"> figure out what's going on</font>

613
00:23:20,550 --> 00:23:24,600
<font color="#E5E5E5">if you</font><font color="#CCCCCC"> don't have a</font><font color="#E5E5E5"> way of diagnosing it</font>

614
00:23:22,340 --> 00:23:27,300
so<font color="#E5E5E5"> i'm going to jump back into into</font>

615
00:23:24,600 --> 00:23:29,040
research land here and give you sort of

616
00:23:27,300 --> 00:23:30,389
a non-scary theorem for how to check

617
00:23:29,040 --> 00:23:32,970
this type of thing<font color="#E5E5E5"> and this is the this</font>

618
00:23:30,390 --> 00:23:35,880
is the type of<font color="#CCCCCC"> thing that RCC actually</font>

619
00:23:32,970 --> 00:23:37,650
does so the<font color="#E5E5E5"> first thing we do is just</font>

620
00:23:35,880 --> 00:23:39,330
check for a fully fully connected graph

621
00:23:37,650 --> 00:23:41,280
and something<font color="#CCCCCC"> that doesn't</font><font color="#E5E5E5"> actually</font>

622
00:23:39,330 --> 00:23:43,889
contain cycles between its route

623
00:23:41,280 --> 00:23:45,930
reflector client relationships then

624
00:23:43,890 --> 00:23:47,880
basically what we can check is that the

625
00:23:45,930 --> 00:23:50,480
<font color="#CCCCCC">situation that i just</font><font color="#E5E5E5"> showed you won't</font>

626
00:23:47,880 --> 00:23:52,920
actually happen if every router that is

627
00:23:50,480 --> 00:23:55,830
not a<font color="#E5E5E5"> rat reflector client of any other</font>

628
00:23:52,920 --> 00:23:57,240
router forms a full mesh among those

629
00:23:55,830 --> 00:24:00,149
routers so basically if you've got a

630
00:23:57,240 --> 00:24:03,330
full click of all the routers that are

631
00:24:00,150 --> 00:24:07,200
not clients of anyone then then you're

632
00:24:03,330 --> 00:24:09,030
fine it's pretty<font color="#E5E5E5"> it's pretty the</font>

633
00:24:07,200 --> 00:24:12,780
<font color="#CCCCCC">intuition so that's pretty</font><font color="#E5E5E5"> obvious for</font>

634
00:24:09,030 --> 00:24:14,580
that but<font color="#CCCCCC"> i'm</font><font color="#E5E5E5"> going to skip over that so</font>

635
00:24:12,780 --> 00:24:16,110
<font color="#CCCCCC">i'm just</font><font color="#E5E5E5"> going to talk about sort</font><font color="#CCCCCC"> of one</font>

636
00:24:14,580 --> 00:24:17,689
last correctness property<font color="#CCCCCC"> I'm going to</font>

637
00:24:16,110 --> 00:24:20,240
skip the last two

638
00:24:17,690 --> 00:24:22,519
and just talk about this<font color="#CCCCCC"> information</font>

639
00:24:20,240 --> 00:24:24,860
flow control thing you know am<font color="#E5E5E5"> i</font>

640
00:24:22,519 --> 00:24:27,289
exposing information that<font color="#E5E5E5"> I might not</font>

641
00:24:24,860 --> 00:24:28,758
want<font color="#E5E5E5"> to expose to other asses now</font>

642
00:24:27,289 --> 00:24:31,399
obviously this is sort of a complicated

643
00:24:28,759 --> 00:24:35,000
<font color="#E5E5E5">requirements and you know actually</font>

644
00:24:31,399 --> 00:24:37,428
figuring out how to spec this is is is

645
00:24:35,000 --> 00:24:38,899
is fairly difficult but we can sort of

646
00:24:37,429 --> 00:24:41,240
make some reasonable assumptions about

647
00:24:38,899 --> 00:24:42,739
what types of things<font color="#E5E5E5"> people usually do</font>

648
00:24:41,240 --> 00:24:44,809
what types of things<font color="#E5E5E5"> you might usually</font>

649
00:24:42,740 --> 00:24:46,429
want to happen at<font color="#CCCCCC"> least report you know</font>

650
00:24:44,809 --> 00:24:48,049
okay we've got an anomaly here and

651
00:24:46,429 --> 00:24:50,840
basically what the jewel does is look

652
00:24:48,049 --> 00:24:52,789
for three<font color="#E5E5E5"> types of anomalies the first</font>

653
00:24:50,840 --> 00:24:53,629
two<font color="#CCCCCC"> er are</font><font color="#E5E5E5"> really more serious types of</font>

654
00:24:52,789 --> 00:24:56,658
things one is you know are you

655
00:24:53,629 --> 00:25:01,189
transiting routes between<font color="#E5E5E5"> between two</font>

656
00:24:56,659 --> 00:25:03,590
piers the second is you know settlement

657
00:25:01,190 --> 00:25:06,620
free peering usually has or sometimes<font color="#CCCCCC"> at</font>

658
00:25:03,590 --> 00:25:08,240
least<font color="#CCCCCC"> has this clause that says you know</font>

659
00:25:06,620 --> 00:25:09,739
<font color="#CCCCCC">I have to advertise equally good routes</font>

660
00:25:08,240 --> 00:25:11,419
to my peer on all my peering points

661
00:25:09,740 --> 00:25:14,899
otherwise I could force it to do cold

662
00:25:11,419 --> 00:25:19,070
potato routing right so<font color="#CCCCCC"> mr my export</font>

663
00:25:14,899 --> 00:25:21,549
<font color="#E5E5E5">policy is inconsistent such that I'm I'm</font>

664
00:25:19,070 --> 00:25:24,580
unintentionally or maybe intentionally

665
00:25:21,549 --> 00:25:26,990
forcing appear to do cold potato routing

666
00:25:24,580 --> 00:25:28,759
and then something you know imagine you

667
00:25:26,990 --> 00:25:30,710
want<font color="#E5E5E5"> to check</font><font color="#CCCCCC"> that case from your own is</font>

668
00:25:28,759 --> 00:25:32,360
is is one of my other peers trying to

669
00:25:30,710 --> 00:25:34,850
screw me well the<font color="#CCCCCC"> first thing I want to</font>

670
00:25:32,360 --> 00:25:36,949
figure out is am i screwing myself that

671
00:25:34,850 --> 00:25:40,279
is<font color="#E5E5E5"> are my import policies consistent am</font>

672
00:25:36,950 --> 00:25:42,440
i doing cold<font color="#E5E5E5"> potato routing I'm on my</font>

673
00:25:40,279 --> 00:25:43,700
<font color="#CCCCCC">own my own network so you know if I</font><font color="#E5E5E5"> see</font>

674
00:25:42,440 --> 00:25:44,840
cold potato routing I can at<font color="#E5E5E5"> least</font>

675
00:25:43,700 --> 00:25:48,700
figure out whether<font color="#E5E5E5"> or not I should be</font>

676
00:25:44,840 --> 00:25:51,110
blaming blaming my peer so then it so

677
00:25:48,700 --> 00:25:53,480
I've had a you<font color="#CCCCCC"> know some good</font>

678
00:25:51,110 --> 00:25:55,699
cooperation from some from some helpful

679
00:25:53,480 --> 00:25:59,179
souls who will thank in a minute who

680
00:25:55,700 --> 00:26:02,389
allowed me to run very beta versions of

681
00:25:59,179 --> 00:26:04,029
this tool on on their configurations and

682
00:26:02,389 --> 00:26:08,240
help me iron out a lot of the bugs and

683
00:26:04,029 --> 00:26:09,919
and thankfully also the their

684
00:26:08,240 --> 00:26:11,809
configurations a terror so this part of

685
00:26:09,919 --> 00:26:13,149
the talk is is a little<font color="#E5E5E5"> more interesting</font>

686
00:26:11,809 --> 00:26:16,399
than than it would have been otherwise

687
00:26:13,149 --> 00:26:19,279
but I've basically divided these errors

688
00:26:16,399 --> 00:26:21,258
in to you know sort of three classes

689
00:26:19,279 --> 00:26:23,210
based on how serious i think they are

690
00:26:21,259 --> 00:26:26,690
maybe maybe you've<font color="#CCCCCC"> got other opinions in</font>

691
00:26:23,210 --> 00:26:29,899
which case<font color="#CCCCCC"> I'm open to suggestion but</font>

692
00:26:26,690 --> 00:26:31,290
the point<font color="#CCCCCC"> is basically that lots of lots</font>

693
00:26:29,899 --> 00:26:33,360
of the things that<font color="#E5E5E5"> I've described you</font>

694
00:26:31,290 --> 00:26:35,310
turn up so<font color="#E5E5E5"> I think that</font><font color="#CCCCCC"> a tool like RCC</font>

695
00:26:33,360 --> 00:26:36,870
is actually something that that people

696
00:26:35,310 --> 00:26:42,929
should<font color="#CCCCCC"> be using and I'd like</font><font color="#E5E5E5"> you to use</font>

697
00:26:36,870 --> 00:26:45,540
it again um you know wasn't it<font color="#E5E5E5"> wasn't</font>

698
00:26:42,930 --> 00:26:47,940
just that you know one<font color="#CCCCCC"> of</font><font color="#E5E5E5"> these you know</font>

699
00:26:45,540 --> 00:26:50,190
one of these<font color="#E5E5E5"> a s is that that was so</font>

700
00:26:47,940 --> 00:26:52,260
cooperative you know gave us happen to

701
00:26:50,190 --> 00:26:54,600
give us really bad configurations I mean

702
00:26:52,260 --> 00:26:56,010
it<font color="#E5E5E5"> seems to be</font><font color="#CCCCCC"> a fairly chronic problem</font>

703
00:26:54,600 --> 00:26:57,899
<font color="#CCCCCC">that these errors turn up and this</font>

704
00:26:56,010 --> 00:27:00,660
probably this probably is not surprising

705
00:26:57,900 --> 00:27:02,490
to<font color="#CCCCCC"> you at all again one of the things</font>

706
00:27:00,660 --> 00:27:03,570
that<font color="#E5E5E5"> we see a lot is you know problems</font>

707
00:27:02,490 --> 00:27:05,220
with filtering and that's<font color="#E5E5E5"> not surprising</font>

708
00:27:03,570 --> 00:27:08,669
given the graph that I showed you at the

709
00:27:05,220 --> 00:27:10,290
beginning of the talk so what's going on

710
00:27:08,670 --> 00:27:12,000
like why you know why are these why are

711
00:27:10,290 --> 00:27:14,670
these problems happening and what can<font color="#E5E5E5"> we</font>

712
00:27:12,000 --> 00:27:16,530
do about<font color="#E5E5E5"> it so besides the obvious thing</font>

713
00:27:14,670 --> 00:27:19,560
that we could do about it which is you

714
00:27:16,530 --> 00:27:25,320
all should download our CC and and run

715
00:27:19,560 --> 00:27:26,879
it is uh you know we can<font color="#E5E5E5"> sort</font><font color="#CCCCCC"> of look be</font>

716
00:27:25,320 --> 00:27:28,110
a<font color="#E5E5E5"> little more forward thinking and sort</font>

717
00:27:26,880 --> 00:27:29,370
<font color="#E5E5E5">of figure out you know what's what's</font>

718
00:27:28,110 --> 00:27:31,169
actually causing these problems to

719
00:27:29,370 --> 00:27:32,610
happen in the first place<font color="#CCCCCC"> you know first</font>

720
00:27:31,170 --> 00:27:35,280
observation is that you know there<font color="#CCCCCC"> are a</font>

721
00:27:32,610 --> 00:27:36,810
lot of filtering problems I've got a

722
00:27:35,280 --> 00:27:39,090
more detailed analysis<font color="#CCCCCC"> of this by the</font>

723
00:27:36,810 --> 00:27:41,460
way if you want me to send you<font color="#E5E5E5"> a little</font>

724
00:27:39,090 --> 00:27:43,800
six page paper about it but<font color="#E5E5E5"> you</font><font color="#CCCCCC"> know</font>

725
00:27:41,460 --> 00:27:45,960
what can we do about this well one thing

726
00:27:43,800 --> 00:27:47,610
one thing I notice of of course is that

727
00:27:45,960 --> 00:27:49,200
you know<font color="#E5E5E5"> of this graphic showed you the</font>

728
00:27:47,610 --> 00:27:50,340
<font color="#E5E5E5">beginning like</font><font color="#CCCCCC"> two-thirds almost</font>

729
00:27:49,200 --> 00:27:52,950
two-thirds of these announcements are

730
00:27:50,340 --> 00:27:54,240
from like private address space so the

731
00:27:52,950 --> 00:27:55,950
first thing we should do is like you

732
00:27:54,240 --> 00:27:57,600
know<font color="#E5E5E5"> just do the easy thing and install</font>

733
00:27:55,950 --> 00:27:59,730
filters that never have to change<font color="#E5E5E5"> right</font>

734
00:27:57,600 --> 00:28:00,990
and maybe you know from<font color="#E5E5E5"> a vendor</font>

735
00:27:59,730 --> 00:28:02,940
perspective like maybe it would<font color="#CCCCCC"> be a</font>

736
00:28:00,990 --> 00:28:05,070
good<font color="#CCCCCC"> thing to filter private address</font>

737
00:28:02,940 --> 00:28:06,390
space by default and then if<font color="#E5E5E5"> someone</font>

738
00:28:05,070 --> 00:28:07,649
wants to allow these routes they can

739
00:28:06,390 --> 00:28:09,860
turn<font color="#E5E5E5"> it on rather than having the</font>

740
00:28:07,650 --> 00:28:12,780
default be the other way but you know

741
00:28:09,860 --> 00:28:15,060
looking looking further forward than you

742
00:28:12,780 --> 00:28:16,860
know the problem is really that the

743
00:28:15,060 --> 00:28:19,020
routing protocol has these intrinsic

744
00:28:16,860 --> 00:28:20,850
vulnerability abilities there's no

745
00:28:19,020 --> 00:28:22,350
notion of authentication<font color="#CCCCCC"> built in and</font>

746
00:28:20,850 --> 00:28:24,600
you know I'm<font color="#E5E5E5"> not saying that you know</font>

747
00:28:22,350 --> 00:28:27,810
SPG p is<font color="#E5E5E5"> the right thing but you know</font>

748
00:28:24,600 --> 00:28:29,429
the<font color="#CCCCCC"> idea that you know authentication of</font>

749
00:28:27,810 --> 00:28:30,990
routes should be built<font color="#E5E5E5"> into the protocol</font>

750
00:28:29,430 --> 00:28:34,320
so that it's you know intrinsically

751
00:28:30,990 --> 00:28:36,300
robust too mistakes by operators you

752
00:28:34,320 --> 00:28:38,760
know is you know that's a generally a

753
00:28:36,300 --> 00:28:39,990
good idea<font color="#CCCCCC"> I think the second reason I</font>

754
00:28:38,760 --> 00:28:41,820
think<font color="#E5E5E5"> these these types of things are</font>

755
00:28:39,990 --> 00:28:43,260
<font color="#E5E5E5">happening is there's a lot of obscurity</font>

756
00:28:41,820 --> 00:28:45,360
going on you know I hope that you

757
00:28:43,260 --> 00:28:48,929
understood the<font color="#E5E5E5"> example I presented but</font>

758
00:28:45,360 --> 00:28:50,340
there are many<font color="#CCCCCC"> places I</font><font color="#E5E5E5"> go to where you</font>

759
00:28:48,929 --> 00:28:52,350
know you have<font color="#E5E5E5"> to spend 15 minutes</font>

760
00:28:50,340 --> 00:28:53,850
describing how<font color="#CCCCCC"> I bgp and route</font>

761
00:28:52,350 --> 00:28:55,860
reflection works before you can even get

762
00:28:53,850 --> 00:28:57,840
to<font color="#CCCCCC"> the interesting example and you know</font>

763
00:28:55,860 --> 00:29:00,139
that's that's indicative of you know

764
00:28:57,840 --> 00:29:02,370
some some pretty obscure mechanisms and

765
00:29:00,140 --> 00:29:03,900
you know people i think<font color="#CCCCCC"> that people</font>

766
00:29:02,370 --> 00:29:05,520
sometimes get these types of things

767
00:29:03,900 --> 00:29:07,500
wrong or maybe don't even need to know

768
00:29:05,520 --> 00:29:09,780
whether<font color="#CCCCCC"> or</font><font color="#E5E5E5"> not to look</font><font color="#CCCCCC"> for them because</font>

769
00:29:07,500 --> 00:29:13,080
the mechanisms maybe aren't the right

770
00:29:09,780 --> 00:29:15,270
things that we should<font color="#E5E5E5"> be using and I've</font>

771
00:29:13,080 --> 00:29:19,168
got it I've got a proposal<font color="#E5E5E5"> that you're</font>

772
00:29:15,270 --> 00:29:21,320
also welcome to see where I've proposed

773
00:29:19,169 --> 00:29:23,820
essentially an alternative to how to

774
00:29:21,320 --> 00:29:26,840
redistribute routes inside na s without

775
00:29:23,820 --> 00:29:29,549
using you know<font color="#CCCCCC"> I BGP route reflection</font>

776
00:29:26,840 --> 00:29:30,959
finally something that that I haven't

777
00:29:29,549 --> 00:29:33,210
<font color="#E5E5E5">really tackled yet but it's it's pretty</font>

778
00:29:30,960 --> 00:29:35,340
indicative of you know why a lot of

779
00:29:33,210 --> 00:29:36,720
these errors happen is that you know

780
00:29:35,340 --> 00:29:39,600
<font color="#CCCCCC">people want</font><font color="#E5E5E5"> to implement some high-level</font>

781
00:29:36,720 --> 00:29:41,280
policy like don't transit this you know

782
00:29:39,600 --> 00:29:43,469
don't transit between these two asses

783
00:29:41,280 --> 00:29:45,330
but the mechanisms that that<font color="#CCCCCC"> actually</font>

784
00:29:43,470 --> 00:29:48,120
people have to use to do that are

785
00:29:45,330 --> 00:29:49,770
extremely indirect right you know first

786
00:29:48,120 --> 00:29:51,000
you have to you know define your route

787
00:29:49,770 --> 00:29:52,590
map and then you need to define

788
00:29:51,000 --> 00:29:53,850
community lists and then you better make

789
00:29:52,590 --> 00:29:55,980
<font color="#CCCCCC">sure that</font><font color="#E5E5E5"> your import and export</font>

790
00:29:53,850 --> 00:29:57,959
policies are talking correctly so that

791
00:29:55,980 --> 00:30:00,950
I'm<font color="#E5E5E5"> matching the right community regular</font>

792
00:29:57,960 --> 00:30:03,210
expression on the community<font color="#E5E5E5"> that</font><font color="#CCCCCC"> I said</font>

793
00:30:00,950 --> 00:30:05,750
it's a lot of words and it's it's a it's

794
00:30:03,210 --> 00:30:07,679
a lot of a<font color="#E5E5E5"> lot</font><font color="#CCCCCC"> more configuration and</font>

795
00:30:05,750 --> 00:30:10,620
maybe we should think<font color="#CCCCCC"> about better ways</font>

796
00:30:07,679 --> 00:30:11,820
to do that so finally<font color="#CCCCCC"> I just want</font><font color="#E5E5E5"> to you</font>

797
00:30:10,620 --> 00:30:13,889
know briefly summarize what I've told

798
00:30:11,820 --> 00:30:15,570
you you talked a little bit about

799
00:30:13,890 --> 00:30:18,660
correctness definition I gave you a demo

800
00:30:15,570 --> 00:30:22,500
of the tool I hope you find it useful

801
00:30:18,660 --> 00:30:24,480
and<font color="#CCCCCC"> if you don't you should tell</font><font color="#E5E5E5"> me what</font>

802
00:30:22,500 --> 00:30:26,340
what the tool should have so that<font color="#E5E5E5"> it so</font>

803
00:30:24,480 --> 00:30:28,169
that it's more useful we've given you a

804
00:30:26,340 --> 00:30:31,290
<font color="#E5E5E5">little you</font><font color="#CCCCCC"> know quick highlight of</font>

805
00:30:28,169 --> 00:30:32,750
what's going on in the thing<font color="#E5E5E5"> in</font><font color="#CCCCCC"> the s's</font>

806
00:30:31,290 --> 00:30:34,678
that we've had<font color="#E5E5E5"> a chance to look at and</font>

807
00:30:32,750 --> 00:30:36,120
<font color="#E5E5E5">you know</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> gave you a little rants about</font>

808
00:30:34,679 --> 00:30:38,070
you know why I<font color="#E5E5E5"> think these things are</font>

809
00:30:36,120 --> 00:30:42,330
happening<font color="#CCCCCC"> I urge you to follow this link</font>

810
00:30:38,070 --> 00:30:46,168
for<font color="#CCCCCC"> a longer description of the tool and</font>

811
00:30:42,330 --> 00:30:49,199
<font color="#CCCCCC">the study it's</font><font color="#E5E5E5"> available please again</font>

812
00:30:46,169 --> 00:30:50,750
here's the<font color="#E5E5E5"> URL I owe a lot of thanks</font><font color="#CCCCCC"> to</font>

813
00:30:49,200 --> 00:30:53,190
many people who have helped me

814
00:30:50,750 --> 00:30:56,280
particular Randy's given me a lot of

815
00:30:53,190 --> 00:30:59,880
helpful suggestions and over

816
00:30:56,280 --> 00:31:02,520
and quite a few doors many people have

817
00:30:59,880 --> 00:31:04,920
contributed bug fixes as far as you know

818
00:31:02,520 --> 00:31:07,230
the cisco and juniper parsers you know

819
00:31:04,920 --> 00:31:21,810
requested features etc and<font color="#CCCCCC"> you should do</font>

820
00:31:07,230 --> 00:31:24,120
the<font color="#CCCCCC"> same so thank you very much you</font><font color="#E5E5E5"> are</font>

821
00:31:21,810 --> 00:31:26,700
<font color="#CCCCCC">running about 10 minutes late but</font><font color="#E5E5E5"> I'm</font>

822
00:31:24,120 --> 00:31:29,360
<font color="#E5E5E5">sure</font><font color="#CCCCCC"> Nikhil take questions encourage</font>

823
00:31:26,700 --> 00:31:33,000
give you places to pull down his code

824
00:31:29,360 --> 00:31:35,010
but we will take questions for about two

825
00:31:33,000 --> 00:31:36,990
or three<font color="#CCCCCC"> minutes if someone wants to</font>

826
00:31:35,010 --> 00:31:42,629
leap up instead of have lunch have a

827
00:31:36,990 --> 00:31:46,290
question will hold it here well that's

828
00:31:42,630 --> 00:31:47,730
subtle<font color="#E5E5E5"> okay please come up</font><font color="#CCCCCC"> and ask Nick</font>

829
00:31:46,290 --> 00:31:49,770
questions I've asked<font color="#CCCCCC"> him some there's</font>

830
00:31:47,730 --> 00:31:51,420
some really good work in here and<font color="#E5E5E5"> Susan</font>

831
00:31:49,770 --> 00:31:53,580
is one more announcement on an

832
00:31:51,420 --> 00:31:56,160
operational moment so in particular if

833
00:31:53,580 --> 00:31:58,620
I've left out you know if I<font color="#E5E5E5"> fail to</font>

834
00:31:56,160 --> 00:32:01,080
<font color="#CCCCCC">mention any checks that you know you you</font>

835
00:31:58,620 --> 00:32:02,669
know constantly you know things<font color="#CCCCCC"> that you</font>

836
00:32:01,080 --> 00:32:04,470
seem<font color="#CCCCCC"> to get wrong that you'd like to</font>

837
00:32:02,670 --> 00:32:06,480
have an automatic check for or you know

838
00:32:04,470 --> 00:32:08,250
other sort of properties that<font color="#CCCCCC"> i missed</font>

839
00:32:06,480 --> 00:32:11,600
I'd be very interested in hearing about

840
00:32:08,250 --> 00:32:11,600
that thanks Nick

