1
00:00:01,190 --> 00:00:09,030
okay his slides are up Matthew knock

2
00:00:05,130 --> 00:00:10,290
<font color="#CCCCCC">them</font><font color="#E5E5E5"> dead okay so today I'm going to</font>

3
00:00:09,030 --> 00:00:11,759
<font color="#E5E5E5">tell you</font><font color="#CCCCCC"> about some work we did in the</font>

4
00:00:10,290 --> 00:00:14,088
direction of performing root cause

5
00:00:11,759 --> 00:00:16,410
analysis of BGP routing dynamics and the

6
00:00:14,089 --> 00:00:19,470
<font color="#CCCCCC">basic idea</font><font color="#E5E5E5"> of what we're trying to do is</font>

7
00:00:16,410 --> 00:00:21,900
we passively observe routing updates and

8
00:00:19,470 --> 00:00:23,880
multiple vantage points and from<font color="#E5E5E5"> these</font>

9
00:00:21,900 --> 00:00:25,198
updates we try to infer information

10
00:00:23,880 --> 00:00:26,849
about the types of events that are

11
00:00:25,199 --> 00:00:29,130
occurring in particular we try to infer

12
00:00:26,849 --> 00:00:30,929
information about the location where and

13
00:00:29,130 --> 00:00:34,649
the<font color="#E5E5E5"> reason why these events are taking</font>

14
00:00:30,929 --> 00:00:36,239
place so to motivate this problem we

15
00:00:34,649 --> 00:00:38,160
note<font color="#CCCCCC"> that it's widely believed that</font>

16
00:00:36,239 --> 00:00:40,379
inter domain routing suffers from a wide

17
00:00:38,160 --> 00:00:42,660
variety of problems including<font color="#E5E5E5"> persistent</font>

18
00:00:40,379 --> 00:00:45,718
instability slow convergence after

19
00:00:42,660 --> 00:00:47,699
changes and misconfigurations the key

20
00:00:45,719 --> 00:00:49,320
difficulty with developing techniques to

21
00:00:47,700 --> 00:00:50,730
address these problems lies in the fact

22
00:00:49,320 --> 00:00:53,129
that we have poor visibility into the

23
00:00:50,730 --> 00:00:54,629
dynamics<font color="#CCCCCC"> of BGP that is we can observe a</font>

24
00:00:53,129 --> 00:00:57,329
large number of updates being received

25
00:00:54,629 --> 00:00:59,280
at an individual<font color="#CCCCCC"> BGP router but we don't</font>

26
00:00:57,329 --> 00:01:01,109
in<font color="#CCCCCC"> general</font><font color="#E5E5E5"> have a clear picture of why</font>

27
00:00:59,280 --> 00:01:03,000
these updates are being generated and

28
00:01:01,109 --> 00:01:04,949
where they're coming from in<font color="#E5E5E5"> particular</font>

29
00:01:03,000 --> 00:01:06,000
we'd like<font color="#CCCCCC"> to be able to answer</font><font color="#E5E5E5"> questions</font>

30
00:01:04,949 --> 00:01:08,189
such as what are the spectrum<font color="#E5E5E5"> of</font>

31
00:01:06,000 --> 00:01:09,810
possible<font color="#CCCCCC"> causes of route changes what</font>

32
00:01:08,189 --> 00:01:12,720
are the primary causes of instability

33
00:01:09,810 --> 00:01:14,939
and how does BGP respond to a routing

34
00:01:12,720 --> 00:01:16,890
change and again the key difficulty

35
00:01:14,939 --> 00:01:18,658
that's developing good techniques to

36
00:01:16,890 --> 00:01:20,939
address these problems is<font color="#E5E5E5"> that if</font><font color="#CCCCCC"> we</font>

37
00:01:18,659 --> 00:01:22,290
<font color="#CCCCCC">have an incomplete model of BGP and an</font>

38
00:01:20,939 --> 00:01:23,548
incomplete model of the workloads<font color="#CCCCCC"> it's</font>

39
00:01:22,290 --> 00:01:26,670
<font color="#CCCCCC">under we're</font><font color="#E5E5E5"> going to develop in complete</font>

40
00:01:23,549 --> 00:01:31,500
solutions to these problems so the

41
00:01:26,670 --> 00:01:35,340
<font color="#E5E5E5">approach that were oh thank you is this</font>

42
00:01:31,500 --> 00:01:37,560
better<font color="#CCCCCC"> Thanks so the approach that were</font>

43
00:01:35,340 --> 00:01:39,689
arguing for involves the design<font color="#CCCCCC"> of a BGP</font>

44
00:01:37,560 --> 00:01:41,520
health monitoring system we<font color="#CCCCCC"> envision</font>

45
00:01:39,689 --> 00:01:43,619
<font color="#CCCCCC">that autonomous systems will volunteer</font>

46
00:01:41,520 --> 00:01:45,600
to peer with the health monitor the

47
00:01:43,619 --> 00:01:47,520
health monitor can then collect routing

48
00:01:45,600 --> 00:01:49,919
updates from these different vantage

49
00:01:47,520 --> 00:01:52,350
points perform inference over them and

50
00:01:49,920 --> 00:01:53,909
then distribute the inferences back out

51
00:01:52,350 --> 00:01:56,969
to whoever's interested in receiving

52
00:01:53,909 --> 00:01:59,040
them the key advantage to using multiple

53
00:01:56,969 --> 00:02:00,689
views lies in the fact that we can

54
00:01:59,040 --> 00:02:03,600
achieve greater visibility into the

55
00:02:00,689 --> 00:02:04,648
events occurring in BGP so my focus in

56
00:02:03,600 --> 00:02:05,880
<font color="#E5E5E5">this talk is not going to be on the</font>

57
00:02:04,649 --> 00:02:07,350
complete<font color="#E5E5E5"> design of the health wonder</font>

58
00:02:05,880 --> 00:02:10,250
whether I'm going<font color="#E5E5E5"> to focus on one core</font>

59
00:02:07,350 --> 00:02:12,180
aspect which is how to do the inference

60
00:02:10,250 --> 00:02:14,940
so we<font color="#E5E5E5"> envision that there are several</font>

61
00:02:12,180 --> 00:02:16,739
possible uses for a health monitor first

62
00:02:14,940 --> 00:02:18,780
we think it might<font color="#CCCCCC"> be useful for network</font>

63
00:02:16,739 --> 00:02:20,580
operators as a tool<font color="#E5E5E5"> to assist in</font>

64
00:02:18,780 --> 00:02:24,000
troubleshooting and diagnosis of various

65
00:02:20,580 --> 00:02:25,830
events in addition<font color="#E5E5E5"> perhaps BGP policies</font>

66
00:02:24,000 --> 00:02:28,250
could<font color="#E5E5E5"> be set based on historical</font>

67
00:02:25,830 --> 00:02:30,599
statistics of link and<font color="#E5E5E5"> node stability</font>

68
00:02:28,250 --> 00:02:32,489
perhaps<font color="#E5E5E5"> this information</font><font color="#CCCCCC"> could be</font><font color="#E5E5E5"> used</font>

69
00:02:30,599 --> 00:02:35,220
in an online manner to assist in<font color="#E5E5E5"> path</font>

70
00:02:32,489 --> 00:02:36,480
selection and in addition perhaps

71
00:02:35,220 --> 00:02:38,940
customers could use this information

72
00:02:36,480 --> 00:02:43,260
when deciding<font color="#E5E5E5"> which upstream providers</font>

73
00:02:38,940 --> 00:02:45,359
to use and appear with so first before I

74
00:02:43,260 --> 00:02:48,149
define the problem let<font color="#E5E5E5"> me first define</font>

75
00:02:45,360 --> 00:02:50,550
some terminology I'm going<font color="#E5E5E5"> to define an</font>

76
00:02:48,150 --> 00:02:52,470
event to be some activity taking place

77
00:02:50,550 --> 00:02:54,870
at some location that generates one or

78
00:02:52,470 --> 00:02:57,209
more routing updates I'm going<font color="#E5E5E5"> to define</font>

79
00:02:54,870 --> 00:02:59,190
a suspect location set to be a set of

80
00:02:57,209 --> 00:03:01,470
possible locations where<font color="#CCCCCC"> the event</font><font color="#E5E5E5"> could</font>

81
00:02:59,190 --> 00:03:03,060
<font color="#E5E5E5">have occurred and similarly I'm going to</font>

82
00:03:01,470 --> 00:03:05,519
define a suspect cause set to be a set

83
00:03:03,060 --> 00:03:08,489
of possible reasons<font color="#E5E5E5"> why the event took</font>

84
00:03:05,519 --> 00:03:10,530
place then the problem<font color="#CCCCCC"> that we're trying</font>

85
00:03:08,489 --> 00:03:12,480
<font color="#E5E5E5">to address is given a set of routing</font>

86
00:03:10,530 --> 00:03:15,300
updates observed at multiple vantage

87
00:03:12,480 --> 00:03:16,738
points determine the suspect set which

88
00:03:15,300 --> 00:03:19,379
consists of the suspect cause and

89
00:03:16,739 --> 00:03:22,790
suspect location sets of routing events

90
00:03:19,379 --> 00:03:22,790
that trigger each one of these updates

91
00:03:23,180 --> 00:03:29,340
so when we started performing this study

92
00:03:26,879 --> 00:03:31,349
we<font color="#CCCCCC"> did some analysis and we</font><font color="#E5E5E5"> found that</font>

93
00:03:29,340 --> 00:03:33,049
the<font color="#CCCCCC"> update rate at a</font><font color="#E5E5E5"> BGP router could be</font>

94
00:03:31,349 --> 00:03:36,089
classified<font color="#CCCCCC"> into one of two categories</font>

95
00:03:33,049 --> 00:03:38,790
quiescent and turbulent periods during

96
00:03:36,090 --> 00:03:40,830
quiet periods we would receive fairly

97
00:03:38,790 --> 00:03:42,840
small numbers<font color="#CCCCCC"> of updates affecting small</font>

98
00:03:40,830 --> 00:03:44,670
numbers<font color="#CCCCCC"> of prefixes and these tended to</font>

99
00:03:42,840 --> 00:03:46,019
last for long periods of<font color="#E5E5E5"> time but</font>

100
00:03:44,670 --> 00:03:48,809
occasionally we would notice these very

101
00:03:46,019 --> 00:03:50,430
massive spikes we would receive a large

102
00:03:48,810 --> 00:03:52,560
number of updates affecting a large

103
00:03:50,430 --> 00:03:55,439
number of prefixes in a<font color="#E5E5E5"> short period of</font>

104
00:03:52,560 --> 00:03:56,970
time the first stage of our algorithm

105
00:03:55,439 --> 00:03:58,470
involves separating between these two

106
00:03:56,970 --> 00:03:59,790
periods of time<font color="#E5E5E5"> because the types of</font>

107
00:03:58,470 --> 00:04:01,019
events that<font color="#E5E5E5"> are taking place and hence</font>

108
00:03:59,790 --> 00:04:04,079
the types of assumptions you can make

109
00:04:01,019 --> 00:04:06,390
are fundamentally different during

110
00:04:04,080 --> 00:04:07,920
quiescent periods it's<font color="#E5E5E5"> likely that a</font>

111
00:04:06,390 --> 00:04:10,079
number of independent events are

112
00:04:07,920 --> 00:04:11,609
occurring in hints during these periods

113
00:04:10,080 --> 00:04:13,799
we make the relatively safe assumption

114
00:04:11,610 --> 00:04:15,870
that bursts of updates the individual

115
00:04:13,799 --> 00:04:18,060
prefixes are correlated that is are

116
00:04:15,870 --> 00:04:20,160
caused by the same event during

117
00:04:18,060 --> 00:04:21,600
turbulent periods it's highly unlikely

118
00:04:20,160 --> 00:04:23,350
<font color="#E5E5E5">that a large</font><font color="#CCCCCC"> number of independent</font>

119
00:04:21,600 --> 00:04:25,480
events simultaneously happen to

120
00:04:23,350 --> 00:04:28,030
so<font color="#E5E5E5"> hints during turbulent periods we</font>

121
00:04:25,480 --> 00:04:29,980
assume that one or a small number of

122
00:04:28,030 --> 00:04:33,010
<font color="#E5E5E5">very major events took place that caused</font>

123
00:04:29,980 --> 00:04:34,750
the majority of these updates and this

124
00:04:33,010 --> 00:04:36,460
is a more powerful assumption and it

125
00:04:34,750 --> 00:04:38,200
allows us<font color="#CCCCCC"> to do more precise inferences</font>

126
00:04:36,460 --> 00:04:40,359
we have a larger amount<font color="#E5E5E5"> of data a larger</font>

127
00:04:38,200 --> 00:04:42,909
<font color="#CCCCCC">number of updates to work with the</font>

128
00:04:40,360 --> 00:04:44,080
reason why we don't perform or we don't

129
00:04:42,910 --> 00:04:46,300
<font color="#E5E5E5">make this assumption during quiet</font>

130
00:04:44,080 --> 00:04:47,800
periods is because it's much more likely

131
00:04:46,300 --> 00:04:50,950
that independent events are occurring

132
00:04:47,800 --> 00:04:53,590
and if<font color="#E5E5E5"> we</font><font color="#CCCCCC"> assume that two correlated</font>

133
00:04:50,950 --> 00:04:54,760
observations are independent will harm

134
00:04:53,590 --> 00:04:56,440
precision but<font color="#E5E5E5"> we will not harm</font>

135
00:04:54,760 --> 00:04:57,880
correctness of our inferences whereas if

136
00:04:56,440 --> 00:04:59,560
<font color="#CCCCCC">we assume that two independent</font>

137
00:04:57,880 --> 00:05:00,820
observations are correlated into

138
00:04:59,560 --> 00:05:01,870
inference over both and we can harm

139
00:05:00,820 --> 00:05:05,290
correctness and that's particularly

140
00:05:01,870 --> 00:05:06,700
undesirable so again the first stage of

141
00:05:05,290 --> 00:05:08,520
our algorithm involves separating

142
00:05:06,700 --> 00:05:11,170
between quiescent and turbulent periods

143
00:05:08,520 --> 00:05:13,659
during quiet periods we did<font color="#E5E5E5"> some</font>

144
00:05:11,170 --> 00:05:16,480
analysis and we<font color="#E5E5E5"> found the update rate to</font>

145
00:05:13,660 --> 00:05:18,190
a prefix could be characterized<font color="#CCCCCC"> as long</font>

146
00:05:16,480 --> 00:05:20,710
silence periods where there would be no

147
00:05:18,190 --> 00:05:24,730
updates followed by bursts of activity

148
00:05:20,710 --> 00:05:26,950
followed<font color="#CCCCCC"> by more long silence periods so</font>

149
00:05:24,730 --> 00:05:29,290
during this phase of our algorithm we

150
00:05:26,950 --> 00:05:30,640
search<font color="#CCCCCC"> for these bursts and we assume</font>

151
00:05:29,290 --> 00:05:32,410
<font color="#CCCCCC">that each update in the burst is</font>

152
00:05:30,640 --> 00:05:33,880
correlated that is is caused by the same

153
00:05:32,410 --> 00:05:36,460
event and then we define a set of rules

154
00:05:33,880 --> 00:05:40,090
that map from the contents<font color="#E5E5E5"> of the burst</font>

155
00:05:36,460 --> 00:05:41,500
onto the suspect<font color="#CCCCCC"> said so</font><font color="#E5E5E5"> when performing</font>

156
00:05:40,090 --> 00:05:43,960
<font color="#E5E5E5">this analysis we found that there's a</font>

157
00:05:41,500 --> 00:05:45,460
number of prefixes that<font color="#CCCCCC"> are continually</font>

158
00:05:43,960 --> 00:05:47,020
updated over long periods of time and

159
00:05:45,460 --> 00:05:48,340
that never converge and we define a

160
00:05:47,020 --> 00:05:49,570
separate inference algorithm for dealing

161
00:05:48,340 --> 00:05:52,780
with<font color="#E5E5E5"> these that</font><font color="#CCCCCC"> I'm not</font><font color="#E5E5E5"> going to go into</font>

162
00:05:49,570 --> 00:05:55,680
detail today so we run this algorithm in

163
00:05:52,780 --> 00:06:00,340
isolation at each of the viewpoints and

164
00:05:55,680 --> 00:06:02,230
then we search for bursts of updates

165
00:06:00,340 --> 00:06:04,359
that happen at nearly the same point of

166
00:06:02,230 --> 00:06:06,820
time to<font color="#E5E5E5"> the same prefix across several</font>

167
00:06:04,360 --> 00:06:09,070
views so you can imagine<font color="#E5E5E5"> that if</font><font color="#CCCCCC"> ur</font><font color="#E5E5E5"> a</font>

168
00:06:06,820 --> 00:06:10,690
route or a prefix gets updated at nearly

169
00:06:09,070 --> 00:06:12,820
the same point in<font color="#E5E5E5"> time at more than one</font>

170
00:06:10,690 --> 00:06:14,260
view those updates are likely to be

171
00:06:12,820 --> 00:06:15,969
correlated and so this allows<font color="#CCCCCC"> us to</font>

172
00:06:14,260 --> 00:06:19,930
refine<font color="#E5E5E5"> our inferences across multiple</font>

173
00:06:15,970 --> 00:06:21,160
views during turbulent periods again we

174
00:06:19,930 --> 00:06:22,450
make the assumption that most of the

175
00:06:21,160 --> 00:06:25,360
updates are received are<font color="#E5E5E5"> caused by the</font>

176
00:06:22,450 --> 00:06:26,800
same event so here what we do is we

177
00:06:25,360 --> 00:06:29,200
search for commonalities across these

178
00:06:26,800 --> 00:06:30,820
updates in particular<font color="#CCCCCC"> we assume in</font>

179
00:06:29,200 --> 00:06:33,729
particular<font color="#CCCCCC"> research for autonomous</font>

180
00:06:30,820 --> 00:06:35,550
systems that occur in<font color="#E5E5E5"> a large portion</font>

181
00:06:33,729 --> 00:06:38,909
and a large<font color="#CCCCCC"> fraction of the</font><font color="#E5E5E5"> a s</font>

182
00:06:35,550 --> 00:06:40,200
that we observe and these assr suspect

183
00:06:38,910 --> 00:06:41,820
for having caused the event we define a

184
00:06:40,200 --> 00:06:43,140
set of rules for for<font color="#E5E5E5"> doing this more</font>

185
00:06:41,820 --> 00:06:47,040
formally and then we output those the

186
00:06:43,140 --> 00:06:48,780
suspect set so next I'm going to<font color="#E5E5E5"> go</font>

187
00:06:47,040 --> 00:06:50,970
through<font color="#E5E5E5"> several examples of our</font>

188
00:06:48,780 --> 00:06:52,799
inference rules and for the purpose of

189
00:06:50,970 --> 00:06:55,680
these<font color="#CCCCCC"> examples</font><font color="#E5E5E5"> I want you to assume two</font>

190
00:06:52,800 --> 00:06:58,170
things<font color="#E5E5E5"> first assume that community</font>

191
00:06:55,680 --> 00:07:00,300
attribute changes don't<font color="#E5E5E5"> occur and assume</font>

192
00:06:58,170 --> 00:07:02,010
that autonomous systems are single

193
00:07:00,300 --> 00:07:03,810
appeared we don't make these assumptions

194
00:07:02,010 --> 00:07:06,960
in our algorithm but<font color="#E5E5E5"> they they make the</font>

195
00:07:03,810 --> 00:07:09,000
examples easier to follow so this<font color="#CCCCCC"> is</font><font color="#E5E5E5"> the</font>

196
00:07:06,960 --> 00:07:12,570
first scenario suppose we have this a s

197
00:07:09,000 --> 00:07:13,710
level topology with a viewpoint at<font color="#E5E5E5"> V at</font>

198
00:07:12,570 --> 00:07:17,370
which we're observing routing updates

199
00:07:13,710 --> 00:07:19,049
and suppose C contains 1000d contains

200
00:07:17,370 --> 00:07:21,930
three thousand Andy contains two

201
00:07:19,050 --> 00:07:24,330
thousand prefixes so in the scenario

202
00:07:21,930 --> 00:07:25,830
suppose we observe<font color="#CCCCCC"> 1000</font><font color="#E5E5E5"> prefixes updated</font>

203
00:07:24,330 --> 00:07:28,440
within a short period of time that<font color="#CCCCCC"> used</font>

204
00:07:25,830 --> 00:07:30,210
the<font color="#E5E5E5"> link AC in this case we would say</font>

205
00:07:28,440 --> 00:07:33,719
that link AC a suspect for having

206
00:07:30,210 --> 00:07:36,000
undergone the event next scenario

207
00:07:33,720 --> 00:07:38,520
suppose we observe<font color="#CCCCCC"> 4,000 prefix is</font>

208
00:07:36,000 --> 00:07:42,110
updated that use link a B and of these

209
00:07:38,520 --> 00:07:45,000
roughly<font color="#CCCCCC"> 2000 use BD and 2000 use be e in</font>

210
00:07:42,110 --> 00:07:46,590
this case we would say that a<font color="#E5E5E5"> B is</font>

211
00:07:45,000 --> 00:07:49,470
suspect for having undergone the event

212
00:07:46,590 --> 00:07:51,060
event ve is not suspect because an event

213
00:07:49,470 --> 00:07:52,980
taking place on B II wouldn't have

214
00:07:51,060 --> 00:07:58,770
affected the other two thousand prefixes

215
00:07:52,980 --> 00:08:01,140
that traversed a be next suppose on the

216
00:07:58,770 --> 00:08:03,120
other hand we observed<font color="#E5E5E5"> 2,000 prefixes</font>

217
00:08:01,140 --> 00:08:05,280
updated that use a B and of these

218
00:08:03,120 --> 00:08:07,020
roughly<font color="#E5E5E5"> all of them use be e in</font><font color="#CCCCCC"> this</font>

219
00:08:05,280 --> 00:08:09,539
case we would say that ve a suspect

220
00:08:07,020 --> 00:08:10,890
again a B is not suspect because an

221
00:08:09,540 --> 00:08:12,870
event taking place on a B would have

222
00:08:10,890 --> 00:08:17,610
likely affected the<font color="#CCCCCC"> other three thousand</font>

223
00:08:12,870 --> 00:08:18,990
prefixes that your<font color="#CCCCCC"> verse a be so I'm</font>

224
00:08:17,610 --> 00:08:20,220
oversimplifying things somewhat there's

225
00:08:18,990 --> 00:08:21,750
a number<font color="#E5E5E5"> of issues that we had to</font>

226
00:08:20,220 --> 00:08:24,180
address to develop a more correct

227
00:08:21,750 --> 00:08:25,830
solution first the effects of

228
00:08:24,180 --> 00:08:27,270
simultaneously occurring independent

229
00:08:25,830 --> 00:08:29,400
events can be overshadowed by major

230
00:08:27,270 --> 00:08:30,630
events that is a<font color="#CCCCCC"> very major event takes</font>

231
00:08:29,400 --> 00:08:32,850
place that affects a large number of

232
00:08:30,630 --> 00:08:35,640
prefixes we might not<font color="#E5E5E5"> be</font><font color="#CCCCCC"> able</font><font color="#E5E5E5"> to detect</font>

233
00:08:32,850 --> 00:08:37,650
more minor events however<font color="#E5E5E5"> sometimes we</font>

234
00:08:35,640 --> 00:08:41,120
can use multiple<font color="#E5E5E5"> views to detect these</font>

235
00:08:37,650 --> 00:08:43,919
these independent events next

236
00:08:41,120 --> 00:08:46,920
occasionally<font color="#CCCCCC"> to large events may</font>

237
00:08:43,919 --> 00:08:48,150
simultaneously occur and this<font color="#E5E5E5"> is a</font>

238
00:08:46,920 --> 00:08:49,949
problem<font color="#CCCCCC"> because the rules</font>

239
00:08:48,150 --> 00:08:51,480
just defined only assume that<font color="#CCCCCC"> only a</font>

240
00:08:49,950 --> 00:08:53,640
single event<font color="#E5E5E5"> occurs at a time so we had</font>

241
00:08:51,480 --> 00:08:55,050
to develop<font color="#E5E5E5"> some additional techniques to</font>

242
00:08:53,640 --> 00:08:56,280
separate out the effects of these

243
00:08:55,050 --> 00:08:58,199
different events from each other and

244
00:08:56,280 --> 00:09:01,170
performing<font color="#E5E5E5"> over inference overreach and</font>

245
00:08:58,200 --> 00:09:02,670
isolation finally we need to be careful

246
00:09:01,170 --> 00:09:05,099
<font color="#CCCCCC">about when we transition between</font>

247
00:09:02,670 --> 00:09:06,060
turbulent and quiescent periods we

248
00:09:05,100 --> 00:09:08,220
<font color="#CCCCCC">solved this problem by</font><font color="#E5E5E5"> the use of</font>

249
00:09:06,060 --> 00:09:10,229
threshold aquestion remains where do we

250
00:09:08,220 --> 00:09:11,970
place the threshold how many prefixes

251
00:09:10,230 --> 00:09:14,880
need to be updated to signal the start

252
00:09:11,970 --> 00:09:16,830
of a turbulent event so we did some

253
00:09:14,880 --> 00:09:21,050
analysis and we<font color="#E5E5E5"> found that the update</font>

254
00:09:16,830 --> 00:09:22,890
<font color="#CCCCCC">rate to a</font><font color="#E5E5E5"> BGP router was multimodal and</font>

255
00:09:21,050 --> 00:09:27,510
therefore it makes sense to place the

256
00:09:22,890 --> 00:09:29,370
threshold between these two<font color="#E5E5E5"> modes so</font>

257
00:09:27,510 --> 00:09:32,100
here's an<font color="#CCCCCC"> example of how we do inference</font>

258
00:09:29,370 --> 00:09:34,260
during quiet periods of time suppose we

259
00:09:32,100 --> 00:09:36,510
have a viewpoint in s and we're

260
00:09:34,260 --> 00:09:39,450
observing routing updates to a single

261
00:09:36,510 --> 00:09:41,910
prefix contained in<font color="#CCCCCC"> D suppose over a</font>

262
00:09:39,450 --> 00:09:43,710
long period of time our path is previous

263
00:09:41,910 --> 00:09:45,270
path and then there's a flurry of

264
00:09:43,710 --> 00:09:48,810
activity in our<font color="#E5E5E5"> path</font><font color="#CCCCCC"> or e converges to</font>

265
00:09:45,270 --> 00:09:49,949
be final path so there's a number<font color="#CCCCCC"> of</font>

266
00:09:48,810 --> 00:09:51,900
events<font color="#E5E5E5"> that could have caused this</font>

267
00:09:49,950 --> 00:09:54,690
change<font color="#E5E5E5"> to occur for example maybe a link</font>

268
00:09:51,900 --> 00:09:56,550
failed in the blue<font color="#CCCCCC"> region or maybe an AS</font>

269
00:09:54,690 --> 00:09:59,160
<font color="#CCCCCC">in the yellow region advertised a lower</font>

270
00:09:56,550 --> 00:10:00,329
m.ed however there's a number<font color="#E5E5E5"> of events</font>

271
00:09:59,160 --> 00:10:02,130
<font color="#E5E5E5">that could not have caused this change</font>

272
00:10:00,330 --> 00:10:04,800
<font color="#E5E5E5">to occur for example a link failure and</font>

273
00:10:02,130 --> 00:10:07,590
the yellow region or na s in the blue

274
00:10:04,800 --> 00:10:09,240
region advertising a lower<font color="#E5E5E5"> m.ed so in</font>

275
00:10:07,590 --> 00:10:11,670
general<font color="#E5E5E5"> we can say that either some</font>

276
00:10:09,240 --> 00:10:13,490
event took place in the blue region that

277
00:10:11,670 --> 00:10:15,510
worsened<font color="#E5E5E5"> the properties of the path</font>

278
00:10:13,490 --> 00:10:17,250
<font color="#E5E5E5">according</font><font color="#CCCCCC"> to the</font><font color="#E5E5E5"> BGP path selection</font>

279
00:10:15,510 --> 00:10:19,020
process or some event took place in the

280
00:10:17,250 --> 00:10:22,530
yellow region that improve the

281
00:10:19,020 --> 00:10:24,090
properties of<font color="#E5E5E5"> the path so this set of</font>

282
00:10:22,530 --> 00:10:26,970
inference rules works in this fashion we

283
00:10:24,090 --> 00:10:28,380
<font color="#E5E5E5">define a set of equivalence classes that</font>

284
00:10:26,970 --> 00:10:30,330
contain events that produce similar

285
00:10:28,380 --> 00:10:31,950
officer observations at views for

286
00:10:30,330 --> 00:10:34,410
example improved<font color="#E5E5E5"> and worse than our two</font>

287
00:10:31,950 --> 00:10:36,570
equivalence classes we then define a set

288
00:10:34,410 --> 00:10:37,890
of rules that nap from the contents of

289
00:10:36,570 --> 00:10:40,740
the burst<font color="#E5E5E5"> of updates on to these</font>

290
00:10:37,890 --> 00:10:42,270
equivalence classes and then we can use

291
00:10:40,740 --> 00:10:45,540
these equivalence classes to narrow down

292
00:10:42,270 --> 00:10:48,350
on the set of<font color="#E5E5E5"> possible causes and set of</font>

293
00:10:45,540 --> 00:10:48,349
possible locations

294
00:10:49,570 --> 00:10:53,370
so<font color="#E5E5E5"> here's some additional rules for how</font>

295
00:10:51,520 --> 00:10:56,920
we can<font color="#CCCCCC"> perform inference across views</font>

296
00:10:53,370 --> 00:10:59,230
suppose we have two<font color="#E5E5E5"> views view one and</font>

297
00:10:56,920 --> 00:11:01,569
view 2 and they're observing bursts of

298
00:10:59,230 --> 00:11:05,020
updates to a prefix prefix contained in

299
00:11:01,570 --> 00:11:08,800
autonomous system d suppose in the upper

300
00:11:05,020 --> 00:11:10,770
case view<font color="#E5E5E5"> 1 and view to both observe a</font>

301
00:11:08,800 --> 00:11:14,709
burst of updates affecting that prefix

302
00:11:10,770 --> 00:11:17,710
then it's likely that that event did not

303
00:11:14,710 --> 00:11:19,150
occur in the yellow region if it had for

304
00:11:17,710 --> 00:11:21,580
example if it had occurred between v1

305
00:11:19,150 --> 00:11:23,470
and a then only the one would<font color="#E5E5E5"> have</font>

306
00:11:21,580 --> 00:11:26,860
observed the event in v2 would have not

307
00:11:23,470 --> 00:11:29,380
observed the open similarly assume that

308
00:11:26,860 --> 00:11:30,670
v1 observes the event and view 2 does

309
00:11:29,380 --> 00:11:33,970
not observe the event as in the lower

310
00:11:30,670 --> 00:11:35,560
diagram and suppose furthermore that

311
00:11:33,970 --> 00:11:36,820
<font color="#E5E5E5">view 2 has an advertised path to the</font>

312
00:11:35,560 --> 00:11:39,310
prefix<font color="#CCCCCC"> that remains advertised</font>

313
00:11:36,820 --> 00:11:40,630
throughout the event in this<font color="#E5E5E5"> case we</font>

314
00:11:39,310 --> 00:11:42,430
know that flap damping has not been

315
00:11:40,630 --> 00:11:43,689
activated at view<font color="#E5E5E5"> 2 and hence we can say</font>

316
00:11:42,430 --> 00:11:48,819
that<font color="#CCCCCC"> the</font><font color="#E5E5E5"> event did not occur in the</font>

317
00:11:43,690 --> 00:11:50,260
green region so again I'm

318
00:11:48,820 --> 00:11:52,450
oversimplifying things somewhat there's

319
00:11:50,260 --> 00:11:54,990
a number<font color="#CCCCCC"> of issues</font><font color="#E5E5E5"> we had to address so</font>

320
00:11:52,450 --> 00:11:57,070
again simultaneous events can occur and

321
00:11:54,990 --> 00:11:58,750
again the rules I just<font color="#E5E5E5"> defined assume</font>

322
00:11:57,070 --> 00:12:01,330
that<font color="#CCCCCC"> only is a single event</font><font color="#E5E5E5"> occurs at a</font>

323
00:11:58,750 --> 00:12:02,740
time so we did some analysis and we

324
00:12:01,330 --> 00:12:05,410
<font color="#E5E5E5">found that simultaneous events during</font>

325
00:12:02,740 --> 00:12:07,000
quiet periods are rare furthermore we

326
00:12:05,410 --> 00:12:09,730
can sometimes detect simultaneous events

327
00:12:07,000 --> 00:12:11,860
for example<font color="#CCCCCC"> if you observe a flap in one</font>

328
00:12:09,730 --> 00:12:13,780
view in a rear out in another or if you

329
00:12:11,860 --> 00:12:15,280
observe an advertisement in one view and

330
00:12:13,780 --> 00:12:17,319
at the same time withdrawal the same

331
00:12:15,280 --> 00:12:18,850
prefix in another view to<font color="#E5E5E5"> our knowledge</font>

332
00:12:17,320 --> 00:12:19,960
there's no single event that<font color="#E5E5E5"> could have</font>

333
00:12:18,850 --> 00:12:22,240
taken place that could have caused both

334
00:12:19,960 --> 00:12:24,100
these observations to be made so in

335
00:12:22,240 --> 00:12:25,540
practice when running our algorithm and

336
00:12:24,100 --> 00:12:28,060
we detect that simultaneous events

337
00:12:25,540 --> 00:12:29,969
occurred we turn off all rules that

338
00:12:28,060 --> 00:12:32,140
assume<font color="#CCCCCC"> that only a single</font><font color="#E5E5E5"> event occurred</font>

339
00:12:29,970 --> 00:12:33,900
next I had asked you to assume that

340
00:12:32,140 --> 00:12:36,370
community attribute changes<font color="#E5E5E5"> don't occur</font>

341
00:12:33,900 --> 00:12:38,319
these<font color="#E5E5E5"> changes are unique in the sense</font>

342
00:12:36,370 --> 00:12:39,790
that they can cause a routing change to

343
00:12:38,320 --> 00:12:42,820
take place several hops away from the

344
00:12:39,790 --> 00:12:44,530
ASI changes the attribute so what we had

345
00:12:42,820 --> 00:12:45,730
to do is we had to modify our rules to

346
00:12:44,530 --> 00:12:49,000
include every a s that could have

347
00:12:45,730 --> 00:12:50,860
changed a community attribute finally I

348
00:12:49,000 --> 00:12:52,510
asked you to assume<font color="#CCCCCC"> that guess is our</font>

349
00:12:50,860 --> 00:12:56,680
single appeared which is not a realistic

350
00:12:52,510 --> 00:12:57,880
assumption let me show you why this the

351
00:12:56,680 --> 00:12:59,800
issue of multiple appearing<font color="#CCCCCC"> Lakes can</font>

352
00:12:57,880 --> 00:13:01,840
complicate inference suppose we have

353
00:12:59,800 --> 00:13:03,370
this<font color="#E5E5E5"> these two network level topologies</font>

354
00:13:01,840 --> 00:13:08,260
which are identical from the

355
00:13:03,370 --> 00:13:10,330
level in<font color="#CCCCCC"> the case a if es one observes</font>

356
00:13:08,260 --> 00:13:12,069
an update to a prefix contained in a s5

357
00:13:10,330 --> 00:13:14,430
but as2 does not we would<font color="#E5E5E5"> know that the</font>

358
00:13:12,070 --> 00:13:17,770
event took place between a s1 and<font color="#CCCCCC"> as3</font>

359
00:13:14,430 --> 00:13:18,880
however in case<font color="#CCCCCC"> B we can no longer</font><font color="#E5E5E5"> make</font>

360
00:13:17,770 --> 00:13:20,470
such a claim because the event could

361
00:13:18,880 --> 00:13:23,740
have<font color="#E5E5E5"> also occurred between</font><font color="#CCCCCC"> a s3 and</font><font color="#E5E5E5"> s4</font>

362
00:13:20,470 --> 00:13:25,150
<font color="#E5E5E5">or a s4 and s5 so again we had to modify</font>

363
00:13:23,740 --> 00:13:29,560
our inference rules to take this into

364
00:13:25,150 --> 00:13:31,569
account so validation was a very tricky

365
00:13:29,560 --> 00:13:33,430
<font color="#E5E5E5">problem for us because ISPs are</font>

366
00:13:31,570 --> 00:13:35,710
understandably unable to provide us with

367
00:13:33,430 --> 00:13:37,060
<font color="#E5E5E5">the sorts of events that we need</font><font color="#CCCCCC"> to use</font>

368
00:13:35,710 --> 00:13:40,270
to validate our study due to the

369
00:13:37,060 --> 00:13:41,739
sensitive nature however<font color="#E5E5E5"> we came up with</font>

370
00:13:40,270 --> 00:13:43,990
a<font color="#CCCCCC"> list of three ways to validate our</font>

371
00:13:41,740 --> 00:13:45,760
approach although<font color="#CCCCCC"> we are unable to</font>

372
00:13:43,990 --> 00:13:47,529
precisely validate each one of our

373
00:13:45,760 --> 00:13:49,000
inferences we were able to<font color="#E5E5E5"> validate a</font>

374
00:13:47,529 --> 00:13:51,580
certain set of core rules that we used

375
00:13:49,000 --> 00:13:53,050
in our algorithm so first there are a

376
00:13:51,580 --> 00:13:55,240
number of well-known historical events

377
00:13:53,050 --> 00:13:57,729
that took place that<font color="#E5E5E5"> we can</font><font color="#CCCCCC"> use to</font>

378
00:13:55,240 --> 00:13:59,440
validate for example on<font color="#E5E5E5"> October 30,000</font>

379
00:13:57,730 --> 00:14:01,089
to you net underwent a major routing

380
00:13:59,440 --> 00:14:03,100
anomaly that broke a<font color="#E5E5E5"> lot of</font><font color="#CCCCCC"> ross</font>

381
00:14:01,089 --> 00:14:05,740
traversing unit so<font color="#E5E5E5"> we came up with a</font>

382
00:14:03,100 --> 00:14:07,089
<font color="#CCCCCC">list of six such major events and we</font>

383
00:14:05,740 --> 00:14:08,650
verified<font color="#CCCCCC"> that</font><font color="#E5E5E5"> our approach was able to</font>

384
00:14:07,089 --> 00:14:11,500
pinpoint the<font color="#E5E5E5"> cause in each of these six</font>

385
00:14:08,650 --> 00:14:13,660
events next<font color="#E5E5E5"> we looked at periods of time</font>

386
00:14:11,500 --> 00:14:15,760
when internet worms from propagating and

387
00:14:13,660 --> 00:14:18,130
we detected increased numbers of session

388
00:14:15,760 --> 00:14:19,689
resets during these periods and this

389
00:14:18,130 --> 00:14:21,520
<font color="#E5E5E5">makes sense because some people believe</font>

390
00:14:19,690 --> 00:14:22,720
that<font color="#CCCCCC"> internet worms cause increased</font>

391
00:14:21,520 --> 00:14:26,170
levels of congestion which can

392
00:14:22,720 --> 00:14:29,230
contribute to<font color="#E5E5E5"> bgp session resets then we</font>

393
00:14:26,170 --> 00:14:30,670
<font color="#E5E5E5">use</font><font color="#CCCCCC"> BGP beacons</font><font color="#E5E5E5"> to validate BGP beacons</font>

394
00:14:29,230 --> 00:14:32,230
are well-known prefixes that<font color="#CCCCCC"> are</font>

395
00:14:30,670 --> 00:14:36,310
advertised and withdrawn according to<font color="#CCCCCC"> a</font>

396
00:14:32,230 --> 00:14:37,690
well-known schedule we we verified<font color="#CCCCCC"> that</font>

397
00:14:36,310 --> 00:14:39,550
our approach<font color="#CCCCCC"> was able to correctly</font>

398
00:14:37,690 --> 00:14:41,640
detect each of the beacon events that we

399
00:14:39,550 --> 00:14:44,140
observed during a 1.5 year period

400
00:14:41,640 --> 00:14:47,020
finally we used observation that if a

401
00:14:44,140 --> 00:14:48,250
view inside of an<font color="#CCCCCC"> AS observes an update</font>

402
00:14:47,020 --> 00:14:50,410
to a prefix contained in that same

403
00:14:48,250 --> 00:14:53,140
autonomous system then we know the event

404
00:14:50,410 --> 00:14:55,000
<font color="#E5E5E5">are rose inside of that a s and we use</font>

405
00:14:53,140 --> 00:14:57,220
that observation by making inferences at

406
00:14:55,000 --> 00:14:58,540
other views and checking for conflicts

407
00:14:57,220 --> 00:14:59,890
with the inferences made at<font color="#CCCCCC"> that view</font>

408
00:14:58,540 --> 00:15:01,540
and we didn't find any<font color="#E5E5E5"> conflicts during</font>

409
00:14:59,890 --> 00:15:04,480
the 1.5 years over which we carried out

410
00:15:01,540 --> 00:15:07,510
that study so now<font color="#CCCCCC"> I'm</font><font color="#E5E5E5"> going to show</font><font color="#CCCCCC"> you</font>

411
00:15:04,480 --> 00:15:09,100
some results first we came up with a

412
00:15:07,510 --> 00:15:12,069
taxonomy<font color="#E5E5E5"> of different types of events</font>

413
00:15:09,100 --> 00:15:13,450
<font color="#E5E5E5">that could occur in BGP and we found the</font>

414
00:15:12,070 --> 00:15:14,790
number<font color="#E5E5E5"> of updates attributable to each</font>

415
00:15:13,450 --> 00:15:17,230
cause

416
00:15:14,790 --> 00:15:19,329
in<font color="#E5E5E5"> particular you'll notice</font><font color="#CCCCCC"> that</font>

417
00:15:17,230 --> 00:15:20,920
<font color="#E5E5E5">forty-five percent of events are caused</font>

418
00:15:19,330 --> 00:15:24,820
<font color="#E5E5E5">by turbulent events where a large number</font>

419
00:15:20,920 --> 00:15:26,650
of prefixes are updated so in terms of

420
00:15:24,820 --> 00:15:28,540
location we<font color="#E5E5E5"> found that seventy percent</font>

421
00:15:26,650 --> 00:15:30,730
of updates using our technique could be

422
00:15:28,540 --> 00:15:32,800
pinpointed to a single interest link and

423
00:15:30,730 --> 00:15:34,030
we can achieve more precise inference

424
00:15:32,800 --> 00:15:35,349
for<font color="#E5E5E5"> more major events so if there's a</font>

425
00:15:34,030 --> 00:15:37,660
<font color="#E5E5E5">very major event that affects a large</font>

426
00:15:35,350 --> 00:15:39,130
number of prefixes will receive a large

427
00:15:37,660 --> 00:15:43,390
number of updates and we can typically

428
00:15:39,130 --> 00:15:45,160
infer more precisely in addition<font color="#CCCCCC"> we</font>

429
00:15:43,390 --> 00:15:46,449
found that<font color="#E5E5E5"> a small number</font><font color="#CCCCCC"> of autonomous</font>

430
00:15:45,160 --> 00:15:47,620
systems and a small number<font color="#CCCCCC"> of links</font>

431
00:15:46,450 --> 00:15:50,200
appear to be causing<font color="#E5E5E5"> the majority of</font>

432
00:15:47,620 --> 00:15:52,660
updates that we observe and we came<font color="#E5E5E5"> up</font>

433
00:15:50,200 --> 00:15:56,050
with a list<font color="#E5E5E5"> of several previously</font>

434
00:15:52,660 --> 00:15:57,730
unknown major events and these<font color="#CCCCCC"> are our</font>

435
00:15:56,050 --> 00:16:01,569
detailed and a website<font color="#E5E5E5"> I'll mention in a</font>

436
00:15:57,730 --> 00:16:03,760
bit so for<font color="#CCCCCC"> future work</font><font color="#E5E5E5"> we're interested</font>

437
00:16:01,570 --> 00:16:05,620
<font color="#E5E5E5">in further investigating this class of</font>

438
00:16:03,760 --> 00:16:06,910
continuously flapping prefixes prefixes

439
00:16:05,620 --> 00:16:09,280
<font color="#CCCCCC">that are continuously updated over long</font>

440
00:16:06,910 --> 00:16:10,959
periods of<font color="#CCCCCC"> time we're curious whether</font>

441
00:16:09,280 --> 00:16:12,819
statistical inference techniques could

442
00:16:10,960 --> 00:16:15,490
be used to<font color="#E5E5E5"> improve precision of our</font>

443
00:16:12,820 --> 00:16:17,830
inferences we'd like to develop<font color="#CCCCCC"> a set of</font>

444
00:16:15,490 --> 00:16:19,840
guidelines for placement of views so to

445
00:16:17,830 --> 00:16:22,000
answer questions such as where to<font color="#E5E5E5"> best</font>

446
00:16:19,840 --> 00:16:24,520
place a view to<font color="#CCCCCC"> maximize visibility into</font>

447
00:16:22,000 --> 00:16:27,070
a set of links or a certain<font color="#E5E5E5"> type of</font>

448
00:16:24,520 --> 00:16:29,020
event we're<font color="#E5E5E5"> currently working towards</font>

449
00:16:27,070 --> 00:16:30,940
<font color="#E5E5E5">developing a set of alarms and triggers</font>

450
00:16:29,020 --> 00:16:33,400
to distinguish healthy behavior from

451
00:16:30,940 --> 00:16:36,250
<font color="#E5E5E5">unhealthy behavior and along these lines</font>

452
00:16:33,400 --> 00:16:38,610
we've developed an analysis that's

453
00:16:36,250 --> 00:16:41,980
running in real time on this website and

454
00:16:38,610 --> 00:16:43,600
the purpose of this analysis<font color="#E5E5E5"> is to</font>

455
00:16:41,980 --> 00:16:45,850
<font color="#E5E5E5">hopefully get some industry feedback</font>

456
00:16:43,600 --> 00:16:47,860
about the correctness of our<font color="#E5E5E5"> results so</font>

457
00:16:45,850 --> 00:16:49,300
if you work for<font color="#CCCCCC"> an ISP or if you know</font>

458
00:16:47,860 --> 00:16:51,370
somebody who works for an ISP that has

459
00:16:49,300 --> 00:16:52,990
any sort of<font color="#E5E5E5"> data that could be used</font><font color="#CCCCCC"> to</font>

460
00:16:51,370 --> 00:16:54,400
validate the results<font color="#E5E5E5"> that are on this</font>

461
00:16:52,990 --> 00:16:59,490
page we'd really<font color="#E5E5E5"> appreciate hearing from</font>

462
00:16:54,400 --> 00:16:59,490
you<font color="#CCCCCC"> and I guess I can take questions now</font>

463
00:16:59,550 --> 00:17:03,670
30 seconds

464
00:17:01,660 --> 00:17:10,750
as long as it takes for Christopher to

465
00:17:03,670 --> 00:17:13,629
get up any questions no<font color="#CCCCCC"> questions now</font>

466
00:17:10,750 --> 00:17:16,410
get him<font color="#E5E5E5"> get him at the break thank you</font>

467
00:17:13,630 --> 00:17:16,410
very much<font color="#CCCCCC"> thanks</font>

