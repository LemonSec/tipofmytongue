1
00:00:00,170 --> 00:00:04,319
this my name is tim Griffin I'm going<font color="#E5E5E5"> to</font>

2
00:00:03,030 --> 00:00:21,859
<font color="#E5E5E5">talk about</font><font color="#CCCCCC"> some work that I've been</font>

3
00:00:04,319 --> 00:00:24,900
doing at bell labs sounds good okay and

4
00:00:21,859 --> 00:00:28,680
I know this floor has seen a lot<font color="#CCCCCC"> of</font>

5
00:00:24,900 --> 00:00:31,769
talks on bgp I and under these aspects I

6
00:00:28,680 --> 00:01:09,020
think this<font color="#E5E5E5"> is</font><font color="#CCCCCC"> probably</font><font color="#E5E5E5"> the first part of</font>

7
00:00:31,769 --> 00:01:14,670
the metaphysics of<font color="#E5E5E5"> BGP how's that okay</font>

8
00:01:09,020 --> 00:01:18,539
here<font color="#E5E5E5"> we go okay so I want</font><font color="#CCCCCC"> to ask</font><font color="#E5E5E5"> what</font>

9
00:01:14,670 --> 00:01:19,710
problem is bgp solving and of course

10
00:01:18,540 --> 00:01:21,780
it's solving the interdomain routing

11
00:01:19,710 --> 00:01:23,189
problem but here's the way I mean it in

12
00:01:21,780 --> 00:01:25,080
here maybe I<font color="#CCCCCC"> should tell you why I</font>

13
00:01:23,189 --> 00:01:29,758
started thinking about this problem

14
00:01:25,080 --> 00:01:32,340
because i was writing some code on top

15
00:01:29,759 --> 00:01:35,430
of the are a tool set and I what I

16
00:01:32,340 --> 00:01:37,770
wanted to do<font color="#CCCCCC"> was pull in our psl</font>

17
00:01:35,430 --> 00:01:39,030
policies from from databases and then do

18
00:01:37,770 --> 00:01:41,610
<font color="#CCCCCC">some analysis sort of end-to-end</font>

19
00:01:39,030 --> 00:01:44,700
consistency analysis or check for

20
00:01:41,610 --> 00:01:46,200
certain kinds of routing anomalies and I

21
00:01:44,700 --> 00:01:49,409
was<font color="#E5E5E5"> having a hard time because I didn't</font>

22
00:01:46,200 --> 00:01:51,360
really<font color="#CCCCCC"> have a semantics for bgp you know</font>

23
00:01:49,409 --> 00:01:53,610
what I<font color="#CCCCCC"> mean I wanted</font><font color="#E5E5E5"> to one of them</font>

24
00:01:51,360 --> 00:01:55,259
first<font color="#E5E5E5"> of all simplify things a long one</font>

25
00:01:53,610 --> 00:01:58,140
one dimension I just wanted to<font color="#E5E5E5"> get rid</font>

26
00:01:55,259 --> 00:01:59,969
of that<font color="#E5E5E5"> whole notion of dynamics of BGP</font>

27
00:01:58,140 --> 00:02:02,610
so I can you think of this think of a

28
00:01:59,969 --> 00:02:04,979
<font color="#E5E5E5">collection of routing policies as some</font>

29
00:02:02,610 --> 00:02:07,829
some system of constraints that I wanted

30
00:02:04,979 --> 00:02:10,530
<font color="#E5E5E5">to solve okay and then then I want to</font>

31
00:02:07,829 --> 00:02:11,109
take<font color="#CCCCCC"> it to simplify it along another</font>

32
00:02:10,530 --> 00:02:12,370
dimension

33
00:02:11,110 --> 00:02:14,080
so they sort of get rid of<font color="#E5E5E5"> all of that</font>

34
00:02:12,370 --> 00:02:17,410
complexity of the interaction of

35
00:02:14,080 --> 00:02:21,940
policies along along a path of things

36
00:02:17,410 --> 00:02:26,170
like that so and I wanted<font color="#CCCCCC"> to use this in</font>

37
00:02:21,940 --> 00:02:28,900
in designing algorithms for heuristics

38
00:02:26,170 --> 00:02:31,570
really for analysis of our<font color="#CCCCCC"> psl policies</font>

39
00:02:28,900 --> 00:02:33,640
<font color="#E5E5E5">okay and it turned out that the we came</font>

40
00:02:31,570 --> 00:02:35,890
up with a simple<font color="#CCCCCC"> model and it was also</font>

41
00:02:33,640 --> 00:02:39,160
useful for other kinds of analysis of

42
00:02:35,890 --> 00:02:44,049
<font color="#E5E5E5">BGP that I'll talk about toward the</font><font color="#CCCCCC"> end</font>

43
00:02:39,160 --> 00:02:47,190
and also some design is useful in the

44
00:02:44,050 --> 00:02:50,080
design of some extensions an<font color="#E5E5E5"> analysis of</font>

45
00:02:47,190 --> 00:02:51,220
proposals for btp and<font color="#E5E5E5"> I'm not really</font>

46
00:02:50,080 --> 00:02:52,690
going<font color="#E5E5E5"> to talk about</font><font color="#CCCCCC"> some of that stuff</font>

47
00:02:51,220 --> 00:02:57,040
today because it's<font color="#CCCCCC"> kind of research IAM</font>

48
00:02:52,690 --> 00:02:58,650
what I hope to<font color="#E5E5E5"> talk about is what I hope</font>

49
00:02:57,040 --> 00:03:03,340
you get out<font color="#CCCCCC"> of this talk is some sort of</font>

50
00:02:58,650 --> 00:03:04,570
fun way of looking at<font color="#E5E5E5"> VG p and also some</font>

51
00:03:03,340 --> 00:03:07,290
framework that makes it<font color="#E5E5E5"> a little easier</font>

52
00:03:04,570 --> 00:03:11,410
<font color="#E5E5E5">to discuss certain kinds of routing</font>

53
00:03:07,290 --> 00:03:14,799
anomalies that can happen with bgp<font color="#CCCCCC"> okay</font>

54
00:03:11,410 --> 00:03:16,720
so what I want to do<font color="#E5E5E5"> is we all know that</font>

55
00:03:14,800 --> 00:03:19,480
there's this shortest path problem out

56
00:03:16,720 --> 00:03:23,019
there it's<font color="#E5E5E5"> very simple you can describe</font>

57
00:03:19,480 --> 00:03:25,000
<font color="#E5E5E5">it to anyone so any math geek for</font>

58
00:03:23,019 --> 00:03:25,930
example will understand this problem I

59
00:03:25,000 --> 00:03:28,209
don't have to know anything about

60
00:03:25,930 --> 00:03:30,400
<font color="#E5E5E5">networking it's a very simple problem we</font>

61
00:03:28,209 --> 00:03:32,709
have a graph some weights you want to

62
00:03:30,400 --> 00:03:36,340
find shortest paths in that<font color="#CCCCCC"> okay and so</font>

63
00:03:32,709 --> 00:03:39,310
that problem underlies these well-known

64
00:03:36,340 --> 00:03:40,680
protocols rip ospf and<font color="#E5E5E5"> is is and those</font>

65
00:03:39,310 --> 00:03:44,080
things are fairly complicated

66
00:03:40,680 --> 00:03:46,540
distributed algorithms for solving the

67
00:03:44,080 --> 00:03:51,489
shortest path problem okay so I want<font color="#CCCCCC"> to</font>

68
00:03:46,540 --> 00:03:54,000
find an<font color="#CCCCCC"> X a problem that is too bgp as</font>

69
00:03:51,489 --> 00:03:58,360
the shortest path problem is to these

70
00:03:54,000 --> 00:04:05,410
these I GPS<font color="#E5E5E5"> okay and I want it</font><font color="#CCCCCC"> to be as</font>

71
00:03:58,360 --> 00:04:11,170
simple<font color="#CCCCCC"> as</font><font color="#E5E5E5"> possible okay so for example I</font>

72
00:04:05,410 --> 00:04:13,720
want<font color="#E5E5E5"> it</font><font color="#CCCCCC"> to fit on two slides</font><font color="#E5E5E5"> okay so</font>

73
00:04:11,170 --> 00:04:16,510
here's what here's the problem that we

74
00:04:13,720 --> 00:04:19,168
came<font color="#E5E5E5"> up with here's a way of stating it</font>

75
00:04:16,510 --> 00:04:23,289
we call<font color="#E5E5E5"> it the stable paths problems and</font>

76
00:04:19,168 --> 00:04:25,039
again<font color="#E5E5E5"> you know forget about all of the</font>

77
00:04:23,289 --> 00:04:26,539
complexities let's say

78
00:04:25,040 --> 00:04:28,730
p in the<font color="#E5E5E5"> dynamics</font><font color="#CCCCCC"> i'm just going to give</font>

79
00:04:26,540 --> 00:04:30,770
you a<font color="#E5E5E5"> very simple graph problem and the</font>

80
00:04:28,730 --> 00:04:34,670
problem is you<font color="#CCCCCC"> have a graph with labeled</font>

81
00:04:30,770 --> 00:04:37,010
nodes and there's a special note labeled

82
00:04:34,670 --> 00:04:40,580
zero and everyone else all the other

83
00:04:37,010 --> 00:04:44,990
nodes have a collections of paths to

84
00:04:40,580 --> 00:04:48,200
that node 0 and<font color="#CCCCCC"> it's some</font><font color="#E5E5E5"> some sub every</font>

85
00:04:44,990 --> 00:04:50,300
node has some subset of all pop you know

86
00:04:48,200 --> 00:04:52,099
possible paths from that node to the 0

87
00:04:50,300 --> 00:04:54,350
node and these are called the permitted

88
00:04:52,100 --> 00:04:57,470
paths that node at that note so for

89
00:04:54,350 --> 00:05:03,200
example node 3 in<font color="#E5E5E5"> this diagram has just</font>

90
00:04:57,470 --> 00:05:06,380
one path 30 and<font color="#CCCCCC"> no 2 has two pounds to</font>

91
00:05:03,200 --> 00:05:08,960
the<font color="#E5E5E5"> origin okay and each one has a</font>

92
00:05:06,380 --> 00:05:10,520
ranking on those paths so and I've

93
00:05:08,960 --> 00:05:13,640
listed it so that they rank the highest

94
00:05:10,520 --> 00:05:17,000
rank path is on the top of<font color="#CCCCCC"> the list so</font>

95
00:05:13,640 --> 00:05:21,310
for example<font color="#CCCCCC"> no.2 likes the path to 10</font>

96
00:05:17,000 --> 00:05:25,610
more than it likes the path<font color="#E5E5E5"> to 0</font><font color="#CCCCCC"> okay</font>

97
00:05:21,310 --> 00:05:28,340
now that's it and<font color="#E5E5E5"> so you know if</font>

98
00:05:25,610 --> 00:05:31,370
intuitively the idea here is that<font color="#E5E5E5"> 0 is</font>

99
00:05:28,340 --> 00:05:34,190
some let's say<font color="#E5E5E5"> some is announcing an</font>

100
00:05:31,370 --> 00:05:38,170
address block and what we're looking at

101
00:05:34,190 --> 00:05:40,910
is is sort of the the Distilled policies

102
00:05:38,170 --> 00:05:44,060
how<font color="#E5E5E5"> everyone wants to get to that</font>

103
00:05:40,910 --> 00:05:47,510
address block<font color="#CCCCCC"> okay so</font><font color="#E5E5E5"> I'm only looking</font>

104
00:05:44,060 --> 00:05:49,040
at 11 address block at a time here and

105
00:05:47,510 --> 00:05:50,930
I'm<font color="#CCCCCC"> not going</font><font color="#E5E5E5"> to get into the</font>

106
00:05:49,040 --> 00:05:53,990
translation from let's say a set of our

107
00:05:50,930 --> 00:05:55,940
<font color="#CCCCCC">psl policies to an instance of the</font>

108
00:05:53,990 --> 00:05:58,970
stable<font color="#CCCCCC"> past</font><font color="#E5E5E5"> problem because it gets</font>

109
00:05:55,940 --> 00:06:01,880
really messy especially when you're

110
00:05:58,970 --> 00:06:03,620
dealing with<font color="#E5E5E5"> ibgp for example so</font>

111
00:06:01,880 --> 00:06:05,240
intuitively we can think<font color="#E5E5E5"> of just</font><font color="#CCCCCC"> as a</font>

112
00:06:03,620 --> 00:06:08,450
first cut that each node here represents

113
00:06:05,240 --> 00:06:10,100
an Aes<font color="#CCCCCC"> okay and it's a</font><font color="#E5E5E5"> little bit</font>

114
00:06:08,450 --> 00:06:12,310
simpler than thinking about<font color="#E5E5E5"> it that way</font>

115
00:06:10,100 --> 00:06:15,590
<font color="#E5E5E5">because these paths represent a s has</font>

116
00:06:12,310 --> 00:06:17,090
fine but in<font color="#CCCCCC"> general when you have when</font>

117
00:06:15,590 --> 00:06:19,400
<font color="#E5E5E5">you deal with ibgp you're actually</font>

118
00:06:17,090 --> 00:06:21,020
dealing the paths actually our<font color="#E5E5E5"> paths</font>

119
00:06:19,400 --> 00:06:24,229
between routers and these nodes

120
00:06:21,020 --> 00:06:26,210
represent represent routers<font color="#E5E5E5"> okay well</font>

121
00:06:24,230 --> 00:06:27,770
I'm not going<font color="#E5E5E5"> to get into the messiness</font>

122
00:06:26,210 --> 00:06:29,210
of the translation<font color="#E5E5E5"> okay everybody</font>

123
00:06:27,770 --> 00:06:32,630
understand what an instance of the

124
00:06:29,210 --> 00:06:35,599
problem is okay now<font color="#E5E5E5"> I want to tell you</font>

125
00:06:32,630 --> 00:06:36,889
what a solution is<font color="#CCCCCC"> okay so solution well</font>

126
00:06:35,600 --> 00:06:38,659
how do I solve

127
00:06:36,889 --> 00:06:44,389
<font color="#E5E5E5">pass problem what I do is I come up with</font>

128
00:06:38,659 --> 00:06:47,449
<font color="#CCCCCC">an assignment of paths to nodes</font><font color="#E5E5E5"> okay so</font>

129
00:06:44,389 --> 00:06:49,009
the two<font color="#CCCCCC"> things are true I don't don't</font>

130
00:06:47,449 --> 00:06:52,430
try<font color="#E5E5E5"> to read that stuff I'll just tell</font>

131
00:06:49,009 --> 00:06:54,319
<font color="#CCCCCC">you what it means one thing is it's a</font>

132
00:06:52,430 --> 00:06:56,120
consistent assignment and that is it's a

133
00:06:54,319 --> 00:06:58,759
treat you know that the assignment<font color="#E5E5E5"> of</font>

134
00:06:56,120 --> 00:07:01,009
paths induces a tree rooted at<font color="#E5E5E5"> zero</font><font color="#CCCCCC"> okay</font>

135
00:06:58,759 --> 00:07:04,189
and the other thing<font color="#E5E5E5"> is that it's stable</font>

136
00:07:01,009 --> 00:07:05,960
every path every node is stable in<font color="#CCCCCC"> the</font>

137
00:07:04,189 --> 00:07:08,169
following sense is that it couldn't it

138
00:07:05,960 --> 00:07:10,219
has of all the paths going through its

139
00:07:08,169 --> 00:07:12,258
neighbors that are consistent with their

140
00:07:10,219 --> 00:07:17,599
assignment it has<font color="#CCCCCC"> the highest</font><font color="#E5E5E5"> ranked</font>

141
00:07:12,259 --> 00:07:21,310
path possible<font color="#E5E5E5"> okay so let's look at this</font>

142
00:07:17,599 --> 00:07:23,688
the underlined the red paths here

143
00:07:21,310 --> 00:07:31,219
represents a solution to this particular

144
00:07:23,689 --> 00:07:34,520
stable path problem and for example<font color="#E5E5E5"> 2 is</font>

145
00:07:31,219 --> 00:07:36,860
not<font color="#E5E5E5"> terribly happy it has this path that</font>

146
00:07:34,520 --> 00:07:39,229
it doesn't like as<font color="#E5E5E5"> much as to 10 but it</font>

147
00:07:36,860 --> 00:07:41,409
can't have to 10<font color="#E5E5E5"> because that's not</font>

148
00:07:39,229 --> 00:07:47,120
consistent<font color="#E5E5E5"> with what is assigned at one</font>

149
00:07:41,409 --> 00:07:50,509
<font color="#E5E5E5">okay for for example couldn't be</font>

150
00:07:47,120 --> 00:07:53,870
assigned for 30 because of a stability

151
00:07:50,509 --> 00:07:56,330
condition because it can it can adopt

152
00:07:53,870 --> 00:07:59,000
the path given the assignment that's at

153
00:07:56,330 --> 00:08:00,889
<font color="#CCCCCC">2 it can adopt the path for 20 which is</font>

154
00:07:59,000 --> 00:08:04,669
better than<font color="#CCCCCC"> 4 30 so it's going</font><font color="#E5E5E5"> to take</font>

155
00:08:00,889 --> 00:08:06,589
<font color="#CCCCCC">that path</font><font color="#E5E5E5"> okay so it has to have that</font>

156
00:08:04,669 --> 00:08:10,370
path and a stable assignment given what

157
00:08:06,589 --> 00:08:14,000
given what is<font color="#E5E5E5"> assigned that too in this</font>

158
00:08:10,370 --> 00:08:15,710
case okay so is that clear and also we

159
00:08:14,000 --> 00:08:19,879
<font color="#CCCCCC">can we can have a node like five here</font>

160
00:08:15,710 --> 00:08:21,878
that doesn't get anything so in<font color="#E5E5E5"> general</font>

161
00:08:19,879 --> 00:08:23,899
with stable<font color="#E5E5E5"> path problem is not a</font>

162
00:08:21,879 --> 00:08:29,120
spanning tree and it's also not a

163
00:08:23,899 --> 00:08:30,649
shortest path tree in general okay so

164
00:08:29,120 --> 00:08:33,709
let's just look at another example real

165
00:08:30,649 --> 00:08:35,390
quick<font color="#CCCCCC"> just a first</font><font color="#E5E5E5"> of all this</font>

166
00:08:33,708 --> 00:08:38,390
illustrates that there can be multiple

167
00:08:35,390 --> 00:08:42,319
solutions to a stable path come here i

168
00:08:38,390 --> 00:08:43,390
have a problem where yet one prefers to

169
00:08:42,320 --> 00:08:45,970
go through<font color="#E5E5E5"> to win</font>

170
00:08:43,390 --> 00:08:47,740
prefers to go through one I call it

171
00:08:45,970 --> 00:08:50,620
disagree because there are two solutions

172
00:08:47,740 --> 00:08:52,540
here illustrated and somebody always

173
00:08:50,620 --> 00:08:57,010
loses somebody always has to take their

174
00:08:52,540 --> 00:08:59,110
their the path they prefer less<font color="#E5E5E5"> okay and</font>

175
00:08:57,010 --> 00:09:02,200
in this case<font color="#CCCCCC"> just to illustrate what if</font>

176
00:08:59,110 --> 00:09:04,690
it was<font color="#E5E5E5"> stability is if you assign a 10</font>

177
00:09:02,200 --> 00:09:06,760
<font color="#E5E5E5">and 20 you know the direct path to each</font>

178
00:09:04,690 --> 00:09:09,610
node well then that's not<font color="#CCCCCC"> a stable</font>

179
00:09:06,760 --> 00:09:11,830
assignment because each each of those

180
00:09:09,610 --> 00:09:17,620
nodes can do better by going through its

181
00:09:11,830 --> 00:09:19,690
its neighbor okay so I want<font color="#CCCCCC"> to</font>

182
00:09:17,620 --> 00:09:22,240
illustrate in the net you know these

183
00:09:19,690 --> 00:09:24,790
things start aren't directly if you look

184
00:09:22,240 --> 00:09:26,680
at this it sort of looks like well one

185
00:09:24,790 --> 00:09:30,250
and two or maybe doing something strange

186
00:09:26,680 --> 00:09:32,890
right and that could be<font color="#E5E5E5"> the case but</font>

187
00:09:30,250 --> 00:09:35,830
let's look at how our<font color="#CCCCCC"> psl might map down</font>

188
00:09:32,890 --> 00:09:39,340
to this i'm going<font color="#CCCCCC"> to show you three sets</font>

189
00:09:35,830 --> 00:09:41,680
of our<font color="#CCCCCC"> psl policies that that the actual</font>

190
00:09:39,340 --> 00:09:44,470
<font color="#E5E5E5">are via of</font><font color="#CCCCCC"> BGP policies have mapped down</font>

191
00:09:41,680 --> 00:09:46,150
to the same stable paths problem they

192
00:09:44,470 --> 00:09:47,710
all map down to that problem disagree

193
00:09:46,150 --> 00:09:49,660
and the first one is sort of a direct

194
00:09:47,710 --> 00:09:53,110
<font color="#E5E5E5">encoding of what you see at those nodes</font>

195
00:09:49,660 --> 00:09:56,469
is that is one just prefers anything it

196
00:09:53,110 --> 00:09:58,660
sees announced term<font color="#CCCCCC"> to so it sets a</font>

197
00:09:56,470 --> 00:10:04,840
higher local preference which happens to

198
00:09:58,660 --> 00:10:07,959
be<font color="#CCCCCC"> in our psl or lower pref so</font><font color="#E5E5E5"> okay it's</font>

199
00:10:04,840 --> 00:10:09,280
<font color="#E5E5E5">just sort of a direct encoding</font><font color="#CCCCCC"> I'm</font><font color="#E5E5E5"> just</font>

200
00:10:07,960 --> 00:10:12,730
<font color="#E5E5E5">going to use a little preference to do</font>

201
00:10:09,280 --> 00:10:15,910
<font color="#E5E5E5">that another encoding is very</font><font color="#CCCCCC"> different</font>

202
00:10:12,730 --> 00:10:18,780
one says<font color="#CCCCCC"> okay if you send me</font><font color="#E5E5E5"> a certain</font>

203
00:10:15,910 --> 00:10:23,319
<font color="#E5E5E5">community value I'll prefer it more and</font>

204
00:10:18,780 --> 00:10:25,900
that's community 1 1 and a 2 says well

205
00:10:23,320 --> 00:10:28,450
if you send me community 21 I'll prefer

206
00:10:25,900 --> 00:10:31,650
the route more and what strange here is

207
00:10:28,450 --> 00:10:34,060
that the 0 the origin is sending out

208
00:10:31,650 --> 00:10:35,500
announcements and it's sending<font color="#E5E5E5"> up to</font>

209
00:10:34,060 --> 00:10:39,270
when it sends an announcement at<font color="#E5E5E5"> the one</font>

210
00:10:35,500 --> 00:10:41,590
it's attaching the community for to

211
00:10:39,270 --> 00:10:43,689
choose preference and one sends up the

212
00:10:41,590 --> 00:10:45,490
announcement<font color="#CCCCCC"> that to the two it set it</font>

213
00:10:43,690 --> 00:10:48,100
attaches the community for one's

214
00:10:45,490 --> 00:10:51,640
preference and<font color="#E5E5E5"> so that ends up inducing</font>

215
00:10:48,100 --> 00:10:54,340
those those preferences that you see in

216
00:10:51,640 --> 00:10:54,880
the<font color="#E5E5E5"> stated path problem at one and two</font>

217
00:10:54,340 --> 00:10:57,550
<font color="#E5E5E5">but it's</font>

218
00:10:54,880 --> 00:11:00,400
really<font color="#E5E5E5"> there it's not one in twos policy</font>

219
00:10:57,550 --> 00:11:02,920
exactly it's<font color="#E5E5E5"> the interaction of the</font>

220
00:11:00,400 --> 00:11:05,199
announcements from one and the sort<font color="#E5E5E5"> of</font>

221
00:11:02,920 --> 00:11:08,920
generic policies that wanted<font color="#CCCCCC"> to</font><font color="#E5E5E5"> okay and</font>

222
00:11:05,200 --> 00:11:13,230
<font color="#E5E5E5">finally it was sort of a combination 10</font>

223
00:11:08,920 --> 00:11:16,240
pads out on the 01 link so that one

224
00:11:13,230 --> 00:11:18,580
likes things coming from<font color="#CCCCCC"> too and that</font>

225
00:11:16,240 --> 00:11:22,510
too has a has local preference set so

226
00:11:18,580 --> 00:11:24,070
that it prefers things from one<font color="#CCCCCC"> okay now</font>

227
00:11:22,510 --> 00:11:26,620
you could sort of<font color="#E5E5E5"> get a sense here why</font>

228
00:11:24,070 --> 00:11:29,680
you<font color="#CCCCCC"> know this this kind of model helped</font>

229
00:11:26,620 --> 00:11:31,630
in writing some code to do static

230
00:11:29,680 --> 00:11:34,089
analysis of policies because you can you

231
00:11:31,630 --> 00:11:36,730
can sort of boil down all of that in a

232
00:11:34,090 --> 00:11:38,680
complexity of interaction down to kind

233
00:11:36,730 --> 00:11:41,650
of<font color="#E5E5E5"> a very simple canonical form and then</font>

234
00:11:38,680 --> 00:11:46,510
do<font color="#CCCCCC"> some analysis there okay so that's</font>

235
00:11:41,650 --> 00:11:50,949
what's going on<font color="#E5E5E5"> here</font><font color="#CCCCCC"> okay so let's look</font>

236
00:11:46,510 --> 00:11:52,660
at how just this fact that there can be

237
00:11:50,950 --> 00:11:55,870
multiple solutions to a stable path

238
00:11:52,660 --> 00:11:58,689
problem how that can explain or model a

239
00:11:55,870 --> 00:12:00,730
sort of very common routing anomaly and

240
00:11:58,690 --> 00:12:02,650
I i'm<font color="#CCCCCC"> calling it without triggering here</font>

241
00:12:00,730 --> 00:12:04,480
<font color="#E5E5E5">i'm not sure if that's a well-known term</font>

242
00:12:02,650 --> 00:12:07,300
i got it from<font color="#CCCCCC"> alec your dev but it</font>

243
00:12:04,480 --> 00:12:09,190
basically means you you have a primary

244
00:12:07,300 --> 00:12:11,310
link in a backup link and you don't want

245
00:12:09,190 --> 00:12:15,430
any traffic going over your backup link

246
00:12:11,310 --> 00:12:17,890
fine you know and so your primary goes

247
00:12:15,430 --> 00:12:20,589
down all the traffic the switches to the

248
00:12:17,890 --> 00:12:24,760
<font color="#E5E5E5">backup link and then what happens is</font>

249
00:12:20,590 --> 00:12:27,190
your primary comes back up and you still

250
00:12:24,760 --> 00:12:29,980
<font color="#E5E5E5">got traffic on your backup link what</font>

251
00:12:27,190 --> 00:12:32,380
happens<font color="#E5E5E5"> okay so here's a really</font>

252
00:12:29,980 --> 00:12:34,720
simplistic model where we're looking at

253
00:12:32,380 --> 00:12:37,120
you look at node 0 that all the traffic

254
00:12:34,720 --> 00:12:40,090
is coming in on<font color="#CCCCCC"> the primary</font><font color="#E5E5E5"> link and</font>

255
00:12:37,120 --> 00:12:42,280
then that relate<font color="#E5E5E5"> goes down and we have</font>

256
00:12:40,090 --> 00:12:44,650
another<font color="#E5E5E5"> solution to the simpler problem</font>

257
00:12:42,280 --> 00:12:46,480
and now you can imagine<font color="#E5E5E5"> link comes out</font>

258
00:12:44,650 --> 00:12:50,560
but pay its there's nothing<font color="#CCCCCC"> to prevent</font>

259
00:12:46,480 --> 00:12:53,680
it from adopting a different solution to

260
00:12:50,560 --> 00:12:56,680
the stable path problem<font color="#E5E5E5"> okay and there</font>

261
00:12:53,680 --> 00:13:02,500
we see that both 3 and 1 have routes

262
00:12:56,680 --> 00:13:04,780
directly to<font color="#E5E5E5"> 0 ok now</font><font color="#CCCCCC"> I've sort of you</font>

263
00:13:02,500 --> 00:13:07,720
know I've gone this<font color="#E5E5E5"> far without really</font>

264
00:13:04,780 --> 00:13:11,110
talking<font color="#CCCCCC"> about dynamic semantics at all</font>

265
00:13:07,720 --> 00:13:12,760
<font color="#CCCCCC">okay so we can sort of imagine a simple</font>

266
00:13:11,110 --> 00:13:15,880
protocol for the stable path problem

267
00:13:12,760 --> 00:13:18,069
where every node is just listening to

268
00:13:15,880 --> 00:13:19,720
<font color="#E5E5E5">announcements from its neighbors about</font>

269
00:13:18,070 --> 00:13:21,850
what path they<font color="#E5E5E5"> have and then making</font>

270
00:13:19,720 --> 00:13:24,970
their decisions based on what's<font color="#CCCCCC"> what's</font>

271
00:13:21,850 --> 00:13:28,920
the<font color="#E5E5E5"> best possible path is right so it</font>

272
00:13:24,970 --> 00:13:32,050
<font color="#E5E5E5">really simple simplified version of BGP</font>

273
00:13:28,920 --> 00:13:34,719
<font color="#CCCCCC">okay so if we think</font><font color="#E5E5E5"> about that protocol</font>

274
00:13:32,050 --> 00:13:36,729
well well you know the end<font color="#E5E5E5"> what happens</font>

275
00:13:34,720 --> 00:13:39,850
if there's no solution to the stable

276
00:13:36,730 --> 00:13:43,480
path problem I can turns out the finest

277
00:13:39,850 --> 00:13:46,120
table pass problem has no solution<font color="#E5E5E5"> okay</font>

278
00:13:43,480 --> 00:13:48,970
so remember what i mean by solution it's

279
00:13:46,120 --> 00:13:51,040
every somebody everybody's happy not

280
00:13:48,970 --> 00:13:54,070
necessarily happy there<font color="#CCCCCC"> their content</font>

281
00:13:51,040 --> 00:13:55,810
they can't get any<font color="#CCCCCC"> better given what</font>

282
00:13:54,070 --> 00:13:57,820
their neighbors have so if there's no

283
00:13:55,810 --> 00:14:00,520
solution and all like if every node all

284
00:13:57,820 --> 00:14:02,020
they see is is their neighbors well then

285
00:14:00,520 --> 00:14:04,600
somebody is always going to<font color="#E5E5E5"> think they</font>

286
00:14:02,020 --> 00:14:08,020
<font color="#CCCCCC">can get better somebody's</font><font color="#E5E5E5"> always going</font>

287
00:14:04,600 --> 00:14:11,140
to be changing their their path and that

288
00:14:08,020 --> 00:14:12,880
the protocol can't converge right if it

289
00:14:11,140 --> 00:14:15,490
converged we'd have a solution but

290
00:14:12,880 --> 00:14:19,630
<font color="#E5E5E5">there's no solution so</font><font color="#CCCCCC"> it turns out that</font>

291
00:14:15,490 --> 00:14:24,780
that<font color="#E5E5E5"> this is sort</font><font color="#CCCCCC"> of a</font><font color="#E5E5E5"> simple model of</font>

292
00:14:19,630 --> 00:14:28,960
how how bgp can diverge and this is a

293
00:14:24,780 --> 00:14:30,209
this this<font color="#CCCCCC"> observation was made in 96 how</font>

294
00:14:28,960 --> 00:14:33,940
many people are familiar with this

295
00:14:30,210 --> 00:14:39,430
possibility the basic<font color="#E5E5E5"> idea is that yeah</font>

296
00:14:33,940 --> 00:14:41,050
there's no guarantee that the the<font color="#CCCCCC"> bgp</font>

297
00:14:39,430 --> 00:14:43,329
routing policies of a<font color="#E5E5E5"> collection of</font>

298
00:14:41,050 --> 00:14:44,890
autonomous systems is consistent in any

299
00:14:43,330 --> 00:14:48,010
sense that there is a solution that

300
00:14:44,890 --> 00:14:51,310
there is some static routing right so

301
00:14:48,010 --> 00:14:54,310
bgp can actually diverge just exchange

302
00:14:51,310 --> 00:14:56,260
routing messages forever<font color="#E5E5E5"> okay so that at</font>

303
00:14:54,310 --> 00:14:58,630
<font color="#E5E5E5">the bottom picture is just sort of the</font>

304
00:14:56,260 --> 00:15:00,880
state of stable past problem where

305
00:14:58,630 --> 00:15:02,770
you're looking<font color="#E5E5E5"> at that and it just says</font>

306
00:15:00,880 --> 00:15:05,710
yeah if there's no solution at all well

307
00:15:02,770 --> 00:15:07,060
you have to diverge but it turns out

308
00:15:05,710 --> 00:15:10,300
those cases where there is a solution

309
00:15:07,060 --> 00:15:15,219
and you've<font color="#CCCCCC"> hand over diverge also and</font>

310
00:15:10,300 --> 00:15:17,229
I'll give an example<font color="#E5E5E5"> of that okay okay</font>

311
00:15:15,220 --> 00:15:18,080
so here's here's a system that has<font color="#E5E5E5"> no</font>

312
00:15:17,230 --> 00:15:22,010
solution

313
00:15:18,080 --> 00:15:26,180
it's called bad gadget and basically the

314
00:15:22,010 --> 00:15:29,990
idea is that everybody prefers a one or

315
00:15:26,180 --> 00:15:33,380
two hop a two-hot counterclockwise path

316
00:15:29,990 --> 00:15:36,230
to the origin<font color="#E5E5E5"> okay it's fairly simple</font><font color="#CCCCCC"> to</font>

317
00:15:33,380 --> 00:15:38,600
see that there<font color="#CCCCCC"> is no there</font><font color="#E5E5E5"> is no stable</font>

318
00:15:36,230 --> 00:15:42,620
assignment for example if one took that

319
00:15:38,600 --> 00:15:44,210
direct path in 20 well then because if

320
00:15:42,620 --> 00:15:47,620
we're assuming the assignment is stable

321
00:15:44,210 --> 00:15:51,380
that<font color="#E5E5E5"> implies that too has to take 210</font>

322
00:15:47,620 --> 00:15:53,450
<font color="#E5E5E5">okay and that implies that well for</font>

323
00:15:51,380 --> 00:15:55,910
can't take 420 so that implies that

324
00:15:53,450 --> 00:15:58,130
three is taking 30 but if three is

325
00:15:55,910 --> 00:16:01,010
taking 30 well if it's a stable

326
00:15:58,130 --> 00:16:02,750
assignment then one can't be taking 10

327
00:16:01,010 --> 00:16:04,730
it has to be taking 130 because that's

328
00:16:02,750 --> 00:16:07,310
the best it can do given the assignment

329
00:16:04,730 --> 00:16:08,900
at three a contradiction so<font color="#CCCCCC"> you can go</font>

330
00:16:07,310 --> 00:16:13,069
<font color="#CCCCCC">through taste analysis like this there</font>

331
00:16:08,900 --> 00:16:15,860
is no there's no solution so if<font color="#E5E5E5"> we think</font>

332
00:16:13,070 --> 00:16:17,750
<font color="#E5E5E5">about those three different sets of our</font>

333
00:16:15,860 --> 00:16:20,150
<font color="#CCCCCC">psl policies that map down to that</font>

334
00:16:17,750 --> 00:16:24,530
simple system disagree we can come up

335
00:16:20,150 --> 00:16:27,860
<font color="#CCCCCC">with a dozen policies at the bgp level</font>

336
00:16:24,530 --> 00:16:29,390
that could map down to this system<font color="#CCCCCC"> and</font>

337
00:16:27,860 --> 00:16:30,920
whether or<font color="#E5E5E5"> not they're all sensible in</font>

338
00:16:29,390 --> 00:16:33,710
any way i'm not sure but then there's

339
00:16:30,920 --> 00:16:38,180
<font color="#E5E5E5">always a the possibility of Miss</font>

340
00:16:33,710 --> 00:16:40,760
configuration right but there you<font color="#E5E5E5"> go so</font>

341
00:16:38,180 --> 00:16:43,699
one way of interpreting that observation

342
00:16:40,760 --> 00:16:45,800
that broad net all made is<font color="#CCCCCC"> that is that</font>

343
00:16:43,700 --> 00:16:48,170
<font color="#E5E5E5">while the system this problem that's</font>

344
00:16:45,800 --> 00:16:50,930
being solved doesn't necessarily have to

345
00:16:48,170 --> 00:16:54,079
have a solution now let's take this a

346
00:16:50,930 --> 00:16:57,260
<font color="#CCCCCC">problem here and add a link between 0</font>

347
00:16:54,080 --> 00:17:01,280
and 4 and let's make for prefer that

348
00:16:57,260 --> 00:17:04,879
most so that's a the system called

349
00:17:01,280 --> 00:17:07,970
<font color="#E5E5E5">surprise and it has a solution the</font>

350
00:17:04,880 --> 00:17:10,790
underlined the the red assignments is a

351
00:17:07,970 --> 00:17:12,920
unique<font color="#CCCCCC"> solution to this problem so for</font>

352
00:17:10,790 --> 00:17:15,800
takes the direct path<font color="#CCCCCC"> greats and</font>

353
00:17:12,920 --> 00:17:17,570
<font color="#E5E5E5">everybody else</font><font color="#CCCCCC"> walks in on another route</font>

354
00:17:15,800 --> 00:17:20,030
the problem with this is that you can

355
00:17:17,569 --> 00:17:23,659
<font color="#CCCCCC">have a stable routing right and boom</font>

356
00:17:20,030 --> 00:17:27,560
when that 04 link goes down it becomes

357
00:17:23,660 --> 00:17:29,090
bad gadget<font color="#E5E5E5"> okay so what this example</font>

358
00:17:27,560 --> 00:17:32,450
illustrates is that everything<font color="#CCCCCC"> can be</font>

359
00:17:29,090 --> 00:17:35,720
great but lurking in your never tested

360
00:17:32,450 --> 00:17:38,480
backup policies is a problem that<font color="#CCCCCC"> you're</font>

361
00:17:35,720 --> 00:17:43,610
not going to see until some link goes

362
00:17:38,480 --> 00:17:47,060
down okay another another problem this

363
00:17:43,610 --> 00:17:51,139
is<font color="#E5E5E5"> a kind of like this lie just looks</font>

364
00:17:47,060 --> 00:17:53,360
nice this is an example<font color="#CCCCCC"> where</font><font color="#E5E5E5"> you can</font>

365
00:17:51,140 --> 00:17:57,020
there is<font color="#CCCCCC"> a solution but you can also</font>

366
00:17:53,360 --> 00:17:59,870
diverge<font color="#E5E5E5"> okay and so on the</font><font color="#CCCCCC"> right hand</font>

367
00:17:57,020 --> 00:18:01,970
side<font color="#E5E5E5"> is that disagree subsystem right</font>

368
00:17:59,870 --> 00:18:05,320
member it has two distinct solutions and

369
00:18:01,970 --> 00:18:08,420
we have<font color="#E5E5E5"> over here on the</font><font color="#CCCCCC"> left hand side</font>

370
00:18:05,320 --> 00:18:11,600
something that well if one picks the

371
00:18:08,420 --> 00:18:14,090
direct path to<font color="#CCCCCC"> zero then everything is</font>

372
00:18:11,600 --> 00:18:16,490
<font color="#E5E5E5">okay everybody that sort of locks into</font>

373
00:18:14,090 --> 00:18:20,810
<font color="#E5E5E5">three and goes it takes that path</font>

374
00:18:16,490 --> 00:18:24,770
<font color="#E5E5E5">however if one locks into the 120 path</font>

375
00:18:20,810 --> 00:18:27,800
then boot that the<font color="#CCCCCC"> left-hand side</font>

376
00:18:24,770 --> 00:18:31,730
becomes a bad gadget and there's nothing

377
00:18:27,800 --> 00:18:36,220
<font color="#CCCCCC">you</font><font color="#E5E5E5"> can do it will never diverge I mean</font>

378
00:18:31,730 --> 00:18:40,340
never converge after that point ok so

379
00:18:36,220 --> 00:18:42,080
now notice notice that's in these bad

380
00:18:40,340 --> 00:18:44,570
gadget kind of examples there's always

381
00:18:42,080 --> 00:18:49,850
several autonomous systems that are

382
00:18:44,570 --> 00:18:52,669
preferring some longer path over a

383
00:18:49,850 --> 00:18:53,929
shorter plane right actually it turns

384
00:18:52,670 --> 00:18:58,310
out that that's always going to be the

385
00:18:53,930 --> 00:19:01,880
case but<font color="#CCCCCC"> that so you would like to say</font>

386
00:18:58,310 --> 00:19:04,700
that if I<font color="#E5E5E5"> can figure let's say all</font>

387
00:19:01,880 --> 00:19:08,420
routers in the world are configured so

388
00:19:04,700 --> 00:19:11,060
that they don't use local pref<font color="#CCCCCC"> okay so</font>

389
00:19:08,420 --> 00:19:14,780
in other words basically the decision

390
00:19:11,060 --> 00:19:17,270
process is picture this a s paths and

391
00:19:14,780 --> 00:19:19,810
then do<font color="#CCCCCC"> some tiebreaking you'd let use</font>

392
00:19:17,270 --> 00:19:22,250
that it's<font color="#E5E5E5"> sort of a baseline</font><font color="#CCCCCC"> for</font>

393
00:19:19,810 --> 00:19:25,220
analyzing let's say proposed extensions

394
00:19:22,250 --> 00:19:27,470
or whatever to<font color="#CCCCCC"> bgp because you say well</font>

395
00:19:25,220 --> 00:19:29,000
let's<font color="#E5E5E5"> start from that safe world and see</font>

396
00:19:27,470 --> 00:19:32,240
if we can get into<font color="#CCCCCC"> trouble by adding</font>

397
00:19:29,000 --> 00:19:35,360
some new feature or whatever so here's

398
00:19:32,240 --> 00:19:36,500
an<font color="#CCCCCC"> example so the</font><font color="#E5E5E5"> idea here is suppose</font>

399
00:19:35,360 --> 00:19:40,070
every what you're in a<font color="#E5E5E5"> world</font>

400
00:19:36,500 --> 00:19:44,360
where there's no local press but we do

401
00:19:40,070 --> 00:19:47,929
have Confederations can we get into

402
00:19:44,360 --> 00:19:50,419
trouble if within<font color="#E5E5E5"> a confederation you</font>

403
00:19:47,930 --> 00:19:54,220
take when you're measuring a s path

404
00:19:50,420 --> 00:19:56,830
length you take member a SS into account

405
00:19:54,220 --> 00:19:59,390
<font color="#CCCCCC">ok it seems like</font><font color="#E5E5E5"> you could code that up</font>

406
00:19:56,830 --> 00:20:02,330
yourself if you wanted to worry good if

407
00:19:59,390 --> 00:20:03,890
your vendor could provide a knob for

408
00:20:02,330 --> 00:20:06,500
doing that kind of thing and here's just

409
00:20:03,890 --> 00:20:09,470
a simple example where you<font color="#CCCCCC"> get a bad</font>

410
00:20:06,500 --> 00:20:12,020
gadgetus out of that so the<font color="#E5E5E5"> big blue</font>

411
00:20:09,470 --> 00:20:15,590
circles are Confederations and they each

412
00:20:12,020 --> 00:20:19,190
have tues member a SS and so for example

413
00:20:15,590 --> 00:20:21,709
<font color="#CCCCCC">q</font><font color="#E5E5E5"> the router Q has three paths 20</font>

414
00:20:19,190 --> 00:20:25,270
they're all of length 2 from<font color="#CCCCCC"> the</font>

415
00:20:21,710 --> 00:20:29,540
perspective of<font color="#CCCCCC"> its a</font><font color="#E5E5E5"> BGP table let's say</font>

416
00:20:25,270 --> 00:20:33,860
and it so it just breaks breaks ties

417
00:20:29,540 --> 00:20:37,370
using some maybe the IP address of Z and

418
00:20:33,860 --> 00:20:39,530
RNA<font color="#CCCCCC"> okay and</font><font color="#E5E5E5"> so it broke ties preferring</font>

419
00:20:37,370 --> 00:20:40,850
to go through three<font color="#E5E5E5"> and now everybody</font>

420
00:20:39,530 --> 00:20:42,950
does the same kind of thing they they

421
00:20:40,850 --> 00:20:51,320
just break ties going to the left and

422
00:20:42,950 --> 00:20:54,050
boom you've got a problem<font color="#CCCCCC"> okay here's</font>

423
00:20:51,320 --> 00:20:55,879
another example this is just again

424
00:20:54,050 --> 00:20:59,120
suppose we're living in<font color="#CCCCCC"> the world where</font>

425
00:20:55,880 --> 00:21:01,520
there is no local preference but there

426
00:20:59,120 --> 00:21:05,000
is so we know that world safe now let's

427
00:21:01,520 --> 00:21:08,210
add the prefer me global community<font color="#E5E5E5"> okay</font>

428
00:21:05,000 --> 00:21:10,670
so here's an example<font color="#E5E5E5"> where in the grey</font>

429
00:21:08,210 --> 00:21:13,570
boxes are sort of the<font color="#CCCCCC"> bgp level policies</font>

430
00:21:10,670 --> 00:21:19,880
everybody's doing same things nothing

431
00:21:13,570 --> 00:21:21,530
weird about it and pads are being equal

432
00:21:19,880 --> 00:21:23,810
length paths for example at one and

433
00:21:21,530 --> 00:21:25,820
three are just being there's tiebreaking

434
00:21:23,810 --> 00:21:29,060
going on there so they<font color="#CCCCCC"> just happen to</font>

435
00:21:25,820 --> 00:21:31,580
pick this counterclockwise path and then

436
00:21:29,060 --> 00:21:33,980
five<font color="#E5E5E5"> here is announcing prefer me up to</font>

437
00:21:31,580 --> 00:21:38,659
<font color="#E5E5E5">two and so what we're seeing in tues</font>

438
00:21:33,980 --> 00:21:42,650
policies in<font color="#CCCCCC"> the s in the so</font><font color="#E5E5E5"> it's in the</font>

439
00:21:38,660 --> 00:21:47,120
<font color="#E5E5E5">BGP world it's</font><font color="#CCCCCC"> just saying hey I'm doing</font>

440
00:21:42,650 --> 00:21:49,200
<font color="#E5E5E5">shortest paths basically but in the</font><font color="#CCCCCC"> spp</font>

441
00:21:47,120 --> 00:21:50,639
world we see that this one path is<font color="#CCCCCC"> for</font>

442
00:21:49,200 --> 00:21:53,850
over the other and then<font color="#E5E5E5"> you get this bad</font>

443
00:21:50,639 --> 00:21:56,969
gadget now this isn't saying<font color="#E5E5E5"> that the</font>

444
00:21:53,850 --> 00:21:58,110
prefer me is bad or it's not saying it's

445
00:21:56,970 --> 00:22:01,409
good<font color="#CCCCCC"> or anything like</font><font color="#E5E5E5"> that it's just</font>

446
00:21:58,110 --> 00:22:03,539
saying it's very powerful<font color="#CCCCCC"> okay it's just</font>

447
00:22:01,409 --> 00:22:06,899
saying in a world where everything is

448
00:22:03,539 --> 00:22:09,480
<font color="#CCCCCC">okay only 11 insta one use of this</font>

449
00:22:06,899 --> 00:22:11,908
attribute is enough to get you<font color="#E5E5E5"> into a</font>

450
00:22:09,480 --> 00:22:13,470
situation where they<font color="#E5E5E5"> won't convert okay</font>

451
00:22:11,909 --> 00:22:18,000
so perhaps there are some guidelines

452
00:22:13,470 --> 00:22:19,200
that need need to<font color="#CCCCCC"> be followed when using</font>

453
00:22:18,000 --> 00:22:23,159
these kind of things or use them

454
00:22:19,200 --> 00:22:24,630
carefully something like that<font color="#E5E5E5"> okay so</font>

455
00:22:23,159 --> 00:22:28,440
what's to<font color="#E5E5E5"> be done here about this</font>

456
00:22:24,630 --> 00:22:31,710
particular problem well what approach of

457
00:22:28,440 --> 00:22:34,860
course is to put the problem<font color="#E5E5E5"> really I</font>

458
00:22:31,710 --> 00:22:37,799
was<font color="#CCCCCC"> originally looking at was well how</font>

459
00:22:34,860 --> 00:22:42,240
do we pull out our<font color="#CCCCCC"> psl policies out of a</font>

460
00:22:37,799 --> 00:22:44,129
database and check them for consistency

461
00:22:42,240 --> 00:22:45,630
we want to say hey there's not going to

462
00:22:44,130 --> 00:22:47,370
be any problem here or there is<font color="#CCCCCC"> going to</font>

463
00:22:45,630 --> 00:22:50,340
be a problem<font color="#E5E5E5"> potentially</font><font color="#CCCCCC"> this link goes</font>

464
00:22:47,370 --> 00:22:52,139
down website and we've done<font color="#CCCCCC"> some</font>

465
00:22:50,340 --> 00:22:53,519
analysis on that and again this is kind

466
00:22:52,139 --> 00:22:56,789
of research<font color="#CCCCCC"> II stuff but it turns out</font><font color="#E5E5E5"> to</font>

467
00:22:53,519 --> 00:22:59,039
be really hard even if you had complete

468
00:22:56,789 --> 00:23:01,980
information<font color="#E5E5E5"> about psl policies it turns</font>

469
00:22:59,039 --> 00:23:04,440
out to be an np-complete problem to

470
00:23:01,980 --> 00:23:06,720
identify solvability and that kind of

471
00:23:04,440 --> 00:23:08,909
thing so<font color="#E5E5E5"> that doesn't mean that it's not</font>

472
00:23:06,720 --> 00:23:10,889
worth while still to you know come up

473
00:23:08,909 --> 00:23:12,840
with some heuristics that work pretty

474
00:23:10,889 --> 00:23:15,299
well in practice and I<font color="#E5E5E5"> think that's</font>

475
00:23:12,840 --> 00:23:18,928
<font color="#CCCCCC">definitely an area that we're going</font><font color="#E5E5E5"> to</font>

476
00:23:15,299 --> 00:23:21,899
<font color="#E5E5E5">do some</font><font color="#CCCCCC"> work in okay another approach is</font>

477
00:23:18,929 --> 00:23:23,820
to you know just recognize that this

478
00:23:21,899 --> 00:23:27,750
uniform like this<font color="#CCCCCC"> recognize that there</font>

479
00:23:23,820 --> 00:23:30,029
is a possibility of<font color="#E5E5E5"> BGP divergence and</font>

480
00:23:27,750 --> 00:23:31,860
try to come up with let's say

481
00:23:30,029 --> 00:23:34,019
recommendations or policies and how to

482
00:23:31,860 --> 00:23:35,969
identify that and how to address that

483
00:23:34,019 --> 00:23:38,909
one thing would to do with it would be

484
00:23:35,970 --> 00:23:41,880
fun would be to you know with 11 prefix

485
00:23:38,909 --> 00:23:44,100
let's say to<font color="#E5E5E5"> actually set up in the</font>

486
00:23:41,880 --> 00:23:46,950
backbone some exec you know between

487
00:23:44,100 --> 00:23:50,039
<font color="#E5E5E5">lodge tier one</font><font color="#CCCCCC"> isp</font><font color="#E5E5E5"> set up set up an</font>

488
00:23:46,950 --> 00:23:51,210
oscillation like this intentionally so

489
00:23:50,039 --> 00:23:53,158
that we could<font color="#CCCCCC"> use the kind of</font>

490
00:23:51,210 --> 00:23:54,929
infrastructure<font color="#E5E5E5"> Craig talk about to</font>

491
00:23:53,159 --> 00:23:57,090
measure what it looks like what does<font color="#E5E5E5"> it</font>

492
00:23:54,929 --> 00:24:00,149
look like when this kind of thing

493
00:23:57,090 --> 00:24:01,080
<font color="#CCCCCC">happens and then maybe use that to come</font>

494
00:24:00,149 --> 00:24:04,610
up<font color="#CCCCCC"> with some</font>

495
00:24:01,080 --> 00:24:07,050
recommendations or guidelines<font color="#E5E5E5"> okay</font>

496
00:24:04,610 --> 00:24:09,870
another approach<font color="#E5E5E5"> is a dynamic approach</font>

497
00:24:07,050 --> 00:24:12,659
some sort of dynamic brake on bgp

498
00:24:09,870 --> 00:24:14,850
oscillation nao out flat dampening

499
00:24:12,660 --> 00:24:17,330
doesn't solve the divergence problem all

500
00:24:14,850 --> 00:24:20,219
it does is make<font color="#E5E5E5"> it run in slow motion</font>

501
00:24:17,330 --> 00:24:22,790
<font color="#E5E5E5">okay so what will</font><font color="#CCCCCC"> happen is let's say in</font>

502
00:24:20,220 --> 00:24:28,170
a bad gadget is you'll just slow it down

503
00:24:22,790 --> 00:24:32,490
it'll<font color="#CCCCCC"> never stop</font><font color="#E5E5E5"> okay and and we've done</font>

504
00:24:28,170 --> 00:24:33,810
<font color="#E5E5E5">some experiments on that and but so one</font>

505
00:24:32,490 --> 00:24:35,550
thing and again this is sort of a

506
00:24:33,810 --> 00:24:38,070
research<font color="#CCCCCC"> II topic we've we've come up</font>

507
00:24:35,550 --> 00:24:39,990
using that spp formalism we've come up

508
00:24:38,070 --> 00:24:42,710
with<font color="#CCCCCC"> an a proposal to actually extend</font>

509
00:24:39,990 --> 00:24:46,800
the protocol with extra information

510
00:24:42,710 --> 00:24:49,470
where you can dynamically detect a

511
00:24:46,800 --> 00:24:52,830
policy-based oscillation and recognize

512
00:24:49,470 --> 00:24:55,020
it as a policy-based oscillation and you

513
00:24:52,830 --> 00:24:56,939
can see<font color="#CCCCCC"> all of</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> AES Pat I have the</font>

514
00:24:55,020 --> 00:25:04,020
autonomous systems that are involved in

515
00:24:56,940 --> 00:25:05,790
that that policy conflict ok so again

516
00:25:04,020 --> 00:25:07,889
<font color="#E5E5E5">it's that's sort of at the level of this</font>

517
00:25:05,790 --> 00:25:09,930
spp very low level now it's kind of a

518
00:25:07,890 --> 00:25:12,180
research problem right now to bring<font color="#E5E5E5"> that</font>

519
00:25:09,930 --> 00:25:14,640
up<font color="#E5E5E5"> to</font><font color="#CCCCCC"> the level of bgp and you know is</font>

520
00:25:12,180 --> 00:25:18,450
it scalable is it robust things like

521
00:25:14,640 --> 00:25:19,830
that so some shameless plugs on some

522
00:25:18,450 --> 00:25:23,370
work we've done it again this<font color="#E5E5E5"> is sort of</font>

523
00:25:19,830 --> 00:25:26,189
in<font color="#E5E5E5"> the academic community we had a paper</font>

524
00:25:23,370 --> 00:25:27,840
in sigcomm this year<font color="#E5E5E5"> last year showing</font>

525
00:25:26,190 --> 00:25:30,080
that and that static analysis

526
00:25:27,840 --> 00:25:34,139
essentially of our<font color="#CCCCCC"> psl was very hard</font>

527
00:25:30,080 --> 00:25:37,710
<font color="#CCCCCC">okay we also in ICMP we had a paper that</font>

528
00:25:34,140 --> 00:25:40,110
sort<font color="#E5E5E5"> of used this spp model came up with</font>

529
00:25:37,710 --> 00:25:42,720
some sufficient conditions for a safety

530
00:25:40,110 --> 00:25:44,760
sanity things like that and then in

531
00:25:42,720 --> 00:25:47,400
<font color="#CCCCCC">infocom coming up next month we have we</font>

532
00:25:44,760 --> 00:25:50,520
<font color="#E5E5E5">use that model to develop this extension</font>

533
00:25:47,400 --> 00:25:54,450
the safe extension to to a simple it

534
00:25:50,520 --> 00:25:56,010
simplified bgp protocol<font color="#CCCCCC"> okay the sitcom</font>

535
00:25:54,450 --> 00:25:58,740
paper and the infocomm paper available

536
00:25:56,010 --> 00:26:02,280
on online at the<font color="#CCCCCC"> FSA common infocom</font>

537
00:25:58,740 --> 00:26:05,640
sites if you want the<font color="#CCCCCC"> icmp paper paper</font>

538
00:26:02,280 --> 00:26:09,270
send<font color="#E5E5E5"> email a recent paper that's going</font>

539
00:26:05,640 --> 00:26:11,820
to appear in sick metrics by<font color="#CCCCCC"> leash inja</font>

540
00:26:09,270 --> 00:26:14,470
cow and<font color="#CCCCCC"> jennifer Rexford</font>

541
00:26:11,820 --> 00:26:16,480
sort of uses some of<font color="#E5E5E5"> this formalism and</font>

542
00:26:14,470 --> 00:26:20,100
shows that well if we make certain

543
00:26:16,480 --> 00:26:24,250
assumptions about the world and<font color="#E5E5E5"> how</font>

544
00:26:20,100 --> 00:26:25,389
routes are exchanged then they can prove

545
00:26:24,250 --> 00:26:29,020
that<font color="#E5E5E5"> everything is always going to be</font>

546
00:26:25,390 --> 00:26:33,250
okay<font color="#E5E5E5"> okay and so the question is are the</font>

547
00:26:29,020 --> 00:26:34,840
assumptions valid and how well do they

548
00:26:33,250 --> 00:26:36,730
model what's really going on the

549
00:26:34,840 --> 00:26:39,429
complexity of routing<font color="#E5E5E5"> policies really</font>

550
00:26:36,730 --> 00:26:40,870
out there today<font color="#E5E5E5"> and of course they</font>

551
00:26:39,430 --> 00:26:42,700
assume<font color="#CCCCCC"> that there isn't going to be any</font>

552
00:26:40,870 --> 00:26:44,260
miss configuration there and if you're

553
00:26:42,700 --> 00:26:49,170
<font color="#CCCCCC">interested in that paper I suggest</font>

554
00:26:44,260 --> 00:26:49,170
sending mail to Jennifer at ATT labs ok

555
00:26:57,870 --> 00:27:01,649
questions for Tim

556
00:27:13,880 --> 00:27:23,039
Shaw island I'm interested<font color="#E5E5E5"> in in your</font>

557
00:27:21,120 --> 00:27:24,750
opinion using the current tools that the

558
00:27:23,039 --> 00:27:26,549
operators have available to them is

559
00:27:24,750 --> 00:27:29,520
there any intervention they can make

560
00:27:26,549 --> 00:27:33,179
that would stop this oscillation if they

561
00:27:29,520 --> 00:27:34,799
detected by some other means well I

562
00:27:33,179 --> 00:27:36,330
think I think the big problem is when

563
00:27:34,799 --> 00:27:37,679
you see this kind<font color="#CCCCCC"> of oscillation you</font>

564
00:27:36,330 --> 00:27:42,178
know<font color="#E5E5E5"> from one path to another you</font><font color="#CCCCCC"> don't</font>

565
00:27:37,679 --> 00:27:44,429
<font color="#E5E5E5">really know what the source is you don't</font>

566
00:27:42,179 --> 00:27:46,980
<font color="#E5E5E5">know some flaky interface somewhere or</font>

567
00:27:44,429 --> 00:27:51,210
there's no<font color="#E5E5E5"> way of telling right now by</font>

568
00:27:46,980 --> 00:27:54,480
looking why this route is flapping<font color="#E5E5E5"> okay</font>

569
00:27:51,210 --> 00:27:55,559
that's a that's why I suggested that I

570
00:27:54,480 --> 00:27:58,110
know if that's<font color="#CCCCCC"> what I was suggesting</font>

571
00:27:55,559 --> 00:27:59,908
that maybe some experiments be done so

572
00:27:58,110 --> 00:28:01,469
that we<font color="#E5E5E5"> can get a feeling for what it</font>

573
00:27:59,909 --> 00:28:04,380
actually looks like when it happens

574
00:28:01,470 --> 00:28:07,289
right so maybe perhaps it looks a little

575
00:28:04,380 --> 00:28:09,870
different than than the kind<font color="#E5E5E5"> of flaky</font>

576
00:28:07,289 --> 00:28:17,158
router flapping that<font color="#E5E5E5"> were used to seeing</font>

577
00:28:09,870 --> 00:28:19,320
okay yeah maybe I just wasn't paying

578
00:28:17,159 --> 00:28:21,480
attention close enough but it looks<font color="#CCCCCC"> like</font>

579
00:28:19,320 --> 00:28:24,480
all of these examples of problems depend

580
00:28:21,480 --> 00:28:27,960
on piers redistributing routes learn

581
00:28:24,480 --> 00:28:30,690
from other peers to each other which<font color="#CCCCCC"> is</font>

582
00:28:27,960 --> 00:28:34,789
currently knocked the case in the vast

583
00:28:30,690 --> 00:28:37,320
majority of the large backbone routers

584
00:28:34,789 --> 00:28:39,450
you tend to<font color="#E5E5E5"> only originated the routes</font>

585
00:28:37,320 --> 00:28:42,809
that<font color="#E5E5E5"> you are receiving from customers to</font>

586
00:28:39,450 --> 00:28:45,480
peers not other<font color="#E5E5E5"> buyers right so that</font>

587
00:28:42,809 --> 00:28:47,070
eliminates a lot of those cases of

588
00:28:45,480 --> 00:28:49,940
problems yeah and I<font color="#E5E5E5"> think that's</font>

589
00:28:47,070 --> 00:28:53,279
essentially the bit the idea<font color="#E5E5E5"> of the</font>

590
00:28:49,940 --> 00:28:56,399
leash ngao and Jennifer rexburg papers

591
00:28:53,279 --> 00:28:58,799
is that kind<font color="#E5E5E5"> of model right but then</font>

592
00:28:56,399 --> 00:29:00,600
<font color="#E5E5E5">again it's already implemented right but</font>

593
00:28:58,799 --> 00:29:01,918
we don't you know the thing<font color="#E5E5E5"> is</font><font color="#CCCCCC"> that</font>

594
00:29:00,600 --> 00:29:05,100
these are sort of this kind of<font color="#E5E5E5"> a</font>

595
00:29:01,919 --> 00:29:09,149
worst-case analysis write that as the

596
00:29:05,100 --> 00:29:11,490
complexity of<font color="#E5E5E5"> BGP policy becomes sort of</font>

597
00:29:09,149 --> 00:29:14,459
unmanageable and you look at the

598
00:29:11,490 --> 00:29:17,190
interaction of policies between peers

599
00:29:14,460 --> 00:29:21,320
and also throw in things like Miss

600
00:29:17,190 --> 00:29:25,580
configuration right and the fact that

601
00:29:21,320 --> 00:29:28,700
link failure can can can you know

602
00:29:25,580 --> 00:29:31,908
activate policies that might not<font color="#E5E5E5"> be</font><font color="#CCCCCC"> so</font>

603
00:29:28,700 --> 00:29:33,440
obvious at first right I think you know

604
00:29:31,909 --> 00:29:35,929
it's there's reason to concern here I'm

605
00:29:33,440 --> 00:29:37,549
<font color="#CCCCCC">not saying the the sky is</font><font color="#E5E5E5"> falling or</font>

606
00:29:35,929 --> 00:29:38,870
anything like that obviously I<font color="#E5E5E5"> just</font>

607
00:29:37,549 --> 00:29:41,389
think there's reason to be aware of the

608
00:29:38,870 --> 00:29:42,979
<font color="#E5E5E5">problem and to be somewhat concerned</font>

609
00:29:41,389 --> 00:29:44,360
with it well I'm not saying that<font color="#E5E5E5"> we</font>

610
00:29:42,980 --> 00:29:46,720
<font color="#E5E5E5">shouldn't be concerned and I'm not</font>

611
00:29:44,360 --> 00:29:51,019
knowing these problems aren't real<font color="#E5E5E5"> but I</font>

612
00:29:46,720 --> 00:29:53,299
think we need<font color="#E5E5E5"> to be aware</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> the</font>

613
00:29:51,019 --> 00:29:54,830
default configuration or providers and

614
00:29:53,299 --> 00:29:57,590
what people<font color="#CCCCCC"> are recommending and</font>

615
00:29:54,830 --> 00:29:59,779
requiring of their peers is a condition

616
00:29:57,590 --> 00:30:02,809
where<font color="#E5E5E5"> these types of failures are not</font>

617
00:29:59,779 --> 00:30:04,580
going to be epidemic now obviously I've

618
00:30:02,809 --> 00:30:06,799
seen plenty of misconfigurations where

619
00:30:04,580 --> 00:30:09,309
<font color="#E5E5E5">you'll end up with something very like</font>

620
00:30:06,799 --> 00:30:13,908
what these problems described happening

621
00:30:09,309 --> 00:30:16,610
with continuous route looping and the

622
00:30:13,909 --> 00:30:18,019
only way to clear it is to pretty much

623
00:30:16,610 --> 00:30:24,080
shut down everything related to that

624
00:30:18,019 --> 00:30:26,659
path right but the default configuration

625
00:30:24,080 --> 00:30:28,399
is that you're not redistributing routes

626
00:30:26,659 --> 00:30:33,070
that you're not originating to other

627
00:30:28,399 --> 00:30:38,830
peers and a common exchange right ah for

628
00:30:33,070 --> 00:30:38,830
lots of very good reasons<font color="#E5E5E5"> okay</font>

629
00:30:41,680 --> 00:30:46,120
if you this is a sort of a related

630
00:30:44,770 --> 00:30:48,879
question question about this

631
00:30:46,120 --> 00:30:50,439
presentation and a question sort of for

632
00:30:48,880 --> 00:30:52,030
Craig if you're looking<font color="#CCCCCC"> from</font><font color="#E5E5E5"> the</font>

633
00:30:50,440 --> 00:30:55,630
<font color="#E5E5E5">perspective of a number of different</font>

634
00:30:52,030 --> 00:31:01,450
<font color="#E5E5E5">providers and only some providers have</font>

635
00:30:55,630 --> 00:31:03,010
these conflicting policies then you have

636
00:31:01,450 --> 00:31:04,870
you ever seen have you<font color="#E5E5E5"> ever looked at it</font>

637
00:31:03,010 --> 00:31:07,720
from<font color="#E5E5E5"> a perspective of saying well we see</font>

638
00:31:04,870 --> 00:31:10,149
these prefixes churning but only<font color="#E5E5E5"> in a</font>

639
00:31:07,720 --> 00:31:11,920
few different<font color="#CCCCCC"> a s is not globally you</font>

640
00:31:10,150 --> 00:31:14,020
know looking past the BGP dampening

641
00:31:11,920 --> 00:31:15,880
window so maybe there isn't actually you

642
00:31:14,020 --> 00:31:18,670
know the<font color="#E5E5E5"> t1 going up and down causing it</font>

643
00:31:15,880 --> 00:31:21,010
maybe it's some sort of<font color="#E5E5E5"> oscillation or</font>

644
00:31:18,670 --> 00:31:23,110
at least you have that data so you could

645
00:31:21,010 --> 00:31:26,170
run that kind<font color="#E5E5E5"> of analysis so after the</font>

646
00:31:23,110 --> 00:31:27,850
fact that would be a great<font color="#CCCCCC"> thing to look</font>

647
00:31:26,170 --> 00:31:29,710
for and<font color="#E5E5E5"> all of</font><font color="#CCCCCC"> that data that's being</font>

648
00:31:27,850 --> 00:31:33,189
collected out there but<font color="#E5E5E5"> obviously you</font>

649
00:31:29,710 --> 00:31:34,390
lose if it's the SS transiting someone

650
00:31:33,190 --> 00:31:38,820
that are right you know having this

651
00:31:34,390 --> 00:31:41,080
problem but as as was pointed out

652
00:31:38,820 --> 00:31:42,580
normally those a esas aren't transiting

653
00:31:41,080 --> 00:31:49,570
each other also although sometimes that

654
00:31:42,580 --> 00:31:51,879
happens right<font color="#CCCCCC"> I think all that makes a</font>

655
00:31:49,570 --> 00:31:54,250
lot<font color="#CCCCCC"> of sense the difficulty up till now</font>

656
00:31:51,880 --> 00:31:56,860
has been it's been so much junk in the

657
00:31:54,250 --> 00:31:58,960
<font color="#CCCCCC">BGP streams that any type of rational</font>

658
00:31:56,860 --> 00:32:01,600
analysis on trying to find patterns has

659
00:31:58,960 --> 00:32:03,580
been a bit nonsensical but because we've

660
00:32:01,600 --> 00:32:04,959
gotten<font color="#E5E5E5"> rid of some these pathologies I</font>

661
00:32:03,580 --> 00:32:08,350
think and things really are being

662
00:32:04,960 --> 00:32:11,280
deployed and new router<font color="#CCCCCC"> oh</font><font color="#E5E5E5"> yeah so</font>

663
00:32:08,350 --> 00:32:11,280
hopefully<font color="#CCCCCC"> in the future</font>

