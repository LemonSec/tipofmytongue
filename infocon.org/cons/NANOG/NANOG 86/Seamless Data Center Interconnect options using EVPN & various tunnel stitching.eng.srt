1
00:00:00,000 --> 00:00:00,060
[Music]

2
00:00:00,060 --> 00:00:02,210
foreign

3
00:00:02,210 --> 00:00:05,580
[Music]

4
00:00:05,580 --> 00:00:08,099
I'd like to welcome Michelle stazinski

5
00:00:08,099 --> 00:00:10,080
who will be presenting seamless data

6
00:00:10,080 --> 00:00:12,840
center interconnect options using evpn

7
00:00:12,840 --> 00:00:15,660
and various tunnel stitching Michelle is

8
00:00:15,660 --> 00:00:17,400
a 20-year industry veteran and currently

9
00:00:17,400 --> 00:00:19,140
part of the product management team at

10
00:00:19,140 --> 00:00:21,480
Juniper Networks cloud ready Data Center

11
00:00:21,480 --> 00:00:23,580
business unit this is Michelle's first

12
00:00:23,580 --> 00:00:27,139
time on The Dan on stage welcome

13
00:00:29,279 --> 00:00:32,159
thank you thank you Chris so hi everyone

14
00:00:32,159 --> 00:00:35,340
thank you for the introduction so this

15
00:00:35,340 --> 00:00:37,620
session is about data center data center

16
00:00:37,620 --> 00:00:40,500
Data Center and data center interconnect

17
00:00:40,500 --> 00:00:44,760
so it's a North American operators uh uh

18
00:00:44,760 --> 00:00:48,120
event but data center is important for

19
00:00:48,120 --> 00:00:49,800
uh operators

20
00:00:49,800 --> 00:00:52,100
especially we observe that in Europe

21
00:00:52,100 --> 00:00:55,320
most of the service providers we work

22
00:00:55,320 --> 00:00:57,899
with they are deploying massively Edge

23
00:00:57,899 --> 00:01:00,300
data center Regional Data Center and

24
00:01:00,300 --> 00:01:02,000
National Data Centers right to deliver

25
00:01:02,000 --> 00:01:04,500
5G as a

26
00:01:04,500 --> 00:01:07,020
as a coherent solution with the right

27
00:01:07,020 --> 00:01:09,420
bandwidth with the right secure access

28
00:01:09,420 --> 00:01:12,479
to the data closer to the user so that

29
00:01:12,479 --> 00:01:14,220
session is all about this

30
00:01:14,220 --> 00:01:16,380
obviously we've seen also during the

31
00:01:16,380 --> 00:01:20,040
pandemic time that getting this fast and

32
00:01:20,040 --> 00:01:22,619
reliable secure access to data was

33
00:01:22,619 --> 00:01:24,299
important as well

34
00:01:24,299 --> 00:01:26,939
so making sure that the statistics you

35
00:01:26,939 --> 00:01:27,900
are getting

36
00:01:27,900 --> 00:01:29,340
on time

37
00:01:29,340 --> 00:01:31,920
you got that from the reliable source

38
00:01:31,920 --> 00:01:36,259
was critical right so pandemic is over

39
00:01:36,259 --> 00:01:39,420
but still there are a lot of lessons

40
00:01:39,420 --> 00:01:41,880
learned also so this session is actually

41
00:01:41,880 --> 00:01:44,460
about how to deliver data center

42
00:01:44,460 --> 00:01:47,340
interconnect replications of the data in

43
00:01:47,340 --> 00:01:49,700
different regions of the country

44
00:01:49,700 --> 00:01:53,820
in a simplified way so deploying data

45
00:01:53,820 --> 00:01:56,340
center uh interconnect it's not

46
00:01:56,340 --> 00:01:58,680
necessarily something new we used to

47
00:01:58,680 --> 00:02:02,159
have vpls for many years many telcos are

48
00:02:02,159 --> 00:02:04,860
still using vpls as an approach next gen

49
00:02:04,860 --> 00:02:09,959
moving to the evpn mpls as a service

50
00:02:09,959 --> 00:02:11,940
but in this session we'll see both

51
00:02:11,940 --> 00:02:15,060
angles the data center evpn vxlon inside

52
00:02:15,060 --> 00:02:18,720
the fabric as well as the DCI simplified

53
00:02:18,720 --> 00:02:21,239
way of deploying the DCI other than just

54
00:02:21,239 --> 00:02:24,980
using npls as a transport

55
00:02:26,819 --> 00:02:28,800
so here is the agenda of this session so

56
00:02:28,800 --> 00:02:31,379
we'll explain actually why seamless data

57
00:02:31,379 --> 00:02:33,959
center interconnect makes sense and how

58
00:02:33,959 --> 00:02:35,780
you can actually

59
00:02:35,780 --> 00:02:38,340
integrate that solution in your Tooling

60
00:02:38,340 --> 00:02:41,220
in in order to simplify the way you

61
00:02:41,220 --> 00:02:42,840
actually deliver the data center

62
00:02:42,840 --> 00:02:44,459
interconnect service

63
00:02:44,459 --> 00:02:46,860
then we will go for different data

64
00:02:46,860 --> 00:02:48,840
center uh seamless connection options

65
00:02:48,840 --> 00:02:52,200
with different encapsulation formats uh

66
00:02:52,200 --> 00:02:54,860
some examples of the of the packet walk

67
00:02:54,860 --> 00:02:57,780
involved within the in the seamless DCI

68
00:02:57,780 --> 00:03:00,300
and we'll finish on summarizing uh

69
00:03:00,300 --> 00:03:02,580
what's what's good what's bad about all

70
00:03:02,580 --> 00:03:05,120
these Solutions

71
00:03:06,300 --> 00:03:09,540
so why CMOS data center interconnect we

72
00:03:09,540 --> 00:03:11,519
mentioned about different services like

73
00:03:11,519 --> 00:03:15,180
5G storage replications uh symmetric

74
00:03:15,180 --> 00:03:17,480
storage replications between the regions

75
00:03:17,480 --> 00:03:21,000
Metro replications in the larger cities

76
00:03:21,000 --> 00:03:24,300
that's another use case so deploying

77
00:03:24,300 --> 00:03:27,300
these things only using uh mpls as a

78
00:03:27,300 --> 00:03:30,480
technology sometimes it's not so easy or

79
00:03:30,480 --> 00:03:34,080
has a specific cost right Associated so

80
00:03:34,080 --> 00:03:37,379
that's why uh in the industry we came up

81
00:03:37,379 --> 00:03:40,560
with some of the simplified solutions to

82
00:03:40,560 --> 00:03:45,540
deploy uh faster the DCI solution

83
00:03:45,540 --> 00:03:48,299
so for any uh stitching functions that

84
00:03:48,299 --> 00:03:50,879
we will see later on they are especially

85
00:03:50,879 --> 00:03:54,239
making sense when you deploy EVP and vxi

86
00:03:54,239 --> 00:03:57,959
inside the fabric so means that you have

87
00:03:57,959 --> 00:04:00,239
your Leaf spine super spine or Leaf

88
00:04:00,239 --> 00:04:02,940
spine Leaf three stage IP close Fabric

89
00:04:02,940 --> 00:04:06,420
in the line and then you actually have

90
00:04:06,420 --> 00:04:09,000
to deliver the interconnectivity with

91
00:04:09,000 --> 00:04:12,540
one site or multiple sites right so

92
00:04:12,540 --> 00:04:14,720
obviously in the Enterprise

93
00:04:14,720 --> 00:04:17,579
context quite often it's like two three

94
00:04:17,579 --> 00:04:21,180
sites I visited last well last week one

95
00:04:21,180 --> 00:04:23,960
of this reddish Federal customer they

96
00:04:23,960 --> 00:04:26,639
they're just having like two main data

97
00:04:26,639 --> 00:04:28,020
centers and deploying small original

98
00:04:28,020 --> 00:04:29,580
ones

99
00:04:29,580 --> 00:04:31,020
so

100
00:04:31,020 --> 00:04:32,639
on the other hand in country like

101
00:04:32,639 --> 00:04:35,580
America you typically deploy much more

102
00:04:35,580 --> 00:04:37,740
data center sites for the same service

103
00:04:37,740 --> 00:04:40,259
to replicate the data making sure that

104
00:04:40,259 --> 00:04:43,979
the user gets gets it quicker

105
00:04:43,979 --> 00:04:47,220
so seamless teaching helps whenever you

106
00:04:47,220 --> 00:04:51,060
deploy your data center with a VPN vxlan

107
00:04:51,060 --> 00:04:54,240
then it can actually help you to scale

108
00:04:54,240 --> 00:04:55,080
out

109
00:04:55,080 --> 00:04:58,139
means I deploy two sides but then maybe

110
00:04:58,139 --> 00:05:01,620
my service is growing and then I need to

111
00:05:01,620 --> 00:05:03,900
connect more of these Regional or

112
00:05:03,900 --> 00:05:06,419
smaller Edge data centers and in order

113
00:05:06,419 --> 00:05:08,699
to scale out I need to have a form of

114
00:05:08,699 --> 00:05:11,220
control over how many of these tunnels

115
00:05:11,220 --> 00:05:13,259
I'm going to create when already in my

116
00:05:13,259 --> 00:05:15,000
fabric

117
00:05:15,000 --> 00:05:17,100
I have a pretty decent number of

118
00:05:17,100 --> 00:05:20,880
overlays so with the new stitching

119
00:05:20,880 --> 00:05:23,759
Solutions which are now ratified at the

120
00:05:23,759 --> 00:05:27,360
ITF level in RFC 1914 we have actually a

121
00:05:27,360 --> 00:05:30,539
tooling which helps us to control

122
00:05:30,539 --> 00:05:32,940
that scaling

123
00:05:32,940 --> 00:05:35,220
at the edge of the fabric at the DC

124
00:05:35,220 --> 00:05:38,100
Gateway level or at the Border level so

125
00:05:38,100 --> 00:05:40,380
we'll go through different topologies

126
00:05:40,380 --> 00:05:43,020
architectures where in fact that RFC

127
00:05:43,020 --> 00:05:46,139
1914 is applicable

128
00:05:46,139 --> 00:05:48,320
and that gives you as an outcome easier

129
00:05:48,320 --> 00:05:51,000
architecture extensions whenever we need

130
00:05:51,000 --> 00:05:54,780
to connect another pod in the DC we

131
00:05:54,780 --> 00:05:57,300
would connect that new pod to just a

132
00:05:57,300 --> 00:06:00,300
pair of Border devices instead of

133
00:06:00,300 --> 00:06:04,500
enabling a nice mesh of vxlan tunnels

134
00:06:04,500 --> 00:06:06,919
with all individual devices of the same

135
00:06:06,919 --> 00:06:09,539
data center fabric we'll see that on the

136
00:06:09,539 --> 00:06:11,220
diagrams it's going to be much easier to

137
00:06:11,220 --> 00:06:13,020
actually understand

138
00:06:13,020 --> 00:06:14,820
second point

139
00:06:14,820 --> 00:06:18,360
whenever we build a lan ethernet data

140
00:06:18,360 --> 00:06:21,419
centers using a VPN vxlan we still have

141
00:06:21,419 --> 00:06:23,819
a bit of flooding right it's not that

142
00:06:23,819 --> 00:06:26,280
ethernet is part of the ethernet is

143
00:06:26,280 --> 00:06:28,740
flooding as well so in order to reduce

144
00:06:28,740 --> 00:06:30,479
that flooding between the data center

145
00:06:30,479 --> 00:06:33,479
sites we have a tooling which actually

146
00:06:33,479 --> 00:06:36,139
helps us to either

147
00:06:36,139 --> 00:06:38,400
identify which workloads needs to be

148
00:06:38,400 --> 00:06:41,100
extended and it means that at the border

149
00:06:41,100 --> 00:06:43,319
of the data center I can precisely

150
00:06:43,319 --> 00:06:46,080
Implement my flood flood firewall

151
00:06:46,080 --> 00:06:49,560
filters to control the rate of the

152
00:06:49,560 --> 00:06:51,419
flooding between the data center sites

153
00:06:51,419 --> 00:06:53,699
right instead of having like a full

154
00:06:53,699 --> 00:06:55,080
overlay

155
00:06:55,080 --> 00:06:57,960
which actually goes directly to the leaf

156
00:06:57,960 --> 00:06:59,940
where the server is connected and just

157
00:06:59,940 --> 00:07:01,560
would simply flood that server

158
00:07:01,560 --> 00:07:03,960
immediately right

159
00:07:03,960 --> 00:07:06,600
additional virtualization options that's

160
00:07:06,600 --> 00:07:09,960
another motivation so when we have

161
00:07:09,960 --> 00:07:12,539
different DCS we can actually have some

162
00:07:12,539 --> 00:07:14,880
Acquisitions so there are examples of

163
00:07:14,880 --> 00:07:18,000
service providers they are just buying a

164
00:07:18,000 --> 00:07:20,639
data center provider and they already

165
00:07:20,639 --> 00:07:23,940
have some evpnd external deployments in

166
00:07:23,940 --> 00:07:25,740
that situation we can use the

167
00:07:25,740 --> 00:07:28,620
virtualization options of remapping the

168
00:07:28,620 --> 00:07:31,199
vnis from one site to a common data

169
00:07:31,199 --> 00:07:35,699
center internal dni with that RFC 1914

170
00:07:35,699 --> 00:07:38,220
improved operations it means that

171
00:07:38,220 --> 00:07:43,020
extending uh the the L2 domain from one

172
00:07:43,020 --> 00:07:44,940
side to another is just much more

173
00:07:44,940 --> 00:07:46,979
simplified we don't have to call the the

174
00:07:46,979 --> 00:07:49,139
core IP guys when we are managing the

175
00:07:49,139 --> 00:07:51,360
Lan data center we can do it ourselves

176
00:07:51,360 --> 00:07:53,699
so it's just a simplified way of

177
00:07:53,699 --> 00:07:57,860
delivering end-to-end connectivity

178
00:07:58,560 --> 00:08:00,840
what are the two main use cases so we

179
00:08:00,840 --> 00:08:03,720
talked about the DCI so far and so it

180
00:08:03,720 --> 00:08:05,639
means that we can have large or medium

181
00:08:05,639 --> 00:08:08,220
DC's and then different formats of end

182
00:08:08,220 --> 00:08:10,560
caps you can see here on the slide that

183
00:08:10,560 --> 00:08:12,840
we have the vxlan to vxlan as one of the

184
00:08:12,840 --> 00:08:15,000
stitching option then another one is the

185
00:08:15,000 --> 00:08:19,020
vxlan to mpls and the VXL to srv6 not

186
00:08:19,020 --> 00:08:21,599
yet so much popular but I think this one

187
00:08:21,599 --> 00:08:25,620
is going to be a uh let's say popular in

188
00:08:25,620 --> 00:08:28,560
a couple of years whenever the the Telco

189
00:08:28,560 --> 00:08:31,740
deploys srv6 for the 5G core

190
00:08:31,740 --> 00:08:33,779
and then the second use case is the

191
00:08:33,779 --> 00:08:35,700
multi-pod right so you can have DC

192
00:08:35,700 --> 00:08:39,479
fabric one DC fabric two and then it's

193
00:08:39,479 --> 00:08:42,899
delivered as a pod pod 1.2 then in order

194
00:08:42,899 --> 00:08:45,120
to interconnect these two parts we'll

195
00:08:45,120 --> 00:08:47,100
use the same technology from the RFC

196
00:08:47,100 --> 00:08:49,740
1914 to actually Stitch the tunnels for

197
00:08:49,740 --> 00:08:52,260
the land from the land purposes to get

198
00:08:52,260 --> 00:08:56,220
the uh interconnect tunnels between the

199
00:08:56,220 --> 00:08:57,300
pods

200
00:08:57,300 --> 00:08:59,279
and then last one as an example of

201
00:08:59,279 --> 00:09:01,800
service is uh the server overlay

202
00:09:01,800 --> 00:09:04,920
connectivity so we know that VMware is

203
00:09:04,920 --> 00:09:07,800
also betting on evpn they have the type

204
00:09:07,800 --> 00:09:09,380
5

205
00:09:09,380 --> 00:09:12,720
routes supported in their solution so

206
00:09:12,720 --> 00:09:15,540
whenever we want to concentrate uh the

207
00:09:15,540 --> 00:09:18,240
connectivity of VMware with the with the

208
00:09:18,240 --> 00:09:19,920
IP fabric we have in the data center

209
00:09:19,920 --> 00:09:22,019
then we can stitch the type 5 tunnels

210
00:09:22,019 --> 00:09:24,180
from the VMware to the to the fabric

211
00:09:24,180 --> 00:09:25,080
itself

212
00:09:25,080 --> 00:09:27,540
these are the main two let's say DCI

213
00:09:27,540 --> 00:09:30,120
plus multi-pod from the architecture

214
00:09:30,120 --> 00:09:31,680
point of view these are the two main use

215
00:09:31,680 --> 00:09:33,779
cases

216
00:09:33,779 --> 00:09:36,360
so I talked about the simplifications

217
00:09:36,360 --> 00:09:39,600
how to simplify the DCI connect so

218
00:09:39,600 --> 00:09:41,399
whenever we have the fabric deployment

219
00:09:41,399 --> 00:09:44,040
you can see here we have one site with

220
00:09:44,040 --> 00:09:46,920
leaves spine and border so let's say

221
00:09:46,920 --> 00:09:49,620
this is site a this is site B and in the

222
00:09:49,620 --> 00:09:52,140
middle we can either have a dark dark

223
00:09:52,140 --> 00:09:55,080
fibers connect or just another level of

224
00:09:55,080 --> 00:09:57,720
super spines and we can simply in this

225
00:09:57,720 --> 00:10:01,019
option one use the L to hand off simple

226
00:10:01,019 --> 00:10:04,200
flood and learn connectivity with a

227
00:10:04,200 --> 00:10:06,120
clear demarcation points that's one of

228
00:10:06,120 --> 00:10:08,880
the option I I just split my domains

229
00:10:08,880 --> 00:10:11,640
from the interconnect to the fabric

230
00:10:11,640 --> 00:10:14,940
using a simple L2 handoff right very

231
00:10:14,940 --> 00:10:16,680
popular whenever you have just two sites

232
00:10:16,680 --> 00:10:18,959
to interconnect not a big deal I can

233
00:10:18,959 --> 00:10:21,420
then use either another domain of VPN

234
00:10:21,420 --> 00:10:24,360
VXL in the middle or just deliver the

235
00:10:24,360 --> 00:10:28,680
evpn and PLS as a as a DCI technology

236
00:10:28,680 --> 00:10:31,860
then the second option is where we have

237
00:10:31,860 --> 00:10:35,459
a an Ott over the top solution we have

238
00:10:35,459 --> 00:10:37,860
let's say two data centers to connect

239
00:10:37,860 --> 00:10:40,500
small number of leave devices in site a

240
00:10:40,500 --> 00:10:42,660
and the site B

241
00:10:42,660 --> 00:10:45,420
and then the leave devices will just get

242
00:10:45,420 --> 00:10:48,660
connected directly via the tunnel once

243
00:10:48,660 --> 00:10:51,480
they signalize all the route types using

244
00:10:51,480 --> 00:10:54,660
the bgp then they got connected together

245
00:10:54,660 --> 00:10:57,500
across the intermediate IP domain

246
00:10:57,500 --> 00:11:00,540
directly so for very small deployments

247
00:11:00,540 --> 00:11:04,680
this is the easiest way of getting a L2

248
00:11:04,680 --> 00:11:07,500
and L3 connectivity between the data

249
00:11:07,500 --> 00:11:09,720
center sites that's why this is really

250
00:11:09,720 --> 00:11:12,480
popular as a solution and then the focus

251
00:11:12,480 --> 00:11:14,700
of the this session is really the option

252
00:11:14,700 --> 00:11:17,160
three right because the option three is

253
00:11:17,160 --> 00:11:19,200
like stitching this line tunnels you

254
00:11:19,200 --> 00:11:20,880
have inside a

255
00:11:20,880 --> 00:11:24,839
to the interconnectivity using still bgp

256
00:11:24,839 --> 00:11:26,519
as the signalization protocol

257
00:11:26,519 --> 00:11:28,440
so we are not changing anything from the

258
00:11:28,440 --> 00:11:31,320
evpn DGP control plane point of view we

259
00:11:31,320 --> 00:11:33,720
are just rewriting some of the control

260
00:11:33,720 --> 00:11:36,720
plane messages to terminate the Lan DCR

261
00:11:36,720 --> 00:11:40,740
DC and originate new tunneling from the

262
00:11:40,740 --> 00:11:43,740
border right so we have that notion of

263
00:11:43,740 --> 00:11:46,140
Border spine border Leaf we'll see that

264
00:11:46,140 --> 00:11:49,260
on the on the diagrams and then we still

265
00:11:49,260 --> 00:11:51,240
stay consistent with the control plane

266
00:11:51,240 --> 00:11:55,019
messages same evi evpn instance for

267
00:11:55,019 --> 00:11:57,300
people that deploy the VPN they know

268
00:11:57,300 --> 00:11:59,880
what I'm talking about but this one is

269
00:11:59,880 --> 00:12:02,760
is really offering a more coherent

270
00:12:02,760 --> 00:12:06,540
solution so we can leverage things like

271
00:12:06,540 --> 00:12:09,540
Mac Mobility for example from one side

272
00:12:09,540 --> 00:12:11,459
to another in case of option one

273
00:12:11,459 --> 00:12:14,100
whenever we actually break the domain

274
00:12:14,100 --> 00:12:17,459
using just an L to hand off then all the

275
00:12:17,459 --> 00:12:21,600
beauty of evpn from that point to this

276
00:12:21,600 --> 00:12:23,640
point at the edge of the fabric is just

277
00:12:23,640 --> 00:12:25,620
disappearing right because it's just a

278
00:12:25,620 --> 00:12:29,160
flood and learn mechanism

279
00:12:29,160 --> 00:12:31,560
in case of this option 3 which on which

280
00:12:31,560 --> 00:12:33,899
we will focus more today we can actually

281
00:12:33,899 --> 00:12:36,660
scale out to higher number of sites we

282
00:12:36,660 --> 00:12:39,540
can limit and unify that scaling at the

283
00:12:39,540 --> 00:12:44,459
uh at the specific Border level

284
00:12:44,459 --> 00:12:47,100
and then we have three other options I

285
00:12:47,100 --> 00:12:48,899
don't want to confuse you more with uh

286
00:12:48,899 --> 00:12:50,639
there could be more options but I

287
00:12:50,639 --> 00:12:52,560
highlighted six of these options so

288
00:12:52,560 --> 00:12:55,200
there's option four where actually you

289
00:12:55,200 --> 00:12:58,260
uh Stitch not to the vxlan but to mpls

290
00:12:58,260 --> 00:13:01,079
so you preserve the same evpn

291
00:13:01,079 --> 00:13:05,459
instance called EDI EDP and instance and

292
00:13:05,459 --> 00:13:08,519
then we stitch from vxlan as a transport

293
00:13:08,519 --> 00:13:12,180
to npls at this level

294
00:13:12,180 --> 00:13:14,639
so that helps whenever you already

295
00:13:14,639 --> 00:13:18,060
deployed mpls in your network to

296
00:13:18,060 --> 00:13:20,940
actually connect quicker your original

297
00:13:20,940 --> 00:13:23,220
data centers

298
00:13:23,220 --> 00:13:25,980
and then we have option five whenever

299
00:13:25,980 --> 00:13:28,620
you don't care about L2 you may have

300
00:13:28,620 --> 00:13:31,079
that situation that people saying I'm

301
00:13:31,079 --> 00:13:33,899
good enough with IP only right

302
00:13:33,899 --> 00:13:36,600
so in this case

303
00:13:36,600 --> 00:13:40,700
you are actually deploying your

304
00:13:40,700 --> 00:13:44,459
ipvpn type of approach using just vxlan

305
00:13:44,459 --> 00:13:47,040
as an as a transport so it means I can

306
00:13:47,040 --> 00:13:50,399
have my ipvpn like

307
00:13:50,399 --> 00:13:53,820
uh Service delivery closer to the server

308
00:13:53,820 --> 00:13:57,360
and then terminate my type 5 instance

309
00:13:57,360 --> 00:13:59,760
tunnels at the border Leaf level similar

310
00:13:59,760 --> 00:14:02,760
to what we've seen for the L2 part and

311
00:14:02,760 --> 00:14:04,980
then Stitch these type 5 channels to the

312
00:14:04,980 --> 00:14:07,440
type 5 interconnect tunnels

313
00:14:07,440 --> 00:14:11,600
at the border to reach the remote site

314
00:14:12,600 --> 00:14:15,480
and then last option option six

315
00:14:15,480 --> 00:14:17,760
where we have a very very simple

316
00:14:17,760 --> 00:14:20,100
scenario we have the prefix

317
00:14:20,100 --> 00:14:23,100
advertisement from the leaf devices to

318
00:14:23,100 --> 00:14:25,680
the borders and then the Border Leaf is

319
00:14:25,680 --> 00:14:27,240
handling all the advertisement to the

320
00:14:27,240 --> 00:14:32,339
ipvpn mpls whenever the Border Leaf is

321
00:14:32,339 --> 00:14:36,740
directly connected to the mpls cloud

322
00:14:38,519 --> 00:14:41,100
so six options will focus on two of

323
00:14:41,100 --> 00:14:43,800
these options uh in the in the next uh

324
00:14:43,800 --> 00:14:46,680
slides I will first start with the type

325
00:14:46,680 --> 00:14:49,440
2 to type two stitching VPN and then for

326
00:14:49,440 --> 00:14:52,019
type 5 to type five type two to type 2

327
00:14:52,019 --> 00:14:54,180
for Mac advertisement for any L2

328
00:14:54,180 --> 00:14:57,000
extensions and then for type 5 it's uh

329
00:14:57,000 --> 00:14:59,579
for the IP prefixes again

330
00:14:59,579 --> 00:15:01,920
if you need to deploy both Services you

331
00:15:01,920 --> 00:15:04,019
can do that if you are good enough with

332
00:15:04,019 --> 00:15:06,120
IP it means the option you would

333
00:15:06,120 --> 00:15:08,399
typically consider is the type 5 to type

334
00:15:08,399 --> 00:15:10,860
5 stitching focusing only on the on the

335
00:15:10,860 --> 00:15:12,360
traffic prefix IP prefixes

336
00:15:12,360 --> 00:15:14,399
advertisements

337
00:15:14,399 --> 00:15:16,800
so this is the example diagram of the

338
00:15:16,800 --> 00:15:19,260
topology just two sides we have fabric a

339
00:15:19,260 --> 00:15:21,600
on the uh for example in one data center

340
00:15:21,600 --> 00:15:24,360
location we have fabric B in another

341
00:15:24,360 --> 00:15:26,880
location either in the same country or

342
00:15:26,880 --> 00:15:28,980
in two different countries and then we

343
00:15:28,980 --> 00:15:31,860
have in the middle an IP core which

344
00:15:31,860 --> 00:15:34,500
actually is delivering just IP

345
00:15:34,500 --> 00:15:37,260
connectivity from a fabric a to fabric B

346
00:15:37,260 --> 00:15:40,920
and the overlays are crossing that that

347
00:15:40,920 --> 00:15:42,720
core IP domain

348
00:15:42,720 --> 00:15:45,540
so in case of the stitching solution we

349
00:15:45,540 --> 00:15:48,779
actually terminate the EVP and vxlan

350
00:15:48,779 --> 00:15:53,040
domain at the border spine level right

351
00:15:53,040 --> 00:15:55,380
and we originate what we call the

352
00:15:55,380 --> 00:15:58,440
interconnect vxlan tunnels

353
00:15:58,440 --> 00:16:01,800
so it means in case of the Border spine

354
00:16:01,800 --> 00:16:05,820
solution I can unify my scaling between

355
00:16:05,820 --> 00:16:08,459
the two data center sites so if I deploy

356
00:16:08,459 --> 00:16:12,000
the smaller site in fabric b and a

357
00:16:12,000 --> 00:16:14,040
larger site in fabric a

358
00:16:14,040 --> 00:16:15,720
my

359
00:16:15,720 --> 00:16:18,480
border spine block will unify that

360
00:16:18,480 --> 00:16:20,839
scaling it means I can

361
00:16:20,839 --> 00:16:24,300
actually unify that number of tunnels

362
00:16:24,300 --> 00:16:27,000
terminated on each of the sides and just

363
00:16:27,000 --> 00:16:30,779
use a same number of uh data center

364
00:16:30,779 --> 00:16:32,639
interconnect channels between the Border

365
00:16:32,639 --> 00:16:34,139
spines

366
00:16:34,139 --> 00:16:36,740
so it means instead of letting this guy

367
00:16:36,740 --> 00:16:38,579
sitting here

368
00:16:38,579 --> 00:16:41,339
to create a an overlay tunnel directly

369
00:16:41,339 --> 00:16:44,339
to my leaf 12 like this which would be

370
00:16:44,339 --> 00:16:47,220
the case of the Ott solution I will

371
00:16:47,220 --> 00:16:50,759
always always point to my local border

372
00:16:50,759 --> 00:16:54,980
devices as next hops right

373
00:16:55,740 --> 00:16:58,320
so again leave device instead of

374
00:16:58,320 --> 00:17:01,320
creating a direct tunnel like this with

375
00:17:01,320 --> 00:17:02,759
all the other guys from the remote

376
00:17:02,759 --> 00:17:03,899
location

377
00:17:03,899 --> 00:17:06,419
the leave device will point to two of

378
00:17:06,419 --> 00:17:09,540
the Border devices as next hops to reach

379
00:17:09,540 --> 00:17:11,760
all the Mac addresses or IP prefixes

380
00:17:11,760 --> 00:17:14,660
from the remote site

381
00:17:14,760 --> 00:17:17,099
so for people who deploy already Fabrics

382
00:17:17,099 --> 00:17:20,699
using a VPN technology obviously there

383
00:17:20,699 --> 00:17:23,459
are all the different uh signalizations

384
00:17:23,459 --> 00:17:25,740
involved in the creation of the tunnels

385
00:17:25,740 --> 00:17:27,780
right first you need to signalize

386
00:17:27,780 --> 00:17:30,540
everything using bgp so we have on this

387
00:17:30,540 --> 00:17:34,559
diagram an example of 32 bits uh ASN

388
00:17:34,559 --> 00:17:37,380
numbers allocated for all the live

389
00:17:37,380 --> 00:17:40,080
devices sitting in each of the data

390
00:17:40,080 --> 00:17:42,900
center site and then we have the ebgp

391
00:17:42,900 --> 00:17:45,720
creation uh establishment between the

392
00:17:45,720 --> 00:17:48,660
spine devices and leave devices and that

393
00:17:48,660 --> 00:17:51,900
same goes for the DCI we have the ebgp

394
00:17:51,900 --> 00:17:56,280
ring with the core IP devices in order

395
00:17:56,280 --> 00:17:58,620
just to have a first underlay

396
00:17:58,620 --> 00:18:01,559
reachability and then the overlay evpn

397
00:18:01,559 --> 00:18:03,480
signalization done

398
00:18:03,480 --> 00:18:05,400
so what happens when I need to stitch

399
00:18:05,400 --> 00:18:08,179
these tunnels the condition is that

400
00:18:08,179 --> 00:18:11,039
my Mach 1 address

401
00:18:11,039 --> 00:18:12,660
will be advertised to the remote

402
00:18:12,660 --> 00:18:17,299
location but I will rewrite the original

403
00:18:17,299 --> 00:18:19,440
ESI value

404
00:18:19,440 --> 00:18:22,320
from the VPN type 2 route I will rewrite

405
00:18:22,320 --> 00:18:24,120
my route Target

406
00:18:24,120 --> 00:18:26,280
and I will obviously use also a

407
00:18:26,280 --> 00:18:28,320
different route distinguisher

408
00:18:28,320 --> 00:18:31,440
in order to actually terminate My Lan

409
00:18:31,440 --> 00:18:34,440
vxlan on the border and then originate a

410
00:18:34,440 --> 00:18:36,600
completely new VXL tunnel to the remote

411
00:18:36,600 --> 00:18:37,740
location

412
00:18:37,740 --> 00:18:40,559
so as you can see all my auto Discovery

413
00:18:40,559 --> 00:18:44,460
routes Mac micro IP uh the the type 3

414
00:18:44,460 --> 00:18:47,419
routes they will have the new actually

415
00:18:47,419 --> 00:18:50,340
capabilities in terms of uh control

416
00:18:50,340 --> 00:18:52,919
plane and that's how we connect to the

417
00:18:52,919 --> 00:18:55,140
remote location based on that EVP and

418
00:18:55,140 --> 00:18:57,660
control Play signalization We originate

419
00:18:57,660 --> 00:19:00,299
new uh data center interpreting tunnels

420
00:19:00,299 --> 00:19:03,179
the good thing is that many many things

421
00:19:03,179 --> 00:19:05,940
is happening actually underneath

422
00:19:05,940 --> 00:19:08,940
so it means there is that built-in bgp

423
00:19:08,940 --> 00:19:11,220
automation which helps us to deliver

424
00:19:11,220 --> 00:19:13,320
that kind of solution

425
00:19:13,320 --> 00:19:15,539
and we can be very specific in terms of

426
00:19:15,539 --> 00:19:18,660
what kind of vlans are extended from

427
00:19:18,660 --> 00:19:21,780
fabric a to fabric B we'll Define that

428
00:19:21,780 --> 00:19:25,020
as an operator we can Define that at the

429
00:19:25,020 --> 00:19:28,559
at the border spine level

430
00:19:28,559 --> 00:19:30,900
so that's for the L2 extensions I need

431
00:19:30,900 --> 00:19:34,500
to talk to Mach 2 from fabric a I need

432
00:19:34,500 --> 00:19:37,919
to talk to uh to mark 2 in fabric B

433
00:19:37,919 --> 00:19:41,220
I can Define either I want to do that or

434
00:19:41,220 --> 00:19:43,440
not if I want I'm defining that at my

435
00:19:43,440 --> 00:19:45,960
specific block architecture so that's

436
00:19:45,960 --> 00:19:47,700
that's really good because we want to

437
00:19:47,700 --> 00:19:49,080
know what's going on in our Fabrics

438
00:19:49,080 --> 00:19:50,760
right from security point of view it's

439
00:19:50,760 --> 00:19:53,360
really important

440
00:19:53,460 --> 00:19:55,860
and the next scenario instead of using

441
00:19:55,860 --> 00:19:57,240
uh

442
00:19:57,240 --> 00:20:00,059
spine devices as borders we have in this

443
00:20:00,059 --> 00:20:02,460
situation a new block called border Leaf

444
00:20:02,460 --> 00:20:05,460
block and in this case it's very similar

445
00:20:05,460 --> 00:20:08,460
to what we've seen so far uh we we still

446
00:20:08,460 --> 00:20:10,559
Stitch the Lan tunnels you can see in

447
00:20:10,559 --> 00:20:12,480
the blue uh to the data center

448
00:20:12,480 --> 00:20:15,720
interconnect Tunnels for the DCI

449
00:20:15,720 --> 00:20:16,799
purposes

450
00:20:16,799 --> 00:20:18,000
okay

451
00:20:18,000 --> 00:20:20,640
and then similarly we have what is

452
00:20:20,640 --> 00:20:23,580
called the interconnect TSI and that

453
00:20:23,580 --> 00:20:25,980
value of 10 bytes is a standardized

454
00:20:25,980 --> 00:20:27,120
value

455
00:20:27,120 --> 00:20:29,220
and actually represents the site

456
00:20:29,220 --> 00:20:32,100
identifier right it means you as the

457
00:20:32,100 --> 00:20:33,720
operator

458
00:20:33,720 --> 00:20:36,660
we are the as operators we can identify

459
00:20:36,660 --> 00:20:39,480
precisely speaking from which actually

460
00:20:39,480 --> 00:20:43,320
location that given Mac address is

461
00:20:43,320 --> 00:20:45,360
coming from

462
00:20:45,360 --> 00:20:48,600
so that interconnect esi2 we can see on

463
00:20:48,600 --> 00:20:49,860
the left hand side

464
00:20:49,860 --> 00:20:52,919
will actually be used as a tooling to

465
00:20:52,919 --> 00:20:55,020
identify whether this map comes from

466
00:20:55,020 --> 00:20:57,299
site a or site b or site C or side d

467
00:20:57,299 --> 00:20:59,700
right we can have more than two sides so

468
00:20:59,700 --> 00:21:02,760
pretty good as a tooling to really know

469
00:21:02,760 --> 00:21:05,580
and understand what's the origin of the

470
00:21:05,580 --> 00:21:09,240
uh of that given workload

471
00:21:09,240 --> 00:21:12,000
so in this example we can see that this

472
00:21:12,000 --> 00:21:14,700
this is just the creation of the tunnels

473
00:21:14,700 --> 00:21:17,700
from one vehicle to another vxlan and if

474
00:21:17,700 --> 00:21:20,460
you read that RFC 1914 then you will

475
00:21:20,460 --> 00:21:21,960
understand that there are other end cap

476
00:21:21,960 --> 00:21:24,539
formats you can use the one I mentioned

477
00:21:24,539 --> 00:21:26,280
at the beginning where actually I

478
00:21:26,280 --> 00:21:30,720
stitched from vxlan to npls it means in

479
00:21:30,720 --> 00:21:33,059
the middle I have my mpls cloud

480
00:21:33,059 --> 00:21:35,520
and obviously in this case

481
00:21:35,520 --> 00:21:37,520
we have other

482
00:21:37,520 --> 00:21:41,159
parameters to to actually fulfill from

483
00:21:41,159 --> 00:21:43,020
the control plane point of view we will

484
00:21:43,020 --> 00:21:46,260
be using for example mpls

485
00:21:46,260 --> 00:21:48,419
label aliasing

486
00:21:48,419 --> 00:21:50,280
which is not for example the case of

487
00:21:50,280 --> 00:21:53,700
vxlan there's no labels in VXL right so

488
00:21:53,700 --> 00:21:56,760
I think in this this room we have the

489
00:21:56,760 --> 00:21:58,919
best representation of mpls Specialists

490
00:21:58,919 --> 00:22:01,620
so in this case we would allocate at the

491
00:22:01,620 --> 00:22:05,760
border leaf uh an mpls label in order to

492
00:22:05,760 --> 00:22:07,679
load balance the traffic to these two

493
00:22:07,679 --> 00:22:10,740
guys sitting in fabric B at the at the

494
00:22:10,740 --> 00:22:12,780
border Leaf level I will use the

495
00:22:12,780 --> 00:22:14,940
technology called the mpls label audio

496
00:22:14,940 --> 00:22:17,100
sync

497
00:22:17,100 --> 00:22:19,200
in case of vxlan it's all based on

498
00:22:19,200 --> 00:22:23,280
overlay ipcmp I will use my destination

499
00:22:23,280 --> 00:22:26,400
interconnect ESI which I allocate for

500
00:22:26,400 --> 00:22:29,520
the given data center site I will do the

501
00:22:29,520 --> 00:22:31,260
active active forward into these two

502
00:22:31,260 --> 00:22:34,440
guys sitting in the fabric B in order to

503
00:22:34,440 --> 00:22:37,679
reach the MAC address sitting a in

504
00:22:37,679 --> 00:22:41,299
fabric B connected to the leaf device

505
00:22:45,659 --> 00:22:47,820
so I talked about the scenario where you

506
00:22:47,820 --> 00:22:50,340
don't you may not need a L2 extension

507
00:22:50,340 --> 00:22:53,100
you may have that situation right you

508
00:22:53,100 --> 00:22:55,559
you are deploying a new network

509
00:22:55,559 --> 00:22:58,440
my L2 I just need my L2 in the fabric

510
00:22:58,440 --> 00:23:02,220
between the Fabrics I'm happy doing just

511
00:23:02,220 --> 00:23:04,080
prefix advertisements

512
00:23:04,080 --> 00:23:06,840
everything is IP based what I still want

513
00:23:06,840 --> 00:23:09,419
to deliver some level of virtualization

514
00:23:09,419 --> 00:23:13,380
so I'm deploying my ipverse as a way to

515
00:23:13,380 --> 00:23:18,120
virtualize my uh my network so in this

516
00:23:18,120 --> 00:23:21,059
case we can use the type 5 for ipverf to

517
00:23:21,059 --> 00:23:24,120
ipverf model and get also the similar

518
00:23:24,120 --> 00:23:26,400
connectivity between the sites by

519
00:23:26,400 --> 00:23:28,200
terminating type 5 channels at the

520
00:23:28,200 --> 00:23:30,720
border leaf and then originating a new

521
00:23:30,720 --> 00:23:33,419
set of type 5 tunnels to the remote

522
00:23:33,419 --> 00:23:35,460
location

523
00:23:35,460 --> 00:23:37,440
so obviously there are some changes in

524
00:23:37,440 --> 00:23:40,140
terms of a control plane

525
00:23:40,140 --> 00:23:43,500
in case of type 5 VPN we are not using

526
00:23:43,500 --> 00:23:47,700
the concept of ESI when we use the pure

527
00:23:47,700 --> 00:23:51,120
pure type 5 ipversal IP verb interface

528
00:23:51,120 --> 00:23:53,700
less model in this case we will load

529
00:23:53,700 --> 00:23:58,380
balance using uh just overlay ipcmp

530
00:23:58,380 --> 00:24:01,260
however for the site identification in

531
00:24:01,260 --> 00:24:03,720
this case there is a new bgp attribute

532
00:24:03,720 --> 00:24:07,020
so we have in this room probably the

533
00:24:07,020 --> 00:24:09,179
best concentration of bgp experts as

534
00:24:09,179 --> 00:24:09,840
well

535
00:24:09,840 --> 00:24:13,320
uh so there is a new bgp attribute I

536
00:24:13,320 --> 00:24:16,020
will also talk about for that particular

537
00:24:16,020 --> 00:24:18,960
use case where we identify the given

538
00:24:18,960 --> 00:24:20,039
site

539
00:24:20,039 --> 00:24:23,159
with not only the ESI for L2 purposes

540
00:24:23,159 --> 00:24:25,260
but with the new bgp attribute called

541
00:24:25,260 --> 00:24:27,780
The Domain path d-pass

542
00:24:27,780 --> 00:24:31,280
I'll show you that later on

543
00:24:32,280 --> 00:24:34,980
So speaking about uh seamless tunnel

544
00:24:34,980 --> 00:24:37,140
stitching we can have more complex

545
00:24:37,140 --> 00:24:40,860
designs in this case where actually for

546
00:24:40,860 --> 00:24:43,440
some of the federal deployments we need

547
00:24:43,440 --> 00:24:46,200
to make sure that some data stays in the

548
00:24:46,200 --> 00:24:48,960
given location it's like per contract

549
00:24:48,960 --> 00:24:51,240
that you don't move data

550
00:24:51,240 --> 00:24:54,360
or you're allowed to move the data from

551
00:24:54,360 --> 00:24:56,760
one location to very specific remote

552
00:24:56,760 --> 00:24:59,640
location as per contract if it's not

553
00:24:59,640 --> 00:25:01,380
respected you are breaking the law in

554
00:25:01,380 --> 00:25:04,080
the country right so in this case we can

555
00:25:04,080 --> 00:25:06,600
use the technology of uh tunnel

556
00:25:06,600 --> 00:25:09,480
stitching at Mac verb level isolation to

557
00:25:09,480 --> 00:25:11,460
make sure that the data gets replicated

558
00:25:11,460 --> 00:25:15,140
to the right data center location

559
00:25:15,140 --> 00:25:17,520
so in this case you can see that the

560
00:25:17,520 --> 00:25:20,159
stitching technology is delivered at the

561
00:25:20,159 --> 00:25:22,500
common border block for two different

562
00:25:22,500 --> 00:25:27,299
pods and only the magverf AC goes down

563
00:25:27,299 --> 00:25:29,520
to the data center site C

564
00:25:29,520 --> 00:25:31,919
and then only marked worth a b stitching

565
00:25:31,919 --> 00:25:34,559
goes to the data center side B so it

566
00:25:34,559 --> 00:25:37,440
means with that technology you get an

567
00:25:37,440 --> 00:25:40,440
opportunity to really control where your

568
00:25:40,440 --> 00:25:43,760
your data is saved or replicated right

569
00:25:43,760 --> 00:25:46,320
very important right this is not just

570
00:25:46,320 --> 00:25:49,380
the imagination of the vendors this is

571
00:25:49,380 --> 00:25:52,919
per requirements of the of the legal

572
00:25:52,919 --> 00:25:56,880
let's say requirements

573
00:25:57,360 --> 00:25:59,580
so mcverf is nothing more than the

574
00:25:59,580 --> 00:26:02,700
definition of evpn instance so you know

575
00:26:02,700 --> 00:26:05,419
uh that we have in the case of VPN

576
00:26:05,419 --> 00:26:08,460
different type of acronyms that

577
00:26:08,460 --> 00:26:10,559
sometimes means the same thing it's

578
00:26:10,559 --> 00:26:12,179
nothing more than EVP and instance the

579
00:26:12,179 --> 00:26:14,900
backwards right

580
00:26:16,559 --> 00:26:18,720
okay so a few words about the

581
00:26:18,720 --> 00:26:21,299
implementation part

582
00:26:21,299 --> 00:26:24,779
so in case of implementation uh we we

583
00:26:24,779 --> 00:26:26,880
add oops sorry

584
00:26:26,880 --> 00:26:28,860
in case of implementation we have a new

585
00:26:28,860 --> 00:26:32,120
dedicated block where we Define in fact

586
00:26:32,120 --> 00:26:36,659
how these uh extension will really look

587
00:26:36,659 --> 00:26:40,080
like so we can simply bring the

588
00:26:40,080 --> 00:26:41,940
definition of the site

589
00:26:41,940 --> 00:26:45,000
with that interconnect ESI that's going

590
00:26:45,000 --> 00:26:47,039
to be our site identifier

591
00:26:47,039 --> 00:26:49,980
so some more significant numbers can be

592
00:26:49,980 --> 00:26:52,500
used for example just to say this is

593
00:26:52,500 --> 00:26:55,740
site one the other one is site B so uh

594
00:26:55,740 --> 00:26:58,559
because it's uh it's a 10 byte value so

595
00:26:58,559 --> 00:27:00,960
we can define a lot of these sites and

596
00:27:00,960 --> 00:27:02,700
then whenever we have to be very

597
00:27:02,700 --> 00:27:04,620
prescriptive in terms of the definition

598
00:27:04,620 --> 00:27:08,159
of the vnis we will Define which

599
00:27:08,159 --> 00:27:10,919
workloads really are extended to the

600
00:27:10,919 --> 00:27:13,400
remote location

601
00:27:16,919 --> 00:27:19,860
so the new routes targets same thing we

602
00:27:19,860 --> 00:27:22,440
actually Define besides the land

603
00:27:22,440 --> 00:27:25,320
specific route targets we will Define

604
00:27:25,320 --> 00:27:28,020
the the data center interpret Network

605
00:27:28,020 --> 00:27:30,539
targets to have a common understanding

606
00:27:30,539 --> 00:27:34,500
between different locations

607
00:27:36,000 --> 00:27:38,220
and then another example whenever we

608
00:27:38,220 --> 00:27:39,779
don't want to do L2

609
00:27:39,779 --> 00:27:42,779
we just want to uh actually manage IP

610
00:27:42,779 --> 00:27:45,600
prefix reachability in this case we have

611
00:27:45,600 --> 00:27:47,580
that new dedicated block

612
00:27:47,580 --> 00:27:51,059
as an example of how to introduce the

613
00:27:51,059 --> 00:27:53,700
interconnectivity for IP purposes only

614
00:27:53,700 --> 00:27:56,159
for data center interconnect

615
00:27:56,159 --> 00:27:59,460
so if we remember the diagrams we've

616
00:27:59,460 --> 00:28:01,740
seen so far right

617
00:28:01,740 --> 00:28:03,740
um

618
00:28:04,140 --> 00:28:06,900
this one where actually prefixes are

619
00:28:06,900 --> 00:28:08,760
originated here

620
00:28:08,760 --> 00:28:11,700
they go down up to the Border

621
00:28:11,700 --> 00:28:14,880
and that's at the border Leaf level

622
00:28:14,880 --> 00:28:17,700
where I will Define that block

623
00:28:17,700 --> 00:28:21,799
right at the edge of the fabric

624
00:28:25,679 --> 00:28:28,080
so from the verification point of view I

625
00:28:28,080 --> 00:28:31,500
mentioned that we can uh use the site

626
00:28:31,500 --> 00:28:34,679
identifier as a way to trace the origin

627
00:28:34,679 --> 00:28:37,380
of the of the MacBook addresses so in

628
00:28:37,380 --> 00:28:39,840
this case we have for example all the

629
00:28:39,840 --> 00:28:42,120
Mac addresses I learned here they are

630
00:28:42,120 --> 00:28:43,980
coming from specific site

631
00:28:43,980 --> 00:28:46,740
and in journals I can precisely actually

632
00:28:46,740 --> 00:28:48,860
uh

633
00:28:48,860 --> 00:28:51,419
specify either I'm searching for Mac

634
00:28:51,419 --> 00:28:54,659
addresses from remote locations or uh oh

635
00:28:54,659 --> 00:28:57,659
I'm I'm care about is uh well the

636
00:28:57,659 --> 00:28:59,400
definition of the Mac addresses that are

637
00:28:59,400 --> 00:29:01,440
local to the fabric

638
00:29:01,440 --> 00:29:04,260
and then from tunnel perspective

639
00:29:04,260 --> 00:29:06,779
we have a specific Flags

640
00:29:06,779 --> 00:29:09,179
which will tell us either

641
00:29:09,179 --> 00:29:12,600
I have my uh reachability for the one

642
00:29:12,600 --> 00:29:16,440
connectivity the DCI connectivity or to

643
00:29:16,440 --> 00:29:17,820
the fabric right

644
00:29:17,820 --> 00:29:19,980
so we can see that that's another flag

645
00:29:19,980 --> 00:29:22,080
that we added in order to distinguish

646
00:29:22,080 --> 00:29:25,559
between a different type of vxlan

647
00:29:25,559 --> 00:29:28,380
tunnels right

648
00:29:28,380 --> 00:29:30,840
so in this room is anybody deploying a

649
00:29:30,840 --> 00:29:32,700
VPN or

650
00:29:32,700 --> 00:29:36,000
did okay I see some hands good

651
00:29:36,000 --> 00:29:37,500
so uh

652
00:29:37,500 --> 00:29:39,419
so that's that's something we actually

653
00:29:39,419 --> 00:29:42,360
uh do because uh obviously there are

654
00:29:42,360 --> 00:29:44,460
some devices which can

655
00:29:44,460 --> 00:29:47,279
have 1000 tunnels the excellent tunnels

656
00:29:47,279 --> 00:29:49,500
on the box but it's not just about

657
00:29:49,500 --> 00:29:52,080
scaling scaling is one of the part of of

658
00:29:52,080 --> 00:29:54,539
the story but it's also that operational

659
00:29:54,539 --> 00:29:56,880
aspect right I am the admin of the

660
00:29:56,880 --> 00:29:57,840
fabric

661
00:29:57,840 --> 00:30:00,299
even if I can support 1000 tunnels on

662
00:30:00,299 --> 00:30:03,299
the box managing 1000 tunnels knowing

663
00:30:03,299 --> 00:30:06,299
where they go is Pretty Tough huh when

664
00:30:06,299 --> 00:30:08,100
it's one thousand two thousand tunnels

665
00:30:08,100 --> 00:30:11,279
even if I can scale on the box

666
00:30:11,279 --> 00:30:13,980
if I check my logical interfaces

667
00:30:13,980 --> 00:30:16,500
associated with the vdaps having two

668
00:30:16,500 --> 00:30:19,620
thousand of those on the box is pretty

669
00:30:19,620 --> 00:30:22,140
big right whenever you deployed it on

670
00:30:22,140 --> 00:30:25,039
multiple sites

671
00:30:27,419 --> 00:30:29,279
so just to sum up the two differences

672
00:30:29,279 --> 00:30:31,380
between a couple of differences between

673
00:30:31,380 --> 00:30:35,820
the stitching options for L2 versus L3

674
00:30:35,820 --> 00:30:38,039
Mac versus IP

675
00:30:38,039 --> 00:30:41,700
so we have a stitching of type 5 we

676
00:30:41,700 --> 00:30:44,399
don't create any logical interfaces it

677
00:30:44,399 --> 00:30:46,440
means everything is based on the rewrite

678
00:30:46,440 --> 00:30:49,260
of the next hops right I don't have to

679
00:30:49,260 --> 00:30:51,960
actually care about how many of my

680
00:30:51,960 --> 00:30:53,820
logical interfaces I created at my

681
00:30:53,820 --> 00:30:56,159
border leave devices everything is

682
00:30:56,159 --> 00:31:00,500
handled at the next hop level

683
00:31:00,720 --> 00:31:03,659
ESI concept specific to the L2

684
00:31:03,659 --> 00:31:06,360
connectivity it means I will do my load

685
00:31:06,360 --> 00:31:09,840
balancing to my destination ESI in case

686
00:31:09,840 --> 00:31:15,500
of L2 not the case of type 5evpn

687
00:31:15,659 --> 00:31:18,779
configs we've seen that for L2 purposes

688
00:31:18,779 --> 00:31:22,080
I will handle my configuration in side

689
00:31:22,080 --> 00:31:25,440
my Mac Verve inside my EDI and whenever

690
00:31:25,440 --> 00:31:28,559
I'm deploying just prefix advertisement

691
00:31:28,559 --> 00:31:32,820
in this case I will just use my ipverse

692
00:31:32,820 --> 00:31:35,820
in terms of implementation

693
00:31:35,820 --> 00:31:37,620
and the last point we already talked

694
00:31:37,620 --> 00:31:40,799
about that load balancing is in case of

695
00:31:40,799 --> 00:31:45,960
type 5 instances done using ipcmp

696
00:31:46,020 --> 00:31:48,600
so I already mentioned that uh for all

697
00:31:48,600 --> 00:31:50,399
the data center interconnect Solutions

698
00:31:50,399 --> 00:31:53,279
we have a new attribute which is

699
00:31:53,279 --> 00:31:56,100
emerging in the industry and it's called

700
00:31:56,100 --> 00:31:59,100
the d-puff d stands for domain path

701
00:31:59,100 --> 00:32:01,940
and actually is uh

702
00:32:01,940 --> 00:32:05,100
something that uh probably in the coming

703
00:32:05,100 --> 00:32:07,500
couple of years we will identify other

704
00:32:07,500 --> 00:32:10,620
use cases for that attribute but mainly

705
00:32:10,620 --> 00:32:12,899
was uh was defined for the data center

706
00:32:12,899 --> 00:32:15,299
interconnect purposes

707
00:32:15,299 --> 00:32:19,200
so just as a problem statement so we

708
00:32:19,200 --> 00:32:22,080
have this topology again very similar

709
00:32:22,080 --> 00:32:24,419
topology we've seen so far so whenever

710
00:32:24,419 --> 00:32:26,460
there are prefixes advertisement from

711
00:32:26,460 --> 00:32:27,720
one side

712
00:32:27,720 --> 00:32:30,240
to the remote site we may have a

713
00:32:30,240 --> 00:32:32,880
situation where because everything is

714
00:32:32,880 --> 00:32:35,760
based on ebgp that the remote location

715
00:32:35,760 --> 00:32:40,200
will rewrite the us as path right

716
00:32:40,200 --> 00:32:42,360
the as path will be Rewritten at the

717
00:32:42,360 --> 00:32:43,200
edge

718
00:32:43,200 --> 00:32:46,200
and we will get the same prefix we

719
00:32:46,200 --> 00:32:48,299
advertise to the remote location

720
00:32:48,299 --> 00:32:51,360
we will actually get it back

721
00:32:51,360 --> 00:32:54,059
from the remote location and accept it

722
00:32:54,059 --> 00:32:56,580
so the Border will become quite confused

723
00:32:56,580 --> 00:32:58,919
on either go through the remote data

724
00:32:58,919 --> 00:33:02,820
center to get back to prefix one

725
00:33:02,820 --> 00:33:04,500
or uh

726
00:33:04,500 --> 00:33:07,020
as an admin you understand every single

727
00:33:07,020 --> 00:33:09,840
prefix you have to manage and you apply

728
00:33:09,840 --> 00:33:12,840
a lot of Route Maps a lot of policy

729
00:33:12,840 --> 00:33:16,140
statements to manage your routing Loop

730
00:33:16,140 --> 00:33:19,279
situation right so in order to simplify

731
00:33:19,279 --> 00:33:22,679
the way actually you control the origin

732
00:33:22,679 --> 00:33:25,860
of the IP prefixes or evpn longit

733
00:33:25,860 --> 00:33:27,240
prefixes

734
00:33:27,240 --> 00:33:30,840
uh the industry or the community came up

735
00:33:30,840 --> 00:33:32,940
with the new bgp attribute which by

736
00:33:32,940 --> 00:33:37,679
default will block the prefixes with the

737
00:33:37,679 --> 00:33:40,380
domain path domain ID

738
00:33:40,380 --> 00:33:44,820
in the list of domain IDs if we see our

739
00:33:44,820 --> 00:33:46,799
own domain ID we'll drop that control

740
00:33:46,799 --> 00:33:48,840
plane advertisement so we have a loop

741
00:33:48,840 --> 00:33:50,940
prevention mechanism by default

742
00:33:50,940 --> 00:33:52,500
integrated

743
00:33:52,500 --> 00:33:57,480
into the into the solution so if we come

744
00:33:57,480 --> 00:33:59,220
back to that diagram it's pretty it's a

745
00:33:59,220 --> 00:34:01,380
little bit bigger so we have two domains

746
00:34:01,380 --> 00:34:04,019
domain one domain three and it means

747
00:34:04,019 --> 00:34:08,359
whenever I get back at Graphics from uh

748
00:34:08,359 --> 00:34:12,899
site B with my local domain one in the

749
00:34:12,899 --> 00:34:14,040
list

750
00:34:14,040 --> 00:34:16,260
I will just drop that control plane

751
00:34:16,260 --> 00:34:17,699
right

752
00:34:17,699 --> 00:34:20,339
and always prefer my my local one from

753
00:34:20,339 --> 00:34:22,619
the reachability point of view

754
00:34:22,619 --> 00:34:25,859
and of course if we want to use that

755
00:34:25,859 --> 00:34:28,918
domain path as a way to identify sites

756
00:34:28,918 --> 00:34:30,839
it's also another mechanism to do that

757
00:34:30,839 --> 00:34:31,918
right

758
00:34:31,918 --> 00:34:33,960
so what's it's pretty cool as a solution

759
00:34:33,960 --> 00:34:37,139
it's applicable for IP prefix

760
00:34:37,139 --> 00:34:39,839
advertisement as well as for evpn Mac

761
00:34:39,839 --> 00:34:42,659
advertisement right so we get a specific

762
00:34:42,659 --> 00:34:45,839
bgp attribute it was mentioned that it's

763
00:34:45,839 --> 00:34:48,060
alert learning is part of the objectives

764
00:34:48,060 --> 00:34:51,540
of nanog so for people uh who didn't

765
00:34:51,540 --> 00:34:53,520
know there is a new bgp attribute now

766
00:34:53,520 --> 00:34:56,960
you can talk about

767
00:34:57,000 --> 00:35:01,800
okay summary notes right so uh seamless

768
00:35:01,800 --> 00:35:03,960
tunnel stitching summary notes means we

769
00:35:03,960 --> 00:35:06,599
have a solution which gives us an

770
00:35:06,599 --> 00:35:11,099
opportunity to create a DCI Services

771
00:35:11,099 --> 00:35:13,859
um break the domains the overlays

772
00:35:13,859 --> 00:35:16,740
domains in multiple places in order to

773
00:35:16,740 --> 00:35:18,660
scale out

774
00:35:18,660 --> 00:35:20,940
we reduce the load

775
00:35:20,940 --> 00:35:24,720
play control plane uh because we we

776
00:35:24,720 --> 00:35:26,280
simply uh

777
00:35:26,280 --> 00:35:29,040
uh instead of accepting all the remote

778
00:35:29,040 --> 00:35:31,920
location adpn routes we are just

779
00:35:31,920 --> 00:35:34,140
actually considering the DCI for any

780
00:35:34,140 --> 00:35:36,660
remote location so we reduce the rib

781
00:35:36,660 --> 00:35:39,420
size and the Fib size thanks to that

782
00:35:39,420 --> 00:35:41,339
solution

783
00:35:41,339 --> 00:35:45,180
improve the DC and DCI control overlay

784
00:35:45,180 --> 00:35:47,640
domain creation we've seen the debuff as

785
00:35:47,640 --> 00:35:49,260
a way to do that

786
00:35:49,260 --> 00:35:51,660
simplify day-to-day operations

787
00:35:51,660 --> 00:35:55,440
we can have the pre-established evpn

788
00:35:55,440 --> 00:35:57,900
tunneling between the site and then

789
00:35:57,900 --> 00:36:00,060
whenever I need to connect a new Leaf in

790
00:36:00,060 --> 00:36:02,400
the fabric it's going to be hooked up to

791
00:36:02,400 --> 00:36:03,180
the

792
00:36:03,180 --> 00:36:06,780
to the spines only instead of getting a

793
00:36:06,780 --> 00:36:10,079
new Leaf device and originate an

794
00:36:10,079 --> 00:36:12,300
avalanche of the extern tunnels it will

795
00:36:12,300 --> 00:36:16,079
just connect to my local border devices

796
00:36:16,079 --> 00:36:19,260
and be already directly connected to the

797
00:36:19,260 --> 00:36:21,859
remote location

798
00:36:22,200 --> 00:36:24,720
normalized scale again if you remember

799
00:36:24,720 --> 00:36:27,480
the diagram we could use border devices

800
00:36:27,480 --> 00:36:29,820
as a block where we normalize the

801
00:36:29,820 --> 00:36:31,920
scaling between the sites

802
00:36:31,920 --> 00:36:35,099
and then additional Point quite

803
00:36:35,099 --> 00:36:36,060
interesting

804
00:36:36,060 --> 00:36:39,300
that whenever we terminate these tunnels

805
00:36:39,300 --> 00:36:42,480
On the Border we can add more security

806
00:36:42,480 --> 00:36:44,280
into the fabric right

807
00:36:44,280 --> 00:36:47,460
so I said that data

808
00:36:47,460 --> 00:36:50,579
storing the data in the OR delivering

809
00:36:50,579 --> 00:36:53,460
data storage is very important also from

810
00:36:53,460 --> 00:36:56,160
the reliability and the security point

811
00:36:56,160 --> 00:36:57,720
of view to make sure that we get the

812
00:36:57,720 --> 00:36:59,579
data from the right origin

813
00:36:59,579 --> 00:37:02,339
and so whenever we deploy the stitching

814
00:37:02,339 --> 00:37:06,980
we can actually get additional L4 L7

815
00:37:06,980 --> 00:37:10,260
inspections on the interconnectivity vni

816
00:37:10,260 --> 00:37:12,359
instead of just running an overlay

817
00:37:12,359 --> 00:37:15,660
directly to the remote location I can

818
00:37:15,660 --> 00:37:18,599
terminate my VX stand on the border and

819
00:37:18,599 --> 00:37:21,000
then put it directly into the l47

820
00:37:21,000 --> 00:37:24,420
inspections right very important

821
00:37:24,420 --> 00:37:27,480
same goes for uh the group based policy

822
00:37:27,480 --> 00:37:29,760
so people who deploy it in the room

823
00:37:29,760 --> 00:37:32,520
already VPN vxlan you know that there is

824
00:37:32,520 --> 00:37:35,099
that additional field in the vxlan which

825
00:37:35,099 --> 00:37:37,740
can deliver which which can get you the

826
00:37:37,740 --> 00:37:38,820
opportunity to deliver micro

827
00:37:38,820 --> 00:37:40,440
segmentation

828
00:37:40,440 --> 00:37:44,339
so in this case with the DCI we can

829
00:37:44,339 --> 00:37:46,980
also leverage the group based policy IDs

830
00:37:46,980 --> 00:37:49,740
between the data center site and respect

831
00:37:49,740 --> 00:37:53,040
the uh the segmentation level from the

832
00:37:53,040 --> 00:37:55,800
one fabric to another fabric

833
00:37:55,800 --> 00:37:58,020
so one of the emerging part in in case

834
00:37:58,020 --> 00:38:00,420
of the group based policy in the DCI

835
00:38:00,420 --> 00:38:03,660
context is to actually advertise the

836
00:38:03,660 --> 00:38:06,839
group based policy ID as an additional

837
00:38:06,839 --> 00:38:08,520
bgp community

838
00:38:08,520 --> 00:38:11,099
so don't be surprised if you see that in

839
00:38:11,099 --> 00:38:14,280
some of the ITF Publications

840
00:38:14,280 --> 00:38:16,260
and then flood rate control that's

841
00:38:16,260 --> 00:38:19,140
another aspect I terminate my VX funds

842
00:38:19,140 --> 00:38:21,060
on the on the border

843
00:38:21,060 --> 00:38:25,320
and I can Implement my uh flood rate

844
00:38:25,320 --> 00:38:29,220
control at the border before allowing

845
00:38:29,220 --> 00:38:32,040
any traffic from remote location let's

846
00:38:32,040 --> 00:38:34,980
say I have an attack right adidos attack

847
00:38:34,980 --> 00:38:37,980
coming from from the one I can block it

848
00:38:37,980 --> 00:38:42,359
before it goes directly to the server

849
00:38:42,359 --> 00:38:45,300
so I can put in place by DDOS policies

850
00:38:45,300 --> 00:38:47,339
at the edge of the fabric to protect my

851
00:38:47,339 --> 00:38:51,500
servers with that solution as well

852
00:38:52,140 --> 00:38:54,119
and that's that's all I have for today

853
00:38:54,119 --> 00:38:56,220
five minutes for any questions I know

854
00:38:56,220 --> 00:38:59,040
that you some of you deployed a VPN so

855
00:38:59,040 --> 00:39:01,440
even if it's not DCI related I'll be

856
00:39:01,440 --> 00:39:03,540
more than happy to to get some questions

857
00:39:03,540 --> 00:39:05,160
from you guys

858
00:39:05,160 --> 00:39:08,700
we have still five minutes

859
00:39:08,700 --> 00:39:10,740
any questions

860
00:39:10,740 --> 00:39:12,720
maybe from juniper

861
00:39:12,720 --> 00:39:15,439
no

862
00:39:15,599 --> 00:39:18,859
maybe from juniper

863
00:39:28,200 --> 00:39:31,279
so for Blake Lewis

864
00:39:35,780 --> 00:39:38,160
authorized traffic ingestion

865
00:39:38,160 --> 00:39:41,700
uh into the VPN are you aware of vxlan

866
00:39:41,700 --> 00:39:43,920
implementations that offer similar

867
00:39:43,920 --> 00:39:45,119
protections

868
00:39:45,119 --> 00:39:48,420
now on vxlan we don't have that today

869
00:39:48,420 --> 00:39:50,940
uh so what's a good question thanks for

870
00:39:50,940 --> 00:39:54,540
it uh so on on vx1 the only thing we we

871
00:39:54,540 --> 00:39:58,440
can do uh is uh to actually inspect the

872
00:39:58,440 --> 00:40:01,619
tunnel in transit on the firewall

873
00:40:01,619 --> 00:40:03,839
so means you have your uh

874
00:40:03,839 --> 00:40:06,839
routing vni that goes across the

875
00:40:06,839 --> 00:40:08,940
firewall and then all of this is

876
00:40:08,940 --> 00:40:10,920
inspected at the firewall level for

877
00:40:10,920 --> 00:40:12,599
advanced policing

878
00:40:12,599 --> 00:40:15,060
that's what we have

879
00:40:15,060 --> 00:40:17,820
any other questions from

880
00:40:17,820 --> 00:40:20,579
people in the room

881
00:40:20,579 --> 00:40:22,680
please

882
00:40:22,680 --> 00:40:24,480
thanks for the talk we know it's from

883
00:40:24,480 --> 00:40:29,040
kisai any thoughts on what's the best uh

884
00:40:29,040 --> 00:40:31,800
overlay interconnect for you know best

885
00:40:31,800 --> 00:40:34,920
man bandwidth or latency considerations

886
00:40:34,920 --> 00:40:37,920
or outage for example we have had

887
00:40:37,920 --> 00:40:40,500
multiple these data centers which have

888
00:40:40,500 --> 00:40:45,060
been you know locked by outages so any

889
00:40:45,060 --> 00:40:46,680
considerations that service providers

890
00:40:46,680 --> 00:40:48,359
need to take or Cloud providers to take

891
00:40:48,359 --> 00:40:51,000
which overlaid technology to choose when

892
00:40:51,000 --> 00:40:53,400
system is doing well or you know when

893
00:40:53,400 --> 00:40:56,280
detecting outages and bringing sites

894
00:40:56,280 --> 00:40:57,900
back up

895
00:40:57,900 --> 00:41:00,720
thanks for the question so uh for the

896
00:41:00,720 --> 00:41:03,060
outages detections there are uh

897
00:41:03,060 --> 00:41:06,780
standards for oam also for vxlan and

898
00:41:06,780 --> 00:41:09,119
another one to detect quicker the

899
00:41:09,119 --> 00:41:11,700
bi-directional state of the tunnels of

900
00:41:11,700 --> 00:41:15,599
the overlays is to actually get a BFD

901
00:41:15,599 --> 00:41:17,940
inside the vx1 tunnel that's another

902
00:41:17,940 --> 00:41:21,180
much more simplified than oam so there

903
00:41:21,180 --> 00:41:23,760
is actually a fully standard RFC on this

904
00:41:23,760 --> 00:41:26,579
that you are running your BFD inside the

905
00:41:26,579 --> 00:41:28,740
VXL tunnel to get a bi-directional

906
00:41:28,740 --> 00:41:30,420
communication check

907
00:41:30,420 --> 00:41:33,540
that would be one of the solution

908
00:41:33,540 --> 00:41:36,420
the second question came in can you any

909
00:41:36,420 --> 00:41:40,260
cast a Gateway across borders

910
00:41:40,260 --> 00:41:43,020
and within but with cross-borders

911
00:41:43,020 --> 00:41:45,660
I didn't get the final part any cast

912
00:41:45,660 --> 00:41:48,660
anycast okay a gateway across borders

913
00:41:48,660 --> 00:41:50,640
within the within a border no problem

914
00:41:50,640 --> 00:41:53,579
right but across borders okay across the

915
00:41:53,579 --> 00:41:57,000
sides yes yeah so for any cost uh

916
00:41:57,000 --> 00:41:59,520
obviously if you remember the diagrams I

917
00:41:59,520 --> 00:42:01,800
was showing so we have that distributed

918
00:42:01,800 --> 00:42:04,400
anycast IP Gateway on the leave devices

919
00:42:04,400 --> 00:42:07,940
uh in case of the DCI Solutions

920
00:42:07,940 --> 00:42:11,280
obviously in this case we advertise the

921
00:42:11,280 --> 00:42:14,220
the Mac IP actually to the remote

922
00:42:14,220 --> 00:42:18,540
locations right so uh the

923
00:42:18,540 --> 00:42:22,380
the local proxy ARP state is maintained

924
00:42:22,380 --> 00:42:24,900
in all of these Solutions right

925
00:42:24,900 --> 00:42:27,180
so that doesn't change from what you

926
00:42:27,180 --> 00:42:29,579
have in the fabric still you will

927
00:42:29,579 --> 00:42:32,040
continue to advertise your Mac Mac IP to

928
00:42:32,040 --> 00:42:34,339
the remote location if you extend the

929
00:42:34,339 --> 00:42:37,099
the L2 context to the remote location

930
00:42:37,099 --> 00:42:39,660
otherwise if you don't extend it stays

931
00:42:39,660 --> 00:42:41,579
within the fabric only

932
00:42:41,579 --> 00:42:45,260
was that the the question

933
00:42:54,000 --> 00:42:56,160
now in this case you can either stay

934
00:42:56,160 --> 00:42:59,400
with your evpn VX on L2 in the fabric or

935
00:42:59,400 --> 00:43:01,619
if you extend it you still preserve the

936
00:43:01,619 --> 00:43:03,540
same approach of getting a anycast

937
00:43:03,540 --> 00:43:05,760
gateways in one location and the other

938
00:43:05,760 --> 00:43:08,160
location right some say same any case

939
00:43:08,160 --> 00:43:09,660
Gateway would be replicated in the

940
00:43:09,660 --> 00:43:12,140
remote location

941
00:43:13,020 --> 00:43:17,220
so it means in consequence it means you

942
00:43:17,220 --> 00:43:19,380
still have to do all the control plane

943
00:43:19,380 --> 00:43:21,839
rewrites at the at the edge of the

944
00:43:21,839 --> 00:43:25,640
fabric right for the Mac IP

945
00:43:26,280 --> 00:43:28,079
yeah

946
00:43:28,079 --> 00:43:30,720
any other questions

947
00:43:30,720 --> 00:43:34,020
no questions okay so I hope you enjoyed

948
00:43:34,020 --> 00:43:36,180
this session please I will be around uh

949
00:43:36,180 --> 00:43:39,300
roaming uh in this location and uh we

950
00:43:39,300 --> 00:43:41,819
can get either coffee or beer in French

951
00:43:41,819 --> 00:43:44,280
English or polish which language you

952
00:43:44,280 --> 00:43:46,800
prefer so I'll be more than happy to to

953
00:43:46,800 --> 00:43:50,660
hang out with you guys thanks again

954
00:43:52,190 --> 00:43:55,000
[Applause]

955
00:43:55,000 --> 00:43:58,739
[Music]

