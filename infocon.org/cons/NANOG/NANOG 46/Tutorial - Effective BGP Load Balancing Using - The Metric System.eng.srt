1
00:00:00,030 --> 00:00:08,270
<font color="#E5E5E5">okay what's four o'clock so I'm gonna</font>

2
00:00:02,370 --> 00:00:08,270
get<font color="#E5E5E5"> started hi everybody and welcome</font><font color="#CCCCCC"> and</font>

3
00:00:08,450 --> 00:00:13,500
my name is uh my name is<font color="#CCCCCC"> Donnie Royce</font>

4
00:00:11,759 --> 00:00:15,630
Minh<font color="#E5E5E5"> I work for a company called</font><font color="#CCCCCC"> peak</font>

5
00:00:13,500 --> 00:00:17,759
web<font color="#E5E5E5"> consulting I'm gonna talk</font><font color="#CCCCCC"> to you</font>

6
00:00:15,630 --> 00:00:19,529
about effective<font color="#E5E5E5"> bgp load balancing using</font>

7
00:00:17,760 --> 00:00:21,930
the metric system<font color="#E5E5E5"> so this is</font><font color="#CCCCCC"> a</font>

8
00:00:19,529 --> 00:00:24,300
<font color="#CCCCCC">real-world</font><font color="#E5E5E5"> guide to bgp traffic</font>

9
00:00:21,930 --> 00:00:26,039
engineering stuff that we've used worked

10
00:00:24,300 --> 00:00:27,599
in multiple<font color="#CCCCCC"> situations but using</font><font color="#E5E5E5"> it</font>

11
00:00:26,039 --> 00:00:32,880
using<font color="#CCCCCC"> this technique for</font><font color="#E5E5E5"> a very long</font>

12
00:00:27,599 --> 00:00:34,559
time<font color="#CCCCCC"> peak</font><font color="#E5E5E5"> web consulting we do network</font>

13
00:00:32,880 --> 00:00:36,780
<font color="#E5E5E5">engineering we do design will do</font>

14
00:00:34,559 --> 00:00:38,968
deployments<font color="#E5E5E5"> we help a lot of</font><font color="#CCCCCC"> a lot</font><font color="#E5E5E5"> of</font>

15
00:00:36,780 --> 00:00:40,410
content companies that don't<font color="#E5E5E5"> have their</font>

16
00:00:38,969 --> 00:00:42,200
own<font color="#E5E5E5"> in-house network engineering staff</font>

17
00:00:40,410 --> 00:00:44,760
simply<font color="#E5E5E5"> because they don't need enough</font>

18
00:00:42,200 --> 00:00:45,930
day-to-day networking and they'll bring

19
00:00:44,760 --> 00:00:47,670
us in when they're<font color="#CCCCCC"> growing and</font><font color="#E5E5E5"> they</font>

20
00:00:45,930 --> 00:00:50,700
realize they need more<font color="#CCCCCC"> sophisticated</font>

21
00:00:47,670 --> 00:00:52,410
networking<font color="#E5E5E5"> multipotent</font><font color="#CCCCCC"> multihoming grow</font>

22
00:00:50,700 --> 00:00:54,480
<font color="#E5E5E5">from one rack to 20 racks they want to</font>

23
00:00:52,410 --> 00:00:56,550
get all the redundancy resilience and

24
00:00:54,480 --> 00:00:58,440
fix again to any program<font color="#E5E5E5"> committee guys</font>

25
00:00:56,550 --> 00:01:01,199
that<font color="#E5E5E5"> are out here</font><font color="#CCCCCC"> for</font><font color="#E5E5E5"> giving me a chance</font>

26
00:00:58,440 --> 00:01:03,358
<font color="#CCCCCC">to</font><font color="#E5E5E5"> come up here I really appreciate</font><font color="#CCCCCC"> it</font>

27
00:01:01,199 --> 00:01:05,548
what<font color="#CCCCCC"> is</font><font color="#E5E5E5"> bgp load balancing so networks</font>

28
00:01:03,359 --> 00:01:08,689
that have multiple<font color="#E5E5E5"> ISP connections and</font>

29
00:01:05,549 --> 00:01:10,560
receiving the full<font color="#E5E5E5"> router table by BGP</font>

30
00:01:08,689 --> 00:01:13,048
typically<font color="#E5E5E5"> your</font><font color="#CCCCCC"> multi-home so you're</font>

31
00:01:10,560 --> 00:01:14,670
connecting to diverse ISPs some cases it

32
00:01:13,049 --> 00:01:17,009
<font color="#E5E5E5">may be to links to the same ISP you're</font>

33
00:01:14,670 --> 00:01:18,720
trying to load<font color="#CCCCCC"> balance across them</font><font color="#E5E5E5"> you</font>

34
00:01:17,009 --> 00:01:20,430
need a<font color="#CCCCCC"> balanced legalization</font><font color="#E5E5E5"> of all of</font>

35
00:01:18,720 --> 00:01:23,179
these<font color="#E5E5E5"> links maybe they're mismatched one</font>

36
00:01:20,430 --> 00:01:25,320
<font color="#CCCCCC">gig e</font><font color="#E5E5E5"> vs 10 gig e OC 48 OC threes</font>

37
00:01:23,180 --> 00:01:27,780
typically you needed balance in order<font color="#CCCCCC"> to</font>

38
00:01:25,320 --> 00:01:30,000
control your cost<font color="#E5E5E5"> maybe you have</font><font color="#CCCCCC"> a 509</font>

39
00:01:27,780 --> 00:01:31,049
<font color="#CCCCCC">commit on one link and a 300 Meg commit</font>

40
00:01:30,000 --> 00:01:33,990
on<font color="#E5E5E5"> the other link you don't want to be</font>

41
00:01:31,049 --> 00:01:35,460
<font color="#E5E5E5">sending 800 Meg to one is P and zero Meg</font>

42
00:01:33,990 --> 00:01:38,130
together<font color="#E5E5E5"> is because</font><font color="#CCCCCC"> you're</font><font color="#E5E5E5"> paying for</font>

43
00:01:35,460 --> 00:01:40,350
bandwidth you're not<font color="#CCCCCC"> utilizing and of</font>

44
00:01:38,130 --> 00:01:41,640
course<font color="#E5E5E5"> you're also going to balance</font><font color="#CCCCCC"> a</font>

45
00:01:40,350 --> 00:01:43,710
<font color="#E5E5E5">traffic in order to avoid congestion</font>

46
00:01:41,640 --> 00:01:45,479
<font color="#E5E5E5">again if you have a one giggling to one</font>

47
00:01:43,710 --> 00:01:46,949
ISP<font color="#E5E5E5"> and attending together it doesn't</font>

48
00:01:45,479 --> 00:01:49,679
<font color="#CCCCCC">make sense we'd be</font><font color="#E5E5E5"> sending 900 mega on</font>

49
00:01:46,950 --> 00:01:50,700
the<font color="#CCCCCC"> GigE link and 300 Meg on the 10 gig</font>

50
00:01:49,680 --> 00:01:52,290
<font color="#E5E5E5">e</font><font color="#CCCCCC"> link</font><font color="#E5E5E5"> so you're gonna have to ship</font>

51
00:01:50,700 --> 00:01:54,509
traffic<font color="#E5E5E5"> around different different</font>

52
00:01:52,290 --> 00:01:55,380
reasons you may balance traffic I'm

53
00:01:54,509 --> 00:01:57,960
gonna be talking primarily<font color="#E5E5E5"> about</font>

54
00:01:55,380 --> 00:01:59,369
outbound traffic here there are

55
00:01:57,960 --> 00:02:03,329
<font color="#E5E5E5">different techniques for inbound and</font>

56
00:01:59,369 --> 00:02:04,560
outbound<font color="#CCCCCC"> BGP</font><font color="#E5E5E5"> and typically</font><font color="#CCCCCC"> for content</font>

57
00:02:03,329 --> 00:02:05,979
networks which is<font color="#CCCCCC"> where I end up</font><font color="#E5E5E5"> doing</font>

58
00:02:04,560 --> 00:02:08,940
most<font color="#E5E5E5"> of my work for the past</font><font color="#CCCCCC"> ten</font>

59
00:02:05,979 --> 00:02:11,290
outbound<font color="#E5E5E5"> is the larger amount of traffic</font>

60
00:02:08,940 --> 00:02:12,519
and<font color="#E5E5E5"> the higher</font><font color="#CCCCCC"> volume of traffic</font><font color="#E5E5E5"> and</font>

61
00:02:11,290 --> 00:02:15,640
<font color="#E5E5E5">it's where you're paying for</font><font color="#CCCCCC"> your money</font>

62
00:02:12,519 --> 00:02:18,340
<font color="#CCCCCC">and conveniently that's actually we have</font>

63
00:02:15,640 --> 00:02:19,410
more<font color="#CCCCCC"> control so we get</font><font color="#E5E5E5"> to we get to be</font>

64
00:02:18,340 --> 00:02:22,060
<font color="#E5E5E5">very</font><font color="#CCCCCC"> successful there</font>

65
00:02:19,410 --> 00:02:23,950
this technique we're talking about<font color="#E5E5E5"> is</font>

66
00:02:22,060 --> 00:02:27,430
<font color="#CCCCCC">the</font><font color="#E5E5E5"> floating hand on my screen that's</font>

67
00:02:23,950 --> 00:02:29,018
kind of cool<font color="#CCCCCC"> the technique</font><font color="#E5E5E5"> that we're</font>

68
00:02:27,430 --> 00:02:30,640
<font color="#CCCCCC">talking about are usually we usually</font>

69
00:02:29,019 --> 00:02:32,260
apply<font color="#CCCCCC"> these towards</font><font color="#E5E5E5"> ISP uplink</font>

70
00:02:30,640 --> 00:02:33,910
specifically is<font color="#CCCCCC"> your transit ISP that</font>

71
00:02:32,260 --> 00:02:35,079
are sending you a full table if you have

72
00:02:33,910 --> 00:02:37,299
<font color="#CCCCCC">peering as</font><font color="#E5E5E5"> well</font>

73
00:02:35,080 --> 00:02:38,410
peering you're<font color="#CCCCCC"> gonna</font><font color="#E5E5E5"> typically pretty</font>

74
00:02:37,299 --> 00:02:40,330
much prefer whatever<font color="#E5E5E5"> they're going to</font>

75
00:02:38,410 --> 00:02:41,380
<font color="#E5E5E5">tell you you can send</font><font color="#CCCCCC"> to them so not</font>

76
00:02:40,330 --> 00:02:42,790
<font color="#E5E5E5">talking</font><font color="#CCCCCC"> that much about how to</font><font color="#E5E5E5"> balance</font>

77
00:02:41,380 --> 00:02:44,890
across your multiple peering links

78
00:02:42,790 --> 00:02:47,170
inbound balancing<font color="#E5E5E5"> I said is different</font>

79
00:02:44,890 --> 00:02:49,988
<font color="#E5E5E5">it's less precise many times you're not</font>

80
00:02:47,170 --> 00:02:51,609
<font color="#E5E5E5">in full</font><font color="#CCCCCC"> control over inbound</font><font color="#E5E5E5"> and not</font>

81
00:02:49,989 --> 00:02:55,410
nearly as<font color="#E5E5E5"> well as</font><font color="#CCCCCC"> they're</font><font color="#E5E5E5"> out found and</font>

82
00:02:51,610 --> 00:02:58,780
as the inbound traffic also relies upon

83
00:02:55,410 --> 00:03:00,579
behavior<font color="#E5E5E5"> of your ISP</font><font color="#CCCCCC"> or even three four</font>

84
00:02:58,780 --> 00:03:02,829
hops<font color="#E5E5E5"> down the line as far as the city</font>

85
00:03:00,579 --> 00:03:03,970
<font color="#CCCCCC">other decisions that people</font><font color="#E5E5E5"> make so</font>

86
00:03:02,829 --> 00:03:05,680
that's a problem<font color="#E5E5E5"> here why am</font><font color="#CCCCCC"> I giving</font>

87
00:03:03,970 --> 00:03:07,989
this<font color="#E5E5E5"> talk so there is no standard method</font>

88
00:03:05,680 --> 00:03:10,120
<font color="#E5E5E5">of balance of traffic over multiple</font>

89
00:03:07,989 --> 00:03:11,950
links<font color="#E5E5E5"> well so-called BGP traffic</font>

90
00:03:10,120 --> 00:03:13,840
engineering<font color="#E5E5E5"> you can't just buy a book</font>

91
00:03:11,950 --> 00:03:16,569
says how<font color="#E5E5E5"> to balance BGP and there's one</font>

92
00:03:13,840 --> 00:03:18,160
<font color="#E5E5E5">way</font><font color="#CCCCCC"> that everybody</font><font color="#E5E5E5"> doesn't there also is</font>

93
00:03:16,569 --> 00:03:19,660
no routing language<font color="#CCCCCC"> routed just type in</font>

94
00:03:18,160 --> 00:03:22,480
compte<font color="#CCCCCC"> int</font>

95
00:03:19,660 --> 00:03:24,970
<font color="#CCCCCC">jiggy</font><font color="#E5E5E5"> zero</font><font color="#CCCCCC"> I wanna</font><font color="#E5E5E5"> send 500 mega this is</font>

96
00:03:22,480 --> 00:03:27,518
P into Iggy one I want to send 300<font color="#CCCCCC"> mega</font>

97
00:03:24,970 --> 00:03:29,380
<font color="#E5E5E5">to that ISP hey it doesn't exist there</font>

98
00:03:27,519 --> 00:03:31,329
there is a standard routing<font color="#E5E5E5"> protocol</font><font color="#CCCCCC"> if</font>

99
00:03:29,380 --> 00:03:32,620
<font color="#CCCCCC">it is there are some hardware software</font>

100
00:03:31,329 --> 00:03:35,430
solutions that will do<font color="#E5E5E5"> route</font>

101
00:03:32,620 --> 00:03:38,109
<font color="#E5E5E5">optimization that will give you</font>

102
00:03:35,430 --> 00:03:41,230
utilization balance as well<font color="#CCCCCC"> we'll give</font>

103
00:03:38,109 --> 00:03:42,549
you<font color="#E5E5E5"> cost control some of them are they</font>

104
00:03:41,230 --> 00:03:44,108
may be incompatible with<font color="#CCCCCC"> your</font><font color="#E5E5E5"> physical</font>

105
00:03:42,549 --> 00:03:46,690
network layout your topology<font color="#E5E5E5"> because</font><font color="#CCCCCC"> a</font>

106
00:03:44,109 --> 00:03:48,670
lot of<font color="#E5E5E5"> them require promiscuous sniffing</font>

107
00:03:46,690 --> 00:03:50,139
of traffic<font color="#CCCCCC"> they may be out of your</font>

108
00:03:48,670 --> 00:03:51,608
<font color="#E5E5E5">budget historically some of that</font>

109
00:03:50,139 --> 00:03:53,560
<font color="#CCCCCC">Hardware can</font><font color="#E5E5E5"> costs in the upwards of</font>

110
00:03:51,609 --> 00:03:55,930
hundreds of<font color="#E5E5E5"> thousands of</font><font color="#CCCCCC"> dollars and may</font>

111
00:03:53,560 --> 00:03:57,549
be<font color="#E5E5E5"> difficult</font><font color="#CCCCCC"> for</font><font color="#E5E5E5"> you to cost justify and</font>

112
00:03:55,930 --> 00:03:59,290
I found there are<font color="#E5E5E5"> so many guides that</font>

113
00:03:57,549 --> 00:04:01,060
introduced<font color="#E5E5E5"> me GP that tell you about</font><font color="#CCCCCC"> BGP</font>

114
00:03:59,290 --> 00:04:03,099
they tell you about attributes they tell

115
00:04:01,060 --> 00:04:04,239
you about<font color="#CCCCCC"> about</font><font color="#E5E5E5"> balancing preferences in</font>

116
00:04:03,099 --> 00:04:07,238
to make process but they only seem<font color="#CCCCCC"> to</font>

117
00:04:04,239 --> 00:04:09,840
really<font color="#E5E5E5"> touch upon how to how to</font>

118
00:04:07,239 --> 00:04:11,920
effectively control<font color="#CCCCCC"> the traffic of</font>

119
00:04:09,840 --> 00:04:14,620
control the<font color="#E5E5E5"> balance of</font><font color="#CCCCCC"> exam</font>

120
00:04:11,920 --> 00:04:15,549
so that's what I'm hoping<font color="#CCCCCC"> to share so</font>

121
00:04:14,620 --> 00:04:18,310
who's<font color="#CCCCCC"> going to be interests in this talk</font>

122
00:04:15,550 --> 00:04:19,810
mostly honestly<font color="#E5E5E5"> enterprise</font><font color="#CCCCCC"> or</font><font color="#E5E5E5"> content</font>

123
00:04:18,310 --> 00:04:22,750
networks that<font color="#E5E5E5"> have diverse up links to</font>

124
00:04:19,810 --> 00:04:24,640
their ISPs regional transit providers

125
00:04:22,750 --> 00:04:26,080
may be the smaller ISPs<font color="#E5E5E5"> that have</font>

126
00:04:24,640 --> 00:04:28,450
diverse upstream connectivity in<font color="#CCCCCC"> the</font>

127
00:04:26,080 --> 00:04:30,669
<font color="#CCCCCC">regions BGP novices those of you</font><font color="#E5E5E5"> that</font>

128
00:04:28,450 --> 00:04:32,110
are<font color="#E5E5E5"> just learning about BGP senior</font>

129
00:04:30,669 --> 00:04:33,909
<font color="#E5E5E5">network engineers who want to</font><font color="#CCCCCC"> train</font>

130
00:04:32,110 --> 00:04:35,470
junior level staff and want to<font color="#E5E5E5"> have some</font>

131
00:04:33,910 --> 00:04:37,450
material they can<font color="#E5E5E5"> use you feel free to</font>

132
00:04:35,470 --> 00:04:40,240
take<font color="#E5E5E5"> Maya download my presentation use</font>

133
00:04:37,450 --> 00:04:42,370
the diagrams<font color="#E5E5E5"> ask me if you</font><font color="#CCCCCC"> think</font><font color="#E5E5E5"> you</font>

134
00:04:40,240 --> 00:04:43,630
<font color="#E5E5E5">want me to change</font><font color="#CCCCCC"> around for you the</font>

135
00:04:42,370 --> 00:04:45,100
target<font color="#E5E5E5"> audience for</font><font color="#CCCCCC"> this kind of talk</font>

136
00:04:43,630 --> 00:04:46,659
seems to be increasing more and<font color="#E5E5E5"> more in</font>

137
00:04:45,100 --> 00:04:48,100
user networks are actually<font color="#CCCCCC"> multihoming</font>

138
00:04:46,660 --> 00:04:49,930
<font color="#CCCCCC">it's less expensive</font><font color="#E5E5E5"> it's easier</font><font color="#CCCCCC"> and</font>

139
00:04:48,100 --> 00:04:51,700
<font color="#CCCCCC">multi-home thanks to all the carrier</font>

140
00:04:49,930 --> 00:04:53,290
densities it's very simple<font color="#E5E5E5"> to land in</font>

141
00:04:51,700 --> 00:04:55,870
<font color="#E5E5E5">one the</font><font color="#CCCCCC"> carry dense facilities and pull</font>

142
00:04:53,290 --> 00:04:57,820
<font color="#CCCCCC">Giggy</font><font color="#E5E5E5"> to three or four ISPs without too</font>

143
00:04:55,870 --> 00:04:59,500
much excessive<font color="#CCCCCC"> cost layer 3 switches now</font>

144
00:04:57,820 --> 00:05:00,669
we're taking<font color="#CCCCCC"> full routing tables so</font>

145
00:04:59,500 --> 00:05:03,300
you're not paying<font color="#E5E5E5"> the kind of port you</font>

146
00:05:00,669 --> 00:05:06,340
used to pay back<font color="#E5E5E5"> in</font><font color="#CCCCCC"> the ocx world and</font>

147
00:05:03,300 --> 00:05:07,960
more and more content networks that<font color="#CCCCCC"> are</font>

148
00:05:06,340 --> 00:05:10,239
really relying upon their businesses

149
00:05:07,960 --> 00:05:12,940
being up<font color="#E5E5E5"> 24/7 realizing they can no</font>

150
00:05:10,240 --> 00:05:14,320
<font color="#CCCCCC">longer just buy from one</font><font color="#E5E5E5"> ISP and always</font>

151
00:05:12,940 --> 00:05:16,360
have their stuff<font color="#E5E5E5"> up every ISP has</font>

152
00:05:14,320 --> 00:05:19,540
<font color="#E5E5E5">problems and by diversifying your</font>

153
00:05:16,360 --> 00:05:20,290
<font color="#E5E5E5">transit you can increase your uptime so</font>

154
00:05:19,540 --> 00:05:21,370
what are you gonna learn today you're

155
00:05:20,290 --> 00:05:23,620
<font color="#E5E5E5">gonna learn a basic</font><font color="#CCCCCC"> with load balancing</font>

156
00:05:21,370 --> 00:05:25,450
method<font color="#E5E5E5"> that I personally use for over</font><font color="#CCCCCC"> 10</font>

157
00:05:23,620 --> 00:05:27,220
years<font color="#CCCCCC"> it's</font><font color="#E5E5E5"> consistent deterministic</font>

158
00:05:25,450 --> 00:05:28,570
effective and people have consulting

159
00:05:27,220 --> 00:05:30,610
we've applied it<font color="#E5E5E5"> at</font><font color="#CCCCCC"> over 10</font><font color="#E5E5E5"> networks</font>

160
00:05:28,570 --> 00:05:31,780
successfully and of any sizes we ran a

161
00:05:30,610 --> 00:05:33,340
tree to get<font color="#CCCCCC"> over</font><font color="#E5E5E5"> from 10 megabit per</font>

162
00:05:31,780 --> 00:05:34,929
second peak traffic<font color="#E5E5E5"> all the way to over</font>

163
00:05:33,340 --> 00:05:37,750
<font color="#E5E5E5">eating gigabit per second peak traffic</font>

164
00:05:34,930 --> 00:05:40,300
<font color="#E5E5E5">same exact technique applied works very</font>

165
00:05:37,750 --> 00:05:42,160
very well<font color="#E5E5E5"> we're gonna use a sample</font>

166
00:05:40,300 --> 00:05:43,630
reference<font color="#E5E5E5"> we I'm gonna use a sample</font>

167
00:05:42,160 --> 00:05:45,910
<font color="#CCCCCC">reference over and over</font><font color="#E5E5E5"> against there's</font>

168
00:05:43,630 --> 00:05:47,050
<font color="#E5E5E5">one to walk you through briefly</font><font color="#CCCCCC"> down</font>

169
00:05:45,910 --> 00:05:48,130
here at the<font color="#CCCCCC"> bottom this</font><font color="#E5E5E5"> is your content</font>

170
00:05:47,050 --> 00:05:50,410
<font color="#CCCCCC">network</font><font color="#E5E5E5"> this</font><font color="#CCCCCC"> is where you're working</font>

171
00:05:48,130 --> 00:05:52,650
<font color="#E5E5E5">your domain of control and you're buying</font>

172
00:05:50,410 --> 00:05:55,150
<font color="#E5E5E5">from three a sends a s one two and three</font>

173
00:05:52,650 --> 00:05:57,460
<font color="#E5E5E5">you're a s one and</font><font color="#CCCCCC"> two let's call them</font><font color="#E5E5E5"> a</font>

174
00:05:55,150 --> 00:05:59,080
<font color="#E5E5E5">Tier one or</font><font color="#CCCCCC"> a transit free a fully peer</font>

175
00:05:57,460 --> 00:06:00,400
<font color="#CCCCCC">network they have a full routing table</font>

176
00:05:59,080 --> 00:06:02,590
they can<font color="#CCCCCC"> get to a lot of the network</font>

177
00:06:00,400 --> 00:06:04,539
with maybe one or two hops away<font color="#E5E5E5"> your</font><font color="#CCCCCC"> AS</font>

178
00:06:02,590 --> 00:06:06,880
<font color="#E5E5E5">3 in this case</font><font color="#CCCCCC"> is more</font><font color="#E5E5E5"> of a lower tier</font>

179
00:06:04,539 --> 00:06:08,979
network<font color="#CCCCCC"> at tier 2 or tier 3 he's mostly</font>

180
00:06:06,880 --> 00:06:12,070
buying transit from<font color="#E5E5E5"> one ISP</font>

181
00:06:08,979 --> 00:06:13,450
maybe a<font color="#E5E5E5"> few peers as well and majority</font>

182
00:06:12,070 --> 00:06:14,419
of<font color="#E5E5E5"> his traffic will end up going</font><font color="#CCCCCC"> one</font>

183
00:06:13,450 --> 00:06:17,909
more hop

184
00:06:14,419 --> 00:06:19,318
<font color="#E5E5E5">in our base configuration we have</font><font color="#CCCCCC"> two</font>

185
00:06:17,909 --> 00:06:20,550
border routers<font color="#E5E5E5"> in</font><font color="#CCCCCC"> Mike Albin</font><font color="#E5E5E5"> edge</font>

186
00:06:19,319 --> 00:06:22,979
routers I call the border routers

187
00:06:20,550 --> 00:06:25,740
<font color="#CCCCCC">Internet work they have ibgp between</font>

188
00:06:22,979 --> 00:06:27,808
them<font color="#E5E5E5"> border one has ebgp with one is P</font>

189
00:06:25,740 --> 00:06:29,339
and border<font color="#E5E5E5"> two has ebgp with two eyes</font>

190
00:06:27,809 --> 00:06:29,969
<font color="#CCCCCC">piece altogether you're</font><font color="#E5E5E5"> very wonderfully</font>

191
00:06:29,339 --> 00:06:32,279
multihomed

192
00:06:29,969 --> 00:06:33,869
<font color="#E5E5E5">you have a wonderful diversity no single</font>

193
00:06:32,279 --> 00:06:34,770
<font color="#E5E5E5">point of failure you're doing great now</font>

194
00:06:33,869 --> 00:06:37,050
you got to do something<font color="#E5E5E5"> with that</font>

195
00:06:34,770 --> 00:06:38,969
<font color="#CCCCCC">network you</font><font color="#E5E5E5"> built let me give you a</font>

196
00:06:37,050 --> 00:06:41,189
brief brief refresher<font color="#E5E5E5"> again this may be</font>

197
00:06:38,969 --> 00:06:42,569
for more<font color="#E5E5E5"> of the</font><font color="#CCCCCC"> bgp novices maybe some</font>

198
00:06:41,189 --> 00:06:45,330
folks<font color="#E5E5E5"> that haven't touched</font><font color="#CCCCCC"> bgp in a</font>

199
00:06:42,569 --> 00:06:46,169
while maybe material<font color="#E5E5E5"> people want to</font>

200
00:06:45,330 --> 00:06:48,270
heckle me later but I'm pretty

201
00:06:46,169 --> 00:06:50,909
comfortable we're talking about here the

202
00:06:48,270 --> 00:06:51,960
mediaeval decision is is made<font color="#CCCCCC"> based on</font>

203
00:06:50,909 --> 00:06:54,748
lots<font color="#E5E5E5"> of different piece of</font><font color="#CCCCCC"> information</font>

204
00:06:51,960 --> 00:06:56,849
<font color="#E5E5E5">that</font><font color="#CCCCCC"> get care about the prefix different</font>

205
00:06:54,749 --> 00:06:59,189
vendors will have slightly<font color="#E5E5E5"> so many</font>

206
00:06:56,849 --> 00:07:00,449
different decision makings<font color="#CCCCCC"> slightly</font>

207
00:06:59,189 --> 00:07:02,430
<font color="#E5E5E5">different steps in a couple</font><font color="#CCCCCC"> of these</font>

208
00:07:00,449 --> 00:07:05,839
decisions<font color="#CCCCCC"> the three of them focusing on</font>

209
00:07:02,430 --> 00:07:09,120
<font color="#E5E5E5">are</font><font color="#CCCCCC"> pretty Universal</font><font color="#E5E5E5"> so typically a</font>

210
00:07:05,839 --> 00:07:11,819
prefix which decisions made on prefix<font color="#E5E5E5"> a</font>

211
00:07:09,120 --> 00:07:14,539
router might compare weight between

212
00:07:11,819 --> 00:07:17,520
<font color="#E5E5E5">multiple destination most</font><font color="#CCCCCC"> poll options</font>

213
00:07:14,539 --> 00:07:20,490
<font color="#E5E5E5">BGP local</font><font color="#CCCCCC"> press AAS path length in</font>

214
00:07:17,520 --> 00:07:23,188
origin code a<font color="#CCCCCC"> med</font><font color="#E5E5E5"> that's going to call</font>

215
00:07:20,490 --> 00:07:25,979
this<font color="#CCCCCC"> the BGP metric how the route was</font>

216
00:07:23,189 --> 00:07:28,649
learned was that<font color="#CCCCCC"> Egypt P versus ibgp the</font>

217
00:07:25,979 --> 00:07:30,449
metric<font color="#CCCCCC"> I'd I GP metric to the</font><font color="#E5E5E5"> end point</font>

218
00:07:28,649 --> 00:07:31,979
<font color="#CCCCCC">you have to cross the country before I</font>

219
00:07:30,449 --> 00:07:35,099
<font color="#E5E5E5">hit</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> is P or</font><font color="#CCCCCC"> is it in</font><font color="#E5E5E5"> the same city</font>

220
00:07:31,979 --> 00:07:36,628
as I am the oldest<font color="#E5E5E5"> route entry</font><font color="#CCCCCC"> die heard</font>

221
00:07:35,099 --> 00:07:38,219
<font color="#E5E5E5">this route three days ago and</font><font color="#CCCCCC"> I just</font>

222
00:07:36,629 --> 00:07:39,779
<font color="#E5E5E5">heard this round right</font><font color="#CCCCCC"> now</font><font color="#E5E5E5"> if</font><font color="#CCCCCC"> the route</font>

223
00:07:38,219 --> 00:07:42,330
better equal am I going to keep the old

224
00:07:39,779 --> 00:07:43,919
<font color="#E5E5E5">route installed the new route and</font><font color="#CCCCCC"> a</font>

225
00:07:42,330 --> 00:07:46,409
couple of<font color="#CCCCCC"> tiebreakers at the bottom the</font>

226
00:07:43,919 --> 00:07:48,899
actual IP address of the<font color="#E5E5E5"> BGP neighbor IP</font>

227
00:07:46,409 --> 00:07:51,649
or the actual IP address<font color="#E5E5E5"> of the BGP</font>

228
00:07:48,899 --> 00:07:54,719
neighbor<font color="#E5E5E5"> next hop this is the general</font>

229
00:07:51,649 --> 00:07:56,849
<font color="#E5E5E5">sequence in which attributes are</font>

230
00:07:54,719 --> 00:08:00,959
compared before a best<font color="#CCCCCC"> route</font><font color="#E5E5E5"> decision</font>

231
00:07:56,849 --> 00:08:02,580
can be made<font color="#E5E5E5"> as an</font><font color="#CCCCCC"> example here</font><font color="#E5E5E5"> simplify</font>

232
00:08:00,959 --> 00:08:04,430
<font color="#E5E5E5">the network here you have one border</font>

233
00:08:02,580 --> 00:08:08,039
router<font color="#E5E5E5"> you have</font><font color="#CCCCCC"> two possible paths</font><font color="#E5E5E5"> to</font>

234
00:08:04,430 --> 00:08:11,399
<font color="#E5E5E5">10.0 6.0</font><font color="#CCCCCC"> who's coming off a s6</font>

235
00:08:08,039 --> 00:08:13,469
<font color="#CCCCCC">you pretty much have going out a</font><font color="#E5E5E5"> s2</font>

236
00:08:11,399 --> 00:08:17,399
<font color="#E5E5E5">you'll make a hop from</font><font color="#CCCCCC"> a s2 to a s4 from</font>

237
00:08:13,469 --> 00:08:19,680
<font color="#E5E5E5">the</font><font color="#CCCCCC"> S 4 to a s6 that's 2 4 6 from</font><font color="#E5E5E5"> a s3</font>

238
00:08:17,399 --> 00:08:21,409
they'll make a hop to<font color="#CCCCCC"> a s5 s6</font><font color="#E5E5E5"> that's a s</font>

239
00:08:19,680 --> 00:08:24,180
path<font color="#E5E5E5"> 3 5 6</font>

240
00:08:21,409 --> 00:08:26,009
setting all all things being equal and

241
00:08:24,180 --> 00:08:27,599
using mostly default values your metrics

242
00:08:26,009 --> 00:08:29,189
in some cases will usually be

243
00:08:27,599 --> 00:08:31,558
you don't touch them depending on<font color="#CCCCCC"> your</font>

244
00:08:29,189 --> 00:08:34,680
<font color="#E5E5E5">ISP your local prep for default 100 your</font>

245
00:08:31,559 --> 00:08:36,630
origin type<font color="#CCCCCC"> I GP</font><font color="#E5E5E5"> you see here we have</font>

246
00:08:34,679 --> 00:08:38,789
<font color="#CCCCCC">two equal equal paths</font><font color="#E5E5E5"> we need to make a</font>

247
00:08:36,630 --> 00:08:40,078
decision<font color="#CCCCCC"> of</font><font color="#E5E5E5"> course this is the</font><font color="#CCCCCC"> way this</font>

248
00:08:38,789 --> 00:08:42,838
would<font color="#E5E5E5"> look on a Cisco router if you're</font>

249
00:08:40,078 --> 00:08:45,660
doing<font color="#E5E5E5"> a show show IP</font><font color="#CCCCCC"> BGP ten zero six</font>

250
00:08:42,839 --> 00:08:47,160
<font color="#CCCCCC">zero</font><font color="#E5E5E5"> you'll see</font><font color="#CCCCCC"> there's two you see</font>

251
00:08:45,660 --> 00:08:48,810
those two next<font color="#CCCCCC"> hops</font><font color="#E5E5E5"> and there's your</font>

252
00:08:47,160 --> 00:08:50,430
path<font color="#E5E5E5"> either three five six or two four</font>

253
00:08:48,810 --> 00:08:53,399
six this<font color="#E5E5E5"> your local prep for</font><font color="#CCCCCC"> one hundred</font>

254
00:08:50,430 --> 00:08:55,829
<font color="#E5E5E5">your BGP metric of zero and your</font>

255
00:08:53,399 --> 00:08:58,290
proprietary<font color="#E5E5E5"> internal</font><font color="#CCCCCC"> weight</font><font color="#E5E5E5"> also set the</font>

256
00:08:55,829 --> 00:09:00,388
default<font color="#CCCCCC"> value of</font><font color="#E5E5E5"> zero slightly more of a</font>

257
00:08:58,290 --> 00:09:03,630
<font color="#CCCCCC">Bose</font><font color="#E5E5E5"> entry pretty much the same thing</font>

258
00:09:00,389 --> 00:09:06,089
<font color="#E5E5E5">different way to look at it in the in</font>

259
00:09:03,630 --> 00:09:08,009
the<font color="#CCCCCC"> Juniper world</font><font color="#E5E5E5"> the output is very</font>

260
00:09:06,089 --> 00:09:09,870
simple<font color="#E5E5E5"> very similar so for juniper is</font>

261
00:09:08,009 --> 00:09:11,660
using a more generic header metric one

262
00:09:09,870 --> 00:09:14,579
in the<font color="#CCCCCC"> juniper world is local prep</font>

263
00:09:11,660 --> 00:09:19,110
metric two in the<font color="#E5E5E5"> juniper world is the</font>

264
00:09:14,579 --> 00:09:20,729
is the<font color="#CCCCCC"> med or the</font><font color="#E5E5E5"> BGP metric and same</font>

265
00:09:19,110 --> 00:09:23,970
<font color="#CCCCCC">thing you'll see your different next</font>

266
00:09:20,730 --> 00:09:25,709
hops and your your three AAS hops<font color="#E5E5E5"> either</font>

267
00:09:23,970 --> 00:09:27,839
three five six or two four six to<font color="#E5E5E5"> get to</font>

268
00:09:25,709 --> 00:09:29,880
<font color="#E5E5E5">that route and below here is</font><font color="#CCCCCC"> a more</font><font color="#E5E5E5"> for</font>

269
00:09:27,839 --> 00:09:31,800
both version download slide if you<font color="#E5E5E5"> want</font>

270
00:09:29,880 --> 00:09:33,149
to read it so<font color="#E5E5E5"> this is what the routers</font>

271
00:09:31,800 --> 00:09:35,430
are going to do<font color="#CCCCCC"> Mordor to</font><font color="#E5E5E5"> over here he's</font>

272
00:09:33,149 --> 00:09:38,459
going to compare well what's my way to

273
00:09:35,430 --> 00:09:40,888
preface my<font color="#E5E5E5"> way to preference is</font><font color="#CCCCCC"> I'm not</font>

274
00:09:38,459 --> 00:09:43,109
showing<font color="#E5E5E5"> it here</font><font color="#CCCCCC"> it's zero what's my</font>

275
00:09:40,889 --> 00:09:45,060
<font color="#E5E5E5">local prep my local preface default 100</font>

276
00:09:43,110 --> 00:09:47,850
what's my a<font color="#E5E5E5"> s path length it's the same</font>

277
00:09:45,060 --> 00:09:49,380
hop count three hops<font color="#E5E5E5"> well which path is</font>

278
00:09:47,850 --> 00:09:50,850
going to be<font color="#CCCCCC"> selective you VTP versus</font>

279
00:09:49,380 --> 00:09:53,009
ibgp they're both ebgp

280
00:09:50,850 --> 00:09:56,939
the<font color="#E5E5E5"> AIGFP metric doesn't apply because</font>

281
00:09:53,009 --> 00:09:59,009
it's<font color="#E5E5E5"> just the next hop the in in some</font>

282
00:09:56,939 --> 00:10:00,449
most cases the router ID and the next

283
00:09:59,009 --> 00:10:03,269
hop<font color="#E5E5E5"> really</font><font color="#CCCCCC"> only gets compared if the</font>

284
00:10:00,449 --> 00:10:05,699
<font color="#CCCCCC">destination network is the same ASN so</font>

285
00:10:03,269 --> 00:10:06,990
in this case depending<font color="#CCCCCC"> on</font><font color="#E5E5E5"> platform is</font>

286
00:10:05,699 --> 00:10:08,310
usually<font color="#CCCCCC"> going to go to oldest route</font>

287
00:10:06,990 --> 00:10:10,829
first<font color="#CCCCCC"> well that's not deterministic</font>

288
00:10:08,310 --> 00:10:13,949
<font color="#E5E5E5">let's say right now with selecting path</font>

289
00:10:10,829 --> 00:10:15,870
through a s3<font color="#E5E5E5"> because a s3 you turn up is</font>

290
00:10:13,949 --> 00:10:17,699
BGP three weeks ago<font color="#E5E5E5"> and</font><font color="#CCCCCC"> a s2 you turned</font>

291
00:10:15,870 --> 00:10:19,199
up two weeks<font color="#E5E5E5"> ago so</font><font color="#CCCCCC"> all your</font><font color="#E5E5E5"> traffic was</font>

292
00:10:17,699 --> 00:10:20,880
going<font color="#CCCCCC"> at a esta mean</font><font color="#E5E5E5"> you're happy camper</font>

293
00:10:19,199 --> 00:10:22,589
your balance is working great<font color="#E5E5E5"> and then</font>

294
00:10:20,880 --> 00:10:24,060
tonight<font color="#CCCCCC"> a s3 has a maintenance and they</font>

295
00:10:22,589 --> 00:10:26,399
take the link down<font color="#CCCCCC"> beach EP goes down</font>

296
00:10:24,060 --> 00:10:28,349
comes back up through 30 minutes later

297
00:10:26,399 --> 00:10:29,699
well you just<font color="#CCCCCC"> ship today</font><font color="#E5E5E5"> s2 and you're</font>

298
00:10:28,350 --> 00:10:32,069
not<font color="#E5E5E5"> going to go back</font><font color="#CCCCCC"> to a s3 because</font><font color="#E5E5E5"> now</font>

299
00:10:29,699 --> 00:10:34,109
a s2 is<font color="#E5E5E5"> the oldest heard route so you</font>

300
00:10:32,069 --> 00:10:36,360
might you<font color="#CCCCCC"> might</font><font color="#E5E5E5"> believe that you have</font>

301
00:10:34,110 --> 00:10:38,130
your traffic balance and then an ISP is

302
00:10:36,360 --> 00:10:39,600
going to perform in this window<font color="#E5E5E5"> and</font>

303
00:10:38,130 --> 00:10:40,830
<font color="#E5E5E5">balance finish it well that's not good I</font>

304
00:10:39,600 --> 00:10:42,930
don't<font color="#E5E5E5"> like it you're not gonna like in</font>

305
00:10:40,830 --> 00:10:44,220
your<font color="#E5E5E5"> bosses</font><font color="#CCCCCC"> liking</font><font color="#E5E5E5"> a new knock isn't</font>

306
00:10:42,930 --> 00:10:46,380
gonna like it<font color="#CCCCCC"> you're not gonna like me</font>

307
00:10:44,220 --> 00:10:47,520
to<font color="#E5E5E5"> get more couple three o'clock so</font>

308
00:10:46,380 --> 00:10:48,810
let's talk about<font color="#E5E5E5"> these three attributes</font>

309
00:10:47,520 --> 00:10:52,710
of interest these<font color="#E5E5E5"> are</font><font color="#CCCCCC"> attributes</font><font color="#E5E5E5"> that we</font>

310
00:10:48,810 --> 00:10:54,959
use<font color="#E5E5E5"> to to tweak to tweak traffic using</font>

311
00:10:52,710 --> 00:10:57,390
the system<font color="#E5E5E5"> so there's a local</font><font color="#CCCCCC"> press</font>

312
00:10:54,960 --> 00:10:59,640
<font color="#CCCCCC">which</font><font color="#E5E5E5"> is the first one that</font><font color="#CCCCCC"> is compared</font>

313
00:10:57,390 --> 00:11:01,770
this is set locally within<font color="#E5E5E5"> AAS and it's</font>

314
00:10:59,640 --> 00:11:03,240
<font color="#E5E5E5">only shared between ibgp neighbors I'm</font>

315
00:11:01,770 --> 00:11:04,470
not talking about<font color="#CCCCCC"> Confederations here</font>

316
00:11:03,240 --> 00:11:06,000
gets a little more complicated I'm

317
00:11:04,470 --> 00:11:09,240
really going to<font color="#CCCCCC"> take Sigma the simple</font>

318
00:11:06,000 --> 00:11:11,250
<font color="#CCCCCC">network design here the</font><font color="#E5E5E5"> a s path length</font>

319
00:11:09,240 --> 00:11:13,020
number<font color="#CCCCCC"> of</font><font color="#E5E5E5"> house so it describes which</font>

320
00:11:11,250 --> 00:11:16,530
networks have to<font color="#CCCCCC"> be traversed</font><font color="#E5E5E5"> to reach</font>

321
00:11:13,020 --> 00:11:18,240
the destination<font color="#CCCCCC"> a</font><font color="#E5E5E5"> s</font><font color="#CCCCCC"> 3</font><font color="#E5E5E5"> a is 4 a</font><font color="#CCCCCC"> 6 it's</font>

322
00:11:16,530 --> 00:11:20,610
shared with<font color="#E5E5E5"> all BGP speakers across the</font>

323
00:11:18,240 --> 00:11:22,020
<font color="#CCCCCC">internet</font><font color="#E5E5E5"> there's this thing called BGP</font>

324
00:11:20,610 --> 00:11:24,060
<font color="#E5E5E5">origin code which can have three</font>

325
00:11:22,020 --> 00:11:26,280
possible<font color="#CCCCCC"> values</font><font color="#E5E5E5"> interior exterior or</font>

326
00:11:24,060 --> 00:11:27,510
unknown<font color="#E5E5E5"> it's only real interesting</font>

327
00:11:26,280 --> 00:11:29,699
because it<font color="#CCCCCC"> actually interferes</font><font color="#E5E5E5"> with this</font>

328
00:11:27,510 --> 00:11:31,110
metric<font color="#E5E5E5"> system it's we're gonna actually</font>

329
00:11:29,700 --> 00:11:33,060
just regard the attribute later on<font color="#CCCCCC"> we</font>

330
00:11:31,110 --> 00:11:34,290
don't<font color="#E5E5E5"> use it it's not very widely used I</font>

331
00:11:33,060 --> 00:11:36,150
haven't found it<font color="#E5E5E5"> to be reliable or</font>

332
00:11:34,290 --> 00:11:39,839
meaningful<font color="#CCCCCC"> my apologies to the</font>

333
00:11:36,150 --> 00:11:41,250
<font color="#E5E5E5">architects of BGP</font><font color="#CCCCCC"> and then here's where</font>

334
00:11:39,840 --> 00:11:42,870
<font color="#CCCCCC">all the money is</font><font color="#E5E5E5"> it's called</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> man</font>

335
00:11:41,250 --> 00:11:44,760
used to<font color="#CCCCCC"> be</font><font color="#E5E5E5"> called the</font><font color="#CCCCCC"> met</font><font color="#E5E5E5"> when it was</font>

336
00:11:42,870 --> 00:11:46,350
created<font color="#CCCCCC"> I called the</font><font color="#E5E5E5"> BGP metric many</font>

337
00:11:44,760 --> 00:11:47,970
implementations<font color="#CCCCCC"> called simply metric</font>

338
00:11:46,350 --> 00:11:50,010
<font color="#E5E5E5">this describes</font><font color="#CCCCCC"> something's called the</font>

339
00:11:47,970 --> 00:11:53,130
cost for<font color="#E5E5E5"> the net destination since a</font>

340
00:11:50,010 --> 00:11:55,560
cost<font color="#E5E5E5"> base metric lowers better it's</font>

341
00:11:53,130 --> 00:11:58,680
shared both<font color="#E5E5E5"> it can be shared with EB GP</font>

342
00:11:55,560 --> 00:12:00,239
and<font color="#CCCCCC"> ibgp oftentimes</font><font color="#E5E5E5"> it really only has</font>

343
00:11:58,680 --> 00:12:03,660
<font color="#E5E5E5">relevance within</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> s because it isn't</font>

344
00:12:00,240 --> 00:12:06,960
<font color="#E5E5E5">any standard some ISPs may may calculate</font>

345
00:12:03,660 --> 00:12:08,490
<font color="#CCCCCC">fiber</font><font color="#E5E5E5"> kilometres some ISPs may calculate</font>

346
00:12:06,960 --> 00:12:09,480
<font color="#CCCCCC">a</font><font color="#E5E5E5"> number of</font><font color="#CCCCCC"> I GPA off some just may</font>

347
00:12:08,490 --> 00:12:12,710
import<font color="#E5E5E5"> the IGP</font>

348
00:12:09,480 --> 00:12:15,750
into the BGP metric and<font color="#E5E5E5"> oftentimes</font><font color="#CCCCCC"> your</font>

349
00:12:12,710 --> 00:12:18,180
your ISPs<font color="#CCCCCC"> will reset it to a</font><font color="#E5E5E5"> fixed value</font>

350
00:12:15,750 --> 00:12:20,550
<font color="#E5E5E5">typically 0 before</font><font color="#CCCCCC"> they send</font><font color="#E5E5E5"> your route</font>

351
00:12:18,180 --> 00:12:22,380
<font color="#E5E5E5">or if they're</font><font color="#CCCCCC"> not we're gonna actually</font>

352
00:12:20,550 --> 00:12:25,920
do reset in our system here<font color="#CCCCCC"> to make it</font>

353
00:12:22,380 --> 00:12:27,210
to make it worthwhile for<font color="#CCCCCC"> us refresh</font><font color="#E5E5E5"> I</font>

354
00:12:25,920 --> 00:12:29,160
<font color="#E5E5E5">got a local product at fault value is</font>

355
00:12:27,210 --> 00:12:30,600
100<font color="#E5E5E5"> it's a preference type so the higher</font>

356
00:12:29,160 --> 00:12:33,329
the<font color="#CCCCCC"> number the more the more is</font>

357
00:12:30,600 --> 00:12:34,860
preferred often it's<font color="#E5E5E5"> the only traffic</font>

358
00:12:33,330 --> 00:12:36,480
<font color="#E5E5E5">engineering that we're seeing in use</font>

359
00:12:34,860 --> 00:12:38,040
when I come into<font color="#E5E5E5"> a network typically</font>

360
00:12:36,480 --> 00:12:40,290
it's the<font color="#CCCCCC"> only novel</font><font color="#E5E5E5"> that's used because</font>

361
00:12:38,040 --> 00:12:41,329
it's simple<font color="#CCCCCC"> it's effective people</font><font color="#E5E5E5"> just</font>

362
00:12:40,290 --> 00:12:44,219
throw it in it<font color="#E5E5E5"> just works</font>

363
00:12:41,330 --> 00:12:46,680
<font color="#E5E5E5">the problem is problem I have it's a</font>

364
00:12:44,220 --> 00:12:48,030
heavy hammer<font color="#E5E5E5"> decision make them based on</font>

365
00:12:46,680 --> 00:12:50,709
the local<font color="#E5E5E5"> press ignore</font><font color="#CCCCCC"> its other round</font>

366
00:12:48,030 --> 00:12:52,329
other<font color="#E5E5E5"> route attributes such as</font>

367
00:12:50,710 --> 00:12:55,180
path length<font color="#E5E5E5"> and I think a s path link is</font>

368
00:12:52,330 --> 00:12:56,910
pretty valuable<font color="#CCCCCC"> I think that local</font><font color="#E5E5E5"> craft</font>

369
00:12:55,180 --> 00:12:59,650
should<font color="#E5E5E5"> be used only as a last resort for</font>

370
00:12:56,910 --> 00:13:01,900
<font color="#CCCCCC">where metrics</font><font color="#E5E5E5"> don't do what you</font><font color="#CCCCCC"> want</font>

371
00:12:59,650 --> 00:13:03,010
them<font color="#CCCCCC"> to do and you're gonna</font><font color="#E5E5E5"> use it when</font>

372
00:13:01,900 --> 00:13:04,480
you<font color="#CCCCCC"> need also</font><font color="#E5E5E5"> we need</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> going to do a</font>

373
00:13:03,010 --> 00:13:06,430
hardship<font color="#CCCCCC"> you want to cost up all traffic</font>

374
00:13:04,480 --> 00:13:07,990
<font color="#CCCCCC">got one link</font><font color="#E5E5E5"> just go ahead and slam</font><font color="#CCCCCC"> with</font>

375
00:13:06,430 --> 00:13:11,260
<font color="#E5E5E5">a local</font><font color="#CCCCCC"> proof</font><font color="#E5E5E5"> of five so that</font><font color="#CCCCCC"> you no</font>

376
00:13:07,990 --> 00:13:13,000
longer send traffic out that link an

377
00:13:11,260 --> 00:13:15,640
example of woody is local how we're

378
00:13:13,000 --> 00:13:17,710
seeing local proof being used let's say

379
00:13:15,640 --> 00:13:23,110
you want<font color="#CCCCCC"> to you want to send all</font><font color="#E5E5E5"> traffic</font>

380
00:13:17,710 --> 00:13:25,270
to<font color="#E5E5E5"> 1004 by as3 typically 1004 is</font>

381
00:13:23,110 --> 00:13:27,940
actually shorter by a s1 or<font color="#CCCCCC"> a s - it's</font>

382
00:13:25,270 --> 00:13:29,110
only<font color="#E5E5E5"> two hops</font><font color="#CCCCCC"> 1/4</font><font color="#E5E5E5"> or</font><font color="#CCCCCC"> two</font><font color="#E5E5E5"> for for</font>

383
00:13:27,940 --> 00:13:30,910
whatever reason you<font color="#CCCCCC"> want to send all the</font>

384
00:13:29,110 --> 00:13:32,590
traffic<font color="#E5E5E5"> out a s3</font><font color="#CCCCCC"> no you use this way</font>

385
00:13:30,910 --> 00:13:34,420
just set it higher than default<font color="#E5E5E5"> local</font>

386
00:13:32,590 --> 00:13:40,600
<font color="#CCCCCC">prep of 200</font><font color="#E5E5E5"> and that route will</font><font color="#CCCCCC"> be</font>

387
00:13:34,420 --> 00:13:42,189
selected<font color="#CCCCCC"> 3 5 4 AAS path</font><font color="#E5E5E5"> length that</font>

388
00:13:40,600 --> 00:13:44,950
attribute<font color="#E5E5E5"> as I said before it's a count</font>

389
00:13:42,190 --> 00:13:47,680
type<font color="#CCCCCC"> the lower the count the better what</font>

390
00:13:44,950 --> 00:13:49,690
you're typically less less<font color="#CCCCCC"> ASN hops</font>

391
00:13:47,680 --> 00:13:51,219
<font color="#E5E5E5">means better performance</font><font color="#CCCCCC"> do I</font><font color="#E5E5E5"> need to go</font>

392
00:13:49,690 --> 00:13:53,050
through five<font color="#E5E5E5"> different ISPs to</font><font color="#CCCCCC"> get the</font>

393
00:13:51,220 --> 00:13:54,160
<font color="#CCCCCC">Menin</font><font color="#E5E5E5"> host or two different</font><font color="#CCCCCC"> ISPs</font><font color="#E5E5E5"> they're</font>

394
00:13:53,050 --> 00:13:57,160
different<font color="#CCCCCC"> less variables when you go</font>

395
00:13:54,160 --> 00:13:59,350
through<font color="#CCCCCC"> five ISPs now this this is</font>

396
00:13:57,160 --> 00:14:01,959
really<font color="#E5E5E5"> the only indicator that we have</font>

397
00:13:59,350 --> 00:14:03,520
<font color="#E5E5E5">for valve quality</font><font color="#CCCCCC"> across the public</font>

398
00:14:01,960 --> 00:14:04,990
<font color="#CCCCCC">Internet for better</font><font color="#E5E5E5"> for us I'm not</font>

399
00:14:03,520 --> 00:14:07,720
saying it's perfect<font color="#CCCCCC"> but</font><font color="#E5E5E5"> it's all we got</font>

400
00:14:04,990 --> 00:14:09,880
so I like to say let's<font color="#E5E5E5"> use it we might</font>

401
00:14:07,720 --> 00:14:11,470
<font color="#E5E5E5">as</font><font color="#CCCCCC"> well</font><font color="#E5E5E5"> take advantage of</font><font color="#CCCCCC"> it</font><font color="#E5E5E5"> and that</font>

402
00:14:09,880 --> 00:14:13,600
was a bonus<font color="#CCCCCC"> the other reason I like to</font>

403
00:14:11,470 --> 00:14:16,420
<font color="#E5E5E5">listen to a s path length is that remote</font>

404
00:14:13,600 --> 00:14:18,100
networks can send me hints<font color="#E5E5E5"> on how not to</font>

405
00:14:16,420 --> 00:14:21,640
send them traffic and to show that

406
00:14:18,100 --> 00:14:23,800
moment here default.aspx<font color="#CCCCCC"> in shorter is</font>

407
00:14:21,640 --> 00:14:25,060
better<font color="#CCCCCC"> looking here at the path to ten</font>

408
00:14:23,800 --> 00:14:27,459
<font color="#CCCCCC">five zero which is hanging out</font><font color="#E5E5E5"> right</font>

409
00:14:25,060 --> 00:14:29,500
over<font color="#E5E5E5"> here if we</font><font color="#CCCCCC"> looked at our</font><font color="#E5E5E5"> base</font>

410
00:14:27,460 --> 00:14:32,800
network we'd see three hops<font color="#CCCCCC"> one four</font>

411
00:14:29,500 --> 00:14:34,450
<font color="#CCCCCC">five two four five or two</font><font color="#E5E5E5"> hops</font><font color="#CCCCCC"> three</font>

412
00:14:32,800 --> 00:14:37,540
<font color="#CCCCCC">five in this</font><font color="#E5E5E5"> case I'm going to choose</font>

413
00:14:34,450 --> 00:14:39,400
<font color="#E5E5E5">the shorter path three five and with</font>

414
00:14:37,540 --> 00:14:40,630
less ISPs in the path there's less

415
00:14:39,400 --> 00:14:42,720
chance<font color="#CCCCCC"> of</font><font color="#E5E5E5"> things that may go wrong</font>

416
00:14:40,630 --> 00:14:46,330
congestion<font color="#E5E5E5"> peering ejection outages</font>

417
00:14:42,720 --> 00:14:47,950
conflicting<font color="#CCCCCC"> maitenance</font><font color="#E5E5E5"> windows zero here</font>

418
00:14:46,330 --> 00:14:50,260
<font color="#E5E5E5">so let's talk about how a network can</font>

419
00:14:47,950 --> 00:14:51,790
hint to<font color="#CCCCCC"> me that they</font><font color="#E5E5E5"> don't want to use</font><font color="#CCCCCC"> a</font>

420
00:14:50,260 --> 00:14:55,569
path they<font color="#E5E5E5"> may be</font><font color="#CCCCCC"> multi-home too so for</font>

421
00:14:51,790 --> 00:14:57,339
<font color="#E5E5E5">example</font><font color="#CCCCCC"> ten four</font><font color="#E5E5E5"> zero is coming off of a</font>

422
00:14:55,570 --> 00:14:59,890
s for their<font color="#CCCCCC"> multi-home to a s one and</font>

423
00:14:57,340 --> 00:15:01,420
two<font color="#E5E5E5"> maybe for cost reasons maybe for</font>

424
00:14:59,890 --> 00:15:01,750
congestion performance reasons they

425
00:15:01,420 --> 00:15:03,459
don't

426
00:15:01,750 --> 00:15:04,840
want to use their link<font color="#E5E5E5"> to a</font><font color="#CCCCCC"> s2 is</font>

427
00:15:03,460 --> 00:15:07,960
<font color="#CCCCCC">inbound so they're gonna do is they're</font>

428
00:15:04,840 --> 00:15:09,910
gonna prepend<font color="#CCCCCC"> their a.s</font><font color="#E5E5E5"> twice when they</font>

429
00:15:07,960 --> 00:15:12,340
<font color="#CCCCCC">announce it</font><font color="#E5E5E5"> s2 and not preprint it to a</font>

430
00:15:09,910 --> 00:15:15,520
s1 so it happens for me as the content

431
00:15:12,340 --> 00:15:18,370
<font color="#E5E5E5">network down here</font><font color="#CCCCCC"> I see</font><font color="#E5E5E5"> I see</font><font color="#CCCCCC"> one path a</font>

432
00:15:15,520 --> 00:15:20,079
s1 for two months to see another path<font color="#E5E5E5"> s</font>

433
00:15:18,370 --> 00:15:22,330
<font color="#E5E5E5">to four for four</font>

434
00:15:20,080 --> 00:15:23,380
that's three hops<font color="#E5E5E5"> over here and a</font><font color="#CCCCCC"> s3</font>

435
00:15:22,330 --> 00:15:25,420
<font color="#E5E5E5">three five four</font>

436
00:15:23,380 --> 00:15:28,180
so normally I would have<font color="#E5E5E5"> had an equal</font>

437
00:15:25,420 --> 00:15:29,439
cost between<font color="#CCCCCC"> s1 and to buy a s for</font>

438
00:15:28,180 --> 00:15:31,479
setting a prepend they're hinting to me

439
00:15:29,440 --> 00:15:33,040
<font color="#E5E5E5">I don't want you to use that path now if</font>

440
00:15:31,480 --> 00:15:34,390
I had a<font color="#E5E5E5"> local prep I was using to force</font>

441
00:15:33,040 --> 00:15:36,610
<font color="#CCCCCC">that traffic getting s2 I would be</font>

442
00:15:34,390 --> 00:15:39,880
sending<font color="#E5E5E5"> it to a</font><font color="#CCCCCC"> s4</font><font color="#E5E5E5"> unless preferred path</font>

443
00:15:36,610 --> 00:15:41,980
I want<font color="#E5E5E5"> to respect their</font><font color="#CCCCCC"> requests because</font>

444
00:15:39,880 --> 00:15:44,020
<font color="#E5E5E5">usually they have a good reason</font><font color="#CCCCCC"> and by</font>

445
00:15:41,980 --> 00:15:45,520
not if I was to shift<font color="#E5E5E5"> into a s2 with the</font>

446
00:15:44,020 --> 00:15:47,829
local<font color="#E5E5E5"> prep and not listen to a s hop</font>

447
00:15:45,520 --> 00:15:49,329
count<font color="#CCCCCC"> I might be</font><font color="#E5E5E5"> doing a detriment to my</font>

448
00:15:47,830 --> 00:15:53,200
end users<font color="#CCCCCC"> so I may be</font><font color="#E5E5E5"> sitting</font><font color="#CCCCCC"> on a</font>

449
00:15:49,330 --> 00:15:55,480
congestive link talk about the<font color="#CCCCCC"> met</font>

450
00:15:53,200 --> 00:15:58,330
attribute as I said again<font color="#E5E5E5"> the BGP metric</font>

451
00:15:55,480 --> 00:16:00,730
attribute by by default<font color="#E5E5E5"> then the value</font>

452
00:15:58,330 --> 00:16:03,970
<font color="#E5E5E5">is zero or in fact</font><font color="#CCCCCC"> by</font><font color="#E5E5E5"> default the values</font>

453
00:16:00,730 --> 00:16:05,350
actually<font color="#E5E5E5"> no it's not set</font><font color="#CCCCCC"> as I said</font>

454
00:16:03,970 --> 00:16:07,839
<font color="#CCCCCC">there's a cost types to</font><font color="#E5E5E5"> the lowers the</font>

455
00:16:05,350 --> 00:16:09,310
better the<font color="#E5E5E5"> meant was called the multi</font>

456
00:16:07,839 --> 00:16:12,339
exit discriminator so<font color="#E5E5E5"> is initially</font>

457
00:16:09,310 --> 00:16:14,739
created<font color="#CCCCCC"> to allow one ASN to tell another</font>

458
00:16:12,339 --> 00:16:16,240
<font color="#CCCCCC">ASN how they prefer receive</font><font color="#E5E5E5"> traffic if</font>

459
00:16:14,740 --> 00:16:19,600
they have two paths<font color="#CCCCCC"> two links between</font>

460
00:16:16,240 --> 00:16:22,390
them it also used it was used to trigger

461
00:16:19,600 --> 00:16:25,360
what's called cold potato rabbit and it

462
00:16:22,390 --> 00:16:26,890
was only by default<font color="#E5E5E5"> consulted if you'll</font>

463
00:16:25,360 --> 00:16:29,680
remote<font color="#CCCCCC"> ASN if you have two links to the</font>

464
00:16:26,890 --> 00:16:32,080
same exact remote<font color="#CCCCCC"> ASN this has showed up</font>

465
00:16:29,680 --> 00:16:33,880
as I said<font color="#CCCCCC"> again</font><font color="#E5E5E5"> so it's called metric in</font>

466
00:16:32,080 --> 00:16:35,110
many cases we call a metric and this is

467
00:16:33,880 --> 00:16:37,180
really the key to<font color="#E5E5E5"> the metric system</font>

468
00:16:35,110 --> 00:16:39,880
<font color="#CCCCCC">we're using the metric value the metric</font>

469
00:16:37,180 --> 00:16:42,459
attribute<font color="#E5E5E5"> as a way to break ties between</font>

470
00:16:39,880 --> 00:16:44,310
routes heard from diverse<font color="#CCCCCC"> SS so here's</font>

471
00:16:42,460 --> 00:16:46,690
the<font color="#E5E5E5"> example of historical menu so saying</font>

472
00:16:44,310 --> 00:16:48,969
<font color="#E5E5E5">s1 s2 are speaking they have two</font>

473
00:16:46,690 --> 00:16:50,589
<font color="#CCCCCC">physical links between them</font><font color="#E5E5E5"> na s two</font>

474
00:16:48,970 --> 00:16:52,600
months<font color="#CCCCCC"> to tell a</font><font color="#E5E5E5"> s what hey I prefer</font>

475
00:16:50,589 --> 00:16:55,089
that you send me traffic on<font color="#E5E5E5"> this link</font><font color="#CCCCCC"> so</font>

476
00:16:52,600 --> 00:16:56,860
s2 is going to set a man of<font color="#CCCCCC"> ten when</font><font color="#E5E5E5"> he</font>

477
00:16:55,089 --> 00:16:58,420
announces to<font color="#E5E5E5"> a s1</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> this link</font><font color="#CCCCCC"> you can</font>

478
00:16:56,860 --> 00:17:00,610
<font color="#CCCCCC">set a man of 1 million ounces</font><font color="#E5E5E5"> on this</font>

479
00:16:58,420 --> 00:17:01,810
<font color="#E5E5E5">link and a s1</font><font color="#CCCCCC"> if he's doing what</font><font color="#E5E5E5"> you're</font>

480
00:17:00,610 --> 00:17:03,310
supposed to be doing<font color="#E5E5E5"> it's going to</font>

481
00:17:01,810 --> 00:17:07,208
always<font color="#E5E5E5"> select this link this long link</font>

482
00:17:03,310 --> 00:17:11,079
as long as it's up in the metric<font color="#E5E5E5"> system</font>

483
00:17:07,209 --> 00:17:13,150
<font color="#CCCCCC">here's how we utilize men when we do is</font>

484
00:17:11,079 --> 00:17:15,550
we on our<font color="#CCCCCC"> side with</font><font color="#E5E5E5"> an hour</font>

485
00:17:13,150 --> 00:17:17,110
<font color="#CCCCCC">Network when we learn routes</font><font color="#E5E5E5"> we set</font>

486
00:17:15,550 --> 00:17:21,540
different metric values<font color="#CCCCCC"> so a very simple</font>

487
00:17:17,109 --> 00:17:24,280
<font color="#E5E5E5">example</font><font color="#CCCCCC"> traffic to</font><font color="#E5E5E5"> ten</font><font color="#CCCCCC"> zero six zero</font>

488
00:17:21,540 --> 00:17:28,420
normally we have<font color="#E5E5E5"> three equal cost paths</font>

489
00:17:24,280 --> 00:17:31,860
<font color="#E5E5E5">link link a s 1 will be 1 4 6 2 will be</font>

490
00:17:28,420 --> 00:17:34,480
2 4 6<font color="#E5E5E5"> &</font><font color="#CCCCCC"> 3 will be 3</font><font color="#E5E5E5"> 5 6 3 s hop counts</font>

491
00:17:31,860 --> 00:17:35,889
by setting<font color="#E5E5E5"> a metric when I learn this</font>

492
00:17:34,480 --> 00:17:37,990
route from<font color="#E5E5E5"> a s 1 I'm going</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> set a</font>

493
00:17:35,890 --> 00:17:40,030
metric to 100<font color="#E5E5E5"> when I</font><font color="#CCCCCC"> look notes from a s</font>

494
00:17:37,990 --> 00:17:42,340
<font color="#CCCCCC">- I'm gonna set</font><font color="#E5E5E5"> it to</font><font color="#CCCCCC"> 200 now what alert</font>

495
00:17:40,030 --> 00:17:43,629
<font color="#CCCCCC">for me is 3 I'm going to</font><font color="#E5E5E5"> set</font><font color="#CCCCCC"> a 300 well</font>

496
00:17:42,340 --> 00:17:46,389
as my router is comparing metrics

497
00:17:43,630 --> 00:17:49,630
<font color="#E5E5E5">lowest-cost</font><font color="#CCCCCC"> wins</font><font color="#E5E5E5"> I'm effectively</font><font color="#CCCCCC"> gonna</font>

498
00:17:46,390 --> 00:17:52,480
send<font color="#E5E5E5"> all that</font><font color="#CCCCCC"> traffic out a s 1 and this</font>

499
00:17:49,630 --> 00:17:53,920
is really the master<font color="#E5E5E5"> magic slide and if</font>

500
00:17:52,480 --> 00:17:55,690
you understand this much you<font color="#E5E5E5"> can go off</font>

501
00:17:53,920 --> 00:17:56,950
<font color="#CCCCCC">to another</font><font color="#E5E5E5"> topic and then</font><font color="#CCCCCC"> of talk</font>

502
00:17:55,690 --> 00:17:58,900
<font color="#E5E5E5">because this is really all I had to talk</font>

503
00:17:56,950 --> 00:18:01,660
<font color="#E5E5E5">about but if you want to see little more</font>

504
00:17:58,900 --> 00:18:03,970
in depth please stick around<font color="#E5E5E5"> I'll show</font>

505
00:18:01,660 --> 00:18:05,559
<font color="#E5E5E5">you some more</font><font color="#CCCCCC"> I want to talk about the</font>

506
00:18:03,970 --> 00:18:07,059
origin code just<font color="#E5E5E5"> for</font><font color="#CCCCCC"> a moment</font><font color="#E5E5E5"> here</font><font color="#CCCCCC"> so</font>

507
00:18:05,559 --> 00:18:10,660
organ code was initially intended as a

508
00:18:07,059 --> 00:18:13,178
hint to<font color="#CCCCCC"> tell to tell how a route entered</font>

509
00:18:10,660 --> 00:18:14,400
into the BGP<font color="#E5E5E5"> table again you can there</font>

510
00:18:13,179 --> 00:18:17,160
<font color="#CCCCCC">are</font><font color="#E5E5E5"> three values for the origin code</font>

511
00:18:14,400 --> 00:18:19,809
<font color="#CCCCCC">internal-external or simply unknown</font>

512
00:18:17,160 --> 00:18:21,900
internal maybe<font color="#E5E5E5"> coming from another</font><font color="#CCCCCC"> IGP</font>

513
00:18:19,809 --> 00:18:26,050
external<font color="#E5E5E5"> may be to be distributed and</font>

514
00:18:21,900 --> 00:18:27,100
unknown is just a<font color="#E5E5E5"> wild card</font><font color="#CCCCCC"> I told you</font>

515
00:18:26,050 --> 00:18:28,870
it's not really<font color="#CCCCCC"> use consist</font><font color="#E5E5E5"> male</font>

516
00:18:27,100 --> 00:18:32,590
<font color="#CCCCCC">internet</font><font color="#E5E5E5"> I went ahead and I took</font><font color="#CCCCCC"> a look</font>

517
00:18:28,870 --> 00:18:34,659
at<font color="#CCCCCC"> three full tables from 3 excuse me</font>

518
00:18:32,590 --> 00:18:37,629
from three major<font color="#CCCCCC"> US carriers just as a</font>

519
00:18:34,660 --> 00:18:40,360
sample<font color="#E5E5E5"> set</font><font color="#CCCCCC"> what makes us carry had 0</font>

520
00:18:37,630 --> 00:18:41,950
routes that were external<font color="#E5E5E5"> unknown 100%</font>

521
00:18:40,360 --> 00:18:43,990
of these<font color="#E5E5E5"> routes 275 thousand rounds</font>

522
00:18:41,950 --> 00:18:46,090
<font color="#CCCCCC">approximately we're showing up as</font>

523
00:18:43,990 --> 00:18:47,800
internal well another<font color="#E5E5E5"> one the</font><font color="#CCCCCC"> carrier's</font>

524
00:18:46,090 --> 00:18:51,790
had<font color="#E5E5E5"> point five percent</font><font color="#CCCCCC"> of the routes</font>

525
00:18:47,800 --> 00:18:53,500
<font color="#E5E5E5">1357 them showing us external and</font><font color="#CCCCCC"> twenty</font>

526
00:18:51,790 --> 00:18:55,178
<font color="#CCCCCC">two thousand showing us unknown another</font>

527
00:18:53,500 --> 00:18:56,320
one had four thousand is external<font color="#E5E5E5"> and</font>

528
00:18:55,179 --> 00:18:58,480
another<font color="#E5E5E5"> twenty two thousand son a</font>

529
00:18:56,320 --> 00:18:59,950
million consistent they're not<font color="#E5E5E5"> carrying</font>

530
00:18:58,480 --> 00:19:01,270
<font color="#CCCCCC">there they're</font><font color="#E5E5E5"> not actually all carrying</font>

531
00:18:59,950 --> 00:19:02,770
<font color="#CCCCCC">this wildly over the public Internet</font><font color="#E5E5E5"> and</font>

532
00:19:01,270 --> 00:19:04,510
many<font color="#E5E5E5"> times they may be modifying</font>

533
00:19:02,770 --> 00:19:05,950
themselves<font color="#E5E5E5"> so might a curse in this</font>

534
00:19:04,510 --> 00:19:07,720
<font color="#CCCCCC">arbitrary anyway it's not used</font>

535
00:19:05,950 --> 00:19:11,170
consistently<font color="#CCCCCC"> I feel safe throwing it</font>

536
00:19:07,720 --> 00:19:11,860
away why do we<font color="#E5E5E5"> need to fix it after the</font>

537
00:19:11,170 --> 00:19:13,660
origin code

538
00:19:11,860 --> 00:19:16,748
well the origin code sits right here

539
00:19:13,660 --> 00:19:18,830
<font color="#CCCCCC">between between Ras pathway</font>

540
00:19:16,749 --> 00:19:21,200
<font color="#E5E5E5">sifts right right down there</font><font color="#CCCCCC"> between our</font>

541
00:19:18,830 --> 00:19:23,090
<font color="#CCCCCC">AAS path length</font><font color="#E5E5E5"> and our men because</font>

542
00:19:21,200 --> 00:19:25,299
inspected before the metric<font color="#E5E5E5"> it can</font>

543
00:19:23,090 --> 00:19:28,488
<font color="#CCCCCC">actually interfere with what we're doing</font>

544
00:19:25,299 --> 00:19:31,908
let me show an example<font color="#E5E5E5"> so in this case</font>

545
00:19:28,489 --> 00:19:33,559
we have a route to<font color="#CCCCCC"> 1006 zero and as I</font>

546
00:19:31,909 --> 00:19:34,940
<font color="#E5E5E5">told you this is</font><font color="#CCCCCC"> taking from the</font>

547
00:19:33,559 --> 00:19:38,840
previous<font color="#E5E5E5"> line where we set the metric to</font>

548
00:19:34,940 --> 00:19:42,440
100 from<font color="#E5E5E5"> a s1 200</font><font color="#CCCCCC"> from a s2 and 300</font><font color="#E5E5E5"> from</font>

549
00:19:38,840 --> 00:19:45,470
a s3 well we would expect with a metric

550
00:19:42,440 --> 00:19:48,019
of 100 that a s1 will be selected<font color="#CCCCCC"> Oh No</font>

551
00:19:45,470 --> 00:19:51,529
yes what is<font color="#E5E5E5"> telling us that</font><font color="#CCCCCC"> Val was</font>

552
00:19:48,019 --> 00:19:54,139
known with origin<font color="#E5E5E5"> ext na s2 is telling</font>

553
00:19:51,529 --> 00:19:56,899
us na s<font color="#CCCCCC"> 3</font><font color="#E5E5E5"> are telling us origin int well</font>

554
00:19:54,139 --> 00:19:58,668
it turns out<font color="#E5E5E5"> that int internal is</font>

555
00:19:56,899 --> 00:20:00,949
preferred over external which is

556
00:19:58,669 --> 00:20:03,739
preferred over unknown because origin is

557
00:20:00,950 --> 00:20:05,960
compared first and actually interfered

558
00:20:03,739 --> 00:20:08,179
with our<font color="#E5E5E5"> ability to</font><font color="#CCCCCC"> route based on the</font>

559
00:20:05,960 --> 00:20:10,100
metric value and in fact<font color="#E5E5E5"> the a s2 path</font>

560
00:20:08,179 --> 00:20:16,190
is selected<font color="#CCCCCC"> even though it's metric is</font>

561
00:20:10,100 --> 00:20:19,009
200 so let me<font color="#CCCCCC"> traduce the metric system</font>

562
00:20:16,190 --> 00:20:21,499
<font color="#CCCCCC">in depth here the goals the metric</font>

563
00:20:19,009 --> 00:20:23,419
system are<font color="#E5E5E5"> to save costs of course by</font>

564
00:20:21,499 --> 00:20:24,710
ensuring commits are met and<font color="#E5E5E5"> also by</font>

565
00:20:23,419 --> 00:20:25,999
ensuring that<font color="#E5E5E5"> your overage once you've</font>

566
00:20:24,710 --> 00:20:27,909
met your eyes<font color="#CCCCCC"> P commitments you're</font>

567
00:20:25,999 --> 00:20:29,450
sending<font color="#CCCCCC"> over to your less expensive ISP</font>

568
00:20:27,909 --> 00:20:33,739
<font color="#E5E5E5">you're going to improve performance</font>

569
00:20:29,450 --> 00:20:35,480
because typically a hop a path of the

570
00:20:33,739 --> 00:20:38,059
shorter a s<font color="#CCCCCC"> huh will mean a</font><font color="#E5E5E5"> better</font>

571
00:20:35,480 --> 00:20:39,499
network<font color="#E5E5E5"> path you're getting consistent</font>

572
00:20:38,059 --> 00:20:41,570
predictable results by setting metric

573
00:20:39,499 --> 00:20:42,799
your routes<font color="#E5E5E5"> will your routers will</font>

574
00:20:41,570 --> 00:20:44,928
always make the same<font color="#CCCCCC"> decision regardless</font>

575
00:20:42,799 --> 00:20:46,489
<font color="#E5E5E5">of how little</font><font color="#CCCCCC"> about is ISP flaps when</font><font color="#E5E5E5"> he</font>

576
00:20:44,929 --> 00:20:49,220
comes back in<font color="#E5E5E5"> adventure cassette</font>

577
00:20:46,489 --> 00:20:51,049
decision<font color="#E5E5E5"> is</font><font color="#CCCCCC"> retained</font><font color="#E5E5E5"> it's deterministic</font>

578
00:20:49,220 --> 00:20:54,019
<font color="#E5E5E5">as I said so it's not subjected to</font>

579
00:20:51,049 --> 00:20:56,109
shifts based on route being withdrawn

580
00:20:54,019 --> 00:20:58,039
<font color="#CCCCCC">two hops away or a nice pea flopping I</font>

581
00:20:56,109 --> 00:20:59,600
found it's pretty easy<font color="#E5E5E5"> to administer</font>

582
00:20:58,039 --> 00:21:01,700
<font color="#E5E5E5">once you have it set up and running</font>

583
00:20:59,600 --> 00:21:03,439
properly<font color="#E5E5E5"> and you're able to minimize</font>

584
00:21:01,700 --> 00:21:04,999
<font color="#E5E5E5">your manual adjustments and therefore</font>

585
00:21:03,440 --> 00:21:06,399
you're going<font color="#CCCCCC"> to</font><font color="#E5E5E5"> minimize the amount of</font>

586
00:21:04,999 --> 00:21:09,080
<font color="#E5E5E5">time that an engineer needs to spend</font>

587
00:21:06,399 --> 00:21:10,219
<font color="#E5E5E5">manual manipulating a BGP table you're</font>

588
00:21:09,080 --> 00:21:13,549
going<font color="#CCCCCC"> to get the</font><font color="#E5E5E5"> most bang for your buck</font>

589
00:21:10,220 --> 00:21:16,669
by setting a few<font color="#E5E5E5"> a few</font><font color="#CCCCCC"> catch-all rules</font>

590
00:21:13,549 --> 00:21:18,918
<font color="#E5E5E5">and it does have very good multi-vendor</font>

591
00:21:16,669 --> 00:21:21,559
support whereas some some attributes are

592
00:21:18,919 --> 00:21:26,419
proprietary<font color="#E5E5E5"> defender using a weight</font><font color="#CCCCCC"> of</font>

593
00:21:21,559 --> 00:21:28,489
preference<font color="#E5E5E5"> med is is is carried is</font>

594
00:21:26,419 --> 00:21:31,639
<font color="#CCCCCC">that</font><font color="#E5E5E5"> is properly carried</font><font color="#CCCCCC"> across all</font>

595
00:21:28,489 --> 00:21:34,009
across all<font color="#E5E5E5"> vendor options so you're</font>

596
00:21:31,639 --> 00:21:35,149
convinced<font color="#CCCCCC"> your soul so what's next</font><font color="#E5E5E5"> so</font>

597
00:21:34,009 --> 00:21:36,379
<font color="#E5E5E5">there</font><font color="#CCCCCC"> are some preparation steps to</font>

598
00:21:35,149 --> 00:21:38,059
convert your network over to the metric

599
00:21:36,379 --> 00:21:40,129
system<font color="#CCCCCC"> there are some base</font>

600
00:21:38,059 --> 00:21:41,928
configurations you need to<font color="#E5E5E5"> apply then</font>

601
00:21:40,129 --> 00:21:43,639
one of the most important steps<font color="#E5E5E5"> is</font>

602
00:21:41,929 --> 00:21:45,080
selecting your<font color="#CCCCCC"> tiebreakers and then</font>

603
00:21:43,639 --> 00:21:47,508
there's some optional tweaks<font color="#CCCCCC"> that</font><font color="#E5E5E5"> you</font>

604
00:21:45,080 --> 00:21:48,379
may or<font color="#CCCCCC"> may not need to apply so here</font>

605
00:21:47,509 --> 00:21:50,330
your preparations

606
00:21:48,379 --> 00:21:52,039
<font color="#E5E5E5">you've prerequisites of course your</font>

607
00:21:50,330 --> 00:21:54,739
routers have<font color="#E5E5E5"> to have enough RAM to hold</font>

608
00:21:52,039 --> 00:21:59,720
multiple<font color="#CCCCCC"> filled BGP tables with software</font>

609
00:21:54,739 --> 00:22:01,159
configuration in in some cases<font color="#CCCCCC"> your your</font>

610
00:21:59,720 --> 00:22:02,690
routes may be slightly abbreviated there

611
00:22:01,159 --> 00:22:04,070
are some there<font color="#CCCCCC"> are some platforms which</font>

612
00:22:02,690 --> 00:22:05,239
max out or two hundred<font color="#E5E5E5"> twenty four</font>

613
00:22:04,070 --> 00:22:06,379
thousand<font color="#E5E5E5"> or two hundred six thousand</font>

614
00:22:05,239 --> 00:22:08,409
<font color="#CCCCCC">Mouse there are some workarounds</font><font color="#E5E5E5"> for</font>

615
00:22:06,379 --> 00:22:10,850
<font color="#E5E5E5">that and if</font><font color="#CCCCCC"> yours</font><font color="#E5E5E5"> did look</font>

616
00:22:08,409 --> 00:22:13,970
three down odds to go to<font color="#E5E5E5"> nanos to go to</font>

617
00:22:10,850 --> 00:22:17,928
lightning<font color="#E5E5E5"> talk</font><font color="#CCCCCC"> but I gave the cost or</font>

618
00:22:13,970 --> 00:22:20,359
capacity of<font color="#E5E5E5"> your way links your actual</font>

619
00:22:17,929 --> 00:22:21,830
transport links are not considered so

620
00:22:20,359 --> 00:22:23,090
<font color="#E5E5E5">your</font><font color="#CCCCCC"> wind backhaul isn't really desired</font>

621
00:22:21,830 --> 00:22:24,859
we're<font color="#E5E5E5"> going to try to stay within a</font>

622
00:22:23,090 --> 00:22:26,720
metro region<font color="#E5E5E5"> where you may have a flat</font>

623
00:22:24,859 --> 00:22:29,570
<font color="#E5E5E5">rate</font><font color="#CCCCCC"> metro Giggy or</font><font color="#E5E5E5"> ten Giggy or dark</font>

624
00:22:26,720 --> 00:22:32,480
fiber this can<font color="#E5E5E5"> work this is gonna work</font>

625
00:22:29,570 --> 00:22:33,889
best as I said<font color="#CCCCCC"> into a</font><font color="#E5E5E5"> work best in</font>

626
00:22:32,480 --> 00:22:37,580
networks that it can be divided<font color="#CCCCCC"> into</font>

627
00:22:33,889 --> 00:22:38,748
small regional<font color="#E5E5E5"> islands</font><font color="#CCCCCC"> and your network</font>

628
00:22:37,580 --> 00:22:40,129
staff that are<font color="#E5E5E5"> responsible for</font>

629
00:22:38,749 --> 00:22:42,799
maintaining<font color="#E5E5E5"> your BGP they really want to</font>

630
00:22:40,129 --> 00:22:44,449
stay involved<font color="#E5E5E5"> in community such as</font><font color="#CCCCCC"> nanog</font>

631
00:22:42,799 --> 00:22:45,799
<font color="#E5E5E5">air in some of the European</font><font color="#CCCCCC"> Age PAC</font>

632
00:22:44,450 --> 00:22:46,970
communities<font color="#E5E5E5"> because you want to know</font>

633
00:22:45,799 --> 00:22:48,859
what's going<font color="#CCCCCC"> on there are some major</font>

634
00:22:46,970 --> 00:22:51,230
changes sometimes<font color="#E5E5E5"> occur within ISPs</font>

635
00:22:48,859 --> 00:22:53,629
acquisitions<font color="#E5E5E5"> a s number changes</font><font color="#CCCCCC"> so gonna</font>

636
00:22:51,230 --> 00:22:54,619
want to stay<font color="#CCCCCC"> on top of</font><font color="#E5E5E5"> that let's give</font>

637
00:22:53,629 --> 00:22:56,269
you prepare so if you're<font color="#E5E5E5"> not already</font>

638
00:22:54,619 --> 00:22:57,980
sieving that always receiving<font color="#CCCCCC"> the full</font>

639
00:22:56,269 --> 00:22:59,239
<font color="#E5E5E5">browning table from your ISP</font><font color="#CCCCCC"> you're</font>

640
00:22:57,980 --> 00:23:00,769
gonna want ahead and open a ticket call

641
00:22:59,239 --> 00:23:02,779
them up and<font color="#E5E5E5"> have them send you that full</font>

642
00:23:00,769 --> 00:23:04,460
table you're going to want to make<font color="#CCCCCC"> sure</font>

643
00:23:02,779 --> 00:23:05,480
<font color="#E5E5E5">they also send you communities we're</font>

644
00:23:04,460 --> 00:23:07,340
going to talk<font color="#CCCCCC"> about communities</font><font color="#E5E5E5"> a little</font>

645
00:23:05,480 --> 00:23:08,539
later<font color="#E5E5E5"> and some of the</font><font color="#CCCCCC"> tweaks you can</font>

646
00:23:07,340 --> 00:23:09,918
<font color="#CCCCCC">have to</font><font color="#E5E5E5"> make</font><font color="#CCCCCC"> or based</font><font color="#E5E5E5"> on</font><font color="#CCCCCC"> route</font>

647
00:23:08,539 --> 00:23:11,269
communities that are<font color="#E5E5E5"> getting tagged with</font>

648
00:23:09,919 --> 00:23:12,350
prefix<font color="#E5E5E5"> that's being sent to you</font><font color="#CCCCCC"> so make</font>

649
00:23:11,269 --> 00:23:15,109
<font color="#CCCCCC">sure you get communities</font><font color="#E5E5E5"> from your</font>

650
00:23:12,350 --> 00:23:17,149
upstream ISPs more importantly make<font color="#E5E5E5"> sure</font>

651
00:23:15,109 --> 00:23:18,619
you get community definitions from<font color="#E5E5E5"> your</font>

652
00:23:17,149 --> 00:23:20,508
ISPs<font color="#E5E5E5"> and this can</font><font color="#CCCCCC"> sometimes be a</font>

653
00:23:18,619 --> 00:23:21,769
challenge<font color="#CCCCCC"> some ISPs the first-line</font>

654
00:23:20,509 --> 00:23:22,850
support you ask them<font color="#E5E5E5"> for community</font>

655
00:23:21,769 --> 00:23:24,499
definitions<font color="#E5E5E5"> and they'll come back</font><font color="#CCCCCC"> and</font>

656
00:23:22,850 --> 00:23:26,029
<font color="#CCCCCC">say well that's proprietary</font><font color="#E5E5E5"> in secret I</font>

657
00:23:24,499 --> 00:23:28,970
can't give you<font color="#CCCCCC"> that</font><font color="#E5E5E5"> so you might need to</font>

658
00:23:26,029 --> 00:23:30,649
work a<font color="#CCCCCC"> little hard to get</font><font color="#E5E5E5"> that in some</font>

659
00:23:28,970 --> 00:23:32,220
cases you can<font color="#E5E5E5"> get them Riesling you're</font>

660
00:23:30,649 --> 00:23:33,899
<font color="#CCCCCC">gonna want to configure</font>

661
00:23:32,220 --> 00:23:36,240
you're gonna want to enable<font color="#E5E5E5"> what's</font>

662
00:23:33,899 --> 00:23:39,479
metric<font color="#E5E5E5"> comparison across diverse next</font>

663
00:23:36,240 --> 00:23:41,399
<font color="#E5E5E5">hip-hop</font><font color="#CCCCCC"> asns as I said by default</font><font color="#E5E5E5"> med</font>

664
00:23:39,480 --> 00:23:44,220
comparison is only performed<font color="#CCCCCC"> when the</font>

665
00:23:41,399 --> 00:23:45,989
next hop<font color="#CCCCCC"> upstream ASN</font><font color="#E5E5E5"> is the same you're</font>

666
00:23:44,220 --> 00:23:47,460
<font color="#CCCCCC">gonna want to configure</font><font color="#E5E5E5"> soft you're</font>

667
00:23:45,990 --> 00:23:49,259
gonna<font color="#E5E5E5"> want an able soft reconfiguration</font>

668
00:23:47,460 --> 00:23:51,000
<font color="#E5E5E5">inbound if your platform</font><font color="#CCCCCC"> requires it</font>

669
00:23:49,259 --> 00:23:52,409
depending on your<font color="#E5E5E5"> router hardware you're</font>

670
00:23:51,000 --> 00:23:54,720
gonna want to<font color="#CCCCCC"> identify some good times</font>

671
00:23:52,409 --> 00:23:56,009
to make changes and<font color="#E5E5E5"> you might have to</font>

672
00:23:54,720 --> 00:23:58,289
<font color="#CCCCCC">schedule some change</font><font color="#E5E5E5"> windows in order to</font>

673
00:23:56,009 --> 00:24:00,179
<font color="#E5E5E5">get approval</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> make these to make these</font>

674
00:23:58,289 --> 00:24:01,649
<font color="#CCCCCC">adjustments</font><font color="#E5E5E5"> and you're gonna want to</font>

675
00:24:00,179 --> 00:24:03,090
clean<font color="#CCCCCC"> up and unify your existing routing</font>

676
00:24:01,649 --> 00:24:04,379
<font color="#E5E5E5">policy so if you have a stale policy</font>

677
00:24:03,090 --> 00:24:06,178
that<font color="#E5E5E5"> was written by one guy</font><font color="#CCCCCC"> three years</font>

678
00:24:04,379 --> 00:24:07,559
ago<font color="#CCCCCC"> and another</font><font color="#E5E5E5"> gal two years ago came</font>

679
00:24:06,179 --> 00:24:09,870
in and then you just<font color="#CCCCCC"> came in a year ago</font>

680
00:24:07,559 --> 00:24:10,799
and<font color="#E5E5E5"> you got weird crazy stuff going</font><font color="#CCCCCC"> all</font>

681
00:24:09,870 --> 00:24:12,379
over the place<font color="#E5E5E5"> you're gonna want to go</font>

682
00:24:10,799 --> 00:24:14,279
<font color="#CCCCCC">ahead</font><font color="#E5E5E5"> that's the time to clean them</font>

683
00:24:12,379 --> 00:24:15,750
let's talk about<font color="#E5E5E5"> communities little more</font>

684
00:24:14,279 --> 00:24:18,000
so community<font color="#E5E5E5"> tags are additional</font>

685
00:24:15,750 --> 00:24:20,159
attributes that can<font color="#E5E5E5"> be sent with about</font>

686
00:24:18,000 --> 00:24:22,139
when your ISP gives you around<font color="#E5E5E5"> and they</font>

687
00:24:20,159 --> 00:24:26,639
can make<font color="#E5E5E5"> an carry additional information</font>

688
00:24:22,139 --> 00:24:28,740
in addition<font color="#E5E5E5"> to a s hop prefix length</font>

689
00:24:26,639 --> 00:24:30,840
<font color="#E5E5E5">they might tell you about the type</font><font color="#CCCCCC"> of</font>

690
00:24:28,740 --> 00:24:32,700
route if it's a<font color="#E5E5E5"> peer customer or transit</font>

691
00:24:30,840 --> 00:24:34,019
route<font color="#E5E5E5"> they might tell you a location of</font>

692
00:24:32,700 --> 00:24:36,330
<font color="#E5E5E5">the route did I hear this in Los Angeles</font>

693
00:24:34,019 --> 00:24:38,330
<font color="#CCCCCC">I here</font><font color="#E5E5E5"> in Amsterdam they may give you</font>

694
00:24:36,330 --> 00:24:40,678
<font color="#E5E5E5">read in North America South America</font>

695
00:24:38,330 --> 00:24:42,178
<font color="#CCCCCC">pretty</font><font color="#E5E5E5"> much all</font><font color="#CCCCCC"> ISPs all reputable</font>

696
00:24:40,679 --> 00:24:43,940
<font color="#CCCCCC">ispeed are using community tags</font>

697
00:24:42,179 --> 00:24:46,049
internally for<font color="#E5E5E5"> their own purposes it's</font>

698
00:24:43,940 --> 00:24:46,669
it's a survival technique<font color="#CCCCCC"> you got to</font>

699
00:24:46,049 --> 00:24:49,408
have it

700
00:24:46,669 --> 00:24:51,029
most major ISPs actually don't share

701
00:24:49,409 --> 00:24:52,350
them with you though<font color="#E5E5E5"> when you're taking</font>

702
00:24:51,029 --> 00:24:54,450
a full BGP table that's not their

703
00:24:52,350 --> 00:24:56,219
default configuration<font color="#E5E5E5"> but they will do</font>

704
00:24:54,450 --> 00:24:58,200
<font color="#CCCCCC">an</font><font color="#E5E5E5"> on request</font><font color="#CCCCCC"> I so far I haven't</font><font color="#E5E5E5"> come</font>

705
00:24:56,220 --> 00:25:00,029
across<font color="#CCCCCC"> a single ISP reputable ISP that</font>

706
00:24:58,200 --> 00:25:02,519
will refuse<font color="#CCCCCC"> to send you communities if</font>

707
00:25:00,029 --> 00:25:03,840
you asked for it the problem one problem

708
00:25:02,519 --> 00:25:05,399
<font color="#CCCCCC">of communities there's no standard</font>

709
00:25:03,840 --> 00:25:06,090
format what's appear what's<font color="#CCCCCC"> North</font>

710
00:25:05,399 --> 00:25:09,539
<font color="#CCCCCC">America</font>

711
00:25:06,090 --> 00:25:10,949
what's Amsterdam<font color="#E5E5E5"> so having a having</font>

712
00:25:09,539 --> 00:25:12,269
<font color="#CCCCCC">communities get sent to</font><font color="#E5E5E5"> you are pretty</font>

713
00:25:10,950 --> 00:25:14,279
useless<font color="#E5E5E5"> without actual community</font>

714
00:25:12,269 --> 00:25:15,750
definitions from<font color="#E5E5E5"> that</font><font color="#CCCCCC"> ISP let me show an</font>

715
00:25:14,279 --> 00:25:17,970
<font color="#CCCCCC">example</font><font color="#E5E5E5"> of</font><font color="#CCCCCC"> how diverse community</font>

716
00:25:15,750 --> 00:25:19,769
definitions can<font color="#CCCCCC"> be using a couple couple</font>

717
00:25:17,970 --> 00:25:21,509
great ISPs in the example here<font color="#CCCCCC"> and layer</font>

718
00:25:19,769 --> 00:25:24,929
<font color="#E5E5E5">at level 3 I have any fans of both of</font>

719
00:25:21,509 --> 00:25:26,490
them<font color="#E5E5E5"> for in order to designate a route</font>

720
00:25:24,929 --> 00:25:28,289
as being learned from a customer in<font color="#E5E5E5"> Los</font>

721
00:25:26,490 --> 00:25:31,110
<font color="#E5E5E5">Angeles</font><font color="#CCCCCC"> a nice appeal like in layer</font>

722
00:25:28,289 --> 00:25:33,389
<font color="#CCCCCC">we'll send a single</font><font color="#E5E5E5"> community for</font><font color="#CCCCCC"> 436</font>

723
00:25:31,110 --> 00:25:35,729
which<font color="#CCCCCC"> is their ASN</font><font color="#E5E5E5"> and then for one</font>

724
00:25:33,389 --> 00:25:38,399
<font color="#E5E5E5">seven one eight which</font><font color="#CCCCCC"> is a which is</font><font color="#E5E5E5"> a</font>

725
00:25:35,730 --> 00:25:40,350
called a stacked a stack number that

726
00:25:38,399 --> 00:25:41,668
where each each digit or pair<font color="#E5E5E5"> of</font><font color="#CCCCCC"> datas</font>

727
00:25:40,350 --> 00:25:43,619
<font color="#E5E5E5">made me it may have some significance</font>

728
00:25:41,669 --> 00:25:44,980
and<font color="#E5E5E5"> I</font><font color="#CCCCCC"> spelled away what level</font><font color="#E5E5E5"> three will</font>

729
00:25:43,619 --> 00:25:47,020
<font color="#CCCCCC">save</font><font color="#E5E5E5"> you four separate communities</font>

730
00:25:44,980 --> 00:25:48,460
one will tell you<font color="#E5E5E5"> he's a customer</font><font color="#CCCCCC"> one</font>

731
00:25:47,020 --> 00:25:50,470
will tell you he's<font color="#CCCCCC"> in Los Angeles</font><font color="#E5E5E5"> one</font>

732
00:25:48,460 --> 00:25:53,920
will tell you he's<font color="#CCCCCC"> in North America and</font>

733
00:25:50,470 --> 00:25:56,830
one will tell you<font color="#E5E5E5"> I forgot the last one</font>

734
00:25:53,920 --> 00:25:58,270
is doesn't<font color="#E5E5E5"> matter you get to look</font><font color="#CCCCCC"> at by</font>

735
00:25:56,830 --> 00:26:00,699
the same<font color="#E5E5E5"> token a private payer Amsterdam</font>

736
00:25:58,270 --> 00:26:05,320
<font color="#E5E5E5">and layer will send a different stacked</font>

737
00:26:00,700 --> 00:26:07,000
value<font color="#E5E5E5"> 3</font><font color="#CCCCCC"> 2 2 2 0 and level</font><font color="#E5E5E5"> 3 will send</font><font color="#CCCCCC"> 4</font>

738
00:26:05,320 --> 00:26:08,260
different<font color="#CCCCCC"> attributes in the first one</font>

739
00:26:07,000 --> 00:26:10,210
being<font color="#CCCCCC"> that it's a peer the second one</font>

740
00:26:08,260 --> 00:26:14,110
being it's an<font color="#CCCCCC"> Amsterdam</font><font color="#E5E5E5"> and throw on</font>

741
00:26:10,210 --> 00:26:15,100
being a<font color="#E5E5E5"> regent etc</font><font color="#CCCCCC"> you may have to refer</font>

742
00:26:14,110 --> 00:26:16,330
to<font color="#E5E5E5"> these communities later for</font>

743
00:26:15,100 --> 00:26:19,209
<font color="#CCCCCC">fine-tuning</font><font color="#E5E5E5"> so it's best to have them</font>

744
00:26:16,330 --> 00:26:22,510
ready available in your arsenal<font color="#CCCCCC"> from the</font>

745
00:26:19,210 --> 00:26:25,240
get-go where can you find definitions

746
00:26:22,510 --> 00:26:26,560
<font color="#CCCCCC">for the communities well of course</font><font color="#E5E5E5"> lots</font>

747
00:26:25,240 --> 00:26:27,970
<font color="#E5E5E5">of ice peas will publish them on their</font>

748
00:26:26,560 --> 00:26:30,940
own<font color="#E5E5E5"> website I gave as an</font><font color="#CCCCCC"> example here</font>

749
00:26:27,970 --> 00:26:33,970
<font color="#CCCCCC">and layer</font><font color="#E5E5E5"> who publishes a very concise</font>

750
00:26:30,940 --> 00:26:35,020
and<font color="#CCCCCC"> easy to follow single sheet</font><font color="#E5E5E5"> some of</font>

751
00:26:33,970 --> 00:26:37,000
them will publish them in<font color="#E5E5E5"> a routing</font>

752
00:26:35,020 --> 00:26:38,440
registry<font color="#E5E5E5"> so level 3 for example you just</font>

753
00:26:37,000 --> 00:26:41,410
<font color="#E5E5E5">run that Whois command and you'll get</font>

754
00:26:38,440 --> 00:26:42,610
<font color="#E5E5E5">screen</font><font color="#CCCCCC"> fulls</font><font color="#E5E5E5"> of community definitions in</font>

755
00:26:41,410 --> 00:26:43,780
some cases<font color="#E5E5E5"> they don't publish them</font>

756
00:26:42,610 --> 00:26:44,979
publicly you're gonna want<font color="#E5E5E5"> to ask your</font>

757
00:26:43,780 --> 00:26:46,180
eyes<font color="#CCCCCC"> p directly and as I said this</font>

758
00:26:44,980 --> 00:26:47,440
sometimes can be a challenge you might

759
00:26:46,180 --> 00:26:48,850
<font color="#E5E5E5">have to go to</font><font color="#CCCCCC"> your sales engineer or</font>

760
00:26:47,440 --> 00:26:50,020
your account rep or get<font color="#E5E5E5"> an escalator</font>

761
00:26:48,850 --> 00:26:53,409
through support chain until<font color="#CCCCCC"> you finally</font>

762
00:26:50,020 --> 00:26:55,900
get<font color="#CCCCCC"> it</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> our good friends over at</font>

763
00:26:53,410 --> 00:26:57,160
<font color="#CCCCCC">one-step charles document company they</font>

764
00:26:55,900 --> 00:26:58,690
have an unofficial collect collection

765
00:26:57,160 --> 00:27:00,280
<font color="#E5E5E5">there there's a URL over there one sec</font>

766
00:26:58,690 --> 00:27:01,690
<font color="#CCCCCC">net communities and they have an</font>

767
00:27:00,280 --> 00:27:04,030
unofficial collection that people have

768
00:27:01,690 --> 00:27:08,770
been contributing to<font color="#E5E5E5"> which can be quite</font>

769
00:27:04,030 --> 00:27:10,530
helpful in<font color="#E5E5E5"> a pinch so let's talk</font><font color="#CCCCCC"> about</font>

770
00:27:08,770 --> 00:27:13,090
getting<font color="#E5E5E5"> prepared your base configuration</font>

771
00:27:10,530 --> 00:27:14,950
<font color="#E5E5E5">for a</font><font color="#CCCCCC"> Cisco of course you're</font><font color="#E5E5E5"> going to</font>

772
00:27:13,090 --> 00:27:17,350
enter<font color="#E5E5E5"> BGP configuration mode router bgp</font>

773
00:27:14,950 --> 00:27:19,960
or<font color="#CCCCCC"> AAS</font><font color="#E5E5E5"> number you're going to enable the</font>

774
00:27:17,350 --> 00:27:22,060
metric comparison<font color="#E5E5E5"> for routes heard from</font>

775
00:27:19,960 --> 00:27:23,890
diverse<font color="#CCCCCC"> SNS very simple BGP always</font>

776
00:27:22,060 --> 00:27:25,510
<font color="#E5E5E5">compare</font><font color="#CCCCCC"> med you're gonna want to</font>

777
00:27:23,890 --> 00:27:28,090
<font color="#CCCCCC">configure</font><font color="#E5E5E5"> the safety net against missing</font>

778
00:27:25,510 --> 00:27:30,730
metrics as I said some routes will be

779
00:27:28,090 --> 00:27:32,560
<font color="#E5E5E5">sent to you</font><font color="#CCCCCC"> without any metrics or you</font>

780
00:27:30,730 --> 00:27:33,610
may have<font color="#CCCCCC"> a typo in</font><font color="#E5E5E5"> your policy is where</font>

781
00:27:32,560 --> 00:27:35,770
you forget<font color="#E5E5E5"> to set of metrics so we're</font>

782
00:27:33,610 --> 00:27:37,030
going<font color="#E5E5E5"> to turn on BGP best path med</font>

783
00:27:35,770 --> 00:27:38,740
missing is worse meaning if there's

784
00:27:37,030 --> 00:27:40,950
<font color="#CCCCCC">nomads</font><font color="#E5E5E5"> send all the</font><font color="#CCCCCC"> way up to the</font>

785
00:27:38,740 --> 00:27:43,860
<font color="#E5E5E5">maximum value</font><font color="#CCCCCC"> which is</font><font color="#E5E5E5"> 4.2 billion</font>

786
00:27:40,950 --> 00:27:46,090
<font color="#E5E5E5">because of 32-bit integer excuse me</font><font color="#CCCCCC"> and</font>

787
00:27:43,860 --> 00:27:47,530
<font color="#E5E5E5">and that route will actually not</font><font color="#CCCCCC"> be</font>

788
00:27:46,090 --> 00:27:50,409
selected<font color="#E5E5E5"> less there's no other available</font>

789
00:27:47,530 --> 00:27:51,970
route go ahead and enable<font color="#E5E5E5"> receive</font><font color="#CCCCCC"> route</font>

790
00:27:50,410 --> 00:27:53,650
storage this<font color="#CCCCCC"> account called</font><font color="#E5E5E5"> the Cisco</font>

791
00:27:51,970 --> 00:27:55,270
world<font color="#E5E5E5"> software config software</font>

792
00:27:53,650 --> 00:27:56,380
configuration<font color="#E5E5E5"> inbound and you're</font><font color="#CCCCCC"> gonna</font>

793
00:27:55,270 --> 00:27:57,460
want this<font color="#E5E5E5"> because later on as you're</font>

794
00:27:56,380 --> 00:27:58,000
<font color="#CCCCCC">doing tuning and tweaking you're going</font>

795
00:27:57,460 --> 00:27:59,560
to have to read

796
00:27:58,000 --> 00:28:02,740
these<font color="#E5E5E5"> routes and</font><font color="#CCCCCC"> reapply different</font>

797
00:27:59,560 --> 00:28:04,659
metrics and also go<font color="#CCCCCC"> ahead on Cisco</font>

798
00:28:02,740 --> 00:28:07,810
you're going to<font color="#E5E5E5"> need</font><font color="#CCCCCC"> enable the ASN</font><font color="#E5E5E5"> : ID</font>

799
00:28:04,660 --> 00:28:10,510
format<font color="#CCCCCC"> like I showed you</font><font color="#E5E5E5"> here</font><font color="#CCCCCC"> 3 3 5</font><font color="#E5E5E5"> 600</font>

800
00:28:07,810 --> 00:28:11,889
<font color="#E5E5E5">and 1 2 3</font><font color="#CCCCCC"> well</font><font color="#E5E5E5"> by default</font><font color="#CCCCCC"> still</font><font color="#E5E5E5"> today in</font>

801
00:28:10,510 --> 00:28:13,440
the<font color="#E5E5E5"> year 2009 Cisco doesn't show you</font>

802
00:28:11,890 --> 00:28:15,550
communities that way they use the older

803
00:28:13,440 --> 00:28:17,890
long string format go ahead and just

804
00:28:15,550 --> 00:28:20,020
type<font color="#CCCCCC"> IP</font><font color="#E5E5E5"> BGP community you format so</font><font color="#CCCCCC"> you</font>

805
00:28:17,890 --> 00:28:23,440
<font color="#E5E5E5">can read communities in a human friendly</font>

806
00:28:20,020 --> 00:28:25,270
format on a foundry<font color="#E5E5E5"> very simple very</font>

807
00:28:23,440 --> 00:28:27,220
similar<font color="#E5E5E5"> you're gonna enable bgp router</font>

808
00:28:25,270 --> 00:28:27,760
bgp<font color="#CCCCCC"> you're gonna turn on</font><font color="#E5E5E5"> always</font>

809
00:28:27,220 --> 00:28:29,740
<font color="#CCCCCC">comparemaine</font>

810
00:28:27,760 --> 00:28:31,690
almost the same exact command<font color="#CCCCCC"> Francisco</font>

811
00:28:29,740 --> 00:28:34,090
man missing is worse<font color="#CCCCCC"> again very similar</font>

812
00:28:31,690 --> 00:28:36,550
<font color="#CCCCCC">to Cisco and soft reconfiguration</font>

813
00:28:34,090 --> 00:28:39,220
<font color="#E5E5E5">inbound</font><font color="#CCCCCC"> you know</font><font color="#E5E5E5"> very similar command on</font>

814
00:28:36,550 --> 00:28:41,530
a force 10<font color="#E5E5E5"> BGP mode</font><font color="#CCCCCC"> BGP</font><font color="#E5E5E5"> almost</font><font color="#CCCCCC"> compare</font>

815
00:28:39,220 --> 00:28:43,420
<font color="#E5E5E5">med software configuration inbound and</font>

816
00:28:41,530 --> 00:28:44,860
med missing is worse is actually on by

817
00:28:43,420 --> 00:28:46,900
<font color="#CCCCCC">default so hey there's</font><font color="#E5E5E5"> one less step for</font>

818
00:28:44,860 --> 00:28:47,729
you for<font color="#E5E5E5"> your force 10 fans in the</font>

819
00:28:46,900 --> 00:28:52,390
<font color="#CCCCCC">Juniper world</font>

820
00:28:47,730 --> 00:28:53,710
go ahead enter<font color="#E5E5E5"> protocol BGP mode turn on</font>

821
00:28:52,390 --> 00:28:56,230
the<font color="#CCCCCC"> always compare</font><font color="#E5E5E5"> med path selection</font>

822
00:28:53,710 --> 00:29:00,070
option<font color="#CCCCCC"> soft reconfiguration is enabled</font>

823
00:28:56,230 --> 00:29:01,090
by<font color="#E5E5E5"> default in fact and med missing is</font>

824
00:29:00,070 --> 00:29:07,179
worse than<font color="#CCCCCC"> uh murmur why didn't</font><font color="#E5E5E5"> put on</font>

825
00:29:01,090 --> 00:29:08,590
<font color="#CCCCCC">the slide google it sorry</font><font color="#E5E5E5"> pinion next</font>

826
00:29:07,180 --> 00:29:10,390
step in<font color="#CCCCCC"> getting prepared</font><font color="#E5E5E5"> is identify x</font>

827
00:29:08,590 --> 00:29:12,129
times you want<font color="#E5E5E5"> to make changes so if</font>

828
00:29:10,390 --> 00:29:14,500
you're doing<font color="#E5E5E5"> traffic balancing you can</font>

829
00:29:12,130 --> 00:29:16,870
really only<font color="#E5E5E5"> know the effectiveness of</font>

830
00:29:14,500 --> 00:29:18,870
<font color="#E5E5E5">your changes if you're</font><font color="#CCCCCC"> making a change</font>

831
00:29:16,870 --> 00:29:21,399
<font color="#E5E5E5">during your peak traffic periods</font>

832
00:29:18,870 --> 00:29:23,169
go ahead<font color="#E5E5E5"> pull your graphs daily weekly</font>

833
00:29:21,400 --> 00:29:24,760
monthly historical graphs<font color="#E5E5E5"> find those</font>

834
00:29:23,170 --> 00:29:26,980
peak periods<font color="#CCCCCC"> of time because that's</font>

835
00:29:24,760 --> 00:29:28,600
<font color="#E5E5E5">where you're getting built in</font><font color="#CCCCCC"> your Nitra</font>

836
00:29:26,980 --> 00:29:30,190
percentile and that's where you<font color="#E5E5E5"> have</font>

837
00:29:28,600 --> 00:29:31,870
<font color="#E5E5E5">your most risk of congestion obviously</font>

838
00:29:30,190 --> 00:29:33,130
you're gonna<font color="#E5E5E5"> you may have to prepare</font>

839
00:29:31,870 --> 00:29:34,540
your management<font color="#CCCCCC"> interoperation staff</font>

840
00:29:33,130 --> 00:29:36,790
they might not<font color="#E5E5E5"> want</font><font color="#CCCCCC"> you to make changes</font>

841
00:29:34,540 --> 00:29:39,040
<font color="#E5E5E5">during peak periods so may take some</font>

842
00:29:36,790 --> 00:29:42,129
finesse<font color="#CCCCCC"> may take a few meetings may take</font>

843
00:29:39,040 --> 00:29:43,810
a few<font color="#E5E5E5"> more than a few</font><font color="#CCCCCC"> meetings</font><font color="#E5E5E5"> but if</font>

844
00:29:42,130 --> 00:29:45,850
you're not<font color="#CCCCCC"> making your changes</font><font color="#E5E5E5"> during</font>

845
00:29:43,810 --> 00:29:48,370
peak periods<font color="#CCCCCC"> you're not gonna</font><font color="#E5E5E5"> know until</font>

846
00:29:45,850 --> 00:29:49,330
maybe<font color="#E5E5E5"> 12 to 24 hours</font><font color="#CCCCCC"> later how effective</font>

847
00:29:48,370 --> 00:29:51,580
your chain is<font color="#CCCCCC"> were and you</font><font color="#E5E5E5"> might find</font>

848
00:29:49,330 --> 00:29:54,340
yourself<font color="#CCCCCC"> making</font><font color="#E5E5E5"> emergency emergency</font>

849
00:29:51,580 --> 00:29:55,360
back off changes you're gonna have to

850
00:29:54,340 --> 00:29:57,100
make some<font color="#CCCCCC"> Pratt</font><font color="#E5E5E5"> you may have to make</font>

851
00:29:55,360 --> 00:29:58,209
<font color="#CCCCCC">some profit practice runs during</font>

852
00:29:57,100 --> 00:29:59,740
<font color="#E5E5E5">off-peak hours and they have to</font>

853
00:29:58,210 --> 00:30:00,790
demonstrate<font color="#E5E5E5"> your management operation</font>

854
00:29:59,740 --> 00:30:03,180
stuff<font color="#E5E5E5"> that you can</font><font color="#CCCCCC"> actually make these</font>

855
00:30:00,790 --> 00:30:05,500
<font color="#E5E5E5">changes soft without causing any outages</font>

856
00:30:03,180 --> 00:30:06,850
<font color="#CCCCCC">BGP is</font><font color="#E5E5E5"> a wonderful protocol</font><font color="#CCCCCC"> wonderful</font>

857
00:30:05,500 --> 00:30:08,740
<font color="#CCCCCC">make before break style protocol the</font>

858
00:30:06,850 --> 00:30:10,330
<font color="#E5E5E5">software you can fig in if you're doing</font>

859
00:30:08,740 --> 00:30:10,750
<font color="#E5E5E5">it right you can typically do this at</font>

860
00:30:10,330 --> 00:30:12,970
any

861
00:30:10,750 --> 00:30:14,409
anytime day<font color="#E5E5E5"> without causing any outages</font>

862
00:30:12,970 --> 00:30:18,570
<font color="#E5E5E5">as long as you don't do something silly</font>

863
00:30:14,409 --> 00:30:20,590
<font color="#E5E5E5">like congestive later so you're already</font>

864
00:30:18,570 --> 00:30:21,789
<font color="#CCCCCC">got to clean up</font><font color="#E5E5E5"> you've got</font><font color="#CCCCCC"> to scrub</font><font color="#E5E5E5"> in</font>

865
00:30:20,590 --> 00:30:23,199
for<font color="#E5E5E5"> surgery you got to clean on all of</font>

866
00:30:21,789 --> 00:30:24,908
those policies<font color="#E5E5E5"> and you want to start</font>

867
00:30:23,200 --> 00:30:27,010
with<font color="#E5E5E5"> a base nice clean catch-all policy</font>

868
00:30:24,909 --> 00:30:29,289
that does very simply accept all your

869
00:30:27,010 --> 00:30:31,629
<font color="#E5E5E5">BGP routes reset</font><font color="#CCCCCC"> your origin to type</font>

870
00:30:29,289 --> 00:30:33,879
internal<font color="#E5E5E5"> reset your metric to zero</font>

871
00:30:31,630 --> 00:30:36,610
<font color="#E5E5E5">there's your starting step once it's</font>

872
00:30:33,880 --> 00:30:40,360
<font color="#E5E5E5">done see what you got let's proceed with</font>

873
00:30:36,610 --> 00:30:41,469
configuring<font color="#CCCCCC"> metric system</font><font color="#E5E5E5"> so for the</font>

874
00:30:40,360 --> 00:30:43,959
remaining examples I'm just gonna show

875
00:30:41,470 --> 00:30:45,760
you Cisco IOS<font color="#CCCCCC"> engine and Gina's</font><font color="#E5E5E5"> found</font>

876
00:30:43,960 --> 00:30:47,230
<font color="#E5E5E5">reason for</font><font color="#CCCCCC"> stems are very</font><font color="#E5E5E5"> similar not</font>

877
00:30:45,760 --> 00:30:49,360
identical so if you're a founder<font color="#E5E5E5"> of</font>

878
00:30:47,230 --> 00:30:51,070
force<font color="#E5E5E5"> 10 or other vendor please check</font>

879
00:30:49,360 --> 00:30:52,870
<font color="#E5E5E5">your documentation don't just copy this</font>

880
00:30:51,070 --> 00:30:54,939
configure it out<font color="#E5E5E5"> also with the routing</font>

881
00:30:52,870 --> 00:30:56,799
policies there are so<font color="#CCCCCC"> many ways</font><font color="#E5E5E5"> to ride</font>

882
00:30:54,940 --> 00:30:58,750
around<font color="#E5E5E5"> in policy and there's so many</font>

883
00:30:56,799 --> 00:30:59,770
<font color="#E5E5E5">different</font><font color="#CCCCCC"> styles so you're gonna want</font><font color="#E5E5E5"> to</font>

884
00:30:58,750 --> 00:31:01,299
look<font color="#E5E5E5"> in your own network you might have</font>

885
00:30:59,770 --> 00:31:02,408
your<font color="#E5E5E5"> own precedents you're gonna want to</font>

886
00:31:01,299 --> 00:31:04,658
<font color="#E5E5E5">go ahead and adapt that if at all</font>

887
00:31:02,409 --> 00:31:06,400
possible<font color="#E5E5E5"> so that you had you minimize</font>

888
00:31:04,659 --> 00:31:07,900
the engineer confusion<font color="#E5E5E5"> if you have</font>

889
00:31:06,400 --> 00:31:10,150
<font color="#E5E5E5">absolutely</font><font color="#CCCCCC"> nothing going</font><font color="#E5E5E5"> on you can take</font>

890
00:31:07,900 --> 00:31:11,320
<font color="#E5E5E5">some of this example you can drop me an</font>

891
00:31:10,150 --> 00:31:13,990
email some of your call give<font color="#E5E5E5"> me some</font>

892
00:31:11,320 --> 00:31:16,149
more<font color="#E5E5E5"> assistance so base policy for iOS</font>

893
00:31:13,990 --> 00:31:18,190
<font color="#E5E5E5">as I said we're gonna run a route map</font>

894
00:31:16,150 --> 00:31:19,870
<font color="#CCCCCC">I'm gonna catch all routes so there is</font>

895
00:31:18,190 --> 00:31:21,789
no match<font color="#E5E5E5"> clause because by default he'll</font>

896
00:31:19,870 --> 00:31:26,289
match anything<font color="#CCCCCC"> good reset the metric to</font>

897
00:31:21,789 --> 00:31:27,908
zero<font color="#E5E5E5"> we set the origin code to</font><font color="#CCCCCC"> IGP apply</font>

898
00:31:26,289 --> 00:31:31,929
to a neighbor by simply entering<font color="#CCCCCC"> BGP</font>

899
00:31:27,909 --> 00:31:33,400
configuration mode and neighbor<font color="#E5E5E5"> pair</font>

900
00:31:31,929 --> 00:31:36,700
<font color="#E5E5E5">appear on</font><font color="#CCCCCC"> our neighbor</font><font color="#E5E5E5"> there's a route</font>

901
00:31:33,400 --> 00:31:40,210
map<font color="#CCCCCC"> for all inbound</font><font color="#E5E5E5"> learned routes in</font>

902
00:31:36,700 --> 00:31:42,640
judo's<font color="#E5E5E5"> you're gonna write a policy</font><font color="#CCCCCC"> what</font>

903
00:31:40,210 --> 00:31:46,179
a policy within that policy<font color="#CCCCCC"> you're gonna</font>

904
00:31:42,640 --> 00:31:48,159
have a you're gonna have a<font color="#E5E5E5"> route origin</font>

905
00:31:46,179 --> 00:31:51,100
policy which simply sets origin<font color="#CCCCCC"> IGP</font>

906
00:31:48,159 --> 00:31:53,740
<font color="#E5E5E5">they're gonna have a import from</font><font color="#CCCCCC"> ISP</font>

907
00:31:51,100 --> 00:31:55,719
which again there's no from<font color="#E5E5E5"> statements</font>

908
00:31:53,740 --> 00:31:59,429
who's<font color="#E5E5E5"> gonna catch all routes</font><font color="#CCCCCC"> gonna reset</font>

909
00:31:55,720 --> 00:31:59,429
<font color="#E5E5E5">the metric to zero</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> accept all</font><font color="#CCCCCC"> that</font>

910
00:31:59,610 --> 00:32:03,729
apply to the neighbor in this case we're

911
00:32:01,750 --> 00:32:05,200
applying these<font color="#E5E5E5"> two</font><font color="#CCCCCC"> to policies and</font>

912
00:32:03,730 --> 00:32:06,789
<font color="#CCCCCC">sequence</font><font color="#E5E5E5"> the neighbor one just resets</font>

913
00:32:05,200 --> 00:32:08,500
the origin and<font color="#CCCCCC"> goes on the</font><font color="#E5E5E5"> next policy</font>

914
00:32:06,789 --> 00:32:11,650
<font color="#E5E5E5">and the next one of course does our</font>

915
00:32:08,500 --> 00:32:13,900
<font color="#CCCCCC">catch all statements</font><font color="#E5E5E5"> let's talk about</font>

916
00:32:11,650 --> 00:32:16,299
some<font color="#E5E5E5"> more detailed configurations so</font>

917
00:32:13,900 --> 00:32:18,159
once you've once you've set<font color="#CCCCCC"> your base</font>

918
00:32:16,299 --> 00:32:19,360
<font color="#E5E5E5">your base configs you've</font><font color="#CCCCCC"> gotten your</font>

919
00:32:18,159 --> 00:32:21,220
maintenance<font color="#E5E5E5"> windows</font><font color="#CCCCCC"> you've scrubbed in</font>

920
00:32:19,360 --> 00:32:22,560
<font color="#E5E5E5">everything's clean you get to start</font>

921
00:32:21,220 --> 00:32:23,670
<font color="#E5E5E5">really hitting into getting</font>

922
00:32:22,560 --> 00:32:26,550
getting deep in the<font color="#CCCCCC"> medical system so</font>

923
00:32:23,670 --> 00:32:27,960
there are<font color="#E5E5E5"> four stages here typically you</font>

924
00:32:26,550 --> 00:32:30,180
might only hit<font color="#E5E5E5"> the first second stage</font>

925
00:32:27,960 --> 00:32:31,890
first<font color="#E5E5E5"> stage we're</font><font color="#CCCCCC"> gonna fix the</font><font color="#E5E5E5"> rot</font>

926
00:32:30,180 --> 00:32:33,510
origin attribute as we discussed<font color="#E5E5E5"> we're</font>

927
00:32:31,890 --> 00:32:34,860
<font color="#CCCCCC">gonna go ahead and we may have to add</font>

928
00:32:33,510 --> 00:32:36,450
some<font color="#CCCCCC"> prepends</font><font color="#E5E5E5"> I'll talk about that in</font><font color="#CCCCCC"> a</font>

929
00:32:34,860 --> 00:32:38,939
moment<font color="#CCCCCC"> the second stage we're</font><font color="#E5E5E5"> going to</font>

930
00:32:36,450 --> 00:32:41,640
set some broad<font color="#E5E5E5"> strokes we're going to</font>

931
00:32:38,940 --> 00:32:43,290
set some tie breakers for<font color="#CCCCCC"> AS hop ties I</font>

932
00:32:41,640 --> 00:32:45,120
showed<font color="#CCCCCC"> before you may have may have</font>

933
00:32:43,290 --> 00:32:47,370
three possible routes and three AAS hops

934
00:32:45,120 --> 00:32:50,669
to that<font color="#E5E5E5"> that's</font><font color="#CCCCCC"> destination prefix</font><font color="#E5E5E5"> we're</font>

935
00:32:47,370 --> 00:32:52,290
gonna upset who wins that time there may

936
00:32:50,670 --> 00:32:54,030
be some general<font color="#E5E5E5"> selection based on some</font>

937
00:32:52,290 --> 00:32:55,230
ISP information<font color="#E5E5E5"> so using some</font>

938
00:32:54,030 --> 00:32:57,660
communities I want to say<font color="#E5E5E5"> I prefer</font>

939
00:32:55,230 --> 00:33:00,000
sending these peer routes<font color="#E5E5E5"> this is P</font>

940
00:32:57,660 --> 00:33:02,130
these customer outs of that<font color="#CCCCCC"> ISP the</font>

941
00:33:00,000 --> 00:33:04,140
third stage of<font color="#E5E5E5"> metric system is if you</font>

942
00:33:02,130 --> 00:33:06,360
still<font color="#CCCCCC"> additional balancing you may have</font>

943
00:33:04,140 --> 00:33:08,070
to you may have to set some specific

944
00:33:06,360 --> 00:33:09,719
targets<font color="#E5E5E5"> based on the destination</font><font color="#CCCCCC"> network</font>

945
00:33:08,070 --> 00:33:12,240
<font color="#CCCCCC">to three hops away you're gonna have to</font>

946
00:33:09,720 --> 00:33:14,190
understand those target networks this<font color="#E5E5E5"> is</font>

947
00:33:12,240 --> 00:33:16,230
where really flow based statistics

948
00:33:14,190 --> 00:33:17,400
<font color="#E5E5E5">becomes valuable you're gonna if you're</font>

949
00:33:16,230 --> 00:33:18,870
<font color="#E5E5E5">already at the stage you're probably</font>

950
00:33:17,400 --> 00:33:22,830
gonna want<font color="#CCCCCC"> some net flow collection and</font>

951
00:33:18,870 --> 00:33:24,870
analysis based<font color="#E5E5E5"> on</font><font color="#CCCCCC"> a SN prefix and in</font>

952
00:33:22,830 --> 00:33:26,550
this<font color="#E5E5E5"> case I prefer to</font><font color="#CCCCCC"> make my third</font>

953
00:33:24,870 --> 00:33:28,110
<font color="#E5E5E5">stage changes based on a SN rather than</font>

954
00:33:26,550 --> 00:33:29,909
specific prefixes<font color="#E5E5E5"> because previous</font>

955
00:33:28,110 --> 00:33:32,879
<font color="#CCCCCC">ACCA's can</font><font color="#E5E5E5"> can't and do change over time</font>

956
00:33:29,910 --> 00:33:34,050
<font color="#CCCCCC">a SN changes a lot</font><font color="#E5E5E5"> less frequently the</font>

957
00:33:32,880 --> 00:33:36,450
final stage there's some<font color="#E5E5E5"> additional</font>

958
00:33:34,050 --> 00:33:39,419
fine-tuning<font color="#CCCCCC"> I find that I rarely enter</font>

959
00:33:36,450 --> 00:33:41,100
this stage but I'll<font color="#E5E5E5"> tell you a little</font>

960
00:33:39,420 --> 00:33:42,570
about that<font color="#E5E5E5"> so let's go let's go</font><font color="#CCCCCC"> in-depth</font>

961
00:33:41,100 --> 00:33:44,189
here<font color="#E5E5E5"> so the first stage I said we fixed</font>

962
00:33:42,570 --> 00:33:46,950
him out<font color="#CCCCCC"> origin attribute</font><font color="#E5E5E5"> we may have</font>

963
00:33:44,190 --> 00:33:48,540
said some s prepense<font color="#CCCCCC"> raw origin we</font>

964
00:33:46,950 --> 00:33:50,400
already did<font color="#E5E5E5"> doing the cleanup stage but</font>

965
00:33:48,540 --> 00:33:53,399
go ahead<font color="#E5E5E5"> and</font><font color="#CCCCCC"> double check do a show IP</font>

966
00:33:50,400 --> 00:33:55,830
<font color="#CCCCCC">bgp neighbor routes</font><font color="#E5E5E5"> do a show route</font>

967
00:33:53,400 --> 00:33:57,030
<font color="#CCCCCC">receive protocol bgp</font><font color="#E5E5E5"> neighbor</font><font color="#CCCCCC"> i paid go</font>

968
00:33:55,830 --> 00:34:00,750
ahead and make<font color="#CCCCCC"> sure all those all those</font>

969
00:33:57,030 --> 00:34:04,230
<font color="#CCCCCC">attributes are set to internal and as</font>

970
00:34:00,750 --> 00:34:06,630
far as as far<font color="#CCCCCC"> as a s hop goes equalizing</font>

971
00:34:04,230 --> 00:34:08,580
the playing field<font color="#E5E5E5"> check do any of your</font>

972
00:34:06,630 --> 00:34:10,590
eyes<font color="#CCCCCC"> piece insert an extra local a SN</font>

973
00:34:08,580 --> 00:34:12,750
before you get to the backbone<font color="#CCCCCC"> SN this</font>

974
00:34:10,590 --> 00:34:15,600
<font color="#E5E5E5">is pretty</font><font color="#CCCCCC"> uh there are a few large</font><font color="#E5E5E5"> ISPs</font>

975
00:34:12,750 --> 00:34:17,489
that<font color="#E5E5E5"> will do this where they may have</font><font color="#CCCCCC"> a</font>

976
00:34:15,600 --> 00:34:19,589
backbone<font color="#CCCCCC"> a</font><font color="#E5E5E5"> SN and every region</font><font color="#CCCCCC"> has</font><font color="#E5E5E5"> its</font>

977
00:34:17,489 --> 00:34:20,969
<font color="#E5E5E5">own local ASM your appearing with a</font>

978
00:34:19,590 --> 00:34:22,500
regional<font color="#E5E5E5"> a SN and you have to go through</font>

979
00:34:20,969 --> 00:34:24,299
<font color="#E5E5E5">the backbone</font><font color="#CCCCCC"> i stand before you</font><font color="#E5E5E5"> here any</font>

980
00:34:22,500 --> 00:34:27,210
additional routes this<font color="#E5E5E5"> enforceable</font>

981
00:34:24,300 --> 00:34:29,700
artificially pad<font color="#E5E5E5"> your a s path to that</font><font color="#CCCCCC"> i</font>

982
00:34:27,210 --> 00:34:31,320
<font color="#CCCCCC">spain</font><font color="#E5E5E5"> has one extra</font><font color="#CCCCCC"> s hop which is</font>

983
00:34:29,699 --> 00:34:32,790
really numb of not much value<font color="#E5E5E5"> not much</font>

984
00:34:31,320 --> 00:34:35,399
<font color="#E5E5E5">consequence but it will affect your</font>

985
00:34:32,790 --> 00:34:36,139
<font color="#CCCCCC">round decisions so</font><font color="#E5E5E5"> if so equalize the</font>

986
00:34:35,399 --> 00:34:39,080
playing field by

987
00:34:36,139 --> 00:34:40,310
<font color="#E5E5E5">adding one hop to everybody else and</font>

988
00:34:39,080 --> 00:34:42,529
once you've<font color="#CCCCCC"> done that you take</font><font color="#E5E5E5"> your</font>

989
00:34:40,310 --> 00:34:43,880
baseline measurements your traffic

990
00:34:42,530 --> 00:34:44,630
<font color="#CCCCCC">levels your performance</font><font color="#E5E5E5"> make sure your</font>

991
00:34:43,880 --> 00:34:46,400
<font color="#E5E5E5">customers are happy you're not</font>

992
00:34:44,630 --> 00:34:49,160
congesting your links<font color="#E5E5E5"> and decide where</font>

993
00:34:46,400 --> 00:34:50,750
to go<font color="#E5E5E5"> from there go in-depth here about</font>

994
00:34:49,159 --> 00:34:54,620
the extra ascend so for example here

995
00:34:50,750 --> 00:34:55,670
your<font color="#E5E5E5"> ISP as1 you've happened to be</font>

996
00:34:54,620 --> 00:34:57,770
connecting them in the region of<font color="#E5E5E5"> what</font>

997
00:34:55,670 --> 00:35:02,080
they call a s7 so every<font color="#CCCCCC"> router through a</font>

998
00:34:57,770 --> 00:35:02,080
s1<font color="#E5E5E5"> has this extra a s7 in the path and</font>

999
00:35:02,620 --> 00:35:10,609
<font color="#E5E5E5">the effect for example</font><font color="#CCCCCC"> going</font><font color="#E5E5E5"> to 1001</font>

1000
00:35:06,680 --> 00:35:12,200
0/24 10010 is very obviously connected

1001
00:35:10,610 --> 00:35:14,960
off<font color="#E5E5E5"> s1</font><font color="#CCCCCC"> you should be preferring your</font>

1002
00:35:12,200 --> 00:35:16,939
link via a<font color="#E5E5E5"> s1 well s7 a s1 because</font><font color="#CCCCCC"> it</font>

1003
00:35:14,960 --> 00:35:18,710
really is a shortest hop<font color="#E5E5E5"> but what ends</font>

1004
00:35:16,940 --> 00:35:20,870
up happening is it appears<font color="#CCCCCC"> because of</font><font color="#E5E5E5"> an</font>

1005
00:35:18,710 --> 00:35:25,670
extra hop that your path<font color="#CCCCCC"> through a s2</font>

1006
00:35:20,870 --> 00:35:28,190
and a s7 are both<font color="#CCCCCC"> 2 hops</font><font color="#E5E5E5"> away and you</font>

1007
00:35:25,670 --> 00:35:29,540
<font color="#E5E5E5">have another equal cost how do we fix it</font>

1008
00:35:28,190 --> 00:35:32,030
<font color="#CCCCCC">what we're</font><font color="#E5E5E5"> going to do is when we learn</font>

1009
00:35:29,540 --> 00:35:35,630
<font color="#E5E5E5">the</font><font color="#CCCCCC"> route we're</font><font color="#E5E5E5"> gonna actually prepend a</font>

1010
00:35:32,030 --> 00:35:39,110
s<font color="#E5E5E5"> to s a s so</font><font color="#CCCCCC"> now our routing</font><font color="#E5E5E5"> table</font>

1011
00:35:35,630 --> 00:35:42,410
looks<font color="#CCCCCC"> like</font><font color="#E5E5E5"> this we see that again</font><font color="#CCCCCC"> to</font>

1012
00:35:39,110 --> 00:35:46,220
<font color="#E5E5E5">1010 0 1 0 through a s7</font><font color="#CCCCCC"> if two hops</font>

1013
00:35:42,410 --> 00:35:48,770
seven<font color="#CCCCCC"> to one</font><font color="#E5E5E5"> 3s</font><font color="#CCCCCC"> - now it's two to one we</font>

1014
00:35:46,220 --> 00:35:51,410
actually allowed<font color="#E5E5E5"> to add the ISPs a s</font>

1015
00:35:48,770 --> 00:35:53,600
believe it or not and this makes<font color="#E5E5E5"> it this</font>

1016
00:35:51,410 --> 00:35:54,980
and then<font color="#E5E5E5"> again to a s 3 we added</font><font color="#CCCCCC"> 3 as</font>

1017
00:35:53,600 --> 00:35:56,230
well just to equalize<font color="#CCCCCC"> the playing field</font>

1018
00:35:54,980 --> 00:35:59,390
<font color="#CCCCCC">so everybody who doesn't</font><font color="#E5E5E5"> have that extra</font>

1019
00:35:56,230 --> 00:36:03,460
<font color="#E5E5E5">regional</font><font color="#CCCCCC"> a SN</font><font color="#E5E5E5"> they get their own a SN</font>

1020
00:35:59,390 --> 00:36:07,120
heard an extra time so<font color="#E5E5E5"> 2 2 1 3 3 5 4 1</font>

1021
00:36:03,460 --> 00:36:07,120
<font color="#CCCCCC">ladies back there we go</font>

1022
00:36:07,550 --> 00:36:11,090
once you've<font color="#E5E5E5"> completed our first stage we</font>

1023
00:36:09,740 --> 00:36:12,799
have our second<font color="#E5E5E5"> stage these are some</font>

1024
00:36:11,090 --> 00:36:14,300
broad<font color="#E5E5E5"> strokes this is where we</font><font color="#CCCCCC"> actually</font>

1025
00:36:12,800 --> 00:36:16,270
<font color="#E5E5E5">start doing some of the initial tuning</font>

1026
00:36:14,300 --> 00:36:18,230
we're going to set those<font color="#CCCCCC"> tie breakers</font>

1027
00:36:16,270 --> 00:36:20,990
and we'll do some additional general

1028
00:36:18,230 --> 00:36:21,800
<font color="#E5E5E5">selection</font><font color="#CCCCCC"> so what the tiebreaker is is</font>

1029
00:36:20,990 --> 00:36:24,560
that we're going<font color="#E5E5E5"> to set a different</font>

1030
00:36:21,800 --> 00:36:26,120
<font color="#E5E5E5">metric value for each</font><font color="#CCCCCC"> ISP on that</font>

1031
00:36:24,560 --> 00:36:27,710
catch-all policy that we<font color="#CCCCCC"> initially</font><font color="#E5E5E5"> wrote</font>

1032
00:36:26,120 --> 00:36:28,460
that<font color="#E5E5E5"> set of</font><font color="#CCCCCC"> metrics</font><font color="#E5E5E5"> is</font><font color="#CCCCCC"> 0</font><font color="#E5E5E5"> well now is</font>

1033
00:36:27,710 --> 00:36:30,740
we're<font color="#E5E5E5"> gonna change it</font><font color="#CCCCCC"> to a different</font>

1034
00:36:28,460 --> 00:36:32,360
<font color="#E5E5E5">value you're gonna have to experiment</font>

1035
00:36:30,740 --> 00:36:34,549
<font color="#E5E5E5">with different sequence of tiebreaker</font>

1036
00:36:32,360 --> 00:36:35,450
metrics<font color="#E5E5E5"> and take measurements along the</font>

1037
00:36:34,550 --> 00:36:36,830
way and this is<font color="#E5E5E5"> the kind</font><font color="#CCCCCC"> of thing you</font>

1038
00:36:35,450 --> 00:36:38,899
<font color="#E5E5E5">want to do during peak periods you said</font>

1039
00:36:36,830 --> 00:36:39,290
in<font color="#E5E5E5"> one way you</font><font color="#CCCCCC"> wait</font><font color="#E5E5E5"> 30 seconds to a</font>

1040
00:36:38,900 --> 00:36:40,820
minute

1041
00:36:39,290 --> 00:36:42,980
check out utilization set them another

1042
00:36:40,820 --> 00:36:43,900
way<font color="#CCCCCC"> check and realization</font><font color="#E5E5E5"> until you have</font>

1043
00:36:42,980 --> 00:36:45,770
something<font color="#CCCCCC"> that</font><font color="#E5E5E5"> you like</font>

1044
00:36:43,900 --> 00:36:47,270
once you're done you decide on<font color="#E5E5E5"> your</font>

1045
00:36:45,770 --> 00:36:48,369
final<font color="#E5E5E5"> tiebreaker that most closely meet</font>

1046
00:36:47,270 --> 00:36:50,229
your goals

1047
00:36:48,369 --> 00:36:51,489
and if the tiebreakers aren't enough

1048
00:36:50,229 --> 00:36:53,529
then we're going to<font color="#E5E5E5"> go ahead and do some</font>

1049
00:36:51,489 --> 00:36:55,390
community<font color="#E5E5E5"> based decisions and you may</font>

1050
00:36:53,529 --> 00:36:58,420
even<font color="#CCCCCC"> be done after the</font><font color="#E5E5E5"> step go to</font>

1051
00:36:55,390 --> 00:36:59,229
Starbucks<font color="#E5E5E5"> and come back and configure</font>

1052
00:36:58,420 --> 00:37:01,359
man<font color="#CCCCCC"> sir there's something else</font><font color="#E5E5E5"> been</font>

1053
00:36:59,229 --> 00:37:03,999
sitting on a project<font color="#CCCCCC"> list forever</font><font color="#E5E5E5"> so in</font>

1054
00:37:01,359 --> 00:37:06,788
the a s<font color="#E5E5E5"> past I like we said before</font><font color="#CCCCCC"> ten</font>

1055
00:37:03,999 --> 00:37:09,459
<font color="#E5E5E5">zero six zero well there are three paths</font>

1056
00:37:06,789 --> 00:37:11,349
<font color="#E5E5E5">three AAS hops each path by default</font>

1057
00:37:09,460 --> 00:37:18,400
<font color="#E5E5E5">remember we</font><font color="#CCCCCC"> set our catch-all to 0 so</font>

1058
00:37:11,349 --> 00:37:19,599
which<font color="#E5E5E5"> rope gets selected here if</font><font color="#CCCCCC"> yeah</font>

1059
00:37:18,400 --> 00:37:22,029
<font color="#CCCCCC">well how would you decide which</font><font color="#E5E5E5"> part</font>

1060
00:37:19,599 --> 00:37:24,969
gets selected<font color="#CCCCCC"> so first of</font><font color="#E5E5E5"> all we need to</font>

1061
00:37:22,029 --> 00:37:27,430
<font color="#E5E5E5">stand the definition of when I say the</font>

1062
00:37:24,969 --> 00:37:29,499
<font color="#CCCCCC">word</font><font color="#E5E5E5"> is Pete here is</font><font color="#CCCCCC"> Petey eras fortune</font>

1063
00:37:27,430 --> 00:37:31,180
a contentious term it used to have

1064
00:37:29,499 --> 00:37:32,410
technical relevance<font color="#E5E5E5"> and now it's been</font>

1065
00:37:31,180 --> 00:37:33,879
exploited our marketing<font color="#E5E5E5"> on the tier 1</font>

1066
00:37:32,410 --> 00:37:36,578
I'm<font color="#E5E5E5"> a tier 2 there's even a guy out</font>

1067
00:37:33,880 --> 00:37:39,700
<font color="#CCCCCC">there called tier 0 so really think in</font>

1068
00:37:36,579 --> 00:37:41,410
terms of<font color="#CCCCCC"> next hop</font><font color="#E5E5E5"> a s reach ability how</font>

1069
00:37:39,700 --> 00:37:43,180
many a SS can you get with just<font color="#E5E5E5"> one</font>

1070
00:37:41,410 --> 00:37:45,098
extra hop versus going<font color="#CCCCCC"> to extra hops</font>

1071
00:37:43,180 --> 00:37:46,960
three extra hops<font color="#E5E5E5"> you want to observe</font><font color="#CCCCCC"> an</font>

1072
00:37:45,099 --> 00:37:48,729
<font color="#CCCCCC">AAS path differences to some of the</font>

1073
00:37:46,960 --> 00:37:51,339
larger<font color="#CCCCCC"> eyeball eyes piece remember I'm</font>

1074
00:37:48,729 --> 00:37:53,439
coming from a Content<font color="#CCCCCC"> wall</font><font color="#E5E5E5"> here token of</font>

1075
00:37:51,339 --> 00:37:56,200
your BGP table<font color="#E5E5E5"> look at your</font><font color="#CCCCCC"> 5 largest</font>

1076
00:37:53,440 --> 00:37:58,180
<font color="#E5E5E5">target networks if known and check your</font>

1077
00:37:56,200 --> 00:37:59,739
path out and go ahead<font color="#E5E5E5"> and compare some</font>

1078
00:37:58,180 --> 00:38:01,839
<font color="#E5E5E5">traffic performance measurements at each</font>

1079
00:37:59,739 --> 00:38:03,579
step<font color="#E5E5E5"> and don't forget to give yourself</font>

1080
00:38:01,839 --> 00:38:05,109
some<font color="#CCCCCC"> time maybe</font><font color="#E5E5E5"> give yourself</font><font color="#CCCCCC"> 5 minutes</font>

1081
00:38:03,579 --> 00:38:06,339
10 minutes 15<font color="#CCCCCC"> minutes to see what</font><font color="#E5E5E5"> the</font>

1082
00:38:05,109 --> 00:38:09,038
result<font color="#CCCCCC"> of your</font><font color="#E5E5E5"> changes are before you</font>

1083
00:38:06,339 --> 00:38:10,509
make any<font color="#CCCCCC"> initial</font><font color="#E5E5E5"> changes</font><font color="#CCCCCC"> and if the</font>

1084
00:38:09,039 --> 00:38:11,799
first tiebreaker scheme doesn't<font color="#E5E5E5"> work</font>

1085
00:38:10,509 --> 00:38:13,479
it's<font color="#CCCCCC"> not a big deal to shuffle</font><font color="#E5E5E5"> those</font>

1086
00:38:11,799 --> 00:38:13,900
values around<font color="#E5E5E5"> try again and see what</font>

1087
00:38:13,479 --> 00:38:16,180
<font color="#CCCCCC">happens</font>

1088
00:38:13,900 --> 00:38:18,099
so show you example here so we went

1089
00:38:16,180 --> 00:38:20,529
ahead and<font color="#E5E5E5"> we decided that</font><font color="#CCCCCC"> s1 is</font><font color="#E5E5E5"> going to</font>

1090
00:38:18,099 --> 00:38:23,680
win all the ties<font color="#E5E5E5"> then we decided that by</font>

1091
00:38:20,529 --> 00:38:26,680
setting metric of 100 on a s1<font color="#CCCCCC"> a metric</font>

1092
00:38:23,680 --> 00:38:30,569
of 200 s2 and a metric of 300 on a s3 so

1093
00:38:26,680 --> 00:38:30,569
<font color="#E5E5E5">going back to 10 zeros</font>

1094
00:38:36,329 --> 00:38:40,780
so we're showing<font color="#E5E5E5"> you here is</font><font color="#CCCCCC"> just all</font>

1095
00:38:38,800 --> 00:38:44,589
best paths<font color="#E5E5E5"> using that scheme going back</font>

1096
00:38:40,780 --> 00:38:45,910
<font color="#E5E5E5">to our bottom</font><font color="#CCCCCC"> 10 10</font><font color="#E5E5E5"> was</font><font color="#CCCCCC"> 6 0 the pathway</font>

1097
00:38:44,589 --> 00:38:47,500
<font color="#CCCCCC">s1 is selected because he only has a</font>

1098
00:38:45,910 --> 00:38:50,529
metric value of 100 that's the best path

1099
00:38:47,500 --> 00:38:52,060
and<font color="#CCCCCC"> to metrics of 200 300 aren't being</font>

1100
00:38:50,530 --> 00:39:00,910
installed<font color="#E5E5E5"> in the phony table because</font>

1101
00:38:52,060 --> 00:39:02,078
they are inferior well<font color="#CCCCCC"> well let's say</font>

1102
00:39:00,910 --> 00:39:04,029
<font color="#CCCCCC">that didn't actually</font><font color="#E5E5E5"> work for us</font><font color="#CCCCCC"> so</font>

1103
00:39:02,079 --> 00:39:06,369
<font color="#CCCCCC">we're going to</font><font color="#E5E5E5"> shift it around so we're</font>

1104
00:39:04,030 --> 00:39:07,810
<font color="#CCCCCC">say we said</font><font color="#E5E5E5"> a s1 was 100 then 200 300</font>

1105
00:39:06,369 --> 00:39:09,880
we're<font color="#E5E5E5"> going to shift around and now a s</font>

1106
00:39:07,810 --> 00:39:12,250
one's gonna be 200<font color="#CCCCCC"> and s2</font><font color="#E5E5E5"> is gonna get</font>

1107
00:39:09,880 --> 00:39:14,230
<font color="#E5E5E5">the 100 well again looking down just</font>

1108
00:39:12,250 --> 00:39:15,700
scroll to<font color="#E5E5E5"> the bottom here the 10 was 6</font>

1109
00:39:14,230 --> 00:39:18,730
of course now we're selecting by a s2

1110
00:39:15,700 --> 00:39:20,740
and you can see go<font color="#CCCCCC"> back and forth</font><font color="#E5E5E5"> just</font>

1111
00:39:18,730 --> 00:39:22,810
looking at looking at color<font color="#E5E5E5"> comparison</font>

1112
00:39:20,740 --> 00:39:24,520
here how the<font color="#CCCCCC"> how</font><font color="#E5E5E5"> some of the route</font>

1113
00:39:22,810 --> 00:39:28,089
decisions may have<font color="#E5E5E5"> changed some the</font>

1114
00:39:24,520 --> 00:39:29,829
<font color="#E5E5E5">further is ends let's say that didn't</font>

1115
00:39:28,089 --> 00:39:31,420
work out<font color="#CCCCCC"> up</font><font color="#E5E5E5"> for us so we went</font><font color="#CCCCCC"> had we</font>

1116
00:39:29,829 --> 00:39:33,730
shopped around so now a s1 was getting

1117
00:39:31,420 --> 00:39:35,410
200 but it has<font color="#E5E5E5"> to got 300 and has to be</font>

1118
00:39:33,730 --> 00:39:37,180
gotten<font color="#E5E5E5"> 100 well now take a look at</font><font color="#CCCCCC"> 10</font>

1119
00:39:35,410 --> 00:39:39,040
<font color="#E5E5E5">1/6 when I was</font><font color="#CCCCCC"> selected by a s3</font><font color="#E5E5E5"> of</font>

1120
00:39:37,180 --> 00:39:41,078
course but you<font color="#E5E5E5"> gotta watch out what</font><font color="#CCCCCC"> just</font>

1121
00:39:39,040 --> 00:39:44,710
happened at 10<font color="#CCCCCC"> 1 4 what didn't happen to</font>

1122
00:39:41,079 --> 00:39:48,220
10<font color="#CCCCCC"> 1 4 well till 1 4 is actually now</font>

1123
00:39:44,710 --> 00:39:52,450
going via a s1 so by by swapping a s 2<font color="#CCCCCC"> &</font>

1124
00:39:48,220 --> 00:39:55,868
3<font color="#E5E5E5"> around so previously oops previously a</font>

1125
00:39:52,450 --> 00:39:59,319
<font color="#CCCCCC">s 2 was 10 1 for now just</font><font color="#E5E5E5"> by swapping</font><font color="#CCCCCC"> 2</font>

1126
00:39:55,869 --> 00:40:01,619
of<font color="#E5E5E5"> 3 around now a s1 wins 10</font><font color="#CCCCCC"> 1 4 so just</font>

1127
00:39:59,319 --> 00:40:04,140
make sure<font color="#CCCCCC"> that's</font><font color="#E5E5E5"> what you wanted to do</font>

1128
00:40:01,619 --> 00:40:09,069
here's how you configure<font color="#CCCCCC"> the tiebreakers</font>

1129
00:40:04,140 --> 00:40:12,660
in in the Cisco<font color="#CCCCCC"> world in iOS you'll have</font>

1130
00:40:09,069 --> 00:40:15,730
one<font color="#E5E5E5"> policy one inbound</font><font color="#CCCCCC"> Palsy per isp</font><font color="#E5E5E5"> and</font>

1131
00:40:12,660 --> 00:40:18,670
in this case is p1 will get a metric of

1132
00:40:15,730 --> 00:40:22,359
100 is<font color="#E5E5E5"> p2 metric</font><font color="#CCCCCC"> a 200 is p3 Magica 300</font>

1133
00:40:18,670 --> 00:40:25,829
very simple<font color="#E5E5E5"> in judo's just as easy to do</font>

1134
00:40:22,359 --> 00:40:28,328
your catch-all term metric 100 200 300

1135
00:40:25,829 --> 00:40:29,200
I'm gonna<font color="#CCCCCC"> give some</font><font color="#E5E5E5"> actual numbers so we</font>

1136
00:40:28,329 --> 00:40:30,970
had a<font color="#E5E5E5"> network that was doing</font>

1137
00:40:29,200 --> 00:40:33,490
<font color="#E5E5E5">approximately from a 10 gigabit per</font>

1138
00:40:30,970 --> 00:40:36,399
second of traffic and he had<font color="#E5E5E5"> 3 ISPs and</font>

1139
00:40:33,490 --> 00:40:38,078
all we did<font color="#E5E5E5"> was set the catch-all metric</font>

1140
00:40:36,400 --> 00:40:41,920
<font color="#E5E5E5">and this is how the traffic shifted</font>

1141
00:40:38,079 --> 00:40:43,780
around<font color="#E5E5E5"> so by setting a s1 to the</font>

1142
00:40:41,920 --> 00:40:44,349
tiebreaker<font color="#E5E5E5"> a s2 to secondary estimated</font>

1143
00:40:43,780 --> 00:40:47,650
tertiary

1144
00:40:44,349 --> 00:40:48,740
we were sending<font color="#E5E5E5"> 8.5 gigs on one leg 1.5</font>

1145
00:40:47,650 --> 00:40:50,810
gigs on<font color="#CCCCCC"> another</font><font color="#E5E5E5"> link</font>

1146
00:40:48,740 --> 00:40:52,250
<font color="#E5E5E5">easily</font><font color="#CCCCCC"> 0.2 gig</font><font color="#E5E5E5"> 200 megabits per second</font>

1147
00:40:50,810 --> 00:40:53,330
on the third leg<font color="#E5E5E5"> well anybody can look</font>

1148
00:40:52,250 --> 00:40:56,960
back and say well<font color="#E5E5E5"> that's a really poor</font>

1149
00:40:53,330 --> 00:40:59,000
balance<font color="#E5E5E5"> 8.5 gigs in fact a peak period</font>

1150
00:40:56,960 --> 00:41:00,200
<font color="#E5E5E5">you</font><font color="#CCCCCC"> had five minute averages you</font>

1151
00:40:59,000 --> 00:41:01,250
actually<font color="#E5E5E5"> run the risk of congestion link</font>

1152
00:41:00,200 --> 00:41:02,868
of course<font color="#E5E5E5"> and we don't want to run that</font>

1153
00:41:01,250 --> 00:41:04,610
hot so what a little<font color="#E5E5E5"> bit better balance</font>

1154
00:41:02,869 --> 00:41:07,400
so we went ahead we<font color="#E5E5E5"> shifted s2 to be the</font>

1155
00:41:04,610 --> 00:41:09,110
tiebreaker<font color="#CCCCCC"> a</font><font color="#E5E5E5"> s1 secondary a s3 tertiary</font>

1156
00:41:07,400 --> 00:41:12,170
<font color="#E5E5E5">and we got a slightly better balance</font>

1157
00:41:09,110 --> 00:41:14,060
between<font color="#E5E5E5"> a s 1</font><font color="#CCCCCC"> & 2 we now shifted forg a</font>

1158
00:41:12,170 --> 00:41:15,410
bit per second from<font color="#E5E5E5"> a s 1 to 2 we're</font>

1159
00:41:14,060 --> 00:41:17,390
getting four point five five point five

1160
00:41:15,410 --> 00:41:18,920
but<font color="#E5E5E5"> a</font><font color="#CCCCCC"> s3 is still only gonna</font><font color="#E5E5E5"> cure</font><font color="#CCCCCC"> megman</font>

1161
00:41:17,390 --> 00:41:21,379
<font color="#E5E5E5">per second that's not</font><font color="#CCCCCC"> very utilization</font>

1162
00:41:18,920 --> 00:41:23,060
on my<font color="#CCCCCC"> 10 DD link that I</font><font color="#E5E5E5"> have to them</font>

1163
00:41:21,380 --> 00:41:24,170
<font color="#E5E5E5">isn't especially I think in this case</font>

1164
00:41:23,060 --> 00:41:25,970
where<font color="#E5E5E5"> I think we're paying a portrait of</font>

1165
00:41:24,170 --> 00:41:29,180
these guys so<font color="#E5E5E5"> that's really bad it's</font>

1166
00:41:25,970 --> 00:41:32,450
<font color="#CCCCCC">okay we shifted</font><font color="#E5E5E5"> it one more time now s1</font>

1167
00:41:29,180 --> 00:41:34,940
s3 is the primary<font color="#CCCCCC"> tie breaker s2</font>

1168
00:41:32,450 --> 00:41:37,879
secondary s1 is tertiary and then we got

1169
00:41:34,940 --> 00:41:39,500
a much better spread 3.5 4.0<font color="#E5E5E5"> and 2.7</font>

1170
00:41:37,880 --> 00:41:41,630
<font color="#E5E5E5">we're using all links pretty effectively</font>

1171
00:41:39,500 --> 00:41:44,770
where<font color="#E5E5E5"> we've minimized our chance of any</font>

1172
00:41:41,630 --> 00:41:46,970
single<font color="#E5E5E5"> link</font><font color="#CCCCCC"> adjusted well it turns out</font>

1173
00:41:44,770 --> 00:41:49,250
wait so we did we<font color="#E5E5E5"> got a fairly</font>

1174
00:41:46,970 --> 00:41:51,529
acceptable balance by<font color="#E5E5E5"> tiebreakers I'm</font>

1175
00:41:49,250 --> 00:41:52,730
gonna I'm gonna show you some<font color="#CCCCCC"> more some</font>

1176
00:41:51,530 --> 00:41:53,750
more detail on<font color="#E5E5E5"> this well I'm going</font><font color="#CCCCCC"> to</font>

1177
00:41:52,730 --> 00:41:55,609
talk to you about how<font color="#E5E5E5"> we actually</font>

1178
00:41:53,750 --> 00:41:57,260
managed<font color="#CCCCCC"> to successfully balance based on</font>

1179
00:41:55,609 --> 00:41:58,970
commits<font color="#CCCCCC"> but this is</font><font color="#E5E5E5"> trying to get some</font>

1180
00:41:57,260 --> 00:42:01,070
even some kind<font color="#CCCCCC"> of even</font><font color="#E5E5E5"> traffic spread</font>

1181
00:41:58,970 --> 00:42:02,600
with minimal configuration<font color="#E5E5E5"> again three</font>

1182
00:42:01,070 --> 00:42:04,910
things like one thing<font color="#E5E5E5"> I configured per</font>

1183
00:42:02,600 --> 00:42:06,440
<font color="#CCCCCC">eye</font><font color="#E5E5E5"> is P the catch-all metric and I</font>

1184
00:42:04,910 --> 00:42:10,940
managed<font color="#E5E5E5"> to spread traffic across the</font>

1185
00:42:06,440 --> 00:42:12,560
links in a fairly effective<font color="#E5E5E5"> fashion then</font>

1186
00:42:10,940 --> 00:42:14,240
you afterwards you got your great

1187
00:42:12,560 --> 00:42:15,440
balance<font color="#CCCCCC"> and you got your three</font><font color="#E5E5E5"> links up</font>

1188
00:42:14,240 --> 00:42:17,689
that's<font color="#E5E5E5"> wonderful but now you have to</font>

1189
00:42:15,440 --> 00:42:19,970
think<font color="#E5E5E5"> failure scenario so pay attention</font>

1190
00:42:17,690 --> 00:42:22,040
<font color="#CCCCCC">to the balance who's secondary who's</font>

1191
00:42:19,970 --> 00:42:23,839
tertiary especially because what happens

1192
00:42:22,040 --> 00:42:26,150
if the most cost prick who goes away if

1193
00:42:23,840 --> 00:42:28,490
<font color="#E5E5E5">that a s3 were to go away with the</font>

1194
00:42:26,150 --> 00:42:29,750
following<font color="#E5E5E5"> with the resulting balance</font><font color="#CCCCCC"> be</font>

1195
00:42:28,490 --> 00:42:31,089
satisfactory maybe your<font color="#E5E5E5"> secondary</font>

1196
00:42:29,750 --> 00:42:32,750
tertiary may need to flip them around

1197
00:42:31,090 --> 00:42:34,730
<font color="#E5E5E5">you're gonna</font><font color="#CCCCCC"> want to on of course</font>

1198
00:42:32,750 --> 00:42:36,770
schedule a test to confirm<font color="#E5E5E5"> this don't</font>

1199
00:42:34,730 --> 00:42:39,530
just<font color="#E5E5E5"> guess</font><font color="#CCCCCC"> it take</font><font color="#E5E5E5"> that link down and a</font>

1200
00:42:36,770 --> 00:42:42,910
make this<font color="#E5E5E5"> window</font><font color="#CCCCCC"> see what happens and of</font>

1201
00:42:39,530 --> 00:42:45,350
course adjust<font color="#E5E5E5"> the secondary tertiary</font>

1202
00:42:42,910 --> 00:42:47,910
sequence accordingly

1203
00:42:45,350 --> 00:42:49,110
the next thing I want to<font color="#E5E5E5"> do is I showed</font>

1204
00:42:47,910 --> 00:42:50,640
you some broad<font color="#CCCCCC"> strokes where we set</font>

1205
00:42:49,110 --> 00:42:52,280
metrics<font color="#E5E5E5"> and we got a fairly</font><font color="#CCCCCC"> good balance</font>

1206
00:42:50,640 --> 00:42:55,560
<font color="#CCCCCC">but it turns out</font><font color="#E5E5E5"> that didn't meet our</font>

1207
00:42:52,280 --> 00:42:58,170
<font color="#E5E5E5">requirements for cost so what was the</font>

1208
00:42:55,560 --> 00:43:01,020
next<font color="#E5E5E5"> step well which said I can balance</font>

1209
00:42:58,170 --> 00:43:01,800
based on destination yes or prefix<font color="#E5E5E5"> but</font>

1210
00:43:01,020 --> 00:43:03,780
I'm gonna try<font color="#CCCCCC"> something different</font>

1211
00:43:01,800 --> 00:43:05,490
I'm going to go based on communities<font color="#E5E5E5"> so</font>

1212
00:43:03,780 --> 00:43:07,290
if you have two similar upstream ISPs in

1213
00:43:05,490 --> 00:43:10,649
that case a<font color="#E5E5E5"> s 2 and a s1 were very</font>

1214
00:43:07,290 --> 00:43:12,750
similar<font color="#CCCCCC"> 1</font><font color="#E5E5E5"> ISPs but too many the AF hop</font>

1215
00:43:10,650 --> 00:43:14,190
counts were equal it was it was two hops

1216
00:43:12,750 --> 00:43:18,150
to<font color="#E5E5E5"> get to so many of our destination</font>

1217
00:43:14,190 --> 00:43:19,650
networks<font color="#E5E5E5"> so so too much traffic went go</font>

1218
00:43:18,150 --> 00:43:23,130
back and show you<font color="#E5E5E5"> here</font><font color="#CCCCCC"> so too much</font>

1219
00:43:19,650 --> 00:43:24,780
traffic<font color="#E5E5E5"> yes too much traffic</font><font color="#CCCCCC"> 1/2 a s 2</font>

1220
00:43:23,130 --> 00:43:27,000
we're trying to<font color="#E5E5E5"> get a little bit closer</font>

1221
00:43:24,780 --> 00:43:31,820
between<font color="#CCCCCC"> s1 and s2</font><font color="#E5E5E5"> because too many</font>

1222
00:43:27,000 --> 00:43:39,150
<font color="#E5E5E5">destination networks only</font><font color="#CCCCCC"> 2 hops away</font><font color="#E5E5E5"> so</font>

1223
00:43:31,820 --> 00:43:40,440
that's<font color="#CCCCCC"> the one button yep so what we</font>

1224
00:43:39,150 --> 00:43:42,660
<font color="#CCCCCC">decided instead was we're going</font><font color="#E5E5E5"> to go</font>

1225
00:43:40,440 --> 00:43:44,160
<font color="#CCCCCC">ahead and take that</font><font color="#E5E5E5"> extra</font><font color="#CCCCCC"> information is</font>

1226
00:43:42,660 --> 00:43:46,080
<font color="#CCCCCC">P's</font><font color="#E5E5E5"> getting us in the way of communities</font>

1227
00:43:44,160 --> 00:43:47,190
<font color="#E5E5E5">and we're going to select some extra</font>

1228
00:43:46,080 --> 00:43:48,450
criteria and then we're<font color="#E5E5E5"> going to sway</font>

1229
00:43:47,190 --> 00:43:51,180
some<font color="#CCCCCC"> traffic based in that criteria</font>

1230
00:43:48,450 --> 00:43:52,649
either peers versus customer country

1231
00:43:51,180 --> 00:43:54,690
continent region maybe you know one of

1232
00:43:52,650 --> 00:43:56,640
your ISPs has much<font color="#E5E5E5"> better access in</font>

1233
00:43:54,690 --> 00:43:58,140
Europe and<font color="#E5E5E5"> much worse than a Japan and</font>

1234
00:43:56,640 --> 00:43:58,890
your other ISP<font color="#CCCCCC"> has much better</font><font color="#E5E5E5"> in Asia</font>

1235
00:43:58,140 --> 00:44:00,180
<font color="#CCCCCC">back in Europe</font>

1236
00:43:58,890 --> 00:44:01,859
so you're going to say<font color="#E5E5E5"> ok I'm</font><font color="#CCCCCC"> going</font><font color="#E5E5E5"> to</font>

1237
00:44:00,180 --> 00:44:03,629
<font color="#E5E5E5">press I'm going to prep this providers</font>

1238
00:44:01,860 --> 00:44:13,170
<font color="#CCCCCC">Asia pack over the other providers</font><font color="#E5E5E5"> Asia</font>

1239
00:44:03,630 --> 00:44:17,490
packs so the example here<font color="#E5E5E5"> is 2a s4</font>

1240
00:44:13,170 --> 00:44:20,280
specifically<font color="#E5E5E5"> we were</font><font color="#CCCCCC"> able to learn via</font>

1241
00:44:17,490 --> 00:44:22,229
community strings<font color="#E5E5E5"> how that the a</font><font color="#CCCCCC"> s4 to</font>

1242
00:44:20,280 --> 00:44:24,960
s1 relationship is a customer a s4 is

1243
00:44:22,230 --> 00:44:26,550
buying from<font color="#E5E5E5"> a s1 the s4 to a s2</font>

1244
00:44:24,960 --> 00:44:28,970
relationship is appearing relationship

1245
00:44:26,550 --> 00:44:32,280
so a s4 and s2 or pyramid each other and

1246
00:44:28,970 --> 00:44:34,470
s<font color="#E5E5E5"> 3 to s 5 s 3 is actually buying</font>

1247
00:44:32,280 --> 00:44:35,790
transit from<font color="#E5E5E5"> a s5 and again the reason</font>

1248
00:44:34,470 --> 00:44:37,319
<font color="#CCCCCC">the reason you may pay attention is is</font>

1249
00:44:35,790 --> 00:44:39,720
peering hearing links and<font color="#CCCCCC"> trip and</font>

1250
00:44:37,320 --> 00:44:42,330
customer links and translates have<font color="#CCCCCC"> have</font>

1251
00:44:39,720 --> 00:44:43,709
different dynamics as to how the

1252
00:44:42,330 --> 00:44:45,779
likelihood of them getting congested<font color="#E5E5E5"> and</font>

1253
00:44:43,710 --> 00:44:48,570
if they are<font color="#E5E5E5"> congested the timeline with</font>

1254
00:44:45,780 --> 00:44:52,350
which they'll<font color="#CCCCCC"> be corrected so in this</font>

1255
00:44:48,570 --> 00:44:54,270
case a s1 for a customer they<font color="#CCCCCC"> tagged</font>

1256
00:44:52,350 --> 00:44:57,319
routes with<font color="#CCCCCC"> 1/100 and appear they tagged</font>

1257
00:44:54,270 --> 00:44:58,849
routes with<font color="#E5E5E5"> 1 200 s2 they they have</font>

1258
00:44:57,319 --> 00:45:00,109
from scheme just<font color="#E5E5E5"> demonstrating different</font>

1259
00:44:58,849 --> 00:45:02,599
<font color="#E5E5E5">schemes</font><font color="#CCCCCC"> erm</font><font color="#E5E5E5"> they</font><font color="#CCCCCC"> meet me just five five</font>

1260
00:45:00,109 --> 00:45:05,690
five at<font color="#E5E5E5"> 666 and</font><font color="#CCCCCC"> s3</font><font color="#E5E5E5"> maybe uses four</font>

1261
00:45:02,599 --> 00:45:09,229
<font color="#E5E5E5">thousand to tag</font><font color="#CCCCCC"> offensive up</font><font color="#E5E5E5"> to go ahead</font>

1262
00:45:05,690 --> 00:45:11,239
<font color="#E5E5E5">and configure in Cisco Isles communities</font>

1263
00:45:09,229 --> 00:45:12,799
you<font color="#CCCCCC"> know it's</font><font color="#E5E5E5"> nice to define the</font>

1264
00:45:11,239 --> 00:45:14,749
community list up on top<font color="#E5E5E5"> suit and then</font>

1265
00:45:12,799 --> 00:45:17,690
referred them by a human<font color="#CCCCCC"> readable name</font>

1266
00:45:14,749 --> 00:45:21,229
so<font color="#E5E5E5"> as1 customers just go ahead and give</font>

1267
00:45:17,690 --> 00:45:23,329
<font color="#CCCCCC">it one call on 100 ASP transit 3 : 4000</font>

1268
00:45:21,229 --> 00:45:27,410
and then when you<font color="#E5E5E5"> want to reference them</font>

1269
00:45:23,329 --> 00:45:29,329
you<font color="#E5E5E5"> simply will have any policy</font><font color="#CCCCCC"> another</font>

1270
00:45:27,410 --> 00:45:30,348
stanza stand<font color="#E5E5E5"> to 20 and put a little</font>

1271
00:45:29,329 --> 00:45:31,910
<font color="#CCCCCC">description there to make it easier for</font>

1272
00:45:30,349 --> 00:45:32,690
the next<font color="#E5E5E5"> next person after you despite</font>

1273
00:45:31,910 --> 00:45:34,249
forget what<font color="#CCCCCC"> you're doing</font><font color="#E5E5E5"> I</font><font color="#CCCCCC"> want to</font>

1274
00:45:32,690 --> 00:45:35,569
<font color="#E5E5E5">prefer these customers so I'm going to</font>

1275
00:45:34,249 --> 00:45:37,129
<font color="#E5E5E5">match a community it's called a</font><font color="#CCCCCC"> s1</font>

1276
00:45:35,569 --> 00:45:38,719
customer and I'm<font color="#E5E5E5"> gonna go ahead I'm</font>

1277
00:45:37,130 --> 00:45:40,849
<font color="#E5E5E5">gonna set</font><font color="#CCCCCC"> that metric</font><font color="#E5E5E5"> remember our best</font>

1278
00:45:38,719 --> 00:45:42,289
<font color="#CCCCCC">tiebreaker was 100 well I'm gonna beat</font>

1279
00:45:40,849 --> 00:45:44,569
the best tiebreaker so I'm gonna send

1280
00:45:42,289 --> 00:45:46,549
symmetrical<font color="#CCCCCC"> low</font><font color="#E5E5E5"> 50 so it has to be</font>

1281
00:45:44,569 --> 00:45:49,519
better<font color="#E5E5E5"> than the lowest tiebreaker let's</font>

1282
00:45:46,549 --> 00:45:50,839
say you're on is<font color="#E5E5E5"> p3 I want to deep prep</font>

1283
00:45:49,519 --> 00:45:52,999
their transit<font color="#E5E5E5"> I don't want to send them</font>

1284
00:45:50,839 --> 00:45:54,769
transit based traffic if I have it<font color="#E5E5E5"> that</font>

1285
00:45:52,999 --> 00:45:56,448
<font color="#CCCCCC">are out one of my other ISPs</font><font color="#E5E5E5"> so I'm</font>

1286
00:45:54,769 --> 00:45:58,488
<font color="#E5E5E5">going</font><font color="#CCCCCC"> to say ok matric community transit</font>

1287
00:45:56,449 --> 00:46:02,269
and go into<font color="#E5E5E5"> the metric to 400 so worse</font>

1288
00:45:58,489 --> 00:46:03,949
than the worst<font color="#E5E5E5"> high breaker in</font><font color="#CCCCCC"> Juno's</font>

1289
00:46:02,269 --> 00:46:06,558
very similar<font color="#E5E5E5"> you define a named</font>

1290
00:46:03,949 --> 00:46:08,930
community and you reference<font color="#E5E5E5"> it in your</font>

1291
00:46:06,559 --> 00:46:15,199
policy from community metric from

1292
00:46:08,930 --> 00:46:17,058
<font color="#E5E5E5">community so here's what it looks</font><font color="#CCCCCC"> like</font>

1293
00:46:15,199 --> 00:46:19,039
so we just started with the metric

1294
00:46:17,059 --> 00:46:21,279
<font color="#CCCCCC">system and</font><font color="#E5E5E5"> we have these two routes here</font>

1295
00:46:19,039 --> 00:46:25,130
<font color="#E5E5E5">you know I don't like this route</font><font color="#CCCCCC"> 410 1/4</font>

1296
00:46:21,279 --> 00:46:27,619
because<font color="#CCCCCC"> I set ASAS to is winning over a</font>

1297
00:46:25,130 --> 00:46:29,660
<font color="#E5E5E5">s 3 even though it's equal a s hops</font><font color="#CCCCCC"> s 2</font>

1298
00:46:27,619 --> 00:46:32,719
is winning to a s 4<font color="#CCCCCC"> I don't like that</font>

1299
00:46:29,660 --> 00:46:35,299
<font color="#E5E5E5">route and now also a s 3 is winning to</font>

1300
00:46:32,719 --> 00:46:37,759
get to 10 1 6 because that's<font color="#CCCCCC"> only</font><font color="#E5E5E5"> one</font>

1301
00:46:35,299 --> 00:46:40,549
<font color="#CCCCCC">two three hops away</font><font color="#E5E5E5"> and I set him to 100</font>

1302
00:46:37,759 --> 00:46:42,140
<font color="#E5E5E5">I don't like that about either so I want</font>

1303
00:46:40,549 --> 00:46:43,489
to<font color="#E5E5E5"> make some changes</font><font color="#CCCCCC"> how do</font><font color="#E5E5E5"> I make</font>

1304
00:46:42,140 --> 00:46:44,808
changes<font color="#E5E5E5"> I'm gonna make it based on</font>

1305
00:46:43,489 --> 00:46:46,640
community cuz I happen to know the

1306
00:46:44,809 --> 00:46:48,769
disappearing link and<font color="#E5E5E5"> that's a transit</font>

1307
00:46:46,640 --> 00:46:51,288
link<font color="#CCCCCC"> and those are two things that for</font>

1308
00:46:48,769 --> 00:46:53,930
whatever reason I happen to not like so

1309
00:46:51,289 --> 00:46:56,539
what I'm gonna do is I'm<font color="#E5E5E5"> gonna set for a</font>

1310
00:46:53,930 --> 00:46:58,430
s<font color="#CCCCCC"> 1 he had the worst metric of</font><font color="#E5E5E5"> 300 but</font>

1311
00:46:56,539 --> 00:47:02,029
I'm gonna add the policy<font color="#E5E5E5"> saying for</font><font color="#CCCCCC"> fur</font>

1312
00:46:58,430 --> 00:47:03,709
customers and for a s 3 I'm gonna<font color="#E5E5E5"> add</font>

1313
00:47:02,029 --> 00:47:06,079
another policy say<font color="#E5E5E5"> D prep transit routes</font>

1314
00:47:03,709 --> 00:47:07,879
<font color="#E5E5E5">and the result is I</font><font color="#CCCCCC"> just</font><font color="#E5E5E5"> shipped a 10-1</font>

1315
00:47:06,079 --> 00:47:09,990
for<font color="#CCCCCC"> courtesy time</font><font color="#E5E5E5"> when</font><font color="#CCCCCC"> Ford was going to</font>

1316
00:47:07,880 --> 00:47:12,360
a s<font color="#CCCCCC"> -</font><font color="#E5E5E5"> biometric well</font>

1317
00:47:09,990 --> 00:47:15,149
is going<font color="#E5E5E5"> to</font><font color="#CCCCCC"> as1 with a metric</font><font color="#E5E5E5"> of 50 and</font>

1318
00:47:12,360 --> 00:47:17,880
the same thing<font color="#E5E5E5"> for a s6 where previously</font>

1319
00:47:15,150 --> 00:47:22,680
is going on<font color="#E5E5E5"> s3 with</font><font color="#CCCCCC"> a metric of 100 when</font>

1320
00:47:17,880 --> 00:47:24,450
I was<font color="#E5E5E5"> going out s2 with a metric of 200</font>

1321
00:47:22,680 --> 00:47:26,368
<font color="#E5E5E5">because we remember</font><font color="#CCCCCC"> we increased its to</font>

1322
00:47:24,450 --> 00:47:29,790
400<font color="#E5E5E5"> so now it's likely 200</font><font color="#CCCCCC"> there's a</font>

1323
00:47:26,369 --> 00:47:31,950
lower value I'm<font color="#E5E5E5"> going</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> here's some</font>

1324
00:47:29,790 --> 00:47:33,270
<font color="#E5E5E5">actual numbers so going back to</font><font color="#CCCCCC"> a</font>

1325
00:47:31,950 --> 00:47:34,470
previous example while showing<font color="#E5E5E5"> you how</font>

1326
00:47:33,270 --> 00:47:36,119
we<font color="#CCCCCC"> actually got it</font><font color="#E5E5E5"> really did balance</font>

1327
00:47:34,470 --> 00:47:38,910
using<font color="#E5E5E5"> simple metrics well we actually</font>

1328
00:47:36,119 --> 00:47:41,790
<font color="#E5E5E5">have 10</font><font color="#CCCCCC"> Giggy links to 3 ISPs we had a</font>

1329
00:47:38,910 --> 00:47:44,640
<font color="#E5E5E5">commitment for gig to a s1 for gate to a</font>

1330
00:47:41,790 --> 00:47:46,259
s2 and<font color="#CCCCCC"> 1 gig to a s3</font><font color="#E5E5E5"> those were commit</font>

1331
00:47:44,640 --> 00:47:50,640
levels so<font color="#E5E5E5"> obviously in the previous</font>

1332
00:47:46,260 --> 00:47:51,869
example what we're doing in the<font color="#E5E5E5"> previous</font>

1333
00:47:50,640 --> 00:47:53,910
examples we were doing five point five

1334
00:47:51,869 --> 00:47:55,619
three point five and two point seven<font color="#E5E5E5"> one</font>

1335
00:47:53,910 --> 00:47:57,270
<font color="#E5E5E5">of</font><font color="#CCCCCC"> happing we were under commit on one</font>

1336
00:47:55,619 --> 00:47:58,619
of the ISPs because we had a four gig

1337
00:47:57,270 --> 00:48:00,390
commit we're only sitting to<font color="#E5E5E5"> three point</font>

1338
00:47:58,619 --> 00:48:02,250
<font color="#E5E5E5">five and then we're</font><font color="#CCCCCC"> over commit another</font>

1339
00:48:00,390 --> 00:48:03,990
<font color="#E5E5E5">ISP we had one</font><font color="#CCCCCC"> gig and we're sending two</font>

1340
00:48:02,250 --> 00:48:06,000
<font color="#E5E5E5">point</font><font color="#CCCCCC"> seven that means we're essentially</font>

1341
00:48:03,990 --> 00:48:07,080
burning<font color="#CCCCCC"> 500 megabit per second where the</font>

1342
00:48:06,000 --> 00:48:10,470
<font color="#E5E5E5">traffic that we're paying for not</font>

1343
00:48:07,080 --> 00:48:13,680
utilizing so by<font color="#CCCCCC"> taking our base metric</font>

1344
00:48:10,470 --> 00:48:15,509
system<font color="#E5E5E5"> and simply applying simply</font>

1345
00:48:13,680 --> 00:48:16,859
applying<font color="#E5E5E5"> pref customer and deep ref</font>

1346
00:48:15,510 --> 00:48:19,590
transit we're able to<font color="#E5E5E5"> get to four point</font>

1347
00:48:16,859 --> 00:48:21,450
five<font color="#CCCCCC"> four point oh one point two great</font>

1348
00:48:19,590 --> 00:48:22,230
traffic balance I met my commits<font color="#E5E5E5"> of four</font>

1349
00:48:21,450 --> 00:48:25,259
four and<font color="#CCCCCC"> one</font>

1350
00:48:22,230 --> 00:48:29,730
I applied<font color="#CCCCCC"> two tweaks</font><font color="#E5E5E5"> and I can go on</font>

1351
00:48:25,260 --> 00:48:31,230
with my day<font color="#E5E5E5"> and configure</font><font color="#CCCCCC"> ends it if</font>

1352
00:48:29,730 --> 00:48:33,240
<font color="#E5E5E5">that's not enough for you</font><font color="#CCCCCC"> a second stage</font>

1353
00:48:31,230 --> 00:48:34,380
is enough for you you're gonna<font color="#CCCCCC"> have to</font>

1354
00:48:33,240 --> 00:48:35,790
go<font color="#E5E5E5"> into a third stage you're gonna have</font>

1355
00:48:34,380 --> 00:48:41,490
to make some decisions based<font color="#E5E5E5"> on specific</font>

1356
00:48:35,790 --> 00:48:43,109
<font color="#E5E5E5">destination networks so most networks</font>

1357
00:48:41,490 --> 00:48:45,180
<font color="#E5E5E5">don't have to go into this level detail</font>

1358
00:48:43,109 --> 00:48:46,560
like I showed<font color="#E5E5E5"> you an example of a 10 gig</font>

1359
00:48:45,180 --> 00:48:50,790
<font color="#E5E5E5">network we didn't actually have</font><font color="#CCCCCC"> to go</font>

1360
00:48:46,560 --> 00:48:51,900
this far<font color="#CCCCCC"> but which</font><font color="#E5E5E5"> is good because this</font>

1361
00:48:50,790 --> 00:48:54,000
work<font color="#CCCCCC"> is</font><font color="#E5E5E5"> a</font><font color="#CCCCCC"> little bit</font><font color="#E5E5E5"> more demanding so</font>

1362
00:48:51,900 --> 00:48:55,320
you really have to<font color="#CCCCCC"> know your largest</font>

1363
00:48:54,000 --> 00:48:57,540
<font color="#CCCCCC">destination networks</font>

1364
00:48:55,320 --> 00:49:01,500
<font color="#E5E5E5">maybe usually you need only the top five</font>

1365
00:48:57,540 --> 00:49:03,119
top<font color="#E5E5E5"> ten</font><font color="#CCCCCC"> anything beyond there there's</font>

1366
00:49:01,500 --> 00:49:04,200
not much impact<font color="#E5E5E5"> actually</font><font color="#CCCCCC"> I put top</font><font color="#E5E5E5"> 20 in</font>

1367
00:49:03,119 --> 00:49:06,020
<font color="#CCCCCC">this slide I should we might slide</font>

1368
00:49:04,200 --> 00:49:08,939
<font color="#E5E5E5">before I talk</font><font color="#CCCCCC"> about</font><font color="#E5E5E5"> myself</font>

1369
00:49:06,020 --> 00:49:09,960
sure get your top 20<font color="#CCCCCC"> you're gonna find</font>

1370
00:49:08,940 --> 00:49:12,900
you're only gonna really have to<font color="#E5E5E5"> make a</font>

1371
00:49:09,960 --> 00:49:14,280
top<font color="#CCCCCC"> five max</font><font color="#E5E5E5"> in the top</font><font color="#CCCCCC"> 10 it's better</font>

1372
00:49:12,900 --> 00:49:16,950
<font color="#E5E5E5">to make changes for gonna do this based</font>

1373
00:49:14,280 --> 00:49:18,630
on<font color="#CCCCCC"> a SN versus prefixes at any point in</font>

1374
00:49:16,950 --> 00:49:21,629
time<font color="#CCCCCC"> and ISP can grow and give back a</font>

1375
00:49:18,630 --> 00:49:22,170
slash 17 pick up<font color="#E5E5E5"> a / 15 renumber and</font>

1376
00:49:21,630 --> 00:49:23,369
they

1377
00:49:22,170 --> 00:49:24,839
have the courtesy of<font color="#CCCCCC"> telling you of</font>

1378
00:49:23,369 --> 00:49:28,019
course<font color="#E5E5E5"> when they choose to remember so</font>

1379
00:49:24,839 --> 00:49:32,490
more likely<font color="#CCCCCC"> a SN's</font><font color="#E5E5E5"> will</font><font color="#CCCCCC"> stay static</font><font color="#E5E5E5"> and</font>

1380
00:49:28,019 --> 00:49:35,308
stable than IP IP blocks so an<font color="#CCCCCC"> example</font>

1381
00:49:32,490 --> 00:49:37,558
<font color="#E5E5E5">here of go ahead</font><font color="#CCCCCC"> of making it and on a</font>

1382
00:49:35,309 --> 00:49:39,809
destination<font color="#CCCCCC"> network so this was our</font>

1383
00:49:37,559 --> 00:49:41,250
<font color="#E5E5E5">baseline so we sent our</font><font color="#CCCCCC"> D</font><font color="#E5E5E5"> craft transit</font>

1384
00:49:39,809 --> 00:49:42,539
we set our tie breakers<font color="#CCCCCC"> three hundred</font>

1385
00:49:41,250 --> 00:49:44,819
<font color="#CCCCCC">two hundred one hundred</font><font color="#E5E5E5"> we have this</font>

1386
00:49:42,539 --> 00:49:47,789
route here to<font color="#E5E5E5"> ten one six so</font><font color="#CCCCCC"> ten one six</font>

1387
00:49:44,819 --> 00:49:50,579
is now going on<font color="#CCCCCC"> a s2</font><font color="#E5E5E5"> well we want to use</font>

1388
00:49:47,789 --> 00:49:51,900
a s1 to go to a<font color="#E5E5E5"> s6 figure the ASA's we</font>

1389
00:49:50,579 --> 00:49:54,539
can't just change<font color="#CCCCCC"> the catch-all metric</font>

1390
00:49:51,900 --> 00:49:55,950
because that'll change too<font color="#CCCCCC"> much but we</font>

1391
00:49:54,539 --> 00:49:57,269
know specifically<font color="#E5E5E5"> we're trying to get to</font>

1392
00:49:55,950 --> 00:50:00,029
<font color="#E5E5E5">a s6 so what are we gonna do</font>

1393
00:49:57,269 --> 00:50:02,279
I'm<font color="#E5E5E5"> gonna go ahead and in Cisco make an</font>

1394
00:50:00,029 --> 00:50:04,710
access make a<font color="#E5E5E5"> AAS access list with a</font>

1395
00:50:02,279 --> 00:50:06,599
single<font color="#CCCCCC"> ASN</font><font color="#E5E5E5"> is six and</font><font color="#CCCCCC"> we're gonna go</font>

1396
00:50:04,710 --> 00:50:08,519
<font color="#E5E5E5">ahead and say okay any</font><font color="#CCCCCC"> routes coming</font>

1397
00:50:06,599 --> 00:50:10,680
<font color="#E5E5E5">from a s6 go ahead and give it a metric</font>

1398
00:50:08,519 --> 00:50:13,019
<font color="#E5E5E5">of 50 which is better than the</font><font color="#CCCCCC"> best tie</font>

1399
00:50:10,680 --> 00:50:16,259
<font color="#CCCCCC">breaker did you know it's</font><font color="#E5E5E5"> very similar</font>

1400
00:50:13,019 --> 00:50:19,859
<font color="#E5E5E5">make named access make a named a s path</font>

1401
00:50:16,260 --> 00:50:22,079
<font color="#E5E5E5">and put in your policy and</font><font color="#CCCCCC"> you</font><font color="#E5E5E5"> brought</font>

1402
00:50:19,859 --> 00:50:25,109
her from<font color="#E5E5E5"> that a s set metric</font><font color="#CCCCCC"> 50 and of</font>

1403
00:50:22,079 --> 00:50:28,230
course the result is now a s6<font color="#E5E5E5"> are sorry</font>

1404
00:50:25,109 --> 00:50:30,119
<font color="#CCCCCC">ten</font><font color="#E5E5E5"> months six zero has now moved</font><font color="#CCCCCC"> s1</font>

1405
00:50:28,230 --> 00:50:31,769
with a metric of<font color="#CCCCCC"> fifty where previously</font>

1406
00:50:30,119 --> 00:50:35,670
<font color="#E5E5E5">he was a s2 with the metric of</font><font color="#CCCCCC"> two</font>

1407
00:50:31,769 --> 00:50:37,200
<font color="#CCCCCC">hundred some gotchas on destination</font>

1408
00:50:35,670 --> 00:50:38,789
networks<font color="#E5E5E5"> so overall you want to try and</font>

1409
00:50:37,200 --> 00:50:43,069
minimize<font color="#CCCCCC"> the step you want to focus on</font>

1410
00:50:38,789 --> 00:50:43,069
this broad strokes yes

1411
00:50:51,220 --> 00:50:54,430
yeah the

1412
00:50:56,800 --> 00:51:00,589
<font color="#CCCCCC">no so</font>

1413
00:50:58,540 --> 00:51:02,869
good<font color="#CCCCCC"> question</font><font color="#E5E5E5"> so the question</font><font color="#CCCCCC"> is the</font>

1414
00:51:00,589 --> 00:51:04,310
<font color="#CCCCCC">question is does dot star</font><font color="#E5E5E5"> six dot star</font>

1415
00:51:02,869 --> 00:51:06,890
will that include an M and a s such as

1416
00:51:04,310 --> 00:51:08,779
one six<font color="#CCCCCC"> one</font><font color="#E5E5E5"> very good question so when</font>

1417
00:51:06,890 --> 00:51:10,460
you're<font color="#E5E5E5"> doing a s paths in juniper they</font>

1418
00:51:08,780 --> 00:51:12,290
have what they call an<font color="#CCCCCC"> a s path</font><font color="#E5E5E5"> regex</font>

1419
00:51:10,460 --> 00:51:14,750
<font color="#CCCCCC">it's not a</font><font color="#E5E5E5"> straight character</font><font color="#CCCCCC"> bass</font>

1420
00:51:12,290 --> 00:51:16,880
<font color="#E5E5E5">string</font><font color="#CCCCCC"> bass regex when you're</font><font color="#E5E5E5"> an a s</font>

1421
00:51:14,750 --> 00:51:18,859
path would dot star gains any a s path

1422
00:51:16,880 --> 00:51:21,290
<font color="#E5E5E5">so it has built in space padding in</font>

1423
00:51:18,859 --> 00:51:23,540
there<font color="#E5E5E5"> so yeah it doesn't yeah it's not</font>

1424
00:51:21,290 --> 00:51:24,650
it's<font color="#CCCCCC"> not any miracle value that has six</font>

1425
00:51:23,540 --> 00:51:26,960
somewhere in between<font color="#CCCCCC"> that's a good</font>

1426
00:51:24,650 --> 00:51:29,119
<font color="#E5E5E5">question it's a it's a</font><font color="#CCCCCC"> cookie juniper a</font>

1427
00:51:26,960 --> 00:51:36,260
<font color="#CCCCCC">s half regex thing right</font>

1428
00:51:29,119 --> 00:51:38,450
<font color="#E5E5E5">no is it</font><font color="#CCCCCC"> Santa regex yeah okay so true</font>

1429
00:51:36,260 --> 00:51:41,300
iOS had the crazy underscore stuff<font color="#E5E5E5"> right</font>

1430
00:51:38,450 --> 00:51:42,919
and do but but<font color="#CCCCCC"> you</font><font color="#E5E5E5"> know s that the dot</font>

1431
00:51:41,300 --> 00:51:45,470
star is pretty<font color="#E5E5E5"> much equivalent to the</font>

1432
00:51:42,920 --> 00:51:47,900
<font color="#CCCCCC">cisco underscore so it means it means</font>

1433
00:51:45,470 --> 00:51:50,660
<font color="#E5E5E5">any number</font><font color="#CCCCCC"> of spaces</font><font color="#E5E5E5"> and SS between and</font>

1434
00:51:47,900 --> 00:51:55,730
any other spaces<font color="#CCCCCC"> asma but that</font><font color="#E5E5E5"> is it's</font>

1435
00:51:50,660 --> 00:51:57,740
safe to do<font color="#CCCCCC"> oh</font><font color="#E5E5E5"> okay so</font><font color="#CCCCCC"> caches</font><font color="#E5E5E5"> about this</font>

1436
00:51:55,730 --> 00:51:59,450
about<font color="#E5E5E5"> starting to dive into destination</font>

1437
00:51:57,740 --> 00:52:01,910
<font color="#CCCCCC">over so I told you</font><font color="#E5E5E5"> it's it's definitely</font>

1438
00:51:59,450 --> 00:52:03,259
<font color="#E5E5E5">more</font><font color="#CCCCCC"> work the network engineers are</font>

1439
00:52:01,910 --> 00:52:05,000
<font color="#E5E5E5">doing this work</font><font color="#CCCCCC"> it</font><font color="#E5E5E5"> really needs to stay</font>

1440
00:52:03,260 --> 00:52:06,410
<font color="#E5E5E5">up to date</font><font color="#CCCCCC"> Internet is fluent does</font>

1441
00:52:05,000 --> 00:52:07,760
change you can't just rest<font color="#E5E5E5"> on your</font>

1442
00:52:06,410 --> 00:52:08,990
laurels say hey I got<font color="#CCCCCC"> it and</font><font color="#E5E5E5"> I'm making</font>

1443
00:52:07,760 --> 00:52:10,640
<font color="#E5E5E5">some destination asset so you got to</font>

1444
00:52:08,990 --> 00:52:13,098
keep<font color="#E5E5E5"> your eyes open you got to keep your</font>

1445
00:52:10,640 --> 00:52:14,839
<font color="#E5E5E5">ears open large eyeball</font><font color="#CCCCCC"> backbones might</font>

1446
00:52:13,099 --> 00:52:17,230
<font color="#CCCCCC">sometime shift they might bring up a</font>

1447
00:52:14,839 --> 00:52:19,009
regional<font color="#CCCCCC"> ASN</font><font color="#E5E5E5"> may take down</font><font color="#CCCCCC"> a regional SN</font>

1448
00:52:17,230 --> 00:52:20,569
you're gonna want<font color="#CCCCCC"> to make sure</font><font color="#E5E5E5"> you're</font>

1449
00:52:19,010 --> 00:52:22,369
<font color="#E5E5E5">gonna shift only one destination</font><font color="#CCCCCC"> of work</font>

1450
00:52:20,569 --> 00:52:24,589
at a<font color="#E5E5E5"> time give yourself time</font><font color="#CCCCCC"> to observe</font>

1451
00:52:22,369 --> 00:52:26,119
the results<font color="#E5E5E5"> you're not happy under</font><font color="#CCCCCC"> your</font>

1452
00:52:24,589 --> 00:52:27,109
changes before you<font color="#E5E5E5"> do the next change so</font>

1453
00:52:26,119 --> 00:52:29,750
I've been<font color="#E5E5E5"> a networks where I found</font>

1454
00:52:27,109 --> 00:52:30,950
they've shifted<font color="#E5E5E5"> 25 destination</font><font color="#CCCCCC"> ASNs</font>

1455
00:52:29,750 --> 00:52:32,060
because they added<font color="#E5E5E5"> one that was enough</font>

1456
00:52:30,950 --> 00:52:33,348
they had another<font color="#E5E5E5"> one was enough they had</font>

1457
00:52:32,060 --> 00:52:35,270
another<font color="#E5E5E5"> one was enough and they had all</font>

1458
00:52:33,349 --> 00:52:36,859
these<font color="#E5E5E5"> 25 this way</font><font color="#CCCCCC"> and 17s where's</font>

1459
00:52:35,270 --> 00:52:38,599
ridiculous<font color="#CCCCCC"> we rip them all out we</font><font color="#E5E5E5"> do</font>

1460
00:52:36,859 --> 00:52:39,770
<font color="#E5E5E5">three that way - that</font><font color="#CCCCCC"> way we're done so</font>

1461
00:52:38,599 --> 00:52:41,960
go ahead<font color="#E5E5E5"> and go back to change up it's</font>

1462
00:52:39,770 --> 00:52:42,680
<font color="#E5E5E5">not sufficient and not satisfactory</font><font color="#CCCCCC"> move</font>

1463
00:52:41,960 --> 00:52:45,410
<font color="#E5E5E5">to</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> next one</font>

1464
00:52:42,680 --> 00:52:46,790
if you don't have<font color="#E5E5E5"> useful flow data this</font>

1465
00:52:45,410 --> 00:52:48,549
really is better with flow data<font color="#E5E5E5"> but if</font>

1466
00:52:46,790 --> 00:52:51,319
you don't<font color="#E5E5E5"> have flow data go ahead and</font>

1467
00:52:48,550 --> 00:52:52,790
try using a<font color="#E5E5E5"> backup link so if you have</font>

1468
00:52:51,319 --> 00:52:55,099
<font color="#E5E5E5">backup links or ISP that normally don't</font>

1469
00:52:52,790 --> 00:52:56,359
take any<font color="#CCCCCC"> traffic just</font><font color="#E5E5E5"> shift one</font><font color="#CCCCCC"> asn at a</font>

1470
00:52:55,099 --> 00:52:57,800
time<font color="#E5E5E5"> to that backup link and see how</font>

1471
00:52:56,359 --> 00:52:58,910
much traffic<font color="#E5E5E5"> is using doing it 15</font>

1472
00:52:57,800 --> 00:53:00,349
minutes<font color="#CCCCCC"> not</font><font color="#E5E5E5"> going to cost you anything</font>

1473
00:52:58,910 --> 00:53:02,379
<font color="#CCCCCC">and that's going to</font><font color="#E5E5E5"> cause a performance</font>

1474
00:53:00,349 --> 00:53:05,380
problem<font color="#E5E5E5"> or shouldn't your eyes</font>

1475
00:53:02,380 --> 00:53:07,300
knows what<font color="#E5E5E5"> they're</font><font color="#CCCCCC"> doing if you don't</font>

1476
00:53:05,380 --> 00:53:09,010
have a backup link that's<font color="#CCCCCC"> an only Idol</font>

1477
00:53:07,300 --> 00:53:10,390
<font color="#E5E5E5">but you do have you do have sufficient</font>

1478
00:53:09,010 --> 00:53:12,550
capacity<font color="#CCCCCC"> or</font><font color="#E5E5E5"> the links go ahead and move</font>

1479
00:53:10,390 --> 00:53:14,710
all<font color="#E5E5E5"> your traffic office</font><font color="#CCCCCC"> Pacific link for</font>

1480
00:53:12,550 --> 00:53:16,150
a pretty brief period of time<font color="#CCCCCC"> shift that</font>

1481
00:53:14,710 --> 00:53:18,070
<font color="#CCCCCC">traffic over</font><font color="#E5E5E5"> take measurements again</font>

1482
00:53:16,150 --> 00:53:22,780
this is poor man's flow data right

1483
00:53:18,070 --> 00:53:28,480
FLOTUS FLOTUS<font color="#E5E5E5"> loading the final sequence</font>

1484
00:53:22,780 --> 00:53:30,520
here is some<font color="#E5E5E5"> fine-tuning</font><font color="#CCCCCC"> you really need</font>

1485
00:53:28,480 --> 00:53:32,290
<font color="#E5E5E5">to do additional fine-tuning</font><font color="#CCCCCC"> I never</font>

1486
00:53:30,520 --> 00:53:33,400
have to have I've never had to do

1487
00:53:32,290 --> 00:53:35,590
<font color="#CCCCCC">additional fine-tuning and I've done</font>

1488
00:53:33,400 --> 00:53:38,740
this at over<font color="#CCCCCC"> 10 networks usually the</font>

1489
00:53:35,590 --> 00:53:40,690
<font color="#E5E5E5">first three stages are all you need but</font>

1490
00:53:38,740 --> 00:53:42,790
if it's not sufficient<font color="#CCCCCC"> you may need some</font>

1491
00:53:40,690 --> 00:53:45,340
additional tweaks<font color="#E5E5E5"> maybe the</font><font color="#CCCCCC"> tiebreakers</font>

1492
00:53:42,790 --> 00:53:48,340
aren't doing it for you so you're gonna

1493
00:53:45,340 --> 00:53:49,630
want to<font color="#CCCCCC"> identify other paths</font><font color="#E5E5E5"> and once</font>

1494
00:53:48,340 --> 00:53:51,790
you do you want to look at a<font color="#E5E5E5"> couple of</font>

1495
00:53:49,630 --> 00:53:53,980
attributes<font color="#CCCCCC"> so</font><font color="#E5E5E5"> you may have to insert a</font>

1496
00:53:51,790 --> 00:53:56,410
nice<font color="#CCCCCC"> PSAs</font><font color="#E5E5E5"> to ship traffic away from</font><font color="#CCCCCC"> the</font>

1497
00:53:53,980 --> 00:53:58,390
ISP<font color="#E5E5E5"> and when all</font><font color="#CCCCCC"> else fails with a</font>

1498
00:53:56,410 --> 00:53:59,859
softer metric system<font color="#E5E5E5"> you're gonna go to</font>

1499
00:53:58,390 --> 00:54:00,910
have to go<font color="#CCCCCC"> ahead and have to use local</font>

1500
00:53:59,860 --> 00:54:02,620
press<font color="#CCCCCC"> gonna have to increase the value</font>

1501
00:54:00,910 --> 00:54:03,790
of<font color="#E5E5E5"> your local probe and sometimes you're</font>

1502
00:54:02,620 --> 00:54:05,680
gonna have<font color="#CCCCCC"> to do this to work around</font>

1503
00:54:03,790 --> 00:54:08,170
your your cost savings as well<font color="#E5E5E5"> you may</font>

1504
00:54:05,680 --> 00:54:09,850
have<font color="#E5E5E5"> $10 Meg here in $15 Meg</font><font color="#CCCCCC"> there and</font>

1505
00:54:08,170 --> 00:54:11,100
<font color="#CCCCCC">we</font><font color="#E5E5E5"> don't want to use that $15 Meg for</font>

1506
00:54:09,850 --> 00:54:14,259
overages

1507
00:54:11,100 --> 00:54:17,049
so example of<font color="#E5E5E5"> setting will compress so</font>

1508
00:54:14,260 --> 00:54:21,070
in our<font color="#E5E5E5"> case here traffic to</font><font color="#CCCCCC"> ten one</font>

1509
00:54:17,050 --> 00:54:23,050
forum well<font color="#CCCCCC"> ten one</font><font color="#E5E5E5"> 1004 well I had to</font>

1510
00:54:21,070 --> 00:54:25,420
take on<font color="#CCCCCC"> the per</font><font color="#E5E5E5"> side so going</font><font color="#CCCCCC"> at</font><font color="#E5E5E5"> 10:04</font>

1511
00:54:23,050 --> 00:54:27,160
let's say you want to send 1004 by<font color="#CCCCCC"> as3</font>

1512
00:54:25,420 --> 00:54:30,130
there's<font color="#E5E5E5"> there's nothing</font><font color="#CCCCCC"> you can do with</font>

1513
00:54:27,160 --> 00:54:31,569
metrics that will cause a<font color="#CCCCCC"> s4 traffic</font><font color="#E5E5E5"> to</font>

1514
00:54:30,130 --> 00:54:33,540
reverse<font color="#CCCCCC"> asme because it's always</font><font color="#E5E5E5"> going</font>

1515
00:54:31,570 --> 00:54:35,800
to<font color="#CCCCCC"> be one more one longer</font><font color="#E5E5E5"> AS hop away</font>

1516
00:54:33,540 --> 00:54:38,350
but if you<font color="#CCCCCC"> know</font><font color="#E5E5E5"> for certain</font><font color="#CCCCCC"> for whatever</font>

1517
00:54:35,800 --> 00:54:40,540
reason<font color="#E5E5E5"> you got to send</font><font color="#CCCCCC"> that by</font><font color="#E5E5E5"> a s3</font><font color="#CCCCCC"> your</font>

1518
00:54:38,350 --> 00:54:42,370
best bet is<font color="#E5E5E5"> simply set and then create</font>

1519
00:54:40,540 --> 00:54:44,380
<font color="#CCCCCC">it set a higher local problem</font><font color="#E5E5E5"> in this</font>

1520
00:54:42,370 --> 00:54:46,779
case<font color="#CCCCCC"> i set local</font><font color="#E5E5E5"> probe to hundreds</font>

1521
00:54:44,380 --> 00:54:50,280
because<font color="#E5E5E5"> y'all sorry local prep 200 go</font>

1522
00:54:46,780 --> 00:54:54,550
ahead and force<font color="#E5E5E5"> that traffic out a s3</font>

1523
00:54:50,280 --> 00:54:55,690
similar with traffic going<font color="#E5E5E5"> to</font><font color="#CCCCCC"> a s3 let's</font>

1524
00:54:54,550 --> 00:54:57,040
fish for some reason this<font color="#E5E5E5"> is where the</font>

1525
00:54:55,690 --> 00:54:58,600
cost trickery comes in you actually

1526
00:54:57,040 --> 00:55:00,700
<font color="#CCCCCC">don't want to send that traffic</font><font color="#E5E5E5"> directly</font>

1527
00:54:58,600 --> 00:55:03,640
to a s3 you want to send it around a

1528
00:55:00,700 --> 00:55:04,810
long way through<font color="#E5E5E5"> a s1 using the metric</font>

1529
00:55:03,640 --> 00:55:07,299
system no<font color="#CCCCCC"> matter how hard you</font><font color="#E5E5E5"> try you</font>

1530
00:55:04,810 --> 00:55:08,740
will<font color="#E5E5E5"> never get it</font><font color="#CCCCCC"> to go on a</font><font color="#E5E5E5"> s1 because</font>

1531
00:55:07,300 --> 00:55:10,720
it's a much shorter path<font color="#E5E5E5"> to</font><font color="#CCCCCC"> a s3</font>

1532
00:55:08,740 --> 00:55:12,310
go ahead and increase<font color="#CCCCCC"> that local prep to</font>

1533
00:55:10,720 --> 00:55:15,609
200 when you're here the<font color="#CCCCCC"> route</font><font color="#E5E5E5"> for me as</font>

1534
00:55:12,310 --> 00:55:18,290
one just send traffic<font color="#E5E5E5"> all the way around</font>

1535
00:55:15,610 --> 00:55:19,850
by this time<font color="#E5E5E5"> you</font><font color="#CCCCCC"> should be successful</font>

1536
00:55:18,290 --> 00:55:21,650
<font color="#E5E5E5">your metric systems</font><font color="#CCCCCC"> working you're</font>

1537
00:55:19,850 --> 00:55:25,420
having a great<font color="#CCCCCC"> day you went at Starbucks</font>

1538
00:55:21,650 --> 00:55:25,420
<font color="#CCCCCC">you came back and</font><font color="#E5E5E5"> you played some well</font>

1539
00:55:26,260 --> 00:55:30,620
<font color="#CCCCCC">once you've got it pretty stable</font><font color="#E5E5E5"> your</font>

1540
00:55:28,970 --> 00:55:32,569
future tweaking should be pretty simple

1541
00:55:30,620 --> 00:55:33,500
<font color="#E5E5E5">pretty minimal go ahead an get your</font>

1542
00:55:32,570 --> 00:55:35,000
<font color="#CCCCCC">monetary system going</font>

1543
00:55:33,500 --> 00:55:36,620
get your bandwidth going get your

1544
00:55:35,000 --> 00:55:39,320
bandwidth counts<font color="#E5E5E5"> get some alarms when</font>

1545
00:55:36,620 --> 00:55:41,089
running over so you're<font color="#E5E5E5"> not called in by</font>

1546
00:55:39,320 --> 00:55:43,280
<font color="#CCCCCC">your</font><font color="#E5E5E5"> boss saying I thought you had this</font>

1547
00:55:41,090 --> 00:55:45,410
down pat<font color="#CCCCCC"> Donnie</font><font color="#E5E5E5"> helped you out and now</font>

1548
00:55:43,280 --> 00:55:47,330
we're over we're over<font color="#E5E5E5"> commit on one leg</font>

1549
00:55:45,410 --> 00:55:49,549
or we're over congesting another link<font color="#E5E5E5"> so</font>

1550
00:55:47,330 --> 00:55:54,730
make sure<font color="#CCCCCC"> your alarming on</font><font color="#E5E5E5"> on bama</font>

1551
00:55:49,550 --> 00:55:54,730
thresholds<font color="#CCCCCC"> a couple alternate</font><font color="#E5E5E5"> ideas here</font>

1552
00:55:56,230 --> 00:56:02,330
<font color="#E5E5E5">I'm talking fast let's talk about some</font>

1553
00:55:59,570 --> 00:56:04,250
alternate<font color="#CCCCCC"> multipath strategies</font><font color="#E5E5E5"> so a lot</font>

1554
00:56:02,330 --> 00:56:06,410
<font color="#CCCCCC">of the modern</font><font color="#E5E5E5"> hardware allows for</font>

1555
00:56:04,250 --> 00:56:08,270
automatic multipath<font color="#E5E5E5"> if you're connecting</font>

1556
00:56:06,410 --> 00:56:11,540
<font color="#CCCCCC">to the same ISP</font><font color="#E5E5E5"> over multiple links on</font>

1557
00:56:08,270 --> 00:56:12,650
the same router some products even

1558
00:56:11,540 --> 00:56:14,870
support<font color="#CCCCCC"> will bullet</font><font color="#E5E5E5"> could be called</font>

1559
00:56:12,650 --> 00:56:17,360
multipath<font color="#CCCCCC"> Multi AES which means you have</font>

1560
00:56:14,870 --> 00:56:19,670
ice<font color="#E5E5E5"> linked</font><font color="#CCCCCC"> to a s1 s2 and</font><font color="#E5E5E5"> just want to</font>

1561
00:56:17,360 --> 00:56:22,340
automatically send 50% of yep roughly

1562
00:56:19,670 --> 00:56:23,630
50%<font color="#E5E5E5"> of traffic out</font><font color="#CCCCCC"> both links go ahead</font>

1563
00:56:22,340 --> 00:56:26,120
and check<font color="#CCCCCC"> your documentation</font><font color="#E5E5E5"> to see if</font>

1564
00:56:23,630 --> 00:56:27,710
it's supported<font color="#E5E5E5"> go ahead and test in a</font>

1565
00:56:26,120 --> 00:56:30,290
safe environment<font color="#CCCCCC"> because you might be</font>

1566
00:56:27,710 --> 00:56:32,360
surprised with<font color="#E5E5E5"> the results I'm not gonna</font>

1567
00:56:30,290 --> 00:56:34,370
<font color="#E5E5E5">cover in detail about multipath because</font>

1568
00:56:32,360 --> 00:56:35,360
different hardware<font color="#CCCCCC"> platforms either work</font>

1569
00:56:34,370 --> 00:56:36,650
or don't work some of<font color="#E5E5E5"> them will actually</font>

1570
00:56:35,360 --> 00:56:39,830
<font color="#CCCCCC">flop your sessions when you make the</font>

1571
00:56:36,650 --> 00:56:41,420
change<font color="#E5E5E5"> and most of the time you're not</font>

1572
00:56:39,830 --> 00:56:44,029
<font color="#E5E5E5">just looking for</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> 50-50 split of</font>

1573
00:56:41,420 --> 00:56:47,720
traffic multipath also dependent success

1574
00:56:44,030 --> 00:56:50,360
is based<font color="#E5E5E5"> on the hash algorithms</font><font color="#CCCCCC"> and I</font>

1575
00:56:47,720 --> 00:56:53,209
found<font color="#E5E5E5"> that it's</font><font color="#CCCCCC"> not I might use it where</font>

1576
00:56:50,360 --> 00:56:54,800
I might use<font color="#E5E5E5"> it in one one limited case</font>

1577
00:56:53,210 --> 00:56:57,260
where<font color="#E5E5E5"> I've multiple links to the same</font>

1578
00:56:54,800 --> 00:56:58,790
exact ISP so let's say at a s1 maybe

1579
00:56:57,260 --> 00:57:00,530
they're not<font color="#E5E5E5"> ready</font><font color="#CCCCCC"> for</font><font color="#E5E5E5"> 10 GbE ports in</font>

1580
00:56:58,790 --> 00:57:02,420
your city<font color="#E5E5E5"> so they give you</font><font color="#CCCCCC"> 2 1 gig e</font>

1581
00:57:00,530 --> 00:57:04,460
ports and<font color="#E5E5E5"> your other ISPs you have 10 GB</font>

1582
00:57:02,420 --> 00:57:06,020
ports so you<font color="#E5E5E5"> want to</font><font color="#CCCCCC"> just run you just</font>

1583
00:57:04,460 --> 00:57:08,840
<font color="#E5E5E5">want to balance you want you know that</font>

1584
00:57:06,020 --> 00:57:10,430
you want to<font color="#E5E5E5"> send 1.2 gig at referring to</font>

1585
00:57:08,840 --> 00:57:11,780
a s1 you have these two one gig links

1586
00:57:10,430 --> 00:57:15,500
<font color="#E5E5E5">well the easiest way</font><font color="#CCCCCC"> is just</font><font color="#E5E5E5"> turning on</font>

1587
00:57:11,780 --> 00:57:16,640
<font color="#E5E5E5">multipath for that single</font><font color="#CCCCCC"> ASN and your</font>

1588
00:57:15,500 --> 00:57:19,310
<font color="#E5E5E5">router will</font>

1589
00:57:16,640 --> 00:57:23,960
<font color="#CCCCCC">hache pretty evenly across both links to</font>

1590
00:57:19,310 --> 00:57:25,820
<font color="#CCCCCC">a</font><font color="#E5E5E5"> s1 and then the so the example</font><font color="#CCCCCC"> here</font><font color="#E5E5E5"> on</font>

1591
00:57:23,960 --> 00:57:27,410
the<font color="#CCCCCC"> bottom</font><font color="#E5E5E5"> table is that traffic</font><font color="#CCCCCC"> going</font>

1592
00:57:25,820 --> 00:57:31,280
<font color="#E5E5E5">to</font><font color="#CCCCCC"> a s1</font><font color="#E5E5E5"> there will be</font><font color="#CCCCCC"> two available</font>

1593
00:57:27,410 --> 00:57:33,049
paths<font color="#E5E5E5"> and then your ecmp</font><font color="#CCCCCC"> you CMP logic</font>

1594
00:57:31,280 --> 00:57:38,600
and ASIC will take care<font color="#E5E5E5"> of balancing on</font>

1595
00:57:33,050 --> 00:57:40,160
the links some common errors<font color="#E5E5E5"> when</font>

1596
00:57:38,600 --> 00:57:42,470
configuring the system<font color="#E5E5E5"> and using the</font>

1597
00:57:40,160 --> 00:57:44,410
<font color="#E5E5E5">system so this is some errors like a</font>

1598
00:57:42,470 --> 00:57:46,700
result in unacceptable balance or

1599
00:57:44,410 --> 00:57:48,910
non-deterministic results and they're

1600
00:57:46,700 --> 00:57:51,859
gonna lead to<font color="#E5E5E5"> inconsistent traffic</font>

1601
00:57:48,910 --> 00:57:53,990
<font color="#E5E5E5">balancing scheme if you're not setting</font>

1602
00:57:51,860 --> 00:57:55,520
metrics for<font color="#E5E5E5"> all your routes from the</font>

1603
00:57:53,990 --> 00:57:57,859
start<font color="#E5E5E5"> and you're lying upon those</font><font color="#CCCCCC"> built</font>

1604
00:57:55,520 --> 00:58:01,150
<font color="#CCCCCC">in tie breakers at the very end</font><font color="#E5E5E5"> oldest</font>

1605
00:57:57,860 --> 00:58:03,380
route lowest IP highest IP<font color="#E5E5E5"> phase them in</font>

1606
00:58:01,150 --> 00:58:05,420
other<font color="#E5E5E5"> problems are if you're not sending</font>

1607
00:58:03,380 --> 00:58:08,240
unique values incrementing values

1608
00:58:05,420 --> 00:58:10,400
<font color="#E5E5E5">meaning you're not gonna set metric of</font>

1609
00:58:08,240 --> 00:58:11,330
100<font color="#E5E5E5"> over here and a metric of 100 there</font>

1610
00:58:10,400 --> 00:58:14,870
you're gonna want<font color="#CCCCCC"> to</font><font color="#E5E5E5"> make</font><font color="#CCCCCC"> sure</font><font color="#E5E5E5"> one</font><font color="#CCCCCC"> is a</font>

1611
00:58:11,330 --> 00:58:16,310
100 or 200 or 300<font color="#CCCCCC"> 1000 2000 3000</font><font color="#E5E5E5"> whatnot</font>

1612
00:58:14,870 --> 00:58:18,200
you want incrementing values you<font color="#E5E5E5"> don't</font>

1613
00:58:16,310 --> 00:58:20,720
want to set the same value<font color="#CCCCCC"> on</font><font color="#E5E5E5"> multiple</font>

1614
00:58:18,200 --> 00:58:22,910
<font color="#E5E5E5">highest</font><font color="#CCCCCC"> piece</font><font color="#E5E5E5"> other problem you run into</font>

1615
00:58:20,720 --> 00:58:26,120
is<font color="#E5E5E5"> if you have</font><font color="#CCCCCC"> Incan</font><font color="#E5E5E5"> inconsistent</font>

1616
00:58:22,910 --> 00:58:28,100
metrics<font color="#E5E5E5"> that may result in different</font>

1617
00:58:26,120 --> 00:58:29,480
selections based on different routers

1618
00:58:28,100 --> 00:58:32,360
let me show you what the show that<font color="#E5E5E5"> looks</font>

1619
00:58:29,480 --> 00:58:35,420
like this<font color="#CCCCCC"> the case of non-deterministic</font>

1620
00:58:32,360 --> 00:58:37,280
<font color="#E5E5E5">so in this case you set the metric to</font>

1621
00:58:35,420 --> 00:58:39,620
something<font color="#E5E5E5"> other than</font><font color="#CCCCCC"> 0 but</font><font color="#E5E5E5"> you set the</font>

1622
00:58:37,280 --> 00:58:41,780
metric to 50 on both cases<font color="#E5E5E5"> so</font><font color="#CCCCCC"> looking at</font>

1623
00:58:39,620 --> 00:58:43,580
the route to a<font color="#E5E5E5"> s6 well great well now</font>

1624
00:58:41,780 --> 00:58:44,750
instead of being equal<font color="#CCCCCC"> 0 now that you</font>

1625
00:58:43,580 --> 00:58:47,270
can would<font color="#E5E5E5"> 50</font><font color="#CCCCCC"> which routes going to be</font>

1626
00:58:44,750 --> 00:58:48,890
heard again<font color="#CCCCCC"> in</font><font color="#E5E5E5"> this case it'll usually</font>

1627
00:58:47,270 --> 00:58:51,020
be oldest route depending on platform

1628
00:58:48,890 --> 00:58:52,940
and it can even<font color="#E5E5E5"> change if a route</font>

1629
00:58:51,020 --> 00:58:55,660
session flaps<font color="#E5E5E5"> because net no longer</font>

1630
00:58:52,940 --> 00:58:55,660
becomes the oldest route

1631
00:58:58,520 --> 00:59:01,910
<font color="#E5E5E5">oh</font><font color="#CCCCCC"> okay deterministic</font><font color="#E5E5E5"> so what does the</font>

1632
00:59:00,920 --> 00:59:03,410
term disagree<font color="#E5E5E5"> know what I'm using here</font>

1633
00:59:01,910 --> 00:59:05,118
so deterministic means having an outcome

1634
00:59:03,410 --> 00:59:07,430
that<font color="#CCCCCC"> could be predicted</font><font color="#E5E5E5"> because all of</font>

1635
00:59:05,119 --> 00:59:11,420
<font color="#E5E5E5">its causes are known or the same has a</font>

1636
00:59:07,430 --> 00:59:13,700
previous<font color="#CCCCCC"> event</font><font color="#E5E5E5"> don't know why throw</font><font color="#CCCCCC"> that</font>

1637
00:59:11,420 --> 00:59:14,690
in there<font color="#CCCCCC"> okay</font><font color="#E5E5E5"> common errors</font><font color="#CCCCCC"> - this is</font>

1638
00:59:13,700 --> 00:59:17,060
where we have what I said different

1639
00:59:14,690 --> 00:59:19,130
opinions<font color="#E5E5E5"> so you don't have a consistent</font>

1640
00:59:17,060 --> 00:59:21,080
policy<font color="#E5E5E5"> across all of your border routers</font>

1641
00:59:19,130 --> 00:59:22,700
or edge routers and in this case the

1642
00:59:21,080 --> 00:59:24,680
traffic<font color="#CCCCCC"> I've sent to</font><font color="#E5E5E5"> board a one from</font>

1643
00:59:22,700 --> 00:59:27,740
inside<font color="#CCCCCC"> your network border one going to</font>

1644
00:59:24,680 --> 00:59:30,890
<font color="#CCCCCC">a s4 over here border one actually will</font>

1645
00:59:27,740 --> 00:59:34,310
choose to take<font color="#E5E5E5"> a s1 a s4 because that's</font>

1646
00:59:30,890 --> 00:59:36,680
his his ebgp<font color="#CCCCCC"> hub a</font><font color="#E5E5E5"> border to will</font>

1647
00:59:34,310 --> 00:59:38,660
actually prefer<font color="#E5E5E5"> a s2 day s4 I don't like</font>

1648
00:59:36,680 --> 00:59:40,879
the system<font color="#CCCCCC"> some people in abusing us to</font>

1649
00:59:38,660 --> 00:59:42,410
get load balancing and they might have

1650
00:59:40,880 --> 00:59:43,850
half<font color="#E5E5E5"> of their server</font><font color="#CCCCCC"> sent traffic this</font>

1651
00:59:42,410 --> 00:59:45,020
direction<font color="#E5E5E5"> and half that direction</font><font color="#CCCCCC"> I</font>

1652
00:59:43,850 --> 00:59:47,420
don't like<font color="#E5E5E5"> it I like being a little</font>

1653
00:59:45,020 --> 00:59:49,460
monitor<font color="#E5E5E5"> mystic</font><font color="#CCCCCC"> I like all</font><font color="#E5E5E5"> of</font><font color="#CCCCCC"> my boarders</font>

1654
00:59:47,420 --> 00:59:50,930
to<font color="#CCCCCC"> decide on the same exact exit out of</font>

1655
00:59:49,460 --> 00:59:53,990
<font color="#CCCCCC">my network</font><font color="#E5E5E5"> out of a specific</font><font color="#CCCCCC"> region of</font>

1656
00:59:50,930 --> 00:59:55,399
<font color="#E5E5E5">my networks</font><font color="#CCCCCC"> so the problem of</font><font color="#E5E5E5"> having</font>

1657
00:59:53,990 --> 00:59:57,649
<font color="#CCCCCC">different opinions like I was saying</font><font color="#E5E5E5"> it</font>

1658
00:59:55,400 --> 00:59:59,810
may be intentional<font color="#CCCCCC"> I found it's</font>

1659
00:59:57,650 --> 01:00:01,490
confusing<font color="#E5E5E5"> it's inconsistent it usually</font>

1660
00:59:59,810 --> 01:00:03,020
<font color="#E5E5E5">means you're applying pound equal cost</font>

1661
01:00:01,490 --> 01:00:04,399
multi<font color="#E5E5E5"> path somewhere downstream</font><font color="#CCCCCC"> maybe in</font>

1662
01:00:03,020 --> 01:00:06,350
a distribution<font color="#CCCCCC"> of</font><font color="#E5E5E5"> your core level</font><font color="#CCCCCC"> late</font>

1663
01:00:04,400 --> 01:00:07,790
layer down from<font color="#E5E5E5"> your servers and if one</font>

1664
01:00:06,350 --> 01:00:09,740
router<font color="#E5E5E5"> goes away</font><font color="#CCCCCC"> we're</font><font color="#E5E5E5"> gonna find</font><font color="#CCCCCC"> your</font>

1665
01:00:07,790 --> 01:00:11,420
traffic balance may shift in a way that

1666
01:00:09,740 --> 01:00:12,979
you didn't expect<font color="#E5E5E5"> and the way that you</font>

1667
01:00:11,420 --> 01:00:14,150
actually don't<font color="#E5E5E5"> desire and it makes your</font>

1668
01:00:12,980 --> 01:00:19,670
life<font color="#E5E5E5"> hard during</font><font color="#CCCCCC"> maintance windows or</font>

1669
01:00:14,150 --> 01:00:21,410
outage periods so in summary in the

1670
01:00:19,670 --> 01:00:24,350
metric<font color="#CCCCCC"> system the primary decision</font>

1671
01:00:21,410 --> 01:00:26,359
<font color="#E5E5E5">attribute is the a s length or hop count</font>

1672
01:00:24,350 --> 01:00:27,770
<font color="#E5E5E5">that allows</font><font color="#CCCCCC"> us to</font><font color="#E5E5E5"> take advantage of the</font>

1673
01:00:26,359 --> 01:00:29,509
<font color="#CCCCCC">limited performance information that we</font>

1674
01:00:27,770 --> 01:00:31,450
can<font color="#E5E5E5"> get in</font><font color="#CCCCCC"> bgp which is how many</font>

1675
01:00:29,510 --> 01:00:33,260
<font color="#CCCCCC">networks away is</font><font color="#E5E5E5"> this</font><font color="#CCCCCC"> prefix</font>

1676
01:00:31,450 --> 01:00:35,740
you're going to get<font color="#E5E5E5"> your basic balance</font>

1677
01:00:33,260 --> 01:00:37,640
<font color="#E5E5E5">through your</font><font color="#CCCCCC"> tiebreakers your catch-all</font>

1678
01:00:35,740 --> 01:00:39,379
secondarily<font color="#E5E5E5"> if you need to do a little</font>

1679
01:00:37,640 --> 01:00:40,879
<font color="#E5E5E5">more tuning go ahead and do some broad</font>

1680
01:00:39,380 --> 01:00:44,030
<font color="#E5E5E5">strokes through based on community</font>

1681
01:00:40,880 --> 01:00:46,520
destination<font color="#CCCCCC"> ASN maybe you use fine</font>

1682
01:00:44,030 --> 01:00:48,320
tuning if necessary<font color="#E5E5E5"> for stuff</font><font color="#CCCCCC"> that can't</font>

1683
01:00:46,520 --> 01:00:51,170
get done with communities<font color="#CCCCCC"> and metrics</font>

1684
01:00:48,320 --> 01:00:54,160
and try to<font color="#CCCCCC"> minimize those fine tuning</font>

1685
01:00:51,170 --> 01:00:56,330
steps because<font color="#E5E5E5"> the more the longer</font><font color="#CCCCCC"> your</font>

1686
01:00:54,160 --> 01:00:57,980
the longer your policy is the more

1687
01:00:56,330 --> 01:00:59,480
complicated<font color="#E5E5E5"> is the more difficult is for</font>

1688
01:00:57,980 --> 01:01:00,650
<font color="#E5E5E5">you to troubleshoot the next person</font>

1689
01:00:59,480 --> 01:01:02,150
troubleshoot the more chances that you

1690
01:01:00,650 --> 01:01:03,320
is the author<font color="#CCCCCC"> micah woken up even though</font>

1691
01:01:02,150 --> 01:01:05,500
you're<font color="#E5E5E5"> not on</font><font color="#CCCCCC"> shifty to me on that</font>

1692
01:01:03,320 --> 01:01:05,500
<font color="#CCCCCC">morning</font>

1693
01:01:06,540 --> 01:01:10,619
and now I'm open for questions

1694
01:01:10,710 --> 01:01:14,710
go ahead there's a mic<font color="#CCCCCC"> right behind you</font>

1695
01:01:13,030 --> 01:01:19,480
<font color="#E5E5E5">I think they're recording</font><font color="#CCCCCC"> its best if</font>

1696
01:01:14,710 --> 01:01:34,560
you're on<font color="#E5E5E5"> mic can I ask why you when you</font>

1697
01:01:19,480 --> 01:01:36,670
were<font color="#CCCCCC"> doing</font><font color="#E5E5E5"> ask</font><font color="#CCCCCC"> your own but I understand</font>

1698
01:01:34,560 --> 01:01:39,339
someone else<font color="#E5E5E5"> for inbound traffic</font>

1699
01:01:36,670 --> 01:01:41,200
I should probably only<font color="#E5E5E5"> say that I</font>

1700
01:01:39,339 --> 01:01:43,390
appeared<font color="#E5E5E5"> more</font><font color="#CCCCCC"> than once you know I'm</font>

1701
01:01:41,200 --> 01:01:45,339
making<font color="#E5E5E5"> myself more expensive but when</font>

1702
01:01:43,390 --> 01:01:47,799
you're altering the inbound routes

1703
01:01:45,339 --> 01:01:49,660
why were you saying<font color="#E5E5E5"> that he was making</font>

1704
01:01:47,800 --> 01:01:54,550
<font color="#E5E5E5">himself more expensive why wouldn't you</font>

1705
01:01:49,660 --> 01:01:55,328
<font color="#CCCCCC">just well so</font><font color="#E5E5E5"> so first all you're correct</font>

1706
01:01:54,550 --> 01:01:57,070
when you're doing<font color="#E5E5E5"> alpha</font><font color="#CCCCCC"> and</font>

1707
01:01:55,329 --> 01:01:58,570
advertisement<font color="#CCCCCC"> you're</font><font color="#E5E5E5"> really only</font>

1708
01:01:57,070 --> 01:01:59,980
supposed<font color="#E5E5E5"> to be prepend in your own it's</font>

1709
01:01:58,570 --> 01:02:01,359
<font color="#E5E5E5">the right thing to do and it's the only</font>

1710
01:01:59,980 --> 01:02:04,630
way to<font color="#E5E5E5"> guarantee that will actually get</font>

1711
01:02:01,359 --> 01:02:07,690
heard for inbound routes<font color="#E5E5E5"> if if I prepend</font>

1712
01:02:04,630 --> 01:02:10,660
<font color="#E5E5E5">so imagine you're a s</font><font color="#CCCCCC"> -</font><font color="#E5E5E5"> -</font><font color="#CCCCCC"> I am is a s</font>

1713
01:02:07,690 --> 01:02:15,839
100<font color="#E5E5E5"> I hear route from you</font><font color="#CCCCCC"> then path is a</font>

1714
01:02:10,660 --> 01:02:15,839
s<font color="#E5E5E5"> - if I go</font><font color="#CCCCCC"> ahead and add my own</font><font color="#E5E5E5"> route I</font>

1715
01:02:16,050 --> 01:02:22,089
had the answer and<font color="#E5E5E5"> I had to do with</font>

1716
01:02:18,010 --> 01:02:25,119
looping<font color="#CCCCCC"> ASNs and Andy yeah so what end</font>

1717
01:02:22,089 --> 01:02:26,140
up happening is<font color="#E5E5E5"> my my</font><font color="#CCCCCC"> ASN</font><font color="#E5E5E5"> and I think</font>

1718
01:02:25,119 --> 01:02:27,430
it's I<font color="#CCCCCC"> think</font><font color="#E5E5E5"> it's platform dependent</font>

1719
01:02:26,140 --> 01:02:29,560
<font color="#CCCCCC">buying us that actually</font><font color="#E5E5E5"> might appear at</font>

1720
01:02:27,430 --> 01:02:38,290
the very<font color="#CCCCCC"> end of</font><font color="#E5E5E5"> the path so it actually</font>

1721
01:02:29,560 --> 01:02:41,200
<font color="#E5E5E5">right right yeah basically if you drop</font>

1722
01:02:38,290 --> 01:02:43,619
it<font color="#CCCCCC"> because yeah so what you're doing on</font>

1723
01:02:41,200 --> 01:02:48,640
inbound is<font color="#E5E5E5"> you're</font><font color="#CCCCCC"> pretending there is n</font>

1724
01:02:43,619 --> 01:02:50,470
rather than yours<font color="#E5E5E5"> yeah</font>

1725
01:02:48,640 --> 01:02:52,210
in some case<font color="#CCCCCC"> that could</font><font color="#E5E5E5"> be seen as the</font>

1726
01:02:50,470 --> 01:02:54,399
loop but also the other<font color="#E5E5E5"> cases understand</font>

1727
01:02:52,210 --> 01:02:56,260
want to lose<font color="#CCCCCC"> that information</font><font color="#E5E5E5"> so if I so</font>

1728
01:02:54,400 --> 01:02:57,730
here what happens<font color="#CCCCCC"> if</font><font color="#E5E5E5"> I prepend</font><font color="#CCCCCC"> myocin it</font>

1729
01:02:56,260 --> 01:02:59,619
actually really becomes the<font color="#CCCCCC"> beginning of</font>

1730
01:02:57,730 --> 01:03:02,589
the path then I lose<font color="#E5E5E5"> that next hop is</font>

1731
01:02:59,619 --> 01:03:04,390
information<font color="#E5E5E5"> I s2 is no longer</font><font color="#CCCCCC"> in next</font>

1732
01:03:02,589 --> 01:03:06,640
hop is a<font color="#E5E5E5"> s100 becomes nan</font><font color="#CCCCCC"> through</font><font color="#E5E5E5"> the</font>

1733
01:03:04,390 --> 01:03:08,680
next<font color="#CCCCCC"> hop is right so</font><font color="#E5E5E5"> I want to keep the</font>

1734
01:03:06,640 --> 01:03:10,150
I don't want<font color="#CCCCCC"> to change</font><font color="#E5E5E5"> next hop I ask I</font>

1735
01:03:08,680 --> 01:03:13,210
<font color="#E5E5E5">just want to make it look like there are</font>

1736
01:03:10,150 --> 01:03:14,619
more more hops yeah<font color="#CCCCCC"> that's a</font><font color="#E5E5E5"> good</font>

1737
01:03:13,210 --> 01:03:16,480
<font color="#CCCCCC">question and</font><font color="#E5E5E5"> it's what I haven't thought</font>

1738
01:03:14,619 --> 01:03:17,560
about<font color="#E5E5E5"> for a long long time</font><font color="#CCCCCC"> you know you</font>

1739
01:03:16,480 --> 01:03:18,530
know you've been<font color="#E5E5E5"> doing</font><font color="#CCCCCC"> something</font><font color="#E5E5E5"> for so</font>

1740
01:03:17,560 --> 01:03:20,480
<font color="#E5E5E5">long</font>

1741
01:03:18,530 --> 01:03:21,920
you already<font color="#E5E5E5"> decided why it was good and</font>

1742
01:03:20,480 --> 01:03:23,030
<font color="#E5E5E5">then years</font><font color="#CCCCCC"> later you don't</font><font color="#E5E5E5"> always</font>

1743
01:03:21,920 --> 01:03:24,590
<font color="#E5E5E5">remember why</font><font color="#CCCCCC"> he made that</font><font color="#E5E5E5"> sitting but</font>

1744
01:03:23,030 --> 01:03:28,340
<font color="#E5E5E5">you know what's right</font><font color="#CCCCCC"> so but thank you</font>

1745
01:03:24,590 --> 01:03:34,520
<font color="#CCCCCC">so I had two comments noticed that there</font>

1746
01:03:28,340 --> 01:03:36,800
were some ISPs that there was a reason

1747
01:03:34,520 --> 01:03:38,720
<font color="#CCCCCC">for</font><font color="#E5E5E5"> that there was actually a SP out</font>

1748
01:03:36,800 --> 01:03:41,360
there who was intentionally<font color="#E5E5E5"> sitting</font>

1749
01:03:38,720 --> 01:03:44,209
<font color="#E5E5E5">there resetting their origin codes to</font>

1750
01:03:41,360 --> 01:03:45,740
kind of create<font color="#E5E5E5"> full potato routing in</font>

1751
01:03:44,210 --> 01:03:47,720
cases where they weren't<font color="#E5E5E5"> supposed</font><font color="#CCCCCC"> to yep</font>

1752
01:03:45,740 --> 01:03:48,709
a bunch of<font color="#E5E5E5"> people ended</font><font color="#CCCCCC"> up</font><font color="#E5E5E5"> carrying them</font>

1753
01:03:47,720 --> 01:03:52,040
over that<font color="#E5E5E5"> and a bunch of other people</font>

1754
01:03:48,710 --> 01:03:54,560
<font color="#E5E5E5">have emitted a reset to IGP so that's</font>

1755
01:03:52,040 --> 01:03:56,690
why you're<font color="#E5E5E5"> seeing right so</font><font color="#CCCCCC"> that's</font>

1756
01:03:54,560 --> 01:04:00,500
exactly<font color="#CCCCCC"> right</font><font color="#E5E5E5"> so because because</font><font color="#CCCCCC"> you can</font>

1757
01:03:56,690 --> 01:04:02,870
<font color="#E5E5E5">influence somebody's</font><font color="#CCCCCC"> decision you if</font><font color="#E5E5E5"> you</font>

1758
01:04:00,500 --> 01:04:04,910
if you're an unscrupulous<font color="#E5E5E5"> ISP you can go</font>

1759
01:04:02,870 --> 01:04:07,549
ahead and<font color="#E5E5E5"> depress some traffic by</font>

1760
01:04:04,910 --> 01:04:09,560
resetting origin<font color="#E5E5E5"> to unknown or to</font>

1761
01:04:07,550 --> 01:04:11,270
external<font color="#E5E5E5"> if you don't want to go</font><font color="#CCCCCC"> ahead</font>

1762
01:04:09,560 --> 01:04:13,190
<font color="#E5E5E5">and accept that traffic</font><font color="#CCCCCC"> so there are</font>

1763
01:04:11,270 --> 01:04:14,390
tricks on ISPs can play I just<font color="#CCCCCC"> say you</font>

1764
01:04:13,190 --> 01:04:16,840
know<font color="#E5E5E5"> what hell with you all I'm going to</font>

1765
01:04:14,390 --> 01:04:25,850
reset<font color="#CCCCCC"> that internal and do my own thing</font>

1766
01:04:16,840 --> 01:04:30,650
<font color="#E5E5E5">yeah so so so cold so</font><font color="#CCCCCC"> cold potato</font>

1767
01:04:25,850 --> 01:04:34,670
<font color="#CCCCCC">routing</font><font color="#E5E5E5"> so typically typically routers</font>

1768
01:04:30,650 --> 01:04:36,500
choose the closest<font color="#CCCCCC"> exit from their ASM</font>

1769
01:04:34,670 --> 01:04:38,090
so let's say for<font color="#CCCCCC"> example</font><font color="#E5E5E5"> you have a</font>

1770
01:04:36,500 --> 01:04:40,340
network<font color="#E5E5E5"> that spans between Los Angeles</font>

1771
01:04:38,090 --> 01:04:41,600
<font color="#E5E5E5">and San Francisco</font><font color="#CCCCCC"> and your</font><font color="#E5E5E5"> peer and</font>

1772
01:04:40,340 --> 01:04:43,550
<font color="#CCCCCC">you're appearing with another network</font>

1773
01:04:41,600 --> 01:04:45,350
also<font color="#E5E5E5"> in Los Angeles</font><font color="#CCCCCC"> San Francisco if</font>

1774
01:04:43,550 --> 01:04:47,060
traffic if traffic is<font color="#CCCCCC"> coming off</font><font color="#E5E5E5"> your</font>

1775
01:04:45,350 --> 01:04:49,400
servers in Los Angeles<font color="#E5E5E5"> going to that</font>

1776
01:04:47,060 --> 01:04:50,390
other<font color="#CCCCCC"> network hot potato means you're</font>

1777
01:04:49,400 --> 01:04:52,610
<font color="#CCCCCC">going to</font><font color="#E5E5E5"> hand it off as</font><font color="#CCCCCC"> quickly as</font>

1778
01:04:50,390 --> 01:04:54,620
possible<font color="#CCCCCC"> in Los Angeles</font><font color="#E5E5E5"> cold potatoes</font>

1779
01:04:52,610 --> 01:04:55,910
were you backhaul on your backbone to

1780
01:04:54,620 --> 01:04:58,310
San Francisco to hand it off to<font color="#CCCCCC"> that</font>

1781
01:04:55,910 --> 01:04:59,270
other<font color="#CCCCCC"> ISP</font><font color="#E5E5E5"> the reason that you might not</font>

1782
01:04:58,310 --> 01:05:01,640
<font color="#E5E5E5">want to do cold potato is you're</font>

1783
01:04:59,270 --> 01:05:04,400
utilizing<font color="#E5E5E5"> that</font><font color="#CCCCCC"> long-haul capacity on</font>

1784
01:05:01,640 --> 01:05:06,920
your network that<font color="#E5E5E5"> you're paying for Hot</font>

1785
01:05:04,400 --> 01:05:08,780
Potato hot potato actually<font color="#E5E5E5"> is kind of</font>

1786
01:05:06,920 --> 01:05:11,630
<font color="#E5E5E5">the default behavior because ebgp</font>

1787
01:05:08,780 --> 01:05:13,460
is always preferred over ibgp for loop

1788
01:05:11,630 --> 01:05:15,230
avoidance<font color="#E5E5E5"> so you're not going to want to</font>

1789
01:05:13,460 --> 01:05:16,550
<font color="#E5E5E5">send it on your internal network</font><font color="#CCCCCC"> if you</font>

1790
01:05:15,230 --> 01:05:21,410
<font color="#CCCCCC">can if you actually have an external</font>

1791
01:05:16,550 --> 01:05:22,550
exit<font color="#E5E5E5"> that's closer and that's the</font><font color="#CCCCCC"> but</font>

1792
01:05:21,410 --> 01:05:24,080
that's<font color="#E5E5E5"> that's what hot potato versus</font>

1793
01:05:22,550 --> 01:05:25,100
<font color="#E5E5E5">cold potato it means and and typically</font>

1794
01:05:24,080 --> 01:05:28,390
most networks<font color="#E5E5E5"> like</font><font color="#CCCCCC"> the hot potato</font>

1795
01:05:25,100 --> 01:05:28,390
because<font color="#E5E5E5"> it's a cost savings today</font>

1796
01:05:33,960 --> 01:05:37,570
so for you might have a congested link

1797
01:05:36,340 --> 01:05:39,250
between you<font color="#E5E5E5"> and that</font><font color="#CCCCCC"> other network in</font>

1798
01:05:37,570 --> 01:05:41,170
Los Angeles<font color="#CCCCCC"> and</font><font color="#E5E5E5"> you know you have</font>

1799
01:05:39,250 --> 01:05:42,280
capacity in San Francisco<font color="#E5E5E5"> so for</font>

1800
01:05:41,170 --> 01:05:43,900
performance reasons you're willing to

1801
01:05:42,280 --> 01:05:46,330
<font color="#E5E5E5">backhaul it to satisfy your customer</font>

1802
01:05:43,900 --> 01:05:49,840
<font color="#E5E5E5">base and hand it off to them in another</font>

1803
01:05:46,330 --> 01:05:51,970
location and the<font color="#E5E5E5"> other comment</font><font color="#CCCCCC"> that I</font>

1804
01:05:49,840 --> 01:05:53,560
had was a lot<font color="#E5E5E5"> of times when you make</font>

1805
01:05:51,970 --> 01:05:55,359
these policy<font color="#CCCCCC"> changes it takes a couple</font>

1806
01:05:53,560 --> 01:05:57,370
<font color="#E5E5E5">minutes</font><font color="#CCCCCC"> for the routers to to go</font><font color="#E5E5E5"> through</font>

1807
01:05:55,360 --> 01:05:59,380
and<font color="#CCCCCC"> apply them specifically there's a</font>

1808
01:05:57,370 --> 01:06:01,569
difference between<font color="#CCCCCC"> doing a hard BGP</font>

1809
01:05:59,380 --> 01:06:03,880
reset<font color="#CCCCCC"> where it</font><font color="#E5E5E5"> gets more prioritization</font>

1810
01:06:01,570 --> 01:06:06,310
that<font color="#E5E5E5"> it wants to converge immediately</font>

1811
01:06:03,880 --> 01:06:08,260
versus a soft clear so there might be

1812
01:06:06,310 --> 01:06:10,779
times when you might<font color="#CCCCCC"> have</font><font color="#E5E5E5"> to wait</font><font color="#CCCCCC"> 20-30</font>

1813
01:06:08,260 --> 01:06:13,390
minutes<font color="#E5E5E5"> for it to fully process after</font>

1814
01:06:10,780 --> 01:06:14,530
<font color="#CCCCCC">you do a soft clear and what I've</font>

1815
01:06:13,390 --> 01:06:16,750
noticed<font color="#CCCCCC"> on Cisco and juniper</font>

1816
01:06:14,530 --> 01:06:19,510
specifically is<font color="#CCCCCC"> that they walk the table</font>

1817
01:06:16,750 --> 01:06:21,400
in prefix order so if you want to know

1818
01:06:19,510 --> 01:06:23,830
when it's done<font color="#CCCCCC"> pick something that's as</font>

1819
01:06:21,400 --> 01:06:25,420
close<font color="#E5E5E5"> to 255 dot whatever</font><font color="#CCCCCC"> as</font><font color="#E5E5E5"> possible</font>

1820
01:06:23,830 --> 01:06:26,799
<font color="#CCCCCC">and just check that</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> when</font><font color="#E5E5E5"> that one's</font>

1821
01:06:25,420 --> 01:06:28,180
<font color="#E5E5E5">done then you know the whole</font><font color="#CCCCCC"> tables</font><font color="#E5E5E5"> been</font>

1822
01:06:26,800 --> 01:06:30,010
<font color="#E5E5E5">completed and you know what they</font><font color="#CCCCCC"> affect</font>

1823
01:06:28,180 --> 01:06:31,779
<font color="#E5E5E5">actually is yeah absolutely I think I've</font>

1824
01:06:30,010 --> 01:06:33,310
never seen in 20 or<font color="#CCCCCC"> 30 minutes</font><font color="#E5E5E5"> but I</font>

1825
01:06:31,780 --> 01:06:35,050
think it also that's going to depend<font color="#CCCCCC"> on</font>

1826
01:06:33,310 --> 01:06:38,230
size<font color="#E5E5E5"> of your network</font><font color="#CCCCCC"> how many hops</font>

1827
01:06:35,050 --> 01:06:40,630
if<font color="#E5E5E5"> using reflection and also the CPU</font>

1828
01:06:38,230 --> 01:06:43,060
<font color="#CCCCCC">load of your routing devices in in the</font>

1829
01:06:40,630 --> 01:06:44,590
<font color="#E5E5E5">Juniper world</font><font color="#CCCCCC"> the trick that I use</font><font color="#E5E5E5"> is</font>

1830
01:06:43,060 --> 01:06:46,450
show system process summary and you

1831
01:06:44,590 --> 01:06:49,030
<font color="#E5E5E5">watch that</font><font color="#CCCCCC"> RPD process and when the CPU</font>

1832
01:06:46,450 --> 01:06:50,350
<font color="#CCCCCC">utilization RPD process goes down that</font>

1833
01:06:49,030 --> 01:06:54,820
usually is an indicator that<font color="#E5E5E5"> he's done</font>

1834
01:06:50,350 --> 01:06:56,910
<font color="#CCCCCC">with his route with</font><font color="#E5E5E5"> his decision right</font>

1835
01:06:54,820 --> 01:06:59,500
<font color="#CCCCCC">now keep in mind I'm really working us</font>

1836
01:06:56,910 --> 01:07:01,359
<font color="#E5E5E5">fairly simple networks here in the Cisco</font>

1837
01:06:59,500 --> 01:07:03,430
<font color="#CCCCCC">world and used to in that</font><font color="#E5E5E5"> if you read</font>

1838
01:07:01,360 --> 01:07:05,440
the books and<font color="#E5E5E5"> you read the docs you're</font>

1839
01:07:03,430 --> 01:07:08,020
supposed<font color="#CCCCCC"> to do BGP summary and look for</font>

1840
01:07:05,440 --> 01:07:10,120
synchronized table versions but networks

1841
01:07:08,020 --> 01:07:11,560
are too large nowadays<font color="#E5E5E5"> I</font><font color="#CCCCCC"> don't think I</font>

1842
01:07:10,120 --> 01:07:13,150
ever catch a synchronized table version

1843
01:07:11,560 --> 01:07:14,470
nowadays it's very<font color="#E5E5E5"> difficult to catch</font>

1844
01:07:13,150 --> 01:07:15,670
<font color="#E5E5E5">but you have to have a very very idle</font>

1845
01:07:14,470 --> 01:07:20,109
network for<font color="#E5E5E5"> that happens it's no longer</font>

1846
01:07:15,670 --> 01:07:21,340
a<font color="#E5E5E5"> good a good indicator hi hi Chris we</font>

1847
01:07:20,110 --> 01:07:23,290
feeling<font color="#E5E5E5"> Internet</font>

1848
01:07:21,340 --> 01:07:25,150
wanted to add a little<font color="#CCCCCC"> bit</font><font color="#E5E5E5"> of info</font><font color="#CCCCCC"> to</font>

1849
01:07:23,290 --> 01:07:28,000
the<font color="#E5E5E5"> cold potato routing</font><font color="#CCCCCC"> verses</font><font color="#E5E5E5"> hi potato</font>

1850
01:07:25,150 --> 01:07:30,850
<font color="#CCCCCC">I don't know if this happens that much</font>

1851
01:07:28,000 --> 01:07:32,650
anymore but I do remember her back<font color="#E5E5E5"> you</font>

1852
01:07:30,850 --> 01:07:35,900
know a lot of<font color="#E5E5E5"> when there were a lot of</font>

1853
01:07:32,650 --> 01:07:37,970
backbones that were heavy net pushers uh

1854
01:07:35,900 --> 01:07:40,220
you know<font color="#E5E5E5"> the above nets and the</font><font color="#CCCCCC"> Exodus</font>

1855
01:07:37,970 --> 01:07:43,129
is that that<font color="#E5E5E5"> were having trouble getting</font>

1856
01:07:40,220 --> 01:07:47,540
<font color="#E5E5E5">peering because they're in</font><font color="#CCCCCC"> now</font><font color="#E5E5E5"> traffic</font>

1857
01:07:43,130 --> 01:07:49,340
ratios were so great<font color="#CCCCCC"> so what what what I</font>

1858
01:07:47,540 --> 01:07:51,470
know those<font color="#E5E5E5"> two what what I know that's</font>

1859
01:07:49,340 --> 01:07:54,440
<font color="#E5E5E5">that a lot some of those pusher</font>

1860
01:07:51,470 --> 01:07:55,879
backbones did was said that if you

1861
01:07:54,440 --> 01:07:56,360
appear<font color="#CCCCCC"> with us we will listen to your</font>

1862
01:07:55,880 --> 01:07:59,710
meds

1863
01:07:56,360 --> 01:08:02,090
<font color="#E5E5E5">and we are what we will will</font><font color="#CCCCCC"> cold potato</font>

1864
01:07:59,710 --> 01:08:04,370
<font color="#E5E5E5">in exchange for you being willing</font><font color="#CCCCCC"> to</font>

1865
01:08:02,090 --> 01:08:05,810
<font color="#CCCCCC">appear with us</font><font color="#E5E5E5"> yeah so it in general</font>

1866
01:08:04,370 --> 01:08:07,790
cold potato is usually more expensive

1867
01:08:05,810 --> 01:08:10,690
<font color="#E5E5E5">for the network</font><font color="#CCCCCC"> is cold potato in</font><font color="#E5E5E5"> it and</font>

1868
01:08:07,790 --> 01:08:13,370
it only<font color="#E5E5E5"> only</font><font color="#CCCCCC"> usually</font><font color="#E5E5E5"> happened for self</font>

1869
01:08:10,690 --> 01:08:13,940
<font color="#E5E5E5">self-fulfilling self-satisfying reasons</font>

1870
01:08:13,370 --> 01:08:15,710
yeah<font color="#E5E5E5"> absolutely</font>

1871
01:08:13,940 --> 01:08:17,330
<font color="#E5E5E5">yeah because other cares</font><font color="#CCCCCC"> you know</font>

1872
01:08:15,710 --> 01:08:19,010
otherwise<font color="#E5E5E5"> wouldn't want to peer with</font>

1873
01:08:17,330 --> 01:08:20,870
those types of<font color="#E5E5E5"> networks just because of</font>

1874
01:08:19,010 --> 01:08:22,430
the imbalance of<font color="#CCCCCC"> the unit in out traffic</font>

1875
01:08:20,870 --> 01:08:29,500
ratios yeah absolutely

1876
01:08:22,430 --> 01:08:29,500
exactly exactly<font color="#E5E5E5"> any other questions</font>

1877
01:08:36,250 --> 01:08:41,198
great<font color="#E5E5E5"> talk to any</font><font color="#CCCCCC"> things hi thank</font><font color="#E5E5E5"> you</font>

1878
01:08:39,160 --> 01:08:42,549
question<font color="#CCCCCC"> ed was for keeping</font><font color="#E5E5E5"> track of</font>

1879
01:08:41,198 --> 01:08:44,919
<font color="#E5E5E5">what you've</font><font color="#CCCCCC"> done you know I know what</font>

1880
01:08:42,549 --> 01:08:47,109
<font color="#E5E5E5">people</font><font color="#CCCCCC"> who</font><font color="#E5E5E5"> actually do this</font><font color="#CCCCCC"> PGP te you</font>

1881
01:08:44,920 --> 01:08:49,089
know they have some hearing<font color="#CCCCCC"> link that's</font>

1882
01:08:47,109 --> 01:08:51,790
congested so they move it to<font color="#CCCCCC"> a</font><font color="#E5E5E5"> paid</font>

1883
01:08:49,089 --> 01:08:53,528
transit and people<font color="#CCCCCC"> forget</font><font color="#E5E5E5"> you know I</font>

1884
01:08:51,790 --> 01:08:54,640
<font color="#E5E5E5">came back two weeks later</font><font color="#CCCCCC"> it's</font><font color="#E5E5E5"> still</font>

1885
01:08:53,529 --> 01:08:56,259
going<font color="#E5E5E5"> hey even though you've operated</font>

1886
01:08:54,640 --> 01:08:58,210
<font color="#CCCCCC">your</font><font color="#E5E5E5"> peering link it's still going there</font>

1887
01:08:56,259 --> 01:08:59,410
<font color="#E5E5E5">have you worked out any system for</font><font color="#CCCCCC"> just</font>

1888
01:08:58,210 --> 01:09:01,149
keeping<font color="#E5E5E5"> track</font><font color="#CCCCCC"> of things</font><font color="#E5E5E5"> you know what</font>

1889
01:08:59,410 --> 01:09:03,399
you've<font color="#CCCCCC"> done</font><font color="#E5E5E5"> that's</font><font color="#CCCCCC"> quote-unquote</font><font color="#E5E5E5"> fine</font>

1890
01:09:01,149 --> 01:09:05,528
<font color="#E5E5E5">tuning or deviation from policy versus</font>

1891
01:09:03,399 --> 01:09:07,028
what is your actual policy yep<font color="#CCCCCC"> yeah</font>

1892
01:09:05,529 --> 01:09:08,049
we've<font color="#CCCCCC"> we've had it we've</font><font color="#E5E5E5"> done a two</font>

1893
01:09:07,029 --> 01:09:10,239
<font color="#E5E5E5">different ways we've had two different</font>

1894
01:09:08,049 --> 01:09:12,189
requests one was graph<font color="#CCCCCC"> gold one was</font>

1895
01:09:10,238 --> 01:09:14,318
tabular so we did it<font color="#CCCCCC"> in a video which</font>

1896
01:09:12,189 --> 01:09:15,759
was topology the network with a whole

1897
01:09:14,319 --> 01:09:17,859
bunch<font color="#CCCCCC"> of</font><font color="#E5E5E5"> text notes and all the right</font>

1898
01:09:15,759 --> 01:09:20,020
router locations and that<font color="#E5E5E5"> worked for</font>

1899
01:09:17,859 --> 01:09:21,489
<font color="#E5E5E5">that the engineer who asked for</font><font color="#CCCCCC"> that</font>

1900
01:09:20,020 --> 01:09:23,410
wanted something<font color="#E5E5E5"> he could just put up on</font>

1901
01:09:21,488 --> 01:09:25,358
the wall for<font color="#E5E5E5"> his other people and had a</font>

1902
01:09:23,410 --> 01:09:26,738
place they can<font color="#E5E5E5"> quickly look the other</font>

1903
01:09:25,359 --> 01:09:28,120
way we did it<font color="#CCCCCC"> was we</font><font color="#E5E5E5"> just did it in a</font>

1904
01:09:26,738 --> 01:09:30,009
simple Excel spreadsheet where we listed

1905
01:09:28,120 --> 01:09:32,380
you know we did a table of the<font color="#CCCCCC"> region's</font>

1906
01:09:30,009 --> 01:09:34,210
<font color="#E5E5E5">the ISPs who won the tie breakers and</font>

1907
01:09:32,380 --> 01:09:36,339
then who got who got the additional

1908
01:09:34,210 --> 01:09:38,890
<font color="#E5E5E5">tweaks and then when we added</font>

1909
01:09:36,339 --> 01:09:40,568
communities we add them on so I don't

1910
01:09:38,890 --> 01:09:42,310
<font color="#E5E5E5">think either of them is perfect both of</font>

1911
01:09:40,569 --> 01:09:43,719
them were<font color="#E5E5E5"> satisfactory to the client who</font>

1912
01:09:42,310 --> 01:09:45,460
paid us<font color="#CCCCCC"> for that work and so we stopped</font>

1913
01:09:43,719 --> 01:09:46,779
there<font color="#E5E5E5"> but I have not yet found the</font>

1914
01:09:45,460 --> 01:09:48,880
<font color="#CCCCCC">perfect</font><font color="#E5E5E5"> solution I really wish I</font><font color="#CCCCCC"> had</font>

1915
01:09:46,779 --> 01:09:51,839
<font color="#CCCCCC">it's nothing automatic</font><font color="#E5E5E5"> nothing that</font>

1916
01:09:48,880 --> 01:09:55,480
updates these are deviations from policy

1917
01:09:51,839 --> 01:09:57,690
<font color="#CCCCCC">so obviously it</font><font color="#E5E5E5"> should be trivial to</font>

1918
01:09:55,480 --> 01:09:59,949
parse your configuration and pull that

1919
01:09:57,690 --> 01:10:01,870
the question though<font color="#E5E5E5"> is so when we</font>

1920
01:09:59,949 --> 01:10:03,280
<font color="#CCCCCC">actually had to do in</font><font color="#E5E5E5"> the ten in the</font>

1921
01:10:01,870 --> 01:10:05,140
<font color="#E5E5E5">tabular version we actually every</font><font color="#CCCCCC"> time</font>

1922
01:10:03,280 --> 01:10:06,610
we made a<font color="#E5E5E5"> change we add it it was</font><font color="#CCCCCC"> Excel</font>

1923
01:10:05,140 --> 01:10:07,960
so we<font color="#CCCCCC"> add another tab you of SELEX they</font>

1924
01:10:06,610 --> 01:10:09,730
need a history going<font color="#CCCCCC"> back Oh what</font><font color="#E5E5E5"> just</font>

1925
01:10:07,960 --> 01:10:11,860
change from here<font color="#E5E5E5"> to here</font><font color="#CCCCCC"> so we had to</font>

1926
01:10:09,730 --> 01:10:13,360
keep it<font color="#E5E5E5"> you</font><font color="#CCCCCC"> know we put the</font><font color="#E5E5E5"> the tab on</font>

1927
01:10:11,860 --> 01:10:15,219
<font color="#CCCCCC">the bottom the</font><font color="#E5E5E5"> Excel was the actual date</font>

1928
01:10:13,360 --> 01:10:16,599
and then the changes when we<font color="#E5E5E5"> made</font>

1929
01:10:15,219 --> 01:10:17,830
<font color="#E5E5E5">changes we highlighted those cells</font><font color="#CCCCCC"> in</font>

1930
01:10:16,600 --> 01:10:19,300
yellow so when you go<font color="#CCCCCC"> from day to</font><font color="#E5E5E5"> day</font>

1931
01:10:17,830 --> 01:10:20,949
that's pretty easy<font color="#E5E5E5"> to see what what the</font>

1932
01:10:19,300 --> 01:10:24,310
Delta<font color="#E5E5E5"> was so if you have a bad shift you</font>

1933
01:10:20,949 --> 01:10:26,110
<font color="#E5E5E5">can always roll back I</font><font color="#CCCCCC"> can</font><font color="#E5E5E5"> see ways you</font>

1934
01:10:24,310 --> 01:10:29,380
can do<font color="#E5E5E5"> that in automated fashion that</font>

1935
01:10:26,110 --> 01:10:31,330
<font color="#E5E5E5">makes sense we didn't haven't spent the</font>

1936
01:10:29,380 --> 01:10:33,880
<font color="#E5E5E5">time doing it but but representing the</font>

1937
01:10:31,330 --> 01:10:35,980
<font color="#E5E5E5">information</font><font color="#CCCCCC"> I still</font><font color="#E5E5E5"> don't have a clear</font>

1938
01:10:33,880 --> 01:10:37,310
<font color="#CCCCCC">picture</font><font color="#E5E5E5"> if I had find unlimited time and</font>

1939
01:10:35,980 --> 01:10:38,389
funds to<font color="#E5E5E5"> do</font><font color="#CCCCCC"> it I don't know how I'm</font>

1940
01:10:37,310 --> 01:10:39,680
<font color="#CCCCCC">then it properly</font><font color="#E5E5E5"> said that everybody</font>

1941
01:10:38,390 --> 01:10:41,630
would understand<font color="#CCCCCC"> it's it's still a</font>

1942
01:10:39,680 --> 01:10:43,310
<font color="#E5E5E5">little bit tricky so</font><font color="#CCCCCC"> you have a finite</font>

1943
01:10:41,630 --> 01:10:44,840
group<font color="#E5E5E5"> of people they're using this</font>

1944
01:10:43,310 --> 01:10:45,500
information<font color="#E5E5E5"> and</font><font color="#CCCCCC"> hopefully they all know</font>

1945
01:10:44,840 --> 01:10:51,200
what they're doing

1946
01:10:45,500 --> 01:10:53,330
unfortunately or if<font color="#CCCCCC"> you're internet</font><font color="#E5E5E5"> you</font>

1947
01:10:51,200 --> 01:10:55,370
have a<font color="#E5E5E5"> magic piece of software that</font><font color="#CCCCCC"> does</font>

1948
01:10:53,330 --> 01:10:57,200
<font color="#E5E5E5">it actually what I was going to</font><font color="#CCCCCC"> mention</font>

1949
01:10:55,370 --> 01:11:00,170
what I was<font color="#E5E5E5"> gonna mention was</font><font color="#CCCCCC"> the fact</font>

1950
01:10:57,200 --> 01:11:04,070
that one thing that<font color="#CCCCCC"> you know that we do</font>

1951
01:11:00,170 --> 01:11:06,320
actually<font color="#E5E5E5"> is we don't we don't tell</font><font color="#CCCCCC"> that</font>

1952
01:11:04,070 --> 01:11:08,780
<font color="#CCCCCC">to</font><font color="#E5E5E5"> routers and configure at the command</font>

1953
01:11:06,320 --> 01:11:12,559
line<font color="#E5E5E5"> we do everything in a</font><font color="#CCCCCC"> TFTP file</font>

1954
01:11:08,780 --> 01:11:14,179
that we then download<font color="#E5E5E5"> and one thing went</font>

1955
01:11:12,560 --> 01:11:16,940
wanted one thing<font color="#E5E5E5"> that lets you do is it</font>

1956
01:11:14,180 --> 01:11:18,530
<font color="#CCCCCC">lets you</font><font color="#E5E5E5"> put comments in the</font><font color="#CCCCCC"> TFTP yep</font>

1957
01:11:16,940 --> 01:11:21,290
you know just like you<font color="#CCCCCC"> put code comments</font>

1958
01:11:18,530 --> 01:11:22,790
<font color="#E5E5E5">in a in a program yep</font>

1959
01:11:21,290 --> 01:11:24,740
in the<font color="#E5E5E5"> Juniper world you have a</font>

1960
01:11:22,790 --> 01:11:26,120
wonderful<font color="#CCCCCC"> way to do comments but the</font>

1961
01:11:24,740 --> 01:11:27,920
force in<font color="#CCCCCC"> Cisco well that's why I</font><font color="#E5E5E5"> said</font>

1962
01:11:26,120 --> 01:11:29,360
the Cisco<font color="#E5E5E5"> world</font><font color="#CCCCCC"> you saw in my examples</font>

1963
01:11:27,920 --> 01:11:31,910
of configurations<font color="#CCCCCC"> I black but I put a</font>

1964
01:11:29,360 --> 01:11:33,589
description<font color="#CCCCCC"> tag so and you can you</font><font color="#E5E5E5"> can</font>

1965
01:11:31,910 --> 01:11:34,970
stack<font color="#CCCCCC"> multiple descriptions</font><font color="#E5E5E5"> in a route</font>

1966
01:11:33,590 --> 01:11:36,710
map<font color="#E5E5E5"> which is kind of cool so if you</font>

1967
01:11:34,970 --> 01:11:37,940
<font color="#E5E5E5">really want a</font><font color="#CCCCCC"> very you want a long essay</font>

1968
01:11:36,710 --> 01:11:39,200
<font color="#E5E5E5">about what you did I guess</font><font color="#CCCCCC"> you could do</font>

1969
01:11:37,940 --> 01:11:41,269
that<font color="#CCCCCC"> put</font><font color="#E5E5E5"> reference your take a number</font>

1970
01:11:39,200 --> 01:11:42,380
typically<font color="#CCCCCC"> will put in a few were</font>

1971
01:11:41,270 --> 01:11:43,850
description<font color="#CCCCCC"> or reference to take a</font>

1972
01:11:42,380 --> 01:11:46,550
number<font color="#E5E5E5"> and go back to ticket if you need</font>

1973
01:11:43,850 --> 01:11:48,230
history type of thing<font color="#E5E5E5"> but if anybody is</font>

1974
01:11:46,550 --> 01:11:50,150
curious about really<font color="#CCCCCC"> large-scale</font>

1975
01:11:48,230 --> 01:11:51,650
<font color="#E5E5E5">automated systems the</font><font color="#CCCCCC"> internet guys and</font>

1976
01:11:50,150 --> 01:11:53,719
there it was<font color="#CCCCCC"> its Miro Miro now right</font>

1977
01:11:51,650 --> 01:11:55,610
<font color="#E5E5E5">yeah the Miro stuff does a lot of</font>

1978
01:11:53,720 --> 01:11:58,190
automated<font color="#CCCCCC"> base stuff and on their own</font>

1979
01:11:55,610 --> 01:12:00,530
<font color="#E5E5E5">backbones but way out of the scope what</font>

1980
01:11:58,190 --> 01:12:03,280
we're talking<font color="#CCCCCC"> about here yep</font><font color="#E5E5E5"> and other</font>

1981
01:12:00,530 --> 01:12:03,280
<font color="#E5E5E5">questions or comments</font>

1982
01:12:04,750 --> 01:12:10,010
okay then you<font color="#E5E5E5"> got one come on</font><font color="#CCCCCC"> up</font><font color="#E5E5E5"> we have</font>

1983
01:12:07,940 --> 01:12:11,839
to actually<font color="#CCCCCC"> Isis last</font><font color="#E5E5E5"> I have six</font>

1984
01:12:10,010 --> 01:12:13,430
questions<font color="#CCCCCC"> buzz it's</font><font color="#E5E5E5"> I don't want to be</font>

1985
01:12:11,840 --> 01:12:16,930
taking people<font color="#CCCCCC"> sir how much what is</font><font color="#E5E5E5"> the</font>

1986
01:12:13,430 --> 01:12:19,010
<font color="#E5E5E5">way opposed to him</font><font color="#CCCCCC"> yeah</font><font color="#E5E5E5"> 15 minutes okay</font>

1987
01:12:16,930 --> 01:12:20,540
<font color="#E5E5E5">so I have some colleagues</font><font color="#CCCCCC"> who do this</font>

1988
01:12:19,010 --> 01:12:22,190
<font color="#CCCCCC">sort of things</font><font color="#E5E5E5"> basically it's their</font>

1989
01:12:20,540 --> 01:12:25,190
full-time<font color="#E5E5E5"> job yeah</font>

1990
01:12:22,190 --> 01:12:27,950
how<font color="#E5E5E5"> often does somebody in your client</font>

1991
01:12:25,190 --> 01:12:31,190
base have to do this with<font color="#E5E5E5"> this system</font>

1992
01:12:27,950 --> 01:12:33,889
<font color="#E5E5E5">such minimal tuning we can go months</font>

1993
01:12:31,190 --> 01:12:35,660
without touching it<font color="#E5E5E5"> if if traffic</font>

1994
01:12:33,890 --> 01:12:36,980
<font color="#E5E5E5">patterns shift so if we if we</font>

1995
01:12:35,660 --> 01:12:38,450
<font color="#E5E5E5">significantly increase the amount of</font>

1996
01:12:36,980 --> 01:12:41,570
traffic we're pushing the thing about it

1997
01:12:38,450 --> 01:12:44,030
is it<font color="#E5E5E5"> is it</font><font color="#CCCCCC"> grows</font><font color="#E5E5E5"> once you have it set</font>

1998
01:12:41,570 --> 01:12:45,049
<font color="#E5E5E5">up if your internal</font><font color="#CCCCCC"> traffic grows the</font>

1999
01:12:44,030 --> 01:12:47,420
utilization pretty much grows

2000
01:12:45,050 --> 01:12:49,550
<font color="#E5E5E5">proportionately usually when there's a</font>

2001
01:12:47,420 --> 01:12:50,930
change<font color="#E5E5E5"> is if you've made if you've made</font>

2002
01:12:49,550 --> 01:12:52,640
a<font color="#E5E5E5"> physical change where maybe you've</font>

2003
01:12:50,930 --> 01:12:54,770
increased your link to one of<font color="#CCCCCC"> your eyes</font>

2004
01:12:52,640 --> 01:12:55,910
<font color="#E5E5E5">peas or you made a contractual change</font>

2005
01:12:54,770 --> 01:12:57,230
you've<font color="#CCCCCC"> increase</font><font color="#E5E5E5"> your command to reduce</font>

2006
01:12:55,910 --> 01:12:58,940
the rate or if there's<font color="#E5E5E5"> been a</font>

2007
01:12:57,230 --> 01:13:01,759
significant<font color="#CCCCCC"> change</font><font color="#E5E5E5"> on a third-party</font>

2008
01:12:58,940 --> 01:13:03,679
<font color="#CCCCCC">network maybe an</font><font color="#E5E5E5"> ISP has</font><font color="#CCCCCC"> merged with</font>

2009
01:13:01,760 --> 01:13:06,260
<font color="#CCCCCC">another ISP</font><font color="#E5E5E5"> and they've collapsed a SNS</font>

2010
01:13:03,680 --> 01:13:07,730
<font color="#E5E5E5">or a large broadband provider just</font>

2011
01:13:06,260 --> 01:13:08,990
shifted a lot<font color="#E5E5E5"> of their eyeballs from one</font>

2012
01:13:07,730 --> 01:13:11,509
asset<font color="#E5E5E5"> is the stuff we've seen</font><font color="#CCCCCC"> the past</font>

2013
01:13:08,990 --> 01:13:14,210
few<font color="#CCCCCC"> years</font><font color="#E5E5E5"> obviously we're a large</font>

2014
01:13:11,510 --> 01:13:17,240
broadband provider shift<font color="#E5E5E5"> traffic to</font>

2015
01:13:14,210 --> 01:13:19,010
another<font color="#E5E5E5"> major</font><font color="#CCCCCC"> ASN but if things remain</font>

2016
01:13:17,240 --> 01:13:21,290
pretty stable and your<font color="#CCCCCC"> traffic just</font>

2017
01:13:19,010 --> 01:13:23,840
growing at a steady steady rate<font color="#CCCCCC"> we've</font>

2018
01:13:21,290 --> 01:13:26,180
definitely gone<font color="#E5E5E5"> we've gone a couple</font>

2019
01:13:23,840 --> 01:13:29,030
months<font color="#E5E5E5"> without even touching it yeah and</font>

2020
01:13:26,180 --> 01:13:30,230
actually<font color="#CCCCCC"> I'm actually</font><font color="#E5E5E5"> uh my old stomping</font>

2021
01:13:29,030 --> 01:13:32,330
grounds they went a couple<font color="#E5E5E5"> years without</font>

2022
01:13:30,230 --> 01:13:33,830
touching it<font color="#E5E5E5"> why I set this up when I</font>

2023
01:13:32,330 --> 01:13:35,180
were<font color="#CCCCCC"> working</font><font color="#E5E5E5"> for Sony Online and</font><font color="#CCCCCC"> then I</font>

2024
01:13:33,830 --> 01:13:36,410
came back<font color="#E5E5E5"> in</font><font color="#CCCCCC"> two years later to answer</font>

2025
01:13:35,180 --> 01:13:38,090
some<font color="#CCCCCC"> questions</font><font color="#E5E5E5"> and they haven't even</font>

2026
01:13:36,410 --> 01:13:39,230
<font color="#E5E5E5">made a single change</font><font color="#CCCCCC"> all the metrics</font>

2027
01:13:38,090 --> 01:13:42,650
<font color="#CCCCCC">that</font><font color="#E5E5E5"> I'd set up for two years that was</font>

2028
01:13:39,230 --> 01:13:44,860
from the period 2005<font color="#E5E5E5"> to 2007 just stayed</font>

2029
01:13:42,650 --> 01:13:44,860
steady

2030
01:13:46,170 --> 01:13:52,550
I'll just speed up through my questions

2031
01:13:48,449 --> 01:13:52,549
<font color="#E5E5E5">that this third one was about basically</font>

2032
01:13:53,630 --> 01:14:00,330
they if you're making<font color="#CCCCCC"> these transitions</font>

2033
01:13:58,230 --> 01:14:01,619
<font color="#CCCCCC">it seems like at the</font><font color="#E5E5E5"> transit the</font><font color="#CCCCCC"> time</font>

2034
01:14:00,330 --> 01:14:03,150
where you're doing<font color="#E5E5E5"> it at peak time it</font>

2035
01:14:01,619 --> 01:14:07,009
seems<font color="#E5E5E5"> like it's quite likely that they</font>

2036
01:14:03,150 --> 01:14:09,839
would be suffering<font color="#E5E5E5"> performance issues</font>

2037
01:14:07,010 --> 01:14:11,670
<font color="#E5E5E5">without naming names that has has</font>

2038
01:14:09,840 --> 01:14:13,290
everything<font color="#CCCCCC"> gone okay in that transition</font>

2039
01:14:11,670 --> 01:14:14,250
<font color="#E5E5E5">time</font><font color="#CCCCCC"> at like at the moment you make the</font>

2040
01:14:13,290 --> 01:14:15,179
transition<font color="#CCCCCC"> at the moment that</font><font color="#E5E5E5"> you</font>

2041
01:14:14,250 --> 01:14:16,920
because you're<font color="#CCCCCC"> doing</font><font color="#E5E5E5"> all this</font>

2042
01:14:15,179 --> 01:14:19,350
experimentation right right<font color="#E5E5E5"> even in that</font>

2043
01:14:16,920 --> 01:14:22,560
very<font color="#E5E5E5"> simple example you had 100 200 300</font>

2044
01:14:19,350 --> 01:14:23,790
300 200 100 100 200 300 and<font color="#E5E5E5"> then you can</font>

2045
01:14:22,560 --> 01:14:27,210
imagine<font color="#E5E5E5"> if you have</font><font color="#CCCCCC"> something slightly</font>

2046
01:14:23,790 --> 01:14:29,550
larger<font color="#E5E5E5"> it could take a could take a hit</font>

2047
01:14:27,210 --> 01:14:32,070
<font color="#CCCCCC">um no you know sir</font><font color="#E5E5E5"> if if you do it if</font>

2048
01:14:29,550 --> 01:14:33,960
you do it<font color="#CCCCCC"> slowly you do it softly slowly</font>

2049
01:14:32,070 --> 01:14:35,670
and gradually<font color="#E5E5E5"> now the very first time</font>

2050
01:14:33,960 --> 01:14:37,199
you might<font color="#E5E5E5"> cause a hit but if you've done</font>

2051
01:14:35,670 --> 01:14:39,119
a<font color="#E5E5E5"> couple times you do it slowly</font><font color="#CCCCCC"> you know</font>

2052
01:14:37,199 --> 01:14:41,190
you make a change<font color="#E5E5E5"> clear soft</font><font color="#CCCCCC"> and you</font>

2053
01:14:39,119 --> 01:14:42,509
wait and<font color="#CCCCCC"> it work from</font><font color="#E5E5E5"> 3 minutes to 20</font>

2054
01:14:41,190 --> 01:14:44,250
minutes depending<font color="#E5E5E5"> on if you're running a</font>

2055
01:14:42,510 --> 01:14:47,130
network<font color="#E5E5E5"> that Richard happens to be</font>

2056
01:14:44,250 --> 01:14:48,420
<font color="#E5E5E5">working on or a</font><font color="#CCCCCC"> smaller size network you</font>

2057
01:14:47,130 --> 01:14:54,750
give it some<font color="#E5E5E5"> time</font><font color="#CCCCCC"> you clear one session</font>

2058
01:14:48,420 --> 01:14:56,969
at a<font color="#CCCCCC"> time</font><font color="#E5E5E5"> it's it's fairly safe truth be</font>

2059
01:14:54,750 --> 01:14:58,949
told there is<font color="#CCCCCC"> a chance depending on your</font>

2060
01:14:56,969 --> 01:15:01,199
<font color="#E5E5E5">network</font><font color="#CCCCCC"> that for a</font><font color="#E5E5E5"> brief</font><font color="#CCCCCC"> period of time</font>

2061
01:14:58,949 --> 01:15:04,500
<font color="#E5E5E5">you might actually have routing</font><font color="#CCCCCC"> leaves a</font>

2062
01:15:01,199 --> 01:15:06,809
brief period<font color="#CCCCCC"> of time maybe a portion of</font>

2063
01:15:04,500 --> 01:15:08,040
a second up to<font color="#CCCCCC"> five seconds</font><font color="#E5E5E5"> where two</font>

2064
01:15:06,810 --> 01:15:09,210
routers are still<font color="#E5E5E5"> deciding on the best</font>

2065
01:15:08,040 --> 01:15:10,830
<font color="#CCCCCC">path and they each</font><font color="#E5E5E5"> think each other is</font>

2066
01:15:09,210 --> 01:15:14,520
the<font color="#CCCCCC"> best path</font><font color="#E5E5E5"> so they send packets back</font>

2067
01:15:10,830 --> 01:15:17,010
and forth<font color="#E5E5E5"> that happens it definitely</font>

2068
01:15:14,520 --> 01:15:20,040
happens it<font color="#CCCCCC"> usually is</font><font color="#E5E5E5"> inconsequential</font>

2069
01:15:17,010 --> 01:15:21,480
though<font color="#CCCCCC"> meaning if you have if</font><font color="#E5E5E5"> you have a</font>

2070
01:15:20,040 --> 01:15:23,219
lot of<font color="#E5E5E5"> state-based here's what I've seen</font>

2071
01:15:21,480 --> 01:15:24,570
<font color="#E5E5E5">using a lot of state-based traffic so</font>

2072
01:15:23,219 --> 01:15:26,550
I'm doing<font color="#CCCCCC"> four gigabit per second on</font>

2073
01:15:24,570 --> 01:15:28,710
this link<font color="#E5E5E5"> and I make a change</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> don't</font>

2074
01:15:26,550 --> 01:15:29,909
have<font color="#E5E5E5"> it drop to zero and a link back up</font>

2075
01:15:28,710 --> 01:15:33,510
I don't<font color="#E5E5E5"> lose a whole bunch of customers</font>

2076
01:15:29,909 --> 01:15:34,679
so at Sony<font color="#E5E5E5"> online I can name them</font>

2077
01:15:33,510 --> 01:15:36,090
because<font color="#CCCCCC"> I was an</font><font color="#E5E5E5"> employee there and for</font>

2078
01:15:34,679 --> 01:15:38,250
a<font color="#E5E5E5"> couple of that so we were doing</font>

2079
01:15:36,090 --> 01:15:41,100
<font color="#E5E5E5">udp-based games EverQuest planet-sized</font>

2080
01:15:38,250 --> 01:15:43,830
<font color="#E5E5E5">all those galaxies and we had a very</font>

2081
01:15:41,100 --> 01:15:46,710
<font color="#E5E5E5">aggressive it was all use all udp-based</font>

2082
01:15:43,830 --> 01:15:48,860
<font color="#CCCCCC">so we weren't relying</font><font color="#E5E5E5"> upon she's be you</font>

2083
01:15:46,710 --> 01:15:51,110
know keep lives and kernel-based

2084
01:15:48,860 --> 01:15:53,369
<font color="#E5E5E5">retransmits and we had a very aggressive</font>

2085
01:15:51,110 --> 01:15:55,559
<font color="#E5E5E5">udp-based</font><font color="#CCCCCC"> keepalive scheme because there</font>

2086
01:15:53,369 --> 01:15:56,710
was a there was<font color="#CCCCCC"> a concept</font><font color="#E5E5E5"> of fairness in</font>

2087
01:15:55,560 --> 01:15:58,239
the game if a client is

2088
01:15:56,710 --> 01:16:00,370
next<font color="#E5E5E5"> from the network</font><font color="#CCCCCC"> the server</font><font color="#E5E5E5"> should</font>

2089
01:15:58,239 --> 01:16:02,259
detect<font color="#E5E5E5"> that very very rapidly otherwise</font>

2090
01:16:00,370 --> 01:16:03,280
you might<font color="#CCCCCC"> have a player who can't react</font>

2091
01:16:02,260 --> 01:16:05,380
to<font color="#E5E5E5"> something and there's a monster</font>

2092
01:16:03,280 --> 01:16:07,989
bashing on him and<font color="#E5E5E5"> he's not clicking</font>

2093
01:16:05,380 --> 01:16:10,330
back<font color="#CCCCCC"> lightning bold you</font><font color="#E5E5E5"> know and he's</font>

2094
01:16:07,989 --> 01:16:12,718
<font color="#CCCCCC">getting killed unfairly so um so we</font><font color="#E5E5E5"> just</font>

2095
01:16:10,330 --> 01:16:15,160
<font color="#CCCCCC">connect users</font><font color="#E5E5E5"> anywhere from anywhere</font>

2096
01:16:12,719 --> 01:16:17,590
anywhere as early as<font color="#E5E5E5"> two seconds all the</font>

2097
01:16:15,160 --> 01:16:18,940
way up to as you as you<font color="#CCCCCC"> increased the</font>

2098
01:16:17,590 --> 01:16:21,070
<font color="#E5E5E5">duration</font><font color="#CCCCCC"> from two to thirty seconds it</font>

2099
01:16:18,940 --> 01:16:22,870
was<font color="#E5E5E5"> a exponentially greater chance that</font>

2100
01:16:21,070 --> 01:16:24,370
<font color="#CCCCCC">we would detect the disconnect</font><font color="#E5E5E5"> so</font>

2101
01:16:22,870 --> 01:16:26,230
<font color="#E5E5E5">usually between two to ten seconds</font><font color="#CCCCCC"> we</font>

2102
01:16:24,370 --> 01:16:29,469
<font color="#CCCCCC">would</font><font color="#E5E5E5"> catch almost everybody within</font><font color="#CCCCCC"> 30</font>

2103
01:16:26,230 --> 01:16:30,910
guarantee they're gone<font color="#CCCCCC"> but we would we</font>

2104
01:16:29,469 --> 01:16:32,290
can do this change and we'd have less

2105
01:16:30,910 --> 01:16:33,969
<font color="#E5E5E5">than two seconds of impact so</font><font color="#CCCCCC"> we would</font>

2106
01:16:32,290 --> 01:16:35,560
never see a player count drop that<font color="#E5E5E5"> was</font>

2107
01:16:33,969 --> 01:16:37,239
our key metric at Sony was how<font color="#E5E5E5"> many</font>

2108
01:16:35,560 --> 01:16:38,530
players<font color="#E5E5E5"> are online right now and if</font>

2109
01:16:37,239 --> 01:16:40,209
there's ever more<font color="#E5E5E5"> than</font><font color="#CCCCCC"> 2,000</font>

2110
01:16:38,530 --> 01:16:42,070
simultaneous dropped and raised alarm

2111
01:16:40,210 --> 01:16:43,360
and one of us got<font color="#E5E5E5"> woken up so</font><font color="#CCCCCC"> we were</font>

2112
01:16:42,070 --> 01:16:45,280
able<font color="#CCCCCC"> to do this quite a few times</font>

2113
01:16:43,360 --> 01:16:47,349
without causing<font color="#CCCCCC"> clear</font><font color="#E5E5E5"> count drops in</font>

2114
01:16:45,280 --> 01:16:48,849
India in the<font color="#E5E5E5"> streaming in this large</font>

2115
01:16:47,350 --> 01:16:49,960
streaming world which is where you're

2116
01:16:48,850 --> 01:16:52,360
seeing the<font color="#E5E5E5"> other high bandwidth players</font>

2117
01:16:49,960 --> 01:16:53,650
right<font color="#E5E5E5"> now it's all tcp-based and</font>

2118
01:16:52,360 --> 01:16:56,349
hopefully it's<font color="#E5E5E5"> all buffered so maybe two</font>

2119
01:16:53,650 --> 01:16:59,620
<font color="#E5E5E5">three seconds of packet loss might not</font>

2120
01:16:56,350 --> 01:17:01,480
impact you<font color="#CCCCCC"> but in</font><font color="#E5E5E5"> general there was a</font>

2121
01:16:59,620 --> 01:17:02,980
<font color="#E5E5E5">worst-case scenarios it's it's</font><font color="#CCCCCC"> very rare</font>

2122
01:17:01,480 --> 01:17:04,030
<font color="#CCCCCC">especially with some of the some of the</font>

2123
01:17:02,980 --> 01:17:05,919
smaller cause<font color="#CCCCCC"> of net which we're talking</font>

2124
01:17:04,030 --> 01:17:08,460
<font color="#E5E5E5">at maybe</font><font color="#CCCCCC"> four border routers and maybe</font>

2125
01:17:05,920 --> 01:17:11,080
four core routers in one regional<font color="#E5E5E5"> area</font>

2126
01:17:08,460 --> 01:17:13,960
<font color="#CCCCCC">but</font><font color="#E5E5E5"> look if you have 75 hours across the</font>

2127
01:17:11,080 --> 01:17:15,820
country this<font color="#CCCCCC"> is you want to do a little</font>

2128
01:17:13,960 --> 01:17:19,120
<font color="#E5E5E5">more than this anyway yeah this is</font>

2129
01:17:15,820 --> 01:17:20,860
really<font color="#E5E5E5"> funny</font><font color="#CCCCCC"> well the reason I'm asking</font>

2130
01:17:19,120 --> 01:17:22,480
all<font color="#E5E5E5"> these is anyone was around five</font>

2131
01:17:20,860 --> 01:17:24,339
years<font color="#E5E5E5"> ago remember out science and the</font>

2132
01:17:22,480 --> 01:17:27,218
whole bunch<font color="#E5E5E5"> of folks would come here and</font>

2133
01:17:24,340 --> 01:17:31,840
<font color="#E5E5E5">talk about</font><font color="#CCCCCC"> load balancing</font><font color="#E5E5E5"> yeah with an</font>

2134
01:17:27,219 --> 01:17:33,070
automated tool and<font color="#E5E5E5"> the they were saying</font>

2135
01:17:31,840 --> 01:17:35,020
<font color="#CCCCCC">looking oh you have to be</font><font color="#E5E5E5"> doing these</font>

2136
01:17:33,070 --> 01:17:36,309
<font color="#E5E5E5">things</font><font color="#CCCCCC"> on a minute-by-minute basis</font>

2137
01:17:35,020 --> 01:17:37,810
<font color="#E5E5E5">because you're never sure what's</font>

2138
01:17:36,310 --> 01:17:39,700
happening<font color="#E5E5E5"> on the other side and you know</font>

2139
01:17:37,810 --> 01:17:40,960
the performance<font color="#E5E5E5"> is degrading so they're</font>

2140
01:17:39,700 --> 01:17:43,210
saying it was<font color="#E5E5E5"> something that you have to</font>

2141
01:17:40,960 --> 01:17:45,130
do all the time<font color="#CCCCCC"> and heck you're gonna</font>

2142
01:17:43,210 --> 01:17:46,480
have to<font color="#E5E5E5"> spend money</font><font color="#CCCCCC"> on getting</font><font color="#E5E5E5"> various</font>

2143
01:17:45,130 --> 01:17:48,250
you know flow tools and<font color="#E5E5E5"> this and</font><font color="#CCCCCC"> that</font>

2144
01:17:46,480 --> 01:17:49,419
<font color="#E5E5E5">you just buy this box it will take care</font>

2145
01:17:48,250 --> 01:17:51,730
<font color="#E5E5E5">of</font><font color="#CCCCCC"> it you know you don't</font><font color="#E5E5E5"> have to do this</font>

2146
01:17:49,420 --> 01:17:53,080
<font color="#CCCCCC">experimentation you know there's all</font>

2147
01:17:51,730 --> 01:17:55,089
sorts of<font color="#E5E5E5"> things you</font><font color="#CCCCCC"> just</font><font color="#E5E5E5"> took care of</font>

2148
01:17:53,080 --> 01:17:56,410
all by itself<font color="#E5E5E5"> yeah and you know a few</font>

2149
01:17:55,090 --> 01:17:58,090
<font color="#CCCCCC">hundred</font><font color="#E5E5E5"> thousand euro there's really not</font>

2150
01:17:56,410 --> 01:17:59,739
a big<font color="#CCCCCC"> deal necessarily on</font><font color="#E5E5E5"> the grand</font>

2151
01:17:58,090 --> 01:18:00,750
scheme of<font color="#CCCCCC"> things so</font><font color="#E5E5E5"> assuming</font><font color="#CCCCCC"> that money</font>

2152
01:17:59,739 --> 01:18:03,160
is not a<font color="#E5E5E5"> problem</font>

2153
01:18:00,750 --> 01:18:04,040
were they just<font color="#E5E5E5"> wrong that</font><font color="#CCCCCC"> this is not</font>

2154
01:18:03,160 --> 01:18:06,349
the

2155
01:18:04,040 --> 01:18:07,940
that the problem exists clearly<font color="#E5E5E5"> but the</font>

2156
01:18:06,350 --> 01:18:09,530
problem does<font color="#CCCCCC"> not require</font><font color="#E5E5E5"> that kind of a</font>

2157
01:18:07,940 --> 01:18:12,889
<font color="#E5E5E5">solution was something more like this so</font>

2158
01:18:09,530 --> 01:18:16,519
<font color="#CCCCCC">the the about science and</font><font color="#E5E5E5"> the FCP net</font>

2159
01:18:12,890 --> 01:18:18,770
<font color="#CCCCCC">vmg you know intern app FCP guys</font><font color="#E5E5E5"> they</font>

2160
01:18:16,520 --> 01:18:21,200
they<font color="#CCCCCC"> are making</font><font color="#E5E5E5"> they're making</font><font color="#CCCCCC"> shifts so</font>

2161
01:18:18,770 --> 01:18:22,850
shifting shifting in<font color="#E5E5E5"> this way if you</font>

2162
01:18:21,200 --> 01:18:25,190
have a catch-all ship for<font color="#CCCCCC"> example</font><font color="#E5E5E5"> you're</font>

2163
01:18:22,850 --> 01:18:27,230
shifting<font color="#E5E5E5"> 280,000 routes the route</font>

2164
01:18:25,190 --> 01:18:29,239
science FCP guys are shifting maybe one

2165
01:18:27,230 --> 01:18:31,459
route at a time so the<font color="#CCCCCC"> impact is</font><font color="#E5E5E5"> much</font>

2166
01:18:29,239 --> 01:18:34,250
less severe<font color="#CCCCCC"> they're</font><font color="#E5E5E5"> there</font><font color="#CCCCCC"> in many cases</font>

2167
01:18:31,460 --> 01:18:35,690
they're injecting a slash 24 / 22 and I

2168
01:18:34,250 --> 01:18:39,800
don't<font color="#CCCCCC"> know maybe</font><font color="#E5E5E5"> they're doing one per</font>

2169
01:18:35,690 --> 01:18:41,450
minute<font color="#CCCCCC"> one per</font><font color="#E5E5E5"> 10 minutes</font><font color="#CCCCCC"> that so it's</font>

2170
01:18:39,800 --> 01:18:43,640
not not<font color="#E5E5E5"> gonna have as much</font><font color="#CCCCCC"> impact</font>

2171
01:18:41,450 --> 01:18:45,320
they're not making<font color="#CCCCCC"> 280,000 mouths at one</font>

2172
01:18:43,640 --> 01:18:47,239
time on say they can't<font color="#CCCCCC"> even the FCP</font>

2173
01:18:45,320 --> 01:18:48,200
can't even keep track<font color="#CCCCCC"> of that many</font><font color="#E5E5E5"> I</font>

2174
01:18:47,239 --> 01:18:49,849
don't<font color="#E5E5E5"> want to</font><font color="#CCCCCC"> represent the number but</font>

2175
01:18:48,200 --> 01:18:52,849
<font color="#E5E5E5">it's nowhere near</font><font color="#CCCCCC"> 200 thousand but you</font>

2176
01:18:49,850 --> 01:18:54,320
wouldn't<font color="#E5E5E5"> want to anyway</font><font color="#CCCCCC"> but so the route</font>

2177
01:18:52,850 --> 01:18:56,030
<font color="#CCCCCC">optimisation boxes and then I'll cyst</font>

2178
01:18:54,320 --> 01:18:59,540
there's a<font color="#E5E5E5"> Cisco oh we are then I was</font>

2179
01:18:56,030 --> 01:19:02,630
using<font color="#E5E5E5"> Oh a are anyone at all using Cisco</font>

2180
01:18:59,540 --> 01:19:04,190
optimized<font color="#E5E5E5"> edge routing okay</font>

2181
01:19:02,630 --> 01:19:07,610
I really wish somebody could<font color="#CCCCCC"> tell me</font>

2182
01:19:04,190 --> 01:19:09,200
about it<font color="#CCCCCC"> in in the real</font><font color="#E5E5E5"> world not</font><font color="#CCCCCC"> a dig</font>

2183
01:19:07,610 --> 01:19:10,400
<font color="#E5E5E5">on Cisco I think the white paper is</font>

2184
01:19:09,200 --> 01:19:14,780
great I<font color="#CCCCCC"> just want to hear</font><font color="#E5E5E5"> what other</font>

2185
01:19:10,400 --> 01:19:17,120
<font color="#CCCCCC">people</font><font color="#E5E5E5"> have experienced so</font><font color="#CCCCCC"> those</font>

2186
01:19:14,780 --> 01:19:19,070
products<font color="#E5E5E5"> are neat</font><font color="#CCCCCC"> they have they</font><font color="#E5E5E5"> have a</font>

2187
01:19:17,120 --> 01:19:21,140
lot of<font color="#E5E5E5"> requirements that our network</font><font color="#CCCCCC"> has</font>

2188
01:19:19,070 --> 01:19:22,700
<font color="#E5E5E5">to be northen to be truly effective but</font>

2189
01:19:21,140 --> 01:19:24,110
if you meet them<font color="#E5E5E5"> and you're willing to</font>

2190
01:19:22,700 --> 01:19:26,090
pay<font color="#CCCCCC"> for it</font><font color="#E5E5E5"> they actually do a pretty</font>

2191
01:19:24,110 --> 01:19:27,860
decent job<font color="#CCCCCC"> but if you don't</font><font color="#E5E5E5"> have the</font>

2192
01:19:26,090 --> 01:19:29,780
budget<font color="#CCCCCC"> this</font><font color="#E5E5E5"> is free</font><font color="#CCCCCC"> well this is not</font>

2193
01:19:27,860 --> 01:19:31,070
free<font color="#E5E5E5"> this takes engineering time but it</font>

2194
01:19:29,780 --> 01:19:33,139
takes nowhere near with the cost of on

2195
01:19:31,070 --> 01:19:35,480
those<font color="#E5E5E5"> boxes</font><font color="#CCCCCC"> to be because you know</font>

2196
01:19:33,140 --> 01:19:36,950
<font color="#E5E5E5">man-hours are always free say again</font><font color="#CCCCCC"> de</font>

2197
01:19:35,480 --> 01:19:39,469
<font color="#CCCCCC">menos</font><font color="#E5E5E5"> are always</font><font color="#CCCCCC"> at free of thrown</font>

2198
01:19:36,950 --> 01:19:41,900
<font color="#CCCCCC">salary man-hours RZ but if</font><font color="#E5E5E5"> you're</font>

2199
01:19:39,470 --> 01:19:43,880
contracting which again we are

2200
01:19:41,900 --> 01:19:45,349
contractors<font color="#E5E5E5"> then you're paying no money</font>

2201
01:19:43,880 --> 01:19:48,140
for it<font color="#E5E5E5"> definitely less</font><font color="#CCCCCC"> than it would</font>

2202
01:19:45,350 --> 01:19:49,580
<font color="#E5E5E5">cost</font><font color="#CCCCCC"> but</font><font color="#E5E5E5"> appliances</font><font color="#CCCCCC"> okay just want</font><font color="#E5E5E5"> to</font>

2203
01:19:48,140 --> 01:19:52,310
talk<font color="#E5E5E5"> about the whole</font><font color="#CCCCCC"> issue of</font><font color="#E5E5E5"> how many</font>

2204
01:19:49,580 --> 01:19:53,750
routes get moved at a time<font color="#E5E5E5"> and really I</font>

2205
01:19:52,310 --> 01:19:57,440
mean<font color="#CCCCCC"> that means just</font><font color="#E5E5E5"> to speak on our</font>

2206
01:19:53,750 --> 01:19:59,650
systems the FCP and and<font color="#CCCCCC"> Miro we only pay</font>

2207
01:19:57,440 --> 01:20:02,330
attention to routes that we see a

2208
01:19:59,650 --> 01:20:04,309
significant amount<font color="#E5E5E5"> of traffic through</font>

2209
01:20:02,330 --> 01:20:06,559
our<font color="#E5E5E5"> you know through our flow analysis</font>

2210
01:20:04,310 --> 01:20:06,960
<font color="#CCCCCC">and typically you know over the course</font>

2211
01:20:06,560 --> 01:20:10,560
<font color="#CCCCCC">of</font>

2212
01:20:06,960 --> 01:20:12,750
<font color="#E5E5E5">24-hour period that's that's maybe 30 40</font>

2213
01:20:10,560 --> 01:20:16,160
<font color="#E5E5E5">percent of the global</font><font color="#CCCCCC"> round table tops</font>

2214
01:20:12,750 --> 01:20:19,230
<font color="#E5E5E5">yep yep yeah that's a really good point</font>

2215
01:20:16,160 --> 01:20:20,639
<font color="#E5E5E5">if if if you can do that in</font><font color="#CCCCCC"> Turkey</font>

2216
01:20:19,230 --> 01:20:21,870
that's why I said<font color="#CCCCCC"> their</font><font color="#E5E5E5"> requirements</font>

2217
01:20:20,640 --> 01:20:23,219
where you're you know looking at flow

2218
01:20:21,870 --> 01:20:25,050
data or you're doing<font color="#E5E5E5"> promiscuous</font>

2219
01:20:23,219 --> 01:20:27,420
<font color="#E5E5E5">sniffing a passive</font><font color="#CCCCCC"> floor analysis or</font>

2220
01:20:25,050 --> 01:20:30,210
sniffing traffic<font color="#E5E5E5"> yeah you don't need</font><font color="#CCCCCC"> a</font>

2221
01:20:27,420 --> 01:20:31,200
shift 4.7 0.0 if there's no traffic<font color="#CCCCCC"> from</font>

2222
01:20:30,210 --> 01:20:32,940
a net we're going to four to seven to

2223
01:20:31,200 --> 01:20:35,370
zero to zero<font color="#CCCCCC"> in the metric system you're</font>

2224
01:20:32,940 --> 01:20:36,750
shifting<font color="#CCCCCC"> everything without</font><font color="#E5E5E5"> any</font>

2225
01:20:35,370 --> 01:20:39,750
<font color="#E5E5E5">knowledge of whether or not it's gonna</font>

2226
01:20:36,750 --> 01:20:42,630
have an impact and and that's and that's

2227
01:20:39,750 --> 01:20:44,460
<font color="#E5E5E5">in I mean that's in our service point</font>

2228
01:20:42,630 --> 01:20:46,050
which is you know multiple multiple

2229
01:20:44,460 --> 01:20:47,520
customers so<font color="#E5E5E5"> you're talking</font><font color="#CCCCCC"> about a</font>

2230
01:20:46,050 --> 01:20:50,160
single<font color="#E5E5E5"> it's delation a single customer</font>

2231
01:20:47,520 --> 01:20:51,450
<font color="#CCCCCC">you know the number of the number of</font>

2232
01:20:50,160 --> 01:20:52,980
routes you're actually sending<font color="#E5E5E5"> traffic</font>

2233
01:20:51,450 --> 01:20:54,870
to is going<font color="#E5E5E5"> probably going to be you</font>

2234
01:20:52,980 --> 01:20:56,450
<font color="#E5E5E5">know far far less than that absolutely</font>

2235
01:20:54,870 --> 01:20:59,070
<font color="#E5E5E5">yep absolutely</font>

2236
01:20:56,450 --> 01:21:01,650
yeah the optimizations have definitely

2237
01:20:59,070 --> 01:21:03,719
have they have<font color="#E5E5E5"> some value</font><font color="#CCCCCC"> they do work</font>

2238
01:21:01,650 --> 01:21:07,019
in some environments and on all<font color="#CCCCCC"> runs</font><font color="#E5E5E5"> and</font>

2239
01:21:03,719 --> 01:21:08,940
they have an increased<font color="#CCCCCC"> cost</font><font color="#E5E5E5"> so so one</font>

2240
01:21:07,020 --> 01:21:10,739
point I want to make about<font color="#E5E5E5"> what you were</font>

2241
01:21:08,940 --> 01:21:12,389
talking<font color="#CCCCCC"> about</font><font color="#E5E5E5"> taking it slow doing the</font>

2242
01:21:10,739 --> 01:21:14,549
traffic changes and shifts and seeing

2243
01:21:12,390 --> 01:21:16,170
what<font color="#CCCCCC"> balances where a lot of</font><font color="#E5E5E5"> people</font>

2244
01:21:14,550 --> 01:21:17,760
especially content<font color="#E5E5E5"> people don't</font>

2245
01:21:16,170 --> 01:21:20,580
understand the impact<font color="#E5E5E5"> that they make to</font>

2246
01:21:17,760 --> 01:21:22,320
<font color="#CCCCCC">their providers so when a</font><font color="#E5E5E5"> content</font>

2247
01:21:20,580 --> 01:21:25,080
customer who might have you<font color="#CCCCCC"> know 50 gigs</font>

2248
01:21:22,320 --> 01:21:27,150
of<font color="#CCCCCC"> porn all of a sudden starts playing</font>

2249
01:21:25,080 --> 01:21:29,730
with<font color="#CCCCCC"> a route map</font><font color="#E5E5E5"> and moves</font><font color="#CCCCCC"> five gigs at</font>

2250
01:21:27,150 --> 01:21:31,980
<font color="#E5E5E5">7:01 capacity that didn't exist before</font>

2251
01:21:29,730 --> 01:21:36,059
<font color="#E5E5E5">that could really impact their providers</font>

2252
01:21:31,980 --> 01:21:38,339
so you want to be careful<font color="#E5E5E5"> with doing</font><font color="#CCCCCC"> AAS</font>

2253
01:21:36,060 --> 01:21:41,280
matches specifically for that reason

2254
01:21:38,340 --> 01:21:44,190
where you you move<font color="#E5E5E5"> a huge chunk of</font>

2255
01:21:41,280 --> 01:21:45,660
traffic<font color="#E5E5E5"> that didn't used to</font><font color="#CCCCCC"> exist that</font>

2256
01:21:44,190 --> 01:21:47,610
<font color="#E5E5E5">now does exist then maybe you move it</font>

2257
01:21:45,660 --> 01:21:49,680
back 15 minutes<font color="#E5E5E5"> later</font><font color="#CCCCCC"> and it's the kind</font>

2258
01:21:47,610 --> 01:21:51,420
of thing where<font color="#CCCCCC"> you're upstream</font><font color="#E5E5E5"> if</font><font color="#CCCCCC"> you</font>

2259
01:21:49,680 --> 01:21:52,710
told them about it<font color="#E5E5E5"> or if they you</font><font color="#CCCCCC"> know</font>

2260
01:21:51,420 --> 01:21:54,570
we're planning<font color="#CCCCCC"> for it or even</font><font color="#E5E5E5"> if you</font>

2261
01:21:52,710 --> 01:21:55,890
just<font color="#E5E5E5"> left it that way they might notice</font>

2262
01:21:54,570 --> 01:21:58,049
<font color="#E5E5E5">oh this is a problem and you know</font>

2263
01:21:55,890 --> 01:21:59,640
rebalance some of their traffic<font color="#CCCCCC"> but if</font>

2264
01:21:58,050 --> 01:22:02,310
you just do<font color="#E5E5E5"> it</font><font color="#CCCCCC"> for 15 minutes at a time</font>

2265
01:21:59,640 --> 01:22:03,870
it can<font color="#E5E5E5"> be a real</font><font color="#CCCCCC"> problem so people</font>

2266
01:22:02,310 --> 01:22:05,610
should<font color="#E5E5E5"> keep that in mind you</font><font color="#CCCCCC"> know so</font>

2267
01:22:03,870 --> 01:22:07,870
it's a<font color="#E5E5E5"> good point so in the example I</font>

2268
01:22:05,610 --> 01:22:09,639
gave with with a 10 gig<font color="#E5E5E5"> for that</font>

2269
01:22:07,870 --> 01:22:12,220
area<font color="#E5E5E5"> we actually had an open line of</font>

2270
01:22:09,640 --> 01:22:13,690
communication to the 3 ISPs we learned a

2271
01:22:12,220 --> 01:22:15,280
lot<font color="#CCCCCC"> about their network through open</font>

2272
01:22:13,690 --> 01:22:16,839
communication where their pain points

2273
01:22:15,280 --> 01:22:18,040
<font color="#E5E5E5">are where the good points are where they</font>

2274
01:22:16,840 --> 01:22:20,200
have extra capacity where they're

2275
01:22:18,040 --> 01:22:23,350
<font color="#E5E5E5">planning on capacity and we also gave</font>

2276
01:22:20,200 --> 01:22:27,490
them<font color="#CCCCCC"> heads up about about changes</font><font color="#E5E5E5"> that</font>

2277
01:22:23,350 --> 01:22:29,110
we're making<font color="#E5E5E5"> where I cover in the slot</font>

2278
01:22:27,490 --> 01:22:31,000
I'm saying<font color="#E5E5E5"> you want your network your</font>

2279
01:22:29,110 --> 01:22:32,200
<font color="#CCCCCC">bgp engineers to be involved the commune</font>

2280
01:22:31,000 --> 01:22:34,420
de in the routing communities in the

2281
01:22:32,200 --> 01:22:36,730
network or network<font color="#CCCCCC"> organization</font>

2282
01:22:34,420 --> 01:22:40,270
the network horns<font color="#CCCCCC"> Asus which is nanog or</font>

2283
01:22:36,730 --> 01:22:42,280
<font color="#E5E5E5">ripe or</font><font color="#CCCCCC"> Aran and that's for general</font>

2284
01:22:40,270 --> 01:22:44,320
information<font color="#E5E5E5"> but absolutely correct</font><font color="#CCCCCC"> if</font>

2285
01:22:42,280 --> 01:22:45,910
you<font color="#CCCCCC"> can speak to your ISPs and</font>

2286
01:22:44,320 --> 01:22:47,080
understand what they're doing<font color="#CCCCCC"> and have</font>

2287
01:22:45,910 --> 01:22:48,309
them willing to tell you what's going<font color="#CCCCCC"> on</font>

2288
01:22:47,080 --> 01:22:51,160
what the<font color="#E5E5E5"> impact is</font><font color="#CCCCCC"> and the shift you</font>

2289
01:22:48,310 --> 01:22:52,750
made<font color="#E5E5E5"> that's a really good point also</font>

2290
01:22:51,160 --> 01:22:54,820
another good<font color="#E5E5E5"> reason I'll add that</font><font color="#CCCCCC"> Nexus</font>

2291
01:22:52,750 --> 01:22:58,480
if I do the talking<font color="#CCCCCC"> and I'll add that as</font>

2292
01:22:54,820 --> 01:23:00,820
reasons to<font color="#CCCCCC"> not do per ASN tweaks if</font>

2293
01:22:58,480 --> 01:23:02,190
you're<font color="#E5E5E5"> doing if you if you're</font><font color="#CCCCCC"> really</font>

2294
01:23:00,820 --> 01:23:04,900
making<font color="#E5E5E5"> certain based on communities</font>

2295
01:23:02,190 --> 01:23:06,309
based on<font color="#CCCCCC"> a s ha playing a</font><font color="#E5E5E5"> s hop length</font>

2296
01:23:04,900 --> 01:23:08,559
you'll find has<font color="#E5E5E5"> usually less of an</font>

2297
01:23:06,310 --> 01:23:10,270
impact<font color="#E5E5E5"> to your ISP or gives them the</font>

2298
01:23:08,560 --> 01:23:14,010
<font color="#CCCCCC">opportunity to</font><font color="#E5E5E5"> make secondary shifts</font><font color="#CCCCCC"> if</font>

2299
01:23:10,270 --> 01:23:17,980
they have<font color="#E5E5E5"> to absolutely it's great</font><font color="#CCCCCC"> okay</font>

2300
01:23:14,010 --> 01:23:19,360
<font color="#E5E5E5">anything else guys we are at five more</font>

2301
01:23:17,980 --> 01:23:21,639
minutes<font color="#CCCCCC"> that</font><font color="#E5E5E5"> means</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> get out five</font>

2302
01:23:19,360 --> 01:23:23,559
minutes<font color="#CCCCCC"> really thank you</font><font color="#E5E5E5"> very much</font>

2303
01:23:21,640 --> 01:23:25,060
people I'm consulting if you do have

2304
01:23:23,560 --> 01:23:27,370
additional questions if you find that

2305
01:23:25,060 --> 01:23:28,480
<font color="#E5E5E5">you need work done</font><font color="#CCCCCC"> if you</font><font color="#E5E5E5"> want</font><font color="#CCCCCC"> somebody</font>

2306
01:23:27,370 --> 01:23:29,830
<font color="#CCCCCC">to come</font><font color="#E5E5E5"> in</font><font color="#CCCCCC"> into organization</font><font color="#E5E5E5"> to help you</font>

2307
01:23:28,480 --> 01:23:31,900
either by<font color="#E5E5E5"> doing training or limitation</font>

2308
01:23:29,830 --> 01:23:33,340
stuff like that<font color="#E5E5E5"> my email</font><font color="#CCCCCC"> address</font><font color="#E5E5E5"> is</font>

2309
01:23:31,900 --> 01:23:35,230
obfuscated at the bottom but<font color="#E5E5E5"> I'm sure</font>

2310
01:23:33,340 --> 01:23:37,360
you could<font color="#E5E5E5"> figure it out I'm happy to</font>

2311
01:23:35,230 --> 01:23:40,000
<font color="#E5E5E5">assist with casual questions or of</font>

2312
01:23:37,360 --> 01:23:42,330
course<font color="#E5E5E5"> even business</font><font color="#CCCCCC"> engagement</font><font color="#E5E5E5"> so thank</font>

2313
01:23:40,000 --> 01:23:42,330
you<font color="#CCCCCC"> very much</font>

