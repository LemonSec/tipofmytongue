1
00:00:00,410 --> 00:00:05,940
hopefully this is pretty<font color="#E5E5E5"> clear hello</font>

2
00:00:03,360 --> 00:00:09,870
<font color="#CCCCCC">everybody thanks for the</font><font color="#E5E5E5"> opportunity to</font>

3
00:00:05,940 --> 00:00:11,730
speak here<font color="#CCCCCC"> at lovely</font><font color="#E5E5E5"> Philadelphia and</font>

4
00:00:09,870 --> 00:00:13,079
talk<font color="#E5E5E5"> to you about</font><font color="#CCCCCC"> datacenter racks which</font>

5
00:00:11,730 --> 00:00:14,910
redundancy models

6
00:00:13,080 --> 00:00:18,509
<font color="#E5E5E5">switchin was called top of racks which</font>

7
00:00:14,910 --> 00:00:20,609
redundancy models<font color="#E5E5E5"> I kind of renamed it</font>

8
00:00:18,510 --> 00:00:24,480
last minute<font color="#CCCCCC"> a little</font><font color="#E5E5E5"> more generic</font>

9
00:00:20,609 --> 00:00:26,039
view so my name<font color="#E5E5E5"> is Donnie</font><font color="#CCCCCC"> Royce man I</font>

10
00:00:24,480 --> 00:00:27,630
worked for peak web consulting we do

11
00:00:26,039 --> 00:00:30,330
network<font color="#E5E5E5"> engineering and architecture</font>

12
00:00:27,630 --> 00:00:31,740
<font color="#E5E5E5">previous to this I spent quite a while</font>

13
00:00:30,330 --> 00:00:33,210
over<font color="#E5E5E5"> eight years at Sony Online</font>

14
00:00:31,740 --> 00:00:35,730
Entertainment<font color="#E5E5E5"> running the</font><font color="#CCCCCC"> network's</font>

15
00:00:33,210 --> 00:00:37,020
forever quest and planetside<font color="#E5E5E5"> Star Wars</font>

16
00:00:35,730 --> 00:00:40,919
Galaxies<font color="#E5E5E5"> it's</font><font color="#CCCCCC"> time that many of you</font>

17
00:00:37,020 --> 00:00:43,680
folks I'm<font color="#E5E5E5"> going to be</font><font color="#CCCCCC"> talking about so</font>

18
00:00:40,920 --> 00:00:45,180
if people<font color="#E5E5E5"> have consulting we we do a lot</font>

19
00:00:43,680 --> 00:00:47,430
of<font color="#E5E5E5"> data center installations data center</font>

20
00:00:45,180 --> 00:00:50,399
designs implementations<font color="#E5E5E5"> assistance and</font>

21
00:00:47,430 --> 00:00:52,949
we've run<font color="#E5E5E5"> across many different ways of</font>

22
00:00:50,399 --> 00:00:56,460
<font color="#E5E5E5">doing</font><font color="#CCCCCC"> top-of-rack</font><font color="#E5E5E5"> switch connectivity</font>

23
00:00:52,949 --> 00:00:58,890
redundancy so I realized<font color="#E5E5E5"> that I needed</font>

24
00:00:56,460 --> 00:01:01,590
some diagrams<font color="#E5E5E5"> I can use to help show my</font>

25
00:00:58,890 --> 00:01:02,520
engineers my staff my clients here all

26
00:01:01,590 --> 00:01:04,830
the different<font color="#CCCCCC"> options</font><font color="#E5E5E5"> we have available</font>

27
00:01:02,520 --> 00:01:05,970
<font color="#E5E5E5">and I figured if if I really want it to</font>

28
00:01:04,830 --> 00:01:09,570
<font color="#E5E5E5">be good I should make it</font><font color="#CCCCCC"> into</font>

29
00:01:05,970 --> 00:01:10,860
presentation quality<font color="#CCCCCC"> and</font><font color="#E5E5E5"> I just</font><font color="#CCCCCC"> quickly</font>

30
00:01:09,570 --> 00:01:12,600
led to<font color="#CCCCCC"> something that</font><font color="#E5E5E5"> I was able to</font>

31
00:01:10,860 --> 00:01:14,580
<font color="#CCCCCC">present here nano we don't hear that</font>

32
00:01:12,600 --> 00:01:16,470
many layer<font color="#CCCCCC"> two conversations here that</font>

33
00:01:14,580 --> 00:01:19,350
many switching conversations all those

34
00:01:16,470 --> 00:01:21,240
network engineers network operators you

35
00:01:19,350 --> 00:01:23,130
got a switch<font color="#E5E5E5"> before you can route so</font>

36
00:01:21,240 --> 00:01:25,399
<font color="#E5E5E5">hopefully this will be a little bit of a</font>

37
00:01:23,130 --> 00:01:27,570
<font color="#E5E5E5">departure from layer 3 layer 3 IP IP</font>

38
00:01:25,400 --> 00:01:29,729
<font color="#E5E5E5">everything I'm talking</font><font color="#CCCCCC"> about is agnostic</font>

39
00:01:27,570 --> 00:01:31,979
ipv6 and ipv4 and<font color="#E5E5E5"> actually doesn't</font>

40
00:01:29,729 --> 00:01:33,840
really<font color="#CCCCCC"> even care</font><font color="#E5E5E5"> although</font><font color="#CCCCCC"> a few examples</font>

41
00:01:31,979 --> 00:01:39,780
I only put ipv4 addresses so apologize

42
00:01:33,840 --> 00:01:41,729
<font color="#E5E5E5">apologies to the ipv6</font><font color="#CCCCCC"> folks out there so</font>

43
00:01:39,780 --> 00:01:43,950
server access<font color="#E5E5E5"> what we're talking about</font>

44
00:01:41,729 --> 00:01:46,829
here so<font color="#E5E5E5"> enterprise content data centers</font>

45
00:01:43,950 --> 00:01:49,350
<font color="#E5E5E5">they have racks full of servers usually</font>

46
00:01:46,829 --> 00:01:51,210
<font color="#E5E5E5">Ethernet connectivity and Ethernet</font>

47
00:01:49,350 --> 00:01:52,589
switch is typically<font color="#E5E5E5"> located in Iraq to</font>

48
00:01:51,210 --> 00:01:54,479
<font color="#CCCCCC">Haggar get all the servers</font><font color="#E5E5E5"> for that rack</font>

49
00:01:52,590 --> 00:01:55,829
and you need to go<font color="#CCCCCC"> ahead</font><font color="#E5E5E5"> and connect</font>

50
00:01:54,479 --> 00:01:56,939
that<font color="#E5E5E5"> rack to</font><font color="#CCCCCC"> the rest of</font><font color="#E5E5E5"> the course so</font>

51
00:01:55,829 --> 00:01:59,969
<font color="#E5E5E5">these servers can communicate</font>

52
00:01:56,939 --> 00:02:01,158
<font color="#E5E5E5">bidirectionally turns out lots of ways</font>

53
00:01:59,969 --> 00:02:03,030
<font color="#CCCCCC">we can do</font><font color="#E5E5E5"> this</font>

54
00:02:01,159 --> 00:02:04,799
who's going<font color="#E5E5E5"> to be</font><font color="#CCCCCC"> interesting this talk</font>

55
00:02:03,030 --> 00:02:07,459
so<font color="#CCCCCC"> any network engineer operator who's</font>

56
00:02:04,799 --> 00:02:09,300
responsible for Iraq based connectivity

57
00:02:07,459 --> 00:02:10,619
what I'm going<font color="#CCCCCC"> to show</font><font color="#E5E5E5"> you will work</font>

58
00:02:09,300 --> 00:02:12,230
from<font color="#CCCCCC"> anywhere from one rack</font><font color="#E5E5E5"> I've</font>

59
00:02:10,619 --> 00:02:14,720
deployed this to hundreds of

60
00:02:12,230 --> 00:02:16,040
in a single data<font color="#E5E5E5"> center successfully so</font>

61
00:02:14,720 --> 00:02:17,599
anywhere<font color="#CCCCCC"> between</font><font color="#E5E5E5"> one to hundreds of</font>

62
00:02:16,040 --> 00:02:19,099
racks you<font color="#CCCCCC"> could even extrapolate this to</font>

63
00:02:17,599 --> 00:02:21,319
thousands<font color="#E5E5E5"> of racks I just haven't</font><font color="#CCCCCC"> had</font>

64
00:02:19,099 --> 00:02:24,409
<font color="#CCCCCC">the luxury</font><font color="#E5E5E5"> of doing so anyone whose job</font>

65
00:02:21,319 --> 00:02:25,790
relies upon having undisrupted access to

66
00:02:24,409 --> 00:02:26,929
these<font color="#E5E5E5"> servers might want to pay</font>

67
00:02:25,790 --> 00:02:28,190
attention maybe<font color="#CCCCCC"> you learned something</font>

68
00:02:26,930 --> 00:02:30,379
new<font color="#E5E5E5"> maybe you'll find something that</font>

69
00:02:28,190 --> 00:02:31,370
<font color="#CCCCCC">I've done that you didn't like or maybe</font>

70
00:02:30,379 --> 00:02:32,510
<font color="#E5E5E5">you want to tell</font><font color="#CCCCCC"> about something that</font>

71
00:02:31,370 --> 00:02:36,019
you've done<font color="#CCCCCC"> that I haven't</font><font color="#E5E5E5"> covered I'd</font>

72
00:02:32,510 --> 00:02:37,609
love to hear<font color="#CCCCCC"> about</font><font color="#E5E5E5"> it and many folks are</font>

73
00:02:36,019 --> 00:02:39,440
really<font color="#E5E5E5"> battling with well how do we do</font>

74
00:02:37,610 --> 00:02:41,959
<font color="#E5E5E5">it right how do we</font><font color="#CCCCCC"> do</font><font color="#E5E5E5"> it in</font><font color="#CCCCCC"> a way</font><font color="#E5E5E5"> that</font>

75
00:02:39,440 --> 00:02:43,220
it we save costs how do<font color="#CCCCCC"> we do</font><font color="#E5E5E5"> in a way</font>

76
00:02:41,959 --> 00:02:44,390
that we don't<font color="#E5E5E5"> melt down the network we</font>

77
00:02:43,220 --> 00:02:46,879
make changes so there's a<font color="#E5E5E5"> kind of a</font>

78
00:02:44,390 --> 00:02:48,980
<font color="#CCCCCC">stability versus redundancy versus</font>

79
00:02:46,879 --> 00:02:52,160
failover time versus maintainability

80
00:02:48,980 --> 00:02:53,780
trade-offs<font color="#E5E5E5"> here's our sample</font><font color="#CCCCCC"> network</font>

81
00:02:52,160 --> 00:02:56,540
<font color="#E5E5E5">very simple you</font><font color="#CCCCCC"> have a distribution</font>

82
00:02:53,780 --> 00:02:58,220
<font color="#E5E5E5">layer if you're small</font><font color="#CCCCCC"> enough it may be a</font>

83
00:02:56,540 --> 00:03:00,590
<font color="#E5E5E5">single pair of</font><font color="#CCCCCC"> chassés that are</font><font color="#E5E5E5"> doing</font>

84
00:02:58,220 --> 00:03:02,390
your ebgp and<font color="#CCCCCC"> your</font><font color="#E5E5E5"> ibgp and your OSPF</font>

85
00:03:00,590 --> 00:03:04,459
and<font color="#E5E5E5"> maybe</font><font color="#CCCCCC"> subway links in larger</font>

86
00:03:02,390 --> 00:03:06,108
<font color="#CCCCCC">environments you have this</font><font color="#E5E5E5"> kind of a pod</font>

87
00:03:04,459 --> 00:03:07,790
architecture<font color="#E5E5E5"> your</font><font color="#CCCCCC"> rubber-stamping</font>

88
00:03:06,109 --> 00:03:09,500
throughout your data center<font color="#E5E5E5"> but usually</font>

89
00:03:07,790 --> 00:03:10,849
<font color="#E5E5E5">there's two at least two switches that</font>

90
00:03:09,500 --> 00:03:12,890
<font color="#E5E5E5">are connecting to</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> rack in column a</font>

91
00:03:10,849 --> 00:03:14,899
distribution or core layer and in a

92
00:03:12,890 --> 00:03:16,638
single server rack you have<font color="#E5E5E5"> some number</font>

93
00:03:14,900 --> 00:03:18,470
of servers<font color="#E5E5E5"> connected to usually at least</font>

94
00:03:16,639 --> 00:03:20,540
<font color="#CCCCCC">one switch sometimes maybe more than</font><font color="#E5E5E5"> one</font>

95
00:03:18,470 --> 00:03:22,160
<font color="#E5E5E5">and oftentimes</font><font color="#CCCCCC"> you want to connect them</font>

96
00:03:20,540 --> 00:03:25,130
<font color="#CCCCCC">to your distribution layer with at least</font>

97
00:03:22,160 --> 00:03:26,299
two links for redundancy<font color="#E5E5E5"> so this is kind</font>

98
00:03:25,130 --> 00:03:27,829
of<font color="#E5E5E5"> the base diagram and you'll see</font>

99
00:03:26,299 --> 00:03:31,400
multiple<font color="#E5E5E5"> iterations of this throughout</font>

100
00:03:27,829 --> 00:03:33,260
the talk here<font color="#E5E5E5"> this this talk is actually</font>

101
00:03:31,400 --> 00:03:34,250
<font color="#CCCCCC">a little</font><font color="#E5E5E5"> bit long so</font><font color="#CCCCCC"> I'm going to zip</font>

102
00:03:33,260 --> 00:03:35,720
<font color="#CCCCCC">through some of these more for both</font>

103
00:03:34,250 --> 00:03:37,010
slides<font color="#CCCCCC"> they're</font><font color="#E5E5E5"> on there for the benefit</font>

104
00:03:35,720 --> 00:03:38,450
of folks who might download<font color="#CCCCCC"> this later</font>

105
00:03:37,010 --> 00:03:40,280
<font color="#E5E5E5">and want to understand a little more</font>

106
00:03:38,450 --> 00:03:42,168
what I was talking about<font color="#E5E5E5"> for some of the</font>

107
00:03:40,280 --> 00:03:44,180
some of the<font color="#E5E5E5"> more newer people</font><font color="#CCCCCC"> into the</font>

108
00:03:42,169 --> 00:03:46,310
<font color="#E5E5E5">network we're</font><font color="#CCCCCC"> also I'm not</font><font color="#E5E5E5"> going to walk</font>

109
00:03:44,180 --> 00:03:49,190
<font color="#CCCCCC">through</font><font color="#E5E5E5"> all of</font><font color="#CCCCCC"> these more verbose slides</font>

110
00:03:46,310 --> 00:03:52,209
so the<font color="#CCCCCC"> bottles 0</font><font color="#E5E5E5"> the no redundancy model</font>

111
00:03:49,190 --> 00:03:55,010
very simple<font color="#CCCCCC"> you got one switch one rack</font>

112
00:03:52,209 --> 00:03:56,510
one distribution layer and<font color="#CCCCCC"> you're set</font>

113
00:03:55,010 --> 00:03:58,040
<font color="#CCCCCC">this</font><font color="#E5E5E5"> will work your</font><font color="#CCCCCC"> pass packets no</font>

114
00:03:56,510 --> 00:04:00,440
problem<font color="#E5E5E5"> this will work forever until you</font>

115
00:03:58,040 --> 00:04:02,418
have a failure in any one of<font color="#E5E5E5"> these</font>

116
00:04:00,440 --> 00:04:04,040
locations<font color="#E5E5E5"> so obviously this</font><font color="#CCCCCC"> is not</font><font color="#E5E5E5"> going</font>

117
00:04:02,419 --> 00:04:07,639
<font color="#CCCCCC">to</font><font color="#E5E5E5"> get</font><font color="#CCCCCC"> you redundancy but</font><font color="#E5E5E5"> it'll get you</font>

118
00:04:04,040 --> 00:04:09,798
some good connectivity there's what I

119
00:04:07,639 --> 00:04:11,989
<font color="#CCCCCC">call a model</font><font color="#E5E5E5"> 2.5 this is a manual</font>

120
00:04:09,799 --> 00:04:13,639
activation<font color="#E5E5E5"> of redundancy so here you</font>

121
00:04:11,989 --> 00:04:15,079
<font color="#E5E5E5">have you went ahead and</font><font color="#CCCCCC"> you connect at</font>

122
00:04:13,639 --> 00:04:18,019
your second distribution distribution

123
00:04:15,079 --> 00:04:19,579
layer but<font color="#CCCCCC"> you severed the link to the</font>

124
00:04:18,019 --> 00:04:20,899
second layer<font color="#E5E5E5"> maybe because you don't</font>

125
00:04:19,579 --> 00:04:22,669
trust your distribution<font color="#E5E5E5"> you don't trust</font>

126
00:04:20,899 --> 00:04:24,620
your redundancy yeah you don't<font color="#E5E5E5"> you</font>

127
00:04:22,669 --> 00:04:26,060
you're afraid of<font color="#CCCCCC"> spanning tree loops</font><font color="#E5E5E5"> so</font>

128
00:04:24,620 --> 00:04:27,950
<font color="#E5E5E5">really simple you come back</font>

129
00:04:26,060 --> 00:04:29,540
plug it in<font color="#E5E5E5"> layer</font><font color="#CCCCCC"> two you VLAN to your</font>

130
00:04:27,950 --> 00:04:31,789
rack and<font color="#CCCCCC"> you say oh I'm afraid of loops</font>

131
00:04:29,540 --> 00:04:33,980
or one time<font color="#E5E5E5"> I had a problem so you shut</font>

132
00:04:31,790 --> 00:04:36,350
<font color="#E5E5E5">down</font><font color="#CCCCCC"> when the UH place</font><font color="#E5E5E5"> so if you have</font><font color="#CCCCCC"> an</font>

133
00:04:33,980 --> 00:04:37,460
<font color="#CCCCCC">a failure</font><font color="#E5E5E5"> on the primary link you're</font>

134
00:04:36,350 --> 00:04:39,169
gonna go ahead<font color="#CCCCCC"> and you're gonna have to</font>

135
00:04:37,460 --> 00:04:40,400
<font color="#E5E5E5">manually unshut the second link do</font>

136
00:04:39,169 --> 00:04:42,530
yourself a<font color="#E5E5E5"> favor if you're gonna run</font>

137
00:04:40,400 --> 00:04:44,060
this model<font color="#E5E5E5"> shut</font><font color="#CCCCCC"> it up at the</font>

138
00:04:42,530 --> 00:04:45,469
<font color="#CCCCCC">distribution side don't don't shut the</font>

139
00:04:44,060 --> 00:04:46,669
<font color="#E5E5E5">backup link on the</font><font color="#CCCCCC"> rack switch side</font>

140
00:04:45,470 --> 00:04:47,960
because then you can't unshut it without

141
00:04:46,669 --> 00:04:50,599
<font color="#CCCCCC">walking up to the racks which are</font>

142
00:04:47,960 --> 00:04:52,580
consoling in do yourself another favor

143
00:04:50,600 --> 00:04:54,410
<font color="#CCCCCC">if you're gonna switch over</font><font color="#E5E5E5"> make sure</font>

144
00:04:52,580 --> 00:04:55,700
<font color="#E5E5E5">you shut down that primary so if it does</font>

145
00:04:54,410 --> 00:04:59,300
come<font color="#CCCCCC"> back up you don't have an</font>

146
00:04:55,700 --> 00:05:02,330
intervertebral do this<font color="#E5E5E5"> it's it's messy</font>

147
00:04:59,300 --> 00:05:04,910
<font color="#CCCCCC">its manual I have seen it before</font>

148
00:05:02,330 --> 00:05:06,680
<font color="#E5E5E5">but nobody likes</font><font color="#CCCCCC"> to be woken</font><font color="#E5E5E5"> up at</font><font color="#CCCCCC"> 3</font>

149
00:05:04,910 --> 00:05:08,330
o'clock<font color="#E5E5E5"> in</font><font color="#CCCCCC"> morning</font><font color="#E5E5E5"> to actuate a backup</font>

150
00:05:06,680 --> 00:05:11,270
link it really you want something<font color="#E5E5E5"> that's</font>

151
00:05:08,330 --> 00:05:12,950
a little<font color="#CCCCCC"> more</font><font color="#E5E5E5"> automatic here so the</font>

152
00:05:11,270 --> 00:05:14,539
first<font color="#E5E5E5"> model here this is the</font><font color="#CCCCCC"> cliche this</font>

153
00:05:12,950 --> 00:05:16,729
is layer<font color="#CCCCCC"> 2 in spanning-tree I'm sure</font>

154
00:05:14,540 --> 00:05:18,440
we've all seen it<font color="#CCCCCC"> very</font><font color="#E5E5E5"> simple you create</font>

155
00:05:16,729 --> 00:05:19,940
a loop<font color="#CCCCCC"> within your network</font><font color="#E5E5E5"> you make a</font>

156
00:05:18,440 --> 00:05:21,110
try<font color="#E5E5E5"> as in simplest</font><font color="#CCCCCC"> form you make a</font>

157
00:05:19,940 --> 00:05:23,389
triangle<font color="#E5E5E5"> between two distribution</font>

158
00:05:21,110 --> 00:05:26,780
<font color="#CCCCCC">switches and a rack switch</font><font color="#E5E5E5"> you have</font><font color="#CCCCCC"> your</font>

159
00:05:23,389 --> 00:05:29,300
VLANs available on all ports<font color="#E5E5E5"> and if</font>

160
00:05:26,780 --> 00:05:31,789
<font color="#E5E5E5">you're if</font><font color="#CCCCCC"> you're doing</font><font color="#E5E5E5"> it right you're</font>

161
00:05:29,300 --> 00:05:33,410
<font color="#E5E5E5">going</font><font color="#CCCCCC"> to give yourself a</font><font color="#E5E5E5"> nice low</font>

162
00:05:31,789 --> 00:05:34,789
<font color="#CCCCCC">priority on your primary route that's</font>

163
00:05:33,410 --> 00:05:36,950
<font color="#CCCCCC">designated as</font><font color="#E5E5E5"> one</font><font color="#CCCCCC"> of your distribution</font>

164
00:05:34,789 --> 00:05:39,890
devices<font color="#E5E5E5"> and you're gonna have</font><font color="#CCCCCC"> a slightly</font>

165
00:05:36,950 --> 00:05:41,659
<font color="#CCCCCC">increased priority maybe 8 k vs 16 k for</font>

166
00:05:39,890 --> 00:05:43,099
your standby route<font color="#E5E5E5"> and your rack</font>

167
00:05:41,660 --> 00:05:44,539
<font color="#E5E5E5">switches</font><font color="#CCCCCC"> a little hint here</font><font color="#E5E5E5"> you're gonna</font>

168
00:05:43,100 --> 00:05:46,789
<font color="#E5E5E5">want to go</font><font color="#CCCCCC"> ahead</font><font color="#E5E5E5"> and set them lower than</font>

169
00:05:44,539 --> 00:05:50,060
<font color="#E5E5E5">the default 32 ki like 40</font><font color="#CCCCCC"> K it's a nice</font>

170
00:05:46,789 --> 00:05:51,380
number<font color="#CCCCCC"> and once you plug</font><font color="#E5E5E5"> all this in if</font>

171
00:05:50,060 --> 00:05:52,430
everything is working<font color="#E5E5E5"> properly spanning</font>

172
00:05:51,380 --> 00:05:55,909
tree is<font color="#E5E5E5"> going to go ahead and block</font>

173
00:05:52,430 --> 00:05:58,610
<font color="#E5E5E5">towards the backup route and the loop</font>

174
00:05:55,910 --> 00:06:02,630
<font color="#E5E5E5">will be broken and everything will</font><font color="#CCCCCC"> work</font>

175
00:05:58,610 --> 00:06:04,460
just<font color="#E5E5E5"> fine</font><font color="#CCCCCC"> in a failure mode if the</font>

176
00:06:02,630 --> 00:06:05,960
<font color="#E5E5E5">primary link gets severed spanning tree</font>

177
00:06:04,460 --> 00:06:08,090
on the racks which will go<font color="#CCCCCC"> ahead and</font>

178
00:06:05,960 --> 00:06:09,349
detect I lost my<font color="#E5E5E5"> primary path and I'm</font>

179
00:06:08,090 --> 00:06:11,359
gonna go ahead<font color="#CCCCCC"> and unblock on my</font>

180
00:06:09,350 --> 00:06:12,800
secondary path<font color="#CCCCCC"> and of course when the</font>

181
00:06:11,360 --> 00:06:14,030
primary<font color="#E5E5E5"> path comes back up spanning</font>

182
00:06:12,800 --> 00:06:16,310
trees gonna<font color="#E5E5E5"> recover and</font><font color="#CCCCCC"> say great</font>

183
00:06:14,030 --> 00:06:17,929
<font color="#E5E5E5">wonderful it works really well it's</font>

184
00:06:16,310 --> 00:06:19,580
<font color="#E5E5E5">extremely common it's pretty easy to</font>

185
00:06:17,930 --> 00:06:21,229
<font color="#E5E5E5">understand as long</font><font color="#CCCCCC"> as you don't read the</font>

186
00:06:19,580 --> 00:06:23,810
<font color="#E5E5E5">docs too much and get your head in the</font>

187
00:06:21,229 --> 00:06:26,090
state machine and<font color="#CCCCCC"> the</font><font color="#E5E5E5"> bpdu types and</font>

188
00:06:23,810 --> 00:06:29,120
<font color="#E5E5E5">topology change of kind of just works</font>

189
00:06:26,090 --> 00:06:30,650
<font color="#CCCCCC">usually it's really</font><font color="#E5E5E5"> easy to</font><font color="#CCCCCC"> back verify</font>

190
00:06:29,120 --> 00:06:32,210
that<font color="#E5E5E5"> your backup</font><font color="#CCCCCC"> connectivities up you</font>

191
00:06:30,650 --> 00:06:33,590
go to your<font color="#CCCCCC"> rack switch you look for</font>

192
00:06:32,210 --> 00:06:35,210
<font color="#CCCCCC">block</font><font color="#E5E5E5"> ports as long as you're blocking</font>

193
00:06:33,590 --> 00:06:37,159
towards your backup that means a you got

194
00:06:35,210 --> 00:06:39,438
a route that's not alive which is<font color="#E5E5E5"> great</font>

195
00:06:37,159 --> 00:06:42,020
<font color="#E5E5E5">and</font><font color="#CCCCCC"> B you have it available</font><font color="#E5E5E5"> backup half</font>

196
00:06:39,439 --> 00:06:43,430
with some of the newer with the more

197
00:06:42,020 --> 00:06:45,799
advanced management limitations you'll

198
00:06:43,430 --> 00:06:47,539
even<font color="#CCCCCC"> see alternate</font><font color="#E5E5E5"> paths</font><font color="#CCCCCC"> available it's</font>

199
00:06:45,800 --> 00:06:49,150
pretty flexible<font color="#CCCCCC"> any subnet can be</font>

200
00:06:47,539 --> 00:06:51,919
extended<font color="#E5E5E5"> to any rack in your data center</font>

201
00:06:49,150 --> 00:06:53,900
via VLAN tagging<font color="#E5E5E5"> this is really great</font>

202
00:06:51,919 --> 00:06:56,029
<font color="#CCCCCC">for server mobility so in the virtual</font>

203
00:06:53,900 --> 00:06:59,479
virtualized world<font color="#E5E5E5"> we find ourselves</font>

204
00:06:56,029 --> 00:07:01,069
needing to move<font color="#CCCCCC"> servers from one rack</font>

205
00:06:59,479 --> 00:07:02,508
switch to<font color="#CCCCCC"> another rack switch from</font><font color="#E5E5E5"> one</font>

206
00:07:01,069 --> 00:07:04,069
physical<font color="#CCCCCC"> server another physical server</font>

207
00:07:02,509 --> 00:07:05,870
moving of<font color="#CCCCCC"> VMs</font><font color="#E5E5E5"> around we don't want to do</font>

208
00:07:04,069 --> 00:07:07,879
remembering we don't want to do reveal

209
00:07:05,870 --> 00:07:09,139
<font color="#CCCCCC">anning it's really nice to</font><font color="#E5E5E5"> mobile it</font>

210
00:07:07,879 --> 00:07:10,729
also allows for<font color="#CCCCCC"> your centralized</font>

211
00:07:09,139 --> 00:07:12,650
services<font color="#E5E5E5"> so you may have a server load</font>

212
00:07:10,729 --> 00:07:14,330
<font color="#CCCCCC">bounce or a firewall</font><font color="#E5E5E5"> that's acting</font>

213
00:07:12,650 --> 00:07:16,370
<font color="#E5E5E5">either in a transparent mode or in some</font>

214
00:07:14,330 --> 00:07:17,599
other layer<font color="#CCCCCC"> to mode</font><font color="#E5E5E5"> he can be plugged</font>

215
00:07:16,370 --> 00:07:20,240
right<font color="#E5E5E5"> in there at the distribution layer</font>

216
00:07:17,599 --> 00:07:21,610
and his internal<font color="#E5E5E5"> VLANs can be extended</font>

217
00:07:20,240 --> 00:07:24,229
<font color="#CCCCCC">to any rack switches</font>

218
00:07:21,610 --> 00:07:27,229
it also helps conserve public<font color="#E5E5E5"> ipv4</font>

219
00:07:24,229 --> 00:07:29,240
<font color="#E5E5E5">address space</font><font color="#CCCCCC"> so this means</font><font color="#E5E5E5"> that if you</font>

220
00:07:27,229 --> 00:07:31,639
<font color="#CCCCCC">are doing</font><font color="#E5E5E5"> public</font><font color="#CCCCCC"> IPS to your servers you</font>

221
00:07:29,240 --> 00:07:33,860
may designate<font color="#E5E5E5"> a slash 25 where the</font>

222
00:07:31,639 --> 00:07:35,990
public IP is on a<font color="#E5E5E5"> v-lin extended all</font>

223
00:07:33,860 --> 00:07:37,310
your<font color="#E5E5E5"> all rack switches and you</font><font color="#CCCCCC"> can fit</font>

224
00:07:35,990 --> 00:07:39,139
as<font color="#E5E5E5"> many servers you can squeeze in that</font>

225
00:07:37,310 --> 00:07:41,120
<font color="#CCCCCC">slash 24 there's no there two physical</font>

226
00:07:39,139 --> 00:07:44,270
limitations physical topological

227
00:07:41,120 --> 00:07:46,159
limitations one of the drawbacks<font color="#CCCCCC"> or many</font>

228
00:07:44,270 --> 00:07:49,068
drawbacks<font color="#CCCCCC"> of the layer</font><font color="#E5E5E5"> 2 and spanning</font>

229
00:07:46,159 --> 00:07:52,009
tree<font color="#E5E5E5"> so the stability</font><font color="#CCCCCC"> of your spanning</font>

230
00:07:49,069 --> 00:07:53,330
tree<font color="#E5E5E5"> really varies based on not</font><font color="#CCCCCC"> only</font>

231
00:07:52,009 --> 00:07:54,889
which vendors you use if<font color="#E5E5E5"> you have a</font>

232
00:07:53,330 --> 00:07:57,589
multi vendor environment<font color="#E5E5E5"> but in many</font>

233
00:07:54,889 --> 00:07:59,000
cases<font color="#CCCCCC"> even the model of switch</font><font color="#E5E5E5"> that you</font>

234
00:07:57,589 --> 00:08:02,300
might have<font color="#E5E5E5"> they the family of switch</font>

235
00:07:59,000 --> 00:08:04,430
from a specific<font color="#CCCCCC"> vendor in as I said</font>

236
00:08:02,300 --> 00:08:06,800
<font color="#E5E5E5">multiple vendors some vendors have</font>

237
00:08:04,430 --> 00:08:08,419
proprietary<font color="#E5E5E5"> add-ons</font><font color="#CCCCCC"> - spanning tree</font>

238
00:08:06,800 --> 00:08:09,830
which<font color="#E5E5E5"> work</font><font color="#CCCCCC"> really</font><font color="#E5E5E5"> well some vendors</font>

239
00:08:08,419 --> 00:08:11,719
won't provide<font color="#E5E5E5"> that and if you have a</font>

240
00:08:09,830 --> 00:08:13,068
multi vendor environment you may want to

241
00:08:11,719 --> 00:08:14,029
work with the least common<font color="#E5E5E5"> denominator</font>

242
00:08:13,069 --> 00:08:16,460
it's<font color="#CCCCCC"> gonna</font><font color="#E5E5E5"> reduce some of your</font>

243
00:08:14,029 --> 00:08:19,490
flexibility if you make a<font color="#E5E5E5"> configuration</font>

244
00:08:16,460 --> 00:08:22,460
error cabling error even<font color="#CCCCCC"> a</font><font color="#E5E5E5"> hardware</font>

245
00:08:19,490 --> 00:08:24,649
failure<font color="#CCCCCC"> or CPU</font><font color="#E5E5E5"> overrun this could cause</font>

246
00:08:22,460 --> 00:08:26,180
an entire network<font color="#E5E5E5"> to shut</font><font color="#CCCCCC"> down and I'm</font>

247
00:08:24,649 --> 00:08:27,680
sure many<font color="#E5E5E5"> of you have experienced this I</font>

248
00:08:26,180 --> 00:08:28,939
know I've seen<font color="#E5E5E5"> it many times I know I've</font>

249
00:08:27,680 --> 00:08:30,979
caused it a<font color="#E5E5E5"> couple times or in my</font>

250
00:08:28,939 --> 00:08:32,599
earlier<font color="#CCCCCC"> days and I always</font><font color="#E5E5E5"> tell my new</font>

251
00:08:30,979 --> 00:08:33,948
network engineers you will probably<font color="#CCCCCC"> take</font>

252
00:08:32,599 --> 00:08:35,810
the network<font color="#E5E5E5"> down within the first few</font>

253
00:08:33,948 --> 00:08:39,289
<font color="#CCCCCC">months and it's okay</font><font color="#E5E5E5"> if you do it once</font>

254
00:08:35,809 --> 00:08:40,609
just<font color="#E5E5E5"> don't do it twice please</font><font color="#CCCCCC"> network</font>

255
00:08:39,289 --> 00:08:42,708
troubles in a spanning tree environment

256
00:08:40,610 --> 00:08:45,260
can be<font color="#E5E5E5"> very difficult to trace track</font>

257
00:08:42,708 --> 00:08:47,930
<font color="#E5E5E5">down there isn't a lot</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> intelligent</font>

258
00:08:45,260 --> 00:08:49,640
there isn't a lot<font color="#CCCCCC"> of data available in</font>

259
00:08:47,930 --> 00:08:51,620
Spanish<font color="#E5E5E5"> around you can't just say show</font>

260
00:08:49,640 --> 00:08:53,720
<font color="#CCCCCC">me broken loop enter and I'll show</font><font color="#E5E5E5"> you</font>

261
00:08:51,620 --> 00:08:55,370
where the<font color="#CCCCCC"> problem is</font>

262
00:08:53,720 --> 00:08:56,960
it heavily depends on your<font color="#CCCCCC"> racks which</font>

263
00:08:55,370 --> 00:08:58,880
<font color="#CCCCCC">CPU health's at this point and when you</font>

264
00:08:56,960 --> 00:09:00,230
do this your rack switches<font color="#E5E5E5"> the ones that</font>

265
00:08:58,880 --> 00:09:01,520
are taking<font color="#CCCCCC"> care of blocking so you have</font>

266
00:09:00,230 --> 00:09:02,960
a hundred racks<font color="#CCCCCC"> you</font><font color="#E5E5E5"> have a hundred</font>

267
00:09:01,520 --> 00:09:05,180
<font color="#E5E5E5">different places that need a block if</font>

268
00:09:02,960 --> 00:09:08,089
one of those rack switches gets overrun

269
00:09:05,180 --> 00:09:09,890
somehow<font color="#E5E5E5"> he can't process those bpdu</font>

270
00:09:08,089 --> 00:09:12,290
packet so<font color="#CCCCCC"> spanning-tree signalling</font>

271
00:09:09,890 --> 00:09:14,569
packets he might fall back and<font color="#E5E5E5"> just</font>

272
00:09:12,290 --> 00:09:16,060
<font color="#CCCCCC">unblock because he didn't hear me PDUs</font>

273
00:09:14,570 --> 00:09:18,890
because he couldn't process it

274
00:09:16,060 --> 00:09:20,290
<font color="#CCCCCC">oftentimes</font><font color="#E5E5E5"> if you want better failover</font>

275
00:09:18,890 --> 00:09:22,760
performance<font color="#E5E5E5"> you want</font><font color="#CCCCCC"> better stability</font>

276
00:09:20,290 --> 00:09:24,800
<font color="#E5E5E5">you may need to actually do additional</font>

277
00:09:22,760 --> 00:09:27,260
<font color="#E5E5E5">tweaks maybe adjusting timers maybe</font>

278
00:09:24,800 --> 00:09:29,029
configuring some<font color="#E5E5E5"> vendors have extra</font>

279
00:09:27,260 --> 00:09:33,500
add-ons like<font color="#E5E5E5"> I said uplink fast backbone</font>

280
00:09:29,029 --> 00:09:35,900
fast<font color="#CCCCCC"> boot guard</font><font color="#E5E5E5"> guard</font><font color="#CCCCCC"> you also</font><font color="#E5E5E5"> are gonna</font>

281
00:09:33,500 --> 00:09:38,750
want<font color="#E5E5E5"> to you're gonna want to designate</font>

282
00:09:35,900 --> 00:09:43,100
<font color="#E5E5E5">edge ports</font><font color="#CCCCCC"> versus point-to-point links</font>

283
00:09:38,750 --> 00:09:44,390
<font color="#E5E5E5">and in in a in a typical spanning tree</font>

284
00:09:43,100 --> 00:09:46,820
environment where you're blocking all

285
00:09:44,390 --> 00:09:48,260
traffic on a single link you may not be

286
00:09:46,820 --> 00:09:50,900
able<font color="#CCCCCC"> to use</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> backup link</font><font color="#E5E5E5"> there are</font>

287
00:09:48,260 --> 00:09:52,339
variations with<font color="#CCCCCC"> p vs t with MST</font><font color="#E5E5E5"> where</font>

288
00:09:50,900 --> 00:09:54,260
you can designate some VLANs here and

289
00:09:52,339 --> 00:09:56,390
some VLANs there<font color="#E5E5E5"> it gets kind of messy</font>

290
00:09:54,260 --> 00:09:58,250
<font color="#E5E5E5">the rule of thumb for me is a backup</font>

291
00:09:56,390 --> 00:09:59,449
<font color="#CCCCCC">links a</font><font color="#E5E5E5"> backup link I never use</font><font color="#CCCCCC"> it so in</font>

292
00:09:58,250 --> 00:10:00,650
this case<font color="#CCCCCC"> you're really not</font><font color="#E5E5E5"> going</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> be</font>

293
00:09:59,450 --> 00:10:02,330
able<font color="#E5E5E5"> to take care and take advantage</font><font color="#CCCCCC"> of</font>

294
00:10:00,650 --> 00:10:04,420
<font color="#CCCCCC">that extra capacity</font><font color="#E5E5E5"> so and some some</font>

295
00:10:02,330 --> 00:10:08,810
people<font color="#E5E5E5"> might say you're wasting ports</font>

296
00:10:04,420 --> 00:10:10,339
model<font color="#CCCCCC"> 2 this</font><font color="#E5E5E5"> is a full layer 3 and this</font>

297
00:10:08,810 --> 00:10:12,439
and this<font color="#E5E5E5"> model is also pretty simple</font>

298
00:10:10,339 --> 00:10:14,600
<font color="#E5E5E5">your racks which is running</font><font color="#CCCCCC"> the layer 3</font>

299
00:10:12,440 --> 00:10:16,070
protocol he is the default gateway for

300
00:10:14,600 --> 00:10:19,430
<font color="#E5E5E5">your service is the</font><font color="#CCCCCC"> actual switch</font>

301
00:10:16,070 --> 00:10:20,810
located<font color="#E5E5E5"> in that rack you then have two</font>

302
00:10:19,430 --> 00:10:22,370
up links through distribution<font color="#E5E5E5"> layer you</font>

303
00:10:20,810 --> 00:10:25,040
number them and some slash 30 routing

304
00:10:22,370 --> 00:10:27,290
<font color="#CCCCCC">segment</font><font color="#E5E5E5"> and you run some flavor of</font><font color="#CCCCCC"> IGP</font>

305
00:10:25,040 --> 00:10:29,209
you can<font color="#E5E5E5"> even run ibgp ebgp if you want</font>

306
00:10:27,290 --> 00:10:31,699
some<font color="#E5E5E5"> routing protocol between iraq</font>

307
00:10:29,209 --> 00:10:33,770
switch and your distribution layer works

308
00:10:31,700 --> 00:10:35,000
pretty well<font color="#E5E5E5"> all servers in iraq or</font>

309
00:10:33,770 --> 00:10:37,040
exclusively<font color="#E5E5E5"> numbered</font><font color="#CCCCCC"> I'm gonna tell you</font>

310
00:10:35,000 --> 00:10:38,870
more about<font color="#CCCCCC"> that</font><font color="#E5E5E5"> in a moment distribution</font>

311
00:10:37,040 --> 00:10:41,050
switch<font color="#E5E5E5"> I said the point-to-point links</font>

312
00:10:38,870 --> 00:10:43,040
you're running a layer<font color="#E5E5E5"> 3 protocol</font>

313
00:10:41,050 --> 00:10:45,740
benefits of this<font color="#E5E5E5"> pretty simple to</font>

314
00:10:43,040 --> 00:10:47,390
understand<font color="#E5E5E5"> nice and simple layer 3 there</font>

315
00:10:45,740 --> 00:10:49,220
<font color="#E5E5E5">are no layer 2 loops no spanning for you</font>

316
00:10:47,390 --> 00:10:50,569
to worry about<font color="#CCCCCC"> it works</font><font color="#E5E5E5"> it very well in</font>

317
00:10:49,220 --> 00:10:52,459
a managed hosting environment we have a

318
00:10:50,570 --> 00:10:55,490
lot of<font color="#E5E5E5"> small subnets for customers maybe</font>

319
00:10:52,459 --> 00:10:57,500
customers may get<font color="#CCCCCC"> / 30s or / 28 and they</font>

320
00:10:55,490 --> 00:10:59,630
have a few<font color="#E5E5E5"> servers in Iraq it's very</font>

321
00:10:57,500 --> 00:11:01,700
robust<font color="#CCCCCC"> if you do make a</font><font color="#E5E5E5"> configuration</font>

322
00:10:59,630 --> 00:11:02,870
error<font color="#E5E5E5"> error usually</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> worst case</font>

323
00:11:01,700 --> 00:11:05,120
you're<font color="#E5E5E5"> going to do is take down a single</font>

324
00:11:02,870 --> 00:11:05,610
<font color="#E5E5E5">rack it's near impossible to take out an</font>

325
00:11:05,120 --> 00:11:06,870
entire

326
00:11:05,610 --> 00:11:08,279
a<font color="#CCCCCC"> dissenter</font><font color="#E5E5E5"> based on a single</font>

327
00:11:06,870 --> 00:11:11,339
configuration<font color="#CCCCCC"> error in a layer</font><font color="#E5E5E5"> 3</font>

328
00:11:08,279 --> 00:11:12,779
environment very easy<font color="#E5E5E5"> to verify your</font>

329
00:11:11,339 --> 00:11:14,190
backup connectivity you just go on<font color="#E5E5E5"> your</font>

330
00:11:12,779 --> 00:11:15,750
rack switch and look up the routing

331
00:11:14,190 --> 00:11:17,160
adjacencies or go on your<font color="#CCCCCC"> cores and look</font>

332
00:11:15,750 --> 00:11:18,990
<font color="#E5E5E5">downstream at your routing adjacencies</font>

333
00:11:17,160 --> 00:11:21,930
if you have an adjacency chances are

334
00:11:18,990 --> 00:11:23,940
that<font color="#E5E5E5"> link is pretty healthy this also</font>

335
00:11:21,930 --> 00:11:25,380
<font color="#E5E5E5">supports multi path on your</font><font color="#CCCCCC"> rack switch</font>

336
00:11:23,940 --> 00:11:27,029
so you can<font color="#CCCCCC"> take advantage</font><font color="#E5E5E5"> of</font><font color="#CCCCCC"> that backup</font>

337
00:11:25,380 --> 00:11:28,470
<font color="#E5E5E5">link so if you're announcing default to</font>

338
00:11:27,029 --> 00:11:31,200
your rack switch on<font color="#E5E5E5"> two links with the</font>

339
00:11:28,470 --> 00:11:33,240
same cost<font color="#E5E5E5"> many devices will simply load</font>

340
00:11:31,200 --> 00:11:34,709
share across those two<font color="#CCCCCC"> up links you're</font>

341
00:11:33,240 --> 00:11:37,769
actually utilizing your backup capacitor

342
00:11:34,709 --> 00:11:39,420
all it's available<font color="#CCCCCC"> so drawback here</font>

343
00:11:37,769 --> 00:11:40,410
number<font color="#E5E5E5"> one drawback and people are</font>

344
00:11:39,420 --> 00:11:42,540
<font color="#E5E5E5">watching the bottom line</font><font color="#CCCCCC"> it</font>

345
00:11:40,410 --> 00:11:44,310
significantly<font color="#CCCCCC"> increases the cost of your</font>

346
00:11:42,540 --> 00:11:47,640
rack switches<font color="#E5E5E5"> you need to be able to run</font>

347
00:11:44,310 --> 00:11:49,859
<font color="#CCCCCC">a a routing protocol as</font><font color="#E5E5E5"> Steenburgen said</font>

348
00:11:47,640 --> 00:11:51,720
on Sunday<font color="#E5E5E5"> if we can just decide that rip</font>

349
00:11:49,860 --> 00:11:54,390
v2 is<font color="#E5E5E5"> gonna die that's usually what you</font>

350
00:11:51,720 --> 00:11:56,870
get<font color="#CCCCCC"> for free</font><font color="#E5E5E5"> is some flavor of</font><font color="#CCCCCC"> rip</font><font color="#E5E5E5"> many</font>

351
00:11:54,390 --> 00:11:59,100
environments<font color="#E5E5E5"> if you want to run OSPF or</font>

352
00:11:56,870 --> 00:12:00,870
<font color="#E5E5E5">BGP you're gonna pay extra either</font>

353
00:11:59,100 --> 00:12:02,130
licensing fee sometimes an actual

354
00:12:00,870 --> 00:12:04,500
hardware key you need<font color="#E5E5E5"> to apply on</font><font color="#CCCCCC"> the</font>

355
00:12:02,130 --> 00:12:06,120
rack switch the racks have<font color="#E5E5E5"> to be</font>

356
00:12:04,500 --> 00:12:07,589
exclusively numbered I<font color="#E5E5E5"> mentioned that in</font>

357
00:12:06,120 --> 00:12:10,709
<font color="#E5E5E5">the diagram slide but that means is</font><font color="#CCCCCC"> that</font>

358
00:12:07,589 --> 00:12:13,500
this one rack is given this<font color="#E5E5E5"> slash 24</font>

359
00:12:10,709 --> 00:12:15,569
<font color="#CCCCCC">less than RFC 1918 world</font><font color="#E5E5E5"> and that slash</font>

360
00:12:13,500 --> 00:12:17,250
24<font color="#E5E5E5"> can exist in any other rack which</font>

361
00:12:15,570 --> 00:12:19,470
works if you're all running<font color="#CCCCCC"> back as RFC</font>

362
00:12:17,250 --> 00:12:22,199
1918 in your data center because RFC

363
00:12:19,470 --> 00:12:24,120
1918 is free the downside<font color="#CCCCCC"> of being</font>

364
00:12:22,199 --> 00:12:26,010
exclusively numbered is you can end up

365
00:12:24,120 --> 00:12:26,970
with inefficient use of ipv4<font color="#E5E5E5"> address</font>

366
00:12:26,010 --> 00:12:29,370
space<font color="#E5E5E5"> let's say you're running public</font>

367
00:12:26,970 --> 00:12:31,649
<font color="#CCCCCC">IPS you</font><font color="#E5E5E5"> decide this</font><font color="#CCCCCC"> Rack is going to get</font>

368
00:12:29,370 --> 00:12:33,660
this<font color="#E5E5E5"> slash 26 with a bad rest space and</font>

369
00:12:31,649 --> 00:12:35,850
he's locked<font color="#E5E5E5"> down to that rack only</font><font color="#CCCCCC"> well</font>

370
00:12:33,660 --> 00:12:38,610
if you only<font color="#CCCCCC"> have 40 servers in that</font><font color="#E5E5E5"> rack</font>

371
00:12:35,850 --> 00:12:41,100
<font color="#CCCCCC">you're wasting 21 public IPs and that's</font>

372
00:12:38,610 --> 00:12:42,480
really not responsible<font color="#E5E5E5"> so you're stuck</font>

373
00:12:41,100 --> 00:12:45,209
in the environment<font color="#E5E5E5"> where well I can use</font>

374
00:12:42,480 --> 00:12:48,480
<font color="#E5E5E5">13 public IPS or 29 public</font><font color="#CCCCCC"> IPs or 61</font>

375
00:12:45,209 --> 00:12:51,239
public<font color="#E5E5E5"> ip's per rack 13 is pretty small</font>

376
00:12:48,480 --> 00:12:52,920
for most<font color="#E5E5E5"> of us 29 if you have 22 servers</font>

377
00:12:51,240 --> 00:12:53,970
in the rack that's pretty<font color="#E5E5E5"> decent if your</font>

378
00:12:52,920 --> 00:12:55,439
<font color="#E5E5E5">tube running typical data center</font>

379
00:12:53,970 --> 00:12:56,940
<font color="#E5E5E5">environment but if you have a very high</font>

380
00:12:55,440 --> 00:12:58,980
<font color="#E5E5E5">density environment or you have blades</font>

381
00:12:56,940 --> 00:13:01,260
or whatnot<font color="#E5E5E5"> you might find</font><font color="#CCCCCC"> that you need</font>

382
00:12:58,980 --> 00:13:03,870
more addresses than that so that's<font color="#E5E5E5"> when</font>

383
00:13:01,260 --> 00:13:05,819
I say the exclusive numbering<font color="#CCCCCC"> may be a</font>

384
00:13:03,870 --> 00:13:07,380
problem<font color="#CCCCCC"> for you</font><font color="#E5E5E5"> the other problem with</font>

385
00:13:05,820 --> 00:13:10,170
exclusive numbering is relocating a

386
00:13:07,380 --> 00:13:11,970
server physical server or a VM from<font color="#CCCCCC"> rack</font>

387
00:13:10,170 --> 00:13:16,060
track means that you need<font color="#CCCCCC"> to</font><font color="#E5E5E5"> go ahead</font>

388
00:13:11,970 --> 00:13:17,740
<font color="#E5E5E5">and renumber and</font>

389
00:13:16,060 --> 00:13:18,878
because you can't<font color="#E5E5E5"> just take an IP</font>

390
00:13:17,740 --> 00:13:20,860
address<font color="#CCCCCC"> and move it to another rack</font>

391
00:13:18,879 --> 00:13:23,350
<font color="#E5E5E5">because</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> default gateway</font><font color="#CCCCCC"> is locked</font>

392
00:13:20,860 --> 00:13:27,759
down to that initial rack<font color="#CCCCCC"> it also limits</font>

393
00:13:23,350 --> 00:13:29,079
<font color="#E5E5E5">your NIC teaming abilities and I'm</font>

394
00:13:27,759 --> 00:13:30,629
drawing<font color="#E5E5E5"> a blank on why I put</font><font color="#CCCCCC"> that in the</font>

395
00:13:29,079 --> 00:13:32,589
slide<font color="#E5E5E5"> but we'll get to NIC teaming later</font>

396
00:13:30,629 --> 00:13:35,170
additional<font color="#E5E5E5"> services in layer</font><font color="#CCCCCC"> 3</font>

397
00:13:32,589 --> 00:13:36,790
environment if you have<font color="#CCCCCC"> SLB firewalling</font>

398
00:13:35,170 --> 00:13:40,719
that wants<font color="#E5E5E5"> to be running transparently</font>

399
00:13:36,790 --> 00:13:43,209
in layer<font color="#E5E5E5"> 2 or wants to be doing proxying</font>

400
00:13:40,720 --> 00:13:45,639
back towards the server<font color="#E5E5E5"> you now need</font><font color="#CCCCCC"> a</font>

401
00:13:43,209 --> 00:13:47,619
deployed in a layer 3<font color="#E5E5E5"> environment you</font>

402
00:13:45,639 --> 00:13:49,120
can't<font color="#CCCCCC"> your your load balance and your</font>

403
00:13:47,620 --> 00:13:50,589
firewalls can't enter into the server

404
00:13:49,120 --> 00:13:53,230
based VLAN they need to be off to the

405
00:13:50,589 --> 00:13:55,120
<font color="#E5E5E5">side</font><font color="#CCCCCC"> and maybe you need</font><font color="#E5E5E5"> some PBR tricks</font>

406
00:13:53,230 --> 00:13:57,339
<font color="#E5E5E5">or some other routing protocol running</font>

407
00:13:55,120 --> 00:13:59,699
<font color="#E5E5E5">on the on those services modules or</font>

408
00:13:57,339 --> 00:14:02,769
service appliances coming off the side

409
00:13:59,699 --> 00:14:04,300
so model 3 this is kind of kind<font color="#CCCCCC"> of a mix</font>

410
00:14:02,769 --> 00:14:06,220
and<font color="#E5E5E5"> match where you do while you decided</font>

411
00:14:04,300 --> 00:14:08,949
layer 3 I'm<font color="#E5E5E5"> ok</font><font color="#CCCCCC"> with all the</font><font color="#E5E5E5"> drawbacks</font>

412
00:14:06,220 --> 00:14:11,079
but<font color="#E5E5E5"> I just can't afford layer 3 switches</font>

413
00:14:08,949 --> 00:14:12,310
in my rack<font color="#CCCCCC"> so this model isn't</font><font color="#E5E5E5"> very</font>

414
00:14:11,079 --> 00:14:13,870
obvious to<font color="#CCCCCC"> people</font><font color="#E5E5E5"> and I find myself</font>

415
00:14:12,310 --> 00:14:16,839
having<font color="#CCCCCC"> to explain it a couple times so I</font>

416
00:14:13,870 --> 00:14:19,180
figured I'd eat a linear so the racks

417
00:14:16,839 --> 00:14:20,740
which is an inexpensive layer<font color="#CCCCCC"> two racks</font>

418
00:14:19,180 --> 00:14:22,239
which it can even be unmanaged although

419
00:14:20,740 --> 00:14:23,649
I don't<font color="#CCCCCC"> recommend it I do like having</font><font color="#E5E5E5"> an</font>

420
00:14:22,240 --> 00:14:26,230
IP address<font color="#CCCCCC"> in my</font><font color="#E5E5E5"> rack switch so I can do</font>

421
00:14:23,649 --> 00:14:27,540
SNMP monitoring temperature power I can

422
00:14:26,230 --> 00:14:29,740
log<font color="#E5E5E5"> into</font><font color="#CCCCCC"> it if I need to make changes</font>

423
00:14:27,540 --> 00:14:32,050
<font color="#E5E5E5">but</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> generally have</font><font color="#CCCCCC"> a dumb</font><font color="#E5E5E5"> racks which</font>

424
00:14:29,740 --> 00:14:34,899
<font color="#CCCCCC">it's</font><font color="#E5E5E5"> layer</font><font color="#CCCCCC"> 2 he has two up links to a</font>

425
00:14:32,050 --> 00:14:37,120
distribution<font color="#E5E5E5"> layer the distribution</font>

426
00:14:34,899 --> 00:14:39,459
layer is physical ports<font color="#CCCCCC"> are layer 3</font>

427
00:14:37,120 --> 00:14:41,050
ports so it's a routed port facing the

428
00:14:39,459 --> 00:14:42,638
rack switch and between<font color="#E5E5E5"> the distribution</font>

429
00:14:41,050 --> 00:14:45,819
layer<font color="#E5E5E5"> you're running some kind of a</font>

430
00:14:42,639 --> 00:14:48,550
<font color="#E5E5E5">chess RPE</font><font color="#CCCCCC"> VRP</font><font color="#E5E5E5"> some</font><font color="#CCCCCC"> next hop redundancy</font>

431
00:14:45,819 --> 00:14:50,110
protocol<font color="#E5E5E5"> and the default gateway for the</font>

432
00:14:48,550 --> 00:14:53,290
<font color="#CCCCCC">servers</font><font color="#E5E5E5"> is now at the distribution layer</font>

433
00:14:50,110 --> 00:14:55,000
and typically<font color="#E5E5E5"> it'll be on one</font>

434
00:14:53,290 --> 00:14:56,469
distribution switch<font color="#E5E5E5"> if you want you can</font>

435
00:14:55,000 --> 00:14:57,550
run multiple default gateways and

436
00:14:56,470 --> 00:15:00,819
alternate if you want to try to utilize

437
00:14:57,550 --> 00:15:02,949
<font color="#E5E5E5">both up links again all servers have to</font>

438
00:15:00,819 --> 00:15:04,420
be exclusively numbered and their

439
00:15:02,949 --> 00:15:06,370
distribution<font color="#CCCCCC"> switches will then go ahead</font>

440
00:15:04,420 --> 00:15:10,680
<font color="#E5E5E5">and announce the subnet for that rack</font>

441
00:15:06,370 --> 00:15:15,009
<font color="#E5E5E5">into</font><font color="#CCCCCC"> I GP</font><font color="#E5E5E5"> based on physical interface</font>

442
00:15:10,680 --> 00:15:16,959
<font color="#E5E5E5">link state</font><font color="#CCCCCC"> something of the zip through</font>

443
00:15:15,009 --> 00:15:18,519
<font color="#E5E5E5">some of the detailed slides so in the</font>

444
00:15:16,959 --> 00:15:20,529
way that redundancy works you have<font color="#E5E5E5"> your</font>

445
00:15:18,519 --> 00:15:22,269
up links running just<font color="#E5E5E5"> fine</font><font color="#CCCCCC"> everyone's</font>

446
00:15:20,529 --> 00:15:23,740
working<font color="#E5E5E5"> wonderfully let's say a link is</font>

447
00:15:22,269 --> 00:15:26,230
severed<font color="#E5E5E5"> what's</font><font color="#CCCCCC"> gonna</font><font color="#E5E5E5"> happen is if a link</font>

448
00:15:23,740 --> 00:15:27,939
is severed<font color="#E5E5E5"> towards distribution switch</font>

449
00:15:26,230 --> 00:15:29,530
number<font color="#E5E5E5"> one distribution switch one will</font>

450
00:15:27,939 --> 00:15:31,390
realize well my link is down

451
00:15:29,530 --> 00:15:33,670
so I'm gonna go<font color="#E5E5E5"> ahead I'm gonna withdraw</font>

452
00:15:31,390 --> 00:15:35,080
the<font color="#CCCCCC"> outreach</font><font color="#E5E5E5"> ability from the IGP</font>

453
00:15:33,670 --> 00:15:37,810
because my physical link<font color="#CCCCCC"> and that subnet</font>

454
00:15:35,080 --> 00:15:38,980
<font color="#E5E5E5">is down the redundancy protocol between</font>

455
00:15:37,810 --> 00:15:41,260
<font color="#CCCCCC">the two distributions is going to</font>

456
00:15:38,980 --> 00:15:43,240
<font color="#CCCCCC">failover</font><font color="#E5E5E5"> usually it's a it's a time base</font>

457
00:15:41,260 --> 00:15:44,710
<font color="#CCCCCC">to low failover</font><font color="#E5E5E5"> and distribution switch</font>

458
00:15:43,240 --> 00:15:46,270
<font color="#E5E5E5">to is going</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> take over for the default</font>

459
00:15:44,710 --> 00:15:46,810
gateway<font color="#CCCCCC"> and everything continues as</font>

460
00:15:46,270 --> 00:15:48,689
<font color="#CCCCCC">normal</font>

461
00:15:46,810 --> 00:15:50,920
there's a brief hit<font color="#E5E5E5"> anywhere from</font>

462
00:15:48,690 --> 00:15:52,690
fractions of a second to maybe up to two

463
00:15:50,920 --> 00:15:54,130
seconds<font color="#E5E5E5"> depending on your next hop</font>

464
00:15:52,690 --> 00:15:55,270
redundancy protocol depending on the

465
00:15:54,130 --> 00:15:56,560
routing<font color="#E5E5E5"> protocol you're running</font><font color="#CCCCCC"> within</font>

466
00:15:55,270 --> 00:15:59,850
your environment<font color="#CCCCCC"> but it works pretty</font>

467
00:15:56,560 --> 00:16:02,020
well<font color="#CCCCCC"> when you restore connectivity</font>

468
00:15:59,850 --> 00:16:03,790
restoring connectivity usually is<font color="#E5E5E5"> a zero</font>

469
00:16:02,020 --> 00:16:05,380
hit operation everything returns to

470
00:16:03,790 --> 00:16:06,459
normal<font color="#CCCCCC"> if you're running preemption</font>

471
00:16:05,380 --> 00:16:10,120
maybe your<font color="#CCCCCC"> next hop we're gonna see</font>

472
00:16:06,460 --> 00:16:13,990
fails<font color="#E5E5E5"> back but either way it works very</font>

473
00:16:10,120 --> 00:16:16,330
nicely the benefits of<font color="#E5E5E5"> this model is</font>

474
00:16:13,990 --> 00:16:17,320
again no STP<font color="#E5E5E5"> no layer two loops you</font>

475
00:16:16,330 --> 00:16:18,490
don't have to worry<font color="#E5E5E5"> about taking down</font>

476
00:16:17,320 --> 00:16:20,740
your<font color="#E5E5E5"> whole data center if somebody plugs</font>

477
00:16:18,490 --> 00:16:23,050
on<font color="#E5E5E5"> the wire and correctly lower cost in</font>

478
00:16:20,740 --> 00:16:24,640
<font color="#E5E5E5">the full level layer</font><font color="#CCCCCC"> three model because</font>

479
00:16:23,050 --> 00:16:26,349
the rack switches<font color="#E5E5E5"> are layer two only in</font>

480
00:16:24,640 --> 00:16:28,600
some<font color="#E5E5E5"> cases can</font><font color="#CCCCCC"> be extremely inexpensive</font>

481
00:16:26,350 --> 00:16:30,790
rack switches<font color="#E5E5E5"> it can actually even be</font>

482
00:16:28,600 --> 00:16:34,270
less expensive<font color="#E5E5E5"> than</font><font color="#CCCCCC"> the STP protocol it</font>

483
00:16:30,790 --> 00:16:36,930
can be multi vendor it can be a $45 you

484
00:16:34,270 --> 00:16:39,040
bought it at Fry's switch even<font color="#E5E5E5"> works</font>

485
00:16:36,930 --> 00:16:40,569
<font color="#E5E5E5">again I don't</font><font color="#CCCCCC"> recommend that</font><font color="#E5E5E5"> I like</font>

486
00:16:39,040 --> 00:16:43,150
managing<font color="#E5E5E5"> I like being able to reach my</font>

487
00:16:40,570 --> 00:16:45,820
switches one of the drawbacks of course

488
00:16:43,150 --> 00:16:47,680
<font color="#E5E5E5">as we</font><font color="#CCCCCC"> said</font><font color="#E5E5E5"> with layer</font><font color="#CCCCCC"> 3 you</font><font color="#E5E5E5"> need</font>

489
00:16:45,820 --> 00:16:49,960
exclusive numbering so one subnet is

490
00:16:47,680 --> 00:16:54,729
<font color="#E5E5E5">locked to that rack so you're also going</font>

491
00:16:49,960 --> 00:16:56,500
<font color="#CCCCCC">to get ipv4 inefficiencies</font><font color="#E5E5E5"> you you can't</font>

492
00:16:54,730 --> 00:16:58,420
use the upstream backup link capacity

493
00:16:56,500 --> 00:17:00,190
from<font color="#E5E5E5"> the servers to</font><font color="#CCCCCC"> the distribution</font>

494
00:16:58,420 --> 00:17:03,849
<font color="#E5E5E5">unless you're running additional</font>

495
00:17:00,190 --> 00:17:05,829
configuration<font color="#CCCCCC"> you may have</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> VRP IPs</font>

496
00:17:03,850 --> 00:17:10,569
with alternating servers there is a

497
00:17:05,829 --> 00:17:12,339
proprietary<font color="#CCCCCC"> gb LP which alternates Mac</font>

498
00:17:10,569 --> 00:17:13,480
responses<font color="#CCCCCC"> their fancy ways to get around</font>

499
00:17:12,339 --> 00:17:15,220
<font color="#E5E5E5">it again I'm gonna keep the simple</font>

500
00:17:13,480 --> 00:17:16,630
<font color="#E5E5E5">stupid kind of guy you just</font><font color="#CCCCCC"> can't</font><font color="#E5E5E5"> use</font>

501
00:17:15,220 --> 00:17:18,310
<font color="#E5E5E5">your backup</font><font color="#CCCCCC"> in the upstream direction</font>

502
00:17:16,630 --> 00:17:21,850
<font color="#CCCCCC">although</font><font color="#E5E5E5"> you can</font><font color="#CCCCCC"> use it</font><font color="#E5E5E5"> down towards the</font>

503
00:17:18,310 --> 00:17:23,889
<font color="#E5E5E5">servers this may impose multi netting if</font>

504
00:17:21,849 --> 00:17:25,540
if you if you come back and<font color="#CCCCCC"> you say you</font>

505
00:17:23,890 --> 00:17:26,740
know what<font color="#CCCCCC"> I actually want to</font><font color="#E5E5E5"> have a few</font>

506
00:17:25,540 --> 00:17:28,359
different<font color="#E5E5E5"> subnets in this rack</font>

507
00:17:26,740 --> 00:17:30,100
well since you only<font color="#CCCCCC"> have one physical</font>

508
00:17:28,359 --> 00:17:31,689
interface<font color="#E5E5E5"> you may you may need to do</font>

509
00:17:30,100 --> 00:17:32,709
multi netting have multiple subnets

510
00:17:31,690 --> 00:17:34,600
available on that interface<font color="#E5E5E5"> to</font>

511
00:17:32,710 --> 00:17:36,940
distribution<font color="#CCCCCC"> otherwise you can also get</font>

512
00:17:34,600 --> 00:17:38,649
around that by doing<font color="#E5E5E5"> dot1q sub</font>

513
00:17:36,940 --> 00:17:41,350
interfaces later<font color="#CCCCCC"> through sub interfaces</font>

514
00:17:38,650 --> 00:17:42,700
<font color="#E5E5E5">down towards your racks which this is</font>

515
00:17:41,350 --> 00:17:43,310
<font color="#E5E5E5">not very common or straightforward I</font>

516
00:17:42,700 --> 00:17:45,050
find that I have

517
00:17:43,310 --> 00:17:46,220
<font color="#E5E5E5">explain it multiple times to</font><font color="#CCCCCC"> people and</font>

518
00:17:45,050 --> 00:17:47,629
they<font color="#CCCCCC"> just</font><font color="#E5E5E5"> don't</font><font color="#CCCCCC"> realize how well it's</font>

519
00:17:46,220 --> 00:17:49,580
layer<font color="#CCCCCC"> three but</font><font color="#E5E5E5"> man</font><font color="#CCCCCC"> I gotta layer two</font>

520
00:17:47,630 --> 00:17:51,050
racks which so one<font color="#CCCCCC"> of the downsides here</font>

521
00:17:49,580 --> 00:17:52,250
is<font color="#E5E5E5"> that you might have to have to</font><font color="#CCCCCC"> take</font>

522
00:17:51,050 --> 00:17:53,690
<font color="#E5E5E5">some extra</font><font color="#CCCCCC"> time with</font><font color="#E5E5E5"> training you might</font>

523
00:17:52,250 --> 00:17:57,670
<font color="#E5E5E5">have to react</font><font color="#CCCCCC"> splain to your management</font>

524
00:17:53,690 --> 00:17:57,670
<font color="#E5E5E5">or to new engineers kind of how it works</font>

525
00:17:58,130 --> 00:18:02,780
next model<font color="#E5E5E5"> here is link failover</font><font color="#CCCCCC"> this is</font>

526
00:18:00,140 --> 00:18:04,670
a kind of<font color="#CCCCCC"> interesting one</font><font color="#E5E5E5"> I've deployed</font>

527
00:18:02,780 --> 00:18:06,530
this in<font color="#E5E5E5"> one single very small</font>

528
00:18:04,670 --> 00:18:08,660
environment<font color="#CCCCCC"> I</font><font color="#E5E5E5"> mean two racks of small</font>

529
00:18:06,530 --> 00:18:12,379
environment<font color="#E5E5E5"> I haven't deployed in a</font>

530
00:18:08,660 --> 00:18:15,950
large environment<font color="#CCCCCC"> very simply stated</font>

531
00:18:12,380 --> 00:18:18,530
your racks which is running<font color="#E5E5E5"> a some type</font>

532
00:18:15,950 --> 00:18:20,090
<font color="#CCCCCC">of link failover</font><font color="#E5E5E5"> protocol where when you</font>

533
00:18:18,530 --> 00:18:22,070
configure racks which you identify<font color="#E5E5E5"> one</font>

534
00:18:20,090 --> 00:18:24,860
port as your primary<font color="#CCCCCC"> and the</font><font color="#E5E5E5"> other port</font>

535
00:18:22,070 --> 00:18:27,290
is your<font color="#E5E5E5"> backup and as long</font><font color="#CCCCCC"> as the</font>

536
00:18:24,860 --> 00:18:30,709
primary<font color="#E5E5E5"> is up no traffic is switch to</font>

537
00:18:27,290 --> 00:18:32,840
<font color="#CCCCCC">the backup this is a layer two model</font>

538
00:18:30,710 --> 00:18:34,730
where you<font color="#CCCCCC"> have you you are almost</font>

539
00:18:32,840 --> 00:18:35,959
creating a loop of VLANs but you're

540
00:18:34,730 --> 00:18:40,820
<font color="#E5E5E5">actually relying upon a different</font><font color="#CCCCCC"> type</font>

541
00:18:35,960 --> 00:18:42,530
of protocol<font color="#E5E5E5"> to block that loop many</font>

542
00:18:40,820 --> 00:18:43,760
vendors<font color="#E5E5E5"> support this I'm gonna just</font>

543
00:18:42,530 --> 00:18:45,200
telling you the four that I personally

544
00:18:43,760 --> 00:18:46,640
<font color="#E5E5E5">spend a lot of time working with if</font>

545
00:18:45,200 --> 00:18:47,750
you're not included here my apologies

546
00:18:46,640 --> 00:18:49,910
just means<font color="#E5E5E5"> that I haven't worked with</font>

547
00:18:47,750 --> 00:18:51,140
<font color="#E5E5E5">your product that much</font><font color="#CCCCCC"> but I want</font><font color="#E5E5E5"> to I</font>

548
00:18:49,910 --> 00:18:52,430
need<font color="#CCCCCC"> to</font><font color="#E5E5E5"> give you these names because</font>

549
00:18:51,140 --> 00:18:53,570
these are<font color="#E5E5E5"> kind</font><font color="#CCCCCC"> of hard to</font><font color="#E5E5E5"> find in the</font>

550
00:18:52,430 --> 00:18:54,770
<font color="#CCCCCC">docs and</font><font color="#E5E5E5"> you need to want to know the</font>

551
00:18:53,570 --> 00:18:56,659
specific name<font color="#CCCCCC"> Cisco is going to call</font>

552
00:18:54,770 --> 00:18:58,730
this a flex link founders gonna call it

553
00:18:56,660 --> 00:19:00,410
protected<font color="#E5E5E5"> link groups the e x-series of</font>

554
00:18:58,730 --> 00:19:02,330
<font color="#E5E5E5">Juniper calls us redundant trunk links</font>

555
00:19:00,410 --> 00:19:04,430
and forced<font color="#CCCCCC"> ten calls us redundant paths</font>

556
00:19:02,330 --> 00:19:07,850
<font color="#E5E5E5">in the forest</font><font color="#CCCCCC"> ten Cisco</font><font color="#E5E5E5"> world is also</font>

557
00:19:04,430 --> 00:19:09,350
called switch port back up the way the

558
00:19:07,850 --> 00:19:11,300
redundancy works if the primary<font color="#E5E5E5"> link is</font>

559
00:19:09,350 --> 00:19:13,219
severed<font color="#E5E5E5"> the racks which will detect I</font>

560
00:19:11,300 --> 00:19:14,899
lost my primer link<font color="#CCCCCC"> gonna</font><font color="#E5E5E5"> go ahead and</font>

561
00:19:13,220 --> 00:19:18,200
<font color="#E5E5E5">switch traffic up to the backup link and</font>

562
00:19:14,900 --> 00:19:20,840
all is<font color="#E5E5E5"> all</font><font color="#CCCCCC"> is</font><font color="#E5E5E5"> wonderful one of</font><font color="#CCCCCC"> the</font>

563
00:19:18,200 --> 00:19:22,430
<font color="#E5E5E5">benefits is we're not relying upon the</font>

564
00:19:20,840 --> 00:19:24,350
<font color="#E5E5E5">health of the the health of the switch</font>

565
00:19:22,430 --> 00:19:26,480
<font color="#E5E5E5">she's not relying upon VP to use being</font>

566
00:19:24,350 --> 00:19:28,790
processed and timers expiring<font color="#CCCCCC"> it's</font>

567
00:19:26,480 --> 00:19:30,980
pretty simple<font color="#E5E5E5"> binary if</font><font color="#CCCCCC"> link up link</font>

568
00:19:28,790 --> 00:19:32,090
down if link down linked up<font color="#E5E5E5"> no complex</font>

569
00:19:30,980 --> 00:19:34,490
state machines that all the different

570
00:19:32,090 --> 00:19:36,230
<font color="#CCCCCC">various STP protocols</font><font color="#E5E5E5"> have</font><font color="#CCCCCC"> to offer you</font>

571
00:19:34,490 --> 00:19:37,970
<font color="#E5E5E5">during the steady state there is</font><font color="#CCCCCC"> no loop</font>

572
00:19:36,230 --> 00:19:41,330
<font color="#E5E5E5">the backup link is never passing</font>

573
00:19:37,970 --> 00:19:43,460
production traffic it may provide rapid

574
00:19:41,330 --> 00:19:44,870
failover<font color="#E5E5E5"> in certain conditions</font><font color="#CCCCCC"> link goes</font>

575
00:19:43,460 --> 00:19:47,360
down link goes up it's<font color="#E5E5E5"> actually pretty</font>

576
00:19:44,870 --> 00:19:49,489
quick to detect<font color="#E5E5E5"> that there is reduce</font>

577
00:19:47,360 --> 00:19:50,959
interoperability concern so if the racks

578
00:19:49,490 --> 00:19:52,310
which provides<font color="#CCCCCC"> this</font><font color="#E5E5E5"> feature you're</font>

579
00:19:50,960 --> 00:19:53,630
really not<font color="#CCCCCC"> concerned about what vendor</font>

580
00:19:52,310 --> 00:19:54,679
what special tweaks

581
00:19:53,630 --> 00:19:55,790
you're not even<font color="#E5E5E5"> concerned about what</font>

582
00:19:54,680 --> 00:19:56,659
<font color="#E5E5E5">you're running in distribution layer as</font>

583
00:19:55,790 --> 00:19:58,849
long as the racks

584
00:19:56,659 --> 00:20:01,940
provides us feature and it has the same

585
00:19:58,849 --> 00:20:04,428
server mobility same ipv4 efficiencies

586
00:20:01,940 --> 00:20:06,619
as<font color="#CCCCCC"> typical air to all</font><font color="#E5E5E5"> VLANs to all all</font>

587
00:20:04,429 --> 00:20:09,349
data<font color="#E5E5E5"> all switch off all VLANs to all</font>

588
00:20:06,619 --> 00:20:12,320
racks if you so decide then one<font color="#E5E5E5"> of the</font>

589
00:20:09,349 --> 00:20:14,599
drawbacks of this<font color="#E5E5E5"> link failover</font><font color="#CCCCCC"> with</font>

590
00:20:12,320 --> 00:20:16,580
some of the<font color="#E5E5E5"> vendors the backup link is</font>

591
00:20:14,599 --> 00:20:19,039
<font color="#E5E5E5">actually in a down than actual link down</font>

592
00:20:16,580 --> 00:20:20,269
<font color="#CCCCCC">state</font><font color="#E5E5E5"> problem with</font><font color="#CCCCCC"> that is you can't</font>

593
00:20:19,039 --> 00:20:22,070
confirm<font color="#E5E5E5"> if it's plugged in the right</font>

594
00:20:20,269 --> 00:20:23,450
place you<font color="#E5E5E5"> can't guarantee that there is</font>

595
00:20:22,070 --> 00:20:25,639
a backup<font color="#E5E5E5"> port available</font><font color="#CCCCCC"> because when you</font>

596
00:20:23,450 --> 00:20:26,779
do a show<font color="#CCCCCC"> in</font><font color="#E5E5E5"> status show in brief you're</font>

597
00:20:25,639 --> 00:20:29,299
<font color="#CCCCCC">saying what the</font><font color="#E5E5E5"> link is actually then</font>

598
00:20:26,779 --> 00:20:31,159
you also can't always<font color="#E5E5E5"> map the backup</font>

599
00:20:29,299 --> 00:20:32,539
interface if you don't keep very<font color="#CCCCCC"> good</font>

600
00:20:31,159 --> 00:20:34,820
<font color="#CCCCCC">documentation of your network and</font><font color="#E5E5E5"> you're</font>

601
00:20:32,539 --> 00:20:36,679
<font color="#E5E5E5">relying upon things like lldp or CDP or</font>

602
00:20:34,820 --> 00:20:38,470
<font color="#E5E5E5">FTP well you can't map those backup</font>

603
00:20:36,679 --> 00:20:41,090
links because they actually<font color="#CCCCCC"> show us down</font>

604
00:20:38,470 --> 00:20:43,519
<font color="#E5E5E5">also</font><font color="#CCCCCC"> with a</font><font color="#E5E5E5"> link physical link down you</font>

605
00:20:41,090 --> 00:20:44,720
may find those<font color="#CCCCCC"> a delays in failover</font><font color="#E5E5E5"> due</font>

606
00:20:43,519 --> 00:20:46,009
to spanning tree<font color="#CCCCCC"> that may be running on</font>

607
00:20:44,720 --> 00:20:47,749
your<font color="#CCCCCC"> distribution layer spanning tree is</font>

608
00:20:46,009 --> 00:20:50,029
<font color="#E5E5E5">always a great</font><font color="#CCCCCC"> idea</font><font color="#E5E5E5"> in my</font><font color="#CCCCCC"> opinion to</font>

609
00:20:47,749 --> 00:20:51,590
turn on as a safety<font color="#E5E5E5"> net just in case</font>

610
00:20:50,029 --> 00:20:53,749
<font color="#CCCCCC">even if you've</font><font color="#E5E5E5"> not intentionally putting</font>

611
00:20:51,590 --> 00:20:55,249
up loops but what'll happen is when you

612
00:20:53,749 --> 00:20:56,960
have a primary link goes down second

613
00:20:55,249 --> 00:20:58,580
link comes up link comes up you may

614
00:20:56,960 --> 00:20:59,869
actually have<font color="#CCCCCC"> a time delay before</font>

615
00:20:58,580 --> 00:21:04,189
<font color="#E5E5E5">forwarding occurs from a distribution</font>

616
00:20:59,869 --> 00:21:06,168
switch down<font color="#E5E5E5"> to that rack so having the</font>

617
00:21:04,190 --> 00:21:07,489
lack of any kind of protocol running

618
00:21:06,169 --> 00:21:08,809
<font color="#CCCCCC">between the</font><font color="#E5E5E5"> racks which to the</font>

619
00:21:07,489 --> 00:21:10,789
<font color="#CCCCCC">distribution layer is</font><font color="#E5E5E5"> gonna limit the</font>

620
00:21:08,809 --> 00:21:12,649
knowledge of your redundancy<font color="#CCCCCC"> you may</font>

621
00:21:10,789 --> 00:21:13,669
even<font color="#E5E5E5"> have</font><font color="#CCCCCC"> some</font><font color="#E5E5E5"> unexpected surprises</font>

622
00:21:12,649 --> 00:21:15,709
where your back<font color="#CCCCCC"> afflict never got</font>

623
00:21:13,669 --> 00:21:18,139
plugged in or got moved and that<font color="#E5E5E5"> new</font>

624
00:21:15,710 --> 00:21:20,899
cable wasn't working right<font color="#E5E5E5"> pin 1 wasn't</font>

625
00:21:18,139 --> 00:21:22,459
fully crimped in you can't load<font color="#CCCCCC"> balance</font>

626
00:21:20,899 --> 00:21:23,988
in this<font color="#CCCCCC"> environment typically</font><font color="#E5E5E5"> again</font>

627
00:21:22,460 --> 00:21:25,129
there are a couple proprietary

628
00:21:23,989 --> 00:21:27,200
exceptions<font color="#CCCCCC"> that I recommend staying</font>

629
00:21:25,129 --> 00:21:30,590
<font color="#E5E5E5">against but primary link up backup link</font>

630
00:21:27,200 --> 00:21:32,149
down<font color="#E5E5E5"> completely unusable and in in some</font>

631
00:21:30,590 --> 00:21:34,428
environment with<font color="#CCCCCC"> some vendors when you</font>

632
00:21:32,149 --> 00:21:36,080
turn on<font color="#CCCCCC"> this protocol</font><font color="#E5E5E5"> Spanish is</font>

633
00:21:34,429 --> 00:21:37,999
<font color="#CCCCCC">actually disabled on the up links</font><font color="#E5E5E5"> well</font>

634
00:21:36,080 --> 00:21:39,619
you got a<font color="#E5E5E5"> problem there</font><font color="#CCCCCC"> I said you need</font>

635
00:21:37,999 --> 00:21:41,539
spanning<font color="#E5E5E5"> tree to protect against</font>

636
00:21:39,619 --> 00:21:43,908
inadvertent loops and in fact if<font color="#E5E5E5"> you</font>

637
00:21:41,539 --> 00:21:45,349
have<font color="#CCCCCC"> to rack switches you have</font><font color="#E5E5E5"> in with</font>

638
00:21:43,909 --> 00:21:47,359
one vendor<font color="#E5E5E5"> you have to rack switches you</font>

639
00:21:45,349 --> 00:21:49,158
have<font color="#E5E5E5"> this protocol configured if you</font>

640
00:21:47,359 --> 00:21:50,960
accidentally run a wire<font color="#CCCCCC"> between</font><font color="#E5E5E5"> those</font>

641
00:21:49,159 --> 00:21:52,249
two rack switches you will<font color="#E5E5E5"> create a</font>

642
00:21:50,960 --> 00:21:54,619
spanning tree loop which will<font color="#E5E5E5"> be go</font>

643
00:21:52,249 --> 00:21:56,739
undetected<font color="#E5E5E5"> and go</font><font color="#CCCCCC"> unblock</font><font color="#E5E5E5"> so you need to</font>

644
00:21:54,619 --> 00:21:59,299
watch<font color="#CCCCCC"> out there</font><font color="#E5E5E5"> is a downside of this</font>

645
00:21:56,739 --> 00:22:04,220
<font color="#E5E5E5">question show hands is anybody</font><font color="#CCCCCC"> using</font>

646
00:21:59,299 --> 00:22:06,739
link failover<font color="#CCCCCC"> in production anybody</font>

647
00:22:04,220 --> 00:22:09,630
really using<font color="#E5E5E5"> it for more than one rack</font>

648
00:22:06,739 --> 00:22:11,310
<font color="#CCCCCC">okay</font>

649
00:22:09,630 --> 00:22:12,990
what don't answer<font color="#E5E5E5"> but start to think</font>

650
00:22:11,310 --> 00:22:14,280
about why not and if<font color="#E5E5E5"> you have a reason</font>

651
00:22:12,990 --> 00:22:16,950
why not if<font color="#CCCCCC"> ran</font><font color="#E5E5E5"> and troubles I'd love to</font>

652
00:22:14,280 --> 00:22:19,910
<font color="#E5E5E5">hear about it this this isn't as</font>

653
00:22:16,950 --> 00:22:22,260
<font color="#CCCCCC">flexible a spanning tree of course</font><font color="#E5E5E5"> but</font>

654
00:22:19,910 --> 00:22:23,580
in my<font color="#E5E5E5"> mind I think it</font><font color="#CCCCCC"> provides</font><font color="#E5E5E5"> exactly</font>

655
00:22:22,260 --> 00:22:25,080
<font color="#E5E5E5">what we need I in</font><font color="#CCCCCC"> your typical rack</font>

656
00:22:23,580 --> 00:22:26,220
<font color="#CCCCCC">switch</font><font color="#E5E5E5"> environment I have two links I</font>

657
00:22:25,080 --> 00:22:27,629
don't want<font color="#CCCCCC"> traffic on the back of</font>

658
00:22:26,220 --> 00:22:30,150
Lincoln less the primer<font color="#E5E5E5"> link goes down</font>

659
00:22:27,630 --> 00:22:32,040
to me it seems<font color="#CCCCCC"> almost perfect but I've</font>

660
00:22:30,150 --> 00:22:33,780
<font color="#E5E5E5">I've</font><font color="#CCCCCC"> never seen it in production</font><font color="#E5E5E5"> I said</font>

661
00:22:32,040 --> 00:22:35,430
I've run it in a very small<font color="#E5E5E5"> environment</font>

662
00:22:33,780 --> 00:22:37,350
I personally shied away from<font color="#E5E5E5"> it because</font>

663
00:22:35,430 --> 00:22:39,150
I haven't<font color="#E5E5E5"> seen it often I haven't seen</font>

664
00:22:37,350 --> 00:22:41,429
it mentioned often<font color="#E5E5E5"> in documentation</font><font color="#CCCCCC"> I</font>

665
00:22:39,150 --> 00:22:43,080
haven't seen it shown<font color="#E5E5E5"> in examples and</font>

666
00:22:41,430 --> 00:22:44,670
I'm wondering<font color="#E5E5E5"> what's what's the problem</font>

667
00:22:43,080 --> 00:22:46,770
with<font color="#E5E5E5"> us how</font><font color="#CCCCCC"> can we're not using it</font><font color="#E5E5E5"> more</font>

668
00:22:44,670 --> 00:22:48,090
other<font color="#E5E5E5"> than like I said this weird</font>

669
00:22:46,770 --> 00:22:50,310
kookiness<font color="#E5E5E5"> were</font><font color="#CCCCCC"> Spanish she may</font><font color="#E5E5E5"> get</font>

670
00:22:48,090 --> 00:22:51,689
turned off<font color="#E5E5E5"> on</font><font color="#CCCCCC"> those</font><font color="#E5E5E5"> links</font><font color="#CCCCCC"> so if you have</font>

671
00:22:50,310 --> 00:22:53,250
some<font color="#CCCCCC"> feedback I'd love to</font><font color="#E5E5E5"> hear</font><font color="#CCCCCC"> from you</font>

672
00:22:51,690 --> 00:22:54,540
why<font color="#E5E5E5"> aren't you using it have you</font>

673
00:22:53,250 --> 00:22:56,040
considered it and shied away from<font color="#E5E5E5"> it</font>

674
00:22:54,540 --> 00:22:57,420
<font color="#CCCCCC">have you never heard</font><font color="#E5E5E5"> about it</font><font color="#CCCCCC"> and said</font>

675
00:22:56,040 --> 00:22:59,639
wow this is remarkable<font color="#CCCCCC"> because when I've</font>

676
00:22:57,420 --> 00:23:01,710
<font color="#CCCCCC">been and I heard about</font><font color="#E5E5E5"> it</font><font color="#CCCCCC"> kind of opened</font>

677
00:22:59,640 --> 00:23:03,360
my eyes but<font color="#E5E5E5"> I haven't quite gotten</font>

678
00:23:01,710 --> 00:23:06,240
around<font color="#E5E5E5"> to committing to deploying in a</font>

679
00:23:03,360 --> 00:23:08,429
large environment<font color="#E5E5E5"> the next model here</font>

680
00:23:06,240 --> 00:23:10,830
this<font color="#E5E5E5"> one's kind of</font><font color="#CCCCCC"> interesting I call</font>

681
00:23:08,430 --> 00:23:12,690
this layer<font color="#CCCCCC"> 2</font><font color="#E5E5E5"> distribution with layer 3</font>

682
00:23:10,830 --> 00:23:14,280
<font color="#E5E5E5">whack rack switches my friends at at</font>

683
00:23:12,690 --> 00:23:16,320
woven systems you know<font color="#E5E5E5"> hear from them</font>

684
00:23:14,280 --> 00:23:17,639
too<font color="#E5E5E5"> often but they</font><font color="#CCCCCC"> helped me develop</font>

685
00:23:16,320 --> 00:23:20,189
this model<font color="#E5E5E5"> they were trying to pitch</font>

686
00:23:17,640 --> 00:23:21,870
<font color="#CCCCCC">into a</font><font color="#E5E5E5"> 200 rack data center trying to</font>

687
00:23:20,190 --> 00:23:23,880
replace<font color="#E5E5E5"> a very intelligent layer</font><font color="#CCCCCC"> three</font>

688
00:23:21,870 --> 00:23:27,030
core with<font color="#CCCCCC"> they're very robust very</font>

689
00:23:23,880 --> 00:23:28,650
inexpensive<font color="#E5E5E5"> and simple layer</font><font color="#CCCCCC"> to core so</font>

690
00:23:27,030 --> 00:23:30,660
in this model<font color="#CCCCCC"> and walk through this a</font>

691
00:23:28,650 --> 00:23:33,600
<font color="#E5E5E5">little bit more the distribution devices</font>

692
00:23:30,660 --> 00:23:35,790
<font color="#CCCCCC">two separate switch fabrics the rack</font>

693
00:23:33,600 --> 00:23:37,610
switches form<font color="#CCCCCC"> IGP adjacencies with all</font>

694
00:23:35,790 --> 00:23:40,409
the other rack switches<font color="#CCCCCC"> and the course</font>

695
00:23:37,610 --> 00:23:41,879
you could use inexpensive<font color="#E5E5E5"> unmanaged</font>

696
00:23:40,410 --> 00:23:43,440
distribution<font color="#CCCCCC"> switches again</font><font color="#E5E5E5"> I always</font>

697
00:23:41,880 --> 00:23:45,270
recommend putting<font color="#E5E5E5"> managed switches in</font>

698
00:23:43,440 --> 00:23:47,730
there so you<font color="#E5E5E5"> can monitor your</font><font color="#CCCCCC"> network</font>

699
00:23:45,270 --> 00:23:51,629
and respond to<font color="#E5E5E5"> any issues not walking up</font>

700
00:23:47,730 --> 00:23:53,160
<font color="#E5E5E5">to the switch</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> sort of rack you</font><font color="#CCCCCC"> have</font>

701
00:23:51,630 --> 00:23:54,510
a layer<font color="#CCCCCC"> three racks which that is</font><font color="#E5E5E5"> the</font>

702
00:23:53,160 --> 00:23:56,700
<font color="#E5E5E5">server's default gateway</font><font color="#CCCCCC"> and the typical</font>

703
00:23:54,510 --> 00:23:59,160
<font color="#E5E5E5">layer</font><font color="#CCCCCC"> 3 environment is</font><font color="#E5E5E5"> this the default</font>

704
00:23:56,700 --> 00:24:02,430
gateway for<font color="#E5E5E5"> the</font><font color="#CCCCCC"> servers</font><font color="#E5E5E5"> and he's forming</font>

705
00:23:59,160 --> 00:24:03,960
adjacencies across<font color="#E5E5E5"> two diverse subnets</font>

706
00:24:02,430 --> 00:24:05,280
<font color="#CCCCCC">and what I call the green the red</font><font color="#E5E5E5"> here</font>

707
00:24:03,960 --> 00:24:12,690
distribution routing<font color="#CCCCCC"> one distribution</font>

708
00:24:05,280 --> 00:24:14,670
routing<font color="#E5E5E5"> to the default gateway</font><font color="#CCCCCC"> only</font>

709
00:24:12,690 --> 00:24:15,600
<font color="#CCCCCC">decide showing</font><font color="#E5E5E5"> you expanded slide what</font>

710
00:24:14,670 --> 00:24:17,070
does this really<font color="#E5E5E5"> mean</font><font color="#CCCCCC"> because that I</font>

711
00:24:15,600 --> 00:24:18,300
showed the<font color="#E5E5E5"> first slide a couple people</font>

712
00:24:17,070 --> 00:24:19,800
<font color="#E5E5E5">like well I don't get it</font><font color="#CCCCCC"> this looks like</font>

713
00:24:18,300 --> 00:24:20,250
<font color="#E5E5E5">your</font><font color="#CCCCCC"> other</font><font color="#E5E5E5"> slide so showing you what</font>

714
00:24:19,800 --> 00:24:23,070
this<font color="#E5E5E5"> looks like</font>

715
00:24:20,250 --> 00:24:24,690
hypothetical<font color="#CCCCCC"> four racks here</font><font color="#E5E5E5"> so you have</font>

716
00:24:23,070 --> 00:24:26,908
<font color="#E5E5E5">four racks here each rack has a layer</font>

717
00:24:24,690 --> 00:24:28,350
three racks which each one<font color="#CCCCCC"> of them is</font>

718
00:24:26,909 --> 00:24:29,009
plugging into<font color="#E5E5E5"> this</font><font color="#CCCCCC"> two</font><font color="#E5E5E5"> different layer</font>

719
00:24:28,350 --> 00:24:32,759
<font color="#CCCCCC">twos</font>

720
00:24:29,009 --> 00:24:34,860
flat VLANs<font color="#E5E5E5"> and all forming</font><font color="#CCCCCC"> they're all</font>

721
00:24:32,759 --> 00:24:37,289
forming an adjacency over<font color="#E5E5E5"> let's talk</font>

722
00:24:34,860 --> 00:24:38,399
about<font color="#CCCCCC"> OSPF just one very large</font><font color="#E5E5E5"> broadcast</font>

723
00:24:37,289 --> 00:24:41,759
<font color="#CCCCCC">OSPF</font>

724
00:24:38,399 --> 00:24:42,809
<font color="#CCCCCC">to two large broadcast OSPF subnets</font><font color="#E5E5E5"> it's</font>

725
00:24:41,759 --> 00:24:44,100
actually kind of<font color="#E5E5E5"> interesting again</font>

726
00:24:42,809 --> 00:24:45,928
people<font color="#E5E5E5"> don't seem to be using</font><font color="#CCCCCC"> to that</font>

727
00:24:44,100 --> 00:24:47,370
much<font color="#E5E5E5"> there may be some scaling concerns</font>

728
00:24:45,929 --> 00:24:48,659
I understand but it's actually<font color="#E5E5E5"> kind of</font>

729
00:24:47,370 --> 00:24:50,399
neat<font color="#E5E5E5"> I actually do have</font><font color="#CCCCCC"> one production</font>

730
00:24:48,659 --> 00:24:54,960
<font color="#CCCCCC">environment running</font><font color="#E5E5E5"> like this with about</font>

731
00:24:50,399 --> 00:24:56,908
<font color="#E5E5E5">20 routers speaking together this has</font>

732
00:24:54,960 --> 00:24:58,769
all the<font color="#CCCCCC"> benefits of full layer 3 no</font>

733
00:24:56,909 --> 00:25:00,149
loops<font color="#E5E5E5"> no spanning tree you can utilize</font>

734
00:24:58,769 --> 00:25:02,250
<font color="#E5E5E5">written up links because you're doing</font>

735
00:25:00,149 --> 00:25:03,779
equal cost multi path you can during

736
00:25:02,250 --> 00:25:05,490
<font color="#E5E5E5">steady state with</font><font color="#CCCCCC"> all physical links up</font>

737
00:25:03,779 --> 00:25:07,919
you can actually<font color="#E5E5E5"> spread your load which</font>

738
00:25:05,490 --> 00:25:10,320
is<font color="#E5E5E5"> really nice if your application your</font>

739
00:25:07,919 --> 00:25:12,750
product requires layer<font color="#E5E5E5"> 3 access devices</font>

740
00:25:10,320 --> 00:25:14,879
<font color="#E5E5E5">anyway you can actually get some economy</font>

741
00:25:12,750 --> 00:25:16,320
by putting in<font color="#CCCCCC"> some low cost layer 2</font>

742
00:25:14,879 --> 00:25:17,820
switches for example if you were maybe

743
00:25:16,320 --> 00:25:19,350
<font color="#CCCCCC">nice</font><font color="#E5E5E5"> P environment not as much</font><font color="#CCCCCC"> RAC</font>

744
00:25:17,820 --> 00:25:21,210
<font color="#CCCCCC">switch</font><font color="#E5E5E5"> and you're</font><font color="#CCCCCC"> providing layer 3</font>

745
00:25:19,350 --> 00:25:23,039
access you<font color="#CCCCCC"> have a whole</font><font color="#E5E5E5"> bunch of t1 t3</font>

746
00:25:21,210 --> 00:25:24,750
routers you already need<font color="#E5E5E5"> that later</font><font color="#CCCCCC"> 3</font>

747
00:25:23,039 --> 00:25:27,240
access you<font color="#E5E5E5"> don't necessarily need a very</font>

748
00:25:24,750 --> 00:25:29,190
smart layer<font color="#CCCCCC"> 3 core in there this</font>

749
00:25:27,240 --> 00:25:32,639
introduces kind of a novel<font color="#E5E5E5"> any-to-any</font>

750
00:25:29,190 --> 00:25:34,799
routing over layer 2 so rack one needs

751
00:25:32,639 --> 00:25:36,750
to talk to rack 3 well they have<font color="#E5E5E5"> direct</font>

752
00:25:34,799 --> 00:25:40,379
adjacency they just switch it<font color="#CCCCCC"> over that</font>

753
00:25:36,750 --> 00:25:43,169
that layer<font color="#E5E5E5"> 2 core drawbacks</font>

754
00:25:40,379 --> 00:25:44,908
just like the layer<font color="#E5E5E5"> 3 model there you</font>

755
00:25:43,169 --> 00:25:47,070
need more expensive<font color="#CCCCCC"> rack switches</font><font color="#E5E5E5"> you</font>

756
00:25:44,909 --> 00:25:48,539
also need exclusive numbering which

757
00:25:47,070 --> 00:25:50,428
means a subnet can only<font color="#E5E5E5"> exist in that</font>

758
00:25:48,539 --> 00:25:53,370
<font color="#E5E5E5">one rack and of course it's running</font>

759
00:25:50,429 --> 00:25:55,350
<font color="#CCCCCC">before</font><font color="#E5E5E5"> you have in efficiencies since up</font>

760
00:25:53,370 --> 00:25:56,850
links aren't actually point-to-point<font color="#E5E5E5"> you</font>

761
00:25:55,350 --> 00:25:59,759
don't you're<font color="#CCCCCC"> not gonna</font><font color="#E5E5E5"> have an immediate</font>

762
00:25:56,850 --> 00:26:02,279
failover<font color="#CCCCCC"> based on on link failover so if</font>

763
00:25:59,759 --> 00:26:03,240
my<font color="#E5E5E5"> if switch ones uplink</font><font color="#CCCCCC"> to goes down</font>

764
00:26:02,279 --> 00:26:05,460
<font color="#E5E5E5">will switch</font><font color="#CCCCCC"> through we won't actually</font>

765
00:26:03,240 --> 00:26:07,110
<font color="#E5E5E5">know about it until some kind of keep</font>

766
00:26:05,460 --> 00:26:09,840
alive<font color="#E5E5E5"> or</font><font color="#CCCCCC"> timer</font><font color="#E5E5E5"> expiration on the routing</font>

767
00:26:07,110 --> 00:26:11,340
<font color="#E5E5E5">protocol this</font><font color="#CCCCCC"> in this model is not very</font>

768
00:26:09,840 --> 00:26:12,539
common<font color="#E5E5E5"> not very straightforward so again</font>

769
00:26:11,340 --> 00:26:14,459
you're gonna spend<font color="#CCCCCC"> some extra time</font><font color="#E5E5E5"> if</font>

770
00:26:12,539 --> 00:26:17,519
describing it to<font color="#E5E5E5"> people preparing your</font>

771
00:26:14,460 --> 00:26:19,139
staff to<font color="#CCCCCC"> support it the last model here</font>

772
00:26:17,519 --> 00:26:20,250
this is a server<font color="#E5E5E5"> based model this is</font>

773
00:26:19,139 --> 00:26:23,250
where you have multiple<font color="#CCCCCC"> links in the</font>

774
00:26:20,250 --> 00:26:25,259
<font color="#E5E5E5">servers this one many people know and</font>

775
00:26:23,250 --> 00:26:27,840
love it<font color="#E5E5E5"> this is</font><font color="#CCCCCC"> called NIC teaming NIC</font>

776
00:26:25,259 --> 00:26:29,820
bonding so your server the server itself

777
00:26:27,840 --> 00:26:31,799
has<font color="#CCCCCC"> two up links</font><font color="#E5E5E5"> to diverse rack</font>

778
00:26:29,820 --> 00:26:33,210
switches<font color="#E5E5E5"> those rack</font><font color="#CCCCCC"> switches</font><font color="#E5E5E5"> each have</font>

779
00:26:31,799 --> 00:26:34,668
diverse up links to<font color="#E5E5E5"> different</font>

780
00:26:33,210 --> 00:26:38,460
distribution<font color="#E5E5E5"> devices</font>

781
00:26:34,669 --> 00:26:41,130
very simple<font color="#E5E5E5"> there are no loops or I'll</font>

782
00:26:38,460 --> 00:26:43,500
say<font color="#E5E5E5"> there no loops in the in network</font>

783
00:26:41,130 --> 00:26:44,820
model<font color="#CCCCCC"> you're you're placing the</font>

784
00:26:43,500 --> 00:26:46,980
redundancy burden on the<font color="#E5E5E5"> server's</font>

785
00:26:44,820 --> 00:26:49,830
themselves<font color="#E5E5E5"> you supply your to rack</font>

786
00:26:46,980 --> 00:26:51,059
switches<font color="#E5E5E5"> for server access this is very</font>

787
00:26:49,830 --> 00:26:53,879
common when<font color="#CCCCCC"> you're doing when you're</font>

788
00:26:51,059 --> 00:26:55,049
using blade chassis<font color="#E5E5E5"> and</font><font color="#CCCCCC"> there are</font>

789
00:26:53,880 --> 00:26:56,789
different methods available<font color="#E5E5E5"> for the</font>

790
00:26:55,049 --> 00:26:59,039
<font color="#CCCCCC">server's</font><font color="#E5E5E5"> to determine whether or not the</font>

791
00:26:56,789 --> 00:27:00,600
primary<font color="#E5E5E5"> backup</font><font color="#CCCCCC"> link is alive the most</font>

792
00:26:59,039 --> 00:27:02,879
<font color="#E5E5E5">simple way is just check the five for a</font>

793
00:27:00,600 --> 00:27:05,428
physical<font color="#E5E5E5"> link state</font><font color="#CCCCCC"> you can also be</font>

794
00:27:02,880 --> 00:27:06,720
running<font color="#E5E5E5"> our queries from the server you</font>

795
00:27:05,429 --> 00:27:08,730
could<font color="#E5E5E5"> be running pinging the default</font>

796
00:27:06,720 --> 00:27:10,080
gateways<font color="#CCCCCC"> to and the server can make sure</font>

797
00:27:08,730 --> 00:27:14,669
<font color="#E5E5E5">that both links are actually functional</font>

798
00:27:10,080 --> 00:27:16,289
all the way to his layer 3 device<font color="#CCCCCC"> the</font>

799
00:27:14,669 --> 00:27:17,700
way redundancy works<font color="#E5E5E5"> you have</font><font color="#CCCCCC"> a server</font>

800
00:27:16,289 --> 00:27:20,100
with dual up links that the primary<font color="#E5E5E5"> link</font>

801
00:27:17,700 --> 00:27:22,080
is severed<font color="#E5E5E5"> the server will will realize</font>

802
00:27:20,100 --> 00:27:24,299
in using one of<font color="#E5E5E5"> the previously mentioned</font>

803
00:27:22,080 --> 00:27:25,649
<font color="#E5E5E5">methods that the primary link is no</font>

804
00:27:24,299 --> 00:27:29,580
<font color="#E5E5E5">longer available he's going to shift all</font>

805
00:27:25,649 --> 00:27:31,949
his traffic<font color="#E5E5E5"> to the alternate link in in</font>

806
00:27:29,580 --> 00:27:34,049
another<font color="#E5E5E5"> model yeah another failure</font>

807
00:27:31,950 --> 00:27:35,880
scenario let's say<font color="#E5E5E5"> you lose your up link</font>

808
00:27:34,049 --> 00:27:37,350
between<font color="#E5E5E5"> distribution switch</font><font color="#CCCCCC"> one and</font>

809
00:27:35,880 --> 00:27:39,240
racks which one well you need a way for

810
00:27:37,350 --> 00:27:41,610
<font color="#CCCCCC">that</font><font color="#E5E5E5"> rack switch it's a signal down</font>

811
00:27:39,240 --> 00:27:43,919
stream to<font color="#CCCCCC"> the server</font><font color="#E5E5E5"> that hey I lost my</font>

812
00:27:41,610 --> 00:27:45,479
<font color="#E5E5E5">uplink and</font><font color="#CCCCCC"> that's</font><font color="#E5E5E5"> typically using a link</font>

813
00:27:43,919 --> 00:27:46,559
tracking saying if my<font color="#E5E5E5"> uplink goes down</font>

814
00:27:45,480 --> 00:27:48,390
I'm going<font color="#E5E5E5"> to shut down all the links</font>

815
00:27:46,559 --> 00:27:49,649
facing my servers<font color="#E5E5E5"> if you don't have it</font>

816
00:27:48,390 --> 00:27:51,240
available there's an extra delay where

817
00:27:49,649 --> 00:27:52,770
the server might have to realize I can

818
00:27:51,240 --> 00:27:53,630
no<font color="#CCCCCC"> longer ARP on this NIC for my default</font>

819
00:27:52,770 --> 00:27:55,830
<font color="#E5E5E5">gateway</font>

820
00:27:53,630 --> 00:27:58,110
either way the server<font color="#CCCCCC"> should somehow</font>

821
00:27:55,830 --> 00:27:59,789
<font color="#E5E5E5">detect that the something</font><font color="#CCCCCC"> upstream went</font>

822
00:27:58,110 --> 00:28:02,729
bad<font color="#CCCCCC"> on</font><font color="#E5E5E5"> NIC number one</font><font color="#CCCCCC"> we'll shift over</font>

823
00:27:59,789 --> 00:28:04,049
traffic<font color="#E5E5E5"> to NIC number two benefits here</font>

824
00:28:02,730 --> 00:28:05,820
again it works with pretty much<font color="#E5E5E5"> any</font>

825
00:28:04,049 --> 00:28:07,529
switch in the rack if your<font color="#CCCCCC"> budgets tight</font>

826
00:28:05,820 --> 00:28:09,330
<font color="#E5E5E5">you can shift some</font><font color="#CCCCCC"> of that money out</font><font color="#E5E5E5"> of</font>

827
00:28:07,529 --> 00:28:10,590
your intelligent<font color="#E5E5E5"> rack switches and move</font>

828
00:28:09,330 --> 00:28:12,289
it up<font color="#CCCCCC"> to your core distribution or</font>

829
00:28:10,590 --> 00:28:15,799
border where you might need it more

830
00:28:12,289 --> 00:28:18,779
you have the same layer<font color="#CCCCCC"> 2 flexibility as</font>

831
00:28:15,799 --> 00:28:20,370
as typical layer<font color="#E5E5E5"> 2 models because you</font>

832
00:28:18,779 --> 00:28:23,070
really are extending all VLANs to all

833
00:28:20,370 --> 00:28:24,539
rack<font color="#CCCCCC"> switches if you so desire the</font>

834
00:28:23,070 --> 00:28:25,500
network itself requires<font color="#E5E5E5"> really minimal</font>

835
00:28:24,539 --> 00:28:27,179
<font color="#CCCCCC">attention this</font><font color="#E5E5E5"> is really good for</font>

836
00:28:25,500 --> 00:28:28,620
organizations<font color="#CCCCCC"> that are very sysadmin</font>

837
00:28:27,179 --> 00:28:30,450
heavy they want to do<font color="#E5E5E5"> more work on the</font>

838
00:28:28,620 --> 00:28:31,860
servers and not<font color="#CCCCCC"> very network engineer</font>

839
00:28:30,450 --> 00:28:33,240
heavy they don't want to spend<font color="#E5E5E5"> time</font>

840
00:28:31,860 --> 00:28:35,070
babysitting<font color="#E5E5E5"> the network they want kind</font>

841
00:28:33,240 --> 00:28:36,720
<font color="#E5E5E5">of a</font><font color="#CCCCCC"> bullet-proof surefire network</font><font color="#E5E5E5"> which</font>

842
00:28:35,070 --> 00:28:39,750
<font color="#E5E5E5">doesn't run layer 3 protocols doesn't</font>

843
00:28:36,720 --> 00:28:41,610
run<font color="#E5E5E5"> spanning tree the network</font><font color="#CCCCCC"> as I said</font>

844
00:28:39,750 --> 00:28:43,289
has less risk<font color="#E5E5E5"> of failures due to routing</font>

845
00:28:41,610 --> 00:28:45,330
routing protocols<font color="#E5E5E5"> I definitely seen this</font>

846
00:28:43,289 --> 00:28:46,590
where where they<font color="#E5E5E5"> don't want network</font>

847
00:28:45,330 --> 00:28:47,510
engineering they want the network<font color="#CCCCCC"> to be</font>

848
00:28:46,590 --> 00:28:49,550
a black box plug

849
00:28:47,510 --> 00:28:51,860
<font color="#E5E5E5">works we know how to run servers we have</font>

850
00:28:49,550 --> 00:28:53,419
our puppet<font color="#CCCCCC"> our cfengine etc</font><font color="#E5E5E5"> and we can</font>

851
00:28:51,860 --> 00:28:56,600
<font color="#E5E5E5">manage servers and</font><font color="#CCCCCC"> mask</font><font color="#E5E5E5"> that with this</font>

852
00:28:53,420 --> 00:28:58,850
way the downside here is<font color="#E5E5E5"> it increases</font>

853
00:28:56,600 --> 00:29:00,560
your<font color="#E5E5E5"> server complexity so now if you do</font>

854
00:28:58,850 --> 00:29:01,790
<font color="#CCCCCC">have a couple thousand servers now you</font>

855
00:29:00,560 --> 00:29:03,350
<font color="#E5E5E5">need to make sure that all thousand</font>

856
00:29:01,790 --> 00:29:04,280
servers know how to use<font color="#E5E5E5"> primary</font>

857
00:29:03,350 --> 00:29:04,909
secondary link in there monitoring

858
00:29:04,280 --> 00:29:06,440
properly

859
00:29:04,910 --> 00:29:08,570
there's no good centralized way of

860
00:29:06,440 --> 00:29:10,610
saying yeah I have redundancy my primer

861
00:29:08,570 --> 00:29:12,080
links up my backup link is down<font color="#E5E5E5"> you</font>

862
00:29:10,610 --> 00:29:13,969
can't just go ahead and query your core

863
00:29:12,080 --> 00:29:15,199
or query<font color="#E5E5E5"> a handful of racks which is you</font>

864
00:29:13,970 --> 00:29:16,670
now<font color="#CCCCCC"> I need a query every single server</font>

865
00:29:15,200 --> 00:29:17,960
to make<font color="#E5E5E5"> sure that second</font><font color="#CCCCCC"> link is</font><font color="#E5E5E5"> usable</font>

866
00:29:16,670 --> 00:29:20,780
<font color="#E5E5E5">if you're trying to ensure 100%</font>

867
00:29:17,960 --> 00:29:22,670
redundancy<font color="#CCCCCC"> of course</font><font color="#E5E5E5"> this burns to</font><font color="#CCCCCC"> NICs</font>

868
00:29:20,780 --> 00:29:24,020
per<font color="#E5E5E5"> server so twice as many you need</font>

869
00:29:22,670 --> 00:29:25,220
twice as many<font color="#CCCCCC"> Nick's on the</font><font color="#E5E5E5"> server if</font>

870
00:29:24,020 --> 00:29:26,960
you have an<font color="#CCCCCC"> environment we have a</font>

871
00:29:25,220 --> 00:29:28,430
front-end<font color="#CCCCCC"> NIC and a back-end NIC</font><font color="#E5E5E5"> well</font>

872
00:29:26,960 --> 00:29:31,010
now you got to add two<font color="#CCCCCC"> more NICs for</font>

873
00:29:28,430 --> 00:29:32,270
dual<font color="#E5E5E5"> front end and dual back in there</font>

874
00:29:31,010 --> 00:29:33,050
you're going<font color="#E5E5E5"> to want</font><font color="#CCCCCC"> to have two it</font>

875
00:29:32,270 --> 00:29:36,530
you're gonna want<font color="#E5E5E5"> to have a way to</font>

876
00:29:33,050 --> 00:29:38,800
<font color="#CCCCCC">signal the the servers if the uplink</font>

877
00:29:36,530 --> 00:29:41,120
<font color="#E5E5E5">from the racks which failed and</font>

878
00:29:38,800 --> 00:29:42,830
redundant capacity if you<font color="#E5E5E5"> configure the</font>

879
00:29:41,120 --> 00:29:44,570
<font color="#E5E5E5">way I recommended which is active backup</font>

880
00:29:42,830 --> 00:29:47,629
<font color="#E5E5E5">your servers only sending</font><font color="#CCCCCC"> traffic on one</font>

881
00:29:44,570 --> 00:29:48,860
<font color="#E5E5E5">NIC</font><font color="#CCCCCC"> and only run</font><font color="#E5E5E5"> rack switch so you have</font>

882
00:29:47,630 --> 00:29:51,290
this<font color="#E5E5E5"> extra rack switch which just isn't</font>

883
00:29:48,860 --> 00:29:54,050
<font color="#CCCCCC">being utilized that you paid</font><font color="#E5E5E5"> for a</font>

884
00:29:51,290 --> 00:29:55,639
couple<font color="#E5E5E5"> little extras here most of</font>

885
00:29:54,050 --> 00:29:57,200
failover schemes<font color="#E5E5E5"> that rely upon link</font>

886
00:29:55,640 --> 00:29:59,000
state detection port up port down

887
00:29:57,200 --> 00:30:01,040
sometimes it's<font color="#E5E5E5"> not properly reported</font>

888
00:29:59,000 --> 00:30:03,200
sometimes there may be a delay<font color="#E5E5E5"> there are</font>

889
00:30:01,040 --> 00:30:04,639
there are<font color="#E5E5E5"> some other addition additional</font>

890
00:30:03,200 --> 00:30:06,500
protocols if<font color="#CCCCCC"> you're running</font><font color="#E5E5E5"> very simple</font>

891
00:30:04,640 --> 00:30:08,390
remote fault<font color="#E5E5E5"> signaling and that's</font>

892
00:30:06,500 --> 00:30:11,330
usually<font color="#E5E5E5"> part of a</font><font color="#CCCCCC"> Giggy negotiation 10</font>

893
00:30:08,390 --> 00:30:12,770
<font color="#CCCCCC">GB negotiation</font><font color="#E5E5E5"> you can run you</font><font color="#CCCCCC"> TLD you</font>

894
00:30:11,330 --> 00:30:14,210
<font color="#E5E5E5">DoD has some stability concerns</font>

895
00:30:12,770 --> 00:30:16,010
different vendor<font color="#CCCCCC"> of limitations</font><font color="#E5E5E5"> works</font>

896
00:30:14,210 --> 00:30:18,440
<font color="#E5E5E5">doesn't work interoperability between</font>

897
00:30:16,010 --> 00:30:19,280
<font color="#E5E5E5">vendors one vendor you run at you DoD it</font>

898
00:30:18,440 --> 00:30:21,500
works just<font color="#E5E5E5"> fine</font>

899
00:30:19,280 --> 00:30:24,950
<font color="#CCCCCC">until you go ahead and run a very</font><font color="#E5E5E5"> CPU</font>

900
00:30:21,500 --> 00:30:25,370
consuming vty command also<font color="#E5E5E5"> new</font><font color="#CCCCCC"> UDP UDL D</font>

901
00:30:24,950 --> 00:30:26,780
<font color="#CCCCCC">flops</font>

902
00:30:25,370 --> 00:30:29,899
<font color="#E5E5E5">unfortunately I've seen it and it's hurt</font>

903
00:30:26,780 --> 00:30:33,050
very badly BFD<font color="#E5E5E5"> is supposed to be the</font>

904
00:30:29,900 --> 00:30:35,240
<font color="#CCCCCC">Silver Bullet for this BFD is great on</font>

905
00:30:33,050 --> 00:30:37,820
paper<font color="#CCCCCC"> sometimes it even</font><font color="#E5E5E5"> is performed in</font>

906
00:30:35,240 --> 00:30:40,280
the<font color="#E5E5E5"> ASIC supposedly implementations are</font>

907
00:30:37,820 --> 00:30:42,409
still few and still having problems

908
00:30:40,280 --> 00:30:45,020
<font color="#E5E5E5">it'll be great when we can all use BFD</font>

909
00:30:42,410 --> 00:30:46,490
universally<font color="#E5E5E5"> there</font><font color="#CCCCCC"> a couple</font><font color="#E5E5E5"> models that</font>

910
00:30:45,020 --> 00:30:48,110
<font color="#E5E5E5">that are coming out</font><font color="#CCCCCC"> that I didn't show</font>

911
00:30:46,490 --> 00:30:49,040
here because<font color="#CCCCCC"> I</font><font color="#E5E5E5"> personally haven't really</font>

912
00:30:48,110 --> 00:30:51,469
touched them so I can't speak

913
00:30:49,040 --> 00:30:53,120
authoritative<font color="#CCCCCC"> Lee some of them are</font><font color="#E5E5E5"> based</font>

914
00:30:51,470 --> 00:30:55,610
<font color="#CCCCCC">upon where</font><font color="#E5E5E5"> your run link aggregation on</font>

915
00:30:53,120 --> 00:30:57,709
the<font color="#CCCCCC"> rack switch</font><font color="#E5E5E5"> to diverse equipment at</font>

916
00:30:55,610 --> 00:30:59,510
the distribution layer<font color="#E5E5E5"> you can do it in</font>

917
00:30:57,710 --> 00:31:00,950
in a case of

918
00:30:59,510 --> 00:31:04,190
stacking switch and you run to<font color="#CCCCCC"> two</font>

919
00:31:00,950 --> 00:31:06,710
different members<font color="#CCCCCC"> of the stack there are</font>

920
00:31:04,190 --> 00:31:09,350
there's<font color="#E5E5E5"> something called multi chassis</font>

921
00:31:06,710 --> 00:31:12,200
<font color="#E5E5E5">link aggregation</font><font color="#CCCCCC"> cisco calls at NEC</font><font color="#E5E5E5"> and</font>

922
00:31:09,350 --> 00:31:14,240
the cisco VSS<font color="#CCCCCC"> there's Cisco Nexus 7</font>

923
00:31:12,200 --> 00:31:15,830
called<font color="#CCCCCC"> VPC virtual port channel</font><font color="#E5E5E5"> there</font>

924
00:31:14,240 --> 00:31:17,360
<font color="#E5E5E5">are other vendor implementations</font><font color="#CCCCCC"> I</font>

925
00:31:15,830 --> 00:31:18,889
didn't take too much time filling up

926
00:31:17,360 --> 00:31:20,780
<font color="#E5E5E5">slot everybody else's name so sorry if I</font>

927
00:31:18,890 --> 00:31:23,030
didn't cover you<font color="#CCCCCC"> the ink</font><font color="#E5E5E5"> is still</font>

928
00:31:20,780 --> 00:31:25,040
<font color="#E5E5E5">drawing on some</font><font color="#CCCCCC"> of these alternates as</font>

929
00:31:23,030 --> 00:31:27,980
soon as I deploy them I'll come back and

930
00:31:25,040 --> 00:31:29,480
tell<font color="#E5E5E5"> you guys about them so in somewhere</font>

931
00:31:27,980 --> 00:31:31,280
here there's a great<font color="#E5E5E5"> quote quick quote I</font>

932
00:31:29,480 --> 00:31:33,050
picked up while<font color="#E5E5E5"> I was doing this I</font>

933
00:31:31,280 --> 00:31:34,760
chanced upon the Cisco data center

934
00:31:33,050 --> 00:31:36,770
<font color="#CCCCCC">design it says</font><font color="#E5E5E5"> the routing protocol</font>

935
00:31:34,760 --> 00:31:39,260
identifies where to send packets<font color="#CCCCCC"> Spanish</font>

936
00:31:36,770 --> 00:31:40,850
identifies<font color="#CCCCCC"> where not to send frames</font><font color="#E5E5E5"> you</font>

937
00:31:39,260 --> 00:31:42,260
<font color="#E5E5E5">can go ahead and</font><font color="#CCCCCC"> download this PDF and</font>

938
00:31:40,850 --> 00:31:43,850
the link is<font color="#CCCCCC"> here on</font><font color="#E5E5E5"> that full document</font>

939
00:31:42,260 --> 00:31:47,510
<font color="#CCCCCC">it's interesting</font><font color="#E5E5E5"> document</font>

940
00:31:43,850 --> 00:31:49,040
<font color="#E5E5E5">I personally in here</font><font color="#CCCCCC"> peek web we've</font>

941
00:31:47,510 --> 00:31:51,080
deployed and operated all of these

942
00:31:49,040 --> 00:31:53,810
<font color="#E5E5E5">models</font><font color="#CCCCCC"> in</font><font color="#E5E5E5"> over the past 10 12 years with</font>

943
00:31:51,080 --> 00:31:54,500
success failures<font color="#E5E5E5"> really different data</font>

944
00:31:53,810 --> 00:31:57,320
center environments different

945
00:31:54,500 --> 00:31:59,210
<font color="#E5E5E5">applications</font><font color="#CCCCCC"> there is</font><font color="#E5E5E5"> not one final</font>

946
00:31:57,320 --> 00:32:02,629
golden solution it really is<font color="#E5E5E5"> application</font>

947
00:31:59,210 --> 00:32:04,040
opinion<font color="#CCCCCC"> in topology</font><font color="#E5E5E5"> dependent</font><font color="#CCCCCC"> I think</font>

948
00:32:02,630 --> 00:32:06,610
and I'm wondering<font color="#E5E5E5"> if the layer tube</font>

949
00:32:04,040 --> 00:32:09,020
<font color="#E5E5E5">model is actually</font><font color="#CCCCCC"> coming back because</font><font color="#E5E5E5"> of</font>

950
00:32:06,610 --> 00:32:11,330
<font color="#CCCCCC">vmotion VMware the ability to</font><font color="#E5E5E5"> move the</font>

951
00:32:09,020 --> 00:32:12,889
<font color="#CCCCCC">desire to move</font><font color="#E5E5E5"> virtual machines that</font><font color="#CCCCCC"> we</font>

952
00:32:11,330 --> 00:32:15,260
numbering from rack to rack<font color="#CCCCCC"> maybe where</font>

953
00:32:12,890 --> 00:32:17,390
previously<font color="#CCCCCC"> layer</font><font color="#E5E5E5"> three was the</font><font color="#CCCCCC"> golden</font>

954
00:32:15,260 --> 00:32:18,620
ticket and<font color="#E5E5E5"> now I need</font><font color="#CCCCCC"> this layer two so</font>

955
00:32:17,390 --> 00:32:22,550
I'm<font color="#E5E5E5"> wondering if spanning tree is coming</font>

956
00:32:18,620 --> 00:32:24,169
back and<font color="#E5E5E5"> that's all I had</font><font color="#CCCCCC"> so thank you</font>

957
00:32:22,550 --> 00:32:27,340
again<font color="#CCCCCC"> very much if there any</font><font color="#E5E5E5"> questions</font>

958
00:32:24,170 --> 00:32:27,340
<font color="#E5E5E5">we</font><font color="#CCCCCC"> have</font><font color="#E5E5E5"> a few few minutes</font>

959
00:32:33,540 --> 00:32:39,060
hi I guess<font color="#E5E5E5"> I'd like to present one</font>

960
00:32:35,640 --> 00:32:41,610
slight twist that I've seen of maybe the

961
00:32:39,060 --> 00:32:43,980
last model<font color="#E5E5E5"> where I</font><font color="#CCCCCC"> only</font><font color="#E5E5E5"> freed them from</font>

962
00:32:41,610 --> 00:32:48,419
<font color="#CCCCCC">Akamai</font><font color="#E5E5E5"> Thank</font><font color="#CCCCCC"> You Donny Brisbane from</font>

963
00:32:43,980 --> 00:32:51,120
peak web and<font color="#E5E5E5"> where the end hosts are</font>

964
00:32:48,420 --> 00:32:53,490
actually running<font color="#E5E5E5"> an</font><font color="#CCCCCC"> eye GP so you</font>

965
00:32:51,120 --> 00:32:55,649
actually<font color="#E5E5E5"> do will attach them for channel</font>

966
00:32:53,490 --> 00:32:57,540
not<font color="#E5E5E5"> I mean it does burn links but if</font>

967
00:32:55,650 --> 00:33:00,060
you're<font color="#CCCCCC"> going</font><font color="#E5E5E5"> to have active backup</font>

968
00:32:57,540 --> 00:33:01,470
<font color="#E5E5E5">anyway I've seen that in even simpler</font>

969
00:33:00,060 --> 00:33:03,600
topologies where you actually<font color="#CCCCCC"> attach the</font>

970
00:33:01,470 --> 00:33:05,820
<font color="#CCCCCC">host to two big catalysts</font><font color="#E5E5E5"> yep but you</font>

971
00:33:03,600 --> 00:33:07,889
could also do that<font color="#E5E5E5"> with</font><font color="#CCCCCC"> either layer two</font>

972
00:33:05,820 --> 00:33:09,120
or layer<font color="#CCCCCC"> 3 switches in front it requires</font>

973
00:33:07,890 --> 00:33:10,650
a certain<font color="#E5E5E5"> amount of rigor in your</font>

974
00:33:09,120 --> 00:33:12,209
configuration<font color="#CCCCCC"> management and</font><font color="#E5E5E5"> a lot of</font>

975
00:33:10,650 --> 00:33:14,250
people don't<font color="#E5E5E5"> want</font><font color="#CCCCCC"> to actually</font><font color="#E5E5E5"> run IGP on</font>

976
00:33:12,210 --> 00:33:17,640
the end hosts yep but it makes it<font color="#E5E5E5"> very</font>

977
00:33:14,250 --> 00:33:19,230
<font color="#E5E5E5">easy</font><font color="#CCCCCC"> to grab the Machine and you know</font>

978
00:33:17,640 --> 00:33:22,020
take<font color="#E5E5E5"> it and put it somewhere else you</font>

979
00:33:19,230 --> 00:33:23,220
know<font color="#E5E5E5"> in the infrastructure</font><font color="#CCCCCC"> yeah you can</font>

980
00:33:22,020 --> 00:33:25,139
<font color="#E5E5E5">not you can</font><font color="#CCCCCC"> definitely you can</font>

981
00:33:23,220 --> 00:33:27,450
<font color="#CCCCCC">definitely run slash 32 you can</font>

982
00:33:25,140 --> 00:33:29,460
definitely<font color="#CCCCCC"> /</font><font color="#E5E5E5"> 32 on an</font><font color="#CCCCCC"> IGP the end host</font>

983
00:33:27,450 --> 00:33:31,050
and it gives you wonderful mobility<font color="#E5E5E5"> like</font>

984
00:33:29,460 --> 00:33:33,540
<font color="#E5E5E5">you said the</font><font color="#CCCCCC"> administer numbered on</font><font color="#E5E5E5"> that</font>

985
00:33:31,050 --> 00:33:35,159
extremely high the impact to<font color="#E5E5E5"> your</font><font color="#CCCCCC"> IGP</font>

986
00:33:33,540 --> 00:33:36,480
can also be pretty high now you're

987
00:33:35,160 --> 00:33:40,790
carrying<font color="#CCCCCC"> a lot around a lot of slush</font>

988
00:33:36,480 --> 00:33:40,790
dirty rats yeah it's also cool<font color="#E5E5E5"> anything</font>

989
00:33:42,410 --> 00:33:49,320
else<font color="#CCCCCC"> offer um do you happen to have</font><font color="#E5E5E5"> any</font>

990
00:33:45,170 --> 00:33:56,580
quantitative data to<font color="#CCCCCC"> compare top of rats</font>

991
00:33:49,320 --> 00:33:59,090
which is against say<font color="#E5E5E5"> first cabinet</font><font color="#CCCCCC"> rows</font>

992
00:33:56,580 --> 00:33:59,090
which is

993
00:33:59,429 --> 00:34:06,690
concurrent cost of operations against

994
00:34:02,710 --> 00:34:08,530
pasta<font color="#CCCCCC"> build-out and complexity</font>

995
00:34:06,690 --> 00:34:10,119
<font color="#CCCCCC">unfortunately I don't have any any</font>

996
00:34:08,530 --> 00:34:13,389
really good numbers<font color="#E5E5E5"> there end of row</font>

997
00:34:10,119 --> 00:34:17,109
switching is another<font color="#CCCCCC"> viable model I tend</font>

998
00:34:13,389 --> 00:34:22,869
to shy away from<font color="#E5E5E5"> it</font><font color="#CCCCCC"> but I've seen it</font>

999
00:34:17,109 --> 00:34:24,598
<font color="#CCCCCC">done it definitely</font><font color="#E5E5E5"> works</font><font color="#CCCCCC"> you know you</font>

1000
00:34:22,869 --> 00:34:27,240
know it's more it's it's<font color="#E5E5E5"> more wiring</font>

1001
00:34:24,599 --> 00:34:34,119
<font color="#CCCCCC">it's more expensive chassis</font><font color="#E5E5E5"> typically</font>

1002
00:34:27,239 --> 00:34:35,618
but it it's a very viable model<font color="#CCCCCC"> so of</font>

1003
00:34:34,119 --> 00:34:38,470
course<font color="#E5E5E5"> the downside with an end of row</font>

1004
00:34:35,619 --> 00:34:39,579
chassis is your fault domain so now you

1005
00:34:38,469 --> 00:34:43,239
need<font color="#E5E5E5"> to do a maintenance</font><font color="#CCCCCC"> on a</font><font color="#E5E5E5"> chassis</font>

1006
00:34:39,579 --> 00:34:44,589
you're gonna lose<font color="#E5E5E5"> that entire row so I'd</font>

1007
00:34:43,239 --> 00:34:47,469
<font color="#E5E5E5">like</font><font color="#CCCCCC"> to I like to</font><font color="#E5E5E5"> spread the fault oh</font>

1008
00:34:44,589 --> 00:34:48,460
man there's also uh there is a cost<font color="#E5E5E5"> of</font>

1009
00:34:47,469 --> 00:34:50,049
acquisition you know you're<font color="#E5E5E5"> gonna</font>

1010
00:34:48,460 --> 00:34:51,190
building out a full row and you only

1011
00:34:50,050 --> 00:34:52,810
have<font color="#CCCCCC"> you're only</font><font color="#E5E5E5"> populating the first</font>

1012
00:34:51,190 --> 00:34:54,790
rack<font color="#E5E5E5"> you got got</font><font color="#CCCCCC"> to buy that</font><font color="#E5E5E5"> first</font>

1013
00:34:52,810 --> 00:34:57,640
chassis associated management modules

1014
00:34:54,790 --> 00:35:00,940
what not<font color="#E5E5E5"> even for the very first rack if</font>

1015
00:34:57,640 --> 00:35:02,920
you're doing in rack switching middle of

1016
00:35:00,940 --> 00:35:04,780
rack not top<font color="#CCCCCC"> of rack switching but if</font>

1017
00:35:02,920 --> 00:35:07,180
you're doing<font color="#CCCCCC"> in racks in rack switching</font>

1018
00:35:04,780 --> 00:35:09,460
you have a fixed incremental cost for

1019
00:35:07,180 --> 00:35:10,868
every rack you add<font color="#E5E5E5"> okay so you might</font>

1020
00:35:09,460 --> 00:35:13,359
<font color="#E5E5E5">want to add something in your</font>

1021
00:35:10,869 --> 00:35:14,829
presentation<font color="#E5E5E5"> about redundancy and</font><font color="#CCCCCC"> a</font>

1022
00:35:13,359 --> 00:35:19,240
purchase as a basis on top of<font color="#CCCCCC"> rocks</font>

1023
00:35:14,829 --> 00:35:22,089
which is because<font color="#CCCCCC"> don't speaking you with</font>

1024
00:35:19,240 --> 00:35:24,250
some<font color="#CCCCCC"> exceptions talk about switches or</font>

1025
00:35:22,089 --> 00:35:26,349
workgroup switches with only<font color="#E5E5E5"> simple</font>

1026
00:35:24,250 --> 00:35:29,829
power supplies<font color="#CCCCCC"> for instance</font><font color="#E5E5E5"> so now</font>

1027
00:35:26,349 --> 00:35:34,740
you've got<font color="#E5E5E5"> the inability to do redundant</font>

1028
00:35:29,829 --> 00:35:38,020
power there may be some<font color="#E5E5E5"> design</font>

1029
00:35:34,740 --> 00:35:40,180
trade-offs<font color="#E5E5E5"> if you have to make or design</font>

1030
00:35:38,020 --> 00:35:40,960
work around at the server level<font color="#E5E5E5"> to take</font>

1031
00:35:40,180 --> 00:35:42,848
that into account

1032
00:35:40,960 --> 00:35:44,280
yeah you know absolutely<font color="#E5E5E5"> to</font><font color="#CCCCCC"> be fair</font><font color="#E5E5E5"> I</font>

1033
00:35:42,849 --> 00:35:47,470
probably should<font color="#CCCCCC"> start with the fact that</font>

1034
00:35:44,280 --> 00:35:49,240
the<font color="#CCCCCC"> the kind of more of back</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> forth</font>

1035
00:35:47,470 --> 00:35:51,098
on title the the Ted Earley was topper

1036
00:35:49,240 --> 00:35:52,899
exiting so there are other alternates

1037
00:35:51,099 --> 00:35:55,690
but I was<font color="#CCCCCC"> just focusing</font><font color="#E5E5E5"> on the top rack</font>

1038
00:35:52,900 --> 00:35:58,210
switch options<font color="#E5E5E5"> so not wanting</font><font color="#CCCCCC"> to</font>

1039
00:35:55,690 --> 00:35:59,560
introduce<font color="#CCCCCC"> another variable that</font><font color="#E5E5E5"> you know</font>

1040
00:35:58,210 --> 00:36:04,329
to say<font color="#CCCCCC"> the oh you can also do indirect</font>

1041
00:35:59,560 --> 00:36:06,430
switching<font color="#CCCCCC"> thank you thanks</font><font color="#E5E5E5"> for the</font>

1042
00:36:04,329 --> 00:36:09,520
presentation Danny and Tom canola from

1043
00:36:06,430 --> 00:36:11,078
voxel out and the one<font color="#E5E5E5"> question I wasn't</font>

1044
00:36:09,520 --> 00:36:13,270
asked for<font color="#E5E5E5"> you have asked to you rather</font>

1045
00:36:11,079 --> 00:36:15,310
was said she represents so many edge

1046
00:36:13,270 --> 00:36:17,619
cases for where this stuff really really

1047
00:36:15,310 --> 00:36:20,380
<font color="#E5E5E5">isn't</font><font color="#CCCCCC"> very important</font><font color="#E5E5E5"> have you had</font>

1048
00:36:17,619 --> 00:36:23,020
occasion<font color="#CCCCCC"> to wonder ponder why there's no</font>

1049
00:36:20,380 --> 00:36:24,730
<font color="#CCCCCC">equivalence it just RPE</font><font color="#E5E5E5"> or</font><font color="#CCCCCC"> VRP or</font>

1050
00:36:23,020 --> 00:36:26,770
whatever which doesn't burn accessory

1051
00:36:24,730 --> 00:36:27,369
addresses<font color="#E5E5E5"> within the layer</font><font color="#CCCCCC"> 3</font><font color="#E5E5E5"> attached</font>

1052
00:36:26,770 --> 00:36:29,500
<font color="#CCCCCC">domain</font>

1053
00:36:27,369 --> 00:36:31,630
I just have to wonder<font color="#CCCCCC"> you know at some</font>

1054
00:36:29,500 --> 00:36:32,980
<font color="#E5E5E5">point</font><font color="#CCCCCC"> is this actually gonna be worth</font>

1055
00:36:31,630 --> 00:36:34,900
asking a vendor for<font color="#E5E5E5"> or have you have</font>

1056
00:36:32,980 --> 00:36:36,970
occasion to consider<font color="#E5E5E5"> that or if you have</font>

1057
00:36:34,900 --> 00:36:39,849
what have you come up<font color="#E5E5E5"> with or considered</font>

1058
00:36:36,970 --> 00:36:42,459
or thought about back so you mean<font color="#CCCCCC"> where</font>

1059
00:36:39,849 --> 00:36:44,980
you're not<font color="#E5E5E5"> burning</font><font color="#CCCCCC"> two extra IPS</font><font color="#E5E5E5"> yes sir</font>

1060
00:36:42,460 --> 00:36:46,000
oh no you<font color="#E5E5E5"> don't have to we've done it we</font>

1061
00:36:44,980 --> 00:36:47,740
<font color="#CCCCCC">actually have an environment where we do</font>

1062
00:36:46,000 --> 00:36:49,480
<font color="#E5E5E5">this so what you do is the physical</font>

1063
00:36:47,740 --> 00:36:51,220
interfaces get numbered in some other

1064
00:36:49,480 --> 00:36:53,290
subnet

1065
00:36:51,220 --> 00:36:55,029
so let's you're using<font color="#E5E5E5"> burning RFC 1918</font>

1066
00:36:53,290 --> 00:36:57,790
for the physical interfaces and the only

1067
00:36:55,030 --> 00:36:59,920
real IP is the<font color="#CCCCCC"> ages RP address sure so</font>

1068
00:36:57,790 --> 00:37:02,890
<font color="#E5E5E5">so last time</font><font color="#CCCCCC"> we tried cisco</font><font color="#E5E5E5"> standby with</font>

1069
00:36:59,920 --> 00:37:09,400
this it<font color="#E5E5E5"> seems to</font><font color="#CCCCCC"> be</font><font color="#E5E5E5"> not present in</font><font color="#CCCCCC"> 12 12</font>

1070
00:37:02,890 --> 00:37:12,190
<font color="#CCCCCC">1</font><font color="#E5E5E5"> yeah</font><font color="#CCCCCC"> okay so okay thank you okay so so</font>

1071
00:37:09,400 --> 00:37:15,339
yeah so there's a believe it or not it

1072
00:37:12,190 --> 00:37:18,010
worked in older<font color="#CCCCCC"> versions in in 12 to 40</font>

1073
00:37:15,339 --> 00:37:20,890
they shut<font color="#E5E5E5"> it off but but so the secret</font>

1074
00:37:18,010 --> 00:37:23,319
<font color="#E5E5E5">is the real</font><font color="#CCCCCC"> standby IP address is part</font>

1075
00:37:20,890 --> 00:37:25,060
<font color="#E5E5E5">of the fake fake IP and you do a standby</font>

1076
00:37:23,319 --> 00:37:32,829
secondary with the real<font color="#E5E5E5"> IP address there</font>

1077
00:37:25,060 --> 00:37:34,509
<font color="#E5E5E5">is a workaround I'm just gonna say I'm</font>

1078
00:37:32,829 --> 00:37:35,829
leaving<font color="#E5E5E5"> at 4:00</font><font color="#CCCCCC"> p.m. today so finally at</font>

1079
00:37:34,510 --> 00:37:37,900
lunch or email me<font color="#CCCCCC"> unfortunately I have</font>

1080
00:37:35,829 --> 00:37:41,400
to<font color="#E5E5E5"> cut out</font><font color="#CCCCCC"> early today but if you</font><font color="#E5E5E5"> find</font>

1081
00:37:37,900 --> 00:37:41,400
me<font color="#CCCCCC"> before then yeah or you know</font>

1082
00:37:42,940 --> 00:37:48,520
we run world<font color="#CCCCCC"> north of 10,000 rats</font>

1083
00:37:45,880 --> 00:37:50,620
<font color="#CCCCCC">witches and I wanted</font><font color="#E5E5E5"> to offer some</font>

1084
00:37:48,520 --> 00:37:52,480
caveats<font color="#E5E5E5"> to some of these options to</font>

1085
00:37:50,620 --> 00:37:53,859
watch out for<font color="#E5E5E5"> because we've tried</font><font color="#CCCCCC"> just</font>

1086
00:37:52,480 --> 00:37:57,190
about every one<font color="#E5E5E5"> of these and with</font>

1087
00:37:53,860 --> 00:37:58,990
varying success<font color="#CCCCCC"> first of</font><font color="#E5E5E5"> all</font><font color="#CCCCCC"> - option</font>

1088
00:37:57,190 --> 00:38:02,260
number<font color="#CCCCCC"> two where every rats which is</font>

1089
00:37:58,990 --> 00:38:04,180
there are<font color="#CCCCCC"> three cheese into a core with</font>

1090
00:38:02,260 --> 00:38:05,770
the<font color="#CCCCCC"> larger size cores you may find that</font>

1091
00:38:04,180 --> 00:38:08,500
<font color="#E5E5E5">your course can't hold this many</font>

1092
00:38:05,770 --> 00:38:11,170
adjacencies<font color="#CCCCCC"> we've seen some spectacular</font>

1093
00:38:08,500 --> 00:38:14,640
<font color="#CCCCCC">or meltdowns when the number of</font>

1094
00:38:11,170 --> 00:38:17,620
adjacency started to reach<font color="#CCCCCC"> about 400</font>

1095
00:38:14,640 --> 00:38:20,770
<font color="#E5E5E5">similar thing goes to option number</font>

1096
00:38:17,620 --> 00:38:23,170
<font color="#CCCCCC">three</font><font color="#E5E5E5"> which you said isn't very common</font>

1097
00:38:20,770 --> 00:38:27,850
<font color="#E5E5E5">but I can tell you it's incredibly</font>

1098
00:38:23,170 --> 00:38:29,470
common<font color="#CCCCCC"> we've seen where</font><font color="#E5E5E5"> rack where</font>

1099
00:38:27,850 --> 00:38:31,630
course<font color="#E5E5E5"> witches decided to peer up</font>

1100
00:38:29,470 --> 00:38:34,919
through the<font color="#CCCCCC"> rats which I'll be very</font>

1101
00:38:31,630 --> 00:38:39,450
careful<font color="#CCCCCC"> of</font><font color="#E5E5E5"> that because</font><font color="#CCCCCC"> 400 way ecmp</font>

1102
00:38:34,920 --> 00:38:39,450
<font color="#E5E5E5">across beginnings doesn't work so well</font>

1103
00:38:39,570 --> 00:38:50,280
and as<font color="#E5E5E5"> far</font><font color="#CCCCCC"> as when it's a very adverse</font>

1104
00:38:47,490 --> 00:38:52,379
burning problem<font color="#CCCCCC"> is a</font><font color="#E5E5E5"> very big one</font>

1105
00:38:50,280 --> 00:38:55,530
in<font color="#CCCCCC"> layer three</font><font color="#E5E5E5"> type deployment because</font>

1106
00:38:52,380 --> 00:38:58,590
most top of rack switches are 40 forts

1107
00:38:55,530 --> 00:39:04,500
of<font color="#E5E5E5"> 48 ports so</font><font color="#CCCCCC"> you have a</font><font color="#E5E5E5"> waste me a lot</font>

1108
00:38:58,590 --> 00:39:06,660
<font color="#E5E5E5">of a lot of IP</font><font color="#CCCCCC"> addresses and finally</font><font color="#E5E5E5"> you</font>

1109
00:39:04,500 --> 00:39:08,250
<font color="#E5E5E5">were mentioning the woolen model</font>

1110
00:39:06,660 --> 00:39:16,440
basically<font color="#E5E5E5"> where you have the layer</font><font color="#CCCCCC"> two</font>

1111
00:39:08,250 --> 00:39:18,300
distribution if you think the<font color="#CCCCCC"> CPU of</font>

1112
00:39:16,440 --> 00:39:20,790
<font color="#CCCCCC">those little rock switches</font><font color="#E5E5E5"> and actually</font>

1113
00:39:18,300 --> 00:39:25,200
handle<font color="#CCCCCC"> it at scale</font><font color="#E5E5E5"> you may be in for</font><font color="#CCCCCC"> a</font>

1114
00:39:20,790 --> 00:39:26,550
very<font color="#CCCCCC"> big surprise</font><font color="#E5E5E5"> there big break very</font>

1115
00:39:25,200 --> 00:39:29,430
very<font color="#CCCCCC"> very</font><font color="#E5E5E5"> quickly</font>

1116
00:39:26,550 --> 00:39:32,600
despite the<font color="#E5E5E5"> dr and the VD are you may</font>

1117
00:39:29,430 --> 00:39:32,600
<font color="#CCCCCC">need something beefy to</font><font color="#E5E5E5"> be</font><font color="#CCCCCC"> that you are</font>

1118
00:39:33,440 --> 00:39:39,030
yeah I think yeah absolutely<font color="#E5E5E5"> they the</font>

1119
00:39:35,580 --> 00:39:40,230
caveat on that<font color="#E5E5E5"> one Igor is that you you</font>

1120
00:39:39,030 --> 00:39:41,940
want<font color="#E5E5E5"> to you want to go ahead and</font><font color="#CCCCCC"> set</font>

1121
00:39:40,230 --> 00:39:43,440
<font color="#CCCCCC">your rack switches to SPF priority zero</font>

1122
00:39:41,940 --> 00:39:45,540
so they don't actually take<font color="#E5E5E5"> over dr and</font>

1123
00:39:43,440 --> 00:39:51,530
you need a beefy box<font color="#CCCCCC"> to serve as your</font>

1124
00:39:45,540 --> 00:39:51,529
<font color="#E5E5E5">core absolutely thank you thank you</font>

1125
00:39:54,800 --> 00:39:59,980
Thank You<font color="#CCCCCC"> Donnie</font><font color="#E5E5E5"> good presentation so we</font>

1126
00:39:57,800 --> 00:39:59,980
have a

