1
00:00:00,380 --> 00:00:06,870
alright so this this<font color="#E5E5E5"> next talk is kind</font>

2
00:00:04,140 --> 00:00:08,550
of probably<font color="#E5E5E5"> the most the talk with the</font>

3
00:00:06,870 --> 00:00:11,070
most number of authors on it at this

4
00:00:08,550 --> 00:00:12,650
nanog and it's because not any one

5
00:00:11,070 --> 00:00:16,139
single of us wanted to<font color="#E5E5E5"> really take</font>

6
00:00:12,650 --> 00:00:17,730
responsibility for what we did here so

7
00:00:16,139 --> 00:00:20,099
we have a bunch of<font color="#E5E5E5"> people</font><font color="#CCCCCC"> up here</font><font color="#E5E5E5"> to</font>

8
00:00:17,730 --> 00:00:22,560
talk about prefix hijacking mitigation

9
00:00:20,100 --> 00:00:25,289
and that something<font color="#CCCCCC"> may be better</font><font color="#E5E5E5"> than</font>

10
00:00:22,560 --> 00:00:28,229
nothing but<font color="#CCCCCC"> really</font><font color="#E5E5E5"> it's quite a</font>

11
00:00:25,289 --> 00:00:30,150
paralyzing event on most networks so

12
00:00:28,230 --> 00:00:32,640
here's our outline we're going to talk

13
00:00:30,150 --> 00:00:34,530
about how prefix hijacking what it is

14
00:00:32,640 --> 00:00:36,660
and how<font color="#E5E5E5"> it occurs and how you get it</font>

15
00:00:34,530 --> 00:00:39,239
done not that any of you should<font color="#E5E5E5"> be</font><font color="#CCCCCC"> doing</font>

16
00:00:36,660 --> 00:00:42,089
it but<font color="#E5E5E5"> then how do you mitigate against</font>

17
00:00:39,239 --> 00:00:44,190
it what can you do about it and we'll

18
00:00:42,090 --> 00:00:48,180
<font color="#E5E5E5">find out that what can be done</font><font color="#CCCCCC"> is pretty</font>

19
00:00:44,190 --> 00:00:51,629
limiting and then the group of<font color="#E5E5E5"> panelists</font>

20
00:00:48,180 --> 00:00:53,489
worked on an experiment to see if there

21
00:00:51,629 --> 00:00:57,030
was something<font color="#E5E5E5"> we could do to defend</font>

22
00:00:53,489 --> 00:00:58,468
against a prefix hijack and more on that

23
00:00:57,030 --> 00:01:01,920
later and then we'll get<font color="#CCCCCC"> into some Q&A</font>

24
00:00:58,469 --> 00:01:04,080
at the end so prefix hijacking 101 go

25
00:01:01,920 --> 00:01:05,430
into<font color="#CCCCCC"> your</font><font color="#E5E5E5"> router setup a prefix</font><font color="#CCCCCC"> that</font>

26
00:01:04,080 --> 00:01:08,580
belongs<font color="#E5E5E5"> to somebody</font><font color="#CCCCCC"> else and start</font>

27
00:01:05,430 --> 00:01:11,130
announcing it into global<font color="#E5E5E5"> BGP and hope</font>

28
00:01:08,580 --> 00:01:13,259
you get<font color="#E5E5E5"> some traffic in my particular</font>

29
00:01:11,130 --> 00:01:15,479
case<font color="#E5E5E5"> I'm a</font><font color="#CCCCCC"> DNS operator so that's</font>

30
00:01:13,260 --> 00:01:17,159
particularly damaging to me because I

31
00:01:15,479 --> 00:01:19,200
don't<font color="#E5E5E5"> know who's in the path and who's</font>

32
00:01:17,159 --> 00:01:22,500
not in the path necessarily without some

33
00:01:19,200 --> 00:01:24,540
really good<font color="#E5E5E5"> monitoring you could always</font>

34
00:01:22,500 --> 00:01:27,270
announce a more specific of somebody

35
00:01:24,540 --> 00:01:29,490
else's prefix and guarantee<font color="#CCCCCC"> that you're</font>

36
00:01:27,270 --> 00:01:31,110
going<font color="#E5E5E5"> to get that traffic but</font>

37
00:01:29,490 --> 00:01:32,640
essentially<font color="#E5E5E5"> the synopsis is that you're</font>

38
00:01:31,110 --> 00:01:35,130
<font color="#E5E5E5">trying to steal someone else's traffic</font>

39
00:01:32,640 --> 00:01:37,079
off the net and once you start receiving

40
00:01:35,130 --> 00:01:38,970
that traffic you can<font color="#E5E5E5"> now you know sniff</font>

41
00:01:37,079 --> 00:01:41,070
capture it redirect it manipulate it

42
00:01:38,970 --> 00:01:43,530
send it<font color="#CCCCCC"> back out do whatever you</font><font color="#E5E5E5"> want</font>

43
00:01:41,070 --> 00:01:45,449
<font color="#CCCCCC">with it so you know here's</font><font color="#E5E5E5"> the quick</font>

44
00:01:43,530 --> 00:01:47,070
example on the same prefix right you

45
00:01:45,450 --> 00:01:49,500
know the shorter<font color="#CCCCCC"> a s</font><font color="#E5E5E5"> path to the same</font>

46
00:01:47,070 --> 00:01:51,898
prefix wins and our red attacker in the

47
00:01:49,500 --> 00:01:53,820
lower right get some traffic and he can

48
00:01:51,899 --> 00:01:55,380
start doing<font color="#E5E5E5"> some things with it in the</font>

49
00:01:53,820 --> 00:01:58,048
case of the more specific<font color="#E5E5E5"> prefix you</font>

50
00:01:55,380 --> 00:01:59,729
have the same a s path more specific

51
00:01:58,049 --> 00:02:01,140
prefix wins we all know this we've been

52
00:01:59,729 --> 00:02:03,869
doing routing for years and that's how

53
00:02:01,140 --> 00:02:08,310
it works and<font color="#CCCCCC"> the attacker gets the</font>

54
00:02:03,869 --> 00:02:10,860
traffic and<font color="#CCCCCC"> then you have a talk from a</font>

55
00:02:08,310 --> 00:02:12,770
couple<font color="#CCCCCC"> minutes</font><font color="#E5E5E5"> ago an advanced men and</font>

56
00:02:10,860 --> 00:02:15,850
mill attack where you can actually

57
00:02:12,770 --> 00:02:19,520
sit<font color="#E5E5E5"> in between two</font><font color="#CCCCCC"> asns</font><font color="#E5E5E5"> hijack traffic</font>

58
00:02:15,850 --> 00:02:22,280
going to<font color="#E5E5E5"> your victim and they never even</font>

59
00:02:19,520 --> 00:02:23,990
know that it's occurring and you could

60
00:02:22,280 --> 00:02:25,850
possibly manipulate traffic on the wire

61
00:02:23,990 --> 00:02:29,180
as it's going through the network so and

62
00:02:25,850 --> 00:02:30,710
that's<font color="#CCCCCC"> everything from you know copying</font>

63
00:02:29,180 --> 00:02:33,070
observing and recording the traffic

64
00:02:30,710 --> 00:02:35,270
handing it back to the originator

65
00:02:33,070 --> 00:02:37,190
sitting there and making sure you're

66
00:02:35,270 --> 00:02:40,420
manipulating<font color="#CCCCCC"> TTLs in ways that hide you</font>

67
00:02:37,190 --> 00:02:43,520
and<font color="#CCCCCC"> you're essentially mask to the world</font>

68
00:02:40,420 --> 00:02:44,899
so what's the impact of prefix hijacking

69
00:02:43,520 --> 00:02:47,270
I mean we are all<font color="#E5E5E5"> around the day that</font>

70
00:02:44,900 --> 00:02:50,240
that<font color="#CCCCCC"> you know YouTube the day the</font>

71
00:02:47,270 --> 00:02:54,110
YouTube died that was<font color="#CCCCCC"> a pretty boring</font>

72
00:02:50,240 --> 00:02:55,520
day but you know<font color="#CCCCCC"> for space that's in use</font>

73
00:02:54,110 --> 00:02:57,800
it creates problems with existing

74
00:02:55,520 --> 00:02:59,480
services for space that's not in you

75
00:02:57,800 --> 00:03:01,550
suddenly you know you<font color="#E5E5E5"> don't know your</font>

76
00:02:59,480 --> 00:03:03,500
space is hijacked and you try<font color="#E5E5E5"> and bring</font>

77
00:03:01,550 --> 00:03:07,490
it online and things<font color="#E5E5E5"> don't work the way</font>

78
00:03:03,500 --> 00:03:09,380
you expect so also bad and as I said

79
00:03:07,490 --> 00:03:13,070
<font color="#E5E5E5">does this happen right we knew about</font>

80
00:03:09,380 --> 00:03:16,340
<font color="#E5E5E5">YouTube doesn't happen as often as</font>

81
00:03:13,070 --> 00:03:18,530
people think certainly not you<font color="#E5E5E5"> know on</font>

82
00:03:16,340 --> 00:03:21,920
the basis of week days or weeks but it

83
00:03:18,530 --> 00:03:25,070
does happen and it's it's a really big

84
00:03:21,920 --> 00:03:27,260
threat to your network<font color="#E5E5E5"> men in the middle</font>

85
00:03:25,070 --> 00:03:29,680
other than experiments no known cases

86
00:03:27,260 --> 00:03:29,679
yet

87
00:03:32,400 --> 00:03:38,530
there's a semi exhaustive examination

88
00:03:34,480 --> 00:03:40,570
that<font color="#CCCCCC"> premises performed against at least</font>

89
00:03:38,530 --> 00:03:43,960
<font color="#E5E5E5">one month worth of data and as it</font>

90
00:03:40,570 --> 00:03:46,359
happens looking for what<font color="#E5E5E5"> looks like a</font>

91
00:03:43,960 --> 00:03:49,060
violation<font color="#CCCCCC"> of the valley free</font><font color="#E5E5E5"> property</font>

92
00:03:46,360 --> 00:03:52,030
that has been proposed across most<font color="#E5E5E5"> ass</font>

93
00:03:49,060 --> 00:03:54,070
paths is I guess a non-trivial amount of

94
00:03:52,030 --> 00:03:55,630
computation so the initial search that

95
00:03:54,070 --> 00:03:58,180
was random i believe was just for maybe

96
00:03:55,630 --> 00:04:01,210
a month<font color="#E5E5E5"> or two and this presentation was</font>

97
00:03:58,180 --> 00:04:02,890
what Renesys gave at black hat earlier

98
00:04:01,210 --> 00:04:07,240
this year I believe March April

99
00:04:02,890 --> 00:04:09,279
<font color="#E5E5E5">timeframe and it was it was a small</font>

100
00:04:07,240 --> 00:04:11,440
amount of information that trickled out

101
00:04:09,280 --> 00:04:14,440
of the filters if you will or the method

102
00:04:11,440 --> 00:04:16,630
<font color="#CCCCCC">that was employed including the TAC a TV</font>

103
00:04:14,440 --> 00:04:19,589
<font color="#CCCCCC">high jacket at Def Con and West August</font>

104
00:04:16,630 --> 00:04:22,780
and then<font color="#CCCCCC"> a</font><font color="#E5E5E5"> couple other events that were</font>

105
00:04:19,589 --> 00:04:25,210
almost like freeze frames of bizarre

106
00:04:22,780 --> 00:04:26,770
converged states that persisted and it

107
00:04:25,210 --> 00:04:29,469
turned out to<font color="#E5E5E5"> be a few</font><font color="#CCCCCC"> end points</font><font color="#E5E5E5"> that</font>

108
00:04:26,770 --> 00:04:31,780
were oh we forgot we were team something

109
00:04:29,470 --> 00:04:34,240
we didn't intend that boobs kind of

110
00:04:31,780 --> 00:04:36,299
stuff but it<font color="#E5E5E5"> was you</font><font color="#CCCCCC"> know those needles</font>

111
00:04:34,240 --> 00:04:39,220
that were nonetheless still

112
00:04:36,300 --> 00:04:44,740
significantly weird origin es<font color="#CCCCCC"> paths or</font>

113
00:04:39,220 --> 00:04:46,710
whatever<font color="#CCCCCC"> with the cokyrian so why don't</font>

114
00:04:44,740 --> 00:04:49,170
we fix this right we've been trying

115
00:04:46,710 --> 00:04:52,180
appears don't route filter each other

116
00:04:49,170 --> 00:04:55,120
there's no trust anchor system in BGP

117
00:04:52,180 --> 00:04:57,160
routing at all yet there's no way to

118
00:04:55,120 --> 00:05:00,100
validate routes in flight these are<font color="#CCCCCC"> all</font>

119
00:04:57,160 --> 00:05:02,560
things we're<font color="#CCCCCC"> working on so in the</font>

120
00:05:00,100 --> 00:05:05,830
absence of a hijack and the case that it

121
00:05:02,560 --> 00:05:07,480
can exist what do you do so here's some

122
00:05:05,830 --> 00:05:09,370
best practices that we<font color="#E5E5E5"> kind of put</font>

123
00:05:07,480 --> 00:05:12,340
together about<font color="#E5E5E5"> defending against a</font>

124
00:05:09,370 --> 00:05:14,440
hijack so of<font color="#CCCCCC"> course you need to</font><font color="#E5E5E5"> detect</font>

125
00:05:12,340 --> 00:05:15,789
that it's occurring there's multiple

126
00:05:14,440 --> 00:05:18,610
ways to do that you need<font color="#E5E5E5"> to investigate</font>

127
00:05:15,790 --> 00:05:19,960
what's occurring got to mitigate that

128
00:05:18,610 --> 00:05:23,500
somehow and then you<font color="#E5E5E5"> get to clean it up</font>

129
00:05:19,960 --> 00:05:26,169
right<font color="#E5E5E5"> so step number</font><font color="#CCCCCC"> zero some</font>

130
00:05:23,500 --> 00:05:27,520
preparation make sure<font color="#E5E5E5"> your prefixes are</font>

131
00:05:26,170 --> 00:05:28,930
yours make sure<font color="#E5E5E5"> they were actually</font>

132
00:05:27,520 --> 00:05:31,630
allocated to you make<font color="#CCCCCC"> sure you have</font>

133
00:05:28,930 --> 00:05:34,330
documentation of that and make sure<font color="#CCCCCC"> that</font>

134
00:05:31,630 --> 00:05:37,180
if your routing customer prefixes that

135
00:05:34,330 --> 00:05:38,320
you have<font color="#CCCCCC"> loh</font><font color="#E5E5E5"> for those that way you know</font>

136
00:05:37,180 --> 00:05:40,570
that<font color="#CCCCCC"> you're supposed to be routing them</font>

137
00:05:38,320 --> 00:05:43,599
and<font color="#CCCCCC"> nobody else should be make sure you</font>

138
00:05:40,570 --> 00:05:44,590
get your prefixes registered in some

139
00:05:43,600 --> 00:05:49,120
sort of<font color="#CCCCCC"> internet</font>

140
00:05:44,590 --> 00:05:51,219
database as a precaution ask your

141
00:05:49,120 --> 00:05:53,920
providers if they will<font color="#CCCCCC"> accept and carry</font>

142
00:05:51,220 --> 00:05:56,530
a 25 through their backbone for you for

143
00:05:53,920 --> 00:05:59,920
your prefixes this can really save you

144
00:05:56,530 --> 00:06:02,080
we've<font color="#E5E5E5"> seen from past discussions that</font>

145
00:05:59,920 --> 00:06:04,690
everybody thinks<font color="#E5E5E5"> the mythical boundary</font>

146
00:06:02,080 --> 00:06:07,419
of the 24 propagation isn't really real

147
00:06:04,690 --> 00:06:10,300
in that you can get things that are more

148
00:06:07,420 --> 00:06:12,490
specific than a 24 to be carried and

149
00:06:10,300 --> 00:06:14,710
also<font color="#CCCCCC"> ask you are up streams</font><font color="#E5E5E5"> and your</font>

150
00:06:12,490 --> 00:06:17,830
peers about their the ways that they

151
00:06:14,710 --> 00:06:19,960
deal with mitigation a couple other

152
00:06:17,830 --> 00:06:22,960
things don't put your key critical

153
00:06:19,960 --> 00:06:25,060
resources in the same net blocks don't

154
00:06:22,960 --> 00:06:26,830
put your<font color="#E5E5E5"> DNS in your web server in the</font>

155
00:06:25,060 --> 00:06:28,810
<font color="#E5E5E5">same announcements because if that</font>

156
00:06:26,830 --> 00:06:30,760
announcement gets<font color="#CCCCCC"> hijack you lose</font>

157
00:06:28,810 --> 00:06:34,000
<font color="#E5E5E5">everything you're much better off to</font>

158
00:06:30,760 --> 00:06:36,280
have some services running and not all

159
00:06:34,000 --> 00:06:39,270
<font color="#CCCCCC">but at least you have something this</font><font color="#E5E5E5"> was</font>

160
00:06:36,280 --> 00:06:41,619
one of<font color="#E5E5E5"> the problems with with YouTube</font>

161
00:06:39,270 --> 00:06:44,320
talk to your<font color="#E5E5E5"> provider how much clue do</font>

162
00:06:41,620 --> 00:06:45,550
they have about dealing<font color="#E5E5E5"> with this the</font>

163
00:06:44,320 --> 00:06:48,900
more clue they have the better your

164
00:06:45,550 --> 00:06:52,210
<font color="#CCCCCC">chances join some security groups</font>

165
00:06:48,900 --> 00:06:57,010
there's<font color="#E5E5E5"> plenty</font><font color="#CCCCCC"> of them out there join</font>

166
00:06:52,210 --> 00:06:58,989
them more importantly<font color="#E5E5E5"> network form</font>

167
00:06:57,010 --> 00:07:01,180
relationships come to meetings like

168
00:06:58,990 --> 00:07:02,290
nanog get to know the people that<font color="#CCCCCC"> are</font>

169
00:07:01,180 --> 00:07:04,240
going to<font color="#E5E5E5"> be able to save your butt when</font>

170
00:07:02,290 --> 00:07:06,330
<font color="#CCCCCC">this happens because you're</font><font color="#E5E5E5"> not going to</font>

171
00:07:04,240 --> 00:07:08,440
be able to take<font color="#E5E5E5"> care</font><font color="#CCCCCC"> of this yourself</font>

172
00:07:06,330 --> 00:07:11,440
you might<font color="#E5E5E5"> even want to buy them drinks</font>

173
00:07:08,440 --> 00:07:13,719
ahead of time<font color="#E5E5E5"> to help save your butt on</font>

174
00:07:11,440 --> 00:07:15,520
this all<font color="#E5E5E5"> right so detection right</font>

175
00:07:13,720 --> 00:07:16,720
there's lots<font color="#E5E5E5"> of tools you might have</font>

176
00:07:15,520 --> 00:07:18,640
<font color="#E5E5E5">something of your own you might use</font>

177
00:07:16,720 --> 00:07:21,370
right<font color="#CCCCCC"> briz you might use faz you might</font>

178
00:07:18,640 --> 00:07:22,659
use Cyclops you might use BGP mon you

179
00:07:21,370 --> 00:07:25,240
might use Renesys there's plenty of

180
00:07:22,660 --> 00:07:27,820
<font color="#E5E5E5">tools out there that can do this for you</font>

181
00:07:25,240 --> 00:07:32,560
use them some of them are free some of

182
00:07:27,820 --> 00:07:34,090
<font color="#E5E5E5">them or not so how did the how do these</font>

183
00:07:32,560 --> 00:07:37,330
tools work you know they'll detect

184
00:07:34,090 --> 00:07:39,119
change in or ASL they'll look at route

185
00:07:37,330 --> 00:07:41,650
propagation through an unknown path or

186
00:07:39,120 --> 00:07:43,450
<font color="#CCCCCC">unauthorized peers they look for</font>

187
00:07:41,650 --> 00:07:45,460
origination of a more specific prefix of

188
00:07:43,450 --> 00:07:47,469
different prefix you have your<font color="#CCCCCC"> own</font>

189
00:07:45,460 --> 00:07:49,390
traffic<font color="#E5E5E5"> monitoring you</font><font color="#CCCCCC"> know you expect</font>

190
00:07:47,470 --> 00:07:51,520
to get 30,000 packets per second of

191
00:07:49,390 --> 00:07:53,380
something that drops well something's

192
00:07:51,520 --> 00:07:54,500
gone wrong so<font color="#E5E5E5"> you start you know looking</font>

193
00:07:53,380 --> 00:07:57,020
into<font color="#E5E5E5"> this</font>

194
00:07:54,500 --> 00:07:58,940
number<font color="#E5E5E5"> two start investigating make sure</font>

195
00:07:57,020 --> 00:08:01,789
<font color="#E5E5E5">it's actually a hijacking and that you</font>

196
00:07:58,940 --> 00:08:03,140
know some admin on your network hasn't

197
00:08:01,790 --> 00:08:05,240
started announcing more specifics in a

198
00:08:03,140 --> 00:08:06,860
place that they shouldn't find out who's

199
00:08:05,240 --> 00:08:09,170
actually responsible for the hijacking

200
00:08:06,860 --> 00:08:11,480
this is important and these tool sets

201
00:08:09,170 --> 00:08:13,370
can really help you<font color="#E5E5E5"> with this make sure</font>

202
00:08:11,480 --> 00:08:15,440
you gather your evidence very carefully

203
00:08:13,370 --> 00:08:16,700
log things down because<font color="#E5E5E5"> you're going to</font>

204
00:08:15,440 --> 00:08:20,810
<font color="#E5E5E5">need this information to get your routes</font>

205
00:08:16,700 --> 00:08:23,570
back so mitigate so now you start you

206
00:08:20,810 --> 00:08:27,310
let's say that<font color="#CCCCCC"> your hijack block is a 24</font>

207
00:08:23,570 --> 00:08:29,570
or any blog fine with your most critical

208
00:08:27,310 --> 00:08:31,520
elements of<font color="#E5E5E5"> that block are and start</font>

209
00:08:29,570 --> 00:08:33,439
announcing them as 25<font color="#E5E5E5"> Saudi aggregate</font>

210
00:08:31,520 --> 00:08:35,630
your block you're going<font color="#CCCCCC"> to rely on</font><font color="#E5E5E5"> the</font>

211
00:08:33,440 --> 00:08:37,099
most specific<font color="#E5E5E5"> rule winning this isn't</font>

212
00:08:35,630 --> 00:08:40,419
going<font color="#E5E5E5"> to</font><font color="#CCCCCC"> necessarily get all of your</font>

213
00:08:37,099 --> 00:08:43,219
traffic back but it will get a lot of it

214
00:08:40,419 --> 00:08:44,900
then contact the nearest responsible

215
00:08:43,219 --> 00:08:46,880
party to the origin of the hijack

216
00:08:44,900 --> 00:08:48,380
they're the people that are most likely

217
00:08:46,880 --> 00:08:51,020
going to<font color="#E5E5E5"> be able to suppress these</font>

218
00:08:48,380 --> 00:08:53,300
prefixes from leaving the attacker and

219
00:08:51,020 --> 00:08:56,390
taking<font color="#E5E5E5"> your traffic away ask them to</font>

220
00:08:53,300 --> 00:08:58,219
route filter your upstream can also help

221
00:08:56,390 --> 00:08:59,839
<font color="#E5E5E5">you with this as well so contact them</font>

222
00:08:58,220 --> 00:09:04,220
have them start reaching out into their

223
00:08:59,839 --> 00:09:05,720
networks and again the<font color="#CCCCCC"> RIR</font><font color="#E5E5E5"> irr</font><font color="#CCCCCC"> Loa data</font>

224
00:09:04,220 --> 00:09:07,100
that you have may come<font color="#E5E5E5"> into play here</font>

225
00:09:05,720 --> 00:09:08,240
because people might want<font color="#E5E5E5"> you to</font>

226
00:09:07,100 --> 00:09:11,870
actually<font color="#E5E5E5"> authenticate that these</font>

227
00:09:08,240 --> 00:09:14,950
prefixes are yours<font color="#E5E5E5"> and then finally you</font>

228
00:09:11,870 --> 00:09:17,240
know when the hijack attempt is over

229
00:09:14,950 --> 00:09:18,740
you're going<font color="#CCCCCC"> to have this mess of d eggs</font>

230
00:09:17,240 --> 00:09:21,650
that<font color="#CCCCCC"> you started announcing into global</font>

231
00:09:18,740 --> 00:09:22,880
<font color="#CCCCCC">BGP obviously get rid of those because</font>

232
00:09:21,650 --> 00:09:25,970
we don't<font color="#E5E5E5"> need</font><font color="#CCCCCC"> them floating around in</font>

233
00:09:22,880 --> 00:09:28,280
our routing tables and you know thank

234
00:09:25,970 --> 00:09:31,010
everybody that<font color="#CCCCCC"> helps you out and so this</font>

235
00:09:28,280 --> 00:09:34,280
<font color="#CCCCCC">is kind of like what your options are</font>

236
00:09:31,010 --> 00:09:35,810
today as far as you know from from

237
00:09:34,280 --> 00:09:37,610
talking with in this group this is what

238
00:09:35,810 --> 00:09:40,219
we thought our options were today this

239
00:09:37,610 --> 00:09:42,350
is your best practice get on the phone

240
00:09:40,220 --> 00:09:46,280
make some phone calls and hope and pray

241
00:09:42,350 --> 00:09:51,310
and<font color="#CCCCCC"> then</font><font color="#E5E5E5"> you have the diag method that's</font>

242
00:09:46,280 --> 00:09:54,500
about<font color="#CCCCCC"> it so we said let's try</font><font color="#E5E5E5"> something</font>

243
00:09:51,310 --> 00:09:58,969
let's rely on the fact that route flap

244
00:09:54,500 --> 00:10:01,280
dampening causes prefixes to be removed

245
00:09:58,970 --> 00:10:03,290
from routing<font color="#CCCCCC"> tables and see if that</font><font color="#E5E5E5"> can</font>

246
00:10:01,280 --> 00:10:07,310
help you in the case of a prefix I

247
00:10:03,290 --> 00:10:08,620
jockey so what we said is that I figure

248
00:10:07,310 --> 00:10:13,579
out<font color="#E5E5E5"> whatever</font>

249
00:10:08,620 --> 00:10:14,990
it's not my fault yeah that's<font color="#CCCCCC"> that</font>

250
00:10:13,580 --> 00:10:17,540
<font color="#E5E5E5">that's why there's so many names on the</font>

251
00:10:14,990 --> 00:10:22,450
list go listen<font color="#E5E5E5"> to the bald man this is</font>

252
00:10:17,540 --> 00:10:24,920
this bald man so the concept<font color="#E5E5E5"> here is</font>

253
00:10:22,450 --> 00:10:28,100
find the route that's being hijacked and

254
00:10:24,920 --> 00:10:30,410
flap it more and try and<font color="#E5E5E5"> get it out</font><font color="#CCCCCC"> of</font>

255
00:10:28,100 --> 00:10:34,130
people's tables by the use of red flag

256
00:10:30,410 --> 00:10:36,890
it sure sounds funny doesn't it it

257
00:10:34,130 --> 00:10:38,330
sounds like<font color="#E5E5E5"> it</font><font color="#CCCCCC"> should work right you</font>

258
00:10:36,890 --> 00:10:41,500
know who actually who thinks it would

259
00:10:38,330 --> 00:10:44,360
work who thinks it would work Patrick

260
00:10:41,500 --> 00:10:47,390
todd<font color="#E5E5E5"> todd got got a couple in the front</font>

261
00:10:44,360 --> 00:10:49,220
row who thinks it wouldn't work<font color="#CCCCCC"> okay</font>

262
00:10:47,390 --> 00:10:52,819
later on<font color="#CCCCCC"> come and ask him say why you</font>

263
00:10:49,220 --> 00:10:56,300
think that<font color="#E5E5E5"> would be all right so this</font>

264
00:10:52,820 --> 00:10:59,240
was our experiment we took a 23 that was

265
00:10:56,300 --> 00:11:02,120
stable<font color="#CCCCCC"> II announced to the world we took</font>

266
00:10:59,240 --> 00:11:04,779
a 24 component of that 23 and announced

267
00:11:02,120 --> 00:11:09,529
that<font color="#E5E5E5"> as well that was our</font><font color="#CCCCCC"> hijacked path</font>

268
00:11:04,779 --> 00:11:11,990
and then we<font color="#CCCCCC"> started flapping it with the</font>

269
00:11:09,529 --> 00:11:13,910
theory<font color="#E5E5E5"> that that 24 would flap enough</font>

270
00:11:11,990 --> 00:11:15,650
eventually route flap dampening would

271
00:11:13,910 --> 00:11:17,959
kick in it would be<font color="#E5E5E5"> removed from routing</font>

272
00:11:15,650 --> 00:11:21,199
tables and<font color="#CCCCCC"> the original</font><font color="#E5E5E5"> 23 would get the</font>

273
00:11:17,959 --> 00:11:25,099
traffic back so here's what our blocks

274
00:11:21,200 --> 00:11:29,810
look like 24 being announced by the

275
00:11:25,100 --> 00:11:33,410
<font color="#CCCCCC">original the true origin asna the hijack</font>

276
00:11:29,810 --> 00:11:37,640
state is that<font color="#CCCCCC"> the lower 24 was now being</font>

277
00:11:33,410 --> 00:11:39,920
announced by the attacker SNB and then

278
00:11:37,640 --> 00:11:42,439
<font color="#CCCCCC">SNA comes along and starts announced in</font>

279
00:11:39,920 --> 00:11:44,000
<font color="#CCCCCC">the 24 and flapping it eventually</font>

280
00:11:42,440 --> 00:11:47,150
getting it out<font color="#CCCCCC"> of people's tables and</font>

281
00:11:44,000 --> 00:11:50,870
boom the 23 takes the traffic again so

282
00:11:47,150 --> 00:11:52,970
we did this sorry<font color="#E5E5E5"> about your routing</font>

283
00:11:50,870 --> 00:11:57,110
tables but it was in the name of

284
00:11:52,970 --> 00:12:02,870
research so s3 3517 dynamic network

285
00:11:57,110 --> 00:12:05,420
services announces<font color="#E5E5E5"> 216 146 34 / 23 and</font>

286
00:12:02,870 --> 00:12:10,370
we also announced the lower 24 of that

287
00:12:05,420 --> 00:12:14,329
and our hijacking friend mr. capella of

288
00:12:10,370 --> 00:12:17,400
<font color="#E5E5E5">59 s data ass 1684 to hijack the lower</font>

289
00:12:14,329 --> 00:12:19,739
24 of that so

290
00:12:17,400 --> 00:12:23,490
they basically<font color="#E5E5E5"> get half of half of that</font>

291
00:12:19,740 --> 00:12:25,410
/ 23 prefix so let's<font color="#E5E5E5"> take a look at the</font>

292
00:12:23,490 --> 00:12:29,370
<font color="#CCCCCC">steady-state we get to a steady-state</font>

293
00:12:25,410 --> 00:12:33,870
where traffic is being stolen so we then

294
00:12:29,370 --> 00:12:36,150
come back as<font color="#E5E5E5"> 33 517 asna the victim</font><font color="#CCCCCC"> asn</font>

295
00:12:33,870 --> 00:12:38,670
we start announcing this route to bgp

296
00:12:36,150 --> 00:12:40,230
and we start flapping it and we did this

297
00:12:38,670 --> 00:12:43,199
in two different locations we started

298
00:12:40,230 --> 00:12:45,930
flapping it in New York on a quagga<font color="#CCCCCC"> base</font>

299
00:12:43,200 --> 00:12:48,660
box and we started flapping it in

300
00:12:45,930 --> 00:12:50,130
Chicago on a<font color="#CCCCCC"> Juniper base box and</font><font color="#E5E5E5"> just</font>

301
00:12:48,660 --> 00:12:51,930
because the way their routing cables are

302
00:12:50,130 --> 00:12:55,110
managed it was much easier to get much

303
00:12:51,930 --> 00:12:57,839
more rapid flapping to occur from<font color="#E5E5E5"> the</font>

304
00:12:55,110 --> 00:12:59,400
Juniper box by<font color="#E5E5E5"> shutting and no shutting</font>

305
00:12:57,840 --> 00:13:02,300
a loopback interface that was announcing

306
00:12:59,400 --> 00:13:04,890
its directly connected prefix into<font color="#E5E5E5"> bgp</font>

307
00:13:02,300 --> 00:13:08,280
then quagga was able to so<font color="#E5E5E5"> that gave us</font>

308
00:13:04,890 --> 00:13:09,750
some different results then what we did

309
00:13:08,280 --> 00:13:11,660
is we had our friends over at Renesys

310
00:13:09,750 --> 00:13:13,950
take a look at their global peer set and

311
00:13:11,660 --> 00:13:17,280
take a<font color="#E5E5E5"> look at which peers were</font>

312
00:13:13,950 --> 00:13:19,890
selecting what paths and in summary it

313
00:13:17,280 --> 00:13:21,329
just flat-out didn't work and we're all

314
00:13:19,890 --> 00:13:23,310
kind<font color="#E5E5E5"> of flabbergasted as to why it</font>

315
00:13:21,330 --> 00:13:25,710
doesn't and it seems<font color="#CCCCCC"> like there's just</font>

316
00:13:23,310 --> 00:13:28,579
<font color="#E5E5E5">not enough route flap dampening going on</font>

317
00:13:25,710 --> 00:13:33,060
on the internet anymore for it to work

318
00:13:28,580 --> 00:13:34,940
so who really won<font color="#E5E5E5"> there who the one that</font>

319
00:13:33,060 --> 00:13:38,910
we have been<font color="#E5E5E5"> a great method for us guys</font>

320
00:13:34,940 --> 00:13:42,630
yeah and and really what it boils down

321
00:13:38,910 --> 00:13:44,880
to<font color="#E5E5E5"> is we just my company became a big</font>

322
00:13:42,630 --> 00:13:47,960
prefix flapping jerk in the case so

323
00:13:44,880 --> 00:13:51,840
sorry<font color="#CCCCCC"> again all right so here's the data</font>

324
00:13:47,960 --> 00:13:53,640
you can see the<font color="#E5E5E5"> steady-state in blue the</font>

325
00:13:51,840 --> 00:13:57,270
hijack prefix all the traffic is<font color="#E5E5E5"> going</font>

326
00:13:53,640 --> 00:13:59,760
over to 5 9's data we start the<font color="#CCCCCC"> new york</font>

327
00:13:57,270 --> 00:14:03,120
defense by flat by announcing the prefix

328
00:13:59,760 --> 00:14:05,069
into the same<font color="#CCCCCC"> 24 and you can see that we</font>

329
00:14:03,120 --> 00:14:07,500
get<font color="#E5E5E5"> about fifteen percent of our traffic</font>

330
00:14:05,070 --> 00:14:10,020
back not good<font color="#E5E5E5"> enough and the next peak</font>

331
00:14:07,500 --> 00:14:13,080
in the<font color="#E5E5E5"> graph is when we start flapping</font>

332
00:14:10,020 --> 00:14:14,400
it didn't work very well you said ok

333
00:14:13,080 --> 00:14:16,860
we're going to<font color="#CCCCCC"> withdraw that route and</font>

334
00:14:14,400 --> 00:14:19,170
we're going<font color="#E5E5E5"> to try it from Chicago so we</font>

335
00:14:16,860 --> 00:14:20,960
<font color="#E5E5E5">start injecting the same 24 to VG p in</font>

336
00:14:19,170 --> 00:14:23,689
chicago and you can see we get<font color="#E5E5E5"> about</font>

337
00:14:20,960 --> 00:14:26,640
<font color="#E5E5E5">forty three percent of our traffic back</font>

338
00:14:23,690 --> 00:14:29,190
still not<font color="#E5E5E5"> that great but that's the</font>

339
00:14:26,640 --> 00:14:31,199
<font color="#CCCCCC">steady-state so now we start flapping it</font>

340
00:14:29,190 --> 00:14:33,480
and you can see that<font color="#E5E5E5"> we basically only</font>

341
00:14:31,200 --> 00:14:35,760
who's over time by flapping<font color="#E5E5E5"> the prefix</font>

342
00:14:33,480 --> 00:14:38,100
it stays stable you're more stable

343
00:14:35,760 --> 00:14:41,819
originated<font color="#CCCCCC"> 259</font><font color="#E5E5E5"> s day that it does to</font>

344
00:14:38,100 --> 00:14:44,970
dynamic network services so<font color="#E5E5E5"> we have some</font>

345
00:14:41,820 --> 00:14:46,560
deeper analysis here horizontal lines

346
00:14:44,970 --> 00:14:49,560
are individual peers from<font color="#E5E5E5"> the Renesys</font>

347
00:14:46,560 --> 00:14:51,900
routing set each circle is a<font color="#E5E5E5"> BGP update</font>

348
00:14:49,560 --> 00:14:53,939
the first slide kind of shows the the

349
00:14:51,900 --> 00:14:56,340
whole state of<font color="#E5E5E5"> the situation and as the</font>

350
00:14:53,940 --> 00:14:59,220
further slides are going to go more in

351
00:14:56,340 --> 00:15:05,330
depth so here's what this looks like for

352
00:14:59,220 --> 00:15:05,330
the<font color="#E5E5E5"> first and second trot so red</font><font color="#CCCCCC"> is the</font>

353
00:15:05,360 --> 00:15:12,480
attackers path blue is the rightful

354
00:15:09,720 --> 00:15:14,580
owners path doesn't look too<font color="#CCCCCC"> good you</font>

355
00:15:12,480 --> 00:15:16,310
can see we reach a steady state where

356
00:15:14,580 --> 00:15:19,380
we're<font color="#CCCCCC"> getting some of our traffic back</font>

357
00:15:16,310 --> 00:15:22,260
but when the flapping actually starts we

358
00:15:19,380 --> 00:15:25,230
lose ground and that's even more so

359
00:15:22,260 --> 00:15:27,750
apparent in our acog 0 defense than in

360
00:15:25,230 --> 00:15:29,190
our new york defense interestingly<font color="#CCCCCC"> the</font>

361
00:15:27,750 --> 00:15:31,530
<font color="#E5E5E5">new york defense even though it was</font>

362
00:15:29,190 --> 00:15:33,690
flapping pretty frequently say every 15

363
00:15:31,530 --> 00:15:35,640
to 20 seconds<font color="#E5E5E5"> it just did not propagate</font>

364
00:15:33,690 --> 00:15:38,130
there were so many other vtp path to

365
00:15:35,640 --> 00:15:39,810
explore so much nearer to the remainder

366
00:15:38,130 --> 00:15:42,090
<font color="#CCCCCC">of</font><font color="#E5E5E5"> your origins that it just didn't</font>

367
00:15:39,810 --> 00:15:46,140
really get anywhere and<font color="#E5E5E5"> only a handful</font>

368
00:15:42,090 --> 00:15:47,730
over the beers reported it at all so now

369
00:15:46,140 --> 00:15:51,090
we<font color="#E5E5E5"> can get a little bit more specific</font>

370
00:15:47,730 --> 00:15:56,070
with<font color="#E5E5E5"> this you can see where we respond</font>

371
00:15:51,090 --> 00:15:58,050
by injecting our 24 to get the traffic

372
00:15:56,070 --> 00:16:00,270
back and then you can see on the right

373
00:15:58,050 --> 00:16:06,660
when we start flapping and we just lose

374
00:16:00,270 --> 00:16:11,540
ground sure go back so

375
00:16:06,660 --> 00:16:13,889
so what each line represents is the the

376
00:16:11,540 --> 00:16:17,189
adjacency to the Renesys collection

377
00:16:13,889 --> 00:16:19,440
facility and<font color="#E5E5E5"> the structure and so the</font>

378
00:16:17,190 --> 00:16:20,879
blue circles indicate a transition by

379
00:16:19,440 --> 00:16:23,370
which an updater withdrawal would be

380
00:16:20,879 --> 00:16:27,300
sent in the case of the red line going

381
00:16:23,370 --> 00:16:29,189
to<font color="#E5E5E5"> blue means the DB in this case</font>

382
00:16:27,300 --> 00:16:30,839
dynamic network services<font color="#CCCCCC"> RIA rigea nates</font>

383
00:16:29,189 --> 00:16:33,420
<font color="#E5E5E5">the exact same prefix length in this</font>

384
00:16:30,839 --> 00:16:36,529
<font color="#E5E5E5">case of 24 and so some of the internet</font>

385
00:16:33,420 --> 00:16:40,259
turns back towards the correct origin

386
00:16:36,529 --> 00:16:42,329
away from the attackers origin and so

387
00:16:40,259 --> 00:16:43,889
each each further transition as we as we

388
00:16:42,329 --> 00:16:45,420
withdrawal and announcements all and

389
00:16:43,889 --> 00:16:48,120
announce if you go back one more<font color="#E5E5E5"> slide</font>

390
00:16:45,420 --> 00:16:51,089
time there we go the<font color="#CCCCCC"> the</font><font color="#E5E5E5"> full collection</font>

391
00:16:48,120 --> 00:16:53,459
really shows clearly<font color="#CCCCCC"> ilion in very small</font>

392
00:16:51,089 --> 00:16:55,800
<font color="#CCCCCC">time scale about 15 minutes 20 minutes</font>

393
00:16:53,459 --> 00:16:59,699
are presented<font color="#E5E5E5"> in the noisiest section</font>

394
00:16:55,800 --> 00:17:01,979
that the the choice that ejs reporting

395
00:16:59,699 --> 00:17:04,319
makes can change quite<font color="#E5E5E5"> rapidly this is</font>

396
00:17:01,980 --> 00:17:06,720
<font color="#E5E5E5">just pointing out that</font><font color="#CCCCCC"> BGP is converging</font>

397
00:17:04,319 --> 00:17:08,039
fast really but<font color="#E5E5E5"> interestingly it didn't</font>

398
00:17:06,720 --> 00:17:10,439
get<font color="#CCCCCC"> the result that we had hoped</font><font color="#E5E5E5"> for</font>

399
00:17:08,039 --> 00:17:12,809
which is a removal of that 24 prefix

400
00:17:10,439 --> 00:17:16,400
from from the flooring tables from from

401
00:17:12,809 --> 00:17:16,399
the routing information they said well

402
00:17:18,230 --> 00:17:22,380
this<font color="#E5E5E5"> one is interesting them yeah so</font>

403
00:17:20,880 --> 00:17:25,470
this<font color="#E5E5E5"> is our this is our defense from</font>

404
00:17:22,380 --> 00:17:28,919
<font color="#E5E5E5">Chicago you can see the number of times</font>

405
00:17:25,470 --> 00:17:30,330
where there's a couple green circles in

406
00:17:28,919 --> 00:17:32,909
here where we<font color="#CCCCCC"> actually got a full</font>

407
00:17:30,330 --> 00:17:34,830
withdrawal from up here but it doesn't

408
00:17:32,909 --> 00:17:36,030
occur all that often<font color="#E5E5E5"> that this seems to</font>

409
00:17:34,830 --> 00:17:37,470
be fitting with the intuition though

410
00:17:36,030 --> 00:17:39,149
that we got after<font color="#E5E5E5"> asking the few</font>

411
00:17:37,470 --> 00:17:40,890
operators and try to take a quick poll

412
00:17:39,150 --> 00:17:42,419
who does implement any kind<font color="#E5E5E5"> of flap</font>

413
00:17:40,890 --> 00:17:44,130
dampening most of what's the threshold

414
00:17:42,419 --> 00:17:47,130
perhaps<font color="#E5E5E5"> that was set what are the</font>

415
00:17:44,130 --> 00:17:48,450
defaults these days and interestingly we

416
00:17:47,130 --> 00:17:50,130
discovered<font color="#CCCCCC"> that a lot of the folks</font>

417
00:17:48,450 --> 00:17:51,990
aren't you<font color="#CCCCCC"> are who have flap dampening</font>

418
00:17:50,130 --> 00:17:53,940
available<font color="#E5E5E5"> perhaps an iOS and June also</font>

419
00:17:51,990 --> 00:17:55,950
do not do it on a combination anything

420
00:17:53,940 --> 00:17:57,570
more<font color="#CCCCCC"> specific than a prefix we had</font>

421
00:17:55,950 --> 00:17:59,070
thought it was a path plus the prefix

422
00:17:57,570 --> 00:18:01,590
and that was the recommendation in fact

423
00:17:59,070 --> 00:18:03,870
and one of the RFC's years and years ago

424
00:18:01,590 --> 00:18:06,120
but it appears as though anyone with

425
00:18:03,870 --> 00:18:08,219
flap dampening on<font color="#CCCCCC"> was prefix onnum so</font>

426
00:18:06,120 --> 00:18:09,510
interesting we are<font color="#E5E5E5"> intentionally almost</font>

427
00:18:08,220 --> 00:18:12,330
we shouldn't be<font color="#E5E5E5"> able to cause this</font>

428
00:18:09,510 --> 00:18:14,850
behavior at<font color="#E5E5E5"> all if that was implemented</font>

429
00:18:12,330 --> 00:18:16,949
to spec but by what we had read however

430
00:18:14,850 --> 00:18:19,260
the four or five that did actually give

431
00:18:16,950 --> 00:18:19,570
us a withdrawal and nothing else that

432
00:18:19,260 --> 00:18:21,190
meant

433
00:18:19,570 --> 00:18:24,939
24<font color="#CCCCCC"> is really out of the table completely</font>

434
00:18:21,190 --> 00:18:26,560
<font color="#E5E5E5">our distinct minority yet they shouldn't</font>

435
00:18:24,940 --> 00:18:31,290
have<font color="#E5E5E5"> done that to begin with I find that</font>

436
00:18:26,560 --> 00:18:31,290
very very<font color="#E5E5E5"> interesting academically</font><font color="#CCCCCC"> hausa</font>

437
00:18:31,920 --> 00:18:37,540
so our conclusion on this is that you

438
00:18:34,690 --> 00:18:38,830
know the<font color="#E5E5E5"> steady-state originator has the</font>

439
00:18:37,540 --> 00:18:41,530
advantage here the attacker had the

440
00:18:38,830 --> 00:18:44,649
advantage the older out in the<font color="#CCCCCC"> table was</font>

441
00:18:41,530 --> 00:18:47,700
taking the traffic me is the defender it

442
00:18:44,650 --> 00:18:49,930
was all my ground to lose in this case

443
00:18:47,700 --> 00:18:52,300
duplicating the origination got some

444
00:18:49,930 --> 00:18:54,550
traffic back but not anything really

445
00:18:52,300 --> 00:18:59,970
usable and the flapping only made it

446
00:18:54,550 --> 00:19:02,889
worse so<font color="#CCCCCC"> it kind of gets us back to with</font>

447
00:18:59,970 --> 00:19:05,890
prefix hijack mitigation what do<font color="#CCCCCC"> you do</font>

448
00:19:02,890 --> 00:19:09,870
other than pick up the phone or<font color="#CCCCCC"> D</font><font color="#E5E5E5"> AG and</font>

449
00:19:05,890 --> 00:19:12,370
announce some more specifics<font color="#E5E5E5"> uh-huh so</font>

450
00:19:09,870 --> 00:19:13,659
that was our research we<font color="#CCCCCC"> have some</font>

451
00:19:12,370 --> 00:19:15,370
<font color="#E5E5E5">questions that are open you know does</font>

452
00:19:13,660 --> 00:19:17,350
anyone flop dampen<font color="#E5E5E5"> and why do people you</font>

453
00:19:15,370 --> 00:19:20,139
know do you do it and should this have

454
00:19:17,350 --> 00:19:21,639
worked how much would we have had to

455
00:19:20,140 --> 00:19:25,450
flap the route to actually make it work

456
00:19:21,640 --> 00:19:27,270
is this strategy<font color="#E5E5E5"> even possibly effective</font>

457
00:19:25,450 --> 00:19:30,250
on the<font color="#CCCCCC"> internet today as</font><font color="#E5E5E5"> its configured</font>

458
00:19:27,270 --> 00:19:31,980
are the four of us<font color="#CCCCCC"> that worked</font><font color="#E5E5E5"> on this</font>

459
00:19:30,250 --> 00:19:38,320
insane for thinking it even would work

460
00:19:31,980 --> 00:19:39,550
so we'll take those questions down hi

461
00:19:38,320 --> 00:19:40,530
I'm wondering if you<font color="#E5E5E5"> can tell us a bit</font>

462
00:19:39,550 --> 00:19:42,990
more about

463
00:19:40,530 --> 00:19:44,970
giong the geography expand we mentioned

464
00:19:42,990 --> 00:19:47,340
<font color="#E5E5E5">you had your essentially payment</font>

465
00:19:44,970 --> 00:19:49,440
organization please<font color="#CCCCCC"> sorry name an</font>

466
00:19:47,340 --> 00:19:52,740
organization please I'm sorry I'm a

467
00:19:49,440 --> 00:19:55,140
graduate student<font color="#E5E5E5"> at Princeton and I'm</font>

468
00:19:52,740 --> 00:19:58,170
looking<font color="#E5E5E5"> into this so acutely interested</font>

469
00:19:55,140 --> 00:20:00,210
can you give us some as I said some

470
00:19:58,170 --> 00:20:02,040
information about just the geography you

471
00:20:00,210 --> 00:20:04,020
mentioned your advertising your<font color="#E5E5E5"> own / 23</font>

472
00:20:02,040 --> 00:20:09,990
out<font color="#E5E5E5"> of New York in Chicago where was the</font>

473
00:20:04,020 --> 00:20:12,120
attacker so the be attacking or the be

474
00:20:09,990 --> 00:20:15,060
in this case the FOA tacking a son was

475
00:20:12,120 --> 00:20:18,239
located geographically in Madison

476
00:20:15,060 --> 00:20:20,399
Wisconsin but from<font color="#E5E5E5"> a network diameter a</font>

477
00:20:18,240 --> 00:20:22,350
network layout if you will was

478
00:20:20,400 --> 00:20:25,620
essentially like two hops off of the

479
00:20:22,350 --> 00:20:30,000
real if<font color="#E5E5E5"> you will transit free areas of</font>

480
00:20:25,620 --> 00:20:33,330
the BFC 1680 42 sits behind today WD

481
00:20:30,000 --> 00:20:36,990
fiber and another intermediary who

482
00:20:33,330 --> 00:20:40,080
resells abovenet cogent and and level 3

483
00:20:36,990 --> 00:20:42,000
so it's<font color="#E5E5E5"> pretty far off if you will in</font>

484
00:20:40,080 --> 00:20:43,379
terms of who's badges are directly

485
00:20:42,000 --> 00:20:46,200
adjacent and how many<font color="#E5E5E5"> people are</font>

486
00:20:43,380 --> 00:20:48,030
downstream from those and so forth so

487
00:20:46,200 --> 00:20:49,950
you know<font color="#E5E5E5"> the only</font><font color="#CCCCCC"> reason the traffic</font>

488
00:20:48,030 --> 00:20:53,250
initially came over was just the prefix

489
00:20:49,950 --> 00:20:55,020
length winning but the the the later

490
00:20:53,250 --> 00:20:57,000
attempt to regain the ground actually

491
00:20:55,020 --> 00:20:59,790
were successful at pulling it away<font color="#CCCCCC"> i I</font>

492
00:20:57,000 --> 00:21:02,460
would<font color="#E5E5E5"> pause it primarily because it was</font>

493
00:20:59,790 --> 00:21:04,290
so far off from quote unquote<font color="#CCCCCC"> decor you</font>

494
00:21:02,460 --> 00:21:07,080
will I hate using that word but I don't

495
00:21:04,290 --> 00:21:10,290
have<font color="#E5E5E5"> a better one for it and even and</font>

496
00:21:07,080 --> 00:21:13,020
even in<font color="#E5E5E5"> our case in defending you know</font>

497
00:21:10,290 --> 00:21:15,260
our network was connected at the<font color="#E5E5E5"> time we</font>

498
00:21:13,020 --> 00:21:19,230
<font color="#CCCCCC">were making these origination through</font>

499
00:21:15,260 --> 00:21:21,570
Tata and TT level 3 and<font color="#E5E5E5"> T Leah who are</font>

500
00:21:19,230 --> 00:21:23,550
you know if not the default free zone

501
00:21:21,570 --> 00:21:27,110
very close to it and<font color="#CCCCCC"> that was not</font>

502
00:21:23,550 --> 00:21:29,030
helping<font color="#CCCCCC"> okay sorry suppose the</font>

503
00:21:27,110 --> 00:21:32,840
<font color="#CCCCCC">New York in Chicago sites were stuff</font>

504
00:21:29,030 --> 00:21:36,020
sites but the the attacking is<font color="#E5E5E5"> made that</font>

505
00:21:32,840 --> 00:21:38,449
customers of its own<font color="#CCCCCC"> or we're all free</font>

506
00:21:36,020 --> 00:21:40,250
sub sites oh yeah i would say<font color="#E5E5E5"> these are</font>

507
00:21:38,450 --> 00:21:42,380
all stuffs absolutely these aren't these

508
00:21:40,250 --> 00:21:44,299
aren't these are these are a esas which

509
00:21:42,380 --> 00:21:45,830
have a transit cone<font color="#E5E5E5"> of like one or two</font>

510
00:21:44,299 --> 00:21:47,809
behind them and almost nothing

511
00:21:45,830 --> 00:21:53,178
downstream<font color="#E5E5E5"> these are</font><font color="#CCCCCC"> just hanging off</font>

512
00:21:47,809 --> 00:21:55,370
the<font color="#E5E5E5"> internet at</font><font color="#CCCCCC"> large thank you Steve</font>

513
00:21:53,179 --> 00:21:57,559
give heard from go grid I think I can

514
00:21:55,370 --> 00:21:59,270
answer your<font color="#E5E5E5"> widest why the flapping</font>

515
00:21:57,559 --> 00:22:01,370
didn't work question which was

516
00:21:59,270 --> 00:22:02,510
presumably the only people who saw the

517
00:22:01,370 --> 00:22:09,370
flapping where the people<font color="#E5E5E5"> who already</font>

518
00:22:02,510 --> 00:22:09,370
saw you is the best path good boy

519
00:22:14,140 --> 00:22:20,410
so actually<font color="#CCCCCC"> I had a question sir just</font>

520
00:22:16,870 --> 00:22:22,179
naming mortally<font color="#CCCCCC"> might like Nokia</font><font color="#E5E5E5"> okay I</font>

521
00:22:20,410 --> 00:22:24,040
had a clarification question which would

522
00:22:22,180 --> 00:22:26,650
relate to some of the things I thought

523
00:22:24,040 --> 00:22:28,960
about is when you deploy damping is it

524
00:22:26,650 --> 00:22:30,730
her neighbor / prefix or is it just a

525
00:22:28,960 --> 00:22:33,520
prefix so let's say I have two neighbors

526
00:22:30,730 --> 00:22:35,380
and one of them is flapping their out do

527
00:22:33,520 --> 00:22:38,250
I take the prefix off my table or do I

528
00:22:35,380 --> 00:22:41,170
take it just for that neighbor well so

529
00:22:38,250 --> 00:22:44,380
<font color="#E5E5E5">there was a definite definite</font>

530
00:22:41,170 --> 00:22:46,750
disagreement between the RFC that I was

531
00:22:44,380 --> 00:22:48,610
referencing that defined that<font color="#E5E5E5"> the bet</font>

532
00:22:46,750 --> 00:22:50,470
recommendations for flap damping and

533
00:22:48,610 --> 00:22:54,850
what<font color="#E5E5E5"> really got implemented in routers</font>

534
00:22:50,470 --> 00:22:57,640
and the<font color="#E5E5E5"> the research I spent on that</font>

535
00:22:54,850 --> 00:23:00,159
weekend basically told me that<font color="#CCCCCC"> iOS's</font>

536
00:22:57,640 --> 00:23:02,440
implementation was not keying things by

537
00:23:00,160 --> 00:23:05,110
default anyway are not indexing flap

538
00:23:02,440 --> 00:23:08,350
damping against AS path and prefix it

539
00:23:05,110 --> 00:23:10,810
was just by prefix so any origin is path

540
00:23:08,350 --> 00:23:13,870
pattern could<font color="#E5E5E5"> cause a prefix to be held</font>

541
00:23:10,810 --> 00:23:16,060
from from from utrom utilization in the

542
00:23:13,870 --> 00:23:17,649
in the<font color="#E5E5E5"> fib and also suppressed from</font>

543
00:23:16,060 --> 00:23:19,810
announcement of the rib to my knowledge

544
00:23:17,650 --> 00:23:21,610
so that this is a simple example let's

545
00:23:19,810 --> 00:23:24,100
say I have two neighbors okay i'm

546
00:23:21,610 --> 00:23:26,919
getting<font color="#CCCCCC"> a / 23 from both the neighbors</font>

547
00:23:24,100 --> 00:23:29,530
now as it happens somebody<font color="#E5E5E5"> attacks using</font>

548
00:23:26,920 --> 00:23:32,710
a / 24 both of<font color="#E5E5E5"> them are sending me / 20</font>

549
00:23:29,530 --> 00:23:35,710
push the defender now launches a / 24 as

550
00:23:32,710 --> 00:23:37,390
well assume I'm getting that<font color="#E5E5E5"> / 24 from</font>

551
00:23:35,710 --> 00:23:38,740
one of the neighbors right there is a

552
00:23:37,390 --> 00:23:40,510
good chance that traffic is going to<font color="#E5E5E5"> be</font>

553
00:23:38,740 --> 00:23:43,600
split you're going<font color="#CCCCCC"> to</font><font color="#E5E5E5"> get half of it but</font>

554
00:23:40,510 --> 00:23:45,040
now you start damping that / 24 which

555
00:23:43,600 --> 00:23:46,929
means that that path is going to damp

556
00:23:45,040 --> 00:23:48,190
flaps top and then traffic shifts back

557
00:23:46,930 --> 00:23:50,050
to the attackers so<font color="#CCCCCC"> you've</font><font color="#E5E5E5"> probably</font>

558
00:23:48,190 --> 00:23:52,390
better off just announcing a / 24 not

559
00:23:50,050 --> 00:23:55,450
not damping it absolutely i mean the the

560
00:23:52,390 --> 00:23:57,250
data shows us that the the steady state

561
00:23:55,450 --> 00:23:59,500
condition is much better than the flap

562
00:23:57,250 --> 00:24:04,330
condition yeah we were hoping<font color="#CCCCCC"> for the</font>

563
00:23:59,500 --> 00:24:08,169
water hello

564
00:24:04,330 --> 00:24:10,779
<font color="#CCCCCC">re comcast I just wanted to kind</font><font color="#E5E5E5"> of</font>

565
00:24:08,169 --> 00:24:12,730
elaborate more on these defense

566
00:24:10,779 --> 00:24:18,149
mechanisms and how could they be applied

567
00:24:12,730 --> 00:24:22,029
<font color="#CCCCCC">for any caste systems learning anycast</font>

568
00:24:18,149 --> 00:24:24,189
well interestingly the origin in this

569
00:24:22,029 --> 00:24:26,490
case see the victims origin was any

570
00:24:24,190 --> 00:24:30,640
casted right yep this<font color="#CCCCCC"> is</font><font color="#E5E5E5"> this is from</font>

571
00:24:26,490 --> 00:24:32,529
dynamics a hasten space right right yes

572
00:24:30,640 --> 00:24:34,750
in other words both the<font color="#CCCCCC"> Chicago and the</font>

573
00:24:32,529 --> 00:24:37,360
New York locations were running the same

574
00:24:34,750 --> 00:24:42,279
actual prefix not at the time of the

575
00:24:37,360 --> 00:24:48,899
experiment so those the lower let's go

576
00:24:42,279 --> 00:24:53,760
to the chart here the 23<font color="#CCCCCC"> okay was</font>

577
00:24:48,899 --> 00:24:59,559
unicast announced from New York<font color="#CCCCCC"> okay the</font>

578
00:24:53,760 --> 00:25:03,610
lower 24 was<font color="#E5E5E5"> any</font><font color="#CCCCCC"> cast announced from New</font>

579
00:24:59,559 --> 00:25:07,870
York and Chicago so even though it's any

580
00:25:03,610 --> 00:25:10,299
<font color="#E5E5E5">cast it we didn't flap both sites at the</font>

581
00:25:07,870 --> 00:25:12,309
same time and we didn't announce both 24

582
00:25:10,299 --> 00:25:15,610
<font color="#E5E5E5">is at the same time at the same exact</font>

583
00:25:12,309 --> 00:25:18,340
moment so they're steady state as any

584
00:25:15,610 --> 00:25:19,949
cast but not for this experiment and I

585
00:25:18,340 --> 00:25:22,629
guess the second part of the question is

586
00:25:19,950 --> 00:25:23,990
<font color="#CCCCCC">you notice any discrepancies or any</font>

587
00:25:22,630 --> 00:25:27,679
issues

588
00:25:23,990 --> 00:25:30,260
appears that do bgp dampening<font color="#CCCCCC"> earthy to</font>

589
00:25:27,679 --> 00:25:32,990
be damaging<font color="#CCCCCC"> arena bgp summarization</font><font color="#E5E5E5"> in</font>

590
00:25:30,260 --> 00:25:36,540
other words did you see your 24 was

591
00:25:32,990 --> 00:25:39,060
being crowded like suddenly become a 20

592
00:25:36,540 --> 00:25:43,830
I miss that last part do I noticed the

593
00:25:39,060 --> 00:25:46,080
24 what pgp summarization a lot of<font color="#CCCCCC"> daya</font>

594
00:25:43,830 --> 00:25:49,110
<font color="#CCCCCC">speech they summarize</font><font color="#E5E5E5"> searches so much</font>

595
00:25:46,080 --> 00:25:51,179
<font color="#E5E5E5">for propagating</font><font color="#CCCCCC"> outs last 24 and see it</font>

596
00:25:49,110 --> 00:25:54,990
as like a /strong activity to see any of

597
00:25:51,180 --> 00:25:56,760
your peers you know change from his last

598
00:25:54,990 --> 00:26:01,650
24 the flash money towards know they

599
00:25:56,760 --> 00:26:04,110
were carrying it Richard<font color="#CCCCCC"> steenburgen n</font>

600
00:26:01,650 --> 00:26:06,240
layer Tom who are the transit providers

601
00:26:04,110 --> 00:26:09,479
of the the real network that you were

602
00:26:06,240 --> 00:26:11,940
defending the real network in New York

603
00:26:09,480 --> 00:26:16,560
that was through tell Ian level<font color="#E5E5E5"> three</font>

604
00:26:11,940 --> 00:26:18,720
and in Chicago Tata and<font color="#E5E5E5"> TT</font><font color="#CCCCCC"> okay well i</font>

605
00:26:16,560 --> 00:26:20,639
was<font color="#E5E5E5"> going to say that when tony</font>

606
00:26:18,720 --> 00:26:23,100
mentioned earlier that even though the

607
00:26:20,640 --> 00:26:24,630
stub a esas were had a very long s path

608
00:26:23,100 --> 00:26:28,709
he mentioned that they were also

609
00:26:24,630 --> 00:26:30,960
customers or customers of customers of

610
00:26:28,710 --> 00:26:32,309
of network so in the end it may not be a

611
00:26:30,960 --> 00:26:34,529
question<font color="#E5E5E5"> of a s path that may be a</font>

612
00:26:32,309 --> 00:26:36,389
question<font color="#E5E5E5"> of local prep for Cheryl local</font>

613
00:26:34,529 --> 00:26:38,130
prep for their customers<font color="#CCCCCC"> sure good for</font>

614
00:26:36,390 --> 00:26:39,510
though I<font color="#E5E5E5"> was wondering if</font><font color="#CCCCCC"> maybe one of</font>

615
00:26:38,130 --> 00:26:42,000
the hijacking networks was also a

616
00:26:39,510 --> 00:26:44,070
customer<font color="#CCCCCC"> of one of the the transit</font>

617
00:26:42,000 --> 00:26:47,850
networks and so that's how they<font color="#E5E5E5"> had such</font>

618
00:26:44,070 --> 00:26:49,649
a good way<font color="#E5E5E5"> to over override you but ya</font>

619
00:26:47,850 --> 00:26:50,908
seem like it I think the<font color="#CCCCCC"> only crossover</font>

620
00:26:49,649 --> 00:26:52,529
could have been level<font color="#CCCCCC"> 3 yeah I think</font>

621
00:26:50,909 --> 00:26:54,929
that's the<font color="#E5E5E5"> one that was the only one out</font>

622
00:26:52,529 --> 00:26:59,520
of out of out of 5 here in Christian

623
00:26:54,929 --> 00:27:03,090
wing good point thank you hey Todd<font color="#CCCCCC"> under</font>

624
00:26:59,520 --> 00:27:05,100
<font color="#CCCCCC">way so just to summarize and make sure</font>

625
00:27:03,090 --> 00:27:06,990
if I've got this so we were<font color="#CCCCCC"> kind of</font>

626
00:27:05,100 --> 00:27:09,178
bummed out because there was actually

627
00:27:06,990 --> 00:27:11,100
very little<font color="#CCCCCC"> you could do other than you</font>

628
00:27:09,179 --> 00:27:12,720
<font color="#CCCCCC">know to respond to a prefix hijacking</font>

629
00:27:11,100 --> 00:27:14,250
other than do your homework ahead of

630
00:27:12,720 --> 00:27:15,870
time and make some phone calls and<font color="#E5E5E5"> get</font>

631
00:27:14,250 --> 00:27:17,250
on IRC right that was sort of<font color="#E5E5E5"> that we</font>

632
00:27:15,870 --> 00:27:19,320
thought well that's disturbingly

633
00:27:17,250 --> 00:27:21,539
primitive silly there's got to be

634
00:27:19,320 --> 00:27:22,918
something better so Tony comes up with

635
00:27:21,539 --> 00:27:24,600
this wild lady and the whole thing<font color="#CCCCCC"> is</font>

636
00:27:22,919 --> 00:27:27,149
his fault by the way there's entirely

637
00:27:24,600 --> 00:27:28,678
Tony's fault he came up with it nobody

638
00:27:27,149 --> 00:27:30,899
else<font color="#E5E5E5"> wanted anything to do with</font><font color="#CCCCCC"> it he</font>

639
00:27:28,679 --> 00:27:32,370
wrangled us into doing this and five

640
00:27:30,899 --> 00:27:34,320
network said you're<font color="#E5E5E5"> not</font><font color="#CCCCCC"> going to take it</font>

641
00:27:32,370 --> 00:27:36,809
<font color="#E5E5E5">anymore that's right and his team of</font>

642
00:27:34,320 --> 00:27:38,879
<font color="#E5E5E5">thugs came to dine and</font><font color="#CCCCCC"> uh you know</font><font color="#E5E5E5"> put a</font>

643
00:27:36,809 --> 00:27:41,340
gun to my back and said flap that prefix

644
00:27:38,880 --> 00:27:42,539
so we're<font color="#CCCCCC"> back right and so</font><font color="#E5E5E5"> I guess part</font>

645
00:27:41,340 --> 00:27:44,340
of this is not just a question<font color="#CCCCCC"> to you</font>

646
00:27:42,539 --> 00:27:46,260
guys is that that I think that<font color="#CCCCCC"> was this</font>

647
00:27:44,340 --> 00:27:48,330
was one good attempt and it turns out<font color="#CCCCCC"> to</font>

648
00:27:46,260 --> 00:27:50,549
have failed miserably in a<font color="#E5E5E5"> perhaps</font>

649
00:27:48,330 --> 00:27:52,320
interesting way right failed miserably

650
00:27:50,549 --> 00:27:53,700
interesting that it failed on how it

651
00:27:52,320 --> 00:27:55,320
felt sometimes reporting failure is

652
00:27:53,700 --> 00:27:56,490
interesting anybody else got anything

653
00:27:55,320 --> 00:27:58,299
else<font color="#E5E5E5"> because this still seems</font>

654
00:27:56,490 --> 00:28:01,280
disturbingly primitive and so

655
00:27:58,299 --> 00:28:03,260
that in terms of all we can<font color="#CCCCCC"> do to</font>

656
00:28:01,280 --> 00:28:04,970
respond to hijackings is have done our

657
00:28:03,260 --> 00:28:06,799
prep work and<font color="#E5E5E5"> homework ahead of time Bob</font>

658
00:28:04,970 --> 00:28:09,200
years for the right people here and<font color="#E5E5E5"> hope</font>

659
00:28:06,799 --> 00:28:10,730
you have<font color="#CCCCCC"> a rolodex and an IRC and I am</font>

660
00:28:09,200 --> 00:28:13,549
session filled with the right contacts

661
00:28:10,730 --> 00:28:17,840
of people who can get stuff done what's

662
00:28:13,549 --> 00:28:20,780
<font color="#CCCCCC">that Oh Patrick wants to sell CDN</font>

663
00:28:17,840 --> 00:28:23,120
services my fight helps with<font color="#E5E5E5"> this stuff</font>

664
00:28:20,780 --> 00:28:24,740
and maybe<font color="#CCCCCC"> big gravity there's probably</font>

665
00:28:23,120 --> 00:28:26,178
some other<font color="#CCCCCC"> cdns I can't think</font><font color="#E5E5E5"> of any</font>

666
00:28:24,740 --> 00:28:28,070
right now so that's that's<font color="#E5E5E5"> my question</font>

667
00:28:26,179 --> 00:28:31,690
anything else anybody<font color="#CCCCCC"> else got anything</font>

668
00:28:28,070 --> 00:28:31,689
else because<font color="#E5E5E5"> I think that's disturbing</font>

669
00:28:33,700 --> 00:28:46,490
okay looks like we're in<font color="#E5E5E5"> trouble so</font>

670
00:28:36,679 --> 00:28:48,890
we're<font color="#CCCCCC"> working on it we Tony's going to</font>

671
00:28:46,490 --> 00:28:55,090
work on it and do more testing what a

672
00:28:48,890 --> 00:28:55,090
better<font color="#E5E5E5"> idea</font><font color="#CCCCCC"> all right so</font>

