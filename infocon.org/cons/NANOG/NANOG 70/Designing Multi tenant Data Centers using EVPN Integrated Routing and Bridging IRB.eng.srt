1
00:00:09,010 --> 00:00:15,390
so hello everyone<font color="#E5E5E5"> and welcome to</font>

2
00:00:12,000 --> 00:00:17,460
<font color="#CCCCCC">nano</font><font color="#E5E5E5"> design session in this session we</font>

3
00:00:15,390 --> 00:00:20,430
were talking<font color="#E5E5E5"> about how to design a</font>

4
00:00:17,460 --> 00:00:21,060
multi-tenant<font color="#CCCCCC"> data center using EVP</font><font color="#E5E5E5"> and</font>

5
00:00:20,430 --> 00:00:23,640
IRB

6
00:00:21,060 --> 00:00:26,189
my name is Emma<font color="#CCCCCC"> severe I am at eme in</font>

7
00:00:23,640 --> 00:00:28,529
Cisco<font color="#E5E5E5"> and I have been mini at Martha</font>

8
00:00:26,189 --> 00:00:31,169
he is the principal engineer<font color="#CCCCCC"> XS CO and</font>

9
00:00:28,529 --> 00:00:35,610
one of the main architect for EVP and

10
00:00:31,169 --> 00:00:38,579
<font color="#CCCCCC">technology so let's begin the situation</font>

11
00:00:35,610 --> 00:00:41,700
is that Sdn<font color="#E5E5E5"> is trying to achieve</font>

12
00:00:38,579 --> 00:00:44,400
<font color="#CCCCCC">end-to-end</font><font color="#E5E5E5"> operational simplicity and</font>

13
00:00:41,700 --> 00:00:48,870
permeability<font color="#CCCCCC"> across multiple</font><font color="#E5E5E5"> domains</font>

14
00:00:44,400 --> 00:00:52,470
such as<font color="#E5E5E5"> layer 2 layer 3 sp1 and at</font><font color="#CCCCCC"> a</font>

15
00:00:48,870 --> 00:00:55,199
<font color="#E5E5E5">center in</font><font color="#CCCCCC"> your data center you</font><font color="#E5E5E5"> want to</font>

16
00:00:52,470 --> 00:00:58,320
be able<font color="#E5E5E5"> to place your virtual workloads</font>

17
00:00:55,200 --> 00:01:01,190
<font color="#CCCCCC">and virtual functions anywhere</font><font color="#E5E5E5"> you want</font>

18
00:00:58,320 --> 00:01:05,489
to<font color="#E5E5E5"> be able to</font><font color="#CCCCCC"> place and move</font><font color="#E5E5E5"> anywhere</font>

19
00:01:01,190 --> 00:01:09,619
but however the complication is that<font color="#E5E5E5"> the</font>

20
00:01:05,489 --> 00:01:13,290
<font color="#CCCCCC">network has across</font><font color="#E5E5E5"> multiple domains have</font>

21
00:01:09,619 --> 00:01:15,380
<font color="#CCCCCC">become very complicated the</font><font color="#E5E5E5"> disjoint</font>

22
00:01:13,290 --> 00:01:17,909
technologies for<font color="#CCCCCC"> example you are using</font>

23
00:01:15,380 --> 00:01:19,199
<font color="#E5E5E5">different in all these</font><font color="#CCCCCC"> 4 layer 2 and</font>

24
00:01:17,909 --> 00:01:21,480
layer 3 networks

25
00:01:19,200 --> 00:01:24,030
similarly we have different ecologies

26
00:01:21,480 --> 00:01:26,909
for you know<font color="#E5E5E5"> SP and data centers which</font>

27
00:01:24,030 --> 00:01:30,240
totally in peace the goal of Sdn of

28
00:01:26,909 --> 00:01:35,070
<font color="#E5E5E5">operations of a city specifically in</font>

29
00:01:30,240 --> 00:01:38,190
<font color="#E5E5E5">your legacy</font><font color="#CCCCCC"> switcher</font><font color="#E5E5E5"> centers</font><font color="#CCCCCC"> it was</font>

30
00:01:35,070 --> 00:01:40,350
never designed for<font color="#E5E5E5"> you know virtual</font>

31
00:01:38,190 --> 00:01:44,548
workloads and flexibility which means

32
00:01:40,350 --> 00:01:49,110
you cannot provision<font color="#E5E5E5"> your workloads or</font>

33
00:01:44,549 --> 00:01:51,630
spawn anywhere<font color="#E5E5E5"> or moved anywhere on top</font>

34
00:01:49,110 --> 00:01:55,409
of filters the legacy data center is

35
00:01:51,630 --> 00:01:57,899
basically based<font color="#E5E5E5"> on flood and learn which</font>

36
00:01:55,409 --> 00:02:00,090
<font color="#E5E5E5">is highly suboptimal</font><font color="#CCCCCC"> and then gives the</font>

37
00:01:57,900 --> 00:02:02,190
control of<font color="#E5E5E5"> the network which means you</font>

38
00:02:00,090 --> 00:02:05,729
cannot achieve<font color="#E5E5E5"> the programmability in</font>

39
00:02:02,190 --> 00:02:08,489
your network so the implication is<font color="#E5E5E5"> that</font>

40
00:02:05,729 --> 00:02:12,060
the<font color="#E5E5E5"> set</font><font color="#CCCCCC"> of this complex technologies</font>

41
00:02:08,489 --> 00:02:14,580
which was initially<font color="#E5E5E5"> designed or the</font>

42
00:02:12,060 --> 00:02:16,950
physical compute<font color="#E5E5E5"> it is extremely</font>

43
00:02:14,580 --> 00:02:21,209
<font color="#CCCCCC">challenging to achieve the operation</font>

44
00:02:16,950 --> 00:02:24,239
<font color="#CCCCCC">city</font><font color="#E5E5E5"> you know across SP and data center</font>

45
00:02:21,209 --> 00:02:25,520
<font color="#CCCCCC">and</font><font color="#E5E5E5"> you simply cannot you know spawned</font>

46
00:02:24,240 --> 00:02:30,200
<font color="#CCCCCC">or move the</font>

47
00:02:25,520 --> 00:02:33,020
<font color="#CCCCCC">workload any view for solution which we</font>

48
00:02:30,200 --> 00:02:36,350
are<font color="#E5E5E5"> going</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> present today is a data</font>

49
00:02:33,020 --> 00:02:39,560
center architecture<font color="#E5E5E5"> based on layer three</font>

50
00:02:36,350 --> 00:02:44,000
routed fabric under<font color="#CCCCCC"> lists</font><font color="#E5E5E5"> combined</font><font color="#CCCCCC"> with</font>

51
00:02:39,560 --> 00:02:47,420
layer<font color="#CCCCCC"> 2 layer 3 VPN</font><font color="#E5E5E5"> based on you know</font>

52
00:02:44,000 --> 00:02:50,690
<font color="#E5E5E5">EVP an IRB control plane and distributed</font>

53
00:02:47,420 --> 00:02:52,549
routing architecture<font color="#E5E5E5"> I hope by the end</font>

54
00:02:50,690 --> 00:02:55,070
<font color="#CCCCCC">of this</font><font color="#E5E5E5"> presentation we will generate</font>

55
00:02:52,550 --> 00:02:57,920
enough interest in you<font color="#E5E5E5"> that you will</font>

56
00:02:55,070 --> 00:03:00,620
take a next<font color="#CCCCCC"> step and learn</font><font color="#E5E5E5"> about more</font>

57
00:02:57,920 --> 00:03:03,679
about<font color="#E5E5E5"> this technology</font><font color="#CCCCCC"> in fact I try the</font>

58
00:03:00,620 --> 00:03:06,470
solution<font color="#CCCCCC"> and perhaps</font><font color="#E5E5E5"> start the small</font>

59
00:03:03,680 --> 00:03:10,670
data center and extend horizontally<font color="#E5E5E5"> as</font>

60
00:03:06,470 --> 00:03:12,830
your demand grows we also hope that you

61
00:03:10,670 --> 00:03:15,589
would recognize<font color="#E5E5E5"> the benefits of using</font>

62
00:03:12,830 --> 00:03:18,200
this highly optimized<font color="#CCCCCC"> their center</font>

63
00:03:15,590 --> 00:03:21,700
<font color="#CCCCCC">fabric with unified control</font><font color="#E5E5E5"> plane across</font>

64
00:03:18,200 --> 00:03:24,859
layer 2 layer 3 then<font color="#CCCCCC"> n data center that</font>

65
00:03:21,700 --> 00:03:26,869
<font color="#CCCCCC">in turns</font><font color="#E5E5E5"> enable the operation simplicity</font>

66
00:03:24,860 --> 00:03:32,570
in your networks which you are<font color="#E5E5E5"> trying to</font>

67
00:03:26,870 --> 00:03:34,430
<font color="#E5E5E5">achieve here so with that let's take a</font>

68
00:03:32,570 --> 00:03:37,280
look at the objective<font color="#E5E5E5"> of the dead center</font>

69
00:03:34,430 --> 00:03:39,350
architecture<font color="#E5E5E5"> the first objective is</font>

70
00:03:37,280 --> 00:03:42,260
<font color="#E5E5E5">basically we are trying</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> achieve</font><font color="#CCCCCC"> a</font>

71
00:03:39,350 --> 00:03:45,109
unified control<font color="#E5E5E5"> plane across multiple</font>

72
00:03:42,260 --> 00:03:49,549
domains<font color="#CCCCCC"> such as search folder and data</font>

73
00:03:45,110 --> 00:03:50,840
centers<font color="#E5E5E5"> to have operation simplicity to</font>

74
00:03:49,550 --> 00:03:52,880
be able<font color="#CCCCCC"> to basically</font><font color="#E5E5E5"> the other</font>

75
00:03:50,840 --> 00:03:55,580
<font color="#E5E5E5">Objectivist will be able to move our</font>

76
00:03:52,880 --> 00:03:57,709
virtual workloads<font color="#E5E5E5"> and virtual functions</font>

77
00:03:55,580 --> 00:04:01,160
within<font color="#E5E5E5"> the data center</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> occur at the</font>

78
00:03:57,709 --> 00:04:02,930
<font color="#CCCCCC">center's eliminate the flood and learn</font>

79
00:04:01,160 --> 00:04:06,350
from the<font color="#E5E5E5"> networks so that</font><font color="#CCCCCC"> you can</font>

80
00:04:02,930 --> 00:04:10,700
<font color="#E5E5E5">efficiently utilize our bandwidth using</font>

81
00:04:06,350 --> 00:04:13,670
ecmp data center must support the

82
00:04:10,700 --> 00:04:16,969
<font color="#E5E5E5">network resiliency using fast reroute</font>

83
00:04:13,670 --> 00:04:19,760
and fast<font color="#E5E5E5"> convergence we should be able</font>

84
00:04:16,970 --> 00:04:24,080
<font color="#E5E5E5">to scale</font><font color="#CCCCCC"> up horizontally as our workload</font>

85
00:04:19,760 --> 00:04:27,140
demands and function goes up<font color="#CCCCCC"> data center</font>

86
00:04:24,080 --> 00:04:30,650
must<font color="#E5E5E5"> support the multi-tenancy with the</font>

87
00:04:27,140 --> 00:04:32,630
layer 2 layer<font color="#E5E5E5"> 3 VPN and it must enter</font>

88
00:04:30,650 --> 00:04:35,820
work with the legacy<font color="#E5E5E5"> technologies like</font>

89
00:04:32,630 --> 00:04:40,390
layer 2 VPN and layer

90
00:04:35,820 --> 00:04:43,000
so just to summarize data<font color="#CCCCCC"> center</font>

91
00:04:40,390 --> 00:04:46,479
architecture must be seamless<font color="#E5E5E5"> and</font>

92
00:04:43,000 --> 00:04:50,920
<font color="#CCCCCC">payable</font><font color="#E5E5E5"> and act like a big switch and</font>

93
00:04:46,480 --> 00:04:56,590
<font color="#CCCCCC">our router</font><font color="#E5E5E5"> where workloads can be placed</font>

94
00:04:50,920 --> 00:04:59,290
anywhere<font color="#E5E5E5"> can we moved anywhere any holes</font>

95
00:04:56,590 --> 00:05:02,619
can talk to any host and<font color="#CCCCCC"> later domain</font>

96
00:04:59,290 --> 00:05:05,950
any host can talk to any<font color="#CCCCCC"> voids</font><font color="#E5E5E5"> in layer</font>

97
00:05:02,620 --> 00:05:09,550
<font color="#CCCCCC">3 domain</font><font color="#E5E5E5"> they can be physically</font><font color="#CCCCCC"> scaled</font>

98
00:05:05,950 --> 00:05:12,940
up horizontally<font color="#CCCCCC"> as your demand goes up</font>

99
00:05:09,550 --> 00:05:14,890
as your scale goes up video<font color="#E5E5E5"> is like more</font>

100
00:05:12,940 --> 00:05:18,430
<font color="#CCCCCC">tenants you have more workloads you have</font>

101
00:05:14,890 --> 00:05:20,740
you have more functions but<font color="#CCCCCC"> they might</font>

102
00:05:18,430 --> 00:05:22,720
<font color="#CCCCCC">be a questions why we cannot achieve all</font>

103
00:05:20,740 --> 00:05:28,090
those objectives<font color="#CCCCCC"> with the existing</font>

104
00:05:22,720 --> 00:05:30,370
technology like VPLS first of all<font color="#E5E5E5"> VPLS</font>

105
00:05:28,090 --> 00:05:32,590
is the layer<font color="#CCCCCC"> 2 technology only you</font>

106
00:05:30,370 --> 00:05:36,310
cannot achieve<font color="#E5E5E5"> the unified control claim</font>

107
00:05:32,590 --> 00:05:40,049
across multiple domains which is very

108
00:05:36,310 --> 00:05:42,610
<font color="#CCCCCC">critical for</font><font color="#E5E5E5"> your operations intensity</font>

109
00:05:40,050 --> 00:05:45,070
<font color="#CCCCCC">VPLS do not support</font><font color="#E5E5E5"> all active</font>

110
00:05:42,610 --> 00:05:48,370
<font color="#CCCCCC">multihoming which means you cannot</font>

111
00:05:45,070 --> 00:05:54,940
basically<font color="#E5E5E5"> get deeper</font><font color="#CCCCCC"> flow</font><font color="#E5E5E5"> ecmp</font><font color="#CCCCCC"> load</font>

112
00:05:48,370 --> 00:05:57,160
balancing and<font color="#E5E5E5"> last but not least DPL is</font>

113
00:05:54,940 --> 00:05:59,140
<font color="#E5E5E5">basically based on</font><font color="#CCCCCC"> the flood</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> learn</font>

114
00:05:57,160 --> 00:06:01,480
<font color="#CCCCCC">mac learning which is</font><font color="#E5E5E5"> highly supportive</font>

115
00:05:59,140 --> 00:06:03,190
<font color="#CCCCCC">and you</font><font color="#E5E5E5"> cannot achieve the</font>

116
00:06:01,480 --> 00:06:06,070
programmability in your<font color="#E5E5E5"> network because</font>

117
00:06:03,190 --> 00:06:08,680
<font color="#CCCCCC">it</font><font color="#E5E5E5"> doesn't give you any control with</font>

118
00:06:06,070 --> 00:06:11,890
<font color="#CCCCCC">that I will hand over the</font><font color="#E5E5E5"> solution</font>

119
00:06:08,680 --> 00:06:13,150
<font color="#E5E5E5">details to my partner and basically she</font>

120
00:06:11,890 --> 00:06:17,650
will dive into it<font color="#E5E5E5"> and extraneous</font>

121
00:06:13,150 --> 00:06:19,870
<font color="#E5E5E5">solution thanks</font><font color="#CCCCCC"> Ameth the</font><font color="#E5E5E5"> for setting up</font>

122
00:06:17,650 --> 00:06:22,960
the context and good afternoon<font color="#E5E5E5"> folks</font>

123
00:06:19,870 --> 00:06:25,150
many thanks for<font color="#CCCCCC"> being here so before we</font>

124
00:06:22,960 --> 00:06:29,409
dive<font color="#E5E5E5"> into the solution I just wanted to</font>

125
00:06:25,150 --> 00:06:32,320
say a couple of<font color="#E5E5E5"> things</font><font color="#CCCCCC"> on</font><font color="#E5E5E5"> evpn evpn as a</font>

126
00:06:29,410 --> 00:06:34,600
technology is a technology<font color="#E5E5E5"> across</font>

127
00:06:32,320 --> 00:06:36,969
multiple market segments I mean broadly

128
00:06:34,600 --> 00:06:40,180
<font color="#E5E5E5">it has used cases across</font><font color="#CCCCCC"> Carrier</font>

129
00:06:36,970 --> 00:06:43,750
Ethernet<font color="#E5E5E5"> service provider</font><font color="#CCCCCC"> layer 2 layer</font>

130
00:06:40,180 --> 00:06:46,720
3<font color="#CCCCCC"> VPN services as well</font><font color="#E5E5E5"> as in the data</font>

131
00:06:43,750 --> 00:06:48,190
center<font color="#E5E5E5"> so in the talk today we focus</font>

132
00:06:46,720 --> 00:06:52,210
specifically

133
00:06:48,190 --> 00:06:55,690
on the data<font color="#E5E5E5"> center use case of</font><font color="#CCCCCC"> evpn</font><font color="#E5E5E5"> and</font>

134
00:06:52,210 --> 00:06:58,630
while<font color="#CCCCCC"> evpn</font><font color="#E5E5E5"> is one of the key</font>

135
00:06:55,690 --> 00:07:00,880
foundational elements of the data center

136
00:06:58,630 --> 00:07:03,310
architecture<font color="#E5E5E5"> and</font><font color="#CCCCCC"> will go</font><font color="#E5E5E5"> into great</font>

137
00:07:00,880 --> 00:07:05,710
detail with<font color="#CCCCCC"> respect to the</font><font color="#E5E5E5"> VPN</font>

138
00:07:03,310 --> 00:07:07,450
technology<font color="#CCCCCC"> I just wanted</font><font color="#E5E5E5"> to kind of</font>

139
00:07:05,710 --> 00:07:10,859
emphasize<font color="#CCCCCC"> that there is there are</font>

140
00:07:07,450 --> 00:07:16,570
additional elements to<font color="#E5E5E5"> this architecture</font>

141
00:07:10,860 --> 00:07:19,870
of how we sort of bring a VPN and<font color="#E5E5E5"> use a</font>

142
00:07:16,570 --> 00:07:22,990
<font color="#CCCCCC">VPN and the data</font><font color="#E5E5E5"> center so with that</font>

143
00:07:19,870 --> 00:07:25,600
let's dive into the solution<font color="#E5E5E5"> so we'll</font>

144
00:07:22,990 --> 00:07:27,420
talk<font color="#CCCCCC"> about the solution in sort</font><font color="#E5E5E5"> of four</font>

145
00:07:25,600 --> 00:07:31,150
key parts

146
00:07:27,420 --> 00:07:33,280
there's the underlay routed fabric which

147
00:07:31,150 --> 00:07:35,229
is<font color="#E5E5E5"> essentially a standard IP routed</font>

148
00:07:33,280 --> 00:07:38,469
<font color="#E5E5E5">fabric that provides layer 3</font>

149
00:07:35,230 --> 00:07:41,170
<font color="#CCCCCC">connectivity between different Leafs and</font>

150
00:07:38,470 --> 00:07:43,510
spine nodes<font color="#CCCCCC"> in</font><font color="#E5E5E5"> your data center so</font>

151
00:07:41,170 --> 00:07:46,510
nothing terribly fancy here<font color="#E5E5E5"> just</font>

152
00:07:43,510 --> 00:07:50,050
<font color="#CCCCCC">standard routed fabric</font><font color="#E5E5E5"> but</font><font color="#CCCCCC"> we'll</font><font color="#E5E5E5"> realize</font>

153
00:07:46,510 --> 00:07:54,550
the<font color="#E5E5E5"> benefits of you know working on top</font>

154
00:07:50,050 --> 00:07:56,800
of a standard routed fabric<font color="#E5E5E5"> a VPN</font>

155
00:07:54,550 --> 00:08:01,860
overlay that is going to be enabled

156
00:07:56,800 --> 00:08:05,169
<font color="#CCCCCC">using bgp evpn as the control plane</font><font color="#E5E5E5"> a</font>

157
00:08:01,860 --> 00:08:08,820
VPN routing architecture<font color="#CCCCCC"> that is going</font>

158
00:08:05,169 --> 00:08:10,930
to be based on distributed routing and

159
00:08:08,820 --> 00:08:12,659
one of the key<font color="#CCCCCC"> elements of the</font>

160
00:08:10,930 --> 00:08:15,370
architecture which<font color="#CCCCCC"> is the mobility</font>

161
00:08:12,660 --> 00:08:17,850
architecture that allows<font color="#E5E5E5"> VMs or</font>

162
00:08:15,370 --> 00:08:20,860
workloads to<font color="#CCCCCC"> move across the data center</font>

163
00:08:17,850 --> 00:08:23,890
which is<font color="#E5E5E5"> going to be based on</font><font color="#CCCCCC"> a VPN</font>

164
00:08:20,860 --> 00:08:25,870
<font color="#E5E5E5">mobility constructs and any</font><font color="#CCCCCC"> cost layer 3</font>

165
00:08:23,890 --> 00:08:28,060
<font color="#E5E5E5">gateway so these are sort of four key</font>

166
00:08:25,870 --> 00:08:32,289
parts that<font color="#CCCCCC"> will dive into</font><font color="#E5E5E5"> that together</font>

167
00:08:28,060 --> 00:08:36,250
sort<font color="#E5E5E5"> of give us an EVP</font><font color="#CCCCCC"> an IRB</font><font color="#E5E5E5"> based data</font>

168
00:08:32,289 --> 00:08:38,500
center fabric architecture so in

169
00:08:36,250 --> 00:08:41,409
underlay<font color="#E5E5E5"> until they essentially refers</font>

170
00:08:38,500 --> 00:08:44,200
to<font color="#E5E5E5"> your transport network which is just</font>

171
00:08:41,409 --> 00:08:46,540
pure<font color="#E5E5E5"> I mean it's the basic IP routed</font>

172
00:08:44,200 --> 00:08:48,910
<font color="#E5E5E5">Network running any routing protocol and</font>

173
00:08:46,540 --> 00:08:52,300
providing layer<font color="#E5E5E5"> 3 connectivity between</font>

174
00:08:48,910 --> 00:08:55,240
different leaf nodes and spine nodes<font color="#CCCCCC"> in</font>

175
00:08:52,300 --> 00:08:58,569
the data center fabric the underlay can

176
00:08:55,240 --> 00:09:01,120
be a pure IP routed fabric or it can be

177
00:08:58,570 --> 00:09:01,930
an MPLS fabric or a segment routed

178
00:09:01,120 --> 00:09:04,540
fabric

179
00:09:01,930 --> 00:09:09,399
essentially any sort of<font color="#E5E5E5"> core routing</font>

180
00:09:04,540 --> 00:09:13,089
technology<font color="#E5E5E5"> that were familiar with the</font>

181
00:09:09,399 --> 00:09:15,970
overlay refers<font color="#E5E5E5"> to the VPN services that</font>

182
00:09:13,089 --> 00:09:18,430
we enable<font color="#E5E5E5"> on top of this transport</font>

183
00:09:15,970 --> 00:09:21,040
network and in this architecture<font color="#E5E5E5"> that</font>

184
00:09:18,430 --> 00:09:24,640
refers to both layer 2 and layer 3 VPN

185
00:09:21,040 --> 00:09:29,500
services that will enable using bgp evpn

186
00:09:24,640 --> 00:09:31,870
<font color="#CCCCCC">as the control plane</font><font color="#E5E5E5"> and in terms of VPN</font>

187
00:09:29,500 --> 00:09:35,250
encapsulation the VPN encapsulation

188
00:09:31,870 --> 00:09:38,140
again can be MPLS<font color="#E5E5E5"> or it can be any other</font>

189
00:09:35,250 --> 00:09:42,010
IP tunnel encapsulation<font color="#E5E5E5"> like we</font>

190
00:09:38,140 --> 00:09:47,380
<font color="#CCCCCC">explained for the</font><font color="#E5E5E5"> presentation today</font>

191
00:09:42,010 --> 00:09:52,000
<font color="#E5E5E5">will use MPLS as as an example</font><font color="#CCCCCC"> together</font>

192
00:09:47,380 --> 00:09:54,010
<font color="#E5E5E5">with an MPLS based transport however I</font>

193
00:09:52,000 --> 00:09:55,270
wanted to mention that<font color="#E5E5E5"> the architecture</font>

194
00:09:54,010 --> 00:09:58,180
and most of the<font color="#E5E5E5"> things that we'll talk</font>

195
00:09:55,270 --> 00:10:01,750
<font color="#CCCCCC">about are sort of largely independent of</font>

196
00:09:58,180 --> 00:10:04,089
the encapsulation<font color="#E5E5E5"> and</font><font color="#CCCCCC"> will</font><font color="#E5E5E5"> apply to a</font>

197
00:10:01,750 --> 00:10:07,690
non MPLS based data center so it's

198
00:10:04,089 --> 00:10:09,040
really<font color="#E5E5E5"> kind of you</font><font color="#CCCCCC"> know</font><font color="#E5E5E5"> depending on you</font>

199
00:10:07,690 --> 00:10:11,800
know<font color="#CCCCCC"> whether you're a service provider</font>

200
00:10:09,040 --> 00:10:14,110
or<font color="#CCCCCC"> what kind of network</font><font color="#E5E5E5"> you</font><font color="#CCCCCC"> have in some</font>

201
00:10:11,800 --> 00:10:17,170
situations that<font color="#CCCCCC"> makes sense to have an</font>

202
00:10:14,110 --> 00:10:20,860
MPLS based data center in some

203
00:10:17,170 --> 00:10:26,199
situations<font color="#E5E5E5"> it makes you know an IP based</font>

204
00:10:20,860 --> 00:10:29,760
data center works better<font color="#CCCCCC"> for you</font><font color="#E5E5E5"> so</font><font color="#CCCCCC"> next</font>

205
00:10:26,200 --> 00:10:33,400
we'll dive<font color="#CCCCCC"> into some of</font><font color="#E5E5E5"> the key</font>

206
00:10:29,760 --> 00:10:35,459
constructs and procedures in a VPN

207
00:10:33,400 --> 00:10:39,100
control plane that are<font color="#E5E5E5"> leveraged to</font>

208
00:10:35,459 --> 00:10:43,930
enable layer 2 and layer 3 VPN services

209
00:10:39,100 --> 00:10:47,320
in the data center<font color="#CCCCCC"> and Evi essentially</font>

210
00:10:43,930 --> 00:10:50,260
refers to an e VPN instance that is used

211
00:10:47,320 --> 00:10:53,950
<font color="#E5E5E5">to stretch a layer</font><font color="#CCCCCC"> to domain across</font>

212
00:10:50,260 --> 00:10:56,860
multiple leaves<font color="#E5E5E5"> in the data center so so</font>

213
00:10:53,950 --> 00:11:01,329
<font color="#E5E5E5">really this</font><font color="#CCCCCC"> Evi</font><font color="#E5E5E5"> is kind of equivalent</font><font color="#CCCCCC"> to</font>

214
00:10:56,860 --> 00:11:06,579
<font color="#E5E5E5">a mac vrf on each leaf that</font><font color="#CCCCCC"> is part</font><font color="#E5E5E5"> of</font>

215
00:11:01,329 --> 00:11:10,810
that VPN so the the<font color="#E5E5E5"> e bi or the mac vrf</font>

216
00:11:06,579 --> 00:11:14,079
<font color="#E5E5E5">for any given VPN overlay or a layer 2</font>

217
00:11:10,810 --> 00:11:14,239
VPN instance would<font color="#CCCCCC"> be present only on</font>

218
00:11:14,079 --> 00:11:17,569
the

219
00:11:14,240 --> 00:11:21,170
leaves<font color="#E5E5E5"> that that that participate</font><font color="#CCCCCC"> in</font>

220
00:11:17,570 --> 00:11:23,570
that VPN and only<font color="#E5E5E5"> those leaves would</font>

221
00:11:21,170 --> 00:11:25,459
have the corresponding Mac<font color="#CCCCCC"> vrf or the eb</font>

222
00:11:23,570 --> 00:11:28,130
<font color="#CCCCCC">i configured any other</font><font color="#E5E5E5"> leaves in the</font>

223
00:11:25,459 --> 00:11:30,170
data center<font color="#CCCCCC"> that don't really</font><font color="#E5E5E5"> or that</font>

224
00:11:28,130 --> 00:11:33,080
are<font color="#E5E5E5"> not really</font><font color="#CCCCCC"> part</font><font color="#E5E5E5"> of that specific</font><font color="#CCCCCC"> a</font>

225
00:11:30,170 --> 00:11:38,719
<font color="#CCCCCC">VPN would not have the corresponding Evi</font>

226
00:11:33,080 --> 00:11:42,230
or the<font color="#E5E5E5"> mac vrf present so now in</font><font color="#CCCCCC"> terms</font>

227
00:11:38,720 --> 00:11:44,779
of<font color="#E5E5E5"> how</font><font color="#CCCCCC"> does the</font><font color="#E5E5E5"> host connect to this</font>

228
00:11:42,230 --> 00:11:46,940
<font color="#CCCCCC">fabric so a host could simply be single</font>

229
00:11:44,779 --> 00:11:49,670
<font color="#E5E5E5">home via a single link attached</font><font color="#CCCCCC"> to a</font>

230
00:11:46,940 --> 00:11:51,770
single<font color="#E5E5E5"> leaf in the data center fabric in</font>

231
00:11:49,670 --> 00:11:56,569
which case you obviously<font color="#CCCCCC"> you do not have</font>

232
00:11:51,770 --> 00:11:59,810
the resiliency against link failures and

233
00:11:56,570 --> 00:12:02,959
you do not have the advantage of<font color="#E5E5E5"> being</font>

234
00:11:59,810 --> 00:12:06,380
able<font color="#E5E5E5"> to load balanced flows on a per</font>

235
00:12:02,959 --> 00:12:07,339
flow basis to<font color="#E5E5E5"> that host or a host can be</font>

236
00:12:06,380 --> 00:12:09,439
multihomed

237
00:12:07,339 --> 00:12:11,779
to two or more leaves so there is no

238
00:12:09,440 --> 00:12:13,940
specific<font color="#CCCCCC"> limits with respect to the</font>

239
00:12:11,779 --> 00:12:16,700
technology I mean the<font color="#E5E5E5"> host can be</font>

240
00:12:13,940 --> 00:12:21,350
multihomed to several<font color="#CCCCCC"> Leafs</font><font color="#E5E5E5"> at the same</font>

241
00:12:16,700 --> 00:12:24,950
time<font color="#CCCCCC"> using a layer</font><font color="#E5E5E5"> to link bundle spread</font>

242
00:12:21,350 --> 00:12:27,140
across two<font color="#CCCCCC"> or more leaves</font><font color="#E5E5E5"> so when a host</font>

243
00:12:24,950 --> 00:12:30,709
is multihomed<font color="#E5E5E5"> using a layer to link</font>

244
00:12:27,140 --> 00:12:33,649
<font color="#E5E5E5">bundles such as this each bundle link on</font>

245
00:12:30,709 --> 00:12:37,459
individual leaves that<font color="#CCCCCC"> are part of that</font>

246
00:12:33,649 --> 00:12:40,700
bundles redundancy group are configured

247
00:12:37,459 --> 00:12:44,390
<font color="#CCCCCC">with an Ethernet segment identifier</font>

248
00:12:40,700 --> 00:12:47,600
which is a globally unique identifier

249
00:12:44,390 --> 00:12:49,699
and is configured symmetrically across

250
00:12:47,600 --> 00:12:52,730
all the Leafs that<font color="#E5E5E5"> are part of that</font>

251
00:12:49,700 --> 00:12:55,850
bundles<font color="#CCCCCC"> into redundancy group for</font>

252
00:12:52,730 --> 00:12:59,450
example<font color="#E5E5E5"> here if the host is</font><font color="#CCCCCC"> multi home</font>

253
00:12:55,850 --> 00:13:02,630
to<font color="#E5E5E5"> two leaves both the leaves will have</font>

254
00:12:59,450 --> 00:13:07,100
an ESI value<font color="#E5E5E5"> in the exact same globally</font>

255
00:13:02,630 --> 00:13:09,680
unique ESI value associated with with

256
00:13:07,100 --> 00:13:12,470
the<font color="#E5E5E5"> bundle interface on on the</font>

257
00:13:09,680 --> 00:13:15,319
respective leaves<font color="#E5E5E5"> so this ESI construct</font>

258
00:13:12,470 --> 00:13:18,740
<font color="#E5E5E5">is one of the key</font><font color="#CCCCCC"> multihoming constructs</font>

259
00:13:15,320 --> 00:13:22,670
<font color="#CCCCCC">any VPN</font><font color="#E5E5E5"> that as we'll see</font><font color="#CCCCCC"> in some of the</font>

260
00:13:18,740 --> 00:13:25,130
<font color="#CCCCCC">upcoming</font><font color="#E5E5E5"> slides</font><font color="#CCCCCC"> enables lot</font><font color="#E5E5E5"> of the</font>

261
00:13:22,670 --> 00:13:27,290
<font color="#E5E5E5">advanced</font><font color="#CCCCCC"> multihoming features that evpn</font>

262
00:13:25,130 --> 00:13:30,020
brings in such as all

263
00:13:27,290 --> 00:13:32,540
<font color="#CCCCCC">damn load balancing posture convergence</font>

264
00:13:30,020 --> 00:13:37,850
on failures and duplicate traffic

265
00:13:32,540 --> 00:13:41,630
avoidance so now if an EVP<font color="#E5E5E5"> an instance</font>

266
00:13:37,850 --> 00:13:43,280
is stretched across multiple leaves in

267
00:13:41,630 --> 00:13:46,460
the data center which means you have a

268
00:13:43,280 --> 00:13:50,270
layer 2 VPN overlay that that stretches

269
00:13:46,460 --> 00:13:54,110
the<font color="#E5E5E5"> layer</font><font color="#CCCCCC"> 2 across multiple leaves</font><font color="#E5E5E5"> in</font>

270
00:13:50,270 --> 00:13:57,770
the data center then the max<font color="#E5E5E5"> in that</font>

271
00:13:54,110 --> 00:13:59,930
<font color="#E5E5E5">evpn all the max must be advertised to</font>

272
00:13:57,770 --> 00:14:04,100
all the other leaves that<font color="#E5E5E5"> are part of</font>

273
00:13:59,930 --> 00:14:06,800
that<font color="#E5E5E5"> evpn instance and installed in the</font>

274
00:14:04,100 --> 00:14:08,780
corresponding Mac<font color="#CCCCCC"> VRS on all of those</font>

275
00:14:06,800 --> 00:14:14,240
leaves that<font color="#CCCCCC"> are part of that</font><font color="#E5E5E5"> evpn</font>

276
00:14:08,780 --> 00:14:17,089
instance similarly the<font color="#E5E5E5"> host IP also must</font>

277
00:14:14,240 --> 00:14:21,320
<font color="#E5E5E5">be advertised to all the leaves that</font><font color="#CCCCCC"> are</font>

278
00:14:17,090 --> 00:14:24,560
part of the layer<font color="#E5E5E5"> 3 VPN instance in in</font>

279
00:14:21,320 --> 00:14:28,600
the in the data center so this is

280
00:14:24,560 --> 00:14:32,300
<font color="#E5E5E5">accomplished via Andy VPN max</font><font color="#CCCCCC"> + IP route</font>

281
00:14:28,600 --> 00:14:35,410
route type<font color="#E5E5E5"> 2 which</font><font color="#CCCCCC"> is essentially</font><font color="#E5E5E5"> a</font>

282
00:14:32,300 --> 00:14:37,430
route that<font color="#E5E5E5"> carries both Mac and</font><font color="#CCCCCC"> IP route</font>

283
00:14:35,410 --> 00:14:41,150
advertisements to all the other leaves

284
00:14:37,430 --> 00:14:43,130
<font color="#E5E5E5">in the overlay so locally for the hosts</font>

285
00:14:41,150 --> 00:14:46,459
<font color="#CCCCCC">that are</font><font color="#E5E5E5"> locally attached to you</font><font color="#CCCCCC"> you</font>

286
00:14:43,130 --> 00:14:49,340
learn the max of<font color="#CCCCCC"> the</font><font color="#E5E5E5"> host via Hardware</font>

287
00:14:46,460 --> 00:14:53,270
learning in data plane<font color="#E5E5E5"> you learn IP to</font>

288
00:14:49,340 --> 00:14:57,650
<font color="#CCCCCC">Mac bindings for</font><font color="#E5E5E5"> the host via</font><font color="#CCCCCC"> MD or ipv6</font>

289
00:14:53,270 --> 00:15:00,040
<font color="#CCCCCC">Andy or our cache</font><font color="#E5E5E5"> and this information</font>

290
00:14:57,650 --> 00:15:03,199
of<font color="#E5E5E5"> Mac learning and IP learning is</font>

291
00:15:00,040 --> 00:15:06,410
combined<font color="#E5E5E5"> and put together into a single</font>

292
00:15:03,200 --> 00:15:09,020
matchless IP route that is advertised<font color="#E5E5E5"> to</font>

293
00:15:06,410 --> 00:15:11,329
all the other leaves<font color="#E5E5E5"> in the overlay so</font>

294
00:15:09,020 --> 00:15:13,520
this is<font color="#E5E5E5"> really like two routes packed in</font>

295
00:15:11,330 --> 00:15:16,100
one it<font color="#E5E5E5"> is advertising Mac reach ability</font>

296
00:15:13,520 --> 00:15:20,030
<font color="#E5E5E5">to all the Leafs that are part of the</font>

297
00:15:16,100 --> 00:15:22,400
Mac or<font color="#E5E5E5"> the layer 2 VPN overlay along</font>

298
00:15:20,030 --> 00:15:24,319
with the layer 2 VPN encapsulation

299
00:15:22,400 --> 00:15:26,900
information and their corresponding

300
00:15:24,320 --> 00:15:29,780
<font color="#CCCCCC">route targets for importing to the Mac</font>

301
00:15:26,900 --> 00:15:32,060
<font color="#CCCCCC">vrf and it is advertising</font><font color="#E5E5E5"> IP reach</font>

302
00:15:29,780 --> 00:15:35,089
<font color="#CCCCCC">ability to all the other leaves that</font><font color="#E5E5E5"> are</font>

303
00:15:32,060 --> 00:15:37,609
<font color="#E5E5E5">part of the layer 3 VPN overlay along</font>

304
00:15:35,090 --> 00:15:39,040
with the layer<font color="#E5E5E5"> 3 VPN encapsulation which</font>

305
00:15:37,610 --> 00:15:43,120
could again<font color="#E5E5E5"> be an</font><font color="#CCCCCC"> EM</font>

306
00:15:39,040 --> 00:15:47,050
label we<font color="#E5E5E5"> explain BNI or any other</font>

307
00:15:43,120 --> 00:15:50,440
<font color="#CCCCCC">segment identified</font><font color="#E5E5E5"> along with the route</font>

308
00:15:47,050 --> 00:15:54,008
targets for that enable import of this

309
00:15:50,440 --> 00:15:59,699
route into<font color="#CCCCCC"> the respective IP VRS on</font>

310
00:15:54,009 --> 00:16:03,519
individual leaves so now if a<font color="#E5E5E5"> host is</font>

311
00:15:59,699 --> 00:16:07,479
multihomed<font color="#E5E5E5"> to do or more leaves it is</font>

312
00:16:03,519 --> 00:16:10,569
possible that<font color="#E5E5E5"> that hosts Mac and Mac</font><font color="#CCCCCC"> IB</font>

313
00:16:07,480 --> 00:16:13,149
might only be<font color="#E5E5E5"> learned on one of the</font>

314
00:16:10,569 --> 00:16:16,540
leaves<font color="#E5E5E5"> because of the way the layer</font><font color="#CCCCCC"> 2</font>

315
00:16:13,149 --> 00:16:19,000
link bundle hashes the traffic<font color="#CCCCCC"> and if</font>

316
00:16:16,540 --> 00:16:21,849
that host is only<font color="#CCCCCC"> learned on one of</font><font color="#E5E5E5"> the</font>

317
00:16:19,000 --> 00:16:24,220
leaves<font color="#E5E5E5"> that hosts Mac IP route would</font>

318
00:16:21,850 --> 00:16:27,310
<font color="#E5E5E5">only be advertised by one of the leaves</font>

319
00:16:24,220 --> 00:16:30,850
to all the other leaves in<font color="#E5E5E5"> the in the</font>

320
00:16:27,310 --> 00:16:33,518
overlay however we must<font color="#CCCCCC"> ensure that all</font>

321
00:16:30,850 --> 00:16:36,279
<font color="#E5E5E5">the remote leaves are able</font><font color="#CCCCCC"> to load</font>

322
00:16:33,519 --> 00:16:39,310
balance<font color="#E5E5E5"> the traffic flow is destined to</font>

323
00:16:36,279 --> 00:16:43,149
that<font color="#CCCCCC"> host across all the Leafs that that</font>

324
00:16:39,310 --> 00:16:45,760
host<font color="#CCCCCC"> is multihomed</font><font color="#E5E5E5"> to so even if the</font>

325
00:16:43,149 --> 00:16:49,240
host is<font color="#E5E5E5"> only advertised by one PE router</font>

326
00:16:45,760 --> 00:16:51,730
or a one leaf router here<font color="#E5E5E5"> so how do we</font>

327
00:16:49,240 --> 00:16:53,819
accomplish that that is that<font color="#E5E5E5"> is</font>

328
00:16:51,730 --> 00:16:58,449
accomplished<font color="#E5E5E5"> by</font><font color="#CCCCCC"> an</font><font color="#E5E5E5"> e VPN procedure</font>

329
00:16:53,819 --> 00:17:01,990
<font color="#CCCCCC">commonly referred to as aliasing so what</font>

330
00:16:58,449 --> 00:17:05,678
it is is essentially each leaf that<font color="#CCCCCC"> has</font>

331
00:17:01,990 --> 00:17:08,620
an Ethernet segment<font color="#E5E5E5"> configured in an</font><font color="#CCCCCC"> e</font>

332
00:17:05,679 --> 00:17:11,409
VPN service or an EVP<font color="#CCCCCC"> in service enabled</font>

333
00:17:08,619 --> 00:17:13,958
on that Ethernet segment<font color="#E5E5E5"> advertisers</font>

334
00:17:11,409 --> 00:17:18,339
reach ability<font color="#E5E5E5"> to that Ethernet segment</font>

335
00:17:13,959 --> 00:17:20,500
<font color="#E5E5E5">in the context of the evpn to all the</font>

336
00:17:18,339 --> 00:17:23,109
other leaves that<font color="#E5E5E5"> are part of that evpn</font>

337
00:17:20,500 --> 00:17:26,400
so for example here if the horse is

338
00:17:23,109 --> 00:17:29,379
<font color="#CCCCCC">multi-home to</font><font color="#E5E5E5"> two leaves via ESI one</font>

339
00:17:26,400 --> 00:17:32,770
both the leaves will advertise<font color="#E5E5E5"> reach</font>

340
00:17:29,380 --> 00:17:37,110
<font color="#E5E5E5">ability to ESI one in the context of</font>

341
00:17:32,770 --> 00:17:40,629
each evpn that that is enabled<font color="#E5E5E5"> on that</font>

342
00:17:37,110 --> 00:17:42,850
on that<font color="#E5E5E5"> Ethernet segment so by</font><font color="#CCCCCC"> doing</font>

343
00:17:40,630 --> 00:17:47,470
this all<font color="#CCCCCC"> the</font><font color="#E5E5E5"> remote leaves that are part</font>

344
00:17:42,850 --> 00:17:51,149
of that<font color="#E5E5E5"> evpn know the multi cmp reach</font>

345
00:17:47,470 --> 00:17:54,360
<font color="#CCCCCC">ability to a given ESI and</font>

346
00:17:51,150 --> 00:17:57,060
the max reach ability<font color="#E5E5E5"> is not derived</font>

347
00:17:54,360 --> 00:18:00,120
<font color="#E5E5E5">from the PE router or the or the</font>

348
00:17:57,060 --> 00:18:02,790
<font color="#E5E5E5">advertising leaf router but essentially</font>

349
00:18:00,120 --> 00:18:06,000
we derived the<font color="#CCCCCC"> Mack reach ability from</font>

350
00:18:02,790 --> 00:18:08,070
<font color="#E5E5E5">the ESI that that</font><font color="#CCCCCC"> mag belongs to</font><font color="#E5E5E5"> so by</font>

351
00:18:06,000 --> 00:18:11,910
adding this indirection<font color="#E5E5E5"> in forwarding</font>

352
00:18:08,070 --> 00:18:14,490
<font color="#E5E5E5">between the Mac and the es</font><font color="#CCCCCC"> is</font><font color="#E5E5E5"> sort of</font>

353
00:18:11,910 --> 00:18:17,160
<font color="#E5E5E5">path or forwarding encapsulation</font>

354
00:18:14,490 --> 00:18:20,720
information<font color="#CCCCCC"> we are</font><font color="#E5E5E5"> able to accomplish</font><font color="#CCCCCC"> a</font>

355
00:18:17,160 --> 00:18:27,030
<font color="#CCCCCC">CMP load balancing for</font><font color="#E5E5E5"> all</font><font color="#CCCCCC"> Mac bridge</font>

356
00:18:20,720 --> 00:18:30,930
<font color="#E5E5E5">traffic so now if if there is a failure</font>

357
00:18:27,030 --> 00:18:33,420
<font color="#E5E5E5">on the ESI</font><font color="#CCCCCC"> for a multihomed host</font><font color="#E5E5E5"> we must</font>

358
00:18:30,930 --> 00:18:36,300
be able<font color="#CCCCCC"> to</font><font color="#E5E5E5"> converge fast in a manner</font>

359
00:18:33,420 --> 00:18:38,940
that is independent of<font color="#CCCCCC"> the scale of the</font>

360
00:18:36,300 --> 00:18:41,280
<font color="#E5E5E5">Mac's that are impacted as</font><font color="#CCCCCC"> well as in a</font>

361
00:18:38,940 --> 00:18:43,590
manner that is independent of<font color="#CCCCCC"> the scale</font>

362
00:18:41,280 --> 00:18:46,410
<font color="#E5E5E5">of the services or VLANs that are</font>

363
00:18:43,590 --> 00:18:48,449
impacted<font color="#CCCCCC"> by that failure</font><font color="#E5E5E5"> so this is</font>

364
00:18:46,410 --> 00:18:52,040
accomplished via<font color="#E5E5E5"> a mass withdrawal</font>

365
00:18:48,450 --> 00:18:56,130
mechanism<font color="#CCCCCC"> any VPN which is essentially</font>

366
00:18:52,040 --> 00:18:57,990
each<font color="#CCCCCC"> leaf</font><font color="#E5E5E5"> advertisers in addition to</font>

367
00:18:56,130 --> 00:19:00,450
what<font color="#E5E5E5"> we saw</font><font color="#CCCCCC"> with aliasing there each</font>

368
00:18:57,990 --> 00:19:01,860
<font color="#E5E5E5">leaf advertises ESI reach</font><font color="#CCCCCC"> ability within</font>

369
00:19:00,450 --> 00:19:06,570
the<font color="#E5E5E5"> EBI context</font>

370
00:19:01,860 --> 00:19:08,870
<font color="#CCCCCC">each leaf also</font><font color="#E5E5E5"> advertises attached ESI</font>

371
00:19:06,570 --> 00:19:12,419
for each ability<font color="#E5E5E5"> at a global level</font>

372
00:19:08,870 --> 00:19:16,860
<font color="#E5E5E5">across all evpn instances to all the</font>

373
00:19:12,420 --> 00:19:19,070
<font color="#E5E5E5">leaves via a single route which is again</font>

374
00:19:16,860 --> 00:19:23,010
defined<font color="#E5E5E5"> as an EVP in route type</font><font color="#CCCCCC"> 1</font>

375
00:19:19,070 --> 00:19:24,419
<font color="#CCCCCC">Ethernet order discovery row</font><font color="#E5E5E5"> so this is</font>

376
00:19:23,010 --> 00:19:27,360
basically a single route that a

377
00:19:24,420 --> 00:19:30,660
signaling reach<font color="#CCCCCC"> ability to a given</font>

378
00:19:27,360 --> 00:19:35,219
Ethernet segment<font color="#E5E5E5"> across all the evpn</font>

379
00:19:30,660 --> 00:19:37,380
instances or even overlays in in the

380
00:19:35,220 --> 00:19:41,760
data center<font color="#E5E5E5"> so when there</font><font color="#CCCCCC"> is a failure</font>

381
00:19:37,380 --> 00:19:43,830
by just withdraw of the single route the

382
00:19:41,760 --> 00:19:45,660
leaf is able to<font color="#E5E5E5"> signal to all the remote</font>

383
00:19:43,830 --> 00:19:48,149
leaves that it no<font color="#CCCCCC"> longer</font><font color="#E5E5E5"> has reach</font>

384
00:19:45,660 --> 00:19:52,530
<font color="#CCCCCC">ability to the</font><font color="#E5E5E5"> ESI and this way the</font>

385
00:19:48,150 --> 00:19:56,190
remote<font color="#CCCCCC"> Lee's via how they program the</font>

386
00:19:52,530 --> 00:19:59,610
forwarding plane with an indirection via

387
00:19:56,190 --> 00:20:02,940
ESI are able to<font color="#CCCCCC"> fix up the</font><font color="#E5E5E5"> forwarding</font>

388
00:19:59,610 --> 00:20:04,770
<font color="#CCCCCC">information in a</font><font color="#E5E5E5"> manner that is</font>

389
00:20:02,940 --> 00:20:08,070
independent<font color="#E5E5E5"> of</font><font color="#CCCCCC"> the scale</font>

390
00:20:04,770 --> 00:20:12,110
of the max or the<font color="#E5E5E5"> or even possibly the</font>

391
00:20:08,070 --> 00:20:12,110
scale of the services<font color="#E5E5E5"> that</font><font color="#CCCCCC"> are impacted</font>

392
00:20:12,980 --> 00:20:19,620
now if there<font color="#CCCCCC"> is a multi destination</font>

393
00:20:15,750 --> 00:20:22,110
<font color="#E5E5E5">packet from</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> host that packet like</font><font color="#CCCCCC"> a</font>

394
00:20:19,620 --> 00:20:26,149
<font color="#E5E5E5">broadcast packet or unknown unicast</font>

395
00:20:22,110 --> 00:20:29,250
<font color="#E5E5E5">layer</font><font color="#CCCCCC"> to packet or or a multicast packet</font>

396
00:20:26,150 --> 00:20:31,770
<font color="#E5E5E5">that</font><font color="#CCCCCC"> bump traffic needs</font><font color="#E5E5E5"> to be flooded to</font>

397
00:20:29,250 --> 00:20:34,500
all the remote leaves that<font color="#E5E5E5"> are</font><font color="#CCCCCC"> part of</font>

398
00:20:31,770 --> 00:20:37,110
an<font color="#CCCCCC"> evpn overlay</font><font color="#E5E5E5"> so this would include</font>

399
00:20:34,500 --> 00:20:39,570
basically<font color="#E5E5E5"> four hosts that are multihomed</font>

400
00:20:37,110 --> 00:20:42,149
across multiple leaves<font color="#E5E5E5"> this means that</font>

401
00:20:39,570 --> 00:20:45,500
all<font color="#E5E5E5"> the leaves</font><font color="#CCCCCC"> that are host as multi</font>

402
00:20:42,150 --> 00:20:47,970
<font color="#CCCCCC">want to would receive a copy of any</font>

403
00:20:45,500 --> 00:20:51,750
replicated traffic or flooded traffic

404
00:20:47,970 --> 00:20:54,960
<font color="#E5E5E5">from the remote host at the same time we</font>

405
00:20:51,750 --> 00:20:58,200
<font color="#E5E5E5">must make sure that for multihomed</font><font color="#CCCCCC"> who</font>

406
00:20:54,960 --> 00:21:01,010
is only one of the leaf forwards traffic

407
00:20:58,200 --> 00:21:03,000
towards<font color="#CCCCCC"> that leaves in order to avoid</font>

408
00:21:01,010 --> 00:21:05,580
duplicate traffic so this is

409
00:21:03,000 --> 00:21:08,370
accomplished<font color="#CCCCCC"> via</font><font color="#E5E5E5"> a designated forwarder</font>

410
00:21:05,580 --> 00:21:11,460
election mechanism which<font color="#CCCCCC"> is essentially</font>

411
00:21:08,370 --> 00:21:13,350
the goal of this is that<font color="#E5E5E5"> for each ESI</font>

412
00:21:11,460 --> 00:21:17,100
that is multihomed across multiple

413
00:21:13,350 --> 00:21:20,159
leaves<font color="#E5E5E5"> where we elect one of the leaves</font>

414
00:21:17,100 --> 00:21:23,399
<font color="#E5E5E5">as a designated forwarder on a per</font>

415
00:21:20,160 --> 00:21:25,230
service basis so<font color="#CCCCCC"> this way</font><font color="#E5E5E5"> essentially if</font>

416
00:21:23,400 --> 00:21:27,720
you have<font color="#E5E5E5"> multiple VLANs or multiple</font>

417
00:21:25,230 --> 00:21:29,730
services on that Ethernet segment<font color="#E5E5E5"> you</font>

418
00:21:27,720 --> 00:21:33,090
<font color="#E5E5E5">can kind of load</font><font color="#CCCCCC"> balance or load share</font>

419
00:21:29,730 --> 00:21:36,540
rather the load<font color="#E5E5E5"> across multiple leaves</font>

420
00:21:33,090 --> 00:21:39,659
<font color="#E5E5E5">so how does this work essentially all</font>

421
00:21:36,540 --> 00:21:42,960
the leaves<font color="#E5E5E5"> that are part of an es is</font>

422
00:21:39,660 --> 00:21:45,510
redundancy<font color="#E5E5E5"> group discover each other via</font>

423
00:21:42,960 --> 00:21:49,320
and<font color="#E5E5E5"> Ethernet segment route route type</font>

424
00:21:45,510 --> 00:21:52,050
<font color="#CCCCCC">four and once</font><font color="#E5E5E5"> each leaf knows about all</font>

425
00:21:49,320 --> 00:21:55,080
<font color="#E5E5E5">the other leaves that it shares that ESI</font>

426
00:21:52,050 --> 00:21:57,990
with they all run a<font color="#E5E5E5"> DF election</font>

427
00:21:55,080 --> 00:22:01,350
algorithm and at the end of running that

428
00:21:57,990 --> 00:22:05,640
the election algorithm locally<font color="#E5E5E5"> each leaf</font>

429
00:22:01,350 --> 00:22:08,639
has a consistent view of who which among

430
00:22:05,640 --> 00:22:11,450
all the leaves in<font color="#E5E5E5"> the redundancy Grove</font>

431
00:22:08,640 --> 00:22:14,700
is<font color="#E5E5E5"> a designated forwarder for each</font>

432
00:22:11,450 --> 00:22:18,490
service or each VLAN<font color="#E5E5E5"> that is enabled on</font>

433
00:22:14,700 --> 00:22:22,640
that Ethernet segment identifier

434
00:22:18,490 --> 00:22:26,060
so of<font color="#CCCCCC"> course only once the</font><font color="#E5E5E5"> DF election</font>

435
00:22:22,640 --> 00:22:28,580
is set up<font color="#E5E5E5"> it's programmed only the DF</font>

436
00:22:26,060 --> 00:22:31,340
forwards multi destination traffic for

437
00:22:28,580 --> 00:22:33,919
that VLAN or<font color="#E5E5E5"> for that EVP an instance</font>

438
00:22:31,340 --> 00:22:40,610
towards the<font color="#E5E5E5"> host and any other non DF</font>

439
00:22:33,920 --> 00:22:43,520
would simply drop it so now<font color="#E5E5E5"> when a host</font>

440
00:22:40,610 --> 00:22:45,260
is multihomed<font color="#CCCCCC"> and originates a multi</font>

441
00:22:43,520 --> 00:22:47,600
destination traffic like<font color="#CCCCCC"> we saw</font><font color="#E5E5E5"> the</font>

442
00:22:45,260 --> 00:22:50,090
<font color="#CCCCCC">traffic is replicated to all the other</font>

443
00:22:47,600 --> 00:22:53,510
<font color="#CCCCCC">Leafs that are part of the VPN overlay</font>

444
00:22:50,090 --> 00:22:56,360
<font color="#E5E5E5">and if a horse is multi whom this would</font>

445
00:22:53,510 --> 00:22:59,480
include<font color="#E5E5E5"> the other leaves that</font><font color="#CCCCCC"> are also</font>

446
00:22:56,360 --> 00:23:01,969
part<font color="#E5E5E5"> of the redundancy group or that</font><font color="#CCCCCC"> the</font>

447
00:22:59,480 --> 00:23:04,640
host is multihomed<font color="#CCCCCC"> too at the same time</font>

448
00:23:01,970 --> 00:23:06,950
we must<font color="#CCCCCC"> ensure that</font><font color="#E5E5E5"> the other leaf that</font>

449
00:23:04,640 --> 00:23:10,670
this horse is<font color="#CCCCCC"> multi-home to and receives</font>

450
00:23:06,950 --> 00:23:12,770
<font color="#E5E5E5">the packet back does not echo the packet</font>

451
00:23:10,670 --> 00:23:14,780
back to the host that originated the

452
00:23:12,770 --> 00:23:17,120
packet in<font color="#CCCCCC"> the first place and this</font><font color="#E5E5E5"> is</font>

453
00:23:14,780 --> 00:23:20,450
accomplished via<font color="#E5E5E5"> a split horizon group</font>

454
00:23:17,120 --> 00:23:22,580
filtering mechanism where each leaf for

455
00:23:20,450 --> 00:23:25,550
a locally si that<font color="#E5E5E5"> is attached</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> that</font>

456
00:23:22,580 --> 00:23:29,120
<font color="#E5E5E5">leaf allocates</font><font color="#CCCCCC"> a split horizon</font><font color="#E5E5E5"> grouped</font>

457
00:23:25,550 --> 00:23:32,870
label and advertises it to all the other

458
00:23:29,120 --> 00:23:37,100
<font color="#E5E5E5">leaves in in that</font><font color="#CCCCCC"> es eyes redundancy</font>

459
00:23:32,870 --> 00:23:39,649
group for example<font color="#CCCCCC"> here for</font><font color="#E5E5E5"> an ESI that</font>

460
00:23:37,100 --> 00:23:43,550
is<font color="#CCCCCC"> multi-home</font><font color="#E5E5E5"> to leaf</font><font color="#CCCCCC"> 1 and leaf to leaf</font>

461
00:23:39,650 --> 00:23:45,950
to would have allocated<font color="#E5E5E5"> an ESI label or</font>

462
00:23:43,550 --> 00:23:49,490
a split arising group to label for ESI<font color="#E5E5E5"> 1</font>

463
00:23:45,950 --> 00:23:52,130
and<font color="#E5E5E5"> advertise that label to leaf 1 now</font>

464
00:23:49,490 --> 00:23:54,950
least<font color="#E5E5E5"> one when it receives a multi</font>

465
00:23:52,130 --> 00:23:59,240
destination package that it has to flood

466
00:23:54,950 --> 00:24:02,300
on the<font color="#E5E5E5"> fabric on ESI one it will impose</font>

467
00:23:59,240 --> 00:24:04,580
this extra label<font color="#E5E5E5"> or this additional</font>

468
00:24:02,300 --> 00:24:07,490
split horizon group label on the package

469
00:24:04,580 --> 00:24:10,970
<font color="#CCCCCC">when it replicates the packet towards</font>

470
00:24:07,490 --> 00:24:13,040
leaf<font color="#CCCCCC"> two now these two when it receives</font>

471
00:24:10,970 --> 00:24:15,620
the packet<font color="#E5E5E5"> with this additional split</font>

472
00:24:13,040 --> 00:24:19,670
horizon<font color="#E5E5E5"> group label that it allocated</font>

473
00:24:15,620 --> 00:24:22,939
for its<font color="#E5E5E5"> local ESI one it knows</font><font color="#CCCCCC"> by that</font>

474
00:24:19,670 --> 00:24:25,730
label<font color="#CCCCCC"> that the packet originated on ESI</font>

475
00:24:22,940 --> 00:24:28,310
<font color="#CCCCCC">1</font><font color="#E5E5E5"> and it must not put the packet back on</font>

476
00:24:25,730 --> 00:24:30,930
ESI<font color="#E5E5E5"> 1 so it will still flood the packet</font>

477
00:24:28,310 --> 00:24:34,889
<font color="#E5E5E5">on all the other ports in</font>

478
00:24:30,930 --> 00:24:41,520
to bridge<font color="#E5E5E5"> however it will it will keep</font>

479
00:24:34,890 --> 00:24:45,450
putting the packet back on<font color="#E5E5E5"> ESI</font><font color="#CCCCCC"> 1 so now</font>

480
00:24:41,520 --> 00:24:47,129
coming to<font color="#CCCCCC"> host mobility</font><font color="#E5E5E5"> right so I mean</font>

481
00:24:45,450 --> 00:24:49,520
one of the one of<font color="#E5E5E5"> the key goals</font><font color="#CCCCCC"> of this</font>

482
00:24:47,130 --> 00:24:53,220
<font color="#CCCCCC">architecture is to be able</font><font color="#E5E5E5"> to place and</font>

483
00:24:49,520 --> 00:24:56,370
move your workloads across your<font color="#E5E5E5"> EVP an</font>

484
00:24:53,220 --> 00:25:00,480
instance or the<font color="#E5E5E5"> VPN overlay</font><font color="#CCCCCC"> in the data</font>

485
00:24:56,370 --> 00:25:04,290
center<font color="#E5E5E5"> so if if a host moves from one</font>

486
00:25:00,480 --> 00:25:06,690
<font color="#E5E5E5">leaf to say another leaf then all the</font>

487
00:25:04,290 --> 00:25:09,300
<font color="#E5E5E5">leaves that</font><font color="#CCCCCC"> are part of the evpn</font>

488
00:25:06,690 --> 00:25:13,590
instance in the data center<font color="#E5E5E5"> must be</font>

489
00:25:09,300 --> 00:25:15,570
unambiguous<font color="#CCCCCC"> ly determine what the</font>

490
00:25:13,590 --> 00:25:19,679
current reach ability information for

491
00:25:15,570 --> 00:25:23,070
that<font color="#E5E5E5"> host is so this is accomplished</font><font color="#CCCCCC"> via</font>

492
00:25:19,680 --> 00:25:25,380
sort of a route versioning mechanism

493
00:25:23,070 --> 00:25:27,960
which<font color="#CCCCCC"> is basically a sequence number</font>

494
00:25:25,380 --> 00:25:32,430
attribute that<font color="#CCCCCC"> is associated with</font><font color="#E5E5E5"> each</font>

495
00:25:27,960 --> 00:25:35,010
<font color="#CCCCCC">match</font><font color="#E5E5E5"> plus IP route type</font><font color="#CCCCCC"> 2 then a host</font>

496
00:25:32,430 --> 00:25:37,800
is<font color="#E5E5E5"> learned for the very first time it's</font>

497
00:25:35,010 --> 00:25:39,780
<font color="#CCCCCC">Mac and IP route route type 2 is</font>

498
00:25:37,800 --> 00:25:42,330
advertised without any sequence<font color="#E5E5E5"> number</font>

499
00:25:39,780 --> 00:25:45,750
attribute attached and the sequence

500
00:25:42,330 --> 00:25:48,120
number is implicitly assumed to be 0<font color="#E5E5E5"> now</font>

501
00:25:45,750 --> 00:25:52,800
when the host let's say moves here from

502
00:25:48,120 --> 00:25:55,800
leaf<font color="#E5E5E5"> 1 to leave 3 and</font><font color="#CCCCCC"> Li 3 learns the</font>

503
00:25:52,800 --> 00:26:00,540
host<font color="#CCCCCC"> locally again</font><font color="#E5E5E5"> via our planning or</font>

504
00:25:55,800 --> 00:26:03,600
via<font color="#E5E5E5"> Mac learning</font><font color="#CCCCCC"> leap 3 at this time</font>

505
00:26:00,540 --> 00:26:07,740
already has an existing<font color="#E5E5E5"> route that was</font>

506
00:26:03,600 --> 00:26:11,070
advertised by leaf<font color="#E5E5E5"> 1 for this host so</font>

507
00:26:07,740 --> 00:26:13,020
based on that leaves 3 will bump up the

508
00:26:11,070 --> 00:26:15,030
route version or the<font color="#E5E5E5"> sequence number</font>

509
00:26:13,020 --> 00:26:18,540
<font color="#E5E5E5">associated</font><font color="#CCCCCC"> with this road when it</font>

510
00:26:15,030 --> 00:26:21,960
advertises the route type 2 or<font color="#CCCCCC"> the</font><font color="#E5E5E5"> Mac</font>

511
00:26:18,540 --> 00:26:26,639
IP route<font color="#E5E5E5"> for that</font><font color="#CCCCCC"> host via</font><font color="#E5E5E5"> itself or</font>

512
00:26:21,960 --> 00:26:28,470
with itself as the next hop so<font color="#CCCCCC"> by</font><font color="#E5E5E5"> when</font>

513
00:26:26,640 --> 00:26:30,300
<font color="#E5E5E5">all the other leaves receive this route</font>

514
00:26:28,470 --> 00:26:34,650
from leaves 3 with a higher sequence

515
00:26:30,300 --> 00:26:37,350
number they<font color="#CCCCCC"> join they know that this</font><font color="#E5E5E5"> is</font>

516
00:26:34,650 --> 00:26:40,140
a more recent reach ability information

517
00:26:37,350 --> 00:26:44,100
and they will modify the<font color="#E5E5E5"> forwarding</font>

518
00:26:40,140 --> 00:26:47,250
state<font color="#E5E5E5"> for the Mac for</font><font color="#CCCCCC"> this host</font>

519
00:26:44,100 --> 00:26:49,199
essentially<font color="#E5E5E5"> to do essentially recurse</font>

520
00:26:47,250 --> 00:26:51,810
<font color="#E5E5E5">while</font><font color="#CCCCCC"> a leaf tree instead of</font><font color="#E5E5E5"> leaf one</font>

521
00:26:49,200 --> 00:26:54,660
<font color="#E5E5E5">and leave one when it receives this</font>

522
00:26:51,810 --> 00:26:57,419
route from leaf<font color="#E5E5E5"> three can use this</font>

523
00:26:54,660 --> 00:27:00,270
<font color="#E5E5E5">advertisement to clean up any stale</font>

524
00:26:57,420 --> 00:27:03,330
<font color="#CCCCCC">state that it might have learnt or that</font>

525
00:27:00,270 --> 00:27:06,690
it<font color="#CCCCCC"> learnt that</font><font color="#E5E5E5"> it would have</font><font color="#CCCCCC"> learnt</font><font color="#E5E5E5"> for</font>

526
00:27:03,330 --> 00:27:12,659
that host locally prior prior to the

527
00:27:06,690 --> 00:27:15,990
move so<font color="#CCCCCC"> next we'll</font><font color="#E5E5E5"> we'll compare or look</font>

528
00:27:12,660 --> 00:27:18,000
at how to do routing<font color="#CCCCCC"> intercept net</font>

529
00:27:15,990 --> 00:27:22,290
routing in this architecture<font color="#E5E5E5"> so we'll go</font>

530
00:27:18,000 --> 00:27:26,400
<font color="#E5E5E5">over sort of 3 routing architectures</font>

531
00:27:22,290 --> 00:27:28,920
that<font color="#CCCCCC"> are possible with this centralized</font>

532
00:27:26,400 --> 00:27:31,500
routing<font color="#E5E5E5"> distributed routing with a</font>

533
00:27:28,920 --> 00:27:34,050
<font color="#E5E5E5">symmetric IRB and distributed routing</font>

534
00:27:31,500 --> 00:27:37,290
<font color="#E5E5E5">and with symmetric IRB and</font><font color="#CCCCCC"> we'll kind</font><font color="#E5E5E5"> of</font>

535
00:27:34,050 --> 00:27:40,110
draw some comparisons and try to show

536
00:27:37,290 --> 00:27:43,860
why why you<font color="#E5E5E5"> know for this architecture</font>

537
00:27:40,110 --> 00:27:45,750
we<font color="#E5E5E5"> prefer one over the</font><font color="#CCCCCC"> other</font><font color="#E5E5E5"> so</font>

538
00:27:43,860 --> 00:27:48,600
centralized routing<font color="#E5E5E5"> this is more of a</font>

539
00:27:45,750 --> 00:27:51,120
traditional routing architecture in a

540
00:27:48,600 --> 00:27:53,850
switch data center or rather mimics more

541
00:27:51,120 --> 00:27:56,189
of a traditional routing architecture in

542
00:27:53,850 --> 00:27:58,020
a switch data center where<font color="#E5E5E5"> your data</font>

543
00:27:56,190 --> 00:28:00,480
center predominantly is a layer<font color="#CCCCCC"> two</font>

544
00:27:58,020 --> 00:28:03,900
fabric it's predominantly most<font color="#E5E5E5"> of the</font>

545
00:28:00,480 --> 00:28:07,920
devices<font color="#E5E5E5"> are layer 2 devices and all the</font>

546
00:28:03,900 --> 00:28:10,680
<font color="#E5E5E5">leaves are pure layer</font><font color="#CCCCCC"> 2</font><font color="#E5E5E5"> gateways and any</font>

547
00:28:07,920 --> 00:28:14,270
inter subnet traffic<font color="#E5E5E5"> that</font><font color="#CCCCCC"> has to be</font>

548
00:28:10,680 --> 00:28:18,900
routed<font color="#E5E5E5"> across subnets or across VLANs</font><font color="#CCCCCC"> is</font>

549
00:28:14,270 --> 00:28:21,150
routed on a centralized<font color="#E5E5E5"> gateway so what</font>

550
00:28:18,900 --> 00:28:23,730
this<font color="#E5E5E5"> means</font><font color="#CCCCCC"> is that all the layer tools</font>

551
00:28:21,150 --> 00:28:26,280
within your data centers have<font color="#CCCCCC"> to be</font>

552
00:28:23,730 --> 00:28:28,650
stretched all the<font color="#CCCCCC"> way to the centralized</font>

553
00:28:26,280 --> 00:28:30,750
<font color="#E5E5E5">gateway so the centralized gateway can</font>

554
00:28:28,650 --> 00:28:33,420
<font color="#E5E5E5">do integrated routing and bridging and</font>

555
00:28:30,750 --> 00:28:35,700
route<font color="#E5E5E5"> inter subnet traffic so this</font>

556
00:28:33,420 --> 00:28:36,510
implies<font color="#E5E5E5"> that the centralized gateway has</font>

557
00:28:35,700 --> 00:28:40,260
to maintain

558
00:28:36,510 --> 00:28:42,900
<font color="#CCCCCC">arc state or nd</font><font color="#E5E5E5"> state for all the hosts</font>

559
00:28:40,260 --> 00:28:45,300
across all the V LANs or subnets<font color="#CCCCCC"> that it</font>

560
00:28:42,900 --> 00:28:47,790
is a first home gateway or a centralized

561
00:28:45,300 --> 00:28:50,460
gateway<font color="#CCCCCC"> for so this obviously</font><font color="#E5E5E5"> presents</font>

562
00:28:47,790 --> 00:28:55,320
somewhat<font color="#E5E5E5"> of a scale challenge in terms</font>

563
00:28:50,460 --> 00:28:57,389
<font color="#E5E5E5">of scale</font><font color="#CCCCCC"> where</font><font color="#E5E5E5"> you</font><font color="#CCCCCC"> know just because of</font>

564
00:28:55,320 --> 00:29:00,389
the sort<font color="#CCCCCC"> of</font><font color="#E5E5E5"> you're limited by</font>

565
00:28:57,389 --> 00:29:03,149
the<font color="#CCCCCC"> ARP</font><font color="#E5E5E5"> or the adjacency scales on that</font>

566
00:29:00,389 --> 00:29:06,168
centralized gateway and once you can hit

567
00:29:03,149 --> 00:29:08,488
the capacity<font color="#E5E5E5"> you you cannot just easily</font>

568
00:29:06,169 --> 00:29:10,559
<font color="#CCCCCC">you know increase the capacity of</font><font color="#E5E5E5"> your</font>

569
00:29:08,489 --> 00:29:14,309
data center particularly the routing

570
00:29:10,559 --> 00:29:16,969
capacity<font color="#E5E5E5"> without upgrading</font><font color="#CCCCCC"> that</font>

571
00:29:14,309 --> 00:29:20,399
<font color="#E5E5E5">centralized gateway in addition it also</font>

572
00:29:16,969 --> 00:29:26,279
<font color="#E5E5E5">arguably presents a single point of</font>

573
00:29:20,399 --> 00:29:29,549
<font color="#E5E5E5">failure</font><font color="#CCCCCC"> so the key difference</font><font color="#E5E5E5"> with</font>

574
00:29:26,279 --> 00:29:32,820
distributed routing<font color="#E5E5E5"> is that</font><font color="#CCCCCC"> your layer 2</font>

575
00:29:29,549 --> 00:29:35,339
layer<font color="#CCCCCC"> 3 boundary is pushed down all the</font>

576
00:29:32,820 --> 00:29:38,579
way<font color="#E5E5E5"> to the leaf so there is no longer</font>

577
00:29:35,339 --> 00:29:40,950
<font color="#E5E5E5">any centralized gateways instead the</font>

578
00:29:38,579 --> 00:29:43,709
routing functionality is distributed

579
00:29:40,950 --> 00:29:48,419
across all the<font color="#E5E5E5"> leaves that</font><font color="#CCCCCC"> are part of</font>

580
00:29:43,709 --> 00:29:52,279
the layer 2 or dad that<font color="#E5E5E5"> evpn instance so</font>

581
00:29:48,419 --> 00:29:54,959
essentially what this<font color="#E5E5E5"> means is</font><font color="#CCCCCC"> that I</font>

582
00:29:52,279 --> 00:29:57,599
mean<font color="#CCCCCC"> basically</font><font color="#E5E5E5"> you have a distributed</font>

583
00:29:54,959 --> 00:30:00,419
routing gateway that is that<font color="#E5E5E5"> spread</font>

584
00:29:57,599 --> 00:30:04,700
across<font color="#E5E5E5"> all the leaves within the evpn</font>

585
00:30:00,419 --> 00:30:07,919
instance the asymmetric nature<font color="#CCCCCC"> of this</font>

586
00:30:04,700 --> 00:30:10,889
<font color="#E5E5E5">architecture refers to the fact that the</font>

587
00:30:07,919 --> 00:30:13,459
packet<font color="#E5E5E5"> on the ingress leaves which is</font>

588
00:30:10,889 --> 00:30:17,039
the first<font color="#E5E5E5"> hop gateway in this case is</font>

589
00:30:13,459 --> 00:30:19,799
routed directly to<font color="#E5E5E5"> the destination VM</font>

590
00:30:17,039 --> 00:30:22,619
smack<font color="#E5E5E5"> so when the ingress leaf routes</font>

591
00:30:19,799 --> 00:30:25,200
the packet it encapsulates the packet

592
00:30:22,619 --> 00:30:27,689
with the<font color="#CCCCCC"> macri right</font><font color="#E5E5E5"> with the</font>

593
00:30:25,200 --> 00:30:30,239
destination<font color="#CCCCCC"> MAC</font><font color="#E5E5E5"> as the destination VM</font>

594
00:30:27,690 --> 00:30:34,649
smack so it is routed<font color="#E5E5E5"> there and then</font>

595
00:30:30,239 --> 00:30:37,559
forwarded or<font color="#CCCCCC"> IR be forwarded via</font><font color="#E5E5E5"> a Mac</font>

596
00:30:34,649 --> 00:30:39,718
look up towards<font color="#E5E5E5"> the egress leaf and then</font>

597
00:30:37,559 --> 00:30:42,329
on the egress leaf it is simply bridged

598
00:30:39,719 --> 00:30:44,879
<font color="#E5E5E5">based on the Mac look up towards the</font>

599
00:30:42,329 --> 00:30:46,289
<font color="#E5E5E5">destination VM because the packet is</font>

600
00:30:44,879 --> 00:30:49,139
already encapsulated with the

601
00:30:46,289 --> 00:30:51,089
destination VM smack<font color="#E5E5E5"> so this this again</font>

602
00:30:49,139 --> 00:30:53,809
it's a<font color="#E5E5E5"> little bit better in terms of</font>

603
00:30:51,089 --> 00:30:56,009
scale<font color="#E5E5E5"> as compared to centralized routing</font>

604
00:30:53,809 --> 00:30:58,019
<font color="#CCCCCC">since the routing function is</font>

605
00:30:56,009 --> 00:31:00,450
distributed across<font color="#CCCCCC"> multiple</font><font color="#E5E5E5"> leaves</font>

606
00:30:58,019 --> 00:31:02,309
<font color="#E5E5E5">however it is still somewhat of a scale</font>

607
00:31:00,450 --> 00:31:05,669
challenge because the ingress leaves

608
00:31:02,309 --> 00:31:09,749
still needs to maintain<font color="#CCCCCC"> our fan Jason</font>

609
00:31:05,669 --> 00:31:10,559
sees or our entries or nd entries for

610
00:31:09,749 --> 00:31:14,759
<font color="#E5E5E5">all the</font>

611
00:31:10,559 --> 00:31:20,129
more tourists in a stretched<font color="#E5E5E5"> VPN overlay</font>

612
00:31:14,759 --> 00:31:23,429
or an<font color="#CCCCCC"> e VPN instance so now the key</font>

613
00:31:20,129 --> 00:31:26,399
difference with symmetric IRB is that

614
00:31:23,429 --> 00:31:29,549
the ingress<font color="#CCCCCC"> leaves</font><font color="#E5E5E5"> no longer maintains</font>

615
00:31:26,399 --> 00:31:32,969
<font color="#E5E5E5">any ARP</font><font color="#CCCCCC"> State for a</font><font color="#E5E5E5"> remote host</font>

616
00:31:29,549 --> 00:31:35,668
so<font color="#E5E5E5"> only</font><font color="#CCCCCC"> our countries or nd entries and</font>

617
00:31:32,970 --> 00:31:38,100
<font color="#CCCCCC">directed Jason</font><font color="#E5E5E5"> C's are only maintained</font>

618
00:31:35,669 --> 00:31:40,740
for directly connected<font color="#E5E5E5"> hosts that are</font>

619
00:31:38,100 --> 00:31:44,248
local<font color="#CCCCCC"> to that</font><font color="#E5E5E5"> leaf and for all the</font>

620
00:31:40,740 --> 00:31:48,299
remote hosts<font color="#E5E5E5"> that in</font><font color="#CCCCCC"> the evpn overlay</font>

621
00:31:44,249 --> 00:31:50,669
the ARP entry is replaced by<font color="#E5E5E5"> a routing</font>

622
00:31:48,299 --> 00:31:54,570
entry that<font color="#E5E5E5"> is installed directly into</font>

623
00:31:50,669 --> 00:31:56,879
the<font color="#E5E5E5"> IP</font><font color="#CCCCCC"> vrf</font><font color="#E5E5E5"> based on the</font><font color="#CCCCCC"> MAC</font><font color="#E5E5E5"> plus IP</font>

624
00:31:54,570 --> 00:31:59,428
route type<font color="#CCCCCC"> two advertisement from</font><font color="#E5E5E5"> the</font>

625
00:31:56,879 --> 00:32:01,439
egress<font color="#E5E5E5"> leaves so another way of looking</font>

626
00:31:59,429 --> 00:32:05,190
at it is basically instead<font color="#CCCCCC"> of installing</font>

627
00:32:01,440 --> 00:32:07,619
<font color="#E5E5E5">an ARP entry for a remote host</font><font color="#CCCCCC"> in a</font>

628
00:32:05,190 --> 00:32:12,119
stretched subnet<font color="#CCCCCC"> or a stretch VPN</font>

629
00:32:07,619 --> 00:32:15,240
overlay<font color="#E5E5E5"> I put a much like an L 3 VPN</font>

630
00:32:12,119 --> 00:32:18,809
style<font color="#E5E5E5"> routing entry</font><font color="#CCCCCC"> it directly into the</font>

631
00:32:15,240 --> 00:32:21,360
<font color="#E5E5E5">IC</font><font color="#CCCCCC"> vrf that that recursos</font><font color="#E5E5E5"> over the</font>

632
00:32:18,809 --> 00:32:22,350
egress<font color="#E5E5E5"> leaf which looks</font><font color="#CCCCCC"> like a remote</font>

633
00:32:21,360 --> 00:32:26,309
router

634
00:32:22,350 --> 00:32:29,658
<font color="#CCCCCC">to me and you know</font><font color="#E5E5E5"> together with the VPN</font>

635
00:32:26,309 --> 00:32:33,629
l3 VPN encapsulation or l3 we can label

636
00:32:29,659 --> 00:32:36,179
advertised<font color="#E5E5E5"> from that remote leaf so by</font>

637
00:32:33,629 --> 00:32:38,908
doing this<font color="#CCCCCC"> essentially you know we're</font>

638
00:32:36,179 --> 00:32:40,820
able to improve the scale significantly

639
00:32:38,909 --> 00:32:44,009
where you're no longer limited by

640
00:32:40,820 --> 00:32:48,119
adjacency or art scales<font color="#E5E5E5"> on your top of</font>

641
00:32:44,009 --> 00:32:50,190
rack or leaf<font color="#CCCCCC"> switches which I mean which</font>

642
00:32:48,119 --> 00:32:52,918
would typically be you know a lower

643
00:32:50,190 --> 00:32:55,950
scale as compared<font color="#CCCCCC"> to say a routing scale</font>

644
00:32:52,919 --> 00:32:58,919
or a VPN routing scale supported on the

645
00:32:55,950 --> 00:33:02,580
leaf<font color="#E5E5E5"> so by doing this I mean</font><font color="#CCCCCC"> we're</font><font color="#E5E5E5"> able</font>

646
00:32:58,919 --> 00:33:05,820
<font color="#CCCCCC">to scale much better and</font><font color="#E5E5E5"> you as your</font>

647
00:33:02,580 --> 00:33:09,360
workloads or your<font color="#CCCCCC"> ends in the data</font>

648
00:33:05,820 --> 00:33:11,908
center increase you<font color="#CCCCCC"> can simply scale the</font>

649
00:33:09,360 --> 00:33:17,008
data center design horizontally<font color="#E5E5E5"> much</font>

650
00:33:11,909 --> 00:33:20,429
<font color="#E5E5E5">easier so now the next question is that</font>

651
00:33:17,009 --> 00:33:23,760
once we<font color="#E5E5E5"> have the distributed gateway how</font>

652
00:33:20,429 --> 00:33:26,159
do<font color="#E5E5E5"> we enable</font><font color="#CCCCCC"> holes</font><font color="#E5E5E5"> to be</font><font color="#CCCCCC"> able</font><font color="#E5E5E5"> to move</font>

653
00:33:23,760 --> 00:33:29,399
across a stretched<font color="#E5E5E5"> layer - EVP</font><font color="#CCCCCC"> an</font>

654
00:33:26,159 --> 00:33:32,220
instance seamlessly why maintaining its

655
00:33:29,399 --> 00:33:34,559
<font color="#E5E5E5">runtime state so once again sort of</font>

656
00:33:32,220 --> 00:33:36,000
coming back to<font color="#CCCCCC"> mobility which is you</font>

657
00:33:34,559 --> 00:33:38,668
know one of the key things that<font color="#CCCCCC"> this</font><font color="#E5E5E5"> is</font>

658
00:33:36,000 --> 00:33:40,529
<font color="#E5E5E5">trying to accomplish</font><font color="#CCCCCC"> we want we want the</font>

659
00:33:38,669 --> 00:33:42,870
<font color="#CCCCCC">holes</font><font color="#E5E5E5"> to be</font><font color="#CCCCCC"> able to move and</font><font color="#E5E5E5"> not just</font>

660
00:33:40,529 --> 00:33:44,580
move we want live<font color="#CCCCCC"> migration right we</font>

661
00:33:42,870 --> 00:33:47,340
want<font color="#CCCCCC"> host</font><font color="#E5E5E5"> to be</font><font color="#CCCCCC"> able</font><font color="#E5E5E5"> to move while</font>

662
00:33:44,580 --> 00:33:52,168
keeping<font color="#CCCCCC"> the runtime state which includes</font>

663
00:33:47,340 --> 00:33:55,678
the runtime our cache and it includes an

664
00:33:52,169 --> 00:33:58,399
ass entry for their default or first<font color="#E5E5E5"> hop</font>

665
00:33:55,679 --> 00:34:01,350
<font color="#E5E5E5">gateway so this is accomplished by</font>

666
00:33:58,399 --> 00:34:04,350
<font color="#E5E5E5">making this distributed gateway in any</font>

667
00:34:01,350 --> 00:34:07,320
cost gateway essentially all the leaves

668
00:34:04,350 --> 00:34:10,139
that<font color="#CCCCCC"> are part of a</font><font color="#E5E5E5"> distributed gateway</font>

669
00:34:07,320 --> 00:34:13,649
or first<font color="#E5E5E5"> hop gateway</font><font color="#CCCCCC"> for a given subnet</font>

670
00:34:10,139 --> 00:34:16,470
<font color="#E5E5E5">are configured</font><font color="#CCCCCC"> with the exact same</font><font color="#E5E5E5"> Mac</font>

671
00:34:13,649 --> 00:34:18,210
and IP<font color="#E5E5E5"> for the default gateway</font>

672
00:34:16,469 --> 00:34:21,270
so essentially you can look at it from

673
00:34:18,210 --> 00:34:23,339
<font color="#E5E5E5">the</font><font color="#CCCCCC"> host point of view the gateway for a</font>

674
00:34:21,270 --> 00:34:25,679
subnet for<font color="#E5E5E5"> a given subnet or</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> given</font>

675
00:34:23,339 --> 00:34:28,739
VLAN<font color="#E5E5E5"> never changes I mean you still have</font>

676
00:34:25,679 --> 00:34:31,918
the same IP gateway IP and<font color="#CCCCCC"> Gateway Mac</font>

677
00:34:28,739 --> 00:34:34,408
and if<font color="#E5E5E5"> if a host has an</font><font color="#CCCCCC"> hour pantry</font><font color="#E5E5E5"> for</font>

678
00:34:31,918 --> 00:34:37,440
its default gateway it can simply<font color="#E5E5E5"> move</font>

679
00:34:34,409 --> 00:34:39,569
while maintaining that<font color="#CCCCCC"> arpan tree</font><font color="#E5E5E5"> and if</font>

680
00:34:37,440 --> 00:34:42,510
it moves<font color="#E5E5E5"> to another leaf that leaf also</font>

681
00:34:39,569 --> 00:34:46,250
<font color="#E5E5E5">is part of the same anycast gateway and</font>

682
00:34:42,510 --> 00:34:51,440
you truly<font color="#E5E5E5"> have a distributed any cost</font>

683
00:34:46,250 --> 00:34:51,440
<font color="#E5E5E5">gateway across your data center fabric</font>

684
00:34:51,918 --> 00:34:59,339
so next just<font color="#E5E5E5"> to get a feel</font><font color="#CCCCCC"> for how it</font>

685
00:34:55,440 --> 00:35:01,440
comes together I<font color="#CCCCCC"> just picked one</font><font color="#E5E5E5"> slow to</font>

686
00:34:59,339 --> 00:35:03,930
see how the control plane and the data

687
00:35:01,440 --> 00:35:07,349
plane comes together for<font color="#E5E5E5"> an inter subnet</font>

688
00:35:03,930 --> 00:35:09,480
packet<font color="#E5E5E5"> flow so if there's a lot of kind</font>

689
00:35:07,349 --> 00:35:10,980
<font color="#CCCCCC">of packet flows and</font><font color="#E5E5E5"> failure flows of</font>

690
00:35:09,480 --> 00:35:13,530
course we could go through and<font color="#CCCCCC"> spend</font><font color="#E5E5E5"> the</font>

691
00:35:10,980 --> 00:35:16,319
<font color="#E5E5E5">time spend a lot of time I just picked</font>

692
00:35:13,530 --> 00:35:19,710
<font color="#CCCCCC">one specific flow for an inter subnet</font>

693
00:35:16,319 --> 00:35:21,450
routed packet to see how the control

694
00:35:19,710 --> 00:35:25,410
plane is established<font color="#E5E5E5"> and how the data</font>

695
00:35:21,450 --> 00:35:29,310
<font color="#E5E5E5">plane works so let's say we have two</font>

696
00:35:25,410 --> 00:35:32,819
<font color="#E5E5E5">subjects in in the fabric we have</font><font color="#CCCCCC"> an</font>

697
00:35:29,310 --> 00:35:35,250
<font color="#E5E5E5">orange subnet and a blue subnet</font><font color="#CCCCCC"> there is</font>

698
00:35:32,819 --> 00:35:36,750
VM a in the orange subnet that is

699
00:35:35,250 --> 00:35:39,630
sitting behind leaf

700
00:35:36,750 --> 00:35:42,869
and there is<font color="#CCCCCC"> vmb</font><font color="#E5E5E5"> in the blue subnet that</font>

701
00:35:39,630 --> 00:35:46,080
is sitting<font color="#CCCCCC"> behind leaf</font><font color="#E5E5E5"> for and VM a</font>

702
00:35:42,869 --> 00:35:49,560
originates<font color="#E5E5E5"> an inter subnet packet that</font>

703
00:35:46,080 --> 00:35:52,770
is destined for VM<font color="#CCCCCC"> V's IP</font><font color="#E5E5E5"> in the</font><font color="#CCCCCC"> blue</font>

704
00:35:49,560 --> 00:35:55,859
subnet<font color="#E5E5E5"> the packet would be sent to VM is</font>

705
00:35:52,770 --> 00:35:58,650
first<font color="#E5E5E5"> hops or default gateway which is</font>

706
00:35:55,859 --> 00:36:00,869
the<font color="#E5E5E5"> ingress leaf one in this case the</font>

707
00:35:58,650 --> 00:36:05,310
ingress leaf would do an IP lookup<font color="#E5E5E5"> in</font>

708
00:36:00,869 --> 00:36:07,740
the IP<font color="#E5E5E5"> vrf and in this case I just</font>

709
00:36:05,310 --> 00:36:11,670
picked an example where the destination

710
00:36:07,740 --> 00:36:14,009
<font color="#E5E5E5">blue subnet is also local to leaf</font><font color="#CCCCCC"> one it</font>

711
00:36:11,670 --> 00:36:16,440
<font color="#E5E5E5">doesn't necessarily</font><font color="#CCCCCC"> have to</font><font color="#E5E5E5"> be local it</font>

712
00:36:14,010 --> 00:36:18,450
could not be it<font color="#E5E5E5"> may not be but in this</font>

713
00:36:16,440 --> 00:36:21,570
<font color="#E5E5E5">example it just</font><font color="#CCCCCC"> so happens that the blue</font>

714
00:36:18,450 --> 00:36:24,450
subnet<font color="#CCCCCC"> is also local only</font><font color="#E5E5E5"> one so because</font>

715
00:36:21,570 --> 00:36:29,340
the blue the destination subnet for that

716
00:36:24,450 --> 00:36:32,250
IP is a local subnet<font color="#E5E5E5"> on leaf one leaf</font>

717
00:36:29,340 --> 00:36:35,130
one will generate an<font color="#CCCCCC"> arp request</font><font color="#E5E5E5"> for the</font>

718
00:36:32,250 --> 00:36:38,609
destinations<font color="#CCCCCC"> mac which is v</font><font color="#E5E5E5"> mb is mac</font>

719
00:36:35,130 --> 00:36:40,680
the<font color="#CCCCCC"> arp will be flooded across your</font><font color="#E5E5E5"> data</font>

720
00:36:38,609 --> 00:36:43,500
center<font color="#E5E5E5"> fabric to all the other leaves</font>

721
00:36:40,680 --> 00:36:47,009
<font color="#E5E5E5">that</font><font color="#CCCCCC"> are</font><font color="#E5E5E5"> part of the layer 2 VPN or the</font>

722
00:36:43,500 --> 00:36:50,250
<font color="#CCCCCC">evpn overlay each leaf will sludge that</font>

723
00:36:47,010 --> 00:36:54,030
packet on<font color="#CCCCCC"> the local port or local ports</font>

724
00:36:50,250 --> 00:36:56,369
<font color="#E5E5E5">in that layer to service including leaf</font>

725
00:36:54,030 --> 00:36:59,670
<font color="#CCCCCC">or which will floods</font><font color="#E5E5E5"> are</font><font color="#CCCCCC"> progressed on</font>

726
00:36:56,369 --> 00:37:02,339
its<font color="#E5E5E5"> local port towards vm</font><font color="#CCCCCC"> b when vm b</font>

727
00:36:59,670 --> 00:37:05,790
<font color="#E5E5E5">gets the packet vm b will generate an</font>

728
00:37:02,339 --> 00:37:08,970
ARP reply<font color="#E5E5E5"> however now the ARP reply</font>

729
00:37:05,790 --> 00:37:11,940
would<font color="#CCCCCC"> be destined to the any cost</font>

730
00:37:08,970 --> 00:37:15,180
gateways<font color="#CCCCCC"> mac so because the ARP request</font>

731
00:37:11,940 --> 00:37:18,240
was originated from a default or an any

732
00:37:15,180 --> 00:37:22,080
cost<font color="#E5E5E5"> default gateway the unicast our</font>

733
00:37:18,240 --> 00:37:24,060
reply would<font color="#CCCCCC"> be destined to the any cost</font>

734
00:37:22,080 --> 00:37:26,940
<font color="#CCCCCC">gateway mac and because this any cost</font>

735
00:37:24,060 --> 00:37:29,849
gateway is distributed across all<font color="#E5E5E5"> the</font>

736
00:37:26,940 --> 00:37:33,180
leaves<font color="#E5E5E5"> in that evpn instance the ARP</font>

737
00:37:29,849 --> 00:37:35,820
reply will be consumed locally<font color="#CCCCCC"> only for</font>

738
00:37:33,180 --> 00:37:39,509
itself<font color="#E5E5E5"> because</font><font color="#CCCCCC"> it</font><font color="#E5E5E5"> is destined to leave</font>

739
00:37:35,820 --> 00:37:43,280
force local<font color="#CCCCCC"> mac as</font><font color="#E5E5E5"> well so</font><font color="#CCCCCC"> d4 will</font>

740
00:37:39,510 --> 00:37:46,109
simply learn the local Mac IP of<font color="#CCCCCC"> VM be</font>

741
00:37:43,280 --> 00:37:49,230
install it in<font color="#E5E5E5"> its our table install it</font>

742
00:37:46,109 --> 00:37:50,490
in its routing table<font color="#E5E5E5"> and generate a</font>

743
00:37:49,230 --> 00:37:51,869
route type<font color="#E5E5E5"> to</font>

744
00:37:50,490 --> 00:37:54,450
which is a max<font color="#E5E5E5"> less IP route</font>

745
00:37:51,869 --> 00:37:57,630
advertisement in<font color="#E5E5E5"> evpn control plane</font>

746
00:37:54,450 --> 00:38:00,569
towards<font color="#E5E5E5"> to all the other leaves that</font><font color="#CCCCCC"> are</font>

747
00:37:57,630 --> 00:38:03,510
<font color="#E5E5E5">part of the layer 2 VPN and the layer 3</font>

748
00:38:00,570 --> 00:38:06,119
VPN<font color="#E5E5E5"> overlay in the data center so based</font>

749
00:38:03,510 --> 00:38:08,760
on this route all<font color="#CCCCCC"> the all the remote</font>

750
00:38:06,119 --> 00:38:12,330
leaves that<font color="#CCCCCC"> are part of the layer 2 VPN</font>

751
00:38:08,760 --> 00:38:15,630
overlay or rather<font color="#E5E5E5"> the evpn overlay will</font>

752
00:38:12,330 --> 00:38:18,900
install<font color="#E5E5E5"> VM B's</font><font color="#CCCCCC"> Mac entry in</font><font color="#E5E5E5"> their Mac</font>

753
00:38:15,630 --> 00:38:22,290
<font color="#E5E5E5">vrf and all the leaves that</font><font color="#CCCCCC"> are part of</font>

754
00:38:18,900 --> 00:38:25,860
the layer<font color="#E5E5E5"> 3 VPN overlay will install the</font>

755
00:38:22,290 --> 00:38:28,560
IP entry for<font color="#CCCCCC"> VM be in their IP vrf</font>

756
00:38:25,860 --> 00:38:34,800
pointing to leave for as the next hop

757
00:38:28,560 --> 00:38:39,779
router<font color="#E5E5E5"> so once these these entries</font><font color="#CCCCCC"> are</font>

758
00:38:34,800 --> 00:38:43,140
installed essentially now any inter

759
00:38:39,780 --> 00:38:45,780
subnet packet destined to VM B's IP will

760
00:38:43,140 --> 00:38:48,480
again go through an IP<font color="#E5E5E5"> vrf look up on</font>

761
00:38:45,780 --> 00:38:53,280
the ingress leaf this time ingress leaf

762
00:38:48,480 --> 00:38:55,440
will find an IP entry for that<font color="#E5E5E5"> VM B's IP</font>

763
00:38:53,280 --> 00:38:57,720
that was installed based on the route

764
00:38:55,440 --> 00:39:00,930
type<font color="#CCCCCC"> 2 advertisement from leaf for and</font>

765
00:38:57,720 --> 00:39:03,839
route the packet<font color="#E5E5E5"> to leave for next stop</font>

766
00:39:00,930 --> 00:39:07,770
the VPN encapsulation much like<font color="#CCCCCC"> layer</font><font color="#E5E5E5"> 3</font>

767
00:39:03,840 --> 00:39:10,200
VPN work will terminate only<font color="#E5E5E5"> for</font><font color="#CCCCCC"> leaf or</font>

768
00:39:07,770 --> 00:39:12,690
will do an IP lookup<font color="#E5E5E5"> find an ARP learnt</font>

769
00:39:10,200 --> 00:39:16,890
entry for V<font color="#E5E5E5"> and B and route the packet</font>

770
00:39:12,690 --> 00:39:19,859
<font color="#E5E5E5">to VM B so this is</font><font color="#CCCCCC"> where the symmetric</font>

771
00:39:16,890 --> 00:39:22,170
term sort<font color="#E5E5E5"> of comes from symmetric</font><font color="#CCCCCC"> our</font><font color="#E5E5E5"> B</font>

772
00:39:19,859 --> 00:39:24,630
term comes from<font color="#CCCCCC"> the fact that you know</font>

773
00:39:22,170 --> 00:39:28,040
the packet<font color="#E5E5E5"> gets routed on the ingress</font>

774
00:39:24,630 --> 00:39:30,990
leaves and routed on the egress<font color="#CCCCCC"> leaves</font>

775
00:39:28,040 --> 00:39:33,270
similarly any bridge traffic<font color="#E5E5E5"> intra</font>

776
00:39:30,990 --> 00:39:36,390
subnet traffic would hit the ingress

777
00:39:33,270 --> 00:39:40,050
<font color="#CCCCCC">leave</font><font color="#E5E5E5"> go through a Mac</font><font color="#CCCCCC"> vrf will look up</font>

778
00:39:36,390 --> 00:39:41,640
for the destination VM B's Mac and based

779
00:39:40,050 --> 00:39:44,460
on<font color="#CCCCCC"> that Mac look up it will get</font>

780
00:39:41,640 --> 00:39:47,069
forwarded<font color="#E5E5E5"> to the next hop leave for</font>

781
00:39:44,460 --> 00:39:49,830
leave<font color="#CCCCCC"> for will do another Mac lookup and</font>

782
00:39:47,070 --> 00:39:55,820
bridge the traffic towards<font color="#E5E5E5"> on the port</font>

783
00:39:49,830 --> 00:39:59,520
towards VM B so now to summarize

784
00:39:55,820 --> 00:40:02,109
basically<font color="#CCCCCC"> what we achieved is a unified</font>

785
00:39:59,520 --> 00:40:05,470
<font color="#E5E5E5">control plane in bgp evpn</font>

786
00:40:02,109 --> 00:40:07,720
across both<font color="#E5E5E5"> layer 2 and layer 3 within</font>

787
00:40:05,470 --> 00:40:10,359
the data<font color="#CCCCCC"> center</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> now this is where I</font>

788
00:40:07,720 --> 00:40:12,970
kind of want to mention that<font color="#CCCCCC"> evpn is</font>

789
00:40:10,359 --> 00:40:15,430
indeed a technology for layer 2 and

790
00:40:12,970 --> 00:40:18,038
layer 3 VPN services in the service

791
00:40:15,430 --> 00:40:21,339
provider core as well right<font color="#CCCCCC"> so by</font>

792
00:40:18,039 --> 00:40:23,460
<font color="#E5E5E5">bringing a VPN into the data center</font><font color="#CCCCCC"> you</font>

793
00:40:21,339 --> 00:40:26,619
<font color="#E5E5E5">truly have an opportunity to achieve</font>

794
00:40:23,460 --> 00:40:30,309
<font color="#CCCCCC">sort</font><font color="#E5E5E5"> of a single VPN control plane</font>

795
00:40:26,619 --> 00:40:33,069
across layer<font color="#CCCCCC"> 2 across</font><font color="#E5E5E5"> layer 3 across the</font>

796
00:40:30,309 --> 00:40:36,249
data center<font color="#E5E5E5"> and across the</font><font color="#CCCCCC"> sphere</font><font color="#E5E5E5"> and so</font>

797
00:40:33,069 --> 00:40:39,069
that<font color="#CCCCCC"> that's that itself is a compelling</font>

798
00:40:36,249 --> 00:40:41,379
sort of proposition in terms of you<font color="#CCCCCC"> know</font>

799
00:40:39,069 --> 00:40:46,599
<font color="#CCCCCC">the kind</font><font color="#E5E5E5"> of operational simplicity</font><font color="#CCCCCC"> that</font>

800
00:40:41,380 --> 00:40:49,839
that it enables by being able to stretch

801
00:40:46,599 --> 00:40:52,869
the evpn or layer 2 VPN anywhere within

802
00:40:49,839 --> 00:40:54,730
the data center<font color="#E5E5E5"> or even we didn't talk a</font>

803
00:40:52,869 --> 00:40:57,609
lot about<font color="#E5E5E5"> data center interconnection</font>

804
00:40:54,730 --> 00:41:00,579
this<font color="#E5E5E5"> but possibly even across data</font>

805
00:40:57,609 --> 00:41:02,680
centers<font color="#CCCCCC"> by being able</font><font color="#E5E5E5"> to stretch the</font>

806
00:41:00,579 --> 00:41:05,529
layer<font color="#CCCCCC"> 2 you have the flexibility to</font>

807
00:41:02,680 --> 00:41:08,140
place your workloads<font color="#E5E5E5"> anywhere in the</font>

808
00:41:05,529 --> 00:41:10,269
data center<font color="#CCCCCC"> you have the ability to move</font>

809
00:41:08,140 --> 00:41:13,450
your<font color="#E5E5E5"> workloads with live migration</font>

810
00:41:10,269 --> 00:41:16,450
<font color="#E5E5E5">across anywhere anywhere across</font><font color="#CCCCCC"> the</font>

811
00:41:13,450 --> 00:41:20,529
layer to overlay<font color="#CCCCCC"> now the</font><font color="#E5E5E5"> next point by</font>

812
00:41:16,450 --> 00:41:24,339
eliminating flood and learn and by

813
00:41:20,529 --> 00:41:25,749
bringing<font color="#E5E5E5"> in ecmp both in the overlay and</font>

814
00:41:24,339 --> 00:41:28,960
in the underlay

815
00:41:25,749 --> 00:41:31,689
so overlay VPN ecmp that<font color="#E5E5E5"> it's enabling</font>

816
00:41:28,960 --> 00:41:34,269
both for<font color="#CCCCCC"> Mac and IP router traffic as</font>

817
00:41:31,690 --> 00:41:38,039
well<font color="#E5E5E5"> as</font><font color="#CCCCCC"> your underlay fabric being a</font>

818
00:41:34,269 --> 00:41:41,169
standard IP routed fabric you have<font color="#E5E5E5"> ecmp</font>

819
00:41:38,039 --> 00:41:43,720
semantics both<font color="#CCCCCC"> ecmp load balancing per</font>

820
00:41:41,170 --> 00:41:46,960
flow both in the overlay<font color="#E5E5E5"> and in the</font>

821
00:41:43,720 --> 00:41:50,680
underlay you really achieve a highly

822
00:41:46,960 --> 00:41:54,359
optimal<font color="#CCCCCC"> Network fabric or a data center</font>

823
00:41:50,680 --> 00:41:57,669
fabric where you can<font color="#E5E5E5"> sort of aim to</font>

824
00:41:54,359 --> 00:42:01,480
really utilize your network resources<font color="#CCCCCC"> to</font>

825
00:41:57,670 --> 00:42:04,180
to the maximum depending<font color="#E5E5E5"> on what kind of</font>

826
00:42:01,480 --> 00:42:07,210
underlay fabrics<font color="#E5E5E5"> you deploy whether it's</font>

827
00:42:04,180 --> 00:42:09,848
a standard IP or MPLS fabric or

828
00:42:07,210 --> 00:42:11,980
potentially a segment routed fabric you

829
00:42:09,849 --> 00:42:14,370
<font color="#CCCCCC">have additional capabilities in your</font>

830
00:42:11,980 --> 00:42:17,170
underlay such as traffic steering

831
00:42:14,370 --> 00:42:21,130
ecmp we already talked about<font color="#E5E5E5"> as well</font><font color="#CCCCCC"> as</font>

832
00:42:17,170 --> 00:42:23,680
<font color="#CCCCCC">fast reroute</font><font color="#E5E5E5"> kind of features the</font>

833
00:42:21,130 --> 00:42:26,650
distributed symmetric IRB<font color="#CCCCCC"> they're able</font>

834
00:42:23,680 --> 00:42:30,120
<font color="#E5E5E5">to scale the data center horizontally up</font>

835
00:42:26,650 --> 00:42:32,830
as your data center needs increase

836
00:42:30,120 --> 00:42:35,650
multi-tenancy with both layer 2 and

837
00:42:32,830 --> 00:42:39,160
layer 3 VPN<font color="#E5E5E5"> enabled in the data center</font>

838
00:42:35,650 --> 00:42:41,260
and this<font color="#E5E5E5"> last point about inter working</font>

839
00:42:39,160 --> 00:42:45,129
with legacy<font color="#CCCCCC"> l2 VPN and l3 VPN</font>

840
00:42:41,260 --> 00:42:47,830
technologies<font color="#E5E5E5"> we we didn't really have</font>

841
00:42:45,130 --> 00:42:50,230
the<font color="#E5E5E5"> bandwidth to get into that topic in</font>

842
00:42:47,830 --> 00:42:52,060
much detail in<font color="#CCCCCC"> this presentation</font><font color="#E5E5E5"> but I</font>

843
00:42:50,230 --> 00:42:53,980
<font color="#E5E5E5">just wanted</font><font color="#CCCCCC"> to at least mention that it</font>

844
00:42:52,060 --> 00:42:58,270
is<font color="#CCCCCC"> a technology that inter works with</font>

845
00:42:53,980 --> 00:43:04,330
legacy l3 VPNs and legacy<font color="#CCCCCC"> l2v being such</font>

846
00:42:58,270 --> 00:43:06,520
as<font color="#E5E5E5"> VPLS so with that</font><font color="#CCCCCC"> thanks</font><font color="#E5E5E5"> very much</font>

847
00:43:04,330 --> 00:43:15,310
and<font color="#E5E5E5"> I would like</font><font color="#CCCCCC"> to open</font><font color="#E5E5E5"> it up for</font><font color="#CCCCCC"> any</font>

848
00:43:06,520 --> 00:43:20,800
<font color="#E5E5E5">questions hi</font><font color="#CCCCCC"> Teddy</font><font color="#E5E5E5"> Brandenburg with IBM</font>

849
00:43:15,310 --> 00:43:23,830
<font color="#E5E5E5">software</font><font color="#CCCCCC"> I'm wondering if the summarized</font>

850
00:43:20,800 --> 00:43:25,150
<font color="#CCCCCC">or sorry the symmetric IRB</font><font color="#E5E5E5"> it sounds</font>

851
00:43:23,830 --> 00:43:27,130
like a good solution<font color="#E5E5E5"> I'm always looking</font>

852
00:43:25,150 --> 00:43:29,200
to get more<font color="#CCCCCC"> gateway access for any sort</font>

853
00:43:27,130 --> 00:43:30,970
<font color="#CCCCCC">of player</font><font color="#E5E5E5"> to extension but it looks like</font>

854
00:43:29,200 --> 00:43:33,370
it would<font color="#E5E5E5"> have a pretty big impact on</font>

855
00:43:30,970 --> 00:43:36,069
routing tables because you're<font color="#E5E5E5"> doing far</font>

856
00:43:33,370 --> 00:43:38,020
less route summarization<font color="#CCCCCC"> so how might</font>

857
00:43:36,070 --> 00:43:41,740
that scale and<font color="#CCCCCC"> how might that impacts</font>

858
00:43:38,020 --> 00:43:46,060
your horizontal<font color="#CCCCCC"> scaling so you mean the</font>

859
00:43:41,740 --> 00:43:48,160
<font color="#CCCCCC">VPN routing table on the leaf</font><font color="#E5E5E5"> just so</font>

860
00:43:46,060 --> 00:43:54,210
you're concerned<font color="#E5E5E5"> about that your leaves</font>

861
00:43:48,160 --> 00:43:56,740
have to be capable<font color="#E5E5E5"> of VPN routing or</font>

862
00:43:54,210 --> 00:44:00,490
sorry could you repeat<font color="#E5E5E5"> exactly what is</font>

863
00:43:56,740 --> 00:44:04,509
<font color="#E5E5E5">your concern I'm possibly mistaken feel</font>

864
00:44:00,490 --> 00:44:05,770
free<font color="#E5E5E5"> to</font><font color="#CCCCCC"> carry off but if you're</font><font color="#E5E5E5"> taking</font>

865
00:44:04,510 --> 00:44:07,450
what would have<font color="#E5E5E5"> been previously</font>

866
00:44:05,770 --> 00:44:09,610
summarized routes and<font color="#E5E5E5"> now you're just</font>

867
00:44:07,450 --> 00:44:11,439
dealing<font color="#E5E5E5"> with 32s</font><font color="#CCCCCC"> calling network so you</font>

868
00:44:09,610 --> 00:44:15,190
<font color="#E5E5E5">have a large increase</font><font color="#CCCCCC"> in your</font><font color="#E5E5E5"> routing</font>

869
00:44:11,440 --> 00:44:18,130
table slide yeah so yeah I get the

870
00:44:15,190 --> 00:44:19,960
question<font color="#E5E5E5"> so so basically like if you're</font>

871
00:44:18,130 --> 00:44:21,580
just<font color="#CCCCCC"> doing north-south routing right you</font>

872
00:44:19,960 --> 00:44:24,400
can live with summarized<font color="#CCCCCC"> routes</font>

873
00:44:21,580 --> 00:44:26,700
so that's the bottom<font color="#CCCCCC"> line</font><font color="#E5E5E5"> I mean the</font>

874
00:44:24,400 --> 00:44:31,710
<font color="#CCCCCC">moment you stretch your</font>

875
00:44:26,700 --> 00:44:34,589
<font color="#CCCCCC">- across multiple leaves</font><font color="#E5E5E5"> you you you no</font>

876
00:44:31,710 --> 00:44:37,470
longer have the<font color="#E5E5E5"> ability</font><font color="#CCCCCC"> to do east-west</font>

877
00:44:34,589 --> 00:44:38,460
routing within<font color="#E5E5E5"> the data center using</font>

878
00:44:37,470 --> 00:44:40,410
<font color="#E5E5E5">summarized</font><font color="#CCCCCC"> roles</font>

879
00:44:38,460 --> 00:44:43,470
so there's<font color="#E5E5E5"> really sort of</font><font color="#CCCCCC"> no way around</font>

880
00:44:40,410 --> 00:44:45,480
<font color="#E5E5E5">that I mean once you have the layer</font><font color="#CCCCCC"> two</font>

881
00:44:43,470 --> 00:44:49,799
stretched or the VLAN stretched across

882
00:44:45,480 --> 00:44:52,109
multiple domains<font color="#CCCCCC"> especially to achieve</font>

883
00:44:49,800 --> 00:44:55,320
optimal<font color="#E5E5E5"> routing where you can ensure</font>

884
00:44:52,109 --> 00:44:59,069
that your route is or the<font color="#CCCCCC"> destination is</font>

885
00:44:55,320 --> 00:45:02,310
always<font color="#E5E5E5"> just</font><font color="#CCCCCC"> one hop away</font><font color="#E5E5E5"> in in a</font>

886
00:44:59,070 --> 00:45:06,780
traditional sort of<font color="#CCCCCC"> spin aspyn</font><font color="#E5E5E5"> Leafs</font>

887
00:45:02,310 --> 00:45:09,509
topology then<font color="#E5E5E5"> then you do need to</font>

888
00:45:06,780 --> 00:45:12,290
install the slash three<font color="#E5E5E5"> two routes so so</font>

889
00:45:09,510 --> 00:45:15,200
so yeah I mean in terms<font color="#E5E5E5"> of the scale</font>

890
00:45:12,290 --> 00:45:18,060
there<font color="#CCCCCC"> is that that's where we achieve</font>

891
00:45:15,200 --> 00:45:20,609
somewhat better scale or in fact

892
00:45:18,060 --> 00:45:23,220
<font color="#CCCCCC">significantly better State scaled by not</font>

893
00:45:20,609 --> 00:45:27,089
installing<font color="#CCCCCC"> art entries</font><font color="#E5E5E5"> but instead of</font>

894
00:45:23,220 --> 00:45:29,368
<font color="#E5E5E5">installing our pen trees you know we</font>

895
00:45:27,089 --> 00:45:32,069
install like a layer<font color="#E5E5E5"> 3 VPN route for</font>

896
00:45:29,369 --> 00:45:36,000
<font color="#E5E5E5">that / 32 which scales much better than</font>

897
00:45:32,069 --> 00:45:39,540
than the ARP scale<font color="#E5E5E5"> and I mean even with</font>

898
00:45:36,000 --> 00:45:41,550
<font color="#E5E5E5">much in silicon we I mean you do have at</font>

899
00:45:39,540 --> 00:45:43,380
least the routing capabilities are in

900
00:45:41,550 --> 00:45:49,380
you know<font color="#E5E5E5"> at least couple of million</font>

901
00:45:43,380 --> 00:45:50,609
routes on on on the<font color="#E5E5E5"> tours</font><font color="#CCCCCC"> okay I think</font>

902
00:45:49,380 --> 00:45:52,560
<font color="#CCCCCC">that's</font><font color="#E5E5E5"> for all the time we have</font><font color="#CCCCCC"> for</font>

903
00:45:50,609 --> 00:45:54,680
questions so thank you very<font color="#E5E5E5"> much thank</font>

904
00:45:52,560 --> 00:45:54,680
you

