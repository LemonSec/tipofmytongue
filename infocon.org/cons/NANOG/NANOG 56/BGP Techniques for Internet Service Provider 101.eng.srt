1
00:00:00,060 --> 00:00:10,019
yes<font color="#E5E5E5"> okay so</font><font color="#CCCCCC"> my name is David pronto I'm</font>

2
00:00:05,720 --> 00:00:11,849
<font color="#CCCCCC">Jamie</font><font color="#E5E5E5"> Cisco so I'll be presenting</font><font color="#CCCCCC"> be</font>

3
00:00:10,019 --> 00:00:17,009
<font color="#E5E5E5">technical which be techniques for</font>

4
00:00:11,849 --> 00:00:22,198
service providers<font color="#E5E5E5"> so the main</font><font color="#CCCCCC"> objective</font>

5
00:00:17,010 --> 00:00:25,560
is just<font color="#CCCCCC"> cover BGP basics discuss scaling</font>

6
00:00:22,199 --> 00:00:28,640
techniques and best practices<font color="#CCCCCC"> I would</font>

7
00:00:25,560 --> 00:00:33,149
like<font color="#E5E5E5"> to acknowledge lips miss who</font>

8
00:00:28,640 --> 00:00:35,880
originally developed<font color="#E5E5E5"> this tutorial so we</font>

9
00:00:33,149 --> 00:00:37,290
are<font color="#E5E5E5"> just continuing that</font><font color="#CCCCCC"> toriel</font><font color="#E5E5E5"> he did</font>

10
00:00:35,880 --> 00:00:41,660
most<font color="#E5E5E5"> of the work I just</font><font color="#CCCCCC"> updated it</font><font color="#E5E5E5"> a</font>

11
00:00:37,290 --> 00:00:44,250
little<font color="#E5E5E5"> bit</font><font color="#CCCCCC"> there will be a self-guided</font>

12
00:00:41,660 --> 00:00:49,440
<font color="#E5E5E5">map available practice lab available and</font>

13
00:00:44,250 --> 00:00:52,829
will give you directions or guides on

14
00:00:49,440 --> 00:00:54,510
how<font color="#CCCCCC"> to use the practice lab</font><font color="#E5E5E5"> will</font>

15
00:00:52,829 --> 00:00:56,640
distribute<font color="#E5E5E5"> the guides so it's not going</font>

16
00:00:54,510 --> 00:00:59,160
to be you<font color="#E5E5E5"> know it we are not</font><font color="#CCCCCC"> going to</font><font color="#E5E5E5"> do</font>

17
00:00:56,640 --> 00:01:02,340
the lab during<font color="#E5E5E5"> this session</font><font color="#CCCCCC"> so it is</font>

18
00:00:59,160 --> 00:01:04,890
something<font color="#CCCCCC"> that</font><font color="#E5E5E5"> you can do for the next</font>

19
00:01:02,340 --> 00:01:08,430
<font color="#E5E5E5">one</font><font color="#CCCCCC"> week I will keep it up for</font><font color="#E5E5E5"> one week</font>

20
00:01:04,890 --> 00:01:12,630
<font color="#E5E5E5">and you can practice any time during</font>

21
00:01:08,430 --> 00:01:15,270
<font color="#E5E5E5">that one week and you'll be assigned a</font>

22
00:01:12,630 --> 00:01:18,240
<font color="#CCCCCC">lab part</font><font color="#E5E5E5"> at the end of these sessions</font>

23
00:01:15,270 --> 00:01:22,880
will give you the<font color="#E5E5E5"> part number</font><font color="#CCCCCC"> and a link</font>

24
00:01:18,240 --> 00:01:22,880
<font color="#CCCCCC">to the lab guide</font>

25
00:01:25,290 --> 00:01:30,660
so<font color="#CCCCCC"> debate the agenda is</font><font color="#E5E5E5"> its</font><font color="#CCCCCC"> this session</font>

26
00:01:28,290 --> 00:01:35,070
<font color="#E5E5E5">is divided into two sessions the 101</font><font color="#CCCCCC"> and</font>

27
00:01:30,660 --> 00:01:38,539
<font color="#CCCCCC">102 so the first session until 3:30 will</font>

28
00:01:35,070 --> 00:01:42,990
focus on which<font color="#CCCCCC"> be basic which be scaling</font>

29
00:01:38,540 --> 00:01:46,050
and communities and then we'll<font color="#E5E5E5"> discuss</font>

30
00:01:42,990 --> 00:01:49,070
about<font color="#E5E5E5"> the</font><font color="#CCCCCC"> lab logistics</font><font color="#E5E5E5"> just briefly and</font>

31
00:01:46,050 --> 00:01:58,130
second session<font color="#E5E5E5"> will deploy will focus on</font>

32
00:01:49,070 --> 00:02:01,889
<font color="#CCCCCC">bgp deployment and best practices</font><font color="#E5E5E5"> okay</font>

33
00:01:58,130 --> 00:02:07,380
so the first section will cover what's

34
00:02:01,890 --> 00:02:11,520
BGP BGP attributes which<font color="#CCCCCC"> piece path the</font>

35
00:02:07,380 --> 00:02:15,210
base path selection algorithm and how<font color="#CCCCCC"> to</font>

36
00:02:11,520 --> 00:02:20,430
apply BGP policy and which<font color="#CCCCCC"> be capability</font>

37
00:02:15,210 --> 00:02:23,040
exchange<font color="#E5E5E5"> we have a lot of topic to cover</font>

38
00:02:20,430 --> 00:02:26,430
<font color="#E5E5E5">so we'll be going quickly through these</font>

39
00:02:23,040 --> 00:02:30,120
slides<font color="#E5E5E5"> so I apologize for that</font>

40
00:02:26,430 --> 00:02:32,810
so<font color="#CCCCCC"> what's BGP BGP is a</font><font color="#E5E5E5"> routing protocol</font>

41
00:02:30,120 --> 00:02:35,730
<font color="#E5E5E5">used for exchanging routes between</font>

42
00:02:32,810 --> 00:02:37,290
different<font color="#CCCCCC"> autonomous systems</font><font color="#E5E5E5"> although it</font>

43
00:02:35,730 --> 00:02:41,000
can<font color="#CCCCCC"> be</font><font color="#E5E5E5"> used within just a single</font>

44
00:02:37,290 --> 00:02:46,799
autonomous<font color="#E5E5E5"> system it's described in RFC</font>

45
00:02:41,000 --> 00:02:51,209
<font color="#E5E5E5">42 71 and several</font><font color="#CCCCCC"> correlated RFC's</font><font color="#E5E5E5"> the</font>

46
00:02:46,800 --> 00:02:56,940
ITF working group is<font color="#CCCCCC"> Internet</font><font color="#E5E5E5"> domain</font>

47
00:02:51,209 --> 00:02:59,940
routing and<font color="#E5E5E5"> secure idea so the tour the</font>

48
00:02:56,940 --> 00:03:02,340
<font color="#CCCCCC">main working groups and</font><font color="#E5E5E5"> you have the</font>

49
00:02:59,940 --> 00:03:07,709
links there in case you don't<font color="#CCCCCC"> have</font><font color="#E5E5E5"> those</font>

50
00:03:02,340 --> 00:03:09,840
links<font color="#E5E5E5"> so alternate system is the</font>

51
00:03:07,709 --> 00:03:13,850
cornerstone of BGP<font color="#CCCCCC"> and</font><font color="#E5E5E5"> we'll discuss</font>

52
00:03:09,840 --> 00:03:13,850
<font color="#CCCCCC">about</font><font color="#E5E5E5"> the autonomous system</font>

53
00:03:20,700 --> 00:03:26,109
<font color="#CCCCCC">so what's autonomous system it is a</font>

54
00:03:22,720 --> 00:03:28,660
collection of networks<font color="#E5E5E5"> within a single</font>

55
00:03:26,110 --> 00:03:33,010
<font color="#CCCCCC">item is to administration</font><font color="#E5E5E5"> they have a</font>

56
00:03:28,660 --> 00:03:35,829
single internal<font color="#CCCCCC"> rafting or IGP until</font>

57
00:03:33,010 --> 00:03:37,510
gateway routing<font color="#E5E5E5"> protocol</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> usually</font>

58
00:03:35,830 --> 00:03:40,900
they are under a single administration

59
00:03:37,510 --> 00:03:46,390
<font color="#E5E5E5">and they have but it has a consistent</font>

60
00:03:40,900 --> 00:03:50,230
policy within<font color="#E5E5E5"> that stuff typically it</font>

61
00:03:46,390 --> 00:03:52,149
will have automata member as<font color="#CCCCCC"> are</font><font color="#E5E5E5"> two</font>

62
00:03:50,230 --> 00:03:57,310
octet or<font color="#E5E5E5"> a four octets and we'll discuss</font>

63
00:03:52,150 --> 00:04:01,030
that<font color="#E5E5E5"> later</font><font color="#CCCCCC"> on so alternate system</font>

64
00:03:57,310 --> 00:04:06,239
numbers the<font color="#CCCCCC"> - okay total</font><font color="#E5E5E5"> s number ranged</font>

65
00:04:01,030 --> 00:04:10,030
from zero to<font color="#E5E5E5"> six five thousand and</font>

66
00:04:06,239 --> 00:04:14,680
thirty-two bits range is from<font color="#E5E5E5"> that up to</font>

67
00:04:10,030 --> 00:04:23,830
to the power of 32<font color="#CCCCCC"> which is</font><font color="#E5E5E5"> about four</font>

68
00:04:14,680 --> 00:04:28,930
billion<font color="#CCCCCC"> and the zero and 65535 are</font>

69
00:04:23,830 --> 00:04:31,000
reserved<font color="#E5E5E5"> it and there is also some block</font>

70
00:04:28,930 --> 00:04:33,280
reserved for documentation<font color="#E5E5E5"> purpose to</font>

71
00:04:31,000 --> 00:04:36,370
avoid<font color="#E5E5E5"> confusion so that people don't</font>

72
00:04:33,280 --> 00:04:40,510
<font color="#CCCCCC">just copy and paste</font><font color="#E5E5E5"> I reload on a system</font>

73
00:04:36,370 --> 00:04:45,270
number and there<font color="#E5E5E5"> is also block set up</font>

74
00:04:40,510 --> 00:04:45,270
just for private<font color="#E5E5E5"> zone system numbers</font>

75
00:04:49,190 --> 00:04:55,590
the<font color="#E5E5E5"> ultimatum numbers are disputed by</font>

76
00:04:52,320 --> 00:04:57,240
<font color="#CCCCCC">the by the registries so you can get off</font>

77
00:04:55,590 --> 00:05:01,320
<font color="#CCCCCC">mr. numbers from the registries as</font>

78
00:04:57,240 --> 00:05:08,370
<font color="#CCCCCC">Kristine bits or 32</font><font color="#E5E5E5"> bits ozone system</font>

79
00:05:01,320 --> 00:05:13,320
<font color="#E5E5E5">number so to come back to the</font><font color="#CCCCCC"> BGP</font><font color="#E5E5E5"> basics</font>

80
00:05:08,370 --> 00:05:17,520
of BGP<font color="#E5E5E5"> the protocol runs over TCP port</font>

81
00:05:13,320 --> 00:05:21,000
179<font color="#E5E5E5"> it uses a distance vector it's a</font>

82
00:05:17,520 --> 00:05:23,549
distance vector<font color="#E5E5E5"> protocol it</font>

83
00:05:21,000 --> 00:05:26,910
<font color="#CCCCCC">peirong is</font><font color="#E5E5E5"> the cornerstone</font><font color="#CCCCCC"> so you will</font>

84
00:05:23,550 --> 00:05:28,830
have peering within the single

85
00:05:26,910 --> 00:05:31,380
<font color="#CCCCCC">autonomous system or between</font><font color="#E5E5E5"> autonomous</font>

86
00:05:28,830 --> 00:05:34,380
systems<font color="#E5E5E5"> and we'll discuss that</font><font color="#CCCCCC"> so that's</font>

87
00:05:31,380 --> 00:05:36,719
internal and external be peering and it

88
00:05:34,380 --> 00:05:39,090
uses<font color="#E5E5E5"> incremental update so it doesn't</font>

89
00:05:36,720 --> 00:05:42,060
<font color="#CCCCCC">just dump the entire out every time it</font>

90
00:05:39,090 --> 00:05:43,700
<font color="#CCCCCC">does</font><font color="#E5E5E5"> up top this so when you when you</font>

91
00:05:42,060 --> 00:05:47,250
start<font color="#E5E5E5"> you'll get the full update</font>

92
00:05:43,700 --> 00:05:48,960
depending<font color="#CCCCCC"> on the policy</font><font color="#E5E5E5"> but as things</font>

93
00:05:47,250 --> 00:05:51,510
change you<font color="#E5E5E5"> get incremental updates</font>

94
00:05:48,960 --> 00:05:53,900
incremental<font color="#E5E5E5"> app advertisements or</font>

95
00:05:51,510 --> 00:05:53,900
withdrawals

96
00:05:54,470 --> 00:06:00,120
<font color="#CCCCCC">another term that you need to be</font>

97
00:05:57,450 --> 00:06:02,640
familiar<font color="#E5E5E5"> with at the MZ in this context</font>

98
00:06:00,120 --> 00:06:04,260
means<font color="#E5E5E5"> in the BGP context means the</font>

99
00:06:02,640 --> 00:06:06,810
shared network between<font color="#E5E5E5"> different</font>

100
00:06:04,260 --> 00:06:10,560
<font color="#CCCCCC">autonomous systems so in this case the</font>

101
00:06:06,810 --> 00:06:13,320
link between a and C<font color="#E5E5E5"> is a TMZ</font><font color="#CCCCCC"> or the</font>

102
00:06:10,560 --> 00:06:16,680
broadcast network between<font color="#E5E5E5"> B D</font><font color="#CCCCCC"> and E is</font>

103
00:06:13,320 --> 00:06:22,740
<font color="#E5E5E5">also a DMZ so and there are three</font>

104
00:06:16,680 --> 00:06:25,470
autonomous systems so the general

105
00:06:22,740 --> 00:06:28,770
<font color="#E5E5E5">operation is BGP learners multiple paths</font>

106
00:06:25,470 --> 00:06:32,400
we are internal<font color="#CCCCCC"> and external</font><font color="#E5E5E5"> BGP peering</font>

107
00:06:28,770 --> 00:06:35,490
and then it selects<font color="#CCCCCC"> the best paths based</font>

108
00:06:32,400 --> 00:06:38,030
<font color="#E5E5E5">on baseball algorithm and then installs</font>

109
00:06:35,490 --> 00:06:41,550
the base pass into the routing table and

110
00:06:38,030 --> 00:06:44,130
then advertises a base<font color="#E5E5E5"> pass to neighbors</font>

111
00:06:41,550 --> 00:06:46,940
to external neighbors as well<font color="#E5E5E5"> as</font>

112
00:06:44,130 --> 00:06:46,940
internal neighbors

113
00:06:50,199 --> 00:07:00,020
so we have both<font color="#E5E5E5"> internal and external</font>

114
00:06:56,410 --> 00:07:06,530
<font color="#CCCCCC">peeling or use of PGP internally and</font>

115
00:07:00,020 --> 00:07:09,859
externally with<font color="#CCCCCC"> ibgp is normally used to</font>

116
00:07:06,530 --> 00:07:13,638
carry internal routes like customer

117
00:07:09,860 --> 00:07:18,860
prefixes<font color="#CCCCCC"> as well as internal</font>

118
00:07:13,639 --> 00:07:22,370
infrastructure prefixes<font color="#E5E5E5"> but ebgp is used</font>

119
00:07:18,860 --> 00:07:24,880
to advertise summarize the prefix

120
00:07:22,370 --> 00:07:29,810
essentially<font color="#E5E5E5"> or aggregated prefixes and</font>

121
00:07:24,880 --> 00:07:33,380
<font color="#E5E5E5">exchange external routes so here is a</font>

122
00:07:29,810 --> 00:07:36,880
conceptual representation<font color="#E5E5E5"> so here you</font>

123
00:07:33,380 --> 00:07:40,070
have<font color="#CCCCCC"> four autonomous systems</font>

124
00:07:36,880 --> 00:07:42,560
interconnected linearly<font color="#E5E5E5"> and within each</font>

125
00:07:40,070 --> 00:07:44,840
<font color="#CCCCCC">one of them there is interrogate with</font>

126
00:07:42,560 --> 00:07:47,389
protocol<font color="#E5E5E5"> running within the network so</font>

127
00:07:44,840 --> 00:07:47,989
those are separated they do not talk to

128
00:07:47,389 --> 00:07:49,940
one<font color="#CCCCCC"> another</font>

129
00:07:47,990 --> 00:07:54,740
the<font color="#CCCCCC"> idea is between autonomous systems</font>

130
00:07:49,940 --> 00:07:56,870
<font color="#CCCCCC">and there is external ebgp between the</font>

131
00:07:54,740 --> 00:08:02,950
autonomous systems<font color="#E5E5E5"> and there is internal</font>

132
00:07:56,870 --> 00:08:02,950
<font color="#E5E5E5">ibgp between</font><font color="#CCCCCC"> wizz and alternate systems</font>

133
00:08:05,440 --> 00:08:11,000
so between<font color="#CCCCCC"> bgp speakers of different</font><font color="#E5E5E5"> SS</font>

134
00:08:08,930 --> 00:08:15,460
you will have a BGP and is usually<font color="#CCCCCC"> used</font>

135
00:08:11,000 --> 00:08:19,220
on<font color="#CCCCCC"> a directly connected interface and</font>

136
00:08:15,460 --> 00:08:22,219
you<font color="#E5E5E5"> don't run any</font><font color="#CCCCCC"> ibgp IGP entire</font>

137
00:08:19,220 --> 00:08:23,720
gateway protocol<font color="#CCCCCC"> on that DMZ</font><font color="#E5E5E5"> so those of</font>

138
00:08:22,220 --> 00:08:25,990
<font color="#E5E5E5">the game is the links on the</font><font color="#CCCCCC"> name of the</font>

139
00:08:23,720 --> 00:08:27,110
link<font color="#E5E5E5"> you don't run ibid P protocol</font>

140
00:08:25,990 --> 00:08:30,430
Europe

141
00:08:27,110 --> 00:08:30,430
you only run a BGP

142
00:08:34,809 --> 00:08:43,280
so so I<font color="#E5E5E5"> believe the ibgp</font>

143
00:08:40,039 --> 00:08:49,670
is between routers running the same

144
00:08:43,280 --> 00:08:52,329
<font color="#CCCCCC">alternate system ibgp speakers do not</font>

145
00:08:49,670 --> 00:08:54,949
have to be directly<font color="#CCCCCC"> connected the</font>

146
00:08:52,330 --> 00:08:58,550
variability between<font color="#E5E5E5"> ibgp speakers is</font>

147
00:08:54,950 --> 00:09:03,950
taking care<font color="#E5E5E5"> of by</font><font color="#CCCCCC"> IGP their</font><font color="#E5E5E5"> gateway</font>

148
00:08:58,550 --> 00:09:06,109
<font color="#E5E5E5">protocol so they don't need to run they</font>

149
00:09:03,950 --> 00:09:07,670
don't have to be directly connected<font color="#E5E5E5"> but</font>

150
00:09:06,110 --> 00:09:11,860
there's a requirement<font color="#E5E5E5"> to be fully meshed</font>

151
00:09:07,670 --> 00:09:17,569
<font color="#E5E5E5">and</font><font color="#CCCCCC"> we'll</font><font color="#E5E5E5"> discuss</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> later on how to</font>

152
00:09:11,860 --> 00:09:20,330
mitigate<font color="#E5E5E5"> that</font><font color="#CCCCCC"> scalability issue it is</font>

153
00:09:17,570 --> 00:09:23,930
topology independent so<font color="#E5E5E5"> you just run</font>

154
00:09:20,330 --> 00:09:27,260
because<font color="#E5E5E5"> it runs on top of TCP and it</font>

155
00:09:23,930 --> 00:09:30,650
<font color="#E5E5E5">uses</font><font color="#CCCCCC"> IGP as to reach one another between</font>

156
00:09:27,260 --> 00:09:36,040
<font color="#E5E5E5">the routers the it doesn't depend on</font><font color="#CCCCCC"> the</font>

157
00:09:30,650 --> 00:09:40,490
topology of the internal network<font color="#CCCCCC"> okay</font>

158
00:09:36,040 --> 00:09:43,160
the peering between<font color="#E5E5E5"> I I be GP speakers</font>

159
00:09:40,490 --> 00:09:44,860
or the peering between<font color="#CCCCCC"> BGP speakers</font>

160
00:09:43,160 --> 00:09:47,510
within<font color="#E5E5E5"> the same autonomous system is</font>

161
00:09:44,860 --> 00:09:50,180
typically<font color="#E5E5E5"> done using a loopback IP</font>

162
00:09:47,510 --> 00:09:52,520
address you can<font color="#CCCCCC"> do it</font><font color="#E5E5E5"> using interface IP</font>

163
00:09:50,180 --> 00:09:54,890
address but if you do that whenever the

164
00:09:52,520 --> 00:09:57,860
interface<font color="#CCCCCC"> flops</font><font color="#E5E5E5"> then the peering flops</font>

165
00:09:54,890 --> 00:10:02,569
which is not really necessary<font color="#E5E5E5"> and it has</font>

166
00:09:57,860 --> 00:10:04,670
adverse effects<font color="#E5E5E5"> so BGP appearing within</font>

167
00:10:02,570 --> 00:10:08,380
an autonomous<font color="#CCCCCC"> system is done between</font>

168
00:10:04,670 --> 00:10:08,380
loopback IP addresses

169
00:10:12,300 --> 00:10:19,930
so the key for<font color="#E5E5E5"> BGP</font><font color="#CCCCCC"> is each update or</font>

170
00:10:16,420 --> 00:10:21,790
each route has attributes<font color="#CCCCCC"> and there are</font>

171
00:10:19,930 --> 00:10:24,010
different attributes and those

172
00:10:21,790 --> 00:10:28,719
attributes are<font color="#E5E5E5"> used for path selection</font>

173
00:10:24,010 --> 00:10:30,520
policy enforcement's<font color="#CCCCCC"> signaling</font>

174
00:10:28,720 --> 00:10:32,830
information<font color="#CCCCCC"> and so</font><font color="#E5E5E5"> on and we'll discuss</font>

175
00:10:30,520 --> 00:10:37,480
each one<font color="#E5E5E5"> of them so one of the key</font>

176
00:10:32,830 --> 00:10:40,029
attributes<font color="#CCCCCC"> is</font><font color="#E5E5E5"> a spots as path is the</font>

177
00:10:37,480 --> 00:10:43,710
<font color="#E5E5E5">path</font><font color="#CCCCCC"> traverse it further up it to reach</font>

178
00:10:40,029 --> 00:10:50,500
to this router or this autonomous system

179
00:10:43,710 --> 00:10:53,200
so it is used to decide on the base

180
00:10:50,500 --> 00:10:56,890
paths<font color="#E5E5E5"> longer path means less preferred</font>

181
00:10:53,200 --> 00:10:58,060
than shorter paths when it says<font color="#CCCCCC"> path</font>

182
00:10:56,890 --> 00:11:01,720
here<font color="#E5E5E5"> in terms of the number of</font>

183
00:10:58,060 --> 00:11:04,180
autonomous systems it troubles<font color="#CCCCCC"> although</font>

184
00:11:01,720 --> 00:11:06,010
you can call with BGP there's a lot of

185
00:11:04,180 --> 00:11:10,300
policy flexibility so you can override

186
00:11:06,010 --> 00:11:12,850
<font color="#E5E5E5">that</font><font color="#CCCCCC"> but that's usually done with the</font>

187
00:11:10,300 --> 00:11:16,990
<font color="#CCCCCC">number the</font><font color="#E5E5E5"> amount of</font><font color="#CCCCCC"> path is used as a</font>

188
00:11:12,850 --> 00:11:21,850
path selection second one and very

189
00:11:16,990 --> 00:11:24,790
important is loop detection when and

190
00:11:21,850 --> 00:11:27,970
we'll see that how that's<font color="#E5E5E5"> done but here</font>

191
00:11:24,790 --> 00:11:33,430
you can see<font color="#E5E5E5"> that the</font><font color="#CCCCCC"> route</font>

192
00:11:27,970 --> 00:11:35,470
received in ace 400 has two different

193
00:11:33,430 --> 00:11:38,229
<font color="#CCCCCC">routes to</font><font color="#E5E5E5"> different was received there</font>

194
00:11:35,470 --> 00:11:42,339
<font color="#E5E5E5">and</font><font color="#CCCCCC"> you'll see the</font><font color="#E5E5E5"> a s pass the first</font>

195
00:11:38,230 --> 00:11:44,680
one has<font color="#CCCCCC"> 300</font><font color="#E5E5E5"> 200 100 it's usually the</font>

196
00:11:42,339 --> 00:11:47,760
last<font color="#E5E5E5"> one is where the routes originated</font>

197
00:11:44,680 --> 00:11:51,790
and the first one is where<font color="#E5E5E5"> the immediate</font>

198
00:11:47,760 --> 00:11:54,370
autonomous system so<font color="#E5E5E5"> for this case</font><font color="#CCCCCC"> the</font>

199
00:11:51,790 --> 00:11:56,980
<font color="#E5E5E5">alternated in is hundred and two</font>

200
00:11:54,370 --> 00:12:00,390
received from<font color="#E5E5E5"> s 300 and it has gone</font>

201
00:11:56,980 --> 00:12:00,390
through s 200

202
00:12:02,210 --> 00:12:09,529
so with the<font color="#CCCCCC"> introduction of a four octet</font>

203
00:12:06,110 --> 00:12:11,960
<font color="#CCCCCC">ozone</font><font color="#E5E5E5"> the system number for a long time</font>

204
00:12:09,529 --> 00:12:14,149
<font color="#CCCCCC">even today most service providers use</font>

205
00:12:11,960 --> 00:12:16,640
just a to<font color="#CCCCCC"> updates</font><font color="#E5E5E5"> automaton</font>

206
00:12:14,149 --> 00:12:19,550
but that's running<font color="#E5E5E5"> out so a</font><font color="#CCCCCC"> four update</font>

207
00:12:16,640 --> 00:12:21,080
<font color="#CCCCCC">automata</font><font color="#E5E5E5"> number is being introduced was</font>

208
00:12:19,550 --> 00:12:24,949
<font color="#E5E5E5">probably introduced for quite some time</font>

209
00:12:21,080 --> 00:12:26,420
<font color="#E5E5E5">and when you have</font><font color="#CCCCCC"> a for updates bottom</font>

210
00:12:24,950 --> 00:12:29,029
system number and if you have a<font color="#E5E5E5"> router</font>

211
00:12:26,420 --> 00:12:31,250
<font color="#E5E5E5">that doesn't support for updates</font><font color="#CCCCCC"> Auto</font>

212
00:12:29,029 --> 00:12:34,820
new system number then it has to<font color="#CCCCCC"> be</font>

213
00:12:31,250 --> 00:12:36,680
replaced<font color="#CCCCCC"> with a result with address</font>

214
00:12:34,820 --> 00:12:40,540
which is<font color="#E5E5E5"> two three four five six</font>

215
00:12:36,680 --> 00:12:45,680
<font color="#E5E5E5">so two three four five six signifies an</font>

216
00:12:40,540 --> 00:12:48,410
<font color="#CCCCCC">older</font><font color="#E5E5E5"> system that has that is a four</font>

217
00:12:45,680 --> 00:12:51,290
octet of<font color="#E5E5E5"> autonomous system but it's not</font>

218
00:12:48,410 --> 00:12:53,569
understood by<font color="#CCCCCC"> at two octaves</font><font color="#E5E5E5"> the router</font>

219
00:12:51,290 --> 00:12:59,959
that<font color="#E5E5E5"> doesn't support</font><font color="#CCCCCC"> for</font><font color="#E5E5E5"> a total system</font>

220
00:12:53,570 --> 00:13:02,330
<font color="#E5E5E5">number so the loop detection the basic</font>

221
00:12:59,959 --> 00:13:06,349
principle<font color="#CCCCCC"> in loop detection is if router</font>

222
00:13:02,330 --> 00:13:08,270
receives an update<font color="#E5E5E5"> that contains its own</font>

223
00:13:06,350 --> 00:13:11,120
autonomous<font color="#E5E5E5"> system number in the a spazz</font>

224
00:13:08,270 --> 00:13:13,130
<font color="#E5E5E5">then it is considered</font><font color="#CCCCCC"> a loop and the</font>

225
00:13:11,120 --> 00:13:16,010
update will be dropped<font color="#CCCCCC"> so if you look at</font>

226
00:13:13,130 --> 00:13:23,779
<font color="#E5E5E5">this in this example Ottoman system</font><font color="#CCCCCC"> 100</font>

227
00:13:16,010 --> 00:13:25,520
is receiving<font color="#CCCCCC"> one eighty 1000 16 which</font>

228
00:13:23,779 --> 00:13:29,630
was originated from itself

229
00:13:25,520 --> 00:13:32,720
<font color="#E5E5E5">and it has in the update it has its own</font>

230
00:13:29,630 --> 00:13:36,050
s number as soon<font color="#E5E5E5"> as it detects its own s</font>

231
00:13:32,720 --> 00:13:38,600
number it drops it so it will not take

232
00:13:36,050 --> 00:13:43,760
that<font color="#E5E5E5"> update so that our words are out</font>

233
00:13:38,600 --> 00:13:47,540
looping so<font color="#CCCCCC"> it is it's used for loop</font>

234
00:13:43,760 --> 00:13:51,260
detection the other important and

235
00:13:47,540 --> 00:13:52,370
<font color="#E5E5E5">mandatory attribute which you attribute</font>

236
00:13:51,260 --> 00:13:57,760
is next<font color="#CCCCCC"> hop</font>

237
00:13:52,370 --> 00:14:03,800
next<font color="#CCCCCC"> hop tells bgp what is the next hop</font>

238
00:13:57,760 --> 00:14:07,520
to reach to this destination so<font color="#E5E5E5"> usually</font>

239
00:14:03,800 --> 00:14:10,670
that next hub is known we are<font color="#E5E5E5"> a GP and</font><font color="#CCCCCC"> a</font>

240
00:14:07,520 --> 00:14:13,339
recursive lookup will be done to do to

241
00:14:10,670 --> 00:14:16,019
say first do a lookup it gives you

242
00:14:13,339 --> 00:14:18,660
another out<font color="#E5E5E5"> and then you look that route</font>

243
00:14:16,019 --> 00:14:20,279
into an<font color="#E5E5E5"> IEP</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> gives you that outgoing</font>

244
00:14:18,660 --> 00:14:22,709
interface and you send<font color="#E5E5E5"> up you send</font><font color="#CCCCCC"> the</font>

245
00:14:20,279 --> 00:14:24,889
<font color="#CCCCCC">traffic out that way so next hub is</font>

246
00:14:22,709 --> 00:14:29,729
important<font color="#CCCCCC"> from that</font><font color="#E5E5E5"> perspective</font>

247
00:14:24,889 --> 00:14:33,059
so next hub in the<font color="#E5E5E5"> case of ebgp</font>

248
00:14:29,730 --> 00:14:35,869
is the<font color="#E5E5E5"> peering address so for example if</font>

249
00:14:33,059 --> 00:14:39,329
you<font color="#E5E5E5"> look at this B has received two</font>

250
00:14:35,869 --> 00:14:43,170
<font color="#E5E5E5">updates so the C has received two</font>

251
00:14:39,329 --> 00:14:45,238
updates<font color="#E5E5E5"> the same thing with</font><font color="#CCCCCC"> BB has</font>

252
00:14:43,170 --> 00:14:49,170
received two updates<font color="#E5E5E5"> and the case of P</font>

253
00:14:45,239 --> 00:14:52,379
the next hub points to 150<font color="#E5E5E5"> ten one one</font>

254
00:14:49,170 --> 00:14:55,199
which is appearing<font color="#E5E5E5"> address of B to the</font>

255
00:14:52,379 --> 00:14:58,699
image<font color="#E5E5E5"> VP</font><font color="#CCCCCC"> where the route is received</font><font color="#E5E5E5"> but</font>

256
00:14:55,199 --> 00:15:02,040
when the route is sent over<font color="#CCCCCC"> IB to appear</font>

257
00:14:58,699 --> 00:15:04,979
normally by default<font color="#CCCCCC"> the next hop is not</font>

258
00:15:02,040 --> 00:15:10,379
updated<font color="#E5E5E5"> so it's the same next hub is</font>

259
00:15:04,980 --> 00:15:13,589
propagated so C also receives<font color="#E5E5E5"> the the</font>

260
00:15:10,379 --> 00:15:17,429
update with the next hub of 150<font color="#E5E5E5"> ten one</font>

261
00:15:13,589 --> 00:15:20,850
<font color="#E5E5E5">one and keeps the same next hub so which</font>

262
00:15:17,429 --> 00:15:24,420
means C has<font color="#E5E5E5"> to know about 150 ten one</font>

263
00:15:20,850 --> 00:15:27,540
one in its repeatable<font color="#E5E5E5"> and usually that's</font>

264
00:15:24,420 --> 00:15:41,699
not desire and we'll see later<font color="#CCCCCC"> on how to</font>

265
00:15:27,540 --> 00:15:43,769
override this default<font color="#CCCCCC"> behavior so the in</font>

266
00:15:41,699 --> 00:15:46,498
this particular<font color="#E5E5E5"> case this is for ibgp</font>

267
00:15:43,769 --> 00:15:50,699
<font color="#E5E5E5">learned routes so when a router in this</font>

268
00:15:46,499 --> 00:15:54,869
case take<font color="#CCCCCC"> for example router router be</font>

269
00:15:50,699 --> 00:16:03,359
when router B injects routes for<font color="#CCCCCC"> 121 1-0</font>

270
00:15:54,869 --> 00:16:06,980
<font color="#E5E5E5">for 24 and 121 to 54 2/32</font><font color="#CCCCCC"> it will</font><font color="#E5E5E5"> sorry</font>

271
00:16:03,360 --> 00:16:11,699
that's in<font color="#CCCCCC"> IGP when it injects 121 one</font>

272
00:16:06,980 --> 00:16:14,459
<font color="#E5E5E5">0/24 it will inject it with an X hub set</font>

273
00:16:11,699 --> 00:16:17,339
to itself itself means<font color="#CCCCCC"> it's new park</font>

274
00:16:14,459 --> 00:16:20,069
interface IP address so when the other

275
00:16:17,339 --> 00:16:23,990
routers receive the next hub will be the

276
00:16:20,069 --> 00:16:29,649
loopback IP address of P which is<font color="#E5E5E5"> 121</font><font color="#CCCCCC"> to</font>

277
00:16:23,990 --> 00:16:32,139
<font color="#CCCCCC">54.2</font><font color="#E5E5E5"> so for ibgp</font><font color="#CCCCCC"> learner droughts or</font>

278
00:16:29,649 --> 00:16:32,740
routes<font color="#E5E5E5"> originated within that autonomous</font>

279
00:16:32,139 --> 00:16:35,350
system

280
00:16:32,740 --> 00:16:36,999
the next hub is<font color="#CCCCCC"> set to the new</font><font color="#E5E5E5"> park IP</font>

281
00:16:35,350 --> 00:16:42,100
address of the router<font color="#E5E5E5"> that</font><font color="#CCCCCC"> originated</font>

282
00:16:36,999 --> 00:16:44,949
<font color="#E5E5E5">around third party mix hub this is</font>

283
00:16:42,100 --> 00:16:49,300
rarely used but it's important to

284
00:16:44,949 --> 00:16:52,059
<font color="#E5E5E5">understand what how it works so in this</font>

285
00:16:49,300 --> 00:16:56,800
particular case three autonomous systems

286
00:16:52,059 --> 00:16:58,209
<font color="#CCCCCC">a B</font><font color="#E5E5E5"> and C routers a B and C which are in</font>

287
00:16:56,800 --> 00:16:59,889
three different autonomous<font color="#E5E5E5"> systems even</font>

288
00:16:58,209 --> 00:17:05,708
though only<font color="#CCCCCC"> two autumn systems are shown</font>

289
00:16:59,889 --> 00:17:09,579
here are peering<font color="#CCCCCC"> with one another with</font>

290
00:17:05,709 --> 00:17:14,709
ebgp when they peel with one other with

291
00:17:09,579 --> 00:17:19,629
ebgp<font color="#E5E5E5"> so sorry C is peeling with a and B</font>

292
00:17:14,709 --> 00:17:22,720
is<font color="#E5E5E5"> peeling with a now if by default it</font>

293
00:17:19,630 --> 00:17:27,069
uses the peeling IP address<font color="#E5E5E5"> so if B uses</font>

294
00:17:22,720 --> 00:17:30,309
the peeling IP address for<font color="#CCCCCC"> routes 121 to</font>

295
00:17:27,069 --> 00:17:32,470
<font color="#E5E5E5">eight six one</font><font color="#CCCCCC"> zero</font><font color="#E5E5E5"> it will first send</font>

296
00:17:30,309 --> 00:17:37,120
that route to a<font color="#E5E5E5"> that traffic to a and</font>

297
00:17:32,470 --> 00:17:40,149
then a will send it<font color="#E5E5E5"> to to C but this is</font>

298
00:17:37,120 --> 00:17:43,840
a waste of bandwidth so when when there

299
00:17:40,149 --> 00:17:46,510
is a shared network when a advertises

300
00:17:43,840 --> 00:17:49,570
are out to be it will change<font color="#E5E5E5"> the next</font>

301
00:17:46,510 --> 00:17:54,929
<font color="#E5E5E5">half to be the third party</font><font color="#CCCCCC"> mix hub which</font>

302
00:17:49,570 --> 00:17:54,928
is<font color="#CCCCCC"> the next hub of C</font><font color="#E5E5E5"> okay</font>

303
00:17:55,790 --> 00:18:07,139
so<font color="#E5E5E5"> base</font><font color="#CCCCCC"> plugs for</font><font color="#E5E5E5"> next hub so the</font>

304
00:18:01,770 --> 00:18:11,370
default<font color="#E5E5E5"> for</font><font color="#CCCCCC"> ebgp</font><font color="#E5E5E5"> is the the default for</font>

305
00:18:07,140 --> 00:18:17,940
<font color="#E5E5E5">BGP is not to change the next hub when</font>

306
00:18:11,370 --> 00:18:22,040
it's advertised via<font color="#E5E5E5"> ibgp but with this</font>

307
00:18:17,940 --> 00:18:26,310
it means<font color="#E5E5E5"> that you have to inject the</font>

308
00:18:22,040 --> 00:18:32,460
interface address into<font color="#CCCCCC"> IGP but this is a</font>

309
00:18:26,310 --> 00:18:34,340
lot<font color="#E5E5E5"> of overhead for for for</font><font color="#CCCCCC"> IGP it will</font>

310
00:18:32,460 --> 00:18:37,920
also<font color="#E5E5E5"> create a little bit of instability</font>

311
00:18:34,340 --> 00:18:40,679
so the best option<font color="#CCCCCC"> is to</font><font color="#E5E5E5"> change the next</font>

312
00:18:37,920 --> 00:18:47,210
<font color="#E5E5E5">hub to the loopback IP address of</font><font color="#CCCCCC"> that</font>

313
00:18:40,680 --> 00:18:47,210
router<font color="#E5E5E5"> so the the peering router</font><font color="#CCCCCC"> okay</font>

314
00:18:48,470 --> 00:18:55,350
<font color="#CCCCCC">okay</font>

315
00:18:49,620 --> 00:18:58,830
so in summary<font color="#CCCCCC"> IDP</font><font color="#E5E5E5"> is used to carry the</font>

316
00:18:55,350 --> 00:19:01,230
next hub for<font color="#CCCCCC"> BGP</font><font color="#E5E5E5"> so</font><font color="#CCCCCC"> the in some case</font>

317
00:18:58,830 --> 00:19:03,389
it's possible<font color="#CCCCCC"> that</font><font color="#E5E5E5"> BGP make</font><font color="#CCCCCC"> it</font><font color="#E5E5E5"> an</font><font color="#CCCCCC"> exhale</font>

318
00:19:01,230 --> 00:19:06,360
for BGP but eventually it has to recurse

319
00:19:03,390 --> 00:19:10,590
back to<font color="#CCCCCC"> IGP so IGP carries the next up</font>

320
00:19:06,360 --> 00:19:13,320
for BGP recursive<font color="#E5E5E5"> no copy is used to do</font>

321
00:19:10,590 --> 00:19:15,570
<font color="#E5E5E5">a BGP lookup so the</font><font color="#CCCCCC"> beach</font><font color="#E5E5E5"> field</font><font color="#CCCCCC"> cap</font>

322
00:19:13,320 --> 00:19:17,460
gives an exam<font color="#CCCCCC"> of ITP and then an IP</font>

323
00:19:15,570 --> 00:19:22,110
lookup will take care<font color="#E5E5E5"> of the actual</font>

324
00:19:17,460 --> 00:19:24,360
outgoing interface so it unlinks<font color="#E5E5E5"> this</font>

325
00:19:22,110 --> 00:19:27,959
behavior<font color="#E5E5E5"> and links PGP from the actual</font>

326
00:19:24,360 --> 00:19:34,649
topology of the network<font color="#CCCCCC"> the internal</font>

327
00:19:27,960 --> 00:19:39,830
<font color="#CCCCCC">network another BGP attribute is</font><font color="#E5E5E5"> origin</font>

328
00:19:34,650 --> 00:19:44,360
this<font color="#E5E5E5"> is historical in nature in that</font>

329
00:19:39,830 --> 00:19:50,879
<font color="#E5E5E5">originally with the EGP which is another</font>

330
00:19:44,360 --> 00:19:53,100
EGP protocol<font color="#E5E5E5"> predates</font><font color="#CCCCCC"> BGP so if the</font>

331
00:19:50,880 --> 00:19:55,020
route was originated from<font color="#E5E5E5"> EGP protocol</font>

332
00:19:53,100 --> 00:19:59,189
as opposed<font color="#E5E5E5"> to BGP it will have a</font>

333
00:19:55,020 --> 00:20:02,160
different<font color="#CCCCCC"> origin so there are three</font>

334
00:19:59,190 --> 00:20:04,440
<font color="#CCCCCC">types I GP e GP</font><font color="#E5E5E5"> and incomplete and there</font>

335
00:20:02,160 --> 00:20:06,450
are still<font color="#E5E5E5"> three types but</font><font color="#CCCCCC"> eg P is not</font>

336
00:20:04,440 --> 00:20:07,840
used because<font color="#E5E5E5"> there is no route of the</font>

337
00:20:06,450 --> 00:20:10,930
<font color="#CCCCCC">France eg P nowadays</font>

338
00:20:07,840 --> 00:20:14,770
so there you<font color="#CCCCCC"> have two types</font><font color="#E5E5E5"> of origins</font>

339
00:20:10,930 --> 00:20:16,510
<font color="#CCCCCC">IGP</font><font color="#E5E5E5"> and incomplete</font><font color="#CCCCCC"> RG p is used</font><font color="#E5E5E5"> if the</font>

340
00:20:14,770 --> 00:20:19,840
route is injected using<font color="#E5E5E5"> a network</font>

341
00:20:16,510 --> 00:20:22,060
<font color="#CCCCCC">segment and incomplete is used if are</font>

342
00:20:19,840 --> 00:20:25,720
out is injected into<font color="#CCCCCC"> bgp using by</font>

343
00:20:22,060 --> 00:20:27,909
distributing a GP into<font color="#CCCCCC"> bgp or by</font>

344
00:20:25,720 --> 00:20:31,090
distributing<font color="#E5E5E5"> static route into bgp</font>

345
00:20:27,910 --> 00:20:32,740
instead of using a network statement so

346
00:20:31,090 --> 00:20:35,980
the network statement is a preferred one

347
00:20:32,740 --> 00:20:41,080
so during the route selection<font color="#E5E5E5"> a GP will</font>

348
00:20:35,980 --> 00:20:45,370
be preferred over incomplete during pass

349
00:20:41,080 --> 00:20:50,770
election the another attribute<font color="#E5E5E5"> is</font>

350
00:20:45,370 --> 00:20:54,850
aggregator so in BGP when an<font color="#E5E5E5"> ISP</font>

351
00:20:50,770 --> 00:20:57,970
receives routes from other ISPs the ISP

352
00:20:54,850 --> 00:21:00,310
can aggregate those routes and<font color="#E5E5E5"> advertise</font>

353
00:20:57,970 --> 00:21:02,320
<font color="#E5E5E5">its rare normally if there is an</font>

354
00:21:00,310 --> 00:21:05,080
<font color="#CCCCCC">agreement between</font><font color="#E5E5E5"> the downstream</font><font color="#CCCCCC"> is</font>

355
00:21:02,320 --> 00:21:07,480
<font color="#E5E5E5">peace and upstream ISP the optimized P</font>

356
00:21:05,080 --> 00:21:11,280
can aggregate multiple ISPs and

357
00:21:07,480 --> 00:21:14,710
advertise<font color="#E5E5E5"> it's good for Internet but</font>

358
00:21:11,280 --> 00:21:19,690
they have to<font color="#E5E5E5"> have an agreement</font><font color="#CCCCCC"> so in</font>

359
00:21:14,710 --> 00:21:22,930
that case when the when a<font color="#E5E5E5"> BGP route</font><font color="#CCCCCC"> our</font>

360
00:21:19,690 --> 00:21:26,440
<font color="#CCCCCC">aggregate</font><font color="#E5E5E5"> routes it has to convey the</font>

361
00:21:22,930 --> 00:21:29,110
the route of that aggregated data out<font color="#E5E5E5"> so</font>

362
00:21:26,440 --> 00:21:35,170
it puts its IP<font color="#CCCCCC"> address as an</font><font color="#E5E5E5"> aggregator</font>

363
00:21:29,110 --> 00:21:39,310
to that route local preference<font color="#CCCCCC"> this</font><font color="#E5E5E5"> is</font>

364
00:21:35,170 --> 00:21:44,800
very important<font color="#CCCCCC"> it's used for influencing</font>

365
00:21:39,310 --> 00:21:52,179
how traffic is<font color="#E5E5E5"> exits the network so</font>

366
00:21:44,800 --> 00:21:54,100
let's say route is let's say 160<font color="#CCCCCC"> 1000 16</font>

367
00:21:52,180 --> 00:21:58,930
in this case it advertises through two

368
00:21:54,100 --> 00:22:04,389
<font color="#E5E5E5">different paths but</font><font color="#CCCCCC"> as 400mm</font><font color="#E5E5E5"> a want to</font>

369
00:21:58,930 --> 00:22:08,940
prefer a<font color="#CCCCCC"> path through B instead of</font><font color="#E5E5E5"> a in</font>

370
00:22:04,390 --> 00:22:12,820
that case when s is 400 receives the

371
00:22:08,940 --> 00:22:15,520
updates through B it<font color="#E5E5E5"> will set local</font>

372
00:22:12,820 --> 00:22:18,040
preference to 800 in this particular

373
00:22:15,520 --> 00:22:20,418
example<font color="#CCCCCC"> and when it receives it from</font><font color="#E5E5E5"> D</font>

374
00:22:18,040 --> 00:22:22,940
it sets the local preference to

375
00:22:20,419 --> 00:22:25,820
<font color="#CCCCCC">five hundred when series shifts are out</font>

376
00:22:22,940 --> 00:22:28,820
it will pick the<font color="#CCCCCC"> path received therapy</font>

377
00:22:25,820 --> 00:22:30,859
instead<font color="#E5E5E5"> of VRC because the route</font>

378
00:22:28,820 --> 00:22:32,418
<font color="#CCCCCC">received baby has a higher local</font>

379
00:22:30,859 --> 00:22:36,340
preference and higher local preference

380
00:22:32,419 --> 00:22:41,109
is preferred<font color="#CCCCCC"> so it is used to influence</font>

381
00:22:36,340 --> 00:22:45,470
<font color="#E5E5E5">how traffic exists the network and</font>

382
00:22:41,109 --> 00:22:47,539
traffic will<font color="#CCCCCC"> go that way</font><font color="#E5E5E5"> so it is non</font>

383
00:22:45,470 --> 00:22:50,509
transits non-transitive<font color="#E5E5E5"> optional</font>

384
00:22:47,539 --> 00:22:52,609
attributes<font color="#E5E5E5"> which means it is</font><font color="#CCCCCC"> used within</font>

385
00:22:50,509 --> 00:22:54,379
a single<font color="#E5E5E5"> autonomous system it's not</font>

386
00:22:52,609 --> 00:23:00,529
advertised outside<font color="#E5E5E5"> that</font><font color="#CCCCCC"> autonomous</font>

387
00:22:54,379 --> 00:23:02,928
<font color="#E5E5E5">system so in the previous example here</font><font color="#CCCCCC"> B</font>

388
00:23:00,529 --> 00:23:04,940
<font color="#E5E5E5">sets the local preference a also sets a</font>

389
00:23:02,929 --> 00:23:07,940
local preference that local preference

390
00:23:04,940 --> 00:23:10,850
is advertised<font color="#CCCCCC"> that</font><font color="#E5E5E5"> along the route to</font>

391
00:23:07,940 --> 00:23:14,149
see but when C sends updates<font color="#E5E5E5"> to another</font>

392
00:23:10,850 --> 00:23:16,009
router to another<font color="#E5E5E5"> ebgp neighbor</font><font color="#CCCCCC"> it will</font>

393
00:23:14,149 --> 00:23:17,719
not set the local preference<font color="#E5E5E5"> that will</font>

394
00:23:16,009 --> 00:23:20,330
remove the local preference so local

395
00:23:17,720 --> 00:23:25,239
preference is transitive and it's

396
00:23:20,330 --> 00:23:28,820
<font color="#CCCCCC">optional it's a non-transitive sorry and</font>

397
00:23:25,239 --> 00:23:34,850
used to influence<font color="#E5E5E5"> how traffic is going</font>

398
00:23:28,820 --> 00:23:38,809
out of<font color="#CCCCCC"> the</font><font color="#E5E5E5"> autonomous system okay so</font>

399
00:23:34,850 --> 00:23:41,269
posit of kind of the opposite of local

400
00:23:38,809 --> 00:23:45,200
preference is<font color="#E5E5E5"> multi</font><font color="#CCCCCC"> active discriminator</font>

401
00:23:41,269 --> 00:23:48,590
<font color="#E5E5E5">or made</font><font color="#CCCCCC"> it's used to influence</font><font color="#E5E5E5"> how</font>

402
00:23:45,200 --> 00:23:51,289
traffic is received<font color="#E5E5E5"> inside into the</font>

403
00:23:48,590 --> 00:23:58,970
network<font color="#E5E5E5"> so if is 200 in this particular</font>

404
00:23:51,289 --> 00:24:03,259
case<font color="#CCCCCC"> prefers receiving traffic</font><font color="#E5E5E5"> receiving</font>

405
00:23:58,970 --> 00:24:06,100
traffic through D<font color="#E5E5E5"> instead of C it will</font>

406
00:24:03,259 --> 00:24:09,529
send or<font color="#CCCCCC"> saga it and this case 201</font>

407
00:24:06,100 --> 00:24:11,959
prefers receiving traffic<font color="#CCCCCC"> tested for one</font>

408
00:24:09,529 --> 00:24:16,789
<font color="#CCCCCC">twenty sixty eight one zero</font>

409
00:24:11,960 --> 00:24:20,980
coming<font color="#CCCCCC"> through coming through B instead</font>

410
00:24:16,789 --> 00:24:25,489
<font color="#CCCCCC">of a then it will set a lower metric for</font>

411
00:24:20,980 --> 00:24:29,869
sorry<font color="#E5E5E5"> a s 200 will settle or metric for</font>

412
00:24:25,489 --> 00:24:32,330
outs<font color="#E5E5E5"> updated through D and a higher</font>

413
00:24:29,869 --> 00:24:34,039
metric for outside we sent out<font color="#E5E5E5"> through C</font>

414
00:24:32,330 --> 00:24:38,360
so

415
00:24:34,039 --> 00:24:39,889
the<font color="#CCCCCC"> maid is sent on</font><font color="#E5E5E5"> ebgp updates so as</font>

416
00:24:38,360 --> 00:24:46,129
opposed<font color="#CCCCCC"> to local</font><font color="#E5E5E5"> preference which</font><font color="#CCCCCC"> is</font>

417
00:24:39,889 --> 00:24:46,879
sent on<font color="#E5E5E5"> only on ibgp</font><font color="#CCCCCC"> update maid is</font><font color="#E5E5E5"> also</font>

418
00:24:46,130 --> 00:24:49,760
<font color="#CCCCCC">non-transitive</font>

419
00:24:46,880 --> 00:24:51,769
<font color="#E5E5E5">so you send it to the the next</font><font color="#CCCCCC"> Ottoman</font>

420
00:24:49,760 --> 00:24:53,779
system but the next<font color="#CCCCCC"> comment system will</font>

421
00:24:51,769 --> 00:24:55,850
not send that<font color="#E5E5E5"> same</font><font color="#CCCCCC"> wait value to</font>

422
00:24:53,779 --> 00:24:59,539
subsequent<font color="#E5E5E5"> Ottoman systems it will only</font>

423
00:24:55,850 --> 00:25:02,269
<font color="#CCCCCC">use for itself it may send another man</font>

424
00:24:59,539 --> 00:25:05,090
<font color="#E5E5E5">takes discriminator but its own not the</font>

425
00:25:02,269 --> 00:25:07,220
one received<font color="#E5E5E5"> from the upstream service</font>

426
00:25:05,090 --> 00:25:11,360
provider<font color="#CCCCCC"> or the the other service</font>

427
00:25:07,220 --> 00:25:13,490
provider<font color="#E5E5E5"> okay and another important</font>

428
00:25:11,360 --> 00:25:17,178
<font color="#E5E5E5">thing for</font><font color="#CCCCCC"> made is made</font><font color="#E5E5E5"> is considered as</font>

429
00:25:13,490 --> 00:25:19,399
a<font color="#E5E5E5"> matrix so lower is preferred than</font>

430
00:25:17,179 --> 00:25:27,500
higher so as opposed to local<font color="#E5E5E5"> preference</font>

431
00:25:19,399 --> 00:25:31,908
where higher is preferred watch out for

432
00:25:27,500 --> 00:25:34,970
metric confusion when the RFC was first

433
00:25:31,909 --> 00:25:38,690
when<font color="#E5E5E5"> BGP was first specified he didn't</font>

434
00:25:34,970 --> 00:25:43,190
specify the<font color="#CCCCCC"> default value for mate made</font>

435
00:25:38,690 --> 00:25:46,970
is optional<font color="#E5E5E5"> so it doesn't specify what</font>

436
00:25:43,190 --> 00:25:49,070
made value to say it<font color="#E5E5E5"> or to assume for a</font>

437
00:25:46,970 --> 00:25:51,860
route that doesn't have and made us

438
00:25:49,070 --> 00:25:54,740
rated with it so same vendor some

439
00:25:51,860 --> 00:25:57,168
<font color="#CCCCCC">vendors assumed</font><font color="#E5E5E5"> zero</font><font color="#CCCCCC"> same vendors some</font>

440
00:25:54,740 --> 00:26:00,940
vendors assumed the maximum and that

441
00:25:57,169 --> 00:26:05,840
<font color="#CCCCCC">created a</font><font color="#E5E5E5"> confusion later on it was</font>

442
00:26:00,940 --> 00:26:10,100
rectified there are different tariffs

443
00:26:05,840 --> 00:26:12,439
it's not listed here<font color="#E5E5E5"> but still you can</font>

444
00:26:10,100 --> 00:26:14,719
have a router<font color="#E5E5E5"> that doesn't adhere to the</font>

445
00:26:12,440 --> 00:26:18,700
<font color="#CCCCCC">tally</font><font color="#E5E5E5"> FC because that's more recent RFC</font>

446
00:26:14,720 --> 00:26:21,049
so you have to make<font color="#CCCCCC"> sure</font><font color="#E5E5E5"> that right</font>

447
00:26:18,700 --> 00:26:24,350
values followed the default should be

448
00:26:21,049 --> 00:26:26,899
<font color="#E5E5E5">zero if it is assumed if you don't</font>

449
00:26:24,350 --> 00:26:29,658
receive a default value<font color="#CCCCCC"> to</font><font color="#E5E5E5"> zero most</font>

450
00:26:26,899 --> 00:26:32,479
vendors give you a<font color="#E5E5E5"> knob to force a</font>

451
00:26:29,659 --> 00:26:34,940
default behavior so<font color="#E5E5E5"> you can say if it</font><font color="#CCCCCC"> is</font>

452
00:26:32,480 --> 00:26:37,909
a<font color="#E5E5E5"> meeting made assume zero or the</font>

453
00:26:34,940 --> 00:26:40,539
<font color="#CCCCCC">meeting head made</font><font color="#E5E5E5"> assume infinity or the</font>

454
00:26:37,909 --> 00:26:40,539
<font color="#E5E5E5">maximum</font>

455
00:26:42,050 --> 00:26:49,350
another very important attribute<font color="#E5E5E5"> is</font>

456
00:26:44,640 --> 00:26:54,660
community this simplifies<font color="#E5E5E5"> configuration</font>

457
00:26:49,350 --> 00:26:58,409
management application of policy<font color="#E5E5E5"> it is</font>

458
00:26:54,660 --> 00:27:02,310
<font color="#E5E5E5">used to classify routes into communities</font>

459
00:26:58,410 --> 00:27:06,840
or into classes essentially<font color="#E5E5E5"> so it is a</font>

460
00:27:02,310 --> 00:27:10,169
such a bit integer<font color="#CCCCCC"> it</font><font color="#E5E5E5"> is usually</font>

461
00:27:06,840 --> 00:27:12,810
<font color="#E5E5E5">specified in a</font><font color="#CCCCCC"> colon format where the</font>

462
00:27:10,170 --> 00:27:15,120
<font color="#CCCCCC">first one is the local ultimate system</font>

463
00:27:12,810 --> 00:27:17,909
<font color="#E5E5E5">number but it can be anything but usual</font>

464
00:27:15,120 --> 00:27:19,979
is used with the<font color="#E5E5E5"> local</font><font color="#CCCCCC"> autonomous</font><font color="#E5E5E5"> system</font>

465
00:27:17,910 --> 00:27:23,340
number and the second one actually

466
00:27:19,980 --> 00:27:27,150
<font color="#E5E5E5">identifies the class or the community to</font>

467
00:27:23,340 --> 00:27:30,389
which<font color="#E5E5E5"> aroud belongs or a prefix belongs</font>

468
00:27:27,150 --> 00:27:32,970
<font color="#E5E5E5">a prefix can belong to one</font><font color="#CCCCCC"> or more</font>

469
00:27:30,390 --> 00:27:36,750
communities or it may<font color="#E5E5E5"> not have any</font>

470
00:27:32,970 --> 00:27:38,310
community at all so it's used to group

471
00:27:36,750 --> 00:27:40,890
destinations once you group a

472
00:27:38,310 --> 00:27:42,540
destination<font color="#CCCCCC"> then you can</font><font color="#E5E5E5"> apply policy on</font>

473
00:27:40,890 --> 00:27:46,700
the group instead<font color="#E5E5E5"> of on specific</font>

474
00:27:42,540 --> 00:27:50,970
prefixes<font color="#E5E5E5"> so that's where the scalability</font>

475
00:27:46,700 --> 00:27:52,950
counts and the it simplifies the

476
00:27:50,970 --> 00:27:56,940
<font color="#E5E5E5">configuration</font><font color="#CCCCCC"> of configuration</font>

477
00:27:52,950 --> 00:28:03,750
management<font color="#E5E5E5"> so here just to demonstrate</font>

478
00:27:56,940 --> 00:28:05,430
<font color="#E5E5E5">that it shows you it shows you without</font>

479
00:28:03,750 --> 00:28:12,440
<font color="#CCCCCC">committee</font><font color="#E5E5E5"> how it works and with</font>

480
00:28:05,430 --> 00:28:16,220
community how it works and<font color="#E5E5E5"> trying to</font>

481
00:28:12,440 --> 00:28:21,860
find out how much<font color="#E5E5E5"> time is</font><font color="#CCCCCC"> left</font>

482
00:28:16,220 --> 00:28:21,860
<font color="#CCCCCC">okay</font><font color="#E5E5E5"> okay I'll just use mine</font>

483
00:28:24,550 --> 00:28:35,240
<font color="#E5E5E5">okay so in this</font><font color="#CCCCCC"> case without community</font>

484
00:28:32,410 --> 00:28:40,790
let's say first<font color="#E5E5E5"> you have this scenario</font>

485
00:28:35,240 --> 00:28:45,080
<font color="#CCCCCC">so which means</font><font color="#E5E5E5"> you have 160 1000</font><font color="#CCCCCC"> 16</font>

486
00:28:40,790 --> 00:28:48,470
coming<font color="#E5E5E5"> in and you accept it and on on</font>

487
00:28:45,080 --> 00:28:53,240
the appealing to is<font color="#CCCCCC"> SP 400 you want to</font>

488
00:28:48,470 --> 00:28:57,020
unload that<font color="#E5E5E5"> prefix to go out so you</font><font color="#CCCCCC"> have</font>

489
00:28:53,240 --> 00:28:59,000
a prefix<font color="#E5E5E5"> list you add that prefix to</font>

490
00:28:57,020 --> 00:29:01,190
that prefix list and then you<font color="#E5E5E5"> have</font>

491
00:28:59,000 --> 00:29:02,570
another<font color="#E5E5E5"> customer coming when this</font>

492
00:29:01,190 --> 00:29:07,610
customer comes you<font color="#CCCCCC"> have</font><font color="#E5E5E5"> to update your</font>

493
00:29:02,570 --> 00:29:10,070
prefix list on<font color="#CCCCCC"> that pier in addition to</font>

494
00:29:07,610 --> 00:29:12,520
the<font color="#E5E5E5"> actual customer configuration so you</font>

495
00:29:10,070 --> 00:29:15,679
have to<font color="#CCCCCC"> take that configuration</font><font color="#E5E5E5"> and</font>

496
00:29:12,520 --> 00:29:19,670
changing<font color="#CCCCCC"> a BGP policy has impacts</font>

497
00:29:15,680 --> 00:29:23,630
whenever you change you may depending on

498
00:29:19,670 --> 00:29:27,040
scenario you may have<font color="#CCCCCC"> to soft clear the</font>

499
00:29:23,630 --> 00:29:30,560
BGP peer which has to update<font color="#CCCCCC"> the BGP</font>

500
00:29:27,040 --> 00:29:32,330
<font color="#E5E5E5">table so it has impact so you</font><font color="#CCCCCC"> don't want</font>

501
00:29:30,560 --> 00:29:35,950
you<font color="#CCCCCC"> you want to avoid as much as</font>

502
00:29:32,330 --> 00:29:39,949
<font color="#CCCCCC">possible</font><font color="#E5E5E5"> making</font><font color="#CCCCCC"> changes</font><font color="#E5E5E5"> anyways so now</font>

503
00:29:35,950 --> 00:29:41,390
<font color="#CCCCCC">you have a prefix</font><font color="#E5E5E5"> coming in but you</font>

504
00:29:39,950 --> 00:29:44,440
don't<font color="#E5E5E5"> want to allow that</font><font color="#CCCCCC"> so you don't</font>

505
00:29:41,390 --> 00:29:48,020
<font color="#CCCCCC">enter</font><font color="#E5E5E5"> you don't add any entry for that</font>

506
00:29:44,440 --> 00:29:51,740
now with a community what you do is

507
00:29:48,020 --> 00:29:53,090
whenever you receive<font color="#E5E5E5"> are out you</font>

508
00:29:51,740 --> 00:29:58,670
associate a community with it

509
00:29:53,090 --> 00:30:02,300
in this case 300<font color="#CCCCCC"> : 1 and you will have a</font>

510
00:29:58,670 --> 00:30:06,170
configuration<font color="#E5E5E5"> on</font><font color="#CCCCCC"> ISP one that says any</font>

511
00:30:02,300 --> 00:30:08,110
prefix with a community 301 allow allow

512
00:30:06,170 --> 00:30:10,730
it to go out on<font color="#E5E5E5"> this pier</font>

513
00:30:08,110 --> 00:30:14,270
now when you nee have another customer

514
00:30:10,730 --> 00:30:16,910
<font color="#E5E5E5">coming in you just set the community you</font>

515
00:30:14,270 --> 00:30:23,060
<font color="#E5E5E5">don't need to change the BGP policy</font>

516
00:30:16,910 --> 00:30:25,460
going out from E<font color="#E5E5E5"> to F now when you</font>

517
00:30:23,060 --> 00:30:28,159
receive<font color="#CCCCCC"> another</font><font color="#E5E5E5"> update and</font><font color="#CCCCCC"> that you</font>

518
00:30:25,460 --> 00:30:29,990
don't<font color="#E5E5E5"> want that update to go to s 400</font>

519
00:30:28,160 --> 00:30:33,620
now you say<font color="#CCCCCC"> it with a</font><font color="#E5E5E5"> different</font>

520
00:30:29,990 --> 00:30:36,330
community<font color="#E5E5E5"> in this case 300 : 1 and that</font>

521
00:30:33,620 --> 00:30:41,699
update will not go out<font color="#CCCCCC"> of</font>

522
00:30:36,330 --> 00:30:45,600
peel the EF<font color="#E5E5E5"> peer so you can see that it</font>

523
00:30:41,700 --> 00:30:48,470
<font color="#CCCCCC">simplifies the</font><font color="#E5E5E5"> configuration management</font>

524
00:30:45,600 --> 00:30:48,469
<font color="#E5E5E5">tremendously</font>

525
00:30:48,710 --> 00:30:57,120
there are several well-known communities

526
00:30:51,330 --> 00:31:03,149
and so the<font color="#E5E5E5"> most common ones are</font><font color="#CCCCCC"> that the</font>

527
00:30:57,120 --> 00:31:07,168
remaining time so so the most<font color="#E5E5E5"> common</font>

528
00:31:03,149 --> 00:31:09,149
ones are<font color="#E5E5E5"> no export and we'll see what</font>

529
00:31:07,169 --> 00:31:12,120
that<font color="#E5E5E5"> means</font><font color="#CCCCCC"> it means</font><font color="#E5E5E5"> you don't advertise</font>

530
00:31:09,149 --> 00:31:16,199
to another autonomous system<font color="#E5E5E5"> no</font>

531
00:31:12,120 --> 00:31:19,768
<font color="#E5E5E5">advertise don't advertise to any peer no</font>

532
00:31:16,200 --> 00:31:23,730
<font color="#E5E5E5">export sub Confederation</font><font color="#CCCCCC"> don't advertise</font>

533
00:31:19,769 --> 00:31:27,090
to a sub configuration we'll discuss a

534
00:31:23,730 --> 00:31:34,230
lot<font color="#E5E5E5"> later on and no peer means don't</font>

535
00:31:27,090 --> 00:31:37,168
advertise to a bilateral peer so in the

536
00:31:34,230 --> 00:31:39,840
case of<font color="#E5E5E5"> no exports in this case this if</font>

537
00:31:37,169 --> 00:31:41,730
you apply if if the route has<font color="#CCCCCC"> an</font><font color="#E5E5E5"> export</font>

538
00:31:39,840 --> 00:31:46,199
community<font color="#E5E5E5"> are treated with it then it</font>

539
00:31:41,730 --> 00:31:51,149
<font color="#E5E5E5">will not be sent from</font><font color="#CCCCCC"> a 100</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> ace 200</font>

540
00:31:46,200 --> 00:31:55,470
or from NES to NES<font color="#E5E5E5"> because it has the no</font>

541
00:31:51,149 --> 00:32:01,908
<font color="#E5E5E5">exports if it is no peer you not</font>

542
00:31:55,470 --> 00:32:04,500
<font color="#CCCCCC">advertised to any peer at fault okay so</font>

543
00:32:01,909 --> 00:32:14,090
what about<font color="#E5E5E5"> a</font><font color="#CCCCCC"> four byte code</font><font color="#E5E5E5"> on a system</font>

544
00:32:04,500 --> 00:32:19,880
number it is<font color="#E5E5E5"> it's defined in RFC 1998</font>

545
00:32:14,090 --> 00:32:22,529
sorry the<font color="#CCCCCC"> the</font><font color="#E5E5E5"> 1998 defines how the</font>

546
00:32:19,880 --> 00:32:25,590
<font color="#E5E5E5">community the community is defined which</font>

547
00:32:22,529 --> 00:32:28,200
is<font color="#CCCCCC"> a</font><font color="#E5E5E5"> two octave</font><font color="#CCCCCC"> essay number</font><font color="#E5E5E5"> and a</font>

548
00:32:25,590 --> 00:32:31,699
<font color="#E5E5E5">committee number but when you have a</font>

549
00:32:28,200 --> 00:32:34,580
<font color="#E5E5E5">four octave</font><font color="#CCCCCC"> SN</font><font color="#E5E5E5"> what do do is it because</font>

550
00:32:31,700 --> 00:32:37,620
community is<font color="#CCCCCC"> just a started to beat</font>

551
00:32:34,580 --> 00:32:41,668
entity so you<font color="#CCCCCC"> cannot you cannot split it</font>

552
00:32:37,620 --> 00:32:46,620
into two<font color="#CCCCCC"> different</font><font color="#E5E5E5"> values</font><font color="#CCCCCC"> so some they</font>

553
00:32:41,669 --> 00:32:49,050
<font color="#CCCCCC">just continue with some predefined value</font>

554
00:32:46,620 --> 00:32:52,800
as it is

555
00:32:49,050 --> 00:32:58,020
others have started<font color="#E5E5E5"> using two three four</font>

556
00:32:52,800 --> 00:33:01,260
<font color="#E5E5E5">five six</font><font color="#CCCCCC"> as SN number</font><font color="#E5E5E5"> and others are</font>

557
00:32:58,020 --> 00:33:04,320
waiting<font color="#CCCCCC"> for the verdict</font><font color="#E5E5E5"> it's extended</font>

558
00:33:01,260 --> 00:33:07,310
community generic to be implemented<font color="#CCCCCC"> that</font>

559
00:33:04,320 --> 00:33:07,310
draft<font color="#E5E5E5"> to be</font><font color="#CCCCCC"> implemented</font>

560
00:33:09,080 --> 00:33:16,830
so again<font color="#E5E5E5"> communities emotional</font>

561
00:33:11,840 --> 00:33:21,540
attributes but being careless can create

562
00:33:16,830 --> 00:33:24,480
confusion<font color="#E5E5E5"> it's very important to know so</font>

563
00:33:21,540 --> 00:33:26,490
some vendors<font color="#E5E5E5"> advertise communities to</font>

564
00:33:24,480 --> 00:33:29,280
ibgp peers<font color="#E5E5E5"> some vendors advertise</font>

565
00:33:26,490 --> 00:33:31,380
<font color="#E5E5E5">comments by default to ebgp peers so you</font>

566
00:33:29,280 --> 00:33:35,760
have to know the implementation<font color="#E5E5E5"> the</font>

567
00:33:31,380 --> 00:33:38,580
standard doesn't mandates<font color="#E5E5E5"> sending up</font>

568
00:33:35,760 --> 00:33:41,100
lists so it is a configure your vendors

569
00:33:38,580 --> 00:33:43,139
documentation and make sure that if you

570
00:33:41,100 --> 00:33:44,639
want<font color="#CCCCCC"> to</font><font color="#E5E5E5"> out send it it is being</font><font color="#CCCCCC"> sent</font><font color="#E5E5E5"> and</font>

571
00:33:43,140 --> 00:33:54,480
if you don't want to send it<font color="#E5E5E5"> it's not</font>

572
00:33:44,640 --> 00:33:59,490
being sent<font color="#E5E5E5"> okay</font><font color="#CCCCCC"> pass</font><font color="#E5E5E5"> an election this is</font>

573
00:33:54,480 --> 00:34:01,410
very important so the<font color="#E5E5E5"> to understand how</font>

574
00:33:59,490 --> 00:34:03,870
it<font color="#E5E5E5"> works there are some variations</font>

575
00:34:01,410 --> 00:34:08,250
between vendors but the standard also

576
00:34:03,870 --> 00:34:09,900
specifies what the<font color="#CCCCCC"> preferences but in</font>

577
00:34:08,250 --> 00:34:13,650
addition<font color="#E5E5E5"> that vendors also add</font>

578
00:34:09,900 --> 00:34:17,010
<font color="#CCCCCC">additional features so here we will just</font>

579
00:34:13,650 --> 00:34:19,620
discuss the<font color="#E5E5E5"> general path selection</font>

580
00:34:17,010 --> 00:34:23,430
algorithm so<font color="#E5E5E5"> the key is</font><font color="#CCCCCC"> you do not</font>

581
00:34:19,620 --> 00:34:26,009
<font color="#E5E5E5">consider</font><font color="#CCCCCC"> or out that who's next hub is</font>

582
00:34:23,429 --> 00:34:29,759
not reachable<font color="#E5E5E5"> so if you have a far-out</font>

583
00:34:26,010 --> 00:34:32,280
<font color="#E5E5E5">has if a pass has an</font><font color="#CCCCCC"> X hub that's not</font>

584
00:34:29,760 --> 00:34:35,550
reachable<font color="#E5E5E5"> then</font><font color="#CCCCCC"> you just discard it you</font>

585
00:34:32,280 --> 00:34:39,720
don't<font color="#E5E5E5"> use it you</font><font color="#CCCCCC"> do</font><font color="#E5E5E5"> not consider a pass</font>

586
00:34:35,550 --> 00:34:44,780
that has the highest made value which is

587
00:34:39,719 --> 00:34:44,779
<font color="#CCCCCC">230 to</font><font color="#E5E5E5"> minus 1 so you</font><font color="#CCCCCC"> also discard that</font>

588
00:34:45,230 --> 00:34:50,820
then comes the selection algorithm the

589
00:34:48,929 --> 00:34:52,469
first<font color="#E5E5E5"> the</font><font color="#CCCCCC"> third one which is</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> first</font>

590
00:34:50,820 --> 00:34:56,070
selection<font color="#E5E5E5"> algorithm the first</font><font color="#CCCCCC"> selection</font>

591
00:34:52,469 --> 00:34:57,480
criteria is highest weight and that

592
00:34:56,070 --> 00:34:59,910
depends on<font color="#E5E5E5"> the vendor it's not a</font>

593
00:34:57,480 --> 00:35:01,230
standard<font color="#E5E5E5"> so it's not an administrative</font>

594
00:34:59,910 --> 00:35:04,740
value

595
00:35:01,230 --> 00:35:07,859
you can depending on<font color="#E5E5E5"> the vendor</font><font color="#CCCCCC"> Cisco</font>

596
00:35:04,740 --> 00:35:09,810
uses the weight<font color="#E5E5E5"> so if you configure a</font>

597
00:35:07,859 --> 00:35:13,440
weight then<font color="#E5E5E5"> it will overwrite all other</font>

598
00:35:09,810 --> 00:35:16,740
criteria<font color="#E5E5E5"> most people don't but if for</font>

599
00:35:13,440 --> 00:35:18,089
administrative or migration purpose you

600
00:35:16,740 --> 00:35:21,569
need to configure<font color="#CCCCCC"> that then you can</font>

601
00:35:18,089 --> 00:35:22,828
configure it<font color="#CCCCCC"> the next</font><font color="#E5E5E5"> one is local</font>

602
00:35:21,570 --> 00:35:24,480
<font color="#E5E5E5">preference we have</font><font color="#CCCCCC"> already discussed</font>

603
00:35:22,829 --> 00:35:29,430
that<font color="#E5E5E5"> so the highest local preference</font>

604
00:35:24,480 --> 00:35:31,920
wins<font color="#CCCCCC"> the next one is locally originated</font>

605
00:35:29,430 --> 00:35:34,919
<font color="#CCCCCC">abroad winds locally or unit means</font>

606
00:35:31,920 --> 00:35:37,380
locally<font color="#CCCCCC"> originate on this router</font><font color="#E5E5E5"> wins</font>

607
00:35:34,920 --> 00:35:39,510
<font color="#E5E5E5">because that's obvious if it is</font>

608
00:35:37,380 --> 00:35:42,750
originated from this<font color="#E5E5E5"> router it should</font>

609
00:35:39,510 --> 00:35:47,970
have higher preference<font color="#E5E5E5"> the next one is</font>

610
00:35:42,750 --> 00:35:49,920
the<font color="#CCCCCC"> ACE</font><font color="#E5E5E5"> path</font><font color="#CCCCCC"> length if</font><font color="#E5E5E5"> it is</font><font color="#CCCCCC"> a longer</font>

611
00:35:47,970 --> 00:35:54,509
<font color="#E5E5E5">shorter path is preferred over our</font>

612
00:35:49,920 --> 00:35:58,280
longer path<font color="#CCCCCC"> of course in</font><font color="#E5E5E5"> most of these</font>

613
00:35:54,510 --> 00:36:02,339
cases you<font color="#CCCCCC"> will have knobs to tweak the</font>

614
00:35:58,280 --> 00:36:04,470
selection algorithm but<font color="#E5E5E5"> this is so in</font>

615
00:36:02,339 --> 00:36:05,520
this particular case<font color="#E5E5E5"> you can use BGP</font>

616
00:36:04,470 --> 00:36:08,868
<font color="#E5E5E5">based passes</font><font color="#CCCCCC"> pass</font>

617
00:36:05,520 --> 00:36:13,670
ignore and it will ignore a<font color="#CCCCCC"> spot</font>

618
00:36:08,869 --> 00:36:18,060
algorithm but that's not that<font color="#CCCCCC"> uncommon</font>

619
00:36:13,670 --> 00:36:22,470
the next one is<font color="#E5E5E5"> origin</font><font color="#CCCCCC"> code a GP</font><font color="#E5E5E5"> is</font>

620
00:36:18,060 --> 00:36:24,869
preferred over incomplete<font color="#CCCCCC"> and it's</font>

621
00:36:22,470 --> 00:36:26,790
preferred over<font color="#E5E5E5"> EGP</font><font color="#CCCCCC"> EGP is not common so</font>

622
00:36:24,869 --> 00:36:29,369
you<font color="#E5E5E5"> can ignore that so if you</font><font color="#CCCCCC"> ignore</font>

623
00:36:26,790 --> 00:36:31,170
that<font color="#E5E5E5"> then are out that is injected</font><font color="#CCCCCC"> using</font>

624
00:36:29,369 --> 00:36:33,660
a network statement is preferred over

625
00:36:31,170 --> 00:36:38,540
route that is<font color="#CCCCCC"> redistributed</font><font color="#E5E5E5"> that's what</font>

626
00:36:33,660 --> 00:36:38,540
the origin means the<font color="#E5E5E5"> next one yes</font>

627
00:36:45,740 --> 00:36:51,049
I don't know the<font color="#E5E5E5"> source works now yeah</font>

628
00:36:48,830 --> 00:36:55,160
my name is<font color="#CCCCCC"> Richard Serra kaya from</font>

629
00:36:51,050 --> 00:36:57,790
<font color="#CCCCCC">Hawaii I am complete about IBG my GP and</font>

630
00:36:55,160 --> 00:37:05,290
<font color="#E5E5E5">ibgp are they the same thing</font>

631
00:36:57,790 --> 00:37:09,770
<font color="#CCCCCC">No so I</font><font color="#E5E5E5"> BGP is internal BGP</font>

632
00:37:05,290 --> 00:37:12,349
<font color="#CCCCCC">IGP is interior</font><font color="#E5E5E5"> gateway protocol so the</font>

633
00:37:09,770 --> 00:37:17,050
<font color="#E5E5E5">interior gateway protocol runs is like</font>

634
00:37:12,349 --> 00:37:19,609
OSPF<font color="#CCCCCC"> i sized for service providers and</font>

635
00:37:17,050 --> 00:37:22,849
<font color="#E5E5E5">enterprise they use</font><font color="#CCCCCC"> drip edge RP and</font>

636
00:37:19,609 --> 00:37:26,060
other protocols<font color="#CCCCCC"> but the</font><font color="#E5E5E5"> two main IP</font>

637
00:37:22,849 --> 00:37:27,770
protocols are<font color="#CCCCCC"> no spare</font><font color="#E5E5E5"> and is is so they</font>

638
00:37:26,060 --> 00:37:33,410
are only used within the autonomous

639
00:37:27,770 --> 00:37:36,200
system<font color="#CCCCCC"> i BGP is part of BGP</font><font color="#E5E5E5"> that's used</font>

640
00:37:33,410 --> 00:37:39,259
<font color="#CCCCCC">for internal peeling so between peering</font>

641
00:37:36,200 --> 00:37:45,830
between<font color="#E5E5E5"> BGP speaking routers within a</font>

642
00:37:39,260 --> 00:37:51,380
single<font color="#E5E5E5"> on a system okay so</font><font color="#CCCCCC"> the next</font><font color="#E5E5E5"> one</font>

643
00:37:45,830 --> 00:37:55,250
<font color="#CCCCCC">is a lower made value is preferred over</font>

644
00:37:51,380 --> 00:37:58,070
a higher<font color="#E5E5E5"> mate and made is only</font>

645
00:37:55,250 --> 00:38:00,230
considered for route that's received

646
00:37:58,070 --> 00:38:01,640
from the same autonomous system if<font color="#CCCCCC"> were</font>

647
00:38:00,230 --> 00:38:05,930
<font color="#E5E5E5">out is received from two different</font>

648
00:38:01,640 --> 00:38:07,609
autonomous<font color="#E5E5E5"> systems it will not be</font>

649
00:38:05,930 --> 00:38:10,339
considered<font color="#CCCCCC"> that</font><font color="#E5E5E5"> they made will not be</font>

650
00:38:07,609 --> 00:38:12,950
considered unless you override it<font color="#CCCCCC"> with a</font>

651
00:38:10,339 --> 00:38:16,730
<font color="#CCCCCC">node</font><font color="#E5E5E5"> in this case BGP always compare</font>

652
00:38:12,950 --> 00:38:21,200
mate<font color="#CCCCCC"> but</font><font color="#E5E5E5"> there are you know there are</font>

653
00:38:16,730 --> 00:38:23,480
other<font color="#CCCCCC"> nodes as well but by</font><font color="#E5E5E5"> default made</font>

654
00:38:21,200 --> 00:38:25,810
is<font color="#E5E5E5"> only considered for routes received</font>

655
00:38:23,480 --> 00:38:29,359
from the same autonomous system

656
00:38:25,810 --> 00:38:31,279
otherwise<font color="#E5E5E5"> it will defeat the purpose but</font>

657
00:38:29,359 --> 00:38:33,230
<font color="#E5E5E5">some people want</font><font color="#CCCCCC"> to use it for</font><font color="#E5E5E5"> route</font>

658
00:38:31,280 --> 00:38:34,849
<font color="#CCCCCC">solicited from multiple autonomous</font>

659
00:38:33,230 --> 00:38:40,460
systems in that case you can use<font color="#E5E5E5"> that</font>

660
00:38:34,849 --> 00:38:43,520
<font color="#E5E5E5">knob the next one is preferred ebgp</font>

661
00:38:40,460 --> 00:38:47,030
over ibgp paths<font color="#E5E5E5"> so if you receive the</font>

662
00:38:43,520 --> 00:38:50,980
<font color="#E5E5E5">same routes over ibgp and over ebgp you</font>

663
00:38:47,030 --> 00:38:50,980
would prefer<font color="#E5E5E5"> the</font><font color="#CCCCCC"> one received over a BGP</font>

664
00:38:51,130 --> 00:38:56,270
remember that this is<font color="#E5E5E5"> probably for</font>

665
00:38:54,020 --> 00:38:58,820
external route because for internal

666
00:38:56,270 --> 00:38:59,480
route the Espace languages<font color="#CCCCCC"> 0 so</font><font color="#E5E5E5"> so that</font>

667
00:38:58,820 --> 00:39:04,580
will over

668
00:38:59,480 --> 00:39:06,680
the<font color="#E5E5E5"> ebgp ibgp it's</font><font color="#CCCCCC"> only when the two are</font>

669
00:39:04,580 --> 00:39:09,170
the<font color="#E5E5E5"> same one the automata</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> spazz</font>

670
00:39:06,680 --> 00:39:10,730
language is the same<font color="#E5E5E5"> the maid is the</font>

671
00:39:09,170 --> 00:39:17,600
same the local preference is the same

672
00:39:10,730 --> 00:39:19,700
then<font color="#CCCCCC"> you prefer ebgp over ibgp if all</font>

673
00:39:17,600 --> 00:39:23,930
that is the same<font color="#CCCCCC"> then</font><font color="#E5E5E5"> you look at the</font>

674
00:39:19,700 --> 00:39:27,799
next hub and the IGP matrix for the next

675
00:39:23,930 --> 00:39:32,600
hub<font color="#E5E5E5"> so the lost</font><font color="#CCCCCC"> winds</font><font color="#E5E5E5"> if those two are</font>

676
00:39:27,800 --> 00:39:39,320
<font color="#CCCCCC">the same</font><font color="#E5E5E5"> then you take the router ID the</font>

677
00:39:32,600 --> 00:39:42,440
lost router<font color="#E5E5E5"> ID of the originator so of</font>

678
00:39:39,320 --> 00:39:44,600
the router<font color="#CCCCCC"> flector if that's not the</font>

679
00:39:42,440 --> 00:39:46,250
<font color="#E5E5E5">case then you go to the shortest cluster</font>

680
00:39:44,600 --> 00:39:49,549
list and we'll come to<font color="#CCCCCC"> that that's for</font>

681
00:39:46,250 --> 00:39:52,910
out reflector again then the last one is

682
00:39:49,550 --> 00:39:54,620
the<font color="#E5E5E5"> most neighbor IP address where you</font>

683
00:39:52,910 --> 00:40:01,310
receive the route and<font color="#CCCCCC"> that's always</font>

684
00:39:54,620 --> 00:40:03,319
<font color="#E5E5E5">unique so you pick one that one so the</font>

685
00:40:01,310 --> 00:40:04,940
key<font color="#E5E5E5"> thing is in a milk melting in that</font>

686
00:40:03,320 --> 00:40:07,360
environment you<font color="#E5E5E5"> have</font><font color="#CCCCCC"> to know the</font>

687
00:40:04,940 --> 00:40:09,320
differences there<font color="#E5E5E5"> are slight</font><font color="#CCCCCC"> variations</font>

688
00:40:07,360 --> 00:40:13,540
so it's<font color="#E5E5E5"> very important</font><font color="#CCCCCC"> to know the</font>

689
00:40:09,320 --> 00:40:18,890
differences<font color="#E5E5E5"> they all follow the</font><font color="#CCCCCC"> same</font>

690
00:40:13,540 --> 00:40:21,920
<font color="#E5E5E5">standard</font><font color="#CCCCCC"> but they have additional tweaks</font>

691
00:40:18,890 --> 00:40:25,660
<font color="#E5E5E5">so and additional defaults</font><font color="#CCCCCC"> so it's good</font>

692
00:40:21,920 --> 00:40:32,030
<font color="#E5E5E5">to understand that and important to</font>

693
00:40:25,660 --> 00:40:35,899
avoid the<font color="#CCCCCC"> mid confusion</font><font color="#E5E5E5"> okay so applying</font>

694
00:40:32,030 --> 00:40:39,020
policy<font color="#E5E5E5"> so why do we apply policy one we</font>

695
00:40:35,900 --> 00:40:40,820
want<font color="#E5E5E5"> to block some prefixes that we</font>

696
00:40:39,020 --> 00:40:42,350
don't want to<font color="#E5E5E5"> receive we don't we want</font>

697
00:40:40,820 --> 00:40:46,580
<font color="#E5E5E5">to block some prefixes</font><font color="#CCCCCC"> that we don't</font>

698
00:40:42,350 --> 00:40:50,810
want to advertise<font color="#E5E5E5"> second we want to</font>

699
00:40:46,580 --> 00:40:54,790
influence traffic<font color="#CCCCCC"> weather how it is sent</font>

700
00:40:50,810 --> 00:40:54,790
traffic engineering how traffic flows

701
00:40:56,620 --> 00:41:03,799
so in the case of<font color="#E5E5E5"> highest peace nobody</font>

702
00:41:00,590 --> 00:41:06,260
<font color="#E5E5E5">just plug and configure a BGP peering</font>

703
00:41:03,800 --> 00:41:11,750
and done that's that's not the case<font color="#E5E5E5"> it</font>

704
00:41:06,260 --> 00:41:13,730
<font color="#E5E5E5">is heavily policy oriented</font><font color="#CCCCCC"> so they need</font>

705
00:41:11,750 --> 00:41:15,740
to<font color="#E5E5E5"> control when they appear who they</font>

706
00:41:13,730 --> 00:41:20,150
appear what<font color="#E5E5E5"> routes they receive from</font>

707
00:41:15,740 --> 00:41:23,080
which peer<font color="#E5E5E5"> and how to load</font><font color="#CCCCCC"> balance also</font>

708
00:41:20,150 --> 00:41:30,790
for traffic engineering so we'll see

709
00:41:23,080 --> 00:41:34,250
each one<font color="#CCCCCC"> of these so how do we how do we</font>

710
00:41:30,790 --> 00:41:38,150
apply policies is usually using some

711
00:41:34,250 --> 00:41:40,040
kind<font color="#E5E5E5"> of route policy language and by</font>

712
00:41:38,150 --> 00:41:45,410
<font color="#CCCCCC">setting by manipulating the attributes</font>

713
00:41:40,040 --> 00:41:46,700
we said made or the<font color="#E5E5E5"> Esper's lens you can</font>

714
00:41:45,410 --> 00:41:49,790
influence<font color="#CCCCCC"> the s path</font><font color="#E5E5E5"> length there are</font>

715
00:41:46,700 --> 00:41:54,529
ways to increase<font color="#CCCCCC"> this</font><font color="#E5E5E5"> path length by</font>

716
00:41:49,790 --> 00:41:56,870
prepending multiple<font color="#E5E5E5"> s number</font><font color="#CCCCCC"> SS by</font>

717
00:41:54,530 --> 00:42:02,840
changing the local preference by

718
00:41:56,870 --> 00:42:05,120
changing the weights<font color="#E5E5E5"> also you can filter</font>

719
00:42:02,840 --> 00:42:08,840
<font color="#E5E5E5">based on prefixes based on community</font>

720
00:42:05,120 --> 00:42:11,240
<font color="#CCCCCC">well don s paths</font><font color="#E5E5E5"> you can say if this</font>

721
00:42:08,840 --> 00:42:14,750
part if<font color="#CCCCCC"> this updates coming through</font><font color="#E5E5E5"> this</font>

722
00:42:11,240 --> 00:42:18,350
is<font color="#CCCCCC"> i don't want to receive</font><font color="#E5E5E5"> this</font><font color="#CCCCCC"> path or</font>

723
00:42:14,750 --> 00:42:20,630
I want<font color="#E5E5E5"> to I want to have less preference</font>

724
00:42:18,350 --> 00:42:23,000
for<font color="#CCCCCC"> that round and so you can change the</font>

725
00:42:20,630 --> 00:42:25,910
preference<font color="#CCCCCC"> for that</font><font color="#E5E5E5"> route so it is by</font>

726
00:42:23,000 --> 00:42:27,350
setting and by setting values as well<font color="#E5E5E5"> as</font>

727
00:42:25,910 --> 00:42:31,009
<font color="#E5E5E5">by filtering based on different</font>

728
00:42:27,350 --> 00:42:36,380
attributes so the BGP attributes are

729
00:42:31,010 --> 00:42:37,820
useful<font color="#E5E5E5"> from that perspective so most</font>

730
00:42:36,380 --> 00:42:41,540
implementations and<font color="#E5E5E5"> vendor</font>

731
00:42:37,820 --> 00:42:47,720
implementations have<font color="#E5E5E5"> tools</font><font color="#CCCCCC"> to achieve</font>

732
00:42:41,540 --> 00:42:51,170
<font color="#CCCCCC">this like prefix</font><font color="#E5E5E5"> lists as</font><font color="#CCCCCC"> pass lists as</font>

733
00:42:47,720 --> 00:42:54,169
<font color="#E5E5E5">pal manipulation language regular</font>

734
00:42:51,170 --> 00:42:57,200
expressions<font color="#CCCCCC"> committee attribute settings</font>

735
00:42:54,170 --> 00:43:01,280
<font color="#CCCCCC">community attribute marching mechanisms</font>

736
00:42:57,200 --> 00:43:05,680
and some kind of<font color="#E5E5E5"> programmatic language</font>

737
00:43:01,280 --> 00:43:05,680
to do<font color="#E5E5E5"> the policy as well</font>

738
00:43:07,870 --> 00:43:15,890
any questions

739
00:43:11,140 --> 00:43:17,359
bgp capabilities so this is extending

740
00:43:15,890 --> 00:43:20,990
<font color="#CCCCCC">BGP so there are different which be</font>

741
00:43:17,360 --> 00:43:24,440
<font color="#E5E5E5">capabilities when BGP was first</font>

742
00:43:20,990 --> 00:43:27,200
introduced it<font color="#E5E5E5"> has been</font><font color="#CCCCCC"> no the bare</font>

743
00:43:24,440 --> 00:43:29,150
minimum protocol and then other features

744
00:43:27,200 --> 00:43:31,790
or other capillaries were added as those

745
00:43:29,150 --> 00:43:35,360
<font color="#E5E5E5">copies are added BGP speakers have to</font>

746
00:43:31,790 --> 00:43:40,910
understand who supports what and that's

747
00:43:35,360 --> 00:43:46,100
negotiated also<font color="#E5E5E5"> so the capability</font>

748
00:43:40,910 --> 00:43:48,290
<font color="#CCCCCC">exchange documented in RFC 20 28</font><font color="#E5E5E5"> 42</font><font color="#CCCCCC"> it</font>

749
00:43:46,100 --> 00:43:50,810
is used when the<font color="#E5E5E5"> session is established</font>

750
00:43:48,290 --> 00:43:52,430
<font color="#CCCCCC">when a big</font><font color="#E5E5E5"> possession established they</font>

751
00:43:50,810 --> 00:43:54,890
will exchange<font color="#CCCCCC"> capabilities</font><font color="#E5E5E5"> I will know</font>

752
00:43:52,430 --> 00:43:57,319
who supports which capability and their

753
00:43:54,890 --> 00:44:01,670
negotiates and settle<font color="#CCCCCC"> down on the ones</font>

754
00:43:57,320 --> 00:44:06,220
<font color="#E5E5E5">that both</font><font color="#CCCCCC"> of them support</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> the</font>

755
00:44:01,670 --> 00:44:06,220
capabilities number is assigned<font color="#E5E5E5"> by iana</font>

756
00:44:06,370 --> 00:44:14,150
<font color="#CCCCCC">the</font><font color="#E5E5E5"> rotors</font><font color="#CCCCCC"> 3 is by consensus</font><font color="#E5E5E5"> i8f</font>

757
00:44:11,270 --> 00:44:18,080
consensus and then<font color="#E5E5E5"> 64th 127 is on</font>

758
00:44:14,150 --> 00:44:19,400
first-come first-serve basis and 122<font color="#E5E5E5"> to</font>

759
00:44:18,080 --> 00:44:22,120
<font color="#E5E5E5">reach 5 it</font><font color="#CCCCCC"> is derivative</font><font color="#E5E5E5"> just for</font>

760
00:44:19,400 --> 00:44:22,120
<font color="#CCCCCC">vendor-specific</font>

761
00:44:23,350 --> 00:44:28,970
so these are the difference which we<font color="#CCCCCC"> cap</font>

762
00:44:27,440 --> 00:44:32,330
abilities<font color="#E5E5E5"> 0 is reserved it</font>

763
00:44:28,970 --> 00:44:33,529
one is multi-protocol extension and you

764
00:44:32,330 --> 00:44:35,210
can see the list rule goes through each

765
00:44:33,530 --> 00:44:38,150
one<font color="#E5E5E5"> of</font><font color="#CCCCCC"> them so I'll go to</font><font color="#E5E5E5"> the next slide</font>

766
00:44:35,210 --> 00:44:41,510
so the multi-protocol extension so the

767
00:44:38,150 --> 00:44:46,460
multi protocol is in your case<font color="#E5E5E5"> in in</font>

768
00:44:41,510 --> 00:44:51,380
this room<font color="#CCCCCC"> I BGP is used mostly for</font><font color="#E5E5E5"> ipv4</font>

769
00:44:46,460 --> 00:44:55,400
unicast but<font color="#CCCCCC"> beach P also supporters ipv4</font>

770
00:44:51,380 --> 00:44:58,370
multicast<font color="#E5E5E5"> ipv6 unicast sorry here's ipv4</font>

771
00:44:55,400 --> 00:45:01,360
and ipv6 unicast typically but<font color="#E5E5E5"> BGP is</font>

772
00:44:58,370 --> 00:45:02,720
also used for ipv4 unicast multicast<font color="#E5E5E5"> for</font>

773
00:45:01,360 --> 00:45:07,160
VPLS

774
00:45:02,720 --> 00:45:10,759
for multicast<font color="#CCCCCC"> redistribution</font><font color="#E5E5E5"> for a</font>

775
00:45:07,160 --> 00:45:14,390
number of other functionalities so that

776
00:45:10,760 --> 00:45:17,270
is supported<font color="#CCCCCC"> in the BGP couple in</font>

777
00:45:14,390 --> 00:45:19,910
multiples of<font color="#CCCCCC"> extension</font>

778
00:45:17,270 --> 00:45:23,570
<font color="#E5E5E5">second one is an important one that</font>

779
00:45:19,910 --> 00:45:25,870
<font color="#E5E5E5">we'll cover here is route refresh</font><font color="#CCCCCC"> this</font>

780
00:45:23,570 --> 00:45:28,250
<font color="#CCCCCC">also reduces the</font><font color="#E5E5E5"> amount the churn</font>

781
00:45:25,870 --> 00:45:29,540
required<font color="#CCCCCC"> during policy change</font><font color="#E5E5E5"> and we</font>

782
00:45:28,250 --> 00:45:33,860
will<font color="#E5E5E5"> see that later on so we'll cover</font>

783
00:45:29,540 --> 00:45:36,470
that<font color="#CCCCCC"> later on the third one is for octet</font>

784
00:45:33,860 --> 00:45:38,420
<font color="#CCCCCC">sa number support so when the two</font>

785
00:45:36,470 --> 00:45:40,580
<font color="#CCCCCC">sections</font><font color="#E5E5E5"> come up they will exchange</font>

786
00:45:38,420 --> 00:45:43,670
capabilities and they will know whether

787
00:45:40,580 --> 00:45:46,520
both of them support or not support for

788
00:45:43,670 --> 00:45:50,120
<font color="#E5E5E5">of it or</font><font color="#CCCCCC"> a SN and</font><font color="#E5E5E5"> will also cover</font><font color="#CCCCCC"> that</font>

789
00:45:46,520 --> 00:45:52,670
one later<font color="#E5E5E5"> on</font><font color="#CCCCCC"> and there</font><font color="#E5E5E5"> are a number of</font>

790
00:45:50,120 --> 00:45:54,319
<font color="#E5E5E5">other</font><font color="#CCCCCC"> couple</font><font color="#E5E5E5"> is being developed</font><font color="#CCCCCC"> and most</font>

791
00:45:52,670 --> 00:45:57,760
of them are implemented even<font color="#E5E5E5"> though they</font>

792
00:45:54,320 --> 00:45:57,760
are not yet full standards

793
00:45:57,970 --> 00:46:03,259
so between scale with techniques so

794
00:46:00,710 --> 00:46:05,270
<font color="#CCCCCC">we'll</font><font color="#E5E5E5"> discuss different techniques that</font>

795
00:46:03,260 --> 00:46:09,260
<font color="#CCCCCC">are used for b2b</font><font color="#E5E5E5"> scalability including</font>

796
00:46:05,270 --> 00:46:11,570
dynamic<font color="#E5E5E5"> reconfiguration</font><font color="#CCCCCC"> which is also</font>

797
00:46:09,260 --> 00:46:14,360
<font color="#CCCCCC">wrap around refresh</font><font color="#E5E5E5"> and you will see how</font>

798
00:46:11,570 --> 00:46:16,460
that's used<font color="#CCCCCC"> we'll look at route</font>

799
00:46:14,360 --> 00:46:19,030
reflectors which is very very important

800
00:46:16,460 --> 00:46:21,920
<font color="#E5E5E5">for</font><font color="#CCCCCC"> scaling the number of peers required</font>

801
00:46:19,030 --> 00:46:24,140
<font color="#CCCCCC">BGP configuration</font><font color="#E5E5E5"> confederations that's</font>

802
00:46:21,920 --> 00:46:26,960
also required for<font color="#CCCCCC"> bid for scaling the</font>

803
00:46:24,140 --> 00:46:29,480
number of<font color="#CCCCCC"> killing</font><font color="#E5E5E5"> the full the finish</font>

804
00:46:26,960 --> 00:46:40,700
peeling requirement and then deploying

805
00:46:29,480 --> 00:46:43,730
for updates<font color="#E5E5E5"> SN</font><font color="#CCCCCC"> okay so</font><font color="#E5E5E5"> I'll skip here so</font>

806
00:46:40,700 --> 00:46:48,129
current<font color="#E5E5E5"> best practice is to</font><font color="#CCCCCC"> use route</font>

807
00:46:43,730 --> 00:46:52,390
refresh and we will cover that shortly

808
00:46:48,130 --> 00:46:55,550
<font color="#CCCCCC">which it's</font><font color="#E5E5E5"> very important to use</font>

809
00:46:52,390 --> 00:47:01,520
configuration templates because it

810
00:46:55,550 --> 00:47:03,830
<font color="#E5E5E5">reduces errors</font><font color="#CCCCCC"> update groups some</font>

811
00:47:01,520 --> 00:47:05,840
vendors<font color="#E5E5E5"> to dynamic update group so you</font>

812
00:47:03,830 --> 00:47:07,880
<font color="#E5E5E5">don't need to do any configuration per</font>

813
00:47:05,840 --> 00:47:10,580
<font color="#CCCCCC">se</font><font color="#E5E5E5"> in that case but if your vendor</font>

814
00:47:07,880 --> 00:47:14,780
doesn't<font color="#E5E5E5"> support or your software doesn't</font>

815
00:47:10,580 --> 00:47:16,430
support dynamic<font color="#E5E5E5"> update groups then</font><font color="#CCCCCC"> you</font>

816
00:47:14,780 --> 00:47:18,890
have to think about<font color="#E5E5E5"> that because that</font>

817
00:47:16,430 --> 00:47:22,580
that<font color="#CCCCCC"> skilled</font><font color="#E5E5E5"> that improves scalability</font><font color="#CCCCCC"> a</font>

818
00:47:18,890 --> 00:47:24,440
lot<font color="#CCCCCC"> router reflector is very very</font>

819
00:47:22,580 --> 00:47:26,509
important we'll discuss that route

820
00:47:24,440 --> 00:47:30,360
aggregation<font color="#E5E5E5"> that's also very important</font>

821
00:47:26,510 --> 00:47:32,280
not<font color="#E5E5E5"> just for a service provider but</font>

822
00:47:30,360 --> 00:47:38,370
or the entire<font color="#CCCCCC"> internet so we'll also</font>

823
00:47:32,280 --> 00:47:40,770
discuss that<font color="#E5E5E5"> and deploying four of the</font>

824
00:47:38,370 --> 00:47:42,779
<font color="#E5E5E5">ASN we're running out of</font><font color="#CCCCCC"> talked</font><font color="#E5E5E5"> it so</font>

825
00:47:40,770 --> 00:47:47,910
that's important and<font color="#CCCCCC"> stop being able to</font>

826
00:47:42,780 --> 00:47:51,450
<font color="#E5E5E5">support</font><font color="#CCCCCC"> 42 SSN</font><font color="#E5E5E5"> is important so going to</font>

827
00:47:47,910 --> 00:47:54,180
<font color="#CCCCCC">route refresh why do we</font><font color="#E5E5E5"> need to out</font>

828
00:47:51,450 --> 00:47:57,270
refresh and what's the problem is trying

829
00:47:54,180 --> 00:47:59,779
<font color="#E5E5E5">to solve so if you let's say you</font><font color="#CCCCCC"> you</font>

830
00:47:57,270 --> 00:48:02,660
have a<font color="#CCCCCC"> beach</font><font color="#E5E5E5"> be peering where you say I</font>

831
00:47:59,780 --> 00:48:04,680
want<font color="#CCCCCC"> to accept this set of prefixes</font>

832
00:48:02,660 --> 00:48:09,839
<font color="#E5E5E5">bears don't different attributes either</font>

833
00:48:04,680 --> 00:48:12,720
community<font color="#E5E5E5"> or a spasmosaur or other or</font>

834
00:48:09,840 --> 00:48:14,340
prefix lists and then you will say I

835
00:48:12,720 --> 00:48:16,740
don't want to<font color="#E5E5E5"> accept</font><font color="#CCCCCC"> the set of prefixes</font>

836
00:48:14,340 --> 00:48:19,520
<font color="#CCCCCC">or you may</font><font color="#E5E5E5"> want to say I accept these</font>

837
00:48:16,740 --> 00:48:21,569
prefixes with this local<font color="#E5E5E5"> preference</font>

838
00:48:19,520 --> 00:48:24,600
<font color="#E5E5E5">except these prefixes with this local</font>

839
00:48:21,570 --> 00:48:27,930
preference<font color="#E5E5E5"> and so on once you</font><font color="#CCCCCC"> apply that</font>

840
00:48:24,600 --> 00:48:30,020
policy for one reason or another<font color="#E5E5E5"> at some</font>

841
00:48:27,930 --> 00:48:34,080
point you wanted<font color="#E5E5E5"> to change that policy</font>

842
00:48:30,020 --> 00:48:38,490
<font color="#E5E5E5">when you change that policy</font><font color="#CCCCCC"> now remember</font>

843
00:48:34,080 --> 00:48:40,529
that when the BGP<font color="#CCCCCC"> is incremental which</font>

844
00:48:38,490 --> 00:48:43,169
means it's<font color="#E5E5E5"> only advertises any new</font>

845
00:48:40,530 --> 00:48:46,830
changes<font color="#E5E5E5"> so the ones that you received</font>

846
00:48:43,170 --> 00:48:49,350
last time<font color="#CCCCCC"> if you reject them it's not in</font>

847
00:48:46,830 --> 00:48:53,160
<font color="#E5E5E5">your routing table now if you want to</font>

848
00:48:49,350 --> 00:48:55,950
add them then<font color="#E5E5E5"> you cannot add them</font>

849
00:48:53,160 --> 00:48:57,990
<font color="#E5E5E5">without bringing down the pier</font><font color="#CCCCCC"> Andrey</font>

850
00:48:55,950 --> 00:49:01,069
stablishing the<font color="#E5E5E5"> pier it's called hard</font>

851
00:48:57,990 --> 00:49:05,009
reset<font color="#E5E5E5"> that's not desirable</font><font color="#CCCCCC"> it will cause</font>

852
00:49:01,070 --> 00:49:08,420
the route churn<font color="#E5E5E5"> not just in that</font>

853
00:49:05,010 --> 00:49:12,810
<font color="#CCCCCC">alternate system but across the internet</font>

854
00:49:08,420 --> 00:49:16,170
so<font color="#CCCCCC"> to to counter that</font><font color="#E5E5E5"> some vendors came</font>

855
00:49:12,810 --> 00:49:18,960
up with a soft reset<font color="#E5E5E5"> and the soft reset</font>

856
00:49:16,170 --> 00:49:21,120
is when<font color="#E5E5E5"> a</font><font color="#CCCCCC"> route when when a router</font>

857
00:49:18,960 --> 00:49:23,010
<font color="#CCCCCC">receives updates</font><font color="#E5E5E5"> it skips it keeps</font>

858
00:49:21,120 --> 00:49:27,020
updates<font color="#E5E5E5"> received even though they are</font>

859
00:49:23,010 --> 00:49:30,510
dropped by policy it keeps them in in

860
00:49:27,020 --> 00:49:33,300
table in memory and<font color="#E5E5E5"> whenever a policy</font>

861
00:49:30,510 --> 00:49:35,910
change<font color="#E5E5E5"> is applied it will reapply the</font>

862
00:49:33,300 --> 00:49:39,150
<font color="#E5E5E5">polls change to those internally stork</font>

863
00:49:35,910 --> 00:49:43,290
<font color="#E5E5E5">updates so that it doesn't require</font>

864
00:49:39,150 --> 00:49:48,120
resetting the pier<font color="#E5E5E5"> how doing harvest</font>

865
00:49:43,290 --> 00:49:52,259
it that but that would<font color="#E5E5E5"> require a lot</font><font color="#CCCCCC"> of</font>

866
00:49:48,120 --> 00:49:54,660
memory allows our memory because on each

867
00:49:52,260 --> 00:49:56,640
<font color="#CCCCCC">peer now you have to keep routes</font>

868
00:49:54,660 --> 00:49:58,620
received from<font color="#E5E5E5"> that</font><font color="#CCCCCC"> peer if you have a</font>

869
00:49:56,640 --> 00:50:01,529
thousand peer then you have to have

870
00:49:58,620 --> 00:50:03,930
thousand times the number<font color="#CCCCCC"> of routes you</font>

871
00:50:01,530 --> 00:50:07,740
receive from<font color="#E5E5E5"> each peer that's a huge</font>

872
00:50:03,930 --> 00:50:11,669
amount<font color="#E5E5E5"> of</font><font color="#CCCCCC"> memory</font><font color="#E5E5E5"> and CPU</font><font color="#CCCCCC"> check so</font>

873
00:50:07,740 --> 00:50:14,430
instead of that the preferred option is

874
00:50:11,670 --> 00:50:16,110
roughly fresh<font color="#CCCCCC"> router refresh</font><font color="#E5E5E5"> is both</font>

875
00:50:14,430 --> 00:50:20,190
authors<font color="#CCCCCC"> agree that they support allows</font>

876
00:50:16,110 --> 00:50:22,110
refresh so once you do that whenever

877
00:50:20,190 --> 00:50:23,730
there's a policy<font color="#E5E5E5"> change the</font><font color="#CCCCCC"> route of</font>

878
00:50:22,110 --> 00:50:26,460
that<font color="#E5E5E5"> changing the policy will send</font>

879
00:50:23,730 --> 00:50:29,100
please do a soft<font color="#CCCCCC"> reset and the</font><font color="#E5E5E5"> other</font>

880
00:50:26,460 --> 00:50:31,410
party will<font color="#CCCCCC"> send the full updates to this</font>

881
00:50:29,100 --> 00:50:33,810
router<font color="#E5E5E5"> and this router will reapply the</font>

882
00:50:31,410 --> 00:50:37,080
policy<font color="#E5E5E5"> so it doesn't need to keep the</font>

883
00:50:33,810 --> 00:50:47,850
routes in memory so that's basically<font color="#E5E5E5"> the</font>

884
00:50:37,080 --> 00:50:54,990
main motivation<font color="#CCCCCC"> for it</font><font color="#E5E5E5"> okay scaling a</font>

885
00:50:47,850 --> 00:50:57,450
BGP mesh so think of<font color="#E5E5E5"> remember we</font><font color="#CCCCCC"> said</font>

886
00:50:54,990 --> 00:50:59,910
<font color="#CCCCCC">that within</font><font color="#E5E5E5"> a single autonomous system</font>

887
00:50:57,450 --> 00:51:02,040
<font color="#E5E5E5">all routers have to be fully meshed that</font>

888
00:50:59,910 --> 00:51:05,730
means each router has<font color="#E5E5E5"> to peel with every</font>

889
00:51:02,040 --> 00:51:09,240
other<font color="#E5E5E5"> rod the reason for that is the</font>

890
00:51:05,730 --> 00:51:12,270
rule so the rule for<font color="#E5E5E5"> the region that is</font>

891
00:51:09,240 --> 00:51:14,729
important is to avoid<font color="#E5E5E5"> route looping in</font>

892
00:51:12,270 --> 00:51:17,370
the case of when you cross multiple

893
00:51:14,730 --> 00:51:20,220
essence<font color="#E5E5E5"> you will use the SN</font><font color="#CCCCCC"> number to</font>

894
00:51:17,370 --> 00:51:23,190
detect loops but<font color="#CCCCCC"> within a single system</font>

895
00:51:20,220 --> 00:51:25,529
<font color="#E5E5E5">autonomous system the principle is once</font>

896
00:51:23,190 --> 00:51:28,770
you receive<font color="#E5E5E5"> a route from ebgp you</font>

897
00:51:25,530 --> 00:51:31,110
<font color="#E5E5E5">advertise</font><font color="#CCCCCC"> this</font><font color="#E5E5E5"> to all your HP peers but</font>

898
00:51:28,770 --> 00:51:33,180
if you receive allowed to ibgp<font color="#E5E5E5"> you don't</font>

899
00:51:31,110 --> 00:51:35,490
advertise<font color="#E5E5E5"> it back to ibgp you only</font>

900
00:51:33,180 --> 00:51:39,359
<font color="#E5E5E5">advertise to a BGP that way you</font><font color="#CCCCCC"> avoid</font>

901
00:51:35,490 --> 00:51:40,830
<font color="#CCCCCC">loop but wait to do that</font><font color="#E5E5E5"> all which be</font>

902
00:51:39,360 --> 00:51:45,990
speakers<font color="#E5E5E5"> within a single</font><font color="#CCCCCC"> ultimate system</font>

903
00:51:40,830 --> 00:51:49,190
<font color="#E5E5E5">have to be fully meshed but that's a</font>

904
00:51:45,990 --> 00:51:51,689
<font color="#E5E5E5">huge problem that's the</font><font color="#CCCCCC"> N</font><font color="#E5E5E5"> and minus one</font>

905
00:51:49,190 --> 00:51:54,440
n times n minus<font color="#CCCCCC"> one</font><font color="#E5E5E5"> over to scale</font>

906
00:51:51,690 --> 00:51:57,130
problem right<font color="#E5E5E5"> so if you have a hundred</font>

907
00:51:54,440 --> 00:52:00,000
<font color="#E5E5E5">if we have a</font><font color="#CCCCCC"> 1,000 routers</font>

908
00:51:57,130 --> 00:52:03,690
bgp then you<font color="#E5E5E5"> will have half a million</font>

909
00:52:00,000 --> 00:52:07,060
peelings<font color="#CCCCCC"> to</font><font color="#E5E5E5"> manage that's a huge amount</font>

910
00:52:03,690 --> 00:52:09,880
<font color="#E5E5E5">so there are two ways</font><font color="#CCCCCC"> to scale for this</font>

911
00:52:07,060 --> 00:52:11,620
one is route reflector which is<font color="#E5E5E5"> a most</font>

912
00:52:09,880 --> 00:52:13,870
commonly used and probably<font color="#CCCCCC"> the most</font>

913
00:52:11,620 --> 00:52:15,609
efficient<font color="#CCCCCC"> the second one is</font>

914
00:52:13,870 --> 00:52:19,509
<font color="#E5E5E5">Confederations and we'll discuss</font><font color="#CCCCCC"> both of</font>

915
00:52:15,610 --> 00:52:22,030
<font color="#CCCCCC">them with the route reflector</font><font color="#E5E5E5"> now the</font>

916
00:52:19,510 --> 00:52:24,940
rule on the route reflector is<font color="#CCCCCC"> relaxing</font>

917
00:52:22,030 --> 00:52:27,570
the ruling the reflector becomes if our

918
00:52:24,940 --> 00:52:30,520
out reflector receives a route on ibgp

919
00:52:27,570 --> 00:52:33,370
from a client from<font color="#E5E5E5"> a route reflector</font>

920
00:52:30,520 --> 00:52:37,630
<font color="#E5E5E5">client then it will it</font><font color="#CCCCCC"> can send it to</font>

921
00:52:33,370 --> 00:52:42,130
any peer both to another<font color="#E5E5E5"> client to an</font>

922
00:52:37,630 --> 00:52:47,650
end client<font color="#E5E5E5"> as well as to ebgp peers</font><font color="#CCCCCC"> if</font>

923
00:52:42,130 --> 00:52:50,710
it receives<font color="#E5E5E5"> a route through an NP R then</font>

924
00:52:47,650 --> 00:52:53,830
sorry an<font color="#CCCCCC"> end client I will</font><font color="#E5E5E5"> appear it</font>

925
00:52:50,710 --> 00:52:56,620
will advertise it on<font color="#E5E5E5"> to a client I will</font>

926
00:52:53,830 --> 00:52:58,360
<font color="#E5E5E5">prepare</font><font color="#CCCCCC"> it can</font><font color="#E5E5E5"> advertise on to a client</font>

927
00:52:56,620 --> 00:53:03,700
I will appear and of<font color="#E5E5E5"> course to ebgp</font>

928
00:52:58,360 --> 00:53:06,130
peers but and then route reflector if

929
00:53:03,700 --> 00:53:07,689
<font color="#CCCCCC">our author is not</font><font color="#E5E5E5"> a reflector the rule</font>

930
00:53:06,130 --> 00:53:10,270
still remains the same that<font color="#E5E5E5"> means if it</font>

931
00:53:07,690 --> 00:53:14,680
receives<font color="#E5E5E5"> ibgp updates it will not send</font>

932
00:53:10,270 --> 00:53:19,900
it back<font color="#E5E5E5"> onto another</font><font color="#CCCCCC"> a BT updates okay</font>

933
00:53:14,680 --> 00:53:22,990
so so<font color="#CCCCCC"> basically what will happen</font><font color="#E5E5E5"> is each</font>

934
00:53:19,900 --> 00:53:24,850
router will peer with one reflector or

935
00:53:22,990 --> 00:53:27,040
two<font color="#E5E5E5"> reflectors for redundancy purpose</font>

936
00:53:24,850 --> 00:53:28,990
and then the route reflectors will have

937
00:53:27,040 --> 00:53:31,960
a full mesh<font color="#E5E5E5"> between themselves or you</font>

938
00:53:28,990 --> 00:53:35,830
cannot<font color="#E5E5E5"> even a hierarchy so</font><font color="#CCCCCC"> that way now</font>

939
00:53:31,960 --> 00:53:37,240
the scale is reduced<font color="#E5E5E5"> you are subdividing</font>

940
00:53:35,830 --> 00:53:39,670
the<font color="#E5E5E5"> network in this particular case you</font>

941
00:53:37,240 --> 00:53:42,250
can<font color="#E5E5E5"> see it is so divided into three</font>

942
00:53:39,670 --> 00:53:44,230
different clusters in each cluster<font color="#CCCCCC"> each</font>

943
00:53:42,250 --> 00:53:46,720
router is connected<font color="#E5E5E5"> to one</font><font color="#CCCCCC"> Roth</font>

944
00:53:44,230 --> 00:53:50,230
reflector the<font color="#CCCCCC"> Klan's and then the</font>

945
00:53:46,720 --> 00:53:55,870
clients are fully meshed<font color="#CCCCCC"> in</font><font color="#E5E5E5"> the triangle</font>

946
00:53:50,230 --> 00:53:57,940
in this case so the<font color="#CCCCCC"> Pala</font><font color="#E5E5E5"> G is you divide</font>

947
00:53:55,870 --> 00:54:01,270
the backbone into multiple clusters<font color="#E5E5E5"> and</font>

948
00:53:57,940 --> 00:54:04,930
then you will have one reflector in each

949
00:54:01,270 --> 00:54:06,310
cluster and and each clan will connect

950
00:54:04,930 --> 00:54:08,649
to the router<font color="#E5E5E5"> flector</font>

951
00:54:06,310 --> 00:54:10,150
usually a client will connect to two

952
00:54:08,650 --> 00:54:12,870
rows of<font color="#CCCCCC"> lectures which means to</font><font color="#E5E5E5"> be</font><font color="#CCCCCC"> no</font>

953
00:54:10,150 --> 00:54:12,870
<font color="#CCCCCC">stew to cluster</font>

954
00:54:13,619 --> 00:54:22,599
you still have one<font color="#CCCCCC"> IGP that doesn't</font>

955
00:54:16,950 --> 00:54:24,430
change<font color="#E5E5E5"> so you will have a huge</font>

956
00:54:22,599 --> 00:54:29,500
<font color="#E5E5E5">scalability so now with the route</font>

957
00:54:24,430 --> 00:54:32,609
reflector how do I avoid<font color="#CCCCCC"> loop looping it</font>

958
00:54:29,500 --> 00:54:35,950
uses originator ID<font color="#E5E5E5"> and cluster</font><font color="#CCCCCC"> lists a</font>

959
00:54:32,609 --> 00:54:37,808
cluster usually the cluster<font color="#E5E5E5"> a club when</font>

960
00:54:35,950 --> 00:54:41,169
or not a lot<font color="#E5E5E5"> of</font><font color="#CCCCCC"> references are out</font><font color="#E5E5E5"> and</font>

961
00:54:37,809 --> 00:54:45,400
sends an update to another peer it will

962
00:54:41,170 --> 00:54:47,950
set its own cluster<font color="#E5E5E5"> ID</font><font color="#CCCCCC"> as it will obtain</font>

963
00:54:45,400 --> 00:54:50,530
this from<font color="#CCCCCC"> classifier ID</font><font color="#E5E5E5"> and send it so</font>

964
00:54:47,950 --> 00:54:52,689
if that<font color="#E5E5E5"> router receives the same cluster</font>

965
00:54:50,530 --> 00:54:56,559
ID<font color="#E5E5E5"> then it will drop it so it uses the</font>

966
00:54:52,690 --> 00:55:00,760
cluster ID in the cluster list<font color="#E5E5E5"> to detect</font>

967
00:54:56,559 --> 00:55:04,180
loops redundancy<font color="#E5E5E5"> is very important</font>

968
00:55:00,760 --> 00:55:06,099
obviously<font color="#E5E5E5"> so typically</font><font color="#CCCCCC"> you'll have</font><font color="#E5E5E5"> to in</font>

969
00:55:04,180 --> 00:55:10,450
<font color="#CCCCCC">some cases three route reflectors for</font>

970
00:55:06,099 --> 00:55:13,780
<font color="#CCCCCC">each clan so</font><font color="#E5E5E5"> usually you'll have let's</font>

971
00:55:10,450 --> 00:55:16,180
say suppose you<font color="#CCCCCC"> have twenty clans</font><font color="#E5E5E5"> and</font>

972
00:55:13,780 --> 00:55:18,430
two relative<font color="#CCCCCC"> flexors each of the</font><font color="#E5E5E5"> twenty</font>

973
00:55:16,180 --> 00:55:21,160
clans will appear<font color="#CCCCCC"> whose post</font><font color="#E5E5E5"> with both</font>

974
00:55:18,430 --> 00:55:23,980
route reflectors<font color="#CCCCCC"> and then you can have a</font>

975
00:55:21,160 --> 00:55:25,899
hierarchy<font color="#E5E5E5"> or you can have</font><font color="#CCCCCC"> as</font><font color="#E5E5E5"> other</font>

976
00:55:23,980 --> 00:55:29,920
clusters and then the clusters will be

977
00:55:25,900 --> 00:55:33,280
will<font color="#E5E5E5"> have a full mesh so redundancy is</font>

978
00:55:29,920 --> 00:55:36,250
very important so here is an example<font color="#CCCCCC"> of</font>

979
00:55:33,280 --> 00:55:38,950
redundancy<font color="#CCCCCC"> so here this example</font><font color="#E5E5E5"> shows</font>

980
00:55:36,250 --> 00:55:40,960
three pups<font color="#E5E5E5"> each pup has</font><font color="#CCCCCC"> two route</font>

981
00:55:38,950 --> 00:55:43,839
reflectors<font color="#E5E5E5"> which means two clusters per</font>

982
00:55:40,960 --> 00:55:45,849
<font color="#E5E5E5">pod so even though it says here cluster</font>

983
00:55:43,839 --> 00:55:49,000
<font color="#E5E5E5">one and two you</font><font color="#CCCCCC"> actually have in effect</font>

984
00:55:45,849 --> 00:55:51,609
<font color="#E5E5E5">you have six clusters in this case so</font>

985
00:55:49,000 --> 00:55:53,589
two clusters<font color="#E5E5E5"> per</font><font color="#CCCCCC"> pub each client</font>

986
00:55:51,609 --> 00:55:56,640
connects<font color="#CCCCCC"> to</font><font color="#E5E5E5"> two</font><font color="#CCCCCC"> route of Lecter's</font><font color="#E5E5E5"> in</font>

987
00:55:53,589 --> 00:55:56,640
each<font color="#E5E5E5"> of the two clusters</font>

988
00:55:58,610 --> 00:56:08,150
so the benefit is<font color="#CCCCCC"> it's always I</font><font color="#E5E5E5"> finish</font>

989
00:56:02,260 --> 00:56:11,180
<font color="#CCCCCC">it doesn't impact packet forwarding it</font>

990
00:56:08,150 --> 00:56:13,250
has a<font color="#E5E5E5"> little bit impact in that that</font>

991
00:56:11,180 --> 00:56:16,549
<font color="#CCCCCC">altar collector makes a pass</font><font color="#E5E5E5"> selection</font>

992
00:56:13,250 --> 00:56:17,990
and sends the best path<font color="#E5E5E5"> to the</font><font color="#CCCCCC"> Klan's</font><font color="#E5E5E5"> so</font>

993
00:56:16,550 --> 00:56:21,590
it's not<font color="#E5E5E5"> that</font><font color="#CCCCCC"> the clients receive all</font>

994
00:56:17,990 --> 00:56:23,979
the paths but still the forwarding<font color="#E5E5E5"> the</font>

995
00:56:21,590 --> 00:56:27,500
eventual forwarding doesn't get affected

996
00:56:23,980 --> 00:56:31,120
<font color="#E5E5E5">it's an easy migration</font><font color="#CCCCCC"> to go from a full</font>

997
00:56:27,500 --> 00:56:33,380
mesh to a router<font color="#E5E5E5"> flector topology and</font>

998
00:56:31,120 --> 00:56:38,350
you can have multiple apps<font color="#E5E5E5"> table so</font>

999
00:56:33,380 --> 00:56:41,210
proud reflectors<font color="#CCCCCC"> so the migration is</font>

1000
00:56:38,350 --> 00:56:46,069
usually very simple you<font color="#E5E5E5"> can start from a</font>

1001
00:56:41,210 --> 00:56:51,200
small cluster and expand throughout the

1002
00:56:46,070 --> 00:56:53,300
network so this is showing an<font color="#CCCCCC"> example of</font>

1003
00:56:51,200 --> 00:56:55,879
migration<font color="#E5E5E5"> in this particular case it's</font>

1004
00:56:53,300 --> 00:56:59,480
it's<font color="#E5E5E5"> just doing</font><font color="#CCCCCC"> the route reflector</font>

1005
00:56:55,880 --> 00:57:01,190
within that pub<font color="#E5E5E5"> so it creates a router</font>

1006
00:56:59,480 --> 00:57:04,670
<font color="#CCCCCC">Flixter deep cancel out reflector and</font>

1007
00:57:01,190 --> 00:57:08,690
everybody<font color="#CCCCCC"> e</font><font color="#E5E5E5"> removes all its peers and</font>

1008
00:57:04,670 --> 00:57:12,710
<font color="#E5E5E5">just</font><font color="#CCCCCC"> piece with a reflector e</font><font color="#E5E5E5"> same thing</font>

1009
00:57:08,690 --> 00:57:14,690
with F and G but B and C still remains

1010
00:57:12,710 --> 00:57:17,510
in<font color="#E5E5E5"> a</font><font color="#CCCCCC"> finish and you can upgrade them</font>

1011
00:57:14,690 --> 00:57:21,560
later<font color="#CCCCCC"> on to become part of the router</font>

1012
00:57:17,510 --> 00:57:29,000
<font color="#CCCCCC">flicker topology</font><font color="#E5E5E5"> but the key is it is</font>

1013
00:57:21,560 --> 00:57:32,960
incremental<font color="#CCCCCC"> configuration has the same</font>

1014
00:57:29,000 --> 00:57:38,540
effects but in a<font color="#CCCCCC"> different</font><font color="#E5E5E5"> way</font><font color="#CCCCCC"> it</font><font color="#E5E5E5"> used</font>

1015
00:57:32,960 --> 00:57:43,730
<font color="#E5E5E5">to deal with to deal with the full mesh</font>

1016
00:57:38,540 --> 00:57:45,860
problem in this case it is it creates

1017
00:57:43,730 --> 00:57:48,110
<font color="#CCCCCC">multiple sub Confederations its sub</font>

1018
00:57:45,860 --> 00:57:51,740
<font color="#E5E5E5">configuration becomes its own</font><font color="#CCCCCC"> autonomous</font>

1019
00:57:48,110 --> 00:57:54,590
system it usually use<font color="#CCCCCC"> the private</font><font color="#E5E5E5"> s for</font>

1020
00:57:51,740 --> 00:57:57,439
the sub<font color="#CCCCCC"> Confederation</font><font color="#E5E5E5"> it is still one</font>

1021
00:57:54,590 --> 00:58:00,830
<font color="#E5E5E5">out on a system but with sub autonomous</font>

1022
00:57:57,440 --> 00:58:03,370
systems it<font color="#CCCCCC"> uses just a single</font><font color="#E5E5E5"> ID PHP</font>

1023
00:58:00,830 --> 00:58:03,370
doesn't<font color="#E5E5E5"> change</font>

1024
00:58:05,289 --> 00:58:10,729
the<font color="#E5E5E5"> sub</font><font color="#CCCCCC"> corporation is not</font><font color="#E5E5E5"> visible to</font>

1025
00:58:08,089 --> 00:58:12,229
<font color="#E5E5E5">the</font><font color="#CCCCCC"> outside world it's only</font><font color="#E5E5E5"> for internal</font>

1026
00:58:10,729 --> 00:58:16,249
use within<font color="#E5E5E5"> the service provider within</font>

1027
00:58:12,229 --> 00:58:20,689
<font color="#E5E5E5">within a</font><font color="#CCCCCC"> single zone a system here is an</font>

1028
00:58:16,249 --> 00:58:25,308
<font color="#CCCCCC">example so here you have s 200 with</font>

1029
00:58:20,690 --> 00:58:28,099
<font color="#CCCCCC">three Confederations</font><font color="#E5E5E5"> a 65536</font><font color="#CCCCCC"> 5 5 3 1 in</font>

1030
00:58:25,309 --> 00:58:32,720
<font color="#CCCCCC">6 5 5 3 2</font><font color="#E5E5E5"> usually the private case and</font>

1031
00:58:28,099 --> 00:58:35,809
number<font color="#E5E5E5"> used for Confederation and you</font>

1032
00:58:32,720 --> 00:58:38,689
have a BGP between Confederations and I

1033
00:58:35,809 --> 00:58:40,430
believe within<font color="#E5E5E5"> the Confederation you can</font>

1034
00:58:38,690 --> 00:58:42,289
have a b2b page mesh<font color="#E5E5E5"> within the</font>

1035
00:58:40,430 --> 00:58:45,558
<font color="#CCCCCC">Confederation or you can even</font><font color="#E5E5E5"> mix</font><font color="#CCCCCC"> the</font>

1036
00:58:42,289 --> 00:58:49,039
<font color="#E5E5E5">round reflector in the Confederation</font>

1037
00:58:45,559 --> 00:58:52,009
<font color="#E5E5E5">itself so here is a an example</font>

1038
00:58:49,039 --> 00:58:55,999
<font color="#E5E5E5">configuration for Confederation so in</font>

1039
00:58:52,009 --> 00:58:59,420
this case first<font color="#E5E5E5"> you say I have</font><font color="#CCCCCC"> to this</font>

1040
00:58:55,999 --> 00:59:03,859
Confederation which is 6 5 5 3 2 has two

1041
00:58:59,420 --> 00:59:07,489
sub Confederation peers<font color="#E5E5E5"> 3 5 6 5 5 3 0</font><font color="#CCCCCC"> &</font>

1042
00:59:03,859 --> 00:59:09,640
3<font color="#CCCCCC"> 1 and</font><font color="#E5E5E5"> then for each one</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> them and</font>

1043
00:59:07,489 --> 00:59:12,200
<font color="#CCCCCC">you</font><font color="#E5E5E5"> have the configuration ID the</font>

1044
00:59:09,640 --> 00:59:14,299
configuration identifier which is the

1045
00:59:12,200 --> 00:59:20,989
<font color="#CCCCCC">ACE number for the entire autonomous</font>

1046
00:59:14,299 --> 00:59:24,200
system so the AC pins number<font color="#E5E5E5"> this</font><font color="#CCCCCC"> is</font>

1047
00:59:20,989 --> 00:59:27,519
<font color="#CCCCCC">very important to understand here</font><font color="#E5E5E5"> so if</font>

1048
00:59:24,200 --> 00:59:32,319
you look at the route received from

1049
00:59:27,519 --> 00:59:37,160
appear from outside peer from peer 200 s

1050
00:59:32,319 --> 00:59:40,910
201 a t-1000 16<font color="#E5E5E5"> when it is advertised to</font>

1051
00:59:37,160 --> 00:59:47,390
<font color="#CCCCCC">the next Confederation</font><font color="#E5E5E5"> to Confederation</font>

1052
00:59:40,910 --> 00:59:49,640
<font color="#CCCCCC">6</font><font color="#E5E5E5"> 5 0 0</font><font color="#CCCCCC"> 4 it has</font><font color="#E5E5E5"> 200 and then 6500 2</font>

1053
00:59:47,390 --> 00:59:52,578
which is the Confederation s number and

1054
00:59:49,640 --> 00:59:54,549
then when<font color="#E5E5E5"> it's advertised that to the</font>

1055
00:59:52,579 --> 00:59:57,890
next Confederation<font color="#E5E5E5"> it will add</font>

1056
00:59:54,549 --> 01:00:00,109
<font color="#CCCCCC">additional Confederation ID</font><font color="#E5E5E5"> but when it</font>

1057
00:59:57,890 --> 01:00:02,299
hit eventually advertise it to<font color="#CCCCCC"> the</font>

1058
01:00:00,109 --> 01:00:06,019
<font color="#CCCCCC">outside</font><font color="#E5E5E5"> world the Confederation</font><font color="#CCCCCC"> ace</font>

1059
01:00:02,299 --> 01:00:09,049
number is replaced with actual s number

1060
01:00:06,019 --> 01:00:13,419
which is 100<font color="#CCCCCC"> and sent so it's only used</font>

1061
01:00:09,049 --> 01:00:16,660
for<font color="#E5E5E5"> internal purposes key for</font>

1062
01:00:13,420 --> 01:00:16,660
Confederation is

1063
01:00:18,310 --> 01:00:24,230
so the external<font color="#CCCCCC"> pieces still refer</font><font color="#E5E5E5"> to</font>

1064
01:00:20,840 --> 01:00:26,780
<font color="#E5E5E5">this router as with its honk of the</font><font color="#CCCCCC"> ace</font>

1065
01:00:24,230 --> 01:00:33,260
<font color="#E5E5E5">number but the internal peering is done</font>

1066
01:00:26,780 --> 01:00:36,020
with the<font color="#E5E5E5"> configuration</font><font color="#CCCCCC"> s number so</font>

1067
01:00:33,260 --> 01:00:38,690
<font color="#CCCCCC">Pearson a</font><font color="#E5E5E5"> difference is preferred local</font>

1068
01:00:36,020 --> 01:00:42,560
preference<font color="#E5E5E5"> made everything remains the</font>

1069
01:00:38,690 --> 01:00:47,420
same so<font color="#E5E5E5"> external</font><font color="#CCCCCC"> peers refer refers</font>

1070
01:00:42,560 --> 01:00:51,040
normal to external assets so<font color="#CCCCCC"> that</font><font color="#E5E5E5"> key</font>

1071
01:00:47,420 --> 01:00:53,120
differences between the<font color="#E5E5E5"> two both of them</font>

1072
01:00:51,040 --> 01:00:56,050
can<font color="#CCCCCC"> be used</font><font color="#E5E5E5"> for</font><font color="#CCCCCC"> Internet connectivity</font>

1073
01:00:53,120 --> 01:01:01,400
they both support multi level hierarchy

1074
01:00:56,050 --> 01:01:03,520
they both support policy control the key

1075
01:01:01,400 --> 01:01:07,100
difference is in<font color="#CCCCCC"> terms of</font><font color="#E5E5E5"> scalability</font>

1076
01:01:03,520 --> 01:01:10,540
<font color="#E5E5E5">router if later scales better arguably</font>

1077
01:01:07,100 --> 01:01:14,470
and also from<font color="#CCCCCC"> a migration perspective</font>

1078
01:01:10,540 --> 01:01:19,430
<font color="#CCCCCC">route reflector has normai Gration</font>

1079
01:01:14,470 --> 01:01:23,029
overhead compared to compared

1080
01:01:19,430 --> 01:01:25,819
<font color="#E5E5E5">Confederations but in some cases where</font>

1081
01:01:23,030 --> 01:01:27,620
<font color="#CCCCCC">you are absorbing one service</font><font color="#E5E5E5"> problems</font>

1082
01:01:25,820 --> 01:01:36,590
another service provider<font color="#E5E5E5"> Confederation</font>

1083
01:01:27,620 --> 01:01:38,750
may be a better choice so let<font color="#E5E5E5"> me check</font>

1084
01:01:36,590 --> 01:01:45,400
what

1085
01:01:38,750 --> 01:01:55,810
I was checking just<font color="#CCCCCC"> a slide number okay</font>

1086
01:01:45,400 --> 01:01:58,490
so for update or<font color="#CCCCCC"> ASN it is documented in</font>

1087
01:01:55,810 --> 01:02:01,279
48<font color="#E5E5E5"> 93 RFC 49th Street</font>

1088
01:01:58,490 --> 01:02:04,819
<font color="#E5E5E5">and those related RFC's that you see</font>

1089
01:02:01,280 --> 01:02:09,410
there and it<font color="#CCCCCC"> reserves</font><font color="#E5E5E5"> two three four</font>

1090
01:02:04,820 --> 01:02:12,590
five six<font color="#E5E5E5"> in</font><font color="#CCCCCC"> two</font><font color="#E5E5E5"> opted</font><font color="#CCCCCC"> a SN to present a</font>

1091
01:02:09,410 --> 01:02:19,790
<font color="#E5E5E5">for octet or SN in a two octave SN</font>

1092
01:02:12,590 --> 01:02:24,260
wallet so a topic SN refers to on to<font color="#CCCCCC"> my</font>

1093
01:02:19,790 --> 01:02:31,599
SN or 16 bits<font color="#E5E5E5"> SN refers to the range 0</font>

1094
01:02:24,260 --> 01:02:36,380
to 65535 a<font color="#E5E5E5"> four octave SN refers from</font>

1095
01:02:31,599 --> 01:02:39,230
65,000 to four billion and a four octet

1096
01:02:36,380 --> 01:02:44,990
is a saint poom<font color="#E5E5E5"> refers to the entire</font>

1097
01:02:39,230 --> 01:02:49,550
<font color="#E5E5E5">range from</font><font color="#CCCCCC"> zero to four billion the</font><font color="#E5E5E5"> key</font>

1098
01:02:44,990 --> 01:02:52,970
terms you can get a<font color="#CCCCCC"> 40 SN from</font>

1099
01:02:49,550 --> 01:02:54,950
registries so there has been<font color="#E5E5E5"> changes but</font>

1100
01:02:52,970 --> 01:02:56,868
now there is<font color="#E5E5E5"> no difference between how</font>

1101
01:02:54,950 --> 01:03:03,279
you get a<font color="#CCCCCC"> four update and I talked to</font>

1102
01:02:56,869 --> 01:03:07,390
the SN same process so<font color="#E5E5E5"> representation</font>

1103
01:03:03,280 --> 01:03:11,000
now it's very difficult<font color="#E5E5E5"> to represent</font>

1104
01:03:07,390 --> 01:03:15,529
<font color="#CCCCCC">four billion number in a nice way</font>

1105
01:03:11,000 --> 01:03:19,130
so some people want<font color="#CCCCCC"> to change that and</font>

1106
01:03:15,530 --> 01:03:22,940
use a dot notation<font color="#E5E5E5"> so it splits the SN</font>

1107
01:03:19,130 --> 01:03:29,150
into two octaves<font color="#CCCCCC"> to two octaves instead</font>

1108
01:03:22,940 --> 01:03:31,339
of<font color="#CCCCCC"> once</font><font color="#E5E5E5"> for octet number so as a result</font>

1109
01:03:29,150 --> 01:03:33,349
we have three different<font color="#E5E5E5"> formats</font><font color="#CCCCCC"> s plane</font>

1110
01:03:31,339 --> 01:03:36,710
which is<font color="#E5E5E5"> the entire four octet</font>

1111
01:03:33,349 --> 01:03:40,220
represented as one number<font color="#E5E5E5"> s dot which is</font>

1112
01:03:36,710 --> 01:03:43,700
the<font color="#E5E5E5"> SNL present that other two octaves</font>

1113
01:03:40,220 --> 01:03:47,089
represented separated by a dot but it

1114
01:03:43,700 --> 01:03:50,210
only represents a for octet<font color="#E5E5E5"> SN and then</font>

1115
01:03:47,089 --> 01:03:53,029
s dot plus representing both<font color="#CCCCCC"> a</font><font color="#E5E5E5"> two</font>

1116
01:03:50,210 --> 01:03:57,980
<font color="#E5E5E5">octave</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> the four octave SN</font>

1117
01:03:53,029 --> 01:04:01,670
in a dot notation but<font color="#E5E5E5"> when you create</font>

1118
01:03:57,980 --> 01:04:05,960
both a start and a start<font color="#CCCCCC"> plus creates a</font>

1119
01:04:01,670 --> 01:04:07,700
problem<font color="#CCCCCC"> for regular expressions</font>

1120
01:04:05,960 --> 01:04:08,900
filtering<font color="#E5E5E5"> and so on that</font><font color="#CCCCCC"> you have you</font>

1121
01:04:07,700 --> 01:04:11,299
<font color="#CCCCCC">have</font><font color="#E5E5E5"> to rewrite all your regular</font>

1122
01:04:08,900 --> 01:04:15,019
expressions and<font color="#E5E5E5"> filtering that you use</font>

1123
01:04:11,299 --> 01:04:17,980
for<font color="#E5E5E5"> a s ends and this example shows</font><font color="#CCCCCC"> you</font>

1124
01:04:15,019 --> 01:04:17,979
why that's the<font color="#E5E5E5"> case</font>

1125
01:04:20,200 --> 01:04:24,680
so how do you go from a two octave to a

1126
01:04:23,480 --> 01:04:27,650
for octet

1127
01:04:24,680 --> 01:04:30,740
the key is there is no<font color="#CCCCCC"> flag day so you</font>

1128
01:04:27,650 --> 01:04:32,869
can<font color="#CCCCCC"> incrementally</font><font color="#E5E5E5"> go from or totally to</font>

1129
01:04:30,740 --> 01:04:36,109
for updates first<font color="#CCCCCC"> thing that you</font><font color="#E5E5E5"> can do</font>

1130
01:04:32,869 --> 01:04:40,549
is just start upgrading your<font color="#CCCCCC"> routers 200</font>

1131
01:04:36,109 --> 01:04:43,609
rockets to a version that supports four

1132
01:04:40,549 --> 01:04:47,089
of it<font color="#CCCCCC"> or SN and most do and you will see</font>

1133
01:04:43,609 --> 01:04:50,660
that<font color="#E5E5E5"> later on once you have that then</font>

1134
01:04:47,089 --> 01:04:55,160
you<font color="#CCCCCC"> can</font><font color="#E5E5E5"> start supporting the for update</font>

1135
01:04:50,660 --> 01:04:58,069
<font color="#E5E5E5">SN and it works fine</font><font color="#CCCCCC"> if you have a</font>

1136
01:04:55,160 --> 01:04:59,960
totally<font color="#CCCCCC"> sane you will continue your tour</font>

1137
01:04:58,069 --> 01:05:05,529
<font color="#CCCCCC">today</font><font color="#E5E5E5"> SN but you will we still be able</font>

1138
01:04:59,960 --> 01:05:05,529
<font color="#E5E5E5">to accept and see a four octave SN paths</font>

1139
01:05:08,780 --> 01:05:16,550
<font color="#E5E5E5">okay so the key is when when you have a</font>

1140
01:05:13,960 --> 01:05:18,920
router<font color="#E5E5E5"> that supports</font><font color="#CCCCCC"> our talked it and</font>

1141
01:05:16,550 --> 01:05:22,220
another router that supports a<font color="#CCCCCC"> for octet</font>

1142
01:05:18,920 --> 01:05:26,660
and<font color="#CCCCCC"> the router</font><font color="#E5E5E5"> that opposed the forked</font>

1143
01:05:22,220 --> 01:05:30,169
it has a<font color="#CCCCCC"> four of it s in</font><font color="#E5E5E5"> then when you</font>

1144
01:05:26,660 --> 01:05:32,540
<font color="#E5E5E5">configure the</font><font color="#CCCCCC"> router that that</font><font color="#E5E5E5"> doesn't</font>

1145
01:05:30,170 --> 01:05:35,870
support<font color="#E5E5E5"> for of database in has to be</font>

1146
01:05:32,540 --> 01:05:38,240
<font color="#E5E5E5">configured to talk to s number two three</font>

1147
01:05:35,870 --> 01:05:40,520
four five six<font color="#E5E5E5"> instead of the actual SN</font>

1148
01:05:38,240 --> 01:05:42,799
number because it doesn't understand<font color="#E5E5E5"> for</font>

1149
01:05:40,520 --> 01:05:45,860
update or<font color="#E5E5E5"> a SN that's the key from a</font>

1150
01:05:42,800 --> 01:05:47,030
configuration perspective but that's if

1151
01:05:45,860 --> 01:05:49,850
you<font color="#E5E5E5"> have a router that doesn't support</font>

1152
01:05:47,030 --> 01:05:55,340
<font color="#E5E5E5">for updates SN which is very rare</font>

1153
01:05:49,850 --> 01:05:58,009
nowadays<font color="#E5E5E5"> okay so this is a compile</font>

1154
01:05:55,340 --> 01:06:02,750
compatibility mode<font color="#E5E5E5"> so when you have</font><font color="#CCCCCC"> that</font>

1155
01:05:58,010 --> 01:06:07,100
the takata SN always<font color="#E5E5E5"> see stocked 8 SN</font>

1156
01:06:02,750 --> 01:06:10,390
paths<font color="#E5E5E5"> and the four of the SN number E is</font>

1157
01:06:07,100 --> 01:06:14,120
replaced<font color="#CCCCCC"> by two</font><font color="#E5E5E5"> three four five six and</font>

1158
01:06:10,390 --> 01:06:15,770
this difference is<font color="#E5E5E5"> that example and they</font>

1159
01:06:14,120 --> 01:06:22,000
say in this<font color="#CCCCCC"> example you can see that</font><font color="#E5E5E5"> s</font>

1160
01:06:15,770 --> 01:06:23,500
which one has received updates from<font color="#E5E5E5"> s</font>

1161
01:06:22,000 --> 01:06:27,800
80,000

1162
01:06:23,500 --> 01:06:29,270
but the 80,000 and $70,000 placed<font color="#E5E5E5"> both</font>

1163
01:06:27,800 --> 01:06:30,920
of them are placed with two three four

1164
01:06:29,270 --> 01:06:33,860
five six<font color="#E5E5E5"> so you will see multiple of</font>

1165
01:06:30,920 --> 01:06:36,350
that in s<font color="#E5E5E5"> path because each one it</font>

1166
01:06:33,860 --> 01:06:40,430
<font color="#CCCCCC">repellants just a random not a random a</font>

1167
01:06:36,350 --> 01:06:43,310
specific<font color="#E5E5E5"> four of the SN so you may see</font>

1168
01:06:40,430 --> 01:06:45,589
in a sparse<font color="#E5E5E5"> multiple two three four five</font>

1169
01:06:43,310 --> 01:06:48,890
six<font color="#E5E5E5"> appearing in the</font><font color="#CCCCCC"> spots</font><font color="#E5E5E5"> doesn't</font>

1170
01:06:45,590 --> 01:06:50,990
indicate a look and it doesn't fail loop

1171
01:06:48,890 --> 01:06:55,250
detection<font color="#E5E5E5"> new protection is when you see</font>

1172
01:06:50,990 --> 01:07:03,020
your<font color="#E5E5E5"> own SN in received paths so this is</font>

1173
01:06:55,250 --> 01:07:05,990
<font color="#E5E5E5">not a loop so what has</font><font color="#CCCCCC"> changed</font><font color="#E5E5E5"> so two</font>

1174
01:07:03,020 --> 01:07:10,120
attributes<font color="#E5E5E5"> we used to have</font><font color="#CCCCCC"> s pulse</font><font color="#E5E5E5"> now a</font>

1175
01:07:05,990 --> 01:07:13,040
new attribute is<font color="#E5E5E5"> for paths is introduced</font>

1176
01:07:10,120 --> 01:07:14,779
<font color="#E5E5E5">in addition s for aggregator is also</font>

1177
01:07:13,040 --> 01:07:18,830
introduced when you do<font color="#CCCCCC"> proud aggregation</font>

1178
01:07:14,780 --> 01:07:21,290
<font color="#E5E5E5">and also a new s number is reserved</font>

1179
01:07:18,830 --> 01:07:22,470
<font color="#CCCCCC">eight</font><font color="#E5E5E5"> two three four five six</font>

1180
01:07:21,290 --> 01:07:25,369
as

1181
01:07:22,470 --> 01:07:25,368
as<font color="#CCCCCC"> trance</font>

1182
01:07:29,460 --> 01:07:36,330
what do they look like<font color="#E5E5E5"> so here is</font>

1183
01:07:32,690 --> 01:07:38,610
<font color="#CCCCCC">s-plane notation</font><font color="#E5E5E5"> in a splint</font><font color="#CCCCCC"> format</font><font color="#E5E5E5"> so</font>

1184
01:07:36,330 --> 01:07:45,240
the top one<font color="#E5E5E5"> is</font><font color="#CCCCCC"> in s plain format and the</font>

1185
01:07:38,610 --> 01:07:50,940
s-plane format<font color="#E5E5E5"> you will see the</font><font color="#CCCCCC"> full ace</font>

1186
01:07:45,240 --> 01:07:54,359
is pass information<font color="#E5E5E5"> in a</font><font color="#CCCCCC"> stud format</font><font color="#E5E5E5"> you</font>

1187
01:07:50,940 --> 01:07:57,240
will see 2.0<font color="#E5E5E5"> and 3.5 and instead</font><font color="#CCCCCC"> of that</font>

1188
01:07:54,360 --> 01:08:00,090
long number<font color="#E5E5E5"> so it makes the number of</font>

1189
01:07:57,240 --> 01:08:01,560
shorter so<font color="#CCCCCC"> that the reason why some</font>

1190
01:08:00,090 --> 01:08:06,230
<font color="#CCCCCC">people wanted</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> use that notation</font>

1191
01:08:01,560 --> 01:08:06,230
because it<font color="#CCCCCC"> simplifies the representation</font>

1192
01:08:06,380 --> 01:08:13,530
so how does that<font color="#E5E5E5"> same path look like in</font>

1193
01:08:09,960 --> 01:08:15,720
a<font color="#CCCCCC"> two octet world just replace those</font>

1194
01:08:13,530 --> 01:08:25,320
four octet<font color="#CCCCCC"> SNS with two three</font><font color="#E5E5E5"> four five</font>

1195
01:08:15,720 --> 01:08:32,160
six okay so what is the impact<font color="#E5E5E5"> of not</font>

1196
01:08:25,319 --> 01:08:34,170
supporting<font color="#E5E5E5"> a</font><font color="#CCCCCC"> four</font><font color="#E5E5E5"> Rockets</font><font color="#CCCCCC"> ASN so one of</font>

1197
01:08:32,160 --> 01:08:37,590
the<font color="#E5E5E5"> problems is you don't really know</font>

1198
01:08:34,170 --> 01:08:39,750
the exact paths<font color="#CCCCCC"> taking because every</font>

1199
01:08:37,590 --> 01:08:45,870
product<font color="#CCCCCC"> that is</font><font color="#E5E5E5"> autonomous system is</font>

1200
01:08:39,750 --> 01:08:48,359
represented<font color="#CCCCCC"> as 2 3 4 5 6 so</font><font color="#E5E5E5"> that's the</font>

1201
01:08:45,870 --> 01:08:50,970
main problem<font color="#E5E5E5"> and it's difficult to deal</font>

1202
01:08:48,359 --> 01:08:53,670
<font color="#CCCCCC">with and another one is incorrect</font>

1203
01:08:50,970 --> 01:08:59,220
<font color="#CCCCCC">NetFlow summary when if you use net flow</font>

1204
01:08:53,670 --> 01:09:02,390
<font color="#E5E5E5">based on a snubber so as you can see</font>

1205
01:08:59,220 --> 01:09:08,070
<font color="#E5E5E5">most vendors there's a complete list is</font>

1206
01:09:02,390 --> 01:09:10,140
shown in<font color="#CCCCCC"> that link and you</font><font color="#E5E5E5"> have most</font>

1207
01:09:08,069 --> 01:09:13,819
vendors have have been supporting<font color="#E5E5E5"> it for</font>

1208
01:09:10,140 --> 01:09:13,820
<font color="#E5E5E5">quite some time</font><font color="#CCCCCC"> as you</font><font color="#E5E5E5"> can see from here</font>

1209
01:09:14,750 --> 01:09:20,389
<font color="#CCCCCC">ok</font>

1210
01:09:17,599 --> 01:09:21,949
so service<font color="#E5E5E5"> providers use of communities</font>

1211
01:09:20,389 --> 01:09:25,549
how service providers to<font color="#CCCCCC"> use communities</font>

1212
01:09:21,948 --> 01:09:31,719
to make life easier<font color="#CCCCCC"> we have already seen</font>

1213
01:09:25,549 --> 01:09:31,719
<font color="#E5E5E5">that but some additional techniques</font>

1214
01:09:32,500 --> 01:09:43,279
so usually commas are used at the edge

1215
01:09:39,078 --> 01:09:46,189
as<font color="#E5E5E5"> well at the customer age or at the</font>

1216
01:09:43,279 --> 01:09:48,889
border<font color="#CCCCCC"> age or Internet age</font><font color="#E5E5E5"> so whenever</font>

1217
01:09:46,189 --> 01:09:52,818
you receive routes<font color="#CCCCCC"> you classify the</font>

1218
01:09:48,889 --> 01:09:55,130
prefix order out into a class or into

1219
01:09:52,819 --> 01:09:56,900
<font color="#E5E5E5">one or more communities and then you</font>

1220
01:09:55,130 --> 01:10:00,949
<font color="#CCCCCC">have you assign those communities to</font>

1221
01:09:56,900 --> 01:10:04,388
that route<font color="#E5E5E5"> and then internally</font><font color="#CCCCCC"> a policy</font>

1222
01:10:00,949 --> 01:10:08,079
is used<font color="#E5E5E5"> bid on that community to either</font>

1223
01:10:04,389 --> 01:10:14,619
block that update to go out somewhere<font color="#E5E5E5"> or</font>

1224
01:10:08,079 --> 01:10:17,179
increase a lot preference or or

1225
01:10:14,619 --> 01:10:19,869
advertise it or block it<font color="#E5E5E5"> into</font><font color="#CCCCCC"> another</font>

1226
01:10:17,179 --> 01:10:23,090
peer and so on

1227
01:10:19,869 --> 01:10:27,739
so let's see an example for customer<font color="#E5E5E5"> age</font>

1228
01:10:23,090 --> 01:10:31,040
<font color="#E5E5E5">so in this particular</font><font color="#CCCCCC"> case</font><font color="#E5E5E5"> it tries to</font>

1229
01:10:27,739 --> 01:10:34,040
<font color="#E5E5E5">demonstrate how an ISP that has three</font>

1230
01:10:31,040 --> 01:10:36,590
different internet connections I expects

1231
01:10:34,040 --> 01:10:39,019
<font color="#E5E5E5">be inter exchange connections private</font>

1232
01:10:36,590 --> 01:10:42,889
<font color="#E5E5E5">peeling with another</font><font color="#CCCCCC"> ISP in the same</font>

1233
01:10:39,020 --> 01:10:46,699
region and transit provider to<font color="#E5E5E5"> the</font>

1234
01:10:42,889 --> 01:10:50,239
entire<font color="#CCCCCC"> internet</font><font color="#E5E5E5"> now</font><font color="#CCCCCC"> a customer may have</font>

1235
01:10:46,699 --> 01:10:55,759
<font color="#E5E5E5">option to buy connectivity to the entire</font>

1236
01:10:50,239 --> 01:11:00,199
<font color="#E5E5E5">internet or only to</font><font color="#CCCCCC"> two inter exchange</font>

1237
01:10:55,760 --> 01:11:03,290
carriers within<font color="#CCCCCC"> that same network</font><font color="#E5E5E5"> or to</font>

1238
01:11:00,199 --> 01:11:06,199
some private peers so a customer may may

1239
01:11:03,290 --> 01:11:08,179
purchase let's<font color="#E5E5E5"> say</font><font color="#CCCCCC"> customer has another</font>

1240
01:11:06,199 --> 01:11:10,579
connection<font color="#E5E5E5"> to another peering and they</font>

1241
01:11:08,179 --> 01:11:13,000
may only<font color="#CCCCCC"> prefer the private plane</font>

1242
01:11:10,579 --> 01:11:15,829
purchase instead<font color="#CCCCCC"> of the whole internet</font>

1243
01:11:13,000 --> 01:11:19,389
<font color="#E5E5E5">so depending on that customers are</font>

1244
01:11:15,829 --> 01:11:24,380
classified into<font color="#CCCCCC"> different classes</font><font color="#E5E5E5"> so</font>

1245
01:11:19,389 --> 01:11:27,469
<font color="#CCCCCC">customers who buy the whole Internet are</font>

1246
01:11:24,380 --> 01:11:30,690
not<font color="#CCCCCC"> assigned</font><font color="#E5E5E5"> any committee</font><font color="#CCCCCC"> cus customers</font>

1247
01:11:27,469 --> 01:11:35,370
who buy<font color="#CCCCCC"> IXP connections are as</font>

1248
01:11:30,690 --> 01:11:38,040
and<font color="#E5E5E5"> 120 100 community and the</font><font color="#CCCCCC"> hassanis</font>

1249
01:11:35,370 --> 01:11:41,760
<font color="#CCCCCC">who by private is the privateering</font>

1250
01:11:38,040 --> 01:11:44,310
are assigned<font color="#E5E5E5"> boss so the internet means</font>

1251
01:11:41,760 --> 01:11:46,469
everybody<font color="#E5E5E5"> gets the</font><font color="#CCCCCC"> internet and some</font>

1252
01:11:44,310 --> 01:11:50,760
some customers<font color="#CCCCCC"> come gates</font><font color="#E5E5E5"> in addition to</font>

1253
01:11:46,469 --> 01:11:56,940
that connection some may<font color="#E5E5E5"> get the private</font>

1254
01:11:50,760 --> 01:11:58,980
<font color="#CCCCCC">connection as well so here when a</font>

1255
01:11:56,940 --> 01:12:01,320
customer out is received on an

1256
01:11:58,980 --> 01:12:04,559
aggregation router<font color="#CCCCCC"> it is tagged with</font>

1257
01:12:01,320 --> 01:12:07,110
<font color="#E5E5E5">appropriate community based on what the</font>

1258
01:12:04,560 --> 01:12:08,699
customer has<font color="#E5E5E5"> purchased if the customer</font>

1259
01:12:07,110 --> 01:12:10,679
<font color="#E5E5E5">has purchased everything they will have</font>

1260
01:12:08,699 --> 01:12:13,080
all the communities the customer has

1261
01:12:10,680 --> 01:12:14,130
purchased just the inter exchange then

1262
01:12:13,080 --> 01:12:17,540
they will<font color="#CCCCCC"> have</font><font color="#E5E5E5"> the inter exchange</font>

1263
01:12:14,130 --> 01:12:22,230
community and so on then based on<font color="#CCCCCC"> that</font>

1264
01:12:17,540 --> 01:12:26,280
when the routers will will<font color="#E5E5E5"> be</font><font color="#CCCCCC"> advertised</font>

1265
01:12:22,230 --> 01:12:28,349
it<font color="#E5E5E5"> to the</font><font color="#CCCCCC"> appropriate prefix or they</font>

1266
01:12:26,280 --> 01:12:31,290
will receive to the appropriate prefixes

1267
01:12:28,350 --> 01:12:33,210
so it is used both<font color="#E5E5E5"> for inbound and</font>

1268
01:12:31,290 --> 01:12:36,540
outbound traffic<font color="#E5E5E5"> in this case this is</font>

1269
01:12:33,210 --> 01:12:40,760
<font color="#CCCCCC">for inbound</font><font color="#E5E5E5"> traffic so for outbound</font>

1270
01:12:36,540 --> 01:12:45,480
traffic now you don't need<font color="#E5E5E5"> to change as</font>

1271
01:12:40,760 --> 01:12:47,010
customers are added in this case you

1272
01:12:45,480 --> 01:12:48,750
<font color="#CCCCCC">only have one policy</font><font color="#E5E5E5"> on the</font><font color="#CCCCCC"> board or</font>

1273
01:12:47,010 --> 01:12:51,180
router<font color="#E5E5E5"> and you don't need to</font><font color="#CCCCCC"> change that</font>

1274
01:12:48,750 --> 01:12:52,800
policy<font color="#CCCCCC"> whenever you add a customer</font><font color="#E5E5E5"> you</font>

1275
01:12:51,180 --> 01:12:55,350
just classify the customer into a

1276
01:12:52,800 --> 01:12:59,250
specific<font color="#CCCCCC"> community and you will not need</font>

1277
01:12:55,350 --> 01:13:02,969
<font color="#CCCCCC">to change the policy on the border</font>

1278
01:12:59,250 --> 01:13:08,100
router which minimizes errors change

1279
01:13:02,969 --> 01:13:12,030
<font color="#E5E5E5">always as a risk of making an error it</font>

1280
01:13:08,100 --> 01:13:17,070
also<font color="#E5E5E5"> could impact</font><font color="#CCCCCC"> route updates</font><font color="#E5E5E5"> and</font>

1281
01:13:12,030 --> 01:13:22,139
create<font color="#E5E5E5"> charts as</font><font color="#CCCCCC"> well okay</font><font color="#E5E5E5"> so</font><font color="#CCCCCC"> that's</font>

1282
01:13:17,070 --> 01:13:24,739
what stress here<font color="#E5E5E5"> now in this particular</font>

1283
01:13:22,140 --> 01:13:27,840
case<font color="#CCCCCC"> it is for internet age</font><font color="#E5E5E5"> so that is</font>

1284
01:13:24,739 --> 01:13:31,218
you<font color="#E5E5E5"> classify</font><font color="#CCCCCC"> to a prefix received on the</font>

1285
01:13:27,840 --> 01:13:35,130
<font color="#CCCCCC">Internet age</font><font color="#E5E5E5"> so that</font><font color="#CCCCCC"> outgoing traffic</font><font color="#E5E5E5"> is</font>

1286
01:13:31,219 --> 01:13:37,980
impacted in this<font color="#E5E5E5"> case so ISP has four</font>

1287
01:13:35,130 --> 01:13:41,460
types of BGP peers can have a customer

1288
01:13:37,980 --> 01:13:42,839
which<font color="#CCCCCC"> BPA</font><font color="#E5E5E5"> for some customers only for</font>

1289
01:13:41,460 --> 01:13:43,769
<font color="#CCCCCC">multihomed customers and</font><font color="#E5E5E5"> we'll discuss</font>

1290
01:13:42,840 --> 01:13:48,030
about<font color="#CCCCCC"> that</font><font color="#E5E5E5"> later on</font>

1291
01:13:43,769 --> 01:13:50,909
and for inter exchange<font color="#CCCCCC"> peer and then</font>

1292
01:13:48,030 --> 01:13:53,670
private peering so inter exchange and

1293
01:13:50,909 --> 01:13:56,518
private<font color="#CCCCCC"> peeling are similar except that</font>

1294
01:13:53,670 --> 01:14:01,530
the inter exchange is usually done in a

1295
01:13:56,519 --> 01:14:04,739
multi-tenant scenario so the<font color="#CCCCCC"> inter</font>

1296
01:14:01,530 --> 01:14:07,230
exchange carriers basically the transit

1297
01:14:04,739 --> 01:14:12,839
provider<font color="#E5E5E5"> that's where you get</font><font color="#CCCCCC"> your full</font>

1298
01:14:07,230 --> 01:14:14,369
<font color="#CCCCCC">Internet connectivity and the prefix</font>

1299
01:14:12,840 --> 01:14:16,050
received from each one<font color="#E5E5E5"> of this is</font>

1300
01:14:14,369 --> 01:14:17,759
classified<font color="#CCCCCC"> in different</font><font color="#E5E5E5"> communities so</font>

1301
01:14:16,050 --> 01:14:20,550
that<font color="#CCCCCC"> they are advertise it</font><font color="#E5E5E5"> to the</font>

1302
01:14:17,760 --> 01:14:23,460
customers accordingly<font color="#E5E5E5"> based on what the</font>

1303
01:14:20,550 --> 01:14:26,489
customers has purchased so<font color="#CCCCCC"> commute</font>

1304
01:14:23,460 --> 01:14:30,300
estimate assignments so customers who

1305
01:14:26,489 --> 01:14:32,879
purchased<font color="#E5E5E5"> so in this particular case</font>

1306
01:14:30,300 --> 01:14:35,730
actually<font color="#E5E5E5"> customer prefix are assigned a</font>

1307
01:14:32,880 --> 01:14:37,489
specific<font color="#E5E5E5"> community inter exchange prefix</font>

1308
01:14:35,730 --> 01:14:39,629
service and another<font color="#CCCCCC"> comma state and</font>

1309
01:14:37,489 --> 01:14:41,218
private<font color="#E5E5E5"> people</font><font color="#CCCCCC"> fixed</font><font color="#E5E5E5"> are assigned</font>

1310
01:14:39,630 --> 01:14:47,039
different<font color="#CCCCCC"> communicate and paid on that</font>

1311
01:14:41,219 --> 01:14:49,289
<font color="#CCCCCC">you can assign</font><font color="#E5E5E5"> different policies so</font>

1312
01:14:47,039 --> 01:14:51,090
again no need<font color="#CCCCCC"> to change</font><font color="#E5E5E5"> caste customized</font>

1313
01:14:49,289 --> 01:14:55,789
<font color="#E5E5E5">filter for each customer or for each</font>

1314
01:14:51,090 --> 01:14:55,789
peer you just classify them into classes

1315
01:15:00,349 --> 01:15:08,360
so<font color="#E5E5E5"> as</font><font color="#CCCCCC"> PB GP</font><font color="#E5E5E5"> communities one of the</font>

1316
01:15:04,949 --> 01:15:11,249
problem is there are<font color="#CCCCCC"> no</font><font color="#E5E5E5"> any recommended</font>

1317
01:15:08,360 --> 01:15:13,768
communities<font color="#E5E5E5"> but some service providers</font>

1318
01:15:11,249 --> 01:15:15,570
document their community setting or what

1319
01:15:13,769 --> 01:15:19,590
<font color="#CCCCCC">comments they expect</font><font color="#E5E5E5"> from their</font>

1320
01:15:15,570 --> 01:15:21,808
customers or what community<font color="#CCCCCC"> Commons</font><font color="#E5E5E5"> they</font>

1321
01:15:19,590 --> 01:15:23,730
will advertise<font color="#E5E5E5"> to their customers</font><font color="#CCCCCC"> if you</font>

1322
01:15:21,809 --> 01:15:30,389
are<font color="#CCCCCC"> peering with with that</font><font color="#E5E5E5"> particular</font>

1323
01:15:23,730 --> 01:15:34,860
<font color="#E5E5E5">service provider so that's listed here</font>

1324
01:15:30,389 --> 01:15:37,110
<font color="#CCCCCC">is an example for a sprint</font>

1325
01:15:34,860 --> 01:15:42,329
<font color="#E5E5E5">I'll just discuss the one for Sprint and</font>

1326
01:15:37,110 --> 01:15:44,280
then you can go<font color="#E5E5E5"> with the rest</font><font color="#CCCCCC"> of you</font><font color="#E5E5E5"> can</font>

1327
01:15:42,329 --> 01:15:49,469
look<font color="#CCCCCC"> at the rest so in this case</font><font color="#E5E5E5"> for</font>

1328
01:15:44,280 --> 01:15:52,259
example<font color="#E5E5E5"> first one do not</font><font color="#CCCCCC"> advertise</font><font color="#E5E5E5"> so if</font>

1329
01:15:49,469 --> 01:15:54,479
you don't want<font color="#CCCCCC"> sprint</font><font color="#E5E5E5"> know to advertise</font>

1330
01:15:52,260 --> 01:15:57,680
your prefix<font color="#CCCCCC"> you can just target with</font>

1331
01:15:54,479 --> 01:16:06,600
that<font color="#E5E5E5"> particular community</font>

1332
01:15:57,680 --> 01:16:12,600
<font color="#CCCCCC">you can say string and</font><font color="#E5E5E5"> that and then</font>

1333
01:16:06,600 --> 01:16:15,150
<font color="#E5E5E5">this is so how so this is</font><font color="#CCCCCC"> for</font><font color="#E5E5E5"> different</font>

1334
01:16:12,600 --> 01:16:18,240
regions<font color="#E5E5E5"> Asia Europe and so on</font>

1335
01:16:15,150 --> 01:16:19,530
so it shows<font color="#E5E5E5"> you the different s is the</font>

1336
01:16:18,240 --> 01:16:22,710
different<font color="#E5E5E5"> advertisements going behind it</font>

1337
01:16:19,530 --> 01:16:25,139
<font color="#E5E5E5">s</font><font color="#CCCCCC"> so here</font><font color="#E5E5E5"> is another example for an</font>

1338
01:16:22,710 --> 01:16:28,890
entity<font color="#E5E5E5"> and you</font><font color="#CCCCCC"> can go through that</font><font color="#E5E5E5"> and</font>

1339
01:16:25,140 --> 01:16:31,680
so and<font color="#CCCCCC"> for Verizon and others</font><font color="#E5E5E5"> so I'll</font>

1340
01:16:28,890 --> 01:16:35,490
just skip<font color="#E5E5E5"> through that they are</font>

1341
01:16:31,680 --> 01:16:37,140
<font color="#E5E5E5">different</font><font color="#CCCCCC"> it's there</font><font color="#E5E5E5"> for your friends</font>

1342
01:16:35,490 --> 01:16:39,210
<font color="#E5E5E5">and you can actually go</font><font color="#CCCCCC"> to that</font><font color="#E5E5E5"> to the</font>

1343
01:16:37,140 --> 01:16:44,310
links the links are<font color="#E5E5E5"> already shown there</font>

1344
01:16:39,210 --> 01:16:52,410
and<font color="#E5E5E5"> look</font><font color="#CCCCCC"> for yourself okay so any</font>

1345
01:16:44,310 --> 01:16:55,430
questions okay so<font color="#CCCCCC"> our</font><font color="#E5E5E5"> discuss about the</font>

1346
01:16:52,410 --> 01:16:58,889
lab and then we'll open<font color="#E5E5E5"> up for questions</font>

1347
01:16:55,430 --> 01:17:03,930
<font color="#E5E5E5">so we have we have</font><font color="#CCCCCC"> a lab and we'll</font>

1348
01:16:58,890 --> 01:17:06,270
distribute paper<font color="#E5E5E5"> where you will have</font>

1349
01:17:03,930 --> 01:17:09,270
access how<font color="#E5E5E5"> to get</font><font color="#CCCCCC"> access and</font><font color="#E5E5E5"> your</font><font color="#CCCCCC"> pad</font>

1350
01:17:06,270 --> 01:17:13,110
<font color="#E5E5E5">number so the lab is set up in a</font>

1351
01:17:09,270 --> 01:17:18,600
virtualized environment and it uses<font color="#CCCCCC"> IRS</font>

1352
01:17:13,110 --> 01:17:20,610
<font color="#CCCCCC">X our subscribers XR it has it has a six</font>

1353
01:17:18,600 --> 01:17:23,880
router topology for each part we have I

1354
01:17:20,610 --> 01:17:26,309
think<font color="#E5E5E5"> about</font><font color="#CCCCCC"> 14 parts so</font><font color="#E5E5E5"> you would have</font>

1355
01:17:23,880 --> 01:17:28,320
access<font color="#CCCCCC"> to one of the</font><font color="#E5E5E5"> paths you</font><font color="#CCCCCC"> can have</font>

1356
01:17:26,310 --> 01:17:31,740
<font color="#CCCCCC">access</font><font color="#E5E5E5"> to one</font><font color="#CCCCCC"> of the parts you'll get</font>

1357
01:17:28,320 --> 01:17:33,870
part number<font color="#E5E5E5"> and the lab that</font><font color="#CCCCCC"> is also</font>

1358
01:17:31,740 --> 01:17:35,940
included<font color="#CCCCCC"> in the in</font><font color="#E5E5E5"> that documentation</font>

1359
01:17:33,870 --> 01:17:40,170
<font color="#E5E5E5">and you can go and</font><font color="#CCCCCC"> the practice</font><font color="#E5E5E5"> will</font>

1360
01:17:35,940 --> 01:17:42,570
open<font color="#E5E5E5"> it up for one week and after</font><font color="#CCCCCC"> that</font>

1361
01:17:40,170 --> 01:17:45,990
you may not<font color="#E5E5E5"> be able to log into it but</font>

1362
01:17:42,570 --> 01:17:49,019
<font color="#E5E5E5">you can continue practicing for one week</font>

1363
01:17:45,990 --> 01:17:54,809
and the guide tells you how to save<font color="#E5E5E5"> your</font>

1364
01:17:49,020 --> 01:17:57,540
configuration<font color="#CCCCCC"> how to start the lab and</font>

1365
01:17:54,810 --> 01:17:58,820
how to load the<font color="#E5E5E5"> page</font><font color="#CCCCCC"> configuration</font>

1366
01:17:57,540 --> 01:18:02,100
there's already a base configuration

1367
01:17:58,820 --> 01:18:04,080
where<font color="#E5E5E5"> you have the IBPS already</font>

1368
01:18:02,100 --> 01:18:06,570
established the ebgp is established and

1369
01:18:04,080 --> 01:18:08,610
<font color="#E5E5E5">the</font><font color="#CCCCCC"> IDP protocol established in</font><font color="#E5E5E5"> the IP</font>

1370
01:18:06,570 --> 01:18:10,210
<font color="#E5E5E5">address or gasps signed you can't change</font>

1371
01:18:08,610 --> 01:18:11,950
change those but

1372
01:18:10,210 --> 01:18:14,230
<font color="#CCCCCC">it's a starting point for you</font><font color="#E5E5E5"> and then</font>

1373
01:18:11,950 --> 01:18:17,559
you can apply policies<font color="#E5E5E5"> as you want and</font>

1374
01:18:14,230 --> 01:18:19,900
there are suggested exercises there that

1375
01:18:17,560 --> 01:18:21,460
you can you can<font color="#E5E5E5"> do also routes are</font><font color="#CCCCCC"> also</font>

1376
01:18:19,900 --> 01:18:23,349
injected<font color="#CCCCCC"> from different routers you'll</font>

1377
01:18:21,460 --> 01:18:25,900
have you'll see also different<font color="#E5E5E5"> types of</font>

1378
01:18:23,350 --> 01:18:28,110
routes with different s paths<font color="#E5E5E5"> so you can</font>

1379
01:18:25,900 --> 01:18:31,360
use<font color="#CCCCCC"> differential</font><font color="#E5E5E5"> commands also that</font>

1380
01:18:28,110 --> 01:18:33,370
document includes the document<font color="#CCCCCC"> linkage</font>

1381
01:18:31,360 --> 01:18:37,420
there<font color="#E5E5E5"> and I put it in a</font><font color="#CCCCCC"> drop box</font><font color="#E5E5E5"> so that</font>

1382
01:18:33,370 --> 01:18:43,450
<font color="#CCCCCC">can access it includes information on</font>

1383
01:18:37,420 --> 01:18:46,180
how what type of exercises<font color="#E5E5E5"> to execute</font>

1384
01:18:43,450 --> 01:18:50,519
and how to save your<font color="#E5E5E5"> configurations as</font>

1385
01:18:46,180 --> 01:18:50,520
well questions

1386
01:19:10,060 --> 01:19:13,080
it's a<font color="#CCCCCC"> quiet</font><font color="#E5E5E5"> crowd</font>

1387
01:19:26,990 --> 01:19:32,219
hi my name is<font color="#E5E5E5"> Paris Robbie I'm a master</font>

1388
01:19:30,270 --> 01:19:34,590
student<font color="#CCCCCC"> at Georgia Tech</font><font color="#E5E5E5"> so I have a</font>

1389
01:19:32,220 --> 01:19:39,540
<font color="#E5E5E5">question about how BGP and</font><font color="#CCCCCC"> IGP interact</font>

1390
01:19:34,590 --> 01:19:42,090
so if<font color="#E5E5E5"> BP is used to announce prefixes</font>

1391
01:19:39,540 --> 01:19:44,040
she appears but let<font color="#CCCCCC"> us say that I have</font>

1392
01:19:42,090 --> 01:19:46,560
<font color="#CCCCCC">not</font><font color="#E5E5E5"> been</font><font color="#CCCCCC"> anounced a prefix but I already</font>

1393
01:19:44,040 --> 01:19:48,810
<font color="#E5E5E5">know that</font><font color="#CCCCCC"> prefixes within an autonomous</font>

1394
01:19:46,560 --> 01:19:50,940
<font color="#CCCCCC">system what prevents me from just</font>

1395
01:19:48,810 --> 01:19:54,240
sending<font color="#E5E5E5"> out a network packet with that</font>

1396
01:19:50,940 --> 01:19:56,580
destination<font color="#E5E5E5"> to that router and just</font>

1397
01:19:54,240 --> 01:19:58,620
expecting it to be transmitted<font color="#CCCCCC"> to that s</font>

1398
01:19:56,580 --> 01:20:00,269
even without a route<font color="#E5E5E5"> being announced to</font>

1399
01:19:58,620 --> 01:20:03,300
me is<font color="#E5E5E5"> this taken care of at the IGP</font>

1400
01:20:00,270 --> 01:20:05,610
level you mean if you<font color="#E5E5E5"> are</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> different s</font>

1401
01:20:03,300 --> 01:20:07,970
and you<font color="#E5E5E5"> see you don't receive updates</font>

1402
01:20:05,610 --> 01:20:10,830
but you try to send traffic to<font color="#E5E5E5"> that</font>

1403
01:20:07,970 --> 01:20:12,540
router<font color="#E5E5E5"> so you</font><font color="#CCCCCC"> already have a</font>

1404
01:20:10,830 --> 01:20:17,010
relationship<font color="#E5E5E5"> with that</font><font color="#CCCCCC"> autonomous system</font>

1405
01:20:12,540 --> 01:20:19,140
<font color="#E5E5E5">right normally so if let's say that's in</font>

1406
01:20:17,010 --> 01:20:21,450
<font color="#E5E5E5">that case it's either a private plane or</font>

1407
01:20:19,140 --> 01:20:24,540
a vinter exchange peering some of them

1408
01:20:21,450 --> 01:20:27,800
will<font color="#E5E5E5"> also implement a prefix filtering</font>

1409
01:20:24,540 --> 01:20:31,590
so<font color="#CCCCCC"> they</font><font color="#E5E5E5"> will only accept traffic</font>

1410
01:20:27,800 --> 01:20:34,170
destined for<font color="#E5E5E5"> two specific destinations</font>

1411
01:20:31,590 --> 01:20:38,280
<font color="#E5E5E5">from specific destinations on that pier</font>

1412
01:20:34,170 --> 01:20:39,960
<font color="#E5E5E5">so they they do that as well so that</font>

1413
01:20:38,280 --> 01:20:43,050
will prevent it but<font color="#E5E5E5"> some of them may not</font>

1414
01:20:39,960 --> 01:20:45,120
do<font color="#CCCCCC"> but if you violate your pinning</font>

1415
01:20:43,050 --> 01:20:47,190
relationship also<font color="#E5E5E5"> also you also have a</font>

1416
01:20:45,120 --> 01:20:49,980
paper agreement or email agreement<font color="#E5E5E5"> if</font>

1417
01:20:47,190 --> 01:20:52,320
you<font color="#E5E5E5"> violate and they found out they</font><font color="#CCCCCC"> they</font>

1418
01:20:49,980 --> 01:20:55,259
<font color="#E5E5E5">will have tools like net flow and other</font>

1419
01:20:52,320 --> 01:20:57,809
<font color="#E5E5E5">tools to collect flow</font><font color="#CCCCCC"> information and</font>

1420
01:20:55,260 --> 01:21:00,830
they<font color="#E5E5E5"> can find out what you are</font><font color="#CCCCCC"> sending</font>

1421
01:20:57,810 --> 01:21:04,410
and they can terminate your

1422
01:21:00,830 --> 01:21:09,590
<font color="#CCCCCC">peering relationship</font><font color="#E5E5E5"> and probably even</font>

1423
01:21:04,410 --> 01:21:12,450
<font color="#E5E5E5">seek damage for it right so even</font><font color="#CCCCCC"> though</font>

1424
01:21:09,590 --> 01:21:15,090
<font color="#E5E5E5">some</font><font color="#CCCCCC"> people from the audience</font><font color="#E5E5E5"> may</font>

1425
01:21:12,450 --> 01:21:18,540
comment<font color="#E5E5E5"> on that but it again against a</font>

1426
01:21:15,090 --> 01:21:21,450
cooperative scenario<font color="#E5E5E5"> there are things</font>

1427
01:21:18,540 --> 01:21:23,250
that you can do to block it<font color="#E5E5E5"> but</font><font color="#CCCCCC"> some</font><font color="#E5E5E5"> of</font>

1428
01:21:21,450 --> 01:21:24,710
them may<font color="#CCCCCC"> not implement filtering</font><font color="#E5E5E5"> because</font>

1429
01:21:23,250 --> 01:21:27,840
we're telling sometimes it's expensive

1430
01:21:24,710 --> 01:21:30,660
<font color="#CCCCCC">allows filtering or no trust</font><font color="#E5E5E5"> between</font>

1431
01:21:27,840 --> 01:21:32,730
traffic filtering sometimes is expensive

1432
01:21:30,660 --> 01:21:35,700
and has performance here depending<font color="#E5E5E5"> on</font>

1433
01:21:32,730 --> 01:21:36,450
<font color="#E5E5E5">the platform</font><font color="#CCCCCC"> but</font><font color="#E5E5E5"> if you have that</font>

1434
01:21:35,700 --> 01:21:38,309
support

1435
01:21:36,450 --> 01:21:40,830
you can filter<font color="#E5E5E5"> it's good to implement</font>

1436
01:21:38,310 --> 01:21:43,080
the filtering the traffic<font color="#E5E5E5"> will carry an</font>

1437
01:21:40,830 --> 01:21:45,120
<font color="#E5E5E5">urgent</font><font color="#CCCCCC"> route filtering which is the</font>

1438
01:21:43,080 --> 01:21:47,309
common practice<font color="#E5E5E5"> may I ask a quick</font>

1439
01:21:45,120 --> 01:21:49,470
follow-up<font color="#CCCCCC"> yeah</font><font color="#E5E5E5"> so what happens if you do</font>

1440
01:21:47,310 --> 01:21:51,210
not have any<font color="#E5E5E5"> kind of peering agreement</font>

1441
01:21:49,470 --> 01:21:52,680
<font color="#CCCCCC">and the other person does not</font><font color="#E5E5E5"> have</font><font color="#CCCCCC"> a</font>

1442
01:21:51,210 --> 01:21:56,070
filter<font color="#E5E5E5"> set up and you just</font><font color="#CCCCCC"> try</font><font color="#E5E5E5"> to pump</font>

1443
01:21:52,680 --> 01:21:59,340
packets<font color="#E5E5E5"> into the network then you</font><font color="#CCCCCC"> are</font>

1444
01:21:56,070 --> 01:22:02,639
<font color="#CCCCCC">well</font><font color="#E5E5E5"> I'm not sure what argument you will</font>

1445
01:21:59,340 --> 01:22:05,000
have so if you<font color="#CCCCCC"> have if you have if you</font>

1446
01:22:02,640 --> 01:22:06,660
<font color="#CCCCCC">have a prenup made usually</font><font color="#E5E5E5"> it is</font>

1447
01:22:05,000 --> 01:22:07,950
settlement<font color="#CCCCCC"> fee which means you are</font>

1448
01:22:06,660 --> 01:22:10,080
<font color="#E5E5E5">sending traffic and they are sending</font>

1449
01:22:07,950 --> 01:22:12,809
traffic to<font color="#E5E5E5"> you and there is a proportion</font>

1450
01:22:10,080 --> 01:22:15,450
of<font color="#CCCCCC"> tract</font><font color="#E5E5E5"> that you have to meet but if</font>

1451
01:22:12,810 --> 01:22:17,370
you don't have a peering agreements then

1452
01:22:15,450 --> 01:22:19,410
probably are paying them<font color="#E5E5E5"> for a bundles</font>

1453
01:22:17,370 --> 01:22:22,290
and they're probably measuring it or<font color="#CCCCCC"> a</font>

1454
01:22:19,410 --> 01:22:26,630
receiving<font color="#CCCCCC"> flat-rate</font><font color="#E5E5E5"> so you really still</font>

1455
01:22:22,290 --> 01:22:26,630
<font color="#CCCCCC">have to pay</font><font color="#E5E5E5"> for that thank you</font>

1456
01:22:36,530 --> 01:22:39,309
questions

1457
01:22:41,660 --> 01:22:48,590
<font color="#E5E5E5">okay we are bitterly about</font><font color="#CCCCCC"> eight minutes</font>

1458
01:22:45,100 --> 01:22:51,050
<font color="#CCCCCC">I thought I'll be uh I'll have shorter</font>

1459
01:22:48,590 --> 01:23:03,230
time<font color="#E5E5E5"> but I think</font><font color="#CCCCCC"> we skipped through</font>

1460
01:22:51,050 --> 01:23:06,350
<font color="#E5E5E5">quickly</font><font color="#CCCCCC"> so the next one is it's at 4-4</font>

1461
01:23:03,230 --> 01:23:09,259
right 4:30

1462
01:23:06,350 --> 01:23:10,690
okay<font color="#E5E5E5"> so we'll meet 4:30 here and we'll</font>

1463
01:23:09,260 --> 01:23:18,170
continue with the<font color="#CCCCCC"> deployment of</font>

1464
01:23:10,690 --> 01:23:22,179
<font color="#E5E5E5">deploying between IP networks and we'll</font>

1465
01:23:18,170 --> 01:23:25,450
discuss some<font color="#CCCCCC"> of those questions as well</font>

1466
01:23:22,180 --> 01:23:25,450
okay thank you

