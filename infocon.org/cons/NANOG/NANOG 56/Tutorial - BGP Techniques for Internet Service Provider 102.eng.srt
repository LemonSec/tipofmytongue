1
00:00:00,260 --> 00:00:10,830
welcome back so in this section we'll be

2
00:00:06,319 --> 00:00:17,940
covering deploying<font color="#CCCCCC"> BGP mostly best</font>

3
00:00:10,830 --> 00:00:23,189
practices so we<font color="#CCCCCC"> will discuss</font><font color="#E5E5E5"> about the</font>

4
00:00:17,940 --> 00:00:25,490
role<font color="#CCCCCC"> of a GPS and</font><font color="#E5E5E5"> ibgp aggregation</font>

5
00:00:23,189 --> 00:00:30,080
routes<font color="#E5E5E5"> why we need to aggregate</font>

6
00:00:25,490 --> 00:00:32,250
<font color="#E5E5E5">receiving prefixes origin is validation</font>

7
00:00:30,080 --> 00:00:41,070
preparing the network and configuration

8
00:00:32,250 --> 00:00:46,050
tips so<font color="#CCCCCC"> IGP for the question that</font><font color="#E5E5E5"> was</font>

9
00:00:41,070 --> 00:00:48,000
asked earlier<font color="#CCCCCC"> it</font><font color="#E5E5E5"> is in in internal</font>

10
00:00:46,050 --> 00:00:52,620
routing protocol<font color="#CCCCCC"> or interior</font><font color="#E5E5E5"> gateway</font>

11
00:00:48,000 --> 00:00:54,860
protocol<font color="#CCCCCC"> it the two</font><font color="#E5E5E5"> examples are ICS and</font>

12
00:00:52,620 --> 00:00:54,860
OSPF

13
00:00:55,399 --> 00:01:02,539
some prefer<font color="#CCCCCC"> eius eius some prefer OSPF</font>

14
00:00:58,850 --> 00:01:05,930
either one will do a pretty good job

15
00:01:02,539 --> 00:01:09,390
<font color="#E5E5E5">it's used to carry infrastructure</font>

16
00:01:05,930 --> 00:01:12,030
prefixes so infrastructure<font color="#E5E5E5"> is internal</font>

17
00:01:09,390 --> 00:01:15,450
interface IP addresses<font color="#CCCCCC"> new park IP</font>

18
00:01:12,030 --> 00:01:17,340
addresses it's not<font color="#E5E5E5"> recommended to carry</font>

19
00:01:15,450 --> 00:01:23,640
<font color="#E5E5E5">anything other than the infrastructure</font>

20
00:01:17,340 --> 00:01:25,680
IP addresses<font color="#CCCCCC"> so the design goal is to</font>

21
00:01:23,640 --> 00:01:29,150
<font color="#CCCCCC">minimize the number</font><font color="#E5E5E5"> of prefixes</font><font color="#CCCCCC"> in IGP</font>

22
00:01:25,680 --> 00:01:33,600
to speed up<font color="#E5E5E5"> conversion see with an IDP</font>

23
00:01:29,150 --> 00:01:36,000
remember that<font color="#CCCCCC"> bgp</font><font color="#E5E5E5"> recursos</font><font color="#CCCCCC"> - IGP so it's</font>

24
00:01:33,600 --> 00:01:43,560
<font color="#E5E5E5">very important to have a faster rate</font><font color="#CCCCCC"> of</font>

25
00:01:36,000 --> 00:01:48,649
convergence<font color="#E5E5E5"> e bgp is used both</font>

26
00:01:43,560 --> 00:01:52,350
<font color="#CCCCCC">internally and externally internally</font>

27
00:01:48,649 --> 00:01:55,770
it's used to carry<font color="#CCCCCC"> non infrastructure</font>

28
00:01:52,350 --> 00:01:59,939
prefixes<font color="#E5E5E5"> and external is used to</font>

29
00:01:55,770 --> 00:02:01,770
exchange prefixes with other service

30
00:01:59,939 --> 00:02:05,000
<font color="#CCCCCC">providers and there are</font><font color="#E5E5E5"> different</font>

31
00:02:01,770 --> 00:02:05,000
scenarios<font color="#CCCCCC"> for that we'll discuss that</font>

32
00:02:06,860 --> 00:02:13,140
it can scale<font color="#E5E5E5"> to a large number</font><font color="#CCCCCC"> so that's</font>

33
00:02:10,440 --> 00:02:18,120
why we don't<font color="#E5E5E5"> want</font><font color="#CCCCCC"> I between burdened</font>

34
00:02:13,140 --> 00:02:20,940
with customer prefixes<font color="#E5E5E5"> it impacts</font><font color="#CCCCCC"> it</font>

35
00:02:18,120 --> 00:02:23,940
<font color="#CCCCCC">converging see IGP is designed to</font>

36
00:02:20,940 --> 00:02:30,990
converge faster which means very<font color="#CCCCCC"> very</font>

37
00:02:23,940 --> 00:02:32,430
fast in<font color="#E5E5E5"> substance usually so we don't</font>

38
00:02:30,990 --> 00:02:36,630
want to burden that to<font color="#E5E5E5"> increase the</font>

39
00:02:32,430 --> 00:02:38,280
<font color="#CCCCCC">convergence II so the main objective is</font>

40
00:02:36,630 --> 00:02:42,540
to<font color="#CCCCCC"> minimize the amount of information</font>

41
00:02:38,280 --> 00:02:45,990
carry in<font color="#CCCCCC"> IGP just enough for bgp next</font>

42
00:02:42,540 --> 00:02:48,030
hub<font color="#E5E5E5"> and of course you</font><font color="#CCCCCC"> you should</font><font color="#E5E5E5"> be</font><font color="#CCCCCC"> able</font>

43
00:02:45,990 --> 00:02:54,240
<font color="#CCCCCC">to reach the</font><font color="#E5E5E5"> infrastructure interfaces</font>

44
00:02:48,030 --> 00:02:57,300
for management purpose as<font color="#E5E5E5"> well and and</font>

45
00:02:54,240 --> 00:02:59,940
with ebgp<font color="#E5E5E5"> is that that's where you apply</font>

46
00:02:57,300 --> 00:03:03,090
policies<font color="#CCCCCC"> watch out stop</font><font color="#E5E5E5"> date what routes</font>

47
00:02:59,940 --> 00:03:06,420
not<font color="#E5E5E5"> to receive and when you receive how</font>

48
00:03:03,090 --> 00:03:09,420
you prefer<font color="#E5E5E5"> those routes again the same</font>

49
00:03:06,420 --> 00:03:12,510
representation<font color="#E5E5E5"> we saw earlier</font><font color="#CCCCCC"> i GP is</font>

50
00:03:09,420 --> 00:03:16,079
within an internal within a single

51
00:03:12,510 --> 00:03:18,690
<font color="#CCCCCC">domain and it doesn't breach domains it</font>

52
00:03:16,080 --> 00:03:22,260
doesn't breach<font color="#E5E5E5"> autonomous systems so the</font>

53
00:03:18,690 --> 00:03:29,450
IGP in<font color="#E5E5E5"> a s1 doesn't exchange routes with</font>

54
00:03:22,260 --> 00:03:33,120
<font color="#CCCCCC">a GP</font><font color="#E5E5E5"> in s2</font><font color="#CCCCCC"> i BGP is used to carry to</font>

55
00:03:29,450 --> 00:03:35,160
exchange rates<font color="#E5E5E5"> within a single</font><font color="#CCCCCC"> s but</font>

56
00:03:33,120 --> 00:03:38,239
<font color="#E5E5E5">that same route could be exchanged</font><font color="#CCCCCC"> to</font>

57
00:03:35,160 --> 00:03:43,970
another<font color="#E5E5E5"> SVR a BGP subject to policy</font>

58
00:03:38,239 --> 00:03:50,010
<font color="#E5E5E5">obviously so that's the clear difference</font>

59
00:03:43,970 --> 00:03:55,370
so<font color="#CCCCCC"> that do nots</font><font color="#E5E5E5"> very important here do</font>

60
00:03:50,010 --> 00:03:58,350
not<font color="#E5E5E5"> distribute BGP prefixes to hi G P</font>

61
00:03:55,370 --> 00:04:01,850
<font color="#E5E5E5">otherwise you will run</font><font color="#CCCCCC"> into half million</font>

62
00:03:58,350 --> 00:04:04,400
routes into your<font color="#E5E5E5"> IDP</font><font color="#CCCCCC"> which doesn't scale</font>

63
00:04:01,850 --> 00:04:08,040
in most cases<font color="#CCCCCC"> you'll get probably a</font>

64
00:04:04,400 --> 00:04:11,880
<font color="#E5E5E5">router crash or a huge</font><font color="#CCCCCC"> scale a blatant</font>

65
00:04:08,040 --> 00:04:17,120
delay<font color="#E5E5E5"> and do not distribute</font><font color="#CCCCCC"> IDP rods</font>

66
00:04:11,880 --> 00:04:20,159
into<font color="#CCCCCC"> BGP there are ways to inject routes</font>

67
00:04:17,120 --> 00:04:25,170
one way is to redistribute<font color="#CCCCCC"> IDP into</font>

68
00:04:20,160 --> 00:04:27,660
<font color="#E5E5E5">bgp but it's not advisable</font><font color="#CCCCCC"> it's better</font>

69
00:04:25,170 --> 00:04:31,040
<font color="#E5E5E5">to use network segments</font><font color="#CCCCCC"> two injections</font>

70
00:04:27,660 --> 00:04:38,580
<font color="#CCCCCC">into bgp</font><font color="#E5E5E5"> and instead of</font><font color="#CCCCCC"> for</font><font color="#E5E5E5"> distributing</font>

71
00:04:31,040 --> 00:04:42,150
<font color="#CCCCCC">IGP into bgp so do</font><font color="#E5E5E5"> not use a GP to carry</font>

72
00:04:38,580 --> 00:04:45,539
customer prefixes use your ibgp to carry

73
00:04:42,150 --> 00:04:55,080
<font color="#E5E5E5">or customer prefixes it doesn't scale</font>

74
00:04:45,540 --> 00:04:57,510
and you don't need<font color="#E5E5E5"> to do that so</font>

75
00:04:55,080 --> 00:04:59,849
<font color="#E5E5E5">injecting prefixes into ibgp how do we</font>

76
00:04:57,510 --> 00:05:02,909
inject<font color="#CCCCCC"> prefixes into a BGP</font><font color="#E5E5E5"> is usually</font>

77
00:04:59,850 --> 00:05:08,070
used<font color="#CCCCCC"> to carry customer prefixes as well</font>

78
00:05:02,910 --> 00:05:10,440
as<font color="#E5E5E5"> prefixes connecting for interfaces</font>

79
00:05:08,070 --> 00:05:18,719
connecting to customer as<font color="#E5E5E5"> well as</font>

80
00:05:10,440 --> 00:05:20,130
<font color="#E5E5E5">dial-up</font><font color="#CCCCCC"> interface</font><font color="#E5E5E5"> and so on the some of</font>

81
00:05:18,720 --> 00:05:23,540
the techniques that<font color="#CCCCCC"> you can use to</font>

82
00:05:20,130 --> 00:05:26,700
inject prefixes customer prefix into

83
00:05:23,540 --> 00:05:29,400
<font color="#E5E5E5">ibgp is you can point a static route to</font>

84
00:05:26,700 --> 00:05:33,800
<font color="#E5E5E5">your customer and then enter a</font>

85
00:05:29,400 --> 00:05:33,799
corresponding native statement into<font color="#CCCCCC"> bgp</font>

86
00:05:33,890 --> 00:05:42,360
another way is you can<font color="#CCCCCC"> even</font><font color="#E5E5E5"> create if</font>

87
00:05:37,710 --> 00:05:44,849
you are receiving you can even create in

88
00:05:42,360 --> 00:05:47,280
some case some you can use techniques

89
00:05:44,850 --> 00:05:51,240
where<font color="#E5E5E5"> you create also another such</font>

90
00:05:47,280 --> 00:05:54,960
crowds<font color="#E5E5E5"> pointing to a null but with a</font>

91
00:05:51,240 --> 00:05:57,030
very<font color="#E5E5E5"> high distance so that even if the</font>

92
00:05:54,960 --> 00:05:58,349
interface to<font color="#CCCCCC"> the customer goes down if</font>

93
00:05:57,030 --> 00:06:00,960
the<font color="#E5E5E5"> interests of your customer goes down</font>

94
00:05:58,350 --> 00:06:04,620
your static<font color="#E5E5E5"> route will also go</font><font color="#CCCCCC"> down so</font>

95
00:06:00,960 --> 00:06:07,799
that will<font color="#E5E5E5"> create a bitch pure perfect so</font>

96
00:06:04,620 --> 00:06:11,040
to avoid that<font color="#E5E5E5"> you can use a static to</font>

97
00:06:07,800 --> 00:06:13,470
null with a higher distance<font color="#CCCCCC"> so that the</font>

98
00:06:11,040 --> 00:06:16,410
BGP<font color="#E5E5E5"> routes the route the customer prefix</font>

99
00:06:13,470 --> 00:06:18,270
still remains<font color="#E5E5E5"> in BGP table even</font><font color="#CCCCCC"> if</font><font color="#E5E5E5"> the</font>

100
00:06:16,410 --> 00:06:21,210
connection to the customer<font color="#E5E5E5"> goes down so</font>

101
00:06:18,270 --> 00:06:28,020
that improves the stability<font color="#E5E5E5"> to</font><font color="#CCCCCC"> your</font>

102
00:06:21,210 --> 00:06:31,250
network so when do we<font color="#E5E5E5"> use so in some</font>

103
00:06:28,020 --> 00:06:34,260
case<font color="#E5E5E5"> you may use ebgp with customer</font>

104
00:06:31,250 --> 00:06:37,170
normally if that customer<font color="#CCCCCC"> is using your</font>

105
00:06:34,260 --> 00:06:40,530
your prefix and if it is single harmed

106
00:06:37,170 --> 00:06:47,280
<font color="#E5E5E5">you don't really need to use ebgp to run</font>

107
00:06:40,530 --> 00:06:50,909
ebgp use customer the<font color="#CCCCCC"> made the BGP is</font>

108
00:06:47,280 --> 00:06:55,679
<font color="#E5E5E5">used if your customer has</font><font color="#CCCCCC"> Auto</font><font color="#E5E5E5"> no system</font>

109
00:06:50,910 --> 00:06:58,620
<font color="#E5E5E5">assigned from</font><font color="#CCCCCC"> h3</font><font color="#E5E5E5"> it has its own IP</font>

110
00:06:55,680 --> 00:07:03,740
address<font color="#E5E5E5"> assigned from a registry then</font>

111
00:06:58,620 --> 00:07:03,740
you need<font color="#E5E5E5"> to carry</font><font color="#CCCCCC"> that customer prefix</font>

112
00:07:03,800 --> 00:07:10,140
because it doesn't belong to your and

113
00:07:07,650 --> 00:07:11,969
<font color="#CCCCCC">the other requirement is if it is multi</font>

114
00:07:10,140 --> 00:07:16,469
hopped<font color="#E5E5E5"> if it is connected</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> other</font>

115
00:07:11,970 --> 00:07:19,770
service providers as<font color="#CCCCCC"> well so if the</font>

116
00:07:16,470 --> 00:07:21,990
prefix is assigned from your own address

117
00:07:19,770 --> 00:07:24,090
space<font color="#CCCCCC"> to the customer</font><font color="#E5E5E5"> then the customer</font>

118
00:07:21,990 --> 00:07:27,000
<font color="#E5E5E5">cannot advertise</font><font color="#CCCCCC"> to another</font><font color="#E5E5E5"> service</font>

119
00:07:24,090 --> 00:07:30,330
provider<font color="#CCCCCC"> because your prefix</font><font color="#E5E5E5"> so in that</font>

120
00:07:27,000 --> 00:07:32,940
case you<font color="#E5E5E5"> don't need to use a BGP you can</font>

121
00:07:30,330 --> 00:07:35,330
just use a static<font color="#E5E5E5"> route point to the</font>

122
00:07:32,940 --> 00:07:35,330
customer

123
00:07:38,810 --> 00:07:48,540
aggregation<font color="#E5E5E5"> quantity versus quality so</font>

124
00:07:44,660 --> 00:07:50,729
when you have prefixes you cannot get

125
00:07:48,540 --> 00:07:53,070
them<font color="#E5E5E5"> normally when</font><font color="#CCCCCC"> it when when a</font>

126
00:07:50,729 --> 00:07:56,130
<font color="#CCCCCC">predicts are</font><font color="#E5E5E5"> assigned from</font><font color="#CCCCCC"> a registrar</font>

127
00:07:53,070 --> 00:07:57,750
you split them and<font color="#E5E5E5"> assign them to</font>

128
00:07:56,130 --> 00:08:01,110
<font color="#CCCCCC">different customers</font><font color="#E5E5E5"> and to different</font>

129
00:07:57,750 --> 00:08:03,680
parts<font color="#E5E5E5"> of</font><font color="#CCCCCC"> your network and internally</font>

130
00:08:01,110 --> 00:08:06,800
within your network<font color="#E5E5E5"> will be sub prefixes</font>

131
00:08:03,680 --> 00:08:09,990
but when they<font color="#E5E5E5"> are advertised it to</font>

132
00:08:06,800 --> 00:08:12,630
external peers<font color="#E5E5E5"> they should be advertised</font>

133
00:08:09,990 --> 00:08:16,950
as aggregates<font color="#CCCCCC"> instead of sub prefixes</font>

134
00:08:12,630 --> 00:08:19,710
that<font color="#CCCCCC"> improves stability that improves</font>

135
00:08:16,950 --> 00:08:24,200
<font color="#E5E5E5">convergence</font><font color="#CCCCCC"> II balls for</font><font color="#E5E5E5"> your customer</font>

136
00:08:19,710 --> 00:08:24,200
as well<font color="#CCCCCC"> as for the internet</font>

137
00:08:25,850 --> 00:08:32,339
unfortunately too<font color="#CCCCCC"> many people advertise</font>

138
00:08:29,669 --> 00:08:35,549
sub prefixes<font color="#CCCCCC"> too</font><font color="#E5E5E5"> many people advertise</font>

139
00:08:32,339 --> 00:08:38,430
<font color="#E5E5E5">slash 24 even though it's not expected</font>

140
00:08:35,549 --> 00:08:43,020
<font color="#CCCCCC">to see based</font><font color="#E5E5E5"> on the registrar the</font>

141
00:08:38,429 --> 00:08:44,729
registry entries<font color="#CCCCCC"> most should be you</font>

142
00:08:43,020 --> 00:08:47,790
should<font color="#CCCCCC"> only see very few</font><font color="#E5E5E5"> slash 24</font>

143
00:08:44,730 --> 00:08:56,779
because<font color="#E5E5E5"> most assignments</font><font color="#CCCCCC"> are slash 22 or</font>

144
00:08:47,790 --> 00:09:01,230
shorter so the basic rule of<font color="#E5E5E5"> thumb is</font>

145
00:08:56,779 --> 00:09:05,939
when<font color="#E5E5E5"> you advertise to</font><font color="#CCCCCC"> peers advertise</font>

146
00:09:01,230 --> 00:09:08,310
only your aggregated rattle the your the

147
00:09:05,940 --> 00:09:10,320
address space assigned to you<font color="#E5E5E5"> instead of</font>

148
00:09:08,310 --> 00:09:14,400
<font color="#E5E5E5">the sub prefixes and block the sub</font>

149
00:09:10,320 --> 00:09:17,580
prefixes from<font color="#E5E5E5"> being advertised if you</font>

150
00:09:14,400 --> 00:09:20,339
have to advertise<font color="#E5E5E5"> sub prefixes for</font>

151
00:09:17,580 --> 00:09:21,750
traffic engineering purpose there are

152
00:09:20,339 --> 00:09:23,610
other techniques<font color="#CCCCCC"> instead of advertising</font>

153
00:09:21,750 --> 00:09:27,230
<font color="#CCCCCC">the same sub prefixes that are</font><font color="#E5E5E5"> assigned</font>

154
00:09:23,610 --> 00:09:27,230
to a customer<font color="#E5E5E5"> and</font><font color="#CCCCCC"> we'll discuss that</font>

155
00:09:32,470 --> 00:09:43,130
so<font color="#CCCCCC"> ice piss so why do I don't</font><font color="#E5E5E5"> aggregate</font>

156
00:09:41,720 --> 00:09:47,540
one<font color="#E5E5E5"> of the main reasons</font><font color="#CCCCCC"> that they give</font>

157
00:09:43,130 --> 00:09:49,250
is traffic<font color="#E5E5E5"> engineering but it's very</font>

158
00:09:47,540 --> 00:09:52,579
important that because if<font color="#E5E5E5"> you don't</font>

159
00:09:49,250 --> 00:09:55,450
aggregate then you<font color="#E5E5E5"> increase to the</font>

160
00:09:52,580 --> 00:09:57,500
number<font color="#E5E5E5"> of</font><font color="#CCCCCC"> Internet</font><font color="#E5E5E5"> routing table and</font>

161
00:09:55,450 --> 00:09:59,120
<font color="#E5E5E5">increase in the number of</font><font color="#CCCCCC"> Internet</font>

162
00:09:57,500 --> 00:10:02,120
routing table<font color="#E5E5E5"> that reduces the</font>

163
00:09:59,120 --> 00:10:04,670
convergence<font color="#E5E5E5"> time it increases the</font>

164
00:10:02,120 --> 00:10:09,440
instability of the<font color="#CCCCCC"> internet</font><font color="#E5E5E5"> so it's</font>

165
00:10:04,670 --> 00:10:13,150
<font color="#E5E5E5">highly advisable to aggregate so because</font>

166
00:10:09,440 --> 00:10:17,890
of<font color="#CCCCCC"> that if you don't aggregate you are</font>

167
00:10:13,150 --> 00:10:21,500
<font color="#CCCCCC">your</font><font color="#E5E5E5"> service your your ISP is considered</font>

168
00:10:17,890 --> 00:10:27,290
poor by<font color="#E5E5E5"> the ISP community so it's</font>

169
00:10:21,500 --> 00:10:28,790
important to aggregate so here is a bad

170
00:10:27,290 --> 00:10:32,839
<font color="#CCCCCC">example and</font><font color="#E5E5E5"> we will see a good example</font>

171
00:10:28,790 --> 00:10:34,880
<font color="#CCCCCC">and why it</font><font color="#E5E5E5"> is important to aggregates</font>

172
00:10:32,840 --> 00:10:36,830
<font color="#E5E5E5">and if you don't aggregate is not just</font>

173
00:10:34,880 --> 00:10:39,220
you<font color="#E5E5E5"> are hurting the rest of the</font><font color="#CCCCCC"> internet</font>

174
00:10:36,830 --> 00:10:42,310
but you are also<font color="#E5E5E5"> hurting your customer</font>

175
00:10:39,220 --> 00:10:49,910
<font color="#E5E5E5">so here customer has slashed to industry</font>

176
00:10:42,310 --> 00:10:53,839
<font color="#E5E5E5">assigned from your block so aside from</font>

177
00:10:49,910 --> 00:10:58,400
the s100 outer space and when<font color="#E5E5E5"> the s100</font>

178
00:10:53,840 --> 00:11:01,310
<font color="#CCCCCC">advertises routes it</font><font color="#E5E5E5"> advertised what was</font>

179
00:10:58,400 --> 00:11:02,600
the super block which is<font color="#CCCCCC"> sliced 22</font><font color="#E5E5E5"> as</font>

180
00:11:01,310 --> 00:11:10,270
well as<font color="#E5E5E5"> the</font><font color="#CCCCCC"> subtree fees which is a</font>

181
00:11:02,600 --> 00:11:12,950
<font color="#E5E5E5">slash 23 okay now let's</font><font color="#CCCCCC"> see the impact</font>

182
00:11:10,270 --> 00:11:16,490
customer link goes down what happens

183
00:11:12,950 --> 00:11:19,090
when the customer link goes down you

184
00:11:16,490 --> 00:11:21,610
with the<font color="#CCCCCC"> routers was drawn from</font><font color="#E5E5E5"> ibgp</font>

185
00:11:19,090 --> 00:11:24,830
when the<font color="#E5E5E5"> router was drawn from a BGP</font>

186
00:11:21,610 --> 00:11:28,910
since<font color="#E5E5E5"> it's advertised via a BGP it's</font>

187
00:11:24,830 --> 00:11:31,220
also withdrawn from<font color="#E5E5E5"> ebgp when the router</font>

188
00:11:28,910 --> 00:11:33,890
was drawn<font color="#E5E5E5"> from ebgp from your neck spear</font>

189
00:11:31,220 --> 00:11:35,270
it<font color="#E5E5E5"> also has to withdraw it</font><font color="#CCCCCC"> from all</font><font color="#E5E5E5"> the</font>

190
00:11:33,890 --> 00:11:37,280
advertisements<font color="#CCCCCC"> that advertise to other</font>

191
00:11:35,270 --> 00:11:41,360
peers<font color="#E5E5E5"> and the whole thing propagates</font>

192
00:11:37,280 --> 00:11:44,540
<font color="#CCCCCC">repeats through the internet and when</font>

193
00:11:41,360 --> 00:11:49,680
turf when the interface<font color="#CCCCCC"> comes back</font>

194
00:11:44,540 --> 00:11:50,639
sorry when the interface<font color="#CCCCCC"> comes back the</font>

195
00:11:49,680 --> 00:11:53,160
same thing<font color="#E5E5E5"> happens again</font>

196
00:11:50,639 --> 00:11:53,730
the<font color="#CCCCCC"> intersect interface is injected into</font>

197
00:11:53,160 --> 00:11:56,670
ibgp

198
00:11:53,730 --> 00:11:58,589
and then advertise<font color="#E5E5E5"> to the ebgp peers and</font>

199
00:11:56,670 --> 00:12:02,339
the whole thing propagates<font color="#E5E5E5"> all over</font>

200
00:11:58,589 --> 00:12:04,980
again<font color="#E5E5E5"> and if you are only advertising</font>

201
00:12:02,339 --> 00:12:06,569
the<font color="#E5E5E5"> slash specific prefix the customer</font>

202
00:12:04,980 --> 00:12:09,480
may not be<font color="#E5E5E5"> it may</font><font color="#CCCCCC"> not</font><font color="#E5E5E5"> even be</font><font color="#CCCCCC"> visible to</font>

203
00:12:06,569 --> 00:12:10,860
<font color="#E5E5E5">the internet for a long time as some</font>

204
00:12:09,480 --> 00:12:12,899
service providers<font color="#CCCCCC"> dumpin are</font>

205
00:12:10,860 --> 00:12:17,699
advertisements advertisements and use

206
00:12:12,899 --> 00:12:20,100
<font color="#CCCCCC">hold-down to</font><font color="#E5E5E5"> reduce instability so this</font>

207
00:12:17,699 --> 00:12:22,410
doesn't<font color="#E5E5E5"> give quality for your service</font>

208
00:12:20,100 --> 00:12:25,850
<font color="#E5E5E5">for your customer it doesn't also give</font>

209
00:12:22,410 --> 00:12:28,980
you quality<font color="#E5E5E5"> for the rest of the internet</font>

210
00:12:25,850 --> 00:12:30,230
so it's very important to aggregate<font color="#E5E5E5"> here</font>

211
00:12:28,980 --> 00:12:33,569
is a good<font color="#CCCCCC"> example</font>

212
00:12:30,230 --> 00:12:36,059
<font color="#E5E5E5">you</font><font color="#CCCCCC"> unlock its slash 23 through your</font>

213
00:12:33,569 --> 00:12:40,519
customer<font color="#E5E5E5"> but you are</font><font color="#CCCCCC"> advertising only</font>

214
00:12:36,059 --> 00:12:43,170
slash 19 to the rest of the internet

215
00:12:40,519 --> 00:12:44,670
which<font color="#CCCCCC"> is a superset of that slash to</font>

216
00:12:43,170 --> 00:12:49,800
<font color="#E5E5E5">industry and number of other sub</font>

217
00:12:44,670 --> 00:12:51,509
interfaces<font color="#E5E5E5"> sub prefixes now when the</font>

218
00:12:49,800 --> 00:12:54,389
interface<font color="#E5E5E5"> goes down it is withdrawn from</font>

219
00:12:51,509 --> 00:12:55,740
<font color="#E5E5E5">ibgp but nothing happens to the</font><font color="#CCCCCC"> rest of</font>

220
00:12:54,389 --> 00:12:57,480
<font color="#CCCCCC">than</font><font color="#E5E5E5"> internet because it's not being</font>

221
00:12:55,740 --> 00:12:59,910
advertiser<font color="#CCCCCC"> to the internet so it</font><font color="#E5E5E5"> will</font>

222
00:12:57,480 --> 00:13:02,929
not be<font color="#E5E5E5"> withdrawn traffic to that</font>

223
00:12:59,910 --> 00:13:05,309
customer<font color="#E5E5E5"> will</font><font color="#CCCCCC"> come to</font><font color="#E5E5E5"> the to the ISP and</font>

224
00:13:02,929 --> 00:13:08,610
it will be dropped<font color="#E5E5E5"> at the border router</font>

225
00:13:05,309 --> 00:13:10,350
<font color="#E5E5E5">because there is no route for it but as</font>

226
00:13:08,610 --> 00:13:12,929
<font color="#E5E5E5">soon as the interface comes up comes</font>

227
00:13:10,350 --> 00:13:14,790
back then it's injected<font color="#E5E5E5"> into a BGP and</font>

228
00:13:12,929 --> 00:13:17,819
traffic immediately flows to<font color="#E5E5E5"> the</font>

229
00:13:14,790 --> 00:13:20,279
customer<font color="#E5E5E5"> good for the customer good for</font>

230
00:13:17,819 --> 00:13:22,019
the<font color="#CCCCCC"> internet</font><font color="#E5E5E5"> and creates a stable</font>

231
00:13:20,279 --> 00:13:30,139
<font color="#E5E5E5">internet so it's very important to</font>

232
00:13:22,019 --> 00:13:33,120
aggregate so you can see that the

233
00:13:30,139 --> 00:13:36,029
aggregation increases stability of the

234
00:13:33,120 --> 00:13:38,490
<font color="#CCCCCC">internet reduce the size of</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> routing</font>

235
00:13:36,029 --> 00:13:40,889
table which also contributes to<font color="#CCCCCC"> the</font>

236
00:13:38,490 --> 00:13:44,040
<font color="#E5E5E5">stability of the</font><font color="#CCCCCC"> internet</font><font color="#E5E5E5"> it reduces</font>

237
00:13:40,889 --> 00:13:45,990
<font color="#E5E5E5">route churn and it improves quality for</font>

238
00:13:44,040 --> 00:13:47,339
everybody not just<font color="#E5E5E5"> for your customer not</font>

239
00:13:45,990 --> 00:13:52,470
just for the entire internet but for

240
00:13:47,339 --> 00:13:55,110
everybody but many subscribers<font color="#CCCCCC"> to but</font>

241
00:13:52,470 --> 00:13:58,040
you know<font color="#E5E5E5"> the bad example and there are</font>

242
00:13:55,110 --> 00:14:01,620
part reasons<font color="#E5E5E5"> but</font>

243
00:13:58,040 --> 00:14:04,259
some of the reasons<font color="#E5E5E5"> are not acceptable</font>

244
00:14:01,620 --> 00:14:06,209
<font color="#CCCCCC">so in some</font><font color="#E5E5E5"> cases lack of knowledge</font>

245
00:14:04,259 --> 00:14:10,610
<font color="#E5E5E5">it could be lack of</font><font color="#CCCCCC"> flourish it could be</font>

246
00:14:06,209 --> 00:14:14,309
just<font color="#E5E5E5"> laziness not not to go through the</font>

247
00:14:10,610 --> 00:14:20,850
rigorous process of reducing<font color="#CCCCCC"> the size of</font>

248
00:14:14,309 --> 00:14:22,980
<font color="#CCCCCC">the table so and and we'll come back</font><font color="#E5E5E5"> to</font>

249
00:14:20,850 --> 00:14:28,379
<font color="#CCCCCC">that we will</font><font color="#E5E5E5"> see some examples and some</font>

250
00:14:22,980 --> 00:14:31,410
efforts<font color="#E5E5E5"> to improve that stability so</font>

251
00:14:28,379 --> 00:14:34,199
separation of ibgp and<font color="#E5E5E5"> ebgp so it's very</font>

252
00:14:31,410 --> 00:14:35,100
important that what you carry within

253
00:14:34,199 --> 00:14:38,399
<font color="#E5E5E5">your ibgp</font>

254
00:14:35,100 --> 00:14:40,410
<font color="#E5E5E5">and what you carry on your ebgp you have</font>

255
00:14:38,399 --> 00:14:42,839
to look<font color="#E5E5E5"> at it through two separate</font>

256
00:14:40,410 --> 00:14:48,360
<font color="#E5E5E5">entities and apply</font><font color="#CCCCCC"> two different</font>

257
00:14:42,839 --> 00:14:52,829
<font color="#E5E5E5">policies I beach peas we're all customer</font>

258
00:14:48,360 --> 00:14:55,550
prefixes reside<font color="#E5E5E5"> where all your non</font>

259
00:14:52,829 --> 00:14:59,370
infrastructure prefixes reside including

260
00:14:55,550 --> 00:15:02,008
<font color="#CCCCCC">customer-facing in the interfaces a</font><font color="#E5E5E5"> BGP</font>

261
00:14:59,370 --> 00:15:04,529
is where your aggregate prefixes are

262
00:15:02,009 --> 00:15:08,519
advertised it in your eye<font color="#CCCCCC"> BGP you have</font>

263
00:15:04,529 --> 00:15:09,870
your sub prefixes exist<font color="#E5E5E5"> as they are</font>

264
00:15:08,519 --> 00:15:12,089
<font color="#E5E5E5">without being aggregated</font>

265
00:15:09,870 --> 00:15:14,250
you will still have<font color="#E5E5E5"> the aggregate but</font>

266
00:15:12,089 --> 00:15:15,839
since you have the more specific route

267
00:15:14,250 --> 00:15:19,079
the more specific sub prefix will be

268
00:15:15,839 --> 00:15:21,059
used within your<font color="#CCCCCC"> eye</font><font color="#E5E5E5"> BGP but when you</font>

269
00:15:19,079 --> 00:15:27,000
advertise<font color="#E5E5E5"> it's very important</font><font color="#CCCCCC"> that you</font>

270
00:15:21,059 --> 00:15:30,029
<font color="#CCCCCC">advertise</font><font color="#E5E5E5"> aggregate prefixes if you need</font>

271
00:15:27,000 --> 00:15:31,860
to do<font color="#E5E5E5"> traffic engineering</font><font color="#CCCCCC"> do not use the</font>

272
00:15:30,029 --> 00:15:34,490
customer prefix generally generate<font color="#E5E5E5"> a</font>

273
00:15:31,860 --> 00:15:36,839
different<font color="#CCCCCC"> set of</font><font color="#E5E5E5"> prefixes which are a</font>

274
00:15:34,490 --> 00:15:41,670
superset of<font color="#E5E5E5"> the customer prefix but a</font>

275
00:15:36,839 --> 00:15:44,429
<font color="#CCCCCC">subset of the unlocated prefix</font><font color="#E5E5E5"> and by</font>

276
00:15:41,670 --> 00:15:48,899
doing that since you are<font color="#E5E5E5"> generating them</font>

277
00:15:44,429 --> 00:15:51,779
with<font color="#E5E5E5"> poly static often</font><font color="#CCCCCC"> name</font><font color="#E5E5E5"> down to null</font>

278
00:15:48,899 --> 00:15:53,309
<font color="#CCCCCC">zero by</font><font color="#E5E5E5"> doing that you improve the</font>

279
00:15:51,779 --> 00:15:56,040
convergence because those<font color="#CCCCCC"> prefix</font><font color="#E5E5E5"> are</font>

280
00:15:53,309 --> 00:15:59,749
always advertised respective of the

281
00:15:56,040 --> 00:15:59,748
state of the customer interface prefixes

282
00:16:02,120 --> 00:16:09,079
<font color="#E5E5E5">okay so</font><font color="#CCCCCC"> internet table</font><font color="#E5E5E5"> today so this</font><font color="#CCCCCC"> is</font>

283
00:16:06,829 --> 00:16:14,120
<font color="#E5E5E5">even though it says today I captured it</font>

284
00:16:09,079 --> 00:16:18,469
in<font color="#E5E5E5"> July so in July we have four</font><font color="#CCCCCC"> hundred</font>

285
00:16:14,120 --> 00:16:22,759
twenty<font color="#E5E5E5"> thousand routes by now probably</font>

286
00:16:18,470 --> 00:16:24,589
<font color="#E5E5E5">it may creep up up to four thirty</font><font color="#CCCCCC"> so</font>

287
00:16:22,759 --> 00:16:25,720
this is the total<font color="#CCCCCC"> number of routes</font><font color="#E5E5E5"> on</font>

288
00:16:24,589 --> 00:16:30,459
<font color="#E5E5E5">the Internet</font>

289
00:16:25,720 --> 00:16:33,559
but when you do<font color="#CCCCCC"> analysis if you do a</font>

290
00:16:30,459 --> 00:16:34,430
cider based aggregate<font color="#E5E5E5"> you can reduce it</font>

291
00:16:33,559 --> 00:16:36,800
by half

292
00:16:34,430 --> 00:16:42,800
close to half<font color="#E5E5E5"> as you can see two twenty</font>

293
00:16:36,800 --> 00:16:45,370
two<font color="#CCCCCC"> hundred forty</font><font color="#E5E5E5"> three thousand and if</font>

294
00:16:42,800 --> 00:16:48,559
you do the maximum aggregation even

295
00:16:45,370 --> 00:16:51,439
doing a superset of the<font color="#CCCCCC"> ciders you can't</font>

296
00:16:48,559 --> 00:16:55,879
even get down<font color="#E5E5E5"> to one hundred eighty</font><font color="#CCCCCC"> one</font>

297
00:16:51,439 --> 00:16:58,610
thousand routes so you can see that<font color="#E5E5E5"> if</font>

298
00:16:55,879 --> 00:17:02,059
<font color="#E5E5E5">people do their homework of doing the</font>

299
00:16:58,610 --> 00:17:04,279
aggregation properly we can<font color="#E5E5E5"> reduce the</font>

300
00:17:02,059 --> 00:17:07,099
<font color="#E5E5E5">size of the internet table by</font><font color="#CCCCCC"> fifty</font>

301
00:17:04,279 --> 00:17:11,059
<font color="#E5E5E5">percent</font><font color="#CCCCCC"> essentially again there may be</font>

302
00:17:07,099 --> 00:17:13,698
some reasons in some<font color="#CCCCCC"> case that</font><font color="#E5E5E5"> that may</font>

303
00:17:11,059 --> 00:17:15,500
not<font color="#CCCCCC"> be</font><font color="#E5E5E5"> the kids but there is a long way</font>

304
00:17:13,699 --> 00:17:21,890
there are<font color="#CCCCCC"> lots of things that can be</font>

305
00:17:15,500 --> 00:17:24,709
<font color="#CCCCCC">done</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> improve</font><font color="#E5E5E5"> the stability so the new</font>

306
00:17:21,890 --> 00:17:28,640
swamp<font color="#CCCCCC"> so in the past it used to be</font><font color="#E5E5E5"> this</font>

307
00:17:24,709 --> 00:17:30,590
<font color="#CCCCCC">is probably ten years</font><font color="#E5E5E5"> or so ago it used</font>

308
00:17:28,640 --> 00:17:33,230
<font color="#CCCCCC">to be the one ninety two slash eight</font>

309
00:17:30,590 --> 00:17:35,029
other space was the<font color="#CCCCCC"> swamp space the</font>

310
00:17:33,230 --> 00:17:38,120
swamp space is where you see a lot of

311
00:17:35,029 --> 00:17:42,740
slash twenty four addresses prefixes on

312
00:17:38,120 --> 00:17:46,879
the<font color="#CCCCCC"> internet so as you can see here this</font>

313
00:17:42,740 --> 00:17:51,409
is<font color="#E5E5E5"> from 1999 in 1999</font><font color="#CCCCCC"> you can see that</font>

314
00:17:46,880 --> 00:17:54,260
the 192 eight has over 6,000<font color="#E5E5E5"> slash</font>

315
00:17:51,409 --> 00:17:59,510
<font color="#E5E5E5">twenty four prefixes or sub prefixes</font>

316
00:17:54,260 --> 00:18:04,429
2003 fixes so the 192<font color="#CCCCCC"> gate but most of</font>

317
00:17:59,510 --> 00:18:09,860
<font color="#E5E5E5">the other blocks did not have large</font>

318
00:18:04,429 --> 00:18:13,549
number<font color="#CCCCCC"> of sub prefixes</font><font color="#E5E5E5"> but today should</font>

319
00:18:09,860 --> 00:18:15,850
<font color="#CCCCCC">relate to years</font><font color="#E5E5E5"> ago you can see that a</font>

320
00:18:13,549 --> 00:18:19,760
number of

321
00:18:15,850 --> 00:18:23,750
blocks have<font color="#E5E5E5"> a lot</font><font color="#CCCCCC"> of sub prefixes</font><font color="#E5E5E5"> so you</font>

322
00:18:19,760 --> 00:18:24,290
have so many<font color="#E5E5E5"> new swamps</font><font color="#CCCCCC"> so you can see</font>

323
00:18:23,750 --> 00:18:34,010
there

324
00:18:24,290 --> 00:18:36,290
<font color="#E5E5E5">64 64 8 has 6866</font><font color="#CCCCCC"> 8 has 7700 and so on so</font>

325
00:18:34,010 --> 00:18:43,790
there are lost number<font color="#CCCCCC"> of new swamps</font>

326
00:18:36,290 --> 00:18:47,240
<font color="#CCCCCC">creeping up so it</font><font color="#E5E5E5"> is important that if</font>

327
00:18:43,790 --> 00:18:52,970
we continue<font color="#CCCCCC"> with</font><font color="#E5E5E5"> this if</font><font color="#CCCCCC"> we have all the</font>

328
00:18:47,240 --> 00:18:57,740
120 / aids with an average<font color="#E5E5E5"> of 5,000</font>

329
00:18:52,970 --> 00:19:00,530
prefixes per block<font color="#E5E5E5"> it will get to</font><font color="#CCCCCC"> six</font>

330
00:18:57,740 --> 00:19:04,870
<font color="#CCCCCC">hundred thirty five thousand</font><font color="#E5E5E5"> rods</font><font color="#CCCCCC"> if we</font>

331
00:19:00,530 --> 00:19:10,120
have no 606 thousand routes per blocks

332
00:19:04,870 --> 00:19:13,550
then /<font color="#CCCCCC"> /f density</font><font color="#E5E5E5"> then we'll have</font>

333
00:19:10,120 --> 00:19:18,820
700,000 routes<font color="#E5E5E5"> so you can see how it</font>

334
00:19:13,550 --> 00:19:23,110
could<font color="#E5E5E5"> easily increase so all this is</font><font color="#CCCCCC"> to</font>

335
00:19:18,820 --> 00:19:23,110
<font color="#E5E5E5">stress the importance of aggregation</font>

336
00:19:25,090 --> 00:19:34,280
<font color="#E5E5E5">okay so what are</font><font color="#CCCCCC"> the real reasons</font><font color="#E5E5E5"> for</font>

337
00:19:30,400 --> 00:19:37,040
aggregation<font color="#E5E5E5"> so the aggregation not</font>

338
00:19:34,280 --> 00:19:39,980
aggregating<font color="#CCCCCC"> in some</font><font color="#E5E5E5"> cases the</font><font color="#CCCCCC"> lack of</font>

339
00:19:37,040 --> 00:19:41,300
knowledge in some case it<font color="#CCCCCC"> is</font><font color="#E5E5E5"> just</font>

340
00:19:39,980 --> 00:19:45,140
laziness<font color="#CCCCCC"> not doing the right of the</font>

341
00:19:41,300 --> 00:19:48,320
<font color="#E5E5E5">homework in some case but deliberate</font>

342
00:19:45,140 --> 00:19:50,300
knowing actions<font color="#E5E5E5"> knowing the impact there</font>

343
00:19:48,320 --> 00:19:51,919
may be some valid<font color="#E5E5E5"> track injury in cases</font>

344
00:19:50,300 --> 00:19:54,110
but most<font color="#CCCCCC"> trafficking hearing kids can't</font>

345
00:19:51,920 --> 00:20:00,350
be solved without doing extreme the

346
00:19:54,110 --> 00:20:04,010
aggregation so there are there<font color="#CCCCCC"> have been</font>

347
00:20:00,350 --> 00:20:07,820
efforts<font color="#E5E5E5"> to improve the aggregation or</font>

348
00:20:04,010 --> 00:20:11,360
<font color="#E5E5E5">the day aggregation issue and one of</font>

349
00:20:07,820 --> 00:20:14,570
them is a cider report<font color="#E5E5E5"> it was first</font>

350
00:20:11,360 --> 00:20:19,010
<font color="#E5E5E5">started by Tony Bates</font><font color="#CCCCCC"> and later on</font>

351
00:20:14,570 --> 00:20:22,850
revised by Philip Smith who developed

352
00:20:19,010 --> 00:20:26,260
this tutorial actually they did it that

353
00:20:22,850 --> 00:20:29,500
<font color="#E5E5E5">he developed this tutorial so he</font>

354
00:20:26,260 --> 00:20:32,410
they continued<font color="#CCCCCC"> with that effort and now</font>

355
00:20:29,500 --> 00:20:35,020
it's combined<font color="#E5E5E5"> with</font><font color="#CCCCCC"> Java stands routing</font>

356
00:20:32,410 --> 00:20:37,690
analysis and you can go to the side are

357
00:20:35,020 --> 00:20:41,100
reports that<font color="#CCCCCC"> work website and you will</font>

358
00:20:37,690 --> 00:20:43,720
<font color="#E5E5E5">see</font><font color="#CCCCCC"> a lot of reports weekly reports</font>

359
00:20:41,100 --> 00:20:48,610
<font color="#E5E5E5">showing the trend and</font><font color="#CCCCCC"> we'll see</font><font color="#E5E5E5"> some of</font>

360
00:20:43,720 --> 00:20:50,620
those<font color="#E5E5E5"> reports it computes the size of</font>

361
00:20:48,610 --> 00:20:51,490
the routing<font color="#E5E5E5"> tables it provides</font>

362
00:20:50,620 --> 00:20:55,830
suggestions

363
00:20:51,490 --> 00:20:58,930
it sends emails to the service providers

364
00:20:55,830 --> 00:21:04,929
the reports as well<font color="#E5E5E5"> as suggestions on</font>

365
00:20:58,930 --> 00:21:12,340
improving aggregation<font color="#CCCCCC"> here is just from</font>

366
00:21:04,930 --> 00:21:17,140
the<font color="#E5E5E5"> website here is a summary here</font><font color="#CCCCCC"> you</font>

367
00:21:12,340 --> 00:21:20,110
will see the this is in<font color="#E5E5E5"> July you'll see</font>

368
00:21:17,140 --> 00:21:24,640
the side are aggregated<font color="#E5E5E5"> and actual</font>

369
00:21:20,110 --> 00:21:27,490
prefixes<font color="#E5E5E5"> so in that case is</font><font color="#CCCCCC"> 419 419</font>

370
00:21:24,640 --> 00:21:29,470
thousand and if they're a<font color="#CCCCCC"> grated they</font>

371
00:21:27,490 --> 00:21:33,250
could come<font color="#CCCCCC"> to two hundred forty-one</font>

372
00:21:29,470 --> 00:21:35,890
thousand<font color="#E5E5E5"> and so on and you will see that</font>

373
00:21:33,250 --> 00:21:40,000
list<font color="#CCCCCC"> heeded a more specific</font><font color="#E5E5E5"> one in this</font>

374
00:21:35,890 --> 00:21:44,170
case is actually<font color="#E5E5E5"> showing this is showing</font>

375
00:21:40,000 --> 00:21:46,660
<font color="#E5E5E5">the top the aggregated prefix the</font>

376
00:21:44,170 --> 00:21:50,770
service providers<font color="#E5E5E5"> so in this particular</font>

377
00:21:46,660 --> 00:21:55,840
<font color="#CCCCCC">case this week Bates house was the</font>

378
00:21:50,770 --> 00:21:57,930
winner<font color="#E5E5E5"> essentially so with with if it</font>

379
00:21:55,840 --> 00:22:01,929
was aggregated properly<font color="#E5E5E5"> it could save</font>

380
00:21:57,930 --> 00:22:05,380
94.4%<font color="#E5E5E5"> saving so it was a lot of the</font>

381
00:22:01,930 --> 00:22:12,190
<font color="#E5E5E5">aggregation so they generate these types</font>

382
00:22:05,380 --> 00:22:17,980
of<font color="#E5E5E5"> reports</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> send out</font><font color="#CCCCCC"> the reports here</font>

383
00:22:12,190 --> 00:22:20,560
is another one<font color="#CCCCCC"> that shows the top twenty</font>

384
00:22:17,980 --> 00:22:23,770
crowd counts per originating<font color="#E5E5E5"> is how many</font>

385
00:22:20,560 --> 00:22:26,590
routes they are originating not they may

386
00:22:23,770 --> 00:22:29,350
have<font color="#CCCCCC"> multiple blocks</font><font color="#E5E5E5"> so it doesn't mean</font>

387
00:22:26,590 --> 00:22:31,060
they<font color="#CCCCCC"> are the worst the aggregation is</font>

388
00:22:29,350 --> 00:22:35,080
just how<font color="#E5E5E5"> many routes</font><font color="#CCCCCC"> they're injecting</font>

389
00:22:31,060 --> 00:22:37,690
into<font color="#E5E5E5"> the internet top twenty and this is</font>

390
00:22:35,080 --> 00:22:41,280
a<font color="#E5E5E5"> weekly and</font><font color="#CCCCCC"> it also</font><font color="#E5E5E5"> it also captures</font>

391
00:22:37,690 --> 00:22:41,280
change between weeks

392
00:22:42,450 --> 00:23:00,220
<font color="#CCCCCC">here it</font><font color="#E5E5E5"> shows total prefixes again</font><font color="#CCCCCC"> per s</font>

393
00:22:53,490 --> 00:23:03,310
and here it<font color="#CCCCCC"> is a suggestion for</font>

394
00:23:00,220 --> 00:23:07,420
specifics on<font color="#E5E5E5"> a system what can be</font>

395
00:23:03,310 --> 00:23:17,590
withdrawn<font color="#E5E5E5"> and replaced</font><font color="#CCCCCC"> to improve</font>

396
00:23:07,420 --> 00:23:21,310
aggregation so so the importance of

397
00:23:17,590 --> 00:23:24,300
aggregation is it reduces the<font color="#E5E5E5"> size of</font>

398
00:23:21,310 --> 00:23:27,550
routing<font color="#E5E5E5"> table for the entire</font><font color="#CCCCCC"> internet</font>

399
00:23:24,300 --> 00:23:29,980
<font color="#E5E5E5">normally your own if you are taking the</font>

400
00:23:27,550 --> 00:23:33,460
full internet<font color="#CCCCCC"> learning table and you add</font>

401
00:23:29,980 --> 00:23:35,500
<font color="#CCCCCC">your own infrastructure</font><font color="#E5E5E5"> and customer</font>

402
00:23:33,460 --> 00:23:37,780
prefixes<font color="#CCCCCC"> the total number of routes in</font>

403
00:23:35,500 --> 00:23:40,900
your<font color="#CCCCCC"> IBT in</font><font color="#E5E5E5"> your BGP table or a BGP</font>

404
00:23:37,780 --> 00:23:42,970
<font color="#E5E5E5">table is actually</font><font color="#CCCCCC"> much larger</font><font color="#E5E5E5"> than much</font>

405
00:23:40,900 --> 00:23:45,490
higher<font color="#E5E5E5"> than the internet routing table</font>

406
00:23:42,970 --> 00:23:47,050
in<font color="#E5E5E5"> some cases some</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> the big service</font>

407
00:23:45,490 --> 00:23:48,730
providers even<font color="#E5E5E5"> by hundreds of South</font>

408
00:23:47,050 --> 00:23:54,010
behind<font color="#E5E5E5"> by</font><font color="#CCCCCC"> one hundred</font><font color="#E5E5E5"> hundred twenty</font>

409
00:23:48,730 --> 00:23:55,840
thousand more so some<font color="#E5E5E5"> maybe even</font><font color="#CCCCCC"> more</font><font color="#E5E5E5"> so</font>

410
00:23:54,010 --> 00:23:58,300
total number<font color="#CCCCCC"> of</font><font color="#E5E5E5"> routes could be even</font>

411
00:23:55,840 --> 00:24:02,260
higher higher than what you<font color="#CCCCCC"> see here for</font>

412
00:23:58,300 --> 00:24:03,580
<font color="#E5E5E5">a specific service provider so it</font>

413
00:24:02,260 --> 00:24:08,800
improves convergence when we do

414
00:24:03,580 --> 00:24:11,710
aggregation<font color="#CCCCCC"> it reduces CPU cycles or</font>

415
00:24:08,800 --> 00:24:13,659
normally when you<font color="#CCCCCC"> have a router and</font>

416
00:24:11,710 --> 00:24:16,570
doing<font color="#CCCCCC"> convergence you</font><font color="#E5E5E5"> want the router to</font>

417
00:24:13,660 --> 00:24:18,910
go full speed<font color="#E5E5E5"> and consume all the CPU to</font>

418
00:24:16,570 --> 00:24:21,189
<font color="#CCCCCC">converge</font><font color="#E5E5E5"> faster but if you have large</font>

419
00:24:18,910 --> 00:24:22,900
<font color="#E5E5E5">number of</font><font color="#CCCCCC"> runs it will stay full CPU for</font>

420
00:24:21,190 --> 00:24:25,690
<font color="#CCCCCC">a long time and it could have adverse</font>

421
00:24:22,900 --> 00:24:27,810
impacts<font color="#CCCCCC"> depending on the operating</font>

422
00:24:25,690 --> 00:24:27,810
system

423
00:24:29,160 --> 00:24:39,340
<font color="#CCCCCC">here is another website</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> provides</font>

424
00:24:32,770 --> 00:24:42,460
updates<font color="#CCCCCC"> pata of website and the</font><font color="#E5E5E5"> BGP</font>

425
00:24:39,340 --> 00:24:46,240
update websites and shows BGP

426
00:24:42,460 --> 00:24:49,330
instability so this shows you<font color="#E5E5E5"> how</font><font color="#CCCCCC"> many</font>

427
00:24:46,240 --> 00:24:52,180
prefixes<font color="#CCCCCC"> up downs per prefix for a</font>

428
00:24:49,330 --> 00:24:53,059
<font color="#CCCCCC">specific customer</font><font color="#E5E5E5"> and shows also again</font>

429
00:24:52,180 --> 00:24:54,950
for the

430
00:24:53,059 --> 00:24:58,720
customers<font color="#E5E5E5"> the top customer in this case</font>

431
00:24:54,950 --> 00:25:02,659
was the one that you see there they had

432
00:24:58,720 --> 00:25:04,789
17.8<font color="#E5E5E5"> fleecy updates</font><font color="#CCCCCC"> up and down</font><font color="#E5E5E5"> part</font>

433
00:25:02,659 --> 00:25:10,070
prefix for that particular<font color="#E5E5E5"> service</font>

434
00:25:04,789 --> 00:25:16,490
provider<font color="#CCCCCC"> here</font><font color="#E5E5E5"> it is total number</font><font color="#CCCCCC"> of up</font>

435
00:25:10,070 --> 00:25:19,970
and<font color="#E5E5E5"> downs per service provider here this</font>

436
00:25:16,490 --> 00:25:21,980
graph<font color="#CCCCCC"> shows the the size of the Internet</font>

437
00:25:19,970 --> 00:25:25,700
table<font color="#E5E5E5"> growing the top line shows the</font>

438
00:25:21,980 --> 00:25:31,309
<font color="#E5E5E5">size of the internet'll growing the</font>

439
00:25:25,700 --> 00:25:35,539
<font color="#CCCCCC">x-axis is year 2012 2011</font><font color="#E5E5E5"> and so on the</font>

440
00:25:31,309 --> 00:25:40,460
second line shows aggregation based on a

441
00:25:35,539 --> 00:25:43,669
<font color="#E5E5E5">spaz second the</font><font color="#CCCCCC"> third one shows</font>

442
00:25:40,460 --> 00:25:46,519
aggregation based on<font color="#E5E5E5"> s origin so keeping</font>

443
00:25:43,669 --> 00:25:50,360
the same<font color="#CCCCCC"> s past if we</font><font color="#E5E5E5"> aggregate it will</font>

444
00:25:46,519 --> 00:25:52,879
still go half almost half if<font color="#CCCCCC"> you are</font>

445
00:25:50,360 --> 00:25:56,600
aggregated based on this origin<font color="#E5E5E5"> we may</font>

446
00:25:52,879 --> 00:25:58,100
<font color="#CCCCCC">even be better so there's a lot of</font><font color="#E5E5E5"> room</font>

447
00:25:56,600 --> 00:26:06,399
for aggregation<font color="#CCCCCC"> that's basically what</font>

448
00:25:58,100 --> 00:26:08,090
this graph shows so the next message is

449
00:26:06,399 --> 00:26:10,899
aggregation on the internet could<font color="#E5E5E5"> be</font>

450
00:26:08,090 --> 00:26:15,619
<font color="#E5E5E5">much better than what</font><font color="#CCCCCC"> it is</font><font color="#E5E5E5"> today</font>

451
00:26:10,899 --> 00:26:21,559
but it could be<font color="#CCCCCC"> as it can be</font><font color="#E5E5E5"> reduced</font><font color="#CCCCCC"> by</font>

452
00:26:15,619 --> 00:26:24,439
up<font color="#E5E5E5"> to</font><font color="#CCCCCC"> 35% there are tools</font><font color="#E5E5E5"> and available</font>

453
00:26:21,559 --> 00:26:28,759
commands<font color="#E5E5E5"> to analyze and implement these</font>

454
00:26:24,440 --> 00:26:32,169
<font color="#E5E5E5">changes but still you see number</font><font color="#CCCCCC"> of</font>

455
00:26:28,759 --> 00:26:32,169
people doing a lot<font color="#CCCCCC"> of the aggregation</font>

456
00:26:32,799 --> 00:26:42,190
<font color="#CCCCCC">okay receiving prefixes so receive</font>

457
00:26:38,899 --> 00:26:46,459
<font color="#E5E5E5">prefixes in this case means they are BGP</font>

458
00:26:42,190 --> 00:26:49,100
<font color="#E5E5E5">okay so you can receive prefixes via BGP</font>

459
00:26:46,460 --> 00:26:54,259
either from a customer talking ebgp

460
00:26:49,100 --> 00:26:58,009
we with your customer<font color="#E5E5E5"> or</font><font color="#CCCCCC"> a peer or a</font>

461
00:26:54,259 --> 00:27:00,679
transit provider<font color="#CCCCCC"> a transit providers</font>

462
00:26:58,009 --> 00:27:02,690
where you send all<font color="#E5E5E5"> your traffic if you</font>

463
00:27:00,679 --> 00:27:05,720
<font color="#E5E5E5">don't have any other exit points so it's</font>

464
00:27:02,690 --> 00:27:06,380
your default traffic if you<font color="#E5E5E5"> don't have</font>

465
00:27:05,720 --> 00:27:08,840
multiple<font color="#CCCCCC"> turns</font>

466
00:27:06,380 --> 00:27:11,000
providers<font color="#E5E5E5"> so</font><font color="#CCCCCC"> multiple tries providers</font>

467
00:27:08,840 --> 00:27:12,649
then you pick the<font color="#E5E5E5"> best</font><font color="#CCCCCC"> pass you receive</font>

468
00:27:11,000 --> 00:27:15,130
full updates from balls and then you

469
00:27:12,650 --> 00:27:18,430
pick<font color="#CCCCCC"> the best pass</font>

470
00:27:15,130 --> 00:27:22,220
so from customers

471
00:27:18,430 --> 00:27:25,700
you should only<font color="#CCCCCC"> accept updates from BGP</font>

472
00:27:22,220 --> 00:27:31,700
updates<font color="#CCCCCC"> from customers under the</font><font color="#E5E5E5"> two</font>

473
00:27:25,700 --> 00:27:34,460
<font color="#E5E5E5">conditions</font><font color="#CCCCCC"> shown below</font><font color="#E5E5E5"> if the ISP</font><font color="#CCCCCC"> has</font>

474
00:27:31,700 --> 00:27:37,340
not assigned<font color="#E5E5E5"> other space to the customer</font>

475
00:27:34,460 --> 00:27:39,620
so<font color="#E5E5E5"> if the</font><font color="#CCCCCC"> customer has</font><font color="#E5E5E5"> its own address</font>

476
00:27:37,340 --> 00:27:43,220
space<font color="#E5E5E5"> received from somebody else from</font>

477
00:27:39,620 --> 00:27:44,629
the registries essentially and<font color="#CCCCCC"> when it</font>

478
00:27:43,220 --> 00:27:47,270
when<font color="#E5E5E5"> that happens you have to check with</font>

479
00:27:44,630 --> 00:27:49,010
<font color="#E5E5E5">the registries whether that address</font>

480
00:27:47,270 --> 00:27:51,470
space is really assigned<font color="#CCCCCC"> to</font><font color="#E5E5E5"> that</font>

481
00:27:49,010 --> 00:27:53,870
customer and you can use<font color="#CCCCCC"> a</font><font color="#E5E5E5"> who is who is</font>

482
00:27:51,470 --> 00:28:00,290
information to do that so that's<font color="#E5E5E5"> pretty</font>

483
00:27:53,870 --> 00:28:02,540
simple<font color="#CCCCCC"> and then if it is valid if</font><font color="#E5E5E5"> it is</font>

484
00:28:00,290 --> 00:28:04,750
<font color="#CCCCCC">a valid assigned address</font><font color="#E5E5E5"> for</font><font color="#CCCCCC"> that</font>

485
00:28:02,540 --> 00:28:07,760
customer<font color="#E5E5E5"> then you</font><font color="#CCCCCC"> can receive it and</font>

486
00:28:04,750 --> 00:28:13,580
send it<font color="#E5E5E5"> upstream to other service</font>

487
00:28:07,760 --> 00:28:16,490
providers and this is an example<font color="#CCCCCC"> of a</font>

488
00:28:13,580 --> 00:28:19,939
<font color="#CCCCCC">Whois information in this</font><font color="#E5E5E5"> case it shows</font>

489
00:28:16,490 --> 00:28:23,510
assigned port portable so it means it<font color="#E5E5E5"> is</font>

490
00:28:19,940 --> 00:28:25,250
assigned<font color="#E5E5E5"> to the customer and can be</font>

491
00:28:23,510 --> 00:28:29,740
received<font color="#E5E5E5"> and advertised by service</font>

492
00:28:25,250 --> 00:28:32,270
provider in<font color="#E5E5E5"> this</font><font color="#CCCCCC"> case it</font><font color="#E5E5E5"> shows unlocated</font>

493
00:28:29,740 --> 00:28:34,610
<font color="#E5E5E5">unspecified which means this</font><font color="#CCCCCC"> actually</font>

494
00:28:32,270 --> 00:28:36,230
are located<font color="#E5E5E5"> to a Verizon so if a</font>

495
00:28:34,610 --> 00:28:39,169
<font color="#CCCCCC">customer comes to you and</font><font color="#E5E5E5"> this is my IP</font>

496
00:28:36,230 --> 00:28:40,640
address<font color="#E5E5E5"> you</font><font color="#CCCCCC"> can</font><font color="#E5E5E5"> note it</font><font color="#CCCCCC"> me it may have</font>

497
00:28:39,170 --> 00:28:43,280
been<font color="#E5E5E5"> assigned to</font><font color="#CCCCCC"> that customer by</font>

498
00:28:40,640 --> 00:28:46,070
Verizon but doesn't belong<font color="#CCCCCC"> to</font><font color="#E5E5E5"> their to</font>

499
00:28:43,280 --> 00:28:48,440
that customer so the customer<font color="#E5E5E5"> cannot</font>

500
00:28:46,070 --> 00:28:49,939
advertise to another service provider<font color="#CCCCCC"> so</font>

501
00:28:48,440 --> 00:28:53,510
you<font color="#E5E5E5"> should not receive that prefix from</font>

502
00:28:49,940 --> 00:28:56,770
that customer<font color="#E5E5E5"> it should be a prefix</font>

503
00:28:53,510 --> 00:28:56,770
<font color="#E5E5E5">assigned to the customer</font>

504
00:28:57,520 --> 00:29:02,350
receiving prefixes<font color="#E5E5E5"> from</font><font color="#CCCCCC"> peer</font><font color="#E5E5E5"> usually is</font>

505
00:29:00,190 --> 00:29:02,860
<font color="#E5E5E5">based on an agreement the</font><font color="#CCCCCC"> two parts I</font>

506
00:29:02,350 --> 00:29:05,199
agree

507
00:29:02,860 --> 00:29:07,000
what prefixes to<font color="#E5E5E5"> receive and</font><font color="#CCCCCC"> sent and</font>

508
00:29:05,200 --> 00:29:10,929
then they will implement their filters

509
00:29:07,000 --> 00:29:14,220
to receive and send and block prefixes

510
00:29:10,929 --> 00:29:14,220
from the different service providers

511
00:29:16,110 --> 00:29:26,799
<font color="#E5E5E5">okay and you can also use the</font><font color="#CCCCCC"> internet</font>

512
00:29:23,440 --> 00:29:31,179
route registry to verify the origin<font color="#E5E5E5"> of</font>

513
00:29:26,799 --> 00:29:34,418
the<font color="#E5E5E5"> s the the whether that</font><font color="#CCCCCC"> really allows</font>

514
00:29:31,179 --> 00:29:36,850
<font color="#E5E5E5">the registered and you</font><font color="#CCCCCC"> have to have you</font>

515
00:29:34,419 --> 00:29:38,440
also have to<font color="#CCCCCC"> have once you</font><font color="#E5E5E5"> agree you</font>

516
00:29:36,850 --> 00:29:41,678
<font color="#CCCCCC">have to have to document it either via</font>

517
00:29:38,440 --> 00:29:44,980
<font color="#CCCCCC">you know</font><font color="#E5E5E5"> email documentation or some</font>

518
00:29:41,679 --> 00:29:49,450
kind of documentation<font color="#E5E5E5"> another way to</font>

519
00:29:44,980 --> 00:29:52,740
validate the the the specific<font color="#E5E5E5"> prefix</font>

520
00:29:49,450 --> 00:29:59,309
belongs to an alternative<font color="#CCCCCC"> system is</font>

521
00:29:52,740 --> 00:30:01,690
using origin is validation<font color="#CCCCCC"> rpki</font>

522
00:29:59,309 --> 00:30:03,610
infrastructure and we'll see that<font color="#E5E5E5"> so</font>

523
00:30:01,690 --> 00:30:07,320
these are automated means to check

524
00:30:03,610 --> 00:30:10,870
whether a router received from<font color="#E5E5E5"> appear</font>

525
00:30:07,320 --> 00:30:14,850
really belongs to the<font color="#CCCCCC"> s it is originated</font>

526
00:30:10,870 --> 00:30:18,209
from and and<font color="#CCCCCC"> we'll see that how it</font><font color="#E5E5E5"> works</font>

527
00:30:14,850 --> 00:30:18,209
any questions

528
00:30:20,760 --> 00:30:25,510
receiving routes from upstream<font color="#E5E5E5"> trans</font>

529
00:30:22,990 --> 00:30:27,130
provider if you<font color="#CCCCCC"> have</font><font color="#E5E5E5"> just one upstream</font>

530
00:30:25,510 --> 00:30:28,750
transit provider<font color="#E5E5E5"> there is no need to</font>

531
00:30:27,130 --> 00:30:30,880
<font color="#E5E5E5">receive full Internet routing table from</font>

532
00:30:28,750 --> 00:30:33,390
<font color="#E5E5E5">that service provider you just receive a</font>

533
00:30:30,880 --> 00:30:36,610
default route from<font color="#E5E5E5"> that service provider</font>

534
00:30:33,390 --> 00:30:38,590
<font color="#E5E5E5">if you have multiple upstream service</font>

535
00:30:36,610 --> 00:30:40,800
providers<font color="#E5E5E5"> obviously you will need to</font>

536
00:30:38,590 --> 00:30:43,179
receive<font color="#E5E5E5"> the</font><font color="#CCCCCC"> four internet routing table</font>

537
00:30:40,800 --> 00:30:45,760
but when<font color="#E5E5E5"> you do that you have</font><font color="#CCCCCC"> to make</font>

538
00:30:43,180 --> 00:30:48,970
<font color="#CCCCCC">sure that prefixes we received from</font>

539
00:30:45,760 --> 00:30:52,450
peers<font color="#CCCCCC"> and from customers are preferred</font>

540
00:30:48,970 --> 00:30:56,320
over<font color="#E5E5E5"> country prefixes received from your</font>

541
00:30:52,450 --> 00:30:59,310
transit provider<font color="#E5E5E5"> and you can use</font>

542
00:30:56,320 --> 00:30:59,310
policies to do that

543
00:31:07,250 --> 00:31:13,620
it's important<font color="#E5E5E5"> when you receive prefixes</font>

544
00:31:10,049 --> 00:31:15,360
from peers<font color="#E5E5E5"> even from customers to make</font>

545
00:31:13,620 --> 00:31:16,500
<font color="#E5E5E5">sure that actually</font><font color="#CCCCCC"> from transit</font>

546
00:31:15,360 --> 00:31:18,870
providers we are receiving<font color="#E5E5E5"> a full</font>

547
00:31:16,500 --> 00:31:21,750
<font color="#CCCCCC">internet routing table</font><font color="#E5E5E5"> it's important to</font>

548
00:31:18,870 --> 00:31:26,279
make sure<font color="#E5E5E5"> that when you send you remove</font>

549
00:31:21,750 --> 00:31:29,100
any private s so you you<font color="#E5E5E5"> have to put a</font>

550
00:31:26,279 --> 00:31:30,059
filter<font color="#E5E5E5"> to remove private aces you have</font>

551
00:31:29,100 --> 00:31:32,370
to make<font color="#E5E5E5"> sure that</font><font color="#CCCCCC"> you are not</font>

552
00:31:30,059 --> 00:31:36,600
advertising<font color="#E5E5E5"> any private address</font><font color="#CCCCCC"> space</font>

553
00:31:32,370 --> 00:31:39,689
and it's shown there from the list<font color="#E5E5E5"> and</font>

554
00:31:36,600 --> 00:31:42,870
it's important to to make<font color="#CCCCCC"> sure that you</font>

555
00:31:39,690 --> 00:31:46,169
<font color="#E5E5E5">don't receive or advertise any prefixes</font>

556
00:31:42,870 --> 00:31:48,268
<font color="#CCCCCC">Bhagwan prefixes or ballgown ESS</font><font color="#E5E5E5"> so you</font>

557
00:31:46,169 --> 00:31:56,340
have to implement<font color="#E5E5E5"> those prefixes those</font>

558
00:31:48,269 --> 00:32:03,419
filters<font color="#CCCCCC"> okay so the four</font><font color="#E5E5E5"> bogans you can</font>

559
00:31:56,340 --> 00:32:05,850
check team<font color="#E5E5E5"> come</font><font color="#CCCCCC"> breed I didn't know that</font>

560
00:32:03,419 --> 00:32:08,879
it's<font color="#CCCCCC"> pronounce it that way but I came</font><font color="#E5E5E5"> to</font>

561
00:32:05,850 --> 00:32:11,309
know about<font color="#CCCCCC"> it recently so it's</font><font color="#E5E5E5"> for</font>

562
00:32:08,879 --> 00:32:12,750
<font color="#E5E5E5">answered as team country so</font><font color="#CCCCCC"> to Tim Convy</font>

563
00:32:11,309 --> 00:32:16,529
publishes<font color="#CCCCCC"> bogans</font>

564
00:32:12,750 --> 00:32:18,419
you can also get<font color="#E5E5E5"> mobile</font><font color="#CCCCCC"> lists from</font><font color="#E5E5E5"> their</font>

565
00:32:16,529 --> 00:32:20,730
server so<font color="#CCCCCC"> you</font><font color="#E5E5E5"> can get there's an</font>

566
00:32:18,419 --> 00:32:23,940
automatic<font color="#E5E5E5"> way of getting above</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> list</font>

567
00:32:20,730 --> 00:32:27,809
and you<font color="#CCCCCC"> can</font><font color="#E5E5E5"> go and check their website</font>

568
00:32:23,940 --> 00:32:29,970
there they also have configuration

569
00:32:27,809 --> 00:32:33,360
templates for different vendors<font color="#E5E5E5"> on how</font>

570
00:32:29,970 --> 00:32:42,690
to filter<font color="#CCCCCC"> box so it's a useful</font><font color="#E5E5E5"> tool</font>

571
00:32:33,360 --> 00:32:44,580
<font color="#CCCCCC">there so okay</font><font color="#E5E5E5"> so</font><font color="#CCCCCC"> making sure</font><font color="#E5E5E5"> that you</font>

572
00:32:42,690 --> 00:32:46,649
are receiving<font color="#E5E5E5"> the right prefix making</font>

573
00:32:44,580 --> 00:32:48,600
sure that you<font color="#E5E5E5"> are not receiving</font><font color="#CCCCCC"> volume</font>

574
00:32:46,649 --> 00:32:52,080
prefixes or private IP addresses or

575
00:32:48,600 --> 00:32:55,259
prime or<font color="#CCCCCC"> bargain or advertising private</font>

576
00:32:52,080 --> 00:32:58,860
<font color="#E5E5E5">s numbers and so on is very important</font>

577
00:32:55,259 --> 00:33:00,809
for the integrity and stability of your

578
00:32:58,860 --> 00:33:05,039
own network as well<font color="#CCCCCC"> as</font><font color="#E5E5E5"> for the entire</font>

579
00:33:00,809 --> 00:33:07,908
<font color="#E5E5E5">internet so it's very important to pay</font>

580
00:33:05,039 --> 00:33:12,720
attention<font color="#CCCCCC"> so we discussed</font><font color="#E5E5E5"> that you can</font>

581
00:33:07,909 --> 00:33:14,010
verify the value<font color="#E5E5E5"> of a prefix using</font><font color="#CCCCCC"> bgp</font>

582
00:33:12,720 --> 00:33:17,730
origin<font color="#E5E5E5"> ace validation</font>

583
00:33:14,010 --> 00:33:18,658
this is a new draft<font color="#CCCCCC"> actually it's not</font>

584
00:33:17,730 --> 00:33:20,609
<font color="#CCCCCC">even yet a standard</font>

585
00:33:18,659 --> 00:33:25,759
there are parts<font color="#E5E5E5"> of the standard but not</font>

586
00:33:20,609 --> 00:33:27,389
not a full standard<font color="#E5E5E5"> yet</font><font color="#CCCCCC"> so it uses rpki</font>

587
00:33:25,759 --> 00:33:30,149
infrastructure<font color="#CCCCCC"> that</font><font color="#E5E5E5"> we'll discuss later</font>

588
00:33:27,389 --> 00:33:35,969
on<font color="#E5E5E5"> but first let's discuss the problem</font>

589
00:33:30,149 --> 00:33:39,478
<font color="#E5E5E5">problem is right now</font><font color="#CCCCCC"> NES can inject</font><font color="#E5E5E5"> a</font>

590
00:33:35,970 --> 00:33:41,700
prefix<font color="#E5E5E5"> unless you filter it obviously so</font>

591
00:33:39,479 --> 00:33:45,869
I can inject the prefix<font color="#E5E5E5"> into the</font>

592
00:33:41,700 --> 00:33:49,200
<font color="#CCCCCC">Internet and that could create what's</font>

593
00:33:45,869 --> 00:33:51,779
known as prefix hijacking<font color="#E5E5E5"> so it could</font>

594
00:33:49,200 --> 00:33:53,759
create<font color="#CCCCCC"> problem where I may say you know</font>

595
00:33:51,779 --> 00:33:55,679
I'm<font color="#E5E5E5"> advertised Gogol's prefixes and</font>

596
00:33:53,759 --> 00:33:57,960
<font color="#E5E5E5">everybody sending Google traffic to me</font>

597
00:33:55,679 --> 00:34:04,259
<font color="#E5E5E5">so we will not receiving any traffic at</font>

598
00:33:57,960 --> 00:34:06,809
all so to avoid that it's important to

599
00:34:04,259 --> 00:34:11,849
<font color="#E5E5E5">validate that</font><font color="#CCCCCC"> the prefix are</font><font color="#E5E5E5"> advertised</font>

600
00:34:06,809 --> 00:34:18,449
it<font color="#E5E5E5"> is from the a valid from a valid</font>

601
00:34:11,849 --> 00:34:20,579
origin s and by a valid entity and you

602
00:34:18,449 --> 00:34:22,288
<font color="#CCCCCC">can see actual incidence there the</font>

603
00:34:20,579 --> 00:34:30,720
number of incidents<font color="#CCCCCC"> and the one</font>

604
00:34:22,289 --> 00:34:33,869
particular one<font color="#E5E5E5"> okay let's go here and</font>

605
00:34:30,719 --> 00:34:39,799
<font color="#E5E5E5">then we'll go</font><font color="#CCCCCC"> we'll</font><font color="#E5E5E5"> see the example in</font>

606
00:34:33,869 --> 00:34:45,450
<font color="#E5E5E5">this</font><font color="#CCCCCC"> particular</font><font color="#E5E5E5"> case let's see the valid</font>

607
00:34:39,799 --> 00:34:51,929
prefix<font color="#CCCCCC"> owner is s 40 and s 40</font><font color="#E5E5E5"> advertises</font>

608
00:34:45,449 --> 00:34:54,839
<font color="#CCCCCC">that prefix upstream to at land</font><font color="#E5E5E5"> and also</font>

609
00:34:51,929 --> 00:34:57,869
a s 20<font color="#CCCCCC"> advertises that</font><font color="#E5E5E5"> same prefix with</font>

610
00:34:54,839 --> 00:35:01,980
the same prefix lines<font color="#E5E5E5"> upstream now when</font>

611
00:34:57,869 --> 00:35:05,430
a stem<font color="#E5E5E5"> gets it s 10 compares the two</font>

612
00:35:01,980 --> 00:35:08,520
prefixes<font color="#CCCCCC"> the shorter</font><font color="#E5E5E5"> a s</font><font color="#CCCCCC"> path names wins</font>

613
00:35:05,430 --> 00:35:13,980
<font color="#E5E5E5">so it sends traffic the traffic to s 20</font>

614
00:35:08,520 --> 00:35:17,970
and gets black<font color="#CCCCCC"> hold so that creates a</font>

615
00:35:13,980 --> 00:35:19,980
problem for<font color="#CCCCCC"> this maybe if the that's</font><font color="#E5E5E5"> our</font>

616
00:35:17,970 --> 00:35:22,049
web web service provider<font color="#E5E5E5"> they are not</font>

617
00:35:19,980 --> 00:35:24,359
getting<font color="#CCCCCC"> the traffic so it creates a</font>

618
00:35:22,049 --> 00:35:26,160
<font color="#CCCCCC">problem</font><font color="#E5E5E5"> so this is one one</font><font color="#CCCCCC"> reason</font><font color="#E5E5E5"> so</font>

619
00:35:24,359 --> 00:35:28,470
<font color="#CCCCCC">with the same the prefix</font><font color="#E5E5E5"> Lang is not</font>

620
00:35:26,160 --> 00:35:31,379
different<font color="#E5E5E5"> it's just the a space Lang is</font>

621
00:35:28,470 --> 00:35:32,348
created a problem<font color="#E5E5E5"> second problem is even</font>

622
00:35:31,380 --> 00:35:35,200
if<font color="#CCCCCC"> it's a prefix</font>

623
00:35:32,349 --> 00:35:37,690
the the s puzzling is the same<font color="#E5E5E5"> somebody</font>

624
00:35:35,200 --> 00:35:41,200
may advertise with a shorter prefix

625
00:35:37,690 --> 00:35:49,349
lengths so they may advertise my team

626
00:35:41,200 --> 00:35:53,038
that<font color="#E5E5E5"> 24 as</font><font color="#CCCCCC"> 10 that the sorry 10.24 has</font>

627
00:35:49,349 --> 00:36:00,400
<font color="#E5E5E5">10.25 and maybe</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> paint that one</font><font color="#CCCCCC"> well</font>

628
00:35:53,039 --> 00:36:02,619
<font color="#CCCCCC">10.12 and 7/25</font><font color="#E5E5E5"> one 20/25 so now my</font>

629
00:36:00,400 --> 00:36:06,190
<font color="#E5E5E5">prefix is so that the prefix</font><font color="#CCCCCC"> advertised</font>

630
00:36:02,619 --> 00:36:08,229
<font color="#CCCCCC">was smaller with the more specific</font>

631
00:36:06,190 --> 00:36:10,630
prefix is preferred over less specific

632
00:36:08,229 --> 00:36:14,140
previous right because of that<font color="#CCCCCC"> all the</font>

633
00:36:10,630 --> 00:36:17,890
traffic was for that prefix goes to the

634
00:36:14,140 --> 00:36:22,479
wrong<font color="#E5E5E5"> recipients and these both kids are</font>

635
00:36:17,890 --> 00:36:25,288
called prefix hijacking this happened

636
00:36:22,479 --> 00:36:29,078
<font color="#E5E5E5">I'm not sure if any of you remember</font>

637
00:36:25,289 --> 00:36:30,549
happened<font color="#E5E5E5"> maybe a couple of years ago to</font>

638
00:36:29,079 --> 00:36:35,109
YouTube

639
00:36:30,549 --> 00:36:38,769
<font color="#CCCCCC">I think the</font><font color="#E5E5E5"> Pakistani government wanted</font>

640
00:36:35,109 --> 00:36:40,328
to<font color="#E5E5E5"> block</font><font color="#CCCCCC"> such YouTube and told some of</font>

641
00:36:38,769 --> 00:36:43,718
<font color="#E5E5E5">the service providers is</font><font color="#CCCCCC"> to block it</font><font color="#E5E5E5"> and</font>

642
00:36:40,329 --> 00:36:46,029
to block it instead of blocking<font color="#E5E5E5"> the</font>

643
00:36:43,719 --> 00:36:50,440
traffic what they did was they injected

644
00:36:46,029 --> 00:36:52,509
a more specific prefix<font color="#E5E5E5"> I think the</font>

645
00:36:50,440 --> 00:36:56,319
Pakistan<font color="#E5E5E5"> Telecom injected a more</font>

646
00:36:52,509 --> 00:36:59,019
specific<font color="#E5E5E5"> prefix of YouTube and all the</font>

647
00:36:56,319 --> 00:37:03,160
<font color="#E5E5E5">traffic for YouTube went straight to</font>

648
00:36:59,019 --> 00:37:05,979
Pakistan and YouTube was down for almost

649
00:37:03,160 --> 00:37:09,848
<font color="#CCCCCC">for how long but at least</font><font color="#E5E5E5"> four</font><font color="#CCCCCC"> hours if</font>

650
00:37:05,979 --> 00:37:11,769
not<font color="#CCCCCC"> four day so that it's</font><font color="#E5E5E5"> something that</font>

651
00:37:09,849 --> 00:37:16,479
happens in<font color="#CCCCCC"> real name</font><font color="#E5E5E5"> so it could happen</font>

652
00:37:11,769 --> 00:37:19,660
<font color="#CCCCCC">so how do you avoid these types of</font>

653
00:37:16,479 --> 00:37:22,328
<font color="#CCCCCC">problems</font><font color="#E5E5E5"> and one way</font><font color="#CCCCCC"> is to use</font><font color="#E5E5E5"> the</font>

654
00:37:19,660 --> 00:37:26,140
origin validation so<font color="#E5E5E5"> the agent is</font>

655
00:37:22,329 --> 00:37:30,660
validation<font color="#E5E5E5"> so here it shows</font><font color="#CCCCCC"> you</font><font color="#E5E5E5"> the some</font>

656
00:37:26,140 --> 00:37:36,489
<font color="#E5E5E5">of the standards the ITF drafts in RFC's</font>

657
00:37:30,660 --> 00:37:39,249
<font color="#CCCCCC">but if you go to the secured</font><font color="#E5E5E5"> Internet</font>

658
00:37:36,489 --> 00:37:43,690
domain routing<font color="#E5E5E5"> working group website</font><font color="#CCCCCC"> you</font>

659
00:37:39,249 --> 00:37:45,430
will see<font color="#E5E5E5"> all the drafts as well as the</font>

660
00:37:43,690 --> 00:37:50,319
<font color="#E5E5E5">intended route as well as</font>

661
00:37:45,430 --> 00:37:53,680
<font color="#CCCCCC">is so rpki the resource public</font>

662
00:37:50,319 --> 00:37:57,670
infrastructure is a<font color="#CCCCCC"> global</font><font color="#E5E5E5"> distributed</font>

663
00:37:53,680 --> 00:38:02,640
database<font color="#CCCCCC"> it gets it</font><font color="#E5E5E5"> information</font><font color="#CCCCCC"> from the</font>

664
00:37:57,670 --> 00:38:07,119
registrar's<font color="#CCCCCC"> and</font><font color="#E5E5E5"> it basically verifies</font>

665
00:38:02,640 --> 00:38:11,109
the authenticity of<font color="#E5E5E5"> the prefix and its</font>

666
00:38:07,119 --> 00:38:16,210
origin s what the origin is should be so

667
00:38:11,109 --> 00:38:18,790
here is how it<font color="#CCCCCC"> looks</font><font color="#E5E5E5"> like</font><font color="#CCCCCC"> so in this</font>

668
00:38:16,210 --> 00:38:21,790
<font color="#E5E5E5">particular case you can see</font><font color="#CCCCCC"> that the top</font>

669
00:38:18,790 --> 00:38:24,849
one<font color="#CCCCCC"> that you see there is a PKI</font>

670
00:38:21,790 --> 00:38:28,599
infrastructure and the bottom one<font color="#CCCCCC"> is a</font>

671
00:38:24,849 --> 00:38:34,559
router so the router talks with the rpki

672
00:38:28,599 --> 00:38:37,510
<font color="#CCCCCC">cache and receives R</font><font color="#E5E5E5"> or s or route</font>

673
00:38:34,559 --> 00:38:41,680
origin authorizations<font color="#E5E5E5"> for different</font>

674
00:38:37,510 --> 00:38:45,819
prefixes so now the router<font color="#E5E5E5"> has in its</font>

675
00:38:41,680 --> 00:38:50,470
database<font color="#E5E5E5"> a prefix and unauthorized</font>

676
00:38:45,819 --> 00:38:53,740
<font color="#E5E5E5">origin s in its table</font><font color="#CCCCCC"> now when the</font>

677
00:38:50,470 --> 00:38:56,589
router receives<font color="#CCCCCC"> in a BGP</font><font color="#E5E5E5"> in a BGP</font>

678
00:38:53,740 --> 00:39:02,250
update when a router<font color="#CCCCCC"> receives a prefix</font>

679
00:38:56,589 --> 00:39:05,529
it checks<font color="#E5E5E5"> that prefix against their</font><font color="#CCCCCC"> own</font>

680
00:39:02,250 --> 00:39:09,910
depending on<font color="#E5E5E5"> what the check if it is</font>

681
00:39:05,530 --> 00:39:13,000
found<font color="#E5E5E5"> inside the</font><font color="#CCCCCC"> database as</font><font color="#E5E5E5"> is valid or</font>

682
00:39:09,910 --> 00:39:17,730
<font color="#E5E5E5">invite if it is not found in the our own</font>

683
00:39:13,000 --> 00:39:17,730
database then it's classified as unknown

684
00:39:18,690 --> 00:39:25,329
<font color="#E5E5E5">so now three states unknown valid and</font>

685
00:39:21,910 --> 00:39:28,899
invalid<font color="#CCCCCC"> based on these</font><font color="#E5E5E5"> three states then</font>

686
00:39:25,329 --> 00:39:34,150
you can make routing decisions so here's

687
00:39:28,900 --> 00:39:42,480
an example let's say the<font color="#E5E5E5"> the router has</font>

688
00:39:34,150 --> 00:39:43,660
<font color="#E5E5E5">an array of 1001</font><font color="#CCCCCC"> slash</font><font color="#E5E5E5"> 24 as being is</font>

689
00:39:42,480 --> 00:39:45,819
sorry

690
00:39:43,660 --> 00:39:49,089
the it has another way of shown on the

691
00:39:45,819 --> 00:39:54,549
right side and receives<font color="#E5E5E5"> a route which is</font>

692
00:39:49,089 --> 00:39:58,180
1001<font color="#CCCCCC"> slash 24 and it gets a match which</font>

693
00:39:54,549 --> 00:39:59,430
matches the<font color="#CCCCCC"> AAS that's received so now</font>

694
00:39:58,180 --> 00:40:02,910
that's a valid route

695
00:39:59,430 --> 00:40:06,808
<font color="#E5E5E5">in the second case it gets a match but</font>

696
00:40:02,910 --> 00:40:09,808
the<font color="#CCCCCC"> ACE number doesn't</font><font color="#E5E5E5"> match with ROA in</font>

697
00:40:06,809 --> 00:40:11,249
this case it is<font color="#E5E5E5"> invalid</font><font color="#CCCCCC"> which is the</font>

698
00:40:09,809 --> 00:40:15,509
most<font color="#E5E5E5"> suspicious scenario when it is</font>

699
00:40:11,249 --> 00:40:19,019
invalid<font color="#E5E5E5"> the third case is it didn't get</font>

700
00:40:15,509 --> 00:40:21,809
any<font color="#E5E5E5"> much so it means that prefix is not</font>

701
00:40:19,019 --> 00:40:25,078
<font color="#E5E5E5">registered into that the RPK</font>

702
00:40:21,809 --> 00:40:27,359
infrastructure<font color="#CCCCCC"> so this router has not</font>

703
00:40:25,079 --> 00:40:30,259
received<font color="#CCCCCC"> our</font><font color="#E5E5E5"> away entry for that prefix</font>

704
00:40:27,359 --> 00:40:32,578
<font color="#E5E5E5">in that case is unknown</font>

705
00:40:30,259 --> 00:40:35,130
once the router receives that

706
00:40:32,579 --> 00:40:38,579
information<font color="#CCCCCC"> it communicates that</font>

707
00:40:35,130 --> 00:40:41,099
information to all<font color="#CCCCCC"> the IPP speaking</font>

708
00:40:38,579 --> 00:40:44,789
routers in the network we are extended

709
00:40:41,099 --> 00:40:49,200
community<font color="#E5E5E5"> remember we</font><font color="#CCCCCC"> discussed</font><font color="#E5E5E5"> about</font>

710
00:40:44,789 --> 00:40:52,140
community another attribute<font color="#E5E5E5"> is extended</font>

711
00:40:49,200 --> 00:40:56,430
<font color="#CCCCCC">community which is much longer version</font>

712
00:40:52,140 --> 00:40:58,379
of a community so in this case this

713
00:40:56,430 --> 00:41:02,220
extended community<font color="#E5E5E5"> is used to</font>

714
00:40:58,380 --> 00:41:04,710
communicate<font color="#CCCCCC"> the validity of a prefix so</font>

715
00:41:02,220 --> 00:41:08,038
other routers do not need to reclassify

716
00:41:04,710 --> 00:41:12,450
that traffic<font color="#CCCCCC"> and they don't have to do</font>

717
00:41:08,039 --> 00:41:14,700
our own check<font color="#E5E5E5"> so</font><font color="#CCCCCC"> bet on that you can</font>

718
00:41:12,450 --> 00:41:20,009
<font color="#E5E5E5">implement a policy</font><font color="#CCCCCC"> you</font><font color="#E5E5E5"> can say if</font><font color="#CCCCCC"> G's</font>

719
00:41:14,700 --> 00:41:22,348
invalid routes<font color="#E5E5E5"> do not send traffic to</font>

720
00:41:20,009 --> 00:41:25,279
that route or<font color="#E5E5E5"> use and make it less</font>

721
00:41:22,349 --> 00:41:30,450
preferred use a<font color="#E5E5E5"> local preference of</font>

722
00:41:25,279 --> 00:41:34,890
let's say very very<font color="#E5E5E5"> low if it is valid</font>

723
00:41:30,450 --> 00:41:37,078
<font color="#E5E5E5">very high if it is unknown medium you</font>

724
00:41:34,890 --> 00:41:39,359
can<font color="#E5E5E5"> also decide if it is invalid I am</font>

725
00:41:37,079 --> 00:41:41,940
<font color="#E5E5E5">NOT going to advertise it but if it is</font>

726
00:41:39,359 --> 00:41:44,160
<font color="#CCCCCC">valid or unknown</font><font color="#E5E5E5"> I'll advertise it so</font>

727
00:41:41,940 --> 00:41:46,309
you can implement<font color="#CCCCCC"> different policies but</font>

728
00:41:44,160 --> 00:41:54,410
this is just<font color="#E5E5E5"> the infrastructure for</font>

729
00:41:46,309 --> 00:41:54,410
checking<font color="#E5E5E5"> that any questions yeah</font>

730
00:41:58,010 --> 00:42:02,640
hi my name's Arthur<font color="#CCCCCC"> plate on with</font>

731
00:42:00,480 --> 00:42:05,610
<font color="#CCCCCC">quarter Board of Public Utilities how do</font>

732
00:42:02,640 --> 00:42:07,379
you check how do you<font color="#E5E5E5"> check to see</font><font color="#CCCCCC"> if</font>

733
00:42:05,610 --> 00:42:11,570
your<font color="#E5E5E5"> entity is in the are away and if</font>

734
00:42:07,380 --> 00:42:11,570
it's not get it published<font color="#E5E5E5"> into the</font><font color="#CCCCCC"> ROA I</font>

735
00:42:14,450 --> 00:42:20,029
it is I can<font color="#E5E5E5"> point you to links</font><font color="#CCCCCC"> but you</font>

736
00:42:18,150 --> 00:42:22,890
should be able<font color="#E5E5E5"> to find that from the</font>

737
00:42:20,030 --> 00:42:27,870
registry and you can<font color="#E5E5E5"> appear with</font><font color="#CCCCCC"> our</font>

738
00:42:22,890 --> 00:42:29,549
with<font color="#CCCCCC"> the</font><font color="#E5E5E5"> RPK infrastructure using</font><font color="#CCCCCC"> your</font>

739
00:42:27,870 --> 00:42:32,190
author and get<font color="#E5E5E5"> a confirmation as well</font>

740
00:42:29,550 --> 00:42:34,230
<font color="#E5E5E5">okay if</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> authors</font><font color="#CCCCCC"> are posted okay it's</font>

741
00:42:32,190 --> 00:42:36,060
a new<font color="#CCCCCC"> implementation so some of them may</font>

742
00:42:34,230 --> 00:42:39,840
not support<font color="#E5E5E5"> it</font><font color="#CCCCCC"> okay if you're running an</font>

743
00:42:36,060 --> 00:42:42,120
<font color="#CCCCCC">X r io</font><font color="#E5E5E5"> s XR it runs</font><font color="#CCCCCC"> our</font><font color="#E5E5E5"> P care depending</font>

744
00:42:39,840 --> 00:42:48,750
on<font color="#CCCCCC"> there</font><font color="#E5E5E5"> it is so the latest</font><font color="#CCCCCC"> rule is</font><font color="#E5E5E5"> to</font>

745
00:42:42,120 --> 00:42:51,330
support<font color="#E5E5E5"> it yeah</font><font color="#CCCCCC"> okay thanks</font><font color="#E5E5E5"> sandy Murphy</font>

746
00:42:48,750 --> 00:42:52,280
<font color="#E5E5E5">Sparta to expand a little bit on</font><font color="#CCCCCC"> that</font>

747
00:42:51,330 --> 00:42:56,430
answer

748
00:42:52,280 --> 00:43:01,020
<font color="#CCCCCC">you have the ability right now in any of</font>

749
00:42:56,430 --> 00:43:08,000
the<font color="#CCCCCC"> our</font><font color="#E5E5E5"> IRS to generate certificates and</font>

750
00:43:01,020 --> 00:43:10,620
Roiz for your prefixes for<font color="#E5E5E5"> with some</font>

751
00:43:08,000 --> 00:43:13,470
care in<font color="#E5E5E5"> wording about whether or not you</font>

752
00:43:10,620 --> 00:43:16,680
have to<font color="#CCCCCC"> be a member of the RIR</font><font color="#E5E5E5"> or not</font>

753
00:43:13,470 --> 00:43:20,370
and once<font color="#CCCCCC"> that information is</font><font color="#E5E5E5"> generated</font>

754
00:43:16,680 --> 00:43:24,270
then the rpki gathering tools will

755
00:43:20,370 --> 00:43:26,279
discover it so the part of his<font color="#E5E5E5"> question</font>

756
00:43:24,270 --> 00:43:29,430
that said and if it's not there how do

757
00:43:26,280 --> 00:43:32,400
you<font color="#E5E5E5"> get it there is you work with the</font>

758
00:43:29,430 --> 00:43:36,029
<font color="#E5E5E5">RIR systems they</font><font color="#CCCCCC"> have hosted systems web</font>

759
00:43:32,400 --> 00:43:40,310
pages<font color="#E5E5E5"> click on buttons and rowers are</font>

760
00:43:36,030 --> 00:43:40,310
created for you thanks<font color="#E5E5E5"> for</font><font color="#CCCCCC"> liking</font>

761
00:43:43,720 --> 00:43:48,390
any questions on<font color="#E5E5E5"> origin</font><font color="#CCCCCC"> is verification</font>

762
00:43:51,210 --> 00:43:55,960
so so the other key thing is when<font color="#E5E5E5"> you do</font>

763
00:43:53,920 --> 00:43:57,520
<font color="#E5E5E5">that since we use extended community to</font>

764
00:43:55,960 --> 00:43:59,380
communicate that information<font color="#E5E5E5"> even though</font>

765
00:43:57,520 --> 00:44:02,079
<font color="#E5E5E5">you can use that information and just</font>

766
00:43:59,380 --> 00:44:05,049
set<font color="#CCCCCC"> the route attributes to influence</font>

767
00:44:02,079 --> 00:44:06,520
routing decision<font color="#CCCCCC"> you can also have the</font>

768
00:44:05,049 --> 00:44:09,460
option<font color="#CCCCCC"> of communicating it within with</font>

769
00:44:06,520 --> 00:44:13,660
extended communities but if a router

770
00:44:09,460 --> 00:44:15,280
<font color="#E5E5E5">doesn't support the original is</font>

771
00:44:13,660 --> 00:44:17,920
validation they may not<font color="#E5E5E5"> even support</font>

772
00:44:15,280 --> 00:44:20,520
<font color="#CCCCCC">extend communities but</font><font color="#E5E5E5"> you can still use</font>

773
00:44:17,920 --> 00:44:24,160
at the border<font color="#E5E5E5"> or out of that supporters</font>

774
00:44:20,520 --> 00:44:26,140
<font color="#CCCCCC">the origin is validation</font><font color="#E5E5E5"> and then set</font>

775
00:44:24,160 --> 00:44:30,210
the right set of<font color="#E5E5E5"> community values</font>

776
00:44:26,140 --> 00:44:32,529
regular community values or right set of

777
00:44:30,210 --> 00:44:41,530
local preference<font color="#E5E5E5"> and</font><font color="#CCCCCC"> implements the</font>

778
00:44:32,530 --> 00:44:47,710
routing decision okay now how to deploy

779
00:44:41,530 --> 00:44:49,029
<font color="#CCCCCC">BGP so in</font><font color="#E5E5E5"> this particular case what</font>

780
00:44:47,710 --> 00:44:50,589
we'll do is we'll just start<font color="#E5E5E5"> from</font>

781
00:44:49,029 --> 00:44:56,010
scratch<font color="#CCCCCC"> we'll assume that</font><font color="#E5E5E5"> you have a</font>

782
00:44:50,589 --> 00:44:59,460
<font color="#CCCCCC">network with just</font><font color="#E5E5E5"> static routing</font><font color="#CCCCCC"> and</font>

783
00:44:56,010 --> 00:45:02,740
then go from there

784
00:44:59,460 --> 00:45:05,440
since we<font color="#E5E5E5"> are running BGP obviously you</font>

785
00:45:02,740 --> 00:45:06,879
need autonomous system number if you are

786
00:45:05,440 --> 00:45:09,309
<font color="#E5E5E5">playing around you can use a private</font>

787
00:45:06,880 --> 00:45:11,230
<font color="#E5E5E5">pace number if you are</font><font color="#CCCCCC"> doing it</font><font color="#E5E5E5"> on a</font>

788
00:45:09,309 --> 00:45:13,510
real network then you<font color="#CCCCCC"> get our gated</font><font color="#E5E5E5"> from</font>

789
00:45:11,230 --> 00:45:18,279
the registries or from<font color="#CCCCCC"> authorized</font>

790
00:45:13,510 --> 00:45:20,680
<font color="#E5E5E5">service providers so again the</font><font color="#CCCCCC"> initial</font>

791
00:45:18,279 --> 00:45:22,720
assumptions is you don't have<font color="#E5E5E5"> IDP you</font>

792
00:45:20,680 --> 00:45:25,140
don't have<font color="#E5E5E5"> BGP you don't have you only</font>

793
00:45:22,720 --> 00:45:33,480
have static routing<font color="#E5E5E5"> so your network is</font>

794
00:45:25,140 --> 00:45:33,480
pretty<font color="#E5E5E5"> much simple and</font><font color="#CCCCCC"> done now</font>

795
00:45:44,070 --> 00:45:54,600
I think you're blocking<font color="#E5E5E5"> it sorry</font><font color="#CCCCCC"> so the</font>

796
00:45:51,240 --> 00:45:58,140
first step is the transmitter was being

797
00:45:54,600 --> 00:46:01,500
blocked<font color="#E5E5E5"> over there</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> couldn't get it so</font>

798
00:45:58,140 --> 00:46:06,509
the<font color="#E5E5E5"> first step is to decide what</font><font color="#CCCCCC"> I GP to</font>

799
00:46:01,500 --> 00:46:08,880
use again OSPF or eius eius<font color="#E5E5E5"> depending on</font>

800
00:46:06,510 --> 00:46:11,040
who you talk to<font color="#E5E5E5"> some people</font><font color="#CCCCCC"> who really</font>

801
00:46:08,880 --> 00:46:14,820
prefer<font color="#CCCCCC"> OSPF some people</font><font color="#E5E5E5"> really prefer</font>

802
00:46:11,040 --> 00:46:17,940
eius eius<font color="#E5E5E5"> there are some differences and</font>

803
00:46:14,820 --> 00:46:20,730
I would say<font color="#E5E5E5"> whichever you feel</font>

804
00:46:17,940 --> 00:46:22,170
<font color="#E5E5E5">comfortable and if you have a staff with</font>

805
00:46:20,730 --> 00:46:24,000
who you<font color="#E5E5E5"> know if your stock is more</font>

806
00:46:22,170 --> 00:46:27,810
conversant with<font color="#CCCCCC"> OSPF you can start with</font>

807
00:46:24,000 --> 00:46:31,590
that<font color="#E5E5E5"> some advantages like OSPF if you</font>

808
00:46:27,810 --> 00:46:36,540
want to run<font color="#E5E5E5"> v6 and v4 then you need to</font>

809
00:46:31,590 --> 00:46:39,780
<font color="#E5E5E5">have two different</font><font color="#CCCCCC"> processes v6 is OSP</font>

810
00:46:36,540 --> 00:46:42,660
<font color="#CCCCCC">v3 before is always PF so the there is</font>

811
00:46:39,780 --> 00:46:46,260
<font color="#E5E5E5">that difference with ISS you can run a</font>

812
00:46:42,660 --> 00:46:49,500
size and<font color="#E5E5E5"> run before and</font><font color="#CCCCCC"> v v6</font><font color="#E5E5E5"> at the same</font>

813
00:46:46,260 --> 00:46:52,560
time using the<font color="#CCCCCC"> same</font><font color="#E5E5E5"> process so you have</font>

814
00:46:49,500 --> 00:46:56,430
that advantage<font color="#CCCCCC"> but other than that it's</font>

815
00:46:52,560 --> 00:46:58,650
<font color="#CCCCCC">they they all have</font><font color="#E5E5E5"> similar features most</font>

816
00:46:56,430 --> 00:47:02,310
vendors implement the same<font color="#E5E5E5"> features on</font>

817
00:46:58,650 --> 00:47:04,290
both routing protocols<font color="#E5E5E5"> they</font><font color="#CCCCCC"> maybe one</font>

818
00:47:02,310 --> 00:47:05,790
may get<font color="#E5E5E5"> one before the</font><font color="#CCCCCC"> other depending</font>

819
00:47:04,290 --> 00:47:08,250
<font color="#E5E5E5">on how the standard process goes usually</font>

820
00:47:05,790 --> 00:47:12,420
<font color="#CCCCCC">I</font><font color="#E5E5E5"> sighs get some of the features quickly</font>

821
00:47:08,250 --> 00:47:18,120
before<font color="#CCCCCC"> OSPF but eventually all right</font>

822
00:47:12,420 --> 00:47:19,920
includes<font color="#E5E5E5"> get those features</font><font color="#CCCCCC"> it's</font>

823
00:47:18,120 --> 00:47:22,380
important<font color="#E5E5E5"> to have a loopback interface</font>

824
00:47:19,920 --> 00:47:24,840
<font color="#E5E5E5">on all your routers and the loopback</font>

825
00:47:22,380 --> 00:47:28,500
interface will be used for<font color="#E5E5E5"> bgp peering</font>

826
00:47:24,840 --> 00:47:32,330
as well as bgp router ID<font color="#E5E5E5"> as well as</font><font color="#CCCCCC"> OSPF</font>

827
00:47:28,500 --> 00:47:32,330
<font color="#E5E5E5">router right if you are running</font><font color="#CCCCCC"> OSPF and</font>

828
00:47:33,800 --> 00:47:39,840
<font color="#CCCCCC">you can deploy</font><font color="#E5E5E5"> a GP or SPF without</font>

829
00:47:37,740 --> 00:47:42,060
impacting your current network<font color="#CCCCCC"> remember</font>

830
00:47:39,840 --> 00:47:44,250
you are running<font color="#E5E5E5"> static routing and in</font>

831
00:47:42,060 --> 00:47:48,299
most<font color="#E5E5E5"> cases such</font><font color="#CCCCCC"> closing has higher</font>

832
00:47:44,250 --> 00:47:51,180
preference<font color="#E5E5E5"> over</font><font color="#CCCCCC"> dynamic routing</font><font color="#E5E5E5"> usually</font>

833
00:47:48,300 --> 00:47:53,970
static routing has<font color="#CCCCCC"> distance of</font><font color="#E5E5E5"> one where</font>

834
00:47:51,180 --> 00:47:56,640
<font color="#E5E5E5">as well as PF has a distance of 110 so</font>

835
00:47:53,970 --> 00:47:57,290
if you implement<font color="#CCCCCC"> or</font><font color="#E5E5E5"> SPF current routing</font>

836
00:47:56,640 --> 00:47:59,270
will not be

837
00:47:57,290 --> 00:48:04,220
pacted<font color="#E5E5E5"> because the static routing has</font>

838
00:47:59,270 --> 00:48:06,560
preference<font color="#E5E5E5"> or</font><font color="#CCCCCC"> the dynamic routing so you</font>

839
00:48:04,220 --> 00:48:08,720
can<font color="#E5E5E5"> implement it without any impact</font><font color="#CCCCCC"> to</font>

840
00:48:06,560 --> 00:48:10,730
<font color="#E5E5E5">your current</font><font color="#CCCCCC"> network</font><font color="#E5E5E5"> and eventually you</font>

841
00:48:08,720 --> 00:48:18,140
can start<font color="#E5E5E5"> getting rid of your static</font>

842
00:48:10,730 --> 00:48:21,470
routes one by one<font color="#E5E5E5"> so it's important when</font>

843
00:48:18,140 --> 00:48:23,540
you do always<font color="#CCCCCC"> IGP your infrastructure</font>

844
00:48:21,470 --> 00:48:25,970
interfaces that interface connecting

845
00:48:23,540 --> 00:48:28,790
your routers<font color="#E5E5E5"> other interconnection not</font>

846
00:48:25,970 --> 00:48:31,520
interface connecting to the customer<font color="#E5E5E5"> you</font>

847
00:48:28,790 --> 00:48:34,190
<font color="#E5E5E5">don't put that into a GP only interface</font>

848
00:48:31,520 --> 00:48:37,820
interconnecting your internal network<font color="#E5E5E5"> we</font>

849
00:48:34,190 --> 00:48:40,910
put into<font color="#CCCCCC"> I GP</font><font color="#E5E5E5"> interfaces the loopback</font>

850
00:48:37,820 --> 00:48:42,440
interface has<font color="#CCCCCC"> to</font><font color="#E5E5E5"> go into IGP because if</font>

851
00:48:40,910 --> 00:48:44,330
it is<font color="#CCCCCC"> not in a GP then</font><font color="#E5E5E5"> you not have your</font>

852
00:48:42,440 --> 00:48:46,070
DB depreciation<font color="#CCCCCC"> sorry your</font><font color="#E5E5E5"> I which</font>

853
00:48:44,330 --> 00:48:52,100
position will not<font color="#CCCCCC"> be established so</font>

854
00:48:46,070 --> 00:48:55,070
that's another important<font color="#E5E5E5"> thing so</font><font color="#CCCCCC"> routes</font>

855
00:48:52,100 --> 00:48:57,230
which don't<font color="#E5E5E5"> go into</font><font color="#CCCCCC"> I GP your customer</font>

856
00:48:55,070 --> 00:49:03,040
routes<font color="#E5E5E5"> obviously your</font><font color="#CCCCCC"> BTS will</font><font color="#E5E5E5"> not</font><font color="#CCCCCC"> be</font>

857
00:48:57,230 --> 00:49:05,660
<font color="#CCCCCC">distributing to a GP</font><font color="#E5E5E5"> they sell cable</font>

858
00:49:03,040 --> 00:49:08,960
interfaces those dynamic IP addresses

859
00:49:05,660 --> 00:49:13,910
<font color="#CCCCCC">you don't put them into a GP you will</font>

860
00:49:08,960 --> 00:49:18,110
put them into<font color="#CCCCCC"> PGP so it's basically just</font>

861
00:49:13,910 --> 00:49:19,759
the<font color="#E5E5E5"> network interfaces your DMZ should</font>

862
00:49:18,110 --> 00:49:21,770
not go into<font color="#E5E5E5"> a GP that's also another</font>

863
00:49:19,760 --> 00:49:25,190
important<font color="#E5E5E5"> thing it's basically your</font>

864
00:49:21,770 --> 00:49:28,610
interfaces infrastructure interfaces and

865
00:49:25,190 --> 00:49:31,220
<font color="#CCCCCC">low-power IP addresses the second</font><font color="#E5E5E5"> step</font>

866
00:49:28,610 --> 00:49:32,990
is<font color="#CCCCCC"> to establish the I beach position by</font>

867
00:49:31,220 --> 00:49:34,730
which<font color="#E5E5E5"> PP ring before you even</font>

868
00:49:32,990 --> 00:49:40,100
established<font color="#E5E5E5"> ebgp with other service</font>

869
00:49:34,730 --> 00:49:44,090
providers<font color="#CCCCCC"> and you you can run ibgp</font><font color="#E5E5E5"> on</font>

870
00:49:40,100 --> 00:49:48,259
all your routers you can run ibgp<font color="#E5E5E5"> on a</font>

871
00:49:44,090 --> 00:49:50,600
subset<font color="#E5E5E5"> of the routers</font><font color="#CCCCCC"> it's possible</font><font color="#E5E5E5"> that</font>

872
00:49:48,260 --> 00:49:53,690
your router may not support<font color="#E5E5E5"> some of your</font>

873
00:49:50,600 --> 00:49:58,549
routers may not support<font color="#CCCCCC"> PGP</font><font color="#E5E5E5"> but the core</font>

874
00:49:53,690 --> 00:50:03,640
of your network has<font color="#E5E5E5"> to</font><font color="#CCCCCC"> have has</font><font color="#E5E5E5"> to have</font>

875
00:49:58,550 --> 00:50:03,640
<font color="#E5E5E5">BGP so what each scenario later on</font>

876
00:50:04,210 --> 00:50:08,770
<font color="#CCCCCC">so</font><font color="#E5E5E5"> if you if you are</font><font color="#CCCCCC"> going to peel with</font>

877
00:50:06,160 --> 00:50:12,009
<font color="#E5E5E5">two different service providers</font><font color="#CCCCCC"> and you</font>

878
00:50:08,770 --> 00:50:14,640
are going<font color="#E5E5E5"> to be a transit then all</font>

879
00:50:12,010 --> 00:50:17,710
<font color="#E5E5E5">routers in the transit pass should</font>

880
00:50:14,640 --> 00:50:20,680
should<font color="#CCCCCC"> be running</font><font color="#E5E5E5"> BGP so in this</font>

881
00:50:17,710 --> 00:50:26,220
<font color="#E5E5E5">particular case for</font><font color="#CCCCCC"> example</font><font color="#E5E5E5"> a D</font><font color="#CCCCCC"> and B</font>

882
00:50:20,680 --> 00:50:28,990
should run ibgp<font color="#E5E5E5"> because they are transit</font>

883
00:50:26,220 --> 00:50:31,390
<font color="#E5E5E5">the reason for D is</font><font color="#CCCCCC"> attractive because a</font>

884
00:50:28,990 --> 00:50:39,040
B link goes down<font color="#E5E5E5"> traffic</font><font color="#CCCCCC"> will go through</font>

885
00:50:31,390 --> 00:50:45,970
D so it's still a transit so if you look

886
00:50:39,040 --> 00:50:47,259
at traditional<font color="#E5E5E5"> or say layering in some</font>

887
00:50:45,970 --> 00:50:50,649
you<font color="#E5E5E5"> know you can't figure out the</font>

888
00:50:47,260 --> 00:50:52,720
general route a guideline not everybody

889
00:50:50,650 --> 00:50:54,510
sticks to this that if you<font color="#E5E5E5"> take this</font>

890
00:50:52,720 --> 00:50:58,560
<font color="#E5E5E5">guideline if you have a core</font>

891
00:50:54,510 --> 00:51:02,200
distribution layer and aggregation layer

892
00:50:58,560 --> 00:51:06,430
now you can in the core you'll obviously

893
00:51:02,200 --> 00:51:08,740
be running BGP<font color="#CCCCCC"> okay it's usually a</font>

894
00:51:06,430 --> 00:51:12,190
transit pass<font color="#E5E5E5"> so you will have to run BGP</font>

895
00:51:08,740 --> 00:51:14,290
in the aggregation<font color="#CCCCCC"> and distribution</font><font color="#E5E5E5"> it</font>

896
00:51:12,190 --> 00:51:15,609
<font color="#E5E5E5">is optional obviously if you run BGP in</font>

897
00:51:14,290 --> 00:51:18,540
the distributing the<font color="#E5E5E5"> abrogation you</font>

898
00:51:15,609 --> 00:51:21,160
still have to run<font color="#E5E5E5"> in the in the</font>

899
00:51:18,540 --> 00:51:25,690
distribution<font color="#E5E5E5"> if you run the aggregation</font>

900
00:51:21,160 --> 00:51:27,129
router and the distribution so one of

901
00:51:25,690 --> 00:51:30,070
the<font color="#E5E5E5"> problems is many aggregation device</font>

902
00:51:27,130 --> 00:51:32,320
<font color="#E5E5E5">do not support BGP in which case you</font>

903
00:51:30,070 --> 00:51:38,349
<font color="#CCCCCC">don't run BGP on those devices</font><font color="#E5E5E5"> you can</font>

904
00:51:32,320 --> 00:51:40,770
just run<font color="#E5E5E5"> a static routing or</font><font color="#CCCCCC"> IGP but not</font>

905
00:51:38,349 --> 00:51:40,770
<font color="#E5E5E5">BGP</font>

906
00:51:43,680 --> 00:51:51,819
distribution<font color="#CCCCCC"> usually you'll</font><font color="#E5E5E5"> run BGP in</font>

907
00:51:48,250 --> 00:51:53,740
the distribution layer<font color="#CCCCCC"> but it does</font><font color="#E5E5E5"> not</font>

908
00:51:51,820 --> 00:51:55,390
have to run<font color="#E5E5E5"> BGP if it is not that</font>

909
00:51:53,740 --> 00:51:56,470
<font color="#E5E5E5">transits</font><font color="#CCCCCC"> you don't want we don't need to</font>

910
00:51:55,390 --> 00:51:59,109
run<font color="#E5E5E5"> BGP</font>

911
00:51:56,470 --> 00:52:01,060
but if you are going<font color="#E5E5E5"> to grow</font><font color="#CCCCCC"> it's very</font>

912
00:51:59,110 --> 00:52:04,690
important that your distribution layer

913
00:52:01,060 --> 00:52:07,180
<font color="#E5E5E5">also runs BGP and if you if you intend</font>

914
00:52:04,690 --> 00:52:09,210
to grow<font color="#CCCCCC"> it's better</font><font color="#E5E5E5"> to do it from day</font>

915
00:52:07,180 --> 00:52:09,210
one

916
00:52:10,050 --> 00:52:15,820
<font color="#CCCCCC">in the core layer obviously</font><font color="#E5E5E5"> BGP is</font>

917
00:52:13,900 --> 00:52:18,700
important because<font color="#CCCCCC"> you want to be a</font>

918
00:52:15,820 --> 00:52:24,820
transit point that<font color="#CCCCCC"> call is a transit</font>

919
00:52:18,700 --> 00:52:26,830
point<font color="#E5E5E5"> for for from one service provider</font>

920
00:52:24,820 --> 00:52:27,670
<font color="#E5E5E5">to another so it's important</font><font color="#CCCCCC"> to running</font>

921
00:52:26,830 --> 00:52:31,150
BGP

922
00:52:27,670 --> 00:52:33,580
you must have run BGP there it's also

923
00:52:31,150 --> 00:52:36,270
where you have your border routers the

924
00:52:33,580 --> 00:52:40,500
airport or routers<font color="#E5E5E5"> so you need to run</font>

925
00:52:36,270 --> 00:52:40,500
<font color="#E5E5E5">obviously BGP there</font>

926
00:52:43,520 --> 00:52:52,670
you have to decide on ibgp policy so on

927
00:52:49,220 --> 00:52:58,250
your HP<font color="#CCCCCC"> peer you can classify IBP</font><font color="#E5E5E5"> peers</font>

928
00:52:52,670 --> 00:53:00,400
into subsets some routers receive full

929
00:52:58,250 --> 00:53:04,130
table some routers receive only

930
00:53:00,400 --> 00:53:06,829
infrastructure and internal and customer

931
00:53:04,130 --> 00:53:08,869
prefixes<font color="#E5E5E5"> but not full table</font><font color="#CCCCCC"> in that</font><font color="#E5E5E5"> case</font>

932
00:53:06,829 --> 00:53:16,309
you have<font color="#CCCCCC"> to distribute</font><font color="#E5E5E5"> default routes</font>

933
00:53:08,869 --> 00:53:20,440
<font color="#E5E5E5">either we</font><font color="#CCCCCC"> are a GP or we are BGP</font><font color="#E5E5E5"> and</font>

934
00:53:16,309 --> 00:53:20,440
then prepare<font color="#E5E5E5"> the</font><font color="#CCCCCC"> NATO</font><font color="#E5E5E5"> to deploy ibgp</font>

935
00:53:22,240 --> 00:53:31,339
let's go quickly

936
00:53:25,040 --> 00:53:33,259
installing customer<font color="#E5E5E5"> prefixes into BGP so</font>

937
00:53:31,339 --> 00:53:35,599
that it could<font color="#E5E5E5"> be</font><font color="#CCCCCC"> that it is a</font><font color="#E5E5E5"> customer</font>

938
00:53:33,260 --> 00:53:37,369
assign prefix if the customer<font color="#E5E5E5"> assign</font>

939
00:53:35,599 --> 00:53:39,020
prefix from your<font color="#E5E5E5"> address block then you</font>

940
00:53:37,369 --> 00:53:40,520
can use<font color="#E5E5E5"> static route and</font><font color="#CCCCCC"> Network</font>

941
00:53:39,020 --> 00:53:46,849
statement to inject it into your<font color="#CCCCCC"> network</font>

942
00:53:40,520 --> 00:53:49,700
if<font color="#E5E5E5"> T is our</font><font color="#CCCCCC"> are originally assigned IP</font>

943
00:53:46,849 --> 00:53:56,000
address or prefix<font color="#E5E5E5"> then you can receive</font>

944
00:53:49,700 --> 00:53:58,578
it the<font color="#E5E5E5"> a BGP then after you implement</font>

945
00:53:56,000 --> 00:54:01,069
<font color="#CCCCCC">then you can carefully remove the static</font>

946
00:53:58,579 --> 00:54:03,260
routes and make sure that everything is

947
00:54:01,069 --> 00:54:10,670
<font color="#E5E5E5">working we move one by one and make sure</font>

948
00:54:03,260 --> 00:54:13,520
<font color="#CCCCCC">that everything is working so the key</font>

949
00:54:10,670 --> 00:54:16,640
here is the steps shown are not<font color="#CCCCCC"> flag Bay</font>

950
00:54:13,520 --> 00:54:19,099
<font color="#E5E5E5">you can do them one by one step by step</font>

951
00:54:16,640 --> 00:54:24,230
to one one week another<font color="#E5E5E5"> one another week</font>

952
00:54:19,099 --> 00:54:27,710
<font color="#E5E5E5">doing maintenance window and so on so</font>

953
00:54:24,230 --> 00:54:30,109
the configuration<font color="#E5E5E5"> summary</font><font color="#CCCCCC"> you need to</font>

954
00:54:27,710 --> 00:54:34,069
have<font color="#CCCCCC"> IgE you have to be Qri GP implement</font>

955
00:54:30,109 --> 00:54:42,049
<font color="#CCCCCC">IGP customer prefix should go into ibgp</font>

956
00:54:34,069 --> 00:54:43,910
<font color="#E5E5E5">not into</font><font color="#CCCCCC"> IG p</font><font color="#E5E5E5"> and then for your age</font>

957
00:54:42,049 --> 00:54:46,490
devices like for your distribution

958
00:54:43,910 --> 00:54:48,950
routers or aggregation routers you can

959
00:54:46,490 --> 00:54:53,078
decide whether on sending full routing

960
00:54:48,950 --> 00:54:53,078
table or partial table as well

961
00:54:57,770 --> 00:55:04,170
<font color="#CCCCCC">okay</font><font color="#E5E5E5"> so</font><font color="#CCCCCC"> here's another</font><font color="#E5E5E5"> reminder make</font>

962
00:55:01,260 --> 00:55:07,770
sure loopback is not configured<font color="#E5E5E5"> on</font>

963
00:55:04,170 --> 00:55:10,200
router it should be configured<font color="#E5E5E5"> on a</font>

964
00:55:07,770 --> 00:55:12,540
router<font color="#E5E5E5"> because you need it for your IDP</font>

965
00:55:10,200 --> 00:55:16,140
if this if you<font color="#E5E5E5"> are running OS v and you</font>

966
00:55:12,540 --> 00:55:18,150
need<font color="#CCCCCC"> it for</font><font color="#E5E5E5"> bgp peeling</font><font color="#CCCCCC"> you will also</font>

967
00:55:16,140 --> 00:55:25,920
need it for BGP next hub which<font color="#CCCCCC"> we'll</font>

968
00:55:18,150 --> 00:55:28,290
discuss<font color="#CCCCCC"> later on on DMZ you can use you</font>

969
00:55:25,920 --> 00:55:31,080
there are multiple ways one way is to

970
00:55:28,290 --> 00:55:33,360
<font color="#CCCCCC">use to not use the default next hub</font>

971
00:55:31,080 --> 00:55:34,830
instead use<font color="#CCCCCC"> next</font><font color="#E5E5E5"> hop self which we'll</font>

972
00:55:33,360 --> 00:55:38,520
discuss later on<font color="#E5E5E5"> which is that this is</font>

973
00:55:34,830 --> 00:55:40,470
<font color="#E5E5E5">an exception</font><font color="#CCCCCC"> so the next hop self is by</font>

974
00:55:38,520 --> 00:55:43,520
default<font color="#E5E5E5"> when</font><font color="#CCCCCC"> you advertise</font><font color="#E5E5E5"> are out</font>

975
00:55:40,470 --> 00:55:46,169
<font color="#CCCCCC">received</font><font color="#E5E5E5"> forum ebgp peer to your ibgp</font>

976
00:55:43,520 --> 00:55:49,610
<font color="#E5E5E5">the next hub is set to the able</font>

977
00:55:46,170 --> 00:55:52,650
<font color="#E5E5E5">appearing address and is not change it</font>

978
00:55:49,610 --> 00:55:55,230
the<font color="#E5E5E5"> recommended way is when you send</font>

979
00:55:52,650 --> 00:55:59,100
updates<font color="#E5E5E5"> router base received from your</font>

980
00:55:55,230 --> 00:56:01,440
ebgp<font color="#E5E5E5"> to your IG ibgp peer</font><font color="#CCCCCC"> said the</font><font color="#E5E5E5"> next</font>

981
00:55:59,100 --> 00:56:08,580
hub to the looper IP address of this

982
00:56:01,440 --> 00:56:12,540
router it's important<font color="#CCCCCC"> to if your router</font>

983
00:56:08,580 --> 00:56:16,470
supports its limits<font color="#E5E5E5"> the s pass received</font>

984
00:56:12,540 --> 00:56:20,340
that means you can block the updates

985
00:56:16,470 --> 00:56:27,779
<font color="#E5E5E5">received from your from</font><font color="#CCCCCC"> your peers based</font>

986
00:56:20,340 --> 00:56:30,870
on a<font color="#E5E5E5"> space links</font><font color="#CCCCCC"> this showing how some</font>

987
00:56:27,780 --> 00:56:33,510
of<font color="#E5E5E5"> the updates are really really long</font>

988
00:56:30,870 --> 00:56:35,549
the second one is<font color="#CCCCCC"> because of first</font><font color="#E5E5E5"> one</font>

989
00:56:33,510 --> 00:56:39,000
is because<font color="#CCCCCC"> of implementation errors</font>

990
00:56:35,550 --> 00:56:43,560
second one is because<font color="#CCCCCC"> of large number of</font>

991
00:56:39,000 --> 00:56:47,820
<font color="#E5E5E5">prepends which is</font><font color="#CCCCCC"> unnecessary another</font>

992
00:56:43,560 --> 00:56:51,330
important mechanism used GT<font color="#CCCCCC"> sm TTL</font>

993
00:56:47,820 --> 00:56:55,380
security mechanism<font color="#CCCCCC"> if your router</font>

994
00:56:51,330 --> 00:56:59,700
supports it supporting<font color="#CCCCCC"> this makes your</font>

995
00:56:55,380 --> 00:57:02,460
<font color="#E5E5E5">image appearing much secure because it</font>

996
00:56:59,700 --> 00:57:05,279
will<font color="#E5E5E5"> not be accessible to anybody</font>

997
00:57:02,460 --> 00:57:08,220
outside<font color="#E5E5E5"> the</font><font color="#CCCCCC"> two routers</font>

998
00:57:05,280 --> 00:57:11,670
because<font color="#E5E5E5"> in</font><font color="#CCCCCC"> order for the traffic to</font><font color="#E5E5E5"> hit</font>

999
00:57:08,220 --> 00:57:14,700
the router<font color="#E5E5E5"> it has to have a TTL of 255</font>

1000
00:57:11,670 --> 00:57:17,670
<font color="#E5E5E5">or 254 if you are one hop away it will</font>

1001
00:57:14,700 --> 00:57:20,160
<font color="#E5E5E5">be 253</font><font color="#CCCCCC"> so that automatically drop it in</font>

1002
00:57:17,670 --> 00:57:22,410
most keys in hardware<font color="#E5E5E5"> without any</font><font color="#CCCCCC"> impact</font>

1003
00:57:20,160 --> 00:57:26,790
to<font color="#E5E5E5"> the router</font><font color="#CCCCCC"> so it is a</font><font color="#E5E5E5"> good security</font>

1004
00:57:22,410 --> 00:57:29,819
mechanism templates are very important

1005
00:57:26,790 --> 00:57:34,410
most vendor supports templates for

1006
00:57:29,820 --> 00:57:38,630
neighbor groups for session groups<font color="#E5E5E5"> for</font>

1007
00:57:34,410 --> 00:57:43,430
policies<font color="#E5E5E5"> so it's important to use</font>

1008
00:57:38,630 --> 00:57:43,430
templates<font color="#E5E5E5"> it simplifies configuration</font>

1009
00:57:44,000 --> 00:57:51,180
example of a template in this case ibgp

1010
00:57:47,790 --> 00:57:53,490
between loop box next<font color="#CCCCCC"> hub self is set in</font>

1011
00:57:51,180 --> 00:57:55,859
<font color="#E5E5E5">this case always st. communities if</font>

1012
00:57:53,490 --> 00:57:58,560
that's not the defaults hardware which

1013
00:57:55,860 --> 00:58:02,280
<font color="#E5E5E5">be to version 4</font><font color="#CCCCCC"> if that's not the</font>

1014
00:57:58,560 --> 00:58:04,140
default<font color="#E5E5E5"> if that's not an if</font>

1015
00:58:02,280 --> 00:58:08,720
other versions are supported<font color="#CCCCCC"> in most</font>

1016
00:58:04,140 --> 00:58:12,600
cases<font color="#CCCCCC"> it's not use a MIDI 5 hash</font>

1017
00:58:08,720 --> 00:58:18,750
password<font color="#E5E5E5"> with your ebgp as well as IBT</font>

1018
00:58:12,600 --> 00:58:23,089
<font color="#CCCCCC">ppl</font><font color="#E5E5E5"> here is a beach became play the</font>

1019
00:58:18,750 --> 00:58:29,970
example remove private<font color="#E5E5E5"> ASIS remove</font>

1020
00:58:23,090 --> 00:58:32,430
remove<font color="#CCCCCC"> bones</font><font color="#E5E5E5"> basically use GTS</font><font color="#CCCCCC"> M on and</font>

1021
00:58:29,970 --> 00:58:42,259
use<font color="#E5E5E5"> password so this is just a template</font>

1022
00:58:32,430 --> 00:58:45,000
for<font color="#CCCCCC"> a BGP use maximum prefix tracking</font>

1023
00:58:42,260 --> 00:58:47,250
<font color="#E5E5E5">you can</font><font color="#CCCCCC"> limit the</font><font color="#E5E5E5"> space language inbound</font>

1024
00:58:45,000 --> 00:58:49,950
<font color="#CCCCCC">as well as pound you</font><font color="#E5E5E5"> can limit the</font>

1025
00:58:47,250 --> 00:58:55,680
maximum<font color="#E5E5E5"> is</font><font color="#CCCCCC"> paths all the prefix language</font>

1026
00:58:49,950 --> 00:58:59,750
that you receive so the key is

1027
00:58:55,680 --> 00:58:59,750
<font color="#CCCCCC">conversion templates are very important</font>

1028
00:59:01,850 --> 00:59:06,470
it helps you scale

1029
00:59:08,210 --> 00:59:19,040
<font color="#E5E5E5">okay from</font><font color="#CCCCCC"> most an on</font><font color="#E5E5E5"> time have to rush</font>

1030
00:59:14,340 --> 00:59:19,040
towards<font color="#E5E5E5"> the end questions</font>

1031
00:59:28,600 --> 00:59:34,200
any questions

1032
00:59:31,420 --> 00:59:34,200
thank you

