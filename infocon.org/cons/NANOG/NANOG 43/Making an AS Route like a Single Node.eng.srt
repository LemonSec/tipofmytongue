1
00:00:05,480 --> 00:00:11,969
<font color="#E5E5E5">you really make a s</font><font color="#CCCCCC"> rat like a single</font>

2
00:00:09,330 --> 00:00:17,490
<font color="#E5E5E5">note with the policy that</font><font color="#CCCCCC"> they says it</font>

3
00:00:11,969 --> 00:00:20,820
has current password approaches for this

4
00:00:17,490 --> 00:00:22,919
<font color="#E5E5E5">problems is first to sacrifice</font>

5
00:00:20,820 --> 00:00:25,350
correctness for flexibility<font color="#CCCCCC"> okay I have</font>

6
00:00:22,920 --> 00:00:27,300
to explain<font color="#E5E5E5"> what</font><font color="#CCCCCC"> I mean here correctness</font>

7
00:00:25,350 --> 00:00:30,420
means you realize your policies

8
00:00:27,300 --> 00:00:33,000
correctly flexibility means you want to

9
00:00:30,420 --> 00:00:35,730
have all the functionalities you want

10
00:00:33,000 --> 00:00:37,469
and the practice today is you want to

11
00:00:35,730 --> 00:00:39,480
have you<font color="#CCCCCC"> want</font><font color="#E5E5E5"> to use mad you</font><font color="#CCCCCC"> want</font><font color="#E5E5E5"> to</font>

12
00:00:37,469 --> 00:00:42,600
have you know out attributes communities

13
00:00:39,480 --> 00:00:46,398
and everything but even though you don't

14
00:00:42,600 --> 00:00:49,710
get them completely correct correct and

15
00:00:46,399 --> 00:00:51,989
the second way is you can sacrifice

16
00:00:49,710 --> 00:00:54,930
flexibility for correctness you can

17
00:00:51,989 --> 00:00:57,589
identify which policies cause trouble

18
00:00:54,930 --> 00:01:00,719
and and disable them and it's not

19
00:00:57,590 --> 00:01:04,379
probably<font color="#E5E5E5"> not an attractive solution to</font>

20
00:01:00,719 --> 00:01:07,590
own to every almost everybody today and

21
00:01:04,379 --> 00:01:09,750
the third possibility is actually there

22
00:01:07,590 --> 00:01:13,100
is a way to achieve both but it's

23
00:01:09,750 --> 00:01:17,670
expensive you need to<font color="#E5E5E5"> have more routers</font>

24
00:01:13,100 --> 00:01:20,669
then probably then you have<font color="#E5E5E5"> today and I</font>

25
00:01:17,670 --> 00:01:23,549
will explain these in detail and here's

26
00:01:20,670 --> 00:01:27,270
our contribution we came up with the

27
00:01:23,549 --> 00:01:29,460
atomic routing theory it's a month this

28
00:01:27,270 --> 00:01:33,298
is<font color="#E5E5E5"> the only okay</font><font color="#CCCCCC"> this isn't one of the</font>

29
00:01:29,460 --> 00:01:37,229
only two slides about the theory it's a

30
00:01:33,299 --> 00:01:38,700
mathematical model for<font color="#E5E5E5"> tomorrow policies</font>

31
00:01:37,229 --> 00:01:41,850
and what does it<font color="#E5E5E5"> mean to realize a</font>

32
00:01:38,700 --> 00:01:45,720
policy correctly it<font color="#CCCCCC"> is a theoretical</font>

33
00:01:41,850 --> 00:01:46,829
<font color="#E5E5E5">framework for exploring trade-offs we</font>

34
00:01:45,720 --> 00:01:49,439
can look at the trade-off between

35
00:01:46,829 --> 00:01:51,750
flexibility and correctness and also if

36
00:01:49,439 --> 00:01:56,929
you want<font color="#E5E5E5"> to achieve both flexibility and</font>

37
00:01:51,750 --> 00:01:59,729
correctness what's the cost and the

38
00:01:56,930 --> 00:02:02,490
application<font color="#E5E5E5"> for it is to derive minimum</font>

39
00:01:59,729 --> 00:02:06,000
requirements for realizing policies so

40
00:02:02,490 --> 00:02:07,589
basically how do I know these you know

41
00:02:06,000 --> 00:02:10,169
actually<font color="#E5E5E5"> the second and third approaches</font>

42
00:02:07,590 --> 00:02:12,600
achieve correctness it's because<font color="#CCCCCC"> we can</font>

43
00:02:10,169 --> 00:02:15,480
show through by atomic writing theory

44
00:02:12,600 --> 00:02:18,239
and our proposal goes on just a little

45
00:02:15,480 --> 00:02:21,600
<font color="#E5E5E5">more a little further our proposal to</font>

46
00:02:18,240 --> 00:02:23,940
you here is something called atomic bgp

47
00:02:21,600 --> 00:02:27,120
it kind of chief both flexibility and

48
00:02:23,940 --> 00:02:31,380
correctness efficiently at low cost

49
00:02:27,120 --> 00:02:34,170
meaning and we require only very minor

50
00:02:31,380 --> 00:02:36,210
changes to the router and when you want

51
00:02:34,170 --> 00:02:39,179
to<font color="#E5E5E5"> find a decision process slightly and</font>

52
00:02:36,210 --> 00:02:41,820
change the IP I BGP route dissemination

53
00:02:39,180 --> 00:02:44,480
slightly<font color="#CCCCCC"> okay and that's enough</font>

54
00:02:41,820 --> 00:02:47,070
introduction let's go to example one

55
00:02:44,480 --> 00:02:50,310
here's some the three conflicting

56
00:02:47,070 --> 00:02:52,350
policies first you want to let you<font color="#CCCCCC"> okay</font>

57
00:02:50,310 --> 00:02:56,400
so I'm the provider in<font color="#CCCCCC"> the middle and I</font>

58
00:02:52,350 --> 00:02:58,650
have to customers one of them have one

59
00:02:56,400 --> 00:03:00,630
of them has two links and I can reach

60
00:02:58,650 --> 00:03:04,140
destination d through both of<font color="#E5E5E5"> them and</font>

61
00:03:00,630 --> 00:03:06,660
the<font color="#E5E5E5"> paths are equally good you want to</font>

62
00:03:04,140 --> 00:03:09,059
you know I want<font color="#E5E5E5"> to allow my customer to</font>

63
00:03:06,660 --> 00:03:13,200
to use mad to specify which route it

64
00:03:09,060 --> 00:03:15,930
prefers to use and a router a I<font color="#CCCCCC"> learn to</font>

65
00:03:13,200 --> 00:03:18,929
rouse so I'll use router ID type<font color="#E5E5E5"> rig and</font>

66
00:03:15,930 --> 00:03:22,890
I choose the black route it has a better

67
00:03:18,930 --> 00:03:26,370
router ID and router be will implement

68
00:03:22,890 --> 00:03:29,369
hot potato routing ACL the black route

69
00:03:26,370 --> 00:03:32,160
of one and the<font color="#E5E5E5"> red route and the red one</font>

70
00:03:29,370 --> 00:03:34,290
is close to itself if it chooses a black

71
00:03:32,160 --> 00:03:37,859
one it has to carry the traffic to

72
00:03:34,290 --> 00:03:42,450
router a and then exit so so rather be

73
00:03:37,860 --> 00:03:45,270
is going to pick route three the red one

74
00:03:42,450 --> 00:03:48,209
which has a mad number of one and the

75
00:03:45,270 --> 00:03:52,290
green route which has a more preferred

76
00:03:48,210 --> 00:03:54,900
<font color="#CCCCCC">Matt number is not used so you customer</font>

77
00:03:52,290 --> 00:03:57,420
my my customer may rely this and being

78
00:03:54,900 --> 00:04:00,000
and be<font color="#CCCCCC"> angry at me saying my mad is</font>

79
00:03:57,420 --> 00:04:01,799
ignored by you what's going<font color="#E5E5E5"> on you know</font>

80
00:04:00,000 --> 00:04:06,360
with the keynote talk they are like what

81
00:04:01,800 --> 00:04:08,970
are you doing so this is<font color="#CCCCCC"> a problem</font><font color="#E5E5E5"> but</font>

82
00:04:06,360 --> 00:04:11,820
actually<font color="#E5E5E5"> Matt causes more problems</font><font color="#CCCCCC"> I I'm</font>

83
00:04:08,970 --> 00:04:14,490
not going to go into<font color="#E5E5E5"> the detail but mad</font>

84
00:04:11,820 --> 00:04:19,260
induced routing oscillation has happened

85
00:04:14,490 --> 00:04:21,060
in the real world I can show<font color="#CCCCCC"> you how it</font>

86
00:04:19,260 --> 00:04:23,900
happened if<font color="#E5E5E5"> you're interested after</font><font color="#CCCCCC"> the</font>

87
00:04:21,060 --> 00:04:27,290
talk so how can we<font color="#E5E5E5"> fix this</font>

88
00:04:23,900 --> 00:04:29,359
the first possibility we disallow mad

89
00:04:27,290 --> 00:04:32,389
with meaning we sacrifice the

90
00:04:29,360 --> 00:04:35,539
flexibility of the<font color="#CCCCCC"> protocol but I may</font>

91
00:04:32,389 --> 00:04:38,830
lose customer<font color="#CCCCCC"> too so this is not</font><font color="#E5E5E5"> a good</font>

92
00:04:35,539 --> 00:04:42,500
solution that's why<font color="#E5E5E5"> we don't do it today</font>

93
00:04:38,830 --> 00:04:44,990
second one is here we add a router<font color="#E5E5E5"> see</font>

94
00:04:42,500 --> 00:04:49,130
and terminate the green and the black

95
00:04:44,990 --> 00:04:51,229
routes on different routers now since I

96
00:04:49,130 --> 00:04:53,719
have full match I beach be inside all

97
00:04:51,229 --> 00:04:55,820
<font color="#CCCCCC">the routers can see can potentially see</font>

98
00:04:53,720 --> 00:04:58,310
<font color="#E5E5E5">all the routes and they will choose the</font>

99
00:04:55,820 --> 00:05:00,889
rouse correctly but this is costly and

100
00:04:58,310 --> 00:05:04,010
may not be possible if<font color="#E5E5E5"> you are</font>

101
00:05:00,889 --> 00:05:08,330
constrained by power in the data centers

102
00:05:04,010 --> 00:05:11,680
and our proposal is to say that router a

103
00:05:08,330 --> 00:05:16,490
really should tell router be both routes

104
00:05:11,680 --> 00:05:19,160
right and if router be knows both routes

105
00:05:16,490 --> 00:05:21,919
that it will now take the red route I

106
00:05:19,160 --> 00:05:24,349
mean those i nosed out all three routes

107
00:05:21,919 --> 00:05:27,740
and we call this atomic bgp i would<font color="#E5E5E5"> talk</font>

108
00:05:24,349 --> 00:05:32,870
more<font color="#CCCCCC"> about it later okay let's go to</font>

109
00:05:27,740 --> 00:05:35,539
example 2 I<font color="#CCCCCC"> it</font><font color="#E5E5E5"> slightly more complicated</font>

110
00:05:32,870 --> 00:05:39,080
now there are a few more a few more<font color="#E5E5E5"> a</font>

111
00:05:35,539 --> 00:05:42,590
<font color="#E5E5E5">esas</font><font color="#CCCCCC"> I'm still to route the a</font><font color="#E5E5E5"> s in the</font>

112
00:05:39,080 --> 00:05:46,310
middle oh by the way<font color="#E5E5E5"> i think i forgot to</font>

113
00:05:42,590 --> 00:05:49,880
mention orange circles are routers and

114
00:05:46,310 --> 00:05:53,090
the right circles Ras is in<font color="#E5E5E5"> this talk oh</font>

115
00:05:49,880 --> 00:05:57,139
and there's a<font color="#E5E5E5"> 8 there's a link at the</font>

116
00:05:53,090 --> 00:05:59,090
bottom to a nano discussion that about a

117
00:05:57,139 --> 00:06:01,010
problem that some thats related<font color="#E5E5E5"> to this</font>

118
00:05:59,090 --> 00:06:02,840
example but not<font color="#E5E5E5"> exactly the</font><font color="#CCCCCC"> same way if</font>

119
00:06:01,010 --> 00:06:07,159
<font color="#E5E5E5">you're interested you can look up after</font>

120
00:06:02,840 --> 00:06:08,448
<font color="#CCCCCC">the talk so I'm I'm again das in the</font>

121
00:06:07,159 --> 00:06:10,550
middle and I don't want to provide

122
00:06:08,449 --> 00:06:12,680
transit between peers so even though<font color="#E5E5E5"> I</font>

123
00:06:10,550 --> 00:06:15,169
learned two routes and a<font color="#E5E5E5"> peer route is a</font>

124
00:06:12,680 --> 00:06:17,270
little shorter I'm not<font color="#E5E5E5"> going to tell my</font>

125
00:06:15,169 --> 00:06:19,280
peer about it I'll tell that<font color="#E5E5E5"> i'll give</font>

126
00:06:17,270 --> 00:06:22,039
it a<font color="#E5E5E5"> red route which i learned through</font>

127
00:06:19,280 --> 00:06:26,599
my customer<font color="#E5E5E5"> ok that's you know I don't</font>

128
00:06:22,039 --> 00:06:28,580
<font color="#E5E5E5">want that's reasonable and actually in</font>

129
00:06:26,599 --> 00:06:30,680
this case everybody's happy and traffic

130
00:06:28,580 --> 00:06:32,210
flows like that from<font color="#CCCCCC"> Pier</font><font color="#E5E5E5"> 2 to the</font>

131
00:06:30,680 --> 00:06:36,949
<font color="#E5E5E5">destination d</font>

132
00:06:32,210 --> 00:06:40,460
and um but if I get<font color="#CCCCCC"> another customer</font>

133
00:06:36,949 --> 00:06:42,680
connected i see and it's um it's a

134
00:06:40,460 --> 00:06:47,000
premium customer who is<font color="#E5E5E5"> willing to pay</font>

135
00:06:42,680 --> 00:06:49,520
more for the best route<font color="#E5E5E5"> I have so so I'm</font>

136
00:06:47,000 --> 00:06:51,910
gonna give<font color="#CCCCCC"> it the</font><font color="#E5E5E5"> best route out of the</font>

137
00:06:49,520 --> 00:06:55,460
pier<font color="#E5E5E5"> and customer routes that I have</font>

138
00:06:51,910 --> 00:06:58,610
which means router see will pick the

139
00:06:55,460 --> 00:07:00,919
green route that the better one and and

140
00:06:58,610 --> 00:07:03,919
give it to customer<font color="#CCCCCC"> to but it's a pure</font>

141
00:07:00,919 --> 00:07:05,630
route so I can't give<font color="#CCCCCC"> it to my peer to</font>

142
00:07:03,919 --> 00:07:08,960
my other pure connected at the same

143
00:07:05,630 --> 00:07:12,830
router so it'll be filtered now I<font color="#E5E5E5"> have</font>

144
00:07:08,960 --> 00:07:14,659
violated the third bullet which is

145
00:07:12,830 --> 00:07:17,570
export for customer routes to

146
00:07:14,660 --> 00:07:20,120
<font color="#E5E5E5">peer-to-peer even though I have the red</font>

147
00:07:17,570 --> 00:07:23,449
route I'm not letting my peer know about

148
00:07:20,120 --> 00:07:26,080
it and why is it up and the pier will be

149
00:07:23,449 --> 00:07:29,270
angry<font color="#E5E5E5"> because it cannot reach d anymore</font>

150
00:07:26,080 --> 00:07:32,870
so why<font color="#E5E5E5"> is this a problem it's a problem</font>

151
00:07:29,270 --> 00:07:35,330
<font color="#E5E5E5">because if p 0 2 gets a packet that's in</font>

152
00:07:32,870 --> 00:07:37,280
2d it doesn't know where to forward it

153
00:07:35,330 --> 00:07:40,400
if it doesn't<font color="#E5E5E5"> learn you know another</font>

154
00:07:37,280 --> 00:07:44,448
route to<font color="#E5E5E5"> d so it's going to drop it</font><font color="#CCCCCC"> so</font>

155
00:07:40,400 --> 00:07:46,400
we have created<font color="#CCCCCC"> a black hole here out of</font>

156
00:07:44,449 --> 00:07:51,169
all the goodness of our heart we didn't

157
00:07:46,400 --> 00:07:54,020
try to do this right and and and<font color="#E5E5E5"> d will</font>

158
00:07:51,169 --> 00:07:56,900
actually eventually realize<font color="#CCCCCC"> i have lost</font>

159
00:07:54,020 --> 00:07:59,690
a lot of connections if it's a you know

160
00:07:56,900 --> 00:08:02,539
online<font color="#E5E5E5"> shop running rent by mom & pop</font>

161
00:07:59,690 --> 00:08:05,509
it's going to say<font color="#E5E5E5"> i</font><font color="#CCCCCC"> just lost my users</font>

162
00:08:02,539 --> 00:08:08,840
so nobody's<font color="#E5E5E5"> happy here how do we solve</font>

163
00:08:05,509 --> 00:08:12,560
the problem first we don't provide a

164
00:08:08,840 --> 00:08:15,229
premium service<font color="#CCCCCC"> that customer to demands</font>

165
00:08:12,560 --> 00:08:17,030
we just give it the red route even

166
00:08:15,229 --> 00:08:19,490
though it's worse we may lose customer

167
00:08:17,030 --> 00:08:22,190
<font color="#CCCCCC">too so we don't</font><font color="#E5E5E5"> want to do that second</font>

168
00:08:19,490 --> 00:08:25,009
we can add a router and the host peers

169
00:08:22,190 --> 00:08:27,620
and customers separately now we can

170
00:08:25,009 --> 00:08:30,050
export a green route to the customer<font color="#CCCCCC"> and</font>

171
00:08:27,620 --> 00:08:31,849
the red route to the pier but you need

172
00:08:30,050 --> 00:08:37,339
actual router and the space and power

173
00:08:31,849 --> 00:08:39,919
etc and our proposal says that you can

174
00:08:37,339 --> 00:08:42,650
use the same topology but just export

175
00:08:39,919 --> 00:08:44,329
<font color="#CCCCCC">two different routes to differ 2222</font>

176
00:08:42,650 --> 00:08:45,079
neighbors I mean what's preventing us

177
00:08:44,329 --> 00:08:51,589
from doing that

178
00:08:45,080 --> 00:08:54,470
so this is atomic bgp<font color="#E5E5E5"> okay so let's show</font>

179
00:08:51,590 --> 00:08:57,710
the examples of how atomic PGP looks

180
00:08:54,470 --> 00:09:02,210
like so now let's just talk a little bit

181
00:08:57,710 --> 00:09:04,910
<font color="#E5E5E5">more</font><font color="#CCCCCC"> about the theory the name atomic</font>

182
00:09:02,210 --> 00:09:08,870
comes from the definition<font color="#E5E5E5"> our definition</font>

183
00:09:04,910 --> 00:09:13,850
that is is atomic if it realizes all its

184
00:09:08,870 --> 00:09:16,130
policies I mean 11 it does this then we

185
00:09:13,850 --> 00:09:18,860
can look at<font color="#E5E5E5"> it as a single node like a</font>

186
00:09:16,130 --> 00:09:21,680
policy Adam so that's what the comic

187
00:09:18,860 --> 00:09:24,710
means but just to realize all the

188
00:09:21,680 --> 00:09:28,060
policies is not hard at all you can just

189
00:09:24,710 --> 00:09:31,250
disseminate all the routes within your<font color="#E5E5E5"> s</font>

190
00:09:28,060 --> 00:09:34,219
suppose I GP ibgp allows you to do<font color="#E5E5E5"> that</font>

191
00:09:31,250 --> 00:09:36,320
then<font color="#CCCCCC"> you can realize any policies like</font>

192
00:09:34,220 --> 00:09:39,200
you can for<font color="#E5E5E5"> example you can have</font>

193
00:09:36,320 --> 00:09:41,660
combinatorial policies like I'm going<font color="#E5E5E5"> to</font>

194
00:09:39,200 --> 00:09:44,150
<font color="#E5E5E5">export to rouse to disappear and that's</font>

195
00:09:41,660 --> 00:09:46,160
it no more routes you can do<font color="#E5E5E5"> something</font>

196
00:09:44,150 --> 00:09:48,410
<font color="#E5E5E5">like</font><font color="#CCCCCC"> that it's</font><font color="#E5E5E5"> not clear why you want to</font>

197
00:09:46,160 --> 00:09:51,020
do it but<font color="#CCCCCC"> you can it's essentially like</font>

198
00:09:48,410 --> 00:09:53,150
or centralized routing every router has

199
00:09:51,020 --> 00:09:55,760
all the information but of course<font color="#CCCCCC"> the</font>

200
00:09:53,150 --> 00:09:57,920
over headaches is extremely high here

201
00:09:55,760 --> 00:10:00,500
the overhead is measured in terms of the

202
00:09:57,920 --> 00:10:02,780
number of routes disseminated in your a

203
00:10:00,500 --> 00:10:06,170
s so it sits in the upper right corner

204
00:10:02,780 --> 00:10:08,449
and the theory actually tells us there's

205
00:10:06,170 --> 00:10:10,370
a trade-off between the flexibility in

206
00:10:08,450 --> 00:10:12,380
the palace you can have and the

207
00:10:10,370 --> 00:10:14,780
dissemination overhead the curve looks

208
00:10:12,380 --> 00:10:16,850
something like this it's basically

209
00:10:14,780 --> 00:10:19,250
telling you that to<font color="#CCCCCC"> achieve a</font>

210
00:10:16,850 --> 00:10:21,920
flexibility a certain flexibility and

211
00:10:19,250 --> 00:10:25,340
the<font color="#CCCCCC"> y axis there is a minimum</font><font color="#E5E5E5"> amount of</font>

212
00:10:21,920 --> 00:10:27,310
overhead you have to pay if you can pay

213
00:10:25,340 --> 00:10:30,200
more than that<font color="#E5E5E5"> but there's a minimum and</font>

214
00:10:27,310 --> 00:10:32,510
within the shaded region you<font color="#CCCCCC"> can have</font>

215
00:10:30,200 --> 00:10:35,960
atomic routing meaning realizing are you

216
00:10:32,510 --> 00:10:39,610
policies and bgp today disseminates only

217
00:10:35,960 --> 00:10:42,260
one route in within<font color="#E5E5E5"> the AAS procession</font>

218
00:10:39,610 --> 00:10:46,070
so it's just at the bottom of this curve

219
00:10:42,260 --> 00:10:48,680
because it has the minimum overhead it

220
00:10:46,070 --> 00:10:51,650
can realize policies with strict ranking

221
00:10:48,680 --> 00:10:53,899
if you know what<font color="#CCCCCC"> that</font><font color="#E5E5E5"> means it basically</font>

222
00:10:51,650 --> 00:10:57,660
means<font color="#CCCCCC"> nomads</font>

223
00:10:53,899 --> 00:11:01,230
and and to think of<font color="#E5E5E5"> it when BGP was</font>

224
00:10:57,660 --> 00:11:04,469
first invented I didn't have mad so<font color="#E5E5E5"> PGP</font>

225
00:11:01,230 --> 00:11:07,529
was a really<font color="#CCCCCC"> well-designed protocol but</font>

226
00:11:04,470 --> 00:11:09,899
the problem<font color="#CCCCCC"> is as time goes people</font>

227
00:11:07,529 --> 00:11:12,329
wanted more flexibility in BGP which is

228
00:11:09,899 --> 00:11:15,300
very understandable because it's a

229
00:11:12,329 --> 00:11:18,209
business right so we bumped it up in the

230
00:11:15,300 --> 00:11:20,699
<font color="#CCCCCC">Y y direction without moving it to the</font>

231
00:11:18,209 --> 00:11:22,859
right hand side so its operating outside

232
00:11:20,700 --> 00:11:24,990
of the region and that's why it cannot

233
00:11:22,860 --> 00:11:28,800
realize all the policies you want today

234
00:11:24,990 --> 00:11:33,209
<font color="#E5E5E5">an atomic GP GP moves it back to the</font>

235
00:11:28,800 --> 00:11:40,079
curve by just increasing the overhead a

236
00:11:33,209 --> 00:11:43,800
little bit<font color="#E5E5E5"> ok so</font><font color="#CCCCCC"> just to recap atomic</font>

237
00:11:40,079 --> 00:11:46,680
<font color="#E5E5E5">BGP in terms of flexibility it can</font>

238
00:11:43,800 --> 00:11:49,829
realize our policies based on comparing

239
00:11:46,680 --> 00:11:51,390
route attributes I mean the theory

240
00:11:49,829 --> 00:11:52,949
actually allows us to go<font color="#E5E5E5"> through the</font>

241
00:11:51,390 --> 00:11:55,290
whole<font color="#E5E5E5"> curve but we pick this point</font>

242
00:11:52,950 --> 00:11:57,779
because because then we can support our

243
00:11:55,290 --> 00:12:02,849
today's common policies correctly

244
00:11:57,779 --> 00:12:06,149
including mad and and if new policies in

245
00:12:02,850 --> 00:12:08,850
the<font color="#E5E5E5"> future that's based on attributes we</font>

246
00:12:06,149 --> 00:12:10,230
can do<font color="#E5E5E5"> that as well in terms of</font>

247
00:12:08,850 --> 00:12:12,930
implementation this is the most

248
00:12:10,230 --> 00:12:18,660
important slide which I<font color="#E5E5E5"> need your help</font>

249
00:12:12,930 --> 00:12:20,339
<font color="#E5E5E5">on so so let's do it a little slower so</font>

250
00:12:18,660 --> 00:12:23,939
when you need<font color="#E5E5E5"> to do three</font><font color="#CCCCCC"> things to have</font>

251
00:12:20,339 --> 00:12:26,399
atomic<font color="#CCCCCC"> BGP the first thing</font><font color="#E5E5E5"> is easy we</font>

252
00:12:23,940 --> 00:12:28,740
need to allow<font color="#CCCCCC"> out a router to select</font>

253
00:12:26,399 --> 00:12:30,510
routes for each neighbor independently

254
00:12:28,740 --> 00:12:33,660
meaning you know different links will

255
00:12:30,510 --> 00:12:37,319
<font color="#E5E5E5">export different routes to different</font>

256
00:12:33,660 --> 00:12:39,089
neighbors and this basically means you

257
00:12:37,320 --> 00:12:41,670
need separate route selection process

258
00:12:39,089 --> 00:12:43,199
for<font color="#CCCCCC"> each neighbor class you can</font><font color="#E5E5E5"> group</font>

259
00:12:41,670 --> 00:12:45,660
your neighbors into classes such as

260
00:12:43,199 --> 00:12:48,240
customers clears and providers so you

261
00:12:45,660 --> 00:12:51,810
really only<font color="#E5E5E5"> need three route selection</font>

262
00:12:48,240 --> 00:12:54,449
processes in your router and and this is

263
00:12:51,810 --> 00:12:56,880
actually<font color="#CCCCCC"> a unique separate folding table</font>

264
00:12:54,449 --> 00:12:58,949
for each neighbor class which can be

265
00:12:56,880 --> 00:13:01,439
done by you know connecting your

266
00:12:58,949 --> 00:13:03,449
neighbor class one neighbor class to a

267
00:13:01,440 --> 00:13:05,280
line card on

268
00:13:03,450 --> 00:13:07,590
a tu LAN card and just<font color="#E5E5E5"> have different</font>

269
00:13:05,280 --> 00:13:11,880
forwarding tables on each line card this

270
00:13:07,590 --> 00:13:15,600
is already<font color="#E5E5E5"> solved vrf which routing and</font>

271
00:13:11,880 --> 00:13:18,480
forwarding which is used<font color="#E5E5E5"> for VPN can do</font>

272
00:13:15,600 --> 00:13:22,650
this already but the next change we need

273
00:13:18,480 --> 00:13:25,370
to make in order to fix the<font color="#CCCCCC"> main problem</font>

274
00:13:22,650 --> 00:13:28,680
is not available yet but hopefully soon

275
00:13:25,370 --> 00:13:32,370
so we need to allow dissemination of

276
00:13:28,680 --> 00:13:35,400
more than one route within the within

277
00:13:32,370 --> 00:13:37,350
the<font color="#CCCCCC"> a s this</font><font color="#E5E5E5"> is only for ibgp so to your</font>

278
00:13:35,400 --> 00:13:39,300
<font color="#E5E5E5">neighbor you can steal advertise just</font>

279
00:13:37,350 --> 00:13:41,550
one route but within you want a little

280
00:13:39,300 --> 00:13:43,620
more<font color="#E5E5E5"> because you want to have enough</font>

281
00:13:41,550 --> 00:13:47,189
information for the routers to make the

282
00:13:43,620 --> 00:13:49,230
right decision<font color="#E5E5E5"> I will actually</font><font color="#CCCCCC"> um yeah</font>

283
00:13:47,190 --> 00:13:51,630
so<font color="#CCCCCC"> you need</font><font color="#E5E5E5"> to disseminate at least one</font>

284
00:13:49,230 --> 00:13:54,060
route from each neighbor that<font color="#E5E5E5"> uses mad</font>

285
00:13:51,630 --> 00:13:59,010
and if you have no labor that uses<font color="#E5E5E5"> meant</font>

286
00:13:54,060 --> 00:14:02,459
then<font color="#E5E5E5"> you disseminate wine route so you</font>

287
00:13:59,010 --> 00:14:04,230
can see that it's very rare you actually

288
00:14:02,460 --> 00:14:07,140
<font color="#CCCCCC">need to disseminate more than my route</font>

289
00:14:04,230 --> 00:14:09,390
the increasing overhead is estimated to

290
00:14:07,140 --> 00:14:12,240
be about ten to twenty percent so it's

291
00:14:09,390 --> 00:14:15,660
really not much in terms of you know the

292
00:14:12,240 --> 00:14:17,910
traffic increase overhead but um but but

293
00:14:15,660 --> 00:14:21,270
the mechanism that can achieve this is

294
00:14:17,910 --> 00:14:24,180
not available yet but um the new ad path

295
00:14:21,270 --> 00:14:26,490
feature to bgp i think is being

296
00:14:24,180 --> 00:14:29,040
implemented right now all very soon and

297
00:14:26,490 --> 00:14:31,590
that's why I<font color="#CCCCCC"> need you if you think this</font>

298
00:14:29,040 --> 00:14:33,689
is<font color="#E5E5E5"> good idea you should you help me</font><font color="#CCCCCC"> and</font>

299
00:14:31,590 --> 00:14:35,490
go to cisco and juniper todd and tell

300
00:14:33,690 --> 00:14:37,320
them you should want your design<font color="#E5E5E5"> your ad</font>

301
00:14:35,490 --> 00:14:40,260
path feature make<font color="#CCCCCC"> sure it works with</font>

302
00:14:37,320 --> 00:14:42,120
atomic bgp and that's a you know<font color="#E5E5E5"> very</font>

303
00:14:40,260 --> 00:14:45,450
easy way<font color="#CCCCCC"> to disseminate multiple routes</font>

304
00:14:42,120 --> 00:14:49,170
in a single session and the third change

305
00:14:45,450 --> 00:14:51,090
we need to make is when you to watch the

306
00:14:49,170 --> 00:14:53,160
control plane the bgp<font color="#E5E5E5"> d sighs other</font>

307
00:14:51,090 --> 00:14:55,380
routes we need to make<font color="#CCCCCC"> sure the a s</font>

308
00:14:53,160 --> 00:14:59,010
actually forwards traffic along<font color="#CCCCCC"> the</font>

309
00:14:55,380 --> 00:15:01,710
routes so<font color="#CCCCCC"> i'm a simplest way to achieve</font>

310
00:14:59,010 --> 00:15:07,110
this is use tunneling from ingress link

311
00:15:01,710 --> 00:15:10,170
to egress link of the a s you don't need

312
00:15:07,110 --> 00:15:12,220
<font color="#E5E5E5">to use anything fancy you I peach IP</font>

313
00:15:10,170 --> 00:15:16,449
over IP tunneling is good enough

314
00:15:12,220 --> 00:15:19,450
and these three changes the atomic

315
00:15:16,450 --> 00:15:21,280
rattle theory that shows that<font color="#E5E5E5"> these</font>

316
00:15:19,450 --> 00:15:24,070
three changes are necessary and

317
00:15:21,280 --> 00:15:26,980
sufficient necessary means if you do

318
00:15:24,070 --> 00:15:29,110
anything<font color="#E5E5E5"> less then you may</font><font color="#CCCCCC"> not realize</font>

319
00:15:26,980 --> 00:15:31,630
how your policies that you want<font color="#E5E5E5"> to or</font>

320
00:15:29,110 --> 00:15:34,660
you may you know or you may have to pay

321
00:15:31,630 --> 00:15:37,120
the<font color="#E5E5E5"> price of having actual routers and</font>

322
00:15:34,660 --> 00:15:38,770
sufficient means we<font color="#E5E5E5"> prove as long as you</font>

323
00:15:37,120 --> 00:15:43,680
do this you can realize all your

324
00:15:38,770 --> 00:15:46,780
policies today so that's<font color="#CCCCCC"> all good</font><font color="#E5E5E5"> um and</font>

325
00:15:43,680 --> 00:15:50,709
to summarize atomic PGP has many

326
00:15:46,780 --> 00:15:53,530
advantages first it can implement your

327
00:15:50,710 --> 00:15:55,690
policy and policy crack correctly and

328
00:15:53,530 --> 00:15:59,620
actually has this added benefit of

329
00:15:55,690 --> 00:16:02,680
simple simpler configuration because

330
00:15:59,620 --> 00:16:05,430
because<font color="#E5E5E5"> now policies are defined in</font>

331
00:16:02,680 --> 00:16:08,170
<font color="#E5E5E5">terms of</font><font color="#CCCCCC"> a esas and not in</font><font color="#E5E5E5"> terms of</font>

332
00:16:05,430 --> 00:16:11,739
individual routers so what you need<font color="#E5E5E5"> to</font>

333
00:16:08,170 --> 00:16:14,439
do is<font color="#E5E5E5"> to define asy policy similar like</font>

334
00:16:11,740 --> 00:16:16,660
before you and and then there can be

335
00:16:14,440 --> 00:16:19,180
some automatic tool to generate the

336
00:16:16,660 --> 00:16:21,969
configuration for each router and you

337
00:16:19,180 --> 00:16:25,569
just configure it router with with the

338
00:16:21,970 --> 00:16:27,430
<font color="#E5E5E5">policy of the</font><font color="#CCCCCC"> aes so it's</font><font color="#E5E5E5"> Ice Age</font>

339
00:16:25,570 --> 00:16:29,500
simpler because now all the routers can

340
00:16:27,430 --> 00:16:32,050
be pretty much configure the same way

341
00:16:29,500 --> 00:16:34,600
and there's no restriction on<font color="#E5E5E5"> the</font>

342
00:16:32,050 --> 00:16:37,359
physical topology so for those of you

343
00:16:34,600 --> 00:16:39,280
who know what I'm<font color="#E5E5E5"> talking about in for a</font>

344
00:16:37,360 --> 00:16:42,250
<font color="#E5E5E5">Jew flexures to work wow you had to</font>

345
00:16:39,280 --> 00:16:43,930
place them closer to the clients right

346
00:16:42,250 --> 00:16:46,210
so you need<font color="#E5E5E5"> actually a lot of rough</font>

347
00:16:43,930 --> 00:16:48,699
round reflectors but if you have atomic

348
00:16:46,210 --> 00:16:52,270
<font color="#E5E5E5">BGP you don't need to do that at all you</font>

349
00:16:48,700 --> 00:16:56,020
don't you don't<font color="#E5E5E5"> need restrictions on</font><font color="#CCCCCC"> the</font>

350
00:16:52,270 --> 00:16:58,750
distance of<font color="#E5E5E5"> router flexures ok and the</font>

351
00:16:56,020 --> 00:17:00,100
min<font color="#CCCCCC"> I said minimum protocol overhead</font>

352
00:16:58,750 --> 00:17:03,400
because<font color="#E5E5E5"> we proved that this is the</font>

353
00:17:00,100 --> 00:17:06,550
minimum needed in order to achieve the

354
00:17:03,400 --> 00:17:08,650
policies and so the increase is in the

355
00:17:06,550 --> 00:17:10,450
dissemination<font color="#E5E5E5"> of rouse within the</font><font color="#CCCCCC"> a s</font>

356
00:17:08,650 --> 00:17:12,430
which<font color="#E5E5E5"> I mentioned to</font><font color="#CCCCCC"> be about ten to</font>

357
00:17:10,450 --> 00:17:15,090
twenty percent and a<font color="#E5E5E5"> storage of routing</font>

358
00:17:12,430 --> 00:17:18,810
tables increases by<font color="#E5E5E5"> the same amount</font>

359
00:17:15,089 --> 00:17:22,329
<font color="#E5E5E5">atomic</font><font color="#CCCCCC"> BGP can be incrementally deployed</font>

360
00:17:18,810 --> 00:17:24,040
it requires only modest changes to the

361
00:17:22,329 --> 00:17:24,500
routers it's really<font color="#CCCCCC"> that one feature</font>

362
00:17:24,040 --> 00:17:27,050
that we

363
00:17:24,500 --> 00:17:29,360
need and the changes and benefits are

364
00:17:27,050 --> 00:17:33,169
local to a single<font color="#CCCCCC"> guess I mean both</font><font color="#E5E5E5"> the</font>

365
00:17:29,360 --> 00:17:35,120
changes and<font color="#E5E5E5"> the benefits are local you</font>

366
00:17:33,170 --> 00:17:37,040
<font color="#E5E5E5">know if you if you do this you realize</font>

367
00:17:35,120 --> 00:17:39,050
<font color="#E5E5E5">your policy correctly you don't</font><font color="#CCCCCC"> violate</font>

368
00:17:37,040 --> 00:17:41,720
anything and it<font color="#E5E5E5"> doesn't matter what your</font>

369
00:17:39,050 --> 00:17:43,970
neighbors do and in fact you can you can

370
00:17:41,720 --> 00:17:47,780
deploy it gradually within your own<font color="#CCCCCC"> a s</font>

371
00:17:43,970 --> 00:17:50,180
as well for<font color="#CCCCCC"> example you</font><font color="#E5E5E5"> can identify the</font>

372
00:17:47,780 --> 00:17:52,550
routers with lot of connections which

373
00:17:50,180 --> 00:17:55,190
are you know<font color="#E5E5E5"> the key points and you can</font>

374
00:17:52,550 --> 00:17:57,620
deploy<font color="#E5E5E5"> atomic bgp first on those routers</font>

375
00:17:55,190 --> 00:18:00,290
and the more you deploy the more benefit

376
00:17:57,620 --> 00:18:04,969
you can get so so correctness here is

377
00:18:00,290 --> 00:18:10,490
not a binary thing and that concludes<font color="#CCCCCC"> my</font>

378
00:18:04,970 --> 00:18:13,280
talk I'm ready<font color="#CCCCCC"> for questions hi Gregg</font>

379
00:18:10,490 --> 00:18:16,310
Maxwell from juniper networks and in

380
00:18:13,280 --> 00:18:19,639
your research you've proven that the

381
00:18:16,310 --> 00:18:22,340
changes are the minimum<font color="#E5E5E5"> necessary to</font>

382
00:18:19,640 --> 00:18:25,130
achieve the policy controls available on

383
00:18:22,340 --> 00:18:27,949
a single note but did you<font color="#E5E5E5"> consider</font>

384
00:18:25,130 --> 00:18:30,050
perhaps relaxing some of the policy

385
00:18:27,950 --> 00:18:32,810
constraints and find out if there would

386
00:18:30,050 --> 00:18:34,310
be a much lower minimum requirement and

387
00:18:32,810 --> 00:18:36,200
<font color="#CCCCCC">the reason I ask this is because not all</font>

388
00:18:34,310 --> 00:18:39,020
of the policy constraints are of equal

389
00:18:36,200 --> 00:18:42,380
importance so for<font color="#E5E5E5"> example the lowest ID</font>

390
00:18:39,020 --> 00:18:44,990
criteria is unimportant or less

391
00:18:42,380 --> 00:18:46,460
important to most networks and if that

392
00:18:44,990 --> 00:18:48,590
one is relaxed then I think the

393
00:18:46,460 --> 00:18:51,200
requirements are substantially reduced

394
00:18:48,590 --> 00:18:53,240
you mean the lowest router ID correct um

395
00:18:51,200 --> 00:18:56,330
so that that that's<font color="#E5E5E5"> a very good question</font>

396
00:18:53,240 --> 00:18:58,550
actually<font color="#E5E5E5"> I'm I I try to downplay router</font>

397
00:18:56,330 --> 00:19:01,129
ID a little bit because if you have any

398
00:18:58,550 --> 00:19:06,050
tiebreaking you can have the<font color="#CCCCCC"> situation</font>

399
00:19:01,130 --> 00:19:07,850
in example 1<font color="#CCCCCC"> where ok where you have to</font>

400
00:19:06,050 --> 00:19:10,490
choose wine route out of the<font color="#CCCCCC"> to that</font>

401
00:19:07,850 --> 00:19:12,800
that<font color="#E5E5E5"> you you have and you have a chance</font>

402
00:19:10,490 --> 00:19:14,810
of no matter what<font color="#E5E5E5"> tiebreaking scheme you</font>

403
00:19:12,800 --> 00:19:17,870
have<font color="#E5E5E5"> as long as you choose only one</font>

404
00:19:14,810 --> 00:19:22,399
route you have a<font color="#E5E5E5"> chance of missing the</font>

405
00:19:17,870 --> 00:19:24,830
one that's important so here it really

406
00:19:22,400 --> 00:19:27,620
doesn't matter whether use router ID or

407
00:19:24,830 --> 00:19:29,689
anything else to break the route what we

408
00:19:27,620 --> 00:19:31,649
need is that<font color="#E5E5E5"> you really</font><font color="#CCCCCC"> have to</font>

409
00:19:29,690 --> 00:19:34,470
disseminate those those two routes

410
00:19:31,650 --> 00:19:36,870
in order to get the exact in order to

411
00:19:34,470 --> 00:19:39,420
<font color="#CCCCCC">get mad working correctly and the main</font>

412
00:19:36,870 --> 00:19:42,209
thing that's breaking here is multi exit

413
00:19:39,420 --> 00:19:44,820
discriminator because<font color="#E5E5E5"> it's compared only</font>

414
00:19:42,210 --> 00:19:46,590
a mouse routes from the same a s and not

415
00:19:44,820 --> 00:19:49,169
over all the routes but all the other

416
00:19:46,590 --> 00:19:51,480
attributes are compared among the routes

417
00:19:49,170 --> 00:19:54,510
from you know among<font color="#E5E5E5"> all the routes and</font>

418
00:19:51,480 --> 00:19:56,040
because of this you have to if you<font color="#CCCCCC"> want</font>

419
00:19:54,510 --> 00:19:57,900
to get<font color="#CCCCCC"> it right</font><font color="#E5E5E5"> I still</font><font color="#CCCCCC"> think it would</font>

420
00:19:56,040 --> 00:20:00,149
be<font color="#CCCCCC"> interesting to</font><font color="#E5E5E5"> see the continuum of</font>

421
00:19:57,900 --> 00:20:01,650
compromise between different levels of

422
00:20:00,150 --> 00:20:03,450
difficulty and<font color="#E5E5E5"> different levels of</font>

423
00:20:01,650 --> 00:20:05,460
policy control instead<font color="#E5E5E5"> of seeing</font>

424
00:20:03,450 --> 00:20:08,100
complete control versus what we have

425
00:20:05,460 --> 00:20:10,170
today but thank you um yeah I<font color="#E5E5E5"> mean</font>

426
00:20:08,100 --> 00:20:12,090
that's what the theory allows us to do

427
00:20:10,170 --> 00:20:15,510
but<font color="#E5E5E5"> this is real actually really dig</font>

428
00:20:12,090 --> 00:20:18,209
it's a tiny teeny stat from today's<font color="#CCCCCC"> bgp</font>

429
00:20:15,510 --> 00:20:20,250
if you want to do more you if you want

430
00:20:18,210 --> 00:20:23,250
more policies you'll have to do more

431
00:20:20,250 --> 00:20:26,460
overhead actually<font color="#CCCCCC"> I'm only</font><font color="#E5E5E5"> asking you</font>

432
00:20:23,250 --> 00:20:33,810
<font color="#E5E5E5">know a twenty percent increase it's not</font>

433
00:20:26,460 --> 00:20:37,740
<font color="#E5E5E5">that</font><font color="#CCCCCC"> much</font><font color="#E5E5E5"> thanks well how do you deal</font>

434
00:20:33,810 --> 00:20:41,850
with route reflectors in Europe yes I

435
00:20:37,740 --> 00:20:45,750
mean you possibly try to designate

436
00:20:41,850 --> 00:20:48,659
routes inside here<font color="#CCCCCC"> are yes in in the way</font>

437
00:20:45,750 --> 00:20:50,910
they should be disseminated and I'm sure

438
00:20:48,660 --> 00:20:54,930
you know<font color="#CCCCCC"> that because of fruit</font>

439
00:20:50,910 --> 00:20:58,620
reflectors some es beers just not aware

440
00:20:54,930 --> 00:21:01,860
of<font color="#E5E5E5"> the past this should they would have</font>

441
00:20:58,620 --> 00:21:05,520
<font color="#CCCCCC">used if there had been a real food mesh</font>

442
00:21:01,860 --> 00:21:10,979
in the eso there's a to make bgp deal

443
00:21:05,520 --> 00:21:13,530
with reflectors topologies does this

444
00:21:10,980 --> 00:21:17,610
deal with route of reflector topologies

445
00:21:13,530 --> 00:21:20,100
so so first of all a full mesh ibgp is

446
00:21:17,610 --> 00:21:22,110
not enough even if you don't have<font color="#CCCCCC"> rather</font>

447
00:21:20,100 --> 00:21:23,939
<font color="#CCCCCC">flexures I mean by both examples I don't</font>

448
00:21:22,110 --> 00:21:26,189
have ravished lectures it just takes too

449
00:21:23,940 --> 00:21:28,860
long to explain you will have this<font color="#CCCCCC"> mad</font>

450
00:21:26,190 --> 00:21:31,170
problem even without round with lectures

451
00:21:28,860 --> 00:21:35,520
right but with<font color="#CCCCCC"> reflectors you have more</font>

452
00:21:31,170 --> 00:21:37,110
problems so<font color="#E5E5E5"> actually the oscillation in</font>

453
00:21:35,520 --> 00:21:39,990
order to generate oscillation you have

454
00:21:37,110 --> 00:21:42,600
to have route reflectors so it causes

455
00:21:39,990 --> 00:21:44,039
more problems but this this atomic bgp

456
00:21:42,600 --> 00:21:48,238
will solve all that

457
00:21:44,039 --> 00:21:50,729
basically in limits all mad problems if

458
00:21:48,239 --> 00:21:52,739
you just<font color="#E5E5E5"> disseminate that ten or twenty</font>

459
00:21:50,729 --> 00:21:54,539
percent routes more and actually the

460
00:21:52,739 --> 00:21:56,519
benefit there are many<font color="#E5E5E5"> benefits right</font>

461
00:21:54,539 --> 00:21:59,249
your customer will be happy except your

462
00:21:56,519 --> 00:22:00,929
<font color="#E5E5E5">know there are solutions but a benefit</font>

463
00:21:59,249 --> 00:22:02,789
is you can use fewer router fractures

464
00:22:00,929 --> 00:22:08,369
you don't<font color="#E5E5E5"> need them to be closer to your</font>

465
00:22:02,789 --> 00:22:11,039
clients anymore so yes I think that's

466
00:22:08,369 --> 00:22:12,809
nice because<font color="#E5E5E5"> I heard usually the ratios</font>

467
00:22:11,039 --> 00:22:14,489
like you have forever to router you have

468
00:22:12,809 --> 00:22:16,139
wine route reflector or something like

469
00:22:14,489 --> 00:22:25,619
that and<font color="#CCCCCC"> correct</font><font color="#E5E5E5"> me if I'm wrong but</font>

470
00:22:16,139 --> 00:22:31,519
<font color="#E5E5E5">that just seems insane</font><font color="#CCCCCC"> okay any other</font>

471
00:22:25,619 --> 00:22:31,519
questions<font color="#E5E5E5"> okay thank you very much</font>

