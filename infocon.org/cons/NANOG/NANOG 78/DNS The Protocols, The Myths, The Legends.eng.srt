1
00:00:00,060 --> 00:00:04,350
all right so before I dive into the

2
00:00:02,970 --> 00:00:05,819
slides a minute got a couple of

3
00:00:04,350 --> 00:00:09,420
questions just to sort of gauge where we

4
00:00:05,819 --> 00:00:11,969
are as well how many of you folks are

5
00:00:09,420 --> 00:00:16,680
currently doing dual-stack DNS with

6
00:00:11,969 --> 00:00:18,750
before an v6 on your servers ok little

7
00:00:16,680 --> 00:00:21,150
lighter than we'd like to see and how

8
00:00:18,750 --> 00:00:25,470
many folks here are doing DNS SEC either

9
00:00:21,150 --> 00:00:26,820
validation we're signing ok and is

10
00:00:25,470 --> 00:00:31,679
anybody actually doing anything in

11
00:00:26,820 --> 00:00:34,980
production yet with doe or not ok

12
00:00:31,679 --> 00:00:36,180
excellent so yeah our next talk Casey

13
00:00:34,980 --> 00:00:37,379
will be talking about some interesting

14
00:00:36,180 --> 00:00:40,489
stuff with rollouts

15
00:00:37,380 --> 00:00:43,020
so I'm looking forward to that as well

16
00:00:40,489 --> 00:00:45,300
so the other part of this is I'm going

17
00:00:43,020 --> 00:00:46,920
to go through this relatively quickly

18
00:00:45,300 --> 00:00:49,279
because I'd like to have a little more

19
00:00:46,920 --> 00:00:51,420
time at the end for a question answer

20
00:00:49,280 --> 00:00:53,610
because the thrust of this really is

21
00:00:51,420 --> 00:00:55,680
there's been a lot of misinformation for

22
00:00:53,610 --> 00:00:57,089
the entire life of DNS of of what it

23
00:00:55,680 --> 00:01:01,410
does and does not do and what isn't

24
00:00:57,090 --> 00:01:03,149
isn't hard and that is mildly

25
00:01:01,410 --> 00:01:04,949
interesting but more interesting when it

26
00:01:03,149 --> 00:01:06,270
gets to the what can you do about it or

27
00:01:04,949 --> 00:01:08,460
what does that mean for you when you're

28
00:01:06,270 --> 00:01:10,798
actually rolling it out so I'd really

29
00:01:08,460 --> 00:01:13,020
like to get you guys feeding me back

30
00:01:10,799 --> 00:01:19,110
some of you know questions experiences

31
00:01:13,020 --> 00:01:22,860
whatever so I have been doing DNS in

32
00:01:19,110 --> 00:01:24,689
large scale since about 1990 I did start

33
00:01:22,860 --> 00:01:27,600
reading the RFC s and looking at the

34
00:01:24,689 --> 00:01:31,229
stuff back in 85 or 86 and at the time I

35
00:01:27,600 --> 00:01:33,419
was sort of amazed I'm now even more

36
00:01:31,229 --> 00:01:36,240
amazed that it's survived through this

37
00:01:33,420 --> 00:01:39,299
so let's start sort of with the how did

38
00:01:36,240 --> 00:01:41,429
things start way back in the dark ages

39
00:01:39,299 --> 00:01:44,490
and in those days obviously everything

40
00:01:41,430 --> 00:01:48,030
was bare metal and it was in some cases

41
00:01:44,490 --> 00:01:53,280
mini and mainframes 56k links were

42
00:01:48,030 --> 00:01:55,290
pretty fat pipes everything in hardware

43
00:01:53,280 --> 00:01:58,439
was expensive so

44
00:01:55,290 --> 00:02:00,329
preserving RAM preserving disk being

45
00:01:58,439 --> 00:02:02,669
very conservative what you sent over the

46
00:02:00,329 --> 00:02:07,679
wire were all things that were far more

47
00:02:02,670 --> 00:02:08,640
important than speedy performance it was

48
00:02:07,680 --> 00:02:10,530
also in the days where we knew each

49
00:02:08,639 --> 00:02:11,760
other if something broke we usually

50
00:02:10,530 --> 00:02:13,050
actually had a phone number where we

51
00:02:11,760 --> 00:02:13,530
could finger the host and get their

52
00:02:13,050 --> 00:02:15,990
office

53
00:02:13,530 --> 00:02:17,640
and call them back and say hey you you

54
00:02:15,990 --> 00:02:19,500
you did something bad here can you fix

55
00:02:17,640 --> 00:02:21,570
that for me

56
00:02:19,500 --> 00:02:24,660
in those days also you could actually

57
00:02:21,570 --> 00:02:25,890
read the DNS RF season weekend it was

58
00:02:24,660 --> 00:02:27,900
kind of a dull read but you could

59
00:02:25,890 --> 00:02:30,989
actually get through all of them

60
00:02:27,900 --> 00:02:33,260
Berek Hubert's dns camel the last

61
00:02:30,990 --> 00:02:36,080
numbers i saw from that we are now at

62
00:02:33,260 --> 00:02:40,019
185 rfcs that are still current and

63
00:02:36,080 --> 00:02:41,640
2,800 pages of specification if you in

64
00:02:40,020 --> 00:02:44,040
theory want to absorb it all and make

65
00:02:41,640 --> 00:02:46,640
sure that your implementation is RFC

66
00:02:44,040 --> 00:02:51,060
compliant woohoo

67
00:02:46,640 --> 00:02:53,910
everything was unicast anycast was not

68
00:02:51,060 --> 00:02:58,140
even a bad trick in those days and it

69
00:02:53,910 --> 00:02:59,549
was pretty much all UDP we knew that TCP

70
00:02:58,140 --> 00:03:02,670
might be useful at some point in time

71
00:02:59,550 --> 00:03:05,070
but again it was considered slower and

72
00:03:02,670 --> 00:03:08,760
more expensive of resources than any of

73
00:03:05,070 --> 00:03:12,060
us wanted to cope with and in those days

74
00:03:08,760 --> 00:03:13,200
if you had a security checklist they

75
00:03:12,060 --> 00:03:16,920
probably weren't even thinking about

76
00:03:13,200 --> 00:03:18,420
tcp/ip much less DNS and they certainly

77
00:03:16,920 --> 00:03:24,000
didn't actually talk to anybody he was

78
00:03:18,420 --> 00:03:27,029
doing DNS so in the list of things that

79
00:03:24,000 --> 00:03:28,769
have been wrong or never true one of the

80
00:03:27,030 --> 00:03:30,709
ones that started way back at the very

81
00:03:28,769 --> 00:03:36,930
beginning and we have still not squished

82
00:03:30,709 --> 00:03:40,590
is TCP everyone in the world of course

83
00:03:36,930 --> 00:03:43,560
knows that TCP is only for zone

84
00:03:40,590 --> 00:03:46,560
transfers and is never used for anything

85
00:03:43,560 --> 00:03:48,630
else whatsoever and DNS is all UDP and

86
00:03:46,560 --> 00:03:51,209
there are best practice jet lists

87
00:03:48,630 --> 00:03:54,989
floating out there that will tell you

88
00:03:51,209 --> 00:03:57,299
this to this day and I've even hit stuff

89
00:03:54,989 --> 00:04:00,360
relating to this with PCI compliance and

90
00:03:57,299 --> 00:04:05,730
a akka lists and of course the earth is

91
00:04:00,360 --> 00:04:07,680
flat and yes if you are unfortunately

92
00:04:05,730 --> 00:04:09,988
enough to encounter one of these people

93
00:04:07,680 --> 00:04:11,670
that at some point managed to get a

94
00:04:09,989 --> 00:04:13,530
decoder ring and a security audit

95
00:04:11,670 --> 00:04:15,660
checklist out of their box of cereal

96
00:04:13,530 --> 00:04:19,350
some morning and excited to declare

97
00:04:15,660 --> 00:04:21,000
themselves as a security expert yeah we

98
00:04:19,350 --> 00:04:26,190
can try and see if we can hopefully

99
00:04:21,000 --> 00:04:27,030
correct that obviously it with the large

100
00:04:26,190 --> 00:04:30,330
packets that

101
00:04:27,030 --> 00:04:33,780
you're starting to see these days Edie

102
00:04:30,330 --> 00:04:37,320
ns0 is helping and we have extended the

103
00:04:33,780 --> 00:04:39,719
life and utility of UDP but there are

104
00:04:37,320 --> 00:04:42,000
still times where setting the truncate

105
00:04:39,720 --> 00:04:45,000
bit and and sending over TCP is the

106
00:04:42,000 --> 00:04:47,040
correct answer and so there are a lot of

107
00:04:45,000 --> 00:04:49,770
reasons why and we'll talk a little bit

108
00:04:47,040 --> 00:04:55,200
more also about some of the DNS over

109
00:04:49,770 --> 00:04:57,180
HTTP and DNS over TLS where those of us

110
00:04:55,200 --> 00:04:59,580
who have mostly tuned kernels for UDP

111
00:04:57,180 --> 00:05:02,370
for many many many years are going to be

112
00:04:59,580 --> 00:05:05,010
getting to talk to our web folks and

113
00:05:02,370 --> 00:05:07,020
getting recommendations on how they got

114
00:05:05,010 --> 00:05:10,890
their servers to survive the HTTPS

115
00:05:07,020 --> 00:05:12,659
Everywhere challenge and so there are

116
00:05:10,890 --> 00:05:17,219
good reasons for doing this other than

117
00:05:12,660 --> 00:05:20,970
just a ik so far my XO far we have

118
00:05:17,220 --> 00:05:26,010
overloaded everything in text records

119
00:05:20,970 --> 00:05:29,820
for years I have also seen people who do

120
00:05:26,010 --> 00:05:31,919
really cheap load balancing by hoping to

121
00:05:29,820 --> 00:05:37,169
do round-robin and putting 20a records

122
00:05:31,919 --> 00:05:38,490
out for a particular label i actually

123
00:05:37,169 --> 00:05:40,849
i've seen all sorts of spectacular

124
00:05:38,490 --> 00:05:44,610
things in my experience in dns where

125
00:05:40,850 --> 00:05:48,990
it's awfully easy to get over 1280 or

126
00:05:44,610 --> 00:05:52,680
1500 byte packet and unfortunately with

127
00:05:48,990 --> 00:05:57,860
ipv6 in general fragmentation has been a

128
00:05:52,680 --> 00:06:00,330
problem and while i'm not a fan of the

129
00:05:57,860 --> 00:06:02,669
we should drop every fragment because

130
00:06:00,330 --> 00:06:07,130
it's too easy to spoof and poison caches

131
00:06:02,669 --> 00:06:07,130
and dns and fragmentation should not mix

132
00:06:07,310 --> 00:06:11,550
in reality we need to be able to deal

133
00:06:09,870 --> 00:06:14,850
with it if we're going to ever get rid

134
00:06:11,550 --> 00:06:18,539
of before sometime in the next 40 or 50

135
00:06:14,850 --> 00:06:21,060
years and there are some things that

136
00:06:18,539 --> 00:06:26,010
we're starting to do with TCP that are

137
00:06:21,060 --> 00:06:28,470
actually of use pipelining and and being

138
00:06:26,010 --> 00:06:32,070
able to eat the overhead of doing the

139
00:06:28,470 --> 00:06:35,400
TCP once but getting multiple DNS

140
00:06:32,070 --> 00:06:37,320
answers in the same packet or nailing up

141
00:06:35,400 --> 00:06:40,859
connections between particularly busy

142
00:06:37,320 --> 00:06:44,219
iBall recursive servers and very popular

143
00:06:40,860 --> 00:06:45,569
domains the Facebook's and Twitter's and

144
00:06:44,220 --> 00:06:48,210
various other things of the world that

145
00:06:45,569 --> 00:06:51,030
love having 200 dns lookups for every

146
00:06:48,210 --> 00:06:57,960
webpage there's a lot of advantages to

147
00:06:51,030 --> 00:06:59,969
that and also in today's world the whole

148
00:06:57,960 --> 00:07:02,099
oh well you can't do that with DNS and

149
00:06:59,970 --> 00:07:03,449
you can't load balance because TCP will

150
00:07:02,099 --> 00:07:05,878
break if you're not getting to the same

151
00:07:03,449 --> 00:07:07,919
host every time and the reality is is

152
00:07:05,879 --> 00:07:10,919
that load balancers also have gotten

153
00:07:07,919 --> 00:07:13,198
modern hardware modern software there

154
00:07:10,919 --> 00:07:16,198
are interesting techniques with hashing

155
00:07:13,199 --> 00:07:18,620
and sharding that allow you to much more

156
00:07:16,199 --> 00:07:21,360
consistently hit the same servers

157
00:07:18,620 --> 00:07:24,720
there's also a very good RFC on stateful

158
00:07:21,360 --> 00:07:29,909
DNS and why having state isn't

159
00:07:24,720 --> 00:07:31,229
necessarily broken for DNS ipv6 which is

160
00:07:29,909 --> 00:07:36,330
one of the other things that I have

161
00:07:31,229 --> 00:07:39,479
spent a lot of time working on has

162
00:07:36,330 --> 00:07:42,409
unfortunately done themselves some

163
00:07:39,479 --> 00:07:44,818
disservice --is I love the fact that

164
00:07:42,409 --> 00:07:46,770
intermediate boxes are not making

165
00:07:44,819 --> 00:07:51,180
decisions about dropping packets based

166
00:07:46,770 --> 00:07:54,180
on size unfortunately also in the cereal

167
00:07:51,180 --> 00:07:57,259
box level quality best practices be

168
00:07:54,180 --> 00:08:01,199
whole ICMP is evil and should be blocked

169
00:07:57,259 --> 00:08:03,389
is a problem when the six is signaling

170
00:08:01,199 --> 00:08:05,880
stuff like I dropped your packet because

171
00:08:03,389 --> 00:08:08,069
it's too big and you should resend it in

172
00:08:05,880 --> 00:08:10,409
a smaller size because only the sender

173
00:08:08,069 --> 00:08:12,650
can actually reef Ragman at a smaller

174
00:08:10,409 --> 00:08:15,330
size

175
00:08:12,650 --> 00:08:17,818
the folks at ap Nick Geoff Huston and

176
00:08:15,330 --> 00:08:21,990
George Michelson and Jo Thomas have been

177
00:08:17,819 --> 00:08:24,300
doing some very depressing research in

178
00:08:21,990 --> 00:08:27,930
what happens with fragments and how

179
00:08:24,300 --> 00:08:31,050
robust that is and I've seen numbers in

180
00:08:27,930 --> 00:08:34,380
terms of drops or failure to get the

181
00:08:31,050 --> 00:08:37,529
actual payload in double digits you know

182
00:08:34,380 --> 00:08:41,130
15 20 percent with a lot of common

183
00:08:37,529 --> 00:08:43,320
stacks it's getting better as more

184
00:08:41,130 --> 00:08:45,779
people are upgrading and v6 is more

185
00:08:43,320 --> 00:08:49,890
mature but the reality is is that

186
00:08:45,779 --> 00:08:53,279
fragmentation is dangerous and not

187
00:08:49,890 --> 00:08:54,689
reliable one of the other things that

188
00:08:53,279 --> 00:08:57,290
they also did some research

189
00:08:54,690 --> 00:08:59,970
is what happens how many clients tax

190
00:08:57,290 --> 00:09:03,660
with stub resolver Zoar with recursive

191
00:08:59,970 --> 00:09:06,240
resolvers in cheap CPU routers will

192
00:09:03,660 --> 00:09:10,469
actually retry with TCP if you truncate

193
00:09:06,240 --> 00:09:12,389
and set the TC bid and that's also a

194
00:09:10,470 --> 00:09:15,389
depressingly high number where I think

195
00:09:12,389 --> 00:09:21,389
somewhere in the 80 ish percent success

196
00:09:15,389 --> 00:09:25,069
rate which these are okay but we kind of

197
00:09:21,389 --> 00:09:30,240
like to see a few more A's in the class

198
00:09:25,069 --> 00:09:32,759
so Deana sec just a couple things about

199
00:09:30,240 --> 00:09:39,269
DNS SEC first before we dive into what

200
00:09:32,759 --> 00:09:41,490
is and is not valid useful and true DNS

201
00:09:39,269 --> 00:09:43,470
SEC is basically using public key or

202
00:09:41,490 --> 00:09:45,420
asymmetric encryption um which means

203
00:09:43,470 --> 00:09:48,689
that there's a a public key which is

204
00:09:45,420 --> 00:09:51,000
published in the DNS and a private key

205
00:09:48,689 --> 00:09:54,120
that is held closely by whatever is

206
00:09:51,000 --> 00:09:57,000
doing signing public key encryption can

207
00:09:54,120 --> 00:09:59,639
do things to things you can use it to

208
00:09:57,000 --> 00:10:03,329
encrypt so that only people who have the

209
00:09:59,639 --> 00:10:05,699
other half of your pair can decrypt a

210
00:10:03,329 --> 00:10:07,560
file and read it but the other thing you

211
00:10:05,699 --> 00:10:10,349
can do is create a divisional signature

212
00:10:07,560 --> 00:10:13,138
where by using those keys you can

213
00:10:10,350 --> 00:10:15,149
validate that someone has not changed

214
00:10:13,139 --> 00:10:19,740
whatever it is that that that signature

215
00:10:15,149 --> 00:10:22,670
is for and DNS SEC signs are our sets

216
00:10:19,740 --> 00:10:25,680
the the resource record sets in DNS and

217
00:10:22,670 --> 00:10:28,259
supplies the keys so that you can walk

218
00:10:25,680 --> 00:10:31,079
the chain of validation and you can

219
00:10:28,259 --> 00:10:34,230
verify that what was put into the zone

220
00:10:31,079 --> 00:10:36,839
file is exactly what you're getting from

221
00:10:34,230 --> 00:10:40,079
your recursive resolver or your stub

222
00:10:36,839 --> 00:10:43,170
resolver once it's validated it is not

223
00:10:40,079 --> 00:10:45,989
magic if I put something stupid or wrong

224
00:10:43,170 --> 00:10:47,399
into my zone file and sign it you'll be

225
00:10:45,990 --> 00:10:49,980
able to validate that you got exactly

226
00:10:47,399 --> 00:10:52,139
what mistake I put in but at least you

227
00:10:49,980 --> 00:10:57,500
know that no one in the middle of all of

228
00:10:52,139 --> 00:11:00,389
that has monkey with the results and

229
00:10:57,500 --> 00:11:03,269
basically unfortunately because we

230
00:11:00,389 --> 00:11:08,180
wanted to be backwardly compatible all

231
00:11:03,269 --> 00:11:10,820
failures are our serf fails so the some

232
00:11:08,180 --> 00:11:13,939
went other than perfectly correct is

233
00:11:10,820 --> 00:11:17,480
what sort of fail means and there's no

234
00:11:13,940 --> 00:11:19,400
idea of of what else might happen there

235
00:11:17,480 --> 00:11:21,290
is a draft for extended error codes in

236
00:11:19,400 --> 00:11:23,540
the DNS op working group that is

237
00:11:21,290 --> 00:11:25,339
dangerously close to getting through and

238
00:11:23,540 --> 00:11:26,510
that's where we have attempted to

239
00:11:25,340 --> 00:11:29,450
actually give something more meaningful

240
00:11:26,510 --> 00:11:31,520
then it all didn't go perfectly and

241
00:11:29,450 --> 00:11:35,000
we'll be able to actually see that it

242
00:11:31,520 --> 00:11:37,069
was a network or a DNS SEC validation or

243
00:11:35,000 --> 00:11:39,050
some other failure and be able to

244
00:11:37,070 --> 00:11:45,410
hopefully do something more useful in

245
00:11:39,050 --> 00:11:48,199
our applications so DNS SEC the biggest

246
00:11:45,410 --> 00:11:51,319
problem is that when it rolled out way

247
00:11:48,200 --> 00:11:55,790
back when the folks that wrote the

248
00:11:51,320 --> 00:11:57,770
software were all protocol wizards and

249
00:11:55,790 --> 00:11:59,839
hardcore DNS people that felt that

250
00:11:57,770 --> 00:12:04,400
anything more user-friendly than VI or

251
00:11:59,840 --> 00:12:06,740
Emacs was a waste of their time and that

252
00:12:04,400 --> 00:12:13,730
that was their idea of the epitome of

253
00:12:06,740 --> 00:12:16,160
aux so signing and keys and key

254
00:12:13,730 --> 00:12:19,400
rollovers and key management we're all

255
00:12:16,160 --> 00:12:20,990
spectacularly hard about 10 years ago

256
00:12:19,400 --> 00:12:24,050
when I was working at ISC and doing

257
00:12:20,990 --> 00:12:26,840
training and DNS SEC we spent an entire

258
00:12:24,050 --> 00:12:29,990
eight-hour day walking them through the

259
00:12:26,840 --> 00:12:32,840
process of how to manually create keys

260
00:12:29,990 --> 00:12:39,110
sign the zone and get the sign zone to

261
00:12:32,840 --> 00:12:41,120
be served so shockingly enough DNS got

262
00:12:39,110 --> 00:12:45,230
this reputation of being really hard to

263
00:12:41,120 --> 00:12:46,070
do and because if you did anything at

264
00:12:45,230 --> 00:12:48,680
all wrong

265
00:12:46,070 --> 00:12:52,250
DNS just broke but if you didn't do DNS

266
00:12:48,680 --> 00:12:54,140
SEC it worked it was decided that boy

267
00:12:52,250 --> 00:12:56,270
that's fragile and complicated it's

268
00:12:54,140 --> 00:12:59,449
gonna drive up our support costs we're

269
00:12:56,270 --> 00:13:01,550
gonna get calls our competitors who

270
00:12:59,450 --> 00:13:06,020
don't do DNS X signing will not get

271
00:13:01,550 --> 00:13:07,880
those same support calls and what it

272
00:13:06,020 --> 00:13:10,910
fixed didn't seem to be sufficiently

273
00:13:07,880 --> 00:13:14,120
valuable to risk that kind of chaos and

274
00:13:10,910 --> 00:13:18,680
support burden ten years ago that was a

275
00:13:14,120 --> 00:13:21,050
fair assessment but

276
00:13:18,680 --> 00:13:26,530
we use other stuff that is crusty and

277
00:13:21,050 --> 00:13:28,790
nasty and fragile I love doing BGP I

278
00:13:26,530 --> 00:13:32,030
love keeping my web server up and

279
00:13:28,790 --> 00:13:34,280
running and functional under load

280
00:13:32,030 --> 00:13:38,750
that's all trivial stuff right just kind

281
00:13:34,280 --> 00:13:40,730
of work out of the box yeah its server

282
00:13:38,750 --> 00:13:42,800
software has gotten much better the

283
00:13:40,730 --> 00:13:46,280
open-source folks have all come up with

284
00:13:42,800 --> 00:13:48,979
tools and signing stuff that is much

285
00:13:46,280 --> 00:13:54,530
more turnkey these days you can add a

286
00:13:48,980 --> 00:13:57,800
zone in NSD or in bind or and not have

287
00:13:54,530 --> 00:14:00,800
four or five lines of config file reload

288
00:13:57,800 --> 00:14:02,780
the zone and other than the fun of

289
00:14:00,800 --> 00:14:05,390
getting your DS records up into the

290
00:14:02,780 --> 00:14:07,520
parent if it's not done by the same

291
00:14:05,390 --> 00:14:11,470
folks that are running your zone

292
00:14:07,520 --> 00:14:14,210
it just works and it continues to work

293
00:14:11,470 --> 00:14:17,810
there's also the fact that at this point

294
00:14:14,210 --> 00:14:20,290
a lot more large-scale deployment of

295
00:14:17,810 --> 00:14:24,680
both resolvers and validation and

296
00:14:20,290 --> 00:14:27,980
signing so it's not just a bunch of IETF

297
00:14:24,680 --> 00:14:30,109
wants you know sitting in whatever room

298
00:14:27,980 --> 00:14:33,080
they're in doing it we actually have

299
00:14:30,110 --> 00:14:36,350
very large companies with hundreds and

300
00:14:33,080 --> 00:14:39,500
thousands of employees who are all now

301
00:14:36,350 --> 00:14:42,920
familiar I can actually put out that I

302
00:14:39,500 --> 00:14:45,380
want DNS SEC background in a job hunt

303
00:14:42,920 --> 00:14:49,729
and I'll get candidates who all say oh

304
00:14:45,380 --> 00:14:52,280
yeah and who have done real work and on

305
00:14:49,730 --> 00:14:57,350
the public side you know the quad X

306
00:14:52,280 --> 00:15:00,050
servers quite a quad 9.1 people like

307
00:14:57,350 --> 00:15:05,480
Comcast are all doing validation and

308
00:15:00,050 --> 00:15:06,709
have for years now and I just confirm

309
00:15:05,480 --> 00:15:08,390
the latest numbers I had worked at

310
00:15:06,710 --> 00:15:10,790
Comcast redoing their recursive

311
00:15:08,390 --> 00:15:13,610
infrastructure they do six hundred

312
00:15:10,790 --> 00:15:15,709
billion queries a day and they are now

313
00:15:13,610 --> 00:15:19,760
about half the size of Google's traffic

314
00:15:15,710 --> 00:15:24,020
and just those two alone are well over a

315
00:15:19,760 --> 00:15:26,030
trillion and the DNS SEC validation

316
00:15:24,020 --> 00:15:28,189
failures that actually get up to a DNS

317
00:15:26,030 --> 00:15:31,670
engineer and require something to be

318
00:15:28,190 --> 00:15:32,270
done are in terms of single digit dozens

319
00:15:31,670 --> 00:15:34,459
per month

320
00:15:32,270 --> 00:15:36,079
and it's the I wasn't really good in

321
00:15:34,459 --> 00:15:37,550
science but I know with in scientific

322
00:15:36,080 --> 00:15:40,700
notation version

323
00:15:37,550 --> 00:15:43,279
we're like negative 12 negative 15 some

324
00:15:40,700 --> 00:15:47,660
something like that in terms of error

325
00:15:43,279 --> 00:15:49,459
rates I can also tell you that Google

326
00:15:47,660 --> 00:15:52,130
and Comcast both have engineering

327
00:15:49,459 --> 00:15:53,959
managers who if there were support calls

328
00:15:52,130 --> 00:15:57,500
that were driving up their support costs

329
00:15:53,959 --> 00:15:58,939
dramatically would be revisiting this so

330
00:15:57,500 --> 00:16:00,500
these days you could pretty much say

331
00:15:58,940 --> 00:16:04,100
that it is really robust

332
00:16:00,500 --> 00:16:05,660
the software is ready you can get real

333
00:16:04,100 --> 00:16:10,010
stuff done with it you can find

334
00:16:05,660 --> 00:16:14,180
expertise so the it's too hard argument

335
00:16:10,010 --> 00:16:17,000
has mostly gone away at least as much as

336
00:16:14,180 --> 00:16:19,599
any other protocol we use you can say

337
00:16:17,000 --> 00:16:23,720
the same thing and there are benefits

338
00:16:19,600 --> 00:16:28,730
cache poisoning is still relatively

339
00:16:23,720 --> 00:16:32,510
trivially easy to do host Kaminski in

340
00:16:28,730 --> 00:16:35,240
2008 we did discover some things with

341
00:16:32,510 --> 00:16:38,569
randomness and entropy and various other

342
00:16:35,240 --> 00:16:40,520
things and at least we're not at the

343
00:16:38,570 --> 00:16:42,860
birthday attack we're at five to six

344
00:16:40,520 --> 00:16:45,890
hundred packets you have a really good

345
00:16:42,860 --> 00:16:48,800
chance of colliding and polluting the

346
00:16:45,890 --> 00:16:52,279
cache but eh there aren't still enough

347
00:16:48,800 --> 00:16:55,279
people that run crusty old stuff and B

348
00:16:52,279 --> 00:16:57,260
we slowed it down and made it harder so

349
00:16:55,279 --> 00:16:59,750
that it's in terms of hours not minutes

350
00:16:57,260 --> 00:17:01,939
but if you're determined and you've got

351
00:16:59,750 --> 00:17:06,709
the right route toolkits and stuff you

352
00:17:01,940 --> 00:17:09,050
can still dump stuff into cache and DNS

353
00:17:06,709 --> 00:17:11,900
hijacking which is very prevalent and

354
00:17:09,050 --> 00:17:15,079
very rewarding and there are several

355
00:17:11,900 --> 00:17:18,679
state actors who are actively doing this

356
00:17:15,079 --> 00:17:23,329
now this is one more thing that makes it

357
00:17:18,679 --> 00:17:26,530
easier for them to go through when the

358
00:17:23,329 --> 00:17:30,500
DNS peonage stuff was happening and PCH

359
00:17:26,530 --> 00:17:33,460
got cracked they got part of why they

360
00:17:30,500 --> 00:17:38,660
did was their mail server was exposed

361
00:17:33,460 --> 00:17:41,320
but the MX and a were in DNS SEC however

362
00:17:38,660 --> 00:17:44,270
they had two employees with Apple phones

363
00:17:41,320 --> 00:17:46,129
who were behind Hotel firewalls that

364
00:17:44,270 --> 00:17:49,520
would not allow them to use the

365
00:17:46,130 --> 00:17:53,980
DNS servers and didnõt DNS SEC validate

366
00:17:49,520 --> 00:17:59,570
and so they were able to spoof in lie

367
00:17:53,980 --> 00:18:02,510
and those folks didn't catch it and the

368
00:17:59,570 --> 00:18:04,370
phone's connected before they could come

369
00:18:02,510 --> 00:18:06,770
up with any VPN or do anything else

370
00:18:04,370 --> 00:18:08,300
secure which meant that they leaked

371
00:18:06,770 --> 00:18:11,210
their email credentials and once they

372
00:18:08,300 --> 00:18:13,340
had their email credentials daisy-chain

373
00:18:11,210 --> 00:18:16,160
hopped through get some emails read some

374
00:18:13,340 --> 00:18:18,080
stuff get into IMAP find a few things

375
00:18:16,160 --> 00:18:21,860
and see whether the passwords worth

376
00:18:18,080 --> 00:18:26,870
elsewhere and there they were so DNS SEC

377
00:18:21,860 --> 00:18:28,370
will slow that down Dane is becoming not

378
00:18:26,870 --> 00:18:29,840
as prevalent as we'd like there are a

379
00:18:28,370 --> 00:18:33,709
few places like Germany that are now

380
00:18:29,840 --> 00:18:36,260
making it mandatory but it is not as

381
00:18:33,710 --> 00:18:38,390
uncommon as it once was

382
00:18:36,260 --> 00:18:41,750
we're doing other certificates it's

383
00:18:38,390 --> 00:18:43,910
better protection for CAS folks like Lex

384
00:18:41,750 --> 00:18:46,970
let's and Crips are actually checking

385
00:18:43,910 --> 00:18:48,770
whether your zone is DNS X sign and you

386
00:18:46,970 --> 00:18:50,210
you will have better protection and

387
00:18:48,770 --> 00:18:55,010
cleaner automation if you're actually

388
00:18:50,210 --> 00:18:57,710
doing DNS SEC and last and sadly not

389
00:18:55,010 --> 00:19:00,620
least like I said I've been doing this

390
00:18:57,710 --> 00:19:03,470
stuff since 84 we have had two

391
00:19:00,620 --> 00:19:06,889
successful wide scale deployments of PK

392
00:19:03,470 --> 00:19:09,410
eyes and existence one of them was the

393
00:19:06,890 --> 00:19:13,160
Kerberos that wound up hiding under the

394
00:19:09,410 --> 00:19:16,550
hood for Active Directory that Microsoft

395
00:19:13,160 --> 00:19:20,840
has been shoveling for years and the

396
00:19:16,550 --> 00:19:22,820
other is DNS SEC we have not you know

397
00:19:20,840 --> 00:19:25,730
correct me if I'm wrong and I'd love to

398
00:19:22,820 --> 00:19:27,290
talk to you after my chat but there have

399
00:19:25,730 --> 00:19:29,450
certainly been other attempts but nobody

400
00:19:27,290 --> 00:19:32,090
else has actually gotten to an internet

401
00:19:29,450 --> 00:19:37,970
wide deployment of a useful and secure

402
00:19:32,090 --> 00:19:41,470
PKI so let's use it so okay so it's

403
00:19:37,970 --> 00:19:44,270
useful but what does it actually solve

404
00:19:41,470 --> 00:19:49,130
basic security this is sort of the

405
00:19:44,270 --> 00:19:51,170
triangle confidentiality nobody who's

406
00:19:49,130 --> 00:19:54,490
not supposed to see it should be able to

407
00:19:51,170 --> 00:19:59,420
see it in transit or either end

408
00:19:54,490 --> 00:20:00,160
integrity did what I receive match what

409
00:19:59,420 --> 00:20:03,970
was original

410
00:20:00,160 --> 00:20:06,870
he sent and availability when I need

411
00:20:03,970 --> 00:20:09,940
that information can I get it

412
00:20:06,870 --> 00:20:14,500
so DNS AK really mostly just solves one

413
00:20:09,940 --> 00:20:17,530
problem integrity what I put into his

414
00:20:14,500 --> 00:20:19,600
own file and sign anybody else who

415
00:20:17,530 --> 00:20:21,850
validates will be able to say yes this

416
00:20:19,600 --> 00:20:24,189
is what Paul stuck in his own file

417
00:20:21,850 --> 00:20:28,300
this must be what he meant for me to

418
00:20:24,190 --> 00:20:30,040
have it means that people can't get into

419
00:20:28,300 --> 00:20:31,930
my registry account change my name

420
00:20:30,040 --> 00:20:35,290
servers and set up false name servers

421
00:20:31,930 --> 00:20:37,390
unless they remembered to delete the DES

422
00:20:35,290 --> 00:20:39,040
record in my registry account which

423
00:20:37,390 --> 00:20:43,680
fortunately the bad guys don't always

424
00:20:39,040 --> 00:20:45,850
remember to do and with 24 48 hour cash

425
00:20:43,680 --> 00:20:47,530
there's still a window in which I can

426
00:20:45,850 --> 00:20:50,110
notice that my name servers have changed

427
00:20:47,530 --> 00:20:51,760
so it protects me from false name

428
00:20:50,110 --> 00:20:54,010
servers it protects me from cache

429
00:20:51,760 --> 00:20:56,800
poisoning and again those are not

430
00:20:54,010 --> 00:20:58,600
complete solutions but these days it is

431
00:20:56,800 --> 00:21:01,360
all about defense and layers you know

432
00:20:58,600 --> 00:21:04,469
anything you can lock down and make more

433
00:21:01,360 --> 00:21:08,560
secure is worth doing if it is not

434
00:21:04,470 --> 00:21:10,030
ridiculously onerous to do and the other

435
00:21:08,560 --> 00:21:11,260
side okay fair enough you know we're

436
00:21:10,030 --> 00:21:13,810
talking about myths and legends what

437
00:21:11,260 --> 00:21:16,000
doesn't it do well it doesn't do

438
00:21:13,810 --> 00:21:17,290
confidentiality it still goes in the

439
00:21:16,000 --> 00:21:21,240
clear it just goes in the clear with

440
00:21:17,290 --> 00:21:23,620
signatures for validating I can still

441
00:21:21,240 --> 00:21:26,380
overwhelm your authoritative server or a

442
00:21:23,620 --> 00:21:28,060
transit point and and make you unable to

443
00:21:26,380 --> 00:21:31,150
be able to get an answer from my

444
00:21:28,060 --> 00:21:33,820
authoritative servers it does not

445
00:21:31,150 --> 00:21:35,500
protect me from putting stupid stuff in

446
00:21:33,820 --> 00:21:37,200
and making mistakes or having script

447
00:21:35,500 --> 00:21:42,010
failures and generating my zone file

448
00:21:37,200 --> 00:21:45,340
sadly and it doesn't help with the

449
00:21:42,010 --> 00:21:48,310
parent your parent still also has to be

450
00:21:45,340 --> 00:21:50,230
secure and of course for DNS I they also

451
00:21:48,310 --> 00:21:51,909
have to themselves be sign and

452
00:21:50,230 --> 00:21:57,850
verifiable or there's a not a clean

453
00:21:51,910 --> 00:22:02,110
chain so if this doesn't work for

454
00:21:57,850 --> 00:22:06,780
confidentiality we're now also in the

455
00:22:02,110 --> 00:22:09,459
post Snowden era there are state actors

456
00:22:06,780 --> 00:22:11,320
who are interested and there are

457
00:22:09,460 --> 00:22:13,480
oppressive regimes that are interested

458
00:22:11,320 --> 00:22:16,269
in spying on us

459
00:22:13,480 --> 00:22:18,419
there are allegedly democratic regimes

460
00:22:16,269 --> 00:22:21,220
that are interested in spying on us

461
00:22:18,419 --> 00:22:24,750
there are commercial entities that want

462
00:22:21,220 --> 00:22:29,230
to spy on us and give us targeted ads

463
00:22:24,750 --> 00:22:34,440
sell our data correlate us identify us

464
00:22:29,230 --> 00:22:39,070
track us and anything that we can do to

465
00:22:34,440 --> 00:22:40,659
at least slow down the leakage of who we

466
00:22:39,070 --> 00:22:44,470
are what we're doing a more interested

467
00:22:40,659 --> 00:22:47,320
in the ITF several years ago said that's

468
00:22:44,470 --> 00:22:51,519
important and that's worthwhile work so

469
00:22:47,320 --> 00:22:54,760
there's an RFC that basically says in

470
00:22:51,519 --> 00:22:56,260
the face of pervasive monitoring we

471
00:22:54,760 --> 00:23:00,850
should encrypt anything that we possibly

472
00:22:56,260 --> 00:23:03,669
can and these days most of the pieces of

473
00:23:00,850 --> 00:23:07,240
the internet from the Wi-Fi that someone

474
00:23:03,669 --> 00:23:09,669
can war drive and camp on to all the way

475
00:23:07,240 --> 00:23:12,460
through our providers the websites we

476
00:23:09,669 --> 00:23:15,490
see are employers and all the rest they

477
00:23:12,460 --> 00:23:18,730
are watching we already know that so

478
00:23:15,490 --> 00:23:22,740
there were two efforts the first attempt

479
00:23:18,730 --> 00:23:26,529
with DNS said let's at least encrypt

480
00:23:22,740 --> 00:23:28,750
from the stub resolver to the recursive

481
00:23:26,529 --> 00:23:32,019
resolver because that's where the most

482
00:23:28,750 --> 00:23:34,090
dangerous leakage is because that if I

483
00:23:32,019 --> 00:23:36,490
can get to the stub resolver I can get

484
00:23:34,090 --> 00:23:39,010
to the home IP address I can now tie it

485
00:23:36,490 --> 00:23:45,179
to at least a home and possibly even to

486
00:23:39,010 --> 00:23:45,179
a device and that's very definitely PII

487
00:23:45,899 --> 00:23:51,870
Comcast knowing that six million homes

488
00:23:50,169 --> 00:23:57,100
are interested in resolving dub dub dub

489
00:23:51,870 --> 00:24:01,658
facebook.com is not PII and that's much

490
00:23:57,100 --> 00:24:03,250
less of a disclosure so there is

491
00:24:01,659 --> 00:24:07,720
software that was out there for years

492
00:24:03,250 --> 00:24:09,880
DNS curve done by DJ B that tried to

493
00:24:07,720 --> 00:24:12,610
solve that problem of the how do I get

494
00:24:09,880 --> 00:24:15,130
from my my Stuber solver on my operating

495
00:24:12,610 --> 00:24:18,760
system to my recursive resolver and

496
00:24:15,130 --> 00:24:22,629
encrypt it that really never got adopted

497
00:24:18,760 --> 00:24:26,020
widely though the algorithm we now use

498
00:24:22,629 --> 00:24:28,000
ECDSA is also elliptic curve and so

499
00:24:26,020 --> 00:24:29,500
gjb at least gets the credit for it you

500
00:24:28,000 --> 00:24:32,200
know getting our attention that elliptic

501
00:24:29,500 --> 00:24:34,530
curve was pretty cool algorithm it's you

502
00:24:32,200 --> 00:24:37,030
know it's relatively cheap

503
00:24:34,530 --> 00:24:40,200
computationally and it generates much

504
00:24:37,030 --> 00:24:44,170
smaller signatures than RSA and DSA so

505
00:24:40,200 --> 00:24:47,890
that was a good thing so we're already

506
00:24:44,170 --> 00:24:50,429
using TLS and if we go with the everyone

507
00:24:47,890 --> 00:24:53,020
should support TCP as a DNS server

508
00:24:50,429 --> 00:24:53,820
because it's in the RFC it always has

509
00:24:53,020 --> 00:24:58,660
been

510
00:24:53,820 --> 00:25:01,120
then TLS is just a TLS handshake and the

511
00:24:58,660 --> 00:25:03,429
and as a matter of fact if I'm recalling

512
00:25:01,120 --> 00:25:06,309
correctly unbound initial patch that

513
00:25:03,429 --> 00:25:09,850
someone submitted for making do t work

514
00:25:06,309 --> 00:25:10,360
on unbound was on order of 12 lines of C

515
00:25:09,850 --> 00:25:13,240
code

516
00:25:10,360 --> 00:25:15,550
something like that because most of the

517
00:25:13,240 --> 00:25:19,960
logic was already in there so that was a

518
00:25:15,550 --> 00:25:21,399
fairly straightforward one the downside

519
00:25:19,960 --> 00:25:24,280
was that it comes to a well-known port

520
00:25:21,400 --> 00:25:28,120
and so if you decide you don't want that

521
00:25:24,280 --> 00:25:30,460
you simply block that port and do tea

522
00:25:28,120 --> 00:25:32,770
breaks and while you can of course run

523
00:25:30,460 --> 00:25:37,360
it over a different port or you can even

524
00:25:32,770 --> 00:25:40,570
run UDP 53 on a different port I have

525
00:25:37,360 --> 00:25:42,699
certainly run a name server on port 443

526
00:25:40,570 --> 00:25:47,590
before that had nothing to do with HTTPS

527
00:25:42,700 --> 00:25:49,390
because it works great at hotels it at

528
00:25:47,590 --> 00:25:51,909
least was a part of the problem and it

529
00:25:49,390 --> 00:25:56,380
was cheap and it was fast what then

530
00:25:51,910 --> 00:25:58,960
happened though was Mozilla got into the

531
00:25:56,380 --> 00:26:00,880
game and said well we have this piece of

532
00:25:58,960 --> 00:26:03,550
software that kind of knows what to do

533
00:26:00,880 --> 00:26:05,860
with HTTPS and we kind of like it

534
00:26:03,550 --> 00:26:07,720
and for us there's really not much more

535
00:26:05,860 --> 00:26:09,399
overhead than T less to do that and

536
00:26:07,720 --> 00:26:11,830
there are a couple of other cute tricks

537
00:26:09,400 --> 00:26:13,120
we might be able to do and they came to

538
00:26:11,830 --> 00:26:17,949
the IETF and worked with some other

539
00:26:13,120 --> 00:26:23,229
folks and within about a year we had DNS

540
00:26:17,950 --> 00:26:25,150
over HTTPS for better or worse it does

541
00:26:23,230 --> 00:26:27,910
solve confidentiality for a

542
00:26:25,150 --> 00:26:30,220
point-to-point link obviously again it

543
00:26:27,910 --> 00:26:33,040
doesn't deal with the recursive to

544
00:26:30,220 --> 00:26:35,830
authoritative part of the path and there

545
00:26:33,040 --> 00:26:37,440
is work in the IETF on what it's been

546
00:26:35,830 --> 00:26:39,520
called a dot which is which is

547
00:26:37,440 --> 00:26:41,679
authoritative ie D

548
00:26:39,520 --> 00:26:45,850
from the recursive server to the

549
00:26:41,679 --> 00:26:47,970
authoritative server and there are some

550
00:26:45,850 --> 00:26:52,090
trade-offs there as well but at least

551
00:26:47,970 --> 00:26:54,970
the PII leakage of my house or my laptop

552
00:26:52,090 --> 00:26:57,428
or whatever and what I'm asking my

553
00:26:54,970 --> 00:27:01,570
recursive resolver for now can't be

554
00:26:57,429 --> 00:27:03,490
sniffed however it does not solve the

555
00:27:01,570 --> 00:27:08,909
end-to-end data integrity problem it is

556
00:27:03,490 --> 00:27:11,500
a point-to-point confidentiality and so

557
00:27:08,910 --> 00:27:13,720
another in the myths that several people

558
00:27:11,500 --> 00:27:15,309
have gone through is oh we finally we

559
00:27:13,720 --> 00:27:19,809
don't need DNS seconding workers we have

560
00:27:15,309 --> 00:27:22,540
Doh and dot and no they are a different

561
00:27:19,809 --> 00:27:24,910
problem and we need both and we should

562
00:27:22,540 --> 00:27:27,700
use both it shouldn't be a choice of one

563
00:27:24,910 --> 00:27:29,620
or the other they both have advantages

564
00:27:27,700 --> 00:27:31,890
and usability and then obviously

565
00:27:29,620 --> 00:27:34,959
availability it's the same it's you know

566
00:27:31,890 --> 00:27:36,250
DDoS we'll take out name servers and it

567
00:27:34,960 --> 00:27:37,990
doesn't matter whether it's encrypted or

568
00:27:36,250 --> 00:27:42,010
not if you can't get a packet you will

569
00:27:37,990 --> 00:27:44,679
not get an answer so a little bit about

570
00:27:42,010 --> 00:27:47,980
what several folks are doing in major

571
00:27:44,679 --> 00:27:52,300
initiatives the one that really started

572
00:27:47,980 --> 00:27:55,360
the the the flurry and the gloom and

573
00:27:52,300 --> 00:27:59,860
doom of dough is evil and oh my god the

574
00:27:55,360 --> 00:28:01,809
world is ending was mozilla because they

575
00:27:59,860 --> 00:28:05,740
they did two things that upset people

576
00:28:01,809 --> 00:28:08,740
that were not necessary or part of the

577
00:28:05,740 --> 00:28:11,260
protocol they are an implementation

578
00:28:08,740 --> 00:28:14,610
choice and the two things they did one

579
00:28:11,260 --> 00:28:17,440
of them was it was opt-out knowing that

580
00:28:14,610 --> 00:28:21,820
95% of all users will never touch

581
00:28:17,440 --> 00:28:23,980
anything that is not the default and so

582
00:28:21,820 --> 00:28:26,169
basically they guaranteed that everybody

583
00:28:23,980 --> 00:28:29,290
using Firefox with that release was

584
00:28:26,170 --> 00:28:33,340
going to be switching to doe and the

585
00:28:29,290 --> 00:28:35,409
second piece was they decided for us who

586
00:28:33,340 --> 00:28:39,850
that was going to be and they went with

587
00:28:35,410 --> 00:28:43,600
CloudFlare and of course Europe said you

588
00:28:39,850 --> 00:28:45,580
are now bypassing my ISP that in Europe

589
00:28:43,600 --> 00:28:49,629
we don't hate nearly as much as the u.s.

590
00:28:45,580 --> 00:28:52,240
hates their ISPs because a they've had a

591
00:28:49,630 --> 00:28:53,110
better relationship be they have gdpr

592
00:28:52,240 --> 00:28:56,559
for

593
00:28:53,110 --> 00:28:59,229
privacy and violations but now you're

594
00:28:56,559 --> 00:29:03,639
shipping it off to the US where a US

595
00:28:59,230 --> 00:29:08,530
warrant will expose my data without any

596
00:29:03,640 --> 00:29:11,140
GDP our protections whatsoever also

597
00:29:08,530 --> 00:29:14,410
scary is that it completely bypasses

598
00:29:11,140 --> 00:29:18,610
every thing in the OS so enterprises all

599
00:29:14,410 --> 00:29:20,380
said oh my god we we have group policies

600
00:29:18,610 --> 00:29:22,449
and ad and all this stuff to make sure

601
00:29:20,380 --> 00:29:24,850
that our users don't do anything bad

602
00:29:22,450 --> 00:29:27,010
with their browser and with their DNS

603
00:29:24,850 --> 00:29:29,740
and we have filtered DNS that works for

604
00:29:27,010 --> 00:29:33,160
us we like being able to block malware

605
00:29:29,740 --> 00:29:34,750
and botnet and command control and all

606
00:29:33,160 --> 00:29:36,130
the rest of it we feel that that's a

607
00:29:34,750 --> 00:29:40,299
good thing

608
00:29:36,130 --> 00:29:43,720
and so that that was the one that sort

609
00:29:40,299 --> 00:29:46,120
of got this to be so controversial they

610
00:29:43,720 --> 00:29:49,150
have somewhat slowed down one of them is

611
00:29:46,120 --> 00:29:52,629
they are now working feverishly to abide

612
00:29:49,150 --> 00:29:54,429
by group policy this does not help small

613
00:29:52,630 --> 00:29:56,350
and medium businesses where there is no

614
00:29:54,429 --> 00:29:58,000
IT staff and they have six people and

615
00:29:56,350 --> 00:29:59,918
they're all running Windows but they're

616
00:29:58,000 --> 00:30:04,570
running into them as unsecured with no

617
00:29:59,919 --> 00:30:06,640
ad unfortunately and for large ISPs and

618
00:30:04,570 --> 00:30:10,000
other folks they have what's being

619
00:30:06,640 --> 00:30:12,309
called a canary domain Firefox will fire

620
00:30:10,000 --> 00:30:14,740
up and it will check this domain and if

621
00:30:12,309 --> 00:30:16,629
it gets an answer we'll go oh you don't

622
00:30:14,740 --> 00:30:21,250
want us to use doe I will turn it back

623
00:30:16,630 --> 00:30:24,790
off we'll see if they say somewhat more

624
00:30:21,250 --> 00:30:26,860
soft in their stance the next two I

625
00:30:24,790 --> 00:30:28,629
think did a more nuanced an incremental

626
00:30:26,860 --> 00:30:31,000
upgrade and I think that that's probably

627
00:30:28,630 --> 00:30:34,360
a better path and hopefully Mozilla will

628
00:30:31,000 --> 00:30:36,130
start going through Google originally

629
00:30:34,360 --> 00:30:37,360
also was like over yeah we're gonna put

630
00:30:36,130 --> 00:30:38,890
in Chrome and we're gonna throw it out

631
00:30:37,360 --> 00:30:41,409
in release and then we're gonna turn it

632
00:30:38,890 --> 00:30:45,910
on you know I think it was October of

633
00:30:41,410 --> 00:30:47,980
last year and the world said Google's

634
00:30:45,910 --> 00:30:51,070
even more evil than Mozilla and

635
00:30:47,980 --> 00:30:52,840
CloudFlare this is horrible and then of

636
00:30:51,070 --> 00:30:55,809
course the Wall Street Journal started

637
00:30:52,840 --> 00:30:58,330
blaming them and they were somewhat

638
00:30:55,809 --> 00:30:59,980
surprised and they sort of went oh okay

639
00:30:58,330 --> 00:31:01,418
so the first thing I did was they said

640
00:30:59,980 --> 00:31:02,800
let's make it opt-in if you don't turn

641
00:31:01,419 --> 00:31:05,420
it on you don't get it

642
00:31:02,800 --> 00:31:08,389
and then the

643
00:31:05,420 --> 00:31:10,600
said also we don't mind dot you know we

644
00:31:08,390 --> 00:31:13,250
were already supporting dot in Android

645
00:31:10,600 --> 00:31:13,850
so we're just gonna do an auto discover

646
00:31:13,250 --> 00:31:17,510
ourselves

647
00:31:13,850 --> 00:31:20,030
there's no RFC for how to order to

648
00:31:17,510 --> 00:31:22,670
discover what protocol support there is

649
00:31:20,030 --> 00:31:25,490
with your recursive server what what

650
00:31:22,670 --> 00:31:27,560
encryption if any it will support but

651
00:31:25,490 --> 00:31:27,980
they say hey we'll just do it's been

652
00:31:27,560 --> 00:31:30,950
done

653
00:31:27,980 --> 00:31:33,260
you know DHCP and or Ras will tell us

654
00:31:30,950 --> 00:31:35,270
what our DNS servers are and we'll get

655
00:31:33,260 --> 00:31:38,270
IP addresses now we'll just try it and

656
00:31:35,270 --> 00:31:40,790
if doe works will switch to doing dough

657
00:31:38,270 --> 00:31:43,850
and if dot works we'll switch using dot

658
00:31:40,790 --> 00:31:46,040
and if not we'll do it in the clear and

659
00:31:43,850 --> 00:31:49,669
I think that that incrementally is a

660
00:31:46,040 --> 00:31:51,379
much more sane way of doing it and it's

661
00:31:49,670 --> 00:31:52,750
somewhat less of a surprise to everyone

662
00:31:51,380 --> 00:31:57,050
involved

663
00:31:52,750 --> 00:32:00,410
Microsoft also one of the other

664
00:31:57,050 --> 00:32:03,169
objections was I hate controlled the OS

665
00:32:00,410 --> 00:32:06,620
but this application isn't following the

666
00:32:03,170 --> 00:32:08,690
rules so Microsoft said well ok

667
00:32:06,620 --> 00:32:10,699
we also think encryption and privacy is

668
00:32:08,690 --> 00:32:12,260
a good thing and we think that having

669
00:32:10,700 --> 00:32:14,470
that option for our customers is

670
00:32:12,260 --> 00:32:17,480
something that they should be able to do

671
00:32:14,470 --> 00:32:20,510
but they should be able to do it for

672
00:32:17,480 --> 00:32:22,430
everything in one place with the dialog

673
00:32:20,510 --> 00:32:24,020
box that turns it on or off in the same

674
00:32:22,430 --> 00:32:27,940
section with the privacy settings that

675
00:32:24,020 --> 00:32:30,620
they already have for other things and

676
00:32:27,940 --> 00:32:33,260
their version of Chrome will just follow

677
00:32:30,620 --> 00:32:35,120
the rules so they are doing

678
00:32:33,260 --> 00:32:38,210
opportunistic though as well they will

679
00:32:35,120 --> 00:32:41,780
see if it's available and they will have

680
00:32:38,210 --> 00:32:45,020
some lists also short term of trusted

681
00:32:41,780 --> 00:32:51,470
providers and then the stub resolver in

682
00:32:45,020 --> 00:32:56,629
the OS will just use it so if you are in

683
00:32:51,470 --> 00:33:00,830
a company enterprise network ISP and you

684
00:32:56,630 --> 00:33:04,040
either don't want to lose access to the

685
00:33:00,830 --> 00:33:05,870
DNS data for debugging or or

686
00:33:04,040 --> 00:33:11,870
troubleshooting purposes or security

687
00:33:05,870 --> 00:33:13,550
purposes if you don't want to lose the

688
00:33:11,870 --> 00:33:15,709
ability to give customers filtered feed

689
00:33:13,550 --> 00:33:18,159
when they opt in parental controls

690
00:33:15,710 --> 00:33:21,010
malware blocking the rest of it

691
00:33:18,160 --> 00:33:23,200
or if you simply are at a place where

692
00:33:21,010 --> 00:33:26,580
you want to be able to catch the NSX

693
00:33:23,200 --> 00:33:28,720
filtration and tunneling over DNS the

694
00:33:26,580 --> 00:33:31,960
odds are what you should really be doing

695
00:33:28,720 --> 00:33:34,660
is is most returning Li obviously for

696
00:33:31,960 --> 00:33:38,370
Mozilla setup the canary domain in your

697
00:33:34,660 --> 00:33:40,900
DNS servers and for everything else

698
00:33:38,370 --> 00:33:42,939
simply enable dot Indo on the same ip

699
00:33:40,900 --> 00:33:46,830
addresses you're already handing out for

700
00:33:42,940 --> 00:33:49,440
traditional I would make the case that

701
00:33:46,830 --> 00:33:52,570
encrypted within the enterprise and

702
00:33:49,440 --> 00:33:56,680
visible only by IP who has access to the

703
00:33:52,570 --> 00:33:58,780
DNS server is a feature anyway I do SSH

704
00:33:56,680 --> 00:34:02,110
tunnels in my home and don't trust that

705
00:33:58,780 --> 00:34:03,610
my network is in any way safer clear and

706
00:34:02,110 --> 00:34:06,389
I I think there's an awful lot of

707
00:34:03,610 --> 00:34:09,699
security professionals would do the same

708
00:34:06,390 --> 00:34:12,520
all right so that's sort of the

709
00:34:09,699 --> 00:34:14,969
landscape what I'd like to do now is get

710
00:34:12,520 --> 00:34:17,440
feedback and questions from you guys

711
00:34:14,969 --> 00:34:19,870
yeah and so there are microphones there

712
00:34:17,440 --> 00:34:21,700
and they're that way they can get it

713
00:34:19,870 --> 00:34:25,569
into the recording there right behind

714
00:34:21,699 --> 00:34:28,080
you yeah and and the normal nanog state

715
00:34:25,570 --> 00:34:28,080
who you are

716
00:34:29,620 --> 00:34:37,270
David Belson with I sock for Chrome are

717
00:34:33,340 --> 00:34:39,280
sorry for Google is the dough enablement

718
00:34:37,270 --> 00:34:42,310
or the dough checking is that only an

719
00:34:39,280 --> 00:34:45,010
Android or is that also in Chrome for

720
00:34:42,310 --> 00:34:46,630
Mac OS and Windows currently my

721
00:34:45,010 --> 00:34:49,660
understanding is that is Android only

722
00:34:46,630 --> 00:34:52,240
okay then add the OSS right currently

723
00:34:49,659 --> 00:35:07,170
the browser is going to be doing just

724
00:34:52,239 --> 00:35:11,740
dope I Brian fields Nokia

725
00:35:07,170 --> 00:35:14,440
so my question about dough sorry that

726
00:35:11,740 --> 00:35:15,850
goes messing with my head ah my question

727
00:35:14,440 --> 00:35:21,010
about dough is doesn't that just move

728
00:35:15,850 --> 00:35:23,080
the potential for like my instead of my

729
00:35:21,010 --> 00:35:25,260
ISP being able to essentially spy on me

730
00:35:23,080 --> 00:35:28,930
doesn't it just move it to like

731
00:35:25,260 --> 00:35:31,000
CloudFlare or somebody so does that

732
00:35:28,930 --> 00:35:31,480
really solve the problem I mean I

733
00:35:31,000 --> 00:35:33,340
underst

734
00:35:31,480 --> 00:35:37,330
we trust CloudFlare maybe more than

735
00:35:33,340 --> 00:35:38,830
Comcast but you know there's a lot of

736
00:35:37,330 --> 00:35:41,230
companies that started out and said well

737
00:35:38,830 --> 00:35:45,790
we're not going to be evil and there are

738
00:35:41,230 --> 00:35:49,590
a little evil now yes indeed and and yes

739
00:35:45,790 --> 00:35:53,710
it's essentially who do you distrust

740
00:35:49,590 --> 00:35:55,690
will inform your choice because there's

741
00:35:53,710 --> 00:35:58,270
presumably someone you are more scared

742
00:35:55,690 --> 00:36:01,150
of having access to that data I think

743
00:35:58,270 --> 00:36:03,759
these days the reality is is even with

744
00:36:01,150 --> 00:36:05,590
the trusted resolver the TRR that

745
00:36:03,760 --> 00:36:08,590
mozilla is doing in the cloud floor has

746
00:36:05,590 --> 00:36:11,080
contractually agreed to of the we won't

747
00:36:08,590 --> 00:36:12,580
resell it we'll throw it out after a 24

748
00:36:11,080 --> 00:36:17,410
hours all the rest of it but they still

749
00:36:12,580 --> 00:36:19,990
look at it for 24 hours and we are in in

750
00:36:17,410 --> 00:36:24,850
a state where Amazon probably knows more

751
00:36:19,990 --> 00:36:28,629
about me than any friend or relative

752
00:36:24,850 --> 00:36:31,569
does just due to my Amazon purchasing

753
00:36:28,630 --> 00:36:33,910
habits and browsing habits and so to

754
00:36:31,570 --> 00:36:37,330
some degree we have long since lost our

755
00:36:33,910 --> 00:36:40,029
ability to truly have privacy so what it

756
00:36:37,330 --> 00:36:42,340
really boils down to what is the most

757
00:36:40,030 --> 00:36:44,350
egregious thing to you so if government

758
00:36:42,340 --> 00:36:46,300
surveillance is it I think you're really

759
00:36:44,350 --> 00:36:48,910
screwed in the VPN is probably a much

760
00:36:46,300 --> 00:36:51,700
more usable solution than merely DNS

761
00:36:48,910 --> 00:36:55,540
anyway but if what you're more concerned

762
00:36:51,700 --> 00:36:58,569
about is just feeding the admah that we

763
00:36:55,540 --> 00:37:00,820
are creating and and B the ad capitalism

764
00:36:58,570 --> 00:37:03,790
that we have unfortunately allowed to

765
00:37:00,820 --> 00:37:05,140
flourish this at least slows it down and

766
00:37:03,790 --> 00:37:08,410
makes it more painful and more expensive

767
00:37:05,140 --> 00:37:10,240
so yeah much in the same way that we

768
00:37:08,410 --> 00:37:11,319
only get to vote for whoever managed to

769
00:37:10,240 --> 00:37:12,609
get through the primaries we don't

770
00:37:11,320 --> 00:37:18,609
really get to vote for who we actually

771
00:37:12,609 --> 00:37:20,859
want yeah I tale actually kind of

772
00:37:18,609 --> 00:37:23,560
surprised so ITF co-chair the DOE

773
00:37:20,859 --> 00:37:25,600
working group one of the things I'm

774
00:37:23,560 --> 00:37:26,710
surprised that Paul said the first I'm

775
00:37:25,600 --> 00:37:28,210
not surprised you said the first time

776
00:37:26,710 --> 00:37:30,430
I'm surprised he didn't just emphasize

777
00:37:28,210 --> 00:37:32,050
it again and his answer is there's

778
00:37:30,430 --> 00:37:33,759
nothing in the DOE specification that

779
00:37:32,050 --> 00:37:37,000
says you have to have centralized DNS

780
00:37:33,760 --> 00:37:39,580
correct this was a major issue with with

781
00:37:37,000 --> 00:37:41,470
the Firefox deployment because this was

782
00:37:39,580 --> 00:37:43,390
a design decision that they made to take

783
00:37:41,470 --> 00:37:45,129
this particular tactic and there

784
00:37:43,390 --> 00:37:47,558
in fact many other doe deployments

785
00:37:45,130 --> 00:37:50,200
including within major telecoms and ISPs

786
00:37:47,559 --> 00:37:52,119
to have a local tow resolver that is

787
00:37:50,200 --> 00:37:54,549
acceptably no different than using their

788
00:37:52,119 --> 00:37:56,440
current DNS resolver except now there's

789
00:37:54,549 --> 00:37:58,630
an encrypted channel within their

790
00:37:56,440 --> 00:38:00,519
network to that resolver yes thank you

791
00:37:58,630 --> 00:38:04,170
and that's that's why I repeated several

792
00:38:00,519 --> 00:38:07,479
times about why I thought that the

793
00:38:04,170 --> 00:38:09,069
Google and Microsoft approach which is

794
00:38:07,480 --> 00:38:10,809
you're not changing who you have the

795
00:38:09,069 --> 00:38:12,759
relationship with you're merely changing

796
00:38:10,809 --> 00:38:15,609
the transport is a much better

797
00:38:12,760 --> 00:38:17,559
incremental step and as a follow-on to

798
00:38:15,609 --> 00:38:19,359
that the ITF is currently in the process

799
00:38:17,559 --> 00:38:22,140
of trying to charter a new working group

800
00:38:19,359 --> 00:38:25,808
the adaptive DNS discovery working group

801
00:38:22,140 --> 00:38:30,788
where we will be co-chairing presumably

802
00:38:25,809 --> 00:38:33,279
once the iesg approves it where it is

803
00:38:30,789 --> 00:38:34,960
one of the the main work products that's

804
00:38:33,279 --> 00:38:37,990
intended from the working group is that

805
00:38:34,960 --> 00:38:40,630
we will have your a client resolver a

806
00:38:37,990 --> 00:38:42,490
client itself will be better able to

807
00:38:40,630 --> 00:38:44,440
understand this the resolver environment

808
00:38:42,490 --> 00:38:46,359
that it's in and make an informed choice

809
00:38:44,440 --> 00:38:48,400
about the kind of resolver it wants to

810
00:38:46,359 --> 00:38:50,680
talk to which would possibly be talking

811
00:38:48,400 --> 00:38:52,869
to a centralized tow server but could

812
00:38:50,680 --> 00:38:54,819
also then presumably be talking to local

813
00:38:52,869 --> 00:38:56,170
and cryptid servers for example yes and

814
00:38:54,819 --> 00:38:58,829
and in the slide deck in the further

815
00:38:56,170 --> 00:39:01,630
reading here are the current active

816
00:38:58,829 --> 00:39:04,779
working or mailing list groups dealing

817
00:39:01,630 --> 00:39:07,750
with all of this and we are very

818
00:39:04,779 --> 00:39:10,240
actively adding things as well a small

819
00:39:07,750 --> 00:39:13,869
correction to that however Eddy is not a

820
00:39:10,240 --> 00:39:15,879
ITF activity that is correct Eddy EDD is

821
00:39:13,869 --> 00:39:17,230
a separate independent activity in fact

822
00:39:15,880 --> 00:39:20,079
good straight Magnus what I came up here

823
00:39:17,230 --> 00:39:23,109
to say that there's a initiative for

824
00:39:20,079 --> 00:39:26,829
encrypted deployment initiative of how

825
00:39:23,109 --> 00:39:29,920
to get it right if you go to encrypted -

826
00:39:26,829 --> 00:39:32,140
and I know we hate dashes and names but

827
00:39:29,920 --> 00:39:33,640
yes go grab the hot link on EDI will

828
00:39:32,140 --> 00:39:35,140
take you to that website and allow you

829
00:39:33,640 --> 00:39:38,259
to do the mailing list and the rest

830
00:39:35,140 --> 00:39:39,640
right and so if you're just said I'm

831
00:39:38,259 --> 00:39:41,170
Glenn deed from Comcast

832
00:39:39,640 --> 00:39:42,940
this was initiative that we pulled

833
00:39:41,170 --> 00:39:44,410
together but it's made up of a lot of

834
00:39:42,940 --> 00:39:48,700
participants from across the industry

835
00:39:44,410 --> 00:39:50,769
the goal of Adi is to bring together a

836
00:39:48,700 --> 00:39:53,078
community of people who are interested

837
00:39:50,769 --> 00:39:56,140
in successfully deploying encrypted DNS

838
00:39:53,079 --> 00:39:57,320
whether it's doe or dot we don't play

839
00:39:56,140 --> 00:39:58,640
favorites

840
00:39:57,320 --> 00:40:01,820
but and do it successfully without

841
00:39:58,640 --> 00:40:04,430
breaking all the uses of DMS some which

842
00:40:01,820 --> 00:40:06,320
Paul talked about already and they go

843
00:40:04,430 --> 00:40:10,339
deep and we've been we've been clever

844
00:40:06,320 --> 00:40:12,619
for 30 years and using the DNS and the

845
00:40:10,340 --> 00:40:16,010
goal here now is to deploy encrypted DNS

846
00:40:12,619 --> 00:40:17,180
without breaking all that stuff yes so

847
00:40:16,010 --> 00:40:19,280
if you like to be part of that go to

848
00:40:17,180 --> 00:40:21,710
that website sign up it's free it's open

849
00:40:19,280 --> 00:40:24,290
its public we would very much welcome

850
00:40:21,710 --> 00:40:26,630
participation yes and some of the

851
00:40:24,290 --> 00:40:29,529
followings with that the odds of having

852
00:40:26,630 --> 00:40:31,730
DNS over quick and other transport are

853
00:40:29,530 --> 00:40:33,530
likely and are certainly going to as

854
00:40:31,730 --> 00:40:40,130
well be addressed in this particular

855
00:40:33,530 --> 00:40:42,560
initiative so I am a DNS user not a DNS

856
00:40:40,130 --> 00:40:45,500
administrator and you mentioned a couple

857
00:40:42,560 --> 00:40:46,940
of times that Android tends to do things

858
00:40:45,500 --> 00:40:51,110
differently I was wondering if you could

859
00:40:46,940 --> 00:40:54,160
expound upon that a little bit so your

860
00:40:51,110 --> 00:40:57,680
phone just like any other device uses

861
00:40:54,160 --> 00:41:00,560
both router advertisements and v6 and

862
00:40:57,680 --> 00:41:03,049
DHCP in possibly v6 and certainly in

863
00:41:00,560 --> 00:41:06,740
before to get its address its gateway

864
00:41:03,050 --> 00:41:10,250
and who its DNS servers are what Android

865
00:41:06,740 --> 00:41:14,149
does is once it gets that DNS server

866
00:41:10,250 --> 00:41:18,380
address it will then see whether that IP

867
00:41:14,150 --> 00:41:21,350
address works with dot and if it does it

868
00:41:18,380 --> 00:41:23,210
will use do T for all of its DNS queries

869
00:41:21,350 --> 00:41:28,160
if it does not it will fall back to a

870
00:41:23,210 --> 00:41:31,160
traditional unencrypted UDP and yeah so

871
00:41:28,160 --> 00:41:34,520
it's very interesting if you stand up a

872
00:41:31,160 --> 00:41:37,279
d-o-t server you will instantly know how

873
00:41:34,520 --> 00:41:39,500
many Android devices you have because

874
00:41:37,280 --> 00:41:43,270
that's suddenly how many new clients you

875
00:41:39,500 --> 00:41:43,270
have using that particular port

876
00:41:45,130 --> 00:41:58,270
other questions comments alright so yeah

877
00:41:55,430 --> 00:42:01,730
there are some further reading things

878
00:41:58,270 --> 00:42:03,440
yes III did ITF an email list I should

879
00:42:01,730 --> 00:42:07,790
have made it more obvious that they were

880
00:42:03,440 --> 00:42:09,230
separate things sorry Glen and but yes

881
00:42:07,790 --> 00:42:11,750
these are all the places where stuff is

882
00:42:09,230 --> 00:42:14,060
starting and as more things spin out if

883
00:42:11,750 --> 00:42:15,980
you're on those mailing lists you will

884
00:42:14,060 --> 00:42:19,910
have already heard about some of those

885
00:42:15,980 --> 00:42:22,280
there's another initiative that Steve

886
00:42:19,910 --> 00:42:24,170
Crocker is pushing DNS X provisioning

887
00:42:22,280 --> 00:42:26,359
which is the how are we going to

888
00:42:24,170 --> 00:42:29,270
potentially automate getting DSS into

889
00:42:26,359 --> 00:42:31,009
the parent in a more consistent fashion

890
00:42:29,270 --> 00:42:34,190
all of those are mentioned in these

891
00:42:31,010 --> 00:42:36,440
mailing lists and then you have some

892
00:42:34,190 --> 00:42:37,970
other rfcs and drafts that I think that

893
00:42:36,440 --> 00:42:40,970
if you're trying to figure out what the

894
00:42:37,970 --> 00:42:45,649
space is they're they're worth oh we

895
00:42:40,970 --> 00:42:48,680
need as well all right and if that's it

896
00:42:45,650 --> 00:42:52,300
then now let's see what Casey has to say

897
00:42:48,680 --> 00:42:52,299
and thank you very much

