1
00:00:00,979 --> 00:00:05,940
so welcome<font color="#CCCCCC"> my name</font><font color="#E5E5E5"> is Joseph</font><font color="#CCCCCC"> or celli I</font>

2
00:00:04,259 --> 00:00:08,069
work for Juniper Networks I'm<font color="#E5E5E5"> the</font>

3
00:00:05,940 --> 00:00:09,840
<font color="#E5E5E5">education services department so being a</font>

4
00:00:08,069 --> 00:00:11,160
trainer I'm used<font color="#CCCCCC"> to roaming the floor</font>

5
00:00:09,840 --> 00:00:12,990
around<font color="#CCCCCC"> my classroom</font><font color="#E5E5E5"> so now that I'm</font>

6
00:00:11,160 --> 00:00:15,059
stuck behind a podium<font color="#CCCCCC"> it'll be a little</font>

7
00:00:12,990 --> 00:00:15,830
<font color="#CCCCCC">bit</font><font color="#E5E5E5"> different today but you know we'll</font>

8
00:00:15,059 --> 00:00:19,710
make it<font color="#E5E5E5"> work</font>

9
00:00:15,830 --> 00:00:21,840
this is a tutorial<font color="#E5E5E5"> for MPLS it is an</font>

10
00:00:19,710 --> 00:00:23,400
introduction<font color="#CCCCCC"> so we are going</font><font color="#E5E5E5"> to start at</font>

11
00:00:21,840 --> 00:00:25,439
the basic level<font color="#CCCCCC"> we're</font><font color="#E5E5E5"> not going to</font>

12
00:00:23,400 --> 00:00:28,288
really talk<font color="#CCCCCC"> about</font><font color="#E5E5E5"> maybe the history of</font>

13
00:00:25,439 --> 00:00:29,939
why we're<font color="#E5E5E5"> using it or why we got there</font>

14
00:00:28,289 --> 00:00:32,160
<font color="#CCCCCC">although I am a big history guy we're</font>

15
00:00:29,939 --> 00:00:33,120
not<font color="#E5E5E5"> gonna really delve into that will</font>

16
00:00:32,159 --> 00:00:35,160
cover basics and<font color="#E5E5E5"> a little bit</font>

17
00:00:33,120 --> 00:00:38,550
intermediate stuff<font color="#E5E5E5"> this is such a broad</font>

18
00:00:35,160 --> 00:00:41,519
<font color="#CCCCCC">topic</font><font color="#E5E5E5"> I've kind of focused in</font><font color="#CCCCCC"> on a</font>

19
00:00:38,550 --> 00:00:43,649
section<font color="#E5E5E5"> on plucking about part</font>

20
00:00:41,520 --> 00:00:45,450
manipulable<font color="#E5E5E5"> and things of that sort</font>

21
00:00:43,649 --> 00:00:47,969
<font color="#E5E5E5">but I got a section RSVP</font><font color="#CCCCCC"> I got section</font>

22
00:00:45,450 --> 00:00:50,760
on<font color="#CCCCCC"> LDP so got kind</font><font color="#E5E5E5"> of three pieces of to</font>

23
00:00:47,969 --> 00:00:52,320
play with here<font color="#CCCCCC"> the first thing</font><font color="#E5E5E5"> to get</font>

24
00:00:50,760 --> 00:00:53,660
out<font color="#E5E5E5"> of the way is everything in here</font><font color="#CCCCCC"> is</font>

25
00:00:52,320 --> 00:00:56,780
<font color="#E5E5E5">out of my brain for better for worse</font>

26
00:00:53,660 --> 00:00:59,578
hopefully it's better and not worse but

27
00:00:56,780 --> 00:01:01,620
<font color="#E5E5E5">it is out of my head</font><font color="#CCCCCC"> and please</font><font color="#E5E5E5"> ask</font>

28
00:00:59,579 --> 00:01:03,300
questions<font color="#CCCCCC"> okay being a being</font><font color="#E5E5E5"> a trainer</font>

29
00:01:01,620 --> 00:01:04,229
<font color="#CCCCCC">if you don't know something</font><font color="#E5E5E5"> just flag it</font>

30
00:01:03,300 --> 00:01:07,590
down<font color="#CCCCCC"> hey you</font>

31
00:01:04,229 --> 00:01:10,439
whatever<font color="#E5E5E5"> I'll be happy</font><font color="#CCCCCC"> to stop and clear</font>

32
00:01:07,590 --> 00:01:14,960
up any<font color="#E5E5E5"> misunderstandings so with that</font>

33
00:01:10,439 --> 00:01:17,189
out of the way pardon me

34
00:01:14,960 --> 00:01:21,960
what<font color="#E5E5E5"> does MPLS multi-protocol label</font>

35
00:01:17,189 --> 00:01:24,210
switching<font color="#CCCCCC"> kind</font><font color="#E5E5E5"> of at its core that</font><font color="#CCCCCC"> the</font>

36
00:01:21,960 --> 00:01:27,780
paradigm is<font color="#E5E5E5"> you're forwarding data</font>

37
00:01:24,210 --> 00:01:29,820
traffic<font color="#CCCCCC"> be IP or other protocols</font><font color="#E5E5E5"> based</font>

38
00:01:27,780 --> 00:01:37,340
on a fixed size header<font color="#E5E5E5"> okay in our case</font>

39
00:01:29,820 --> 00:01:40,258
<font color="#E5E5E5">the 32 byte sorry 32 44 bytes 32 bits</font>

40
00:01:37,340 --> 00:01:43,530
<font color="#E5E5E5">MPLS header</font><font color="#CCCCCC"> okay could be one could be</font>

41
00:01:40,259 --> 00:01:44,939
multiples but<font color="#CCCCCC"> attains a label value yeah</font>

42
00:01:43,530 --> 00:01:47,610
you guys<font color="#CCCCCC"> can hear me when I stand</font><font color="#E5E5E5"> back</font>

43
00:01:44,939 --> 00:01:50,250
like this<font color="#E5E5E5"> can you you can't okay</font><font color="#CCCCCC"> well</font>

44
00:01:47,610 --> 00:01:52,170
you can't cuz you're standing I guess

45
00:01:50,250 --> 00:01:54,119
I'll stay<font color="#CCCCCC"> close</font>

46
00:01:52,170 --> 00:01:56,040
<font color="#E5E5E5">continue label value and we're having</font>

47
00:01:54,119 --> 00:01:57,930
switching tables<font color="#E5E5E5"> okay</font><font color="#CCCCCC"> so very analogous</font>

48
00:01:56,040 --> 00:02:01,979
to<font color="#CCCCCC"> kawan</font><font color="#E5E5E5"> ATM is</font><font color="#CCCCCC"> right you're switching</font>

49
00:01:57,930 --> 00:02:03,450
tables you have label values<font color="#E5E5E5"> hey a theme</font>

50
00:02:01,979 --> 00:02:07,170
has this place I'm not<font color="#CCCCCC"> a big proponent</font>

51
00:02:03,450 --> 00:02:08,489
but you know<font color="#E5E5E5"> has its place so it draws a</font>

52
00:02:07,170 --> 00:02:11,340
<font color="#E5E5E5">lot of parallels</font><font color="#CCCCCC"> because of this</font><font color="#E5E5E5"> label</font>

53
00:02:08,489 --> 00:02:14,610
switching paradigm and

54
00:02:11,340 --> 00:02:17,069
you know there are pieces of<font color="#CCCCCC"> MPLS</font><font color="#E5E5E5"> which</font>

55
00:02:14,610 --> 00:02:19,650
very closely parallel the ATM world

56
00:02:17,069 --> 00:02:21,750
<font color="#CCCCCC">alright</font><font color="#E5E5E5"> and we were building overlay</font>

57
00:02:19,650 --> 00:02:23,480
networks<font color="#E5E5E5"> right</font><font color="#CCCCCC"> layer 3 over layer 2 we</font>

58
00:02:21,750 --> 00:02:26,250
have this huge ATM switch<font color="#CCCCCC"> network</font>

59
00:02:23,480 --> 00:02:27,329
we're<font color="#E5E5E5"> bolded VCS right radda radda</font>

60
00:02:26,250 --> 00:02:29,220
these point-to-point links from<font color="#E5E5E5"> the</font>

61
00:02:27,330 --> 00:02:32,340
perspective<font color="#E5E5E5"> of a router IP address</font>

62
00:02:29,220 --> 00:02:33,840
<font color="#CCCCCC">riding protocols etc but underneath that</font>

63
00:02:32,340 --> 00:02:35,700
<font color="#CCCCCC">the actual physical transport running</font>

64
00:02:33,840 --> 00:02:38,519
<font color="#E5E5E5">overly the switch</font><font color="#CCCCCC"> network</font><font color="#E5E5E5"> you had</font>

65
00:02:35,700 --> 00:02:41,310
traffic<font color="#E5E5E5"> engineering</font><font color="#CCCCCC"> capabilities at the</font>

66
00:02:38,519 --> 00:02:43,620
<font color="#CCCCCC">vc</font><font color="#E5E5E5"> level</font><font color="#CCCCCC"> ok so if a</font><font color="#E5E5E5"> certain link in</font><font color="#CCCCCC"> your</font>

67
00:02:41,310 --> 00:02:47,579
ATM network was over congested you can

68
00:02:43,620 --> 00:02:48,720
move certain<font color="#CCCCCC"> pcs to other places so that</font>

69
00:02:47,579 --> 00:02:49,680
was kind<font color="#CCCCCC"> of you</font><font color="#E5E5E5"> know a good way to do</font>

70
00:02:48,720 --> 00:02:51,480
<font color="#E5E5E5">traffic engineering except from the</font>

71
00:02:49,680 --> 00:02:53,549
routers perspective<font color="#E5E5E5"> it's</font><font color="#CCCCCC"> still</font>

72
00:02:51,480 --> 00:02:56,099
point-to-point link<font color="#CCCCCC"> ok and for</font>

73
00:02:53,549 --> 00:02:57,840
granularity perspective everything as

74
00:02:56,099 --> 00:02:59,578
the next<font color="#CCCCCC"> hop of the router on the other</font>

75
00:02:57,840 --> 00:03:02,730
side<font color="#E5E5E5"> of point-to-point link went across</font>

76
00:02:59,579 --> 00:03:04,560
that<font color="#CCCCCC"> vc</font><font color="#E5E5E5"> okay so could be one subnet</font>

77
00:03:02,730 --> 00:03:05,548
could be<font color="#E5E5E5"> thousands of subnets</font><font color="#CCCCCC"> okay</font>

78
00:03:04,560 --> 00:03:08,849
everything was going along<font color="#E5E5E5"> that</font><font color="#CCCCCC"> same</font>

79
00:03:05,549 --> 00:03:11,700
<font color="#E5E5E5">channel the other useful thing about</font>

80
00:03:08,849 --> 00:03:14,790
doing<font color="#E5E5E5"> the overlay was that we had</font>

81
00:03:11,700 --> 00:03:16,858
statistics<font color="#CCCCCC"> we could pull out the VCS ok</font>

82
00:03:14,790 --> 00:03:18,780
<font color="#E5E5E5">now granted again you</font><font color="#CCCCCC"> don't know</font><font color="#E5E5E5"> for</font>

83
00:03:16,859 --> 00:03:20,400
granularity perspective what<font color="#E5E5E5"> exactly</font>

84
00:03:18,780 --> 00:03:22,260
<font color="#CCCCCC">prefixes less you were sniffing you're</font>

85
00:03:20,400 --> 00:03:24,150
doing some<font color="#E5E5E5"> other monitoring but you had</font>

86
00:03:22,260 --> 00:03:25,470
stats<font color="#E5E5E5"> to</font><font color="#CCCCCC"> pause the BC so these were good</font>

87
00:03:24,150 --> 00:03:29,970
<font color="#E5E5E5">things that we liked</font><font color="#CCCCCC"> that we wanted</font><font color="#E5E5E5"> to</font>

88
00:03:25,470 --> 00:03:32,519
keep moving forward<font color="#CCCCCC"> to MPLS so in that</font>

89
00:03:29,970 --> 00:03:34,620
perspective<font color="#CCCCCC"> a lot of times you can call</font>

90
00:03:32,519 --> 00:03:37,620
a connection MPLS connection and<font color="#E5E5E5"> LSB</font><font color="#CCCCCC"> as</font>

91
00:03:34,620 --> 00:03:39,480
a virtual circuit<font color="#CCCCCC"> ok it is basically the</font>

92
00:03:37,620 --> 00:03:41,130
<font color="#E5E5E5">same thing except</font><font color="#CCCCCC"> now we have more</font>

93
00:03:39,480 --> 00:03:45,328
granularity we can<font color="#CCCCCC"> actually map an</font>

94
00:03:41,130 --> 00:03:47,400
individual<font color="#E5E5E5"> IP prefix to a single MPLS</font>

95
00:03:45,329 --> 00:03:48,560
connection<font color="#E5E5E5"> ok so instead of having all</font>

96
00:03:47,400 --> 00:03:51,959
the prefix between me and my

97
00:03:48,560 --> 00:03:54,630
<font color="#E5E5E5">point-to-point buddy now on a per prefix</font>

98
00:03:51,959 --> 00:03:57,510
basis I<font color="#CCCCCC"> had the</font><font color="#E5E5E5"> ability to send</font><font color="#CCCCCC"> traffic</font>

99
00:03:54,630 --> 00:03:58,889
into this<font color="#E5E5E5"> virtual connection</font><font color="#CCCCCC"> ok I can go</font>

100
00:03:57,510 --> 00:04:00,679
to or router next door to me go<font color="#E5E5E5"> to a</font>

101
00:03:58,889 --> 00:04:03,299
<font color="#CCCCCC">write on</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> other side of the network</font>

102
00:04:00,680 --> 00:04:05,160
<font color="#CCCCCC">so we</font><font color="#E5E5E5"> had good things</font><font color="#CCCCCC"> there and as you</font>

103
00:04:03,299 --> 00:04:07,440
<font color="#CCCCCC">would expect we could pull statistics as</font>

104
00:04:05,160 --> 00:04:11,160
LS<font color="#CCCCCC"> B's</font><font color="#E5E5E5"> okay so we get that same good</font>

105
00:04:07,440 --> 00:04:14,849
stuff<font color="#E5E5E5"> now in MPLS the one big difference</font>

106
00:04:11,160 --> 00:04:17,099
<font color="#E5E5E5">is</font><font color="#CCCCCC"> in</font><font color="#E5E5E5"> ATM you have this bi-directional</font>

107
00:04:14,849 --> 00:04:19,620
thing by default okay well MPLS the

108
00:04:17,099 --> 00:04:21,690
connections are unidirectional<font color="#E5E5E5"> goes from</font>

109
00:04:19,620 --> 00:04:23,940
me to my partner

110
00:04:21,690 --> 00:04:26,460
if you want the same route back you need

111
00:04:23,940 --> 00:04:28,440
a<font color="#E5E5E5"> second</font><font color="#CCCCCC"> ed pls</font><font color="#E5E5E5"> connection</font><font color="#CCCCCC"> okay from</font>

112
00:04:26,460 --> 00:04:29,700
that<font color="#E5E5E5"> partner back to you they take the</font>

113
00:04:28,440 --> 00:04:32,670
<font color="#E5E5E5">same</font><font color="#CCCCCC"> settle inch can take different to</font>

114
00:04:29,700 --> 00:04:34,440
the<font color="#CCCCCC"> links doesn't really matter but if</font>

115
00:04:32,670 --> 00:04:36,510
you want that<font color="#E5E5E5"> symmetry you got to build</font>

116
00:04:34,440 --> 00:04:39,300
<font color="#E5E5E5">two connections okay so that is kind of</font>

117
00:04:36,510 --> 00:04:41,880
<font color="#E5E5E5">a big difference um and in fact what</font>

118
00:04:39,300 --> 00:04:45,470
we're doing is<font color="#E5E5E5"> building this tunnel okay</font>

119
00:04:41,880 --> 00:04:49,620
<font color="#E5E5E5">whatever prefix is you map to this IP</font>

120
00:04:45,470 --> 00:04:52,230
<font color="#E5E5E5">part me IP prefixes into this LSP into</font>

121
00:04:49,620 --> 00:04:53,220
this MPLS connection you're gonna be

122
00:04:52,230 --> 00:04:57,560
<font color="#E5E5E5">basically turning through the network</font>

123
00:04:53,220 --> 00:04:57,560
okay so those are got some good things

124
00:04:59,450 --> 00:05:05,789
<font color="#E5E5E5">traffic engineering it's another</font><font color="#CCCCCC"> aspect</font>

125
00:05:02,370 --> 00:05:08,490
of MPLS that we can do and we're<font color="#CCCCCC"> talking</font>

126
00:05:05,790 --> 00:05:10,620
about<font color="#E5E5E5"> here is the</font><font color="#CCCCCC"> ability to send</font><font color="#E5E5E5"> your</font>

127
00:05:08,490 --> 00:05:13,110
traffic along different paths<font color="#E5E5E5"> and the</font>

128
00:05:10,620 --> 00:05:15,210
network<font color="#E5E5E5"> then what your I GP would come</font>

129
00:05:13,110 --> 00:05:16,530
up<font color="#CCCCCC"> with okay or Beach</font><font color="#E5E5E5"> P for that matter</font>

130
00:05:15,210 --> 00:05:20,250
right<font color="#E5E5E5"> any of your regular routing</font>

131
00:05:16,530 --> 00:05:21,239
protocols so to<font color="#E5E5E5"> get from one edge of my</font>

132
00:05:20,250 --> 00:05:23,490
<font color="#E5E5E5">network to the</font><font color="#CCCCCC"> other edge of my network</font>

133
00:05:21,240 --> 00:05:24,720
<font color="#E5E5E5">instead of going</font><font color="#CCCCCC"> straight through</font><font color="#E5E5E5"> the</font>

134
00:05:23,490 --> 00:05:26,880
<font color="#E5E5E5">middle</font><font color="#CCCCCC"> maybe if that's the best metric</font>

135
00:05:24,720 --> 00:05:30,720
<font color="#E5E5E5">path I can take some windy path some</font>

136
00:05:26,880 --> 00:05:32,700
links<font color="#CCCCCC"> aren't normally used and hopefully</font>

137
00:05:30,720 --> 00:05:38,550
avoid some<font color="#E5E5E5"> congestion if that's your</font>

138
00:05:32,700 --> 00:05:40,460
goal<font color="#CCCCCC"> now the last two bullets here I'm</font>

139
00:05:38,550 --> 00:05:44,310
not really gonna get into<font color="#CCCCCC"> a lot of</font>

140
00:05:40,460 --> 00:05:47,849
details per se as to how to make this

141
00:05:44,310 --> 00:05:49,140
<font color="#E5E5E5">happen</font><font color="#CCCCCC"> okay but at some point one of</font><font color="#E5E5E5"> the</font>

142
00:05:47,850 --> 00:05:50,490
routers<font color="#CCCCCC"> in the network</font><font color="#E5E5E5"> typically the</font>

143
00:05:49,140 --> 00:05:51,750
start of the tunnel the start of the LSP

144
00:05:50,490 --> 00:05:55,800
<font color="#CCCCCC">he's gonna</font><font color="#E5E5E5"> have to make</font><font color="#CCCCCC"> a decision</font><font color="#E5E5E5"> as to</font>

145
00:05:51,750 --> 00:05:58,560
what prefix it belong down that LSP okay

146
00:05:55,800 --> 00:06:01,050
<font color="#E5E5E5">so you have this mapping of IQ prefixes</font>

147
00:05:58,560 --> 00:06:03,270
<font color="#E5E5E5">an</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> juniper box is by default</font><font color="#CCCCCC"> it's</font>

148
00:06:01,050 --> 00:06:05,130
<font color="#E5E5E5">bgp transit traffic okay your beats me</font>

149
00:06:03,270 --> 00:06:06,090
next top matches the other end of<font color="#E5E5E5"> your</font>

150
00:06:05,130 --> 00:06:09,090
connection that's<font color="#E5E5E5"> the we're gonna go</font>

151
00:06:06,090 --> 00:06:10,530
<font color="#E5E5E5">other vendors do it differently and</font>

152
00:06:09,090 --> 00:06:11,820
<font color="#E5E5E5">we're gonna talk we get to</font><font color="#CCCCCC"> LVP about</font>

153
00:06:10,530 --> 00:06:14,250
this forwarding equivalence<font color="#CCCCCC"> e-class or</font>

154
00:06:11,820 --> 00:06:16,080
effect and it's just like big fancy

155
00:06:14,250 --> 00:06:18,060
sounding term and in<font color="#CCCCCC"> reality</font><font color="#E5E5E5"> what we're</font>

156
00:06:16,080 --> 00:06:19,919
talking<font color="#E5E5E5"> about here is the transmission</font>

157
00:06:18,060 --> 00:06:22,080
of packets<font color="#E5E5E5"> through your network</font><font color="#CCCCCC"> that all</font>

158
00:06:19,919 --> 00:06:24,000
meet the same set of criteria<font color="#CCCCCC"> they're</font>

159
00:06:22,080 --> 00:06:26,490
all belong to<font color="#E5E5E5"> the same LSP maybe you're</font>

160
00:06:24,000 --> 00:06:28,710
doing some<font color="#E5E5E5"> sort</font><font color="#CCCCCC"> of class of service</font>

161
00:06:26,490 --> 00:06:30,630
things like that but you're gonna treat

162
00:06:28,710 --> 00:06:32,880
all the packets<font color="#CCCCCC"> the same inside this</font>

163
00:06:30,630 --> 00:06:35,130
connection<font color="#CCCCCC"> that's basically what a thick</font>

164
00:06:32,880 --> 00:06:35,490
is<font color="#E5E5E5"> right and we'll see we get to the</font>

165
00:06:35,130 --> 00:06:37,889
other

166
00:06:35,490 --> 00:06:41,330
section it's a<font color="#E5E5E5"> prefix okay it's a prefix</font>

167
00:06:37,889 --> 00:06:47,069
and<font color="#E5E5E5"> here's a label to get to that prefix</font>

168
00:06:41,330 --> 00:06:50,750
so label header okay we got four bytes

169
00:06:47,069 --> 00:06:53,370
so 32 bits<font color="#CCCCCC"> in this fixed length</font>

170
00:06:50,750 --> 00:06:55,889
like any good virtual circuit type

171
00:06:53,370 --> 00:06:58,800
technology it's locally significant<font color="#E5E5E5"> okay</font>

172
00:06:55,889 --> 00:07:01,620
so from<font color="#CCCCCC"> myself to my next-door</font><font color="#E5E5E5"> physical</font>

173
00:06:58,800 --> 00:07:03,509
router<font color="#E5E5E5"> the label value</font><font color="#CCCCCC"> exchange and use</font>

174
00:07:01,620 --> 00:07:05,460
on that<font color="#E5E5E5"> connection is gonna be between</font>

175
00:07:03,509 --> 00:07:06,840
<font color="#CCCCCC">the two</font><font color="#E5E5E5"> of us</font><font color="#CCCCCC"> and that's</font><font color="#E5E5E5"> it now the same</font>

176
00:07:05,460 --> 00:07:08,729
<font color="#E5E5E5">label value could be used on the next</font>

177
00:07:06,840 --> 00:07:10,919
link down right that's perfectly fine<font color="#CCCCCC"> so</font>

178
00:07:08,729 --> 00:07:15,620
<font color="#CCCCCC">this is</font><font color="#E5E5E5"> nothing really new from doing</font>

179
00:07:10,919 --> 00:07:15,620
<font color="#CCCCCC">ATM vp IVC</font><font color="#E5E5E5"> is or del C's for frame relay</font>

180
00:07:16,610 --> 00:07:20,370
usually they're<font color="#CCCCCC"> gonna change but again</font>

181
00:07:18,720 --> 00:07:23,280
they<font color="#CCCCCC"> don't</font><font color="#E5E5E5"> have to okay now they're a</font>

182
00:07:20,370 --> 00:07:25,319
<font color="#CCCCCC">sign-up stream now we'll see in a couple</font>

183
00:07:23,280 --> 00:07:27,840
<font color="#CCCCCC">minutes here I've got some slides</font><font color="#E5E5E5"> that</font>

184
00:07:25,319 --> 00:07:29,789
show directionality<font color="#E5E5E5"> okay because it is</font><font color="#CCCCCC"> a</font>

185
00:07:27,840 --> 00:07:32,190
unidirectional thing you're going<font color="#E5E5E5"> from</font>

186
00:07:29,789 --> 00:07:35,280
<font color="#E5E5E5">one spot in the network from yourself to</font>

187
00:07:32,190 --> 00:07:36,419
the far end<font color="#E5E5E5"> of your connection so</font>

188
00:07:35,280 --> 00:07:39,090
there's some directionality there and

189
00:07:36,419 --> 00:07:42,210
<font color="#E5E5E5">traffic's flow through this LSP they</font>

190
00:07:39,090 --> 00:07:43,739
flow in a downstream direction<font color="#E5E5E5"> so what's</font>

191
00:07:42,210 --> 00:07:46,258
gonna<font color="#CCCCCC"> happen here</font><font color="#E5E5E5"> is we get</font><font color="#CCCCCC"> to the</font>

192
00:07:43,740 --> 00:07:47,610
protocols<font color="#E5E5E5"> especially for RSVP you're</font>

193
00:07:46,259 --> 00:07:48,870
gonna sign things<font color="#E5E5E5"> upstream so in other</font>

194
00:07:47,610 --> 00:07:51,360
words what you're gonna<font color="#E5E5E5"> tell your</font>

195
00:07:48,870 --> 00:07:52,889
neighboring buddy is here's a label to

196
00:07:51,360 --> 00:07:54,919
use when you<font color="#E5E5E5"> want</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> say me traffic on</font>

197
00:07:52,889 --> 00:07:57,240
this connection use this<font color="#CCCCCC"> label value</font>

198
00:07:54,919 --> 00:07:59,909
okay so because you've assigned it out

199
00:07:57,240 --> 00:08:01,800
of your personal label<font color="#CCCCCC"> space you</font>

200
00:07:59,909 --> 00:08:03,960
understand<font color="#E5E5E5"> what to do with that</font><font color="#CCCCCC"> label</font>

201
00:08:01,800 --> 00:08:05,490
when it comes in the door and<font color="#CCCCCC"> your</font>

202
00:08:03,960 --> 00:08:07,500
<font color="#E5E5E5">neighbor upstream from</font><font color="#CCCCCC"> using they're the</font>

203
00:08:05,490 --> 00:08:09,449
same<font color="#E5E5E5"> thing upstream from him and so on</font>

204
00:08:07,500 --> 00:08:13,949
<font color="#CCCCCC">and so on till</font><font color="#E5E5E5"> you</font><font color="#CCCCCC"> reach the top of</font><font color="#E5E5E5"> the</font>

205
00:08:09,449 --> 00:08:15,930
connection now we do<font color="#CCCCCC"> have four fields</font>

206
00:08:13,949 --> 00:08:18,360
here<font color="#E5E5E5"> you get the label value itself</font><font color="#CCCCCC"> okay</font>

207
00:08:15,930 --> 00:08:20,069
so we have<font color="#E5E5E5"> 20</font><font color="#CCCCCC"> bits worth the label we do</font>

208
00:08:18,360 --> 00:08:21,690
have<font color="#E5E5E5"> 3 bits which are technically</font>

209
00:08:20,069 --> 00:08:24,330
experimental but they're being<font color="#CCCCCC"> used</font><font color="#E5E5E5"> for</font>

210
00:08:21,690 --> 00:08:26,520
class of service<font color="#CCCCCC"> okay so there is sort</font>

211
00:08:24,330 --> 00:08:28,650
of a mapping<font color="#E5E5E5"> there between the default</font><font color="#CCCCCC"> 3</font>

212
00:08:26,520 --> 00:08:32,360
bits for<font color="#E5E5E5"> IQ precedents into these</font>

213
00:08:28,650 --> 00:08:34,649
experimental bits we<font color="#E5E5E5"> have a stacking bit</font>

214
00:08:32,360 --> 00:08:36,240
and we have a stacking bit which implies

215
00:08:34,649 --> 00:08:36,809
<font color="#CCCCCC">that you</font><font color="#E5E5E5"> can have more than</font><font color="#CCCCCC"> one</font><font color="#E5E5E5"> emulous</font>

216
00:08:36,240 --> 00:08:38,399
label

217
00:08:36,809 --> 00:08:41,549
header<font color="#CCCCCC"> I cut</font><font color="#E5E5E5"> to use those terms</font>

218
00:08:38,399 --> 00:08:44,459
interchangeably<font color="#CCCCCC"> on a packet okay and the</font>

219
00:08:41,549 --> 00:08:46,890
truth<font color="#E5E5E5"> is you can so I have the values</font>

220
00:08:44,459 --> 00:08:48,479
here<font color="#E5E5E5"> if there's a value of</font><font color="#CCCCCC"> 1 that needs</font>

221
00:08:46,890 --> 00:08:51,540
<font color="#E5E5E5">you the bottom of the stack</font><font color="#CCCCCC"> which means</font>

222
00:08:48,480 --> 00:08:53,370
beyond you is the layer<font color="#CCCCCC"> three protocol</font>

223
00:08:51,540 --> 00:08:56,370
<font color="#CCCCCC">information could</font><font color="#E5E5E5"> be active v4 could be</font>

224
00:08:53,370 --> 00:08:58,410
whatever<font color="#E5E5E5"> if the value</font><font color="#CCCCCC"> is zero</font><font color="#E5E5E5"> then</font>

225
00:08:56,370 --> 00:09:02,910
what's beyond you further<font color="#E5E5E5"> into the</font>

226
00:08:58,410 --> 00:09:04,829
packet is another MPLS header and we

227
00:09:02,910 --> 00:09:06,029
<font color="#CCCCCC">have some</font><font color="#E5E5E5"> time to live okay so time tool</font>

228
00:09:04,829 --> 00:09:07,560
is important because<font color="#CCCCCC"> just like an IP</font>

229
00:09:06,029 --> 00:09:10,320
right we don't<font color="#E5E5E5"> want</font><font color="#CCCCCC"> stuff</font><font color="#E5E5E5"> flit around</font>

230
00:09:07,560 --> 00:09:12,029
the network all day long<font color="#E5E5E5"> it's</font><font color="#CCCCCC"> eight</font><font color="#E5E5E5"> bits</font>

231
00:09:10,320 --> 00:09:16,490
just<font color="#CCCCCC"> like we have for IP and there is a</font>

232
00:09:12,029 --> 00:09:19,290
mapping for IP TTL into the MPLS TTL<font color="#E5E5E5"> and</font>

233
00:09:16,490 --> 00:09:20,699
<font color="#CCCCCC">by</font><font color="#E5E5E5"> default it's gonna decrement one</font>

234
00:09:19,290 --> 00:09:28,790
along the way and it's gonna<font color="#E5E5E5"> go hop by</font>

235
00:09:20,699 --> 00:09:31,319
<font color="#CCCCCC">how does it translate</font><font color="#E5E5E5"> back yes it does</font>

236
00:09:28,790 --> 00:09:33,180
yeah you can<font color="#E5E5E5"> traceroute fluid MPLS LSP</font>

237
00:09:31,320 --> 00:09:37,019
and by<font color="#E5E5E5"> default you'll see all the hops</font>

238
00:09:33,180 --> 00:09:40,649
<font color="#E5E5E5">along the way no using standard a strap</font>

239
00:09:37,019 --> 00:09:42,690
standing right<font color="#CCCCCC"> cmp</font><font color="#E5E5E5"> if you wait to the</font>

240
00:09:40,649 --> 00:09:46,639
end<font color="#E5E5E5"> yeah</font><font color="#CCCCCC"> I actually</font><font color="#E5E5E5"> have</font><font color="#CCCCCC"> some routers I</font>

241
00:09:42,690 --> 00:09:46,639
can connect<font color="#E5E5E5"> to and I'll prove it to you</font>

242
00:09:48,589 --> 00:09:55,079
so where do we stick this thing<font color="#E5E5E5"> it's a</font>

243
00:09:52,620 --> 00:09:57,000
shim header<font color="#CCCCCC"> ok the appeal of header is</font>

244
00:09:55,079 --> 00:09:57,569
gonna go between<font color="#E5E5E5"> whatever layer to stuff</font>

245
00:09:57,000 --> 00:10:00,899
you got

246
00:09:57,569 --> 00:10:02,760
okay so then<font color="#E5E5E5"> applies Ethernet ATM frame</font>

247
00:10:00,899 --> 00:10:04,740
whatever you got it layer<font color="#E5E5E5"> two doesn't</font>

248
00:10:02,760 --> 00:10:09,300
matter<font color="#E5E5E5"> we're gonna stick the header in</font>

249
00:10:04,740 --> 00:10:10,709
between<font color="#E5E5E5"> that in the layer</font><font color="#CCCCCC"> 3 data and you</font>

250
00:10:09,300 --> 00:10:12,149
can<font color="#E5E5E5"> have stacking right</font><font color="#CCCCCC"> talked</font><font color="#E5E5E5"> about a</font>

251
00:10:10,709 --> 00:10:13,589
second ago<font color="#E5E5E5"> so here's</font><font color="#CCCCCC"> just a little</font>

252
00:10:12,149 --> 00:10:15,779
graphical representation of having two

253
00:10:13,589 --> 00:10:18,959
<font color="#CCCCCC">labels or three labels attached to an</font>

254
00:10:15,779 --> 00:10:20,160
individual packet now as far as routers

255
00:10:18,959 --> 00:10:21,329
are concerned and<font color="#E5E5E5"> we'll see this in a</font>

256
00:10:20,160 --> 00:10:22,230
second here when<font color="#E5E5E5"> I have the trance I</font>

257
00:10:21,329 --> 00:10:25,109
don't really have<font color="#CCCCCC"> one of</font><font color="#E5E5E5"> these good</font>

258
00:10:22,230 --> 00:10:27,209
diagrams by default when the<font color="#CCCCCC"> riders</font>

259
00:10:25,110 --> 00:10:29,279
gonna do<font color="#CCCCCC"> it looking</font><font color="#E5E5E5"> I look up on the</font>

260
00:10:27,209 --> 00:10:32,699
header information<font color="#E5E5E5"> we're gonna be</font>

261
00:10:29,279 --> 00:10:34,110
looking<font color="#CCCCCC"> at this top label</font><font color="#E5E5E5"> okay</font><font color="#CCCCCC"> so even</font>

262
00:10:32,699 --> 00:10:37,170
though I had them<font color="#E5E5E5"> listed left to right</font>

263
00:10:34,110 --> 00:10:39,029
here in reality<font color="#E5E5E5"> you have the concept of</font>

264
00:10:37,170 --> 00:10:41,219
<font color="#E5E5E5">the top label which is the thing closest</font>

265
00:10:39,029 --> 00:10:42,540
to the layer<font color="#CCCCCC"> to header and on the bottom</font>

266
00:10:41,220 --> 00:10:44,790
you<font color="#CCCCCC"> have thing</font><font color="#E5E5E5"> close to</font><font color="#CCCCCC"> the layer three</font>

267
00:10:42,540 --> 00:10:45,930
data<font color="#CCCCCC"> okay so if you're reading some of</font>

268
00:10:44,790 --> 00:10:47,610
<font color="#E5E5E5">the specs and</font><font color="#CCCCCC"> things says bottom of</font>

269
00:10:45,930 --> 00:10:53,399
stack<font color="#E5E5E5"> well you're on the bottom</font><font color="#CCCCCC"> you're</font>

270
00:10:47,610 --> 00:10:54,540
close to the layer<font color="#CCCCCC"> three piece most</font>

271
00:10:53,399 --> 00:10:56,640
times when<font color="#E5E5E5"> you have multiple labels</font>

272
00:10:54,540 --> 00:10:57,959
you're talking about say<font color="#CCCCCC"> a VPN</font>

273
00:10:56,640 --> 00:11:00,089
environment there's a good example<font color="#CCCCCC"> we</font>

274
00:10:57,959 --> 00:11:01,160
have multiple labels<font color="#CCCCCC"> I do have some</font>

275
00:11:00,089 --> 00:11:04,009
slides in at the

276
00:11:01,160 --> 00:11:06,439
presentation of doing an<font color="#CCCCCC"> LD P connection</font>

277
00:11:04,009 --> 00:11:08,629
<font color="#E5E5E5">over RSVP game that makes sense when I</font>

278
00:11:06,440 --> 00:11:13,430
get to the end and<font color="#CCCCCC"> again that's a double</font>

279
00:11:08,629 --> 00:11:15,230
label type environment so label<font color="#E5E5E5"> space we</font>

280
00:11:13,430 --> 00:11:17,930
got 20 bits<font color="#E5E5E5"> all right so we got lots of</font>

281
00:11:15,230 --> 00:11:21,139
<font color="#E5E5E5">space to</font><font color="#CCCCCC"> play with</font><font color="#E5E5E5"> there are from 0 to</font>

282
00:11:17,930 --> 00:11:23,508
15 are defined by the<font color="#CCCCCC"> ITF</font><font color="#E5E5E5"> and</font>

283
00:11:21,139 --> 00:11:24,560
technically<font color="#E5E5E5"> 4 to 15 are reserved and</font>

284
00:11:23,509 --> 00:11:28,310
aren't used right now<font color="#E5E5E5"> so we only really</font>

285
00:11:24,560 --> 00:11:30,500
<font color="#CCCCCC">have four well-known label values ok</font>

286
00:11:28,310 --> 00:11:31,279
label value of<font color="#CCCCCC"> 0 is specifically for</font>

287
00:11:30,500 --> 00:11:34,850
ipv4

288
00:11:31,279 --> 00:11:37,399
it's called explicit<font color="#E5E5E5"> null and what it</font>

289
00:11:34,850 --> 00:11:38,170
<font color="#E5E5E5">means is when I receive a label value of</font>

290
00:11:37,399 --> 00:11:41,769
0

291
00:11:38,170 --> 00:11:50,180
my function<font color="#E5E5E5"> is to remove the MPLS header</font>

292
00:11:41,769 --> 00:11:51,560
and do an IP lookup<font color="#CCCCCC"> I mean within the</font>

293
00:11:50,180 --> 00:11:55,609
<font color="#CCCCCC">little</font><font color="#E5E5E5"> space</font><font color="#CCCCCC"> you got 20 bits worth the</font>

294
00:11:51,560 --> 00:11:57,529
space<font color="#E5E5E5"> that'll be a value of 0 well yeah</font>

295
00:11:55,610 --> 00:11:59,569
because you got 20 bits<font color="#CCCCCC"> it's got to</font><font color="#E5E5E5"> be a</font>

296
00:11:57,529 --> 00:12:02,720
<font color="#E5E5E5">0 so</font><font color="#CCCCCC"> one</font><font color="#E5E5E5"> would be you know zeros on a</font><font color="#CCCCCC"> 1</font>

297
00:11:59,569 --> 00:12:03,229
at the end so your<font color="#E5E5E5"> value of</font><font color="#CCCCCC"> 0 in</font><font color="#E5E5E5"> that</font>

298
00:12:02,720 --> 00:12:07,459
space

299
00:12:03,230 --> 00:12:09,800
and it's<font color="#E5E5E5"> defined for explicit</font><font color="#CCCCCC"> no ok the</font>

300
00:12:07,459 --> 00:12:13,099
<font color="#E5E5E5">zeros does show up in the label value</font>

301
00:12:09,800 --> 00:12:15,979
and we'll do uh<font color="#CCCCCC"> apartments</font><font color="#E5E5E5"> sliding in a</font>

302
00:12:13,100 --> 00:12:17,300
second here about how to<font color="#E5E5E5"> use that value</font>

303
00:12:15,980 --> 00:12:19,220
bonus<font color="#E5E5E5"> router alert which pretty much</font>

304
00:12:17,300 --> 00:12:21,709
<font color="#E5E5E5">says if you get this</font><font color="#CCCCCC"> Center to the</font>

305
00:12:19,220 --> 00:12:23,689
control plane<font color="#CCCCCC"> okay or the routing engine</font>

306
00:12:21,709 --> 00:12:25,489
or<font color="#E5E5E5"> the brain of the routers got to do</font>

307
00:12:23,689 --> 00:12:29,139
something<font color="#E5E5E5"> with this and</font><font color="#CCCCCC"> that's not</font>

308
00:12:25,490 --> 00:12:29,139
really widely used today

309
00:12:32,079 --> 00:12:41,599
no no um no<font color="#E5E5E5"> that's</font><font color="#CCCCCC"> ok</font>

310
00:12:38,389 --> 00:12:44,480
the explicit<font color="#CCCCCC"> Knoll says that if I'm</font><font color="#E5E5E5"> the</font>

311
00:12:41,600 --> 00:12:50,389
end of the<font color="#E5E5E5"> tunnel</font><font color="#CCCCCC"> ok I'm going</font><font color="#E5E5E5"> to signal</font>

312
00:12:44,480 --> 00:12:52,490
<font color="#CCCCCC">upstream use the label value of</font><font color="#E5E5E5"> 0 yeah</font>

313
00:12:50,389 --> 00:12:55,550
yeah<font color="#CCCCCC"> ok and I got some</font><font color="#E5E5E5"> slides and</font><font color="#CCCCCC"> I'll</font>

314
00:12:52,490 --> 00:12:57,589
<font color="#E5E5E5">talk about that a second some label by</font>

315
00:12:55,550 --> 00:12:58,910
<font color="#CCCCCC">u2 v6</font><font color="#E5E5E5"> it's supposed to know does the</font>

316
00:12:57,589 --> 00:13:05,500
same<font color="#E5E5E5"> function</font><font color="#CCCCCC"> as before except this</font><font color="#E5E5E5"> for</font>

317
00:12:58,910 --> 00:13:09,019
a c6<font color="#CCCCCC"> ok</font><font color="#E5E5E5"> label value 3 is implicit null</font>

318
00:13:05,500 --> 00:13:11,930
also signaled by the<font color="#E5E5E5"> egress router now</font>

319
00:13:09,019 --> 00:13:13,160
label value of 3 tells the next upstream

320
00:13:11,930 --> 00:13:15,079
router the penultimate router in this

321
00:13:13,160 --> 00:13:15,350
case again I got<font color="#E5E5E5"> some slides come and so</font>

322
00:13:15,079 --> 00:13:17,229
on

323
00:13:15,350 --> 00:13:20,440
using terms I'm not going to define<font color="#E5E5E5"> yet</font>

324
00:13:17,230 --> 00:13:24,140
<font color="#E5E5E5">to do the</font><font color="#CCCCCC"> removal of the MPLS header</font>

325
00:13:20,440 --> 00:13:25,430
<font color="#E5E5E5">okay and send me whatever is left so</font>

326
00:13:24,140 --> 00:13:26,600
instead of doing<font color="#E5E5E5"> the removal at the</font>

327
00:13:25,430 --> 00:13:28,520
egress the end of the tunnel you're

328
00:13:26,600 --> 00:13:33,200
actually pushing<font color="#CCCCCC"> it up stream by one</font>

329
00:13:28,520 --> 00:13:36,920
router<font color="#E5E5E5"> by the</font><font color="#CCCCCC"> speck</font><font color="#E5E5E5"> you will never see a</font>

330
00:13:33,200 --> 00:13:38,870
label value of<font color="#CCCCCC"> three</font><font color="#E5E5E5"> show up in an MPLS</font>

331
00:13:36,920 --> 00:13:40,400
header<font color="#E5E5E5"> okay you signal it you tell the</font>

332
00:13:38,870 --> 00:13:42,260
router<font color="#E5E5E5"> to use label three but that's</font>

333
00:13:40,400 --> 00:13:44,360
really an indication<font color="#E5E5E5"> to do this removal</font>

334
00:13:42,260 --> 00:13:45,560
function okay<font color="#E5E5E5"> so you'll ever see a label</font>

335
00:13:44,360 --> 00:13:47,990
<font color="#E5E5E5">I you three words opposed to leave a</font>

336
00:13:45,560 --> 00:13:49,640
value of zero<font color="#CCCCCC"> you will see a header show</font>

337
00:13:47,990 --> 00:13:51,280
up<font color="#CCCCCC"> for</font><font color="#E5E5E5"> the label value of zero now it's</font>

338
00:13:49,640 --> 00:13:53,689
got to be the<font color="#E5E5E5"> bottom of the stack</font>

339
00:13:51,280 --> 00:13:55,100
because by the by definition when<font color="#E5E5E5"> you</font>

340
00:13:53,690 --> 00:13:56,900
remove the header<font color="#E5E5E5"> you have to do an ipv4</font>

341
00:13:55,100 --> 00:13:58,340
lookup okay

342
00:13:56,900 --> 00:13:59,480
so you can't have<font color="#E5E5E5"> a</font><font color="#CCCCCC"> zero value somewhere</font>

343
00:13:58,340 --> 00:14:01,760
higher in the stack so<font color="#CCCCCC"> we got a bunch</font><font color="#E5E5E5"> of</font>

344
00:13:59,480 --> 00:14:02,960
<font color="#E5E5E5">these rules to play with</font><font color="#CCCCCC"> and we'll see</font>

345
00:14:01,760 --> 00:14:05,180
the difference<font color="#E5E5E5"> between</font><font color="#CCCCCC"> a 0</font><font color="#E5E5E5"> and a</font><font color="#CCCCCC"> 3 in a</font>

346
00:14:02,960 --> 00:14:08,810
second now<font color="#CCCCCC"> other than that</font>

347
00:14:05,180 --> 00:14:11,390
from 16 always the top of the space can

348
00:14:08,810 --> 00:14:13,880
be<font color="#CCCCCC"> used dynamically to start handing out</font>

349
00:14:11,390 --> 00:14:16,250
labels<font color="#CCCCCC"> okay and every vendor does it</font>

350
00:14:13,880 --> 00:14:17,420
differently<font color="#E5E5E5"> for juniper we started a</font>

351
00:14:16,250 --> 00:14:19,880
<font color="#E5E5E5">hundred thousand</font><font color="#CCCCCC"> four</font><font color="#E5E5E5"> dynamic allocation</font>

352
00:14:17,420 --> 00:14:21,170
<font color="#CCCCCC">you can't go up from there we do</font><font color="#E5E5E5"> this</font>

353
00:14:19,880 --> 00:14:22,850
<font color="#CCCCCC">remaining set aside for doing static</font>

354
00:14:21,170 --> 00:14:24,680
<font color="#E5E5E5">LSPs we have some ranges set aside that</font>

355
00:14:22,850 --> 00:14:26,780
we don't use for<font color="#CCCCCC"> reserved stuff</font><font color="#E5E5E5"> now it</font>

356
00:14:24,680 --> 00:14:28,310
doesn't<font color="#E5E5E5"> mean if somebody tells us to use</font>

357
00:14:26,780 --> 00:14:29,569
a label<font color="#E5E5E5"> value in our quote unquote</font>

358
00:14:28,310 --> 00:14:31,430
<font color="#CCCCCC">reserved spaces we're</font><font color="#E5E5E5"> not going</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> use</font>

359
00:14:29,570 --> 00:14:32,900
it sure we will it just means<font color="#CCCCCC"> that we</font>

360
00:14:31,430 --> 00:14:39,560
<font color="#E5E5E5">won't allocate from our own space</font>

361
00:14:32,900 --> 00:14:41,120
<font color="#CCCCCC">upstream</font><font color="#E5E5E5"> one of these label values are</font>

362
00:14:39,560 --> 00:14:43,310
there any interpreter standards for

363
00:14:41,120 --> 00:14:47,890
labels<font color="#E5E5E5"> no you don't really need them as</font>

364
00:14:43,310 --> 00:14:47,890
<font color="#E5E5E5">long</font><font color="#CCCCCC"> as everybody</font><font color="#E5E5E5"> can use from 16 on up</font>

365
00:14:52,070 --> 00:14:58,490
oh you're talking between a<font color="#CCCCCC"> s's no</font>

366
00:14:56,930 --> 00:14:59,779
that's kind<font color="#E5E5E5"> of a cap hearing</font>

367
00:14:58,490 --> 00:15:04,930
relationship me if you want to<font color="#E5E5E5"> do that</font>

368
00:14:59,779 --> 00:15:07,639
then<font color="#E5E5E5"> you</font><font color="#CCCCCC"> establish with</font><font color="#E5E5E5"> your pair okay</font>

369
00:15:04,930 --> 00:15:10,040
<font color="#CCCCCC">so we have these nice fancy terms we</font>

370
00:15:07,639 --> 00:15:11,060
<font color="#E5E5E5">worried about and in reality</font><font color="#CCCCCC"> you could</font>

371
00:15:10,040 --> 00:15:12,199
probably<font color="#CCCCCC"> bill the rest of your life</font>

372
00:15:11,060 --> 00:15:13,699
without<font color="#E5E5E5"> remembering in this stuff and</font>

373
00:15:12,199 --> 00:15:15,829
you'll be<font color="#CCCCCC"> ok</font><font color="#E5E5E5"> but for sake</font><font color="#CCCCCC"> of</font>

374
00:15:13,699 --> 00:15:17,479
completeness<font color="#E5E5E5"> all right let me go through</font>

375
00:15:15,829 --> 00:15:18,849
<font color="#E5E5E5">them real quick we have the concept of</font>

376
00:15:17,480 --> 00:15:21,529
how do you<font color="#E5E5E5"> hand out labels</font>

377
00:15:18,850 --> 00:15:22,880
<font color="#CCCCCC">okay so</font><font color="#E5E5E5"> label</font><font color="#CCCCCC"> distribution we have</font><font color="#E5E5E5"> two</font>

378
00:15:21,529 --> 00:15:24,259
methods to do that<font color="#CCCCCC"> we have downstream on</font>

379
00:15:22,880 --> 00:15:26,389
demand we have<font color="#E5E5E5"> this thing called</font>

380
00:15:24,259 --> 00:15:27,829
<font color="#E5E5E5">unsolicited downstream or downstream</font>

381
00:15:26,389 --> 00:15:29,800
unsolicited depending on which specular

382
00:15:27,829 --> 00:15:32,000
they actually use both<font color="#E5E5E5"> terms so</font>

383
00:15:29,800 --> 00:15:34,880
<font color="#E5E5E5">downstream on demand is pretty simple</font>

384
00:15:32,000 --> 00:15:37,940
<font color="#CCCCCC">you</font><font color="#E5E5E5"> will only allocate a label when</font><font color="#CCCCCC"> your</font>

385
00:15:34,880 --> 00:15:39,019
upstream<font color="#E5E5E5"> router ask for one okay so I'm</font>

386
00:15:37,940 --> 00:15:40,040
going<font color="#CCCCCC"> to</font><font color="#E5E5E5"> ask for a label and I'm gonna</font>

387
00:15:39,019 --> 00:15:43,100
expect to<font color="#E5E5E5"> get one back</font>

388
00:15:40,040 --> 00:15:44,449
that's downstream on demand<font color="#CCCCCC"> unsolicited</font>

389
00:15:43,100 --> 00:15:47,509
<font color="#E5E5E5">downstream is the opposite of that which</font>

390
00:15:44,449 --> 00:15:50,149
is<font color="#E5E5E5"> you</font><font color="#CCCCCC"> don't</font><font color="#E5E5E5"> have to be asked you can at</font>

391
00:15:47,509 --> 00:15:52,040
random well there's some rules we do for

392
00:15:50,149 --> 00:15:53,800
<font color="#CCCCCC">LVP</font><font color="#E5E5E5"> and how we do this but</font><font color="#CCCCCC"> theoretically</font>

393
00:15:52,040 --> 00:15:56,389
speaking<font color="#CCCCCC"> you can just allocate a label</font>

394
00:15:53,800 --> 00:15:57,620
so here's a pretty<font color="#E5E5E5"> fixtures a label have</font>

395
00:15:56,389 --> 00:15:59,510
at<font color="#CCCCCC"> it use it if you want to</font>

396
00:15:57,620 --> 00:16:01,220
that's unsolicited downstream worse

397
00:15:59,510 --> 00:16:04,399
downstream on demand there's an explicit

398
00:16:01,220 --> 00:16:07,880
<font color="#E5E5E5">request and the sending of a label value</font>

399
00:16:04,399 --> 00:16:09,470
<font color="#E5E5E5">so we'll see we get to RSVP how</font>

400
00:16:07,880 --> 00:16:11,149
downstream on demand works will seem<font color="#E5E5E5"> to</font>

401
00:16:09,470 --> 00:16:13,160
get the LVP how unsolicited downstream

402
00:16:11,149 --> 00:16:17,180
works<font color="#CCCCCC"> okay so they use different</font><font color="#E5E5E5"> values</font>

403
00:16:13,160 --> 00:16:18,500
<font color="#E5E5E5">their label retention if you're told</font>

404
00:16:17,180 --> 00:16:20,779
about<font color="#E5E5E5"> a label value what do you do with</font>

405
00:16:18,500 --> 00:16:21,680
<font color="#E5E5E5">it okay so you have this liberal mode</font>

406
00:16:20,779 --> 00:16:24,439
which is I'm going<font color="#E5E5E5"> to keep everything</font>

407
00:16:21,680 --> 00:16:25,638
<font color="#CCCCCC">ever heard of ice conservative mode</font>

408
00:16:24,440 --> 00:16:28,100
which is only going<font color="#CCCCCC"> to</font><font color="#E5E5E5"> keep the</font><font color="#CCCCCC"> stuff</font>

409
00:16:25,639 --> 00:16:29,690
I'm actually using<font color="#E5E5E5"> so here we have this</font>

410
00:16:28,100 --> 00:16:32,660
<font color="#CCCCCC">an</font><font color="#E5E5E5"> old</font><font color="#CCCCCC"> age-old trade-off</font><font color="#E5E5E5"> right between</font>

411
00:16:29,690 --> 00:16:34,579
memory and<font color="#E5E5E5"> failover</font><font color="#CCCCCC"> speed if I'm doing</font>

412
00:16:32,660 --> 00:16:36,290
conservative mode<font color="#E5E5E5"> I conserve memory all</font>

413
00:16:34,579 --> 00:16:38,180
right so I'm only keeping<font color="#E5E5E5"> a subset of</font>

414
00:16:36,290 --> 00:16:39,740
stuff in memory but<font color="#E5E5E5"> if one of</font><font color="#CCCCCC"> those</font>

415
00:16:38,180 --> 00:16:42,769
links goes away or my neighbor<font color="#E5E5E5"> goes away</font>

416
00:16:39,740 --> 00:16:44,660
that I have to relearn<font color="#CCCCCC"> and the label</font>

417
00:16:42,769 --> 00:16:46,550
<font color="#CCCCCC">value still use something else guess</font>

418
00:16:44,660 --> 00:16:47,839
<font color="#E5E5E5">that takes time whereas liberal mode I'm</font>

419
00:16:46,550 --> 00:16:49,849
using that memory hanging on<font color="#E5E5E5"> these</font>

420
00:16:47,839 --> 00:16:53,259
<font color="#E5E5E5">labels but in a failure mode I can</font>

421
00:16:49,850 --> 00:16:53,259
<font color="#E5E5E5">quickly switch over</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> something</font><font color="#CCCCCC"> else</font>

422
00:16:53,860 --> 00:17:00,680
label<font color="#E5E5E5"> control so retention is how I am</font>

423
00:16:57,380 --> 00:17:03,260
stuff label control<font color="#E5E5E5"> is for me when you</font>

424
00:17:00,680 --> 00:17:04,549
<font color="#CCCCCC">actually send labels okay so even</font><font color="#E5E5E5"> though</font>

425
00:17:03,260 --> 00:17:05,280
I said<font color="#E5E5E5"> in downstream on solicited or</font>

426
00:17:04,549 --> 00:17:07,020
unsolicited<font color="#CCCCCC"> outs</font>

427
00:17:05,280 --> 00:17:10,770
that you know you can just<font color="#CCCCCC"> randomly send</font>

428
00:17:07,020 --> 00:17:12,270
a label that's<font color="#CCCCCC"> a sort of</font><font color="#E5E5E5"> okay in reality</font>

429
00:17:10,770 --> 00:17:13,379
<font color="#E5E5E5">you're gonna have to abide by one of</font>

430
00:17:12,270 --> 00:17:15,960
these<font color="#E5E5E5"> things at the</font><font color="#CCCCCC"> bottom here</font><font color="#E5E5E5"> either</font>

431
00:17:13,380 --> 00:17:19,470
order independent<font color="#E5E5E5"> okay and an</font><font color="#CCCCCC"> ordered</font>

432
00:17:15,960 --> 00:17:21,210
<font color="#E5E5E5">very simply says you</font><font color="#CCCCCC"> can</font><font color="#E5E5E5"> only send a</font>

433
00:17:19,470 --> 00:17:23,240
label value in two cases<font color="#E5E5E5"> one you're the</font>

434
00:17:21,210 --> 00:17:25,020
egress<font color="#E5E5E5"> you're the end of the tunnel</font>

435
00:17:23,240 --> 00:17:27,810
which means you can start advertising

436
00:17:25,020 --> 00:17:31,260
labels upstream or<font color="#CCCCCC"> two you receive the</font>

437
00:17:27,810 --> 00:17:32,879
label<font color="#E5E5E5"> already for a specific</font><font color="#CCCCCC"> IP prefix</font>

438
00:17:31,260 --> 00:17:35,820
<font color="#E5E5E5">you can</font><font color="#CCCCCC"> allocate one from yourself and</font>

439
00:17:32,880 --> 00:17:38,010
<font color="#E5E5E5">send it out okay which</font><font color="#CCCCCC"> basically ensures</font>

440
00:17:35,820 --> 00:17:39,570
that if you<font color="#E5E5E5"> get a label in inside the</font>

441
00:17:38,010 --> 00:17:40,710
<font color="#CCCCCC">header you're gonna</font><font color="#E5E5E5"> know what to do with</font>

442
00:17:39,570 --> 00:17:44,580
it because you've allocated a label for

443
00:17:40,710 --> 00:17:46,740
<font color="#CCCCCC">it independent</font><font color="#E5E5E5"> is sort of like a very ad</font>

444
00:17:44,580 --> 00:17:48,210
hoc system just at<font color="#E5E5E5"> random totally random</font>

445
00:17:46,740 --> 00:17:49,680
I can just start allocating label for

446
00:17:48,210 --> 00:17:50,790
prefixes<font color="#CCCCCC"> even if I'm</font><font color="#E5E5E5"> in the middle</font><font color="#CCCCCC"> of</font>

447
00:17:49,680 --> 00:17:53,460
the cloud I'm nowhere near<font color="#CCCCCC"> that you</font>

448
00:17:50,790 --> 00:17:55,889
dress so<font color="#CCCCCC"> theoretically speaking somebody</font>

449
00:17:53,460 --> 00:17:57,840
could send me packets with MPLS pardon

450
00:17:55,890 --> 00:17:59,160
me headers attached and I may<font color="#E5E5E5"> not be</font>

451
00:17:57,840 --> 00:18:02,070
<font color="#E5E5E5">able to afford it on to the actual</font>

452
00:17:59,160 --> 00:18:04,080
<font color="#E5E5E5">egress router</font><font color="#CCCCCC"> okay so we</font><font color="#E5E5E5"> don't really</font>

453
00:18:02,070 --> 00:18:06,919
<font color="#E5E5E5">like independent we do ordered because</font>

454
00:18:04,080 --> 00:18:18,240
<font color="#CCCCCC">whatever</font><font color="#E5E5E5"> things are good but</font><font color="#CCCCCC"> it's there</font>

455
00:18:06,920 --> 00:18:20,790
<font color="#E5E5E5">okay so yes and label reflects the end</font>

456
00:18:18,240 --> 00:18:23,550
point from<font color="#E5E5E5"> the egress of perspective</font>

457
00:18:20,790 --> 00:18:25,920
<font color="#E5E5E5">sure but in the middle not necessarily</font>

458
00:18:23,550 --> 00:18:27,570
<font color="#E5E5E5">okay label value you simply just I was</font>

459
00:18:25,920 --> 00:18:29,280
<font color="#E5E5E5">told a label I'm gonna allocate label</font>

460
00:18:27,570 --> 00:18:31,610
upstream<font color="#CCCCCC"> guess I'm</font><font color="#E5E5E5"> doing some swapping</font>

461
00:18:29,280 --> 00:18:31,610
stuff

462
00:18:35,970 --> 00:18:40,450
okay so<font color="#E5E5E5"> point</font><font color="#CCCCCC"> to points yeah</font><font color="#E5E5E5"> it's point</font>

463
00:18:38,890 --> 00:18:42,430
to point<font color="#E5E5E5"> so</font><font color="#CCCCCC"> in the downstream on-demand</font>

464
00:18:40,450 --> 00:18:43,300
<font color="#E5E5E5">case you and I have a connection and I'm</font>

465
00:18:42,430 --> 00:18:55,360
going to<font color="#E5E5E5"> ask you for labor you're gonna</font>

466
00:18:43,300 --> 00:18:57,909
give me one okay<font color="#E5E5E5"> so you're</font><font color="#CCCCCC"> gonna hear</font>

467
00:18:55,360 --> 00:18:59,889
the issue of mapping<font color="#E5E5E5"> the prefix to the</font>

468
00:18:57,910 --> 00:19:01,870
<font color="#E5E5E5">label is the job of</font><font color="#CCCCCC"> the ingress</font><font color="#E5E5E5"> rider</font>

469
00:18:59,890 --> 00:19:05,500
the<font color="#E5E5E5"> top end router okay</font>

470
00:19:01,870 --> 00:19:07,300
so exactly right<font color="#CCCCCC"> so if it has multiple</font>

471
00:19:05,500 --> 00:19:09,280
paths<font color="#CCCCCC"> to multiple different</font>

472
00:19:07,300 --> 00:19:11,320
<font color="#E5E5E5">LSPs tunnels through the network and it</font>

473
00:19:09,280 --> 00:19:13,330
hears about prefixes<font color="#E5E5E5"> for multiple places</font>

474
00:19:11,320 --> 00:19:14,129
<font color="#E5E5E5">its job is to make its own choice that's</font>

475
00:19:13,330 --> 00:19:15,939
<font color="#E5E5E5">which way to go</font>

476
00:19:14,130 --> 00:19:17,640
no there's<font color="#E5E5E5"> not really multi-point</font>

477
00:19:15,940 --> 00:19:27,370
capability now it's all points myself

478
00:19:17,640 --> 00:19:28,150
<font color="#E5E5E5">sir independent yes you got me</font><font color="#CCCCCC"> yeah</font>

479
00:19:27,370 --> 00:19:31,260
<font color="#E5E5E5">seriously</font>

480
00:19:28,150 --> 00:19:33,160
I don't see any valuable<font color="#CCCCCC"> purpose in</font>

481
00:19:31,260 --> 00:19:34,330
independent<font color="#E5E5E5"> I'm sure there's a reason</font>

482
00:19:33,160 --> 00:19:36,100
why it's in<font color="#E5E5E5"> the spec somebody probably</font>

483
00:19:34,330 --> 00:19:37,750
insisted on it being<font color="#E5E5E5"> there but from</font><font color="#CCCCCC"> an</font>

484
00:19:36,100 --> 00:19:39,040
operational<font color="#CCCCCC"> real-world useable</font>

485
00:19:37,750 --> 00:19:47,200
perspective I have<font color="#E5E5E5"> yet to find a</font><font color="#CCCCCC"> really</font>

486
00:19:39,040 --> 00:19:49,180
<font color="#E5E5E5">good need for it okay okay because</font><font color="#CCCCCC"> we're</font>

487
00:19:47,200 --> 00:19:51,100
sticking this MPLS header between layer

488
00:19:49,180 --> 00:19:54,220
2 and layer 3<font color="#E5E5E5"> when something shows up at</font>

489
00:19:51,100 --> 00:19:55,510
my<font color="#CCCCCC"> door I</font><font color="#E5E5E5"> gotta know it's MPLS</font><font color="#CCCCCC"> ok I got</font>

490
00:19:54,220 --> 00:19:57,190
to<font color="#CCCCCC"> be able to</font><font color="#E5E5E5"> know</font><font color="#CCCCCC"> that got to look in</font>

491
00:19:55,510 --> 00:19:58,270
the switching table to<font color="#E5E5E5"> figure out what</font>

492
00:19:57,190 --> 00:20:00,700
to do with this thing<font color="#CCCCCC"> and don't</font><font color="#E5E5E5"> do a</font>

493
00:19:58,270 --> 00:20:04,170
routing<font color="#E5E5E5"> lookup</font><font color="#CCCCCC"> ok so this is here for</font>

494
00:20:00,700 --> 00:20:07,240
<font color="#CCCCCC">your edification</font><font color="#E5E5E5"> there are predefined</font>

495
00:20:04,170 --> 00:20:10,180
<font color="#E5E5E5">hex codes that we use at</font><font color="#CCCCCC"> the base PPP</font>

496
00:20:07,240 --> 00:20:13,450
level<font color="#E5E5E5"> all right we got</font><font color="#CCCCCC"> Oh to 81 there is</font>

497
00:20:10,180 --> 00:20:15,640
actually an MPLS control plane<font color="#E5E5E5"> piece</font><font color="#CCCCCC"> ok</font>

498
00:20:13,450 --> 00:20:21,040
so that's using<font color="#E5E5E5"> a</font><font color="#CCCCCC"> to 81 everybody else</font>

499
00:20:15,640 --> 00:20:25,840
uses 88 47 not gonna spend too<font color="#E5E5E5"> much time</font>

500
00:20:21,040 --> 00:20:29,470
talking about that so this<font color="#CCCCCC"> is my</font>

501
00:20:25,840 --> 00:20:31,870
<font color="#CCCCCC">connection in LSP</font><font color="#E5E5E5"> a label switch</font><font color="#CCCCCC"> path ok</font>

502
00:20:29,470 --> 00:20:37,210
<font color="#CCCCCC">this</font><font color="#E5E5E5"> is my tunnel it is unidirectional</font>

503
00:20:31,870 --> 00:20:38,590
goes from Azusa router to the<font color="#CCCCCC"> far side</font>

504
00:20:37,210 --> 00:20:40,770
<font color="#CCCCCC">and that happened</font><font color="#E5E5E5"> to be using the bottom</font>

505
00:20:38,590 --> 00:20:40,770
path

506
00:20:40,820 --> 00:20:45,570
this is the effect<font color="#E5E5E5"> this is the end</font>

507
00:20:43,170 --> 00:20:48,300
result<font color="#CCCCCC"> okay so this is the the</font><font color="#E5E5E5"> traffic</font>

508
00:20:45,570 --> 00:20:51,230
flow if you will<font color="#E5E5E5"> okay</font><font color="#CCCCCC"> from</font><font color="#E5E5E5"> the left side</font>

509
00:20:48,300 --> 00:20:54,060
<font color="#E5E5E5">of the screen to</font><font color="#CCCCCC"> the right</font><font color="#E5E5E5"> side and</font>

510
00:20:51,230 --> 00:20:55,530
whether you're doing<font color="#E5E5E5"> RSVP</font><font color="#CCCCCC"> or LDP</font><font color="#E5E5E5"> what</font>

511
00:20:54,060 --> 00:20:58,429
we're going<font color="#E5E5E5"> to end up with is</font><font color="#CCCCCC"> LSP is in</font>

512
00:20:55,530 --> 00:21:03,540
the long run okay so terminology

513
00:20:58,430 --> 00:21:04,680
everybody's<font color="#E5E5E5"> favorite topic the start of</font>

514
00:21:03,540 --> 00:21:08,610
<font color="#E5E5E5">the tunnel</font><font color="#CCCCCC"> starlit connection is the</font>

515
00:21:04,680 --> 00:21:10,260
ingress router this<font color="#E5E5E5"> is where packets get</font>

516
00:21:08,610 --> 00:21:11,909
mapped so it's the job of<font color="#CCCCCC"> the ingress</font>

517
00:21:10,260 --> 00:21:16,470
<font color="#E5E5E5">router to do this mapping between IP</font>

518
00:21:11,910 --> 00:21:18,960
prefix or prefix is to the LSP<font color="#E5E5E5"> okay so</font>

519
00:21:16,470 --> 00:21:21,420
if I have LSP a<font color="#CCCCCC"> b and</font><font color="#E5E5E5"> c and</font><font color="#CCCCCC"> i decide to</font>

520
00:21:18,960 --> 00:21:24,510
<font color="#E5E5E5">send traffic for</font><font color="#CCCCCC"> ten 10/16 down LSP</font><font color="#E5E5E5"> a</font>

521
00:21:21,420 --> 00:21:26,460
that's my decision<font color="#CCCCCC"> okay and when the</font>

522
00:21:24,510 --> 00:21:28,830
writing look up comes in and I attach a

523
00:21:26,460 --> 00:21:32,540
label it belongs<font color="#E5E5E5"> to the label I heard</font>

524
00:21:28,830 --> 00:21:34,710
for my<font color="#E5E5E5"> next downstream router on LSP a</font>

525
00:21:32,540 --> 00:21:37,470
<font color="#CCCCCC">it is the</font><font color="#E5E5E5"> hidden router</font><font color="#CCCCCC"> that's a term</font>

526
00:21:34,710 --> 00:21:39,120
that<font color="#E5E5E5"> people use a lot okay it's the goes</font>

527
00:21:37,470 --> 00:21:41,160
into<font color="#E5E5E5"> router because traffic goes into</font>

528
00:21:39,120 --> 00:21:48,090
the tunnel<font color="#CCCCCC"> alright so let's get the</font><font color="#E5E5E5"> COS</font>

529
00:21:41,160 --> 00:21:49,260
<font color="#CCCCCC">into thing going</font><font color="#E5E5E5"> okay</font><font color="#CCCCCC"> upstream</font><font color="#E5E5E5"> upstream</font>

530
00:21:48,090 --> 00:21:52,110
downstream we do have directionality

531
00:21:49,260 --> 00:21:54,750
here<font color="#E5E5E5"> okay so from</font><font color="#CCCCCC"> the perspective of the</font>

532
00:21:52,110 --> 00:21:56,280
routers further along the LSP<font color="#E5E5E5"> if you</font>

533
00:21:54,750 --> 00:21:58,110
will okay the ingress is the most

534
00:21:56,280 --> 00:21:59,430
upstream you<font color="#E5E5E5"> can get okay so yeah this</font>

535
00:21:58,110 --> 00:22:01,500
<font color="#E5E5E5">upstream downstream</font><font color="#CCCCCC"> that's going to be</font>

536
00:21:59,430 --> 00:22:03,780
important we start<font color="#E5E5E5"> talking about RSVP</font>

537
00:22:01,500 --> 00:22:05,160
okay<font color="#E5E5E5"> because messages flow either</font>

538
00:22:03,780 --> 00:22:09,649
upstream or downstream depending on what

539
00:22:05,160 --> 00:22:13,200
their function is now we had this

540
00:22:09,650 --> 00:22:14,640
<font color="#E5E5E5">functionality called the label push this</font>

541
00:22:13,200 --> 00:22:15,740
is the<font color="#E5E5E5"> fancy way of saying let me add a</font>

542
00:22:14,640 --> 00:22:17,730
<font color="#E5E5E5">label</font>

543
00:22:15,740 --> 00:22:20,190
okay so whether<font color="#E5E5E5"> I have a native IP</font>

544
00:22:17,730 --> 00:22:22,650
packet and I'm adding a new MPLS header

545
00:22:20,190 --> 00:22:23,910
or I have an existing packet with an

546
00:22:22,650 --> 00:22:27,300
MPLS header on it and I'm adding a

547
00:22:23,910 --> 00:22:30,330
second or maybe<font color="#E5E5E5"> a third MPLS header it's</font>

548
00:22:27,300 --> 00:22:33,230
a push operation<font color="#CCCCCC"> okay so you push it</font>

549
00:22:30,330 --> 00:22:33,230
<font color="#E5E5E5">onto the top of</font><font color="#CCCCCC"> the stack</font>

550
00:22:35,700 --> 00:22:40,170
in the middle we have transit routers<font color="#CCCCCC"> if</font>

551
00:22:37,890 --> 00:22:41,880
you want them<font color="#E5E5E5"> okay you</font><font color="#CCCCCC"> don't have</font><font color="#E5E5E5"> to</font>

552
00:22:40,170 --> 00:22:43,650
have transit routers<font color="#E5E5E5"> technically you can</font>

553
00:22:41,880 --> 00:22:44,670
<font color="#E5E5E5">go directly from ingress</font><font color="#CCCCCC"> to egress</font><font color="#E5E5E5"> and</font>

554
00:22:43,650 --> 00:22:46,680
<font color="#E5E5E5">they're directly connected</font>

555
00:22:44,670 --> 00:22:48,060
that's perfectly allowable<font color="#E5E5E5"> and I</font>

556
00:22:46,680 --> 00:22:49,410
actually know some people<font color="#E5E5E5"> that are doing</font>

557
00:22:48,060 --> 00:22:51,050
that<font color="#E5E5E5"> mainly for statistics reasons</font>

558
00:22:49,410 --> 00:22:53,400
<font color="#E5E5E5">because everything else is Ellis</font><font color="#CCCCCC"> bees</font>

559
00:22:51,050 --> 00:22:57,090
but if you have them<font color="#E5E5E5"> you</font><font color="#CCCCCC"> can only</font><font color="#E5E5E5"> have a</font>

560
00:22:53,400 --> 00:23:03,260
match of 253<font color="#E5E5E5"> any idea why</font><font color="#CCCCCC"> we have this</font>

561
00:22:57,090 --> 00:23:06,199
constraint TTL is a pretty good answer<font color="#CCCCCC"> I</font>

562
00:23:03,260 --> 00:23:09,360
only got<font color="#E5E5E5"> eight bits to play with the TTL</font>

563
00:23:06,200 --> 00:23:11,810
255<font color="#E5E5E5"> - ingress and egress</font><font color="#CCCCCC"> leaves me the</font>

564
00:23:09,360 --> 00:23:11,810
rest in the<font color="#E5E5E5"> middle</font>

565
00:23:21,590 --> 00:23:25,439
MPLS<font color="#CCCCCC"> only switching</font><font color="#E5E5E5"> oh you can still do</font>

566
00:23:25,260 --> 00:23:31,350
that

567
00:23:25,440 --> 00:23:32,610
Oh<font color="#CCCCCC"> in other</font><font color="#E5E5E5"> words can</font><font color="#CCCCCC"> you go and buy a</font>

568
00:23:31,350 --> 00:23:39,510
box it<font color="#CCCCCC"> only does that and</font><font color="#E5E5E5"> doesn't</font>

569
00:23:32,610 --> 00:23:43,530
understand IP don't know<font color="#E5E5E5"> don't</font><font color="#CCCCCC"> know we</font>

570
00:23:39,510 --> 00:23:45,510
certainly<font color="#E5E5E5"> don't</font><font color="#CCCCCC"> so the job of</font><font color="#E5E5E5"> transit</font>

571
00:23:43,530 --> 00:23:48,960
rider is to do what we call label swap

572
00:23:45,510 --> 00:23:50,940
operation<font color="#CCCCCC"> okay</font><font color="#E5E5E5"> now if you can think</font>

573
00:23:48,960 --> 00:23:53,940
<font color="#CCCCCC">about</font><font color="#E5E5E5"> label allocation okay let's look</font>

574
00:23:50,940 --> 00:23:55,290
at<font color="#E5E5E5"> this first</font><font color="#CCCCCC"> transit router here when</font>

575
00:23:53,940 --> 00:23:57,660
we establish this LSP and we'll talk

576
00:23:55,290 --> 00:24:00,210
about<font color="#E5E5E5"> that</font><font color="#CCCCCC"> in a second it allocated a</font>

577
00:23:57,660 --> 00:24:01,980
label upstream to the ingress okay

578
00:24:00,210 --> 00:24:03,480
pretty much said here's a label to use

579
00:24:01,980 --> 00:24:06,150
if you<font color="#E5E5E5"> want</font><font color="#CCCCCC"> to send me traffic for this</font>

580
00:24:03,480 --> 00:24:10,050
<font color="#E5E5E5">connection okay so when the ingress</font><font color="#CCCCCC"> ads</font>

581
00:24:06,150 --> 00:24:11,190
label push this header<font color="#E5E5E5"> ships it on down</font>

582
00:24:10,050 --> 00:24:14,070
<font color="#E5E5E5">to the first transit router it's</font><font color="#CCCCCC"> gonna</font>

583
00:24:11,190 --> 00:24:17,000
<font color="#E5E5E5">do a switching table lookup got</font><font color="#CCCCCC"> into</font>

584
00:24:14,070 --> 00:24:21,030
label value got it on interface<font color="#E5E5E5"> X</font>

585
00:24:17,000 --> 00:24:22,350
reference<font color="#E5E5E5"> out in the table and being a</font>

586
00:24:21,030 --> 00:24:24,090
transfer router<font color="#E5E5E5"> is going to have on the</font>

587
00:24:22,350 --> 00:24:27,000
outbound side<font color="#E5E5E5"> and outgoing interface and</font>

588
00:24:24,090 --> 00:24:28,709
a label value to use okay<font color="#E5E5E5"> the label</font>

589
00:24:27,000 --> 00:24:30,570
value to use outbound is what the next

590
00:24:28,710 --> 00:24:32,840
downstream neighbor told me to use for

591
00:24:30,570 --> 00:24:32,840
<font color="#CCCCCC">that connection</font>

592
00:24:33,850 --> 00:24:38,840
labels have local significance<font color="#CCCCCC"> okay and</font>

593
00:24:36,980 --> 00:24:40,340
typically<font color="#E5E5E5"> we're doing things in a per</font>

594
00:24:38,840 --> 00:24:42,559
box basis yeah<font color="#E5E5E5"> that's supposed to per</font>

595
00:24:40,340 --> 00:24:47,230
interface basis<font color="#E5E5E5"> okay so we're</font><font color="#CCCCCC"> gonna</font><font color="#E5E5E5"> swap</font>

596
00:24:42,559 --> 00:24:49,970
operation<font color="#E5E5E5"> label and ylabel</font><font color="#CCCCCC"> oh okay</font>

597
00:24:47,230 --> 00:24:53,179
and traps<font color="#CCCCCC"> are gonna</font><font color="#E5E5E5"> flow downstream next</font>

598
00:24:49,970 --> 00:24:54,710
physical<font color="#E5E5E5"> hot now the router</font><font color="#CCCCCC"> who's first</font>

599
00:24:53,179 --> 00:24:56,659
upstream<font color="#E5E5E5"> from the egress router has a</font>

600
00:24:54,710 --> 00:24:58,820
special function<font color="#CCCCCC"> special</font><font color="#E5E5E5"> name the panel</font>

601
00:24:56,659 --> 00:25:01,190
tonight router<font color="#E5E5E5"> okay so a nice</font><font color="#CCCCCC"> latin</font>

602
00:24:58,820 --> 00:25:02,779
thing<font color="#E5E5E5"> if the last one is the ultimate</font>

603
00:25:01,190 --> 00:25:05,360
router<font color="#E5E5E5"> next one upstream is the</font>

604
00:25:02,779 --> 00:25:11,419
penultimate router okay that's all it

605
00:25:05,360 --> 00:25:14,840
means<font color="#E5E5E5"> ultimate the pedal</font><font color="#CCCCCC"> taut router can</font>

606
00:25:11,419 --> 00:25:16,760
either do a swapping<font color="#CCCCCC"> operation as a</font>

607
00:25:14,840 --> 00:25:18,590
regular<font color="#CCCCCC"> quote-unquote</font><font color="#E5E5E5"> transit router or</font>

608
00:25:16,760 --> 00:25:23,120
it can do a pop operation<font color="#CCCCCC"> which is the</font>

609
00:25:18,590 --> 00:25:24,230
removal of the<font color="#CCCCCC"> MPLS header</font><font color="#E5E5E5"> okay and the</font>

610
00:25:23,120 --> 00:25:25,549
function<font color="#CCCCCC"> it's going to perform is going</font>

611
00:25:24,230 --> 00:25:28,640
to be based on what<font color="#CCCCCC"> the egress</font><font color="#E5E5E5"> router</font>

612
00:25:25,549 --> 00:25:30,590
<font color="#CCCCCC">tell</font><font color="#E5E5E5"> us to do and we'll see in a bit</font>

613
00:25:28,640 --> 00:25:32,600
there's two ways to<font color="#CCCCCC"> do that</font><font color="#E5E5E5"> you</font><font color="#CCCCCC"> either</font>

614
00:25:30,590 --> 00:25:35,529
<font color="#E5E5E5">tell the penultimate router send me an</font>

615
00:25:32,600 --> 00:25:38,658
MPLS header which case he's doing a swap

616
00:25:35,529 --> 00:25:43,460
<font color="#CCCCCC">or you tell the penultimate router</font><font color="#E5E5E5"> to</font>

617
00:25:38,659 --> 00:25:44,899
not send me sort of<font color="#E5E5E5"> an MPLS header kind</font>

618
00:25:43,460 --> 00:25:48,169
<font color="#E5E5E5">of painting with a big broad brush here</font>

619
00:25:44,899 --> 00:25:51,678
so which case I'm gonna<font color="#E5E5E5"> do a removal</font>

620
00:25:48,169 --> 00:25:53,450
operation okay now the thing to<font color="#CCCCCC"> remember</font>

621
00:25:51,679 --> 00:25:54,610
about this removal operation and we call

622
00:25:53,450 --> 00:25:56,779
it penultimate hop hopping<font color="#CCCCCC"> there's</font>

623
00:25:54,610 --> 00:25:59,809
there's a nice acronyms<font color="#CCCCCC"> for you right</font>

624
00:25:56,779 --> 00:26:01,820
now<font color="#CCCCCC"> can I'm happy the function the</font>

625
00:25:59,809 --> 00:26:04,629
<font color="#CCCCCC">pulper outer is take off the top</font><font color="#E5E5E5"> label</font>

626
00:26:01,820 --> 00:26:06,830
and send<font color="#E5E5E5"> whatever is left downstream</font>

627
00:26:04,630 --> 00:26:09,860
okay so<font color="#E5E5E5"> whatever is left could be an IP</font>

628
00:26:06,830 --> 00:26:12,770
packet<font color="#E5E5E5"> could be a packet with</font><font color="#CCCCCC"> another</font>

629
00:26:09,860 --> 00:26:13,939
MPLS headers on it okay<font color="#E5E5E5"> not the job</font><font color="#CCCCCC"> of</font>

630
00:26:12,770 --> 00:26:15,980
the penultimate to make that decision

631
00:26:13,940 --> 00:26:19,820
<font color="#E5E5E5">tear off with top</font><font color="#CCCCCC"> label</font><font color="#E5E5E5"> and some</font>

632
00:26:15,980 --> 00:26:25,520
whatever's left so the egress router<font color="#E5E5E5"> yes</font>

633
00:26:19,820 --> 00:26:28,370
sir<font color="#E5E5E5"> what's the advantage of penultimate</font>

634
00:26:25,520 --> 00:26:32,090
hop hopping<font color="#E5E5E5"> PHP give me two seconds I'm</font>

635
00:26:28,370 --> 00:26:33,529
getting there I got a slide so the

636
00:26:32,090 --> 00:26:36,529
egress router is the mirror of<font color="#E5E5E5"> ingress</font>

637
00:26:33,529 --> 00:26:38,720
<font color="#CCCCCC">okay this were</font><font color="#E5E5E5"> packets leave the LSP</font>

638
00:26:36,529 --> 00:26:39,470
<font color="#CCCCCC">this is the tail and</font><font color="#E5E5E5"> this is a good goes</font>

639
00:26:38,720 --> 00:26:41,419
out<font color="#E5E5E5"> of router</font>

640
00:26:39,470 --> 00:26:45,080
<font color="#E5E5E5">yeah</font><font color="#CCCCCC"> it's downstream of everybody else</font>

641
00:26:41,419 --> 00:26:46,140
and we<font color="#CCCCCC"> have</font><font color="#E5E5E5"> the label pop thing okay</font>

642
00:26:45,080 --> 00:26:49,820
potentially

643
00:26:46,140 --> 00:26:52,080
okay so the<font color="#CCCCCC"> removal of lables lable pop</font>

644
00:26:49,820 --> 00:26:56,539
so we're all we're good we got labels

645
00:26:52,080 --> 00:26:56,539
ingress<font color="#E5E5E5"> transit</font><font color="#CCCCCC"> penultimate egress</font>

646
00:26:57,980 --> 00:27:08,010
okay so ultimate pop<font color="#CCCCCC"> popping</font><font color="#E5E5E5"> versus</font>

647
00:27:03,090 --> 00:27:09,918
<font color="#E5E5E5">penultimate hop</font><font color="#CCCCCC"> popping ultimate hop</font>

648
00:27:08,010 --> 00:27:12,029
popping means<font color="#CCCCCC"> the egress router itself</font>

649
00:27:09,919 --> 00:27:15,269
is going<font color="#E5E5E5"> to</font><font color="#CCCCCC"> be doing the pop operation</font>

650
00:27:12,029 --> 00:27:18,870
<font color="#CCCCCC">this would be the one tearing off the</font>

651
00:27:15,269 --> 00:27:20,880
MPLS header<font color="#E5E5E5"> okay so what's going</font><font color="#CCCCCC"> to</font>

652
00:27:18,870 --> 00:27:22,620
happen<font color="#CCCCCC"> here</font><font color="#E5E5E5"> is the egress router is</font>

653
00:27:20,880 --> 00:27:27,450
<font color="#E5E5E5">going to signal</font><font color="#CCCCCC"> a label value of zero</font>

654
00:27:22,620 --> 00:27:28,649
upstream<font color="#E5E5E5"> for this LSP connection and</font>

655
00:27:27,450 --> 00:27:30,950
when<font color="#CCCCCC"> traffic gets to the penultimate</font>

656
00:27:28,649 --> 00:27:33,989
router<font color="#CCCCCC"> it's gonna</font><font color="#E5E5E5"> do a label swap</font>

657
00:27:30,950 --> 00:27:37,799
whatever label<font color="#E5E5E5"> came in is going to be</font>

658
00:27:33,990 --> 00:27:38,820
<font color="#E5E5E5">swapped for</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> label value of zero okay</font>

659
00:27:37,799 --> 00:27:40,620
<font color="#E5E5E5">so the packet</font><font color="#CCCCCC"> that actually is</font>

660
00:27:38,820 --> 00:27:44,309
transmitted<font color="#CCCCCC"> from peltzman</font><font color="#E5E5E5"> to the egress</font>

661
00:27:40,620 --> 00:27:46,590
<font color="#E5E5E5">router has an MPLS header on it by</font>

662
00:27:44,309 --> 00:27:49,158
<font color="#E5E5E5">default</font><font color="#CCCCCC"> just one</font><font color="#E5E5E5"> actually by spec just</font>

663
00:27:46,590 --> 00:27:52,470
one it isn't<font color="#CCCCCC"> the bottom of the stack of</font>

664
00:27:49,159 --> 00:27:55,049
<font color="#CCCCCC">all zeros</font><font color="#E5E5E5"> and the label value eg our</font>

665
00:27:52,470 --> 00:28:00,169
adder receives us in label value of zero

666
00:27:55,049 --> 00:28:00,168
says do a pop followed by an IP lookup

667
00:28:01,490 --> 00:28:06,840
<font color="#CCCCCC">clustal service is way</font><font color="#E5E5E5"> outside the scope</font>

668
00:28:03,690 --> 00:28:10,230
of<font color="#CCCCCC"> today's talk that's why you probably</font>

669
00:28:06,840 --> 00:28:11,129
<font color="#CCCCCC">keep it yes that's really good reason</font><font color="#E5E5E5"> so</font>

670
00:28:10,230 --> 00:28:14,190
we're gonna<font color="#CCCCCC"> wrap you look up on</font><font color="#E5E5E5"> the</font>

671
00:28:11,130 --> 00:28:23,029
egress router<font color="#E5E5E5"> in our ipv4 routing table</font>

672
00:28:14,190 --> 00:28:24,440
forward based on<font color="#CCCCCC"> whatever that says yes</font>

673
00:28:23,029 --> 00:28:28,230
yes

674
00:28:24,440 --> 00:28:30,389
it is<font color="#E5E5E5"> it is well there's two</font><font color="#CCCCCC"> ways to</font>

675
00:28:28,230 --> 00:28:32,130
<font color="#E5E5E5">play play there by default</font><font color="#CCCCCC"> our boxes</font>

676
00:28:30,389 --> 00:28:33,779
it's maintained<font color="#CCCCCC"> if you run with</font><font color="#E5E5E5"> our</font>

677
00:28:32,130 --> 00:28:36,120
defaults<font color="#E5E5E5"> it's maintained because</font><font color="#CCCCCC"> it's</font>

678
00:28:33,779 --> 00:28:39,260
also two zeros but<font color="#E5E5E5"> you can't go box by</font>

679
00:28:36,120 --> 00:28:43,350
box and make it do<font color="#E5E5E5"> something else</font><font color="#CCCCCC"> okay</font>

680
00:28:39,260 --> 00:28:45,840
<font color="#E5E5E5">so why do pelts with hop hopping well</font>

681
00:28:43,350 --> 00:28:47,600
<font color="#E5E5E5">what if this egress router had thousands</font>

682
00:28:45,840 --> 00:28:50,490
<font color="#E5E5E5">and thousands and thousands of LSPs</font>

683
00:28:47,600 --> 00:28:53,490
terminating on it it's<font color="#E5E5E5"> doing lots and</font>

684
00:28:50,490 --> 00:28:57,630
lots<font color="#E5E5E5"> and</font><font color="#CCCCCC"> lots of popping operations</font><font color="#E5E5E5"> okay</font>

685
00:28:53,490 --> 00:29:00,000
so let's pass the buck let's move let me

686
00:28:57,630 --> 00:29:04,250
<font color="#E5E5E5">slide forward</font><font color="#CCCCCC"> two slides here let's move</font>

687
00:29:00,000 --> 00:29:04,250
the<font color="#E5E5E5"> functionality of this pop-up stream</font>

688
00:29:04,820 --> 00:29:10,169
<font color="#E5E5E5">so specifically it's really helpful for</font>

689
00:29:08,970 --> 00:29:13,050
stuff<font color="#E5E5E5"> that's</font><font color="#CCCCCC"> not</font><font color="#E5E5E5"> a sick base right</font>

690
00:29:10,170 --> 00:29:15,840
because we do a<font color="#CCCCCC"> CPA look CPU lookups on</font>

691
00:29:13,050 --> 00:29:17,790
the egress router doing lots and<font color="#E5E5E5"> lots</font>

692
00:29:15,840 --> 00:29:20,520
and<font color="#CCCCCC"> lots of pops gets kind of bad so we</font>

693
00:29:17,790 --> 00:29:25,139
<font color="#E5E5E5">just we're gonna pass the buck</font><font color="#CCCCCC"> okay</font><font color="#E5E5E5"> move</font>

694
00:29:20,520 --> 00:29:26,460
<font color="#CCCCCC">it upstream</font><font color="#E5E5E5"> so going back a slide the</font>

695
00:29:25,140 --> 00:29:30,180
egress router is<font color="#CCCCCC"> going to signal a label</font>

696
00:29:26,460 --> 00:29:32,820
value of<font color="#CCCCCC"> 3</font><font color="#E5E5E5"> what that tells the</font>

697
00:29:30,180 --> 00:29:35,250
penultimate router is your function<font color="#E5E5E5"> for</font>

698
00:29:32,820 --> 00:29:38,700
this connection<font color="#E5E5E5"> is to do a label pop and</font>

699
00:29:35,250 --> 00:29:40,650
for<font color="#E5E5E5"> whatever is left to</font><font color="#CCCCCC"> the egress</font><font color="#E5E5E5"> okay</font>

700
00:29:38,700 --> 00:29:42,900
so whatever<font color="#E5E5E5"> is left is ipv4 the egress</font>

701
00:29:40,650 --> 00:29:44,040
<font color="#E5E5E5">router simply does a v4 lookup</font><font color="#CCCCCC"> Merry</font>

702
00:29:42,900 --> 00:29:44,480
<font color="#CCCCCC">Christmas find the next hop and off we</font>

703
00:29:44,040 --> 00:29:47,159
go

704
00:29:44,480 --> 00:29:49,800
<font color="#E5E5E5">if whatever's left happens to be an MPLS</font>

705
00:29:47,160 --> 00:29:52,590
header then the egress router does<font color="#E5E5E5"> a and</font>

706
00:29:49,800 --> 00:29:58,169
<font color="#CCCCCC">peel us what you look up finds</font><font color="#E5E5E5"> a label</font>

707
00:29:52,590 --> 00:29:59,939
value and off we go so that's<font color="#CCCCCC"> all we're</font>

708
00:29:58,170 --> 00:30:01,650
<font color="#CCCCCC">saying here we're passing the buck</font><font color="#E5E5E5"> now a</font>

709
00:29:59,940 --> 00:30:03,930
label value of<font color="#CCCCCC"> 3 is never going to show</font>

710
00:30:01,650 --> 00:30:04,500
up in an MPLS header it can't<font color="#E5E5E5"> by</font>

711
00:30:03,930 --> 00:30:07,980
<font color="#E5E5E5">definition</font>

712
00:30:04,500 --> 00:30:09,200
<font color="#CCCCCC">okay spec says</font><font color="#E5E5E5"> no can't do that</font><font color="#CCCCCC"> bad bad</font>

713
00:30:07,980 --> 00:30:11,820
driver

714
00:30:09,200 --> 00:30:14,400
<font color="#E5E5E5">so the signaling thing and all the show</font>

715
00:30:11,820 --> 00:30:15,810
<font color="#E5E5E5">outputs you'll see label value of 3 but</font>

716
00:30:14,400 --> 00:30:18,570
<font color="#E5E5E5">don't actually use that to transmit</font>

717
00:30:15,810 --> 00:30:20,629
packets<font color="#CCCCCC"> ok</font><font color="#E5E5E5"> means PHP do the pop and</font>

718
00:30:18,570 --> 00:30:23,629
throw<font color="#CCCCCC"> so if didn't answer the question</font>

719
00:30:20,630 --> 00:30:23,630
<font color="#CCCCCC">okay</font>

720
00:30:24,800 --> 00:30:30,720
hardware routers it's not as much<font color="#CCCCCC"> of a</font>

721
00:30:26,730 --> 00:30:37,550
big<font color="#CCCCCC"> deal yeah right but</font><font color="#E5E5E5"> most folks are</font>

722
00:30:30,720 --> 00:30:37,550
doing<font color="#E5E5E5"> this by default</font><font color="#CCCCCC"> ok</font><font color="#E5E5E5"> yes sir</font>

723
00:30:42,890 --> 00:30:51,180
okay when I'm<font color="#E5E5E5"> ah so I have a single hot</font>

724
00:30:50,070 --> 00:30:55,350
<font color="#CCCCCC">bellows piece what we call</font><font color="#E5E5E5"> it right</font>

725
00:30:51,180 --> 00:30:57,600
<font color="#CCCCCC">ingress to</font><font color="#E5E5E5"> egress okay</font><font color="#CCCCCC"> if the egress</font>

726
00:30:55,350 --> 00:30:59,520
router signals label value of<font color="#E5E5E5"> three what</font>

727
00:30:57,600 --> 00:31:02,010
that means is I'm supposed<font color="#E5E5E5"> to do a pop</font>

728
00:30:59,520 --> 00:31:03,810
operation<font color="#CCCCCC"> but if I'm getting an ipv4 I</font>

729
00:31:02,010 --> 00:31:06,629
don't<font color="#E5E5E5"> really add a label so what it</font>

730
00:31:03,810 --> 00:31:08,429
turns out<font color="#E5E5E5"> to be is regular before</font><font color="#CCCCCC"> bond</font>

731
00:31:06,630 --> 00:31:10,170
<font color="#E5E5E5">both sides of the link okay but</font>

732
00:31:08,430 --> 00:31:11,910
technically from<font color="#E5E5E5"> the ingress</font><font color="#CCCCCC"> writers</font>

733
00:31:10,170 --> 00:31:14,220
perspective<font color="#E5E5E5"> I</font><font color="#CCCCCC"> forwarded across an LSP</font>

734
00:31:11,910 --> 00:31:15,600
so all the traffic stats for that get

735
00:31:14,220 --> 00:31:17,310
allocated<font color="#E5E5E5"> for that LSP so if you're</font>

736
00:31:15,600 --> 00:31:20,990
using it for<font color="#CCCCCC"> traffic</font><font color="#E5E5E5"> stats stuff that's</font>

737
00:31:17,310 --> 00:31:20,990
pretty<font color="#E5E5E5"> helpful okay good question</font>

738
00:31:23,300 --> 00:31:30,510
okay<font color="#E5E5E5"> so let's look at how we send IP</font>

739
00:31:26,520 --> 00:31:33,590
packets<font color="#CCCCCC"> well the</font><font color="#E5E5E5"> total here I've</font>

740
00:31:30,510 --> 00:31:36,090
established<font color="#E5E5E5"> in LSP from left to right</font>

741
00:31:33,590 --> 00:31:37,709
<font color="#E5E5E5">the pardon me the values but the</font>

742
00:31:36,090 --> 00:31:40,610
interfaces<font color="#CCCCCC"> are the label values that</font>

743
00:31:37,710 --> 00:31:42,420
were allocated<font color="#E5E5E5"> okay so the egress sent</font>

744
00:31:40,610 --> 00:31:45,120
advertised label value of<font color="#CCCCCC"> three</font>

745
00:31:42,420 --> 00:31:46,710
penultimate router advertised<font color="#E5E5E5"> next value</font>

746
00:31:45,120 --> 00:31:49,949
and so<font color="#E5E5E5"> on so on okay so that's what</font>

747
00:31:46,710 --> 00:31:51,660
those<font color="#E5E5E5"> values are so IP</font><font color="#CCCCCC"> packets shows</font><font color="#E5E5E5"> off</font>

748
00:31:49,950 --> 00:31:54,180
on the ingress doesn't<font color="#CCCCCC"> writing-table</font>

749
00:31:51,660 --> 00:31:59,370
<font color="#CCCCCC">look up and finds this</font><font color="#E5E5E5"> subnet</font><font color="#CCCCCC"> one into</font>

750
00:31:54,180 --> 00:32:01,440
<font color="#E5E5E5">168 1/24 destination of the IP packet is</font>

751
00:31:59,370 --> 00:32:06,139
wanted<font color="#E5E5E5"> to a sixty eight one one so cool</font>

752
00:32:01,440 --> 00:32:09,120
founder out my next hop is the<font color="#E5E5E5"> LSP</font>

753
00:32:06,140 --> 00:32:11,970
so my<font color="#E5E5E5"> functions do a label push</font><font color="#CCCCCC"> add on a</font>

754
00:32:09,120 --> 00:32:14,580
label<font color="#E5E5E5"> and on a header and I still</font><font color="#CCCCCC"> gotta</font>

755
00:32:11,970 --> 00:32:16,680
hit<font color="#CCCCCC"> earth got a label</font><font color="#E5E5E5"> value of 101</font><font color="#CCCCCC"> 456</font>

756
00:32:14,580 --> 00:32:21,689
and<font color="#E5E5E5"> I forward it to the next downstream</font>

757
00:32:16,680 --> 00:32:24,500
router both the transit routers in this

758
00:32:21,690 --> 00:32:26,490
case<font color="#E5E5E5"> part of me do label swap operations</font>

759
00:32:24,500 --> 00:32:27,510
<font color="#E5E5E5">they understand the labels that came in</font>

760
00:32:26,490 --> 00:32:30,030
<font color="#CCCCCC">because they're the ones that allocated</font>

761
00:32:27,510 --> 00:32:31,379
<font color="#E5E5E5">them so we swap 101 56 for the next one</font>

762
00:32:30,030 --> 00:32:33,780
in line again

763
00:32:31,380 --> 00:32:36,720
pardon me swap 108 101 for the next one

764
00:32:33,780 --> 00:32:39,110
in line now we come to the penultimate

765
00:32:36,720 --> 00:32:39,110
router

766
00:32:41,919 --> 00:32:46,419
got a<font color="#CCCCCC"> label value in</font><font color="#E5E5E5"> over</font><font color="#CCCCCC"> 100</font><font color="#E5E5E5"> thousand</font>

767
00:32:44,019 --> 00:32:50,190
<font color="#CCCCCC">and one</font><font color="#E5E5E5"> it's switching table says do a</font>

768
00:32:46,419 --> 00:32:53,289
pop<font color="#E5E5E5"> okay so it tears off the top label</font>

769
00:32:50,190 --> 00:32:54,809
<font color="#CCCCCC">throws whatever is left downstream in</font>

770
00:32:53,289 --> 00:32:56,890
this case happens<font color="#CCCCCC"> to be</font><font color="#E5E5E5"> an IP</font><font color="#CCCCCC"> packet</font>

771
00:32:54,809 --> 00:32:59,408
okay<font color="#CCCCCC"> so we need to buy</font><font color="#E5E5E5"> P shows up the</font>

772
00:32:56,890 --> 00:33:03,630
egress router<font color="#CCCCCC"> will do a regular v4 route</font>

773
00:32:59,409 --> 00:33:03,630
<font color="#E5E5E5">lookup we find a next top off we go</font>

774
00:33:12,300 --> 00:33:17,190
<font color="#E5E5E5">okay for our transition</font><font color="#CCCCCC"> - how do we</font><font color="#E5E5E5"> set</font>

775
00:33:15,490 --> 00:33:27,910
these<font color="#E5E5E5"> things up any questions</font><font color="#CCCCCC"> on</font>

776
00:33:17,190 --> 00:33:29,170
terminology<font color="#E5E5E5"> label values I'm on the</font>

777
00:33:27,910 --> 00:33:37,300
ingress<font color="#CCCCCC"> and I want to figure</font><font color="#E5E5E5"> out what</font>

778
00:33:29,170 --> 00:33:39,430
the path is through the network doesn't

779
00:33:37,300 --> 00:33:41,050
spit<font color="#E5E5E5"> out LSP mappings not exactly</font>

780
00:33:39,430 --> 00:33:42,820
if using RSVP you can see what hops are

781
00:33:41,050 --> 00:33:44,379
taking but you have no<font color="#CCCCCC"> idea in the</font>

782
00:33:42,820 --> 00:33:45,790
<font color="#CCCCCC">middle</font><font color="#E5E5E5"> on those transit routers what</font>

783
00:33:44,380 --> 00:33:49,510
label<font color="#CCCCCC"> batteries are being used unless</font>

784
00:33:45,790 --> 00:33:54,190
you go<font color="#CCCCCC"> to</font><font color="#E5E5E5"> the transit rider good</font>

785
00:33:49,510 --> 00:33:56,860
question okay so signaling protocols<font color="#CCCCCC"> are</font>

786
00:33:54,190 --> 00:33:59,020
<font color="#CCCCCC">CP</font><font color="#E5E5E5"> okay resource reservation protocol</font>

787
00:33:56,860 --> 00:34:01,449
pretty<font color="#CCCCCC"> well-known</font><font color="#E5E5E5"> originally designed</font>

788
00:33:59,020 --> 00:34:03,310
for end hosts<font color="#E5E5E5"> in a network to be able to</font>

789
00:34:01,450 --> 00:34:05,350
<font color="#E5E5E5">allocate resources</font><font color="#CCCCCC"> all right set up a</font>

790
00:34:03,310 --> 00:34:07,990
connection<font color="#CCCCCC"> between themselves for the</font>

791
00:34:05,350 --> 00:34:09,668
transmission of packets<font color="#E5E5E5"> we had this</font>

792
00:34:07,990 --> 00:34:12,280
notion of policing<font color="#E5E5E5"> and bandwidth</font>

793
00:34:09,668 --> 00:34:13,569
allocations<font color="#CCCCCC"> your resources are allocated</font>

794
00:34:12,280 --> 00:34:15,730
which<font color="#E5E5E5"> works really well to enterprise</font>

795
00:34:13,570 --> 00:34:18,669
environment but<font color="#E5E5E5"> you know in the intranet</font>

796
00:34:15,730 --> 00:34:20,469
<font color="#E5E5E5">or an</font><font color="#CCCCCC"> SP environment you may not want</font><font color="#E5E5E5"> to</font>

797
00:34:18,668 --> 00:34:22,230
let your customers<font color="#E5E5E5"> dictate how the</font>

798
00:34:20,469 --> 00:34:24,339
resources on your<font color="#E5E5E5"> riders are allocated</font>

799
00:34:22,230 --> 00:34:27,820
most people kind<font color="#E5E5E5"> of have issues with</font>

800
00:34:24,340 --> 00:34:29,710
<font color="#E5E5E5">that</font><font color="#CCCCCC"> so</font><font color="#E5E5E5"> RSVP</font><font color="#CCCCCC"> in</font><font color="#E5E5E5"> its native form is not</font>

801
00:34:27,820 --> 00:34:32,169
really used<font color="#E5E5E5"> for this what we did was we</font>

802
00:34:29,710 --> 00:34:33,940
extended the protocol okay<font color="#CCCCCC"> we added</font>

803
00:34:32,168 --> 00:34:36,549
extensions to it specifically traffic

804
00:34:33,940 --> 00:34:39,880
engineering extensions<font color="#E5E5E5"> and now instead</font>

805
00:34:36,550 --> 00:34:43,350
<font color="#CCCCCC">of</font><font color="#E5E5E5"> two pcs being the end hosts of this</font>

806
00:34:39,880 --> 00:34:45,340
<font color="#E5E5E5">connection now we have two routers</font>

807
00:34:43,350 --> 00:34:47,469
specifically the ingress in the egress

808
00:34:45,340 --> 00:34:49,990
router being the<font color="#E5E5E5"> endpoints of our</font>

809
00:34:47,469 --> 00:34:52,120
session now of our<font color="#CCCCCC"> RSVP connection and</font>

810
00:34:49,989 --> 00:34:53,290
between them they'll hate resources and

811
00:34:52,120 --> 00:34:55,029
that's cool<font color="#E5E5E5"> because you own all the</font>

812
00:34:53,290 --> 00:34:58,930
boxes<font color="#CCCCCC"> in between okay so</font><font color="#E5E5E5"> we don't</font><font color="#CCCCCC"> have a</font>

813
00:34:55,030 --> 00:35:00,190
<font color="#E5E5E5">problem there because</font><font color="#CCCCCC"> it's</font><font color="#E5E5E5"> supporting</font>

814
00:34:58,930 --> 00:35:02,259
traffic engineering we<font color="#E5E5E5"> have</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> ability</font>

815
00:35:00,190 --> 00:35:05,260
to exactly map out what links in the

816
00:35:02,260 --> 00:35:06,400
network<font color="#E5E5E5"> to use for forwarding we do have</font>

817
00:35:05,260 --> 00:35:08,110
this notion of bandwidth reservations

818
00:35:06,400 --> 00:35:11,500
which I'll talk about in<font color="#E5E5E5"> a couple</font><font color="#CCCCCC"> slides</font>

819
00:35:08,110 --> 00:35:14,440
from now and<font color="#CCCCCC"> we're gonna allocate labels</font>

820
00:35:11,500 --> 00:35:18,420
along the path of<font color="#CCCCCC"> the</font><font color="#E5E5E5"> LSP okay and it's</font>

821
00:35:14,440 --> 00:35:18,420
<font color="#CCCCCC">downstream and</font><font color="#E5E5E5"> on-demand functionality</font>

822
00:35:19,579 --> 00:35:25,740
is<font color="#E5E5E5"> their dynamic bandwidth response sort</font>

823
00:35:24,269 --> 00:35:28,160
of<font color="#E5E5E5"> let me get to that</font><font color="#CCCCCC"> I get to the</font>

824
00:35:25,740 --> 00:35:28,160
bandwidth slide

825
00:35:29,059 --> 00:35:35,730
another popular<font color="#CCCCCC"> protocols LDP label</font>

826
00:35:31,950 --> 00:35:37,828
distribution protocol<font color="#CCCCCC"> as far as a</font>

827
00:35:35,730 --> 00:35:42,329
protocol state<font color="#CCCCCC"> compared to RSVP it's</font>

828
00:35:37,829 --> 00:35:43,650
more lightweight<font color="#E5E5E5"> but the downside</font><font color="#CCCCCC"> is you</font>

829
00:35:42,329 --> 00:35:46,859
don't<font color="#E5E5E5"> have traffic engineering built</font>

830
00:35:43,650 --> 00:35:48,930
<font color="#CCCCCC">into</font><font color="#E5E5E5"> LDP okay so you're forwarding</font>

831
00:35:46,859 --> 00:35:50,549
things using labels<font color="#E5E5E5"> but they're</font>

832
00:35:48,930 --> 00:35:52,799
following<font color="#E5E5E5"> the IGP shortest path or</font>

833
00:35:50,549 --> 00:35:56,809
<font color="#E5E5E5">whatever your routing normal v4 routing</font>

834
00:35:52,799 --> 00:35:56,809
best path would<font color="#E5E5E5"> be</font><font color="#CCCCCC"> for the destination</font>

835
00:35:58,579 --> 00:36:05,210
how can we determine that<font color="#E5E5E5"> good question</font>

836
00:36:01,410 --> 00:36:05,210
can you wait till<font color="#E5E5E5"> I get to the end</font><font color="#CCCCCC"> okay</font>

837
00:36:05,960 --> 00:36:10,470
<font color="#CCCCCC">if you want to do te stuff with</font><font color="#E5E5E5"> LD P</font>

838
00:36:08,730 --> 00:36:12,960
there is<font color="#CCCCCC"> a version called constraint</font>

839
00:36:10,470 --> 00:36:14,578
routing<font color="#E5E5E5"> LDPC</font><font color="#CCCCCC"> l DP okay the only</font><font color="#E5E5E5"> real</font>

840
00:36:12,960 --> 00:36:16,369
problem<font color="#CCCCCC"> here</font><font color="#E5E5E5"> is it got limited support</font>

841
00:36:14,579 --> 00:36:18,509
from vendors<font color="#E5E5E5"> like specifically on our</font>

842
00:36:16,369 --> 00:36:22,019
<font color="#CCCCCC">t-series routers we don't support that</font>

843
00:36:18,509 --> 00:36:25,079
on our<font color="#CCCCCC"> eseries routers with you and</font>

844
00:36:22,019 --> 00:36:26,609
what's not<font color="#E5E5E5"> mistaken there was a decision</font>

845
00:36:25,079 --> 00:36:28,650
<font color="#CCCCCC">in the working</font><font color="#E5E5E5"> group to say</font><font color="#CCCCCC"> okay it's</font>

846
00:36:26,609 --> 00:36:29,848
defined it's built but we're not going

847
00:36:28,650 --> 00:36:31,890
to<font color="#E5E5E5"> develop it any further so it's</font><font color="#CCCCCC"> just</font>

848
00:36:29,849 --> 00:36:33,450
sort of<font color="#E5E5E5"> kind</font><font color="#CCCCCC"> of laying there and maybe</font>

849
00:36:31,890 --> 00:36:37,109
<font color="#CCCCCC">it'll die a slow death somewhere</font><font color="#E5E5E5"> I don't</font>

850
00:36:33,450 --> 00:36:40,049
<font color="#CCCCCC">know yes the use</font><font color="#E5E5E5"> for</font><font color="#CCCCCC"> acquisition was</font><font color="#E5E5E5"> are</font>

851
00:36:37,109 --> 00:36:42,089
you<font color="#E5E5E5"> serious boxes so let's talk about</font>

852
00:36:40,049 --> 00:36:44,160
RSVP first<font color="#E5E5E5"> because there's a lot more to</font>

853
00:36:42,089 --> 00:36:47,960
talk about<font color="#E5E5E5"> with</font><font color="#CCCCCC"> that there's a lot</font><font color="#E5E5E5"> more</font>

854
00:36:44,160 --> 00:36:47,960
<font color="#E5E5E5">that goes into it yeah</font>

855
00:36:49,130 --> 00:36:56,910
popularity that's<font color="#E5E5E5"> uh that's kind of a</font>

856
00:36:51,390 --> 00:37:00,690
sticky<font color="#CCCCCC"> wicket both our</font><font color="#E5E5E5"> customers</font><font color="#CCCCCC"> do</font><font color="#E5E5E5"> both</font>

857
00:36:56,910 --> 00:37:02,819
and some networks using<font color="#CCCCCC"> combine most</font>

858
00:37:00,690 --> 00:37:05,509
<font color="#CCCCCC">will pick one or</font><font color="#E5E5E5"> the other</font><font color="#CCCCCC"> some of the</font>

859
00:37:02,819 --> 00:37:08,489
issues<font color="#E5E5E5"> involved interoperability okay</font>

860
00:37:05,509 --> 00:37:10,259
<font color="#CCCCCC">MVP is more widely available for</font><font color="#E5E5E5"> Interop</font>

861
00:37:08,489 --> 00:37:12,059
<font color="#E5E5E5">so maybe that's a decision they go that</font>

862
00:37:10,259 --> 00:37:13,289
direction<font color="#CCCCCC"> if they need to</font><font color="#E5E5E5"> do traffic</font>

863
00:37:12,059 --> 00:37:15,539
<font color="#E5E5E5">engineering or one or traffic</font>

864
00:37:13,289 --> 00:37:18,239
engineering<font color="#E5E5E5"> then they'll</font><font color="#CCCCCC"> use RSVP of</font>

865
00:37:15,539 --> 00:37:19,950
course<font color="#E5E5E5"> and there are versions of code</font>

866
00:37:18,239 --> 00:37:22,380
values and<font color="#E5E5E5"> things that will interact</font>

867
00:37:19,950 --> 00:37:27,879
with<font color="#CCCCCC"> that too</font><font color="#E5E5E5"> okay so of course there's</font>

868
00:37:22,380 --> 00:37:32,650
no clear answer<font color="#CCCCCC"> they're far</font><font color="#E5E5E5"> away</font>

869
00:37:27,880 --> 00:37:35,060
use your<font color="#CCCCCC"> IG PDS traffic engineering sure</font>

870
00:37:32,650 --> 00:37:36,530
sure yeah if<font color="#E5E5E5"> you're happy with the</font>

871
00:37:35,060 --> 00:37:37,730
actual links that are being used for

872
00:37:36,530 --> 00:37:40,250
<font color="#E5E5E5">forwarding in your network then yeah you</font>

873
00:37:37,730 --> 00:37:46,940
<font color="#E5E5E5">can use LTP you don't have the ability</font>

874
00:37:40,250 --> 00:37:48,380
<font color="#CCCCCC">to explicit pass stuff yeah no you have</font>

875
00:37:46,940 --> 00:37:54,109
an LSP it's a<font color="#E5E5E5"> connection from you to</font>

876
00:37:48,380 --> 00:37:56,720
<font color="#E5E5E5">someplace else well that's an</font>

877
00:37:54,109 --> 00:37:58,609
implementation dependent thing for us

878
00:37:56,720 --> 00:38:01,129
we're<font color="#CCCCCC"> gonna</font><font color="#E5E5E5"> do a random choices</font><font color="#CCCCCC"> like</font><font color="#E5E5E5"> we</font>

879
00:37:58,609 --> 00:38:02,509
do in our regular routing table<font color="#E5E5E5"> okay so</font>

880
00:38:01,130 --> 00:38:02,810
if I have three possible<font color="#CCCCCC"> ways to get</font>

881
00:38:02,510 --> 00:38:04,760
there

882
00:38:02,810 --> 00:38:06,880
for an individual prefix I'm gonna pick

883
00:38:04,760 --> 00:38:06,880
<font color="#CCCCCC">one</font>

884
00:38:17,359 --> 00:38:24,480
<font color="#E5E5E5">okay so the connection from ingress</font><font color="#CCCCCC"> to</font>

885
00:38:20,309 --> 00:38:26,400
egress<font color="#E5E5E5"> an RSVP session okay it's this</font>

886
00:38:24,480 --> 00:38:28,230
concept<font color="#E5E5E5"> of a session</font><font color="#CCCCCC"> this logical</font>

887
00:38:26,400 --> 00:38:29,579
connection from ingress to<font color="#E5E5E5"> egress</font><font color="#CCCCCC"> and</font>

888
00:38:28,230 --> 00:38:31,440
it's<font color="#E5E5E5"> defined</font><font color="#CCCCCC"> by a couple</font><font color="#E5E5E5"> things we have</font>

889
00:38:29,579 --> 00:38:32,970
the destination<font color="#CCCCCC"> address so the egress</font>

890
00:38:31,440 --> 00:38:36,240
router ID<font color="#E5E5E5"> typically is what we're</font>

891
00:38:32,970 --> 00:38:39,629
talking<font color="#CCCCCC"> about there's a tunnel</font><font color="#E5E5E5"> idea</font>

892
00:38:36,240 --> 00:38:41,189
signed by the ingress router<font color="#E5E5E5"> okay then</font>

893
00:38:39,630 --> 00:38:42,630
we had this concept<font color="#E5E5E5"> of protocol okay</font>

894
00:38:41,190 --> 00:38:44,700
<font color="#CCCCCC">most of</font><font color="#E5E5E5"> times you're going</font><font color="#CCCCCC"> to see a</font><font color="#E5E5E5"> zero</font>

895
00:38:42,630 --> 00:38:47,460
there but technically<font color="#E5E5E5"> these three things</font>

896
00:38:44,700 --> 00:38:50,038
<font color="#E5E5E5">define a session</font><font color="#CCCCCC"> okay that's the logical</font>

897
00:38:47,460 --> 00:38:52,710
connectivity from ingress egress<font color="#E5E5E5"> and all</font>

898
00:38:50,039 --> 00:38:54,299
the<font color="#CCCCCC"> routers along</font><font color="#E5E5E5"> the LSPs path know</font>

899
00:38:52,710 --> 00:38:59,819
about this session<font color="#E5E5E5"> and</font><font color="#CCCCCC"> our maintaining</font>

900
00:38:54,299 --> 00:39:00,960
<font color="#E5E5E5">protocol state for this session now</font>

901
00:38:59,819 --> 00:39:04,799
technically speaking<font color="#E5E5E5"> you can have</font>

902
00:39:00,960 --> 00:39:07,259
multiple senders assigned to this

903
00:39:04,799 --> 00:39:08,460
<font color="#CCCCCC">session which some people think</font><font color="#E5E5E5"> whoa</font>

904
00:39:07,259 --> 00:39:09,930
wait am i got<font color="#E5E5E5"> these multiple physical</font>

905
00:39:08,460 --> 00:39:12,930
boxes all<font color="#E5E5E5"> sending stuff down the same</font>

906
00:39:09,930 --> 00:39:16,009
LSP not exactly<font color="#E5E5E5"> we're talking about here</font>

907
00:39:12,930 --> 00:39:19,589
is from<font color="#E5E5E5"> the single physical ingress box</font>

908
00:39:16,009 --> 00:39:20,849
multiple<font color="#E5E5E5"> paths for this LSP so traffic</font>

909
00:39:19,589 --> 00:39:22,849
<font color="#E5E5E5">engineering things I have can have a</font>

910
00:39:20,849 --> 00:39:24,990
<font color="#E5E5E5">primary path</font><font color="#CCCCCC"> and a secondary</font><font color="#E5E5E5"> path say</font>

911
00:39:22,849 --> 00:39:27,539
those are different<font color="#E5E5E5"> senders from the</font>

912
00:39:24,990 --> 00:39:29,729
perspective<font color="#E5E5E5"> of our STP and we allocate</font>

913
00:39:27,539 --> 00:39:31,710
them differently by this LSP ID value

914
00:39:29,730 --> 00:39:33,390
<font color="#E5E5E5">okay so the ingress router</font><font color="#CCCCCC"> the ingress</font>

915
00:39:31,710 --> 00:39:36,029
router<font color="#E5E5E5"> picks</font><font color="#CCCCCC"> these different LSP ID</font>

916
00:39:33,390 --> 00:39:40,440
values based on which path<font color="#E5E5E5"> it's using</font>

917
00:39:36,029 --> 00:39:41,640
within the confines of a session<font color="#CCCCCC"> so I</font>

918
00:39:40,440 --> 00:39:43,619
have secondary<font color="#E5E5E5"> path there fast reroute</font>

919
00:39:41,640 --> 00:39:45,690
detours or another way<font color="#CCCCCC"> to do that okay</font>

920
00:39:43,619 --> 00:39:46,619
so there's some<font color="#E5E5E5"> advanced things that you</font>

921
00:39:45,690 --> 00:39:49,740
can do with different<font color="#E5E5E5"> senders</font>

922
00:39:46,619 --> 00:39:52,170
technically now once you establish your

923
00:39:49,740 --> 00:39:53,519
session<font color="#E5E5E5"> that's the point at which</font><font color="#CCCCCC"> two</font>

924
00:39:52,170 --> 00:39:56,579
<font color="#CCCCCC">neighbouring RCP routers become</font>

925
00:39:53,519 --> 00:39:58,288
neighbors<font color="#CCCCCC"> okay so you</font><font color="#E5E5E5"> don't do any</font><font color="#CCCCCC"> LSPs</font>

926
00:39:56,579 --> 00:39:59,700
in<font color="#E5E5E5"> your network and you run a command</font><font color="#CCCCCC"> it</font>

927
00:39:58,289 --> 00:40:01,470
says show me on my<font color="#CCCCCC"> RCP neighbor he's</font><font color="#E5E5E5"> not</font>

928
00:39:59,700 --> 00:40:03,538
gonna have any<font color="#E5E5E5"> that's not to say they're</font>

929
00:40:01,470 --> 00:40:06,299
not there<font color="#E5E5E5"> they only show up</font><font color="#CCCCCC"> after</font><font color="#E5E5E5"> the</font>

930
00:40:03,539 --> 00:40:07,440
LSP<font color="#E5E5E5"> is established</font><font color="#CCCCCC"> so let's get a little</font>

931
00:40:06,299 --> 00:40:12,420
<font color="#CCCCCC">bit</font><font color="#E5E5E5"> kind</font><font color="#CCCCCC"> of different construct than</font>

932
00:40:07,440 --> 00:40:15,089
we'll<font color="#E5E5E5"> see</font><font color="#CCCCCC"> in LDP so</font><font color="#E5E5E5"> a couple</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> message</font>

933
00:40:12,420 --> 00:40:16,650
types path and reservation messages this

934
00:40:15,089 --> 00:40:19,190
<font color="#E5E5E5">is how we're gonna establish our session</font>

935
00:40:16,650 --> 00:40:22,829
<font color="#E5E5E5">okay so we're going to stablish the LSP</font>

936
00:40:19,190 --> 00:40:26,339
<font color="#E5E5E5">path messages flow downstream</font><font color="#CCCCCC"> they're</font>

937
00:40:22,829 --> 00:40:29,310
<font color="#E5E5E5">dressed to</font><font color="#CCCCCC"> the egress</font><font color="#E5E5E5"> router in the IP</font>

938
00:40:26,339 --> 00:40:30,779
header<font color="#CCCCCC"> they have the router alert</font>

939
00:40:29,310 --> 00:40:33,480
option turned on<font color="#E5E5E5"> that's what allows</font>

940
00:40:30,780 --> 00:40:33,930
every router along the path to<font color="#CCCCCC"> look at</font>

941
00:40:33,480 --> 00:40:36,360
this

942
00:40:33,930 --> 00:40:38,759
<font color="#CCCCCC">RSVP path message and begin to establish</font>

943
00:40:36,360 --> 00:40:41,660
<font color="#E5E5E5">this protocol state to establish</font><font color="#CCCCCC"> the</font>

944
00:40:38,760 --> 00:40:41,660
resources for this session

945
00:40:41,810 --> 00:40:48,810
this is IP it's<font color="#E5E5E5"> our FTP it's using IP</font>

946
00:40:45,150 --> 00:40:55,740
<font color="#CCCCCC">information</font><font color="#E5E5E5"> okay it's using IP routing</font>

947
00:40:48,810 --> 00:40:57,420
<font color="#E5E5E5">to get from point to point well you have</font>

948
00:40:55,740 --> 00:40:58,830
to have some kind<font color="#CCCCCC"> of ITP knowledge to</font>

949
00:40:57,420 --> 00:41:04,050
make this work yeah yeah I<font color="#E5E5E5"> mean you</font>

950
00:40:58,830 --> 00:41:06,150
can't just<font color="#CCCCCC"> the transit may not have to</font>

951
00:41:04,050 --> 00:41:08,400
carry the<font color="#E5E5E5"> full BGP table right exactly</font>

952
00:41:06,150 --> 00:41:19,280
<font color="#CCCCCC">or any IP</font><font color="#E5E5E5"> routing knowledge outside your</font>

953
00:41:08,400 --> 00:41:19,280
<font color="#E5E5E5">domain MPLS can't work</font><font color="#CCCCCC"> without IP I</font>

954
00:41:20,120 --> 00:41:24,600
<font color="#E5E5E5">usually hate to say in like absolutes</font>

955
00:41:22,620 --> 00:41:26,819
but<font color="#E5E5E5"> 99% of time yeah you need some IP</font>

956
00:41:24,600 --> 00:41:32,940
knowledge<font color="#E5E5E5"> to set up your LSP in the</font>

957
00:41:26,820 --> 00:41:34,560
first place<font color="#CCCCCC"> okay yeah</font><font color="#E5E5E5"> yeah to set up the</font>

958
00:41:32,940 --> 00:41:37,350
LSP you need IP stuff<font color="#CCCCCC"> what to</font><font color="#E5E5E5"> set up</font>

959
00:41:34,560 --> 00:41:40,080
then you're not<font color="#CCCCCC"> really using IP so what</font>

960
00:41:37,350 --> 00:41:42,000
I hate<font color="#E5E5E5"> to</font><font color="#CCCCCC"> always say always</font><font color="#E5E5E5"> it always</font>

961
00:41:40,080 --> 00:41:43,650
get me in trouble

962
00:41:42,000 --> 00:41:46,740
so after path messages go<font color="#CCCCCC"> hop-by-hop</font>

963
00:41:43,650 --> 00:41:48,480
<font color="#E5E5E5">down straight</font><font color="#CCCCCC"> to the egress</font><font color="#E5E5E5"> router the</font>

964
00:41:46,740 --> 00:41:49,589
<font color="#CCCCCC">router</font><font color="#E5E5E5"> knows it's the</font><font color="#CCCCCC"> destination</font>

965
00:41:48,480 --> 00:41:51,990
because<font color="#E5E5E5"> that's the</font><font color="#CCCCCC"> destination IP in the</font>

966
00:41:49,590 --> 00:41:54,180
<font color="#E5E5E5">path message it generates a res be</font>

967
00:41:51,990 --> 00:41:57,450
message<font color="#E5E5E5"> a reservation message and surf</font>

968
00:41:54,180 --> 00:42:00,120
<font color="#CCCCCC">before that back along the path</font><font color="#E5E5E5"> of the</font>

969
00:41:57,450 --> 00:42:02,069
LSP<font color="#E5E5E5"> technically these are addressed</font>

970
00:42:00,120 --> 00:42:04,980
hop-by-hop<font color="#CCCCCC"> okay we'll see how that</font><font color="#E5E5E5"> works</font>

971
00:42:02,070 --> 00:42:06,150
<font color="#E5E5E5">in a second and the reservation basic</font>

972
00:42:04,980 --> 00:42:08,100
part<font color="#E5E5E5"> of me the resume message is</font>

973
00:42:06,150 --> 00:42:09,870
<font color="#E5E5E5">basically locks in the session if</font><font color="#CCCCCC"> you</font>

974
00:42:08,100 --> 00:42:11,160
will<font color="#E5E5E5"> okay</font><font color="#CCCCCC"> so the path message is sort of</font>

975
00:42:09,870 --> 00:42:12,900
<font color="#E5E5E5">like hey I'd like to establish a session</font>

976
00:42:11,160 --> 00:42:14,910
<font color="#CCCCCC">okay cool we like</font><font color="#E5E5E5"> to do some</font>

977
00:42:12,900 --> 00:42:16,470
establishment when the<font color="#E5E5E5"> res</font><font color="#CCCCCC"> B's come back</font>

978
00:42:14,910 --> 00:42:18,509
<font color="#CCCCCC">upstream you're actually locking</font><font color="#E5E5E5"> in the</font>

979
00:42:16,470 --> 00:42:19,709
session information<font color="#E5E5E5"> okay so here's where</font>

980
00:42:18,510 --> 00:42:21,840
we're<font color="#CCCCCC"> doing</font><font color="#E5E5E5"> our label allocations</font>

981
00:42:19,710 --> 00:42:23,040
<font color="#CCCCCC">because we're doing that</font><font color="#E5E5E5"> upstream okay</font>

982
00:42:21,840 --> 00:42:25,940
here's where we're<font color="#E5E5E5"> reserving our</font>

983
00:42:23,040 --> 00:42:25,940
bandwidth if<font color="#CCCCCC"> you're</font><font color="#E5E5E5"> going to do that</font>

984
00:42:28,160 --> 00:42:33,089
the path<font color="#E5E5E5"> is determined by your</font><font color="#CCCCCC"> IGP or by</font>

985
00:42:31,650 --> 00:42:36,930
some constraint<font color="#E5E5E5"> that you put on the path</font>

986
00:42:33,090 --> 00:42:39,090
in<font color="#CCCCCC"> this automated path</font><font color="#E5E5E5"> yeah I could just</font>

987
00:42:36,930 --> 00:42:47,879
say<font color="#CCCCCC"> starting ingress go to egress make</font>

988
00:42:39,090 --> 00:42:51,590
it<font color="#E5E5E5"> happen yes yes so once you do</font><font color="#CCCCCC"> this</font>

989
00:42:47,880 --> 00:42:54,900
you have<font color="#CCCCCC"> an LSP a single operational LSP</font>

990
00:42:51,590 --> 00:42:57,570
<font color="#E5E5E5">if you want one to go from the rider on</font>

991
00:42:54,900 --> 00:42:58,980
<font color="#CCCCCC">the right side of the screen</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> the left</font>

992
00:42:57,570 --> 00:43:01,170
side<font color="#E5E5E5"> the</font><font color="#CCCCCC"> screen you</font><font color="#E5E5E5"> set up an additional</font>

993
00:42:58,980 --> 00:43:03,900
<font color="#E5E5E5">LSP over on the right</font><font color="#CCCCCC"> side and you'll</font>

994
00:43:01,170 --> 00:43:06,000
send<font color="#E5E5E5"> path messages this way downstream</font>

995
00:43:03,900 --> 00:43:09,870
and<font color="#CCCCCC"> Reza's DS back upstream to the right</font>

996
00:43:06,000 --> 00:43:11,880
<font color="#E5E5E5">and now they have to LSPs each of which</font>

997
00:43:09,870 --> 00:43:13,170
has a separate session<font color="#CCCCCC"> information each</font>

998
00:43:11,880 --> 00:43:30,470
of<font color="#E5E5E5"> which</font><font color="#CCCCCC"> is allocating protocol</font><font color="#E5E5E5"> state</font>

999
00:43:13,170 --> 00:43:32,280
etc etc when you're setting this up okay

1000
00:43:30,470 --> 00:43:34,890
<font color="#E5E5E5">you're</font><font color="#CCCCCC"> gonna say I want to</font><font color="#E5E5E5"> get</font><font color="#CCCCCC"> to this</font>

1001
00:43:32,280 --> 00:43:36,180
<font color="#E5E5E5">egress IP address okay you need to have</font>

1002
00:43:34,890 --> 00:43:43,410
some kind<font color="#CCCCCC"> of IP knowledge to get</font><font color="#E5E5E5"> there</font>

1003
00:43:36,180 --> 00:43:44,609
oh that's also<font color="#CCCCCC"> like be based</font><font color="#E5E5E5"> actually</font>

1004
00:43:43,410 --> 00:43:46,350
subsequent messages are actually

1005
00:43:44,610 --> 00:43:55,850
<font color="#E5E5E5">exchanged</font><font color="#CCCCCC"> post a</font><font color="#E5E5E5"> hope neighbor to</font>

1006
00:43:46,350 --> 00:43:55,850
<font color="#E5E5E5">neighbor</font><font color="#CCCCCC"> I can see it coming yes</font>

1007
00:43:58,660 --> 00:44:03,980
<font color="#E5E5E5">no you</font><font color="#CCCCCC"> send them hop-by-hop there are</font>

1008
00:44:01,820 --> 00:44:06,050
the path messages destination address to

1009
00:44:03,980 --> 00:44:06,890
the egress so everybody along the path

1010
00:44:06,050 --> 00:44:11,990
knows where I get there

1011
00:44:06,890 --> 00:44:16,730
<font color="#CCCCCC">but they</font><font color="#E5E5E5"> are sent hot by hot it's a</font>

1012
00:44:11,990 --> 00:44:18,350
single path message yes no it's a single

1013
00:44:16,730 --> 00:44:20,030
path message<font color="#E5E5E5"> all the</font><font color="#CCCCCC"> routers in</font><font color="#E5E5E5"> the</font>

1014
00:44:18,350 --> 00:44:28,670
middle it can inspect the contents

1015
00:44:20,030 --> 00:44:31,430
because of the router alert option sort

1016
00:44:28,670 --> 00:44:33,380
<font color="#E5E5E5">of look when I get some RSVP objects</font>

1017
00:44:31,430 --> 00:44:34,460
like explicit<font color="#CCCCCC"> rod</font><font color="#E5E5E5"> record route we're</font>

1018
00:44:33,380 --> 00:44:36,820
going to modify some of<font color="#CCCCCC"> those</font><font color="#E5E5E5"> things</font>

1019
00:44:34,460 --> 00:44:36,820
<font color="#E5E5E5">okay</font>

1020
00:44:36,970 --> 00:44:47,839
yes the router ID<font color="#E5E5E5"> the egress address is</font>

1021
00:44:40,220 --> 00:44:57,379
an IP destination<font color="#CCCCCC"> I agree what do mean</font>

1022
00:44:47,840 --> 00:45:07,160
<font color="#CCCCCC">by setup for before you</font><font color="#E5E5E5"> establish the</font>

1023
00:44:57,380 --> 00:45:15,860
LSB now everything as far<font color="#E5E5E5"> as</font><font color="#CCCCCC"> RSVP</font><font color="#E5E5E5"> is</font>

1024
00:45:07,160 --> 00:45:19,399
concerned it's<font color="#CCCCCC"> its IP you can doom to</font>

1025
00:45:15,860 --> 00:45:21,170
ITP load routes<font color="#E5E5E5"> so but for the purpose</font>

1026
00:45:19,400 --> 00:45:24,410
of transmitting RSVP it's still an IP

1027
00:45:21,170 --> 00:45:26,240
thing so there is a way<font color="#CCCCCC"> to set up</font><font color="#E5E5E5"> this</font>

1028
00:45:24,410 --> 00:45:29,629
LSP to the<font color="#CCCCCC"> e to the egress and have this</font>

1029
00:45:26,240 --> 00:45:31,609
<font color="#E5E5E5">ingress router when you do a ping say to</font>

1030
00:45:29,630 --> 00:45:34,850
the<font color="#E5E5E5"> egress address go through the LSP</font>

1031
00:45:31,610 --> 00:45:40,910
<font color="#CCCCCC">sure but there are a few</font><font color="#E5E5E5"> protocol</font>

1032
00:45:34,850 --> 00:45:42,020
packets<font color="#CCCCCC"> don't</font><font color="#E5E5E5"> do that okay so I know</font>

1033
00:45:40,910 --> 00:45:43,759
it's<font color="#E5E5E5"> kind of a</font><font color="#CCCCCC"> weird thing</font><font color="#E5E5E5"> but trying to</font>

1034
00:45:42,020 --> 00:45:47,590
<font color="#CCCCCC">abstract protocol establishment</font>

1035
00:45:43,760 --> 00:45:47,590
maintenance from user packet forwarding

1036
00:45:51,650 --> 00:45:57,150
questions are good because<font color="#CCCCCC"> this</font><font color="#E5E5E5"> is not</font>

1037
00:45:53,849 --> 00:46:00,000
<font color="#CCCCCC">like you</font><font color="#E5E5E5"> know super easy stuff okay so</font>

1038
00:45:57,150 --> 00:46:02,940
here we<font color="#E5E5E5"> have our LSP setup okay from</font>

1039
00:46:00,000 --> 00:46:05,480
<font color="#E5E5E5">left to right and we get some back</font><font color="#CCCCCC"> Oh</font>

1040
00:46:02,940 --> 00:46:08,099
interrupts okay

1041
00:46:05,480 --> 00:46:09,780
backhoe<font color="#CCCCCC"> interrupts</font><font color="#E5E5E5"> right we lose we lose</font>

1042
00:46:08,099 --> 00:46:12,330
the link<font color="#E5E5E5"> or a neighbor technically</font>

1043
00:46:09,780 --> 00:46:14,880
somewhere along the path<font color="#E5E5E5"> okay so this</font>

1044
00:46:12,330 --> 00:46:16,049
basically will tear down<font color="#E5E5E5"> the LSP this</font>

1045
00:46:14,880 --> 00:46:18,599
breaks<font color="#E5E5E5"> the session this breaks the</font>

1046
00:46:16,050 --> 00:46:21,830
connection<font color="#E5E5E5"> and we're gonna have these</font>

1047
00:46:18,599 --> 00:46:25,050
tear messages and we have a path tear

1048
00:46:21,830 --> 00:46:26,549
which follows the original direction<font color="#CCCCCC"> of</font>

1049
00:46:25,050 --> 00:46:28,830
<font color="#CCCCCC">the</font><font color="#E5E5E5"> path message and removes the</font>

1050
00:46:26,550 --> 00:46:30,390
protocol<font color="#CCCCCC"> State</font><font color="#E5E5E5"> okay so if a path message</font>

1051
00:46:28,830 --> 00:46:30,750
<font color="#E5E5E5">as protocol state path tear takes it</font>

1052
00:46:30,390 --> 00:46:33,200
away

1053
00:46:30,750 --> 00:46:36,270
<font color="#E5E5E5">and the same thing for</font><font color="#CCCCCC"> a res me tear a</font>

1054
00:46:33,200 --> 00:46:39,270
resume established protocol<font color="#E5E5E5"> State res</font><font color="#CCCCCC"> B</font>

1055
00:46:36,270 --> 00:46:41,099
<font color="#E5E5E5">tear takes it away okay so from the</font>

1056
00:46:39,270 --> 00:46:42,359
<font color="#E5E5E5">point of failure propagating</font><font color="#CCCCCC"> to ingress</font>

1057
00:46:41,099 --> 00:46:44,400
and egress we have these<font color="#CCCCCC"> ter messages</font>

1058
00:46:42,359 --> 00:46:46,799
which basically removes<font color="#E5E5E5"> all knowledge of</font>

1059
00:46:44,400 --> 00:46:48,840
this RSVP session<font color="#E5E5E5"> okay so no longer</font>

1060
00:46:46,800 --> 00:46:54,839
viable we don't have a link to transmit

1061
00:46:48,840 --> 00:46:58,619
across anymore now we also<font color="#E5E5E5"> have error</font>

1062
00:46:54,839 --> 00:47:00,150
messages error messages<font color="#E5E5E5"> just alert the</font>

1063
00:46:58,619 --> 00:47:02,400
ingress or the egress<font color="#E5E5E5"> to an error</font>

1064
00:47:00,150 --> 00:47:04,589
<font color="#CCCCCC">condition</font><font color="#E5E5E5"> okay they don't do anything as</font>

1065
00:47:02,400 --> 00:47:08,640
<font color="#CCCCCC">far as adding new or removing protocol</font>

1066
00:47:04,589 --> 00:47:10,500
<font color="#CCCCCC">State typically and this isn't</font><font color="#E5E5E5"> always</font>

1067
00:47:08,640 --> 00:47:12,118
<font color="#E5E5E5">the case but</font><font color="#CCCCCC"> typically you're gonna see</font>

1068
00:47:10,500 --> 00:47:17,160
error messages during<font color="#E5E5E5"> the</font><font color="#CCCCCC"> establishment</font>

1069
00:47:12,119 --> 00:47:20,190
phase of an LSP<font color="#E5E5E5"> so if for</font><font color="#CCCCCC"> instance</font><font color="#E5E5E5"> I've</font>

1070
00:47:17,160 --> 00:47:22,290
told my LSP<font color="#E5E5E5"> I told the ingress router to</font>

1071
00:47:20,190 --> 00:47:25,260
get to the egress following path one two

1072
00:47:22,290 --> 00:47:26,970
three<font color="#E5E5E5"> and it gets to the second router</font>

1073
00:47:25,260 --> 00:47:28,320
in line and it<font color="#E5E5E5"> looks at this</font><font color="#CCCCCC"> information</font>

1074
00:47:26,970 --> 00:47:30,450
I gave<font color="#E5E5E5"> it saying oh I need to get to</font>

1075
00:47:28,320 --> 00:47:31,589
router<font color="#CCCCCC"> three</font><font color="#E5E5E5"> next but I'm not directly</font>

1076
00:47:30,450 --> 00:47:32,700
connected<font color="#CCCCCC"> around a three hour</font><font color="#E5E5E5"> I don't</font>

1077
00:47:31,589 --> 00:47:35,130
know how to get<font color="#E5E5E5"> there I don't</font><font color="#CCCCCC"> have</font><font color="#E5E5E5"> a</font>

1078
00:47:32,700 --> 00:47:38,009
route whatever<font color="#E5E5E5"> you can't for it on the</font>

1079
00:47:35,130 --> 00:47:39,330
packet that's<font color="#E5E5E5"> an</font><font color="#CCCCCC"> error condition</font><font color="#E5E5E5"> so</font>

1080
00:47:38,010 --> 00:47:42,510
you'll stop processing and you'll send<font color="#E5E5E5"> a</font>

1081
00:47:39,330 --> 00:47:47,040
path error message back upstream to the

1082
00:47:42,510 --> 00:47:48,089
<font color="#E5E5E5">ingress router</font><font color="#CCCCCC"> other</font><font color="#E5E5E5"> error times you</font>

1083
00:47:47,040 --> 00:47:50,339
might<font color="#E5E5E5"> see the error messages if you're</font>

1084
00:47:48,089 --> 00:47:51,359
doing say a fast reroute type detour

1085
00:47:50,339 --> 00:47:52,710
it's kind of<font color="#E5E5E5"> an advanced topic but</font>

1086
00:47:51,359 --> 00:47:53,759
another way to<font color="#E5E5E5"> get error messages</font><font color="#CCCCCC"> when</font>

1087
00:47:52,710 --> 00:47:55,740
<font color="#E5E5E5">you're not doing a session establishment</font>

1088
00:47:53,760 --> 00:47:59,220
<font color="#CCCCCC">okay but typically you have</font><font color="#E5E5E5"> problems</font>

1089
00:47:55,740 --> 00:48:02,419
sitting<font color="#E5E5E5"> at the session that's all</font><font color="#CCCCCC"> Aran</font>

1090
00:47:59,220 --> 00:48:02,419
<font color="#CCCCCC">messages do just just alert you</font>

1091
00:48:08,900 --> 00:48:15,270
<font color="#E5E5E5">um you can do message bundling okay to</font>

1092
00:48:13,170 --> 00:48:16,080
add multiple individual messages between

1093
00:48:15,270 --> 00:48:18,240
<font color="#E5E5E5">you your neighbor so you're not</font>

1094
00:48:16,080 --> 00:48:19,740
constantly sending<font color="#E5E5E5"> stuff there are</font>

1095
00:48:18,240 --> 00:48:21,629
timers involved here with how often<font color="#CCCCCC"> you</font>

1096
00:48:19,740 --> 00:48:24,209
send<font color="#CCCCCC"> that</font><font color="#E5E5E5"> reservation</font><font color="#CCCCCC"> message and stuff</font>

1097
00:48:21,630 --> 00:48:28,860
yeah<font color="#E5E5E5"> so there's some sanity there okay</font>

1098
00:48:24,210 --> 00:48:30,000
now<font color="#E5E5E5"> I didn't want to get</font><font color="#CCCCCC"> too gory into</font>

1099
00:48:28,860 --> 00:48:32,280
details here<font color="#E5E5E5"> but I do think it's</font>

1100
00:48:30,000 --> 00:48:34,710
important to talk about<font color="#E5E5E5"> the contents of</font>

1101
00:48:32,280 --> 00:48:36,480
these<font color="#E5E5E5"> RSVP messages</font><font color="#CCCCCC"> okay technically</font>

1102
00:48:34,710 --> 00:48:40,200
speaking we have this kind of TLB type

1103
00:48:36,480 --> 00:48:41,490
construct we call an object there are

1104
00:48:40,200 --> 00:48:44,189
some that are required some that are

1105
00:48:41,490 --> 00:48:47,129
<font color="#CCCCCC">optional okay so for</font><font color="#E5E5E5"> path message right</font>

1106
00:48:44,190 --> 00:48:49,619
<font color="#E5E5E5">path message from ingress to egress we</font>

1107
00:48:47,130 --> 00:48:50,970
need a session<font color="#CCCCCC"> object which</font><font color="#E5E5E5"> is going to</font>

1108
00:48:49,619 --> 00:48:54,900
contain stuff<font color="#E5E5E5"> about the session right</font>

1109
00:48:50,970 --> 00:48:57,660
destination<font color="#E5E5E5"> IP that tunnel ID value we</font>

1110
00:48:54,900 --> 00:48:58,440
talked about<font color="#E5E5E5"> okay so</font><font color="#CCCCCC"> the session thing</font>

1111
00:48:57,660 --> 00:48:59,850
<font color="#CCCCCC">has got to be there it's kind of</font>

1112
00:48:58,440 --> 00:49:02,510
important that's how you<font color="#E5E5E5"> identify the</font>

1113
00:48:59,850 --> 00:49:05,160
resources<font color="#E5E5E5"> for the LSP</font>

1114
00:49:02,510 --> 00:49:06,090
we<font color="#CCCCCC"> do have an</font><font color="#E5E5E5"> arts to</font><font color="#CCCCCC"> P hop which is how</font>

1115
00:49:05,160 --> 00:49:09,290
you're recording who your next

1116
00:49:06,090 --> 00:49:12,680
downstream or next upstream neighbor is

1117
00:49:09,290 --> 00:49:16,619
technically<font color="#E5E5E5"> this has changed</font><font color="#CCCCCC"> hop-by-hop</font>

1118
00:49:12,680 --> 00:49:19,200
okay so this is how you get packets back

1119
00:49:16,619 --> 00:49:22,230
upstream<font color="#E5E5E5"> go from router a to router B</font>

1120
00:49:19,200 --> 00:49:23,960
with a path message it has router<font color="#CCCCCC"> aides</font>

1121
00:49:22,230 --> 00:49:26,250
interface address in it<font color="#E5E5E5"> router B</font>

1122
00:49:23,960 --> 00:49:28,200
establishes a protocol state and it's

1123
00:49:26,250 --> 00:49:29,640
part of that says oh my<font color="#E5E5E5"> next upstream</font>

1124
00:49:28,200 --> 00:49:31,529
guy is router a and here's his IP

1125
00:49:29,640 --> 00:49:33,680
address there's<font color="#E5E5E5"> an interface address</font><font color="#CCCCCC"> and</font>

1126
00:49:31,530 --> 00:49:35,850
router be<font color="#E5E5E5"> sent that same path message</font>

1127
00:49:33,680 --> 00:49:37,200
from router C it's gonna change the

1128
00:49:35,850 --> 00:49:38,609
<font color="#E5E5E5">value in this object and put its own</font>

1129
00:49:37,200 --> 00:49:40,020
interface address there that's how<font color="#CCCCCC"> a</font>

1130
00:49:38,609 --> 00:49:42,119
<font color="#CCCCCC">Darcy knows who's that upstream guy is</font>

1131
00:49:40,020 --> 00:49:43,740
okay<font color="#CCCCCC"> so when you get to</font><font color="#E5E5E5"> the egress you</font>

1132
00:49:42,119 --> 00:49:46,440
start<font color="#CCCCCC"> sending the residues back</font><font color="#E5E5E5"> that's</font>

1133
00:49:43,740 --> 00:49:48,479
how we know the exact path to follow

1134
00:49:46,440 --> 00:49:51,540
back<font color="#CCCCCC"> to the ingress</font><font color="#E5E5E5"> router</font><font color="#CCCCCC"> okay with</font>

1135
00:49:48,480 --> 00:49:53,130
<font color="#E5E5E5">this hop object sender template it's in</font>

1136
00:49:51,540 --> 00:49:54,450
there to define who the sender<font color="#E5E5E5"> is hey</font>

1137
00:49:53,130 --> 00:49:56,640
<font color="#E5E5E5">it's there</font><font color="#CCCCCC"> Ella spits we can put the LSP</font>

1138
00:49:54,450 --> 00:49:57,839
ID<font color="#E5E5E5"> with this T spec object if you're</font>

1139
00:49:56,640 --> 00:49:59,250
<font color="#E5E5E5">doing bandwidth reservations that's</font>

1140
00:49:57,840 --> 00:50:01,280
we're<font color="#E5E5E5"> going to put the</font><font color="#CCCCCC"> value of</font>

1141
00:49:59,250 --> 00:50:03,119
<font color="#E5E5E5">bandwidth that</font><font color="#CCCCCC"> you're trying</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> reserved</font>

1142
00:50:01,280 --> 00:50:04,590
and we have this thing<font color="#E5E5E5"> called</font><font color="#CCCCCC"> a session</font>

1143
00:50:03,119 --> 00:50:07,590
attribute where we have some priority

1144
00:50:04,590 --> 00:50:10,560
things<font color="#E5E5E5"> where you can define this LSP is</font>

1145
00:50:07,590 --> 00:50:12,290
more important than this other LSP<font color="#E5E5E5"> and</font>

1146
00:50:10,560 --> 00:50:14,819
you can kick somebody off the<font color="#CCCCCC"> network</font>

1147
00:50:12,290 --> 00:50:16,859
that's where that<font color="#CCCCCC"> information</font><font color="#E5E5E5"> the store</font>

1148
00:50:14,819 --> 00:50:18,419
now technically speaking<font color="#E5E5E5"> these</font><font color="#CCCCCC"> were all</font>

1149
00:50:16,859 --> 00:50:20,699
defined originally<font color="#E5E5E5"> for the spec we did</font>

1150
00:50:18,419 --> 00:50:22,618
extend them for traffic engineering so

1151
00:50:20,699 --> 00:50:27,209
to understand things like<font color="#E5E5E5"> tunnel ID</font>

1152
00:50:22,619 --> 00:50:28,619
values and<font color="#E5E5E5"> things like that in addition</font>

1153
00:50:27,209 --> 00:50:30,239
we have some<font color="#CCCCCC"> things</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> we want to care</font>

1154
00:50:28,619 --> 00:50:32,519
about<font color="#CCCCCC"> for</font><font color="#E5E5E5"> an LSP first of all we have a</font>

1155
00:50:30,239 --> 00:50:33,630
<font color="#E5E5E5">request for a label that's pretty</font>

1156
00:50:32,519 --> 00:50:36,089
important because<font color="#E5E5E5"> we're doing</font><font color="#CCCCCC"> downstream</font>

1157
00:50:33,630 --> 00:50:38,099
<font color="#E5E5E5">on demand okay so as the path message</font>

1158
00:50:36,089 --> 00:50:41,069
flows to the egress<font color="#E5E5E5"> router each router</font>

1159
00:50:38,099 --> 00:50:47,099
knows<font color="#CCCCCC"> ooh when the residue comes back I</font>

1160
00:50:41,069 --> 00:50:50,219
need to allocate<font color="#CCCCCC"> a label</font><font color="#E5E5E5"> here RSVP runs</font>

1161
00:50:47,099 --> 00:50:58,079
right on top<font color="#E5E5E5"> of IP so it's neither</font><font color="#CCCCCC"> it's</font>

1162
00:50:50,219 --> 00:50:59,549
<font color="#CCCCCC">a dumb protocol don't know yeah I don't</font>

1163
00:50:58,079 --> 00:51:11,999
<font color="#E5E5E5">know if there's</font><font color="#CCCCCC"> been</font><font color="#E5E5E5"> das attacks against</font>

1164
00:50:59,549 --> 00:51:14,549
our<font color="#E5E5E5"> CP stuff good are you making sense</font>

1165
00:51:11,999 --> 00:51:16,738
<font color="#E5E5E5">yes you're gonna be sending these</font>

1166
00:51:14,549 --> 00:51:17,819
messages<font color="#CCCCCC"> using IP routing</font><font color="#E5E5E5"> so if you have</font>

1167
00:51:16,739 --> 00:51:20,849
a route we're going to send it whether

1168
00:51:17,819 --> 00:51:22,109
it's a private<font color="#CCCCCC"> address or not</font><font color="#E5E5E5"> if</font>

1169
00:51:20,849 --> 00:51:23,159
somebody<font color="#CCCCCC"> gets in</font><font color="#E5E5E5"> and does malicious</font>

1170
00:51:22,109 --> 00:51:27,619
things<font color="#CCCCCC"> to your network for</font><font color="#E5E5E5"> IP routing</font>

1171
00:51:23,159 --> 00:51:27,619
purposes they could interfere with<font color="#E5E5E5"> RSVP</font>

1172
00:51:28,219 --> 00:51:38,309
you can do md5 sure between<font color="#CCCCCC"> neighbors</font>

1173
00:51:33,349 --> 00:51:39,959
yep<font color="#CCCCCC"> explicit route this is the power of</font>

1174
00:51:38,309 --> 00:51:43,259
RSVP first doing<font color="#E5E5E5"> traffic engineering</font>

1175
00:51:39,959 --> 00:51:46,890
this<font color="#E5E5E5"> is</font><font color="#CCCCCC"> the way that you tell the LSP to</font>

1176
00:51:43,259 --> 00:51:48,390
not use the<font color="#E5E5E5"> ITP shortest path go here</font>

1177
00:51:46,890 --> 00:51:51,808
first go here second go here third etc

1178
00:51:48,390 --> 00:51:53,429
etc so<font color="#CCCCCC"> you get to egress okay so this</font>

1179
00:51:51,809 --> 00:51:57,150
explicit route objects<font color="#E5E5E5"> euro this</font><font color="#CCCCCC"> is the</font>

1180
00:51:53,429 --> 00:51:58,529
way we do traffic<font color="#E5E5E5"> engineering</font><font color="#CCCCCC"> you</font><font color="#E5E5E5"> can</font>

1181
00:51:57,150 --> 00:51:59,489
manually<font color="#CCCCCC"> create this</font><font color="#E5E5E5"> or you can</font><font color="#CCCCCC"> let</font><font color="#E5E5E5"> the</font>

1182
00:51:58,529 --> 00:52:01,319
router do it for you

1183
00:51:59,489 --> 00:52:03,749
<font color="#CCCCCC">and we'll talk</font><font color="#E5E5E5"> about ways and how that</font>

1184
00:52:01,319 --> 00:52:06,569
works<font color="#CCCCCC"> okay so you have either manual</font><font color="#E5E5E5"> or</font>

1185
00:52:03,749 --> 00:52:08,939
dynamic<font color="#E5E5E5"> creation take your pick lastly</font>

1186
00:52:06,569 --> 00:52:11,219
record route this is<font color="#CCCCCC"> the</font><font color="#E5E5E5"> way the ingress</font>

1187
00:52:08,939 --> 00:52:12,859
router knows<font color="#CCCCCC"> whose along the path for</font>

1188
00:52:11,219 --> 00:52:16,289
<font color="#E5E5E5">one for</font><font color="#CCCCCC"> two we're gonna use it for loop</font>

1189
00:52:12,859 --> 00:52:17,999
detection okay so much like in BGP we

1190
00:52:16,289 --> 00:52:20,039
have a s path right<font color="#E5E5E5"> you get in</font><font color="#CCCCCC"> a message</font>

1191
00:52:17,999 --> 00:52:22,709
you look in the a s path if my<font color="#CCCCCC"> onus is</font>

1192
00:52:20,039 --> 00:52:25,319
<font color="#E5E5E5">there this is a loop</font><font color="#CCCCCC"> flowed away</font><font color="#E5E5E5"> same</font>

1193
00:52:22,709 --> 00:52:26,879
<font color="#E5E5E5">kind of concept here if you receive in a</font>

1194
00:52:25,319 --> 00:52:27,779
path message or res<font color="#CCCCCC"> B</font><font color="#E5E5E5"> we'll see in a</font>

1195
00:52:26,880 --> 00:52:29,100
second

1196
00:52:27,780 --> 00:52:30,540
and you look in<font color="#CCCCCC"> the record route object</font>

1197
00:52:29,100 --> 00:52:34,080
and you find your own<font color="#E5E5E5"> IP address there</font>

1198
00:52:30,540 --> 00:52:35,820
<font color="#E5E5E5">this means you've already seen this</font>

1199
00:52:34,080 --> 00:52:37,620
piece of<font color="#E5E5E5"> information specifically within</font>

1200
00:52:35,820 --> 00:52:40,110
the<font color="#E5E5E5"> session okay so we're talking within</font>

1201
00:52:37,620 --> 00:52:41,970
<font color="#E5E5E5">the session</font><font color="#CCCCCC"> not</font><font color="#E5E5E5"> overall RSVP this is a</font>

1202
00:52:40,110 --> 00:52:44,910
loop throw it away<font color="#E5E5E5"> this will generate an</font>

1203
00:52:41,970 --> 00:52:47,180
error<font color="#E5E5E5"> message okay not not establish the</font>

1204
00:52:44,910 --> 00:52:51,000
<font color="#E5E5E5">LSP so we don't do looping by default</font>

1205
00:52:47,180 --> 00:52:52,379
<font color="#E5E5E5">can't ever make it happen okay on the</font>

1206
00:52:51,000 --> 00:52:53,940
return path the<font color="#E5E5E5"> res</font><font color="#CCCCCC"> b-side we're gonna</font>

1207
00:52:52,380 --> 00:52:55,110
have again the session because that's

1208
00:52:53,940 --> 00:52:56,850
<font color="#E5E5E5">our unique identifier are gonna have the</font>

1209
00:52:55,110 --> 00:52:58,410
hop information<font color="#E5E5E5"> again this is</font>

1210
00:52:56,850 --> 00:53:01,589
information<font color="#E5E5E5"> up so you know who your next</font>

1211
00:52:58,410 --> 00:53:03,810
downstream routers IP addresses we have

1212
00:53:01,590 --> 00:53:05,640
this thing<font color="#CCCCCC"> called a style</font><font color="#E5E5E5"> okay and this</font>

1213
00:53:03,810 --> 00:53:08,759
<font color="#CCCCCC">is how we're</font><font color="#E5E5E5"> gonna</font><font color="#CCCCCC"> allocate</font><font color="#E5E5E5"> and pardon</font>

1214
00:53:05,640 --> 00:53:10,650
me some bandwidth things you either have

1215
00:53:08,760 --> 00:53:13,200
<font color="#E5E5E5">the default which we call fixed filter</font>

1216
00:53:10,650 --> 00:53:15,180
<font color="#E5E5E5">which</font><font color="#CCCCCC"> is for every unique sender to the</font>

1217
00:53:13,200 --> 00:53:17,250
<font color="#E5E5E5">egress that's a separate bandwidth</font>

1218
00:53:15,180 --> 00:53:20,009
reservation okay so<font color="#CCCCCC"> we have a primary</font>

1219
00:53:17,250 --> 00:53:22,020
<font color="#E5E5E5">path bandwidth of</font><font color="#CCCCCC"> ten maiya</font><font color="#E5E5E5"> gets</font><font color="#CCCCCC"> ten</font><font color="#E5E5E5"> may</font>

1220
00:53:20,010 --> 00:53:23,490
used up<font color="#E5E5E5"> you have a secondary path for</font>

1221
00:53:22,020 --> 00:53:25,230
<font color="#E5E5E5">those same ingress egress sessions and</font>

1222
00:53:23,490 --> 00:53:27,270
you<font color="#E5E5E5"> ask for another</font><font color="#CCCCCC"> 10 Meg that's</font><font color="#E5E5E5"> now 20</font>

1223
00:53:25,230 --> 00:53:30,510
mega used up<font color="#E5E5E5"> okay you add a third path</font>

1224
00:53:27,270 --> 00:53:33,420
<font color="#CCCCCC">ten more mega</font><font color="#E5E5E5"> it's</font><font color="#CCCCCC"> 30-minute that's</font>

1225
00:53:30,510 --> 00:53:35,690
fixed filter<font color="#E5E5E5"> every unique sender to</font>

1226
00:53:33,420 --> 00:53:37,890
egress<font color="#CCCCCC"> it gets its own reservation stuff</font>

1227
00:53:35,690 --> 00:53:41,910
the absolute that<font color="#E5E5E5"> is shared explicit</font>

1228
00:53:37,890 --> 00:53:44,400
<font color="#E5E5E5">which is for the multiples of senders to</font>

1229
00:53:41,910 --> 00:53:45,930
<font color="#CCCCCC">the</font><font color="#E5E5E5"> egress okay again within</font><font color="#CCCCCC"> the session</font>

1230
00:53:44,400 --> 00:53:47,970
<font color="#E5E5E5">here okay but you can have multiple</font>

1231
00:53:45,930 --> 00:53:49,770
<font color="#E5E5E5">senders primary secondary secondary</font>

1232
00:53:47,970 --> 00:53:52,470
third fourth<font color="#E5E5E5"> paths we're gonna share</font>

1233
00:53:49,770 --> 00:53:53,310
that<font color="#E5E5E5"> bandwidth reservation</font><font color="#CCCCCC"> okay so</font>

1234
00:53:52,470 --> 00:53:54,750
you're<font color="#E5E5E5"> not going to do this double</font>

1235
00:53:53,310 --> 00:53:57,710
counting function<font color="#CCCCCC"> so those are your</font><font color="#E5E5E5"> two</font>

1236
00:53:54,750 --> 00:54:00,030
options<font color="#E5E5E5"> it's carrying the</font><font color="#CCCCCC"> resident</font>

1237
00:53:57,710 --> 00:54:01,350
flowspec this we're<font color="#E5E5E5"> gonna</font><font color="#CCCCCC"> have our</font>

1238
00:54:00,030 --> 00:54:05,040
bandwidth information that mirrors<font color="#E5E5E5"> the</font>

1239
00:54:01,350 --> 00:54:06,509
stuff in the sender spec the LSP IDs

1240
00:54:05,040 --> 00:54:07,440
carry the single the filter spec so we

1241
00:54:06,510 --> 00:54:10,560
have different<font color="#CCCCCC"> names pretty much the</font>

1242
00:54:07,440 --> 00:54:12,780
<font color="#E5E5E5">same</font><font color="#CCCCCC"> information the label</font><font color="#E5E5E5"> hey that's</font>

1243
00:54:10,560 --> 00:54:13,890
kind of important<font color="#E5E5E5"> okay in the path</font>

1244
00:54:12,780 --> 00:54:15,810
message we<font color="#E5E5E5"> asked for the label is a</font>

1245
00:54:13,890 --> 00:54:17,970
label request and the residues were

1246
00:54:15,810 --> 00:54:23,009
actually doing<font color="#CCCCCC"> the allocation and it</font>

1247
00:54:17,970 --> 00:54:24,359
gets contained within a label object so

1248
00:54:23,010 --> 00:54:25,710
<font color="#E5E5E5">whatever the value</font><font color="#CCCCCC"> is</font><font color="#E5E5E5"> you're gonna stick</font>

1249
00:54:24,360 --> 00:54:27,840
in that<font color="#CCCCCC"> twenty bit value</font><font color="#E5E5E5"> that's what you</font>

1250
00:54:25,710 --> 00:54:30,450
stick there<font color="#E5E5E5"> and</font><font color="#CCCCCC"> we have a different</font>

1251
00:54:27,840 --> 00:54:32,490
record route<font color="#E5E5E5"> okay so we recording split</font>

1252
00:54:30,450 --> 00:54:34,350
<font color="#CCCCCC">path backup this is in case</font><font color="#E5E5E5"> you have to</font>

1253
00:54:32,490 --> 00:54:36,390
get paths down on the way back something

1254
00:54:34,350 --> 00:54:38,310
<font color="#E5E5E5">changes routing changed you lost a link</font>

1255
00:54:36,390 --> 00:54:39,868
before<font color="#E5E5E5"> you can establish the LSP okay</font>

1256
00:54:38,310 --> 00:54:42,900
you start writing things<font color="#E5E5E5"> differently</font>

1257
00:54:39,869 --> 00:54:51,349
just<font color="#E5E5E5"> a next extra</font><font color="#CCCCCC"> added protection yes</font>

1258
00:54:42,900 --> 00:54:51,349
sir what I'm doing what specifically

1259
00:54:52,009 --> 00:54:55,440
okay so during<font color="#E5E5E5"> so during the</font>

1260
00:54:54,180 --> 00:54:57,538
establishment session or once it's

1261
00:54:55,440 --> 00:55:05,400
already established<font color="#E5E5E5"> okay so what's up I</font>

1262
00:54:57,539 --> 00:55:06,569
got<font color="#CCCCCC"> a break</font><font color="#E5E5E5"> okay yep okay it's going</font><font color="#CCCCCC"> to</font>

1263
00:55:05,400 --> 00:55:07,460
<font color="#E5E5E5">depend</font><font color="#CCCCCC"> on the ingress routers</font>

1264
00:55:06,569 --> 00:55:10,650
configuration

1265
00:55:07,460 --> 00:55:12,359
okay<font color="#E5E5E5"> so more than</font><font color="#CCCCCC"> likely you're gonna</font>

1266
00:55:10,650 --> 00:55:13,740
try<font color="#E5E5E5"> and set</font><font color="#CCCCCC"> up a</font><font color="#E5E5E5"> new LSP to the egress</font>

1267
00:55:12,359 --> 00:55:18,450
along some<font color="#CCCCCC"> other set of physical paths</font>

1268
00:55:13,740 --> 00:55:19,859
<font color="#E5E5E5">okay yeah you're gonna tear</font><font color="#CCCCCC"> down the</font>

1269
00:55:18,450 --> 00:55:21,049
whole<font color="#E5E5E5"> SP you gonna build a whole</font><font color="#CCCCCC"> new one</font>

1270
00:55:19,859 --> 00:55:29,240
along some<font color="#E5E5E5"> other set of links</font>

1271
00:55:21,049 --> 00:55:31,349
generally speaking<font color="#E5E5E5"> okay okay bandwidth</font>

1272
00:55:29,240 --> 00:55:36,529
or<font color="#E5E5E5"> is like talk about bandwidth when it</font>

1273
00:55:31,349 --> 00:55:39,630
comes to RSVP<font color="#CCCCCC"> yes sir and a new link</font>

1274
00:55:36,529 --> 00:55:41,880
will I move LSPs<font color="#E5E5E5"> to that that are</font>

1275
00:55:39,630 --> 00:55:44,700
already operational<font color="#E5E5E5"> you have that option</font>

1276
00:55:41,880 --> 00:55:45,720
by default<font color="#CCCCCC"> no but a fault one struck</font>

1277
00:55:44,700 --> 00:55:47,279
they're gonna stay where they're belong

1278
00:55:45,720 --> 00:55:52,049
<font color="#CCCCCC">you have the option</font><font color="#E5E5E5"> of moving them over</font>

1279
00:55:47,279 --> 00:55:54,450
<font color="#E5E5E5">if you want to no you told her out you</font>

1280
00:55:52,049 --> 00:55:55,829
tell the ingress router you got new

1281
00:55:54,450 --> 00:55:58,460
stuff reevaluate the network links and

1282
00:55:55,829 --> 00:55:58,460
<font color="#E5E5E5">it'll pick</font><font color="#CCCCCC"> a new path</font>

1283
00:56:01,320 --> 00:56:12,390
yeah LSP is up okay<font color="#E5E5E5"> okay what do you</font>

1284
00:56:10,800 --> 00:56:17,570
<font color="#E5E5E5">mean by</font><font color="#CCCCCC"> note by</font><font color="#E5E5E5"> the paths no longer</font>

1285
00:56:12,390 --> 00:56:20,060
valid like a router in the middle<font color="#CCCCCC"> dies</font>

1286
00:56:17,570 --> 00:56:22,860
that's the same thing<font color="#E5E5E5"> as a link failing</font>

1287
00:56:20,060 --> 00:56:33,480
<font color="#E5E5E5">yeah yeah the whole</font><font color="#CCCCCC"> L</font><font color="#E5E5E5"> speeds got to go</font>

1288
00:56:22,860 --> 00:56:38,280
away the those<font color="#CCCCCC"> terror messages</font><font color="#E5E5E5"> the path</font>

1289
00:56:33,480 --> 00:56:40,920
tear on the reservation<font color="#CCCCCC"> tear yeah see</font>

1290
00:56:38,280 --> 00:56:42,180
how you<font color="#E5E5E5"> detect the</font><font color="#CCCCCC"> failure is kind</font><font color="#E5E5E5"> of</font>

1291
00:56:40,920 --> 00:56:43,800
<font color="#CCCCCC">going to depend right</font>

1292
00:56:42,180 --> 00:56:45,299
if the link failure and it's a sonnet

1293
00:56:43,800 --> 00:56:46,740
you're gonna find out right<font color="#CCCCCC"> away if</font>

1294
00:56:45,300 --> 00:56:48,420
you're going<font color="#CCCCCC"> into a switch there's some</font>

1295
00:56:46,740 --> 00:56:50,250
timers there when you have to hear<font color="#E5E5E5"> from</font>

1296
00:56:48,420 --> 00:56:52,350
your neighbor<font color="#CCCCCC"> if you lose the hold-down</font>

1297
00:56:50,250 --> 00:56:53,550
you lose the neighbor relationship<font color="#CCCCCC"> then</font>

1298
00:56:52,350 --> 00:56:56,640
you'll start<font color="#E5E5E5"> CERN sending terror</font>

1299
00:56:53,550 --> 00:56:59,120
messages upstream downstream<font color="#CCCCCC"> our ship</font>

1300
00:56:56,640 --> 00:57:02,279
he's got pillows and<font color="#CCCCCC"> keeper lives right</font>

1301
00:56:59,120 --> 00:57:03,660
now free for<font color="#E5E5E5"> you and</font><font color="#CCCCCC"> your neighbor</font><font color="#E5E5E5"> okay</font>

1302
00:57:02,280 --> 00:57:05,430
<font color="#CCCCCC">so you can have multiple sessions Volker</font>

1303
00:57:03,660 --> 00:57:06,390
lsps between your neighbor<font color="#CCCCCC"> you only</font>

1304
00:57:05,430 --> 00:57:11,129
<font color="#CCCCCC">really need</font><font color="#E5E5E5"> to know if he'd the</font>

1305
00:57:06,390 --> 00:57:12,390
<font color="#E5E5E5">neighbors alive okay okay</font><font color="#CCCCCC"> bandwidth this</font>

1306
00:57:11,130 --> 00:57:14,880
is always a<font color="#E5E5E5"> fun topic to talk about</font>

1307
00:57:12,390 --> 00:57:16,230
because<font color="#E5E5E5"> what's</font><font color="#CCCCCC"> your affecting here by</font>

1308
00:57:14,880 --> 00:57:19,410
these bandwidth reservations is whether

1309
00:57:16,230 --> 00:57:20,430
the LSP gets set<font color="#CCCCCC"> up or</font><font color="#E5E5E5"> not that's it end</font>

1310
00:57:19,410 --> 00:57:24,779
of<font color="#CCCCCC"> story</font>

1311
00:57:20,430 --> 00:57:26,430
nothing else happens okay<font color="#CCCCCC"> I didn't want</font>

1312
00:57:24,780 --> 00:57:31,260
to put<font color="#E5E5E5"> it</font><font color="#CCCCCC"> red</font><font color="#E5E5E5"> or make it any bolder than</font>

1313
00:57:26,430 --> 00:57:34,440
that but we're not doing policing<font color="#CCCCCC"> ok</font>

1314
00:57:31,260 --> 00:57:36,870
routers<font color="#CCCCCC"> along the LSP</font><font color="#E5E5E5"> don't do policing</font>

1315
00:57:34,440 --> 00:57:40,580
now can you<font color="#E5E5E5"> police before you get into</font>

1316
00:57:36,870 --> 00:57:43,500
the<font color="#E5E5E5"> LSP</font><font color="#CCCCCC"> chirp that's no</font><font color="#E5E5E5"> problem there</font>

1317
00:57:40,580 --> 00:57:45,900
can you know by some<font color="#E5E5E5"> means network</font>

1318
00:57:43,500 --> 00:57:47,610
monitoring that<font color="#CCCCCC"> traffic</font><font color="#E5E5E5"> that you want to</font>

1319
00:57:45,900 --> 00:57:50,010
put on this LSP normally average is

1320
00:57:47,610 --> 00:57:50,820
<font color="#E5E5E5">about 10 Meg sure you might want to set</font>

1321
00:57:50,010 --> 00:57:54,570
<font color="#CCCCCC">up a 10 Meg</font>

1322
00:57:50,820 --> 00:57:55,470
LSP<font color="#CCCCCC"> okay so some of the people that I've</font>

1323
00:57:54,570 --> 00:57:56,550
talked<font color="#CCCCCC"> to</font><font color="#E5E5E5"> that are actually doing</font>

1324
00:57:55,470 --> 00:57:58,169
<font color="#CCCCCC">bandwidth reservations that's kind of</font>

1325
00:57:56,550 --> 00:57:59,010
what<font color="#E5E5E5"> they're doing they know that for</font>

1326
00:57:58,170 --> 00:58:00,630
the types of<font color="#CCCCCC"> traffic they're going to</font>

1327
00:57:59,010 --> 00:58:03,750
put on this LSP the average<font color="#E5E5E5"> data rates</font>

1328
00:58:00,630 --> 00:58:06,600
are<font color="#E5E5E5"> X and so they establish LSP is based</font>

1329
00:58:03,750 --> 00:58:09,000
on those rates and so that they know

1330
00:58:06,600 --> 00:58:11,100
that<font color="#CCCCCC"> they're not going to over subscribe</font>

1331
00:58:09,000 --> 00:58:13,260
any links but again we're talking

1332
00:58:11,100 --> 00:58:14,000
averages nothing says that you can't be

1333
00:58:13,260 --> 00:58:16,130
transmitting full

1334
00:58:14,000 --> 00:58:17,840
<font color="#CCCCCC">or from</font><font color="#E5E5E5"> two different ingress routers</font>

1335
00:58:16,130 --> 00:58:20,210
<font color="#E5E5E5">hit the same link and over subscribe it</font>

1336
00:58:17,840 --> 00:58:22,900
that can<font color="#E5E5E5"> certainly</font><font color="#CCCCCC"> happen okay</font><font color="#E5E5E5"> you're</font>

1337
00:58:20,210 --> 00:58:22,900
playing the numbers game

1338
00:58:23,440 --> 00:58:29,360
can you change<font color="#CCCCCC"> without taking down the</font>

1339
00:58:25,760 --> 00:58:30,500
LSP<font color="#CCCCCC"> yeah okay you can if you have stats</font>

1340
00:58:29,360 --> 00:58:32,540
<font color="#CCCCCC">from down</font><font color="#E5E5E5"> and doing</font><font color="#CCCCCC"> some</font><font color="#E5E5E5"> monitoring</font>

1341
00:58:30,500 --> 00:58:34,730
things on the ingress router<font color="#E5E5E5"> you can</font>

1342
00:58:32,540 --> 00:58:35,779
monitor how<font color="#E5E5E5"> much actual traffic you're</font>

1343
00:58:34,730 --> 00:58:38,800
sending you can automatically adjust

1344
00:58:35,780 --> 00:58:38,800
those bandwidth values

1345
00:58:44,400 --> 00:58:47,530
<font color="#E5E5E5">okay if you've turned on the statistics</font>

1346
00:58:46,780 --> 00:58:55,270
<font color="#E5E5E5">and things like that</font>

1347
00:58:47,530 --> 00:58:59,440
that's the ingress router the ingress

1348
00:58:55,270 --> 00:59:02,080
router you<font color="#E5E5E5"> can tell the ingress router</font>

1349
00:58:59,440 --> 00:59:04,390
to monitor the stats on this LSP you've

1350
00:59:02,080 --> 00:59:06,370
allocated<font color="#CCCCCC"> ten Meg right now and if over</font>

1351
00:59:04,390 --> 00:59:09,160
a period of<font color="#E5E5E5"> some time it</font><font color="#CCCCCC"> ever just</font><font color="#E5E5E5"> say</font>

1352
00:59:06,370 --> 00:59:14,100
<font color="#E5E5E5">20 Meg then recycle the LSP and ask for</font>

1353
00:59:09,160 --> 00:59:14,100
more bandwidth<font color="#E5E5E5"> yes you can</font>

1354
00:59:17,550 --> 00:59:22,300
well is there<font color="#E5E5E5"> a</font><font color="#CCCCCC"> way to limit stuff</font><font color="#E5E5E5"> you</font>

1355
00:59:20,320 --> 00:59:23,410
pretty<font color="#E5E5E5"> much talk</font><font color="#CCCCCC"> about timers</font><font color="#E5E5E5"> okay like</font>

1356
00:59:22,300 --> 00:59:24,670
you don't want to<font color="#CCCCCC"> do it every second you</font>

1357
00:59:23,410 --> 00:59:27,870
don't<font color="#E5E5E5"> do it every minute typically if</font>

1358
00:59:24,670 --> 00:59:27,870
you want to do it maybe<font color="#E5E5E5"> even once a day</font>

1359
00:59:30,900 --> 00:59:34,750
yeah if you're<font color="#E5E5E5"> doing it too</font><font color="#CCCCCC"> fast enough</font>

1360
00:59:33,040 --> 00:59:36,190
in the mode of<font color="#CCCCCC"> who this stuff is unused</font>

1361
00:59:34,750 --> 00:59:37,660
you<font color="#CCCCCC"> flow</font><font color="#E5E5E5"> your traffic here and then</font>

1362
00:59:36,190 --> 00:59:39,160
<font color="#E5E5E5">suddenly that's unused and you throw</font>

1363
00:59:37,660 --> 00:59:40,540
your traffic<font color="#E5E5E5"> back here and then then now</font>

1364
00:59:39,160 --> 00:59:42,310
this is unused<font color="#CCCCCC"> in right he said they're</font>

1365
00:59:40,540 --> 00:59:44,529
<font color="#CCCCCC">shooting in the network and trashing is</font>

1366
00:59:42,310 --> 00:59:45,730
bad<font color="#E5E5E5"> okay so you want to be kind of</font>

1367
00:59:44,530 --> 00:59:46,720
<font color="#CCCCCC">predictive light and by the way you have</font>

1368
00:59:45,730 --> 00:59:48,600
<font color="#CCCCCC">to turn</font><font color="#E5E5E5"> that you have to really</font><font color="#CCCCCC"> ask</font>

1369
00:59:46,720 --> 00:59:50,560
nicely<font color="#CCCCCC"> for</font><font color="#E5E5E5"> that that's not the default</font>

1370
00:59:48,600 --> 00:59:52,000
default is your<font color="#CCCCCC"> land bandwidth</font><font color="#E5E5E5"> and it's</font>

1371
00:59:50,560 --> 00:59:53,110
there for<font color="#CCCCCC"> the life of the session</font><font color="#E5E5E5"> if you</font>

1372
00:59:52,000 --> 01:00:02,890
<font color="#CCCCCC">wanted this minor thing you have to ask</font>

1373
00:59:53,110 --> 01:00:05,500
<font color="#CCCCCC">nicely the bandwidth the setup by you on</font>

1374
01:00:02,890 --> 01:00:07,150
the<font color="#E5E5E5"> ingress a customer can ask you out</font>

1375
01:00:05,500 --> 01:00:13,890
of band<font color="#CCCCCC"> but it's not running</font><font color="#E5E5E5"> to an RCP</font>

1376
01:00:07,150 --> 01:00:13,890
there yeah sir

1377
01:00:15,000 --> 01:00:27,410
yep yep it's<font color="#CCCCCC"> establishing</font><font color="#E5E5E5"> definitely</font>

1378
01:00:29,240 --> 01:00:32,669
yeah I mean you'll refresh to make sure

1379
01:00:31,380 --> 01:00:35,040
your<font color="#CCCCCC"> neighbor still alive</font><font color="#E5E5E5"> we keep the</font>

1380
01:00:32,670 --> 01:00:36,390
protocol state alive<font color="#E5E5E5"> but as long</font><font color="#CCCCCC"> as</font>

1381
01:00:35,040 --> 01:00:39,000
everybody<font color="#CCCCCC"> in</font><font color="#E5E5E5"> network runs and there's no</font>

1382
01:00:36,390 --> 01:00:40,080
failures<font color="#E5E5E5"> it'll</font><font color="#CCCCCC"> just stay up forever so</font>

1383
01:00:39,000 --> 01:00:46,890
you have to go to the<font color="#E5E5E5"> ingress and tell</font>

1384
01:00:40,080 --> 01:00:51,000
the ingress please turn this down okay

1385
01:00:46,890 --> 01:00:52,319
<font color="#E5E5E5">er</font><font color="#CCCCCC"> oh</font><font color="#E5E5E5"> who that pick up the pace</font><font color="#CCCCCC"> zero</font>

1386
01:00:51,000 --> 01:00:54,930
<font color="#E5E5E5">this is how</font><font color="#CCCCCC"> we</font><font color="#E5E5E5"> do traffic engineering</font>

1387
01:00:52,320 --> 01:00:57,540
<font color="#CCCCCC">okay this is very much</font><font color="#E5E5E5"> like loose and</font>

1388
01:00:54,930 --> 01:01:00,390
strict source routing for<font color="#E5E5E5"> IP stuff okay</font>

1389
01:00:57,540 --> 01:01:01,980
you can define<font color="#E5E5E5"> loose hops within the</font>

1390
01:01:00,390 --> 01:01:03,870
confines of<font color="#CCCCCC"> your network which says at</font>

1391
01:01:01,980 --> 01:01:05,670
<font color="#E5E5E5">some point from ingress to egress touch</font>

1392
01:01:03,870 --> 01:01:07,410
this node or touch these<font color="#CCCCCC"> two nodes or</font>

1393
01:01:05,670 --> 01:01:10,190
touch these three<font color="#E5E5E5"> nodes</font><font color="#CCCCCC"> okay you process</font>

1394
01:01:07,410 --> 01:01:12,839
it in order okay with this loose concept

1395
01:01:10,190 --> 01:01:16,110
<font color="#E5E5E5">we also have the functionality</font><font color="#CCCCCC"> of doing</font>

1396
01:01:12,840 --> 01:01:17,520
a strict hop which says you must be

1397
01:01:16,110 --> 01:01:20,400
directly<font color="#E5E5E5"> connected</font><font color="#CCCCCC"> to this</font><font color="#E5E5E5"> next address</font>

1398
01:01:17,520 --> 01:01:22,680
<font color="#E5E5E5">I just gave you okay so you can define</font>

1399
01:01:20,400 --> 01:01:23,730
go loosely to this first<font color="#E5E5E5"> route or go</font>

1400
01:01:22,680 --> 01:01:25,710
<font color="#E5E5E5">strictly to the next one and then</font>

1401
01:01:23,730 --> 01:01:27,990
loosely someplace else that's fine you

1402
01:01:25,710 --> 01:01:29,700
can<font color="#E5E5E5"> define if you want to strict from</font>

1403
01:01:27,990 --> 01:01:30,899
ingress<font color="#CCCCCC"> to first transit strict to the</font>

1404
01:01:29,700 --> 01:01:33,359
next strict all the way along<font color="#CCCCCC"> the</font><font color="#E5E5E5"> way</font>

1405
01:01:30,900 --> 01:01:35,910
and<font color="#E5E5E5"> that's how you get this non</font><font color="#CCCCCC"> IGP</font>

1406
01:01:33,360 --> 01:01:37,860
shortest path thing if you're<font color="#CCCCCC"> doing</font>

1407
01:01:35,910 --> 01:01:39,629
loose<font color="#E5E5E5"> you're using your routing table to</font>

1408
01:01:37,860 --> 01:01:42,150
find the<font color="#CCCCCC"> next hop and</font><font color="#E5E5E5"> to get to the next</font>

1409
01:01:39,630 --> 01:01:44,700
hop<font color="#E5E5E5"> okay so if I said get from A to B</font>

1410
01:01:42,150 --> 01:01:46,800
and<font color="#E5E5E5"> some point touch router C then</font>

1411
01:01:44,700 --> 01:01:48,560
between<font color="#CCCCCC"> a and C we're doing IP</font><font color="#E5E5E5"> routing</font>

1412
01:01:46,800 --> 01:01:50,640
lookups<font color="#E5E5E5"> to figure out how to get to C</font>

1413
01:01:48,560 --> 01:01:52,080
and then once we get to see we're doing

1414
01:01:50,640 --> 01:01:55,950
writing lookups on how to get<font color="#E5E5E5"> from C to</font>

1415
01:01:52,080 --> 01:01:57,270
<font color="#CCCCCC">the egress so along</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> way there for</font>

1416
01:01:55,950 --> 01:02:04,950
loose hops we're doing IP running

1417
01:01:57,270 --> 01:02:06,360
lookups if if you said I want<font color="#CCCCCC"> to touch</font>

1418
01:02:04,950 --> 01:02:08,250
router<font color="#E5E5E5"> C at some point and writer</font><font color="#CCCCCC"> C is</font>

1419
01:02:06,360 --> 01:02:10,970
not there<font color="#E5E5E5"> you're hosed yeah you won't</font>

1420
01:02:08,250 --> 01:02:10,970
ever set up the<font color="#CCCCCC"> LSP</font>

1421
01:02:13,819 --> 01:02:15,940
yes

1422
01:02:17,740 --> 01:02:22,569
you're specifying IP addresses<font color="#E5E5E5"> okay so</font>

1423
01:02:20,380 --> 01:02:24,700
typically for<font color="#CCCCCC"> a loose hop you're putting</font>

1424
01:02:22,570 --> 01:02:26,650
out<font color="#CCCCCC"> of the loopback ID</font><font color="#E5E5E5"> get there somehow</font>

1425
01:02:24,700 --> 01:02:28,270
<font color="#E5E5E5">for strict talk you have to specify the</font>

1426
01:02:26,650 --> 01:02:29,370
interface addresses every next-door

1427
01:02:28,270 --> 01:02:31,420
neighbor<font color="#E5E5E5"> okay</font>

1428
01:02:29,370 --> 01:02:34,540
so here's an<font color="#CCCCCC"> example I want to</font><font color="#E5E5E5"> get from</font>

1429
01:02:31,420 --> 01:02:37,990
<font color="#E5E5E5">writer in router C and my ero currently</font>

1430
01:02:34,540 --> 01:02:40,210
says use router D loosely<font color="#E5E5E5"> okay so I</font>

1431
01:02:37,990 --> 01:02:43,419
<font color="#CCCCCC">firmly</font><font color="#E5E5E5"> my path message the destination</font>

1432
01:02:40,210 --> 01:02:44,830
<font color="#CCCCCC">address is still the egress router C but</font>

1433
01:02:43,420 --> 01:02:46,210
because I had this<font color="#E5E5E5"> ero I have to do a</font>

1434
01:02:44,830 --> 01:02:49,420
radical<font color="#CCCCCC"> look</font><font color="#E5E5E5"> up and say how do I get to</font>

1435
01:02:46,210 --> 01:02:51,130
<font color="#E5E5E5">router D no I turned out to be directly</font>

1436
01:02:49,420 --> 01:02:53,410
connected<font color="#CCCCCC"> to</font><font color="#E5E5E5"> him so I've put on the</font>

1437
01:02:51,130 --> 01:02:55,240
<font color="#E5E5E5">router Dean rider DB receives this it's</font>

1438
01:02:53,410 --> 01:02:56,140
got the writer<font color="#E5E5E5"> alert takes a look at it</font>

1439
01:02:55,240 --> 01:02:58,569
says oh look

1440
01:02:56,140 --> 01:03:00,819
has his ero<font color="#CCCCCC"> and the only thing listed</font><font color="#E5E5E5"> is</font>

1441
01:02:58,570 --> 01:03:01,900
<font color="#CCCCCC">myself okay cool I can now ignore the</font>

1442
01:03:00,820 --> 01:03:04,060
<font color="#E5E5E5">rest of the ero because there's nothing</font>

1443
01:03:01,900 --> 01:03:06,070
<font color="#E5E5E5">there</font><font color="#CCCCCC"> now I need to get</font><font color="#E5E5E5"> from myself to</font>

1444
01:03:04,060 --> 01:03:08,080
<font color="#E5E5E5">the egress router</font><font color="#CCCCCC"> I do a routing woke up</font>

1445
01:03:06,070 --> 01:03:10,330
okay now<font color="#CCCCCC"> assuming</font><font color="#E5E5E5"> that we have</font><font color="#CCCCCC"> Ollie</font><font color="#E5E5E5"> who</font>

1446
01:03:08,080 --> 01:03:12,460
equal<font color="#E5E5E5"> cost links here</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> could either go</font>

1447
01:03:10,330 --> 01:03:13,960
<font color="#E5E5E5">through router be router</font><font color="#CCCCCC"> e right</font><font color="#E5E5E5"> that's</font>

1448
01:03:12,460 --> 01:03:16,000
a choice<font color="#E5E5E5"> based on what the routing</font>

1449
01:03:13,960 --> 01:03:17,590
tables decided on router<font color="#E5E5E5"> D happens</font><font color="#CCCCCC"> to</font>

1450
01:03:16,000 --> 01:03:18,180
picky<font color="#E5E5E5"> and we set up the path along the</font>

1451
01:03:17,590 --> 01:03:22,510
<font color="#E5E5E5">bottom</font>

1452
01:03:18,180 --> 01:03:25,210
<font color="#CCCCCC">okay</font><font color="#E5E5E5"> so strict is what you would expect</font>

1453
01:03:22,510 --> 01:03:27,220
<font color="#CCCCCC">I got to be directly</font><font color="#E5E5E5"> connected okay so</font>

1454
01:03:25,210 --> 01:03:29,710
from the ingress router I said go<font color="#E5E5E5"> to D</font>

1455
01:03:27,220 --> 01:03:32,200
strictly then go to B then go to<font color="#E5E5E5"> even go</font>

1456
01:03:29,710 --> 01:03:34,480
<font color="#E5E5E5">to C so I'm good this nice little</font>

1457
01:03:32,200 --> 01:03:36,669
serpentine path<font color="#E5E5E5"> to my</font><font color="#CCCCCC"> network and every</font>

1458
01:03:34,480 --> 01:03:38,380
router along the path<font color="#E5E5E5"> when</font><font color="#CCCCCC"> it inspects</font>

1459
01:03:36,670 --> 01:03:41,380
this path message is<font color="#E5E5E5"> going</font><font color="#CCCCCC"> to examine</font>

1460
01:03:38,380 --> 01:03:42,520
the ero okay so first<font color="#CCCCCC"> right on line D is</font>

1461
01:03:41,380 --> 01:03:47,020
<font color="#CCCCCC">going to get it and say oh the first</font>

1462
01:03:42,520 --> 01:03:49,810
<font color="#E5E5E5">address</font><font color="#CCCCCC"> is D strict</font><font color="#E5E5E5"> is that me if it's</font>

1463
01:03:47,020 --> 01:03:50,830
<font color="#E5E5E5">not this is a</font><font color="#CCCCCC"> bad yarrow I can't do</font>

1464
01:03:49,810 --> 01:03:52,299
anything with this I<font color="#E5E5E5"> have to stop</font>

1465
01:03:50,830 --> 01:03:56,110
<font color="#E5E5E5">processing and send error messages back</font>

1466
01:03:52,300 --> 01:03:57,790
to ingress but it is<font color="#CCCCCC"> D in this</font><font color="#E5E5E5"> case so</font>

1467
01:03:56,110 --> 01:03:59,260
process of the path<font color="#E5E5E5"> process the path</font>

1468
01:03:57,790 --> 01:04:02,920
message and now go to<font color="#E5E5E5"> for about</font><font color="#CCCCCC"> to the</font>

1469
01:03:59,260 --> 01:04:04,270
next hop<font color="#E5E5E5"> be technically speaking we take</font>

1470
01:04:02,920 --> 01:04:06,250
these information out of the ero

1471
01:04:04,270 --> 01:04:08,920
okay so here we're modifying an object

1472
01:04:06,250 --> 01:04:10,840
again we've poured it on try<font color="#E5E5E5"> it or B</font>

1473
01:04:08,920 --> 01:04:13,410
<font color="#E5E5E5">does the same thing a my next and so on</font>

1474
01:04:10,840 --> 01:04:17,770
<font color="#E5E5E5">and so on only to</font><font color="#CCCCCC"> get to the egress</font>

1475
01:04:13,410 --> 01:04:19,899
now you can<font color="#CCCCCC"> mix and</font><font color="#E5E5E5"> match</font><font color="#CCCCCC"> if</font><font color="#E5E5E5"> you like go</font>

1476
01:04:17,770 --> 01:04:22,210
to D strictly and then from there get<font color="#CCCCCC"> to</font>

1477
01:04:19,900 --> 01:04:23,440
be using IP routing<font color="#E5E5E5"> and once we get to</font>

1478
01:04:22,210 --> 01:04:24,430
be use IP ready to get to<font color="#E5E5E5"> the egress</font>

1479
01:04:23,440 --> 01:04:25,990
<font color="#E5E5E5">okay</font>

1480
01:04:24,430 --> 01:04:29,589
so totally cool mix and match no problem

1481
01:04:25,990 --> 01:04:30,370
there now if you're<font color="#CCCCCC"> gonna</font><font color="#E5E5E5"> manually do er</font>

1482
01:04:29,590 --> 01:04:31,660
OS

1483
01:04:30,370 --> 01:04:34,060
<font color="#E5E5E5">you got to really know</font><font color="#CCCCCC"> what your network</font>

1484
01:04:31,660 --> 01:04:35,859
looks like okay you got to have

1485
01:04:34,060 --> 01:04:38,080
knowledge<font color="#E5E5E5"> of how</font><font color="#CCCCCC"> things</font><font color="#E5E5E5"> are set up</font>

1486
01:04:35,860 --> 01:04:41,350
<font color="#E5E5E5">because you can end</font><font color="#CCCCCC"> up in problems</font><font color="#E5E5E5"> for</font>

1487
01:04:38,080 --> 01:04:43,390
example<font color="#E5E5E5"> go</font><font color="#CCCCCC"> to be loosely</font><font color="#E5E5E5"> then</font><font color="#CCCCCC"> de loosely</font>

1488
01:04:41,350 --> 01:04:45,580
<font color="#E5E5E5">okay so the path message end up on</font>

1489
01:04:43,390 --> 01:04:47,620
router<font color="#CCCCCC"> e</font><font color="#E5E5E5"> it's the last thing in the ER</font>

1490
01:04:45,580 --> 01:04:49,360
<font color="#CCCCCC">oh its job</font><font color="#E5E5E5"> is to go around</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> look up</font>

1491
01:04:47,620 --> 01:04:53,259
to get to the egress<font color="#CCCCCC"> rather see in</font><font color="#E5E5E5"> this</font>

1492
01:04:49,360 --> 01:04:55,330
<font color="#E5E5E5">case which says go back</font><font color="#CCCCCC"> to B he's</font><font color="#E5E5E5"> gonna</font>

1493
01:04:53,260 --> 01:04:57,040
forward<font color="#E5E5E5"> the path message back</font><font color="#CCCCCC"> to B these</font>

1494
01:04:55,330 --> 01:04:59,259
gonna look in the record route object

1495
01:04:57,040 --> 01:05:01,720
and find its own address for<font color="#E5E5E5"> that</font>

1496
01:04:59,260 --> 01:05:04,000
session<font color="#E5E5E5"> and go you know what this is a</font>

1497
01:05:01,720 --> 01:05:06,419
loop we shouldn't do this<font color="#CCCCCC"> stop</font>

1498
01:05:04,000 --> 01:05:08,710
processing and send error messages

1499
01:05:06,420 --> 01:05:12,100
<font color="#E5E5E5">okay LSP will not be established</font><font color="#CCCCCC"> in this</font>

1500
01:05:08,710 --> 01:05:21,850
case so make sure you<font color="#E5E5E5"> know which it's</font>

1501
01:05:12,100 --> 01:05:24,130
apology looks like yes well the old

1502
01:05:21,850 --> 01:05:25,240
speeds not established at<font color="#CCCCCC"> that point so</font>

1503
01:05:24,130 --> 01:05:26,500
<font color="#E5E5E5">their error message is just telling the</font>

1504
01:05:25,240 --> 01:05:29,350
ingress router hey I couldn't establish

1505
01:05:26,500 --> 01:05:31,450
this okay and<font color="#E5E5E5"> it'll try well in the</font><font color="#CCCCCC"> case</font>

1506
01:05:29,350 --> 01:05:34,270
<font color="#E5E5E5">of you defining</font><font color="#CCCCCC"> the ero it's going to</font>

1507
01:05:31,450 --> 01:05:35,950
keep trying that<font color="#E5E5E5"> path forever</font><font color="#CCCCCC"> okay but</font>

1508
01:05:34,270 --> 01:05:37,540
if you do some automatic<font color="#E5E5E5"> stuff depending</font>

1509
01:05:35,950 --> 01:05:39,960
<font color="#CCCCCC">on the situation you may be able to</font><font color="#E5E5E5"> take</font>

1510
01:05:37,540 --> 01:05:39,960
<font color="#E5E5E5">it from path</font>

1511
01:05:45,400 --> 01:05:50,650
yes<font color="#CCCCCC"> topologies changing a</font><font color="#E5E5E5"> lot of times</font>

1512
01:05:48,370 --> 01:05:51,940
manual arrows can become a hassle<font color="#CCCCCC"> that's</font>

1513
01:05:50,650 --> 01:05:54,520
<font color="#E5E5E5">where these come in really</font><font color="#CCCCCC"> handy</font>

1514
01:05:51,940 --> 01:05:56,110
<font color="#E5E5E5">okay automatic</font><font color="#CCCCCC"> gyro basically we're</font>

1515
01:05:54,520 --> 01:05:57,490
<font color="#CCCCCC">talking</font><font color="#E5E5E5"> about here is the ability of the</font>

1516
01:05:56,110 --> 01:05:59,650
<font color="#E5E5E5">ingress router to automatically figure</font>

1517
01:05:57,490 --> 01:06:01,899
out how to get<font color="#E5E5E5"> to the egress okay</font>

1518
01:05:59,650 --> 01:06:03,010
specifically for<font color="#CCCCCC"> RSVP we build this</font>

1519
01:06:01,900 --> 01:06:05,110
thing<font color="#E5E5E5"> called the traffic engineering</font>

1520
01:06:03,010 --> 01:06:07,780
database and we populated with

1521
01:06:05,110 --> 01:06:10,450
<font color="#CCCCCC">information that's transmitted inside</font>

1522
01:06:07,780 --> 01:06:12,720
<font color="#E5E5E5">the</font><font color="#CCCCCC"> eye</font><font color="#E5E5E5"> GPS themselves okay so for</font><font color="#CCCCCC"> OSPF</font>

1523
01:06:10,450 --> 01:06:14,589
we have typed an opaque LSA area scope

1524
01:06:12,720 --> 01:06:16,959
<font color="#E5E5E5">we're going to flood this stuff within</font>

1525
01:06:14,590 --> 01:06:19,720
<font color="#E5E5E5">our</font><font color="#CCCCCC"> OSPF area and that</font><font color="#E5E5E5"> information to</font>

1526
01:06:16,960 --> 01:06:22,420
specifically<font color="#E5E5E5"> put into this Ted if you're</font>

1527
01:06:19,720 --> 01:06:24,399
running an Isis<font color="#CCCCCC"> Network you have</font><font color="#E5E5E5"> two</font>

1528
01:06:22,420 --> 01:06:25,900
different<font color="#CCCCCC"> TLDs</font><font color="#E5E5E5"> okay one for</font><font color="#CCCCCC"> Isis</font>

1529
01:06:24,400 --> 01:06:28,000
information one for IP information<font color="#CCCCCC"> 20</font><font color="#E5E5E5"> to</font>

1530
01:06:25,900 --> 01:06:30,970
135<font color="#E5E5E5"> and again this information gonna be</font>

1531
01:06:28,000 --> 01:06:32,050
populated<font color="#E5E5E5"> into this Ted</font><font color="#CCCCCC"> okay so you have</font>

1532
01:06:30,970 --> 01:06:34,209
<font color="#E5E5E5">your you still be</font><font color="#CCCCCC"> regularly</font><font color="#E5E5E5"> state</font>

1533
01:06:32,050 --> 01:06:36,130
database now you have this special<font color="#CCCCCC"> ten</font>

1534
01:06:34,210 --> 01:06:38,290
it's<font color="#E5E5E5"> gonna contain things like current</font>

1535
01:06:36,130 --> 01:06:42,480
bandwidth available current priority

1536
01:06:38,290 --> 01:06:46,710
values<font color="#E5E5E5"> things of that nature sir</font><font color="#CCCCCC"> I</font>

1537
01:06:42,480 --> 01:06:54,940
believe<font color="#CCCCCC"> so at</font><font color="#E5E5E5"> least we in Cisco do</font>

1538
01:06:46,710 --> 01:06:55,930
what's<font color="#E5E5E5"> it so who I'd wreck the connector</font>

1539
01:06:54,940 --> 01:06:57,490
<font color="#E5E5E5">to because you have to make sure you</font>

1540
01:06:55,930 --> 01:06:58,930
have a path<font color="#E5E5E5"> okay so you have interface</font>

1541
01:06:57,490 --> 01:07:01,089
addresses<font color="#E5E5E5"> there you have router IDs you</font>

1542
01:06:58,930 --> 01:07:02,649
have bandwidth information priority

1543
01:07:01,090 --> 01:07:05,410
values we also have<font color="#CCCCCC"> this</font><font color="#E5E5E5"> thing's called</font>

1544
01:07:02,650 --> 01:07:07,270
<font color="#E5E5E5">administrative grouping okay you may</font>

1545
01:07:05,410 --> 01:07:09,220
know<font color="#E5E5E5"> it</font><font color="#CCCCCC"> as</font><font color="#E5E5E5"> affinity classes you may know</font>

1546
01:07:07,270 --> 01:07:10,690
it as colors may notice administrative

1547
01:07:09,220 --> 01:07:13,959
groups<font color="#E5E5E5"> lots of different</font><font color="#CCCCCC"> names all means</font>

1548
01:07:10,690 --> 01:07:15,970
the<font color="#E5E5E5"> same stuff okay all this information</font>

1549
01:07:13,960 --> 01:07:17,650
is<font color="#CCCCCC"> stored in the</font><font color="#E5E5E5"> tip and when you tell</font>

1550
01:07:15,970 --> 01:07:19,870
<font color="#E5E5E5">the ingress router to go from yourself</font>

1551
01:07:17,650 --> 01:07:22,510
<font color="#E5E5E5">to the egress</font><font color="#CCCCCC"> it's going to</font><font color="#E5E5E5"> consult this</font>

1552
01:07:19,870 --> 01:07:24,250
database<font color="#CCCCCC"> and it's going to</font><font color="#E5E5E5"> use a</font>

1553
01:07:22,510 --> 01:07:26,140
<font color="#E5E5E5">modified version of SPF called</font>

1554
01:07:24,250 --> 01:07:28,210
constraining shortest path first<font color="#CCCCCC"> OC SPF</font>

1555
01:07:26,140 --> 01:07:32,859
to figure out how<font color="#E5E5E5"> to get from the</font>

1556
01:07:28,210 --> 01:07:37,870
<font color="#E5E5E5">ingress to the egress</font><font color="#CCCCCC"> and the result of</font>

1557
01:07:32,860 --> 01:07:40,570
this<font color="#CCCCCC"> see SPF</font><font color="#E5E5E5"> run is an ero a strict hoc</font>

1558
01:07:37,870 --> 01:07:42,160
arrow detailing every exact node along

1559
01:07:40,570 --> 01:07:46,990
the way<font color="#CCCCCC"> okay</font>

1560
01:07:42,160 --> 01:07:49,210
now by default<font color="#E5E5E5"> if you just say get from</font>

1561
01:07:46,990 --> 01:07:50,410
ingress egress go<font color="#E5E5E5"> it's probably going to</font>

1562
01:07:49,210 --> 01:07:52,990
follow the same path that<font color="#CCCCCC"> your IDP</font>

1563
01:07:50,410 --> 01:07:55,660
shortest path because the<font color="#E5E5E5"> same values</font>

1564
01:07:52,990 --> 01:07:57,750
<font color="#CCCCCC">the same topology exists</font><font color="#E5E5E5"> okay but you</font>

1565
01:07:55,660 --> 01:07:59,220
can supply constraints

1566
01:07:57,750 --> 01:08:01,740
you can apply<font color="#CCCCCC"> some of these</font>

1567
01:07:59,220 --> 01:08:02,279
administrative group things you can

1568
01:08:01,740 --> 01:08:04,200
apply

1569
01:08:02,280 --> 01:08:06,540
pardon me bandwidth reservations<font color="#E5E5E5"> those</font>

1570
01:08:04,200 --> 01:08:08,819
are constraints<font color="#CCCCCC"> that you provide to see</font>

1571
01:08:06,540 --> 01:08:11,720
SPF which alters the output<font color="#CCCCCC"> okay we'll</font>

1572
01:08:08,820 --> 01:08:11,720
see how that<font color="#E5E5E5"> works</font><font color="#CCCCCC"> in</font><font color="#E5E5E5"> a second</font>

1573
01:08:12,560 --> 01:08:20,100
so the algorithm<font color="#CCCCCC"> in sort of a very nice</font>

1574
01:08:17,910 --> 01:08:23,430
<font color="#E5E5E5">high level you have this tracking</font>

1575
01:08:20,100 --> 01:08:25,830
<font color="#E5E5E5">database if you've asked</font><font color="#CCCCCC"> for a bandwidth</font>

1576
01:08:23,430 --> 01:08:27,210
reservation on your LSP<font color="#E5E5E5"> the first thing</font>

1577
01:08:25,830 --> 01:08:30,210
I'm going<font color="#CCCCCC"> to do is go</font><font color="#E5E5E5"> to this Ted and</font>

1578
01:08:27,210 --> 01:08:32,910
we're going<font color="#E5E5E5"> to tear out of it all of the</font>

1579
01:08:30,210 --> 01:08:34,920
links which don't meet the capability of

1580
01:08:32,910 --> 01:08:36,990
<font color="#E5E5E5">your bandwidth request okay</font><font color="#CCCCCC"> so if you've</font>

1581
01:08:34,920 --> 01:08:38,339
asked<font color="#CCCCCC"> for 20</font><font color="#E5E5E5"> Meg's say on your LSP and</font>

1582
01:08:36,990 --> 01:08:41,068
there's a link<font color="#CCCCCC"> in</font><font color="#E5E5E5"> the network</font><font color="#CCCCCC"> that only</font>

1583
01:08:38,339 --> 01:08:42,960
has<font color="#CCCCCC"> available 10 Meg left we're</font><font color="#E5E5E5"> going to</font>

1584
01:08:41,069 --> 01:08:44,279
take that<font color="#E5E5E5"> out</font><font color="#CCCCCC"> of this the</font><font color="#E5E5E5"> Ted</font><font color="#CCCCCC"> okay</font>

1585
01:08:42,960 --> 01:08:45,779
<font color="#E5E5E5">technically we have this little subset</font>

1586
01:08:44,279 --> 01:08:46,950
<font color="#E5E5E5">of right this separate data structure</font>

1587
01:08:45,779 --> 01:08:48,690
we're going to tear the information<font color="#E5E5E5"> out</font>

1588
01:08:46,950 --> 01:08:50,370
<font color="#E5E5E5">you can't use that link does I'm not</font>

1589
01:08:48,689 --> 01:08:52,528
<font color="#E5E5E5">bandwidth</font><font color="#CCCCCC"> request</font><font color="#E5E5E5"> enough bandwidth</font>

1590
01:08:50,370 --> 01:08:53,729
available<font color="#E5E5E5"> so if you have bandwidth</font>

1591
01:08:52,529 --> 01:08:55,770
<font color="#E5E5E5">you're gonna do that tear all those</font>

1592
01:08:53,729 --> 01:08:56,910
links<font color="#CCCCCC"> out then the next</font><font color="#E5E5E5"> two have to do</font>

1593
01:08:55,770 --> 01:08:59,609
with<font color="#CCCCCC"> those administrative groups</font><font color="#E5E5E5"> as</font>

1594
01:08:56,910 --> 01:09:01,439
colors okay if you've told the LSP<font color="#E5E5E5"> to</font>

1595
01:08:59,609 --> 01:09:05,460
only<font color="#E5E5E5"> use links which contain this group</font>

1596
01:09:01,439 --> 01:09:08,129
value say gold links then every link

1597
01:09:05,460 --> 01:09:09,660
which doesn't have<font color="#E5E5E5"> that</font><font color="#CCCCCC"> value doesn't</font>

1598
01:09:08,130 --> 01:09:13,049
<font color="#CCCCCC">meet the constraint</font><font color="#E5E5E5"> it has to be removed</font>

1599
01:09:09,660 --> 01:09:14,639
from the tip okay sort<font color="#E5E5E5"> of a reverse</font>

1600
01:09:13,049 --> 01:09:16,589
logic<font color="#CCCCCC"> there but if you asked me to do</font>

1601
01:09:14,640 --> 01:09:17,700
this link color if you don't got<font color="#CCCCCC"> it you</font>

1602
01:09:16,589 --> 01:09:20,130
got to<font color="#E5E5E5"> be taken out you</font><font color="#CCCCCC"> don't meet the</font>

1603
01:09:17,700 --> 01:09:23,099
constraints then if<font color="#E5E5E5"> you've told me to</font>

1604
01:09:20,130 --> 01:09:25,440
avoid<font color="#E5E5E5"> links with a certain color say</font>

1605
01:09:23,100 --> 01:09:28,560
management links then I got to remove

1606
01:09:25,439 --> 01:09:30,870
those links<font color="#CCCCCC"> that do have</font><font color="#E5E5E5"> management on</font>

1607
01:09:28,560 --> 01:09:35,040
them<font color="#E5E5E5"> okay where that</font><font color="#CCCCCC"> root value assigned</font>

1608
01:09:30,870 --> 01:09:36,778
<font color="#E5E5E5">to them so what I do is I prune out</font>

1609
01:09:35,040 --> 01:09:37,950
based on<font color="#E5E5E5"> my constraints all these values</font>

1610
01:09:36,779 --> 01:09:40,259
<font color="#E5E5E5">and now in love with</font><font color="#CCCCCC"> the subset of data</font>

1611
01:09:37,950 --> 01:09:42,330
and now I figure out how to get<font color="#E5E5E5"> from</font>

1612
01:09:40,259 --> 01:09:44,490
ingress<font color="#CCCCCC"> to</font><font color="#E5E5E5"> egress on the remaining set</font>

1613
01:09:42,330 --> 01:09:46,880
of<font color="#E5E5E5"> links</font><font color="#CCCCCC"> stole could might be the IGP</font>

1614
01:09:44,490 --> 01:09:50,519
shortest path<font color="#E5E5E5"> might be some other</font>

1615
01:09:46,880 --> 01:09:53,120
serpentine path of the network<font color="#E5E5E5"> now in</font>

1616
01:09:50,520 --> 01:09:53,120
<font color="#E5E5E5">addition to this</font>

1617
01:09:55,380 --> 01:10:03,940
well if you<font color="#E5E5E5"> still reach ability sure</font>

1618
01:09:57,340 --> 01:10:05,170
you'll establish<font color="#E5E5E5"> it well you're not</font>

1619
01:10:03,940 --> 01:10:06,869
really excluding the path<font color="#E5E5E5"> you're</font>

1620
01:10:05,170 --> 01:10:11,219
excluding certain links in the network

1621
01:10:06,869 --> 01:10:13,900
from from<font color="#E5E5E5"> LSP being able to use them oh</font>

1622
01:10:11,219 --> 01:10:15,099
if you've got a stub and you exclude the

1623
01:10:13,900 --> 01:10:16,809
<font color="#E5E5E5">link to the stub then you can't you</font>

1624
01:10:15,099 --> 01:10:20,349
<font color="#E5E5E5">never each ability to stub me more you</font>

1625
01:10:16,810 --> 01:10:22,540
won't set up the LSP<font color="#E5E5E5"> now number</font><font color="#CCCCCC"> four</font>

1626
01:10:20,349 --> 01:10:24,340
here talks about<font color="#CCCCCC"> manual</font><font color="#E5E5E5"> arrows you still</font>

1627
01:10:22,540 --> 01:10:26,500
have that<font color="#CCCCCC"> ability okay I can still</font><font color="#E5E5E5"> say</font>

1628
01:10:24,340 --> 01:10:28,840
get from router A to B and<font color="#E5E5E5"> touch see at</font>

1629
01:10:26,500 --> 01:10:30,969
some point we're going<font color="#E5E5E5"> to go through and</font>

1630
01:10:28,840 --> 01:10:33,070
do our pruning functions and they're

1631
01:10:30,969 --> 01:10:34,800
going<font color="#E5E5E5"> to run</font><font color="#CCCCCC"> CSP F from the ingress to</font>

1632
01:10:33,070 --> 01:10:37,360
<font color="#CCCCCC">the first hop in my</font><font color="#E5E5E5"> manual you are</font><font color="#CCCCCC"> oh</font>

1633
01:10:34,800 --> 01:10:40,119
then we're gonna<font color="#E5E5E5"> do a second</font><font color="#CCCCCC"> CSP F run</font>

1634
01:10:37,360 --> 01:10:43,239
from the<font color="#CCCCCC"> gyro</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> first time I arrow to</font>

1635
01:10:40,119 --> 01:10:45,790
the egress okay if I've defined<font color="#CCCCCC"> multiple</font>

1636
01:10:43,239 --> 01:10:47,638
<font color="#CCCCCC">year</font><font color="#E5E5E5"> loose hoppy arrows manually</font><font color="#CCCCCC"> we're</font>

1637
01:10:45,790 --> 01:10:49,540
gonna do mostly<font color="#CCCCCC"> CSPs all along the way</font>

1638
01:10:47,639 --> 01:10:53,679
when we're<font color="#E5E5E5"> done we're gonna combine it</font>

1639
01:10:49,540 --> 01:10:54,849
all back into<font color="#E5E5E5"> one big ero so we're</font>

1640
01:10:53,679 --> 01:10:56,710
taking<font color="#CCCCCC"> all these little subsets of runs</font>

1641
01:10:54,849 --> 01:10:58,210
we did we made<font color="#CCCCCC"> it from ingress to</font><font color="#E5E5E5"> egress</font>

1642
01:10:56,710 --> 01:11:00,520
following some paths that all meet the

1643
01:10:58,210 --> 01:11:03,400
constraints we have<font color="#CCCCCC"> a</font><font color="#E5E5E5"> explicit round</font>

1644
01:11:00,520 --> 01:11:05,170
object that<font color="#E5E5E5"> it statically pardon me</font>

1645
01:11:03,400 --> 01:11:07,259
strictly<font color="#E5E5E5"> Maps out all the hops along the</font>

1646
01:11:05,170 --> 01:11:07,260
way

1647
01:11:12,280 --> 01:11:18,590
see SPF is bounded by your<font color="#CCCCCC"> IGP so either</font>

1648
01:11:15,140 --> 01:11:24,050
<font color="#E5E5E5">your</font><font color="#CCCCCC"> OSPF area</font><font color="#E5E5E5"> or your Isis level you're</font>

1649
01:11:18,590 --> 01:11:34,220
bounded by the scope<font color="#E5E5E5"> of the Ted okay yes</font>

1650
01:11:24,050 --> 01:11:35,390
sir not to my knowledge<font color="#CCCCCC"> I</font><font color="#E5E5E5"> think so yes</font>

1651
01:11:34,220 --> 01:11:37,670
<font color="#E5E5E5">but it's</font><font color="#CCCCCC"> very interactive</font>

1652
01:11:35,390 --> 01:11:40,460
how about that the<font color="#E5E5E5"> extensions are</font>

1653
01:11:37,670 --> 01:11:42,230
defined<font color="#CCCCCC"> so what you</font><font color="#E5E5E5"> put into the Ted is</font>

1654
01:11:40,460 --> 01:11:44,360
defined how you actually<font color="#E5E5E5"> use</font><font color="#CCCCCC"> that</font>

1655
01:11:42,230 --> 01:11:45,379
information<font color="#CCCCCC"> as vendor-independent</font><font color="#E5E5E5"> okay</font>

1656
01:11:44,360 --> 01:11:49,490
so how<font color="#CCCCCC"> about</font><font color="#E5E5E5"> that the algorithm</font><font color="#CCCCCC"> yeah</font>

1657
01:11:45,380 --> 01:11:58,930
okay the LSA is and the<font color="#CCCCCC"> Isis teal these</font>

1658
01:11:49,490 --> 01:11:58,929
are to find yes sure sure

1659
01:12:00,250 --> 01:12:05,540
now if the end<font color="#E5E5E5"> result is multiple paths</font>

1660
01:12:04,190 --> 01:12:07,400
in my network<font color="#E5E5E5"> I got to make decisions</font>

1661
01:12:05,540 --> 01:12:08,510
now<font color="#E5E5E5"> okay because the end result has got</font>

1662
01:12:07,400 --> 01:12:10,099
to be a<font color="#E5E5E5"> single way to get from ingress</font>

1663
01:12:08,510 --> 01:12:11,480
to<font color="#E5E5E5"> egress so I go</font><font color="#CCCCCC"> through all my</font>

1664
01:12:10,100 --> 01:12:12,680
constraints I go through my<font color="#CCCCCC"> manually</font>

1665
01:12:11,480 --> 01:12:15,500
arrow and I still have multiple ways<font color="#E5E5E5"> to</font>

1666
01:12:12,680 --> 01:12:17,480
<font color="#E5E5E5">get there first I'm going to do is check</font>

1667
01:12:15,500 --> 01:12:20,180
and<font color="#E5E5E5"> see already these multiple paths</font>

1668
01:12:17,480 --> 01:12:22,370
through<font color="#E5E5E5"> the network does the egress</font>

1669
01:12:20,180 --> 01:12:23,930
address I'm trying to reach match the

1670
01:12:22,370 --> 01:12:26,360
last top address<font color="#E5E5E5"> okay now if you're</font>

1671
01:12:23,930 --> 01:12:28,310
<font color="#CCCCCC">doing loopback</font><font color="#E5E5E5"> egress routing none</font><font color="#CCCCCC"> of</font>

1672
01:12:26,360 --> 01:12:30,830
them will but you<font color="#E5E5E5"> can't set</font><font color="#CCCCCC"> up an egress</font>

1673
01:12:28,310 --> 01:12:33,140
<font color="#E5E5E5">as an interface address okay in which</font>

1674
01:12:30,830 --> 01:12:35,360
case if path one two three<font color="#E5E5E5"> are available</font>

1675
01:12:33,140 --> 01:12:37,490
to get to this<font color="#E5E5E5"> Ingrid egress node and</font>

1676
01:12:35,360 --> 01:12:38,960
you've told the egress address to be the

1677
01:12:37,490 --> 01:12:40,460
IP address of this<font color="#E5E5E5"> interface we're gonna</font>

1678
01:12:38,960 --> 01:12:41,570
pick<font color="#CCCCCC"> Path number one</font><font color="#E5E5E5"> okay</font><font color="#CCCCCC"> so that's</font>

1679
01:12:40,460 --> 01:12:44,390
really what that one said that<font color="#CCCCCC"> first of</font>

1680
01:12:41,570 --> 01:12:45,980
<font color="#CCCCCC">all</font><font color="#E5E5E5"> it says but if we're</font><font color="#CCCCCC"> doing loopback</font>

1681
01:12:44,390 --> 01:12:47,600
<font color="#E5E5E5">egress addressing that doesn't help us</font>

1682
01:12:45,980 --> 01:12:51,650
so now we're going<font color="#CCCCCC"> to pick the fewest</font>

1683
01:12:47,600 --> 01:12:52,790
number of hops<font color="#CCCCCC"> physical hops if we still</font>

1684
01:12:51,650 --> 01:12:54,290
have multiple paths at that point then

1685
01:12:52,790 --> 01:12:57,800
we're going to come to this nice little

1686
01:12:54,290 --> 01:12:59,840
load balancing thing it has<font color="#E5E5E5"> to do with</font>

1687
01:12:57,800 --> 01:13:01,280
<font color="#E5E5E5">your bandwidth reservations in there's</font>

1688
01:12:59,840 --> 01:13:03,440
lots of gory stuff<font color="#E5E5E5"> that goes into number</font>

1689
01:13:01,280 --> 01:13:04,550
seven<font color="#E5E5E5"> here but at a high level random is</font>

1690
01:13:03,440 --> 01:13:06,559
the default which means<font color="#CCCCCC"> you'll just</font>

1691
01:13:04,550 --> 01:13:08,540
randomly pick a path statistically over

1692
01:13:06,560 --> 01:13:10,910
time you've<font color="#E5E5E5"> load balanced stuff across</font>

1693
01:13:08,540 --> 01:13:12,830
your network<font color="#CCCCCC"> okay</font><font color="#E5E5E5"> very consistent with</font>

1694
01:13:10,910 --> 01:13:15,080
what<font color="#CCCCCC"> our</font><font color="#E5E5E5"> BGP transit traffic load</font>

1695
01:13:12,830 --> 01:13:16,519
balancing thing does or you<font color="#CCCCCC"> can</font>

1696
01:13:15,080 --> 01:13:19,370
configure this thing called<font color="#CCCCCC"> Moscow which</font>

1697
01:13:16,520 --> 01:13:21,110
means move the LSP<font color="#CCCCCC"> to the link which has</font>

1698
01:13:19,370 --> 01:13:22,910
the<font color="#E5E5E5"> most reservations currently on it in</font>

1699
01:13:21,110 --> 01:13:24,829
other words<font color="#E5E5E5"> fill up my pipe first then</font>

1700
01:13:22,910 --> 01:13:26,150
go and start<font color="#E5E5E5"> filling up the second path</font>

1701
01:13:24,829 --> 01:13:28,040
then go<font color="#E5E5E5"> and start filling up the third</font>

1702
01:13:26,150 --> 01:13:29,750
path<font color="#CCCCCC"> the opposite of</font><font color="#E5E5E5"> that is least</font><font color="#CCCCCC"> fill</font>

1703
01:13:28,040 --> 01:13:32,179
which is put the LSP<font color="#E5E5E5"> where there's the</font>

1704
01:13:29,750 --> 01:13:34,070
<font color="#CCCCCC">least amount of current traffic</font><font color="#E5E5E5"> well</font>

1705
01:13:32,179 --> 01:13:36,349
current bandwidth reservations<font color="#CCCCCC"> okay so</font>

1706
01:13:34,070 --> 01:13:39,650
number<font color="#E5E5E5"> seven is very bandwidth dependent</font>

1707
01:13:36,349 --> 01:13:41,270
<font color="#E5E5E5">but if all this random works pretty well</font>

1708
01:13:39,650 --> 01:13:43,670
if<font color="#CCCCCC"> you</font><font color="#E5E5E5"> really get into the gory guts of</font>

1709
01:13:41,270 --> 01:13:45,170
least<font color="#CCCCCC"> we will</font><font color="#E5E5E5"> still a lot of Peaks after</font>

1710
01:13:43,670 --> 01:13:46,730
<font color="#CCCCCC">I finish explaining</font><font color="#E5E5E5"> it like in a</font>

1711
01:13:45,170 --> 01:13:49,280
training class people<font color="#E5E5E5"> go hmm</font>

1712
01:13:46,730 --> 01:13:51,079
<font color="#CCCCCC">I'll stick with random so</font><font color="#E5E5E5"> okay</font><font color="#CCCCCC"> no</font>

1713
01:13:49,280 --> 01:13:57,590
problem so anyway you have<font color="#CCCCCC"> an arrow when</font>

1714
01:13:51,079 --> 01:14:00,469
you're done now admin groups hmm what's

1715
01:13:57,590 --> 01:14:06,020
<font color="#CCCCCC">your</font><font color="#E5E5E5"> transmitting inside OSPF and</font><font color="#CCCCCC"> Isis</font>

1716
01:14:00,469 --> 01:14:08,389
is this<font color="#CCCCCC"> 32-bit vector</font><font color="#E5E5E5"> okay with a zero</font>

1717
01:14:06,020 --> 01:14:11,119
one<font color="#E5E5E5"> turned on at</font><font color="#CCCCCC"> every bit position so</font>

1718
01:14:08,389 --> 01:14:13,639
from position 0 31<font color="#E5E5E5"> that's what you're</font>

1719
01:14:11,119 --> 01:14:14,659
<font color="#E5E5E5">really transmitting</font><font color="#CCCCCC"> ok now</font><font color="#E5E5E5"> local to your</font>

1720
01:14:13,639 --> 01:14:17,210
router<font color="#E5E5E5"> you're going to give up these</font>

1721
01:14:14,659 --> 01:14:20,839
nice fancy<font color="#E5E5E5"> names</font><font color="#CCCCCC"> gold</font><font color="#E5E5E5"> silver best effort</font>

1722
01:14:17,210 --> 01:14:22,099
management<font color="#E5E5E5"> don't go here</font><font color="#CCCCCC"> Jo Bob call</font>

1723
01:14:20,840 --> 01:14:24,559
whatever<font color="#E5E5E5"> you want to and you're gonna</font>

1724
01:14:22,099 --> 01:14:27,920
sign that<font color="#E5E5E5"> name to a value and then</font>

1725
01:14:24,559 --> 01:14:29,090
assign that<font color="#CCCCCC"> to your interface</font><font color="#E5E5E5"> but in</font>

1726
01:14:27,920 --> 01:14:33,949
reality what<font color="#E5E5E5"> you're transmitting in the</font>

1727
01:14:29,090 --> 01:14:36,500
<font color="#E5E5E5">Ted is this big vector so you can define</font>

1728
01:14:33,949 --> 01:14:37,610
this link as a gold link could<font color="#E5E5E5"> be</font><font color="#CCCCCC"> a gold</font>

1729
01:14:36,500 --> 01:14:39,110
and<font color="#E5E5E5"> a best-effort link you can put</font>

1730
01:14:37,610 --> 01:14:42,019
<font color="#CCCCCC">multiple values on that same physical</font>

1731
01:14:39,110 --> 01:14:43,190
interface that's fine<font color="#E5E5E5"> so when you look</font>

1732
01:14:42,020 --> 01:14:44,570
at the<font color="#CCCCCC"> Ted you're</font><font color="#E5E5E5"> going to run through</font>

1733
01:14:43,190 --> 01:14:46,070
this include exclude stuff you're<font color="#E5E5E5"> gonna</font>

1734
01:14:44,570 --> 01:14:47,900
figure out hmm

1735
01:14:46,070 --> 01:14:49,579
this router has gold<font color="#E5E5E5"> on this interface</font>

1736
01:14:47,900 --> 01:14:52,070
<font color="#E5E5E5">it's connected to</font><font color="#CCCCCC"> this router does</font><font color="#E5E5E5"> this</font>

1737
01:14:49,579 --> 01:14:54,799
router<font color="#E5E5E5"> also have that same bit value</font>

1738
01:14:52,070 --> 01:14:57,019
turned on if the answer is<font color="#E5E5E5"> yes then they</font>

1739
01:14:54,800 --> 01:14:58,579
agree<font color="#CCCCCC"> on what that value is</font><font color="#E5E5E5"> and you can</font>

1740
01:14:57,020 --> 01:15:01,070
<font color="#E5E5E5">use that link if you've asked</font><font color="#CCCCCC"> for that</font>

1741
01:14:58,579 --> 01:15:05,329
<font color="#E5E5E5">color or</font><font color="#CCCCCC"> that affinity class whatever</font>

1742
01:15:01,070 --> 01:15:08,509
<font color="#E5E5E5">you're calling it so if you have</font>

1743
01:15:05,329 --> 01:15:10,820
<font color="#CCCCCC">multiple</font><font color="#E5E5E5"> values</font><font color="#CCCCCC"> either as use</font><font color="#E5E5E5"> gold</font><font color="#CCCCCC"> and</font>

1744
01:15:08,510 --> 01:15:13,820
<font color="#CCCCCC">so use gold or silver</font><font color="#E5E5E5"> sorry Falacci</font><font color="#CCCCCC"> lore</font>

1745
01:15:10,820 --> 01:15:15,980
<font color="#E5E5E5">on these</font><font color="#CCCCCC"> crude side same thing</font><font color="#E5E5E5"> exclude</font>

1746
01:15:13,820 --> 01:15:17,269
management<font color="#E5E5E5"> or exclude best-effort</font><font color="#CCCCCC"> okay</font>

1747
01:15:15,980 --> 01:15:19,940
so you can define<font color="#CCCCCC"> multiple things to</font>

1748
01:15:17,270 --> 01:15:21,829
<font color="#E5E5E5">include</font><font color="#CCCCCC"> erected watch alors</font><font color="#E5E5E5"> you take the</font>

1749
01:15:19,940 --> 01:15:23,239
included<font color="#CCCCCC"> exclude</font><font color="#E5E5E5"> and them together so</font>

1750
01:15:21,829 --> 01:15:24,500
you<font color="#CCCCCC"> have two both and if you look at the</font>

1751
01:15:23,239 --> 01:15:26,928
<font color="#CCCCCC">algorithm steps you'll see</font><font color="#E5E5E5"> that right</font>

1752
01:15:24,500 --> 01:15:29,809
you have<font color="#CCCCCC"> to satisfy</font><font color="#E5E5E5"> both the includes</font>

1753
01:15:26,929 --> 01:15:31,099
<font color="#E5E5E5">and the excludes but within the</font>

1754
01:15:29,809 --> 01:15:32,679
individual<font color="#E5E5E5"> include actually we have</font>

1755
01:15:31,099 --> 01:15:35,960
these<font color="#CCCCCC"> logical</font><font color="#E5E5E5"> whores</font>

1756
01:15:32,679 --> 01:15:38,090
so examples<font color="#CCCCCC"> that always helps here's my</font>

1757
01:15:35,960 --> 01:15:38,659
nice little sample<font color="#CCCCCC"> network and watch the</font>

1758
01:15:38,090 --> 01:15:39,889
colors<font color="#CCCCCC"> define</font>

1759
01:15:38,659 --> 01:15:43,129
notice one link down here<font color="#E5E5E5"> has both</font>

1760
01:15:39,889 --> 01:15:48,349
silver and<font color="#CCCCCC"> best-effort on</font><font color="#E5E5E5"> it I'm trying</font>

1761
01:15:43,130 --> 01:15:50,059
<font color="#CCCCCC">to</font><font color="#E5E5E5"> get from C to</font><font color="#CCCCCC"> E and all the weak</font>

1762
01:15:48,349 --> 01:15:51,619
metrics are<font color="#CCCCCC"> one so we'll just even</font>

1763
01:15:50,059 --> 01:15:53,139
things out here<font color="#E5E5E5"> also</font><font color="#CCCCCC"> notice from C to D</font>

1764
01:15:51,619 --> 01:15:59,808
there is<font color="#E5E5E5"> no color to find at all</font>

1765
01:15:53,139 --> 01:16:01,519
that's perfectly allowable now<font color="#CCCCCC"> I decided</font>

1766
01:15:59,809 --> 01:16:02,719
to include<font color="#E5E5E5"> it sorry I want to include</font>

1767
01:16:01,519 --> 01:16:05,419
gold or silver

1768
01:16:02,719 --> 01:16:07,639
okay so gold or silver<font color="#E5E5E5"> so the first</font>

1769
01:16:05,419 --> 01:16:11,590
thing<font color="#E5E5E5"> I have</font><font color="#CCCCCC"> to do is remove from the</font>

1770
01:16:07,639 --> 01:16:15,769
<font color="#E5E5E5">Ted links which do not</font><font color="#CCCCCC"> have gold in</font>

1771
01:16:11,590 --> 01:16:16,669
links which do<font color="#CCCCCC"> not</font><font color="#E5E5E5"> have silver okay so</font>

1772
01:16:15,769 --> 01:16:18,499
that's what the next<font color="#CCCCCC"> slide is going</font><font color="#E5E5E5"> to</font>

1773
01:16:16,669 --> 01:16:21,320
<font color="#E5E5E5">be the removal</font><font color="#CCCCCC"> of those links from</font><font color="#E5E5E5"> the</font>

1774
01:16:18,499 --> 01:16:24,019
network okay so I'm left with<font color="#CCCCCC"> a subset</font>

1775
01:16:21,320 --> 01:16:27,199
of information now I go shortest<font color="#E5E5E5"> path</font>

1776
01:16:24,019 --> 01:16:29,300
<font color="#E5E5E5">from A to C so it goes sorry from C to e</font>

1777
01:16:27,199 --> 01:16:31,039
so I get the a and D<font color="#E5E5E5"> D technically has</font>

1778
01:16:29,300 --> 01:16:35,239
multiple ways<font color="#CCCCCC"> to</font><font color="#E5E5E5"> get there using</font><font color="#CCCCCC"> ITP</font>

1779
01:16:31,039 --> 01:16:37,130
metrics<font color="#E5E5E5"> it's sort of</font><font color="#CCCCCC"> to go to G and E so</font>

1780
01:16:35,239 --> 01:16:41,150
because I said include<font color="#E5E5E5"> I tore out links</font>

1781
01:16:37,130 --> 01:16:45,229
which did<font color="#E5E5E5"> not have either</font><font color="#CCCCCC"> my colors on</font>

1782
01:16:41,150 --> 01:16:46,999
the<font color="#E5E5E5"> exclude side</font><font color="#CCCCCC"> last four excludes I</font>

1783
01:16:45,229 --> 01:16:48,800
have to<font color="#E5E5E5"> remove links which do have that</font>

1784
01:16:46,999 --> 01:16:50,809
value so if I want<font color="#E5E5E5"> to exclude</font>

1785
01:16:48,800 --> 01:16:52,189
<font color="#E5E5E5">best-effort</font><font color="#CCCCCC"> I have to take</font><font color="#E5E5E5"> out the links</font>

1786
01:16:50,809 --> 01:16:56,479
which have<font color="#CCCCCC"> best-effort on it which is</font><font color="#E5E5E5"> a</font>

1787
01:16:52,189 --> 01:16:58,880
<font color="#E5E5E5">whole one link so that goes away</font><font color="#CCCCCC"> we</font>

1788
01:16:56,479 --> 01:17:00,320
should<font color="#CCCCCC"> write</font><font color="#E5E5E5"> across the middle now if</font>

1789
01:16:58,880 --> 01:17:01,340
you<font color="#CCCCCC"> noticed in the include my CD link</font>

1790
01:17:00,320 --> 01:17:04,130
had to go<font color="#CCCCCC"> away</font><font color="#E5E5E5"> because it did not</font>

1791
01:17:01,340 --> 01:17:07,239
<font color="#E5E5E5">include the color but for excludes no</font>

1792
01:17:04,130 --> 01:17:10,999
harm<font color="#CCCCCC"> no foul if they have colors</font><font color="#E5E5E5"> listed</font>

1793
01:17:07,239 --> 01:17:12,678
and of course I can combine<font color="#E5E5E5"> both okay so</font>

1794
01:17:10,999 --> 01:17:14,630
I should include gold or silver<font color="#E5E5E5"> which is</font>

1795
01:17:12,679 --> 01:17:18,110
<font color="#E5E5E5">what we saw a second</font><font color="#CCCCCC"> ago</font><font color="#E5E5E5"> and exclude</font>

1796
01:17:14,630 --> 01:17:20,510
<font color="#E5E5E5">best-effort so all mine on gold the</font>

1797
01:17:18,110 --> 01:17:22,219
silver links go away my one link with

1798
01:17:20,510 --> 01:17:23,570
best effort which<font color="#E5E5E5"> was my</font><font color="#CCCCCC"> d 2g link is</font>

1799
01:17:22,219 --> 01:17:26,659
now also gone away

1800
01:17:23,570 --> 01:17:30,169
and<font color="#E5E5E5"> now I only got</font><font color="#CCCCCC"> one way to get from C</font>

1801
01:17:26,659 --> 01:17:32,598
to e now if one<font color="#E5E5E5"> of these links</font><font color="#CCCCCC"> that I'm</font>

1802
01:17:30,169 --> 01:17:34,639
using<font color="#E5E5E5"> right now say had best-effort</font>

1803
01:17:32,599 --> 01:17:37,429
<font color="#CCCCCC">assigned to</font><font color="#E5E5E5"> it</font><font color="#CCCCCC"> you can't sit at the LSB</font>

1804
01:17:34,639 --> 01:17:39,169
<font color="#CCCCCC">I don't</font><font color="#E5E5E5"> have a way to get from point A</font>

1805
01:17:37,429 --> 01:17:40,880
to point B using the<font color="#E5E5E5"> constraints you</font>

1806
01:17:39,169 --> 01:17:43,959
gave me<font color="#E5E5E5"> yeah you asked for too</font>

1807
01:17:40,880 --> 01:17:43,959
restrictive of information

1808
01:17:48,350 --> 01:17:53,940
include actually correct<font color="#E5E5E5"> okay</font><font color="#CCCCCC"> um config</font>

1809
01:17:52,200 --> 01:17:55,830
stuff<font color="#E5E5E5"> let me actually start talking</font>

1810
01:17:53,940 --> 01:17:57,089
about<font color="#CCCCCC"> LDP real quick but basically you</font>

1811
01:17:55,830 --> 01:17:57,660
need<font color="#E5E5E5"> to tell the</font><font color="#CCCCCC"> router to support the</font>

1812
01:17:57,090 --> 01:18:00,450
protocols

1813
01:17:57,660 --> 01:18:02,820
<font color="#E5E5E5">okay so family MPLS on our interfaces</font>

1814
01:18:00,450 --> 01:18:05,280
<font color="#E5E5E5">the</font><font color="#CCCCCC"> Junos boxes turn on our CPA MPLS on</font>

1815
01:18:02,820 --> 01:18:06,480
the operational interfaces for iOS<font color="#E5E5E5"> stuff</font>

1816
01:18:05,280 --> 01:18:08,099
at the global<font color="#CCCCCC"> level and</font><font color="#E5E5E5"> the interface</font>

1817
01:18:06,480 --> 01:18:10,370
<font color="#CCCCCC">level you got to turn on</font><font color="#E5E5E5"> MPLS traffic</font>

1818
01:18:08,100 --> 01:18:10,370
engineering

1819
01:18:11,220 --> 01:18:17,730
<font color="#CCCCCC">okay so you define the path to the</font>

1820
01:18:13,800 --> 01:18:19,050
network<font color="#E5E5E5"> you give it a</font><font color="#CCCCCC"> name can</font><font color="#E5E5E5"> you</font>

1821
01:18:17,730 --> 01:18:20,339
<font color="#E5E5E5">define what the hops are you loose</font>

1822
01:18:19,050 --> 01:18:22,800
<font color="#E5E5E5">restrict and the IP addresses</font><font color="#CCCCCC"> that go</font>

1823
01:18:20,340 --> 01:18:25,410
along with<font color="#E5E5E5"> them okay and</font><font color="#CCCCCC"> this one here</font>

1824
01:18:22,800 --> 01:18:29,370
is<font color="#CCCCCC"> the reference of</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> user-defined</font>

1825
01:18:25,410 --> 01:18:31,260
<font color="#E5E5E5">arrow to the LSP creation okay so here I</font>

1826
01:18:29,370 --> 01:18:33,660
<font color="#CCCCCC">have this thing called</font><font color="#E5E5E5"> user-defined</font>

1827
01:18:31,260 --> 01:18:35,940
<font color="#E5E5E5">arrow and I apply it to my LSP</font>

1828
01:18:33,660 --> 01:18:37,440
so get from this ingress router to<font color="#CCCCCC"> the</font>

1829
01:18:35,940 --> 01:18:40,400
egress<font color="#E5E5E5"> router whose address is</font><font color="#CCCCCC"> 192</font><font color="#E5E5E5"> 168</font>

1830
01:18:37,440 --> 01:18:43,200
<font color="#E5E5E5">32</font><font color="#CCCCCC"> one using this set of loose hops</font>

1831
01:18:40,400 --> 01:18:51,620
<font color="#CCCCCC">can't go to</font><font color="#E5E5E5"> 29th one first then a 24 1</font>

1832
01:18:43,200 --> 01:18:51,620
then this<font color="#CCCCCC"> to 36</font><font color="#E5E5E5"> 10</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> 40 okay</font>

1833
01:18:56,679 --> 01:19:02,239
that is true<font color="#E5E5E5"> the short answer is Isis is</font>

1834
01:18:59,719 --> 01:19:03,380
on by default for<font color="#CCCCCC"> OSPF to turn on the</font>

1835
01:19:02,239 --> 01:19:08,330
traffic engineering command<font color="#E5E5E5"> at the</font>

1836
01:19:03,380 --> 01:19:11,570
global<font color="#E5E5E5"> host PF level okay so</font><font color="#CCCCCC"> LDP</font><font color="#E5E5E5"> kind of</font>

1837
01:19:08,330 --> 01:19:13,900
a whole<font color="#CCCCCC"> different construct here</font><font color="#E5E5E5"> okay a</font>

1838
01:19:11,570 --> 01:19:16,519
whole different construct<font color="#CCCCCC"> from our</font><font color="#E5E5E5"> CP</font>

1839
01:19:13,900 --> 01:19:18,949
here<font color="#CCCCCC"> we're going to</font><font color="#E5E5E5"> have the concept of</font>

1840
01:19:16,520 --> 01:19:21,520
two neighboring routers either

1841
01:19:18,949 --> 01:19:24,259
<font color="#E5E5E5">physically connected or</font><font color="#CCCCCC"> Canberra remote</font>

1842
01:19:21,520 --> 01:19:26,390
becoming<font color="#CCCCCC"> LBP</font><font color="#E5E5E5"> neighbors okay so you're</font>

1843
01:19:24,260 --> 01:19:31,010
<font color="#E5E5E5">gonna start sending out multicast you</font>

1844
01:19:26,390 --> 01:19:34,960
<font color="#CCCCCC">24:02 to the</font><font color="#E5E5E5"> UDP port 646 packets saying</font>

1845
01:19:31,010 --> 01:19:37,040
<font color="#E5E5E5">I'd like to do</font><font color="#CCCCCC"> LDP</font><font color="#E5E5E5"> I'd like to do</font><font color="#CCCCCC"> LDP</font>

1846
01:19:34,960 --> 01:19:38,870
I'd like to do<font color="#E5E5E5"> LD P until somebody</font>

1847
01:19:37,040 --> 01:19:40,130
<font color="#E5E5E5">responds okay usually when I'm training</font>

1848
01:19:38,870 --> 01:19:42,040
I<font color="#CCCCCC"> just do this into other</font><font color="#E5E5E5"> students pipes</font>

1849
01:19:40,130 --> 01:19:45,010
up but I<font color="#E5E5E5"> don't have time for that now</font>

1850
01:19:42,040 --> 01:19:47,929
okay<font color="#E5E5E5"> so when somebody finally responds</font>

1851
01:19:45,010 --> 01:19:49,670
<font color="#CCCCCC">does</font><font color="#E5E5E5"> a cool would like to do</font><font color="#CCCCCC"> LVP as well</font>

1852
01:19:47,929 --> 01:19:53,199
you then have this neighbor<font color="#CCCCCC"> relationship</font>

1853
01:19:49,670 --> 01:19:55,250
okay now a couple<font color="#CCCCCC"> things happen here one</font>

1854
01:19:53,199 --> 01:19:58,250
we have this at<font color="#E5E5E5"> the very bottom bullet</font>

1855
01:19:55,250 --> 01:19:59,630
this<font color="#E5E5E5"> console</font><font color="#CCCCCC"> with an LD PID value okay</font>

1856
01:19:58,250 --> 01:20:01,370
that's how you're defining<font color="#E5E5E5"> your label</font>

1857
01:19:59,630 --> 01:20:03,650
space<font color="#E5E5E5"> am i doing per box or per</font>

1858
01:20:01,370 --> 01:20:05,660
interface allocations<font color="#E5E5E5"> okay we'll see how</font>

1859
01:20:03,650 --> 01:20:07,759
<font color="#E5E5E5">that works in a second the second thing</font>

1860
01:20:05,660 --> 01:20:10,429
is we<font color="#CCCCCC"> have this concept</font><font color="#E5E5E5"> of how are we</font>

1861
01:20:07,760 --> 01:20:11,960
<font color="#E5E5E5">going to form this follow-on</font><font color="#CCCCCC"> LDP session</font>

1862
01:20:10,429 --> 01:20:13,370
so we're gonna have a session<font color="#E5E5E5"> to worry</font>

1863
01:20:11,960 --> 01:20:14,719
about we're going<font color="#E5E5E5"> to</font><font color="#CCCCCC"> be</font><font color="#E5E5E5"> the source</font>

1864
01:20:13,370 --> 01:20:17,330
<font color="#CCCCCC">addresses and destination</font><font color="#E5E5E5"> addresses for</font>

1865
01:20:14,719 --> 01:20:20,179
this session<font color="#E5E5E5"> you either use the IP</font>

1866
01:20:17,330 --> 01:20:21,320
<font color="#E5E5E5">source IP of this hello message or you</font>

1867
01:20:20,179 --> 01:20:23,929
can include<font color="#E5E5E5"> this thing called a</font>

1868
01:20:21,320 --> 01:20:25,250
transport address which pretty<font color="#CCCCCC"> much says</font>

1869
01:20:23,929 --> 01:20:28,270
if you want to form a session with<font color="#E5E5E5"> me</font>

1870
01:20:25,250 --> 01:20:28,270
use this address

1871
01:20:28,360 --> 01:20:34,610
so I'm<font color="#CCCCCC"> flinging hellos I hear from a</font>

1872
01:20:30,620 --> 01:20:36,860
buddy<font color="#E5E5E5"> we now become neighbors now if I</font>

1873
01:20:34,610 --> 01:20:38,059
happen<font color="#E5E5E5"> to know I want to become</font>

1874
01:20:36,860 --> 01:20:40,460
<font color="#CCCCCC">neighbors with somebody</font><font color="#E5E5E5"> on the far side</font>

1875
01:20:38,060 --> 01:20:43,670
of<font color="#E5E5E5"> my network</font><font color="#CCCCCC"> I can do this</font><font color="#E5E5E5"> thing called</font>

1876
01:20:40,460 --> 01:20:47,690
a targeted hello<font color="#E5E5E5"> which is a unicast from</font>

1877
01:20:43,670 --> 01:20:51,250
you to that guy same<font color="#E5E5E5"> kind of information</font>

1878
01:20:47,690 --> 01:20:55,460
transport address label or LSP<font color="#CCCCCC"> LVP ID</font>

1879
01:20:51,250 --> 01:20:58,340
okay that router does a a targeted hello

1880
01:20:55,460 --> 01:21:00,469
back to you now your neighbors<font color="#CCCCCC"> okay</font>

1881
01:20:58,340 --> 01:21:01,969
so you either multicast<font color="#E5E5E5"> or directly</font>

1882
01:21:00,469 --> 01:21:03,230
connected or unicast for remote stuff

1883
01:21:01,969 --> 01:21:07,190
<font color="#CCCCCC">now once you</font><font color="#E5E5E5"> form a neighbor</font>

1884
01:21:03,230 --> 01:21:08,179
relationship you're gonna have a<font color="#E5E5E5"> session</font>

1885
01:21:07,190 --> 01:21:11,660
which I'll talk about<font color="#E5E5E5"> a second</font><font color="#CCCCCC"> sorry</font><font color="#E5E5E5"> I</font>

1886
01:21:08,180 --> 01:21:14,480
forgot about<font color="#CCCCCC"> the slide</font><font color="#E5E5E5"> ldpi</font><font color="#CCCCCC"> devalue okay</font>

1887
01:21:11,660 --> 01:21:16,219
kind<font color="#E5E5E5"> of critical six bikes by default</font>

1888
01:21:14,480 --> 01:21:18,290
it's four bytes of your router ID

1889
01:21:16,219 --> 01:21:21,230
followed<font color="#CCCCCC"> by two</font><font color="#E5E5E5"> additional bytes so we</font>

1890
01:21:18,290 --> 01:21:22,790
have IP address<font color="#E5E5E5"> :</font><font color="#CCCCCC"> and a value</font><font color="#E5E5E5"> value of</font>

1891
01:21:21,230 --> 01:21:26,629
<font color="#E5E5E5">zero and those last two bytes means I'm</font>

1892
01:21:22,790 --> 01:21:28,040
<font color="#E5E5E5">doing per box label allocation okay</font>

1893
01:21:26,630 --> 01:21:31,850
that's our default so<font color="#E5E5E5"> we're gonna get a</font>

1894
01:21:28,040 --> 01:21:33,140
<font color="#E5E5E5">zero there pardon me so this becomes</font>

1895
01:21:31,850 --> 01:21:38,900
important when<font color="#CCCCCC"> you start setting up your</font>

1896
01:21:33,140 --> 01:21:40,760
sessions so two<font color="#E5E5E5"> guys will become</font>

1897
01:21:38,900 --> 01:21:43,400
<font color="#E5E5E5">neighbors they know each other transport</font>

1898
01:21:40,760 --> 01:21:47,080
addresses they've also learned what<font color="#E5E5E5"> the</font>

1899
01:21:43,400 --> 01:21:49,370
<font color="#E5E5E5">LDP ID is for each of these neighbors</font>

1900
01:21:47,080 --> 01:21:51,320
the<font color="#E5E5E5"> routers are the neighbor with the</font>

1901
01:21:49,370 --> 01:21:52,519
higher radder IDs and<font color="#E5E5E5"> we</font><font color="#CCCCCC"> come with a</font>

1902
01:21:51,320 --> 01:21:54,650
<font color="#E5E5E5">call the active node it's gonna set up</font>

1903
01:21:52,520 --> 01:21:55,850
the TCP session<font color="#E5E5E5"> okay so we don't</font><font color="#CCCCCC"> have</font>

1904
01:21:54,650 --> 01:21:59,629
<font color="#CCCCCC">this closing connection thing going on</font>

1905
01:21:55,850 --> 01:22:02,600
<font color="#E5E5E5">the active node sends</font><font color="#CCCCCC"> TCP same port 646</font>

1906
01:21:59,630 --> 01:22:07,640
to the neighbor<font color="#E5E5E5"> setting up this</font><font color="#CCCCCC"> LDP</font>

1907
01:22:02,600 --> 01:22:08,930
session<font color="#CCCCCC"> okay now if you have one I have</font>

1908
01:22:07,640 --> 01:22:11,239
two<font color="#E5E5E5"> routers with multiple physical</font><font color="#CCCCCC"> links</font>

1909
01:22:08,930 --> 01:22:13,310
between them they'll form multiple

1910
01:22:11,239 --> 01:22:17,299
neighbor relationships which will end up

1911
01:22:13,310 --> 01:22:17,900
<font color="#E5E5E5">with one</font><font color="#CCCCCC"> LDP session</font><font color="#E5E5E5"> okay so as long</font><font color="#CCCCCC"> as</font>

1912
01:22:17,300 --> 01:22:19,190
there's at least one neighbor

1913
01:22:17,900 --> 01:22:20,570
relationship<font color="#CCCCCC"> the session stays up so if</font>

1914
01:22:19,190 --> 01:22:21,739
you<font color="#E5E5E5"> lose one leg who cares you lose -</font>

1915
01:22:20,570 --> 01:22:25,210
who cares three new peers if you lose

1916
01:22:21,739 --> 01:22:25,209
the<font color="#E5E5E5"> last one then the session goes away</font>

1917
01:22:25,570 --> 01:22:28,759
so once we decide who the active<font color="#E5E5E5"> node is</font>

1918
01:22:27,920 --> 01:22:31,790
we're gonna<font color="#E5E5E5"> start sending these</font>

1919
01:22:28,760 --> 01:22:35,690
initialization messages<font color="#CCCCCC"> okay this</font>

1920
01:22:31,790 --> 01:22:37,940
basically finalizes<font color="#CCCCCC"> the session setup</font><font color="#E5E5E5"> so</font>

1921
01:22:35,690 --> 01:22:40,040
this<font color="#CCCCCC"> is kindly</font><font color="#E5E5E5"> BGP right TCP then</font><font color="#CCCCCC"> bgp</font>

1922
01:22:37,940 --> 01:22:41,570
open messages so same thing<font color="#E5E5E5"> you do</font><font color="#CCCCCC"> TCP</font>

1923
01:22:40,040 --> 01:22:44,180
then you start flinging these<font color="#CCCCCC"> LTP</font>

1924
01:22:41,570 --> 01:22:45,139
initialization messages and inside<font color="#CCCCCC"> that</font>

1925
01:22:44,180 --> 01:22:47,540
<font color="#E5E5E5">you're</font><font color="#CCCCCC"> gonna include a couple of things</font>

1926
01:22:45,140 --> 01:22:50,600
you're<font color="#E5E5E5"> gonna say here's my local</font><font color="#CCCCCC"> LD PID</font>

1927
01:22:47,540 --> 01:22:53,449
and I'm trying<font color="#E5E5E5"> to connect to this</font>

1928
01:22:50,600 --> 01:22:58,040
neighbor who advertised<font color="#E5E5E5"> earlier this</font>

1929
01:22:53,449 --> 01:22:59,480
<font color="#E5E5E5">other LD PID what version or on version</font>

1930
01:22:58,040 --> 01:23:00,980
one of<font color="#E5E5E5"> course we have this help this</font>

1931
01:22:59,480 --> 01:23:02,330
<font color="#E5E5E5">whole time I'm going to negotiate so we</font>

1932
01:23:00,980 --> 01:23:03,799
know the sessions up but this<font color="#E5E5E5"> is</font><font color="#CCCCCC"> the</font>

1933
01:23:02,330 --> 01:23:07,130
thing I include in my initialization

1934
01:23:03,800 --> 01:23:08,300
messages and I flee it to my<font color="#E5E5E5"> favor</font><font color="#CCCCCC"> so my</font>

1935
01:23:07,130 --> 01:23:11,090
neighbor<font color="#E5E5E5"> the passive node in this case</font>

1936
01:23:08,300 --> 01:23:13,670
gets it in and uses these<font color="#E5E5E5"> LD</font><font color="#CCCCCC"> PID values</font>

1937
01:23:11,090 --> 01:23:15,890
to know which exact<font color="#E5E5E5"> neighbor is trying</font>

1938
01:23:13,670 --> 01:23:18,290
to establish<font color="#E5E5E5"> the session okay so that's</font>

1939
01:23:15,890 --> 01:23:19,780
why those<font color="#CCCCCC"> LD P values</font><font color="#E5E5E5"> are important way</font>

1940
01:23:18,290 --> 01:23:22,060
back<font color="#E5E5E5"> in the hellos</font>

1941
01:23:19,780 --> 01:23:23,290
so assuming<font color="#CCCCCC"> that I like me being</font><font color="#E5E5E5"> the</font>

1942
01:23:22,060 --> 01:23:25,240
passive<font color="#CCCCCC"> node all the information that</font>

1943
01:23:23,290 --> 01:23:28,750
was advertised<font color="#CCCCCC"> I said to keep</font><font color="#E5E5E5"> live back</font>

1944
01:23:25,240 --> 01:23:29,800
saying<font color="#E5E5E5"> check like what to sent me the</font>

1945
01:23:28,750 --> 01:23:31,540
passive<font color="#E5E5E5"> mode is going to generate its</font>

1946
01:23:29,800 --> 01:23:35,080
own initialization message with the same

1947
01:23:31,540 --> 01:23:36,700
<font color="#CCCCCC">information</font><font color="#E5E5E5"> send that pardon</font><font color="#CCCCCC"> me to the</font>

1948
01:23:35,080 --> 01:23:39,460
active node if the afternoon likes it

1949
01:23:36,700 --> 01:23:40,030
sends<font color="#E5E5E5"> keep alive once we've done those</font>

1950
01:23:39,460 --> 01:23:42,400
things

1951
01:23:40,030 --> 01:23:45,820
<font color="#CCCCCC">initialization to</font><font color="#E5E5E5"> keep eyes back session</font>

1952
01:23:42,400 --> 01:23:48,269
is up<font color="#CCCCCC"> okay session is</font><font color="#E5E5E5"> up and operational</font>

1953
01:23:45,820 --> 01:23:51,849
<font color="#CCCCCC">at that point</font><font color="#E5E5E5"> and only at</font><font color="#CCCCCC"> that point</font>

1954
01:23:48,270 --> 01:23:54,760
<font color="#CCCCCC">does label things start to become</font>

1955
01:23:51,850 --> 01:23:55,960
important<font color="#E5E5E5"> okay you can't former paper</font>

1956
01:23:54,760 --> 01:24:00,220
relationship you can't form a session

1957
01:23:55,960 --> 01:24:02,200
<font color="#E5E5E5">nothing's gonna happen</font><font color="#CCCCCC"> beyond there so</font>

1958
01:24:00,220 --> 01:24:05,410
building<font color="#E5E5E5"> up the block here so now that</font>

1959
01:24:02,200 --> 01:24:07,599
we have<font color="#CCCCCC"> this session</font><font color="#E5E5E5"> the first thing I</font>

1960
01:24:05,410 --> 01:24:09,760
do is I got to tell my<font color="#E5E5E5"> neighbor what my</font>

1961
01:24:07,600 --> 01:24:10,780
interface addresses are<font color="#E5E5E5"> we're gonna</font>

1962
01:24:09,760 --> 01:24:14,380
start<font color="#E5E5E5"> using this for some of this how do</font>

1963
01:24:10,780 --> 01:24:16,150
I pick the IGP path<font color="#CCCCCC"> okay so here's me</font>

1964
01:24:14,380 --> 01:24:18,880
here's my IP addresses on all my

1965
01:24:16,150 --> 01:24:20,139
interfaces pardon me<font color="#CCCCCC"> I'm</font><font color="#E5E5E5"> gonna send</font><font color="#CCCCCC"> that</font>

1966
01:24:18,880 --> 01:24:21,190
<font color="#E5E5E5">to you in this address message and</font>

1967
01:24:20,140 --> 01:24:24,910
you're gonna send<font color="#E5E5E5"> it to me</font><font color="#CCCCCC"> in an address</font>

1968
01:24:21,190 --> 01:24:27,339
message so now I know<font color="#E5E5E5"> I start to build</font>

1969
01:24:24,910 --> 01:24:29,080
<font color="#CCCCCC">some kind of topology</font><font color="#E5E5E5"> information and</font>

1970
01:24:27,340 --> 01:24:31,030
have a reference<font color="#CCCCCC"> for when you send me a</font>

1971
01:24:29,080 --> 01:24:33,910
label in the future<font color="#E5E5E5"> what physical next</font>

1972
01:24:31,030 --> 01:24:35,769
<font color="#E5E5E5">step should I use to reach you</font><font color="#CCCCCC"> cuz you</font>

1973
01:24:33,910 --> 01:24:38,290
said<font color="#CCCCCC"> to</font><font color="#E5E5E5"> me what physical address should</font>

1974
01:24:35,770 --> 01:24:40,630
I use in this address<font color="#E5E5E5"> message so once</font>

1975
01:24:38,290 --> 01:24:43,180
we've done that<font color="#CCCCCC"> then the</font><font color="#E5E5E5"> important stuff</font>

1976
01:24:40,630 --> 01:24:48,970
happens as far<font color="#CCCCCC"> as</font><font color="#E5E5E5"> MPLS is concerned we</font>

1977
01:24:43,180 --> 01:24:55,270
start advertising labels now we're gonna

1978
01:24:48,970 --> 01:24:57,220
send<font color="#E5E5E5"> both a prefix and a label value the</font>

1979
01:24:55,270 --> 01:24:57,820
prefixes contained in this nice thing we

1980
01:24:57,220 --> 01:24:58,870
call effect

1981
01:24:57,820 --> 01:25:02,429
remember effect<font color="#E5E5E5"> from way back when</font>

1982
01:24:58,870 --> 01:25:05,500
<font color="#E5E5E5">earlier</font><font color="#CCCCCC"> runned</font><font color="#E5E5E5"> about 90</font><font color="#CCCCCC"> minutes ago</font>

1983
01:25:02,430 --> 01:25:06,910
that's a prefix<font color="#CCCCCC"> it could be your</font>

1984
01:25:05,500 --> 01:25:08,410
loopback address could<font color="#E5E5E5"> be some other IP</font>

1985
01:25:06,910 --> 01:25:10,260
address it's up to you to define<font color="#CCCCCC"> what it</font>

1986
01:25:08,410 --> 01:25:12,370
is<font color="#E5E5E5"> by default we do loopback addresses</font>

1987
01:25:10,260 --> 01:25:14,440
<font color="#E5E5E5">so what you're basically</font><font color="#CCCCCC"> saying</font><font color="#E5E5E5"> is</font>

1988
01:25:12,370 --> 01:25:16,480
here's an IP address here's a prefix<font color="#E5E5E5"> and</font>

1989
01:25:14,440 --> 01:25:19,540
here's a label to use if you want<font color="#CCCCCC"> to</font>

1990
01:25:16,480 --> 01:25:21,759
reach<font color="#CCCCCC"> that prefix and you send it</font><font color="#E5E5E5"> to</font>

1991
01:25:19,540 --> 01:25:23,290
<font color="#E5E5E5">your neighbor so even though the</font>

1992
01:25:21,760 --> 01:25:25,900
neighbor didn't asked for it<font color="#CCCCCC"> not down</font>

1993
01:25:23,290 --> 01:25:27,640
<font color="#CCCCCC">stream on demand</font><font color="#E5E5E5"> it is an ordered thing</font>

1994
01:25:25,900 --> 01:25:29,920
because we<font color="#E5E5E5"> have this established session</font>

1995
01:25:27,640 --> 01:25:31,900
<font color="#E5E5E5">I didn't fling them of a label randomly</font>

1996
01:25:29,920 --> 01:25:33,070
we had a session<font color="#CCCCCC"> we've</font><font color="#E5E5E5"> agreed to</font>

1997
01:25:31,900 --> 01:25:36,160
exchange labels

1998
01:25:33,070 --> 01:25:39,070
<font color="#E5E5E5">okay that's the key that's the</font><font color="#CCCCCC"> key to</font>

1999
01:25:36,160 --> 01:25:40,870
making<font color="#E5E5E5"> this all work so</font><font color="#CCCCCC"> I send a fecking</font>

2000
01:25:39,070 --> 01:25:45,000
<font color="#CCCCCC">a label</font><font color="#E5E5E5"> neighbor sends me</font><font color="#CCCCCC"> fecking a</font>

2001
01:25:40,870 --> 01:25:48,220
label we're happy<font color="#CCCCCC"> now if I have other</font>

2002
01:25:45,000 --> 01:25:50,920
peers who I'm have sessions established

2003
01:25:48,220 --> 01:25:54,750
with they've sent<font color="#E5E5E5"> me their</font><font color="#CCCCCC"> fax i'll riad</font>

2004
01:25:50,920 --> 01:25:54,750
<font color="#CCCCCC">ver ties those facts</font><font color="#E5E5E5"> to my new neighbor</font>

2005
01:25:55,590 --> 01:25:59,080
by default there's a full mesh of

2006
01:25:58,120 --> 01:26:03,790
connections and<font color="#E5E5E5"> you'll end up with a</font>

2007
01:25:59,080 --> 01:26:04,960
full mesh of LSPs<font color="#E5E5E5"> okay so we don't</font>

2008
01:26:03,790 --> 01:26:05,800
<font color="#CCCCCC">really do the split horizon thing</font><font color="#E5E5E5"> I'm</font>

2009
01:26:04,960 --> 01:26:07,060
going<font color="#CCCCCC"> to</font><font color="#E5E5E5"> send</font><font color="#CCCCCC"> you my stuff you're gonna</font>

2010
01:26:05,800 --> 01:26:09,780
allocate labels<font color="#E5E5E5"> for everything I say she</font>

2011
01:26:07,060 --> 01:26:11,890
<font color="#CCCCCC">would send it right back to me okay</font>

2012
01:26:09,780 --> 01:26:14,530
we're gonna advertise we're<font color="#CCCCCC"> gonna</font><font color="#E5E5E5"> put</font>

2013
01:26:11,890 --> 01:26:16,690
<font color="#E5E5E5">all</font><font color="#CCCCCC"> this stuff into an LTP database okay</font>

2014
01:26:14,530 --> 01:26:18,880
so for every session I have I'm<font color="#E5E5E5"> gonna</font>

2015
01:26:16,690 --> 01:26:20,769
<font color="#E5E5E5">have here the labels and</font><font color="#CCCCCC"> FEX</font><font color="#E5E5E5"> I sent out</font>

2016
01:26:18,880 --> 01:26:23,770
I'm<font color="#CCCCCC"> gonna</font><font color="#E5E5E5"> have here the labels and fix I</font>

2017
01:26:20,770 --> 01:26:24,790
got in for that session and for a second

2018
01:26:23,770 --> 01:26:27,010
session when I have the same<font color="#E5E5E5"> information</font>

2019
01:26:24,790 --> 01:26:28,630
<font color="#E5E5E5">and for a third session etc okay for</font>

2020
01:26:27,010 --> 01:26:30,160
some of these sessions I got none of<font color="#CCCCCC"> all</font>

2021
01:26:28,630 --> 01:26:31,840
these<font color="#CCCCCC"> entries in my LDP database saying</font>

2022
01:26:30,160 --> 01:26:40,269
<font color="#E5E5E5">here's the stuff I sent here's stuff I</font>

2023
01:26:31,840 --> 01:26:43,390
got<font color="#E5E5E5"> okay so that's what this is so by</font>

2024
01:26:40,270 --> 01:26:44,020
<font color="#E5E5E5">default let's say we've</font><font color="#CCCCCC"> got ten riders</font>

2025
01:26:43,390 --> 01:26:46,150
in a network

2026
01:26:44,020 --> 01:26:47,170
everybody's<font color="#E5E5E5"> running</font><font color="#CCCCCC"> LDP</font><font color="#E5E5E5"> we all</font><font color="#CCCCCC"> four</font>

2027
01:26:46,150 --> 01:26:49,420
<font color="#E5E5E5">neighbor relationships we all form</font>

2028
01:26:47,170 --> 01:26:50,860
sessions<font color="#E5E5E5"> you should be able to go to any</font>

2029
01:26:49,420 --> 01:26:54,520
individual router in that<font color="#E5E5E5"> network and</font>

2030
01:26:50,860 --> 01:26:57,280
have effect and a label<font color="#E5E5E5"> for every other</font>

2031
01:26:54,520 --> 01:26:59,650
by default loopback prefix in that<font color="#CCCCCC"> 10</font>

2032
01:26:57,280 --> 01:27:02,590
router<font color="#CCCCCC"> network which means you will be</font>

2033
01:26:59,650 --> 01:27:04,320
<font color="#E5E5E5">the ingress router for nine LSPs one to</font>

2034
01:27:02,590 --> 01:27:06,220
every other router in the network

2035
01:27:04,320 --> 01:27:07,420
<font color="#E5E5E5">whether you're physically connected</font>

2036
01:27:06,220 --> 01:27:13,210
side-by-side or<font color="#E5E5E5"> whether they're four or</font>

2037
01:27:07,420 --> 01:27:15,400
five hops away now<font color="#E5E5E5"> because we have this</font>

2038
01:27:13,210 --> 01:27:17,380
<font color="#E5E5E5">conglomeration of information we do have</font>

2039
01:27:15,400 --> 01:27:18,009
this<font color="#E5E5E5"> possibility of doing routing loop</font>

2040
01:27:17,380 --> 01:27:19,750
issues

2041
01:27:18,010 --> 01:27:23,350
okay so here's we're going to combine

2042
01:27:19,750 --> 01:27:26,800
<font color="#E5E5E5">those addresses we sent</font><font color="#CCCCCC"> earlier with our</font>

2043
01:27:23,350 --> 01:27:28,960
<font color="#E5E5E5">current routing table okay that's how</font>

2044
01:27:26,800 --> 01:27:30,460
we're going<font color="#E5E5E5"> to avoid writing loops okay</font>

2045
01:27:28,960 --> 01:27:32,980
we'll see<font color="#E5E5E5"> that a second here's a nice</font>

2046
01:27:30,460 --> 01:27:34,930
snapshot of the database so I have two

2047
01:27:32,980 --> 01:27:36,429
routers<font color="#E5E5E5"> one</font><font color="#CCCCCC"> two sixty eight sixteen one</font>

2048
01:27:34,930 --> 01:27:38,980
and<font color="#CCCCCC"> twenty not one have a session</font>

2049
01:27:36,430 --> 01:27:43,660
<font color="#CCCCCC">between themselves the first chunk</font><font color="#E5E5E5"> here</font>

2050
01:27:38,980 --> 01:27:47,079
is the<font color="#E5E5E5"> input side okay so 20.1 has sent</font>

2051
01:27:43,660 --> 01:27:51,369
these addresses and these label values

2052
01:27:47,079 --> 01:27:53,019
notice<font color="#CCCCCC"> it sent label value of three for</font>

2053
01:27:51,369 --> 01:27:55,839
itself<font color="#E5E5E5"> right we are doing</font><font color="#CCCCCC"> cage</font><font color="#E5E5E5"> B here</font>

2054
01:27:53,020 --> 01:27:58,469
and<font color="#E5E5E5"> on the outbound side 16 has</font>

2055
01:27:55,840 --> 01:28:03,040
advertised these prefixes and labels

2056
01:27:58,469 --> 01:28:05,650
okay so<font color="#E5E5E5"> 20.1 sent a label value of 3 to</font>

2057
01:28:03,040 --> 01:28:08,320
<font color="#E5E5E5">16 he allocated a label value in this</font>

2058
01:28:05,650 --> 01:28:10,839
case<font color="#E5E5E5"> 100,000 won 12 right here and</font>

2059
01:28:08,320 --> 01:28:12,489
advertise<font color="#CCCCCC"> right back to 29 1</font><font color="#E5E5E5"> okay now</font>

2060
01:28:10,840 --> 01:28:14,619
he's not 20 not<font color="#E5E5E5"> wasn't</font><font color="#CCCCCC"> we're gonna</font><font color="#E5E5E5"> use</font>

2061
01:28:12,489 --> 01:28:16,989
that<font color="#CCCCCC"> because that's me</font>

2062
01:28:14,619 --> 01:28:20,190
I don't you tell us<font color="#E5E5E5"> beat it myself but</font>

2063
01:28:16,989 --> 01:28:20,190
<font color="#E5E5E5">we aren't advertising that information</font>

2064
01:28:20,969 --> 01:28:26,469
<font color="#E5E5E5">okay</font><font color="#CCCCCC"> so we're gonna consult</font><font color="#E5E5E5"> the</font>

2065
01:28:22,960 --> 01:28:28,059
<font color="#CCCCCC">writing-table and figure out alright I</font>

2066
01:28:26,469 --> 01:28:30,670
was advertised this effective say wanted

2067
01:28:28,059 --> 01:28:33,280
to is<font color="#E5E5E5"> 68 1</font><font color="#CCCCCC"> 1 kind</font><font color="#E5E5E5"> of label value for</font><font color="#CCCCCC"> it</font>

2068
01:28:30,670 --> 01:28:36,639
cool do I know about 180 168<font color="#E5E5E5"> 1</font><font color="#CCCCCC"> 1 in my</font>

2069
01:28:33,280 --> 01:28:38,320
<font color="#E5E5E5">writing</font><font color="#CCCCCC"> table if the answer</font><font color="#E5E5E5"> is</font><font color="#CCCCCC"> yes then</font>

2070
01:28:36,639 --> 01:28:41,380
<font color="#E5E5E5">whenever my next</font><font color="#CCCCCC"> hop is in the writing</font>

2071
01:28:38,320 --> 01:28:45,900
<font color="#CCCCCC">table</font><font color="#E5E5E5"> that's the</font><font color="#CCCCCC"> label that</font><font color="#E5E5E5"> I'm actually</font>

2072
01:28:41,380 --> 01:28:49,929
going to<font color="#E5E5E5"> use in my old EP database</font><font color="#CCCCCC"> ok so</font>

2073
01:28:45,900 --> 01:28:51,360
has a construct let's say I got in 3 5 3

2074
01:28:49,929 --> 01:28:55,000
<font color="#E5E5E5">sessions I'm getting 3 different labels</font>

2075
01:28:51,360 --> 01:28:56,650
<font color="#E5E5E5">right labeled 10 20 and 30</font><font color="#CCCCCC"> from</font><font color="#E5E5E5"> my from</font>

2076
01:28:55,000 --> 01:28:58,750
my peers and I got three interfaces

2077
01:28:56,650 --> 01:29:01,750
interface<font color="#CCCCCC"> right 10 20</font><font color="#E5E5E5"> 30 volts make them</font>

2078
01:28:58,750 --> 01:29:05,050
on<font color="#CCCCCC"> that job</font><font color="#E5E5E5"> and to get the one into a 68</font>

2079
01:29:01,750 --> 01:29:07,420
1.1<font color="#E5E5E5"> I'm actually to use interface 20 the</font>

2080
01:29:05,050 --> 01:29:09,670
guy in the middle that's my writing

2081
01:29:07,420 --> 01:29:12,280
people<font color="#E5E5E5"> says so even though I've heard</font>

2082
01:29:09,670 --> 01:29:15,849
labels on all three sessions<font color="#E5E5E5"> I'm going</font>

2083
01:29:12,280 --> 01:29:17,530
to install in my switching table but

2084
01:29:15,849 --> 01:29:20,349
when I heard for the interface<font color="#E5E5E5"> that I</font>

2085
01:29:17,530 --> 01:29:21,670
use for<font color="#E5E5E5"> my IP stuff now I still keep</font>

2086
01:29:20,349 --> 01:29:24,130
these other ones<font color="#E5E5E5"> remember that's our</font>

2087
01:29:21,670 --> 01:29:26,469
liberal<font color="#E5E5E5"> thing</font><font color="#CCCCCC"> I still keep knowledge</font><font color="#E5E5E5"> of</font>

2088
01:29:24,130 --> 01:29:28,480
those<font color="#E5E5E5"> other labels in case interface 20</font>

2089
01:29:26,469 --> 01:29:30,219
goes away<font color="#E5E5E5"> IP writing is going to</font><font color="#CCCCCC"> be</font>

2090
01:29:28,480 --> 01:29:31,839
<font color="#CCCCCC">converge on a new interface and that</font><font color="#E5E5E5"> new</font>

2091
01:29:30,219 --> 01:29:35,530
label is<font color="#CCCCCC"> going to be assigned as my way</font>

2092
01:29:31,840 --> 01:29:37,030
to get along<font color="#E5E5E5"> the LSP so just a quick</font>

2093
01:29:35,530 --> 01:29:39,130
<font color="#CCCCCC">example here this</font><font color="#E5E5E5"> goes back to the how</font>

2094
01:29:37,030 --> 01:29:43,929
do I pick one I got interface fast easy

2095
01:29:39,130 --> 01:29:47,909
0 0 and 0 0<font color="#E5E5E5"> 1 for</font><font color="#CCCCCC"> LDP isis says use fast</font>

2096
01:29:43,929 --> 01:29:47,909
<font color="#E5E5E5">e 0 0 0</font><font color="#CCCCCC"> that's the way I'm</font><font color="#E5E5E5"> going</font>

2097
01:29:50,350 --> 01:29:55,130
um<font color="#CCCCCC"> doesn't extract things helps</font><font color="#E5E5E5"> kind of</font>

2098
01:29:53,720 --> 01:29:57,500
sorta it's more like a consultation

2099
01:29:55,130 --> 01:29:58,700
<font color="#E5E5E5">thing it speaking of course the high</font>

2100
01:29:57,500 --> 01:30:03,220
level here<font color="#CCCCCC"> and</font><font color="#E5E5E5"> without going into gory</font>

2101
01:29:58,700 --> 01:30:03,220
details<font color="#CCCCCC"> okay yes sir</font>

2102
01:30:15,850 --> 01:30:23,870
well sort of

2103
01:30:21,530 --> 01:30:26,059
I mean you're gonna set up a<font color="#CCCCCC"> session</font>

2104
01:30:23,870 --> 01:30:27,980
with<font color="#E5E5E5"> your neighbor</font><font color="#CCCCCC"> most times he's</font>

2105
01:30:26,060 --> 01:30:29,540
directly connected<font color="#CCCCCC"> to you</font><font color="#E5E5E5"> okay so just</font>

2106
01:30:27,980 --> 01:30:31,910
like<font color="#E5E5E5"> an RSVP you have the concept I'm</font>

2107
01:30:29,540 --> 01:30:33,950
directly connected<font color="#CCCCCC"> to somebody how it</font>

2108
01:30:31,910 --> 01:30:35,330
comes to using<font color="#E5E5E5"> the advertised prefixes</font>

2109
01:30:33,950 --> 01:30:39,410
however that's where the big difference

2110
01:30:35,330 --> 01:30:41,750
comes in okay so for RSVP you're not

2111
01:30:39,410 --> 01:30:44,690
going to necessarily use say the

2112
01:30:41,750 --> 01:30:46,520
loopback<font color="#E5E5E5"> of a transit router when you're</font>

2113
01:30:44,690 --> 01:30:49,580
mapping<font color="#CCCCCC"> on the ingress how to use the</font>

2114
01:30:46,520 --> 01:30:52,210
LSP<font color="#E5E5E5"> where an LD</font><font color="#CCCCCC"> P you are because he is</font>

2115
01:30:49,580 --> 01:31:01,100
also an egress<font color="#E5E5E5"> as well as a transit okay</font>

2116
01:30:52,210 --> 01:31:09,890
yes sir okay well the<font color="#CCCCCC"> LDPE</font>

2117
01:31:01,100 --> 01:31:11,270
<font color="#CCCCCC">I got a full mesh yep well so what I've</font>

2118
01:31:09,890 --> 01:31:13,070
got<font color="#CCCCCC"> now</font><font color="#E5E5E5"> okay if you want to talk</font>

2119
01:31:11,270 --> 01:31:14,480
specifically for for the<font color="#E5E5E5"> Junos boxes</font>

2120
01:31:13,070 --> 01:31:17,630
we're<font color="#E5E5E5"> gonna end</font><font color="#CCCCCC"> up</font><font color="#E5E5E5"> with this is my net</font>

2121
01:31:14,480 --> 01:31:20,780
<font color="#E5E5E5">three Ronnie table</font><font color="#CCCCCC"> a loopback of</font>

2122
01:31:17,630 --> 01:31:22,700
everybody else<font color="#E5E5E5"> in my network okay and so</font>

2123
01:31:20,780 --> 01:31:23,990
whatever protocol by default<font color="#E5E5E5"> BGP is</font>

2124
01:31:22,700 --> 01:31:30,470
<font color="#E5E5E5">gonna reference that that's you're gonna</font>

2125
01:31:23,990 --> 01:31:37,200
map stuff okay yes ma'am

2126
01:31:30,470 --> 01:31:43,560
yes and I got<font color="#E5E5E5"> I got two more</font><font color="#CCCCCC"> to go</font>

2127
01:31:37,200 --> 01:31:45,599
<font color="#CCCCCC">super go okay</font><font color="#E5E5E5"> so real quick</font><font color="#CCCCCC"> if you want</font>

2128
01:31:43,560 --> 01:31:48,420
to do<font color="#E5E5E5"> te for</font><font color="#CCCCCC"> for</font><font color="#E5E5E5"> LDP and you don't want</font>

2129
01:31:45,600 --> 01:31:53,700
to do<font color="#E5E5E5"> CR</font><font color="#CCCCCC"> LDP</font><font color="#E5E5E5"> okay you have the option of</font>

2130
01:31:48,420 --> 01:31:55,980
<font color="#E5E5E5">tunneling</font><font color="#CCCCCC"> LVP through an RSVP LSP oh I</font>

2131
01:31:53,700 --> 01:31:57,510
know<font color="#CCCCCC"> brain</font><font color="#E5E5E5"> twister okay so basically</font>

2132
01:31:55,980 --> 01:31:59,969
<font color="#E5E5E5">what</font><font color="#CCCCCC"> you got is this BL DP</font><font color="#E5E5E5"> Network and</font>

2133
01:31:57,510 --> 01:32:01,350
somewhere in the<font color="#CCCCCC"> middle you</font><font color="#E5E5E5"> set up RSVP</font>

2134
01:31:59,970 --> 01:32:02,880
<font color="#E5E5E5">LSPs now you have to have bi-directional</font>

2135
01:32:01,350 --> 01:32:06,480
<font color="#E5E5E5">here so you need two of them at least</font>

2136
01:32:02,880 --> 01:32:10,380
<font color="#E5E5E5">okay and within the RCP that's me</font><font color="#CCCCCC"> too</font>

2137
01:32:06,480 --> 01:32:13,049
your traffic engineering the ingress and

2138
01:32:10,380 --> 01:32:15,150
egress routers become<font color="#CCCCCC"> LVP neighbors and</font>

2139
01:32:13,050 --> 01:32:17,670
set<font color="#E5E5E5"> up a session</font><font color="#CCCCCC"> a targeted hello</font>

2140
01:32:15,150 --> 01:32:18,690
session between<font color="#E5E5E5"> themselves okay so what</font>

2141
01:32:17,670 --> 01:32:21,120
it<font color="#CCCCCC"> looks like graphically is pretty</font>

2142
01:32:18,690 --> 01:32:23,490
simple<font color="#CCCCCC"> I'm running native LVP from A to</font>

2143
01:32:21,120 --> 01:32:26,010
B<font color="#E5E5E5"> they become</font><font color="#CCCCCC"> neighbors and have a</font>

2144
01:32:23,490 --> 01:32:28,170
session I'm running<font color="#CCCCCC"> LDP natively from E</font>

2145
01:32:26,010 --> 01:32:32,810
to F they become neighbors<font color="#CCCCCC"> and</font><font color="#E5E5E5"> had a</font>

2146
01:32:28,170 --> 01:32:36,180
session I'm running<font color="#CCCCCC"> LVP between B and</font><font color="#E5E5E5"> E</font>

2147
01:32:32,810 --> 01:32:37,860
using<font color="#E5E5E5"> these targeted hellos they set up</font>

2148
01:32:36,180 --> 01:32:40,400
a session<font color="#CCCCCC"> okay so from</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> perspective</font>

2149
01:32:37,860 --> 01:32:45,540
of the<font color="#E5E5E5"> LDP database I got three links</font>

2150
01:32:40,400 --> 01:32:47,580
<font color="#E5E5E5">right a to be B to e e to F so for</font><font color="#CCCCCC"> LDP</font>

2151
01:32:45,540 --> 01:32:51,930
to forward traffic from A to<font color="#E5E5E5"> F I'm going</font>

2152
01:32:47,580 --> 01:32:54,269
to send 100,000 583 then<font color="#CCCCCC"> 100,000</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> 1</font>

2153
01:32:51,930 --> 01:32:55,950
<font color="#E5E5E5">then rather easy</font><font color="#CCCCCC"> to do a pop because</font><font color="#E5E5E5"> he</font>

2154
01:32:54,270 --> 01:32:57,540
sent label<font color="#E5E5E5"> 3 right so from LDP's</font>

2155
01:32:55,950 --> 01:33:01,139
<font color="#E5E5E5">perspective three hops</font><font color="#CCCCCC"> 3 set of labels</font>

2156
01:32:57,540 --> 01:33:04,190
<font color="#E5E5E5">but in reality to get from B</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> E I'm</font>

2157
01:33:01,140 --> 01:33:06,390
<font color="#E5E5E5">actually tunneling within an RSVP LSP</font>

2158
01:33:04,190 --> 01:33:08,580
<font color="#E5E5E5">which has its own set</font><font color="#CCCCCC"> of labels</font><font color="#E5E5E5"> that we</font>

2159
01:33:06,390 --> 01:33:12,240
allocate<font color="#E5E5E5"> a great path reservation label</font>

2160
01:33:08,580 --> 01:33:15,140
request label objects<font color="#CCCCCC"> ok so what you're</font>

2161
01:33:12,240 --> 01:33:17,820
<font color="#E5E5E5">gonna see</font><font color="#CCCCCC"> here is a concept</font><font color="#E5E5E5"> of a stack</font>

2162
01:33:15,140 --> 01:33:21,000
<font color="#CCCCCC">ok</font><font color="#E5E5E5"> rider B is going to receive a label</font>

2163
01:33:17,820 --> 01:33:22,830
<font color="#E5E5E5">of 100,000 583 it does a</font><font color="#CCCCCC"> lookup in at</font>

2164
01:33:21,000 --> 01:33:25,620
switching table and it says the<font color="#E5E5E5"> first</font>

2165
01:33:22,830 --> 01:33:27,630
<font color="#E5E5E5">thing I have to do is do a swap for my</font>

2166
01:33:25,620 --> 01:33:31,769
<font color="#CCCCCC">LDP partner so it's going to swap</font>

2167
01:33:27,630 --> 01:33:34,500
<font color="#E5E5E5">100,000 583 for 100,000 and 1 because my</font>

2168
01:33:31,770 --> 01:33:35,880
<font color="#CCCCCC">LDP neighbor told me</font><font color="#E5E5E5"> that label then</font>

2169
01:33:34,500 --> 01:33:39,270
it's<font color="#E5E5E5"> going to add</font><font color="#CCCCCC"> its gonna do a push</font>

2170
01:33:35,880 --> 01:33:42,870
and<font color="#CCCCCC"> it's gonna push on the RCP label</font>

2171
01:33:39,270 --> 01:33:44,550
100,000<font color="#E5E5E5"> 6o 39</font><font color="#CCCCCC"> ok so it's a swap</font>

2172
01:33:42,870 --> 01:33:49,230
<font color="#E5E5E5">pushing on the same router perfectly</font>

2173
01:33:44,550 --> 01:33:52,020
cool<font color="#CCCCCC"> for DeRuyter see does a swap for to</font>

2174
01:33:49,230 --> 01:33:54,269
<font color="#CCCCCC">write or D now he was told from</font><font color="#E5E5E5"> RSVP</font>

2175
01:33:52,020 --> 01:33:57,540
label of<font color="#E5E5E5"> three</font><font color="#CCCCCC"> so he's</font><font color="#E5E5E5"> gonna pop off the</font>

2176
01:33:54,270 --> 01:33:58,860
<font color="#CCCCCC">RCP label</font><font color="#E5E5E5"> and throw</font><font color="#CCCCCC"> whatever</font><font color="#E5E5E5"> is left to</font>

2177
01:33:57,540 --> 01:34:02,160
his<font color="#CCCCCC"> neighbor which in this case is a</font>

2178
01:33:58,860 --> 01:34:03,570
<font color="#CCCCCC">labeled packet and funny enough writer</font>

2179
01:34:02,160 --> 01:34:04,889
he gets this and<font color="#E5E5E5"> gets in this label</font><font color="#CCCCCC"> in</font>

2180
01:34:03,570 --> 01:34:07,940
<font color="#CCCCCC">one hundred</font><font color="#E5E5E5"> thousand and one which it</font>

2181
01:34:04,890 --> 01:34:10,950
<font color="#E5E5E5">knows about because it</font><font color="#CCCCCC"> Ella cated VL DP</font>

2182
01:34:07,940 --> 01:34:12,629
doesn't look up does a pop because

2183
01:34:10,950 --> 01:34:21,000
<font color="#E5E5E5">Randolph told in the pop any four words</font>

2184
01:34:12,630 --> 01:34:24,270
I Peter<font color="#CCCCCC"> address</font><font color="#E5E5E5"> less protocol</font><font color="#CCCCCC"> state on</font>

2185
01:34:21,000 --> 01:34:25,650
the edges of<font color="#CCCCCC"> your network okay cuz if</font>

2186
01:34:24,270 --> 01:34:27,930
<font color="#E5E5E5">you only have say if you have a bunch of</font>

2187
01:34:25,650 --> 01:34:29,519
pops<font color="#E5E5E5"> and from the pop routers in your</font>

2188
01:34:27,930 --> 01:34:31,380
core you hope you full mesh the RSVP

2189
01:34:29,520 --> 01:34:33,060
stuff in the<font color="#CCCCCC"> pops themselves as run l DP</font>

2190
01:34:31,380 --> 01:34:34,830
<font color="#E5E5E5">and letter let it go</font><font color="#CCCCCC"> and you</font><font color="#E5E5E5"> end</font><font color="#CCCCCC"> up</font><font color="#E5E5E5"> with</font>

2191
01:34:33,060 --> 01:34:39,570
a full mesh<font color="#E5E5E5"> for everybody by default</font>

2192
01:34:34,830 --> 01:34:41,580
okay so<font color="#E5E5E5"> we've barely touched the</font><font color="#CCCCCC"> surface</font>

2193
01:34:39,570 --> 01:34:42,809
here there's a whole lot<font color="#E5E5E5"> more for MPLS</font>

2194
01:34:41,580 --> 01:34:45,000
which is way outside<font color="#CCCCCC"> the scope</font>

2195
01:34:42,810 --> 01:34:46,920
intentionally<font color="#E5E5E5"> okay</font>

2196
01:34:45,000 --> 01:34:48,510
please feel free to<font color="#E5E5E5"> send me emails</font><font color="#CCCCCC"> I'm</font>

2197
01:34:46,920 --> 01:34:49,830
happy to answer any questions<font color="#CCCCCC"> for</font>

2198
01:34:48,510 --> 01:34:52,140
<font color="#CCCCCC">anything we talked about</font><font color="#E5E5E5"> plus anything</font>

2199
01:34:49,830 --> 01:34:53,790
<font color="#CCCCCC">it's on the screen ok if I don't know</font>

2200
01:34:52,140 --> 01:34:57,540
the answer somebody<font color="#CCCCCC"> else</font><font color="#E5E5E5"> would I know</font>

2201
01:34:53,790 --> 01:34:57,930
does know the answer<font color="#CCCCCC"> ok so that's</font><font color="#E5E5E5"> all I</font>

2202
01:34:57,540 --> 01:34:59,730
got

2203
01:34:57,930 --> 01:35:01,910
thanks for staying<font color="#E5E5E5"> late appreciate the</font>

2204
01:34:59,730 --> 01:35:01,910
time

