1
00:00:00,350 --> 00:00:06,779
this is a joint walk with the<font color="#E5E5E5"> void box</font>

2
00:00:03,600 --> 00:00:08,910
from a cisco systems and Nikolas

3
00:00:06,779 --> 00:00:12,780
Fishbach from a cult<font color="#E5E5E5"> and actually it's a</font>

4
00:00:08,910 --> 00:00:15,780
joint work with<font color="#E5E5E5"> Paul</font><font color="#CCCCCC"> Queen and the last</font>

5
00:00:12,780 --> 00:00:18,150
<font color="#CCCCCC">fish birthmark bin until and I'd blame</font>

6
00:00:15,780 --> 00:00:20,850
the Baba's air<font color="#E5E5E5"> garment boy for money we</font>

7
00:00:18,150 --> 00:00:23,310
all walked on the<font color="#CCCCCC"> sauce a message that</font>

8
00:00:20,850 --> 00:00:25,830
we are<font color="#E5E5E5"> going to show now so</font><font color="#CCCCCC"> actually you</font>

9
00:00:23,310 --> 00:00:28,859
can use this talk it's<font color="#E5E5E5"> a nice next step</font>

10
00:00:25,830 --> 00:00:33,180
after the talk of a very green and the

11
00:00:28,859 --> 00:00:35,730
dynamic<font color="#E5E5E5"> South Macpherson of yesterday so</font>

12
00:00:33,180 --> 00:00:38,250
when there is a problem<font color="#CCCCCC"> with some of</font>

13
00:00:35,730 --> 00:00:41,218
<font color="#E5E5E5">your voy a customer's one of the tabs of</font>

14
00:00:38,250 --> 00:00:43,649
attached<font color="#CCCCCC"> to a service sometimes we use</font>

15
00:00:41,219 --> 00:00:46,649
the sink hole we advertise the<font color="#E5E5E5"> simple</font>

16
00:00:43,649 --> 00:00:49,079
<font color="#E5E5E5">address and get this traffic routed to</font>

17
00:00:46,649 --> 00:00:52,110
the sinkhole and in all the method that

18
00:00:49,079 --> 00:00:54,120
<font color="#E5E5E5">we saw yesterday and that are used today</font>

19
00:00:52,110 --> 00:00:57,649
with the sinkholes usually the traffic

20
00:00:54,120 --> 00:01:00,269
in the end is get dumped and not used

21
00:00:57,649 --> 00:01:03,390
what we are doing today we are taking it

22
00:01:00,270 --> 00:01:05,640
one extra step and we are offering to a

23
00:01:03,390 --> 00:01:10,979
method<font color="#E5E5E5"> by which you can take the traffic</font>

24
00:01:05,640 --> 00:01:12,840
and return it to the end to<font color="#CCCCCC"> the intended</font>

25
00:01:10,979 --> 00:01:16,080
destination so there are<font color="#E5E5E5"> some</font>

26
00:01:12,840 --> 00:01:17,930
applications in which you can apply all

27
00:01:16,080 --> 00:01:20,610
kinds<font color="#E5E5E5"> of things on the traffic like</font>

28
00:01:17,930 --> 00:01:23,189
sniffling the traffic<font color="#E5E5E5"> doing health check</font>

29
00:01:20,610 --> 00:01:25,280
on the traffic or any cleaning the

30
00:01:23,189 --> 00:01:27,658
traffic filtering traffic and send the

31
00:01:25,280 --> 00:01:29,520
remaining<font color="#E5E5E5"> of the traffic or whatever you</font>

32
00:01:27,659 --> 00:01:34,409
decide to forward to the intended

33
00:01:29,520 --> 00:01:36,600
<font color="#E5E5E5">destination so you could use it</font><font color="#CCCCCC"> for</font>

34
00:01:34,409 --> 00:01:39,270
reverse a boxing for cleaning Tito's

35
00:01:36,600 --> 00:01:41,089
traffic for doing on demand the traffic

36
00:01:39,270 --> 00:01:44,759
monitoring always

37
00:01:41,090 --> 00:01:46,680
sniffing so what's different between the

38
00:01:44,760 --> 00:01:48,660
two<font color="#CCCCCC"> methods the</font><font color="#E5E5E5"> thing called is a</font>

39
00:01:46,680 --> 00:01:50,700
unidirectional the traffic<font color="#E5E5E5"> only gets in</font>

40
00:01:48,660 --> 00:01:54,720
and in the shunt<font color="#E5E5E5"> the traffic goes in and</font>

41
00:01:50,700 --> 00:01:57,030
out sinkhole is a white standard to

42
00:01:54,720 --> 00:01:59,310
implement just with an IP standard IP

43
00:01:57,030 --> 00:02:02,460
technology you don't need the tunnels

44
00:01:59,310 --> 00:02:04,020
and in the shunt as we'll see we use at

45
00:02:02,460 --> 00:02:07,860
<font color="#CCCCCC">least in one of the</font><font color="#E5E5E5"> directions and</font>

46
00:02:04,020 --> 00:02:10,530
sometimes in both directions some form

47
00:02:07,860 --> 00:02:16,680
of tunneling some way of tunneling is a

48
00:02:10,530 --> 00:02:18,420
govt IP<font color="#E5E5E5"> IP mpls of l2tp version 3 and as</font>

49
00:02:16,680 --> 00:02:20,220
we see the applications in one<font color="#CCCCCC"> of them</font>

50
00:02:18,420 --> 00:02:21,720
you just black hole that little traffic

51
00:02:20,220 --> 00:02:24,810
in another one you could use<font color="#CCCCCC"> it to</font><font color="#E5E5E5"> clean</font>

52
00:02:21,720 --> 00:02:29,130
a little traffic or to do a<font color="#CCCCCC"> vest cash</font>

53
00:02:24,810 --> 00:02:33,420
boxing and one method that<font color="#E5E5E5"> was already</font>

54
00:02:29,130 --> 00:02:37,350
<font color="#E5E5E5">introduced by the Union etco in the</font><font color="#CCCCCC"> 17th</font>

55
00:02:33,420 --> 00:02:39,869
nanog and as I mentioned<font color="#CCCCCC"> earlier the</font>

56
00:02:37,350 --> 00:02:45,780
reverse cash<font color="#E5E5E5"> box by a happy</font><font color="#CCCCCC"> in vessels</font>

57
00:02:39,870 --> 00:02:48,510
that can be used in the shunt so the

58
00:02:45,780 --> 00:02:49,890
main problem if I just use the standard

59
00:02:48,510 --> 00:02:51,750
techniques and the traffic back<font color="#E5E5E5"> I</font>

60
00:02:49,890 --> 00:02:54,980
<font color="#E5E5E5">obviously get into an infinite loop so</font>

61
00:02:51,750 --> 00:02:57,900
we need to do careful traffic routing

62
00:02:54,980 --> 00:03:01,079
one way you could do a<font color="#E5E5E5"> tunnel from</font><font color="#CCCCCC"> the</font>

63
00:02:57,900 --> 00:03:02,400
peeling routers into the sinkhole but

64
00:03:01,080 --> 00:03:04,950
then you have to make sure that the

65
00:03:02,400 --> 00:03:07,200
traffic going from the sink back to the

66
00:03:04,950 --> 00:03:09,510
<font color="#E5E5E5">intended destination doesn't go through</font>

67
00:03:07,200 --> 00:03:12,179
appealing route them otherwise we still

68
00:03:09,510 --> 00:03:15,000
get<font color="#E5E5E5"> into the infinite loop so you can</font>

69
00:03:12,180 --> 00:03:16,769
use a panel both directions balls from

70
00:03:15,000 --> 00:03:20,280
the<font color="#E5E5E5"> peering points into the sink and</font>

71
00:03:16,769 --> 00:03:24,700
from the sink to the<font color="#E5E5E5"> intended access out</font>

72
00:03:20,280 --> 00:03:28,780
there into the customer equipment and

73
00:03:24,700 --> 00:03:31,720
as we see<font color="#CCCCCC"> to there are</font><font color="#E5E5E5"> some</font>

74
00:03:28,780 --> 00:03:33,879
implementations with GRE tunnels but the

75
00:03:31,720 --> 00:03:37,120
many cases you face the situation with

76
00:03:33,879 --> 00:03:42,579
the GRE tunnels require special hug will

77
00:03:37,120 --> 00:03:44,739
extra a cards for<font color="#E5E5E5"> the dedicated card for</font>

78
00:03:42,580 --> 00:03:47,080
the implementation of the GRE<font color="#CCCCCC"> d-cup</font>

79
00:03:44,739 --> 00:03:48,760
solution or the GRE and cups usually

80
00:03:47,080 --> 00:03:50,739
it's the dick absolution the

81
00:03:48,760 --> 00:03:54,399
encapsulation you can do in the sink

82
00:03:50,739 --> 00:03:57,790
itself and it possesses am processing

83
00:03:54,400 --> 00:04:00,220
overhead so if you happen<font color="#CCCCCC"> to have mpls</font>

84
00:03:57,790 --> 00:04:01,510
in your network you<font color="#CCCCCC"> could use one of the</font>

85
00:04:00,220 --> 00:04:04,410
message that we<font color="#CCCCCC"> are going to</font><font color="#E5E5E5"> present</font>

86
00:04:01,510 --> 00:04:07,989
today it<font color="#CCCCCC"> doesn't require any extra a</font>

87
00:04:04,410 --> 00:04:10,810
cards no extra hardware and it is

88
00:04:07,989 --> 00:04:13,299
supported by juniper and cisco in<font color="#E5E5E5"> the</font>

89
00:04:10,810 --> 00:04:17,079
recent<font color="#E5E5E5"> versions of the operating systems</font>

90
00:04:13,299 --> 00:04:19,090
of the respective operating systems the

91
00:04:17,079 --> 00:04:21,220
<font color="#E5E5E5">requirements</font><font color="#CCCCCC"> that we impose upon cesarin</font>

92
00:04:19,089 --> 00:04:24,159
we sat down to designs or sore muscles

93
00:04:21,220 --> 00:04:29,050
is first it when you want to activate

94
00:04:24,160 --> 00:04:32,650
this method when you decide for a / 28 /

95
00:04:29,050 --> 00:04:35,200
32 I want to<font color="#E5E5E5"> shunt it that we will not</font>

96
00:04:32,650 --> 00:04:37,060
have to do any dynamic configuration so

97
00:04:35,200 --> 00:04:39,669
when you start the operation of this

98
00:04:37,060 --> 00:04:42,789
chant it will be without any dynamic

99
00:04:39,669 --> 00:04:46,150
configuration the sink processor will<font color="#CCCCCC"> be</font>

100
00:04:42,789 --> 00:04:49,630
able<font color="#CCCCCC"> to start the operation and</font><font color="#E5E5E5"> the</font>

101
00:04:46,150 --> 00:04:51,909
shunt will work in<font color="#E5E5E5"> addition</font><font color="#CCCCCC"> we require</font>

102
00:04:49,630 --> 00:04:54,219
minimal initial configuration so we

103
00:04:51,910 --> 00:04:56,229
don't want<font color="#E5E5E5"> to start doing a huge</font>

104
00:04:54,220 --> 00:04:58,930
configuration change in the routers and

105
00:04:56,229 --> 00:05:04,450
in the backbone in order to enable the

106
00:04:58,930 --> 00:05:06,910
method and it will be nice it also not

107
00:05:04,450 --> 00:05:10,210
<font color="#E5E5E5">always necessary that the sink engine</font>

108
00:05:06,910 --> 00:05:10,729
itself will<font color="#CCCCCC"> not be</font><font color="#E5E5E5"> speaking mpls if we</font>

109
00:05:10,210 --> 00:05:12,558
<font color="#CCCCCC">note</font>

110
00:05:10,729 --> 00:05:16,729
be ignorant doesn't know anything<font color="#E5E5E5"> about</font>

111
00:05:12,559 --> 00:05:20,419
mpls the backbone itself has to be able

112
00:05:16,729 --> 00:05:23,089
<font color="#E5E5E5">to support mpls but it it has to be mpls</font>

113
00:05:20,419 --> 00:05:24,620
enabled it doesn't have<font color="#E5E5E5"> 21 all its</font>

114
00:05:23,089 --> 00:05:28,550
traffic and pedis it could be a network

115
00:05:24,620 --> 00:05:31,430
running only IP traffic no mpls and you

116
00:05:28,550 --> 00:05:36,259
could use the MPLS only for the shunt<font color="#E5E5E5"> if</font>

117
00:05:31,430 --> 00:05:39,189
<font color="#E5E5E5">you're using one of our methods so we</font>

118
00:05:36,259 --> 00:05:42,370
are going<font color="#E5E5E5"> to show two implementations</font>

119
00:05:39,189 --> 00:05:47,389
the first implementation is based on the

120
00:05:42,370 --> 00:05:50,599
MPLS using the poxy egress LSP which is

121
00:05:47,389 --> 00:05:52,580
basically doing a lot of taking<font color="#CCCCCC"> extra</font>

122
00:05:50,599 --> 00:05:54,589
mileage on the penultimate hop hopping

123
00:05:52,580 --> 00:05:57,589
that we saw on but the<font color="#CCCCCC"> torrian only</font>

124
00:05:54,589 --> 00:06:02,689
sunday actually and the other method<font color="#E5E5E5"> is</font>

125
00:05:57,589 --> 00:06:05,180
based on mpls VPN so I'm going<font color="#CCCCCC"> to turn</font>

126
00:06:02,689 --> 00:06:07,689
to<font color="#E5E5E5"> an eco it will tell</font><font color="#CCCCCC"> us about the</font>

127
00:06:05,180 --> 00:06:07,689
first message

128
00:06:08,430 --> 00:06:15,430
so we got an MPLS enable<font color="#E5E5E5"> call and for us</font>

129
00:06:13,240 --> 00:06:17,439
<font color="#E5E5E5">it wasn't a solution you know to use</font>

130
00:06:15,430 --> 00:06:20,889
<font color="#E5E5E5">Jerry and this kind of methods to divert</font>

131
00:06:17,439 --> 00:06:23,379
traffic basically since the backbone is

132
00:06:20,889 --> 00:06:26,139
<font color="#CCCCCC">MP is enabled you probably know</font><font color="#E5E5E5"> that the</font>

133
00:06:23,379 --> 00:06:29,259
LSP the label switch path is going to

134
00:06:26,139 --> 00:06:31,810
follow with the<font color="#CCCCCC"> igp information so in</font>

135
00:06:29,259 --> 00:06:33,969
the standard setup you have one network

136
00:06:31,810 --> 00:06:38,020
which in all cases like the 61 network

137
00:06:33,969 --> 00:06:40,210
which open over one of the<font color="#CCCCCC"> NSPS and we</font>

138
00:06:38,020 --> 00:06:44,740
have a single<font color="#E5E5E5"> server standing there with</font>

139
00:06:40,210 --> 00:06:46,688
just basic configuration the boxes I

140
00:06:44,740 --> 00:06:49,060
mean the<font color="#E5E5E5"> only thing we have to do when</font>

141
00:06:46,689 --> 00:06:50,529
you<font color="#CCCCCC"> want to divert traffic and this</font><font color="#E5E5E5"> is</font>

142
00:06:49,060 --> 00:06:52,629
<font color="#E5E5E5">going to be the minimal configuration</font>

143
00:06:50,529 --> 00:06:55,539
change you have to do is just<font color="#CCCCCC"> one ounce</font>

144
00:06:52,629 --> 00:06:58,050
and then your next top for the prefix

145
00:06:55,539 --> 00:07:01,509
you want to divert to the sinkhole box

146
00:06:58,050 --> 00:07:04,569
so when you have<font color="#E5E5E5"> this setup will have</font>

147
00:07:01,509 --> 00:07:07,060
all the others piece that will be kind

148
00:07:04,569 --> 00:07:09,370
of automatically created when we inject

149
00:07:07,060 --> 00:07:11,379
the new next top or<font color="#E5E5E5"> what</font><font color="#CCCCCC"> I said when</font><font color="#E5E5E5"> you</font>

150
00:07:09,370 --> 00:07:13,300
have the<font color="#E5E5E5"> route to loop back that is</font>

151
00:07:11,379 --> 00:07:16,539
going to hit the<font color="#CCCCCC"> igp basically we do</font>

152
00:07:13,300 --> 00:07:17,889
that using is is so you got<font color="#CCCCCC"> you're going</font>

153
00:07:16,539 --> 00:07:20,949
to<font color="#E5E5E5"> have all the others piece that we go</font>

154
00:07:17,889 --> 00:07:22,389
to the sinkhole when the traffic is

155
00:07:20,949 --> 00:07:26,919
going<font color="#E5E5E5"> to enter your network it will</font>

156
00:07:22,389 --> 00:07:29,169
first hit on<font color="#E5E5E5"> the left the edge or</font>

157
00:07:26,919 --> 00:07:31,120
peering router and what we're<font color="#E5E5E5"> going to</font>

158
00:07:29,169 --> 00:07:33,339
do from<font color="#E5E5E5"> the synchro door for morata next</font>

159
00:07:31,120 --> 00:07:36,520
to it is<font color="#E5E5E5"> just announced of all</font><font color="#CCCCCC"> and I</font><font color="#E5E5E5"> bgp</font>

160
00:07:33,339 --> 00:07:40,479
session and that is what we you have<font color="#CCCCCC"> to</font>

161
00:07:36,520 --> 00:07:43,149
do before using this<font color="#CCCCCC"> thing is to</font>

162
00:07:40,479 --> 00:07:45,460
configure the<font color="#E5E5E5"> bgp sessions between the</font>

163
00:07:43,149 --> 00:07:47,560
sink roads and all your peers if you run

164
00:07:45,460 --> 00:07:49,810
any any mesh or with your rod reflector

165
00:07:47,560 --> 00:07:51,789
depending on the set up so we're going

166
00:07:49,810 --> 00:07:52,689
<font color="#E5E5E5">to announce a new road and when the</font>

167
00:07:51,789 --> 00:07:55,270
packet is going to enter<font color="#CCCCCC"> the network</font>

168
00:07:52,689 --> 00:07:57,819
<font color="#E5E5E5">it's going to be a normal IP IP packet</font>

169
00:07:55,270 --> 00:07:59,030
ended it will be tagged when the IP

170
00:07:57,819 --> 00:08:00,920
lookup occurs

171
00:07:59,030 --> 00:08:02,539
so what it done this in the first day we

172
00:08:00,920 --> 00:08:04,310
got to see the<font color="#CCCCCC"> app is going to be a</font>

173
00:08:02,540 --> 00:08:08,780
<font color="#E5E5E5">loopback and you would even be mapped</font>

174
00:08:04,310 --> 00:08:10,640
with a into<font color="#E5E5E5"> LSP get labeled and get an</font>

175
00:08:08,780 --> 00:08:13,280
interface and it will full of<font color="#E5E5E5"> the LSP</font>

176
00:08:10,640 --> 00:08:16,400
<font color="#CCCCCC">it's to the network so you see the</font>

177
00:08:13,280 --> 00:08:19,179
difference as a tape lookups packet

178
00:08:16,400 --> 00:08:22,520
forwarding and<font color="#CCCCCC"> we will hit the last box</font>

179
00:08:19,180 --> 00:08:24,740
on the last box we will untag the packet

180
00:08:22,520 --> 00:08:28,099
and it will exceed the LSP and go to the

181
00:08:24,740 --> 00:08:30,590
sink roller and as being a normal IP

182
00:08:28,100 --> 00:08:33,230
packet so depending on<font color="#E5E5E5"> the set up if you</font>

183
00:08:30,590 --> 00:08:34,819
<font color="#CCCCCC">have if you sing rather speaking LSP you</font>

184
00:08:33,230 --> 00:08:39,800
don't have to enter you can<font color="#E5E5E5"> send a</font>

185
00:08:34,820 --> 00:08:41,720
normal LSP anomaly sorry IP packets that

186
00:08:39,799 --> 00:08:45,530
is<font color="#E5E5E5"> label to the box and forward it again</font>

187
00:08:41,720 --> 00:08:47,870
in our setup we decided to untag and to

188
00:08:45,530 --> 00:08:50,689
give it to a box that can be running

189
00:08:47,870 --> 00:08:53,300
<font color="#E5E5E5">like Dido screening as naughty epidermis</font>

190
00:08:50,690 --> 00:08:55,010
<font color="#CCCCCC">move you can avail even have a screed</font>

191
00:08:53,300 --> 00:08:57,530
cash on it if you'd like if you want to

192
00:08:55,010 --> 00:09:00,350
do some<font color="#E5E5E5"> strange tests so that's way of</font>

193
00:08:57,530 --> 00:09:02,660
doing it<font color="#E5E5E5"> thief is going to see in the</font>

194
00:09:00,350 --> 00:09:05,150
network is really going<font color="#CCCCCC"> to depend on</font><font color="#E5E5E5"> how</font>

195
00:09:02,660 --> 00:09:06,650
<font color="#CCCCCC">you</font><font color="#E5E5E5"> do set up if your backbone is really</font>

196
00:09:05,150 --> 00:09:09,530
AM pianist labeled and all the traffic

197
00:09:06,650 --> 00:09:13,550
also normal non divert traffic is going

198
00:09:09,530 --> 00:09:15,199
to the backbone the person or the users

199
00:09:13,550 --> 00:09:19,099
won't even see to change the only

200
00:09:15,200 --> 00:09:20,810
changed ma see is the delay that may<font color="#E5E5E5"> be</font>

201
00:09:19,100 --> 00:09:23,840
changing between the hops because you

202
00:09:20,810 --> 00:09:27,020
only see the egress and ingress boxes

203
00:09:23,840 --> 00:09:28,730
are depending if you propagate or make

204
00:09:27,020 --> 00:09:31,900
the network<font color="#E5E5E5"> pediatrics parents you won't</font>

205
00:09:28,730 --> 00:09:33,670
even see the IP<font color="#CCCCCC"> offs in between</font>

206
00:09:31,900 --> 00:09:37,300
you can<font color="#E5E5E5"> contact security by obscurity</font>

207
00:09:33,670 --> 00:09:40,209
but that's just your kind of for your

208
00:09:37,300 --> 00:09:44,349
information so a glass box here is the

209
00:09:40,210 --> 00:09:48,490
penultimate hop rod<font color="#E5E5E5"> okay and yeah</font>

210
00:09:44,350 --> 00:09:50,320
information<font color="#E5E5E5"> about the LSP progress so</font>

211
00:09:48,490 --> 00:09:52,450
how does it<font color="#CCCCCC"> look like so we have the LSP</font>

212
00:09:50,320 --> 00:09:55,720
set up the ones in blue between all the

213
00:09:52,450 --> 00:09:59,110
egress or PM rollers going to the<font color="#E5E5E5"> same</font>

214
00:09:55,720 --> 00:10:03,100
device and in purple kind of the link

215
00:09:59,110 --> 00:10:07,000
back to the<font color="#E5E5E5"> final</font><font color="#CCCCCC"> destination so via</font><font color="#E5E5E5"> a</font>

216
00:10:03,100 --> 00:10:08,890
<font color="#E5E5E5">bgp we can announce the new next hope</font>

217
00:10:07,000 --> 00:10:12,700
for the traffic<font color="#E5E5E5"> one</font><font color="#CCCCCC"> to divert traffic</font>

218
00:10:08,890 --> 00:10:15,430
<font color="#E5E5E5">going to 61 11 11 and auto traffic</font>

219
00:10:12,700 --> 00:10:18,310
entering in red will be<font color="#E5E5E5"> we go about</font>

220
00:10:15,430 --> 00:10:21,520
multiple recipes to<font color="#CCCCCC"> the sinkhole device</font>

221
00:10:18,310 --> 00:10:23,349
or<font color="#E5E5E5"> joint device in our case for</font>

222
00:10:21,520 --> 00:10:25,689
inspection or whatever you've ever

223
00:10:23,350 --> 00:10:27,700
decide to do the traffic<font color="#E5E5E5"> and once done</font>

224
00:10:25,690 --> 00:10:31,600
if you get back to the final<font color="#CCCCCC"> destination</font>

225
00:10:27,700 --> 00:10:35,260
<font color="#E5E5E5">and depending on what you do on the</font>

226
00:10:31,600 --> 00:10:38,380
device will divert traffic<font color="#E5E5E5"> to by default</font>

227
00:10:35,260 --> 00:10:40,030
the outgoing traffic from 61 dot one dot

228
00:10:38,380 --> 00:10:43,390
one dot one is<font color="#CCCCCC"> going</font><font color="#E5E5E5"> to go back directly</font>

229
00:10:40,030 --> 00:10:46,060
and not over your sink hole device so if

230
00:10:43,390 --> 00:10:48,910
you<font color="#E5E5E5"> don't use an application-level sing</font>

231
00:10:46,060 --> 00:10:51,219
to play the<font color="#E5E5E5"> kind of man the middle the</font>

232
00:10:48,910 --> 00:10:52,480
traffic back won't go over<font color="#E5E5E5"> the synchro</font>

233
00:10:51,220 --> 00:10:53,470
device and<font color="#E5E5E5"> this is something wrong is</font>

234
00:10:52,480 --> 00:10:56,530
going<font color="#E5E5E5"> to show you how</font><font color="#CCCCCC"> to do that with</font>

235
00:10:53,470 --> 00:10:58,830
GRFs to have in and out going<font color="#E5E5E5"> over the</font>

236
00:10:56,530 --> 00:11:00,900
same system

237
00:10:58,830 --> 00:11:04,050
so the actual deployments we have all

238
00:11:00,900 --> 00:11:05,730
year s piece set up to how<font color="#E5E5E5"> to divert the</font>

239
00:11:04,050 --> 00:11:07,859
traffic coming from the transit pass

240
00:11:05,730 --> 00:11:10,740
going<font color="#E5E5E5"> to New York some of the pier in</font>

241
00:11:07,860 --> 00:11:12,540
<font color="#CCCCCC">water sitting</font><font color="#E5E5E5"> around on and so on so</font>

242
00:11:10,740 --> 00:11:15,080
what you see in London is that<font color="#CCCCCC"> the</font>

243
00:11:12,540 --> 00:11:19,199
traffic we want to divert enters the<font color="#E5E5E5"> box</font>

244
00:11:15,080 --> 00:11:20,490
gets tagged and the next stop is going

245
00:11:19,200 --> 00:11:23,460
to<font color="#CCCCCC"> point it to our SP and going to the</font>

246
00:11:20,490 --> 00:11:26,130
final<font color="#CCCCCC"> destination and in Frank Falls the</font>

247
00:11:23,460 --> 00:11:29,010
traffic is getting old of the RSP gets

248
00:11:26,130 --> 00:11:33,540
untagged and the next<font color="#E5E5E5"> top</font><font color="#CCCCCC"> ace then the</font>

249
00:11:29,010 --> 00:11:36,000
cleaning device that's<font color="#CCCCCC"> 6144</font><font color="#E5E5E5"> 88 111 so</font>

250
00:11:33,540 --> 00:11:39,569
this is<font color="#E5E5E5"> just basic seeing that you're</font>

251
00:11:36,000 --> 00:11:42,870
going to<font color="#E5E5E5"> see it's kind of easy if you</font>

252
00:11:39,570 --> 00:11:45,360
don't just use<font color="#E5E5E5"> MPs to do that if your</font>

253
00:11:42,870 --> 00:11:47,580
bagel is<font color="#E5E5E5"> not fully mpls enabled because</font>

254
00:11:45,360 --> 00:11:51,210
your operations guys won't have to learn

255
00:11:47,580 --> 00:11:52,980
mpls you know for the<font color="#E5E5E5"> day by day</font>

256
00:11:51,210 --> 00:11:55,170
operations but only the case of

257
00:11:52,980 --> 00:11:57,420
diverting traffic what you also see by

258
00:11:55,170 --> 00:11:59,729
doing that is that we have less overhead

259
00:11:57,420 --> 00:12:03,150
and it works quite stable in transport

260
00:11:59,730 --> 00:12:05,550
away so that's basically our experience

261
00:12:03,150 --> 00:12:07,130
doing that we have<font color="#E5E5E5"> been running</font><font color="#CCCCCC"> some</font>

262
00:12:05,550 --> 00:12:10,310
tests and

263
00:12:07,130 --> 00:12:13,010
we use that<font color="#CCCCCC"> setup</font><font color="#E5E5E5"> to do some packet</font>

264
00:12:10,310 --> 00:12:14,239
scrubbing changes analyzes protection

265
00:12:13,010 --> 00:12:17,240
with some of the customers we have<font color="#E5E5E5"> in</font>

266
00:12:14,240 --> 00:12:20,150
Germany like being dosed once a week or

267
00:12:17,240 --> 00:12:22,330
two times<font color="#E5E5E5"> a</font><font color="#CCCCCC"> week and it's really</font>

268
00:12:20,150 --> 00:12:24,319
effective but it<font color="#E5E5E5"> works quite well so</font>

269
00:12:22,330 --> 00:12:25,700
<font color="#E5E5E5">that's that's it if you have any</font>

270
00:12:24,320 --> 00:12:29,440
questions we can prolly take them

271
00:12:25,700 --> 00:12:29,440
offline after the presentation from Roy

272
00:12:34,220 --> 00:12:39,020
this method<font color="#E5E5E5"> is a little different it</font>

273
00:12:36,800 --> 00:12:40,969
requires a little more configuration but

274
00:12:39,020 --> 00:12:43,430
because you're using separate routing

275
00:12:40,970 --> 00:12:45,830
tables on the sink router and the egress

276
00:12:43,430 --> 00:12:48,709
router you guaranteed is<font color="#E5E5E5"> there could</font>

277
00:12:45,830 --> 00:12:50,480
never<font color="#E5E5E5"> have a loop regardless of what BGP</font>

278
00:12:48,710 --> 00:12:54,080
routing information you sent to the

279
00:12:50,480 --> 00:12:56,960
devices so in this example here we<font color="#CCCCCC"> have</font>

280
00:12:54,080 --> 00:12:59,120
VRS configured on the sink router or the

281
00:12:56,960 --> 00:13:01,070
traffic<font color="#E5E5E5"> will be returning as well as the</font>

282
00:12:59,120 --> 00:13:02,810
egress router found it on<font color="#E5E5E5"> the egress</font>

283
00:13:01,070 --> 00:13:08,360
router the customer interface is not in

284
00:13:02,810 --> 00:13:10,760
a vrf it's part of a global global table

285
00:13:08,360 --> 00:13:13,540
the only interface in the vrf is a loop

286
00:13:10,760 --> 00:13:17,060
back in that router so when we send

287
00:13:13,540 --> 00:13:20,150
<font color="#E5E5E5">multi-protocol bgp VPN v4 routing</font>

288
00:13:17,060 --> 00:13:22,459
information it has that router as a next

289
00:13:20,150 --> 00:13:26,620
<font color="#CCCCCC">hop and when</font><font color="#E5E5E5"> the packet gets there the</font>

290
00:13:22,460 --> 00:13:29,120
lookup is done on that<font color="#E5E5E5"> table only so you</font>

291
00:13:26,620 --> 00:13:32,450
advertise the prefix that<font color="#E5E5E5"> you you want</font>

292
00:13:29,120 --> 00:13:37,910
<font color="#E5E5E5">to clean the traffic gets sent down to</font>

293
00:13:32,450 --> 00:13:40,300
<font color="#E5E5E5">the sink to the filtering device the PE</font>

294
00:13:37,910 --> 00:13:42,920
has already been pre-configured with a

295
00:13:40,300 --> 00:13:46,550
static route pointing out the customer

296
00:13:42,920 --> 00:13:50,380
interface in the vrf for that prefix so

297
00:13:46,550 --> 00:13:50,380
now that's being originated in the vrf

298
00:13:51,740 --> 00:13:57,440
the traffic when it gets returned from

299
00:13:54,170 --> 00:14:00,099
the filtering device comes into a vrf

300
00:13:57,440 --> 00:14:02,390
forwarding interface on that sink router

301
00:14:00,100 --> 00:14:05,360
it's going to<font color="#E5E5E5"> see the advertisement the</font>

302
00:14:02,390 --> 00:14:07,840
multiple<font color="#CCCCCC"> call bgp advertisement pointing</font>

303
00:14:05,360 --> 00:14:13,010
to<font color="#CCCCCC"> the next</font><font color="#E5E5E5"> type of the egress PE and</font>

304
00:14:07,840 --> 00:14:15,560
put on a to label stack in this command

305
00:14:13,010 --> 00:14:19,939
here you can see where the rats shows

306
00:14:15,560 --> 00:14:22,339
the next hop as well as the<font color="#E5E5E5"> two labels</font>

307
00:14:19,940 --> 00:14:24,980
stack that<font color="#E5E5E5"> we're going to put on the top</font>

308
00:14:22,340 --> 00:14:27,470
label gets the packet to the<font color="#E5E5E5"> egress</font>

309
00:14:24,980 --> 00:14:30,560
device the penultimate hop will pop that

310
00:14:27,470 --> 00:14:32,320
off the bottom label the<font color="#CCCCCC"> prf label when</font>

311
00:14:30,560 --> 00:14:35,060
it<font color="#E5E5E5"> gets when it arrives at the egress</font>

312
00:14:32,320 --> 00:14:37,190
the router will look in the routing

313
00:14:35,060 --> 00:14:39,050
<font color="#CCCCCC">table for that vrf to determine what to</font>

314
00:14:37,190 --> 00:14:41,860
do with the packet and it will be sent

315
00:14:39,050 --> 00:14:41,859
out the customer interface

316
00:14:49,590 --> 00:14:56,610
on the on the PE device you can see

317
00:14:54,210 --> 00:14:59,580
where we have static IP route pointing

318
00:14:56,610 --> 00:15:02,730
out the vrf using a global next hop this

319
00:14:59,580 --> 00:15:04,380
is how you connect the vrf to the global

320
00:15:02,730 --> 00:15:06,270
routing table so when it comes<font color="#E5E5E5"> in the</font>

321
00:15:04,380 --> 00:15:10,189
vrf it knows who use a global next hop

322
00:15:06,270 --> 00:15:12,750
to send it out you can also see on the

323
00:15:10,190 --> 00:15:18,630
bottom line that there's no tags impose

324
00:15:12,750 --> 00:15:24,480
this is going out intact well I put<font color="#CCCCCC"> a</font>

325
00:15:18,630 --> 00:15:27,420
lot<font color="#CCCCCC"> of</font><font color="#E5E5E5"> these in here when if you wanted</font>

326
00:15:24,480 --> 00:15:28,950
to do two-way filtering with the vrf

327
00:15:27,420 --> 00:15:31,020
you're allowed you can do this because

328
00:15:28,950 --> 00:15:35,250
you can send the forward all the<font color="#E5E5E5"> traffic</font>

329
00:15:31,020 --> 00:15:38,010
back<font color="#CCCCCC"> to the sync server so cisco has a</font>

330
00:15:35,250 --> 00:15:39,870
feature called vrf select juniper also

331
00:15:38,010 --> 00:15:42,290
does this and it's called filter based

332
00:15:39,870 --> 00:15:46,500
forwarding wear anything that<font color="#E5E5E5"> matches a</font>

333
00:15:42,290 --> 00:15:50,490
some filter can be forced to use a vrf

334
00:15:46,500 --> 00:15:52,410
routing table so when the traffic comes

335
00:15:50,490 --> 00:15:55,140
in the global interface it sees it

336
00:15:52,410 --> 00:15:57,719
passes the list if if it matches it

337
00:15:55,140 --> 00:16:00,240
sends it<font color="#E5E5E5"> on the on the vrf and it goes</font>

338
00:15:57,720 --> 00:16:03,570
back<font color="#CCCCCC"> to the</font><font color="#E5E5E5"> sync server where then it</font>

339
00:16:00,240 --> 00:16:10,050
gets sent through and forwarded back

340
00:16:03,570 --> 00:16:14,280
north as normal ipv4 the<font color="#CCCCCC"> cisco show</font>

341
00:16:10,050 --> 00:16:17,729
command for this is described here the

342
00:16:14,280 --> 00:16:20,370
on the vrf we configure we tell it that

343
00:16:17,730 --> 00:16:23,100
we're going<font color="#E5E5E5"> to do</font><font color="#CCCCCC"> brf select source and</font>

344
00:16:20,370 --> 00:16:25,260
then there's a command<font color="#E5E5E5"> vrf selection</font>

345
00:16:23,100 --> 00:16:30,050
source identifies which source IP

346
00:16:25,260 --> 00:16:30,050
<font color="#CCCCCC">addresses to</font><font color="#E5E5E5"> match to send on the vrf</font>

347
00:16:31,720 --> 00:16:38,210
so there's<font color="#E5E5E5"> their RF code requirements to</font>

348
00:16:34,580 --> 00:16:45,110
do<font color="#E5E5E5"> this to do the mpls VPN you need to</font>

349
00:16:38,210 --> 00:16:47,780
run 12 0 11 st or 12 0<font color="#E5E5E5"> 22 s</font><font color="#CCCCCC"> and junos</font>

350
00:16:45,110 --> 00:16:54,440
the requirements are<font color="#CCCCCC"> 45 three or five</font>

351
00:16:47,780 --> 00:16:56,990
dot for so you know the caveats here you

352
00:16:54,440 --> 00:16:58,430
know the denial of service<font color="#CCCCCC"> or other the</font>

353
00:16:56,990 --> 00:16:59,660
traffic still goes through the backbone

354
00:16:58,430 --> 00:17:01,910
and you're not filtering it at the edge

355
00:16:59,660 --> 00:17:04,579
<font color="#E5E5E5">and there is a there is some latency</font>

356
00:17:01,910 --> 00:17:06,349
involved the latency for the number of

357
00:17:04,579 --> 00:17:08,480
hops is usually<font color="#CCCCCC"> insignificant</font><font color="#E5E5E5"> routers</font>

358
00:17:06,349 --> 00:17:10,459
are very fast<font color="#E5E5E5"> this point it's just</font>

359
00:17:08,480 --> 00:17:15,260
<font color="#E5E5E5">really the distance that you're sending</font>

360
00:17:10,460 --> 00:17:18,530
<font color="#CCCCCC">the traffic so for the mpls VPN again</font>

361
00:17:15,260 --> 00:17:22,810
there's iOS support issues for career

362
00:17:18,530 --> 00:17:26,960
devices and for the egress proxy LSP if

363
00:17:22,810 --> 00:17:30,770
the the egress device and the peering

364
00:17:26,960 --> 00:17:32,840
router are the same box if you if you

365
00:17:30,770 --> 00:17:35,420
didn't use a more specific prefixing you

366
00:17:32,840 --> 00:17:37,280
would potentially have a loop if you had

367
00:17:35,420 --> 00:17:39,170
the filtering device on the same box

368
00:17:37,280 --> 00:17:44,030
also they definitely have a have an

369
00:17:39,170 --> 00:17:45,290
issue so the advantages are<font color="#E5E5E5"> that this</font>

370
00:17:44,030 --> 00:17:49,070
filtering isn't done in the critical

371
00:17:45,290 --> 00:17:51,409
path<font color="#CCCCCC"> is taken off and sent</font><font color="#E5E5E5"> out the</font>

372
00:17:49,070 --> 00:17:54,260
normal IP traffic wouldn't be affected

373
00:17:51,410 --> 00:17:57,740
by this there is a no additional load on

374
00:17:54,260 --> 00:18:04,310
the routers the IP to mpls room pls mpls

375
00:17:57,740 --> 00:18:08,180
has no detrimental effect you<font color="#CCCCCC"> can have</font>

376
00:18:04,310 --> 00:18:11,990
<font color="#CCCCCC">ldp only advertise the prefixes that you</font>

377
00:18:08,180 --> 00:18:13,970
want<font color="#E5E5E5"> to have</font><font color="#CCCCCC"> labeled traffic sent to so</font>

378
00:18:11,990 --> 00:18:17,930
in this case<font color="#E5E5E5"> only the sinkhole loopback</font>

379
00:18:13,970 --> 00:18:20,540
can be advertised by<font color="#CCCCCC"> ldp or in the vrf</font>

380
00:18:17,930 --> 00:18:22,940
instance you would have to use a second

381
00:18:20,540 --> 00:18:26,750
loopback interface on<font color="#CCCCCC"> the device then</font>

382
00:18:22,940 --> 00:18:30,230
when the<font color="#CCCCCC"> EBG pvp MV for messages sent it</font>

383
00:18:26,750 --> 00:18:33,500
has a next top of the second loop back

384
00:18:30,230 --> 00:18:35,470
and there's a label for those loop backs

385
00:18:33,500 --> 00:18:38,450
only

386
00:18:35,470 --> 00:18:41,960
so a simple simple to deploy and

387
00:18:38,450 --> 00:18:45,470
scalable definitely for the egress OSP

388
00:18:41,960 --> 00:18:47,720
but proxy<font color="#CCCCCC"> LSP the mpls VPN solution is</font>

389
00:18:45,470 --> 00:18:49,760
slightly harder<font color="#CCCCCC"> like i said because</font>

390
00:18:47,720 --> 00:18:52,280
<font color="#E5E5E5">you're actually using separate routing</font>

391
00:18:49,760 --> 00:18:56,300
tables here guarantees a little safety

392
00:18:52,280 --> 00:18:59,750
you can<font color="#E5E5E5"> never create a loop that way so</font>

393
00:18:56,300 --> 00:19:02,389
what's next distributed sinkholes that

394
00:18:59,750 --> 00:19:06,080
there's you know that that's<font color="#CCCCCC"> possible</font>

395
00:19:02,390 --> 00:19:08,000
and you have to you could use either one

396
00:19:06,080 --> 00:19:13,629
of these solutions to do the to do that

397
00:19:08,000 --> 00:19:13,630
also any questions

398
00:19:16,350 --> 00:19:24,000
I'm<font color="#CCCCCC"> very surprised I wasn't sure that I</font>

399
00:19:18,510 --> 00:19:27,059
feel us would be<font color="#E5E5E5"> received so well there</font>

400
00:19:24,000 --> 00:19:29,160
are no<font color="#E5E5E5"> questions comments yeah sorry</font>

401
00:19:27,059 --> 00:19:31,230
<font color="#E5E5E5">just one thing if somebody wants the</font>

402
00:19:29,160 --> 00:19:33,809
configuration of bold of course the sink

403
00:19:31,230 --> 00:19:37,740
hose device pls MPs and so on just wrote

404
00:19:33,809 --> 00:19:44,510
me a mail I can send them is there

405
00:19:37,740 --> 00:19:49,320
somebody doing this we all we are<font color="#CCCCCC"> River</font>

406
00:19:44,510 --> 00:19:54,080
<font color="#E5E5E5">cold calls</font><font color="#CCCCCC"> okay</font><font color="#E5E5E5"> if nobody has any other</font>

407
00:19:49,320 --> 00:19:54,080
<font color="#E5E5E5">questions hold on thanks you</font><font color="#CCCCCC"> guys</font>

