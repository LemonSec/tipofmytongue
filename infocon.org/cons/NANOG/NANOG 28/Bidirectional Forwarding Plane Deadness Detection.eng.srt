1
00:00:00,410 --> 00:00:04,440
so one of the most<font color="#E5E5E5"> difficult things come</font>

2
00:00:02,820 --> 00:00:05,850
on guys well the most difficult things

3
00:00:04,440 --> 00:00:07,649
about this morning is trying to figure

4
00:00:05,850 --> 00:00:10,860
<font color="#E5E5E5">out what I was going to say to introduce</font>

5
00:00:07,649 --> 00:00:12,840
Dave and Dave first Dave Ward told me

6
00:00:10,860 --> 00:00:15,030
<font color="#E5E5E5">just say they're the Dave's I said</font>

7
00:00:12,840 --> 00:00:17,850
that's great<font color="#E5E5E5"> but that's no fun since</font>

8
00:00:15,030 --> 00:00:19,380
I've known Dave and Dave for a while so

9
00:00:17,850 --> 00:00:21,810
I tried<font color="#CCCCCC"> to think</font><font color="#E5E5E5"> of something that was</font>

10
00:00:19,380 --> 00:00:24,269
going to be fun I'm going<font color="#E5E5E5"> to skip the</font>

11
00:00:21,810 --> 00:00:26,820
joke till just before Randy because I

12
00:00:24,269 --> 00:00:30,630
thought and<font color="#E5E5E5"> honor of him doing jokes I</font>

13
00:00:26,820 --> 00:00:32,730
should provide a story or a joke for<font color="#CCCCCC"> the</font>

14
00:00:30,630 --> 00:00:34,199
next one but I<font color="#E5E5E5"> thought</font><font color="#CCCCCC"> the best</font><font color="#E5E5E5"> sort of</font>

15
00:00:32,729 --> 00:00:36,898
thing is to tell<font color="#E5E5E5"> you how intelligent</font>

16
00:00:34,200 --> 00:00:41,610
these guys are by<font color="#E5E5E5"> giving you a personal</font>

17
00:00:36,899 --> 00:00:44,280
story um I'm trying to teach my daughter

18
00:00:41,610 --> 00:00:46,230
to drive any of you who are reached that

19
00:00:44,280 --> 00:00:48,690
stage have the white<font color="#E5E5E5"> and Nicole moment</font>

20
00:00:46,230 --> 00:00:50,760
you know I think<font color="#E5E5E5"> we're going to survive</font>

21
00:00:48,690 --> 00:00:53,129
<font color="#CCCCCC">this next ten minutes</font><font color="#E5E5E5"> because I'm</font>

22
00:00:50,760 --> 00:00:54,899
sitting<font color="#CCCCCC"> next to it in</font><font color="#E5E5E5"> Michigan they have</font>

23
00:00:53,129 --> 00:00:57,300
the torture<font color="#E5E5E5"> and in Minnesota they have</font>

24
00:00:54,899 --> 00:00:58,980
<font color="#E5E5E5">the torture of the parent you have to</font>

25
00:00:57,300 --> 00:01:00,930
drive with your child a hundred hours

26
00:00:58,980 --> 00:01:04,709
before they can get their license so you

27
00:01:00,930 --> 00:01:08,400
sit there in the car determining<font color="#E5E5E5"> you can</font>

28
00:01:04,709 --> 00:01:10,710
live for a hundred hours you know and I

29
00:01:08,400 --> 00:01:13,340
thought okay I'm going<font color="#E5E5E5"> to make it and</font>

30
00:01:10,710 --> 00:01:16,408
I'm calmer than my husband and I'm gonna

31
00:01:13,340 --> 00:01:19,530
I've<font color="#CCCCCC"> just gotten so they didn't glue the</font>

32
00:01:16,409 --> 00:01:21,840
fingers after you get done with the a

33
00:01:19,530 --> 00:01:25,320
child you just get your hand a little

34
00:01:21,840 --> 00:01:29,009
intense labor but Dave Ward has twins

35
00:01:25,320 --> 00:01:32,339
and I thought twins Minnesota 200 hours

36
00:01:29,009 --> 00:01:34,890
oh my god what would she ever did dave

37
00:01:32,340 --> 00:01:38,560
is highly intelligent he bought someone

38
00:01:34,890 --> 00:01:40,930
you can rent an adult

39
00:01:38,560 --> 00:01:45,009
rented an adult's to take care<font color="#CCCCCC"> of the</font>

40
00:01:40,930 --> 00:01:46,659
twins that<font color="#E5E5E5"> I've heard Dave cats also did</font>

41
00:01:45,009 --> 00:01:48,460
some exciting things with his daughter

42
00:01:46,659 --> 00:01:50,829
but I don't know<font color="#E5E5E5"> if I have permission to</font>

43
00:01:48,460 --> 00:01:54,788
share<font color="#E5E5E5"> those toy stories about his</font>

44
00:01:50,829 --> 00:01:58,630
<font color="#E5E5E5">daughters I just want you to know watch</font>

45
00:01:54,789 --> 00:02:00,250
the grandparents so um I just<font color="#E5E5E5"> want you</font>

46
00:01:58,630 --> 00:02:02,048
<font color="#E5E5E5">to know that these guys not</font><font color="#CCCCCC"> only know</font>

47
00:02:00,250 --> 00:02:03,750
how to do routing and I think<font color="#E5E5E5"> this next</font>

48
00:02:02,049 --> 00:02:07,630
presentation is really exciting because

49
00:02:03,750 --> 00:02:09,940
it does take the lightweight approach to

50
00:02:07,630 --> 00:02:12,190
back playing deadness and I really think

51
00:02:09,940 --> 00:02:16,090
<font color="#E5E5E5">you</font><font color="#CCCCCC"> got to take a clear look at this</font>

52
00:02:12,190 --> 00:02:17,560
because<font color="#E5E5E5"> more is not always better but</font>

53
00:02:16,090 --> 00:02:21,819
they also know how to make<font color="#E5E5E5"> sure that</font>

54
00:02:17,560 --> 00:02:24,099
they don't die<font color="#CCCCCC"> of child I don't</font><font color="#E5E5E5"> child</font>

55
00:02:21,819 --> 00:02:26,700
watching the driving situation anyway

56
00:02:24,099 --> 00:02:26,700
both those

57
00:02:34,240 --> 00:02:38,830
thanks to hopefully we can night

58
00:02:37,060 --> 00:02:41,860
white-knuckle our way through the<font color="#E5E5E5"> next</font>

59
00:02:38,830 --> 00:02:44,200
presentation<font color="#E5E5E5"> so as you can see we have</font>

60
00:02:41,860 --> 00:02:46,630
reached a new era of cooperation in date

61
00:02:44,200 --> 00:02:49,869
on between<font color="#E5E5E5"> two router vendors so the</font>

62
00:02:46,630 --> 00:02:52,000
<font color="#E5E5E5">Dave's have spent many fine lunches</font>

63
00:02:49,870 --> 00:02:54,250
sitting in many hours and pools and

64
00:02:52,000 --> 00:02:57,130
taking many airplane rides and we

65
00:02:54,250 --> 00:02:59,950
managed to<font color="#E5E5E5"> come up</font><font color="#CCCCCC"> with vfd and this is</font>

66
00:02:57,130 --> 00:03:02,049
a<font color="#CCCCCC"> picture of your brain on VFD we took</font>

67
00:02:59,950 --> 00:03:04,060
it from Dave's plan a couple days ago on

68
00:03:02,050 --> 00:03:06,610
<font color="#E5E5E5">the way up here from Salt Lake and as</font>

69
00:03:04,060 --> 00:03:09,220
you can see Utah<font color="#CCCCCC"> has some really cool</font>

70
00:03:06,610 --> 00:03:11,050
geologic formations so that's where we

71
00:03:09,220 --> 00:03:12,790
toss that up and we knew that fred was

72
00:03:11,050 --> 00:03:17,950
going to put her slides up so we

73
00:03:12,790 --> 00:03:20,760
couldn't be shown up on that so BFD what

74
00:03:17,950 --> 00:03:22,690
were<font color="#E5E5E5"> we trying to do well basically</font>

75
00:03:20,760 --> 00:03:24,160
<font color="#E5E5E5">we're running into</font><font color="#CCCCCC"> a problem with</font>

76
00:03:22,690 --> 00:03:27,910
routing protocols and building routers

77
00:03:24,160 --> 00:03:30,640
where we can't easily or quickly detect

78
00:03:27,910 --> 00:03:32,230
that fording planes have gone down we're

79
00:03:30,640 --> 00:03:36,609
<font color="#E5E5E5">not just talking about links here or</font>

80
00:03:32,230 --> 00:03:38,380
ports or necessarily certain l2

81
00:03:36,610 --> 00:03:40,510
situations but what we need to

82
00:03:38,380 --> 00:03:41,980
understand for<font color="#E5E5E5"> a number of for variety</font>

83
00:03:40,510 --> 00:03:43,120
of scenarios almost all of them is when

84
00:03:41,980 --> 00:03:46,989
the routers forwarding plane goes down

85
00:03:43,120 --> 00:03:48,670
so as a correlate to this of course we

86
00:03:46,990 --> 00:03:50,260
can't<font color="#E5E5E5"> begin converging a single routing</font>

87
00:03:48,670 --> 00:03:52,510
protocol or any aspect<font color="#E5E5E5"> of the system</font>

88
00:03:50,260 --> 00:03:54,880
until<font color="#CCCCCC"> we've detected this failure so we</font>

89
00:03:52,510 --> 00:03:56,679
we were focused in on solving how can we

90
00:03:54,880 --> 00:03:59,140
detect a fording plane failure very very

91
00:03:56,680 --> 00:04:01,360
quickly obviously in all cases we can't

92
00:03:59,140 --> 00:04:03,970
use media layer alarms some cases and

93
00:04:01,360 --> 00:04:09,820
pause we can some cases in in our PR or

94
00:04:03,970 --> 00:04:11,020
<font color="#E5E5E5">Ethernet etc we can't and also a lot of</font>

95
00:04:09,820 --> 00:04:12,519
us<font color="#E5E5E5"> have been working</font><font color="#CCCCCC"> for quite a long</font>

96
00:04:11,020 --> 00:04:14,350
time and<font color="#E5E5E5"> making presentations on</font>

97
00:04:12,520 --> 00:04:15,520
<font color="#E5E5E5">graceful restart mechanisms but the</font>

98
00:04:14,350 --> 00:04:16,930
fundamental assumption of grace will

99
00:04:15,520 --> 00:04:20,170
restart is that there's non stop

100
00:04:16,930 --> 00:04:22,600
forwarding but unfortunately<font color="#CCCCCC"> we until</font>

101
00:04:20,170 --> 00:04:24,640
perhaps this technology there was no way

102
00:04:22,600 --> 00:04:26,560
to actually detect whether or not that

103
00:04:24,640 --> 00:04:30,070
assumption was correct and you<font color="#E5E5E5"> just had</font>

104
00:04:26,560 --> 00:04:31,660
to kind of believe in go so what people

105
00:04:30,070 --> 00:04:34,300
have been doing obviously<font color="#CCCCCC"> for a very</font>

106
00:04:31,660 --> 00:04:36,040
very long<font color="#CCCCCC"> time is using the own the</font>

107
00:04:34,300 --> 00:04:38,380
hello mechanisms available in current

108
00:04:36,040 --> 00:04:40,270
routing and signaling protocols but as

109
00:04:38,380 --> 00:04:41,830
we all know<font color="#E5E5E5"> from the defaults or even</font>

110
00:04:40,270 --> 00:04:43,090
<font color="#E5E5E5">what you can tweak them to</font>

111
00:04:41,830 --> 00:04:45,130
are<font color="#E5E5E5"> really too slow for the type of</font>

112
00:04:43,090 --> 00:04:47,109
convergence we want right now they're

113
00:04:45,130 --> 00:04:48,370
<font color="#CCCCCC">the hello packets are really complete</font>

114
00:04:47,110 --> 00:04:49,510
the semantics of them are completely

115
00:04:48,370 --> 00:04:50,950
overloaded with what they actually mean

116
00:04:49,510 --> 00:04:53,140
of course they're testing everything

117
00:04:50,950 --> 00:04:54,760
from the anit state of the protocol all

118
00:04:53,140 --> 00:04:56,200
the way down to every internal piece of

119
00:04:54,760 --> 00:04:59,380
the router itself control playing

120
00:04:56,200 --> 00:05:01,270
backplane potentially the in-band the

121
00:04:59,380 --> 00:05:03,670
line card itself maybe the LAN card cpu

122
00:05:01,270 --> 00:05:07,270
maybe the physical line adapter whatever

123
00:05:03,670 --> 00:05:08,980
the case might be and so by overloading

124
00:05:07,270 --> 00:05:13,090
the solo packets<font color="#E5E5E5"> you actually</font><font color="#CCCCCC"> are</font>

125
00:05:08,980 --> 00:05:15,520
testing different things as well as if

126
00:05:13,090 --> 00:05:16,810
you<font color="#CCCCCC"> begin to</font><font color="#E5E5E5"> try and use hello</font>

127
00:05:15,520 --> 00:05:19,150
mechanisms and tweak them in one

128
00:05:16,810 --> 00:05:21,280
protocol you then begin<font color="#CCCCCC"> to have to tweak</font>

129
00:05:19,150 --> 00:05:23,320
them in all of them so you get<font color="#CCCCCC"> you begin</font>

130
00:05:21,280 --> 00:05:25,239
kind of chasing the dog around by its

131
00:05:23,320 --> 00:05:26,500
tail trying to clean up<font color="#E5E5E5"> all of your</font>

132
00:05:25,240 --> 00:05:29,260
routing and signaling protocols instead

133
00:05:26,500 --> 00:05:31,030
of solving this in one place and of

134
00:05:29,260 --> 00:05:33,550
course<font color="#E5E5E5"> those in which which already have</font>

135
00:05:31,030 --> 00:05:36,549
tweaked fast to lowes aren't always in

136
00:05:33,550 --> 00:05:38,470
use in all scenarios so what<font color="#E5E5E5"> can we do</font>

137
00:05:36,550 --> 00:05:39,820
to solve this problem well there's a

138
00:05:38,470 --> 00:05:42,280
<font color="#E5E5E5">couple of other proposed solutions that</font>

139
00:05:39,820 --> 00:05:45,909
have been going<font color="#CCCCCC"> on out there by really</font>

140
00:05:42,280 --> 00:05:47,799
really<font color="#CCCCCC"> smart folks but they're kind</font><font color="#E5E5E5"> of</font>

141
00:05:45,910 --> 00:05:48,580
maybe they weren't at least along the

142
00:05:47,800 --> 00:05:50,740
lines of<font color="#E5E5E5"> what Dave and I were thinking</font>

143
00:05:48,580 --> 00:05:52,479
<font color="#E5E5E5">so we can take a look</font><font color="#CCCCCC"> at as</font><font color="#E5E5E5"> I mentioned</font>

144
00:05:50,740 --> 00:05:56,020
the tweak fast<font color="#E5E5E5"> fellows available and say</font>

145
00:05:52,480 --> 00:05:57,700
RSVP I size n ospf and when you take a

146
00:05:56,020 --> 00:05:59,049
<font color="#CCCCCC">look</font><font color="#E5E5E5"> at the implementations or you take</font>

147
00:05:57,700 --> 00:06:01,960
a look at the effect on<font color="#E5E5E5"> your router</font>

148
00:05:59,050 --> 00:06:04,000
itself the cost of running these

149
00:06:01,960 --> 00:06:07,330
protocols with fast hellos is very<font color="#E5E5E5"> very</font>

150
00:06:04,000 --> 00:06:08,770
high in the<font color="#CCCCCC"> CPU as well as the corollary</font>

151
00:06:07,330 --> 00:06:10,510
<font color="#CCCCCC">impex for the rest of the system when</font>

152
00:06:08,770 --> 00:06:12,099
<font color="#CCCCCC">you begin to take up those CPU cycles as</font>

153
00:06:10,510 --> 00:06:15,460
well as they take<font color="#E5E5E5"> up a lot of bandwidth</font>

154
00:06:12,100 --> 00:06:17,620
on the backplane so also because of this

155
00:06:15,460 --> 00:06:19,870
you can get a hot very<font color="#E5E5E5"> high level of</font>

156
00:06:17,620 --> 00:06:22,750
false alarms and these also cause

157
00:06:19,870 --> 00:06:24,040
potentially worse things than<font color="#E5E5E5"> then</font>

158
00:06:22,750 --> 00:06:25,450
others when you<font color="#E5E5E5"> start getting false</font>

159
00:06:24,040 --> 00:06:26,860
alarms from these particular<font color="#E5E5E5"> protocols</font>

160
00:06:25,450 --> 00:06:29,349
and what happens<font color="#E5E5E5"> to your network and the</font>

161
00:06:26,860 --> 00:06:31,630
oscillation of traffic as the sending<font color="#E5E5E5"> of</font>

162
00:06:29,350 --> 00:06:33,940
a lot<font color="#E5E5E5"> of these hello packets across your</font>

163
00:06:31,630 --> 00:06:35,350
back plane may just assume you may

164
00:06:33,940 --> 00:06:36,670
starve out you know depending on the

165
00:06:35,350 --> 00:06:38,230
architecture of the system sorry about

166
00:06:36,670 --> 00:06:40,480
the<font color="#E5E5E5"> ability to send these fellows at</font>

167
00:06:38,230 --> 00:06:43,270
this rate thus causing an adjacency to

168
00:06:40,480 --> 00:06:44,650
drop then the<font color="#E5E5E5"> hellos get through then</font>

169
00:06:43,270 --> 00:06:45,940
the adjacency comes back up and you sit

170
00:06:44,650 --> 00:06:47,320
there oscillating your traffic back and

171
00:06:45,940 --> 00:06:48,920
forth you Jason<font color="#CCCCCC"> seas are bouncing and</font>

172
00:06:47,320 --> 00:06:51,599
this is a generally bad

173
00:06:48,920 --> 00:06:53,070
the next one of the next issues

174
00:06:51,600 --> 00:06:55,350
associated with is tweaked fast<font color="#E5E5E5"> fellows</font>

175
00:06:53,070 --> 00:06:58,110
<font color="#E5E5E5">through these protocols is that the</font>

176
00:06:55,350 --> 00:07:00,360
detection time really can't be cranked

177
00:06:58,110 --> 00:07:01,980
<font color="#CCCCCC">down very very low and what we've been</font>

178
00:07:00,360 --> 00:07:03,270
<font color="#CCCCCC">hearing with Dave and I've</font><font color="#E5E5E5"> been hearing</font>

179
00:07:01,980 --> 00:07:04,770
from<font color="#E5E5E5"> a lot of folks is</font><font color="#CCCCCC"> that we need to</font>

180
00:07:03,270 --> 00:07:07,500
<font color="#E5E5E5">get down to hundreds or tens of</font>

181
00:07:04,770 --> 00:07:12,810
milliseconds of detection time for

182
00:07:07,500 --> 00:07:14,580
straight IP as well as MPLS or other l2

183
00:07:12,810 --> 00:07:16,620
media so we need to really<font color="#CCCCCC"> start getting</font>

184
00:07:14,580 --> 00:07:20,039
faster detection terms of true failure

185
00:07:16,620 --> 00:07:21,750
scenarios and jumping down to the last

186
00:07:20,040 --> 00:07:23,280
<font color="#E5E5E5">sub bullet basically not all of these</font>

187
00:07:21,750 --> 00:07:25,410
protocols can handle using

188
00:07:23,280 --> 00:07:26,669
unidirectional link failure and so we

189
00:07:25,410 --> 00:07:29,580
wanted to try<font color="#E5E5E5"> and solve that problem as</font>

190
00:07:26,670 --> 00:07:31,830
well<font color="#E5E5E5"> as this is cropped up another</font>

191
00:07:29,580 --> 00:07:33,900
solution which came out<font color="#CCCCCC"> I'd say</font><font color="#E5E5E5"> I guess</font>

192
00:07:31,830 --> 00:07:35,700
maybe six nine months<font color="#E5E5E5"> ago from a good</font>

193
00:07:33,900 --> 00:07:38,789
friend<font color="#CCCCCC"> carita campello was the protocol</font>

194
00:07:35,700 --> 00:07:41,610
liveness protocol protocol which is

195
00:07:38,790 --> 00:07:43,770
really what i consider the hello

196
00:07:41,610 --> 00:07:45,840
<font color="#CCCCCC">aggregated hello protocol what it did is</font>

197
00:07:43,770 --> 00:07:48,810
it took all of the hollows from all the

198
00:07:45,840 --> 00:07:51,659
protocols roughly as is added a few more

199
00:07:48,810 --> 00:07:54,150
<font color="#E5E5E5">TL vs but roughly as is and put these in</font>

200
00:07:51,660 --> 00:07:55,590
an outboard engine and then there<font color="#E5E5E5"> was</font>

201
00:07:54,150 --> 00:07:57,630
this outboard engine that ran the pillow

202
00:07:55,590 --> 00:08:02,250
protocols as we know them for RSVP is is

203
00:07:57,630 --> 00:08:04,469
ospf DGP fubar you name it and then

204
00:08:02,250 --> 00:08:05,729
began to tweak that a little bit more by

205
00:08:04,470 --> 00:08:07,500
having some tea LVS which also

206
00:08:05,729 --> 00:08:09,210
represented other interesting things

207
00:08:07,500 --> 00:08:11,850
including the initialization state of

208
00:08:09,210 --> 00:08:14,820
the actual protocol executable<font color="#CCCCCC"> and</font>

209
00:08:11,850 --> 00:08:17,040
things like<font color="#CCCCCC"> this well if we went down</font>

210
00:08:14,820 --> 00:08:18,900
this path and after<font color="#E5E5E5"> Dave and</font><font color="#CCCCCC"> I spent</font>

211
00:08:17,040 --> 00:08:21,090
spent many hours talking with<font color="#E5E5E5"> cariddi</font>

212
00:08:18,900 --> 00:08:23,010
and other other folks was that of course

213
00:08:21,090 --> 00:08:24,239
this would cause everyone to have all

214
00:08:23,010 --> 00:08:26,190
the vendors to have to re-implement the

215
00:08:24,240 --> 00:08:28,050
protocols everybody to potentially have

216
00:08:26,190 --> 00:08:29,729
to redeploy a new protocol which in

217
00:08:28,050 --> 00:08:31,500
<font color="#CCCCCC">which the bread and</font><font color="#E5E5E5"> butter</font><font color="#CCCCCC"> the network</font>

218
00:08:29,729 --> 00:08:33,330
the routing protocols were dependent you

219
00:08:31,500 --> 00:08:35,400
know<font color="#CCCCCC"> and this</font><font color="#E5E5E5"> goddess a little bit scary</font>

220
00:08:33,330 --> 00:08:38,969
plus some of the extra information in

221
00:08:35,400 --> 00:08:40,260
PLP wasn't along the lines of maybe what

222
00:08:38,969 --> 00:08:41,919
we thought<font color="#CCCCCC"> that was completely necessary</font>

223
00:08:40,260 --> 00:08:44,049
to solve<font color="#E5E5E5"> the problem</font>

224
00:08:41,919 --> 00:08:46,120
another solution is<font color="#CCCCCC"> Mark which was</font>

225
00:08:44,049 --> 00:08:49,240
presented at the ITF maybe a couple<font color="#CCCCCC"> ITX</font>

226
00:08:46,120 --> 00:08:50,380
ago<font color="#E5E5E5"> no I can't</font><font color="#CCCCCC"> remember and what's</font>

227
00:08:49,240 --> 00:08:52,089
interesting about this protocol as it

228
00:08:50,380 --> 00:08:54,220
was presented right after<font color="#E5E5E5"> creatives with</font>

229
00:08:52,089 --> 00:08:56,260
PLP it's still<font color="#E5E5E5"> really under</font>

230
00:08:54,220 --> 00:08:57,850
specification right now and<font color="#E5E5E5"> it's really</font>

231
00:08:56,260 --> 00:08:59,980
trying<font color="#E5E5E5"> to solve a different problem in a</font>

232
00:08:57,850 --> 00:09:01,180
<font color="#CCCCCC">different environment but if things to</font>

233
00:08:59,980 --> 00:09:02,860
be really interesting to follow to see

234
00:09:01,180 --> 00:09:05,229
what comes out as<font color="#CCCCCC"> Martha's trying to be</font>

235
00:09:02,860 --> 00:09:08,589
event-driven versus what we're about<font color="#E5E5E5"> to</font>

236
00:09:05,230 --> 00:09:11,019
present in our technology so what

237
00:09:08,589 --> 00:09:13,779
exactly is the bi-directional forwarding

238
00:09:11,019 --> 00:09:15,279
detector it's effectively the low

239
00:09:13,779 --> 00:09:17,199
overhead short duration of technical

240
00:09:15,279 --> 00:09:19,510
failures between two forwarding inches

241
00:09:17,199 --> 00:09:20,949
and what we mean by<font color="#E5E5E5"> forwarding engines</font>

242
00:09:19,510 --> 00:09:23,110
that it does cover more<font color="#CCCCCC"> than just the</font>

243
00:09:20,949 --> 00:09:24,130
link<font color="#E5E5E5"> or the port or the interface but</font>

244
00:09:23,110 --> 00:09:27,519
actually<font color="#CCCCCC"> we're trying to cover the</font>

245
00:09:24,130 --> 00:09:29,730
forwarding plane also we wanted to make

246
00:09:27,519 --> 00:09:31,930
this this protocol in this application

247
00:09:29,730 --> 00:09:34,810
extremely lightweight such that it could

248
00:09:31,930 --> 00:09:36,250
be<font color="#E5E5E5"> run on distributed routers down in</font>

249
00:09:34,810 --> 00:09:38,560
the forwarding planer on the line card

250
00:09:36,250 --> 00:09:40,389
for sure so we're going to decouple<font color="#E5E5E5"> the</font>

251
00:09:38,560 --> 00:09:43,420
fate of this protocol<font color="#E5E5E5"> in</font><font color="#CCCCCC"> the forwarding</font>

252
00:09:40,389 --> 00:09:46,839
plane from what's going on in the RP<font color="#E5E5E5"> so</font>

253
00:09:43,420 --> 00:09:49,209
now we can more or more easily implement

254
00:09:46,839 --> 00:09:50,829
graceful restart in distributed routers

255
00:09:49,209 --> 00:09:52,630
and of course d couplet from what's

256
00:09:50,829 --> 00:09:55,339
<font color="#E5E5E5">happening on the RP during failover</font>

257
00:09:52,630 --> 00:09:58,640
whatever the case might<font color="#CCCCCC"> be happening</font>

258
00:09:55,340 --> 00:10:00,680
also we wanted basically to take some<font color="#E5E5E5"> of</font>

259
00:09:58,640 --> 00:10:02,510
the lessons of the past which both Dave

260
00:10:00,680 --> 00:10:04,670
and I learned the extreme hard way and

261
00:10:02,510 --> 00:10:07,790
actually<font color="#E5E5E5"> from the get-go had this</font>

262
00:10:04,670 --> 00:10:10,310
protocol work on any any data protocol

263
00:10:07,790 --> 00:10:14,300
being 40 between two systems before be

264
00:10:10,310 --> 00:10:16,280
680 to whatever the<font color="#E5E5E5"> case might be and so</font>

265
00:10:14,300 --> 00:10:17,870
as you'll see in a<font color="#CCCCCC"> little bit it</font>

266
00:10:16,280 --> 00:10:19,880
<font color="#E5E5E5">basically runs on top of anything is</font>

267
00:10:17,870 --> 00:10:22,520
rather generic the next thing that we

268
00:10:19,880 --> 00:10:26,930
argued over was whether or<font color="#E5E5E5"> not we could</font>

269
00:10:22,520 --> 00:10:28,400
optimize how to send<font color="#E5E5E5"> BFD beyond just</font>

270
00:10:26,930 --> 00:10:31,219
having point-to-point relationships

271
00:10:28,400 --> 00:10:33,650
between two adjacent routers and can we

272
00:10:31,220 --> 00:10:36,370
possibly use multicast and actually<font color="#CCCCCC"> we</font>

273
00:10:33,650 --> 00:10:38,569
found we followed our old adage that if

274
00:10:36,370 --> 00:10:39,850
multicast doesn't solve the specific

275
00:10:38,570 --> 00:10:42,080
problem<font color="#CCCCCC"> that you're trying to solve</font>

276
00:10:39,850 --> 00:10:43,310
don't go down that path and<font color="#E5E5E5"> in this</font>

277
00:10:42,080 --> 00:10:45,170
<font color="#E5E5E5">particular case it didn't solve this</font>

278
00:10:43,310 --> 00:10:48,920
Pacific problem we were trying<font color="#CCCCCC"> to trying</font>

279
00:10:45,170 --> 00:10:50,240
to to hit so also the next<font color="#E5E5E5"> thing we</font>

280
00:10:48,920 --> 00:10:53,449
<font color="#E5E5E5">wanted to make sure was that we could</font>

281
00:10:50,240 --> 00:10:55,040
have disparate<font color="#E5E5E5"> systems of disparate</font>

282
00:10:53,450 --> 00:10:57,770
capability is sitting next<font color="#E5E5E5"> to each other</font>

283
00:10:55,040 --> 00:10:59,300
we could have you know our are you know

284
00:10:57,770 --> 00:11:01,490
the biggest baddest routers out there in

285
00:10:59,300 --> 00:11:02,990
the net sitting next to<font color="#CCCCCC"> Cathy's cable</font>

286
00:11:01,490 --> 00:11:04,700
modems whatever the case is if she was

287
00:11:02,990 --> 00:11:06,290
actually appearing to them through them

288
00:11:04,700 --> 00:11:08,210
or<font color="#E5E5E5"> whatever the case and actually</font><font color="#CCCCCC"> be</font>

289
00:11:06,290 --> 00:11:09,890
<font color="#E5E5E5">able to</font><font color="#CCCCCC"> handle this by having</font>

290
00:11:08,210 --> 00:11:13,340
point-to-point relationships and

291
00:11:09,890 --> 00:11:17,390
negotiating the parameters between the

292
00:11:13,340 --> 00:11:18,860
two<font color="#E5E5E5"> adjacent routers so those were the</font>

293
00:11:17,390 --> 00:11:20,240
goals and let me go through a quick

294
00:11:18,860 --> 00:11:21,710
overview and<font color="#CCCCCC"> then we'll take a look a</font>

295
00:11:20,240 --> 00:11:23,240
<font color="#E5E5E5">little bit more we're not going to go</font>

296
00:11:21,710 --> 00:11:25,430
into too<font color="#CCCCCC"> much depth here on exactly what</font>

297
00:11:23,240 --> 00:11:26,450
the packet format is but an overview of

298
00:11:25,430 --> 00:11:30,140
<font color="#E5E5E5">what we're looking at so we're looking</font>

299
00:11:26,450 --> 00:11:33,380
at try and detect failures between next

300
00:11:30,140 --> 00:11:35,660
hops in the data plane BFD is a fixed

301
00:11:33,380 --> 00:11:39,140
field protocol it's really really

302
00:11:35,660 --> 00:11:40,760
lightweight we think and basically we

303
00:11:39,140 --> 00:11:43,580
can pass this over any encapsulation

304
00:11:40,760 --> 00:11:44,569
that's appropriate and we have a<font color="#E5E5E5"> couple</font>

305
00:11:43,580 --> 00:11:45,960
<font color="#E5E5E5">of different modes that we're going to</font>

306
00:11:44,570 --> 00:11:49,110
<font color="#E5E5E5">talk about</font>

307
00:11:45,960 --> 00:11:52,330
so what we have<font color="#CCCCCC"> is a separate session</font>

308
00:11:49,110 --> 00:11:54,220
for for each communication in the data

309
00:11:52,330 --> 00:11:56,320
path between these two systems and you

310
00:11:54,220 --> 00:11:59,770
set this up between all of the<font color="#CCCCCC"> adjacent</font>

311
00:11:56,320 --> 00:12:02,470
routers each one is is talking to the

312
00:11:59,770 --> 00:12:05,860
<font color="#E5E5E5">other there is no at this point there is</font>

313
00:12:02,470 --> 00:12:07,690
no ability to again multicast between an

314
00:12:05,860 --> 00:12:10,120
array of systems or<font color="#E5E5E5"> our bunch of systems</font>

315
00:12:07,690 --> 00:12:11,470
so also we can't handle unidirectional

316
00:12:10,120 --> 00:12:12,580
links although its implementation

317
00:12:11,470 --> 00:12:14,050
dependent on how<font color="#E5E5E5"> this is going to happen</font>

318
00:12:12,580 --> 00:12:17,110
but<font color="#E5E5E5"> it was critical that we were both of</font>

319
00:12:14,050 --> 00:12:19,900
the handle unidirectional LSPs and of

320
00:12:17,110 --> 00:12:21,910
<font color="#CCCCCC">course what we learned as I mentioned</font>

321
00:12:19,900 --> 00:12:23,829
<font color="#CCCCCC">before is that</font><font color="#E5E5E5"> slow systems have</font><font color="#CCCCCC"> to be</font>

322
00:12:21,910 --> 00:12:25,630
able<font color="#E5E5E5"> to play with fast systems so each</font>

323
00:12:23,830 --> 00:12:28,480
what you can<font color="#E5E5E5"> see in the protocol is that</font>

324
00:12:25,630 --> 00:12:30,460
each router is going to send how much

325
00:12:28,480 --> 00:12:32,620
they would really how quickly they would

326
00:12:30,460 --> 00:12:35,740
really like to detect a problem<font color="#E5E5E5"> and how</font>

327
00:12:32,620 --> 00:12:37,930
fast they're willing to<font color="#CCCCCC"> tect the FD</font>

328
00:12:35,740 --> 00:12:39,490
packet or sorry<font color="#E5E5E5"> receive</font><font color="#CCCCCC"> DFT packets from</font>

329
00:12:37,930 --> 00:12:41,170
the other router so that way both

330
00:12:39,490 --> 00:12:44,560
directions are negotiated and you go to

331
00:12:41,170 --> 00:12:47,400
the weaker router so what<font color="#E5E5E5"> does it really</font>

332
00:12:44,560 --> 00:12:49,810
look like so the packet is really simple

333
00:12:47,400 --> 00:12:51,579
version of course we've got an i hear

334
00:12:49,810 --> 00:12:53,979
you bid because<font color="#E5E5E5"> as you're</font><font color="#CCCCCC"> going to see</font>

335
00:12:51,580 --> 00:12:56,020
we're sending two independent streams

336
00:12:53,980 --> 00:12:57,670
between routers and to get the by

337
00:12:56,020 --> 00:12:59,290
directionality we've got<font color="#E5E5E5"> a</font><font color="#CCCCCC"> knot here you</font>

338
00:12:57,670 --> 00:13:00,550
bit so if you suddenly don't hear<font color="#E5E5E5"> your</font>

339
00:12:59,290 --> 00:13:03,099
neighbor you can let them know as

340
00:13:00,550 --> 00:13:04,689
quickly as<font color="#CCCCCC"> possible we got some</font>

341
00:13:03,100 --> 00:13:07,750
diagnostic codes we can actually debug

342
00:13:04,690 --> 00:13:09,310
this thing a detection multiplier so

343
00:13:07,750 --> 00:13:11,530
that way we can you know have a nice

344
00:13:09,310 --> 00:13:14,530
little multiplier as in other protocols

345
00:13:11,530 --> 00:13:16,930
to be able<font color="#E5E5E5"> to you know have your</font>

346
00:13:14,530 --> 00:13:18,790
detection time set by you we've got a

347
00:13:16,930 --> 00:13:20,349
<font color="#E5E5E5">couple of discriminators in other words</font>

348
00:13:18,790 --> 00:13:21,790
the forwarding plane my discriminators

349
00:13:20,350 --> 00:13:23,260
affording plan on the local router your

350
00:13:21,790 --> 00:13:24,520
discriminator is the one that<font color="#E5E5E5"> you</font><font color="#CCCCCC"> think</font>

351
00:13:23,260 --> 00:13:26,080
you're talking to on<font color="#CCCCCC"> the remote router</font>

352
00:13:24,520 --> 00:13:28,210
you negotiate so that way you're both

353
00:13:26,080 --> 00:13:30,580
talking about<font color="#E5E5E5"> the same thing and voila</font>

354
00:13:28,210 --> 00:13:32,650
you're the communication is<font color="#E5E5E5"> sane and</font>

355
00:13:30,580 --> 00:13:35,320
then as i mentioned we're going to

356
00:13:32,650 --> 00:13:37,090
<font color="#CCCCCC">negotiate how fast we want to transmit</font>

357
00:13:35,320 --> 00:13:39,160
and how<font color="#E5E5E5"> fast we would like to receive</font>

358
00:13:37,090 --> 00:13:42,430
packets from the other<font color="#E5E5E5"> end</font>

359
00:13:39,160 --> 00:13:44,980
what's interesting about this protocol

360
00:13:42,430 --> 00:13:48,638
versus what<font color="#CCCCCC"> we learned from the I GPS</font>

361
00:13:44,980 --> 00:13:50,470
and other protocols is that we want to

362
00:13:48,639 --> 00:13:52,660
be able to change the all of<font color="#CCCCCC"> these</font>

363
00:13:50,470 --> 00:13:54,819
values<font color="#CCCCCC"> on the</font><font color="#E5E5E5"> fly without actually</font>

364
00:13:52,660 --> 00:13:56,379
tearing down the session and going back

365
00:13:54,819 --> 00:13:57,550
to say and<font color="#E5E5E5"> it's state</font><font color="#CCCCCC"> 0 or something</font>

366
00:13:56,379 --> 00:14:00,790
like that which<font color="#CCCCCC"> is what we're used to</font>

367
00:13:57,550 --> 00:14:02,319
with say ospf anytime you change one of

368
00:14:00,790 --> 00:14:03,849
<font color="#E5E5E5">the one</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> the values you're tearing</font>

369
00:14:02,319 --> 00:14:06,550
down the adjacency you're moving your

370
00:14:03,850 --> 00:14:07,779
traffic around you know after<font color="#E5E5E5"> making</font>

371
00:14:06,550 --> 00:14:10,389
this mistake for how many years have we

372
00:14:07,779 --> 00:14:11,649
made it day if we hopefully think that

373
00:14:10,389 --> 00:14:15,819
that we're<font color="#E5E5E5"> going to try</font><font color="#CCCCCC"> and get over</font>

374
00:14:11,649 --> 00:14:17,170
<font color="#E5E5E5">this and continue so as I mentioned it's</font>

375
00:14:15,819 --> 00:14:18,670
fixed field so what does this really

376
00:14:17,170 --> 00:14:20,860
mean this means that once you've

377
00:14:18,670 --> 00:14:22,479
negotiated these values you you<font color="#E5E5E5"> already</font>

378
00:14:20,860 --> 00:14:24,819
know what to expect to receive from the

379
00:14:22,480 --> 00:14:26,709
other<font color="#E5E5E5"> end so from the vendor side this</font>

380
00:14:24,819 --> 00:14:28,750
implementation becomes much easier and

381
00:14:26,709 --> 00:14:30,040
the same side once you know what you're

382
00:14:28,750 --> 00:14:31,449
<font color="#E5E5E5">supposed</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> be sent into</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> the other</font>

383
00:14:30,040 --> 00:14:32,589
side again this hopefully becomes very

384
00:14:31,449 --> 00:14:34,779
very lightweight make and shove this

385
00:14:32,589 --> 00:14:37,209
down in the<font color="#E5E5E5"> thwarting plane so because</font>

386
00:14:34,779 --> 00:14:39,129
it's lightweight and we can do kind of

387
00:14:37,209 --> 00:14:41,229
some predictive type mechanisms we think

388
00:14:39,129 --> 00:14:44,350
we can<font color="#E5E5E5"> achieve tens of milliseconds of</font>

389
00:14:41,230 --> 00:14:45,910
detection time for IP networks and the

390
00:14:44,350 --> 00:14:47,560
only<font color="#E5E5E5"> time that we really need to pay</font>

391
00:14:45,910 --> 00:14:48,610
attention to this protocol as it's just

392
00:14:47,560 --> 00:14:51,008
sitting there firing away in the

393
00:14:48,610 --> 00:14:53,740
background is when anything changes and

394
00:14:51,009 --> 00:14:55,569
either we're going<font color="#E5E5E5"> to check the I hear I</font>

395
00:14:53,740 --> 00:14:57,399
hear you bit and whether or not they

396
00:14:55,569 --> 00:14:59,410
stopped hearing us whether or not they

397
00:14:57,399 --> 00:15:01,029
<font color="#CCCCCC">want they send a value such that they're</font>

398
00:14:59,410 --> 00:15:03,160
saying<font color="#E5E5E5"> their session has gone away or</font>

399
00:15:01,029 --> 00:15:05,170
they're forwarding plane is hosed or

400
00:15:03,160 --> 00:15:08,270
they want to adaptively change one of

401
00:15:05,170 --> 00:15:09,530
<font color="#E5E5E5">the values of the parameters</font>

402
00:15:08,270 --> 00:15:13,130
anything you want to add at this point

403
00:15:09,530 --> 00:15:15,680
Dave you're my straight man never

404
00:15:13,130 --> 00:15:17,480
microphone either<font color="#CCCCCC"> no yeah I'll</font><font color="#E5E5E5"> just</font>

405
00:15:15,680 --> 00:15:19,599
interrupt you and throw things if

406
00:15:17,480 --> 00:15:23,330
there's anything I disagree with<font color="#E5E5E5"> okay</font>

407
00:15:19,600 --> 00:15:25,280
the discriminators stuff we talked a

408
00:15:23,330 --> 00:15:27,890
little bit about unidirectional links

409
00:15:25,280 --> 00:15:29,560
and you can<font color="#CCCCCC"> imagine having a whole bunch</font>

410
00:15:27,890 --> 00:15:31,730
of links going in one direction and

411
00:15:29,560 --> 00:15:33,500
everything coming back through<font color="#E5E5E5"> a routed</font>

412
00:15:31,730 --> 00:15:35,660
half in the other direction so one of

413
00:15:33,500 --> 00:15:37,520
the functions of the discriminators is

414
00:15:35,660 --> 00:15:39,079
so that you can separate out the return

415
00:15:37,520 --> 00:15:43,069
packets to know which sessions they

416
00:15:39,080 --> 00:15:46,130
applied it so what are<font color="#E5E5E5"> the issues that</font>

417
00:15:43,070 --> 00:15:48,050
we're facing right now<font color="#E5E5E5"> Dave</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> I are</font>

418
00:15:46,130 --> 00:15:50,420
working to figure out how fast we can

419
00:15:48,050 --> 00:15:52,670
actually<font color="#E5E5E5"> make this go so we built the</font>

420
00:15:50,420 --> 00:15:55,040
protocol with millisecond timers we got

421
00:15:52,670 --> 00:15:56,750
burnt over the<font color="#CCCCCC"> decades with with</font>

422
00:15:55,040 --> 00:15:58,280
intervals that were too large such that

423
00:15:56,750 --> 00:15:59,570
you can't get below a second and that's

424
00:15:58,280 --> 00:16:01,060
<font color="#E5E5E5">really not acceptable of course if you</font>

425
00:15:59,570 --> 00:16:03,530
want to get<font color="#E5E5E5"> down to millisecond</font>

426
00:16:01,060 --> 00:16:05,630
detection actually it feels that are

427
00:16:03,530 --> 00:16:07,579
<font color="#CCCCCC">specified in microseconds oh sorry so we</font>

428
00:16:05,630 --> 00:16:11,030
can do<font color="#E5E5E5"> really bad things should we do</font>

429
00:16:07,580 --> 00:16:13,340
that<font color="#E5E5E5"> to a in a second sore well the</font>

430
00:16:11,030 --> 00:16:15,500
dynamic 32 bits is nice because it gives

431
00:16:13,340 --> 00:16:16,730
you one micro second to you know an<font color="#E5E5E5"> hour</font>

432
00:16:15,500 --> 00:16:20,590
and a half or something<font color="#E5E5E5"> which is</font>

433
00:16:16,730 --> 00:16:20,590
probably a reasonable dynamic range

434
00:16:21,550 --> 00:16:26,000
the detection multipliers to handle<font color="#E5E5E5"> any</font>

435
00:16:24,080 --> 00:16:27,350
packet loss or delay going across the

436
00:16:26,000 --> 00:16:30,020
links or in the remote forwarding plane

437
00:16:27,350 --> 00:16:31,640
and<font color="#E5E5E5"> queuing etc so that's what we've got</font>

438
00:16:30,020 --> 00:16:34,400
<font color="#CCCCCC">there and then the security issues we</font>

439
00:16:31,640 --> 00:16:38,840
have we're recommending that we again

440
00:16:34,400 --> 00:16:41,060
use the VJ Dave Meyer TTL hack where we

441
00:16:38,840 --> 00:16:43,880
can set a<font color="#E5E5E5"> well-known value and then</font>

442
00:16:41,060 --> 00:16:46,430
begin to chuck packets that are aren't

443
00:16:43,880 --> 00:16:49,670
aren't matching that TTL or of course

444
00:16:46,430 --> 00:16:50,989
<font color="#CCCCCC">it's highly recommended as you run you</font>

445
00:16:49,670 --> 00:16:52,099
know if you're going to say a router ID

446
00:16:50,990 --> 00:16:54,320
or<font color="#CCCCCC"> something like that you don't make</font>

447
00:16:52,100 --> 00:16:56,090
this a routable address outside the

448
00:16:54,320 --> 00:16:57,770
domain and<font color="#E5E5E5"> there you have security Bible</font>

449
00:16:56,090 --> 00:16:59,630
security and they can't even<font color="#E5E5E5"> reach that</font>

450
00:16:57,770 --> 00:17:01,130
particular address on the net<font color="#E5E5E5"> and if</font>

451
00:16:59,630 --> 00:17:02,870
you're really paranoid you can run it

452
00:17:01,130 --> 00:17:04,490
over an ipsec tunnel since it runs over

453
00:17:02,870 --> 00:17:07,030
anything but your detection times might

454
00:17:04,490 --> 00:17:07,030
not be as good

455
00:17:07,329 --> 00:17:12,730
so again from the comments<font color="#E5E5E5"> that we</font>

456
00:17:10,510 --> 00:17:14,769
received some other folks basically

457
00:17:12,730 --> 00:17:16,360
everybody refers to vs diaz the link

458
00:17:14,769 --> 00:17:19,059
deadness detector and it's really<font color="#CCCCCC"> not</font>

459
00:17:16,359 --> 00:17:20,438
and it's<font color="#CCCCCC"> really not just like deadness</font>

460
00:17:19,059 --> 00:17:22,389
because not only are we passing it

461
00:17:20,439 --> 00:17:25,149
through the forwarding plane but both

462
00:17:22,390 --> 00:17:27,220
ends have the ability to trigger the

463
00:17:25,148 --> 00:17:29,139
loss or<font color="#CCCCCC"> the failure of a forwarding</font>

464
00:17:27,220 --> 00:17:31,750
plane due to any reason in other words

465
00:17:29,140 --> 00:17:33,340
you can send a fairly notification that

466
00:17:31,750 --> 00:17:36,039
you<font color="#CCCCCC"> stop hearing the other side or you</font>

467
00:17:33,340 --> 00:17:38,649
can send a note to your adjacency that

468
00:17:36,039 --> 00:17:43,840
your forwarding plane has croaked you

469
00:17:38,649 --> 00:17:47,379
don't interrupt me Dave yeah I have a

470
00:17:43,840 --> 00:17:49,740
question um in the<font color="#E5E5E5"> context of</font><font color="#CCCCCC"> be</font><font color="#E5E5E5"> TSH a</font>

471
00:17:47,380 --> 00:17:53,110
lot<font color="#CCCCCC"> of people have asked me if we could</font>

472
00:17:49,740 --> 00:17:55,690
generalize that mechanism to cover a

473
00:17:53,110 --> 00:17:56,949
bunch of other protocols and I'm

474
00:17:55,690 --> 00:17:58,750
wondering<font color="#E5E5E5"> if there's anything in the</font>

475
00:17:56,950 --> 00:18:00,639
work that<font color="#CCCCCC"> you guys are doing that would</font>

476
00:17:58,750 --> 00:18:02,019
<font color="#E5E5E5">prevent us from doing that and applying</font>

477
00:18:00,639 --> 00:18:04,418
these mechanisms to those other

478
00:18:02,019 --> 00:18:06,610
protocols absolutely nothing we can

479
00:18:04,419 --> 00:18:09,669
generalize be TSH extremely easily and

480
00:18:06,610 --> 00:18:12,299
will fit right into that model it's all

481
00:18:09,669 --> 00:18:12,299
things to all people

482
00:18:13,070 --> 00:18:19,320
<font color="#E5E5E5">okay so you know I don't know exactly</font>

483
00:18:17,760 --> 00:18:20,760
what Dave's room is code but I think

484
00:18:19,320 --> 00:18:22,530
most of us are actually generalizing the

485
00:18:20,760 --> 00:18:24,690
implementation that<font color="#E5E5E5"> we can quickly and</font>

486
00:18:22,530 --> 00:18:30,149
rapidly allow any protocol to use the

487
00:18:24,690 --> 00:18:33,960
TTL value as a discriminator so so what

488
00:18:30,150 --> 00:18:35,430
<font color="#E5E5E5">I was mentioning before was that as you</font>

489
00:18:33,960 --> 00:18:37,170
know the local router can actually

490
00:18:35,430 --> 00:18:38,670
trigger a diagnostic code that that

491
00:18:37,170 --> 00:18:39,990
represents a failure of<font color="#E5E5E5"> the local</font>

492
00:18:38,670 --> 00:18:40,980
thwarting plane and really<font color="#E5E5E5"> kind of what</font>

493
00:18:39,990 --> 00:18:42,330
<font color="#E5E5E5">are we talking about here at some of the</font>

494
00:18:40,980 --> 00:18:44,430
scenarios well I've got<font color="#E5E5E5"> a couple of few</font>

495
00:18:42,330 --> 00:18:46,139
listed out here you know<font color="#E5E5E5"> the line card</font>

496
00:18:44,430 --> 00:18:47,300
has become disconnected with the RP who

497
00:18:46,140 --> 00:18:49,650
knows why it's going<font color="#E5E5E5"> out to lunch</font>

498
00:18:47,300 --> 00:18:51,389
there's an inability to update the fit

499
00:18:49,650 --> 00:18:52,830
or the<font color="#E5E5E5"> Phoebus host some kind of error</font>

500
00:18:51,390 --> 00:18:55,440
during download that the local router

501
00:18:52,830 --> 00:18:57,179
detects protocols crash<font color="#E5E5E5"> don't</font>

502
00:18:55,440 --> 00:19:00,000
reinitialize for some particular<font color="#E5E5E5"> reason</font>

503
00:18:57,180 --> 00:19:02,580
or basically any number of internal

504
00:19:00,000 --> 00:19:04,620
failures that we're seeing contributing

505
00:19:02,580 --> 00:19:06,360
<font color="#E5E5E5">plane failure and because of</font><font color="#CCCCCC"> the</font>

506
00:19:04,620 --> 00:19:08,189
decoupled nature of the protocol we can

507
00:19:06,360 --> 00:19:10,229
send that notification to the remote end

508
00:19:08,190 --> 00:19:12,270
to basically shun traffic from yourself

509
00:19:10,230 --> 00:19:14,760
and<font color="#E5E5E5"> keep network traffic going through</font>

510
00:19:12,270 --> 00:19:18,870
another link or forwarding plane that is

511
00:19:14,760 --> 00:19:20,550
available so again of course the I hear

512
00:19:18,870 --> 00:19:23,250
you field is that you stopped hearing

513
00:19:20,550 --> 00:19:25,110
the protocol packets from the other<font color="#E5E5E5"> end</font>

514
00:19:23,250 --> 00:19:27,180
and that<font color="#E5E5E5"> means that</font><font color="#CCCCCC"> you can suddenly</font>

515
00:19:25,110 --> 00:19:29,040
trigger by sending a false to say hey I

516
00:19:27,180 --> 00:19:30,690
stopped hearing you so that means the<font color="#E5E5E5"> to</font>

517
00:19:29,040 --> 00:19:34,379
you path is hosed at that particular

518
00:19:30,690 --> 00:19:36,720
point if it's missed if this also is

519
00:19:34,380 --> 00:19:38,279
what makes the three-way handshake on

520
00:19:36,720 --> 00:19:42,179
both

521
00:19:38,279 --> 00:19:43,799
session up and session down so here's

522
00:19:42,179 --> 00:19:45,719
about as good as<font color="#E5E5E5"> it gets as my ability</font>

523
00:19:43,799 --> 00:19:47,609
to do<font color="#E5E5E5"> PowerPoint diagrams but I can</font>

524
00:19:45,719 --> 00:19:49,710
manage<font color="#CCCCCC"> to get colored arrows and boxes</font>

525
00:19:47,609 --> 00:19:52,259
up on my slides and the async mode is

526
00:19:49,710 --> 00:19:54,479
basically when you<font color="#E5E5E5"> use the control</font>

527
00:19:52,259 --> 00:19:56,969
packets and you have independent streams

528
00:19:54,479 --> 00:19:58,799
running between<font color="#E5E5E5"> the two routers again</font>

529
00:19:56,969 --> 00:20:01,169
you're negotiating the RX and TX values

530
00:19:58,799 --> 00:20:03,210
such that a B and<font color="#CCCCCC"> C can all be of</font>

531
00:20:01,169 --> 00:20:07,559
different capabilities but the protocol

532
00:20:03,210 --> 00:20:08,519
will work representing the forwarding

533
00:20:07,559 --> 00:20:10,589
<font color="#CCCCCC">plan for which the packets are</font>

534
00:20:08,519 --> 00:20:13,169
traversing to know these three routers

535
00:20:10,589 --> 00:20:16,739
could actually be on a single medium or

536
00:20:13,169 --> 00:20:19,469
they could it be point plan there's a

537
00:20:16,739 --> 00:20:21,599
second mode called eco mode in which

538
00:20:19,469 --> 00:20:23,249
their control packets run at a fairly

539
00:20:21,599 --> 00:20:26,460
sedate rate from which you've negotiated

540
00:20:23,249 --> 00:20:28,109
the RX and TX values and then there's

541
00:20:26,460 --> 00:20:31,499
another form of the packet<font color="#E5E5E5"> that is</font>

542
00:20:28,109 --> 00:20:33,689
basically sent<font color="#CCCCCC"> source</font><font color="#E5E5E5"> and destined to</font>

543
00:20:31,499 --> 00:20:37,080
yourself through the forwarding plane of

544
00:20:33,690 --> 00:20:39,179
the remote router directly in lung

545
00:20:37,080 --> 00:20:40,589
directly in the path as regular packets

546
00:20:39,179 --> 00:20:42,359
so you're going<font color="#E5E5E5"> through</font><font color="#CCCCCC"> and actually</font>

547
00:20:40,589 --> 00:20:45,239
testing the true forwarding plane back

548
00:20:42,359 --> 00:20:46,678
<font color="#CCCCCC">to yourself</font><font color="#E5E5E5"> and the</font><font color="#CCCCCC"> sender is also of</font>

549
00:20:45,239 --> 00:20:50,789
course the receiver of<font color="#E5E5E5"> these packets and</font>

550
00:20:46,679 --> 00:20:53,249
is in complete control of how fast it

551
00:20:50,789 --> 00:20:55,169
can<font color="#E5E5E5"> then detect locally the failure of</font>

552
00:20:53,249 --> 00:20:57,509
the remote<font color="#E5E5E5"> end and this is for extremely</font>

553
00:20:55,169 --> 00:20:59,580
aggressive detection times so there's

554
00:20:57,509 --> 00:21:01,440
two independent streams in the async

555
00:20:59,580 --> 00:21:02,939
mode and<font color="#E5E5E5"> then they're sending packets</font>

556
00:21:01,440 --> 00:21:04,649
directly through the forwarding plane of

557
00:21:02,940 --> 00:21:07,139
the remote router back to<font color="#CCCCCC"> yourself in</font>

558
00:21:04,649 --> 00:21:09,779
<font color="#E5E5E5">the</font><font color="#CCCCCC"> echo mode it can</font><font color="#E5E5E5"> also be argued</font><font color="#CCCCCC"> that</font>

559
00:21:07,139 --> 00:21:11,039
the echo mode better tests what you're

560
00:21:09,779 --> 00:21:14,389
<font color="#E5E5E5">trying to test since you are actually</font>

561
00:21:11,039 --> 00:21:16,710
forwarding through the remote system

562
00:21:14,389 --> 00:21:18,449
although<font color="#E5E5E5"> it's you know depending on</font>

563
00:21:16,710 --> 00:21:19,799
hardware architecture it may be you know

564
00:21:18,450 --> 00:21:22,950
<font color="#E5E5E5">hitting a line card and bouncing back</font>

565
00:21:19,799 --> 00:21:25,289
out again but at least you<font color="#CCCCCC"> sort of have</font>

566
00:21:22,950 --> 00:21:26,690
a basic liveness of is<font color="#E5E5E5"> that box actually</font>

567
00:21:25,289 --> 00:21:28,680
able to<font color="#E5E5E5"> forward packets</font>

568
00:21:26,690 --> 00:21:30,630
but what<font color="#E5E5E5"> you can see</font><font color="#CCCCCC"> from the</font>

569
00:21:28,680 --> 00:21:32,580
multicolored spaghetti is that you have

570
00:21:30,630 --> 00:21:34,410
twice as many packets on the water at

571
00:21:32,580 --> 00:21:36,000
least twice as many packets on the wire

572
00:21:34,410 --> 00:21:38,730
at any one time because<font color="#CCCCCC"> you have to have</font>

573
00:21:36,000 --> 00:21:43,950
independent echo streams between the

574
00:21:38,730 --> 00:21:46,050
routers Andrew<font color="#E5E5E5"> Park in arm with the</font><font color="#CCCCCC"> eco</font>

575
00:21:43,950 --> 00:21:47,820
mode you<font color="#CCCCCC"> have the capability of adding</font>

576
00:21:46,050 --> 00:21:51,110
essentially opaque data so i can<font color="#E5E5E5"> send</font>

577
00:21:47,820 --> 00:21:54,120
<font color="#CCCCCC">you know a one who's all zeros the</font>

578
00:21:51,110 --> 00:21:56,550
format of<font color="#E5E5E5"> the echo packet is outside the</font>

579
00:21:54,120 --> 00:22:00,270
scope of<font color="#CCCCCC"> this specification which is a</font>

580
00:21:56,550 --> 00:22:04,159
phrase you will see numerous times one

581
00:22:00,270 --> 00:22:06,600
of my one of my goals is<font color="#E5E5E5"> to</font><font color="#CCCCCC"> make a a</font>

582
00:22:04,160 --> 00:22:08,820
minimalist specification<font color="#CCCCCC"> that is fully</font>

583
00:22:06,600 --> 00:22:12,620
interoperable and<font color="#E5E5E5"> those things which are</font>

584
00:22:08,820 --> 00:22:15,060
<font color="#CCCCCC">not necessary for interoperability are</font>

585
00:22:12,620 --> 00:22:16,350
in some cases<font color="#CCCCCC"> their hints are here are</font>

586
00:22:15,060 --> 00:22:19,260
some<font color="#CCCCCC"> things you might want</font><font color="#E5E5E5"> to do in</font>

587
00:22:16,350 --> 00:22:21,570
other<font color="#E5E5E5"> cases is just as party on so the</font>

588
00:22:19,260 --> 00:22:25,320
only thing<font color="#E5E5E5"> that's specified about the</font>

589
00:22:21,570 --> 00:22:27,330
echo packets is a UDP port number so

590
00:22:25,320 --> 00:22:29,939
that you can sort<font color="#E5E5E5"> of know what they are</font>

591
00:22:27,330 --> 00:22:31,800
for you<font color="#E5E5E5"> know from outside the protocol</font>

592
00:22:29,940 --> 00:22:33,450
but the payload of said packets is

593
00:22:31,800 --> 00:22:35,730
entirely up to you yeah the length<font color="#E5E5E5"> of</font>

594
00:22:33,450 --> 00:22:38,840
payload is completely<font color="#CCCCCC"> open you can send</font>

595
00:22:35,730 --> 00:22:38,840
whatever you do or<font color="#E5E5E5"> don't want</font>

596
00:22:39,850 --> 00:22:44,539
so as Dave mentioned we handle

597
00:22:42,529 --> 00:22:46,190
unidirectional links because<font color="#E5E5E5"> the packets</font>

598
00:22:44,539 --> 00:22:47,059
can be duck d<font color="#CCCCCC"> machst independently of</font>

599
00:22:46,190 --> 00:22:49,850
the interface from<font color="#E5E5E5"> which they've been</font>

600
00:22:47,059 --> 00:22:51,440
received and via the discriminator field

601
00:22:49,850 --> 00:22:52,699
we can determine<font color="#E5E5E5"> what forwarding planes</font>

602
00:22:51,440 --> 00:22:55,789
were talking about<font color="#E5E5E5"> on</font><font color="#CCCCCC"> the local</font><font color="#E5E5E5"> and</font>

603
00:22:52,700 --> 00:22:57,679
remote end and how this<font color="#CCCCCC"> is implemented</font>

604
00:22:55,789 --> 00:22:59,539
is is basically up to<font color="#E5E5E5"> anybody</font>

605
00:22:57,679 --> 00:23:00,740
implementing it but the key thing there

606
00:22:59,539 --> 00:23:03,860
is that when you're talking about

607
00:23:00,740 --> 00:23:05,840
unidirectional LSPs the packet coming

608
00:23:03,860 --> 00:23:08,029
back or the other stream can be coming

609
00:23:05,840 --> 00:23:09,678
in from anywhere and the protocol can

610
00:23:08,029 --> 00:23:14,299
figure out what the heck is<font color="#E5E5E5"> talking</font>

611
00:23:09,679 --> 00:23:16,789
about so also we wanted to do this over

612
00:23:14,299 --> 00:23:19,850
80 to and taking<font color="#CCCCCC"> a look at the topology</font>

613
00:23:16,789 --> 00:23:21,740
basically it's routers talking to

614
00:23:19,850 --> 00:23:24,678
switches and we want to be able to cover

615
00:23:21,740 --> 00:23:28,159
this particular case<font color="#E5E5E5"> because going from</font>

616
00:23:24,679 --> 00:23:29,750
that ultra generic topology it's<font color="#E5E5E5"> really</font>

617
00:23:28,159 --> 00:23:31,460
what we're<font color="#E5E5E5"> trying to do here</font><font color="#CCCCCC"> is</font><font color="#E5E5E5"> solve</font>

618
00:23:29,750 --> 00:23:34,549
the subnet reach ability problem that we

619
00:23:31,460 --> 00:23:36,440
have on<font color="#E5E5E5"> Ethernet and generally as you</font>

620
00:23:34,549 --> 00:23:39,020
can read in the bullet<font color="#CCCCCC"> points here</font>

621
00:23:36,440 --> 00:23:42,860
basically one<font color="#CCCCCC"> of those uplinks croaks</font>

622
00:23:39,020 --> 00:23:45,379
and goes unidirectional in all<font color="#E5E5E5"> cases the</font>

623
00:23:42,860 --> 00:23:47,928
<font color="#CCCCCC">link doesn't immediately go to downstate</font>

624
00:23:45,380 --> 00:23:50,120
in a timely fashion and so what this

625
00:23:47,929 --> 00:23:53,210
means is that of course looking back at

626
00:23:50,120 --> 00:23:55,370
the picture if one of the two one<font color="#CCCCCC"> of the</font>

627
00:23:53,210 --> 00:23:56,390
router links doesn't actually detect the

628
00:23:55,370 --> 00:23:57,799
failure<font color="#CCCCCC"> and goes you know direction</font>

629
00:23:56,390 --> 00:23:59,360
<font color="#E5E5E5">you're going to be black holing traffic</font>

630
00:23:57,799 --> 00:24:01,908
and we've been seeing this<font color="#E5E5E5"> for years on</font>

631
00:23:59,360 --> 00:24:03,350
Ethernet segments between rep routers

632
00:24:01,909 --> 00:24:05,120
connected via switches or if they're

633
00:24:03,350 --> 00:24:07,639
going directly to something<font color="#CCCCCC"> like a data</font>

634
00:24:05,120 --> 00:24:09,770
farm below that traffic isn't making it

635
00:24:07,640 --> 00:24:12,919
I mean in fact it may be<font color="#E5E5E5"> even worse</font>

636
00:24:09,770 --> 00:24:14,418
because<font color="#E5E5E5"> oftentimes in that topology the</font>

637
00:24:12,919 --> 00:24:17,390
routers are not talking<font color="#E5E5E5"> to one another</font>

638
00:24:14,419 --> 00:24:20,360
on the subnet that has the data farm on

639
00:24:17,390 --> 00:24:22,760
it so one of those links from the<font color="#E5E5E5"> router</font>

640
00:24:20,360 --> 00:24:24,678
to the<font color="#E5E5E5"> switch fails and both routers</font>

641
00:24:22,760 --> 00:24:26,450
continue to announce the subnet as being

642
00:24:24,679 --> 00:24:28,220
reachable and this will persist

643
00:24:26,450 --> 00:24:30,260
indefinitely until the phone starts to

644
00:24:28,220 --> 00:24:31,880
ring so<font color="#E5E5E5"> we have a number of customers</font>

645
00:24:30,260 --> 00:24:38,210
going please please please<font color="#CCCCCC"> please fix</font>

646
00:24:31,880 --> 00:24:39,770
this problem but note<font color="#CCCCCC"> over 80 to echo</font>

647
00:24:38,210 --> 00:24:41,750
mode between switches really doesn't

648
00:24:39,770 --> 00:24:43,010
work switches don't work that ethernet

649
00:24:41,750 --> 00:24:45,620
switches don't work this way where you

650
00:24:43,010 --> 00:24:47,030
can<font color="#E5E5E5"> basically just switch back to the</font>

651
00:24:45,620 --> 00:24:49,580
mac address from which it was<font color="#CCCCCC"> since so</font>

652
00:24:47,030 --> 00:24:50,990
this is the case as<font color="#CCCCCC"> you</font><font color="#E5E5E5"> can see in the</font>

653
00:24:49,580 --> 00:24:56,418
gerontology that we're<font color="#E5E5E5"> using a sync mode</font>

654
00:24:50,990 --> 00:24:58,280
between these switches so how can<font color="#CCCCCC"> we</font>

655
00:24:56,419 --> 00:25:01,070
what does independent streams really buy

656
00:24:58,280 --> 00:25:02,418
us well what this allows<font color="#CCCCCC"> us to do</font><font color="#E5E5E5"> is</font>

657
00:25:01,070 --> 00:25:04,280
have independent streams for

658
00:25:02,419 --> 00:25:06,140
address-family so we can detect when

659
00:25:04,280 --> 00:25:08,000
specific address families go down versus

660
00:25:06,140 --> 00:25:10,370
others and don't necessarily<font color="#CCCCCC"> have to</font>

661
00:25:08,000 --> 00:25:12,429
take down and in all forwarding plans on

662
00:25:10,370 --> 00:25:15,110
a card including of course the

663
00:25:12,429 --> 00:25:17,030
multiverse issue and<font color="#E5E5E5"> you can have</font>

664
00:25:15,110 --> 00:25:18,799
independent streams pervert as well so

665
00:25:17,030 --> 00:25:19,970
you<font color="#CCCCCC"> can actually get to</font><font color="#E5E5E5"> the point where</font>

666
00:25:18,799 --> 00:25:22,039
you can figure out what births are up

667
00:25:19,970 --> 00:25:24,039
versus what verbs<font color="#CCCCCC"> maybe</font><font color="#E5E5E5"> having</font><font color="#CCCCCC"> issues</font>

668
00:25:22,039 --> 00:25:27,620
for one particular reason<font color="#CCCCCC"> or another and</font>

669
00:25:24,039 --> 00:25:29,620
<font color="#CCCCCC">of course the independence echoes as</font>

670
00:25:27,620 --> 00:25:31,879
well as a sync mode works just fine for

671
00:25:29,620 --> 00:25:35,419
a dress<font color="#CCCCCC"> super different</font><font color="#E5E5E5"> address family</font>

672
00:25:31,880 --> 00:25:38,690
or different birth failure detection

673
00:25:35,420 --> 00:25:39,860
so I think<font color="#CCCCCC"> we</font><font color="#E5E5E5"> might be just about done</font>

674
00:25:38,690 --> 00:25:43,130
I've only got a couple slides of less

675
00:25:39,860 --> 00:25:45,729
left so basically<font color="#CCCCCC"> in conclusion we think</font>

676
00:25:43,130 --> 00:25:48,530
the protocols really simple<font color="#CCCCCC"> it's not</font>

677
00:25:45,730 --> 00:25:50,150
trying<font color="#E5E5E5"> to be the aggregated hello for</font>

678
00:25:48,530 --> 00:25:52,610
all other protocols moved into a new

679
00:25:50,150 --> 00:25:54,710
protocol instead we leave our routing

680
00:25:52,610 --> 00:25:57,439
protocols just the way they are running

681
00:25:54,710 --> 00:25:59,510
<font color="#E5E5E5">in the faster fashion and manner and</font>

682
00:25:57,440 --> 00:26:01,880
configuration which we've all grown to

683
00:25:59,510 --> 00:26:03,350
know and love and instead we can tweak

684
00:26:01,880 --> 00:26:04,580
<font color="#E5E5E5">the heck out of this really simple</font>

685
00:26:03,350 --> 00:26:06,949
protocol<font color="#E5E5E5"> that's running really really</font>

686
00:26:04,580 --> 00:26:08,720
fast because<font color="#CCCCCC"> it's fairly simple and</font>

687
00:26:06,950 --> 00:26:10,370
because it's a fixed field we think it

688
00:26:08,720 --> 00:26:12,290
might be fairly<font color="#CCCCCC"> easy to</font><font color="#E5E5E5"> implement and</font>

689
00:26:10,370 --> 00:26:13,610
<font color="#E5E5E5">it's decoupled we can handle</font><font color="#CCCCCC"> both</font>

690
00:26:12,290 --> 00:26:16,190
bidirectional and you<font color="#E5E5E5"> two directional</font>

691
00:26:13,610 --> 00:26:17,929
failures we can have adaptive changes to

692
00:26:16,190 --> 00:26:19,280
any of the values or so in the packets

693
00:26:17,930 --> 00:26:20,780
itself so that way we're not tearing

694
00:26:19,280 --> 00:26:22,399
<font color="#CCCCCC">down sessions and necessarily</font><font color="#E5E5E5"> having</font>

695
00:26:20,780 --> 00:26:25,820
false notifications just because the

696
00:26:22,400 --> 00:26:27,140
<font color="#CCCCCC">values changed as I mentioned we can do</font>

697
00:26:25,820 --> 00:26:29,629
this<font color="#E5E5E5"> without upgrading software when the</font>

698
00:26:27,140 --> 00:26:32,150
switch is it between<font color="#E5E5E5"> the routers and one</font>

699
00:26:29,630 --> 00:26:33,650
last thing I wanted to<font color="#CCCCCC"> know was that</font><font color="#E5E5E5"> the</font>

700
00:26:32,150 --> 00:26:36,320
protocol liveness protocol as i

701
00:26:33,650 --> 00:26:37,910
mentioned from creating this<font color="#CCCCCC"> VFD with</font>

702
00:26:36,320 --> 00:26:41,689
Korea's agreement is going to<font color="#E5E5E5"> replace</font>

703
00:26:37,910 --> 00:26:45,170
that<font color="#E5E5E5"> idea and that idea is just going to</font>

704
00:26:41,690 --> 00:26:50,090
stay in<font color="#CCCCCC"> the books for history so</font>

705
00:26:45,170 --> 00:26:52,010
basically from our from the negotiations

706
00:26:50,090 --> 00:26:54,500
that Dave<font color="#E5E5E5"> and I made at his pool we got</font>

707
00:26:52,010 --> 00:26:55,610
this<font color="#CCCCCC"> picture and really bfg is detecting</font>

708
00:26:54,500 --> 00:27:02,390
when the forwarding plane has gone belly

709
00:26:55,610 --> 00:27:04,100
up go ahead<font color="#E5E5E5"> soo umm my life</font><font color="#CCCCCC"> okay um one</font>

710
00:27:02,390 --> 00:27:08,390
question is some people<font color="#CCCCCC"> are looking for</font>

711
00:27:04,100 --> 00:27:11,330
millisecond<font color="#E5E5E5"> turnover for some of the</font>

712
00:27:08,390 --> 00:27:13,130
modems right voice over IP if you go to

713
00:27:11,330 --> 00:27:14,480
millisecond and they're looking<font color="#CCCCCC"> at 20</font>

714
00:27:13,130 --> 00:27:16,580
milliseconds how are you going to go

715
00:27:14,480 --> 00:27:20,210
below<font color="#E5E5E5"> that</font><font color="#CCCCCC"> before the aliveness</font>

716
00:27:16,580 --> 00:27:22,490
detection<font color="#CCCCCC"> piece it's an implement</font><font color="#E5E5E5"> it's</font>

717
00:27:20,210 --> 00:27:24,410
an implementation issue so there's

718
00:27:22,490 --> 00:27:28,250
there's nothing in the protocol to

719
00:27:24,410 --> 00:27:31,970
preclude arbitrarily fast detection it

720
00:27:28,250 --> 00:27:34,070
really boils down to you<font color="#CCCCCC"> know from</font><font color="#E5E5E5"> a</font>

721
00:27:31,970 --> 00:27:36,170
practicality standpoint what can you do

722
00:27:34,070 --> 00:27:38,060
in software what can you you<font color="#E5E5E5"> know what</font>

723
00:27:36,170 --> 00:27:39,290
can you do and distributed software what

724
00:27:38,060 --> 00:27:41,840
can you do with a little<font color="#E5E5E5"> bit of hardware</font>

725
00:27:39,290 --> 00:27:45,050
assist right on i suspect the answer to

726
00:27:41,840 --> 00:27:47,480
how fast is going to be you know improve

727
00:27:45,050 --> 00:27:49,790
an order of magnitude you know with with

728
00:27:47,480 --> 00:27:52,000
each architectural you know<font color="#CCCCCC"> i don't</font>

729
00:27:49,790 --> 00:27:55,190
we're not going to get 5 millisecond

730
00:27:52,000 --> 00:27:56,840
detection times in the first release but

731
00:27:55,190 --> 00:27:59,570
you know if we could get you<font color="#CCCCCC"> know</font><font color="#E5E5E5"> map</font>

732
00:27:56,840 --> 00:28:01,100
chip manufacturers to bury this in the

733
00:27:59,570 --> 00:28:03,950
silicon<font color="#E5E5E5"> that would be really nice yeah</font>

734
00:28:01,100 --> 00:28:05,959
um<font color="#CCCCCC"> I was</font><font color="#E5E5E5"> commenting on your earlier</font>

735
00:28:03,950 --> 00:28:07,490
place when you said millisecond in the

736
00:28:05,960 --> 00:28:13,340
size of field and I want to<font color="#E5E5E5"> think about</font>

737
00:28:07,490 --> 00:28:15,470
the field is in microseconds yeah so how

738
00:28:13,340 --> 00:28:18,919
does<font color="#E5E5E5"> this relate to the forces work I</font>

739
00:28:15,470 --> 00:28:20,540
mean this this is<font color="#E5E5E5"> moderate a moment to</font>

740
00:28:18,920 --> 00:28:23,300
which we are<font color="#E5E5E5"> the forces work which</font><font color="#CCCCCC"> is</font>

741
00:28:20,540 --> 00:28:26,690
talking<font color="#E5E5E5"> about downloading things from a</font>

742
00:28:23,300 --> 00:28:29,440
central processor into fording point

743
00:28:26,690 --> 00:28:29,440
processors

744
00:28:33,149 --> 00:28:41,379
you

745
00:28:34,720 --> 00:28:44,260
shift left so basically this could be

746
00:28:41,380 --> 00:28:46,120
part<font color="#E5E5E5"> of the forces work depending on the</font>

747
00:28:44,260 --> 00:28:47,679
<font color="#E5E5E5">the control plane or how the</font>

748
00:28:46,120 --> 00:28:49,750
implementation is done inside the router

749
00:28:47,679 --> 00:28:50,590
the protocol can<font color="#E5E5E5"> be plugged as I</font>

750
00:28:49,750 --> 00:28:52,559
mentioned through the different

751
00:28:50,590 --> 00:28:55,240
scenarios<font color="#CCCCCC"> in two different failures that</font>

752
00:28:52,559 --> 00:28:56,370
forces deems important or different

753
00:28:55,240 --> 00:28:59,260
<font color="#CCCCCC">things that they want to specify</font>

754
00:28:56,370 --> 00:29:00,668
basically how it fits together is I

755
00:28:59,260 --> 00:29:02,260
think<font color="#CCCCCC"> they've kind of summed it up that</font>

756
00:29:00,669 --> 00:29:03,909
because the hooks are there to hook it

757
00:29:02,260 --> 00:29:06,850
into everything it's everything<font color="#E5E5E5"> to</font>

758
00:29:03,909 --> 00:29:08,559
everybody so you're seeing<font color="#E5E5E5"> it as a</font>

759
00:29:06,850 --> 00:29:12,158
heartbeat protocol for the forces

760
00:29:08,559 --> 00:29:14,139
download negotiations it think of it as

761
00:29:12,159 --> 00:29:16,000
this little<font color="#E5E5E5"> box on the side which</font>

762
00:29:14,140 --> 00:29:18,250
occasionally something pops out at the

763
00:29:16,000 --> 00:29:19,929
top that says you I can't reach this

764
00:29:18,250 --> 00:29:21,400
neighbors forwarding plane anymore oh I

765
00:29:19,929 --> 00:29:22,750
can reach this neighbors forwarding

766
00:29:21,400 --> 00:29:24,789
plane now and then it's an

767
00:29:22,750 --> 00:29:26,590
implementation issue after that it to

768
00:29:24,789 --> 00:29:28,270
take care<font color="#E5E5E5"> of the actual know do whatever</font>

769
00:29:26,590 --> 00:29:35,260
kids do whatever you want to do<font color="#E5E5E5"> within</font>

770
00:29:28,270 --> 00:29:39,520
your system right Randy<font color="#CCCCCC"> bush I hi Jay</font>

771
00:29:35,260 --> 00:29:44,440
I'm just a dumb operator and what's this

772
00:29:39,520 --> 00:29:46,210
gonna mean to me um no are you saying

773
00:29:44,440 --> 00:29:49,030
that you're going<font color="#E5E5E5"> to start slipping this</font>

774
00:29:46,210 --> 00:29:51,490
stuff under for instance is is or

775
00:29:49,030 --> 00:29:55,720
<font color="#E5E5E5">whatever that</font><font color="#CCCCCC"> other right that otherwise</font>

776
00:29:51,490 --> 00:29:58,539
their protocol yeah yeah<font color="#E5E5E5"> bgp and so</font><font color="#CCCCCC"> i'm</font>

777
00:29:55,720 --> 00:30:02,610
going<font color="#CCCCCC"> to see different convergence</font>

778
00:29:58,539 --> 00:30:05,020
characteristics that am<font color="#CCCCCC"> i going</font><font color="#E5E5E5"> to see</font>

779
00:30:02,610 --> 00:30:07,539
this is everything to everybody and has

780
00:30:05,020 --> 00:30:09,610
all this wonderful tuning stuff am<font color="#CCCCCC"> i</font>

781
00:30:07,539 --> 00:30:11,260
going<font color="#E5E5E5"> to see interesting things that</font><font color="#CCCCCC"> i'm</font>

782
00:30:09,610 --> 00:30:13,178
going<font color="#E5E5E5"> to have to work out with in my</font>

783
00:30:11,260 --> 00:30:18,340
networking with my neighbors as far as

784
00:30:13,179 --> 00:30:20,289
tuning timing is this what's the thing

785
00:30:18,340 --> 00:30:22,090
we like driving this thing and where

786
00:30:20,289 --> 00:30:26,020
does it<font color="#E5E5E5"> show up in my queries where is</font>

787
00:30:22,090 --> 00:30:29,799
it show up<font color="#CCCCCC"> and the config 11 can imagine</font>

788
00:30:26,020 --> 00:30:33,879
a scenario with in perhaps in your ISS

789
00:30:29,799 --> 00:30:36,789
or ospf interfaces section oh yeah that

790
00:30:33,880 --> 00:30:38,409
other thing that we suppress it's a

791
00:30:36,789 --> 00:30:42,100
little<font color="#E5E5E5"> extra line popping up down there</font>

792
00:30:38,409 --> 00:30:44,140
that says<font color="#E5E5E5"> I would like to leverage BFD</font>

793
00:30:42,100 --> 00:30:48,340
notifications please

794
00:30:44,140 --> 00:30:52,300
and perhaps you know you might have a

795
00:30:48,340 --> 00:30:55,500
and I'd like<font color="#E5E5E5"> to</font><font color="#CCCCCC"> try to reach a detection</font>

796
00:30:52,300 --> 00:30:58,720
time I really want to do<font color="#CCCCCC"> that because</font>

797
00:30:55,500 --> 00:31:01,300
well<font color="#CCCCCC"> okay I could make you I could just</font>

798
00:30:58,720 --> 00:31:03,400
make it happen automatically but no but

799
00:31:01,300 --> 00:31:06,730
right why do I really<font color="#CCCCCC"> want to</font><font color="#E5E5E5"> do this</font>

800
00:31:03,400 --> 00:31:09,940
<font color="#E5E5E5">okay well the easy scenario is people</font>

801
00:31:06,730 --> 00:31:12,160
with ethernet sin there pops who have

802
00:31:09,940 --> 00:31:14,620
you know<font color="#E5E5E5"> ends second detection times</font>

803
00:31:12,160 --> 00:31:16,900
when the plug falls out of the switch

804
00:31:14,620 --> 00:31:18,879
powers down or the<font color="#E5E5E5"> neighboring router</font>

805
00:31:16,900 --> 00:31:21,070
goes down because<font color="#E5E5E5"> you don't have any you</font>

806
00:31:18,880 --> 00:31:25,090
know any<font color="#E5E5E5"> signaling other than the</font>

807
00:31:21,070 --> 00:31:28,540
protocol<font color="#CCCCCC"> igp hellos that's that's</font>

808
00:31:25,090 --> 00:31:33,699
probably the the first order helper for

809
00:31:28,540 --> 00:31:36,639
most people and<font color="#E5E5E5"> as far as tuning goes</font>

810
00:31:33,700 --> 00:31:40,330
I'm you know I've converted from knobs

811
00:31:36,640 --> 00:31:43,330
are great too there are a hundred ways

812
00:31:40,330 --> 00:31:47,260
<font color="#E5E5E5">to set configurations only one of them</font>

813
00:31:43,330 --> 00:31:49,570
<font color="#CCCCCC">will actually work so it's part of the</font>

814
00:31:47,260 --> 00:31:51,340
creative implementation side of this but

815
00:31:49,570 --> 00:31:54,310
<font color="#CCCCCC">there's nothing to preclude having no</font>

816
00:31:51,340 --> 00:31:58,149
knobs and having this just run multiple

817
00:31:54,310 --> 00:32:00,280
vendors well then the if one of them

818
00:31:58,150 --> 00:32:02,260
does a particularly good job of working

819
00:32:00,280 --> 00:32:03,730
with no naps it will force the other one

820
00:32:02,260 --> 00:32:07,780
to play along because of the way the

821
00:32:03,730 --> 00:32:10,350
protocol was so in addition I agree we

822
00:32:07,780 --> 00:32:12,520
do that ethernet is kind of the primary

823
00:32:10,350 --> 00:32:14,500
motivation for most operators but<font color="#E5E5E5"> the</font>

824
00:32:12,520 --> 00:32:16,389
other one is that as I went<font color="#CCCCCC"> through the</font>

825
00:32:14,500 --> 00:32:17,590
<font color="#E5E5E5">scenarios of potential internal failure</font>

826
00:32:16,390 --> 00:32:19,390
conditions to a router the router

827
00:32:17,590 --> 00:32:20,949
actually can now tell the other side

828
00:32:19,390 --> 00:32:23,050
that it went brain dead for some

829
00:32:20,950 --> 00:32:24,910
definition of<font color="#E5E5E5"> brain dead and in the</font><font color="#CCCCCC"> past</font>

830
00:32:23,050 --> 00:32:26,590
all we had the ability to do was wait

831
00:32:24,910 --> 00:32:28,210
<font color="#CCCCCC">for other the igp hellos or wait for</font>

832
00:32:26,590 --> 00:32:30,760
<font color="#CCCCCC">their thing to be just hosed and sit</font>

833
00:32:28,210 --> 00:32:32,620
<font color="#CCCCCC">there until</font><font color="#E5E5E5"> the phone rang and we and</font>

834
00:32:30,760 --> 00:32:34,270
then somebody had to do something about

835
00:32:32,620 --> 00:32:36,159
it so hopefully<font color="#CCCCCC"> we couldn't solve those</font>

836
00:32:34,270 --> 00:32:38,580
two or come close to solving those two

837
00:32:36,160 --> 00:32:43,180
meta problems

838
00:32:38,580 --> 00:32:46,720
Thanks there's also liveness on GRE

839
00:32:43,180 --> 00:32:51,220
tunnels and LSPs and things that are

840
00:32:46,720 --> 00:32:53,320
kind<font color="#E5E5E5"> of missing right now but</font><font color="#CCCCCC"> okay avi</font>

841
00:32:51,220 --> 00:32:56,980
<font color="#E5E5E5">Friedman I think I think it's a very</font>

842
00:32:53,320 --> 00:32:58,840
interesting area of work i<font color="#CCCCCC"> think is an</font>

843
00:32:56,980 --> 00:33:03,060
operator<font color="#E5E5E5"> i think it's interesting but</font>

844
00:32:58,840 --> 00:33:05,500
one of the things<font color="#E5E5E5"> that keeps that keeps</font>

845
00:33:03,060 --> 00:33:09,310
some people awake at night is actually

846
00:33:05,500 --> 00:33:12,670
not just whether or<font color="#E5E5E5"> not the realm</font>

847
00:33:09,310 --> 00:33:14,230
processor the main<font color="#E5E5E5"> cpu of one matter can</font>

848
00:33:12,670 --> 00:33:15,940
talk to another but<font color="#E5E5E5"> whether the</font>

849
00:33:14,230 --> 00:33:18,310
forwarding information has actually been

850
00:33:15,940 --> 00:33:21,400
propagated properly across all the line

851
00:33:18,310 --> 00:33:23,379
cards in the router and this doesn't you

852
00:33:21,400 --> 00:33:25,270
know applies to some vendors<font color="#E5E5E5"> not others</font>

853
00:33:23,380 --> 00:33:27,280
that I<font color="#CCCCCC"> no</font><font color="#E5E5E5"> need to pay particularly bit</font>

854
00:33:25,270 --> 00:33:28,660
just it's true<font color="#E5E5E5"> that in general six years</font>

855
00:33:27,280 --> 00:33:30,190
ago you<font color="#E5E5E5"> know the router would be up or</font>

856
00:33:28,660 --> 00:33:31,990
rebooting<font color="#E5E5E5"> and now there are a lot of</font>

857
00:33:30,190 --> 00:33:34,210
different<font color="#CCCCCC"> ways in which multiple vendors</font>

858
00:33:31,990 --> 00:33:38,950
devices can become sort of confused I

859
00:33:34,210 --> 00:33:41,590
think<font color="#E5E5E5"> that extension of this if it works</font>

860
00:33:38,950 --> 00:33:43,630
well<font color="#E5E5E5"> in the way you're describing to</font>

861
00:33:41,590 --> 00:33:46,270
look at how you could perhaps detect

862
00:33:43,630 --> 00:33:48,250
inconsistencies in line cards that are

863
00:33:46,270 --> 00:33:49,690
hard to find<font color="#E5E5E5"> because sometimes</font><font color="#CCCCCC"> it</font>

864
00:33:48,250 --> 00:33:51,580
depends on<font color="#E5E5E5"> the source interface and the</font>

865
00:33:49,690 --> 00:33:52,900
dest interface you know the testing

866
00:33:51,580 --> 00:33:54,790
takes I<font color="#E5E5E5"> think that would be an</font>

867
00:33:52,900 --> 00:33:59,110
<font color="#E5E5E5">interesting area so it's an interesting</font>

868
00:33:54,790 --> 00:34:01,810
problem I think it's one<font color="#E5E5E5"> within with an</font>

869
00:33:59,110 --> 00:34:03,729
infinite<font color="#CCCCCC"> number of causes I mean this is</font>

870
00:34:01,810 --> 00:34:06,399
sort of like how do you write software

871
00:34:03,730 --> 00:34:08,139
that detects all software bugs well and

872
00:34:06,400 --> 00:34:10,300
and but but one of the fundamental

873
00:34:08,139 --> 00:34:12,490
problems is you identify of the graceful

874
00:34:10,300 --> 00:34:13,990
failover is you know when are you dead

875
00:34:12,489 --> 00:34:15,699
enough when are you confused enough that

876
00:34:13,989 --> 00:34:17,739
you actually want<font color="#CCCCCC"> to do the switch right</font>

877
00:34:15,699 --> 00:34:20,259
and Akamai you know one of the things we

878
00:34:17,739 --> 00:34:22,839
run as the world's<font color="#E5E5E5"> largest inconsistent</font>

879
00:34:20,260 --> 00:34:24,460
forwarding plane detector because we

880
00:34:22,840 --> 00:34:25,899
<font color="#CCCCCC">talk to the provider we say you can't</font>

881
00:34:24,460 --> 00:34:27,850
get somewhere and<font color="#CCCCCC"> they say look I can I</font>

882
00:34:25,899 --> 00:34:28,989
ping from the router they say well you

883
00:34:27,850 --> 00:34:31,629
probably need to<font color="#E5E5E5"> come from the right</font>

884
00:34:28,989 --> 00:34:32,979
service interface to verify this and

885
00:34:31,629 --> 00:34:34,179
they go<font color="#E5E5E5"> oh look at that we do need</font><font color="#CCCCCC"> to</font>

886
00:34:32,980 --> 00:34:37,600
reboot the device we just didn't know

887
00:34:34,179 --> 00:34:38,960
well I<font color="#E5E5E5"> one could certainly use BFD as</font>

888
00:34:37,600 --> 00:34:43,098
the

889
00:34:38,960 --> 00:34:46,629
you know as the hated messenger yeah the

890
00:34:43,099 --> 00:34:49,339
<font color="#CCCCCC">the problem of how do I tell whether my</font>

891
00:34:46,629 --> 00:34:50,779
<font color="#E5E5E5">hoarding tables my in forwarding tables</font>

892
00:34:49,339 --> 00:34:52,520
are all consistent is certainly all

893
00:34:50,780 --> 00:34:54,589
right I<font color="#E5E5E5"> don't want product I don't want</font>

894
00:34:52,520 --> 00:34:56,869
to pick<font color="#E5E5E5"> on that in particular</font><font color="#CCCCCC"> right but</font>

895
00:34:54,589 --> 00:34:59,180
but for example you<font color="#CCCCCC"> know if you have a</font>

896
00:34:56,869 --> 00:35:01,369
you know little gnomes running around in

897
00:34:59,180 --> 00:35:02,990
your router comparing tables yeah<font color="#E5E5E5"> and</font>

898
00:35:01,369 --> 00:35:05,170
you find that they don't compare and

899
00:35:02,990 --> 00:35:08,089
you're<font color="#E5E5E5"> not</font><font color="#CCCCCC"> sure what to do then you can</font>

900
00:35:05,170 --> 00:35:09,830
kick BFD and say please tell the other

901
00:35:08,089 --> 00:35:12,529
guy to like not talk to me for a while

902
00:35:09,830 --> 00:35:16,270
<font color="#E5E5E5">yeah and those hooks are there in the</font>

903
00:35:12,530 --> 00:35:16,270
protocol<font color="#CCCCCC"> okay thanks</font>

904
00:35:22,070 --> 00:35:27,610
I guess the days are done thank you no

905
00:35:24,920 --> 00:35:27,610
yes

