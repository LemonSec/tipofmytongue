1
00:00:01,070 --> 00:00:07,140
<font color="#E5E5E5">okay it's technically two o'clock</font><font color="#CCCCCC"> so I</font>

2
00:00:03,629 --> 00:00:10,230
guess I<font color="#CCCCCC"> get</font><font color="#E5E5E5"> started so this is a</font>

3
00:00:07,140 --> 00:00:11,399
tutorial<font color="#CCCCCC"> on how to</font><font color="#E5E5E5"> use traceroute and</font>

4
00:00:10,230 --> 00:00:13,230
I'm sure a<font color="#E5E5E5"> lot of people</font><font color="#CCCCCC"> in this room</font>

5
00:00:11,400 --> 00:00:14,420
<font color="#CCCCCC">think they know how to use traceroute or</font>

6
00:00:13,230 --> 00:00:17,430
do you know how to use traceroute

7
00:00:14,420 --> 00:00:20,250
<font color="#E5E5E5">properly but the</font><font color="#CCCCCC"> point</font><font color="#E5E5E5"> of this is</font><font color="#CCCCCC"> to</font>

8
00:00:17,430 --> 00:00:23,240
provide an archive for<font color="#E5E5E5"> people to provide</font>

9
00:00:20,250 --> 00:00:27,150
a reference<font color="#E5E5E5"> that people can look at</font>

10
00:00:23,240 --> 00:00:29,220
things<font color="#CCCCCC"> like that</font><font color="#E5E5E5"> so</font><font color="#CCCCCC"> your troubleshooting</font>

11
00:00:27,150 --> 00:00:30,330
<font color="#CCCCCC">a problem on the</font><font color="#E5E5E5"> Internet</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> all of us</font>

12
00:00:29,220 --> 00:00:32,339
do that<font color="#CCCCCC"> every day</font>

13
00:00:30,330 --> 00:00:34,469
the number one go-to tool obviously<font color="#E5E5E5"> is</font>

14
00:00:32,340 --> 00:00:37,320
traceroute every OS comes with

15
00:00:34,469 --> 00:00:40,260
traceroute<font color="#CCCCCC"> there's billions</font><font color="#E5E5E5"> of websites</font>

16
00:00:37,320 --> 00:00:43,110
<font color="#E5E5E5">out there that have looking glasses that</font>

17
00:00:40,260 --> 00:00:44,910
have visual<font color="#CCCCCC"> tracer aisle tools</font><font color="#E5E5E5"> all of</font>

18
00:00:43,110 --> 00:00:47,370
your customers<font color="#CCCCCC"> and clients have</font>

19
00:00:44,910 --> 00:00:49,739
traceroute and anyone that's<font color="#E5E5E5"> ever looked</font>

20
00:00:47,370 --> 00:00:52,879
at their<font color="#CCCCCC"> NOC tickets</font><font color="#E5E5E5"> is well aware of</font>

21
00:00:49,739 --> 00:00:55,468
that<font color="#E5E5E5"> and it seems really simple to use</font>

22
00:00:52,879 --> 00:00:57,030
<font color="#CCCCCC">there's you know you you type in an IP</font>

23
00:00:55,469 --> 00:01:00,420
address<font color="#CCCCCC"> and you see a list</font><font color="#E5E5E5"> of routes in</font>

24
00:00:57,030 --> 00:01:02,789
your path and anyone<font color="#E5E5E5"> that's ever looked</font>

25
00:01:00,420 --> 00:01:04,680
<font color="#E5E5E5">at they're not</font><font color="#CCCCCC"> cues realizes that</font><font color="#E5E5E5"> most</font>

26
00:01:02,789 --> 00:01:06,330
of the world thinks<font color="#CCCCCC"> that</font><font color="#E5E5E5"> wherever the</font>

27
00:01:04,680 --> 00:01:09,590
traceroute stops or wherever the latency

28
00:01:06,330 --> 00:01:11,429
goes<font color="#E5E5E5"> up that's where the problem is and</font>

29
00:01:09,590 --> 00:01:13,110
then they will send you<font color="#E5E5E5"> email</font>

30
00:01:11,430 --> 00:01:15,659
accordingly<font color="#CCCCCC"> and it turns out</font><font color="#E5E5E5"> that</font>

31
00:01:13,110 --> 00:01:15,869
<font color="#E5E5E5">reality</font><font color="#CCCCCC"> couldn't be</font><font color="#E5E5E5"> further from the</font>

32
00:01:15,659 --> 00:01:18,570
truth

33
00:01:15,869 --> 00:01:19,890
<font color="#E5E5E5">and by the way this is I don't know how</font>

34
00:01:18,570 --> 00:01:21,210
I'm<font color="#E5E5E5"> gonna fill an hour and a half so</font>

35
00:01:19,890 --> 00:01:23,270
everyone feel free to ask lots of

36
00:01:21,210 --> 00:01:23,270
questions

37
00:01:23,840 --> 00:01:33,329
<font color="#E5E5E5">so no cookies so what's wrong with with</font>

38
00:01:31,439 --> 00:01:35,189
<font color="#E5E5E5">just looking</font><font color="#CCCCCC"> at traceroute</font><font color="#E5E5E5"> and seeing</font>

39
00:01:33,329 --> 00:01:37,380
where the problem<font color="#E5E5E5"> is and and there you</font>

40
00:01:35,189 --> 00:01:38,729
go well it turns<font color="#E5E5E5"> out that these days</font>

41
00:01:37,380 --> 00:01:42,329
most networks are actually<font color="#CCCCCC"> pretty</font><font color="#E5E5E5"> well</font>

42
00:01:38,729 --> 00:01:44,700
run<font color="#CCCCCC"> obviously there's exceptions to the</font>

43
00:01:42,329 --> 00:01:48,360
<font color="#CCCCCC">rule but for the most part</font><font color="#E5E5E5"> you don't see</font>

44
00:01:44,700 --> 00:01:49,590
as often the situation<font color="#E5E5E5"> where oh look</font>

45
00:01:48,360 --> 00:01:51,360
it's<font color="#E5E5E5"> a congested link and traceroute</font>

46
00:01:49,590 --> 00:01:53,970
shows it to<font color="#E5E5E5"> me instantly on my forward</font>

47
00:01:51,360 --> 00:01:56,939
path<font color="#E5E5E5"> more and more you're seeing complex</font>

48
00:01:53,970 --> 00:01:58,350
issues you're seeing<font color="#E5E5E5"> problems we're just</font>

49
00:01:56,939 --> 00:02:00,148
looking<font color="#E5E5E5"> at</font><font color="#CCCCCC"> traceroute</font><font color="#E5E5E5"> and seeing where</font>

50
00:01:58,350 --> 00:02:02,579
the latency goes<font color="#E5E5E5"> up or where it stops</font><font color="#CCCCCC"> is</font>

51
00:02:00,149 --> 00:02:04,110
absolutely no value<font color="#E5E5E5"> at all</font><font color="#CCCCCC"> and the</font>

52
00:02:02,579 --> 00:02:06,829
<font color="#E5E5E5">reality is</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> very few</font><font color="#CCCCCC"> people</font><font color="#E5E5E5"> are</font>

53
00:02:04,110 --> 00:02:09,628
<font color="#E5E5E5">actually skilled at reading traceroute</font>

54
00:02:06,829 --> 00:02:11,180
anyone that has ever sent in a

55
00:02:09,628 --> 00:02:12,950
<font color="#E5E5E5">traceroute to another network</font>

56
00:02:11,180 --> 00:02:15,829
<font color="#CCCCCC">a lot of the time</font><font color="#E5E5E5"> snows</font><font color="#CCCCCC"> that they just</font>

57
00:02:12,950 --> 00:02:17,929
<font color="#E5E5E5">get dismissed</font><font color="#CCCCCC"> because</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> people reading</font>

58
00:02:15,829 --> 00:02:19,549
the trace routes<font color="#E5E5E5"> are trained to dismiss</font>

59
00:02:17,930 --> 00:02:21,019
everything<font color="#E5E5E5"> because the vast</font><font color="#CCCCCC"> majority of</font>

60
00:02:19,549 --> 00:02:24,560
the complaints<font color="#CCCCCC"> that come in are</font>

61
00:02:21,019 --> 00:02:26,420
<font color="#CCCCCC">completely false or whatever so you know</font>

62
00:02:24,560 --> 00:02:29,989
there's not a<font color="#E5E5E5"> lot of</font><font color="#CCCCCC"> knowledge out there</font>

63
00:02:26,420 --> 00:02:34,638
<font color="#CCCCCC">about how to correctly read and</font>

64
00:02:29,989 --> 00:02:36,680
understand the traceroute<font color="#E5E5E5"> so the topics</font>

65
00:02:34,639 --> 00:02:39,079
<font color="#E5E5E5">to discuss here</font><font color="#CCCCCC"> I talked about</font><font color="#E5E5E5"> how</font>

66
00:02:36,680 --> 00:02:40,790
traceroute works in general<font color="#CCCCCC"> or talking</font>

67
00:02:39,079 --> 00:02:41,150
<font color="#E5E5E5">about how to interpret</font><font color="#CCCCCC"> dns</font><font color="#E5E5E5"> and</font>

68
00:02:40,790 --> 00:02:44,720
traceroute

69
00:02:41,150 --> 00:02:46,700
<font color="#E5E5E5">figure</font><font color="#CCCCCC"> out what City the routers in</font><font color="#E5E5E5"> what</font>

70
00:02:44,720 --> 00:02:50,120
type<font color="#CCCCCC"> of router it is what speed the</font>

71
00:02:46,700 --> 00:02:51,709
interfaces are things like<font color="#E5E5E5"> that</font><font color="#CCCCCC"> how to</font>

72
00:02:50,120 --> 00:02:53,090
understand the<font color="#CCCCCC"> network latency</font>

73
00:02:51,709 --> 00:02:54,590
understand when<font color="#E5E5E5"> there's a problem when</font>

74
00:02:53,090 --> 00:02:57,019
there's<font color="#E5E5E5"> not a problem</font><font color="#CCCCCC"> well what are the</font>

75
00:02:54,590 --> 00:02:59,389
contributing<font color="#CCCCCC"> factors to understand</font>

76
00:02:57,019 --> 00:03:00,709
asymmetric paths and traceroute to

77
00:02:59,389 --> 00:03:03,079
understand multiple<font color="#E5E5E5"> paths</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> traceroute</font>

78
00:03:00,709 --> 00:03:05,419
<font color="#E5E5E5">and understand some</font><font color="#CCCCCC"> of the effects of</font>

79
00:03:03,079 --> 00:03:08,120
MPLS networks when<font color="#CCCCCC"> you're trace routing</font>

80
00:03:05,419 --> 00:03:11,150
through<font color="#E5E5E5"> them and</font><font color="#CCCCCC"> just as a random</font><font color="#E5E5E5"> tracer</font>

81
00:03:08,120 --> 00:03:13,489
<font color="#CCCCCC">I'll</font><font color="#E5E5E5"> factoid anyone that uses the UNIX</font>

82
00:03:11,150 --> 00:03:14,900
version<font color="#E5E5E5"> of</font><font color="#CCCCCC"> tracer out knows that the</font>

83
00:03:13,489 --> 00:03:17,750
port starts from<font color="#CCCCCC"> three three four three</font>

84
00:03:14,900 --> 00:03:21,229
<font color="#CCCCCC">four</font><font color="#E5E5E5"> which turns out to</font><font color="#CCCCCC"> be you know</font><font color="#E5E5E5"> ^</font>

85
00:03:17,750 --> 00:03:24,370
<font color="#CCCCCC">15th plus the mark of Satan which there</font>

86
00:03:21,229 --> 00:03:24,370
might<font color="#CCCCCC"> be some</font><font color="#E5E5E5"> relationship</font><font color="#CCCCCC"> there</font>

87
00:03:24,699 --> 00:03:29,419
so the 10,000<font color="#CCCCCC"> foot overview of how</font>

88
00:03:27,799 --> 00:03:33,709
<font color="#CCCCCC">traced</font><font color="#E5E5E5"> art works which I'm sure most</font>

89
00:03:29,419 --> 00:03:35,689
people<font color="#E5E5E5"> know</font><font color="#CCCCCC"> but</font><font color="#E5E5E5"> you know the gist</font><font color="#CCCCCC"> is you</font>

90
00:03:33,709 --> 00:03:38,150
you launcher<font color="#CCCCCC"> Pro packet towards whatever</font>

91
00:03:35,689 --> 00:03:41,418
<font color="#CCCCCC">your destination IP is with a TTL of 1</font>

92
00:03:38,150 --> 00:03:43,909
and every router that touches the packet

93
00:03:41,419 --> 00:03:46,159
decrements<font color="#E5E5E5"> the TTL by</font><font color="#CCCCCC"> 1 and when the TTL</font>

94
00:03:43,909 --> 00:03:48,500
hits<font color="#CCCCCC"> zero</font><font color="#E5E5E5"> the router discards the packet</font>

95
00:03:46,159 --> 00:03:51,409
<font color="#E5E5E5">and sends back an ICMP message that says</font>

96
00:03:48,500 --> 00:03:54,859
the TTL was exceeded<font color="#CCCCCC"> so this</font><font color="#E5E5E5"> mechanism</font>

97
00:03:51,409 --> 00:03:56,929
is<font color="#E5E5E5"> there to permit routing loops</font><font color="#CCCCCC"> but</font><font color="#E5E5E5"> it</font>

98
00:03:54,859 --> 00:03:59,299
also helps for<font color="#E5E5E5"> traceroute because you're</font>

99
00:03:56,930 --> 00:04:02,479
able<font color="#CCCCCC"> to</font><font color="#E5E5E5"> send out incremental probes and</font>

100
00:03:59,299 --> 00:04:04,310
see every hop along the way so you know

101
00:04:02,479 --> 00:04:06,019
it goes back<font color="#CCCCCC"> to step 1 you you send out</font>

102
00:04:04,310 --> 00:04:10,280
a packet with a TTL of<font color="#E5E5E5"> 2 this time then</font>

103
00:04:06,019 --> 00:04:12,500
3 then 4<font color="#E5E5E5"> and you see all the hops along</font>

104
00:04:10,280 --> 00:04:15,019
the way<font color="#E5E5E5"> until the final hop and the the</font>

105
00:04:12,500 --> 00:04:16,548
classic<font color="#CCCCCC"> tracer out it's UDP</font><font color="#E5E5E5"> so what</font>

106
00:04:15,019 --> 00:04:19,009
happens is you assume that nothing's

107
00:04:16,548 --> 00:04:20,029
listening on that UDP port<font color="#CCCCCC"> and then the</font>

108
00:04:19,009 --> 00:04:21,529
host is<font color="#CCCCCC"> going to send</font><font color="#E5E5E5"> back at</font>

109
00:04:20,029 --> 00:04:23,360
destination<font color="#CCCCCC"> unreachable and</font><font color="#E5E5E5"> that's going</font>

110
00:04:21,529 --> 00:04:25,330
<font color="#E5E5E5">to indicate the church</font><font color="#CCCCCC"> route</font><font color="#E5E5E5"> we're done</font>

111
00:04:23,360 --> 00:04:28,820
you can stop

112
00:04:25,330 --> 00:04:31,159
so it's<font color="#E5E5E5"> actually a little more complex</font>

113
00:04:28,820 --> 00:04:32,930
<font color="#CCCCCC">than the</font><font color="#E5E5E5"> the general overview</font><font color="#CCCCCC"> because</font>

114
00:04:31,160 --> 00:04:35,150
<font color="#CCCCCC">there's</font><font color="#E5E5E5"> there's multiple probes going on</font>

115
00:04:32,930 --> 00:04:36,740
<font color="#CCCCCC">you know the default for most trail</font>

116
00:04:35,150 --> 00:04:40,090
implementations is three probes that's

117
00:04:36,740 --> 00:04:42,590
why you see<font color="#E5E5E5"> three latency results</font><font color="#CCCCCC"> and</font>

118
00:04:40,090 --> 00:04:44,750
something to note there<font color="#CCCCCC"> is</font><font color="#E5E5E5"> that every</font>

119
00:04:42,590 --> 00:04:46,570
probe<font color="#E5E5E5"> every time it sends a probe the</font>

120
00:04:44,750 --> 00:04:49,580
destination port is<font color="#CCCCCC"> going to increment</font>

121
00:04:46,570 --> 00:04:51,590
<font color="#E5E5E5">so it's not just</font><font color="#CCCCCC"> going</font><font color="#E5E5E5"> to be the same</font>

122
00:04:49,580 --> 00:04:55,370
path every<font color="#E5E5E5"> time in any time that you are</font>

123
00:04:51,590 --> 00:04:57,049
<font color="#E5E5E5">hitting</font><font color="#CCCCCC"> multiple paths</font><font color="#E5E5E5"> along the way you</font>

124
00:04:55,370 --> 00:04:58,730
could if you're<font color="#E5E5E5"> hashing at layer 4 you</font>

125
00:04:57,050 --> 00:05:00,980
could<font color="#E5E5E5"> take a different path</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> not</font><font color="#CCCCCC"> only</font>

126
00:04:58,730 --> 00:05:03,020
<font color="#E5E5E5">can that happen with a CMP where you</font>

127
00:05:00,980 --> 00:05:05,000
have you<font color="#CCCCCC"> know two</font><font color="#E5E5E5"> two links in parallel</font>

128
00:05:03,020 --> 00:05:06,890
that are running your<font color="#CCCCCC"> IGP that are load</font>

129
00:05:05,000 --> 00:05:11,240
balancing at layer<font color="#CCCCCC"> three that</font><font color="#E5E5E5"> can even</font>

130
00:05:06,890 --> 00:05:12,620
<font color="#E5E5E5">happen over a 802</font><font color="#CCCCCC"> three</font><font color="#E5E5E5"> ad link where</font>

131
00:05:11,240 --> 00:05:13,900
<font color="#E5E5E5">you know you see problems with some of</font>

132
00:05:12,620 --> 00:05:16,310
<font color="#E5E5E5">your packets and it turns out</font><font color="#CCCCCC"> that</font>

133
00:05:13,900 --> 00:05:17,630
<font color="#E5E5E5">invisibly to you one of</font><font color="#CCCCCC"> those packets is</font>

134
00:05:16,310 --> 00:05:19,850
getting hashed over one bundle<font color="#E5E5E5"> with a</font>

135
00:05:17,630 --> 00:05:22,310
problem<font color="#CCCCCC"> and the other one isn't</font><font color="#E5E5E5"> so</font><font color="#CCCCCC"> it's</font>

136
00:05:19,850 --> 00:05:24,740
something to keep<font color="#CCCCCC"> in mind</font><font color="#E5E5E5"> and obviously</font>

137
00:05:22,310 --> 00:05:27,560
<font color="#E5E5E5">not all trace routes use UDP</font><font color="#CCCCCC"> Windows</font>

138
00:05:24,740 --> 00:05:30,950
famously uses ICMP<font color="#CCCCCC"> so any people that</font>

139
00:05:27,560 --> 00:05:32,270
are filtering ICMP or not<font color="#E5E5E5"> filtering UDP</font>

140
00:05:30,950 --> 00:05:34,580
<font color="#CCCCCC">or whatever we'll we'll see different</font>

141
00:05:32,270 --> 00:05:36,409
results<font color="#CCCCCC"> and</font><font color="#E5E5E5"> obviously a lot of the</font>

142
00:05:34,580 --> 00:05:38,000
traceroute tools out there<font color="#E5E5E5"> now give you</font>

143
00:05:36,410 --> 00:05:40,640
the<font color="#E5E5E5"> option to</font><font color="#CCCCCC"> use whatever</font><font color="#E5E5E5"> you</font><font color="#CCCCCC"> want</font><font color="#E5E5E5"> and</font>

144
00:05:38,000 --> 00:05:42,229
one reason to use TCP is you can get

145
00:05:40,640 --> 00:05:44,590
through<font color="#CCCCCC"> firewalls if people are allowing</font>

146
00:05:42,229 --> 00:05:44,590
<font color="#E5E5E5">that through</font>

147
00:05:48,940 --> 00:05:52,540
you're the the probe doesn't matter<font color="#E5E5E5"> the</font>

148
00:05:51,070 --> 00:05:55,210
probe is irrelevant<font color="#E5E5E5"> it's a packet that</font>

149
00:05:52,540 --> 00:05:57,610
<font color="#CCCCCC">goes out that</font><font color="#E5E5E5"> expires so it could be TCP</font>

150
00:05:55,210 --> 00:05:59,919
it could be ICMP it could be anything

151
00:05:57,610 --> 00:06:02,170
<font color="#CCCCCC">that will fit an IP as long as it</font><font color="#E5E5E5"> gets</font>

152
00:05:59,920 --> 00:06:05,410
routed<font color="#E5E5E5"> and then the TTL expires and gets</font>

153
00:06:02,170 --> 00:06:07,180
dropped<font color="#CCCCCC"> so it's correct you're just</font>

154
00:06:05,410 --> 00:06:11,820
sending a TCP packet the concept being

155
00:06:07,180 --> 00:06:14,650
to get<font color="#E5E5E5"> past a firewall or whatever so</font>

156
00:06:11,820 --> 00:06:17,349
how is the traceroute latency calculated

157
00:06:14,650 --> 00:06:19,419
well what happens is you<font color="#E5E5E5"> take a</font>

158
00:06:17,350 --> 00:06:21,520
<font color="#E5E5E5">timestamp of when you send out the</font><font color="#CCCCCC"> pro</font>

159
00:06:19,420 --> 00:06:23,670
<font color="#CCCCCC">package</font><font color="#E5E5E5"> and then you take a timestamp of</font>

160
00:06:21,520 --> 00:06:26,500
<font color="#CCCCCC">when you receive the ICMP back and</font>

161
00:06:23,670 --> 00:06:28,000
obviously you<font color="#CCCCCC"> look</font><font color="#E5E5E5"> at the difference</font><font color="#CCCCCC"> so</font>

162
00:06:26,500 --> 00:06:30,010
the routers<font color="#CCCCCC"> along the paths don't</font>

163
00:06:28,000 --> 00:06:32,920
actually do any processing<font color="#CCCCCC"> so you have</font>

164
00:06:30,010 --> 00:06:34,330
no<font color="#E5E5E5"> idea when the router that's responded</font>

165
00:06:32,920 --> 00:06:35,950
or when the destination<font color="#E5E5E5"> host is</font>

166
00:06:34,330 --> 00:06:37,510
responded they don't do anything<font color="#E5E5E5"> they</font>

167
00:06:35,950 --> 00:06:41,440
<font color="#CCCCCC">don't</font><font color="#E5E5E5"> put any time</font><font color="#CCCCCC"> information in the</font>

168
00:06:37,510 --> 00:06:43,360
packet<font color="#E5E5E5"> they don't do anything but a lot</font>

169
00:06:41,440 --> 00:06:45,790
<font color="#CCCCCC">of times what happens</font><font color="#E5E5E5"> is the</font><font color="#CCCCCC"> the</font>

170
00:06:43,360 --> 00:06:48,280
traceroute program itself encodes the

171
00:06:45,790 --> 00:06:49,780
launch time in the packet itself<font color="#CCCCCC"> the</font>

172
00:06:48,280 --> 00:06:52,179
reason<font color="#E5E5E5"> for that number</font><font color="#CCCCCC"> one it reduces</font>

173
00:06:49,780 --> 00:06:54,700
<font color="#CCCCCC">state so the program doesn't</font><font color="#E5E5E5"> have to</font>

174
00:06:52,180 --> 00:06:56,530
keep<font color="#E5E5E5"> track of what time it launched the</font>

175
00:06:54,700 --> 00:06:57,849
packet it gets the<font color="#E5E5E5"> returned packet back</font>

176
00:06:56,530 --> 00:07:00,190
and it has all the state<font color="#E5E5E5"> that it needs</font>

177
00:06:57,850 --> 00:07:03,340
and the<font color="#E5E5E5"> other reason</font><font color="#CCCCCC"> is that it</font>

178
00:07:00,190 --> 00:07:05,950
increases<font color="#CCCCCC"> accuracy that</font><font color="#E5E5E5"> you can encode a</font>

179
00:07:03,340 --> 00:07:07,359
higher<font color="#E5E5E5"> timestamp value in there anyone</font>

180
00:07:05,950 --> 00:07:10,630
<font color="#E5E5E5">that's ever</font><font color="#CCCCCC"> done a trace route</font><font color="#E5E5E5"> off</font><font color="#CCCCCC"> a</font>

181
00:07:07,360 --> 00:07:13,780
<font color="#E5E5E5">Cisco router knows that iOS has very low</font>

182
00:07:10,630 --> 00:07:18,000
granularity within<font color="#CCCCCC"> 4 milliseconds</font><font color="#E5E5E5"> so you</font>

183
00:07:13,780 --> 00:07:20,950
see<font color="#CCCCCC"> 0 or 4</font><font color="#E5E5E5"> even if the value is 1 2 or 3</font>

184
00:07:18,000 --> 00:07:22,660
<font color="#E5E5E5">whereas most</font><font color="#CCCCCC"> trace route implementations</font>

185
00:07:20,950 --> 00:07:26,349
on hosts<font color="#CCCCCC"> are you know down to</font><font color="#E5E5E5"> the the</font>

186
00:07:22,660 --> 00:07:28,660
sub millisecond microsecond range<font color="#E5E5E5"> but</font>

187
00:07:26,350 --> 00:07:29,620
<font color="#E5E5E5">you</font><font color="#CCCCCC"> know the key point here is that what</font>

188
00:07:28,660 --> 00:07:31,210
you're really<font color="#E5E5E5"> measuring is the</font>

189
00:07:29,620 --> 00:07:32,680
<font color="#CCCCCC">round-trip</font><font color="#E5E5E5"> you're measuring the time for</font>

190
00:07:31,210 --> 00:07:34,539
the probe<font color="#E5E5E5"> to get to the router that</font>

191
00:07:32,680 --> 00:07:39,940
dropped it and you're measuring<font color="#CCCCCC"> the time</font>

192
00:07:34,540 --> 00:07:43,060
for the ICMP packet to come back so

193
00:07:39,940 --> 00:07:44,500
here's a little<font color="#CCCCCC"> bit of detail about</font><font color="#E5E5E5"> what</font>

194
00:07:43,060 --> 00:07:46,240
hops you're actually seeing a lot of

195
00:07:44,500 --> 00:07:47,650
<font color="#E5E5E5">people</font><font color="#CCCCCC"> are</font><font color="#E5E5E5"> confused by this</font><font color="#CCCCCC"> because they</font>

196
00:07:46,240 --> 00:07:49,030
<font color="#E5E5E5">don't understand whether they're seeing</font>

197
00:07:47,650 --> 00:07:52,539
an ingress interface or an egress

198
00:07:49,030 --> 00:07:54,460
interface<font color="#E5E5E5"> but so if you look at a laser</font>

199
00:07:52,540 --> 00:07:57,340
pointer<font color="#CCCCCC"> it would be better but</font><font color="#E5E5E5"> if you</font>

200
00:07:54,460 --> 00:07:59,739
look at the<font color="#E5E5E5"> first packet coming out</font>

201
00:07:57,340 --> 00:08:01,210
<font color="#E5E5E5">coming from the source with</font><font color="#CCCCCC"> the TTL of 1</font>

202
00:07:59,740 --> 00:08:03,880
and it<font color="#E5E5E5"> hits router 1</font>

203
00:08:01,210 --> 00:08:06,549
router1 drops it<font color="#CCCCCC"> and it sends back its</font>

204
00:08:03,880 --> 00:08:09,250
ICMP TTL exceed the path that it sends

205
00:08:06,550 --> 00:08:12,130
<font color="#E5E5E5">it back via you have no visibility into</font>

206
00:08:09,250 --> 00:08:14,320
<font color="#E5E5E5">and it doesn't have to match the ingress</font>

207
00:08:12,130 --> 00:08:16,330
egress<font color="#E5E5E5"> interface the egress interface it</font>

208
00:08:14,320 --> 00:08:17,770
doesn't have to match<font color="#E5E5E5"> anything</font><font color="#CCCCCC"> so it</font>

209
00:08:16,330 --> 00:08:20,199
<font color="#E5E5E5">just goes back</font><font color="#CCCCCC"> to view</font><font color="#E5E5E5"> whatever it</font>

210
00:08:17,770 --> 00:08:23,948
<font color="#CCCCCC">thinks the best route to whatever your</font>

211
00:08:20,199 --> 00:08:26,260
source address was<font color="#E5E5E5"> then you see as</font><font color="#CCCCCC"> it</font>

212
00:08:23,949 --> 00:08:30,010
goes<font color="#CCCCCC"> through</font><font color="#E5E5E5"> the the second interface</font>

213
00:08:26,260 --> 00:08:31,900
<font color="#E5E5E5">with a TTL of</font><font color="#CCCCCC"> two it goes out the egress</font>

214
00:08:30,010 --> 00:08:33,279
interface of the one router comes<font color="#CCCCCC"> into</font>

215
00:08:31,900 --> 00:08:35,289
the<font color="#E5E5E5"> egress</font><font color="#CCCCCC"> interface and ingress</font>

216
00:08:33,279 --> 00:08:36,969
interface of the second router<font color="#CCCCCC"> and what</font>

217
00:08:35,289 --> 00:08:39,640
you're seeing<font color="#CCCCCC"> and</font><font color="#E5E5E5"> traceroute every time</font>

218
00:08:36,969 --> 00:08:41,409
is the ingress interface<font color="#E5E5E5"> so in this</font>

219
00:08:39,640 --> 00:08:43,059
example<font color="#E5E5E5"> here you're seeing the</font><font color="#CCCCCC"> one seven</font>

220
00:08:41,409 --> 00:08:46,000
<font color="#E5E5E5">two one six two</font><font color="#CCCCCC"> dot one you're seeing</font>

221
00:08:43,059 --> 00:08:47,829
<font color="#E5E5E5">the 10.32</font><font color="#CCCCCC"> two you're not</font><font color="#E5E5E5"> seeing the</font>

222
00:08:46,000 --> 00:08:49,120
<font color="#E5E5E5">return path and you're not seeing the</font>

223
00:08:47,830 --> 00:08:53,200
egress interface you're seeing the

224
00:08:49,120 --> 00:08:55,720
ingress into<font color="#E5E5E5"> each router</font><font color="#CCCCCC"> and another</font>

225
00:08:53,200 --> 00:08:58,600
random factoid<font color="#CCCCCC"> tracer out as it actually</font>

226
00:08:55,720 --> 00:09:01,120
<font color="#E5E5E5">is implemented shouldn't work</font><font color="#CCCCCC"> if you</font>

227
00:08:58,600 --> 00:09:04,300
actually<font color="#E5E5E5"> look at RFC 1812 which has</font>

228
00:09:01,120 --> 00:09:06,459
never been<font color="#E5E5E5"> replaced or updated it</font>

229
00:09:04,300 --> 00:09:08,979
actually says that<font color="#E5E5E5"> the ICMP source must</font>

230
00:09:06,459 --> 00:09:10,689
<font color="#E5E5E5">be from the egress interface which if</font>

231
00:09:08,980 --> 00:09:12,700
you did that would completely change<font color="#E5E5E5"> the</font>

232
00:09:10,690 --> 00:09:14,950
way traceroute works so this one<font color="#E5E5E5"> of</font>

233
00:09:12,700 --> 00:09:16,600
those<font color="#E5E5E5"> random factoids that you know the</font>

234
00:09:14,950 --> 00:09:19,000
de facto standard<font color="#E5E5E5"> doesn't match what's</font>

235
00:09:16,600 --> 00:09:22,140
actually<font color="#E5E5E5"> specified and that's just the</font>

236
00:09:19,000 --> 00:09:22,140
way people always done it

237
00:09:26,920 --> 00:09:29,819
what was the question

238
00:09:31,329 --> 00:09:35,478
<font color="#CCCCCC">it is true</font><font color="#E5E5E5"> on our routers and there's</font>

239
00:09:33,649 --> 00:09:38,119
actually some<font color="#E5E5E5"> cases where people</font><font color="#CCCCCC"> have</font>

240
00:09:35,479 --> 00:09:40,459
followed<font color="#E5E5E5"> the standard correctly and thus</font>

241
00:09:38,119 --> 00:09:43,699
been<font color="#E5E5E5"> incorrect some notorious examples</font>

242
00:09:40,459 --> 00:09:45,679
of this our foundry<font color="#CCCCCC"> sonic cards which</font>

243
00:09:43,699 --> 00:09:48,049
you know followed this implementation

244
00:09:45,679 --> 00:09:50,389
<font color="#E5E5E5">and started returning the wrong the</font>

245
00:09:48,049 --> 00:09:53,919
<font color="#E5E5E5">wrong addresses so you were seeing that</font>

246
00:09:50,389 --> 00:09:56,919
the<font color="#E5E5E5"> path out instead</font><font color="#CCCCCC"> of the the path end</font>

247
00:09:53,919 --> 00:09:56,919
but

248
00:10:10,040 --> 00:10:14,630
exactly and I'll talk<font color="#CCCCCC"> about that more</font>

249
00:10:12,470 --> 00:10:16,010
<font color="#CCCCCC">later but that's</font><font color="#E5E5E5"> one of the the key</font>

250
00:10:14,630 --> 00:10:18,230
<font color="#E5E5E5">points of traceroute</font><font color="#CCCCCC"> is that you're</font>

251
00:10:16,010 --> 00:10:19,640
really<font color="#E5E5E5"> looking at the forward and the</font>

252
00:10:18,230 --> 00:10:21,920
<font color="#E5E5E5">reverse path but you're only seeing the</font>

253
00:10:19,640 --> 00:10:23,660
forward path<font color="#E5E5E5"> and even then the fact that</font>

254
00:10:21,920 --> 00:10:25,969
<font color="#E5E5E5">you're seeing the forward path is an</font>

255
00:10:23,660 --> 00:10:27,860
actual<font color="#CCCCCC"> violation of the standard</font><font color="#E5E5E5"> but it</font>

256
00:10:25,970 --> 00:10:31,460
<font color="#E5E5E5">just is the</font><font color="#CCCCCC"> de-facto way that things</font>

257
00:10:27,860 --> 00:10:32,870
were done so I<font color="#E5E5E5"> talked about how to</font>

258
00:10:31,460 --> 00:10:34,850
interpret DNS and<font color="#E5E5E5"> a</font><font color="#CCCCCC"> traceroute</font>

259
00:10:32,870 --> 00:10:37,040
for any<font color="#E5E5E5"> network that is not Google</font>

260
00:10:34,850 --> 00:10:39,140
because Google for whatever reason

261
00:10:37,040 --> 00:10:40,150
doesn't<font color="#E5E5E5"> believe in DNS everyone else</font>

262
00:10:39,140 --> 00:10:44,090
does

263
00:10:40,150 --> 00:10:47,060
so<font color="#E5E5E5"> the things that</font><font color="#CCCCCC"> you want</font><font color="#E5E5E5"> to pick out</font>

264
00:10:44,090 --> 00:10:49,010
<font color="#CCCCCC">of DNS you want to figure out location</font>

265
00:10:47,060 --> 00:10:53,060
identifiers you want to figure<font color="#CCCCCC"> out where</font>

266
00:10:49,010 --> 00:10:55,010
<font color="#E5E5E5">a router is in the world</font><font color="#CCCCCC"> maybe you want</font>

267
00:10:53,060 --> 00:10:57,109
to<font color="#CCCCCC"> figure out where the router is like a</font>

268
00:10:55,010 --> 00:10:58,400
Colo facility if it's in an echo<font color="#CCCCCC"> and XOR</font>

269
00:10:57,110 --> 00:11:01,790
<font color="#CCCCCC">packs or something completely different</font>

270
00:10:58,400 --> 00:11:03,709
<font color="#E5E5E5">you</font><font color="#CCCCCC"> want to figure out</font><font color="#E5E5E5"> what type of</font>

271
00:11:01,790 --> 00:11:05,719
interface the the packet is going<font color="#E5E5E5"> over</font>

272
00:11:03,710 --> 00:11:08,720
you want<font color="#E5E5E5"> to figure out what capacity is</font>

273
00:11:05,720 --> 00:11:10,070
available<font color="#CCCCCC"> and in some cases you want</font><font color="#E5E5E5"> to</font>

274
00:11:08,720 --> 00:11:12,050
know what's<font color="#E5E5E5"> the what's the router type</font>

275
00:11:10,070 --> 00:11:14,930
and<font color="#E5E5E5"> role is this a core router is this</font>

276
00:11:12,050 --> 00:11:16,310
an edge<font color="#CCCCCC"> Piron router</font><font color="#E5E5E5"> is this a customer</font>

277
00:11:14,930 --> 00:11:18,739
aggregation route or whatever the case

278
00:11:16,310 --> 00:11:19,910
may be<font color="#CCCCCC"> and</font><font color="#E5E5E5"> then a lot of times you want</font>

279
00:11:18,740 --> 00:11:22,100
<font color="#E5E5E5">to figure out where the network</font>

280
00:11:19,910 --> 00:11:24,140
boundaries are<font color="#E5E5E5"> and the relationships so</font>

281
00:11:22,100 --> 00:11:26,120
you want to know when you cross between

282
00:11:24,140 --> 00:11:27,730
Global Crossing and sprint and you want

283
00:11:26,120 --> 00:11:31,250
to maybe<font color="#E5E5E5"> figure out that that's appear</font>

284
00:11:27,730 --> 00:11:32,110
<font color="#E5E5E5">versus transit relationship or something</font>

285
00:11:31,250 --> 00:11:35,930
<font color="#CCCCCC">like that</font>

286
00:11:32,110 --> 00:11:39,620
so the reasons you want<font color="#E5E5E5"> to know location</font>

287
00:11:35,930 --> 00:11:40,910
obviously<font color="#CCCCCC"> if you can identify in</font><font color="#E5E5E5"> correct</font>

288
00:11:39,620 --> 00:11:44,240
or<font color="#E5E5E5"> suboptimal routing you know if you're</font>

289
00:11:40,910 --> 00:11:46,719
going<font color="#E5E5E5"> from Chicago to Chicago</font><font color="#CCCCCC"> and it</font>

290
00:11:44,240 --> 00:11:49,640
happens<font color="#E5E5E5"> to go through Atlanta</font><font color="#CCCCCC"> and</font>

291
00:11:46,720 --> 00:11:54,460
Indianapolis like my Comcast cable modem

292
00:11:49,640 --> 00:11:58,520
used to<font color="#E5E5E5"> maybe you want to</font><font color="#CCCCCC"> identify that</font>

293
00:11:54,460 --> 00:12:00,710
it also<font color="#E5E5E5"> helps you understand where the</font>

294
00:11:58,520 --> 00:12:02,240
<font color="#E5E5E5">interconnections are happening so you</font>

295
00:12:00,710 --> 00:12:04,220
know if you're if you're<font color="#E5E5E5"> routing out to</font>

296
00:12:02,240 --> 00:12:05,330
LA the reason for that<font color="#E5E5E5"> from Phoenix</font>

297
00:12:04,220 --> 00:12:08,210
might be that<font color="#E5E5E5"> that's where the peering</font>

298
00:12:05,330 --> 00:12:09,680
point is and it<font color="#E5E5E5"> helps you understand you</font>

299
00:12:08,210 --> 00:12:11,330
<font color="#E5E5E5">know you need to</font><font color="#CCCCCC"> know the location</font><font color="#E5E5E5"> to</font>

300
00:12:09,680 --> 00:12:14,479
understand when the latency<font color="#CCCCCC"> is or isn't</font>

301
00:12:11,330 --> 00:12:17,450
a problem<font color="#CCCCCC"> so the most commonly used</font>

302
00:12:14,480 --> 00:12:21,130
location identifiers<font color="#E5E5E5"> you got airport</font>

303
00:12:17,450 --> 00:12:22,690
codes<font color="#CCCCCC"> silly codes</font>

304
00:12:21,130 --> 00:12:24,910
and just random attempts to abbreviate

305
00:12:22,690 --> 00:12:27,160
<font color="#E5E5E5">things based on either you know the</font>

306
00:12:24,910 --> 00:12:28,449
<font color="#CCCCCC">English name or a lot</font><font color="#E5E5E5"> of times people</font>

307
00:12:27,160 --> 00:12:31,439
<font color="#E5E5E5">have their own little internal codes</font>

308
00:12:28,450 --> 00:12:33,550
that no one can<font color="#E5E5E5"> really figure</font><font color="#CCCCCC"> out but</font>

309
00:12:31,440 --> 00:12:34,990
you could either ask someone or

310
00:12:33,550 --> 00:12:37,660
sometimes people<font color="#CCCCCC"> have</font><font color="#E5E5E5"> these on their</font>

311
00:12:34,990 --> 00:12:39,400
websites<font color="#E5E5E5"> or you know you can</font><font color="#CCCCCC"> just</font><font color="#E5E5E5"> start</font>

312
00:12:37,660 --> 00:12:40,630
to reverse<font color="#E5E5E5"> engineer</font><font color="#CCCCCC"> it and sometimes</font><font color="#E5E5E5"> you</font>

313
00:12:39,400 --> 00:12:47,319
<font color="#CCCCCC">just have no idea what the hell people</font>

314
00:12:40,630 --> 00:12:49,840
<font color="#E5E5E5">were thinking the</font><font color="#CCCCCC"> Ren codes</font><font color="#E5E5E5"> are no</font>

315
00:12:47,320 --> 00:12:54,700
longer in<font color="#E5E5E5"> use I don't think I don't know</font>

316
00:12:49,840 --> 00:12:58,090
<font color="#CCCCCC">Tom Shaw would know</font><font color="#E5E5E5"> famously</font><font color="#CCCCCC"> ren</font>

317
00:12:54,700 --> 00:13:00,460
referred to everything<font color="#E5E5E5"> by the SBC codes</font>

318
00:12:58,090 --> 00:13:01,840
that they used to the point that a lot

319
00:13:00,460 --> 00:13:05,050
<font color="#CCCCCC">of</font><font color="#E5E5E5"> people just started calling them ren</font>

320
00:13:01,840 --> 00:13:07,180
codes<font color="#CCCCCC"> so i</font><font color="#E5E5E5"> was a handy identifier for</font>

321
00:13:05,050 --> 00:13:09,790
<font color="#E5E5E5">figuring out you know Equinix in Ashburn</font>

322
00:13:07,180 --> 00:13:12,520
or whatever the case<font color="#E5E5E5"> may be</font><font color="#CCCCCC"> but</font><font color="#E5E5E5"> I think</font>

323
00:13:09,790 --> 00:13:17,860
<font color="#CCCCCC">those</font><font color="#E5E5E5"> have all been migrated now or</font>

324
00:13:12,520 --> 00:13:20,590
maybe not<font color="#CCCCCC"> so airport codes the reason</font>

325
00:13:17,860 --> 00:13:22,570
<font color="#E5E5E5">people use airport codes is you've got</font>

326
00:13:20,590 --> 00:13:25,150
really good<font color="#E5E5E5"> international coverage and</font>

327
00:13:22,570 --> 00:13:27,880
you've got good coverage<font color="#E5E5E5"> over most large</font>

328
00:13:25,150 --> 00:13:29,949
cities<font color="#E5E5E5"> so you</font><font color="#CCCCCC"> know if there's a city</font>

329
00:13:27,880 --> 00:13:32,710
that's worth<font color="#E5E5E5"> mentioning it's probably</font>

330
00:13:29,950 --> 00:13:34,510
got<font color="#E5E5E5"> an airport in it</font><font color="#CCCCCC"> and that's probably</font>

331
00:13:32,710 --> 00:13:35,820
where you're putting your routers and

332
00:13:34,510 --> 00:13:38,530
things like<font color="#E5E5E5"> that</font>

333
00:13:35,820 --> 00:13:41,170
<font color="#CCCCCC">so some</font><font color="#E5E5E5"> examples Santo Domingo obviously</font>

334
00:13:38,530 --> 00:13:42,850
<font color="#E5E5E5">anyone the flu ends as DQ San Jose</font>

335
00:13:41,170 --> 00:13:44,410
California<font color="#CCCCCC"> SJC</font><font color="#E5E5E5"> there are there</font>

336
00:13:42,850 --> 00:13:46,240
three-letter codes that<font color="#E5E5E5"> are defined</font>

337
00:13:44,410 --> 00:13:49,990
standardized and<font color="#E5E5E5"> you can go google them</font>

338
00:13:46,240 --> 00:13:51,790
<font color="#E5E5E5">and find them sometimes</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> people are</font>

339
00:13:49,990 --> 00:13:55,240
representing things<font color="#E5E5E5"> by pseudo airport</font>

340
00:13:51,790 --> 00:13:57,189
codes<font color="#CCCCCC"> which sometimes there's an actual</font>

341
00:13:55,240 --> 00:13:58,510
code that<font color="#E5E5E5"> covers a metro region where</font>

342
00:13:57,190 --> 00:14:01,900
there's multiple<font color="#CCCCCC"> airports and sometimes</font>

343
00:13:58,510 --> 00:14:03,790
people<font color="#CCCCCC"> just use codes that are not the</font>

344
00:14:01,900 --> 00:14:05,890
actual code but they're close enough<font color="#CCCCCC"> for</font>

345
00:14:03,790 --> 00:14:07,719
people<font color="#E5E5E5"> to understand so for example you</font>

346
00:14:05,890 --> 00:14:10,360
<font color="#E5E5E5">know in New York rather than then put</font>

347
00:14:07,720 --> 00:14:12,700
JFK or LGA or you know a lot<font color="#E5E5E5"> of people</font>

348
00:14:10,360 --> 00:14:14,470
might even<font color="#E5E5E5"> fly into Newark</font><font color="#CCCCCC"> they're</font><font color="#E5E5E5"> just</font>

349
00:14:12,700 --> 00:14:16,050
gonna write NYC and people can pretty

350
00:14:14,470 --> 00:14:19,080
much<font color="#E5E5E5"> figure out that NYC means New York</font>

351
00:14:16,050 --> 00:14:21,430
<font color="#CCCCCC">same thing in DC where you've got</font>

352
00:14:19,080 --> 00:14:23,560
<font color="#E5E5E5">Northern Virginia covered by</font><font color="#CCCCCC"> ad you've</font>

353
00:14:21,430 --> 00:14:26,319
got Washington DC itself covered by DC a

354
00:14:23,560 --> 00:14:28,680
<font color="#E5E5E5">a lot of</font><font color="#CCCCCC"> people are</font><font color="#E5E5E5"> just writing</font><font color="#CCCCCC"> W</font><font color="#E5E5E5"> DC</font>

355
00:14:26,320 --> 00:14:31,839
for the<font color="#E5E5E5"> entire region</font>

356
00:14:28,680 --> 00:14:33,380
<font color="#CCCCCC">silly codes</font><font color="#E5E5E5"> are common language location</font>

357
00:14:31,839 --> 00:14:35,890
identifiers

358
00:14:33,380 --> 00:14:38,030
so the full codes themselves<font color="#CCCCCC"> are</font>

359
00:14:35,890 --> 00:14:39,680
maintained and sold by telcordia<font color="#E5E5E5"> and</font>

360
00:14:38,030 --> 00:14:42,920
they're mostly<font color="#CCCCCC"> used by telephone</font>

361
00:14:39,680 --> 00:14:45,410
companies so you're gonna see you know

362
00:14:42,920 --> 00:14:46,219
<font color="#E5E5E5">as a telco you're gonna see a code like</font>

363
00:14:45,410 --> 00:14:48,650
<font color="#E5E5E5">that</font>

364
00:14:46,220 --> 00:14:50,390
identifying<font color="#CCCCCC"> houston texas and it's going</font>

365
00:14:48,650 --> 00:14:51,829
<font color="#E5E5E5">to identify some</font><font color="#CCCCCC"> co somewhere and it's</font>

366
00:14:50,390 --> 00:14:55,580
<font color="#CCCCCC">gonna identify a rack and a</font><font color="#E5E5E5"> port in a</font>

367
00:14:51,830 --> 00:14:58,010
position<font color="#E5E5E5"> or whatever</font><font color="#CCCCCC"> for the most</font><font color="#E5E5E5"> part</font>

368
00:14:55,580 --> 00:15:00,620
<font color="#E5E5E5">Internet wise you don't need that much</font>

369
00:14:58,010 --> 00:15:02,780
detail<font color="#CCCCCC"> but</font><font color="#E5E5E5"> there's the the first six</font>

370
00:15:00,620 --> 00:15:05,450
letters<font color="#E5E5E5"> are called the geopolitical and</font>

371
00:15:02,780 --> 00:15:28,520
<font color="#E5E5E5">or whatever geopolitical and</font>

372
00:15:05,450 --> 00:15:31,370
geosynthetics in you know five

373
00:15:28,520 --> 00:15:33,140
<font color="#E5E5E5">neighboring cities within a common metro</font>

374
00:15:31,370 --> 00:15:36,050
area so you might not<font color="#E5E5E5"> want to</font><font color="#CCCCCC"> just</font><font color="#E5E5E5"> call</font>

375
00:15:33,140 --> 00:15:37,400
something<font color="#E5E5E5"> DC you might really care if</font>

376
00:15:36,050 --> 00:15:40,459
it's turned<font color="#E5E5E5"> in or sterling or whatever</font>

377
00:15:37,400 --> 00:15:42,620
the case may be<font color="#CCCCCC"> and</font><font color="#E5E5E5"> the problem here is</font>

378
00:15:40,460 --> 00:15:44,930
that there's not much standardization

379
00:15:42,620 --> 00:15:48,560
for international coverage so you see

380
00:15:44,930 --> 00:15:51,530
some networks<font color="#CCCCCC"> ntt being the the</font><font color="#E5E5E5"> biggest</font>

381
00:15:48,560 --> 00:15:54,800
example<font color="#CCCCCC"> that just make them</font><font color="#E5E5E5"> up so</font>

382
00:15:51,530 --> 00:15:58,280
<font color="#CCCCCC">amsterdam netherlands</font><font color="#E5E5E5"> there's going to</font>

383
00:15:54,800 --> 00:16:01,550
make up a code and<font color="#E5E5E5"> then of course you've</font>

384
00:15:58,280 --> 00:16:03,949
got the<font color="#E5E5E5"> arbitrary values so for</font><font color="#CCCCCC"> example</font>

385
00:16:01,550 --> 00:16:05,839
if you don't know what an airport code

386
00:16:03,950 --> 00:16:08,000
is and you don't<font color="#CCCCCC"> know</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> Chicago</font>

387
00:16:05,840 --> 00:16:10,220
O'Hare<font color="#CCCCCC"> which was originally named after</font>

388
00:16:08,000 --> 00:16:11,690
<font color="#E5E5E5">Orchard field or Midway you may not know</font>

389
00:16:10,220 --> 00:16:14,570
that<font color="#CCCCCC"> o Rd has anything to do with</font>

390
00:16:11,690 --> 00:16:17,120
Chicago<font color="#CCCCCC"> so you may find</font><font color="#E5E5E5"> a lot</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> people</font>

391
00:16:14,570 --> 00:16:19,760
<font color="#E5E5E5">just putting CH I and there's a there's</font>

392
00:16:17,120 --> 00:16:22,130
a lot of arbitrary codes<font color="#E5E5E5"> where it's</font>

393
00:16:19,760 --> 00:16:24,439
close enough<font color="#E5E5E5"> to something</font><font color="#CCCCCC"> that people</font>

394
00:16:22,130 --> 00:16:26,590
<font color="#E5E5E5">would recognize</font><font color="#CCCCCC"> Toronto's</font><font color="#E5E5E5"> another</font>

395
00:16:24,440 --> 00:16:28,700
<font color="#E5E5E5">example YYZ who would know that that's</font>

396
00:16:26,590 --> 00:16:30,920
<font color="#E5E5E5">Toronto unless you happen to know that</font>

397
00:16:28,700 --> 00:16:33,950
<font color="#CCCCCC">that's an airport code</font><font color="#E5E5E5"> so people just</font>

398
00:16:30,920 --> 00:16:36,709
<font color="#E5E5E5">write to you are and</font><font color="#CCCCCC"> obviously there's</font>

399
00:16:33,950 --> 00:16:38,210
some benefits there you know<font color="#E5E5E5"> if you're</font>

400
00:16:36,710 --> 00:16:40,730
<font color="#E5E5E5">looking at the traceroute you can kind</font>

401
00:16:38,210 --> 00:16:42,350
of figure<font color="#E5E5E5"> out what that might</font><font color="#CCCCCC"> be</font><font color="#E5E5E5"> even if</font>

402
00:16:40,730 --> 00:16:43,850
you don't know the airport code the

403
00:16:42,350 --> 00:16:46,449
downside<font color="#E5E5E5"> being it's not a standard so</font>

404
00:16:43,850 --> 00:16:51,139
you<font color="#E5E5E5"> can't go google it</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> know for</font><font color="#CCCCCC"> sure</font>

405
00:16:46,449 --> 00:16:53,660
so I did<font color="#CCCCCC"> a list of common airport codes</font>

406
00:16:51,139 --> 00:16:56,089
and silly codes for the major locations

407
00:16:53,660 --> 00:16:58,759
<font color="#E5E5E5">in the US and the hope being that people</font>

408
00:16:56,089 --> 00:16:59,809
<font color="#CCCCCC">can look at this document</font><font color="#E5E5E5"> later and you</font>

409
00:16:58,759 --> 00:17:03,319
know parse some of their own<font color="#CCCCCC"> treasure</font>

410
00:16:59,809 --> 00:17:04,730
<font color="#CCCCCC">outs</font><font color="#E5E5E5"> and figure things out and you know</font>

411
00:17:03,319 --> 00:17:06,049
in<font color="#E5E5E5"> some cases there's</font><font color="#CCCCCC"> there</font><font color="#E5E5E5"> some cities</font>

412
00:17:04,730 --> 00:17:07,579
<font color="#CCCCCC">that are notorious for having</font><font color="#E5E5E5"> other</font>

413
00:17:06,049 --> 00:17:10,459
codes<font color="#CCCCCC"> associated with them</font><font color="#E5E5E5"> that are not</font>

414
00:17:07,579 --> 00:17:13,220
<font color="#E5E5E5">the airport codes</font><font color="#CCCCCC"> so there's the major</font>

415
00:17:10,459 --> 00:17:17,299
<font color="#CCCCCC">u.s. locations</font><font color="#E5E5E5"> and then the the major</font>

416
00:17:13,220 --> 00:17:19,760
<font color="#E5E5E5">non-us locations</font><font color="#CCCCCC"> and obviously the star</font>

417
00:17:17,299 --> 00:17:21,408
almost silly codes is I just stole

418
00:17:19,760 --> 00:17:23,779
whatever<font color="#CCCCCC"> entity uses since they seem to</font>

419
00:17:21,409 --> 00:17:28,250
be the<font color="#E5E5E5"> primary users of silly codes that</font>

420
00:17:23,779 --> 00:17:31,159
are<font color="#E5E5E5"> not in the</font><font color="#CCCCCC"> US so the</font><font color="#E5E5E5"> next thing that</font>

421
00:17:28,250 --> 00:17:34,490
you might<font color="#E5E5E5"> care to interpret is interface</font>

422
00:17:31,159 --> 00:17:36,409
type<font color="#E5E5E5"> most networks are making a</font>

423
00:17:34,490 --> 00:17:38,270
<font color="#E5E5E5">good-faith</font><font color="#CCCCCC"> effort</font><font color="#E5E5E5"> to put it in DNS not</font>

424
00:17:36,409 --> 00:17:39,590
only to help you know random<font color="#E5E5E5"> Joe user on</font>

425
00:17:38,270 --> 00:17:41,450
the internet but to help<font color="#CCCCCC"> themselves</font>

426
00:17:39,590 --> 00:17:42,350
<font color="#E5E5E5">because sometimes they have to trace</font>

427
00:17:41,450 --> 00:17:43,880
<font color="#E5E5E5">route through their own network and</font>

428
00:17:42,350 --> 00:17:47,029
<font color="#CCCCCC">figure out what router and what</font>

429
00:17:43,880 --> 00:17:49,399
interface it's on and<font color="#E5E5E5"> it's very helpful</font>

430
00:17:47,029 --> 00:17:50,690
<font color="#E5E5E5">to have</font><font color="#CCCCCC"> that information so there's a</font>

431
00:17:49,399 --> 00:17:53,600
lot of<font color="#E5E5E5"> networks that are actually doing</font>

432
00:17:50,690 --> 00:17:56,000
<font color="#E5E5E5">this automatically</font><font color="#CCCCCC"> I do it automatically</font>

433
00:17:53,600 --> 00:17:59,449
<font color="#E5E5E5">via SNMP it's not terribly difficult to</font>

434
00:17:56,000 --> 00:18:02,659
do<font color="#CCCCCC"> so most of the big</font><font color="#E5E5E5"> networks are doing</font>

435
00:17:59,450 --> 00:18:04,970
<font color="#E5E5E5">that and you can use</font><font color="#CCCCCC"> that information</font><font color="#E5E5E5"> to</font>

436
00:18:02,659 --> 00:18:06,520
<font color="#E5E5E5">figure out not only the interface type</font>

437
00:18:04,970 --> 00:18:10,309
but even the<font color="#E5E5E5"> make or model</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> the router</font>

438
00:18:06,520 --> 00:18:12,529
<font color="#E5E5E5">for example this is one of my interfaces</font>

439
00:18:10,309 --> 00:18:16,070
to level<font color="#E5E5E5"> 3 you can look at the interface</font>

440
00:18:12,529 --> 00:18:18,620
<font color="#E5E5E5">name and see</font><font color="#CCCCCC"> EXCI - something you know</font>

441
00:18:16,070 --> 00:18:20,360
it's a Juniper<font color="#CCCCCC"> tango port</font><font color="#E5E5E5"> the card</font>

442
00:18:18,620 --> 00:18:22,820
starts at<font color="#E5E5E5"> 11 so you know that the router</font>

443
00:18:20,360 --> 00:18:25,668
<font color="#E5E5E5">has at least</font><font color="#CCCCCC"> 12 thoughts and it's a 10</font>

444
00:18:22,820 --> 00:18:27,740
gig port and it's<font color="#E5E5E5"> an a not 0 numbered</font>

445
00:18:25,669 --> 00:18:29,720
<font color="#CCCCCC">pic slot so</font><font color="#E5E5E5"> you know that it's a 40 gig</font>

446
00:18:27,740 --> 00:18:31,880
card so you<font color="#E5E5E5"> know that it's a Juniper</font><font color="#CCCCCC"> MX</font>

447
00:18:29,720 --> 00:18:37,640
960<font color="#E5E5E5"> and no other device could fit that</font>

448
00:18:31,880 --> 00:18:39,890
profile<font color="#CCCCCC"> I need to know and I have a list</font>

449
00:18:37,640 --> 00:18:43,760
of common interface names that you<font color="#CCCCCC"> might</font>

450
00:18:39,890 --> 00:18:46,070
see so a lot<font color="#CCCCCC"> of</font><font color="#E5E5E5"> people put the short</font>

451
00:18:43,760 --> 00:18:48,830
name which is actually will pull off

452
00:18:46,070 --> 00:18:51,760
directly<font color="#CCCCCC"> off of SNMP</font><font color="#E5E5E5"> so you'll see these</font>

453
00:18:48,830 --> 00:18:54,439
type of names out<font color="#CCCCCC"> there</font><font color="#E5E5E5"> most of the time</font>

454
00:18:51,760 --> 00:18:56,480
<font color="#E5E5E5">for the different interface types or for</font>

455
00:18:54,440 --> 00:18:57,770
<font color="#CCCCCC">Ethernet bundles or SONET bundles</font><font color="#E5E5E5"> and</font>

456
00:18:56,480 --> 00:18:58,580
<font color="#E5E5E5">they're different depending on if it's</font>

457
00:18:57,770 --> 00:19:05,510
iOS or

458
00:18:58,580 --> 00:19:07,699
<font color="#CCCCCC">or juniper some people do some people do</font>

459
00:19:05,510 --> 00:19:09,769
obfuscate<font color="#CCCCCC"> well obviously the number one</font>

460
00:19:07,700 --> 00:19:11,870
thing that<font color="#E5E5E5"> people do like</font><font color="#CCCCCC"> Google just</font>

461
00:19:09,769 --> 00:19:13,789
doesn't put<font color="#CCCCCC"> DNS or maybe they have a</font>

462
00:19:11,870 --> 00:19:15,110
name server that you know they use

463
00:19:13,789 --> 00:19:17,990
internally<font color="#E5E5E5"> that returns the correct</font>

464
00:19:15,110 --> 00:19:20,600
<font color="#E5E5E5">results but you</font><font color="#CCCCCC"> know globally outside</font>

465
00:19:17,990 --> 00:19:22,399
the<font color="#E5E5E5"> network it doesn't</font><font color="#CCCCCC"> there are some</font>

466
00:19:20,600 --> 00:19:25,250
cases<font color="#E5E5E5"> where people have picked a</font>

467
00:19:22,399 --> 00:19:26,539
standard<font color="#CCCCCC"> a level-3</font><font color="#E5E5E5"> use to do this at</font>

468
00:19:25,250 --> 00:19:28,730
<font color="#CCCCCC">some point and</font><font color="#E5E5E5"> then there's a couple</font>

469
00:19:26,539 --> 00:19:30,830
other people that do<font color="#CCCCCC"> to where even if</font>

470
00:19:28,730 --> 00:19:33,470
it's not a<font color="#E5E5E5"> Juniper or even if it's not a</font>

471
00:19:30,830 --> 00:19:36,168
<font color="#E5E5E5">Cisco they named it</font><font color="#CCCCCC"> after the opposite</font>

472
00:19:33,470 --> 00:19:37,909
style<font color="#E5E5E5"> and in that case you just</font><font color="#CCCCCC"> don't</font>

473
00:19:36,169 --> 00:19:40,309
know what kind of router it is but you

474
00:19:37,909 --> 00:19:42,380
<font color="#E5E5E5">know there's still there's people</font><font color="#CCCCCC"> that</font>

475
00:19:40,309 --> 00:19:44,360
lie obviously that claim they have a<font color="#CCCCCC"> ten</font>

476
00:19:42,380 --> 00:19:46,730
<font color="#CCCCCC">gigglin it's</font><font color="#E5E5E5"> really a fast e or</font>

477
00:19:44,360 --> 00:19:52,309
something<font color="#CCCCCC"> but you</font><font color="#E5E5E5"> know you're going on</font>

478
00:19:46,730 --> 00:19:54,320
what people are<font color="#E5E5E5"> telling you so then you</font>

479
00:19:52,309 --> 00:19:57,260
want to<font color="#E5E5E5"> interpret</font><font color="#CCCCCC"> DNS</font><font color="#E5E5E5"> and figure out the</font>

480
00:19:54,320 --> 00:19:58,760
the<font color="#CCCCCC"> role of the router the hard part</font>

481
00:19:57,260 --> 00:20:00,408
<font color="#E5E5E5">here is</font><font color="#CCCCCC"> that every company and every</font>

482
00:19:58,760 --> 00:20:02,539
<font color="#CCCCCC">network uses their own standards</font><font color="#E5E5E5"> and</font>

483
00:20:00,409 --> 00:20:04,250
there's no real standards there's a lot

484
00:20:02,539 --> 00:20:07,460
of common<font color="#CCCCCC"> patterns that you can</font><font color="#E5E5E5"> you</font><font color="#CCCCCC"> can</font>

485
00:20:04,250 --> 00:20:10,519
find<font color="#E5E5E5"> so I just listed some of the most</font>

486
00:20:07,460 --> 00:20:12,710
common names<font color="#CCCCCC"> that people are using</font><font color="#E5E5E5"> core</font>

487
00:20:10,519 --> 00:20:14,330
routers cubic or<font color="#CCCCCC"> alders</font><font color="#E5E5E5"> terabit core</font>

488
00:20:12,710 --> 00:20:16,789
routers even have backbone routers

489
00:20:14,330 --> 00:20:19,070
backbone routers core<font color="#E5E5E5"> whatever you</font>

490
00:20:16,789 --> 00:20:20,419
<font color="#E5E5E5">choose to call</font><font color="#CCCCCC"> it it's some device that</font>

491
00:20:19,070 --> 00:20:23,059
is interconnecting the rest of your

492
00:20:20,419 --> 00:20:24,919
network<font color="#E5E5E5"> to itself</font>

493
00:20:23,059 --> 00:20:26,029
there's your your dedicated peering

494
00:20:24,919 --> 00:20:27,980
routers and<font color="#E5E5E5"> a lot of people are</font>

495
00:20:26,029 --> 00:20:29,870
<font color="#CCCCCC">combining core and peering routers so</font>

496
00:20:27,980 --> 00:20:32,059
it's harder to<font color="#E5E5E5"> tell but some of the</font>

497
00:20:29,870 --> 00:20:35,510
common names<font color="#CCCCCC"> are border routers border</font>

498
00:20:32,059 --> 00:20:37,580
edge<font color="#E5E5E5"> interconnection routers Internet</font>

499
00:20:35,510 --> 00:20:40,879
gateway<font color="#E5E5E5"> peer or whatever you choose</font><font color="#CCCCCC"> to</font>

500
00:20:37,580 --> 00:20:43,779
<font color="#CCCCCC">call it and</font><font color="#E5E5E5"> then more commonly you see</font>

501
00:20:40,880 --> 00:20:46,000
dedicated routers for customer<font color="#E5E5E5"> attached</font>

502
00:20:43,779 --> 00:20:49,490
<font color="#CCCCCC">some people call them access routers</font>

503
00:20:46,000 --> 00:20:53,659
aggregation devices<font color="#E5E5E5"> cost customer access</font>

504
00:20:49,490 --> 00:20:56,169
<font color="#CCCCCC">high-speed access</font><font color="#E5E5E5"> or just gateway</font><font color="#CCCCCC"> so</font>

505
00:20:53,659 --> 00:20:58,250
when you see those routers<font color="#CCCCCC"> you know</font>

506
00:20:56,169 --> 00:20:59,990
<font color="#CCCCCC">especially if it's a company</font><font color="#E5E5E5"> that</font>

507
00:20:58,250 --> 00:21:03,080
<font color="#E5E5E5">follows a certain standard you know you</font>

508
00:20:59,990 --> 00:21:05,289
see a GW and you know that as a<font color="#E5E5E5"> customer</font>

509
00:21:03,080 --> 00:21:07,649
<font color="#E5E5E5">and that can be</font><font color="#CCCCCC"> helpful for</font><font color="#E5E5E5"> figuring out</font>

510
00:21:05,289 --> 00:21:11,490
what the paths are and

511
00:21:07,650 --> 00:21:13,670
doing what<font color="#CCCCCC"> and then the other thing you</font>

512
00:21:11,490 --> 00:21:16,590
want<font color="#CCCCCC"> identify is the</font><font color="#E5E5E5"> network boundaries</font>

513
00:21:13,670 --> 00:21:18,150
<font color="#CCCCCC">the reason</font><font color="#E5E5E5"> for that is when you cross</font>

514
00:21:16,590 --> 00:21:20,010
<font color="#E5E5E5">network boundaries that's where you</font>

515
00:21:18,150 --> 00:21:23,880
start to<font color="#E5E5E5"> see</font><font color="#CCCCCC"> asymmetric paths happening</font>

516
00:21:20,010 --> 00:21:26,670
<font color="#E5E5E5">because</font><font color="#CCCCCC"> as soon as I cross a border from</font>

517
00:21:23,880 --> 00:21:28,350
<font color="#CCCCCC">global crossing the sprint sprint is now</font>

518
00:21:26,670 --> 00:21:30,150
using their<font color="#CCCCCC"> own local prefs on their own</font>

519
00:21:28,350 --> 00:21:31,530
<font color="#E5E5E5">values to</font><font color="#CCCCCC"> determine how that paths going</font>

520
00:21:30,150 --> 00:21:34,440
<font color="#E5E5E5">to get back to me and it's very likely</font>

521
00:21:31,530 --> 00:21:36,420
to be<font color="#E5E5E5"> completely</font><font color="#CCCCCC"> different</font><font color="#E5E5E5"> than it was</font>

522
00:21:34,440 --> 00:21:38,960
<font color="#CCCCCC">before you cross the</font><font color="#E5E5E5"> network boundary so</font>

523
00:21:36,420 --> 00:21:41,700
you want to be<font color="#CCCCCC"> able to</font><font color="#E5E5E5"> identify</font><font color="#CCCCCC"> that and</font>

524
00:21:38,960 --> 00:21:44,480
<font color="#CCCCCC">even</font><font color="#E5E5E5"> more importantly you</font><font color="#CCCCCC"> want</font><font color="#E5E5E5"> to be</font>

525
00:21:41,700 --> 00:21:47,510
able<font color="#E5E5E5"> to identify the customer edge</font>

526
00:21:44,480 --> 00:21:51,030
because that's that's<font color="#E5E5E5"> a common source of</font>

527
00:21:47,510 --> 00:21:53,040
incorrect<font color="#CCCCCC"> traceroute analysis is where</font>

528
00:21:51,030 --> 00:21:55,139
people<font color="#E5E5E5"> see the traceroute stop</font><font color="#CCCCCC"> on</font>

529
00:21:53,040 --> 00:21:56,550
certain<font color="#CCCCCC"> things and they say well here's</font>

530
00:21:55,140 --> 00:21:58,140
the<font color="#E5E5E5"> example of it</font><font color="#CCCCCC"> working correctly</font>

531
00:21:56,550 --> 00:22:00,690
here's the<font color="#E5E5E5"> example of it not working</font>

532
00:21:58,140 --> 00:22:02,340
<font color="#CCCCCC">correctly</font><font color="#E5E5E5"> and it stops right</font><font color="#CCCCCC"> here</font><font color="#E5E5E5"> and it</font>

533
00:22:00,690 --> 00:22:04,590
<font color="#E5E5E5">has your</font><font color="#CCCCCC"> name</font><font color="#E5E5E5"> in it well it might have</font>

534
00:22:02,340 --> 00:22:08,669
<font color="#E5E5E5">your name in it but it might be your</font>

535
00:22:04,590 --> 00:22:10,740
network customer premise or whatever

536
00:22:08,670 --> 00:22:12,750
it's<font color="#E5E5E5"> the customer router but it's your</font>

537
00:22:10,740 --> 00:22:14,970
slash 30<font color="#CCCCCC"> so they associate it with you</font>

538
00:22:12,750 --> 00:22:16,170
so they open the ticket with you<font color="#CCCCCC"> even</font>

539
00:22:14,970 --> 00:22:17,900
though it's<font color="#CCCCCC"> actually the customer size</font>

540
00:22:16,170 --> 00:22:20,430
so you you want<font color="#CCCCCC"> to</font><font color="#E5E5E5"> be able</font><font color="#CCCCCC"> to identify</font>

541
00:22:17,900 --> 00:22:22,410
<font color="#E5E5E5">where that demarcation point is and</font>

542
00:22:20,430 --> 00:22:24,420
there's a<font color="#E5E5E5"> lot of networks that will do</font>

543
00:22:22,410 --> 00:22:27,420
nice things like<font color="#E5E5E5"> actually put customer</font>

544
00:22:24,420 --> 00:22:31,380
or otherwise make it very clear<font color="#E5E5E5"> what</font><font color="#CCCCCC"> the</font>

545
00:22:27,420 --> 00:22:34,230
demarcation<font color="#E5E5E5"> point is so here's some</font>

546
00:22:31,380 --> 00:22:35,850
examples<font color="#CCCCCC"> of doing that</font><font color="#E5E5E5"> you know</font>

547
00:22:34,230 --> 00:22:38,070
<font color="#E5E5E5">obviously it's really</font><font color="#CCCCCC"> easy to</font><font color="#E5E5E5"> see when</font>

548
00:22:35,850 --> 00:22:40,530
you've now crossed<font color="#E5E5E5"> from</font><font color="#CCCCCC"> Global</font><font color="#E5E5E5"> Crossing</font>

549
00:22:38,070 --> 00:22:43,409
to<font color="#E5E5E5"> sprint</font><font color="#CCCCCC"> but that</font><font color="#E5E5E5"> only happens when</font>

550
00:22:40,530 --> 00:22:46,290
both<font color="#E5E5E5"> sides are setting the DNS correctly</font>

551
00:22:43,410 --> 00:22:48,420
<font color="#E5E5E5">so what tends to happen is you have you</font>

552
00:22:46,290 --> 00:22:50,879
know a slash 30 or whatever block

553
00:22:48,420 --> 00:22:52,980
interconnecting<font color="#E5E5E5"> two networks and that IP</font>

554
00:22:50,880 --> 00:22:57,150
address<font color="#CCCCCC"> tends</font><font color="#E5E5E5"> to be owned by</font><font color="#CCCCCC"> one of</font><font color="#E5E5E5"> the</font>

555
00:22:52,980 --> 00:23:00,060
parties<font color="#CCCCCC"> so the only way that the</font><font color="#E5E5E5"> DNS is</font>

556
00:22:57,150 --> 00:23:01,860
set<font color="#CCCCCC"> correctly</font><font color="#E5E5E5"> for the</font><font color="#CCCCCC"> opposite side</font><font color="#E5E5E5"> is</font>

557
00:23:00,060 --> 00:23:03,690
if they talk to the other side and say

558
00:23:01,860 --> 00:23:06,929
what<font color="#E5E5E5"> DNS do you want and then they go</font>

559
00:23:03,690 --> 00:23:10,640
set<font color="#CCCCCC"> it and that tends to not</font><font color="#E5E5E5"> happen in a</font>

560
00:23:06,930 --> 00:23:13,440
lot<font color="#CCCCCC"> of</font><font color="#E5E5E5"> cases so you see for</font><font color="#CCCCCC"> example</font>

561
00:23:10,640 --> 00:23:15,840
here's a cogent peer where what they do

562
00:23:13,440 --> 00:23:17,490
is they name it<font color="#E5E5E5"> you know it's named</font>

563
00:23:15,840 --> 00:23:18,929
after the<font color="#CCCCCC"> Global Crossing side of the</font>

564
00:23:17,490 --> 00:23:21,870
<font color="#E5E5E5">interface but that's actually</font><font color="#CCCCCC"> the cogent</font>

565
00:23:18,930 --> 00:23:23,370
side<font color="#CCCCCC"> it just happens to</font><font color="#E5E5E5"> be global</font>

566
00:23:21,870 --> 00:23:25,649
<font color="#CCCCCC">Roslin's blocky cogent didn't supply</font>

567
00:23:23,370 --> 00:23:30,149
them information<font color="#E5E5E5"> so they named it cogent</font>

568
00:23:25,650 --> 00:23:31,980
<font color="#E5E5E5">- whatever</font><font color="#CCCCCC"> and what you can do</font><font color="#E5E5E5"> remember</font>

569
00:23:30,150 --> 00:23:33,570
when<font color="#E5E5E5"> I was showing that the traceroute</font>

570
00:23:31,980 --> 00:23:35,700
<font color="#CCCCCC">is always showing</font><font color="#E5E5E5"> you the ingress</font>

571
00:23:33,570 --> 00:23:38,490
interface what you can do is look<font color="#E5E5E5"> for</font>

572
00:23:35,700 --> 00:23:40,680
<font color="#E5E5E5">the other side</font><font color="#CCCCCC"> of the slash 30 and see</font>

573
00:23:38,490 --> 00:23:43,170
what's the egress interface so for

574
00:23:40,680 --> 00:23:45,420
example here you you go look at dot

575
00:23:43,170 --> 00:23:47,430
<font color="#CCCCCC">eight nine instead of dot ninety and</font><font color="#E5E5E5"> you</font>

576
00:23:45,420 --> 00:23:48,630
know you can do math on<font color="#CCCCCC"> cider blocks and</font>

577
00:23:47,430 --> 00:23:50,790
figure out<font color="#E5E5E5"> what the other side of the</font>

578
00:23:48,630 --> 00:23:52,530
slash<font color="#CCCCCC"> 30 is and there's the actual</font>

579
00:23:50,790 --> 00:23:54,240
information<font color="#E5E5E5"> that's the that's the egress</font>

580
00:23:52,530 --> 00:23:55,889
interface on mobile crossings router<font color="#E5E5E5"> and</font>

581
00:23:54,240 --> 00:23:57,450
you know that the other side<font color="#CCCCCC"> is cogent</font>

582
00:23:55,890 --> 00:24:01,380
<font color="#E5E5E5">so that's how you can get some</font><font color="#CCCCCC"> of that</font>

583
00:23:57,450 --> 00:24:04,640
<font color="#CCCCCC">information so understanding</font><font color="#E5E5E5"> network</font>

584
00:24:01,380 --> 00:24:06,830
latency is a big problem<font color="#E5E5E5"> with traceroute</font>

585
00:24:04,640 --> 00:24:09,480
<font color="#E5E5E5">it's basically there's</font><font color="#CCCCCC"> three types of</font>

586
00:24:06,830 --> 00:24:10,710
delay or network latency that<font color="#CCCCCC"> you have</font>

587
00:24:09,480 --> 00:24:13,230
to concern yourself with

588
00:24:10,710 --> 00:24:16,170
the first is serialization<font color="#E5E5E5"> delay which</font>

589
00:24:13,230 --> 00:24:18,960
<font color="#E5E5E5">is caused by having to transmit packets</font>

590
00:24:16,170 --> 00:24:20,520
<font color="#CCCCCC">in one complete entity you can't start</font>

591
00:24:18,960 --> 00:24:22,710
the<font color="#E5E5E5"> next packet until the first packet</font>

592
00:24:20,520 --> 00:24:24,240
finishes<font color="#E5E5E5"> so the time that you're</font>

593
00:24:22,710 --> 00:24:26,130
transmitting that packet is a

594
00:24:24,240 --> 00:24:28,320
serialization delay you have to wait for

595
00:24:26,130 --> 00:24:30,450
the<font color="#CCCCCC"> whole thing to come through</font><font color="#E5E5E5"> there's</font>

596
00:24:28,320 --> 00:24:31,649
a queuing delay which is<font color="#E5E5E5"> time spent in</font>

597
00:24:30,450 --> 00:24:33,960
<font color="#CCCCCC">the router queues waiting for</font>

598
00:24:31,650 --> 00:24:37,110
transmission which is mostly associated

599
00:24:33,960 --> 00:24:38,940
with just<font color="#E5E5E5"> the interfaces being full</font><font color="#CCCCCC"> and</font>

600
00:24:37,110 --> 00:24:41,580
<font color="#CCCCCC">you've got propagation delay</font><font color="#E5E5E5"> which is</font>

601
00:24:38,940 --> 00:24:43,500
<font color="#E5E5E5">how long it takes to</font><font color="#CCCCCC"> actually</font><font color="#E5E5E5"> transmit</font>

602
00:24:41,580 --> 00:24:45,360
the message<font color="#CCCCCC"> over whatever</font><font color="#E5E5E5"> the medium is</font>

603
00:24:43,500 --> 00:24:47,580
<font color="#CCCCCC">fibre or</font><font color="#E5E5E5"> whatever the case may be and</font>

604
00:24:45,360 --> 00:24:52,350
<font color="#E5E5E5">that's</font><font color="#CCCCCC"> primarily</font><font color="#E5E5E5"> the speed of light</font>

605
00:24:47,580 --> 00:24:55,860
based or whatever so serialization delay

606
00:24:52,350 --> 00:24:58,260
<font color="#E5E5E5">a little</font><font color="#CCCCCC"> more detail on</font><font color="#E5E5E5"> it</font><font color="#CCCCCC"> but</font><font color="#E5E5E5"> basically</font>

607
00:24:55,860 --> 00:25:00,209
what I said before<font color="#CCCCCC"> it's</font><font color="#E5E5E5"> not much of</font><font color="#CCCCCC"> an</font>

608
00:24:58,260 --> 00:25:03,090
<font color="#E5E5E5">issue in modern networks and the reason</font>

609
00:25:00,210 --> 00:25:05,120
<font color="#CCCCCC">for that is</font><font color="#E5E5E5"> over time interfaces have</font>

610
00:25:03,090 --> 00:25:07,740
gotten many orders of<font color="#CCCCCC"> magnitude faster</font>

611
00:25:05,120 --> 00:25:11,790
while packet sizes<font color="#E5E5E5"> have stayed about the</font>

612
00:25:07,740 --> 00:25:14,250
same<font color="#E5E5E5"> so these days you find most router</font>

613
00:25:11,790 --> 00:25:16,139
<font color="#CCCCCC">lengths a hundred a thousand times</font>

614
00:25:14,250 --> 00:25:18,929
<font color="#CCCCCC">faster than they used to</font><font color="#E5E5E5"> be when it was</font>

615
00:25:16,140 --> 00:25:20,160
a 56k line but the packet sizes<font color="#E5E5E5"> are not</font>

616
00:25:18,929 --> 00:25:23,640
a<font color="#E5E5E5"> hundred</font><font color="#CCCCCC"> or thousand times bigger</font>

617
00:25:20,160 --> 00:25:25,620
they're mostly<font color="#E5E5E5"> the</font><font color="#CCCCCC"> same</font><font color="#E5E5E5"> so these days</font>

618
00:25:23,640 --> 00:25:28,410
<font color="#E5E5E5">this is this is very little of a problem</font>

619
00:25:25,620 --> 00:25:30,330
<font color="#E5E5E5">but if you're</font><font color="#CCCCCC"> talking about very slow</font>

620
00:25:28,410 --> 00:25:32,520
networks very<font color="#E5E5E5"> small networks whatever</font>

621
00:25:30,330 --> 00:25:33,928
the case may be<font color="#E5E5E5"> every time you have a</font>

622
00:25:32,520 --> 00:25:35,879
router hop that has<font color="#CCCCCC"> to</font>

623
00:25:33,929 --> 00:25:37,620
interact<font color="#E5E5E5"> with a packet on</font><font color="#CCCCCC"> the packet</font>

624
00:25:35,880 --> 00:25:39,659
level<font color="#E5E5E5"> you're introducing this delay</font>

625
00:25:37,620 --> 00:25:41,039
because you have to you can't<font color="#E5E5E5"> continue</font>

626
00:25:39,659 --> 00:25:43,799
transmitting<font color="#E5E5E5"> the beginning of the packet</font>

627
00:25:41,039 --> 00:25:45,750
until the whole<font color="#E5E5E5"> thing is received</font><font color="#CCCCCC"> so if</font>

628
00:25:43,799 --> 00:25:48,799
<font color="#E5E5E5">you got a network built of T ones you're</font>

629
00:25:45,750 --> 00:25:52,080
<font color="#E5E5E5">gonna start to</font><font color="#CCCCCC"> see this add</font><font color="#E5E5E5"> up quickly</font>

630
00:25:48,799 --> 00:25:54,570
<font color="#E5E5E5">your queuing delay</font><font color="#CCCCCC"> when</font><font color="#E5E5E5"> people talk</font>

631
00:25:52,080 --> 00:25:56,490
about utilization<font color="#CCCCCC"> you know</font><font color="#E5E5E5"> if you if</font>

632
00:25:54,570 --> 00:25:58,918
<font color="#E5E5E5">you're</font><font color="#CCCCCC"> using 500 Meg's per second on a</font>

633
00:25:56,490 --> 00:26:02,340
<font color="#CCCCCC">geeky interface</font><font color="#E5E5E5"> people say that it's</font><font color="#CCCCCC"> 50%</font>

634
00:25:58,919 --> 00:26:05,370
utilized but in<font color="#E5E5E5"> reality an interface is</font>

635
00:26:02,340 --> 00:26:06,779
<font color="#E5E5E5">either 100% utilized or it's 0% utilized</font>

636
00:26:05,370 --> 00:26:08,340
either you're transmitting<font color="#E5E5E5"> or you're not</font>

637
00:26:06,779 --> 00:26:11,070
transmitting<font color="#CCCCCC"> so what you're actually</font>

638
00:26:08,340 --> 00:26:13,350
<font color="#CCCCCC">talking about is utilization over</font><font color="#E5E5E5"> time</font>

639
00:26:11,070 --> 00:26:15,360
<font color="#E5E5E5">you're saying 500 megabits per second</font>

640
00:26:13,350 --> 00:26:17,850
<font color="#E5E5E5">you're taking a</font><font color="#CCCCCC"> one-second</font><font color="#E5E5E5"> average and</font>

641
00:26:15,360 --> 00:26:20,459
you're saying<font color="#E5E5E5"> that 50% of the time over</font>

642
00:26:17,850 --> 00:26:22,740
<font color="#CCCCCC">that one second</font><font color="#E5E5E5"> I'm transmitting but in</font>

643
00:26:20,460 --> 00:26:24,299
<font color="#E5E5E5">reality when packets come in a lot</font><font color="#CCCCCC"> of</font>

644
00:26:22,740 --> 00:26:26,190
the times<font color="#E5E5E5"> the interface is transmitting</font>

645
00:26:24,299 --> 00:26:28,200
<font color="#E5E5E5">so when the interface is transmitting</font>

646
00:26:26,190 --> 00:26:30,809
you can't send the next<font color="#E5E5E5"> packet so it has</font>

647
00:26:28,200 --> 00:26:33,360
to be queued<font color="#CCCCCC"> so</font><font color="#E5E5E5"> even if an interface</font>

648
00:26:30,809 --> 00:26:34,830
isn't<font color="#E5E5E5"> completely full</font><font color="#CCCCCC"> you're gonna see</font>

649
00:26:33,360 --> 00:26:38,010
queuing<font color="#E5E5E5"> you're just gonna see very small</font>

650
00:26:34,830 --> 00:26:40,439
queuing<font color="#CCCCCC"> but as an interface</font><font color="#E5E5E5"> starts to</font>

651
00:26:38,010 --> 00:26:42,450
reach saturation<font color="#E5E5E5"> what you see is the</font>

652
00:26:40,440 --> 00:26:44,130
<font color="#E5E5E5">amount of time the packet is queued</font><font color="#CCCCCC"> and</font>

653
00:26:42,450 --> 00:26:48,000
the router<font color="#E5E5E5"> goes up exponentially</font><font color="#CCCCCC"> and</font>

654
00:26:44,130 --> 00:26:50,399
then when an interface is very<font color="#CCCCCC"> full</font><font color="#E5E5E5"> you</font>

655
00:26:48,000 --> 00:26:52,049
may see that<font color="#E5E5E5"> the packet spends hundreds</font>

656
00:26:50,399 --> 00:26:53,279
or thousands of milliseconds sitting<font color="#E5E5E5"> at</font>

657
00:26:52,049 --> 00:26:54,510
a<font color="#E5E5E5"> router buffer</font><font color="#CCCCCC"> before it can get</font>

658
00:26:53,279 --> 00:26:56,549
transmitted but<font color="#E5E5E5"> it still gets</font><font color="#CCCCCC"> through</font>

659
00:26:54,510 --> 00:26:57,330
you know even if the interface is<font color="#CCCCCC"> 95</font>

660
00:26:56,549 --> 00:26:58,770
<font color="#CCCCCC">percent</font><font color="#E5E5E5"> full</font>

661
00:26:57,330 --> 00:27:00,090
<font color="#CCCCCC">it still gets through</font><font color="#E5E5E5"> but it's</font><font color="#CCCCCC"> gonna</font>

662
00:26:58,770 --> 00:27:01,918
spend a lot of<font color="#E5E5E5"> time sitting</font><font color="#CCCCCC"> in the</font>

663
00:27:00,090 --> 00:27:08,340
router waiting and you're gonna see that

664
00:27:01,919 --> 00:27:10,919
<font color="#CCCCCC">latency in your tracer on the</font><font color="#E5E5E5"> buffers</font>

665
00:27:08,340 --> 00:27:13,439
depend on the router type<font color="#E5E5E5"> historically</font>

666
00:27:10,919 --> 00:27:14,820
the the line of logic<font color="#E5E5E5"> has always been</font>

667
00:27:13,440 --> 00:27:18,330
that<font color="#E5E5E5"> a core router needs 200</font>

668
00:27:14,820 --> 00:27:20,460
<font color="#E5E5E5">milliseconds of buffering so when you're</font>

669
00:27:18,330 --> 00:27:22,320
<font color="#E5E5E5">talking about a GSR of crs-1 a big</font>

670
00:27:20,460 --> 00:27:25,260
<font color="#E5E5E5">juniper that's the kind of value</font><font color="#CCCCCC"> that</font>

671
00:27:22,320 --> 00:27:26,700
you'll tend to<font color="#E5E5E5"> see a lot of the</font><font color="#CCCCCC"> ethernet</font>

672
00:27:25,260 --> 00:27:29,490
<font color="#CCCCCC">devices that people are using like</font>

673
00:27:26,700 --> 00:27:31,679
<font color="#E5E5E5">Cisco's 6576 hundreds or foundries</font>

674
00:27:29,490 --> 00:27:33,779
whatever the case have much<font color="#E5E5E5"> smaller</font>

675
00:27:31,679 --> 00:27:35,340
buffers<font color="#CCCCCC"> so you may</font><font color="#E5E5E5"> not</font><font color="#CCCCCC"> actually an</font>

676
00:27:33,779 --> 00:27:37,950
interface may be<font color="#E5E5E5"> congested and you may</font>

677
00:27:35,340 --> 00:27:39,360
not<font color="#CCCCCC"> actually see that on a device</font><font color="#E5E5E5"> with a</font>

678
00:27:37,950 --> 00:27:43,789
very small buffer because it can<font color="#E5E5E5"> only</font>

679
00:27:39,360 --> 00:27:43,789
hold<font color="#E5E5E5"> you know 0.5 milliseconds worth</font>

680
00:27:44,000 --> 00:27:48,200
<font color="#E5E5E5">that you just get drop</font><font color="#CCCCCC"> packets but you</font>

681
00:27:45,740 --> 00:27:49,550
don't see the the<font color="#E5E5E5"> huge times</font><font color="#CCCCCC"> whereas if</font>

682
00:27:48,200 --> 00:27:54,770
the router<font color="#E5E5E5"> has a big buffer you might</font>

683
00:27:49,550 --> 00:27:57,080
see the<font color="#CCCCCC"> 3000 millisecond time and then</font>

684
00:27:54,770 --> 00:27:58,670
obviously the<font color="#CCCCCC"> other causes propagation</font>

685
00:27:57,080 --> 00:28:01,220
delay and this<font color="#E5E5E5"> is the big one that you</font>

686
00:27:58,670 --> 00:28:02,690
can't really<font color="#E5E5E5"> you know what I always tell</font>

687
00:28:01,220 --> 00:28:06,680
people is when<font color="#E5E5E5"> they complain is take it</font>

688
00:28:02,690 --> 00:28:09,350
up<font color="#E5E5E5"> with God</font><font color="#CCCCCC"> light only goes so fast</font>

689
00:28:06,680 --> 00:28:10,910
so I<font color="#E5E5E5"> did the math here for figuring out</font>

690
00:28:09,350 --> 00:28:13,459
how fast light goes through<font color="#E5E5E5"> fiber and</font>

691
00:28:10,910 --> 00:28:14,780
fiber is<font color="#E5E5E5"> not the most efficient medium</font>

692
00:28:13,460 --> 00:28:17,060
for<font color="#E5E5E5"> transmitting light but you get about</font>

693
00:28:14,780 --> 00:28:18,560
<font color="#CCCCCC">point six seven see through it</font><font color="#E5E5E5"> which is</font>

694
00:28:17,060 --> 00:28:22,429
around two hundred<font color="#E5E5E5"> thousand kilometers a</font>

695
00:28:18,560 --> 00:28:25,520
second<font color="#E5E5E5"> so you can divide</font><font color="#CCCCCC"> that out by</font>

696
00:28:22,430 --> 00:28:26,720
millisecond and see that<font color="#CCCCCC"> a</font><font color="#E5E5E5"> one way on</font>

697
00:28:25,520 --> 00:28:28,790
the<font color="#CCCCCC"> fiber is about two hundred</font>

698
00:28:26,720 --> 00:28:31,130
kilometers<font color="#CCCCCC"> or about 125 miles</font><font color="#E5E5E5"> per</font>

699
00:28:28,790 --> 00:28:33,710
<font color="#CCCCCC">millisecond and</font><font color="#E5E5E5"> then you cut that value</font>

700
00:28:31,130 --> 00:28:36,440
in half or multiply of whichever<font color="#E5E5E5"> what</font>

701
00:28:33,710 --> 00:28:38,360
you want to do the math<font color="#CCCCCC"> to take into</font>

702
00:28:36,440 --> 00:28:41,450
<font color="#E5E5E5">account</font><font color="#CCCCCC"> round trip and</font><font color="#E5E5E5"> you can see that</font>

703
00:28:38,360 --> 00:28:43,010
for<font color="#CCCCCC"> every sixty two</font><font color="#E5E5E5"> point five miles of</font>

704
00:28:41,450 --> 00:28:45,620
fiber you're gonna see about<font color="#E5E5E5"> one</font>

705
00:28:43,010 --> 00:28:47,690
millisecond added to your<font color="#CCCCCC"> traceroute so</font>

706
00:28:45,620 --> 00:28:49,310
you can actually<font color="#E5E5E5"> do the math on</font><font color="#CCCCCC"> that and</font>

707
00:28:47,690 --> 00:28:51,590
say well<font color="#E5E5E5"> if I have to go</font><font color="#CCCCCC"> around the</font>

708
00:28:49,310 --> 00:28:53,030
<font color="#E5E5E5">world the equator</font><font color="#CCCCCC"> it's going to be 400</font>

709
00:28:51,590 --> 00:28:58,120
milliseconds that's<font color="#E5E5E5"> be a light that's</font>

710
00:28:53,030 --> 00:29:00,200
that's something you can't<font color="#CCCCCC"> change so</font>

711
00:28:58,120 --> 00:29:02,560
well<font color="#E5E5E5"> you don't need to do the</font><font color="#CCCCCC"> round-trip</font>

712
00:29:00,200 --> 00:29:02,560
but

713
00:29:06,049 --> 00:29:12,289
that's coming<font color="#E5E5E5"> okay</font><font color="#CCCCCC"> so you have</font><font color="#E5E5E5"> to</font>

714
00:29:10,460 --> 00:29:13,399
identify<font color="#E5E5E5"> if the latency affecting you</font><font color="#CCCCCC"> is</font>

715
00:29:12,289 --> 00:29:14,899
<font color="#CCCCCC">normal</font><font color="#E5E5E5"> or not</font>

716
00:29:13,399 --> 00:29:17,570
<font color="#CCCCCC">a lot of</font><font color="#E5E5E5"> times people are going to open</font>

717
00:29:14,899 --> 00:29:19,699
<font color="#E5E5E5">tickets for problems on routers oh my</font>

718
00:29:17,570 --> 00:29:21,559
God my latency just went out<font color="#E5E5E5"> 67</font>

719
00:29:19,700 --> 00:29:23,090
milliseconds<font color="#CCCCCC"> this is horrible</font>

720
00:29:21,559 --> 00:29:25,129
well it's actually<font color="#E5E5E5"> not horrible because</font>

721
00:29:23,090 --> 00:29:26,899
<font color="#CCCCCC">you're going 4,200 miles you're going</font>

722
00:29:25,129 --> 00:29:28,820
from New York<font color="#CCCCCC"> to London</font><font color="#E5E5E5"> and this is why</font>

723
00:29:26,899 --> 00:29:31,879
you need to<font color="#CCCCCC"> know where your router</font><font color="#E5E5E5"> is</font>

724
00:29:28,820 --> 00:29:33,379
located<font color="#CCCCCC"> because now you identify that</font>

725
00:29:31,879 --> 00:29:37,189
<font color="#E5E5E5">this</font><font color="#CCCCCC"> is actually a long-distance fibre</font>

726
00:29:33,379 --> 00:29:39,619
out<font color="#E5E5E5"> you know another example where you</font>

727
00:29:37,190 --> 00:29:40,669
you see two<font color="#E5E5E5"> routers in DC and</font><font color="#CCCCCC"> you cross</font>

728
00:29:39,619 --> 00:29:42,709
the network boundary and<font color="#E5E5E5"> all of a sudden</font>

729
00:29:40,669 --> 00:29:44,539
<font color="#CCCCCC">it goes up 200 milliseconds that's</font>

730
00:29:42,710 --> 00:29:46,179
probably not<font color="#CCCCCC"> a propagation</font><font color="#E5E5E5"> delay</font><font color="#CCCCCC"> that's</font>

731
00:29:44,539 --> 00:29:52,369
probably congested interface or

732
00:29:46,179 --> 00:29:54,109
something else<font color="#CCCCCC"> so the other thing that</font>

733
00:29:52,369 --> 00:29:57,980
comes<font color="#E5E5E5"> into</font><font color="#CCCCCC"> play</font><font color="#E5E5E5"> with traceroute</font><font color="#CCCCCC"> is</font>

734
00:29:54,109 --> 00:30:00,259
<font color="#E5E5E5">prioritization rate limiting so the</font>

735
00:29:57,980 --> 00:30:01,820
architecture<font color="#E5E5E5"> of a modern router</font><font color="#CCCCCC"> is very</font>

736
00:30:00,259 --> 00:30:03,470
different depending<font color="#CCCCCC"> on whether you're</font>

737
00:30:01,820 --> 00:30:06,230
forwarding<font color="#E5E5E5"> packets or sending the</font>

738
00:30:03,470 --> 00:30:07,879
packets to<font color="#CCCCCC"> the</font><font color="#E5E5E5"> router so</font><font color="#CCCCCC"> assuming that</font>

739
00:30:06,230 --> 00:30:09,970
you're forwarding<font color="#E5E5E5"> packets through the</font>

740
00:30:07,879 --> 00:30:12,830
router<font color="#CCCCCC"> that's called the data plane and</font>

741
00:30:09,970 --> 00:30:15,080
in many<font color="#E5E5E5"> cases there's actually multiple</font>

742
00:30:12,830 --> 00:30:17,449
paths<font color="#E5E5E5"> within the data plane there's the</font>

743
00:30:15,080 --> 00:30:19,279
fast path which is optimized<font color="#E5E5E5"> to be as</font>

744
00:30:17,450 --> 00:30:20,899
efficient<font color="#E5E5E5"> as possible</font><font color="#CCCCCC"> and in modern</font>

745
00:30:19,279 --> 00:30:23,960
routers<font color="#E5E5E5"> what you're going to see here is</font>

746
00:30:20,899 --> 00:30:25,758
this is<font color="#E5E5E5"> entirely hardware based it's for</font>

747
00:30:23,960 --> 00:30:28,460
forwarding ordinary packets to<font color="#E5E5E5"> ordinary</font>

748
00:30:25,759 --> 00:30:29,690
places<font color="#E5E5E5"> and you're gonna get millions or</font>

749
00:30:28,460 --> 00:30:32,359
hundreds of<font color="#CCCCCC"> millions of packets per</font>

750
00:30:29,690 --> 00:30:34,309
second<font color="#E5E5E5"> and there's also</font><font color="#CCCCCC"> going to be a</font>

751
00:30:32,359 --> 00:30:36,710
slow path<font color="#E5E5E5"> which is how you handle</font>

752
00:30:34,309 --> 00:30:39,320
exception packets things that need<font color="#CCCCCC"> CPU</font>

753
00:30:36,710 --> 00:30:41,710
to handle and this is going<font color="#E5E5E5"> to be many</font>

754
00:30:39,320 --> 00:30:44,239
orders of<font color="#CCCCCC"> magnitude less capacity</font>

755
00:30:41,710 --> 00:30:46,519
<font color="#E5E5E5">examples are things like IP options or</font>

756
00:30:44,239 --> 00:30:49,879
things where<font color="#E5E5E5"> you have to generate an</font>

757
00:30:46,519 --> 00:30:51,440
ICMP<font color="#CCCCCC"> and then separately from packets</font>

758
00:30:49,879 --> 00:30:52,969
<font color="#E5E5E5">being forwarded</font><font color="#CCCCCC"> through the router as</font>

759
00:30:51,440 --> 00:30:55,639
packets being forwarded<font color="#CCCCCC"> to their outer</font>

760
00:30:52,970 --> 00:30:57,830
which is the control<font color="#CCCCCC"> plan examples of</font>

761
00:30:55,639 --> 00:31:00,408
that are<font color="#E5E5E5"> you know your BGP or</font><font color="#CCCCCC"> igb</font>

762
00:30:57,830 --> 00:31:01,999
packets<font color="#E5E5E5"> SNMP to the router</font><font color="#CCCCCC"> when</font>

763
00:31:00,409 --> 00:31:04,549
someone's sitting there on the router<font color="#CCCCCC"> on</font>

764
00:31:01,999 --> 00:31:06,529
the CLI typing show IP BGP and it's

765
00:31:04,549 --> 00:31:09,830
doing a big calculation<font color="#CCCCCC"> that's consuming</font>

766
00:31:06,529 --> 00:31:11,539
<font color="#E5E5E5">CPU anything</font><font color="#CCCCCC"> anytime</font><font color="#E5E5E5"> you ping the router</font>

767
00:31:09,830 --> 00:31:14,379
<font color="#E5E5E5">any time you send</font><font color="#CCCCCC"> anything</font><font color="#E5E5E5"> to an IP</font>

768
00:31:11,539 --> 00:31:16,480
that's<font color="#E5E5E5"> configured on the router itself</font>

769
00:31:14,380 --> 00:31:20,080
and<font color="#CCCCCC"> these CPUs tend to be very</font>

770
00:31:16,480 --> 00:31:22,270
underpowered<font color="#CCCCCC"> you know you will</font><font color="#E5E5E5"> see 300</font>

771
00:31:20,080 --> 00:31:26,289
to 600 gigabit per second routers with

772
00:31:22,270 --> 00:31:30,580
600 megahertz CPUs and generating<font color="#CCCCCC"> the</font>

773
00:31:26,289 --> 00:31:32,379
<font color="#CCCCCC">ICMP</font><font color="#E5E5E5"> is not a priority for</font><font color="#CCCCCC"> them the</font>

774
00:31:30,580 --> 00:31:35,889
other problem that tends<font color="#E5E5E5"> to happen is a</font>

775
00:31:32,380 --> 00:31:37,929
lot of platforms<font color="#CCCCCC"> share the the slow path</font>

776
00:31:35,890 --> 00:31:40,960
processing and the control plane share

777
00:31:37,929 --> 00:31:42,190
the same resources so when someone's

778
00:31:40,960 --> 00:31:44,169
forwarding packets through the router

779
00:31:42,190 --> 00:31:45,700
<font color="#E5E5E5">even if it's not going to the router</font>

780
00:31:44,169 --> 00:31:47,440
<font color="#CCCCCC">itself</font><font color="#E5E5E5"> even if it's going through the</font>

781
00:31:45,700 --> 00:31:49,990
router<font color="#E5E5E5"> but it's a type</font><font color="#CCCCCC"> of packet that</font>

782
00:31:47,440 --> 00:31:52,929
requires processing<font color="#CCCCCC"> it's going to</font>

783
00:31:49,990 --> 00:31:54,789
consume<font color="#E5E5E5"> the</font><font color="#CCCCCC"> same</font><font color="#E5E5E5"> CPU</font><font color="#CCCCCC"> or if</font><font color="#E5E5E5"> someone is</font>

784
00:31:52,929 --> 00:31:57,340
<font color="#E5E5E5">logged into the router on</font><font color="#CCCCCC"> the CLI and is</font>

785
00:31:54,789 --> 00:31:59,110
doing show IP<font color="#E5E5E5"> BGP regex and the router</font>

786
00:31:57,340 --> 00:32:01,799
is doing a lot<font color="#CCCCCC"> of calculations</font><font color="#E5E5E5"> it's</font>

787
00:31:59,110 --> 00:32:05,110
going to impact the slow path forwarding

788
00:32:01,799 --> 00:32:06,760
so the problem is<font color="#CCCCCC"> a</font><font color="#E5E5E5"> lot of these routers</font>

789
00:32:05,110 --> 00:32:09,370
don't tend to<font color="#E5E5E5"> have the best schedulers</font>

790
00:32:06,760 --> 00:32:11,408
you know they're not prioritizing

791
00:32:09,370 --> 00:32:14,770
handling the ICMP packets in<font color="#CCCCCC"> real-time</font>

792
00:32:11,409 --> 00:32:16,929
<font color="#CCCCCC">so when someone is using</font><font color="#E5E5E5"> the CLI or when</font>

793
00:32:14,770 --> 00:32:20,230
BGP is<font color="#CCCCCC"> churning or whatever the case</font><font color="#E5E5E5"> may</font>

794
00:32:16,929 --> 00:32:23,140
be you're gonna see spikes in your your

795
00:32:20,230 --> 00:32:25,570
latency and<font color="#CCCCCC"> the most infamous cause of</font>

796
00:32:23,140 --> 00:32:26,980
that on all cisco iOS devices is<font color="#E5E5E5"> BGP</font>

797
00:32:25,570 --> 00:32:28,689
scanner which<font color="#E5E5E5"> is a process that runs</font>

798
00:32:26,980 --> 00:32:30,460
<font color="#CCCCCC">every 60 seconds that</font><font color="#E5E5E5"> walks the BGP</font>

799
00:32:28,690 --> 00:32:31,900
<font color="#E5E5E5">table and every time it does your</font>

800
00:32:30,460 --> 00:32:36,309
traceroute latency spikes through<font color="#E5E5E5"> the</font>

801
00:32:31,900 --> 00:32:38,799
roof<font color="#E5E5E5"> and people see that</font><font color="#CCCCCC"> and the other</font>

802
00:32:36,309 --> 00:32:40,559
issue<font color="#E5E5E5"> is that most routers rate limit</font>

803
00:32:38,799 --> 00:32:42,908
their ICMP generation in some way<font color="#E5E5E5"> and</font>

804
00:32:40,559 --> 00:32:44,799
the bigger problem<font color="#CCCCCC"> is that they do</font><font color="#E5E5E5"> it</font>

805
00:32:42,909 --> 00:32:48,490
with hard-coded values which<font color="#E5E5E5"> are not</font>

806
00:32:44,799 --> 00:32:50,168
published<font color="#CCCCCC"> so for</font><font color="#E5E5E5"> example juniper has a</font>

807
00:32:48,490 --> 00:32:52,659
<font color="#E5E5E5">hard-coded limit of 50 packets per</font>

808
00:32:50,169 --> 00:32:54,580
second per interface<font color="#E5E5E5"> and you know</font>

809
00:32:52,659 --> 00:32:55,809
<font color="#E5E5E5">depending on the type of</font><font color="#CCCCCC"> FBC</font><font color="#E5E5E5"> or</font>

810
00:32:54,580 --> 00:32:57,129
depending on<font color="#E5E5E5"> the type of router and</font>

811
00:32:55,809 --> 00:32:58,960
they've<font color="#E5E5E5"> they've upped the limit in new</font>

812
00:32:57,130 --> 00:33:01,150
codes but it's still a hard-coded<font color="#E5E5E5"> limit</font>

813
00:32:58,960 --> 00:33:03,220
that you<font color="#E5E5E5"> don't know and</font><font color="#CCCCCC"> don't have any</font>

814
00:33:01,150 --> 00:33:05,350
ability<font color="#CCCCCC"> to configure</font><font color="#E5E5E5"> there's a limit</font><font color="#CCCCCC"> to</font>

815
00:33:03,220 --> 00:33:08,260
<font color="#E5E5E5">the number of</font><font color="#CCCCCC"> ICP</font>

816
00:33:05,350 --> 00:33:10,480
that can be<font color="#E5E5E5"> generated</font><font color="#CCCCCC"> so if you have</font><font color="#E5E5E5"> 20</font>

817
00:33:08,260 --> 00:33:11,890
people<font color="#E5E5E5"> individually running</font><font color="#CCCCCC"> traceroute</font>

818
00:33:10,480 --> 00:33:13,870
through your network<font color="#CCCCCC"> and they all hit</font>

819
00:33:11,890 --> 00:33:15,669
the same router in that same second you

820
00:33:13,870 --> 00:33:17,668
might<font color="#E5E5E5"> be dropping</font><font color="#CCCCCC"> some ICMP s and people</font>

821
00:33:15,669 --> 00:33:20,980
might be seeing<font color="#CCCCCC"> that as a false limit</font>

822
00:33:17,669 --> 00:33:23,320
<font color="#CCCCCC">and I have some</font><font color="#E5E5E5"> other vendors but the</font>

823
00:33:20,980 --> 00:33:23,809
point being<font color="#CCCCCC"> most vendors have some kind</font>

824
00:33:23,320 --> 00:33:27,668
<font color="#E5E5E5">of</font>

825
00:33:23,809 --> 00:33:27,668
arbitrary hard-coded rate limit

826
00:33:33,030 --> 00:33:38,370
yeah<font color="#CCCCCC"> cisco has a lot</font><font color="#E5E5E5"> of values</font><font color="#CCCCCC"> I didn't</font>

827
00:33:36,450 --> 00:33:40,500
get any good<font color="#E5E5E5"> concrete numbers to throw</font>

828
00:33:38,370 --> 00:33:42,270
<font color="#E5E5E5">into the presentation so I can't say for</font>

829
00:33:40,500 --> 00:33:47,510
sure<font color="#E5E5E5"> but it definitely differs depending</font>

830
00:33:42,270 --> 00:33:49,980
on<font color="#E5E5E5"> the</font><font color="#CCCCCC"> platform and code</font><font color="#E5E5E5"> and whatever</font><font color="#CCCCCC"> so</font>

831
00:33:47,510 --> 00:33:52,530
you as the<font color="#CCCCCC"> person looking at</font><font color="#E5E5E5"> a</font>

832
00:33:49,980 --> 00:33:54,690
traceroute<font color="#E5E5E5"> need to be able to spot the</font>

833
00:33:52,530 --> 00:33:56,820
<font color="#CCCCCC">fake latency and figure out if</font><font color="#E5E5E5"> it's</font>

834
00:33:54,690 --> 00:33:58,890
actually a<font color="#CCCCCC"> problem or not</font><font color="#E5E5E5"> so the most</font>

835
00:33:56,820 --> 00:34:01,439
important rule is if you don't<font color="#E5E5E5"> see the</font>

836
00:33:58,890 --> 00:34:04,230
latency continue forward<font color="#E5E5E5"> it's not an</font>

837
00:34:01,440 --> 00:34:06,659
<font color="#E5E5E5">actual problem</font><font color="#CCCCCC"> so here's an example</font><font color="#E5E5E5"> of a</font>

838
00:34:04,230 --> 00:34:09,060
latency spike<font color="#E5E5E5"> you know I</font><font color="#CCCCCC"> arranged</font><font color="#E5E5E5"> tracer</font>

839
00:34:06,659 --> 00:34:10,859
<font color="#E5E5E5">out three times and</font><font color="#CCCCCC"> there</font><font color="#E5E5E5"> you go the</font>

840
00:34:09,060 --> 00:34:12,418
<font color="#E5E5E5">third time there's a latency spike but</font>

841
00:34:10,859 --> 00:34:15,719
that's not actually a<font color="#E5E5E5"> problem</font><font color="#CCCCCC"> because as</font>

842
00:34:12,418 --> 00:34:20,819
you can<font color="#CCCCCC"> see</font><font color="#E5E5E5"> the third hop it continues</font>

843
00:34:15,719 --> 00:34:23,129
on normally so that's what I tell a lot

844
00:34:20,820 --> 00:34:25,080
<font color="#CCCCCC">of</font><font color="#E5E5E5"> clients and customers that look at</font>

845
00:34:23,129 --> 00:34:27,149
this<font color="#CCCCCC"> and say well somewhere</font><font color="#E5E5E5"> in the</font>

846
00:34:25,080 --> 00:34:29,940
<font color="#E5E5E5">middle there's a big spike and what you</font>

847
00:34:27,149 --> 00:34:32,098
can say is by<font color="#E5E5E5"> definition if the spike</font>

848
00:34:29,940 --> 00:34:34,080
does not continue<font color="#E5E5E5"> it's not an actual</font>

849
00:34:32,099 --> 00:34:37,020
<font color="#E5E5E5">problem it's</font><font color="#CCCCCC"> only something happening</font><font color="#E5E5E5"> on</font>

850
00:34:34,080 --> 00:34:38,489
<font color="#E5E5E5">that one router</font><font color="#CCCCCC"> because</font><font color="#E5E5E5"> if if it was a</font>

851
00:34:37,020 --> 00:34:43,050
<font color="#E5E5E5">problem with forwarding you would see</font>

852
00:34:38,489 --> 00:34:44,939
that in all<font color="#E5E5E5"> future packets the other big</font>

853
00:34:43,050 --> 00:34:47,210
problem<font color="#CCCCCC"> with traceroute</font><font color="#E5E5E5"> in fact the</font>

854
00:34:44,940 --> 00:34:49,320
biggest<font color="#E5E5E5"> problem is asymmetric paths</font>

855
00:34:47,210 --> 00:34:52,260
<font color="#E5E5E5">remember because you're looking</font><font color="#CCCCCC"> at</font>

856
00:34:49,320 --> 00:34:53,909
latency<font color="#E5E5E5"> that</font><font color="#CCCCCC"> is calculated</font><font color="#E5E5E5"> based on</font><font color="#CCCCCC"> the</font>

857
00:34:52,260 --> 00:34:56,280
time that<font color="#CCCCCC"> it takes</font><font color="#E5E5E5"> for your probe to go</font>

858
00:34:53,909 --> 00:34:59,910
out<font color="#E5E5E5"> plus the time that it takes for the</font>

859
00:34:56,280 --> 00:35:03,750
<font color="#E5E5E5">ICMP message to come back you have no</font>

860
00:34:59,910 --> 00:35:06,839
<font color="#E5E5E5">visibility into the return path so you</font>

861
00:35:03,750 --> 00:35:08,430
have no<font color="#E5E5E5"> idea where the problem is where</font>

862
00:35:06,839 --> 00:35:12,660
the<font color="#E5E5E5"> potential problem is that's a big</font>

863
00:35:08,430 --> 00:35:14,040
<font color="#E5E5E5">problem for tracer</font><font color="#CCCCCC"> al and the asymmetric</font>

864
00:35:12,660 --> 00:35:17,069
paths can even change<font color="#E5E5E5"> somewhere in the</font>

865
00:35:14,040 --> 00:35:18,509
middle so<font color="#CCCCCC"> you can have a trace route</font>

866
00:35:17,070 --> 00:35:20,130
that's clean of the beginning and clean

867
00:35:18,510 --> 00:35:22,320
at the<font color="#E5E5E5"> end and really high in the middle</font>

868
00:35:20,130 --> 00:35:24,450
<font color="#E5E5E5">and you might think</font><font color="#CCCCCC"> that it's a</font>

869
00:35:22,320 --> 00:35:26,460
prioritization<font color="#E5E5E5"> problem and in fact no</font>

870
00:35:24,450 --> 00:35:28,980
it's actually a forwarding problem but

871
00:35:26,460 --> 00:35:31,320
it's a<font color="#E5E5E5"> problem that only affects packets</font>

872
00:35:28,980 --> 00:35:33,359
<font color="#E5E5E5">coming from that one router just because</font>

873
00:35:31,320 --> 00:35:37,650
of the asymmetric paths and<font color="#CCCCCC"> you really</font>

874
00:35:33,359 --> 00:35:40,290
have<font color="#E5E5E5"> no visibility into that the reason</font>

875
00:35:37,650 --> 00:35:42,240
<font color="#CCCCCC">that</font><font color="#E5E5E5"> you care about asymmetric paths and</font>

876
00:35:40,290 --> 00:35:44,359
<font color="#E5E5E5">network boundaries is because that like</font>

877
00:35:42,240 --> 00:35:45,509
I<font color="#E5E5E5"> said that's where</font><font color="#CCCCCC"> the administrative</font>

878
00:35:44,359 --> 00:35:48,360
policies

879
00:35:45,510 --> 00:35:50,130
to change so here's an example<font color="#E5E5E5"> where</font><font color="#CCCCCC"> you</font>

880
00:35:48,360 --> 00:35:52,050
might<font color="#CCCCCC"> look</font><font color="#E5E5E5"> at this path and say oh my</font>

881
00:35:50,130 --> 00:35:54,120
god Global Crossing<font color="#E5E5E5"> sprint congested</font>

882
00:35:52,050 --> 00:35:56,250
there's a problem<font color="#CCCCCC"> call one of them and</font>

883
00:35:54,120 --> 00:35:57,870
it turns<font color="#E5E5E5"> out that isn't actually the</font>

884
00:35:56,250 --> 00:35:59,940
problem<font color="#E5E5E5"> at all</font><font color="#CCCCCC"> what's happening</font><font color="#E5E5E5"> is as</font>

885
00:35:57,870 --> 00:36:01,589
soon as you cross<font color="#CCCCCC"> the administrative</font>

886
00:35:59,940 --> 00:36:03,150
boundary now<font color="#CCCCCC"> sprint</font><font color="#E5E5E5"> is taking a</font>

887
00:36:01,590 --> 00:36:05,280
different<font color="#E5E5E5"> path back to</font><font color="#CCCCCC"> whatever</font><font color="#E5E5E5"> your</font>

888
00:36:03,150 --> 00:36:07,200
source is and that might happen to go

889
00:36:05,280 --> 00:36:08,430
over<font color="#E5E5E5"> something that's congested or that</font>

890
00:36:07,200 --> 00:36:10,710
might happen to go over<font color="#CCCCCC"> something that's</font>

891
00:36:08,430 --> 00:36:13,109
<font color="#E5E5E5">just a longer path but</font><font color="#CCCCCC"> is otherwise</font><font color="#E5E5E5"> fine</font>

892
00:36:10,710 --> 00:36:19,650
<font color="#CCCCCC">and you really have</font><font color="#E5E5E5"> no visibility</font><font color="#CCCCCC"> into</font>

893
00:36:13,110 --> 00:36:21,300
<font color="#CCCCCC">that you had have to have the</font>

894
00:36:19,650 --> 00:36:23,190
destination<font color="#CCCCCC"> do a tracer up back to you</font>

895
00:36:21,300 --> 00:36:25,140
you as the person launching the<font color="#E5E5E5"> tracer</font>

896
00:36:23,190 --> 00:36:27,380
<font color="#E5E5E5">out has no visibility into the return</font>

897
00:36:25,140 --> 00:36:27,379
path

898
00:36:32,680 --> 00:36:36,819
right and there may not be<font color="#CCCCCC"> a problem</font><font color="#E5E5E5"> in</font>

899
00:36:35,020 --> 00:36:39,038
DC there may not<font color="#CCCCCC"> be a problem</font><font color="#E5E5E5"> on the</font>

900
00:36:36,819 --> 00:36:40,990
return path at all it may just be a

901
00:36:39,039 --> 00:36:47,349
longer path that might actually not be

902
00:36:40,990 --> 00:36:49,419
<font color="#E5E5E5">congested so as the person working in</font>

903
00:36:47,349 --> 00:36:51,220
the<font color="#E5E5E5"> traceroute your best option</font><font color="#CCCCCC"> well</font>

904
00:36:49,420 --> 00:36:53,770
your best<font color="#E5E5E5"> option</font><font color="#CCCCCC"> is to get the reverse</font>

905
00:36:51,220 --> 00:36:55,750
trace route from<font color="#E5E5E5"> the</font><font color="#CCCCCC"> other side and the</font>

906
00:36:53,770 --> 00:36:59,200
problem is a lot<font color="#E5E5E5"> of times you can't do</font>

907
00:36:55,750 --> 00:37:04,980
that<font color="#E5E5E5"> or for some other reason people</font>

908
00:36:59,200 --> 00:37:04,980
can't question

909
00:37:08,020 --> 00:37:13,000
definitely<font color="#CCCCCC"> there's there's tools</font><font color="#E5E5E5"> being</font>

910
00:37:11,050 --> 00:37:16,450
<font color="#CCCCCC">developed and things like that where</font><font color="#E5E5E5"> you</font>

911
00:37:13,000 --> 00:37:18,190
can get get<font color="#E5E5E5"> the return path and that's</font>

912
00:37:16,450 --> 00:37:20,830
actually<font color="#E5E5E5"> a great</font><font color="#CCCCCC"> thing</font><font color="#E5E5E5"> so I'll</font>

913
00:37:18,190 --> 00:37:22,900
<font color="#E5E5E5">definitely be attending that but</font>

914
00:37:20,830 --> 00:37:25,090
<font color="#E5E5E5">assuming</font><font color="#CCCCCC"> that you're stuck with ordinary</font>

915
00:37:22,900 --> 00:37:27,460
traceroute<font color="#E5E5E5"> and you're trying to figure</font>

916
00:37:25,090 --> 00:37:29,590
<font color="#CCCCCC">out the reverse path or figure out if it</font>

917
00:37:27,460 --> 00:37:31,090
is<font color="#CCCCCC"> an asymmetric problem or not</font><font color="#E5E5E5"> the most</font>

918
00:37:29,590 --> 00:37:34,540
<font color="#E5E5E5">powerful tool you have</font><font color="#CCCCCC"> at your disposal</font>

919
00:37:31,090 --> 00:37:37,570
is setting<font color="#E5E5E5"> your source address so for</font>

920
00:37:34,540 --> 00:37:39,130
<font color="#E5E5E5">example the the previous</font><font color="#CCCCCC"> example say</font>

921
00:37:37,570 --> 00:37:41,050
you're a network<font color="#E5E5E5"> that's multihomed at</font>

922
00:37:39,130 --> 00:37:42,520
Global Crossing<font color="#E5E5E5"> a level 3 when you send</font>

923
00:37:41,050 --> 00:37:43,900
the packets<font color="#E5E5E5"> out and it's still within</font>

924
00:37:42,520 --> 00:37:46,000
the<font color="#E5E5E5"> Global Crossing</font><font color="#CCCCCC"> Network liberal</font>

925
00:37:43,900 --> 00:37:47,770
<font color="#CCCCCC">Crossing sends it back</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> you as soon as</font>

926
00:37:46,000 --> 00:37:49,510
<font color="#E5E5E5">you cross an administrative boundary now</font>

927
00:37:47,770 --> 00:37:51,340
<font color="#E5E5E5">Sprint is sending it back to</font><font color="#CCCCCC"> via</font><font color="#E5E5E5"> level 3</font>

928
00:37:49,510 --> 00:37:54,100
and say for<font color="#E5E5E5"> example there's a problem</font>

929
00:37:51,340 --> 00:37:56,500
<font color="#E5E5E5">between Sprint and level 3 how can you</font>

930
00:37:54,100 --> 00:37:58,810
figure out if<font color="#E5E5E5"> that's an asymmetric path</font>

931
00:37:56,500 --> 00:38:02,290
problem or<font color="#E5E5E5"> not</font><font color="#CCCCCC"> and the most powerful</font>

932
00:37:58,810 --> 00:38:05,020
<font color="#E5E5E5">tool you have your disposal</font><font color="#CCCCCC"> is to set</font>

933
00:38:02,290 --> 00:38:07,600
your<font color="#E5E5E5"> traceroute set the source address</font>

934
00:38:05,020 --> 00:38:10,990
<font color="#E5E5E5">of your trace route from your Global</font>

935
00:38:07,600 --> 00:38:14,440
Crossing IP and the reason<font color="#E5E5E5"> that that's</font>

936
00:38:10,990 --> 00:38:16,569
effective is<font color="#E5E5E5"> in the case of a transit</font>

937
00:38:14,440 --> 00:38:18,280
provider customer relationship<font color="#E5E5E5"> almost</font>

938
00:38:16,570 --> 00:38:20,380
always the transit<font color="#CCCCCC"> provider is giving</font>

939
00:38:18,280 --> 00:38:22,540
you the slash<font color="#E5E5E5"> 30 that's coming out of</font>

940
00:38:20,380 --> 00:38:24,520
their IP space which is routed via their

941
00:38:22,540 --> 00:38:26,980
policy so you're pretty<font color="#E5E5E5"> much guaranteed</font>

942
00:38:24,520 --> 00:38:29,200
<font color="#CCCCCC">that if you've set your traceroute</font>

943
00:38:26,980 --> 00:38:30,730
<font color="#E5E5E5">source to your Global Crossing slash 30</font>

944
00:38:29,200 --> 00:38:34,000
<font color="#E5E5E5">it's going to come back via Global</font>

945
00:38:30,730 --> 00:38:36,400
Crossing<font color="#E5E5E5"> so if you compare that to</font>

946
00:38:34,000 --> 00:38:38,980
something<font color="#CCCCCC"> that might be routed via both</font>

947
00:38:36,400 --> 00:38:41,109
paths like<font color="#CCCCCC"> a regular IP in your network</font>

948
00:38:38,980 --> 00:38:44,830
<font color="#E5E5E5">you can potentially see if there's a</font>

949
00:38:41,109 --> 00:38:46,779
<font color="#CCCCCC">problem</font><font color="#E5E5E5"> on the reverse path or</font><font color="#CCCCCC"> not but</font>

950
00:38:44,830 --> 00:38:50,410
remember that asymmetric paths don't

951
00:38:46,780 --> 00:38:53,560
have to be<font color="#E5E5E5"> network boundary related</font><font color="#CCCCCC"> it</font>

952
00:38:50,410 --> 00:38:56,500
can just<font color="#CCCCCC"> be an issue</font><font color="#E5E5E5"> of closest exit so</font>

953
00:38:53,560 --> 00:38:58,210
in this example<font color="#E5E5E5"> your first traceroute</font>

954
00:38:56,500 --> 00:39:00,550
probe<font color="#CCCCCC"> you're sending it across</font><font color="#E5E5E5"> the</font>

955
00:38:58,210 --> 00:39:02,680
network boundary<font color="#E5E5E5"> in Washington DC goes</font>

956
00:39:00,550 --> 00:39:04,780
out Chicago<font color="#E5E5E5"> it crosses a boundary in</font>

957
00:39:02,680 --> 00:39:07,660
Chicago it comes back<font color="#CCCCCC"> to you</font><font color="#E5E5E5"> your second</font>

958
00:39:04,780 --> 00:39:09,130
probe it now crosses a network boundary

959
00:39:07,660 --> 00:39:12,040
in San Jose

960
00:39:09,130 --> 00:39:14,140
so that can happen<font color="#CCCCCC"> anytime just</font><font color="#E5E5E5"> based on</font>

961
00:39:12,040 --> 00:39:20,120
multiple exits and and hot potato

962
00:39:14,140 --> 00:39:22,160
routing but<font color="#E5E5E5"> what if</font><font color="#CCCCCC"> your</font>

963
00:39:20,120 --> 00:39:24,440
<font color="#E5E5E5">troubleshooting up here something</font><font color="#CCCCCC"> to</font>

964
00:39:22,160 --> 00:39:26,359
come out<font color="#CCCCCC"> of</font><font color="#E5E5E5"> year 30 or a customer IP</font>

965
00:39:24,440 --> 00:39:28,100
space or<font color="#E5E5E5"> whatever the case may be</font>

966
00:39:26,360 --> 00:39:30,620
<font color="#E5E5E5">and it turns out there's actually some</font>

967
00:39:28,100 --> 00:39:34,279
benefits<font color="#CCCCCC"> that you</font><font color="#E5E5E5"> can still see from</font>

968
00:39:30,620 --> 00:39:37,700
setting source<font color="#CCCCCC"> addresses</font><font color="#E5E5E5"> based on that</font>

969
00:39:34,280 --> 00:39:39,440
and<font color="#E5E5E5"> the reason is a lot of networks will</font>

970
00:39:37,700 --> 00:39:42,529
redistribute<font color="#E5E5E5"> they're directly connected</font>

971
00:39:39,440 --> 00:39:45,470
<font color="#E5E5E5">interfaces into their</font><font color="#CCCCCC"> IGP so that</font><font color="#E5E5E5"> slash</font>

972
00:39:42,530 --> 00:39:48,170
<font color="#E5E5E5">30 even though it's your IP space may</font>

973
00:39:45,470 --> 00:39:49,520
now be routed by that network<font color="#E5E5E5"> by the</font>

974
00:39:48,170 --> 00:39:51,640
network<font color="#E5E5E5"> that you're directly connected</font>

975
00:39:49,520 --> 00:39:55,250
to<font color="#E5E5E5"> completely differently than other</font><font color="#CCCCCC"> IPS</font>

976
00:39:51,640 --> 00:39:56,600
<font color="#E5E5E5">so in the previous</font><font color="#CCCCCC"> example where the</font>

977
00:39:55,250 --> 00:39:59,180
packet might be coming back<font color="#E5E5E5"> to be a san</font>

978
00:39:56,600 --> 00:40:01,069
<font color="#E5E5E5">jose now on the on the second hop</font><font color="#CCCCCC"> if you</font>

979
00:39:59,180 --> 00:40:04,009
set<font color="#E5E5E5"> your trace route source to the slash</font>

980
00:40:01,070 --> 00:40:05,420
30 it might now be coming<font color="#E5E5E5"> back entirely</font>

981
00:40:04,010 --> 00:40:07,880
symmetrically<font color="#CCCCCC"> or at least more</font>

982
00:40:05,420 --> 00:40:09,770
symmetrically<font color="#CCCCCC"> on their network</font><font color="#E5E5E5"> so you're</font>

983
00:40:07,880 --> 00:40:11,330
always guaranteed<font color="#E5E5E5"> that if they're if</font>

984
00:40:09,770 --> 00:40:12,830
they are carrying<font color="#CCCCCC"> that 30</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> they're</font>

985
00:40:11,330 --> 00:40:15,650
<font color="#CCCCCC">IGP that is going to come</font><font color="#E5E5E5"> back to you</font>

986
00:40:12,830 --> 00:40:17,870
via that<font color="#E5E5E5"> same interface so just the act</font>

987
00:40:15,650 --> 00:40:22,250
of<font color="#CCCCCC"> looking at the different paths</font><font color="#E5E5E5"> you</font>

988
00:40:17,870 --> 00:40:24,109
<font color="#CCCCCC">can</font><font color="#E5E5E5"> determine whether it's an asymmetric</font>

989
00:40:22,250 --> 00:40:26,180
<font color="#CCCCCC">Eshoo or not just by comparing the</font><font color="#E5E5E5"> two</font>

990
00:40:24,110 --> 00:40:28,190
verses you know sourcing the<font color="#CCCCCC"> trace route</font>

991
00:40:26,180 --> 00:40:30,830
<font color="#E5E5E5">from a loopback or from a host or</font>

992
00:40:28,190 --> 00:40:32,240
<font color="#E5E5E5">something else in your IP space and the</font>

993
00:40:30,830 --> 00:40:36,230
more viewpoints you<font color="#E5E5E5"> have the more you</font>

994
00:40:32,240 --> 00:40:38,810
<font color="#CCCCCC">can</font><font color="#E5E5E5"> figure out what the problem is</font><font color="#CCCCCC"> one</font>

995
00:40:36,230 --> 00:40:41,600
thing that<font color="#CCCCCC"> people</font><font color="#E5E5E5"> forget</font><font color="#CCCCCC"> a lot of</font><font color="#E5E5E5"> times</font>

996
00:40:38,810 --> 00:40:45,170
<font color="#E5E5E5">is there's default source address</font>

997
00:40:41,600 --> 00:40:47,930
selection<font color="#CCCCCC"> on a router</font><font color="#E5E5E5"> on</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> Cisco for</font>

998
00:40:45,170 --> 00:40:50,810
example the<font color="#E5E5E5"> default is to</font><font color="#CCCCCC"> source the</font>

999
00:40:47,930 --> 00:40:54,290
<font color="#CCCCCC">trace route</font><font color="#E5E5E5"> from the egress interface IP</font>

1000
00:40:50,810 --> 00:40:55,820
so if you're on<font color="#CCCCCC"> that router with with</font>

1001
00:40:54,290 --> 00:40:58,100
your transit<font color="#E5E5E5"> the</font><font color="#CCCCCC"> Global Crossing and</font><font color="#E5E5E5"> the</font>

1002
00:40:55,820 --> 00:40:59,600
packet goes out Global Crossing<font color="#E5E5E5"> it's</font>

1003
00:40:58,100 --> 00:41:02,210
automatically gonna set the source

1004
00:40:59,600 --> 00:41:05,060
<font color="#CCCCCC">addressed</font><font color="#E5E5E5"> via whatever that that size 30</font>

1005
00:41:02,210 --> 00:41:07,580
bill<font color="#E5E5E5"> to Global Crossing is other</font>

1006
00:41:05,060 --> 00:41:09,710
platforms<font color="#CCCCCC"> give you the option</font><font color="#E5E5E5"> and a lot</font>

1007
00:41:07,580 --> 00:41:11,620
<font color="#CCCCCC">of people</font><font color="#E5E5E5"> configure this option to</font>

1008
00:41:09,710 --> 00:41:15,020
default to<font color="#E5E5E5"> sending out from the loopback</font>

1009
00:41:11,620 --> 00:41:17,240
so for example<font color="#CCCCCC"> on a Juniper platform you</font>

1010
00:41:15,020 --> 00:41:20,180
might be sourcing<font color="#E5E5E5"> from something that is</font>

1011
00:41:17,240 --> 00:41:21,859
not that<font color="#CCCCCC"> situation</font><font color="#E5E5E5"> and sometimes you</font>

1012
00:41:20,180 --> 00:41:24,049
want<font color="#CCCCCC"> to you know you have a router with</font>

1013
00:41:21,860 --> 00:41:26,120
multiple connections<font color="#E5E5E5"> and</font><font color="#CCCCCC"> even if the</font>

1014
00:41:24,050 --> 00:41:28,220
egress is going out one direction<font color="#E5E5E5"> you</font>

1015
00:41:26,120 --> 00:41:28,970
probably might want<font color="#E5E5E5"> to set the source</font>

1016
00:41:28,220 --> 00:41:33,100
address to something completely

1017
00:41:28,970 --> 00:41:33,100
<font color="#E5E5E5">differently to control the return</font>

1018
00:41:34,660 --> 00:41:38,950
another issue with traceroute is the

1019
00:41:37,120 --> 00:41:43,480
handling of multiple paths<font color="#E5E5E5"> and load</font>

1020
00:41:38,950 --> 00:41:46,000
balancing<font color="#CCCCCC"> because traceroute</font><font color="#E5E5E5"> by default</font>

1021
00:41:43,480 --> 00:41:48,970
uses or<font color="#E5E5E5"> the classic implementation I</font>

1022
00:41:46,000 --> 00:41:52,510
should say<font color="#E5E5E5"> uses a UDP or TCP or</font>

1023
00:41:48,970 --> 00:41:54,430
something that has layer<font color="#CCCCCC"> 4 headers</font><font color="#E5E5E5"> as</font>

1024
00:41:52,510 --> 00:41:56,410
the packets go<font color="#CCCCCC"> across the network</font>

1025
00:41:54,430 --> 00:41:59,740
there's the<font color="#CCCCCC"> opportunity for them to be</font>

1026
00:41:56,410 --> 00:42:02,649
hashed<font color="#E5E5E5"> over multiple paths</font><font color="#CCCCCC"> so here's an</font>

1027
00:41:59,740 --> 00:42:05,049
example<font color="#E5E5E5"> of</font><font color="#CCCCCC"> telia running parallel links</font>

1028
00:42:02,650 --> 00:42:06,640
through three different<font color="#E5E5E5"> hops and you</font>

1029
00:42:05,050 --> 00:42:09,340
know it's completely<font color="#CCCCCC"> harmless</font><font color="#E5E5E5"> but it</font>

1030
00:42:06,640 --> 00:42:11,290
might confuse some<font color="#CCCCCC"> people to see that</font>

1031
00:42:09,340 --> 00:42:12,700
<font color="#E5E5E5">one of their probes goes over one router</font>

1032
00:42:11,290 --> 00:42:14,680
and the other probe goes over<font color="#E5E5E5"> another</font>

1033
00:42:12,700 --> 00:42:16,450
router<font color="#CCCCCC"> and if you're</font><font color="#E5E5E5"> troubleshooting a</font>

1034
00:42:14,680 --> 00:42:21,279
problem maybe the problem is<font color="#E5E5E5"> only on one</font>

1035
00:42:16,450 --> 00:42:23,890
<font color="#CCCCCC">of these paths so here's a slightly</font><font color="#E5E5E5"> more</font>

1036
00:42:21,280 --> 00:42:28,020
complex example<font color="#E5E5E5"> of that here is</font><font color="#CCCCCC"> NTT</font>

1037
00:42:23,890 --> 00:42:31,720
<font color="#E5E5E5">they're very</font><font color="#CCCCCC"> Oh load balancing between</font>

1038
00:42:28,020 --> 00:42:33,430
<font color="#CCCCCC">Ashburn and</font><font color="#E5E5E5"> Seattle where one path goes</font>

1039
00:42:31,720 --> 00:42:35,319
<font color="#CCCCCC">ashford in New York Seattle and another</font>

1040
00:42:33,430 --> 00:42:37,299
path goes<font color="#CCCCCC"> aspirin Chicago Seattle</font><font color="#E5E5E5"> and</font>

1041
00:42:35,320 --> 00:42:39,040
these have different latency times

1042
00:42:37,300 --> 00:42:41,110
different times in the middle<font color="#CCCCCC"> if</font><font color="#E5E5E5"> you</font>

1043
00:42:39,040 --> 00:42:43,090
don't know to expect<font color="#CCCCCC"> that you might be</font>

1044
00:42:41,110 --> 00:42:44,890
confused and you might<font color="#CCCCCC"> think</font><font color="#E5E5E5"> my packet</font>

1045
00:42:43,090 --> 00:42:47,580
goes from<font color="#E5E5E5"> Ashford</font><font color="#CCCCCC"> to New York Chicago to</font>

1046
00:42:44,890 --> 00:42:49,540
Seattle<font color="#E5E5E5"> twice</font><font color="#CCCCCC"> what you</font><font color="#E5E5E5"> don't know</font>

1047
00:42:47,580 --> 00:42:54,100
<font color="#E5E5E5">there's a lot of people out</font><font color="#CCCCCC"> there that</font>

1048
00:42:49,540 --> 00:42:55,810
don't know<font color="#CCCCCC"> that</font><font color="#E5E5E5"> so the big problem and I</font>

1049
00:42:54,100 --> 00:42:57,670
couldn't find a<font color="#CCCCCC"> good example</font><font color="#E5E5E5"> of this</font>

1050
00:42:55,810 --> 00:43:00,250
<font color="#CCCCCC">because it's such a</font><font color="#E5E5E5"> nasty problem that</font>

1051
00:42:57,670 --> 00:43:02,560
it scares and confuses people<font color="#E5E5E5"> is when</font>

1052
00:43:00,250 --> 00:43:05,680
<font color="#CCCCCC">your load balancing over</font><font color="#E5E5E5"> unequal length</font>

1053
00:43:02,560 --> 00:43:08,740
paths<font color="#E5E5E5"> and the problem there</font><font color="#CCCCCC"> in this</font>

1054
00:43:05,680 --> 00:43:11,049
example on hop<font color="#CCCCCC"> two there's there's a</font>

1055
00:43:08,740 --> 00:43:14,290
second router that's<font color="#E5E5E5"> being inserted into</font>

1056
00:43:11,050 --> 00:43:17,170
this parallel<font color="#E5E5E5"> path that I call X and so</font>

1057
00:43:14,290 --> 00:43:20,529
going<font color="#E5E5E5"> forward what you see now is the</font>

1058
00:43:17,170 --> 00:43:22,420
the parallel paths are actually not not

1059
00:43:20,530 --> 00:43:24,100
not<font color="#E5E5E5"> parallel anymore one is lagging</font>

1060
00:43:22,420 --> 00:43:25,750
<font color="#E5E5E5">behind the other and so when you're</font>

1061
00:43:24,100 --> 00:43:27,759
<font color="#E5E5E5">looking at your</font><font color="#CCCCCC"> traceroute</font><font color="#E5E5E5"> you can see</font>

1062
00:43:25,750 --> 00:43:29,170
the packet you<font color="#CCCCCC"> might think it's going</font>

1063
00:43:27,760 --> 00:43:30,490
forward to a city it's coming<font color="#E5E5E5"> back</font><font color="#CCCCCC"> it's</font>

1064
00:43:29,170 --> 00:43:31,990
going forward it's going<font color="#E5E5E5"> forward to</font>

1065
00:43:30,490 --> 00:43:33,339
<font color="#E5E5E5">another city it's coming back again</font><font color="#CCCCCC"> it's</font>

1066
00:43:31,990 --> 00:43:35,649
<font color="#E5E5E5">extremely confusing it makes the</font>

1067
00:43:33,340 --> 00:43:39,060
traceroute very difficult to read<font color="#E5E5E5"> and it</font>

1068
00:43:35,650 --> 00:43:42,400
freaks<font color="#CCCCCC"> end-users out like like nothing</font>

1069
00:43:39,060 --> 00:43:44,350
so when in doubt when you<font color="#E5E5E5"> think there's</font>

1070
00:43:42,400 --> 00:43:44,990
a problem<font color="#CCCCCC"> multiple paths</font><font color="#E5E5E5"> you can</font>

1071
00:43:44,350 --> 00:43:46,100
configure

1072
00:43:44,990 --> 00:43:48,470
<font color="#CCCCCC">tres</font><font color="#E5E5E5"> for our client to only send</font><font color="#CCCCCC"> the</font>

1073
00:43:46,100 --> 00:43:50,150
<font color="#E5E5E5">single probe</font><font color="#CCCCCC"> the advantage there is</font>

1074
00:43:48,470 --> 00:43:52,040
you're only looking<font color="#CCCCCC"> at one path so</font><font color="#E5E5E5"> now</font>

1075
00:43:50,150 --> 00:43:53,450
it's very<font color="#CCCCCC"> simple to interpret</font><font color="#E5E5E5"> the</font>

1076
00:43:52,040 --> 00:43:54,950
disadvantage is<font color="#CCCCCC"> that might not actually</font>

1077
00:43:53,450 --> 00:43:57,980
<font color="#CCCCCC">be the path that your traffic is being</font>

1078
00:43:54,950 --> 00:44:00,529
<font color="#E5E5E5">forwarded over and it's it's very</font><font color="#CCCCCC"> common</font>

1079
00:43:57,980 --> 00:44:02,600
<font color="#CCCCCC">to see a problem with one link on the</font>

1080
00:44:00,530 --> 00:44:04,550
parallel path<font color="#CCCCCC"> you know a lot</font><font color="#E5E5E5"> of networks</font>

1081
00:44:02,600 --> 00:44:06,529
<font color="#E5E5E5">these</font><font color="#CCCCCC"> days are running 16 by 10</font><font color="#E5E5E5"> gig</font>

1082
00:44:04,550 --> 00:44:09,260
where<font color="#E5E5E5"> one link starts taking errors and</font>

1083
00:44:06,530 --> 00:44:10,880
you might appear<font color="#CCCCCC"> to you to be completely</font>

1084
00:44:09,260 --> 00:44:13,660
<font color="#E5E5E5">arbitrary all of your trace routes might</font>

1085
00:44:10,880 --> 00:44:15,770
be clean and normal but the whatever

1086
00:44:13,660 --> 00:44:19,040
application you're running might just be

1087
00:44:15,770 --> 00:44:23,440
going over that<font color="#CCCCCC"> one bad link</font><font color="#E5E5E5"> so you</font><font color="#CCCCCC"> lose</font>

1088
00:44:19,040 --> 00:44:27,920
visibility<font color="#E5E5E5"> into into all those paths</font><font color="#CCCCCC"> and</font>

1089
00:44:23,440 --> 00:44:30,980
then the other<font color="#E5E5E5"> big problem or confusing</font>

1090
00:44:27,920 --> 00:44:34,640
problem is the interaction of MPLS<font color="#E5E5E5"> with</font>

1091
00:44:30,980 --> 00:44:39,800
<font color="#E5E5E5">trace route</font><font color="#CCCCCC"> so obviously a lot of ISPs</font>

1092
00:44:34,640 --> 00:44:42,290
run big MPLS based<font color="#E5E5E5"> course and the one</font>

1093
00:44:39,800 --> 00:44:43,970
really obvious thing is<font color="#E5E5E5"> that with MPLS</font>

1094
00:44:42,290 --> 00:44:46,250
you don't actually<font color="#E5E5E5"> have to show the</font>

1095
00:44:43,970 --> 00:44:49,189
router hops<font color="#CCCCCC"> in the</font><font color="#E5E5E5"> middle you</font><font color="#CCCCCC"> can turn</font>

1096
00:44:46,250 --> 00:44:51,170
off TTL decrement<font color="#E5E5E5"> and</font><font color="#CCCCCC"> to traceroute</font><font color="#E5E5E5"> it</font>

1097
00:44:49,190 --> 00:44:52,820
will look as though<font color="#E5E5E5"> the packet came in</font>

1098
00:44:51,170 --> 00:44:56,840
the one side of the LSP came out the

1099
00:44:52,820 --> 00:44:59,600
other<font color="#E5E5E5"> side as all one hop</font><font color="#CCCCCC"> but even more</font>

1100
00:44:56,840 --> 00:45:01,310
than<font color="#CCCCCC"> that a lot</font><font color="#E5E5E5"> of networks don't carry</font>

1101
00:44:59,600 --> 00:45:03,799
IP<font color="#E5E5E5"> tables in the middle they have a</font>

1102
00:45:01,310 --> 00:45:05,270
<font color="#E5E5E5">dedicated router that just carries</font><font color="#CCCCCC"> just</font>

1103
00:45:03,800 --> 00:45:08,290
does label switching doesn't have an IP

1104
00:45:05,270 --> 00:45:10,759
so if it is doing<font color="#E5E5E5"> detailed decrementing</font>

1105
00:45:08,290 --> 00:45:13,640
how does the ICP get back to you how

1106
00:45:10,760 --> 00:45:16,670
<font color="#CCCCCC">does that</font><font color="#E5E5E5"> router return it to you and if</font>

1107
00:45:13,640 --> 00:45:18,618
it doesn't<font color="#E5E5E5"> have an IP table</font><font color="#CCCCCC"> the answer</font>

1108
00:45:16,670 --> 00:45:21,530
is it<font color="#CCCCCC"> may not</font><font color="#E5E5E5"> have a good way to do that</font>

1109
00:45:18,619 --> 00:45:23,780
<font color="#E5E5E5">so there's an option that some networks</font>

1110
00:45:21,530 --> 00:45:25,670
<font color="#CCCCCC">configure called ICMP</font><font color="#E5E5E5"> tunneling and</font><font color="#CCCCCC"> what</font>

1111
00:45:23,780 --> 00:45:27,980
happens is if<font color="#CCCCCC"> the packet is in the</font>

1112
00:45:25,670 --> 00:45:30,560
middle of an LSP<font color="#E5E5E5"> when the TTL expires</font>

1113
00:45:27,980 --> 00:45:32,600
and<font color="#E5E5E5"> the</font><font color="#CCCCCC"> router is now generating an ICMP</font>

1114
00:45:30,560 --> 00:45:35,350
coming back to you<font color="#CCCCCC"> it puts it back</font><font color="#E5E5E5"> into</font>

1115
00:45:32,600 --> 00:45:38,810
the<font color="#E5E5E5"> same LSP that it was already on so</font>

1116
00:45:35,350 --> 00:45:40,670
what happens<font color="#E5E5E5"> you no longer have the the</font>

1117
00:45:38,810 --> 00:45:42,890
same model where the packet now comes

1118
00:45:40,670 --> 00:45:44,420
back to you at each individual hop what

1119
00:45:42,890 --> 00:45:46,460
happens is the packet<font color="#CCCCCC"> travels all the</font>

1120
00:45:44,420 --> 00:45:48,980
<font color="#E5E5E5">way to the end of the LSP before coming</font>

1121
00:45:46,460 --> 00:45:52,760
<font color="#CCCCCC">back and so it makes every hop along the</font>

1122
00:45:48,980 --> 00:45:55,340
path look like the same latency<font color="#E5E5E5"> so</font>

1123
00:45:52,760 --> 00:45:58,550
here's an<font color="#E5E5E5"> example of this happening</font><font color="#CCCCCC"> on</font><font color="#E5E5E5"> a</font>

1124
00:45:55,340 --> 00:46:01,190
<font color="#CCCCCC">tea where you might</font><font color="#E5E5E5"> be confused and</font>

1125
00:45:58,550 --> 00:46:03,350
think Palo Alto<font color="#E5E5E5"> to San Francisco 74</font>

1126
00:46:01,190 --> 00:46:05,270
milliseconds there's a<font color="#E5E5E5"> problem but</font>

1127
00:46:03,350 --> 00:46:06,560
you'll notice<font color="#CCCCCC"> that</font><font color="#E5E5E5"> it's actually 74</font>

1128
00:46:05,270 --> 00:46:08,570
milliseconds<font color="#E5E5E5"> the entire</font><font color="#CCCCCC"> way</font><font color="#E5E5E5"> through</font>

1129
00:46:06,560 --> 00:46:10,970
<font color="#CCCCCC">that's</font><font color="#E5E5E5"> because there's an LSP from San</font>

1130
00:46:08,570 --> 00:46:12,800
Francisco<font color="#E5E5E5"> to New York</font><font color="#CCCCCC"> and the return</font>

1131
00:46:10,970 --> 00:46:14,600
packets<font color="#E5E5E5"> all the ICP is actually going</font>

1132
00:46:12,800 --> 00:46:16,400
<font color="#CCCCCC">out</font><font color="#E5E5E5"> to New</font><font color="#CCCCCC"> York</font><font color="#E5E5E5"> and coming back to you</font>

1133
00:46:14,600 --> 00:46:20,299
even<font color="#CCCCCC"> if it's being generated in San</font>

1134
00:46:16,400 --> 00:46:23,960
Francisco<font color="#E5E5E5"> and that</font><font color="#CCCCCC"> is the conclusion of</font>

1135
00:46:20,300 --> 00:46:26,980
<font color="#E5E5E5">my talk</font><font color="#CCCCCC"> a little early</font><font color="#E5E5E5"> probably so</font>

1136
00:46:23,960 --> 00:46:26,980
hopefully there are<font color="#E5E5E5"> some</font><font color="#CCCCCC"> questions</font>

1137
00:46:27,670 --> 00:46:33,980
thanks a<font color="#E5E5E5"> lot for for putting this</font>

1138
00:46:29,900 --> 00:46:35,870
together<font color="#CCCCCC"> grass I think to me this</font><font color="#E5E5E5"> tool</font>

1139
00:46:33,980 --> 00:46:39,650
has<font color="#CCCCCC"> been around you</font><font color="#E5E5E5"> know since forever</font>

1140
00:46:35,870 --> 00:46:43,009
<font color="#E5E5E5">and it</font><font color="#CCCCCC"> remains sort of the</font><font color="#E5E5E5"> oh</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> the</font>

1141
00:46:39,650 --> 00:46:45,170
stone knives<font color="#CCCCCC"> sort of mentality</font><font color="#E5E5E5"> to</font>

1142
00:46:43,010 --> 00:46:46,850
dealing with<font color="#CCCCCC"> these</font><font color="#E5E5E5"> problems clearly you</font>

1143
00:46:45,170 --> 00:46:50,060
don't expect your grandmother and

1144
00:46:46,850 --> 00:46:51,560
<font color="#CCCCCC">end-users</font><font color="#E5E5E5"> all</font><font color="#CCCCCC"> over the globe to type in</font>

1145
00:46:50,060 --> 00:46:53,690
these<font color="#E5E5E5"> archaic commands and try and</font>

1146
00:46:51,560 --> 00:46:55,070
interpret this sort of stuff<font color="#CCCCCC"> so I guess</font>

1147
00:46:53,690 --> 00:46:57,770
my<font color="#CCCCCC"> question is</font><font color="#E5E5E5"> kind of a general one</font>

1148
00:46:55,070 --> 00:47:00,080
what<font color="#E5E5E5"> network instrumentation do we need</font>

1149
00:46:57,770 --> 00:47:01,940
to have<font color="#E5E5E5"> in place</font><font color="#CCCCCC"> so</font><font color="#E5E5E5"> the proper</font>

1150
00:47:00,080 --> 00:47:04,970
<font color="#CCCCCC">information gets to the network service</font>

1151
00:47:01,940 --> 00:47:08,300
providers to<font color="#CCCCCC"> be able</font><font color="#E5E5E5"> to deal</font><font color="#CCCCCC"> with</font><font color="#E5E5E5"> real</font>

1152
00:47:04,970 --> 00:47:09,830
issues<font color="#CCCCCC"> on the end-users behalf well the</font>

1153
00:47:08,300 --> 00:47:11,300
problem there<font color="#CCCCCC"> is</font><font color="#E5E5E5"> that a lot of</font><font color="#CCCCCC"> people</font>

1154
00:47:09,830 --> 00:47:13,100
actually are running<font color="#CCCCCC"> these commands</font>

1155
00:47:11,300 --> 00:47:14,960
<font color="#E5E5E5">either because you know it's the the</font>

1156
00:47:13,100 --> 00:47:16,310
type<font color="#CCCCCC"> of person that reads DSL reports</font>

1157
00:47:14,960 --> 00:47:18,950
and wants to tweak their router to

1158
00:47:16,310 --> 00:47:21,290
download a little<font color="#E5E5E5"> faster or</font><font color="#CCCCCC"> it's because</font>

1159
00:47:18,950 --> 00:47:24,109
<font color="#E5E5E5">of some tool like a visual</font><font color="#CCCCCC"> traceroute or</font>

1160
00:47:21,290 --> 00:47:25,970
some program<font color="#CCCCCC"> that people now type in</font><font color="#E5E5E5"> the</font>

1161
00:47:24,110 --> 00:47:27,470
the site of the<font color="#CCCCCC"> things they're</font><font color="#E5E5E5"> having a</font>

1162
00:47:25,970 --> 00:47:28,939
problem I thought<font color="#E5E5E5"> you know someone's</font>

1163
00:47:27,470 --> 00:47:31,220
<font color="#E5E5E5">complaining about their</font><font color="#CCCCCC"> gaming and</font><font color="#E5E5E5"> so</font>

1164
00:47:28,940 --> 00:47:33,230
they type<font color="#CCCCCC"> into the server and they see</font>

1165
00:47:31,220 --> 00:47:34,609
this<font color="#CCCCCC"> tracer out pop up and now they you</font>

1166
00:47:33,230 --> 00:47:36,080
know a lot of<font color="#E5E5E5"> these tools even put the</font>

1167
00:47:34,610 --> 00:47:38,480
who is there who to<font color="#CCCCCC"> contact</font><font color="#E5E5E5"> you to</font>

1168
00:47:36,080 --> 00:47:40,160
<font color="#E5E5E5">complain to</font><font color="#CCCCCC"> and the problem is a lot</font><font color="#E5E5E5"> of</font>

1169
00:47:38,480 --> 00:47:43,400
these<font color="#E5E5E5"> people that are running the tools</font>

1170
00:47:40,160 --> 00:47:45,830
don't have the<font color="#E5E5E5"> experience to actually</font>

1171
00:47:43,400 --> 00:47:47,900
troubleshoot a problem<font color="#CCCCCC"> what you really</font>

1172
00:47:45,830 --> 00:47:50,299
<font color="#E5E5E5">need to</font><font color="#CCCCCC"> do and there's</font><font color="#E5E5E5"> only so much you</font>

1173
00:47:47,900 --> 00:47:52,430
can<font color="#E5E5E5"> do as</font><font color="#CCCCCC"> far as</font><font color="#E5E5E5"> educating people how</font><font color="#CCCCCC"> to</font>

1174
00:47:50,300 --> 00:47:54,920
read<font color="#E5E5E5"> a traceroute but the point that I</font>

1175
00:47:52,430 --> 00:47:56,990
want<font color="#E5E5E5"> to make is that it's not as simple</font>

1176
00:47:54,920 --> 00:47:59,570
<font color="#E5E5E5">as</font><font color="#CCCCCC"> just</font><font color="#E5E5E5"> looking at the traceroute you</font>

1177
00:47:56,990 --> 00:48:01,189
know it's like reading an EKG<font color="#CCCCCC"> you're not</font>

1178
00:47:59,570 --> 00:48:02,600
just looking<font color="#CCCCCC"> for the bumps you</font><font color="#E5E5E5"> you have</font>

1179
00:48:01,190 --> 00:48:04,730
to be experienced you have to know what

1180
00:48:02,600 --> 00:48:06,529
the pattern is you have to really

1181
00:48:04,730 --> 00:48:09,980
understand why<font color="#CCCCCC"> things could be happening</font>

1182
00:48:06,530 --> 00:48:11,470
<font color="#CCCCCC">this way but one of</font><font color="#E5E5E5"> the things that you</font>

1183
00:48:09,980 --> 00:48:14,300
can do is

1184
00:48:11,470 --> 00:48:16,640
provide access<font color="#CCCCCC"> to see the return path</font>

1185
00:48:14,300 --> 00:48:18,170
either through<font color="#E5E5E5"> everyone having a</font>

1186
00:48:16,640 --> 00:48:19,819
<font color="#CCCCCC">looking-glass</font><font color="#E5E5E5"> in their network where you</font>

1187
00:48:18,170 --> 00:48:23,660
<font color="#CCCCCC">can run</font><font color="#E5E5E5"> a traceroute from different</font>

1188
00:48:19,820 --> 00:48:26,120
points in their<font color="#E5E5E5"> network or protocols</font>

1189
00:48:23,660 --> 00:48:28,879
<font color="#E5E5E5">extensions that are</font><font color="#CCCCCC"> being written where</font>

1190
00:48:26,120 --> 00:48:32,060
you could request<font color="#CCCCCC"> the remote side to</font>

1191
00:48:28,880 --> 00:48:33,770
send back<font color="#E5E5E5"> something to you</font><font color="#CCCCCC"> one of the</font>

1192
00:48:32,060 --> 00:48:35,870
things that I didn't<font color="#E5E5E5"> mention in here is</font>

1193
00:48:33,770 --> 00:48:40,640
there's actually<font color="#E5E5E5"> an option called record</font>

1194
00:48:35,870 --> 00:48:42,170
route<font color="#CCCCCC"> n</font><font color="#E5E5E5"> IP where you can you can what</font>

1195
00:48:40,640 --> 00:48:44,660
will happen is each router along the hop

1196
00:48:42,170 --> 00:48:47,750
will<font color="#CCCCCC"> actually process the packet</font><font color="#E5E5E5"> and it</font>

1197
00:48:44,660 --> 00:48:49,490
will insert its name into the packet so

1198
00:48:47,750 --> 00:48:51,530
you might send a ping out to someone

1199
00:48:49,490 --> 00:48:53,720
with a record route option and you might

1200
00:48:51,530 --> 00:48:55,640
get the asymmetric path or the return

1201
00:48:53,720 --> 00:48:57,620
path you might<font color="#E5E5E5"> be able to see that the</font>

1202
00:48:55,640 --> 00:49:00,710
problem is because<font color="#E5E5E5"> that is processed as</font>

1203
00:48:57,620 --> 00:49:02,720
an<font color="#E5E5E5"> IP option</font><font color="#CCCCCC"> its CPU demanding on</font><font color="#E5E5E5"> the</font>

1204
00:49:00,710 --> 00:49:05,240
router and<font color="#CCCCCC"> so most</font><font color="#E5E5E5"> people have it turned</font>

1205
00:49:02,720 --> 00:49:07,459
off at<font color="#E5E5E5"> this point</font><font color="#CCCCCC"> especially on trace</font>

1206
00:49:05,240 --> 00:49:09,319
routes<font color="#E5E5E5"> so there's a few networks where</font>

1207
00:49:07,460 --> 00:49:12,490
<font color="#CCCCCC">you might be</font><font color="#E5E5E5"> able to use that</font><font color="#CCCCCC"> but for</font>

1208
00:49:09,320 --> 00:49:15,920
<font color="#E5E5E5">the most part it's not a</font><font color="#CCCCCC"> reliable tool</font>

1209
00:49:12,490 --> 00:49:17,839
<font color="#CCCCCC">when I</font><font color="#E5E5E5"> pointed it seems like we ought to</font>

1210
00:49:15,920 --> 00:49:20,150
<font color="#E5E5E5">have something physically within the</font>

1211
00:49:17,840 --> 00:49:22,580
network that does the appropriate

1212
00:49:20,150 --> 00:49:24,740
<font color="#E5E5E5">monitoring and digesting and presenting</font>

1213
00:49:22,580 --> 00:49:27,500
maybe not to the user but rather to

1214
00:49:24,740 --> 00:49:30,169
directly to the ISP so<font color="#E5E5E5"> rather than</font>

1215
00:49:27,500 --> 00:49:31,370
dealing with<font color="#E5E5E5"> end users you know asking</font>

1216
00:49:30,170 --> 00:49:32,930
<font color="#E5E5E5">them to mail you the trace throughout</font>

1217
00:49:31,370 --> 00:49:34,700
the data<font color="#E5E5E5"> that they're using to say that</font>

1218
00:49:32,930 --> 00:49:36,620
there's a problem<font color="#E5E5E5"> your network you want</font>

1219
00:49:34,700 --> 00:49:37,879
<font color="#E5E5E5">to be proactively taking a look at it</font>

1220
00:49:36,620 --> 00:49:40,370
<font color="#E5E5E5">and maybe the network ought to have a</font>

1221
00:49:37,880 --> 00:49:41,900
direct feed that obviates the need for

1222
00:49:40,370 --> 00:49:45,230
for<font color="#E5E5E5"> trace</font><font color="#CCCCCC"> no that was just a thought</font>

1223
00:49:41,900 --> 00:49:46,820
right<font color="#E5E5E5"> definitely</font><font color="#CCCCCC"> and the way that you</font>

1224
00:49:45,230 --> 00:49:49,160
<font color="#E5E5E5">would want</font><font color="#CCCCCC"> to implement that is instead</font>

1225
00:49:46,820 --> 00:49:50,840
of doing it as an IP option to do it<font color="#E5E5E5"> as</font>

1226
00:49:49,160 --> 00:49:52,279
a protocol where<font color="#E5E5E5"> you can request a</font>

1227
00:49:50,840 --> 00:49:54,380
remote<font color="#E5E5E5"> trace route and if that was</font>

1228
00:49:52,280 --> 00:49:56,720
<font color="#E5E5E5">something that everyone could</font><font color="#CCCCCC"> enable on</font>

1229
00:49:54,380 --> 00:50:00,200
their routers where you could have any

1230
00:49:56,720 --> 00:50:02,029
<font color="#E5E5E5">one request that</font><font color="#CCCCCC"> that router</font><font color="#E5E5E5"> run and</font>

1231
00:50:00,200 --> 00:50:05,439
send them<font color="#E5E5E5"> back the results of a remote</font>

1232
00:50:02,030 --> 00:50:08,150
trace route<font color="#E5E5E5"> that would be very helpful</font>

1233
00:50:05,440 --> 00:50:09,470
dang hey Richard thanks again for

1234
00:50:08,150 --> 00:50:11,630
throwing<font color="#E5E5E5"> this</font><font color="#CCCCCC"> together I've</font><font color="#E5E5E5"> been</font>

1235
00:50:09,470 --> 00:50:13,819
answering<font color="#E5E5E5"> this question</font><font color="#CCCCCC"> over the years</font>

1236
00:50:11,630 --> 00:50:15,650
many many times so<font color="#E5E5E5"> I think from now</font><font color="#CCCCCC"> on</font>

1237
00:50:13,820 --> 00:50:18,140
<font color="#CCCCCC">I'm just send people to</font><font color="#E5E5E5"> your PDF</font><font color="#CCCCCC"> and say</font>

1238
00:50:15,650 --> 00:50:19,700
read this<font color="#E5E5E5"> first and</font><font color="#CCCCCC"> then call</font><font color="#E5E5E5"> me</font><font color="#CCCCCC"> if you</font>

1239
00:50:18,140 --> 00:50:20,900
have<font color="#E5E5E5"> any questions I just</font><font color="#CCCCCC"> reached just</font>

1240
00:50:19,700 --> 00:50:22,970
<font color="#E5E5E5">last week I was looking for something</font>

1241
00:50:20,900 --> 00:50:25,310
<font color="#E5E5E5">and there were all</font><font color="#CCCCCC"> sorts of you know</font>

1242
00:50:22,970 --> 00:50:26,299
<font color="#E5E5E5">sites out there and none</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> them were</font>

1243
00:50:25,310 --> 00:50:29,180
<font color="#CCCCCC">actually really comprised if that's</font>

1244
00:50:26,300 --> 00:50:31,310
that's good<font color="#CCCCCC"> I want</font><font color="#E5E5E5"> to ask you about I've</font>

1245
00:50:29,180 --> 00:50:33,140
seen more<font color="#CCCCCC"> and more empty</font><font color="#E5E5E5"> our tool use</font>

1246
00:50:31,310 --> 00:50:34,820
and<font color="#CCCCCC"> I find myself</font><font color="#E5E5E5"> explaining MTR a</font>

1247
00:50:33,140 --> 00:50:36,890
little bit differently<font color="#CCCCCC"> than output of</font>

1248
00:50:34,820 --> 00:50:38,060
<font color="#CCCCCC">traceroute what do you think about MTR</font>

1249
00:50:36,890 --> 00:50:40,670
how do you explain that<font color="#E5E5E5"> is different</font>

1250
00:50:38,060 --> 00:50:43,490
than<font color="#CCCCCC"> nitrate oh I have mixed feelings on</font>

1251
00:50:40,670 --> 00:50:43,850
MTR<font color="#CCCCCC"> just because</font><font color="#E5E5E5"> MTR is the source of a</font>

1252
00:50:43,490 --> 00:50:47,180
<font color="#CCCCCC">lot of</font>

1253
00:50:43,850 --> 00:50:49,370
<font color="#CCCCCC">fault complaints and really that's</font><font color="#E5E5E5"> not a</font>

1254
00:50:47,180 --> 00:50:51,620
<font color="#E5E5E5">problem with the tool itself as so much</font>

1255
00:50:49,370 --> 00:50:54,259
<font color="#E5E5E5">as it</font><font color="#CCCCCC"> is a problem</font><font color="#E5E5E5"> with the users MTR is</font>

1256
00:50:51,620 --> 00:50:56,240
basically just a curses based traceroute

1257
00:50:54,260 --> 00:50:58,010
that runs the<font color="#CCCCCC"> the tracer out</font><font color="#E5E5E5"> over and</font>

1258
00:50:56,240 --> 00:50:59,779
over<font color="#E5E5E5"> and over</font><font color="#CCCCCC"> so instead of sending</font>

1259
00:50:58,010 --> 00:51:01,940
three probes<font color="#CCCCCC"> it just continuously</font>

1260
00:50:59,780 --> 00:51:03,710
updates starts back from the top runs

1261
00:51:01,940 --> 00:51:05,810
the trace again runs the trace again<font color="#E5E5E5"> so</font>

1262
00:51:03,710 --> 00:51:09,590
you may get hundreds or thousands of

1263
00:51:05,810 --> 00:51:11,330
probes<font color="#CCCCCC"> there's a problem</font><font color="#E5E5E5"> in that that is</font>

1264
00:51:09,590 --> 00:51:13,370
increasing<font color="#E5E5E5"> the load on</font><font color="#CCCCCC"> the routers which</font>

1265
00:51:11,330 --> 00:51:14,960
is causing<font color="#E5E5E5"> a lot of routers to start</font>

1266
00:51:13,370 --> 00:51:18,580
bumping<font color="#E5E5E5"> into these hard-coded default</font>

1267
00:51:14,960 --> 00:51:21,080
<font color="#CCCCCC">limits</font><font color="#E5E5E5"> but as a tool itself it's fine</font>

1268
00:51:18,580 --> 00:51:23,360
<font color="#CCCCCC">the issue is just</font><font color="#E5E5E5"> you know if you're</font>

1269
00:51:21,080 --> 00:51:25,250
still<font color="#CCCCCC"> not able to interpret</font><font color="#E5E5E5"> it you know</font>

1270
00:51:23,360 --> 00:51:27,230
now if<font color="#E5E5E5"> you're if you do run a thousand</font>

1271
00:51:25,250 --> 00:51:29,210
probes<font color="#CCCCCC"> to every router in the middle</font>

1272
00:51:27,230 --> 00:51:30,620
odds are<font color="#CCCCCC"> very strong</font><font color="#E5E5E5"> that one of those</font>

1273
00:51:29,210 --> 00:51:32,180
routers<font color="#E5E5E5"> in the middle is</font><font color="#CCCCCC"> going to drop</font><font color="#E5E5E5"> a</font>

1274
00:51:30,620 --> 00:51:35,690
packet and that's just going<font color="#E5E5E5"> to confuse</font>

1275
00:51:32,180 --> 00:51:37,129
end-users<font color="#E5E5E5"> couple of things also run</font><font color="#CCCCCC"> you</font>

1276
00:51:35,690 --> 00:51:39,020
didn't<font color="#CCCCCC"> mention</font><font color="#E5E5E5"> it</font><font color="#CCCCCC"> because</font><font color="#E5E5E5"> it's not it's</font>

1277
00:51:37,130 --> 00:51:40,520
not<font color="#E5E5E5"> an issue today</font><font color="#CCCCCC"> but if we all</font>

1278
00:51:39,020 --> 00:51:44,390
remember<font color="#CCCCCC"> the time where AT&T was running</font>

1279
00:51:40,520 --> 00:51:47,180
the<font color="#E5E5E5"> avicii TBR's</font><font color="#CCCCCC"> and and level three was</font>

1280
00:51:44,390 --> 00:51:48,529
running code on<font color="#E5E5E5"> their forced</font><font color="#CCCCCC"> ends were</font>

1281
00:51:47,180 --> 00:51:50,330
sometimes<font color="#E5E5E5"> you would either see no</font>

1282
00:51:48,530 --> 00:51:53,600
response<font color="#CCCCCC"> or thousands of 2000</font>

1283
00:51:50,330 --> 00:51:55,160
millisecond response<font color="#E5E5E5"> I don't know if</font>

1284
00:51:53,600 --> 00:51:57,319
you've been seeing<font color="#E5E5E5"> that at all a modern</font>

1285
00:51:55,160 --> 00:51:58,850
<font color="#E5E5E5">modern Internet today I haven't seen</font>

1286
00:51:57,320 --> 00:52:01,970
that kind of problem caused by

1287
00:51:58,850 --> 00:52:04,009
<font color="#CCCCCC">prioritization but</font><font color="#E5E5E5"> I've seen you know if</font>

1288
00:52:01,970 --> 00:52:04,549
I run a traceroute<font color="#E5E5E5"> five times across my</font>

1289
00:52:04,010 --> 00:52:07,250
network

1290
00:52:04,550 --> 00:52:08,810
odds are<font color="#E5E5E5"> good that one or more</font><font color="#CCCCCC"> of the</font>

1291
00:52:07,250 --> 00:52:11,390
routers is going to have a big

1292
00:52:08,810 --> 00:52:13,790
unexplained latency spike<font color="#CCCCCC"> or maybe even</font>

1293
00:52:11,390 --> 00:52:15,379
a drop and it's not<font color="#E5E5E5"> actual loss it's</font>

1294
00:52:13,790 --> 00:52:17,810
just a<font color="#E5E5E5"> problem with running</font><font color="#CCCCCC"> traceroute</font>

1295
00:52:15,380 --> 00:52:20,750
<font color="#E5E5E5">so maybe vendors need to put a little</font>

1296
00:52:17,810 --> 00:52:23,570
more time in<font color="#E5E5E5"> detail into improving their</font>

1297
00:52:20,750 --> 00:52:25,490
traceroute<font color="#E5E5E5"> response either improving the</font>

1298
00:52:23,570 --> 00:52:27,020
scheduler<font color="#E5E5E5"> or having some kind</font><font color="#CCCCCC"> of</font>

1299
00:52:25,490 --> 00:52:30,169
dedicated<font color="#E5E5E5"> process or whatever the case</font>

1300
00:52:27,020 --> 00:52:33,320
<font color="#E5E5E5">may be to</font><font color="#CCCCCC"> make that that</font><font color="#E5E5E5"> result appear</font>

1301
00:52:30,170 --> 00:52:35,569
more clean<font color="#E5E5E5"> but you know I typically see</font>

1302
00:52:33,320 --> 00:52:37,970
something<font color="#E5E5E5"> like 100 200 milliseconds</font>

1303
00:52:35,569 --> 00:52:40,430
caused by if<font color="#E5E5E5"> I'm logged</font><font color="#CCCCCC"> into a router</font>

1304
00:52:37,970 --> 00:52:43,430
doing a big complex show route it's

1305
00:52:40,430 --> 00:52:45,710
gonna slow it<font color="#E5E5E5"> down and that might cause</font>

1306
00:52:43,430 --> 00:52:48,049
problems<font color="#E5E5E5"> with the traceroute</font><font color="#CCCCCC"> I like that</font>

1307
00:52:45,710 --> 00:52:52,400
<font color="#CCCCCC">it either</font><font color="#E5E5E5"> like a Juniper</font><font color="#CCCCCC"> trace route pic</font>

1308
00:52:48,049 --> 00:52:54,470
or<font color="#E5E5E5"> Cisco trace route services</font><font color="#CCCCCC"> module or</font>

1309
00:52:52,400 --> 00:52:56,030
a first half<font color="#CCCCCC"> force</font><font color="#E5E5E5"> 10 put</font><font color="#CCCCCC"> 1/4 CPU on</font>

1310
00:52:54,470 --> 00:52:58,069
<font color="#CCCCCC">there next Rev just for responding to</font>

1311
00:52:56,030 --> 00:52:59,329
<font color="#E5E5E5">and the last question I have is um how</font>

1312
00:52:58,069 --> 00:53:02,720
do you explain when your end customers

1313
00:52:59,329 --> 00:53:04,819
<font color="#E5E5E5">are showing you trace routes where</font><font color="#CCCCCC"> you</font>

1314
00:53:02,720 --> 00:53:06,529
know so<font color="#CCCCCC"> so there's there's time-based</font>

1315
00:53:04,819 --> 00:53:08,058
speed of light but<font color="#CCCCCC"> a lot of cable</font><font color="#E5E5E5"> modem</font>

1316
00:53:06,530 --> 00:53:11,210
and DSL services<font color="#CCCCCC"> oftentimes the first</font>

1317
00:53:08,059 --> 00:53:12,470
<font color="#CCCCCC">hop might</font><font color="#E5E5E5"> have 15 to 25 milliseconds and</font>

1318
00:53:11,210 --> 00:53:16,130
<font color="#E5E5E5">I'm having</font><font color="#CCCCCC"> a hard time explaining that</font>

1319
00:53:12,470 --> 00:53:18,348
to<font color="#CCCCCC"> end users as you definitely see that</font>

1320
00:53:16,130 --> 00:53:20,359
especially<font color="#E5E5E5"> with with cable modems and</font>

1321
00:53:18,349 --> 00:53:25,309
<font color="#E5E5E5">the problem there being you know</font><font color="#CCCCCC"> DOCSIS</font>

1322
00:53:20,359 --> 00:53:27,049
is is a<font color="#E5E5E5"> TDM a protocol by the way that</font>

1323
00:53:25,309 --> 00:53:30,170
it works there's going to be a lot of

1324
00:53:27,049 --> 00:53:33,020
variable delay<font color="#E5E5E5"> in there some of that is</font>

1325
00:53:30,170 --> 00:53:35,480
actually<font color="#E5E5E5"> caused by serialization delay</font>

1326
00:53:33,020 --> 00:53:37,099
you know if you've<font color="#CCCCCC"> got a DSL</font><font color="#E5E5E5"> and it has</font>

1327
00:53:35,480 --> 00:53:40,190
<font color="#CCCCCC">one point</font><font color="#E5E5E5"> 5 mega down but it only has</font>

1328
00:53:37,099 --> 00:53:41,510
256<font color="#E5E5E5"> K up that is actually slow enough</font>

1329
00:53:40,190 --> 00:53:43,910
<font color="#CCCCCC">that you're going to see serialization</font>

1330
00:53:41,510 --> 00:53:45,680
<font color="#E5E5E5">delay and so people will see an extra 10</font>

1331
00:53:43,910 --> 00:53:48,770
milliseconds 15 milliseconds on<font color="#CCCCCC"> their</font>

1332
00:53:45,680 --> 00:53:50,660
traceroute and and be concerned and you

1333
00:53:48,770 --> 00:53:52,220
know it is a little<font color="#E5E5E5"> JIT iment concern</font>

1334
00:53:50,660 --> 00:53:55,250
because when you're<font color="#E5E5E5"> sending a</font><font color="#CCCCCC"> 1,500 byte</font>

1335
00:53:52,220 --> 00:53:57,980
packet<font color="#CCCCCC"> that's a big delay so a lot of</font>

1336
00:53:55,250 --> 00:54:00,799
the<font color="#CCCCCC"> very hard caps that</font><font color="#E5E5E5"> are imposed on</font>

1337
00:53:57,980 --> 00:54:04,099
<font color="#CCCCCC">on up streams you know</font><font color="#E5E5E5"> is definitely</font>

1338
00:54:00,799 --> 00:54:06,740
<font color="#CCCCCC">going</font><font color="#E5E5E5"> to start to contribute to that but</font>

1339
00:54:04,099 --> 00:54:09,559
a lot<font color="#CCCCCC"> of</font><font color="#E5E5E5"> the problems</font><font color="#CCCCCC"> that we</font><font color="#E5E5E5"> see we</font>

1340
00:54:06,740 --> 00:54:10,939
<font color="#CCCCCC">have customers complain oh my god is</font>

1341
00:54:09,559 --> 00:54:12,170
it's horrible latency across your

1342
00:54:10,940 --> 00:54:14,599
network<font color="#E5E5E5"> yeah it's horrible latency</font>

1343
00:54:12,170 --> 00:54:15,980
starting at<font color="#E5E5E5"> your first hop and a lot of</font>

1344
00:54:14,599 --> 00:54:18,500
<font color="#CCCCCC">that's just</font><font color="#E5E5E5"> human factors you just have</font>

1345
00:54:15,980 --> 00:54:20,240
to<font color="#E5E5E5"> explain</font><font color="#CCCCCC"> to people go talk to</font><font color="#E5E5E5"> your</font>

1346
00:54:18,500 --> 00:54:23,380
<font color="#E5E5E5">cable provider and of course the cable</font>

1347
00:54:20,240 --> 00:54:23,379
provider won't talk back so

1348
00:54:26,640 --> 00:54:30,310
yes

1349
00:54:27,970 --> 00:54:32,109
no I've legitimate<font color="#E5E5E5"> ly seen people</font>

1350
00:54:30,310 --> 00:54:33,850
<font color="#CCCCCC">sending traceroute swear</font><font color="#E5E5E5"> it's 3,000</font>

1351
00:54:32,109 --> 00:54:35,590
milliseconds<font color="#E5E5E5"> on their first hop and you</font>

1352
00:54:33,850 --> 00:54:37,000
know it turns out the computer<font color="#CCCCCC"> in the</font>

1353
00:54:35,590 --> 00:54:38,350
next room is running bit<font color="#CCCCCC"> tor and</font><font color="#E5E5E5"> they</font>

1354
00:54:37,000 --> 00:54:42,250
left it<font color="#E5E5E5"> on and they're finally</font>

1355
00:54:38,350 --> 00:54:42,700
complaining with<font color="#CCCCCC"> it me</font><font color="#E5E5E5"> so that was</font>

1356
00:54:42,250 --> 00:54:44,050
interesting

1357
00:54:42,700 --> 00:54:46,930
um so<font color="#E5E5E5"> you're talking</font><font color="#CCCCCC"> about the problems</font>

1358
00:54:44,050 --> 00:54:48,730
<font color="#E5E5E5">with multipath um there was a research</font>

1359
00:54:46,930 --> 00:54:50,200
project<font color="#CCCCCC"> a couple years ago</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> came out</font>

1360
00:54:48,730 --> 00:54:52,090
with a variant<font color="#CCCCCC"> called Paris traceroute</font>

1361
00:54:50,200 --> 00:54:53,259
that most academic groups are<font color="#E5E5E5"> using for</font>

1362
00:54:52,090 --> 00:54:55,900
their<font color="#CCCCCC"> tres</font><font color="#E5E5E5"> don't now like that's what I</font>

1363
00:54:53,260 --> 00:54:57,810
use and it's just meant to<font color="#E5E5E5"> deal</font><font color="#CCCCCC"> with</font>

1364
00:54:55,900 --> 00:54:59,560
multipath<font color="#CCCCCC"> and so I was just</font><font color="#E5E5E5"> curious if</font>

1365
00:54:57,810 --> 00:55:01,299
anyone's<font color="#CCCCCC"> using that if there's any</font>

1366
00:54:59,560 --> 00:55:03,490
<font color="#CCCCCC">penetration as sort of two</font><font color="#E5E5E5"> options one</font>

1367
00:55:01,300 --> 00:55:04,780
<font color="#CCCCCC">is just to keep the port consistent so</font>

1368
00:55:03,490 --> 00:55:06,490
you<font color="#E5E5E5"> get a consistent</font><font color="#CCCCCC"> path and then the</font>

1369
00:55:04,780 --> 00:55:07,990
<font color="#CCCCCC">other option</font><font color="#E5E5E5"> is to vary</font><font color="#CCCCCC"> the port</font>

1370
00:55:06,490 --> 00:55:09,729
systematically so<font color="#CCCCCC"> that you can expose</font>

1371
00:55:07,990 --> 00:55:11,500
all the multi paths and sort<font color="#E5E5E5"> of see</font>

1372
00:55:09,730 --> 00:55:13,420
especially<font color="#E5E5E5"> when you have</font><font color="#CCCCCC"> unequal length</font>

1373
00:55:11,500 --> 00:55:15,430
<font color="#CCCCCC">ones what's going on do you ever</font><font color="#E5E5E5"> use</font>

1374
00:55:13,420 --> 00:55:17,710
<font color="#CCCCCC">that do you know anyone</font><font color="#E5E5E5"> it does so I</font>

1375
00:55:15,430 --> 00:55:19,690
actually<font color="#CCCCCC"> I read a</font><font color="#E5E5E5"> paper on Paris</font>

1376
00:55:17,710 --> 00:55:22,150
traceroute<font color="#E5E5E5"> and I remember when I read it</font>

1377
00:55:19,690 --> 00:55:23,830
<font color="#E5E5E5">seeing some problem</font><font color="#CCCCCC"> that I thought would</font>

1378
00:55:22,150 --> 00:55:26,020
<font color="#CCCCCC">be an issue and so I</font><font color="#E5E5E5"> haven't actually</font>

1379
00:55:23,830 --> 00:55:28,380
used<font color="#E5E5E5"> it but I did remember seeing it I'm</font>

1380
00:55:26,020 --> 00:55:30,970
not aware of anyone<font color="#E5E5E5"> that that uses it</font>

1381
00:55:28,380 --> 00:55:33,580
<font color="#CCCCCC">but that's one</font><font color="#E5E5E5"> of the things that I've</font>

1382
00:55:30,970 --> 00:55:36,549
<font color="#CCCCCC">done</font><font color="#E5E5E5"> myself when I implement my own</font>

1383
00:55:33,580 --> 00:55:38,619
<font color="#CCCCCC">traceroute is the systematic approach of</font>

1384
00:55:36,550 --> 00:55:40,240
<font color="#E5E5E5">run a complete</font><font color="#CCCCCC"> traceroute</font><font color="#E5E5E5"> with a single</font>

1385
00:55:38,619 --> 00:55:42,220
port<font color="#E5E5E5"> then run a complete</font><font color="#CCCCCC"> traceroute</font><font color="#E5E5E5"> with</font>

1386
00:55:40,240 --> 00:55:44,879
an incremental port and try to explore

1387
00:55:42,220 --> 00:55:46,868
the different<font color="#CCCCCC"> paths that</font><font color="#E5E5E5"> are out there</font>

1388
00:55:44,880 --> 00:55:49,540
<font color="#CCCCCC">probably one of the more interesting</font>

1389
00:55:46,869 --> 00:55:52,330
<font color="#E5E5E5">things that I've seen</font><font color="#CCCCCC"> and this</font><font color="#E5E5E5"> is a</font>

1390
00:55:49,540 --> 00:55:55,720
problem with networks that now have<font color="#E5E5E5"> to</font>

1391
00:55:52,330 --> 00:55:57,430
run very large link a<font color="#CCCCCC"> GLAAD groups</font><font color="#E5E5E5"> to</font>

1392
00:55:55,720 --> 00:55:59,560
handle their network you know you've got

1393
00:55:57,430 --> 00:56:01,990
big networks like<font color="#E5E5E5"> level</font><font color="#CCCCCC"> 3 running 16 by</font>

1394
00:55:59,560 --> 00:56:04,270
10 gig parallel paths across<font color="#CCCCCC"> their</font>

1395
00:56:01,990 --> 00:56:07,180
<font color="#CCCCCC">network and that's not</font><font color="#E5E5E5"> visible to IP so</font>

1396
00:56:04,270 --> 00:56:10,060
there's been<font color="#E5E5E5"> some work in the IETF for</font><font color="#CCCCCC"> a</font>

1397
00:56:07,180 --> 00:56:12,129
protocol that<font color="#CCCCCC"> would cause the packet so</font>

1398
00:56:10,060 --> 00:56:15,130
the approach the IETF was taking was<font color="#E5E5E5"> to</font>

1399
00:56:12,130 --> 00:56:17,530
to cause the packet<font color="#CCCCCC"> to flood like a tree</font>

1400
00:56:15,130 --> 00:56:23,080
I'm not convinced<font color="#CCCCCC"> that that's the best</font>

1401
00:56:17,530 --> 00:56:24,580
<font color="#E5E5E5">solution</font><font color="#CCCCCC"> several other</font><font color="#E5E5E5"> people yes many</font>

1402
00:56:23,080 --> 00:56:27,369
<font color="#E5E5E5">people are not convinced</font><font color="#CCCCCC"> that that's</font><font color="#E5E5E5"> the</font>

1403
00:56:24,580 --> 00:56:30,970
best approach<font color="#E5E5E5"> maybe the best approach is</font>

1404
00:56:27,369 --> 00:56:34,060
some kind of ability<font color="#CCCCCC"> to control the</font>

1405
00:56:30,970 --> 00:56:35,589
paths<font color="#E5E5E5"> or some kind of ICMP query to look</font>

1406
00:56:34,060 --> 00:56:36,910
at what are the<font color="#CCCCCC"> available</font>

1407
00:56:35,589 --> 00:56:39,189
something like<font color="#CCCCCC"> that</font><font color="#E5E5E5"> so that you could</font>

1408
00:56:36,910 --> 00:56:40,899
actually<font color="#E5E5E5"> have an IP layer tool that now</font>

1409
00:56:39,189 --> 00:56:42,699
has a visibility<font color="#E5E5E5"> into all these parallel</font>

1410
00:56:40,900 --> 00:56:44,650
<font color="#E5E5E5">paths and you could control you could</font>

1411
00:56:42,699 --> 00:56:46,479
say take this path<font color="#CCCCCC"> take the</font><font color="#E5E5E5"> next path</font>

1412
00:56:44,650 --> 00:56:48,749
take the next path and systematically

1413
00:56:46,479 --> 00:56:48,749
test

1414
00:56:54,100 --> 00:57:01,960
yeah I don't recall offhand but<font color="#E5E5E5"> okay hey</font>

1415
00:56:59,140 --> 00:57:04,629
Richard guy yeah it's good presentation

1416
00:57:01,960 --> 00:57:05,980
<font color="#CCCCCC">I would say it</font><font color="#E5E5E5"> was good</font><font color="#CCCCCC"> that you brought</font>

1417
00:57:04,630 --> 00:57:08,710
<font color="#CCCCCC">up the</font><font color="#E5E5E5"> record route</font><font color="#CCCCCC"> oh it's gonna bring</font>

1418
00:57:05,980 --> 00:57:11,350
<font color="#CCCCCC">that up as well as the MTR and then the</font>

1419
00:57:08,710 --> 00:57:13,300
other thing<font color="#E5E5E5"> also is you know you can</font>

1420
00:57:11,350 --> 00:57:16,540
actually<font color="#E5E5E5"> specify what trade route</font><font color="#CCCCCC"> to go</font>

1421
00:57:13,300 --> 00:57:19,090
to you<font color="#E5E5E5"> know some arbitrary IP along the</font>

1422
00:57:16,540 --> 00:57:20,470
way so you<font color="#E5E5E5"> can sort of route around what</font>

1423
00:57:19,090 --> 00:57:22,390
you're seeing some congestion<font color="#E5E5E5"> if you</font>

1424
00:57:20,470 --> 00:57:23,830
have a good<font color="#E5E5E5"> enough to</font><font color="#CCCCCC"> Paulo G of the</font>

1425
00:57:22,390 --> 00:57:25,810
network<font color="#E5E5E5"> so yeah</font>

1426
00:57:23,830 --> 00:57:28,569
<font color="#E5E5E5">the problem is</font><font color="#CCCCCC"> that source routing and</font>

1427
00:57:25,810 --> 00:57:31,120
that's IP option based so most networks

1428
00:57:28,570 --> 00:57:33,460
<font color="#E5E5E5">turn that off</font><font color="#CCCCCC"> there's a handful that</font>

1429
00:57:31,120 --> 00:57:35,319
leave it enabled for or leave it enabled

1430
00:57:33,460 --> 00:57:37,600
on<font color="#E5E5E5"> their edge for troubleshooting</font><font color="#CCCCCC"> but</font>

1431
00:57:35,320 --> 00:57:41,500
these days honestly most networks do

1432
00:57:37,600 --> 00:57:43,900
turn it off<font color="#E5E5E5"> so that's just well I mean</font>

1433
00:57:41,500 --> 00:57:46,510
for<font color="#CCCCCC"> at least the ones</font><font color="#E5E5E5"> that don't I mean</font>

1434
00:57:43,900 --> 00:57:49,990
I think<font color="#E5E5E5"> it'd</font><font color="#CCCCCC"> be useful to to add and</font>

1435
00:57:46,510 --> 00:57:52,510
like maybe<font color="#E5E5E5"> even like TCP</font><font color="#CCCCCC"> traceroute just</font>

1436
00:57:49,990 --> 00:57:54,399
to explicitly mention that just<font color="#E5E5E5"> so</font>

1437
00:57:52,510 --> 00:57:56,950
<font color="#E5E5E5">people looking at this in the</font><font color="#CCCCCC"> future can</font>

1438
00:57:54,400 --> 00:58:00,580
say oh well here's some of the<font color="#E5E5E5"> actual</font>

1439
00:57:56,950 --> 00:58:02,259
tools to use<font color="#E5E5E5"> suggestion</font><font color="#CCCCCC"> one of the</font>

1440
00:58:00,580 --> 00:58:03,580
things to keep in<font color="#CCCCCC"> mind with TCP</font>

1441
00:58:02,260 --> 00:58:06,580
traceroute there's actually a lot of

1442
00:58:03,580 --> 00:58:09,700
<font color="#E5E5E5">networks that</font><font color="#CCCCCC"> do policy-based routing</font>

1443
00:58:06,580 --> 00:58:12,190
where<font color="#E5E5E5"> your</font><font color="#CCCCCC"> trace route might go out</font><font color="#E5E5E5"> over</font>

1444
00:58:09,700 --> 00:58:14,410
a nice<font color="#E5E5E5"> expensive internet path and your</font>

1445
00:58:12,190 --> 00:58:16,750
port 80<font color="#CCCCCC"> tcp might actually go out over</font>

1446
00:58:14,410 --> 00:58:18,609
<font color="#CCCCCC">koujun you'd be surprised the number of</font>

1447
00:58:16,750 --> 00:58:20,890
<font color="#E5E5E5">people that are doing that and so</font><font color="#CCCCCC"> tcp</font>

1448
00:58:18,610 --> 00:58:25,030
<font color="#E5E5E5">traceroute can help uncover some of the</font>

1449
00:58:20,890 --> 00:58:27,220
<font color="#E5E5E5">shenanigans that go on that's mark</font><font color="#CCCCCC"> next</font>

1450
00:58:25,030 --> 00:58:29,290
<font color="#CCCCCC">role and basically on</font><font color="#E5E5E5"> the same subject</font>

1451
00:58:27,220 --> 00:58:31,060
<font color="#E5E5E5">and your comments on MTR just keep on</font>

1452
00:58:29,290 --> 00:58:32,650
<font color="#E5E5E5">repeating try to</font><font color="#CCCCCC"> - and thank - mine</font>

1453
00:58:31,060 --> 00:58:36,220
differences if you are actually<font color="#CCCCCC"> spits</font>

1454
00:58:32,650 --> 00:58:38,350
out<font color="#CCCCCC"> I</font><font color="#E5E5E5"> should be a</font><font color="#CCCCCC"> go instead of UDP that</font>

1455
00:58:36,220 --> 00:58:40,870
might influence<font color="#E5E5E5"> your choice</font><font color="#CCCCCC"> with</font><font color="#E5E5E5"> results</font>

1456
00:58:38,350 --> 00:58:43,150
or your<font color="#CCCCCC"> ins your feedback it's actually</font>

1457
00:58:40,870 --> 00:58:45,640
I<font color="#E5E5E5"> wasn't clear</font><font color="#CCCCCC"> on the behavior of MTR</font>

1458
00:58:43,150 --> 00:58:47,350
because I used to<font color="#E5E5E5"> think</font><font color="#CCCCCC"> that what it was</font>

1459
00:58:45,640 --> 00:58:49,180
doing<font color="#E5E5E5"> was after it discovered the</font>

1460
00:58:47,350 --> 00:58:51,790
network with<font color="#E5E5E5"> traceroute it was sending</font>

1461
00:58:49,180 --> 00:58:53,259
ICMP<font color="#E5E5E5"> and somebody actually told me that</font>

1462
00:58:51,790 --> 00:58:54,700
<font color="#CCCCCC">it wasn't doing that</font><font color="#E5E5E5"> it was actually</font>

1463
00:58:53,260 --> 00:58:56,590
running<font color="#E5E5E5"> a multiple trace routes</font>

1464
00:58:54,700 --> 00:58:58,419
<font color="#E5E5E5">I was also was doubting and I could show</font>

1465
00:58:56,590 --> 00:59:02,020
you<font color="#E5E5E5"> the trash chute on my other TCP dump</font>

1466
00:58:58,420 --> 00:59:04,000
on my<font color="#CCCCCC"> laptop I just did one yeah</font>

1467
00:59:02,020 --> 00:59:04,910
the current debut noticed I was testing

1468
00:59:04,000 --> 00:59:08,300
ruins<font color="#CCCCCC"> two</font><font color="#E5E5E5"> actually</font>

1469
00:59:04,910 --> 00:59:09,470
<font color="#CCCCCC">they okay</font><font color="#E5E5E5"> well if it is ping and I swear</font>

1470
00:59:08,300 --> 00:59:11,630
that<font color="#E5E5E5"> must have changed</font><font color="#CCCCCC"> inversions</font>

1471
00:59:09,470 --> 00:59:12,980
<font color="#E5E5E5">because I did you know had someone point</font>

1472
00:59:11,630 --> 00:59:14,780
that out<font color="#CCCCCC"> to</font><font color="#E5E5E5"> me and I said no no it's</font>

1473
00:59:12,980 --> 00:59:16,610
it's<font color="#E5E5E5"> ping and they found some</font>

1474
00:59:14,780 --> 00:59:19,100
documentation<font color="#E5E5E5"> that proved that it</font><font color="#CCCCCC"> wasn't</font>

1475
00:59:16,610 --> 00:59:20,510
but<font color="#E5E5E5"> if it if it is running you know if</font>

1476
00:59:19,100 --> 00:59:22,970
it's running<font color="#CCCCCC"> the first traceroute to</font>

1477
00:59:20,510 --> 00:59:24,650
discover the apology<font color="#CCCCCC"> and it's running</font>

1478
00:59:22,970 --> 00:59:26,029
<font color="#CCCCCC">the second one is ping which i don't</font>

1479
00:59:24,650 --> 00:59:28,220
<font color="#E5E5E5">think that it's doing because i've seen</font>

1480
00:59:26,030 --> 00:59:29,690
it come back<font color="#E5E5E5"> and</font><font color="#CCCCCC"> fill in</font><font color="#E5E5E5"> you know after</font>

1481
00:59:28,220 --> 00:59:31,580
the second<font color="#CCCCCC"> third fourth path i've seen</font>

1482
00:59:29,690 --> 00:59:34,580
<font color="#E5E5E5">it come back and fill in ecmp</font>

1483
00:59:31,580 --> 00:59:36,350
<font color="#E5E5E5">so it is definitely</font><font color="#CCCCCC"> i whatever</font><font color="#E5E5E5"> version</font>

1484
00:59:34,580 --> 00:59:39,410
<font color="#CCCCCC">i'm running running multiple trace</font>

1485
00:59:36,350 --> 00:59:42,020
<font color="#CCCCCC">routes but</font><font color="#E5E5E5"> if you're if you</font><font color="#CCCCCC"> are looking</font>

1486
00:59:39,410 --> 00:59:43,670
at a tool that uses<font color="#CCCCCC"> traceroute to find</font>

1487
00:59:42,020 --> 00:59:45,320
the<font color="#CCCCCC"> topology</font><font color="#E5E5E5"> and then pings the router</font>

1488
00:59:43,670 --> 00:59:47,600
<font color="#CCCCCC">you're going to get</font><font color="#E5E5E5"> very different</font>

1489
00:59:45,320 --> 00:59:50,030
results on that<font color="#E5E5E5"> because a lot</font><font color="#CCCCCC"> of</font>

1490
00:59:47,600 --> 00:59:52,970
networks are running great limits on on

1491
00:59:50,030 --> 00:59:54,560
ICMP on the routers so that's<font color="#E5E5E5"> something</font>

1492
00:59:52,970 --> 00:59:56,450
<font color="#E5E5E5">to keep in</font><font color="#CCCCCC"> mind</font><font color="#E5E5E5"> that that's no longer a</font>

1493
00:59:54,560 --> 00:59:59,270
forwarding path issue that's a control

1494
00:59:56,450 --> 01:00:00,830
<font color="#E5E5E5">plane issue as so for example on</font>

1495
00:59:59,270 --> 01:00:02,509
<font color="#E5E5E5">junipers</font><font color="#CCCCCC"> and probably some</font><font color="#E5E5E5"> other</font>

1496
01:00:00,830 --> 01:00:04,790
platforms<font color="#E5E5E5"> there's actually a separate</font>

1497
01:00:02,510 --> 01:00:08,120
processor for handling<font color="#E5E5E5"> ICMP generation</font>

1498
01:00:04,790 --> 01:00:11,090
of data plane<font color="#E5E5E5"> packets versus the routing</font>

1499
01:00:08,120 --> 01:00:15,500
engine control plan<font color="#E5E5E5"> so you might see</font>

1500
01:00:11,090 --> 01:00:18,100
different<font color="#E5E5E5"> results based on that any</font>

1501
01:00:15,500 --> 01:00:18,100
other questions

1502
01:00:23,130 --> 01:00:31,049
you've set the evil bit<font color="#E5E5E5"> high we use</font>

1503
01:00:27,869 --> 01:00:34,049
<font color="#E5E5E5">looking glasses a lot</font><font color="#CCCCCC"> too to find the</font>

1504
01:00:31,049 --> 01:00:36,269
reverse path but<font color="#E5E5E5"> regrettably not</font>

1505
01:00:34,049 --> 01:00:37,859
everybody's running them so if<font color="#E5E5E5"> you can't</font>

1506
01:00:36,269 --> 01:00:39,569
allow them on your network please get

1507
01:00:37,859 --> 01:00:42,119
them up<font color="#E5E5E5"> and make sure Google finds them</font>

1508
01:00:39,569 --> 01:00:44,369
<font color="#E5E5E5">or put them somewhere like BGP for Delta</font>

1509
01:00:42,119 --> 01:00:46,380
s<font color="#E5E5E5"> so all the people can</font><font color="#CCCCCC"> find them I use</font>

1510
01:00:44,369 --> 01:00:48,619
them or if you know any other sites

1511
01:00:46,380 --> 01:00:50,849
that's<font color="#E5E5E5"> summarized</font><font color="#CCCCCC"> looking</font><font color="#E5E5E5"> glasses</font>

1512
01:00:48,619 --> 01:00:52,470
<font color="#E5E5E5">there's a couple sites that summarize</font>

1513
01:00:50,849 --> 01:00:54,749
looking<font color="#CCCCCC"> glasses and every time I look at</font>

1514
01:00:52,470 --> 01:00:56,399
<font color="#E5E5E5">them they're out of date traceroute org</font>

1515
01:00:54,749 --> 01:00:58,169
<font color="#E5E5E5">is constantly</font><font color="#CCCCCC"> out-of-date</font><font color="#E5E5E5"> that's the</font>

1516
01:00:56,400 --> 01:01:00,420
problem<font color="#E5E5E5"> that I see most of the time</font>

1517
01:00:58,170 --> 01:01:02,309
Google<font color="#E5E5E5"> finds them or they</font><font color="#CCCCCC"> don't</font><font color="#E5E5E5"> exist</font>

1518
01:01:00,420 --> 01:01:05,789
<font color="#E5E5E5">and</font><font color="#CCCCCC"> there's several large networks like</font>

1519
01:01:02,309 --> 01:01:08,160
uu net NTT various people<font color="#E5E5E5"> that don't</font>

1520
01:01:05,789 --> 01:01:11,069
have looking glasses<font color="#E5E5E5"> that are real pains</font>

1521
01:01:08,160 --> 01:01:15,149
to troubleshoot<font color="#E5E5E5"> so anyone that wants</font><font color="#CCCCCC"> to</font>

1522
01:01:11,069 --> 01:01:17,299
give<font color="#E5E5E5"> those</font><font color="#CCCCCC"> guys a kick please anything</font>

1523
01:01:15,150 --> 01:01:17,299
<font color="#E5E5E5">else</font>

1524
01:01:17,860 --> 01:01:27,140
yes I'll forward it to you<font color="#CCCCCC"> I just want</font>

1525
01:01:24,140 --> 01:01:29,299
<font color="#E5E5E5">to add we</font><font color="#CCCCCC"> have time to kill here an</font>

1526
01:01:27,140 --> 01:01:31,040
interesting<font color="#CCCCCC"> place</font><font color="#E5E5E5"> from seeing more</font><font color="#CCCCCC"> trail</font>

1527
01:01:29,300 --> 01:01:32,540
shots coming up is a lot of<font color="#E5E5E5"> monitoring</font>

1528
01:01:31,040 --> 01:01:34,160
services have started to add that to

1529
01:01:32,540 --> 01:01:36,320
their<font color="#E5E5E5"> alerts so where previously we're</font>

1530
01:01:34,160 --> 01:01:38,690
seeing<font color="#E5E5E5"> like like the keynote alert alert</font>

1531
01:01:36,320 --> 01:01:41,030
<font color="#E5E5E5">site Gomez's</font><font color="#CCCCCC"> will just tell you</font><font color="#E5E5E5"> problem</font>

1532
01:01:38,690 --> 01:01:43,550
more and more when they're doing<font color="#E5E5E5"> for</font>

1533
01:01:41,030 --> 01:01:45,320
<font color="#E5E5E5">example</font><font color="#CCCCCC"> HTTP based monitoring what</font><font color="#E5E5E5"> alone</font>

1534
01:01:43,550 --> 01:01:46,880
comes in<font color="#E5E5E5"> in addition to telling me they</font>

1535
01:01:45,320 --> 01:01:48,440
have an alarm<font color="#E5E5E5"> they email a traceroute</font>

1536
01:01:46,880 --> 01:01:50,120
that snapshot<font color="#CCCCCC"> in time a TCP based</font>

1537
01:01:48,440 --> 01:01:54,470
<font color="#CCCCCC">traceroute what's</font><font color="#E5E5E5"> actually kind of</font>

1538
01:01:50,120 --> 01:01:55,580
useful<font color="#E5E5E5"> and and some of the</font><font color="#CCCCCC"> sites</font><font color="#E5E5E5"> a looks</font>

1539
01:01:54,470 --> 01:01:56,899
<font color="#E5E5E5">like for example</font><font color="#CCCCCC"> sus what I spend most</font>

1540
01:01:55,580 --> 01:01:59,560
of<font color="#E5E5E5"> our time staring at because it's it's</font>

1541
01:01:56,900 --> 01:02:02,180
cheap<font color="#E5E5E5"> and our people like saving money</font>

1542
01:01:59,560 --> 01:02:03,740
they give you the<font color="#CCCCCC"> IP address they issued</font>

1543
01:02:02,180 --> 01:02:04,640
the traceroute from and then they show

1544
01:02:03,740 --> 01:02:06,379
you<font color="#E5E5E5"> the</font><font color="#CCCCCC"> trace route which makes it</font>

1545
01:02:04,640 --> 01:02:08,600
really<font color="#CCCCCC"> easy to Slama ties our back to</font>

1546
01:02:06,380 --> 01:02:10,700
them so I<font color="#E5E5E5"> really wish more tools did</font>

1547
01:02:08,600 --> 01:02:12,170
that you<font color="#CCCCCC"> know if the tool just said the</font>

1548
01:02:10,700 --> 01:02:15,049
source address when<font color="#E5E5E5"> it ran the trace</font>

1549
01:02:12,170 --> 01:02:18,110
route every<font color="#E5E5E5"> time and the</font><font color="#CCCCCC"> timestamp</font><font color="#E5E5E5"> that</font>

1550
01:02:15,050 --> 01:02:20,660
<font color="#CCCCCC">would be very very</font><font color="#E5E5E5"> helpful</font><font color="#CCCCCC"> and another</font>

1551
01:02:18,110 --> 01:02:22,940
interesting<font color="#CCCCCC"> note is</font><font color="#E5E5E5"> that some</font><font color="#CCCCCC"> of the TCP</font>

1552
01:02:20,660 --> 01:02:25,549
trace routes<font color="#E5E5E5"> don't actually make a real</font>

1553
01:02:22,940 --> 01:02:28,430
TCP packet<font color="#E5E5E5"> they just make an IP packet</font>

1554
01:02:25,550 --> 01:02:30,140
with<font color="#CCCCCC"> the protocol set they also just</font>

1555
01:02:28,430 --> 01:02:33,500
ignore the fact<font color="#CCCCCC"> that you specify a port</font>

1556
01:02:30,140 --> 01:02:36,009
<font color="#E5E5E5">so you know you do -</font><font color="#CCCCCC"> p80</font><font color="#E5E5E5"> and it's still</font>

1557
01:02:33,500 --> 01:02:38,240
<font color="#CCCCCC">just an IP packet which makes</font><font color="#E5E5E5"> things fun</font>

1558
01:02:36,010 --> 01:02:40,820
definitely I<font color="#E5E5E5"> don't have much experience</font>

1559
01:02:38,240 --> 01:02:41,479
<font color="#E5E5E5">with TCP</font><font color="#CCCCCC"> trace route tools but I could</font>

1560
01:02:40,820 --> 01:02:47,480
believe that

1561
01:02:41,480 --> 01:02:51,070
<font color="#E5E5E5">that's a problem no I</font><font color="#CCCCCC"> don't well</font>

1562
01:02:47,480 --> 01:02:51,070
otherwise I<font color="#CCCCCC"> think that's it</font>

