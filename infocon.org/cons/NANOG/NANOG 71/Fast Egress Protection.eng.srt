1
00:00:09,280 --> 00:00:12,969
good afternoon<font color="#E5E5E5"> to everyone</font>

2
00:00:14,070 --> 00:00:18,390
so we'll<font color="#E5E5E5"> discuss I will</font><font color="#CCCCCC"> talk today about</font>

3
00:00:16,830 --> 00:00:22,139
<font color="#E5E5E5">ingress protection fast ingress</font>

4
00:00:18,390 --> 00:00:24,119
protection<font color="#E5E5E5"> that is a joint project that</font>

5
00:00:22,140 --> 00:00:26,099
we've done<font color="#E5E5E5"> at Deutsche Telekom so we</font>

6
00:00:24,119 --> 00:00:29,700
started a<font color="#CCCCCC"> couple</font><font color="#E5E5E5"> of</font><font color="#CCCCCC"> years</font><font color="#E5E5E5"> ago actually</font>

7
00:00:26,099 --> 00:00:35,280
<font color="#CCCCCC">and now is in</font><font color="#E5E5E5"> fully production so the</font>

8
00:00:29,700 --> 00:00:40,140
current status of<font color="#CCCCCC"> the draft</font><font color="#E5E5E5"> is that the</font>

9
00:00:35,280 --> 00:00:41,880
draft was issued<font color="#E5E5E5"> last year 2016 and the</font>

10
00:00:40,140 --> 00:00:43,860
<font color="#E5E5E5">first version of the draft and now as</font>

11
00:00:41,880 --> 00:00:46,140
<font color="#E5E5E5">you see this night is not very accurate</font>

12
00:00:43,860 --> 00:00:49,019
<font color="#E5E5E5">because we</font><font color="#CCCCCC"> have</font><font color="#E5E5E5"> version</font><font color="#CCCCCC"> six already</font><font color="#E5E5E5"> of</font>

13
00:00:46,140 --> 00:00:50,850
<font color="#E5E5E5">the draft with support from Juniper</font>

14
00:00:49,020 --> 00:00:51,330
Deutsche Telekom who have a and as well

15
00:00:50,850 --> 00:00:53,670
<font color="#CCCCCC">Orange</font>

16
00:00:51,330 --> 00:00:56,129
so arranged<font color="#E5E5E5"> as</font><font color="#CCCCCC"> well</font><font color="#E5E5E5"> joint</font><font color="#CCCCCC"> join us</font><font color="#E5E5E5"> in</font>

17
00:00:53,670 --> 00:00:59,700
supporting<font color="#CCCCCC"> the draft</font><font color="#E5E5E5"> so so let's start</font>

18
00:00:56,130 --> 00:01:01,050
let's start<font color="#E5E5E5"> okay before</font><font color="#CCCCCC"> we discuss the</font>

19
00:00:59,700 --> 00:01:02,790
ingress protection<font color="#CCCCCC"> this</font><font color="#E5E5E5"> has the</font>

20
00:01:01,050 --> 00:01:04,378
architectural model<font color="#CCCCCC"> that we</font><font color="#E5E5E5"> going to</font>

21
00:01:02,790 --> 00:01:06,110
cover here<font color="#E5E5E5"> and this egress protection so</font>

22
00:01:04,379 --> 00:01:08,790
basically when you<font color="#CCCCCC"> have very big Network</font>

23
00:01:06,110 --> 00:01:12,030
you typically<font color="#E5E5E5"> divide this vignette rings</font>

24
00:01:08,790 --> 00:01:14,880
<font color="#E5E5E5">on smaller pieces like some</font><font color="#CCCCCC"> IGP domains</font>

25
00:01:12,030 --> 00:01:16,710
<font color="#E5E5E5">areas or maybe autonomous system you</font>

26
00:01:14,880 --> 00:01:18,869
have member<font color="#E5E5E5"> uno system</font><font color="#CCCCCC"> Confederations</font>

27
00:01:16,710 --> 00:01:20,789
something like that at<font color="#E5E5E5"> the end this</font><font color="#CCCCCC"> is</font>

28
00:01:18,870 --> 00:01:22,800
more or<font color="#CCCCCC"> less the picture of you network</font>

29
00:01:20,790 --> 00:01:26,250
how does it look like<font color="#E5E5E5"> okay it's divided</font>

30
00:01:22,800 --> 00:01:28,229
in in<font color="#E5E5E5"> different pieces and in this</font>

31
00:01:26,250 --> 00:01:30,990
network<font color="#E5E5E5"> every node has different</font>

32
00:01:28,229 --> 00:01:32,820
function<font color="#CCCCCC"> so we have</font><font color="#E5E5E5"> access not at the</font>

33
00:01:30,990 --> 00:01:35,640
access of<font color="#E5E5E5"> the network</font><font color="#CCCCCC"> case access not is</font>

34
00:01:32,820 --> 00:01:39,179
connected to<font color="#E5E5E5"> to some what we call here</font>

35
00:01:35,640 --> 00:01:41,940
ingress not the ingress thought could be

36
00:01:39,180 --> 00:01:43,500
is the ingress<font color="#E5E5E5"> not and each domain</font><font color="#CCCCCC"> okay</font>

37
00:01:41,940 --> 00:01:45,630
<font color="#CCCCCC">so we're because</font><font color="#E5E5E5"> we have many domains</font>

38
00:01:43,500 --> 00:01:47,190
many<font color="#CCCCCC"> igb areas we have many ingress</font>

39
00:01:45,630 --> 00:01:48,899
<font color="#CCCCCC">notes from</font><font color="#E5E5E5"> that perspective from this</font>

40
00:01:47,190 --> 00:01:51,090
end-to-end protection terminology

41
00:01:48,900 --> 00:01:52,920
perspective and then we have transit

42
00:01:51,090 --> 00:01:56,070
<font color="#CCCCCC">notes so</font><font color="#E5E5E5"> transition as there are some</font>

43
00:01:52,920 --> 00:01:58,439
<font color="#CCCCCC">notes inside of each each domain and</font>

44
00:01:56,070 --> 00:02:00,600
then at the end we have egress<font color="#E5E5E5"> notes so</font>

45
00:01:58,439 --> 00:02:05,279
egress notes<font color="#E5E5E5"> this is</font><font color="#CCCCCC"> an end of each</font>

46
00:02:00,600 --> 00:02:07,860
domain<font color="#E5E5E5"> and for each of</font><font color="#CCCCCC"> these see a note</font>

47
00:02:05,280 --> 00:02:09,780
types we<font color="#CCCCCC"> can have protection yes we can</font>

48
00:02:07,860 --> 00:02:11,370
define ingress protection<font color="#CCCCCC"> what we say</font>

49
00:02:09,780 --> 00:02:14,189
ingress protection this is basically the

50
00:02:11,370 --> 00:02:15,780
ink that the access<font color="#E5E5E5"> not is trying to</font>

51
00:02:14,189 --> 00:02:17,790
<font color="#E5E5E5">protect themselves against the</font><font color="#CCCCCC"> feather</font>

52
00:02:15,780 --> 00:02:19,530
<font color="#E5E5E5">of the ingress not so it's when it</font>

53
00:02:17,790 --> 00:02:20,909
detects<font color="#E5E5E5"> the failure</font><font color="#CCCCCC"> the ingress notice</font>

54
00:02:19,530 --> 00:02:22,260
which<font color="#CCCCCC"> overdone</font><font color="#E5E5E5"> over interest that this</font>

55
00:02:20,909 --> 00:02:24,418
is ingress protection<font color="#CCCCCC"> distant</font>

56
00:02:22,260 --> 00:02:25,168
terminology then we<font color="#E5E5E5"> are transit</font>

57
00:02:24,419 --> 00:02:27,569
protection

58
00:02:25,169 --> 00:02:29,760
transit protection is

59
00:02:27,569 --> 00:02:31,858
<font color="#E5E5E5">the failure of the transit transit links</font>

60
00:02:29,760 --> 00:02:33,268
and we know that is covered<font color="#E5E5E5"> by LFA for</font>

61
00:02:31,859 --> 00:02:35,999
example remote LFA

62
00:02:33,269 --> 00:02:37,829
topology internment<font color="#CCCCCC"> and LFA in Aris</font>

63
00:02:35,999 --> 00:02:40,859
<font color="#E5E5E5">video world we have a race between fast</font>

64
00:02:37,829 --> 00:02:43,139
<font color="#E5E5E5">readout or errors we want one protection</font>

65
00:02:40,859 --> 00:02:46,909
or facility protection so a lot of

66
00:02:43,139 --> 00:02:49,139
<font color="#CCCCCC">different applications or differences</font>

67
00:02:46,909 --> 00:02:50,879
protocols we<font color="#CCCCCC"> have here to</font><font color="#E5E5E5"> protect</font>

68
00:02:49,139 --> 00:02:55,250
ourselves I will not cover this part of

69
00:02:50,879 --> 00:02:57,719
the of the<font color="#E5E5E5"> story but we have as well the</font>

70
00:02:55,250 --> 00:02:59,340
<font color="#E5E5E5">egress protection so egress protection</font>

71
00:02:57,719 --> 00:03:01,168
is against<font color="#E5E5E5"> the</font><font color="#CCCCCC"> protection against the</font>

72
00:02:59,340 --> 00:03:03,389
failure<font color="#CCCCCC"> of the egress not so we can</font>

73
00:03:01,169 --> 00:03:06,090
<font color="#CCCCCC">define</font><font color="#E5E5E5"> less because the picture the</font>

74
00:03:03,389 --> 00:03:07,590
primer<font color="#E5E5E5"> and backup ingress not</font><font color="#CCCCCC"> ok so here</font>

75
00:03:06,090 --> 00:03:10,469
on<font color="#CCCCCC"> your on your right side you have</font>

76
00:03:07,590 --> 00:03:12,780
primary<font color="#E5E5E5"> egress</font><font color="#CCCCCC"> PE</font><font color="#E5E5E5"> and backup</font><font color="#CCCCCC"> equals PE</font>

77
00:03:10,469 --> 00:03:14,099
and<font color="#CCCCCC"> you would like to protect the</font>

78
00:03:12,780 --> 00:03:16,769
traffic against the<font color="#E5E5E5"> failure of the</font>

79
00:03:14,099 --> 00:03:19,168
primary egress PE<font color="#CCCCCC"> ok so how can we do</font>

80
00:03:16,769 --> 00:03:21,480
<font color="#CCCCCC">that so</font><font color="#E5E5E5"> we can for example on the</font>

81
00:03:19,169 --> 00:03:26,189
ingress not so on<font color="#E5E5E5"> the left side on the</font>

82
00:03:21,480 --> 00:03:29,399
<font color="#E5E5E5">ingress not we can install pre-installed</font>

83
00:03:26,189 --> 00:03:32,280
in<font color="#E5E5E5"> the FIB in the forwarding table the</font>

84
00:03:29,400 --> 00:03:36,090
next hops to the<font color="#E5E5E5"> primary</font><font color="#CCCCCC"> egress</font><font color="#E5E5E5"> not and</font>

85
00:03:32,280 --> 00:03:38,280
the<font color="#E5E5E5"> cap us not</font><font color="#CCCCCC"> ok this is one of the one</font>

86
00:03:36,090 --> 00:03:41,370
<font color="#CCCCCC">of</font><font color="#E5E5E5"> the options that we have this is</font>

87
00:03:38,280 --> 00:03:46,650
<font color="#E5E5E5">called the BGP</font><font color="#CCCCCC"> peak edge by</font><font color="#E5E5E5"> the way</font><font color="#CCCCCC"> ok</font>

88
00:03:41,370 --> 00:03:48,540
so a bit<font color="#CCCCCC"> BGP package function and it</font>

89
00:03:46,650 --> 00:03:50,430
works<font color="#E5E5E5"> okay this is implementing most</font>

90
00:03:48,540 --> 00:03:54,328
<font color="#E5E5E5">network</font><font color="#CCCCCC"> it works the problem with this</font>

91
00:03:50,430 --> 00:03:56,549
<font color="#E5E5E5">BGP</font><font color="#CCCCCC"> back edge is that it's called peak</font>

92
00:03:54,329 --> 00:03:59,459
edge which means prefix independent

93
00:03:56,549 --> 00:04:01,709
convergence<font color="#E5E5E5"> it's independent</font><font color="#CCCCCC"> from the</font>

94
00:03:59,459 --> 00:04:03,479
number of<font color="#CCCCCC"> BGP prefixes but not really</font>

95
00:04:01,709 --> 00:04:09,269
<font color="#E5E5E5">independent from the number of IP</font>

96
00:04:03,479 --> 00:04:11,939
prefixes why because you need to detect

97
00:04:09,269 --> 00:04:14,669
the ingress PE<font color="#E5E5E5"> need to the tag that the</font>

98
00:04:11,939 --> 00:04:16,560
<font color="#E5E5E5">primary egress PE failed</font><font color="#CCCCCC"> ok how this</font>

99
00:04:14,669 --> 00:04:18,509
detection happens because only after

100
00:04:16,560 --> 00:04:20,940
after this<font color="#E5E5E5"> detection happens the</font><font color="#CCCCCC"> Prime</font>

101
00:04:18,509 --> 00:04:24,479
the ingress PE<font color="#E5E5E5"> can switch over the</font>

102
00:04:20,940 --> 00:04:28,139
traffic<font color="#CCCCCC"> to</font><font color="#E5E5E5"> the backup egress P how this</font>

103
00:04:24,479 --> 00:04:31,710
detection<font color="#E5E5E5"> can happen there's similar</font>

104
00:04:28,139 --> 00:04:34,440
ways to detect this failure<font color="#CCCCCC"> one of the</font>

105
00:04:31,710 --> 00:04:36,239
ways is the global<font color="#E5E5E5"> IP convergence</font><font color="#CCCCCC"> okay</font>

106
00:04:34,440 --> 00:04:38,940
so from the global<font color="#CCCCCC"> AGP</font><font color="#E5E5E5"> convergence</font>

107
00:04:36,240 --> 00:04:41,230
<font color="#E5E5E5">eventually ingress be we</font><font color="#CCCCCC"> realize that</font>

108
00:04:38,940 --> 00:04:43,510
<font color="#E5E5E5">the egress be felt</font>

109
00:04:41,230 --> 00:04:46,090
what does<font color="#CCCCCC"> it</font><font color="#E5E5E5"> mean global</font><font color="#CCCCCC"> IGP convergence</font>

110
00:04:43,510 --> 00:04:47,860
it depends on the size<font color="#E5E5E5"> of the network</font><font color="#CCCCCC"> in</font>

111
00:04:46,090 --> 00:04:49,989
depending on<font color="#E5E5E5"> the size of the</font><font color="#CCCCCC"> network if</font>

112
00:04:47,860 --> 00:04:51,340
your<font color="#CCCCCC"> network</font><font color="#E5E5E5"> is small</font><font color="#CCCCCC"> its capital</font>

113
00:04:49,990 --> 00:04:52,870
<font color="#CCCCCC">hundred three cyclones but if the</font>

114
00:04:51,340 --> 00:04:55,539
network is<font color="#CCCCCC"> very big if you're</font><font color="#E5E5E5"> a GP</font>

115
00:04:52,870 --> 00:04:58,330
domain is very<font color="#E5E5E5"> big it can't go up</font><font color="#CCCCCC"> to one</font>

116
00:04:55,540 --> 00:05:00,490
or maybe two seconds<font color="#CCCCCC"> and this</font><font color="#E5E5E5"> is</font>

117
00:04:58,330 --> 00:05:04,150
<font color="#E5E5E5">reflected and later</font><font color="#CCCCCC"> in the BGP peak edge</font>

118
00:05:00,490 --> 00:05:07,060
failover convergence<font color="#CCCCCC"> okay</font><font color="#E5E5E5"> then even more</font>

119
00:05:04,150 --> 00:05:09,489
convergence<font color="#CCCCCC"> you can expect</font><font color="#E5E5E5"> if you have a</font>

120
00:05:07,060 --> 00:05:11,650
<font color="#E5E5E5">network topology</font><font color="#CCCCCC"> like here the on the</font>

121
00:05:09,490 --> 00:05:15,220
picture yes if you have divided you

122
00:05:11,650 --> 00:05:17,229
network in some domains interconnected

123
00:05:15,220 --> 00:05:20,430
<font color="#E5E5E5">these domains with BGP</font><font color="#CCCCCC"> leverage unicast</font>

124
00:05:17,230 --> 00:05:23,830
<font color="#E5E5E5">to have end-to-end SP etc etc even more</font>

125
00:05:20,430 --> 00:05:26,530
so you you information<font color="#E5E5E5"> that</font><font color="#CCCCCC"> the primary</font>

126
00:05:23,830 --> 00:05:28,090
<font color="#CCCCCC">has</font><font color="#E5E5E5"> be failed need to cross many many</font>

127
00:05:26,530 --> 00:05:30,869
domains<font color="#E5E5E5"> at it of course it would take</font>

128
00:05:28,090 --> 00:05:35,400
some time<font color="#CCCCCC"> okay so it's not not immediate</font>

129
00:05:30,870 --> 00:05:38,740
so you can improve<font color="#CCCCCC"> that by</font><font color="#E5E5E5"> running BFD</font>

130
00:05:35,400 --> 00:05:41,710
<font color="#CCCCCC">okay when you run BFD from the ingress</font>

131
00:05:38,740 --> 00:05:44,740
PE to the<font color="#CCCCCC"> egg recipe of course you can</font>

132
00:05:41,710 --> 00:05:46,840
more quicker or or you don't depend on<font color="#CCCCCC"> e</font>

133
00:05:44,740 --> 00:05:49,120
longer on the IGP convergence to detect

134
00:05:46,840 --> 00:05:51,369
the failure of the egress<font color="#CCCCCC"> pinaud you</font>

135
00:05:49,120 --> 00:05:53,680
<font color="#E5E5E5">depend on</font><font color="#CCCCCC"> the BFD convergence or in the</font>

136
00:05:51,370 --> 00:05:56,080
<font color="#E5E5E5">bay of</font><font color="#CCCCCC"> the timers yes but in very</font><font color="#E5E5E5"> large</font>

137
00:05:53,680 --> 00:05:57,810
networks<font color="#E5E5E5"> it</font><font color="#CCCCCC"> can be as well challenging</font>

138
00:05:56,080 --> 00:06:01,390
to have aggressive<font color="#E5E5E5"> behave the timers for</font>

139
00:05:57,810 --> 00:06:06,040
for large number of<font color="#E5E5E5"> of</font><font color="#CCCCCC"> piece and we are</font>

140
00:06:01,390 --> 00:06:11,919
<font color="#CCCCCC">talking about</font><font color="#E5E5E5"> about large networks</font><font color="#CCCCCC"> all</font>

141
00:06:06,040 --> 00:06:15,640
<font color="#E5E5E5">right so I discussed already that so</font>

142
00:06:11,920 --> 00:06:18,630
that's the<font color="#CCCCCC"> reason we are introducing a</font>

143
00:06:15,640 --> 00:06:20,890
<font color="#CCCCCC">new way of doing ingress protection okay</font>

144
00:06:18,630 --> 00:06:25,260
<font color="#E5E5E5">basically the new way of doing egress</font>

145
00:06:20,890 --> 00:06:27,700
protection is we shift<font color="#CCCCCC"> the</font><font color="#E5E5E5"> that duty to</font>

146
00:06:25,260 --> 00:06:30,820
restore<font color="#E5E5E5"> the traffic or to switch over</font>

147
00:06:27,700 --> 00:06:32,710
the<font color="#E5E5E5"> traffic from the ingress PE not to</font>

148
00:06:30,820 --> 00:06:34,870
some node which<font color="#CCCCCC"> is closer to the egress</font>

149
00:06:32,710 --> 00:06:37,180
<font color="#CCCCCC">PE and it's not this PO kind of the</font>

150
00:06:34,870 --> 00:06:39,790
<font color="#E5E5E5">point of local repair not it is directly</font>

151
00:06:37,180 --> 00:06:43,930
<font color="#CCCCCC">connected to the</font><font color="#E5E5E5"> egress P</font><font color="#CCCCCC"> naught right</font>

152
00:06:39,790 --> 00:06:46,630
<font color="#CCCCCC">and this not the</font><font color="#E5E5E5"> task of this not will</font>

153
00:06:43,930 --> 00:06:49,420
be<font color="#E5E5E5"> to switch over the traffic to</font><font color="#CCCCCC"> to</font>

154
00:06:46,630 --> 00:06:52,420
<font color="#CCCCCC">backup backup P naught so this</font><font color="#E5E5E5"> is the</font>

155
00:06:49,420 --> 00:06:53,580
<font color="#CCCCCC">the basic</font><font color="#E5E5E5"> idea so that backup of primary</font>

156
00:06:52,420 --> 00:06:57,270
not we

157
00:06:53,580 --> 00:06:58,800
will restore the traffic what we

158
00:06:57,270 --> 00:07:00,979
<font color="#CCCCCC">introduced here we introduced here</font>

159
00:06:58,800 --> 00:07:03,900
something<font color="#CCCCCC"> that is called context ID</font>

160
00:07:00,979 --> 00:07:06,508
context ID we could imagine as some<font color="#CCCCCC"> kind</font>

161
00:07:03,900 --> 00:07:09,270
of virtual loopback<font color="#E5E5E5"> that is used by day</font>

162
00:07:06,509 --> 00:07:11,520
II when the VPN prefixes<font color="#E5E5E5"> or the service</font>

163
00:07:09,270 --> 00:07:13,919
prefix is advertised so normally<font color="#E5E5E5"> when we</font>

164
00:07:11,520 --> 00:07:18,299
advertise the service predicts we are

165
00:07:13,919 --> 00:07:20,609
using look back<font color="#CCCCCC"> ok here</font><font color="#E5E5E5"> instead</font><font color="#CCCCCC"> of using</font>

166
00:07:18,300 --> 00:07:23,190
look back we use this kind<font color="#E5E5E5"> of</font><font color="#CCCCCC"> which</font><font color="#E5E5E5"> a</font>

167
00:07:20,610 --> 00:07:27,389
<font color="#CCCCCC">loopback we</font><font color="#E5E5E5"> call the context ID why we</font>

168
00:07:23,190 --> 00:07:30,780
use that<font color="#CCCCCC"> because</font><font color="#E5E5E5"> later on sorry because</font>

169
00:07:27,389 --> 00:07:32,580
later on<font color="#E5E5E5"> will be we advertise this which</font>

170
00:07:30,780 --> 00:07:35,309
<font color="#CCCCCC">I'll look</font><font color="#E5E5E5"> back or this</font><font color="#CCCCCC"> virtual context</font>

171
00:07:32,580 --> 00:07:37,020
<font color="#E5E5E5">ID from</font><font color="#CCCCCC"> to pisto from to egress piece</font>

172
00:07:35,310 --> 00:07:39,690
and<font color="#CCCCCC"> because of that we'll</font><font color="#E5E5E5"> be able to</font><font color="#CCCCCC"> do</font>

173
00:07:37,020 --> 00:07:41,490
LFA<font color="#CCCCCC"> or emu telophase so we'll be able to</font>

174
00:07:39,690 --> 00:07:45,240
<font color="#E5E5E5">do switch over inside of the network</font>

175
00:07:41,490 --> 00:07:48,210
<font color="#CCCCCC">turn over</font><font color="#E5E5E5"> PE so this is the context</font>

176
00:07:45,240 --> 00:07:51,090
context ie then we<font color="#E5E5E5"> are tradition</font><font color="#CCCCCC"> as well</font>

177
00:07:48,210 --> 00:07:53,068
function that we called protector<font color="#E5E5E5"> so</font>

178
00:07:51,090 --> 00:07:56,008
what is protector function protector

179
00:07:53,069 --> 00:07:59,729
function so you could<font color="#E5E5E5"> imagine when you</font>

180
00:07:56,009 --> 00:08:01,500
do the traffic restoration for VPN it is

181
00:07:59,729 --> 00:08:04,229
not enough<font color="#CCCCCC"> just to switch over the</font>

182
00:08:01,500 --> 00:08:06,030
traffic<font color="#CCCCCC"> to the backup fee</font><font color="#E5E5E5"> because</font><font color="#CCCCCC"> this</font>

183
00:08:04,229 --> 00:08:08,729
<font color="#CCCCCC">traffic we eventually arrived to the</font>

184
00:08:06,030 --> 00:08:11,219
backup<font color="#CCCCCC"> key with the label which is</font>

185
00:08:08,729 --> 00:08:13,529
allocated<font color="#CCCCCC"> by the primary</font><font color="#E5E5E5"> P</font><font color="#CCCCCC"> ok so the</font>

186
00:08:11,219 --> 00:08:16,770
backup<font color="#E5E5E5"> P needs to do you need to be able</font>

187
00:08:13,529 --> 00:08:19,080
<font color="#E5E5E5">to handle this traffic in level in in</font>

188
00:08:16,770 --> 00:08:20,490
order<font color="#CCCCCC"> to have</font><font color="#E5E5E5"> this traffic</font><font color="#CCCCCC"> we</font><font color="#E5E5E5"> actually</font>

189
00:08:19,080 --> 00:08:22,830
send the traffic to something else<font color="#CCCCCC"> but</font>

190
00:08:20,490 --> 00:08:25,259
protector<font color="#E5E5E5"> and this protector will</font>

191
00:08:22,830 --> 00:08:27,300
translate the VPN<font color="#E5E5E5"> labels from the</font><font color="#CCCCCC"> VPN</font>

192
00:08:25,259 --> 00:08:29,880
<font color="#CCCCCC">levels allocated by the</font><font color="#E5E5E5"> primary ingress</font>

193
00:08:27,300 --> 00:08:33,390
PE to the<font color="#E5E5E5"> VPN labor allocated by the</font>

194
00:08:29,880 --> 00:08:37,409
backup egg recipe<font color="#E5E5E5"> typically the</font>

195
00:08:33,390 --> 00:08:39,929
protector is<font color="#E5E5E5"> configured on the same</font><font color="#CCCCCC"> not</font>

196
00:08:37,409 --> 00:08:42,479
<font color="#CCCCCC">as</font><font color="#E5E5E5"> the backup</font><font color="#CCCCCC"> LSP so let's let's discuss</font>

197
00:08:39,929 --> 00:08:45,959
on an<font color="#E5E5E5"> example</font><font color="#CCCCCC"> ok so this</font><font color="#E5E5E5"> is again our</font>

198
00:08:42,479 --> 00:08:47,579
<font color="#E5E5E5">network our</font><font color="#CCCCCC"> big network</font><font color="#E5E5E5"> and let's focus</font>

199
00:08:45,959 --> 00:08:48,959
on the on the<font color="#CCCCCC"> Agora site of these</font>

200
00:08:47,579 --> 00:08:51,420
networks<font color="#E5E5E5"> yes we are traffic which is</font>

201
00:08:48,959 --> 00:08:53,369
<font color="#E5E5E5">flowing from the left to right side on</font>

202
00:08:51,420 --> 00:08:57,300
the<font color="#CCCCCC"> right side as you see you have</font><font color="#E5E5E5"> two</font>

203
00:08:53,370 --> 00:08:58,740
potential egg recipe<font color="#E5E5E5"> routers primary and</font>

204
00:08:57,300 --> 00:09:01,439
the<font color="#E5E5E5"> backup because see on the</font><font color="#CCCCCC"> right is</font>

205
00:08:58,740 --> 00:09:02,070
<font color="#E5E5E5">connected to two routers so let's let's</font>

206
00:09:01,440 --> 00:09:04,290
focus

207
00:09:02,070 --> 00:09:06,720
what what's happened here<font color="#E5E5E5"> so this is in</font>

208
00:09:04,290 --> 00:09:07,379
the normal<font color="#E5E5E5"> state the traffic from left</font>

209
00:09:06,720 --> 00:09:10,410
to right

210
00:09:07,379 --> 00:09:12,599
is traffic<font color="#E5E5E5"> entering</font><font color="#CCCCCC"> seee</font><font color="#E5E5E5"> on the ingress</font>

211
00:09:10,410 --> 00:09:14,728
<font color="#CCCCCC">be egress</font><font color="#E5E5E5"> piece and the traffic to</font><font color="#CCCCCC"> the</font>

212
00:09:12,599 --> 00:09:18,599
<font color="#E5E5E5">primary egress P and the traffic is</font>

213
00:09:14,729 --> 00:09:19,049
<font color="#CCCCCC">going</font><font color="#E5E5E5"> to the C on the right side</font><font color="#CCCCCC"> all</font>

214
00:09:18,599 --> 00:09:22,429
<font color="#CCCCCC">right</font>

215
00:09:19,049 --> 00:09:25,769
<font color="#CCCCCC">no</font><font color="#E5E5E5"> we start to prepare our network for</font>

216
00:09:22,429 --> 00:09:29,009
for<font color="#E5E5E5"> a for egress protection so as I</font>

217
00:09:25,769 --> 00:09:31,049
mentioned we<font color="#CCCCCC"> will be using as the next</font>

218
00:09:29,009 --> 00:09:33,779
<font color="#CCCCCC">top in BGP updates</font><font color="#E5E5E5"> something that</font><font color="#CCCCCC"> I</font>

219
00:09:31,049 --> 00:09:36,509
called context ID and this context<font color="#E5E5E5"> ID is</font>

220
00:09:33,779 --> 00:09:39,389
injected into<font color="#CCCCCC"> a</font><font color="#E5E5E5"> GP in</font><font color="#CCCCCC"> the primary egress</font>

221
00:09:36,509 --> 00:09:40,889
<font color="#E5E5E5">pe the</font><font color="#CCCCCC"> different methods how we inject</font>

222
00:09:39,389 --> 00:09:42,359
this context idea<font color="#E5E5E5"> will not cover</font><font color="#CCCCCC"> this</font>

223
00:09:40,889 --> 00:09:44,249
<font color="#CCCCCC">methods</font><font color="#E5E5E5"> because we had not enough time</font>

224
00:09:42,359 --> 00:09:46,619
but let's assume that we inject this

225
00:09:44,249 --> 00:09:49,319
context I deal with<font color="#E5E5E5"> some very</font><font color="#CCCCCC"> good AGP</font>

226
00:09:46,619 --> 00:09:50,999
characteristics<font color="#E5E5E5"> so for example this is</font>

227
00:09:49,319 --> 00:09:54,748
my context I do want<font color="#E5E5E5"> that one with</font><font color="#CCCCCC"> the</font>

228
00:09:50,999 --> 00:09:58,499
metric<font color="#CCCCCC"> 1 it's a lower low metric now at</font>

229
00:09:54,749 --> 00:10:01,289
the same<font color="#E5E5E5"> time the back</font><font color="#CCCCCC"> wrapping USB</font><font color="#E5E5E5"> or</font>

230
00:09:58,499 --> 00:10:03,899
protector<font color="#CCCCCC"> Beca big raspy advertise the</font>

231
00:10:01,289 --> 00:10:06,839
same prefix<font color="#CCCCCC"> ok injects the same</font>

232
00:10:03,899 --> 00:10:09,629
information but with with bad<font color="#CCCCCC"> AGP</font>

233
00:10:06,839 --> 00:10:12,029
<font color="#E5E5E5">characteristics for</font><font color="#CCCCCC"> example here it</font>

234
00:10:09,629 --> 00:10:13,829
<font color="#E5E5E5">could be so high metric as I mentioned</font>

235
00:10:12,029 --> 00:10:15,269
<font color="#CCCCCC">there a</font><font color="#E5E5E5"> couple of ways how</font><font color="#CCCCCC"> we do that I</font>

236
00:10:13,829 --> 00:10:18,899
will not cover that<font color="#CCCCCC"> because not a lot</font><font color="#E5E5E5"> of</font>

237
00:10:15,269 --> 00:10:20,609
time<font color="#E5E5E5"> but this</font><font color="#CCCCCC"> is an example ok so what</font>

238
00:10:18,899 --> 00:10:22,709
does it<font color="#E5E5E5"> mean it</font><font color="#CCCCCC"> doesn't mean it means</font>

239
00:10:20,609 --> 00:10:25,529
that<font color="#E5E5E5"> let's run inside</font><font color="#CCCCCC"> of my network I</font>

240
00:10:22,709 --> 00:10:28,079
will see<font color="#E5E5E5"> this prefix being injected by</font>

241
00:10:25,529 --> 00:10:30,149
<font color="#CCCCCC">two P knots</font><font color="#E5E5E5"> and if something</font><font color="#CCCCCC"> happened is</font>

242
00:10:28,079 --> 00:10:31,679
the network I<font color="#CCCCCC"> can do for example LFA to</font>

243
00:10:30,149 --> 00:10:34,470
redirect the traffic yes<font color="#E5E5E5"> because the</font>

244
00:10:31,679 --> 00:10:35,789
traffic<font color="#E5E5E5"> we were going to the 1.1 if</font>

245
00:10:34,470 --> 00:10:39,659
something happens I can redirect the

246
00:10:35,789 --> 00:10:41,819
<font color="#E5E5E5">traffic so so based on this</font><font color="#CCCCCC"> information</font>

247
00:10:39,659 --> 00:10:44,699
as<font color="#CCCCCC"> mentioned so PLR will be able to</font>

248
00:10:41,819 --> 00:10:47,429
build the LFL<font color="#CCCCCC"> f8 for</font><font color="#E5E5E5"> example if</font><font color="#CCCCCC"> if</font>

249
00:10:44,699 --> 00:10:50,008
structure or RSVP<font color="#CCCCCC"> ufs</font><font color="#E5E5E5"> weather CP and</font><font color="#CCCCCC"> not</font>

250
00:10:47,429 --> 00:10:52,499
cover here by LFA for example<font color="#CCCCCC"> okay so</font>

251
00:10:50,009 --> 00:10:55,109
<font color="#E5E5E5">primary next</font><font color="#CCCCCC"> sub unpaired R will be P 1</font>

252
00:10:52,499 --> 00:10:57,899
<font color="#E5E5E5">and the second our necks of a backup</font>

253
00:10:55,109 --> 00:10:59,939
<font color="#E5E5E5">network will be</font><font color="#CCCCCC"> P</font><font color="#E5E5E5"> 2 based on normal LFA</font>

254
00:10:57,899 --> 00:11:05,899
action<font color="#E5E5E5"> so nothing special here is</font>

255
00:10:59,939 --> 00:11:05,899
required on<font color="#CCCCCC"> PR right in the next</font><font color="#E5E5E5"> step</font>

256
00:11:06,229 --> 00:11:13,139
both P<font color="#E5E5E5"> 1 and P 2</font><font color="#CCCCCC"> the advertise the</font>

257
00:11:10,919 --> 00:11:15,539
service<font color="#CCCCCC"> perfect VPN prefixes okay we</font>

258
00:11:13,139 --> 00:11:18,359
have some<font color="#E5E5E5"> C connected to P 1 P 2 DC</font>

259
00:11:15,539 --> 00:11:20,939
advertising some prefix<font color="#E5E5E5"> 10/8 and this</font>

260
00:11:18,359 --> 00:11:23,220
<font color="#E5E5E5">perfect 10/8 is advertised from p1 and</font>

261
00:11:20,940 --> 00:11:24,780
<font color="#CCCCCC">to</font><font color="#E5E5E5"> to some</font><font color="#CCCCCC"> rot reflector</font><font color="#E5E5E5"> okay and rot</font>

262
00:11:23,220 --> 00:11:26,790
reflect<font color="#E5E5E5"> rabbit has</font><font color="#CCCCCC"> this plastics to</font>

263
00:11:24,780 --> 00:11:30,569
every PE so eventually this prefix we

264
00:11:26,790 --> 00:11:32,189
arrived to in recipe and as well p1 and

265
00:11:30,570 --> 00:11:34,020
p2 we<font color="#CCCCCC"> exchange the prefixes as well</font>

266
00:11:32,190 --> 00:11:35,400
because we<font color="#CCCCCC"> assumed that</font><font color="#E5E5E5"> we</font><font color="#CCCCCC"> are using</font>

267
00:11:34,020 --> 00:11:38,370
<font color="#CCCCCC">different or distinguish a</font><font color="#E5E5E5"> which means</font>

268
00:11:35,400 --> 00:11:40,230
<font color="#CCCCCC">every</font><font color="#E5E5E5"> P who receive the traffic and what</font>

269
00:11:38,370 --> 00:11:43,230
is special<font color="#CCCCCC"> in this advertisement is that</font>

270
00:11:40,230 --> 00:11:45,990
the PE<font color="#E5E5E5"> advertise the next top of this</font>

271
00:11:43,230 --> 00:11:47,940
prefix<font color="#E5E5E5"> as this context ID 1.1 so not not</font>

272
00:11:45,990 --> 00:11:49,560
<font color="#E5E5E5">the local loopback so usually it will be</font>

273
00:11:47,940 --> 00:11:51,750
<font color="#CCCCCC">local loopback yes normal case would</font><font color="#E5E5E5"> be</font>

274
00:11:49,560 --> 00:11:53,339
local<font color="#E5E5E5"> loopback as the next job here</font>

275
00:11:51,750 --> 00:11:59,340
instead<font color="#CCCCCC"> of the</font><font color="#E5E5E5"> local loopback as the</font>

276
00:11:53,340 --> 00:12:02,400
next to appear advertising 1.1 right so

277
00:11:59,340 --> 00:12:04,080
traffic<font color="#CCCCCC"> advertised by p1</font><font color="#E5E5E5"> go to rot</font>

278
00:12:02,400 --> 00:12:05,250
reflector and<font color="#CCCCCC"> from rot reflector it is</font>

279
00:12:04,080 --> 00:12:09,030
reflected<font color="#CCCCCC"> to p2</font>

280
00:12:05,250 --> 00:12:11,310
so eventually p2<font color="#CCCCCC"> receives the prefix</font><font color="#E5E5E5"> the</font>

281
00:12:09,030 --> 00:12:14,790
<font color="#E5E5E5">service predicts a VPN prefix from p1</font>

282
00:12:11,310 --> 00:12:18,150
and p2 is configured as the protection

283
00:12:14,790 --> 00:12:20,939
function<font color="#CCCCCC"> for 1.1</font><font color="#E5E5E5"> next-hop</font><font color="#CCCCCC"> ok so every</font>

284
00:12:18,150 --> 00:12:23,310
time when p2 received some VPN prefixes

285
00:12:20,940 --> 00:12:25,290
we 1.1<font color="#E5E5E5"> X</font><font color="#CCCCCC"> WAP</font><font color="#E5E5E5"> he knows</font><font color="#CCCCCC"> okay</font>

286
00:12:23,310 --> 00:12:28,319
I<font color="#E5E5E5"> am protector for this guy for</font><font color="#CCCCCC"> these</font>

287
00:12:25,290 --> 00:12:30,300
prefixes<font color="#CCCCCC"> I need to prepare</font><font color="#E5E5E5"> my my fib and</font>

288
00:12:28,320 --> 00:12:32,400
reap to be protected because eventually

289
00:12:30,300 --> 00:12:34,709
what does in protector<font color="#E5E5E5"> it means that</font>

290
00:12:32,400 --> 00:12:36,120
<font color="#CCCCCC">eventually when something happens in the</font>

291
00:12:34,710 --> 00:12:39,480
network the traffic will be redirected

292
00:12:36,120 --> 00:12:45,450
to me with the labels allocated by p1

293
00:12:39,480 --> 00:12:48,840
<font color="#CCCCCC">okay so for that</font><font color="#E5E5E5"> reason step 5</font>

294
00:12:45,450 --> 00:12:51,630
p2 creates internal rip and<font color="#CCCCCC"> fib</font>

295
00:12:48,840 --> 00:12:52,860
structure in order<font color="#CCCCCC"> to be able</font><font color="#E5E5E5"> to handle</font>

296
00:12:51,630 --> 00:12:56,250
the traffic that will<font color="#E5E5E5"> be eventually</font>

297
00:12:52,860 --> 00:12:58,590
redirected<font color="#CCCCCC"> ok later</font><font color="#E5E5E5"> on I have some</font>

298
00:12:56,250 --> 00:13:01,050
slides how this deep fib structure looks

299
00:12:58,590 --> 00:13:03,090
<font color="#E5E5E5">like but</font><font color="#CCCCCC"> the point is here that the</font>

300
00:13:01,050 --> 00:13:06,329
<font color="#E5E5E5">traffic that we</font><font color="#CCCCCC"> arrive to P 2 we have</font>

301
00:13:03,090 --> 00:13:08,010
the VPN<font color="#E5E5E5"> level allocated by P 1 and P 2</font>

302
00:13:06,330 --> 00:13:18,230
needs to be able<font color="#E5E5E5"> to handle this traffic</font>

303
00:13:08,010 --> 00:13:18,230
<font color="#E5E5E5">with the label allocated by P</font><font color="#CCCCCC"> 1 step 6</font>

304
00:13:19,490 --> 00:13:30,580
traffic start to flow and flows normally

305
00:13:25,839 --> 00:13:35,149
over<font color="#CCCCCC"> there SPC - ingress to primary</font>

306
00:13:30,580 --> 00:13:37,820
egress<font color="#CCCCCC"> P 2 P 1 ok because the next of</font><font color="#E5E5E5"> my</font>

307
00:13:35,149 --> 00:13:40,250
<font color="#CCCCCC">flows to P 1 because</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> necks</font><font color="#E5E5E5"> of white</font>

308
00:13:37,820 --> 00:13:42,560
dot<font color="#E5E5E5"> 1 advertise by P 1 has better</font><font color="#CCCCCC"> IGP</font>

309
00:13:40,250 --> 00:13:44,810
characteristics<font color="#E5E5E5"> the sameness was</font>

310
00:13:42,560 --> 00:13:46,250
advertised by P 2 but is not so good

311
00:13:44,810 --> 00:13:48,079
characteristics which means that of

312
00:13:46,250 --> 00:13:52,060
course everyone<font color="#E5E5E5"> prefers to send the</font>

313
00:13:48,080 --> 00:13:54,940
traffic<font color="#E5E5E5"> to</font><font color="#CCCCCC"> 1.1 in</font><font color="#E5E5E5"> the direction of P 1</font>

314
00:13:52,060 --> 00:14:03,199
<font color="#CCCCCC">alright traffic is flowing very good I</font>

315
00:13:54,940 --> 00:14:06,080
know some failure happens on T 1 KP 1

316
00:14:03,200 --> 00:14:10,130
failed<font color="#E5E5E5"> Lankans fail for example or</font>

317
00:14:06,080 --> 00:14:12,529
complete failure of P 1 the<font color="#E5E5E5"> traffic</font>

318
00:14:10,130 --> 00:14:14,870
<font color="#E5E5E5">still flows ingress P still doesn't know</font>

319
00:14:12,529 --> 00:14:17,029
<font color="#E5E5E5">that something happened okay so ingress</font>

320
00:14:14,870 --> 00:14:19,490
P<font color="#CCCCCC"> steals send the traffic over</font><font color="#E5E5E5"> the same</font>

321
00:14:17,029 --> 00:14:22,790
LSP as previously this traffic

322
00:14:19,490 --> 00:14:26,209
<font color="#E5E5E5">eventually arrives to Pilar Pilar is the</font>

323
00:14:22,790 --> 00:14:28,849
not directly connected<font color="#CCCCCC"> to P 1 and</font><font color="#E5E5E5"> P</font><font color="#CCCCCC"> LR</font>

324
00:14:26,209 --> 00:14:30,859
already knows that Pilar is dead<font color="#E5E5E5"> because</font>

325
00:14:28,850 --> 00:14:31,520
<font color="#E5E5E5">the link for example</font><font color="#CCCCCC"> to peel around when</font>

326
00:14:30,860 --> 00:14:34,910
went down

327
00:14:31,520 --> 00:14:37,010
so what Pilar do be<font color="#CCCCCC"> a fear Dora's it</font>

328
00:14:34,910 --> 00:14:40,069
uses the<font color="#CCCCCC"> backup next</font><font color="#E5E5E5"> obvious we just</font>

329
00:14:37,010 --> 00:14:42,920
<font color="#E5E5E5">previously we discuss Pilar has prepared</font>

330
00:14:40,070 --> 00:14:44,959
LF a backup nap so for example okay<font color="#CCCCCC"> so</font><font color="#E5E5E5"> p</font>

331
00:14:42,920 --> 00:14:49,000
<font color="#E5E5E5">lr</font><font color="#CCCCCC"> is losing back neck stop and is</font>

332
00:14:44,959 --> 00:14:51,020
<font color="#CCCCCC">redirecting this traffic to protector</font>

333
00:14:49,000 --> 00:14:55,540
<font color="#CCCCCC">alright when the traffic arise</font><font color="#E5E5E5"> -</font>

334
00:14:51,020 --> 00:14:59,689
<font color="#E5E5E5">protector</font><font color="#CCCCCC"> I didn't mention</font><font color="#E5E5E5"> before</font><font color="#CCCCCC"> sorry</font>

335
00:14:55,540 --> 00:15:03,050
when the<font color="#E5E5E5"> protector era advertises this</font>

336
00:14:59,690 --> 00:15:07,250
prefix 1.1 into<font color="#CCCCCC"> IG p domain and</font><font color="#E5E5E5"> LD p</font>

337
00:15:03,050 --> 00:15:09,439
eventually it uses a special label<font color="#E5E5E5"> uses</font>

338
00:15:07,250 --> 00:15:11,089
exact level<font color="#E5E5E5"> not implicit</font><font color="#CCCCCC"> not because</font>

339
00:15:09,440 --> 00:15:14,089
normally we<font color="#E5E5E5"> are using implicit null or</font>

340
00:15:11,089 --> 00:15:17,270
<font color="#E5E5E5">explicitness</font><font color="#CCCCCC"> a label 3 or 0</font><font color="#E5E5E5"> here he is</font>

341
00:15:14,089 --> 00:15:20,959
using<font color="#E5E5E5"> some explicit</font><font color="#CCCCCC"> label like 20 25 26</font>

342
00:15:17,270 --> 00:15:22,670
whatever later on when traffic<font color="#E5E5E5"> arrives</font>

343
00:15:20,959 --> 00:15:25,670
to the protector it will arrive with

344
00:15:22,670 --> 00:15:26,990
this<font color="#E5E5E5"> level 26 for example and protector</font>

345
00:15:25,670 --> 00:15:29,599
knows that this is the<font color="#E5E5E5"> redirected</font>

346
00:15:26,990 --> 00:15:32,040
traffic<font color="#E5E5E5"> that originally was</font><font color="#CCCCCC"> destined to</font>

347
00:15:29,600 --> 00:15:35,970
<font color="#CCCCCC">p1</font><font color="#E5E5E5"> this one</font>

348
00:15:32,040 --> 00:15:39,170
question is<font color="#CCCCCC"> Jacob hi Francisco and you</font>

349
00:15:35,970 --> 00:15:43,560
said when<font color="#CCCCCC"> the line card fails on pe1</font>

350
00:15:39,170 --> 00:15:45,870
this happens however<font color="#CCCCCC"> pic or still edge</font>

351
00:15:43,560 --> 00:15:48,529
<font color="#CCCCCC">pic will still protect if a line card</font>

352
00:15:45,870 --> 00:15:52,050
fails on PE<font color="#E5E5E5"> one even towards the core</font>

353
00:15:48,529 --> 00:15:54,779
yeah when the line<font color="#CCCCCC"> can opt when day when</font>

354
00:15:52,050 --> 00:15:56,310
the link between PL PL are all right

355
00:15:54,779 --> 00:15:58,259
<font color="#E5E5E5">there</font><font color="#CCCCCC"> okay like</font><font color="#E5E5E5"> I yes like on is by the</font>

356
00:15:56,310 --> 00:16:00,899
entire<font color="#CCCCCC"> not for example in the in</font><font color="#E5E5E5"> a not</font>

357
00:15:58,259 --> 00:16:07,620
face the power has to<font color="#CCCCCC"> fail</font><font color="#E5E5E5"> yeah the</font>

358
00:16:00,899 --> 00:16:09,630
<font color="#E5E5E5">whole</font><font color="#CCCCCC"> P yes right</font>

359
00:16:07,620 --> 00:16:11,759
yes<font color="#CCCCCC"> because for the link on the</font><font color="#E5E5E5"> on light</font>

360
00:16:09,630 --> 00:16:14,490
card we could redirect the traffic yes

361
00:16:11,759 --> 00:16:15,930
<font color="#E5E5E5">but entire not yeah this is not</font>

362
00:16:14,490 --> 00:16:19,290
protection<font color="#E5E5E5"> so egress ingress not</font>

363
00:16:15,930 --> 00:16:22,138
protection<font color="#CCCCCC"> ok when I</font><font color="#E5E5E5"> was here I was</font><font color="#CCCCCC"> here</font>

364
00:16:19,290 --> 00:16:24,029
<font color="#E5E5E5">that the celeb traffic arrives</font>

365
00:16:22,139 --> 00:16:26,910
redirected traffic and eyes arrives to

366
00:16:24,029 --> 00:16:29,550
p2 protector for example with<font color="#CCCCCC"> this level</font>

367
00:16:26,910 --> 00:16:30,839
26<font color="#E5E5E5"> that was allocated by protector and</font>

368
00:16:29,550 --> 00:16:32,339
protector knows that<font color="#E5E5E5"> this is the</font>

369
00:16:30,839 --> 00:16:34,110
redirected traffic so this is<font color="#E5E5E5"> not the</font>

370
00:16:32,339 --> 00:16:36,540
normal traffic that that the<font color="#CCCCCC"> Becca P</font>

371
00:16:34,110 --> 00:16:38,730
normally should receive but this is

372
00:16:36,540 --> 00:16:40,560
redirected traffic and then he's using

373
00:16:38,730 --> 00:16:42,240
this<font color="#CCCCCC"> rip flip structure that was</font>

374
00:16:40,560 --> 00:16:47,310
prepared<font color="#E5E5E5"> before to handle</font><font color="#CCCCCC"> this traffic</font>

375
00:16:42,240 --> 00:16:49,170
and sent to the local<font color="#E5E5E5"> P you see and then</font>

376
00:16:47,310 --> 00:16:53,760
eventually<font color="#E5E5E5"> of course ingress P we</font>

377
00:16:49,170 --> 00:16:56,010
realize that failure happened<font color="#CCCCCC"> and we</font>

378
00:16:53,760 --> 00:16:59,610
<font color="#CCCCCC">start to send the traffic</font><font color="#E5E5E5"> directly to</font>

379
00:16:56,010 --> 00:17:03,779
the second second EP /<font color="#CCCCCC"> LS be directed to</font>

380
00:16:59,610 --> 00:17:11,579
the second P<font color="#E5E5E5"> okay but</font><font color="#CCCCCC"> that in very large</font>

381
00:17:03,779 --> 00:17:13,549
networks that cut can take some time<font color="#E5E5E5"> all</font>

382
00:17:11,579 --> 00:17:20,639
right

383
00:17:13,549 --> 00:17:22,889
so overall in<font color="#E5E5E5"> protector fractions so</font>

384
00:17:20,640 --> 00:17:26,699
this work regardless if you<font color="#E5E5E5"> are using</font>

385
00:17:22,890 --> 00:17:29,130
<font color="#CCCCCC">LDP</font><font color="#E5E5E5"> RSVPs or</font><font color="#CCCCCC"> sv p as well is professors</font>

386
00:17:26,699 --> 00:17:33,059
will be made the facility<font color="#CCCCCC"> backups anodic</font>

387
00:17:29,130 --> 00:17:35,760
protection and protect combines the real

388
00:17:33,059 --> 00:17:40,260
label<font color="#E5E5E5"> this context ID label we call it</font>

389
00:17:35,760 --> 00:17:42,870
<font color="#CCCCCC">to to some special reef structures in</font>

390
00:17:40,260 --> 00:17:44,640
<font color="#CCCCCC">order to translate</font><font color="#E5E5E5"> the labels because</font><font color="#CCCCCC"> we</font>

391
00:17:42,870 --> 00:17:47,219
could have two options<font color="#CCCCCC"> too</font>

392
00:17:44,640 --> 00:17:49,320
<font color="#CCCCCC">to place</font><font color="#E5E5E5"> the protector something that we</font>

393
00:17:47,220 --> 00:17:51,200
call centralized option which means<font color="#CCCCCC"> that</font>

394
00:17:49,320 --> 00:17:53,850
the traffic is<font color="#E5E5E5"> readily to</font><font color="#CCCCCC"> the protector</font>

395
00:17:51,200 --> 00:17:56,460
protector<font color="#CCCCCC"> mech makes VPN</font><font color="#E5E5E5"> level</font>

396
00:17:53,850 --> 00:17:59,760
translation<font color="#E5E5E5"> and send the traffic to the</font>

397
00:17:56,460 --> 00:18:02,910
<font color="#E5E5E5">Bekaa P so the separate protector router</font>

398
00:17:59,760 --> 00:18:04,879
and separate<font color="#CCCCCC"> Becca pirata</font><font color="#E5E5E5"> or we could</font>

399
00:18:02,910 --> 00:18:07,650
<font color="#CCCCCC">have another option which</font><font color="#E5E5E5"> is combined</font>

400
00:18:04,880 --> 00:18:09,870
protector and<font color="#E5E5E5"> Becca P that the traffic</font>

401
00:18:07,650 --> 00:18:12,540
is redirected<font color="#E5E5E5"> to this combined protector</font>

402
00:18:09,870 --> 00:18:14,820
Becca P and simply instead of doing<font color="#CCCCCC"> VPN</font>

403
00:18:12,540 --> 00:18:17,250
<font color="#E5E5E5">level translation this combines</font>

404
00:18:14,820 --> 00:18:22,830
protector by copy sends the traffic to

405
00:18:17,250 --> 00:18:26,760
<font color="#E5E5E5">the C and</font><font color="#CCCCCC"> here's some example</font><font color="#E5E5E5"> of the of</font>

406
00:18:22,830 --> 00:18:29,970
the routing table structures that we

407
00:18:26,760 --> 00:18:32,670
have<font color="#E5E5E5"> so basically first we have MPLS</font>

408
00:18:29,970 --> 00:18:34,380
vpso MPLS table in this MPLS table we

409
00:18:32,670 --> 00:18:36,000
need to check<font color="#E5E5E5"> so when the packet arrives</font>

410
00:18:34,380 --> 00:18:37,860
<font color="#CCCCCC">it</font><font color="#E5E5E5"> will</font><font color="#CCCCCC"> have some impedance labels</font>

411
00:18:36,000 --> 00:18:41,370
okay so<font color="#E5E5E5"> for is the packet is checked</font>

412
00:18:37,860 --> 00:18:45,300
against this MPLS table in MPLS table<font color="#E5E5E5"> RL</font>

413
00:18:41,370 --> 00:18:48,600
sorry I<font color="#E5E5E5"> realized that packet arrives</font>

414
00:18:45,300 --> 00:18:51,560
with 26 for example and then it means it

415
00:18:48,600 --> 00:18:55,310
need<font color="#CCCCCC"> to</font><font color="#E5E5E5"> look be looked up in context ID</font>

416
00:18:51,560 --> 00:18:58,560
<font color="#E5E5E5">MPLS table the second table this</font>

417
00:18:55,310 --> 00:19:02,129
10.1.1.1<font color="#CCCCCC"> underscore NPS to zero this</font><font color="#E5E5E5"> is</font>

418
00:18:58,560 --> 00:19:05,879
<font color="#CCCCCC">second MPLS label in this MPLS label i</font>

419
00:19:02,130 --> 00:19:08,100
have the labels<font color="#E5E5E5"> collected from p1</font><font color="#CCCCCC"> okay</font>

420
00:19:05,880 --> 00:19:10,860
this is not<font color="#E5E5E5"> my local allocated Labor's</font>

421
00:19:08,100 --> 00:19:13,709
but<font color="#CCCCCC"> labels allocated by p1 that</font><font color="#E5E5E5"> I</font>

422
00:19:10,860 --> 00:19:16,800
received<font color="#CCCCCC"> yyy how I received these</font>

423
00:19:13,710 --> 00:19:19,830
<font color="#E5E5E5">Labor's p1</font><font color="#CCCCCC"> advertise between prefixes to</font>

424
00:19:16,800 --> 00:19:22,020
<font color="#E5E5E5">rot reflector rot reflector reflected</font>

425
00:19:19,830 --> 00:19:24,840
the prefixes to p2 so p2 now's the

426
00:19:22,020 --> 00:19:30,000
labels allocated by p1<font color="#CCCCCC"> okay and it</font>

427
00:19:24,840 --> 00:19:31,709
stores<font color="#CCCCCC"> the</font><font color="#E5E5E5"> slavers here and then so the</font>

428
00:19:30,000 --> 00:19:33,660
second<font color="#E5E5E5"> label in the second table the</font>

429
00:19:31,710 --> 00:19:36,240
<font color="#E5E5E5">lookup for the second</font><font color="#CCCCCC"> label which is</font><font color="#E5E5E5"> the</font>

430
00:19:33,660 --> 00:19:39,990
VPN<font color="#CCCCCC"> Labour's allocated by p1</font><font color="#E5E5E5"> is done</font><font color="#CCCCCC"> and</font>

431
00:19:36,240 --> 00:19:42,390
then we have IP label based on IP label

432
00:19:39,990 --> 00:19:44,670
<font color="#E5E5E5">this is for the next of under vrf and</font>

433
00:19:42,390 --> 00:19:47,880
then you have<font color="#E5E5E5"> Becca P function locally</font>

434
00:19:44,670 --> 00:19:49,950
then we have V<font color="#CCCCCC"> F</font><font color="#E5E5E5"> label table so this is</font>

435
00:19:47,880 --> 00:19:51,750
basically how how does<font color="#CCCCCC"> it work I have</font>

436
00:19:49,950 --> 00:19:54,570
some couple<font color="#CCCCCC"> of</font><font color="#E5E5E5"> examples show show all</font>

437
00:19:51,750 --> 00:19:56,400
<font color="#CCCCCC">food yes so here for example</font><font color="#E5E5E5"> I was</font>

438
00:19:54,570 --> 00:19:57,960
mentioned before<font color="#E5E5E5"> 26 so this is this</font>

439
00:19:56,400 --> 00:20:01,679
<font color="#E5E5E5">labor free</font>

440
00:19:57,960 --> 00:20:04,200
zero-one<font color="#CCCCCC"> something that is the context</font>

441
00:20:01,679 --> 00:20:07,289
ID label<font color="#E5E5E5"> that was allocated by p2 to</font>

442
00:20:04,200 --> 00:20:09,779
protect next up 1.1 basic traffic

443
00:20:07,289 --> 00:20:12,179
arrives here I remove this label<font color="#CCCCCC"> item</font>

444
00:20:09,779 --> 00:20:14,970
doing<font color="#CCCCCC"> lookup in the second</font><font color="#E5E5E5"> table the</font>

445
00:20:12,179 --> 00:20:19,010
second table is the table that<font color="#E5E5E5"> is</font>

446
00:20:14,970 --> 00:20:21,539
collecting the<font color="#CCCCCC"> lp MPLS labels from p1</font>

447
00:20:19,010 --> 00:20:25,140
<font color="#CCCCCC">alright</font><font color="#E5E5E5"> and you move the label and then</font>

448
00:20:21,539 --> 00:20:28,350
<font color="#E5E5E5">as IP IP lookup normally if I have</font>

449
00:20:25,140 --> 00:20:31,020
locally connected<font color="#CCCCCC"> C</font><font color="#E5E5E5"> so I am combined</font>

450
00:20:28,350 --> 00:20:40,379
protector<font color="#E5E5E5"> and the cat peed and I send</font>

451
00:20:31,020 --> 00:20:43,710
the traffic directly to see all<font color="#E5E5E5"> right so</font>

452
00:20:40,380 --> 00:20:48,510
conclusion here<font color="#E5E5E5"> so the idea here is</font><font color="#CCCCCC"> that</font>

453
00:20:43,710 --> 00:20:52,980
is protection so it's moved<font color="#E5E5E5"> from the</font>

454
00:20:48,510 --> 00:20:54,539
ingress<font color="#CCCCCC"> P as with</font><font color="#E5E5E5"> BGP</font><font color="#CCCCCC"> big edge to some</font>

455
00:20:52,980 --> 00:20:57,840
<font color="#CCCCCC">node which</font><font color="#E5E5E5"> is very close to the egg</font>

456
00:20:54,539 --> 00:20:59,070
recipe recipe because it's moved<font color="#E5E5E5"> from to</font>

457
00:20:57,840 --> 00:21:01,668
the node which is<font color="#E5E5E5"> very close to the</font>

458
00:20:59,070 --> 00:21:04,918
egress<font color="#CCCCCC"> P the reaction can be much faster</font>

459
00:21:01,669 --> 00:21:07,260
<font color="#E5E5E5">because</font><font color="#CCCCCC"> we don't</font><font color="#E5E5E5"> need</font><font color="#CCCCCC"> to wait for</font><font color="#E5E5E5"> the</font>

460
00:21:04,919 --> 00:21:10,020
convergence<font color="#CCCCCC"> IGP</font><font color="#E5E5E5"> converge for example to</font>

461
00:21:07,260 --> 00:21:13,950
redirect the traffic<font color="#CCCCCC"> ok and because of</font>

462
00:21:10,020 --> 00:21:16,260
that<font color="#E5E5E5"> we can we can provide some 100</font>

463
00:21:13,950 --> 00:21:19,500
millisecond protection regardless<font color="#CCCCCC"> of the</font>

464
00:21:16,260 --> 00:21:23,149
<font color="#E5E5E5">AGP scale and</font><font color="#CCCCCC"> bgp scale</font><font color="#E5E5E5"> a BGP peak edge</font>

465
00:21:19,500 --> 00:21:25,649
<font color="#E5E5E5">still depends on the IGP scale typically</font>

466
00:21:23,149 --> 00:21:27,989
<font color="#CCCCCC">okay also there</font><font color="#E5E5E5"> is no requirement</font><font color="#CCCCCC"> for</font>

467
00:21:25,649 --> 00:21:29,610
large kbfd very aggressive timers so we

468
00:21:27,990 --> 00:21:33,090
discussed<font color="#E5E5E5"> that we could eventually run</font>

469
00:21:29,610 --> 00:21:36,840
between<font color="#CCCCCC"> PS</font><font color="#E5E5E5"> we could have</font><font color="#CCCCCC"> BFD sessions to</font>

470
00:21:33,090 --> 00:21:39,959
the tag<font color="#CCCCCC"> that p filler</font><font color="#E5E5E5"> and the</font><font color="#CCCCCC"> phrase</font>

471
00:21:36,840 --> 00:21:43,139
deployment started a couple<font color="#E5E5E5"> of years ago</font>

472
00:21:39,960 --> 00:21:45,570
<font color="#E5E5E5">and one of the digester</font><font color="#CCCCCC"> con networks now</font>

473
00:21:43,140 --> 00:21:50,640
is fully functional<font color="#E5E5E5"> and is</font><font color="#CCCCCC"> working very</font>

474
00:21:45,570 --> 00:21:52,678
<font color="#E5E5E5">well</font><font color="#CCCCCC"> right thank you match</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> is all</font>

475
00:21:50,640 --> 00:21:54,860
that I wanted<font color="#CCCCCC"> to tell are there any</font>

476
00:21:52,679 --> 00:21:54,860
questions

477
00:21:58,970 --> 00:22:04,190
<font color="#E5E5E5">Philip Matthews it seems to me that your</font>

478
00:22:02,240 --> 00:22:06,950
solution<font color="#E5E5E5"> could</font><font color="#CCCCCC"> be solved</font><font color="#E5E5E5"> I mean there's</font>

479
00:22:04,190 --> 00:22:09,170
an<font color="#E5E5E5"> existing solutions for your for</font><font color="#CCCCCC"> your</font>

480
00:22:06,950 --> 00:22:12,020
case I mean which have actually fairly

481
00:22:09,170 --> 00:22:13,820
widely deployed for layer<font color="#CCCCCC"> two</font><font color="#E5E5E5"> services</font>

482
00:22:12,020 --> 00:22:15,650
<font color="#E5E5E5">it's called ACTA standby pseudo wires</font>

483
00:22:13,820 --> 00:22:19,100
and<font color="#E5E5E5"> for layer three services you can use</font>

484
00:22:15,650 --> 00:22:22,490
<font color="#E5E5E5">add paths right but it still depends on</font>

485
00:22:19,100 --> 00:22:25,879
the time that<font color="#E5E5E5"> ingress be realized that</font>

486
00:22:22,490 --> 00:22:28,600
the egress<font color="#CCCCCC"> be failed</font><font color="#E5E5E5"> sure but you can</font>

487
00:22:25,880 --> 00:22:32,179
use BFD or something like exactly<font color="#CCCCCC"> III</font>

488
00:22:28,600 --> 00:22:34,159
yes yes you<font color="#E5E5E5"> can use PFD</font><font color="#CCCCCC"> and depends</font><font color="#E5E5E5"> only</font>

489
00:22:32,179 --> 00:22:37,790
on<font color="#CCCCCC"> the scale yes this</font><font color="#E5E5E5"> is where</font><font color="#CCCCCC"> I</font>

490
00:22:34,160 --> 00:22:39,320
<font color="#CCCCCC">mentioned and you don't have</font><font color="#E5E5E5"> to go all</font>

491
00:22:37,790 --> 00:22:41,480
the<font color="#E5E5E5"> way back you can just</font><font color="#CCCCCC"> keep that all</font>

492
00:22:39,320 --> 00:22:45,110
within<font color="#CCCCCC"> the</font><font color="#E5E5E5"> single is to don't have to go</font>

493
00:22:41,480 --> 00:22:47,870
back to the original<font color="#E5E5E5"> a yes well you need</font>

494
00:22:45,110 --> 00:22:50,209
ingress be need<font color="#E5E5E5"> to realize if you have</font>

495
00:22:47,870 --> 00:22:51,860
net<font color="#CCCCCC"> menage that we might be biases know</font>

496
00:22:50,210 --> 00:22:54,110
if you have if<font color="#E5E5E5"> you split across two s</font>

497
00:22:51,860 --> 00:22:56,570
you can just ask isolate the knowledge

498
00:22:54,110 --> 00:22:57,590
<font color="#E5E5E5">of all this stuff within a single is you</font>

499
00:22:56,570 --> 00:23:00,559
don't have<font color="#E5E5E5"> that you don't</font><font color="#CCCCCC"> have that</font>

500
00:22:57,590 --> 00:23:02,899
across a yes<font color="#E5E5E5"> can come in you can do the</font>

501
00:23:00,559 --> 00:23:04,460
top path for the first<font color="#E5E5E5"> day s and then</font>

502
00:23:02,900 --> 00:23:06,559
drop to<font color="#CCCCCC"> the bottom you</font><font color="#E5E5E5"> know basic</font>

503
00:23:04,460 --> 00:23:07,940
effectively drop to the bottom path for

504
00:23:06,559 --> 00:23:11,420
the second<font color="#CCCCCC"> day yes</font><font color="#E5E5E5"> and then you need to</font>

505
00:23:07,940 --> 00:23:12,830
have service teaching yes

506
00:23:11,420 --> 00:23:14,809
but<font color="#CCCCCC"> you probably</font><font color="#E5E5E5"> have something</font><font color="#CCCCCC"> like</font>

507
00:23:12,830 --> 00:23:26,889
<font color="#CCCCCC">that it between the ASSA yeah there are</font>

508
00:23:14,809 --> 00:23:26,889
different options yes any more questions

509
00:23:28,570 --> 00:23:31,300
all right well thank you<font color="#CCCCCC"> Kate thank</font><font color="#E5E5E5"> you</font>

510
00:23:30,369 --> 00:23:36,939
much<font color="#CCCCCC"> thank you</font>

511
00:23:31,300 --> 00:23:36,940
[Applause]

