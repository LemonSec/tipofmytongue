1
00:00:07,110 --> 00:00:10,189
[Music]

2
00:00:24,390 --> 00:00:29,970
[Laughter]

3
00:00:29,970 --> 00:00:35,020
all right so okay great so just out of

4
00:00:35,020 --> 00:00:38,289
my own interest who already uses four

5
00:00:38,289 --> 00:00:42,039
month okay good that's more than nice

6
00:00:42,039 --> 00:00:45,550
and okay I who just uses puppet and I'm

7
00:00:45,550 --> 00:00:48,100
not using either yeah it's gonna be a

8
00:00:48,100 --> 00:00:51,309
slow talk if you do so so this talks

9
00:00:51,309 --> 00:00:53,170
really in three parts I'm gonna do a

10
00:00:53,170 --> 00:00:54,489
little bit on Foreman for those who

11
00:00:54,489 --> 00:00:55,960
don't already know it just mainly for

12
00:00:55,960 --> 00:00:57,549
the video I guess but and also the full

13
00:00:57,549 --> 00:01:01,359
time I'm also gonna talk about octo

14
00:01:01,359 --> 00:01:07,049
catalogued if it's so so that's with the

15
00:01:07,049 --> 00:01:11,259
point yeah so this bit here so even if

16
00:01:11,259 --> 00:01:12,460
you don't use Foreman there's something

17
00:01:12,460 --> 00:01:13,539
in here for you maybe some of the

18
00:01:13,539 --> 00:01:14,860
concepts and the command-line tool is

19
00:01:14,860 --> 00:01:16,360
useful to you and then at the end

20
00:01:16,360 --> 00:01:17,799
they'll talk about the plugin that I've

21
00:01:17,799 --> 00:01:22,390
written to bring that together so very

22
00:01:22,390 --> 00:01:24,609
very quickly on the forum on them so as

23
00:01:24,609 --> 00:01:26,530
you guys already know it but again just

24
00:01:26,530 --> 00:01:27,789
just for the video if you don't know

25
00:01:27,789 --> 00:01:29,649
Foreman it's a configuration management

26
00:01:29,649 --> 00:01:32,170
and lifecycle management tool allows you

27
00:01:32,170 --> 00:01:34,479
to take the whole set of operations that

28
00:01:34,479 --> 00:01:37,060
you need to act upon for a server you

29
00:01:37,060 --> 00:01:38,679
need to do provisioning you need to get

30
00:01:38,679 --> 00:01:40,090
the disk up and running whether that's

31
00:01:40,090 --> 00:01:42,189
pixie and unattended Network installed

32
00:01:42,189 --> 00:01:44,469
whether that's booting an ami or a

33
00:01:44,469 --> 00:01:47,770
digitalocean droplet or a disk template

34
00:01:47,770 --> 00:01:50,020
for VMware or whatever you need to get

35
00:01:50,020 --> 00:01:51,850
something up and running you need to do

36
00:01:51,850 --> 00:01:53,499
some one-time configuration get that

37
00:01:53,499 --> 00:01:55,749
hooked into puppet or ansible or salts

38
00:01:55,749 --> 00:01:57,880
or sheriff and then once you've got it

39
00:01:57,880 --> 00:01:59,560
hooked into your infrastructure you want

40
00:01:59,560 --> 00:02:01,899
to manage it over time so that means

41
00:02:01,899 --> 00:02:03,520
driving the configuration management

42
00:02:03,520 --> 00:02:06,640
using the ENC or you know defining ansel

43
00:02:06,640 --> 00:02:09,038
roles to play you want to get reports

44
00:02:09,038 --> 00:02:10,508
about you want to get inventory data

45
00:02:10,508 --> 00:02:13,180
back you want to talk about whether your

46
00:02:13,180 --> 00:02:14,860
infrastructure isn't

47
00:02:14,860 --> 00:02:17,230
performing properly behaving properly

48
00:02:17,230 --> 00:02:18,670
whether the hosts are out of sync or

49
00:02:18,670 --> 00:02:20,560
have errors that stuff can be difficult

50
00:02:20,560 --> 00:02:21,940
to see if you don't have a nice front

51
00:02:21,940 --> 00:02:24,370
end for it so we can do that and we can

52
00:02:24,370 --> 00:02:26,200
drive it as well as I say TN see we've

53
00:02:26,200 --> 00:02:28,300
got hierarchical parameters parameters

54
00:02:28,300 --> 00:02:31,020
storage all that kind of thing and

55
00:02:31,020 --> 00:02:33,520
that's we call it monitoring I

56
00:02:33,520 --> 00:02:34,780
personally don't like monitoring our

57
00:02:34,780 --> 00:02:37,030
word reporting because we're getting

58
00:02:37,030 --> 00:02:38,170
that data back and checking everything

59
00:02:38,170 --> 00:02:40,150
sync and then you want a deep revision

60
00:02:40,150 --> 00:02:43,480
and you want to clean up everything work

61
00:02:43,480 --> 00:02:44,920
the end of the host life so you have to

62
00:02:44,920 --> 00:02:47,500
leave DNS records and delete VMs and

63
00:02:47,500 --> 00:02:48,820
things like that so we did the whole

64
00:02:48,820 --> 00:02:51,730
lifecycle management and I guess most of

65
00:02:51,730 --> 00:02:54,130
you already know that so I'm not going

66
00:02:54,130 --> 00:02:55,750
to spend very much time on it but no

67
00:02:55,750 --> 00:02:57,040
Foreman talk is complete without this

68
00:02:57,040 --> 00:02:59,080
slide which I'm sure you've all seen

69
00:02:59,080 --> 00:03:01,810
before it's horrendous but if you if you

70
00:03:01,810 --> 00:03:03,070
want to know what it means come by the

71
00:03:03,070 --> 00:03:04,240
booth and I'll explain it to you

72
00:03:04,240 --> 00:03:07,840
assuming I'm still awake so let's let's

73
00:03:07,840 --> 00:03:09,400
talk about what we really want to talk

74
00:03:09,400 --> 00:03:11,500
about today which for me is about this

75
00:03:11,500 --> 00:03:14,830
idea of puppet deaf catalog dish but I

76
00:03:14,830 --> 00:03:16,540
want to start by just laying some some

77
00:03:16,540 --> 00:03:19,930
groundwork for you how do we test puppet

78
00:03:19,930 --> 00:03:21,340
tonight as we get people's opinions here

79
00:03:21,340 --> 00:03:24,850
who uses who writes a spec tests yeah a

80
00:03:24,850 --> 00:03:26,260
few people who actually runs a spec

81
00:03:26,260 --> 00:03:29,700
tests on the modules they download and

82
00:03:29,700 --> 00:03:32,620
who uses a VM to test on I try and copy

83
00:03:32,620 --> 00:03:34,300
a production machine actually run the

84
00:03:34,300 --> 00:03:36,910
modules there yeah it sadly that who

85
00:03:36,910 --> 00:03:38,380
does peer review when they change their

86
00:03:38,380 --> 00:03:40,300
puppet code a few people that so there's

87
00:03:40,300 --> 00:03:41,530
a different mishmash of ways of doing

88
00:03:41,530 --> 00:03:43,630
this who actually just commits it and

89
00:03:43,630 --> 00:03:46,930
runs it in no op mode yeah is that yeah

90
00:03:46,930 --> 00:03:49,660
I do that too because actually whilst

91
00:03:49,660 --> 00:03:50,590
this is fine

92
00:03:50,590 --> 00:03:52,330
things like ours but that's wrong but

93
00:03:52,330 --> 00:03:57,640
things like I respect that my hands are

94
00:03:57,640 --> 00:03:59,320
actually shaking so things like I

95
00:03:59,320 --> 00:04:00,820
respect are great if you're the author

96
00:04:00,820 --> 00:04:04,269
and they're great confidence in the

97
00:04:04,269 --> 00:04:06,220
quality of the module and if you're

98
00:04:06,220 --> 00:04:07,600
running what we might call a capital

99
00:04:07,600 --> 00:04:09,280
system where you have 40,000 house and

100
00:04:09,280 --> 00:04:10,450
they're all identical and you never

101
00:04:10,450 --> 00:04:11,980
change them and if you make a change you

102
00:04:11,980 --> 00:04:13,390
just rebuild everything right that's

103
00:04:13,390 --> 00:04:16,810
ideal but I don't actually think that

104
00:04:16,810 --> 00:04:18,728
many of us are in that position and I

105
00:04:18,728 --> 00:04:21,100
can certainly say that I've got crusty

106
00:04:21,100 --> 00:04:23,560
old hosts that have multiple roles and I

107
00:04:23,560 --> 00:04:26,229
worry every single time I make commits

108
00:04:26,229 --> 00:04:27,150
that affect those hosts

109
00:04:27,150 --> 00:04:31,350
anyone else in that situation right so

110
00:04:31,350 --> 00:04:32,699
this is the problem right we're left

111
00:04:32,699 --> 00:04:34,860
with this really awkward situation if we

112
00:04:34,860 --> 00:04:36,330
upgrade all of the modules if I've

113
00:04:36,330 --> 00:04:37,800
downloaded a bunch of modules from the

114
00:04:37,800 --> 00:04:41,190
puppet Forge and now I want to upgrade

115
00:04:41,190 --> 00:04:42,300
those Papa module it's the latest

116
00:04:42,300 --> 00:04:46,430
version how do I do this do i diff them

117
00:04:46,430 --> 00:04:48,660
do I actually look at the code changes

118
00:04:48,660 --> 00:04:51,570
from version 3.4 to 4.0 that's a lot of

119
00:04:51,570 --> 00:04:53,520
work do I trust that these are good

120
00:04:53,520 --> 00:04:57,150
changes ok yes to some extent I mean I'm

121
00:04:57,150 --> 00:04:58,320
assuming the authors are doing a pretty

122
00:04:58,320 --> 00:04:59,729
good job but you know it's a valid I

123
00:04:59,729 --> 00:05:01,470
expect tests to ensure that it exits RM

124
00:05:01,470 --> 00:05:06,360
minus RF slash so we have we want to do

125
00:05:06,360 --> 00:05:07,860
some checks so what do you do you end up

126
00:05:07,860 --> 00:05:09,270
merging it and you just run out with

127
00:05:09,270 --> 00:05:10,830
maybe no op but if you've got a lot of

128
00:05:10,830 --> 00:05:11,880
hosts some of them are going to run it

129
00:05:11,880 --> 00:05:13,830
before you finish testing it or maybe

130
00:05:13,830 --> 00:05:15,270
you make you take one host out of

131
00:05:15,270 --> 00:05:16,680
production you put it in a development

132
00:05:16,680 --> 00:05:19,260
environment instead slightly better

133
00:05:19,260 --> 00:05:22,410
perhaps but if I've got variables that

134
00:05:22,410 --> 00:05:24,000
depend on the environment maybe

135
00:05:24,000 --> 00:05:25,919
passwords should be different between

136
00:05:25,919 --> 00:05:28,199
production and development things are

137
00:05:28,199 --> 00:05:29,550
going to change again it's going to be

138
00:05:29,550 --> 00:05:32,510
different

139
00:05:33,720 --> 00:05:38,220
spend any effort reviewing that so all

140
00:05:38,220 --> 00:05:41,190
of these tools are fantastic if you're

141
00:05:41,190 --> 00:05:44,280
the author and as we get further down

142
00:05:44,280 --> 00:05:45,630
the list they get increasingly worrying

143
00:05:45,630 --> 00:05:49,050
and slightly more sketchy so let me

144
00:05:49,050 --> 00:05:51,389
introduce you to the idea of Katla is

145
00:05:51,389 --> 00:05:55,220
this coming and going am I losing audio

146
00:06:00,560 --> 00:06:03,330
so let me introduce you to catalog gifts

147
00:06:03,330 --> 00:06:06,060
I think the key idea here so for those

148
00:06:06,060 --> 00:06:07,260
of you who maybe don't know pop it

149
00:06:07,260 --> 00:06:09,240
obviously takes puppet code compiles it

150
00:06:09,240 --> 00:06:11,370
into a catalog and then that catalog is

151
00:06:11,370 --> 00:06:13,889
sent to the client in order to execute

152
00:06:13,889 --> 00:06:17,310
upon so we can actually differs objects

153
00:06:17,310 --> 00:06:18,900
they're serialized objects you can take

154
00:06:18,900 --> 00:06:20,220
them and you can look at what's in them

155
00:06:20,220 --> 00:06:22,380
and there are a number of tools out

156
00:06:22,380 --> 00:06:24,570
there but to do this but what we're

157
00:06:24,570 --> 00:06:26,280
really important to notice is this is

158
00:06:26,280 --> 00:06:28,050
not code anymore right we've taken out

159
00:06:28,050 --> 00:06:30,000
the code we've compiled the code we've

160
00:06:30,000 --> 00:06:31,770
dealt with all the facts we dealt with

161
00:06:31,770 --> 00:06:33,090
all the variables the branching gift

162
00:06:33,090 --> 00:06:35,120
statements they're optional switches

163
00:06:35,120 --> 00:06:37,590
we've taken all of the hostname specific

164
00:06:37,590 --> 00:06:39,510
stuff we've taken out all the whitespace

165
00:06:39,510 --> 00:06:40,560
the comments that

166
00:06:40,560 --> 00:06:42,090
puppet tag the things that don't matter

167
00:06:42,090 --> 00:06:44,730
when it gets to the agent all of that is

168
00:06:44,730 --> 00:06:47,669
gone so that's a lot less to think about

169
00:06:47,669 --> 00:06:49,889
it works if you don't have test coverage

170
00:06:49,889 --> 00:06:51,360
because what you're actually looking at

171
00:06:51,360 --> 00:06:55,370
is the actions that the agent would take

172
00:06:55,370 --> 00:06:58,980
so it won't say there's a diff in these

173
00:06:58,980 --> 00:07:00,930
lines because that's what's changing the

174
00:07:00,930 --> 00:07:03,030
dot PP files it will say you were going

175
00:07:03,030 --> 00:07:04,590
to write a file with this content in

176
00:07:04,590 --> 00:07:05,910
this mode and now you're going to write

177
00:07:05,910 --> 00:07:07,710
a file with that content and that mode

178
00:07:07,710 --> 00:07:09,900
so even if you don't have test coverage

179
00:07:09,900 --> 00:07:11,760
for your module you still get to see

180
00:07:11,760 --> 00:07:14,669
exactly what's going to happen on that

181
00:07:14,669 --> 00:07:17,280
host so this is really valuable actually

182
00:07:17,280 --> 00:07:19,380
and if you have puppet code in two

183
00:07:19,380 --> 00:07:21,419
environments and you can calculate a

184
00:07:21,419 --> 00:07:23,040
catalog for each of those two

185
00:07:23,040 --> 00:07:24,540
environments you can run a diff between

186
00:07:24,540 --> 00:07:25,919
them and you can actually see what's

187
00:07:25,919 --> 00:07:27,810
going on now as I said on the previous

188
00:07:27,810 --> 00:07:29,850
slide and by the way I'm going really

189
00:07:29,850 --> 00:07:32,190
fast because I'm tired and all the rest

190
00:07:32,190 --> 00:07:33,960
of it so I hope I don't run too quickly

191
00:07:33,960 --> 00:07:37,440
but even if you're the author these two

192
00:07:37,440 --> 00:07:38,700
all the other tools are great but if

193
00:07:38,700 --> 00:07:41,370
you're just a user then this is really

194
00:07:41,370 --> 00:07:43,889
useful it's even at the very minimum

195
00:07:43,889 --> 00:07:47,280
it's a confirmation of things you think

196
00:07:47,280 --> 00:07:49,919
you already know it's you can look at

197
00:07:49,919 --> 00:07:51,570
the code review you can look at the the

198
00:07:51,570 --> 00:07:52,919
changes in the module you can look at

199
00:07:52,919 --> 00:07:55,110
the change log right if there is one and

200
00:07:55,110 --> 00:07:57,419
you can see what you expect to change

201
00:07:57,419 --> 00:07:59,520
and at the very least you'll get a

202
00:07:59,520 --> 00:08:01,110
confirmation of that but in extreme

203
00:08:01,110 --> 00:08:03,090
circumstances as I'll show in a minute

204
00:08:03,090 --> 00:08:05,550
you can actually end up with a much more

205
00:08:05,550 --> 00:08:08,310
easy to parse diff and you can have some

206
00:08:08,310 --> 00:08:09,840
confidence of what's actually going to

207
00:08:09,840 --> 00:08:13,950
happen on your host so let me introduce

208
00:08:13,950 --> 00:08:16,860
you to octo catalog diff firstly this is

209
00:08:16,860 --> 00:08:19,500
not my talk I did not write this I found

210
00:08:19,500 --> 00:08:23,220
this github released it in October I

211
00:08:23,220 --> 00:08:25,919
think and it's not the first attempt to

212
00:08:25,919 --> 00:08:27,479
the catalog diff there's one already on

213
00:08:27,479 --> 00:08:29,070
the puppet Forge that works as a puppet

214
00:08:29,070 --> 00:08:31,560
face github we've decided to go a

215
00:08:31,560 --> 00:08:33,089
different way they've done it as a

216
00:08:33,089 --> 00:08:35,490
standalone ruby gem that has a binary

217
00:08:35,490 --> 00:08:36,900
and you can just run it and they've done

218
00:08:36,900 --> 00:08:38,370
that because their intention is for you

219
00:08:38,370 --> 00:08:40,200
to run this from a git checkout so you

220
00:08:40,200 --> 00:08:42,690
can run this on your local if you're

221
00:08:42,690 --> 00:08:43,979
using git to store your public modules

222
00:08:43,979 --> 00:08:45,150
you don't even need to be on the puppet

223
00:08:45,150 --> 00:08:46,529
master right okay you have to supply

224
00:08:46,529 --> 00:08:48,570
some data which classes to compile

225
00:08:48,570 --> 00:08:50,940
you're not ENC data you need some facts

226
00:08:50,940 --> 00:08:52,950
from the host a cache of facts in order

227
00:08:52,950 --> 00:08:53,790
to

228
00:08:53,790 --> 00:08:55,590
generate that input into your puppet

229
00:08:55,590 --> 00:08:58,800
manifest but ideally it's staying away

230
00:08:58,800 --> 00:09:00,030
from the puppet master you can keep

231
00:09:00,030 --> 00:09:01,230
running it while you're working on your

232
00:09:01,230 --> 00:09:03,030
puppet code until you've got it to where

233
00:09:03,030 --> 00:09:04,110
you think it's good and then you can

234
00:09:04,110 --> 00:09:05,520
commit it and push it which is a really

235
00:09:05,520 --> 00:09:08,910
really really nice tool and it means

236
00:09:08,910 --> 00:09:10,020
you're not loading your infrastructure

237
00:09:10,020 --> 00:09:12,090
in any way there's faster turnaround on

238
00:09:12,090 --> 00:09:13,920
your code while you're working on it let

239
00:09:13,920 --> 00:09:16,290
me give you a quick example of what that

240
00:09:16,290 --> 00:09:19,590
looks like so what I have if I'm not

241
00:09:19,590 --> 00:09:23,190
mistaken here I have a couple of modules

242
00:09:23,190 --> 00:09:26,040
this is so I'm using as an example here

243
00:09:26,040 --> 00:09:28,380
the foreman is not big enough to I need

244
00:09:28,380 --> 00:09:31,200
to make the bigger it's good okay cool

245
00:09:31,200 --> 00:09:34,590
so the foreman itself as an organization

246
00:09:34,590 --> 00:09:37,350
publishes a whole set of modules and I'm

247
00:09:37,350 --> 00:09:39,240
using just one module here the DHCP

248
00:09:39,240 --> 00:09:42,930
module now we recently released formal

249
00:09:42,930 --> 00:09:45,000
114 and that came with a whole new set

250
00:09:45,000 --> 00:09:47,640
of the module releases that make up our

251
00:09:47,640 --> 00:09:49,410
installer and DHCP is one of those so I

252
00:09:49,410 --> 00:09:51,180
have in the production environment I

253
00:09:51,180 --> 00:09:54,390
have the 1.13 version of the Foreman

254
00:09:54,390 --> 00:09:57,000
DHCP and in the development environment

255
00:09:57,000 --> 00:10:00,060
I have the 1.14 version so this I think

256
00:10:00,060 --> 00:10:01,980
I think I use the numbers earlier this

257
00:10:01,980 --> 00:10:04,950
is version 3.4 of the module 2 4.0 of

258
00:10:04,950 --> 00:10:06,720
the module I think here sounds about

259
00:10:06,720 --> 00:10:09,270
right so here's what happens if you

260
00:10:09,270 --> 00:10:13,790
actually just diff the code itself

261
00:10:18,170 --> 00:10:19,790
okay there's a whole new license file

262
00:10:19,790 --> 00:10:21,170
that takes a while

263
00:10:21,170 --> 00:10:23,960
new pixi parameters new code inside

264
00:10:23,960 --> 00:10:26,270
modules optional blocks support for arch

265
00:10:26,270 --> 00:10:29,420
linux new versions of things new change

266
00:10:29,420 --> 00:10:31,430
it to defaults change of also thing

267
00:10:31,430 --> 00:10:34,190
right it's it's it's long it's really

268
00:10:34,190 --> 00:10:36,500
long I don't want to read that and I

269
00:10:36,500 --> 00:10:37,820
don't think many other people do out

270
00:10:37,820 --> 00:10:40,070
there that's useful information as you

271
00:10:40,070 --> 00:10:41,690
go through the process of developing a

272
00:10:41,690 --> 00:10:43,880
module again it's useful for authors but

273
00:10:43,880 --> 00:10:46,130
as a consumer of the module that is not

274
00:10:46,130 --> 00:10:47,840
helpful to me to know whether or not I

275
00:10:47,840 --> 00:10:50,240
am going to have any changes on my DHCP

276
00:10:50,240 --> 00:10:52,130
server when I upgrade the module in

277
00:10:52,130 --> 00:10:54,350
production and I can do the same thing

278
00:10:54,350 --> 00:10:56,210
for DNS it's all for example because

279
00:10:56,210 --> 00:10:57,650
actually it looks almost exactly the

280
00:10:57,650 --> 00:11:01,070
same I do this for both because I've

281
00:11:01,070 --> 00:11:03,890
actually got both in my NC so these are

282
00:11:03,890 --> 00:11:05,120
really I hope you'll agree really

283
00:11:05,120 --> 00:11:07,640
complicated diffs they're hard to review

284
00:11:07,640 --> 00:11:09,590
as an end user they're not going to give

285
00:11:09,590 --> 00:11:10,880
me a lot of confidence that my DNS

286
00:11:10,880 --> 00:11:12,380
server is not going to break and if I

287
00:11:12,380 --> 00:11:14,120
don't do something like a catalog death

288
00:11:14,120 --> 00:11:16,970
I have a worry as what's gonna happen X

289
00:11:16,970 --> 00:11:18,410
I'm gonna go back to those hacks I'm

290
00:11:18,410 --> 00:11:20,300
gonna either move a machine into another

291
00:11:20,300 --> 00:11:21,860
environment or I'm gonna use no off or

292
00:11:21,860 --> 00:11:22,850
something like that it's going to

293
00:11:22,850 --> 00:11:24,740
concern me maybe I'm gonna do my upgrade

294
00:11:24,740 --> 00:11:26,930
to my modules one module at a time which

295
00:11:26,930 --> 00:11:28,340
is really painstaking and takes you all

296
00:11:28,340 --> 00:11:30,920
day right but let's have a look it up to

297
00:11:30,920 --> 00:11:32,660
a catalog now I must warn you there's a

298
00:11:32,660 --> 00:11:35,570
lot of options here yeah I know it's

299
00:11:35,570 --> 00:11:37,280
huge that's because there's various

300
00:11:37,280 --> 00:11:38,180
reasons for that and I could go through

301
00:11:38,180 --> 00:11:39,830
every single option but the point is and

302
00:11:39,830 --> 00:11:41,330
there's a lot of different ways you can

303
00:11:41,330 --> 00:11:43,670
get data into up to catalog diff a lot

304
00:11:43,670 --> 00:11:45,200
of different sources of things so very

305
00:11:45,200 --> 00:11:48,950
quickly what you're seeing is since I

306
00:11:48,950 --> 00:11:51,950
need to fill time right so that's the

307
00:11:51,950 --> 00:11:54,830
machine we want to compile for this is

308
00:11:54,830 --> 00:11:56,240
whether to get the code from so not only

309
00:11:56,240 --> 00:11:57,440
works on git and I'm obviously not

310
00:11:57,440 --> 00:11:58,700
working from get here I'm actually on my

311
00:11:58,700 --> 00:12:01,730
puppet master so so here's a checked out

312
00:12:01,730 --> 00:12:04,820
version and so you see from and to a lot

313
00:12:04,820 --> 00:12:06,250
because obviously we're comparing things

314
00:12:06,250 --> 00:12:08,300
so we have from production to

315
00:12:08,300 --> 00:12:10,180
development where to get the facts from

316
00:12:10,180 --> 00:12:12,830
where to get the ENC from so note that

317
00:12:12,830 --> 00:12:14,480
RB is very familiar if you're a foreman

318
00:12:14,480 --> 00:12:16,250
user don't use here because it makes a

319
00:12:16,250 --> 00:12:18,020
mess of this where's puppet so I can

320
00:12:18,020 --> 00:12:20,270
actually calculate catalog and add some

321
00:12:20,270 --> 00:12:22,130
color so it's actually not that

322
00:12:22,130 --> 00:12:23,750
difficult to understand let me run that

323
00:12:23,750 --> 00:12:24,920
and I hope you'll agree this is a

324
00:12:24,920 --> 00:12:28,000
simpler diff

325
00:12:30,479 --> 00:12:36,429
sir so in order to calculate a catalyst

326
00:12:36,429 --> 00:12:37,720
so the question was what do I mean by

327
00:12:37,720 --> 00:12:39,429
where to get the facts from in order to

328
00:12:39,429 --> 00:12:41,619
calculate a catalog what happens

329
00:12:41,619 --> 00:12:43,059
normally in a puppet operation is the

330
00:12:43,059 --> 00:12:44,979
agent first sends its facts to the

331
00:12:44,979 --> 00:12:46,689
puppet master and pop and master uses

332
00:12:46,689 --> 00:12:48,249
that to generate the catalog so if we're

333
00:12:48,249 --> 00:12:49,689
going to generate a catalog offline we

334
00:12:49,689 --> 00:12:50,769
have to get that fact source from

335
00:12:50,769 --> 00:12:52,899
somewhere else now the facts are cached

336
00:12:52,899 --> 00:12:55,419
by the puppet master so I'm just

337
00:12:55,419 --> 00:12:57,519
pointing to that directory basically so

338
00:12:57,519 --> 00:13:00,339
I think you'll agree look that's too

339
00:13:00,339 --> 00:13:03,789
much let's use it that's the command and

340
00:13:03,789 --> 00:13:06,579
the only deaf is one blank line in one

341
00:13:06,579 --> 00:13:10,029
concat fragment that's easier to parse I

342
00:13:10,029 --> 00:13:12,549
have a lot more confidence now so I'm

343
00:13:12,549 --> 00:13:14,470
pretty happy with that tool and I

344
00:13:14,470 --> 00:13:15,939
discovered this tool in October and I

345
00:13:15,939 --> 00:13:19,599
thought ok that's pretty cool what's

346
00:13:19,599 --> 00:13:20,169
wrong with it

347
00:13:20,169 --> 00:13:21,489
why isn't nobody else using whatever I'd

348
00:13:21,489 --> 00:13:23,589
not heard about this earlier and it

349
00:13:23,589 --> 00:13:27,819
turns out there are some caveats so as

350
00:13:27,819 --> 00:13:29,079
we just mentioned and thank you for the

351
00:13:29,079 --> 00:13:30,970
question illustrating it the facts are

352
00:13:30,970 --> 00:13:32,799
not necessarily lies now in the case of

353
00:13:32,799 --> 00:13:34,689
how I'm executing it the facts are

354
00:13:34,689 --> 00:13:36,069
coming to it from the puppet service so

355
00:13:36,069 --> 00:13:37,959
they are effectively live as long as the

356
00:13:37,959 --> 00:13:39,279
Machine is checking in randomly but if

357
00:13:39,279 --> 00:13:40,449
you've copied that file to your

358
00:13:40,449 --> 00:13:41,919
development laptop to run this command

359
00:13:41,919 --> 00:13:43,839
offline that's going to get stale and

360
00:13:43,839 --> 00:13:45,369
that's something you have to be careful

361
00:13:45,369 --> 00:13:46,749
with and it's also something if you're

362
00:13:46,749 --> 00:13:48,399
working on custom facts if you're

363
00:13:48,399 --> 00:13:50,019
changing facts as part of the catalog

364
00:13:50,019 --> 00:13:51,249
that's going to affect the compilation

365
00:13:51,249 --> 00:13:53,499
of the catalog so be a little cautious

366
00:13:53,499 --> 00:13:56,589
if you do catalog gifts with custom

367
00:13:56,589 --> 00:13:58,709
facts the second thing to note is that

368
00:13:58,709 --> 00:14:01,959
catalogs don't specify everything agents

369
00:14:01,959 --> 00:14:04,509
do get to specify some things themselves

370
00:14:04,509 --> 00:14:08,079
and the main two things to watch out for

371
00:14:08,079 --> 00:14:10,119
our dependency cycles if you cause a

372
00:14:10,119 --> 00:14:11,379
dependency cycle or you're changing

373
00:14:11,379 --> 00:14:13,809
dependency information that probably

374
00:14:13,809 --> 00:14:15,009
won't show up in the catalog that

375
00:14:15,009 --> 00:14:16,899
information is there but the agent gets

376
00:14:16,899 --> 00:14:18,970
to it to figure it out for itself and so

377
00:14:18,970 --> 00:14:21,489
that won't get caught up the other one

378
00:14:21,489 --> 00:14:23,439
and this is slightly more insidious

379
00:14:23,439 --> 00:14:26,019
slightly harder to realize what's going

380
00:14:26,019 --> 00:14:27,999
on is to do with providers and I should

381
00:14:27,999 --> 00:14:29,289
have probably grouped these last two

382
00:14:29,289 --> 00:14:32,229
together if the provider doesn't support

383
00:14:32,229 --> 00:14:33,819
an operation or you have a change to a

384
00:14:33,819 --> 00:14:36,009
provider that's not going to show up in

385
00:14:36,009 --> 00:14:37,419
the catalog let me give you a couple of

386
00:14:37,419 --> 00:14:40,899
examples firstly imagine a file system

387
00:14:40,899 --> 00:14:41,590
provider

388
00:14:41,590 --> 00:14:45,340
I could have a dip in my catalog which

389
00:14:45,340 --> 00:14:47,860
says go from let's say I've created a

390
00:14:47,860 --> 00:14:51,760
file system and it's xrs and it's a

391
00:14:51,760 --> 00:14:53,620
hundred gig that's fine

392
00:14:53,620 --> 00:14:55,930
probably can do that but now let's

393
00:14:55,930 --> 00:14:57,580
suppose I make a change in my catalog

394
00:14:57,580 --> 00:15:01,060
says I want it 50 gig well cut out the

395
00:15:01,060 --> 00:15:02,530
catalog dip will happily report that as

396
00:15:02,530 --> 00:15:05,050
a dip it's gone from 100 to 50

397
00:15:05,050 --> 00:15:06,670
it's a dip in the catalog what you won't

398
00:15:06,670 --> 00:15:08,140
see is that that's an error because the

399
00:15:08,140 --> 00:15:09,700
underlying provider can't do that you

400
00:15:09,700 --> 00:15:12,310
can't shrink an extra file system so it

401
00:15:12,310 --> 00:15:14,380
will fail but you won't get that from

402
00:15:14,380 --> 00:15:17,700
the catalog diff even worse if you

403
00:15:17,700 --> 00:15:20,050
change how a provider works you won't

404
00:15:20,050 --> 00:15:21,580
see that at all you won't even get a

405
00:15:21,580 --> 00:15:23,830
diff right so suppose I again I have a

406
00:15:23,830 --> 00:15:26,920
file system provider which in an old

407
00:15:26,920 --> 00:15:29,620
version of the provider it simply checks

408
00:15:29,620 --> 00:15:31,600
to see if any file system is present and

409
00:15:31,600 --> 00:15:33,700
if it is it leaves it alone but in the

410
00:15:33,700 --> 00:15:35,470
new version of the provider it checks to

411
00:15:35,470 --> 00:15:37,800
see if the correct file system is

412
00:15:37,800 --> 00:15:41,200
present now there will be no dip in my

413
00:15:41,200 --> 00:15:42,160
puppet code because I have changed

414
00:15:42,160 --> 00:15:44,170
nothing but if I've got X FS in my

415
00:15:44,170 --> 00:15:45,610
puppet code and it's an extra file

416
00:15:45,610 --> 00:15:47,260
system the new version is going to wipe

417
00:15:47,260 --> 00:15:50,410
that out and replace it with X of s but

418
00:15:50,410 --> 00:15:51,640
you won't see that in public catalog

419
00:15:51,640 --> 00:15:54,070
dips because it's not changed in the

420
00:15:54,070 --> 00:15:55,270
puppet code it's changed in the

421
00:15:55,270 --> 00:15:57,130
underlying provider now I don't want to

422
00:15:57,130 --> 00:15:58,990
warn you off using catalog discs I think

423
00:15:58,990 --> 00:16:00,010
they're very useful but I think it is

424
00:16:00,010 --> 00:16:02,650
very important to be aware of the

425
00:16:02,650 --> 00:16:05,380
differences in the providers because to

426
00:16:05,380 --> 00:16:07,480
be honest with you if you don't know

427
00:16:07,480 --> 00:16:08,770
that's going to happen it can really

428
00:16:08,770 --> 00:16:12,280
catch you out so this is all very cool

429
00:16:12,280 --> 00:16:15,370
and oh my goodness I'm going fast how

430
00:16:15,370 --> 00:16:17,080
much time have I spent Walter he's gonna

431
00:16:17,080 --> 00:16:20,280
sleep how long have I been going already

432
00:16:20,280 --> 00:16:25,300
because I've got 20 minutes oh my

433
00:16:25,300 --> 00:16:27,280
goodness oh my goodness you're all gonna

434
00:16:27,280 --> 00:16:31,570
get to UM get coffee really quickly okay

435
00:16:31,570 --> 00:16:34,870
so let's expand a little bit Kellogg

436
00:16:34,870 --> 00:16:35,470
they're so lovely

437
00:16:35,470 --> 00:16:38,380
but not everybody wants the command line

438
00:16:38,380 --> 00:16:40,660
and the court of the classic example

439
00:16:40,660 --> 00:16:42,130
that has happened to me in jobs past is

440
00:16:42,130 --> 00:16:43,300
where you have people just outside the

441
00:16:43,300 --> 00:16:44,350
core ops team who maybe want to

442
00:16:44,350 --> 00:16:45,850
contribute like it's great to make your

443
00:16:45,850 --> 00:16:48,550
you know puppet code code infrastructure

444
00:16:48,550 --> 00:16:49,810
as code means other people can

445
00:16:49,810 --> 00:16:51,070
contribute right just like with any

446
00:16:51,070 --> 00:16:53,400
other type of code but yet don't

447
00:16:53,400 --> 00:16:55,120
necessarily give them access

448
00:16:55,120 --> 00:16:57,010
the production branches and in some

449
00:16:57,010 --> 00:16:59,050
cases you don't even get to see the

450
00:16:59,050 --> 00:17:00,790
production branches so knowing what

451
00:17:00,790 --> 00:17:01,870
you're changing can be a little bit

452
00:17:01,870 --> 00:17:03,910
awkward but if someone sends you a patch

453
00:17:03,910 --> 00:17:05,140
sometimes it's nice for them to be able

454
00:17:05,140 --> 00:17:06,069
to go and see what that does

455
00:17:06,069 --> 00:17:07,839
and sometimes you just want to click a

456
00:17:07,839 --> 00:17:11,530
button and get a nice UI right so the

457
00:17:11,530 --> 00:17:12,609
other thing that's worth noting is

458
00:17:12,609 --> 00:17:15,099
Foreman has all of this data right we

459
00:17:15,099 --> 00:17:17,500
already are an en si for puppet so if

460
00:17:17,500 --> 00:17:19,480
you're using that great so we can

461
00:17:19,480 --> 00:17:20,890
provide the class data to octo

462
00:17:20,890 --> 00:17:24,369
catalogued if we have the facts that's

463
00:17:24,369 --> 00:17:26,410
provided by the puppet agent it's stored

464
00:17:26,410 --> 00:17:27,670
on the puppet master and it's uploaded

465
00:17:27,670 --> 00:17:30,670
into the foreman database and we have a

466
00:17:30,670 --> 00:17:31,929
puppet master which usually has a

467
00:17:31,929 --> 00:17:34,600
foreman proxy on it which has got all

468
00:17:34,600 --> 00:17:36,040
the code available so we don't even need

469
00:17:36,040 --> 00:17:37,420
to do get checkout so we have the whole

470
00:17:37,420 --> 00:17:40,270
lot so the question that came to me in

471
00:17:40,270 --> 00:17:42,340
about well just as the deadline for

472
00:17:42,340 --> 00:17:44,140
applying for this devaron came up was

473
00:17:44,140 --> 00:17:46,120
can we make this into a plugin can we

474
00:17:46,120 --> 00:17:47,620
show this in the UI and is that useful

475
00:17:47,620 --> 00:17:48,940
to people and that's the question I want

476
00:17:48,940 --> 00:17:50,380
to put see you guys today is whether

477
00:17:50,380 --> 00:17:52,450
what I'm about to show you is actually

478
00:17:52,450 --> 00:17:55,540
useful to you because it's really really

479
00:17:55,540 --> 00:17:58,120
hacky I wrote it in like a week and if

480
00:17:58,120 --> 00:17:59,950
it's good there's a lot of places we can

481
00:17:59,950 --> 00:18:01,480
go with it but there's no point spending

482
00:18:01,480 --> 00:18:04,540
time on it if it isn't so let me show

483
00:18:04,540 --> 00:18:06,010
you this it's it's a really quick demo

484
00:18:06,010 --> 00:18:09,490
so not that one here we go so it's a

485
00:18:09,490 --> 00:18:11,650
very quick demo which is a shame because

486
00:18:11,650 --> 00:18:12,700
we're going to be done in like 20

487
00:18:12,700 --> 00:18:16,000
minutes but I'm sorry so this is the

488
00:18:16,000 --> 00:18:17,530
same thing I just ran on the command

489
00:18:17,530 --> 00:18:18,730
line so you can see it so first of all

490
00:18:18,730 --> 00:18:19,540
for those of you who are not familiar

491
00:18:19,540 --> 00:18:21,340
with the the foreman UI I guess I should

492
00:18:21,340 --> 00:18:23,440
just go back a little bit this is what

493
00:18:23,440 --> 00:18:25,480
we call the host page it represents all

494
00:18:25,480 --> 00:18:28,390
of the data we have for a host things

495
00:18:28,390 --> 00:18:30,400
like IP addresses I can go and look at

496
00:18:30,400 --> 00:18:32,380
the facts data if I want configuration

497
00:18:32,380 --> 00:18:33,460
management reports a lot of good stuff

498
00:18:33,460 --> 00:18:35,470
I'll just show you the ENC very quickly

499
00:18:35,470 --> 00:18:38,320
so you can see that and basically this

500
00:18:38,320 --> 00:18:40,510
is what the same data that went into the

501
00:18:40,510 --> 00:18:43,000
command line execution that I showed you

502
00:18:43,000 --> 00:18:45,460
a few minutes ago so it's just the DHCP

503
00:18:45,460 --> 00:18:48,010
module and you it's it's mandatory to

504
00:18:48,010 --> 00:18:49,570
provide at least one interface so there

505
00:18:49,570 --> 00:18:52,150
we go and and the DNS and no custom

506
00:18:52,150 --> 00:18:56,170
parameters nothing all fine so that's

507
00:18:56,170 --> 00:18:57,850
what we're going to pass into puppet if

508
00:18:57,850 --> 00:19:00,670
and then here we have this so what this

509
00:19:00,670 --> 00:19:03,220
is doing is it's looking at the it's

510
00:19:03,220 --> 00:19:04,900
actually live when you load the page it

511
00:19:04,900 --> 00:19:06,490
goes out to the smart proxy and checks

512
00:19:06,490 --> 00:19:07,539
what puppet environment

513
00:19:07,539 --> 00:19:09,220
you've got now that could get slow so

514
00:19:09,220 --> 00:19:11,499
maybe we should make that use what's on

515
00:19:11,499 --> 00:19:14,379
disk on Foreman but so for now it's live

516
00:19:14,379 --> 00:19:16,989
and it goes out and it gets it and we

517
00:19:16,989 --> 00:19:18,940
can say give me all right actually

518
00:19:18,940 --> 00:19:21,460
before I show you that you can see that

519
00:19:21,460 --> 00:19:22,330
we're currently in the production

520
00:19:22,330 --> 00:19:24,369
environment here so we're going to start

521
00:19:24,369 --> 00:19:26,200
this is our from environment in the

522
00:19:26,200 --> 00:19:27,429
command-line way of looking at things

523
00:19:27,429 --> 00:19:30,220
and we're going to say what happens if I

524
00:19:30,220 --> 00:19:32,499
move this host to development which is

525
00:19:32,499 --> 00:19:33,999
the equivalent of saying what happens if

526
00:19:33,999 --> 00:19:35,470
I merge development into production

527
00:19:35,470 --> 00:19:37,840
right it's the same thing so now I can

528
00:19:37,840 --> 00:19:42,879
come up here and I can say this now this

529
00:19:42,879 --> 00:19:44,679
is a really hacky UI and I'll talk about

530
00:19:44,679 --> 00:19:46,720
that in a moment so it's the same diff

531
00:19:46,720 --> 00:19:49,659
same information and we can say okay

532
00:19:49,659 --> 00:19:51,070
that's pretty cool maybe I'll do the

533
00:19:51,070 --> 00:19:53,940
merge useful let me show you a slightly

534
00:19:53,940 --> 00:19:55,239
worse

535
00:19:55,239 --> 00:20:00,970
diff so I have another host here so this

536
00:20:00,970 --> 00:20:03,009
has a slightly different yeah more foul

537
00:20:03,009 --> 00:20:05,129
in this case we have a Foreman proxy and

538
00:20:05,129 --> 00:20:09,519
a puppet server now that's and those are

539
00:20:09,519 --> 00:20:11,859
much bigger modules but the same the

540
00:20:11,859 --> 00:20:13,090
same diff is what we're going to do so

541
00:20:13,090 --> 00:20:14,049
we're gonna go from the modules

542
00:20:14,049 --> 00:20:16,450
contained in the 1.13 installer up to

543
00:20:16,450 --> 00:20:20,889
the 1.14 installer and this is I just

544
00:20:20,889 --> 00:20:24,478
give you fair warning it's ugly

545
00:20:24,509 --> 00:20:26,559
so this will take a look possibly a

546
00:20:26,559 --> 00:20:28,330
little longer to calculate it's a about

547
00:20:28,330 --> 00:20:32,619
a thousand lines on it there it goes

548
00:20:32,619 --> 00:20:35,169
so what you can see is we've had a lot

549
00:20:35,169 --> 00:20:37,090
of changes in the concat how we use

550
00:20:37,090 --> 00:20:38,679
concat underneath and it just goes on

551
00:20:38,679 --> 00:20:39,659
and on

552
00:20:39,659 --> 00:20:42,340
concat konkuk konkuk konkuk konkuk and

553
00:20:42,340 --> 00:20:44,349
it's not very valuable information but

554
00:20:44,349 --> 00:20:50,190
if I keep going long enough where are we

555
00:20:50,190 --> 00:20:52,659
it will it will stop being con got stuff

556
00:20:52,659 --> 00:20:53,889
a minute I promise so I'm going to talk

557
00:20:53,889 --> 00:20:57,669
about roadmap in a minute here we go

558
00:20:57,669 --> 00:20:59,440
so actually useful information you get a

559
00:20:59,440 --> 00:21:00,669
little bit better at this so you can see

560
00:21:00,669 --> 00:21:04,779
EGC puppet master it's been added and

561
00:21:04,779 --> 00:21:06,940
said don't start because also we running

562
00:21:06,940 --> 00:21:09,279
that through passenger we've changed

563
00:21:09,279 --> 00:21:11,919
from our puppet 3 style execution to a

564
00:21:11,919 --> 00:21:13,450
puppet 4 star you can see opted copy

565
00:21:13,450 --> 00:21:15,759
labs been there in our proxy

566
00:21:15,759 --> 00:21:17,799
configuration there's been some changes

567
00:21:17,799 --> 00:21:21,220
in no Darby which is our NC script

568
00:21:21,220 --> 00:21:23,349
and I hacked in an extra change just to

569
00:21:23,349 --> 00:21:24,549
prove a point these all look like

570
00:21:24,549 --> 00:21:26,139
content changes but just to show you how

571
00:21:26,139 --> 00:21:27,429
other things look you can see the mode

572
00:21:27,429 --> 00:21:29,830
has changed here as well that's not

573
00:21:29,830 --> 00:21:31,179
actually in the module I hacked that in

574
00:21:31,179 --> 00:21:33,970
as a extra bit you can see that it's

575
00:21:33,970 --> 00:21:36,909
mostly content stuff here but any but

576
00:21:36,909 --> 00:21:38,409
the reason I put this mode thing in here

577
00:21:38,409 --> 00:21:40,450
is to show you that actually anything in

578
00:21:40,450 --> 00:21:43,330
the metadata of the puppet code can be

579
00:21:43,330 --> 00:21:45,099
shown here so if you change any of those

580
00:21:45,099 --> 00:21:47,739
parameters it should show up in your

581
00:21:47,739 --> 00:21:49,539
death as long as it's changes to the

582
00:21:49,539 --> 00:21:51,639
code and not the providers as I said

583
00:21:51,639 --> 00:21:53,499
earlier so this goes on forever and it

584
00:21:53,499 --> 00:21:54,700
mostly goes back into being con cat

585
00:21:54,700 --> 00:21:57,909
nonsense again you changes to passwords

586
00:21:57,909 --> 00:22:02,559
and whole bunch of a puppet config so

587
00:22:02,559 --> 00:22:06,009
this is a define we've got in our module

588
00:22:06,009 --> 00:22:07,509
so you can see a whole bunch of these

589
00:22:07,509 --> 00:22:09,429
have been added so this is not a

590
00:22:09,429 --> 00:22:11,440
massively valuable diff because it's

591
00:22:11,440 --> 00:22:13,389
really hard to parse and that's what you

592
00:22:13,389 --> 00:22:15,129
get when you write a UI in two days

593
00:22:15,129 --> 00:22:18,429
but the question is is this useful

594
00:22:18,429 --> 00:22:19,749
because if it is we can do better than

595
00:22:19,749 --> 00:22:22,029
this at the moment what we're doing here

596
00:22:22,029 --> 00:22:24,399
is we are calling what you saw me do on

597
00:22:24,399 --> 00:22:26,739
the command line and parsing the output

598
00:22:26,739 --> 00:22:30,369
which is really bad really cheap really

599
00:22:30,369 --> 00:22:32,259
nasty and we can do much better this has

600
00:22:32,259 --> 00:22:34,210
a JSON output mode and it can be called

601
00:22:34,210 --> 00:22:36,369
from a ruby API as well so I can embed

602
00:22:36,369 --> 00:22:38,109
this in the smart proxy and I can

603
00:22:38,109 --> 00:22:39,909
probably build a UI way you can dismiss

604
00:22:39,909 --> 00:22:42,159
parts of the diff as you work through it

605
00:22:42,159 --> 00:22:43,539
you say this is not interesting this is

606
00:22:43,539 --> 00:22:45,269
not interesting this is not interesting

607
00:22:45,269 --> 00:22:47,349
okay that I'm worried about that I'm

608
00:22:47,349 --> 00:22:48,820
worried about you know work through it

609
00:22:48,820 --> 00:22:50,080
and a bit I guess it's a bit like a

610
00:22:50,080 --> 00:22:51,220
github review or something like that

611
00:22:51,220 --> 00:22:53,259
right and that wouldn't be in a modal

612
00:22:53,259 --> 00:22:54,789
either like this kind of thing would go

613
00:22:54,789 --> 00:22:56,470
to a separate page and you know we can

614
00:22:56,470 --> 00:22:57,609
we can figure out those details if

615
00:22:57,609 --> 00:22:59,190
that's things knowing people interested

616
00:22:59,190 --> 00:23:03,159
so I guess we have plenty of time I can

617
00:23:03,159 --> 00:23:04,479
hack around on this module do people

618
00:23:04,479 --> 00:23:06,309
want to see maybe another example these

619
00:23:06,309 --> 00:23:07,840
those are the two examples I prepared is

620
00:23:07,840 --> 00:23:09,639
there something about this diff style

621
00:23:09,639 --> 00:23:11,049
stuff that people would like me to try

622
00:23:11,049 --> 00:23:13,408
and show

623
00:23:19,910 --> 00:23:23,580
right exactly and yeah I don't know if

624
00:23:23,580 --> 00:23:24,750
that's possible because of how you

625
00:23:24,750 --> 00:23:27,090
calculate a catalogue I guess you could

626
00:23:27,090 --> 00:23:28,830
probably parse the output right but so

627
00:23:28,830 --> 00:23:30,840
we've got we've got things like this

628
00:23:30,840 --> 00:23:32,490
here right so I guess you could probably

629
00:23:32,490 --> 00:23:35,010
group it by that those entities that

630
00:23:35,010 --> 00:23:36,990
might work but I can't do it I can't

631
00:23:36,990 --> 00:23:38,310
show that right now because I was just

632
00:23:38,310 --> 00:23:43,320
changing how we parse the output I don't

633
00:23:43,320 --> 00:23:44,460
think there's a switch for that or not

634
00:23:44,460 --> 00:23:46,230
to catalogue that I'll do just to just

635
00:23:46,230 --> 00:23:48,120
to show you this socially so if you've

636
00:23:48,120 --> 00:23:49,470
not seen up to catalogued if this is

637
00:23:49,470 --> 00:23:52,920
their example here and the full screen

638
00:23:52,920 --> 00:23:55,290
there so you can see this is a slightly

639
00:23:55,290 --> 00:23:56,490
better example I might as well show you

640
00:23:56,490 --> 00:24:00,600
this since we have time so that's an

641
00:24:00,600 --> 00:24:02,940
exact that's gone away some changes of

642
00:24:02,940 --> 00:24:04,130
parameters here in this file system

643
00:24:04,130 --> 00:24:07,440
change of devices change of file system

644
00:24:07,440 --> 00:24:08,790
so this is the sort of thing to watch

645
00:24:08,790 --> 00:24:11,070
out for if your providers change and so

646
00:24:11,070 --> 00:24:14,820
on and so forth so it's it should cover

647
00:24:14,820 --> 00:24:16,380
everything you can put in your puppet

648
00:24:16,380 --> 00:24:19,350
code itself including things like the

649
00:24:19,350 --> 00:24:21,480
fines and so on it's just just just be

650
00:24:21,480 --> 00:24:25,110
really careful with providers okay so

651
00:24:25,110 --> 00:24:27,360
that's that so what are the pros and the

652
00:24:27,360 --> 00:24:30,510
cons here this is still low it's still

653
00:24:30,510 --> 00:24:31,860
putting load on the puppet server one of

654
00:24:31,860 --> 00:24:33,300
the goals of up to catalogue differs

655
00:24:33,300 --> 00:24:34,830
that you run it locally and we're not

656
00:24:34,830 --> 00:24:38,160
doing that anymore so no maybe we don't

657
00:24:38,160 --> 00:24:39,480
want to use doctor catalog def maybe we

658
00:24:39,480 --> 00:24:40,770
go to one of the ones that implements it

659
00:24:40,770 --> 00:24:42,180
as a puppet face or something like that

660
00:24:42,180 --> 00:24:43,800
how we call an underlying tool is

661
00:24:43,800 --> 00:24:47,570
obviously up for debate it's better than

662
00:24:47,570 --> 00:24:50,250
doing it locally on your laptop in the

663
00:24:50,250 --> 00:24:51,840
case of facts data because we can

664
00:24:51,840 --> 00:24:53,640
continually use that cache data that's

665
00:24:53,640 --> 00:24:54,840
coming into the puppet server all the

666
00:24:54,840 --> 00:24:56,640
time so you should always be up to date

667
00:24:56,640 --> 00:24:58,320
and if we're worried about that we can

668
00:24:58,320 --> 00:25:02,340
always provide fact data to the octave

669
00:25:02,340 --> 00:25:04,320
catalog called from the Foreman database

670
00:25:04,320 --> 00:25:05,730
if we want to because we have it there

671
00:25:05,730 --> 00:25:08,910
as well so one potential use case might

672
00:25:08,910 --> 00:25:11,160
be to offer an editor or something so

673
00:25:11,160 --> 00:25:12,690
you can change the fact data before we

674
00:25:12,690 --> 00:25:14,580
send every things like that so that's

675
00:25:14,580 --> 00:25:17,850
that's potential work for later

676
00:25:17,850 --> 00:25:19,890
it's particularly good if people don't

677
00:25:19,890 --> 00:25:22,950
have access to the code itself and not

678
00:25:22,950 --> 00:25:24,510
everybody does but they can go and look

679
00:25:24,510 --> 00:25:26,400
at the UI and do a review and you can

680
00:25:26,400 --> 00:25:27,540
say just hey can you just diff these two

681
00:25:27,540 --> 00:25:28,770
environments and see if it looks same to

682
00:25:28,770 --> 00:25:29,330
me

683
00:25:29,330 --> 00:25:31,370
- you rather so that's you know it's

684
00:25:31,370 --> 00:25:33,110
it's an education but it's useful and

685
00:25:33,110 --> 00:25:34,370
it's just generally good for it for

686
00:25:34,370 --> 00:25:36,520
verifying things and for quick-and-dirty

687
00:25:36,520 --> 00:25:41,600
kind of what's changed within a UI so

688
00:25:41,600 --> 00:25:43,430
roadmap I guess the big question I want

689
00:25:43,430 --> 00:25:46,130
to hear from people is is this useful is

690
00:25:46,130 --> 00:25:48,350
this a tool right I mean hopefully if

691
00:25:48,350 --> 00:25:50,300
you like catalog discs or play with octo

692
00:25:50,300 --> 00:25:53,270
catalogued if it's fabulous if you like

693
00:25:53,270 --> 00:25:54,830
Forman and you want to use form and you

694
00:25:54,830 --> 00:25:55,820
think these two things should work

695
00:25:55,820 --> 00:25:57,740
together come and tell me we have a

696
00:25:57,740 --> 00:25:59,750
booth in the K building I want to hear

697
00:25:59,750 --> 00:26:01,040
from you I want to hear your thoughts I

698
00:26:01,040 --> 00:26:02,690
mean we can have a bit of Q&A box we've

699
00:26:02,690 --> 00:26:05,390
got a lot of time so you know is it

700
00:26:05,390 --> 00:26:06,560
useful is that something people want

701
00:26:06,560 --> 00:26:08,960
there's lots we could do so one of the

702
00:26:08,960 --> 00:26:13,100
big caveats right now is the EMC data is

703
00:26:13,100 --> 00:26:16,970
the same for our both calls so for the

704
00:26:16,970 --> 00:26:18,020
production environment the development

705
00:26:18,020 --> 00:26:20,270
environment that is a problem if you

706
00:26:20,270 --> 00:26:24,950
change your class parameters so I can

707
00:26:24,950 --> 00:26:26,300
actually show that actually since we

708
00:26:26,300 --> 00:26:27,230
have plenty we have plenty of time right

709
00:26:27,230 --> 00:26:33,890
so ACC puppet labs code environments

710
00:26:33,890 --> 00:26:39,710
development modules DHCP manifests so if

711
00:26:39,710 --> 00:26:41,810
you recall in my ENC I was specifying a

712
00:26:41,810 --> 00:26:44,150
thing called interfaces if I change that

713
00:26:44,150 --> 00:26:46,820
to a point extra s on it just to break

714
00:26:46,820 --> 00:26:50,120
it so we no longer have a variable in

715
00:26:50,120 --> 00:26:51,890
the class called interfaces right if I

716
00:26:51,890 --> 00:26:53,930
specify that in my NC it will break

717
00:26:53,930 --> 00:27:01,430
horribly and you can show that one big

718
00:27:01,430 --> 00:27:04,090
crash and this is the key word here

719
00:27:04,090 --> 00:27:06,500
interfaces so it's gone away in the

720
00:27:06,500 --> 00:27:08,450
class that we're developing and now my

721
00:27:08,450 --> 00:27:09,980
NC data no longer works for the

722
00:27:09,980 --> 00:27:11,600
development environment and that means I

723
00:27:11,600 --> 00:27:13,040
can't calculate definitely one that is a

724
00:27:13,040 --> 00:27:14,600
major limitation of the current version

725
00:27:14,600 --> 00:27:16,940
of the plugin the only way I can think

726
00:27:16,940 --> 00:27:21,050
of solving that is some kind of modal so

727
00:27:21,050 --> 00:27:26,060
if you think about this page here we

728
00:27:26,060 --> 00:27:28,850
could send that through and use it but

729
00:27:28,850 --> 00:27:30,380
you could also offer it to the user and

730
00:27:30,380 --> 00:27:32,210
say what needs changing for the new

731
00:27:32,210 --> 00:27:33,950
environment I can't think of a better

732
00:27:33,950 --> 00:27:36,710
way of doing it right now there's no

733
00:27:36,710 --> 00:27:38,420
functionality in the forming UI to have

734
00:27:38,420 --> 00:27:39,530
different n seeds for different

735
00:27:39,530 --> 00:27:41,180
environments it's just that is the ENC

736
00:27:41,180 --> 00:27:42,110
for the host

737
00:27:42,110 --> 00:27:45,590
so thoughts around that would be welcome

738
00:27:45,590 --> 00:27:47,600
but an editor would be a first

739
00:27:47,600 --> 00:27:51,250
approximation as to how to solve that

740
00:27:54,070 --> 00:27:56,750
the NC itself is not in right away the

741
00:27:56,750 --> 00:27:58,549
hosted environment aware for manners

742
00:27:58,549 --> 00:27:59,779
environmental where you can obviously

743
00:27:59,779 --> 00:28:03,620
assign parameters so I could as I could

744
00:28:03,620 --> 00:28:04,909
change this host into the development

745
00:28:04,909 --> 00:28:07,429
environment and assign an e NC with the

746
00:28:07,429 --> 00:28:10,010
correct variables for the problem is for

747
00:28:10,010 --> 00:28:11,510
this plugin specifically I need to be in

748
00:28:11,510 --> 00:28:13,789
two environments at once right because I

749
00:28:13,789 --> 00:28:15,740
need to calculate it two ways and that

750
00:28:15,740 --> 00:28:20,210
that is a limitation of this now it's

751
00:28:20,210 --> 00:28:22,700
it's surmountable we can deal with it

752
00:28:22,700 --> 00:28:23,840
the question is what's the best way to

753
00:28:23,840 --> 00:28:27,080
deal with it so sorry the question by

754
00:28:27,080 --> 00:28:28,250
the way is just whether or not you know

755
00:28:28,250 --> 00:28:29,840
it was in the form itself was the

756
00:28:29,840 --> 00:28:49,789
environment aware so I believe the way

757
00:28:49,789 --> 00:28:51,889
up to catalogued if it works is you give

758
00:28:51,889 --> 00:28:53,269
it two branches and it checks the matter

759
00:28:53,269 --> 00:28:54,950
to a temp directory and calculates for

760
00:28:54,950 --> 00:28:59,510
both right exactly and that's local to

761
00:28:59,510 --> 00:29:02,720
your laptop so yeah so they use it for

762
00:29:02,720 --> 00:29:04,519
example in their CI so they can

763
00:29:04,519 --> 00:29:05,929
basically run through a whole bunch of

764
00:29:05,929 --> 00:29:08,779
tests including catalogued ifs and yeah

765
00:29:08,779 --> 00:29:14,600
it well actually yeah it basically

766
00:29:14,600 --> 00:29:16,880
changes to temp and those two check outs

767
00:29:16,880 --> 00:29:23,360
and uncovers yeah so yeah so okay so

768
00:29:23,360 --> 00:29:26,179
okay so so NC data is right now the the

769
00:29:26,179 --> 00:29:29,029
biggest limitation on the plug-in

770
00:29:29,029 --> 00:29:30,590
because if you obviously changing

771
00:29:30,590 --> 00:29:32,539
incoming parameters is a thing that

772
00:29:32,539 --> 00:29:34,159
happens quite a lot with new versions of

773
00:29:34,159 --> 00:29:36,529
modules and that that just cannot be

774
00:29:36,529 --> 00:29:38,539
handled at the moment so that'll be my

775
00:29:38,539 --> 00:29:40,450
probably my first thing to sort out

776
00:29:40,450 --> 00:29:42,529
ultimate facts I mentioned if you're

777
00:29:42,529 --> 00:29:44,690
working on custom facts or you need to

778
00:29:44,690 --> 00:29:46,279
fake something for a different

779
00:29:46,279 --> 00:29:48,470
environment then you want to way to

780
00:29:48,470 --> 00:29:52,659
provide that data the new UI

781
00:29:52,659 --> 00:29:54,999
is really I think important you saw how

782
00:29:54,999 --> 00:29:57,369
completely completely unreadable that

783
00:29:57,369 --> 00:29:59,320
diff gets once it goes more than a page

784
00:29:59,320 --> 00:30:02,159
or two so the ability to to dismiss it

785
00:30:02,159 --> 00:30:04,479
to have each section in blocks and say

786
00:30:04,479 --> 00:30:06,309
okay this is okay this is okay we

787
00:30:06,309 --> 00:30:09,220
absolutely need that and I'm not a UI

788
00:30:09,220 --> 00:30:10,809
expert but we've got plenty of people on

789
00:30:10,809 --> 00:30:12,309
the foreman team who are I'm sure we can

790
00:30:12,309 --> 00:30:15,099
solve that and then other than that I

791
00:30:15,099 --> 00:30:16,450
want to hear suggestions that these are

792
00:30:16,450 --> 00:30:17,919
the use cases I've thought of but I'm

793
00:30:17,919 --> 00:30:19,929
sure there's more if this is interesting

794
00:30:19,929 --> 00:30:22,809
you let me know you can find the code I

795
00:30:22,809 --> 00:30:24,340
did say in the in the abstract that I'll

796
00:30:24,340 --> 00:30:27,789
tell you how to install it right now I

797
00:30:27,789 --> 00:30:31,179
wouldn't is the short answer

798
00:30:31,179 --> 00:30:34,720
it's it's it's it's quite hacky and it

799
00:30:34,720 --> 00:30:36,249
needs some extra to do rules in order

800
00:30:36,249 --> 00:30:38,919
that the foreman proxy can run the ENC

801
00:30:38,919 --> 00:30:40,479
in order to get the data and things like

802
00:30:40,479 --> 00:30:44,950
that I'm gonna make the the permissions

803
00:30:44,950 --> 00:30:46,570
requirements to run it much lighter in

804
00:30:46,570 --> 00:30:48,429
the next version and then they'll be

805
00:30:48,429 --> 00:30:49,899
much easier to install and set up and

806
00:30:49,899 --> 00:30:51,190
I'll make sure that's working probably

807
00:30:51,190 --> 00:30:52,809
but if you want to play with the Alpha

808
00:30:52,809 --> 00:30:55,210
those are the URLs you'll need a

809
00:30:55,210 --> 00:30:56,830
probably a source based Foreman install

810
00:30:56,830 --> 00:30:59,859
because it's not packaged yet and as

811
00:30:59,859 --> 00:31:03,279
soon as it's sensible will package it so

812
00:31:03,279 --> 00:31:06,340
I guess that's most of the talk how much

813
00:31:06,340 --> 00:31:10,599
time we got left Walter I thought you're

814
00:31:10,599 --> 00:31:11,889
gonna say that I do apologize for going

815
00:31:11,889 --> 00:31:14,320
very quickly but yeah I'm not feeling

816
00:31:14,320 --> 00:31:16,929
super well right now so I'll finish with

817
00:31:16,929 --> 00:31:19,239
a couple of URLs for you so the the big

818
00:31:19,239 --> 00:31:21,039
blue bit is on all my slide decks if you

819
00:31:21,039 --> 00:31:22,749
don't know Foreman those are the URLs to

820
00:31:22,749 --> 00:31:25,119
work with if you do know Foreman there

821
00:31:25,119 --> 00:31:27,309
are three more important ones so the

822
00:31:27,309 --> 00:31:28,869
Community Survey is open right now if

823
00:31:28,869 --> 00:31:30,759
you use forum and come and tell us your

824
00:31:30,759 --> 00:31:35,080
experiences there are prizes there's a

825
00:31:35,080 --> 00:31:37,239
raffle specifically and if you're coming

826
00:31:37,239 --> 00:31:38,799
to conflict management camp we have a

827
00:31:38,799 --> 00:31:40,239
dinner on Tuesday night and a hack day

828
00:31:40,239 --> 00:31:42,429
on Wednesday and you are welcome at both

829
00:31:42,429 --> 00:31:43,960
provided you at least sign up for the

830
00:31:43,960 --> 00:31:45,220
dinner so I know how many people are

831
00:31:45,220 --> 00:31:50,109
coming there Smee I think so yeah

832
00:31:50,109 --> 00:31:52,649
questions

833
00:31:53,520 --> 00:32:00,720
hoarsely you know that works too that

834
00:32:00,720 --> 00:32:03,010
you did full of sleepers I'm gonna give

835
00:32:03,010 --> 00:32:04,030
you credit because that's totally what I

836
00:32:04,030 --> 00:32:09,070
want to do yes

837
00:32:09,070 --> 00:32:11,950
specifically it's being so specifically

838
00:32:11,950 --> 00:32:13,660
there are two plug-in so you install in

839
00:32:13,660 --> 00:32:15,550
the small proxy and it's the proxy on

840
00:32:15,550 --> 00:32:17,290
the puppet masters calling the execution

841
00:32:17,290 --> 00:32:20,730
so yeah it's part of it's part of that

842
00:32:20,730 --> 00:32:23,290
yeah so so basically formal is

843
00:32:23,290 --> 00:32:25,600
responsible for telling the proxy what

844
00:32:25,600 --> 00:32:28,540
environments to diff and what the host

845
00:32:28,540 --> 00:32:30,700
name is and then the proxy calls back to

846
00:32:30,700 --> 00:32:32,620
form on calling the ENC that's not ideal

847
00:32:32,620 --> 00:32:34,240
I'll probably pass the whole data stack

848
00:32:34,240 --> 00:32:36,430
down later but yeah it doesn't need to

849
00:32:36,430 --> 00:32:39,510
run within the proxy at the moment

850
00:32:43,200 --> 00:32:45,760
there's so the question is if there's a

851
00:32:45,760 --> 00:32:48,160
UI for the thought to catalog def itself

852
00:32:48,160 --> 00:32:51,370
there is oh okay what where does that

853
00:32:51,370 --> 00:32:57,280
mentioned in the website how's it in the

854
00:32:57,280 --> 00:32:59,680
camp - camp 1 ok I must have missed it I

855
00:32:59,680 --> 00:33:01,030
just don't playing with it like I said

856
00:33:01,030 --> 00:33:03,220
two months ago so and I thought it means

857
00:33:03,220 --> 00:33:04,480
full credit to github it's a fabulous

858
00:33:04,480 --> 00:33:08,020
tool so but apparently there's UI for it

859
00:33:08,020 --> 00:33:09,220
so if you're not a Foreman user you can

860
00:33:09,220 --> 00:33:15,360
still get nice UI stuff anything else

861
00:33:16,100 --> 00:33:22,340
I believe so I haven't tried that myself

862
00:33:22,340 --> 00:33:24,260
because I don't use higher all my

863
00:33:24,260 --> 00:33:28,160
stuff's in Foreman obviously but yeah so

864
00:33:28,160 --> 00:33:31,400
I guess very quickly that you can see

865
00:33:31,400 --> 00:33:33,530
here I've got a - - no higher config

866
00:33:33,530 --> 00:33:35,780
which is it I've explicitly added that

867
00:33:35,780 --> 00:33:37,550
to disable it so by default yes

868
00:33:37,550 --> 00:33:39,290
it's gonna parse that stuff and bring it

869
00:33:39,290 --> 00:33:41,379
in

870
00:33:55,380 --> 00:34:04,510
so more or less information than so the

871
00:34:04,510 --> 00:34:05,560
question is whether we're getting more

872
00:34:05,560 --> 00:34:08,050
or less information than a no op run on

873
00:34:08,050 --> 00:34:10,120
a host I would say it should be the same

874
00:34:10,120 --> 00:34:12,670
information but you don't have to commit

875
00:34:12,670 --> 00:34:14,949
it to that nodes environment first right

876
00:34:14,949 --> 00:34:18,340
that's the key I have an issue with that

877
00:34:18,340 --> 00:34:20,650
because if you move our host into a

878
00:34:20,650 --> 00:34:21,850
different environment or if you merge

879
00:34:21,850 --> 00:34:25,000
the production code both of those have

880
00:34:25,000 --> 00:34:27,370
consequences right so you don't have

881
00:34:27,370 --> 00:34:28,989
either of those sets of consequences if

882
00:34:28,989 --> 00:34:31,360
if you do it this way but it should be

883
00:34:31,360 --> 00:34:34,170
the same data yes

884
00:34:48,379 --> 00:34:50,159
that's a very good point

885
00:34:50,159 --> 00:34:51,869
actually yes missing includes might not

886
00:34:51,869 --> 00:35:06,869
show up so yeah that's true actually yes

887
00:35:06,869 --> 00:35:09,569
so is that as a limitation on catalog

888
00:35:09,569 --> 00:35:14,790
dis in general in your opinion okay I'm

889
00:35:14,790 --> 00:35:20,520
sure right yeah so sorry for the audio I

890
00:35:20,520 --> 00:35:21,900
guess yeah you could you could trigger

891
00:35:21,900 --> 00:35:23,490
service restart so I'm not gonna show up

892
00:35:23,490 --> 00:35:24,510
in the desk because they're not

893
00:35:24,510 --> 00:35:27,060
explicitly changed in the code so yeah

894
00:35:27,060 --> 00:35:29,160
that's fair but that come back I kind of

895
00:35:29,160 --> 00:35:30,660
did cover that as a caveat because it

896
00:35:30,660 --> 00:35:33,690
it's I'm picking hairs but it's covered

897
00:35:33,690 --> 00:35:35,550
by the idea that dependency ordering is

898
00:35:35,550 --> 00:35:37,470
handled by the client right so so if

899
00:35:37,470 --> 00:35:39,390
something changes that has a knock-on

900
00:35:39,390 --> 00:35:41,250
consequence the agent gets to deal with

901
00:35:41,250 --> 00:35:42,480
that and it doesn't show up in the

902
00:35:42,480 --> 00:35:45,150
catalog right so yeah but you're

903
00:35:45,150 --> 00:35:49,160
absolutely right it wouldn't cover it

904
00:35:57,240 --> 00:36:08,890
that's true you could do it that way I

905
00:36:08,890 --> 00:36:11,530
have to say I still consider moving a

906
00:36:11,530 --> 00:36:12,700
host into a different environment even

907
00:36:12,700 --> 00:36:14,710
so the first problem that is whether or

908
00:36:14,710 --> 00:36:15,970
not you're EMT is enforcing the

909
00:36:15,970 --> 00:36:17,770
environment because then it will fail

910
00:36:17,770 --> 00:36:20,080
anyway you'll say run in this

911
00:36:20,080 --> 00:36:21,910
environment at the unity and see will

912
00:36:21,910 --> 00:36:23,110
reply know you're in the production

913
00:36:23,110 --> 00:36:24,250
environment you will stay in the

914
00:36:24,250 --> 00:36:25,000
production environment

915
00:36:25,000 --> 00:36:28,120
now you can disable that of course but

916
00:36:28,120 --> 00:36:30,010
even if you do you still go back to the

917
00:36:30,010 --> 00:36:31,420
problem of saying well if I move a host

918
00:36:31,420 --> 00:36:32,560
into another environment what does that

919
00:36:32,560 --> 00:36:34,240
do to its variable data you may be

920
00:36:34,240 --> 00:36:36,280
making branching decisions based on the

921
00:36:36,280 --> 00:36:39,190
environment so but you're right I mean

922
00:36:39,190 --> 00:36:41,440
you could do it that way but it's still

923
00:36:41,440 --> 00:36:43,630
it's still no run or another another

924
00:36:43,630 --> 00:36:54,490
environment so they should I haven't

925
00:36:54,490 --> 00:36:55,990
tested so the question is whether it

926
00:36:55,990 --> 00:36:58,780
will include exported resources I again

927
00:36:58,780 --> 00:37:02,020
because I am very a long term form user

928
00:37:02,020 --> 00:37:03,910
I've long since ditched exported

929
00:37:03,910 --> 00:37:06,220
resources from my set anyway and so I

930
00:37:06,220 --> 00:37:08,470
haven't had anything to test on my gut

931
00:37:08,470 --> 00:37:10,660
feeling and maybe you can chime in as

932
00:37:10,660 --> 00:37:14,740
well is that they should if I think

933
00:37:14,740 --> 00:37:16,450
there's a puppet DB terminus in ought to

934
00:37:16,450 --> 00:37:18,310
catalog def so you can say go and get

935
00:37:18,310 --> 00:37:22,150
data from that so I'll just look if I've

936
00:37:22,150 --> 00:37:24,250
got Wi-Fi I might be able to show you

937
00:37:24,250 --> 00:37:28,630
let's have a look that up and I don't

938
00:37:28,630 --> 00:37:32,290
okay so actually I could do it here I

939
00:37:32,290 --> 00:37:33,910
guess but we're running a long time but

940
00:37:33,910 --> 00:37:39,180
I'm fairly certain that octal do

941
00:37:40,589 --> 00:37:45,250
there you go so yeah you can of options

942
00:37:45,250 --> 00:37:46,510
for setting up your connection to puppet

943
00:37:46,510 --> 00:37:48,160
DB which would then presumably also give

944
00:37:48,160 --> 00:37:55,210
you a fact data as all alright we appear

945
00:37:55,210 --> 00:37:56,920
to have exhausted the room so thank you

946
00:37:56,920 --> 00:37:57,770
very much

947
00:37:57,770 --> 00:38:06,929
[Applause]

