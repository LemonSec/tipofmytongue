1
00:00:05,120 --> 00:00:08,760
oh yeah it seems to be so yeah I

2
00:00:08,760 --> 00:00:10,139
basically wanted to kind of follow on

3
00:00:10,139 --> 00:00:12,330
from where what child's got to in terms

4
00:00:12,330 --> 00:00:14,429
of the overview of opendaylight but then

5
00:00:14,429 --> 00:00:16,800
drill down on one specific kind of

6
00:00:16,800 --> 00:00:19,590
application area which is vgp as I

7
00:00:19,590 --> 00:00:20,820
mentioned just now in the Q&A though

8
00:00:20,820 --> 00:00:22,740
it's not pure BGP so I'm using a few

9
00:00:22,740 --> 00:00:25,199
different plugins so to some extent

10
00:00:25,199 --> 00:00:26,970
trying to segue a bit to the Panda

11
00:00:26,970 --> 00:00:28,380
presentation that we've got late this

12
00:00:28,380 --> 00:00:30,420
afternoon I'm seeing where that fits in

13
00:00:30,420 --> 00:00:32,820
with all this I mean my background is

14
00:00:32,820 --> 00:00:34,260
very much in the service providers I've

15
00:00:34,260 --> 00:00:36,960
been at Cisco like six years but before

16
00:00:36,960 --> 00:00:38,520
that I generally worked at SPS

17
00:00:38,520 --> 00:00:42,870
so most recently a telecom and doing

18
00:00:42,870 --> 00:00:47,280
kind of large-scale networking my

19
00:00:47,280 --> 00:00:49,530
original you know most of my career was

20
00:00:49,530 --> 00:00:51,480
as a software developer licensee code so

21
00:00:51,480 --> 00:00:53,190
there's total kind of Sdn things been

22
00:00:53,190 --> 00:00:56,129
interesting in terms of coming back to

23
00:00:56,129 --> 00:01:00,480
coding so what BGP MP SEP is an open

24
00:01:00,480 --> 00:01:02,910
daylight and then going through three

25
00:01:02,910 --> 00:01:05,069
news cases I'm going to demo two of them

26
00:01:05,069 --> 00:01:06,930
Charles mentioned the kind of online

27
00:01:06,930 --> 00:01:08,430
sound offices and the reason for doing

28
00:01:08,430 --> 00:01:10,560
these two is I'm using online sandbox

29
00:01:10,560 --> 00:01:13,260
bits whereas for DDoS mitigation I need

30
00:01:13,260 --> 00:01:14,909
a real forwarding plane so I had to go

31
00:01:14,909 --> 00:01:20,780
into a real a real roots or somewhere so

32
00:01:20,780 --> 00:01:24,060
where if it's open day like right the

33
00:01:24,060 --> 00:01:26,250
two plugins for dealing with the BGP set

34
00:01:26,250 --> 00:01:28,439
originally BGP and opendaylight was

35
00:01:28,439 --> 00:01:31,409
written specifically for BG pls so bt

36
00:01:31,409 --> 00:01:34,200
pls is a way of getting link state

37
00:01:34,200 --> 00:01:36,240
routes out of your IGP so out of

38
00:01:36,240 --> 00:01:37,729
OSPF or i saw

39
00:01:37,729 --> 00:01:40,759
and exporting on with BGP but of course

40
00:01:40,759 --> 00:01:42,229
the nice thing with BGP is once you

41
00:01:42,229 --> 00:01:44,750
built it because you add new address

42
00:01:44,750 --> 00:01:47,329
families really just as TL these you can

43
00:01:47,329 --> 00:01:48,770
just keep adding address families and

44
00:01:48,770 --> 00:01:51,289
from from an odl perspective and i think

45
00:01:51,289 --> 00:01:52,850
i guess from any SEO and controllers

46
00:01:52,850 --> 00:01:54,200
perspective the thing to remember is

47
00:01:54,200 --> 00:01:56,780
that you know we are not a Rooter we're

48
00:01:56,780 --> 00:01:58,520
interacting through - so what a Rooter

49
00:01:58,520 --> 00:02:01,280
does with a rig where the cell roots is

50
00:02:01,280 --> 00:02:03,079
it generates a footprint that it uses to

51
00:02:03,079 --> 00:02:05,360
forward packets what opendaylight does

52
00:02:05,360 --> 00:02:06,890
with a rib typically it generates a

53
00:02:06,890 --> 00:02:09,288
topology and topologies are sort of a

54
00:02:09,288 --> 00:02:10,910
key abstraction Charles mentioned the

55
00:02:10,910 --> 00:02:13,519
model driven thing so we have a topology

56
00:02:13,519 --> 00:02:15,110
model that we implement in open daylight

57
00:02:15,110 --> 00:02:17,180
which is in the ITRs working group in

58
00:02:17,180 --> 00:02:19,280
ITF and that model can then be

59
00:02:19,280 --> 00:02:20,599
specialized for different types of

60
00:02:20,599 --> 00:02:25,880
topology so bt pls builds s in topology

61
00:02:25,880 --> 00:02:28,430
so grant for the network and then pset

62
00:02:28,430 --> 00:02:30,319
we can use to program an SPS through the

63
00:02:30,319 --> 00:02:32,720
network so and cut our Seles fees as I

64
00:02:32,720 --> 00:02:33,799
said we also have all these other

65
00:02:33,799 --> 00:02:37,730
address families so process my BGP

66
00:02:37,730 --> 00:02:39,590
routes and open it's just like in any

67
00:02:39,590 --> 00:02:42,650
writer you know for each PE building

68
00:02:42,650 --> 00:02:44,269
adjacent ribbon so that's all the routes

69
00:02:44,269 --> 00:02:46,579
this guy gave you you then apply an

70
00:02:46,579 --> 00:02:48,440
import policy now carry an open day like

71
00:02:48,440 --> 00:02:57,200
there's very limited policy ribbon I

72
00:02:57,200 --> 00:02:58,670
think there will be some work on doing

73
00:02:58,670 --> 00:03:02,180
more policy I think one thing against

74
00:03:02,180 --> 00:03:03,380
remember it's are dealing in software

75
00:03:03,380 --> 00:03:06,709
this isn't a Rita so you know we can in

76
00:03:06,709 --> 00:03:08,569
the Java code interface directly into

77
00:03:08,569 --> 00:03:09,859
any of these different components that

78
00:03:09,859 --> 00:03:10,700
we want

79
00:03:10,700 --> 00:03:12,620
we can spin up as many rooms as we want

80
00:03:12,620 --> 00:03:14,690
to we can write our own code that takes

81
00:03:14,690 --> 00:03:16,190
it up out of one room and puts into

82
00:03:16,190 --> 00:03:18,410
another so it may not make sense to do

83
00:03:18,410 --> 00:03:20,180
topology and the usual sort of Cisco

84
00:03:20,180 --> 00:03:24,980
Rooter topology case or sentence the

85
00:03:24,980 --> 00:03:26,840
decision process I don't know if anyone

86
00:03:26,840 --> 00:03:29,230
has ever worked in an internet provider

87
00:03:29,230 --> 00:03:33,350
running networks with BGP did you have

88
00:03:33,350 --> 00:03:35,420
the list by your desk - the BGP decision

89
00:03:35,420 --> 00:03:38,090
process because I was had it like glued

90
00:03:38,090 --> 00:03:39,560
up and next to my desk this kind of

91
00:03:39,560 --> 00:03:41,750
local prep first and weight or whatever

92
00:03:41,750 --> 00:03:43,790
I forgot it on output so we have that

93
00:03:43,790 --> 00:03:45,080
decision process and again that's the

94
00:03:45,080 --> 00:03:46,160
sort of thing that we might want to make

95
00:03:46,160 --> 00:03:47,600
programmable because we're an SDN

96
00:03:47,600 --> 00:03:49,459
controller maybe we should let you write

97
00:03:49,459 --> 00:03:50,930
your own decision process rather than

98
00:03:50,930 --> 00:03:53,269
enforcing one on you this is kind of a

99
00:03:53,269 --> 00:03:56,209
plea for developers at this point so

100
00:03:56,209 --> 00:03:58,850
from that we generate the local read so

101
00:03:58,850 --> 00:04:00,440
that and that is what we will then use

102
00:04:00,440 --> 00:04:02,600
to generate topology and we have one

103
00:04:02,600 --> 00:04:04,750
local rib for all of our pollinators

104
00:04:04,750 --> 00:04:07,130
then we apply again a very simple export

105
00:04:07,130 --> 00:04:08,930
policy and we generate an adjacent rib

106
00:04:08,930 --> 00:04:12,650
out for each of our peers also because

107
00:04:12,650 --> 00:04:14,180
everything is based on these yang models

108
00:04:14,180 --> 00:04:16,548
it's a data modeling language and models

109
00:04:16,548 --> 00:04:17,870
tend to either instantiate this

110
00:04:17,870 --> 00:04:21,108
configuration state or operational and

111
00:04:21,108 --> 00:04:22,460
the problem is the ribs or operational

112
00:04:22,460 --> 00:04:24,560
data so we have this crate like a

113
00:04:24,560 --> 00:04:26,240
special instance that we can configure

114
00:04:26,240 --> 00:04:28,520
so this means that through restaurant we

115
00:04:28,520 --> 00:04:30,289
can go in and we can put routes into the

116
00:04:30,289 --> 00:04:34,610
system as I mentioned before because if

117
00:04:34,610 --> 00:04:36,169
you're Tony inside the controller in

118
00:04:36,169 --> 00:04:38,030
Java there's nothing that says he

119
00:04:38,030 --> 00:04:39,800
you can write Java code that will poke

120
00:04:39,800 --> 00:04:41,690
stuff straight into one of the ribs

121
00:04:41,690 --> 00:04:43,880
whichever one you want

122
00:04:43,880 --> 00:04:46,370
so then topology is generated so in the

123
00:04:46,370 --> 00:04:48,700
bt pls case that's effectively your

124
00:04:48,700 --> 00:04:52,730
eyesight's topology but we also generate

125
00:04:52,730 --> 00:04:54,770
other topologies that the v4 and v6 ones

126
00:04:54,770 --> 00:04:56,090
which is kind of a misnomer it's a

127
00:04:56,090 --> 00:04:57,980
topology because there's no links it's

128
00:04:57,980 --> 00:04:59,720
just note which of your next house and

129
00:04:59,720 --> 00:05:00,950
then for each next stop Hollister

130
00:05:00,950 --> 00:05:03,230
prefixes and again because you can write

131
00:05:03,230 --> 00:05:05,210
these topology exporters you can develop

132
00:05:05,210 --> 00:05:06,800
really whatever topologies you want

133
00:05:06,800 --> 00:05:09,110
I keep me to get around to doing like an

134
00:05:09,110 --> 00:05:11,419
ASN topology for ISPs which show you the

135
00:05:11,419 --> 00:05:15,260
a s pass through your network so yeah

136
00:05:15,260 --> 00:05:17,570
it's a polity model so to my mind this

137
00:05:17,570 --> 00:05:18,980
is the best way of doing a network level

138
00:05:18,980 --> 00:05:21,470
abstraction and really if you're doing

139
00:05:21,470 --> 00:05:23,030
anything in Sdn in the broadest sense

140
00:05:23,030 --> 00:05:24,470
what you need is a network level

141
00:05:24,470 --> 00:05:26,680
abstraction because you're just gonna

142
00:05:26,680 --> 00:05:29,060
operate on individual notes why on earth

143
00:05:29,060 --> 00:05:31,340
tune you to controller the whole point

144
00:05:31,340 --> 00:05:32,630
is to get away from thinking about

145
00:05:32,630 --> 00:05:33,919
individual routes s to thinking about

146
00:05:33,919 --> 00:05:36,380
the network as a whole so what it is is

147
00:05:36,380 --> 00:05:37,940
just a list of nodes a list of links

148
00:05:37,940 --> 00:05:39,830
finally these things for getting towards

149
00:05:39,830 --> 00:05:41,630
our FC much a little bit of politics in

150
00:05:41,630 --> 00:05:44,360
the ITF over as well as nodes and links

151
00:05:44,360 --> 00:05:46,370
you have these termination points and

152
00:05:46,370 --> 00:05:47,840
that's just a way to some big u18

153
00:05:47,840 --> 00:05:50,030
interfaces so you know two regions have

154
00:05:50,030 --> 00:05:51,200
two loops between them you need to know

155
00:05:51,200 --> 00:05:53,630
which is which in fact all the links are

156
00:05:53,630 --> 00:05:55,669
unidirectional and that's because you

157
00:05:55,669 --> 00:05:56,840
can have different metrics in different

158
00:05:56,840 --> 00:05:59,270
directions I'm not a mathematician but

159
00:05:59,270 --> 00:06:01,790
it is just for just graph theory it also

160
00:06:01,790 --> 00:06:03,200
lets you layer ones apology on another

161
00:06:03,200 --> 00:06:04,790
so if you built an obstacle topology and

162
00:06:04,790 --> 00:06:06,410
we're doing some work on that you can

163
00:06:06,410 --> 00:06:08,120
then take an IP topology and layer it on

164
00:06:08,120 --> 00:06:10,700
top and say this IP link depends on this

165
00:06:10,700 --> 00:06:13,220
optical link which can be very useful so

166
00:06:13,220 --> 00:06:15,979
my sauna life is a service provider in

167
00:06:15,979 --> 00:06:18,020
the country that's quite long and skinny

168
00:06:18,020 --> 00:06:19,370
a problem that you have if you vast

169
00:06:19,370 --> 00:06:20,690
numbers of recent streets or links that

170
00:06:20,690 --> 00:06:22,400
end up going to the same fibers and the

171
00:06:22,400 --> 00:06:25,039
same does so now one optical link goes

172
00:06:25,039 --> 00:06:26,300
you can lose a whole bunch of research

173
00:06:26,300 --> 00:06:28,430
Orissa links it's good to at least know

174
00:06:28,430 --> 00:06:30,020
which which links depend on which

175
00:06:30,020 --> 00:06:33,878
optical links and be able to not a lot

176
00:06:34,479 --> 00:06:37,280
is very abstract so but you then do is

177
00:06:37,280 --> 00:06:39,020
you kind of specialize it but you have a

178
00:06:39,020 --> 00:06:42,169
protocol you're dealing with so for the

179
00:06:42,169 --> 00:06:44,690
link state stuff we map stuff like route

180
00:06:44,690 --> 00:06:47,419
IDs in to unload IDs on link ladies etc

181
00:06:47,419 --> 00:06:51,050
but then with like specific information

182
00:06:51,050 --> 00:06:57,080
from our protocols so program to

183
00:06:57,080 --> 00:06:58,550
whichever level works for you so if you

184
00:06:58,550 --> 00:06:59,720
just want to draw a topology of the

185
00:06:59,720 --> 00:07:01,280
network you don't need to care if this

186
00:07:01,280 --> 00:07:03,110
is open flow or the link statement is

187
00:07:03,110 --> 00:07:04,970
just as apology but if you'll start

188
00:07:04,970 --> 00:07:06,199
messing with stuff you might need to

189
00:07:06,199 --> 00:07:08,150
know well this is my piece apology we

190
00:07:08,150 --> 00:07:09,830
might even want to know it says PFR is

191
00:07:09,830 --> 00:07:12,979
is so what you end up with is this kind

192
00:07:12,979 --> 00:07:15,710
of dependency tree almost we say we have

193
00:07:15,710 --> 00:07:18,289
the network topology so the new topology

194
00:07:18,289 --> 00:07:20,090
models that open though that's moving to

195
00:07:20,090 --> 00:07:21,770
we actually separate the network which

196
00:07:21,770 --> 00:07:23,690
is just the nodes from the network

197
00:07:23,690 --> 00:07:26,120
topology which have links on it but then

198
00:07:26,120 --> 00:07:28,009
we augment map to get a layer three

199
00:07:28,009 --> 00:07:30,199
unicast apology for link state but that

200
00:07:30,199 --> 00:07:32,270
again gets augmented into our SPF for is

201
00:07:32,270 --> 00:07:35,479
is so then you'll see things that we

202
00:07:35,479 --> 00:07:36,830
tried these will end up in the unicast

203
00:07:36,830 --> 00:07:39,020
topology that things like your

204
00:07:39,020 --> 00:07:40,789
eyesight's net ID is going to end up in

205
00:07:40,789 --> 00:07:44,930
in the ICS topology and how that happens

206
00:07:44,930 --> 00:07:48,560
is we basically pull the rip through

207
00:07:48,560 --> 00:07:50,270
apology exported that pushes them into

208
00:07:50,270 --> 00:07:52,319
this topology

209
00:07:52,319 --> 00:07:54,569
and really again this is all about you

210
00:07:54,569 --> 00:07:56,339
know syntax and semantics so what you

211
00:07:56,339 --> 00:07:58,319
want from a controller is easily

212
00:07:58,319 --> 00:08:00,839
interfaces for developers talking to rip

213
00:08:00,839 --> 00:08:02,219
you've got that because you've got rest

214
00:08:02,219 --> 00:08:05,490
in JSON the problem is object you're

215
00:08:05,490 --> 00:08:07,169
looking at it still has stuff in it that

216
00:08:07,169 --> 00:08:09,689
says hey here's my local prayer here's

217
00:08:09,689 --> 00:08:12,300
my yes path whatever it is so you as a

218
00:08:12,300 --> 00:08:13,939
developer now have to understand bgp

219
00:08:13,939 --> 00:08:16,289
once you get to the topology you've got

220
00:08:16,289 --> 00:08:18,990
and semantic change as well as syntax so

221
00:08:18,990 --> 00:08:20,279
now you're actually seeing nodes and

222
00:08:20,279 --> 00:08:22,800
link that's not seeing roots and so

223
00:08:22,800 --> 00:08:24,360
generally we'll see people working with

224
00:08:24,360 --> 00:08:27,599
that so I mentioned the new state

225
00:08:27,599 --> 00:08:28,919
topology in that once the only one we

226
00:08:28,919 --> 00:08:30,689
get from BGP that actually has links in

227
00:08:30,689 --> 00:08:32,519
it but y'all know I'm going to come on

228
00:08:32,519 --> 00:08:33,839
to his piece so this is the path

229
00:08:33,839 --> 00:08:36,479
computation how how we push routines to

230
00:08:36,479 --> 00:08:38,818
help push pads into the network so

231
00:08:38,818 --> 00:08:40,198
that's the first demo which was open

232
00:08:40,198 --> 00:08:44,790
work I did sacrifice a chicken so I

233
00:08:44,790 --> 00:08:46,019
mentioned the other thing about using

234
00:08:46,019 --> 00:08:47,399
different protocols once and get

235
00:08:47,399 --> 00:08:49,680
information want to push it in so you

236
00:08:49,680 --> 00:08:51,569
can PGP us to get data out of the

237
00:08:51,569 --> 00:08:53,370
network so now we know what our

238
00:08:53,370 --> 00:08:56,149
eyesight's are OSPF topology looks like

239
00:08:56,149 --> 00:08:58,920
Emily's piece set it's a program in

240
00:08:58,920 --> 00:09:00,240
person over switch parts into the

241
00:09:00,240 --> 00:09:08,790
network so running here oops away let's

242
00:09:08,790 --> 00:09:11,220
realize that what I've got running here

243
00:09:11,220 --> 00:09:15,569
is the bun to VM that's got it's also

244
00:09:15,569 --> 00:09:17,760
got this application called path - are

245
00:09:17,760 --> 00:09:20,339
we the stuffs up on github or so I can I

246
00:09:20,339 --> 00:09:24,420
can point you with that better find the

247
00:09:24,420 --> 00:09:29,899
right browser window okay

248
00:09:31,560 --> 00:09:35,100
this will of course be the problem with

249
00:09:35,100 --> 00:09:39,460
changing resolutions so what I have

250
00:09:39,460 --> 00:09:41,230
running in the sandbox in the cloud

251
00:09:41,230 --> 00:09:43,960
there's a setup with 16 different

252
00:09:43,960 --> 00:09:46,780
virtual rooters neatly mapped onto

253
00:09:46,780 --> 00:09:48,550
approximately map for the US I just

254
00:09:48,550 --> 00:09:49,870
twiddle that manually while it's waiting

255
00:09:49,870 --> 00:09:54,400
to talk and so you can actually you can

256
00:09:54,400 --> 00:09:56,200
load into these so literally from here I

257
00:09:56,200 --> 00:09:58,320
can tell MIT into those routes is Avanti

258
00:09:58,320 --> 00:10:00,850
sad is we're gonna set up a part through

259
00:10:00,850 --> 00:10:06,970
them oops that's the last my set up so

260
00:10:06,970 --> 00:10:09,850
let's pick I don't know let's take the

261
00:10:09,850 --> 00:10:12,550
cross turn where we gonna go to San Jose

262
00:10:12,550 --> 00:10:16,470
maybe so now what I do is I say well

263
00:10:16,470 --> 00:10:19,390
what's the metric I'm going to use do I

264
00:10:19,390 --> 00:10:21,580
want to use normalize your key metric

265
00:10:21,580 --> 00:10:23,470
team at trip instead of traffic

266
00:10:23,470 --> 00:10:25,270
engineering that's rep or just count

267
00:10:25,270 --> 00:10:34,390
numbers so I do my GP metric and compute

268
00:10:34,390 --> 00:10:37,120
parts so instead of Dijkstra getting a

269
00:10:37,120 --> 00:10:39,700
shortest path this is nice trip after my

270
00:10:39,700 --> 00:10:41,530
colleague Nicolas who wrote this which

271
00:10:41,530 --> 00:10:43,630
gives you every possible path so let's

272
00:10:43,630 --> 00:10:45,780
pick one that's probably fairly insane

273
00:10:45,780 --> 00:10:48,130
busting York Chicago Kansas City

274
00:10:48,130 --> 00:10:52,170
Minneapolis Seattle San Jose

275
00:10:52,410 --> 00:10:55,290
there you go it's deployed so now if I

276
00:10:55,290 --> 00:10:56,730
list my parts you can see that apart

277
00:10:56,730 --> 00:10:58,260
from the network and I can just go into

278
00:10:58,260 --> 00:11:04,890
if I want so that's the example of an

279
00:11:04,890 --> 00:11:06,210
app that's you know sitting on top of

280
00:11:06,210 --> 00:11:06,900
opendaylight

281
00:11:06,900 --> 00:11:09,890
the app itself Parthenon is written -

282
00:11:09,890 --> 00:11:12,840
but then it exposes a REST API

283
00:11:12,840 --> 00:11:15,720
northbound from the web browser it's

284
00:11:15,720 --> 00:11:18,300
using javascript there's a again it's

285
00:11:18,300 --> 00:11:19,890
open source it's like a library called

286
00:11:19,890 --> 00:11:22,020
next UI that lets you do topology maps

287
00:11:22,020 --> 00:11:25,260
and things in JavaScript and it's just

288
00:11:25,260 --> 00:11:27,420
using that to draw it out but then the

289
00:11:27,420 --> 00:11:29,880
API had things you know commands for

290
00:11:29,880 --> 00:11:31,740
pushing parts into network and that sort

291
00:11:31,740 --> 00:11:33,710
of thing so let's get rid of that one

292
00:11:33,710 --> 00:11:41,280
back to presentation right so next use

293
00:11:41,280 --> 00:11:47,670
case is so do you definition so this is

294
00:11:47,670 --> 00:11:50,430
kind of a a live issue for a lot of

295
00:11:50,430 --> 00:11:51,930
carriers and we've had you know favorite

296
00:11:51,930 --> 00:11:53,670
of interesting people using controllers

297
00:11:53,670 --> 00:11:55,950
to do this so the issue is you've got a

298
00:11:55,950 --> 00:11:58,050
network you've got some kind of DDoS

299
00:11:58,050 --> 00:12:00,150
attack the issue is you don't want to be

300
00:12:00,150 --> 00:12:02,460
going in you know you run a time

301
00:12:02,460 --> 00:12:03,630
pressure so the last thing you want to

302
00:12:03,630 --> 00:12:04,950
be doing is going in and telnet into

303
00:12:04,950 --> 00:12:06,480
each of your readers one by one without

304
00:12:06,480 --> 00:12:08,250
HCl entries or anything like that

305
00:12:08,250 --> 00:12:11,670
so what BGP now has is flowspec

306
00:12:11,670 --> 00:12:16,710
which good so beach people expect it

307
00:12:16,710 --> 00:12:23,010
effectively lets you push very much like

308
00:12:23,010 --> 00:12:25,790
open flow which like a flow match action

309
00:12:25,790 --> 00:12:27,750
network but you're doing it through the

310
00:12:27,750 --> 00:12:30,090
BGP infrastructure so now you've got the

311
00:12:30,090 --> 00:12:32,580
use of the route reflectors so I can

312
00:12:32,580 --> 00:12:35,430
push it from front of controller and in

313
00:12:35,430 --> 00:12:36,720
for example every edge route for my

314
00:12:36,720 --> 00:12:38,580
network if it's configured to import

315
00:12:38,580 --> 00:12:40,200
that community that I advertise these

316
00:12:40,200 --> 00:12:42,420
routes with that will import that same

317
00:12:42,420 --> 00:12:44,550
rule instead of having keys open flow

318
00:12:44,550 --> 00:12:45,770
and touch each one of them individually

319
00:12:45,770 --> 00:12:48,510
when I touch them all in one go through

320
00:12:48,510 --> 00:12:50,660
bgp

321
00:12:52,199 --> 00:12:56,709
so the question then is how do you how

322
00:12:56,709 --> 00:12:57,850
you figure out where there's a DDoS

323
00:12:57,850 --> 00:13:01,269
attack going on and I think this is one

324
00:13:01,269 --> 00:13:02,589
of the big trends we're seeing that one

325
00:13:02,589 --> 00:13:04,089
I think child still alluded to it the

326
00:13:04,089 --> 00:13:07,029
tissue of the amount of data that's

327
00:13:07,029 --> 00:13:09,220
coming out of the network so many old

328
00:13:09,220 --> 00:13:12,040
days these two-pole things with SNMP the

329
00:13:12,040 --> 00:13:13,779
challenge there is you just can't get

330
00:13:13,779 --> 00:13:15,189
the data out quickly enough so what you

331
00:13:15,189 --> 00:13:16,660
need to do what you're ready anyone

332
00:13:16,660 --> 00:13:17,800
students have some kind of string

333
00:13:17,800 --> 00:13:19,300
planetary coming off the network

334
00:13:19,300 --> 00:13:21,790
we're either events or time series data

335
00:13:21,790 --> 00:13:24,129
counters I've been pushed through a

336
00:13:24,129 --> 00:13:27,129
collection infrastructure and then what

337
00:13:27,129 --> 00:13:28,720
you typically do is put a message bus on

338
00:13:28,720 --> 00:13:30,550
the back of this and then from that

339
00:13:30,550 --> 00:13:31,899
message bus you can feed multiple

340
00:13:31,899 --> 00:13:33,399
applications and one of the applications

341
00:13:33,399 --> 00:13:35,290
that we typically feed is panda which

342
00:13:35,290 --> 00:13:36,850
there's two comes after noon so this is

343
00:13:36,850 --> 00:13:39,670
a platform for network data analytics so

344
00:13:39,670 --> 00:13:46,779
great the problem is what we then do

345
00:13:46,779 --> 00:13:49,839
about it so that's where I would say the

346
00:13:49,839 --> 00:13:51,189
controller can come in so you can build

347
00:13:51,189 --> 00:13:53,439
an API on top of the controller which is

348
00:13:53,439 --> 00:13:55,839
now intent-based and says okay I'm

349
00:13:55,839 --> 00:13:58,059
getting a DDoS attack from such-and-such

350
00:13:58,059 --> 00:13:59,980
an address on such-and-such a port shut

351
00:13:59,980 --> 00:14:04,029
it down yeah making that cool doesn't

352
00:14:04,029 --> 00:14:06,160
need to know what that involves what it

353
00:14:06,160 --> 00:14:07,120
would involve in this case is

354
00:14:07,120 --> 00:14:10,300
opendaylight using bgp flows better to

355
00:14:10,300 --> 00:14:12,220
push a flow rule infant work to drop

356
00:14:12,220 --> 00:14:18,429
those packets just to get the place back

357
00:14:18,429 --> 00:14:20,529
over PC yeah very much like open flow

358
00:14:20,529 --> 00:14:23,589
but using BGP but it lacks because it's

359
00:14:23,589 --> 00:14:26,230
my pee centric it's all there to stuff

360
00:14:26,230 --> 00:14:28,569
so you can't match MAC addresses because

361
00:14:28,569 --> 00:14:30,699
that's kind of meaningless if you're in

362
00:14:30,699 --> 00:14:32,980
an IP world so having said that opened a

363
00:14:32,980 --> 00:14:35,019
lot does now support the evpn address

364
00:14:35,019 --> 00:14:35,920
family for

365
00:14:35,920 --> 00:14:38,950
BGP which is about making dresses so

366
00:14:38,950 --> 00:14:40,540
perhaps we should wines the ITF that

367
00:14:40,540 --> 00:14:44,290
they will to put those inflows back and

368
00:14:44,290 --> 00:14:45,730
so in terms of actually blocking it what

369
00:14:45,730 --> 00:14:47,320
we would do is use advertise that flow

370
00:14:47,320 --> 00:14:50,440
specter eat so you have this restaurant

371
00:14:50,440 --> 00:14:52,560
API that says okay to shut this down

372
00:14:52,560 --> 00:14:54,760
some kind of app inside open daylight

373
00:14:54,760 --> 00:14:57,070
the PHP plugin with advertise the

374
00:14:57,070 --> 00:14:59,860
flowspec weeks the reflectors push it

375
00:14:59,860 --> 00:15:04,240
out to your peas I have got a demo for

376
00:15:04,240 --> 00:15:06,430
somewhere with other sites it uses real

377
00:15:06,430 --> 00:15:11,140
Reuters rather than the sandbox so the

378
00:15:11,140 --> 00:15:13,300
final demo I want to quickly show how to

379
00:15:13,300 --> 00:15:17,079
do through these slides I expect so see

380
00:15:17,079 --> 00:15:18,820
the a localization so this what this

381
00:15:18,820 --> 00:15:30,130
comes down to is we need specifically

382
00:15:30,130 --> 00:15:31,300
how to use it for this but the nice

383
00:15:31,300 --> 00:15:33,160
thing PNP is that instead of is

384
00:15:33,160 --> 00:15:34,660
basically like be Shapiro everyone hears

385
00:15:34,660 --> 00:15:37,690
heard of PNP there's a few so it's right

386
00:15:37,690 --> 00:15:39,190
beside me GP but the difference is that

387
00:15:39,190 --> 00:15:41,560
instead of just getting the local ribbon

388
00:15:41,560 --> 00:15:43,329
trees from your fear you get everything

389
00:15:43,329 --> 00:15:44,860
your peer knows about so all of that

390
00:15:44,860 --> 00:15:46,600
adjacent ribbon and effective ribbon I

391
00:15:46,600 --> 00:15:48,130
mentioned earlier you get all of that

392
00:15:48,130 --> 00:15:50,079
data from your peer it can be very handy

393
00:15:50,079 --> 00:15:51,640
at exchange points because you want to

394
00:15:51,640 --> 00:15:52,990
know what all of your peers of advertise

395
00:15:52,990 --> 00:15:54,880
to you but each one a root reflects R it

396
00:15:54,880 --> 00:15:55,899
can be really useful because then you

397
00:15:55,899 --> 00:15:57,399
get to see everything that reflects and

398
00:15:57,399 --> 00:15:59,290
knows about not just the best routes its

399
00:15:59,290 --> 00:16:03,370
selected so the promo Tron address here

400
00:16:03,370 --> 00:16:07,450
is over top video so I think the US I

401
00:16:07,450 --> 00:16:08,980
hear these stats something around a

402
00:16:08,980 --> 00:16:11,330
third of all traffic is Netflix 4:30

403
00:16:11,330 --> 00:16:13,640
ITT's and the third is regular incent

404
00:16:13,640 --> 00:16:15,620
use I know in other countries it's

405
00:16:15,620 --> 00:16:17,930
different I here and in India it's like

406
00:16:17,930 --> 00:16:20,240
over 50% Google this sort of thing since

407
00:16:20,240 --> 00:16:21,830
very very high volumes of this traffic

408
00:16:21,830 --> 00:16:23,330
and of course that what you're all

409
00:16:23,330 --> 00:16:25,010
trying to do is nice P is cut the cost

410
00:16:25,010 --> 00:16:27,140
so what you want to do have caches as

411
00:16:27,140 --> 00:16:29,899
close to your users as possible the opt

412
00:16:29,899 --> 00:16:31,459
providers are generally pretty happy to

413
00:16:31,459 --> 00:16:33,080
give you caches to push out into your

414
00:16:33,080 --> 00:16:34,339
network and you can go on any of their

415
00:16:34,339 --> 00:16:36,080
website and explain the process you have

416
00:16:36,080 --> 00:16:38,690
to follow the challenge is how do you

417
00:16:38,690 --> 00:16:41,120
figure out which is the right cache use

418
00:16:41,120 --> 00:16:45,260
for a specific user so typically these

419
00:16:45,260 --> 00:16:46,880
these providers connect happens and

420
00:16:46,880 --> 00:16:48,910
exchanges further to say that they also

421
00:16:48,910 --> 00:16:51,050
deployed caches thing device fee

422
00:16:51,050 --> 00:16:53,240
networks quick confession this deck

423
00:16:53,240 --> 00:16:54,529
doesn't happen in the reading list I

424
00:16:54,529 --> 00:16:57,500
should add to that really comes down to

425
00:16:57,500 --> 00:16:59,029
two different problems so the first one

426
00:16:59,029 --> 00:17:00,980
is how do you know which prefix are

427
00:17:00,980 --> 00:17:02,300
users on which actually is about

428
00:17:02,300 --> 00:17:03,950
tributing think about it with DNS

429
00:17:03,950 --> 00:17:06,859
because DNS servers cache you do a

430
00:17:06,859 --> 00:17:08,689
lookup you don't actually know as the

431
00:17:08,689 --> 00:17:13,130
authoritative server because people only

432
00:17:13,130 --> 00:17:15,349
come once you don't know whom he's

433
00:17:15,349 --> 00:17:17,990
asking for that address you just know

434
00:17:17,990 --> 00:17:20,000
it's their resolver so having that be

435
00:17:20,000 --> 00:17:21,800
use it to a prefix and then having done

436
00:17:21,800 --> 00:17:23,030
that how do you figure out the right

437
00:17:23,030 --> 00:17:24,980
cache and that's effectively what we're

438
00:17:24,980 --> 00:17:26,780
trying to solve here in terms of mapping

439
00:17:26,780 --> 00:17:30,350
users to prefixes Netflix do it portal

440
00:17:30,350 --> 00:17:33,880
and I presented on this sitcom last year

441
00:17:33,880 --> 00:17:36,890
we'll be employable now about using DNS

442
00:17:36,890 --> 00:17:38,960
client subnet where basically what you

443
00:17:38,960 --> 00:17:42,250
do is with a slash one 21/25 granularity

444
00:17:42,250 --> 00:17:44,330
every time a user in a different slash

445
00:17:44,330 --> 00:17:46,910
25 asked for something you actually send

446
00:17:46,910 --> 00:17:48,710
it to the authoritative server again and

447
00:17:48,710 --> 00:17:50,270
you tag it with this client subnet to

448
00:17:50,270 --> 00:17:53,140
say this users coming from this prefix

449
00:17:53,140 --> 00:17:55,840
but it tells the second problem you know

450
00:17:55,840 --> 00:17:57,130
really comes down to why the bgp

451
00:17:57,130 --> 00:17:59,260
communities or meds this is my

452
00:17:59,260 --> 00:18:00,970
understanding of what the topo TT's do

453
00:18:00,970 --> 00:18:05,710
it may or may not be correct but the

454
00:18:05,710 --> 00:18:07,150
issue is if you're an isp and you have

455
00:18:07,150 --> 00:18:09,370
this kind of structure in your network

456
00:18:09,370 --> 00:18:10,840
and you're probably going to be tagging

457
00:18:10,840 --> 00:18:14,500
your different exchanges or as

458
00:18:14,500 --> 00:18:16,450
Christopher said central offices we're

459
00:18:16,450 --> 00:18:17,740
gonna be tagging those with communities

460
00:18:17,740 --> 00:18:19,150
we're gonna have a hierarchy so your

461
00:18:19,150 --> 00:18:20,620
pool nodes are gonna be tagged one way

462
00:18:20,620 --> 00:18:22,210
and your metros another and the end

463
00:18:22,210 --> 00:18:23,200
exchange is another way

464
00:18:23,200 --> 00:18:25,510
and so you'll tag your routes for these

465
00:18:25,510 --> 00:18:27,730
communities but the question is one of

466
00:18:27,730 --> 00:18:29,200
those needs the CDN provider because

467
00:18:29,200 --> 00:18:30,370
they have their own structure of

468
00:18:30,370 --> 00:18:32,560
communities typically so what we want to

469
00:18:32,560 --> 00:18:34,540
do is do some kind of mapping from one

470
00:18:34,540 --> 00:18:36,790
to the other by this sort of applying

471
00:18:36,790 --> 00:18:37,990
and we might even have to do it real

472
00:18:37,990 --> 00:18:39,490
time so we might even want to say we

473
00:18:39,490 --> 00:18:41,770
have this link state topology we can use

474
00:18:41,770 --> 00:18:44,110
that to give you information on our

475
00:18:44,110 --> 00:18:46,480
topology as the ISP and do sort of

476
00:18:46,480 --> 00:18:48,880
real-time changes to the overtop

477
00:18:48,880 --> 00:18:51,520
provider the way we can figure this is

478
00:18:51,520 --> 00:18:53,080
using this young model so I mentioned

479
00:18:53,080 --> 00:18:55,750
young so open daylight route of

480
00:18:55,750 --> 00:18:58,300
platforms like Cisco IOS X are typically

481
00:18:58,300 --> 00:19:00,250
have their own native young models what

482
00:19:00,250 --> 00:19:01,870
we're seeing now is a migration towards

483
00:19:01,870 --> 00:19:05,530
common models so both XR and odl had

484
00:19:05,530 --> 00:19:07,300
been polluted the open configure model I

485
00:19:07,300 --> 00:19:08,980
think juniper may have done it as well

486
00:19:08,980 --> 00:19:11,320
so getting to a world finally where we

487
00:19:11,320 --> 00:19:13,330
have common shared models so that's how

488
00:19:13,330 --> 00:19:15,060
we configure the mapping

489
00:19:15,060 --> 00:19:17,460
and so you can figure the mapping rules

490
00:19:17,460 --> 00:19:21,210
using the restaurant API there's a

491
00:19:21,210 --> 00:19:23,640
mapping application inside odl the roots

492
00:19:23,640 --> 00:19:26,220
come in for reflexive you can BMP they

493
00:19:26,220 --> 00:19:28,050
flow into the mapping application they

494
00:19:28,050 --> 00:19:31,620
also via flow out into panda if you want

495
00:19:31,620 --> 00:19:34,020
to analytics on them and then from the

496
00:19:34,020 --> 00:19:36,690
mapping application we push into the

497
00:19:36,690 --> 00:19:38,850
ribs one rib for each of the different

498
00:19:38,850 --> 00:19:40,350
CDN providers because they can have

499
00:19:40,350 --> 00:19:42,780
different rules and then the reads fly

500
00:19:42,780 --> 00:19:45,390
out to them so that's the final demo

501
00:19:45,390 --> 00:19:51,930
I'll just quickly show it so I have to

502
00:19:51,930 --> 00:19:54,620
tell it back in

503
00:19:55,610 --> 00:19:57,600
you can probably guess my username

504
00:19:57,600 --> 00:20:05,850
password on this looks yeah what we have

505
00:20:05,850 --> 00:20:11,129
here is a slash 25 that we tagged so

506
00:20:11,129 --> 00:20:13,970
we've tagged it with community six 504

507
00:20:13,970 --> 00:20:17,159
6500 and so what's happening then is

508
00:20:17,159 --> 00:20:18,779
this is flowing through a reflector

509
00:20:18,779 --> 00:20:20,489
which I'm not logged into into

510
00:20:20,489 --> 00:20:22,739
opendaylight the app and open daylight

511
00:20:22,739 --> 00:20:25,110
is changing the communities and if we

512
00:20:25,110 --> 00:20:29,238
look at the route as it comes out again

513
00:20:29,690 --> 00:20:32,600
it was zero zero wasn't it

514
00:20:32,600 --> 00:20:34,649
you can see the community is now being

515
00:20:34,649 --> 00:20:37,710
changed to so the AES has changed of

516
00:20:37,710 --> 00:20:39,690
course but the actual semantics on the

517
00:20:39,690 --> 00:20:41,460
community of change from whatever it was

518
00:20:41,460 --> 00:20:43,470
60 500 to 1000 and we could do that

519
00:20:43,470 --> 00:20:47,129
across any sort of string of prefixes we

520
00:20:47,129 --> 00:20:48,450
wanted and what you would find is about

521
00:20:48,450 --> 00:20:50,549
if I had more prefixes here if I don't

522
00:20:50,549 --> 00:20:51,749
tag them with the right community that

523
00:20:51,749 --> 00:20:53,249
won't even make it through so that is

524
00:20:53,249 --> 00:20:58,200
show what's is annoying how to add the

525
00:20:58,200 --> 00:21:00,649
routing

526
00:21:11,130 --> 00:21:14,930
that's a good 2.0

527
00:21:23,429 --> 00:21:32,940
I should be doing with this three that

528
00:21:32,940 --> 00:21:36,049
can't for no DL really

529
00:21:37,779 --> 00:21:41,309
what the 2.0 wasn't it

530
00:21:45,320 --> 00:21:49,300
really fusion each other's life

531
00:21:53,490 --> 00:21:56,080
yeah that won't be there hopefully oh um

532
00:21:56,080 --> 00:21:59,940
will perhaps it isn't might take a while

533
00:21:59,940 --> 00:22:04,350
trust me still live demo and screw it up

534
00:22:05,779 --> 00:22:07,669
well we'll give it a few minutes in

535
00:22:07,669 --> 00:22:13,630
Altona and that was very foolish of me

536
00:22:13,980 --> 00:22:15,840
I'm at kilt I killed the controller

537
00:22:15,840 --> 00:22:18,809
without looking yeah I think that was

538
00:22:18,809 --> 00:22:19,529
pretty much it

539
00:22:19,529 --> 00:22:26,159
the yeah let's say it's just you know

540
00:22:26,159 --> 00:22:28,940
most this stuff's up there on github so

541
00:22:28,940 --> 00:22:32,100
I've got a get set up for this open

542
00:22:32,100 --> 00:22:36,240
daylight set up which includes the

543
00:22:36,240 --> 00:22:37,590
strips you need to get IDL up and

544
00:22:37,590 --> 00:22:39,649
running with neck RPG peace etc

545
00:22:39,649 --> 00:22:42,690
including it's like a vagrant box in

546
00:22:42,690 --> 00:22:43,649
there so if you want to do it with

547
00:22:43,649 --> 00:22:47,070
vagrant rather than just doing it then

548
00:22:47,070 --> 00:22:48,929
the path - I think the app I mentioned

549
00:22:48,929 --> 00:22:51,480
that I showed there's also a bunch of

550
00:22:51,480 --> 00:22:53,730
videos out there these are ones I did at

551
00:22:53,730 --> 00:22:56,669
the IDL summit last year running demos

552
00:22:56,669 --> 00:22:57,929
that actually work and that sort of

553
00:22:57,929 --> 00:23:02,990
thing so yeah any questions

554
00:23:04,620 --> 00:23:08,200
sorry probably not yeah like I can put

555
00:23:08,200 --> 00:23:12,750
them there it's made it

556
00:23:13,240 --> 00:23:17,869
[Applause]

557
00:23:19,179 --> 00:23:22,919
I'll make sure this likes to up online

558
00:23:27,179 --> 00:23:30,809
any other questions

