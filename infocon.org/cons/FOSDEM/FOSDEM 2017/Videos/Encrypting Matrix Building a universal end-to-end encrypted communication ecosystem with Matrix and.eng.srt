1
00:00:07,170 --> 00:00:11,889
hello all welcome to Austin welcome to

2
00:00:11,889 --> 00:00:15,280
an encrypted matrix talk by Matthew Fox

3
00:00:15,280 --> 00:00:18,849
son so Matthew is a technical co-founder

4
00:00:18,849 --> 00:00:24,369
of matrix wrote of of matrix is a wipe

5
00:00:24,369 --> 00:00:28,419
and IP messaging solution Matthew has

6
00:00:28,419 --> 00:00:30,970
been building IP solutions for around 11

7
00:00:30,970 --> 00:00:34,960
years please welcome him to the stage

8
00:00:34,960 --> 00:00:44,470
and we can start the talk now Thank You

9
00:00:44,470 --> 00:00:47,820
provi and can everybody hear me whoa

10
00:00:47,820 --> 00:00:50,950
fantastic so welcome to the land of

11
00:00:50,950 --> 00:00:53,890
matrix everybody I'm gonna be talking

12
00:00:53,890 --> 00:00:56,020
about the epic that we've had over the

13
00:00:56,020 --> 00:00:58,060
last few years to add end-to-end

14
00:00:58,060 --> 00:01:00,550
encryption for our to love matrix but

15
00:01:00,550 --> 00:01:03,970
before I get into that I probably need

16
00:01:03,970 --> 00:01:06,310
to tell some of you what matrix is or

17
00:01:06,310 --> 00:01:09,190
what is the matrix if you prefer so just

18
00:01:09,190 --> 00:01:10,990
quick show of hands he already knows

19
00:01:10,990 --> 00:01:14,470
what matrix is well that's really really

20
00:01:14,470 --> 00:01:17,229
scary so House probably over half for

21
00:01:17,229 --> 00:01:18,990
the people here so I apologize that

22
00:01:18,990 --> 00:01:21,220
especially if you came to the talk this

23
00:01:21,220 --> 00:01:22,960
morning on reputation that there's going

24
00:01:22,960 --> 00:01:24,549
to be a little bit of overlap whilst I

25
00:01:24,549 --> 00:01:26,500
try to bring the other 40% up to speed

26
00:01:26,500 --> 00:01:29,140
I'm trying to do it quickly and also if

27
00:01:29,140 --> 00:01:30,970
anybody has any questions whilst I'm

28
00:01:30,970 --> 00:01:32,890
talking I'm quite happy to be

29
00:01:32,890 --> 00:01:34,990
interrupted so please like wave your

30
00:01:34,990 --> 00:01:37,270
hands around if you want to get

31
00:01:37,270 --> 00:01:39,340
clarification or if I'm talking too fast

32
00:01:39,340 --> 00:01:41,770
or in the wrong language or you can't

33
00:01:41,770 --> 00:01:42,909
understand what I'm saying

34
00:01:42,909 --> 00:01:47,080
so let's get on what is matrix well

35
00:01:47,080 --> 00:01:49,119
we're a nonprofit open-source project

36
00:01:49,119 --> 00:01:51,340
obviously and we're unusual in that

37
00:01:51,340 --> 00:01:53,140
we're providing an open standard here

38
00:01:53,140 --> 00:01:55,990
for defragmenting communication so in

39
00:01:55,990 --> 00:01:58,090
practice this means that we're basically

40
00:01:58,090 --> 00:02:00,130
creating a global encrypted

41
00:02:00,130 --> 00:02:02,530
communication mess and network and we

42
00:02:02,530 --> 00:02:04,540
call it a meta network because Barney

43
00:02:04,540 --> 00:02:06,070
the word Internet work has already been

44
00:02:06,070 --> 00:02:08,408
taken their bridges all of the existing

45
00:02:08,408 --> 00:02:09,549
silos together

46
00:02:09,549 --> 00:02:12,159
so by silos here we're talking about all

47
00:02:12,159 --> 00:02:14,469
of the islands which don't interoperate

48
00:02:14,469 --> 00:02:15,190
today

49
00:02:15,190 --> 00:02:17,980
so that could be our seed interoperating

50
00:02:17,980 --> 00:02:20,950
with XMPP it could be slack he'll get a

51
00:02:20,950 --> 00:02:23,170
real telegram or whatsapp or Facebook

52
00:02:23,170 --> 00:02:26,290
Messenger and I'm young I'm sure I'm

53
00:02:26,290 --> 00:02:28,300
preaching to the choir here but

54
00:02:28,300 --> 00:02:30,280
everybody must be suffering due to the

55
00:02:30,280 --> 00:02:31,990
way in which all of the different

56
00:02:31,990 --> 00:02:34,660
communities for just communication

57
00:02:34,660 --> 00:02:37,630
online are fragmented these days there

58
00:02:37,630 --> 00:02:40,450
is no equivalent of email for instant

59
00:02:40,450 --> 00:02:43,480
messaging or VoIP or even IOT kind of

60
00:02:43,480 --> 00:02:44,920
data and that is what we're trying to

61
00:02:44,920 --> 00:02:46,870
fix with matrix and the whole point is

62
00:02:46,870 --> 00:02:49,360
to liberate the communication here so

63
00:02:49,360 --> 00:02:52,120
that it is controlled by us the users

64
00:02:52,120 --> 00:02:54,070
you should not be locked into a walled

65
00:02:54,070 --> 00:02:56,860
garden or a silo which is controlled by

66
00:02:56,860 --> 00:02:59,320
any single entity for something as basic

67
00:02:59,320 --> 00:03:03,160
as your right to communicate so in terms

68
00:03:03,160 --> 00:03:04,630
of the kind of silos we're talking about

69
00:03:04,630 --> 00:03:07,690
we have things like LC or Gesser and

70
00:03:07,690 --> 00:03:09,640
slack and I'm sure especially in the

71
00:03:09,640 --> 00:03:11,140
open-source community we're very

72
00:03:11,140 --> 00:03:12,820
familiar with the fact that you have a

73
00:03:12,820 --> 00:03:15,100
perfectly good IRC channel that lasts

74
00:03:15,100 --> 00:03:17,530
for 20 years and then slack comes along

75
00:03:17,530 --> 00:03:18,910
and half of people want to go to slack

76
00:03:18,910 --> 00:03:20,530
and then half the people are on telegram

77
00:03:20,530 --> 00:03:22,180
and then people start using discord and

78
00:03:22,180 --> 00:03:23,830
the whole integrity of the thing breaks

79
00:03:23,830 --> 00:03:26,350
down well the points of matrix is to

80
00:03:26,350 --> 00:03:28,600
come in basically as the lowest common

81
00:03:28,600 --> 00:03:31,150
denominator fabric to connect them

82
00:03:31,150 --> 00:03:32,920
together so you have the bridges here

83
00:03:32,920 --> 00:03:34,150
there go and connect

84
00:03:34,150 --> 00:03:36,700
I know IRC through into the wider

85
00:03:36,700 --> 00:03:39,340
decentralized matrix network all for

86
00:03:39,340 --> 00:03:41,110
them out together or slack or any of

87
00:03:41,110 --> 00:03:43,120
these guys even though application like

88
00:03:43,120 --> 00:03:45,190
github you can go and bridge into the

89
00:03:45,190 --> 00:03:47,970
wider scheme of things via a bot or

90
00:03:47,970 --> 00:03:51,070
integration that allows you to start no

91
00:03:51,070 --> 00:03:53,400
talking to issues on github or filing

92
00:03:53,400 --> 00:03:55,630
whatever issue it might happen to be

93
00:03:55,630 --> 00:03:58,600
as if it were a chat system and inside

94
00:03:58,600 --> 00:04:01,330
matrix we have this full mesh of servers

95
00:04:01,330 --> 00:04:03,190
which participate in the conversation

96
00:04:03,190 --> 00:04:05,230
and the really sexy fun thing about

97
00:04:05,230 --> 00:04:07,720
matrix is that the conversation history

98
00:04:07,720 --> 00:04:11,800
is replicated over all those servers so

99
00:04:11,800 --> 00:04:14,380
this is like get but for communication

100
00:04:14,380 --> 00:04:17,048
there is no single chat server for any

101
00:04:17,048 --> 00:04:20,320
of these conversations so if some chap

102
00:04:20,320 --> 00:04:22,419
on IRC is talking on freenode and it's

103
00:04:22,419 --> 00:04:24,400
Bridgette into matrix talking to

104
00:04:24,400 --> 00:04:26,289
somebody natively in matrix like this

105
00:04:26,289 --> 00:04:27,139
guy or

106
00:04:27,139 --> 00:04:30,110
somebody in slack then that server that

107
00:04:30,110 --> 00:04:32,479
server and that server will all have a

108
00:04:32,479 --> 00:04:34,460
copy of the same conversation and this

109
00:04:34,460 --> 00:04:36,499
is incredibly powerful because it means

110
00:04:36,499 --> 00:04:38,840
that if any of those servers go down the

111
00:04:38,840 --> 00:04:41,029
conversation lives on so literally

112
00:04:41,029 --> 00:04:43,370
tomorrow matrix torgue with it server

113
00:04:43,370 --> 00:04:45,319
could go down but because a lot of the

114
00:04:45,319 --> 00:04:47,090
rooms have replicated over hundreds of

115
00:04:47,090 --> 00:04:48,979
other participating servers the room

116
00:04:48,979 --> 00:04:50,749
lives on we think this is pretty cool

117
00:04:50,749 --> 00:04:53,210
because it's basically impossible to

118
00:04:53,210 --> 00:04:55,729
communicate on matrix without breaking

119
00:04:55,729 --> 00:04:59,419
open a wall garden the actual acts of

120
00:04:59,419 --> 00:05:01,069
going and communicates him if anybody

121
00:05:01,069 --> 00:05:03,379
elsewhere gives them equal ownership of

122
00:05:03,379 --> 00:05:05,360
that communication it is impossible to

123
00:05:05,360 --> 00:05:10,069
horde control so nice and go party NC

124
00:05:10,069 --> 00:05:12,080
conversations and also the conversations

125
00:05:12,080 --> 00:05:13,490
are equally owned by everybody who's

126
00:05:13,490 --> 00:05:16,039
participating what can you use for this

127
00:05:16,039 --> 00:05:18,259
for well classic use case is a group

128
00:05:18,259 --> 00:05:21,020
chat WebRTC signaling for VoIP because

129
00:05:21,020 --> 00:05:22,689
I'm sure many are familiar that WebRTC

130
00:05:22,689 --> 00:05:25,069
doesn't have a standard signaling layer

131
00:05:25,069 --> 00:05:27,139
and bridging any kind of communication

132
00:05:27,139 --> 00:05:29,479
silo together it's also kind of cool

133
00:05:29,479 --> 00:05:31,969
because in the end it's really an open

134
00:05:31,969 --> 00:05:34,430
object database for any kind of

135
00:05:34,430 --> 00:05:37,039
real-time data so you can use it as a

136
00:05:37,039 --> 00:05:39,319
big open decentralized fabric where

137
00:05:39,319 --> 00:05:41,419
people can do put some data and

138
00:05:41,419 --> 00:05:43,639
somewhere else people can get them and

139
00:05:43,639 --> 00:05:46,069
that can be any data we've done MIDI /

140
00:05:46,069 --> 00:05:48,050
matrix we've done drone control we've

141
00:05:48,050 --> 00:05:50,569
put card - let me tree and really in the

142
00:05:50,569 --> 00:05:52,939
end yeah it's basically a pub sub system

143
00:05:52,939 --> 00:05:56,270
but for real-time consistent data some

144
00:05:56,270 --> 00:05:58,009
people in the audience how many people

145
00:05:58,009 --> 00:05:59,810
are thinking why are you reinventing

146
00:05:59,810 --> 00:06:01,789
XMPP one two three four five seven four

147
00:06:01,789 --> 00:06:04,270
okay well ten percent of the audience

148
00:06:04,270 --> 00:06:06,800
are having the same reaction as this

149
00:06:06,800 --> 00:06:11,360
poor cat now from our perspective we're

150
00:06:11,360 --> 00:06:15,740
not really we're not I mean the it's

151
00:06:15,740 --> 00:06:17,750
very different to XMPP and it kind of

152
00:06:17,750 --> 00:06:19,729
goes on a philosophical and a technical

153
00:06:19,729 --> 00:06:22,520
angle on the philosophical angle the

154
00:06:22,520 --> 00:06:24,259
actual spec and the governance model of

155
00:06:24,259 --> 00:06:25,789
the project is completely different

156
00:06:25,789 --> 00:06:28,550
there is one matrix back it has one

157
00:06:28,550 --> 00:06:31,520
version there are no zaps no extensions

158
00:06:31,520 --> 00:06:33,229
of course you can extend it yourself and

159
00:06:33,229 --> 00:06:34,699
you can experiment with it but the

160
00:06:34,699 --> 00:06:35,839
actual thing that people have to

161
00:06:35,839 --> 00:06:37,940
implement to be compatible is today

162
00:06:37,940 --> 00:06:39,550
matrix more point two

163
00:06:39,550 --> 00:06:40,690
if you don't implement it you're not

164
00:06:40,690 --> 00:06:43,090
talking matrix and once it seems like a

165
00:06:43,090 --> 00:06:45,190
bit of a kind of legal point it actually

166
00:06:45,190 --> 00:06:47,200
changes the philosophy enormous lis of

167
00:06:47,200 --> 00:06:49,150
the project so you have one big spec

168
00:06:49,150 --> 00:06:51,280
with all the features in it some of them

169
00:06:51,280 --> 00:06:52,990
are optional for different profiles but

170
00:06:52,990 --> 00:06:56,110
in general for the classic ones you have

171
00:06:56,110 --> 00:06:57,940
your instant messaging avoid period

172
00:06:57,940 --> 00:07:00,130
recedes your notifications and all the

173
00:07:00,130 --> 00:07:02,170
stuff that you need to communicate also

174
00:07:02,170 --> 00:07:03,640
the primitives are completely different

175
00:07:03,640 --> 00:07:06,310
so conversation history is the

176
00:07:06,310 --> 00:07:07,870
first-class citizen here we're not

177
00:07:07,870 --> 00:07:10,180
passing a message between Alice and Bob

178
00:07:10,180 --> 00:07:12,460
we are synchronizing Alice's chat

179
00:07:12,460 --> 00:07:14,890
history for this room where the server

180
00:07:14,890 --> 00:07:16,630
which then synchronizes it with all the

181
00:07:16,630 --> 00:07:19,630
other users in that room and that's just

182
00:07:19,630 --> 00:07:21,100
a huge fundamental difference that

183
00:07:21,100 --> 00:07:22,390
you're literally synchronizing

184
00:07:22,390 --> 00:07:24,040
eventually consistent history around the

185
00:07:24,040 --> 00:07:26,620
place also we have end-to-end encryption

186
00:07:26,620 --> 00:07:28,990
obey it still in beta as the first-class

187
00:07:28,990 --> 00:07:30,130
citizen through out the whole thing

188
00:07:30,130 --> 00:07:32,110
because if you are replicating data

189
00:07:32,110 --> 00:07:34,480
everywhere you obviously want to encrypt

190
00:07:34,480 --> 00:07:36,490
it so that the system ends on reading

191
00:07:36,490 --> 00:07:40,000
all your messages and we're using HTTP

192
00:07:40,000 --> 00:07:42,010
and JSON but if people are thinking wow

193
00:07:42,010 --> 00:07:44,740
this is just X and VP with JSON and HTTP

194
00:07:44,740 --> 00:07:46,770
you're missing the point completely

195
00:07:46,770 --> 00:07:50,110
because it's not just swapping XML for

196
00:07:50,110 --> 00:07:52,390
Jason at all as I said it's this is

197
00:07:52,390 --> 00:07:54,610
basically an open database think of it

198
00:07:54,610 --> 00:07:57,790
like Cassandra where anybody can spin up

199
00:07:57,790 --> 00:08:00,580
a node anywhere in the world that's the

200
00:08:00,580 --> 00:08:01,750
kind of model that we're going after

201
00:08:01,750 --> 00:08:04,270
here and obviously finally we've got a

202
00:08:04,270 --> 00:08:06,460
big focus on bridging and defragmenting

203
00:08:06,460 --> 00:08:07,780
that's why the things called matrix

204
00:08:07,780 --> 00:08:10,390
because it is matrixing together all of

205
00:08:10,390 --> 00:08:11,710
the different communities out there

206
00:08:11,710 --> 00:08:14,160
which other words contour to one another

207
00:08:14,160 --> 00:08:15,790
architecture Oliva kind of already

208
00:08:15,790 --> 00:08:18,700
touched on this you got some servers in

209
00:08:18,700 --> 00:08:20,350
the middle which store the messages you

210
00:08:20,350 --> 00:08:21,670
have clients that connect to head of

211
00:08:21,670 --> 00:08:23,830
them you have application services which

212
00:08:23,830 --> 00:08:25,780
do the fun stuff bridging and other

213
00:08:25,780 --> 00:08:28,000
things oh I've got a question good

214
00:08:28,000 --> 00:08:28,800
question

215
00:08:28,800 --> 00:08:32,190
just yell at me

216
00:08:32,230 --> 00:08:38,380
oh it's okay so it's asking all the

217
00:08:38,380 --> 00:08:40,360
messages get replicated between the

218
00:08:40,360 --> 00:08:41,590
servers yeah you were mentioning that

219
00:08:41,590 --> 00:08:42,970
the messages are replicated within the

220
00:08:42,970 --> 00:08:44,800
servers I know that it's encrypted

221
00:08:44,800 --> 00:08:47,140
end-to-end stuff is the message on each

222
00:08:47,140 --> 00:08:48,910
server encrypted on the server itself

223
00:08:48,910 --> 00:08:51,340
and is there if it is I mean if it is

224
00:08:51,340 --> 00:08:53,080
it's fine if it's not there for secrecy

225
00:08:53,080 --> 00:08:55,060
okay so there's a question about

226
00:08:55,060 --> 00:08:56,890
end-to-end and basically all of the rest

227
00:08:56,890 --> 00:08:57,970
of the talk is about end-to-end

228
00:08:57,970 --> 00:08:59,230
encryption so we'll get to it in

229
00:08:59,230 --> 00:09:01,420
excruciating detail but the quick answer

230
00:09:01,420 --> 00:09:03,520
is that in order to be end-to-end by

231
00:09:03,520 --> 00:09:05,590
definition it has to be encrypted on the

232
00:09:05,590 --> 00:09:08,110
clients not the servers at moment it

233
00:09:08,110 --> 00:09:09,640
isn't turned on by default because we're

234
00:09:09,640 --> 00:09:11,500
still in beta but when it is it will be

235
00:09:11,500 --> 00:09:16,060
there and then the actual data stored on

236
00:09:16,060 --> 00:09:17,950
the servers is obviously encrypted over

237
00:09:17,950 --> 00:09:20,590
into and okay yeah I was just worried

238
00:09:20,590 --> 00:09:22,810
that one of the nodes get compromised

239
00:09:22,810 --> 00:09:24,730
and all the all the messages can be read

240
00:09:24,730 --> 00:09:26,920
no so well actually good questions so

241
00:09:26,920 --> 00:09:29,800
forward secrecy is the big interesting

242
00:09:29,800 --> 00:09:30,910
bits of what we're done with the

243
00:09:30,910 --> 00:09:34,810
encryption and matrix in that we make it

244
00:09:34,810 --> 00:09:36,910
customizable per room so if you were

245
00:09:36,910 --> 00:09:38,710
using signal and you're optimizing for

246
00:09:38,710 --> 00:09:41,110
nothing other than privacy the idea of

247
00:09:41,110 --> 00:09:42,880
being able to replay history or new

248
00:09:42,880 --> 00:09:45,040
devices would be a disaster because what

249
00:09:45,040 --> 00:09:47,320
if that device was owned by some nasty

250
00:09:47,320 --> 00:09:49,750
person whereas if you want to configure

251
00:09:49,750 --> 00:09:52,300
a room light nice and matrix you can but

252
00:09:52,300 --> 00:09:53,740
then some rooms aren't quite that

253
00:09:53,740 --> 00:09:56,410
tinfoil hat level of security and you

254
00:09:56,410 --> 00:09:58,600
want to be able to add a new device into

255
00:09:58,600 --> 00:10:00,850
the room and so in that instance we

256
00:10:00,850 --> 00:10:03,190
allow people to select chunks of history

257
00:10:03,190 --> 00:10:05,140
that can be replayed so it's a kind of

258
00:10:05,140 --> 00:10:08,230
deliberate compromise to PFS in exchange

259
00:10:08,230 --> 00:10:13,720
for usability so matrix ecosystem as a

260
00:10:13,720 --> 00:10:13,900
whole

261
00:10:13,900 --> 00:10:15,730
very quickly the main deliverable is

262
00:10:15,730 --> 00:10:19,150
this boy here matrix spec which is RFC

263
00:10:19,150 --> 00:10:20,590
style doc that describes all of the

264
00:10:20,590 --> 00:10:22,660
api's in all of the actual functionality

265
00:10:22,660 --> 00:10:25,390
and then we have synapse which is our

266
00:10:25,390 --> 00:10:28,120
original Python home server which has

267
00:10:28,120 --> 00:10:29,950
been out there for two years now it was

268
00:10:29,950 --> 00:10:31,840
very much a proof-of-concept it has some

269
00:10:31,840 --> 00:10:34,420
major shortcomings although nowadays as

270
00:10:34,420 --> 00:10:36,550
of yesterday particularly it now has

271
00:10:36,550 --> 00:10:38,110
never been a better time to install a

272
00:10:38,110 --> 00:10:40,750
synapse which is on nor point 19 it's

273
00:10:40,750 --> 00:10:42,850
written in Python in twisted memory

274
00:10:42,850 --> 00:10:44,340
usage has got a lot better

275
00:10:44,340 --> 00:10:46,470
CPU usage has got a lot better and it's

276
00:10:46,470 --> 00:10:48,210
kind of the one home server that works

277
00:10:48,210 --> 00:10:50,130
particularly well is usable in reality

278
00:10:50,130 --> 00:10:51,960
right now dendrites is our next

279
00:10:51,960 --> 00:10:54,779
generation one recent lingo that uses a

280
00:10:54,779 --> 00:10:57,180
really interesting append only log

281
00:10:57,180 --> 00:10:58,230
architecture

282
00:10:58,230 --> 00:11:01,220
so what synapse is completely

283
00:11:01,220 --> 00:11:03,660
centralized is a kind of monolithic

284
00:11:03,660 --> 00:11:07,920
server of a big bunch of - dendrites has

285
00:11:07,920 --> 00:11:09,810
got completely horizontally scalable

286
00:11:09,810 --> 00:11:12,120
architecture where you keep on firing up

287
00:11:12,120 --> 00:11:13,860
more components and they all talk over a

288
00:11:13,860 --> 00:11:15,839
big calf kiss style event bus to scale

289
00:11:15,839 --> 00:11:18,480
up we've got basically the first

290
00:11:18,480 --> 00:11:19,980
messages going through in the last

291
00:11:19,980 --> 00:11:21,690
couple of days so it's very very early

292
00:11:21,690 --> 00:11:23,970
but that's where the future lies then

293
00:11:23,970 --> 00:11:25,650
you have bridges that connect through to

294
00:11:25,650 --> 00:11:27,480
IRC and slack and everything else and

295
00:11:27,480 --> 00:11:29,580
bots and integrations and all that good

296
00:11:29,580 --> 00:11:31,890
stuff and then the orange stuff here is

297
00:11:31,890 --> 00:11:33,660
stuff from the wider community the blue

298
00:11:33,660 --> 00:11:35,279
stuff is all provided by us the matrix

299
00:11:35,279 --> 00:11:38,400
dog team the orange stuff is provided by

300
00:11:38,400 --> 00:11:40,620
you the wider community and there are

301
00:11:40,620 --> 00:11:42,120
lots of different servers and services

302
00:11:42,120 --> 00:11:44,430
there there's rumor which is a very cool

303
00:11:44,430 --> 00:11:46,080
Russ project to go and create a matrix

304
00:11:46,080 --> 00:11:47,910
home server and there are lots of

305
00:11:47,910 --> 00:11:49,740
bridges over half of the bridges now

306
00:11:49,740 --> 00:11:52,080
come from the community and up here we

307
00:11:52,080 --> 00:11:54,210
have clients so here are the community

308
00:11:54,210 --> 00:11:55,560
clients and we have everything from

309
00:11:55,560 --> 00:11:59,070
command line to sort of native to

310
00:11:59,070 --> 00:12:02,010
web-based ones then we provide free

311
00:12:02,010 --> 00:12:04,170
stacks of JavaScript iOS and Android on

312
00:12:04,170 --> 00:12:07,190
the client side and you have the Reax

313
00:12:07,190 --> 00:12:10,080
SDK which provides kind of reusable

314
00:12:10,080 --> 00:12:12,630
react UI components you have the HTTP

315
00:12:12,630 --> 00:12:14,760
wrapper which actually exposes this guy

316
00:12:14,760 --> 00:12:18,030
as a sensible JavaScript bindings and

317
00:12:18,030 --> 00:12:19,410
then on top you have the actual

318
00:12:19,410 --> 00:12:21,390
applications and you have the ugly

319
00:12:21,390 --> 00:12:23,070
console apps which are kind of proof of

320
00:12:23,070 --> 00:12:25,050
concept wrappers around the UI

321
00:12:25,050 --> 00:12:27,120
components and then you have this gory

322
00:12:27,120 --> 00:12:29,760
riot which is a kind of flagship app

323
00:12:29,760 --> 00:12:31,440
that we've built in order to make sure

324
00:12:31,440 --> 00:12:33,060
that matrix has a really really good app

325
00:12:33,060 --> 00:12:35,520
that people can use on a daily basis and

326
00:12:35,520 --> 00:12:36,510
can kind of bootstrap the whole

327
00:12:36,510 --> 00:12:39,390
ecosystem so what do you get

328
00:12:39,390 --> 00:12:41,459
very quickly obviously conversation

329
00:12:41,459 --> 00:12:42,930
history you get a timeline data

330
00:12:42,930 --> 00:12:44,459
structure key value stores

331
00:12:44,459 --> 00:12:46,350
group messaging enter encrypt so

332
00:12:46,350 --> 00:12:49,200
obviously void signaling for WebRTC push

333
00:12:49,200 --> 00:12:51,180
notifications server-side search read

334
00:12:51,180 --> 00:12:51,839
receipts

335
00:12:51,839 --> 00:12:54,209
typing motives presence synchronize read

336
00:12:54,209 --> 00:12:56,490
state and unread counts we gather very

337
00:12:56,490 --> 00:12:57,649
very cramped

338
00:12:57,649 --> 00:12:59,389
centralized content repository where you

339
00:12:59,389 --> 00:13:01,550
do an HTTP hit to your server and it

340
00:13:01,550 --> 00:13:03,920
fans out to the others via HTTP we're

341
00:13:03,920 --> 00:13:05,899
looking at replacing that with ipfs and

342
00:13:05,899 --> 00:13:07,939
finally you can attach arbitrary account

343
00:13:07,939 --> 00:13:09,980
data for users both per user and per

344
00:13:09,980 --> 00:13:11,449
room so basically all the normal

345
00:13:11,449 --> 00:13:13,519
building blocks you need for a modern

346
00:13:13,519 --> 00:13:15,920
communication system so how does it work

347
00:13:15,920 --> 00:13:20,389
very quickly let me just change to here

348
00:13:20,389 --> 00:13:23,389
and here's the front page of matrix org

349
00:13:23,389 --> 00:13:24,740
and it's got this little animation at

350
00:13:24,740 --> 00:13:26,449
the bottom that hopefully will make a

351
00:13:26,449 --> 00:13:28,550
lot of sense if you have three servers

352
00:13:28,550 --> 00:13:30,619
and each one has a bunch of clients off

353
00:13:30,619 --> 00:13:32,329
it but here we were just showing Alice

354
00:13:32,329 --> 00:13:34,699
on Alice calm Bob and Bob calm and

355
00:13:34,699 --> 00:13:37,220
Charlie on Charlie calm if Alice sends a

356
00:13:37,220 --> 00:13:39,889
message it is just an HTTP put that

357
00:13:39,889 --> 00:13:42,079
message to Alice's server it then fans

358
00:13:42,079 --> 00:13:43,939
her or get stored in that server and it

359
00:13:43,939 --> 00:13:45,589
gets signed by that server we're not

360
00:13:45,589 --> 00:13:47,569
showing enter any end-to-end encryption

361
00:13:47,569 --> 00:13:49,459
here then it gets pushed out to the

362
00:13:49,459 --> 00:13:51,079
other two a bit more of a complicated

363
00:13:51,079 --> 00:13:53,689
HTTP POST in this instance and by the

364
00:13:53,689 --> 00:13:56,749
way HTTP is just the base line transport

365
00:13:56,749 --> 00:13:58,730
here normally half the room have already

366
00:13:58,730 --> 00:14:00,139
left at this point because they don't

367
00:14:00,139 --> 00:14:04,189
like HTTP or Y using HTTP and JSON the

368
00:14:04,189 --> 00:14:05,899
reality is that it's just the lowest

369
00:14:05,899 --> 00:14:07,699
common denominator simple thing if you

370
00:14:07,699 --> 00:14:10,009
want to do Co app if you want to do MQTT

371
00:14:10,009 --> 00:14:12,019
if you want to invent your own quick

372
00:14:12,019 --> 00:14:14,269
style whatever protocol please do and

373
00:14:14,269 --> 00:14:16,339
that's fine but it's just the HTTP one

374
00:14:16,339 --> 00:14:18,259
that we mandate that everyone has to

375
00:14:18,259 --> 00:14:21,319
speak that gets signed in those servers

376
00:14:21,319 --> 00:14:23,899
they do an HTTP GET together and you've

377
00:14:23,899 --> 00:14:25,339
got the kind of basics there that Alice

378
00:14:25,339 --> 00:14:27,589
hasn't a message to Bob and Charlie now

379
00:14:27,589 --> 00:14:29,929
if Bob responds more interesting thing

380
00:14:29,929 --> 00:14:32,029
has happened that message gets built

381
00:14:32,029 --> 00:14:34,069
into this directed acyclic graph this

382
00:14:34,069 --> 00:14:36,620
tree of messages within that room and if

383
00:14:36,620 --> 00:14:38,569
say Charlie responds at the same time we

384
00:14:38,569 --> 00:14:40,730
have a race between Bob and Charlie now

385
00:14:40,730 --> 00:14:41,809
this is kind of interesting because

386
00:14:41,809 --> 00:14:43,879
right now the state of Alice's server is

387
00:14:43,879 --> 00:14:45,589
inconsistent with Bob is inconsistent

388
00:14:45,589 --> 00:14:48,410
with Charlie however this is okay it's a

389
00:14:48,410 --> 00:14:48,769
feature

390
00:14:48,769 --> 00:14:50,299
it's an eventually consistent database

391
00:14:50,299 --> 00:14:52,670
effectively and so all that happens as

392
00:14:52,670 --> 00:14:54,619
the Bob's message is pushed out to

393
00:14:54,619 --> 00:14:56,179
Charlie at which point the graph

394
00:14:56,179 --> 00:14:58,009
bifurcates to show there was a race

395
00:14:58,009 --> 00:15:00,589
between message 2 and 3 and likewise

396
00:15:00,589 --> 00:15:02,720
message two from charlie oh sorry

397
00:15:02,720 --> 00:15:04,730
message free from Charlie calm gets

398
00:15:04,730 --> 00:15:06,110
pushed out to the other two and they

399
00:15:06,110 --> 00:15:08,560
bifurcate - at which point we were in

400
00:15:08,560 --> 00:15:10,060
again so this is the whole point of

401
00:15:10,060 --> 00:15:11,440
matrix you got a whole bunch of servers

402
00:15:11,440 --> 00:15:13,150
building up this data structure for the

403
00:15:13,150 --> 00:15:15,130
room which can be a very bushy or very

404
00:15:15,130 --> 00:15:17,200
linear graph and going and pushing and

405
00:15:17,200 --> 00:15:18,910
pulling just like get just like merging

406
00:15:18,910 --> 00:15:21,010
conflicts in the get tree between the

407
00:15:21,010 --> 00:15:23,620
different nodes now later on Alice might

408
00:15:23,620 --> 00:15:25,510
send another message and it will go and

409
00:15:25,510 --> 00:15:27,310
merge the growth back together and that

410
00:15:27,310 --> 00:15:28,750
gets pushed out to the others and hey

411
00:15:28,750 --> 00:15:30,940
presto everybody's in sync but so that's

412
00:15:30,940 --> 00:15:37,150
how matrix works so clients well we've

413
00:15:37,150 --> 00:15:38,740
got at least 40 of them out there now

414
00:15:38,740 --> 00:15:41,890
they range from we chat on text to eyes

415
00:15:41,890 --> 00:15:43,600
there's an eMac space client written by

416
00:15:43,600 --> 00:15:45,160
Ryan Rix which is really really cool

417
00:15:45,160 --> 00:15:47,470
you've got desktop apps like catonian

418
00:15:47,470 --> 00:15:49,360
which is a qml + QT app you've got

419
00:15:49,360 --> 00:15:51,640
nature - and just switch to nature I

420
00:15:51,640 --> 00:15:54,670
quickly I've got it open here so here is

421
00:15:54,670 --> 00:15:56,290
the matrix folston room on a chance

422
00:15:56,290 --> 00:15:59,740
looks a bit like X Giant you got matrix

423
00:15:59,740 --> 00:16:02,080
HQ here this is a room with like 6,000

424
00:16:02,080 --> 00:16:04,839
people in it and it's the main one I can

425
00:16:04,839 --> 00:16:07,779
say hi everyone and meanwhile if I go to

426
00:16:07,779 --> 00:16:11,080
another client might riot here you can

427
00:16:11,080 --> 00:16:13,030
see coffee is saying hi posture and say

428
00:16:13,030 --> 00:16:16,660
hi coffee and you can see evil Matthew

429
00:16:16,660 --> 00:16:18,400
which is my test user because he wears a

430
00:16:18,400 --> 00:16:20,260
suit and is evil saying hi everybody

431
00:16:20,260 --> 00:16:22,030
it's all I'm saying hello and I can go

432
00:16:22,030 --> 00:16:24,250
hello from here and because it's support

433
00:16:24,250 --> 00:16:26,980
smart down I can also yell back we can

434
00:16:26,980 --> 00:16:29,680
go and say upload an image into here erm

435
00:16:29,680 --> 00:16:32,920
there's a embarrassing photo of us doing

436
00:16:32,920 --> 00:16:35,320
the release yesterday from the stand and

437
00:16:35,320 --> 00:16:36,580
going click on there so you get the idea

438
00:16:36,580 --> 00:16:38,530
that basically riot here looks a lot

439
00:16:38,530 --> 00:16:42,339
like slack or some kind of ghetto style

440
00:16:42,339 --> 00:16:44,830
tool except everything is backed by

441
00:16:44,830 --> 00:16:47,080
matrix and also you might notice there a

442
00:16:47,080 --> 00:16:49,120
of these read receipts jumping down the

443
00:16:49,120 --> 00:16:51,190
right-hand side doing this fun Tetris

444
00:16:51,190 --> 00:16:53,620
animation where as slacks read receipts

445
00:16:53,620 --> 00:16:55,750
can anybody tell me where slacks oh wait

446
00:16:55,750 --> 00:16:57,820
it doesn't have any anyway so you get

447
00:16:57,820 --> 00:17:00,820
the idea of what we're doing there we've

448
00:17:00,820 --> 00:17:02,320
got six thousand people in this room

449
00:17:02,320 --> 00:17:04,089
it's spread over about 500 different

450
00:17:04,089 --> 00:17:07,630
servers so Eric here is at Eric J on JK

451
00:17:07,630 --> 00:17:10,959
i de re you've got I know who else is on

452
00:17:10,959 --> 00:17:12,819
their own server this guy on riot

453
00:17:12,819 --> 00:17:16,390
reticule door mi our Dax ears or nardac

454
00:17:16,390 --> 00:17:18,459
c-calm and each of these servers have

455
00:17:18,459 --> 00:17:20,770
complete control over this room so

456
00:17:20,770 --> 00:17:24,049
on this account which accounts on my own

457
00:17:24,049 --> 00:17:27,230
here this is my evil Matthew one so I'm

458
00:17:27,230 --> 00:17:29,450
only in about a hundred different rooms

459
00:17:29,450 --> 00:17:31,970
here if my old types of my real one here

460
00:17:31,970 --> 00:17:34,190
then I'm in actually about a thousand

461
00:17:34,190 --> 00:17:37,160
rooms yeah and so I got 415 direct

462
00:17:37,160 --> 00:17:38,480
messages open with different people

463
00:17:38,480 --> 00:17:40,400
there four hundred different rooms and

464
00:17:40,400 --> 00:17:42,980
some of them are IRC base another miss

465
00:17:42,980 --> 00:17:46,160
lack some of them a hybrid and from an

466
00:17:46,160 --> 00:17:47,710
example might be in something like the

467
00:17:47,710 --> 00:17:50,270
de-centralized Web Summit room which is

468
00:17:50,270 --> 00:17:52,520
split between slack in between matrix

469
00:17:52,520 --> 00:17:53,929
and about half of the people are on

470
00:17:53,929 --> 00:17:56,120
slack offered more on matrix or I might

471
00:17:56,120 --> 00:18:00,650
go to ipfs which is largely IRC and lots

472
00:18:00,650 --> 00:18:02,780
of the track getting on here is IRC but

473
00:18:02,780 --> 00:18:03,770
then you've also got a whole bunch of

474
00:18:03,770 --> 00:18:05,090
people at the top who are natively using

475
00:18:05,090 --> 00:18:09,230
it through matrix make sense I'll just

476
00:18:09,230 --> 00:18:11,510
quickly show something else which is the

477
00:18:11,510 --> 00:18:12,980
video calling as an example of the

478
00:18:12,980 --> 00:18:16,130
WebRTC certain signaling so in fact if I

479
00:18:16,130 --> 00:18:17,840
go and take one of these messages like

480
00:18:17,840 --> 00:18:20,150
that one and I say if you saw some it

481
00:18:20,150 --> 00:18:22,460
then oh and my dark theme it's not very

482
00:18:22,460 --> 00:18:23,990
legible probably but you can kind of see

483
00:18:23,990 --> 00:18:25,760
that we've got the emoji is the body of

484
00:18:25,760 --> 00:18:27,740
a message and some jason and the message

485
00:18:27,740 --> 00:18:29,450
type and what goes from these brackets

486
00:18:29,450 --> 00:18:31,070
can be anything you like

487
00:18:31,070 --> 00:18:33,679
so we specify instant messaging and void

488
00:18:33,679 --> 00:18:36,860
but it could be literally no GPS

489
00:18:36,860 --> 00:18:39,679
coordinates thermometer data car

490
00:18:39,679 --> 00:18:45,320
telemetry whatever so let's see what

491
00:18:45,320 --> 00:18:47,120
else I can do so I was going to do was

492
00:18:47,120 --> 00:18:49,400
to go and cool my test user from riot on

493
00:18:49,400 --> 00:18:53,059
iOS so rioters an app is a react app

494
00:18:53,059 --> 00:18:55,850
here it's also an iOS native app it's

495
00:18:55,850 --> 00:18:57,710
also an Android native app it's also on

496
00:18:57,710 --> 00:18:59,600
F throat without any Google dependencies

497
00:18:59,600 --> 00:19:01,520
if you so desire it should probably make

498
00:19:01,520 --> 00:19:04,340
sense for foster and I'm not going to

499
00:19:04,340 --> 00:19:05,720
screen share my phone but I'm going to

500
00:19:05,720 --> 00:19:08,690
go and tell it to do a video call free

501
00:19:08,690 --> 00:19:11,090
to evil Matthew but sure hopefully like

502
00:19:11,090 --> 00:19:13,480
all the best live demos work perfectly

503
00:19:13,480 --> 00:19:17,780
come on does assume that I have internet

504
00:19:17,780 --> 00:19:19,600
connectivity on my phone of course oh

505
00:19:19,600 --> 00:19:21,620
there we go so I got an incoming video

506
00:19:21,620 --> 00:19:24,110
call here from Matthew and I probably

507
00:19:24,110 --> 00:19:26,059
should accept to it this is now using

508
00:19:26,059 --> 00:19:28,700
web RTC here on

509
00:19:28,700 --> 00:19:36,259
let me go fullscreen it's only a video

510
00:19:36,259 --> 00:19:39,830
cool it's so this is using video this is

511
00:19:39,830 --> 00:19:41,570
using the Google web RTC obviously on

512
00:19:41,570 --> 00:19:44,509
the on Chrome here it also works on

513
00:19:44,509 --> 00:19:48,679
Firefox and meanwhile on this side it's

514
00:19:48,679 --> 00:19:50,690
also using the Google web RTC stack

515
00:19:50,690 --> 00:19:52,369
hello everybody they can wave to

516
00:19:52,369 --> 00:19:54,859
yourselves now if i unlock my screen you

517
00:19:54,859 --> 00:19:56,600
might even show you that it does correct

518
00:19:56,600 --> 00:19:58,659
orientation support hey there we go

519
00:19:58,659 --> 00:20:00,259
where's yourselves

520
00:20:00,259 --> 00:20:05,720
you look beautiful everybody so yeah

521
00:20:05,720 --> 00:20:06,919
this is using the Google stack but it

522
00:20:06,919 --> 00:20:09,379
also supports other stacks as well and

523
00:20:09,379 --> 00:20:10,940
to be honest I have some interesting

524
00:20:10,940 --> 00:20:13,070
news about adding new stacks into that

525
00:20:13,070 --> 00:20:16,009
in future ok that's basically matrix as

526
00:20:16,009 --> 00:20:18,639
it looks from there and if we go back to

527
00:20:18,639 --> 00:20:21,289
nature you'll see that the conversations

528
00:20:21,289 --> 00:20:23,950
been going on in there hopefully

529
00:20:23,950 --> 00:20:28,309
meanwhile on IRC we've got the same

530
00:20:28,309 --> 00:20:31,580
thing happening here on hash matrix and

531
00:20:31,580 --> 00:20:33,320
it's literally the same conversation

532
00:20:33,320 --> 00:20:34,940
reality gap saying great talk so far

533
00:20:34,940 --> 00:20:37,639
thanks for allottee gaps meanwhile on

534
00:20:37,639 --> 00:20:39,559
slack you would have the same thing

535
00:20:39,559 --> 00:20:42,139
going on here so let's go down to the

536
00:20:42,139 --> 00:20:45,889
bottom and snap and you've got wherever

537
00:20:45,889 --> 00:20:47,299
it was I hope they're in the right place

538
00:20:47,299 --> 00:20:51,559
come on slack don't know why yeah there

539
00:20:51,559 --> 00:20:53,389
we go reality gap saying great talk so

540
00:20:53,389 --> 00:20:56,690
far a new bridge contributed by the

541
00:20:56,690 --> 00:20:59,809
community from signing in the room hello

542
00:20:59,809 --> 00:21:01,340
thank you for writing this this is

543
00:21:01,340 --> 00:21:02,989
really cool so this is my telegram

544
00:21:02,989 --> 00:21:04,730
account and meanwhile I'm a matrix HQ

545
00:21:04,730 --> 00:21:07,940
you got a pretty you've got a whole

546
00:21:07,940 --> 00:21:09,769
bridge going through into telegram at

547
00:21:09,769 --> 00:21:11,690
the moment this one is using bots to

548
00:21:11,690 --> 00:21:13,399
bridge people over but we do also have

549
00:21:13,399 --> 00:21:15,440
one that logs in as your actual telegram

550
00:21:15,440 --> 00:21:17,090
account as you so that you can

551
00:21:17,090 --> 00:21:18,710
transparently bridge your telegram

552
00:21:18,710 --> 00:21:21,049
persona into matrix and we're really in

553
00:21:21,049 --> 00:21:22,309
the points of building lots and lots of

554
00:21:22,309 --> 00:21:25,789
these bridges right now so I think

555
00:21:25,789 --> 00:21:26,960
that's probably the obvious things to

556
00:21:26,960 --> 00:21:29,799
show you about matrix itself

557
00:21:29,799 --> 00:21:32,450
obviously not serve SDK is actually a

558
00:21:32,450 --> 00:21:34,129
final cool one would have been matrix I

559
00:21:34,129 --> 00:21:37,279
LCD this exposes all of matrix as my LCD

560
00:21:37,279 --> 00:21:40,450
so you can take your existing x chat or

561
00:21:40,450 --> 00:21:41,600
SSI

562
00:21:41,600 --> 00:21:43,970
whatever it is and connect to port six

563
00:21:43,970 --> 00:21:46,130
six six seven or matrix our CD that then

564
00:21:46,130 --> 00:21:48,410
proxies it into the entirety of matrix

565
00:21:48,410 --> 00:21:51,110
so you expose the whole thing as a LC

566
00:21:51,110 --> 00:21:52,310
network and you can do silly things

567
00:21:52,310 --> 00:21:55,520
obviously might talk IRC to a matrix

568
00:21:55,520 --> 00:21:57,740
server which then goes into an IRC

569
00:21:57,740 --> 00:22:00,200
bridge and use matrix as one great big

570
00:22:00,200 --> 00:22:03,380
silly over-engineered IRC bouncing home

571
00:22:03,380 --> 00:22:04,820
service we kind of already talked about

572
00:22:04,820 --> 00:22:07,310
these synapses about in fact we measured

573
00:22:07,310 --> 00:22:08,570
it earlier it's now at sixty six

574
00:22:08,570 --> 00:22:10,430
thousand lines of Python in twisted

575
00:22:10,430 --> 00:22:12,350
we've hit some fairly major performance

576
00:22:12,350 --> 00:22:14,360
and maintainability challenges

577
00:22:14,360 --> 00:22:17,390
specifically I'm typing also the ability

578
00:22:17,390 --> 00:22:19,700
to do bat traces and profiling over

579
00:22:19,700 --> 00:22:24,530
deferred inline callbacks in twisted and

580
00:22:24,530 --> 00:22:26,480
so all of our work is going now into

581
00:22:26,480 --> 00:22:30,170
dendrite which is coming along well as I

582
00:22:30,170 --> 00:22:31,580
mentioned and it's based built around

583
00:22:31,580 --> 00:22:33,940
these Kefka resk append-only event logs

584
00:22:33,940 --> 00:22:36,440
finally you've got rumor on the rest

585
00:22:36,440 --> 00:22:38,150
sides and you also have projects like

586
00:22:38,150 --> 00:22:40,520
bullet time and gopalam and go JSON EPS

587
00:22:40,520 --> 00:22:42,200
and Java which are basically experiments

588
00:22:42,200 --> 00:22:44,840
from the community bridges well we've

589
00:22:44,840 --> 00:22:45,920
already looked at a bunch of them

590
00:22:45,920 --> 00:22:47,870
they're also rocket shafts and matter

591
00:22:47,870 --> 00:22:49,580
most ones we have VoIP ones too free

592
00:22:49,580 --> 00:22:51,680
switch asterisk really fun one if

593
00:22:51,680 --> 00:22:53,900
anybody likes Lib purple please can you

594
00:22:53,900 --> 00:22:56,530
come and talk to me about taking over

595
00:22:56,530 --> 00:22:59,150
usage on the LED purple bridge because

596
00:22:59,150 --> 00:23:00,890
this one should be the coolest and that

597
00:23:00,890 --> 00:23:02,720
it can talk anything like purple can and

598
00:23:02,720 --> 00:23:05,720
expose it into matrix so I built it we

599
00:23:05,720 --> 00:23:07,760
did it with skype and it worked pretty

600
00:23:07,760 --> 00:23:09,320
well and you could use this to bridge

601
00:23:09,320 --> 00:23:11,600
into whatsapp or Facebook or whatever so

602
00:23:11,600 --> 00:23:13,460
if you like hacking on the purple please

603
00:23:13,460 --> 00:23:15,080
come and talk to me meanwhile on the

604
00:23:15,080 --> 00:23:17,180
community we've had iMessage recently

605
00:23:17,180 --> 00:23:19,160
Twitter Facebook Messenger and blah blah

606
00:23:19,160 --> 00:23:20,420
blah blah blah you get the idea and

607
00:23:20,420 --> 00:23:22,100
everybody seems to love writing IRC

608
00:23:22,100 --> 00:23:24,130
bridges so we've got about eight of them

609
00:23:24,130 --> 00:23:26,000
we've already shown you what it looks

610
00:23:26,000 --> 00:23:28,850
like community statuses that we started

611
00:23:28,850 --> 00:23:32,150
in September two years ago now and just

612
00:23:32,150 --> 00:23:34,730
over two years very late be two bits of

613
00:23:34,730 --> 00:23:36,830
it around to be - some of it isn't we've

614
00:23:36,830 --> 00:23:38,570
got seven hundred thousand accounts on

615
00:23:38,570 --> 00:23:41,120
the matrixyl server and we're pushing

616
00:23:41,120 --> 00:23:44,510
about 700,000 messages a day actually

617
00:23:44,510 --> 00:23:46,940
receiving them today we realized that

618
00:23:46,940 --> 00:23:48,980
all of our message rates actually been

619
00:23:48,980 --> 00:23:50,600
miscalculated and that we'd only ever

620
00:23:50,600 --> 00:23:52,190
looked so the message is coming in which

621
00:23:52,190 --> 00:23:53,840
is about 10 a second

622
00:23:53,840 --> 00:23:55,429
in terms of going out we're actually

623
00:23:55,429 --> 00:23:57,289
pushing about a thousand a second on the

624
00:23:57,289 --> 00:23:59,870
server we've got 70 thousand rooms on

625
00:23:59,870 --> 00:24:02,360
matrix dog but a really important stat

626
00:24:02,360 --> 00:24:04,970
is this one the fifteen hundred's and

627
00:24:04,970 --> 00:24:06,740
federated servers out there which are

628
00:24:06,740 --> 00:24:09,260
run by you guys and the more the merrier

629
00:24:09,260 --> 00:24:11,600
and in fact almost half of the traffic

630
00:24:11,600 --> 00:24:14,900
on matrix and currently is not on the

631
00:24:14,900 --> 00:24:16,760
matrix dog server but it's actually out

632
00:24:16,760 --> 00:24:18,830
there in the wild in the wider ecosystem

633
00:24:18,830 --> 00:24:20,900
so it's pretty centralized to matrix dog

634
00:24:20,900 --> 00:24:21,289
right now

635
00:24:21,289 --> 00:24:22,820
but honestly I'd like to get to the

636
00:24:22,820 --> 00:24:24,140
point where we can turn off the main

637
00:24:24,140 --> 00:24:27,940
server and everybody can run their own

638
00:24:27,940 --> 00:24:30,740
term so for the user growth that's how

639
00:24:30,740 --> 00:24:33,649
we got to the 700,000 users so far you

640
00:24:33,649 --> 00:24:36,500
can see that we really took the kind of

641
00:24:36,500 --> 00:24:38,179
training wheels off it at that point but

642
00:24:38,179 --> 00:24:40,669
a better graph rather than total users

643
00:24:40,669 --> 00:24:43,490
is the total messages a day and this is

644
00:24:43,490 --> 00:24:47,120
looking just to the unbridgeable a level

645
00:24:47,120 --> 00:24:48,380
so this is ignoring all of the traffic

646
00:24:48,380 --> 00:24:50,659
to and from freenode and Mozilla Nest

647
00:24:50,659 --> 00:24:53,299
and slack etc this is native matrix

648
00:24:53,299 --> 00:24:55,159
traffic and you can see that we're up at

649
00:24:55,159 --> 00:24:57,260
about a hundred thousand messages a day

650
00:24:57,260 --> 00:24:59,929
so it's not huge but critically the the

651
00:24:59,929 --> 00:25:02,120
acceleration is frankly petrifying in

652
00:25:02,120 --> 00:25:05,059
terms of the update we have there and

653
00:25:05,059 --> 00:25:06,860
that's where a lot of work has gone into

654
00:25:06,860 --> 00:25:08,840
optimizing synapse and making it good

655
00:25:08,840 --> 00:25:10,909
enough until we can get dendrite running

656
00:25:10,909 --> 00:25:14,120
so we can really really go first now

657
00:25:14,120 --> 00:25:15,710
let's talk about crypto he wants to hear

658
00:25:15,710 --> 00:25:19,940
about crypto yay so this isn't ohm

659
00:25:19,940 --> 00:25:22,399
it's a salamander from the cave systems

660
00:25:22,399 --> 00:25:25,700
of puts Tonya Yana in Slovenia and it's

661
00:25:25,700 --> 00:25:27,409
the closest thing we have to a European

662
00:25:27,409 --> 00:25:30,049
axolotl which is the North American

663
00:25:30,049 --> 00:25:33,140
salamander open whisper systems named

664
00:25:33,140 --> 00:25:35,390
their ratchets and that they use for

665
00:25:35,390 --> 00:25:39,230
cryptography after originally in signal

666
00:25:39,230 --> 00:25:40,850
which was text secure before they

667
00:25:40,850 --> 00:25:42,529
renamed it the very boring double

668
00:25:42,529 --> 00:25:43,039
rapture

669
00:25:43,039 --> 00:25:44,779
well they renamed it double rapture with

670
00:25:44,779 --> 00:25:46,909
calling home home and Ole Miss are an

671
00:25:46,909 --> 00:25:49,100
implementation and it's the foundation

672
00:25:49,100 --> 00:25:52,190
of all of the encryption in matrix as I

673
00:25:52,190 --> 00:25:53,750
said at the beginning without end to end

674
00:25:53,750 --> 00:25:54,380
encryption

675
00:25:54,380 --> 00:25:56,720
your let me just kill telegram so it

676
00:25:56,720 --> 00:25:58,690
stops bouncing

677
00:25:58,690 --> 00:26:00,860
matrixes replication conversation

678
00:26:00,860 --> 00:26:03,140
history is a huge privacy problem to put

679
00:26:03,140 --> 00:26:03,710
it mildly

680
00:26:03,710 --> 00:26:06,919
because in a room like matrix HQ if we

681
00:26:06,919 --> 00:26:07,130
turn

682
00:26:07,130 --> 00:26:08,840
on so it's gonna have the plain

683
00:26:08,840 --> 00:26:10,640
text over a hundred different 500

684
00:26:10,640 --> 00:26:13,070
different servers so we spent two years

685
00:26:13,070 --> 00:26:15,410
gradually working away putting

686
00:26:15,410 --> 00:26:17,240
end-to-end crypto into the absolute

687
00:26:17,240 --> 00:26:19,640
house of matrix and the pointer the

688
00:26:19,640 --> 00:26:21,920
goals we had was to trade off privacy

689
00:26:21,920 --> 00:26:23,570
and usability so that was the question

690
00:26:23,570 --> 00:26:25,940
at the beginning so sometimes you do

691
00:26:25,940 --> 00:26:27,860
want perfect forward secrecy and

692
00:26:27,860 --> 00:26:29,240
sometimes you really want to be able to

693
00:26:29,240 --> 00:26:31,400
add new devices and invite people into a

694
00:26:31,400 --> 00:26:33,020
room and be able to replay and we want

695
00:26:33,020 --> 00:26:35,480
to do both and I think we're basically

696
00:26:35,480 --> 00:26:37,640
unique in wanting that because everybody

697
00:26:37,640 --> 00:26:40,070
else whether it's wire or signal really

698
00:26:40,070 --> 00:26:42,410
going for the hardcore sort of secrecy

699
00:26:42,410 --> 00:26:46,310
approach we want to we decided that we

700
00:26:46,310 --> 00:26:47,930
were going to encrypt and trust things

701
00:26:47,930 --> 00:26:50,180
per device rather than per user so this

702
00:26:50,180 --> 00:26:51,530
is a big deal that when you send a

703
00:26:51,530 --> 00:26:53,090
message and matrix to somebody that's

704
00:26:53,090 --> 00:26:55,400
encrypted you are specifying the devices

705
00:26:55,400 --> 00:26:57,530
which receive it so I'm not sending it

706
00:26:57,530 --> 00:26:59,420
to a person and trusting them to go and

707
00:26:59,420 --> 00:27:01,190
blindly sync it to a whole bunch of

708
00:27:01,190 --> 00:27:03,020
different devices I have the ability to

709
00:27:03,020 --> 00:27:05,390
blacklist particular devices from

710
00:27:05,390 --> 00:27:07,190
receiving messages and validate

711
00:27:07,190 --> 00:27:10,880
particular ones what if I don't want to

712
00:27:10,880 --> 00:27:13,580
expose my divisor well if you don't want

713
00:27:13,580 --> 00:27:15,830
to expose the devices then rename them

714
00:27:15,830 --> 00:27:19,070
to device or something ambiguous at the

715
00:27:19,070 --> 00:27:21,140
moment we necessarily have to expose the

716
00:27:21,140 --> 00:27:23,150
number of devices you have otherwise you

717
00:27:23,150 --> 00:27:24,680
wouldn't be able to encrypt for the

718
00:27:24,680 --> 00:27:26,660
devices so at the moment there's a bit

719
00:27:26,660 --> 00:27:28,640
of controversy that we named the devices

720
00:27:28,640 --> 00:27:30,800
based on something vaguely useful and

721
00:27:30,800 --> 00:27:32,990
expect for you to anonymize it if you

722
00:27:32,990 --> 00:27:35,030
wanted to be anonymized in future we're

723
00:27:35,030 --> 00:27:36,500
going to default so prompting the user

724
00:27:36,500 --> 00:27:38,210
so that if they want to remove any

725
00:27:38,210 --> 00:27:40,340
identifying data like the model of their

726
00:27:40,340 --> 00:27:42,290
phone or the URL of their client they

727
00:27:42,290 --> 00:27:45,110
can do that we wanted to support big

728
00:27:45,110 --> 00:27:47,240
rooms a lot of people give up on this

729
00:27:47,240 --> 00:27:50,000
because a it's really hard and B if

730
00:27:50,000 --> 00:27:51,920
you're encrypting for ten thousand

731
00:27:51,920 --> 00:27:53,750
devices why bother because one of them

732
00:27:53,750 --> 00:27:54,560
is going to get owned

733
00:27:54,560 --> 00:27:59,630
and so the trusted computing prosecco

734
00:27:59,630 --> 00:28:01,310
mean use case anyway and a big company

735
00:28:01,310 --> 00:28:04,610
or even a big gathering like this which

736
00:28:04,610 --> 00:28:06,110
I guess is basically a public where it

737
00:28:06,110 --> 00:28:09,260
is public you might still want to at

738
00:28:09,260 --> 00:28:11,300
least attempt to encrypt the contents

739
00:28:11,300 --> 00:28:13,250
there and as you've seen our matrix

740
00:28:13,250 --> 00:28:14,780
rooms are huge and we want to support

741
00:28:14,780 --> 00:28:16,820
them so somebody turns encryption on a

742
00:28:16,820 --> 00:28:19,130
matrix HQ today we don't want the whole

743
00:28:19,130 --> 00:28:21,110
thing to explode

744
00:28:21,110 --> 00:28:23,210
we want to encrypt non-public rooms by

745
00:28:23,210 --> 00:28:24,860
default but we haven't yet worse were in

746
00:28:24,860 --> 00:28:26,810
beta but that's the goal obviously

747
00:28:26,810 --> 00:28:28,610
there's no point in encrypting a

748
00:28:28,610 --> 00:28:30,260
conversation like this one which you

749
00:28:30,260 --> 00:28:31,820
want to have on the public record in

750
00:28:31,820 --> 00:28:33,410
fact the encryption gets in the way and

751
00:28:33,410 --> 00:28:35,210
finally we won't want it to be available

752
00:28:35,210 --> 00:28:38,450
to everybody in matrix so high level

753
00:28:38,450 --> 00:28:40,460
10000 for overview we've got two

754
00:28:40,460 --> 00:28:42,470
different mechanisms at work here we've

755
00:28:42,470 --> 00:28:44,570
got home itself I'm a little salamander

756
00:28:44,570 --> 00:28:47,540
which is a double rapture implementation

757
00:28:47,540 --> 00:28:50,270
it is almost identical in functionality

758
00:28:50,270 --> 00:28:54,290
to the one that signal and Facebook and

759
00:28:54,290 --> 00:28:57,050
ello and all the other axolotl double

760
00:28:57,050 --> 00:28:59,990
rapture implementations use however we

761
00:28:59,990 --> 00:29:02,660
use it completely differently what we do

762
00:29:02,660 --> 00:29:04,250
is to use it to establish a secure

763
00:29:04,250 --> 00:29:06,920
channel between two devices and then we

764
00:29:06,920 --> 00:29:08,900
just use it to synchronize the key data

765
00:29:08,900 --> 00:29:11,450
that's required for megohm which is the

766
00:29:11,450 --> 00:29:13,460
new router the main wrapper that we use

767
00:29:13,460 --> 00:29:15,440
for encrypting to a group of receivers

768
00:29:15,440 --> 00:29:19,850
so the deal is that if I want to send

769
00:29:19,850 --> 00:29:22,720
all of you guys a message I will go and

770
00:29:22,720 --> 00:29:24,980
first of all have to set up one to one

771
00:29:24,980 --> 00:29:26,660
channel with everybody but I only have

772
00:29:26,660 --> 00:29:29,180
to do this once in order to share the

773
00:29:29,180 --> 00:29:31,670
group rachet state which I then use to

774
00:29:31,670 --> 00:29:34,130
encrypt my messages to the room so

775
00:29:34,130 --> 00:29:35,360
whilst it's pretty nasty that I'm gonna

776
00:29:35,360 --> 00:29:38,630
have to do like 800 1 2 ones at the

777
00:29:38,630 --> 00:29:40,160
beginning and honestly that does take a

778
00:29:40,160 --> 00:29:42,500
time and people using this today we can

779
00:29:42,500 --> 00:29:44,510
see a good 10 second delay well-stirred

780
00:29:44,510 --> 00:29:46,310
does the initial set up once it's in

781
00:29:46,310 --> 00:29:48,770
place I can then use the mega ohm

782
00:29:48,770 --> 00:29:51,500
ratchet to generate a series of keys for

783
00:29:51,500 --> 00:29:53,810
the members of the room sorry for the

784
00:29:53,810 --> 00:29:55,610
messages which I'm sending into the room

785
00:29:55,610 --> 00:29:57,230
and hopefully everybody else has the

786
00:29:57,230 --> 00:30:01,360
same ratchet so they can decrypt easy

787
00:30:01,810 --> 00:30:04,120
sorry

788
00:30:04,120 --> 00:30:06,679
so when somebody joins a room is the

789
00:30:06,679 --> 00:30:10,669
question there and this is where it

790
00:30:10,669 --> 00:30:13,039
becomes not easy and there's a whole

791
00:30:13,039 --> 00:30:15,799
bunch of slides on the whole problem of

792
00:30:15,799 --> 00:30:17,360
what do you do when somebody answered

793
00:30:17,360 --> 00:30:18,830
device into a room because it's not a

794
00:30:18,830 --> 00:30:20,630
person joining a room they're actually

795
00:30:20,630 --> 00:30:22,100
they could just be adding a new device

796
00:30:22,100 --> 00:30:23,929
hood and well how about I just show you

797
00:30:23,929 --> 00:30:28,460
so let's get back to riot and this is

798
00:30:28,460 --> 00:30:30,260
the right one I go into our big test

799
00:30:30,260 --> 00:30:32,480
room which is called mega arm test this

800
00:30:32,480 --> 00:30:37,789
one has got 127 users in it right now

801
00:30:37,789 --> 00:30:40,789
and and I haven't actually validated any

802
00:30:40,789 --> 00:30:42,230
of their identities you can see it's

803
00:30:42,230 --> 00:30:43,880
working pretty well I can go and receive

804
00:30:43,880 --> 00:30:46,010
all of these messages if I scroll back

805
00:30:46,010 --> 00:30:47,570
far enough you'll probably see some of

806
00:30:47,570 --> 00:30:49,399
the bugs which we've been chasing in the

807
00:30:49,399 --> 00:30:51,919
last couple of months but so far it's

808
00:30:51,919 --> 00:30:54,559
just fairly inane test wrap ironically

809
00:30:54,559 --> 00:30:56,990
it's working perfectly now great things

810
00:30:56,990 --> 00:30:59,299
never break when you want them to and so

811
00:30:59,299 --> 00:31:00,590
there's a mega ohm test which was

812
00:31:00,590 --> 00:31:03,020
working there now if I went and send a

813
00:31:03,020 --> 00:31:07,669
message in here ah brilliant example so

814
00:31:07,669 --> 00:31:10,370
room contains unknown devices so since I

815
00:31:10,370 --> 00:31:12,590
last sent a message in here some days

816
00:31:12,590 --> 00:31:14,149
added a device which makes sense because

817
00:31:14,149 --> 00:31:15,919
there are over a thousand devices in the

818
00:31:15,919 --> 00:31:18,020
room and so I get this dialog popping up

819
00:31:18,020 --> 00:31:20,210
saying whether this room contains on own

820
00:31:20,210 --> 00:31:22,039
devices have not been verified no

821
00:31:22,039 --> 00:31:23,600
guarantee that they actually belonged to

822
00:31:23,600 --> 00:31:25,429
the users you might want to go and

823
00:31:25,429 --> 00:31:28,700
verify them so I got one from there I've

824
00:31:28,700 --> 00:31:30,679
got one from myself where I've logged in

825
00:31:30,679 --> 00:31:32,899
in an incognito tab and you can see the

826
00:31:32,899 --> 00:31:34,429
names of the devices here are the URLs

827
00:31:34,429 --> 00:31:36,409
and the browsers and the OS is being

828
00:31:36,409 --> 00:31:39,440
used so one of the things we're missing

829
00:31:39,440 --> 00:31:41,779
now is the good UX for verification so

830
00:31:41,779 --> 00:31:44,270
if I say oh hang on a second I wonder

831
00:31:44,270 --> 00:31:46,340
over that is Simon if only he was in the

832
00:31:46,340 --> 00:31:48,049
room and I could ask him in person to

833
00:31:48,049 --> 00:31:50,240
compare his public fingerprint keys now

834
00:31:50,240 --> 00:31:52,100
at the moment depressingly if I hit the

835
00:31:52,100 --> 00:31:54,080
verify button that's precisely what

836
00:31:54,080 --> 00:31:56,120
happens we do have this disclaimer at

837
00:31:56,120 --> 00:31:57,860
the bottom saying in future this will be

838
00:31:57,860 --> 00:31:59,929
much more sophisticated but right now I

839
00:31:59,929 --> 00:32:02,179
would say hey Simon you know your device

840
00:32:02,179 --> 00:32:05,539
psi HD DL QEP don't suppose the public

841
00:32:05,539 --> 00:32:08,570
key fingerprints is capital o capital m

842
00:32:08,570 --> 00:32:10,399
capital u and so on and so forth

843
00:32:10,399 --> 00:32:12,110
obviously we should be doing this with a

844
00:32:12,110 --> 00:32:14,929
mnemonic we should be using a QR code we

845
00:32:14,929 --> 00:32:15,870
should be

846
00:32:15,870 --> 00:32:18,510
hashing it down to a smaller amount or

847
00:32:18,510 --> 00:32:20,820
whatever we just haven't done it yet

848
00:32:20,820 --> 00:32:23,490
this dialogue itself is on me or at

849
00:32:23,490 --> 00:32:25,170
least this dialogue the one we were on

850
00:32:25,170 --> 00:32:28,320
before is relatively new as of yesterday

851
00:32:28,320 --> 00:32:30,300
so that gives you an idea of where we

852
00:32:30,300 --> 00:32:32,360
are in the rollout on the other hand if

853
00:32:32,360 --> 00:32:36,000
the verification failed and hang on that

854
00:32:36,000 --> 00:32:37,860
you didn't have that device at all then

855
00:32:37,860 --> 00:32:39,150
a lovely thing I can do is literally

856
00:32:39,150 --> 00:32:41,700
just hit the bat list not that hard hit

857
00:32:41,700 --> 00:32:43,920
the blacklist button at which point when

858
00:32:43,920 --> 00:32:45,780
I neck this is now telling my client

859
00:32:45,780 --> 00:32:47,730
never to set up a one-to-one session

860
00:32:47,730 --> 00:32:49,290
with his device and that device will

861
00:32:49,290 --> 00:32:51,210
never receive the message and you can do

862
00:32:51,210 --> 00:32:53,400
this on a per room basis which is kind

863
00:32:53,400 --> 00:32:55,860
of fun because finally solves the

864
00:32:55,860 --> 00:32:57,120
problem that if you're talking to

865
00:32:57,120 --> 00:32:59,070
somebody and they have a iPhone and an

866
00:32:59,070 --> 00:33:03,120
iPad and no public PC they left logged

867
00:33:03,120 --> 00:33:05,100
in it's a cyber cafe even if they're an

868
00:33:05,100 --> 00:33:07,200
easier with our information security you

869
00:33:07,200 --> 00:33:09,330
have the option to say hang on I just

870
00:33:09,330 --> 00:33:10,980
want to send this to their phone oh I

871
00:33:10,980 --> 00:33:12,660
just want to send it to the iPad on the

872
00:33:12,660 --> 00:33:14,370
sofa that the kids can see or whatever

873
00:33:14,370 --> 00:33:15,350
it might happen to be

874
00:33:15,350 --> 00:33:19,860
so let me unblock this them yes yeah

875
00:33:19,860 --> 00:33:23,100
yeah so if I then go and look at Simon

876
00:33:23,100 --> 00:33:26,160
here in the members list I can see the

877
00:33:26,160 --> 00:33:27,660
same list of devices that he has here

878
00:33:27,660 --> 00:33:29,070
and I can actually just go through

879
00:33:29,070 --> 00:33:31,020
saying I never want to talk to you ever

880
00:33:31,020 --> 00:33:33,059
ever again

881
00:33:33,059 --> 00:33:35,940
but luckily am at the moment this is

882
00:33:35,940 --> 00:33:37,770
just personal data and in fact it's even

883
00:33:37,770 --> 00:33:39,510
done on a pair device basis which is

884
00:33:39,510 --> 00:33:41,090
something we're struggling a bit with

885
00:33:41,090 --> 00:33:43,920
because obviously and you can have some

886
00:33:43,920 --> 00:33:46,050
interesting security issues

887
00:33:46,050 --> 00:33:48,030
if you trust a server to be

888
00:33:48,030 --> 00:33:49,740
synchronizing the blacklist information

889
00:33:49,740 --> 00:33:51,390
so at the moment we're just doing it per

890
00:33:51,390 --> 00:33:54,420
device and if you actually look at the

891
00:33:54,420 --> 00:33:57,179
messages oh and also critically it

892
00:33:57,179 --> 00:33:59,940
queued my message here so even after all

893
00:33:59,940 --> 00:34:02,340
that it needs to be damn sure that this

894
00:34:02,340 --> 00:34:05,309
is actually the message but I want to

895
00:34:05,309 --> 00:34:06,630
send to the room so it's this sounds

896
00:34:06,630 --> 00:34:08,699
like a hit cancel or I can hit Send and

897
00:34:08,699 --> 00:34:11,070
if I hit Send then it will go free

898
00:34:11,070 --> 00:34:12,570
setting up new sessions with everybody

899
00:34:12,570 --> 00:34:14,730
and send out now cancel it for now but

900
00:34:14,730 --> 00:34:16,770
let's look at reality gaps one the

901
00:34:16,770 --> 00:34:18,780
decrypted source is not very exciting

902
00:34:18,780 --> 00:34:20,850
it's literally just going to be mega

903
00:34:20,850 --> 00:34:23,070
home tests from Johnson but if we look

904
00:34:23,070 --> 00:34:25,820
at the

905
00:34:26,320 --> 00:34:28,510
original stuff is this beautiful thing

906
00:34:28,510 --> 00:34:31,210
which has just got the public key of the

907
00:34:31,210 --> 00:34:33,280
device he was sending from we've got the

908
00:34:33,280 --> 00:34:36,370
cipher text which is basics t4 AES

909
00:34:36,370 --> 00:34:41,760
encoded chunk of the JSON feeds with the

910
00:34:41,760 --> 00:34:45,310
the ratchet state that matches the

911
00:34:45,310 --> 00:34:47,530
session ID which is the public key of

912
00:34:47,530 --> 00:34:49,449
his particular extra that he's sending

913
00:34:49,449 --> 00:34:52,630
to me so basically it's there and it

914
00:34:52,630 --> 00:34:55,540
works and it scales up let's go back to

915
00:34:55,540 --> 00:34:57,900
the slides and see where we go from here

916
00:34:57,900 --> 00:35:00,820
so we're using elliptic curve 2 5 online

917
00:35:00,820 --> 00:35:03,430
keys key pairs get generated at login

918
00:35:03,430 --> 00:35:05,620
time obviously the private ones get

919
00:35:05,620 --> 00:35:07,180
stored on the device

920
00:35:07,180 --> 00:35:10,630
this is a bit of a problem on on the web

921
00:35:10,630 --> 00:35:12,190
where there isn't a good place to store

922
00:35:12,190 --> 00:35:14,110
your keys so at the moment we store them

923
00:35:14,110 --> 00:35:16,090
on local storage which is obviously not

924
00:35:16,090 --> 00:35:18,190
ideal it's somebody can do an exercise

925
00:35:18,190 --> 00:35:20,830
to tack another question yes a history

926
00:35:20,830 --> 00:35:23,920
store can I add for the history offline

927
00:35:23,920 --> 00:35:28,810
or is it yep so if you're joining a room

928
00:35:28,810 --> 00:35:31,180
and it's the question there was some can

929
00:35:31,180 --> 00:35:34,450
you access history offline and yes you

930
00:35:34,450 --> 00:35:36,700
can absolutely access it offline and at

931
00:35:36,700 --> 00:35:40,330
the moment right does stuff offline if

932
00:35:40,330 --> 00:35:41,950
it loaded it from the surfer when it was

933
00:35:41,950 --> 00:35:43,360
online but we're just changing it to

934
00:35:43,360 --> 00:35:46,120
store it properly on locally using

935
00:35:46,120 --> 00:35:48,640
indexeddb and you store all of the

936
00:35:48,640 --> 00:35:51,010
session keys in your local storage so

937
00:35:51,010 --> 00:35:52,270
that you can then read decrypt so

938
00:35:52,270 --> 00:35:53,980
afterwards and if you add a new device

939
00:35:53,980 --> 00:35:55,840
into the room at the moment you have to

940
00:35:55,840 --> 00:35:57,640
export the keys and import them onto the

941
00:35:57,640 --> 00:35:59,650
new device but in the relatively near

942
00:35:59,650 --> 00:36:01,270
future you'll also be able to

943
00:36:01,270 --> 00:36:03,240
automatically share the keys over

944
00:36:03,240 --> 00:36:06,750
another quick question

945
00:36:11,630 --> 00:36:14,580
so the question is how long to be

946
00:36:14,580 --> 00:36:16,260
possessed messages on the matrix nodes

947
00:36:16,260 --> 00:36:17,910
and the answer is it's up to the guy he

948
00:36:17,910 --> 00:36:19,680
runs the node if I'm running my home

949
00:36:19,680 --> 00:36:21,660
sofa on the Raspberry Pi or on my phone

950
00:36:21,660 --> 00:36:23,610
I might keep a couple of tens of

951
00:36:23,610 --> 00:36:25,290
megabytes of messages if you're running

952
00:36:25,290 --> 00:36:27,869
matrix org we're currently up to 750

953
00:36:27,869 --> 00:36:30,630
gigabytes of messages and you can throw

954
00:36:30,630 --> 00:36:32,310
away old history and that's okay because

955
00:36:32,310 --> 00:36:34,050
it will just get back fields and

956
00:36:34,050 --> 00:36:36,750
resynchronized if you try to scroll back

957
00:36:36,750 --> 00:36:38,490
far enough so as long as one of the

958
00:36:38,490 --> 00:36:40,140
messages one of the server's for one of

959
00:36:40,140 --> 00:36:41,940
the participants in the room has the old

960
00:36:41,940 --> 00:36:44,790
history your phone so get back to the

961
00:36:44,790 --> 00:36:47,130
key management public keys are published

962
00:36:47,130 --> 00:36:48,960
on your home server verified by

963
00:36:48,960 --> 00:36:50,610
comparing public fingerprints as we just

964
00:36:50,610 --> 00:36:52,500
show it showed with big bold text here

965
00:36:52,500 --> 00:36:54,380
saying this is placeholder UX

966
00:36:54,380 --> 00:36:57,330
attachments took a lot of work because

967
00:36:57,330 --> 00:36:59,250
decrypting them client side with the

968
00:36:59,250 --> 00:37:01,320
corrects and security policy is a

969
00:37:01,320 --> 00:37:03,480
nightmare but we got it to work there

970
00:37:03,480 --> 00:37:06,480
using a SC TR but with an integrity hash

971
00:37:06,480 --> 00:37:09,210
and they get a new key for every

972
00:37:09,210 --> 00:37:12,150
attachment that's sent home itself we

973
00:37:12,150 --> 00:37:14,430
kind of already talked about it

974
00:37:14,430 --> 00:37:16,410
it's it's a matrix dog slash get that

975
00:37:16,410 --> 00:37:18,720
slash ohm we have a formal spec for it

976
00:37:18,720 --> 00:37:20,640
which is very important for many for

977
00:37:20,640 --> 00:37:24,119
ages the official double wrap from open

978
00:37:24,119 --> 00:37:25,530
whisper systems didn't have an official

979
00:37:25,530 --> 00:37:26,700
spec although they have a really good

980
00:37:26,700 --> 00:37:29,250
one now and this is used for one-to-one

981
00:37:29,250 --> 00:37:31,260
communication we chose it because it's

982
00:37:31,260 --> 00:37:33,330
the kind of the industry standard now

983
00:37:33,330 --> 00:37:35,280
and we wanted to avoid ruling out

984
00:37:35,280 --> 00:37:37,080
compatibility in future with what syrup

985
00:37:37,080 --> 00:37:39,720
and the ratchet obviously generates a

986
00:37:39,720 --> 00:37:41,190
non-reversible series of keys for

987
00:37:41,190 --> 00:37:44,400
encrypting stuff and back in February of

988
00:37:44,400 --> 00:37:46,500
last year literally this time last year

989
00:37:46,500 --> 00:37:48,630
we were encrypting each message per

990
00:37:48,630 --> 00:37:50,820
recipient so it's an O n squared problem

991
00:37:50,820 --> 00:37:52,619
there was no way to share history it

992
00:37:52,619 --> 00:37:54,150
worked it was a good proof of concept

993
00:37:54,150 --> 00:37:56,280
but it sucked I mean it's how I message

994
00:37:56,280 --> 00:37:59,130
does it today still and it's how many

995
00:37:59,130 --> 00:38:01,830
other kind of group messengers try to do

996
00:38:01,830 --> 00:38:03,480
it and it just doesn't scale beyond the

997
00:38:03,480 --> 00:38:06,480
510 devices there's a picture of a

998
00:38:06,480 --> 00:38:07,650
double wrap shirt which we don't have

999
00:38:07,650 --> 00:38:11,130
time to go through Megan however as I

1000
00:38:11,130 --> 00:38:13,320
said Toki knew ratchet again it has a

1001
00:38:13,320 --> 00:38:16,740
formal spec up on the matrix back and we

1002
00:38:16,740 --> 00:38:18,780
go and maintain a session per sender for

1003
00:38:18,780 --> 00:38:21,510
each term for each recipient called an

1004
00:38:21,510 --> 00:38:22,650
outbound session

1005
00:38:22,650 --> 00:38:25,470
and the big novelty actually from the

1006
00:38:25,470 --> 00:38:28,499
cryptography on megaohm is that you can

1007
00:38:28,499 --> 00:38:30,450
fast forward existing ratchets before

1008
00:38:30,450 --> 00:38:33,599
you share them so if we want to seal the

1009
00:38:33,599 --> 00:38:35,339
history of the room I can refer away my

1010
00:38:35,339 --> 00:38:37,470
ratchets and start over again I can go

1011
00:38:37,470 --> 00:38:39,509
and reset up one two ones with everybody

1012
00:38:39,509 --> 00:38:41,789
in the room and then I can start

1013
00:38:41,789 --> 00:38:43,559
encrypting over that however that's

1014
00:38:43,559 --> 00:38:45,059
going to take ages and it's a bit

1015
00:38:45,059 --> 00:38:46,499
inefficient and if you do it all the

1016
00:38:46,499 --> 00:38:46,920
time

1017
00:38:46,920 --> 00:38:49,049
we're just going to be doing nothing but

1018
00:38:49,049 --> 00:38:51,150
key exchange so a fun thing you can do

1019
00:38:51,150 --> 00:38:52,859
is that if a new device or a new person

1020
00:38:52,859 --> 00:38:54,749
joins the room you can take the current

1021
00:38:54,749 --> 00:38:56,880
one and fast forward it rapidly so they

1022
00:38:56,880 --> 00:38:59,160
can join at the right point in time they

1023
00:38:59,160 --> 00:39:03,390
can't go backwards that shouldn't be

1024
00:39:03,390 --> 00:39:05,910
there so ignore that lip balms

1025
00:39:05,910 --> 00:39:08,940
architecture diagram is basically this

1026
00:39:08,940 --> 00:39:10,829
you got crypto primitives using IES

1027
00:39:10,829 --> 00:39:13,529
shell t56 curve t5 focal unknown you got

1028
00:39:13,529 --> 00:39:15,630
ratchets you go up session management

1029
00:39:15,630 --> 00:39:17,309
account keys then you've got the megohm

1030
00:39:17,309 --> 00:39:19,230
ratchet and then you have a C API over

1031
00:39:19,230 --> 00:39:22,710
the top it's about 100k of 64-bit 8086

1032
00:39:22,710 --> 00:39:26,880
and it's about 200k of SMAS and we

1033
00:39:26,880 --> 00:39:29,029
transpile it by encryption in

1034
00:39:29,029 --> 00:39:31,980
inscription even into JavaScript I'm

1035
00:39:31,980 --> 00:39:33,869
using it on the web devices and we use

1036
00:39:33,869 --> 00:39:37,249
it natively on iOS in bio J&I on android

1037
00:39:37,249 --> 00:39:39,329
security assessment so this is a big

1038
00:39:39,329 --> 00:39:42,299
thing that we went into got lib on the

1039
00:39:42,299 --> 00:39:43,589
library itself with the ratchets

1040
00:39:43,589 --> 00:39:46,200
assessed by NCC group in September of

1041
00:39:46,200 --> 00:39:48,660
last year this is critical because we've

1042
00:39:48,660 --> 00:39:51,210
done the schoolboy error if inventing or

1043
00:39:51,210 --> 00:39:53,220
not inventing of implementing our own

1044
00:39:53,220 --> 00:39:55,200
 so so it was absolutely critical

1045
00:39:55,200 --> 00:39:56,730
that we had a proper professional

1046
00:39:56,730 --> 00:39:58,950
independent audit we even got it

1047
00:39:58,950 --> 00:39:59,910
released to the public

1048
00:39:59,910 --> 00:40:02,130
unlike many of the other ones out there

1049
00:40:02,130 --> 00:40:04,470
and so if you're interested in seeing

1050
00:40:04,470 --> 00:40:06,269
all of the interesting problems that we

1051
00:40:06,269 --> 00:40:07,950
had and all the things they found I do

1052
00:40:07,950 --> 00:40:10,019
recommend going and reading the NCC

1053
00:40:10,019 --> 00:40:14,609
group public assessment of the bomb at

1054
00:40:14,609 --> 00:40:16,920
the ohm level they were too low risk and

1055
00:40:16,920 --> 00:40:18,509
one information or findings which was

1056
00:40:18,509 --> 00:40:20,880
pretty good megohm predictably was a bit

1057
00:40:20,880 --> 00:40:23,369
more controversial with one high which

1058
00:40:23,369 --> 00:40:25,680
has an unknown key share attack one

1059
00:40:25,680 --> 00:40:27,869
medium and for low risk an interesting

1060
00:40:27,869 --> 00:40:29,309
problem we had is that three of the

1061
00:40:29,309 --> 00:40:31,140
findings they found though were actually

1062
00:40:31,140 --> 00:40:32,910
features and that they said hang on a

1063
00:40:32,910 --> 00:40:35,980
minute you can use this to break PFS

1064
00:40:35,980 --> 00:40:37,630
isn't PFS and we said well yeah one of

1065
00:40:37,630 --> 00:40:39,430
the cool things about it is if you want

1066
00:40:39,430 --> 00:40:41,380
to turn off PFS you can they said well

1067
00:40:41,380 --> 00:40:43,930
technically that's a vulnerability so

1068
00:40:43,930 --> 00:40:46,450
three of the issues there are abilities

1069
00:40:46,450 --> 00:40:49,210
with back form we fix everything

1070
00:40:49,210 --> 00:40:51,369
obviously and since the audit we haven't

1071
00:40:51,369 --> 00:40:53,590
found any more issues so that was a

1072
00:40:53,590 --> 00:40:55,630
really really fun thing and I highly

1073
00:40:55,630 --> 00:40:57,640
recommend working with NCC group if you

1074
00:40:57,640 --> 00:41:00,550
want to do something like that for your

1075
00:41:00,550 --> 00:41:03,540
own crypto we've already demoed it

1076
00:41:03,540 --> 00:41:05,740
however we've had a couple of problems

1077
00:41:05,740 --> 00:41:07,840
along the way the big one is that we

1078
00:41:07,840 --> 00:41:09,430
spent ages obsessing about the rapture

1079
00:41:09,430 --> 00:41:11,200
implementation and getting it all to

1080
00:41:11,200 --> 00:41:13,210
serve to making sure it didn't suck and

1081
00:41:13,210 --> 00:41:14,770
if anything we probably focused too much

1082
00:41:14,770 --> 00:41:17,020
but it turns out that the problem of

1083
00:41:17,020 --> 00:41:18,940
what happens when a device joins a room

1084
00:41:18,940 --> 00:41:21,340
and all of the reliable and efficient

1085
00:41:21,340 --> 00:41:23,740
synchronizing of the megohm state over a

1086
00:41:23,740 --> 00:41:25,270
federated system particularly like

1087
00:41:25,270 --> 00:41:28,270
matrix is really non-trivial and it

1088
00:41:28,270 --> 00:41:29,619
turns out that it's about two or three

1089
00:41:29,619 --> 00:41:32,109
times more code than the actual ratchet

1090
00:41:32,109 --> 00:41:34,090
and in some ways it's a lot more fiddly

1091
00:41:34,090 --> 00:41:35,980
in order to actually get some things

1092
00:41:35,980 --> 00:41:38,800
secure and right so you have to know

1093
00:41:38,800 --> 00:41:40,300
precisely what devices are in the room

1094
00:41:40,300 --> 00:41:42,700
you need to ensure that your ratchet has

1095
00:41:42,700 --> 00:41:44,619
been shared with them and it turns out

1096
00:41:44,619 --> 00:41:46,660
the scope for races here is just

1097
00:41:46,660 --> 00:41:47,740
spectacular

1098
00:41:47,740 --> 00:41:49,960
I mean even that sentence itself here is

1099
00:41:49,960 --> 00:41:52,630
basically racy in terms of at what point

1100
00:41:52,630 --> 00:41:54,700
you decide whether you've what devices

1101
00:41:54,700 --> 00:41:56,740
are in a room and you send a message and

1102
00:41:56,740 --> 00:41:58,420
meanwhile some guy goes and adds a new

1103
00:41:58,420 --> 00:42:00,130
device in most it sending it and they're

1104
00:42:00,130 --> 00:42:01,240
never going to get the state and they're

1105
00:42:01,240 --> 00:42:02,410
never going to be able to decrypt it and

1106
00:42:02,410 --> 00:42:03,790
they're going to send your hate mail say

1107
00:42:03,790 --> 00:42:06,070
well I can't decrypt that message so

1108
00:42:06,070 --> 00:42:07,750
honestly the last two or three months

1109
00:42:07,750 --> 00:42:09,850
have been chasing around these and it's

1110
00:42:09,850 --> 00:42:11,320
one of the nastiest bugs I have ever

1111
00:42:11,320 --> 00:42:13,960
seen because the symptoms are always the

1112
00:42:13,960 --> 00:42:15,880
same somebody can't decrypt a message

1113
00:42:15,880 --> 00:42:18,460
and it says unknown inbound session ID

1114
00:42:18,460 --> 00:42:21,310
and so we get poke reports and rates of

1115
00:42:21,310 --> 00:42:23,140
about every half an hour with somebody

1116
00:42:23,140 --> 00:42:25,869
saying oh I got the bug of course

1117
00:42:25,869 --> 00:42:27,850
they're about twenty different races of

1118
00:42:27,850 --> 00:42:29,320
different incarnations and flavors that

1119
00:42:29,320 --> 00:42:30,960
can result in that state not being

1120
00:42:30,960 --> 00:42:34,090
shared correctly on the plus side we've

1121
00:42:34,090 --> 00:42:35,859
hopefully identified them all and we've

1122
00:42:35,859 --> 00:42:37,510
almost fixed all of them we did the

1123
00:42:37,510 --> 00:42:39,280
release yesterday which we hoped would

1124
00:42:39,280 --> 00:42:40,600
finish up the remaining ones and

1125
00:42:40,600 --> 00:42:43,300
predictably enough we got one of the we

1126
00:42:43,300 --> 00:42:45,190
got a key share fail but we're very very

1127
00:42:45,190 --> 00:42:47,320
close to wrapping it up at which point

1128
00:42:47,320 --> 00:42:48,600
we'll get it auditor

1129
00:42:48,600 --> 00:42:50,400
and it will be able to beat it another

1130
00:42:50,400 --> 00:42:53,220
interesting problem here is we went and

1131
00:42:53,220 --> 00:42:55,140
coupled the implementation to the client

1132
00:42:55,140 --> 00:43:00,060
SDK because necessarily the key exchange

1133
00:43:00,060 --> 00:43:02,070
stuff is talking to your server to say

1134
00:43:02,070 --> 00:43:06,090
hey here are my keys and you know what

1135
00:43:06,090 --> 00:43:07,890
Keys server for the devices in the room

1136
00:43:07,890 --> 00:43:11,100
and this was a bit of a disaster because

1137
00:43:11,100 --> 00:43:12,990
we implemented it in the client-side

1138
00:43:12,990 --> 00:43:14,340
code which means that you have three

1139
00:43:14,340 --> 00:43:16,350
completely separate implementations and

1140
00:43:16,350 --> 00:43:18,480
Java Script Objective C in Java for

1141
00:43:18,480 --> 00:43:20,520
precisely the same logic so now I need

1142
00:43:20,520 --> 00:43:21,480
to be have some of these nasty

1143
00:43:21,480 --> 00:43:23,250
architecture or erase problems to deal

1144
00:43:23,250 --> 00:43:23,580
with

1145
00:43:23,580 --> 00:43:25,200
we're also constantly porting the bug

1146
00:43:25,200 --> 00:43:27,330
fixes between the free platforms so

1147
00:43:27,330 --> 00:43:28,740
there's definitely some kind of learning

1148
00:43:28,740 --> 00:43:30,540
there and I'm not entirely sure what it

1149
00:43:30,540 --> 00:43:32,610
is because we could push it into a

1150
00:43:32,610 --> 00:43:34,560
native library like the Ranchod itself

1151
00:43:34,560 --> 00:43:36,270
but then we're going to have to expose

1152
00:43:36,270 --> 00:43:38,580
all of these different api's back and

1153
00:43:38,580 --> 00:43:41,310
forth to talk to the server and I'm not

1154
00:43:41,310 --> 00:43:42,390
convinced that it's going to be any

1155
00:43:42,390 --> 00:43:43,950
nicer than having to implement it three

1156
00:43:43,950 --> 00:43:46,620
different times who knows design

1157
00:43:46,620 --> 00:43:48,300
problems we also have an interesting

1158
00:43:48,300 --> 00:43:50,610
nagging concern that megohm may be over

1159
00:43:50,610 --> 00:43:52,770
engineered in the you end up generating

1160
00:43:52,770 --> 00:43:54,870
a lot of these session keys and

1161
00:43:54,870 --> 00:43:57,390
critically if you want to do the offline

1162
00:43:57,390 --> 00:43:59,970
replay or if you want to share it with

1163
00:43:59,970 --> 00:44:01,680
new people that means you have to keep

1164
00:44:01,680 --> 00:44:04,080
all of these key sessions so it's not a

1165
00:44:04,080 --> 00:44:06,090
keeper message it's a keeper end

1166
00:44:06,090 --> 00:44:09,360
messages or per session but still I'm up

1167
00:44:09,360 --> 00:44:11,220
to about three megabytes of key data in

1168
00:44:11,220 --> 00:44:14,850
my local storage now on my Chrome and

1169
00:44:14,850 --> 00:44:17,160
that's over a couple of months which

1170
00:44:17,160 --> 00:44:18,960
doesn't feel very scalable plus sites

1171
00:44:18,960 --> 00:44:20,310
and local storage and you have a limit

1172
00:44:20,310 --> 00:44:22,200
of only 10 20 megabytes and local

1173
00:44:22,200 --> 00:44:25,140
storage anyway so it's it's feeling a

1174
00:44:25,140 --> 00:44:27,840
little bit um unwieldy there and they'll

1175
00:44:27,840 --> 00:44:29,340
be talking about do we put them on the

1176
00:44:29,340 --> 00:44:31,500
server but that also feels a bit dodge

1177
00:44:31,500 --> 00:44:33,120
that you're taking key data for

1178
00:44:33,120 --> 00:44:34,560
end-to-end encryption putting a

1179
00:44:34,560 --> 00:44:35,850
passphrase on it and then putting it

1180
00:44:35,850 --> 00:44:37,800
back on the server when it kind of works

1181
00:44:37,800 --> 00:44:39,870
but again we need to think a lot more

1182
00:44:39,870 --> 00:44:43,680
about that there's also the question of

1183
00:44:43,680 --> 00:44:45,300
whether the funky fast forwarding is

1184
00:44:45,300 --> 00:44:47,130
actually worthwhile because we have so

1185
00:44:47,130 --> 00:44:49,560
many sessions anyway why why not just go

1186
00:44:49,560 --> 00:44:51,270
and create another one when I want to

1187
00:44:51,270 --> 00:44:54,180
invite somebody to a room basically

1188
00:44:54,180 --> 00:44:56,160
where we're at right now is to see how

1189
00:44:56,160 --> 00:44:58,590
well it works and soon how often we

1190
00:44:58,590 --> 00:45:00,440
create new sessions and then

1191
00:45:00,440 --> 00:45:03,079
we might go back and redesign it a bit

1192
00:45:03,079 --> 00:45:05,150
and obviously at the matrix layer its

1193
00:45:05,150 --> 00:45:06,859
pluggable so you can keep evolving the

1194
00:45:06,859 --> 00:45:09,950
ratchet and the algorithm is required so

1195
00:45:09,950 --> 00:45:12,319
in terms of our goals can we do shade

1196
00:45:12,319 --> 00:45:14,240
off between privacy and usability yes we

1197
00:45:14,240 --> 00:45:15,800
can in the protocol but we haven't

1198
00:45:15,800 --> 00:45:17,660
exposed that in the clients ear we

1199
00:45:17,660 --> 00:45:19,400
continue the encryption per device we

1200
00:45:19,400 --> 00:45:21,829
can do big rooms we will encrypt

1201
00:45:21,829 --> 00:45:23,750
non-public rooms by default once around

1202
00:45:23,750 --> 00:45:27,130
2 beta and we will be supporting on all

1203
00:45:27,130 --> 00:45:29,359
matrix clients and the way we're

1204
00:45:29,359 --> 00:45:30,859
thinking of doing that is to actually

1205
00:45:30,859 --> 00:45:32,869
write an end-to-end proxy so if you have

1206
00:45:32,869 --> 00:45:34,339
one of the other random clients out

1207
00:45:34,339 --> 00:45:35,900
there you don't understand a couple of

1208
00:45:35,900 --> 00:45:37,550
months adding into end encryption to it

1209
00:45:37,550 --> 00:45:39,410
you can just reach it through a proxy

1210
00:45:39,410 --> 00:45:41,720
that you run on localhost in order to go

1211
00:45:41,720 --> 00:45:44,990
and turn it into the end-to-end finally

1212
00:45:44,990 --> 00:45:47,990
quickly metadata privacy matrix does not

1213
00:45:47,990 --> 00:45:50,540
protect metadata currently so if you

1214
00:45:50,540 --> 00:45:53,119
want to be private about who you talk to

1215
00:45:53,119 --> 00:45:56,150
and when ignoring the contents for the

1216
00:45:56,150 --> 00:45:57,770
metadata then look at something like

1217
00:45:57,770 --> 00:46:00,530
ricochet or vuvuzela the reason for this

1218
00:46:00,530 --> 00:46:02,390
is that protecting metadata is basically

1219
00:46:02,390 --> 00:46:04,040
incompatible with bridging and the

1220
00:46:04,040 --> 00:46:05,450
entire architecture at the moment

1221
00:46:05,450 --> 00:46:07,369
assumes that the server's can see the

1222
00:46:07,369 --> 00:46:09,859
metadata however we have done a thought

1223
00:46:09,859 --> 00:46:11,720
experiment for future and hopefully

1224
00:46:11,720 --> 00:46:13,430
somebody will help us build this where

1225
00:46:13,430 --> 00:46:14,990
if you run the Home Server client side

1226
00:46:14,990 --> 00:46:16,400
and he tunneled the traffic over

1227
00:46:16,400 --> 00:46:17,930
something like tour and he years

1228
00:46:17,930 --> 00:46:19,700
anonymous store-and-forward servers like

1229
00:46:19,700 --> 00:46:22,160
pond then you might be able to protect

1230
00:46:22,160 --> 00:46:23,720
that metadata and the kind of

1231
00:46:23,720 --> 00:46:25,819
architecture looks like this in that our

1232
00:46:25,819 --> 00:46:27,530
blue home servers are now running on

1233
00:46:27,530 --> 00:46:29,839
your green client and the actual client

1234
00:46:29,839 --> 00:46:31,609
app is the same and this is really fun

1235
00:46:31,609 --> 00:46:33,680
because the client can be identical to

1236
00:46:33,680 --> 00:46:35,359
what you have today so this is still

1237
00:46:35,359 --> 00:46:36,950
riots it's still weird traffic's still

1238
00:46:36,950 --> 00:46:38,540
nature app whatever but it's just

1239
00:46:38,540 --> 00:46:39,980
happening to talk to a home server

1240
00:46:39,980 --> 00:46:42,410
that's running client-side and then if

1241
00:46:42,410 --> 00:46:43,940
somebody wants to send a message they

1242
00:46:43,940 --> 00:46:45,050
were going to send it to a hidden

1243
00:46:45,050 --> 00:46:47,000
service on tour which would act as a

1244
00:46:47,000 --> 00:46:48,560
store and forward thing to send it out

1245
00:46:48,560 --> 00:46:50,480
for another hidden service at which

1246
00:46:50,480 --> 00:46:51,950
point the metadata is going to be

1247
00:46:51,950 --> 00:46:54,079
exposed only on the client and in here

1248
00:46:54,079 --> 00:46:55,609
it's going to be a one great big nice

1249
00:46:55,609 --> 00:46:59,780
blob of anonymity in sci-fi if somebody

1250
00:46:59,780 --> 00:47:01,280
wants to build one of those please do

1251
00:47:01,280 --> 00:47:05,900
and latest release the one that we

1252
00:47:05,900 --> 00:47:07,310
released today which was actually

1253
00:47:07,310 --> 00:47:09,109
yesterday not that I wrote this

1254
00:47:09,109 --> 00:47:11,300
yesterday gives

1255
00:47:11,300 --> 00:47:13,340
a warning when you get unknown devices

1256
00:47:13,340 --> 00:47:15,560
that we saw ability to blacklist backup

1257
00:47:15,560 --> 00:47:18,230
and import is a big deal and also raid

1258
00:47:18,230 --> 00:47:20,030
shake bug reporting which will go and

1259
00:47:20,030 --> 00:47:21,620
dump all of your JavaScript logs to us

1260
00:47:21,620 --> 00:47:23,780
so we can work out why you got your an

1261
00:47:23,780 --> 00:47:27,020
unknown inbound at session ID mobile

1262
00:47:27,020 --> 00:47:29,120
apps are catching up soon they're a bit

1263
00:47:29,120 --> 00:47:30,590
more buggy but the crypto still there

1264
00:47:30,590 --> 00:47:32,270
and in practice it works fine as long as

1265
00:47:32,270 --> 00:47:33,860
you don't have lots of people joining

1266
00:47:33,860 --> 00:47:37,490
and leaving what's next on own we kind

1267
00:47:37,490 --> 00:47:39,080
of touched on it already it's the

1268
00:47:39,080 --> 00:47:40,760
ability to share actual data with new

1269
00:47:40,760 --> 00:47:42,950
devices cross signing perhaps to ease

1270
00:47:42,950 --> 00:47:44,780
verification better a verification

1271
00:47:44,780 --> 00:47:47,330
full-stop push notifications are a bit

1272
00:47:47,330 --> 00:47:49,220
broken on end-to-end we need better

1273
00:47:49,220 --> 00:47:51,460
primitives and performance we're using

1274
00:47:51,460 --> 00:47:54,050
we're not using web crypto yet we're

1275
00:47:54,050 --> 00:47:56,720
using in scripts and compiled to native

1276
00:47:56,720 --> 00:47:58,490
primitives on JavaScript which is a

1277
00:47:58,490 --> 00:48:00,680
major security nono we obviously need to

1278
00:48:00,680 --> 00:48:02,300
get it audited we want to turn it on by

1279
00:48:02,300 --> 00:48:04,520
default and we want to have some kind of

1280
00:48:04,520 --> 00:48:06,710
way of negotiating sensibly with clients

1281
00:48:06,710 --> 00:48:08,870
that just can't speak it at all or

1282
00:48:08,870 --> 00:48:10,400
matrix Oh

1283
00:48:10,400 --> 00:48:13,190
threading bridges tagging ATL's file

1284
00:48:13,190 --> 00:48:15,650
management and then decentralized with

1285
00:48:15,650 --> 00:48:17,930
identity and spam which is increasing

1286
00:48:17,930 --> 00:48:19,400
problem which I gave a talk about this

1287
00:48:19,400 --> 00:48:21,740
morning sorry if you didn't make it it

1288
00:48:21,740 --> 00:48:23,090
will be published though by folsom of

1289
00:48:23,090 --> 00:48:24,890
course with all the other ones we need

1290
00:48:24,890 --> 00:48:27,410
help really we need help from everybody

1291
00:48:27,410 --> 00:48:29,990
here please run your own servers please

1292
00:48:29,990 --> 00:48:32,210
run gateways please write gateways tell

1293
00:48:32,210 --> 00:48:33,890
us where it sucks if you're writing a

1294
00:48:33,890 --> 00:48:35,750
new app please don't create yes another

1295
00:48:35,750 --> 00:48:38,570
proprietary HTTP API for messaging go

1296
00:48:38,570 --> 00:48:41,090
and consider using matrix or XMPP or

1297
00:48:41,090 --> 00:48:43,040
anything rather than reinventing the

1298
00:48:43,040 --> 00:48:45,560
wheel and please follow us on Twitter

1299
00:48:45,560 --> 00:48:48,590
and tell your friends and family thank

1300
00:48:48,590 --> 00:48:50,980
you very much

1301
00:48:59,130 --> 00:49:02,069
I think I have one minute for any more

1302
00:49:02,069 --> 00:49:04,199
questions and I've got 10 minutes to

1303
00:49:04,199 --> 00:49:07,949
burn Wow bonus oh okay so anybody got

1304
00:49:07,949 --> 00:49:11,989
any other questions we have a question

1305
00:49:15,349 --> 00:49:18,299
hi a very simple question thanks for the

1306
00:49:18,299 --> 00:49:20,549
talk it was great contact list

1307
00:49:20,549 --> 00:49:23,130
management so the question there is

1308
00:49:23,130 --> 00:49:26,039
contact lists as the things I mean and

1309
00:49:26,039 --> 00:49:28,019
all that you know I've been pidgin in

1310
00:49:28,019 --> 00:49:30,869
all that just to kind of thing it's

1311
00:49:30,869 --> 00:49:31,979
something that a lot of people feel is

1312
00:49:31,979 --> 00:49:34,559
missing we have it in the protocol we

1313
00:49:34,559 --> 00:49:37,019
have the concept of presence lists which

1314
00:49:37,019 --> 00:49:38,670
allow you to subscribe to the presence

1315
00:49:38,670 --> 00:49:39,359
of other people

1316
00:49:39,359 --> 00:49:41,279
none of the literary none of the clients

1317
00:49:41,279 --> 00:49:42,989
actually implement it because in

1318
00:49:42,989 --> 00:49:44,759
practice people haven't felt much to

1319
00:49:44,759 --> 00:49:48,119
manage for it but it's something that we

1320
00:49:48,119 --> 00:49:50,099
will probably add on the mobile versions

1321
00:49:50,099 --> 00:49:51,299
of riots where it makes more sense

1322
00:49:51,299 --> 00:49:53,279
because you can steal the address book

1323
00:49:53,279 --> 00:49:56,420
off the phone and use that as the roster

1324
00:49:56,420 --> 00:49:58,680
are the slides available

1325
00:49:58,680 --> 00:50:01,529
yes I'll be publishing the slides I'll

1326
00:50:01,529 --> 00:50:03,420
put them into matrix HQ in a few minutes

1327
00:50:03,420 --> 00:50:05,249
and we'll put them up on the blog in the

1328
00:50:05,249 --> 00:50:08,069
near future and you have a question

1329
00:50:08,069 --> 00:50:12,749
there oh I've seen that in dendrite a

1330
00:50:12,749 --> 00:50:15,209
new implementation there is like kafka

1331
00:50:15,209 --> 00:50:18,119
implementation so far and is that a new

1332
00:50:18,119 --> 00:50:20,369
dependency that we need Java to run a

1333
00:50:20,369 --> 00:50:22,529
matrix serve in the future godlike so

1334
00:50:22,529 --> 00:50:24,299
the question there was do we need more

1335
00:50:24,299 --> 00:50:26,489
dendrite be dependent on Kafka and the

1336
00:50:26,489 --> 00:50:28,769
answer is absolutely not we're using

1337
00:50:28,769 --> 00:50:30,989
Kafka at the moment to prove the

1338
00:50:30,989 --> 00:50:31,680
eventbus

1339
00:50:31,680 --> 00:50:33,449
where all of the API is an

1340
00:50:33,449 --> 00:50:35,009
implementation deliberately call it

1341
00:50:35,009 --> 00:50:38,640
Kafka esque because in the simplest case

1342
00:50:38,640 --> 00:50:41,279
you adjust you use go channels within go

1343
00:50:41,279 --> 00:50:42,809
itself in order to stitch it together

1344
00:50:42,809 --> 00:50:44,699
and if you don't want to use Kafka and

1345
00:50:44,699 --> 00:50:46,589
you want to use a go implementation of

1346
00:50:46,589 --> 00:50:48,390
can't figure then that's fine too it's

1347
00:50:48,390 --> 00:50:51,029
just very much a pluggable message bus

1348
00:50:51,029 --> 00:50:55,829
module you you mentioned a service such

1349
00:50:55,829 --> 00:50:58,259
service a search feature how is that

1350
00:50:58,259 --> 00:50:59,969
compatible of us end-to-end encryption

1351
00:50:59,969 --> 00:51:02,400
so the question is on end-to-end search

1352
00:51:02,400 --> 00:51:05,489
what sorry on server-side search what do

1353
00:51:05,489 --> 00:51:07,019
you do about into end there are two

1354
00:51:07,019 --> 00:51:08,940
options you can do homomorphic

1355
00:51:08,940 --> 00:51:10,870
encryption and try to

1356
00:51:10,870 --> 00:51:13,060
search things on server side despite it

1357
00:51:13,060 --> 00:51:14,980
being encrypted which we do not do

1358
00:51:14,980 --> 00:51:16,810
there's a whole different level of

1359
00:51:16,810 --> 00:51:21,430
complexity and the other solution for

1360
00:51:21,430 --> 00:51:23,140
search on end-to-end is that you just do

1361
00:51:23,140 --> 00:51:24,880
a client-side and so that's one of the

1362
00:51:24,880 --> 00:51:26,980
reasons on riot that we're ending up

1363
00:51:26,980 --> 00:51:28,930
storing all of your history client-side

1364
00:51:28,930 --> 00:51:31,510
not only for offline support but also so

1365
00:51:31,510 --> 00:51:33,490
you can just spider over it locally just

1366
00:51:33,490 --> 00:51:35,500
like you're wrapping your IRC logs and

1367
00:51:35,500 --> 00:51:37,720
time is up I'm afraid thank you very

1368
00:51:37,720 --> 00:51:38,950
much everybody

1369
00:51:38,950 --> 00:51:47,560
[Applause]

