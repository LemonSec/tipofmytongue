1
00:00:08,090 --> 00:00:14,480
<font color="#CCCCCC">this development</font><font color="#E5E5E5"> team doing some neat</font>

2
00:00:12,450 --> 00:00:14,479
stuff

3
00:00:14,550 --> 00:00:19,110
buddy<font color="#CCCCCC"> great to be</font><font color="#E5E5E5"> here with you I know</font>

4
00:00:17,010 --> 00:00:21,119
it's yeah it's a<font color="#CCCCCC"> shame that</font><font color="#E5E5E5"> so many</font>

5
00:00:19,110 --> 00:00:23,009
people were<font color="#CCCCCC"> not here but</font><font color="#E5E5E5"> at least we're</font>

6
00:00:21,119 --> 00:00:25,350
<font color="#CCCCCC">here and I'm thankful for that</font>

7
00:00:23,010 --> 00:00:28,170
my name is Bruce<font color="#E5E5E5"> Magan I live in the</font>

8
00:00:25,350 --> 00:00:30,630
<font color="#E5E5E5">United States</font><font color="#CCCCCC"> I am one of the Postgres</font>

9
00:00:28,170 --> 00:00:33,900
core team members<font color="#CCCCCC"> and I work for</font>

10
00:00:30,630 --> 00:00:36,750
<font color="#E5E5E5">Enterprise</font><font color="#CCCCCC"> DB as part of my work for</font><font color="#E5E5E5"> the</font>

11
00:00:33,900 --> 00:00:39,510
<font color="#E5E5E5">database about nine months</font><font color="#CCCCCC"> ago I decided</font>

12
00:00:36,750 --> 00:00:41,670
<font color="#CCCCCC">to do some research</font><font color="#E5E5E5"> to understand</font>

13
00:00:39,510 --> 00:00:43,440
<font color="#E5E5E5">cryptography from the mathematics all</font>

14
00:00:41,670 --> 00:00:45,239
the way up to the implementation<font color="#CCCCCC"> and</font>

15
00:00:43,440 --> 00:00:46,829
you're looking at<font color="#E5E5E5"> one</font><font color="#CCCCCC"> of four</font>

16
00:00:45,239 --> 00:00:49,379
presentations that came out<font color="#CCCCCC"> of</font><font color="#E5E5E5"> that</font>

17
00:00:46,829 --> 00:00:51,420
research<font color="#CCCCCC"> the slides that</font><font color="#E5E5E5"> you're looking</font>

18
00:00:49,379 --> 00:00:53,750
at today<font color="#CCCCCC"> are actually at</font><font color="#E5E5E5"> this</font><font color="#CCCCCC"> website</font>

19
00:00:51,420 --> 00:00:56,250
<font color="#CCCCCC">right here if you just put my</font><font color="#E5E5E5"> name as</font>

20
00:00:53,750 --> 00:00:59,550
crudely as you can in the search bar it

21
00:00:56,250 --> 00:01:01,920
<font color="#E5E5E5">will come it</font><font color="#CCCCCC"> will find my website there</font>

22
00:00:59,550 --> 00:01:05,099
are<font color="#CCCCCC"> four security presentations</font><font color="#E5E5E5"> under</font>

23
00:01:01,920 --> 00:01:07,800
the presentations tab<font color="#CCCCCC"> and there are also</font>

24
00:01:05,099 --> 00:01:10,440
<font color="#CCCCCC">twenty or thirty other presentations</font>

25
00:01:07,800 --> 00:01:14,039
<font color="#E5E5E5">related to Postgres including recordings</font>

26
00:01:10,440 --> 00:01:15,240
of those presentations<font color="#CCCCCC"> so again I</font><font color="#E5E5E5"> hope</font>

27
00:01:14,040 --> 00:01:18,330
you enjoyed it we have about a<font color="#E5E5E5"> half an</font>

28
00:01:15,240 --> 00:01:19,770
hour and I am<font color="#E5E5E5"> excited to be giving this</font>

29
00:01:18,330 --> 00:01:22,200
for the<font color="#E5E5E5"> first time</font>

30
00:01:19,770 --> 00:01:24,000
brand new presentation and they're very

31
00:01:22,200 --> 00:01:25,940
exciting so what are we going to<font color="#E5E5E5"> talk</font>

32
00:01:24,000 --> 00:01:28,800
about<font color="#E5E5E5"> today looks like</font><font color="#CCCCCC"> a lot of</font>

33
00:01:25,940 --> 00:01:31,590
<font color="#E5E5E5">information for for 30 minutes but we're</font>

34
00:01:28,800 --> 00:01:33,060
gonna do<font color="#CCCCCC"> our best I do have some</font>

35
00:01:31,590 --> 00:01:36,470
presentations on my website to talk

36
00:01:33,060 --> 00:01:39,800
about cryptographic<font color="#E5E5E5"> of fundamentals</font>

37
00:01:36,470 --> 00:01:42,750
<font color="#CCCCCC">cryptographic communication</font>

38
00:01:39,800 --> 00:01:45,539
<font color="#CCCCCC">cryptographic</font><font color="#E5E5E5"> hardware</font><font color="#CCCCCC"> installation and</font>

39
00:01:42,750 --> 00:01:49,170
configuration<font color="#E5E5E5"> and this is the final talk</font>

40
00:01:45,540 --> 00:01:53,760
which basically talks<font color="#E5E5E5"> about applying</font>

41
00:01:49,170 --> 00:01:56,370
cryptographic<font color="#E5E5E5"> hardware to actual problem</font>

42
00:01:53,760 --> 00:01:57,960
domains that<font color="#E5E5E5"> you have the previous</font>

43
00:01:56,370 --> 00:02:01,640
presentations again<font color="#E5E5E5"> cover things like</font>

44
00:01:57,960 --> 00:02:01,640
TLS a

45
00:02:02,060 --> 00:02:09,750
<font color="#CCCCCC">public-key</font><font color="#E5E5E5"> cryptography</font><font color="#CCCCCC"> RSA</font>

46
00:02:05,540 --> 00:02:13,410
diffie-hellman<font color="#E5E5E5"> elliptical curve</font><font color="#CCCCCC"> look the</font>

47
00:02:09,750 --> 00:02:16,290
curve<font color="#CCCCCC"> and</font><font color="#E5E5E5"> also the complexities of</font>

48
00:02:13,410 --> 00:02:17,760
<font color="#E5E5E5">configuring things like a UV key if</font>

49
00:02:16,290 --> 00:02:19,739
you're familiar with that device<font color="#CCCCCC"> I</font>

50
00:02:17,760 --> 00:02:22,079
actually happen<font color="#E5E5E5"> to have one</font><font color="#CCCCCC"> with me</font>

51
00:02:19,740 --> 00:02:24,600
<font color="#CCCCCC">which you probably</font><font color="#E5E5E5"> won't see because</font>

52
00:02:22,080 --> 00:02:27,810
it's so<font color="#CCCCCC"> small</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> you</font><font color="#E5E5E5"> will probably</font>

53
00:02:24,600 --> 00:02:32,010
have trouble<font color="#CCCCCC"> but it effectively</font><font color="#E5E5E5"> is stuck</font>

54
00:02:27,810 --> 00:02:35,220
in my USB thing here yes it<font color="#E5E5E5"> is this huge</font>

55
00:02:32,010 --> 00:02:38,220
tomorrow and I have<font color="#E5E5E5"> unplugged my thing</font>

56
00:02:35,220 --> 00:02:40,560
<font color="#CCCCCC">and I</font><font color="#E5E5E5"> will replug it in as soon as the</font>

57
00:02:38,220 --> 00:02:47,030
blue light comes<font color="#CCCCCC"> on there we</font><font color="#E5E5E5"> go there we</font>

58
00:02:40,560 --> 00:02:47,030
<font color="#E5E5E5">go it should</font><font color="#CCCCCC"> come back yes there we go</font>

59
00:02:48,230 --> 00:02:55,049
there<font color="#E5E5E5"> we go so this</font><font color="#CCCCCC"> is</font><font color="#E5E5E5"> actually a</font>

60
00:02:52,320 --> 00:02:58,500
<font color="#CCCCCC">Yubikey right</font><font color="#E5E5E5"> there that little if I can</font>

61
00:02:55,050 --> 00:03:01,800
hold<font color="#E5E5E5"> it yes that is it</font><font color="#CCCCCC"> it fills the</font><font color="#E5E5E5"> slot</font>

62
00:02:58,500 --> 00:03:04,489
is about all<font color="#E5E5E5"> you can say</font><font color="#CCCCCC"> about it but</font>

63
00:03:01,800 --> 00:03:08,250
effectively<font color="#E5E5E5"> it is</font><font color="#CCCCCC"> a way of</font>

64
00:03:04,489 --> 00:03:10,500
<font color="#E5E5E5">cryptographically storing secret keys</font>

65
00:03:08,250 --> 00:03:13,800
<font color="#CCCCCC">that can only</font><font color="#E5E5E5"> be accessed through the</font>

66
00:03:10,500 --> 00:03:15,150
<font color="#E5E5E5">hardware so</font><font color="#CCCCCC"> unfortunate</font><font color="#E5E5E5"> I don't have</font>

67
00:03:13,800 --> 00:03:16,470
time to<font color="#E5E5E5"> talk</font><font color="#CCCCCC"> about</font><font color="#E5E5E5"> that because</font><font color="#CCCCCC"> thirty</font>

68
00:03:15,150 --> 00:03:18,330
minutes is<font color="#E5E5E5"> not gonna allow me to do that</font>

69
00:03:16,470 --> 00:03:19,549
but the<font color="#E5E5E5"> point it and again feel free</font><font color="#CCCCCC"> to</font>

70
00:03:18,330 --> 00:03:23,970
look at my website<font color="#CCCCCC"> to get the details</font>

71
00:03:19,549 --> 00:03:26,549
but the point is<font color="#E5E5E5"> that normally when</font>

72
00:03:23,970 --> 00:03:29,280
<font color="#E5E5E5">you're doing something cryptographic</font><font color="#CCCCCC"> you</font>

73
00:03:26,549 --> 00:03:32,360
have to store the secret<font color="#E5E5E5"> on the</font><font color="#CCCCCC"> same</font>

74
00:03:29,280 --> 00:03:34,950
<font color="#CCCCCC">computer that you're using right and</font>

75
00:03:32,360 --> 00:03:37,320
obviously<font color="#CCCCCC"> if</font><font color="#E5E5E5"> anyone gets access to that</font>

76
00:03:34,950 --> 00:03:40,109
<font color="#CCCCCC">computer they can</font><font color="#E5E5E5"> copy that key off and</font>

77
00:03:37,320 --> 00:03:42,600
do all<font color="#CCCCCC"> sorts of things with it the</font>

78
00:03:40,110 --> 00:03:45,360
creative<font color="#E5E5E5"> thing about the Yubikey and all</font>

79
00:03:42,600 --> 00:03:49,049
the hardware specific<font color="#CCCCCC"> devices is that</font>

80
00:03:45,360 --> 00:03:51,150
the key is<font color="#E5E5E5"> only inside</font><font color="#CCCCCC"> the device it</font>

81
00:03:49,049 --> 00:03:52,709
never leaves it it can't be<font color="#E5E5E5"> copied</font><font color="#CCCCCC"> out</font>

82
00:03:51,150 --> 00:03:54,120
<font color="#E5E5E5">of the device I think that's the key</font>

83
00:03:52,709 --> 00:03:56,610
point

84
00:03:54,120 --> 00:03:59,220
so that unless somebody steals the

85
00:03:56,610 --> 00:04:03,000
physical key<font color="#E5E5E5"> there's no way of copying</font>

86
00:03:59,220 --> 00:04:05,910
<font color="#CCCCCC">it in a way</font><font color="#E5E5E5"> that's undetectable</font><font color="#CCCCCC"> okay and</font>

87
00:04:03,000 --> 00:04:08,220
I<font color="#E5E5E5"> think that's the real win but what I'd</font>

88
00:04:05,910 --> 00:04:13,160
<font color="#E5E5E5">like to talk about today is effectively</font>

89
00:04:08,220 --> 00:04:13,160
how sorry

90
00:04:17,930 --> 00:04:21,049
hold on

91
00:04:22,960 --> 00:04:27,549
no interesting<font color="#CCCCCC"> okay</font><font color="#E5E5E5"> and we're just gonna</font>

92
00:04:25,060 --> 00:04:29,620
leave that<font color="#E5E5E5"> up</font><font color="#CCCCCC"> there</font><font color="#E5E5E5"> okay</font><font color="#CCCCCC"> is specifically</font>

93
00:04:27,550 --> 00:04:31,750
how to use<font color="#E5E5E5"> hardware cryptography for</font>

94
00:04:29,620 --> 00:04:33,729
<font color="#E5E5E5">specific applications</font><font color="#CCCCCC"> we're gonna talk</font>

95
00:04:31,750 --> 00:04:36,400
about<font color="#CCCCCC"> OpenSSH</font><font color="#E5E5E5"> then we're going to talk</font>

96
00:04:33,729 --> 00:04:38,229
about<font color="#CCCCCC"> g PG</font><font color="#E5E5E5"> or PG P depending on how you</font>

97
00:04:36,400 --> 00:04:40,630
<font color="#E5E5E5">want to say it and then we'll talk about</font>

98
00:04:38,229 --> 00:04:44,258
<font color="#E5E5E5">Postgres as a conclusion</font><font color="#CCCCCC"> okay</font>

99
00:04:40,630 --> 00:04:45,639
so again as I<font color="#CCCCCC"> said</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> UV key which</font>

100
00:04:44,259 --> 00:04:49,000
we're not<font color="#E5E5E5"> going</font><font color="#CCCCCC"> to cover unfortunately</font>

101
00:04:45,639 --> 00:04:51,490
today is actually a hardware<font color="#CCCCCC"> device that</font>

102
00:04:49,000 --> 00:04:53,319
sits in<font color="#CCCCCC"> your USB socket and there's a</font>

103
00:04:51,490 --> 00:04:57,280
whole<font color="#E5E5E5"> bunch of configuration as</font><font color="#CCCCCC"> you can</font>

104
00:04:53,319 --> 00:04:58,630
use to<font color="#CCCCCC"> basically set up that Yubikey for</font>

105
00:04:57,280 --> 00:05:02,008
those of you who aren't aware

106
00:04:58,630 --> 00:05:04,690
<font color="#CCCCCC">OpenSSH</font><font color="#E5E5E5"> is effectively a remote shell</font>

107
00:05:02,009 --> 00:05:07,870
command it allows you to SSH<font color="#E5E5E5"> or s or</font>

108
00:05:04,690 --> 00:05:10,210
create a shell from one machine to

109
00:05:07,870 --> 00:05:12,340
<font color="#E5E5E5">another machine the reason it's</font>

110
00:05:10,210 --> 00:05:14,919
different than a normal shell is that<font color="#CCCCCC"> it</font>

111
00:05:12,340 --> 00:05:16,690
is secure because TLS is used and

112
00:05:14,919 --> 00:05:18,549
therefore<font color="#E5E5E5"> it's impossible for somebody</font>

113
00:05:16,690 --> 00:05:20,949
to see the<font color="#E5E5E5"> communication as</font><font color="#CCCCCC"> is</font><font color="#E5E5E5"> going</font>

114
00:05:18,550 --> 00:05:24,120
<font color="#CCCCCC">back</font><font color="#E5E5E5"> and forth normally when you're</font>

115
00:05:20,949 --> 00:05:28,479
using SSH you have to have a private<font color="#E5E5E5"> key</font>

116
00:05:24,120 --> 00:05:31,570
stored in the file system<font color="#E5E5E5"> of your device</font>

117
00:05:28,479 --> 00:05:33,580
<font color="#CCCCCC">okay so the key is</font><font color="#E5E5E5"> actually you can do</font>

118
00:05:31,570 --> 00:05:35,889
an LS you can see the key it says

119
00:05:33,580 --> 00:05:39,370
<font color="#E5E5E5">something dot key if you've ever seen</font>

120
00:05:35,889 --> 00:05:41,590
<font color="#CCCCCC">that one great thing about</font><font color="#E5E5E5"> using</font>

121
00:05:39,370 --> 00:05:45,039
<font color="#E5E5E5">Hardware cryptography is that</font>

122
00:05:41,590 --> 00:05:47,258
effectively<font color="#E5E5E5"> you</font><font color="#CCCCCC"> can</font><font color="#E5E5E5"> have the system not</font>

123
00:05:45,039 --> 00:05:49,330
get the key from<font color="#CCCCCC"> the file system which</font>

124
00:05:47,259 --> 00:05:51,759
is obviously susceptible to things<font color="#E5E5E5"> like</font>

125
00:05:49,330 --> 00:05:53,770
backups and people copying it and<font color="#CCCCCC"> so</font>

126
00:05:51,759 --> 00:05:56,860
forth<font color="#CCCCCC"> but you can actually get</font><font color="#E5E5E5"> the key</font>

127
00:05:53,770 --> 00:05:59,139
<font color="#E5E5E5">off</font><font color="#CCCCCC"> of the</font><font color="#E5E5E5"> USB hardware device in this</font>

128
00:05:56,860 --> 00:06:00,610
<font color="#E5E5E5">case the UV key and therefore it's not</font>

129
00:05:59,139 --> 00:06:03,340
possible<font color="#CCCCCC"> can somebody steal it without</font>

130
00:06:00,610 --> 00:06:05,469
<font color="#E5E5E5">being</font><font color="#CCCCCC"> detected and of course it will not</font>

131
00:06:03,340 --> 00:06:07,299
show up<font color="#CCCCCC"> on the backup and</font><font color="#E5E5E5"> so forth so</font>

132
00:06:05,469 --> 00:06:09,789
what I'm doing<font color="#CCCCCC"> up here is</font><font color="#E5E5E5"> I'm</font>

133
00:06:07,300 --> 00:06:11,860
effectively trying<font color="#E5E5E5"> to connect to my</font>

134
00:06:09,789 --> 00:06:15,310
machine<font color="#CCCCCC"> and</font><font color="#E5E5E5"> I'm getting a permission</font>

135
00:06:11,860 --> 00:06:16,780
denied<font color="#E5E5E5"> so what I can do with the UV key</font>

136
00:06:15,310 --> 00:06:17,949
and again<font color="#CCCCCC"> all the configuration</font>

137
00:06:16,780 --> 00:06:20,619
unfortunately is<font color="#E5E5E5"> in the previous</font>

138
00:06:17,949 --> 00:06:24,190
<font color="#E5E5E5">presentation that we never can get to is</font>

139
00:06:20,620 --> 00:06:27,340
that<font color="#CCCCCC"> I'm using a utility called</font><font color="#E5E5E5"> pkcs 15</font>

140
00:06:24,190 --> 00:06:29,020
which<font color="#CCCCCC"> is actually a tool that</font><font color="#E5E5E5"> you</font><font color="#CCCCCC"> would</font>

141
00:06:27,340 --> 00:06:31,750
<font color="#E5E5E5">run on Linux</font><font color="#CCCCCC"> this happens to be in a</font>

142
00:06:29,020 --> 00:06:33,060
<font color="#CCCCCC">bunch of machine and it's basically</font>

143
00:06:31,750 --> 00:06:35,760
<font color="#E5E5E5">saying</font>

144
00:06:33,060 --> 00:06:38,450
I want to run that tool<font color="#CCCCCC"> to access my</font>

145
00:06:35,760 --> 00:06:42,030
cryptographic<font color="#CCCCCC"> hardware I want to read</font>

146
00:06:38,450 --> 00:06:45,300
<font color="#CCCCCC">key</font><font color="#E5E5E5"> number one and I want to output the</font>

147
00:06:42,030 --> 00:06:47,909
public key<font color="#E5E5E5"> that's stored in the Yubikey</font>

148
00:06:45,300 --> 00:06:50,850
the little<font color="#E5E5E5"> device so I can't take the</font>

149
00:06:47,910 --> 00:06:52,350
private<font color="#E5E5E5"> key off</font><font color="#CCCCCC"> of here but I can take</font>

150
00:06:50,850 --> 00:06:53,640
the public key off of<font color="#E5E5E5"> here</font>

151
00:06:52,350 --> 00:06:55,980
if those are<font color="#E5E5E5"> you familiar with the</font>

152
00:06:53,640 --> 00:06:57,659
public<font color="#E5E5E5"> key cryptography</font><font color="#CCCCCC"> the public he</font>

153
00:06:55,980 --> 00:06:59,880
literally is public it's nothing secret

154
00:06:57,660 --> 00:07:01,350
about<font color="#E5E5E5"> it it's the private key that's the</font>

155
00:06:59,880 --> 00:07:03,719
one you<font color="#CCCCCC"> don't want other people to</font><font color="#E5E5E5"> see</font>

156
00:07:01,350 --> 00:07:05,670
<font color="#E5E5E5">in fact you can't see the key private</font>

157
00:07:03,720 --> 00:07:07,560
key<font color="#E5E5E5"> once I put a private</font><font color="#CCCCCC"> key into</font><font color="#E5E5E5"> a</font>

158
00:07:05,670 --> 00:07:10,290
<font color="#E5E5E5">newbie key</font><font color="#CCCCCC"> I can't even</font><font color="#E5E5E5"> see the private</font>

159
00:07:07,560 --> 00:07:13,770
<font color="#E5E5E5">key</font><font color="#CCCCCC"> so I'm saying give me</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> public key</font>

160
00:07:10,290 --> 00:07:15,720
from<font color="#E5E5E5"> the Yubikey and it</font><font color="#CCCCCC"> actually it</font>

161
00:07:13,770 --> 00:07:17,490
actually looks<font color="#E5E5E5"> like this although</font>

162
00:07:15,720 --> 00:07:19,080
<font color="#E5E5E5">there's a</font><font color="#CCCCCC"> lot of dots here</font><font color="#E5E5E5"> so it's</font>

163
00:07:17,490 --> 00:07:21,120
actually<font color="#E5E5E5"> would go really long but I want</font>

164
00:07:19,080 --> 00:07:23,190
to get on one slide<font color="#CCCCCC"> okay so that's what</font>

165
00:07:21,120 --> 00:07:26,700
it<font color="#E5E5E5"> looks like so effectively what I do</font>

166
00:07:23,190 --> 00:07:32,490
is I take that<font color="#E5E5E5"> public key and I copy it</font>

167
00:07:26,700 --> 00:07:34,080
<font color="#E5E5E5">into the SSH authorized keys file okay</font>

168
00:07:32,490 --> 00:07:34,920
and then I remove the<font color="#E5E5E5"> public key</font><font color="#CCCCCC"> cuz I</font>

169
00:07:34,080 --> 00:07:38,190
<font color="#E5E5E5">don't need</font><font color="#CCCCCC"> anymore</font>

170
00:07:34,920 --> 00:07:40,830
<font color="#CCCCCC">and then when</font><font color="#E5E5E5"> I want to use SSH to</font>

171
00:07:38,190 --> 00:07:43,230
connect<font color="#E5E5E5"> I effectively have to tell it</font>

172
00:07:40,830 --> 00:07:46,260
how<font color="#CCCCCC"> to connect what</font><font color="#E5E5E5"> where to get the key</font>

173
00:07:43,230 --> 00:07:48,750
<font color="#E5E5E5">from</font><font color="#CCCCCC"> the private key and I now connect</font>

174
00:07:46,260 --> 00:07:51,930
to<font color="#E5E5E5"> that as that user and I actually get</font>

175
00:07:48,750 --> 00:07:53,490
a prompt<font color="#E5E5E5"> not for the password</font><font color="#CCCCCC"> not for</font>

176
00:07:51,930 --> 00:07:55,200
the private key password no type<font color="#E5E5E5"> of</font>

177
00:07:53,490 --> 00:07:57,840
<font color="#CCCCCC">going to type</font><font color="#E5E5E5"> that out but effectively</font>

178
00:07:55,200 --> 00:08:00,719
<font color="#CCCCCC">anytime I go</font><font color="#E5E5E5"> to access the Yubikey</font><font color="#CCCCCC"> a</font>

179
00:07:57,840 --> 00:08:03,119
second security<font color="#E5E5E5"> measure is that I have</font>

180
00:08:00,720 --> 00:08:05,820
to type a<font color="#CCCCCC"> password of some type</font>

181
00:08:03,120 --> 00:08:08,640
<font color="#E5E5E5">typically five digits or four digits or</font>

182
00:08:05,820 --> 00:08:11,940
six digits<font color="#E5E5E5"> to be able</font><font color="#CCCCCC"> to access this</font>

183
00:08:08,640 --> 00:08:14,700
device<font color="#CCCCCC"> okay access the little</font><font color="#E5E5E5"> ebk and in</font>

184
00:08:11,940 --> 00:08:17,850
fact once I do that<font color="#CCCCCC"> and</font><font color="#E5E5E5"> I type in the</font>

185
00:08:14,700 --> 00:08:19,289
thing I actually get an idea<font color="#CCCCCC"> of prompt</font>

186
00:08:17,850 --> 00:08:22,770
and if I ask<font color="#E5E5E5"> Who I am</font>

187
00:08:19,290 --> 00:08:24,870
I've now<font color="#E5E5E5"> SSH tin as Postgres when I</font>

188
00:08:22,770 --> 00:08:25,680
<font color="#E5E5E5">wasn't</font><font color="#CCCCCC"> using Postgres up here</font><font color="#E5E5E5"> because I</font>

189
00:08:24,870 --> 00:08:28,590
<font color="#E5E5E5">was somebody else</font>

190
00:08:25,680 --> 00:08:30,810
<font color="#E5E5E5">okay</font><font color="#CCCCCC"> so my point is from</font><font color="#E5E5E5"> this slide</font><font color="#CCCCCC"> that</font>

191
00:08:28,590 --> 00:08:32,819
you're basically going<font color="#E5E5E5"> in and you are</font>

192
00:08:30,810 --> 00:08:34,590
configuring<font color="#E5E5E5"> that putting the public key</font>

193
00:08:32,820 --> 00:08:39,780
out and<font color="#E5E5E5"> registering it with that user</font>

194
00:08:34,590 --> 00:08:41,820
<font color="#E5E5E5">then you're using it to</font><font color="#CCCCCC"> login okay pkcs</font>

195
00:08:39,780 --> 00:08:43,390
11 is actually the the protocol<font color="#CCCCCC"> that</font>

196
00:08:41,820 --> 00:08:45,970
we're using<font color="#E5E5E5"> here</font>

197
00:08:43,390 --> 00:08:49,780
here's a little<font color="#CCCCCC"> more</font><font color="#E5E5E5"> sophisticated</font>

198
00:08:45,970 --> 00:08:53,320
example where I'm actually configuring

199
00:08:49,780 --> 00:08:57,490
SSH<font color="#E5E5E5"> I actually have a little strip here</font>

200
00:08:53,320 --> 00:09:00,070
<font color="#E5E5E5">that I've got</font><font color="#CCCCCC"> a hostname and a</font><font color="#E5E5E5"> provider</font>

201
00:08:57,490 --> 00:09:03,610
and I'm actually<font color="#E5E5E5"> setting that up in the</font>

202
00:09:00,070 --> 00:09:06,190
SSH config file and now if I do<font color="#E5E5E5"> that I</font>

203
00:09:03,610 --> 00:09:06,880
<font color="#E5E5E5">don't need to prompt</font><font color="#CCCCCC"> for this open SC</font>

204
00:09:06,190 --> 00:09:10,780
anymore

205
00:09:06,880 --> 00:09:13,030
I've now registered open SC in SSH

206
00:09:10,780 --> 00:09:15,520
config<font color="#CCCCCC"> and therefore I can</font><font color="#E5E5E5"> just leave</font>

207
00:09:13,030 --> 00:09:17,709
SSH<font color="#E5E5E5"> the name of the person</font><font color="#CCCCCC"> I want to</font>

208
00:09:15,520 --> 00:09:20,319
<font color="#E5E5E5">become</font><font color="#CCCCCC"> or</font><font color="#E5E5E5"> the host I want to go to I get</font>

209
00:09:17,710 --> 00:09:22,180
prompted<font color="#CCCCCC"> for the ping and boom I am</font>

210
00:09:20,320 --> 00:09:24,220
actually there and of<font color="#CCCCCC"> course there</font><font color="#E5E5E5"> is a</font>

211
00:09:22,180 --> 00:09:28,390
there<font color="#CCCCCC"> is a</font><font color="#E5E5E5"> URL there if you're</font>

212
00:09:24,220 --> 00:09:30,790
<font color="#E5E5E5">interested</font><font color="#CCCCCC"> ok</font><font color="#E5E5E5"> another actually hold on</font>

213
00:09:28,390 --> 00:09:39,069
<font color="#E5E5E5">let me</font><font color="#CCCCCC"> just fix that cuz that's</font><font color="#E5E5E5"> annoying</font>

214
00:09:30,790 --> 00:09:40,890
<font color="#E5E5E5">now let me let</font><font color="#CCCCCC"> me try</font><font color="#E5E5E5"> to get rid of that</font>

215
00:09:39,070 --> 00:09:46,060
<font color="#E5E5E5">little</font><font color="#CCCCCC"> thing there at the top there</font><font color="#E5E5E5"> oh</font>

216
00:09:40,890 --> 00:09:51,069
it went away<font color="#CCCCCC"> ok figure that</font><font color="#E5E5E5"> one out</font>

217
00:09:46,060 --> 00:09:53,829
<font color="#CCCCCC">ok great so that's that's</font><font color="#E5E5E5"> another</font><font color="#CCCCCC"> one</font>

218
00:09:51,070 --> 00:09:55,540
<font color="#E5E5E5">there is something called SSH SSH agent</font>

219
00:09:53,830 --> 00:09:57,310
<font color="#E5E5E5">I'm not sure how many the familiar with</font>

220
00:09:55,540 --> 00:09:59,980
that<font color="#E5E5E5"> but it allows you to avoid</font>

221
00:09:57,310 --> 00:10:02,680
continually typing the<font color="#CCCCCC"> ping in for the</font>

222
00:09:59,980 --> 00:10:05,410
Yubikey<font color="#CCCCCC"> so it basically loads</font><font color="#E5E5E5"> the key</font>

223
00:10:02,680 --> 00:10:06,489
into memory not on disk<font color="#E5E5E5"> loads the key</font>

224
00:10:05,410 --> 00:10:08,770
into memory and<font color="#E5E5E5"> then you'll have</font><font color="#CCCCCC"> to keep</font>

225
00:10:06,490 --> 00:10:10,510
<font color="#E5E5E5">taping the key this is how you configure</font>

226
00:10:08,770 --> 00:10:11,829
it<font color="#E5E5E5"> again I expect</font><font color="#CCCCCC"> if you want to use</font>

227
00:10:10,510 --> 00:10:14,650
that you<font color="#E5E5E5"> would probably download these</font>

228
00:10:11,830 --> 00:10:17,500
<font color="#CCCCCC">slides and try it and again I run SS</font>

229
00:10:14,650 --> 00:10:19,449
agent and I type the pin once and then

230
00:10:17,500 --> 00:10:21,910
now I can SSH<font color="#CCCCCC"> and I'm not</font><font color="#E5E5E5"> even getting</font>

231
00:10:19,450 --> 00:10:24,190
prompted anymore for the pin<font color="#CCCCCC"> ok or I</font>

232
00:10:21,910 --> 00:10:25,990
<font color="#E5E5E5">could use this this protocol here either</font>

233
00:10:24,190 --> 00:10:28,180
one would work<font color="#E5E5E5"> and again we have some</font>

234
00:10:25,990 --> 00:10:30,520
URLs to<font color="#CCCCCC"> it</font><font color="#E5E5E5"> to kind</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> help you along</font><font color="#CCCCCC"> ok</font>

235
00:10:28,180 --> 00:10:33,329
<font color="#E5E5E5">this is actually a script I don't expect</font>

236
00:10:30,520 --> 00:10:36,400
you to<font color="#E5E5E5"> read it but it's actually a</font>

237
00:10:33,330 --> 00:10:39,310
script that<font color="#CCCCCC"> I wrote</font><font color="#E5E5E5"> that allows me to</font>

238
00:10:36,400 --> 00:10:42,459
run<font color="#E5E5E5"> the SSH daemon in the background</font>

239
00:10:39,310 --> 00:10:44,650
effectively at boot I can run this<font color="#E5E5E5"> and</font>

240
00:10:42,460 --> 00:10:46,420
if SS agent<font color="#CCCCCC"> hasn't been configured it</font>

241
00:10:44,650 --> 00:10:47,740
configures it and then it keeps<font color="#E5E5E5"> it</font>

242
00:10:46,420 --> 00:10:50,170
running so therefore I<font color="#CCCCCC"> don't have to</font>

243
00:10:47,740 --> 00:10:51,970
kind of keep<font color="#CCCCCC"> typing it in all the time</font>

244
00:10:50,170 --> 00:10:54,040
so<font color="#E5E5E5"> this is just a script if you're if</font>

245
00:10:51,970 --> 00:10:54,520
you're<font color="#E5E5E5"> interested feel free to cut and</font>

246
00:10:54,040 --> 00:10:56,829
paste<font color="#CCCCCC"> that</font>

247
00:10:54,520 --> 00:10:59,380
and<font color="#CCCCCC"> edited but</font><font color="#E5E5E5"> effectively</font><font color="#CCCCCC"> what it's</font>

248
00:10:56,830 --> 00:11:01,839
doing is<font color="#CCCCCC"> it's adding the key</font><font color="#E5E5E5"> and then</font>

249
00:10:59,380 --> 00:11:03,850
it's adding the agent PID<font color="#E5E5E5"> and it's</font>

250
00:11:01,839 --> 00:11:07,300
<font color="#E5E5E5">making sure that</font><font color="#CCCCCC"> your</font><font color="#E5E5E5"> SSH agent is</font>

251
00:11:03,850 --> 00:11:10,089
running<font color="#CCCCCC"> and again this is</font><font color="#E5E5E5"> sort of</font>

252
00:11:07,300 --> 00:11:11,229
another<font color="#CCCCCC"> URL for you</font><font color="#E5E5E5"> okay</font><font color="#CCCCCC"> and again this</font>

253
00:11:10,089 --> 00:11:14,649
is how<font color="#E5E5E5"> you would install it</font>

254
00:11:11,230 --> 00:11:16,990
that's the sage<font color="#E5E5E5"> Agent P</font><font color="#CCCCCC"> monitors</font><font color="#E5E5E5"> in this</font>

255
00:11:14,649 --> 00:11:21,850
case I made route<font color="#E5E5E5"> own it and I just put</font>

256
00:11:16,990 --> 00:11:25,060
<font color="#E5E5E5">it in in do use your bin okay</font><font color="#CCCCCC"> Alban</font><font color="#E5E5E5"> okay</font>

257
00:11:21,850 --> 00:11:27,010
again if you're using SSH agent<font color="#E5E5E5"> D you</font>

258
00:11:25,060 --> 00:11:28,750
would run it like<font color="#E5E5E5"> this</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> now when you</font>

259
00:11:27,010 --> 00:11:31,420
kind<font color="#E5E5E5"> of log in it actually tells you</font>

260
00:11:28,750 --> 00:11:34,529
some information<font color="#E5E5E5"> about it and it works</font>

261
00:11:31,420 --> 00:11:37,180
really well<font color="#CCCCCC"> here's some</font><font color="#E5E5E5"> examples again</font>

262
00:11:34,529 --> 00:11:40,209
<font color="#CCCCCC">SSH into somebody and you're becoming</font>

263
00:11:37,180 --> 00:11:42,010
<font color="#E5E5E5">that okay</font><font color="#CCCCCC"> I would</font><font color="#E5E5E5"> love to take questions</font>

264
00:11:40,209 --> 00:11:44,010
<font color="#CCCCCC">but I have a feeling I don't have time</font>

265
00:11:42,010 --> 00:11:49,750
<font color="#E5E5E5">so if we have time</font><font color="#CCCCCC"> at the</font><font color="#E5E5E5"> end</font><font color="#CCCCCC"> oh</font>

266
00:11:44,010 --> 00:11:52,120
definitely be<font color="#CCCCCC"> doing that</font><font color="#E5E5E5"> number two open</font>

267
00:11:49,750 --> 00:11:54,580
<font color="#CCCCCC">PGP</font><font color="#E5E5E5"> you're probably familiar with that</font>

268
00:11:52,120 --> 00:11:57,430
<font color="#E5E5E5">it's sort of the</font><font color="#CCCCCC"> command-line</font><font color="#E5E5E5"> tool that</font>

269
00:11:54,580 --> 00:12:00,120
<font color="#E5E5E5">most people</font><font color="#CCCCCC"> use for crypto basically</font>

270
00:11:57,430 --> 00:12:02,920
signing<font color="#E5E5E5"> things like emails and documents</font>

271
00:12:00,120 --> 00:12:05,589
<font color="#CCCCCC">this</font><font color="#E5E5E5"> can also use the Yubikey</font><font color="#CCCCCC"> in</font><font color="#E5E5E5"> some</font>

272
00:12:02,920 --> 00:12:07,810
really<font color="#E5E5E5"> interesting ways again originally</font>

273
00:12:05,589 --> 00:12:09,820
designed for email but also now use for

274
00:12:07,810 --> 00:12:13,390
signing and encryption does file

275
00:12:09,820 --> 00:12:18,570
encryption signing get signing even

276
00:12:13,390 --> 00:12:23,770
<font color="#E5E5E5">Postgres stuff actually uses this okay</font>

277
00:12:18,570 --> 00:12:26,470
<font color="#E5E5E5">sorry</font><font color="#CCCCCC"> again a</font><font color="#E5E5E5"> little history of open PGP</font>

278
00:12:23,770 --> 00:12:28,420
and where it came from<font color="#CCCCCC"> GPG if you're</font>

279
00:12:26,470 --> 00:12:30,970
familiar with<font color="#E5E5E5"> that</font><font color="#CCCCCC"> name</font>

280
00:12:28,420 --> 00:12:33,040
it's expiration of certificates and

281
00:12:30,970 --> 00:12:34,990
<font color="#CCCCCC">things there's a lot of there's a lot</font><font color="#E5E5E5"> of</font>

282
00:12:33,040 --> 00:12:36,339
details here<font color="#E5E5E5"> but I'm gonna have</font><font color="#CCCCCC"> to kind</font>

283
00:12:34,990 --> 00:12:38,529
<font color="#E5E5E5">of zoom through it but effectively this</font>

284
00:12:36,339 --> 00:12:42,790
<font color="#CCCCCC">is how you install it if you're</font>

285
00:12:38,529 --> 00:12:44,680
installing the new<font color="#E5E5E5"> PG which is</font><font color="#CCCCCC"> GPG long</font>

286
00:12:42,790 --> 00:12:47,140
name<font color="#CCCCCC"> and you also have to install</font>

287
00:12:44,680 --> 00:12:48,819
something<font color="#E5E5E5"> called SC daemon which is</font>

288
00:12:47,140 --> 00:12:52,180
basically the smart card game in for

289
00:12:48,820 --> 00:12:55,180
Linux which allows open PGP<font color="#E5E5E5"> or you can</font>

290
00:12:52,180 --> 00:12:58,380
do PG<font color="#CCCCCC"> two to</font><font color="#E5E5E5"> access cryptographic</font>

291
00:12:55,180 --> 00:13:03,130
<font color="#CCCCCC">Hardware that's what the SC stands for</font>

292
00:12:58,380 --> 00:13:06,670
secure<font color="#E5E5E5"> smart card I'm sorry smart card</font>

293
00:13:03,130 --> 00:13:09,880
demon once you do that

294
00:13:06,670 --> 00:13:13,510
you can actually run GP g2 and<font color="#E5E5E5"> ask for</font>

295
00:13:09,880 --> 00:13:16,210
the card<font color="#E5E5E5"> status and effectively there it</font>

296
00:13:13,510 --> 00:13:18,880
is<font color="#E5E5E5"> it's actually</font><font color="#CCCCCC"> showing</font><font color="#E5E5E5"> us the literal</font>

297
00:13:16,210 --> 00:13:21,310
<font color="#E5E5E5">Yubikey information that it's pulling</font>

298
00:13:18,880 --> 00:13:22,990
<font color="#E5E5E5">out</font><font color="#CCCCCC"> of the little card that I keep</font>

299
00:13:21,310 --> 00:13:24,459
<font color="#E5E5E5">seeming to reach for in my thing but</font>

300
00:13:22,990 --> 00:13:26,680
it's so small<font color="#CCCCCC"> that</font><font color="#E5E5E5"> you probably can't</font>

301
00:13:24,460 --> 00:13:28,360
see<font color="#CCCCCC"> it still</font><font color="#E5E5E5"> but in fact it tells me</font>

302
00:13:26,680 --> 00:13:31,270
it's<font color="#CCCCCC"> au</font><font color="#E5E5E5"> bikini it tells me the version</font>

303
00:13:28,360 --> 00:13:34,060
<font color="#E5E5E5">it tells me</font><font color="#CCCCCC"> that some some logging</font><font color="#E5E5E5"> data</font>

304
00:13:31,270 --> 00:13:36,069
of the other person<font color="#CCCCCC"> different key</font>

305
00:13:34,060 --> 00:13:38,140
attributes and it even talks<font color="#E5E5E5"> to me about</font>

306
00:13:36,070 --> 00:13:39,820
<font color="#CCCCCC">the signature key the encryption key of</font>

307
00:13:38,140 --> 00:13:42,610
<font color="#E5E5E5">the authentication key there's actually</font>

308
00:13:39,820 --> 00:13:44,860
<font color="#CCCCCC">Yubikey has several slots</font><font color="#E5E5E5"> inside of it</font>

309
00:13:42,610 --> 00:13:48,250
it's not<font color="#E5E5E5"> just</font><font color="#CCCCCC"> one key</font><font color="#E5E5E5"> you</font><font color="#CCCCCC"> can put</font><font color="#E5E5E5"> a</font>

310
00:13:44,860 --> 00:13:49,360
whole bunch<font color="#CCCCCC"> of keys in there and in fact</font>

311
00:13:48,250 --> 00:13:52,420
it's saying<font color="#E5E5E5"> right now</font><font color="#CCCCCC"> that those are</font>

312
00:13:49,360 --> 00:13:54,430
<font color="#E5E5E5">empty</font><font color="#CCCCCC"> so this is</font><font color="#E5E5E5"> telling</font><font color="#CCCCCC"> me that my</font><font color="#E5E5E5"> card</font>

313
00:13:52,420 --> 00:13:56,349
my yubikey right now<font color="#E5E5E5"> doesn't really have</font>

314
00:13:54,430 --> 00:14:00,250
anything installed again feel<font color="#CCCCCC"> free to</font>

315
00:13:56,350 --> 00:14:03,130
look at that URL<font color="#E5E5E5"> if you wish there is a</font>

316
00:14:00,250 --> 00:14:06,190
<font color="#CCCCCC">GPG aging</font><font color="#E5E5E5"> d-- that</font><font color="#CCCCCC"> i wrote</font><font color="#E5E5E5"> again</font><font color="#CCCCCC"> to make</font>

317
00:14:03,130 --> 00:14:08,830
use of this thing<font color="#E5E5E5"> really easy</font><font color="#CCCCCC"> feel free</font>

318
00:14:06,190 --> 00:14:10,960
to copy it<font color="#CCCCCC"> but</font><font color="#E5E5E5"> here's an example of how</font>

319
00:14:08,830 --> 00:14:12,790
you would<font color="#CCCCCC"> use it you'd start GPG agent</font>

320
00:14:10,960 --> 00:14:16,050
<font color="#E5E5E5">and then you would</font><font color="#CCCCCC"> actually you can</font>

321
00:14:12,790 --> 00:14:18,819
<font color="#CCCCCC">actually use type gbg connect agent and</font>

322
00:14:16,050 --> 00:14:21,040
you can actually<font color="#E5E5E5"> reset the card</font><font color="#CCCCCC"> i know</font>

323
00:14:18,820 --> 00:14:22,810
this<font color="#E5E5E5"> is kind of gobbledygook but this is</font>

324
00:14:21,040 --> 00:14:26,199
how you do<font color="#CCCCCC"> it on a you</font><font color="#E5E5E5"> bikini to reset</font>

325
00:14:22,810 --> 00:14:29,319
the card<font color="#CCCCCC"> then you have to configure</font><font color="#E5E5E5"> the</font>

326
00:14:26,200 --> 00:14:31,330
pin for<font color="#E5E5E5"> the Yubikey effectively here i'm</font>

327
00:14:29,320 --> 00:14:34,180
<font color="#E5E5E5">generating a random number</font>

328
00:14:31,330 --> 00:14:36,340
okay that's six digits<font color="#E5E5E5"> I'm just shooting</font>

329
00:14:34,180 --> 00:14:39,069
six digits out here<font color="#E5E5E5"> cutting the first</font>

330
00:14:36,340 --> 00:14:42,790
<font color="#E5E5E5">six making that my pin and then</font>

331
00:14:39,070 --> 00:14:47,770
effectively<font color="#E5E5E5"> I go in and I set my pin</font>

332
00:14:42,790 --> 00:14:50,349
<font color="#E5E5E5">into that file and now I can I can</font>

333
00:14:47,770 --> 00:14:53,050
basically run and I can change<font color="#E5E5E5"> my pin</font>

334
00:14:50,350 --> 00:14:54,940
and I change I set my pin to be<font color="#CCCCCC"> that</font>

335
00:14:53,050 --> 00:14:57,250
number<font color="#CCCCCC"> this is another</font><font color="#E5E5E5"> password you</font><font color="#CCCCCC"> have</font>

336
00:14:54,940 --> 00:14:59,470
to use<font color="#E5E5E5"> for the administration</font><font color="#CCCCCC"> password</font>

337
00:14:57,250 --> 00:15:01,150
that's<font color="#CCCCCC"> one's</font><font color="#E5E5E5"> eight to eight digits so</font>

338
00:14:59,470 --> 00:15:02,770
effectively once you've reset the car

339
00:15:01,150 --> 00:15:05,740
this<font color="#E5E5E5"> is what the card looks like right</font>

340
00:15:02,770 --> 00:15:07,329
here blank<font color="#E5E5E5"> okay again</font><font color="#CCCCCC"> I told</font><font color="#E5E5E5"> you there's</font>

341
00:15:05,740 --> 00:15:08,620
a<font color="#CCCCCC"> whole</font><font color="#E5E5E5"> bunch of slots you can</font><font color="#CCCCCC"> create in</font>

342
00:15:07,330 --> 00:15:11,800
the Yubikey but right now they're all

343
00:15:08,620 --> 00:15:13,330
blank<font color="#CCCCCC"> and</font><font color="#E5E5E5"> of course</font><font color="#CCCCCC"> you can</font><font color="#E5E5E5"> do PG also</font>

344
00:15:11,800 --> 00:15:15,400
doesn't have anything in<font color="#E5E5E5"> it so the first</font>

345
00:15:13,330 --> 00:15:18,910
<font color="#E5E5E5">thing we have</font><font color="#CCCCCC"> to do is we create a</font>

346
00:15:15,400 --> 00:15:20,949
master primary key in canoe canoe PG

347
00:15:18,910 --> 00:15:22,329
and then we create<font color="#CCCCCC"> a signing key an</font>

348
00:15:20,950 --> 00:15:26,080
encryption key and<font color="#CCCCCC"> our authentication</font>

349
00:15:22,330 --> 00:15:28,390
<font color="#CCCCCC">key</font><font color="#E5E5E5"> all in here and then we have to</font>

350
00:15:26,080 --> 00:15:31,300
<font color="#CCCCCC">populate the keys in here to match to</font>

351
00:15:28,390 --> 00:15:34,810
<font color="#E5E5E5">match these so effectively what we do is</font>

352
00:15:31,300 --> 00:15:37,300
we generate<font color="#E5E5E5"> all the keys on the</font>

353
00:15:34,810 --> 00:15:41,709
operating system<font color="#CCCCCC"> and then we effectively</font>

354
00:15:37,300 --> 00:15:44,699
slice off<font color="#CCCCCC"> the private key the secret key</font>

355
00:15:41,710 --> 00:15:46,740
<font color="#CCCCCC">the private key and we copy them over</font>

356
00:15:44,700 --> 00:15:49,270
<font color="#E5E5E5">into the Yubikey</font>

357
00:15:46,740 --> 00:15:51,490
<font color="#CCCCCC">okay remember I said that</font><font color="#E5E5E5"> one of</font><font color="#CCCCCC"> the</font>

358
00:15:49,270 --> 00:15:54,370
beauties<font color="#CCCCCC"> of the cryptographic</font><font color="#E5E5E5"> hardware</font>

359
00:15:51,490 --> 00:15:57,580
is that effectively<font color="#E5E5E5"> your private key is</font>

360
00:15:54,370 --> 00:16:00,340
not stored in<font color="#E5E5E5"> the file system</font><font color="#CCCCCC"> okay</font><font color="#E5E5E5"> so</font>

361
00:15:57,580 --> 00:16:03,430
<font color="#CCCCCC">the way you do cryptographic hardware</font>

362
00:16:00,340 --> 00:16:05,260
with<font color="#CCCCCC"> GPG is you</font><font color="#E5E5E5"> effectively generate the</font>

363
00:16:03,430 --> 00:16:09,130
keys on the<font color="#E5E5E5"> file system</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> then you</font>

364
00:16:05,260 --> 00:16:10,689
copy those files<font color="#CCCCCC"> the private part into</font>

365
00:16:09,130 --> 00:16:14,880
<font color="#E5E5E5">the Yubikey where no one can</font><font color="#CCCCCC"> see them</font>

366
00:16:10,690 --> 00:16:19,000
and then you erase<font color="#E5E5E5"> that part okay</font><font color="#CCCCCC"> and</font>

367
00:16:14,880 --> 00:16:21,010
here's an example<font color="#CCCCCC"> new pgq I say generate</font>

368
00:16:19,000 --> 00:16:22,930
a key and this is a lot of there's<font color="#E5E5E5"> gonna</font>

369
00:16:21,010 --> 00:16:25,270
be a lot<font color="#CCCCCC"> of screens here but just bear</font>

370
00:16:22,930 --> 00:16:27,099
with<font color="#E5E5E5"> me</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> basically I'm gonna say</font><font color="#CCCCCC"> okay</font>

371
00:16:25,270 --> 00:16:29,160
what kind<font color="#E5E5E5"> of key do you</font><font color="#CCCCCC"> want and then</font>

372
00:16:27,100 --> 00:16:32,170
how<font color="#CCCCCC"> long do you</font><font color="#E5E5E5"> want it to be and then</font>

373
00:16:29,160 --> 00:16:34,150
how when do you want to expire and then

374
00:16:32,170 --> 00:16:37,089
who what's your name and what's your

375
00:16:34,150 --> 00:16:41,800
email<font color="#E5E5E5"> address and you want to go and you</font>

376
00:16:37,090 --> 00:16:43,510
say<font color="#E5E5E5"> okay</font><font color="#CCCCCC"> and then you basically go and</font>

377
00:16:41,800 --> 00:16:49,089
you edit<font color="#E5E5E5"> the key and you can actually</font>

378
00:16:43,510 --> 00:16:55,300
<font color="#E5E5E5">see this I now have a public key in my</font>

379
00:16:49,090 --> 00:16:59,170
<font color="#E5E5E5">in open PGP</font><font color="#CCCCCC"> okay again a URL</font><font color="#E5E5E5"> here for</font>

380
00:16:55,300 --> 00:17:01,209
help<font color="#CCCCCC"> then I can add another key</font><font color="#E5E5E5"> go in</font>

381
00:16:59,170 --> 00:17:04,329
and on a passphrase<font color="#CCCCCC"> I'm not I want an</font>

382
00:17:01,210 --> 00:17:07,360
RSA key in<font color="#E5E5E5"> this case I want now an</font>

383
00:17:04,329 --> 00:17:11,290
encryption key to be added that's signed

384
00:17:07,359 --> 00:17:14,439
and we're gonna quit there<font color="#E5E5E5"> okay no</font>

385
00:17:11,290 --> 00:17:16,930
expiration<font color="#E5E5E5"> in this case so effectively</font>

386
00:17:14,440 --> 00:17:20,890
<font color="#E5E5E5">this is</font><font color="#CCCCCC"> a cheat sheet of how to</font>

387
00:17:16,930 --> 00:17:22,450
understand the<font color="#CCCCCC"> GPG to labels a is</font>

388
00:17:20,890 --> 00:17:24,880
authenticate<font color="#E5E5E5"> see a certificate</font>

389
00:17:22,450 --> 00:17:26,710
certificate of creation he is encrypt

390
00:17:24,880 --> 00:17:30,130
and<font color="#CCCCCC"> SSI and</font><font color="#E5E5E5"> a member I said there's four</font>

391
00:17:26,710 --> 00:17:32,880
<font color="#E5E5E5">different keys that GPG typically uses</font>

392
00:17:30,130 --> 00:17:34,380
these are the labels you'll see so

393
00:17:32,880 --> 00:17:37,860
now I'm<font color="#E5E5E5"> looking at</font><font color="#CCCCCC"> Mikey I</font><font color="#E5E5E5"> have one</font>

394
00:17:34,380 --> 00:17:41,310
<font color="#CCCCCC">public key and in this case to</font><font color="#E5E5E5"> public</font>

395
00:17:37,860 --> 00:17:43,290
<font color="#CCCCCC">sub keys right here</font><font color="#E5E5E5"> and if I toggle to</font>

396
00:17:41,310 --> 00:17:46,230
look at the private part<font color="#CCCCCC"> I have one</font>

397
00:17:43,290 --> 00:17:50,730
<font color="#E5E5E5">secret key and I have two secret sub</font>

398
00:17:46,230 --> 00:17:53,100
keys<font color="#E5E5E5"> okay</font><font color="#CCCCCC"> I do</font><font color="#E5E5E5"> apologize it is</font><font color="#CCCCCC"> a lot of</font>

399
00:17:50,730 --> 00:17:56,820
<font color="#CCCCCC">material doing I mean we're on</font><font color="#E5E5E5"> slide 33</font>

400
00:17:53,100 --> 00:17:59,939
of 94<font color="#E5E5E5"> okay so I'm doing</font><font color="#CCCCCC"> my best here</font>

401
00:17:56,820 --> 00:18:04,470
folks but<font color="#E5E5E5"> you got to take the cards</font>

402
00:17:59,940 --> 00:18:07,680
you're<font color="#E5E5E5"> dealt</font><font color="#CCCCCC"> so again if we look</font><font color="#E5E5E5"> at the</font>

403
00:18:04,470 --> 00:18:11,190
if the car at<font color="#CCCCCC"> GPG itself</font><font color="#E5E5E5"> we have three</font>

404
00:18:07,680 --> 00:18:13,560
keys<font color="#E5E5E5"> we add to the card key and now this</font>

405
00:18:11,190 --> 00:18:17,820
is<font color="#E5E5E5"> going to copy all</font><font color="#CCCCCC"> of my private keys</font>

406
00:18:13,560 --> 00:18:21,210
<font color="#E5E5E5">over into into</font><font color="#CCCCCC"> the system so I'm</font><font color="#E5E5E5"> now</font>

407
00:18:17,820 --> 00:18:23,610
<font color="#E5E5E5">going to copy the encryption key over in</font>

408
00:18:21,210 --> 00:18:26,690
this case now I've three now I've copied

409
00:18:23,610 --> 00:18:30,629
it over<font color="#CCCCCC"> but you notice that this one</font>

410
00:18:26,690 --> 00:18:32,940
<font color="#CCCCCC">actually says it's in the card</font><font color="#E5E5E5"> see how</font>

411
00:18:30,630 --> 00:18:34,320
<font color="#E5E5E5">all of these</font><font color="#CCCCCC"> are public and</font><font color="#E5E5E5"> may just</font>

412
00:18:32,940 --> 00:18:37,050
look like<font color="#E5E5E5"> one line right</font>

413
00:18:34,320 --> 00:18:40,590
two of these are<font color="#E5E5E5"> public or private and</font>

414
00:18:37,050 --> 00:18:42,480
they're still in on disk and<font color="#CCCCCC"> this one</font>

415
00:18:40,590 --> 00:18:45,090
actually<font color="#E5E5E5"> has already been transferred</font><font color="#CCCCCC"> to</font>

416
00:18:42,480 --> 00:18:47,850
the card<font color="#E5E5E5"> okay I'm going</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> do the same</font>

417
00:18:45,090 --> 00:18:50,340
thing again<font color="#CCCCCC"> see</font><font color="#E5E5E5"> again we have one</font>

418
00:18:47,850 --> 00:18:53,280
<font color="#CCCCCC">transferred to the card</font><font color="#E5E5E5"> I'm going to</font><font color="#CCCCCC"> BC</font>

419
00:18:50,340 --> 00:18:56,220
say<font color="#E5E5E5"> copy all the private ones over and</font>

420
00:18:53,280 --> 00:19:00,899
<font color="#CCCCCC">now if I look at my spry vut key all of</font>

421
00:18:56,220 --> 00:19:02,580
these are now in the card itself<font color="#CCCCCC"> then</font>

422
00:19:00,900 --> 00:19:04,170
I'm going to delete the secret keys

423
00:19:02,580 --> 00:19:04,949
because<font color="#E5E5E5"> remember I transferred them to</font>

424
00:19:04,170 --> 00:19:07,260
<font color="#E5E5E5">the Yubikey</font>

425
00:19:04,950 --> 00:19:08,790
<font color="#E5E5E5">so I'm going to get rid of them now</font><font color="#CCCCCC"> I'm</font>

426
00:19:07,260 --> 00:19:11,730
going to just get rid<font color="#E5E5E5"> of the private</font>

427
00:19:08,790 --> 00:19:14,670
keys on<font color="#CCCCCC"> on</font><font color="#E5E5E5"> disk so that</font><font color="#CCCCCC"> they're only</font><font color="#E5E5E5"> on</font>

428
00:19:11,730 --> 00:19:18,660
<font color="#E5E5E5">the Yubikey</font><font color="#CCCCCC"> and then pull them in</font><font color="#E5E5E5"> I know</font>

429
00:19:14,670 --> 00:19:22,350
<font color="#E5E5E5">again more information</font><font color="#CCCCCC"> there</font><font color="#E5E5E5"> so if I now</font>

430
00:19:18,660 --> 00:19:26,130
look<font color="#CCCCCC"> at my</font><font color="#E5E5E5"> setup here</font><font color="#CCCCCC"> I've got the three</font>

431
00:19:22,350 --> 00:19:29,310
public keys<font color="#CCCCCC"> we're gonna now and remove</font>

432
00:19:26,130 --> 00:19:31,530
the encrypted<font color="#E5E5E5"> sub keys to the card kind</font>

433
00:19:29,310 --> 00:19:34,230
<font color="#CCCCCC">of run through key to card and now I'm</font>

434
00:19:31,530 --> 00:19:35,790
<font color="#CCCCCC">gonna</font><font color="#E5E5E5"> shove that over see</font><font color="#CCCCCC"> in signature</font>

435
00:19:34,230 --> 00:19:38,700
key has nothing<font color="#E5E5E5"> encryption key has</font>

436
00:19:35,790 --> 00:19:41,399
nothing<font color="#E5E5E5"> more education key now the cards</font>

437
00:19:38,700 --> 00:19:43,580
telling me it has one okay<font color="#E5E5E5"> again encrypt</font>

438
00:19:41,400 --> 00:19:45,780
the key now I got two<font color="#CCCCCC"> of them</font><font color="#E5E5E5"> over</font><font color="#CCCCCC"> here</font>

439
00:19:43,580 --> 00:19:48,590
<font color="#CCCCCC">card</font><font color="#E5E5E5"> number right here</font>

440
00:19:45,780 --> 00:19:51,810
<font color="#E5E5E5">okay and now I'm gonna do this one and</font>

441
00:19:48,590 --> 00:19:53,280
I'm gonna<font color="#CCCCCC"> cue</font><font color="#E5E5E5"> the card again</font><font color="#CCCCCC"> and now I</font>

442
00:19:51,810 --> 00:19:56,179
got<font color="#E5E5E5"> three of them Bing Bing Bing</font><font color="#CCCCCC"> all</font>

443
00:19:53,280 --> 00:20:00,210
three<font color="#E5E5E5"> of them now are on the Yubikey</font>

444
00:19:56,180 --> 00:20:02,580
<font color="#E5E5E5">okay and I'm gonna</font><font color="#CCCCCC"> save right</font><font color="#E5E5E5"> so now</font>

445
00:20:00,210 --> 00:20:04,680
when I<font color="#CCCCCC"> look at my UV key we're back to</font>

446
00:20:02,580 --> 00:20:06,210
the Yubikey<font color="#E5E5E5"> okay we're not looking on</font>

447
00:20:04,680 --> 00:20:07,730
<font color="#CCCCCC">discord look at the Yubikey now</font><font color="#E5E5E5"> I have a</font>

448
00:20:06,210 --> 00:20:09,900
signature remember this was empty<font color="#E5E5E5"> before</font>

449
00:20:07,730 --> 00:20:12,270
<font color="#E5E5E5">remember the</font><font color="#CCCCCC"> previous screen these</font><font color="#E5E5E5"> were</font>

450
00:20:09,900 --> 00:20:14,520
<font color="#CCCCCC">all</font><font color="#E5E5E5"> said none now</font><font color="#CCCCCC"> in the Yubikey I've</font>

451
00:20:12,270 --> 00:20:19,980
got a signature<font color="#E5E5E5"> key encryption key</font>

452
00:20:14,520 --> 00:20:22,200
authentication key and the dates okay<font color="#CCCCCC"> so</font>

453
00:20:19,980 --> 00:20:24,090
if I<font color="#CCCCCC"> at now</font><font color="#E5E5E5"> look at my yubikey you can</font>

454
00:20:22,200 --> 00:20:27,030
see they're all kind of<font color="#E5E5E5"> marked they all</font>

455
00:20:24,090 --> 00:20:28,980
have card numbers on it<font color="#CCCCCC"> this</font><font color="#E5E5E5"> is an</font>

456
00:20:27,030 --> 00:20:32,910
important indicator<font color="#E5E5E5"> it says that there's</font>

457
00:20:28,980 --> 00:20:34,950
there's a pointer<font color="#CCCCCC"> here that inside GPG</font>

458
00:20:32,910 --> 00:20:37,560
we don't have the key we<font color="#CCCCCC"> have a pointer</font>

459
00:20:34,950 --> 00:20:41,070
to the card slot<font color="#CCCCCC"> and that's what</font><font color="#E5E5E5"> that's</font>

460
00:20:37,560 --> 00:20:44,010
what<font color="#CCCCCC"> that's telling</font><font color="#E5E5E5"> me okay</font><font color="#CCCCCC"> and I that's</font>

461
00:20:41,070 --> 00:20:45,899
<font color="#E5E5E5">that's pretty pretty typical so now that</font>

462
00:20:44,010 --> 00:20:49,710
we've sort of set everything<font color="#CCCCCC"> up</font><font color="#E5E5E5"> let's</font>

463
00:20:45,900 --> 00:20:51,870
actually use<font color="#CCCCCC"> that key to actually do</font>

464
00:20:49,710 --> 00:20:54,420
something<font color="#E5E5E5"> so what I'm going to do is I'm</font>

465
00:20:51,870 --> 00:20:57,510
gonna<font color="#E5E5E5"> take the word test</font><font color="#CCCCCC"> and I'm going</font>

466
00:20:54,420 --> 00:20:59,730
to<font color="#E5E5E5"> encrypt it with</font><font color="#CCCCCC"> GPG two with some</font>

467
00:20:57,510 --> 00:21:02,190
<font color="#E5E5E5">armor I'm going to send it to I'm</font><font color="#CCCCCC"> gonna</font>

468
00:20:59,730 --> 00:21:03,990
<font color="#CCCCCC">use</font><font color="#E5E5E5"> that as my key ID and then I'm going</font>

469
00:21:02,190 --> 00:21:06,420
to decrypt it so I'm going<font color="#CCCCCC"> to take the</font>

470
00:21:03,990 --> 00:21:09,510
<font color="#E5E5E5">key</font><font color="#CCCCCC"> I'm gonna take a word I'm going</font><font color="#E5E5E5"> to</font>

471
00:21:06,420 --> 00:21:11,010
encrypt it<font color="#CCCCCC"> with that key</font><font color="#E5E5E5"> and then right</font>

472
00:21:09,510 --> 00:21:12,420
<font color="#E5E5E5">away I'm going to decrypt it so the test</font>

473
00:21:11,010 --> 00:21:16,470
goes in and bingo

474
00:21:12,420 --> 00:21:19,200
test comes out right<font color="#E5E5E5"> and the interesting</font>

475
00:21:16,470 --> 00:21:24,000
part<font color="#E5E5E5"> is</font><font color="#CCCCCC"> that we've actually used the ub</font>

476
00:21:19,200 --> 00:21:25,830
<font color="#E5E5E5">key to decrypt this the public key was</font>

477
00:21:24,000 --> 00:21:27,450
always on disk because<font color="#E5E5E5"> we don't care</font>

478
00:21:25,830 --> 00:21:29,129
<font color="#CCCCCC">about the public</font><font color="#E5E5E5"> key anyone can see it</font>

479
00:21:27,450 --> 00:21:30,810
so we don't transfer we don't the

480
00:21:29,130 --> 00:21:33,140
transfer the<font color="#E5E5E5"> public key over but the</font>

481
00:21:30,810 --> 00:21:38,190
private key certainly<font color="#CCCCCC"> used the Yubikey</font>

482
00:21:33,140 --> 00:21:43,140
<font color="#E5E5E5">here's another</font><font color="#CCCCCC"> example</font><font color="#E5E5E5"> if I if I do test</font>

483
00:21:38,190 --> 00:21:45,930
and I do a a check I sign it with<font color="#CCCCCC"> GPG</font>

484
00:21:43,140 --> 00:21:47,820
<font color="#CCCCCC">two</font><font color="#E5E5E5"> I can actually say signatures made</font>

485
00:21:45,930 --> 00:21:50,580
and it's talking<font color="#E5E5E5"> about when I signed it</font>

486
00:21:47,820 --> 00:21:52,260
<font color="#CCCCCC">so that's that's a signing</font><font color="#E5E5E5"> of</font><font color="#CCCCCC"> that</font>

487
00:21:50,580 --> 00:21:56,939
message<font color="#E5E5E5"> just a little different usage</font>

488
00:21:52,260 --> 00:21:58,559
here okay<font color="#CCCCCC"> you can actually use</font><font color="#E5E5E5"> the open</font>

489
00:21:56,940 --> 00:22:01,080
g PG and<font color="#CCCCCC"> OpenSSH</font>

490
00:21:58,559 --> 00:22:05,820
together so remember I showed<font color="#CCCCCC"> you before</font>

491
00:22:01,080 --> 00:22:08,789
<font color="#E5E5E5">how to configure</font><font color="#CCCCCC"> OpenSSH with a Yubikey</font>

492
00:22:05,820 --> 00:22:11,730
<font color="#E5E5E5">well you don't have to use do you BK</font>

493
00:22:08,789 --> 00:22:15,299
directly you can use<font color="#CCCCCC"> OpenSSH OpenSSH can</font>

494
00:22:11,730 --> 00:22:18,419
use<font color="#CCCCCC"> GPG which uses the Yubikey so you're</font>

495
00:22:15,299 --> 00:22:22,110
now<font color="#E5E5E5"> putting a new layer in the</font><font color="#CCCCCC"> setup</font>

496
00:22:18,419 --> 00:22:25,740
<font color="#E5E5E5">here</font><font color="#CCCCCC"> so here's an example let's</font><font color="#E5E5E5"> pretend</font>

497
00:22:22,110 --> 00:22:28,320
<font color="#E5E5E5">I can't</font><font color="#CCCCCC"> login now I can actually use</font>

498
00:22:25,740 --> 00:22:32,330
I can take my SSH<font color="#E5E5E5"> and</font><font color="#CCCCCC"> I can throw it</font>

499
00:22:28,320 --> 00:22:37,049
into<font color="#E5E5E5"> a file</font><font color="#CCCCCC"> and now I can cat it over to</font>

500
00:22:32,330 --> 00:22:40,289
<font color="#CCCCCC">seven</font><font color="#E5E5E5"> minutes</font><font color="#CCCCCC"> okay I can cat it in to</font>

501
00:22:37,049 --> 00:22:44,158
<font color="#CCCCCC">authorize</font><font color="#E5E5E5"> keys and now I've become that</font>

502
00:22:40,289 --> 00:22:47,009
person<font color="#CCCCCC"> this</font><font color="#E5E5E5"> is a kind of software stack</font>

503
00:22:44,159 --> 00:22:49,769
for cryptographic<font color="#CCCCCC"> Hardware here's the</font>

504
00:22:47,009 --> 00:22:53,149
Yubikey over here in<font color="#CCCCCC"> green ok</font><font color="#E5E5E5"> we have</font>

505
00:22:49,769 --> 00:22:56,039
four slots<font color="#E5E5E5"> one two three four</font>

506
00:22:53,149 --> 00:22:58,018
<font color="#CCCCCC">certificates here public key private</font>

507
00:22:56,039 --> 00:23:01,259
keys over<font color="#E5E5E5"> here and then there's</font><font color="#CCCCCC"> an open</font>

508
00:22:58,019 --> 00:23:04,110
<font color="#CCCCCC">G PG section inside the Yubikey and also</font>

509
00:23:01,259 --> 00:23:08,389
auth slots<font color="#E5E5E5"> and again all the software</font>

510
00:23:04,110 --> 00:23:11,248
this used<font color="#E5E5E5"> to access that is there</font><font color="#CCCCCC"> okay</font>

511
00:23:08,389 --> 00:23:14,418
<font color="#E5E5E5">so just a</font><font color="#CCCCCC"> little comparison</font><font color="#E5E5E5"> if you've</font>

512
00:23:11,249 --> 00:23:17,399
ever heard of<font color="#CCCCCC"> P</font><font color="#E5E5E5"> IV p IV is the</font>

513
00:23:14,419 --> 00:23:19,169
government standard for encryption<font color="#CCCCCC"> this</font>

514
00:23:17,399 --> 00:23:21,149
is just a slide<font color="#CCCCCC"> that talks about</font><font color="#E5E5E5"> some of</font>

515
00:23:19,169 --> 00:23:23,999
<font color="#CCCCCC">the advantages of when you would use</font>

516
00:23:21,149 --> 00:23:26,789
<font color="#CCCCCC">OpenSSH when you use g PG when you use P</font>

517
00:23:23,999 --> 00:23:29,070
<font color="#CCCCCC">IV again I'm</font><font color="#E5E5E5"> not</font><font color="#CCCCCC"> going to</font><font color="#E5E5E5"> go into this</font>

518
00:23:26,789 --> 00:23:31,230
because<font color="#E5E5E5"> we don't</font><font color="#CCCCCC"> have</font><font color="#E5E5E5"> time let's finish</font>

519
00:23:29,070 --> 00:23:34,590
off by talking about<font color="#CCCCCC"> post graphs which I</font>

520
00:23:31,230 --> 00:23:37,200
actually know<font color="#CCCCCC"> quite a bit about</font><font color="#E5E5E5"> we</font>

521
00:23:34,590 --> 00:23:40,049
basically normally have a challenge<font color="#E5E5E5"> in</font>

522
00:23:37,200 --> 00:23:42,289
Postgres of how to in store private

523
00:23:40,049 --> 00:23:45,749
information how<font color="#E5E5E5"> to store information</font>

524
00:23:42,289 --> 00:23:49,230
<font color="#E5E5E5">without anyone seeing it one of the</font>

525
00:23:45,749 --> 00:23:52,230
tricks<font color="#E5E5E5"> to do that is to place a private</font>

526
00:23:49,230 --> 00:23:55,139
key on the client side<font color="#E5E5E5"> and just as I use</font>

527
00:23:52,230 --> 00:23:57,629
<font color="#CCCCCC">GP g to encrypt and decrypt i can do</font><font color="#E5E5E5"> all</font>

528
00:23:55,139 --> 00:24:00,299
<font color="#CCCCCC">my encryption and decryption here</font><font color="#E5E5E5"> I can</font>

529
00:23:57,629 --> 00:24:04,379
also do some decryption and encryption

530
00:24:00,299 --> 00:24:07,830
over on the Postgres side another idea

531
00:24:04,379 --> 00:24:09,750
<font color="#E5E5E5">is to juice juice to encrypt it on this</font>

532
00:24:07,830 --> 00:24:11,470
side and then just decrypt it on that so

533
00:24:09,750 --> 00:24:15,039
I have some<font color="#E5E5E5"> kind of symmetric key</font>

534
00:24:11,470 --> 00:24:17,620
that's pretty simple<font color="#CCCCCC"> here's an</font><font color="#E5E5E5"> example</font>

535
00:24:15,039 --> 00:24:21,429
where we<font color="#CCCCCC"> actually create</font><font color="#E5E5E5"> a table for</font>

536
00:24:17,620 --> 00:24:24,070
<font color="#CCCCCC">each user</font><font color="#E5E5E5"> and each user</font><font color="#CCCCCC"> gets</font><font color="#E5E5E5"> a symmetric</font>

537
00:24:21,429 --> 00:24:27,279
encryption key<font color="#CCCCCC"> okay</font>

538
00:24:24,070 --> 00:24:30,668
and effectively what we do here is<font color="#CCCCCC"> we at</font>

539
00:24:27,279 --> 00:24:34,659
the<font color="#E5E5E5"> client side we use</font><font color="#CCCCCC"> open SSH and</font><font color="#E5E5E5"> we</font>

540
00:24:30,669 --> 00:24:38,620
create a symmetric key then we<font color="#E5E5E5"> echo the</font>

541
00:24:34,659 --> 00:24:40,720
<font color="#E5E5E5">symmetric key and store it into a</font>

542
00:24:38,620 --> 00:24:42,639
variable<font color="#CCCCCC"> so here's my symmetric key</font>

543
00:24:40,720 --> 00:24:44,799
here's my encrypted symmetric key<font color="#E5E5E5"> and</font>

544
00:24:42,639 --> 00:24:47,620
then<font color="#E5E5E5"> we create a signed hash you</font><font color="#CCCCCC"> get</font>

545
00:24:44,799 --> 00:24:50,769
again a whole lot<font color="#E5E5E5"> of</font><font color="#CCCCCC"> OpenSSH going on in</font>

546
00:24:47,620 --> 00:24:52,508
here sort<font color="#E5E5E5"> of to encrypt that</font><font color="#CCCCCC"> well what's</font>

547
00:24:50,769 --> 00:24:55,029
interesting is that when<font color="#E5E5E5"> you send a</font>

548
00:24:52,509 --> 00:24:57,940
query<font color="#E5E5E5"> to</font><font color="#CCCCCC"> Postgres</font><font color="#E5E5E5"> we can have the</font>

549
00:24:55,029 --> 00:25:00,519
<font color="#E5E5E5">clients send its encryption key over to</font>

550
00:24:57,940 --> 00:25:03,669
<font color="#E5E5E5">Postgres Postgres can encrypt it and</font>

551
00:25:00,519 --> 00:25:05,950
<font color="#E5E5E5">then store the encrypted data on the</font>

552
00:25:03,669 --> 00:25:09,639
<font color="#E5E5E5">Postgres side the problem here of course</font>

553
00:25:05,950 --> 00:25:12,789
is you're sending this encryption<font color="#E5E5E5"> over</font>

554
00:25:09,639 --> 00:25:14,649
the network<font color="#E5E5E5"> and Postgres is seeing that</font>

555
00:25:12,789 --> 00:25:17,649
<font color="#E5E5E5">symmetric key which is kind of kind of</font>

556
00:25:14,649 --> 00:25:20,199
<font color="#E5E5E5">yucky</font><font color="#CCCCCC"> you can actually retrieve</font><font color="#E5E5E5"> your own</font>

557
00:25:17,649 --> 00:25:22,029
symmetric key by doing a select and then

558
00:25:20,200 --> 00:25:25,210
<font color="#E5E5E5">you can decrypt the data on the client</font>

559
00:25:22,029 --> 00:25:26,710
side<font color="#CCCCCC"> doing the same thing similar here</font>

560
00:25:25,210 --> 00:25:27,879
get<font color="#E5E5E5"> this you can get the symmetric</font><font color="#CCCCCC"> key</font>

561
00:25:26,710 --> 00:25:30,210
this<font color="#CCCCCC"> is actually what the symmetric key</font>

562
00:25:27,879 --> 00:25:34,029
looks like in my particular<font color="#E5E5E5"> example</font>

563
00:25:30,210 --> 00:25:38,379
however<font color="#E5E5E5"> that's that's kind of</font>

564
00:25:34,029 --> 00:25:43,480
<font color="#CCCCCC">interesting but notice if I take the UV</font>

565
00:25:38,379 --> 00:25:45,129
key out of the server or out of yes

566
00:25:43,480 --> 00:25:49,929
<font color="#CCCCCC">they're taking Yubikey out of the server</font>

567
00:25:45,129 --> 00:25:51,299
<font color="#CCCCCC">all of a sudden I can't actually do my</font>

568
00:25:49,929 --> 00:25:55,450
encryption anymore

569
00:25:51,299 --> 00:25:58,299
<font color="#E5E5E5">because effectively it can't get to the</font>

570
00:25:55,450 --> 00:26:02,049
key the private key<font color="#E5E5E5"> anymore to figure</font>

571
00:25:58,299 --> 00:26:03,789
<font color="#E5E5E5">out how to decrypt that so it's kind of</font>

572
00:26:02,049 --> 00:26:05,799
a multi-layered<font color="#E5E5E5"> approach you basically</font>

573
00:26:03,789 --> 00:26:07,120
create<font color="#CCCCCC"> a symmetric key and then you</font>

574
00:26:05,799 --> 00:26:09,158
encrypt<font color="#E5E5E5"> it with the Yubikey</font>

575
00:26:07,120 --> 00:26:11,500
<font color="#E5E5E5">that's usually the way most encryption</font>

576
00:26:09,159 --> 00:26:13,419
happens you don't<font color="#E5E5E5"> actually use</font><font color="#CCCCCC"> public</font>

577
00:26:11,500 --> 00:26:16,360
key encryption or private key public key

578
00:26:13,419 --> 00:26:18,549
<font color="#CCCCCC">encryption for data</font><font color="#E5E5E5"> encryption you</font>

579
00:26:16,360 --> 00:26:20,709
normally<font color="#CCCCCC"> use public key encryption</font><font color="#E5E5E5"> to</font>

580
00:26:18,549 --> 00:26:22,629
encrypt<font color="#E5E5E5"> a symmetric key that's the way</font>

581
00:26:20,710 --> 00:26:24,730
TLS works<font color="#E5E5E5"> that's pretty much the way</font>

582
00:26:22,629 --> 00:26:26,409
everything<font color="#E5E5E5"> all most of them work</font><font color="#CCCCCC"> so</font>

583
00:26:24,730 --> 00:26:29,620
effectively what this solution is doing

584
00:26:26,410 --> 00:26:32,169
is is<font color="#E5E5E5"> doing that</font><font color="#CCCCCC"> here's another example</font>

585
00:26:29,620 --> 00:26:34,809
<font color="#E5E5E5">a</font><font color="#CCCCCC"> little more complicated where you're</font>

586
00:26:32,169 --> 00:26:36,880
creating<font color="#CCCCCC"> a secret</font><font color="#E5E5E5"> message</font><font color="#CCCCCC"> and you're</font>

587
00:26:34,809 --> 00:26:40,030
<font color="#E5E5E5">encrypting it with the Yubikey in this</font>

588
00:26:36,880 --> 00:26:42,549
case and then you're basically<font color="#E5E5E5"> sending</font>

589
00:26:40,030 --> 00:26:45,010
it<font color="#E5E5E5"> into</font><font color="#CCCCCC"> postcards so</font><font color="#E5E5E5"> it looks like that</font>

590
00:26:42,549 --> 00:26:46,780
now you can retrieve it<font color="#E5E5E5"> and encrypt it</font>

591
00:26:45,010 --> 00:26:48,669
again it's it's it's<font color="#CCCCCC"> pretty complicated</font>

592
00:26:46,780 --> 00:26:50,230
<font color="#CCCCCC">I'm not sure how many people</font><font color="#E5E5E5"> are</font>

593
00:26:48,669 --> 00:26:52,510
actually<font color="#CCCCCC"> interested in this</font><font color="#E5E5E5"> level of</font>

594
00:26:50,230 --> 00:26:54,490
detail<font color="#CCCCCC"> for Postgres LOM I'm trying to go</font>

595
00:26:52,510 --> 00:26:56,470
fast but again<font color="#E5E5E5"> Postgres has</font>

596
00:26:54,490 --> 00:26:58,870
cryptographic support and the hard<font color="#CCCCCC"> way</font>

597
00:26:56,470 --> 00:27:02,559
at the server<font color="#CCCCCC"> it also has the ability to</font>

598
00:26:58,870 --> 00:27:03,610
store cryptographic keys<font color="#CCCCCC"> in in Postgres</font>

599
00:27:02,559 --> 00:27:06,040
as well this<font color="#E5E5E5"> is a little more</font>

600
00:27:03,610 --> 00:27:09,340
<font color="#CCCCCC">sophisticated case where we actually use</font>

601
00:27:06,040 --> 00:27:12,520
<font color="#CCCCCC">the server</font><font color="#E5E5E5"> and we store the incredibly</font>

602
00:27:09,340 --> 00:27:14,770
store<font color="#E5E5E5"> the secret key in the file system</font>

603
00:27:12,520 --> 00:27:18,760
<font color="#CCCCCC">but we encrypt the secret key in the</font>

604
00:27:14,770 --> 00:27:20,650
file system<font color="#E5E5E5"> with the UV key so we're</font>

605
00:27:18,760 --> 00:27:22,990
storing the key on the file system<font color="#E5E5E5"> but</font>

606
00:27:20,650 --> 00:27:24,970
the key<font color="#CCCCCC"> isn't stored decrypted the key</font>

607
00:27:22,990 --> 00:27:28,059
the<font color="#CCCCCC"> secret key gets another level</font>

608
00:27:24,970 --> 00:27:31,510
<font color="#E5E5E5">encryption using the Yubikey so every</font>

609
00:27:28,059 --> 00:27:34,389
compost<font color="#CCCCCC"> Gress starts it decrypt that</font>

610
00:27:31,510 --> 00:27:37,179
particular key and then uses it to

611
00:27:34,390 --> 00:27:39,880
encrypt and<font color="#E5E5E5"> decrypt data again very</font>

612
00:27:37,179 --> 00:27:43,030
<font color="#E5E5E5">sophisticated</font><font color="#CCCCCC"> this is some examples of</font>

613
00:27:39,880 --> 00:27:44,860
that<font color="#CCCCCC"> here's an</font><font color="#E5E5E5"> example of the actual key</font>

614
00:27:43,030 --> 00:27:49,210
being used here's an example<font color="#E5E5E5"> of exactly</font>

615
00:27:44,860 --> 00:27:50,500
<font color="#E5E5E5">how you would kind of access it</font><font color="#CCCCCC"> you can</font>

616
00:27:49,210 --> 00:27:52,840
get even<font color="#E5E5E5"> more</font><font color="#CCCCCC"> sophisticated you're gonna</font>

617
00:27:50,500 --> 00:27:54,669
<font color="#CCCCCC">peruse your</font><font color="#E5E5E5"> keys</font><font color="#CCCCCC"> again</font><font color="#E5E5E5"> this is this is</font>

618
00:27:52,840 --> 00:27:57,070
<font color="#E5E5E5">really this is very complicated this</font><font color="#CCCCCC"> is</font>

619
00:27:54,669 --> 00:27:59,650
actually a<font color="#CCCCCC"> server-side function that's</font>

620
00:27:57,070 --> 00:28:01,270
<font color="#E5E5E5">written in the Perl language which</font>

621
00:27:59,650 --> 00:28:02,740
<font color="#E5E5E5">allows you to kind of do that so I'm</font>

622
00:28:01,270 --> 00:28:04,900
just<font color="#CCCCCC"> kind of kind of zoomed through</font><font color="#E5E5E5"> here</font>

623
00:28:02,740 --> 00:28:06,910
<font color="#CCCCCC">the point is</font><font color="#E5E5E5"> that you have actually</font>

624
00:28:04,900 --> 00:28:10,150
transparent encryption<font color="#E5E5E5"> and Postgres by</font>

625
00:28:06,910 --> 00:28:13,270
using<font color="#E5E5E5"> this</font><font color="#CCCCCC"> and again this is way more</font>

626
00:28:10,150 --> 00:28:15,220
than<font color="#CCCCCC"> you want</font><font color="#E5E5E5"> to hear but keep in mind</font>

627
00:28:13,270 --> 00:28:18,879
<font color="#E5E5E5">that there are performance issues here</font>

628
00:28:15,220 --> 00:28:22,330
too<font color="#CCCCCC"> again</font><font color="#E5E5E5"> I'm going to try and take one</font>

629
00:28:18,880 --> 00:28:23,980
question<font color="#CCCCCC"> or two but feel</font><font color="#E5E5E5"> free to look at</font>

630
00:28:22,330 --> 00:28:25,899
this this talk is about database

631
00:28:23,980 --> 00:28:31,290
encryption<font color="#E5E5E5"> probably not something people</font>

632
00:28:25,900 --> 00:28:34,210
<font color="#E5E5E5">are interested in so much</font><font color="#CCCCCC"> let's see so</font>

633
00:28:31,290 --> 00:28:35,840
<font color="#E5E5E5">okay so let's take one</font><font color="#CCCCCC"> question two</font>

634
00:28:34,210 --> 00:28:42,320
<font color="#E5E5E5">questions I think</font><font color="#CCCCCC"> I have two</font><font color="#E5E5E5"> minutes</font>

635
00:28:35,840 --> 00:28:43,760
<font color="#E5E5E5">to take some</font><font color="#CCCCCC"> questions</font><font color="#E5E5E5"> for people so</font>

636
00:28:42,320 --> 00:28:46,700
great<font color="#E5E5E5"> so the question is is it possible</font>

637
00:28:43,760 --> 00:28:48,379
<font color="#CCCCCC">to make a backup</font><font color="#E5E5E5"> of the private key what</font>

638
00:28:46,700 --> 00:28:50,120
we normally before<font color="#CCCCCC"> you put on the</font>

639
00:28:48,380 --> 00:28:52,159
Yubikey what we normally<font color="#E5E5E5"> tell people to</font>

640
00:28:50,120 --> 00:28:55,299
do and you're absolutely<font color="#E5E5E5"> right</font>

641
00:28:52,159 --> 00:28:57,500
is you would when you create the key

642
00:28:55,299 --> 00:28:59,900
before<font color="#E5E5E5"> you're always you're almost</font>

643
00:28:57,500 --> 00:29:03,500
always creating<font color="#E5E5E5"> you can create the</font>

644
00:28:59,900 --> 00:29:04,760
private key on the Yubikey<font color="#CCCCCC"> okay</font><font color="#E5E5E5"> but if</font>

645
00:29:03,500 --> 00:29:06,409
you<font color="#CCCCCC"> create the private key on the</font>

646
00:29:04,760 --> 00:29:08,270
Yubikey<font color="#E5E5E5"> you can't make it back above it</font>

647
00:29:06,409 --> 00:29:10,010
because<font color="#E5E5E5"> you'll never see it</font><font color="#CCCCCC"> so what we</font>

648
00:29:08,270 --> 00:29:14,629
normally<font color="#E5E5E5"> tell people to do is create the</font>

649
00:29:10,010 --> 00:29:17,090
create<font color="#E5E5E5"> the key in</font><font color="#CCCCCC"> OpenSSH SSL ssh so</font>

650
00:29:14,630 --> 00:29:21,710
create<font color="#E5E5E5"> the key in the</font><font color="#CCCCCC"> filesystem on</font>

651
00:29:17,090 --> 00:29:24,590
<font color="#E5E5E5">linux make a copy of</font><font color="#CCCCCC"> that key</font><font color="#E5E5E5"> to to a</font>

652
00:29:21,710 --> 00:29:26,600
<font color="#E5E5E5">USB stick that you can take away then</font>

653
00:29:24,590 --> 00:29:28,580
copy<font color="#E5E5E5"> it to the Yubikey and delete it so</font>

654
00:29:26,600 --> 00:29:31,820
you probably<font color="#E5E5E5"> want to generate the keys</font>

655
00:29:28,580 --> 00:29:35,330
on your<font color="#CCCCCC"> Linux</font><font color="#E5E5E5"> machine make a copy of it</font>

656
00:29:31,820 --> 00:29:37,010
that you can<font color="#CCCCCC"> take offline</font><font color="#E5E5E5"> copy that</font><font color="#CCCCCC"> also</font>

657
00:29:35,330 --> 00:29:38,990
to the Yubikey<font color="#E5E5E5"> and then delete</font><font color="#CCCCCC"> it from</font>

658
00:29:37,010 --> 00:29:40,640
your<font color="#E5E5E5"> file system that's normally way to</font>

659
00:29:38,990 --> 00:29:42,529
do it the<font color="#E5E5E5"> normal</font><font color="#CCCCCC"> way actually I would</font>

660
00:29:40,640 --> 00:29:45,230
tell people<font color="#CCCCCC"> to do it is to literally put</font>

661
00:29:42,529 --> 00:29:48,200
a USB stick<font color="#E5E5E5"> and create the Yubikey</font><font color="#CCCCCC"> on</font>

662
00:29:45,230 --> 00:29:50,480
the<font color="#E5E5E5"> USB stick</font><font color="#CCCCCC"> not in your</font><font color="#E5E5E5"> fall system</font>

663
00:29:48,200 --> 00:29:53,840
<font color="#E5E5E5">right not in your Linux file</font><font color="#CCCCCC"> system but</font>

664
00:29:50,480 --> 00:29:57,770
<font color="#E5E5E5">create the key on the USB filesystem</font>

665
00:29:53,840 --> 00:30:00,199
<font color="#E5E5E5">right copy that</font><font color="#CCCCCC"> to the Yubikey and then</font>

666
00:29:57,770 --> 00:30:02,750
pull the USB stick out<font color="#CCCCCC"> so the us think</font>

667
00:30:00,200 --> 00:30:07,360
that<font color="#E5E5E5"> the key</font><font color="#CCCCCC"> is never never hits your</font>

668
00:30:02,750 --> 00:30:07,360
platters another question yes<font color="#CCCCCC"> sir</font>

669
00:30:08,700 --> 00:30:22,059
<font color="#E5E5E5">I'm sorry so why did I use</font><font color="#CCCCCC"> Yubikey</font>

670
00:30:19,480 --> 00:30:24,669
instead of<font color="#CCCCCC"> TBM I found a lot</font><font color="#E5E5E5"> of</font>

671
00:30:22,059 --> 00:30:27,309
<font color="#CCCCCC">open-source support for the Yubikey and</font>

672
00:30:24,669 --> 00:30:30,309
the ability to extract it from<font color="#CCCCCC"> the</font>

673
00:30:27,309 --> 00:30:33,009
device<font color="#CCCCCC"> because if you take the key out</font>

674
00:30:30,309 --> 00:30:36,279
<font color="#E5E5E5">there's that machine is</font><font color="#CCCCCC"> as</font><font color="#E5E5E5"> no you know</font>

675
00:30:33,009 --> 00:30:38,289
so I honestly I haven't<font color="#E5E5E5"> I never came up</font>

676
00:30:36,279 --> 00:30:40,840
<font color="#E5E5E5">in my research I never actually saw it</font>

677
00:30:38,289 --> 00:30:42,129
as a as an option<font color="#CCCCCC"> for Linux when I was</font>

678
00:30:40,840 --> 00:30:44,759
<font color="#CCCCCC">really doing research as possible I'll</font>

679
00:30:42,129 --> 00:30:47,879
take a look one more<font color="#E5E5E5"> question maybe</font>

680
00:30:44,759 --> 00:30:55,930
we're good<font color="#CCCCCC"> ok thank you very much</font>

681
00:30:47,880 --> 00:30:55,930
[Applause]

