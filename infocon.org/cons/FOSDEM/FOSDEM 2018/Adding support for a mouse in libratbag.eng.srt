1
00:00:04,950 --> 00:00:15,180
so this will<font color="#E5E5E5"> be a talk on their on</font>

2
00:00:10,530 --> 00:00:18,599
<font color="#CCCCCC">labrat back the bread back is for</font>

3
00:00:15,180 --> 00:00:24,500
supporting gaming mice<font color="#E5E5E5"> like like when I</font>

4
00:00:18,599 --> 00:00:27,090
hear it's the<font color="#E5E5E5"> gaming mice today are</font>

5
00:00:24,500 --> 00:00:29,130
quite advanced actually<font color="#E5E5E5"> where you</font><font color="#CCCCCC"> can</font>

6
00:00:27,090 --> 00:00:32,759
you<font color="#E5E5E5"> can push settings directly</font><font color="#CCCCCC"> on to the</font>

7
00:00:29,130 --> 00:00:36,120
<font color="#CCCCCC">device it has onboard memory</font><font color="#E5E5E5"> where you</font>

8
00:00:32,759 --> 00:00:38,400
can you can configure like the LEDs the

9
00:00:36,120 --> 00:00:40,860
colors the patterns<font color="#E5E5E5"> you</font><font color="#CCCCCC"> can set</font>

10
00:00:38,400 --> 00:00:43,710
different mappings you can put macros on

11
00:00:40,860 --> 00:00:45,870
there and then once you take<font color="#CCCCCC"> the mice</font><font color="#E5E5E5"> to</font>

12
00:00:43,710 --> 00:00:48,019
another computer you<font color="#E5E5E5"> still have the same</font>

13
00:00:45,870 --> 00:00:50,669
settings<font color="#E5E5E5"> on it</font>

14
00:00:48,019 --> 00:00:52,320
<font color="#CCCCCC">gamers typically have it also</font><font color="#E5E5E5"> where you</font>

15
00:00:50,670 --> 00:00:53,970
have different<font color="#CCCCCC"> profiles</font><font color="#E5E5E5"> on</font><font color="#CCCCCC"> the mice so</font>

16
00:00:52,320 --> 00:00:58,019
that you can you<font color="#CCCCCC"> can quickly switch</font>

17
00:00:53,970 --> 00:01:01,080
<font color="#E5E5E5">between specific sensitivities for for</font>

18
00:00:58,019 --> 00:01:02,970
<font color="#E5E5E5">for different parts of the game so</font>

19
00:01:01,080 --> 00:01:05,600
that's the profiles and then then this

20
00:01:02,970 --> 00:01:10,079
is resolution<font color="#CCCCCC"> for</font><font color="#E5E5E5"> maps and their release</font>

21
00:01:05,600 --> 00:01:12,829
<font color="#E5E5E5">so the problem with these gaming mice is</font>

22
00:01:10,079 --> 00:01:17,548
that the software<font color="#E5E5E5"> to configure them is</font>

23
00:01:12,829 --> 00:01:21,139
mostly only released for<font color="#CCCCCC"> Windows so we</font>

24
00:01:17,549 --> 00:01:24,539
don't have much official support and

25
00:01:21,140 --> 00:01:26,939
every vendor has their<font color="#CCCCCC"> own protocol that</font>

26
00:01:24,539 --> 00:01:28,649
they talk to the mice with and typically

27
00:01:26,939 --> 00:01:33,109
also<font color="#E5E5E5"> different protocol versions</font>

28
00:01:28,649 --> 00:01:38,340
depending on which which device they use

29
00:01:33,109 --> 00:01:44,820
so<font color="#E5E5E5"> labret back was created by</font><font color="#CCCCCC"> pierre and</font>

30
00:01:38,340 --> 00:01:47,310
<font color="#E5E5E5">in two minutes</font><font color="#CCCCCC"> as well it it meant to</font>

31
00:01:44,820 --> 00:01:48,439
unify the support for for all<font color="#E5E5E5"> of these</font>

32
00:01:47,310 --> 00:01:51,869
mice because<font color="#E5E5E5"> there were a lot</font><font color="#CCCCCC"> of</font>

33
00:01:48,439 --> 00:01:55,939
projects scattered around<font color="#E5E5E5"> delivering</font>

34
00:01:51,869 --> 00:01:59,609
support only<font color="#E5E5E5"> for certain models and and</font>

35
00:01:55,939 --> 00:02:02,880
<font color="#E5E5E5">brands so to create one unified</font>

36
00:01:59,609 --> 00:02:04,439
interface to kind<font color="#CCCCCC"> of</font><font color="#E5E5E5"> look at all the</font>

37
00:02:02,880 --> 00:02:06,329
mice and say<font color="#CCCCCC"> ok what's what's the the</font>

38
00:02:04,439 --> 00:02:08,399
common features that we want<font color="#CCCCCC"> to support</font>

39
00:02:06,329 --> 00:02:12,690
<font color="#E5E5E5">not everything is supported on all</font>

40
00:02:08,399 --> 00:02:16,260
models<font color="#E5E5E5"> and then to deliver that in a way</font>

41
00:02:12,690 --> 00:02:19,250
that<font color="#CCCCCC"> you can integrate nicely into into</font>

42
00:02:16,260 --> 00:02:19,250
your<font color="#E5E5E5"> desktop environments</font>

43
00:02:20,190 --> 00:02:27,880
so there's already been a few talks<font color="#E5E5E5"> on</font>

44
00:02:23,530 --> 00:02:32,500
<font color="#CCCCCC">dirt</font><font color="#E5E5E5"> on lip</font><font color="#CCCCCC"> brought back one at X DC and</font>

45
00:02:27,880 --> 00:02:35,079
one in aquatic that ended with a note

46
00:02:32,500 --> 00:02:37,570
saying we need help with reverse

47
00:02:35,080 --> 00:02:40,300
engineering all the mice and so that's

48
00:02:37,570 --> 00:02:42,970
going<font color="#E5E5E5"> to be the focus of this talk on</font>

49
00:02:40,300 --> 00:02:48,190
how to do that so that<font color="#CCCCCC"> that people</font><font color="#E5E5E5"> can</font>

50
00:02:42,970 --> 00:02:52,180
help hopefully<font color="#E5E5E5"> help so the basic</font>

51
00:02:48,190 --> 00:02:54,900
architecture that's used for in the<font color="#CCCCCC"> Rat</font>

52
00:02:52,180 --> 00:02:58,060
<font color="#CCCCCC">Pack is that you have user interfaces</font>

53
00:02:54,900 --> 00:03:04,150
<font color="#E5E5E5">that the</font><font color="#CCCCCC"> user</font><font color="#E5E5E5"> reduce it could be Piper</font>

54
00:02:58,060 --> 00:03:07,980
<font color="#CCCCCC">which is</font><font color="#E5E5E5"> this one the user interface</font>

55
00:03:04,150 --> 00:03:11,100
talks to the<font color="#CCCCCC"> read-back daemon which is</font>

56
00:03:07,980 --> 00:03:15,100
<font color="#E5E5E5">running you communicate with the D bus</font>

57
00:03:11,100 --> 00:03:19,620
it<font color="#E5E5E5"> uses a lab rat back to to have the</font>

58
00:03:15,100 --> 00:03:22,480
overall functionality and then for each

59
00:03:19,620 --> 00:03:25,600
<font color="#E5E5E5">Mouse or a brand of mice you have</font>

60
00:03:22,480 --> 00:03:29,649
<font color="#E5E5E5">different driver backends and these are</font>

61
00:03:25,600 --> 00:03:34,269
the ones we will be implementing well we

62
00:03:29,650 --> 00:03:37,600
need to<font color="#CCCCCC"> implement the first thing that</font>

63
00:03:34,270 --> 00:03:40,750
<font color="#E5E5E5">the brat pack will do is that when when</font>

64
00:03:37,600 --> 00:03:43,630
you start it up it<font color="#E5E5E5"> will start</font><font color="#CCCCCC"> by</font>

65
00:03:40,750 --> 00:03:48,000
discovering which of the connected

66
00:03:43,630 --> 00:03:51,730
devices can can it operate with it will

67
00:03:48,000 --> 00:03:58,750
do this on<font color="#E5E5E5"> first by matching the vendor</font>

68
00:03:51,730 --> 00:04:02,380
<font color="#E5E5E5">and</font><font color="#CCCCCC"> product ID</font><font color="#E5E5E5"> and the USB and then it</font>

69
00:03:58,750 --> 00:04:03,940
will it will probe<font color="#CCCCCC"> the device try to</font><font color="#E5E5E5"> to</font>

70
00:04:02,380 --> 00:04:06,609
just make<font color="#E5E5E5"> sure that everything is in</font>

71
00:04:03,940 --> 00:04:10,180
<font color="#E5E5E5">complete order</font><font color="#CCCCCC"> that it has to this</font>

72
00:04:06,610 --> 00:04:13,570
expected features then it will

73
00:04:10,180 --> 00:04:15,690
internally say okay which capabilities

74
00:04:13,570 --> 00:04:20,409
does this<font color="#E5E5E5"> Mouse have does it have LEDs</font>

75
00:04:15,690 --> 00:04:23,140
can I switch profiles<font color="#E5E5E5"> can</font><font color="#CCCCCC"> I map buttons</font>

76
00:04:20,410 --> 00:04:25,600
<font color="#E5E5E5">things like that and then it loads the</font>

77
00:04:23,140 --> 00:04:29,080
<font color="#E5E5E5">full on board configuration that store</font>

78
00:04:25,600 --> 00:04:32,620
on the mouse if possible

79
00:04:29,080 --> 00:04:34,419
then the user<font color="#E5E5E5"> will through the through</font>

80
00:04:32,620 --> 00:04:38,259
<font color="#CCCCCC">the interface</font><font color="#E5E5E5"> the graphical interface</font>

81
00:04:34,419 --> 00:04:39,878
will also some of the state that labrat

82
00:04:38,259 --> 00:04:44,349
back now has loaded<font color="#E5E5E5"> into its own memory</font>

83
00:04:39,879 --> 00:04:46,330
<font color="#CCCCCC">and when you're done you say you want to</font>

84
00:04:44,349 --> 00:04:49,628
push it<font color="#CCCCCC"> to the device and</font><font color="#E5E5E5"> then it writes</font>

85
00:04:46,330 --> 00:04:51,729
everything<font color="#E5E5E5"> to the device for you so you</font>

86
00:04:49,629 --> 00:04:55,539
<font color="#E5E5E5">have this middle</font><font color="#CCCCCC"> thing in the back where</font>

87
00:04:51,729 --> 00:05:00,639
you<font color="#E5E5E5"> store a lag of a buffer</font><font color="#CCCCCC"> of the of</font>

88
00:04:55,539 --> 00:05:03,039
the changes coming back to so how we do

89
00:05:00,639 --> 00:05:06,270
the matching<font color="#E5E5E5"> the first step you'll do if</font>

90
00:05:03,039 --> 00:05:12,330
<font color="#CCCCCC">you want</font><font color="#E5E5E5"> to support a new</font><font color="#CCCCCC"> Mouse is to</font>

91
00:05:06,270 --> 00:05:12,330
run LS USB or similar to get the the

92
00:05:12,659 --> 00:05:18,430
vendor and product IDs<font color="#E5E5E5"> you put that into</font>

93
00:05:15,819 --> 00:05:21,159
the device match<font color="#E5E5E5"> you give it a name it</font>

94
00:05:18,430 --> 00:05:23,979
will just be<font color="#E5E5E5"> for a</font><font color="#CCCCCC"> pushed for for</font>

95
00:05:21,159 --> 00:05:25,779
showing in<font color="#E5E5E5"> in the in the UI and then you</font>

96
00:05:23,979 --> 00:05:28,300
specify<font color="#E5E5E5"> which driver you want to use in</font>

97
00:05:25,779 --> 00:05:30,879
this example<font color="#CCCCCC"> it's up here it's a steel</font>

98
00:05:28,300 --> 00:05:35,800
series driver<font color="#E5E5E5"> and you also have a SVG</font>

99
00:05:30,879 --> 00:05:38,319
<font color="#E5E5E5">which will be like a view of the of the</font>

100
00:05:35,800 --> 00:05:41,889
mouse that<font color="#CCCCCC"> we'll be looking</font><font color="#E5E5E5"> into a bit</font>

101
00:05:38,319 --> 00:05:44,259
later and you can<font color="#CCCCCC"> also put extended</font>

102
00:05:41,889 --> 00:05:48,490
information<font color="#CCCCCC"> in there if you cannot query</font>

103
00:05:44,259 --> 00:05:50,860
it under on the device<font color="#E5E5E5"> itself so the the</font>

104
00:05:48,490 --> 00:05:53,259
basic<font color="#CCCCCC"> data</font><font color="#E5E5E5"> structure within the brat</font>

105
00:05:50,860 --> 00:05:56,560
pack is that you'll<font color="#E5E5E5"> have a device on the</font>

106
00:05:53,259 --> 00:05:59,589
device you have multiple profiles<font color="#E5E5E5"> at</font>

107
00:05:56,560 --> 00:06:01,719
least one in that<font color="#E5E5E5"> you can have different</font>

108
00:05:59,589 --> 00:06:05,770
<font color="#CCCCCC">resolutions which are that you can</font>

109
00:06:01,719 --> 00:06:08,560
switch between<font color="#E5E5E5"> where say one has a dpi</font>

110
00:06:05,770 --> 00:06:10,750
of<font color="#E5E5E5"> 800</font><font color="#CCCCCC"> and the other</font><font color="#E5E5E5"> one</font><font color="#CCCCCC"> 2000 or</font>

111
00:06:08,560 --> 00:06:14,879
whatever you<font color="#E5E5E5"> need and you have your</font>

112
00:06:10,750 --> 00:06:14,879
<font color="#E5E5E5">button mappings and your</font><font color="#CCCCCC"> led settings</font>

113
00:06:15,719 --> 00:06:25,539
<font color="#E5E5E5">their capabilities that you will want</font><font color="#CCCCCC"> to</font>

114
00:06:19,539 --> 00:06:27,639
put on the mouse are defined as within

115
00:06:25,539 --> 00:06:29,500
<font color="#CCCCCC">the</font><font color="#E5E5E5"> within the</font><font color="#CCCCCC"> backpack</font><font color="#E5E5E5"> with some</font>

116
00:06:27,639 --> 00:06:31,509
definitions<font color="#E5E5E5"> you can see there are many</font>

117
00:06:29,500 --> 00:06:33,940
of them<font color="#E5E5E5"> but these are</font><font color="#CCCCCC"> the things that</font>

118
00:06:31,509 --> 00:06:35,710
<font color="#E5E5E5">you will kind of when you when you when</font>

119
00:06:33,940 --> 00:06:37,990
you buy the mouse or or you have it you

120
00:06:35,710 --> 00:06:40,419
can<font color="#E5E5E5"> you</font><font color="#CCCCCC"> can you can see from the device</font>

121
00:06:37,990 --> 00:06:42,060
pretty<font color="#E5E5E5"> much okay does it have LEDs can I</font>

122
00:06:40,419 --> 00:06:44,130
can<font color="#E5E5E5"> I switch</font>

123
00:06:42,060 --> 00:06:45,690
the between the profiles<font color="#E5E5E5"> and things like</font>

124
00:06:44,130 --> 00:06:47,969
that<font color="#E5E5E5"> so these are the things that you</font>

125
00:06:45,690 --> 00:06:53,610
<font color="#E5E5E5">would do with</font><font color="#CCCCCC"> there</font><font color="#E5E5E5"> you would start</font><font color="#CCCCCC"> by</font>

126
00:06:47,970 --> 00:06:55,110
adding on to the device<font color="#E5E5E5"> and so that's</font>

127
00:06:53,610 --> 00:06:57,510
what<font color="#E5E5E5"> you could peer out of just by</font>

128
00:06:55,110 --> 00:06:58,610
looking<font color="#E5E5E5"> at the mouse then you will need</font>

129
00:06:57,510 --> 00:07:00,659
<font color="#E5E5E5">to</font><font color="#CCCCCC"> start</font>

130
00:06:58,610 --> 00:07:05,100
<font color="#CCCCCC">reverse-engineering the protocol</font><font color="#E5E5E5"> that it</font>

131
00:07:00,660 --> 00:07:08,610
talks to to the device with so since we

132
00:07:05,100 --> 00:07:11,340
only have<font color="#E5E5E5"> the vendor software from for</font>

133
00:07:08,610 --> 00:07:14,790
<font color="#CCCCCC">Windows we will need to install that in</font>

134
00:07:11,340 --> 00:07:19,109
a<font color="#E5E5E5"> virtual machine you will install their</font>

135
00:07:14,790 --> 00:07:22,800
configuration software<font color="#E5E5E5"> then redirect the</font>

136
00:07:19,110 --> 00:07:25,350
the device<font color="#E5E5E5"> we plugged in to the</font><font color="#CCCCCC"> virtual</font>

137
00:07:22,800 --> 00:07:31,229
machine<font color="#CCCCCC"> and then use Bioshock 2 to</font>

138
00:07:25,350 --> 00:07:34,800
listen on the packets<font color="#CCCCCC"> and</font><font color="#E5E5E5"> it's a good</font>

139
00:07:31,229 --> 00:07:40,680
<font color="#E5E5E5">idea</font><font color="#CCCCCC"> to set Y Ishak to decode things as</font>

140
00:07:34,800 --> 00:07:43,770
<font color="#E5E5E5">USB so then</font><font color="#CCCCCC"> you'd basically</font><font color="#E5E5E5"> just start</font>

141
00:07:40,680 --> 00:07:45,500
by opening the configuration software

142
00:07:43,770 --> 00:07:48,419
setting something<font color="#E5E5E5"> like changing the</font>

143
00:07:45,500 --> 00:07:50,940
<font color="#CCCCCC">jinxing a button mapping changing it</font>

144
00:07:48,419 --> 00:07:53,849
back<font color="#E5E5E5"> again perhaps and then looking into</font>

145
00:07:50,940 --> 00:07:58,169
the into the packets<font color="#E5E5E5"> to try and figure</font>

146
00:07:53,850 --> 00:08:00,780
<font color="#CCCCCC">out what every byte in their means</font><font color="#E5E5E5"> so</font>

147
00:07:58,169 --> 00:08:06,450
that's that's<font color="#E5E5E5"> the next step</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> to then</font>

148
00:08:00,780 --> 00:08:07,559
have a good good overview of what<font color="#CCCCCC"> what</font>

149
00:08:06,450 --> 00:08:12,300
all the<font color="#CCCCCC"> things that</font><font color="#E5E5E5"> they communicate</font>

150
00:08:07,560 --> 00:08:14,729
<font color="#E5E5E5">with what they mean</font><font color="#CCCCCC"> it's worth</font><font color="#E5E5E5"> noting</font>

151
00:08:12,300 --> 00:08:17,130
that<font color="#E5E5E5"> some of the data will sometimes</font>

152
00:08:14,729 --> 00:08:20,430
change<font color="#CCCCCC"> sometimes they</font><font color="#E5E5E5"> put check sums in</font>

153
00:08:17,130 --> 00:08:22,560
there so that you<font color="#CCCCCC"> verify that</font><font color="#E5E5E5"> it's not</font>

154
00:08:20,430 --> 00:08:25,110
random data that they're getting<font color="#E5E5E5"> so look</font>

155
00:08:22,560 --> 00:08:31,800
out for<font color="#E5E5E5"> that</font><font color="#CCCCCC"> and also consider the</font>

156
00:08:25,110 --> 00:08:37,890
<font color="#E5E5E5">Indian s typically</font><font color="#CCCCCC"> big-endian so it's a</font>

157
00:08:31,800 --> 00:08:42,900
big quick demo for the VM<font color="#CCCCCC"> I prefer</font><font color="#E5E5E5"> to</font>

158
00:08:37,890 --> 00:08:45,439
use<font color="#CCCCCC"> gnome boxes it's it has a feature</font>

159
00:08:42,900 --> 00:08:45,439
<font color="#CCCCCC">where</font>

160
00:08:46,160 --> 00:08:56,469
oops didn't<font color="#E5E5E5"> expect</font><font color="#CCCCCC"> oh sorry</font>

161
00:09:01,150 --> 00:09:09,810
No

162
00:09:03,120 --> 00:09:12,160
<font color="#CCCCCC">mmm-hmm sorry</font><font color="#E5E5E5"> here we</font><font color="#CCCCCC"> go</font>

163
00:09:09,810 --> 00:09:14,380
normally boxes will not allow you to

164
00:09:12,160 --> 00:09:15,910
<font color="#E5E5E5">redirect the mouse that you have</font>

165
00:09:14,380 --> 00:09:18,040
connected<font color="#E5E5E5"> because then you will not be</font>

166
00:09:15,910 --> 00:09:21,189
<font color="#CCCCCC">able to control it outside</font><font color="#E5E5E5"> anymore but</font>

167
00:09:18,040 --> 00:09:22,540
in this<font color="#E5E5E5"> case we want so specify that and</font>

168
00:09:21,190 --> 00:09:32,320
it will allow you<font color="#E5E5E5"> to do it</font>

169
00:09:22,540 --> 00:09:37,599
stop that<font color="#E5E5E5"> up yeah</font>

170
00:09:32,320 --> 00:09:51,010
live demos always a good<font color="#E5E5E5"> idea okay in</font>

171
00:09:37,600 --> 00:09:55,260
the<font color="#E5E5E5"> meantime we'll try to so maybe this</font>

172
00:09:51,010 --> 00:10:03,280
<font color="#E5E5E5">will not work</font><font color="#CCCCCC"> okay that's unfortunate</font>

173
00:09:55,260 --> 00:10:07,000
okay so would have started<font color="#CCCCCC"> washout as</font>

174
00:10:03,280 --> 00:10:09,010
well but<font color="#E5E5E5"> just</font><font color="#CCCCCC"> today</font><font color="#E5E5E5"> here I know now I</font>

175
00:10:07,000 --> 00:10:11,650
<font color="#E5E5E5">did know from running</font><font color="#CCCCCC"> LSU speed that</font>

176
00:10:09,010 --> 00:10:15,640
this<font color="#E5E5E5"> is unde a USB bus</font><font color="#CCCCCC"> 3</font><font color="#E5E5E5"> for my computer</font>

177
00:10:11,650 --> 00:10:24,850
so I<font color="#E5E5E5"> could go in</font><font color="#CCCCCC"> here hopefully the box</font>

178
00:10:15,640 --> 00:10:27,630
<font color="#E5E5E5">this is coming up it behind and and I</font>

179
00:10:24,850 --> 00:10:27,630
can't see the top

180
00:10:29,900 --> 00:10:36,510
<font color="#CCCCCC">No</font><font color="#E5E5E5"> okay so I can't click</font><font color="#CCCCCC"> on</font><font color="#E5E5E5"> the toolbar</font>

181
00:10:34,380 --> 00:10:39,410
<font color="#CCCCCC">and</font><font color="#E5E5E5"> it's somewhere I would start to</font>

182
00:10:36,510 --> 00:10:42,140
capture<font color="#E5E5E5"> but okay I'm sorry about that</font>

183
00:10:39,410 --> 00:10:45,500
yeah<font color="#E5E5E5"> but you would go into that loop</font>

184
00:10:42,140 --> 00:10:48,330
<font color="#E5E5E5">poking at it all the</font><font color="#CCCCCC"> time looking okay I</font>

185
00:10:45,500 --> 00:10:50,400
was going<font color="#CCCCCC"> to</font><font color="#E5E5E5"> change the LED colors on</font>

186
00:10:48,330 --> 00:10:52,500
this<font color="#CCCCCC"> one to kind</font><font color="#E5E5E5"> of show okay now I</font>

187
00:10:50,400 --> 00:10:55,880
change it from blue we can<font color="#E5E5E5"> see which</font>

188
00:10:52,500 --> 00:10:59,010
parts<font color="#CCCCCC"> of</font><font color="#E5E5E5"> the of the message it</font><font color="#CCCCCC"> sends</font>

189
00:10:55,880 --> 00:11:03,270
that that we<font color="#CCCCCC"> set to this value</font><font color="#E5E5E5"> that we</font>

190
00:10:59,010 --> 00:11:12,210
know um<font color="#E5E5E5"> so I suppose this is</font><font color="#CCCCCC"> not</font><font color="#E5E5E5"> going</font>

191
00:11:03,270 --> 00:11:16,439
<font color="#E5E5E5">to be working okay okay so well once you</font>

192
00:11:12,210 --> 00:11:19,190
have<font color="#CCCCCC"> done that then then now you know</font>

193
00:11:16,440 --> 00:11:22,560
<font color="#E5E5E5">which which</font><font color="#CCCCCC"> is messages you will want to</font>

194
00:11:19,190 --> 00:11:24,600
<font color="#E5E5E5">send you you know the length of the of</font>

195
00:11:22,560 --> 00:11:28,079
the stream little send or the packet and

196
00:11:24,600 --> 00:11:29,900
there where<font color="#E5E5E5"> each individual parts go so</font>

197
00:11:28,080 --> 00:11:32,850
you want<font color="#E5E5E5"> to create a new driver</font><font color="#CCCCCC"> and</font>

198
00:11:29,900 --> 00:11:36,050
within the source folder<font color="#E5E5E5"> there already</font>

199
00:11:32,850 --> 00:11:39,240
multiple drivers in there so you<font color="#E5E5E5"> just</font>

200
00:11:36,050 --> 00:11:41,310
maybe there's copy one<font color="#E5E5E5"> of them then</font><font color="#CCCCCC"> you</font>

201
00:11:39,240 --> 00:11:46,140
want<font color="#CCCCCC"> to register</font><font color="#E5E5E5"> it</font><font color="#CCCCCC"> you if there's just</font>

202
00:11:41,310 --> 00:11:49,020
<font color="#E5E5E5">a structure you put them into</font><font color="#CCCCCC"> to to have</font>

203
00:11:46,140 --> 00:11:51,270
<font color="#CCCCCC">labret back</font><font color="#E5E5E5"> consider that one and then</font>

204
00:11:49,020 --> 00:11:56,010
<font color="#E5E5E5">you put in the device file that we saw</font>

205
00:11:51,270 --> 00:11:59,760
earlier<font color="#CCCCCC"> so the driver that</font><font color="#E5E5E5"> you</font><font color="#CCCCCC"> will</font>

206
00:11:56,010 --> 00:12:01,590
right we'll we'll<font color="#CCCCCC"> have three function</font>

207
00:11:59,760 --> 00:12:04,140
pointers<font color="#E5E5E5"> where you need to</font><font color="#CCCCCC"> make to give</font>

208
00:12:01,590 --> 00:12:07,650
it an implementation one for the probing

209
00:12:04,140 --> 00:12:09,510
<font color="#E5E5E5">this is so what what labrat back</font><font color="#CCCCCC"> will</font>

210
00:12:07,650 --> 00:12:12,569
call<font color="#CCCCCC"> into you when it when the checks to</font>

211
00:12:09,510 --> 00:12:14,850
<font color="#E5E5E5">see if the</font><font color="#CCCCCC"> device that you were matched</font>

212
00:12:12,570 --> 00:12:17,130
on it's actually<font color="#E5E5E5"> correct you can you can</font>

213
00:12:14,850 --> 00:12:18,750
<font color="#CCCCCC">make some basic checks for it by just</font>

214
00:12:17,130 --> 00:12:20,750
either sending it a message<font color="#E5E5E5"> that's</font>

215
00:12:18,750 --> 00:12:24,360
<font color="#E5E5E5">checking if it has the correct report</font>

216
00:12:20,750 --> 00:12:27,600
descriptors<font color="#E5E5E5"> and then you pull the folder</font>

217
00:12:24,360 --> 00:12:29,570
<font color="#E5E5E5">for put pull the full configuration into</font>

218
00:12:27,600 --> 00:12:35,050
into the<font color="#E5E5E5"> starches then there's the</font>

219
00:12:29,570 --> 00:12:37,910
commit yeah sorry

220
00:12:35,050 --> 00:12:39,949
the<font color="#CCCCCC"> commit where you push everything</font>

221
00:12:37,910 --> 00:12:41,480
<font color="#E5E5E5">back basically just loop over</font><font color="#CCCCCC"> the</font>

222
00:12:39,950 --> 00:12:44,420
profiles loop over the over<font color="#CCCCCC"> the</font>

223
00:12:41,480 --> 00:12:48,170
resolutions<font color="#CCCCCC"> write</font><font color="#E5E5E5"> all the messages you</font>

224
00:12:44,420 --> 00:12:50,120
need each of the parts and in the<font color="#E5E5E5"> data</font>

225
00:12:48,170 --> 00:12:51,620
<font color="#E5E5E5">structure you</font><font color="#CCCCCC"> simply have a dirty field</font>

226
00:12:50,120 --> 00:12:53,480
that you could say<font color="#E5E5E5"> okay did the user</font>

227
00:12:51,620 --> 00:12:58,970
actually<font color="#CCCCCC"> change</font><font color="#E5E5E5"> this can we skip sending</font>

228
00:12:53,480 --> 00:13:00,980
this<font color="#E5E5E5"> a specific packet</font><font color="#CCCCCC"> the one for</font><font color="#E5E5E5"> said</font>

229
00:12:58,970 --> 00:13:03,680
active profile<font color="#E5E5E5"> some mice will allow you</font>

230
00:13:00,980 --> 00:13:05,990
<font color="#E5E5E5">to change the profile from from the</font>

231
00:13:03,680 --> 00:13:08,569
client<font color="#CCCCCC"> so if you're working</font><font color="#E5E5E5"> with Piper</font>

232
00:13:05,990 --> 00:13:11,840
<font color="#CCCCCC">if you change the profile in</font><font color="#E5E5E5"> the</font>

233
00:13:08,570 --> 00:13:15,350
drop-down then it can can move it as

234
00:13:11,840 --> 00:13:19,390
well<font color="#CCCCCC"> and the remove function is</font><font color="#E5E5E5"> just to</font>

235
00:13:15,350 --> 00:13:19,390
free any<font color="#CCCCCC"> L</font><font color="#E5E5E5"> in a new memory you allocated</font>

236
00:13:19,720 --> 00:13:24,800
labrat back has some some helper

237
00:13:23,060 --> 00:13:27,170
functions that are worth taking<font color="#CCCCCC"> into</font>

238
00:13:24,800 --> 00:13:30,170
consideration<font color="#E5E5E5"> it's especially for the</font>

239
00:13:27,170 --> 00:13:37,790
<font color="#CCCCCC">Indian s if you</font><font color="#E5E5E5"> have some some fields</font>

240
00:13:30,170 --> 00:13:39,860
will be<font color="#CCCCCC"> 16-bit and then you want to use</font>

241
00:13:37,790 --> 00:13:40,790
<font color="#CCCCCC">the helper functions to do the</font>

242
00:13:39,860 --> 00:13:42,980
conversions for<font color="#E5E5E5"> you</font>

243
00:13:40,790 --> 00:13:45,410
there's also tables for the for the<font color="#E5E5E5"> hit</font>

244
00:13:42,980 --> 00:13:50,120
keys so that<font color="#CCCCCC"> you don't have to</font><font color="#E5E5E5"> to do all</font>

245
00:13:45,410 --> 00:13:53,350
that lookups yourself<font color="#E5E5E5"> so take</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> look out</font>

246
00:13:50,120 --> 00:13:59,450
<font color="#CCCCCC">for those</font><font color="#E5E5E5"> if</font><font color="#CCCCCC"> you're</font><font color="#E5E5E5"> going to write one</font>

247
00:13:53,350 --> 00:14:04,880
so there is also this this<font color="#E5E5E5"> nice to</font><font color="#CCCCCC"> piper</font>

248
00:13:59,450 --> 00:14:06,950
<font color="#E5E5E5">a UI that</font><font color="#CCCCCC"> again two hits</font><font color="#E5E5E5"> kiss if I</font>

249
00:14:04,880 --> 00:14:08,839
<font color="#CCCCCC">manage</font><font color="#E5E5E5"> to pronounce that correctly</font><font color="#CCCCCC"> he</font>

250
00:14:06,950 --> 00:14:10,850
worked on it<font color="#E5E5E5"> as part of the sum of</font><font color="#CCCCCC"> coat</font>

251
00:14:08,839 --> 00:14:14,089
<font color="#CCCCCC">the summer turned out to be a</font><font color="#E5E5E5"> really</font>

252
00:14:10,850 --> 00:14:17,680
nice interface I think it communicates

253
00:14:14,089 --> 00:14:24,050
<font color="#E5E5E5">with</font><font color="#CCCCCC"> labrat back</font><font color="#E5E5E5"> right back demon and</font>

254
00:14:17,680 --> 00:14:26,630
you you<font color="#E5E5E5"> you use</font><font color="#CCCCCC"> it</font><font color="#E5E5E5"> it's very general in</font>

255
00:14:24,050 --> 00:14:28,459
it and then you supply it with SVG<font color="#E5E5E5"> and</font>

256
00:14:26,630 --> 00:14:35,630
then it knows how<font color="#E5E5E5"> to set</font><font color="#CCCCCC"> up the</font>

257
00:14:28,460 --> 00:14:38,480
interface<font color="#E5E5E5"> based on the SVG the SVG's are</font>

258
00:14:35,630 --> 00:14:39,890
supplied<font color="#CCCCCC"> by</font><font color="#E5E5E5"> lip</font><font color="#CCCCCC"> read pack so any any</font>

259
00:14:38,480 --> 00:14:43,010
client that<font color="#E5E5E5"> you're right will be able to</font>

260
00:14:39,890 --> 00:14:46,730
use them<font color="#E5E5E5"> they supply a basic layout</font><font color="#CCCCCC"> of</font>

261
00:14:43,010 --> 00:14:48,170
<font color="#E5E5E5">the</font><font color="#CCCCCC"> often how the</font><font color="#E5E5E5"> mouse looks where are</font>

262
00:14:46,730 --> 00:14:50,660
the buttons where the<font color="#E5E5E5"> LEDs</font>

263
00:14:48,170 --> 00:14:53,089
and it has some<font color="#CCCCCC"> leader lines</font><font color="#E5E5E5"> going out</font>

264
00:14:50,660 --> 00:14:54,949
to the side saying okay<font color="#E5E5E5"> out here if it's</font>

265
00:14:53,090 --> 00:14:56,870
this button wand and the salon going<font color="#E5E5E5"> in</font>

266
00:14:54,950 --> 00:15:01,730
and you can place a<font color="#E5E5E5"> button out there to</font>

267
00:14:56,870 --> 00:15:03,890
configure it<font color="#CCCCCC"> once you do SVG you want to</font>

268
00:15:01,730 --> 00:15:07,880
use some light colors to fit<font color="#CCCCCC"> into the</font>

269
00:15:03,890 --> 00:15:10,430
theme<font color="#CCCCCC"> and there are some full list</font><font color="#E5E5E5"> of</font>

270
00:15:07,880 --> 00:15:15,950
rules about<font color="#E5E5E5"> how how specifically the</font><font color="#CCCCCC"> SPT</font>

271
00:15:10,430 --> 00:15:19,209
shoots it should be<font color="#E5E5E5"> you must have three</font>

272
00:15:15,950 --> 00:15:21,920
specific layers one called the device

273
00:15:19,210 --> 00:15:24,200
and where you basically<font color="#E5E5E5"> draw everything</font>

274
00:15:21,920 --> 00:15:26,300
<font color="#E5E5E5">from the mouse</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> then you have two</font>

275
00:15:24,200 --> 00:15:27,980
extra layers<font color="#E5E5E5"> or buttons and LEDs where</font>

276
00:15:26,300 --> 00:15:31,099
you have these leader lines<font color="#E5E5E5"> going out to</font>

277
00:15:27,980 --> 00:15:35,480
the sides I'll show a example<font color="#E5E5E5"> in in a</font>

278
00:15:31,100 --> 00:15:37,400
few<font color="#CCCCCC"> things the easiest way to do this</font>

279
00:15:35,480 --> 00:15:40,280
release is basically to<font color="#CCCCCC"> just take a</font>

280
00:15:37,400 --> 00:15:42,770
picture<font color="#CCCCCC"> of the mouse from above</font><font color="#E5E5E5"> put it</font>

281
00:15:40,280 --> 00:15:46,000
into the to<font color="#E5E5E5"> the lowest layer of the SVG</font>

282
00:15:42,770 --> 00:15:47,720
<font color="#E5E5E5">put another one</font><font color="#CCCCCC"> on top make that</font>

283
00:15:46,000 --> 00:15:50,120
semi-transparent<font color="#E5E5E5"> and then start drawing</font>

284
00:15:47,720 --> 00:15:55,700
<font color="#E5E5E5">on</font><font color="#CCCCCC"> top of that so you you</font><font color="#E5E5E5"> get there the</font>

285
00:15:50,120 --> 00:15:56,810
right shapes and then you name<font color="#E5E5E5"> where if</font>

286
00:15:55,700 --> 00:15:58,370
<font color="#E5E5E5">you draw a button then you name it</font>

287
00:15:56,810 --> 00:16:02,030
button<font color="#CCCCCC"> zero that's</font><font color="#E5E5E5"> the left click</font><font color="#CCCCCC"> button</font>

288
00:15:58,370 --> 00:16:04,730
and button<font color="#CCCCCC"> to four right etc and and</font>

289
00:16:02,030 --> 00:16:08,120
<font color="#CCCCCC">also for the LEDs and</font><font color="#E5E5E5"> that is what what</font>

290
00:16:04,730 --> 00:16:13,940
<font color="#CCCCCC">piper will use to to figure</font><font color="#E5E5E5"> out what to</font>

291
00:16:08,120 --> 00:16:16,070
change<font color="#CCCCCC"> and yeah you</font><font color="#E5E5E5"> have</font><font color="#CCCCCC"> you put a small</font>

292
00:16:13,940 --> 00:16:19,640
square at the<font color="#E5E5E5"> sides like it's just a</font>

293
00:16:16,070 --> 00:16:24,460
tiny<font color="#E5E5E5"> seven by seven square let's again</font>

294
00:16:19,640 --> 00:16:24,460
the indicator of<font color="#E5E5E5"> where to put the</font>

295
00:16:25,390 --> 00:16:32,120
<font color="#CCCCCC">Piper's own buttons and and you also</font>

296
00:16:30,470 --> 00:16:35,480
give it an<font color="#E5E5E5"> extra information of whether</font>

297
00:16:32,120 --> 00:16:37,370
the the you<font color="#E5E5E5"> where the piper should place</font>

298
00:16:35,480 --> 00:16:42,400
the button for configuration<font color="#E5E5E5"> on the left</font>

299
00:16:37,370 --> 00:16:42,400
or right<font color="#CCCCCC"> side of</font><font color="#E5E5E5"> it so</font>

300
00:16:48,000 --> 00:16:57,090
<font color="#CCCCCC">let's</font><font color="#E5E5E5"> into</font><font color="#CCCCCC"> the demo and again I can't</font>

301
00:16:54,430 --> 00:16:57,089
see what<font color="#CCCCCC"> I'm doing</font>

302
00:17:05,030 --> 00:17:08,190
[Music]

303
00:17:20,380 --> 00:17:28,110
<font color="#E5E5E5">I'm trying to hit the menu so I can move</font>

304
00:17:22,690 --> 00:17:28,110
it myself<font color="#CCCCCC"> but</font><font color="#E5E5E5"> I'm sorry</font>

305
00:17:28,530 --> 00:17:32,399
[Laughter]

306
00:17:50,830 --> 00:18:02,290
<font color="#E5E5E5">yep thanks okay so I'm just</font><font color="#CCCCCC"> opening a</font>

307
00:18:00,190 --> 00:18:05,380
mouse here<font color="#CCCCCC"> one that I</font><font color="#E5E5E5"> drew recently and</font>

308
00:18:02,290 --> 00:18:08,950
you can you<font color="#CCCCCC"> can see those are the</font><font color="#E5E5E5"> leader</font>

309
00:18:05,380 --> 00:18:11,860
lines<font color="#E5E5E5"> click on</font><font color="#CCCCCC"> up button here that's</font>

310
00:18:08,950 --> 00:18:16,930
button<font color="#CCCCCC"> zero</font><font color="#E5E5E5"> so just you just basically</font>

311
00:18:11,860 --> 00:18:22,510
even give<font color="#E5E5E5"> it those IDs and and then it</font>

312
00:18:16,930 --> 00:18:28,000
will it<font color="#E5E5E5"> will it</font><font color="#CCCCCC"> will use that to set up</font>

313
00:18:22,510 --> 00:18:29,080
the whole UI so I think I think<font color="#E5E5E5"> if we</font>

314
00:18:28,000 --> 00:18:30,370
should have<font color="#E5E5E5"> any</font><font color="#CCCCCC"> questions it should be</font>

315
00:18:29,080 --> 00:18:46,300
now otherwise<font color="#E5E5E5"> I would have gone to the</font>

316
00:18:30,370 --> 00:18:48,729
demo of<font color="#CCCCCC"> piper esalaam okay so the</font>

317
00:18:46,300 --> 00:18:50,790
question<font color="#CCCCCC"> is if there is any vendors who</font>

318
00:18:48,730 --> 00:18:57,570
are<font color="#E5E5E5"> playing nice with the community</font>

319
00:18:50,790 --> 00:18:57,570
<font color="#CCCCCC">logitech</font><font color="#E5E5E5"> certainly</font><font color="#CCCCCC"> R and T skill as</font><font color="#E5E5E5"> well</font>

320
00:18:57,750 --> 00:19:05,590
<font color="#E5E5E5">but otherwise you're mostly just get</font>

321
00:19:01,360 --> 00:19:07,149
<font color="#CCCCCC">ignored but so so that's also why that I</font>

322
00:19:05,590 --> 00:19:09,850
mean that<font color="#E5E5E5"> there are so many things so</font>

323
00:19:07,150 --> 00:19:11,470
<font color="#CCCCCC">many</font><font color="#E5E5E5"> devices out there we need help</font><font color="#CCCCCC"> too</font>

324
00:19:09,850 --> 00:19:14,110
<font color="#CCCCCC">to</font><font color="#E5E5E5"> people who have access to the devices</font>

325
00:19:11,470 --> 00:19:17,530
<font color="#E5E5E5">to go in and start doing the reverse</font>

326
00:19:14,110 --> 00:19:19,209
engineering<font color="#E5E5E5"> and the hope for this talk</font>

327
00:19:17,530 --> 00:19:22,780
was to give some<font color="#CCCCCC"> hints</font><font color="#E5E5E5"> about how to get</font>

328
00:19:19,210 --> 00:19:25,000
going and<font color="#CCCCCC"> hopefully if you wanted to try</font>

329
00:19:22,780 --> 00:19:28,690
out<font color="#CCCCCC"> then give it</font><font color="#E5E5E5"> a go</font><font color="#CCCCCC"> and get in contact</font>

330
00:19:25,000 --> 00:19:33,960
<font color="#E5E5E5">if you want</font><font color="#CCCCCC"> if you need helpful for</font>

331
00:19:28,690 --> 00:19:33,960
anything yeah

332
00:19:36,730 --> 00:19:42,110
it's the<font color="#E5E5E5"> question is if there</font><font color="#CCCCCC"> is a risk</font>

333
00:19:40,190 --> 00:19:45,230
in<font color="#E5E5E5"> doing it if you risk</font><font color="#CCCCCC"> your breaking</font>

334
00:19:42,110 --> 00:19:49,729
the device<font color="#E5E5E5"> and yes that's always a risk</font>

335
00:19:45,230 --> 00:19:51,890
<font color="#CCCCCC">I think I have I have seven or eight</font>

336
00:19:49,730 --> 00:19:53,540
<font color="#CCCCCC">devices and I've put</font><font color="#E5E5E5"> them through all</font>

337
00:19:51,890 --> 00:19:56,240
kinds of<font color="#CCCCCC"> things and then they</font><font color="#E5E5E5"> haven't</font>

338
00:19:53,540 --> 00:20:07,430
<font color="#CCCCCC">broken yet but I</font><font color="#E5E5E5"> mean it do this on your</font>

339
00:19:56,240 --> 00:20:10,670
<font color="#CCCCCC">own risk</font><font color="#E5E5E5"> certainly yeah yeah yeah so the</font>

340
00:20:07,430 --> 00:20:12,860
<font color="#E5E5E5">question is what about keyboards and and</font>

341
00:20:10,670 --> 00:20:16,700
they have similar similar configurations

342
00:20:12,860 --> 00:20:19,310
<font color="#CCCCCC">that is true but in</font><font color="#E5E5E5"> trying to come</font><font color="#CCCCCC"> up</font>

343
00:20:16,700 --> 00:20:22,370
<font color="#CCCCCC">with a an API that is somewhat</font>

344
00:20:19,310 --> 00:20:24,770
consistent<font color="#E5E5E5"> and and and it decided</font><font color="#CCCCCC"> to</font>

345
00:20:22,370 --> 00:20:28,340
<font color="#E5E5E5">just go for from ice they have a pretty</font>

346
00:20:24,770 --> 00:20:30,860
common set<font color="#E5E5E5"> of features and so but but</font>

347
00:20:28,340 --> 00:20:33,070
<font color="#E5E5E5">yeah most of the protocol</font><font color="#CCCCCC"> can actually</font>

348
00:20:30,860 --> 00:20:33,070
be<font color="#E5E5E5"> the same</font>

349
00:20:35,590 --> 00:20:38,590
yeah

350
00:20:40,300 --> 00:20:47,120
so how did<font color="#CCCCCC"> I get</font><font color="#E5E5E5"> involved in the project</font>

351
00:20:43,760 --> 00:20:48,920
I saw a blog post about<font color="#E5E5E5"> it and I had a</font>

352
00:20:47,120 --> 00:20:51,879
mouse and then<font color="#E5E5E5"> I started poking at it</font>

353
00:20:48,920 --> 00:20:53,900
<font color="#E5E5E5">and suddenly I bought a lot</font><font color="#CCCCCC"> of mice</font>

354
00:20:51,880 --> 00:20:56,060
<font color="#E5E5E5">basically just checking if there's any</font>

355
00:20:53,900 --> 00:21:05,660
cheap used one for<font color="#E5E5E5"> sale and then yeah</font>

356
00:20:56,060 --> 00:21:06,770
that's<font color="#E5E5E5"> how support comes if if you were</font>

357
00:21:05,660 --> 00:21:08,870
building<font color="#E5E5E5"> it how you would make it easier</font>

358
00:21:06,770 --> 00:21:11,210
yeah<font color="#CCCCCC"> supply documentation of the</font>

359
00:21:08,870 --> 00:21:15,320
protocol that's<font color="#E5E5E5"> basically all</font><font color="#CCCCCC"> we need</font><font color="#E5E5E5"> or</font>

360
00:21:11,210 --> 00:21:19,450
and the device should system it's the

361
00:21:15,320 --> 00:21:22,450
<font color="#E5E5E5">time</font><font color="#CCCCCC"> for more questions one minute</font><font color="#E5E5E5"> okay</font>

362
00:21:19,450 --> 00:21:22,450
yeah

363
00:21:24,510 --> 00:21:28,910
the project<font color="#E5E5E5"> Illustrated</font>

364
00:21:28,950 --> 00:21:34,920
yes sure<font color="#CCCCCC"> sure</font><font color="#E5E5E5"> and and draw the question</font>

365
00:21:31,920 --> 00:21:36,840
was if if we could have help from<font color="#E5E5E5"> people</font>

366
00:21:34,920 --> 00:21:38,790
<font color="#E5E5E5">who</font><font color="#CCCCCC"> just wanted</font><font color="#E5E5E5"> to draw the images and</font>

367
00:21:36,840 --> 00:21:42,480
certainly<font color="#E5E5E5"> yes because that actually</font>

368
00:21:38,790 --> 00:21:45,510
takes quite<font color="#E5E5E5"> some</font><font color="#CCCCCC"> time to get</font><font color="#E5E5E5"> right okay</font>

369
00:21:42,480 --> 00:21:54,220
<font color="#E5E5E5">that's all the</font><font color="#CCCCCC"> time</font><font color="#E5E5E5"> is thanks</font>

370
00:21:45,510 --> 00:21:54,220
[Applause]

