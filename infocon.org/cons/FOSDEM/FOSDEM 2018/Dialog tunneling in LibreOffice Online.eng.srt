1
00:00:04,870 --> 00:00:16,460
<font color="#E5E5E5">okay hello i'm manhaj of ski I work for</font>

2
00:00:13,160 --> 00:00:18,050
<font color="#CCCCCC">kelabra and I would like to tell you</font>

3
00:00:16,460 --> 00:00:21,500
<font color="#E5E5E5">about the exciting things that we are</font>

4
00:00:18,050 --> 00:00:24,290
<font color="#E5E5E5">doing with libreoffice online and that</font>

5
00:00:21,500 --> 00:00:26,630
<font color="#E5E5E5">is</font><font color="#CCCCCC"> dialog tunneling</font><font color="#E5E5E5"> but before I</font><font color="#CCCCCC"> get to</font>

6
00:00:24,290 --> 00:00:28,880
that I will<font color="#E5E5E5"> explain</font><font color="#CCCCCC"> you just a bit</font><font color="#E5E5E5"> about</font>

7
00:00:26,630 --> 00:00:30,918
the structure<font color="#E5E5E5"> of the of the</font><font color="#CCCCCC"> libreoffice</font>

8
00:00:28,880 --> 00:00:33,290
online so that<font color="#E5E5E5"> like you have the general</font>

9
00:00:30,919 --> 00:00:36,920
overview<font color="#CCCCCC"> what's going on and</font><font color="#E5E5E5"> one why we</font>

10
00:00:33,290 --> 00:00:39,410
are doing<font color="#E5E5E5"> this thing</font><font color="#CCCCCC"> so basically the</font>

11
00:00:36,920 --> 00:00:42,200
libreoffice online has two parts one is

12
00:00:39,410 --> 00:00:44,720
<font color="#E5E5E5">the server part which contains the demon</font>

13
00:00:42,200 --> 00:00:47,750
<font color="#E5E5E5">that is responsible for</font><font color="#CCCCCC"> the actual</font>

14
00:00:44,720 --> 00:00:50,900
<font color="#E5E5E5">communication with the clients it spawns</font>

15
00:00:47,750 --> 00:00:53,000
<font color="#E5E5E5">libreoffice instances so that like now</font>

16
00:00:50,900 --> 00:00:55,699
each of<font color="#CCCCCC"> the document</font><font color="#E5E5E5"> actually</font><font color="#CCCCCC"> has its</font>

17
00:00:53,000 --> 00:00:59,120
own<font color="#E5E5E5"> libreoffice instance that is</font>

18
00:00:55,700 --> 00:01:02,630
responsible<font color="#E5E5E5"> for for the actual typing in</font>

19
00:00:59,120 --> 00:01:05,268
the document and also like these do

20
00:01:02,630 --> 00:01:10,000
under entering of<font color="#E5E5E5"> the document and also</font>

21
00:01:05,269 --> 00:01:12,740
of course<font color="#CCCCCC"> it manages the users</font>

22
00:01:10,000 --> 00:01:15,110
<font color="#E5E5E5">interactions with the documents who like</font>

23
00:01:12,740 --> 00:01:17,780
passes the user events that come from

24
00:01:15,110 --> 00:01:20,000
the client into into the libreoffice

25
00:01:17,780 --> 00:01:21,770
course<font color="#E5E5E5"> so that</font><font color="#CCCCCC"> like it</font><font color="#E5E5E5"> is possible</font><font color="#CCCCCC"> to do</font>

26
00:01:20,000 --> 00:01:24,110
<font color="#E5E5E5">something with the document of course</font>

27
00:01:21,770 --> 00:01:26,119
<font color="#E5E5E5">like when something</font><font color="#CCCCCC"> is happening in the</font>

28
00:01:24,110 --> 00:01:28,700
<font color="#CCCCCC">LibreOffice</font><font color="#E5E5E5"> core the</font><font color="#CCCCCC"> callbacks have to</font>

29
00:01:26,120 --> 00:01:33,170
be routed back back to the<font color="#E5E5E5"> back to the</font>

30
00:01:28,700 --> 00:01:36,830
clients<font color="#CCCCCC"> and do something about</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> this</font>

31
00:01:33,170 --> 00:01:40,610
<font color="#E5E5E5">stuff is all in C++ on the other hand</font>

32
00:01:36,830 --> 00:01:43,610
the client part is we call<font color="#E5E5E5"> it</font><font color="#CCCCCC"> lowly flat</font>

33
00:01:40,610 --> 00:01:45,680
<font color="#CCCCCC">because it's based on leaflet which was</font>

34
00:01:43,610 --> 00:01:50,840
originally<font color="#E5E5E5"> a software for displaying</font>

35
00:01:45,680 --> 00:01:53,930
<font color="#CCCCCC">maps</font><font color="#E5E5E5"> so which like the maps for for</font>

36
00:01:50,840 --> 00:01:58,010
example<font color="#CCCCCC"> street</font><font color="#E5E5E5"> map maps is using that</font>

37
00:01:53,930 --> 00:02:02,000
and like the entire map is<font color="#E5E5E5"> split into</font>

38
00:01:58,010 --> 00:02:04,790
like small small images like here this

39
00:02:02,000 --> 00:02:06,950
is one of<font color="#CCCCCC"> the</font><font color="#E5E5E5"> tiles you can see it here</font>

40
00:02:04,790 --> 00:02:09,170
and the document<font color="#E5E5E5"> is composed from that</font>

41
00:02:06,950 --> 00:02:11,780
<font color="#E5E5E5">so basically like even though</font><font color="#CCCCCC"> you are</font>

42
00:02:09,169 --> 00:02:14,599
<font color="#E5E5E5">seeing a document that</font><font color="#CCCCCC"> has the text</font>

43
00:02:11,780 --> 00:02:17,180
<font color="#E5E5E5">there it is not a text that would be in</font>

44
00:02:14,599 --> 00:02:18,359
the<font color="#CCCCCC"> browser it</font><font color="#E5E5E5"> is just set of images</font>

45
00:02:17,180 --> 00:02:21,150
<font color="#CCCCCC">that is composed</font>

46
00:02:18,360 --> 00:02:25,050
together to do something<font color="#CCCCCC"> that looks like</font>

47
00:02:21,150 --> 00:02:28,440
like text<font color="#CCCCCC"> the slowly flood communicates</font>

48
00:02:25,050 --> 00:02:34,080
with with the server part<font color="#E5E5E5"> using back</font>

49
00:02:28,440 --> 00:02:36,120
socket<font color="#E5E5E5"> and yeah and but the document</font>

50
00:02:34,080 --> 00:02:38,940
itself is not the only thing<font color="#CCCCCC"> in</font><font color="#E5E5E5"> there</font>

51
00:02:36,120 --> 00:02:43,500
you can<font color="#E5E5E5"> see also</font><font color="#CCCCCC"> also the toolbar menu</font>

52
00:02:38,940 --> 00:02:47,370
<font color="#E5E5E5">bar status</font><font color="#CCCCCC"> bar</font><font color="#E5E5E5"> and other things</font><font color="#CCCCCC"> that are</font>

53
00:02:43,500 --> 00:02:51,930
in JavaScript<font color="#E5E5E5"> but of course like it's</font>

54
00:02:47,370 --> 00:02:53,580
very very<font color="#CCCCCC"> impractical to to</font><font color="#E5E5E5"> implement</font>

55
00:02:51,930 --> 00:02:56,250
<font color="#E5E5E5">everything or implement everything in</font>

56
00:02:53,580 --> 00:02:58,260
JavaScript<font color="#CCCCCC"> so</font><font color="#E5E5E5"> we had to search</font><font color="#CCCCCC"> for some</font>

57
00:02:56,250 --> 00:03:01,770
right balance between<font color="#E5E5E5"> like what has to</font>

58
00:02:58,260 --> 00:03:04,470
be in<font color="#E5E5E5"> JavaScript and what has to</font><font color="#CCCCCC"> be like</font>

59
00:03:01,770 --> 00:03:07,560
done<font color="#E5E5E5"> and rendered by the</font><font color="#CCCCCC"> LibreOffice</font>

60
00:03:04,470 --> 00:03:10,680
core so like in the early<font color="#CCCCCC"> prototypes</font>

61
00:03:07,560 --> 00:03:12,989
<font color="#E5E5E5">like there were</font><font color="#CCCCCC"> no TAS there nothing in</font>

62
00:03:10,680 --> 00:03:16,260
well<font color="#CCCCCC"> basically nothing in</font><font color="#E5E5E5"> JavaScript it</font>

63
00:03:12,989 --> 00:03:18,750
<font color="#E5E5E5">was just like you pure like invalidate</font>

64
00:03:16,260 --> 00:03:21,269
everything get me back<font color="#E5E5E5"> the the</font><font color="#CCCCCC"> entire</font>

65
00:03:18,750 --> 00:03:24,090
screen again and and like<font color="#E5E5E5"> basically</font><font color="#CCCCCC"> the</font>

66
00:03:21,270 --> 00:03:27,600
entire UI was was in the browser which

67
00:03:24,090 --> 00:03:30,720
was not like where we want to be just

68
00:03:27,600 --> 00:03:32,340
<font color="#CCCCCC">because like for every action that you</font>

69
00:03:30,720 --> 00:03:33,989
<font color="#E5E5E5">would like to do you</font><font color="#CCCCCC"> would have to</font>

70
00:03:32,340 --> 00:03:38,670
render it on the server which is very

71
00:03:33,989 --> 00:03:40,410
impractical<font color="#E5E5E5"> so then like we decided that</font>

72
00:03:38,670 --> 00:03:42,958
the<font color="#CCCCCC"> Todd approach is good because</font>

73
00:03:40,410 --> 00:03:45,329
there's a code that we can reuse<font color="#CCCCCC"> there</font>

74
00:03:42,959 --> 00:03:48,750
were another implementations<font color="#E5E5E5"> for example</font>

75
00:03:45,330 --> 00:03:52,470
on Android<font color="#E5E5E5"> like Mozilla Firefox on</font>

76
00:03:48,750 --> 00:03:55,140
Android<font color="#E5E5E5"> was was using</font><font color="#CCCCCC"> this task and like</font>

77
00:03:52,470 --> 00:03:57,390
lots<font color="#E5E5E5"> of other projects in the industry</font>

78
00:03:55,140 --> 00:03:59,100
<font color="#CCCCCC">were</font><font color="#E5E5E5"> using the task</font><font color="#CCCCCC"> for actually like</font>

79
00:03:57,390 --> 00:04:02,518
<font color="#E5E5E5">rendering the document so we thought</font>

80
00:03:59,100 --> 00:04:06,720
it's<font color="#E5E5E5"> the right thing</font><font color="#CCCCCC"> to do but on</font><font color="#E5E5E5"> top</font><font color="#CCCCCC"> of</font>

81
00:04:02,519 --> 00:04:09,690
<font color="#CCCCCC">that we</font><font color="#E5E5E5"> started like painting and the</font>

82
00:04:06,720 --> 00:04:12,359
overlay with the with the cursor<font color="#E5E5E5"> and</font>

83
00:04:09,690 --> 00:04:14,370
with the selections<font color="#E5E5E5"> and just because</font>

84
00:04:12,360 --> 00:04:16,290
like it was very impractical to<font color="#E5E5E5"> send the</font>

85
00:04:14,370 --> 00:04:18,950
entire bitmaps button just<font color="#E5E5E5"> the cursor</font>

86
00:04:16,290 --> 00:04:21,570
moved<font color="#E5E5E5"> so instead like we should we just</font>

87
00:04:18,950 --> 00:04:24,479
started sending just<font color="#E5E5E5"> the coordinates of</font>

88
00:04:21,570 --> 00:04:28,349
the of the cursor and started rendering

89
00:04:24,479 --> 00:04:30,780
<font color="#CCCCCC">that in a layer</font><font color="#E5E5E5"> on top</font><font color="#CCCCCC"> of that then next</font>

90
00:04:28,349 --> 00:04:32,310
thing<font color="#E5E5E5"> that turned out to</font><font color="#CCCCCC"> be</font><font color="#E5E5E5"> like</font>

91
00:04:30,780 --> 00:04:35,700
<font color="#CCCCCC">practical</font>

92
00:04:32,310 --> 00:04:38,700
<font color="#E5E5E5">to surrender in JavaScript was</font><font color="#CCCCCC"> command</font>

93
00:04:35,700 --> 00:04:41,550
<font color="#E5E5E5">and nerd lines just because people are</font>

94
00:04:38,700 --> 00:04:44,370
used to that the comments<font color="#E5E5E5"> have some nice</font>

95
00:04:41,550 --> 00:04:47,700
UI they look pretty<font color="#CCCCCC"> and they can have</font>

96
00:04:44,370 --> 00:04:50,550
<font color="#CCCCCC">pictures</font><font color="#E5E5E5"> they flow next to the</font><font color="#CCCCCC"> cursor</font>

97
00:04:47,700 --> 00:04:53,729
like<font color="#E5E5E5"> when when in you select the text</font>

98
00:04:50,550 --> 00:04:57,240
that that<font color="#E5E5E5"> has the command and stuff like</font>

99
00:04:53,730 --> 00:05:00,300
that - it<font color="#CCCCCC"> was</font><font color="#E5E5E5"> good to do in in</font>

100
00:04:57,240 --> 00:05:04,830
<font color="#E5E5E5">JavaScript but then what about dialogues</font>

101
00:05:00,300 --> 00:05:07,380
at first we<font color="#E5E5E5"> started the rim implementing</font>

102
00:05:04,830 --> 00:05:09,390
some of<font color="#E5E5E5"> the dialogues in JavaScript</font><font color="#CCCCCC"> for</font>

103
00:05:07,380 --> 00:05:12,030
example to<font color="#CCCCCC"> find that replies special</font>

104
00:05:09,390 --> 00:05:15,060
character<font color="#E5E5E5"> in their table but like very</font>

105
00:05:12,030 --> 00:05:17,669
<font color="#E5E5E5">soon it turned</font><font color="#CCCCCC"> out like like</font><font color="#E5E5E5"> this is no</font>

106
00:05:15,060 --> 00:05:20,990
way to go<font color="#CCCCCC"> it's just too many dialogues</font>

107
00:05:17,670 --> 00:05:24,270
out there that's like<font color="#CCCCCC"> very empirical</font>

108
00:05:20,990 --> 00:05:26,970
takes a long<font color="#CCCCCC"> time there are</font><font color="#E5E5E5"> hundreds of</font>

109
00:05:24,270 --> 00:05:28,680
dialogues in in<font color="#E5E5E5"> libreoffice and like</font>

110
00:05:26,970 --> 00:05:32,520
some<font color="#E5E5E5"> of them are</font><font color="#CCCCCC"> like</font><font color="#E5E5E5"> extremely complex</font>

111
00:05:28,680 --> 00:05:37,200
like the cell character<font color="#CCCCCC"> cell format</font>

112
00:05:32,520 --> 00:05:39,180
style and and these<font color="#E5E5E5"> things so the plan</font>

113
00:05:37,200 --> 00:05:42,030
<font color="#CCCCCC">was to start tunneling the dialogues</font>

114
00:05:39,180 --> 00:05:48,120
<font color="#E5E5E5">actually from LibreOffice let's reuse</font>

115
00:05:42,030 --> 00:05:51,929
the the dialogues as they are and use

116
00:05:48,120 --> 00:05:54,990
them<font color="#E5E5E5"> in the browser actually like the</font>

117
00:05:51,930 --> 00:05:56,940
plan was good but the<font color="#CCCCCC"> thing turned out</font>

118
00:05:54,990 --> 00:06:00,570
to be a bit more<font color="#CCCCCC"> challenging</font><font color="#E5E5E5"> that</font>

119
00:05:56,940 --> 00:06:02,490
<font color="#E5E5E5">initially looked like but luckily</font><font color="#CCCCCC"> turn</font>

120
00:06:00,570 --> 00:06:05,760
<font color="#CCCCCC">off can't</font><font color="#E5E5E5"> and it all the hard work there</font>

121
00:06:02,490 --> 00:06:09,900
<font color="#E5E5E5">or most of the hard work there and and</font>

122
00:06:05,760 --> 00:06:15,240
now we have beautiful dialogues inside

123
00:06:09,900 --> 00:06:17,909
LibreOffice online<font color="#E5E5E5"> you can see on the</font>

124
00:06:15,240 --> 00:06:21,060
screenshot that that like<font color="#E5E5E5"> it has all the</font>

125
00:06:17,910 --> 00:06:25,890
tabs<font color="#E5E5E5"> it has like the various various</font>

126
00:06:21,060 --> 00:06:29,220
custom<font color="#CCCCCC"> custom widgets that that are</font>

127
00:06:25,890 --> 00:06:31,469
<font color="#E5E5E5">available in LibreOffice</font><font color="#CCCCCC"> for example</font>

128
00:06:29,220 --> 00:06:34,050
like the scene that the line types and

129
00:06:31,470 --> 00:06:36,690
everything<font color="#CCCCCC"> so like because it</font><font color="#E5E5E5"> is</font>

130
00:06:34,050 --> 00:06:39,750
rendered<font color="#CCCCCC"> in</font><font color="#E5E5E5"> libreoffice but routed to</font>

131
00:06:36,690 --> 00:06:42,420
<font color="#E5E5E5">the online you can have all the all the</font>

132
00:06:39,750 --> 00:06:45,300
stuff<font color="#E5E5E5"> but there were lots of challenges</font>

133
00:06:42,420 --> 00:06:47,009
<font color="#E5E5E5">for</font><font color="#CCCCCC"> example like now</font><font color="#E5E5E5"> as there is</font>

134
00:06:45,300 --> 00:06:51,120
<font color="#CCCCCC">in thing you can do it collaboratively</font>

135
00:06:47,009 --> 00:06:53,310
<font color="#CCCCCC">so you can have one like</font><font color="#E5E5E5"> two users that</font>

136
00:06:51,120 --> 00:06:55,830
collaborate on one document<font color="#CCCCCC"> and both of</font>

137
00:06:53,310 --> 00:06:57,750
them select the same paragraph<font color="#E5E5E5"> and both</font>

138
00:06:55,830 --> 00:07:01,680
of<font color="#CCCCCC"> them actually issue the</font><font color="#E5E5E5"> paragraph</font>

139
00:06:57,750 --> 00:07:03,539
settings dialog<font color="#E5E5E5"> and one of the</font><font color="#CCCCCC"> users can</font>

140
00:07:01,680 --> 00:07:05,879
like shrink the size of<font color="#E5E5E5"> the paragraph</font>

141
00:07:03,539 --> 00:07:09,840
<font color="#E5E5E5">and the other can set the background to</font>

142
00:07:05,879 --> 00:07:12,060
<font color="#E5E5E5">green and when both</font><font color="#CCCCCC"> of them like press</font>

143
00:07:09,840 --> 00:07:14,128
<font color="#CCCCCC">ok</font><font color="#E5E5E5"> it just does</font><font color="#CCCCCC"> the thing that you</font><font color="#E5E5E5"> would</font>

144
00:07:12,060 --> 00:07:17,370
<font color="#E5E5E5">expect like it shrinks the paragraph and</font>

145
00:07:14,129 --> 00:07:20,580
does it green<font color="#E5E5E5"> which is awesome but I</font>

146
00:07:17,370 --> 00:07:23,120
<font color="#E5E5E5">think you can</font><font color="#CCCCCC"> imagine that like it was</font>

147
00:07:20,580 --> 00:07:23,120
not<font color="#E5E5E5"> straightforward</font>

148
00:07:23,389 --> 00:07:27,360
luckily the<font color="#E5E5E5"> LibreOffice core was very</font>

149
00:07:26,520 --> 00:07:31,919
helpful<font color="#E5E5E5"> here</font>

150
00:07:27,360 --> 00:07:35,069
so like the<font color="#CCCCCC"> sfx framework</font><font color="#E5E5E5"> surprisingly</font>

151
00:07:31,919 --> 00:07:38,580
like did<font color="#CCCCCC"> lots</font><font color="#E5E5E5"> of good stuff</font><font color="#CCCCCC"> for</font><font color="#E5E5E5"> us</font>

152
00:07:35,069 --> 00:07:43,560
instead<font color="#E5E5E5"> of like you</font><font color="#CCCCCC"> know making us</font>

153
00:07:38,580 --> 00:07:47,159
<font color="#E5E5E5">program with programs which was great</font><font color="#CCCCCC"> we</font>

154
00:07:43,560 --> 00:07:51,150
initially did<font color="#E5E5E5"> like all the</font><font color="#CCCCCC"> all the like</font>

155
00:07:47,159 --> 00:07:54,090
tunneling and and<font color="#E5E5E5"> messages about about</font>

156
00:07:51,150 --> 00:07:57,270
<font color="#CCCCCC">like what has to be done in the in the</font>

157
00:07:54,090 --> 00:07:58,888
core and<font color="#CCCCCC"> in dialogue in the</font><font color="#E5E5E5"> SFX but then</font>

158
00:07:57,270 --> 00:08:02,008
like it turned<font color="#E5E5E5"> out that we have to move</font>

159
00:07:58,889 --> 00:08:05,250
it down<font color="#E5E5E5"> to</font><font color="#CCCCCC"> vcl so now most of the stuff</font>

160
00:08:02,009 --> 00:08:08,039
is done directly in<font color="#CCCCCC"> VCL which is</font>

161
00:08:05,250 --> 00:08:09,719
responsible for<font color="#CCCCCC"> drawing the</font><font color="#E5E5E5"> dialogues or</font>

162
00:08:08,039 --> 00:08:13,469
drawing the<font color="#E5E5E5"> widgets and and stuff like</font>

163
00:08:09,719 --> 00:08:16,110
that which we<font color="#E5E5E5"> extend it so that we have</font>

164
00:08:13,469 --> 00:08:17,940
added<font color="#CCCCCC"> there the callbacks that notify us</font>

165
00:08:16,110 --> 00:08:20,610
about the<font color="#CCCCCC"> in validations about the</font>

166
00:08:17,940 --> 00:08:24,409
<font color="#E5E5E5">dialogue creation about</font><font color="#CCCCCC"> side changes and</font>

167
00:08:20,610 --> 00:08:28,110
<font color="#E5E5E5">stuff like that</font><font color="#CCCCCC"> then for the</font><font color="#E5E5E5"> accelerant</font>

168
00:08:24,409 --> 00:08:31,529
<font color="#CCCCCC">for the extra</font><font color="#E5E5E5"> rendering we were using</font>

169
00:08:28,110 --> 00:08:37,169
the screenshotting feature<font color="#E5E5E5"> that was done</font>

170
00:08:31,529 --> 00:08:44,670
by<font color="#CCCCCC"> our</font><font color="#E5E5E5"> friends at sip then we have added</font>

171
00:08:37,169 --> 00:08:47,310
<font color="#E5E5E5">the concept</font><font color="#CCCCCC"> of a local notifier</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> lock</font>

172
00:08:44,670 --> 00:08:51,209
notifier is an interface<font color="#CCCCCC"> that actually</font>

173
00:08:47,310 --> 00:08:52,800
allows us<font color="#CCCCCC"> to do stuff</font><font color="#E5E5E5"> in</font><font color="#CCCCCC"> sfx -</font><font color="#E5E5E5"> even</font>

174
00:08:51,209 --> 00:08:56,579
though like<font color="#CCCCCC"> they are in the lower layer</font>

175
00:08:52,800 --> 00:08:58,620
which which is<font color="#CCCCCC"> the which is the VCL it</font>

176
00:08:56,579 --> 00:09:03,120
is because<font color="#E5E5E5"> like</font>

177
00:08:58,620 --> 00:09:05,760
all the<font color="#CCCCCC"> caring of the views and and like</font>

178
00:09:03,120 --> 00:09:08,160
the collaboration between between people

179
00:09:05,760 --> 00:09:10,500
<font color="#CCCCCC">it's actually done</font><font color="#E5E5E5"> in its effects and in</font>

180
00:09:08,160 --> 00:09:14,689
SFX we also have the mechanics of

181
00:09:10,500 --> 00:09:18,660
<font color="#E5E5E5">actually like notifying the right view</font>

182
00:09:14,690 --> 00:09:21,480
through the<font color="#CCCCCC"> LibreOffice kid</font><font color="#E5E5E5"> but because</font>

183
00:09:18,660 --> 00:09:24,780
<font color="#E5E5E5">like the stuff is happening in</font><font color="#CCCCCC"> VCL</font><font color="#E5E5E5"> we</font>

184
00:09:21,480 --> 00:09:27,980
were we had to<font color="#E5E5E5"> had a way how to like</font>

185
00:09:24,780 --> 00:09:31,860
skip these levels<font color="#E5E5E5"> and so this notifier</font>

186
00:09:27,980 --> 00:09:34,530
is is like just a way how to<font color="#CCCCCC"> overtake</font>

187
00:09:31,860 --> 00:09:37,020
this and like<font color="#E5E5E5"> now we are</font><font color="#CCCCCC"> able to</font><font color="#E5E5E5"> do</font>

188
00:09:34,530 --> 00:09:39,360
<font color="#E5E5E5">stuff in</font><font color="#CCCCCC"> VCL</font><font color="#E5E5E5"> but then it like the</font>

189
00:09:37,020 --> 00:09:45,510
<font color="#E5E5E5">libreoffice kid is notified in in</font><font color="#CCCCCC"> sfx</font>

190
00:09:39,360 --> 00:09:51,510
and yeah so we<font color="#CCCCCC"> had to add a bit of API</font>

191
00:09:45,510 --> 00:09:54,230
into<font color="#E5E5E5"> libreoffice kid which was which</font><font color="#CCCCCC"> was</font>

192
00:09:51,510 --> 00:09:57,930
several<font color="#E5E5E5"> methods</font><font color="#CCCCCC"> i think they are</font>

193
00:09:54,230 --> 00:10:01,200
reasonably obvious<font color="#CCCCCC"> painting of some area</font>

194
00:09:57,930 --> 00:10:04,560
in<font color="#CCCCCC"> the</font><font color="#E5E5E5"> dialogue posting some events if</font>

195
00:10:01,200 --> 00:10:07,020
there are necessary<font color="#CCCCCC"> so far only closing</font>

196
00:10:04,560 --> 00:10:09,170
of the window<font color="#E5E5E5"> is implemented nothing</font>

197
00:10:07,020 --> 00:10:13,949
else was necessary to be done this way

198
00:10:09,170 --> 00:10:16,040
<font color="#CCCCCC">then</font><font color="#E5E5E5"> a posting of K events Mouse events</font>

199
00:10:13,950 --> 00:10:20,490
like when the user<font color="#CCCCCC"> does something</font><font color="#E5E5E5"> in the</font>

200
00:10:16,040 --> 00:10:23,250
in the client part you are able<font color="#CCCCCC"> to route</font>

201
00:10:20,490 --> 00:10:25,190
<font color="#E5E5E5">it to to the</font><font color="#CCCCCC"> LibreOffice core and then</font>

202
00:10:23,250 --> 00:10:29,160
of course lots and lots of callbacks

203
00:10:25,190 --> 00:10:32,070
<font color="#E5E5E5">from the from the VCL back to back to</font>

204
00:10:29,160 --> 00:10:35,520
<font color="#E5E5E5">the nollie brofist</font><font color="#CCCCCC"> Catan and</font><font color="#E5E5E5"> to the</font>

205
00:10:32,070 --> 00:10:38,550
online<font color="#E5E5E5"> so stuff like created that title</font>

206
00:10:35,520 --> 00:10:42,900
change size change invalidate<font color="#CCCCCC"> cursive</font><font color="#E5E5E5"> of</font>

207
00:10:38,550 --> 00:10:48,839
smooth cursor was done visible and and

208
00:10:42,900 --> 00:10:51,030
closing the<font color="#E5E5E5"> dialog so after</font><font color="#CCCCCC"> all this was</font>

209
00:10:48,840 --> 00:10:53,970
<font color="#CCCCCC">done</font><font color="#E5E5E5"> and we thought</font><font color="#CCCCCC"> that we have gone</font>

210
00:10:51,030 --> 00:10:56,990
but<font color="#E5E5E5"> not yet there were additional</font>

211
00:10:53,970 --> 00:11:00,060
challenges so one was<font color="#CCCCCC"> language support</font>

212
00:10:56,990 --> 00:11:03,450
<font color="#CCCCCC">the thing is that one the command can be</font>

213
00:11:00,060 --> 00:11:07,229
<font color="#E5E5E5">shared by multiple users and one of them</font>

214
00:11:03,450 --> 00:11:09,060
has has the UI set in English and the

215
00:11:07,230 --> 00:11:12,600
other<font color="#E5E5E5"> has that actually</font><font color="#CCCCCC"> in check and</font>

216
00:11:09,060 --> 00:11:14,550
what to do<font color="#CCCCCC"> well as you</font>

217
00:11:12,600 --> 00:11:17,220
<font color="#CCCCCC">libreoffice itself and you</font><font color="#E5E5E5"> change</font><font color="#CCCCCC"> there</font>

218
00:11:14,550 --> 00:11:20,099
<font color="#E5E5E5">a link</font><font color="#CCCCCC"> the language</font><font color="#E5E5E5"> it actually tells</font>

219
00:11:17,220 --> 00:11:22,440
you well you cannot change it now<font color="#E5E5E5"> you</font>

220
00:11:20,100 --> 00:11:27,540
<font color="#E5E5E5">have to restart libreoffice so we had to</font>

221
00:11:22,440 --> 00:11:30,000
overtake<font color="#CCCCCC"> that</font><font color="#E5E5E5"> luckily like balance</font>

222
00:11:27,540 --> 00:11:34,050
<font color="#E5E5E5">switch to to get text helped us</font>

223
00:11:30,000 --> 00:11:37,020
tremendously here<font color="#E5E5E5"> just because like the</font>

224
00:11:34,050 --> 00:11:39,630
the infrastructure was was much more

225
00:11:37,020 --> 00:11:43,290
<font color="#CCCCCC">prepared to</font><font color="#E5E5E5"> do</font><font color="#CCCCCC"> actual switching things</font>

226
00:11:39,630 --> 00:11:45,150
<font color="#E5E5E5">were cached so or are cached</font><font color="#CCCCCC"> so like</font>

227
00:11:43,290 --> 00:11:47,550
when you switch the<font color="#CCCCCC"> language it is</font><font color="#E5E5E5"> not</font>

228
00:11:45,150 --> 00:11:51,030
that all the<font color="#CCCCCC"> powers would be like reload</font>

229
00:11:47,550 --> 00:11:55,260
it again<font color="#E5E5E5"> it is all all like loaded once</font>

230
00:11:51,030 --> 00:11:59,100
and then then<font color="#CCCCCC"> just used so luckily</font><font color="#E5E5E5"> in</font>

231
00:11:55,260 --> 00:12:03,300
most cases<font color="#E5E5E5"> it was just just a matter of</font>

232
00:11:59,100 --> 00:12:07,230
changing the static locale<font color="#E5E5E5"> into into</font>

233
00:12:03,300 --> 00:12:09,420
like getting the locale<font color="#E5E5E5"> again and again</font>

234
00:12:07,230 --> 00:12:10,680
like<font color="#E5E5E5"> when the when the the</font><font color="#CCCCCC"> view was</font>

235
00:12:09,420 --> 00:12:13,620
switched

236
00:12:10,680 --> 00:12:16,589
similarly<font color="#CCCCCC"> as effects module had to be</font>

237
00:12:13,620 --> 00:12:21,000
<font color="#E5E5E5">adapted very similarly because again the</font>

238
00:12:16,590 --> 00:12:24,540
<font color="#E5E5E5">locale</font><font color="#CCCCCC"> there was was cached but not</font>

239
00:12:21,000 --> 00:12:29,640
using static but like as<font color="#E5E5E5"> part of the as</font>

240
00:12:24,540 --> 00:12:33,719
part of the object the other<font color="#E5E5E5"> challenge</font>

241
00:12:29,640 --> 00:12:38,760
here and big one was modal dialogues so

242
00:12:33,720 --> 00:12:40,950
the thing here<font color="#CCCCCC"> is that</font><font color="#E5E5E5"> the thing</font><font color="#CCCCCC"> in here</font>

243
00:12:38,760 --> 00:12:43,439
<font color="#E5E5E5">is</font><font color="#CCCCCC"> that like</font><font color="#E5E5E5"> when you</font><font color="#CCCCCC"> execute</font><font color="#E5E5E5"> the</font>

244
00:12:40,950 --> 00:12:46,620
dialogue like<font color="#E5E5E5"> nan modal dialogues are</font>

245
00:12:43,440 --> 00:12:49,650
fine<font color="#E5E5E5"> like they can hang in the interview</font>

246
00:12:46,620 --> 00:12:53,460
and and they<font color="#E5E5E5"> are all fine</font><font color="#CCCCCC"> but like when</font>

247
00:12:49,650 --> 00:12:57,209
you have a modal dialogue<font color="#E5E5E5"> you you issue</font>

248
00:12:53,460 --> 00:13:02,250
and execute<font color="#E5E5E5"> and like at that time like</font>

249
00:12:57,210 --> 00:13:04,380
it yields<font color="#CCCCCC"> so-so like all</font><font color="#E5E5E5"> others things</font>

250
00:13:02,250 --> 00:13:06,180
is<font color="#E5E5E5"> still happening so you can like from</font>

251
00:13:04,380 --> 00:13:09,180
the other<font color="#E5E5E5"> view issue the dialogue again</font>

252
00:13:06,180 --> 00:13:11,160
<font color="#CCCCCC">that's all fine but still</font><font color="#E5E5E5"> like you are</font>

253
00:13:09,180 --> 00:13:13,920
hanging<font color="#E5E5E5"> in this execute so like there's</font>

254
00:13:11,160 --> 00:13:17,100
one<font color="#E5E5E5"> execute and another execute like</font>

255
00:13:13,920 --> 00:13:19,860
happens on top of that and so<font color="#CCCCCC"> now what</font>

256
00:13:17,100 --> 00:13:23,280
happens<font color="#E5E5E5"> like if this user that is in the</font>

257
00:13:19,860 --> 00:13:25,950
lower execute just<font color="#E5E5E5"> ends the dialogue and</font>

258
00:13:23,280 --> 00:13:28,680
like once his or her change

259
00:13:25,950 --> 00:13:31,470
is<font color="#E5E5E5"> actually be visible like it doesn't</font>

260
00:13:28,680 --> 00:13:32,310
happen until like the the guy<font color="#E5E5E5"> that is on</font>

261
00:13:31,470 --> 00:13:34,500
top<font color="#E5E5E5"> of him</font>

262
00:13:32,310 --> 00:13:36,599
closes<font color="#CCCCCC"> the</font><font color="#E5E5E5"> dialogue as well</font><font color="#CCCCCC"> and the guy</font>

263
00:13:34,500 --> 00:13:38,910
like who is on top of<font color="#E5E5E5"> them can just</font>

264
00:13:36,600 --> 00:13:41,330
<font color="#CCCCCC">disappear and like you would get never</font>

265
00:13:38,910 --> 00:13:44,660
you would never have the the stuff

266
00:13:41,330 --> 00:13:47,910
<font color="#E5E5E5">confirmed</font><font color="#CCCCCC"> so it was necessary to</font>

267
00:13:44,660 --> 00:13:52,290
<font color="#E5E5E5">actually convert this modal dialog to</font>

268
00:13:47,910 --> 00:13:56,939
<font color="#E5E5E5">modal as saying this means that like</font>

269
00:13:52,290 --> 00:13:59,880
when instead<font color="#E5E5E5"> of this execute you do not</font>

270
00:13:56,940 --> 00:14:03,390
you do not<font color="#E5E5E5"> hang in in that execute</font>

271
00:13:59,880 --> 00:14:07,620
instead of you just<font color="#CCCCCC"> trigger showing the</font>

272
00:14:03,390 --> 00:14:11,819
<font color="#CCCCCC">dialog and create a</font><font color="#E5E5E5"> callback like what</font>

273
00:14:07,620 --> 00:14:16,310
<font color="#E5E5E5">should be done</font><font color="#CCCCCC"> when when when the user</font>

274
00:14:11,820 --> 00:14:18,450
actually<font color="#E5E5E5"> touches</font><font color="#CCCCCC"> okay and and like</font>

275
00:14:16,310 --> 00:14:23,219
<font color="#CCCCCC">LibreOffice had a mechanism for that</font>

276
00:14:18,450 --> 00:14:25,530
<font color="#E5E5E5">which was this the start executor</font><font color="#CCCCCC"> but it</font>

277
00:14:23,220 --> 00:14:29,040
was<font color="#CCCCCC"> Impractical because it was using the</font>

278
00:14:25,530 --> 00:14:32,640
the links the linking mechanism that is

279
00:14:29,040 --> 00:14:34,530
in in<font color="#E5E5E5"> LibreOffice which meant like there</font>

280
00:14:32,640 --> 00:14:36,420
would be<font color="#CCCCCC"> necessary to</font><font color="#E5E5E5"> do like bigger</font>

281
00:14:34,530 --> 00:14:38,880
changes to actually do<font color="#E5E5E5"> that you would</font>

282
00:14:36,420 --> 00:14:44,550
<font color="#E5E5E5">have to like move the code into separate</font>

283
00:14:38,880 --> 00:14:47,670
<font color="#E5E5E5">into separate separate method or or</font>

284
00:14:44,550 --> 00:14:49,319
function and do and maybe<font color="#E5E5E5"> you</font><font color="#CCCCCC"> wouldn't</font>

285
00:14:47,670 --> 00:14:53,120
<font color="#E5E5E5">have some of the stuff</font><font color="#CCCCCC"> that you need</font>

286
00:14:49,320 --> 00:14:56,130
they're available and stuff like that<font color="#CCCCCC"> so</font>

287
00:14:53,120 --> 00:14:59,730
<font color="#E5E5E5">Michael actually changed that or</font>

288
00:14:56,130 --> 00:15:03,210
introduced<font color="#E5E5E5"> start execute a saying</font><font color="#CCCCCC"> we</font>

289
00:14:59,730 --> 00:15:06,090
which gets a lambda<font color="#E5E5E5"> and actually change</font>

290
00:15:03,210 --> 00:15:10,500
the modal<font color="#E5E5E5"> start execute modal</font><font color="#CCCCCC"> into</font><font color="#E5E5E5"> using</font>

291
00:15:06,090 --> 00:15:12,870
this start execute icing so now what is

292
00:15:10,500 --> 00:15:15,060
normally necessary to be done<font color="#CCCCCC"> to convert</font>

293
00:15:12,870 --> 00:15:20,130
<font color="#E5E5E5">the dialogue from the execute</font><font color="#CCCCCC"> - I think</font>

294
00:15:15,060 --> 00:15:22,979
execute is that you do<font color="#CCCCCC"> we you create a</font>

295
00:15:20,130 --> 00:15:26,010
dialogue not<font color="#CCCCCC"> a scope DCL pointer but</font>

296
00:15:22,980 --> 00:15:27,690
just a normal<font color="#CCCCCC"> v CL pointer because the</font>

297
00:15:26,010 --> 00:15:29,700
start<font color="#E5E5E5"> execute a saying will then later</font>

298
00:15:27,690 --> 00:15:34,230
<font color="#E5E5E5">take care of actually destroying the</font>

299
00:15:29,700 --> 00:15:38,100
dialogue<font color="#E5E5E5"> and instead of</font><font color="#CCCCCC"> executing</font><font color="#E5E5E5"> you do</font>

300
00:15:34,230 --> 00:15:39,330
<font color="#E5E5E5">not do the executing instead you move</font>

301
00:15:38,100 --> 00:15:42,150
the lamp moved

302
00:15:39,330 --> 00:15:45,450
the code<font color="#E5E5E5"> that happens after</font><font color="#CCCCCC"> they</font><font color="#E5E5E5"> execute</font>

303
00:15:42,150 --> 00:15:48,600
<font color="#E5E5E5">because like there was</font><font color="#CCCCCC"> probability that</font>

304
00:15:45,450 --> 00:15:51,630
<font color="#E5E5E5">here's some</font><font color="#CCCCCC"> code that was taking</font><font color="#E5E5E5"> care of</font>

305
00:15:48,600 --> 00:15:56,010
applying the<font color="#E5E5E5"> changes and you</font><font color="#CCCCCC"> would just</font>

306
00:15:51,630 --> 00:15:57,990
<font color="#E5E5E5">wrap it around this this lambda</font><font color="#CCCCCC"> get the</font>

307
00:15:56,010 --> 00:16:00,150
result<font color="#E5E5E5"> according</font><font color="#CCCCCC"> to that do the changes</font>

308
00:15:57,990 --> 00:16:02,700
<font color="#E5E5E5">of course like</font><font color="#CCCCCC"> in some cases it's more</font>

309
00:16:00,150 --> 00:16:05,850
complicated<font color="#E5E5E5"> than just this but this is</font>

310
00:16:02,700 --> 00:16:09,890
the<font color="#E5E5E5"> basic structure here</font><font color="#CCCCCC"> and use your</font>

311
00:16:05,850 --> 00:16:13,860
<font color="#CCCCCC">ceilidh</font><font color="#E5E5E5"> so thanks to doing these all</font>

312
00:16:09,890 --> 00:16:15,840
<font color="#CCCCCC">stuff</font><font color="#E5E5E5"> in</font><font color="#CCCCCC"> vc l</font><font color="#E5E5E5"> most of the dialogues just</font>

313
00:16:13,860 --> 00:16:18,600
<font color="#CCCCCC">vert out of the box you just</font><font color="#E5E5E5"> issued a</font>

314
00:16:15,840 --> 00:16:20,910
you know commands<font color="#CCCCCC"> you know command and</font>

315
00:16:18,600 --> 00:16:23,310
the dialog appears

316
00:16:20,910 --> 00:16:27,120
<font color="#E5E5E5">it doesn't appear in the situation when</font>

317
00:16:23,310 --> 00:16:29,640
it gets null<font color="#E5E5E5"> as the parent because like</font>

318
00:16:27,120 --> 00:16:34,110
in that<font color="#CCCCCC"> case it</font><font color="#E5E5E5"> doesn't have set the</font>

319
00:16:29,640 --> 00:16:39,270
local notifier and like in that<font color="#E5E5E5"> case it</font>

320
00:16:34,110 --> 00:16:41,610
is<font color="#CCCCCC"> usually just just enough to set set</font>

321
00:16:39,270 --> 00:16:44,819
the parent<font color="#E5E5E5"> as the window of the view</font>

322
00:16:41,610 --> 00:16:47,850
shell<font color="#CCCCCC"> if the dialog</font><font color="#E5E5E5"> doesn't switch the</font>

323
00:16:44,820 --> 00:16:49,770
<font color="#CCCCCC">languages for</font><font color="#E5E5E5"> the user then you have to</font>

324
00:16:47,850 --> 00:16:52,200
find a<font color="#E5E5E5"> place</font><font color="#CCCCCC"> like where there's some</font>

325
00:16:49,770 --> 00:16:56,819
static variable<font color="#E5E5E5"> anything else happy to</font>

326
00:16:52,200 --> 00:16:57,480
<font color="#E5E5E5">answer</font><font color="#CCCCCC"> you any questions so thank you</font>

327
00:16:56,820 --> 00:17:01,500
<font color="#CCCCCC">for listening</font>

328
00:16:57,480 --> 00:17:03,570
<font color="#E5E5E5">and thanks also to these guys who has</font>

329
00:17:01,500 --> 00:17:05,910
done the work<font color="#E5E5E5"> because I've done only</font>

330
00:17:03,570 --> 00:17:14,089
very small<font color="#E5E5E5"> bit of death soon thank you</font>

331
00:17:05,910 --> 00:17:17,139
so<font color="#E5E5E5"> much yes</font>

332
00:17:14,089 --> 00:17:17,138
[Music]

333
00:17:21,520 --> 00:17:26,389
just a single pattern changes or

334
00:17:24,109 --> 00:17:26,689
<font color="#E5E5E5">something to you</font><font color="#CCCCCC"> Center d40 dialogue</font>

335
00:17:26,390 --> 00:17:31,060
<font color="#CCCCCC">again</font>

336
00:17:26,690 --> 00:18:26,150
<font color="#CCCCCC">no</font><font color="#E5E5E5"> because we sent the invalidate we</font>

337
00:17:31,060 --> 00:18:31,399
<font color="#CCCCCC">just yeah yes yes yes yes yes yes and</font>

338
00:18:26,150 --> 00:18:36,640
<font color="#E5E5E5">back so it has to be yes yes in that</font>

339
00:18:31,400 --> 00:19:03,890
<font color="#CCCCCC">case yes who's</font><font color="#E5E5E5"> next please prepare here</font>

340
00:18:36,640 --> 00:19:05,230
yeah I was yeah<font color="#CCCCCC"> I was</font><font color="#E5E5E5"> surprised as well</font>

341
00:19:03,890 --> 00:19:09,610
how well<font color="#E5E5E5"> it works</font>

342
00:19:05,230 --> 00:19:09,610
[Laughter]

