1
00:00:04,620 --> 00:00:18,869
and<font color="#CCCCCC"> weekend about so I'll</font><font color="#E5E5E5"> introduce</font>

2
00:00:16,049 --> 00:00:21,509
<font color="#E5E5E5">myself I'm Manish eseni and I've been</font>

3
00:00:18,869 --> 00:00:24,180
<font color="#E5E5E5">working with red heart from last one and</font>

4
00:00:21,510 --> 00:00:37,079
a half year as a<font color="#E5E5E5"> QA engineer with NFS</font>

5
00:00:24,180 --> 00:00:39,059
Ganesha team testing<font color="#E5E5E5"> NFS Ganesha so as</font>

6
00:00:37,079 --> 00:00:41,520
it is<font color="#E5E5E5"> only the</font><font color="#CCCCCC"> Lightning talks while</font>

7
00:00:39,059 --> 00:00:44,218
<font color="#CCCCCC">I'll</font><font color="#E5E5E5"> go through the topics which</font><font color="#CCCCCC"> are</font>

8
00:00:41,520 --> 00:00:46,530
mean like what<font color="#E5E5E5"> we</font><font color="#CCCCCC"> three lakhs</font><font color="#E5E5E5"> and then</font>

9
00:00:44,219 --> 00:00:49,010
what's improved<font color="#E5E5E5"> in</font><font color="#CCCCCC"> v4 then we'll have a</font>

10
00:00:46,530 --> 00:00:53,250
quick<font color="#E5E5E5"> walkthrough on all the wheel and</font>

11
00:00:49,010 --> 00:00:55,079
nfsv4<font color="#E5E5E5"> enhancement then we have some of</font>

12
00:00:53,250 --> 00:00:57,750
difference<font color="#E5E5E5"> between v3 and v4 in a</font>

13
00:00:55,079 --> 00:01:00,270
tabular form<font color="#E5E5E5"> and then just</font><font color="#CCCCCC"> a quick</font>

14
00:00:57,750 --> 00:01:02,219
<font color="#CCCCCC">overview of what is NFS</font><font color="#E5E5E5"> Malaysia and how</font>

15
00:01:00,270 --> 00:01:07,920
we are moving<font color="#CCCCCC"> forward with cluster</font><font color="#E5E5E5"> of</font>

16
00:01:02,219 --> 00:01:10,860
SNFs Ganesha so this is v3 so what's the

17
00:01:07,920 --> 00:01:14,069
problem<font color="#E5E5E5"> with</font><font color="#CCCCCC"> v3 so the main main biggest</font>

18
00:01:10,860 --> 00:01:16,640
problem that v3 is like it is<font color="#CCCCCC"> a steer</font><font color="#E5E5E5"> it</font>

19
00:01:14,069 --> 00:01:19,590
is<font color="#CCCCCC"> a straight test protocol</font><font color="#E5E5E5"> there</font>

20
00:01:16,640 --> 00:01:21,899
<font color="#E5E5E5">whereas before is a stateful so</font>

21
00:01:19,590 --> 00:01:24,959
stateless is kind of creates a problem

22
00:01:21,899 --> 00:01:30,030
<font color="#E5E5E5">in degradation of performance and</font>

23
00:01:24,959 --> 00:01:32,369
locking issues<font color="#E5E5E5"> and then in an NFS v3 we</font>

24
00:01:30,030 --> 00:01:33,990
have<font color="#CCCCCC"> five wall problems like different</font>

25
00:01:32,369 --> 00:01:35,399
services<font color="#E5E5E5"> are floating on different</font>

26
00:01:33,990 --> 00:01:37,530
<font color="#E5E5E5">different ports we don't have a</font>

27
00:01:35,399 --> 00:01:41,640
dedicated<font color="#E5E5E5"> port for some of the services</font>

28
00:01:37,530 --> 00:01:44,130
like<font color="#E5E5E5"> Mound</font><font color="#CCCCCC"> East</font><font color="#E5E5E5"> Rd NLM but we have fewer</font>

29
00:01:41,640 --> 00:01:47,729
pores which have dedicated<font color="#E5E5E5"> services like</font>

30
00:01:44,130 --> 00:01:50,699
<font color="#CCCCCC">Port Napa which is 1 1 1 and NFS which</font>

31
00:01:47,729 --> 00:01:54,420
is<font color="#E5E5E5"> 2 0 for 9 but still it's kind of a</font>

32
00:01:50,700 --> 00:01:56,369
drawback<font color="#E5E5E5"> in firewall third is like we</font>

33
00:01:54,420 --> 00:02:00,630
<font color="#CCCCCC">don't</font><font color="#E5E5E5"> have any integration support with</font>

34
00:01:56,369 --> 00:02:03,810
locking so we use<font color="#E5E5E5"> NLM layer for handling</font>

35
00:02:00,630 --> 00:02:06,449
v3 with locking and then we have only

36
00:02:03,810 --> 00:02:10,280
<font color="#E5E5E5">support with a POSIX axle with NFS v3</font>

37
00:02:06,450 --> 00:02:13,650
<font color="#CCCCCC">Ganesha</font><font color="#E5E5E5"> and then at the end it only</font>

38
00:02:10,280 --> 00:02:14,939
<font color="#E5E5E5">operates single operation per app is</font><font color="#CCCCCC"> RTC</font>

39
00:02:13,650 --> 00:02:18,510
remote procedure call

40
00:02:14,939 --> 00:02:21,090
so what improve<font color="#CCCCCC"> it's a quick walk to one</font>

41
00:02:18,510 --> 00:02:24,989
what nfsv4 has been improved so far

42
00:02:21,090 --> 00:02:26,970
<font color="#CCCCCC">search stateful and then 5:5</font><font color="#E5E5E5"> all has</font>

43
00:02:24,989 --> 00:02:29,340
been improved<font color="#CCCCCC"> with the dedicated</font><font color="#E5E5E5"> port</font>

44
00:02:26,970 --> 00:02:32,640
which<font color="#CCCCCC"> is to</font><font color="#E5E5E5"> 0 for 9 then we</font><font color="#CCCCCC"> have a</font>

45
00:02:29,340 --> 00:02:34,610
support of<font color="#CCCCCC"> sudo</font><font color="#E5E5E5"> file system then there</font>

46
00:02:32,640 --> 00:02:37,980
<font color="#E5E5E5">is a features like delegation and</font>

47
00:02:34,610 --> 00:02:41,069
<font color="#E5E5E5">Leasing over</font><font color="#CCCCCC"> ecchi and locking is also</font>

48
00:02:37,980 --> 00:02:43,260
improved<font color="#CCCCCC"> with the as a part of protocol</font>

49
00:02:41,069 --> 00:02:45,780
only we don't have any separate layer

50
00:02:43,260 --> 00:02:48,390
<font color="#CCCCCC">for locking</font><font color="#E5E5E5"> as we have in anaphase</font><font color="#CCCCCC"> v</font><font color="#E5E5E5"> 3</font>

51
00:02:45,780 --> 00:02:50,489
<font color="#E5E5E5">which is</font><font color="#CCCCCC"> NLM</font><font color="#E5E5E5"> and then</font><font color="#CCCCCC"> there is an</font>

52
00:02:48,390 --> 00:02:53,700
<font color="#E5E5E5">integrated support of</font><font color="#CCCCCC"> Ackles which lacks</font>

53
00:02:50,489 --> 00:02:56,160
<font color="#CCCCCC">in</font><font color="#E5E5E5"> v3</font><font color="#CCCCCC"> and then there comes a performance</font>

54
00:02:53,700 --> 00:02:59,339
improvement with<font color="#CCCCCC"> palin</font><font color="#E5E5E5"> and the fest 4.1</font>

55
00:02:56,160 --> 00:03:03,329
<font color="#E5E5E5">and multiple operations over compound</font>

56
00:02:59,340 --> 00:03:06,390
<font color="#CCCCCC">RPC</font><font color="#E5E5E5"> so it's like fun one slide for each</font>

57
00:03:03,329 --> 00:03:08,459
so what is stateful so that the stateful

58
00:03:06,390 --> 00:03:12,208
we have or<font color="#E5E5E5"> two new operation which</font><font color="#CCCCCC"> is</font>

59
00:03:08,459 --> 00:03:14,069
open and close<font color="#E5E5E5"> calls which leads client</font>

60
00:03:12,209 --> 00:03:16,470
and server knows like what is the

61
00:03:14,069 --> 00:03:20,358
condition of<font color="#E5E5E5"> they can easily</font><font color="#CCCCCC"> communicate</font>

62
00:03:16,470 --> 00:03:22,980
with client and server<font color="#E5E5E5"> know and so</font>

63
00:03:20,359 --> 00:03:25,709
<font color="#E5E5E5">guaranteed consistency in the sense in</font>

64
00:03:22,980 --> 00:03:27,209
NFS v3 it keeps on writing from server

65
00:03:25,709 --> 00:03:29,669
<font color="#CCCCCC">or from</font><font color="#E5E5E5"> client</font><font color="#CCCCCC"> to the server</font>

66
00:03:27,209 --> 00:03:32,669
<font color="#E5E5E5">irrespective knowing the rights have</font>

67
00:03:29,669 --> 00:03:34,919
been pushed in the server back-end or

68
00:03:32,669 --> 00:03:37,440
not so the operations is like<font color="#E5E5E5"> operation</font>

69
00:03:34,919 --> 00:03:39,690
for<font color="#CCCCCC"> 5 seconds so all the operation will</font>

70
00:03:37,440 --> 00:03:44,389
<font color="#CCCCCC">go in each 5 seconds so</font><font color="#E5E5E5"> it will kind of</font>

71
00:03:39,690 --> 00:03:48,060
create network congestion<font color="#E5E5E5"> and repetitive</font>

72
00:03:44,389 --> 00:03:49,790
writing but in nfsv4 this is improved so

73
00:03:48,060 --> 00:03:52,620
it will not write the other<font color="#CCCCCC"> other</font>

74
00:03:49,790 --> 00:03:55,069
<font color="#CCCCCC">operation before</font><font color="#E5E5E5"> knowing that it has</font>

75
00:03:52,620 --> 00:03:58,349
been<font color="#E5E5E5"> committed in the</font><font color="#CCCCCC"> backend</font><font color="#E5E5E5"> so and</font>

76
00:03:55,069 --> 00:04:00,569
<font color="#E5E5E5">call back and recall</font><font color="#CCCCCC"> function</font><font color="#E5E5E5"> so these</font>

77
00:03:58,349 --> 00:04:03,000
terminologies are being basically<font color="#E5E5E5"> used</font>

78
00:04:00,569 --> 00:04:06,089
with delegation<font color="#E5E5E5"> so in the coming slide I</font>

79
00:04:03,000 --> 00:04:09,060
<font color="#E5E5E5">will tell what is the allegation and in</font>

80
00:04:06,090 --> 00:04:11,910
nfsv4 it also keeps<font color="#E5E5E5"> the track of all the</font>

81
00:04:09,060 --> 00:04:13,650
files which has been existed<font color="#CCCCCC"> exist by a</font>

82
00:04:11,910 --> 00:04:16,260
different<font color="#CCCCCC"> different</font><font color="#E5E5E5"> clients at different</font>

83
00:04:13,650 --> 00:04:18,978
<font color="#E5E5E5">different times</font><font color="#CCCCCC"> and so every time it</font>

84
00:04:16,260 --> 00:04:22,019
does<font color="#CCCCCC"> not have to send any more</font>

85
00:04:18,978 --> 00:04:24,750
information<font color="#E5E5E5"> information of the file</font>

86
00:04:22,019 --> 00:04:26,400
<font color="#E5E5E5">again and again and it eliminates they</font>

87
00:04:24,750 --> 00:04:28,680
<font color="#CCCCCC">useless right through it which</font><font color="#E5E5E5"> I told</font>

88
00:04:26,400 --> 00:04:31,830
<font color="#E5E5E5">you as a part of guaranteed consistency</font>

89
00:04:28,680 --> 00:04:35,160
and then it also improves<font color="#E5E5E5"> the file</font>

90
00:04:31,830 --> 00:04:37,950
<font color="#CCCCCC">knocking they are leasing</font><font color="#E5E5E5"> over a</font><font color="#CCCCCC"> chip so</font>

91
00:04:35,160 --> 00:04:40,740
nfsv4 is<font color="#CCCCCC"> five all friendly so you</font><font color="#E5E5E5"> can</font>

92
00:04:37,950 --> 00:04:44,039
see in NFS v3 we have different ports

93
00:04:40,740 --> 00:04:47,400
like port<font color="#CCCCCC"> map amount the NFS log status</font>

94
00:04:44,040 --> 00:04:49,080
<font color="#CCCCCC">occurs we have different</font><font color="#E5E5E5"> different ports</font>

95
00:04:47,400 --> 00:04:51,330
for different<font color="#E5E5E5"> different services so if</font>

96
00:04:49,080 --> 00:04:55,440
you can see port mapper is<font color="#CCCCCC"> fixed</font><font color="#E5E5E5"> which</font>

97
00:04:51,330 --> 00:04:57,750
<font color="#E5E5E5">is always be a port 1 1 1 and NFS port</font>

98
00:04:55,440 --> 00:05:00,750
is<font color="#E5E5E5"> also kind of fixed which</font><font color="#CCCCCC"> is 2 0 4 9</font>

99
00:04:57,750 --> 00:05:03,480
but<font color="#E5E5E5"> the rest of the ports</font><font color="#CCCCCC"> this key keep</font>

100
00:05:00,750 --> 00:05:05,670
on changing so the major drawback it

101
00:05:03,480 --> 00:05:09,480
will come<font color="#E5E5E5"> and then suppose the client is</font>

102
00:05:05,670 --> 00:05:11,760
<font color="#E5E5E5">in 5</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> 5</font><font color="#CCCCCC"> or network but the server is</font>

103
00:05:09,480 --> 00:05:13,980
outside the network<font color="#E5E5E5"> so we don't know</font>

104
00:05:11,760 --> 00:05:17,670
like which on which port the NLM and

105
00:05:13,980 --> 00:05:20,340
<font color="#E5E5E5">adult services and and the lemon mount</font>

106
00:05:17,670 --> 00:05:23,610
services will be<font color="#CCCCCC"> running so it's kind of</font>

107
00:05:20,340 --> 00:05:26,000
a<font color="#CCCCCC"> drawback for NFS v3 whereas in nfsv4</font>

108
00:05:23,610 --> 00:05:29,730
all these are as a part of<font color="#E5E5E5"> a single</font>

109
00:05:26,000 --> 00:05:36,990
<font color="#E5E5E5">protocol and it runs on a one dedicated</font>

110
00:05:29,730 --> 00:05:40,230
port which is<font color="#E5E5E5"> to 0 or 2 to 0 for 9 so</font>

111
00:05:36,990 --> 00:05:44,490
this<font color="#CCCCCC"> is also</font><font color="#E5E5E5"> one</font><font color="#CCCCCC"> of the major benefit of</font>

112
00:05:40,230 --> 00:05:46,620
<font color="#E5E5E5">nfsv4</font><font color="#CCCCCC"> which is a pseudo file system so</font>

113
00:05:44,490 --> 00:05:49,500
what is the pseudo file system so pseudo

114
00:05:46,620 --> 00:05:54,090
file system is create<font color="#CCCCCC"> add on its own via</font>

115
00:05:49,500 --> 00:05:56,580
nfsv4<font color="#CCCCCC"> and</font><font color="#E5E5E5"> it's it likes</font><font color="#CCCCCC"> I directly</font><font color="#E5E5E5"> go</font>

116
00:05:54,090 --> 00:05:59,549
through with an<font color="#E5E5E5"> example so suppose</font><font color="#CCCCCC"> if if</font>

117
00:05:56,580 --> 00:06:02,760
if<font color="#CCCCCC"> the client has</font><font color="#E5E5E5"> exported if the server</font>

118
00:05:59,550 --> 00:06:05,850
has<font color="#E5E5E5"> exported the export FS local and</font>

119
00:06:02,760 --> 00:06:08,940
export FS project and FS<font color="#E5E5E5"> v4 so suppose</font>

120
00:06:05,850 --> 00:06:13,290
if you mount<font color="#E5E5E5"> the same route handle on</font>

121
00:06:08,940 --> 00:06:16,260
NFS v3 so<font color="#E5E5E5"> after mounting on NFS v3 the</font>

122
00:06:13,290 --> 00:06:19,680
<font color="#E5E5E5">vv3 client will</font><font color="#CCCCCC"> have access</font><font color="#E5E5E5"> to projects</font>

123
00:06:16,260 --> 00:06:22,860
as well as<font color="#E5E5E5"> nfsv4</font><font color="#CCCCCC"> X</font><font color="#E5E5E5"> also because these</font>

124
00:06:19,680 --> 00:06:25,050
are not<font color="#E5E5E5"> like hidden but in nfsv4 it is</font>

125
00:06:22,860 --> 00:06:27,450
<font color="#E5E5E5">intelligent enough the root file handle</font>

126
00:06:25,050 --> 00:06:29,820
is intelligent<font color="#E5E5E5"> enough</font><font color="#CCCCCC"> to handle</font><font color="#E5E5E5"> it will</font>

127
00:06:27,450 --> 00:06:34,140
only<font color="#E5E5E5"> show</font><font color="#CCCCCC"> the local</font><font color="#E5E5E5"> and local</font><font color="#CCCCCC"> and</font>

128
00:06:29,820 --> 00:06:36,060
project nfsv4<font color="#CCCCCC"> or directories as exported</font>

129
00:06:34,140 --> 00:06:38,340
but it<font color="#CCCCCC"> will not show the other parts</font>

130
00:06:36,060 --> 00:06:39,900
which are<font color="#E5E5E5"> not</font><font color="#CCCCCC"> being exported for</font><font color="#E5E5E5"> if you</font>

131
00:06:38,340 --> 00:06:42,960
want to show you need<font color="#E5E5E5"> to externally</font>

132
00:06:39,900 --> 00:06:45,638
export these<font color="#CCCCCC"> directories so in in</font><font color="#E5E5E5"> pseudo</font>

133
00:06:42,960 --> 00:06:49,270
file system all these exports are act as

134
00:06:45,639 --> 00:06:55,210
as a directory we are<font color="#E5E5E5"> under</font><font color="#CCCCCC"> roof I'll</font>

135
00:06:49,270 --> 00:06:57,818
handle so this is delegation in nfsv4<font color="#E5E5E5"> so</font>

136
00:06:55,210 --> 00:07:00,068
nfsv4 support both<font color="#E5E5E5"> client-side and</font>

137
00:06:57,819 --> 00:07:02,409
server-side delegation<font color="#CCCCCC"> so delegation is</font>

138
00:07:00,069 --> 00:07:04,840
a technique<font color="#E5E5E5"> where the server provides</font>

139
00:07:02,409 --> 00:07:07,389
the<font color="#E5E5E5"> delegation</font><font color="#CCCCCC"> to the client</font><font color="#E5E5E5"> having</font>

140
00:07:04,840 --> 00:07:09,489
permission<font color="#E5E5E5"> to access to write something</font>

141
00:07:07,389 --> 00:07:11,620
<font color="#CCCCCC">on the file without being sending each</font>

142
00:07:09,490 --> 00:07:13,930
and every operation we are<font color="#CCCCCC"> background in</font>

143
00:07:11,620 --> 00:07:17,259
the server so this is one of<font color="#E5E5E5"> the major</font>

144
00:07:13,930 --> 00:07:19,449
been benefits so delegation it's like we

145
00:07:17,259 --> 00:07:21,460
have two kinds<font color="#E5E5E5"> of delegation</font><font color="#CCCCCC"> a</font><font color="#E5E5E5"> server</font>

146
00:07:19,449 --> 00:07:24,129
can provide a<font color="#E5E5E5"> read delegation as well</font><font color="#CCCCCC"> as</font>

147
00:07:21,460 --> 00:07:26,560
<font color="#E5E5E5">a</font><font color="#CCCCCC"> high delegation so mighty bulk line or</font>

148
00:07:24,129 --> 00:07:30,610
my<font color="#E5E5E5"> people a client cannot be granted</font>

149
00:07:26,560 --> 00:07:32,979
<font color="#CCCCCC">right delegation because right</font>

150
00:07:30,610 --> 00:07:34,629
delegation will if two clients<font color="#CCCCCC"> will have</font>

151
00:07:32,979 --> 00:07:37,688
<font color="#E5E5E5">right delegation at the same time it</font>

152
00:07:34,629 --> 00:07:41,889
will<font color="#E5E5E5"> create a consistency in</font><font color="#CCCCCC"> consistency</font>

153
00:07:37,689 --> 00:07:44,080
and and there as in<font color="#E5E5E5"> free delegation</font>

154
00:07:41,889 --> 00:07:46,330
multiple kind can have read delegation

155
00:07:44,080 --> 00:07:49,120
so who decide whether the delegation

156
00:07:46,330 --> 00:07:51,659
needs to be<font color="#CCCCCC"> like be granted</font><font color="#E5E5E5"> to a client</font>

157
00:07:49,120 --> 00:07:54,099
or not so it's only server who decides

158
00:07:51,659 --> 00:07:57,819
whether the<font color="#E5E5E5"> delegation used to be</font>

159
00:07:54,099 --> 00:08:01,240
<font color="#E5E5E5">granted and it depends upon the previous</font>

160
00:07:57,819 --> 00:08:03,759
XP p vs<font color="#E5E5E5"> accessing</font><font color="#CCCCCC"> all files like</font>

161
00:08:01,240 --> 00:08:05,979
previous<font color="#E5E5E5"> pattern of</font><font color="#CCCCCC"> file being accessed</font>

162
00:08:03,759 --> 00:08:07,060
<font color="#E5E5E5">by different different lines of suppose</font>

163
00:08:05,979 --> 00:08:09,699
that the file<font color="#E5E5E5"> is</font><font color="#CCCCCC"> being frequently</font>

164
00:08:07,060 --> 00:08:12,279
<font color="#E5E5E5">accessed by multiple</font><font color="#CCCCCC"> client so it won't</font>

165
00:08:09,699 --> 00:08:16,990
allow the delegation<font color="#CCCCCC"> to those</font><font color="#E5E5E5"> clients</font>

166
00:08:12,279 --> 00:08:19,810
<font color="#CCCCCC">and so here comes a consistency issues</font>

167
00:08:16,990 --> 00:08:22,029
also<font color="#E5E5E5"> so when I suppose a client one has</font>

168
00:08:19,810 --> 00:08:24,339
taken<font color="#CCCCCC"> a read allegation and at the same</font>

169
00:08:22,029 --> 00:08:27,729
time flying<font color="#E5E5E5"> to comes and it wants to</font>

170
00:08:24,339 --> 00:08:30,279
<font color="#CCCCCC">take</font><font color="#E5E5E5"> their of the right delegation so in</font>

171
00:08:27,729 --> 00:08:32,588
that case the client<font color="#E5E5E5"> the server will</font>

172
00:08:30,279 --> 00:08:34,269
send a callback request to client<font color="#CCCCCC"> one</font>

173
00:08:32,589 --> 00:08:36,760
saying<font color="#E5E5E5"> he'd</font><font color="#CCCCCC"> returned the file handle</font>

174
00:08:34,269 --> 00:08:39,849
<font color="#E5E5E5">returned the delegation because</font><font color="#CCCCCC"> I need</font>

175
00:08:36,760 --> 00:08:42,729
<font color="#CCCCCC">to</font><font color="#E5E5E5"> graduate to client</font><font color="#CCCCCC"> two so in in</font><font color="#E5E5E5"> that</font>

176
00:08:39,849 --> 00:08:44,949
case it will<font color="#E5E5E5"> or client if suppose a</font>

177
00:08:42,729 --> 00:08:47,079
client one has written<font color="#CCCCCC"> something</font><font color="#E5E5E5"> it will</font>

178
00:08:44,949 --> 00:08:49,029
it<font color="#E5E5E5"> will just give all the commits to the</font>

179
00:08:47,079 --> 00:08:51,579
<font color="#CCCCCC">server it will</font><font color="#E5E5E5"> commit everything and</font>

180
00:08:49,029 --> 00:08:54,880
then it will it will grant back the

181
00:08:51,579 --> 00:08:56,589
delegation to<font color="#CCCCCC"> the server itself</font><font color="#E5E5E5"> but then</font>

182
00:08:54,880 --> 00:08:59,180
the server<font color="#E5E5E5"> will decide whether it</font><font color="#CCCCCC"> needs</font>

183
00:08:56,589 --> 00:09:03,650
to grant the delegation<font color="#CCCCCC"> to other kind</font>

184
00:08:59,180 --> 00:09:06,410
it's not<font color="#CCCCCC"> getting peed</font><font color="#E5E5E5"> every time so in</font>

185
00:09:03,650 --> 00:09:09,560
in in delegation all the operations are

186
00:09:06,410 --> 00:09:11,780
being copied<font color="#E5E5E5"> from if the delegation is</font>

187
00:09:09,560 --> 00:09:14,630
being provided by the<font color="#E5E5E5"> client so all the</font>

188
00:09:11,780 --> 00:09:16,730
operations done via clients is act as a

189
00:09:14,630 --> 00:09:19,850
local<font color="#E5E5E5"> coffee to the client it will not</font>

190
00:09:16,730 --> 00:09:21,860
send each and every operation to the

191
00:09:19,850 --> 00:09:25,040
server so it kinds<font color="#E5E5E5"> of improved the</font>

192
00:09:21,860 --> 00:09:27,740
performance as well so it's like<font color="#E5E5E5"> quick</font>

193
00:09:25,040 --> 00:09:29,510
walk<font color="#E5E5E5"> through it cut down the scope of</font>

194
00:09:27,740 --> 00:09:31,730
revalidation requirement each time

195
00:09:29,510 --> 00:09:33,740
because<font color="#CCCCCC"> it has</font><font color="#E5E5E5"> full permission from the</font>

196
00:09:31,730 --> 00:09:36,590
server the client can access anything<font color="#E5E5E5"> if</font>

197
00:09:33,740 --> 00:09:38,660
planted delegation<font color="#E5E5E5"> and it reduces the</font>

198
00:09:36,590 --> 00:09:40,310
network<font color="#E5E5E5"> traffic and therefore improves</font>

199
00:09:38,660 --> 00:09:42,860
the performance on the client<font color="#E5E5E5"> and the</font>

200
00:09:40,310 --> 00:09:45,260
<font color="#CCCCCC">server and</font><font color="#E5E5E5"> have the access</font><font color="#CCCCCC"> pattern of</font>

201
00:09:42,860 --> 00:09:47,360
the file before<font color="#E5E5E5"> providing delegation</font><font color="#CCCCCC"> it</font>

202
00:09:45,260 --> 00:09:49,939
depends on context respect and then only

203
00:09:47,360 --> 00:09:51,950
<font color="#E5E5E5">it provides delegation and server may</font>

204
00:09:49,940 --> 00:09:54,380
<font color="#E5E5E5">recall the delegation at any moment of</font>

205
00:09:51,950 --> 00:09:58,940
<font color="#CCCCCC">time when other opens</font><font color="#E5E5E5"> of</font><font color="#CCCCCC"> files</font><font color="#E5E5E5"> it's like</font>

206
00:09:54,380 --> 00:10:01,550
all recall and callback operations so

207
00:09:58,940 --> 00:10:03,950
what are the challenges<font color="#CCCCCC"> so delegation is</font>

208
00:10:01,550 --> 00:10:06,229
majorly<font color="#E5E5E5"> it turns on</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> zero</font><font color="#CCCCCC"> for nine</font>

209
00:10:03,950 --> 00:10:08,240
port only<font color="#E5E5E5"> but sometimes it may opt some</font>

210
00:10:06,230 --> 00:10:10,160
other port<font color="#E5E5E5"> depending upon the firewall</font>

211
00:10:08,240 --> 00:10:12,290
issues<font color="#E5E5E5"> so it can create a</font><font color="#CCCCCC"> problem by</font>

212
00:10:10,160 --> 00:10:14,990
with delegation so suppose if the server

213
00:10:12,290 --> 00:10:17,630
is unable<font color="#E5E5E5"> to</font><font color="#CCCCCC"> contact to the client for</font>

214
00:10:14,990 --> 00:10:19,640
for the delegation<font color="#E5E5E5"> and it's not running</font>

215
00:10:17,630 --> 00:10:21,710
<font color="#CCCCCC">on</font><font color="#E5E5E5"> two zero four</font><font color="#CCCCCC"> nine</font><font color="#E5E5E5"> port so server</font>

216
00:10:19,640 --> 00:10:23,960
won't<font color="#E5E5E5"> be</font><font color="#CCCCCC"> able</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> grant the delegation to</font>

217
00:10:21,710 --> 00:10:26,570
<font color="#CCCCCC">the client</font><font color="#E5E5E5"> and the other is suppose if</font>

218
00:10:23,960 --> 00:10:28,460
<font color="#E5E5E5">there are a mix match of versions of</font>

219
00:10:26,570 --> 00:10:30,710
clients running supposedly three<font color="#E5E5E5"> clients</font>

220
00:10:28,460 --> 00:10:32,690
<font color="#E5E5E5">and be for client so the delegation</font>

221
00:10:30,710 --> 00:10:34,790
technology will only be compatible with

222
00:10:32,690 --> 00:10:36,830
v4<font color="#CCCCCC"> clients and the other accessing the</font>

223
00:10:34,790 --> 00:10:42,319
same file<font color="#E5E5E5"> won't go through these</font>

224
00:10:36,830 --> 00:10:45,740
delegation<font color="#E5E5E5"> and then there's a leasing</font>

225
00:10:42,320 --> 00:10:48,920
over<font color="#CCCCCC"> EDA so the problem with end of his</font>

226
00:10:45,740 --> 00:10:51,320
v3 is<font color="#CCCCCC"> is it is a</font><font color="#E5E5E5"> stateless protocol so</font>

227
00:10:48,920 --> 00:10:53,180
the client and servers<font color="#CCCCCC"> are not aware of</font>

228
00:10:51,320 --> 00:10:55,250
<font color="#E5E5E5">each other state so suppose if the</font>

229
00:10:53,180 --> 00:10:57,349
client<font color="#E5E5E5"> is rebooted</font><font color="#CCCCCC"> the server will still</font>

230
00:10:55,250 --> 00:10:59,060
hold the lock keep on holding the<font color="#E5E5E5"> lock</font>

231
00:10:57,350 --> 00:11:03,410
and it<font color="#E5E5E5"> will not allow</font><font color="#CCCCCC"> the other client</font>

232
00:10:59,060 --> 00:11:06,469
to take t<font color="#CCCCCC"> take the</font><font color="#E5E5E5"> lock but in NFS</font><font color="#CCCCCC"> or in</font>

233
00:11:03,410 --> 00:11:09,650
the same case if the yeah but in nfsv4

234
00:11:06,470 --> 00:11:12,450
<font color="#CCCCCC">if</font><font color="#E5E5E5"> the client</font><font color="#CCCCCC"> is rebooted the server is</font>

235
00:11:09,650 --> 00:11:15,360
very<font color="#E5E5E5"> well aware the client has been</font>

236
00:11:12,450 --> 00:11:17,910
so it will keep a<font color="#CCCCCC"> lock for some time for</font>

237
00:11:15,360 --> 00:11:19,500
some grace period and then it<font color="#E5E5E5"> will allow</font>

238
00:11:17,910 --> 00:11:22,339
the other<font color="#E5E5E5"> client</font><font color="#CCCCCC"> to take</font><font color="#E5E5E5"> take the law</font>

239
00:11:19,500 --> 00:11:25,529
<font color="#E5E5E5">but if the server is rebooted in nfsv4</font>

240
00:11:22,339 --> 00:11:28,709
<font color="#CCCCCC">so the server will put into a grace time</font>

241
00:11:25,529 --> 00:11:30,449
for some time and it will allow the

242
00:11:28,709 --> 00:11:32,579
<font color="#E5E5E5">client which was holding the lock</font>

243
00:11:30,449 --> 00:11:34,740
earlier it will give<font color="#CCCCCC"> the</font><font color="#E5E5E5"> chance to that</font>

244
00:11:32,579 --> 00:11:36,989
<font color="#CCCCCC">client in the grace period</font><font color="#E5E5E5"> to again take</font>

245
00:11:34,740 --> 00:11:39,060
<font color="#E5E5E5">the lock so</font><font color="#CCCCCC"> that no other client can</font>

246
00:11:36,990 --> 00:11:44,149
take the lock and<font color="#E5E5E5"> it can again reclaim</font>

247
00:11:39,060 --> 00:11:47,638
the lock so this is what I explained and

248
00:11:44,149 --> 00:11:50,310
more unlocking so it's the first<font color="#E5E5E5"> thing</font>

249
00:11:47,639 --> 00:11:52,350
<font color="#CCCCCC">we know</font><font color="#E5E5E5"> it's integrated there is no</font><font color="#CCCCCC"> NLM</font>

250
00:11:50,310 --> 00:11:54,899
kind of extra protocol running<font color="#E5E5E5"> in</font><font color="#CCCCCC"> an</font>

251
00:11:52,350 --> 00:11:57,420
<font color="#CCCCCC">office</font><font color="#E5E5E5"> before and the client must</font>

252
00:11:54,899 --> 00:12:00,180
<font color="#E5E5E5">maintain contact with NFS version 4</font>

253
00:11:57,420 --> 00:12:01,829
server to continue extending<font color="#E5E5E5"> its open</font>

254
00:12:00,180 --> 00:12:03,689
<font color="#E5E5E5">and lock</font><font color="#CCCCCC"> leasing so once once the</font>

255
00:12:01,829 --> 00:12:05,819
<font color="#E5E5E5">leasing is about to expire</font><font color="#CCCCCC"> and the</font>

256
00:12:03,690 --> 00:12:07,649
client<font color="#E5E5E5"> means to do some more operation</font>

257
00:12:05,820 --> 00:12:10,620
so the client is responsible<font color="#CCCCCC"> for</font>

258
00:12:07,649 --> 00:12:13,920
extending the leasing period and NFS

259
00:12:10,620 --> 00:12:16,470
server<font color="#E5E5E5"> v4 server and client can so this</font>

260
00:12:13,920 --> 00:12:19,140
is the drawback in which the<font color="#E5E5E5"> NLM can</font>

261
00:12:16,470 --> 00:12:21,510
though in NFS v3 server and client

262
00:12:19,140 --> 00:12:24,870
<font color="#E5E5E5">cannot run and then them on the same</font>

263
00:12:21,510 --> 00:12:27,089
client<font color="#E5E5E5"> like on on the same node it</font>

264
00:12:24,870 --> 00:12:29,820
cannot act as<font color="#E5E5E5"> a server</font><font color="#CCCCCC"> in a client in</font>

265
00:12:27,089 --> 00:12:34,279
anitha's v3 there is an NFS before it

266
00:12:29,820 --> 00:12:34,279
can be<font color="#E5E5E5"> used as a single server in climb</font>

267
00:12:34,850 --> 00:12:42,060
so I<font color="#E5E5E5"> call</font><font color="#CCCCCC"> this though is one more</font>

268
00:12:38,880 --> 00:12:44,610
benefit in and nfsv4 there is an NFS<font color="#E5E5E5"> we</font>

269
00:12:42,060 --> 00:12:47,729
treat only<font color="#CCCCCC"> suppose the POSIX ackles and</font>

270
00:12:44,610 --> 00:12:51,870
the nfsv4<font color="#E5E5E5"> are concerned much more richer</font>

271
00:12:47,730 --> 00:12:55,380
than NFS this POSIX<font color="#CCCCCC"> Akal so all the</font>

272
00:12:51,870 --> 00:12:58,290
posts all the POSIX 4 6 Akal can be

273
00:12:55,380 --> 00:13:00,689
mapped to nfsv4<font color="#E5E5E5"> at all but the</font>

274
00:12:58,290 --> 00:13:03,329
<font color="#E5E5E5">vice-versa is not same because it has</font>

275
00:13:00,690 --> 00:13:05,519
<font color="#E5E5E5">many advantages in nfsv4</font><font color="#CCCCCC"> Akal which</font>

276
00:13:03,329 --> 00:13:06,599
cannot be mapped<font color="#E5E5E5"> to a POSIX circle so we</font>

277
00:13:05,519 --> 00:13:08,490
<font color="#CCCCCC">are currently</font>

278
00:13:06,600 --> 00:13:13,230
<font color="#CCCCCC">Stream user</font><font color="#E5E5E5"> I</font><font color="#CCCCCC"> currently working on</font>

279
00:13:08,490 --> 00:13:14,910
fixing<font color="#E5E5E5"> this</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> yeah in NFS before</font>

280
00:13:13,230 --> 00:13:17,850
occurs the user and group<font color="#E5E5E5"> information</font>

281
00:13:14,910 --> 00:13:20,219
<font color="#CCCCCC">are stored in the</font><font color="#E5E5E5"> form of a string but</font>

282
00:13:17,850 --> 00:13:24,449
not in numeric<font color="#CCCCCC"> variable 6 had a</font><font color="#E5E5E5"> little</font>

283
00:13:20,220 --> 00:13:26,320
stored in numeric form so in NFS v3 so

284
00:13:24,449 --> 00:13:29,109
compound<font color="#CCCCCC"> RPC so</font>

285
00:13:26,320 --> 00:13:31,870
each operation<font color="#E5E5E5"> in NFS v3 it has to send</font>

286
00:13:29,110 --> 00:13:34,420
small<font color="#CCCCCC"> squad request to from client to</font>

287
00:13:31,870 --> 00:13:37,840
server for each operation<font color="#E5E5E5"> whereas in</font>

288
00:13:34,420 --> 00:13:40,449
nfsv4<font color="#CCCCCC"> he can couple a many requests in</font>

289
00:13:37,840 --> 00:13:42,850
one call and send it to<font color="#E5E5E5"> client so it is</font>

290
00:13:40,450 --> 00:13:44,980
kind of<font color="#CCCCCC"> Inc</font><font color="#E5E5E5"> if it improves the</font>

291
00:13:42,850 --> 00:13:47,860
performance<font color="#CCCCCC"> so you can see the</font><font color="#E5E5E5"> lookup</font>

292
00:13:44,980 --> 00:13:51,210
open file and<font color="#E5E5E5"> read the data all these</font>

293
00:13:47,860 --> 00:13:54,400
requests have<font color="#CCCCCC"> been sent in one RPC call</font>

294
00:13:51,210 --> 00:13:56,770
<font color="#E5E5E5">so this is the</font><font color="#CCCCCC"> biggest benefit in</font>

295
00:13:54,400 --> 00:13:59,829
performance in nfsv4 which is parallel

296
00:13:56,770 --> 00:14:02,380
NFS<font color="#E5E5E5"> so in parallel NFS we have the</font>

297
00:13:59,830 --> 00:14:04,270
metadata server<font color="#E5E5E5"> in the data server so</font>

298
00:14:02,380 --> 00:14:06,310
metadata server is like<font color="#E5E5E5"> keeping the</font>

299
00:14:04,270 --> 00:14:09,040
<font color="#CCCCCC">track off on which node the file is</font>

300
00:14:06,310 --> 00:14:11,800
present<font color="#E5E5E5"> and data server has</font><font color="#CCCCCC"> the actual</font>

301
00:14:09,040 --> 00:14:13,719
<font color="#CCCCCC">data</font><font color="#E5E5E5"> so suppose if the client needs</font><font color="#CCCCCC"> to</font>

302
00:14:11,800 --> 00:14:16,030
<font color="#E5E5E5">access any file it will directly go to</font>

303
00:14:13,720 --> 00:14:19,060
metadata server and metadata<font color="#E5E5E5"> server will</font>

304
00:14:16,030 --> 00:14:21,220
point to the location on of data server

305
00:14:19,060 --> 00:14:23,410
having<font color="#E5E5E5"> the files of it the node having</font>

306
00:14:21,220 --> 00:14:25,390
<font color="#E5E5E5">the files so then after</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> you can</font>

307
00:14:23,410 --> 00:14:29,680
<font color="#E5E5E5">directly communicate in parallel with</font>

308
00:14:25,390 --> 00:14:31,900
these parallel<font color="#E5E5E5"> nodes at the time so it's</font>

309
00:14:29,680 --> 00:14:37,199
like parallel<font color="#E5E5E5"> accessing from client to</font>

310
00:14:31,900 --> 00:14:39,730
server so it<font color="#E5E5E5"> it supposed three types of</font>

311
00:14:37,200 --> 00:14:45,750
support<font color="#E5E5E5"> right three types of storage</font>

312
00:14:39,730 --> 00:14:45,750
<font color="#CCCCCC">access protocol file block and object so</font>

313
00:14:46,320 --> 00:14:52,420
file block and<font color="#E5E5E5"> object so it's these</font>

314
00:14:49,450 --> 00:14:54,910
protocols are more related<font color="#CCCCCC"> to client and</font>

315
00:14:52,420 --> 00:14:58,630
data server communication so based on<font color="#E5E5E5"> it</font>

316
00:14:54,910 --> 00:15:04,209
it communicates<font color="#CCCCCC"> a s block of blocks</font><font color="#E5E5E5"> or</font>

317
00:14:58,630 --> 00:15:07,330
<font color="#CCCCCC">objector of files so we have this p NFS</font>

318
00:15:04,210 --> 00:15:09,490
feature in nfsv4 which is in currently

319
00:15:07,330 --> 00:15:12,100
<font color="#E5E5E5">in tech preview feature so this is just</font>

320
00:15:09,490 --> 00:15:14,680
<font color="#E5E5E5">about</font><font color="#CCCCCC"> all I have</font><font color="#E5E5E5"> I have explained in the</font>

321
00:15:12,100 --> 00:15:17,680
earlier slides<font color="#E5E5E5"> it's just the summary hit</font>

322
00:15:14,680 --> 00:15:20,290
a<font color="#E5E5E5"> stateless it is stateful exported like</font>

323
00:15:17,680 --> 00:15:23,560
<font color="#E5E5E5">edifice v3 all exports</font><font color="#CCCCCC"> amount are</font>

324
00:15:20,290 --> 00:15:27,189
mounted separately<font color="#CCCCCC"> but in nfsv4 he has</font>

325
00:15:23,560 --> 00:15:29,709
the the<font color="#CCCCCC"> pseudo filesystem so in NFS v3</font>

326
00:15:27,190 --> 00:15:33,400
we have and then as a separate layer<font color="#CCCCCC"> way</font>

327
00:15:29,710 --> 00:15:37,930
there is an NFS for everything is in one

328
00:15:33,400 --> 00:15:39,579
<font color="#E5E5E5">single layer and then in NFS v3 we have</font>

329
00:15:37,930 --> 00:15:42,699
<font color="#E5E5E5">permanent locking there we</font>

330
00:15:39,580 --> 00:15:45,700
Elizabeth lochley<font color="#CCCCCC"> and</font><font color="#E5E5E5"> RPC is like one</font>

331
00:15:42,700 --> 00:15:47,790
<font color="#E5E5E5">one operation for RPC there we can have</font>

332
00:15:45,700 --> 00:15:51,160
multiple operations<font color="#E5E5E5"> and the five</font>

333
00:15:47,790 --> 00:15:52,810
firewall issue and a drink<font color="#E5E5E5"> we have</font>

334
00:15:51,160 --> 00:15:54,430
different<font color="#E5E5E5"> different layers or different</font>

335
00:15:52,810 --> 00:15:56,290
different protocols for different

336
00:15:54,430 --> 00:15:58,209
<font color="#E5E5E5">different services in</font><font color="#CCCCCC"> anaphase meeting</font>

337
00:15:56,290 --> 00:16:01,060
I'm running short<font color="#CCCCCC"> of time that's why I'm</font>

338
00:15:58,210 --> 00:16:03,760
going<font color="#CCCCCC"> too fast so this is like you must</font>

339
00:16:01,060 --> 00:16:05,530
<font color="#E5E5E5">have seen in earlier or</font><font color="#CCCCCC"> supra</font><font color="#E5E5E5"> T's or</font>

340
00:16:03,760 --> 00:16:08,290
presentation also<font color="#E5E5E5"> what is an</font><font color="#CCCCCC"> effects</font>

341
00:16:05,530 --> 00:16:10,660
<font color="#CCCCCC">kanesha</font><font color="#E5E5E5"> it's just</font><font color="#CCCCCC"> the user space address</font>

342
00:16:08,290 --> 00:16:15,490
protocol compliant and FS server so we

343
00:16:10,660 --> 00:16:18,459
<font color="#E5E5E5">have n FS v 3 4 . o</font><font color="#CCCCCC"> pn FS protocols</font>

344
00:16:15,490 --> 00:16:21,670
running<font color="#E5E5E5"> and it</font><font color="#CCCCCC"> uses the Lib GG of</font><font color="#E5E5E5"> AP ina</font>

345
00:16:18,460 --> 00:16:24,430
and FS<font color="#CCCCCC"> sell support to run the</font><font color="#E5E5E5"> cluster</font>

346
00:16:21,670 --> 00:16:26,709
server so<font color="#CCCCCC"> we have a</font><font color="#E5E5E5"> integrated achieve</font>

347
00:16:24,430 --> 00:16:29,140
<font color="#CCCCCC">at pcs</font><font color="#E5E5E5"> and pacemaker currently but in</font>

348
00:16:26,710 --> 00:16:33,100
going<font color="#E5E5E5"> forward we will</font><font color="#CCCCCC"> be moving to our</font>

349
00:16:29,140 --> 00:16:35,650
cddb<font color="#E5E5E5"> with NFS</font><font color="#CCCCCC"> Monisha</font><font color="#E5E5E5"> and it has the D</font>

350
00:16:33,100 --> 00:16:38,620
<font color="#E5E5E5">bus mechanism for exporting the volume</font>

351
00:16:35,650 --> 00:16:41,410
so suppose if one node is down the<font color="#E5E5E5"> other</font>

352
00:16:38,620 --> 00:16:44,050
the other node will will put<font color="#CCCCCC"> all the</font>

353
00:16:41,410 --> 00:16:47,560
<font color="#CCCCCC">nodes</font><font color="#E5E5E5"> the nose will get to know and it</font>

354
00:16:44,050 --> 00:16:49,240
will put in grace<font color="#CCCCCC"> periods and</font><font color="#E5E5E5"> it</font>

355
00:16:47,560 --> 00:16:53,290
supports a lot<font color="#CCCCCC"> of</font><font color="#E5E5E5"> file system</font><font color="#CCCCCC"> like</font>

356
00:16:49,240 --> 00:16:56,080
lustre self<font color="#E5E5E5"> Jeep</font><font color="#CCCCCC"> GPFS and Lasher so this</font>

357
00:16:53,290 --> 00:17:00,219
is the NFS of<font color="#E5E5E5"> Ganesha architecture and</font>

358
00:16:56,080 --> 00:17:02,110
this is what I explained and this is the

359
00:17:00,220 --> 00:17:04,900
last<font color="#E5E5E5"> light how we are heading with</font>

360
00:17:02,110 --> 00:17:06,970
<font color="#CCCCCC">gastrofest NFS Ganesha so we have some</font>

361
00:17:04,900 --> 00:17:09,580
improvements<font color="#CCCCCC"> and coming releases which</font>

362
00:17:06,970 --> 00:17:13,030
is like read the<font color="#CCCCCC"> chunking in NFS Ganesha</font>

363
00:17:09,579 --> 00:17:16,060
2.5<font color="#E5E5E5"> it's it's more</font><font color="#CCCCCC"> related to improving</font>

364
00:17:13,030 --> 00:17:18,550
find and orange<font color="#CCCCCC"> and then we have</font>

365
00:17:16,060 --> 00:17:21,909
exceeded<font color="#E5E5E5"> their plus support</font><font color="#CCCCCC"> in GF API</font>

366
00:17:18,550 --> 00:17:23,709
which is in cluster 3.13 and then we

367
00:17:21,910 --> 00:17:26,199
will be having a delegation support

368
00:17:23,709 --> 00:17:28,960
which we are<font color="#E5E5E5"> planning in NFS Ganesha 2.7</font>

369
00:17:26,199 --> 00:17:31,600
with cluster<font color="#CCCCCC"> for dato</font><font color="#E5E5E5"> then we currently</font>

370
00:17:28,960 --> 00:17:33,310
have a pacemaker and<font color="#E5E5E5"> chorusing as H</font><font color="#CCCCCC"> is</font>

371
00:17:31,600 --> 00:17:36,310
so incoming release we might be moving

372
00:17:33,310 --> 00:17:40,960
<font color="#CCCCCC">in</font><font color="#E5E5E5"> CTD B and then we are also planning</font>

373
00:17:36,310 --> 00:17:46,690
for asynchronous<font color="#CCCCCC"> IO IO</font><font color="#E5E5E5"> for n FF Ganesha</font>

374
00:17:40,960 --> 00:17:48,190
2.4<font color="#CCCCCC"> released with cluster for dot X so</font>

375
00:17:46,690 --> 00:17:52,860
these are the reference<font color="#E5E5E5"> you can contact</font>

376
00:17:48,190 --> 00:17:56,410
any<font color="#CCCCCC"> times</font><font color="#E5E5E5"> with this meal and IRC contact</font>

377
00:17:52,860 --> 00:18:04,399
<font color="#E5E5E5">Thanks same questions</font>

378
00:17:56,410 --> 00:18:04,400
[Applause]

