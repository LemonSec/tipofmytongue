1
00:00:05,840 --> 00:00:19,119
<font color="#E5E5E5">okay let's walk</font>

2
00:00:07,270 --> 00:00:22,180
Abhishek so hello one<font color="#CCCCCC"> my name is Danny</font>

3
00:00:19,119 --> 00:00:24,220
skintight<font color="#E5E5E5"> m'kay I'm working in Souza for</font>

4
00:00:22,180 --> 00:00:26,770
<font color="#E5E5E5">storage product that is actually</font><font color="#CCCCCC"> based</font>

5
00:00:24,220 --> 00:00:29,710
on self<font color="#E5E5E5"> and today we will</font><font color="#CCCCCC"> talk about the</font>

6
00:00:26,770 --> 00:00:31,810
self and the yoke<font color="#CCCCCC"> you'll talk about it</font>

7
00:00:29,710 --> 00:00:34,420
from<font color="#E5E5E5"> the different perspective not like</font>

8
00:00:31,810 --> 00:00:37,870
we<font color="#CCCCCC"> are</font><font color="#E5E5E5"> going to run yell conserve but</font>

9
00:00:34,420 --> 00:00:41,920
how<font color="#E5E5E5"> young could help us with self</font><font color="#CCCCCC"> a</font>

10
00:00:37,870 --> 00:00:44,078
little bit<font color="#E5E5E5"> and probably you</font><font color="#CCCCCC"> anyone</font><font color="#E5E5E5"> know</font>

11
00:00:41,920 --> 00:00:46,210
what is the<font color="#CCCCCC"> elasticsearch is what is</font>

12
00:00:44,079 --> 00:00:49,200
<font color="#E5E5E5">locks -</font><font color="#CCCCCC"> kabbalah that is tech of</font>

13
00:00:46,210 --> 00:00:51,700
different products from<font color="#E5E5E5"> the elastic</font>

14
00:00:49,200 --> 00:00:55,000
elastic search is basically the database

15
00:00:51,700 --> 00:00:56,670
lock stashes several pipeline that

16
00:00:55,000 --> 00:00:59,309
sexual allows you to get data

17
00:00:56,670 --> 00:01:01,600
<font color="#CCCCCC">transformer</font><font color="#E5E5E5"> somehow and to put it</font>

18
00:00:59,309 --> 00:01:03,370
probably in elastic search that's what

19
00:01:01,600 --> 00:01:07,060
they<font color="#CCCCCC"> claim they owe you and also</font>

20
00:01:03,370 --> 00:01:09,460
<font color="#CCCCCC">Kabbalah is</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> GUI for all</font><font color="#E5E5E5"> this so</font><font color="#CCCCCC"> you</font>

21
00:01:07,060 --> 00:01:12,549
can query for me<font color="#CCCCCC"> too</font><font color="#E5E5E5"> elastic search</font>

22
00:01:09,460 --> 00:01:15,759
monitor or something<font color="#CCCCCC"> and etc</font><font color="#E5E5E5"> expect it's</font>

23
00:01:12,549 --> 00:01:17,889
sexually<font color="#E5E5E5"> another product</font><font color="#CCCCCC"> that provides</font>

24
00:01:15,759 --> 00:01:21,880
<font color="#E5E5E5">you machine learning and alerting from</font>

25
00:01:17,889 --> 00:01:25,060
same<font color="#CCCCCC"> elasticsearch database what</font><font color="#E5E5E5"> I am be</font>

26
00:01:21,880 --> 00:01:27,699
talking about<font color="#E5E5E5"> is</font><font color="#CCCCCC"> lodging logging so you</font>

27
00:01:25,060 --> 00:01:29,200
actually<font color="#E5E5E5"> everyone knows that surface</font>

28
00:01:27,700 --> 00:01:32,049
<font color="#E5E5E5">cross</font><font color="#CCCCCC"> resolution</font><font color="#E5E5E5"> and we</font><font color="#CCCCCC"> have a lot of</font>

29
00:01:29,200 --> 00:01:35,079
locks<font color="#E5E5E5"> that we need to gather somehow put</font>

30
00:01:32,049 --> 00:01:38,139
it<font color="#CCCCCC"> somehow in database and alert the</font>

31
00:01:35,079 --> 00:01:40,689
<font color="#CCCCCC">people that there</font><font color="#E5E5E5"> are some</font><font color="#CCCCCC"> problem so</font>

32
00:01:38,139 --> 00:01:44,880
just analyze it so how you<font color="#CCCCCC"> can collect</font>

33
00:01:40,689 --> 00:01:48,699
it it sexually<font color="#E5E5E5"> well-known old</font>

34
00:01:44,880 --> 00:01:51,429
<font color="#CCCCCC">technologies are syslog syslog-ng</font><font color="#E5E5E5"> you</font>

35
00:01:48,700 --> 00:01:53,979
can just gather<font color="#CCCCCC"> it</font><font color="#E5E5E5"> on the</font><font color="#CCCCCC"> node and push</font>

36
00:01:51,429 --> 00:01:57,189
it to the<font color="#E5E5E5"> elastic search search as well</font>

37
00:01:53,979 --> 00:01:59,020
as they have also filed it it's special

38
00:01:57,189 --> 00:02:01,779
applications that<font color="#CCCCCC"> transfer their node</font>

39
00:01:59,020 --> 00:02:03,579
<font color="#E5E5E5">you can</font><font color="#CCCCCC"> run it that will not</font><font color="#E5E5E5"> just the</font>

40
00:02:01,779 --> 00:02:07,060
<font color="#E5E5E5">gather the logs but also people says</font>

41
00:02:03,579 --> 00:02:08,829
them as well as<font color="#E5E5E5"> real log self actually</font>

42
00:02:07,060 --> 00:02:11,020
has the<font color="#E5E5E5"> build</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> grail of support so</font>

43
00:02:08,830 --> 00:02:13,090
<font color="#CCCCCC">self itself could forward the walks</font>

44
00:02:11,020 --> 00:02:15,580
where you want for<font color="#CCCCCC"> that you just</font><font color="#E5E5E5"> need to</font>

45
00:02:13,090 --> 00:02:17,500
configure it<font color="#E5E5E5"> somehow why we need the</font>

46
00:02:15,580 --> 00:02:21,400
walks we need lots to store it<font color="#CCCCCC"> for later</font>

47
00:02:17,500 --> 00:02:22,959
use for analyze like<font color="#E5E5E5"> on why</font>

48
00:02:21,400 --> 00:02:25,150
to understand if there<font color="#E5E5E5"> are some problems</font>

49
00:02:22,959 --> 00:02:29,860
happens crash happens you just<font color="#E5E5E5"> good</font>

50
00:02:25,150 --> 00:02:31,810
alert immediately<font color="#CCCCCC"> someone and you also</font>

51
00:02:29,860 --> 00:02:34,000
can analyze those<font color="#E5E5E5"> logs with machine</font>

52
00:02:31,810 --> 00:02:37,329
<font color="#CCCCCC">rolling and that's building in the</font>

53
00:02:34,000 --> 00:02:39,750
<font color="#CCCCCC">inelastic</font><font color="#E5E5E5"> in its back and as well as</font>

54
00:02:37,329 --> 00:02:43,629
<font color="#CCCCCC">elasticsearch has a good client for our</font>

55
00:02:39,750 --> 00:02:46,420
so that's that's<font color="#E5E5E5"> how you can explore</font>

56
00:02:43,629 --> 00:02:48,909
those<font color="#E5E5E5"> logs and yeah for</font><font color="#CCCCCC"> sure when the</font>

57
00:02:46,420 --> 00:02:52,119
cluster<font color="#CCCCCC"> is dead or some</font><font color="#E5E5E5"> mode is that</font>

58
00:02:48,909 --> 00:02:54,959
then<font color="#E5E5E5"> you get as the developer sleep of</font>

59
00:02:52,120 --> 00:02:57,940
their logs<font color="#E5E5E5"> and you need to</font><font color="#CCCCCC"> analyze them</font>

60
00:02:54,959 --> 00:03:01,690
so you can forward those logs as I said

61
00:02:57,940 --> 00:03:03,400
with our syslog<font color="#CCCCCC"> RC smoke has a</font><font color="#E5E5E5"> building</font>

62
00:03:01,690 --> 00:03:07,470
functionality you can<font color="#E5E5E5"> just configure it</font>

63
00:03:03,400 --> 00:03:11,889
<font color="#CCCCCC">so it will run</font><font color="#E5E5E5"> the doors lock in</font>

64
00:03:07,470 --> 00:03:14,530
Greylock<font color="#CCCCCC"> to the server and a log stash</font>

65
00:03:11,889 --> 00:03:15,909
itself it's why<font color="#E5E5E5"> actually I'm talking</font>

66
00:03:14,530 --> 00:03:18,579
<font color="#CCCCCC">about last extraction log stash because</font>

67
00:03:15,909 --> 00:03:20,739
<font color="#E5E5E5">it's really</font><font color="#CCCCCC"> simple framework with a lot</font>

68
00:03:18,579 --> 00:03:22,900
<font color="#E5E5E5">of build functionality so it's already</font>

69
00:03:20,739 --> 00:03:24,939
<font color="#CCCCCC">good parse those logs like these logs</font>

70
00:03:22,900 --> 00:03:27,010
like<font color="#CCCCCC"> gray locks it's already built in so</font>

71
00:03:24,939 --> 00:03:29,379
<font color="#CCCCCC">you do not need to to do something</font><font color="#E5E5E5"> for</font>

72
00:03:27,010 --> 00:03:31,540
that as well as they have file<font color="#E5E5E5"> bit that</font>

73
00:03:29,379 --> 00:03:36,760
could collect information for you and

74
00:03:31,540 --> 00:03:38,620
entry<font color="#E5E5E5"> to some server safe</font>

75
00:03:36,760 --> 00:03:41,230
Greylock support so it's built in it's

76
00:03:38,620 --> 00:03:43,239
not really<font color="#CCCCCC"> documented but you can file</font>

77
00:03:41,230 --> 00:03:46,328
these parameters in<font color="#CCCCCC"> their self itself</font>

78
00:03:43,239 --> 00:03:49,569
<font color="#E5E5E5">and it works at least for</font><font color="#CCCCCC"> me it was</font>

79
00:03:46,329 --> 00:03:52,449
working fine but<font color="#E5E5E5"> so you just need to</font>

80
00:03:49,569 --> 00:03:54,488
<font color="#E5E5E5">configure those parameters</font><font color="#CCCCCC"> we start the</font>

81
00:03:52,449 --> 00:03:58,150
<font color="#E5E5E5">self service one by one for sure you</font>

82
00:03:54,489 --> 00:04:00,849
want<font color="#E5E5E5"> that and for example we are</font><font color="#CCCCCC"> using</font>

83
00:03:58,150 --> 00:04:02,979
<font color="#E5E5E5">the deep sea</font><font color="#CCCCCC"> that's all based</font>

84
00:04:00,849 --> 00:04:06,339
configuration<font color="#CCCCCC"> management so you can run</font>

85
00:04:02,979 --> 00:04:08,560
one comment<font color="#E5E5E5"> and that's everything you</font>

86
00:04:06,340 --> 00:04:12,159
need<font color="#E5E5E5"> to do and</font><font color="#CCCCCC"> then say fuel followed</font>

87
00:04:08,560 --> 00:04:14,379
those logs to<font color="#E5E5E5"> gray log server and in my</font>

88
00:04:12,159 --> 00:04:16,539
case<font color="#CCCCCC"> this log stash for example and log</font>

89
00:04:14,379 --> 00:04:21,519
stash could collect this lock<font color="#E5E5E5"> and push</font>

90
00:04:16,539 --> 00:04:23,320
<font color="#E5E5E5">it forward to the elastic search so as I</font>

91
00:04:21,519 --> 00:04:26,470
said the<font color="#CCCCCC"> log has already provides some</font>

92
00:04:23,320 --> 00:04:29,020
primitives for<font color="#E5E5E5"> that but you could not</font>

93
00:04:26,470 --> 00:04:31,510
<font color="#CCCCCC">just parse not not</font><font color="#E5E5E5"> just push it to log</font>

94
00:04:29,020 --> 00:04:34,150
stuff but also<font color="#E5E5E5"> pre processes for</font><font color="#CCCCCC"> example</font>

95
00:04:31,510 --> 00:04:36,340
you can<font color="#E5E5E5"> find some fields and</font>

96
00:04:34,150 --> 00:04:37,750
easy to do this<font color="#CCCCCC"> growth patterns adjust</font>

97
00:04:36,340 --> 00:04:40,210
<font color="#E5E5E5">their regular expressions that you can</font>

98
00:04:37,750 --> 00:04:43,240
<font color="#E5E5E5">use that you'll</font><font color="#CCCCCC"> per process your blocks</font>

99
00:04:40,210 --> 00:04:45,190
and<font color="#E5E5E5"> adapt</font><font color="#CCCCCC"> all just push a</font><font color="#E5E5E5"> little bit</font>

100
00:04:43,240 --> 00:04:48,670
<font color="#E5E5E5">more information</font><font color="#CCCCCC"> into</font><font color="#E5E5E5"> the database</font><font color="#CCCCCC"> all</font>

101
00:04:45,190 --> 00:04:50,260
just used<font color="#E5E5E5"> for alerting there are a</font>

102
00:04:48,670 --> 00:04:53,350
<font color="#E5E5E5">couple of examples these slides are</font>

103
00:04:50,260 --> 00:04:56,890
<font color="#E5E5E5">available in the link under</font><font color="#CCCCCC"> our</font><font color="#E5E5E5"> talks so</font>

104
00:04:53,350 --> 00:04:59,740
<font color="#E5E5E5">you can go ahead and look on examples</font>

105
00:04:56,890 --> 00:05:02,200
<font color="#E5E5E5">how this this is locks that pipeline</font>

106
00:04:59,740 --> 00:05:05,850
<font color="#E5E5E5">it's like filter part of it that</font>

107
00:05:02,200 --> 00:05:08,800
<font color="#E5E5E5">actually</font><font color="#CCCCCC"> parts self locks</font><font color="#E5E5E5"> it's like</font><font color="#CCCCCC"> to</font>

108
00:05:05,850 --> 00:05:10,270
two lines of<font color="#E5E5E5"> the regular expressions</font>

109
00:05:08,800 --> 00:05:12,760
<font color="#E5E5E5">that sexually parts all</font><font color="#CCCCCC"> they're</font><font color="#E5E5E5"> safe</font>

110
00:05:10,270 --> 00:05:16,599
locks<font color="#E5E5E5"> so we have two different formats</font>

111
00:05:12,760 --> 00:05:19,900
and<font color="#CCCCCC"> self somehow</font><font color="#E5E5E5"> in and the these two</font>

112
00:05:16,600 --> 00:05:24,880
lines<font color="#E5E5E5"> as example how to parse it so it's</font>

113
00:05:19,900 --> 00:05:30,030
<font color="#CCCCCC">just some timestamps some fields from</font>

114
00:05:24,880 --> 00:05:30,030
there looks<font color="#E5E5E5"> like thread and etc etc etc</font>

115
00:05:30,420 --> 00:05:36,480
<font color="#CCCCCC">so to</font><font color="#E5E5E5"> actually as a developer you</font>

116
00:05:34,270 --> 00:05:39,460
probably need to<font color="#CCCCCC"> have</font><font color="#E5E5E5"> some development</font>

117
00:05:36,480 --> 00:05:41,860
elasticsearch cluster it's really easy

118
00:05:39,460 --> 00:05:44,409
to<font color="#CCCCCC"> deploy in the</font><font color="#E5E5E5"> docker and I used</font><font color="#CCCCCC"> two</font>

119
00:05:41,860 --> 00:05:46,570
docker compose it just like couple jump

120
00:05:44,410 --> 00:05:49,720
<font color="#E5E5E5">it's one</font><font color="#CCCCCC"> Yama file where you define</font><font color="#E5E5E5"> your</font>

121
00:05:46,570 --> 00:05:51,540
cluster<font color="#E5E5E5"> you push docker compose up and</font>

122
00:05:49,720 --> 00:05:55,540
<font color="#CCCCCC">it's brings up like two three nodes</font>

123
00:05:51,540 --> 00:05:57,700
cluster with elasticsearch<font color="#E5E5E5"> logstash key</font>

124
00:05:55,540 --> 00:05:59,500
balance so this<font color="#E5E5E5"> is example</font><font color="#CCCCCC"> it's really</font>

125
00:05:57,700 --> 00:06:02,110
<font color="#CCCCCC">pretty straightforward</font><font color="#E5E5E5"> and easy to use</font>

126
00:05:59,500 --> 00:06:03,790
for<font color="#E5E5E5"> development so I can advise you to</font>

127
00:06:02,110 --> 00:06:08,860
use docker compose for<font color="#E5E5E5"> that for</font>

128
00:06:03,790 --> 00:06:10,480
development<font color="#E5E5E5"> proposal and why we want</font><font color="#CCCCCC"> to</font>

129
00:06:08,860 --> 00:06:13,870
do that<font color="#E5E5E5"> it's actually gather it together</font>

130
00:06:10,480 --> 00:06:17,290
in some interface and actually export

131
00:06:13,870 --> 00:06:20,170
this interface to the user<font color="#CCCCCC"> so they can</font>

132
00:06:17,290 --> 00:06:22,390
find out subsequent myself<font color="#CCCCCC"> I see the use</font>

133
00:06:20,170 --> 00:06:25,030
of<font color="#CCCCCC"> this tool for sure</font><font color="#E5E5E5"> for the some</font>

134
00:06:22,390 --> 00:06:28,479
troubleshooting<font color="#CCCCCC"> like you have the locks</font>

135
00:06:25,030 --> 00:06:30,640
<font color="#CCCCCC">your level-2 level-3</font><font color="#E5E5E5"> engineer</font><font color="#CCCCCC"> maybe</font>

136
00:06:28,480 --> 00:06:34,090
developer and you have<font color="#CCCCCC"> that</font><font color="#E5E5E5"> board that</font>

137
00:06:30,640 --> 00:06:37,210
<font color="#CCCCCC">actually queries elastic search for some</font>

138
00:06:34,090 --> 00:06:41,619
<font color="#E5E5E5">known problems for example or some hints</font>

139
00:06:37,210 --> 00:06:43,599
that<font color="#CCCCCC"> you can see the picture</font><font color="#E5E5E5"> of it just</font>

140
00:06:41,620 --> 00:06:45,850
on<font color="#E5E5E5"> the screen that's just</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> speed up</font>

141
00:06:43,600 --> 00:06:47,980
<font color="#E5E5E5">your</font><font color="#CCCCCC"> development or your troubleshoot</font>

142
00:06:45,850 --> 00:06:50,290
analyzing or<font color="#E5E5E5"> whatever it's</font><font color="#CCCCCC"> may</font>

143
00:06:47,980 --> 00:06:54,370
<font color="#CCCCCC">you'll say you in</font><font color="#E5E5E5"> future what kind of</font>

144
00:06:50,290 --> 00:06:56,590
problem<font color="#CCCCCC"> you have</font><font color="#E5E5E5"> so</font><font color="#CCCCCC"> Cabana has built-in</font>

145
00:06:54,370 --> 00:06:58,870
functionality for dashboards<font color="#E5E5E5"> for</font>

146
00:06:56,590 --> 00:07:02,320
<font color="#CCCCCC">querying</font><font color="#E5E5E5"> the elasticsearch database so</font>

147
00:06:58,870 --> 00:07:04,930
you can actually easy to<font color="#CCCCCC"> do that so</font>

148
00:07:02,320 --> 00:07:08,530
there is one example we have support

149
00:07:04,930 --> 00:07:11,860
config<font color="#CCCCCC"> that's special tool that we that</font>

150
00:07:08,530 --> 00:07:13,599
our level<font color="#CCCCCC"> 2 level 3 engineers use</font><font color="#E5E5E5"> to</font>

151
00:07:11,860 --> 00:07:16,300
<font color="#E5E5E5">gather the logs from the cluster</font><font color="#CCCCCC"> like</font>

152
00:07:13,600 --> 00:07:19,000
it's they run it<font color="#CCCCCC"> mobile node and then</font>

153
00:07:16,300 --> 00:07:21,760
send<font color="#E5E5E5"> it to</font><font color="#CCCCCC"> us as developers saying like</font>

154
00:07:19,000 --> 00:07:24,580
<font color="#CCCCCC">here's some problem and actually as a</font>

155
00:07:21,760 --> 00:07:27,010
database already proposed<font color="#CCCCCC"> you can build</font>

156
00:07:24,580 --> 00:07:30,159
like cross your picture here in<font color="#E5E5E5"> the</font>

157
00:07:27,010 --> 00:07:31,060
<font color="#E5E5E5">example we have like how many nodes</font><font color="#CCCCCC"> we</font>

158
00:07:30,160 --> 00:07:33,640
see in the logs

159
00:07:31,060 --> 00:07:36,100
<font color="#E5E5E5">what is the kernel version what is the</font>

160
00:07:33,640 --> 00:07:38,140
self version and what kind of problem

161
00:07:36,100 --> 00:07:40,570
here here is like just a<font color="#E5E5E5"> simple query</font>

162
00:07:38,140 --> 00:07:43,180
for<font color="#E5E5E5"> health not</font><font color="#CCCCCC"> ok like elsewhere no</font>

163
00:07:40,570 --> 00:07:47,920
<font color="#CCCCCC">health sir</font><font color="#E5E5E5"> so that's actually give you</font>

164
00:07:43,180 --> 00:07:50,650
<font color="#E5E5E5">some idea of some idea of</font><font color="#CCCCCC"> their current</font>

165
00:07:47,920 --> 00:07:54,180
issues on the<font color="#CCCCCC"> cluster as well as you</font><font color="#E5E5E5"> can</font>

166
00:07:50,650 --> 00:08:00,099
use simple searches<font color="#CCCCCC"> down for for the</font>

167
00:07:54,180 --> 00:08:04,360
database<font color="#CCCCCC"> to see actually what happens to</font>

168
00:08:00,100 --> 00:08:07,780
the cluster<font color="#E5E5E5"> so my idea may be that we</font>

169
00:08:04,360 --> 00:08:10,210
can<font color="#E5E5E5"> have some patterns and defined some</font>

170
00:08:07,780 --> 00:08:13,750
searches and queries defined that could

171
00:08:10,210 --> 00:08:15,909
say you as a developer<font color="#CCCCCC"> or support</font>

172
00:08:13,750 --> 00:08:18,640
engineer<font color="#E5E5E5"> what happens what's wrong what</font>

173
00:08:15,910 --> 00:08:20,830
<font color="#CCCCCC">may be the basic issues like here</font><font color="#E5E5E5"> and</font>

174
00:08:18,640 --> 00:08:24,849
this<font color="#E5E5E5"> example is like</font><font color="#CCCCCC"> rudders great</font><font color="#E5E5E5"> we</font>

175
00:08:20,830 --> 00:08:27,219
cannot find the key I believe yeah that

176
00:08:24,850 --> 00:08:31,270
<font color="#E5E5E5">that's like this file to start the</font>

177
00:08:27,220 --> 00:08:35,290
<font color="#E5E5E5">robust gateway service and if you will</font>

178
00:08:31,270 --> 00:08:42,130
have such<font color="#CCCCCC"> list of patterns we can parse</font>

179
00:08:35,289 --> 00:08:44,349
we actually can quickly and more more

180
00:08:42,130 --> 00:08:47,170
<font color="#E5E5E5">quickly actually</font><font color="#CCCCCC"> find out the issues or</font>

181
00:08:44,350 --> 00:08:51,430
<font color="#E5E5E5">the state of the cluster for sure you</font>

182
00:08:47,170 --> 00:08:55,000
can use the<font color="#E5E5E5"> elastic</font><font color="#CCCCCC"> search real time and</font>

183
00:08:51,430 --> 00:08:56,620
discover some of<font color="#E5E5E5"> the problems as well so</font>

184
00:08:55,000 --> 00:08:59,950
that's<font color="#E5E5E5"> was</font><font color="#CCCCCC"> my part about the elastic</font>

185
00:08:56,620 --> 00:09:01,820
search<font color="#E5E5E5"> parsing log stash and of parsing</font>

186
00:08:59,950 --> 00:09:05,360
<font color="#CCCCCC">blocks</font><font color="#E5E5E5"> and right now I</font>

187
00:09:01,820 --> 00:09:07,390
give the microphone to<font color="#CCCCCC"> a</font><font color="#E5E5E5"> - actual as say</font>

188
00:09:05,360 --> 00:09:12,220
a little<font color="#E5E5E5"> bit</font><font color="#CCCCCC"> about different approach</font>

189
00:09:07,390 --> 00:09:12,220
<font color="#E5E5E5">what how we can use silastic search more</font>

190
00:09:23,600 --> 00:09:38,760
can you hear me at<font color="#CCCCCC"> the back okay can you</font>

191
00:09:29,130 --> 00:09:40,530
<font color="#E5E5E5">hear me</font><font color="#CCCCCC"> at the back okay okay</font><font color="#E5E5E5"> so I'm</font>

192
00:09:38,760 --> 00:09:42,210
here<font color="#CCCCCC"> to talk</font><font color="#E5E5E5"> about the reduce gateway</font>

193
00:09:40,530 --> 00:09:44,550
<font color="#E5E5E5">the object storage component of safe and</font>

194
00:09:42,210 --> 00:09:48,750
<font color="#E5E5E5">how it actually ties into elasticsearch</font>

195
00:09:44,550 --> 00:09:50,459
so a bit<font color="#E5E5E5"> about</font><font color="#CCCCCC"> reduce get</font><font color="#E5E5E5"> we so it this</font>

196
00:09:48,750 --> 00:09:53,730
<font color="#E5E5E5">is the objects to reach</font><font color="#CCCCCC"> climb</font><font color="#E5E5E5"> to the</font>

197
00:09:50,460 --> 00:09:55,620
<font color="#E5E5E5">safe cluster by client I mean it's a lib</font>

198
00:09:53,730 --> 00:10:00,150
<font color="#CCCCCC">Rado spline</font><font color="#E5E5E5"> to the safe cluster so it</font>

199
00:09:55,620 --> 00:10:03,570
basically translates<font color="#E5E5E5"> your HTTP request</font>

200
00:10:00,150 --> 00:10:05,610
to librar those requests and librar does

201
00:10:03,570 --> 00:10:08,280
this<font color="#CCCCCC"> already intelligent placing of data</font>

202
00:10:05,610 --> 00:10:11,910
and<font color="#CCCCCC"> based on</font><font color="#E5E5E5"> your storage policies and</font>

203
00:10:08,280 --> 00:10:14,220
everything<font color="#CCCCCC"> like</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> so yeah it's</font>

204
00:10:11,910 --> 00:10:16,500
<font color="#E5E5E5">basically a RESTful API access I provide</font>

205
00:10:14,220 --> 00:10:19,830
<font color="#E5E5E5">you a restful api access to the safe</font>

206
00:10:16,500 --> 00:10:21,810
<font color="#E5E5E5">cluster and I already explained the word</font>

207
00:10:19,830 --> 00:10:23,850
safe cluster in his open<font color="#E5E5E5"> attic so I'm</font>

208
00:10:21,810 --> 00:10:25,229
not covering more about what is the

209
00:10:23,850 --> 00:10:29,400
general<font color="#E5E5E5"> architecture of safe for</font>

210
00:10:25,230 --> 00:10:32,040
anything<font color="#CCCCCC"> and we provide</font><font color="#E5E5E5"> basically both</font>

211
00:10:29,400 --> 00:10:33,810
thrift<font color="#E5E5E5"> and</font><font color="#CCCCCC"> a-three API access to the</font>

212
00:10:32,040 --> 00:10:36,540
safe cluster this is primarily<font color="#E5E5E5"> because</font>

213
00:10:33,810 --> 00:10:38,099
like<font color="#E5E5E5"> most of the client tooling for</font>

214
00:10:36,540 --> 00:10:40,079
<font color="#CCCCCC">objects your edges</font><font color="#E5E5E5"> already built around</font>

215
00:10:38,100 --> 00:10:42,300
these two<font color="#E5E5E5"> API switch are like very well</font>

216
00:10:40,080 --> 00:10:45,630
known so<font color="#CCCCCC"> it makes sense that</font><font color="#E5E5E5"> we actually</font>

217
00:10:42,300 --> 00:10:48,030
expose these API rather than some of our

218
00:10:45,630 --> 00:10:49,830
own API<font color="#CCCCCC"> is to</font><font color="#E5E5E5"> access objects to it so</font>

219
00:10:48,030 --> 00:10:52,560
since there's already<font color="#E5E5E5"> a vehicle</font>

220
00:10:49,830 --> 00:10:55,650
ecosystem<font color="#E5E5E5"> of this client tolling we just</font>

221
00:10:52,560 --> 00:10:57,199
reuse<font color="#E5E5E5"> history in the</font><font color="#CCCCCC"> Swift API</font><font color="#E5E5E5"> and most</font>

222
00:10:55,650 --> 00:10:59,699
of the clients<font color="#CCCCCC"> are happy with</font><font color="#E5E5E5"> that and</font>

223
00:10:57,200 --> 00:11:02,340
we<font color="#E5E5E5"> have this concepts of user accounts</font>

224
00:10:59,700 --> 00:11:04,260
buckets<font color="#E5E5E5"> apples and</font><font color="#CCCCCC"> everything</font><font color="#E5E5E5"> which are</font>

225
00:11:02,340 --> 00:11:09,150
similar<font color="#E5E5E5"> to</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> Swift and</font><font color="#CCCCCC"> the s3 concepts</font>

226
00:11:04,260 --> 00:11:11,640
of these<font color="#CCCCCC"> we support a lot of history</font>

227
00:11:09,150 --> 00:11:13,740
<font color="#CCCCCC">like features</font><font color="#E5E5E5"> and we have our cross</font>

228
00:11:11,640 --> 00:11:15,689
access with a<font color="#CCCCCC"> stirry</font><font color="#E5E5E5"> and Swift but the</font>

229
00:11:13,740 --> 00:11:17,250
thing is<font color="#E5E5E5"> like since both the semantics</font>

230
00:11:15,690 --> 00:11:20,360
of<font color="#CCCCCC"> both the APS are completely different</font>

231
00:11:17,250 --> 00:11:22,950
<font color="#CCCCCC">with some</font><font color="#E5E5E5"> of these protocols it's like</font>

232
00:11:20,360 --> 00:11:25,380
you cannot actually upload an object

233
00:11:22,950 --> 00:11:27,810
with multi-part in Swift and not access

234
00:11:25,380 --> 00:11:29,220
it in<font color="#E5E5E5"> history so you have a lot of</font>

235
00:11:27,810 --> 00:11:30,989
history<font color="#E5E5E5"> like features like multi-part</font>

236
00:11:29,220 --> 00:11:33,020
uploads object versioning

237
00:11:30,990 --> 00:11:35,970
you can download the object as a torrent

238
00:11:33,020 --> 00:11:38,819
<font color="#CCCCCC">you have some lifecycle policies</font>

239
00:11:35,970 --> 00:11:42,089
which<font color="#E5E5E5"> allows you</font><font color="#CCCCCC"> to delete</font><font color="#E5E5E5"> or expire</font>

240
00:11:38,819 --> 00:11:44,939
objects then you have support for

241
00:11:42,089 --> 00:11:47,120
encryption<font color="#CCCCCC"> there is some compression</font>

242
00:11:44,939 --> 00:11:49,319
support from<font color="#CCCCCC"> luminous release of Ceph</font>

243
00:11:47,120 --> 00:11:52,350
<font color="#CCCCCC">you can actually</font><font color="#E5E5E5"> have a host a website</font>

244
00:11:49,319 --> 00:11:54,209
<font color="#CCCCCC">with static websites</font><font color="#E5E5E5"> and now we actually</font>

245
00:11:52,350 --> 00:11:58,439
<font color="#E5E5E5">support metadata search with elastic</font>

246
00:11:54,209 --> 00:12:00,628
search from the jewelry's of<font color="#CCCCCC"> Ceph</font><font color="#E5E5E5"> we</font>

247
00:11:58,439 --> 00:12:02,939
have this concept of<font color="#CCCCCC"> multi-site which is</font>

248
00:12:00,629 --> 00:12:05,009
basically geographically<font color="#CCCCCC"> redundant safe</font>

249
00:12:02,939 --> 00:12:07,589
cluster<font color="#E5E5E5"> so you can actually replicate</font>

250
00:12:05,009 --> 00:12:12,180
<font color="#E5E5E5">your site cluster geographically to</font>

251
00:12:07,589 --> 00:12:14,879
another remote location and you know

252
00:12:12,180 --> 00:12:18,870
basically<font color="#E5E5E5"> transfer your</font><font color="#CCCCCC"> h3 data so that</font>

253
00:12:14,879 --> 00:12:21,569
<font color="#CCCCCC">is the concept</font><font color="#E5E5E5"> which this is built on so</font>

254
00:12:18,870 --> 00:12:24,180
<font color="#E5E5E5">elastic</font><font color="#CCCCCC"> search as</font><font color="#E5E5E5"> Dennis already</font>

255
00:12:21,569 --> 00:12:27,628
explained it's just a distributed

256
00:12:24,180 --> 00:12:29,819
horizontally scalable<font color="#CCCCCC"> document search</font>

257
00:12:27,629 --> 00:12:32,610
engine built on<font color="#E5E5E5"> Apache</font><font color="#CCCCCC"> leucine</font>

258
00:12:29,819 --> 00:12:34,860
so it basically speaks arrest will<font color="#E5E5E5"> API</font>

259
00:12:32,610 --> 00:12:36,779
and literally every<font color="#CCCCCC"> configuration</font><font color="#E5E5E5"> you do</font>

260
00:12:34,860 --> 00:12:41,939
an elastic search<font color="#CCCCCC"> is done via rest so</font>

261
00:12:36,779 --> 00:12:44,459
it's<font color="#E5E5E5"> pretty easy configuration and the</font>

262
00:12:41,939 --> 00:12:47,459
motivation<font color="#E5E5E5"> behind why we need to build</font>

263
00:12:44,459 --> 00:12:49,050
<font color="#E5E5E5">something like metadata search of reduce</font>

264
00:12:47,459 --> 00:12:51,329
<font color="#E5E5E5">gateway objects with elastic searches</font>

265
00:12:49,050 --> 00:12:53,339
basically<font color="#E5E5E5"> that you already have a lot</font><font color="#CCCCCC"> of</font>

266
00:12:51,329 --> 00:12:54,479
metadata associated with<font color="#E5E5E5"> your objects so</font>

267
00:12:53,339 --> 00:12:57,230
for<font color="#E5E5E5"> example if you are doing video</font>

268
00:12:54,480 --> 00:12:59,519
analysis<font color="#CCCCCC"> then you may actually have</font>

269
00:12:57,230 --> 00:13:01,949
<font color="#E5E5E5">attack saying like this video is</font>

270
00:12:59,519 --> 00:13:03,899
<font color="#E5E5E5">uploaded by this author or this user or</font>

271
00:13:01,949 --> 00:13:05,339
something<font color="#E5E5E5"> like</font><font color="#CCCCCC"> that and you</font><font color="#E5E5E5"> might want</font>

272
00:13:03,899 --> 00:13:07,709
to actually<font color="#E5E5E5"> query and find out you know</font>

273
00:13:05,339 --> 00:13:10,589
<font color="#E5E5E5">how many videos are uploaded by for</font>

274
00:13:07,709 --> 00:13:13,229
<font color="#E5E5E5">example</font><font color="#CCCCCC"> dreamscapes</font><font color="#E5E5E5"> with what average</font>

275
00:13:10,589 --> 00:13:14,779
<font color="#CCCCCC">sizes</font><font color="#E5E5E5"> or something like</font><font color="#CCCCCC"> that and since</font>

276
00:13:13,230 --> 00:13:16,709
<font color="#E5E5E5">it's an</font><font color="#CCCCCC"> object so you do not have any</font>

277
00:13:14,779 --> 00:13:20,550
traditional file system<font color="#E5E5E5"> or analysis</font>

278
00:13:16,709 --> 00:13:22,469
<font color="#E5E5E5">tools at your disposal</font><font color="#CCCCCC"> we have some</font>

279
00:13:20,550 --> 00:13:25,529
<font color="#E5E5E5">supports for this in terms of</font><font color="#CCCCCC"> Prados get</font>

280
00:13:22,470 --> 00:13:27,329
we add mini pie<font color="#CCCCCC"> so you can actually get</font>

281
00:13:25,529 --> 00:13:28,769
specific metadata when<font color="#E5E5E5"> you query for it</font>

282
00:13:27,329 --> 00:13:31,109
but the problem<font color="#CCCCCC"> is since it's very</font>

283
00:13:28,769 --> 00:13:32,910
<font color="#CCCCCC">specific like if</font><font color="#E5E5E5"> you ask for</font><font color="#CCCCCC"> this</font>

284
00:13:31,110 --> 00:13:34,529
specific bucket or this specific<font color="#E5E5E5"> object</font>

285
00:13:32,910 --> 00:13:38,250
I need metadata then we will give it to

286
00:13:34,529 --> 00:13:42,000
<font color="#CCCCCC">you but that doesn't lend itself very</font>

287
00:13:38,250 --> 00:13:44,279
well<font color="#E5E5E5"> for analysis</font><font color="#CCCCCC"> and you actually</font><font color="#E5E5E5"> have</font>

288
00:13:42,000 --> 00:13:46,079
no<font color="#E5E5E5"> notifications when you have like new</font>

289
00:13:44,279 --> 00:13:47,610
objects<font color="#E5E5E5"> or new buckets or new accounts</font>

290
00:13:46,079 --> 00:13:51,359
being created so<font color="#CCCCCC"> you have to</font>

291
00:13:47,610 --> 00:13:53,220
<font color="#CCCCCC">gently pull</font><font color="#E5E5E5"> and write a very</font><font color="#CCCCCC"> large-scale</font>

292
00:13:51,360 --> 00:13:55,920
<font color="#E5E5E5">system to actually you know analyze this</font>

293
00:13:53,220 --> 00:13:58,440
so this<font color="#E5E5E5"> is where you know elasticsearch</font>

294
00:13:55,920 --> 00:14:00,380
already comes in because it has<font color="#CCCCCC"> already</font>

295
00:13:58,440 --> 00:14:03,779
built-in primitives<font color="#E5E5E5"> were you know</font>

296
00:14:00,380 --> 00:14:06,000
<font color="#CCCCCC">slicing and analyzing data</font><font color="#E5E5E5"> and</font>

297
00:14:03,779 --> 00:14:08,040
permissions for users to<font color="#E5E5E5"> access an admin</font>

298
00:14:06,000 --> 00:14:09,360
<font color="#CCCCCC">EVS also</font><font color="#E5E5E5"> tricky with the existing API</font>

299
00:14:08,040 --> 00:14:12,029
because<font color="#CCCCCC"> it's only</font><font color="#E5E5E5"> means for</font>

300
00:14:09,360 --> 00:14:15,720
administrator<font color="#E5E5E5"> and it gives you full</font>

301
00:14:12,029 --> 00:14:17,160
<font color="#CCCCCC">access to all D</font><font color="#E5E5E5"> metadata so as a storage</font>

302
00:14:15,720 --> 00:14:19,170
administrator you<font color="#E5E5E5"> won't</font><font color="#CCCCCC"> actually analyze</font>

303
00:14:17,160 --> 00:14:21,569
you know what are<font color="#E5E5E5"> my top</font><font color="#CCCCCC"> 10</font><font color="#E5E5E5"> consumers of</font>

304
00:14:19,170 --> 00:14:24,060
the object storage<font color="#CCCCCC"> or what are my really</font>

305
00:14:21,570 --> 00:14:25,500
hot buckets<font color="#CCCCCC"> or how is</font><font color="#E5E5E5"> my object storage</font>

306
00:14:24,060 --> 00:14:27,569
being used<font color="#E5E5E5"> on Friday evenings for</font>

307
00:14:25,500 --> 00:14:29,100
example and all this is<font color="#E5E5E5"> something that's</font>

308
00:14:27,570 --> 00:14:33,899
very trivial to be done with

309
00:14:29,100 --> 00:14:35,279
<font color="#E5E5E5">elasticsearch so the design it's</font>

310
00:14:33,899 --> 00:14:38,820
actually built on top of the<font color="#CCCCCC"> multi-site</font>

311
00:14:35,279 --> 00:14:39,930
<font color="#E5E5E5">architecture so in multi-site</font>

312
00:14:38,820 --> 00:14:42,269
architecture what we<font color="#E5E5E5"> actually</font>

313
00:14:39,930 --> 00:14:45,120
implemented<font color="#E5E5E5"> is</font><font color="#CCCCCC"> that you have to zip</font>

314
00:14:42,269 --> 00:14:46,310
clusters and<font color="#E5E5E5"> to</font><font color="#CCCCCC"> Rados gateways have</font>

315
00:14:45,120 --> 00:14:49,470
clusters<font color="#CCCCCC"> and you are basically</font>

316
00:14:46,310 --> 00:14:51,779
translating the object uploaded here

317
00:14:49,470 --> 00:14:53,550
<font color="#CCCCCC">onto</font><font color="#E5E5E5"> another remote site so you have</font>

318
00:14:51,779 --> 00:14:55,829
already<font color="#E5E5E5"> semantics for asynchronously</font>

319
00:14:53,550 --> 00:14:58,920
basically copying<font color="#E5E5E5"> data from this cluster</font>

320
00:14:55,829 --> 00:15:01,709
to the<font color="#E5E5E5"> other one so since that is</font>

321
00:14:58,920 --> 00:15:03,360
<font color="#E5E5E5">already there and</font><font color="#CCCCCC"> rodda's get visas a</font>

322
00:15:01,709 --> 00:15:04,800
consumer on the remote site we actually

323
00:15:03,360 --> 00:15:06,779
<font color="#CCCCCC">thought that we can actually leverage</font>

324
00:15:04,800 --> 00:15:08,729
<font color="#E5E5E5">this to consume</font><font color="#CCCCCC"> it</font>

325
00:15:06,779 --> 00:15:10,560
not only by a<font color="#CCCCCC"> buy or a lose</font><font color="#E5E5E5"> gateway but</font>

326
00:15:08,730 --> 00:15:13,079
for a<font color="#CCCCCC"> third-party plugin which can</font>

327
00:15:10,560 --> 00:15:17,910
actually forward this<font color="#CCCCCC"> metadata</font><font color="#E5E5E5"> and data</font>

328
00:15:13,079 --> 00:15:20,670
<font color="#E5E5E5">to</font><font color="#CCCCCC"> an external</font><font color="#E5E5E5"> to you so what we have</font>

329
00:15:17,910 --> 00:15:23,579
already built in is like elastic<font color="#E5E5E5"> search</font>

330
00:15:20,670 --> 00:15:25,649
for from<font color="#E5E5E5"> freaking release of Ceph which</font>

331
00:15:23,579 --> 00:15:28,829
is basically<font color="#E5E5E5"> that we have the metadata</font>

332
00:15:25,649 --> 00:15:30,149
already notifications<font color="#E5E5E5"> from the remote</font>

333
00:15:28,829 --> 00:15:32,519
<font color="#CCCCCC">sites so you just forward it to the</font>

334
00:15:30,149 --> 00:15:34,140
elastic search and the same concept<font color="#CCCCCC"> can</font>

335
00:15:32,519 --> 00:15:37,680
be<font color="#E5E5E5"> actually used to build a backup</font>

336
00:15:34,140 --> 00:15:39,920
solutions on top of<font color="#E5E5E5"> multi-site so you</font>

337
00:15:37,680 --> 00:15:42,269
can actually have a plug-in<font color="#CCCCCC"> to sync</font>

338
00:15:39,920 --> 00:15:44,790
objects<font color="#CCCCCC"> from your safe cluster on to</font>

339
00:15:42,269 --> 00:15:47,579
Amazon glacier for example or Amazon<font color="#E5E5E5"> s3</font>

340
00:15:44,790 --> 00:15:49,050
<font color="#CCCCCC">and you can even for example write a</font>

341
00:15:47,579 --> 00:15:51,060
custom you know

342
00:15:49,050 --> 00:15:53,849
sync plug-in that would actually sink

343
00:15:51,060 --> 00:15:56,069
your object data to a tape because it

344
00:15:53,850 --> 00:15:58,199
<font color="#E5E5E5">might have a custom you know semantics</font>

345
00:15:56,069 --> 00:16:00,149
to actually you know write an object to

346
00:15:58,199 --> 00:16:01,260
a tape<font color="#E5E5E5"> and you know</font><font color="#CCCCCC"> you can</font><font color="#E5E5E5"> build</font>

347
00:16:00,149 --> 00:16:02,760
something<font color="#CCCCCC"> like</font><font color="#E5E5E5"> Amazon</font>

348
00:16:01,260 --> 00:16:04,680
because<font color="#CCCCCC"> no this</font><font color="#E5E5E5"> is actually possible</font>

349
00:16:02,760 --> 00:16:06,660
<font color="#E5E5E5">because you</font><font color="#CCCCCC"> actually know that you know</font>

350
00:16:04,680 --> 00:16:08,520
there<font color="#E5E5E5"> are notifications when objects are</font>

351
00:16:06,660 --> 00:16:12,630
uploaded and<font color="#E5E5E5"> you know how to pull the</font>

352
00:16:08,520 --> 00:16:13,980
<font color="#CCCCCC">object</font><font color="#E5E5E5"> from a remote site so this is the</font>

353
00:16:12,630 --> 00:16:16,640
concept<font color="#E5E5E5"> on which you know the</font>

354
00:16:13,980 --> 00:16:19,020
<font color="#E5E5E5">elasticsearch</font><font color="#CCCCCC"> plug-in was actually built</font>

355
00:16:16,640 --> 00:16:20,550
so essentially you already have the

356
00:16:19,020 --> 00:16:22,199
<font color="#E5E5E5">metadata from the remote site and you</font>

357
00:16:20,550 --> 00:16:25,140
just forward<font color="#E5E5E5"> it to the elasticsearch</font>

358
00:16:22,200 --> 00:16:26,940
instance and what you have is a remote

359
00:16:25,140 --> 00:16:29,580
reduce gateway<font color="#E5E5E5"> that</font><font color="#CCCCCC"> is just purely a</font>

360
00:16:26,940 --> 00:16:31,980
forward proxy<font color="#E5E5E5"> of sorts that</font><font color="#CCCCCC"> actually</font>

361
00:16:29,580 --> 00:16:33,240
pulls data<font color="#CCCCCC"> from the</font><font color="#E5E5E5"> original safe</font>

362
00:16:31,980 --> 00:16:36,960
cluster and just forwards it to<font color="#E5E5E5"> the</font>

363
00:16:33,240 --> 00:16:39,090
<font color="#CCCCCC">elasticsearch there are some</font><font color="#E5E5E5"> problems</font>

364
00:16:36,960 --> 00:16:41,100
<font color="#E5E5E5">with this you do not have a</font><font color="#CCCCCC"> dish elf</font>

365
00:16:39,090 --> 00:16:43,970
<font color="#E5E5E5">authentication module that can work with</font>

366
00:16:41,100 --> 00:16:47,430
<font color="#CCCCCC">elasticsearch and the use gateway</font><font color="#E5E5E5"> users</font>

367
00:16:43,970 --> 00:16:49,200
and you really do not<font color="#CCCCCC"> want</font><font color="#E5E5E5"> to expose</font>

368
00:16:47,430 --> 00:16:50,880
<font color="#CCCCCC">your elasticsearch endpoint to</font><font color="#E5E5E5"> the</font>

369
00:16:49,200 --> 00:16:52,980
public because<font color="#CCCCCC"> you know</font><font color="#E5E5E5"> with if you</font>

370
00:16:50,880 --> 00:16:54,990
<font color="#CCCCCC">actually have</font><font color="#E5E5E5"> information</font><font color="#CCCCCC"> about</font><font color="#E5E5E5"> your</font>

371
00:16:52,980 --> 00:16:56,550
object metadata then that will tell<font color="#E5E5E5"> you</font>

372
00:16:54,990 --> 00:16:59,960
almost<font color="#CCCCCC"> everything</font><font color="#E5E5E5"> about</font><font color="#CCCCCC"> your store it so</font>

373
00:16:56,550 --> 00:17:02,939
you don't<font color="#E5E5E5"> want to expose this in public</font>

374
00:16:59,960 --> 00:17:05,700
so what we built from luminosities of

375
00:17:02,940 --> 00:17:07,320
<font color="#E5E5E5">surface like for normal users</font><font color="#CCCCCC"> rgw itself</font>

376
00:17:05,700 --> 00:17:11,130
can<font color="#E5E5E5"> actually authenticate the inducer</font>

377
00:17:07,319 --> 00:17:13,379
<font color="#E5E5E5">and you know actually for an</font><font color="#CCCCCC"> end-user</font>

378
00:17:11,130 --> 00:17:15,330
<font color="#CCCCCC">who's a user of object storage</font><font color="#E5E5E5"> they can</font>

379
00:17:13,380 --> 00:17:17,730
also<font color="#E5E5E5"> use the power of elastic search to</font>

380
00:17:15,329 --> 00:17:21,119
<font color="#CCCCCC">analyze</font><font color="#E5E5E5"> its own user account</font><font color="#CCCCCC"> and object</font>

381
00:17:17,730 --> 00:17:22,560
metadata<font color="#CCCCCC"> so in the object metadata we</font>

382
00:17:21,119 --> 00:17:24,349
already have an<font color="#CCCCCC"> attribute</font><font color="#E5E5E5"> for the owner</font>

383
00:17:22,560 --> 00:17:26,700
<font color="#E5E5E5">of the object and</font><font color="#CCCCCC"> that's how we actually</font>

384
00:17:24,349 --> 00:17:31,679
authenticate and<font color="#E5E5E5"> make</font><font color="#CCCCCC"> sure</font><font color="#E5E5E5"> that the user</font>

385
00:17:26,700 --> 00:17:33,660
only sees is<font color="#CCCCCC"> shown data</font><font color="#E5E5E5"> and we also</font><font color="#CCCCCC"> have</font>

386
00:17:31,680 --> 00:17:35,790
<font color="#E5E5E5">support</font><font color="#CCCCCC"> for</font><font color="#E5E5E5"> custom metadata fields being</font>

387
00:17:33,660 --> 00:17:37,950
indexed<font color="#E5E5E5"> in terms of elastic search</font>

388
00:17:35,790 --> 00:17:39,720
fields so you can actually<font color="#E5E5E5"> not just do</font>

389
00:17:37,950 --> 00:17:43,860
the basic text<font color="#E5E5E5"> attribute but you can do</font>

390
00:17:39,720 --> 00:17:46,140
dates and other kind of attributes so

391
00:17:43,860 --> 00:17:47,820
this is like a very trivial<font color="#E5E5E5"> diagram of</font>

392
00:17:46,140 --> 00:17:49,530
this architecture<font color="#E5E5E5"> so you have a primary</font>

393
00:17:47,820 --> 00:17:51,960
<font color="#E5E5E5">reduce gateway and the primary</font><font color="#CCCCCC"> safe</font>

394
00:17:49,530 --> 00:17:53,940
closer that's your normal regular

395
00:17:51,960 --> 00:17:57,120
storage cluster<font color="#E5E5E5"> and then you actually</font>

396
00:17:53,940 --> 00:17:59,340
configure a remote zone and the<font color="#CCCCCC"> rgw that</font>

397
00:17:57,120 --> 00:18:01,590
only reads metadata<font color="#E5E5E5"> from this primary</font>

398
00:17:59,340 --> 00:18:03,179
cluster this can be in<font color="#E5E5E5"> the same</font><font color="#CCCCCC"> clip</font>

399
00:18:01,590 --> 00:18:05,280
safe cluster or a difference F cluster

400
00:18:03,180 --> 00:18:06,770
we I will<font color="#E5E5E5"> recommend</font><font color="#CCCCCC"> a difference F</font>

401
00:18:05,280 --> 00:18:09,240
cluster if you want to be you<font color="#E5E5E5"> know</font>

402
00:18:06,770 --> 00:18:12,240
<font color="#E5E5E5">completely redundant and not depend on</font>

403
00:18:09,240 --> 00:18:13,530
<font color="#CCCCCC">your primary</font><font color="#E5E5E5"> data store and then you</font>

404
00:18:12,240 --> 00:18:15,390
just forward<font color="#E5E5E5"> it to the I mean</font>

405
00:18:13,530 --> 00:18:17,100
this reduce video basically<font color="#CCCCCC"> forwards</font>

406
00:18:15,390 --> 00:18:22,560
<font color="#CCCCCC">emitter</font><font color="#E5E5E5"> data to the</font><font color="#CCCCCC"> elasticsearch</font>

407
00:18:17,100 --> 00:18:25,199
cluster<font color="#CCCCCC"> and this is actually not just</font>

408
00:18:22,560 --> 00:18:26,520
applicable for<font color="#E5E5E5"> a single primary safe</font>

409
00:18:25,200 --> 00:18:28,230
cluster you can actually have a<font color="#E5E5E5"> ring of</font>

410
00:18:26,520 --> 00:18:30,270
you know three<font color="#CCCCCC"> or four safe clusters</font>

411
00:18:28,230 --> 00:18:33,180
<font color="#CCCCCC">like Amazon</font><font color="#E5E5E5"> us eastern US wrist and the</font>

412
00:18:30,270 --> 00:18:35,010
<font color="#E5E5E5">Europe central region and forward all</font>

413
00:18:33,180 --> 00:18:40,110
these<font color="#E5E5E5"> metadata's to a single</font>

414
00:18:35,010 --> 00:18:42,180
elasticsearch<font color="#E5E5E5"> cluster</font><font color="#CCCCCC"> this is the like</font>

415
00:18:40,110 --> 00:18:45,270
the example<font color="#E5E5E5"> JSON of the emitter data we</font>

416
00:18:42,180 --> 00:18:47,220
currently forward to like<font color="#CCCCCC"> elasticsearch</font>

417
00:18:45,270 --> 00:18:51,240
so<font color="#E5E5E5"> you basically have the name of the</font>

418
00:18:47,220 --> 00:18:54,270
bucket and the name of<font color="#CCCCCC"> the object</font><font color="#E5E5E5"> and</font>

419
00:18:51,240 --> 00:18:58,440
your object<font color="#E5E5E5"> versioning and the owner</font>

420
00:18:54,270 --> 00:19:00,450
attribute<font color="#CCCCCC"> you also have some basically</font>

421
00:18:58,440 --> 00:19:02,340
the metadata which tells you what<font color="#E5E5E5"> the</font>

422
00:19:00,450 --> 00:19:05,130
size<font color="#E5E5E5"> of the object and the time it was</font>

423
00:19:02,340 --> 00:19:07,320
upload uploaded and even if you actually

424
00:19:05,130 --> 00:19:09,120
<font color="#CCCCCC">I mean from last release of Ceph we also</font>

425
00:19:07,320 --> 00:19:11,189
have support<font color="#CCCCCC"> for object</font><font color="#E5E5E5"> adding so you</font>

426
00:19:09,120 --> 00:19:13,110
can actually attribute custom metadata

427
00:19:11,190 --> 00:19:14,880
<font color="#CCCCCC">per object so you</font><font color="#E5E5E5"> can say like</font><font color="#CCCCCC"> this key</font>

428
00:19:13,110 --> 00:19:16,530
and<font color="#E5E5E5"> this value are associated</font><font color="#CCCCCC"> with this</font>

429
00:19:14,880 --> 00:19:19,320
object which is very useful<font color="#CCCCCC"> when</font><font color="#E5E5E5"> you</font>

430
00:19:16,530 --> 00:19:21,860
want<font color="#CCCCCC"> to you know slice</font><font color="#E5E5E5"> your data based</font>

431
00:19:19,320 --> 00:19:24,570
on a key for example<font color="#CCCCCC"> you need all</font><font color="#E5E5E5"> D</font>

432
00:19:21,860 --> 00:19:25,740
<font color="#E5E5E5">reduce by this author or all D books</font>

433
00:19:24,570 --> 00:19:27,389
written by<font color="#E5E5E5"> an author or something like</font>

434
00:19:25,740 --> 00:19:29,790
this

435
00:19:27,390 --> 00:19:32,220
and since<font color="#CCCCCC"> its</font><font color="#E5E5E5"> elastic search again</font>

436
00:19:29,790 --> 00:19:34,200
aggregate queries pretty easily<font color="#E5E5E5"> you can</font>

437
00:19:32,220 --> 00:19:36,900
just give an average<font color="#E5E5E5"> of</font><font color="#CCCCCC"> the total</font>

438
00:19:34,200 --> 00:19:38,900
objects uploaded or you can even<font color="#E5E5E5"> do</font><font color="#CCCCCC"> it</font>

439
00:19:36,900 --> 00:19:41,670
on<font color="#E5E5E5"> a date basis and something like this</font>

440
00:19:38,900 --> 00:19:42,900
and<font color="#CCCCCC"> the elastic search will respond</font><font color="#E5E5E5"> to</font>

441
00:19:41,670 --> 00:19:45,660
<font color="#CCCCCC">you to link this is</font><font color="#E5E5E5"> the total average</font>

442
00:19:42,900 --> 00:19:51,870
you had total<font color="#E5E5E5"> 22 objects and the total</font>

443
00:19:45,660 --> 00:19:54,450
size was like<font color="#E5E5E5"> 177 bytes</font><font color="#CCCCCC"> and you can</font>

444
00:19:51,870 --> 00:19:56,879
<font color="#CCCCCC">actually have queries on specific</font>

445
00:19:54,450 --> 00:19:59,460
metadata content which can actually<font color="#E5E5E5"> help</font>

446
00:19:56,880 --> 00:20:02,780
in you know finding<font color="#E5E5E5"> out data from</font>

447
00:19:59,460 --> 00:20:06,300
specific<font color="#E5E5E5"> users or something</font><font color="#CCCCCC"> like that</font>

448
00:20:02,780 --> 00:20:08,790
<font color="#CCCCCC">then this</font><font color="#E5E5E5"> is the future work in place so</font>

449
00:20:06,300 --> 00:20:10,470
we right now have<font color="#CCCCCC"> support from elastic</font>

450
00:20:08,790 --> 00:20:12,600
search up to<font color="#E5E5E5"> six for a</font><font color="#CCCCCC"> discreet way so</font>

451
00:20:10,470 --> 00:20:15,170
the future workers<font color="#E5E5E5"> to support elastic</font>

452
00:20:12,600 --> 00:20:15,169
search six

453
00:20:19,230 --> 00:20:23,519
then<font color="#E5E5E5"> custom metadata fields for object</font>

454
00:20:21,869 --> 00:20:26,610
tagging which we do not<font color="#CCCCCC"> have support</font><font color="#E5E5E5"> for</font>

455
00:20:23,519 --> 00:20:28,769
right<font color="#CCCCCC"> now then the</font><font color="#E5E5E5"> next work is for the</font>

456
00:20:26,610 --> 00:20:31,399
plug-in<font color="#E5E5E5"> to actually analyze common</font>

457
00:20:28,769 --> 00:20:33,840
system files<font color="#E5E5E5"> the log stash</font><font color="#CCCCCC"> plug-in and</font>

458
00:20:31,399 --> 00:20:35,549
integration on<font color="#E5E5E5"> to safe - broad and</font>

459
00:20:33,840 --> 00:20:37,168
analysis with you know for example

460
00:20:35,549 --> 00:20:40,889
machine learning which elasticsearch

461
00:20:37,169 --> 00:20:42,570
provides or something<font color="#E5E5E5"> like</font><font color="#CCCCCC"> that so this</font>

462
00:20:40,889 --> 00:20:44,488
<font color="#CCCCCC">approach configures</font><font color="#E5E5E5"> the report for what</font>

463
00:20:42,570 --> 00:20:47,100
Ben is<font color="#E5E5E5"> demonstrated with the doctor and</font>

464
00:20:44,489 --> 00:20:49,080
<font color="#CCCCCC">everything and these are the officials</font>

465
00:20:47,100 --> 00:20:52,590
<font color="#CCCCCC">if</font><font color="#E5E5E5"> proposed and the IRC links and</font>

466
00:20:49,080 --> 00:20:57,990
everything like that<font color="#CCCCCC"> and questions how</font>

467
00:20:52,590 --> 00:21:04,079
<font color="#E5E5E5">many minutes do we have five minutes yes</font>

468
00:20:57,990 --> 00:21:04,079
[Music]

469
00:21:08,239 --> 00:21:12,989
so the<font color="#CCCCCC"> question was do we</font><font color="#E5E5E5"> have any data</font>

470
00:21:11,159 --> 00:21:16,919
on very large safe clusters and

471
00:21:12,989 --> 00:21:20,239
elasticsearch<font color="#CCCCCC"> answers not</font><font color="#E5E5E5"> really we do</font>

472
00:21:16,919 --> 00:21:23,279
not have any<font color="#E5E5E5"> customer data right now</font><font color="#CCCCCC"> one</font>

473
00:21:20,239 --> 00:21:25,529
<font color="#CCCCCC">elasticsearch but the answer is like we</font>

474
00:21:23,279 --> 00:21:28,739
<font color="#E5E5E5">actually do not</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> mean we are</font><font color="#CCCCCC"> not</font>

475
00:21:25,529 --> 00:21:30,869
<font color="#E5E5E5">dependent on this primary</font><font color="#CCCCCC"> safes cluster</font>

476
00:21:28,739 --> 00:21:32,700
at all for the metadata<font color="#E5E5E5"> this</font><font color="#CCCCCC"> is</font>

477
00:21:30,869 --> 00:21:34,678
completely<font color="#E5E5E5"> you know asynchronously</font>

478
00:21:32,700 --> 00:21:36,570
<font color="#E5E5E5">mirroring data so it's not I</font><font color="#CCCCCC"> mean</font><font color="#E5E5E5"> it's</font>

479
00:21:34,679 --> 00:21:38,159
<font color="#E5E5E5">not real time that your meta data is</font>

480
00:21:36,570 --> 00:21:40,529
actually<font color="#E5E5E5"> there</font><font color="#CCCCCC"> in elasticsearch there</font>

481
00:21:38,159 --> 00:21:42,330
might be<font color="#E5E5E5"> a delay but it's not affecting</font>

482
00:21:40,529 --> 00:21:44,909
your primary cluster at all in terms of

483
00:21:42,330 --> 00:21:51,769
your iap worth or<font color="#E5E5E5"> metadata path or any</font>

484
00:21:44,909 --> 00:21:51,769
sort<font color="#E5E5E5"> of path any other questions</font>

485
00:21:54,890 --> 00:22:03,840
<font color="#E5E5E5">all right thank you</font>

486
00:21:57,370 --> 00:22:03,840
[Applause]

