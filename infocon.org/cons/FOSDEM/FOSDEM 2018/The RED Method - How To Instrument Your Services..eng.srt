1
00:00:46,090 --> 00:01:10,640
<font color="#CCCCCC">for example maybe</font><font color="#E5E5E5"> see we're running</font><font color="#CCCCCC"> our</font>

2
00:01:08,600 --> 00:01:12,740
<font color="#CCCCCC">postal investment committees basically</font>

3
00:01:10,640 --> 00:01:14,090
before<font color="#E5E5E5"> that I worked at people we've</font>

4
00:01:12,740 --> 00:01:15,229
worked<font color="#CCCCCC"> is where I've kind of</font><font color="#E5E5E5"> got</font><font color="#CCCCCC"> into</font>

5
00:01:14,090 --> 00:01:32,960
four meters<font color="#E5E5E5"> in kubernetes</font>

6
00:01:15,230 --> 00:01:34,940
<font color="#CCCCCC">all</font><font color="#E5E5E5"> this talk is going</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> be use method</font>

7
00:01:32,960 --> 00:01:36,949
which<font color="#CCCCCC"> trying to</font><font color="#E5E5E5"> inspired the rent method</font>

8
00:01:34,940 --> 00:01:38,660
and then<font color="#CCCCCC"> report on</font><font color="#E5E5E5"> the signals which is</font>

9
00:01:36,950 --> 00:01:41,600
actually smart that method<font color="#CCCCCC"> I just forgot</font>

10
00:01:38,660 --> 00:01:43,670
<font color="#E5E5E5">about awesome so instruction why am I</font>

11
00:01:41,600 --> 00:01:45,229
giving this talk there's a previous

12
00:01:43,670 --> 00:01:48,170
profitable Hong Kong<font color="#E5E5E5"> and</font><font color="#CCCCCC"> there happened</font>

13
00:01:45,230 --> 00:01:49,400
in August<font color="#CCCCCC"> I think and this</font><font color="#E5E5E5"> red method</font>

14
00:01:48,170 --> 00:01:51,650
things have mentioned a whole bunch of

15
00:01:49,400 --> 00:01:52,970
times<font color="#E5E5E5"> and no one really kind of</font>

16
00:01:51,650 --> 00:01:54,170
explained what it was and we had<font color="#CCCCCC"> a few</font>

17
00:01:52,970 --> 00:01:56,330
people<font color="#E5E5E5"> saying that experiment was</font>

18
00:01:54,170 --> 00:01:58,890
<font color="#E5E5E5">determined and so the method is that</font>

19
00:01:56,330 --> 00:02:01,380
name I gave<font color="#CCCCCC"> to these three</font>

20
00:01:58,890 --> 00:02:05,790
you should measure from<font color="#CCCCCC"> your senses</font><font color="#E5E5E5"> in</font>

21
00:02:01,380 --> 00:02:08,008
like<font color="#CCCCCC"> 2015 and I felt like well really</font>

22
00:02:05,790 --> 00:02:10,470
somebody<font color="#E5E5E5"> you know maybe me should</font>

23
00:02:08,008 --> 00:02:12,600
explain what<font color="#E5E5E5"> I mean</font><font color="#CCCCCC"> so that's what I'm</font>

24
00:02:10,470 --> 00:02:19,650
hearing<font color="#E5E5E5"> why I'm doing this book and now</font>

25
00:02:12,600 --> 00:02:22,140
why yeah that one pregnant

26
00:02:19,650 --> 00:02:25,350
invented invented<font color="#E5E5E5"> and it basically</font>

27
00:02:22,140 --> 00:02:26,700
specifies before every resource in<font color="#CCCCCC"> your</font>

28
00:02:25,350 --> 00:02:28,470
<font color="#CCCCCC">thinking your cluster in</font><font color="#E5E5E5"> your</font>

29
00:02:26,700 --> 00:02:31,500
application<font color="#CCCCCC"> usually measured the</font>

30
00:02:28,470 --> 00:02:33,630
utilization<font color="#E5E5E5"> the saturation and the error</font>

31
00:02:31,500 --> 00:02:36,120
rate<font color="#E5E5E5"> and it gives some basic</font><font color="#CCCCCC"> definitions</font>

32
00:02:33,630 --> 00:02:38,040
of these things so utilisation means for

33
00:02:36,120 --> 00:02:42,030
what percentage of<font color="#CCCCCC"> fine was this thing</font>

34
00:02:38,040 --> 00:02:43,590
busy<font color="#CCCCCC"> saturation means how much work</font><font color="#E5E5E5"> does</font>

35
00:02:42,030 --> 00:02:48,050
this thing<font color="#E5E5E5"> after those mean this is kind</font>

36
00:02:43,590 --> 00:02:48,050
of<font color="#E5E5E5"> forty</font><font color="#CCCCCC"> defined as</font><font color="#E5E5E5"> you'll see later</font><font color="#CCCCCC"> and</font>

37
00:02:49,430 --> 00:02:56,430
and the result in this test might be

38
00:02:51,600 --> 00:02:58,350
your CPU the memory<font color="#CCCCCC"> this the network's a</font>

39
00:02:56,430 --> 00:03:00,180
good one but<font color="#CCCCCC"> it'll</font><font color="#E5E5E5"> also many things like</font>

40
00:02:58,350 --> 00:03:01,140
<font color="#E5E5E5">the interconnects it will show any kind</font>

41
00:03:00,180 --> 00:03:04,470
<font color="#E5E5E5">of all vertical things you could</font><font color="#CCCCCC"> think</font>

42
00:03:01,140 --> 00:03:06,450
<font color="#CCCCCC">of like use of resources</font><font color="#E5E5E5"> on where the</font>

43
00:03:04,470 --> 00:03:11,600
<font color="#CCCCCC">use case for</font><font color="#E5E5E5"> this</font><font color="#CCCCCC"> I find generally is if</font>

44
00:03:06,450 --> 00:03:15,179
you're humping<font color="#E5E5E5"> forms issues and anything</font>

45
00:03:11,600 --> 00:03:18,530
<font color="#E5E5E5">before I talking I'm using</font><font color="#CCCCCC"> it's a</font>

46
00:03:15,180 --> 00:03:18,530
<font color="#CCCCCC">separate</font><font color="#E5E5E5"> because</font><font color="#CCCCCC"> the Wi-Fi in</font><font color="#E5E5E5"> it sucks</font>

47
00:03:20,530 --> 00:03:25,670
so this is more<font color="#CCCCCC"> user</font><font color="#E5E5E5"> kind of hunting</font>

48
00:03:23,629 --> 00:03:33,649
down issues you know<font color="#CCCCCC"> they've</font><font color="#E5E5E5"> turned</font><font color="#CCCCCC"> a</font>

49
00:03:25,670 --> 00:03:41,200
kind of and you<font color="#CCCCCC"> can now have kind of the</font>

50
00:03:33,650 --> 00:03:43,010
<font color="#E5E5E5">kind of problem which is why I</font><font color="#CCCCCC"> now</font>

51
00:03:41,200 --> 00:03:45,469
<font color="#E5E5E5">examples of how you doing this</font><font color="#CCCCCC"> with me</font>

52
00:03:43,010 --> 00:03:50,168
<font color="#E5E5E5">kissing Cuban ethics so this is this</font>

53
00:03:45,469 --> 00:03:53,510
will tell you<font color="#E5E5E5"> the</font><font color="#CCCCCC"> note</font><font color="#E5E5E5"> CPU usage this</font><font color="#CCCCCC"> is</font>

54
00:03:50,169 --> 00:03:55,519
<font color="#CCCCCC">actually off point you basically average</font>

55
00:03:53,510 --> 00:03:57,260
it because this feels very nicely with

56
00:03:55,519 --> 00:04:00,079
different numbers of<font color="#E5E5E5"> CPU</font><font color="#CCCCCC"> and different</font>

57
00:03:57,260 --> 00:04:03,349
<font color="#CCCCCC">motions saturation</font><font color="#E5E5E5"> this is really just</font>

58
00:04:00,079 --> 00:04:05,930
<font color="#E5E5E5">your one key length your load averages</font>

59
00:04:03,349 --> 00:04:09,108
so pretty<font color="#E5E5E5"> easy to do in kubernetes</font><font color="#CCCCCC"> kill</font>

60
00:04:05,930 --> 00:04:11,780
it<font color="#E5E5E5"> I like to normalize my</font><font color="#CCCCCC"> saturation by</font>

61
00:04:09,109 --> 00:04:14,780
the number<font color="#E5E5E5"> of CPUs so I can try and like</font>

62
00:04:11,780 --> 00:04:16,399
have them Union everything so I<font color="#E5E5E5"> know how</font>

63
00:04:14,780 --> 00:04:19,250
<font color="#E5E5E5">much them bad about hundreds and</font>

64
00:04:16,399 --> 00:04:20,839
terrible<font color="#CCCCCC"> alarm represent</font><font color="#E5E5E5"> easy so this is</font>

65
00:04:19,250 --> 00:04:23,479
kind<font color="#E5E5E5"> of why I provided it by the number</font>

66
00:04:20,839 --> 00:04:27,198
of CPUs<font color="#E5E5E5"> you</font><font color="#CCCCCC"> noticed</font><font color="#E5E5E5"> no way of measuring</font>

67
00:04:23,479 --> 00:04:29,719
error rates on CPUs we didn't have an

68
00:04:27,199 --> 00:04:31,909
idea<font color="#CCCCCC"> of using an end table to grep</font>

69
00:04:29,720 --> 00:04:34,070
through the message and look<font color="#E5E5E5"> for kind of</font>

70
00:04:31,909 --> 00:04:35,510
<font color="#E5E5E5">like machine machine sector sections and</font>

71
00:04:34,070 --> 00:04:38,020
we did that<font color="#E5E5E5"> on our machines and no</font>

72
00:04:35,510 --> 00:04:40,190
<font color="#E5E5E5">running around so there's just no else I</font>

73
00:04:38,020 --> 00:04:46,880
guess if there was an error<font color="#E5E5E5"> the VM will</font>

74
00:04:40,190 --> 00:04:49,460
<font color="#CCCCCC">just disappear so I'm not going</font><font color="#E5E5E5"> to do</font>

75
00:04:46,880 --> 00:04:50,780
<font color="#E5E5E5">any more</font><font color="#CCCCCC"> but basically you construct</font>

76
00:04:49,460 --> 00:04:53,169
<font color="#E5E5E5">these queries</font><font color="#CCCCCC"> that kind of</font><font color="#E5E5E5"> go</font><font color="#CCCCCC"> through</font>

77
00:04:50,780 --> 00:04:54,380
<font color="#E5E5E5">and say how much</font><font color="#CCCCCC"> my</font><font color="#E5E5E5"> memory isn't user</font>

78
00:04:53,169 --> 00:04:55,909
<font color="#E5E5E5">exactly</font>

79
00:04:54,380 --> 00:04:58,550
<font color="#CCCCCC">it's about</font><font color="#E5E5E5"> memory saturation is kind of</font>

80
00:04:55,909 --> 00:05:00,889
<font color="#E5E5E5">a weird one Brendan's</font>

81
00:04:58,550 --> 00:05:02,840
<font color="#E5E5E5">use method page says main that suggests</font>

82
00:05:00,889 --> 00:05:04,789
<font color="#CCCCCC">mating usual painting rates</font><font color="#E5E5E5"> there may be</font>

83
00:05:02,840 --> 00:05:06,169
a really high<font color="#E5E5E5"> rates of paging in and out</font>

84
00:05:04,789 --> 00:05:09,349
<font color="#E5E5E5">means you've got a lot of contention for</font>

85
00:05:06,169 --> 00:05:11,889
your memory this<font color="#CCCCCC"> is particularly</font>

86
00:05:09,349 --> 00:05:14,300
troublesome because<font color="#E5E5E5"> it doesn't have a</font>

87
00:05:11,889 --> 00:05:15,020
unit that's kind of<font color="#E5E5E5"> you know you can't</font>

88
00:05:14,300 --> 00:05:17,030
see what is<font color="#CCCCCC"> that</font><font color="#E5E5E5"> hundred percent</font>

89
00:05:15,020 --> 00:05:19,549
painting

90
00:05:17,030 --> 00:05:21,650
and again no errors and<font color="#CCCCCC"> then you know</font>

91
00:05:19,550 --> 00:05:23,510
the list<font color="#CCCCCC"> goes on</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> there's</font><font color="#E5E5E5"> really hard</font>

92
00:05:21,650 --> 00:05:25,729
places<font color="#CCCCCC"> by</font><font color="#E5E5E5"> the taxi driver from</font>

93
00:05:23,510 --> 00:05:27,280
<font color="#E5E5E5">everywhere it turns out getting</font><font color="#CCCCCC"> hot</font><font color="#E5E5E5"> this</font>

94
00:05:25,730 --> 00:05:29,150
day without ever to have a Linux<font color="#CCCCCC"> kernel</font>

95
00:05:27,280 --> 00:05:31,549
<font color="#E5E5E5">relatively difficult I think we found</font>

96
00:05:29,150 --> 00:05:34,099
one<font color="#E5E5E5"> in sisters but the</font><font color="#CCCCCC"> motors</font><font color="#E5E5E5"> water</font>

97
00:05:31,550 --> 00:05:38,840
doesn't<font color="#E5E5E5"> straighten it yet so I think</font><font color="#CCCCCC"> the</font>

98
00:05:34,100 --> 00:05:40,220
welcome<font color="#CCCCCC"> mat yes again in a virtualized</font>

99
00:05:38,840 --> 00:05:45,080
environment<font color="#CCCCCC"> smiles are kind of</font>

100
00:05:40,220 --> 00:05:46,520
meaningless and not these<font color="#CCCCCC"> kind don't</font>

101
00:05:45,080 --> 00:05:48,979
think it doesn't<font color="#CCCCCC"> really captures</font><font color="#E5E5E5"> like</font>

102
00:05:46,520 --> 00:05:50,719
most of my well not most but a very

103
00:05:48,980 --> 00:05:53,720
<font color="#E5E5E5">common problem I've had when running</font>

104
00:05:50,720 --> 00:05:56,690
systems is you write this<font color="#CCCCCC"> plastic where</font>

105
00:05:53,720 --> 00:05:58,550
does that fit in this model<font color="#E5E5E5"> know what</font>

106
00:05:56,690 --> 00:06:00,169
utilization is a really tough<font color="#E5E5E5"> one</font><font color="#CCCCCC"> as</font>

107
00:05:58,550 --> 00:06:02,000
well because<font color="#E5E5E5"> housing</font><font color="#CCCCCC"> there are 100</font>

108
00:06:00,169 --> 00:06:03,710
centers<font color="#E5E5E5"> we kind of have</font><font color="#CCCCCC"> to know</font><font color="#E5E5E5"> that</font>

109
00:06:02,000 --> 00:06:05,930
this instance has gigabit networking

110
00:06:03,710 --> 00:06:07,760
this has<font color="#CCCCCC"> tiny bit networking to get your</font>

111
00:06:05,930 --> 00:06:08,960
kind of and I should probably really

112
00:06:07,760 --> 00:06:11,390
interesting conversation with<font color="#E5E5E5"> traffic</font>

113
00:06:08,960 --> 00:06:13,219
detail<font color="#E5E5E5"> about exposing metrics from your</font>

114
00:06:11,390 --> 00:06:15,530
<font color="#E5E5E5">interconnects and from your PCI bus and</font>

115
00:06:13,220 --> 00:06:20,060
everything<font color="#E5E5E5"> and I kind of asked him to do</font>

116
00:06:15,530 --> 00:06:29,510
<font color="#E5E5E5">all the work so</font><font color="#CCCCCC"> click that</font><font color="#E5E5E5"> one and</font><font color="#CCCCCC"> then</font>

117
00:06:20,060 --> 00:06:32,810
<font color="#CCCCCC">we talked</font><font color="#E5E5E5"> about is</font><font color="#CCCCCC"> that I've built a</font>

118
00:06:29,510 --> 00:06:35,000
little<font color="#CCCCCC"> library called house but mostly</font>

119
00:06:32,810 --> 00:06:39,680
it's<font color="#E5E5E5"> in our open source thing it's pork</font>

120
00:06:35,000 --> 00:06:43,180
lumps<font color="#E5E5E5"> quanta stands for super net easily</font>

121
00:06:39,680 --> 00:06:43,180
<font color="#E5E5E5">let's use meant that with Prometheus</font>

122
00:06:46,190 --> 00:06:51,490
that would<font color="#E5E5E5"> be very welcome</font><font color="#CCCCCC"> but basically</font>

123
00:06:48,320 --> 00:06:54,650
it's a set of dashboards<font color="#E5E5E5"> in the farmer</font>

124
00:06:51,490 --> 00:06:57,260
for doing this<font color="#CCCCCC"> kind of news method on</font>

125
00:06:54,650 --> 00:06:59,000
<font color="#E5E5E5">previous with me this on kinetics and</font>

126
00:06:57,260 --> 00:07:00,409
it's all great<font color="#E5E5E5"> using JSON which is a</font>

127
00:06:59,000 --> 00:07:02,510
configuration language<font color="#E5E5E5"> that kind of</font>

128
00:07:00,410 --> 00:07:03,950
thing now that 2010 project at<font color="#CCCCCC"> Google</font>

129
00:07:02,510 --> 00:07:06,690
and I believe

130
00:07:03,950 --> 00:07:11,650
performance very keen<font color="#E5E5E5"> on that they saw</font>

131
00:07:06,690 --> 00:07:13,810
yes but they kind of they<font color="#CCCCCC"> kind of look</font>

132
00:07:11,650 --> 00:07:16,120
like this you might<font color="#E5E5E5"> yell</font><font color="#CCCCCC"> a bass ball</font><font color="#E5E5E5"> and</font>

133
00:07:13,810 --> 00:07:18,039
<font color="#E5E5E5">you say you know that's what growing</font>

134
00:07:16,120 --> 00:07:20,440
<font color="#E5E5E5">there I'm gonna</font><font color="#CCCCCC"> have</font><font color="#E5E5E5"> two panels and then</font>

135
00:07:18,039 --> 00:07:22,840
you get straight<font color="#CCCCCC"> you're</font><font color="#E5E5E5"> Prometheus query</font>

136
00:07:20,440 --> 00:07:26,380
that we<font color="#E5E5E5"> have yeah hopefully</font><font color="#CCCCCC"> you</font><font color="#E5E5E5"> can see</font>

137
00:07:22,840 --> 00:07:27,549
that and so we've done we've gone

138
00:07:26,380 --> 00:07:31,060
through<font color="#E5E5E5"> and</font><font color="#CCCCCC"> done this</font><font color="#E5E5E5"> but every single</font>

139
00:07:27,550 --> 00:07:32,949
we can<font color="#E5E5E5"> think of or if you</font><font color="#CCCCCC"> need an</font>

140
00:07:31,060 --> 00:07:34,389
utilization saturation and error rate if

141
00:07:32,949 --> 00:07:35,530
we've got<font color="#CCCCCC"> one</font><font color="#E5E5E5"> and this is what it kind</font>

142
00:07:34,389 --> 00:07:37,539
of<font color="#E5E5E5"> looks like this is running on</font><font color="#CCCCCC"> our</font>

143
00:07:35,530 --> 00:07:40,359
<font color="#CCCCCC">watch impossible</font><font color="#E5E5E5"> right now one</font><font color="#CCCCCC"> of the</font>

144
00:07:37,539 --> 00:07:41,289
<font color="#CCCCCC">modes and</font><font color="#E5E5E5"> you get utilization saturation</font>

145
00:07:40,360 --> 00:07:43,750
is no error<font color="#CCCCCC"> rate</font>

146
00:07:41,289 --> 00:07:47,409
memory utilization<font color="#E5E5E5"> is the kind of</font><font color="#CCCCCC"> paving</font>

147
00:07:43,750 --> 00:07:51,449
<font color="#CCCCCC">rate not meaningful</font><font color="#E5E5E5"> there's no business</font>

148
00:07:47,410 --> 00:07:53,740
<font color="#E5E5E5">operation parent Network utilization and</font>

149
00:07:51,449 --> 00:07:56,940
we can do this<font color="#E5E5E5"> plus the wide as well</font>

150
00:07:53,740 --> 00:07:56,940
which is<font color="#CCCCCC"> kind of nice</font>

151
00:08:00,900 --> 00:08:05,380
use method<font color="#CCCCCC"> folks</font><font color="#E5E5E5"> that's what's the other</font>

152
00:08:03,490 --> 00:08:06,849
thing<font color="#CCCCCC"> we've added</font><font color="#E5E5E5"> it's probably getting</font>

153
00:08:05,380 --> 00:08:10,870
<font color="#CCCCCC">a bit off-topic</font><font color="#E5E5E5"> but this is actually</font>

154
00:08:06,849 --> 00:08:12,310
more way more<font color="#CCCCCC"> useful is actually I'll</font>

155
00:08:10,870 --> 00:08:15,400
say<font color="#E5E5E5"> this until the end</font><font color="#CCCCCC"> I'll just teach</font>

156
00:08:12,310 --> 00:08:20,370
you<font color="#E5E5E5"> at that one right then so that's</font>

157
00:08:15,400 --> 00:08:27,570
kind of the use method<font color="#E5E5E5"> in eight minutes</font>

158
00:08:20,370 --> 00:08:30,010
<font color="#CCCCCC">now we will move on to</font><font color="#E5E5E5"> the</font><font color="#CCCCCC"> rep method so</font>

159
00:08:27,570 --> 00:08:32,289
there's only really one which is<font color="#E5E5E5"> been</font>

160
00:08:30,010 --> 00:08:33,370
<font color="#E5E5E5">declared website it's fantastic it's</font><font color="#CCCCCC"> got</font>

161
00:08:32,289 --> 00:08:35,620
everything you need to know there's

162
00:08:33,370 --> 00:08:37,599
loads of pages local detail I've been

163
00:08:35,620 --> 00:08:41,140
denied justice<font color="#E5E5E5"> so please go and</font><font color="#CCCCCC"> read</font>

164
00:08:37,599 --> 00:08:43,479
that<font color="#E5E5E5"> you're interested so in the rent</font>

165
00:08:41,140 --> 00:08:45,880
method<font color="#E5E5E5"> the red pepper says for every</font>

166
00:08:43,479 --> 00:08:48,360
service<font color="#CCCCCC"> results were interested in</font>

167
00:08:45,880 --> 00:08:51,370
service in our micro services services

168
00:08:48,360 --> 00:08:54,400
measure the<font color="#CCCCCC"> rate a</font><font color="#E5E5E5"> number of requests</font>

169
00:08:51,370 --> 00:08:55,690
are getting per second the<font color="#E5E5E5"> pellets the</font>

170
00:08:54,400 --> 00:08:58,300
number of<font color="#E5E5E5"> those requests that are</font>

171
00:08:55,690 --> 00:09:00,130
failing<font color="#CCCCCC"> and the generation offers</font><font color="#E5E5E5"> so the</font>

172
00:08:58,300 --> 00:09:01,870
rates that<font color="#CCCCCC"> little</font><font color="#E5E5E5"> press the errors of</font>

173
00:09:00,130 --> 00:09:02,730
the regress and the duration<font color="#CCCCCC"> of the</font>

174
00:09:01,870 --> 00:09:07,560
<font color="#E5E5E5">request</font>

175
00:09:02,730 --> 00:09:09,240
<font color="#E5E5E5">why do this well and basically we</font>

176
00:09:07,560 --> 00:09:11,128
we have someone joining we works<font color="#CCCCCC"> on I</font>

177
00:09:09,240 --> 00:09:13,529
work there and they asked us<font color="#CCCCCC"> about our</font>

178
00:09:11,129 --> 00:09:15,149
<font color="#CCCCCC">monastic fasting we were just launching</font>

179
00:09:13,529 --> 00:09:18,949
our hosted version of<font color="#E5E5E5"> another product</font>

180
00:09:15,149 --> 00:09:18,949
<font color="#CCCCCC">called scope</font><font color="#E5E5E5"> no I can sort of put that</font>

181
00:09:19,009 --> 00:09:23,819
don't worry about it

182
00:09:20,610 --> 00:09:25,199
<font color="#CCCCCC">means</font><font color="#E5E5E5"> you</font><font color="#CCCCCC"> have a methodology council</font>

183
00:09:23,819 --> 00:09:27,809
medical monitoring like things<font color="#CCCCCC"> on</font><font color="#E5E5E5"> fire</font>

184
00:09:25,199 --> 00:09:30,300
nobody's talking about<font color="#E5E5E5"> all you should do</font>

185
00:09:27,809 --> 00:09:31,740
to use method<font color="#E5E5E5"> so I went</font><font color="#CCCCCC"> there</font><font color="#E5E5E5"> and I read</font>

186
00:09:30,300 --> 00:09:33,359
<font color="#E5E5E5">about these method and it's completely</font>

187
00:09:31,740 --> 00:09:35,399
not<font color="#E5E5E5"> what</font><font color="#CCCCCC"> I want I'd spent a few years at</font>

188
00:09:33,360 --> 00:09:37,259
Google<font color="#E5E5E5"> and the use method</font><font color="#CCCCCC"> was very</font><font color="#E5E5E5"> much</font>

189
00:09:35,399 --> 00:09:38,579
you know<font color="#E5E5E5"> what we did some resources and</font>

190
00:09:37,259 --> 00:09:40,740
<font color="#E5E5E5">we were very much interested in what</font><font color="#CCCCCC"> we</font>

191
00:09:38,579 --> 00:09:43,050
<font color="#CCCCCC">did for</font><font color="#E5E5E5"> all the services and at this</font>

192
00:09:40,740 --> 00:09:44,370
point<font color="#E5E5E5"> I didn't</font><font color="#CCCCCC"> know about</font><font color="#E5E5E5"> Google's</font><font color="#CCCCCC"> SOE</font>

193
00:09:43,050 --> 00:09:46,199
book I<font color="#E5E5E5"> don't think that was even out yet</font>

194
00:09:44,370 --> 00:09:48,240
<font color="#E5E5E5">and so I kind of said look we</font><font color="#CCCCCC"> need to</font>

195
00:09:46,199 --> 00:09:50,459
likely use method<font color="#CCCCCC"> bar</font><font color="#E5E5E5"> for services and</font>

196
00:09:48,240 --> 00:09:52,319
so I said the<font color="#E5E5E5"> live method because it</font>

197
00:09:50,459 --> 00:09:54,599
kind of<font color="#E5E5E5"> makes you know it makes a lot</font>

198
00:09:52,319 --> 00:09:57,360
and<font color="#E5E5E5"> I</font><font color="#CCCCCC"> think about</font><font color="#E5E5E5"> a fourth one so</font>

199
00:09:54,600 --> 00:10:07,290
<font color="#CCCCCC">basically yeah it came from full-on</font>

200
00:09:57,360 --> 00:10:09,829
signals<font color="#CCCCCC"> that's your name but your</font>

201
00:10:07,290 --> 00:10:12,089
<font color="#E5E5E5">application so they spoke these metrics</font>

202
00:10:09,829 --> 00:10:14,969
<font color="#E5E5E5">you can kind of get much better</font>

203
00:10:12,089 --> 00:10:17,399
operational statements<font color="#E5E5E5"> so an individual</font>

204
00:10:14,970 --> 00:10:19,470
can be<font color="#E5E5E5"> on call and consult problems with</font>

205
00:10:17,399 --> 00:10:21,779
<font color="#E5E5E5">your services without necessarily being</font>

206
00:10:19,470 --> 00:10:24,000
the<font color="#E5E5E5"> guy who wrote without necessarily</font>

207
00:10:21,779 --> 00:10:25,889
being a person<font color="#CCCCCC"> who you know intimately</font>

208
00:10:24,000 --> 00:10:27,629
know who's the inner workings of<font color="#CCCCCC"> that</font>

209
00:10:25,889 --> 00:10:29,009
service they can<font color="#E5E5E5"> kind of keep those</font>

210
00:10:27,629 --> 00:10:31,290
black boxes as long as you're measuring

211
00:10:29,009 --> 00:10:33,300
the<font color="#CCCCCC"> rent</font><font color="#E5E5E5"> method metrics</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> each of those</font>

212
00:10:31,290 --> 00:10:35,579
<font color="#CCCCCC">services as this allows</font><font color="#E5E5E5"> it's not</font>

213
00:10:33,300 --> 00:10:36,719
operational<font color="#E5E5E5"> scalability and and not have</font>

214
00:10:35,579 --> 00:10:39,689
to be on call<font color="#CCCCCC"> for code you've written</font>

215
00:10:36,720 --> 00:10:41,730
<font color="#E5E5E5">all the time you know we works are you</font>

216
00:10:39,689 --> 00:10:43,410
talk about handwritten<font color="#E5E5E5"> people looked</font>

217
00:10:41,730 --> 00:10:44,730
after my code<font color="#E5E5E5"> and it kinda works</font><font color="#CCCCCC"> in the</font>

218
00:10:43,410 --> 00:10:47,519
same<font color="#E5E5E5"> tentative moving the Google are</font>

219
00:10:44,730 --> 00:10:49,709
very very<font color="#CCCCCC"> little services</font><font color="#E5E5E5"> they also it</font>

220
00:10:47,519 --> 00:10:50,490
relates very closely to<font color="#E5E5E5"> you isolates</font>

221
00:10:49,709 --> 00:10:52,589
<font color="#CCCCCC">that you should be offering</font><font color="#E5E5E5"> your</font>

222
00:10:50,490 --> 00:10:54,329
customers<font color="#CCCCCC"> so really like this is what</font>

223
00:10:52,589 --> 00:10:56,220
you<font color="#CCCCCC"> should tell you prepare your custom</font>

224
00:10:54,329 --> 00:10:57,569
about<font color="#CCCCCC"> it you don't really</font><font color="#E5E5E5"> like this is a</font>

225
00:10:56,220 --> 00:10:59,309
problem a<font color="#CCCCCC"> couple of the news method is</font>

226
00:10:57,569 --> 00:11:01,378
<font color="#CCCCCC">it's kind of Parmar</font><font color="#E5E5E5"> keep teachers happy</font>

227
00:10:59,309 --> 00:11:04,469
<font color="#CCCCCC">are my</font><font color="#E5E5E5"> CPUs not to stress and do they</font>

228
00:11:01,379 --> 00:11:05,790
<font color="#CCCCCC">have enough food amendments on that's</font>

229
00:11:04,470 --> 00:11:08,200
probably makes me happy when<font color="#CCCCCC"> they're not</font>

230
00:11:05,790 --> 00:11:10,360
I<font color="#CCCCCC"> care</font>

231
00:11:08,200 --> 00:11:12,670
my customer happy when there's not many

232
00:11:10,360 --> 00:11:15,160
<font color="#E5E5E5">errors you know</font><font color="#CCCCCC"> like less than 1% maybe</font>

233
00:11:12,670 --> 00:11:16,930
<font color="#E5E5E5">we'll see how in the duration like the</font>

234
00:11:15,160 --> 00:11:20,230
latency of the requests<font color="#CCCCCC"> are low</font><font color="#E5E5E5"> that's</font>

235
00:11:16,930 --> 00:11:22,359
<font color="#E5E5E5">where my customers</font><font color="#CCCCCC"> are happy I hope so</font>

236
00:11:20,230 --> 00:11:25,830
<font color="#E5E5E5">this allowed me</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> build Nestle is why I</font>

237
00:11:22,360 --> 00:11:30,670
came<font color="#E5E5E5"> up this in</font><font color="#CCCCCC"> and out 2015</font>

238
00:11:25,830 --> 00:11:32,110
I saw<font color="#E5E5E5"> each other and people for I was</font>

239
00:11:30,670 --> 00:11:33,370
trying to<font color="#E5E5E5"> say that</font><font color="#CCCCCC"> Bremen great</font><font color="#E5E5E5"> smell</font>

240
00:11:32,110 --> 00:11:34,630
<font color="#E5E5E5">that news</font><font color="#CCCCCC"> net that</font><font color="#E5E5E5"> was not the right</font>

241
00:11:33,370 --> 00:11:40,500
thing<font color="#E5E5E5"> and it's not these are kind of two</font>

242
00:11:34,630 --> 00:11:43,060
complementary<font color="#E5E5E5"> things you can turn metric</font>

243
00:11:40,500 --> 00:11:46,510
<font color="#E5E5E5">on</font><font color="#CCCCCC"> stop both of</font><font color="#E5E5E5"> these slides so here we</font>

244
00:11:43,060 --> 00:11:48,819
go you know you need this once in your

245
00:11:46,510 --> 00:11:50,740
application or for instance<font color="#E5E5E5"> with with</font>

246
00:11:48,820 --> 00:11:58,720
porcelain cortex or with<font color="#CCCCCC"> weave</font><font color="#E5E5E5"> works is</font>

247
00:11:50,740 --> 00:12:01,330
<font color="#CCCCCC">just</font><font color="#E5E5E5"> a kid once upon library inside that</font>

248
00:11:58,720 --> 00:12:03,130
we break the metric down by method<font color="#CCCCCC"> roots</font>

249
00:12:01,330 --> 00:12:04,690
<font color="#E5E5E5">later to code and the map of the</font><font color="#CCCCCC"> neural</font>

250
00:12:03,130 --> 00:12:05,830
<font color="#CCCCCC">climate</font><font color="#E5E5E5"> in trusting that the stasis code</font>

251
00:12:04,690 --> 00:12:06,490
is the one<font color="#CCCCCC"> that allows</font><font color="#E5E5E5"> you to measure</font>

252
00:12:05,830 --> 00:12:08,500
<font color="#CCCCCC">the Aeropress</font>

253
00:12:06,490 --> 00:12:10,840
one<font color="#E5E5E5"> of the things you get with a</font>

254
00:12:08,500 --> 00:12:12,580
histogram entry is you also get pounds

255
00:12:10,840 --> 00:12:14,410
with the number of<font color="#CCCCCC"> aircrafts</font><font color="#E5E5E5"> and you get</font>

256
00:12:12,580 --> 00:12:16,540
a summer yeah

257
00:12:14,410 --> 00:12:19,000
count the<font color="#CCCCCC"> some of the times it</font><font color="#E5E5E5"> takes a</font>

258
00:12:16,540 --> 00:12:20,199
large<font color="#E5E5E5"> amount of</font><font color="#CCCCCC"> treatment and then when</font>

259
00:12:19,000 --> 00:12:23,590
you<font color="#E5E5E5"> want to inspect this is for instance</font>

260
00:12:20,200 --> 00:12:24,760
<font color="#CCCCCC">how you</font><font color="#E5E5E5"> do</font><font color="#CCCCCC"> it</font><font color="#E5E5E5"> with HTTP services I like</font>

261
00:12:23,590 --> 00:12:37,240
the idea of having<font color="#E5E5E5"> a</font><font color="#CCCCCC"> little</font><font color="#E5E5E5"> bit of</font>

262
00:12:24,760 --> 00:12:40,150
middle<font color="#E5E5E5"> way so this</font><font color="#CCCCCC"> is this</font><font color="#E5E5E5"> function</font><font color="#CCCCCC"> and</font>

263
00:12:37,240 --> 00:12:42,430
this<font color="#E5E5E5"> gives you a wrapper around the</font>

264
00:12:40,150 --> 00:12:45,760
response writer<font color="#CCCCCC"> that's instrumented</font>

265
00:12:42,430 --> 00:12:47,560
so go and get HTTP<font color="#CCCCCC"> loop it will</font><font color="#E5E5E5"> give it</font>

266
00:12:45,760 --> 00:12:49,300
a<font color="#E5E5E5"> response writer it'll return you'll</font>

267
00:12:47,560 --> 00:12:52,540
respond for activist<font color="#CCCCCC"> the instrumented</font>

268
00:12:49,300 --> 00:12:57,300
pass that on to<font color="#E5E5E5"> the actual HTTP</font><font color="#CCCCCC"> handler</font>

269
00:12:52,540 --> 00:12:59,490
<font color="#CCCCCC">and</font><font color="#E5E5E5"> then when that's finished</font><font color="#CCCCCC"> you ask</font>

270
00:12:57,300 --> 00:13:01,560
<font color="#E5E5E5">salad it's pretty cool a if you look</font>

271
00:12:59,490 --> 00:13:03,240
into it is like how<font color="#E5E5E5"> to do this water</font>

272
00:13:01,560 --> 00:13:04,589
generation explodes<font color="#CCCCCC"> and all the</font>

273
00:13:03,240 --> 00:13:06,660
different interfaces<font color="#E5E5E5"> that response</font>

274
00:13:04,589 --> 00:13:08,730
writer might potentially in<font color="#E5E5E5"> commitments</font>

275
00:13:06,660 --> 00:13:10,829
<font color="#CCCCCC">omits</font><font color="#E5E5E5"> there's a long thread about is</font>

276
00:13:08,730 --> 00:13:14,430
<font color="#E5E5E5">this so I think to do but I like because</font>

277
00:13:10,830 --> 00:13:16,529
<font color="#CCCCCC">if</font><font color="#E5E5E5"> one line of code</font><font color="#CCCCCC"> and you</font><font color="#E5E5E5"> also</font><font color="#CCCCCC"> get to</font>

278
00:13:14,430 --> 00:13:17,849
<font color="#E5E5E5">close the Prometheus metric sampler and</font>

279
00:13:16,529 --> 00:13:19,200
<font color="#E5E5E5">that's it you've now instrumented your</font>

280
00:13:17,850 --> 00:13:21,870
services with the red<font color="#CCCCCC"> method</font>

281
00:13:19,200 --> 00:13:23,100
unlike the use method<font color="#CCCCCC"> all all the</font>

282
00:13:21,870 --> 00:13:26,339
<font color="#CCCCCC">queries for the red methods that one</font>

283
00:13:23,100 --> 00:13:36,649
<font color="#E5E5E5">single page and I will now taps it in</font>

284
00:13:26,339 --> 00:13:39,000
life<font color="#CCCCCC"> proof I</font><font color="#E5E5E5"> know what I'm doing</font><font color="#CCCCCC"> Wow so</font>

285
00:13:36,649 --> 00:13:40,860
this is<font color="#E5E5E5"> I'm gonna I'm going to cheat a</font>

286
00:13:39,000 --> 00:13:42,300
little bit and use portals<font color="#CCCCCC"> interfaces</font>

287
00:13:40,860 --> 00:13:46,260
which<font color="#E5E5E5"> is basically the same as</font><font color="#CCCCCC"> for me</font>

288
00:13:42,300 --> 00:13:50,250
this is in space<font color="#CCCCCC"> just blue and white and</font>

289
00:13:46,260 --> 00:13:53,760
we can say let's say request rate for

290
00:13:50,250 --> 00:13:55,140
our<font color="#CCCCCC"> dev plasma so we do request</font><font color="#E5E5E5"> and the</font>

291
00:13:53,760 --> 00:13:58,850
reason I'm sheets will become obvious

292
00:13:55,140 --> 00:14:02,040
because<font color="#CCCCCC"> I have this awesome tacitly</font>

293
00:13:58,850 --> 00:14:05,040
awesome when it got so<font color="#E5E5E5"> many</font><font color="#CCCCCC"> things so I</font>

294
00:14:02,040 --> 00:14:07,050
<font color="#E5E5E5">don't want any talent so this is the</font>

295
00:14:05,040 --> 00:14:10,339
number<font color="#CCCCCC"> of requests we've happened a</font>

296
00:14:07,050 --> 00:14:14,250
bottle<font color="#CCCCCC"> assets as I mean if we look</font><font color="#E5E5E5"> at me</font>

297
00:14:10,339 --> 00:14:16,110
Titan for this you'll see<font color="#CCCCCC"> mean as</font>

298
00:14:14,250 --> 00:14:17,490
literally come<font color="#CCCCCC"> into senses and that's</font>

299
00:14:16,110 --> 00:14:20,070
what particularly<font color="#E5E5E5"> useful so what I'm</font>

300
00:14:17,490 --> 00:14:22,380
going to say is I'm only interested<font color="#E5E5E5"> in a</font>

301
00:14:20,070 --> 00:14:27,560
particular<font color="#E5E5E5"> job</font><font color="#CCCCCC"> and that's gonna</font><font color="#E5E5E5"> be our</font>

302
00:14:22,380 --> 00:14:27,560
<font color="#CCCCCC">dev front-end and I</font><font color="#E5E5E5"> want to know moving</font>

303
00:14:27,620 --> 00:14:35,610
one minute rate so they don't<font color="#CCCCCC"> they're</font>

304
00:14:31,500 --> 00:14:36,640
<font color="#E5E5E5">handling about 416 some requests a</font>

305
00:14:35,610 --> 00:14:38,620
second

306
00:14:36,640 --> 00:14:41,019
this is actually exactly because the

307
00:14:38,620 --> 00:14:42,970
Wi-Fi at<font color="#CCCCCC"> force them is exposing loads of</font>

308
00:14:41,019 --> 00:14:45,700
Prometheus metrics and<font color="#CCCCCC"> they'll be</font><font color="#E5E5E5"> sent</font>

309
00:14:42,970 --> 00:14:49,560
<font color="#E5E5E5">out and that then and</font><font color="#CCCCCC"> Richie have</font><font color="#E5E5E5"> done</font>

310
00:14:45,700 --> 00:14:52,000
that<font color="#E5E5E5"> and well they must've turned off</font>

311
00:14:49,560 --> 00:14:53,680
and then we<font color="#E5E5E5"> can start saying well now we</font>

312
00:14:52,000 --> 00:14:55,959
know how many<font color="#E5E5E5"> requests a second we're</font>

313
00:14:53,680 --> 00:14:59,050
getting being even take the number of

314
00:14:55,959 --> 00:15:01,839
<font color="#CCCCCC">errors</font><font color="#E5E5E5"> and divide it</font><font color="#CCCCCC"> by this</font><font color="#E5E5E5"> so the way</font>

315
00:14:59,050 --> 00:15:04,779
to do that<font color="#E5E5E5"> as we go</font><font color="#CCCCCC"> that status current</font>

316
00:15:01,839 --> 00:15:06,190
<font color="#E5E5E5">label that we put</font><font color="#CCCCCC"> into</font><font color="#E5E5E5"> metric we're</font>

317
00:15:04,779 --> 00:15:08,800
going to say status<font color="#E5E5E5"> code and we're going</font>

318
00:15:06,190 --> 00:15:11,100
<font color="#E5E5E5">to say doesn't match the red X which is</font>

319
00:15:08,800 --> 00:15:11,099
tomorrow

320
00:15:13,500 --> 00:15:23,740
there were some errors<font color="#E5E5E5"> there was</font><font color="#CCCCCC"> zero to</font>

321
00:15:18,010 --> 00:15:26,050
<font color="#CCCCCC">three percent errors you</font><font color="#E5E5E5"> know there is</font>

322
00:15:23,740 --> 00:15:27,670
on our side probably and then<font color="#E5E5E5"> the final</font>

323
00:15:26,050 --> 00:15:29,709
thing we can do and<font color="#E5E5E5"> I'm not gonna</font><font color="#CCCCCC"> top</font>

324
00:15:27,670 --> 00:15:30,339
<font color="#CCCCCC">this - it takes ages and they've done</font>

325
00:15:29,709 --> 00:15:34,800
this before

326
00:15:30,339 --> 00:15:34,800
autocomplete as we can basically say

327
00:15:43,649 --> 00:15:48,810
this automatically sets up the queries

328
00:15:47,019 --> 00:15:52,000
you need<font color="#CCCCCC"> to get your mighty power</font>

329
00:15:48,810 --> 00:15:55,268
<font color="#CCCCCC">Fitness</font><font color="#E5E5E5"> spent</font><font color="#CCCCCC"> are and your average and</font>

330
00:15:52,000 --> 00:15:58,750
<font color="#E5E5E5">then it takes literally seconds to play</font>

331
00:15:55,269 --> 00:16:01,149
that that should<font color="#CCCCCC"> be that's</font><font color="#E5E5E5"> why anything</font>

332
00:15:58,750 --> 00:16:03,490
there's<font color="#CCCCCC"> a kind of latency going into our</font>

333
00:16:01,149 --> 00:16:04,930
<font color="#E5E5E5">dev front-end actually is</font><font color="#CCCCCC"> it going to</font>

334
00:16:03,490 --> 00:16:08,350
<font color="#CCCCCC">poke our content it's not break it down</font>

335
00:16:04,930 --> 00:16:10,329
and<font color="#E5E5E5"> we can</font><font color="#CCCCCC"> see that our 99</font><font color="#E5E5E5"> percentile</font>

336
00:16:08,350 --> 00:16:13,079
latency is this is in second<font color="#E5E5E5"> source up</font>

337
00:16:10,329 --> 00:16:13,079
<font color="#CCCCCC">twenty</font><font color="#E5E5E5"> milliseconds</font>

338
00:16:16,430 --> 00:16:25,459
so that's the<font color="#CCCCCC"> read nothing</font><font color="#E5E5E5"> not quite</font>

339
00:16:19,940 --> 00:16:26,870
finished because one<font color="#CCCCCC"> of the things I</font>

340
00:16:25,460 --> 00:16:30,890
particularly like I talked a bit about

341
00:16:26,870 --> 00:16:32,810
how<font color="#CCCCCC"> the red</font><font color="#E5E5E5"> path that allows someone to</font>

342
00:16:30,890 --> 00:16:34,490
<font color="#E5E5E5">be on portable services when they</font>

343
00:16:32,810 --> 00:16:36,739
haven't<font color="#E5E5E5"> written services and you can</font>

344
00:16:34,490 --> 00:16:40,400
imagine<font color="#CCCCCC"> your your micro service</font>

345
00:16:36,740 --> 00:16:42,230
architecture<font color="#E5E5E5"> to be</font><font color="#CCCCCC"> a kind</font><font color="#E5E5E5"> of tree</font><font color="#CCCCCC"> of</font>

346
00:16:40,400 --> 00:16:44,300
services<font color="#CCCCCC"> right and if you've</font><font color="#E5E5E5"> got</font>

347
00:16:42,230 --> 00:16:45,530
<font color="#CCCCCC">exclusively a front end at the top and</font>

348
00:16:44,300 --> 00:16:47,060
depending<font color="#E5E5E5"> on the</font><font color="#CCCCCC"> path</font><font color="#E5E5E5"> the user goes</font>

349
00:16:45,530 --> 00:16:48,949
through then they didn't serve this and

350
00:16:47,060 --> 00:16:50,300
maybe one of those<font color="#CCCCCC"> services also has</font>

351
00:16:48,950 --> 00:16:53,120
some supporting cells<font color="#E5E5E5"> have been</font><font color="#CCCCCC"> made</font>

352
00:16:50,300 --> 00:16:54,530
storage and so<font color="#CCCCCC"> on you can see how he's</font>

353
00:16:53,120 --> 00:16:56,660
<font color="#CCCCCC">model kind of fits</font><font color="#E5E5E5"> and what I like about</font>

354
00:16:54,530 --> 00:16:58,339
<font color="#CCCCCC">the read method is you could map this</font>

355
00:16:56,660 --> 00:16:59,990
straight<font color="#CCCCCC"> onto a set of dashboards so you</font>

356
00:16:58,340 --> 00:17:02,900
can build and you might<font color="#E5E5E5"> end up</font><font color="#CCCCCC"> on</font>

357
00:16:59,990 --> 00:17:07,040
automatically<font color="#E5E5E5"> the kind of go depth-first</font>

358
00:17:02,900 --> 00:17:11,260
no breakfast<font color="#E5E5E5"> without trade doing on the</font>

359
00:17:07,040 --> 00:17:13,609
<font color="#E5E5E5">left your request rate broken down by</font>

360
00:17:11,260 --> 00:17:16,190
successful failing<font color="#E5E5E5"> so that kind of</font>

361
00:17:13,609 --> 00:17:18,889
covers<font color="#E5E5E5"> rate and errors and on your left</font>

362
00:17:16,190 --> 00:17:24,530
<font color="#E5E5E5">the lenses and this is how you all are</font>

363
00:17:18,890 --> 00:17:25,610
much more<font color="#CCCCCC"> proportional</font><font color="#E5E5E5"> it</font><font color="#CCCCCC"> seems like and</font>

364
00:17:24,530 --> 00:17:27,109
then you kind of get<font color="#CCCCCC"> this nice</font>

365
00:17:25,609 --> 00:17:27,409
methodical approach<font color="#E5E5E5"> something's gone</font>

366
00:17:27,109 --> 00:17:29,479
wrong

367
00:17:27,410 --> 00:17:32,030
<font color="#CCCCCC">all</font><font color="#E5E5E5"> I</font><font color="#CCCCCC"> do is I start at the top and</font><font color="#E5E5E5"> I</font>

368
00:17:29,480 --> 00:17:33,620
look for<font color="#CCCCCC"> pilot disease or high error</font>

369
00:17:32,030 --> 00:17:35,720
rate<font color="#E5E5E5"> and then you keep going down until</font>

370
00:17:33,620 --> 00:17:37,219
I see<font color="#CCCCCC"> the service there supporting those</font>

371
00:17:35,720 --> 00:17:39,320
highlighted seasonal<font color="#CCCCCC"> arrays and then I</font>

372
00:17:37,220 --> 00:17:43,130
kind of pinpointed<font color="#CCCCCC"> in a</font><font color="#E5E5E5"> very kind of</font>

373
00:17:39,320 --> 00:17:46,490
unscientific<font color="#CCCCCC"> way the error so this</font><font color="#E5E5E5"> is a</font>

374
00:17:43,130 --> 00:17:49,190
there's a vivid cortex<font color="#E5E5E5"> who wrote a blog</font>

375
00:17:46,490 --> 00:17:52,760
post<font color="#E5E5E5"> called hierarchical read method and</font>

376
00:17:49,190 --> 00:17:54,500
this<font color="#E5E5E5"> is I think</font><font color="#CCCCCC"> the other</font><font color="#E5E5E5"> thing I</font><font color="#CCCCCC"> just</font>

377
00:17:52,760 --> 00:17:57,280
wanted to focus<font color="#E5E5E5"> in on</font><font color="#CCCCCC"> is the</font><font color="#E5E5E5"> latest</font>

378
00:17:54,500 --> 00:17:59,630
<font color="#E5E5E5">emissions</font><font color="#CCCCCC"> so I think</font><font color="#E5E5E5"> I keep it up</font><font color="#CCCCCC"> Lima</font>

379
00:17:57,280 --> 00:18:01,520
<font color="#E5E5E5">one of the things I always include in</font><font color="#CCCCCC"> my</font>

380
00:17:59,630 --> 00:18:02,750
<font color="#CCCCCC">latest</font><font color="#E5E5E5"> measurements is averages and</font>

381
00:18:01,520 --> 00:18:04,190
<font color="#CCCCCC">you've probably seen folks</font><font color="#E5E5E5"> where they</font>

382
00:18:02,750 --> 00:18:06,260
studied never look at the average

383
00:18:04,190 --> 00:18:08,480
<font color="#CCCCCC">average of the misleading and it's true</font>

384
00:18:06,260 --> 00:18:11,210
that I<font color="#E5E5E5"> agree the average of two</font><font color="#CCCCCC"> reasons</font>

385
00:18:08,480 --> 00:18:13,610
one it tells me if my customer metrics

386
00:18:11,210 --> 00:18:15,380
<font color="#E5E5E5">so in Prometheus the</font><font color="#CCCCCC"> histogram metrics</font>

387
00:18:13,610 --> 00:18:19,530
are collected as a series of<font color="#CCCCCC"> buffets</font>

388
00:18:15,380 --> 00:18:22,000
<font color="#CCCCCC">doing but like all area</font>

389
00:18:19,530 --> 00:18:24,899
<font color="#CCCCCC">400 milliseconds</font><font color="#E5E5E5"> and all the press about</font>

390
00:18:22,000 --> 00:18:27,640
that and if you get<font color="#E5E5E5"> your love it's wrong</font>

391
00:18:24,900 --> 00:18:29,260
<font color="#CCCCCC">you can kind of for instance if you have</font>

392
00:18:27,640 --> 00:18:31,059
like<font color="#E5E5E5"> all your requests in</font><font color="#CCCCCC"> the upper</font>

393
00:18:29,260 --> 00:18:32,230
bucket the link this will tell you<font color="#E5E5E5"> that</font>

394
00:18:31,059 --> 00:18:35,678
<font color="#CCCCCC">we're</font><font color="#E5E5E5"> taking a</font><font color="#CCCCCC"> hundred</font><font color="#E5E5E5"> milliseconds when</font>

395
00:18:32,230 --> 00:18:38,440
they could<font color="#E5E5E5"> be taking content so your</font>

396
00:18:35,679 --> 00:18:40,929
average<font color="#E5E5E5"> I got the average and</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> always</font>

397
00:18:38,440 --> 00:18:42,880
hope it's close<font color="#CCCCCC"> to</font><font color="#E5E5E5"> 50% are because if</font>

398
00:18:40,929 --> 00:18:44,380
it's<font color="#CCCCCC"> not it kind of tells me you know</font><font color="#E5E5E5"> if</font>

399
00:18:42,880 --> 00:18:47,700
<font color="#E5E5E5">for instance the</font><font color="#CCCCCC"> average is above the</font>

400
00:18:44,380 --> 00:18:50,530
95th percentile<font color="#E5E5E5"> then that's all wrong</font>

401
00:18:47,700 --> 00:18:52,929
<font color="#CCCCCC">the other reason at the average is an</font>

402
00:18:50,530 --> 00:18:54,549
<font color="#E5E5E5">average is</font><font color="#CCCCCC"> some</font><font color="#E5E5E5"> and if I go</font><font color="#CCCCCC"> a service</font>

403
00:18:52,929 --> 00:18:56,710
<font color="#E5E5E5">that doesn't impress with our service</font>

404
00:18:54,549 --> 00:18:58,629
and the request<font color="#E5E5E5"> for other service the in</font>

405
00:18:56,710 --> 00:19:00,640
average latency of<font color="#E5E5E5"> this service</font><font color="#CCCCCC"> should</font>

406
00:18:58,630 --> 00:19:03,460
be<font color="#E5E5E5"> the sum of those juices the same</font>

407
00:19:00,640 --> 00:19:05,770
<font color="#E5E5E5">isn't roofer percent off this is kind of</font>

408
00:19:03,460 --> 00:19:07,860
my point<font color="#CCCCCC"> averages</font><font color="#E5E5E5"> useful but but yes you</font>

409
00:19:05,770 --> 00:19:10,360
should still use<font color="#CCCCCC"> 99th in</font><font color="#E5E5E5"> this case</font>

410
00:19:07,860 --> 00:19:13,620
percentile<font color="#E5E5E5"> because</font><font color="#CCCCCC"> that tells me that</font>

411
00:19:10,360 --> 00:19:17,409
most<font color="#E5E5E5"> of</font><font color="#CCCCCC"> my</font><font color="#E5E5E5"> customers are happy if you I</font>

412
00:19:13,620 --> 00:19:18,549
feel<font color="#E5E5E5"> free to drop me a bit more</font><font color="#CCCCCC"> reading</font>

413
00:19:17,410 --> 00:19:21,040
<font color="#CCCCCC">to all the so I could be on binding</font>

414
00:19:18,549 --> 00:19:23,590
<font color="#CCCCCC">that's like</font><font color="#E5E5E5"> already</font><font color="#CCCCCC"> online but there's a</font>

415
00:19:21,040 --> 00:19:27,790
whole bunch<font color="#E5E5E5"> of other talks</font><font color="#CCCCCC"> in this flat</font>

416
00:19:23,590 --> 00:19:30,129
<font color="#CCCCCC">panel didn't list all the good ones are</font>

417
00:19:27,790 --> 00:19:31,720
<font color="#CCCCCC">Cyndi's</font><font color="#E5E5E5"> logs of metrics</font><font color="#CCCCCC"> looked in the</font>

418
00:19:30,130 --> 00:19:34,390
organizers that<font color="#E5E5E5"> Prometheus San Francisco</font>

419
00:19:31,720 --> 00:19:36,429
meetup it is really good although so I

420
00:19:34,390 --> 00:19:39,270
would be hardly to read<font color="#E5E5E5"> anything</font><font color="#CCCCCC"> once</font>

421
00:19:36,429 --> 00:19:42,910
<font color="#E5E5E5">and</font><font color="#CCCCCC"> Peter's ascend he's already</font>

422
00:19:39,270 --> 00:19:47,410
<font color="#CCCCCC">mentioned</font><font color="#E5E5E5"> a couple of times</font><font color="#CCCCCC"> he</font><font color="#E5E5E5"> won't win</font>

423
00:19:42,910 --> 00:19:50,020
<font color="#CCCCCC">there when we came</font><font color="#E5E5E5"> on this last</font><font color="#CCCCCC"> one so</font>

424
00:19:47,410 --> 00:19:51,220
this<font color="#CCCCCC"> is really the thing that was</font><font color="#E5E5E5"> the</font>

425
00:19:50,020 --> 00:19:52,480
big message they're supposed<font color="#CCCCCC"> to be like</font>

426
00:19:51,220 --> 00:19:54,700
<font color="#E5E5E5">just forgot about one</font><font color="#CCCCCC"> of the signals</font>

427
00:19:52,480 --> 00:19:59,410
what it isn't is a magic stick of you

428
00:19:54,700 --> 00:20:03,250
popular bar fight Google you know<font color="#CCCCCC"> gotten</font>

429
00:19:59,410 --> 00:20:04,809
signal that's what you get so<font color="#CCCCCC"> if</font><font color="#E5E5E5"> every</font>

430
00:20:03,250 --> 00:20:06,190
service you measure the latency this is

431
00:20:04,809 --> 00:20:08,889
what<font color="#E5E5E5"> the</font><font color="#CCCCCC"> curation in the red</font><font color="#E5E5E5"> method a</font>

432
00:20:06,190 --> 00:20:11,500
method<font color="#E5E5E5"> traffic which I guess is like</font>

433
00:20:08,890 --> 00:20:14,290
right<font color="#CCCCCC"> like a</font><font color="#E5E5E5"> question right are you</font>

434
00:20:11,500 --> 00:20:15,550
messing the<font color="#CCCCCC"> error exactly the same</font>

435
00:20:14,290 --> 00:20:18,220
same thing and then you never<font color="#CCCCCC"> this one</font>

436
00:20:15,550 --> 00:20:22,240
<font color="#CCCCCC">traffic got and saturations how</font><font color="#E5E5E5"> fool</font>

437
00:20:18,220 --> 00:20:25,390
your services how full your services how

438
00:20:22,240 --> 00:20:27,160
do<font color="#E5E5E5"> we measure</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> mean I don't</font><font color="#CCCCCC"> like you</font>

439
00:20:25,390 --> 00:20:28,540
<font color="#E5E5E5">guys I guess I should really go</font><font color="#CCCCCC"> and do a</font>

440
00:20:27,160 --> 00:20:31,360
<font color="#CCCCCC">little capacity planning and load</font>

441
00:20:28,540 --> 00:20:33,070
testing<font color="#CCCCCC"> at my service and now one CPU I</font>

442
00:20:31,360 --> 00:20:35,050
<font color="#E5E5E5">can handle this many more class a second</font>

443
00:20:33,070 --> 00:20:38,050
<font color="#E5E5E5">but I have other things</font><font color="#CCCCCC"> to do</font><font color="#E5E5E5"> with my</font>

444
00:20:35,050 --> 00:20:40,180
<font color="#CCCCCC">time so I don't know how for my services</font>

445
00:20:38,050 --> 00:20:42,010
<font color="#E5E5E5">and then someone suggested to me well</font>

446
00:20:40,180 --> 00:20:46,200
the easiest<font color="#E5E5E5"> thing to do would</font><font color="#CCCCCC"> be to look</font>

447
00:20:42,010 --> 00:20:49,480
<font color="#CCCCCC">at the CP</font><font color="#E5E5E5"> and look at how much of say me</font>

448
00:20:46,200 --> 00:20:51,400
<font color="#E5E5E5">the limit of CPU</font><font color="#CCCCCC"> performance</font><font color="#E5E5E5"> is compare</font>

449
00:20:49,480 --> 00:20:53,890
how<font color="#E5E5E5"> much they're using</font><font color="#CCCCCC"> competitor</font><font color="#E5E5E5"> and</font>

450
00:20:51,400 --> 00:20:56,710
<font color="#E5E5E5">that's</font><font color="#CCCCCC"> an</font><font color="#E5E5E5"> that really with humanities</font>

451
00:20:53,890 --> 00:21:00,400
<font color="#E5E5E5">and Kinesis so home on our cubemetricks</font>

452
00:20:56,710 --> 00:21:02,380
cluster we give every<font color="#CCCCCC"> pod a request</font><font color="#E5E5E5"> a</font>

453
00:21:00,400 --> 00:21:03,700
<font color="#E5E5E5">CPU across so we come along and say that</font>

454
00:21:02,380 --> 00:21:06,280
this<font color="#CCCCCC"> probably shouldn't use one one CPU</font>

455
00:21:03,700 --> 00:21:08,020
and we do this because we we run our dev

456
00:21:06,280 --> 00:21:09,430
environment<font color="#E5E5E5"> on the same cluster we from</font>

457
00:21:08,020 --> 00:21:10,570
different users<font color="#CCCCCC"> and different</font><font color="#E5E5E5"> jobs</font><font color="#CCCCCC"> on</font>

458
00:21:09,430 --> 00:21:12,430
<font color="#CCCCCC">the same class when we don't really</font>

459
00:21:10,570 --> 00:21:14,560
<font color="#E5E5E5">experiment each other</font><font color="#CCCCCC"> they tell that we</font>

460
00:21:12,430 --> 00:21:16,300
either<font color="#CCCCCC"> to look</font><font color="#E5E5E5"> at the portion of that</font>

461
00:21:14,560 --> 00:21:19,360
word is using and that<font color="#E5E5E5"> gives</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> kind of</font>

462
00:21:16,300 --> 00:21:26,110
indication of how full<font color="#E5E5E5"> this services so</font>

463
00:21:19,360 --> 00:21:28,149
this one is actually a<font color="#CCCCCC"> rule that</font><font color="#E5E5E5"> when</font><font color="#CCCCCC"> we</font>

464
00:21:26,110 --> 00:21:29,979
<font color="#CCCCCC">do I'm gonna</font><font color="#E5E5E5"> have to copy some things</font>

465
00:21:28,150 --> 00:21:33,990
out<font color="#CCCCCC"> this is all in that box dashboards</font>

466
00:21:29,980 --> 00:21:43,570
by<font color="#E5E5E5"> the way guys if you like it will be</font>

467
00:21:33,990 --> 00:21:45,250
useful a father so what we're<font color="#E5E5E5"> going to</font>

468
00:21:43,570 --> 00:21:47,290
do in the<font color="#CCCCCC"> talks nashville's there's this</font>

469
00:21:45,250 --> 00:21:49,900
thing called<font color="#CCCCCC"> maintain a few pop</font>

470
00:21:47,290 --> 00:21:51,930
<font color="#CCCCCC">container</font><font color="#E5E5E5"> resources this is a little</font>

471
00:21:49,900 --> 00:21:57,910
reporting<font color="#E5E5E5"> all that we've written that</font>

472
00:21:51,930 --> 00:21:59,740
<font color="#E5E5E5">tells us</font><font color="#CCCCCC"> based on the name space with</font>

473
00:21:57,910 --> 00:22:01,450
job is in and the name<font color="#E5E5E5"> of the job and it</font>

474
00:21:59,740 --> 00:22:04,710
kind of<font color="#E5E5E5"> a creates better</font><font color="#CCCCCC"> job to the same</font>

475
00:22:01,450 --> 00:22:04,710
<font color="#CCCCCC">any</font><font color="#E5E5E5"> how</font>

476
00:22:13,129 --> 00:22:16,730
just in<font color="#E5E5E5"> the shop sir</font>

477
00:22:22,870 --> 00:22:26,669
so we basically<font color="#E5E5E5"> say</font>

478
00:23:35,030 --> 00:23:40,500
this is how you learned at them as will

479
00:23:38,000 --> 00:23:42,090
that work<font color="#E5E5E5"> first time I</font><font color="#CCCCCC"> was in Farsi</font>

480
00:23:40,500 --> 00:23:44,400
<font color="#E5E5E5">polish and here we go</font>

481
00:23:42,090 --> 00:23:46,889
we can now tell powerful<font color="#CCCCCC"> offenses are</font>

482
00:23:44,400 --> 00:23:49,230
and because we're monitoring the<font color="#CCCCCC"> Foss</font>

483
00:23:46,890 --> 00:23:53,010
them<font color="#E5E5E5"> Wi-Fi traffic with our system you</font>

484
00:23:49,230 --> 00:23:55,470
<font color="#E5E5E5">can see like</font><font color="#CCCCCC"> times up this is my last</font>

485
00:23:53,010 --> 00:23:59,010
<font color="#E5E5E5">thing</font><font color="#CCCCCC"> you can see that like our</font><font color="#E5E5E5"> query</font>

486
00:23:55,470 --> 00:24:03,420
<font color="#CCCCCC">our endeavors actually 2005 plastics</font><font color="#E5E5E5"> so</font>

487
00:23:59,010 --> 00:24:06,260
now we know how<font color="#E5E5E5"> is and that's it for me</font>

488
00:24:03,420 --> 00:24:06,260
there's more<font color="#E5E5E5"> you can read</font>

489
00:24:19,010 --> 00:24:23,149
five minutes for<font color="#CCCCCC"> questions</font>

490
00:24:44,890 --> 00:24:49,479
[Music]

491
00:25:00,059 --> 00:25:05,799
knowing that rate of<font color="#E5E5E5"> the question was I</font>

492
00:25:04,270 --> 00:25:08,918
said that<font color="#E5E5E5"> these metrics should be</font>

493
00:25:05,799 --> 00:25:10,600
<font color="#E5E5E5">reported for self but</font><font color="#CCCCCC"> do you distinguish</font>

494
00:25:08,919 --> 00:25:15,130
<font color="#CCCCCC">between different operations on the same</font>

495
00:25:10,600 --> 00:25:16,240
service now I guess in the world you're

496
00:25:15,130 --> 00:25:18,340
<font color="#CCCCCC">not supposed to have different</font>

497
00:25:16,240 --> 00:25:22,059
operations on the same service<font color="#E5E5E5"> like this</font>

498
00:25:18,340 --> 00:25:24,610
a<font color="#E5E5E5"> different operation like I don't know</font>

499
00:25:22,059 --> 00:25:29,470
I don't<font color="#CCCCCC"> necessarily subscribe to that so</font>

500
00:25:24,610 --> 00:25:34,959
I do in<font color="#CCCCCC"> fact as you</font><font color="#E5E5E5"> saw in the in the</font>

501
00:25:29,470 --> 00:25:37,539
first bit of code we include the method

502
00:25:34,960 --> 00:25:39,309
in the metric<font color="#E5E5E5"> and one of the things that</font>

503
00:25:37,539 --> 00:25:42,570
simply<font color="#E5E5E5"> use for</font><font color="#CCCCCC"> specially weather alerts</font>

504
00:25:39,309 --> 00:25:44,799
upon these is alerting on these by

505
00:25:42,570 --> 00:25:47,408
broken down<font color="#E5E5E5"> by method because</font><font color="#CCCCCC"> pencils</font>

506
00:25:44,799 --> 00:25:48,549
like you<font color="#CCCCCC"> seen our agency pretty low but</font>

507
00:25:47,409 --> 00:25:50,289
actually if<font color="#CCCCCC"> you broke that down</font><font color="#E5E5E5"> by</font>

508
00:25:48,549 --> 00:25:54,129
<font color="#CCCCCC">elimination you dealing with</font><font color="#E5E5E5"> that one</font>

509
00:25:50,289 --> 00:25:57,010
thing<font color="#E5E5E5"> bringing my legs easy</font><font color="#CCCCCC"> so we do</font>

510
00:25:54,130 --> 00:25:59,549
actually<font color="#E5E5E5"> alert my method as well so yes</font>

511
00:25:57,010 --> 00:25:59,549
<font color="#CCCCCC">a</font><font color="#E5E5E5"> good point</font>

512
00:26:19,700 --> 00:26:23,370
there is there<font color="#CCCCCC"> was supposed to</font><font color="#E5E5E5"> be a</font>

513
00:26:21,900 --> 00:26:28,290
false<font color="#CCCCCC"> answer to this which I can't</font>

514
00:26:23,370 --> 00:26:31,500
whether they can<font color="#E5E5E5"> have</font><font color="#CCCCCC"> fun</font><font color="#E5E5E5"> which is maybe</font>

515
00:26:28,290 --> 00:26:32,879
that's why but that my own advisor kind

516
00:26:31,500 --> 00:26:36,830
of dye testing approach where<font color="#CCCCCC"> you're</font>

517
00:26:32,880 --> 00:26:36,830
<font color="#CCCCCC">injecting course events and then</font>

