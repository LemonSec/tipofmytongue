1
00:00:04,670 --> 00:00:08,240
we're going to talk about carton<font color="#CCCCCC"> most of</font>

2
00:00:06,980 --> 00:00:10,790
them I'm<font color="#E5E5E5"> talking about is me</font><font color="#CCCCCC"> using</font>

3
00:00:08,240 --> 00:00:13,940
carton<font color="#E5E5E5"> however I'm also abusing docker</font>

4
00:00:10,790 --> 00:00:15,440
and<font color="#CCCCCC"> in really</font><font color="#E5E5E5"> interesting</font><font color="#CCCCCC"> way</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> a way</font>

5
00:00:13,940 --> 00:00:17,689
<font color="#CCCCCC">that I'm a</font><font color="#E5E5E5"> little ashamed of and I'm</font>

6
00:00:15,440 --> 00:00:21,110
also abusing circle<font color="#E5E5E5"> CI and so both of</font>

7
00:00:17,690 --> 00:00:23,990
those are<font color="#E5E5E5"> in in the talking topic so</font>

8
00:00:21,110 --> 00:00:26,210
good morning<font color="#CCCCCC"> pearl today I want to</font><font color="#E5E5E5"> talk</font>

9
00:00:23,990 --> 00:00:29,209
about how you manage dependencies I have

10
00:00:26,210 --> 00:00:32,329
been managing<font color="#CCCCCC"> dependencies</font><font color="#E5E5E5"> for various</font>

11
00:00:29,210 --> 00:00:33,890
years in various<font color="#CCCCCC"> situations mostly what</font>

12
00:00:32,329 --> 00:00:35,059
I<font color="#E5E5E5"> talk</font><font color="#CCCCCC"> about these days</font><font color="#E5E5E5"> is</font><font color="#CCCCCC"> bugzilla but</font>

13
00:00:33,890 --> 00:00:36,620
I want to mention<font color="#E5E5E5"> that</font><font color="#CCCCCC"> I've actually</font>

14
00:00:35,059 --> 00:00:39,919
worked<font color="#CCCCCC"> on other</font><font color="#E5E5E5"> things before</font><font color="#CCCCCC"> I've</font>

15
00:00:36,620 --> 00:00:41,570
worked on a thing<font color="#CCCCCC"> called</font><font color="#E5E5E5"> lon POS which</font>

16
00:00:39,920 --> 00:00:43,190
if for the French speakers in the<font color="#CCCCCC"> room I</font>

17
00:00:41,570 --> 00:00:46,640
<font color="#CCCCCC">think is an amusing name this was</font>

18
00:00:43,190 --> 00:00:48,470
created by an American and the since<font color="#E5E5E5"> we</font>

19
00:00:46,640 --> 00:00:51,590
were in Belgium<font color="#CCCCCC"> their</font><font color="#E5E5E5"> translation would</font>

20
00:00:48,470 --> 00:00:53,300
<font color="#CCCCCC">be this</font><font color="#E5E5E5"> and but it for the English</font>

21
00:00:51,590 --> 00:00:55,670
speakers<font color="#CCCCCC"> we're</font><font color="#E5E5E5"> since we're in English of</font>

22
00:00:53,300 --> 00:00:57,260
<font color="#E5E5E5">course it's</font><font color="#CCCCCC"> called the ass POS and which</font>

23
00:00:55,670 --> 00:00:59,090
is really funny because<font color="#CCCCCC"> you might not</font>

24
00:00:57,260 --> 00:01:02,718
<font color="#E5E5E5">know</font><font color="#CCCCCC"> but if POS is frequently an acronym</font>

25
00:00:59,090 --> 00:01:05,869
for<font color="#CCCCCC"> that</font><font color="#E5E5E5"> so it's also well that a piece</font>

26
00:01:02,719 --> 00:01:07,430
<font color="#E5E5E5">of poo so packaging I've done I did</font>

27
00:01:05,869 --> 00:01:08,960
packaging when I worked on this on this

28
00:01:07,430 --> 00:01:12,680
<font color="#CCCCCC">point-of-sale machine</font><font color="#E5E5E5"> I</font><font color="#CCCCCC"> did</font>

29
00:01:08,960 --> 00:01:14,750
<font color="#CCCCCC">Debian packaging and</font><font color="#E5E5E5"> oh and there's one</font>

30
00:01:12,680 --> 00:01:16,940
<font color="#CCCCCC">more thing</font><font color="#E5E5E5"> there's some of the worst</font>

31
00:01:14,750 --> 00:01:19,340
<font color="#CCCCCC">Perl code that I had ever seen this is</font>

32
00:01:16,940 --> 00:01:22,250
how it rounded numbers so I did

33
00:01:19,340 --> 00:01:25,610
packaging on this<font color="#E5E5E5"> thing I used used D H</font>

34
00:01:22,250 --> 00:01:27,320
make<font color="#CCCCCC"> pearl</font><font color="#E5E5E5"> and I I made I think that was</font>

35
00:01:25,610 --> 00:01:28,970
something<font color="#CCCCCC"> a</font><font color="#E5E5E5"> couple hundred different</font>

36
00:01:27,320 --> 00:01:31,548
<font color="#E5E5E5">packages things that</font><font color="#CCCCCC"> weren't in</font><font color="#E5E5E5"> Debian</font>

37
00:01:28,970 --> 00:01:32,840
at the time and I needed<font color="#E5E5E5"> them and I did</font>

38
00:01:31,549 --> 00:01:35,180
a lot<font color="#CCCCCC"> of</font><font color="#E5E5E5"> work on this but this was all</font>

39
00:01:32,840 --> 00:01:38,390
for<font color="#E5E5E5"> the developer machines because</font>

40
00:01:35,180 --> 00:01:39,860
everyone else<font color="#E5E5E5"> was using</font><font color="#CCCCCC"> well the</font>

41
00:01:38,390 --> 00:01:42,049
production machines<font color="#CCCCCC"> they looked like</font>

42
00:01:39,860 --> 00:01:44,150
<font color="#E5E5E5">that and they ran sent ran Red Hat for</font>

43
00:01:42,049 --> 00:01:46,250
not Red Hat<font color="#E5E5E5"> Enterprise Linux for like</font>

44
00:01:44,150 --> 00:01:49,369
older than<font color="#CCCCCC"> that like Red Hat for this</font>

45
00:01:46,250 --> 00:01:50,720
was in the early<font color="#E5E5E5"> 2000s and but the cool</font>

46
00:01:49,369 --> 00:01:52,880
thing<font color="#CCCCCC"> is</font><font color="#E5E5E5"> if someone else worried about</font>

47
00:01:50,720 --> 00:01:53,298
<font color="#CCCCCC">rpms so I didn't I didn't have to worry</font>

48
00:01:52,880 --> 00:01:55,729
<font color="#E5E5E5">about that</font>

49
00:01:53,299 --> 00:01:58,250
<font color="#E5E5E5">I knew about</font><font color="#CCCCCC"> C pen to</font><font color="#E5E5E5"> rpm but I never</font>

50
00:01:55,729 --> 00:01:59,509
<font color="#E5E5E5">had to deal with it and at</font><font color="#CCCCCC"> the</font><font color="#E5E5E5"> time at</font>

51
00:01:58,250 --> 00:02:01,400
the<font color="#CCCCCC"> time I was doing</font><font color="#E5E5E5"> this I</font><font color="#CCCCCC"> was very</font>

52
00:01:59,509 --> 00:02:05,990
<font color="#E5E5E5">much in the camp of using the system</font>

53
00:02:01,400 --> 00:02:07,549
<font color="#CCCCCC">Perl and using are</font><font color="#E5E5E5"> using packaging that</font>

54
00:02:05,990 --> 00:02:09,378
<font color="#E5E5E5">the system provides</font><font color="#CCCCCC"> for all the apparel</font>

55
00:02:07,549 --> 00:02:13,580
modules even<font color="#E5E5E5"> if you have hundreds of</font>

56
00:02:09,378 --> 00:02:15,380
them<font color="#E5E5E5"> so</font><font color="#CCCCCC"> then I joined infinity</font><font color="#E5E5E5"> and I</font>

57
00:02:13,580 --> 00:02:18,000
worked with some<font color="#CCCCCC"> really cool superheroes</font>

58
00:02:15,380 --> 00:02:19,740
and the

59
00:02:18,000 --> 00:02:21,210
<font color="#E5E5E5">infinity</font><font color="#CCCCCC"> today we didn't use a packaging</font>

60
00:02:19,740 --> 00:02:23,160
<font color="#E5E5E5">meant for most of the projects</font><font color="#CCCCCC"> that I</font>

61
00:02:21,210 --> 00:02:25,530
worked on anyway we just<font color="#CCCCCC"> used C</font><font color="#E5E5E5"> pen or</font>

62
00:02:23,160 --> 00:02:27,060
CPM and it was<font color="#E5E5E5"> really great</font><font color="#CCCCCC"> I did notice</font>

63
00:02:25,530 --> 00:02:28,560
that when I was<font color="#E5E5E5"> installing stuff for</font>

64
00:02:27,060 --> 00:02:30,060
this work code that most of the modules

65
00:02:28,560 --> 00:02:32,640
came from this<font color="#E5E5E5"> man</font><font color="#CCCCCC"> who</font><font color="#E5E5E5"> cannot be here</font>

66
00:02:30,060 --> 00:02:34,290
<font color="#E5E5E5">but I</font><font color="#CCCCCC"> like my</font><font color="#E5E5E5"> first day when I'm</font><font color="#CCCCCC"> here</font><font color="#E5E5E5"> I</font>

67
00:02:32,640 --> 00:02:35,820
<font color="#E5E5E5">was I've been</font><font color="#CCCCCC"> sawing</font><font color="#E5E5E5"> like 70 things that</font>

68
00:02:34,290 --> 00:02:37,230
are all from one person it was it was a

69
00:02:35,820 --> 00:02:39,269
bit<font color="#CCCCCC"> interesting when I made that</font>

70
00:02:37,230 --> 00:02:41,459
correlation but then I<font color="#E5E5E5"> started</font><font color="#CCCCCC"> working</font>

71
00:02:39,270 --> 00:02:43,260
<font color="#E5E5E5">for Mozilla and that was really exciting</font>

72
00:02:41,460 --> 00:02:45,690
<font color="#CCCCCC">like I</font><font color="#E5E5E5"> really love working for Mozilla</font>

73
00:02:43,260 --> 00:02:48,329
Mozilla<font color="#E5E5E5"> is wonderful I got to work on</font>

74
00:02:45,690 --> 00:02:50,160
<font color="#CCCCCC">bugzilla</font><font color="#E5E5E5"> which is the bug tracker and</font>

75
00:02:48,330 --> 00:02:52,950
it's incredibly important<font color="#CCCCCC"> and it's it's</font>

76
00:02:50,160 --> 00:02:54,930
<font color="#CCCCCC">difficult</font><font color="#E5E5E5"> to characterize my experience</font>

77
00:02:52,950 --> 00:02:56,880
is working at Mozilla<font color="#E5E5E5"> on</font><font color="#CCCCCC"> bugzilla it's</font>

78
00:02:54,930 --> 00:02:59,850
it's incredibly difficult it's like it's

79
00:02:56,880 --> 00:03:05,640
a whole<font color="#E5E5E5"> complicated situation but it's</font>

80
00:02:59,850 --> 00:03:07,410
been fun so<font color="#CCCCCC"> bugzilla I kind</font><font color="#E5E5E5"> of provide a</font>

81
00:03:05,640 --> 00:03:09,480
little<font color="#CCCCCC"> bit of background about why the</font>

82
00:03:07,410 --> 00:03:12,120
cart while using carton for this was<font color="#E5E5E5"> a</font>

83
00:03:09,480 --> 00:03:15,480
<font color="#E5E5E5">uphill battle and so I want to</font><font color="#CCCCCC"> tell</font>

84
00:03:12,120 --> 00:03:17,220
<font color="#CCCCCC">about my first impressions</font><font color="#E5E5E5"> for using for</font>

85
00:03:15,480 --> 00:03:18,840
using it my first actual impression for

86
00:03:17,220 --> 00:03:21,180
using for doing bugs<font color="#E5E5E5"> all four years ago</font>

87
00:03:18,840 --> 00:03:23,700
was that I had<font color="#E5E5E5"> to learn bzr what the</font>

88
00:03:21,180 --> 00:03:25,019
hell<font color="#E5E5E5"> is</font><font color="#CCCCCC"> VCR</font><font color="#E5E5E5"> it's some was some kind of</font>

89
00:03:23,700 --> 00:03:26,640
source control thing I had to<font color="#E5E5E5"> use it for</font>

90
00:03:25,019 --> 00:03:28,440
<font color="#E5E5E5">about a year but we migrated off of that</font>

91
00:03:26,640 --> 00:03:29,850
we're on get now the second<font color="#CCCCCC"> thing as a</font>

92
00:03:28,440 --> 00:03:31,980
Perl programmer that's like had been

93
00:03:29,850 --> 00:03:35,010
<font color="#E5E5E5">working for</font><font color="#CCCCCC"> people</font><font color="#E5E5E5"> that do like modern</font>

94
00:03:31,980 --> 00:03:36,238
Perl stuff for like<font color="#CCCCCC"> Steven that</font><font color="#E5E5E5"> I was</font>

95
00:03:35,010 --> 00:03:37,530
<font color="#E5E5E5">this check setup thing that's in the</font>

96
00:03:36,239 --> 00:03:39,330
<font color="#CCCCCC">Bugzilla directory and</font><font color="#E5E5E5"> I was like what</font>

97
00:03:37,530 --> 00:03:41,400
is<font color="#CCCCCC"> that is</font><font color="#E5E5E5"> it like make file dot PL no</font>

98
00:03:39,330 --> 00:03:43,830
it's<font color="#E5E5E5"> not like make file the appeal how</font>

99
00:03:41,400 --> 00:03:45,330
do<font color="#E5E5E5"> we specify dependencies bugs</font><font color="#CCCCCC"> ill had</font>

100
00:03:43,830 --> 00:03:47,820
his own<font color="#E5E5E5"> way</font><font color="#CCCCCC"> of the specified</font>

101
00:03:45,330 --> 00:03:50,310
dependencies which was a constant

102
00:03:47,820 --> 00:03:51,720
<font color="#CCCCCC">defined in some module and it was kind</font>

103
00:03:50,310 --> 00:03:54,120
of<font color="#E5E5E5"> interesting because specify the</font>

104
00:03:51,720 --> 00:03:56,120
package<font color="#E5E5E5"> name the module name and also</font>

105
00:03:54,120 --> 00:03:59,160
<font color="#E5E5E5">the distribution name as far as I know</font>

106
00:03:56,120 --> 00:04:00,780
usually those there's not<font color="#E5E5E5"> those on a</font>

107
00:03:59,160 --> 00:04:03,780
one-to-one mapping like in the pause

108
00:04:00,780 --> 00:04:05,580
<font color="#CCCCCC">indexer but most people don't care about</font>

109
00:04:03,780 --> 00:04:07,410
the distribution name they care about

110
00:04:05,580 --> 00:04:08,580
<font color="#E5E5E5">them they depend on a particular package</font>

111
00:04:07,410 --> 00:04:10,650
and if<font color="#CCCCCC"> the package moves between</font>

112
00:04:08,580 --> 00:04:12,660
distributions that's fine<font color="#E5E5E5"> this</font><font color="#CCCCCC"> actually</font>

113
00:04:10,650 --> 00:04:15,600
is a problem<font color="#CCCCCC"> Bugzilla when lwp split out</font>

114
00:04:12,660 --> 00:04:17,459
some of their modules<font color="#E5E5E5"> but I do</font><font color="#CCCCCC"> rest</font><font color="#E5E5E5"> so</font>

115
00:04:15,600 --> 00:04:19,380
the next headache was install module<font color="#E5E5E5"> dot</font>

116
00:04:17,459 --> 00:04:21,510
PL which was this thing that<font color="#CCCCCC"> the</font>

117
00:04:19,380 --> 00:04:23,520
documentation recommended to not<font color="#E5E5E5"> use but</font>

118
00:04:21,510 --> 00:04:25,050
they still shipped with it what it was

119
00:04:23,520 --> 00:04:27,000
was a custom<font color="#CCCCCC"> Sipan client</font><font color="#E5E5E5"> that's</font>

120
00:04:25,050 --> 00:04:29,370
actually<font color="#E5E5E5"> being generous hi and I've had</font>

121
00:04:27,000 --> 00:04:32,040
copy and pasted parts of Sipan<font color="#CCCCCC"> P</font>

122
00:04:29,370 --> 00:04:34,440
and it installed stuff into the

123
00:04:32,040 --> 00:04:36,210
directory<font color="#CCCCCC"> on the route called lib</font><font color="#E5E5E5"> so I</font>

124
00:04:34,440 --> 00:04:38,310
wanted<font color="#E5E5E5"> to point out that the code for</font>

125
00:04:36,210 --> 00:04:40,020
bugs<font color="#E5E5E5"> though actually still now until Tom</font>

126
00:04:38,310 --> 00:04:43,020
submits a patch to me that to fix<font color="#E5E5E5"> this</font>

127
00:04:40,020 --> 00:04:45,870
<font color="#E5E5E5">is in the</font><font color="#CCCCCC"> route and everything that we</font>

128
00:04:43,020 --> 00:04:48,330
every third party dependency was<font color="#E5E5E5"> in Lib</font>

129
00:04:45,870 --> 00:04:50,910
now that is actually<font color="#E5E5E5"> kind of backwards</font>

130
00:04:48,330 --> 00:04:53,550
<font color="#CCCCCC">and that is the code that accomplished</font>

131
00:04:50,910 --> 00:04:55,530
<font color="#E5E5E5">that</font><font color="#CCCCCC"> we had a really fun experience with</font>

132
00:04:53,550 --> 00:04:57,150
<font color="#CCCCCC">Moo because back in an older</font><font color="#E5E5E5"> version of</font>

133
00:04:55,530 --> 00:04:59,909
<font color="#CCCCCC">Moo Moo thought that all</font><font color="#E5E5E5"> of our code</font>

134
00:04:57,150 --> 00:05:02,400
that was<font color="#E5E5E5"> like a</font><font color="#CCCCCC"> library and all of the</font>

135
00:04:59,910 --> 00:05:03,960
code<font color="#CCCCCC"> in</font><font color="#E5E5E5"> Lib was</font><font color="#CCCCCC"> first-party and so</font>

136
00:05:02,400 --> 00:05:06,989
warnings and things were turned on<font color="#E5E5E5"> the</font>

137
00:05:03,960 --> 00:05:08,489
wrong way<font color="#E5E5E5"> those that got fixed though so</font>

138
00:05:06,990 --> 00:05:12,060
since then I've been<font color="#E5E5E5"> working on</font><font color="#CCCCCC"> creating</font>

139
00:05:08,490 --> 00:05:13,380
<font color="#CCCCCC">new problems</font><font color="#E5E5E5"> and one</font><font color="#CCCCCC"> of my I think the</font>

140
00:05:12,060 --> 00:05:15,389
new problems are good they're kind of

141
00:05:13,380 --> 00:05:16,650
like<font color="#E5E5E5"> an investment</font><font color="#CCCCCC"> you get rid of</font><font color="#E5E5E5"> the</font>

142
00:05:15,389 --> 00:05:18,720
old<font color="#E5E5E5"> problems and you</font><font color="#CCCCCC"> have new ones and</font>

143
00:05:16,650 --> 00:05:21,270
so the first<font color="#E5E5E5"> thing I want to talk about</font>

144
00:05:18,720 --> 00:05:23,789
that was a problem<font color="#CCCCCC"> that I've solved and</font>

145
00:05:21,270 --> 00:05:25,500
created it was<font color="#CCCCCC"> can</font><font color="#E5E5E5"> inconsistent</font>

146
00:05:23,789 --> 00:05:28,349
environments and then we had

147
00:05:25,500 --> 00:05:29,639
inconsistent environments for my bugs

148
00:05:28,350 --> 00:05:32,310
<font color="#E5E5E5">all the bugs I'm talking about is the</font>

149
00:05:29,639 --> 00:05:34,620
insult<font color="#E5E5E5"> it's</font><font color="#CCCCCC"> Bugzilla mozilla.org</font><font color="#E5E5E5"> to be</font>

150
00:05:32,310 --> 00:05:35,820
clear but they<font color="#E5E5E5"> it's most of the most of</font>

151
00:05:34,620 --> 00:05:37,680
<font color="#E5E5E5">what I talk about is not important to</font>

152
00:05:35,820 --> 00:05:39,510
<font color="#E5E5E5">that but production runs on</font><font color="#CCCCCC"> sent OS 6</font>

153
00:05:37,680 --> 00:05:43,229
<font color="#E5E5E5">actually</font><font color="#CCCCCC"> I think it</font><font color="#E5E5E5"> runs on Red Hat</font>

154
00:05:39,510 --> 00:05:44,280
Enterprise Linux 6 but close enough<font color="#CCCCCC"> it</font>

155
00:05:43,229 --> 00:05:46,740
<font color="#E5E5E5">uses our PM's</font>

156
00:05:44,280 --> 00:05:49,859
and somebody else built the<font color="#CCCCCC"> RPMs as in</font>

157
00:05:46,740 --> 00:05:52,590
my career that's been the case<font color="#E5E5E5"> so I want</font>

158
00:05:49,860 --> 00:05:54,810
<font color="#E5E5E5">to actually thank</font><font color="#CCCCCC"> fubar who has been had</font>

159
00:05:52,590 --> 00:05:56,849
been<font color="#E5E5E5"> working on</font><font color="#CCCCCC"> Bugzilla</font><font color="#E5E5E5"> rpms before I</font>

160
00:05:54,810 --> 00:05:59,760
came<font color="#CCCCCC"> there and basically knew a lot</font>

161
00:05:56,849 --> 00:06:01,110
about<font color="#E5E5E5"> what the</font><font color="#CCCCCC"> dependencies were more a</font>

162
00:05:59,760 --> 00:06:03,000
little I think<font color="#E5E5E5"> in some cases</font><font color="#CCCCCC"> a bit more</font>

163
00:06:01,110 --> 00:06:05,220
than the developers did<font color="#CCCCCC"> themselves</font><font color="#E5E5E5"> so</font>

164
00:06:03,000 --> 00:06:06,990
then the developers use<font color="#E5E5E5"> fedora</font><font color="#CCCCCC"> so if you</font>

165
00:06:05,220 --> 00:06:09,389
<font color="#E5E5E5">have like you have</font><font color="#CCCCCC"> a VM on your desktop</font>

166
00:06:06,990 --> 00:06:10,800
<font color="#E5E5E5">using VirtualBox or VMware something</font>

167
00:06:09,389 --> 00:06:12,630
like that it would<font color="#CCCCCC"> be</font><font color="#E5E5E5"> running</font><font color="#CCCCCC"> Fedora</font><font color="#E5E5E5"> and</font>

168
00:06:10,800 --> 00:06:14,460
this is the other two people<font color="#CCCCCC"> that were</font>

169
00:06:12,630 --> 00:06:15,990
working<font color="#E5E5E5"> on</font><font color="#CCCCCC"> Bugzilla I think actually</font>

170
00:06:14,460 --> 00:06:18,330
<font color="#E5E5E5">sometimes your reason sent to a seven</font>

171
00:06:15,990 --> 00:06:21,440
but<font color="#E5E5E5"> Fedora sent to a seven not the same</font>

172
00:06:18,330 --> 00:06:23,609
<font color="#E5E5E5">as production but it</font><font color="#CCCCCC"> gets better</font><font color="#E5E5E5"> because</font>

173
00:06:21,440 --> 00:06:25,590
the way they install modules we

174
00:06:23,610 --> 00:06:29,220
sometimes we install<font color="#CCCCCC"> our PM's</font><font color="#E5E5E5"> and</font>

175
00:06:25,590 --> 00:06:32,159
sometimes we<font color="#E5E5E5"> use CPM</font><font color="#CCCCCC"> of course the Hugh</font>

176
00:06:29,220 --> 00:06:34,380
CPM<font color="#CCCCCC"> I think originally</font><font color="#E5E5E5"> they would have</font>

177
00:06:32,160 --> 00:06:36,330
to<font color="#E5E5E5"> use</font><font color="#CCCCCC"> the cPanel eCPM but I specified</font>

178
00:06:34,380 --> 00:06:37,950
every module<font color="#E5E5E5"> which</font><font color="#CCCCCC"> you could get by</font>

179
00:06:36,330 --> 00:06:39,530
repeatedly running check<font color="#E5E5E5"> set up and</font>

180
00:06:37,950 --> 00:06:42,539
collecting the modules<font color="#CCCCCC"> that it requires</font>

181
00:06:39,530 --> 00:06:43,650
at some point there was<font color="#CCCCCC"> a shim to</font><font color="#E5E5E5"> module</font>

182
00:06:42,539 --> 00:06:45,900
build

183
00:06:43,650 --> 00:06:47,789
and at that<font color="#E5E5E5"> point they could use CPM but</font>

184
00:06:45,900 --> 00:06:49,080
it was still kind<font color="#E5E5E5"> of really bad</font><font color="#CCCCCC"> so by</font>

185
00:06:47,790 --> 00:06:50,490
the<font color="#E5E5E5"> way continuous integration we've</font>

186
00:06:49,080 --> 00:06:51,870
been running continuous integration<font color="#E5E5E5"> test</font>

187
00:06:50,490 --> 00:06:54,990
for a long time and those<font color="#E5E5E5"> ran and sent</font>

188
00:06:51,870 --> 00:06:57,300
<font color="#E5E5E5">to s7</font><font color="#CCCCCC"> which is good to be one version</font>

189
00:06:54,990 --> 00:06:59,220
ahead of your production environment<font color="#CCCCCC"> but</font>

190
00:06:57,300 --> 00:07:01,200
<font color="#E5E5E5">then a thing happened there's this</font>

191
00:06:59,220 --> 00:07:02,880
repository<font color="#CCCCCC"> called version control tools</font>

192
00:07:01,200 --> 00:07:05,729
which is a bunch<font color="#E5E5E5"> of tools related to</font>

193
00:07:02,880 --> 00:07:09,930
Firefox development<font color="#E5E5E5"> and so</font><font color="#CCCCCC"> on and a</font>

194
00:07:05,730 --> 00:07:10,950
co-worker of mine<font color="#CCCCCC"> created a</font><font color="#E5E5E5"> pest thing</font>

195
00:07:09,930 --> 00:07:12,780
<font color="#E5E5E5">oh there's</font><font color="#CCCCCC"> a typo</font><font color="#E5E5E5"> there</font>

196
00:07:10,950 --> 00:07:14,610
<font color="#CCCCCC">no it's not that</font><font color="#E5E5E5"> bad created a testing</font>

197
00:07:12,780 --> 00:07:17,010
suite<font color="#E5E5E5"> to test an application that we</font>

198
00:07:14,610 --> 00:07:18,120
were using called<font color="#E5E5E5"> review board against</font>

199
00:07:17,010 --> 00:07:20,130
our bugs<font color="#CCCCCC"> oh because</font><font color="#E5E5E5"> we</font><font color="#CCCCCC"> had</font><font color="#E5E5E5"> this</font>

200
00:07:18,120 --> 00:07:21,570
integration stuff in it<font color="#E5E5E5"> and so he went</font>

201
00:07:20,130 --> 00:07:23,219
and<font color="#E5E5E5"> he created we had a docker container</font>

202
00:07:21,570 --> 00:07:24,930
at this time but<font color="#CCCCCC"> he didn't use that</font><font color="#E5E5E5"> he</font>

203
00:07:23,220 --> 00:07:30,900
went and<font color="#CCCCCC"> created his own</font><font color="#E5E5E5"> based on Ubuntu</font>

204
00:07:24,930 --> 00:07:32,760
1404 and then at some point we also had

205
00:07:30,900 --> 00:07:34,799
Amazon Linux although this has<font color="#E5E5E5"> gone away</font>

206
00:07:32,760 --> 00:07:38,159
so we had about<font color="#E5E5E5"> five different systems</font>

207
00:07:34,800 --> 00:07:39,900
<font color="#CCCCCC">and each of them were installing</font><font color="#E5E5E5"> Debian</font>

208
00:07:38,160 --> 00:07:42,690
<font color="#E5E5E5">and</font><font color="#CCCCCC"> so I see pen packages in a different</font>

209
00:07:39,900 --> 00:07:46,409
way including<font color="#E5E5E5"> Debian ones and that was</font>

210
00:07:42,690 --> 00:07:49,080
kind of fun so just<font color="#CCCCCC"> to relax for a</font>

211
00:07:46,410 --> 00:07:50,250
moment<font color="#CCCCCC"> I didn't actually set out to</font>

212
00:07:49,080 --> 00:07:51,270
<font color="#E5E5E5">solve the problem of having</font><font color="#CCCCCC"> a bunch of</font>

213
00:07:50,250 --> 00:07:54,180
different<font color="#E5E5E5"> environments</font>

214
00:07:51,270 --> 00:07:56,039
I want to didn't want<font color="#CCCCCC"> to solve it I had</font>

215
00:07:54,180 --> 00:07:57,990
a<font color="#E5E5E5"> different problem my problem</font><font color="#CCCCCC"> is that</font>

216
00:07:56,040 --> 00:07:59,670
laptops don't like me and<font color="#E5E5E5"> I have</font>

217
00:07:57,990 --> 00:08:01,710
hardware failure all the<font color="#CCCCCC"> time not</font><font color="#E5E5E5"> that</font>

218
00:07:59,670 --> 00:08:04,170
literally all the time<font color="#E5E5E5"> but like enough</font>

219
00:08:01,710 --> 00:08:06,719
that it's been annoying<font color="#E5E5E5"> so oh snap my</font>

220
00:08:04,170 --> 00:08:07,860
<font color="#CCCCCC">laptop's broke that's annoying</font><font color="#E5E5E5"> how long</font>

221
00:08:06,720 --> 00:08:12,270
is it gonna take<font color="#E5E5E5"> me to reinstall</font>

222
00:08:07,860 --> 00:08:13,370
<font color="#CCCCCC">Bugzilla well</font><font color="#E5E5E5"> a day or two about two</font>

223
00:08:12,270 --> 00:08:16,409
years<font color="#CCCCCC"> ago this</font><font color="#E5E5E5"> would be a true statement</font>

224
00:08:13,370 --> 00:08:19,020
<font color="#CCCCCC">so at some point I started disusing</font>

225
00:08:16,410 --> 00:08:20,850
<font color="#E5E5E5">because we had the module build shim on</font>

226
00:08:19,020 --> 00:08:23,250
our own dependency specification I

227
00:08:20,850 --> 00:08:24,540
started using that and then to get<font color="#E5E5E5"> it to</font>

228
00:08:23,250 --> 00:08:25,860
work<font color="#CCCCCC"> so I didn't have to modify every</font>

229
00:08:24,540 --> 00:08:28,310
file because<font color="#E5E5E5"> at one point I</font><font color="#CCCCCC"> was</font>

230
00:08:25,860 --> 00:08:30,840
modifying every file to use local Lib

231
00:08:28,310 --> 00:08:33,330
<font color="#E5E5E5">every entry point</font><font color="#CCCCCC"> into the</font><font color="#E5E5E5"> code which is</font>

232
00:08:30,840 --> 00:08:35,010
like every script and every not every

233
00:08:33,330 --> 00:08:36,570
CGI because<font color="#E5E5E5"> we're actually just a mod</font>

234
00:08:35,010 --> 00:08:42,479
<font color="#CCCCCC">Perl</font><font color="#E5E5E5"> application that's pretending to be</font>

235
00:08:36,570 --> 00:08:43,800
CGI but yeah<font color="#E5E5E5"> so I tried patching all the</font>

236
00:08:42,479 --> 00:08:46,110
files with local it didn't work

237
00:08:43,799 --> 00:08:48,329
I asked at<font color="#CCCCCC"> some point I do remember</font>

238
00:08:46,110 --> 00:08:49,860
<font color="#E5E5E5">asking can</font><font color="#CCCCCC"> we use local Lib and this is</font>

239
00:08:48,330 --> 00:08:52,290
at the<font color="#CCCCCC"> time</font><font color="#E5E5E5"> when they were there were I</font>

240
00:08:49,860 --> 00:08:55,260
was just kind of<font color="#E5E5E5"> junior on the team and</font>

241
00:08:52,290 --> 00:08:56,610
I asked and the answer was was pretty

242
00:08:55,260 --> 00:08:58,920
much<font color="#CCCCCC"> no</font>

243
00:08:56,610 --> 00:09:01,170
so we<font color="#CCCCCC"> don't</font><font color="#E5E5E5"> use local</font><font color="#CCCCCC"> Lib</font><font color="#E5E5E5"> so what I did</font>

244
00:08:58,920 --> 00:09:04,860
ask is how<font color="#E5E5E5"> about I add the local Lib</font>

245
00:09:01,170 --> 00:09:08,069
Perl<font color="#E5E5E5"> 5 directory</font><font color="#CCCCCC"> 2 to the top of every</font>

246
00:09:04,860 --> 00:09:10,470
<font color="#E5E5E5">to every non module file and that patch</font>

247
00:09:08,070 --> 00:09:12,690
got applied so I did that<font color="#E5E5E5"> so we weren't</font>

248
00:09:10,470 --> 00:09:14,940
using<font color="#E5E5E5"> local Lib but we were loading all</font>

249
00:09:12,690 --> 00:09:16,410
of<font color="#CCCCCC"> the</font><font color="#E5E5E5"> modules from</font><font color="#CCCCCC"> the local directory</font>

250
00:09:14,940 --> 00:09:19,500
<font color="#E5E5E5">the</font><font color="#CCCCCC"> same which is</font><font color="#E5E5E5"> the same directory</font>

251
00:09:16,410 --> 00:09:20,790
that<font color="#CCCCCC"> Carton uses by the way I had</font><font color="#E5E5E5"> wanted</font>

252
00:09:19,500 --> 00:09:25,260
to use<font color="#CCCCCC"> Carton</font><font color="#E5E5E5"> but I didn't bring it up</font>

253
00:09:20,790 --> 00:09:27,510
until<font color="#E5E5E5"> much later so we're not</font><font color="#CCCCCC"> using</font>

254
00:09:25,260 --> 00:09:28,800
local Lib but we have local Lib local

255
00:09:27,510 --> 00:09:31,590
Lib Perl 5 in our<font color="#E5E5E5"> path</font>

256
00:09:28,800 --> 00:09:34,530
next thing I want to<font color="#CCCCCC"> bundle I want to</font>

257
00:09:31,590 --> 00:09:37,590
use I want every<font color="#E5E5E5"> module that I'm using</font>

258
00:09:34,530 --> 00:09:39,089
nicely packaged and I want to use carton

259
00:09:37,590 --> 00:09:41,460
<font color="#E5E5E5">I've been looking forward to doing this</font>

260
00:09:39,090 --> 00:09:43,050
I had used carton before previous to

261
00:09:41,460 --> 00:09:45,150
<font color="#CCCCCC">Bugzilla and I was excited</font><font color="#E5E5E5"> to get back</font>

262
00:09:43,050 --> 00:09:48,000
to having like a complete specification

263
00:09:45,150 --> 00:09:49,590
<font color="#E5E5E5">of all my dependencies which</font><font color="#CCCCCC"> Cartman if</font>

264
00:09:48,000 --> 00:09:51,030
you do not what I am if<font color="#E5E5E5"> you do not want</font>

265
00:09:49,590 --> 00:09:54,090
carton provides we will have a bit<font color="#CCCCCC"> of</font>

266
00:09:51,030 --> 00:09:55,980
time for<font color="#CCCCCC"> Q</font><font color="#E5E5E5"> Q&A</font><font color="#CCCCCC"> on that but anyway so the</font>

267
00:09:54,090 --> 00:09:59,910
carton documentation disagrees<font color="#E5E5E5"> the</font>

268
00:09:55,980 --> 00:10:03,660
carton documentation says that<font color="#E5E5E5"> a you</font>

269
00:09:59,910 --> 00:10:05,189
can't use the system<font color="#E5E5E5"> Perl if it's on</font>

270
00:10:03,660 --> 00:10:07,620
certain<font color="#E5E5E5"> system so this basically means</font>

271
00:10:05,190 --> 00:10:11,940
<font color="#CCCCCC">Red Hat because they split off</font><font color="#E5E5E5"> core</font>

272
00:10:07,620 --> 00:10:13,800
modules<font color="#CCCCCC"> it also says that you</font><font color="#E5E5E5"> can't run</font>

273
00:10:11,940 --> 00:10:15,360
<font color="#CCCCCC">it without</font><font color="#E5E5E5"> using</font><font color="#CCCCCC"> cart and exec and this</font>

274
00:10:13,800 --> 00:10:19,949
is also not<font color="#CCCCCC"> true and I think this is</font>

275
00:10:15,360 --> 00:10:22,920
known and<font color="#E5E5E5"> agreed</font><font color="#CCCCCC"> to not</font><font color="#E5E5E5"> be true however</font>

276
00:10:19,950 --> 00:10:25,320
<font color="#CCCCCC">a</font><font color="#E5E5E5"> is basically true like you</font><font color="#CCCCCC"> really</font>

277
00:10:22,920 --> 00:10:26,640
<font color="#CCCCCC">shouldn't use</font><font color="#E5E5E5"> the system</font><font color="#CCCCCC"> Perl - you can</font>

278
00:10:25,320 --> 00:10:27,870
if you<font color="#CCCCCC"> try to use the system perl with</font>

279
00:10:26,640 --> 00:10:29,300
carton and install stuff it's going to

280
00:10:27,870 --> 00:10:31,320
get confused and it's going<font color="#E5E5E5"> to think</font>

281
00:10:29,300 --> 00:10:32,670
modules that<font color="#CCCCCC"> are core modules are</font><font color="#E5E5E5"> not</font>

282
00:10:31,320 --> 00:10:34,560
core modules and it's it's just<font color="#CCCCCC"> not</font>

283
00:10:32,670 --> 00:10:36,479
<font color="#CCCCCC">going</font><font color="#E5E5E5"> to work but you can fix this so</font>

284
00:10:34,560 --> 00:10:38,550
what<font color="#E5E5E5"> you can do is you can build your</font>

285
00:10:36,480 --> 00:10:40,410
own<font color="#E5E5E5"> Perl that's the same version</font><font color="#CCCCCC"> as</font><font color="#E5E5E5"> the</font>

286
00:10:38,550 --> 00:10:42,810
system<font color="#E5E5E5"> one so this is</font><font color="#CCCCCC"> a script called</font>

287
00:10:40,410 --> 00:10:44,550
<font color="#CCCCCC">Bill a</font><font color="#E5E5E5"> Perl bit using Perl build the</font>

288
00:10:42,810 --> 00:10:46,560
script is called<font color="#E5E5E5"> build vanilla Perl</font>

289
00:10:44,550 --> 00:10:47,729
<font color="#E5E5E5">which I wrote in duh it's a little bit</font>

290
00:10:46,560 --> 00:10:49,650
hard to see<font color="#CCCCCC"> but this is taking the Perl</font>

291
00:10:47,730 --> 00:10:51,090
version number and<font color="#E5E5E5"> running Perl build on</font>

292
00:10:49,650 --> 00:10:52,829
whatever<font color="#E5E5E5"> that version is with some flags</font>

293
00:10:51,090 --> 00:10:54,660
<font color="#E5E5E5">that I think are vaguely compatible with</font>

294
00:10:52,830 --> 00:10:58,530
what the distraught was testing this<font color="#CCCCCC"> on</font>

295
00:10:54,660 --> 00:11:00,420
worked with multiple<font color="#E5E5E5"> distros actually so</font>

296
00:10:58,530 --> 00:11:03,060
then you you have<font color="#E5E5E5"> this you</font><font color="#CCCCCC"> have your</font><font color="#E5E5E5"> own</font>

297
00:11:00,420 --> 00:11:05,640
Perl<font color="#CCCCCC"> you install carton</font><font color="#E5E5E5"> to that into</font>

298
00:11:03,060 --> 00:11:07,349
that<font color="#CCCCCC"> Perl and</font><font color="#E5E5E5"> then you have cartons all</font>

299
00:11:05,640 --> 00:11:09,120
of its<font color="#CCCCCC"> dependencies and</font><font color="#E5E5E5"> you have carton</font>

300
00:11:07,350 --> 00:11:10,290
fat pack itself<font color="#E5E5E5"> that means that the cart</font>

301
00:11:09,120 --> 00:11:12,000
<font color="#E5E5E5">and executable gets put into</font>

302
00:11:10,290 --> 00:11:17,639
directory inside the<font color="#E5E5E5"> local directory</font>

303
00:11:12,000 --> 00:11:19,740
that<font color="#E5E5E5"> it manages and then you just get</font>

304
00:11:17,639 --> 00:11:21,810
rid of all<font color="#CCCCCC"> of that we throw</font><font color="#E5E5E5"> away all of</font>

305
00:11:19,740 --> 00:11:24,540
<font color="#E5E5E5">our hopes and dreams and we start using</font>

306
00:11:21,810 --> 00:11:27,388
<font color="#E5E5E5">the system</font><font color="#CCCCCC"> pearl again</font><font color="#E5E5E5"> so we use the</font>

307
00:11:24,540 --> 00:11:35,120
system<font color="#E5E5E5"> pearl to reinstall</font><font color="#CCCCCC"> Carton this</font>

308
00:11:27,389 --> 00:11:37,350
time<font color="#CCCCCC"> hold on missus I and this time we</font>

309
00:11:35,120 --> 00:11:40,199
<font color="#E5E5E5">in the bottom part</font><font color="#CCCCCC"> of the slide which</font>

310
00:11:37,350 --> 00:11:41,940
capsule it's the previous steps we rerun

311
00:11:40,199 --> 00:11:44,459
the cart<font color="#CCCCCC"> and</font><font color="#E5E5E5"> insult using the fat pack</font>

312
00:11:41,940 --> 00:11:46,319
version<font color="#CCCCCC"> cache deployment basically</font>

313
00:11:44,459 --> 00:11:48,268
prevents it from looking<font color="#CCCCCC"> at the internet</font>

314
00:11:46,319 --> 00:11:49,889
and<font color="#E5E5E5"> looking and only looking at what his</font>

315
00:11:48,269 --> 00:11:51,630
head has already downloaded<font color="#CCCCCC"> so</font><font color="#E5E5E5"> it has</font>

316
00:11:49,889 --> 00:11:53,880
that complete specification<font color="#E5E5E5"> that it got</font>

317
00:11:51,630 --> 00:11:55,589
<font color="#E5E5E5">from</font><font color="#CCCCCC"> the real pearl</font><font color="#E5E5E5"> in the system I</font><font color="#CCCCCC"> have</font>

318
00:11:53,880 --> 00:11:58,800
<font color="#E5E5E5">not the</font><font color="#CCCCCC"> real pearl but the the pearl</font>

319
00:11:55,589 --> 00:12:00,600
that's not messed up so this<font color="#E5E5E5"> is pretty</font>

320
00:11:58,800 --> 00:12:02,370
<font color="#E5E5E5">good this this is a few of bit of</font>

321
00:12:00,600 --> 00:12:03,839
annoying steps though and I<font color="#E5E5E5"> think that</font>

322
00:12:02,370 --> 00:12:05,759
it would<font color="#CCCCCC"> be frustrating to</font><font color="#E5E5E5"> do this for</font>

323
00:12:03,839 --> 00:12:08,480
five different systems<font color="#E5E5E5"> so I wondered</font>

324
00:12:05,759 --> 00:12:13,769
<font color="#E5E5E5">about abstracting it</font><font color="#CCCCCC"> I kind of think</font>

325
00:12:08,480 --> 00:12:16,980
that that we<font color="#E5E5E5"> could use something like a</font>

326
00:12:13,769 --> 00:12:18,810
<font color="#E5E5E5">function that</font><font color="#CCCCCC"> kind of is a function over</font>

327
00:12:16,980 --> 00:12:20,850
<font color="#E5E5E5">the operating system over the Linux</font>

328
00:12:18,810 --> 00:12:24,329
distribution and the<font color="#E5E5E5"> Perl version and</font>

329
00:12:20,850 --> 00:12:29,190
the list of dependencies<font color="#E5E5E5"> and it could</font>

330
00:12:24,329 --> 00:12:31,380
spit out what the what it is so it<font color="#CCCCCC"> would</font>

331
00:12:29,190 --> 00:12:33,540
be nice<font color="#CCCCCC"> to write such a function</font><font color="#E5E5E5"> however</font>

332
00:12:31,380 --> 00:12:36,149
<font color="#E5E5E5">it's not</font><font color="#CCCCCC"> really possible but we have</font>

333
00:12:33,540 --> 00:12:37,469
docker so we can do something<font color="#CCCCCC"> similar</font><font color="#E5E5E5"> to</font>

334
00:12:36,149 --> 00:12:43,319
writing<font color="#E5E5E5"> a function</font><font color="#CCCCCC"> that operates</font><font color="#E5E5E5"> on a</font>

335
00:12:37,470 --> 00:12:45,769
system<font color="#E5E5E5"> I don't</font><font color="#CCCCCC"> know how to do slides</font>

336
00:12:43,319 --> 00:12:45,769
apparently

337
00:12:48,090 --> 00:12:53,640
there we go<font color="#CCCCCC"> so how do we</font><font color="#E5E5E5"> do this well</font>

338
00:12:58,710 --> 00:13:07,570
bad form<font color="#E5E5E5"> there we go i parent</font><font color="#CCCCCC"> lead made</font>

339
00:13:05,740 --> 00:13:09,220
sub slides and subsides<font color="#CCCCCC"> are</font><font color="#E5E5E5"> a thing</font><font color="#CCCCCC"> I</font>

340
00:13:07,570 --> 00:13:10,780
don't<font color="#CCCCCC"> understand</font><font color="#E5E5E5"> how it works</font><font color="#CCCCCC"> so there's</font>

341
00:13:09,220 --> 00:13:13,300
<font color="#E5E5E5">I wanted to modify the dockerfile</font>

342
00:13:10,780 --> 00:13:15,610
language<font color="#CCCCCC"> I thought this</font><font color="#E5E5E5"> would be</font><font color="#CCCCCC"> fun to</font>

343
00:13:13,300 --> 00:13:18,910
create like a<font color="#CCCCCC"> dockerfile function that</font>

344
00:13:15,610 --> 00:13:20,020
is parameterised<font color="#E5E5E5"> over the git repo and</font>

345
00:13:18,910 --> 00:13:23,350
then when you have<font color="#CCCCCC"> that</font><font color="#E5E5E5"> dockerfile</font>

346
00:13:20,020 --> 00:13:25,060
function you could have your<font color="#CCCCCC"> set</font><font color="#E5E5E5"> up the</font>

347
00:13:23,350 --> 00:13:27,970
base<font color="#E5E5E5"> system to match whatever production</font>

348
00:13:25,060 --> 00:13:30,640
looks<font color="#E5E5E5"> like and then run it but</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> I</font>

349
00:13:27,970 --> 00:13:32,170
didn't actually end<font color="#E5E5E5"> up doing</font><font color="#CCCCCC"> that like I</font>

350
00:13:30,640 --> 00:13:34,900
thought<font color="#E5E5E5"> about it but I did something</font>

351
00:13:32,170 --> 00:13:38,620
<font color="#CCCCCC">kind of worse I kind of wrapped docker</font>

352
00:13:34,900 --> 00:13:40,420
in<font color="#E5E5E5"> Perl</font><font color="#CCCCCC"> well I made a DSL that generates</font>

353
00:13:38,620 --> 00:13:44,350
a docker file and<font color="#CCCCCC"> that lets me use Perl</font>

354
00:13:40,420 --> 00:13:46,420
subroutines<font color="#E5E5E5"> to to have consistent to</font>

355
00:13:44,350 --> 00:13:51,970
have repeatable repeatable environments

356
00:13:46,420 --> 00:13:54,010
<font color="#E5E5E5">this is hard to read but basically the</font>

357
00:13:51,970 --> 00:13:55,870
<font color="#CCCCCC">first few</font><font color="#E5E5E5"> lines are all the setting up a</font>

358
00:13:54,010 --> 00:13:57,790
sent to a6 environment that matches our

359
00:13:55,870 --> 00:13:59,770
production and then it calls<font color="#E5E5E5"> this</font>

360
00:13:57,790 --> 00:14:03,160
subroutine down at the bottom<font color="#E5E5E5"> to</font><font color="#CCCCCC"> build</font>

361
00:13:59,770 --> 00:14:04,689
all<font color="#CCCCCC"> of the dependencies</font><font color="#E5E5E5"> and the end</font><font color="#CCCCCC"> up</font>

362
00:14:03,160 --> 00:14:06,069
<font color="#CCCCCC">dock the docker file you end up with you</font>

363
00:14:04,690 --> 00:14:09,580
can't<font color="#CCCCCC"> definitely not read but I want to</font>

364
00:14:06,070 --> 00:14:12,550
show<font color="#CCCCCC"> for length is</font><font color="#E5E5E5"> it's that the same</font>

365
00:14:09,580 --> 00:14:13,720
thing is<font color="#CCCCCC"> possible for a bun too and then</font>

366
00:14:12,550 --> 00:14:17,109
the same<font color="#CCCCCC"> thing is</font><font color="#E5E5E5"> possible for sent to</font>

367
00:14:13,720 --> 00:14:19,330
<font color="#CCCCCC">s7</font><font color="#E5E5E5"> and then so we have these pearls</font>

368
00:14:17,110 --> 00:14:22,900
files that<font color="#E5E5E5"> generate docker files and</font>

369
00:14:19,330 --> 00:14:25,660
then of course<font color="#CCCCCC"> do want to</font><font color="#E5E5E5"> use make to do</font>

370
00:14:22,900 --> 00:14:27,550
the build process so this builds docker

371
00:14:25,660 --> 00:14:28,870
files and then it builds<font color="#E5E5E5"> a docker</font>

372
00:14:27,550 --> 00:14:30,250
container and then it runs<font color="#E5E5E5"> the docker</font>

373
00:14:28,870 --> 00:14:33,280
container and<font color="#E5E5E5"> in running</font><font color="#CCCCCC"> the docker</font>

374
00:14:30,250 --> 00:14:35,110
container it produces all of<font color="#CCCCCC"> tarball of</font>

375
00:14:33,280 --> 00:14:37,990
all the dependencies<font color="#E5E5E5"> as previously</font>

376
00:14:35,110 --> 00:14:39,790
specified<font color="#E5E5E5"> so then I would just have</font><font color="#CCCCCC"> a</font>

377
00:14:37,990 --> 00:14:41,950
target make<font color="#E5E5E5"> upload that uploads it to an</font>

378
00:14:39,790 --> 00:14:44,319
s3 bucket<font color="#CCCCCC"> each of the the</font><font color="#E5E5E5"> tar balls for</font>

379
00:14:41,950 --> 00:14:46,960
each of the different systems<font color="#CCCCCC"> and I just</font>

380
00:14:44,320 --> 00:14:48,970
need an s3<font color="#CCCCCC"> bucket and I asked</font><font color="#E5E5E5"> our ops</font>

381
00:14:46,960 --> 00:14:50,590
guy I said<font color="#CCCCCC"> hey fubar</font><font color="#E5E5E5"> would you never</font>

382
00:14:48,970 --> 00:14:53,080
<font color="#E5E5E5">would you like to never have to</font><font color="#CCCCCC"> make</font><font color="#E5E5E5"> an</font>

383
00:14:50,590 --> 00:14:55,180
RPM for<font color="#E5E5E5"> a Perl module again and wouldn't</font>

384
00:14:53,080 --> 00:14:57,550
you<font color="#CCCCCC"> know</font><font color="#E5E5E5"> it within about</font><font color="#CCCCCC"> 10</font><font color="#E5E5E5"> minutes he</font>

385
00:14:55,180 --> 00:15:00,040
had me an s3 bucket<font color="#E5E5E5"> and so we do that</font>

386
00:14:57,550 --> 00:15:01,780
<font color="#CCCCCC">and we updated the production pushed</font>

387
00:15:00,040 --> 00:15:05,969
scripts to pull down

388
00:15:01,780 --> 00:15:09,550
the tarball for every deployment<font color="#CCCCCC"> and</font>

389
00:15:05,970 --> 00:15:11,320
<font color="#E5E5E5">that</font><font color="#CCCCCC"> was school</font><font color="#E5E5E5"> now meanwhile version</font>

390
00:15:09,550 --> 00:15:13,479
control tools<font color="#E5E5E5"> which was using</font><font color="#CCCCCC"> their own</font>

391
00:15:11,320 --> 00:15:16,810
thing<font color="#E5E5E5"> in Ubuntu</font>

392
00:15:13,480 --> 00:15:19,270
we got them patched to do that there's

393
00:15:16,810 --> 00:15:21,130
the<font color="#CCCCCC"> thing there</font><font color="#E5E5E5"> there</font><font color="#CCCCCC"> were they</font><font color="#E5E5E5"> made it</font>

394
00:15:19,270 --> 00:15:23,500
<font color="#CCCCCC">significantly shorter in lines but it</font>

395
00:15:21,130 --> 00:15:26,140
also made it<font color="#E5E5E5"> faster so</font><font color="#CCCCCC"> the builds for</font>

396
00:15:23,500 --> 00:15:27,910
testing the<font color="#CCCCCC"> review board stuff</font><font color="#E5E5E5"> would the</font>

397
00:15:26,140 --> 00:15:30,100
slowest<font color="#E5E5E5"> part was</font><font color="#CCCCCC"> Bugzilla</font><font color="#E5E5E5"> and the the</font>

398
00:15:27,910 --> 00:15:32,469
slowest part of that was<font color="#E5E5E5"> building all of</font>

399
00:15:30,100 --> 00:15:34,780
<font color="#E5E5E5">the dependencies using</font><font color="#CCCCCC"> Sipan am it took</font>

400
00:15:32,470 --> 00:15:37,690
I think<font color="#CCCCCC"> 20 minutes</font><font color="#E5E5E5"> 30 minute basis</font><font color="#CCCCCC"> leo</font><font color="#E5E5E5"> I</font>

401
00:15:34,780 --> 00:15:40,150
save 30 37<font color="#CCCCCC"> minutes off of the bit</font><font color="#E5E5E5"> of</font>

402
00:15:37,690 --> 00:15:41,530
their build times and also<font color="#E5E5E5"> their build</font>

403
00:15:40,150 --> 00:15:43,930
stopped<font color="#CCCCCC"> breaking when</font><font color="#E5E5E5"> I added new</font>

404
00:15:41,530 --> 00:15:45,730
dependencies which I had<font color="#E5E5E5"> never done but</font>

405
00:15:43,930 --> 00:15:48,670
<font color="#E5E5E5">if in theory if I added new dependencies</font>

406
00:15:45,730 --> 00:15:51,820
<font color="#E5E5E5">their stuff would break</font><font color="#CCCCCC"> it also made our</font>

407
00:15:48,670 --> 00:15:53,920
<font color="#E5E5E5">test run faster because I upgraded our</font>

408
00:15:51,820 --> 00:15:55,660
testing suite<font color="#E5E5E5"> from this sounds weird but</font>

409
00:15:53,920 --> 00:15:56,620
from<font color="#CCCCCC"> sent</font><font color="#E5E5E5"> OS seven to send to us</font><font color="#CCCCCC"> six so</font>

410
00:15:55,660 --> 00:15:57,760
<font color="#CCCCCC">that it was actually the</font><font color="#E5E5E5"> same</font><font color="#CCCCCC"> as</font>

411
00:15:56,620 --> 00:15:59,470
production because I couldn't update

412
00:15:57,760 --> 00:16:02,350
production but I could make continuous

413
00:15:59,470 --> 00:16:04,270
integration<font color="#E5E5E5"> match production and I think</font>

414
00:16:02,350 --> 00:16:06,190
<font color="#CCCCCC">it did Amazon</font><font color="#E5E5E5"> Linux docker images later</font>

415
00:16:04,270 --> 00:16:07,750
after someone<font color="#CCCCCC"> else</font><font color="#E5E5E5"> created</font><font color="#CCCCCC"> there there</font>

416
00:16:06,190 --> 00:16:11,260
used to be docker images that matched

417
00:16:07,750 --> 00:16:14,560
<font color="#E5E5E5">Amazon Linux but now there are and so we</font>

418
00:16:11,260 --> 00:16:16,569
shoved 270 modules into<font color="#E5E5E5"> one carton and</font>

419
00:16:14,560 --> 00:16:21,160
it fit a bit like a horse in<font color="#E5E5E5"> a cup</font>

420
00:16:16,570 --> 00:16:24,570
that's<font color="#E5E5E5"> not a metaphor</font><font color="#CCCCCC"> and that's</font><font color="#E5E5E5"> that's</font>

421
00:16:21,160 --> 00:16:26,829
the first<font color="#CCCCCC"> that</font><font color="#E5E5E5"> was</font><font color="#CCCCCC"> the first battle</font><font color="#E5E5E5"> the</font>

422
00:16:24,570 --> 00:16:28,870
<font color="#CCCCCC">second result was once I could use</font>

423
00:16:26,830 --> 00:16:30,970
actually<font color="#CCCCCC"> use Sipan modules we could have</font>

424
00:16:28,870 --> 00:16:33,820
<font color="#E5E5E5">fight smaller battles and have bigger</font>

425
00:16:30,970 --> 00:16:35,020
wins<font color="#E5E5E5"> so for instance the time in Moscow</font>

426
00:16:33,820 --> 00:16:37,000
<font color="#E5E5E5">was wrong</font>

427
00:16:35,020 --> 00:16:38,740
the our bug tracker is global we have

428
00:16:37,000 --> 00:16:41,740
users from all<font color="#CCCCCC"> over the world including</font>

429
00:16:38,740 --> 00:16:43,690
in Russia<font color="#E5E5E5"> and the time zones hit change</font>

430
00:16:41,740 --> 00:16:46,720
at some point<font color="#E5E5E5"> and the fixture that was</font>

431
00:16:43,690 --> 00:16:50,410
updating date<font color="#E5E5E5"> time</font><font color="#CCCCCC"> timezone so</font><font color="#E5E5E5"> that was</font>

432
00:16:46,720 --> 00:16:52,180
good<font color="#E5E5E5"> I also got to use</font><font color="#CCCCCC"> Moo I used move</font>

433
00:16:50,410 --> 00:16:54,130
for generating<font color="#E5E5E5"> content security</font><font color="#CCCCCC"> policies</font>

434
00:16:52,180 --> 00:16:55,689
<font color="#CCCCCC">and as it is</font><font color="#E5E5E5"> now my co-workers are</font>

435
00:16:54,130 --> 00:16:57,310
starting to write new code that's using

436
00:16:55,690 --> 00:16:59,710
<font color="#CCCCCC">Moo</font><font color="#E5E5E5"> in Bugzilla</font><font color="#CCCCCC"> and they're</font><font color="#E5E5E5"> actually</font>

437
00:16:57,310 --> 00:17:02,079
enjoying<font color="#CCCCCC"> it which is really</font><font color="#E5E5E5"> good we were</font>

438
00:16:59,710 --> 00:17:04,780
able to<font color="#E5E5E5"> pin</font><font color="#CCCCCC"> DB D my sequel to prevent</font>

439
00:17:02,080 --> 00:17:07,480
things from breaking which happened

440
00:17:04,780 --> 00:17:09,399
<font color="#CCCCCC">recently we</font><font color="#E5E5E5"> upgraded Jason and Jason XS</font>

441
00:17:07,480 --> 00:17:11,920
I realized that<font color="#E5E5E5"> we should</font><font color="#CCCCCC"> probably have</font>

442
00:17:09,400 --> 00:17:13,810
maybe be using cPanel Jason<font color="#E5E5E5"> XS which is</font>

443
00:17:11,920 --> 00:17:15,580
on my<font color="#CCCCCC"> road map all of that's pretty</font>

444
00:17:13,810 --> 00:17:17,290
boring but<font color="#E5E5E5"> basically I could update</font>

445
00:17:15,579 --> 00:17:19,240
stuff and updating stuff was something

446
00:17:17,290 --> 00:17:20,470
that<font color="#E5E5E5"> I had wanted</font><font color="#CCCCCC"> to do for</font><font color="#E5E5E5"> about - this</font>

447
00:17:19,240 --> 00:17:22,750
was two<font color="#E5E5E5"> years ago so I had been</font><font color="#CCCCCC"> wanting</font>

448
00:17:20,470 --> 00:17:24,819
<font color="#CCCCCC">to update</font><font color="#E5E5E5"> stuff for about two years but</font>

449
00:17:22,750 --> 00:17:26,440
<font color="#CCCCCC">more exciting and doing the moving up</font>

450
00:17:24,819 --> 00:17:28,329
then updating stuff is shipping features

451
00:17:26,440 --> 00:17:30,640
so I had a feature request which was

452
00:17:28,329 --> 00:17:32,530
<font color="#CCCCCC">make all</font><font color="#E5E5E5"> the users of</font><font color="#CCCCCC"> bugzilla hate me</font>

453
00:17:30,640 --> 00:17:35,650
<font color="#CCCCCC">then by making their passwords harder</font>

454
00:17:32,530 --> 00:17:37,720
and so this was this is<font color="#CCCCCC"> a very important</font>

455
00:17:35,650 --> 00:17:39,190
<font color="#CCCCCC">high level request</font><font color="#E5E5E5"> from like important</font>

456
00:17:37,720 --> 00:17:41,980
<font color="#CCCCCC">people that</font><font color="#E5E5E5"> wanted to make</font><font color="#CCCCCC"> sure we were</font>

457
00:17:39,190 --> 00:17:43,930
secure<font color="#E5E5E5"> so I asked a is</font><font color="#CCCCCC"> switches</font>

458
00:17:41,980 --> 00:17:45,220
<font color="#E5E5E5">enterprise information security what do</font>

459
00:17:43,930 --> 00:17:46,870
you recommend how do you want me to make

460
00:17:45,220 --> 00:17:48,730
<font color="#E5E5E5">passwords secure and they recommended a</font>

461
00:17:46,870 --> 00:17:50,110
<font color="#CCCCCC">sea library</font><font color="#E5E5E5"> not recommended but they</font>

462
00:17:48,730 --> 00:17:51,850
said that<font color="#CCCCCC"> they were using</font><font color="#E5E5E5"> a sea library</font>

463
00:17:50,110 --> 00:17:54,729
and I'm like oh cool<font color="#CCCCCC"> is there a pearl</font><font color="#E5E5E5"> by</font>

464
00:17:51,850 --> 00:17:56,679
<font color="#E5E5E5">need for that and as it turns out there</font>

465
00:17:54,730 --> 00:17:58,570
<font color="#CCCCCC">is</font><font color="#E5E5E5"> there's a</font><font color="#CCCCCC"> pearl Bonnie</font><font color="#E5E5E5"> for that it</font>

466
00:17:56,680 --> 00:18:01,270
<font color="#E5E5E5">needed an</font><font color="#CCCCCC"> additional feature which I</font>

467
00:17:58,570 --> 00:18:03,220
which I patched and I want to thank

468
00:18:01,270 --> 00:18:05,860
Sherwin the author<font color="#CCCCCC"> of</font><font color="#E5E5E5"> that module</font>

469
00:18:03,220 --> 00:18:07,780
because I was able to<font color="#E5E5E5"> ship a feature</font>

470
00:18:05,860 --> 00:18:09,159
<font color="#E5E5E5">that was important to a lot of people in</font>

471
00:18:07,780 --> 00:18:12,850
about<font color="#CCCCCC"> a month</font>

472
00:18:09,160 --> 00:18:14,740
<font color="#E5E5E5">and that's that's</font><font color="#CCCCCC"> pretty good so but</font>

473
00:18:12,850 --> 00:18:16,209
they know what's even<font color="#E5E5E5"> faster than like</font>

474
00:18:14,740 --> 00:18:17,860
<font color="#E5E5E5">shipping features</font><font color="#CCCCCC"> faster and having</font>

475
00:18:16,210 --> 00:18:19,750
being<font color="#E5E5E5"> able to use new modules what's</font>

476
00:18:17,860 --> 00:18:21,610
faster than that<font color="#CCCCCC"> is having a development</font>

477
00:18:19,750 --> 00:18:24,160
environment<font color="#CCCCCC"> that</font><font color="#E5E5E5"> you</font><font color="#CCCCCC"> can throw away</font><font color="#E5E5E5"> and</font>

478
00:18:21,610 --> 00:18:27,550
<font color="#CCCCCC">Cree create as many times as you want so</font>

479
00:18:24,160 --> 00:18:31,000
I at<font color="#CCCCCC"> some point created a vagrant</font>

480
00:18:27,550 --> 00:18:32,560
install it was pretty easy to to get it

481
00:18:31,000 --> 00:18:34,390
going<font color="#E5E5E5"> because all the dependencies were</font>

482
00:18:32,560 --> 00:18:35,830
already packaged for sent to us<font color="#CCCCCC"> six for</font>

483
00:18:34,390 --> 00:18:38,320
production so I just made a vagrant<font color="#CCCCCC"> VM</font>

484
00:18:35,830 --> 00:18:40,240
<font color="#CCCCCC">that matched production exactly and that</font>

485
00:18:38,320 --> 00:18:42,100
was pretty good<font color="#E5E5E5"> the stats were like the</font>

486
00:18:40,240 --> 00:18:45,700
previous<font color="#E5E5E5"> year there were about three</font>

487
00:18:42,100 --> 00:18:48,399
<font color="#CCCCCC">three</font><font color="#E5E5E5"> ish people contributing on average</font>

488
00:18:45,700 --> 00:18:50,110
<font color="#E5E5E5">to on a given month to two bugs about</font>

489
00:18:48,400 --> 00:18:52,420
mozilla.org<font color="#CCCCCC"> in the last month we've had</font>

490
00:18:50,110 --> 00:18:54,490
<font color="#CCCCCC">eleven</font><font color="#E5E5E5"> and I think that that's actually</font>

491
00:18:52,420 --> 00:18:56,950
<font color="#E5E5E5">really good now I'm like a majority of</font>

492
00:18:54,490 --> 00:18:58,990
<font color="#E5E5E5">those commits but the second majority of</font>

493
00:18:56,950 --> 00:19:00,070
that<font color="#CCCCCC"> is like half half again as much as</font>

494
00:18:58,990 --> 00:19:02,530
well it's a nice<font color="#E5E5E5"> it's actually nice</font>

495
00:19:00,070 --> 00:19:04,990
curve<font color="#CCCCCC"> what you would expect</font><font color="#E5E5E5"> pretty much</font>

496
00:19:02,530 --> 00:19:07,420
so<font color="#E5E5E5"> we're actually pretty darn agile now</font>

497
00:19:04,990 --> 00:19:08,800
we<font color="#CCCCCC"> accept</font><font color="#E5E5E5"> pull requests people can set</font>

498
00:19:07,420 --> 00:19:11,200
up dev environments we've contributed

499
00:19:08,800 --> 00:19:12,790
we've participated in both<font color="#E5E5E5"> outreach in</font>

500
00:19:11,200 --> 00:19:14,590
google Summer<font color="#E5E5E5"> of Code which meant</font>

501
00:19:12,790 --> 00:19:15,790
hundreds of new<font color="#CCCCCC"> people not hundreds but</font>

502
00:19:14,590 --> 00:19:17,350
dozens of new people<font color="#CCCCCC"> have tried</font>

503
00:19:15,790 --> 00:19:20,110
installing<font color="#E5E5E5"> and</font><font color="#CCCCCC"> getting a dev environment</font>

504
00:19:17,350 --> 00:19:23,530
working<font color="#E5E5E5"> so we're really happy now the</font>

505
00:19:20,110 --> 00:19:25,360
the<font color="#E5E5E5"> next</font><font color="#CCCCCC"> problem was we have a cloud</font>

506
00:19:23,530 --> 00:19:27,129
migration pending so our<font color="#E5E5E5"> current</font>

507
00:19:25,360 --> 00:19:29,080
production<font color="#E5E5E5"> is Santo by six on</font>

508
00:19:27,130 --> 00:19:31,360
like machines in the data center and

509
00:19:29,080 --> 00:19:33,720
<font color="#E5E5E5">that's got</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> change pretty soon</font><font color="#CCCCCC"> and</font><font color="#E5E5E5"> so</font>

510
00:19:31,360 --> 00:19:36,639
there are<font color="#CCCCCC"> people working</font><font color="#E5E5E5"> on</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> and</font>

511
00:19:33,720 --> 00:19:39,910
they had some requirements<font color="#CCCCCC"> 12 factor</font>

512
00:19:36,640 --> 00:19:41,770
<font color="#CCCCCC">yada</font><font color="#E5E5E5"> yada Batman</font><font color="#CCCCCC"> but they needed</font><font color="#E5E5E5"> our app</font>

513
00:19:39,910 --> 00:19:45,340
<font color="#CCCCCC">to be a docker container and they</font>

514
00:19:41,770 --> 00:19:47,740
strongly strongly hinted that it<font color="#E5E5E5"> should</font>

515
00:19:45,340 --> 00:19:51,459
be circle CI<font color="#E5E5E5"> for running our tests and</font>

516
00:19:47,740 --> 00:19:55,780
<font color="#E5E5E5">for building</font><font color="#CCCCCC"> a docker image so I stared</font>

517
00:19:51,460 --> 00:19:57,100
at<font color="#E5E5E5"> this task</font><font color="#CCCCCC"> and I thought well this is</font>

518
00:19:55,780 --> 00:20:00,280
a good chance<font color="#CCCCCC"> to clean up some stuff</font>

519
00:19:57,100 --> 00:20:00,969
so the<font color="#CCCCCC"> ocker they were recommending</font>

520
00:20:00,280 --> 00:20:02,590
<font color="#CCCCCC">circle CI</font>

521
00:20:00,970 --> 00:20:04,390
the first version and they had

522
00:20:02,590 --> 00:20:06,580
experience with<font color="#E5E5E5"> that</font><font color="#CCCCCC"> but</font><font color="#E5E5E5"> right as I</font><font color="#CCCCCC"> was</font>

523
00:20:04,390 --> 00:20:07,840
doing<font color="#CCCCCC"> this circle CIA two had come out</font>

524
00:20:06,580 --> 00:20:09,550
<font color="#E5E5E5">and it had a lot</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> shiny features</font>

525
00:20:07,840 --> 00:20:12,010
including the<font color="#E5E5E5"> ability of running docker</font>

526
00:20:09,550 --> 00:20:13,450
containers it's not literally running

527
00:20:12,010 --> 00:20:15,040
inside docker containers but<font color="#E5E5E5"> you can</font>

528
00:20:13,450 --> 00:20:16,630
create and build docker containers from

529
00:20:15,040 --> 00:20:19,840
<font color="#E5E5E5">what amounts to a arbitrary docker</font>

530
00:20:16,630 --> 00:20:21,510
container<font color="#E5E5E5"> and so the</font><font color="#CCCCCC"> gamal</font><font color="#E5E5E5"> that you have</font>

531
00:20:19,840 --> 00:20:25,360
to write<font color="#CCCCCC"> because this is all modern</font><font color="#E5E5E5"> and</font>

532
00:20:21,510 --> 00:20:27,460
basically<font color="#E5E5E5"> engi in</font><font color="#CCCCCC"> G's gamal language is</font>

533
00:20:25,360 --> 00:20:30,939
one of them<font color="#E5E5E5"> more popular cloud languages</font>

534
00:20:27,460 --> 00:20:33,670
at this point<font color="#E5E5E5"> I think so here is a bit</font>

535
00:20:30,940 --> 00:20:35,080
how we do a build<font color="#CCCCCC"> its notice it sets up</font>

536
00:20:33,670 --> 00:20:37,180
form a docker environment and it builds

537
00:20:35,080 --> 00:20:38,350
<font color="#E5E5E5">docker everything is fine you probably</font>

538
00:20:37,180 --> 00:20:39,820
wanna see what<font color="#CCCCCC"> that docker file looks</font>

539
00:20:38,350 --> 00:20:41,290
like<font color="#E5E5E5"> so there's the entirety</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> the</font>

540
00:20:39,820 --> 00:20:44,080
docker file nothing to see<font color="#CCCCCC"> there</font><font color="#E5E5E5"> very</font>

541
00:20:41,290 --> 00:20:46,210
<font color="#E5E5E5">boring I'm kind of hiding the fact that</font>

542
00:20:44,080 --> 00:20:48,909
<font color="#E5E5E5">there is a cut off by the projector</font>

543
00:20:46,210 --> 00:20:53,740
there is a thing<font color="#CCCCCC"> that says from Mozilla</font>

544
00:20:48,910 --> 00:20:56,140
<font color="#E5E5E5">b-team BMO slim so BMO slim is our base</font>

545
00:20:53,740 --> 00:20:57,940
image and I kind of I'm<font color="#CCCCCC"> obviously</font>

546
00:20:56,140 --> 00:21:01,080
alighting a lot of stuff in<font color="#E5E5E5"> there so I</font>

547
00:20:57,940 --> 00:21:05,740
should tell you<font color="#E5E5E5"> what that looks like</font>

548
00:21:01,080 --> 00:21:06,970
<font color="#E5E5E5">that is this hard to read</font><font color="#CCCCCC"> em</font><font color="#E5E5E5"> I wish I</font>

549
00:21:05,740 --> 00:21:09,160
could<font color="#E5E5E5"> have changed the font colors ahead</font>

550
00:21:06,970 --> 00:21:13,990
of time but this<font color="#E5E5E5"> is</font><font color="#CCCCCC"> the steps that are</font>

551
00:21:09,160 --> 00:21:15,340
<font color="#CCCCCC">required</font><font color="#E5E5E5"> to build</font><font color="#CCCCCC"> the dependencies so</font>

552
00:21:13,990 --> 00:21:17,860
this is what was previously<font color="#CCCCCC"> in the make</font>

553
00:21:15,340 --> 00:21:19,780
file the make file by the<font color="#E5E5E5"> way is gone</font><font color="#CCCCCC"> we</font>

554
00:21:17,860 --> 00:21:21,879
don't use the make file to do any crazy

555
00:21:19,780 --> 00:21:24,340
things I'm not generating doctor files

556
00:21:21,880 --> 00:21:26,740
from<font color="#E5E5E5"> Perl anymore either</font><font color="#CCCCCC"> but these steps</font>

557
00:21:24,340 --> 00:21:28,149
<font color="#E5E5E5">run so let's take a closer look</font><font color="#CCCCCC"> so that</font>

558
00:21:26,740 --> 00:21:29,890
<font color="#E5E5E5">you can actually see the docker</font>

559
00:21:28,150 --> 00:21:33,060
environment gets to be based<font color="#E5E5E5"> on an image</font>

560
00:21:29,890 --> 00:21:35,890
<font color="#CCCCCC">which is our base image of sent OS 6</font><font color="#E5E5E5"> and</font>

561
00:21:33,060 --> 00:21:38,620
it runs a set of steps which you<font color="#E5E5E5"> can see</font>

562
00:21:35,890 --> 00:21:40,210
in closer detail<font color="#E5E5E5"> here that does a check</font>

563
00:21:38,620 --> 00:21:42,520
out<font color="#CCCCCC"> of the code it installs</font>

564
00:21:40,210 --> 00:21:45,520
all of the<font color="#CCCCCC"> RPMs that the system of</font><font color="#E5E5E5"> our</font>

565
00:21:42,520 --> 00:21:48,700
PM's like<font color="#CCCCCC"> lib</font><font color="#E5E5E5"> see stuff and then it does</font>

566
00:21:45,520 --> 00:21:51,070
build<font color="#E5E5E5"> prepare build stage</font><font color="#CCCCCC"> one build</font>

567
00:21:48,700 --> 00:21:58,000
stage two and then it<font color="#E5E5E5"> makes it hard ball</font>

568
00:21:51,070 --> 00:21:59,980
<font color="#E5E5E5">so build prepare build prepare is a</font>

569
00:21:58,000 --> 00:22:02,890
simple script<font color="#E5E5E5"> that's basically doing the</font>

570
00:21:59,980 --> 00:22:06,510
downloading<font color="#CCCCCC"> Sipan sorry not only in perl</font>

571
00:22:02,890 --> 00:22:10,840
build and carton<font color="#E5E5E5"> and then it's also in</font>

572
00:22:06,510 --> 00:22:13,900
compiling those things so then build

573
00:22:10,840 --> 00:22:15,610
stage one uses the real pearl the nice

574
00:22:13,900 --> 00:22:17,200
one that<font color="#E5E5E5"> we just</font><font color="#CCCCCC"> installed to do the</font>

575
00:22:15,610 --> 00:22:18,550
<font color="#CCCCCC">previously mentioned step i think the</font>

576
00:22:17,200 --> 00:22:21,250
code is a bit<font color="#E5E5E5"> cleaner than the old make</font>

577
00:22:18,550 --> 00:22:22,690
file stuff<font color="#E5E5E5"> build stage two is when we</font>

578
00:22:21,250 --> 00:22:27,010
remove<font color="#CCCCCC"> everything and</font><font color="#E5E5E5"> do that all again</font>

579
00:22:22,690 --> 00:22:29,260
<font color="#CCCCCC">and then this</font><font color="#E5E5E5"> kind of long spiel</font><font color="#CCCCCC"> here is</font>

580
00:22:27,010 --> 00:22:31,060
how we package<font color="#E5E5E5"> all</font><font color="#CCCCCC"> of that up I'm</font>

581
00:22:29,260 --> 00:22:33,940
actually packaging up a bit of metadata

582
00:22:31,060 --> 00:22:35,530
<font color="#CCCCCC">about what system libraries are linked</font>

583
00:22:33,940 --> 00:22:37,480
to any shared objects that are in<font color="#CCCCCC"> the</font>

584
00:22:35,530 --> 00:22:40,389
<font color="#CCCCCC">Perl directory and I check for</font><font color="#E5E5E5"> that</font>

585
00:22:37,480 --> 00:22:42,190
later to prevent the case of missing of

586
00:22:40,390 --> 00:22:43,540
a mismatch<font color="#CCCCCC"> in the current</font><font color="#E5E5E5"> in case we</font>

587
00:22:42,190 --> 00:22:46,030
could<font color="#CCCCCC"> have a mismatch between production</font>

588
00:22:43,540 --> 00:22:47,620
<font color="#E5E5E5">and this build environment in the future</font>

589
00:22:46,030 --> 00:22:48,910
<font color="#CCCCCC">that will be impossible</font><font color="#E5E5E5"> but at the</font>

590
00:22:47,620 --> 00:22:52,750
moment<font color="#E5E5E5"> it's still</font><font color="#CCCCCC"> possible so I make</font>

591
00:22:48,910 --> 00:22:55,000
that<font color="#CCCCCC"> check so this is how we build</font><font color="#E5E5E5"> VMO</font>

592
00:22:52,750 --> 00:22:57,010
slim which is once<font color="#CCCCCC"> again you can't see</font>

593
00:22:55,000 --> 00:23:01,180
<font color="#CCCCCC">very well but</font><font color="#E5E5E5"> it's our on they will be</font>

594
00:22:57,010 --> 00:23:03,070
on the slides you<font color="#E5E5E5"> it's know based on the</font>

595
00:23:01,180 --> 00:23:05,170
docker image so<font color="#E5E5E5"> I'm running a docker</font>

596
00:23:03,070 --> 00:23:09,790
image for running docker commands and

597
00:23:05,170 --> 00:23:12,160
then inside there it's copying it

598
00:23:09,790 --> 00:23:16,300
starring up<font color="#E5E5E5"> I'm sorry it's untiring the</font>

599
00:23:12,160 --> 00:23:20,050
tarball that it had previously built in

600
00:23:16,300 --> 00:23:22,840
the in the<font color="#E5E5E5"> other step and it's putting</font>

601
00:23:20,050 --> 00:23:25,600
<font color="#E5E5E5">that in a directory so</font><font color="#CCCCCC"> docker workflows</font>

602
00:23:22,840 --> 00:23:26,830
have these directories<font color="#E5E5E5"> that you can put</font>

603
00:23:25,600 --> 00:23:29,199
stuff<font color="#E5E5E5"> in and share between build</font>

604
00:23:26,830 --> 00:23:31,449
<font color="#E5E5E5">processes as so technically I'm still</font>

605
00:23:29,200 --> 00:23:33,220
uploading<font color="#E5E5E5"> a tarball to s3 but that is</font>

606
00:23:31,450 --> 00:23:37,330
for the existing<font color="#CCCCCC"> production environment</font>

607
00:23:33,220 --> 00:23:38,740
<font color="#E5E5E5">and if if all goes well I won't have to</font>

608
00:23:37,330 --> 00:23:40,330
do<font color="#E5E5E5"> that anymore and the entire build</font>

609
00:23:38,740 --> 00:23:42,550
pipeline will<font color="#CCCCCC"> be building all the</font>

610
00:23:40,330 --> 00:23:43,810
dependencies<font color="#CCCCCC"> and just</font><font color="#E5E5E5"> putting them in</font>

611
00:23:42,550 --> 00:23:46,180
the container and<font color="#E5E5E5"> uploading the</font>

612
00:23:43,810 --> 00:23:48,450
container to docker hub and everything

613
00:23:46,180 --> 00:23:48,450
will be<font color="#CCCCCC"> fine</font>

614
00:23:49,190 --> 00:23:55,700
so build times<font color="#CCCCCC"> there's a bit of a split</font>

615
00:23:53,989 --> 00:23:58,249
here that I should<font color="#CCCCCC"> explain so there is</font>

616
00:23:55,700 --> 00:24:00,710
the stuff that<font color="#CCCCCC"> where I'm building and</font>

617
00:23:58,249 --> 00:24:03,289
<font color="#E5E5E5">doing the interesting things with carton</font>

618
00:24:00,710 --> 00:24:05,389
is in the director in a repo called BMO

619
00:24:03,289 --> 00:24:06,679
systems<font color="#E5E5E5"> and this is mostly because it</font>

620
00:24:05,389 --> 00:24:09,168
takes a<font color="#E5E5E5"> lot of time</font>

621
00:24:06,679 --> 00:24:11,269
technically I only need one<font color="#E5E5E5"> branch of</font>

622
00:24:09,169 --> 00:24:14,330
this for<font color="#E5E5E5"> production for</font><font color="#CCCCCC"> the deuce down</font>

623
00:24:11,269 --> 00:24:18,830
here<font color="#CCCCCC"> I only need the central s6</font><font color="#E5E5E5"> to the</font>

624
00:24:14,330 --> 00:24:22,849
BMO slim<font color="#E5E5E5"> pipeline but that one alone</font>

625
00:24:18,830 --> 00:24:24,408
takes<font color="#E5E5E5"> 20 minutes so the dependencies</font>

626
00:24:22,849 --> 00:24:28,519
don't change that often so the

627
00:24:24,409 --> 00:24:30,080
dependencies live in outside<font color="#E5E5E5"> of the</font>

628
00:24:28,519 --> 00:24:32,210
master copy<font color="#CCCCCC"> of</font><font color="#E5E5E5"> the dependencies is the</font>

629
00:24:30,080 --> 00:24:34,489
repo but there's a cached copy that's in

630
00:24:32,210 --> 00:24:36,229
another<font color="#E5E5E5"> repo that is generated for each</font>

631
00:24:34,489 --> 00:24:38,479
system<font color="#E5E5E5"> because the actual requirements</font>

632
00:24:36,229 --> 00:24:41,149
can vary between a bun<font color="#CCCCCC"> to and</font><font color="#E5E5E5"> sent OS</font>

633
00:24:38,479 --> 00:24:42,919
and so on like you don't have this exact

634
00:24:41,149 --> 00:24:44,449
same set<font color="#E5E5E5"> of</font><font color="#CCCCCC"> dependencies also because</font>

635
00:24:42,919 --> 00:24:46,429
you don't have the exact same<font color="#CCCCCC"> version of</font>

636
00:24:44,450 --> 00:24:49,749
<font color="#E5E5E5">Perl</font><font color="#CCCCCC"> I think there are three versions of</font>

637
00:24:46,429 --> 00:24:55,489
Perl at play in this arrangement<font color="#CCCCCC"> so</font>

638
00:24:49,749 --> 00:24:57,169
<font color="#E5E5E5">they're separate but when you what we as</font>

639
00:24:55,489 --> 00:24:58,429
a result of this the build times for

640
00:24:57,169 --> 00:25:00,379
everything<font color="#E5E5E5"> else are quite small I</font><font color="#CCCCCC"> think</font>

641
00:24:58,429 --> 00:25:02,470
<font color="#CCCCCC">the longest test</font><font color="#E5E5E5"> is our selenium test</font>

642
00:25:00,379 --> 00:25:05,869
which is<font color="#E5E5E5"> running a full Firefox browser</font>

643
00:25:02,470 --> 00:25:07,519
<font color="#E5E5E5">and that's me and that takes a bit more</font>

644
00:25:05,869 --> 00:25:10,220
time<font color="#E5E5E5"> because it's it's actually</font><font color="#CCCCCC"> hitting</font>

645
00:25:07,519 --> 00:25:11,840
<font color="#E5E5E5">a few I know hundreds of</font><font color="#CCCCCC"> pages on</font><font color="#E5E5E5"> thing</font>

646
00:25:10,220 --> 00:25:12,889
<font color="#E5E5E5">to make sure it's not broken</font><font color="#CCCCCC"> our build</font>

647
00:25:11,840 --> 00:25:14,449
time though<font color="#CCCCCC"> because everything's</font>

648
00:25:12,889 --> 00:25:17,178
technically already<font color="#E5E5E5"> built it's just a</font>

649
00:25:14,450 --> 00:25:19,429
minute<font color="#E5E5E5"> so I kind of like that I would</font>

650
00:25:17,179 --> 00:25:21,499
like to<font color="#CCCCCC"> show</font><font color="#E5E5E5"> you one</font><font color="#CCCCCC"> of the bits about</font>

651
00:25:19,429 --> 00:25:23,779
<font color="#E5E5E5">this circle see our thing that is nice</font>

652
00:25:21,499 --> 00:25:26,359
so to spin up our testing environment<font color="#CCCCCC"> I</font>

653
00:25:23,779 --> 00:25:28,070
can specify an any number or some

654
00:25:26,359 --> 00:25:30,529
arbitrarily large number of docker

655
00:25:28,070 --> 00:25:32,450
containers that<font color="#CCCCCC"> we'll be running</font><font color="#E5E5E5"> so when</font>

656
00:25:30,529 --> 00:25:34,940
this<font color="#E5E5E5"> is running we</font><font color="#CCCCCC"> have our code running</font>

657
00:25:32,450 --> 00:25:36,830
in<font color="#E5E5E5"> one box one container we have my</font>

658
00:25:34,940 --> 00:25:39,979
sequel we have memcache we have the

659
00:25:36,830 --> 00:25:41,720
selenium thing having<font color="#E5E5E5"> a container run</font>

660
00:25:39,979 --> 00:25:43,190
selenium is really nice because<font color="#CCCCCC"> I don't</font>

661
00:25:41,720 --> 00:25:44,929
have<font color="#E5E5E5"> to worry about the</font><font color="#CCCCCC"> details of</font>

662
00:25:43,190 --> 00:25:47,359
updating<font color="#E5E5E5"> that we used to have all this</font>

663
00:25:44,929 --> 00:25:49,809
run in one container<font color="#CCCCCC"> and back before</font><font color="#E5E5E5"> we</font>

664
00:25:47,359 --> 00:25:53,989
were using<font color="#E5E5E5"> circle and that</font><font color="#CCCCCC"> was not</font><font color="#E5E5E5"> good</font>

665
00:25:49,809 --> 00:25:55,879
<font color="#E5E5E5">so that that said it's obvious</font><font color="#CCCCCC"> that</font>

666
00:25:53,989 --> 00:25:57,169
<font color="#E5E5E5">there's a bit</font><font color="#CCCCCC"> of</font><font color="#E5E5E5"> them and it must be a</font>

667
00:25:55,879 --> 00:25:59,809
<font color="#CCCCCC">manual step between these two</font>

668
00:25:57,169 --> 00:26:02,390
repositories because if I<font color="#E5E5E5"> just add</font>

669
00:25:59,809 --> 00:26:05,000
something to the make file dot PL of

670
00:26:02,390 --> 00:26:10,580
<font color="#CCCCCC">bugzilla then how does it</font><font color="#E5E5E5"> get into BMO</font>

671
00:26:05,000 --> 00:26:12,200
systems and into the multiple files<font color="#CCCCCC"> so</font>

672
00:26:10,580 --> 00:26:14,419
I'm going<font color="#E5E5E5"> to show you what that looks</font>

673
00:26:12,200 --> 00:26:17,600
<font color="#CCCCCC">like it's still a painful process but</font>

674
00:26:14,420 --> 00:26:19,430
<font color="#E5E5E5">it's not that bad so for instance</font><font color="#CCCCCC"> we</font>

675
00:26:17,600 --> 00:26:24,169
edit them<font color="#CCCCCC"> make</font><font color="#E5E5E5"> file that PL adding in</font>

676
00:26:19,430 --> 00:26:29,090
the new dependency and we have to use

677
00:26:24,170 --> 00:26:30,530
make so<font color="#E5E5E5"> I run make and with which Brandt</font>

678
00:26:29,090 --> 00:26:32,330
and<font color="#E5E5E5"> the sets who make variables the</font>

679
00:26:30,530 --> 00:26:33,649
branch and the repository that<font color="#E5E5E5"> I want it</font>

680
00:26:32,330 --> 00:26:35,439
to look at because<font color="#CCCCCC"> obviously it can only</font>

681
00:26:33,650 --> 00:26:39,020
have the dependencies<font color="#E5E5E5"> for a particular</font>

682
00:26:35,440 --> 00:26:40,130
repo at a given time<font color="#E5E5E5"> which does</font><font color="#CCCCCC"> makes</font>

683
00:26:39,020 --> 00:26:42,230
deploying<font color="#E5E5E5"> this a little bit difficult</font>

684
00:26:40,130 --> 00:26:44,930
<font color="#CCCCCC">you have</font><font color="#E5E5E5"> to have some planning but still</font>

685
00:26:42,230 --> 00:26:46,340
<font color="#CCCCCC">you run the make it runs and compiles</font>

686
00:26:44,930 --> 00:26:52,360
things creates<font color="#CCCCCC"> two tarballs</font>

687
00:26:46,340 --> 00:26:55,189
and then<font color="#CCCCCC"> I do a commit and</font><font color="#E5E5E5"> I have new</font>

688
00:26:52,360 --> 00:26:56,929
new<font color="#CCCCCC"> Sipan file for each distribution</font><font color="#E5E5E5"> and</font>

689
00:26:55,190 --> 00:27:00,470
a new<font color="#CCCCCC"> Sipan file dot snapshot for</font><font color="#E5E5E5"> each</font>

690
00:26:56,930 --> 00:27:03,170
distribution<font color="#E5E5E5"> which those don't</font><font color="#CCCCCC"> change so</font>

691
00:27:00,470 --> 00:27:06,050
the process here is actually feeding

692
00:27:03,170 --> 00:27:08,270
<font color="#E5E5E5">back in on</font><font color="#CCCCCC"> itself because the</font><font color="#E5E5E5"> c-pen file</font>

693
00:27:06,050 --> 00:27:09,649
there's an artifact of the CP<font color="#CCCCCC"> of cartoon</font>

694
00:27:08,270 --> 00:27:11,590
called<font color="#CCCCCC"> CP n follow</font><font color="#E5E5E5"> that snapshot</font><font color="#CCCCCC"> that</font>

695
00:27:09,650 --> 00:27:13,760
gets fed<font color="#CCCCCC"> back in which prevents me from</font>

696
00:27:11,590 --> 00:27:16,580
<font color="#E5E5E5">upgrading packages when</font><font color="#CCCCCC"> unless I</font>

697
00:27:13,760 --> 00:27:17,870
explicitly<font color="#CCCCCC"> do that which</font><font color="#E5E5E5"> is not shown</font>

698
00:27:16,580 --> 00:27:20,389
<font color="#E5E5E5">here there's a separate process for</font>

699
00:27:17,870 --> 00:27:22,550
<font color="#CCCCCC">actually upgrading something that's not</font>

700
00:27:20,390 --> 00:27:24,920
<font color="#E5E5E5">that</font><font color="#CCCCCC"> bad and it is documented but it's</font>

701
00:27:22,550 --> 00:27:26,450
still this is<font color="#E5E5E5"> not ideal but having five</font>

702
00:27:24,920 --> 00:27:31,300
at this point actually<font color="#E5E5E5"> only two</font>

703
00:27:26,450 --> 00:27:37,910
different<font color="#CCCCCC"> systems is</font><font color="#E5E5E5"> also not ideal</font><font color="#CCCCCC"> so</font>

704
00:27:31,300 --> 00:27:40,040
that is the monster but I wanted<font color="#E5E5E5"> to also</font>

705
00:27:37,910 --> 00:27:42,230
mention<font color="#E5E5E5"> that in that last patch</font><font color="#CCCCCC"> I have</font>

706
00:27:40,040 --> 00:27:44,930
I'm adding mojolicious as a dependency

707
00:27:42,230 --> 00:27:47,000
for my<font color="#CCCCCC"> Bugzilla</font><font color="#E5E5E5"> for a couple of reasons</font>

708
00:27:44,930 --> 00:27:52,360
and if this<font color="#E5E5E5"> interests anyone and they</font>

709
00:27:47,000 --> 00:27:52,360
would like to to do things<font color="#E5E5E5"> I'm all ears</font>

710
00:27:53,140 --> 00:27:58,400
and I should have<font color="#CCCCCC"> a sufficient amount</font><font color="#E5E5E5"> of</font>

711
00:27:56,720 --> 00:28:00,110
time<font color="#E5E5E5"> for questions and I suspect that</font>

712
00:27:58,400 --> 00:28:02,720
there<font color="#E5E5E5"> should</font><font color="#CCCCCC"> be questions and</font><font color="#E5E5E5"> I have all</font>

713
00:28:00,110 --> 00:28:08,530
<font color="#CCCCCC">of the code opened in my IDE for</font><font color="#E5E5E5"> those</font>

714
00:28:02,720 --> 00:28:08,530
so questions

715
00:28:09,590 --> 00:28:20,790
yes I'm gonna<font color="#E5E5E5"> use mojolicious to</font>

716
00:28:15,750 --> 00:28:23,160
implement off<font color="#CCCCCC"> too but</font><font color="#E5E5E5"> I'm also going to</font>

717
00:28:20,790 --> 00:28:28,350
<font color="#E5E5E5">have like as an</font><font color="#CCCCCC"> endpoint that I can move</font>

718
00:28:23,160 --> 00:28:29,850
my great features<font color="#CCCCCC"> to for instance the</font>

719
00:28:28,350 --> 00:28:32,939
next thing I could do is we<font color="#E5E5E5"> need to use</font>

720
00:28:29,850 --> 00:28:35,730
JWT<font color="#CCCCCC"> I would like to use mode mojo JWT</font>

721
00:28:32,940 --> 00:28:43,650
for email confirmations<font color="#CCCCCC"> instead of the</font>

722
00:28:35,730 --> 00:28:48,780
current token<font color="#E5E5E5"> system that we're using so</font>

723
00:28:43,650 --> 00:28:56,030
I can either<font color="#CCCCCC"> I'll ask myself questions</font>

724
00:28:48,780 --> 00:28:56,030
if no one has any<font color="#CCCCCC"> questions</font><font color="#E5E5E5"> but yes</font>

725
00:28:58,029 --> 00:29:03,649
the<font color="#E5E5E5"> orchestration is outside of my so I</font>

726
00:29:01,309 --> 00:29:06,619
just make a application that's<font color="#E5E5E5"> roughly</font>

727
00:29:03,649 --> 00:29:09,859
<font color="#E5E5E5">twelve factory and the orchestrator that</font>

728
00:29:06,619 --> 00:29:11,389
that the the<font color="#CCCCCC"> other part of the team</font><font color="#E5E5E5"> uses</font>

729
00:29:09,859 --> 00:29:13,359
is up to them<font color="#CCCCCC"> I don't think they're</font>

730
00:29:11,389 --> 00:29:15,529
<font color="#E5E5E5">using an Orchestrator right now actually</font>

731
00:29:13,359 --> 00:29:16,908
<font color="#E5E5E5">but it theoretically it could I've</font>

732
00:29:15,529 --> 00:29:20,749
actually got this<font color="#E5E5E5"> running myself</font><font color="#CCCCCC"> on</font>

733
00:29:16,909 --> 00:29:22,789
kubernetes<font color="#CCCCCC"> so it's not</font><font color="#E5E5E5"> hard it's just</font>

734
00:29:20,749 --> 00:29:27,109
<font color="#E5E5E5">not it's not</font><font color="#CCCCCC"> not in my responsibilities</font>

735
00:29:22,789 --> 00:29:28,700
at the<font color="#E5E5E5"> moment and if you just speak just</font>

736
00:29:27,109 --> 00:29:31,809
yell if<font color="#E5E5E5"> you're if I don't appear to be</font>

737
00:29:28,700 --> 00:29:48,709
<font color="#E5E5E5">noticing that you're asking</font><font color="#CCCCCC"> a question</font>

738
00:29:31,809 --> 00:29:54,440
yes yep yeah and there's<font color="#E5E5E5"> the one that</font>

739
00:29:48,709 --> 00:29:56,179
<font color="#CCCCCC">lee johnson</font><font color="#E5E5E5"> wrote</font><font color="#CCCCCC"> i haven't played with</font>

740
00:29:54,440 --> 00:29:58,369
it<font color="#CCCCCC"> i've looked into a</font><font color="#E5E5E5"> proof-of-concept</font>

741
00:29:56,179 --> 00:29:59,299
<font color="#E5E5E5">disusing mojolicious itself and then</font>

742
00:29:58,369 --> 00:30:01,609
<font color="#E5E5E5">i've done another separate</font>

743
00:29:59,299 --> 00:30:03,679
<font color="#CCCCCC">proof-of-concept</font><font color="#E5E5E5"> of tying it to bugs off</font>

744
00:30:01,609 --> 00:30:04,939
<font color="#CCCCCC">the system so I know that these</font><font color="#E5E5E5"> two</font>

745
00:30:03,679 --> 00:30:06,259
<font color="#CCCCCC">things will work and I</font><font color="#E5E5E5"> haven't played</font>

746
00:30:04,940 --> 00:30:08,359
through them together yet but<font color="#CCCCCC"> Lee</font>

747
00:30:06,259 --> 00:30:09,649
<font color="#E5E5E5">Johnson's</font><font color="#CCCCCC"> Oh the fact that</font><font color="#E5E5E5"> he has</font>

748
00:30:08,359 --> 00:30:11,449
packaged that<font color="#E5E5E5"> up</font><font color="#CCCCCC"> for mojolicious</font>

749
00:30:09,649 --> 00:30:12,978
and it seems like less work than using

750
00:30:11,450 --> 00:30:14,539
the<font color="#E5E5E5"> underlying thing is the reason</font><font color="#CCCCCC"> that</font>

751
00:30:12,979 --> 00:30:17,059
I want to depend on mojolicious because

752
00:30:14,539 --> 00:30:24,589
I want to<font color="#E5E5E5"> I</font><font color="#CCCCCC"> don't want to have to do a</font>

753
00:30:17,059 --> 00:30:28,820
lot<font color="#CCCCCC"> of work yep are there any questions</font>

754
00:30:24,589 --> 00:30:30,049
about<font color="#E5E5E5"> I think</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> it would</font><font color="#CCCCCC"> be</font>

755
00:30:28,820 --> 00:30:31,579
<font color="#CCCCCC">instructive</font><font color="#E5E5E5"> and I'll just show you I'm</font>

756
00:30:30,049 --> 00:30:33,349
going<font color="#E5E5E5"> to</font><font color="#CCCCCC"> show you</font><font color="#E5E5E5"> the entire config file</font>

757
00:30:31,579 --> 00:30:39,349
for built for the entire<font color="#E5E5E5"> workflow that</font>

758
00:30:33,349 --> 00:30:44,119
generates the the carton files and how

759
00:30:39,349 --> 00:30:45,439
are<font color="#E5E5E5"> we</font><font color="#CCCCCC"> on time what ten</font><font color="#E5E5E5"> perfect this</font><font color="#CCCCCC"> is</font>

760
00:30:44,119 --> 00:30:46,999
<font color="#E5E5E5">exactly amount of time I was hoping for</font>

761
00:30:45,440 --> 00:30:53,029
<font color="#E5E5E5">a little bit more questions after all of</font>

762
00:30:46,999 --> 00:30:58,039
this<font color="#CCCCCC"> madness but</font><font color="#E5E5E5"> this is fine so the</font>

763
00:30:53,029 --> 00:31:00,619
entire we have just under about about

764
00:30:58,039 --> 00:31:03,759
<font color="#E5E5E5">two hundred lines of</font><font color="#CCCCCC"> Y Amal the world's</font>

765
00:31:00,619 --> 00:31:03,759
best scripting language<font color="#E5E5E5"> and</font>

766
00:31:21,610 --> 00:31:27,500
and I<font color="#E5E5E5"> think that should</font><font color="#CCCCCC"> be visible</font><font color="#E5E5E5"> on</font>

767
00:31:24,380 --> 00:31:36,170
<font color="#E5E5E5">the screen how's that</font><font color="#CCCCCC"> and a much larger</font>

768
00:31:27,500 --> 00:31:39,400
font look at that<font color="#E5E5E5"> that's</font><font color="#CCCCCC"> amazing</font>

769
00:31:36,170 --> 00:31:39,400
there we go<font color="#CCCCCC"> Oh</font>

770
00:31:56,820 --> 00:32:03,539
<font color="#CCCCCC">I wish I had a Linux machine in front me</font>

771
00:31:58,679 --> 00:32:14,450
I would know how to<font color="#E5E5E5"> do that then but</font>

772
00:32:03,539 --> 00:32:14,450
<font color="#E5E5E5">then I won't be</font><font color="#CCCCCC"> able to</font><font color="#E5E5E5"> see it bingo</font>

773
00:32:15,259 --> 00:32:20,029
and now I need to<font color="#E5E5E5"> decrease the font size</font>

774
00:32:20,509 --> 00:32:25,500
<font color="#E5E5E5">okay</font>

775
00:32:21,630 --> 00:32:26,909
so<font color="#CCCCCC"> oops what was not clear when I</font><font color="#E5E5E5"> lied</font>

776
00:32:25,500 --> 00:32:29,340
it over<font color="#E5E5E5"> this which I did because</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> was</font>

777
00:32:26,909 --> 00:32:31,230
worried about time is that each of the

778
00:32:29,340 --> 00:32:33,330
so forth<font color="#E5E5E5"> in the current case you have</font>

779
00:32:31,230 --> 00:32:35,490
sent<font color="#CCCCCC"> to us and a bun</font><font color="#E5E5E5"> to sent to us and a</font>

780
00:32:33,330 --> 00:32:37,408
bun to task<font color="#E5E5E5"> each run and they deposit</font>

781
00:32:35,490 --> 00:32:39,450
something<font color="#E5E5E5"> in a workspace the workspace</font>

782
00:32:37,409 --> 00:32:41,399
is shared with the<font color="#E5E5E5"> upload</font><font color="#CCCCCC"> task and then</font>

783
00:32:39,450 --> 00:32:45,809
the upload tasklist uploads the<font color="#E5E5E5"> tarballs</font>

784
00:32:41,399 --> 00:32:47,610
to an s3 bucket<font color="#E5E5E5"> specified in the bottom</font>

785
00:32:45,809 --> 00:32:49,350
of<font color="#E5E5E5"> this is the basically the</font>

786
00:32:47,610 --> 00:32:53,820
relationship<font color="#CCCCCC"> between</font><font color="#E5E5E5"> each of the tasks</font>

787
00:32:49,350 --> 00:32:55,590
<font color="#E5E5E5">and as you can see</font><font color="#CCCCCC"> here the tasks</font><font color="#E5E5E5"> are</font>

788
00:32:53,820 --> 00:32:59,450
also filtered on only<font color="#E5E5E5"> certain branches</font>

789
00:32:55,590 --> 00:32:59,449
so we only look<font color="#E5E5E5"> at the master branch and</font>

790
00:33:00,350 --> 00:33:09,000
<font color="#E5E5E5">the the jobs</font><font color="#CCCCCC"> that get executed are as</font>

791
00:33:04,950 --> 00:33:10,620
follows<font color="#E5E5E5"> or wait that's for that's</font><font color="#CCCCCC"> for</font>

792
00:33:09,000 --> 00:33:11,549
<font color="#CCCCCC">builder so we have also builders which</font>

793
00:33:10,620 --> 00:33:13,258
<font color="#CCCCCC">is something you</font><font color="#E5E5E5"> don't need to worry</font>

794
00:33:11,549 --> 00:33:15,269
about<font color="#E5E5E5"> no one should use</font><font color="#CCCCCC"> that that's</font>

795
00:33:13,259 --> 00:33:17,070
<font color="#E5E5E5">actually so builders is a hack to</font><font color="#CCCCCC"> make</font>

796
00:33:15,269 --> 00:33:19,980
<font color="#CCCCCC">it so that I don't have</font><font color="#E5E5E5"> to always</font>

797
00:33:17,070 --> 00:33:21,990
reinstall everything<font color="#CCCCCC"> when generating a</font>

798
00:33:19,980 --> 00:33:26,879
new<font color="#CCCCCC"> Sipan file and a new Sipan file dot</font>

799
00:33:21,990 --> 00:33:28,679
snapshot<font color="#CCCCCC"> but in the New</font><font color="#E5E5E5"> York in a ideal</font>

800
00:33:26,879 --> 00:33:30,779
situation you<font color="#CCCCCC"> will only have</font><font color="#E5E5E5"> one</font>

801
00:33:28,679 --> 00:33:33,210
<font color="#E5E5E5">environment and you won't have different</font>

802
00:33:30,779 --> 00:33:37,110
<font color="#E5E5E5">environments to do</font><font color="#CCCCCC"> ok by the</font><font color="#E5E5E5"> way if you</font>

803
00:33:33,210 --> 00:33:40,440
are<font color="#E5E5E5"> doing this as of last week sent to</font>

804
00:33:37,110 --> 00:33:41,939
<font color="#CCCCCC">s7</font><font color="#E5E5E5"> when you are installing it on when</font>

805
00:33:40,440 --> 00:33:43,710
you<font color="#CCCCCC"> are using it</font><font color="#E5E5E5"> on</font><font color="#CCCCCC"> Circle</font><font color="#E5E5E5"> C I will</font>

806
00:33:41,940 --> 00:33:46,049
break because<font color="#E5E5E5"> of some bug and the way</font>

807
00:33:43,710 --> 00:33:48,240
they're running docker<font color="#E5E5E5"> so if you if you</font>

808
00:33:46,049 --> 00:33:50,158
need<font color="#E5E5E5"> to do a yum update in a sent to a 7</font>

809
00:33:48,240 --> 00:33:51,210
environment<font color="#CCCCCC"> you should do that and build</font>

810
00:33:50,159 --> 00:33:53,519
your own docker

811
00:33:51,210 --> 00:33:55,980
<font color="#E5E5E5">build that</font><font color="#CCCCCC"> name it</font><font color="#E5E5E5"> and upload it to</font>

812
00:33:53,519 --> 00:33:58,649
docker hub and use that because<font color="#E5E5E5"> running</font>

813
00:33:55,980 --> 00:34:03,750
the yum update inside circle<font color="#CCCCCC"> CI will</font>

814
00:33:58,649 --> 00:34:06,029
just crash but there is everything<font color="#CCCCCC"> these</font>

815
00:34:03,750 --> 00:34:08,280
I actually kept<font color="#E5E5E5"> the existing when I did</font>

816
00:34:06,029 --> 00:34:10,750
this I kept the existing CI<font color="#E5E5E5"> docker</font>

817
00:34:08,280 --> 00:34:13,960
container around<font color="#E5E5E5"> which was called BMOC</font>

818
00:34:10,750 --> 00:34:15,250
I basically<font color="#CCCCCC"> had no interruption of</font>

819
00:34:13,960 --> 00:34:17,230
service while doing this<font color="#CCCCCC"> we just</font><font color="#E5E5E5"> turned</font>

820
00:34:15,250 --> 00:34:19,869
off<font color="#E5E5E5"> eventually turned off the LTI and</font>

821
00:34:17,230 --> 00:34:21,190
turned on the<font color="#CCCCCC"> new</font><font color="#E5E5E5"> CI</font><font color="#CCCCCC"> but all of that can</font>

822
00:34:19,869 --> 00:34:23,889
<font color="#CCCCCC">go away</font><font color="#E5E5E5"> now as well so there's really</font>

823
00:34:21,190 --> 00:34:28,030
<font color="#E5E5E5">just three containers</font><font color="#CCCCCC"> in play three</font>

824
00:34:23,889 --> 00:34:29,200
build<font color="#E5E5E5"> processes and</font><font color="#CCCCCC"> play in here now if</font>

825
00:34:28,030 --> 00:34:33,639
there are<font color="#E5E5E5"> no</font><font color="#CCCCCC"> other questions and</font><font color="#E5E5E5"> I</font><font color="#CCCCCC"> think</font>

826
00:34:29,199 --> 00:34:36,759
I am going<font color="#E5E5E5"> to be done literally no other</font>

827
00:34:33,639 --> 00:34:40,290
<font color="#E5E5E5">questions</font><font color="#CCCCCC"> no other questions</font><font color="#E5E5E5"> about the</font>

828
00:34:36,760 --> 00:34:40,290
dockerfile language either

