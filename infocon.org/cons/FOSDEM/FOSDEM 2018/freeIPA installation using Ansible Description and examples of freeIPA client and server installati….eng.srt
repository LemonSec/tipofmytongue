1
00:00:17,540 --> 00:00:25,610
try it's good<font color="#CCCCCC"> so um okay I don't need to</font>

2
00:00:22,199 --> 00:00:28,440
<font color="#E5E5E5">interact to introduce myself now so um</font>

3
00:00:25,610 --> 00:00:32,400
<font color="#E5E5E5">here's the</font><font color="#CCCCCC"> again but by I think we can</font>

4
00:00:28,440 --> 00:00:35,480
simply skip it<font color="#CCCCCC"> so the the goal of</font>

5
00:00:32,400 --> 00:00:39,300
approach of the project was<font color="#CCCCCC"> to create</font><font color="#E5E5E5"> um</font>

6
00:00:35,480 --> 00:00:44,040
<font color="#E5E5E5">roles ansible roles for</font><font color="#CCCCCC"> IPA</font><font color="#E5E5E5"> that</font><font color="#CCCCCC"> are not</font>

7
00:00:39,300 --> 00:00:46,769
<font color="#E5E5E5">only a wrapper around the normal install</font>

8
00:00:44,040 --> 00:00:50,460
<font color="#CCCCCC">scripts so that they can provide</font>

9
00:00:46,770 --> 00:00:53,129
additional features but heavily depend

10
00:00:50,460 --> 00:00:57,180
on the code of<font color="#E5E5E5"> the installers so what</font>

11
00:00:53,129 --> 00:01:00,120
they in fact do is they reuse the code

12
00:00:57,180 --> 00:01:03,780
<font color="#E5E5E5">that it is in the Installer cut it into</font>

13
00:01:00,120 --> 00:01:07,289
small<font color="#CCCCCC"> pieces</font><font color="#E5E5E5"> and so in the end we will</font>

14
00:01:03,780 --> 00:01:09,119
be<font color="#E5E5E5"> able to replace for example a part in</font>

15
00:01:07,289 --> 00:01:14,759
there you will<font color="#E5E5E5"> see later on we have</font>

16
00:01:09,119 --> 00:01:17,369
<font color="#E5E5E5">several parts in there when I'm a big</font><font color="#CCCCCC"> ol</font>

17
00:01:14,759 --> 00:01:19,770
was also to have exactly the<font color="#CCCCCC"> same</font><font color="#E5E5E5"> result</font>

18
00:01:17,369 --> 00:01:21,360
<font color="#E5E5E5">we can have additional things but we</font>

19
00:01:19,770 --> 00:01:26,250
need to<font color="#E5E5E5"> have the same results with the</font>

20
00:01:21,360 --> 00:01:28,800
same settings<font color="#E5E5E5"> also there will be a</font>

21
00:01:26,250 --> 00:01:31,020
server<font color="#E5E5E5"> client and also replica role</font>

22
00:01:28,800 --> 00:01:32,759
right now<font color="#E5E5E5"> in the repository you can find</font>

23
00:01:31,020 --> 00:01:35,970
the server in the client roles<font color="#E5E5E5"> the</font>

24
00:01:32,759 --> 00:01:39,179
<font color="#E5E5E5">replica role is in the work it's not</font>

25
00:01:35,970 --> 00:01:45,420
pushed<font color="#E5E5E5"> because it produces an error in</font>

26
00:01:39,179 --> 00:01:47,729
the server<font color="#CCCCCC"> and the support is three</font><font color="#E5E5E5"> IPA</font>

27
00:01:45,420 --> 00:01:49,440
<font color="#E5E5E5">four point five plus four client it's</font>

28
00:01:47,729 --> 00:01:52,380
<font color="#E5E5E5">four point four</font><font color="#CCCCCC"> four server it's four</font>

29
00:01:49,440 --> 00:01:56,610
<font color="#E5E5E5">point five and the replica will also</font>

30
00:01:52,380 --> 00:01:58,830
support four point five plus by the way

31
00:01:56,610 --> 00:02:03,149
if you have any<font color="#E5E5E5"> questions at any time</font>

32
00:01:58,830 --> 00:02:06,020
<font color="#E5E5E5">you can ask me so here's the</font><font color="#CCCCCC"> comparison</font>

33
00:02:03,149 --> 00:02:11,400
between using the<font color="#CCCCCC"> normal installers and</font>

34
00:02:06,020 --> 00:02:13,530
<font color="#CCCCCC">the</font><font color="#E5E5E5"> ansible</font><font color="#CCCCCC"> free IPA</font><font color="#E5E5E5"> for</font><font color="#CCCCCC"> a normal</font><font color="#E5E5E5"> sauce</font>

35
00:02:11,400 --> 00:02:16,490
you need to<font color="#CCCCCC"> login to</font><font color="#E5E5E5"> the machines you</font>

36
00:02:13,530 --> 00:02:18,680
need to set<font color="#E5E5E5"> it up you need to have print</font>

37
00:02:16,490 --> 00:02:20,420
we'll pass were<font color="#E5E5E5"> the key top you need to</font>

38
00:02:18,680 --> 00:02:24,770
wait until<font color="#CCCCCC"> it's done then you can</font>

39
00:02:20,420 --> 00:02:27,799
<font color="#CCCCCC">proceed to</font><font color="#E5E5E5"> the next one so it proves the</font>

40
00:02:24,770 --> 00:02:31,850
server then<font color="#CCCCCC"> the clients and replicas and</font>

41
00:02:27,800 --> 00:02:35,390
<font color="#E5E5E5">so on</font><font color="#CCCCCC"> they move ansible you have that is</font>

42
00:02:31,850 --> 00:02:38,000
a goal<font color="#CCCCCC"> a simple</font><font color="#E5E5E5"> and installation with</font>

43
00:02:35,390 --> 00:02:39,709
more than one machine<font color="#E5E5E5"> possible</font><font color="#CCCCCC"> you have</font>

44
00:02:38,000 --> 00:02:43,790
one<font color="#CCCCCC"> configuration file that is the</font>

45
00:02:39,710 --> 00:02:47,270
<font color="#E5E5E5">inventory file per domain</font><font color="#CCCCCC"> Oh realm</font><font color="#E5E5E5"> you</font>

46
00:02:43,790 --> 00:02:49,480
have a simple use of OTP for clients<font color="#E5E5E5"> so</font>

47
00:02:47,270 --> 00:02:52,160
this is<font color="#E5E5E5"> something we</font><font color="#CCCCCC"> added for it client</font>

48
00:02:49,480 --> 00:02:55,130
<font color="#CCCCCC">it can be used in</font><font color="#E5E5E5"> and in installation</font>

49
00:02:52,160 --> 00:02:56,900
and in update processes<font color="#E5E5E5"> and it's more</font>

50
00:02:55,130 --> 00:02:59,780
secure because you do not need<font color="#E5E5E5"> to</font>

51
00:02:56,900 --> 00:03:02,240
<font color="#CCCCCC">provide the admin password to the</font>

52
00:02:59,780 --> 00:03:05,300
clients while<font color="#E5E5E5"> installing or working on</font>

53
00:03:02,240 --> 00:03:07,250
them<font color="#E5E5E5"> we have advanced outer detection</font>

54
00:03:05,300 --> 00:03:09,170
for clients so it's<font color="#E5E5E5"> not needed to</font>

55
00:03:07,250 --> 00:03:11,810
provide all information that is needed

56
00:03:09,170 --> 00:03:16,280
<font color="#CCCCCC">right now</font><font color="#E5E5E5"> for the normal client install</font>

57
00:03:11,810 --> 00:03:18,590
script and we can repair broken<font color="#E5E5E5"> client</font>

58
00:03:16,280 --> 00:03:21,350
installations<font color="#E5E5E5"> there's one exception if</font>

59
00:03:18,590 --> 00:03:23,390
the<font color="#CCCCCC"> kv-5</font><font color="#E5E5E5"> PDF is missing we cannot do</font>

60
00:03:21,350 --> 00:03:28,160
<font color="#CCCCCC">anything about this because</font><font color="#E5E5E5"> for</font><font color="#CCCCCC"> this we</font>

61
00:03:23,390 --> 00:03:30,500
need another of anticipation<font color="#E5E5E5"> so we come</font>

62
00:03:28,160 --> 00:03:33,650
to<font color="#E5E5E5"> the next one the free</font><font color="#CCCCCC"> IPA client</font>

63
00:03:30,500 --> 00:03:35,750
installation steps<font color="#CCCCCC"> so at</font><font color="#E5E5E5"> first the</font>

64
00:03:33,650 --> 00:03:39,200
domain discovery is done and validation

65
00:03:35,750 --> 00:03:42,620
<font color="#E5E5E5">of parameters time synchronization then</font>

66
00:03:39,200 --> 00:03:44,950
the enrollment<font color="#E5E5E5"> is happening so creating</font>

67
00:03:42,620 --> 00:03:49,190
a<font color="#CCCCCC"> host entry in</font><font color="#E5E5E5"> Keita</font>

68
00:03:44,950 --> 00:03:53,299
<font color="#CCCCCC">SSST Pam and NSS are configured Kerberos</font>

69
00:03:49,190 --> 00:03:56,590
client is<font color="#CCCCCC"> configure PKI</font><font color="#E5E5E5"> and</font><font color="#CCCCCC"> DNS so right</font>

70
00:03:53,300 --> 00:04:01,850
now we're coming<font color="#CCCCCC"> to client configuration</font>

71
00:03:56,590 --> 00:04:04,490
using ansible free IPA<font color="#CCCCCC"> so as</font><font color="#E5E5E5"> I said the</font>

72
00:04:01,850 --> 00:04:05,989
<font color="#CCCCCC">antelope free IPA</font><font color="#E5E5E5"> roles are depending</font>

73
00:04:04,490 --> 00:04:10,100
heavily on the code of<font color="#E5E5E5"> the normal</font>

74
00:04:05,990 --> 00:04:12,500
installers<font color="#E5E5E5"> so everything you do there</font>

75
00:04:10,100 --> 00:04:14,989
<font color="#CCCCCC">you can also do</font><font color="#E5E5E5"> with the with the</font>

76
00:04:12,500 --> 00:04:18,920
ansible roles<font color="#E5E5E5"> and additionally</font><font color="#CCCCCC"> we have</font>

77
00:04:14,990 --> 00:04:22,100
full<font color="#E5E5E5"> outer</font><font color="#CCCCCC"> discovery so there is no need</font>

78
00:04:18,920 --> 00:04:25,250
<font color="#CCCCCC">to provide domain or realm it simply</font>

79
00:04:22,100 --> 00:04:28,510
gets this<font color="#E5E5E5"> from as a simple try from the</font>

80
00:04:25,250 --> 00:04:33,670
fqdn of the client or<font color="#CCCCCC"> the server</font>

81
00:04:28,510 --> 00:04:36,250
and you it's using the<font color="#E5E5E5"> DNS SRV or txt</font>

82
00:04:33,670 --> 00:04:36,910
<font color="#E5E5E5">records and for l-dub and</font><font color="#CCCCCC"> capparis</font><font color="#E5E5E5"> to</font>

83
00:04:36,250 --> 00:04:39,370
find them

84
00:04:36,910 --> 00:04:41,320
there's by the way a<font color="#E5E5E5"> small issue you can</font>

85
00:04:39,370 --> 00:04:43,540
run into so if they're pointing to

86
00:04:41,320 --> 00:04:47,530
something wrong<font color="#CCCCCC"> yeah I'm sorry</font>

87
00:04:43,540 --> 00:04:49,270
so you can then say<font color="#CCCCCC"> okay</font><font color="#E5E5E5"> this</font><font color="#CCCCCC"> is the</font>

88
00:04:47,530 --> 00:04:51,479
<font color="#E5E5E5">domain I want to have this is real my</font>

89
00:04:49,270 --> 00:05:01,000
want to have and it will<font color="#CCCCCC"> overwrite the</font>

90
00:04:51,480 --> 00:05:02,710
<font color="#CCCCCC">settings you get from</font><font color="#E5E5E5"> DNS</font><font color="#CCCCCC"> okay oh I had</font>

91
00:05:01,000 --> 00:05:05,440
this I had<font color="#E5E5E5"> this okay we have free</font>

92
00:05:02,710 --> 00:05:08,849
supported enrollment types so the<font color="#E5E5E5"> normal</font>

93
00:05:05,440 --> 00:05:12,300
one is admin<font color="#E5E5E5"> principal and password</font><font color="#CCCCCC"> but</font>

94
00:05:08,850 --> 00:05:14,860
the common one but<font color="#CCCCCC"> I</font><font color="#E5E5E5"> like the OTP</font>

95
00:05:12,300 --> 00:05:17,320
<font color="#CCCCCC">version much more than that it's really</font>

96
00:05:14,860 --> 00:05:19,270
<font color="#CCCCCC">simple</font><font color="#E5E5E5"> in ansible free</font><font color="#CCCCCC"> IPA client</font>

97
00:05:17,320 --> 00:05:21,460
because it's only one<font color="#E5E5E5"> setting</font>

98
00:05:19,270 --> 00:05:24,130
you only need to<font color="#E5E5E5"> enable yes I want</font><font color="#CCCCCC"> to</font>

99
00:05:21,460 --> 00:05:29,049
use OTP<font color="#E5E5E5"> and</font><font color="#CCCCCC"> it will do it</font><font color="#E5E5E5"> for you and</font>

100
00:05:24,130 --> 00:05:32,980
you can also use a house key tab so yeah

101
00:05:29,050 --> 00:05:36,520
<font color="#E5E5E5">we have a very simple and minimal client</font>

102
00:05:32,980 --> 00:05:39,700
inventory<font color="#E5E5E5"> file for</font><font color="#CCCCCC"> piper clients so you</font>

103
00:05:36,520 --> 00:05:43,180
see there's only<font color="#E5E5E5"> the fqdn everything</font>

104
00:05:39,700 --> 00:05:45,520
else is covered<font color="#CCCCCC"> from from dia from</font>

105
00:05:43,180 --> 00:05:48,820
<font color="#E5E5E5">auto-discovery using dns records and</font>

106
00:05:45,520 --> 00:05:50,799
here we have the<font color="#E5E5E5"> the settings you can</font>

107
00:05:48,820 --> 00:05:55,810
add<font color="#E5E5E5"> there so there is a group</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> is</font>

108
00:05:50,800 --> 00:06:00,070
named<font color="#E5E5E5"> a</font><font color="#CCCCCC"> / ifas servers let you add the</font>

109
00:05:55,810 --> 00:06:02,170
<font color="#CCCCCC">information</font><font color="#E5E5E5"> about the servers so the</font>

110
00:06:00,070 --> 00:06:05,050
first one would be<font color="#E5E5E5"> the master the second</font>

111
00:06:02,170 --> 00:06:07,330
one could be<font color="#CCCCCC"> a replica and</font><font color="#E5E5E5"> so on if you</font>

112
00:06:05,050 --> 00:06:09,460
do not<font color="#CCCCCC"> have it it will try to all to</font>

113
00:06:07,330 --> 00:06:13,930
auto detect<font color="#CCCCCC"> it</font><font color="#E5E5E5"> if it's not there it will</font>

114
00:06:09,460 --> 00:06:17,530
<font color="#E5E5E5">complain</font><font color="#CCCCCC"> type</font><font color="#E5E5E5"> of clients this is also a</font>

115
00:06:13,930 --> 00:06:19,660
group<font color="#CCCCCC"> you can have one too many</font><font color="#E5E5E5"> entries</font>

116
00:06:17,530 --> 00:06:21,520
there and<font color="#CCCCCC"> anthro will take care about</font>

117
00:06:19,660 --> 00:06:26,500
this so<font color="#CCCCCC"> that all of them are installed</font>

118
00:06:21,520 --> 00:06:28,840
and in the playbook<font color="#CCCCCC"> or in in the</font>

119
00:06:26,500 --> 00:06:31,030
<font color="#E5E5E5">background you do not see this directly</font>

120
00:06:28,840 --> 00:06:33,039
<font color="#E5E5E5">if you</font><font color="#CCCCCC"> have</font><font color="#E5E5E5"> already machines in there</font>

121
00:06:31,030 --> 00:06:36,669
that are installed it will be<font color="#CCCCCC"> detected</font>

122
00:06:33,040 --> 00:06:38,260
<font color="#E5E5E5">it will be looked at the machine so is</font>

123
00:06:36,670 --> 00:06:40,090
there something<font color="#E5E5E5"> we</font><font color="#CCCCCC"> need to do is there</font>

124
00:06:38,260 --> 00:06:42,730
something we<font color="#CCCCCC"> need to</font><font color="#E5E5E5"> change</font>

125
00:06:40,090 --> 00:06:44,859
and if<font color="#E5E5E5"> everything is fine</font><font color="#CCCCCC"> it will</font><font color="#E5E5E5"> simply</font>

126
00:06:42,730 --> 00:06:47,260
stop the processing<font color="#E5E5E5"> of this</font><font color="#CCCCCC"> playbook for</font>

127
00:06:44,860 --> 00:06:49,870
<font color="#E5E5E5">the machine so it will continue with the</font>

128
00:06:47,260 --> 00:06:52,990
next<font color="#CCCCCC"> one</font><font color="#E5E5E5"> if there is</font><font color="#CCCCCC"> something it will</font>

129
00:06:49,870 --> 00:06:55,840
complain<font color="#E5E5E5"> if you additionally said allow</font>

130
00:06:52,990 --> 00:06:59,290
repair<font color="#E5E5E5"> the setting</font><font color="#CCCCCC"> you see you online</font>

131
00:06:55,840 --> 00:07:02,530
oh it's in here<font color="#E5E5E5"> the fourth</font><font color="#CCCCCC"> problem it</font>

132
00:06:59,290 --> 00:07:04,840
will<font color="#E5E5E5"> try to fix the machine as far</font><font color="#CCCCCC"> as</font>

133
00:07:02,530 --> 00:07:07,989
possible<font color="#CCCCCC"> there are</font><font color="#E5E5E5"> some cases yeah</font><font color="#CCCCCC"> as I</font>

134
00:07:04,840 --> 00:07:11,679
said missing<font color="#CCCCCC"> KOB five</font><font color="#E5E5E5"> kita we cannot fix</font>

135
00:07:07,990 --> 00:07:16,060
this easily<font color="#CCCCCC"> so the</font><font color="#E5E5E5"> next the next</font>

136
00:07:11,680 --> 00:07:18,669
settings are<font color="#E5E5E5"> REM a</font><font color="#CCCCCC"> I pas</font><font color="#E5E5E5"> a DM admin key</font>

137
00:07:16,060 --> 00:07:20,620
tap password in principle principle is

138
00:07:18,669 --> 00:07:23,289
something<font color="#CCCCCC"> you do</font><font color="#E5E5E5"> not need to set you can</font>

139
00:07:20,620 --> 00:07:25,630
but it<font color="#E5E5E5"> will be automatically</font><font color="#CCCCCC"> set if it's</font>

140
00:07:23,290 --> 00:07:27,820
not there<font color="#E5E5E5"> if you do not define it it</font>

141
00:07:25,630 --> 00:07:33,400
will<font color="#E5E5E5"> automatically be defined internally</font>

142
00:07:27,820 --> 00:07:37,690
as admin and you most<font color="#E5E5E5"> likely need to set</font>

143
00:07:33,400 --> 00:07:40,900
the password<font color="#E5E5E5"> in some sort</font><font color="#CCCCCC"> I prefer the</font>

144
00:07:37,690 --> 00:07:43,120
way to use ansible world for this so

145
00:07:40,900 --> 00:07:47,710
that you do<font color="#CCCCCC"> not have the password in the</font>

146
00:07:43,120 --> 00:07:50,169
inventory file but in a<font color="#E5E5E5"> vault file that</font>

147
00:07:47,710 --> 00:07:54,280
is secured and you can use<font color="#CCCCCC"> it in your</font>

148
00:07:50,169 --> 00:07:57,310
<font color="#CCCCCC">PlayBook</font><font color="#E5E5E5"> later on and if you add for</font>

149
00:07:54,280 --> 00:08:01,210
example<font color="#CCCCCC"> the use</font><font color="#E5E5E5"> Hyper client use OTP</font>

150
00:07:57,310 --> 00:08:03,880
equals yes<font color="#E5E5E5"> into your inventory file it</font>

151
00:08:01,210 --> 00:08:08,440
will automatically<font color="#E5E5E5"> switch to OTP usage</font>

152
00:08:03,880 --> 00:08:11,620
<font color="#E5E5E5">and if the client</font><font color="#CCCCCC"> already is part of the</font>

153
00:08:08,440 --> 00:08:13,840
domain<font color="#E5E5E5"> and there is a KOCO</font><font color="#CCCCCC"> 5 key</font><font color="#E5E5E5"> tab it</font>

154
00:08:11,620 --> 00:08:17,020
<font color="#E5E5E5">will simply detect it will use</font><font color="#CCCCCC"> it and</font>

155
00:08:13,840 --> 00:08:23,919
will not produce any errors on the

156
00:08:17,020 --> 00:08:25,539
machine if you have for<font color="#E5E5E5"> example a key</font>

157
00:08:23,919 --> 00:08:28,299
<font color="#E5E5E5">tab there that</font><font color="#CCCCCC"> is not matching the</font>

158
00:08:25,539 --> 00:08:31,389
<font color="#E5E5E5">domain and so on so you cannot use</font><font color="#CCCCCC"> it</font><font color="#E5E5E5"> it</font>

159
00:08:28,300 --> 00:08:35,320
<font color="#E5E5E5">will detect that and also fail so for</font>

160
00:08:31,389 --> 00:08:40,599
client<font color="#E5E5E5"> client is already major I would</font>

161
00:08:35,320 --> 00:08:44,650
say<font color="#CCCCCC"> mature and the server that comes</font>

162
00:08:40,599 --> 00:08:47,529
<font color="#E5E5E5">later is in earlier</font><font color="#CCCCCC"> states</font><font color="#E5E5E5"> its but I</font>

163
00:08:44,650 --> 00:08:50,770
will<font color="#E5E5E5"> discuss this</font><font color="#CCCCCC"> later on so there</font><font color="#E5E5E5"> are</font>

164
00:08:47,529 --> 00:08:52,750
other<font color="#E5E5E5"> settings K in it attends</font><font color="#CCCCCC"> ntp</font><font color="#E5E5E5"> no</font>

165
00:08:50,770 --> 00:08:56,470
ntp<font color="#CCCCCC"> this is wrong should</font>

166
00:08:52,750 --> 00:08:58,480
<font color="#CCCCCC">no ntp and M and</font><font color="#E5E5E5"> K home there for the</font>

167
00:08:56,470 --> 00:09:02,350
<font color="#E5E5E5">client itself and they are also</font>

168
00:08:58,480 --> 00:09:05,950
available<font color="#E5E5E5"> later on in the server so we</font>

169
00:09:02,350 --> 00:09:07,570
<font color="#E5E5E5">now come to</font><font color="#CCCCCC"> a to the play books</font><font color="#E5E5E5"> the</font>

170
00:09:05,950 --> 00:09:12,090
minimal play books

171
00:09:07,570 --> 00:09:12,090
so here's install client<font color="#CCCCCC"> yeah Mille</font><font color="#E5E5E5"> oh</font>

172
00:09:12,390 --> 00:09:31,390
it's dark I'm sorry I'm sorry

173
00:09:27,870 --> 00:09:34,690
so at<font color="#CCCCCC"> first we have the install client</font>

174
00:09:31,390 --> 00:09:36,580
<font color="#CCCCCC">yeah Mel fire you see here it's using</font>

175
00:09:34,690 --> 00:09:41,110
the host group<font color="#E5E5E5"> Piper clients that have</font>

176
00:09:36,580 --> 00:09:44,650
been<font color="#E5E5E5"> defined in in the inventory file</font><font color="#CCCCCC"> it</font>

177
00:09:41,110 --> 00:09:49,020
<font color="#E5E5E5">use a boss file to provide the the</font>

178
00:09:44,650 --> 00:09:51,850
password<font color="#CCCCCC"> that is a</font><font color="#E5E5E5"> ansible vault</font>

179
00:09:49,020 --> 00:09:54,280
security password<font color="#E5E5E5"> and then it calls the</font>

180
00:09:51,850 --> 00:09:58,150
<font color="#E5E5E5">role our client with a state present if</font>

181
00:09:54,280 --> 00:10:04,540
your<font color="#CCCCCC"> simples</font><font color="#E5E5E5"> replace present with</font><font color="#CCCCCC"> two</font>

182
00:09:58,150 --> 00:10:09,550
absent it will reinstall<font color="#E5E5E5"> our client so</font>

183
00:10:04,540 --> 00:10:13,959
as we only have half an hour<font color="#E5E5E5"> I I do not</font>

184
00:10:09,550 --> 00:10:17,920
have demos<font color="#E5E5E5"> but we come to server now</font><font color="#CCCCCC"> so</font>

185
00:10:13,960 --> 00:10:22,720
if you're using the the script here<font color="#E5E5E5"> so</font>

186
00:10:17,920 --> 00:10:25,180
the inventory file and also<font color="#E5E5E5"> the the play</font>

187
00:10:22,720 --> 00:10:27,310
books you can simply<font color="#CCCCCC"> use them</font><font color="#E5E5E5"> in the</font>

188
00:10:25,180 --> 00:10:29,469
upstream repository<font color="#CCCCCC"> and there are also</font>

189
00:10:27,310 --> 00:10:33,459
<font color="#E5E5E5">examples</font><font color="#CCCCCC"> also the variables are</font>

190
00:10:29,470 --> 00:10:35,500
explained there so for<font color="#CCCCCC"> IP server you see</font>

191
00:10:33,460 --> 00:10:38,230
the list is<font color="#E5E5E5"> a little bit longer</font><font color="#CCCCCC"> there</font>

192
00:10:35,500 --> 00:10:41,380
<font color="#E5E5E5">are much more steps so there is the main</font>

193
00:10:38,230 --> 00:10:44,950
discovery which is<font color="#E5E5E5"> currently not really</font>

194
00:10:41,380 --> 00:10:47,380
in there but it needs to<font color="#CCCCCC"> be</font><font color="#E5E5E5"> in there</font><font color="#CCCCCC"> so</font>

195
00:10:44,950 --> 00:10:51,930
for<font color="#E5E5E5"> example if you have already</font><font color="#CCCCCC"> a server</font>

196
00:10:47,380 --> 00:10:55,800
or for<font color="#CCCCCC"> example the</font><font color="#E5E5E5"> wrong DNS txt records</font>

197
00:10:51,930 --> 00:10:58,390
<font color="#E5E5E5">the normal installation also the ansible</font>

198
00:10:55,800 --> 00:11:00,670
<font color="#E5E5E5">IP a server installation will simply</font>

199
00:10:58,390 --> 00:11:04,540
fail<font color="#E5E5E5"> because at some point</font><font color="#CCCCCC"> it will use</font>

200
00:11:00,670 --> 00:11:08,050
them<font color="#E5E5E5"> sadly</font><font color="#CCCCCC"> so there will</font><font color="#E5E5E5"> be some</font>

201
00:11:04,540 --> 00:11:09,880
<font color="#E5E5E5">additional domain discovery code or</font>

202
00:11:08,050 --> 00:11:14,380
domain discovery in the beginning of the

203
00:11:09,880 --> 00:11:16,620
<font color="#CCCCCC">hyper server setup so that</font><font color="#E5E5E5"> it's able to</font>

204
00:11:14,380 --> 00:11:21,480
find out oh there is<font color="#E5E5E5"> something</font>

205
00:11:16,620 --> 00:11:24,880
conflicting and maybe we are<font color="#CCCCCC"> able to</font>

206
00:11:21,480 --> 00:11:28,060
discover how<font color="#CCCCCC"> we can solve this end or it</font>

207
00:11:24,880 --> 00:11:31,330
will simply fail we will see it will

208
00:11:28,060 --> 00:11:33,579
validate the parameters in this<font color="#E5E5E5"> step it</font>

209
00:11:31,330 --> 00:11:36,820
will configure the<font color="#E5E5E5"> firewall this step is</font>

210
00:11:33,580 --> 00:11:41,470
up to you right now because we do not

211
00:11:36,820 --> 00:11:42,900
<font color="#E5E5E5">have one firewall solution for all the</font>

212
00:11:41,470 --> 00:11:44,950
next<font color="#E5E5E5"> step is time summary</font>

213
00:11:42,900 --> 00:11:48,180
synchronization and configuration

214
00:11:44,950 --> 00:11:52,740
directory server<font color="#E5E5E5"> configuration cover us</font>

215
00:11:48,180 --> 00:11:52,739
certificate server<font color="#E5E5E5"> Cabras again</font>

216
00:11:53,430 --> 00:11:59,680
OTP custodia HTTP<font color="#E5E5E5"> our HTTP and so on you</font>

217
00:11:57,790 --> 00:12:01,449
see<font color="#E5E5E5"> it's</font><font color="#CCCCCC"> really a long list this</font><font color="#E5E5E5"> is</font><font color="#CCCCCC"> the</font>

218
00:11:59,680 --> 00:12:04,510
<font color="#E5E5E5">reason one of the</font><font color="#CCCCCC"> reasons why it</font><font color="#E5E5E5"> takes a</font>

219
00:12:01,450 --> 00:12:07,570
little bit<font color="#E5E5E5"> longer just</font><font color="#CCCCCC"> to install</font><font color="#E5E5E5"> the</font>

220
00:12:04,510 --> 00:12:10,300
server<font color="#E5E5E5"> and in the end there</font><font color="#CCCCCC"> is the</font>

221
00:12:07,570 --> 00:12:13,570
client<font color="#CCCCCC"> configuration and lately I've</font>

222
00:12:10,300 --> 00:12:17,800
been<font color="#CCCCCC"> able to use I per</font><font color="#E5E5E5"> client role for</font>

223
00:12:13,570 --> 00:12:21,400
this<font color="#E5E5E5"> because in ansible</font><font color="#CCCCCC"> I had a fix</font><font color="#E5E5E5"> that</font>

224
00:12:17,800 --> 00:12:24,910
I can use so include role can<font color="#CCCCCC"> be used</font>

225
00:12:21,400 --> 00:12:27,730
now for<font color="#E5E5E5"> the client so it's really nice</font><font color="#CCCCCC"> i</font>

226
00:12:24,910 --> 00:12:29,949
<font color="#E5E5E5">per server is using</font><font color="#CCCCCC"> I per client role to</font>

227
00:12:27,730 --> 00:12:35,350
set up the client with on master

228
00:12:29,950 --> 00:12:37,600
settings<font color="#E5E5E5"> so now we come to a server</font>

229
00:12:35,350 --> 00:12:40,780
inventory file<font color="#E5E5E5"> you see it's a little bit</font>

230
00:12:37,600 --> 00:12:43,420
longer<font color="#E5E5E5"> but you need</font><font color="#CCCCCC"> to set some things</font>

231
00:12:40,780 --> 00:12:45,870
<font color="#E5E5E5">here and here I simply edit</font><font color="#CCCCCC"> the</font>

232
00:12:43,420 --> 00:12:50,260
passwords<font color="#E5E5E5"> yeah I know they're rubbish</font>

233
00:12:45,870 --> 00:12:53,230
and you can simply<font color="#CCCCCC"> also use vault</font>

234
00:12:50,260 --> 00:12:57,220
password here<font color="#CCCCCC"> and here</font><font color="#E5E5E5"> you also see an</font>

235
00:12:53,230 --> 00:13:00,520
excerpt of the settings you<font color="#CCCCCC"> can use for</font>

236
00:12:57,220 --> 00:13:03,070
the server<font color="#E5E5E5"> inventory for all of them are</font>

237
00:13:00,520 --> 00:13:04,800
explained in the repository so there is

238
00:13:03,070 --> 00:13:08,080
a server<font color="#E5E5E5"> md5</font>

239
00:13:04,800 --> 00:13:10,599
so here you see<font color="#E5E5E5"> it's using</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> pass over</font>

240
00:13:08,080 --> 00:13:12,430
<font color="#E5E5E5">because yeah I want to make</font><font color="#CCCCCC"> sure that</font>

241
00:13:10,600 --> 00:13:16,960
everyone understands there's expect<font color="#CCCCCC"> lis</font>

242
00:13:12,430 --> 00:13:20,280
one server<font color="#CCCCCC"> and because I pay replica</font>

243
00:13:16,960 --> 00:13:25,030
<font color="#E5E5E5">is another thing and with the combined</font>

244
00:13:20,280 --> 00:13:27,069
<font color="#E5E5E5">playbook that we will have later on it</font>

245
00:13:25,030 --> 00:13:29,410
will<font color="#E5E5E5"> be possible to make this a little</font>

246
00:13:27,070 --> 00:13:32,320
<font color="#CCCCCC">bit</font><font color="#E5E5E5"> easier so</font><font color="#CCCCCC"> that it</font><font color="#E5E5E5"> will have that it</font>

247
00:13:29,410 --> 00:13:34,329
could this could out<font color="#CCCCCC"> of</font><font color="#E5E5E5"> this cover</font><font color="#CCCCCC"> where</font>

248
00:13:32,320 --> 00:13:36,550
is the real<font color="#E5E5E5"> one or it will take the</font>

249
00:13:34,330 --> 00:13:43,180
<font color="#E5E5E5">first one is real master and the others</font>

250
00:13:36,550 --> 00:13:45,010
<font color="#E5E5E5">replica and we have virus here</font><font color="#CCCCCC"> so we are</font>

251
00:13:43,180 --> 00:13:47,949
we need<font color="#CCCCCC"> to set the domain but we can</font>

252
00:13:45,010 --> 00:13:51,310
also get<font color="#E5E5E5"> this from the fqdn which is</font>

253
00:13:47,950 --> 00:13:53,320
right<font color="#E5E5E5"> not there and also the rearm we</font>

254
00:13:51,310 --> 00:13:56,439
have the admin password and the DM

255
00:13:53,320 --> 00:14:01,750
password that we should set either this

256
00:13:56,440 --> 00:14:04,030
way or with a<font color="#CCCCCC"> bold file</font><font color="#E5E5E5"> and if you look</font>

257
00:14:01,750 --> 00:14:06,610
<font color="#CCCCCC">further down</font><font color="#E5E5E5"> you see there's also I per</font>

258
00:14:04,030 --> 00:14:10,780
client<font color="#CCCCCC"> know</font><font color="#E5E5E5"> NTP</font><font color="#CCCCCC"> I</font><font color="#E5E5E5"> have a client MK home</font>

259
00:14:06,610 --> 00:14:14,140
dear<font color="#CCCCCC"> so the the</font><font color="#E5E5E5"> server already tries to</font>

260
00:14:10,780 --> 00:14:16,810
make<font color="#CCCCCC"> it more</font><font color="#E5E5E5"> obvious very what it will</font>

261
00:14:14,140 --> 00:14:18,730
be affected<font color="#CCCCCC"> by the setting so there will</font>

262
00:14:16,810 --> 00:14:21,729
<font color="#E5E5E5">be some adaptions also in the client and</font>

263
00:14:18,730 --> 00:14:24,220
there<font color="#E5E5E5"> it will also be</font><font color="#CCCCCC"> reflected in</font><font color="#E5E5E5"> IP</font><font color="#CCCCCC"> a</font>

264
00:14:21,730 --> 00:14:27,640
<font color="#E5E5E5">replica so that you have the same</font>

265
00:14:24,220 --> 00:14:28,930
<font color="#E5E5E5">settings everywhere so no ntp and MK</font>

266
00:14:27,640 --> 00:14:33,670
home there are<font color="#CCCCCC"> things that</font><font color="#E5E5E5"> are affecting</font>

267
00:14:28,930 --> 00:14:38,829
the client and it's done there so they

268
00:14:33,670 --> 00:14:41,229
will use<font color="#CCCCCC"> this</font><font color="#E5E5E5"> prefix as a name so the</font>

269
00:14:38,830 --> 00:14:43,960
next ones are the<font color="#CCCCCC"> playbooks</font><font color="#E5E5E5"> for server</font>

270
00:14:41,230 --> 00:14:45,730
so we<font color="#CCCCCC"> have install server and install i</font>

271
00:14:43,960 --> 00:14:48,130
mean for<font color="#E5E5E5"> cover you see</font><font color="#CCCCCC"> they're</font><font color="#E5E5E5"> very</font>

272
00:14:45,730 --> 00:14:50,710
<font color="#CCCCCC">similar</font><font color="#E5E5E5"> to</font><font color="#CCCCCC"> the other one to the client</font>

273
00:14:48,130 --> 00:14:52,660
ones<font color="#E5E5E5"> I left out</font><font color="#CCCCCC"> the vault fire here</font>

274
00:14:50,710 --> 00:14:56,830
because the passwords are already part

275
00:14:52,660 --> 00:15:02,260
of<font color="#E5E5E5"> the inventory file and the next one</font>

276
00:14:56,830 --> 00:15:04,030
is then the cluster inventory file so

277
00:15:02,260 --> 00:15:05,980
this is really<font color="#E5E5E5"> something nice we can do</font>

278
00:15:04,030 --> 00:15:09,850
<font color="#E5E5E5">now we can install it first the server</font>

279
00:15:05,980 --> 00:15:12,370
and afterwards several clients<font color="#E5E5E5"> and to</font>

280
00:15:09,850 --> 00:15:14,410
have settings that are available<font color="#CCCCCC"> for</font><font color="#E5E5E5"> I</font>

281
00:15:12,370 --> 00:15:18,670
per client and episode at<font color="#E5E5E5"> the same time</font>

282
00:15:14,410 --> 00:15:21,219
I'm using an additional<font color="#E5E5E5"> group which is</font>

283
00:15:18,670 --> 00:15:23,410
<font color="#E5E5E5">iPod it's not used later on it's only</font>

284
00:15:21,220 --> 00:15:26,050
here to make<font color="#CCCCCC"> sure</font><font color="#E5E5E5"> that the settings we</font>

285
00:15:23,410 --> 00:15:27,610
<font color="#CCCCCC">have in iPod bars</font><font color="#E5E5E5"> are available</font><font color="#CCCCCC"> in the</font>

286
00:15:26,050 --> 00:15:30,040
clients<font color="#E5E5E5"> of iPod so I</font>

287
00:15:27,610 --> 00:15:32,860
and epic lines you can name this group

288
00:15:30,040 --> 00:15:34,779
<font color="#E5E5E5">whatever you want to that but please</font>

289
00:15:32,860 --> 00:15:40,209
<font color="#E5E5E5">don't use</font><font color="#CCCCCC"> I per</font><font color="#E5E5E5"> server</font><font color="#CCCCCC"> I per client for</font>

290
00:15:34,779 --> 00:15:43,240
<font color="#E5E5E5">this so with the</font><font color="#CCCCCC"> hyper server</font><font color="#E5E5E5"> boss we</font>

291
00:15:40,209 --> 00:15:46,329
<font color="#CCCCCC">have in the top this</font><font color="#E5E5E5"> will only be</font>

292
00:15:43,240 --> 00:15:48,490
visible<font color="#E5E5E5"> in the I</font><font color="#CCCCCC"> Passover</font><font color="#E5E5E5"> role and our</font>

293
00:15:46,329 --> 00:15:50,949
<font color="#E5E5E5">client</font><font color="#CCCCCC"> bars will only be visible</font><font color="#E5E5E5"> in the</font>

294
00:15:48,490 --> 00:15:55,209
upper client role so<font color="#E5E5E5"> we have some</font>

295
00:15:50,950 --> 00:16:01,000
<font color="#CCCCCC">separation but do you have a question</font>

296
00:15:55,209 --> 00:16:03,729
<font color="#CCCCCC">okay</font><font color="#E5E5E5"> but it's possible</font><font color="#CCCCCC"> with some tricks</font>

297
00:16:01,000 --> 00:16:06,640
or with some<font color="#E5E5E5"> magic to access them also</font>

298
00:16:03,730 --> 00:16:11,320
<font color="#E5E5E5">but so it's not really separation but it</font>

299
00:16:06,640 --> 00:16:14,470
it's simpler for the user and we come to

300
00:16:11,320 --> 00:16:16,180
the<font color="#E5E5E5"> playbook so the install cluster</font>

301
00:16:14,470 --> 00:16:18,459
playbook is a little bit longer than<font color="#E5E5E5"> the</font>

302
00:16:16,180 --> 00:16:22,810
<font color="#CCCCCC">other one because it simply consists</font><font color="#E5E5E5"> of</font>

303
00:16:18,459 --> 00:16:24,939
<font color="#CCCCCC">two you right now the server is tried it</font>

304
00:16:22,810 --> 00:16:26,619
<font color="#E5E5E5">first and then declines and if the</font>

305
00:16:24,940 --> 00:16:28,420
server fails in this playbook the

306
00:16:26,620 --> 00:16:31,240
<font color="#E5E5E5">clients will be tried to install either</font>

307
00:16:28,420 --> 00:16:33,610
way<font color="#E5E5E5"> but we can combine them but it's not</font>

308
00:16:31,240 --> 00:16:37,660
done here because<font color="#E5E5E5"> for</font><font color="#CCCCCC"> this we need some</font>

309
00:16:33,610 --> 00:16:40,870
more magic<font color="#E5E5E5"> in the in the</font><font color="#CCCCCC"> playbook of the</font>

310
00:16:37,660 --> 00:16:43,180
server to make<font color="#E5E5E5"> sure that if the service</font>

311
00:16:40,870 --> 00:16:46,470
<font color="#E5E5E5">already installed it's not stopping the</font>

312
00:16:43,180 --> 00:16:46,469
processing for<font color="#CCCCCC"> the clients</font>

313
00:16:47,910 --> 00:16:54,870
and what I've<font color="#E5E5E5"> done here if you have a</font>

314
00:16:52,199 --> 00:16:58,709
look<font color="#E5E5E5"> back at the previous slide</font><font color="#CCCCCC"> you see</font>

315
00:16:54,870 --> 00:17:00,720
<font color="#CCCCCC">setup DNS is turned off here and all the</font>

316
00:16:58,709 --> 00:17:04,260
<font color="#E5E5E5">forward this is also not enabled because</font>

317
00:17:00,720 --> 00:17:07,110
it also needs<font color="#CCCCCC"> set up DNS</font><font color="#E5E5E5"> this is because</font>

318
00:17:04,260 --> 00:17:10,470
I'm<font color="#CCCCCC"> using the</font><font color="#E5E5E5"> external DNS server so</font>

319
00:17:07,109 --> 00:17:15,000
there's already mapping and reverse

320
00:17:10,470 --> 00:17:18,299
mapping<font color="#CCCCCC"> and if you want to use setup DNS</font>

321
00:17:15,000 --> 00:17:22,919
<font color="#E5E5E5">you need to add an additional step</font>

322
00:17:18,299 --> 00:17:25,408
between<font color="#E5E5E5"> servers and clients to to add</font>

323
00:17:22,919 --> 00:17:30,390
the client<font color="#CCCCCC"> up here dresses</font><font color="#E5E5E5"> names</font><font color="#CCCCCC"> f.2d</font>

324
00:17:25,409 --> 00:17:32,970
ends into<font color="#E5E5E5"> the DNS server of the server</font><font color="#CCCCCC"> I</font>

325
00:17:30,390 --> 00:17:35,720
left<font color="#E5E5E5"> this out there is a module already</font>

326
00:17:32,970 --> 00:17:38,400
<font color="#E5E5E5">available in ansible itself</font><font color="#CCCCCC"> I per host</font>

327
00:17:35,720 --> 00:17:42,900
with<font color="#CCCCCC"> add and so on you should it should</font>

328
00:17:38,400 --> 00:17:45,600
<font color="#CCCCCC">be</font><font color="#E5E5E5"> simple</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> add them and finally if we</font>

329
00:17:42,900 --> 00:17:50,400
come to the uninstall cluster so it's

330
00:17:45,600 --> 00:17:53,459
simply reverse of the install cluster

331
00:17:50,400 --> 00:17:55,380
<font color="#CCCCCC">yellow file</font><font color="#E5E5E5"> so it first its uninstall</font><font color="#CCCCCC"> su</font>

332
00:17:53,460 --> 00:17:58,799
client and then install the server and

333
00:17:55,380 --> 00:18:02,070
<font color="#E5E5E5">in sauce the server and after you've</font>

334
00:17:58,799 --> 00:18:06,539
<font color="#E5E5E5">done this it's behaving exactly</font><font color="#CCCCCC"> the same</font>

335
00:18:02,070 --> 00:18:10,168
<font color="#E5E5E5">with as with the current installers so</font>

336
00:18:06,539 --> 00:18:12,809
it cleans up most mostly<font color="#E5E5E5"> all files</font><font color="#CCCCCC"> there</font>

337
00:18:10,169 --> 00:18:15,120
are<font color="#CCCCCC"> some remains yes</font><font color="#E5E5E5"> but this is also</font>

338
00:18:12,809 --> 00:18:18,990
with<font color="#E5E5E5"> the normal installers and we</font><font color="#CCCCCC"> might</font>

339
00:18:15,120 --> 00:18:21,629
address this in a year at<font color="#E5E5E5"> the later</font>

340
00:18:18,990 --> 00:18:23,730
point<font color="#CCCCCC"> so that</font><font color="#E5E5E5"> we will fix this in in the</font>

341
00:18:21,630 --> 00:18:28,919
normal in sauce and also<font color="#CCCCCC"> in the ansible</font>

342
00:18:23,730 --> 00:18:29,290
installers so I think I was too fast

343
00:18:28,919 --> 00:18:32,950
right

344
00:18:29,290 --> 00:18:32,950
[Laughter]

345
00:18:34,609 --> 00:18:40,668
yeah<font color="#E5E5E5"> or maybe I can show you an</font>

346
00:18:37,169 --> 00:18:44,009
insulation but it will take some<font color="#CCCCCC"> time</font>

347
00:18:40,669 --> 00:18:46,259
<font color="#E5E5E5">let's see I think 40 minutes something</font>

348
00:18:44,009 --> 00:18:51,149
<font color="#E5E5E5">like this so here I have virtual</font>

349
00:18:46,259 --> 00:18:54,059
machines<font color="#E5E5E5"> there is a server here</font><font color="#CCCCCC"> are</font>

350
00:18:51,149 --> 00:18:58,998
<font color="#E5E5E5">freak lines</font><font color="#CCCCCC"> two of them running Fedora</font>

351
00:18:54,059 --> 00:19:02,009
27<font color="#E5E5E5"> one is rel 74 and I use the</font>

352
00:18:58,999 --> 00:19:04,950
<font color="#CCCCCC">uninstalled before so I can simply run</font>

353
00:19:02,009 --> 00:19:06,629
install and it will hear some

354
00:19:04,950 --> 00:19:13,219
deprecation warnings from ansible

355
00:19:06,629 --> 00:19:16,139
<font color="#E5E5E5">basically great oh no I have no network</font>

356
00:19:13,219 --> 00:19:20,279
so it tries<font color="#CCCCCC"> to install the packages yep</font>

357
00:19:16,139 --> 00:19:22,189
<font color="#E5E5E5">and it will simply fail expected I'm</font>

358
00:19:20,279 --> 00:19:27,619
sorry

359
00:19:22,190 --> 00:19:27,619
so we should have something<font color="#CCCCCC"> soon</font>

360
00:19:29,950 --> 00:19:41,830
<font color="#CCCCCC">No so so now it should be able</font><font color="#E5E5E5"> to access</font>

361
00:19:38,760 --> 00:19:45,850
the repositories<font color="#E5E5E5"> from the</font><font color="#CCCCCC"> packet for the</font>

362
00:19:41,830 --> 00:19:53,850
packages<font color="#E5E5E5"> oh come on</font>

363
00:19:45,850 --> 00:19:56,740
ah<font color="#E5E5E5"> okay looks better</font><font color="#CCCCCC"> so um it it first</font>

364
00:19:53,850 --> 00:19:59,350
installs the packages<font color="#CCCCCC"> oh there is by the</font>

365
00:19:56,740 --> 00:20:02,049
way of warning from from the normal

366
00:19:59,350 --> 00:20:05,620
<font color="#E5E5E5">installer that</font><font color="#CCCCCC"> Ronnie will</font><font color="#E5E5E5"> be used</font><font color="#CCCCCC"> it</font>

367
00:20:02,049 --> 00:20:07,929
<font color="#E5E5E5">will be disabled yeah in the server this</font>

368
00:20:05,620 --> 00:20:12,059
needs to<font color="#E5E5E5"> be addressed</font><font color="#CCCCCC"> still there</font><font color="#E5E5E5"> is</font>

369
00:20:07,929 --> 00:20:15,880
called code<font color="#E5E5E5"> already to not depend</font><font color="#CCCCCC"> on</font><font color="#E5E5E5"> NTP</font>

370
00:20:12,059 --> 00:20:19,960
but it's not<font color="#CCCCCC"> there yet and I'm using the</font>

371
00:20:15,880 --> 00:20:22,990
upstream repository here so you<font color="#E5E5E5"> see it's</font>

372
00:20:19,960 --> 00:20:28,389
doing lots of things<font color="#CCCCCC"> I'm started in</font>

373
00:20:22,990 --> 00:20:32,440
verbose mode<font color="#E5E5E5"> so here it's doing</font><font color="#CCCCCC"> the</font>

374
00:20:28,389 --> 00:20:35,799
tests<font color="#CCCCCC"> it creates the the</font><font color="#E5E5E5"> ID</font><font color="#CCCCCC"> max</font><font color="#E5E5E5"> ID start</font>

375
00:20:32,440 --> 00:20:39,159
<font color="#E5E5E5">it it takes I pop - version by the way</font>

376
00:20:35,799 --> 00:20:44,980
this is<font color="#CCCCCC"> also an</font><font color="#E5E5E5"> interesting thing as I</font>

377
00:20:39,159 --> 00:20:47,620
power bindings are up to now<font color="#CCCCCC"> partly</font>

378
00:20:44,980 --> 00:20:50,529
<font color="#E5E5E5">Python</font><font color="#CCCCCC"> free or mostly python free</font><font color="#E5E5E5"> there</font>

379
00:20:47,620 --> 00:20:55,120
<font color="#E5E5E5">are some</font><font color="#CCCCCC"> issues with older versions so</font>

380
00:20:50,529 --> 00:20:56,950
I'm with the but the<font color="#E5E5E5"> great roles are</font>

381
00:20:55,120 --> 00:21:00,489
doing or the modules<font color="#E5E5E5"> that are used in</font>

382
00:20:56,950 --> 00:21:03,669
<font color="#E5E5E5">the roles are doing is to detect what -</font>

383
00:21:00,490 --> 00:21:07,659
<font color="#CCCCCC">version do</font><font color="#E5E5E5"> I have in the</font><font color="#CCCCCC"> system</font><font color="#E5E5E5"> can I</font>

384
00:21:03,669 --> 00:21:09,730
use<font color="#CCCCCC"> it also for IPA</font><font color="#E5E5E5"> do I need to go to -</font>

385
00:21:07,659 --> 00:21:12,309
or can<font color="#E5E5E5"> I use free and so on so there's</font>

386
00:21:09,730 --> 00:21:14,100
some version checks in there and also<font color="#CCCCCC"> to</font>

387
00:21:12,309 --> 00:21:17,889
make sure<font color="#E5E5E5"> that</font><font color="#CCCCCC"> the imports are working</font>

388
00:21:14,100 --> 00:21:21,039
sadly and we cannot support<font color="#E5E5E5"> old</font><font color="#CCCCCC"> I</font>

389
00:21:17,889 --> 00:21:24,340
perversions right now and I don't<font color="#E5E5E5"> know</font>

390
00:21:21,039 --> 00:21:26,169
if we can get there easily because there

391
00:21:24,340 --> 00:21:29,980
have<font color="#E5E5E5"> been major changes internally and</font>

392
00:21:26,169 --> 00:21:32,380
<font color="#E5E5E5">SD</font><font color="#CCCCCC"> the modules</font><font color="#E5E5E5"> that are you better</font>

393
00:21:29,980 --> 00:21:35,220
create have been created<font color="#E5E5E5"> for this are</font>

394
00:21:32,380 --> 00:21:37,870
<font color="#CCCCCC">using code from the Installer</font><font color="#E5E5E5"> scripts</font>

395
00:21:35,220 --> 00:21:41,260
the old<font color="#E5E5E5"> installer scripts have been a</font>

396
00:21:37,870 --> 00:21:43,870
long thing is spaghetti<font color="#E5E5E5"> code so it's not</font>

397
00:21:41,260 --> 00:21:47,440
easily<font color="#E5E5E5"> possible to get some</font>

398
00:21:43,870 --> 00:21:50,139
<font color="#CCCCCC">peas out of</font><font color="#E5E5E5"> it and for</font><font color="#CCCCCC"> Hyper</font><font color="#E5E5E5"> client for</font>

399
00:21:47,440 --> 00:22:03,700
<font color="#CCCCCC">four</font><font color="#E5E5E5"> I already did some tricks to be</font>

400
00:21:50,140 --> 00:22:06,100
able<font color="#E5E5E5"> to use the script yes said I'm</font>

401
00:22:03,700 --> 00:22:09,190
<font color="#E5E5E5">doing ends about myself and of course</font>

402
00:22:06,100 --> 00:22:16,809
I'm<font color="#E5E5E5"> writing for the service it's okay to</font>

403
00:22:09,190 --> 00:22:19,000
say<font color="#CCCCCC"> it needs this system environment for</font>

404
00:22:16,809 --> 00:22:21,700
all<font color="#E5E5E5"> the clients you have out there</font><font color="#CCCCCC"> you</font>

405
00:22:19,000 --> 00:22:25,950
know it's it's pretty hard to decide

406
00:22:21,700 --> 00:22:29,170
where to<font color="#CCCCCC"> draw the line</font><font color="#E5E5E5"> yet and we are</font>

407
00:22:25,950 --> 00:22:31,150
when you interfere with<font color="#E5E5E5"> some basic</font>

408
00:22:29,170 --> 00:22:33,400
modules the system administrators

409
00:22:31,150 --> 00:22:35,320
already yeah but this is<font color="#E5E5E5"> this</font><font color="#CCCCCC"> is an</font>

410
00:22:33,400 --> 00:22:42,840
issue<font color="#E5E5E5"> with the normal install the script</font>

411
00:22:35,320 --> 00:22:47,169
<font color="#CCCCCC">too and I right now</font><font color="#E5E5E5"> we're doing</font><font color="#CCCCCC"> exactly</font>

412
00:22:42,840 --> 00:22:49,510
yeah we have them<font color="#E5E5E5"> as long as the IP</font>

413
00:22:47,170 --> 00:22:53,260
installer<font color="#E5E5E5"> the install scripts normals</font>

414
00:22:49,510 --> 00:22:56,050
<font color="#E5E5E5">one normal ones happen</font><font color="#CCCCCC"> to but it is</font>

415
00:22:53,260 --> 00:22:59,320
<font color="#E5E5E5">planned for example we have the the</font>

416
00:22:56,050 --> 00:23:01,270
module to<font color="#CCCCCC"> setup NTP and as soon as</font>

417
00:22:59,320 --> 00:23:04,389
<font color="#E5E5E5">there's a role that we</font><font color="#CCCCCC"> can easily use</font>

418
00:23:01,270 --> 00:23:07,030
for NTP configuration we switch over<font color="#CCCCCC"> to</font>

419
00:23:04,390 --> 00:23:09,790
this one and we<font color="#CCCCCC"> will do the</font><font color="#E5E5E5"> same</font><font color="#CCCCCC"> for</font>

420
00:23:07,030 --> 00:23:12,160
cameras for<font color="#CCCCCC"> SSST and so on so it was</font>

421
00:23:09,790 --> 00:23:13,990
<font color="#E5E5E5">really important to split the whole</font>

422
00:23:12,160 --> 00:23:16,630
thing up<font color="#E5E5E5"> into small</font><font color="#CCCCCC"> pieces</font><font color="#E5E5E5"> that we can</font>

423
00:23:13,990 --> 00:23:18,760
simply replace<font color="#E5E5E5"> at some moment with roles</font>

424
00:23:16,630 --> 00:23:21,280
that are providing the functionality<font color="#E5E5E5"> and</font>

425
00:23:18,760 --> 00:23:29,820
are able<font color="#CCCCCC"> to really configure your</font>

426
00:23:21,280 --> 00:23:31,990
service I found it hard to really pass

427
00:23:29,820 --> 00:23:34,510
notifications or<font color="#CCCCCC"> threat to the system</font>

428
00:23:31,990 --> 00:23:36,250
<font color="#CCCCCC">like this thing</font><font color="#E5E5E5"> any change is really</font>

429
00:23:34,510 --> 00:23:41,158
notifying

430
00:23:36,250 --> 00:23:48,610
we started over<font color="#CCCCCC"> always</font><font color="#E5E5E5"> that's pretty hot</font>

431
00:23:41,159 --> 00:23:52,299
that's almost unfeasible we um one thing

432
00:23:48,610 --> 00:23:53,979
that another thing<font color="#E5E5E5"> that we do not have</font>

433
00:23:52,299 --> 00:23:56,918
in<font color="#CCCCCC"> the server right now our external ca</font>

434
00:23:53,980 --> 00:23:59,020
<font color="#E5E5E5">so the code</font><font color="#CCCCCC"> is there it might</font><font color="#E5E5E5"> be</font><font color="#CCCCCC"> working</font>

435
00:23:56,919 --> 00:24:02,350
<font color="#E5E5E5">but we're working on a solution to have</font>

436
00:23:59,020 --> 00:24:05,500
external<font color="#E5E5E5"> CA before installing the server</font>

437
00:24:02,350 --> 00:24:07,928
that<font color="#CCCCCC"> you have</font><font color="#E5E5E5"> a single step to set it up</font>

438
00:24:05,500 --> 00:24:10,539
<font color="#E5E5E5">to get all the signing request to have</font>

439
00:24:07,929 --> 00:24:13,059
<font color="#E5E5E5">all together and to start</font><font color="#CCCCCC"> this the</font>

440
00:24:10,539 --> 00:24:16,690
server<font color="#CCCCCC"> insulating installation using</font>

441
00:24:13,059 --> 00:24:19,178
external see a completely afterwards so

442
00:24:16,690 --> 00:24:23,530
because the the<font color="#E5E5E5"> can wall to stop</font>

443
00:24:19,179 --> 00:24:25,870
processing and writing a file<font color="#CCCCCC"> out and</font>

444
00:24:23,530 --> 00:24:30,129
asking<font color="#E5E5E5"> the user some questions it's not</font>

445
00:24:25,870 --> 00:24:33,520
working with principal so but<font color="#CCCCCC"> we're</font>

446
00:24:30,130 --> 00:24:36,820
<font color="#E5E5E5">working on this maybe in some I don't</font>

447
00:24:33,520 --> 00:24:39,250
<font color="#CCCCCC">know in some time we</font><font color="#E5E5E5"> will have a</font>

448
00:24:36,820 --> 00:24:43,120
<font color="#E5E5E5">solution for</font><font color="#CCCCCC"> that</font><font color="#E5E5E5"> because we need it for</font>

449
00:24:39,250 --> 00:24:48,120
<font color="#CCCCCC">several other</font><font color="#E5E5E5"> things too so and you see</font>

450
00:24:43,120 --> 00:24:52,330
right<font color="#CCCCCC"> now HTTP</font><font color="#E5E5E5"> okay</font><font color="#CCCCCC"> CA is done already</font>

451
00:24:48,120 --> 00:24:58,959
so<font color="#E5E5E5"> mmm how much time do we</font><font color="#CCCCCC"> have still 5</font>

452
00:24:52,330 --> 00:25:02,399
minutes might and we have a<font color="#E5E5E5"> little bit</font>

453
00:24:58,960 --> 00:25:05,049
overhead<font color="#CCCCCC"> we're free ansible</font><font color="#E5E5E5"> with the</font>

454
00:25:02,400 --> 00:25:07,210
cutting into pieces but<font color="#E5E5E5"> it's really not</font>

455
00:25:05,049 --> 00:25:09,429
that<font color="#E5E5E5"> much and the good thing is for</font>

456
00:25:07,210 --> 00:25:12,250
example<font color="#CCCCCC"> with the client</font><font color="#E5E5E5"> we have been</font>

457
00:25:09,429 --> 00:25:15,940
able<font color="#CCCCCC"> to add so nice features for example</font>

458
00:25:12,250 --> 00:25:19,179
the OTP stuff<font color="#CCCCCC"> so it's it's</font><font color="#E5E5E5"> really worth</font>

459
00:25:15,940 --> 00:25:21,970
it<font color="#E5E5E5"> and ok we could have done this simple</font>

460
00:25:19,179 --> 00:25:26,260
version with simply calling<font color="#E5E5E5"> the install</font>

461
00:25:21,970 --> 00:25:29,830
script<font color="#CCCCCC"> up we're at clients now so here</font>

462
00:25:26,260 --> 00:25:33,700
are<font color="#E5E5E5"> the</font><font color="#CCCCCC"> clients</font><font color="#E5E5E5"> want to free it's trying</font>

463
00:25:29,830 --> 00:25:35,559
to set up the it's doing the importing

464
00:25:33,700 --> 00:25:40,440
the variables making sure that packages

465
00:25:35,559 --> 00:25:40,440
are installed<font color="#CCCCCC"> afterwards the discovery</font>

466
00:25:41,070 --> 00:25:47,820
here it's<font color="#E5E5E5"> done and here detects the</font>

467
00:25:45,299 --> 00:25:51,059
Python interpreter<font color="#E5E5E5"> and set it to version</font>

468
00:25:47,820 --> 00:25:56,299
free for two machines<font color="#CCCCCC"> one to</font><font color="#E5E5E5"> two because</font>

469
00:25:51,059 --> 00:26:00,600
it's a<font color="#E5E5E5"> real 74</font><font color="#CCCCCC"> now we have the discovery</font>

470
00:25:56,299 --> 00:26:03,149
and<font color="#CCCCCC"> it's quick so there there</font><font color="#E5E5E5"> are</font><font color="#CCCCCC"> lots</font>

471
00:26:00,600 --> 00:26:05,580
of skip things because OTP has been

472
00:26:03,149 --> 00:26:09,168
disabled right now here<font color="#CCCCCC"> but you can</font>

473
00:26:05,580 --> 00:26:11,908
<font color="#E5E5E5">simply enable it and it will</font>

474
00:26:09,169 --> 00:26:16,590
automatically detect it and<font color="#E5E5E5"> so on and</font><font color="#CCCCCC"> if</font>

475
00:26:11,909 --> 00:26:18,659
you have<font color="#CCCCCC"> a</font><font color="#E5E5E5"> working cow be 5</font><font color="#CCCCCC"> of KL by</font><font color="#E5E5E5"> 5</font>

476
00:26:16,590 --> 00:26:19,850
key<font color="#CCCCCC"> tap from a previous</font><font color="#E5E5E5"> installation it</font>

477
00:26:18,659 --> 00:26:25,470
will<font color="#E5E5E5"> pick it up</font>

478
00:26:19,850 --> 00:26:26,759
automatically<font color="#E5E5E5"> we don't so any was</font>

479
00:26:25,470 --> 00:26:31,289
sitting up a server and<font color="#CCCCCC"> three clients</font>

480
00:26:26,759 --> 00:26:34,559
<font color="#E5E5E5">and replica will be</font><font color="#CCCCCC"> edit</font><font color="#E5E5E5"> in some weeks</font>

481
00:26:31,289 --> 00:26:38,360
hopefully as<font color="#CCCCCC"> soon as we have been able</font>

482
00:26:34,559 --> 00:26:38,360
<font color="#E5E5E5">to sort out why we can kill the server</font>

483
00:26:38,659 --> 00:26:44,570
<font color="#E5E5E5">okay</font><font color="#CCCCCC"> so do</font><font color="#E5E5E5"> you have any questions yes</font>

484
00:26:49,990 --> 00:26:57,820
<font color="#E5E5E5">without</font><font color="#CCCCCC"> especially</font><font color="#E5E5E5"> with clients I'd like</font>

485
00:26:52,880 --> 00:26:57,820
to just use<font color="#E5E5E5"> something like the</font><font color="#CCCCCC"> sp</font>

486
00:27:00,500 --> 00:27:08,780
<font color="#E5E5E5">like to try to excel in</font>

487
00:27:10,930 --> 00:27:17,650
<font color="#E5E5E5">okay yeah I will repeat the</font><font color="#CCCCCC"> questions so</font>

488
00:27:14,980 --> 00:27:19,150
why aren't we simply using the standard

489
00:27:17,650 --> 00:27:22,900
tools that are<font color="#E5E5E5"> available in the</font>

490
00:27:19,150 --> 00:27:26,080
distributions<font color="#E5E5E5"> this is right</font><font color="#CCCCCC"> simple</font>

491
00:27:22,900 --> 00:27:27,930
<font color="#CCCCCC">because</font><font color="#E5E5E5"> we need to be able to provide</font>

492
00:27:26,080 --> 00:27:31,449
<font color="#E5E5E5">support for</font><font color="#CCCCCC"> several versions and we</font>

493
00:27:27,930 --> 00:27:35,710
<font color="#CCCCCC">already</font><font color="#E5E5E5"> have code in the Installer</font>

494
00:27:31,450 --> 00:27:39,970
<font color="#E5E5E5">scripts that are handling this</font><font color="#CCCCCC"> and to</font>

495
00:27:35,710 --> 00:27:42,370
add this into ansible itself might be<font color="#CCCCCC"> a</font>

496
00:27:39,970 --> 00:27:44,980
<font color="#CCCCCC">solution but right now as I said we are</font>

497
00:27:42,370 --> 00:27:47,020
<font color="#E5E5E5">trying</font><font color="#CCCCCC"> to be as comfortable</font><font color="#E5E5E5"> as possible</font>

498
00:27:44,980 --> 00:27:51,220
<font color="#E5E5E5">so</font><font color="#CCCCCC"> we're exactly</font><font color="#E5E5E5"> doing the same steps</font>

499
00:27:47,020 --> 00:27:57,250
<font color="#E5E5E5">with the same code and also with</font>

500
00:27:51,220 --> 00:28:00,070
<font color="#CCCCCC">different versions so I personally I do</font>

501
00:27:57,250 --> 00:28:03,960
not<font color="#E5E5E5"> want to add yet another wrapper</font>

502
00:28:00,070 --> 00:28:09,270
around<font color="#E5E5E5"> off config of whatever and so on</font>

503
00:28:03,960 --> 00:28:09,270
<font color="#CCCCCC">as it is</font><font color="#E5E5E5"> done already in the iPad code</font>

504
00:28:11,040 --> 00:28:16,870
it internally it does it yes

505
00:28:14,290 --> 00:28:21,070
internally it's using<font color="#CCCCCC"> of config and</font><font color="#E5E5E5"> so</font>

506
00:28:16,870 --> 00:28:23,679
on<font color="#E5E5E5"> but if the role itself would need to</font>

507
00:28:21,070 --> 00:28:25,419
to do<font color="#E5E5E5"> that right now</font><font color="#CCCCCC"> it might be</font>

508
00:28:23,680 --> 00:28:29,620
<font color="#CCCCCC">something that</font><font color="#E5E5E5"> we can address in the</font>

509
00:28:25,420 --> 00:28:31,740
<font color="#CCCCCC">future when we may be switching to the</font>

510
00:28:29,620 --> 00:28:34,389
three ansible installers as a default

511
00:28:31,740 --> 00:28:41,370
<font color="#E5E5E5">but right now we want</font><font color="#CCCCCC"> to</font><font color="#E5E5E5"> keep it as</font>

512
00:28:34,390 --> 00:28:41,370
close<font color="#CCCCCC"> as possible</font><font color="#E5E5E5"> together yeah</font>

513
00:28:50,700 --> 00:29:10,799
can you<font color="#E5E5E5"> repeat that</font><font color="#CCCCCC"> please I only</font><font color="#E5E5E5"> get it</font>

514
00:28:53,230 --> 00:29:10,799
off yeah it's in will be pushed<font color="#E5E5E5"> into yes</font>

515
00:29:12,000 --> 00:29:34,210
[Laughter]

516
00:29:15,330 --> 00:29:38,320
that's a good<font color="#E5E5E5"> answer yeah</font><font color="#CCCCCC"> at least this</font>

517
00:29:34,210 --> 00:29:40,510
<font color="#CCCCCC">is addressed now yeah</font><font color="#E5E5E5"> they're</font><font color="#CCCCCC"> they're</font>

518
00:29:38,320 --> 00:29:42,700
still<font color="#E5E5E5"> some there's also still some work</font>

519
00:29:40,510 --> 00:29:48,480
<font color="#E5E5E5">to be done on the ansible side to make</font>

520
00:29:42,700 --> 00:29:48,480
that possible<font color="#E5E5E5"> time off yeah</font>

521
00:29:49,180 --> 00:29:58,729
[Applause]

